var Laya=window.Laya=function($ppl){var $ppc={__internals:[],__packages:{},__classmap:{Object:Object,Function:Function,Array:Array,String:String},__sysClass:{object:"Object",array:"Array",string:"String",dictionary:"Dictionary"},__propun:{writable:!0,enumerable:!1,configurable:!0},__presubstr:String.prototype.substr,__substr:function($ppt,$ppe){return 1==arguments.length?$ppc.__presubstr.call(this,$ppt):$ppc.__presubstr.call(this,$ppt,0<$ppe?$ppe:this.length+$ppe)},__init:function($ppt){$ppt.forEach(function($ppt){$ppt.__init$&&$ppt.__init$()})},__isClass:function($ppt){return $ppt&&($ppt.__isclass||$ppt==Object||$ppt==String||$ppt==Array)},__newvec:function($ppt,$ppe){var $ppi=[];$ppi.length=$ppt;for(var $ppn=0;$ppn<$ppt;$ppn++)$ppi[$ppn]=$ppe;return $ppi},__extend:function($ppt,$ppe){for(var $ppi in $ppe){var $ppn,$ppr,$pps;$ppe.hasOwnProperty($ppi)&&($ppr=($ppn=Object.getOwnPropertyDescriptor($ppe,$ppi)).get,$pps=$ppn.set,$ppr||$pps?$ppr&&$pps?Object.defineProperty($ppt,$ppi,$ppn):($ppr&&Object.defineProperty($ppt,$ppi,$ppr),$pps&&Object.defineProperty($ppt,$ppi,$pps)):$ppt[$ppi]=$ppe[$ppi])}function $ppa(){$ppc.un(this,"constructor",$ppt)}$ppa.prototype=$ppe.prototype,$ppt.prototype=new $ppa,$ppc.un($ppt.prototype,"__imps",$ppc.__copy({},$ppe.prototype.__imps))},__copy:function($ppt,$ppe){if(!$ppe)return null;for(var $ppi in $ppt=$ppt||{},$ppe)$ppt[$ppi]=$ppe[$ppi];return $ppt},__package:function($ppt,$ppe){if(!$ppc.__packages[$ppt]){$ppc.__packages[$ppt]=!0;var $ppi=$ppl,$ppn=$ppt.split(".");if(1<$ppn.length)for(var $ppr=0,$pps=$ppn.length-1;$ppr<$pps;$ppr++){var $ppa=$ppi[$ppn[$ppr]];$ppi=$ppa||($ppi[$ppn[$ppr]]={})}$ppi[$ppn[$ppn.length-1]]||($ppi[$ppn[$ppn.length-1]]=$ppe||{})}},__hasOwnProperty:function($ppt,$ppe){return $ppe=$ppe||this,Object.hasOwnProperty.call($ppe,$ppt)||function $ppt($ppe,$ppi){if(Object.hasOwnProperty.call($ppi.prototype,$ppe))return!0;$ppi=$ppi.prototype.__super;return null==$ppi?null:$ppt($ppe,$ppi)}($ppt,$ppe.__class)},__typeof:function($ppt,$ppe){if(!$ppt||!$ppe)return!1;if($ppe===String)return"string"==typeof $ppt;if($ppe===Number)return"number"==typeof $ppt;if($ppe.__interface__)$ppe=$ppe.__interface__;else if("string"!=typeof $ppe)return $ppt instanceof $ppe;return $ppt.__imps&&$ppt.__imps[$ppe]||$ppt.__class==$ppe},__as:function($ppt,$ppe){return this.__typeof($ppt,$ppe)?$ppt:null},__int:function($ppt){return $ppt?parseInt($ppt):0},interface:function($ppt,$ppe){$ppc.__package($ppt,{});var $ppi=$ppc.__internals;var $ppn=$ppi[$ppt]=$ppi[$ppt]||{self:$ppt};if($ppe){var $ppr=$ppe.split(",");$ppn.extend=[];for(var $pps=0;$pps<$ppr.length;$pps++){var $ppa=$ppr[$pps];$ppi[$ppa]=$ppi[$ppa]||{self:$ppa},$ppn.extend.push($ppi[$ppa])}}var $ppo=$ppl,$pph=$ppt.split(".");for($pps=0;$pps<$pph.length-1;$pps++)$ppo=$ppo[$pph[$pps]];$ppo[$pph[$pph.length-1]]={__interface__:$ppt}},class:function($ppt,$ppe,$ppi,$ppn){$ppi&&$ppc.__extend($ppt,$ppi),$ppe&&($ppc.__package($ppe,$ppt),$ppc.__classmap[$ppe]=$ppt,0<$ppe.indexOf(".")?0==$ppe.indexOf("laya.")&&($ppr=$ppe.split("."),$ppn=$ppn||$ppr[$ppr.length-1],$ppc[$ppn]&&console.log("Warning!,this class["+$ppn+"] already exist:",$ppc[$ppn]),$ppc[$ppn]=$ppt):"Main"==$ppe?$ppl.Main=$ppt:($ppc[$ppe]&&console.log("Error!,this class["+$ppe+"] already exist:",$ppc[$ppe]),$ppc[$ppe]=$ppt));var $ppr=$ppc.un,$ppn=$ppt.prototype;$ppr($ppn,"hasOwnProperty",$ppc.__hasOwnProperty),$ppr($ppn,"__class",$ppt),$ppr($ppn,"__super",$ppi),$ppr($ppn,"__className",$ppe),$ppr($ppt,"__super",$ppi),$ppr($ppt,"__className",$ppe),$ppr($ppt,"__isclass",!0),$ppr($ppt,"super",function($ppt){this.__super.call($ppt)})},imps:function($ppt,$ppe){if(!$ppe)return null;var $pps=$ppt.__imps||$ppc.un($ppt,"__imps",{});for(var $ppi in $ppe)!function $ppt($ppe){var $ppi,$ppn;if(($ppi=$ppc.__internals[$ppe])&&($pps[$ppe]=!0,$ppn=$ppi.extend))for(var $ppr=0;$ppr<$ppn.length;$ppr++)$ppt($ppn[$ppr].self)}($ppi)},superSet:function($ppt,$ppe,$ppi,$ppn){$ppt=$ppt.prototype["_$set_"+$ppi];$ppt&&$ppt.call($ppe,$ppn)},superGet:function($ppt,$ppe,$ppi){$ppt=$ppt.prototype["_$get_"+$ppi];return $ppt?$ppt.call($ppe):null},getset:function($ppt,$ppe,$ppi,$ppn,$ppr){$ppt?($ppn&&($ppe["_$GET_"+$ppi]=$ppn),$ppr&&($ppe["_$SET_"+$ppi]=$ppr)):($ppn&&$ppc.un($ppe,"_$get_"+$ppi,$ppn),$ppr&&$ppc.un($ppe,"_$set_"+$ppi,$ppr)),$ppn&&$ppr?Object.defineProperty($ppe,$ppi,{get:$ppn,set:$ppr,enumerable:!1,configurable:!0}):($ppn&&Object.defineProperty($ppe,$ppi,{get:$ppn,enumerable:!1,configurable:!0}),$ppr&&Object.defineProperty($ppe,$ppi,{set:$ppr,enumerable:!1,configurable:!0}))},static:function($ppi,$ppn){for(var $ppr=0,$ppt=$ppn.length;$ppr<$ppt;$ppr+=2)"length"==$ppn[$ppr]?$ppi.length=$ppn[$ppr+1].call($ppi):function(){var $ppe=$ppn[$ppr];var $ppt=$ppn[$ppr+1];Object.defineProperty($ppi,$ppe,{get:function(){return delete this[$ppe],this[$ppe]=$ppt.call(this)},set:function($ppt){delete this[$ppe],this[$ppe]=$ppt},enumerable:!0,configurable:!0})}()},un:function($ppt,$ppe,$ppi){return $ppi=$ppi||$ppt[$ppe],$ppc.__propun.value=$ppi,Object.defineProperty($ppt,$ppe,$ppc.__propun),$ppi},uns:function($ppe,$ppt){$ppt.forEach(function($ppt){$ppc.un($ppe,$ppt)})}};return $ppl.console=$ppl.console||{log:function(){}},$ppl.trace=$ppl.console.log,Error.prototype.throwError=function(){throw arguments},Object.defineProperty(Array.prototype,"fixed",{enumerable:!1}),$ppc}(window,document);window,document,Laya.un,Laya.uns,Laya.static,Laya.class,Laya.getset,Laya.__newvec,function($pps,$pph,$ppw){$ppw.un,$ppw.uns;var $ppl=$ppw.static,$ppc=$ppw.class,$ppt=$ppw.getset;$ppw.__newvec;$ppw.interface("laya.runtime.IMarket"),$ppw.interface("laya.filters.IFilter"),$ppw.interface("laya.display.ILayout"),$ppw.interface("laya.resource.IDispose"),$ppw.interface("laya.runtime.IPlatform"),$ppw.interface("laya.resource.IDestroy"),$ppw.interface("laya.runtime.IConchNode"),$ppw.interface("laya.filters.IFilterAction"),$ppw.interface("laya.runtime.ICPlatformClass"),$ppw.interface("laya.resource.ICreateResource"),$ppw.interface("laya.runtime.IConchRenderObject"),$ppw.interface("laya.runtime.IPlatformClass","laya.runtime.IPlatform");$ppc($ppu,"laya.utils.RunDriver"),$ppu.FILTER_ACTIONS=[],$ppu.pixelRatio=-1,$ppu._charSizeTestDiv=null,$ppu.now=function(){return Date.now()},$ppu.getWindow=function(){return $pps},$ppu.getPixelRatio=function(){var $ppt;return $ppu.pixelRatio<0&&($ppt=($ppt=$ppC.context).backingStorePixelRatio||$ppt.webkitBackingStorePixelRatio||$ppt.mozBackingStorePixelRatio||$ppt.msBackingStorePixelRatio||$ppt.oBackingStorePixelRatio||$ppt.backingStorePixelRatio||1,($ppu.pixelRatio=($ppC.window.devicePixelRatio||1)/$ppt)<1&&($ppu.pixelRatio=1)),$ppu.pixelRatio},$ppu.getIncludeStr=function($ppt){return null},$ppu.createShaderCondition=function($ppt){return $ppw._runScript("(function() {return "+$ppt+";})")},$ppu.fontMap=[],$ppu.measureText=function($ppt,$ppe){var $ppi=$ppu.hanzi.test($ppt);if($ppi&&$ppu.fontMap[$ppe])return $ppu.fontMap[$ppe];var $ppn=$ppC.context;$ppn.font=$ppe;$ppn=$ppn.measureText($ppt);return $ppi&&($ppu.fontMap[$ppe]=$ppn),$ppn},$ppu.getWebGLContext=function($ppt){},$ppu.beginFlush=function(){},$ppu.endFinish=function(){},$ppu.addToAtlas=null,$ppu.flashFlushImage=function($ppt){},$ppu.drawToCanvas=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){var $ppa=$ppZe.create("2D");$ppi=new $ppgt($ppi,$ppn,$ppa);return $ppyt.renders[$ppe]._fun($ppt,$ppi,$ppr,$pps),$ppa},$ppu.createParticleTemplate2D=null,$ppu.createGLTextur=null,$ppu.createWebGLContext2D=null,$ppu.changeWebGLSize=function($ppt,$ppe){},$ppu.createRenderSprite=function($ppt,$ppe){return new $ppyt($ppt,$ppe)},$ppu.createFilterAction=function($ppt){return new $ppX},$ppu.createGraphics=function(){return new $ppI},$ppu.clear=function($ppt){$ppS._context.ctx.clear()},$ppu.cancelLoadByUrl=function($ppt){},$ppu.clearAtlas=function($ppt){},$ppu.isAtlas=function($ppt){return!1},$ppu.addTextureToAtlas=function($ppt){},$ppu.getTexturePixels=function($ppt,$ppe,$ppi,$ppn,$ppr){return null},$ppu.skinAniSprite=function(){return null},$ppu.update3DLoop=function(){},$ppl($ppu,["hanzi",function(){return this.hanzi=new RegExp("^[一-龥]$")}]);var $ppm=$ppu;function $ppu(){}$ppt(1,$ppw,"alertGlobalError",null,function($ppt){var $pps=0;$ppC.window.onerror=$ppt?function($ppt,$ppe,$ppi,$ppn,$ppr){$pps++<5&&$ppr&&alert($ppr.stack||$ppr)}:null}),$ppw.init=function($ppt,$ppe,$ppi){var $ppn=[];for(var $ppr=2,$pps=arguments.length;$ppr<$pps;$ppr++)$ppn.push(arguments[$ppr]);if(!$ppw._isinit){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=$ppw._arrayBufferSlice),$ppw._isinit=!0,$ppC.__init__(),$ppwt.__init__(),$ppI.__init__(),$ppw.timer=new $ppKt,$ppw.scaleTimer=new $ppKt,$ppw.loader=new $ppbe,$ppne.__init__();for(var $ppr=0,$ppa=$ppn.length;$ppr<$ppa;$ppr++)$ppn[$ppr].enable&&$ppn[$ppr].enable();return $ppM.__init__(),$ppb.__init__(),$ppTt.__init__(),$ppAt.beginCheck(),$ppw._currentStage=$ppw.stage=new $ppXe,$ppw.stage.conchModel&&$ppw.stage.conchModel.setRootNode(),$ppw._getUrlPath(),$ppw.render=new $ppS(0,0),$ppw.stage.size($ppt,$ppe),$ppyt.__init__(),$ppF.__init__(),$ppU.instance.__init__($ppw.stage,$ppS.canvas),$ppsi.__init__(),$ppot.autoStopMusic=!0,$ppht.__init__(),$ppS.canvas}},$ppw._getUrlPath=function(){var $ppt=$ppC.window.location;var $ppe=$ppt.pathname;$ppe=":"==$ppe.charAt(2)?$ppe.substring(1):$ppe,$ppft.rootPath=$ppft.basePath=$ppft.getPath("file:"==$ppt.protocol?$ppe:$ppt.protocol+"//"+$ppt.host+$ppt.pathname)},$ppw._arrayBufferSlice=function($ppt,$ppe){$ppe=new Uint8Array(this,$ppt,$ppe-$ppt);$ppt=new Uint8Array($ppe.length);return $ppt.set($ppe),$ppt.buffer},$ppw._runScript=function($ppt){return $ppC.window[$ppw._evcode]($ppt)},$ppw.stage=null,$ppw.timer=null,$ppw.scaleTimer=null,$ppw.loader=null,$ppw.version="1.7.20.1beta",$ppw.render=null,$ppw._currentStage=null,$ppw._isinit=!1,$ppw.MiniAdpter={init:function(){$pps.navigator&&$pps.navigator.userAgent&&-1<$pps.navigator.userAgent.indexOf("MiniGame")&&console.error("请先引用小游戏适配库laya.wxmini.js,详细教程：https://ldc.layabox.com/doc/?nav=zh-ts-5-0-0")}},$ppl($ppw,["conchMarket",function(){return this.conchMarket=$pps.conch?conchMarket:null},"PlatformClass",function(){return this.PlatformClass=$pps.PlatformClass},"_evcode",function(){return this._evcode="e"+String.fromCharCode(118)+"al"}]);$ppc($ppd,"Config"),$ppd.WebGLTextCacheCount=500,$ppd.atlasEnable=!1,$ppd.showCanvasMark=!1,$ppd.animationInterval=50,$ppd.isAntialias=!1,$ppd.isAlpha=!1,$ppd.premultipliedAlpha=!0,$ppd.isStencil=!0,$ppd.preserveDrawingBuffer=!1;var $pp_=$ppd;function $ppd(){}$ppc($ppp,"laya.events.EventDispatcher"),($ppi=$ppp.prototype).hasListener=function($ppt){return!!(this._events&&this._events[$ppt])},$ppi.event=function($ppt,$ppe){if(!this._events||!this._events[$ppt])return!1;var $ppi=this._events[$ppt];if($ppi.lock)$ppi.queue||($ppi.queue=[]),$ppi.queue.push($ppe);else{var $ppn;for($ppi.lock=!0,$ppi.cursor=$ppi.head;$ppi.cursor;)$ppn=$ppi.cursor,$ppi.cursor=$ppn.next,$ppn.once&&$ppp.delNode($ppi,$ppn),null!=$ppe?$ppn.args?$ppn.method.apply($ppn.caller,$ppn.args.concat($ppe)):$ppe instanceof Array?$ppn.method.apply($ppn.caller,$ppe):$ppn.method.call($ppn.caller,$ppe):$ppn.method.apply($ppn.caller,$ppn.args),$ppn.once&&$ppp.recoverHandler($ppn);$ppi.lock=!1,!$ppi.head&&this._events&&this._events[$ppt]==$ppi&&delete this._events[$ppt],$ppi.queue&&$ppi.queue.length&&this.event($ppt,$ppi.queue.shift())}return!0},$ppi.on=function($ppt,$ppe,$ppi,$ppn){return this._createListener($ppt,$ppe,$ppi,$ppn,!1)},$ppi.once=function($ppt,$ppe,$ppi,$ppn){return this._createListener($ppt,$ppe,$ppi,$ppn,!0)},$ppi._createListener=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){($pps=void 0===$pps?!0:$pps)&&this.off($ppt,$ppe,$ppi,$ppr);$pps=$ppp.createHandler($ppe||this,$ppi,$ppn,$ppr);this._events||(this._events={});$ppe=this._events;$ppi=$ppe[$ppt];return $ppi?$ppi.tail?($pps.prev=$ppi.tail,$ppi.tail.next=$pps,$ppi.tail=$pps):$ppi.head=$ppi.tail=$pps:$ppe[$ppt]={head:$pps,tail:$pps,cursor:null,lock:!1},this},$ppi.off=function($ppt,$ppe,$ppi,$ppn){if(void 0===$ppn&&($ppn=!1),!this._events||!this._events[$ppt])return this;var $ppr=this._events[$ppt];var $pps=$ppr.head;for(;$pps;){if((!$ppe||$pps.caller===$ppe)&&$pps.method===$ppi&&(!$ppn||$pps.once)){$ppp.delNode($ppr,$pps),$ppr.cursor==$pps&&($ppr.cursor=$pps.next),$ppp.recoverHandler($pps);break}$pps=$pps.next}return this},$ppi.offAll=function($ppt){var $ppe=this._events;if(!$ppe)return this;if($ppt)this._recoverHandlers($ppe[$ppt]),delete $ppe[$ppt];else{for(var $ppi in $ppe)this._recoverHandlers($ppe[$ppi]);this._events=null}return this},$ppi._recoverHandlers=function($ppt){if($ppt){var $ppe=$ppt.head;for(;$ppe;){$ppp.delNode($ppt,$ppe);var $ppi=$ppe.next;$ppp.recoverHandler($ppe),$ppe=$ppi}$ppt.cursor=null}},$ppi.isMouseEvent=function($ppt){return $ppp.MOUSE_EVENTS[$ppt]},$ppp.MOUSE_EVENTS={rightmousedown:!0,rightmouseup:!0,rightclick:!0,mousedown:!0,mouseup:!0,mousemove:!0,mouseover:!0,mouseout:!0,click:!0,doubleclick:!0},$ppp.__init$=function(){Object.defineProperty(laya.events.EventDispatcher.prototype,"_events",{enumerable:!1,writable:!0})},$ppp.delNode=function($ppt,$ppe){$ppe.prev?$ppe.prev.next=$ppe.next:$ppt.head=$ppe.next,$ppe.next?$ppe.next.prev=$ppe.prev:$ppt.tail=$ppe.prev},$ppp.createHandler=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppp._freeHandler;return $ppr?($ppp._freeCount--,$ppp._freeHandler=$ppr.next,$ppr.caller=$ppt,$ppr.method=$ppe,$ppr.args=$ppi,$ppr.once=$ppn):$ppr={caller:$ppt,method:$ppe,args:$ppi,once:$ppn},$ppr.prev=$ppr.next=null,$ppr},$ppp.recoverHandler=function($ppt){$ppt.caller=$ppt.method=$ppt.args=$ppt.prev=null,$ppt.next=$ppp._freeHandler,$ppp._freeHandler=$ppt,$ppp._freeCount++},$ppp._freeHandler=null,$ppp._freeCount=0;var $ppf=$ppp;function $ppp(){this._events=null}$ppc($ppg,"laya.utils.Handler"),($ppi=$ppg.prototype).setTo=function($ppt,$ppe,$ppi,$ppn){return this._id=$ppg._gid++,this.caller=$ppt,this.method=$ppe,this.args=$ppi,this.once=$ppn,this},$ppi.run=function(){if(null==this.method)return null;var $ppt=this._id;var $ppe=this.method.apply(this.caller,this.args);return this._id===$ppt&&this.once&&this.recover(),$ppe},$ppi.runWith=function($ppt){if(null==this.method)return null;var $ppe=this._id;return $ppt=null==$ppt?this.method.apply(this.caller,this.args):this.args||$ppt.unshift?this.args?this.method.apply(this.caller,this.args.concat($ppt)):this.method.apply(this.caller,$ppt):this.method.call(this.caller,$ppt),this._id===$ppe&&this.once&&this.recover(),$ppt},$ppi.clear=function(){return this.caller=null,this.method=null,this.args=null,this},$ppi.recover=function(){0<this._id&&(this._id=0,this.clear())},$ppg.create=function($ppt,$ppe,$ppi,$ppn){return new $ppg($ppt,$ppe,$ppi,$ppn=void 0===$ppn?!0:$ppn)},$ppg._gid=1;var $ppv=$ppg;function $ppg($ppt,$ppe,$ppi,$ppn){this.once=!1,this._id=0,this.setTo($ppt,$ppe,$ppi,$ppn=void 0===$ppn?!1:$ppn)}$ppc($ppx,"laya.display.BitmapFont"),($ppi=$ppx.prototype).loadFont=function($ppt,$ppe){this._path=$ppt,this._complete=$ppe,$ppw.loader.load([{url:this._path,type:"xml"},{url:this._path.replace(".fnt",".png"),type:"image"}],$ppv.create(this,this.onLoaded))},$ppi.onLoaded=function(){this.parseFont($ppxe.getRes(this._path),$ppxe.getRes(this._path.replace(".fnt",".png"))),this._complete&&this._complete.runWith(this._texture?this:null)},$ppi.parseFont=function($ppt,$ppe){if(null!=$ppt&&null!=$ppe){this._texture=$ppe;var $ppi=$ppt.getElementsByTagName("info");if(!$ppi[0].getAttributeNode)return this.parseFont2($ppt,$ppe);this.fontSize=parseInt($ppi[0].getAttributeNode("size").nodeValue);$ppi=$ppi[0].getAttributeNode("padding").nodeValue.split(",");var $ppn;this._padding=[parseInt($ppi[0]),parseInt($ppi[1]),parseInt($ppi[2]),parseInt($ppi[3])],$ppn=$ppt.getElementsByTagName("char");var $ppr=0;for($ppr=0;$ppr<$ppn.length;$ppr++){var $pps=$ppn[$ppr];var $ppa=parseInt($pps.getAttributeNode("id").nodeValue);var $ppo=+parseInt($pps.getAttributeNode("xoffset").nodeValue);var $ppc=+parseInt($pps.getAttributeNode("yoffset").nodeValue);var $pph=+parseInt($pps.getAttributeNode("xadvance").nodeValue);var $ppl=new $ppst;$ppl.x=parseInt($pps.getAttributeNode("x").nodeValue),$ppl.y=parseInt($pps.getAttributeNode("y").nodeValue),$ppl.width=parseInt($pps.getAttributeNode("width").nodeValue),$ppl.height=parseInt($pps.getAttributeNode("height").nodeValue);$pps=$ppAe.create($ppe,$ppl.x,$ppl.y,$ppl.width,$ppl.height,$ppo,$ppc);this._maxWidth=Math.max(this._maxWidth,$pph+this.letterSpacing),this._fontCharDic[$ppa]=$pps,this._fontWidthMap[$ppa]=$pph}}},$ppi.parseFont2=function($ppt,$ppe){if(null!=$ppt&&null!=$ppe){this._texture=$ppe;var $ppi=$ppt.getElementsByTagName("info");this.fontSize=parseInt($ppi[0].attributes.size.nodeValue);$ppi=$ppi[0].attributes.padding.nodeValue.split(",");this._padding=[parseInt($ppi[0]),parseInt($ppi[1]),parseInt($ppi[2]),parseInt($ppi[3])];var $ppn=$ppt.getElementsByTagName("char");var $ppr=0;for($ppr=0;$ppr<$ppn.length;$ppr++){var $pps=$ppn[$ppr].attributes;var $ppa=parseInt($pps.id.nodeValue);var $ppo=+parseInt($pps.xoffset.nodeValue);var $ppc=+parseInt($pps.yoffset.nodeValue);var $pph=+parseInt($pps.xadvance.nodeValue);var $ppl=new $ppst;$ppl.x=parseInt($pps.x.nodeValue),$ppl.y=parseInt($pps.y.nodeValue),$ppl.width=parseInt($pps.width.nodeValue),$ppl.height=parseInt($pps.height.nodeValue);$pps=$ppAe.create($ppe,$ppl.x,$ppl.y,$ppl.width,$ppl.height,$ppo,$ppc);this._maxWidth=Math.max(this._maxWidth,$pph+this.letterSpacing),this._fontCharDic[$ppa]=$pps,this._fontWidthMap[$ppa]=$pph}}},$ppi.getCharTexture=function($ppt){return this._fontCharDic[$ppt.charCodeAt(0)]},$ppi.destroy=function(){if(this._texture){for(var $ppt in this._fontCharDic){$ppt=this._fontCharDic[$ppt];$ppt&&$ppt.destroy()}this._texture.destroy(),this._fontCharDic=null,this._fontWidthMap=null,this._texture=null}},$ppi.setSpaceWidth=function($ppt){this._spaceWidth=$ppt},$ppi.getCharWidth=function($ppt){var $ppe=$ppt.charCodeAt(0);return this._fontWidthMap[$ppe]?this._fontWidthMap[$ppe]+this.letterSpacing:" "==$ppt?this._spaceWidth+this.letterSpacing:0},$ppi.getTextWidth=function($ppt){var $ppe=0;for(var $ppi=0,$ppn=$ppt.length;$ppi<$ppn;$ppi++)$ppe+=this.getCharWidth($ppt.charAt($ppi));return $ppe},$ppi.getMaxWidth=function(){return this._maxWidth},$ppi.getMaxHeight=function(){return this.fontSize},$ppi.drawText=function($ppt,$ppe,$ppi,$ppc,$ppn,$ppr){var $pps=this.getTextWidth($ppt);var $ppa;var $ppo=0;"center"===$ppn&&($ppo=($ppr-$pps)/2),"right"===$ppn&&($ppo=$ppr-$pps);var $pph=0;for(var $ppl=0,$ppu=$ppt.length;$ppl<$ppu;$ppl++)($ppa=this.getCharTexture($ppt.charAt($ppl)))&&($ppe.graphics.drawTexture($ppa,$ppi+$pph+$ppo,$ppc),$pph+=this.getCharWidth($ppt.charAt($ppl)))};var $ppy=$ppx;function $ppx(){this._texture=null,this._fontCharDic={},this._fontWidthMap={},this._complete=null,this._path=null,this._maxWidth=0,this._spaceWidth=10,this._padding=null,this.fontSize=12,this.autoScaleSize=!1,this.letterSpacing=0}$ppc($ppT,"laya.display.css.Style"),($ppi=$ppT.prototype).getTransform=function(){return this._tf},$ppi.setTransform=function($ppt){this._tf="none"!==$ppt&&$ppt?$ppt:$ppT._TF_EMPTY},$ppi.setTranslateX=function($ppt){this._tf===$ppT._TF_EMPTY&&(this._tf=new $ppA),this._tf.translateX=$ppt},$ppi.setTranslateY=function($ppt){this._tf===$ppT._TF_EMPTY&&(this._tf=new $ppA),this._tf.translateY=$ppt},$ppi.setScaleX=function($ppt){this._tf===$ppT._TF_EMPTY&&(this._tf=new $ppA),this._tf.scaleX=$ppt},$ppi.setScale=function($ppt,$ppe){this._tf===$ppT._TF_EMPTY&&(this._tf=new $ppA),this._tf.scaleX=$ppt,this._tf.scaleY=$ppe},$ppi.setScaleY=function($ppt){this._tf===$ppT._TF_EMPTY&&(this._tf=new $ppA),this._tf.scaleY=$ppt},$ppi.setRotate=function($ppt){this._tf===$ppT._TF_EMPTY&&(this._tf=new $ppA),this._tf.rotate=$ppt},$ppi.setSkewX=function($ppt){this._tf===$ppT._TF_EMPTY&&(this._tf=new $ppA),this._tf.skewX=$ppt},$ppi.setSkewY=function($ppt){this._tf===$ppT._TF_EMPTY&&(this._tf=new $ppA),this._tf.skewY=$ppt},$ppi.destroy=function(){this.scrollRect=null},$ppi.render=function($ppt,$ppe,$ppi,$ppn){},$ppi.getCSSStyle=function(){return $pple.EMPTY},$ppi._enableLayout=function(){return!1},$ppt(0,$ppi,"scaleX",function(){return this._tf.scaleX},function($ppt){this.setScaleX($ppt)}),$ppt(0,$ppi,"transform",function(){return this.getTransform()},function($ppt){this.setTransform($ppt)}),$ppt(0,$ppi,"translateX",function(){return this._tf.translateX},function($ppt){this.setTranslateX($ppt)}),$ppt(0,$ppi,"translateY",function(){return this._tf.translateY},function($ppt){this.setTranslateY($ppt)}),$ppt(0,$ppi,"scaleY",function(){return this._tf.scaleY},function($ppt){this.setScaleY($ppt)}),$ppt(0,$ppi,"block",function(){return 0!=(1&this._type)}),$ppt(0,$ppi,"skewY",function(){return this._tf.skewY},function($ppt){this.setSkewY($ppt)}),$ppt(0,$ppi,"rotate",function(){return this._tf.rotate},function($ppt){this.setRotate($ppt)}),$ppt(0,$ppi,"skewX",function(){return this._tf.skewX},function($ppt){this.setSkewX($ppt)}),$ppt(0,$ppi,"paddingLeft",function(){return 0}),$ppt(0,$ppi,"paddingTop",function(){return 0}),$ppt(0,$ppi,"absolute",function(){return!0}),$ppT.__init__=function(){$ppT._TF_EMPTY=new $ppA,$ppT.EMPTY=new $ppT},$ppT.EMPTY=null,$ppT._TF_EMPTY=null;var $ppb=$ppT;function $ppT(){this.alpha=1,this.visible=!0,this.scrollRect=null,this.blendMode=null,this._type=0,this._tf=$ppT._TF_EMPTY}$ppc($ppE,"laya.display.css.Font"),($ppi=$ppE.prototype).set=function($ppt){this._text=null;var $ppe=$ppt.split(" ");for(var $ppi=0,$ppn=$ppe.length;$ppi<$ppn;$ppi++){var $ppr=$ppe[$ppi];switch($ppr){case"italic":this.italic=!0;continue;case"bold":this.bold=!0;continue}0<$ppr.indexOf("px")&&(this.size=parseInt($ppr),this.family=$ppe[$ppi+1],$ppi++)}},$ppi.toString=function(){return this._text="",this.italic&&(this._text+="italic "),this.bold&&(this._text+="bold "),this._text+=this.size+"px "+this.family},$ppi.copyTo=function($ppt){$ppt._type=this._type,$ppt._text=this._text,$ppt._weight=this._weight,$ppt._color=this._color,$ppt.family=this.family,$ppt.stroke=this.stroke!=$ppE._STROKE?this.stroke.slice():$ppE._STROKE,$ppt.indent=this.indent,$ppt.size=this.size},$ppt(0,$ppi,"password",function(){return 0!=(1024&this._type)},function($ppt){$ppt?this._type|=1024:this._type&=-1025}),$ppt(0,$ppi,"color",function(){return this._color.strColor},function($ppt){this._color=$ppPt.create($ppt)}),$ppt(0,$ppi,"italic",function(){return 0!=(512&this._type)},function($ppt){$ppt?this._type|=512:this._type&=-513}),$ppt(0,$ppi,"bold",function(){return 0!=(2048&this._type)},function($ppt){$ppt?this._type|=2048:this._type&=-2049}),$ppt(0,$ppi,"weight",function(){return""+this._weight},function($ppt){var $ppe=0;switch($ppt){case"normal":break;case"bold":this.bold=!0,$ppe=700;break;case"bolder":$ppe=800;break;case"lighter":$ppe=100;break;default:$ppe=parseInt($ppt)}this._weight=$ppe,this._text=null}),$ppt(0,$ppi,"decoration",function(){return this._decoration?this._decoration.value:null},function($ppt){var $ppe=$ppt.split(" ");switch(this._decoration||(this._decoration={}),$ppe[0]){case"_":this._decoration.type="underline";break;case"-":this._decoration.type="line-through";break;case"overline":this._decoration.type="overline";break;default:this._decoration.type=$ppe[0]}$ppe[1]&&(this._decoration.color=$ppPt.create($ppe)),this._decoration.value=$ppt}),$ppE.__init__=function(){$ppE.EMPTY=new $ppE(null)},$ppE.EMPTY=null,$ppE.defaultColor="#000000",$ppE.defaultSize=12,$ppE.defaultFamily="Arial",$ppE.defaultFont="12px Arial",$ppE._STROKE=[0,"#000000"],$ppE._ITALIC=512,$ppE._PASSWORD=1024,$ppE._BOLD=2048;var $ppM=$ppE;function $ppE($ppt){this._type=0,this._weight=0,this._decoration=null,this._text=null,this.indent=0,this._color=$ppPt.create($ppE.defaultColor),this.family=$ppE.defaultFamily,this.stroke=$ppE._STROKE,this.size=$ppE.defaultSize,$ppt&&$ppt!==$ppE.EMPTY&&$ppt.copyTo(this)}$ppc($ppD,"laya.display.css.TransformInfo");var $ppA=$ppD;function $ppD(){this.translateX=0,this.translateY=0,this.scaleX=1,this.scaleY=1,this.rotate=0,this.skewX=0,this.skewY=0}$ppc($ppR,"laya.display.Graphics"),($ppi=$ppR.prototype).destroy=function(){this.clear(),this._graphicBounds&&this._graphicBounds.destroy(),this._graphicBounds=null,this._vectorgraphArray=null,this._sp&&(this._sp._renderType=0),this._sp=null},$ppi.clear=function($ppt){var $ppe=0,$ppi=0;if($ppt=void 0===$ppt?!1:$ppt){var $ppn=this._one;if(this._cmds){for($ppi=this._cmds.length,$ppe=0;$ppe<$ppi;$ppe++)!($ppn=this._cmds[$ppe])||$ppn.callee!==$ppS._context._drawTexture&&$ppn.callee!==$ppS._context._drawTextureWithTransform||($ppn[0]=null,$ppR._cache.push($ppn));this._cmds.length=0}else $ppn&&($ppn.callee!==$ppS._context._drawTexture&&$ppn.callee!==$ppS._context._drawTextureWithTransform||($ppn[0]=null,$ppR._cache.push($ppn)))}else this._cmds=null;if(this._one=null,this._render=this._renderEmpty,this._sp&&(this._sp._renderType&=-514),this._repaint(),this._vectorgraphArray){for($ppe=0,$ppi=this._vectorgraphArray.length;$ppe<$ppi;$ppe++)$ppee.getInstance().deleteShape(this._vectorgraphArray[$ppe]);this._vectorgraphArray.length=0}},$ppi._clearBoundsCache=function(){this._graphicBounds&&this._graphicBounds.reset()},$ppi._initGraphicBounds=function(){this._graphicBounds||(this._graphicBounds=new $ppP,this._graphicBounds._graphics=this)},$ppi._repaint=function(){this._clearBoundsCache(),this._sp&&this._sp.repaint()},$ppi._isOnlyOne=function(){return!this._cmds||0===this._cmds.length},$ppi.getBounds=function($ppt){return void 0===$ppt&&($ppt=!1),this._initGraphicBounds(),this._graphicBounds.getBounds($ppt)},$ppi.getBoundPoints=function($ppt){return void 0===$ppt&&($ppt=!1),this._initGraphicBounds(),this._graphicBounds.getBoundPoints($ppt)},$ppi._addCmd=function($ppt){this._cmds=this._cmds||[],$ppt.callee=$ppt.shift(),this._cmds.push($ppt)},$ppi.setFilters=function($ppt){this._saveToCmd($ppS._context._setFilters,$ppt)},$ppi.drawTexture=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){if(void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0),void 0===$ppa&&($ppa=1),!$ppt||$ppa<.01)return null;$ppn=($ppn=void 0===$ppn?0:$ppn)||$ppt.sourceWidth,$ppr=($ppr=void 0===$ppr?0:$ppr)||$ppt.sourceHeight,$ppa=$ppa<0?0:1<$ppa?1:$ppa;var $ppo=!$ppS.isWebGL&&($ppC.onFirefox||$ppC.onEdge||$ppC.onIE||$ppC.onSafari)?.5:0;var $pph=$ppn/$ppt.sourceWidth;var $ppc=$ppr/$ppt.sourceHeight;return $ppn=$ppt.width*$pph,$ppr=$ppt.height*$ppc,$ppt.loaded&&($ppn<=0||$ppr<=0)?null:($ppe+=$ppt.offsetX*$pph,$ppi+=$ppt.offsetY*$ppc,this._sp&&(this._sp._renderType|=512),$ppe-=$ppo,$ppi-=$ppo,$ppn+=2*$ppo,$ppr+=2*$ppo,$ppR._cache.length?(($ppl=$ppR._cache.pop())[0]=$ppt,$ppl[1]=$ppe,$ppl[2]=$ppi,$ppl[3]=$ppn,$ppl[4]=$ppr,$ppl[5]=$pps,$ppl[6]=$ppa):$ppl=[$ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa],$ppl.callee=$pps||1!=$ppa?$ppS._context._drawTextureWithTransform:$ppS._context._drawTexture,null!=this._one||$pps||1!=$ppa?this._saveToCmd($ppl.callee,$ppl):(this._one=$ppl,this._render=this._renderOneImg),$ppt.loaded||$ppt.once("loaded",this,this._textureLoaded,[$ppt,$ppl]),this._repaint(),$ppl);var $ppl},$ppi.cleanByTexture=function($ppt,$ppe,$ppi,$ppn,$ppr){if(void 0===$ppn&&($ppn=0),void 0===$ppr&&($ppr=0),!$ppt)return this.clear();var $pps,$ppa;this._one&&this._render===this._renderOneImg?($ppn=$ppn||$ppt.sourceWidth,$ppr=$ppr||$ppt.sourceHeight,$pps=$ppn/$ppt.sourceWidth,$ppa=$ppr/$ppt.sourceHeight,$ppn=$ppt.width*$pps,$ppr=$ppt.height*$ppa,$ppe+=$ppt.offsetX*$pps,$ppi+=$ppt.offsetY*$ppa,this._one[0]=$ppt,this._one[1]=$ppe,this._one[2]=$ppi,this._one[3]=$ppn,this._one[4]=$ppr,this._repaint()):(this.clear(),$ppt&&this.drawTexture($ppt,$ppe,$ppi,$ppn,$ppr))},$ppi.drawTextures=function($ppt,$ppe){$ppt&&this._saveToCmd($ppS._context._drawTextures,[$ppt,$ppe])},$ppi.fillTexture=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){void 0===$ppn&&($ppn=0),void 0===$ppr&&($ppr=0),void 0===$pps&&($pps="repeat"),$ppt&&($ppe=[$ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa||$ppnt.EMPTY,{}],$ppt.loaded||$ppt.once("loaded",this,this._textureLoaded,[$ppt,$ppe]),this._saveToCmd($ppS._context._fillTexture,$ppe))},$ppi._textureLoaded=function($ppt,$ppe){$ppe[3]=$ppe[3]||$ppt.width,$ppe[4]=$ppe[4]||$ppt.height,this._repaint()},$ppi.fillCircle=function($ppc,$ppu,$ppt,$ppe,$ppi,$pp_,$ppn){$ppt.bitmap.enableMerageInAtlas=!1;var $ppr=new Float32Array(2*($ppn+1));var $pps=new Float32Array(2*($ppn+1));var $ppa=new Uint16Array(3*$ppn);var $ppd=2*Math.PI/$ppn;var $ppo=0;$ppr[0]=$ppe,$ppr[1]=$ppi,$pps[0]=$ppe/$ppt.width,$pps[1]=$ppi/$ppt.height;var $pph=2;for(var $ppl=0;$ppl<$ppn;$ppl++){var $ppf=$pp_*Math.cos($ppo)+$ppe;var $ppp=$pp_*Math.sin($ppo)+$ppi;$ppr[$pph]=$ppf,$ppr[$pph+1]=$ppp,$pps[$pph]=$ppf/$ppt.width,$pps[$pph+1]=$ppp/$ppt.height,$ppo+=$ppd,$pph+=2}for($ppl=$pph=0;$ppl<$ppn;$ppl++)$ppa[$pph++]=0,$ppa[$pph++]=$ppl+1,$ppa[$pph++]=$ppn+1<=$ppl+2?1:$ppl+2;this.drawTriangles($ppt,$ppc,$ppu,$ppr,$pps,$ppa)},$ppi.drawTriangles=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph,$ppl){this._saveToCmd($ppS._context.drawTriangles,[$ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo=void 0===$ppo?1:$ppo,$pph,$ppl])},$ppi._saveToCmd=function($ppt,$ppe){return this._sp&&(this._sp._renderType|=512),null==this._one?(this._one=$ppe,this._render=this._renderOne):(this._sp&&(this._sp._renderType&=-2),this._render=this._renderAll,0===(this._cmds||(this._cmds=[])).length&&this._cmds.push(this._one),this._cmds.push($ppe)),$ppe.callee=$ppt,this._repaint(),$ppe},$ppi.clipRect=function($ppt,$ppe,$ppi,$ppn){this._saveToCmd($ppS._context._clipRect,[$ppt,$ppe,$ppi,$ppn])},$ppi.fillText=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){void 0===$ppa&&($ppa=0),this._saveToCmd($ppS._context._fillText,[$ppt,$ppe,$ppi,$ppn||$ppM.defaultFont,$ppr,$pps])},$ppi.fillBorderText=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){this._saveToCmd($ppS._context._fillBorderText,[$ppt,$ppe,$ppi,$ppn||$ppM.defaultFont,$ppr,$pps,$ppa,$ppo])},$ppi.strokeText=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){this._saveToCmd($ppS._context._strokeText,[$ppt,$ppe,$ppi,$ppn||$ppM.defaultFont,$ppr,$pps,$ppa])},$ppi.alpha=function($ppt){this._saveToCmd($ppS._context._alpha,[$ppt=$ppt<0?0:1<$ppt?1:$ppt])},$ppi.setAlpha=function($ppt){this._saveToCmd($ppS._context._setAlpha,[$ppt=$ppt<0?0:1<$ppt?1:$ppt])},$ppi.transform=function($ppt,$ppe,$ppi){this._saveToCmd($ppS._context._transform,[$ppt,$ppe=void 0===$ppe?0:$ppe,$ppi=void 0===$ppi?0:$ppi])},$ppi.rotate=function($ppt,$ppe,$ppi){this._saveToCmd($ppS._context._rotate,[$ppt,$ppe=void 0===$ppe?0:$ppe,$ppi=void 0===$ppi?0:$ppi])},$ppi.scale=function($ppt,$ppe,$ppi,$ppn){this._saveToCmd($ppS._context._scale,[$ppt,$ppe,$ppi=void 0===$ppi?0:$ppi,$ppn=void 0===$ppn?0:$ppn])},$ppi.translate=function($ppt,$ppe){this._saveToCmd($ppS._context._translate,[$ppt,$ppe])},$ppi.save=function(){this._saveToCmd($ppS._context._save,[])},$ppi.restore=function(){this._saveToCmd($ppS._context._restore,[])},$ppi.replaceText=function($ppt){this._repaint();var $ppe=this._cmds;if($ppe){for(var $ppi=$ppe.length-1;-1<$ppi;$ppi--)if(this._isTextCmd($ppe[$ppi].callee))return $ppe[$ppi][0].toUpperCase?$ppe[$ppi][0]=$ppt:$ppe[$ppi][0].setText($ppt),!0}else if(this._one&&this._isTextCmd(this._one.callee))return this._one[0].toUpperCase?this._one[0]=$ppt:this._one[0].setText($ppt),!0;return!1},$ppi._isTextCmd=function($ppt){return $ppt===$ppS._context._fillText||$ppt===$ppS._context._fillBorderText||$ppt===$ppS._context._strokeText},$ppi.replaceTextColor=function($ppt){this._repaint();var $ppe=this._cmds;if($ppe)for(var $ppi=$ppe.length-1;-1<$ppi;$ppi--)this._isTextCmd($ppe[$ppi].callee)&&($ppe[$ppi][4]=$ppt,$ppe[$ppi][0].toUpperCase||($ppe[$ppi][0].changed=!0));else this._one&&this._isTextCmd(this._one.callee)&&(this._one[4]=$ppt,this._one[0].toUpperCase||(this._one[0].changed=!0))},$ppi.loadImage=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){var $ppa=this;void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0),void 0===$ppn&&($ppn=0),void 0===$ppr&&($ppr=0);var $ppo=$ppxe.getRes($ppt);function $pph($ppt){$ppt&&($ppa.drawTexture($ppt,$ppe,$ppi,$ppn,$ppr),null!=$pps&&$pps.call($ppa._sp,$ppt))}$ppo?$pph($ppo):$ppw.loader.load($ppt,$ppv.create(null,$pph),null,"image")},$ppi._renderEmpty=function($ppt,$ppe,$ppi,$ppn){},$ppi._renderAll=function($ppt,$ppe,$ppi,$ppn){var $ppr,$pps=this._cmds;for(var $ppa=0,$ppo=$pps.length;$ppa<$ppo;$ppa++)($ppr=$pps[$ppa]).callee.call($ppe,$ppi,$ppn,$ppr)},$ppi._renderOne=function($ppt,$ppe,$ppi,$ppn){this._one.callee.call($ppe,$ppi,$ppn,this._one)},$ppi._renderOneImg=function($ppt,$ppe,$ppi,$ppn){this._one.callee.call($ppe,$ppi,$ppn,this._one),2305!==$ppt._renderType&&($ppt._renderType|=1)},$ppi.drawLine=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){void 0===$pps&&($pps=1);var $ppa=0;$ppS.isWebGL&&($ppa=$ppee.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push($ppa));var $ppo=$pps%2==0?0:.5;this._saveToCmd($ppS._context._drawLine,[$ppt+$ppo,$ppe+$ppo,$ppi+$ppo,$ppn+$ppo,$ppr,$pps,$ppa])},$ppi.drawLines=function($ppt,$ppe,$ppi,$ppn,$ppr){void 0===$ppr&&($ppr=1);var $pps=0;!$ppi||$ppi.length<4||($ppS.isWebGL&&($pps=$ppee.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push($pps)),this._saveToCmd($ppS._context._drawLines,[$ppt+($ppt=$ppr%2==0?0:.5),$ppe+$ppt,$ppi,$ppn,$ppr,$pps]))},$ppi.drawCurves=function($ppt,$ppe,$ppi,$ppn,$ppr){this._saveToCmd($ppS._context._drawCurves,[$ppt,$ppe,$ppi,$ppn,$ppr=void 0===$ppr?1:$ppr])},$ppi.drawRect=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){void 0===$ppa&&($ppa=1);var $ppo=$pps?$ppa/2:0;var $pph=$pps?$ppa:0;this._saveToCmd($ppS._context._drawRect,[$ppt+$ppo,$ppe+$ppo,$ppi-$pph,$ppn-$pph,$ppr,$pps,$ppa])},$ppi.drawCircle=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){void 0===$pps&&($pps=1);var $ppa=$ppr?$pps/2:0;var $ppo=0;$ppS.isWebGL&&($ppo=$ppee.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push($ppo)),this._saveToCmd($ppS._context._drawCircle,[$ppt,$ppe,$ppi-$ppa,$ppn,$ppr,$pps,$ppo])},$ppi.drawPie=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){void 0===$ppo&&($ppo=1);var $pph=$ppa?$ppo/2:0;var $ppc=$ppa?$ppo:0;var $ppl=0;$ppS.isWebGL&&($ppl=$ppee.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push($ppl));$ppt=[$ppt+$pph,$ppe+$pph,$ppi-$ppc,$ppn,$ppr,$pps,$ppa,$ppo,$ppl];$ppt[3]=$ppJt.toRadian($ppn),$ppt[4]=$ppJt.toRadian($ppr),this._saveToCmd($ppS._context._drawPie,$ppt)},$ppi.drawPoly=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){void 0===$pps&&($pps=1);var $ppa=0;var $ppo=!1;$ppS.isWebGL&&($ppa=$ppee.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push($ppa),$ppo=!(6<$ppi.length));var $pph=!$ppr||$pps%2==0?0:.5;this._saveToCmd($ppS._context._drawPoly,[$ppt+$pph,$ppe+$pph,$ppi,$ppn,$ppr,$pps,$ppa,$ppo])},$ppi.drawPath=function($ppt,$ppe,$ppi,$ppn,$ppr){this._saveToCmd($ppS._context._drawPath,[$ppt,$ppe,$ppi,$ppn,$ppr])},$ppt(0,$ppi,"cmds",function(){return this._cmds},function($ppt){this._sp&&(this._sp._renderType|=512),this._cmds=$ppt,this._render=this._renderAll,this._repaint()}),$ppR.__init__=function(){if($ppS.isConchNode){var $ppt=laya.display.Graphics.prototype;var $ppe=$ppC.window.ConchGraphics.prototype;var $ppi=["clear","destroy","alpha","rotate","transform","scale","translate","save","restore","clipRect","blendMode","fillText","fillBorderText","_fands","drawRect","drawCircle","drawPie","drawPoly","drawPath","drawImageM","drawLine","drawLines","_drawPs","drawCurves","replaceText","replaceTextColor","_fillImage","fillTexture","setSkinMesh","drawParticle","drawImageS"];for(var $ppn=0,$ppr=$ppi.length;$ppn<=$ppr;$ppn++){var $pps=$ppi[$ppn];$ppt[$pps]=$ppe[$pps]}$ppt._saveToCmd=null,$ppe.drawImageS&&($ppt.drawTextures=function($ppt,$ppe){var $ppi,$ppn,$ppr;$ppt&&$ppt.loaded&&$ppt.bitmap&&$ppt.source&&($ppi=$ppt.uv,$ppn=$ppt.bitmap.width,$ppr=$ppt.bitmap.height,this.drawImageS($ppt.bitmap.source,$ppi[0]*$ppn,$ppi[1]*$ppr,($ppi[2]-$ppi[0])*$ppn,($ppi[5]-$ppi[3])*$ppr,$ppt.offsetX,$ppt.offsetY,$ppt.width,$ppt.height,$ppe))}),$ppt.drawTexture=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){var $ppo,$pph,$ppl;void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0),void 0===$ppn&&($ppn=0),void 0===$ppr&&($ppr=0),void 0===$ppa&&($ppa=1),$ppt&&($ppt.loaded?$ppt.loaded&&$ppt.bitmap&&$ppt.source&&($ppn=$ppn||$ppt.sourceWidth,$ppr=$ppr||$ppt.sourceHeight,$ppa=$ppa<0?0:1<$ppa?1:$ppa,$ppn=$ppn-$ppt.sourceWidth+$ppt.width,$ppr=$ppr-$ppt.sourceHeight+$ppt.height,$ppn<=0||$ppr<=0||($ppe+=$ppt.offsetX,$ppi+=$ppt.offsetY,$ppo=$ppt.uv,$pph=$ppt.bitmap.width,$ppl=$ppt.bitmap.height,$ppo[4]<$ppo[0]&&$ppo[5]<$ppo[1]?this.drawImageM($ppt.bitmap.source,$ppo[4]*$pph,$ppo[5]*$ppl,($ppo[0]-$ppo[4])*$pph,($ppo[1]-$ppo[5])*$ppl,$ppe,$ppi,$ppn,$ppr,$pps,$ppa):this.drawImageM($ppt.bitmap.source,$ppo[0]*$pph,$ppo[1]*$ppl,($ppo[2]-$ppo[0])*$pph,($ppo[5]-$ppo[3])*$ppl,$ppe,$ppi,$ppn,$ppr,$pps,$ppa),this._repaint())):$ppt.once("loaded",this,function(){this.drawTexture($ppt,$ppe,$ppi,$ppn,$ppr,$pps)}))},$ppt.fillTexture=function($ppt,$ppe,$ppc,$ppi,$ppn,$ppr,$pps){var $ppa,$ppo,$pph,$ppl;void 0===$ppi&&($ppi=0),void 0===$ppn&&($ppn=0),void 0===$ppr&&($ppr="repeat"),$ppt&&$ppt.loaded&&($ppa=$ppS._context.ctx,$ppo=$ppt.bitmap.width,$ppl=$ppt.bitmap.height,$pph=$ppt.uv,$ppo=$ppt.uv!=$ppAe.DEF_UV?$ppa.createPattern($ppt.bitmap.source,$ppr,$pph[0]*$ppo,$pph[1]*$ppl,($pph[2]-$pph[0])*$ppo,($pph[5]-$pph[3])*$ppl):$ppa.createPattern($ppt.bitmap.source,$ppr),$ppl=$pph=0,$pps&&($ppe+=$pps.x%$ppt.width,$ppc+=$pps.y%$ppt.height,$pph-=$pps.x%$ppt.width,$ppl-=$pps.y%$ppt.height),this._fillImage($ppo,$ppe,$ppc,$pph,$ppl,$ppi,$ppn))}}},$ppR._cache=[];var $ppI=$ppR;function $ppR(){this._one=null,this._cmds=null,this._render=this._renderEmpty,$ppS.isConchNode&&(this._nativeObj=new $pps._conchGraphics,this.id=this._nativeObj.conchID)}$ppc($ppL,"laya.display.GraphicsBounds"),($ppi=$ppL.prototype).destroy=function(){this._graphics=null,this._temp=null,this._rstBoundPoints=null,this._bounds=null},$ppi.reset=function(){this._temp&&(this._temp.length=0)},$ppi.getBounds=function($ppt){return void 0===$ppt&&($ppt=!1),this._bounds&&this._temp&&!(this._temp.length<1)&&$ppt==this._cacheBoundsType||(this._bounds=$ppst._getWrapRec(this.getBoundPoints($ppt),this._bounds)),this._cacheBoundsType=$ppt,this._bounds},$ppi.getBoundPoints=function($ppt){return void 0===$ppt&&($ppt=!1),(!this._temp||this._temp.length<1||$ppt!=this._cacheBoundsType)&&(this._temp=this._getCmdPoints($ppt)),this._cacheBoundsType=$ppt,this._rstBoundPoints=$ppJt.copyArray(this._rstBoundPoints,this._temp)},$ppi._getCmdPoints=function($ppc){void 0===$ppc&&($ppc=!1);var $ppt=$ppS._context;var $ppu=this._graphics.cmds;var $ppe;if(($ppe=this._temp||(this._temp=[])).length=0,$ppu||null==this._graphics._one||($ppL._tempCmds.length=0,$ppL._tempCmds.push(this._graphics._one),$ppu=$ppL._tempCmds),!$ppu)return $ppe;var $pp_;($pp_=$ppL._tempMatrixArrays).length=0;var $ppi=$ppL._initMatrix;$ppi.identity();var $ppn=$ppL._tempMatrix;var $ppr;var $pps;var $ppa=NaN;var $ppo=NaN;var $ppd=NaN;var $ppf=NaN;var $pph=NaN;var $ppp=NaN;for(var $ppm=0,$ppg=$ppu.length;$ppm<$ppg;$ppm++)if(($ppr=$ppu[$ppm]).callee)switch($ppr.callee){case $ppt._save:case 7:$pp_.push($ppi),$ppi=$ppi.clone();break;case $ppt._restore:case 8:$ppi=$pp_.pop();break;case $ppt._scale:case 5:$ppn.identity(),$ppn.translate(-$ppr[2],-$ppr[3]),$ppn.scale($ppr[0],$ppr[1]),$ppn.translate($ppr[2],$ppr[3]),this._switchMatrix($ppi,$ppn);break;case $ppt._rotate:case 3:$ppn.identity(),$ppn.translate(-$ppr[1],-$ppr[2]),$ppn.rotate($ppr[0]),$ppn.translate($ppr[1],$ppr[2]),this._switchMatrix($ppi,$ppn);break;case $ppt._translate:case 6:$ppn.identity(),$ppn.translate($ppr[0],$ppr[1]),this._switchMatrix($ppi,$ppn);break;case $ppt._transform:case 4:$ppn.identity(),$ppn.translate(-$ppr[1],-$ppr[2]),$ppn.concat($ppr[0]),$ppn.translate($ppr[1],$ppr[2]),this._switchMatrix($ppi,$ppn);break;case 16:case 24:$ppL._addPointArrToRst($ppe,$ppst._getBoundPointS($ppr[0],$ppr[1],$ppr[2],$ppr[3]),$ppi);break;case 17:$ppi.copyTo($ppn),$ppn.concat($ppr[4]),$ppL._addPointArrToRst($ppe,$ppst._getBoundPointS($ppr[0],$ppr[1],$ppr[2],$ppr[3]),$ppn);break;case $ppt._drawTexture:$pps=$ppr[0],$ppc?$ppr[3]&&$ppr[4]?$ppL._addPointArrToRst($ppe,$ppst._getBoundPointS($ppr[1],$ppr[2],$ppr[3],$ppr[4]),$ppi):($pps=$ppr[0],$ppL._addPointArrToRst($ppe,$ppst._getBoundPointS($ppr[1],$ppr[2],$pps.width,$pps.height),$ppi)):($ppa=($ppr[3]||$pps.sourceWidth)/$pps.width,$ppo=($ppr[4]||$pps.sourceHeight)/$pps.height,$ppd=$ppa*$pps.sourceWidth,$ppf=$ppo*$pps.sourceHeight,$pph=0<$pps.offsetX?$pps.offsetX:0,$ppp=0<$pps.offsetY?$pps.offsetY:0,$pph*=$ppa,$ppp*=$ppo,$ppL._addPointArrToRst($ppe,$ppst._getBoundPointS($ppr[1]-$pph,$ppr[2]-$ppp,$ppd,$ppf),$ppi));break;case $ppt._fillTexture:$ppr[3]&&$ppr[4]?$ppL._addPointArrToRst($ppe,$ppst._getBoundPointS($ppr[1],$ppr[2],$ppr[3],$ppr[4]),$ppi):($pps=$ppr[0],$ppL._addPointArrToRst($ppe,$ppst._getBoundPointS($ppr[1],$ppr[2],$pps.width,$pps.height),$ppi));break;case $ppt._drawTextureWithTransform:$ppl=$ppr[5]?($ppi.copyTo($ppn),$ppn.concat($ppr[5]),$ppn):$ppi,$ppc?$ppr[3]&&$ppr[4]?$ppL._addPointArrToRst($ppe,$ppst._getBoundPointS($ppr[1],$ppr[2],$ppr[3],$ppr[4]),$ppl):($pps=$ppr[0],$ppL._addPointArrToRst($ppe,$ppst._getBoundPointS($ppr[1],$ppr[2],$pps.width,$pps.height),$ppl)):($pps=$ppr[0],$ppa=($ppr[3]||$pps.sourceWidth)/$pps.width,$ppo=($ppr[4]||$pps.sourceHeight)/$pps.height,$ppd=$ppa*$pps.sourceWidth,$ppf=$ppo*$pps.sourceHeight,$pph=0<$pps.offsetX?$pps.offsetX:0,$ppp=0<$pps.offsetY?$pps.offsetY:0,$pph*=$ppa,$ppp*=$ppo,$ppL._addPointArrToRst($ppe,$ppst._getBoundPointS($ppr[1]-$pph,$ppr[2]-$ppp,$ppd,$ppf),$ppl));break;case $ppt._drawRect:case 13:$ppL._addPointArrToRst($ppe,$ppst._getBoundPointS($ppr[0],$ppr[1],$ppr[2],$ppr[3]),$ppi);break;case $ppt._drawCircle:case $ppt._fillCircle:case 14:$ppL._addPointArrToRst($ppe,$ppst._getBoundPointS($ppr[0]-$ppr[2],$ppr[1]-$ppr[2],$ppr[2]+$ppr[2],$ppr[2]+$ppr[2]),$ppi);break;case $ppt._drawLine:case 20:$ppL._tempPoints.length=0;var $ppl;$ppl=.5*$ppr[5],$ppr[0]==$ppr[2]?$ppL._tempPoints.push($ppr[0]+$ppl,$ppr[1],$ppr[2]+$ppl,$ppr[3],$ppr[0]-$ppl,$ppr[1],$ppr[2]-$ppl,$ppr[3]):$ppr[1]==$ppr[3]?$ppL._tempPoints.push($ppr[0],$ppr[1]+$ppl,$ppr[2],$ppr[3]+$ppl,$ppr[0],$ppr[1]-$ppl,$ppr[2],$ppr[3]-$ppl):$ppL._tempPoints.push($ppr[0],$ppr[1],$ppr[2],$ppr[3]),$ppL._addPointArrToRst($ppe,$ppL._tempPoints,$ppi);break;case $ppt._drawCurves:case 22:$ppL._addPointArrToRst($ppe,$ppq.I.getBezierPoints($ppr[2]),$ppi,$ppr[0],$ppr[1]);break;case $ppt._drawPoly:case $ppt._drawLines:case 18:$ppL._addPointArrToRst($ppe,$ppr[2],$ppi,$ppr[0],$ppr[1]);break;case $ppt._drawPath:case 19:$ppL._addPointArrToRst($ppe,this._getPathPoints($ppr[2]),$ppi,$ppr[0],$ppr[1]);break;case $ppt._drawPie:case 15:$ppL._addPointArrToRst($ppe,this._getPiePoints($ppr[0],$ppr[1],$ppr[2],$ppr[3],$ppr[4]),$ppi)}return 200<$ppe.length?$ppe=$ppJt.copyArray($ppe,$ppst._getWrapRec($ppe)._getBoundPoints()):8<$ppe.length&&($ppe=$ppZ.scanPList($ppe)),$ppe},$ppi._switchMatrix=function($ppt,$ppe){$ppe.concat($ppt),$ppe.copyTo($ppt)},$ppi._getPiePoints=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=$ppL._tempPoints;$ppL._tempPoints.length=0,$pps.push($ppt,$ppe);var $ppa=($ppr-$ppn)%(2*Math.PI)/10;var $ppo=NaN;var $pph=$ppn;for($ppo=0;$ppo<=10;$ppo++)$pps.push($ppt+$ppi*Math.cos($pph),$ppe+$ppi*Math.sin($pph)),$pph+=$ppa;return $pps},$ppi._getPathPoints=function($ppt){var $ppe,$ppi=0;var $ppn=$ppL._tempPoints;var $ppr;for($ppn.length=0,$ppe=$ppt.length,$ppi=0;$ppi<$ppe;$ppi++)1<($ppr=$ppt[$ppi]).length&&($ppn.push($ppr[1],$ppr[2]),3<$ppr.length&&$ppn.push($ppr[3],$ppr[4]));return $ppn},$ppL._addPointArrToRst=function($ppt,$ppe,$ppi,$ppn,$ppr){void 0===$ppn&&($ppn=0),void 0===$ppr&&($ppr=0);var $pps,$ppa=0;for($pps=$ppe.length,$ppa=0;$ppa<$pps;$ppa+=2)$ppL._addPointToRst($ppt,$ppe[$ppa]+$ppn,$ppe[$ppa+1]+$ppr,$ppi)},$ppL._addPointToRst=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppnt.TEMP;$ppr.setTo($ppe||0,$ppi||0),$ppn.transformPoint($ppr),$ppt.push($ppr.x,$ppr.y)},$ppL._tempPoints=[],$ppL._tempMatrixArrays=[],$ppL._tempCmds=[],$ppl($ppL,["_tempMatrix",function(){return this._tempMatrix=new $ppet},"_initMatrix",function(){return this._initMatrix=new $ppet}]);var $ppP=$ppL;function $ppL(){this._cacheBoundsType=!1}$ppc($ppN,"laya.events.Event"),($ppi=$ppN.prototype).setTo=function($ppt,$ppe,$ppi){return this.type=$ppt,this.currentTarget=$ppe,this.target=$ppi,this},$ppi.stopPropagation=function(){this._stoped=!0},$ppt(0,$ppi,"stageY",function(){return $ppw.stage.mouseY}),$ppt(0,$ppi,"charCode",function(){return this.nativeEvent.charCode}),$ppt(0,$ppi,"touches",function(){var $ppt=this.nativeEvent.touches;if($ppt){var $ppe=$ppw.stage;for(var $ppi=0,$ppn=$ppt.length;$ppi<$ppn;$ppi++){var $ppr=$ppt[$ppi];var $pps=$ppnt.TEMP;$pps.setTo($ppr.clientX,$ppr.clientY),$ppe._canvasTransform.invertTransformPoint($pps),$ppe.transform.invertTransformPoint($pps),$ppr.stageX=$pps.x,$ppr.stageY=$pps.y}}return $ppt}),$ppt(0,$ppi,"keyLocation",function(){return this.nativeEvent.keyLocation}),$ppt(0,$ppi,"ctrlKey",function(){return this.nativeEvent.ctrlKey}),$ppt(0,$ppi,"altKey",function(){return this.nativeEvent.altKey}),$ppt(0,$ppi,"shiftKey",function(){return this.nativeEvent.shiftKey}),$ppt(0,$ppi,"stageX",function(){return $ppw.stage.mouseX}),$ppN.EMPTY=new $ppN,$ppN.MOUSE_DOWN="mousedown",$ppN.MOUSE_UP="mouseup",$ppN.CLICK="click",$ppN.RIGHT_MOUSE_DOWN="rightmousedown",$ppN.RIGHT_MOUSE_UP="rightmouseup",$ppN.RIGHT_CLICK="rightclick",$ppN.MOUSE_MOVE="mousemove",$ppN.MOUSE_OVER="mouseover",$ppN.MOUSE_OUT="mouseout",$ppN.MOUSE_WHEEL="mousewheel",$ppN.ROLL_OVER="mouseover",$ppN.ROLL_OUT="mouseout",$ppN.DOUBLE_CLICK="doubleclick",$ppN.CHANGE="change",$ppN.CHANGED="changed",$ppN.RESIZE="resize",$ppN.ADDED="added",$ppN.REMOVED="removed",$ppN.DISPLAY="display",$ppN.UNDISPLAY="undisplay",$ppN.ERROR="error",$ppN.COMPLETE="complete",$ppN.LOADED="loaded",$ppN.PROGRESS="progress",$ppN.INPUT="input",$ppN.RENDER="render",$ppN.OPEN="open",$ppN.MESSAGE="message",$ppN.CLOSE="close",$ppN.KEY_DOWN="keydown",$ppN.KEY_PRESS="keypress",$ppN.KEY_UP="keyup",$ppN.FRAME="enterframe",$ppN.DRAG_START="dragstart",$ppN.DRAG_MOVE="dragmove",$ppN.DRAG_END="dragend",$ppN.ENTER="enter",$ppN.SELECT="select",$ppN.BLUR="blur",$ppN.FOCUS="focus",$ppN.VISIBILITY_CHANGE="visibilitychange",$ppN.FOCUS_CHANGE="focuschange",$ppN.PLAYED="played",$ppN.PAUSED="paused",$ppN.STOPPED="stopped",$ppN.START="start",$ppN.END="end",$ppN.ENABLE_CHANGED="enablechanged",$ppN.ACTIVE_IN_HIERARCHY_CHANGED="activeinhierarchychanged",$ppN.COMPONENT_ADDED="componentadded",$ppN.COMPONENT_REMOVED="componentremoved",$ppN.LAYER_CHANGED="layerchanged",$ppN.HIERARCHY_LOADED="hierarchyloaded",$ppN.RECOVERED="recovered",$ppN.RELEASED="released",$ppN.LINK="link",$ppN.LABEL="label",$ppN.FULL_SCREEN_CHANGE="fullscreenchange",$ppN.DEVICE_LOST="devicelost",$ppN.MESH_CHANGED="meshchanged",$ppN.MATERIAL_CHANGED="materialchanged",$ppN.WORLDMATRIX_NEEDCHANGE="worldmatrixneedchanged",$ppN.ANIMATION_CHANGED="animationchanged",$ppN.TRIGGER_ENTER="triggerenter",$ppN.TRIGGER_STAY="triggerstay",$ppN.TRIGGER_EXIT="triggerexit",$ppN.TRAIL_FILTER_CHANGE="trailfilterchange",$ppN.DOMINO_FILTER_CHANGE="dominofilterchange";var $ppB=$ppN;function $ppN(){}$ppc($ppO,"laya.events.Keyboard"),$ppO.NUMBER_0=48,$ppO.NUMBER_1=49,$ppO.NUMBER_2=50,$ppO.NUMBER_3=51,$ppO.NUMBER_4=52,$ppO.NUMBER_5=53,$ppO.NUMBER_6=54,$ppO.NUMBER_7=55,$ppO.NUMBER_8=56,$ppO.NUMBER_9=57,$ppO.A=65,$ppO.B=66,$ppO.C=67,$ppO.D=68,$ppO.E=69,$ppO.F=70,$ppO.G=71,$ppO.H=72,$ppO.I=73,$ppO.J=74,$ppO.K=75,$ppO.L=76,$ppO.M=77,$ppO.N=78,$ppO.O=79,$ppO.P=80,$ppO.Q=81,$ppO.R=82,$ppO.S=83,$ppO.T=84,$ppO.U=85,$ppO.V=86,$ppO.W=87,$ppO.X=88,$ppO.Y=89,$ppO.Z=90,$ppO.F1=112,$ppO.F2=113,$ppO.F3=114,$ppO.F4=115,$ppO.F5=116,$ppO.F6=117,$ppO.F7=118,$ppO.F8=119,$ppO.F9=120,$ppO.F10=121,$ppO.F11=122,$ppO.F12=123,$ppO.F13=124,$ppO.F14=125,$ppO.F15=126,$ppO.NUMPAD=21,$ppO.NUMPAD_0=96,$ppO.NUMPAD_1=97,$ppO.NUMPAD_2=98,$ppO.NUMPAD_3=99,$ppO.NUMPAD_4=100,$ppO.NUMPAD_5=101,$ppO.NUMPAD_6=102,$ppO.NUMPAD_7=103,$ppO.NUMPAD_8=104,$ppO.NUMPAD_9=105,$ppO.NUMPAD_ADD=107,$ppO.NUMPAD_DECIMAL=110,$ppO.NUMPAD_DIVIDE=111,$ppO.NUMPAD_ENTER=108,$ppO.NUMPAD_MULTIPLY=106,$ppO.NUMPAD_SUBTRACT=109,$ppO.SEMICOLON=186,$ppO.EQUAL=187,$ppO.COMMA=188,$ppO.MINUS=189,$ppO.PERIOD=190,$ppO.SLASH=191,$ppO.BACKQUOTE=192,$ppO.LEFTBRACKET=219,$ppO.BACKSLASH=220,$ppO.RIGHTBRACKET=221,$ppO.QUOTE=222,$ppO.ALTERNATE=18,$ppO.BACKSPACE=8,$ppO.CAPS_LOCK=20,$ppO.COMMAND=15,$ppO.CONTROL=17,$ppO.DELETE=46,$ppO.ENTER=13,$ppO.ESCAPE=27,$ppO.PAGE_UP=33,$ppO.PAGE_DOWN=34,$ppO.END=35,$ppO.HOME=36,$ppO.LEFT=37,$ppO.UP=38,$ppO.RIGHT=39,$ppO.DOWN=40,$ppO.SHIFT=16,$ppO.SPACE=32,$ppO.TAB=9,$ppO.INSERT=45;function $ppO(){}$ppc($ppV,"laya.events.KeyBoardManager"),$ppV.__init__=function(){$ppV._addEvent("keydown"),$ppV._addEvent("keypress"),$ppV._addEvent("keyup")},$ppV._addEvent=function($ppe){$ppC.document.addEventListener($ppe,function($ppt){laya.events.KeyBoardManager._dispatch($ppt,$ppe)},!0)},$ppV._dispatch=function($ppt,$ppe){if($ppV.enabled){$ppV._event._stoped=!1,$ppV._event.nativeEvent=$ppt,$ppV._event.keyCode=$ppt.keyCode||$ppt.which||$ppt.charCode,"keydown"===$ppe?$ppV._pressKeys[$ppV._event.keyCode]=!0:"keyup"===$ppe&&($ppV._pressKeys[$ppV._event.keyCode]=null);var $ppi=$ppw.stage.focus&&null!=$ppw.stage.focus.event&&$ppw.stage.focus.displayedInStage?$ppw.stage.focus:$ppw.stage;var $ppn=$ppi;for(;$ppn;)$ppn.event($ppe,$ppV._event.setTo($ppe,$ppn,$ppi)),$ppn=$ppn.parent}},$ppV.hasKeyDown=function($ppt){return $ppV._pressKeys[$ppt]},$ppV._pressKeys={},$ppV.enabled=!0,$ppl($ppV,["_event",function(){return this._event=new $ppB}]);var $ppF=$ppV;function $ppV(){}$ppc($ppk,"laya.events.KeyLocation"),$ppk.STANDARD=0,$ppk.LEFT=1,$ppk.RIGHT=2,$ppk.NUM_PAD=3;function $ppk(){}$ppc($ppH,"laya.events.MouseManager"),($ppi=$ppH.prototype).__init__=function($ppt,$ppe){var $ppi=this;this._stage=$ppt;var $ppn=this;var $ppr=this._eventList;$ppe.oncontextmenu=function($ppt){if($ppH.enabled)return!1},$ppe.addEventListener("mousedown",function($ppt){$ppH.enabled&&($ppC.onIE||$ppt.preventDefault(),$ppr.push($ppt),$ppn.mouseDownTime=$ppC.now())}),$ppe.addEventListener("mouseup",function($ppt){$ppH.enabled&&($ppt.preventDefault(),$ppr.push($ppt),$ppn.mouseDownTime=-$ppC.now())},!0),$ppe.addEventListener("mousemove",function($ppt){var $ppe;$ppH.enabled&&($ppt.preventDefault(),($ppe=$ppC.now())-$ppn._lastMoveTimer<10||($ppn._lastMoveTimer=$ppe,$ppr.push($ppt)))},!0),$ppe.addEventListener("mouseout",function($ppt){$ppH.enabled&&$ppr.push($ppt)}),$ppe.addEventListener("mouseover",function($ppt){$ppH.enabled&&$ppr.push($ppt)}),$ppe.addEventListener("touchstart",function($ppt){$ppH.enabled&&($ppr.push($ppt),$ppH._isFirstTouch||$ppsi.isInputting||$ppt.preventDefault(),$ppn.mouseDownTime=$ppC.now())}),$ppe.addEventListener("touchend",function($ppt){$ppH.enabled?($ppH._isFirstTouch||$ppsi.isInputting||$ppt.preventDefault(),$ppH._isFirstTouch=!1,$ppr.push($ppt),$ppn.mouseDownTime=-$ppC.now()):$ppi._curTouchID=NaN},!0),$ppe.addEventListener("touchmove",function($ppt){$ppH.enabled&&($ppt.preventDefault(),$ppr.push($ppt))},!0),$ppe.addEventListener("touchcancel",function($ppt){$ppH.enabled?($ppt.preventDefault(),$ppr.push($ppt)):$ppi._curTouchID=NaN},!0),$ppe.addEventListener("mousewheel",function($ppt){$ppH.enabled&&$ppr.push($ppt)}),$ppe.addEventListener("DOMMouseScroll",function($ppt){$ppH.enabled&&$ppr.push($ppt)})},$ppi.initEvent=function($ppt,$ppe){this._event._stoped=!1,this._event.nativeEvent=$ppe||$ppt,this._target=null,this._point.setTo($ppt.pageX||$ppt.clientX,$ppt.pageY||$ppt.clientY),this._stage._canvasTransform.invertTransformPoint(this._point),this.mouseX=this._point.x,this.mouseY=this._point.y,this._event.touchId=$ppt.identifier||0,this._tTouchID=this._event.touchId,($ppe=$ppz.I._event)._stoped=!1,$ppe.nativeEvent=this._event.nativeEvent,$ppe.touchId=this._event.touchId},$ppi.checkMouseWheel=function($ppt){this._event.delta=$ppt.wheelDelta?.025*$ppt.wheelDelta:-$ppt.detail;var $ppe=$ppz.I.getLastOvers();for(var $ppi=0,$ppn=$ppe.length;$ppi<$ppn;$ppi++){var $ppr=$ppe[$ppi];$ppr.event("mousewheel",this._event.setTo("mousewheel",$ppr,this._target))}},$ppi.onMouseMove=function($ppt){$ppz.I.onMouseMove($ppt,this._tTouchID)},$ppi.onMouseDown=function($ppt){var $ppe,$ppi;$ppsi.isInputting&&$ppw.stage.focus&&$ppw.stage.focus.focus&&!$ppw.stage.focus.contains(this._target)&&($ppe=$ppw.stage.focus._tf||$ppw.stage.focus,($ppi=$ppt._tf||$ppt)instanceof laya.display.Input&&$ppi.multiline==$ppe.multiline?$ppe._focusOut():$ppe.focus=!1),$ppz.I.onMouseDown($ppt,this._tTouchID,this._isLeftMouse)},$ppi.onMouseUp=function($ppt){$ppz.I.onMouseUp($ppt,this._tTouchID,this._isLeftMouse)},$ppi.check=function($ppt,$ppe,$ppi,$ppn){this._point.setTo($ppe,$ppi),$ppt.fromParentPoint(this._point),$ppe=this._point.x,$ppi=this._point.y;var $ppr=$ppt.scrollRect;if($ppr&&(this._rect.setTo($ppr.x,$ppr.y,$ppr.width,$ppr.height),!this._rect.contains($ppe,$ppi)))return!1;if(!this.disableMouseEvent){if($ppt.hitTestPrior&&!$ppt.mouseThrough&&!this.hitTest($ppt,$ppe,$ppi))return!1;for(var $pps=$ppt._childs.length-1;-1<$pps;$pps--){var $ppa=$ppt._childs[$pps];if(!$ppa.destroyed&&$ppa.mouseEnabled&&$ppa.visible&&this.check($ppa,$ppe,$ppi,$ppn))return!0}}$ppr=!(!$ppt.hitTestPrior||$ppt.mouseThrough||this.disableMouseEvent)||this.hitTest($ppt,$ppe,$ppi);return $ppr?(this._target=$ppt,$ppn.call(this,$ppt)):$ppn===this.onMouseUp&&$ppt===this._stage&&(this._target=this._stage,$ppn.call(this,this._target)),$ppr},$ppi.hitTest=function($ppt,$ppe,$ppi){var $ppn=!1;return $ppt.scrollRect&&($ppe-=$ppt.scrollRect.x,$ppi-=$ppt.scrollRect.y),$ppt.hitArea instanceof laya.utils.HitArea?$ppt.hitArea.isHit($ppe,$ppi):0<$ppt.width&&0<$ppt.height||$ppt.mouseThrough||$ppt.hitArea?$ppt.mouseThrough?$ppt.getGraphicBounds().contains($ppe,$ppi):($ppr=this._rect,$ppt.hitArea?$ppr=$ppt.hitArea:$ppr.setTo(0,0,$ppt.width,$ppt.height),$ppr.contains($ppe,$ppi)):$ppn;var $ppr},$ppi.runEvent=function(){var $ppt=this._eventList.length;if($ppt){var $ppe,$ppi=0,$ppn=0,$ppr=0;try{for(;$ppi<$ppt;){var $pps=this._eventList[$ppi];switch("mousemove"!==$pps.type&&(this._prePoint.x=this._prePoint.y=-1e6),$pps.type){case"mousedown":this._touchIDs[0]=this._id++,$ppH._isTouchRespond?$ppH._isTouchRespond=!1:(this._isLeftMouse=0===$pps.button,this.initEvent($pps),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseDown));break;case"mouseup":this._isLeftMouse=0===$pps.button,this.initEvent($pps),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseUp);break;case"mousemove":Math.abs(this._prePoint.x-$pps.clientX)+Math.abs(this._prePoint.y-$pps.clientY)>=this.mouseMoveAccuracy&&(this._prePoint.x=$pps.clientX,this._prePoint.y=$pps.clientY,this.initEvent($pps),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseMove));break;case"touchstart":$ppH._isTouchRespond=!0,this._isLeftMouse=!0;var $ppa=$pps.changedTouches;for($ppn=0,$ppr=$ppa.length;$ppn<$ppr;$ppn++)$ppe=$ppa[$ppn],($ppH.multiTouchEnabled||isNaN(this._curTouchID))&&(this._curTouchID=$ppe.identifier,this._id%200==0&&(this._touchIDs={}),this._touchIDs[$ppe.identifier]=this._id++,this.initEvent($ppe,$pps),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseDown));break;case"touchend":case"touchcancel":$ppH._isTouchRespond=!0,this._isLeftMouse=!0;var $ppo=$pps.changedTouches;for($ppn=0,$ppr=$ppo.length;$ppn<$ppr;$ppn++)$ppe=$ppo[$ppn],!$ppH.multiTouchEnabled&&$ppe.identifier!=this._curTouchID||(this._curTouchID=NaN,this.initEvent($ppe,$pps),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseUp)||this.onMouseUp(null));break;case"touchmove":var $pph=$pps.changedTouches;for($ppn=0,$ppr=$pph.length;$ppn<$ppr;$ppn++)$ppe=$pph[$ppn],!$ppH.multiTouchEnabled&&$ppe.identifier!=this._curTouchID||(this.initEvent($ppe,$pps),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseMove));break;case"wheel":case"mousewheel":case"DOMMouseScroll":this.checkMouseWheel($pps);break;case"mouseout":$ppz.I.stageMouseOut();break;case"mouseover":this._stage.event("mouseover",this._event.setTo("mouseover",this._stage,this._stage))}$ppi++}}catch($ppt){throw this._eventList.length=0,$ppt}this._eventList.length=0}},$ppH.enabled=!0,$ppH.multiTouchEnabled=!0,$ppH._isTouchRespond=!1,$ppH._isFirstTouch=!0,$ppl($ppH,["instance",function(){return this.instance=new $ppH}]);var $ppU=$ppH;function $ppH(){this.mouseX=0,this.mouseY=0,this.disableMouseEvent=!1,this.mouseDownTime=0,this.mouseMoveAccuracy=2,this._stage=null,this._target=null,this._lastMoveTimer=0,this._isLeftMouse=!1,this._eventList=[],this._touchIDs={},this._id=1,this._tTouchID=0,this._event=new $ppB,this._matrix=new $ppet,this._point=new $ppnt,this._rect=new $ppst,this._prePoint=new $ppnt,this._curTouchID=NaN}$ppc($ppW,"laya.events.TouchManager"),($ppi=$ppW.prototype)._clearTempArrs=function(){$ppW._oldArr.length=0,$ppW._newArr.length=0,$ppW._tEleArr.length=0},$ppi.getTouchFromArr=function($ppt,$ppe){var $ppi,$ppn=0;var $ppr;for($ppi=$ppe.length,$ppn=0;$ppn<$ppi;$ppn++)if(($ppr=$ppe[$ppn]).id==$ppt)return $ppr;return null},$ppi.removeTouchFromArr=function($ppt,$ppe){var $ppi=0;for($ppi=$ppe.length-1;0<=$ppi;$ppi--)$ppe[$ppi].id==$ppt&&$ppe.splice($ppi,1)},$ppi.createTouchO=function($ppt,$ppe){var $ppi;return($ppi=$ppGt.getItem("TouchData")||{}).id=$ppe,$ppi.tar=$ppt,$ppi},$ppi.onMouseDown=function($ppt,$ppe,$ppi){var $ppn,$ppr,$pps,$ppa;void 0===$ppi&&($ppi=!1),this.enable&&($ppn=this.getTouchFromArr($ppe,this.preOvers),$pps=this.getEles($ppt,null,$ppW._tEleArr),$ppn?$ppn.tar=$ppt:($ppr=this.createTouchO($ppt,$ppe),this.preOvers.push($ppr)),$ppC.onMobile&&this.sendEvents($pps,"mouseover",$ppe),$ppa=$ppi?this.preDowns:this.preRightDowns,($ppn=this.getTouchFromArr($ppe,$ppa))?$ppn.tar=$ppt:($ppr=this.createTouchO($ppt,$ppe),$ppa.push($ppr)),this.sendEvents($pps,$ppi?"mousedown":"rightmousedown",$ppe),this._clearTempArrs())},$ppi.sendEvents=function($ppt,$ppe,$ppi){void 0===$ppi&&($ppi=0);var $ppn,$ppr=0;var $pps;var $ppa;for($ppn=$ppt.length,this._event._stoped=!1,$pps=$ppt[0],$ppr=0;$ppr<$ppn;$ppr++){if(($ppa=$ppt[$ppr]).destroyed)return;if($ppa.event($ppe,this._event.setTo($ppe,$ppa,$pps)),this._event._stoped)break}},$ppi.getEles=function($ppt,$ppe,$ppi){for($ppi?$ppi.length=0:$ppi=[];$ppt&&$ppt!=$ppe;)$ppi.push($ppt),$ppt=$ppt.parent;return $ppi},$ppi.checkMouseOutAndOverOfMove=function($ppt,$ppe,$ppi){if(void 0===$ppi&&($ppi=0),$ppe!=$ppt){var $ppn;var $ppr;var $pps,$ppa=0;if($ppe.contains($ppt))$ppr=this.getEles($ppt,$ppe,$ppW._tEleArr),this.sendEvents($ppr,"mouseover",$ppi);else if($ppt.contains($ppe))$ppr=this.getEles($ppe,$ppt,$ppW._tEleArr),this.sendEvents($ppr,"mouseout",$ppi);else{var $ppo;var $pph;($ppr=$ppW._tEleArr).length=0,$ppo=this.getEles($ppe,null,$ppW._oldArr),$pph=this.getEles($ppt,null,$ppW._newArr),$pps=$ppo.length;var $ppl;for($ppa=0;$ppa<$pps;$ppa++){if($ppn=$ppo[$ppa],0<=($ppl=$pph.indexOf($ppn))){$pph.splice($ppl,$pph.length-$ppl);break}$ppr.push($ppn)}0<$ppr.length&&this.sendEvents($ppr,"mouseout",$ppi),0<$pph.length&&this.sendEvents($pph,"mouseover",$ppi)}}},$ppi.onMouseMove=function($ppt,$ppe){var $ppi,$ppn;this.enable&&(($ppi=this.getTouchFromArr($ppe,this.preOvers))?(this.checkMouseOutAndOverOfMove($ppt,$ppi.tar),$ppi.tar=$ppt,$ppn=this.getEles($ppt,null,$ppW._tEleArr)):($ppn=this.getEles($ppt,null,$ppW._tEleArr),this.sendEvents($ppn,"mouseover",$ppe),this.preOvers.push(this.createTouchO($ppt,$ppe))),this.sendEvents($ppn,"mousemove",$ppe),this._clearTempArrs())},$ppi.getLastOvers=function(){return($ppW._tEleArr.length=0)<this.preOvers.length&&this.preOvers[0].tar?this.getEles(this.preOvers[0].tar,null,$ppW._tEleArr):($ppW._tEleArr.push($ppw.stage),$ppW._tEleArr)},$ppi.stageMouseOut=function(){var $ppt;$ppt=this.getLastOvers(),this.preOvers.length=0,this.sendEvents($ppt,"mouseout",0)},$ppi.onMouseUp=function($ppt,$ppe,$ppi){if(void 0===$ppi&&($ppi=!1),this.enable){var $ppn;var $ppr;var $pps;var $ppc,$ppa=0;var $ppo;var $pph;var $ppu=$ppC.onMobile;var $ppl;if($ppr=this.getEles($ppt,null,$ppW._tEleArr),this.sendEvents($ppr,$ppi?"mouseup":"rightmouseup",$ppe),$ppl=$ppi?this.preDowns:this.preRightDowns,$ppn=this.getTouchFromArr($ppe,$ppl)){var $pp_;var $ppd=$ppC.now();if($pp_=$ppd-this._lastClickTime<300,this._lastClickTime=$ppd,$ppt==$ppn.tar)$pph=$ppr;else for($pps=this.getEles($ppn.tar,null,$ppW._oldArr),($pph=$ppW._newArr).length=0,$ppc=$pps.length,$ppa=0;$ppa<$ppc;$ppa++)$ppo=$pps[$ppa],0<=$ppr.indexOf($ppo)&&$pph.push($ppo);0<$pph.length&&this.sendEvents($pph,$ppi?"click":"rightclick",$ppe),$ppi&&$pp_&&this.sendEvents($pph,"doubleclick",$ppe),this.removeTouchFromArr($ppe,$ppl),$ppn.tar=null,$ppGt.recover("TouchData",$ppn)}else;($ppn=this.getTouchFromArr($ppe,this.preOvers))&&$ppu&&(($pph=this.getEles($ppn.tar,null,$pph))&&0<$pph.length&&this.sendEvents($pph,"mouseout",$ppe),this.removeTouchFromArr($ppe,this.preOvers),$ppn.tar=null,$ppGt.recover("TouchData",$ppn)),this._clearTempArrs()}},$ppW._oldArr=[],$ppW._newArr=[],$ppW._tEleArr=[],$ppl($ppW,["I",function(){return this.I=new $ppW}]);var $ppz=$ppW;function $ppW(){this.preOvers=[],this.preDowns=[],this.preRightDowns=[],this.enable=!0,this._lastClickTime=0,this._event=new $ppB}$ppc($ppY,"laya.filters.Filter"),$ppi=$ppY.prototype,$ppw.imps($ppi,{"laya.filters.IFilter":!0}),$ppi.callNative=function($ppt){},$ppt(0,$ppi,"type",function(){return-1}),$ppt(0,$ppi,"action",function(){return this._action}),$ppY.BLUR=16,$ppY.COLOR=32,$ppY.GLOW=8,$ppY._filterStart=null,$ppY._filterEnd=null,$ppY._EndTarget=null,$ppY._recycleScope=null,$ppY._filter=null,$ppY._useSrc=null,$ppY._endSrc=null,$ppY._useOut=null,$ppY._endOut=null;var $ppG=$ppY;function $ppY(){this._action=null}$ppc($ppj,"laya.filters.ColorFilterAction"),$ppi=$ppj.prototype,$ppw.imps($ppi,{"laya.filters.IFilterAction":!0}),$ppi.apply=function($ppt){var $ppe=$ppt.ctx.ctx;var $ppi=$ppt.ctx.ctx.canvas;if(0==$ppi.width||0==$ppi.height)return $ppi;$ppi=$ppe.getImageData(0,0,$ppi.width,$ppi.height);var $ppn=$ppi.data;var $ppr;for(var $pps=0,$ppa=$ppn.length;$pps<$ppa;$pps+=4)$ppr=this.getColor($ppn[$pps],$ppn[$pps+1],$ppn[$pps+2],$ppn[$pps+3]),0!=$ppn[$pps+3]&&($ppn[$pps]=$ppr[0],$ppn[$pps+1]=$ppr[1],$ppn[$pps+2]=$ppr[2],$ppn[$pps+3]=$ppr[3]);return $ppe.putImageData($ppi,0,0),$ppt},$ppi.getColor=function($ppt,$ppe,$ppi,$ppn){var $ppr=[];var $pps,$ppa;return this.data._mat&&this.data._alpha&&($pps=this.data._mat,$ppa=this.data._alpha,$ppr[0]=$pps[0]*$ppt+$pps[1]*$ppe+$pps[2]*$ppi+$pps[3]*$ppn+$ppa[0],$ppr[1]=$pps[4]*$ppt+$pps[5]*$ppe+$pps[6]*$ppi+$pps[7]*$ppn+$ppa[1],$ppr[2]=$pps[8]*$ppt+$pps[9]*$ppe+$pps[10]*$ppi+$pps[11]*$ppn+$ppa[2],$ppr[3]=$pps[12]*$ppt+$pps[13]*$ppe+$pps[14]*$ppi+$pps[15]*$ppn+$ppa[3]),$ppr};var $ppX=$ppj;function $ppj(){this.data=null}$ppc($ppK,"laya.maths.Arith"),$ppK.formatR=function($ppt){return $ppt>Math.PI&&($ppt-=2*Math.PI),$ppt<-Math.PI&&($ppt+=2*Math.PI),$ppt},$ppK.isPOT=function($ppt,$ppe){return 0<$ppt&&0==($ppt&$ppt-1)&&0<$ppe&&0==($ppe&$ppe-1)},$ppK.setMatToArray=function($ppt,$ppe){$ppt.a,$ppt.b,$ppt.c,$ppt.d,$ppt.tx,$ppt.ty,$ppe[0]=$ppt.a,$ppe[1]=$ppt.b,$ppe[4]=$ppt.c,$ppe[5]=$ppt.d,$ppe[12]=$ppt.tx,$ppe[13]=$ppt.ty};function $ppK(){}$ppc($pp$,"laya.maths.Bezier"),($ppi=$pp$.prototype)._switchPoint=function($ppt,$ppe){var $ppi=this._controlPoints.shift();$ppi.setTo($ppt,$ppe),this._controlPoints.push($ppi)},$ppi.getPoint2=function($ppt,$ppe){var $ppi=this._controlPoints[0];var $ppn=this._controlPoints[1];var $ppr=this._controlPoints[2];var $pps=Math.pow(1-$ppt,2)*$ppi.x+2*$ppt*(1-$ppt)*$ppn.x+Math.pow($ppt,2)*$ppr.x;$ppi=Math.pow(1-$ppt,2)*$ppi.y+2*$ppt*(1-$ppt)*$ppn.y+Math.pow($ppt,2)*$ppr.y;$ppe.push($pps,$ppi)},$ppi.getPoint3=function($ppt,$ppe){var $ppi=this._controlPoints[0];var $ppn=this._controlPoints[1];var $ppr=this._controlPoints[2];var $pps=this._controlPoints[3];var $ppa=Math.pow(1-$ppt,3)*$ppi.x+3*$ppn.x*$ppt*(1-$ppt)*(1-$ppt)+3*$ppr.x*$ppt*$ppt*(1-$ppt)+$pps.x*Math.pow($ppt,3);$ppi=Math.pow(1-$ppt,3)*$ppi.y+3*$ppn.y*$ppt*(1-$ppt)*(1-$ppt)+3*$ppr.y*$ppt*$ppt*(1-$ppt)+$pps.y*Math.pow($ppt,3);$ppe.push($ppa,$ppi)},$ppi.insertPoints=function($ppt,$ppe){var $ppi=NaN;var $ppn;for($ppn=1/($ppt=0<$ppt?$ppt:5),$ppi=0;$ppi<=1;$ppi+=$ppn)this._calFun($ppi,$ppe)},$ppi.getBezierPoints=function($ppt,$ppe,$ppi){void 0===$ppe&&($ppe=5);var $ppn,$ppr=0;if(($ppn=$ppt.length)<2*(($ppi=void 0===$ppi?2:$ppi)+1))return[];var $pps;switch($pps=[],$ppi){case 2:this._calFun=this.getPoint2;break;case 3:this._calFun=this.getPoint3;break;default:return[]}for(;this._controlPoints.length<=$ppi;)this._controlPoints.push(new $ppnt);for($ppr=0;$ppr<2*$ppi;$ppr+=2)this._switchPoint($ppt[$ppr],$ppt[$ppr+1]);for($ppr=2*$ppi;$ppr<$ppn;$ppr+=2)this._switchPoint($ppt[$ppr],$ppt[$ppr+1]),$ppr/2%$ppi==0&&this.insertPoints($ppe,$pps);return $pps},$ppl($pp$,["I",function(){return this.I=new $pp$}]);var $ppq=$pp$;function $pp$(){this._controlPoints=[new $ppnt,new $ppnt,new $ppnt],this._calFun=this.getPoint2}$ppc($ppQ,"laya.maths.GrahamScan"),$ppQ.multiply=function($ppt,$ppe,$ppi){return($ppt.x-$ppi.x)*($ppe.y-$ppi.y)-($ppe.x-$ppi.x)*($ppt.y-$ppi.y)},$ppQ.dis=function($ppt,$ppe){return($ppt.x-$ppe.x)*($ppt.x-$ppe.x)+($ppt.y-$ppe.y)*($ppt.y-$ppe.y)},$ppQ._getPoints=function($ppt,$ppe,$ppi){for(void 0===$ppe&&($ppe=!1),$ppQ._mPointList||($ppQ._mPointList=[]);$ppQ._mPointList.length<$ppt;)$ppQ._mPointList.push(new $ppnt);return($ppi=$ppi||[]).length=0,$ppe?$ppQ.getFrom($ppi,$ppQ._mPointList,$ppt):$ppQ.getFromR($ppi,$ppQ._mPointList,$ppt),$ppi},$ppQ.getFrom=function($ppt,$ppe,$ppi){var $ppn=0;for($ppn=0;$ppn<$ppi;$ppn++)$ppt.push($ppe[$ppn]);return $ppt},$ppQ.getFromR=function($ppt,$ppe,$ppi){var $ppn=0;for($ppn=0;$ppn<$ppi;$ppn++)$ppt.push($ppe.pop());return $ppt},$ppQ.pListToPointList=function($ppt,$ppe){var $ppi=0,$ppn=$ppt.length/2,$ppr=$ppQ._getPoints($ppn,$ppe=void 0===$ppe?!1:$ppe,$ppQ._tempPointList);for($ppi=0;$ppi<$ppn;$ppi++)$ppr[$ppi].setTo($ppt[$ppi+$ppi],$ppt[$ppi+$ppi+1]);return $ppr},$ppQ.pointListToPlist=function($ppt){var $ppe,$ppi=0,$ppn=$ppt.length,$ppr=$ppQ._temPList;for($ppi=$ppr.length=0;$ppi<$ppn;$ppi++)$ppe=$ppt[$ppi],$ppr.push($ppe.x,$ppe.y);return $ppr},$ppQ.scanPList=function($ppt){return $ppJt.copyArray($ppt,$ppQ.pointListToPlist($ppQ.scan($ppQ.pListToPointList($ppt,!0))))},$ppQ.scan=function($ppt){var $ppe,$ppi,$ppn,$ppr=0,$pps=0,$ppa=0;$ppt.length;var $ppo={};var $pph;for(($ppn=$ppQ._temArr).length=0,$ppr=$ppt.length-1;0<=$ppr;$ppr--)$pph=($ppe=$ppt[$ppr]).x+"_"+$ppe.y,$ppo.hasOwnProperty($pph)||($ppo[$pph]=!0,$ppn.push($ppe));for($ppi=$ppn.length,$ppJt.copyArray($ppt,$ppn),$ppr=1;$ppr<$ppi;$ppr++)($ppt[$ppr].y<$ppt[$ppa].y||$ppt[$ppr].y==$ppt[$ppa].y&&$ppt[$ppr].x<$ppt[$ppa].x)&&($ppa=$ppr);for($ppe=$ppt[0],$ppt[0]=$ppt[$ppa],$ppt[$ppa]=$ppe,$ppr=1;$ppr<$ppi-1;$ppr++){for($pps=($ppa=$ppr)+1;$pps<$ppi;$pps++)(0<$ppQ.multiply($ppt[$pps],$ppt[$ppa],$ppt[0])||0==$ppQ.multiply($ppt[$pps],$ppt[$ppa],$ppt[0])&&$ppQ.dis($ppt[0],$ppt[$pps])<$ppQ.dis($ppt[0],$ppt[$ppa]))&&($ppa=$pps);$ppe=$ppt[$ppr],$ppt[$ppr]=$ppt[$ppa],$ppt[$ppa]=$ppe}if(($ppn=$ppQ._temArr).length=0,$ppt.length<3)return $ppJt.copyArray($ppn,$ppt);for($ppn.push($ppt[0],$ppt[1],$ppt[2]),$ppr=3;$ppr<$ppi;$ppr++){for(;2<=$ppn.length&&0<=$ppQ.multiply($ppt[$ppr],$ppn[$ppn.length-1],$ppn[$ppn.length-2]);)$ppn.pop();$ppt[$ppr]&&$ppn.push($ppt[$ppr])}return $ppn},$ppQ._mPointList=null,$ppQ._tempPointList=[],$ppQ._temPList=[],$ppQ._temArr=[];var $ppZ=$ppQ;function $ppQ(){}$ppc($pptt,"laya.maths.MathUtil"),$pptt.subtractVector3=function($ppt,$ppe,$ppi){$ppi[0]=$ppt[0]-$ppe[0],$ppi[1]=$ppt[1]-$ppe[1],$ppi[2]=$ppt[2]-$ppe[2]},$pptt.lerp=function($ppt,$ppe,$ppi){return $ppt*(1-$ppi)+$ppe*$ppi},$pptt.scaleVector3=function($ppt,$ppe,$ppi){$ppi[0]=$ppt[0]*$ppe,$ppi[1]=$ppt[1]*$ppe,$ppi[2]=$ppt[2]*$ppe},$pptt.lerpVector3=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt[0],$pps=$ppt[1],$ppt=$ppt[2];$ppn[0]=$ppr+$ppi*($ppe[0]-$ppr),$ppn[1]=$pps+$ppi*($ppe[1]-$pps),$ppn[2]=$ppt+$ppi*($ppe[2]-$ppt)},$pptt.lerpVector4=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt[0],$pps=$ppt[1],$ppa=$ppt[2],$ppt=$ppt[3];$ppn[0]=$ppr+$ppi*($ppe[0]-$ppr),$ppn[1]=$pps+$ppi*($ppe[1]-$pps),$ppn[2]=$ppa+$ppi*($ppe[2]-$ppa),$ppn[3]=$ppt+$ppi*($ppe[3]-$ppt)},$pptt.slerpQuaternionArray=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){var $ppc=$ppt[$ppe+0],$ppu=$ppt[$ppe+1],$pp_=$ppt[$ppe+2],$ppt=$ppt[$ppe+3],$ppe=$ppi[$ppn+0],$ppo=$ppi[$ppn+1],$pph=$ppi[$ppn+2],$ppi=$ppi[$ppn+3];var $ppd,$ppl;return($ppn=$ppc*$ppe+$ppu*$ppo+$pp_*$pph+$ppt*$ppi)<0&&($ppn=-$ppn,$ppe=-$ppe,$ppo=-$ppo,$pph=-$pph,$ppi=-$ppi),$ppn=1e-6<1-$ppn?($ppn=Math.acos($ppn),$ppd=Math.sin($ppn),$ppl=Math.sin((1-$ppr)*$ppn)/$ppd,Math.sin($ppr*$ppn)/$ppd):($ppl=1-$ppr,$ppr),$pps[$ppa+0]=$ppl*$ppc+$ppn*$ppe,$pps[$ppa+1]=$ppl*$ppu+$ppn*$ppo,$pps[$ppa+2]=$ppl*$pp_+$ppn*$pph,$pps[$ppa+3]=$ppl*$ppt+$ppn*$ppi,$pps},$pptt.getRotation=function($ppt,$ppe,$ppi,$ppn){return Math.atan2($ppn-$ppe,$ppi-$ppt)/Math.PI*180},$pptt.sortBigFirst=function($ppt,$ppe){return $ppt==$ppe?0:$ppt<$ppe?1:-1},$pptt.sortSmallFirst=function($ppt,$ppe){return $ppt==$ppe?0:$ppt<$ppe?-1:1},$pptt.sortNumBigFirst=function($ppt,$ppe){return parseFloat($ppe)-parseFloat($ppt)},$pptt.sortNumSmallFirst=function($ppt,$ppe){return parseFloat($ppt)-parseFloat($ppe)},$pptt.sortByKey=function($ppi,$ppt,$ppe){var $ppn;return void 0===$ppe&&($ppe=!0),$ppn=($ppt=void 0===$ppt?!1:$ppt)?$ppe?$pptt.sortNumBigFirst:$pptt.sortBigFirst:$ppe?$pptt.sortNumSmallFirst:$pptt.sortSmallFirst,function($ppt,$ppe){return $ppn($ppt[$ppi],$ppe[$ppi])}};var $ppJ=$pptt;function $pptt(){}$ppc($ppit,"laya.maths.Matrix"),($ppi=$ppit.prototype).identity=function(){return this.a=this.d=1,this.b=this.tx=this.ty=this.c=0,this.bTransform=!1,this},$ppi._checkTransform=function(){return this.bTransform=1!==this.a||0!==this.b||0!==this.c||1!==this.d},$ppi.setTranslate=function($ppt,$ppe){return this.tx=$ppt,this.ty=$ppe,this},$ppi.translate=function($ppt,$ppe){return this.tx+=$ppt,this.ty+=$ppe,this},$ppi.scale=function($ppt,$ppe){this.a*=$ppt,this.d*=$ppe,this.c*=$ppt,this.b*=$ppe,this.tx*=$ppt,this.ty*=$ppe,this.bTransform=!0},$ppi.rotate=function($ppt){var $ppe=Math.cos($ppt);$ppt=Math.sin($ppt);var $ppi=this.a;var $ppn=this.c;var $ppr=this.tx;this.a=$ppi*$ppe-this.b*$ppt,this.b=$ppi*$ppt+this.b*$ppe,this.c=$ppn*$ppe-this.d*$ppt,this.d=$ppn*$ppt+this.d*$ppe,this.tx=$ppr*$ppe-this.ty*$ppt,this.ty=$ppr*$ppt+this.ty*$ppe,this.bTransform=!0},$ppi.skew=function($ppt,$ppe){$ppt=Math.tan($ppt);$ppe=Math.tan($ppe);var $ppi=this.a;var $ppn=this.b;return this.a+=$ppe*this.c,this.b+=$ppe*this.d,this.c+=$ppt*$ppi,this.d+=$ppt*$ppn,this},$ppi.invertTransformPoint=function($ppt){var $ppe=this.a;var $ppi=this.b;var $ppn=this.c;var $ppr=this.d;var $pps=this.tx;var $ppa=$ppe*$ppr-$ppi*$ppn;var $ppo=($ppn*this.ty-$ppr*$pps)/$ppa;$pps=-($ppe*this.ty-$ppi*$pps)/$ppa;return $ppt.setTo($ppr/$ppa*$ppt.x+-$ppn/$ppa*$ppt.y+$ppo,-$ppi/$ppa*$ppt.x+$ppe/$ppa*$ppt.y+$pps)},$ppi.transformPoint=function($ppt){return $ppt.setTo(this.a*$ppt.x+this.c*$ppt.y+this.tx,this.b*$ppt.x+this.d*$ppt.y+this.ty)},$ppi.transformPointN=function($ppt){return $ppt.setTo(this.a*$ppt.x+this.c*$ppt.y,this.b*$ppt.x+this.d*$ppt.y)},$ppi.transformPointArray=function($ppt,$ppe){var $ppi=$ppt.length;for(var $ppn=0;$ppn<$ppi;$ppn+=2){var $ppr=$ppt[$ppn],$pps=$ppt[$ppn+1];$ppe[$ppn]=this.a*$ppr+this.c*$pps+this.tx,$ppe[$ppn+1]=this.b*$ppr+this.d*$pps+this.ty}return $ppe},$ppi.transformPointArrayScale=function($ppt,$ppe){var $ppi=$ppt.length;for(var $ppn=0;$ppn<$ppi;$ppn+=2){var $ppr=$ppt[$ppn],$pps=$ppt[$ppn+1];$ppe[$ppn]=this.a*$ppr+this.c*$pps,$ppe[$ppn+1]=this.b*$ppr+this.d*$pps}return $ppe},$ppi.getScaleX=function(){return 0===this.b?this.a:Math.sqrt(this.a*this.a+this.b*this.b)},$ppi.getScaleY=function(){return 0===this.c?this.d:Math.sqrt(this.c*this.c+this.d*this.d)},$ppi.invert=function(){var $ppt=this.a;var $ppe=this.b;var $ppi=this.c;var $ppn=this.d;var $ppr=this.tx;var $pps=$ppt*$ppn-$ppe*$ppi;return this.a=$ppn/$pps,this.b=-$ppe/$pps,this.c=-$ppi/$pps,this.d=$ppt/$pps,this.tx=($ppi*this.ty-$ppn*$ppr)/$pps,this.ty=-($ppt*this.ty-$ppe*$ppr)/$pps,this},$ppi.setTo=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){return this.a=$ppt,this.b=$ppe,this.c=$ppi,this.d=$ppn,this.tx=$ppr,this.ty=$pps,this},$ppi.concat=function($ppt){var $ppe=this.a;var $ppi=this.c;var $ppn=this.tx;return this.a=$ppe*$ppt.a+this.b*$ppt.c,this.b=$ppe*$ppt.b+this.b*$ppt.d,this.c=$ppi*$ppt.a+this.d*$ppt.c,this.d=$ppi*$ppt.b+this.d*$ppt.d,this.tx=$ppn*$ppt.a+this.ty*$ppt.c+$ppt.tx,this.ty=$ppn*$ppt.b+this.ty*$ppt.d+$ppt.ty,this},$ppi.scaleEx=function($ppt,$ppe){var $ppi=this.a,$ppn=this.b,$ppr=this.c,$pps=this.d;0!==$ppn||0!==$ppr?(this.a=$ppt*$ppi,this.b=$ppt*$ppn,this.c=$ppe*$ppr):(this.a=$ppt*$ppi,this.b=0*$pps,this.c=0*$ppi),this.d=$ppe*$pps,this.bTransform=!0},$ppi.rotateEx=function($ppt){var $ppe=Math.cos($ppt);$ppt=Math.sin($ppt);var $ppi=this.a,$ppn=this.b,$ppr=this.c,$pps=this.d;0!==$ppn||0!==$ppr?(this.a=$ppe*$ppi+$ppt*$ppr,this.b=$ppe*$ppn+$ppt*$pps,this.c=-$ppt*$ppi+$ppe*$ppr,this.d=-$ppt*$ppn+$ppe*$pps):(this.a=$ppe*$ppi,this.b=$ppt*$pps,this.c=-$ppt*$ppi,this.d=$ppe*$pps),this.bTransform=!0},$ppi.clone=function(){var $ppt=$ppit.create();return $ppt.a=this.a,$ppt.b=this.b,$ppt.c=this.c,$ppt.d=this.d,$ppt.tx=this.tx,$ppt.ty=this.ty,$ppt.bTransform=this.bTransform,$ppt},$ppi.copyTo=function($ppt){return $ppt.a=this.a,$ppt.b=this.b,$ppt.c=this.c,$ppt.d=this.d,$ppt.tx=this.tx,$ppt.ty=this.ty,$ppt.bTransform=this.bTransform,$ppt},$ppi.toString=function(){return this.a+","+this.b+","+this.c+","+this.d+","+this.tx+","+this.ty},$ppi.destroy=function(){var $ppt;this.inPool||($ppt=$ppit._cache,this.inPool=!0,$ppt._length||($ppt._length=0),($ppt[$ppt._length++]=this).a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.bTransform=!1)},$ppit.mul=function($ppt,$ppe,$ppi){var $ppn=$ppt.a,$ppr=$ppt.b,$pps=$ppt.c,$ppc=$ppt.d,$ppu=$ppt.tx,$ppt=$ppt.ty;var $ppa=$ppe.a,$ppo=$ppe.b,$pph=$ppe.c,$ppl=$ppe.d,$pp_=$ppe.tx,$ppe=$ppe.ty;return 0!==$ppo||0!==$pph?($ppi.a=$ppn*$ppa+$ppr*$pph,$ppi.b=$ppn*$ppo+$ppr*$ppl,$ppi.c=$pps*$ppa+$ppc*$pph,$ppi.d=$pps*$ppo+$ppc*$ppl,$ppi.tx=$ppa*$ppu+$pph*$ppt+$pp_,$ppi.ty=$ppo*$ppu+$ppl*$ppt+$ppe):($ppi.a=$ppn*$ppa,$ppi.b=$ppr*$ppl,$ppi.c=$pps*$ppa,$ppi.d=$ppc*$ppl,$ppi.tx=$ppa*$ppu+$pp_,$ppi.ty=$ppl*$ppt+$ppe),$ppi},$ppit.mul16=function($ppt,$ppe,$ppi){var $ppn=$ppt.a,$ppr=$ppt.b,$pps=$ppt.c,$ppc=$ppt.d,$ppu=$ppt.tx,$ppt=$ppt.ty;var $ppa=$ppe.a,$ppo=$ppe.b,$pph=$ppe.c,$ppl=$ppe.d,$pp_=$ppe.tx,$ppe=$ppe.ty;return 0!==$ppo||0!==$pph?($ppi[0]=$ppn*$ppa+$ppr*$pph,$ppi[1]=$ppn*$ppo+$ppr*$ppl,$ppi[4]=$pps*$ppa+$ppc*$pph,$ppi[5]=$pps*$ppo+$ppc*$ppl,$ppi[12]=$ppa*$ppu+$pph*$ppt+$pp_,$ppi[13]=$ppo*$ppu+$ppl*$ppt+$ppe):($ppi[0]=$ppn*$ppa,$ppi[1]=$ppr*$ppl,$ppi[4]=$pps*$ppa,$ppi[5]=$ppc*$ppl,$ppi[12]=$ppa*$ppu+$pp_,$ppi[13]=$ppl*$ppt+$ppe),$ppi},$ppit.mulPre=function($ppt,$ppe,$ppi,$ppn,$ppr,$ppc,$ppu,$pps){var $ppa=$ppt.a,$ppo=$ppt.b,$pph=$ppt.c,$ppl=$ppt.d,$pp_=$ppt.tx,$ppt=$ppt.ty;return 0!==$ppi||0!==$ppn?($pps.a=$ppa*$ppe+$ppo*$ppn,$pps.b=$ppa*$ppi+$ppo*$ppr,$pps.c=$pph*$ppe+$ppl*$ppn,$pps.d=$pph*$ppi+$ppl*$ppr,$pps.tx=$ppe*$pp_+$ppn*$ppt+$ppc,$pps.ty=$ppi*$pp_+$ppr*$ppt+$ppu):($pps.a=$ppa*$ppe,$pps.b=$ppo*$ppr,$pps.c=$pph*$ppe,$pps.d=$ppl*$ppr,$pps.tx=$ppe*$pp_+$ppc,$pps.ty=$ppr*$ppt+$ppu),$pps},$ppit.mulPos=function($ppt,$ppe,$ppi,$ppn,$ppr,$ppc,$ppu,$pps){var $ppa=$ppt.a,$ppo=$ppt.b,$pph=$ppt.c,$ppl=$ppt.d,$pp_=$ppt.tx,$ppt=$ppt.ty;return 0!==$ppo||0!==$pph?($pps.a=$ppe*$ppa+$ppi*$pph,$pps.b=$ppe*$ppo+$ppi*$ppl,$pps.c=$ppn*$ppa+$ppr*$pph,$pps.d=$ppn*$ppo+$ppr*$ppl,$pps.tx=$ppa*$ppc+$pph*$ppu+$pp_,$pps.ty=$ppo*$ppc+$ppl*$ppu+$ppt):($pps.a=$ppe*$ppa,$pps.b=$ppi*$ppl,$pps.c=$ppn*$ppa,$pps.d=$ppr*$ppl,$pps.tx=$ppa*$ppc+$pp_,$pps.ty=$ppl*$ppu+$ppt),$pps},$ppit.preMul=function($ppt,$ppe,$ppi){var $ppn=$ppt.a,$ppr=$ppt.b,$pps=$ppt.c,$ppa=$ppt.d;var $ppo=$ppe.a,$pph=$ppe.b,$ppl=$ppe.c,$ppc=$ppe.d,$ppu=$ppe.tx,$ppe=$ppe.ty;return $ppi.a=$ppo*$ppn,$ppi.b=$ppi.c=0,$ppi.d=$ppc*$ppa,$ppi.tx=$ppu*$ppn+$ppt.tx,$ppi.ty=$ppe*$ppa+$ppt.ty,0===$pph&&0===$ppl&&0===$ppr&&0===$pps||($ppi.a+=$pph*$pps,$ppi.d+=$ppl*$ppr,$ppi.b+=$ppo*$ppr+$pph*$ppa,$ppi.c+=$ppl*$ppn+$ppc*$pps,$ppi.tx+=$ppe*$pps,$ppi.ty+=$ppu*$ppr),$ppi},$ppit.preMulXY=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt.a,$pps=$ppt.b,$ppa=$ppt.c,$ppo=$ppt.d;return $ppn.a=$ppr,$ppn.b=$pps,$ppn.c=$ppa,$ppn.d=$ppo,$ppn.tx=$ppe*$ppr+$ppt.tx+$ppi*$ppa,$ppn.ty=$ppi*$ppo+$ppt.ty+$ppe*$pps,$ppn},$ppit.create=function(){var $ppt=$ppit._cache;$ppt=$ppt._length?$ppt[--$ppt._length]:new $ppit;return $ppt.inPool=!1,$ppt},$ppit.EMPTY=new $ppit,$ppit.TEMP=new $ppit,$ppit._cache=[];var $ppet=$ppit;function $ppit($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this.inPool=!1,this.bTransform=!1,void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0),void 0===$ppn&&($ppn=1),void 0===$ppr&&($ppr=0),void 0===$pps&&($pps=0),this.a=$ppt=void 0===$ppt?1:$ppt,this.b=$ppe,this.c=$ppi,this.d=$ppn,this.tx=$ppr,this.ty=$pps,this._checkTransform()}$ppc($pprt,"laya.maths.Point"),($ppi=$pprt.prototype).setTo=function($ppt,$ppe){return this.x=$ppt,this.y=$ppe,this},$ppi.distance=function($ppt,$ppe){return Math.sqrt((this.x-$ppt)*(this.x-$ppt)+(this.y-$ppe)*(this.y-$ppe))},$ppi.toString=function(){return this.x+","+this.y},$ppi.normalize=function(){var $ppt=Math.sqrt(this.x*this.x+this.y*this.y);0<$ppt&&(this.x*=$ppt=1/$ppt,this.y*=$ppt)},$pprt.TEMP=new $pprt,$pprt.EMPTY=new $pprt;var $ppnt=$pprt;function $pprt($ppt,$ppe){void 0===$ppe&&($ppe=0),this.x=$ppt=void 0===$ppt?0:$ppt,this.y=$ppe}$ppc($ppat,"laya.maths.Rectangle"),($ppi=$ppat.prototype).setTo=function($ppt,$ppe,$ppi,$ppn){return this.x=$ppt,this.y=$ppe,this.width=$ppi,this.height=$ppn,this},$ppi.copyFrom=function($ppt){return this.x=$ppt.x,this.y=$ppt.y,this.width=$ppt.width,this.height=$ppt.height,this},$ppi.contains=function($ppt,$ppe){return!(this.width<=0||this.height<=0)&&($ppt>=this.x&&$ppt<this.right&&$ppe>=this.y&&$ppe<this.bottom)},$ppi.intersects=function($ppt){return!($ppt.x>this.x+this.width||$ppt.x+$ppt.width<this.x||$ppt.y>this.y+this.height||$ppt.y+$ppt.height<this.y)},$ppi.intersection=function($ppt,$ppe){return this.intersects($ppt)?(($ppe=$ppe||new $ppat).x=Math.max(this.x,$ppt.x),$ppe.y=Math.max(this.y,$ppt.y),$ppe.width=Math.min(this.right,$ppt.right)-$ppe.x,$ppe.height=Math.min(this.bottom,$ppt.bottom)-$ppe.y,$ppe):null},$ppi.union=function($ppt,$ppe){return $ppe=$ppe||new $ppat,this.clone($ppe),$ppt.width<=0||$ppt.height<=0?$ppe:($ppe.addPoint($ppt.x,$ppt.y),$ppe.addPoint($ppt.right,$ppt.bottom),this)},$ppi.clone=function($ppt){return($ppt=$ppt||new $ppat).x=this.x,$ppt.y=this.y,$ppt.width=this.width,$ppt.height=this.height,$ppt},$ppi.toString=function(){return this.x+","+this.y+","+this.width+","+this.height},$ppi.equals=function($ppt){return!(!$ppt||$ppt.x!==this.x||$ppt.y!==this.y||$ppt.width!==this.width||$ppt.height!==this.height)},$ppi.addPoint=function($ppt,$ppe){return this.x>$ppt&&(this.width+=this.x-$ppt,this.x=$ppt),this.y>$ppe&&(this.height+=this.y-$ppe,this.y=$ppe),this.width<$ppt-this.x&&(this.width=$ppt-this.x),this.height<$ppe-this.y&&(this.height=$ppe-this.y),this},$ppi._getBoundPoints=function(){var $ppt=$ppat._temB;return($ppt.length=0)==this.width||0==this.height||$ppt.push(this.x,this.y,this.x+this.width,this.y,this.x,this.y+this.height,this.x+this.width,this.y+this.height),$ppt},$ppi.isEmpty=function(){return this.width<=0||this.height<=0},$ppt(0,$ppi,"right",function(){return this.x+this.width}),$ppt(0,$ppi,"bottom",function(){return this.y+this.height}),$ppat._getBoundPointS=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppat._temA;return($ppr.length=0)==$ppi||0==$ppn||$ppr.push($ppt,$ppe,$ppt+$ppi,$ppe,$ppt,$ppe+$ppn,$ppt+$ppi,$ppe+$ppn),$ppr},$ppat._getWrapRec=function($ppt,$ppe){if(!$ppt||$ppt.length<1)return($ppe||$ppat.TEMP).setTo(0,0,0,0);$ppe=$ppe||new $ppat;var $ppi,$ppn,$ppr,$pps,$ppa,$ppo=$ppt.length,$pph=$ppnt.TEMP;for($ppr=$ppa=-($ppn=$pps=99999),$ppi=0;$ppi<$ppo;$ppi+=2)$pph.x=$ppt[$ppi],$pph.y=$ppt[$ppi+1],$ppn=$ppn<$pph.x?$ppn:$pph.x,$pps=$pps<$pph.y?$pps:$pph.y,$ppr=$ppr>$pph.x?$ppr:$pph.x,$ppa=$ppa>$pph.y?$ppa:$pph.y;return $ppe.setTo($ppn,$pps,$ppr-$ppn,$ppa-$pps)},$ppat.EMPTY=new $ppat,$ppat.TEMP=new $ppat,$ppat._temB=[],$ppat._temA=[];var $ppst=$ppat;function $ppat($ppt,$ppe,$ppi,$ppn){void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0),void 0===$ppn&&($ppn=0),this.x=$ppt=void 0===$ppt?0:$ppt,this.y=$ppe,this.width=$ppi,this.height=$ppn}$ppc($ppa,"laya.media.SoundManager"),$ppt(1,$ppa,"useAudioMusic",function(){return $ppa._useAudioMusic},function($ppt){$ppa._useAudioMusic=$ppt,$ppa._musicClass=$ppt?$ppue:null}),$ppt(1,$ppa,"autoStopMusic",function(){return $ppa._autoStopMusic},function($ppt){$ppw.stage.off("blur",null,$ppa._stageOnBlur),$ppw.stage.off("focus",null,$ppa._stageOnFocus),$ppw.stage.off("visibilitychange",null,$ppa._visibilityChange),($ppa._autoStopMusic=$ppt)&&($ppw.stage.on("blur",null,$ppa._stageOnBlur),$ppw.stage.on("focus",null,$ppa._stageOnFocus),$ppw.stage.on("visibilitychange",null,$ppa._visibilityChange))}),$ppt(1,$ppa,"muted",function(){return $ppa._muted},function($ppt){$ppt!=$ppa._muted&&($ppt&&$ppa.stopAllSound(),$ppa.musicMuted=$ppt,$ppa._muted=$ppt)}),$ppt(1,$ppa,"musicMuted",function(){return $ppa._musicMuted},function($ppt){$ppt!=$ppa._musicMuted&&($ppt?($ppa._tMusic&&$ppa._musicChannel&&!$ppa._musicChannel.isStopped?$ppa._musicChannel.pause():$ppa._musicChannel=null,$ppa._musicMuted=$ppt):($ppa._musicMuted=$ppt,$ppa._tMusic&&$ppa._musicChannel&&$ppa._musicChannel.resume()))}),$ppt(1,$ppa,"soundMuted",function(){return $ppa._soundMuted},function($ppt){$ppa._soundMuted=$ppt}),$ppa.addChannel=function($ppt){0<=$ppa._channels.indexOf($ppt)||($ppa._channels.push($ppt),$ppa.autoReleaseSound&&0!=$ppa._notUsedCount&&$ppa._notUsedUrls[$ppt.url]&&(delete $ppa._notUsedUrls[$ppt.url],0==--$ppa._notUsedCount&&$ppw.timer.clear($ppa,$ppa.disposeSoundIfNotUsed)))},$ppa.removeChannel=function($ppt){var $ppe=$ppa._channels;var $ppi=$ppe.indexOf($ppt);if(-1!=$ppi&&($ppe.splice($ppi,1),$ppa.autoReleaseSound)){var $ppn=$ppt.url;$ppt=$ppa.defaultIntervals[$ppn]||2e4;if(0<$ppt){var $ppr=!0;for($ppi=$ppe.length-1;0<=$ppi;$ppi--)if($ppe[$ppi].url==$ppn){$ppr=!1;break}$ppr&&($ppa._notUsedUrls[$ppn]=Date.now()+$ppt,0==$ppa._notUsedCount++&&$ppw.timer.loop(1e4,$ppa,$ppa.disposeSoundIfNotUsed))}}},$ppa.disposeSoundIfNotUsed=function(){var $ppt=$ppa._notUsedUrls;if(0!=$ppa._notUsedCount){var $ppe=Date.now();for(var $ppi in $ppt)$ppe>=$ppt[$ppi]&&(delete $ppt[$ppi],--$ppa._notUsedCount,$ppa.destroySound($ppi));if(0!=$ppa._notUsedCount)return}$ppw.timer.clear($ppa,$ppa.disposeSoundIfNotUsed)},$ppa._visibilityChange=function(){$ppw.stage.isVisibility?$ppa._stageOnFocus():$ppa._stageOnBlur()},$ppa._stageOnBlur=function(){$ppa._isActive=!1,$ppa._musicChannel&&($ppa._musicChannel.isStopped||($ppa._blurPaused=!0,$ppa._musicChannel.pause())),$ppa.stopAllSound(),$ppw.stage.once("mousedown",null,$ppa._stageOnFocus)},$ppa._recoverWebAudio=function(){$ppme.ctx&&"running"!=$ppme.ctx.state&&$ppme.ctx.resume&&$ppme.ctx.resume()},$ppa._stageOnFocus=function(){$ppa._isActive=!0,$ppa._recoverWebAudio(),$ppw.stage.off("mousedown",null,$ppa._stageOnFocus),$ppa._blurPaused&&$ppa._musicChannel&&$ppa._musicChannel.isStopped&&($ppa._blurPaused=!1,$ppa._musicChannel.resume())},$ppa.playSound=function($ppt,$ppe,$ppi,$ppn,$ppr){if(void 0===$ppe&&($ppe=1),void 0===$ppr&&($ppr=0),!$ppa._isActive||!$ppt)return null;if($ppa._muted)return null;if($ppa._recoverWebAudio(),$ppt==$ppa._tMusic){if($ppa._musicMuted)return null}else{if($ppS.isConchApp){var $pps=$ppJt.getFileExtension($ppt);if("wav"!=$pps&&"ogg"!=$pps)return alert("The sound only supports wav or ogg format,for optimal performance reason,please refer to the official website document."),null}if($ppa._soundMuted)return null}$pps=$ppa._pool[$ppt];return $ppn=$ppn||$ppa._soundClass,$pps||(($pps=new $ppn).load($ppt),$ppa._pool[$ppt]=$pps),($ppn=$pps.play($ppr,$ppe))?($ppn.url=$ppt,$ppn.volume=$ppt==$ppa._tMusic?$ppa.musicVolume:$ppa.soundVolume,$ppn.completeHandler=$ppi,$ppn):null},$ppa.destroySound=function($ppt){var $ppe=$ppa._pool[$ppt];$ppe&&(delete $ppa._pool[$ppt],$ppe.dispose())},$ppa.playMusic=function($ppt,$ppe,$ppi,$ppn){return void 0===$ppe&&($ppe=0),void 0===$ppn&&($ppn=0),$ppa._tMusic=$ppt,$ppa._musicChannel&&$ppa._musicChannel.stop(),$ppa._musicChannel=$ppa.playSound($ppt,$ppe,$ppi,null,$ppn)},$ppa.stopSound=function($ppt){var $ppe;for(var $ppi=$ppa._channels.length-1;0<=$ppi;$ppi--)($ppe=$ppa._channels[$ppi]).url==$ppt&&$ppe.stop()},$ppa.stopAll=function(){$ppa._tMusic=null;var $ppt=0;for($ppt=$ppa._channels.length-1;0<=$ppt;$ppt--)$ppa._channels[$ppt].stop()},$ppa.stopAllSound=function(){var $ppt=0;var $ppe;for($ppt=$ppa._channels.length-1;0<=$ppt;$ppt--)($ppe=$ppa._channels[$ppt]).url!=$ppa._tMusic&&$ppe.stop()},$ppa.stopMusic=function(){$ppa._musicChannel&&$ppa._musicChannel.stop(),$ppa._tMusic=null},$ppa.setSoundVolume=function($ppt,$ppe){if($ppe)$ppa._setVolume($ppe,$ppt);else{$ppa.soundVolume=$ppt;var $ppi=0;var $ppn;for($ppi=$ppa._channels.length-1;0<=$ppi;$ppi--)($ppn=$ppa._channels[$ppi]).url!=$ppa._tMusic&&($ppn.volume=$ppt)}},$ppa.setMusicVolume=function($ppt){$ppa.musicVolume=$ppt,$ppa._setVolume($ppa._tMusic,$ppt)},$ppa._setVolume=function($ppt,$ppe){var $ppi;for(var $ppn=$ppa._channels.length-1;0<=$ppn;$ppn--)($ppi=$ppa._channels[$ppn]).url==$ppt&&($ppi.volume=$ppe)},$ppa.musicVolume=1,$ppa.soundVolume=1,$ppa.playbackRate=1,$ppa._useAudioMusic=!0,$ppa._muted=!1,$ppa._soundMuted=!1,$ppa._musicMuted=!1,$ppa._tMusic=null,$ppa._musicChannel=null,$ppa._channels=[],$ppa._autoStopMusic=!1,$ppa._blurPaused=!1,$ppa._isActive=!0,$ppa._soundClass=null,$ppa._musicClass=null,$ppa.autoReleaseSound=!0,$ppa._pool={},$ppa.defaultIntervals={},$ppa._notUsedUrls={},$ppa._notUsedCount=0;var $ppot=$ppa;function $ppa(){}$ppc($pplt,"laya.net.LocalStorage"),$pplt.__init__=function(){$pplt._baseClass||($pplt._baseClass=$ppct).init(),$pplt.items=$pplt._baseClass.items,$pplt.support=$pplt._baseClass.support},$pplt.setItem=function($ppt,$ppe){$pplt._baseClass.setItem($ppt,$ppe)},$pplt.getItem=function($ppt){return $pplt._baseClass.getItem($ppt)},$pplt.setJSON=function($ppt,$ppe){$pplt._baseClass.setJSON($ppt,$ppe)},$pplt.getJSON=function($ppt){return $pplt._baseClass.getJSON($ppt)},$pplt.removeItem=function($ppt){$pplt._baseClass.removeItem($ppt)},$pplt.clear=function(){$pplt._baseClass.clear()},$pplt._baseClass=null,$pplt.items=null,$pplt.support=!1,$pplt.__init$=function(){function $ppi(){}$ppc($ppi,""),$ppi.init=function(){try{$ppi.support=!0,$ppi.items=$pps.localStorage,$ppi.setItem("laya","1"),$ppi.removeItem("laya")}catch($ppt){$ppi.support=!1}$ppi.support||console.log("LocalStorage is not supprot or browser is private mode.")},$ppi.setItem=function($ppt,$ppe){try{$ppi.support&&$ppi.items.setItem($ppt,$ppe)}catch($ppt){console.warn("set localStorage failed",$ppt)}},$ppi.getItem=function($ppt){return $ppi.support?$ppi.items.getItem($ppt):null},$ppi.setJSON=function($ppt,$ppe){try{$ppi.support&&$ppi.items.setItem($ppt,JSON.stringify($ppe))}catch($ppt){console.warn("set localStorage failed",$ppt)}},$ppi.getJSON=function($ppt){return JSON.parse($ppi.support?$ppi.items.getItem($ppt):null)},$ppi.removeItem=function($ppt){$ppi.support&&$ppi.items.removeItem($ppt)},$ppi.clear=function(){$ppi.support&&$ppi.items.clear()},$ppi.items=null,$ppi.support=!1,$ppct=$ppi};var $ppht=$pplt;function $pplt(){}var $ppct;$ppc($pput,"laya.net.ResourceVersion"),$pput.enable=function($ppt,$ppe,$ppi){void 0===$ppi&&($ppi=2),laya.net.ResourceVersion.type=$ppi,$ppw.loader.load($ppt,$ppv.create(null,$pput.onManifestLoaded,[$ppe]),null,"json"),$ppft.customFormat=$pput.addVersionPrefix},$pput.onManifestLoaded=function($ppt,$ppe){$pput.manifest=$ppe,$ppt.run(),$ppe||console.warn("资源版本清单文件不存在，不使用资源版本管理。忽略ERR_FILE_NOT_FOUND错误。")},$pput.addVersionPrefix=function($ppt){return $pput.manifest&&$pput.manifest[$ppt]?2==$pput.type?$pput.manifest[$ppt]:$pput.manifest[$ppt]+"/"+$ppt:$ppt},$pput.FOLDER_VERSION=1,$pput.FILENAME_VERSION=2,$pput.manifest=null,$pput.type=1;function $pput(){}$ppc($ppdt,"laya.net.TTFLoader"),($ppi=$ppdt.prototype).load=function($ppt){$ppt=(this._url=$ppt).split(".ttf")[0].split("/");this.fontName=$ppt[$ppt.length-1],$ppC.window.conch?this._loadConch():$ppC.window.FontFace?this._loadWithFontFace():this._loadWithCSS()},$ppi._loadConch=function(){this._http=new $ppve,this._http.on("error",this,this._onErr),this._http.on("complete",this,this._onHttpLoaded),this._http.send(this._url,null,"get","arraybuffer")},$ppi._onHttpLoaded=function($ppt){$ppC.window.conch.setFontFaceFromBuffer(this.fontName,$ppt),this._clearHttp(),this._complete()},$ppi._clearHttp=function(){this._http&&(this._http.off("error",this,this._onErr),this._http.off("complete",this,this._onHttpLoaded),this._http=null)},$ppi._onErr=function(){this._clearHttp(),this.err&&(this.err.runWith("fail:"+this._url),this.err=null)},$ppi._complete=function(){$ppw.timer.clear(this,this._complete),$ppw.timer.clear(this,this._checkComplete),this._div&&this._div.parentNode&&(this._div.parentNode.removeChild(this._div),this._div=null),this.complete&&(this.complete.runWith(this),this.complete=null)},$ppi._checkComplete=function(){$ppm.measureText("LayaTTFFont",this._fontTxt).width!=this._txtWidth&&this._complete()},$ppi._loadWithFontFace=function(){var $ppt=new $ppC.window.FontFace(this.fontName,"url('"+this._url+"')");$ppC.window.document.fonts.add($ppt);var $ppe=this;$ppt.loaded.then(function(){$ppe._complete()}),$ppt.load()},$ppi._createDiv=function(){this._div=$ppC.createElement("div"),this._div.innerHTML="laya";var $ppt=this._div.style;$ppt.fontFamily=this.fontName,$ppt.position="absolute",$ppt.left="-100px",$ppt.top="-100px",$ppC.document.body.appendChild(this._div)},$ppi._loadWithCSS=function(){var $ppt=this;var $ppe=$ppC.createElement("style");$ppe.type="text/css",$ppC.document.body.appendChild($ppe),$ppe.textContent="@font-face { font-family:'"+this.fontName+"'; src:url('"+this._url+"');}",this._fontTxt="40px "+this.fontName,this._txtWidth=$ppm.measureText("LayaTTFFont",this._fontTxt).width;var $ppi=this;$ppe.onload=function(){$ppw.timer.once(1e4,$ppi,$ppt._complete)},$ppw.timer.loop(20,this,this._checkComplete),this._createDiv()},$ppdt._testString="LayaTTFFont";var $pp_t=$ppdt;function $ppdt(){this.fontName=null,this.complete=null,this.err=null,this._fontTxt=null,this._url=null,this._div=null,this._txtWidth=NaN,this._http=null}$ppc($pppt,"laya.net.URL"),$ppi=$pppt.prototype,$ppt(0,$ppi,"path",function(){return this._path}),$ppt(0,$ppi,"url",function(){return this._url}),$pppt.formatURL=function($ppt,$ppe){if(!$ppt)return"null path";if(0<$ppt.indexOf(":"))return $ppt;var $ppi=($ppt=null!=$pppt.customFormat?$pppt.customFormat($ppt,$ppe):$ppt).charAt(0);if("."===$ppi)return $pppt.formatRelativePath(($ppe||$pppt.basePath)+$ppt);if("~"===$ppi)return $pppt.rootPath+$ppt.substring(1);if("d"===$ppi){if(0===$ppt.indexOf("data:image"))return $ppt}else if("/"===$ppi)return $ppt;return($ppe||$pppt.basePath)+$ppt},$pppt.formatRelativePath=function($ppt){var $ppe=$ppt.split("/");for(var $ppi=0,$ppn=$ppe.length;$ppi<$ppn;$ppi++)".."==$ppe[$ppi]&&($ppe.splice($ppi-1,2),$ppi-=2);return $ppe.join("/")},$pppt.isAbsolute=function($ppt){return 0<$ppt.indexOf(":")||"/"==$ppt.charAt(0)},$pppt.getPath=function($ppt){var $ppe=$ppt.lastIndexOf("/");return 0<$ppe?$ppt.substr(0,$ppe+1):""},$pppt.getFileName=function($ppt){var $ppe=$ppt.lastIndexOf("/");return 0<$ppe?$ppt.substr($ppe+1):$ppt},$pppt.version={},$pppt.basePath="",$pppt.rootPath="",$pppt.customFormat=function($ppt){var $ppe=$pppt.version[$ppt];return!$ppS.isConchApp&&$ppe&&($ppt+="?v="+$ppe),$ppt};var $ppft=$pppt;function $pppt($ppt){this._url=null,this._path=null,this._url=$pppt.formatURL($ppt),this._path=$pppt.getPath($ppt)}$ppc($ppmt,"laya.renders.Render"),($ppi=$ppmt.prototype)._onVisibilitychange=function(){$ppw.stage.isVisibility?0!=this._timeId&&$ppC.window.clearInterval(this._timeId):this._timeId=$ppC.window.setInterval(this._enterFrame,1e3)},$ppi._enterFrame=function($ppt){$ppw.stage._loop()},$ppt(1,$ppmt,"context",function(){return $ppmt._context}),$ppt(1,$ppmt,"canvas",function(){return $ppmt._mainCanvas.source}),$ppmt._context=null,$ppmt._mainCanvas=null,$ppmt.WebGL=null,$ppmt.isConchNode=!1,$ppmt.isConchApp=!1,$ppmt.isConchWebGL=!1,$ppmt.isWebGL=!1,$ppmt.is3DMode=!1,$ppmt.optimizeTextureMemory=function($ppt,$ppe){return!0},$ppmt.__init$=function(){$pps.ConchRenderType=$pps.ConchRenderType||1,$pps.ConchRenderType|=$pps.conch?4:0,$ppmt.isConchNode=5==(5&$pps.ConchRenderType),$ppmt.isConchApp=4==(4&$pps.ConchRenderType),$ppmt.isConchWebGL=6==$pps.ConchRenderType};var $ppS=$ppmt;function $ppmt($ppt,$ppe){this._timeId=0;var $ppi=$ppmt._mainCanvas.source.style;$ppi.position="absolute",$ppi.top=$ppi.left="0px",$ppi.background="#000000",$ppmt._mainCanvas.source.id="layaCanvas";$ppi=laya.renders.Render.isWebGL;$ppmt._mainCanvas.source.width=$ppt,$ppmt._mainCanvas.source.height=$ppe,$ppi&&$ppmt.WebGL.init($ppmt._mainCanvas,$ppt,$ppe),$ppC.container.appendChild($ppmt._mainCanvas.source),$ppmt._context=new $ppgt($ppt,$ppe,$ppi?null:$ppmt._mainCanvas),$ppmt._context.ctx.setIsMainContext(),$ppC.window.requestAnimationFrame(function $ppt($ppe){$ppC.window.requestAnimationFrame($ppt);$ppw.stage._loop()}),$ppw.stage.on("visibilitychange",this,this._onVisibilitychange)}$ppc($ppvt,"laya.renders.RenderContext"),($ppi=$ppvt.prototype).destroy=function(){this.canvas&&(this.canvas.destroy(),this.canvas=null,this.ctx=null),this.ctx&&(this.ctx.destroy(),this.ctx=null)},$ppi.drawTexture=function($ppt,$ppe,$ppi,$ppn,$ppr){$ppt.loaded&&this.ctx.drawTexture($ppt,$ppe,$ppi,$ppn,$ppr,this.x,this.y)},$ppi._drawTextures=function($ppt,$ppe,$ppi){$ppi[0].loaded&&this.ctx.drawTextures($ppi[0],$ppi[1],$ppt+this.x,$ppe+this.y)},$ppi.drawTextureWithTransform=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){$ppt.loaded&&this.ctx.drawTextureWithTransform($ppt,$ppe,$ppi,$ppn,$ppr,$pps,this.x,this.y,$ppa)},$ppi.fillQuadrangle=function($ppt,$ppe,$ppi,$ppn,$ppr){this.ctx.fillQuadrangle($ppt,$ppe,$ppi,$ppn,$ppr)},$ppi.drawCanvas=function($ppt,$ppe,$ppi,$ppn,$ppr){this.ctx.drawCanvas($ppt,$ppe+this.x,$ppi+this.y,$ppn,$ppr)},$ppi.drawRect=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){void 0===$pps&&($pps=1);var $ppa=this.ctx;$ppa.strokeStyle=$ppr,$ppa.lineWidth=$pps,$ppa.strokeRect($ppt+this.x,$ppe+this.y,$ppi,$ppn,$pps)},$ppi._fillAndStroke=function($ppt,$ppe,$ppi,$ppn){void 0===$ppn&&($ppn=!1);var $ppr=this.ctx;null!=$ppt&&($ppr.fillStyle=$ppt,$ppS.isWebGL?$ppr.fill($ppn):$ppr.fill()),null!=$ppe&&0<$ppi&&($ppr.strokeStyle=$ppe,$ppr.lineWidth=$ppi,$ppr.stroke())},$ppi.clipRect=function($ppt,$ppe,$ppi,$ppn){this.ctx.clipRect($ppt+this.x,$ppe+this.y,$ppi,$ppn)},$ppi.fillRect=function($ppt,$ppe,$ppi,$ppn,$ppr){this.ctx.fillRect($ppt+this.x,$ppe+this.y,$ppi,$ppn,$ppr)},$ppi.drawCircle=function($ppt,$ppe,$ppi,$ppn,$ppr){void 0===$ppr&&($ppr=1),$ppXt.drawCall++;var $pps=this.ctx;$pps.beginPath(),$pps.strokeStyle=$ppn,$pps.lineWidth=$ppr,$pps.arc($ppt+this.x,$ppe+this.y,$ppi,0,$ppvt.PI2),$pps.stroke()},$ppi.drawTriangles=function($ppt,$ppe,$ppi){if($ppS.isWebGL)this.ctx.drawTriangles($ppi[0],$ppt+$ppi[1],$ppe+$ppi[2],$ppi[3],$ppi[4],$ppi[5],$ppi[6],$ppi[7],$ppi[8],$ppi[9]);else{var $ppn=$ppi[5];var $ppr=0,$pps=$ppn.length;var $ppa=this.ctx;for($ppr=0;$ppr<$pps;$ppr+=3){var $ppo=2*$ppn[$ppr];var $pph=2*$ppn[$ppr+1];var $ppl=2*$ppn[$ppr+2];$ppa.drawTriangle($ppi[0],$ppi[3],$ppi[4],$ppo,$pph,$ppl,$ppi[6],!0)}}},$ppi.fillCircle=function($ppt,$ppe,$ppi,$ppn){$ppXt.drawCall++;var $ppr=this.ctx;$ppr.beginPath(),$ppr.fillStyle=$ppn,$ppr.arc($ppt+this.x,$ppe+this.y,$ppi,0,$ppvt.PI2),$ppr.fill()},$ppi.setShader=function($ppt){this.ctx.setShader($ppt)},$ppi.drawLine=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){void 0===$pps&&($pps=1);var $ppa=this.ctx;$ppa.beginPath(),$ppa.strokeStyle=$ppr,$ppa.lineWidth=$pps,$ppa.moveTo(this.x+$ppt,this.y+$ppe),$ppa.lineTo(this.x+$ppi,this.y+$ppn),$ppa.stroke()},$ppi.clear=function(){this.ctx.clear()},$ppi.transformByMatrix=function($ppt){this.ctx.transformByMatrix($ppt)},$ppi.setTransform=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this.ctx.setTransform($ppt,$ppe,$ppi,$ppn,$ppr,$pps)},$ppi.setTransformByMatrix=function($ppt){this.ctx.setTransformByMatrix($ppt)},$ppi.save=function(){this.ctx.save()},$ppi.restore=function(){this.ctx.restore()},$ppi.translate=function($ppt,$ppe){this.ctx.translate($ppt,$ppe)},$ppi.transform=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this.ctx.transform($ppt,$ppe,$ppi,$ppn,$ppr,$pps)},$ppi.rotate=function($ppt){this.ctx.rotate($ppt)},$ppi.scale=function($ppt,$ppe){this.ctx.scale($ppt,$ppe)},$ppi.alpha=function($ppt){this.ctx.globalAlpha*=$ppt},$ppi.setAlpha=function($ppt){this.ctx.globalAlpha=$ppt},$ppi.fillWords=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this.ctx.fillWords($ppt,$ppe,$ppi,$ppn,$ppr,$pps=void 0===$pps?0:$pps)},$ppi.fillBorderWords=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){this.ctx.fillBorderWords($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa)},$ppi.fillText=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this.ctx.fillText($ppt,$ppe+this.x,$ppi+this.y,$ppn,$ppr,$pps)},$ppi.strokeText=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){this.ctx.strokeText($ppt,$ppe+this.x,$ppi+this.y,$ppn,$ppr,$pps,$ppa)},$ppi.blendMode=function($ppt){this.ctx.globalCompositeOperation=$ppt},$ppi.flush=function(){this.ctx.flush&&this.ctx.flush()},$ppi.addRenderObject=function($ppt){this.ctx.addRenderObject($ppt)},$ppi.beginClip=function($ppt,$ppe,$ppi,$ppn){this.ctx.beginClip&&this.ctx.beginClip($ppt,$ppe,$ppi,$ppn)},$ppi.endClip=function(){this.ctx.endClip&&this.ctx.endClip()},$ppi.fillTrangles=function($ppt,$ppe,$ppi){this.ctx.fillTrangles($ppi[0],$ppi[1],$ppi[2],$ppi[3],4<$ppi.length?$ppi[4]:null)},$ppvt.PI2=2*Math.PI;var $ppgt=$ppvt;function $ppvt($ppt,$ppe,$ppi){this.x=0,this.y=0,this._drawTexture=function($ppt,$ppe,$ppi){$ppi[0].loaded&&this.ctx.drawTexture($ppi[0],$ppi[1],$ppi[2],$ppi[3],$ppi[4],$ppt,$ppe)},this._fillTexture=function($ppt,$ppe,$ppi){$ppi[0].loaded&&this.ctx.fillTexture($ppi[0],$ppi[1]+$ppt,$ppi[2]+$ppe,$ppi[3],$ppi[4],$ppi[5],$ppi[6],$ppi[7])},this._drawTextureWithTransform=function($ppt,$ppe,$ppi){$ppi[0].loaded&&this.ctx.drawTextureWithTransform($ppi[0],$ppi[1],$ppi[2],$ppi[3],$ppi[4],$ppi[5],$ppt,$ppe,$ppi[6])},this._fillQuadrangle=function($ppt,$ppe,$ppi){this.ctx.fillQuadrangle($ppi[0],$ppi[1],$ppi[2],$ppi[3],$ppi[4])},this._drawRect=function($ppt,$ppe,$ppi){var $ppn=this.ctx;null!=$ppi[4]&&($ppn.fillStyle=$ppi[4],$ppn.fillRect($ppt+$ppi[0],$ppe+$ppi[1],$ppi[2],$ppi[3],null)),null!=$ppi[5]&&($ppn.strokeStyle=$ppi[5],$ppn.lineWidth=$ppi[6],$ppn.strokeRect($ppt+$ppi[0],$ppe+$ppi[1],$ppi[2],$ppi[3],$ppi[6]))},this._drawPie=function($ppt,$ppe,$ppi){var $ppn=this.ctx;$ppS.isWebGL&&$ppn.setPathId($ppi[8]),$ppn.beginPath(),$ppS.isWebGL?($ppn.movePath($ppi[0]+$ppt,$ppi[1]+$ppe),$ppn.moveTo(0,0)):$ppn.moveTo($ppt+$ppi[0],$ppe+$ppi[1]),$ppn.arc($ppt+$ppi[0],$ppe+$ppi[1],$ppi[2],$ppi[3],$ppi[4]),$ppn.closePath(),this._fillAndStroke($ppi[5],$ppi[6],$ppi[7],!0)},this._clipRect=function($ppt,$ppe,$ppi){this.ctx.clipRect($ppt+$ppi[0],$ppe+$ppi[1],$ppi[2],$ppi[3])},this._fillRect=function($ppt,$ppe,$ppi){this.ctx.fillRect($ppt+$ppi[0],$ppe+$ppi[1],$ppi[2],$ppi[3],$ppi[4])},this._drawCircle=function($ppt,$ppe,$ppi){var $ppn=this.ctx;$ppS.isWebGL&&$ppn.setPathId($ppi[6]),$ppXt.drawCall++,$ppn.beginPath(),$ppS.isWebGL&&$ppn.movePath($ppi[0]+$ppt,$ppi[1]+$ppe),$ppn.arc($ppi[0]+$ppt,$ppi[1]+$ppe,$ppi[2],0,$ppvt.PI2),$ppn.closePath(),this._fillAndStroke($ppi[3],$ppi[4],$ppi[5],!0)},this._fillCircle=function($ppt,$ppe,$ppi){$ppXt.drawCall++;var $ppn=this.ctx;$ppn.beginPath(),$ppn.fillStyle=$ppi[3],$ppn.arc($ppi[0]+$ppt,$ppi[1]+$ppe,$ppi[2],0,$ppvt.PI2),$ppn.fill()},this._setShader=function($ppt,$ppe,$ppi){this.ctx.setShader($ppi[0])},this._drawLine=function($ppt,$ppe,$ppi){var $ppn=this.ctx;$ppS.isWebGL&&$ppn.setPathId($ppi[6]),$ppn.beginPath(),$ppn.strokeStyle=$ppi[4],$ppn.lineWidth=$ppi[5],$ppS.isWebGL?($ppn.movePath($ppt,$ppe),$ppn.moveTo($ppi[0],$ppi[1]),$ppn.lineTo($ppi[2],$ppi[3])):($ppn.moveTo($ppt+$ppi[0],$ppe+$ppi[1]),$ppn.lineTo($ppt+$ppi[2],$ppe+$ppi[3])),$ppn.stroke()},this._drawLines=function($ppt,$ppe,$ppi){var $ppn=this.ctx;$ppS.isWebGL&&$ppn.setPathId($ppi[5]),$ppn.beginPath(),$ppt+=$ppi[0],$ppe+=$ppi[1],$ppS.isWebGL&&$ppn.movePath($ppt,$ppe),$ppn.strokeStyle=$ppi[3],$ppn.lineWidth=$ppi[4];var $ppr=$ppi[2];var $pps=2,$ppa=$ppr.length;if($ppS.isWebGL)for($ppn.moveTo($ppr[0],$ppr[1]);$pps<$ppa;)$ppn.lineTo($ppr[$pps++],$ppr[$pps++]);else for($ppn.moveTo($ppt+$ppr[0],$ppe+$ppr[1]);$pps<$ppa;)$ppn.lineTo($ppt+$ppr[$pps++],$ppe+$ppr[$pps++]);$ppn.stroke()},this._drawLinesWebGL=function($ppt,$ppe,$ppi){this.ctx.drawLines($ppt+this.x+$ppi[0],$ppe+this.y+$ppi[1],$ppi[2],$ppi[3],$ppi[4])},this._drawCurves=function($ppt,$ppe,$ppi){this.ctx.drawCurves($ppt,$ppe,$ppi)},this._draw=function($ppt,$ppe,$ppi){$ppi[0].call(null,this,$ppt,$ppe)},this._transformByMatrix=function($ppt,$ppe,$ppi){this.ctx.transformByMatrix($ppi[0])},this._setTransform=function($ppt,$ppe,$ppi){this.ctx.setTransform($ppi[0],$ppi[1],$ppi[2],$ppi[3],$ppi[4],$ppi[5])},this._setTransformByMatrix=function($ppt,$ppe,$ppi){this.ctx.setTransformByMatrix($ppi[0])},this._save=function($ppt,$ppe,$ppi){this.ctx.save()},this._restore=function($ppt,$ppe,$ppi){this.ctx.restore()},this._translate=function($ppt,$ppe,$ppi){this.ctx.translate($ppi[0],$ppi[1])},this._transform=function($ppt,$ppe,$ppi){this.ctx.translate($ppi[1]+$ppt,$ppi[2]+$ppe);var $ppn=$ppi[0];this.ctx.transform($ppn.a,$ppn.b,$ppn.c,$ppn.d,$ppn.tx,$ppn.ty),this.ctx.translate(-$ppt-$ppi[1],-$ppe-$ppi[2])},this._rotate=function($ppt,$ppe,$ppi){this.ctx.translate($ppi[1]+$ppt,$ppi[2]+$ppe),this.ctx.rotate($ppi[0]),this.ctx.translate(-$ppt-$ppi[1],-$ppe-$ppi[2])},this._scale=function($ppt,$ppe,$ppi){this.ctx.translate($ppi[2]+$ppt,$ppi[3]+$ppe),this.ctx.scale($ppi[0],$ppi[1]),this.ctx.translate(-$ppt-$ppi[2],-$ppe-$ppi[3])},this._alpha=function($ppt,$ppe,$ppi){this.ctx.globalAlpha*=$ppi[0]},this._setAlpha=function($ppt,$ppe,$ppi){this.ctx.globalAlpha=$ppi[0]},this._fillText=function($ppt,$ppe,$ppi){this.ctx.fillText($ppi[0],$ppi[1]+$ppt,$ppi[2]+$ppe,$ppi[3],$ppi[4],$ppi[5])},this._strokeText=function($ppt,$ppe,$ppi){this.ctx.strokeText($ppi[0],$ppi[1]+$ppt,$ppi[2]+$ppe,$ppi[3],$ppi[4],$ppi[5],$ppi[6])},this._fillBorderText=function($ppt,$ppe,$ppi){this.ctx.fillBorderText($ppi[0],$ppi[1]+$ppt,$ppi[2]+$ppe,$ppi[3],$ppi[4],$ppi[5],$ppi[6],$ppi[7])},this._blendMode=function($ppt,$ppe,$ppi){this.ctx.globalCompositeOperation=$ppi[0]},this._beginClip=function($ppt,$ppe,$ppi){this.ctx.beginClip&&this.ctx.beginClip($ppt+$ppi[0],$ppe+$ppi[1],$ppi[2],$ppi[3])},this._setIBVB=function($ppt,$ppe,$ppi){this.ctx.setIBVB($ppi[0]+$ppt,$ppi[1]+$ppe,$ppi[2],$ppi[3],$ppi[4],$ppi[5],$ppi[6],$ppi[7])},this._fillTrangles=function($ppt,$ppe,$ppi){this.ctx.fillTrangles($ppi[0],$ppi[1]+$ppt,$ppi[2]+$ppe,$ppi[3],$ppi[4])},this._drawPath=function($ppt,$ppe,$ppi){var $ppn=this.ctx;$ppS.isWebGL&&$ppn.setPathId(-1),$ppn.beginPath(),$ppt+=$ppi[0],$ppe+=$ppi[1],$ppS.isWebGL&&$ppn.movePath($ppt,$ppe);var $ppr=$ppi[2];for(var $pps=0,$ppa=$ppr.length;$pps<$ppa;$pps++){var $ppo=$ppr[$pps];switch($ppo[0]){case"moveTo":$ppS.isWebGL?$ppn.moveTo($ppo[1],$ppo[2]):$ppn.moveTo($ppt+$ppo[1],$ppe+$ppo[2]);break;case"lineTo":$ppS.isWebGL?$ppn.lineTo($ppo[1],$ppo[2]):$ppn.lineTo($ppt+$ppo[1],$ppe+$ppo[2]);break;case"arcTo":$ppS.isWebGL?$ppn.arcTo($ppo[1],$ppo[2],$ppo[3],$ppo[4],$ppo[5]):$ppn.arcTo($ppt+$ppo[1],$ppe+$ppo[2],$ppt+$ppo[3],$ppe+$ppo[4],$ppo[5]);break;case"closePath":$ppn.closePath()}}var $pph=$ppi[3];null!=$pph&&($ppn.fillStyle=$pph.fillStyle,$ppn.fill());$pph=$ppi[4];null!=$pph&&($ppn.strokeStyle=$pph.strokeStyle,$ppn.lineWidth=$pph.lineWidth||1,$ppn.lineJoin=$pph.lineJoin,$ppn.lineCap=$pph.lineCap,$ppn.miterLimit=$pph.miterLimit,$ppn.stroke())},this.drawPoly=function($ppt,$ppe,$ppi){this.ctx.drawPoly($ppt+this.x+$ppi[0],$ppe+this.y+$ppi[1],$ppi[2],$ppi[3],$ppi[4],$ppi[5],$ppi[6])},this._drawPoly=function($ppt,$ppe,$ppi){var $ppn=this.ctx;var $ppr=$ppi[2];var $pps=2,$ppa=$ppr.length;if($ppS.isWebGL)for($ppn.setPathId($ppi[6]),$ppn.beginPath(),$ppt+=$ppi[0],$ppe+=$ppi[1],$ppn.movePath($ppt,$ppe),$ppn.moveTo($ppr[0],$ppr[1]);$pps<$ppa;)$ppn.lineTo($ppr[$pps++],$ppr[$pps++]);else for($ppn.beginPath(),$ppt+=$ppi[0],$ppe+=$ppi[1],$ppn.moveTo($ppt+$ppr[0],$ppe+$ppr[1]);$pps<$ppa;)$ppn.lineTo($ppt+$ppr[$pps++],$ppe+$ppr[$pps++]);$ppn.closePath(),this._fillAndStroke($ppi[3],$ppi[4],$ppi[5],$ppi[7])},this._drawSkin=function($ppt,$ppe,$ppi){$ppi=$ppi[0];var $ppn;$ppi&&($ppn=this.ctx,$ppi.render($ppn,$ppt,$ppe))},this._drawParticle=function($ppt,$ppe,$ppi){this.ctx.drawParticle($ppt+this.x,$ppe+this.y,$ppi[0])},this._setFilters=function($ppt,$ppe,$ppi){this.ctx.setFilters($ppi)},$ppi?this.ctx=$ppi.getContext("2d"):($ppi=$ppZe.create("3D"),this.ctx=$ppm.createWebGLContext2D($ppi),$ppi._setContext(this.ctx)),$ppi.size($ppt,$ppe),this.canvas=$ppi}$ppc($ppxt,"laya.renders.RenderSprite"),($ppi=$ppxt.prototype).onCreate=function($ppt){},$ppi._style=function($ppt,$ppe,$ppi,$ppn){$ppt._style.render($ppt,$ppe,$ppi,$ppn);var $ppr=this._next;$ppr._fun.call($ppr,$ppt,$ppe,$ppi,$ppn)},$ppi._no=function($ppt,$ppe,$ppi,$ppn){},$ppi._custom=function($ppt,$ppe,$ppi,$ppn){$ppt.customRender($ppe,$ppi,$ppn);var $ppr=$ppt._style._tf;this._next._fun.call(this._next,$ppt,$ppe,$ppi-$ppr.translateX,$ppn-$ppr.translateY)},$ppi._clip=function($ppt,$ppe,$ppi,$ppn){var $ppr=this._next;var $pps;$ppr!=$ppxt.NORENDER&&($pps=$ppt._style.scrollRect,$ppe.ctx.save(),$ppe.ctx.clipRect($ppi,$ppn,$pps.width,$pps.height),$ppr._fun.call($ppr,$ppt,$ppe,$ppi-$pps.x,$ppn-$pps.y),$ppe.ctx.restore())},$ppi._blend=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt._style;$ppr.blendMode&&($ppe.ctx.globalCompositeOperation=$ppr.blendMode);$ppr=this._next;$ppr._fun.call($ppr,$ppt,$ppe,$ppi,$ppn),$ppe.ctx.globalCompositeOperation="source-over"},$ppi._mask=function($ppt,$ppe,$ppi,$ppn){var $ppr=this._next;$ppr._fun.call($ppr,$ppt,$ppe,$ppi,$ppn);$ppr=$ppt.mask;$ppr&&($ppe.ctx.globalCompositeOperation="destination-in",(0<$ppr.numChildren||!$ppr.graphics._isOnlyOne())&&($ppr.cacheAsBitmap=!0),$ppr.render($ppe,$ppi-$ppt.pivotX,$ppn-$ppt.pivotY)),$ppe.ctx.globalCompositeOperation="source-over"},$ppi._graphics=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt._style._tf;$ppt._graphics&&$ppt._graphics._render($ppt,$ppe,$ppi-$ppr.translateX,$ppn-$ppr.translateY);$ppr=this._next;$ppr._fun.call($ppr,$ppt,$ppe,$ppi,$ppn)},$ppi._image=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt._style;$ppe.ctx.drawTexture2($ppi,$ppn,$ppr._tf.translateX,$ppr._tf.translateY,$ppt.transform,$ppr.alpha,$ppr.blendMode,$ppt._graphics._one)},$ppi._image2=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt._style._tf;$ppe.ctx.drawTexture2($ppi,$ppn,$ppr.translateX,$ppr.translateY,$ppt.transform,1,null,$ppt._graphics._one)},$ppi._alpha=function($ppt,$ppe,$ppi,$ppn){var $ppr,$pps;(.01<($pps=$ppt._style.alpha)||$ppt._needRepaint())&&($ppr=$ppe.ctx.globalAlpha,$ppe.ctx.globalAlpha*=$pps,($pps=this._next)._fun.call($pps,$ppt,$ppe,$ppi,$ppn),$ppe.ctx.globalAlpha=$ppr)},$ppi._transform=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt.transform,$pps=this._next;$ppr&&$pps!=$ppxt.NORENDER?($ppe.save(),$ppe.transform($ppr.a,$ppr.b,$ppr.c,$ppr.d,$ppr.tx+$ppi,$ppr.ty+$ppn),$pps._fun.call($pps,$ppt,$ppe,0,0),$ppe.restore()):$pps._fun.call($pps,$ppt,$ppe,$ppi,$ppn)},$ppi._childs=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt._style;var $pps=$ppr._tf;$ppi=$ppi-$pps.translateX+$ppr.paddingLeft,$ppn=$ppn-$pps.translateY+$ppr.paddingTop,$ppr._calculation&&(!($pps=$ppt._getWords())||($ppr=$ppr)&&($ppr.stroke?$ppe.fillBorderWords($pps,$ppi,$ppn,$ppr.font,$ppr.color,$ppr.strokeColor,$ppr.stroke):$ppe.fillWords($pps,$ppi,$ppn,$ppr.font,$ppr.color,"none"!=$ppr.textDecoration&&$ppr.underLine?1:0)));var $ppa,$ppo=$ppt._childs,$pph=$ppo.length;if($ppt.viewport||$ppt.optimizeScrollRect&&$ppt._style.scrollRect){$pps=$ppt.viewport||$ppt._style.scrollRect;var $ppc=$pps.x;var $ppu=$pps.y;var $pp_=$pps.right;var $ppd=$pps.bottom;var $ppf,$ppp=NaN;for($ppl=0;$ppl<$pph;++$ppl)($ppa=$ppo[$ppl]).visible&&($ppf=$ppa._x)<$pp_&&$ppf+$ppa.width>$ppc&&($ppp=$ppa._y)<$ppd&&$ppp+$ppa.height>$ppu&&$ppa.render($ppe,$ppi,$ppn)}else for(var $ppl=0;$ppl<$pph;++$ppl)($ppa=$ppo[$ppl])._style.visible&&$ppa.render($ppe,$ppi,$ppn)},$ppi._canvas=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt._$P.cacheCanvas;var $pps;$ppr?("bitmap"===$ppr.type?$ppXt.canvasBitmap++:$ppXt.canvasNormal++,$pps=$ppr.ctx,$ppt._needRepaint()||!$pps?this._canvas_repaint($ppt,$ppe,$ppi,$ppn):($ppr=$ppr._cacheRec,$ppe.drawCanvas($pps.canvas,$ppi+$ppr.x,$ppn+$ppr.y,$ppr.width,$ppr.height))):this._next._fun.call(this._next,$ppt,$ppe,$ppi,$ppn)},$ppi._canvas_repaint=function($ppt,$ppc,$ppu,$pp_){var $ppe=$ppt._$P.cacheCanvas;var $ppi=this._next;if($ppe){var $ppn=$ppe.ctx;var $ppr=$ppt._needRepaint()||!$ppn;var $pps;var $ppd;var $ppf;var $ppa;var $ppp=$ppe.type;if("bitmap"===$ppp?$ppXt.canvasBitmap++:$ppXt.canvasNormal++,$ppr){var $ppm;$ppe._cacheRec||($ppe._cacheRec=new $ppst),$ppS.isWebGL&&"bitmap"!==$ppp?$ppe._cacheRec.setTo(-$ppt.pivotX,-$ppt.pivotY,1,1):(($ppa=$ppt.getSelfBounds()).x=$ppa.x-$ppt.pivotX,$ppa.y=$ppa.y-$ppt.pivotY,$ppa.x=$ppa.x-16,$ppa.y=$ppa.y-16,$ppa.width=$ppa.width+32,$ppa.height=$ppa.height+32,$ppa.x=Math.floor($ppa.x+$ppu)-$ppu,$ppa.y=Math.floor($ppa.y+$pp_)-$pp_,$ppa.width=Math.floor($ppa.width),$ppa.height=Math.floor($ppa.height),$ppe._cacheRec.copyFrom($ppa)),$ppa=$ppe._cacheRec;$ppr=$ppS.isWebGL?1:$ppC.pixelRatio*$ppw.stage.clientScaleX;var $ppg=$ppS.isWebGL?1:$ppC.pixelRatio*$ppw.stage.clientScaleY;if(!$ppS.isWebGL){var $ppv=1;var $ppy=1;var $ppo;for($ppo=$ppt;$ppo&&$ppo!=$ppw.stage;)$ppv*=$ppo.scaleX,$ppy*=$ppo.scaleY,$ppo=$ppo.parent;$ppS.isWebGL?($ppv<1&&($ppr*=$ppv),$ppy<1&&($ppg*=$ppy)):(1<$ppv&&($ppr*=$ppv),1<$ppy&&($ppg*=$ppy))}var $pph;if($ppt.scrollRect&&($pph=$ppt.scrollRect,$ppa.x-=$pph.x,$ppa.y-=$pph.y),$pph=$ppa.width*$ppr,$ppm=$ppa.height*$ppg,$ppd=$ppa.x,$ppf=$ppa.y,$ppS.isWebGL&&"bitmap"===$ppp&&(2048<$pph||2048<$ppm))return console.warn("cache bitmap size larger than 2048,cache ignored"),$ppe.ctx&&($ppGt.recover("RenderContext",$ppe.ctx),$ppe.ctx.canvas.size(0,0),$ppe.ctx=null),void $ppi._fun.call($ppi,$ppt,$ppc,$ppu,$pp_);var $ppx;var $ppl;($ppn=$ppn||($ppe.ctx=$ppGt.getItem("RenderContext")||new $ppgt($pph,$ppm,$ppZe.create("AUTO")))).ctx.sprite=$ppt,($pps=$ppn.canvas).clear(),$pps.width==$pph&&$pps.height==$ppm||$pps.size($pph,$ppm),"bitmap"===$ppp?$pps.context.asBitmap=!0:"normal"===$ppp&&($pps.context.asBitmap=!1),1!=$ppr||1!=$ppg?(($ppl=$ppn.ctx).save(),$ppl.scale($ppr,$ppg),!$ppS.isConchWebGL&&$ppS.isConchApp&&($ppx=$ppt._$P.cf)&&$ppl.setFilterMatrix&&$ppl.setFilterMatrix($ppx._mat,$ppx._alpha),$ppi._fun.call($ppi,$ppt,$ppn,-$ppd,-$ppf),$ppl.restore()):($ppl=$ppn.ctx,!$ppS.isConchWebGL&&$ppS.isConchApp&&($ppx=$ppt._$P.cf)&&$ppl.setFilterMatrix&&$ppl.setFilterMatrix($ppx._mat,$ppx._alpha),$ppi._fun.call($ppi,$ppt,$ppn,-$ppd,-$ppf)),$ppS.isConchApp&&!$ppS.isConchWebGL||$ppt._applyFilters(),$ppt._$P.staticCache&&($ppe.reCache=!1),$ppXt.canvasReCache++}else $ppd=($ppa=$ppe._cacheRec).x,$ppf=$ppa.y,$pps=$ppn.canvas;$ppc.drawCanvas($pps,$ppu+$ppd,$pp_+$ppf,$ppa.width,$ppa.height)}else $ppi._fun.call($ppi,$ppt,$ppn,$ppu,$pp_)},$ppxt.__init__=function(){var $ppt=0;var $ppe;for($ppe=$ppm.createRenderSprite(69905,null),$ppxt.renders.length=4096,$ppt=0;$ppt<4096;$ppt++)$ppxt.renders[$ppt]=$ppe;$ppxt.renders[0]=$ppm.createRenderSprite(0,null);var $ppi=[1,512,4,2];var $ppn=new $ppxt(1,null);var $ppr=0;for(var $pps=0;$pps<$ppi.length;$pps++)$ppr|=$ppi[$pps],$ppxt.renders[$ppr]=$ppn;$ppxt.renders[513]=$ppm.createRenderSprite(513,null),$ppxt.renders[517]=new $ppxt(517,null)},$ppxt._initRenderFun=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt._renderType;($ppxt.renders[$ppr]=$ppxt._getTypeRender($ppr))._fun($ppt,$ppe,$ppi,$ppn)},$ppxt._getTypeRender=function($ppt){var $ppe=null;var $ppi=2048;for(;1<$ppi;)$ppi&$ppt&&($ppe=$ppm.createRenderSprite($ppi,$ppe)),$ppi>>=1;return $ppe},$ppxt.IMAGE=1,$ppxt.ALPHA=2,$ppxt.TRANSFORM=4,$ppxt.BLEND=8,$ppxt.CANVAS=16,$ppxt.FILTERS=32,$ppxt.MASK=64,$ppxt.CLIP=128,$ppxt.STYLE=256,$ppxt.GRAPHICS=512,$ppxt.CUSTOM=1024,$ppxt.CHILDS=2048,$ppxt.INIT=69905,$ppxt.renders=[],$ppxt.NORENDER=new $ppxt(0,null);var $ppyt=$ppxt;function $ppxt($ppt,$ppe){switch(this._next=$ppe||$ppxt.NORENDER,$ppt){case 0:return void(this._fun=this._no);case 1:return void(this._fun=this._image);case 2:return void(this._fun=this._alpha);case 4:return void(this._fun=this._transform);case 8:return void(this._fun=this._blend);case 16:return void(this._fun=this._canvas);case 64:return void(this._fun=this._mask);case 128:return void(this._fun=this._clip);case 256:return void(this._fun=this._style);case 512:return void(this._fun=this._graphics);case 2048:return void(this._fun=this._childs);case 1024:return void(this._fun=this._custom);case 513:case 517:return void(this._fun=this._image2);case 32:return void(this._fun=$ppG._filter);case 69905:return void(this._fun=$ppxt._initRenderFun)}this.onCreate($ppt)}$ppc($ppbt,"laya.resource.Context"),($ppi=$ppbt.prototype).replaceReset=function(){var $ppt,$ppe=0;var $ppi;for($ppt=$ppbt.replaceKeys.length,$ppe=0;$ppe<$ppt;$ppe++)$ppi=$ppbt.replaceKeys[$ppe],this[$ppbt.newKeys[$ppe]]=this[$ppi]},$ppi.replaceResotre=function(){this.__restore(),this.__reset()},$ppi.setIsMainContext=function(){},$ppi.drawTextures=function($ppt,$ppe,$ppi,$ppn){$ppXt.drawCall+=$ppe.length/2;var $ppr=$ppt.width;var $pps=$ppt.height;for(var $ppa=0,$ppo=$ppe.length;$ppa<$ppo;$ppa+=2)this.drawTexture($ppt,$ppe[$ppa],$ppe[$ppa+1],$ppr,$pps,$ppi,$ppn)},$ppi.drawCanvas=function($ppt,$ppe,$ppi,$ppn,$ppr){$ppXt.drawCall++,this.drawImage($ppt.source,$ppe,$ppi,$ppn,$ppr)},$ppi.fillRect=function($ppt,$ppe,$ppi,$ppn,$ppr){$ppXt.drawCall++,$ppr&&(this.fillStyle=$ppr),this.__fillRect($ppt,$ppe,$ppi,$ppn)},$ppi.fillText=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){$ppXt.drawCall++,3<arguments.length&&null!=$ppn&&(this.font=$ppn,this.fillStyle=$ppr,this.textAlign=$pps,this.textBaseline="top"),this.__fillText($ppt,$ppe,$ppi)},$ppi.fillBorderText=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){$ppXt.drawCall++,this.font=$ppn,this.fillStyle=$ppr,this.textBaseline="top",this.strokeStyle=$pps,this.lineWidth=$ppa,this.textAlign=$ppo,this.__strokeText($ppt,$ppe,$ppi),this.__fillText($ppt,$ppe,$ppi)},$ppi.strokeText=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){$ppXt.drawCall++,3<arguments.length&&null!=$ppn&&(this.font=$ppn,this.strokeStyle=$ppr,this.lineWidth=$pps,this.textAlign=$ppa,this.textBaseline="top"),this.__strokeText($ppt,$ppe,$ppi)},$ppi.transformByMatrix=function($ppt){this.transform($ppt.a,$ppt.b,$ppt.c,$ppt.d,$ppt.tx,$ppt.ty)},$ppi.setTransformByMatrix=function($ppt){this.setTransform($ppt.a,$ppt.b,$ppt.c,$ppt.d,$ppt.tx,$ppt.ty)},$ppi.clipRect=function($ppt,$ppe,$ppi,$ppn){$ppXt.drawCall++,this.beginPath(),this.rect($ppt,$ppe,$ppi,$ppn),this.clip()},$ppi.drawTexture=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){$ppXt.drawCall++;var $ppo=$ppt.uv,$pph=$ppt.bitmap.width,$ppl=$ppt.bitmap.height;this.drawImage($ppt.source,$ppo[0]*$pph,$ppo[1]*$ppl,($ppo[2]-$ppo[0])*$pph,($ppo[5]-$ppo[3])*$ppl,$ppe+$pps,$ppi+$ppa,$ppn,$ppr)},$ppi.drawTextureWithTransform=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppc,$ppu){$ppXt.drawCall++;var $ppo=$ppt.uv,$pph=$ppt.bitmap.width,$ppl=$ppt.bitmap.height;this.save(),1!=$ppu&&(this.globalAlpha*=$ppu),$pps?(this.transform($pps.a,$pps.b,$pps.c,$pps.d,$pps.tx+$ppa,$pps.ty+$ppc),this.drawImage($ppt.source,$ppo[0]*$pph,$ppo[1]*$ppl,($ppo[2]-$ppo[0])*$pph,($ppo[5]-$ppo[3])*$ppl,$ppe,$ppi,$ppn,$ppr)):this.drawImage($ppt.source,$ppo[0]*$pph,$ppo[1]*$ppl,($ppo[2]-$ppo[0])*$pph,($ppo[5]-$ppo[3])*$ppl,$ppe+$ppa,$ppi+$ppc,$ppn,$ppr),this.restore()},$ppi.drawTexture2=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppc,$ppa){var $ppo=$ppa[0];var $ppu,$pp_,$pph,$ppl;$ppo.loaded&&$ppo.bitmap&&$ppo.source&&($ppXt.drawCall++,($ppu=1!==$pps)&&($pp_=this.globalAlpha,this.globalAlpha*=$pps),$pps=$ppo.uv,$pph=$ppo.bitmap.width,$ppl=$ppo.bitmap.height,$ppr?(this.save(),this.transform($ppr.a,$ppr.b,$ppr.c,$ppr.d,$ppr.tx+$ppt,$ppr.ty+$ppe),this.drawImage($ppo.source,$pps[0]*$pph,$pps[1]*$ppl,($pps[2]-$pps[0])*$pph,($pps[5]-$pps[3])*$ppl,$ppa[1]-$ppi,$ppa[2]-$ppn,$ppa[3],$ppa[4]),this.restore()):this.drawImage($ppo.source,$pps[0]*$pph,$pps[1]*$ppl,($pps[2]-$pps[0])*$pph,($pps[5]-$pps[3])*$ppl,$ppa[1]-$ppi+$ppt,$ppa[2]-$ppn+$ppe,$ppa[3],$ppa[4]),$ppu&&(this.globalAlpha=$pp_))},$ppi.fillTexture=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){$ppo.pat||($ppt.uv!=$ppAe.DEF_UV&&(($pph=new $ppZe("2D")).getContext("2d"),$pph.size($ppt.width,$ppt.height),$pph.context.drawTexture($ppt,0,0,$ppt.width,$ppt.height,0,0),$ppt=new $ppAe($pph)),$ppo.pat=this.createPattern($ppt.bitmap.source,$pps));var $pph=$ppe,$pps=$ppi;$ppe=0,$ppi=0;$ppa&&($pph+=$ppa.x%$ppt.width,$pps+=$ppa.y%$ppt.height,$ppe-=$ppa.x%$ppt.width,$ppi-=$ppa.y%$ppt.height),this.translate($pph,$pps),this.fillRect($ppe,$ppi,$ppn,$ppr,$ppo.pat),this.translate(-$pph,-$pps)},$ppi.drawTriangle=function($ppc,$ppt,$ppe,$ppi,$ppn,$ppr,$ppu,$pps){var $pp_=$ppc.bitmap;var $ppd=$pp_.source;var $ppf=$ppc.width;var $ppp=$ppc.height;var $ppm=$pp_.width;$pp_=$pp_.height;var $ppa=$ppe[$ppi]*$ppm;var $ppo=$ppe[$ppn]*$ppm;var $ppg=$ppe[$ppr]*$ppm;var $ppv=$ppe[$ppi+1]*$pp_;var $ppy=$ppe[$ppn+1]*$pp_;$ppe=$ppe[$ppr+1]*$pp_;var $ppx=$ppt[$ppi];var $ppw=$ppt[$ppn];var $ppb=$ppt[$ppr];$ppi=$ppt[$ppi+1];$ppn=$ppt[$ppn+1];$ppt=$ppt[$ppr+1];var $ppT,$pph;$pps&&($pps=$ppi-($ppr=($ppi+$ppn+$ppt)/3),$ppx=($ppl=($ppx+$ppw+$ppb)/3)+($ppT=$ppx-$ppl)/($pph=Math.sqrt($ppT*$ppT+$pps*$pps))*($pph+1),$ppi=$ppr+$pps/$pph*($pph+1),$pps=$ppn-$ppr,$ppw=$ppl+($ppT=$ppw-$ppl)/($pph=Math.sqrt($ppT*$ppT+$pps*$pps))*($pph+1),$ppn=$ppr+$pps/$pph*($pph+1),$pps=$ppt-$ppr,$ppb=$ppl+($ppT=$ppb-$ppl)/($pph=Math.sqrt($ppT*$ppT+$pps*$pps))*($pph+1),$ppt=$ppr+$pps/$pph*($pph+1)),this.save(),$ppu&&this.transform($ppu.a,$ppu.b,$ppu.c,$ppu.d,$ppu.tx,$ppu.ty),this.beginPath(),this.moveTo($ppx,$ppi),this.lineTo($ppw,$ppn),this.lineTo($ppb,$ppt),this.closePath(),this.clip();var $ppl=1/($ppa*$ppy+$ppv*$ppg+$ppo*$ppe-$ppy*$ppg-$ppv*$ppo-$ppa*$ppe);this.transform(($ppx*$ppy+$ppv*$ppb+$ppw*$ppe-$ppy*$ppb-$ppv*$ppw-$ppx*$ppe)*$ppl,($ppi*$ppy+$ppv*$ppt+$ppn*$ppe-$ppy*$ppt-$ppv*$ppn-$ppi*$ppe)*$ppl,($ppa*$ppw+$ppx*$ppg+$ppo*$ppb-$ppw*$ppg-$ppx*$ppo-$ppa*$ppb)*$ppl,($ppa*$ppn+$ppi*$ppg+$ppo*$ppt-$ppn*$ppg-$ppi*$ppo-$ppa*$ppt)*$ppl,($ppa*$ppy*$ppb+$ppv*$ppw*$ppg+$ppx*$ppo*$ppe-$ppx*$ppy*$ppg-$ppv*$ppo*$ppb-$ppa*$ppw*$ppe)*$ppl,($ppa*$ppy*$ppt+$ppv*$ppn*$ppg+$ppi*$ppo*$ppe-$ppi*$ppy*$ppg-$ppv*$ppo*$ppt-$ppa*$ppn*$ppe)*$ppl),this.drawImage($ppd,$ppc.uv[0]*$ppm,$ppc.uv[1]*$pp_,$ppf,$ppp,$ppc.uv[0]*$ppm,$ppc.uv[1]*$pp_,$ppf,$ppp),this.restore()},$ppi.flush=function(){return 0},$ppi.fillWords=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){$ppn&&(this.font=$ppn),$ppr&&(this.fillStyle=$ppr);this.textBaseline="top",this.textAlign="left";for(var $ppa=0,$ppc=$ppt.length;$ppa<$ppc;$ppa++){var $ppo=$ppt[$ppa];var $pph,$ppl;this.__fillText($ppo.char,$ppo.x+$ppe,$ppo.y+$ppi),1===$pps&&($pph=$ppo.height,$ppl=($ppl=.5*$ppo.style.letterSpacing)||0,this.beginPath(),this.strokeStyle=$ppr,this.lineWidth=1,this.moveTo($ppe+$ppo.x-$ppl+.5,$ppi+$ppo.y+$pph+.5),this.lineTo($ppe+$ppo.x+$ppo.width+$ppl+.5,$ppi+$ppo.y+$pph+.5),this.stroke())}},$ppi.fillBorderWords=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){$ppn&&(this.font=$ppn),$ppr&&(this.fillStyle=$ppr),this.textBaseline="top",this.lineWidth=$ppa,this.textAlign="left",this.strokeStyle=$pps;for(var $ppo=0,$pph=$ppt.length;$ppo<$pph;$ppo++){var $ppl=$ppt[$ppo];this.__strokeText($ppl.char,$ppl.x+$ppe,$ppl.y+$ppi),this.__fillText($ppl.char,$ppl.x+$ppe,$ppl.y+$ppi)}},$ppi.destroy=function(){this.canvas.width=this.canvas.height=0},$ppi.clear=function(){this.clearRect(0,0,this._canvas.width,this._canvas.height),this._repaint=!1},$ppi.drawCurves=function($ppt,$ppe,$ppi){this.beginPath(),this.strokeStyle=$ppi[3],this.lineWidth=$ppi[4];var $ppn=$ppi[2];$ppt+=$ppi[0],$ppe+=$ppi[1],this.moveTo($ppt+$ppn[0],$ppe+$ppn[1]);var $ppr=2,$pps=$ppn.length;for(;$ppr<$pps;)this.quadraticCurveTo($ppt+$ppn[$ppr++],$ppe+$ppn[$ppr++],$ppt+$ppn[$ppr++],$ppe+$ppn[$ppr++]);this.stroke()},$ppbt.__init__=function($ppe){var $ppi=laya.resource.Context.prototype;($ppe=$ppe||CanvasRenderingContext2D.prototype).inited||($ppe.inited=!0,$ppe.__fillText=$ppe.fillText,$ppe.__fillRect=$ppe.fillRect,$ppe.__strokeText=$ppe.strokeText,["drawTextures","drawTriangle","fillWords","fillBorderWords","setIsMainContext","fillRect","strokeText","fillTexture","fillText","transformByMatrix","setTransformByMatrix","clipRect","drawTexture","drawTexture2","drawTextureWithTransform","flush","clear","destroy","drawCanvas","fillBorderText","drawCurves"].forEach(function($ppt){$ppe[$ppt]=$ppi[$ppt]}))},$ppbt.replaceCanvasGetSet=function($ppt,$ppe){var $ppi=Object.getOwnPropertyDescriptor($ppt,$ppe);if(!$ppi||!$ppi.configurable)return!1;var $ppn={};for(var $ppr in $ppi)"set"!=$ppr&&($ppn[$ppr]=$ppi[$ppr]);var $pps=$ppi.set;return $ppn.set=function($ppt){$pps.call(this,$ppt);$ppt=this.getContext("2d");$ppt&&"__reset"in $ppt&&$ppt.__reset()},Object.defineProperty($ppt,$ppe,$ppn),!0},$ppbt.replaceGetSet=function($ppt,$ppe){var $ppi=Object.getOwnPropertyDescriptor($ppt,$ppe);if(!$ppi||!$ppi.configurable)return!1;var $ppn={};for(var $ppr in $ppi)"set"!=$ppr&&($ppn[$ppr]=$ppi[$ppr]);var $pps=$ppi.set;var $ppa="___"+$ppe+"__";return $ppbt.newKeys.push($ppa),$ppn.set=function($ppt){$ppt!=this[$ppa]&&(this[$ppa]=$ppt,$pps.call(this,$ppt))},Object.defineProperty($ppt,$ppe,$ppn),!0},$ppbt._default=new $ppbt,$ppbt.newKeys=[],$ppl($ppbt,["replaceKeys",function(){return this.replaceKeys=["font","fillStyle","textBaseline"]}]);var $ppwt=$ppbt;function $ppbt(){this._repaint=!1}$ppc($ppSt,"laya.resource.ResourceManager"),$ppi=$ppSt.prototype,$ppw.imps($ppi,{"laya.resource.IDispose":!0}),$ppi.getResourceByIndex=function($ppt){return this._resources[$ppt]},$ppi.getResourcesLength=function(){return this._resources.length},$ppi.addResource=function($ppt){return $ppt.resourceManager&&$ppt.resourceManager.removeResource($ppt),-1===this._resources.indexOf($ppt)&&(($ppt._resourceManager=this)._resources.push($ppt),this.addSize($ppt.memorySize),!0)},$ppi.removeResource=function($ppt){var $ppe=this._resources.indexOf($ppt);return-1!==$ppe&&(this._resources.splice($ppe,1),$ppt._resourceManager=null,this._memorySize-=$ppt.memorySize,!0)},$ppi.unload=function(){var $ppt=this._resources.slice(0,this._resources.length);for(var $ppe=0;$ppe<$ppt.length;$ppe++)$ppt[$ppe].destroy();$ppt.length=0},$ppi.dispose=function(){if(this===$ppSt._systemResourceManager)throw new Error("systemResourceManager不能被释放！");$ppSt._resourceManagers.splice($ppSt._resourceManagers.indexOf(this),1),$ppSt._isResourceManagersSorted=!1;var $ppt=this._resources.slice(0,this._resources.length);for(var $ppe=0;$ppe<$ppt.length;$ppe++){var $ppi=$ppt[$ppe];$ppi.resourceManager.removeResource($ppi),$ppi.destroy()}$ppt.length=0},$ppi.addSize=function($ppt){$ppt&&(this.autoRelease&&0<$ppt&&this._memorySize+$ppt>this.autoReleaseMaxSize&&this.garbageCollection((1-this._garbageCollectionRate)*this.autoReleaseMaxSize),this._memorySize+=$ppt)},$ppi.garbageCollection=function($ppt){var $ppe=this._resources;($ppe=$ppe.slice()).sort(function($ppt,$ppe){if(!$ppt||!$ppe)throw new Error("a或b不能为空！");return $ppt.released&&$ppe.released?0:$ppt.released?1:$ppe.released?-1:$ppt._lastUseFrameCount-$ppe._lastUseFrameCount});var $ppi=$ppXt.loopCount;for(var $ppn=0,$ppr=$ppe.length;$ppn<$ppr;$ppn++){var $pps=$ppe[$ppn];if(!(1<$ppi-$pps._lastUseFrameCount))return void(this._memorySize>=$ppt&&(this._isOverflow=!0));if($pps.releaseResource(),this._memorySize<$ppt)return void(this._isOverflow=!1)}},$ppt(0,$ppi,"id",function(){return this._id}),$ppt(0,$ppi,"name",function(){return this._name},function($ppt){!$ppt&&""===$ppt||this._name===$ppt||(this._name=$ppt,$ppSt._isResourceManagersSorted=!1)}),$ppt(0,$ppi,"memorySize",function(){return this._memorySize}),$ppt(1,$ppSt,"systemResourceManager",function(){return $ppSt._systemResourceManager}),$ppSt.__init__=function(){$ppSt.currentResourceManager=$ppSt.systemResourceManager},$ppSt.getLoadedResourceManagerByIndex=function($ppt){return $ppSt._resourceManagers[$ppt]},$ppSt.getLoadedResourceManagersCount=function(){return $ppSt._resourceManagers.length},$ppSt.recreateContentManagers=function($ppt){void 0===$ppt&&($ppt=!1);var $ppe=$ppSt.currentResourceManager;for(var $ppi=0;$ppi<$ppSt._resourceManagers.length;$ppi++){$ppSt.currentResourceManager=$ppSt._resourceManagers[$ppi];for(var $ppn=0;$ppn<$ppSt.currentResourceManager._resources.length;$ppn++)$ppSt.currentResourceManager._resources[$ppn].releaseResource($ppt),$ppSt.currentResourceManager._resources[$ppn].activeResource($ppt)}$ppSt.currentResourceManager=$ppe},$ppSt.releaseContentManagers=function($ppt){void 0===$ppt&&($ppt=!1);var $ppe=$ppSt.currentResourceManager;for(var $ppi=0;$ppi<$ppSt._resourceManagers.length;$ppi++){$ppSt.currentResourceManager=$ppSt._resourceManagers[$ppi];for(var $ppn=0;$ppn<$ppSt.currentResourceManager._resources.length;$ppn++){var $ppr=$ppSt.currentResourceManager._resources[$ppn];$ppr.released||$ppr.releaseResource($ppt)}}$ppSt.currentResourceManager=$ppe},$ppSt._uniqueIDCounter=0,$ppSt._isResourceManagersSorted=!1,$ppSt._resourceManagers=[],$ppl($ppSt,["_systemResourceManager",function(){return this._systemResourceManager=new $ppSt("System Resource Manager")},"currentResourceManager",function(){return this.currentResourceManager=$ppSt._systemResourceManager}]);var $ppTt=$ppSt;function $ppSt($ppt){this._id=0,this._name=null,this._resources=null,this._memorySize=0,this._garbageCollectionRate=NaN,this._isOverflow=!1,this.autoRelease=!1,this.autoReleaseMaxSize=0,this._id=++$ppSt._uniqueIDCounter,this._name=$ppt||"Content Manager",$ppSt._isResourceManagersSorted=!1,this._memorySize=0,this._isOverflow=!1,this.autoRelease=!1,this.autoReleaseMaxSize=536870912,this._garbageCollectionRate=.2,$ppSt._resourceManagers.push(this),this._resources=[]}$ppc($ppCt,"laya.system.System"),$ppCt.changeDefinition=function($ppt,$ppe){$ppw[$ppt]=$ppe,$ppw._runScript($ppt+"=classObj")},$ppCt.__init__=function(){$ppS.isConchApp&&(conch.disableConchResManager(),conch.disableConchAutoRestoreLostedDevice())};function $ppCt(){}$ppc($ppe,"laya.utils.Browser"),$ppt(1,$ppe,"pixelRatio",function(){return $ppe.__init__(),-1<$ppe.userAgent.indexOf("Mozilla/6.0(Linux; Android 6.0; HUAWEI NXT-AL10 Build/HUAWEINXT-AL10)")?2:$ppm.getPixelRatio()}),$ppt(1,$ppe,"height",function(){return $ppe.__init__(),($ppw.stage&&$ppw.stage.canvasRotation?$ppe.clientWidth:$ppe.clientHeight)*$ppe.pixelRatio}),$ppt(1,$ppe,"clientWidth",function(){return $ppe.__init__(),$ppe.window.innerWidth||$ppe.document.body.clientWidth}),$ppt(1,$ppe,"window",function(){return $ppe.__init__(),$ppe._window}),$ppt(1,$ppe,"clientHeight",function(){return $ppe.__init__(),$ppe.window.innerHeight||$ppe.document.body.clientHeight||$ppe.document.documentElement.clientHeight}),$ppt(1,$ppe,"width",function(){return $ppe.__init__(),($ppw.stage&&$ppw.stage.canvasRotation?$ppe.clientHeight:$ppe.clientWidth)*$ppe.pixelRatio}),$ppt(1,$ppe,"container",function(){return $ppe.__init__(),$ppe._container||(($ppe._container=$ppe.createElement("div")).id="layaContainer",$ppe.document.body.appendChild($ppe._container)),$ppe._container},function($ppt){$ppe._container=$ppt}),$ppt(1,$ppe,"document",function(){return $ppe.__init__(),$ppe._document}),$ppe.__init__=function(){var $ppt;$ppe._window||($ppe._window=$ppm.getWindow(),$ppe._document=$ppe.window.document,$ppe._window.addEventListener("message",function($ppt){laya.utils.Browser._onMessage($ppt)},!1),$ppe.document.__createElement=$ppe.document.createElement,$pps.requestAnimationFrame=$pps.requestAnimationFrame||$pps.webkitRequestAnimationFrame||$pps.mozRequestAnimationFrame||$pps.oRequestAnimationFrame||$pps.msRequestAnimationFrame||function($ppt){return $pps.setTimeout($ppt,1e3/60)},($ppt=$pps.document.body.style)["-webkit-user-select"]="none",$ppt["-webkit-tap-highlight-color"]="rgba(200,200,200,0)",$ppe.userAgent=$ppe.window.navigator.userAgent,$ppe.onIOS=!!($ppe.u=$ppe.userAgent).match(/\(i[^;]+;(U;)? CPU.+Mac OS X/),$ppe.onMobile=-1<$ppe.u.indexOf("Mobile"),$ppe.onIPhone=-1<$ppe.u.indexOf("iPhone"),$ppe.onMac=-1<$ppe.u.indexOf("Mac OS X"),$ppe.onIPad=-1<$ppe.u.indexOf("iPad"),$ppe.onAndroid=-1<$ppe.u.indexOf("Android")||-1<$ppe.u.indexOf("Adr"),$ppe.onWP=-1<$ppe.u.indexOf("Windows Phone"),$ppe.onQQBrowser=-1<$ppe.u.indexOf("QQBrowser"),$ppe.onMQQBrowser=-1<$ppe.u.indexOf("MQQBrowser")||-1<$ppe.u.indexOf("Mobile")&&-1<$ppe.u.indexOf("QQ"),$ppe.onIE=!!$ppe.window.ActiveXObject||"ActiveXObject"in $ppe.window,$ppe.onWeiXin=-1<$ppe.u.indexOf("MicroMessenger"),$ppe.onPC=!$ppe.onMobile,$ppe.onSafari=-1<$ppe.u.indexOf("Safari"),$ppe.onFirefox=-1<$ppe.u.indexOf("Firefox"),$ppe.onEdge=-1<$ppe.u.indexOf("Edge"),$ppe.onMiniGame=-1<$ppe.u.indexOf("MiniGame"),$ppe.onLimixiu=-1<$ppe.u.indexOf("limixiu"),$ppe.httpProtocol="http:"==$ppe.window.location.protocol,$ppe.onMiniGame&&null==$ppe.window.focus&&console.error("请先初始化小游戏适配库，详细教程https://ldc.layabox.com/doc/?nav=zh-ts-5-0-0"),$ppe.webAudioEnabled=!!($ppe.window.AudioContext||$ppe.window.webkitAudioContext||$ppe.window.mozAudioContext),$ppe.soundType=$ppe.webAudioEnabled?"WEBAUDIOSOUND":"AUDIOSOUND",$ppfe=$ppe.webAudioEnabled?$ppme:$ppue,$ppe.webAudioEnabled&&$ppme.initWebAudio(),$ppue._initMusicAudio(),$ppe.enableTouch="ontouchstart"in $pps||$pps.DocumentTouch&&$pph instanceof DocumentTouch,$pps.focus(),$ppot._soundClass=$ppfe,$ppot._musicClass=$ppue,$ppS._mainCanvas=$ppS._mainCanvas||$ppZe.create("2D"),$ppe.canvas||($ppe.canvas=$ppZe.create("2D"),$ppe.context=$ppe.canvas.getContext("2d")))},$ppe._onMessage=function($ppt){$ppt.data&&"size"==$ppt.data.name&&($ppe.window.innerWidth=$ppt.data.width,$ppe.window.innerHeight=$ppt.data.height,$ppe.window.__innerHeight=$ppt.data.clientHeight,$ppe.document.createEvent?(($ppt=$ppe.document.createEvent("HTMLEvents")).initEvent("resize",!1,!1),$ppe.window.dispatchEvent($ppt)):console.warn("no document.createEvent"))},$ppe.createElement=function($ppt){return $ppe.__init__(),$ppe.document.__createElement($ppt)},$ppe.getElementById=function($ppt){return $ppe.__init__(),$ppe.document.getElementById($ppt)},$ppe.removeElement=function($ppt){$ppt&&$ppt.parentNode&&$ppt.parentNode.removeChild($ppt)},$ppe.now=function(){return $ppm.now()},$ppe._window=null,$ppe._document=null,$ppe._container=null,$ppe.userAgent=null,$ppe.u=null,$ppe.onIOS=!1,$ppe.onMac=!1,$ppe.onMobile=!1,$ppe.onIPhone=!1,$ppe.onIPad=!1,$ppe.onAndroid=!1,$ppe.onWP=!1,$ppe.onQQBrowser=!1,$ppe.onMQQBrowser=!1,$ppe.onSafari=!1,$ppe.onFirefox=!1,$ppe.onEdge=!1,$ppe.onIE=!1,$ppe.onWeiXin=!1,$ppe.onMiniGame=!1,$ppe.onLimixiu=!1,$ppe.onPC=!1,$ppe.httpProtocol=!1,$ppe.webAudioEnabled=!1,$ppe.soundType=null,$ppe.enableTouch=!1,$ppe.canvas=null,$ppe.context=null,$ppe.__init$=function(){};var $ppC=$ppe;function $ppe(){}$ppc($ppEt,"laya.utils.Byte"),($ppi=$ppEt.prototype).___resizeBuffer=function($ppe){try{var $ppt=new Uint8Array($ppe);null!=this._u8d_&&(this._u8d_.length<=$ppe?$ppt.set(this._u8d_):$ppt.set(this._u8d_.subarray(0,$ppe))),this._u8d_=$ppt,this._d_=new DataView($ppt.buffer)}catch($ppt){throw"___resizeBuffer err:"+$ppe}},$ppi.getString=function(){return this.rUTF(this.getUint16())},$ppi.getFloat32Array=function($ppt,$ppe){$ppe=$ppt+$ppe;$ppe=$ppe>this._length?this._length:$ppe;$ppt=new Float32Array(this._d_.buffer.slice($ppt,$ppe));return this._pos_=$ppe,$ppt},$ppi.getUint8Array=function($ppt,$ppe){$ppe=$ppt+$ppe;$ppe=$ppe>this._length?this._length:$ppe;$ppt=new Uint8Array(this._d_.buffer.slice($ppt,$ppe));return this._pos_=$ppe,$ppt},$ppi.getInt16Array=function($ppt,$ppe){$ppe=$ppt+$ppe;$ppe=$ppe>this._length?this._length:$ppe;$ppt=new Int16Array(this._d_.buffer.slice($ppt,$ppe));return this._pos_=$ppe,$ppt},$ppi.getFloat32=function(){if(this._pos_+4>this._length)throw"getFloat32 error - Out of bounds";var $ppt=this._d_.getFloat32(this._pos_,this._xd_);return this._pos_+=4,$ppt},$ppi.getFloat64=function(){if(this._pos_+8>this._length)throw"getFloat64 error - Out of bounds";var $ppt=this._d_.getFloat64(this._pos_,this._xd_);return this._pos_+=8,$ppt},$ppi.writeFloat32=function($ppt){this.ensureWrite(this._pos_+4),this._d_.setFloat32(this._pos_,$ppt,this._xd_),this._pos_+=4},$ppi.writeFloat64=function($ppt){this.ensureWrite(this._pos_+8),this._d_.setFloat64(this._pos_,$ppt,this._xd_),this._pos_+=8},$ppi.getInt32=function(){if(this._pos_+4>this._length)throw"getInt32 error - Out of bounds";var $ppt=this._d_.getInt32(this._pos_,this._xd_);return this._pos_+=4,$ppt},$ppi.getUint32=function(){if(this._pos_+4>this._length)throw"getUint32 error - Out of bounds";var $ppt=this._d_.getUint32(this._pos_,this._xd_);return this._pos_+=4,$ppt},$ppi.writeInt32=function($ppt){this.ensureWrite(this._pos_+4),this._d_.setInt32(this._pos_,$ppt,this._xd_),this._pos_+=4},$ppi.writeUint32=function($ppt){this.ensureWrite(this._pos_+4),this._d_.setUint32(this._pos_,$ppt,this._xd_),this._pos_+=4},$ppi.getInt16=function(){if(this._pos_+2>this._length)throw"getInt16 error - Out of bounds";var $ppt=this._d_.getInt16(this._pos_,this._xd_);return this._pos_+=2,$ppt},$ppi.getUint16=function(){if(this._pos_+2>this._length)throw"getUint16 error - Out of bounds";var $ppt=this._d_.getUint16(this._pos_,this._xd_);return this._pos_+=2,$ppt},$ppi.writeUint16=function($ppt){this.ensureWrite(this._pos_+2),this._d_.setUint16(this._pos_,$ppt,this._xd_),this._pos_+=2},$ppi.writeInt16=function($ppt){this.ensureWrite(this._pos_+2),this._d_.setInt16(this._pos_,$ppt,this._xd_),this._pos_+=2},$ppi.getUint8=function(){if(this._pos_+1>this._length)throw"getUint8 error - Out of bounds";return this._d_.getUint8(this._pos_++)},$ppi.writeUint8=function($ppt){this.ensureWrite(this._pos_+1),this._d_.setUint8(this._pos_,$ppt),this._pos_++},$ppi._getUInt8=function($ppt){return this._d_.getUint8($ppt)},$ppi._getUint16=function($ppt){return this._d_.getUint16($ppt,this._xd_)},$ppi._getMatrix=function(){return new $ppet(this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32())},$ppi.rUTF=function($ppt){var $ppe,$ppi,$ppn=[],$ppr=this._pos_+$ppt,$pps=0,$ppa=String.fromCharCode;var $ppo=this._u8d_;for(;this._pos_<$ppr;)($ppe=$ppo[this._pos_++])<128?0!=$ppe&&$ppn.push($ppa($ppe)):$ppe<224?$ppn.push($ppa((63&$ppe)<<6|127&$ppo[this._pos_++])):$ppe<240?($pps=$ppo[this._pos_++],$ppn.push($ppa((31&$ppe)<<12|(127&$pps)<<6|127&$ppo[this._pos_++]))):($pps=$ppo[this._pos_++],$ppi=$ppo[this._pos_++],$ppn.push($ppa((15&$ppe)<<18|(127&$pps)<<12|$ppi<<6&127|127&$ppo[this._pos_++]))),0;return $ppn.join("")},$ppi.getCustomString=function($ppt){var $ppe,$ppi=[],$ppn=0,$ppr=0,$pps=String.fromCharCode;var $ppa=this._u8d_;for(;0<$ppt;)if(($ppr=$ppa[this._pos_])<128)$ppi.push($pps($ppr)),this._pos_++,$ppt--;else for($ppn=$ppr-128,this._pos_++,$ppt-=$ppn;0<$ppn;)$ppr=$ppa[this._pos_++],$ppe=$ppa[this._pos_++],$ppi.push($pps($ppe<<8|$ppr)),$ppn--;return $ppi.join("")},$ppi.clear=function(){this._pos_=0,this.length=0},$ppi.__getBuffer=function(){return this._d_.buffer},$ppi.writeUTFBytes=function($ppt){for(var $ppe=0,$ppi=($ppt+="").length;$ppe<$ppi;$ppe++){var $ppn=$ppt.charCodeAt($ppe);$ppn<=127?this.writeByte($ppn):$ppn<=2047?(this.ensureWrite(this._pos_+2),this._u8d_.set([192|$ppn>>6,128|63&$ppn],this._pos_),this._pos_+=2):$ppn<=65535?(this.ensureWrite(this._pos_+3),this._u8d_.set([224|$ppn>>12,128|$ppn>>6&63,128|63&$ppn],this._pos_),this._pos_+=3):(this.ensureWrite(this._pos_+4),this._u8d_.set([240|$ppn>>18,128|$ppn>>12&63,128|$ppn>>6&63,128|63&$ppn],this._pos_),this._pos_+=4)}},$ppi.writeUTFString=function($ppt){var $ppe=this.pos;this.writeUint16(1),this.writeUTFBytes($ppt);$ppt=this.pos-$ppe-2;if(65536<=$ppt)throw"writeUTFString byte len more than 65536";this._d_.setUint16($ppe,$ppt,this._xd_)},$ppi.readUTFString=function(){return this.readUTFBytes(this.getUint16())},$ppi.getUTFString=function(){return this.readUTFString()},$ppi.readUTFBytes=function($ppt){if(0==($ppt=void 0===$ppt?-1:$ppt))return"";var $ppe=this.bytesAvailable;if($ppe<$ppt)throw"readUTFBytes error - Out of bounds";return this.rUTF($ppt=0<$ppt?$ppt:$ppe)},$ppi.getUTFBytes=function($ppt){return this.readUTFBytes($ppt=void 0===$ppt?-1:$ppt)},$ppi.writeByte=function($ppt){this.ensureWrite(this._pos_+1),this._d_.setInt8(this._pos_,$ppt),this._pos_+=1},$ppi.readByte=function(){if(this._pos_+1>this._length)throw"readByte error - Out of bounds";return this._d_.getInt8(this._pos_++)},$ppi.getByte=function(){return this.readByte()},$ppi.ensureWrite=function($ppt){this._length<$ppt&&(this._length=$ppt),this._allocated_<$ppt&&(this.length=$ppt)},$ppi.writeArrayBuffer=function($ppt,$ppe,$ppi){if(void 0===$ppi&&($ppi=0),($ppe=void 0===$ppe?0:$ppe)<0||$ppi<0)throw"writeArrayBuffer error - Out of bounds";0==$ppi&&($ppi=$ppt.byteLength-$ppe),this.ensureWrite(this._pos_+$ppi);$ppt=new Uint8Array($ppt);this._u8d_.set($ppt.subarray($ppe,$ppe+$ppi),this._pos_),this._pos_+=$ppi},$ppt(0,$ppi,"buffer",function(){var $ppt=this._d_.buffer;return $ppt.byteLength==this.length?$ppt:$ppt.slice(0,this.length)}),$ppt(0,$ppi,"endian",function(){return this._xd_?"littleEndian":"bigEndian"},function($ppt){this._xd_="littleEndian"==$ppt}),$ppt(0,$ppi,"length",function(){return this._length},function($ppt){this._allocated_<$ppt?this.___resizeBuffer(this._allocated_=Math.floor(Math.max($ppt,2*this._allocated_))):this._allocated_>$ppt&&this.___resizeBuffer(this._allocated_=$ppt),this._length=$ppt}),$ppt(0,$ppi,"pos",function(){return this._pos_},function($ppt){this._pos_=$ppt}),$ppt(0,$ppi,"bytesAvailable",function(){return this._length-this._pos_}),$ppEt.getSystemEndian=function(){var $ppt;return $ppEt._sysEndian||($ppt=new ArrayBuffer(2),new DataView($ppt).setInt16(0,256,!0),$ppEt._sysEndian=256===new Int16Array($ppt)[0]?"littleEndian":"bigEndian"),$ppEt._sysEndian},$ppEt.BIG_ENDIAN="bigEndian",$ppEt.LITTLE_ENDIAN="littleEndian",$ppEt._sysEndian=null;var $ppMt=$ppEt;function $ppEt($ppt){this._xd_=!0,this._allocated_=8,this._pos_=0,this._length=0,$ppt?(this._u8d_=new Uint8Array($ppt),this._d_=new DataView(this._u8d_.buffer),this._length=this._d_.byteLength):this.___resizeBuffer(this._allocated_)}$ppc($ppDt,"laya.utils.CacheManager"),$ppDt.regCacheByFunction=function($ppt,$ppe){$ppDt.unRegCacheByFunction($ppt,$ppe),$ppDt._cacheList.push({tryDispose:$ppt,getCacheList:$ppe})},$ppDt.unRegCacheByFunction=function($ppt,$ppe){var $ppi,$ppn=0;for($ppi=$ppDt._cacheList.length,$ppn=0;$ppn<$ppi;$ppn++)if($ppDt._cacheList[$ppn].tryDispose==$ppt&&$ppDt._cacheList[$ppn].getCacheList==$ppe)return void $ppDt._cacheList.splice($ppn,1)},$ppDt.forceDispose=function(){var $ppt=0,$ppe=$ppDt._cacheList.length;for($ppt=0;$ppt<$ppe;$ppt++)$ppDt._cacheList[$ppt].tryDispose(!0)},$ppDt.beginCheck=function($ppt){$ppw.timer.loop($ppt=void 0===$ppt?15e3:$ppt,null,$ppDt._checkLoop)},$ppDt.stopCheck=function(){$ppw.timer.clear(null,$ppDt._checkLoop)},$ppDt._checkLoop=function(){var $ppt=$ppDt._cacheList;if(!($ppt.length<1)){var $ppe=$ppC.now();var $ppi=0;var $ppn;for($ppn=$ppi=$ppt.length;0<$ppi&&($ppt[$ppDt._index=++$ppDt._index%$ppn].tryDispose(!1),!($ppC.now()-$ppe>$ppDt.loopTimeLimit));)$ppi--}},$ppDt.loopTimeLimit=2,$ppDt._cacheList=[],$ppDt._index=0;var $ppAt=$ppDt;function $ppDt(){}$ppc($ppRt,"laya.utils.ClassUtils"),$ppRt.regClass=function($ppt,$ppe){$ppRt._classMap[$ppt]=$ppe},$ppRt.getRegClass=function($ppt){return $ppRt._classMap[$ppt]},$ppRt.getInstance=function($ppt){var $ppe=$ppRt.getClass($ppt);return $ppe?new $ppe:(console.warn("[error] Undefined class:",$ppt),null)},$ppRt.createByJson=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=($ppt="string"==typeof $ppt?JSON.parse($ppt):$ppt).props;if(!$ppe&&!($ppe=$ppr?$ppr.runWith($ppt):$ppRt.getInstance($pps.runtime||$ppt.type)))return null;var $ppc=$ppt.child;if($ppc)for(var $ppu=0,$pp_=$ppc.length;$ppu<$pp_;$ppu++){var $ppa=$ppc[$ppu];var $ppo;"render"!==$ppa.props.name&&"render"!==$ppa.props.renderType||!$ppe._$set_itemRender?"Graphic"==$ppa.type?$ppRt.addGraphicsToSprite($ppa,$ppe):$ppRt.isDrawType($ppa.type)?$ppRt.addGraphicToSprite($ppa,$ppe,!0):($ppo=$ppRt.createByJson($ppa,null,$ppi,$ppn,$ppr),"Script"==$ppa.type?$ppo.hasOwnProperty("owner")?$ppo.owner=$ppe:$ppo.hasOwnProperty("target")&&($ppo.target=$ppe):"mask"==$ppa.props.renderType?$ppe.mask=$ppo:$ppe.addChild($ppo)):$ppe.itemRender=$ppa}if($pps)for(var $pph in $pps){var $ppl=$pps[$pph];"var"===$pph&&$ppi?$ppi[$ppl]=$ppe:$ppl instanceof Array&&"function"==typeof $ppe[$pph]?$ppe[$pph].apply($ppe,$ppl):$ppe[$pph]=$ppl}return $ppn&&$ppt.customProps&&$ppn.runWith([$ppe,$ppt]),$ppe.created&&$ppe.created(),$ppe},$ppRt.addGraphicsToSprite=function($ppt,$ppe){var $ppi;if(($ppi=$ppt.child)&&!($ppi.length<1)){var $ppn;$ppn=$ppRt._getGraphicsFromSprite($ppt,$ppe);$ppe=0;var $ppr=0;$ppt.props&&($ppe=$ppRt._getObjVar($ppt.props,"x",0),$ppr=$ppRt._getObjVar($ppt.props,"y",0)),0!=$ppe&&0!=$ppr&&$ppn.translate($ppe,$ppr);var $pps,$ppa=0;for($pps=$ppi.length,$ppa=0;$ppa<$pps;$ppa++)$ppRt._addGraphicToGraphics($ppi[$ppa],$ppn);0!=$ppe&&0!=$ppr&&$ppn.translate(-$ppe,-$ppr)}},$ppRt.addGraphicToSprite=function($ppt,$ppe,$ppi){$ppi=($ppi=void 0===$ppi?!1:$ppi)?$ppRt._getGraphicsFromSprite($ppt,$ppe):$ppe.graphics,$ppRt._addGraphicToGraphics($ppt,$ppi)},$ppRt._getGraphicsFromSprite=function($ppt,$ppe){var $ppi;if(!$ppt||!$ppt.props)return $ppe.graphics;var $ppn;switch($ppn=$ppt.props.renderType){case"hit":case"unHit":var $ppr;$ppe.hitArea||($ppe.hitArea=new $ppkt),($ppr=$ppe.hitArea)[$ppn]||($ppr[$ppn]=new $ppI),$ppi=$ppr[$ppn]}return $ppi=$ppi||$ppe.graphics},$ppRt._getTransformData=function($ppt){var $ppe;($ppt.hasOwnProperty("pivotX")||$ppt.hasOwnProperty("pivotY"))&&($ppe=$ppe||new $ppet).translate(-$ppRt._getObjVar($ppt,"pivotX",0),-$ppRt._getObjVar($ppt,"pivotY",0));var $ppi=$ppRt._getObjVar($ppt,"scaleX",1),$ppn=$ppRt._getObjVar($ppt,"scaleY",1);var $ppr=$ppRt._getObjVar($ppt,"rotation",0);$ppRt._getObjVar($ppt,"skewX",0);$ppRt._getObjVar($ppt,"skewY",0);return 1==$ppi&&1==$ppn&&0==$ppr||(($ppe=$ppe||new $ppet).scale($ppi,$ppn),$ppe.rotate(.0174532922222222*$ppr)),$ppe},$ppRt._addGraphicToGraphics=function($ppt,$ppe){var $ppi,$ppn;($ppn=$ppt.props)&&($ppi=$ppRt.DrawTypeDic[$ppt.type])&&($ppt=$ppe,$ppe=$ppRt._getParams($ppn,$ppi[1],$ppi[2],$ppi[3]),!($ppn=$ppRt._tM)&&1==$ppRt._alpha||($ppt.save(),$ppn&&$ppt.transform($ppn),1!=$ppRt._alpha&&$ppt.alpha($ppRt._alpha)),$ppt[$ppi[0]].apply($ppt,$ppe),!$ppn&&1==$ppRt._alpha||$ppt.restore())},$ppRt._adptLineData=function($ppt){return $ppt[2]=parseFloat($ppt[0])+parseFloat($ppt[2]),$ppt[3]=parseFloat($ppt[1])+parseFloat($ppt[3]),$ppt},$ppRt._adptTextureData=function($ppt){return $ppt[0]=$ppxe.getRes($ppt[0]),$ppt},$ppRt._adptLinesData=function($ppt){return $ppt[2]=$ppRt._getPointListByStr($ppt[2]),$ppt},$ppRt.isDrawType=function($ppt){return"Image"!=$ppt&&$ppRt.DrawTypeDic.hasOwnProperty($ppt)},$ppRt._getParams=function($ppt,$ppe,$ppi,$ppn){var $ppr;void 0===$ppi&&($ppi=0),($ppr=$ppRt._temParam).length=$ppe.length;var $pps,$ppa=0;for($pps=$ppe.length,$ppa=0;$ppa<$pps;$ppa++)$ppr[$ppa]=$ppRt._getObjVar($ppt,$ppe[$ppa][0],$ppe[$ppa][1]);var $ppo;return $ppRt._alpha=$ppRt._getObjVar($ppt,"alpha",1),($ppo=$ppRt._getTransformData($ppt))?($ppo.translate($ppr[$ppi=$ppi||0],$ppr[$ppi+1]),$ppr[$ppi]=$ppr[$ppi+1]=0,$ppRt._tM=$ppo):$ppRt._tM=null,$ppr=$ppn&&$ppRt[$ppn]?$ppRt[$ppn]($ppr):$ppr},$ppRt._getPointListByStr=function($ppt){var $ppe;var $ppi,$ppn=0;for($ppi=($ppe=$ppt.split(",")).length,$ppn=0;$ppn<$ppi;$ppn++)$ppe[$ppn]=parseFloat($ppe[$ppn]);return $ppe},$ppRt._getObjVar=function($ppt,$ppe,$ppi){return $ppt.hasOwnProperty($ppe)?$ppt[$ppe]:$ppi},$ppRt._temParam=[],$ppRt._classMap={Sprite:"laya.display.Sprite",Text:"laya.display.Text",Animation:"laya.display.Animation",Skeleton:"laya.ani.bone.Skeleton",Particle2D:"laya.particle.Particle2D",div:"laya.html.dom.HTMLDivElement",p:"laya.html.dom.HTMLElement",img:"laya.html.dom.HTMLImageElement",span:"laya.html.dom.HTMLElement",br:"laya.html.dom.HTMLBrElement",style:"laya.html.dom.HTMLStyleElement",font:"laya.html.dom.HTMLElement",a:"laya.html.dom.HTMLElement","#text":"laya.html.dom.HTMLElement"},$ppRt.getClass=function($ppt){$ppt=$ppRt._classMap[$ppt]||$ppt;return"string"==typeof $ppt?$ppw.__classmap[$ppt]:$ppt},$ppRt._tM=null,$ppRt._alpha=NaN,$ppl($ppRt,["DrawTypeDic",function(){return this.DrawTypeDic={Rect:["drawRect",[["x",0],["y",0],["width",0],["height",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Circle:["drawCircle",[["x",0],["y",0],["radius",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Pie:["drawPie",[["x",0],["y",0],["radius",0],["startAngle",0],["endAngle",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Image:["drawTexture",[["x",0],["y",0],["width",0],["height",0]]],Texture:["drawTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0]],1,"_adptTextureData"],FillTexture:["fillTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0],["repeat",null]],1,"_adptTextureData"],FillText:["fillText",[["text",""],["x",0],["y",0],["font",null],["color",null],["textAlign",null]],1],Line:["drawLine",[["x",0],["y",0],["toX",0],["toY",0],["lineColor",null],["lineWidth",0]],0,"_adptLineData"],Lines:["drawLines",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],Curves:["drawCurves",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],Poly:["drawPoly",[["x",0],["y",0],["points",""],["fillColor",null],["lineColor",null],["lineWidth",1]],0,"_adptLinesData"]}}]);var $ppIt=$ppRt;function $ppRt(){}$ppc($ppLt,"laya.utils.Color"),$ppLt._initDefault=function(){for(var $ppt in $ppLt._DEFAULT={},$ppLt._COLOR_MAP)$ppLt._SAVE[$ppt]=$ppLt._DEFAULT[$ppt]=new $ppLt($ppLt._COLOR_MAP[$ppt]);return $ppLt._DEFAULT},$ppLt._initSaveMap=function(){for(var $ppt in $ppLt._SAVE_SIZE=0,$ppLt._SAVE={},$ppLt._DEFAULT)$ppLt._SAVE[$ppt]=$ppLt._DEFAULT[$ppt]},$ppLt.create=function($ppt){var $ppe=$ppLt._SAVE[$ppt+""];return null!=$ppe?$ppe:($ppLt._SAVE_SIZE<1e3||$ppLt._initSaveMap(),$ppLt._SAVE[$ppt+""]=new $ppLt($ppt))},$ppLt._SAVE={},$ppLt._SAVE_SIZE=0,$ppLt._COLOR_MAP={white:"#FFFFFF",red:"#FF0000",green:"#00FF00",blue:"#0000FF",black:"#000000",yellow:"#FFFF00",gray:"#AAAAAA"},$ppLt._DEFAULT=$ppLt._initDefault(),$ppLt._COLODID=1;var $ppPt=$ppLt;function $ppLt($ppt){if(this._color=[],"string"==typeof $ppt){var $ppe=($ppt="#"==($ppt=null===(this.strColor=$ppt)?"#000000":$ppt).charAt(0)?$ppt.substr(1):$ppt).length;if(3==$ppe||4==$ppe){var $ppi="";for(var $ppn=0;$ppn<$ppe;$ppn++)$ppi+=$ppt[$ppn]+$ppt[$ppn];$ppt=$ppi}var $ppr=this.numColor=parseInt($ppt,16);if(8==$ppt.length)return void(this._color=[parseInt($ppt.substr(0,2),16)/255,((16711680&$ppr)>>16)/255,((65280&$ppr)>>8)/255,(255&$ppr)/255])}else $ppr=this.numColor=$ppt,this.strColor=$ppJt.toHexColor($ppr);this._color=[((16711680&$ppr)>>16)/255,((65280&$ppr)>>8)/255,(255&$ppr)/255,1],this._color.__id=++$ppLt._COLODID}$ppc($ppBt,"laya.utils.Dictionary"),($ppi=$ppBt.prototype).set=function($ppt,$ppe){var $ppi=this.indexOf($ppt);0<=$ppi?this._values[$ppi]=$ppe:(this._keys.push($ppt),this._values.push($ppe))},$ppi.indexOf=function($ppt){var $ppe=this._keys.indexOf($ppt);return 0<=$ppe?$ppe:($ppt="string"==typeof $ppt?Number($ppt):"number"==typeof $ppt?$ppt.toString():$ppt,this._keys.indexOf($ppt))},$ppi.get=function($ppt){$ppt=this.indexOf($ppt);return $ppt<0?null:this._values[$ppt]},$ppi.remove=function($ppt){$ppt=this.indexOf($ppt);return 0<=$ppt&&(this._keys.splice($ppt,1),this._values.splice($ppt,1),!0)},$ppi.clear=function(){this._values.length=0,this._keys.length=0},$ppt(0,$ppi,"values",function(){return this._values}),$ppt(0,$ppi,"keys",function(){return this._keys});function $ppBt(){this._values=[],this._keys=[]}$ppc($ppOt,"laya.utils.Dragging"),($ppi=$ppOt.prototype).start=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){void 0===$ppo&&($ppo=.92),this.clearTimer(),this.target=$ppt,this.area=$ppe,this.hasInertia=$ppi,this.elasticDistance=$ppe?$ppn:0,this.elasticBackTime=$ppr,this.data=$pps,this._disableMouseEvent=$ppa,this.ratio=$ppo,1!=$ppt.globalScaleX||1!=$ppt.globalScaleY?this._parent=$ppt.parent:this._parent=$ppw.stage,this._clickOnly=!0,this._dragging=!0,this._elasticRateX=this._elasticRateY=1,this._lastX=this._parent.mouseX,this._lastY=this._parent.mouseY,$ppw.stage.on("mouseup",this,this.onStageMouseUp),$ppw.stage.on("mouseout",this,this.onStageMouseUp),$ppw.timer.frameLoop(1,this,this.loop)},$ppi.clearTimer=function(){$ppw.timer.clear(this,this.loop),$ppw.timer.clear(this,this.tweenMove),this._tween&&(this._tween.recover(),this._tween=null)},$ppi.stop=function(){this._dragging&&($ppU.instance.disableMouseEvent=!1,$ppw.stage.off("mouseup",this,this.onStageMouseUp),$ppw.stage.off("mouseout",this,this.onStageMouseUp),this._dragging=!1,this.target&&this.area&&this.backToArea(),this.clear())},$ppi.loop=function(){var $ppt=this._parent.getMousePoint();var $ppe=$ppt.x;$ppt=$ppt.y;var $ppi=$ppe-this._lastX;var $ppn=$ppt-this._lastY;if(this._clickOnly){if(!(1<Math.abs($ppi*$ppw.stage._canvasTransform.getScaleX())||1<Math.abs($ppn*$ppw.stage._canvasTransform.getScaleY())))return;this._clickOnly=!1,this._offsets||(this._offsets=[]),this._offsets.length=0,this.target.event("dragstart",this.data),$ppU.instance.disableMouseEvent=this._disableMouseEvent,this.target._set$P("$_MOUSEDOWN",!1)}else this._offsets.push($ppi,$ppn);0==$ppi&&0==$ppn||(this._lastX=$ppe,this._lastY=$ppt,this.target.x+=$ppi*this._elasticRateX,this.target.y+=$ppn*this._elasticRateY,this.area&&this.checkArea(),this.target.event("dragmove",this.data))},$ppi.checkArea=function(){var $ppt;this.elasticDistance<=0?this.backToArea():($ppt=this.target.x<this.area.x?this.area.x-this.target.x:this.target.x>this.area.x+this.area.width?this.target.x-this.area.x-this.area.width:0,this._elasticRateX=Math.max(0,1-$ppt/this.elasticDistance),$ppt=this.target.y<this.area.y?this.area.y-this.target.y:this.target.y>this.area.y+this.area.height?this.target.y-this.area.y-this.area.height:0,this._elasticRateY=Math.max(0,1-$ppt/this.elasticDistance))},$ppi.backToArea=function(){this.target.x=Math.min(Math.max(this.target.x,this.area.x),this.area.x+this.area.width),this.target.y=Math.min(Math.max(this.target.y,this.area.y),this.area.y+this.area.height)},$ppi.onStageMouseUp=function($ppt){if($ppU.instance.disableMouseEvent=!1,$ppw.stage.off("mouseup",this,this.onStageMouseUp),$ppw.stage.off("mouseout",this,this.onStageMouseUp),$ppw.timer.clear(this,this.loop),!this._clickOnly&&this.target)if(this.hasInertia){this._offsets.length<1&&this._offsets.push(this._parent.mouseX-this._lastX,this._parent.mouseY-this._lastY),this._offsetX=this._offsetY=0;var $ppe=this._offsets.length;var $ppi=Math.min($ppe,6);var $ppn=this._offsets.length-$ppi;for(var $ppr=$ppe-1;$ppn<$ppr;$ppr--)this._offsetY+=this._offsets[$ppr--],this._offsetX+=this._offsets[$ppr];this._offsetX=this._offsetX/$ppi*2,this._offsetY=this._offsetY/$ppi*2,Math.abs(this._offsetX)>this.maxOffset&&(this._offsetX=0<this._offsetX?this.maxOffset:-this.maxOffset),Math.abs(this._offsetY)>this.maxOffset&&(this._offsetY=0<this._offsetY?this.maxOffset:-this.maxOffset),$ppw.timer.frameLoop(1,this,this.tweenMove)}else 0<this.elasticDistance?this.checkElastic():this.clear()},$ppi.checkElastic=function(){var $ppt=NaN;var $ppe=NaN;var $ppi;this.target.x<this.area.x?$ppt=this.area.x:this.target.x>this.area.x+this.area.width&&($ppt=this.area.x+this.area.width),this.target.y<this.area.y?$ppe=this.area.y:this.target.y>this.area.y+this.area.height&&($ppe=this.area.y+this.area.height),isNaN($ppt)&&isNaN($ppe)?this.clear():($ppi={},isNaN($ppt)||($ppi.x=$ppt),isNaN($ppe)||($ppi.y=$ppe),this._tween=$ppZt.to(this.target,$ppi,this.elasticBackTime,$ppFt.sineOut,$ppv.create(this,this.clear),0,!1,!1))},$ppi.tweenMove=function(){this._offsetX*=this.ratio*this._elasticRateX,this._offsetY*=this.ratio*this._elasticRateY,this.target.x+=this._offsetX,this.target.y+=this._offsetY,this.area&&this.checkArea(),this.target.event("dragmove",this.data),(Math.abs(this._offsetX)<1&&Math.abs(this._offsetY)<1||this._elasticRateX<.5||this._elasticRateY<.5)&&($ppw.timer.clear(this,this.tweenMove),0<this.elasticDistance?this.checkElastic():this.clear())},$ppi.clear=function(){var $ppt;this.target&&(this.clearTimer(),$ppt=this.target,this.target=null,this._parent=null,$ppt.event("dragend",this.data))};var $ppNt=$ppOt;function $ppOt(){this.ratio=.92,this.maxOffset=60,this._dragging=!1,this._clickOnly=!0}$ppc($ppVt,"laya.utils.Ease"),$ppVt.linearNone=function($ppt,$ppe,$ppi,$ppn){return $ppi*$ppt/$ppn+$ppe},$ppVt.linearIn=function($ppt,$ppe,$ppi,$ppn){return $ppi*$ppt/$ppn+$ppe},$ppVt.linearInOut=function($ppt,$ppe,$ppi,$ppn){return $ppi*$ppt/$ppn+$ppe},$ppVt.linearOut=function($ppt,$ppe,$ppi,$ppn){return $ppi*$ppt/$ppn+$ppe},$ppVt.bounceIn=function($ppt,$ppe,$ppi,$ppn){return $ppi-$ppVt.bounceOut($ppn-$ppt,0,$ppi,$ppn)+$ppe},$ppVt.bounceInOut=function($ppt,$ppe,$ppi,$ppn){return $ppt<.5*$ppn?.5*$ppVt.bounceIn(2*$ppt,0,$ppi,$ppn)+$ppe:.5*$ppVt.bounceOut(2*$ppt-$ppn,0,$ppi,$ppn)+.5*$ppi+$ppe},$ppVt.bounceOut=function($ppt,$ppe,$ppi,$ppn){return($ppt/=$ppn)<1/2.75?$ppi*(7.5625*$ppt*$ppt)+$ppe:$ppt<2/2.75?$ppi*(7.5625*($ppt-=1.5/2.75)*$ppt+.75)+$ppe:$ppt<2.5/2.75?$ppi*(7.5625*($ppt-=2.25/2.75)*$ppt+.9375)+$ppe:$ppi*(7.5625*($ppt-=2.625/2.75)*$ppt+.984375)+$ppe},$ppVt.backIn=function($ppt,$ppe,$ppi,$ppn,$ppr){return $ppi*($ppt/=$ppn)*$ppt*((($ppr=void 0===$ppr?1.70158:$ppr)+1)*$ppt-$ppr)+$ppe},$ppVt.backInOut=function($ppt,$ppe,$ppi,$ppn,$ppr){return void 0===$ppr&&($ppr=1.70158),($ppt/=.5*$ppn)<1?.5*$ppi*($ppt*$ppt*((1+($ppr*=1.525))*$ppt-$ppr))+$ppe:$ppi/2*(($ppt-=2)*$ppt*((1+($ppr*=1.525))*$ppt+$ppr)+2)+$ppe},$ppVt.backOut=function($ppt,$ppe,$ppi,$ppn,$ppr){return $ppi*(($ppt=$ppt/$ppn-1)*$ppt*((($ppr=void 0===$ppr?1.70158:$ppr)+1)*$ppt+$ppr)+1)+$ppe},$ppVt.elasticIn=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){return 0==$ppt?$ppe:1==($ppt/=$ppn)?$ppe+$ppi:($pps=($pps=void 0===$pps?0:$pps)||.3*$ppn,$ppi=!($ppr=void 0===$ppr?0:$ppr)||0<$ppi&&$ppr<$ppi||$ppi<0&&$ppr<-$ppi?($ppr=$ppi,$pps/4):$pps/$ppVt.PI2*Math.asin($ppi/$ppr),-($ppr*Math.pow(2,10*--$ppt)*Math.sin(($ppt*$ppn-$ppi)*$ppVt.PI2/$pps))+$ppe)},$ppVt.elasticInOut=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){var $ppa;return 0==$ppt?$ppe:2==($ppt/=.5*$ppn)?$ppe+$ppi:($pps=($pps=void 0===$pps?0:$pps)||$ppn*(.3*1.5),$ppa=!($ppr=void 0===$ppr?0:$ppr)||0<$ppi&&$ppr<$ppi||$ppi<0&&$ppr<-$ppi?($ppr=$ppi,$pps/4):$pps/$ppVt.PI2*Math.asin($ppi/$ppr),$ppt<1?$ppr*Math.pow(2,10*--$ppt)*Math.sin(($ppt*$ppn-$ppa)*$ppVt.PI2/$pps)*-.5+$ppe:$ppr*Math.pow(2,-10*--$ppt)*Math.sin(($ppt*$ppn-$ppa)*$ppVt.PI2/$pps)*.5+$ppi+$ppe)},$ppVt.elasticOut=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){var $ppa;return 0==$ppt?$ppe:1==($ppt/=$ppn)?$ppe+$ppi:($pps=($pps=void 0===$pps?0:$pps)||.3*$ppn,$ppa=!($ppr=void 0===$ppr?0:$ppr)||0<$ppi&&$ppr<$ppi||$ppi<0&&$ppr<-$ppi?($ppr=$ppi,$pps/4):$pps/$ppVt.PI2*Math.asin($ppi/$ppr),$ppr*Math.pow(2,-10*$ppt)*Math.sin(($ppt*$ppn-$ppa)*$ppVt.PI2/$pps)+$ppi+$ppe)},$ppVt.strongIn=function($ppt,$ppe,$ppi,$ppn){return $ppi*($ppt/=$ppn)*$ppt*$ppt*$ppt*$ppt+$ppe},$ppVt.strongInOut=function($ppt,$ppe,$ppi,$ppn){return($ppt/=.5*$ppn)<1?.5*$ppi*$ppt*$ppt*$ppt*$ppt*$ppt+$ppe:.5*$ppi*(($ppt-=2)*$ppt*$ppt*$ppt*$ppt+2)+$ppe},$ppVt.strongOut=function($ppt,$ppe,$ppi,$ppn){return $ppi*(($ppt=$ppt/$ppn-1)*$ppt*$ppt*$ppt*$ppt+1)+$ppe},$ppVt.sineInOut=function($ppt,$ppe,$ppi,$ppn){return.5*-$ppi*(Math.cos(Math.PI*$ppt/$ppn)-1)+$ppe},$ppVt.sineIn=function($ppt,$ppe,$ppi,$ppn){return-$ppi*Math.cos($ppt/$ppn*$ppVt.HALF_PI)+$ppi+$ppe},$ppVt.sineOut=function($ppt,$ppe,$ppi,$ppn){return $ppi*Math.sin($ppt/$ppn*$ppVt.HALF_PI)+$ppe},$ppVt.quintIn=function($ppt,$ppe,$ppi,$ppn){return $ppi*($ppt/=$ppn)*$ppt*$ppt*$ppt*$ppt+$ppe},$ppVt.quintInOut=function($ppt,$ppe,$ppi,$ppn){return($ppt/=.5*$ppn)<1?.5*$ppi*$ppt*$ppt*$ppt*$ppt*$ppt+$ppe:.5*$ppi*(($ppt-=2)*$ppt*$ppt*$ppt*$ppt+2)+$ppe},$ppVt.quintOut=function($ppt,$ppe,$ppi,$ppn){return $ppi*(($ppt=$ppt/$ppn-1)*$ppt*$ppt*$ppt*$ppt+1)+$ppe},$ppVt.quartIn=function($ppt,$ppe,$ppi,$ppn){return $ppi*($ppt/=$ppn)*$ppt*$ppt*$ppt+$ppe},$ppVt.quartInOut=function($ppt,$ppe,$ppi,$ppn){return($ppt/=.5*$ppn)<1?.5*$ppi*$ppt*$ppt*$ppt*$ppt+$ppe:.5*-$ppi*(($ppt-=2)*$ppt*$ppt*$ppt-2)+$ppe},$ppVt.quartOut=function($ppt,$ppe,$ppi,$ppn){return-$ppi*(($ppt=$ppt/$ppn-1)*$ppt*$ppt*$ppt-1)+$ppe},$ppVt.cubicIn=function($ppt,$ppe,$ppi,$ppn){return $ppi*($ppt/=$ppn)*$ppt*$ppt+$ppe},$ppVt.cubicInOut=function($ppt,$ppe,$ppi,$ppn){return($ppt/=.5*$ppn)<1?.5*$ppi*$ppt*$ppt*$ppt+$ppe:.5*$ppi*(($ppt-=2)*$ppt*$ppt+2)+$ppe},$ppVt.cubicOut=function($ppt,$ppe,$ppi,$ppn){return $ppi*(($ppt=$ppt/$ppn-1)*$ppt*$ppt+1)+$ppe},$ppVt.quadIn=function($ppt,$ppe,$ppi,$ppn){return $ppi*($ppt/=$ppn)*$ppt+$ppe},$ppVt.quadInOut=function($ppt,$ppe,$ppi,$ppn){return($ppt/=.5*$ppn)<1?.5*$ppi*$ppt*$ppt+$ppe:.5*-$ppi*(--$ppt*($ppt-2)-1)+$ppe},$ppVt.quadOut=function($ppt,$ppe,$ppi,$ppn){return-$ppi*($ppt/=$ppn)*($ppt-2)+$ppe},$ppVt.expoIn=function($ppt,$ppe,$ppi,$ppn){return 0==$ppt?$ppe:$ppi*Math.pow(2,10*($ppt/$ppn-1))+$ppe-.001*$ppi},$ppVt.expoInOut=function($ppt,$ppe,$ppi,$ppn){return 0==$ppt?$ppe:$ppt==$ppn?$ppe+$ppi:($ppt/=.5*$ppn)<1?.5*$ppi*Math.pow(2,10*($ppt-1))+$ppe:.5*$ppi*(2-Math.pow(2,-10*--$ppt))+$ppe},$ppVt.expoOut=function($ppt,$ppe,$ppi,$ppn){return $ppt==$ppn?$ppe+$ppi:$ppi*(1-Math.pow(2,-10*$ppt/$ppn))+$ppe},$ppVt.circIn=function($ppt,$ppe,$ppi,$ppn){return-$ppi*(Math.sqrt(1-($ppt/=$ppn)*$ppt)-1)+$ppe},$ppVt.circInOut=function($ppt,$ppe,$ppi,$ppn){return($ppt/=.5*$ppn)<1?.5*-$ppi*(Math.sqrt(1-$ppt*$ppt)-1)+$ppe:.5*$ppi*(Math.sqrt(1-($ppt-=2)*$ppt)+1)+$ppe},$ppVt.circOut=function($ppt,$ppe,$ppi,$ppn){return $ppi*Math.sqrt(1-($ppt=$ppt/$ppn-1)*$ppt)+$ppe},$ppVt.HALF_PI=.5*Math.PI,$ppVt.PI2=2*Math.PI;var $ppFt=$ppVt;function $ppVt(){}$ppc($ppUt,"laya.utils.HitArea"),($ppi=$ppUt.prototype).isHit=function($ppt,$ppe){return!!$ppUt.isHitGraphic($ppt,$ppe,this.hit)&&!$ppUt.isHitGraphic($ppt,$ppe,this.unHit)},$ppi.contains=function($ppt,$ppe){return this.isHit($ppt,$ppe)},$ppt(0,$ppi,"hit",function(){return this._hit||(this._hit=new $ppI),this._hit},function($ppt){this._hit=$ppt}),$ppt(0,$ppi,"unHit",function(){return this._unHit||(this._unHit=new $ppI),this._unHit},function($ppt){this._unHit=$ppt}),$ppUt.isHitGraphic=function($ppt,$ppe,$ppi){if(!$ppi)return!1;var $ppn;if(!($ppn=$ppi.cmds)&&$ppi._one&&(($ppn=$ppUt._cmds).length=1,$ppn[0]=$ppi._one),!$ppn)return!1;var $ppr,$pps=0;var $ppa;for($ppr=$ppn.length,$pps=0;$pps<$ppr;$pps++)if($ppa=$ppn[$pps]){var $ppo=$ppS._context;switch($ppa.callee){case $ppo._translate:case 6:$ppt-=$ppa[0],$ppe-=$ppa[1]}if($ppUt.isHitCmd($ppt,$ppe,$ppa))return!0}return!1},$ppUt.isHitCmd=function($ppt,$ppe,$ppi){if(!$ppi)return!1;var $ppn=$ppS._context;var $ppr=!1;switch($ppi.callee){case $ppn._drawRect:case 13:$ppUt._rec.setTo($ppi[0],$ppi[1],$ppi[2],$ppi[3]),$ppr=$ppUt._rec.contains($ppt,$ppe);break;case $ppn._drawCircle:case $ppn._fillCircle:case 14:$ppr=($ppt-=$ppi[0])*$ppt+($ppe-=$ppi[1])*$ppe<$ppi[2]*$ppi[2];break;case $ppn._drawPoly:case 18:$ppt-=$ppi[0],$ppe-=$ppi[1],$ppr=$ppUt.ptInPolygon($ppt,$ppe,$ppi[2])}return $ppr},$ppUt.ptInPolygon=function($ppt,$ppc,$ppe){var $ppi;($ppi=$ppUt._ptPoint).setTo($ppt,$ppc);var $ppn=0;var $ppr,$pps,$ppa,$ppo;var $pph;$pph=$ppe.length;for(var $ppl=0;$ppl<$pph;$ppl+=2)$ppr=$ppe[$ppl],$pps=$ppe[$ppl+1],$ppa=$ppe[($ppl+2)%$pph],$pps!=($ppo=$ppe[($ppl+3)%$pph])&&($ppi.y<Math.min($pps,$ppo)||$ppi.y>=Math.max($pps,$ppo)||($ppi.y-$pps)*($ppa-$ppr)/($ppo-$pps)+$ppr>$ppi.x&&$ppn++);return $ppn%2==1},$ppUt._cmds=[],$ppl($ppUt,["_rec",function(){return this._rec=new $ppst},"_ptPoint",function(){return this._ptPoint=new $ppnt}]);var $ppkt=$ppUt;function $ppUt(){this._hit=null,this._unHit=null}$ppc($ppHt,"laya.utils.HTMLChar"),$ppi=$ppHt.prototype,$ppw.imps($ppi,{"laya.display.ILayout":!0}),$ppi.setSprite=function($ppt){this._sprite=$ppt},$ppi.getSprite=function(){return this._sprite},$ppi._isChar=function(){return!0},$ppi._getCSSStyle=function(){return this.style},$ppt(0,$ppi,"width",function(){return this._w},function($ppt){this._w=$ppt}),$ppt(0,$ppi,"x",function(){return this._x},function($ppt){this._sprite&&(this._sprite.x=$ppt),this._x=$ppt}),$ppt(0,$ppi,"y",function(){return this._y},function($ppt){this._sprite&&(this._sprite.y=$ppt),this._y=$ppt}),$ppt(0,$ppi,"height",function(){return this._h},function($ppt){this._h=$ppt}),$ppHt._isWordRegExp=new RegExp("[\\w.]","");function $ppHt($ppt,$ppe,$ppi,$ppn){this.char=$ppt,this.charNum=$ppt.charCodeAt(0),this._x=this._y=0,this.width=$ppe,this.height=$ppi,this.style=$ppn,this.isWord=!$ppHt._isWordRegExp.test($ppt)}$ppc($ppzt,"laya.utils.Log"),$ppzt.enable=function(){$ppzt._logdiv||($ppzt._logdiv=$ppC.window.document.createElement("div"),$ppC.window.document.body.appendChild($ppzt._logdiv),$ppzt._logdiv.style.cssText="pointer-events:none;border:white;overflow:hidden;z-index:1000000;background:rgba(100,100,100,0.6);color:white;position: absolute;left:0px;top:0px;width:50%;height:50%;")},$ppzt.toggle=function(){var $ppt=$ppzt._logdiv.style;"1px"==$ppt.width?$ppt.width=$ppt.height="50%":$ppt.width=$ppt.height="1px"},$ppzt.print=function($ppt){$ppzt._logdiv&&($ppzt.maxCount<=$ppzt._count&&$ppzt.clear(),$ppzt._count++,$ppzt._logdiv.innerText+=$ppt+"\n",$ppzt._logdiv.scrollTop=$ppzt._logdiv.scrollHeight)},$ppzt.clear=function(){$ppzt._logdiv.innerText="",$ppzt._count=0},$ppzt._logdiv=null,$ppzt._count=0,$ppzt.maxCount=20;function $ppzt(){}$ppc($ppWt,"laya.utils.Mouse"),$ppt(1,$ppWt,"cursor",function(){return $ppWt._style.cursor},function($ppt){$ppWt._style.cursor=$ppt}),$ppWt.hide=function(){"none"!=$ppWt.cursor&&($ppWt._preCursor=$ppWt.cursor,$ppWt.cursor="none")},$ppWt.show=function(){"none"==$ppWt.cursor&&($ppWt.cursor=$ppWt._preCursor||"auto")},$ppWt._preCursor=null,$ppl($ppWt,["_style",function(){return this._style=$ppC.document.body.style}]);function $ppWt(){}$ppc($ppYt,"laya.utils.Pool"),$ppYt.getPoolBySign=function($ppt){return $ppYt._poolDic[$ppt]||($ppYt._poolDic[$ppt]=[])},$ppYt.clearBySign=function($ppt){$ppYt._poolDic[$ppt]&&($ppYt._poolDic[$ppt].length=0)},$ppYt.recover=function($ppt,$ppe){$ppe.__InPool||($ppe.__InPool=!0,$ppYt.getPoolBySign($ppt).push($ppe))},$ppYt.getItemByClass=function($ppt,$ppe){$ppt=$ppYt.getPoolBySign($ppt);$ppt=$ppt.length?$ppt.pop():new $ppe;return $ppt.__InPool=!1,$ppt},$ppYt.getItemByCreateFun=function($ppt,$ppe,$ppi){$ppt=$ppYt.getPoolBySign($ppt);$ppt=$ppt.length?$ppt.pop():$ppe.call($ppi);return $ppt.__InPool=!1,$ppt},$ppYt.getItem=function($ppt){$ppt=$ppYt.getPoolBySign($ppt);$ppt=$ppt.length?$ppt.pop():null;return $ppt&&($ppt.__InPool=!1),$ppt},$ppYt._poolDic={},$ppYt.InPoolSign="__InPool";var $ppGt=$ppYt;function $ppYt(){}$ppc($ppo,"laya.utils.Stat"),$ppt(1,$ppo,"onclick",null,function($ppt){$ppo._sp&&$ppo._sp.on("click",$ppo._sp,$ppt),$ppo._canvas&&($ppo._canvas.source.onclick=$ppt,$ppo._canvas.source.style.pointerEvents="")}),$ppo.show=function($ppt,$ppe,$ppi){var $ppn;void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0),!$ppS.isConchApp||$ppS.isConchWebGL?($ppS.isConchWebGL||$ppC.onMiniGame||$ppC.onLimixiu||($ppo._useCanvas=!0),$ppo._show=!0,$ppo._fpsData.length=60,$ppo._view[0]={title:"FPS(Canvas)",value:"_fpsStr",color:"yellow",units:"int"},$ppo._view[1]={title:"Sprite",value:"_spriteStr",color:"white",units:"int"},$ppo._view[2]={title:"DrawCall",value:"drawCall",color:"green",units:"int"},$ppo._view[3]={title:"CurMem",value:"currentMemorySize",color:"yellow",units:"M"},$ppS.isWebGL?($ppo._view[4]={title:"Shader",value:"shaderCall",color:"red",units:"int"},$ppS.is3DMode?($ppo._view[0].title="FPS(3D)",$ppo._view[5]={title:"TriFaces",value:"trianglesFaces",color:"blue",units:"int"},$ppo._view[6]={title:"treeNodeColl",value:"treeNodeCollision",color:"white",units:"int"},$ppo._view[7]={title:"treeSpriteColl",value:"treeSpriteCollision",color:"white",units:"int"},1==$ppi?($ppn=8,$ppo._view[$ppn++]={title:"VATTRIBS",value:"MAX_VERTEX_ATTRIBS",color:"white",units:"int",varying:1},$ppo._view[$ppn++]={title:"VUNIFORMS",value:"MAX_VERTEX_UNIFORM_VECTORS",color:"white",units:"int",varying:1},$ppo._view[$ppn++]={title:"VARYINGS",value:"MAX_VARYING_VECTORS",color:"white",units:"int",varying:1},$ppo._view[$ppn++]={title:"CTEXTURES",value:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",color:"white",units:"int",varying:1},$ppo._view[$ppn++]={title:"VTEXTURES",value:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",color:"white",units:"int",varying:1},$ppo._view[$ppn++]={title:"TEXTURES",value:"MAX_TEXTURE_IMAGE_UNITS",color:"white",units:"int",varying:1},$ppo._view[$ppn++]={title:"FUNIFORMS",value:"MAX_FRAGMENT_UNIFORM_VECTORS",color:"white",units:"int",varying:1},$ppo._view[$ppn++]={title:"SVERSION",value:"SHADING_LANGUAGE_VERSION",color:"white",units:"string",varying:1},$ppo._view[$ppn++]={title:"VERSION",value:"VERSION",color:"white",units:"string",varying:1}):2==$ppi&&($ppn=8,$ppo._view[$ppn++]={title:"astc",value:"WEBGL_compressed_texture_astc",color:"white",units:"object",varying:2},$ppo._view[$ppn++]={title:"atc",value:"WEBGL_compressed_texture_atc",color:"white",units:"object",varying:2},$ppo._view[$ppn++]={title:"etc",value:"WEBGL_compressed_texture_etc",color:"white",units:"object",varying:2},$ppo._view[$ppn++]={title:"etc1",value:"WEBGL_compressed_texture_etc1",color:"white",units:"object",varying:2},$ppo._view[$ppn++]={title:"pvrtc",value:"WEBGL_compressed_texture_pvrtc",color:"white",units:"object",varying:2},$ppo._view[$ppn++]={title:"s3tc",value:"WEBGL_compressed_texture_s3tc",color:"white",units:"object",varying:2},$ppo._view[$ppn++]={title:"srgb",value:"WEBGL_compressed_texture_s3tc_srgb",color:"white",units:"object",varying:2})):($ppo._view[0].title="FPS(WebGL)",$ppo._view[5]={title:"Canvas",value:"_canvasStr",color:"white",units:"int"})):$ppo._view[4]={title:"Canvas",value:"_canvasStr",color:"white",units:"int"},$ppo._useCanvas?$ppo.createUIPre($ppt,$ppe):$ppo.createUI($ppt,$ppe),$ppo.enable()):$ppC.window.conch.showFPS&&$ppC.window.conch.showFPS($ppt,$ppe)},$ppo.createUIPre=function($ppt,$ppe){var $ppi=$ppC.pixelRatio;$ppo._width=130*$ppi,$ppo._vx=75*$ppi,$ppo._height=$ppi*(12*$ppo._view.length+3*$ppi)+4,$ppo._fontSize=12*$ppi;for(var $ppn=0;$ppn<$ppo._view.length;$ppn++)$ppo._view[$ppn].x=4,$ppo._view[$ppn].y=$ppn*$ppo._fontSize+2*$ppi;$ppo._canvas||(($ppo._canvas=new $ppZe("2D")).size($ppo._width,$ppo._height),($ppo._ctx=$ppo._canvas.getContext("2d")).textBaseline="top",$ppo._ctx.font=$ppo._fontSize+"px Sans-serif",$ppo._canvas.source.style.cssText="pointer-events:none;background:rgba(150,150,150,0.8);z-index:100000;position: absolute;direction:ltr;left:"+$ppt+"px;top:"+$ppe+"px;width:"+$ppo._width/$ppi+"px;height:"+$ppo._height/$ppi+"px;"),$ppo._first=!0,$ppo.loop(),$ppo._first=!1,$ppC.container.appendChild($ppo._canvas.source)},$ppo.createUI=function($ppt,$ppe){var $ppi=$ppo._sp;var $ppn=$ppC.pixelRatio;$ppi||($ppi=new $ppLe,($ppo._leftText=new $ppWe).pos(5,5),$ppo._leftText.color="#ffffff",$ppi.addChild($ppo._leftText),($ppo._txt=new $ppWe).pos(80*$ppn,5),$ppo._txt.color="#ffffff",$ppi.addChild($ppo._txt),$ppo._sp=$ppi),$ppi.pos($ppt,$ppe);var $ppr="";for(var $pps=0;$pps<$ppo._view.length;$pps++)$ppr+=$ppo._view[$pps].title+"\n";$ppo._leftText.text=$ppr;$ppt=138*$ppn;$ppe=$ppn*(12*$ppo._view.length+3*$ppn)+4;$ppo._txt.fontSize=$ppo._fontSize*$ppn,$ppo._leftText.fontSize=$ppo._fontSize*$ppn,$ppi.size($ppt,$ppe),$ppi.graphics.clear(),$ppi.graphics.setAlpha(.5),$ppi.graphics.drawRect(0,0,$ppt,$ppe,"#999999"),$ppi.graphics.setAlpha(1),$ppo.loop()},$ppo.enable=function(){$ppw.timer.frameLoop(1,$ppo,$ppo.loop)},$ppo.hide=function(){$ppo._show=!1,$ppw.timer.clear($ppo,$ppo.loop),$ppo._canvas&&$ppC.removeElement($ppo._canvas.source)},$ppo.clear=function(){$ppo.trianglesFaces=$ppo.drawCall=$ppo.shaderCall=$ppo.spriteCount=$ppo.spriteRenderUseCacheCount=$ppo.treeNodeCollision=$ppo.treeSpriteCollision=$ppo.canvasNormal=$ppo.canvasBitmap=$ppo.canvasReCache=0},$ppo.loop=function(){$ppo._count++;var $ppt=$ppC.now();var $ppe;$ppt-$ppo._timer<1e3||($ppe=$ppo._count,$ppo.FPS=Math.round(1e3*$ppe/($ppt-$ppo._timer)),$ppo._show&&($ppo.trianglesFaces=Math.round($ppo.trianglesFaces/$ppe),$ppo._useCanvas?($ppo.drawCall=Math.round($ppo.drawCall/$ppe)-2,$ppo.shaderCall=Math.round($ppo.shaderCall/$ppe),$ppo.spriteCount=Math.round($ppo.spriteCount/$ppe)-1):($ppo.drawCall=Math.round($ppo.drawCall/$ppe)-2,$ppo.shaderCall=Math.round($ppo.shaderCall/$ppe)-4,$ppo.spriteCount=Math.round($ppo.spriteCount/$ppe)-4),$ppo.spriteRenderUseCacheCount=Math.round($ppo.spriteRenderUseCacheCount/$ppe),$ppo.canvasNormal=Math.round($ppo.canvasNormal/$ppe),$ppo.canvasBitmap=Math.round($ppo.canvasBitmap/$ppe),$ppo.canvasReCache=Math.ceil($ppo.canvasReCache/$ppe),$ppo.treeNodeCollision=Math.round($ppo.treeNodeCollision/$ppe),$ppo.treeSpriteCollision=Math.round($ppo.treeSpriteCollision/$ppe),$ppe=0<$ppo.FPS?Math.floor(1e3/$ppo.FPS).toString():" ",$ppo._fpsStr=$ppo.FPS+($ppo.renderSlow?" slow":"")+" "+$ppe,$ppo._spriteStr=$ppo.spriteCount+($ppo.spriteRenderUseCacheCount?"/"+$ppo.spriteRenderUseCacheCount:""),$ppo._canvasStr=$ppo.canvasReCache+"/"+$ppo.canvasNormal+"/"+$ppo.canvasBitmap,$ppo.currentMemorySize=$ppTt.systemResourceManager.memorySize,$ppo._useCanvas?$ppo.renderInfoPre():$ppo.renderInfo(),$ppo.clear()),$ppo._count=0,$ppo._timer=$ppt)},$ppo.renderInfoPre=function(){if($ppo._canvas){var $ppt=$ppo._ctx;$ppt.clearRect($ppo._first?0:$ppo._vx,0,$ppo._width,$ppo._height);var $ppe=$ppS.WebGL.mainContext;for(var $ppi=0;$ppi<$ppo._view.length;$ppi++){var $ppn=$ppo._view[$ppi];$ppo._first&&($ppt.fillStyle="white",$ppt.fillText($ppn.title,$ppn.x,$ppn.y,null,null,null)),$ppt.fillStyle=$ppn.color;var $ppr=-1;if(($ppn=$ppo._view[$ppi]).varying){if($ppe)switch($ppn.varying){case 1:$ppr=$ppe.getParameter($ppe[$ppn.value]);break;case 2:$ppr=$ppe.getExtension($ppn.value)}}else $ppr=$ppo[$ppn.value];"M"==$ppn.units&&($ppr=Math.floor($ppr/1048576*100)/100+" M"),"K"==$ppn.units&&($ppr=Math.floor($ppr/1024*100)/100+" K"),"string"==$ppn.units&&($ppr=$ppr.match(/\d+\.?\d/i)),$ppt.fillText($ppr+"",$ppn.x+$ppo._vx,$ppn.y,null,null,null)}}},$ppo.renderInfo=function(){var $ppt="";var $ppe=$ppS.WebGL.mainContext;for(var $ppi=0;$ppi<$ppo._view.length;$ppi++){var $ppn=$ppo._view[$ppi];var $ppr=-1;if($ppn.varying){if($ppe)switch($ppn.varying){case 1:$ppr=$ppe.getParameter($ppe[$ppn.value]);break;case 2:$ppr=$ppe.getExtension($ppn.value)}}else $ppr=$ppo[$ppn.value];"M"==$ppn.units&&($ppr=Math.floor($ppr/1048576*100)/100+" M"),"K"==$ppn.units&&($ppr=Math.floor($ppr/1024*100)/100+" K"),$ppt+=($ppr="string"==$ppn.units?$ppr.match(/\d+\.?\d/i):$ppr)+"\n"}$ppo._txt.text=$ppt},$ppo.FPS=0,$ppo.loopCount=0,$ppo.shaderCall=0,$ppo.drawCall=0,$ppo.trianglesFaces=0,$ppo.spriteCount=0,$ppo.spriteRenderUseCacheCount=0,$ppo.treeNodeCollision=0,$ppo.treeSpriteCollision=0,$ppo.canvasNormal=0,$ppo.canvasBitmap=0,$ppo.canvasReCache=0,$ppo.renderSlow=!1,$ppo.currentMemorySize=0,$ppo._fpsStr=null,$ppo._canvasStr=null,$ppo._spriteStr=null,$ppo._fpsData=[],$ppo._timer=0,$ppo._count=0,$ppo._view=[],$ppo._fontSize=12,$ppo._txt=null,$ppo._leftText=null,$ppo._sp=null,$ppo._show=!1,$ppo._useCanvas=!1,$ppo._canvas=null,$ppo._ctx=null,$ppo._first=!1,$ppo._vx=NaN,$ppo._width=0,$ppo._height=100;var $ppXt=$ppo;function $ppo(){}$ppc($ppjt,"laya.utils.StringKey"),($ppi=$ppjt.prototype).add=function($ppt){var $ppe=this._strsToID[$ppt];return null!=$ppe?$ppe:(this._idToStrs[this._length]=$ppt,this._strsToID[$ppt]=this._length++)},$ppi.getID=function($ppt){$ppt=this._strsToID[$ppt];return null==$ppt?-1:$ppt},$ppi.getName=function($ppt){$ppt=this._idToStrs[$ppt];return null==$ppt?void 0:$ppt};function $ppjt(){this._strsToID={},this._idToStrs=[],this._length=0}$ppc($ppqt,"laya.utils.Timer"),($ppi=$ppqt.prototype)._init=function(){$ppw.timer&&$ppw.timer.frameLoop(1,this,this._update)},$ppi._now=function(){return Date.now()},$ppi._update=function(){if(this.scale<=0)this._lastTimer=this._now();else{var $ppt=this.currFrame=this.currFrame+this.scale;var $ppe=this._now();this._delta=($ppe-this._lastTimer)*this.scale;var $ppi=this.currTimer=this.currTimer+this._delta;this._lastTimer=$ppe;var $ppn=this._handlers;for($ppa=this._count=0,$ppo=$ppn.length;$ppa<$ppo;$ppa++)if(null!==($pph=$ppn[$ppa]).method){var $ppr=$pph.userFrame?$ppt:$ppi;if($ppr>=$pph.exeTime)if($pph.repeat)if($pph.jumpFrame)for(;$ppr>=$pph.exeTime;)$pph.exeTime+=$pph.delay,$pph.run(!1);else $pph.exeTime+=$pph.delay,$pph.run(!1),$ppr>$pph.exeTime&&($pph.exeTime+=Math.ceil(($ppr-$pph.exeTime)/$pph.delay)*$pph.delay);else $pph.run(!0)}else this._count++;(30<this._count||$ppt%200==0)&&this._clearHandlers();var $pps=this._laters;for(var $ppa=0,$ppo=$pps.length-1;$ppa<=$ppo;$ppa++){var $pph=$pps[$ppa];null!==$pph.method&&(delete this._map[$pph.key],$pph.run(!1)),this._recoverHandler($pph),$ppa===$ppo&&($ppo=$pps.length-1)}$pps.length=0}},$ppi._clearHandlers=function(){var $ppt=this._handlers;for(var $ppe=0,$ppi=$ppt.length;$ppe<$ppi;$ppe++){var $ppn=$ppt[$ppe];null!==$ppn.method?this._temp.push($ppn):this._recoverHandler($ppn)}this._handlers=this._temp,this._temp=$ppt,this._temp.length=0},$ppi._recoverHandler=function($ppt){this._map[$ppt.key]==$ppt&&delete this._map[$ppt.key],$ppt.recover()},$ppi._create=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){if(!$ppi)return $ppr.apply($ppn,$pps),null;if($ppa){var $ppo=this._getHandler($ppn,$ppr);if($ppo)return $ppo.repeat=$ppe,$ppo.userFrame=$ppt,$ppo.delay=$ppi,$ppo.caller=$ppn,$ppo.method=$ppr,$ppo.args=$pps,$ppo.exeTime=$ppi+($ppt?this.currFrame:this.currTimer+this._now()-this._lastTimer),$ppo}return($ppo=$pp$t.create()).repeat=$ppe,$ppo.userFrame=$ppt,$ppo.delay=$ppi,$ppo.caller=$ppn,$ppo.method=$ppr,$ppo.args=$pps,$ppo.exeTime=$ppi+($ppt?this.currFrame:this.currTimer+this._now()-this._lastTimer)+1,this._indexHandler($ppo),this._handlers.push($ppo),$ppo},$ppi._indexHandler=function($ppt){var $ppe=$ppt.caller;var $ppi=$ppt.method;$ppe=$ppe?$ppe.$_GID||($ppe.$_GID=$ppJt.getGID()):0;$ppi=$ppi.$_TID||($ppi.$_TID=1e5*this._mid++);$ppt.key=$ppe+$ppi,this._map[$ppt.key]=$ppt},$ppi.once=function($ppt,$ppe,$ppi,$ppn,$ppr){this._create(!1,!1,$ppt,$ppe,$ppi,$ppn,$ppr=void 0===$ppr?!0:$ppr)},$ppi.loop=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){void 0===$pps&&($pps=!1);$ppt=this._create(!1,!0,$ppt,$ppe,$ppi,$ppn,$ppr=void 0===$ppr?!0:$ppr);$ppt&&($ppt.jumpFrame=$pps)},$ppi.frameOnce=function($ppt,$ppe,$ppi,$ppn,$ppr){this._create(!0,!1,$ppt,$ppe,$ppi,$ppn,$ppr=void 0===$ppr?!0:$ppr)},$ppi.frameLoop=function($ppt,$ppe,$ppi,$ppn,$ppr){this._create(!0,!0,$ppt,$ppe,$ppi,$ppn,$ppr=void 0===$ppr?!0:$ppr)},$ppi.toString=function(){return"callLater:"+this._laters.length+" handlers:"+this._handlers.length+" pool:"+$pp$t._freeCount},$ppi.clear=function($ppt,$ppe){$ppt=this._getHandler($ppt,$ppe);$ppt&&(delete this._map[$ppt.key],$ppt.key=0,$ppt.clear())},$ppi.clearAll=function($ppt){if($ppt)for(var $ppe=0,$ppi=this._handlers.length;$ppe<$ppi;$ppe++){var $ppn=this._handlers[$ppe];$ppn.caller===$ppt&&(delete this._map[$ppn.key],$ppn.key=0,$ppn.clear())}},$ppi._getHandler=function($ppt,$ppe){$ppt=$ppt?$ppt.$_GID||($ppt.$_GID=$ppJt.getGID()):0;$ppe=$ppe.$_TID||($ppe.$_TID=1e5*this._mid++);return this._map[$ppt+$ppe]},$ppi.callLater=function($ppt,$ppe,$ppi){var $ppn;null==this._getHandler($ppt,$ppe)&&(($ppn=$pp$t.create()).caller=$ppt,$ppn.method=$ppe,$ppn.args=$ppi,this._indexHandler($ppn),this._laters.push($ppn))},$ppi.runCallLater=function($ppt,$ppe){$ppt=this._getHandler($ppt,$ppe);$ppt&&null!=$ppt.method&&(delete this._map[$ppt.key],$ppt.run(!0))},$ppi.runTimer=function($ppt,$ppe){this.runCallLater($ppt,$ppe)},$ppt(0,$ppi,"delta",function(){return this._delta}),$ppqt.__init$=function(){function $ppe(){this.key=0,this.repeat=!1,this.delay=0,this.userFrame=!1,this.exeTime=0,this.caller=null,this.method=null,this.args=null,this.jumpFrame=!1}var $ppt;$ppc($ppe,""),($ppt=$ppe.prototype).clear=function(){this.caller=null,this.method=null,this.args=null},$ppt.recover=function(){this.clear(),this.args=$ppe._freeHandler,$ppe._freeHandler=this,$ppe._freeCount++},$ppt.run=function($ppt){var $ppe=this.caller;if($ppe&&$ppe.destroyed)return this.clear();var $ppi=this.method;var $ppn=this.args;$ppt&&this.clear(),null!=$ppi&&($ppn?$ppi.apply($ppe,$ppn):$ppi.call($ppe))},$ppe._freeHandler=null,$ppe._freeCount=0,$ppe.create=function(){var $ppt=$ppe._freeHandler;return $ppt?($ppe._freeHandler=$ppt.args,--$ppe._freeCount,$ppt.args=null,$ppt):new $ppe},$pp$t=$ppe};var $ppKt=$ppqt;function $ppqt(){this._delta=0,this.scale=1,this.currFrame=0,this._mid=1,this._map={},this._laters=[],this._handlers=[],this._temp=[],this._count=0,this.currTimer=this._now(),this._lastTimer=this._now(),this._init()}var $pp$t;$ppc($ppQt,"laya.utils.Tween"),($ppi=$ppQt.prototype).to=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){return this._create($ppt,$ppe,$ppi,$ppn,$ppr,$pps=void 0===$pps?0:$pps,$ppa=void 0===$ppa?!1:$ppa,!0,!1,!0)},$ppi.from=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){return this._create($ppt,$ppe,$ppi,$ppn,$ppr,$pps=void 0===$pps?0:$pps,$ppa=void 0===$ppa?!1:$ppa,!1,!1,!0)},$ppi._create=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph,$ppl){if(!$ppt)throw new Error("Tween:target is null");this._target=$ppt,this._duration=$ppi,this._ease=$ppn||$ppe.ease||$ppQt.easeNone,this._complete=$ppr||$ppe.complete,this._delay=$pps,this._props=[],this._usedTimer=0,this._startTimer=$ppC.now(),this._usedPool=$pph,this._delayParam=null,this.update=$ppe.update;$ppi=$ppt.$_GID||($ppt.$_GID=$ppJt.getGID());return $ppQt.tweenMap[$ppi]?($ppa&&$ppQt.clearTween($ppt),$ppQt.tweenMap[$ppi].push(this)):$ppQt.tweenMap[$ppi]=[this],$ppl?$pps<=0?this.firstStart($ppt,$ppe,$ppo):(this._delayParam=[$ppt,$ppe,$ppo],$ppw.scaleTimer.once($pps,this,this.firstStart,this._delayParam)):this._initProps($ppt,$ppe,$ppo),this},$ppi.firstStart=function($ppt,$ppe,$ppi){this._delayParam=null,$ppt.destroyed?this.clear():(this._initProps($ppt,$ppe,$ppi),this._beginLoop())},$ppi._initProps=function($ppt,$ppe,$ppi){for(var $ppn in $ppe){var $ppr,$pps;"number"==typeof $ppt[$ppn]&&($ppr=($ppi?$ppt:$ppe)[$ppn],$pps=($ppi?$ppe:$ppt)[$ppn],this._props.push([$ppn,$ppr,$pps-$ppr]),$ppi||($ppt[$ppn]=$ppr))}},$ppi._beginLoop=function(){$ppw.scaleTimer.frameLoop(1,this,this._doEase)},$ppi._doEase=function(){this._updateEase($ppC.now())},$ppi._updateEase=function($ppt){var $ppe=this._target;if($ppe){if($ppe.destroyed)return $ppQt.clearTween($ppe);$ppt=this._usedTimer=$ppt-this._startTimer-this._delay;if(!($ppt<0)){if($ppt>=this._duration)return this.complete();var $ppi=0<$ppt?this._ease($ppt,0,1,this._duration):0;var $ppn=this._props;for(var $ppr=0,$pps=$ppn.length;$ppr<$pps;$ppr++){var $ppa=$ppn[$ppr];$ppe[$ppa[0]]=$ppa[1]+$ppi*$ppa[2]}this.update&&this.update.run()}}},$ppi.complete=function(){if(this._target){$ppw.scaleTimer.runTimer(this,this.firstStart);var $ppt=this._target;var $ppe=this._props;var $ppi=this._complete;for(var $ppn=0,$ppr=$ppe.length;$ppn<$ppr;$ppn++){var $pps=$ppe[$ppn];$ppt[$pps[0]]=$pps[1]+$pps[2]}this.update&&this.update.run(),this.clear(),$ppi&&$ppi.run()}},$ppi.pause=function(){$ppw.scaleTimer.clear(this,this._beginLoop),$ppw.scaleTimer.clear(this,this._doEase),$ppw.scaleTimer.clear(this,this.firstStart);var $ppt;($ppt=$ppC.now()-this._startTimer-this._delay)<0&&(this._usedTimer=$ppt)},$ppi.setStartTime=function($ppt){this._startTimer=$ppt},$ppi.clear=function(){this._target&&(this._remove(),this._clear())},$ppi._clear=function(){this.pause(),$ppw.scaleTimer.clear(this,this.firstStart),this._complete=null,this._target=null,this._ease=null,this._props=null,this._delayParam=null,this._usedPool&&(this.update=null,$ppGt.recover("tween",this))},$ppi.recover=function(){this._usedPool=!0,this._clear()},$ppi._remove=function(){var $ppt=$ppQt.tweenMap[this._target.$_GID];if($ppt)for(var $ppe=0,$ppi=$ppt.length;$ppe<$ppi;$ppe++)if($ppt[$ppe]===this){$ppt.splice($ppe,1);break}},$ppi.restart=function(){if(this.pause(),this._usedTimer=0,this._startTimer=$ppC.now(),this._delayParam)$ppw.scaleTimer.once(this._delay,this,this.firstStart,this._delayParam);else{var $ppt=this._props;for(var $ppe=0,$ppi=$ppt.length;$ppe<$ppi;$ppe++){var $ppn=$ppt[$ppe];this._target[$ppn[0]]=$ppn[1]}$ppw.scaleTimer.once(this._delay,this,this._beginLoop)}},$ppi.resume=function(){this._usedTimer>=this._duration||(this._startTimer=$ppC.now()-this._usedTimer-this._delay,this._delayParam?this._usedTimer<0?$ppw.scaleTimer.once(-this._usedTimer,this,this.firstStart,this._delayParam):this.firstStart.apply(this,this._delayParam):this._beginLoop())},$ppt(0,$ppi,"progress",null,function($ppt){$ppt*=this._duration;this._startTimer=$ppC.now()-this._delay-$ppt}),$ppQt.to=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){return void 0===$pps&&($pps=0),void 0===$ppa&&($ppa=!1),void 0===$ppo&&($ppo=!0),$ppGt.getItemByClass("tween",$ppQt)._create($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,!0,$ppo,!0)},$ppQt.from=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){return void 0===$pps&&($pps=0),void 0===$ppa&&($ppa=!1),void 0===$ppo&&($ppo=!0),$ppGt.getItemByClass("tween",$ppQt)._create($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,!1,$ppo,!0)},$ppQt.clearAll=function($ppt){if($ppt&&$ppt.$_GID){var $ppe=$ppQt.tweenMap[$ppt.$_GID];if($ppe){for(var $ppi=0,$ppn=$ppe.length;$ppi<$ppn;$ppi++)$ppe[$ppi]._clear();$ppe.length=0}}},$ppQt.clear=function($ppt){$ppt.clear()},$ppQt.clearTween=function($ppt){$ppQt.clearAll($ppt)},$ppQt.easeNone=function($ppt,$ppe,$ppi,$ppn){return $ppi*$ppt/$ppn+$ppe},$ppQt.tweenMap={};var $ppZt=$ppQt;function $ppQt(){this.gid=0}$ppc($ppte,"laya.utils.Utils"),$ppte.toRadian=function($ppt){return $ppt*$ppte._pi2},$ppte.toAngle=function($ppt){return $ppt*$ppte._pi},$ppte.toHexColor=function($ppt){if($ppt<0||isNaN($ppt))return null;var $ppe=$ppt.toString(16);for(;$ppe.length<6;)$ppe="0"+$ppe;return"#"+$ppe},$ppte.getGID=function(){return $ppte._gid++},$ppte.concatArray=function($ppt,$ppe){if(!$ppe)return $ppt;if(!$ppt)return $ppe;var $ppi=0,$ppn=$ppe.length;for($ppi=0;$ppi<$ppn;$ppi++)$ppt.push($ppe[$ppi]);return $ppt},$ppte.clearArray=function($ppt){return $ppt&&($ppt.length=0,$ppt)},$ppte.copyArray=function($ppt,$ppe){if($ppt=$ppt||[],!$ppe)return $ppt;$ppt.length=$ppe.length;var $ppi=0,$ppn=$ppe.length;for($ppi=0;$ppi<$ppn;$ppi++)$ppt[$ppi]=$ppe[$ppi];return $ppt},$ppte.getGlobalRecByPoints=function($ppt,$ppe,$ppi,$ppn,$ppr){return $ppe=new $ppnt($ppe,$ppi),$ppe=$ppt.localToGlobal($ppe),$ppi=new $ppnt($ppn,$ppr),$ppi=$ppt.localToGlobal($ppi),$ppst._getWrapRec([$ppe.x,$ppe.y,$ppi.x,$ppi.y])},$ppte.getGlobalPosAndScale=function($ppt){return $ppte.getGlobalRecByPoints($ppt,0,0,1,1)},$ppte.bind=function($ppt,$ppe){return $ppt.bind($ppe)},$ppte.measureText=function($ppt,$ppe){return $ppm.measureText($ppt,$ppe)},$ppte.updateOrder=function($ppt){if(!$ppt||$ppt.length<2)return!1;var $ppe,$ppi,$ppn=1,$ppr=0,$pps=$ppt.length;for(;$ppn<$pps;){for($ppi=$ppt[$ppr=$ppn],$ppe=$ppt[$ppr]._zOrder;-1<--$ppr&&$ppt[$ppr]._zOrder>$ppe;)$ppt[$ppr+1]=$ppt[$ppr];$ppt[$ppr+1]=$ppi,$ppn++}var $ppa=$ppi.parent.conchModel;if($ppa)if(null!=$ppa.updateZOrder)$ppa.updateZOrder();else{for($ppn=0;$ppn<$pps;$ppn++)$ppa.removeChild($ppt[$ppn].conchModel);for($ppn=0;$ppn<$pps;$ppn++)$ppa.addChildAt($ppt[$ppn].conchModel,$ppn)}return!0},$ppte.transPointList=function($ppt,$ppe,$ppi){var $ppn=0,$ppr=$ppt.length;for($ppn=0;$ppn<$ppr;$ppn+=2)$ppt[$ppn]+=$ppe,$ppt[$ppn+1]+=$ppi},$ppte.parseInt=function($ppt,$ppe){$ppt=$ppC.window.parseInt($ppt,$ppe=void 0===$ppe?0:$ppe);return isNaN($ppt)?0:$ppt},$ppte.getFileExtension=function($ppt){$ppte._extReg.lastIndex=$ppt.lastIndexOf(".");$ppt=$ppte._extReg.exec($ppt);return $ppt&&1<$ppt.length?$ppt[1].toLowerCase():null},$ppte.getTransformRelativeToWindow=function($ppt,$ppe,$ppi){var $ppn=$ppw.stage;$ppt=laya.utils.Utils.getGlobalPosAndScale($ppt);$ppn=$ppn._canvasTransform.clone();var $ppr=$ppn.tx;var $pps=$ppn.ty;$ppn.rotate(-Math.PI/180*$ppw.stage.canvasDegree),$ppn.scale($ppw.stage.clientScaleX,$ppw.stage.clientScaleY);var $ppa=$ppw.stage.canvasDegree%180!=0;var $ppo=NaN,$pph=NaN;$ppa?($ppo=$ppi+$ppt.y,$pph=$ppe+$ppt.x,$ppo*=$ppn.d,$pph*=$ppn.a,90==$ppw.stage.canvasDegree?($ppo=$ppr-$ppo,$pph+=$pps):($ppo+=$ppr,$pph=$pps-$pph)):($ppo=$ppe+$ppt.x,$pph=$ppi+$ppt.y,$ppo=$ppo*$ppn.a+$ppr,$pph=$pph*$ppn.d+$pps);$ppe=NaN,$ppi=NaN;return $ppi=$ppa?($ppe=$ppn.d*$ppt.height,$ppn.a*$ppt.width):($ppe=$ppn.a*$ppt.width,$ppn.d*$ppt.height),{x:$ppo,y:$pph,scaleX:$ppe,scaleY:$ppi}},$ppte.fitDOMElementInArea=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){$ppt._fitLayaAirInitialized||($ppt._fitLayaAirInitialized=!0,$ppt.style.transformOrigin=$ppt.style.webKittransformOrigin="left top",$ppt.style.position="absolute");$ppe=$ppte.getTransformRelativeToWindow($ppe,$ppi,$ppn);$ppt.style.transform=$ppt.style.webkitTransform="scale("+$ppe.scaleX+","+$ppe.scaleY+") rotate("+$ppw.stage.canvasDegree+"deg)",$ppt.style.width=$ppr+"px",$ppt.style.height=$pps+"px",$ppt.style.left=$ppe.x+"px",$ppt.style.top=$ppe.y+"px"},$ppte.isOkTextureList=function($ppt){if(!$ppt)return!1;var $ppe=0,$ppi=$ppt.length;var $ppn;for($ppe=0;$ppe<$ppi;$ppe++)if(!($ppn=$ppt[$ppe])||!$ppn.source)return!1;return!0},$ppte.isOKCmdList=function($ppt){if(!$ppt)return!1;var $ppe=0,$ppi=$ppt.length;var $ppn=$ppS._context;var $ppr;var $pps;for($ppe=0;$ppe<$ppi;$ppe++)switch(($ppr=$ppt[$ppe]).callee){case $ppn._drawTexture:case $ppn._fillTexture:case $ppn._drawTextureWithTransform:if(!($pps=$ppr[0])||!$pps.source)return!1}return!0},$ppte._gid=1,$ppte._pi=180/Math.PI,$ppte._pi2=Math.PI/180,$ppte._extReg=/\.(\w+)\??/g,$ppte.parseXMLFromString=function($ppt){if($ppt=$ppt.replace(/>\s+</g,"><"),-1<($ppt=(new DOMParser).parseFromString($ppt,"text/xml")).firstChild.textContent.indexOf("This page contains the following errors"))throw new Error($ppt.firstChild.firstChild.textContent);return $ppt};var $ppJt=$ppte;function $ppte(){}$ppc($ppie,"laya.utils.VectorGraphManager"),($ppi=$ppie.prototype).getId=function(){return this._id++},$ppi.addShape=function($ppt,$ppe){this.shapeDic[$ppt]=$ppe,this.useDic[$ppt]||(this.useDic[$ppt]=!0)},$ppi.addLine=function($ppt,$ppe){this.shapeLineDic[$ppt]=$ppe,this.shapeLineDic[$ppt]||(this.shapeLineDic[$ppt]=!0)},$ppi.getShape=function($ppt){this._checkKey&&null!=this.useDic[$ppt]&&(this.useDic[$ppt]=!0)},$ppi.deleteShape=function($ppt){this.shapeDic[$ppt]&&(this.shapeDic[$ppt]=null,delete this.shapeDic[$ppt]),this.shapeLineDic[$ppt]&&(this.shapeLineDic[$ppt]=null,delete this.shapeLineDic[$ppt]),null!=this.useDic[$ppt]&&delete this.useDic[$ppt]},$ppi.getCacheList=function(){var $ppt=[];for(var $ppe in this.shapeDic)$ppt.push(this.shapeDic[$ppe]);for($ppe in this.shapeLineDic)$ppt.push(this.shapeLineDic[$ppe]);return $ppt},$ppi.startDispose=function($ppt){for(var $ppe in this.useDic)this.useDic[$ppe]=!1;this._checkKey=!0},$ppi.endDispose=function(){if(this._checkKey){for(var $ppt in this.useDic)this.useDic[$ppt]||this.deleteShape($ppt);this._checkKey=!1}},$ppie.getInstance=function(){return $ppie.instance=$ppie.instance||new $ppie},$ppie.instance=null;var $ppee=$ppie;function $ppie(){this.useDic={},this.shapeDic={},this.shapeLineDic={},this._id=0,this._checkKey=!1,this._freeIdArray=[],$ppS.isWebGL&&$ppAt.regCacheByFunction($ppJt.bind(this.startDispose,this),$ppJt.bind(this.getCacheList,this))}$ppc($ppre,"laya.utils.WeakObject"),($ppi=$ppre.prototype).set=function($ppt,$ppe){var $ppi;null!=$ppt&&($ppre.supportWeakMap?("string"!=typeof($ppi=$ppt)&&"number"!=typeof $ppt||($ppi=($ppi=$ppre._keys[$ppt])||($ppre._keys[$ppt]={k:$ppt})),this._obj.set($ppi,$ppe)):"string"==typeof $ppt||"number"==typeof $ppt?this._obj[$ppt]=$ppe:($ppt.$_GID||($ppt.$_GID=$ppJt.getGID()),this._obj[$ppt.$_GID]=$ppe))},$ppi.get=function($ppt){return null==$ppt?null:$ppre.supportWeakMap?($ppe="string"==typeof $ppt||"number"==typeof $ppt?$ppre._keys[$ppt]:$ppt)?this._obj.get($ppe):null:"string"==typeof $ppt||"number"==typeof $ppt?this._obj[$ppt]:this._obj[$ppt.$_GID];var $ppe},$ppi.del=function($ppt){var $ppe;null!=$ppt&&($ppre.supportWeakMap?($ppe="string"==typeof $ppt||"number"==typeof $ppt?$ppre._keys[$ppt]:$ppt)&&this._obj.delete($ppe):"string"==typeof $ppt||"number"==typeof $ppt?delete this._obj[$ppt]:delete this._obj[this._obj.$_GID])},$ppi.has=function($ppt){return null!=$ppt&&($ppre.supportWeakMap?($ppe="string"==typeof $ppt||"number"==typeof $ppt?$ppre._keys[$ppt]:$ppt,this._obj.has($ppe)):"string"==typeof $ppt||"number"==typeof $ppt?null!=this._obj[$ppt]:null!=this._obj[this._obj.$_GID]);var $ppe},$ppre.__init__=function(){($ppre.supportWeakMap=null!=$ppC.window.WeakMap)||$ppw.timer.loop($ppre.delInterval,null,$ppre.clearCache)},$ppre.clearCache=function(){for(var $ppt=0,$ppe=$ppre._maps.length;$ppt<$ppe;$ppt++)$ppre._maps[$ppt]._obj={}},$ppre.supportWeakMap=!1,$ppre.delInterval=3e5,$ppre._keys={},$ppre._maps=[],$ppl($ppre,["I",function(){return this.I=new $ppre}]);var $ppne=$ppre;function $ppre(){this._obj=null,this._obj=$ppre.supportWeakMap?new $ppC.window.WeakMap:{},$ppre.supportWeakMap||$ppre._maps.push(this)}$ppc($ppae,"laya.utils.WordText"),($ppi=$ppae.prototype).setText=function($ppt){this.changed=!0,this._text=$ppt},$ppi.toString=function(){return this._text},$ppi.charCodeAt=function($ppt){return this._text?this._text.charCodeAt($ppt):NaN},$ppi.charAt=function($ppt){return this._text?this._text.charAt($ppt):null},$ppt(0,$ppi,"length",function(){return this._text?this._text.length:0});var $ppse=$ppae;function $ppae(){this.id=NaN,this.save=[],this.toUpperCase=null,this.changed=!1,this._text=null}$ppc($pphe,"laya.display.Node",$ppf),($ppi=$pphe.prototype)._setBit=function($ppt,$ppe){1==$ppt&&this._getBit($ppt)!=$ppe&&this._updateDisplayedInstage(),$ppe?this._bits|=$ppt:this._bits&=~$ppt},$ppi._getBit=function($ppt){return 0!=(this._bits&$ppt)},$ppi._setUpNoticeChain=function(){this._getBit(1)&&this._setUpNoticeType(1)},$ppi._setUpNoticeType=function($ppt){var $ppe=this;for($ppe._setBit($ppt,!0),$ppe=$ppe.parent;$ppe;){if($ppe._getBit($ppt))return;$ppe._setBit($ppt,!0),$ppe=$ppe.parent}},$ppi.on=function($ppt,$ppe,$ppi,$ppn){return"display"!==$ppt&&"undisplay"!==$ppt||this._getBit(1)||this._setUpNoticeType(1),this._createListener($ppt,$ppe,$ppi,$ppn,!1)},$ppi.once=function($ppt,$ppe,$ppi,$ppn){return"display"!==$ppt&&"undisplay"!==$ppt||this._getBit(1)||this._setUpNoticeType(1),this._createListener($ppt,$ppe,$ppi,$ppn,!0)},$ppi.createConchModel=function(){return null},$ppi.destroy=function($ppt){void 0===$ppt&&($ppt=!0),this._destroyed=!0,this._parent&&this._parent.removeChild(this),this._childs&&($ppt?this.destroyChildren():this.removeChildren()),this._childs=null,this._$P=null,this.offAll(),this.timer.clearAll(this)},$ppi.destroyChildren=function(){if(this._childs)for(var $ppt=this._childs.length-1;-1<$ppt;$ppt--)this._childs[$ppt].destroy(!0)},$ppi.addChild=function($ppt){return!$ppt||this.destroyed||$ppt===this||($ppt.zOrder&&this._set$P("hasZorder",!0),$ppt._parent===this?($ppe=this.getChildIndex($ppt))!==this._childs.length-1&&(this._childs.splice($ppe,1),this._childs.push($ppt),this.conchModel&&(this.conchModel.removeChild($ppt.conchModel),this.conchModel.addChildAt($ppt.conchModel,this._childs.length-1)),this._childChanged()):($ppt.parent&&$ppt.parent.removeChild($ppt),this._childs===$pphe.ARRAY_EMPTY&&(this._childs=[]),this._childs.push($ppt),this.conchModel&&this.conchModel.addChildAt($ppt.conchModel,this._childs.length-1),($ppt.parent=this)._childChanged())),$ppt;var $ppe},$ppi.addChildren=function($ppt){var $ppe=arguments;var $ppi=0,$ppn=$ppe.length;for(;$ppi<$ppn;)this.addChild($ppe[$ppi++])},$ppi.addChildAt=function($ppt,$ppe){if(!$ppt||this.destroyed||$ppt===this)return $ppt;var $ppi;if($ppt.zOrder&&this._set$P("hasZorder",!0),0<=$ppe&&$ppe<=this._childs.length)return $ppt._parent===this?($ppi=this.getChildIndex($ppt),this._childs.splice($ppi,1),this._childs.splice($ppe,0,$ppt),this.conchModel&&(this.conchModel.removeChild($ppt.conchModel),this.conchModel.addChildAt($ppt.conchModel,$ppe)),this._childChanged()):($ppt.parent&&$ppt.parent.removeChild($ppt),this._childs===$pphe.ARRAY_EMPTY&&(this._childs=[]),this._childs.splice($ppe,0,$ppt),this.conchModel&&this.conchModel.addChildAt($ppt.conchModel,$ppe),$ppt.parent=this),$ppt;throw new Error("appendChildAt:The index is out of bounds")},$ppi.getChildIndex=function($ppt){return this._childs.indexOf($ppt)},$ppi.getChildByName=function($ppt){var $ppe=this._childs;if($ppe)for(var $ppi=0,$ppn=$ppe.length;$ppi<$ppn;$ppi++){var $ppr=$ppe[$ppi];if($ppr.name===$ppt)return $ppr}return null},$ppi._get$P=function($ppt){return this._$P[$ppt]},$ppi._set$P=function($ppt,$ppe){return this.destroyed||(this._$P===$pphe.PROP_EMPTY&&(this._$P={}),this._$P[$ppt]=$ppe),$ppe},$ppi.getChildAt=function($ppt){return this._childs[$ppt]},$ppi.setChildIndex=function($ppt,$ppe){var $ppi=this._childs;if($ppe<0||$ppe>=$ppi.length)throw new Error("setChildIndex:The index is out of bounds.");var $ppn=this.getChildIndex($ppt);if($ppn<0)throw new Error("setChildIndex:node is must child of this object.");return $ppi.splice($ppn,1),$ppi.splice($ppe,0,$ppt),this.conchModel&&(this.conchModel.removeChild($ppt.conchModel),this.conchModel.addChildAt($ppt.conchModel,$ppe)),this._childChanged(),$ppt},$ppi._childChanged=function($ppt){},$ppi.removeChild=function($ppt){if(!this._childs)return $ppt;$ppt=this._childs.indexOf($ppt);return this.removeChildAt($ppt)},$ppi.removeSelf=function(){return this._parent&&this._parent.removeChild(this),this},$ppi.removeChildByName=function($ppt){$ppt=this.getChildByName($ppt);return $ppt&&this.removeChild($ppt),$ppt},$ppi.removeChildAt=function($ppt){var $ppe=this.getChildAt($ppt);if($ppe){var $ppi=this._childs.length-1;for(var $ppn=$ppt;$ppn<$ppi;++$ppn)this._childs[$ppn]=this._childs[$ppn+1];this._childs.length=$ppi,this.conchModel&&this.conchModel.removeChild($ppe.conchModel),$ppe.parent=null}return $ppe},$ppi.removeChildren=function($ppt,$ppe){if(void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=2147483647),this._childs&&0<this._childs.length){var $ppi=this._childs;var $ppn;0===$ppt&&$pps<=$ppe?($ppn=$ppi,this._childs=$pphe.ARRAY_EMPTY):$ppn=$ppi.splice($ppt,$ppe-$ppt);for(var $ppr=0,$pps=$ppn.length;$ppr<$pps;$ppr++)$ppn[$ppr].parent=null,this.conchModel&&this.conchModel.removeChild($ppn[$ppr].conchModel)}return this},$ppi.replaceChild=function($ppt,$ppe){var $ppi=this._childs.indexOf($ppe);return-1<$ppi?(this._childs.splice($ppi,1,$ppt),this.conchModel&&(this.conchModel.removeChild($ppe.conchModel),this.conchModel.addChildAt($ppt.conchModel,$ppi)),$ppe.parent=null,$ppt.parent=this,$ppt):null},$ppi._updateDisplayedInstage=function(){var $ppt;var $ppe=$ppw.stage;for(($ppt=this)._displayedInStage=!1;$ppt;){if($ppt._getBit(1)){this._displayedInStage=$ppt._displayedInStage;break}if($ppt==$ppe||$ppt._displayedInStage){this._displayedInStage=!0;break}$ppt=$ppt.parent}},$ppi._setDisplay=function($ppt){this._displayedInStage!==$ppt&&((this._displayedInStage=$ppt)?this.event("display"):this.event("undisplay"))},$ppi._displayChild=function($ppt,$ppe){var $ppi=$ppt._childs;if($ppi)for(var $ppn=0,$ppr=$ppi.length;$ppn<$ppr;$ppn++){var $pps=$ppi[$ppn];$pps._getBit(1)&&(0<$pps._childs.length?this._displayChild($pps,$ppe):$pps._setDisplay($ppe))}$ppt._setDisplay($ppe)},$ppi.contains=function($ppt){if($ppt===this)return!0;for(;$ppt;){if($ppt.parent===this)return!0;$ppt=$ppt.parent}return!1},$ppi.timerLoop=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this.timer.loop($ppt,$ppe,$ppi,$ppn,$ppr=void 0===$ppr?!0:$ppr,$pps=void 0===$pps?!1:$pps)},$ppi.timerOnce=function($ppt,$ppe,$ppi,$ppn,$ppr){this.timer._create(!1,!1,$ppt,$ppe,$ppi,$ppn,$ppr=void 0===$ppr?!0:$ppr)},$ppi.frameLoop=function($ppt,$ppe,$ppi,$ppn,$ppr){this.timer._create(!0,!0,$ppt,$ppe,$ppi,$ppn,$ppr=void 0===$ppr?!0:$ppr)},$ppi.frameOnce=function($ppt,$ppe,$ppi,$ppn,$ppr){this.timer._create(!0,!1,$ppt,$ppe,$ppi,$ppn,$ppr=void 0===$ppr?!0:$ppr)},$ppi.clearTimer=function($ppt,$ppe){this.timer.clear($ppt,$ppe)},$ppt(0,$ppi,"numChildren",function(){return this._childs.length}),$ppt(0,$ppi,"destroyed",function(){return this._destroyed}),$ppt(0,$ppi,"parent",function(){return this._parent},function($ppt){this._parent!==$ppt&&($ppt?(this._parent=$ppt,this.event("added"),this._getBit(1)&&(this._setUpNoticeChain(),$ppt.displayedInStage&&this._displayChild(this,!0)),$ppt._childChanged(this)):(this.event("removed"),this._parent._childChanged(),this._getBit(1)&&this._displayChild(this,!1),this._parent=$ppt))}),$ppt(0,$ppi,"displayedInStage",function(){return this._getBit(1)||this._setUpNoticeType(1),this._displayedInStage}),$pphe.ARRAY_EMPTY=[],$pphe.PROP_EMPTY={},$pphe.NOTICE_DISPLAY=1,$pphe.MOUSEENABLE=2;var $ppoe=$pphe;function $pphe(){this._bits=0,this._displayedInStage=!1,this._parent=null,this.conchModel=null,this.name="",this._destroyed=!1,$pphe.__super.call(this),this._childs=$pphe.ARRAY_EMPTY,this._$P=$pphe.PROP_EMPTY,this.timer=$ppw.scaleTimer,this.conchModel=$ppS.isConchNode?this.createConchModel():null}$ppc($ppce,"laya.display.css.CSSStyle",$ppi=$ppb),($ppr=$ppce.prototype).destroy=function(){this._ower=null,this._font=null,this._rect=null},$ppr.inherit=function($ppt){this._font=$ppt._font,this._spacing=$ppt._spacing===$ppce._SPACING?$ppce._SPACING:$ppt._spacing.slice(),this.lineHeight=$ppt.lineHeight},$ppr._widthAuto=function(){return 0!=(262144&this._type)},$ppr.widthed=function($ppt){return 0!=(8&this._type)},$ppr._calculation=function($ppt,$ppe){if($ppe.indexOf("%")<0)return!1;var $ppn=this._ower;var $ppr=$ppn.parent;var $pps=this._rect;function $ppa($ppt,$ppe,$ppi){return $ppt*$ppi[0]+$ppe*$ppi[1]+$ppi[2]}function $ppi($ppt){var $ppe=$ppr.width,$ppi=$ppn.width;$pps.width&&($ppn.width=$ppa($ppe,$ppi,$pps.width)),$pps.height&&($ppn.height=$ppa($ppe,$ppi,$pps.height)),$pps.left&&($ppn.x=$ppa($ppe,$ppi,$pps.left)),$pps.top&&($ppn.y=$ppa($ppe,$ppi,$pps.top))}null===$pps&&($ppr._getCSSStyle()._type|=524288,$ppr.on("resize",this,$ppi),this._rect=$pps={input:{}});var $ppo=$ppe.split(" ");return $ppo[0]=parseFloat($ppo[0])/100,1==$ppo.length?$ppo[1]=$ppo[2]=0:($ppo[1]=parseFloat($ppo[1])/100,$ppo[2]=parseFloat($ppo[2])),$pps[$ppt]=$ppo,$pps.input[$ppt]=$ppe,$ppi(),!0},$ppr.heighted=function($ppt){return 0!=(8192&this._type)},$ppr.size=function($ppt,$ppe){var $ppi=this._ower;var $ppn=!1;-1!==$ppt&&$ppt!=this._ower.width&&(this._type|=8,this._ower.width=$ppt,$ppn=!0),-1!==$ppe&&$ppe!=this._ower.height&&(this._type|=8192,this._ower.height=$ppe,$ppn=!0),$ppn&&($ppi._layoutLater(),524288&this._type&&$ppi.event("resize",this))},$ppr._getAlign=function(){return this._aligns[0]},$ppr._getValign=function(){return this._aligns[1]},$ppr._getCssFloat=function(){return 0!=(32768&this._type)?32768:0},$ppr._createFont=function(){return 4096&this._type?this._font:(this._type|=4096,this._font=new $ppM(this._font))},$ppr.render=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt.width;var $pps=$ppt.height;$ppi-=$ppt.pivotX,$ppn-=$ppt.pivotY,this._bgground&&null!=this._bgground.color&&$ppe.ctx.fillRect($ppi,$ppn,$ppr,$pps,this._bgground.color),this._border&&this._border.color&&$ppe.drawRect($ppi,$ppn,$ppr,$pps,this._border.color.strColor,this._border.size)},$ppr.getCSSStyle=function(){return this},$ppr.cssText=function($ppt){this.attrs($ppce.parseOneCSS($ppt,";"))},$ppr.attrs=function($ppt){if($ppt)for(var $ppe=0,$ppi=$ppt.length;$ppe<$ppi;$ppe++){var $ppn=$ppt[$ppe];this[$ppn[0]]=$ppn[1]}},$ppr.setTransform=function($ppt){"none"===$ppt?this._tf=$ppb._TF_EMPTY:this.attrs($ppce.parseOneCSS($ppt,","))},$ppr.translate=function($ppt,$ppe){this._tf===$ppb._TF_EMPTY&&(this._tf=new $ppA),this._tf.translateX=$ppt,this._tf.translateY=$ppe},$ppr.scale=function($ppt,$ppe){this._tf===$ppb._TF_EMPTY&&(this._tf=new $ppA),this._tf.scaleX=$ppt,this._tf.scaleY=$ppe},$ppr._enableLayout=function(){return 0==(2&this._type)&&0==(4&this._type)},$ppt(0,$ppr,"block",$ppi.prototype._$get_block,function($ppt){$ppt?this._type|=1:this._type&=-2}),$ppt(0,$ppr,"valign",function(){return $ppce._valigndef[this._aligns[1]]},function($ppt){this._aligns===$ppce._ALIGNS&&(this._aligns=[0,0,0]),this._aligns[1]=$ppce._valigndef[$ppt]}),$ppt(0,$ppr,"height",null,function($ppt){if(this._type|=8192,"string"==typeof $ppt){if(this._calculation("height",$ppt))return;$ppt=parseInt($ppt)}this.size(-1,$ppt)}),$ppt(0,$ppr,"width",null,function($ppt){if(this._type|=8,"string"==typeof $ppt){var $ppe=$ppt.indexOf("auto");if(0<=$ppe&&(this._type|=262144,$ppt=$ppt.substr(0,$ppe)),this._calculation("width",$ppt))return;$ppt=parseInt($ppt)}this.size($ppt,-1)}),$ppt(0,$ppr,"fontWeight",function(){return this._font.weight},function($ppt){this._createFont().weight=$ppt}),$ppt(0,$ppr,"left",null,function($ppt){var $ppe=this._ower;if("string"==typeof $ppt){if("center"===$ppt?$ppt="50% -50% 0":"right"===$ppt&&($ppt="100% -100% 0"),this._calculation("left",$ppt))return;$ppt=parseInt($ppt)}$ppe.x=$ppt}),$ppt(0,$ppr,"_translate",null,function($ppt){this.translate($ppt[0],$ppt[1])}),$ppt(0,$ppr,"absolute",function(){return 0!=(4&this._type)}),$ppt(0,$ppr,"top",null,function($ppt){var $ppe=this._ower;if("string"==typeof $ppt){if("middle"===$ppt?$ppt="50% -50% 0":"bottom"===$ppt&&($ppt="100% -100% 0"),this._calculation("top",$ppt))return;$ppt=parseInt($ppt)}$ppe.y=$ppt}),$ppt(0,$ppr,"align",function(){return $ppce._aligndef[this._aligns[0]]},function($ppt){this._aligns===$ppce._ALIGNS&&(this._aligns=[0,0,0]),this._aligns[0]=$ppce._aligndef[$ppt]}),$ppt(0,$ppr,"bold",function(){return this._font.bold},function($ppt){this._createFont().bold=$ppt}),$ppt(0,$ppr,"padding",function(){return this._padding},function($ppt){this._padding=$ppt}),$ppt(0,$ppr,"leading",function(){return this._spacing[1]},function($ppt){"string"==typeof $ppt&&($ppt=parseInt($ppt+"")),this._spacing===$ppce._SPACING&&(this._spacing=[0,0]),this._spacing[1]=$ppt}),$ppt(0,$ppr,"lineElement",function(){return 0!=(65536&this._type)},function($ppt){$ppt?this._type|=65536:this._type&=-65537}),$ppt(0,$ppr,"cssFloat",function(){return 0!=(32768&this._type)?"right":"left"},function($ppt){this.lineElement=!1,"right"===$ppt?this._type|=32768:this._type&=-32769}),$ppt(0,$ppr,"textDecoration",function(){return this._font.decoration},function($ppt){this._createFont().decoration=$ppt}),$ppt(0,$ppr,"whiteSpace",function(){return 131072&this._type?"nowrap":""},function($ppt){"nowrap"===$ppt&&(this._type|=131072),"none"===$ppt&&(this._type&=-131073)}),$ppt(0,$ppr,"background",null,function($ppt){$ppt?(this._bgground||(this._bgground={}),this._bgground.color=$ppt,this._ower.conchModel&&this._ower.conchModel.bgColor($ppt),this._type|=16384,this._ower._renderType|=256):this._bgground=null}),$ppt(0,$ppr,"wordWrap",function(){return 0==(131072&this._type)},function($ppt){$ppt?this._type&=-131073:this._type|=131072}),$ppt(0,$ppr,"color",function(){return this._font.color},function($ppt){this._createFont().color=$ppt}),$ppt(0,$ppr,"password",function(){return this._font.password},function($ppt){this._createFont().password=$ppt}),$ppt(0,$ppr,"backgroundColor",function(){return this._bgground?this._bgground.color:null},function($ppt){"none"===$ppt?this._bgground=null:(this._bgground||(this._bgground={}),this._bgground.color=$ppt),this._ower.conchModel&&this._ower.conchModel.bgColor($ppt),this._ower._renderType|=256}),$ppt(0,$ppr,"font",function(){return this._font.toString()},function($ppt){this._createFont().set($ppt)}),$ppt(0,$ppr,"weight",null,function($ppt){this._createFont().weight=$ppt}),$ppt(0,$ppr,"letterSpacing",function(){return this._spacing[0]},function($ppt){"string"==typeof $ppt&&($ppt=parseInt($ppt+"")),this._spacing===$ppce._SPACING&&(this._spacing=[0,0]),this._spacing[0]=$ppt}),$ppt(0,$ppr,"fontSize",function(){return this._font.size},function($ppt){this._createFont().size=$ppt}),$ppt(0,$ppr,"italic",function(){return this._font.italic},function($ppt){this._createFont().italic=$ppt}),$ppt(0,$ppr,"fontFamily",function(){return this._font.family},function($ppt){this._createFont().family=$ppt}),$ppt(0,$ppr,"stroke",function(){return this._font.stroke[0]},function($ppt){this._createFont().stroke===$ppM._STROKE&&(this._font.stroke=[0,"#000000"]),this._font.stroke[0]=$ppt}),$ppt(0,$ppr,"strokeColor",function(){return this._font.stroke[1]},function($ppt){this._createFont().stroke===$ppM._STROKE&&(this._font.stroke=[0,"#000000"]),this._font.stroke[1]=$ppt}),$ppt(0,$ppr,"border",function(){return this._border?this._border.value:""},function($ppt){if("none"!=$ppt){this._border||(this._border={});$ppt=(this._border.value=$ppt).split(" ");if(this._border.color=$ppPt.create($ppt[$ppt.length-1]),1==$ppt.length)return this._border.size=1,void(this._border.type="solid");var $ppe=0;0<$ppt[0].indexOf("px")?(this._border.size=parseInt($ppt[0]),$ppe++):this._border.size=1,this._border.type=$ppt[$ppe],this._ower._renderType|=256}else this._border=null}),$ppt(0,$ppr,"borderColor",function(){return this._border&&this._border.color?this._border.color.strColor:null},function($ppt){$ppt?(this._border||(this._border={size:1,type:"solid"}),this._border.color=null==$ppt?null:$ppPt.create($ppt),this._ower.conchModel&&this._ower.conchModel.border(this._border.color.strColor),this._ower._renderType|=256):this._border=null}),$ppt(0,$ppr,"position",function(){return 4&this._type?"absolute":""},function($ppt){"absolute"==$ppt?this._type|=4:this._type&=-5}),$ppt(0,$ppr,"display",null,function($ppt){switch($ppt){case"":this._type&=-3,this.visible=!0;break;case"none":this._type|=2,this.visible=!1,this._ower._layoutLater()}}),$ppt(0,$ppr,"paddingLeft",function(){return this.padding[3]}),$ppt(0,$ppr,"paddingTop",function(){return this.padding[0]}),$ppt(0,$ppr,"_scale",null,function($ppt){this._ower.scale($ppt[0],$ppt[1])}),$ppt(0,$ppr,"_rotate",null,function($ppt){this._ower.rotation=$ppt}),$ppce.parseOneCSS=function($ppt,$ppc){var $ppe=[];var $ppi=$ppt.split($ppc);var $ppn;for(var $ppr=0,$ppu=$ppi.length;$ppr<$ppu;$ppr++){var $pps=$ppi[$ppr];var $ppa=$pps.indexOf(":");var $ppo=$pps.substr(0,$ppa).replace(/^\s+|\s+$/g,"");if(0!=$ppo.length){var $pph=$pps.substr($ppa+1).replace(/^\s+|\s+$/g,"");var $ppl=[$ppo,$pph];switch($ppo){case"italic":case"bold":$ppl[1]="true"==$pph;break;case"line-height":$ppl[0]="lineHeight",$ppl[1]=parseInt($pph);break;case"font-size":$ppl[0]="fontSize",$ppl[1]=parseInt($pph);break;case"padding":1<($ppn=$pph.split(" ")).length||($ppn[1]=$ppn[2]=$ppn[3]=$ppn[0]),$ppl[1]=[parseInt($ppn[0]),parseInt($ppn[1]),parseInt($ppn[2]),parseInt($ppn[3])];break;case"rotate":$ppl[0]="_rotate",$ppl[1]=parseFloat($pph);break;case"scale":$ppn=$pph.split(" "),$ppl[0]="_scale",$ppl[1]=[parseFloat($ppn[0]),parseFloat($ppn[1])];break;case"translate":$ppn=$pph.split(" "),$ppl[0]="_translate",$ppl[1]=[parseInt($ppn[0]),parseInt($ppn[1])];break;default:($ppl[0]=$ppce._CSSTOVALUE[$ppo])||($ppl[0]=$ppo)}$ppe.push($ppl)}}return $ppe},$ppce.parseCSS=function($ppt,$ppe){var $ppi;for(;null!=($ppi=$ppce._parseCSSRegExp.exec($ppt));)$ppce.styleSheets[$ppi[1]]=$ppce.parseOneCSS($ppi[2],";")},$ppce.EMPTY=new $ppce(null),$ppce._CSSTOVALUE={"letter-spacing":"letterSpacing","line-spacing":"lineSpacing","white-space":"whiteSpace","line-height":"lineHeight","scale-x":"scaleX","scale-y":"scaleY","translate-x":"translateX","translate-y":"translateY","font-family":"fontFamily","font-weight":"fontWeight","vertical-align":"valign","text-decoration":"textDecoration","background-color":"backgroundColor","border-color":"borderColor",float:"cssFloat"},$ppce._parseCSSRegExp=new RegExp("([.#]\\w+)\\s*{([\\s\\S]*?)}","g"),$ppce._aligndef={left:0,center:1,right:2,0:"left",1:"center",2:"right"},$ppce._valigndef={top:0,middle:1,bottom:2,0:"top",1:"middle",2:"bottom"},$ppce.styleSheets={},$ppce.ALIGN_CENTER=1,$ppce.ALIGN_RIGHT=2,$ppce.VALIGN_MIDDLE=1,$ppce.VALIGN_BOTTOM=2,$ppce._CSS_BLOCK=1,$ppce._DISPLAY_NONE=2,$ppce._ABSOLUTE=4,$ppce._WIDTH_SET=8,$ppce._PADDING=[0,0,0,0],$ppce._RECT=[-1,-1,-1,-1],$ppce._SPACING=[0,0],$ppce._ALIGNS=[0,0,0],$ppce.ADDLAYOUTED=512,$ppce._NEWFONT=4096,$ppce._HEIGHT_SET=8192,$ppce._BACKGROUND_SET=16384,$ppce._FLOAT_RIGHT=32768,$ppce._LINE_ELEMENT=65536,$ppce._NOWARP=131072,$ppce._WIDTHAUTO=262144,$ppce._LISTERRESZIE=524288;var $pple=$ppce;function $ppce($ppt){this._bgground=null,this._border=null,this._rect=null,this.underLine=0,this.lineHeight=0,$ppce.__super.call(this),this._padding=$ppce._PADDING,this._spacing=$ppce._SPACING,this._aligns=$ppce._ALIGNS,this._font=$ppM.EMPTY,this._ower=$ppt}$ppc($pp_e,"laya.media.h5audio.AudioSound",$ppf),($ppi=$pp_e.prototype).dispose=function(){var $ppt=$pp_e._audioCache[this.url];$ppt&&($ppt.src="",delete $pp_e._audioCache[this.url])},$ppi.load=function($ppt){var $ppe;var $ppi;function $ppn(){$pps(),$ppi.loaded=!0,$ppi.event("complete")}function $ppr(){$ppe.load=null,$pps(),$ppi.event("error")}function $pps(){$ppe.removeEventListener("canplaythrough",$ppn),$ppe.removeEventListener("error",$ppr)}$ppt=$ppft.formatURL($ppt),(this.url=$ppt)==$ppot._tMusic?($pp_e._initMusicAudio(),($ppe=$pp_e._musicAudio).src!=$ppt&&($pp_e._audioCache[$ppe.src]=null,$ppe=null)):$ppe=$pp_e._audioCache[$ppt],$ppe&&2<=$ppe.readyState?this.event("complete"):($ppe||($ppe=$ppt==$ppot._tMusic?($pp_e._initMusicAudio(),$pp_e._musicAudio):$ppC.createElement("audio"),($pp_e._audioCache[$ppt]=$ppe).src=$ppt),$ppe.addEventListener("canplaythrough",$ppn),$ppe.addEventListener("error",$ppr),(($ppi=this).audio=$ppe).load?$ppe.load():$ppr())},$ppi.play=function($ppt,$ppe){if(void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=0),!this.url)return null;if(!($ppn=this.url==$ppot._tMusic?$pp_e._musicAudio:$pp_e._audioCache[this.url]))return null;var $ppi;$ppi=$ppGt.getItem("audio:"+this.url),$ppS.isConchApp?$ppi||(($ppi=$ppC.createElement("audio")).src=this.url):this.url==$ppot._tMusic?($pp_e._initMusicAudio(),($ppi=$pp_e._musicAudio).src=this.url):$ppi=$ppi||$ppn.cloneNode(!0);var $ppn=new $ppOe($ppi);return $ppn.url=this.url,$ppn.loops=$ppe,$ppn.startTime=$ppt,$ppn.play(),$ppot.addChannel($ppn),$ppn},$ppt(0,$ppi,"duration",function(){var $ppt;return($ppt=$pp_e._audioCache[this.url])?$ppt.duration:0}),$pp_e._initMusicAudio=function(){$pp_e._musicAudio||($pp_e._musicAudio||($pp_e._musicAudio=$ppC.createElement("audio")),$ppS.isConchApp||$ppC.document.addEventListener("mousedown",$pp_e._makeMusicOK))},$pp_e._makeMusicOK=function(){$ppC.document.removeEventListener("mousedown",$pp_e._makeMusicOK),$pp_e._musicAudio.src?$pp_e._musicAudio.play():($pp_e._musicAudio.src="",$pp_e._musicAudio.load())},$pp_e._audioCache={},$pp_e._musicAudio=null;var $ppue=$pp_e;function $pp_e(){this.url=null,this.audio=null,this.loaded=!1,$pp_e.__super.call(this)}$ppc($ppde,"laya.media.SoundChannel",$ppf),($ppr=$ppde.prototype).play=function(){},$ppr.stop=function(){},$ppr.pause=function(){},$ppr.resume=function(){},$ppr.__runComplete=function($ppt){$ppt&&$ppt.run()},$ppt(0,$ppr,"volume",function(){return 1},function($ppt){}),$ppt(0,$ppr,"position",function(){return 0}),$ppt(0,$ppr,"duration",function(){return 0});var $ppi=$ppde;function $ppde(){this.url=null,this.loops=0,this.startTime=NaN,this.isStopped=!1,this.completeHandler=null,$ppde.__super.call(this)}$ppc($pppe,"laya.media.Sound",$ppf),($ppr=$pppe.prototype).load=function($ppt){},$ppr.play=function($ppt,$ppe){return void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=0),null},$ppr.dispose=function(){},$ppt(0,$ppr,"duration",function(){return 0});var $ppfe=$pppe;function $pppe(){$pppe.__super.call(this)}$ppc($ppge,"laya.media.webaudio.WebAudioSound",$ppf),($ppr=$ppge.prototype).load=function($ppt){this.url=$ppt,this.audioBuffer=$ppge._dataCache[$ppt],this.audioBuffer?this._loaded(this.audioBuffer):($ppge.e.on("loaded:"+$ppt,this,this._loaded),$ppge.e.on("err:"+$ppt,this,this._err),$ppge.__loadingSound[$ppt]||($ppge.__loadingSound[$ppt]=!0,$ppw.loader.load($ppt,$ppv.create(this,this.onloaded),null,$ppxe.BUFFER,4,!1,null,!0)))},$ppr.onloaded=function($ppt){$ppt||this._err(),this._disposed?this._removeLoadEvents():(this.data=$ppt,$ppge.buffs.push({buffer:this.data,url:this.url}),$ppge.decode())},$ppr._err=function(){if(this._removeLoadEvents(),$ppge.__loadingSound[this.url]=!1,this.event("error"),this.__toPlays){var $ppt,$ppe=0;var $ppi;var $ppn;for($ppt=($ppi=this.__toPlays).length,$ppe=0;$ppe<$ppt;$ppe++)($ppn=$ppi[$ppe])[2]&&!$ppn[2].isStopped&&$ppn[2].event("error");this.__toPlays.length=0}},$ppr._loaded=function($ppt){this._removeLoadEvents(),this._disposed||(this.audioBuffer=$ppt,$ppge._dataCache[this.url]=this.audioBuffer,this.loaded=!0,this.event("complete"))},$ppr._removeLoadEvents=function(){$ppge.e.off("loaded:"+this.url,this,this._loaded),$ppge.e.off("err:"+this.url,this,this._err)},$ppr.__playAfterLoaded=function(){if(this.__toPlays){var $ppt,$ppe=0;var $ppi;var $ppn;for($ppt=($ppi=this.__toPlays).length,$ppe=0;$ppe<$ppt;$ppe++)($ppn=$ppi[$ppe])[2]&&!$ppn[2].isStopped&&this.play($ppn[0],$ppn[1],$ppn[2]);this.__toPlays.length=0}},$ppr.play=function($ppt,$ppe,$ppi){return void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=0),$ppi=$ppi||new $ppVe,this.audioBuffer||this.url&&(this.__toPlays||(this.__toPlays=[]),this.__toPlays.push([$ppt,$ppe,$ppi]),this.once("complete",this,this.__playAfterLoaded),this.load(this.url)),$ppi.url=this.url,$ppi.loops=$ppe,$ppi.audioBuffer=this.audioBuffer,$ppi.startTime=$ppt,$ppi.play(),$ppot.addChannel($ppi),$ppi},$ppr.dispose=function(){this._disposed=!0,delete $ppge._dataCache[this.url],delete $ppge.__loadingSound[this.url],this.audioBuffer=null,this.data=null,this.__toPlays=[]},$ppt(0,$ppr,"duration",function(){return this.audioBuffer?this.audioBuffer.duration:0}),$ppge.decode=function(){$ppge.buffs.length<=0||$ppge.isDecoding||($ppge.isDecoding=!0,$ppge.tInfo=$ppge.buffs.shift(),$ppge.ctx.decodeAudioData($ppge.tInfo.buffer,$ppge._done,$ppge._fail))},$ppge._done=function($ppt){$ppge.e.event("loaded:"+$ppge.tInfo.url,$ppt),$ppge.isDecoding=!1,$ppge.decode()},$ppge._fail=function(){$ppge.e.event("err:"+$ppge.tInfo.url,null),$ppge.isDecoding=!1,$ppge.decode()},$ppge._playEmptySound=function(){if(null!=$ppge.ctx){if($ppge._emptySource&&($ppge._emptySource.stop(),$ppge._emptySource.disconnect(0),!$ppVe._tryCleanFailed))try{$ppge._emptySource.buffer=null}catch($ppt){$ppVe._tryCleanFailed=!0}var $ppt=$ppge.ctx.createBufferSource();$ppt.buffer=$ppge._miniBuffer,$ppt.connect($ppge.ctx.destination),$ppt.start(0,0,0),$ppge._emptySource=$ppt}},$ppge._unlock=function(){$ppge._unlocked||($ppge._playEmptySound(),"running"==$ppge.ctx.state&&($ppC.document.removeEventListener("mousedown",$ppge._unlock,!0),$ppC.document.removeEventListener("touchend",$ppge._unlock,!0),$ppC.document.removeEventListener("touchstart",$ppge._unlock,!0),$ppge._unlocked=!0))},$ppge.initWebAudio=function(){"running"!=$ppge.ctx.state&&($ppge._unlock(),$ppC.document.addEventListener("mousedown",$ppge._unlock,!0),$ppC.document.addEventListener("touchend",$ppge._unlock,!0),$ppC.document.addEventListener("touchstart",$ppge._unlock,!0))},$ppge._emptySource=null,$ppge._dataCache={},$ppge.buffs=[],$ppge.isDecoding=!1,$ppge._unlocked=!1,$ppge.tInfo=null,$ppge.__loadingSound={},$ppl($ppge,["window",function(){return this.window=$ppC.window},"webAudioEnabled",function(){return this.webAudioEnabled=$ppge.window.AudioContext||$ppge.window.webkitAudioContext||$ppge.window.mozAudioContext},"ctx",function(){return this.ctx=$ppge.webAudioEnabled?new($ppge.window.AudioContext||$ppge.window.webkitAudioContext||$ppge.window.mozAudioContext):void 0},"_miniBuffer",function(){return this._miniBuffer=$ppge.ctx.createBuffer(1,1,22050)},"e",function(){return this.e=new $ppf}]);var $ppme=$ppge;function $ppge(){this.url=null,this.loaded=!1,this.data=null,this.audioBuffer=null,this.__toPlays=null,this._disposed=!1,$ppge.__super.call(this)}$ppc($ppye,"laya.net.HttpRequest",$ppf),($ppr=$ppye.prototype).send=function($ppt,$ppe,$ppi,$ppn,$ppr){void 0===$ppi&&($ppi="get"),this._responseType=$ppn=void 0===$ppn?"text":$ppn,this._data=null;var $pps=this;var $ppa=this._http;if($ppa.open($ppi,$ppt,!0),$ppr)for(var $ppo=0;$ppo<$ppr.length;$ppo++)$ppa.setRequestHeader($ppr[$ppo++],$ppr[$ppo]);else $ppS.isConchApp||($ppe&&"string"!=typeof $ppe?$ppa.setRequestHeader("Content-Type","application/json"):$ppa.setRequestHeader("Content-Type","application/x-www-form-urlencoded"));$ppa.responseType="arraybuffer"!==$ppn?"text":"arraybuffer",$ppa.onerror=function($ppt){$pps._onError($ppt)},$ppa.onabort=function($ppt){$pps._onAbort($ppt)},$ppa.onprogress=function($ppt){$pps._onProgress($ppt)},$ppa.onload=function($ppt){$pps._onLoad($ppt)},$ppa.send($ppe)},$ppr._onProgress=function($ppt){$ppt&&$ppt.lengthComputable&&this.event("progress",$ppt.loaded/$ppt.total)},$ppr._onAbort=function($ppt){this.error("Request was aborted by user")},$ppr._onError=function($ppt){this.error("Request failed Status:"+this._http.status+" text:"+this._http.statusText)},$ppr._onLoad=function($ppt){var $ppe=this._http;var $ppi=void 0!==$ppe.status?$ppe.status:200;200===$ppi||204===$ppi||0===$ppi?this.complete():this.error("["+$ppe.status+"]"+$ppe.statusText+":"+$ppe.responseURL)},$ppr.error=function($ppt){this.clear(),this.event("error",$ppt)},$ppr.complete=function(){this.clear();var $ppe=!0;try{"json"===this._responseType?this._data=JSON.parse(this._http.responseText):"xml"===this._responseType?this._data=$ppJt.parseXMLFromString(this._http.responseText):this._data=this._http.response||this._http.responseText}catch($ppt){$ppe=!1,this.error($ppt.message)}$ppe&&this.event("complete",this._data instanceof Array?[this._data]:this._data)},$ppr.clear=function(){var $ppt=this._http;$ppt.onerror=$ppt.onabort=$ppt.onprogress=$ppt.onload=null},$ppt(0,$ppr,"url",function(){return this._http.responseURL}),$ppt(0,$ppr,"http",function(){return this._http}),$ppt(0,$ppr,"data",function(){return this._data});var $ppve=$ppye;function $ppye(){this._responseType=null,this._data=null,$ppye.__super.call(this),this._http=new $ppC.window.XMLHttpRequest}$ppc($ppwe,"laya.net.Loader",$ppf),($ppr=$ppwe.prototype).load=function($ppt,$ppe,$ppi,$ppn,$ppr){if(void 0===$ppi&&($ppi=!0),void 0===$ppr&&($ppr=!1),0===(this._url=$ppt).indexOf("data:image")?this._type=$ppe="image":this._type=$ppe=$ppe||this.getTypeFromUrl($ppt),this._cache=$ppi,this._data=null,!$ppr&&$ppwe.loadedMap[$ppt])return this._data=$ppwe.loadedMap[$ppt],this.event("progress",1),void this.event("complete",this._data);if($ppn&&$ppwe.setGroup($ppt,$ppn),null!=$ppwe.parserMap[$ppe])return this._customParse=!0,void($ppwe.parserMap[$ppe]instanceof laya.utils.Handler?$ppwe.parserMap[$ppe].runWith(this):$ppwe.parserMap[$ppe].call(null,this));if("image"===$ppe||"htmlimage"===$ppe||"nativeimage"===$ppe)return this._loadImage($ppt);if("ttf"===$ppe)return this._loadTTF($ppt);var $pps;switch($ppe){case"atlas":case"plf":$pps="json";break;case"font":$pps="xml";break;case"pkm":$pps="arraybuffer";break;default:$pps=$ppe}$ppwe.preLoadedMap[$ppt]?this.onLoaded($ppwe.preLoadedMap[$ppt]):MainResourcePool?MainResourcePool.load($ppt,this._onLoadedCallback,this.priority,this.realTime):(this._http||(this._http=new $ppve,this._http.on("progress",this,this.onProgress),this._http.on("error",this,this.onError),this._http.on("complete",this,this.onLoaded)),this._http.send($ppt,null,"get",$pps))},$ppr.getTypeFromUrl=function($ppt){var $ppe=$ppJt.getFileExtension($ppt);return $ppe?$ppwe.typeMap[$ppe]:(console.warn("Not recognize the resources suffix",$ppt),"text")},$ppr._loadTTF=function($ppt){$ppt=$ppft.formatURL($ppt);var $ppe=new $pp_t;$ppe.complete=$ppv.create(this,this.onLoaded),$ppe.load($ppt)},$ppr._loadImage=function($ppe){function $ppt(){$ppn.onload=null,$ppn.onerror=null,delete $ppwe.imgCache[$ppe]}var $ppi,$ppn,$ppr,$pps;MainResourcePool?MainResourcePool.load($ppe,this._onImageCallback,0,!0):($ppe=$ppft.formatURL($ppe),$ppr=function(){$ppt(),$ppi.onLoaded($ppn)},$pps=function(){$ppt(),$ppi.event("error","Load image failed")},"nativeimage"===($ppi=this)._type?(($ppn=new $ppC.window.Image).crossOrigin="",$ppn.onload=$ppr,$ppn.onerror=$pps,$ppn.src=$ppe,$ppwe.imgCache[$ppe]=$ppn):new $pphi.create($ppe,{onload:$ppr,onerror:$pps,onCreate:function($ppt){$ppn=$ppt,$ppwe.imgCache[$ppe]=$ppt}}))},$ppr._loadImageComplete=function($ppt,$ppe,$ppi){var $ppn;null!=$ppi?($ppn=new DataView($ppi),$ppi=new laya.webgl.resource.WebGLImage(new Uint8Array($ppi,8),$ppt,0,!1,$ppn.getUint32(0),$ppn.getUint32(4)),this.onLoaded($ppi)):this.event("error","Load image failed")},$ppr._loadSound=function($ppt){var $ppe=new $ppot._soundClass;var $ppi=this;function $ppn(){$ppe.offAll()}$ppe.on("complete",this,function(){$ppn(),$ppi.onLoaded($ppe)}),$ppe.on("error",this,function(){$ppn(),$ppe.dispose(),$ppi.event("error","Load sound failed")}),$ppe.load($ppt)},$ppr.onProgress=function($ppt){"atlas"===this._type?this.event("progress",.3*$ppt):this.event("progress",$ppt)},$ppr.onError=function($ppt){this.event("error",$ppt)},$ppr._loadedComplete=function($ppt,$ppe,$ppi){if(null!=$ppi)switch(this._type){case"atlas":case"plf":case"json":var $ppn=new $ppMt($ppi);this.onLoaded(JSON.parse($ppn.readUTFBytes()));break;case"font":$ppn=new $ppMt($ppi);this.onLoaded($ppJt.parseXMLFromString($ppn.readUTFBytes()));break;default:this.onLoaded($ppi)}else this.event("error",$ppt)},$ppr.onLoaded=function($ppt){var $ppe=this._type;if("plf"==$ppe)this.parsePLFData($ppt),this.complete($ppt);else if("image"===$ppe){var $ppi=new $ppAe($ppt);$ppi.url=this._url,this.complete($ppi)}else if("sound"===$ppe||"htmlimage"===$ppe||"nativeimage"===$ppe)this.complete($ppt);else if("atlas"===$ppe){if(!$ppt.src&&!$ppt._setContext){if(!this._data){if((this._data=$ppt).meta&&$ppt.meta.image){var $ppn=$ppt.meta.image.split(",");$ppi=0<=this._url.indexOf("/")?"/":"\\";$ppi=this._url.lastIndexOf($ppi);var $ppc=0<=$ppi?this._url.substr(0,$ppi+1):"";for(var $ppr=0,$ppu=$ppn.length;$ppr<$ppu;$ppr++)$ppn[$ppr]=$ppc+$ppn[$ppr]}else $ppn=[this._url.replace(".json",".png")];$ppn.reverse(),$ppt.toLoads=$ppn,$ppt.pics=[]}return this.event("progress",.3+1/$ppn.length*.6),this._loadImage($ppn.pop())}if(!this._data.pics)throw new Error("this._data.pics == null, "+this._url);if(this._data.pics.push($ppt),0<this._data.toLoads.length)return this.event("progress",.3+1/this._data.toLoads.length*.6),this._loadImage(this._data.toLoads.pop());var $pp_=this._data.frames;$ppi=this._url.split("?")[0];var $pps=this._data.meta&&this._data.meta.prefix?this._data.meta.prefix:$ppi.substring(0,$ppi.lastIndexOf("."))+"/";var $ppd=this._data.pics;$ppi=$ppft.formatURL(this._url);var $ppf=$ppwe.atlasMap[$ppi]||($ppwe.atlasMap[$ppi]=[]);$ppf.dir=$pps;var $ppp;if(this._data.meta&&this._data.meta.scale&&1!=this._data.meta.scale)for(var $ppa in $ppp=parseFloat(this._data.meta.scale),$pp_){var $ppo=$pp_[$ppa];var $ppm=$ppd[$ppo.frame.idx||0];var $pph=$ppft.formatURL($pps+$ppa);var $ppg;$ppm.scaleRate=$ppp,$ppg=$ppAe.create($ppm,$ppo.frame.x,$ppo.frame.y,$ppo.frame.w,$ppo.frame.h,$ppo.spriteSourceSize.x,$ppo.spriteSourceSize.y,$ppo.sourceSize.w,$ppo.sourceSize.h),$ppwe.cacheRes($pph,$ppg),$ppwe.keepCache(this._url,$pps+$ppa),$ppg.url=$pph,$ppf.push($pph)}else for($ppa in $pp_)$ppm=$ppd[($ppo=$pp_[$ppa]).frame.idx||0],$pph=$ppft.formatURL($pps+$ppa),$ppwe.cacheRes($pph,$ppAe.create($ppm,$ppo.frame.x,$ppo.frame.y,$ppo.frame.w,$ppo.frame.h,$ppo.spriteSourceSize.x,$ppo.spriteSourceSize.y,$ppo.sourceSize.w,$ppo.sourceSize.h)),$ppwe.loadedMap[$pph].url=$pph,$ppwe.keepCache(this._url,$pps+$ppa),$ppf.push($pph);delete this._data.pics,this.complete(this._data)}else if("font"==$ppe){if(!$ppt.src)return this._data=$ppt,this.event("progress",.5),this._loadImage(this._url.replace(".fnt",".png"));$ppi=new $ppy;$ppi.parseFont(this._data,$ppt);var $ppl=this._url.split(".fnt")[0].split("/");$ppl=$ppl[$ppl.length-1];$ppWe.registerBitmapFont($ppl,$ppi),this._data=$ppi,this.complete(this._data)}else"pkm"==$ppe?($ppl=$pphi.create($ppt,this._url),($ppi=new $ppAe($ppl)).url=this._url,this.complete($ppi)):this.complete($ppt)},$ppr.parsePLFData=function($ppt){var $ppe;for(var $ppi in $ppt)for(var $ppn in $ppi,$ppe=$ppt[$ppi])$ppwe.preLoadedMap[$ppft.formatURL($ppn)]=$ppe[$ppn]},$ppr.complete=function($ppt){this._data=$ppt,this._customParse?this.event("loaded",$ppt instanceof Array?[$ppt]:$ppt):($ppwe._loaders.push(this),$ppwe._isWorking||$ppwe.checkNext())},$ppr.endLoad=function($ppt){$ppt&&(this._data=$ppt),this._cache&&$ppwe.cacheRes(this._url,this._data),this.event("progress",1),this.event("complete",this.data instanceof Array?[this.data]:this.data)},$ppt(0,$ppr,"url",function(){return this._url}),$ppt(0,$ppr,"data",function(){return this._data}),$ppt(0,$ppr,"cache",function(){return this._cache}),$ppt(0,$ppr,"type",function(){return this._type}),$ppwe.checkNext=function(){$ppwe._isWorking=!0;var $ppt=$ppC.now();for(;$ppwe._startIndex<$ppwe._loaders.length;)if($ppC.now(),$ppwe._loaders[$ppwe._startIndex].endLoad(),$ppwe._startIndex++,$ppC.now()-$ppt>$ppwe.maxTimeOut)return console.warn("loader callback cost a long time:"+($ppC.now()-$ppt)+" url="+$ppwe._loaders[$ppwe._startIndex-1].url),void $ppw.timer.frameOnce(1,null,$ppwe.checkNext);$ppwe._loaders.length=0,$ppwe._startIndex=0,$ppwe._isWorking=!1},$ppwe.clearRes=function($ppt,$ppe){if(null!=$ppt){void 0===$ppe&&($ppe=!1),$ppt=$ppft.formatURL($ppt);var $ppi=$ppwe.getAtlas($ppt);if($ppi){for(var $ppn=0,$ppr=$ppi.length;$ppn<$ppr;$ppn++){var $pps=$ppi[$ppn];var $ppa=$ppwe.getRes($pps);delete $ppwe.loadedMap[$pps],$ppwe.clearCache($ppt.substring($ppft.basePath.length),$pps.substring($ppft.basePath.length)),$ppa&&$ppa.destroy($ppe)}$ppi.length=0,delete $ppwe.atlasMap[$ppt],delete $ppwe.loadedMap[$ppt]}else{var $ppo=$ppwe.loadedMap[$ppt];$ppo&&(delete $ppwe.loadedMap[$ppt],$ppo instanceof laya.resource.Texture&&$ppo.bitmap&&$ppo.destroy($ppe))}}},$ppwe.clearTextureRes=function($ppt){$ppt=$ppft.formatURL($ppt);var $ppe=laya.net.Loader.getAtlas($ppt);$ppe=$ppe&&0<$ppe.length?laya.net.Loader.getRes($ppe[0]):laya.net.Loader.getRes($ppt);$ppe&&$ppe.bitmap&&($ppS.isConchApp&&!$ppS.isConchWebGL?$ppe.bitmap.source.releaseTexture&&$ppe.bitmap.source.releaseTexture():null==$ppe.bitmap._atlaser&&$ppe.bitmap.releaseResource(!0))},$ppwe.getRes=function($ppt){return $ppwe.loadedMap[$ppft.formatURL($ppt)]},$ppwe.getAtlas=function($ppt){return $ppwe.atlasMap[$ppft.formatURL($ppt)]},$ppwe.cacheRes=function($ppt,$ppe){$ppt=$ppft.formatURL($ppt),null!=$ppwe.loadedMap[$ppt]?console.warn("Resources already exist,is repeated loading:",$ppt):$ppwe.loadedMap[$ppt]=$ppe},$ppwe.setGroup=function($ppt,$ppe){$ppwe.groupMap[$ppe]||($ppwe.groupMap[$ppe]=[]),$ppwe.groupMap[$ppe].push($ppt)},$ppwe.clearResByGroup=function($ppt){if($ppwe.groupMap[$ppt]){var $ppe=$ppwe.groupMap[$ppt],$ppi=0,$ppn=$ppe.length;for($ppi=0;$ppi<$ppn;$ppi++)$ppwe.clearRes($ppe[$ppi]);$ppe.length=0}},$ppwe.keepCache=function($ppt,$ppe){var $ppi;$ppt&&$ppe&&(($ppi=$ppwe.cacheSet[$ppe])?-1==$ppi.indexOf($ppt)&&$ppi.push($ppt):$ppwe.cacheSet[$ppe]=[$ppt])},$ppwe.clearCache=function($ppt,$ppe){var $ppi,$ppn;$ppt&&$ppe&&(!($ppi=$ppwe.cacheSet[$ppe])||-1!==($ppt=$ppi.indexOf($ppt))&&(0==($ppn=$ppi.length-1)?(delete $ppwe.cacheSet[$ppe],$ppwe.clearRes($ppe,!0)):($ppi[$ppt]=$ppi[$ppn],$ppi.length=$ppn)))},$ppwe.saveObject=function($ppt,$ppe,$ppi){var $ppn;$ppe&&$ppt&&(($ppn=$ppwe.objectSet[$ppt])?(console.warn("Loader.saveObject: "+$ppt),$ppn[0]=$ppe,$ppn[1]=$ppi):$ppwe.objectSet[$ppt]=[$ppe,$ppi,[]])},$ppwe.findObject=function($ppt){if($ppt){$ppt=$ppwe.objectSet[$ppt];if($ppt)return $ppt[0]}return null},$ppwe.keepObject=function($ppt,$ppe){$ppt&&$ppe&&(($ppe=$ppwe.objectSet[$ppe])&&-1===$ppe[2].indexOf($ppt)&&$ppe[2].push($ppt))},$ppwe.clearObject=function($ppt,$ppe){var $ppi,$ppn,$ppr;$ppt&&$ppe&&(!($ppi=$ppwe.objectSet[$ppe])||-1!==($ppt=($ppn=$ppi[2]).indexOf($ppt))&&(0==($ppr=$ppn.length-1)?(delete $ppwe.objectSet[$ppe],$ppi[1]&&$ppi[1].call(null,$ppi[0])):($ppn[$ppt]=$ppn[$ppr],$ppn.length=$ppr)))},$ppwe.TEXT="text",$ppwe.JSON="json",$ppwe.XML="xml",$ppwe.BUFFER="arraybuffer",$ppwe.IMAGE="image",$ppwe.SOUND="sound",$ppwe.ATLAS="atlas",$ppwe.FONT="font",$ppwe.TTF="ttf",$ppwe.PLF="plf",$ppwe.PKM="pkm",$ppwe.typeMap={png:"image",jpg:"image",jpeg:"image",txt:"text",json:"json",xml:"xml",als:"atlas",atlas:"atlas",mp3:"sound",ogg:"sound",wav:"sound",part:"json",fnt:"font",pkm:"pkm",ttf:"ttf",plf:"plf"},$ppwe.parserMap={},$ppwe.groupMap={},$ppwe.maxTimeOut=100,$ppwe.loadedMap={},$ppwe.preLoadedMap={},$ppwe.atlasMap={},$ppwe._loaders=[],$ppwe._isWorking=!1,$ppwe._startIndex=0,$ppwe.imgCache={},$ppwe.cacheSet={},$ppwe.objectSet={};var $ppxe=$ppwe;function $ppwe(){this._data=null,this._class=null,this._url=null,this._type=null,this._cache=!1,this._http=null,this._customParse=!1,$ppwe.__super.call(this),this._onImageCallback=this._loadImageComplete.bind(this),this._onLoadedCallback=this._loadedComplete.bind(this),this.priority=0,this.realTime=!1}$ppc($ppTe,"laya.net.LoaderManager",$ppf),($ppr=$ppTe.prototype).create=function($ppt,$ppi,$ppe,$ppn,$ppc,$ppr,$pps,$ppu){if(void 0===$ppr&&($ppr=1),void 0===$pps&&($pps=!0),$ppt instanceof Array){var $ppa=$ppt;var $ppo=$ppa.length;var $pp_=0;var $ppd;$ppe&&($ppd=$ppv.create($ppe.caller,$ppe.method,$ppe.args,!1));for(var $pph=0;$pph<$ppo;$pph++){var $ppl=$ppa[$pph];($ppl="string"==typeof $ppl?$ppa[$pph]={url:$ppl}:$ppl).progress=0}for($pph=0;$pph<$ppo;$pph++){$ppl=$ppa[$pph];var $ppf=$ppe?$ppv.create(null,$ppg,[$ppl],!1):null;var $ppp=$ppe||$ppi?$ppv.create(null,$ppm,[$ppl]):null;this._create($ppl.url,$ppp,$ppf,$ppl.clas||$ppn,$ppl.params||$ppc,$ppl.priority||$ppr,$pps,$ppl.group||$ppu)}function $ppm($ppt,$ppe){$pp_++,$ppt.progress=1,$pp_===$ppo&&$ppi&&$ppi.run()}function $ppg($ppt,$ppe){$ppt.progress=$ppe;var $ppi=0;for(var $ppn=0;$ppn<$ppo;$ppn++)$ppi+=$ppa[$ppn].progress;$ppd.runWith($ppi/$ppo)}return!0}return this._create($ppt,$ppi,$ppe,$ppn,$ppc,$ppr,$pps,$ppu)},$ppr._create=function($ppe,$ppi,$ppt,$ppn,$ppc,$ppr,$pps,$ppa){void 0===$ppr&&($ppr=1),void 0===$pps&&($pps=!0);var $ppu=$ppft.formatURL($ppe);var $ppo=this.getRes($ppu);if($ppo)!$ppo.hasOwnProperty("loaded")||$ppo.loaded?($ppt&&$ppt.runWith(1),$ppi&&$ppi.run()):$ppi&&$ppw.loader._createListener($ppe,$ppi.caller,$ppi.method,$ppi.args,!0,!1);else{var $pph=$ppJt.getFileExtension($ppe);var $ppl=$ppTe.createMap[$pph];if(!$ppl)throw new Error("LoaderManager:unknown file("+$ppe+") extension with: "+$pph+".");$ppn=$ppn||$ppl[0];$ppl=$ppl[1];"atlas"==$pph?this.load($ppe,$ppi,$ppt,$ppl,$ppr,$pps):($ppn===$ppAe&&($ppl="htmlimage"),($ppo=$ppn?new $ppn:null).hasOwnProperty("_loaded")&&($ppo._loaded=!1),$ppo._setUrl($ppe),$ppa&&$ppo._setGroup($ppa),this._createLoad($ppo,$ppe,$ppv.create(null,function($ppt){$ppo&&!$ppo.destroyed&&$ppt&&$ppo.onAsynLoaded.call($ppo,$ppe,$ppt,$ppc),$ppi&&$ppi.run();$ppw.loader.event($ppe)}),$ppt,$ppl,$ppr,!1,$ppa,!0),$pps&&this.cacheRes($ppu,$ppo))}return $ppo},$ppr.load=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){var $pph=this;if(void 0===$ppr&&($ppr=1),void 0===$pps&&($pps=!0),void 0===$ppo&&($ppo=!1),$ppt instanceof Array)return this._loadAssets($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa);var $ppc=$ppxe.getRes($ppt);var $ppl;return null!=$ppc?$ppw.timer.frameOnce(1,null,function(){$ppi&&$ppi.runWith(1),$ppe&&$ppe.runWith($ppc),$pph._loaderCount||$pph.event("complete")}):($ppl=$ppTe._resMap[$ppt])?($ppe&&$ppl._createListener("complete",$ppe.caller,$ppe.method,$ppe.args,!1,!1),$ppi&&$ppl._createListener("progress",$ppi.caller,$ppi.method,$ppi.args,!1,!1)):(($ppl=this._infoPool.length?this._infoPool.pop():new $ppSe).url=$ppt,$ppl.type=$ppn,$ppl.cache=$pps,$ppl.group=$ppa,$ppl.ignoreCache=$ppo,$ppl.priority=$ppr,$ppe&&$ppl.on("complete",$ppe.caller,$ppe.method,$ppe.args),$ppi&&$ppl.on("progress",$ppi.caller,$ppi.method,$ppi.args),$ppTe._resMap[$ppt]=$ppl,$ppr=$ppr<this._maxPriority?$ppr:this._maxPriority-1,this._resInfos[$ppr].push($ppl),this._next()),this},$ppr._createLoad=function($ppc,$ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){var $pph=this;if(void 0===$ppr&&($ppr=1),void 0===$pps&&($pps=!0),void 0===$ppo&&($ppo=!1),$ppt instanceof Array)return this._loadAssets($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa);var $ppu=$ppxe.getRes($ppt);var $ppl;return null!=$ppu?$ppw.timer.frameOnce(1,null,function(){$ppi&&$ppi.runWith(1),$ppe&&$ppe.runWith($ppu),$pph._loaderCount||$pph.event("complete")}):($ppl=$ppTe._resMap[$ppt])?($ppe&&$ppl._createListener("complete",$ppe.caller,$ppe.method,$ppe.args,!1,!1),$ppi&&$ppl._createListener("progress",$ppi.caller,$ppi.method,$ppi.args,!1,!1)):(($ppl=this._infoPool.length?this._infoPool.pop():new $ppSe).url=$ppt,$ppl.clas=$ppc,$ppl.type=$ppn,$ppl.cache=$pps,$ppl.group=$ppa,$ppl.ignoreCache=$ppo,$ppl.priority=$ppr,$ppe&&$ppl.on("complete",$ppe.caller,$ppe.method,$ppe.args),$ppi&&$ppl.on("progress",$ppi.caller,$ppi.method,$ppi.args),$ppTe._resMap[$ppt]=$ppl,$ppr=$ppr<this._maxPriority?$ppr:this._maxPriority-1,this._resInfos[$ppr].push($ppl),this._next()),this},$ppr._next=function(){if(!(this._loaderCount>=this.maxLoader)){for(var $ppt=0;$ppt<this._maxPriority;$ppt++){var $ppe=this._resInfos[$ppt];for(;0<$ppe.length;){var $ppi=$ppe.shift();if($ppi)return this._doLoad($ppi)}}this._loaderCount||this.event("complete")}},$ppr._doLoad=function($ppe){this._loaderCount++;var $ppi=this._loaders.length?this._loaders.pop():new $ppxe;$ppi.on("complete",null,$ppr),$ppi.on("progress",null,function($ppt){$ppe.event("progress",$ppt)}),$ppi.on("error",null,function($ppt){$ppr(null)});var $ppn=this;function $ppr($ppt){$ppi.offAll(),$ppi._data=null,$ppi._customParse=!1,$ppn._loaders.push($ppi),$ppn._endLoad($ppe,$ppt instanceof Array?[$ppt]:$ppt),$ppn._loaderCount--,$ppn._next()}$ppi._class=$ppe.clas,1<$ppe.priority?($ppi.priority=1800*$ppe.priority,$ppi.realTime=!1):($ppi.priority=0,$ppi.realTime=!0),$ppi.load($ppe.url,$ppe.type,$ppe.cache,$ppe.group,$ppe.ignoreCache)},$ppr._endLoad=function($ppt,$ppe){var $ppi=$ppt.url;if(null==$ppe){var $ppn=this._failRes[$ppi]||0;if($ppn<this.retryNum)return console.warn("[warn]Retry to load:",$ppi),this._failRes[$ppi]=$ppn+1,void $ppw.timer.once(this.retryDelay,this,this._addReTry,[$ppt],!1);console.warn("[error]Failed to load:",$ppi),this.event("error",$ppi)}this._failRes[$ppi]&&(this._failRes[$ppi]=0),delete $ppTe._resMap[$ppi],$ppt.event("complete",$ppe),$ppt.offAll(),this._infoPool.push($ppt)},$ppr._addReTry=function($ppt){this._resInfos[this._maxPriority-1].push($ppt),this._next()},$ppr.clearRes=function($ppt,$ppe){$ppxe.clearRes($ppt,$ppe=void 0===$ppe?!1:$ppe)},$ppr.getRes=function($ppt){return $ppxe.getRes($ppt)},$ppr.cacheRes=function($ppt,$ppe){$ppxe.cacheRes($ppt,$ppe)},$ppr.clearTextureRes=function($ppt){$ppxe.clearTextureRes($ppt)},$ppr.setGroup=function($ppt,$ppe){$ppxe.setGroup($ppt,$ppe)},$ppr.clearResByGroup=function($ppt){$ppxe.clearResByGroup($ppt)},$ppr.clearUnLoaded=function(){for(var $ppt=0;$ppt<this._maxPriority;$ppt++){var $ppe=this._resInfos[$ppt];for(var $ppi=$ppe.length-1;-1<$ppi;$ppi--){var $ppn=$ppe[$ppi];$ppn&&($ppn.offAll(),this._infoPool.push($ppn))}$ppe.length=0}this._loaderCount=0,$ppTe._resMap={}},$ppr.cancelLoadByUrls=function($ppt){if($ppt)for(var $ppe=0,$ppi=$ppt.length;$ppe<$ppi;$ppe++)this.cancelLoadByUrl($ppt[$ppe])},$ppr.cancelLoadByUrl=function($ppt,$ppe){for(var $ppi=0;$ppi<this._maxPriority;$ppi++){var $ppn=this._resInfos[$ppi];for(var $ppr=$ppn.length-1;-1<$ppr;$ppr--){var $pps=$ppn[$ppr];if($pps&&$pps.url===$ppt){$ppe&&$pps.off("complete",$ppe.caller,$ppe.method),$ppe&&$pps.hasListener("complete")||($ppn[$ppr]=null,$pps.offAll(),this._infoPool.push($pps),delete $ppTe._resMap[$ppt]);break}}}},$ppr._loadAssets=function($ppt,$ppi,$pps,$ppc,$ppe,$ppn,$ppu){void 0===$ppe&&($ppe=1),void 0===$ppn&&($ppn=!0);var $ppr=$ppt.length;var $ppa=0;var $pp_=0;var $ppo=[];var $ppd=!0;for(var $pph=0;$pph<$ppr;$pph++){var $ppl=$ppt[$pph];($ppl="string"==typeof $ppl?{url:$ppl,type:$ppc,size:1,priority:$ppe}:$ppl).size||($ppl.size=1),$ppl.progress=0,$pp_+=$ppl.size,$ppo.push($ppl);var $ppf=$pps?$ppv.create(null,$ppg,[$ppl],!1):null;var $ppp=$ppi||$pps?$ppv.create(null,$ppm,[$ppl]):null;this.load($ppl.url,$ppp,$ppf,$ppl.type,$ppl.priority||1,$ppn,$ppl.group||$ppu)}function $ppm($ppt,$ppe){$ppa++,$ppt.progress=1,$ppe||($ppd=!1),$ppa===$ppr&&$ppi&&$ppi.runWith($ppd)}function $ppg($ppt,$ppe){if(null!=$pps){$ppt.progress=$ppe;var $ppi=0;for(var $ppn=0;$ppn<$ppo.length;$ppn++){var $ppr=$ppo[$ppn];$ppi+=$ppr.size*$ppr.progress}$ppt=$ppi/$pp_;$pps.runWith($ppt)}}return this},$ppTe.cacheRes=function($ppt,$ppe){$ppxe.cacheRes($ppt,$ppe)},$ppTe._resMap={},$ppl($ppTe,["createMap",function(){return this.createMap={atlas:[null,"atlas"]}}]),$ppTe.__init$=function(){function $ppt(){this.url=null,this.type=null,this.cache=!1,this.group=null,this.ignoreCache=!1,this.clas=null,this.priority=0,$ppt.__super.call(this)}$ppc($ppt,"",$ppf),$ppSe=$ppt};var $ppbe=$ppTe;function $ppTe(){this.retryNum=1,this.retryDelay=0,this.maxLoader=5,this._loaders=[],this._loaderCount=0,this._resInfos=[],this._infoPool=[],this._maxPriority=5,this._failRes={},$ppTe.__super.call(this);for(var $ppt=0;$ppt<this._maxPriority;$ppt++)this._resInfos[$ppt]=[]}var $ppSe;$ppc($ppCe,"laya.filters.ColorFilter",$ppG),$ppr=$ppCe.prototype,$ppw.imps($ppr,{"laya.filters.IFilter":!0}),$ppr.callNative=function($ppt){$ppt._$P.cf=this;$ppt.conchModel&&$ppt.conchModel.setFilterMatrix&&$ppt.conchModel.setFilterMatrix(this._mat,this._alpha)},$ppt(0,$ppr,"type",function(){return 32}),$ppt(0,$ppr,"action",function(){return this._action});function $ppCe($ppt){$ppCe.__super.call(this),$ppt=$ppt||[.3,.59,.11,0,0,.3,.59,.11,0,0,.3,.59,.11,0,0,0,0,0,1,0],this._mat=new Float32Array(16),this._alpha=new Float32Array(4);var $ppe=0;var $ppi=0;for(var $ppn=0;$ppn<20;$ppn++)$ppn%5!=4?this._mat[$ppe++]=$ppt[$ppn]:this._alpha[$ppi++]=$ppt[$ppn];this._action=$ppm.createFilterAction(32),this._action.data=this}$ppc($ppMe,"laya.net.Socket",$ppf),($ppr=$ppMe.prototype).connect=function($ppt,$ppe){var $ppi="ws://"+$ppt+":"+$ppe;$ppi="https:"==$ppC.window.location.protocol?"wss://"+$ppt+":"+$ppe:"ws://"+$ppt+":"+$ppe,this.connectByUrl($ppi)},$ppr.connectByUrl=function($ppt){var $ppe=this;null!=this._socket&&this.close(),this._socket&&this.cleanSocket(),this.protocols&&0!=this.protocols.length?this._socket=new $ppC.window.WebSocket($ppt,this.protocols):this._socket=new $ppC.window.WebSocket($ppt),this._socket.binaryType="arraybuffer",this._output=new this._byteClass,this._output.endian=this.endian,this._input=new this._byteClass,this._input.endian=this.endian,this._addInputPosition=0,this._socket.onopen=function($ppt){$ppe._onOpen($ppt)},this._socket.onmessage=function($ppt){$ppe._onMessage($ppt)},this._socket.onclose=function($ppt){$ppe._onClose($ppt)},this._socket.onerror=function($ppt){$ppe._onError($ppt)}},$ppr.cleanSocket=function(){try{this._socket.close()}catch($ppt){}this._connected=!1,this._socket.onopen=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket.onerror=null,this._socket=null},$ppr.close=function(){if(null!=this._socket)try{this._socket.close()}catch($ppt){}},$ppr._onOpen=function($ppt){this._connected=!0,this.event("open",$ppt)},$ppr._onMessage=function($ppt){var $ppe;$ppt&&$ppt.data&&($ppt=$ppt.data,this.disableInput&&$ppt||(0<this._input.length&&this._input.bytesAvailable<1&&(this._input.clear(),this._addInputPosition=0),$ppe=this._input.pos,this._addInputPosition||(this._addInputPosition=0),this._input.pos=this._addInputPosition,$ppt&&("string"==typeof $ppt?this._input.writeUTFBytes($ppt):this._input.writeArrayBuffer($ppt),this._addInputPosition=this._input.pos,this._input.pos=$ppe)),this.event("message",$ppt))},$ppr._onClose=function($ppt){this._connected=!1,this.event("close",$ppt)},$ppr._onError=function($ppt){this.event("error",$ppt)},$ppr.send=function($ppt){this._socket.send($ppt)},$ppr.flush=function(){if(this._output&&0<this._output.length){var $ppe;try{this._socket&&this._socket.send(this._output.__getBuffer().slice(0,this._output.length))}catch($ppt){$ppe=$ppt}this._output.endian=this.endian,this._output.clear(),$ppe&&this.event("error",$ppe)}},$ppt(0,$ppr,"input",function(){return this._input}),$ppt(0,$ppr,"output",function(){return this._output}),$ppt(0,$ppr,"connected",function(){return this._connected}),$ppt(0,$ppr,"endian",function(){return this._endian},function($ppt){this._endian=$ppt,null!=this._input&&(this._input.endian=$ppt),null!=this._output&&(this._output.endian=$ppt)}),$ppMe.LITTLE_ENDIAN="littleEndian",$ppMe.BIG_ENDIAN="bigEndian";function $ppMe($ppt,$ppe,$ppi){this._endian=null,this._stamp=NaN,this._socket=null,this._connected=!1,this._addInputPosition=0,this._input=null,this._output=null,this.timeout=0,this.objectEncoding=0,this.disableInput=!1,this._byteClass=null,this.protocols=[],void 0===$ppe&&($ppe=0),$ppMe.__super.call(this),this._byteClass=$ppi||$ppMt,this.endian="bigEndian",this.timeout=2e4,this._addInputPosition=0,$ppt&&0<$ppe&&$ppe<65535&&this.connect($ppt,$ppe)}$ppc($ppEe,"laya.resource.Resource",$ppf),$ppr=$ppEe.prototype,$ppw.imps($ppr,{"laya.resource.ICreateResource":!0,"laya.resource.IDispose":!0}),$ppr._setUrl=function($ppt){var $ppe;this._url!==$ppt&&(this._url&&(($ppe=$ppEe._urlResourcesMap[this._url]).splice($ppe.indexOf(this),1),0===$ppe.length&&delete $ppEe._urlResourcesMap[this._url]),$ppt&&(($ppe=$ppEe._urlResourcesMap[$ppt])||($ppEe._urlResourcesMap[$ppt]=$ppe=[]),$ppe.push(this)),this._url=$ppt)},$ppr._getGroup=function(){return this._group},$ppr._setGroup=function($ppt){var $ppe;this._group!==$ppt&&(this._group&&(($ppe=$ppEe._groupResourcesMap[this._group]).splice($ppe.indexOf(this),1),0===$ppe.length&&delete $ppEe._groupResourcesMap[this._group]),$ppt&&(($ppe=$ppEe._groupResourcesMap[$ppt])||($ppEe._groupResourcesMap[$ppt]=$ppe=[]),$ppe.push(this)),this._group=$ppt)},$ppr._addReference=function(){this._referenceCount++},$ppr._removeReference=function(){this._referenceCount--},$ppr._clearReference=function(){this._referenceCount=0},$ppr._endLoaded=function(){this.__loaded=!0,this.event("loaded",this)},$ppr.recreateResource=function(){this.completeCreate()},$ppr.disposeResource=function(){},$ppr.activeResource=function($ppt){void 0===$ppt&&($ppt=!1),this._lastUseFrameCount=$ppXt.loopCount,!this._destroyed&&this.__loaded&&(this._released||$ppt)&&this.recreateResource()},$ppr.releaseResource=function($ppt){return!(!($ppt=void 0===$ppt||$ppt)&&this.lock)&&(!(this._released&&!$ppt)&&(this.disposeResource(),this._released=!0,this._lastUseFrameCount=-1,this.event("released",this),!0))},$ppr.onAsynLoaded=function($ppt,$ppe,$ppi){throw new Error("Resource: must override this function!")},$ppr.destroy=function(){var $ppt;this._destroyed||(null!==this._resourceManager&&this._resourceManager.removeResource(this),this._destroyed=!0,this.lock=!1,this.releaseResource(),delete $ppEe._idResourcesMap[this.id],this._url&&(($ppt=$ppEe._urlResourcesMap[this._url])&&($ppt.splice($ppt.indexOf(this),1),0===$ppt.length&&delete $ppEe._urlResourcesMap[this.url]),$ppxe.clearRes(this._url),this.__loaded||$ppm.cancelLoadByUrl(this._url)),this._group&&(($ppt=$ppEe._groupResourcesMap[this._group]).splice($ppt.indexOf(this),1),0===$ppt.length&&delete $ppEe._groupResourcesMap[this.url]))},$ppr.completeCreate=function(){this._released=!1,this.event("recovered",this)},$ppr.dispose=function(){this.destroy()},$ppt(0,$ppr,"memorySize",function(){return this._memorySize},function($ppt){var $ppe=$ppt-this._memorySize;this._memorySize=$ppt,this.resourceManager&&this.resourceManager.addSize($ppe)}),$ppt(0,$ppr,"_loaded",null,function($ppt){this.__loaded=$ppt}),$ppt(0,$ppr,"loaded",function(){return this.__loaded}),$ppt(0,$ppr,"id",function(){return this._$1__id}),$ppt(0,$ppr,"destroyed",function(){return this._destroyed}),$ppt(0,$ppr,"group",function(){return this._getGroup()},function($ppt){this._setGroup($ppt)}),$ppt(0,$ppr,"resourceManager",function(){return this._resourceManager}),$ppt(0,$ppr,"url",function(){return this._url}),$ppt(0,$ppr,"released",function(){return this._released}),$ppt(0,$ppr,"referenceCount",function(){return this._referenceCount}),$ppEe.getResourceByID=function($ppt){return $ppEe._idResourcesMap[$ppt]},$ppEe.getResourceByURL=function($ppt,$ppe){return void 0===$ppe&&($ppe=0),null==$ppEe._urlResourcesMap[$ppt]?null:$ppEe._urlResourcesMap[$ppt][$ppe]},$ppEe.getResourceCountByURL=function($ppt){return $ppEe._urlResourcesMap[$ppt].length},$ppEe.destroyUnusedResources=function($ppt){var $ppe;if($ppt){$ppt=$ppEe._groupResourcesMap[$ppt];if($ppt){var $ppi=$ppt.slice();for(var $ppn=0,$ppr=$ppi.length;$ppn<$ppr;$ppn++)($ppe=$ppi[$ppn]).lock||0!==$ppe._referenceCount||$ppe.destroy()}}else for(var $pps in $ppEe._idResourcesMap)($ppe=$ppEe._idResourcesMap[$pps]).lock||0!==$ppe._referenceCount||$ppe.destroy()},$ppEe._uniqueIDCounter=0,$ppEe._idResourcesMap={},$ppEe._urlResourcesMap={},$ppEe._groupResourcesMap={};$ppr=$ppEe;function $ppEe(){$ppEe.__super.call(this),this._$1__id=++$ppEe._uniqueIDCounter,this.__loaded=!0,this._destroyed=!1,this._referenceCount=0,($ppEe._idResourcesMap[this.id]=this)._released=!0,this.lock=!1,this._memorySize=0,this._lastUseFrameCount=-1,$ppTt.currentResourceManager&&$ppTt.currentResourceManager.addResource(this)}$ppc($ppDe,"laya.resource.Texture",$ppf),($ppPe=$ppDe.prototype)._setUrl=function($ppt){this.url=$ppt},$ppPe.setTo=function($ppt,$ppe){var $ppi;var $ppn;$ppt instanceof $pps.HTMLElement?($ppi=$ppZe.create("2D",$ppt),this.bitmap=$ppi):this.bitmap=$ppt,this.uv=$ppe||$ppDe.DEF_UV,$ppt&&(this._w=$ppt.width,this._h=$ppt.height,this.sourceWidth=this.sourceWidth||this._w,this.sourceHeight=this.sourceHeight||this._h,this._loaded=0<this._w,($ppn=this)._loaded?$ppm.addToAtlas&&$ppm.addToAtlas($ppn):$ppt instanceof laya.resource.HTMLImage&&$ppt.image&&$ppt.image.addEventListener("load",function($ppt){$ppm.addToAtlas&&$ppm.addToAtlas($ppn)},!1))},$ppPe.active=function(){this.bitmap&&this.bitmap.activeResource()},$ppPe.destroy=function($ppt){var $ppe;void 0===$ppt&&($ppt=!1),this.bitmap&&0<this.bitmap.referenceCount&&($ppe=this.bitmap,$ppt?($ppS.isConchApp&&$ppe.source&&$ppe.source.conchDestroy&&this.bitmap.source.conchDestroy(),this.bitmap=null,$ppe.dispose(),$ppe._clearReference()):($ppe._removeReference(),0==$ppe.referenceCount&&($ppS.isConchApp&&$ppe.source&&$ppe.source.conchDestroy&&this.bitmap.source.conchDestroy(),this.bitmap=null,$ppe.dispose())),this.url&&this===$ppw.loader.getRes(this.url)&&$ppw.loader.clearRes(this.url,$ppt),this._loaded=!1)},$ppPe.load=function($ppt){var $ppe=this;this._loaded=!1,$ppt=$ppft.customFormat($ppt);var $ppi=this.bitmap||(this.bitmap=$pphi.create($ppt));$ppi&&$ppi._addReference();var $ppn=this;$ppi.onload=function(){$ppi.onload=null,$ppn._loaded=!0,$ppe.sourceWidth=$ppe._w=$ppi.width,$ppe.sourceHeight=$ppe._h=$ppi.height,$ppn.event("loaded",this),$ppm.addToAtlas&&$ppm.addToAtlas($ppn)}},$ppPe.addTextureToAtlas=function($ppt){$ppm.addTextureToAtlas(this)},$ppPe.getPixels=function($ppt,$ppe,$ppi,$ppn){var $ppr;return $ppS.isConchApp?($ppr=this.bitmap).source&&$ppr.source.getImageData?($ppr=$ppr.source.getImageData($ppt,$ppe,$ppi,$ppn),$ppr=new Uint8Array($ppr),Array.from($ppr)):null:$ppS.isWebGL?$ppm.getTexturePixels(this,$ppt,$ppe,$ppi,$ppn):($ppC.canvas.size($ppi,$ppn),$ppC.canvas.clear(),$ppC.context.drawTexture(this,-$ppt,-$ppe,this.width,this.height,0,0),$ppC.context.getImageData(0,0,$ppi,$ppn).data)},$ppPe.onAsynLoaded=function($ppt,$ppe){$ppe&&$ppe._addReference(),this.setTo($ppe,this.uv),this._loaded&&this.event("loaded",this)},$ppt(0,$ppPe,"source",function(){return this.bitmap?(this.bitmap.activeResource(),this.bitmap.source):null}),$ppt(0,$ppPe,"loaded",function(){return this._loaded}),$ppt(0,$ppPe,"released",function(){return!this.bitmap||this.bitmap.released}),$ppt(0,$ppPe,"width",function(){return this._w||(this.uv&&this.uv!==$ppDe.DEF_UV?(this.uv[2]-this.uv[0])*this.bitmap.width:this.bitmap.width)},function($ppt){this._w=$ppt,this.sourceWidth||(this.sourceWidth=$ppt)}),$ppt(0,$ppPe,"repeat",function(){return!$ppS.isWebGL||!this.bitmap||this.bitmap.repeat},function($ppt){$ppt&&$ppS.isWebGL&&this.bitmap&&(this.bitmap.repeat=$ppt)&&(this.bitmap.enableMerageInAtlas=!1)}),$ppt(0,$ppPe,"height",function(){return this._h||(this.uv&&this.uv!==$ppDe.DEF_UV?(this.uv[5]-this.uv[1])*this.bitmap.height:this.bitmap.height)},function($ppt){this._h=$ppt,this.sourceHeight||(this.sourceHeight=$ppt)}),$ppt(0,$ppPe,"isLinearSampling",function(){return!$ppS.isWebGL||9728!=this.bitmap.minFifter},function($ppt){!$ppt&&$ppS.isWebGL&&($ppt||-1!=this.bitmap.minFifter||-1!=this.bitmap.magFifter||(this.bitmap.minFifter=9728,this.bitmap.magFifter=9728,this.bitmap.enableMerageInAtlas=!1))}),$ppDe.moveUV=function($ppt,$ppe,$ppi){for(var $ppn=0;$ppn<8;$ppn+=2)$ppi[$ppn]+=$ppt,$ppi[$ppn+1]+=$ppe;return $ppi},$ppDe.create=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppc,$ppu){void 0===$pps&&($pps=0),void 0===$ppa&&($ppa=0),void 0===$ppc&&($ppc=0),void 0===$ppu&&($ppu=0);var $ppo=$ppt instanceof laya.resource.Texture;var $pph=$ppo?$ppt.uv:$ppDe.DEF_UV;$ppo=$ppo?$ppt.bitmap:$ppt;var $pp_=$ppm.isAtlas($ppo);if($pp_){var $ppl=$ppo._atlaser;$ppt=$ppt._atlasID;if(-1==$ppt)throw new Error("create texture error");$ppo=$ppl._inAtlasTextureBitmapValue[$ppt],$pph=$ppl._inAtlasTextureOriUVValue[$ppt]}$ppl=new $ppDe($ppo,null);$ppo.width&&$ppe+$ppn>$ppo.width&&($ppn=$ppo.width-$ppe),$ppo.height&&$ppi+$ppr>$ppo.height&&($ppr=$ppo.height-$ppi),$ppl.width=$ppn,$ppl.height=$ppr,$ppl.offsetX=$pps,$ppl.offsetY=$ppa,$ppl.sourceWidth=$ppc||$ppn,$ppl.sourceHeight=$ppu||$ppr;$ppt=1/$ppo.width;$pps=1/$ppo.height;var $ppa=$ppl.uv[0],$ppc=$ppl.uv[1],$ppu=$ppl.uv[4],$ppd=$ppl.uv[5];var $ppf=$ppu-$ppa,$ppp=$ppd-$ppc;$pph=$ppDe.moveUV($pph[0],$pph[1],[$ppe*=$ppt,$ppi*=$pps,$ppe+($ppn*=$ppt),$ppi,$ppe+$ppn,$ppi+($ppr*=$pps),$ppe,$ppi+$ppr]);$ppl.uv=[$ppa+$pph[0]*$ppf,$ppc+$pph[1]*$ppp,$ppu-(1-$pph[2])*$ppf,$ppc+$pph[3]*$ppp,$ppu-(1-$pph[4])*$ppf,$ppd-(1-$pph[5])*$ppp,$ppa+$pph[6]*$ppf,$ppd-(1-$pph[7])*$ppp],$pp_&&$ppl.addTextureToAtlas();$ppt=$ppo.scaleRate;return $ppt&&1!=$ppt?($ppl.sourceWidth/=$ppt,$ppl.sourceHeight/=$ppt,$ppl.width/=$ppt,$ppl.height/=$ppt,$ppl.scaleRate=$ppt,$ppl.offsetX/=$ppt,$ppl.offsetY/=$ppt):$ppl.scaleRate=1,$ppl},$ppDe.createFromTexture=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=$ppt.scaleRate;1!=$pps&&($ppe*=$pps,$ppi*=$pps,$ppn*=$pps,$ppr*=$pps);$pps=$ppst.TEMP.setTo($ppe-$ppt.offsetX,$ppi-$ppt.offsetY,$ppn,$ppr);$ppe=$pps.intersection($ppDe._rect1.setTo(0,0,$ppt.width,$ppt.height),$ppDe._rect2);if(!$ppe)return null;$ppi=$ppDe.create($ppt,$ppe.x,$ppe.y,$ppe.width,$ppe.height,$ppe.x-$pps.x,$ppe.y-$pps.y,$ppn,$ppr);return $ppi.bitmap._removeReference(),$ppi},$ppDe.DEF_UV=[0,0,1,0,1,1,0,1],$ppDe.INV_UV=[0,1,1,1,1,0,0,0],$ppDe._rect1=new $ppst,$ppDe._rect2=new $ppst;var $ppAe=$ppDe;function $ppDe($ppt,$ppe){this.offsetX=0,this.offsetY=0,this.sourceWidth=0,this.sourceHeight=0,this._w=0,this._h=0,this._uvID=0,this._atlasID=-1,this.scaleRate=1,$ppDe.__super.call(this),$ppt&&null!=$ppt._addReference&&$ppt._addReference(),this.setTo($ppt,$ppe)}$ppc($ppIe,"laya.utils.TimeLine",$ppf),($ppPe=$ppIe.prototype).to=function($ppt,$ppe,$ppi,$ppn,$ppr){return this._create($ppt,$ppe,$ppi,$ppn,$ppr=void 0===$ppr?0:$ppr,!0)},$ppPe.from=function($ppt,$ppe,$ppi,$ppn,$ppr){return this._create($ppt,$ppe,$ppi,$ppn,$ppr=void 0===$ppr?0:$ppr,!1)},$ppPe._create=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){var $ppa=$ppGt.getItemByClass("tweenData",$ppRe);return $ppa.isTo=$pps,$ppa.type=0,$ppa.target=$ppt,$ppa.duration=$ppi,$ppa.data=$ppe,$ppa.startTime=this._startTime+$ppr,$ppa.endTime=$ppa.startTime+$ppa.duration,$ppa.ease=$ppn,this._startTime=Math.max($ppa.endTime,this._startTime),this._tweenDataList.push($ppa),this._startTimeSort=!0,this._endTimeSort=!0,this},$ppPe.addLabel=function($ppt,$ppe){var $ppi=$ppGt.getItemByClass("tweenData",$ppRe);return $ppi.type=1,$ppi.data=$ppt,$ppi.endTime=$ppi.startTime=this._startTime+$ppe,this._labelDic||(this._labelDic={}),this._labelDic[$ppt]=$ppi,this._tweenDataList.push($ppi),this},$ppPe.removeLabel=function($ppt){var $ppe;this._labelDic&&this._labelDic[$ppt]&&(!($ppe=this._labelDic[$ppt])||-1<($ppe=this._tweenDataList.indexOf($ppe))&&this._tweenDataList.splice($ppe,1),delete this._labelDic[$ppt])},$ppPe.gotoTime=function($ppt){if(null!=this._tweenDataList&&0!=this._tweenDataList.length){var $ppe;var $ppi;for(var $ppn in this._firstTweenDic)if($ppi=this._firstTweenDic[$ppn])for(var $ppr in $ppi)$ppi.diyTarget.hasOwnProperty($ppr)&&($ppi.diyTarget[$ppr]=$ppi[$ppr]);for($ppn in this._tweenDic)($ppe=this._tweenDic[$ppn]).clear(),delete this._tweenDic[$ppn];var $pps;var $ppa;this._index=0,this._gidIndex=0,this._currTime=$ppt,this._lastTime=$ppC.now(),null==this._endTweenDataList||this._endTimeSort?(this._endTimeSort=!1,this._endTweenDataList=$pps=this._tweenDataList.concat(),$pps.sort(function($ppt,$ppe){return $ppt.endTime>$ppe.endTime?1:$ppt.endTime<$ppe.endTime?-1:0})):$pps=this._endTweenDataList;for(var $ppo=0,$pph=$pps.length;$ppo<$pph;$ppo++)if(0==($ppa=$pps[$ppo]).type){if(!($ppt>=$ppa.endTime))break;this._index=Math.max(this._index,$ppo+1);var $ppl=$ppa.data;if($ppa.isTo)for(var $ppc in $ppl)$ppa.target[$ppc]=$ppl[$ppc]}for($ppo=0,$pph=this._tweenDataList.length;$ppo<$pph;$ppo++)0==($ppa=this._tweenDataList[$ppo]).type&&$ppt>=$ppa.startTime&&$ppt<$ppa.endTime&&(this._index=Math.max(this._index,$ppo+1),this._gidIndex++,($ppe=$ppGt.getItemByClass("tween",$ppZt))._create($ppa.target,$ppa.data,$ppa.duration,$ppa.ease,$ppv.create(this,this._animComplete,[this._gidIndex]),0,!1,$ppa.isTo,!0,!1),$ppe.setStartTime(this._currTime-($ppt-$ppa.startTime)),$ppe._updateEase(this._currTime),$ppe.gid=this._gidIndex,this._tweenDic[this._gidIndex]=$ppe)}},$ppPe.gotoLabel=function($ppt){null==this._labelDic||($ppt=this._labelDic[$ppt])&&this.gotoTime($ppt.startTime)},$ppPe.pause=function(){$ppw.timer.clear(this,this._update)},$ppPe.resume=function(){this.play(this._currTime,this._loopKey)},$ppPe.play=function($ppt,$ppe){if(void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=!1),this._tweenDataList){if(this._startTimeSort){this._startTimeSort=!1,this._tweenDataList.sort(function($ppt,$ppe){return $ppt.startTime>$ppe.startTime?1:$ppt.startTime<$ppe.startTime?-1:0});for(var $ppi=0,$ppn=this._tweenDataList.length;$ppi<$ppn;$ppi++){var $ppr=this._tweenDataList[$ppi];if(null!=$ppr&&0==$ppr.type){var $pps=$ppr.target;var $ppa=$pps.$_GID||($pps.$_GID=$ppJt.getGID());var $ppo=null;for(var $pph in null==this._firstTweenDic[$ppa]?(($ppo={}).diyTarget=$pps,this._firstTweenDic[$ppa]=$ppo):$ppo=this._firstTweenDic[$ppa],$ppr.data)null==$ppo[$pph]&&($ppo[$pph]=$pps[$pph])}}}"string"==typeof $ppt?this.gotoLabel($ppt):this.gotoTime($ppt),this._loopKey=$ppe,this._lastTime=$ppC.now(),$ppw.timer.frameLoop(1,this,this._update)}},$ppPe._update=function(){if(this._currTime>=this._startTime){if(!this._loopKey){for(var $ppt in this._tweenDic)($ppr=this._tweenDic[$ppt]).complete();return this._complete(),void this.pause()}if(this._complete(),!this._tweenDataList)return;this.gotoTime(0)}var $ppe=$ppC.now();var $ppi=$ppe-this._lastTime;var $ppn=this._currTime+=$ppi*this.scale;for($ppt in this._lastTime=$ppe,this._tweenDic)($ppr=this._tweenDic[$ppt])._updateEase($ppn);var $ppr;0!=this._tweenDataList.length&&this._index<this._tweenDataList.length&&($ppn>=($ppi=this._tweenDataList[this._index]).startTime&&(this._index++,0==$ppi.type?(this._gidIndex++,($ppr=$ppGt.getItemByClass("tween",$ppZt))._create($ppi.target,$ppi.data,$ppi.duration,$ppi.ease,$ppv.create(this,this._animComplete,[this._gidIndex]),0,!1,$ppi.isTo,!0,!1),$ppr.setStartTime($ppn),$ppr.gid=this._gidIndex,(this._tweenDic[this._gidIndex]=$ppr)._updateEase($ppn)):this.event("label",$ppi.data)))},$ppPe._animComplete=function($ppt){this._tweenDic[$ppt]&&delete this._tweenDic[$ppt]},$ppPe._complete=function(){this.event("complete")},$ppPe.reset=function(){if(this._labelDic)for(var $ppt in this._labelDic)delete this._labelDic[$ppt];for($ppt in this._tweenDic)this._tweenDic[$ppt].clear(),delete this._tweenDic[$ppt];for($ppt in this._firstTweenDic)delete this._firstTweenDic[$ppt];if(this._endTweenDataList=null,this._tweenDataList&&this._tweenDataList.length){var $ppe,$ppi=0;for($ppe=this._tweenDataList.length,$ppi=0;$ppi<$ppe;$ppi++)this._tweenDataList[$ppi]&&this._tweenDataList[$ppi].destroy()}this._tweenDataList.length=0,this._currTime=0,this._lastTime=0,this._startTime=0,this._index=0,this._gidIndex=0,this.scale=1,$ppw.timer.clear(this,this._update)},$ppPe.destroy=function(){this.reset(),this._labelDic=null,this._tweenDic=null,this._tweenDataList=null,this._firstTweenDic=null},$ppt(0,$ppPe,"index",function(){return this._frameIndex},function($ppt){this._frameIndex=$ppt,this.gotoTime(this._frameIndex/this._frameRate*1e3)}),$ppt(0,$ppPe,"total",function(){return this._total=Math.floor(this._startTime/1e3*this._frameRate),this._total}),$ppIe.to=function($ppt,$ppe,$ppi,$ppn,$ppr){return void 0===$ppr&&($ppr=0),(new $ppIe).to($ppt,$ppe,$ppi,$ppn,$ppr)},$ppIe.from=function($ppt,$ppe,$ppi,$ppn,$ppr){return void 0===$ppr&&($ppr=0),(new $ppIe).from($ppt,$ppe,$ppi,$ppn,$ppr)},$ppIe.__init$=function(){function $ppt(){this.type=0,this.isTo=!0,this.startTime=NaN,this.endTime=NaN,this.target=null,this.duration=NaN,this.ease=null,this.data=null}$ppc($ppt,""),$ppt.prototype.destroy=function(){this.target=null,this.ease=null,this.data=null,this.isTo=!0,this.type=0,$ppGt.recover("tweenData",this)},$ppRe=$ppt};$ppPe=$ppIe;function $ppIe(){this._labelDic=null,this._tweenDic={},this._tweenDataList=[],this._endTweenDataList=null,this._currTime=0,this._lastTime=0,this._startTime=0,this._index=0,this._gidIndex=0,this._firstTweenDic={},this._startTimeSort=!1,this._endTimeSort=!1,this._loopKey=!1,this.scale=1,this._frameRate=60,this._frameIndex=0,this._total=0,$ppIe.__super.call(this)}var $ppRe,$ppPe;$ppc($ppBe,"laya.display.Sprite",$ppNe=$ppoe),$ppn=$ppBe.prototype,$ppw.imps($ppn,{"laya.display.ILayout":!0}),$ppn.createConchModel=function(){return new ConchNode},$ppn.destroy=function($ppt){var $ppe;void 0===$ppt&&($ppt=!0),this._releaseMem(),this._destroyed||(this.filters=null,($ppe=this.mask)&&(this.mask=null,$ppe.destroy($ppt))),$ppNe.prototype.destroy.call(this,$ppt),this._style&&this._style.destroy(),this._transform&&this._transform.destroy(),this._transform=null,this._style=null,this._graphics=null},$ppn.updateZOrder=function(){$ppJt.updateOrder(this._childs)&&this.repaint()},$ppn.reCache=function(){this._$P.cacheCanvas&&(this._$P.cacheCanvas.reCache=!0),this._repaint=1},$ppn.setBounds=function($ppt){this._set$P("uBounds",$ppt)},$ppn.getBounds=function(){return this._$P.mBounds||this._set$P("mBounds",new $ppst),$ppst._getWrapRec(this._boundPointsToParent(),this._$P.mBounds)},$ppn.getSelfBounds=function(){return this._$P.uBounds||(this._$P.mBounds||this._set$P("mBounds",new $ppst),$ppst._getWrapRec(this._getBoundPointsM(!1),this._$P.mBounds))},$ppn._boundPointsToParent=function($ppt){void 0===$ppt&&($ppt=!1);var $ppe=0,$ppi=0;this._style&&($ppe=this._style._tf.translateX,$ppi=this._style._tf.translateY,$ppt=$ppt||0!==this._style._tf.rotate,this._style.scrollRect&&($ppe+=this._style.scrollRect.x,$ppi+=this._style.scrollRect.y));var $ppn=this._getBoundPointsM($ppt);if(!$ppn||$ppn.length<1)return $ppn;if(8!=$ppn.length&&($ppn=$ppt?$ppZ.scanPList($ppn):$ppst._getWrapRec($ppn,$ppst.TEMP)._getBoundPoints()),!this.transform)return $ppJt.transPointList($ppn,this._x-$ppe,this._y-$ppi),$ppn;var $ppr=$ppnt.TEMP;var $pps=0,$ppa=$ppn.length;for($pps=0;$pps<$ppa;$pps+=2)$ppr.x=$ppn[$pps],$ppr.y=$ppn[$pps+1],this.toParentPoint($ppr),$ppn[$pps]=$ppr.x,$ppn[$pps+1]=$ppr.y;return $ppn},$ppn.getGraphicBounds=function($ppt){return void 0===$ppt&&($ppt=!1),this._graphics?this._graphics.getBounds($ppt):$ppst.TEMP.setTo(0,0,0,0)},$ppn._getBoundPointsM=function($ppt){if(void 0===$ppt&&($ppt=!1),this._$P.uBounds)return this._$P.uBounds._getBoundPoints();var $ppe,$ppi;if(this._$P.temBM||this._set$P("temBM",[]),this.scrollRect)return $ppe=$ppJt.clearArray(this._$P.temBM),($ppi=$ppst.TEMP).copyFrom(this.scrollRect),$ppJt.concatArray($ppe,$ppi._getBoundPoints()),$ppe;var $ppn=this._graphics?this._graphics.getBoundPoints():$ppJt.clearArray(this._$P.temBM);var $ppr;var $pps;var $ppa;for(var $ppo=0,$pph=($ppa=this._childs).length;$ppo<$pph;$ppo++)($ppr=$ppa[$ppo])instanceof laya.display.Sprite&&1==$ppr.visible&&($pps=$ppr._boundPointsToParent($ppt))&&($ppn=$ppn?$ppJt.concatArray($ppn,$pps):$pps);return $ppn},$ppn.getStyle=function(){return this._style===$ppb.EMPTY&&(this._style=new $ppb),this._style},$ppn.setStyle=function($ppt){this._style=$ppt},$ppn._adjustTransform=function(){this._tfChanged=!1;var $ppt=this._style._tf;var $ppe=$ppt.scaleX,$ppi=$ppt.scaleY;var $ppn;var $ppr,$pps,$ppa;return $ppt.rotate||1!==$ppe||1!==$ppi||$ppt.skewX||$ppt.skewY?(($ppn=this._transform||(this._transform=$ppet.create())).bTransform=!0,$ppa=.0174532922222222*($ppt.rotate-$ppt.skewX),$ppt=.0174532922222222*($ppt.rotate+$ppt.skewY),$ppr=Math.cos($ppt),$ppt=Math.sin($ppt),$pps=Math.sin($ppa),$ppa=Math.cos($ppa),$ppn.a=$ppe*$ppr,$ppn.b=$ppe*$ppt,$ppn.c=-$ppi*$pps,$ppn.d=$ppi*$ppa,$ppn.tx=$ppn.ty=0):(this._transform&&this._transform.destroy(),this._transform=null,this._renderType&=-5),$ppn},$ppn.pos=function($ppt,$ppe,$ppi){if(void 0===$ppi&&($ppi=!1),this._x!==$ppt||this._y!==$ppe){if(this.destroyed)return this;$ppi?(this._x=$ppt,this._y=$ppe,this.conchModel&&this.conchModel.pos(this._x,this._y),($ppi=this._parent)&&0===$ppi._repaint&&($ppi._repaint=1,$ppi.parentRepaint()),this._$P.maskParent&&0===this._$P.maskParent._repaint&&(this._$P.maskParent._repaint=1,this._$P.maskParent.parentRepaint())):(this.x=$ppt,this.y=$ppe)}return this},$ppn.pivot=function($ppt,$ppe){return this.pivotX=$ppt,this.pivotY=$ppe,this},$ppn.size=function($ppt,$ppe){return this.width=$ppt,this.height=$ppe,this},$ppn.scale=function($ppt,$ppe,$ppi){void 0===$ppi&&($ppi=!1);var $ppn=this.getStyle();var $ppr=$ppn._tf;if($ppr.scaleX!=$ppt||$ppr.scaleY!=$ppe){if(this.destroyed)return this;$ppi?($ppn.setScale($ppt,$ppe),this._tfChanged=!0,this.conchModel&&this.conchModel.scale($ppt,$ppe),this._renderType|=4,($ppr=this._parent)&&0===$ppr._repaint&&($ppr._repaint=1,$ppr.parentRepaint())):(this.scaleX=$ppt,this.scaleY=$ppe)}return this},$ppn.skew=function($ppt,$ppe){return this.skewX=$ppt,this.skewY=$ppe,this},$ppn.render=function($ppt,$ppe,$ppi){$ppXt.spriteCount++,$ppyt.renders[this._renderType]._fun(this,$ppt,$ppe+this._x,$ppi+this._y),this._repaint=0},$ppn.drawToCanvas=function($ppt,$ppe,$ppi,$ppn){var $ppr;return $ppS.isConchNode?($ppr=$ppZe.create("2D"),new $ppgt($ppt,$ppe,$ppr).ctx.setCanvasType(1),this.conchModel.drawToCanvas($ppr.source,$ppi,$ppn),$ppr):$ppm.drawToCanvas(this,this._renderType,$ppt,$ppe,$ppi,$ppn)},$ppn.customRender=function($ppt,$ppe,$ppi){this._renderType|=1024},$ppn._applyFilters=function(){var $ppt;if(!$ppS.isWebGL&&(($ppt=this._$P.filters)&&!($ppt.length<1)))for(var $ppe=0,$ppi=$ppt.length;$ppe<$ppi;$ppe++)$ppt[$ppe].action.apply(this._$P.cacheCanvas)},$ppn._isHaveGlowFilter=function(){var $ppt,$ppe=0;if(this.filters)for($ppe=0;$ppe<this.filters.length;$ppe++)if(8==this.filters[$ppe].type)return!0;for($ppe=0,$ppt=this._childs.length;$ppe<$ppt;$ppe++)if(this._childs[$ppe]._isHaveGlowFilter())return!0;return!1},$ppn.localToGlobal=function($ppt,$ppe){!0===($ppe=void 0===$ppe?!1:$ppe)&&($ppt=new $ppnt($ppt.x,$ppt.y));var $ppi=this;for(;$ppi&&$ppi!=$ppw.stage;)$ppt=$ppi.toParentPoint($ppt),$ppi=$ppi.parent;return $ppt},$ppn.globalToLocal=function($ppt,$ppe){($ppe=void 0===$ppe?!1:$ppe)&&($ppt=new $ppnt($ppt.x,$ppt.y));var $ppi=this;var $ppn=[];for(;$ppi&&$ppi!=$ppw.stage;)$ppn.push($ppi),$ppi=$ppi.parent;var $ppr=$ppn.length-1;for(;0<=$ppr;)$ppt=($ppi=$ppn[$ppr]).fromParentPoint($ppt),$ppr--;return $ppt},$ppn.toParentPoint=function($ppt){if(!$ppt)return $ppt;$ppt.x-=this.pivotX,$ppt.y-=this.pivotY,this.transform&&this._transform.transformPoint($ppt),$ppt.x+=this._x,$ppt.y+=this._y;var $ppe=this._style.scrollRect;return $ppe&&($ppt.x-=$ppe.x,$ppt.y-=$ppe.y),$ppt},$ppn.fromParentPoint=function($ppt){if(!$ppt)return $ppt;$ppt.x-=this._x,$ppt.y-=this._y;var $ppe=this._style.scrollRect;return $ppe&&($ppt.x+=$ppe.x,$ppt.y+=$ppe.y),this.transform&&this._transform.invertTransformPoint($ppt),$ppt.x+=this.pivotX,$ppt.y+=this.pivotY,$ppt},$ppn.on=function($ppt,$ppe,$ppi,$ppn){return 1!==this._mouseEnableState&&this.isMouseEvent($ppt)?(this.mouseEnabled=!0,this._setBit(2,!0),this._parent&&this._$2__onDisplay(),this._createListener($ppt,$ppe,$ppi,$ppn,!1)):$ppNe.prototype.on.call(this,$ppt,$ppe,$ppi,$ppn)},$ppn.once=function($ppt,$ppe,$ppi,$ppn){return 1!==this._mouseEnableState&&this.isMouseEvent($ppt)?(this.mouseEnabled=!0,this._setBit(2,!0),this._parent&&this._$2__onDisplay(),this._createListener($ppt,$ppe,$ppi,$ppn,!0)):$ppNe.prototype.once.call(this,$ppt,$ppe,$ppi,$ppn)},$ppn._$2__onDisplay=function(){if(1!==this._mouseEnableState){var $ppt=this;for($ppt=$ppt.parent;$ppt&&1!==$ppt._mouseEnableState&&!$ppt._getBit(2);)$ppt.mouseEnabled=!0,$ppt._setBit(2,!0),$ppt=$ppt.parent}},$ppn.loadImage=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){var $ppa=this;return void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0),void 0===$ppn&&($ppn=0),void 0===$ppr&&($ppr=0),this.graphics.loadImage($ppt,$ppe,$ppi,$ppn,$ppr,function($ppt){$ppa.destroyed||($ppa.size($ppe+($ppn||$ppt.width),$ppi+($ppr||$ppt.height)),$ppa.repaint(),$pps&&$pps.runWith($ppt))}),this},$ppn.repaint=function(){this.conchModel&&this.conchModel.repaint&&this.conchModel.repaint(),0===this._repaint&&(this._repaint=1,this.parentRepaint()),this._$P&&this._$P.maskParent&&this._$P.maskParent.repaint()},$ppn._needRepaint=function(){return 0!==this._repaint&&this._$P.cacheCanvas&&this._$P.cacheCanvas.reCache},$ppn._childChanged=function($ppt){this._childs.length?this._renderType|=2048:this._renderType&=-2049,$ppt&&this._get$P("hasZorder")&&$ppw.timer.callLater(this,this.updateZOrder),this.repaint()},$ppn.parentRepaint=function(){var $ppt=this._parent;$ppt&&0===$ppt._repaint&&($ppt._repaint=1,$ppt.parentRepaint())},$ppn.startDrag=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){void 0===$ppe&&($ppe=!1),void 0===$ppi&&($ppi=0),void 0===$ppn&&($ppn=300),void 0===$pps&&($pps=!1),void 0===$ppa&&($ppa=.92),this._$P.dragging||this._set$P("dragging",new $ppNt),this._$P.dragging.start(this,$ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa)},$ppn.stopDrag=function(){this._$P.dragging&&this._$P.dragging.stop()},$ppn._releaseMem=function(){var $ppt;this._$P&&(($ppt=this._$P.cacheCanvas)&&$ppt.ctx&&($ppGt.recover("RenderContext",$ppt.ctx),$ppt.ctx.canvas.size(0,0),$ppt.ctx=null),($ppt=this._$P._filterCache)&&($ppt.destroy(),$ppt.recycle(),this._set$P("_filterCache",null)),this._$P._isHaveGlowFilter&&this._set$P("_isHaveGlowFilter",!1),this._$P._isHaveGlowFilter=null)},$ppn._setDisplay=function($ppt){$ppt||this._releaseMem(),$ppNe.prototype._setDisplay.call(this,$ppt)},$ppn.hitTestPoint=function($ppt,$ppe){var $ppi=this.globalToLocal($ppnt.TEMP.setTo($ppt,$ppe));return $ppt=$ppi.x,$ppe=$ppi.y,(this._$P.hitArea||(0<this._width&&0<this._height?$ppst.TEMP.setTo(0,0,this._width,this._height):this.getSelfBounds())).contains($ppt,$ppe)},$ppn.getMousePoint=function(){return this.globalToLocal($ppnt.TEMP.setTo($ppw.stage.mouseX,$ppw.stage.mouseY))},$ppn._getWords=function(){return null},$ppn._addChildsToLayout=function($ppt){var $ppe=this._getWords();if(null==$ppe&&0==this._childs.length)return!1;if($ppe)for(var $ppi=0,$ppn=$ppe.length;$ppi<$ppn;$ppi++)$ppt.push($ppe[$ppi]);for(var $ppi=0,$ppr=this._childs.length;$ppi<$ppr;++$ppi){var $pps=this._childs[$ppi];$pps._style._enableLayout()&&$pps._addToLayout($ppt)}return!0},$ppn._addToLayout=function($ppt){this._style.absolute||(this._style.block?$ppt.push(this):this._addChildsToLayout($ppt)&&(this.x=this.y=0))},$ppn._isChar=function(){return!1},$ppn._getCSSStyle=function(){return this._style.getCSSStyle()},$ppn._setAttributes=function($ppt,$ppe){switch($ppt){case"x":this.x=parseFloat($ppe);break;case"y":this.y=parseFloat($ppe);break;case"width":this.width=parseFloat($ppe);break;case"height":this.height=parseFloat($ppe);break;default:this[$ppt]=$ppe}},$ppn._layoutLater=function(){this.parent&&this.parent._layoutLater()},$ppt(0,$ppn,"optimizeScrollRect",function(){return this._optimizeScrollRect},function($ppt){this._optimizeScrollRect!=$ppt&&(this._optimizeScrollRect=$ppt,this.conchModel&&this.conchModel.optimizeScrollRect($ppt))}),$ppt(0,$ppn,"customRenderEnable",null,function($ppt){$ppt&&(this._renderType|=1024,$ppS.isConchNode&&($ppBe.CustomList.push(this),($ppt=new $ppZe("2d"))._setContext(new CanvasRenderingContext2D),this.customContext=new $ppgt(0,0,$ppt),$ppt.context.setCanvasType&&$ppt.context.setCanvasType(2),this.conchModel.custom($ppt.context)))}),$ppt(0,$ppn,"cacheAsBitmap",function(){return"none"!==this.cacheAs},function($ppt){this.cacheAs=!$ppt||this._$P.hasFilter?"none":"normal"}),$ppt(0,$ppn,"cacheAs",function(){return null==this._$P.cacheCanvas?"none":this._$P.cacheCanvas.type},function($ppt){var $ppe=this._$P.cacheCanvas;$ppt!==($ppe?$ppe.type:"none")&&("none"!==$ppt?(this._getBit(1)||this._setUpNoticeType(1),($ppe=$ppe||this._set$P("cacheCanvas",$ppGt.getItemByClass("cacheCanvas",Object))).type=$ppt,$ppe.reCache=!0,this._renderType|=16,"bitmap"==$ppt&&this.conchModel&&this.conchModel.cacheAs(1),this._set$P("cacheForFilters",!1)):this._$P._mask||(this._$P.hasFilter?this._set$P("cacheForFilters",!0):($ppe&&(($ppt=$ppe)&&$ppt.ctx&&($ppGt.recover("RenderContext",$ppt.ctx),$ppt.ctx.canvas.size(0,0),$ppt.ctx=null),$ppGt.recover("cacheCanvas",$ppe)),this._$P.cacheCanvas=null,this._renderType&=-17,this.conchModel&&this.conchModel.cacheAs(0))),this.repaint())}),$ppt(0,$ppn,"zOrder",function(){return this._zOrder},function($ppt){this._zOrder!=$ppt&&(this._zOrder=$ppt,this.conchModel&&this.conchModel.setZOrder&&this.conchModel.setZOrder($ppt),this._parent&&($ppt&&this._parent._set$P("hasZorder",!0),$ppw.timer.callLater(this._parent,this.updateZOrder)))}),$ppt(0,$ppn,"rotation",function(){return this._style._tf.rotate},function($ppt){var $ppe=this.getStyle();$ppe._tf.rotate!==$ppt&&($ppe.setRotate($ppt),this._tfChanged=!0,this.conchModel&&this.conchModel.rotate($ppt),this._renderType|=4,($ppe=this._parent)&&0===$ppe._repaint&&($ppe._repaint=1,$ppe.parentRepaint()))}),$ppt(0,$ppn,"width",function(){return this.autoSize?this.getSelfBounds().width:this._width},function($ppt){this._width!==$ppt&&(this._width=$ppt,this.conchModel&&this.conchModel.size($ppt,this._height),this.repaint())}),$ppt(0,$ppn,"x",function(){return this._x},function($ppt){this._x!==$ppt&&(this.destroyed||(this._x=$ppt,this.conchModel&&this.conchModel.pos($ppt,this._y),($ppt=this._parent)&&0===$ppt._repaint&&($ppt._repaint=1,$ppt.parentRepaint()),this._$P.maskParent&&0===this._$P.maskParent._repaint&&(this._$P.maskParent._repaint=1,this._$P.maskParent.parentRepaint())))}),$ppt(0,$ppn,"globalScaleY",function(){var $ppt=1;var $ppe=this;for(;$ppe&&$ppe!==$ppw.stage;)$ppt*=$ppe.scaleY,$ppe=$ppe.parent;return $ppt}),$ppt(0,$ppn,"hitArea",function(){return this._$P.hitArea},function($ppt){this._set$P("hitArea",$ppt)}),$ppt(0,$ppn,"staticCache",function(){return this._$P.staticCache},function($ppt){this._set$P("staticCache",$ppt),$ppt||this.reCache()}),$ppt(0,$ppn,"texture",function(){return this._texture},function($ppt){this._texture!=$ppt&&(this._texture=$ppt,this.graphics.cleanByTexture($ppt,0,0))}),$ppt(0,$ppn,"y",function(){return this._y},function($ppt){this._y!==$ppt&&(this.destroyed||(this._y=$ppt,this.conchModel&&this.conchModel.pos(this._x,$ppt),($ppt=this._parent)&&0===$ppt._repaint&&($ppt._repaint=1,$ppt.parentRepaint()),this._$P.maskParent&&0===this._$P.maskParent._repaint&&(this._$P.maskParent._repaint=1,this._$P.maskParent.parentRepaint())))}),$ppt(0,$ppn,"height",function(){return this.autoSize?this.getSelfBounds().height:this._height},function($ppt){this._height!==$ppt&&(this._height=$ppt,this.conchModel&&this.conchModel.size(this._width,$ppt),this.repaint())}),$ppt(0,$ppn,"blendMode",function(){return this._style.blendMode},function($ppt){this.getStyle().blendMode=$ppt,this.conchModel&&this.conchModel.blendMode($ppt),$ppt&&"source-over"!=$ppt?this._renderType|=8:this._renderType&=-9,this.parentRepaint()}),$ppt(0,$ppn,"scaleX",function(){return this._style._tf.scaleX},function($ppt){var $ppe=this.getStyle();$ppe._tf.scaleX!==$ppt&&($ppe.setScaleX($ppt),this._tfChanged=!0,this.conchModel&&this.conchModel.scale($ppt,$ppe._tf.scaleY),this._renderType|=4,($ppt=this._parent)&&0===$ppt._repaint&&($ppt._repaint=1,$ppt.parentRepaint()))}),$ppt(0,$ppn,"scaleY",function(){return this._style._tf.scaleY},function($ppt){var $ppe=this.getStyle();$ppe._tf.scaleY!==$ppt&&($ppe.setScaleY($ppt),this._tfChanged=!0,this.conchModel&&this.conchModel.scale($ppe._tf.scaleX,$ppt),this._renderType|=4,($ppe=this._parent)&&0===$ppe._repaint&&($ppe._repaint=1,$ppe.parentRepaint()))}),$ppt(0,$ppn,"stage",function(){return $ppw.stage}),$ppt(0,$ppn,"skewX",function(){return this._style._tf.skewX},function($ppt){var $ppe=this.getStyle();$ppe._tf.skewX!==$ppt&&($ppe.setSkewX($ppt),this._tfChanged=!0,this.conchModel&&this.conchModel.skew($ppt,$ppe._tf.skewY),this._renderType|=4,($ppt=this._parent)&&0===$ppt._repaint&&($ppt._repaint=1,$ppt.parentRepaint()))}),$ppt(0,$ppn,"scrollRect",function(){return this._style.scrollRect},function($ppt){this.getStyle().scrollRect=$ppt,this.repaint(),$ppt?(this._renderType|=128,this.conchModel&&this.conchModel.scrollRect($ppt.x,$ppt.y,$ppt.width,$ppt.height)):(this._renderType&=-129,this.conchModel&&($ppBe.RUNTIMEVERION<"0.9.1"?this.conchModel.removeType(64):this.conchModel.removeType(128)))}),$ppt(0,$ppn,"skewY",function(){return this._style._tf.skewY},function($ppt){var $ppe=this.getStyle();$ppe._tf.skewY!==$ppt&&($ppe.setSkewY($ppt),this._tfChanged=!0,this.conchModel&&this.conchModel.skew($ppe._tf.skewX,$ppt),this._renderType|=4,($ppe=this._parent)&&0===$ppe._repaint&&($ppe._repaint=1,$ppe.parentRepaint()))}),$ppt(0,$ppn,"transform",function(){return this._tfChanged?this._adjustTransform():this._transform},function($ppt){this._tfChanged=!1,(this._transform=$ppt)&&(this._x=$ppt.tx,this._y=$ppt.ty,$ppt.tx=$ppt.ty=0,this.conchModel&&this.conchModel.transform($ppt.a,$ppt.b,$ppt.c,$ppt.d,this._x,this._y)),$ppt?this._renderType|=4:(this._renderType&=-5,this.conchModel&&this.conchModel.removeType(4)),this.parentRepaint()}),$ppt(0,$ppn,"pivotX",function(){return this._style._tf.translateX},function($ppt){this.getStyle().setTranslateX($ppt),this.conchModel&&this.conchModel.pivot($ppt,this._style._tf.translateY),this.repaint()}),$ppt(0,$ppn,"pivotY",function(){return this._style._tf.translateY},function($ppt){this.getStyle().setTranslateY($ppt),this.conchModel&&this.conchModel.pivot(this._style._tf.translateX,$ppt),this.repaint()}),$ppt(0,$ppn,"alpha",function(){return this._style.alpha},function($ppt){this._style&&this._style.alpha!==$ppt&&($ppt=$ppt<0?0:1<$ppt?1:$ppt,this.getStyle().alpha=$ppt,this.conchModel&&this.conchModel.alpha($ppt),1!==$ppt?this._renderType|=2:this._renderType&=-3,this.parentRepaint())}),$ppt(0,$ppn,"visible",function(){return this._style.visible},function($ppt){this._style&&this._style.visible!==$ppt&&(this.getStyle().visible=$ppt,this.conchModel&&this.conchModel.visible($ppt),this.parentRepaint())}),$ppt(0,$ppn,"graphics",function(){return this._graphics||(this.graphics=$ppm.createGraphics())},function($ppt){this._graphics&&(this._graphics._sp=null),(this._graphics=$ppt)?(this._renderType&=-2,this._renderType|=512,($ppt._sp=this).conchModel&&this.conchModel.graphics(this._graphics)):(this._renderType&=-513,this._renderType&=-2,this.conchModel&&($ppBe.RUNTIMEVERION<"0.9.1"?this.conchModel.removeType(256):this.conchModel.removeType(512))),this.repaint()}),$ppt(0,$ppn,"filters",function(){return this._$P.filters},function($ppt){$ppt&&0===$ppt.length&&($ppt=null),this._$P.filters!=$ppt&&(this._set$P("filters",$ppt?$ppt.slice():null),$ppS.isConchApp&&(this.conchModel&&($ppBe.RUNTIMEVERION<"0.9.1"?this.conchModel.removeType(16):this.conchModel.removeType(32)),this._$P.filters&&1==this._$P.filters.length&&this._$P.filters[0].callNative(this)),$ppS.isWebGL&&($ppt&&$ppt.length?this._renderType|=32:this._renderType&=-33),$ppt&&0<$ppt.length?(this._getBit(1)||this._setUpNoticeType(1),$ppS.isWebGL&&1==$ppt.length&&$ppt[0]instanceof laya.filters.ColorFilter||("bitmap"!=this.cacheAs&&($ppS.isConchNode||(this.cacheAs="bitmap"),this._set$P("cacheForFilters",!0)),this._set$P("hasFilter",!0))):(this._set$P("hasFilter",!1),this._$P.cacheForFilters&&"bitmap"==this.cacheAs&&(this.cacheAs="none")),this.repaint())}),$ppt(0,$ppn,"parent",$ppNe.prototype._$get_parent,function($ppt){$ppw.superSet($ppoe,this,"parent",$ppt),$ppt&&this._getBit(2)&&this._$2__onDisplay()}),$ppt(0,$ppn,"mask",function(){return this._$P._mask},function($ppt){$ppt&&this.mask&&this.mask._$P.maskParent||($ppt?(this.cacheAs="bitmap",this._set$P("_mask",$ppt),$ppt._set$P("maskParent",this)):(this.mask&&this.mask._set$P("maskParent",null),this._set$P("_mask",$ppt),this.cacheAs="none"),this.conchModel&&this.conchModel.mask($ppt?$ppt.conchModel:null),this._renderType|=64,this.parentRepaint())}),$ppt(0,$ppn,"mouseEnabled",function(){return 1<this._mouseEnableState},function($ppt){this._mouseEnableState=$ppt?2:1}),$ppt(0,$ppn,"globalScaleX",function(){var $ppt=1;var $ppe=this;for(;$ppe&&$ppe!==$ppw.stage;)$ppt*=$ppe.scaleX,$ppe=$ppe.parent;return $ppt}),$ppt(0,$ppn,"mouseX",function(){return this.getMousePoint().x}),$ppt(0,$ppn,"mouseY",function(){return this.getMousePoint().y}),$ppBe.fromImage=function($ppt){return(new $ppBe).loadImage($ppt)},$ppBe._cachePool=[],$ppBe.CustomList=[],$ppl($ppBe,["RUNTIMEVERION",function(){return this.RUNTIMEVERION=$pps.conch?conchConfig.getRuntimeVersion().substr(conchConfig.getRuntimeVersion().lastIndexOf("-")+1):""}]);var $ppLe=$ppBe;function $ppBe(){this._transform=null,this._tfChanged=!1,this._x=0,this._y=0,this._width=0,this._height=0,this._repaint=1,this._mouseEnableState=0,this._zOrder=0,this._graphics=null,this._renderType=0,this._optimizeScrollRect=!1,this._texture=null,this.mouseThrough=!1,this.autoSize=!1,this.hitTestPrior=!1,this.viewport=null,$ppBe.__super.call(this),this._style=$ppb.EMPTY}var $ppNe;$ppc($ppFe,"laya.media.h5audio.AudioSoundChannel",$ppi),($ppn=$ppFe.prototype).__onEnd=function(){if(1==this.loops)return this.completeHandler&&($ppw.timer.once(10,this,this.__runComplete,[this.completeHandler],!1),this.completeHandler=null),this.stop(),void this.event("complete");0<this.loops&&this.loops--,this.startTime=0,this.play()},$ppn.__resumePlay=function(){this._audio&&this._audio.removeEventListener("canplay",this._resumePlay);try{this._audio.currentTime=this.startTime,$ppC.container.appendChild(this._audio),this._audio.play()}catch($ppt){this.event("error")}},$ppn.play=function(){this.isStopped=!1;try{this._audio.playbackRate=$ppot.playbackRate,this._audio.currentTime=this.startTime}catch($ppt){return void this._audio.addEventListener("canplay",this._resumePlay)}$ppot.addChannel(this),$ppC.container.appendChild(this._audio),"play"in this._audio&&this._audio.play()},$ppn.stop=function(){this.isStopped=!0,$ppot.removeChannel(this),this.completeHandler=null,this._audio&&("pause"in this._audio&&$ppS.isConchApp&&this._audio.stop(),this._audio.pause(),this._audio.removeEventListener("ended",this._onEnd),this._audio.removeEventListener("canplay",this._resumePlay),$ppC.onIE||this._audio!=$ppue._musicAudio&&$ppGt.recover("audio:"+this.url,this._audio),$ppC.removeElement(this._audio),this._audio=null)},$ppn.pause=function(){this.isStopped=!0,$ppot.removeChannel(this),"pause"in this._audio&&this._audio.pause()},$ppn.resume=function(){this._audio&&(this.isStopped=!1,$ppot.addChannel(this),"play"in this._audio&&this._audio.play())},$ppt(0,$ppn,"position",function(){return this._audio?this._audio.currentTime:0}),$ppt(0,$ppn,"duration",function(){return this._audio?this._audio.duration:0}),$ppt(0,$ppn,"volume",function(){return this._audio?this._audio.volume:1},function($ppt){this._audio&&(this._audio.volume=$ppt)});var $ppOe=$ppFe;function $ppFe($ppt){this._audio=null,this._onEnd=null,this._resumePlay=null,$ppFe.__super.call(this),this._onEnd=$ppJt.bind(this.__onEnd,this),this._resumePlay=$ppJt.bind(this.__resumePlay,this),$ppt.addEventListener("ended",this._onEnd),this._audio=$ppt}$ppc($ppke,"laya.media.webaudio.WebAudioSoundChannel",$ppi),($ppn=$ppke.prototype).play=function(){var $ppt,$ppe,$ppi;$ppot.addChannel(this),this.isStopped=!1,this._clearBufferSource(),this.audioBuffer&&($ppt=this.context,$ppe=this.gain,$ppi=$ppt.createBufferSource(),(this.bufferSource=$ppi).buffer=this.audioBuffer,$ppi.connect($ppe),$ppe&&$ppe.disconnect(),$ppe.connect($ppt.destination),$ppi.onended=this._onPlayEnd,this.startTime>=this.duration&&(this.startTime=0),this._startTime=$ppC.now(),this.gain.gain.setTargetAtTime?this.gain.gain.setTargetAtTime(this._volume,this.context.currentTime,.1):this.gain.gain.value=this._volume,0==this.loops&&($ppi.loop=!0),$ppi.playbackRate.setTargetAtTime?$ppi.playbackRate.setTargetAtTime($ppot.playbackRate,this.context.currentTime,.1):$ppi.playbackRate.value=$ppot.playbackRate,$ppi.start(0,this.startTime),this._currentTime=0)},$ppn.__onPlayEnd=function(){if(1==this.loops)return this.completeHandler&&($ppw.timer.once(10,this,this.__runComplete,[this.completeHandler],!1),this.completeHandler=null),this.stop(),void this.event("complete");0<this.loops&&this.loops--,this.startTime=0,this.play()},$ppn._clearBufferSource=function(){var $ppt;this.bufferSource&&(($ppt=this.bufferSource).stop?$ppt.stop(0):$ppt.noteOff(0),$ppt.disconnect(0),$ppt.onended=null,$ppke._tryCleanFailed||this._tryClearBuffer($ppt),this.bufferSource=null)},$ppn._tryClearBuffer=function($ppt){try{$ppt.buffer=null}catch($ppt){$ppke._tryCleanFailed=!0}},$ppn.stop=function(){this._clearBufferSource(),this.audioBuffer=null,this.gain&&this.gain.disconnect(),this.isStopped=!0,$ppot.removeChannel(this),this.completeHandler=null},$ppn.pause=function(){this.isStopped||(this._pauseTime=this.position),this._clearBufferSource(),this.gain&&this.gain.disconnect(),this.isStopped=!0,$ppot.removeChannel(this)},$ppn.resume=function(){this.startTime=this._pauseTime,this.play()},$ppt(0,$ppn,"position",function(){return this.bufferSource?($ppC.now()-this._startTime)/1e3+this.startTime:0}),$ppt(0,$ppn,"duration",function(){return this.audioBuffer?this.audioBuffer.duration:0}),$ppt(0,$ppn,"volume",function(){return this._volume},function($ppt){this.isStopped||(this._volume=$ppt,this.gain.gain.setTargetAtTime?this.gain.gain.setTargetAtTime($ppt,this.context.currentTime,.1):this.gain.gain.value=$ppt)}),$ppke._tryCleanFailed=!1;var $ppVe=$ppke;function $ppke(){this.audioBuffer=null,this.gain=null,this.bufferSource=null,this._currentTime=0,this._volume=1,this._startTime=0,this._pauseTime=0,this._onPlayEnd=null,this.context=$ppme.ctx,$ppke.__super.call(this),this._onPlayEnd=$ppJt.bind(this.__onPlayEnd,this),this.context.createGain?this.gain=this.context.createGain():this.gain=this.context.createGainNode()}$ppc($ppUe,"laya.resource.Bitmap",$ppr),$ppt(0,$ppi=$ppUe.prototype,"width",function(){return this._w}),$ppt(0,$ppi,"height",function(){return this._h}),$ppt(0,$ppi,"source",function(){return this._source});var $ppn=$ppUe;function $ppUe(){$ppUe.__super.call(this),this._w=0,this._h=0}$ppc($ppHe,"laya.display.AnimationPlayerBase",$ppze=$ppLe),($ppr=$ppHe.prototype).play=function($ppt,$ppe,$ppi,$ppn){void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=!0),void 0===$ppi&&($ppi=""),void 0===$ppn&&($ppn=!0),this._isPlaying=!0,this.index="string"==typeof $ppt?this._getFrameByLabel($ppt):$ppt,this.loop=$ppe,this._actionName=$ppi,this._isReverse=1==this.wrapMode,0<this.interval&&this.timerLoop(this.interval,this,this._frameLoop,null,!0,!0)},$ppr._getFrameByLabel=function($ppt){var $ppe=0;for($ppe=0;$ppe<this._count;$ppe++)if(this._labels[$ppe]&&0<=this._labels[$ppe].indexOf($ppt))return $ppe;return 0},$ppr._frameLoop=function(){if(this._isReverse){if(this._index--,this._index<0){if(!this.loop)return this._index=0,this.stop(),void this.event("complete");2==this.wrapMode?(this._index=0<this._count?1:0,this._isReverse=!1):this._index=this._count-1,this.event("complete")}}else if(this._index++,this._index>=this._count){if(!this.loop)return this._index--,this.stop(),void this.event("complete");2==this.wrapMode?(this._index=0<=this._count-2?this._count-2:0,this._isReverse=!0):this._index=0,this.event("complete")}this.index=this._index},$ppr._setControlNode=function($ppt){this._controlNode&&(this._controlNode.off("display",this,this._checkResumePlaying),this._controlNode.off("undisplay",this,this._checkResumePlaying)),(this._controlNode=$ppt)&&$ppt!=this&&($ppt.on("display",this,this._checkResumePlaying),$ppt.on("undisplay",this,this._checkResumePlaying))},$ppr._setDisplay=function($ppt){$ppze.prototype._setDisplay.call(this,$ppt),this._checkResumePlaying()},$ppr._checkResumePlaying=function(){this._isPlaying&&(this._controlNode.displayedInStage?this.play(this._index,this.loop,this._actionName):this.clearTimer(this,this._frameLoop))},$ppr.stop=function(){this._isPlaying=!1,this.clearTimer(this,this._frameLoop)},$ppr.addLabel=function($ppt,$ppe){this._labels||(this._labels={}),this._labels[$ppe]||(this._labels[$ppe]=[]),this._labels[$ppe].push($ppt)},$ppr.removeLabel=function($ppt){if($ppt){if(this._labels)for(var $ppe in this._labels)this._removeLabelFromLabelList(this._labels[$ppe],$ppt)}else this._labels=null},$ppr._removeLabelFromLabelList=function($ppt,$ppe){if($ppt)for(var $ppi=$ppt.length-1;0<=$ppi;$ppi--)$ppt[$ppi]==$ppe&&$ppt.splice($ppi,1)},$ppr.gotoAndStop=function($ppt){this.index="string"==typeof $ppt?this._getFrameByLabel($ppt):$ppt,this.stop()},$ppr._displayToIndex=function($ppt){},$ppr.clear=function(){this.stop(),this._labels=null},$ppt(0,$ppr,"interval",function(){return this._interval},function($ppt){this._interval!=$ppt&&(this._frameRateChanged=!0,this._interval=$ppt,this._isPlaying&&0<$ppt&&this.timerLoop($ppt,this,this._frameLoop,null,!0,!0))}),$ppt(0,$ppr,"isPlaying",function(){return this._isPlaying}),$ppt(0,$ppr,"index",function(){return this._index},function($ppt){if(this._index=$ppt,this._displayToIndex($ppt),this._labels&&this._labels[$ppt]){var $ppe=this._labels[$ppt];for(var $ppi=0,$ppn=$ppe.length;$ppi<$ppn;$ppi++)this.event("label",$ppe[$ppi])}}),$ppt(0,$ppr,"count",function(){return this._count}),$ppHe.WRAP_POSITIVE=0,$ppHe.WRAP_REVERSE=1,$ppHe.WRAP_PINGPONG=2;$ppi=$ppHe;function $ppHe(){this.loop=!1,this.wrapMode=0,this._index=0,this._count=0,this._isPlaying=!1,this._labels=null,this._isReverse=!1,this._frameRateChanged=!1,this._controlNode=null,this._actionName=null,$ppHe.__super.call(this),this._interval=$pp_.animationInterval,this._setUpNoticeType(1)}var $ppze;$ppc($ppGe,"laya.display.Text",$ppYe=$ppLe),($ppr=$ppGe.prototype).destroy=function($ppt){$ppYe.prototype.destroy.call(this,$ppt=void 0===$ppt?!0:$ppt),this._lines=null,this._words&&(this._words.length=0,this._words=null)},$ppr._getBoundPointsM=function($ppt){void 0===$ppt&&($ppt=!1);$ppt=$ppst.TEMP;return $ppt.setTo(0,0,this.width,this.height),$ppt._getBoundPoints()},$ppr.getGraphicBounds=function($ppt){void 0===$ppt&&($ppt=!1);$ppt=$ppst.TEMP;return $ppt.setTo(0,0,this.width,this.height),$ppt},$ppr._getCSSStyle=function(){return this._style},$ppr.lang=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppl,$ppc,$ppu,$pp_){if($ppt=$ppGe.langPacks&&$ppGe.langPacks[$ppt]?$ppGe.langPacks[$ppt]:$ppt,arguments.length<2)this._text=$ppt;else{for(var $ppo=0,$pph=arguments.length;$ppo<$pph;$ppo++)$ppt=$ppt.replace("{"+$ppo+"}",arguments[$ppo+1]);this._text=$ppt}},$ppr._isPassWordMode=function(){var $ppt=this._style.password;return $ppt="prompt"in this&&this.prompt==this._text?!1:$ppt},$ppr._getPassWordTxt=function($ppt){var $ppe;$ppe="";for(var $ppi=$ppt.length;0<$ppi;$ppi--)$ppe+="●";return $ppe},$ppr.renderText=function($ppc,$ppu){var $ppt=this.graphics;$ppt.clear(!0);var $pp_=(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.fontSize+"px "+($ppC.onIPhone&&laya.display.Text._fontFamilyMap[this.font]||this.font);$ppC.context.font=$pp_;var $ppe=this.padding;var $ppd=$ppe[3];var $ppi="left";var $ppf=this._lines;var $ppp=this.leading+this._charSize.height;var $ppn=this._currBitmapFont;$ppn&&($ppp=this.leading+$ppn.getMaxHeight());var $ppm=$ppe[0];!$ppn&&0<this._width&&this._textWidth<=this._width&&("right"==this.align?($ppi="right",$ppd=this._width-$ppe[1]):"center"==this.align&&($ppi="center",$ppd=.5*this._width+$ppe[3]-$ppe[1])),0<this._height&&("middle"===($ppl=this._textHeight>this._height?"top":this.valign)?$ppm=.5*(this._height-$ppu*$ppp)+$ppe[0]-$ppe[2]:"bottom"===$ppl&&($ppm=this._height-$ppu*$ppp-$ppe[2]));var $ppg=this._style;var $ppr;var $ppv;$ppn&&$ppn.autoScaleSize&&($ppr=$ppn.fontSize/this.fontSize),this._clipPoint&&($ppt.save(),$ppn&&$ppn.autoScaleSize?($ppv=$ppl=0,$ppl=this._width?this._width-$ppe[3]-$ppe[1]:this._textWidth,$ppv=this._height?this._height-$ppe[0]-$ppe[2]:this._textHeight,$ppt.clipRect($ppe[3],$ppe[0],$ppl*=$ppr,$ppv*=$ppr)):$ppt.clipRect($ppe[3],$ppe[0],this._width?this._width-$ppe[3]-$ppe[1]:this._textWidth,this._height?this._height-$ppe[0]-$ppe[2]:this._textHeight));var $ppy=$ppg.password;"prompt"in this&&this.prompt==this._text&&($ppy=!1);var $pps;var $ppx=Math.min(this._lines.length,$ppu+$ppc)||1;for(var $ppa=$ppc;$ppa<$ppx;$ppa++){var $ppo=$ppf[$ppa];var $ppw;if($ppy){var $pph=$ppo.length;$ppo="";for(var $ppb=$pph;0<$ppb;$ppb--)$ppo+="●"}var $ppT;$pph=$ppd-(this._clipPoint?this._clipPoint.x:0),$pps=$ppm+$ppp*$ppa-(this._clipPoint?this._clipPoint.y:0),this.underline&&this.drawUnderline($ppi,$pph,$pps,$ppa),$ppn?($ppT=this.width,$ppn.autoScaleSize&&($ppT=this.width*$ppr),$ppn.drawText($ppo,this,$pph,$pps,this.align,$ppT)):($ppS.isWebGL?(this._words||(this._words=[]),($ppw=this._words.length>$ppa-$ppc?this._words[$ppa-$ppc]:new $ppse).setText($ppo)):$ppw=$ppo,$ppg.stroke?$ppt.fillBorderText($ppw,$pph,$pps,$pp_,this.color,$ppg.strokeColor,$ppg.stroke,$ppi):$ppt.fillText($ppw,$pph,$pps,$pp_,this.color,$ppi))}var $ppl;$ppn&&$ppn.autoScaleSize&&this.scale($ppl=1/$ppr,$ppl),this._clipPoint&&$ppt.restore(),this._startX=$ppd,this._startY=$ppm},$ppr.drawUnderline=function($ppt,$ppe,$ppi,$ppn){var $ppr=this._lineWidths[$ppn];switch($ppt){case"center":$ppe-=$ppr/2;break;case"right":$ppe-=$ppr}$ppi+=this._charSize.height,this._graphics.drawLine($ppe,$ppi,$ppe+$ppr,$ppi,this.underlineColor||this.color,1)},$ppr.typeset=function(){if(this._isChanged=!1,!this._text)return this._clipPoint=null,this._textWidth=this._textHeight=0,void this.graphics.clear(!0);$ppC.context.font=this._getCSSStyle().font,this._lines.length=0,this._lineWidths.length=0,this._isPassWordMode()?this.parseLines(this._getPassWordTxt(this._text)):this.parseLines(this._text),this.evalTextSize(),this.checkEnabledViewportOrNot()?this._clipPoint||(this._clipPoint=new $ppnt(0,0)):this._clipPoint=null;var $ppt=this._lines.length;this.overflow!=$ppGe.VISIBLE&&($ppe=this.overflow==$ppGe.HIDDEN?Math.floor:Math.ceil,$ppt=Math.min($ppt,$ppe((this.height-this.padding[0]-this.padding[2])/(this.leading+this._charSize.height))));var $ppe=this.scrollY/(this._charSize.height+this.leading)|0;this.renderText($ppe,$ppt),this.repaint()},$ppr.evalTextSize=function(){var $ppt,$ppe=NaN;$ppt=Math.max.apply(this,this._lineWidths),$ppe=this._currBitmapFont?this._lines.length*(this._currBitmapFont.getMaxHeight()+this.leading)+this.padding[0]+this.padding[2]:this._lines.length*(this._charSize.height+this.leading)+this.padding[0]+this.padding[2],$ppt==this._textWidth&&$ppe==this._textHeight||(this._textWidth=$ppt,this._textHeight=$ppe,this._width&&this._height||this.conchModel&&this.conchModel.size(this._width||this._textWidth,this._height||this._textHeight))},$ppr.checkEnabledViewportOrNot=function(){return this.overflow==$ppGe.SCROLL&&(0<this._width&&this._textWidth>this._width||0<this._height&&this._textHeight>this._height)},$ppr.changeText=function($ppt){this._text!==$ppt&&(this.lang($ppt+""),this._graphics&&this._graphics.replaceText(this._text)||this.typeset())},$ppr.parseLines=function($ppt){var $ppe=this.wordWrap||this.overflow==$ppGe.HIDDEN;var $ppi;var $ppn;$ppe&&($ppi=this.getWordWrapWidth()),this._currBitmapFont?(this._charSize.width=this._currBitmapFont.getMaxWidth(),this._charSize.height=this._currBitmapFont.getMaxHeight()):($ppn=$ppC.context.measureText($ppGe._testWord),$ppS.isConchApp&&0===$ppn.width&&0===$ppn.height&&($ppn=$ppC.context.measureText("W")),this._charSize.width=$ppn.width,this._charSize.height=$ppn.height||this.fontSize);var $ppr=$ppt.replace(/\r\n/g,"\n").split("\n");for(var $pps=0,$ppa=$ppr.length;$pps<$ppa;$pps++){var $ppo=$ppr[$pps];$ppe?this.parseLine($ppo,$ppi):(this._lineWidths.push(this.getTextWidth($ppo)),this._lines.push($ppo))}},$ppr.parseLine=function($ppt,$ppc){$ppC.context;var $ppe=this._lines;var $ppi=0;var $ppn;var $ppr=NaN;var $pps=NaN;var $ppa=0;if(($ppr=this.getTextWidth($ppt))<=$ppc)return $ppe.push($ppt),void this._lineWidths.push($ppr);$ppr=this._charSize.width,$ppi=Math.floor($ppc/$ppr),$pps=$ppr=this.getTextWidth($ppt.substring(0,$ppi=0==$ppi?1:$ppi));for(var $ppo=$ppi,$pph=$ppt.length;$ppo<$pph;$ppo++)if($ppc<($pps+=$ppr=this.getTextWidth($ppt.charAt($ppo))))if(this.wordWrap){var $ppl=$ppt.substring($ppa,$ppo);if($ppl.charCodeAt($ppl.length-1)<255?($ppn=/(?:\w|-)+$/.exec($ppl))&&($ppo=$ppn.index+$ppa,0==$ppn.index?$ppo+=$ppl.length:$ppl=$ppt.substring($ppa,$ppo)):$ppGe.RightToLeft&&($ppn=/([\u0600-\u06FF])+$/.exec($ppl))&&($ppo=$ppn.index+$ppa,0==$ppn.index?$ppo+=$ppl.length:$ppl=$ppt.substring($ppa,$ppo)),$ppe.push($ppl),this._lineWidths.push($pps-$ppr),!(($ppa=$ppo)+$ppi<$pph)){$ppe.push($ppt.substring($ppa,$pph)),this._lineWidths.push(this.getTextWidth($ppe[$ppe.length-1])),$ppa=-1;break}$ppo+=$ppi,$pps=$ppr=this.getTextWidth($ppt.substring($ppa,$ppo)),$ppo--}else if(this.overflow==$ppGe.HIDDEN)return $ppe.push($ppt.substring(0,$ppo)),void this._lineWidths.push(this.getTextWidth($ppe[$ppe.length-1]));this.wordWrap&&-1!=$ppa&&($ppe.push($ppt.substring($ppa,$pph)),this._lineWidths.push(this.getTextWidth($ppe[$ppe.length-1])))},$ppr.getTextWidth=function($ppt){return this._currBitmapFont?this._currBitmapFont.getTextWidth($ppt):$ppC.context.measureText($ppt).width},$ppr.getWordWrapWidth=function(){var $ppt=this.padding;var $ppe=NaN;return($ppe=($ppe=($ppe=this._currBitmapFont&&this._currBitmapFont.autoScaleSize?this._width*(this._currBitmapFont.fontSize/this.fontSize):this._width)<=0?this.wordWrap?100:$ppC.width:$ppe)<=0?100:$ppe)-$ppt[3]-$ppt[1]},$ppr.getCharPoint=function($ppt,$ppe){this._isChanged&&$ppw.timer.runCallLater(this,this.typeset);var $ppi=0,$ppn=this._lines,$ppr=0;for(var $pps=0,$ppa=$ppn.length;$pps<$ppa;$pps++){if($ppt<($ppi+=$ppn[$pps].length)){var $ppo=$pps;break}$ppr=$ppi}var $pph=(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.fontSize+"px "+this.font;$ppC.context.font=$pph;$pph=this.getTextWidth(this._text.substring($ppr,$ppt));return($ppe||new $ppnt).setTo(this._startX+$pph-(this._clipPoint?this._clipPoint.x:0),this._startY+$ppo*(this._charSize.height+this.leading)-(this._clipPoint?this._clipPoint.y:0))},$ppt(0,$ppr,"width",function(){return this._width||this.textWidth+this.padding[1]+this.padding[3]},function($ppt){$ppt!=this._width&&($ppw.superSet($ppLe,this,"width",$ppt),this.isChanged=!0)}),$ppt(0,$ppr,"textWidth",function(){return this._isChanged&&$ppw.timer.runCallLater(this,this.typeset),this._textWidth}),$ppt(0,$ppr,"height",function(){return this._height||this.textHeight},function($ppt){$ppt!=this._height&&($ppw.superSet($ppLe,this,"height",$ppt),this.isChanged=!0)}),$ppt(0,$ppr,"textHeight",function(){return this._isChanged&&$ppw.timer.runCallLater(this,this.typeset),this._textHeight}),$ppt(0,$ppr,"padding",function(){return this._getCSSStyle().padding},function($ppt){this._getCSSStyle().padding=$ppt,this.isChanged=!0}),$ppt(0,$ppr,"bold",function(){return this._getCSSStyle().bold},function($ppt){this._getCSSStyle().bold=$ppt,this.isChanged=!0}),$ppt(0,$ppr,"text",function(){return this._text||""},function($ppt){this._text!==$ppt&&(this.lang($ppt+""),this.isChanged=!0,this.event("change"))}),$ppt(0,$ppr,"color",function(){return this._getCSSStyle().color},function($ppt){this._getCSSStyle().color!=$ppt&&(this._getCSSStyle().color=$ppt,!this._isChanged&&this._graphics?this._graphics.replaceTextColor(this.color):this.isChanged=!0)}),$ppt(0,$ppr,"font",function(){return this._getCSSStyle().fontFamily},function($ppt){this._currBitmapFont&&(this._currBitmapFont=null,this.scale(1,1)),$ppGe._bitmapFonts&&$ppGe._bitmapFonts[$ppt]&&(this._currBitmapFont=$ppGe._bitmapFonts[$ppt]),this._getCSSStyle().fontFamily=$ppt,this.isChanged=!0}),$ppt(0,$ppr,"fontSize",function(){return this._getCSSStyle().fontSize},function($ppt){this._getCSSStyle().fontSize=$ppt,this.isChanged=!0}),$ppt(0,$ppr,"italic",function(){return this._getCSSStyle().italic},function($ppt){this._getCSSStyle().italic=$ppt,this.isChanged=!0}),$ppt(0,$ppr,"align",function(){return this._getCSSStyle().align},function($ppt){this._getCSSStyle().align=$ppt,this.isChanged=!0}),$ppt(0,$ppr,"valign",function(){return this._getCSSStyle().valign},function($ppt){this._getCSSStyle().valign=$ppt,this.isChanged=!0}),$ppt(0,$ppr,"wordWrap",function(){return this._getCSSStyle().wordWrap},function($ppt){this._getCSSStyle().wordWrap=$ppt,this.isChanged=!0}),$ppt(0,$ppr,"leading",function(){return this._getCSSStyle().leading},function($ppt){this._getCSSStyle().leading=$ppt,this.isChanged=!0}),$ppt(0,$ppr,"bgColor",function(){return this._getCSSStyle().backgroundColor},function($ppt){this._getCSSStyle().backgroundColor=$ppt,this.isChanged=!0}),$ppt(0,$ppr,"borderColor",function(){return this._getCSSStyle().borderColor},function($ppt){this._getCSSStyle().borderColor=$ppt,this.isChanged=!0}),$ppt(0,$ppr,"stroke",function(){return this._getCSSStyle().stroke},function($ppt){this._getCSSStyle().stroke=$ppt,this.isChanged=!0}),$ppt(0,$ppr,"strokeColor",function(){return this._getCSSStyle().strokeColor},function($ppt){this._getCSSStyle().strokeColor=$ppt,this.isChanged=!0}),$ppt(0,$ppr,"isChanged",null,function($ppt){this._isChanged!==$ppt&&(this._isChanged=$ppt)&&$ppw.timer.callLater(this,this.typeset)}),$ppt(0,$ppr,"scrollX",function(){return this._clipPoint?this._clipPoint.x:0},function($ppt){var $ppe,$ppi;this.overflow!=$ppGe.SCROLL||this.textWidth<this._width||!this._clipPoint||($ppt=$ppt<this.padding[3]?this.padding[3]:$ppt,$ppe=this._textWidth-this._width,$ppi=this._height/(this._charSize.height+this.leading)|1,this._clipPoint.x=$ppt=$ppe<$ppt?$ppe:$ppt,this.renderText(this._lastVisibleLineIndex,$ppi))}),$ppt(0,$ppr,"scrollY",function(){return this._clipPoint?this._clipPoint.y:0},function($ppt){var $ppe,$ppi;this.overflow!=$ppGe.SCROLL||this.textHeight<this._height||!this._clipPoint||($ppt=$ppt<this.padding[0]?this.padding[0]:$ppt,$ppe=($ppt=($ppe=this._textHeight-this._height)<$ppt?$ppe:$ppt)/(this._charSize.height+this.leading)|0,this._lastVisibleLineIndex=$ppe,$ppi=1+(this._height/(this._charSize.height+this.leading)|0),this._clipPoint.y=$ppt,this.renderText($ppe,$ppi))}),$ppt(0,$ppr,"maxScrollX",function(){return this.textWidth<this._width?0:this._textWidth-this._width}),$ppt(0,$ppr,"maxScrollY",function(){return this.textHeight<this._height?0:this._textHeight-this._height}),$ppt(0,$ppr,"lines",function(){return this._isChanged&&this.typeset(),this._lines}),$ppt(0,$ppr,"underlineColor",function(){return this._underlineColor},function($ppt){this._underlineColor=$ppt,this._isChanged=!0,this.typeset()}),$ppGe.registerBitmapFont=function($ppt,$ppe){($ppGe._bitmapFonts=$ppGe._bitmapFonts?$ppGe._bitmapFonts:{})[$ppt]=$ppe},$ppGe.unregisterBitmapFont=function($ppt,$ppe){var $ppi;void 0===$ppe&&($ppe=!0),$ppGe._bitmapFonts&&$ppGe._bitmapFonts[$ppt]&&($ppi=$ppGe._bitmapFonts[$ppt],$ppe&&$ppi.destroy(),delete $ppGe._bitmapFonts[$ppt])},$ppGe.setTextRightToLeft=function(){var $ppt;($ppt=$ppC.canvas.source.style).display="none",$ppt.position="absolute",$ppt.direction="rtl",$ppS._mainCanvas.source.style.direction="rtl",laya.display.Text.RightToLeft=!0,$ppC.document.body.appendChild($ppC.canvas.source)},$ppGe.supportFont=function($ppt){$ppC.context.font="10px sans-serif";var $ppe=$ppC.context.measureText("abcji").width;$ppC.context.font="10px "+$ppt;$ppt=$ppC.context.measureText("abcji").width;return console.log($ppe,$ppt),$ppe!==$ppt},$ppGe._testWord="游",$ppGe.langPacks=null,$ppGe.VISIBLE="visible",$ppGe.SCROLL="scroll",$ppGe.HIDDEN="hidden",$ppGe.CharacterCache=!0,$ppGe.RightToLeft=!1,$ppGe._bitmapFonts=null,$ppl($ppGe,["_fontFamilyMap",function(){return this._fontFamilyMap={"报隶":"报隶-简","黑体":"黑体-简","楷体":"楷体-简","兰亭黑":"兰亭黑-简","隶变":"隶变-简","凌慧体":"凌慧体-简","翩翩体":"翩翩体-简","苹方":"苹方-简","手札体":"手札体-简","宋体":"宋体-简","娃娃体":"娃娃体-简","魏碑":"魏碑-简","行楷":"行楷-简","雅痞":"雅痞-简","圆体":"圆体-简"}}]);var $ppWe=$ppGe;function $ppGe(){this._clipPoint=null,this._currBitmapFont=null,this._text=null,this._isChanged=!1,this._textWidth=0,this._textHeight=0,this._lines=[],this._lineWidths=[],this._startX=NaN,this._startY=NaN,this._lastVisibleLineIndex=-1,this._words=null,this._charSize={},this.underline=!1,this._underlineColor=null,$ppGe.__super.call(this),this.overflow=$ppGe.VISIBLE,this._style=new $pple(this),this._style.wordWrap=!1}var $ppYe;$ppc($ppje,"laya.display.Stage",$ppKe=$ppLe),($ppr=$ppje.prototype)._setStageVisible=function($ppt){this._isVisibility!=$ppt&&(this._isVisibility=$ppt,this._isVisibility||this._isInputting()&&($ppsi.inputElement.target.focus=!1),this.event("visibilitychange"))},$ppr._isInputting=function(){return $ppC.onMobile&&$ppsi.isInputting},$ppr._changeCanvasSize=function(){this.setScreenSize($ppC.clientWidth*$ppC.pixelRatio,$ppC.clientHeight*$ppC.pixelRatio)},$ppr._resetCanvas=function(){var $ppt;this.screenAdaptationEnabled&&(($ppt=$ppS._mainCanvas).source.style,$ppt.size(1,1),$ppw.timer.once(100,this,this._changeCanvasSize))},$ppr.setScreenSize=function($ppt,$ppe){var $ppc=!1;"none"!==this._screenMode&&($ppc=($ppt/$ppe<1?"vertical":"horizontal")!==this._screenMode)&&($ppu=$ppe,$ppe=$ppt,$ppt=$ppu),this.canvasRotation=$ppc;var $ppu=$ppS._mainCanvas;var $ppi=$ppu.source.style;var $ppn=this._canvasTransform.identity();var $pp_=this._scaleMode;var $ppr=$ppt/this.designWidth;var $pps=$ppe/this.designHeight;var $ppa=this.designWidth;var $ppo=this.designHeight;var $pph=$ppt;var $ppd=$ppe;var $ppl=$ppC.pixelRatio;switch(this._width=this.designWidth,this._height=this.designHeight,$pp_){case"noscale":$ppr=$pps=1,$pph=this.designWidth,$ppd=this.designHeight;break;case"showall":$ppr=$pps=Math.min($ppr,$pps),$ppa=$pph=Math.round(this.designWidth*$ppr),$ppo=$ppd=Math.round(this.designHeight*$pps);break;case"noborder":$ppr=$pps=Math.max($ppr,$pps),$pph=Math.round(this.designWidth*$ppr),$ppd=Math.round(this.designHeight*$pps);break;case"full":$ppr=$pps=1,this._width=$ppa=$ppt,this._height=$ppo=$ppe;break;case"fixedwidth":$pps=$ppr,this._height=$ppo=Math.round($ppe/$ppr);break;case"fixedheight":$ppr=$pps,this._width=$ppa=Math.round($ppt/$pps);break;case"fixedauto":$ppt/$ppe<this.designWidth/this.designHeight?($pps=$ppr,this._height=$ppo=Math.round($ppe/$ppr)):($ppr=$pps,this._width=$ppa=Math.round($ppt/$pps))}this._height=this._height+1&2147483646,this._width=this._width+1&2147483646,$ppa=$ppa+1&2147483646,$ppo=$ppo+1&2147483646,this.conchModel&&this.conchModel.size(this._width,this._height),$ppr*=this.scaleX,$pps*=this.scaleY,1===$ppr&&1===$pps?this.transform.identity():(this.transform.a=this._formatData($ppr/($pph/$ppa)),this.transform.d=this._formatData($pps/($ppd/$ppo)),this.conchModel&&this.conchModel.scale(this.transform.a,this.transform.d)),$ppu.size($ppa,$ppo),$ppm.changeWebGLSize($ppa,$ppo),$ppn.scale($pph/$ppa/$ppl,$ppd/$ppo/$ppl),"left"===this._alignH?this.offset.x=0:"right"===this._alignH?this.offset.x=($ppt-$pph)/$ppl:this.offset.x=.5*($ppt-$pph)/$ppl,"top"===this._alignV?this.offset.y=0:"bottom"===this._alignV?this.offset.y=($ppe-$ppd)/$ppl:this.offset.y=.5*($ppe-$ppd)/$ppl,this.offset.x=Math.round(this.offset.x),this.offset.y=Math.round(this.offset.y),$ppn.translate(this.offset.x,this.offset.y),this.canvasDegree=0,$ppc&&("horizontal"===this._screenMode?($ppn.rotate(Math.PI/2),$ppn.translate($ppe/$ppl,0),this.canvasDegree=90):($ppn.rotate(-Math.PI/2),$ppn.translate(0,$ppt/$ppl),this.canvasDegree=-90)),$ppn.a=this._formatData($ppn.a),$ppn.d=this._formatData($ppn.d),$ppn.tx=this._formatData($ppn.tx),$ppn.ty=this._formatData($ppn.ty),$ppi.transformOrigin=$ppi.webkitTransformOrigin=$ppi.msTransformOrigin=$ppi.mozTransformOrigin=$ppi.oTransformOrigin="0px 0px 0px",$ppi.transform=$ppi.webkitTransform=$ppi.msTransform=$ppi.mozTransform=$ppi.oTransform="matrix("+$ppn.toString()+")",$ppn.translate(parseInt($ppi.left)||0,parseInt($ppi.top)||0),this.visible=!0,this._repaint=1,this.event("resize")},$ppr._formatData=function($ppt){return Math.abs($ppt)<1e-6?0:Math.abs(1-$ppt)<.001?0<$ppt?1:-1:$ppt},$ppr.getMousePoint=function(){return $ppnt.TEMP.setTo(this.mouseX,this.mouseY)},$ppr.repaint=function(){this._repaint=1},$ppr.parentRepaint=function(){},$ppr._loop=function(){return this.render($ppS.context,0,0),!0},$ppr._onmouseMove=function($ppt){this._mouseMoveTime=$ppC.now()},$ppr.getTimeFromFrameStart=function(){return $ppC.now()-this._frameStartTime},$ppr.render=function($ppt,$ppe,$ppi){if("sleep"===this._frameRate&&!$ppS.isConchApp){var $ppn=$ppC.now();if(!(1e3<=$ppn-this._frameStartTime))return;this._frameStartTime=$ppn}if(this._renderCount++,$ppS.isFlash&&this.repaint(),this._style.visible){this._frameStartTime=$ppC.now();$ppn="slow"!==("mouse"===this._frameRate?this._frameStartTime-this._mouseMoveTime<2e3?"fast":"slow":this._frameRate);var $ppr=this._renderCount%2==0;if($ppXt.renderSlow=!$ppn,$ppn||$ppr||$ppS.isConchApp){var $pps;$ppXt.loopCount++,$ppU.instance.runEvent(),$ppw.timer._update(),$ppm.update3DLoop();var $ppa=0,$ppo=0;if($ppS.isConchNode)for($ppa=0,$ppo=this._scenes.length;$ppa<$ppo;$ppa++)($pps=this._scenes[$ppa])&&$pps._updateSceneConch();else for($ppa=0,$ppo=this._scenes.length;$ppa<$ppo;$ppa++)($pps=this._scenes[$ppa])&&$pps._updateScene();if($ppS.isConchNode){var $pph=$ppLe.CustomList;for($ppa=0,$ppo=$pph.length;$ppa<$ppo;$ppa++){var $ppl=$pph[$ppa];$ppl.customRender($ppl.customContext,0,0)}return}}$ppS.isConchNode||this.renderingEnabled&&($ppn||!$ppr||$ppS.isConchWebGL)&&($ppS.isWebGL?($ppt.clear(),$ppKe.prototype.render.call(this,$ppt,$ppe,$ppi),$ppXt._show&&$ppXt._sp&&$ppXt._sp.render($ppt,$ppe,$ppi),$ppm.clear(this._bgColor),$ppm.beginFlush(),$ppt.flush(),$ppm.endFinish(),$ppee.instance&&$ppee.getInstance().endDispose()):($ppm.clear(this._bgColor),$ppKe.prototype.render.call(this,$ppt,$ppe,$ppi),$ppXt._show&&$ppXt._sp&&$ppXt._sp.render($ppt,$ppe,$ppi)))}else this._renderCount%5==0&&($ppXt.loopCount++,$ppU.instance.runEvent(),$ppw.timer._update())},$ppr._requestFullscreen=function(){var $ppt=$ppC.document.documentElement;$ppt.requestFullscreen?$ppt.requestFullscreen():$ppt.mozRequestFullScreen?$ppt.mozRequestFullScreen():$ppt.webkitRequestFullscreen?$ppt.webkitRequestFullscreen():$ppt.msRequestFullscreen&&$ppt.msRequestFullscreen()},$ppr._fullScreenChanged=function(){$ppw.stage.event("fullscreenchange")},$ppr.exitFullscreen=function(){var $ppt=$ppC.document;$ppt.exitFullscreen?$ppt.exitFullscreen():$ppt.mozCancelFullScreen?$ppt.mozCancelFullScreen():$ppt.webkitExitFullscreen&&$ppt.webkitExitFullscreen()},$ppt(0,$ppr,"clientScaleX",function(){return this._transform?this._transform.getScaleX():1}),$ppt(0,$ppr,"desginHeight",function(){return console.debug("desginHeight已经弃用，请使用designHeight代替"),this.designHeight}),$ppt(0,$ppr,"frameRate",function(){return this._frameRate},function($ppt){if(this._frameRate=$ppt,$ppS.isConchApp)switch(this._frameRate){case"slow":$ppC.window.conch&&$ppC.window.conchConfig.setSlowFrame&&$ppC.window.conchConfig.setSlowFrame(!0);break;case"fast":$ppC.window.conch&&$ppC.window.conchConfig.setSlowFrame&&$ppC.window.conchConfig.setSlowFrame(!1);break;case"mouse":$ppC.window.conch&&$ppC.window.conchConfig.setMouseFrame&&$ppC.window.conchConfig.setMouseFrame(2e3);break;case"sleep":$ppC.window.conch&&$ppC.window.conchConfig.setLimitFPS&&$ppC.window.conchConfig.setLimitFPS(1);break;default:throw new Error("Stage:frameRate invalid.")}}),$ppt(0,$ppr,"clientScaleY",function(){return this._transform?this._transform.getScaleY():1}),$ppt(0,$ppr,"width",$ppKe.prototype._$get_width,function($ppt){this.designWidth=$ppt,$ppw.superSet($ppLe,this,"width",$ppt),$ppw.timer.callLater(this,this._changeCanvasSize)}),$ppt(0,$ppr,"alignH",function(){return this._alignH},function($ppt){this._alignH=$ppt,$ppw.timer.callLater(this,this._changeCanvasSize)}),$ppt(0,$ppr,"isFocused",function(){return this._isFocused}),$ppt(0,$ppr,"height",$ppKe.prototype._$get_height,function($ppt){this.designHeight=$ppt,$ppw.superSet($ppLe,this,"height",$ppt),$ppw.timer.callLater(this,this._changeCanvasSize)}),$ppt(0,$ppr,"transform",function(){return this._tfChanged&&this._adjustTransform(),this._transform=this._transform||$ppet.create()},$ppKe.prototype._$set_transform),$ppt(0,$ppr,"isVisibility",function(){return this._isVisibility}),$ppt(0,$ppr,"desginWidth",function(){return console.debug("desginWidth已经弃用，请使用designWidth代替"),this.designWidth}),$ppt(0,$ppr,"scaleMode",function(){return this._scaleMode},function($ppt){this._scaleMode=$ppt,$ppw.timer.callLater(this,this._changeCanvasSize)}),$ppt(0,$ppr,"alignV",function(){return this._alignV},function($ppt){this._alignV=$ppt,$ppw.timer.callLater(this,this._changeCanvasSize)}),$ppt(0,$ppr,"bgColor",function(){return this._bgColor},function($ppt){this._bgColor=$ppt,this.conchModel&&this.conchModel.bgColor($ppt),$ppS.isWebGL&&($ppt?$ppje._wgColor=$ppPt.create($ppt)._color:$ppC.onMiniGame||($ppje._wgColor=null)),$ppC.onLimixiu?$ppje._wgColor=$ppPt.create($ppt)._color:$ppS.canvas.style.background=$ppt||"none"}),$ppt(0,$ppr,"mouseX",function(){return Math.round($ppU.instance.mouseX/this.clientScaleX)}),$ppt(0,$ppr,"mouseY",function(){return Math.round($ppU.instance.mouseY/this.clientScaleY)}),$ppt(0,$ppr,"screenMode",function(){return this._screenMode},function($ppt){this._screenMode=$ppt}),$ppt(0,$ppr,"visible",$ppKe.prototype._$get_visible,function($ppt){this.visible!==$ppt&&($ppw.superSet($ppLe,this,"visible",$ppt),$ppS._mainCanvas.source.style.visibility=$ppt?"visible":"hidden")}),$ppt(0,$ppr,"fullScreenEnabled",null,function($ppt){var $ppe=$ppC.document;var $ppi=$ppS.canvas;$ppt?($ppi.addEventListener("mousedown",this._requestFullscreen),$ppi.addEventListener("touchstart",this._requestFullscreen),$ppe.addEventListener("fullscreenchange",this._fullScreenChanged),$ppe.addEventListener("mozfullscreenchange",this._fullScreenChanged),$ppe.addEventListener("webkitfullscreenchange",this._fullScreenChanged),$ppe.addEventListener("msfullscreenchange",this._fullScreenChanged)):($ppi.removeEventListener("mousedown",this._requestFullscreen),$ppi.removeEventListener("touchstart",this._requestFullscreen),$ppe.removeEventListener("fullscreenchange",this._fullScreenChanged),$ppe.removeEventListener("mozfullscreenchange",this._fullScreenChanged),$ppe.removeEventListener("webkitfullscreenchange",this._fullScreenChanged),$ppe.removeEventListener("msfullscreenchange",this._fullScreenChanged))}),$ppje.SCALE_NOSCALE="noscale",$ppje.SCALE_EXACTFIT="exactfit",$ppje.SCALE_SHOWALL="showall",$ppje.SCALE_NOBORDER="noborder",$ppje.SCALE_FULL="full",$ppje.SCALE_FIXED_WIDTH="fixedwidth",$ppje.SCALE_FIXED_HEIGHT="fixedheight",$ppje.SCALE_FIXED_AUTO="fixedauto",$ppje.ALIGN_LEFT="left",$ppje.ALIGN_RIGHT="right",$ppje.ALIGN_CENTER="center",$ppje.ALIGN_TOP="top",$ppje.ALIGN_MIDDLE="middle",$ppje.ALIGN_BOTTOM="bottom",$ppje.SCREEN_NONE="none",$ppje.SCREEN_HORIZONTAL="horizontal",$ppje.SCREEN_VERTICAL="vertical",$ppje.FRAME_FAST="fast",$ppje.FRAME_SLOW="slow",$ppje.FRAME_MOUSE="mouse",$ppje.FRAME_SLEEP="sleep",$ppje.FRAME_MOUSE_THREDHOLD=2e3,$ppl($ppje,["_wgColor",function(){return this._wgColor=[0,0,0,1]}]);var $ppXe=$ppje;function $ppje(){this.focus=null,this.designWidth=0,this.designHeight=0,this.canvasRotation=!1,this.canvasDegree=0,this.renderingEnabled=!0,this.screenAdaptationEnabled=!0,this._screenMode="none",this._scaleMode="noscale",this._alignV="top",this._alignH="left",this._bgColor="black",this._mouseMoveTime=0,this._renderCount=0,this._frameStartTime=NaN,this._isFocused=!1,this._isVisibility=!1,this._scenes=null,this._frameRate="fast",$ppje.__super.call(this),this.offset=new $ppnt,this._canvasTransform=new $ppet,this._previousOrientation=$ppC.window.orientation;var $ppe=this;this.transform=$ppet.create(),this._scenes=[],this.mouseEnabled=!0,this.hitTestPrior=!0,this.autoSize=!1,this._displayedInStage=!0,this._isFocused=!0,this._isVisibility=!0;var $ppt=$ppC.window;var $ppi=this;$ppt.addEventListener("focus",function(){$ppe._isFocused=!0,$ppi.event("focus"),$ppi.event("focuschange")}),$ppt.addEventListener("blur",function(){$ppe._isFocused=!1,$ppi.event("blur"),$ppi.event("focuschange"),$ppi._isInputting()&&($ppsi.inputElement.target.focus=!1)});var $ppn="visibilityState",$ppr="visibilitychange";var $pps=$ppt.document;void 0!==$pps.hidden?($ppr="visibilitychange",$ppn="visibilityState"):void 0!==$pps.mozHidden?($ppr="mozvisibilitychange",$ppn="mozVisibilityState"):void 0!==$pps.msHidden?($ppr="msvisibilitychange",$ppn="msVisibilityState"):void 0!==$pps.webkitHidden&&($ppr="webkitvisibilitychange",$ppn="webkitVisibilityState"),$ppt.document.addEventListener($ppr,function(){"hidden"==$ppC.document[$ppn]?$ppi._setStageVisible(!1):$ppi._setStageVisible(!0)}),$ppt.document.addEventListener("qbrowserVisibilityChange",function($ppt){$ppi._setStageVisible(!$ppt.hidden)}),$ppt.addEventListener("resize",function(){var $ppt=$ppC.window.orientation;null!=$ppt&&$ppt!=$ppe._previousOrientation&&$ppi._isInputting()&&($ppsi.inputElement.target.focus=!1),$ppe._previousOrientation=$ppt,$ppi._isInputting()||$ppi._resetCanvas()}),$ppt.addEventListener("orientationchange",function($ppt){$ppi._resetCanvas()}),this.on("mousemove",this,this._onmouseMove),$ppC.onMobile&&this.on("mousedown",this,this._onmouseMove)}var $ppKe;$ppc($ppqe,"laya.media.SoundNode",$ppLe),($ppr=$ppqe.prototype)._onParentChange=function(){this.target=this.parent},$ppr.play=function($ppt,$ppe){void 0===$ppt&&($ppt=1),isNaN($ppt)&&($ppt=1),this.url&&(this.stop(),this._channel=$ppot.playSound(this.url,$ppt,$ppe))},$ppr.stop=function(){this._channel&&!this._channel.isStopped&&this._channel.stop(),this._channel=null},$ppr._setPlayAction=function($ppt,$ppe,$ppi,$ppn){void 0===$ppn&&($ppn=!0),this[$ppi]&&$ppt&&($ppn?$ppt.on($ppe,this,this[$ppi]):$ppt.off($ppe,this,this[$ppi]))},$ppr._setPlayActions=function($ppt,$ppe,$ppi,$ppn){if(void 0===$ppn&&($ppn=!0),$ppt&&$ppe){var $ppr=$ppe.split(",");var $pps,$ppa=0;for($pps=$ppr.length,$ppa=0;$ppa<$pps;$ppa++)this._setPlayAction($ppt,$ppr[$ppa],$ppi,$ppn)}},$ppt(0,$ppr,"playEvent",null,function($ppt){(this._playEvents=$ppt)&&this._tar&&this._setPlayActions(this._tar,$ppt,"play")}),$ppt(0,$ppr,"target",null,function($ppt){this._tar&&(this._setPlayActions(this._tar,this._playEvents,"play",!1),this._setPlayActions(this._tar,this._stopEvents,"stop",!1)),this._tar=$ppt,this._tar&&(this._setPlayActions(this._tar,this._playEvents,"play",!0),this._setPlayActions(this._tar,this._stopEvents,"stop",!0))}),$ppt(0,$ppr,"stopEvent",null,function($ppt){(this._stopEvents=$ppt)&&this._tar&&this._setPlayActions(this._tar,$ppt,"stop")});function $ppqe(){this.url=null,this._channel=null,this._tar=null,this._playEvents=null,this._stopEvents=null,$ppqe.__super.call(this),this.visible=!1,this.on("added",this,this._onParentChange),this.on("removed",this,this._onParentChange)}$ppc($pp$e,"laya.resource.FileBitmap",$ppn),$ppt(0,$ppr=$pp$e.prototype,"src",function(){return this._src},function($ppt){this._src=$ppt}),$ppt(0,$ppr,"onload",null,function($ppt){}),$ppt(0,$ppr,"onerror",null,function($ppt){});$ppr=$pp$e;function $pp$e(){this._src=null,this._onload=null,this._onerror=null,$pp$e.__super.call(this)}$ppc($ppQe,"laya.resource.HTMLCanvas",$ppn),($ppii=$ppQe.prototype).clear=function(){this._ctx&&this._ctx.clear()},$ppii.destroy=function(){this._ctx&&this._ctx.destroy(),this._ctx=null,laya.resource.Resource.prototype.destroy.call(this)},$ppii.release=function(){},$ppii._setContext=function($ppt){this._ctx=$ppt},$ppii.getContext=function($ppt,$ppe){return this._ctx||(this._ctx=$ppQe._createContext(this))},$ppii.getMemSize=function(){return 0},$ppii.size=function($ppt,$ppe){this._w==$ppt&&this._h==$ppe&&(!this._source||this._source.width==$ppt&&this._source.height==$ppe)||(this._w=$ppt,this._h=$ppe,this.memorySize=this._w*this._h*4,this._ctx&&this._ctx.size($ppt,$ppe),this._source&&(this._source.height=$ppe,this._source.width=$ppt))},$ppii.getCanvas=function(){return this._source},$ppii.toBase64=function($ppt,$ppe,$ppi){this._source&&($ppS.isConchApp&&this._source.toBase64?this._source.toBase64($ppt,$ppe,$ppi):($ppt=this._source.toDataURL($ppt,$ppe),$ppi.call(this,$ppt)))},$ppt(0,$ppii,"context",function(){return this._ctx}),$ppt(0,$ppii,"asBitmap",null,function($ppt){}),$ppQe.create=function($ppt,$ppe){return new $ppQe($ppt,$ppe)},$ppQe.TYPE2D="2D",$ppQe.TYPE3D="3D",$ppQe.TYPEAUTO="AUTO",$ppQe._createContext=null;var $ppZe=$ppQe;function $ppQe($ppt,$ppe){this._is2D=!1,$ppQe.__super.call(this);var $ppi=this;var $ppn;this._source=this,"2D"!==$ppt&&("AUTO"!==$ppt||$ppS.isWebGL)||(this._is2D=!0,this._source=$ppe||$ppC.createElement("canvas"),this._w=this._source.width,this._h=this._source.height,($ppn=this).getContext=function($ppt,$ppe){if($ppi._ctx)return $ppi._ctx;$ppt=$ppi._ctx=$ppi._source.getContext($ppt,$ppe);return $ppt&&($ppt._canvas=$ppn,$ppS.isFlash||$ppC.onLimixiu||($ppt.size=function($ppt,$ppe){})),$ppt}),this.lock=!0}$ppc($ppJe,"laya.resource.HTMLSubImage",$ppn),$ppJe.create=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){return void 0===$ppo&&($ppo=!1),new $ppJe};function $ppJe($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){throw $ppJe.__super.call(this),new Error("不允许new！")}$ppc($ppti,"laya.display.Animation",$ppei=$ppi),($ppii=$ppti.prototype).destroy=function($ppt){void 0===$ppt&&($ppt=!0),this.stop(),laya.display.Sprite.prototype.destroy.call(this,$ppt),this._frames=null,this._labels=null},$ppii.play=function($ppt,$ppe,$ppi,$ppn){void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=!0),void 0===$ppn&&($ppn=!0),($ppi=void 0===$ppi?"":$ppi)&&this._setFramesFromCache($ppi,$ppn),this._isPlaying=!0,this.index="string"==typeof $ppt?this._getFrameByLabel($ppt):$ppt,this.loop=$ppe,this._actionName=$ppi,this._isReverse=1==this.wrapMode,this._frames&&0<this.interval&&this.timerLoop(this.interval,this,this._frameLoop,null,!0,!0)},$ppii._setFramesFromCache=function($ppt,$ppe){var $ppi;return void 0===$ppe&&($ppe=!1),($ppt=this._url?this._url+"#"+$ppt:$ppt)&&$ppti.framesMap[$ppt]?(($ppi=$ppti.framesMap[$ppt])instanceof Array?(this._frames=$ppti.framesMap[$ppt],this._count=this._frames.length):($ppi.nodeRoot&&($ppti.framesMap[$ppt]=this._parseGraphicAnimationByData($ppi),$ppi=$ppti.framesMap[$ppt]),this._frames=$ppi.frames,this._count=this._frames.length,this._frameRateChanged||(this._interval=$ppi.interval),this._labels=this._copyLabels($ppi.labels)),!0):($ppe&&console.log("ani not found:",$ppt),!1)},$ppii._copyLabels=function($ppt){if(!$ppt)return null;var $ppe;for(var $ppi in $ppe={},$ppt)$ppe[$ppi]=$ppJt.copyArray([],$ppt[$ppi]);return $ppe},$ppii._frameLoop=function(){this._style.visible&&.01<this._style.alpha&&$ppei.prototype._frameLoop.call(this)},$ppii._displayToIndex=function($ppt){this._frames&&(this.graphics=this._frames[$ppt])},$ppii.clear=function(){this.stop(),this.graphics=null,this._frames=null,this._labels=null},$ppii.loadImages=function($ppt,$ppe){return void 0===$ppe&&($ppe=""),this._url="",this._setFramesFromCache($ppe)||(this.frames=$ppti.framesMap[$ppe]||$ppti.createFrames($ppt,$ppe)),this},$ppii.loadAtlas=function($ppe,$ppi,$ppn){void 0===$ppn&&($ppn=""),this._url="";var $ppr=this;function $ppt($ppt){$ppe===$ppt&&($ppr.frames=$ppti.framesMap[$ppn]||$ppti.createFrames($ppe,$ppn),$ppi&&$ppi.run())}return $ppr._setFramesFromCache($ppn)||($ppxe.getAtlas($ppe)?$ppt($ppe):$ppw.loader.load($ppe,$ppv.create(null,$ppt,[$ppe]),null,"atlas")),this},$ppii.loadAnimation=function($ppt,$ppe,$ppi){this._url=$ppt;return this._actionName||(this._actionName=""),this._setFramesFromCache("")?(this._setFramesFromCache(this._actionName,!0),this.index=0,$ppe&&$ppe.run()):!$ppi||$ppxe.getAtlas($ppi)?this._loadAnimationData($ppt,$ppe,$ppi):$ppw.loader.load($ppi,$ppv.create(this,this._loadAnimationData,[$ppt,$ppe,$ppi]),null,"atlas"),this},$ppii._loadAnimationData=function($ppa,$ppo,$ppt){var $pph=this;var $ppl;function $ppe($ppt){if($ppxe.getRes($ppt)&&$ppa===$ppt){var $ppe;if($ppti.framesMap[$ppa+"#"])$ppl._setFramesFromCache($pph._actionName,!0),$pph.index=0,$pph._checkResumePlaying();else{$ppt=$ppl._parseGraphicAnimation($ppxe.getRes($ppa));if(!$ppt)return;var $ppi=$ppt.animationList;var $ppn=0,$ppr=$ppi.length;var $pps;for($ppn=0;$ppn<$ppr;$ppn++)$ppe=$ppi[$ppn],$ppti.framesMap[$ppa+"#"+$ppe.name]=$ppe,$pps=$pps||$ppe;$pps&&($ppti.framesMap[$ppa+"#"]=$pps,$ppl._setFramesFromCache($pph._actionName,!0),$pph.index=0),$pph._checkResumePlaying()}$ppo&&$ppo.run()}}!$ppt||$ppxe.getAtlas($ppt)?($ppl=this,$ppxe.getRes($ppa)?$ppe($ppa):$ppw.loader.load($ppa,$ppv.create(null,$ppe,[$ppa]),null,"json"),$ppxe.clearRes($ppa)):console.warn("atlas load fail:"+$ppt)},$ppii._parseGraphicAnimation=function($ppt){return $pp_i.parseAnimationData($ppt)},$ppii._parseGraphicAnimationByData=function($ppt){return $pp_i.parseAnimationByData($ppt)},$ppt(0,$ppii,"frames",function(){return this._frames},function($ppt){(this._frames=$ppt)&&(this._count=$ppt.length,this._isPlaying?this.play(this._index,this.loop,this._actionName):this.index=this._index)}),$ppt(0,$ppii,"autoPlay",null,function($ppt){$ppt?this.play():this.stop()}),$ppt(0,$ppii,"source",null,function($ppt){-1<$ppt.indexOf(".ani")?this.loadAnimation($ppt):-1<$ppt.indexOf(".json")||-1<$ppt.indexOf("als")||-1<$ppt.indexOf("atlas")?this.loadAtlas($ppt):this.loadImages($ppt.split(","))}),$ppt(0,$ppii,"autoAnimation",null,function($ppt){this.play(0,!0,$ppt,!1)}),$ppti.createFrames=function($ppt,$ppe){var $ppi,$ppn,$ppr=0,$pps=0;if("string"==typeof $ppt){var $ppa=$ppxe.getAtlas($ppt);if($ppa&&$ppa.length)for($ppi=[],$ppr=0,$pps=$ppa.length;$ppr<$pps;$ppr++)($ppn=new $ppm.createGraphics).drawTexture($ppxe.getRes($ppa[$ppr]),0,0),$ppi.push($ppn)}else if($ppt instanceof Array)for($ppi=[],$ppr=0,$pps=$ppt.length;$ppr<$pps;$ppr++)($ppn=new $ppm.createGraphics).loadImage($ppt[$ppr],0,0),$ppi.push($ppn);return $ppe&&($ppti.framesMap[$ppe]=$ppi),$ppi},$ppti.clearCache=function($ppt){var $ppe=$ppt+"#";for(var $ppi in $ppti.framesMap)$ppi!==$ppt&&0!=$ppi.indexOf($ppe)||delete $ppti.framesMap[$ppi]},$ppti.framesMap={};function $ppti(){this._frames=null,this._url=null,$ppti.__super.call(this),this._setControlNode(this)}var $ppei;$ppc($ppni,"laya.display.FrameAnimation",$ppri=$ppi),($ppn=$ppni.prototype)._setUp=function($ppt,$ppe){this._labels=null,this._animationNewFrames=null,this._targetDic=$ppt,this._animationData=$ppe,this.interval=1e3/$ppe.frameRate,$ppe.parsed?(this._count=$ppe.count,this._labels=$ppe.labels,this._animationNewFrames=$ppe.animationNewFrames):(this._animationNewFrames=[],this._calculateDatas()),$ppe.parsed=!0,$ppe.labels=this._labels,$ppe.count=this._count,$ppe.animationNewFrames=this._animationNewFrames},$ppn.clear=function(){$ppri.prototype.clear.call(this),this._targetDic=null,this._animationData=null},$ppn._displayToIndex=function($ppt){if(this._animationData){($ppt=$ppt<0?0:$ppt)>this._count&&($ppt=this._count);var $ppe=this._animationData.nodes,$ppi=0,$ppn=$ppe.length;for($ppi=0;$ppi<$ppn;$ppi++)this._displayNodeToFrame($ppe[$ppi],$ppt)}},$ppn._displayNodeToFrame=function($ppt,$ppe,$ppi){var $ppn=($ppi=$ppi||this._targetDic)[$ppt.target];if($ppn){var $ppr,$pps,$ppa=$ppt.frames;var $ppo=$ppt.keys,$pph=0,$ppl=$ppo.length;for($pph=0;$pph<$ppl;$pph++)$pps=($pps=$ppa[$ppr=$ppo[$pph]]).length>$ppe?$pps[$ppe]:$pps[$pps.length-1],$ppn[$ppr]=$pps}},$ppn._calculateDatas=function(){if(this._animationData){var $ppt,$ppe=this._animationData.nodes,$ppi=0,$ppn=$ppe.length;for($ppi=this._count=0;$ppi<$ppn;$ppi++)$ppt=$ppe[$ppi],this._calculateNodeKeyFrames($ppt);this._count+=1}},$ppn._calculateNodeKeyFrames=function($ppt){var $ppe,$ppi,$ppn=$ppt.keyframes,$ppr=$ppt.target;for($ppe in $ppt.frames||($ppt.frames={}),$ppt.keys?$ppt.keys.length=0:$ppt.keys=[],$ppt.initValues||($ppt.initValues={}),$ppn)$ppi=$ppn[$ppe],$ppt.frames[$ppe]||($ppt.frames[$ppe]=[]),this._targetDic&&this._targetDic[$ppr]&&($ppt.initValues[$ppe]=this._targetDic[$ppr][$ppe]),$ppi.sort($ppni._sortIndexFun),$ppt.keys.push($ppe),this._calculateNodePropFrames($ppi,$ppt.frames[$ppe],$ppe,$ppr)},$ppn.resetToInitState=function(){if(this._targetDic&&this._animationData){var $ppt=this._animationData.nodes,$ppe=0,$ppi=$ppt.length;var $ppn;var $ppr;for($ppe=0;$ppe<$ppi;$ppe++)if($ppr=($ppn=$ppt[$ppe]).initValues){var $pps=this._targetDic[$ppn.target];if($pps)for(var $ppa in $ppr)$pps[$ppa]=$ppr[$ppa]}}},$ppn._calculateNodePropFrames=function($ppt,$ppe,$ppi,$ppn){var $ppr=0,$pps=$ppt.length-1;for($ppe.length=$ppt[$pps].index+1,$ppr=0;$ppr<$pps;$ppr++)this._dealKeyFrame($ppt[$ppr]),this._calculateFrameValues($ppt[$ppr],$ppt[$ppr+1],$ppe);0==$pps&&($ppe[$ppt[0].index]=$ppt[0].value,this._animationNewFrames&&(this._animationNewFrames[$ppt[0].index]=!0)),this._dealKeyFrame($ppt[$ppr])},$ppn._dealKeyFrame=function($ppt){$ppt.label&&""!=$ppt.label&&this.addLabel($ppt.label,$ppt.index)},$ppn._calculateFrameValues=function($ppt,$ppe,$ppi){var $ppn,$ppr=0;var $pps=$ppt.index,$ppa=$ppe.index;var $ppo=$ppt.value;var $pph=$ppe.value-$ppt.value;var $ppl=$ppa-$pps;if($ppa>this._count&&(this._count=$ppa),$ppt.tween)for(null==($ppn=$ppFt[$ppt.tweenMethod])&&($ppn=$ppFt.linearNone),$ppr=$pps;$ppr<$ppa;$ppr++)$ppi[$ppr]=$ppn($ppr-$pps,$ppo,$pph,$ppl),this._animationNewFrames&&(this._animationNewFrames[$ppr]=!0);else for($ppr=$pps;$ppr<$ppa;$ppr++)$ppi[$ppr]=$ppo;this._animationNewFrames&&(this._animationNewFrames[$ppt.index]=!0,this._animationNewFrames[$ppe.index]=!0),$ppi[$ppe.index]=$ppe.value},$ppni._sortIndexFun=null;var $ppii=$ppni;function $ppni(){this._targetDic=null,this._animationData=null,this._animationNewFrames=null,$ppni.__super.call(this),null==$ppni._sortIndexFun&&($ppni._sortIndexFun=$ppJ.sortByKey("index",!1,!0))}var $ppri;$ppc($ppai,"laya.display.Input",$ppoi=$ppWe),($ppi=$ppai.prototype).setSelection=function($ppt,$ppe){this.focus=!0,laya.display.Input.inputElement.selectionStart=$ppt,laya.display.Input.inputElement.selectionEnd=$ppe},$ppi._onUnDisplay=function($ppt){this.focus=!1},$ppi._onMouseDown=function($ppt){this.focus=!0},$ppi._syncInputTransform=function(){var $ppt=this.nativeInput;var $ppe=$ppJt.getTransformRelativeToWindow(this,this.padding[3],this.padding[0]);var $ppi=this._width-this.padding[1]-this.padding[3];var $ppn=this._height-this.padding[0]-this.padding[2];$ppS.isConchApp?($ppt.setScale($ppe.scaleX,$ppe.scaleY),$ppt.setSize($ppi,$ppn),$ppt.setPos($ppe.x,$ppe.y)):($ppai.inputContainer.style.transform=$ppai.inputContainer.style.webkitTransform="scale("+$ppe.scaleX+","+$ppe.scaleY+") rotate("+$ppw.stage.canvasDegree+"deg)",$ppt.style.width=$ppi+"px",$ppt.style.height=$ppn+"px",$ppai.inputContainer.style.left=$ppe.x+"px",$ppai.inputContainer.style.top=$ppe.y+"px")},$ppi.select=function(){this.nativeInput.select()},$ppi._setInputMethod=function(){$ppai.input.parentElement&&$ppai.inputContainer.removeChild($ppai.input),$ppai.area.parentElement&&$ppai.inputContainer.removeChild($ppai.area),$ppai.inputElement=this._multiline?$ppai.area:$ppai.input,$ppai.inputContainer.appendChild($ppai.inputElement),$ppWe.RightToLeft&&($ppai.inputElement.style.direction="rtl")},$ppi._focusIn=function(){laya.display.Input.isInputting=!0;var $ppt=this.nativeInput;this._focus=!0;var $ppe=$ppt.style;$ppe.whiteSpace=this.wordWrap?"pre-wrap":"nowrap",this._setPromptColor(),$ppt.readOnly=!this._editable,$ppS.isConchApp&&($ppt.setType(this._type),$ppt.setForbidEdit(!this._editable)),$ppt.maxLength=this._maxChars;this.padding;$ppt.type=this._type,$ppt.value=this._content,$ppt.placeholder=this._prompt,$ppw.stage.off("keydown",this,this._onKeyDown),$ppw.stage.on("keydown",this,this._onKeyDown),($ppw.stage.focus=this).event("focus"),$ppC.onPC&&$ppt.focus(),$ppC.onMiniGame||(this._text,this._text=null),this.typeset(),$ppt.setColor(this._originColor),$ppt.setFontSize(this.fontSize),$ppt.setFontFace($ppC.onIPhone&&$ppWe._fontFamilyMap[this.font]||this.font),$ppS.isConchApp&&$ppt.setMultiAble&&$ppt.setMultiAble(this._multiline),$ppe.lineHeight=this.leading+this.fontSize+"px",$ppe.fontStyle=this.italic?"italic":"normal",$ppe.fontWeight=this.bold?"bold":"normal",$ppe.textAlign=this.align,$ppe.padding="0 0",this._syncInputTransform(),!$ppS.isConchApp&&$ppC.onPC&&$ppw.timer.frameLoop(1,this,this._syncInputTransform)},$ppi._setPromptColor=function(){($ppai.promptStyleDOM=$ppC.getElementById("promptStyle"))||(($ppai.promptStyleDOM=$ppC.createElement("style")).setAttribute("id","promptStyle"),$ppC.document.head.appendChild($ppai.promptStyleDOM)),$ppai.promptStyleDOM.innerText="input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {color:"+this._promptColor+"}input:-moz-placeholder, textarea:-moz-placeholder {color:"+this._promptColor+"}input::-moz-placeholder, textarea::-moz-placeholder {color:"+this._promptColor+"}input:-ms-input-placeholder, textarea:-ms-input-placeholder {color:"+this._promptColor+"}"},$ppi._focusOut=function(){laya.display.Input.isInputting=!1,this._focus=!1,this._text=null,this._content=this.nativeInput.value,this._content?($ppw.superSet($ppWe,this,"text",this._content),$ppw.superSet($ppWe,this,"color",this._originColor)):($ppw.superSet($ppWe,this,"text",this._prompt),$ppw.superSet($ppWe,this,"color",this._promptColor)),$ppw.stage.off("keydown",this,this._onKeyDown),$ppw.stage.focus=null,this.event("blur"),$ppS.isConchApp&&this.nativeInput.blur(),$ppC.onPC&&$ppw.timer.clear(this,this._syncInputTransform)},$ppi._onKeyDown=function($ppt){13===$ppt.keyCode&&($ppC.onMobile&&!this._multiline&&(this.focus=!1),this.event("enter"))},$ppi.changeText=function($ppt){this._content=$ppt,this._focus?(this.nativeInput.value=$ppt||"",this.event("change")):$ppoi.prototype.changeText.call(this,$ppt)},$ppt(0,$ppi,"color",$ppoi.prototype._$get_color,function($ppt){this._focus&&this.nativeInput.setColor($ppt),$ppw.superSet($ppWe,this,"color",this._content?$ppt:this._promptColor),this._originColor=$ppt}),$ppt(0,$ppi,"inputElementYAdjuster",function(){return console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementYAdjuster已弃用。"),0},function($ppt){console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementYAdjuster已弃用。")}),$ppt(0,$ppi,"multiline",function(){return this._multiline},function($ppt){this._multiline=$ppt,this.valign=$ppt?"top":"middle"}),$ppt(0,$ppi,"maxChars",function(){return this._maxChars},function($ppt){this._maxChars=$ppt=$ppt<=0?1e5:$ppt}),$ppt(0,$ppi,"text",function(){return this._focus?this.nativeInput.value:this._content||""},function($ppt){$ppw.superSet($ppWe,this,"color",this._originColor),$ppt+="",this._focus?(this.nativeInput.value=$ppt||"",this.event("change")):(this._multiline||($ppt=$ppt.replace(/\r?\n/g,"")),(this._content=$ppt)?$ppw.superSet($ppWe,this,"text",$ppt):($ppw.superSet($ppWe,this,"text",this._prompt),$ppw.superSet($ppWe,this,"color",this.promptColor)))}),$ppt(0,$ppi,"nativeInput",function(){return this._multiline?$ppai.area:$ppai.input}),$ppt(0,$ppi,"prompt",function(){return this._prompt},function($ppt){!this._text&&$ppt&&$ppw.superSet($ppWe,this,"color",this._promptColor),this.promptColor=this._promptColor,this._text?$ppw.superSet($ppWe,this,"text",this._text==this._prompt?$ppt:this._text):$ppw.superSet($ppWe,this,"text",$ppt),this._prompt=$ppWe.langPacks&&$ppWe.langPacks[$ppt]?$ppWe.langPacks[$ppt]:$ppt}),$ppt(0,$ppi,"focus",function(){return this._focus},function($ppt){var $ppe=this.nativeInput;this._focus!==$ppt&&($ppt?($ppe.target?$ppe.target._focusOut():this._setInputMethod(),($ppe.target=this)._focusIn()):($ppe.target=null,this._focusOut(),$ppC.document.body.scrollTop=0,$ppe.blur(),$ppS.isConchApp?$ppe.setPos(-1e4,-1e4):$ppai.inputContainer.contains($ppe)&&$ppai.inputContainer.removeChild($ppe)))}),$ppt(0,$ppi,"restrict",function(){return this._restrictPattern?this._restrictPattern.source:""},function($ppt){$ppt?(-1<($ppt="[^"+$ppt+"]").indexOf("^^")&&($ppt=$ppt.replace("^^","")),this._restrictPattern=new RegExp($ppt,"g")):this._restrictPattern=null}),$ppt(0,$ppi,"editable",function(){return this._editable},function($ppt){this._editable=$ppt,$ppS.isConchApp&&$ppai.input.setForbidEdit(!$ppt)}),$ppt(0,$ppi,"promptColor",function(){return this._promptColor},function($ppt){this._promptColor=$ppt,this._content||$ppw.superSet($ppWe,this,"color",$ppt)}),$ppt(0,$ppi,"type",function(){return this._type},function($ppt){this._getCSSStyle().password="password"==$ppt,this._type=$ppt,$ppS.isConchApp&&this.nativeInput.setType($ppt)}),$ppt(0,$ppi,"inputElementXAdjuster",function(){return console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementXAdjuster已弃用。"),0},function($ppt){console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementXAdjuster已弃用。")}),$ppt(0,$ppi,"asPassword",function(){return this._getCSSStyle().password},function($ppt){this._getCSSStyle().password=$ppt,this._type="password",console.warn('deprecated: 使用type="password"替代设置asPassword, asPassword将在下次重大更新时删去'),this.isChanged=!0}),$ppai.__init__=function(){$ppai._createInputElement(),$ppC.onMobile&&$ppS.canvas.addEventListener(!$ppai.IOS_IFRAME||$ppC.onMiniGame?"touchend":"click",$ppai._popupInputMethod)},$ppai._popupInputMethod=function($ppt){laya.display.Input.isInputting&&laya.display.Input.inputElement.focus()},$ppai._createInputElement=function(){$ppai._initInput($ppai.area=$ppC.createElement("textarea")),$ppai._initInput($ppai.input=$ppC.createElement("input")),($ppai.inputContainer=$ppC.createElement("div")).style.position="absolute",$ppai.inputContainer.style.zIndex=1e5,$ppC.container.appendChild($ppai.inputContainer),$ppai.inputContainer.setPos=function($ppt,$ppe){$ppai.inputContainer.style.left=$ppt+"px",$ppai.inputContainer.style.top=$ppe+"px"}},$ppai._initInput=function($ppe){var $ppt=$ppe.style;$ppt.cssText="position:absolute;overflow:hidden;resize:none;transform-origin:0 0;-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-o-transform-origin:0 0;",$ppt.resize="none",$ppt.backgroundColor="transparent",$ppt.border="none",$ppt.outline="none",$ppt.zIndex=1,$ppe.addEventListener("input",$ppai._processInputting),$ppe.addEventListener("mousemove",$ppai._stopEvent),$ppe.addEventListener("mousedown",$ppai._stopEvent),$ppe.addEventListener("touchmove",$ppai._stopEvent),$ppe.setFontFace=function($ppt){$ppe.style.fontFamily=$ppt},$ppS.isConchApp||($ppe.setColor=function($ppt){$ppe.style.color=$ppt},$ppe.setFontSize=function($ppt){$ppe.style.fontSize=$ppt+"px"})},$ppai._processInputting=function($ppt){var $ppe=laya.display.Input.inputElement.target;var $ppi;$ppe&&($ppi=laya.display.Input.inputElement.value,$ppe._restrictPattern&&($ppi=$ppi.replace(/\u2006|\x27/g,""),$ppe._restrictPattern.test($ppi)&&($ppi=$ppi.replace($ppe._restrictPattern,""),laya.display.Input.inputElement.value=$ppi)),$ppe._text=$ppi,$ppe.event("input"))},$ppai._stopEvent=function($ppt){"touchmove"==$ppt.type&&$ppt.preventDefault(),$ppt.stopPropagation&&$ppt.stopPropagation()},$ppai.TYPE_TEXT="text",$ppai.TYPE_PASSWORD="password",$ppai.TYPE_EMAIL="email",$ppai.TYPE_URL="url",$ppai.TYPE_NUMBER="number",$ppai.TYPE_RANGE="range",$ppai.TYPE_DATE="date",$ppai.TYPE_MONTH="month",$ppai.TYPE_WEEK="week",$ppai.TYPE_TIME="time",$ppai.TYPE_DATE_TIME="datetime",$ppai.TYPE_DATE_TIME_LOCAL="datetime-local",$ppai.TYPE_SEARCH="search",$ppai.input=null,$ppai.area=null,$ppai.inputElement=null,$ppai.inputContainer=null,$ppai.confirmButton=null,$ppai.promptStyleDOM=null,$ppai.inputHeight=45,$ppai.isInputting=!1,$ppai.stageMatrix=null,$ppl($ppai,["IOS_IFRAME",function(){return this.IOS_IFRAME=$ppC.onIOS&&$ppC.window.top!=$ppC.window.self}]);var $ppsi=$ppai;function $ppai(){this._focus=!1,this._multiline=!1,this._editable=!0,this._restrictPattern=null,this._type="text",this._prompt="",this._promptColor="#A9A9A9",this._originColor="#000000",this._content="",$ppai.__super.call(this),this._maxChars=1e5,this._width=100,this._height=20,this.multiline=!1,this.overflow=$ppWe.SCROLL,this.on("mousedown",this,this._onMouseDown),this.on("undisplay",this,this._onUnDisplay)}var $ppoi;$ppc($ppli,"laya.resource.HTMLImage",$ppr),($ppn=$ppli.prototype)._init_=function($ppt,$ppe){this._src=$ppt,this._source=new $ppC.window.Image,$ppe&&($ppe.onload&&(this.onload=$ppe.onload),$ppe.onerror&&(this.onerror=$ppe.onerror),$ppe.onCreate&&$ppe.onCreate(this)),0!=$ppt.indexOf("data:image")&&(this._source.crossOrigin=""),$ppt&&(this._source.src=$ppt)},$ppn.recreateResource=function(){var $ppt=this;if(""===this._src)throw new Error("src no null！");var $ppe;this._needReleaseAgain=!1,this._source?this._recreateLock||(this.memorySize=this._w*this._h*4,this._recreateLock=!1,this.completeCreate()):(this._recreateLock=!0,($ppe=this)._source=new $ppC.window.Image,this._source.crossOrigin="",this._source.onload=function(){if($ppe._needReleaseAgain)return $ppe._needReleaseAgain=!1,$ppe._source.onload=null,void($ppe._source=null);$ppe._source.onload=null,$ppe.memorySize=$ppt._w*$ppt._h*4,$ppe._recreateLock=!1,$ppe.completeCreate()},this._source.src=this._src)},$ppn.disposeResource=function(){this._recreateLock&&(this._needReleaseAgain=!0),this._source&&(this._source=null,this.memorySize=0)},$ppn.onresize=function(){this._w=this._source.width,this._h=this._source.height},$ppt(0,$ppn,"onload",null,function($ppt){var $ppe=this;this._onload=$ppt,this._source&&(this._source.onload=null!=this._onload?function(){$ppe.onresize(),$ppe._onload()}:null)}),$ppt(0,$ppn,"onerror",null,function($ppt){var $ppe=this;this._onerror=$ppt,this._source&&(this._source.onerror=null!=this._onerror?function(){$ppe._onerror()}:null)}),$ppt(0,$ppn,"enableMerageInAtlas",function(){return this._enableMerageInAtlas},function($ppt){this._enableMerageInAtlas=$ppt,$ppS.isConchApp&&this._source&&(this._source.enableMerageInAtlas=$ppt)}),$ppli.create=function($ppt,$ppe){return new $ppli($ppt,$ppe)};var $pphi=$ppli;function $ppli($ppt,$ppe){this._recreateLock=!1,this._needReleaseAgain=!1,this._enableMerageInAtlas=!0,$ppli.__super.call(this),this._init_($ppt,$ppe)}$ppc($ppci,"laya.display.EffectAnimation",$ppui=$ppii),($ppi=$ppci.prototype)._onOtherBegin=function($ppt){$ppt!=this&&this.stop()},$ppi.addEvent=function(){this._target&&this._playEvents&&(this._setControlNode(this._target),this._target.on(this._playEvents,this,this._onPlayAction))},$ppi._onPlayAction=function(){this.play(0,!1)},$ppi.play=function($ppt,$ppe,$ppi,$ppn){void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=!0),void 0===$ppi&&($ppi=""),void 0===$ppn&&($ppn=!0),this._target&&(this._target.event("effectanimationbegin",[this]),this._recordInitData(),laya.display.AnimationPlayerBase.prototype.play.call(this,$ppt,$ppe,$ppi,$ppn))},$ppi._recordInitData=function(){if(this._aniKeys){var $ppt,$ppe=0;var $ppi;for($ppt=this._aniKeys.length,$ppe=0;$ppe<$ppt;$ppe++)$ppi=this._aniKeys[$ppe],this._initData[$ppi]=this._target[$ppi]}},$ppi._displayToIndex=function($ppt){if(this._animationData){($ppt=$ppt<0?0:$ppt)>this._count&&($ppt=this._count);var $ppe=this._animationData.nodes,$ppi=0,$ppn=$ppe.length;for($ppn=1<$ppn?1:$ppn,$ppi=0;$ppi<$ppn;$ppi++)this._displayNodeToFrame($ppe[$ppi],$ppt)}},$ppi._displayNodeToFrame=function($ppt,$ppe,$ppc){if(this._target){var $ppi;$ppi=this._target;var $ppn,$ppr,$ppu=$ppt.frames;var $pps=$ppt.keys,$ppa=0,$pp_=$pps.length;var $ppo;$ppo=$ppt.secondFrames;var $pph;var $ppl;for($ppa=0;$ppa<$pp_;$ppa++)$ppr=$ppu[$ppn=$pps[$ppa]],$pph=-1==($ppl=$ppo[$ppn])?this._initData[$ppn]:$ppe<$ppl?($pph=($ppl=$ppt.keyframes[$ppn])[0]).tween?(null==($pph=$ppFt[$pph.tweenMethod])&&($pph=$ppFt.linearNone),$ppl=$ppl[1],$pph($ppe,this._initData[$ppn],$ppl.value-this._initData[$ppn],$ppl.index)):this._initData[$ppn]:$ppr.length>$ppe?$ppr[$ppe]:$ppr[$ppr.length-1],$ppi[$ppn]=$pph}},$ppi._calculateNodeKeyFrames=function($ppt){$ppui.prototype._calculateNodeKeyFrames.call(this,$ppt);var $ppe,$ppi,$ppn=$ppt.keyframes;$ppt.target;var $ppr;for($ppe in $ppt.secondFrames=$ppr={},$ppn)($ppi=$ppn[$ppe]).length<=1?$ppr[$ppe]=-1:$ppr[$ppe]=$ppi[1].index},$ppt(0,$ppi,"target",function(){return this._target},function($ppt){this._target&&this._target.off("effectanimationbegin",this,this._onOtherBegin),this._target=$ppt,this._target&&this._target.on("effectanimationbegin",this,this._onOtherBegin),this.addEvent()}),$ppt(0,$ppi,"playEvent",null,function($ppt){(this._playEvents=$ppt)&&this.addEvent()}),$ppt(0,$ppi,"effectData",null,function($ppt){var $ppe;$ppt&&($ppe=$ppt.animations)&&$ppe[0]&&(this._setUp({},$ppe[0]),$ppe[0].nodes&&$ppe[0].nodes[0]&&(this._aniKeys=$ppe[0].nodes[0].keys))}),$ppt(0,$ppi,"effectClass",null,function($ppt){var $ppe,$ppi;this._effectClass=$ppIt.getClass($ppt),this._effectClass&&($ppe=this._effectClass.uiView)&&($ppi=$ppe.animations)&&$ppi[0]&&(this._setUp({},$ppi[0]),$ppi[0].nodes&&$ppi[0].nodes[0]&&(this._aniKeys=$ppi[0].nodes[0].keys))}),$ppci.EffectAnimationBegin="effectanimationbegin";function $ppci(){this._target=null,this._playEvents=null,this._initData={},this._aniKeys=null,this._effectClass=null,$ppci.__super.call(this)}var $ppui;$ppc($ppdi,"laya.utils.GraphicAnimation",$ppfi=$ppii),($ppr=$ppdi.prototype)._parseNodeList=function($ppt){this._nodeList||(this._nodeList=[]),this._nodeDefaultProps[$ppt.compId]=$ppt.props,$ppt.compId&&this._nodeList.push($ppt.compId);var $ppe=$ppt.child;if($ppe){var $ppi=0,$ppn=$ppe.length;for($ppi=0;$ppi<$ppn;$ppi++)this._parseNodeList($ppe[$ppi])}},$ppr._calGraphicData=function($ppt){if(this._setUp(null,$ppt),this._createGraphicData(),this._nodeIDAniDic)for(var $ppe in this._nodeIDAniDic)this._nodeIDAniDic[$ppe]=null},$ppr._createGraphicData=function(){var $ppt=[];var $ppe=0,$ppi=this.count;var $ppn=this._animationNewFrames;var $ppr;for($ppn=$ppn||[],$ppe=0;$ppe<$ppi;$ppe++)!$ppn[$ppe]&&$ppr||($ppr=this._createFrameGraphic($ppe)),$ppt.push($ppr);this._gList=$ppt},$ppr._createFrameGraphic=function($ppt){var $ppe=$ppm.createGraphics();return $ppdi._rootMatrix||($ppdi._rootMatrix=new $ppet),this._updateNodeGraphic(this._rootNode,$ppt,$ppdi._rootMatrix,$ppe),$ppe},$ppr._updateNodeGraphic=function($ppt,$ppe,$ppc,$ppi,$ppn){var $ppr;void 0===$ppn&&($ppn=1);var $pps=($ppr=this._nodeGDic[$ppt.compId]=this._getNodeGraphicData($ppt.compId,$ppe,this._nodeGDic[$ppt.compId])).alpha*$ppn;var $ppa;var $ppo;var $pph;if(!($pps<.01)&&($ppr.resultTransform||($ppr.resultTransform=$ppet.create()),$ppa=$ppr.resultTransform,$ppet.mul($ppr.transform,$ppc,$ppa),$ppr.skin&&($ppo=this._getTextureByUrl($ppr.skin))&&($ppa._checkTransform()?($ppi.drawTexture($ppo,0,0,$ppr.width,$ppr.height,$ppa,$pps),$ppr.resultTransform=null):$ppi.drawTexture($ppo,$ppa.tx,$ppa.ty,$ppr.width,$ppr.height,null,$pps)),$pph=$ppt.child)){var $ppu,$ppl=0;for($ppu=$pph.length,$ppl=0;$ppl<$ppu;$ppl++)this._updateNodeGraphic($pph[$ppl],$ppe,$ppa,$ppi,$pps)}},$ppr._updateNoChilds=function($ppt,$ppe){var $ppi,$ppn;!$ppt.skin||($ppi=this._getTextureByUrl($ppt.skin))&&(($ppn=$ppt.transform)._checkTransform(),!$ppn.bTransform?$ppe.drawTexture($ppi,$ppn.tx,$ppn.ty,$ppt.width,$ppt.height,null,$ppt.alpha):$ppe.drawTexture($ppi,0,0,$ppt.width,$ppt.height,$ppn.clone(),$ppt.alpha))},$ppr._updateNodeGraphic2=function($ppt,$ppe,$ppi){var $ppn;if($ppn=this._nodeGDic[$ppt.compId]=this._getNodeGraphicData($ppt.compId,$ppe,this._nodeGDic[$ppt.compId]),$ppt.child){var $ppr=$ppn.transform;$ppr._checkTransform();var $pps;var $ppa;$ppa=($pps=!$ppr.bTransform)&&(0!=$ppr.tx||0!=$ppr.ty);var $ppo;var $pph;var $ppc;if(($ppo=$ppr.bTransform||1!=$ppn.alpha)&&$ppi.save(),1!=$ppn.alpha&&$ppi.alpha($ppn.alpha),$pps?$ppa&&$ppi.translate($ppr.tx,$ppr.ty):$ppi.transform($ppr.clone()),$pph=$ppt.child,$ppn.skin&&($ppc=this._getTextureByUrl($ppn.skin))&&$ppi.drawTexture($ppc,0,0,$ppn.width,$ppn.height),$pph){var $ppu,$ppl=0;for($ppu=$pph.length,$ppl=0;$ppl<$ppu;$ppl++)this._updateNodeGraphic2($pph[$ppl],$ppe,$ppi)}$ppo?$ppi.restore():$pps?$ppa&&$ppi.translate(-$ppr.tx,-$ppr.ty):$ppi.transform($ppr.clone().invert())}else this._updateNoChilds($ppn,$ppi)},$ppr._calculateNodeKeyFrames=function($ppt){$ppfi.prototype._calculateNodeKeyFrames.call(this,$ppt),this._nodeIDAniDic[$ppt.target]=$ppt},$ppr.getNodeDataByID=function($ppt){return this._nodeIDAniDic[$ppt]},$ppr._getParams=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppdi._temParam;$ppr.length=$ppe.length;var $pps=0,$ppa=$ppe.length;for($pps=0;$pps<$ppa;$pps++)$ppr[$pps]=this._getObjVar($ppt,$ppe[$pps][0],$ppi,$ppe[$pps][1],$ppn);return $ppr},$ppr._getObjVar=function($ppt,$ppe,$ppi,$ppn,$ppr){if($ppt.hasOwnProperty($ppe)){var $pps=$ppt[$ppe];if($ppi>=$pps.length&&($ppi=$pps.length-1),null!=$ppt[$ppe][$ppi])return $ppt[$ppe][$ppi]}return $ppr.hasOwnProperty($ppe)?$ppr[$ppe]:$ppn},$ppr._getNodeGraphicData=function($ppt,$ppe,$ppi){($ppi=$ppi||$pppi.create()).transform?$ppi.transform.identity():$ppi.transform=$ppet.create();var $ppn=this.getNodeDataByID($ppt);if(!$ppn)return $ppi;$ppn=$ppn.frames;$ppn=this._getParams($ppn,$ppdi._drawTextureCmd,$ppe,this._nodeDefaultProps[$ppt]);$ppe=$ppn[0];var $ppt=NaN,$ppr=NaN;var $pps=$ppn[5],$ppa=$ppn[6];var $ppo=$ppn[13],$pph=$ppn[14];var $ppc=$ppn[7],$ppu=$ppn[8];var $pp_=$ppn[9];var $ppd=$ppn[11],$ppf=$ppn[12];var $ppl;$ppt=$ppn[3],$ppr=$ppn[4],0!=$ppt&&0!=$ppr||($ppe=null),-1==$ppt&&($ppt=0),-1==$ppr&&($ppr=0),$ppi.skin=$ppe,$ppi.width=$ppt,$ppi.height=$ppr,$ppe&&(($ppl=this._getTextureByUrl($ppe))?($ppt=$ppt||$ppl.sourceWidth,$ppr=$ppr||$ppl.sourceHeight):console.warn("lost skin:",$ppe,",you may load pics first")),$ppi.alpha=$ppn[10],$ppl=$ppi.transform,0!=$pph&&($ppa=$pph*$ppr),0==($pps=0!=$ppo?$ppo*$ppt:$pps)&&0==$ppa||$ppl.translate(-$pps,-$ppa);$ppe=null;return($pp_||1!==$ppc||1!==$ppu||$ppd||$ppf)&&(($ppe=$ppdi._tempMt).identity(),$ppe.bTransform=!0,$pph=.0174532922222222*($pp_-$ppd),$ppr=.0174532922222222*($pp_+$ppf),$ppo=Math.cos($ppr),$ppt=Math.sin($ppr),$pps=Math.sin($pph),$ppa=Math.cos($pph),$ppe.a=$ppc*$ppo,$ppe.b=$ppc*$ppt,$ppe.c=-$ppu*$pps,$ppe.d=$ppu*$ppa,$ppe.tx=$ppe.ty=0),($ppl=$ppe?$ppet.mul($ppl,$ppe,$ppl):$ppl).translate($ppn[1],$ppn[2]),$ppi},$ppr._getTextureByUrl=function($ppt){return $ppxe.getRes($ppt)},$ppr.setAniData=function($ppt,$ppe){if($ppt.animations){this._nodeDefaultProps={},this._nodeGDic={},this._nodeList&&(this._nodeList.length=0),this._rootNode=$ppt,this._parseNodeList($ppt);var $ppi={};var $ppn=[];var $ppr=$ppt.animations;var $pps=0,$ppa=$ppr.length;var $ppo;for($pps=0;$pps<$ppa;$pps++)if($ppo=$ppr[$pps],this._labels=null,(!$ppe||$ppe==$ppo.name)&&$ppo){try{this._calGraphicData($ppo)}catch($ppt){console.warn("parse animation fail:"+$ppo.name+",empty animation created"),this._gList=[]}var $pph={};$pph.interval=1e3/$ppo.frameRate,$pph.frames=this._gList,$pph.labels=this._labels,$pph.name=$ppo.name,$ppn.push($pph),$ppi[$ppo.name]=$pph}this.animationList=$ppn,this.animationDic=$ppi}$ppdi._temParam.length=0},$ppr.parseByData=function($ppt){var $ppe;$ppi=$ppt.nodeRoot,$ppe=$ppt.aniO,delete $ppt.nodeRoot,delete $ppt.aniO,this._nodeDefaultProps={},this._nodeGDic={},this._nodeList&&(this._nodeList.length=0),this._rootNode=$ppi,this._parseNodeList($ppi),this._labels=null;try{this._calGraphicData($ppe)}catch($ppt){console.warn("parse animation fail:"+$ppe.name+",empty animation created"),this._gList=[]}var $ppi=$ppt;return $ppi.interval=1e3/$ppe.frameRate,$ppi.frames=this._gList,$ppi.labels=this._labels,$ppi.name=$ppe.name,$ppi},$ppr.setUpAniData=function($ppt){if($ppt.animations){var $ppe={};var $ppi=[];var $ppn=$ppt.animations;var $ppr=0,$pps=$ppn.length;var $ppa;for($ppr=0;$ppr<$pps;$ppr++){var $ppo;($ppa=$ppn[$ppr])&&(($ppo={}).name=$ppa.name,$ppo.aniO=$ppa,$ppo.nodeRoot=$ppt,$ppi.push($ppo),$ppe[$ppa.name]=$ppo)}this.animationList=$ppi,this.animationDic=$ppe}},$ppr._clear=function(){if(this.animationList=null,this.animationDic=null,this._gList=null,this._nodeGDic)for(var $ppt in this._nodeGDic)($ppt=this._nodeGDic[$ppt])&&$ppt.recover();this._nodeGDic=null},$ppdi.parseAnimationByData=function($ppt){return $ppt=($ppdi._I=$ppdi._I?$ppdi._I:new $ppdi).parseByData($ppt),$ppdi._I._clear(),$ppt},$ppdi.parseAnimationData=function($ppt){return($ppdi._I=$ppdi._I?$ppdi._I:new $ppdi).setUpAniData($ppt),($ppt={}).animationList=$ppdi._I.animationList,$ppt.animationDic=$ppdi._I.animationDic,$ppdi._I._clear(),$ppt},$ppdi._drawTextureCmd=[["skin",null],["x",0],["y",0],["width",-1],["height",-1],["pivotX",0],["pivotY",0],["scaleX",1],["scaleY",1],["rotation",0],["alpha",1],["skewX",0],["skewY",0],["anchorX",0],["anchorY",0]],$ppdi._temParam=[],$ppdi._I=null,$ppdi._rootMatrix=null,$ppl($ppdi,["_tempMt",function(){return this._tempMt=new $ppet}]),$ppdi.__init$=function(){function $ppt(){this.skin=null,this.transform=null,this.resultTransform=null,this.width=NaN,this.height=NaN,this.alpha=1}$ppc($ppt,""),$ppt.prototype.recover=function(){this.skin=null,this.width=0,this.height=0,this.alpha=1,this.transform&&(this.transform.destroy(),this.transform=null),this.resultTransform&&(this.resultTransform.destroy(),this.resultTransform=null),$ppGt.recover("GraphicNode",this)},$ppt.create=function(){return $ppGt.getItemByClass("GraphicNode",$ppt)},$pppi=$ppt};var $pp_i=$ppdi;function $ppdi(){this.animationList=null,this.animationDic=null,this._nodeList=null,this._nodeDefaultProps=null,this._gList=null,this._nodeIDAniDic={},this._rootNode=null,this._nodeGDic=null,$ppdi.__super.call(this)}var $ppfi,$pppi,$ppr;$ppw.__init([$ppf,$ppbe,$ppS,$ppC,$ppKt,$ppht,$ppPe,$pp_i])}(window,document,Laya),function(){Laya.un,Laya.uns,Laya.static;var $ppt=Laya.class;Laya.getset,Laya.__newvec;function $ppe(){}$ppt($ppe,"LayaMain")}((window,document)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function($ppt,$ppe){"use strict";for(var $ppi in Object.defineProperty($ppe,"__esModule",{value:!0}),Laya){var $ppn=Laya[$ppi];$ppn&&$ppn.__isclass&&($ppe[$ppi]=$ppn)}}),function($ppo,$pph){$pph.un,$pph.uns;var $ppt=$pph.static,$ppe=$pph.class,$ppd=$pph.getset;$pph.__newvec;var $ppl=laya.utils.Browser,$ppf=(laya.events.Event,laya.events.EventDispatcher);var $ppp=laya.resource.HTMLImage,$ppm=laya.utils.Handler,$ppg=laya.display.Input,$ppv=laya.net.Loader;var $ppy=laya.net.LocalStorage,$ppx=(laya.maths.Matrix,laya.renders.Render),$ppw=laya.utils.RunDriver;var $ppb=laya.media.SoundChannel,$ppT=laya.media.SoundManager,$ppS=laya.net.URL,$ppC=laya.utils.Utils;$ppe($ppn,"laya.wx.mini.MiniAdpter"),$ppn.getJson=function($ppt){return JSON.parse($ppt)},$ppn.init=function($ppt,$ppe){if(void 0===$ppt&&($ppt=!1),void 0===$ppe&&($ppe=!1),!($ppn._inited||($ppn._inited=!0,($ppn.window=$ppo).navigator.userAgent.indexOf("MiniGame")<0))){$ppn.isZiYu=$ppe,$ppn.isPosMsgYu=$ppt,$ppn.EnvConfig={};try{laya.webgl.resource.WebGLCanvas.premulAlpha=!0}catch($ppt){}$ppn.isZiYu||($ppu.setNativeFileDir("/layaairGame"),$ppu.existDir($ppu.fileNativeDir,$ppm.create($ppn,$ppn.onMkdirCallBack))),$ppn.systemInfo=wx.getSystemInfoSync(),$ppn.window.focus=function(){},$pph._getUrlPath=function(){},$ppn.window.logtime=function($ppt){},$ppn.window.alertTimeLog=function($ppt){},$ppn.window.resetShareInfo=function(){},$ppn.window.CanvasRenderingContext2D=function(){},$ppn.window.CanvasRenderingContext2D.prototype=$ppn.window.wx.createCanvas().getContext("2d").__proto__,$ppn.window.document.body.appendChild=function(){},$ppn.EnvConfig.pixelRatioInt=0,$ppw.getPixelRatio=$ppn.pixelRatio,$ppn._preCreateElement=$ppl.createElement,$ppl.createElement=$ppn.createElement,$ppw.createShaderCondition=$ppn.createShaderCondition,$ppC.parseXMLFromString=$ppn.parseXMLFromString,$ppg._createInputElement=$ppA._createInputElement,$ppn.EnvConfig.load=$ppv.prototype.load,$ppv.prototype.load=$ppP.prototype.load,$ppv.prototype._loadImage=$ppM.prototype._loadImage,($ppy._baseClass=$ppI).__init__(),$ppn.onReciveData()}},$ppn.onReciveData=function(){laya.wx.mini.MiniAdpter.isZiYu&&wx.onMessage(function($ppt){"opendatacontext"==$ppt.isLoad?$ppt.url&&($ppu.ziyuFileData[$ppt.url]=$ppt.atlasdata,$ppu.ziyuFileTextureData[$ppt.imgReadyUrl]=$ppt.imgNativeUrl):"openJsondatacontext"==$ppt.isLoad&&$ppt.url&&($ppu.ziyuFileData[$ppt.url]=$ppt.atlasdata)})},$ppn.measureText=function($ppt){$ppt=$ppn._measureText($ppt);return $ppt||($ppt={width:16},console.warn("-------微信获取文字宽度失败----等待修复---------")),$ppt},$ppn.getUrlEncode=function($ppt,$ppe){return-1!=$ppt.indexOf(".fnt")?"utf8":"arraybuffer"==$ppe?"":"ascii"},$ppn.downLoadFile=function($ppt,$ppe,$ppi,$ppn){void 0===$ppe&&($ppe=""),void 0===$ppn&&($ppn="ascii"),$ppu.getFileInfo($ppt)?null!=$ppi&&$ppi.runWith([0]):$ppu.downLoadFile($ppt,$ppe,$ppi,$ppn)},$ppn.remove=function($ppt,$ppe){$ppu.deleteFile("",$ppt,$ppe,"",0)},$ppn.removeAll=function(){$ppu.deleteAll()},$ppn.hasNativeFile=function($ppt){return $ppu.isLocalNativeFile($ppt)},$ppn.getFileInfo=function($ppt){return $ppu.getFileInfo($ppt)},$ppn.getFileList=function(){return $ppu.filesListObj},$ppn.exitMiniProgram=function(){$ppn.window.wx.exitMiniProgram()},$ppn.onMkdirCallBack=function($ppt,$ppe){$ppt||($ppu.filesListObj=JSON.parse($ppe.data))},$ppn.pixelRatio=function(){if(!$ppn.EnvConfig.pixelRatioInt)try{return $ppn.EnvConfig.pixelRatioInt=$ppn.systemInfo.pixelRatio,$ppn.systemInfo.pixelRatio}catch($ppt){}return $ppn.EnvConfig.pixelRatioInt},$ppn.createElement=function($ppt){return"canvas"!=$ppt?"textarea"==$ppt||"input"==$ppt?$ppn.onCreateInput($ppt):"div"==$ppt?(($ppi=$ppn._preCreateElement($ppt)).contains=function($ppt){return null},$ppi.removeChild=function($ppt){},$ppi):$ppn._preCreateElement($ppt):(1==$ppn.idx?$ppn.isZiYu?($ppe=sharedCanvas).style={}:$ppe=$ppo.canvas:$ppe=$ppo.wx.createCanvas(),$ppn.idx++,$ppe);var $ppe;var $ppi},$ppn.onCreateInput=function($ppt){$ppt=$ppn._preCreateElement($ppt);return $ppt.focus=$ppA.wxinputFocus,$ppt.blur=$ppA.wxinputblur,$ppt.style={},$ppt.value=0,$ppt.parentElement={},$ppt.placeholder={},$ppt.type={},$ppt.setColor=function($ppt){},$ppt.setType=function($ppt){},$ppt.setFontFace=function($ppt){},$ppt.addEventListener=function($ppt){},$ppt.contains=function($ppt){return null},$ppt.removeChild=function($ppt){},$ppt},$ppn.createShaderCondition=function($ppt){var $ppe=this;return function(){return $ppe[$ppt.replace("this.","")]}},$ppn.sendAtlasToOpenDataContext=function($ppt){if(!laya.wx.mini.MiniAdpter.isZiYu){var $ppe=$ppv.getRes($ppt);if(!$ppe)throw"传递的url没有获取到对应的图集数据信息，请确保图集已经过！";$ppe={frames:$ppe.frames,meta:$ppe.meta};var $ppi;$ppi=$ppt.indexOf(".atlas")?$ppt.replace(".atlas",".png"):$ppt.replace(".json",".png");var $ppn=$ppu.getFileInfo($ppi).md5;$ppn=$ppu.getFileNativePath($ppn);if(!$ppn)throw"获取图集的磁盘url路径不存在！";wx.postMessage({url:$ppt,atlasdata:$ppe,imgNativeUrl:$ppn,imgReadyUrl:$ppi,isLoad:"opendatacontext"})}},$ppn.sendJsonDataToDataContext=function($ppt){if(!laya.wx.mini.MiniAdpter.isZiYu){var $ppe=$ppv.getRes($ppt);if(!$ppe)throw"传递的url没有获取到对应的图集数据信息，请确保图集已经过！";wx.postMessage({url:$ppt,atlasdata:$ppe,isLoad:"openJsondatacontext"})}},$ppn.EnvConfig=null,$ppn.window=null,$ppn._preCreateElement=null,$ppn._inited=!1,$ppn.systemInfo=null,$ppn.isZiYu=!1,$ppn.isPosMsgYu=!1,$ppn.autoCacheFile=!0,$ppn.minClearSize=5242880,$ppn.AutoCacheDownFile=!1,$ppn._measureText=null,$ppn.parseXMLFromString=function($ppt){var $ppe;$ppt=$ppt.replace(/>\s+</g,"><");try{$ppe=(new $ppo.Parser.DOMParser).parseFromString($ppt,"text/xml")}catch($ppt){throw"需要引入xml解析库文件"}return $ppe},$ppn.idx=1,$ppt($ppn,["nativefiles",function(){return this.nativefiles=["layaNativeDir","wxlocal"]}]);var $ppc=$ppn;function $ppn(){}$ppe($pp_,"laya.wx.mini.MiniFileMgr"),$pp_.isLocalNativeFile=function($ppt){for(var $ppe=0,$ppi=$ppc.nativefiles.length;$ppe<$ppi;$ppe++)if(-1!=$ppt.indexOf($ppc.nativefiles[$ppe]))return!0;return!1},$pp_.getFileInfo=function($ppt){$ppt=$pp_.filesListObj[$ppt];return null==$ppt?null:$ppt},$pp_.read=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){void 0===$ppe&&($ppe="ascill"),void 0===$ppr&&($ppr=!1),void 0===$pps&&($pps=""),$ppt=""==($ppn=void 0===$ppn?"":$ppn)||-1==$ppn.indexOf("http://")&&-1==$ppn.indexOf("https://")?$ppt:$pp_.getFileNativePath($ppt),$pp_.fs.readFile({filePath:$ppt,encoding:$ppe,success:function($ppt){null!=$ppi&&$ppi.runWith([0,$ppt])},fail:function($ppt){$ppt&&""!=$ppn?$pp_.downFiles($ppn,$ppe,$ppi,$ppn,$ppr,$pps):null!=$ppi&&$ppi.runWith([1])}})},$pp_.downFiles=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){void 0===$ppe&&($ppe="ascii"),void 0===$ppn&&($ppn=""),void 0===$ppr&&($ppr=!1),void 0===$pps&&($pps=""),void 0===$ppa&&($ppa=!0),$pp_.wxdown({url:$ppt,success:function($ppt){200===$ppt.statusCode?$pp_.readFile($ppt.tempFilePath,$ppe,$ppi,$ppn,$ppr,$pps,$ppa):null!=$ppi&&$ppi.runWith([1,$ppt])},fail:function($ppt){null!=$ppi&&$ppi.runWith([1,$ppt])}}).onProgressUpdate(function($ppt){null!=$ppi&&$ppi.runWith([2,$ppt.progress])})},$pp_.readFile=function($ppe,$ppi,$ppn,$ppr,$pps,$ppt,$ppa){void 0===$ppi&&($ppi="ascill"),void 0===$ppr&&($ppr=""),void 0===$pps&&($pps=!1),void 0===$ppt&&($ppt=""),void 0===$ppa&&($ppa=!0),$pp_.fs.readFile({filePath:$ppe,encoding:$ppi,success:function($ppt){-1!=$ppe.indexOf("http://")||-1!=$ppe.indexOf("https://")?($ppc.autoCacheFile||$pps)&&$pp_.copyFile($ppe,$ppr,$ppn,$ppi,$ppa):null!=$ppn&&$ppn.runWith([0,$ppt])},fail:function($ppt){$ppt&&null!=$ppn&&$ppn.runWith([1,$ppt])}})},$pp_.downOtherFiles=function($ppt,$ppe,$ppi,$ppn,$ppr){void 0===$ppi&&($ppi=""),void 0===$ppn&&($ppn=!1),void 0===$ppr&&($ppr=!0),$pp_.wxdown({url:$ppt,success:function($ppt){200===$ppt.statusCode&&(($ppc.autoCacheFile||$ppn)&&-1==$ppi.indexOf("wx.qlogo.cn")&&-1==$ppi.indexOf(".php")?$pp_.copyFile($ppt.tempFilePath,$ppi,$ppe,"",$ppr):null!=$ppe&&$ppe.runWith([0,$ppt.tempFilePath]))},fail:function($ppt){null!=$ppe&&$ppe.runWith([1,$ppt])}})},$pp_.downLoadFile=function($ppt,$ppe,$ppi,$ppn){void 0===$ppe&&($ppe=""),void 0===$ppn&&($ppn="ascii"),$ppo.navigator.userAgent.indexOf("MiniGame")<0?$pph.loader.load($ppt,$ppi):"image"==$ppe||"sound"==$ppe?$pp_.downOtherFiles($ppt,$ppi,$ppt,!0,!1):$pp_.downFiles($ppt,$ppn,$ppi,$ppt,!0,$ppe,!1)},$pp_.copyFile=function($ppt,$ppi,$ppn,$ppr,$pps){void 0===$ppr&&($ppr=""),void 0===$pps&&($pps=!0);var $ppe=$ppt.split("/");var $ppa=$ppe[$ppe.length-1];$ppe=$pp_.getFileInfo($ppi);var $ppo=$pp_.getFileNativePath($ppa);var $pph=$pp_.getCacheUseSize();$ppe?$ppe.readyUrl!=$ppi?$pp_.fs.getFileInfo({filePath:$ppt,success:function($ppt){$pps&&52428800<=$pph+4194304+$ppt.size&&($ppt.size>$ppc.minClearSize&&($ppc.minClearSize=$ppt.size),$pp_.onClearCacheRes()),$pp_.deleteFile($ppa,$ppi,$ppn,$ppr,$ppt.size)},fail:function($ppt){null!=$ppn&&$ppn.runWith([1,$ppt])}}):null!=$ppn&&$ppn.runWith([0]):$pp_.fs.getFileInfo({filePath:$ppt,success:function($ppe){$pps&&52428800<=$pph+4194304+$ppe.size&&($ppe.size>$ppc.minClearSize&&($ppc.minClearSize=$ppe.size),$pp_.onClearCacheRes()),$pp_.fs.copyFile({srcPath:$ppt,destPath:$ppo,success:function($ppt){$pp_.onSaveFile($ppi,$ppa,!0,$ppr,$ppn,$ppe.size)},fail:function($ppt){null!=$ppn&&$ppn.runWith([1,$ppt])}})},fail:function($ppt){null!=$ppn&&$ppn.runWith([1,$ppt])}})},$pp_.onClearCacheRes=function(){var $ppt=$ppc.minClearSize;var $ppe=[];for(var $ppi in $pp_.filesListObj)$ppe.push($pp_.filesListObj[$ppi]);$pp_.sortOn($ppe,"time",16);var $ppn=0;for(var $ppr=1,$pps=$ppe.length;$ppr<$pps;$ppr++){var $ppa=$ppe[$ppr];if($ppt<=$ppn)break;$ppn+=$ppa.size,$pp_.deleteFile("",$ppa.readyUrl)}},$pp_.sortOn=function($ppt,$ppi,$ppe){return 16==($ppe=void 0===$ppe?0:$ppe)?$ppt.sort(function($ppt,$ppe){return $ppt[$ppi]-$ppe[$ppi]}):18==$ppe?$ppt.sort(function($ppt,$ppe){return $ppe[$ppi]-$ppt[$ppi]}):$ppt.sort(function($ppt,$ppe){return $ppt[$ppi]-$ppe[$ppi]})},$pp_.getFileNativePath=function($ppt){return laya.wx.mini.MiniFileMgr.fileNativeDir+"/"+$ppt},$pp_.deleteFile=function($ppn,$ppr,$pps,$ppa,$ppo){void 0===$ppr&&($ppr=""),void 0===$ppa&&($ppa=""),void 0===$ppo&&($ppo=0);var $ppt=$pp_.getFileInfo($ppr);$ppt=$pp_.getFileNativePath($ppt.md5);$pp_.fs.unlink({filePath:$ppt,success:function($ppt){var $ppe=""!=$ppn;var $ppi;""!=$ppn?($ppi=$pp_.getFileNativePath($ppn),$pp_.fs.copyFile({srcPath:$ppn,destPath:$ppi,success:function($ppt){$pp_.onSaveFile($ppr,$ppn,$ppe,$ppa,$pps,$ppt.size)},fail:function($ppt){null!=$pps&&$pps.runWith([1,$ppt])}})):$pp_.onSaveFile($ppr,$ppn,$ppe,$ppa,$pps,$ppo)},fail:function($ppt){}})},$pp_.deleteAll=function(){var $ppt=[];for(var $ppe in $pp_.filesListObj)$ppt.push($pp_.filesListObj[$ppe]);for(var $ppi=1,$ppn=$ppt.length;$ppi<$ppn;$ppi++){var $ppr=$ppt[$ppi];$pp_.deleteFile("",$ppr.readyUrl)}},$pp_.onSaveFile=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){void 0===$ppi&&($ppi=!0),void 0===$ppn&&($ppn=""),void 0===$pps&&($pps=0);var $ppa=$ppt;null==$pp_.filesListObj.fileUsedSize&&($pp_.filesListObj.fileUsedSize=0),$ppi?($pp_.getFileNativePath($ppe),$pp_.filesListObj[$ppa]={md5:$ppe,readyUrl:$ppt,size:$pps,times:$ppl.now(),encoding:$ppn},$pp_.filesListObj.fileUsedSize=parseInt($pp_.filesListObj.fileUsedSize)+$pps,$pp_.writeFilesList($ppa,JSON.stringify($pp_.filesListObj),!0),null!=$ppr&&$ppr.runWith([0])):$pp_.filesListObj[$ppa]&&($ppi=parseInt($pp_.filesListObj[$ppa].size),$pp_.filesListObj.fileUsedSize=parseInt($pp_.filesListObj.fileUsedSize)-$ppi,delete $pp_.filesListObj[$ppa],$pp_.writeFilesList($ppa,JSON.stringify($pp_.filesListObj),!1),null!=$ppr&&$ppr.runWith([0]))},$pp_.writeFilesList=function($ppt,$ppe,$ppi){$pp_.fs.writeFile({filePath:$pp_.fileNativeDir+"/"+$pp_.fileListName,encoding:"utf8",data:$ppe,success:function($ppt){},fail:function($ppt){}}),!$ppc.isZiYu&&$ppc.isPosMsgYu&&wx.postMessage({url:$ppt,data:$pp_.filesListObj[$ppt],isLoad:"filenative",isAdd:$ppi})},$pp_.getCacheUseSize=function(){return $pp_.filesListObj&&$pp_.filesListObj.fileUsedSize?$pp_.filesListObj.fileUsedSize:0},$pp_.existDir=function($ppt,$ppe){$pp_.fs.mkdir({dirPath:$ppt,success:function($ppt){null!=$ppe&&$ppe.runWith([0,{data:JSON.stringify({})}])},fail:function($ppt){-1!=$ppt.errMsg.indexOf("file already exists")?$pp_.readSync($pp_.fileListName,"utf8",$ppe):null!=$ppe&&$ppe.runWith([1,$ppt])}})},$pp_.readSync=function($ppt,$ppe,$ppi,$ppn){void 0===$ppe&&($ppe="ascill"),void 0===$ppn&&($ppn="");$ppn=$pp_.getFileNativePath($ppt);var $ppr;try{$ppr=$pp_.fs.readFileSync($ppn,$ppe),null!=$ppi&&$ppi.runWith([0,{data:$ppr}])}catch($ppt){null!=$ppi&&$ppi.runWith([1])}},$pp_.setNativeFileDir=function($ppt){$pp_.fileNativeDir=wx.env.USER_DATA_PATH+$ppt},$pp_.filesListObj={},$pp_.fileNativeDir=null,$pp_.fileListName="layaairfiles.txt",$pp_.ziyuFileData={},$pp_.ziyuFileTextureData={},$pp_.loadPath="",$pp_.DESCENDING=2,$pp_.NUMERIC=16,$ppt($pp_,["fs",function(){return this.fs=wx.getFileSystemManager()},"wxdown",function(){return this.wxdown=wx.downloadFile}]);var $ppu=$pp_;function $pp_(){}$ppe($ppE,"laya.wx.mini.MiniImage"),$ppE.prototype._loadImage=function($ppt){var $ppe,$ppi;$ppc.isZiYu?$ppE.onCreateImage($ppt,this,!0):($ppe=!1,$ppu.isLocalNativeFile($ppt)?-1==$ppt.indexOf("http://")&&-1==$ppt.indexOf("https://")||(""!=$ppu.loadPath?$ppt=$ppt.split($ppu.loadPath)[1]:""!=($ppi=""!=$ppS.rootPath?$ppS.rootPath:$ppS.basePath)&&($ppt=$ppt.split($ppi)[1])):($ppe=!0,$ppt=$ppS.formatURL($ppt)),$ppu.getFileInfo($ppt)?$ppE.onCreateImage($ppt,this,!$ppe):-1==$ppt.indexOf("http://")&&-1==$ppt.indexOf("https://")||$ppc.isZiYu?$ppE.onCreateImage($ppt,this,!0):$ppu.downOtherFiles($ppt,new $ppm($ppE,$ppE.onDownImgCallBack,[$ppt,this]),$ppt))},$ppE.onDownImgCallBack=function($ppt,$ppe,$ppi,$ppn){void 0===$ppn&&($ppn=""),$ppi?$ppe.onError(null):$ppE.onCreateImage($ppt,$ppe,!1,$ppn)},$ppE.onCreateImage=function($ppe,$ppi,$ppt,$ppn){var $ppr;var $pps;function $ppa(){$pps.onload=null,$pps.onerror=null,delete $ppi.imgCache[$ppe]}void 0===$ppt&&($ppt=!1),void 0===$ppn&&($ppn=""),$ppr=$ppc.autoCacheFile?$ppt?$ppc.isZiYu?($ppr=$ppS.formatURL($ppe),$ppu.ziyuFileTextureData[$ppr]||$ppe):$ppe:""!=$ppn?$ppn:($ppr=$ppu.getFileInfo($ppe).md5,$ppu.getFileNativePath($ppr)):$ppt?$ppe:$ppn,null==$ppi.imgCache&&($ppi.imgCache={});function $ppo(){$ppa(),$ppi._url=$ppS.formatURL($ppi._url),$ppi.onLoaded($pps)}function $pph(){$ppa(),$ppi.event("error","Load image failed")}"nativeimage"==$ppi._type?(($pps=new $ppl.window.Image).crossOrigin="",$pps.onload=$ppo,$pps.onerror=$pph,$pps.src=$ppr,$ppi.imgCache[$ppe]=$pps):new $ppp.create($ppr,{onload:$ppo,onerror:$pph,onCreate:function($ppt){$pps=$ppt,$ppi.imgCache[$ppe]=$ppt}})};var $ppM=$ppE;function $ppE(){}$ppe($ppD,"laya.wx.mini.MiniInput"),$ppD._createInputElement=function(){$ppg._initInput($ppg.area=$ppl.createElement("textarea")),$ppg._initInput($ppg.input=$ppl.createElement("input")),$ppg.inputContainer=$ppl.createElement("div"),$ppg.inputContainer.style.position="absolute",$ppg.inputContainer.style.zIndex=1e5,$ppl.container.appendChild($ppg.inputContainer),$ppg.inputContainer.setPos=function($ppt,$ppe){$ppg.inputContainer.style.left=$ppt+"px",$ppg.inputContainer.style.top=$ppe+"px"},$pph.stage.on("resize",null,$ppD._onStageResize),wx.onWindowResize&&wx.onWindowResize(function($ppt){$ppo.dispatchEvent&&$ppo.dispatchEvent("resize")}),$ppT._soundClass=$ppB,$ppT._musicClass=$ppB;var $ppt=$ppc.systemInfo.model;var $ppe=$ppc.systemInfo.system;-1!=$ppt.indexOf("iPhone")&&($ppl.onIPhone=!0,$ppl.onIOS=!0,$ppl.onIPad=!0,$ppl.onAndroid=!1),-1==$ppe.indexOf("Android")&&-1==$ppe.indexOf("Adr")||($ppl.onAndroid=!0,$ppl.onIPhone=!1,$ppl.onIOS=!1,$ppl.onIPad=!1)},$ppD._onStageResize=function(){$pph.stage._canvasTransform.identity().scale($ppl.width/$ppx.canvas.width/$ppw.getPixelRatio(),$ppl.height/$ppx.canvas.height/$ppw.getPixelRatio())},$ppD.wxinputFocus=function($ppt){var $ppe=$ppg.inputElement.target;$ppe&&!$ppe.editable||($ppc.window.wx.offKeyboardConfirm(),$ppc.window.wx.offKeyboardInput(),$ppc.window.wx.showKeyboard({defaultValue:$ppe.text,maxLength:$ppe.maxChars,multiple:$ppe.multiline,confirmHold:!0,confirmType:"done",success:function($ppt){},fail:function($ppt){}}),$ppc.window.wx.onKeyboardConfirm(function($ppt){$ppt=$ppt?$ppt.value:"";$ppe.text=$ppt,$ppe.event("input"),laya.wx.mini.MiniInput.inputEnter()}),$ppc.window.wx.onKeyboardInput(function($ppt){$ppt=$ppt?$ppt.value:"";$ppe.multiline||-1==$ppt.indexOf("\n")?($ppe.text=$ppt,$ppe.event("input")):laya.wx.mini.MiniInput.inputEnter()}))},$ppD.inputEnter=function(){$ppg.inputElement.target.focus=!1},$ppD.wxinputblur=function(){$ppD.hideKeyboard()},$ppD.hideKeyboard=function(){$ppc.window.wx.offKeyboardConfirm(),$ppc.window.wx.offKeyboardInput(),$ppc.window.wx.hideKeyboard({success:function($ppt){console.log("隐藏键盘")},fail:function($ppt){console.log("隐藏键盘出错:"+($ppt?$ppt.errMsg:""))}})};var $ppA=$ppD;function $ppD(){}$ppe($ppi,"laya.wx.mini.MiniLocalStorage"),$ppi.__init__=function(){$ppi.items=$ppi},$ppi.setItem=function($ppe,$ppi){try{wx.setStorageSync($ppe,$ppi)}catch($ppt){wx.setStorage({key:$ppe,data:$ppi})}},$ppi.getItem=function($ppt){return wx.getStorageSync($ppt)},$ppi.setJSON=function($ppt,$ppe){$ppi.setItem($ppt,$ppe)},$ppi.getJSON=function($ppt){return $ppi.getItem($ppt)},$ppi.removeItem=function($ppt){wx.removeStorageSync($ppt)},$ppi.clear=function(){wx.clearStorageSync()},$ppi.getStorageInfoSync=function(){try{var $ppt=wx.getStorageInfoSync();return console.log($ppt.keys),console.log($ppt.currentSize),console.log($ppt.limitSize),$ppt}catch($ppt){}return null},$ppi.support=!0,$ppi.items=null;var $ppI=$ppi;function $ppi(){}$ppe($ppr,"laya.wx.mini.MiniLocation"),$ppr.__init__=function(){$ppc.window.navigator.geolocation.getCurrentPosition=$ppr.getCurrentPosition,$ppc.window.navigator.geolocation.watchPosition=$ppr.watchPosition,$ppc.window.navigator.geolocation.clearWatch=$ppr.clearWatch},$ppr.getCurrentPosition=function($ppe,$ppt,$ppi){var $ppn;($ppn={}).success=function($ppt){null!=$ppe&&$ppe($ppt)},$ppn.fail=$ppt,$ppc.window.wx.getLocation($ppn)},$ppr.watchPosition=function($ppt,$ppe,$ppi){var $ppn;return $ppr._curID++,($ppn={}).success=$ppt,$ppn.error=$ppe,$ppr._watchDic[$ppr._curID]=$ppn,$pph.timer.loop(1e3,null,$ppr._myLoop),$ppr._curID},$ppr.clearWatch=function($ppt){delete $ppr._watchDic[$ppt],$ppr._hasWatch()||$pph.timer.clear(null,$ppr._myLoop)},$ppr._hasWatch=function(){for(var $ppt in $ppr._watchDic)if($ppr._watchDic[$ppt])return!0;return!1},$ppr._myLoop=function(){$ppr.getCurrentPosition($ppr._mySuccess,$ppr._myError)},$ppr._mySuccess=function($ppt){var $ppe={};for(var $ppi in $ppe.coords=$ppt,$ppe.timestamp=$ppl.now(),$ppr._watchDic)$ppr._watchDic[$ppi].success&&$ppr._watchDic[$ppi].success($ppe)},$ppr._myError=function($ppt){for(var $ppe in $ppr._watchDic)$ppr._watchDic[$ppe].error&&$ppr._watchDic[$ppe].error($ppt)},$ppr._watchDic={},$ppr._curID=0;function $ppr(){}$ppe($pps,"laya.wx.mini.MiniAccelerator",$ppR=$ppf),($ppN=$pps.prototype).on=function($ppt,$ppe,$ppi,$ppn){return $ppR.prototype.on.call(this,$ppt,$ppe,$ppi,$ppn),$pps.startListen(this.onDeviceOrientationChange),this},$ppN.off=function($ppt,$ppe,$ppi,$ppn){return void 0===$ppn&&($ppn=!1),this.hasListener($ppt)||$pps.stopListen(),$ppR.prototype.off.call(this,$ppt,$ppe,$ppi,$ppn)},$pps.__init__=function(){try{var $ppt;if(!($ppt=laya.device.motion.Accelerator))return;$ppt.prototype.on=$pps.prototype.on,$ppt.prototype.off=$pps.prototype.off}catch($ppt){}},$pps.startListen=function($ppt){if($pps._callBack=$ppt,!$pps._isListening){$pps._isListening=!0;try{wx.onAccelerometerChange($pps.onAccelerometerChange)}catch($ppt){}}},$pps.stopListen=function(){$pps._isListening=!1;try{wx.stopAccelerometer({})}catch($ppt){}},$pps.onAccelerometerChange=function($ppt){var $ppe;($ppe={}).acceleration=$ppt,$ppe.accelerationIncludingGravity=$ppt,$ppe.rotationRate={},null!=$pps._callBack&&$pps._callBack($ppe)},$pps._isListening=!1,$pps._callBack=null;function $pps(){$pps.__super.call(this)}var $ppR;$ppe($ppL,"laya.wx.mini.MiniLoader",$ppf),$ppL.prototype.load=function($ppt,$ppe,$ppi,$ppn,$ppr){void 0===$ppi&&($ppi=!0),void 0===$ppr&&($ppr=!1);if(0===(this._url=$ppt).indexOf("data:image")?this._type=$ppe="image":this._type=$ppe=$ppe||this.getTypeFromUrl($ppt),this._cache=$ppi,this._data=null,!$ppr&&$ppv.loadedMap[$ppS.formatURL($ppt)])return this._data=$ppv.loadedMap[$ppS.formatURL($ppt)],this.event("progress",1),void this.event("complete",this._data);if(null!=$ppv.parserMap[$ppe])return this._customParse=!0,void($ppv.parserMap[$ppe]instanceof laya.utils.Handler?$ppv.parserMap[$ppe].runWith(this):$ppv.parserMap[$ppe].call(null,this));var $pps=$ppc.getUrlEncode($ppt,$ppe);var $ppa=$ppC.getFileExtension($ppt);if(-1!=$ppL._fileTypeArr.indexOf($ppa))$ppc.EnvConfig.load.call(this,$ppt,$ppe,$ppi,$ppn,$ppr);else{if($ppc.isZiYu&&!$ppu.ziyuFileData[$ppt]&&($ppt=$ppS.formatURL($ppt)),$ppc.isZiYu&&$ppu.ziyuFileData[$ppt])return $ppa=$ppu.ziyuFileData[$ppt],void this.onLoaded($ppa);$ppu.getFileInfo($ppt)?(($ppa=$ppu.getFileInfo($ppt)).encoding=null==$ppa.encoding?"ascii":$ppa.encoding,$ppu.readFile($ppt,$ppa.encoding,new $ppm($ppL,$ppL.onReadNativeCallBack,[$pps,$ppt,$ppe,$ppi,$ppn,$ppr,this]),$ppt)):$ppu.isLocalNativeFile($ppt)?$ppu.read($ppt,$pps,new $ppm($ppL,$ppL.onReadNativeCallBack,[$pps,$ppt,$ppe,$ppi,$ppn,$ppr,this])):($ppa=$ppt,-1!=($ppt=$ppS.formatURL($ppt)).indexOf("http://")||-1!=$ppt.indexOf("https://")?$ppc.EnvConfig.load.call(this,$ppa,$ppe,$ppi,$ppn,$ppr):$ppu.readFile($ppt,$pps,new $ppm($ppL,$ppL.onReadNativeCallBack,[$pps,$ppt,$ppe,$ppi,$ppn,$ppr,this]),$ppt))}},$ppL.onReadNativeCallBack=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph){void 0===$ppn&&($ppn=!0),void 0===$pps&&($pps=!1),($ppo=void 0===$ppo?0:$ppo)?1==$ppo&&(console.log("-----------本地加载失败，尝试外网加载----"),$ppc.EnvConfig.load.call($ppa,$ppe,$ppi,$ppn,$ppr,$pps)):($ppo="json"==$ppi||"atlas"==$ppi?$ppc.getJson($pph.data):"xml"==$ppi?$ppC.parseXMLFromString($pph.data):$pph.data,!$ppc.isZiYu&&$ppc.isPosMsgYu&&"arraybuffer"!=$ppi&&wx.postMessage({url:$ppe,data:$ppo,isLoad:"filedata"}),$ppa.onLoaded($ppo))},$ppt($ppL,["_fileTypeArr",function(){return this._fileTypeArr=["png","jpg","bmp","jpeg","gif"]}]);var $ppP=$ppL;function $ppL(){$ppL.__super.call(this)}$ppe($ppa,"laya.wx.mini.MiniSound",$ppf),($ppN=$ppa.prototype).load=function($ppt){var $ppe;$ppu.isLocalNativeFile($ppt)?-1==$ppt.indexOf("http://")&&-1==$ppt.indexOf("https://")||(""!=$ppu.loadPath?$ppt=$ppt.split($ppu.loadPath)[1]:""!=($ppe=""!=$ppS.rootPath?$ppS.rootPath:$ppS.basePath)&&($ppt=$ppt.split($ppe)[1])):$ppt=$ppS.formatURL($ppt),this.url=$ppt,this.readyUrl=$ppt,$ppa._audioCache[this.readyUrl]?this.event("complete"):(!$ppc.autoCacheFile||!$ppu.getFileInfo($ppt))&&$ppc.autoCacheFile?$ppu.downOtherFiles($ppt,$ppm.create(this,this.onDownLoadCallBack,[$ppt]),$ppt):this.onDownLoadCallBack($ppt,0)},$ppN.onDownLoadCallBack=function($ppt,$ppe){$ppe?this.event("error"):($ppc.autoCacheFile?($ppe=($ppe=$ppu.getFileInfo($ppt))&&$ppe.md5?($ppe=$ppe.md5,$ppu.getFileNativePath($ppe)):$ppt,this._sound=$ppa._createSound(),this._sound.src=this.url=$ppe):(this._sound=$ppa._createSound(),this._sound.src=$ppt),this._sound.onCanplay($ppa.bindToThis(this.onCanPlay,this)),this._sound.onError($ppa.bindToThis(this.onError,this)))},$ppN.onError=function($ppt){try{console.log("-----1---------------minisound-----id:"+$ppa._id),console.log($ppt)}catch($ppt){console.log("-----2---------------minisound-----id:"+$ppa._id),console.log($ppt)}this.event("error"),this._sound.offError(null)},$ppN.onCanPlay=function(){this.loaded=!0,this.event("complete"),this._sound.offCanplay(null)},$ppN.play=function($ppt,$ppe){var $ppi;void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=0),$ppi=this.url==$ppT._tMusic?$ppa._musicAudio=$ppa._musicAudio||$ppa._createSound():$ppa._audioCache[this.readyUrl]?$ppa._audioCache[this.readyUrl]._sound:$ppa._createSound(),$ppc.autoCacheFile&&$ppu.getFileInfo(this.url)?($ppn=$ppu.getFileInfo(this.url).md5,$ppi.src=this.url=$ppu.getFileNativePath($ppn)):$ppi.src=this.url;var $ppn=new $ppO($ppi,this);return $ppn.url=this.url,$ppn.loops=$ppe,$ppn.loop=0===$ppe,$ppn.startTime=$ppt,$ppn.play(),$ppT.addChannel($ppn),$ppn},$ppN.dispose=function(){var $ppt=$ppa._audioCache[this.readyUrl];$ppt&&($ppt.src="",$ppt._sound&&($ppt._sound.destroy(),$ppt._sound=null,$ppt=null),delete $ppa._audioCache[this.readyUrl])},$ppd(0,$ppN,"duration",function(){return this._sound.duration}),$ppa._createSound=function(){return $ppa._id++,$ppc.window.wx.createInnerAudioContext()},$ppa.bindToThis=function($ppt,$ppe){return $ppt.bind($ppe)},$ppa._musicAudio=null,$ppa._id=0,$ppa._audioCache={};var $ppB=$ppa;function $ppa(){this._sound=null,this.url=null,this.loaded=!1,this.readyUrl=null,$ppa.__super.call(this)}var $ppN;$ppe($ppF,"laya.wx.mini.MiniSoundChannel",$ppb),($ppt=$ppF.prototype).__onEnd=function(){if(1==this.loops)return this.completeHandler&&($pph.timer.once(10,this,this.__runComplete,[this.completeHandler],!1),this.completeHandler=null),this.stop(),void this.event("complete");0<this.loops&&this.loops--,this.startTime=0,this.play()},$ppt.play=function(){this.isStopped=!1,$ppT.addChannel(this),this._audio.play()},$ppt.stop=function(){this.isStopped=!0,$ppT.removeChannel(this),this.completeHandler=null,this._audio&&(this._audio.pause(),this._audio.offEnded(null),this._audio=null,this._miniSound=null,this._onEnd=null)},$ppt.pause=function(){this.isStopped=!0,this._audio.pause()},$ppt.resume=function(){this._audio&&(this.isStopped=!1,$ppT.addChannel(this),this._audio.play())},$ppd(0,$ppt,"startTime",null,function($ppt){this._audio&&(this._audio.startTime=$ppt)}),$ppd(0,$ppt,"autoplay",function(){return this._audio.autoplay},function($ppt){this._audio.autoplay=$ppt}),$ppd(0,$ppt,"position",function(){return this._audio?this._audio.currentTime:0}),$ppd(0,$ppt,"duration",function(){return this._audio?this._audio.duration:0}),$ppd(0,$ppt,"loop",function(){return this._audio.loop},function($ppt){this._audio.loop=$ppt}),$ppd(0,$ppt,"volume",function(){return this._audio?this._audio.volume:1},function($ppt){this._audio&&(this._audio.volume=$ppt)}),$ppF.bindToThis=function($ppt,$ppe){return $ppt.bind($ppe)};var $ppO=$ppF;function $ppF($ppt,$ppe){this._audio=null,this._onEnd=null,this._miniSound=null,$ppF.__super.call(this),this._audio=$ppt,this._miniSound=$ppe,this._onEnd=$ppF.bindToThis(this.__onEnd,this),$ppt.onEnded(this._onEnd)}}(window,(document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function($ppt,$ppe){"use strict";for(var $ppi in Object.defineProperty($ppe,"__esModule",{value:!0}),Laya){var $ppn=Laya[$ppi];$ppn&&$ppn.__isclass&&($ppe[$ppi]=$ppn)}}),function($ppg){$ppg.un,$ppg.uns;var $pps=$ppg.static,$ppn=$ppg.class,$ppa=$ppg.getset,$ppo=$ppg.__newvec;var $pph=laya.maths.Arith,$ppu=laya.maths.Bezier,$pp_=laya.resource.Bitmap,$ppd=laya.utils.Browser;var $ppf=laya.utils.Byte,$ppm=laya.utils.Color,$ppv=(laya.filters.ColorFilter,$ppg.Config),$ppy=laya.resource.Context;laya.events.Event;var $ppx=laya.filters.Filter,$ppt=laya.display.Graphics,$ppw=laya.resource.HTMLCanvas;laya.utils.HTMLChar;var $ppb=laya.resource.HTMLImage,$ppT=laya.resource.HTMLSubImage;laya.utils.Handler,laya.net.Loader;var $ppS=laya.maths.Matrix,$ppM=laya.maths.Point,$ppE=laya.maths.Rectangle;var $ppD=laya.renders.Render,$ppI=(laya.renders.RenderContext,laya.renders.RenderSprite);var $ppR=laya.resource.Resource,$ppP=laya.resource.ResourceManager,$ppL=laya.utils.RunDriver;var $ppB=laya.display.Sprite,$ppN=laya.display.Stage,$ppO=laya.utils.Stat,$ppF=laya.utils.StringKey;laya.display.css.Style;var $ppV=laya.system.System,$ppk=laya.display.Text,$ppU=laya.resource.Texture;laya.display.css.TransformInfo,laya.net.URL;var $ppH=laya.utils.Utils,$ppz=laya.utils.VectorGraphManager;laya.utils.WordText;$ppg.interface("laya.webgl.shapes.IShape"),$ppg.interface("laya.webgl.submit.ISubmit"),$ppg.interface("laya.webgl.text.ICharSegment"),$ppg.interface("laya.webgl.canvas.save.ISaveData"),$ppg.interface("laya.webgl.resource.IMergeAtlasBitmap"),$ppg.interface("laya.filters.IFilterActionGL","laya.filters.IFilterAction");$ppn($ppW,"laya.filters.webgl.FilterActionGL"),$ppvi=$ppW.prototype,$ppg.imps($ppvi,{"laya.filters.IFilterActionGL":!0}),$ppvi.setValue=function($ppt){},$ppvi.setValueMix=function($ppt){},$ppvi.apply3d=function($ppt,$ppe,$ppi,$ppn,$ppr){return null},$ppvi.apply=function($ppt){return null},$ppa(0,$ppvi,"typeMix",function(){return 0});$ppvi=$ppW;function $ppW(){}$ppn($ppY,"laya.webgl.shader.ShaderValue");var $ppG=$ppY;function $ppY(){}$ppn($ppX,"laya.webgl.atlas.AtlasGrid"),($ppq=$ppX.prototype).getAltasID=function(){return this._atlasID},$ppq.setAltasID=function($ppt){0<=$ppt&&(this._atlasID=$ppt)},$ppq.addTex=function($ppt,$ppe,$ppi){var $ppn=this._get($ppe,$ppi);return 0==$ppn.ret||(this._fill($ppn.x,$ppn.y,$ppe,$ppi,$ppt),this._texCount++),$ppn},$ppq._release=function(){null!=this._cells&&(this._cells.length=0,this._cells=null),this._rowInfo&&(this._rowInfo.length=0,this._rowInfo=null)},$ppq._init=function($ppt,$ppe){if(this._width=$ppt,this._height=$ppe,this._release(),0==this._width)return!1;this._cells=new Uint8Array(this._width*this._height*3),this._rowInfo=$ppo(this._height);for(var $ppi=0;$ppi<this._height;$ppi++)this._rowInfo[$ppi]=new $ppj;return this._clear(),!0},$ppq._get=function($ppt,$ppe){var $ppi=new $ppQ;if($ppt>=this._failSize.width&&$ppe>=this._failSize.height)return $ppi;var $ppn=-1;var $ppr;var $ppc=this._width;var $ppu=this._height;var $pps=this._cells;for(var $ppa=0;$ppa<$ppu;$ppa++)if(!(this._rowInfo[$ppa].spaceCount<$ppt))for(var $ppo=0;$ppo<$ppc;){var $pph=3*($ppa*$ppc+$ppo);if(0!=$pps[$pph]||$pps[1+$pph]<$ppt||$pps[2+$pph]<$ppe)$ppo+=$pps[1+$pph];else{$ppn=$ppo,$ppr=$ppa;for(var $ppl=0;$ppl<$ppt;$ppl++)if($pps[3*$ppl+$pph+2]<$ppe){$ppn=-1;break}if(!($ppn<0))return $ppi.ret=!0,$ppi.x=$ppn,$ppi.y=$ppr,$ppi;$ppo+=$pps[1+$pph]}}return $ppi},$ppq._fill=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=this._width;var $ppc=this._height;this._check($ppt+$ppi<=$pps&&$ppe+$ppn<=$ppc);for(var $ppa=$ppe;$ppa<$ppn+$ppe;++$ppa){this._check(this._rowInfo[$ppa].spaceCount>=$ppi),this._rowInfo[$ppa].spaceCount-=$ppi;for(var $ppo=0;$ppo<$ppi;$ppo++){var $pph=3*($ppt+$ppa*$pps+$ppo);this._check(0==this._cells[$pph]),this._cells[$pph]=$ppr,this._cells[1+$pph]=$ppi,this._cells[2+$pph]=$ppn}}if(0<$ppt)for($ppa=0;$ppa<$ppn;++$ppa){var $ppl=0;for($ppo=$ppt-1;0<=$ppo&&0==this._cells[3*(($ppe+$ppa)*$pps+$ppo)];--$ppo,++$ppl);for($ppo=$ppl;0<$ppo;--$ppo)this._cells[3*(($ppe+$ppa)*$pps+$ppt-$ppo)+1]=$ppo,this._check(0<$ppo)}if(0<$ppe)for($ppo=$ppt;$ppo<$ppt+$ppi;++$ppo){for($ppl=0,$ppa=$ppe-1;0<=$ppa&&0==this._cells[3*($ppo+$ppa*$pps)];--$ppa,$ppl++);for($ppa=$ppl;0<$ppa;--$ppa)this._cells[3*($ppo+($ppe-$ppa)*$pps)+2]=$ppa,this._check(0<$ppa)}},$ppq._check=function($ppt){0==$ppt&&console.log("xtexMerger 错误啦")},$ppq._clear=function(){for(var $ppt=this._texCount=0;$ppt<this._height;$ppt++)this._rowInfo[$ppt].spaceCount=this._width;for(var $ppe=0;$ppe<this._height;$ppe++)for(var $ppi=0;$ppi<this._width;$ppi++){var $ppn=3*($ppe*this._width+$ppi);this._cells[$ppn]=0,this._cells[1+$ppn]=this._width-$ppi,this._cells[2+$ppn]=this._width-$ppe}this._failSize.width=this._width+1,this._failSize.height=this._height+1},$ppX.__init$=function(){function $ppt(){this.spaceCount=0}function $ppe(){this.width=0,this.height=0}$ppn($ppt,""),$ppj=$ppt,$ppn($ppe,""),$ppK=$ppe};$ppq=$ppX;function $ppX($ppt,$ppe,$ppi){this._atlasID=0,this._width=0,this._height=0,this._texCount=0,this._rowInfo=null,this._cells=null,this._failSize=new $ppK,void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0),this._cells=null,this._rowInfo=null,this._init($ppt,$ppe),this._atlasID=$ppi}var $ppj,$ppK,$ppq;$ppn($ppZ,"laya.webgl.atlas.AtlasResourceManager"),($ppi=$ppZ.prototype).setAtlasParam=function($ppt,$ppe,$ppi,$ppn){if(1==this._setAtlasParam)return $ppZ._sid_=0,this._width=$ppt,this._height=$ppe,this._gridSize=$ppi,this._maxAtlaserCount=$ppn,this._gridNumX=$ppt/$ppi,this._gridNumY=$ppe/$ppi,this._curAtlasIndex=0,this.freeAll(),!0;throw console.log("设置大图合集参数错误，只能在开始页面设置各种参数"),-1},$ppi.pushData=function($ppt){var $ppe=$ppt.bitmap;var $ppi=-1;var $ppn=null;var $ppr,$pps=0,$ppa=0;for($pps=0,$ppr=this._atlaserArray.length;$pps<$ppr&&($ppa=(this._curAtlasIndex+$pps)%$ppr,-1==($ppi=($ppn=this._atlaserArray[$ppa]).findBitmapIsExist($ppe)));$pps++);var $ppc;if(-1!=$ppi)return $pph=($ppc=$ppn.InAtlasWebGLImagesOffsetValue[$ppi])[0],$ppl=$ppc[1],$ppn.addToAtlas($ppt,$pph,$ppl),!0;this._setAtlasParam=!1;var $ppu=Math.ceil(($ppt.bitmap.width+2)/this._gridSize);var $pp_=Math.ceil(($ppt.bitmap.height+2)/this._gridSize);var $ppo=!1;for(var $ppd=0;$ppd<2;$ppd++){var $ppf=this._maxAtlaserCount;for($pps=0;$pps<$ppf;$pps++){$ppa=(this._curAtlasIndex+$pps)%$ppf,this._atlaserArray.length-1>=$ppa||this._atlaserArray.push(new $ppTe(this._gridNumX,this._gridNumY,this._width,this._height,$ppZ._sid_++));var $ppp=this._atlaserArray[$ppa];var $pph=0,$ppl=0;var $ppm=$ppp.addTex(1,$ppu,$pp_);if($ppm.ret){$pph=$ppm.x*this._gridSize+1,$ppl=$ppm.y*this._gridSize+1,$ppe.lock=!0,$ppp.addToAtlasTexture($ppe,$pph,$ppl),$ppp.addToAtlas($ppt,$pph,$ppl),$ppo=!0,this._curAtlasIndex=$ppa;break}}if($ppo)break;this._atlaserArray.push(new $ppTe(this._gridNumX,this._gridNumY,this._width,this._height,$ppZ._sid_++)),this._needGC=!0,this.garbageCollection(),this._curAtlasIndex=this._atlaserArray.length-1}return $ppo||console.log(">>>AtlasManager pushData error"),$ppo},$ppi.addToAtlas=function($ppt){laya.webgl.atlas.AtlasResourceManager.instance.pushData($ppt)},$ppi.garbageCollection=function(){if(!0===this._needGC){var $ppt=this._atlaserArray.length-this._maxAtlaserCount;for(var $ppe=0;$ppe<$ppt;$ppe++)this._atlaserArray[$ppe].dispose(),console.log("AtlasResourceManager:Dispose the inner Atlas。");console.log(">>>>altas garbageCollection ="+$ppt),this._atlaserArray.splice(0,$ppt),this._needGC=!1}return!0},$ppi.freeAll=function(){for(var $ppt=0,$ppe=this._atlaserArray.length;$ppt<$ppe;$ppt++)this._atlaserArray[$ppt].dispose();this._atlaserArray.length=0,this._curAtlasIndex=0},$ppi.getAtlaserCount=function(){return this._atlaserArray.length},$ppi.getAtlaserByIndex=function($ppt){return this._atlaserArray[$ppt]},$ppa(1,$ppZ,"instance",function(){return $ppZ._Instance=$ppZ._Instance?$ppZ._Instance:new $ppZ(laya.webgl.atlas.AtlasResourceManager.atlasTextureWidth,laya.webgl.atlas.AtlasResourceManager.atlasTextureHeight,16,laya.webgl.atlas.AtlasResourceManager.maxTextureCount)}),$ppa(1,$ppZ,"enabled",function(){return $ppv.atlasEnable}),$ppa(1,$ppZ,"atlasLimitWidth",function(){return $ppZ._atlasLimitWidth},function($ppt){$ppZ._atlasLimitWidth=$ppt}),$ppa(1,$ppZ,"atlasLimitHeight",function(){return $ppZ._atlasLimitHeight},function($ppt){$ppZ._atlasLimitHeight=$ppt}),$ppZ._enable=function(){$ppv.atlasEnable=!0},$ppZ._disable=function(){$ppv.atlasEnable=!1},$ppZ.__init__=function(){$ppZ.atlasTextureWidth=2048,$ppZ.atlasTextureHeight=2048,$ppZ.maxTextureCount=6,$ppZ.atlasLimitWidth=512,$ppZ.atlasLimitHeight=512},$ppZ._atlasLimitWidth=0,$ppZ._atlasLimitHeight=0,$ppZ.gridSize=16,$ppZ.atlasTextureWidth=0,$ppZ.atlasTextureHeight=0,$ppZ.maxTextureCount=0,$ppZ._atlasRestore=0,$ppZ.BOARDER_TYPE_NO=0,$ppZ.BOARDER_TYPE_RIGHT=1,$ppZ.BOARDER_TYPE_LEFT=2,$ppZ.BOARDER_TYPE_BOTTOM=4,$ppZ.BOARDER_TYPE_TOP=8,$ppZ.BOARDER_TYPE_ALL=15,$ppZ._sid_=0,$ppZ._Instance=null;var $pp$=$ppZ;function $ppZ($ppt,$ppe,$ppi,$ppn){this._currentAtlasCount=0,this._maxAtlaserCount=0,this._width=0,this._height=0,this._gridSize=0,this._gridNumX=0,this._gridNumY=0,this._init=!1,this._curAtlasIndex=0,this._setAtlasParam=!1,this._atlaserArray=null,this._needGC=!1,this._setAtlasParam=!0,this._width=$ppt,this._height=$ppe,this._gridSize=$ppi,this._maxAtlaserCount=$ppn,this._gridNumX=$ppt/$ppi,this._gridNumY=$ppe/$ppi,this._curAtlasIndex=0,this._atlaserArray=[]}$ppn($ppJ,"laya.webgl.atlas.MergeFillInfo");var $ppQ=$ppJ;function $ppJ(){this.x=0,this.y=0,this.ret=!1,this.ret=!1,this.x=0,this.y=0}$ppn($ppet,"laya.webgl.canvas.BlendMode"),$ppet._init_=function($ppt){$ppet.fns=[$ppet.BlendNormal,$ppet.BlendAdd,$ppet.BlendMultiply,$ppet.BlendScreen,$ppet.BlendOverlay,$ppet.BlendLight,$ppet.BlendMask,$ppet.BlendDestinationOut],$ppet.targetFns=[$ppet.BlendNormalTarget,$ppet.BlendAddTarget,$ppet.BlendMultiplyTarget,$ppet.BlendScreenTarget,$ppet.BlendOverlayTarget,$ppet.BlendLightTarget,$ppet.BlendMask,$ppet.BlendDestinationOut]},$ppet.BlendNormal=function($ppt){$ppt.blendFunc(1,771)},$ppet.BlendAdd=function($ppt){$ppt.blendFunc(1,1)},$ppet.BlendMultiply=function($ppt){$ppt.blendFunc(774,771)},$ppet.BlendScreen=function($ppt){$ppt.blendFunc(1,1)},$ppet.BlendOverlay=function($ppt){$ppt.blendFunc(1,769)},$ppet.BlendLight=function($ppt){$ppt.blendFunc(1,1)},$ppet.BlendNormalTarget=function($ppt){$ppt.blendFunc(1,771)},$ppet.BlendAddTarget=function($ppt){$ppt.blendFunc(1,772)},$ppet.BlendMultiplyTarget=function($ppt){$ppt.blendFunc(774,771)},$ppet.BlendScreenTarget=function($ppt){$ppt.blendFunc(1,1)},$ppet.BlendOverlayTarget=function($ppt){$ppt.blendFunc(1,769)},$ppet.BlendLightTarget=function($ppt){$ppt.blendFunc(1,1)},$ppet.BlendMask=function($ppt){$ppt.blendFunc(0,770)},$ppet.BlendDestinationOut=function($ppt){$ppt.blendFunc(0,0)},$ppet.activeBlendFunction=null,$ppet.NAMES=["normal","add","multiply","screen","overlay","light","mask","destination-out"],$ppet.TOINT={normal:0,add:1,multiply:2,screen:3,lighter:1,overlay:4,light:5,mask:6,"destination-out":7},$ppet.NORMAL="normal",$ppet.ADD="add",$ppet.MULTIPLY="multiply",$ppet.SCREEN="screen",$ppet.LIGHT="light",$ppet.OVERLAY="overlay",$ppet.DESTINATIONOUT="destination-out",$ppet.fns=[],$ppet.targetFns=[];var $pptt=$ppet;function $ppet(){}$ppn($ppnt,"laya.webgl.canvas.DrawStyle"),($ppi=$ppnt.prototype).setValue=function($ppt){$ppt&&("string"!=typeof $ppt?$ppt instanceof laya.utils.Color&&(this._color=$ppt):this._color=$ppm.create($ppt))},$ppi.reset=function(){this._color=$ppm.create("black")},$ppi.equal=function($ppt){return"string"==typeof $ppt?this._color.strColor===$ppt:$ppt instanceof laya.utils.Color&&this._color.numColor===$ppt.numColor},$ppi.toColorStr=function(){return this._color.strColor},$ppnt.create=function($ppt){var $ppe;if($ppt&&("string"==typeof $ppt?$ppe=$ppm.create($ppt):$ppt instanceof laya.utils.Color&&($ppe=$ppt),$ppe))return $ppe._drawStyle||($ppe._drawStyle=new $ppnt($ppt));return laya.webgl.canvas.DrawStyle.DEFAULT},$pps($ppnt,["DEFAULT",function(){return this.DEFAULT=new $ppnt("#000000")}]);var $ppit=$ppnt;function $ppnt($ppt){this._color=$ppm.create("black"),this.setValue($ppt)}$ppn($ppst,"laya.webgl.canvas.Path"),($ppi=$ppst.prototype).addPoint=function($ppt,$ppe){this.tempArray.push($ppt,$ppe)},$ppi.getEndPointX=function(){return this.tempArray[this.tempArray.length-2]},$ppi.getEndPointY=function(){return this.tempArray[this.tempArray.length-1]},$ppi.polygon=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){return this.geomatrys.push(this._curGeomatry=$ppt=new $ppPe($ppt,$ppe,$ppi,$ppn,$ppr,$pps)),$ppn||($ppt.fill=!1),null==$pps&&($ppt.borderWidth=0),$ppt},$ppi.setGeomtry=function($ppt){this.geomatrys.push(this._curGeomatry=$ppt)},$ppi.drawLine=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps;return this.closePath?this.geomatrys.push(this._curGeomatry=$pps=new $ppIe($ppt,$ppe,$ppi,$ppn,$ppr)):this.geomatrys.push(this._curGeomatry=$pps=new $ppAe($ppt,$ppe,$ppi,$ppn,$ppr)),$pps.fill=!1,$pps},$ppi.update=function(){var $ppt=this.ib._byteLength;var $ppe=this.geomatrys.length;this.offset=$ppt;for(var $ppi=this.geoStart;$ppi<$ppe;$ppi++)this.geomatrys[$ppi].getData(this.ib,this.vb,this.vb._byteLength/20);this.geoStart=$ppe,this.count=(this.ib._byteLength-$ppt)/$ppte.BYTES_PIDX},$ppi.reset=function(){this.vb.clear(),this.ib.clear(),this.offset=this.count=this.geoStart=0,this.geomatrys.length=0},$ppi.recover=function(){this._curGeomatry=null,this.vb.destory(),this.vb=null,this.ib.destory(),this.ib=null};var $pprt=$ppst;function $ppst(){this._x=0,this._y=0,this.dirty=!1,this.offset=0,this.count=0,this.geoStart=0,this.tempArray=[],this.closePath=!1,this.geomatrys=[];$ppc.mainContext;this.ib=$ppEi.create(35048),this.vb=$ppDi.create(5)}$ppn($ppot,"laya.webgl.canvas.save.SaveBase"),$ppi=$ppot.prototype,$ppg.imps($ppi,{"laya.webgl.canvas.save.ISaveData":!0}),$ppi.isSaveMark=function(){return!1},$ppi.restore=function($ppt){this._dataObj[this._valueName]=this._value,($ppot._cache[$ppot._cache._length++]=this)._newSubmit&&($ppt._curSubmit=$ppBt.RENDERBASE,$ppt._renderKey=0)},$ppot._createArray=function(){var $ppt=[];return $ppt._length=0,$ppt},$ppot._init=function(){var $ppt=$ppot._namemap={};return $ppt[1]="ALPHA",$ppt[2]="fillStyle",$ppt[8]="font",$ppt[256]="lineWidth",$ppt[512]="strokeStyle",$ppt[8192]="_mergeID",$ppt[1024]=$ppt[2048]=$ppt[4096]=[],$ppt[16384]="textBaseline",$ppt[32768]="textAlign",$ppt[65536]="_nBlendType",$ppt[1048576]="shader",$ppt[2097152]="filters",$ppt},$ppot.save=function($ppt,$ppe,$ppi,$ppn){var $ppr;($ppt._saveMark._saveuse&$ppe)!==$ppe&&($ppt._saveMark._saveuse|=$ppe,($ppr=0<($ppr=$ppot._cache)._length?$ppr[--$ppr._length]:new $ppot)._value=$ppi[$ppr._valueName=$ppot._namemap[$ppe]],$ppr._dataObj=$ppi,$ppr._newSubmit=$ppn,($ppe=$ppt._save)[$ppe._length++]=$ppr)},$ppot._cache=laya.webgl.canvas.save.SaveBase._createArray(),$ppot._namemap=$ppot._init();var $ppat=$ppot;function $ppot(){}$ppn($pplt,"laya.webgl.canvas.save.SaveClipRect"),$ppi=$pplt.prototype,$ppg.imps($ppi,{"laya.webgl.canvas.save.ISaveData":!0}),$ppi.isSaveMark=function(){return!1},$ppi.restore=function($ppt){$ppt._clipRect=this._clipSaveRect,($pplt._cache[$pplt._cache._length++]=this)._submitScissor.submitLength=$ppt._submits._length-this._submitScissor.submitIndex,$ppt._curSubmit=$ppBt.RENDERBASE,$ppt._renderKey=0},$pplt.save=function($ppt,$ppe){var $ppi;131072!=(131072&$ppt._saveMark._saveuse)&&($ppt._saveMark._saveuse|=131072,($ppi=0<($ppi=$pplt._cache)._length?$ppi[--$ppi._length]:new $pplt)._clipSaveRect=$ppt._clipRect,$ppt._clipRect=$ppi._clipRect.copyFrom($ppt._clipRect),$ppi._submitScissor=$ppe,($ppe=$ppt._save)[$ppe._length++]=$ppi)},$pps($pplt,["_cache",function(){return this._cache=$ppat._createArray()}]);var $ppht=$pplt;function $pplt(){this._clipRect=new $ppE}$ppn($pput,"laya.webgl.canvas.save.SaveClipRectStencil"),$ppi=$pput.prototype,$ppg.imps($ppi,{"laya.webgl.canvas.save.ISaveData":!0}),$ppi.isSaveMark=function(){return!1},$ppi.restore=function($ppt){$ppGt.restore($ppt,this._rect,this._saveMatrix,this._contextX,this._contextY),$ppt._clipRect=this._clipSaveRect,$ppt._curMat=this._saveMatrix,$ppt._x=this._contextX,$ppt._y=this._contextY,$pput._cache[$pput._cache._length++]=this,$ppt._curSubmit=$ppBt.RENDERBASE},$pput.save=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph,$ppc){var $ppl;262144!=(262144&$ppt._saveMark._saveuse)&&($ppt._saveMark._saveuse|=262144,($ppl=0<($ppl=$pput._cache)._length?$ppl[--$ppl._length]:new $pput)._clipSaveRect=$ppt._clipRect,$ppl._clipRect.setTo($ppa,$ppo,$pph,$ppc),$ppt._clipRect=$ppl._clipRect,$ppl._rect.x=$ppi,$ppl._rect.y=$ppn,$ppl._rect.width=$ppr,$ppl._rect.height=$pps,$ppl._contextX=$ppt._x,$ppl._contextY=$ppt._y,$ppl._saveMatrix=$ppt._curMat,$ppt._curMat.copyTo($ppl._matrix),$ppt._curMat=$ppl._matrix,$ppl._submitStencil=$ppe,($ppa=$ppt._save)[$ppa._length++]=$ppl)},$pps($pput,["_cache",function(){return this._cache=$ppat._createArray()}]);var $ppct=$pput;function $pput(){this._contextX=0,this._contextY=0,this._clipRect=new $ppE,this._rect=new $ppE,this._matrix=new $ppS}$ppn($ppdt,"laya.webgl.canvas.save.SaveMark"),$ppi=$ppdt.prototype,$ppg.imps($ppi,{"laya.webgl.canvas.save.ISaveData":!0}),$ppi.isSaveMark=function(){return!0},$ppi.restore=function($ppt){$ppt._saveMark=this._preSaveMark,$ppdt._no[$ppdt._no._length++]=this},$ppdt.Create=function($ppt){var $ppe=$ppdt._no;$ppe=0<$ppe._length?$ppe[--$ppe._length]:new $ppdt;return $ppe._saveuse=0,$ppe._preSaveMark=$ppt._saveMark,$ppt._saveMark=$ppe},$pps($ppdt,["_no",function(){return this._no=$ppat._createArray()}]);var $pp_t=$ppdt;function $ppdt(){this._saveuse=0}$ppn($pppt,"laya.webgl.canvas.save.SaveTransform"),$ppi=$pppt.prototype,$ppg.imps($ppi,{"laya.webgl.canvas.save.ISaveData":!0}),$ppi.isSaveMark=function(){return!1},$ppi.restore=function($ppt){$ppt._curMat=this._savematrix,$pppt._no[$pppt._no._length++]=this},$pppt.save=function($ppt){var $ppe=$ppt._saveMark;2048!=(2048&$ppe._saveuse)&&($ppe._saveuse|=2048,($ppe=0<($ppe=$pppt._no)._length?$ppe[--$ppe._length]:new $pppt)._savematrix=$ppt._curMat,$ppt._curMat=$ppt._curMat.copyTo($ppe._matrix),($ppt=$ppt._save)[$ppt._length++]=$ppe)},$pps($pppt,["_no",function(){return this._no=$ppat._createArray()}]);var $ppft=$pppt;function $pppt(){this._matrix=new $ppS}$ppn($ppgt,"laya.webgl.canvas.save.SaveTranslate"),$ppi=$ppgt.prototype,$ppg.imps($ppi,{"laya.webgl.canvas.save.ISaveData":!0}),$ppi.isSaveMark=function(){return!1},$ppi.restore=function($ppt){$ppt._curMat;$ppt._x=this._x,$ppt._y=this._y,$ppgt._no[$ppgt._no._length++]=this},$ppgt.save=function($ppt){var $ppe=$ppgt._no;$ppe=0<$ppe._length?$ppe[--$ppe._length]:new $ppgt;$ppe._x=$ppt._x,$ppe._y=$ppt._y;$ppt=$ppt._save;$ppt[$ppt._length++]=$ppe},$pps($ppgt,["_no",function(){return this._no=$ppat._createArray()}]);var $ppmt=$ppgt;function $ppgt(){}$ppn($ppyt,"laya.webgl.resource.RenderTargetMAX"),($ppi=$ppyt.prototype).setSP=function($ppt){this._sp=$ppt},$ppi.size=function($ppt,$ppe){var $ppi=this;this._width!==$ppt||this._height!==$ppe?(this.repaint=!0,this._width=$ppt,this._height=$ppe,this.target?this.target.size($ppt,$ppe):this.target=$ppze.create($ppt,$ppe),this.target.hasListener("recovered")||this.target.on("recovered",this,function($ppt){$ppg.timer.callLater($ppi._sp,$ppi._sp.repaint)})):this.target.size($ppt,$ppe)},$ppi._flushToTarget=function($ppt,$ppe){var $ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph;$ppe._destroy||($ppi=$ppl.worldScissorTest,$ppn=$ppl.worldClipRect,$ppl.worldClipRect=this._clipRect,this._clipRect.x=this._clipRect.y=0,this._clipRect.width=this._width,this._clipRect.height=this._height,$ppl.worldScissorTest=!1,$ppc.mainContext.disable(3089),$ppr=$ppl.worldAlpha,$pps=$ppl.worldMatrix4,$ppa=$ppl.worldMatrix,$ppo=$ppl.worldFilters,$pph=$ppl.worldShaderDefines,$ppl.worldMatrix=$ppS.EMPTY,$ppl.restoreTempArray(),$ppl.worldMatrix4=$ppl.TEMPMAT4_ARRAY,$ppl.worldAlpha=1,$ppl.worldFilters=null,$ppl.worldShaderDefines=null,$ppUe.activeShader=null,$ppe.start(),$ppv.showCanvasMark?$ppe.clear(0,1,0,.3):$ppe.clear(0,0,0,0),$ppt.flush(),$ppe.end(),$ppUe.activeShader=null,$ppl.worldAlpha=$ppr,$ppl.worldMatrix4=$pps,$ppl.worldMatrix=$ppa,$ppl.worldFilters=$ppo,$ppl.worldShaderDefines=$pph,($ppl.worldScissorTest=$ppi)&&($ppt=$ppl.height-$ppn.y-$ppn.height,$ppc.mainContext.scissor($ppn.x,$ppt,$ppn.width,$ppn.height),$ppc.mainContext.enable(3089)),$ppl.worldClipRect=$ppn)},$ppi.flush=function($ppt){this.repaint&&(this._flushToTarget($ppt,this.target),this.repaint=!1)},$ppi.drawTo=function($ppt,$ppe,$ppi,$ppn,$ppr){$ppt.drawTexture(this.target.getTexture(),$ppe,$ppi,$ppn,$ppr,0,0)},$ppi.destroy=function(){this.target&&(this.target.destroy(),this.target=null,this._sp=null)};var $ppvt=$ppyt;function $ppyt(){this.target=null,this.repaint=!1,this._width=NaN,this._height=NaN,this._sp=null,this._clipRect=new $ppE}$ppn($ppwt,"laya.webgl.shader.d2.Shader2D"),$ppwt.prototype.destroy=function(){this.defines=null,this.filters=null,this.glTexture=null,this.strokeStyle=null,this.fillStyle=null},$ppwt.__init__=function(){$ppdi.addInclude("parts/ColorFilter_ps_uniform.glsl","uniform vec4 colorAlpha;\nuniform mat4 colorMat;"),$ppdi.addInclude("parts/ColorFilter_ps_logic.glsl","mat4 alphaMat =colorMat;\n\nalphaMat[0][3] *= gl_FragColor.a;\nalphaMat[1][3] *= gl_FragColor.a;\nalphaMat[2][3] *= gl_FragColor.a;\n\ngl_FragColor = gl_FragColor * alphaMat;\ngl_FragColor += colorAlpha/255.0*gl_FragColor.a;\n"),$ppdi.addInclude("parts/GlowFilter_ps_uniform.glsl","uniform vec4 u_color;\nuniform float u_strength;\nuniform float u_blurX;\nuniform float u_blurY;\nuniform float u_offsetX;\nuniform float u_offsetY;\nuniform float u_textW;\nuniform float u_textH;"),$ppdi.addInclude("parts/GlowFilter_ps_logic.glsl","const float c_IterationTime = 10.0;\nfloat floatIterationTotalTime = c_IterationTime * c_IterationTime;\nvec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\nvec2 vec2FilterDir = vec2(-(u_offsetX)/u_textW,-(u_offsetY)/u_textH);\nvec2 vec2FilterOff = vec2(u_blurX/u_textW/c_IterationTime * 2.0,u_blurY/u_textH/c_IterationTime * 2.0);\nfloat maxNum = u_blurX * u_blurY;\nvec2 vec2Off = vec2(0.0,0.0);\nfloat floatOff = c_IterationTime/2.0;\nfor(float i = 0.0;i<=c_IterationTime; ++i){\n\tfor(float j = 0.0;j<=c_IterationTime; ++j){\n\t\tvec2Off = vec2(vec2FilterOff.x * (i - floatOff),vec2FilterOff.y * (j - floatOff));\n\t\tvec4Color += texture2D(texture, v_texcoord + vec2FilterDir + vec2Off)/floatIterationTotalTime;\n\t}\n}\ngl_FragColor = vec4(u_color.rgb,vec4Color.a * u_strength);\ngl_FragColor.rgb *= gl_FragColor.a;"),$ppdi.addInclude("parts/BlurFilter_ps_logic.glsl","gl_FragColor =   blur();\ngl_FragColor.w*=alpha;"),$ppdi.addInclude("parts/BlurFilter_ps_uniform.glsl","uniform vec4 strength_sig2_2sig2_gauss1;\nuniform vec2 blurInfo;\n\n#define PI 3.141593\n\n//float sigma=strength/3.0;//3σ以外影响很小。即当σ=1的时候，半径为3\n//float sig2 = sigma*sigma;\n//float _2sig2 = 2.0*sig2;\n//return 1.0/(2*PI*sig2)*exp(-(x*x+y*y)/_2sig2)\n//float gauss1 = 1.0/(2.0*PI*sig2);\n\nfloat getGaussian(float x, float y){\n    return strength_sig2_2sig2_gauss1.w*exp(-(x*x+y*y)/strength_sig2_2sig2_gauss1.z);\n}\n\nvec4 blur(){\n    const float blurw = 9.0;\n    vec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\n    vec2 halfsz=vec2(blurw,blurw)/2.0/blurInfo;    \n    vec2 startpos=v_texcoord-halfsz;\n    vec2 ctexcoord = startpos;\n    vec2 step = 1.0/blurInfo;  //每个像素      \n    \n    for(float y = 0.0;y<=blurw; ++y){\n        ctexcoord.x=startpos.x;\n        for(float x = 0.0;x<=blurw; ++x){\n            //TODO 纹理坐标的固定偏移应该在vs中处理\n            vec4Color += texture2D(texture, ctexcoord)*getGaussian(x-blurw/2.0,y-blurw/2.0);\n            ctexcoord.x+=step.x;\n        }\n        ctexcoord.y+=step.y;\n    }\n    return vec4Color;\n}"),$ppdi.addInclude("parts/ColorAdd_ps_uniform.glsl","uniform vec4 colorAdd;\n"),$ppdi.addInclude("parts/ColorAdd_ps_logic.glsl","gl_FragColor = vec4(colorAdd.rgb,colorAdd.a*gl_FragColor.a);\ngl_FragColor.xyz *= colorAdd.a;"),$ppdi.preCompile2D(0,1,"attribute vec4 position;\nattribute vec2 texcoord;\nuniform vec2 size;\n\n#ifdef WORLDMAT\nuniform mat4 mmat;\n#endif\nvarying vec2 v_texcoord;\nvoid main() {\n  #ifdef WORLDMAT\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  #else\n  gl_Position =vec4((position.x/size.x-0.5)*2.0,(0.5-position.y/size.y)*2.0,position.z,1.0);\n  #endif\n  \n  v_texcoord = texcoord;\n}",'precision mediump float;\n//precision highp float;\nvarying vec2 v_texcoord;\nuniform sampler2D texture;\nuniform float alpha;\n#include?BLUR_FILTER  "parts/BlurFilter_ps_uniform.glsl";\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\n#include?GLOW_FILTER "parts/GlowFilter_ps_uniform.glsl";\n#include?COLOR_ADD "parts/ColorAdd_ps_uniform.glsl";\n\nvoid main() {\n   vec4 color= texture2D(texture, v_texcoord);\n   color.a*=alpha;\n   color.rgb*=alpha;\n   gl_FragColor=color;\n   #include?COLOR_ADD "parts/ColorAdd_ps_logic.glsl";   \n   #include?BLUR_FILTER  "parts/BlurFilter_ps_logic.glsl";\n   #include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n   #include?GLOW_FILTER "parts/GlowFilter_ps_logic.glsl";\n}',null),$ppdi.preCompile2D(0,2,"attribute vec4 position;\nuniform vec2 size;\nuniform mat4 mmat;\nvoid main() {\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n}",'precision mediump float;\nuniform vec4 color;\nuniform float alpha;\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\nvoid main() {\n\tvec4 a = vec4(color.r, color.g, color.b, color.a);\n\ta.w = alpha;\n\ta.xyz *= alpha;\n\tgl_FragColor = a;\n\t#include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n}',null),$ppdi.preCompile2D(0,4,"attribute vec4 position;\nattribute vec3 a_color;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\nuniform vec2 u_pos;\nuniform vec2 size;\nvarying vec3 color;\nvoid main(){\n  vec4 tPos = vec4(position.x + u_pos.x,position.y + u_pos.y,position.z,position.w);\n  vec4 pos=mmat*u_mmat2*tPos;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  color=a_color;\n}","precision mediump float;\n//precision mediump float;\nvarying vec3 color;\nuniform float alpha;\nvoid main(){\n\t//vec4 a=vec4(color.r, color.g, color.b, 1);\n\t//a.a*=alpha;\n    gl_FragColor=vec4(color.r, color.g, color.b, alpha);\n\tgl_FragColor.rgb*=alpha;\n}",null),$ppdi.preCompile2D(0,256,"attribute vec4 position;\nattribute vec2 texcoord;\nuniform vec2 size;\n\n#ifdef WORLDMAT\nuniform mat4 mmat;\n#endif\nvarying vec2 v_texcoord;\nvoid main() {\n  #ifdef WORLDMAT\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  #else\n  gl_Position =vec4((position.x/size.x-0.5)*2.0,(0.5-position.y/size.y)*2.0,position.z,1.0);\n  #endif\n  \n  v_texcoord = texcoord;\n}",'#ifdef FSHIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n//precision highp float;\nvarying vec2 v_texcoord;\nuniform sampler2D texture;\nuniform float alpha;\nuniform vec4 u_TexRange;\nuniform vec2 u_offset;\n#include?BLUR_FILTER  "parts/BlurFilter_ps_uniform.glsl";\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\n#include?GLOW_FILTER "parts/GlowFilter_ps_uniform.glsl";\n#include?COLOR_ADD "parts/ColorAdd_ps_uniform.glsl";\n\nvoid main() {\n   vec2 newTexCoord;\n   newTexCoord.x = mod(u_offset.x + v_texcoord.x,u_TexRange.y) + u_TexRange.x;\n   newTexCoord.y = mod(u_offset.y + v_texcoord.y,u_TexRange.w) + u_TexRange.z;\n   vec4 color= texture2D(texture, newTexCoord);\n   color.a*=alpha;\n   gl_FragColor=color;\n   #include?COLOR_ADD "parts/ColorAdd_ps_logic.glsl";   \n   #include?BLUR_FILTER  "parts/BlurFilter_ps_logic.glsl";\n   #include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n   #include?GLOW_FILTER "parts/GlowFilter_ps_logic.glsl";\n}',null),$ppdi.preCompile2D(0,512,"attribute vec2 position;\nattribute vec2 texcoord;\nattribute vec4 color;\nuniform vec2 size;\nuniform float offsetX;\nuniform float offsetY;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nvoid main() {\n  vec4 pos=mmat*u_mmat2*vec4(offsetX+position.x,offsetY+position.y,0,1 );\n  gl_Position = vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  v_color = color;\n  v_color.rgb *= v_color.a;\n  v_texcoord = texcoord;  \n}","precision mediump float;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nuniform sampler2D texture;\nuniform float alpha;\nvoid main() {\n\tvec4 t_color = texture2D(texture, v_texcoord);\n\tgl_FragColor = t_color.rgba * v_color;\n\tgl_FragColor *= alpha;\n}",null)};var $ppxt=$ppwt;function $ppwt(){this.ALPHA=1,this.shaderType=0,this.defines=new $ppCe}$ppn($ppTt,"laya.webgl.shader.ShaderDefines"),($ppi=$ppTt.prototype).add=function($ppt){return"string"==typeof $ppt&&($ppt=this._name2int[$ppt]),this._value|=$ppt,this._value},$ppi.addInt=function($ppt){return this._value|=$ppt,this._value},$ppi.remove=function($ppt){return"string"==typeof $ppt&&($ppt=this._name2int[$ppt]),this._value&=~$ppt,this._value},$ppi.isDefine=function($ppt){return(this._value&$ppt)===$ppt},$ppi.getValue=function(){return this._value},$ppi.setValue=function($ppt){this._value=$ppt},$ppi.toNameDic=function(){var $ppt=this._int2nameMap[this._value];return $ppt||$ppTt._toText(this._value,this._int2name,this._int2nameMap)},$ppTt._reg=function($ppt,$ppe,$ppi,$ppn){$ppn[$ppi[$ppt]=$ppe]=$ppt},$ppTt._toText=function($ppt,$ppe,$ppi){var $ppn=$ppi[$ppt];if($ppn)return $ppn;var $ppr={};var $pps;for(var $ppa=0;$ppa<32&&!($ppt<($pps=1<<$ppa));$ppa++){var $ppo;$ppt&$pps&&(($ppo=$ppe[$pps])&&($ppr[$ppo]=""))}return $ppi[$ppt]=$ppr},$ppTt._toInt=function($ppt,$ppe){var $ppi=$ppt.split(".");var $ppn=0;for(var $ppr=0,$pps=$ppi.length;$ppr<$pps;$ppr++){var $ppa=$ppe[$ppi[$ppr]];if(!$ppa)throw new Error("Defines to int err:"+$ppt+"/"+$ppi[$ppr]);$ppn|=$ppa}return $ppn};var $ppbt=$ppTt;function $ppTt($ppt,$ppe,$ppi){this._value=0,this._name2int=$ppt,this._int2name=$ppe,this._int2nameMap=$ppi}$ppn($ppCt,"laya.webgl.shader.d2.skinAnishader.SkinMesh"),($ppi=$ppCt.prototype).init=function($ppt,$ppe,$ppi){var $ppn;$ppe?this._vs=$ppe:(this._vs=[],$ppe=$ppt.width,$ppn=$ppt.height,this._vs.push(0,0,0,0,1,1,1,1),this._vs.push($ppe,0,1,0,1,1,1,1),this._vs.push($ppe,$ppn,1,1,1,1,1,1),this._vs.push(0,$ppn,0,1,1,1,1,1)),$ppi?this._ps=$ppi:($ppCt._defaultPS||($ppCt._defaultPS=[]).push(0,1,3,3,1,2),this._ps=$ppCt._defaultPS),this.mVBData=new Float32Array(this._vs),this.mIBData=new Uint16Array(this._ps.length),this.mIBData.start=-1,this.mEleNum=this._ps.length,this.mTexture=$ppt},$ppi.init2=function($ppt,$ppe,$ppi,$ppn,$ppr){this.transform&&(this.transform=null),$ppi?this._ps=$ppi:(this._ps=[],this._ps.push(0,1,3,3,1,2)),this._verticles=$ppn,this._uvs=$ppr,this.mEleNum=this._ps.length,this.mTexture=$ppt,($ppD.isConchNode||$ppD.isConchApp)&&(this._initMyData(),this.mVBData=new Float32Array(this._vs))},$ppi._initMyData=function(){var $ppt=0;var $ppe=0;var $ppi=4*this._verticles.length;this._vs=$ppCt._tempVS;var $ppn=!1;if(($ppD.isConchNode||$ppD.isConchApp||this._vs.length<$ppi)&&(this._vs.length=$ppi,$ppn=!0),$ppCt._tVSLen=$ppi,$ppn)for(;$ppt<$ppi;)this._vs[$ppt]=this._verticles[$ppe],this._vs[$ppt+1]=this._verticles[$ppe+1],this._vs[$ppt+2]=this._uvs[$ppe],this._vs[$ppt+3]=this._uvs[$ppe+1],this._vs[$ppt+4]=1,this._vs[$ppt+5]=1,this._vs[$ppt+6]=1,this._vs[$ppt+7]=1,$ppt+=8,$ppe+=2;else for(;$ppt<$ppi;)this._vs[$ppt]=this._verticles[$ppe],this._vs[$ppt+1]=this._verticles[$ppe+1],this._vs[$ppt+2]=this._uvs[$ppe],this._vs[$ppt+3]=this._uvs[$ppe+1],$ppt+=8,$ppe+=2},$ppi.getData2=function($ppt,$ppe,$ppi){var $ppn;this.mVBBuffer=$ppt,this.mIBBuffer=$ppe,this._initMyData(),$ppt.appendEx2(this._vs,Float32Array,$ppCt._tVSLen,4),this._indexStart=$ppe._byteLength,($ppn=$ppCt._tempIB).length<this._ps.length&&($ppn.length=this._ps.length);for(var $ppr=0,$pps=this._ps.length;$ppr<$pps;$ppr++)$ppn[$ppr]=this._ps[$ppr]+$ppi;$ppe.appendEx2($ppn,Uint16Array,this._ps.length,2)},$ppi.getData=function($ppt,$ppe,$ppi){if(this.mVBBuffer=$ppt,this.mIBBuffer=$ppe,$ppt.append(this.mVBData),this._indexStart=$ppe._byteLength,this.mIBData.start!=$ppi){for(var $ppn=0,$ppr=this._ps.length;$ppn<$ppr;$ppn++)this.mIBData[$ppn]=this._ps[$ppn]+$ppi;this.mIBData.start=$ppi}$ppe.append(this.mIBData)},$ppi.render=function($ppt,$ppe,$ppi){var $ppn,$ppr,$pps;$ppD.isWebGL&&this.mTexture?($ppt._renderKey=0,$ppt._shader2D.glTexture=null,$ppMt.getInstance().addSkinMesh(this),$ppn=$ppBt.createShape($ppt,this.mIBBuffer,this.mVBBuffer,this.mEleNum,this._indexStart,$ppge.create(512,0)),this.transform||(this.transform=$ppS.EMPTY),this.transform.translate($ppe,$ppi),$ppS.mul(this.transform,$ppt._curMat,this._tempMatrix),this.transform.translate(-$ppe,-$ppi),$pps=($ppr=$ppn.shaderValue).u_mmat2||$ppl.getMatrArray(),$ppl.mat2MatArray(this._tempMatrix,$pps),$ppr.textureHost=this.mTexture,$ppr.offsetX=0,$ppr.offsetY=0,$ppr.u_mmat2=$pps,$ppr.ALPHA=$ppt._shader2D.ALPHA,$ppt._submits[$ppt._submits._length++]=$ppn):$ppD.isConchApp&&this.mTexture&&(this.transform||(this.transform=$ppS.EMPTY),$ppt.setSkinMesh&&$ppt.setSkinMesh($ppe,$ppi,this._ps,this.mVBData,this.mEleNum,0,this.mTexture,this.transform))},$ppCt._tempVS=[],$ppCt._tempIB=[],$ppCt._defaultPS=null,$ppCt._tVSLen=0;var $ppSt=$ppCt;function $ppCt(){this.mVBBuffer=null,this.mIBBuffer=null,this.mVBData=null,this.mIBData=null,this.mEleNum=0,this.mTexture=null,this.transform=null,this._vs=null,this._ps=null,this._indexStart=-1,this._verticles=null,this._uvs=null,this._tempMatrix=new $ppS}$ppn($ppEt,"laya.webgl.shader.d2.skinAnishader.SkinMeshBuffer"),($ppi=$ppEt.prototype).addSkinMesh=function($ppt){$ppt.getData2(this.vb,this.ib,this.vb._byteLength/32)},$ppi.reset=function(){this.vb.clear(),this.ib.clear()},$ppEt.getInstance=function(){return $ppEt.instance=$ppEt.instance||new $ppEt},$ppEt.instance=null;var $ppMt=$ppEt;function $ppEt(){this.ib=null,this.vb=null;$ppc.mainContext;this.ib=$ppEi.create(35048),this.vb=$ppDi.create(8)}$ppn($ppAt,"laya.webgl.shapes.BasePoly"),$ppi=$ppAt.prototype,$ppg.imps($ppi,{"laya.webgl.shapes.IShape":!0}),$ppi.getData=function($ppt,$ppe,$ppi){},$ppi.rebuild=function($ppt){},$ppi.setMatrix=function($ppt){},$ppi.needUpdate=function($ppt){return!0},$ppi.sector=function($ppt,$ppc,$ppe){var $ppi=this.x,$ppn=this.y,$ppr=this.edges,$pps=(this.r1-this.r0)/$ppr;var $ppu=this.width,$pp_=this.height,$ppa=this.color;var $ppo=($ppa>>16&255)/255,$pph=($ppa>>8&255)/255,$ppd=(255&$ppa)/255;$ppt.push($ppi,$ppn,$ppo,$pph,$ppd);for(var $ppl=0;$ppl<$ppr+1;$ppl++)$ppt.push($ppi+Math.sin($pps*$ppl+this.r0)*$ppu,$ppn+Math.cos($pps*$ppl+this.r0)*$pp_),$ppt.push($ppo,$pph,$ppd);for($ppl=0;$ppl<$ppr;$ppl++)$ppc.push($ppe,$ppe+$ppl+1,$ppe+$ppl+2)},$ppi.createLine2=function($ppc,$ppu,$pp_,$ppd,$ppf,$ppp){var $ppt=$ppc.concat();var $ppm=$ppf;$ppc=this.borderColor;var $ppg=($ppc>>16&255)/255,$ppv=($ppc>>8&255)/255,$ppy=(255&$ppc)/255;var $ppx=$ppt.length/2;var $ppw=$ppd,$ppb=$pp_/2;var $ppe,$ppi,$ppn,$ppr;var $pps,$ppa;var $ppT,$ppS,$ppC,$ppM,$ppo,$ppE;var $pph,$ppA;$ppe=$ppt[0],$ppi=$ppt[1],$ppn=$ppt[2],$pps=-($ppi-($ppr=$ppt[3])),$ppa=$ppe-$ppn,$ppA=Math.sqrt($pps*$pps+$ppa*$ppa),$ppm.push($ppe-($pps=$pps/$ppA*$ppb)+this.x,$ppi-($ppa=$ppa/$ppA*$ppb)+this.y,$ppg,$ppv,$ppy,$ppe+$pps+this.x,$ppi+$ppa+this.y,$ppg,$ppv,$ppy);for(var $ppl=1;$ppl<$ppx-1;$ppl++)$ppe=$ppt[2*($ppl-1)],$ppi=$ppt[2*($ppl-1)+1],$ppn=$ppt[2*$ppl],$ppr=$ppt[2*$ppl+1],$ppM=$ppt[2*($ppl+1)],$ppS=$ppt[2*($ppl+1)+1],$ppa=$ppe-$ppn,$pph=$ppn-$ppM,$ppC=(-($pps=($pps=-($ppi-$ppr))/($ppA=Math.sqrt($pps*$pps+$ppa*$ppa))*$ppb)+$ppe)*(-($ppa=$ppa/$ppA*$ppb)+$ppr)-(-$pps+$ppn)*(-$ppa+$ppi),$ppE=(-($ppo=($ppo=-($ppr-$ppS))/($ppA=Math.sqrt($ppo*$ppo+$pph*$pph))*$ppb)+$ppM)*(-($pph=$pph/$ppA*$ppb)+$ppr)-(-$ppo+$ppn)*(-$pph+$ppS),$pph=($ppT=-$ppa+$ppi-(-$ppa+$ppr))*($ppo=-$ppo+$ppn-(-$ppo+$ppM))-($ppM=-$pph+$ppS-(-$pph+$ppr))*($ppS=-$pps+$ppn-(-$pps+$ppe)),Math.abs($pph)<.1?($pph+=10.1,$ppm.push($ppn-$pps+this.x,$ppr-$ppa+this.y,$ppg,$ppv,$ppy,$ppn+$pps+this.x,$ppr+$ppa+this.y,$ppg,$ppv,$ppy)):($ppS=($ppS*$ppE-$ppo*$ppC)/$pph,$ppo=($ppM*$ppC-$ppT*$ppE)/$pph,$ppm.push($ppS+this.x,$ppo+this.y,$ppg,$ppv,$ppy,$ppn-($ppS-$ppn)+this.x,$ppr-($ppo-$ppr)+this.y,$ppg,$ppv,$ppy));$ppe=$ppt[$ppt.length-4],$ppi=$ppt[$ppt.length-3],$ppn=$ppt[$ppt.length-2],$pps=-($ppi-($ppr=$ppt[$ppt.length-1])),$ppa=$ppe-$ppn,$ppA=Math.sqrt($pps*$pps+$ppa*$ppa),$ppm.push($ppn-($pps=$pps/$ppA*$ppb)+this.x,$ppr-($ppa=$ppa/$ppA*$ppb)+this.y,$ppg,$ppv,$ppy,$ppn+$pps+this.x,$ppr+$ppa+this.y,$ppg,$ppv,$ppy);var $ppD=$ppp;for($ppl=1;$ppl<$ppD;$ppl++)$ppu.push($ppw+2*($ppl-1),$ppw+2*($ppl-1)+1,$ppw+2*$ppl+1,$ppw+2*$ppl+1,$ppw+2*$ppl,$ppw+2*($ppl-1));return $ppm},$ppi.createLine=function($ppc,$ppu,$pp_,$ppd){var $ppt=$ppc.concat();var $ppf=$ppc;$ppc=this.borderColor;var $ppp=($ppc>>16&255)/255,$ppm=($ppc>>8&255)/255,$ppg=(255&$ppc)/255;$ppt.splice(0,5);var $ppv=$ppt.length/5;var $ppy=$ppd,$ppx=$pp_/2;var $ppe,$ppi,$ppn,$ppr;var $pps,$ppa;var $ppw,$ppb,$ppT,$ppS,$ppo,$ppC;var $pph,$ppM;$ppe=$ppt[0],$ppi=$ppt[1],$ppn=$ppt[5],$pps=-($ppi-($ppr=$ppt[6])),$ppa=$ppe-$ppn,$ppM=Math.sqrt($pps*$pps+$ppa*$ppa),$ppf.push($ppe-($pps=$pps/$ppM*$ppx),$ppi-($ppa=$ppa/$ppM*$ppx),$ppp,$ppm,$ppg,$ppe+$pps,$ppi+$ppa,$ppp,$ppm,$ppg);for(var $ppl=1;$ppl<$ppv-1;$ppl++)$ppe=$ppt[5*($ppl-1)],$ppi=$ppt[5*($ppl-1)+1],$ppn=$ppt[5*$ppl],$ppr=$ppt[5*$ppl+1],$ppS=$ppt[5*($ppl+1)],$ppb=$ppt[5*($ppl+1)+1],$ppa=$ppe-$ppn,$pph=$ppn-$ppS,$ppT=(-($pps=($pps=-($ppi-$ppr))/($ppM=Math.sqrt($pps*$pps+$ppa*$ppa))*$ppx)+$ppe)*(-($ppa=$ppa/$ppM*$ppx)+$ppr)-(-$pps+$ppn)*(-$ppa+$ppi),$ppC=(-($ppo=($ppo=-($ppr-$ppb))/($ppM=Math.sqrt($ppo*$ppo+$pph*$pph))*$ppx)+$ppS)*(-($pph=$pph/$ppM*$ppx)+$ppr)-(-$ppo+$ppn)*(-$pph+$ppb),$pph=($ppw=-$ppa+$ppi-(-$ppa+$ppr))*($ppo=-$ppo+$ppn-(-$ppo+$ppS))-($ppS=-$pph+$ppb-(-$pph+$ppr))*($ppb=-$pps+$ppn-(-$pps+$ppe)),Math.abs($pph)<.1?($pph+=10.1,$ppf.push($ppn-$pps,$ppr-$ppa,$ppp,$ppm,$ppg,$ppn+$pps,$ppr+$ppa,$ppp,$ppm,$ppg)):($ppb=($ppb*$ppC-$ppo*$ppT)/$pph,$ppo=($ppS*$ppT-$ppw*$ppC)/$pph,$ppf.push($ppb,$ppo,$ppp,$ppm,$ppg,$ppn-($ppb-$ppn),$ppr-($ppo-$ppr),$ppp,$ppm,$ppg));$ppe=$ppt[$ppt.length-10],$ppi=$ppt[$ppt.length-9],$ppn=$ppt[$ppt.length-5],$pps=-($ppi-($ppr=$ppt[$ppt.length-4])),$ppa=$ppe-$ppn,$ppM=Math.sqrt($pps*$pps+$ppa*$ppa),$ppf.push($ppn-($pps=$pps/$ppM*$ppx),$ppr-($ppa=$ppa/$ppM*$ppx),$ppp,$ppm,$ppg,$ppn+$pps,$ppr+$ppa,$ppp,$ppm,$ppg);var $ppE=this.edges+1;for($ppl=1;$ppl<$ppE;$ppl++)$ppu.push($ppy+2*($ppl-1),$ppy+2*($ppl-1)+1,$ppy+2*$ppl+1,$ppy+2*$ppl+1,$ppy+2*$ppl,$ppy+2*($ppl-1));return $ppf},$ppi.createLoopLine=function($ppc,$ppu,$pp_,$ppd,$ppt,$ppf){var $ppe=$ppc.concat();var $ppp=$ppt||$ppc;$ppt=this.borderColor;var $ppm=($ppt>>16&255)/255,$ppg=($ppt>>8&255)/255,$ppv=(255&$ppt)/255;$ppe.splice(0,5);$ppc=[$ppe[0],$ppe[1]];$ppt=[$ppe[$ppe.length-5],$ppe[$ppe.length-4]];var $ppy=$ppt[0]+.5*($ppc[0]-$ppt[0]);$ppc=$ppt[1]+.5*($ppc[1]-$ppt[1]);$ppe.unshift($ppy,$ppc,0,0,0),$ppe.push($ppy,$ppc,0,0,0);var $ppx=$ppe.length/5;var $ppi=$ppd,$ppw=$pp_/2;var $ppb,$ppT,$ppn,$ppr;var $pps,$ppa;var $ppS,$ppC,$ppM,$ppE,$ppo,$ppA;var $pph,$ppD;$ppb=$ppe[0],$ppT=$ppe[1],$ppn=$ppe[5],$pps=-($ppT-$ppe[6]),$ppa=$ppb-$ppn,$ppD=Math.sqrt($pps*$pps+$ppa*$ppa),$ppp.push($ppb-($pps=$pps/$ppD*$ppw),$ppT-($ppa=$ppa/$ppD*$ppw),$ppm,$ppg,$ppv,$ppb+$pps,$ppT+$ppa,$ppm,$ppg,$ppv);for(var $ppl=1;$ppl<$ppx-1;$ppl++)$ppb=$ppe[5*($ppl-1)],$ppT=$ppe[5*($ppl-1)+1],$ppn=$ppe[5*$ppl],$ppr=$ppe[5*$ppl+1],$ppE=$ppe[5*($ppl+1)],$ppC=$ppe[5*($ppl+1)+1],$ppa=$ppb-$ppn,$pph=$ppn-$ppE,$ppM=(-($pps=($pps=-($ppT-$ppr))/($ppD=Math.sqrt($pps*$pps+$ppa*$ppa))*$ppw)+$ppb)*(-($ppa=$ppa/$ppD*$ppw)+$ppr)-(-$pps+$ppn)*(-$ppa+$ppT),$ppA=(-($ppo=($ppo=-($ppr-$ppC))/($ppD=Math.sqrt($ppo*$ppo+$pph*$pph))*$ppw)+$ppE)*(-($pph=$pph/$ppD*$ppw)+$ppr)-(-$ppo+$ppn)*(-$pph+$ppC),$pph=($ppS=-$ppa+$ppT-(-$ppa+$ppr))*($ppo=-$ppo+$ppn-(-$ppo+$ppE))-($ppE=-$pph+$ppC-(-$pph+$ppr))*($ppC=-$pps+$ppn-(-$pps+$ppb)),Math.abs($pph)<.1?($pph+=10.1,$ppp.push($ppn-$pps,$ppr-$ppa,$ppm,$ppg,$ppv,$ppn+$pps,$ppr+$ppa,$ppm,$ppg,$ppv)):($ppC=($ppC*$ppA-$ppo*$ppM)/$pph,$ppo=($ppE*$ppM-$ppS*$ppA)/$pph,$ppp.push($ppC,$ppo,$ppm,$ppg,$ppv,$ppn-($ppC-$ppn),$ppr-($ppo-$ppr),$ppm,$ppg,$ppv));$ppf&&($ppu=$ppf);var $ppI=this.edges+1;for($ppl=1;$ppl<$ppI;$ppl++)$ppu.push($ppi+2*($ppl-1),$ppi+2*($ppl-1)+1,$ppi+2*$ppl+1,$ppi+2*$ppl+1,$ppi+2*$ppl,$ppi+2*($ppl-1));return $ppu.push($ppi+2*($ppl-1),$ppi+2*($ppl-1)+1,$ppi+1,$ppi+1,$ppi,$ppi+2*($ppl-1)),$ppp};$ppi=$ppAt;function $ppAt($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph){this.r0=0,this.fill=!0,this.r1=Math.PI/2,void 0===$pph&&($pph=0),this.x=$ppt,this.y=$ppe,this.width=$ppi,this.height=$ppn,this.edges=$ppr,this.color=$pps,this.borderWidth=$ppa,this.borderColor=$ppo}$ppn($ppp,"laya.webgl.shapes.Earcut"),$ppp.earcut=function($ppt,$ppe,$ppi){$ppi=$ppi||2;var $ppc=$ppe&&$ppe.length,$ppu=$ppc?$ppe[0]*$ppi:$ppt.length,$ppn=$ppp.linkedList($ppt,0,$ppu,$ppi,!0),$pp_=[];if(!$ppn)return $pp_;var $ppr,$pps,$ppa,$ppo,$pph,$ppl,$ppd;if($ppc&&($ppn=$ppp.eliminateHoles($ppt,$ppe,$ppn,$ppi)),$ppt.length>80*$ppi){$ppr=$ppa=$ppt[0],$pps=$ppo=$ppt[1];for(var $ppf=$ppi;$ppf<$ppu;$ppf+=$ppi)($pph=$ppt[$ppf])<$ppr&&($ppr=$pph),($ppl=$ppt[$ppf+1])<$pps&&($pps=$ppl),$ppa<$pph&&($ppa=$pph),$ppo<$ppl&&($ppo=$ppl);$ppd=0!==($ppd=Math.max($ppa-$ppr,$ppo-$pps))?1/$ppd:0}return $ppp.earcutLinked($ppn,$pp_,$ppi,$ppr,$pps,$ppd),$pp_},$ppp.linkedList=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps,$ppa;if($ppr===0<$ppp.signedArea($ppt,$ppe,$ppi,$ppn))for($pps=$ppe;$pps<$ppi;$pps+=$ppn)$ppa=$ppp.insertNode($pps,$ppt[$pps],$ppt[$pps+1],$ppa);else for($pps=$ppi-$ppn;$ppe<=$pps;$pps-=$ppn)$ppa=$ppp.insertNode($pps,$ppt[$pps],$ppt[$pps+1],$ppa);return $ppa&&$ppp.equals($ppa,$ppa.next)&&($ppp.removeNode($ppa),$ppa=$ppa.next),$ppa},$ppp.filterPoints=function($ppt,$ppe){if(!$ppt)return $ppt;$ppe=$ppe||$ppt;var $ppi,$ppn=$ppt;do{if($ppi=!1,$ppn.steiner||!$ppp.equals($ppn,$ppn.next)&&0!==$ppp.area($ppn.prev,$ppn,$ppn.next))$ppn=$ppn.next;else{if($ppp.removeNode($ppn),($ppn=$ppe=$ppn.prev)===$ppn.next)break;$ppi=!0}}while($ppi||$ppn!==$ppe);return $ppe},$ppp.earcutLinked=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){if($ppt){!$ppa&&$pps&&$ppp.indexCurve($ppt,$ppn,$ppr,$pps);var $ppo,$pph,$ppl=$ppt;for(;$ppt.prev!==$ppt.next;)if($ppo=$ppt.prev,$pph=$ppt.next,$pps?$ppp.isEarHashed($ppt,$ppn,$ppr,$pps):$ppp.isEar($ppt))$ppe.push($ppo.i/$ppi),$ppe.push($ppt.i/$ppi),$ppe.push($pph.i/$ppi),$ppp.removeNode($ppt),$ppt=$pph.next,$ppl=$pph.next;else if(($ppt=$pph)===$ppl){$ppa?1===$ppa?($ppt=$ppp.cureLocalIntersections($ppt,$ppe,$ppi),$ppp.earcutLinked($ppt,$ppe,$ppi,$ppn,$ppr,$pps,2)):2===$ppa&&$ppp.splitEarcut($ppt,$ppe,$ppi,$ppn,$ppr,$pps):$ppp.earcutLinked($ppp.filterPoints($ppt,null),$ppe,$ppi,$ppn,$ppr,$pps,1);break}}},$ppp.isEar=function($ppt){var $ppe=$ppt.prev,$ppi=$ppt,$ppn=$ppt.next;if(0<=$ppp.area($ppe,$ppi,$ppn))return!1;var $ppr=$ppt.next.next;for(;$ppr!==$ppt.prev;){if($ppp.pointInTriangle($ppe.x,$ppe.y,$ppi.x,$ppi.y,$ppn.x,$ppn.y,$ppr.x,$ppr.y)&&0<=$ppp.area($ppr.prev,$ppr,$ppr.next))return!1;$ppr=$ppr.next}return!0},$ppp.isEarHashed=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt.prev,$pps=$ppt,$ppa=$ppt.next;if(0<=$ppp.area($ppr,$pps,$ppa))return!1;var $ppo=($ppr.x<$pps.x?$ppr.x<$ppa.x?$ppr:$ppa:$pps.x<$ppa.x?$pps:$ppa).x,$pph=($ppr.y<$pps.y?$ppr.y<$ppa.y?$ppr:$ppa:$pps.y<$ppa.y?$pps:$ppa).y,$ppc=($ppr.x>$pps.x?$ppr.x>$ppa.x?$ppr:$ppa:$pps.x>$ppa.x?$pps:$ppa).x,$ppu=($ppr.y>$pps.y?$ppr.y>$ppa.y?$ppr:$ppa:$pps.y>$ppa.y?$pps:$ppa).y;var $pp_=$ppp.zOrder($ppo,$pph,$ppe,$ppi,$ppn),$ppd=$ppp.zOrder($ppc,$ppu,$ppe,$ppi,$ppn);var $ppl=$ppt.nextZ;for(;$ppl&&$ppl.z<=$ppd;){if($ppl!==$ppt.prev&&$ppl!==$ppt.next&&$ppp.pointInTriangle($ppr.x,$ppr.y,$pps.x,$pps.y,$ppa.x,$ppa.y,$ppl.x,$ppl.y)&&0<=$ppp.area($ppl.prev,$ppl,$ppl.next))return!1;$ppl=$ppl.nextZ}for($ppl=$ppt.prevZ;$ppl&&$ppl.z>=$pp_;){if($ppl!==$ppt.prev&&$ppl!==$ppt.next&&$ppp.pointInTriangle($ppr.x,$ppr.y,$pps.x,$pps.y,$ppa.x,$ppa.y,$ppl.x,$ppl.y)&&0<=$ppp.area($ppl.prev,$ppl,$ppl.next))return!1;$ppl=$ppl.prevZ}return!0},$ppp.cureLocalIntersections=function($ppt,$ppe,$ppi){var $ppn=$ppt;do{var $ppr=$ppn.prev,$pps=$ppn.next.next}while(!$ppp.equals($ppr,$pps)&&$ppp.intersects($ppr,$ppn,$ppn.next,$pps)&&$ppp.locallyInside($ppr,$pps)&&$ppp.locallyInside($pps,$ppr)&&($ppe.push($ppr.i/$ppi),$ppe.push($ppn.i/$ppi),$ppe.push($pps.i/$ppi),$ppp.removeNode($ppn),$ppp.removeNode($ppn.next),$ppn=$ppt=$pps),($ppn=$ppn.next)!==$ppt);return $ppn},$ppp.splitEarcut=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){var $ppa=$ppt;do{var $ppo=$ppa.next.next;for(;$ppo!==$ppa.prev;){var $pph;if($ppa.i!==$ppo.i&&$ppp.isValidDiagonal($ppa,$ppo))return $pph=$ppp.splitPolygon($ppa,$ppo),$ppa=$ppp.filterPoints($ppa,$ppa.next),$pph=$ppp.filterPoints($pph,$pph.next),$ppp.earcutLinked($ppa,$ppe,$ppi,$ppn,$ppr,$pps),void $ppp.earcutLinked($pph,$ppe,$ppi,$ppn,$ppr,$pps);$ppo=$ppo.next}}while(($ppa=$ppa.next)!==$ppt)},$ppp.eliminateHoles=function($ppt,$ppe,$ppi,$ppn){var $ppr,$pps,$ppa,$ppo,$pph=[];for($ppr=0,$pps=$ppe.length;$ppr<$pps;$ppr++)$ppo=$ppe[$ppr]*$ppn,$ppa=$ppr<$pps-1?$ppe[$ppr+1]*$ppn:$ppt.length,($ppo=$ppp.linkedList($ppt,$ppo,$ppa,$ppn,!1))===$ppo.next&&($ppo.steiner=!0),$pph.push($ppp.getLeftmost($ppo));for($pph.sort($ppp.compareX),$ppr=0;$ppr<$pph.length;$ppr++)$ppp.eliminateHole($pph[$ppr],$ppi),$ppi=$ppp.filterPoints($ppi,$ppi.next);return $ppi},$ppp.compareX=function($ppt,$ppe){return $ppt.x-$ppe.x},$ppp.eliminateHole=function($ppt,$ppe){($ppe=$ppp.findHoleBridge($ppt,$ppe))&&($ppe=$ppp.splitPolygon($ppe,$ppt),$ppp.filterPoints($ppe,$ppe.next))},$ppp.findHoleBridge=function($ppt,$ppc){var $ppe,$ppi=$ppc,$ppn=$ppt.x,$ppr=$ppt.y,$pps=-1/0;do{if($ppr<=$ppi.y&&$ppr>=$ppi.next.y&&$ppi.next.y!==$ppi.y){var $ppa=$ppi.x+($ppr-$ppi.y)*($ppi.next.x-$ppi.x)/($ppi.next.y-$ppi.y);if($ppa<=$ppn&&$pps<$ppa){if(($pps=$ppa)===$ppn){if($ppr===$ppi.y)return $ppi;if($ppr===$ppi.next.y)return $ppi.next}$ppe=$ppi.x<$ppi.next.x?$ppi:$ppi.next}}}while(($ppi=$ppi.next)!==$ppc);if(!$ppe)return null;if($ppn===$pps)return $ppe.prev;var $ppo,$ppu=$ppe,$pp_=$ppe.x,$pph=$ppe.y,$ppl=1/0;for($ppi=$ppe.next;$ppi!==$ppu;)$ppn>=$ppi.x&&$ppi.x>=$pp_&&$ppn!==$ppi.x&&$ppp.pointInTriangle($ppr<$pph?$ppn:$pps,$ppr,$pp_,$pph,$ppr<$pph?$pps:$ppn,$ppr,$ppi.x,$ppi.y)&&(($ppo=Math.abs($ppr-$ppi.y)/($ppn-$ppi.x))<$ppl||$ppo===$ppl&&$ppi.x>$ppe.x)&&$ppp.locallyInside($ppi,$ppt)&&($ppe=$ppi,$ppl=$ppo),$ppi=$ppi.next;return $ppe},$ppp.indexCurve=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt;for(;null===$ppr.z&&($ppr.z=$ppp.zOrder($ppr.x,$ppr.y,$ppe,$ppi,$ppn)),$ppr.prevZ=$ppr.prev,$ppr.nextZ=$ppr.next,($ppr=$ppr.next)!==$ppt;);$ppr.prevZ.nextZ=null,$ppr.prevZ=null,$ppp.sortLinked($ppr)},$ppp.sortLinked=function($ppt){var $ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph,$ppl=1;do{for($ppi=$ppt,$pps=$ppt=null,$ppa=0;$ppi;){for($ppa++,$ppn=$ppi,$ppe=$ppo=0;$ppe<$ppl&&($ppo++,$ppn=$ppn.nextZ);$ppe++);for($pph=$ppl;0<$ppo||0<$pph&&$ppn;)0!==$ppo&&(0===$pph||!$ppn||$ppi.z<=$ppn.z)?($ppi=($ppr=$ppi).nextZ,$ppo--):($ppn=($ppr=$ppn).nextZ,$pph--),$pps?$pps.nextZ=$ppr:$ppt=$ppr,$ppr.prevZ=$pps,$pps=$ppr;$ppi=$ppn}}while($pps.nextZ=null,$ppl*=2,1<$ppa);return $ppt},$ppp.zOrder=function($ppt,$ppe,$ppi,$ppn,$ppr){return($ppt=1431655765&(($ppt=858993459&(($ppt=252645135&(($ppt=16711935&(($ppt=32767*($ppt-$ppi)*$ppr)|$ppt<<8))|$ppt<<4))|$ppt<<2))|$ppt<<1))|($ppe=1431655765&(($ppe=858993459&(($ppe=252645135&(($ppe=16711935&(($ppe=32767*($ppe-$ppn)*$ppr)|$ppe<<8))|$ppe<<4))|$ppe<<2))|$ppe<<1))<<1},$ppp.getLeftmost=function($ppt){var $ppe=$ppt,$ppi=$ppt;for(;$ppe.x<$ppi.x&&($ppi=$ppe),($ppe=$ppe.next)!==$ppt;);return $ppi},$ppp.pointInTriangle=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){return 0<=($ppr-$ppa)*($ppe-$ppo)-($ppt-$ppa)*($pps-$ppo)&&0<=($ppt-$ppa)*($ppn-$ppo)-($ppi-$ppa)*($ppe-$ppo)&&0<=($ppi-$ppa)*($pps-$ppo)-($ppr-$ppa)*($ppn-$ppo)},$ppp.isValidDiagonal=function($ppt,$ppe){return $ppt.next.i!==$ppe.i&&$ppt.prev.i!==$ppe.i&&!$ppp.intersectsPolygon($ppt,$ppe)&&$ppp.locallyInside($ppt,$ppe)&&$ppp.locallyInside($ppe,$ppt)&&$ppp.middleInside($ppt,$ppe)},$ppp.area=function($ppt,$ppe,$ppi){return($ppe.y-$ppt.y)*($ppi.x-$ppe.x)-($ppe.x-$ppt.x)*($ppi.y-$ppe.y)},$ppp.equals=function($ppt,$ppe){return $ppt.x===$ppe.x&&$ppt.y===$ppe.y},$ppp.intersects=function($ppt,$ppe,$ppi,$ppn){return!!($ppp.equals($ppt,$ppe)&&$ppp.equals($ppi,$ppn)||$ppp.equals($ppt,$ppn)&&$ppp.equals($ppi,$ppe))||0<$ppp.area($ppt,$ppe,$ppi)!=0<$ppp.area($ppt,$ppe,$ppn)&&0<$ppp.area($ppi,$ppn,$ppt)!=0<$ppp.area($ppi,$ppn,$ppe)},$ppp.intersectsPolygon=function($ppt,$ppe){var $ppi=$ppt;do{if($ppi.i!==$ppt.i&&$ppi.next.i!==$ppt.i&&$ppi.i!==$ppe.i&&$ppi.next.i!==$ppe.i&&$ppp.intersects($ppi,$ppi.next,$ppt,$ppe))return!0}while(($ppi=$ppi.next)!==$ppt);return!1},$ppp.locallyInside=function($ppt,$ppe){return $ppp.area($ppt.prev,$ppt,$ppt.next)<0?0<=$ppp.area($ppt,$ppe,$ppt.next)&&0<=$ppp.area($ppt,$ppt.prev,$ppe):$ppp.area($ppt,$ppe,$ppt.prev)<0||$ppp.area($ppt,$ppt.next,$ppe)<0},$ppp.middleInside=function($ppt,$ppe){var $ppi=$ppt,$ppn=!1,$ppr=($ppt.x+$ppe.x)/2,$pps=($ppt.y+$ppe.y)/2;for(;$ppi.y>$pps!=$ppi.next.y>$pps&&$ppi.next.y!==$ppi.y&&$ppr<($ppi.next.x-$ppi.x)*($pps-$ppi.y)/($ppi.next.y-$ppi.y)+$ppi.x&&($ppn=!$ppn),($ppi=$ppi.next)!==$ppt;);return $ppn},$ppp.splitPolygon=function($ppt,$ppe){var $ppi=new $ppIt($ppt.i,$ppt.x,$ppt.y),$ppn=new $ppIt($ppe.i,$ppe.x,$ppe.y),$ppr=$ppt.next,$pps=$ppe.prev;return($ppt.next=$ppe).prev=$ppt,($ppi.next=$ppr).prev=$ppi,($ppn.next=$ppi).prev=$ppn,($pps.next=$ppn).prev=$pps,$ppn},$ppp.insertNode=function($ppt,$ppe,$ppi,$ppn){$ppt=new $ppIt($ppt,$ppe,$ppi);return $ppn?($ppt.next=$ppn.next,($ppt.prev=$ppn).next.prev=$ppt,$ppn.next=$ppt):($ppt.prev=$ppt).next=$ppt,$ppt},$ppp.removeNode=function($ppt){$ppt.next.prev=$ppt.prev,$ppt.prev.next=$ppt.next,$ppt.prevZ&&($ppt.prevZ.nextZ=$ppt.nextZ),$ppt.nextZ&&($ppt.nextZ.prevZ=$ppt.prevZ)},$ppp.signedArea=function($ppt,$ppe,$ppi,$ppn){var $ppr=0;for(var $pps=$ppe,$ppa=$ppi-$ppn;$pps<$ppi;$pps+=$ppn)$ppr+=($ppt[$ppa]-$ppt[$pps])*($ppt[$pps+1]+$ppt[$ppa+1]),$ppa=$pps;return $ppr};var $ppDt=$ppp;function $ppp(){}$ppn($ppRt,"laya.webgl.shapes.EarcutNode");var $ppIt=$ppRt;function $ppRt($ppt,$ppe,$ppi){this.i=null,this.x=null,this.y=null,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=null,this.i=$ppt,this.x=$ppe,this.y=$ppi,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}$ppn($ppPt,"laya.webgl.shapes.GeometryData"),($ppe=$ppPt.prototype).clone=function(){return new $ppPt(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},$ppe.getIndexData=function(){return null},$ppe.getVertexData=function(){return null},$ppe.destroy=function(){this.shape=null};function $ppPt($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){this.lineWidth=$ppt,this.lineColor=$ppe,this.lineAlpha=$ppi,this.fillColor=$ppn,this.fillAlpha=$ppr,this.shape=$ppa,this.fill=$pps}$ppn($ppLt,"laya.webgl.shapes.Vertex"),$ppe=$ppLt.prototype,$ppg.imps($ppe,{"laya.webgl.shapes.IShape":!0}),$ppe.getData=function($ppt,$ppe,$ppi){},$ppe.needUpdate=function($ppt){return!1},$ppe.rebuild=function($ppt){},$ppe.setMatrix=function($ppt){};function $ppLt($ppt){$ppt instanceof Float32Array?this.points=$ppt:$ppt instanceof Array&&($ppt.length,this.points=new Float32Array($ppt))}$ppn($ppNt,"laya.webgl.submit.Submit"),$ppe=$ppNt.prototype,$ppg.imps($ppe,{"laya.webgl.submit.ISubmit":!0}),$ppe.releaseRender=function(){var $ppt=$ppNt._cache;($ppt[$ppt._length++]=this).shaderValue.release(),this.shaderValue=null,this._vb=null,this._ib=null},$ppe.getRenderType=function(){return this._renderType},$ppe.renderSubmit=function(){if(0===this._numEle)return 1;var $ppt=this.shaderValue.textureHost;if($ppt){var $ppe=$ppt.source;if(!$ppt.bitmap||!$ppe)return 1;this.shaderValue.texture=$ppe}this._vb.bind_upload(this._ib);$ppt=$ppc.mainContext;return this.shaderValue.upload(),$pptt.activeBlendFunction!==this._blendFn&&($ppt.enable(3042),this._blendFn($ppt),$pptt.activeBlendFunction=this._blendFn),$ppO.drawCall++,$ppO.trianglesFaces+=this._numEle/3,$ppt.drawElements(4,this._numEle,5123,this._startIdx),1},$ppNt.__init__=function(){var $ppt=$ppNt.RENDERBASE=new $ppNt(-1);$ppt.shaderValue=new $ppge(0,0),$ppt.shaderValue.ALPHA=-1234},$ppNt.createSubmit=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=$ppNt._cache._length?$ppNt._cache[--$ppNt._cache._length]:new $ppNt;null==$ppi&&(($ppi=$pps._selfVb||($pps._selfVb=$ppDi.create(-1))).clear(),$ppn=0),$pps._ib=$ppe,$pps._vb=$ppi,$pps._startIdx=$ppn*$ppte.BYTES_PIDX,$pps._numEle=0;$ppe=$ppt._nBlendType;$pps._blendFn=($ppt._targets?$pptt.targetFns:$pptt.fns)[$ppe],$pps.shaderValue=$ppr,$pps.shaderValue.setValue($ppt._shader2D);$ppi=$ppt._shader2D.filters;return $ppi&&$pps.shaderValue.setFilters($ppi),$pps},$ppNt.createShape=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){var $ppa=$ppNt._cache._length?$ppNt._cache[--$ppNt._cache._length]:new $ppNt;$ppa._ib=$ppe,$ppa._vb=$ppi,$ppa._numEle=$ppn,$ppa._startIdx=$ppr,$ppa.shaderValue=$pps,$ppa.shaderValue.setValue($ppt._shader2D);$ppe=$ppt._nBlendType;return $ppa._blendFn=($ppt._targets?$pptt.targetFns:$pptt.fns)[$ppe],$ppa},$ppNt.TYPE_2D=1e4,$ppNt.TYPE_CANVAS=10003,$ppNt.TYPE_CMDSETRT=10004,$ppNt.TYPE_CUSTOM=10005,$ppNt.TYPE_BLURRT=10006,$ppNt.TYPE_CMDDESTORYPRERT=10007,$ppNt.TYPE_DISABLESTENCIL=10008,$ppNt.TYPE_OTHERIBVB=10009,$ppNt.TYPE_PRIMITIVE=10010,$ppNt.TYPE_RT=10011,$ppNt.TYPE_BLUR_RT=10012,$ppNt.TYPE_TARGET=10013,$ppNt.TYPE_CHANGE_VALUE=10014,$ppNt.TYPE_SHAPE=10015,$ppNt.TYPE_TEXTURE=10016,$ppNt.TYPE_FILLTEXTURE=10017,$ppNt.RENDERBASE=null,$ppNt._cache=(($ppNt._cache=[])._length=0,$ppNt._cache);var $ppBt=$ppNt;function $ppNt($ppt){this._renderType=$ppt=void 0===$ppt?1e4:$ppt}$ppn($ppFt,"laya.webgl.submit.SubmitCMD"),$ppe=$ppFt.prototype,$ppg.imps($ppe,{"laya.webgl.submit.ISubmit":!0}),$ppe.renderSubmit=function(){return this.fun.apply(null,this.args),1},$ppe.getRenderType=function(){return 0},$ppe.releaseRender=function(){var $ppt=$ppFt._cache;$ppt[$ppt._length++]=this},$ppFt.create=function($ppt,$ppe){var $ppi=$ppFt._cache._length?$ppFt._cache[--$ppFt._cache._length]:new $ppFt;return $ppi.fun=$ppe,$ppi.args=$ppt,$ppi},$ppFt._cache=(($ppFt._cache=[])._length=0,$ppFt._cache);var $ppOt=$ppFt;function $ppFt(){this.fun=null,this.args=null}$ppn($ppkt,"laya.webgl.submit.SubmitCMDScope"),($ppe=$ppkt.prototype).getValue=function($ppt){return this.variables[$ppt]},$ppe.addValue=function($ppt,$ppe){return this.variables[$ppt]=$ppe},$ppe.setValue=function($ppt,$ppe){return this.variables.hasOwnProperty($ppt)?this.variables[$ppt]=$ppe:null},$ppe.clear=function(){for(var $ppt in this.variables)delete this.variables[$ppt]},$ppe.recycle=function(){this.clear(),$ppkt.POOL.push(this)},$ppkt.create=function(){var $ppt=$ppkt.POOL.pop();return $ppt=$ppt||new $ppkt},$ppkt.POOL=[];var $ppVt=$ppkt;function $ppkt(){this.variables={}}$ppn($ppHt,"laya.webgl.submit.SubmitOtherIBVB"),$ppe=$ppHt.prototype,$ppg.imps($ppe,{"laya.webgl.submit.ISubmit":!0}),$ppe.releaseRender=function(){var $ppt=$ppHt._cache;($ppt[$ppt._length++]=this).shaderValue.release(),this.shaderValue=null,this._vb=null,this._ib=null},$ppe.getRenderType=function(){return 10009},$ppe.renderSubmit=function(){var $ppt=this._shaderValue.textureHost;if($ppt){var $ppe=$ppt.source;if(!$ppt.bitmap||!$ppe)return 1;this._shaderValue.texture=$ppe}this._vb.bind_upload(this._ib);$ppt=$ppl.worldMatrix4;$ppe=$ppS.TEMP;$ppS.mulPre(this._mat,$ppt[0],$ppt[1],$ppt[4],$ppt[5],$ppt[12],$ppt[13],$ppe);var $ppi=$ppl.worldMatrix4=$ppHt.tempMatrix4;$ppi[0]=$ppe.a,$ppi[1]=$ppe.b,$ppi[4]=$ppe.c,$ppi[5]=$ppe.d,$ppi[12]=$ppe.tx,$ppi[13]=$ppe.ty,this._shader._offset=this.offset,this._shaderValue.refresh(),this._shader.upload(this._shaderValue),this._shader._offset=0;$ppi=$ppc.mainContext;return $pptt.activeBlendFunction!==this._blendFn&&($ppi.enable(3042),this._blendFn($ppi),$pptt.activeBlendFunction=this._blendFn),$ppO.drawCall++,$ppO.trianglesFaces+=this._numEle/3,$ppi.drawElements(4,this._numEle,5123,this.startIndex),$ppl.worldMatrix4=$ppt,$ppUe.activeShader=null,1},$ppHt.create=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph){void 0===$pph&&($pph=0);var $ppl=$ppHt._cache._length?$ppHt._cache[--$ppHt._cache._length]:new $ppHt;$ppl._ib=$ppi,$ppl._vb=$ppe,$ppl._numEle=$ppn,$ppl._shader=$ppr,$ppl._shaderValue=$pps;$ppi=$ppt._nBlendType;switch($ppl._blendFn=($ppt._targets?$pptt.targetFns:$pptt.fns)[$ppi],$pph){case 0:$ppl.offset=0,$ppl.startIndex=$ppo/($ppte.BYTES_PE*$ppe.vertexStride)*1.5,$ppl.startIndex*=$ppte.BYTES_PIDX;break;case 1:$ppl.startIndex=$ppa,$ppl.offset=$ppo}return $ppl},$ppHt._cache=(($ppHt._cache=[])._length=0,$ppHt._cache),$ppHt.tempMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var $ppUt=$ppHt;function $ppHt(){this.offset=0,this.startIndex=0,this._mat=$ppS.create()}$ppn($ppWt,"laya.webgl.submit.SubmitScissor"),$ppe=$ppWt.prototype,$ppg.imps($ppe,{"laya.webgl.submit.ISubmit":!0}),$ppe._scissor=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppl.worldMatrix4;var $pps=$ppr[0],$ppa=$ppr[5],$ppo=$ppr[12],$ppr=$ppr[13];if($ppn*=$ppa,($ppi*=$pps)<1||$ppn<1)return!1;$pps=($ppt=$ppt*$pps+$ppo)+$ppi;$ppo=($ppe=$ppe*$ppa+$ppr)+$ppn;$ppt<0&&($ppi=$pps-($ppt=0)),$ppe<0&&($ppn=$ppo-($ppe=0));$ppa=$ppl.worldClipRect;if($ppt=Math.max($ppt,$ppa.x),$ppe=Math.max($ppe,$ppa.y),$ppi=Math.min($pps,$ppa.right)-$ppt,$ppn=Math.min($ppo,$ppa.bottom)-$ppe,$ppi<1||$ppn<1)return!1;$ppr=$ppl.worldScissorTest;return this.screenRect.copyFrom($ppa),$ppa.x=$ppt,$ppa.y=$ppe,$ppa.width=$ppi,$ppa.height=$ppn,$ppl.worldScissorTest=!0,$ppe=$ppl.height-$ppe-$ppn,$ppc.mainContext.scissor($ppt,$ppe,$ppi,$ppn),$ppc.mainContext.enable(3089),this.context.submitElement(this.submitIndex,this.submitIndex+this.submitLength),$ppr?($ppe=$ppl.height-this.screenRect.y-this.screenRect.height,$ppc.mainContext.scissor(this.screenRect.x,$ppe,this.screenRect.width,this.screenRect.height),$ppc.mainContext.enable(3089)):($ppc.mainContext.disable(3089),$ppl.worldScissorTest=!1),$ppa.copyFrom(this.screenRect),!0},$ppe._scissorWithTagart=function($ppt,$ppe,$ppi,$ppn){if($ppi<1||$ppn<1)return!1;var $ppr=$ppt+$ppi;var $pps=$ppe+$ppn;$ppt<0&&($ppi=$ppr-($ppt=0)),$ppe<0&&($ppn=$pps-($ppe=0));var $ppa=$ppl.worldClipRect;if($ppt=Math.max($ppt,$ppa.x),$ppe=Math.max($ppe,$ppa.y),$ppi=Math.min($ppr,$ppa.right)-$ppt,$ppn=Math.min($pps,$ppa.bottom)-$ppe,$ppi<1||$ppn<1)return!1;$ppr=$ppl.worldScissorTest;return this.screenRect.copyFrom($ppa),$ppl.worldScissorTest=!0,$ppa.x=$ppt,$ppa.y=$ppe,$ppa.width=$ppi,$ppa.height=$ppn,$ppe=$ppl.height-$ppe-$ppn,$ppc.mainContext.scissor($ppt,$ppe,$ppi,$ppn),$ppc.mainContext.enable(3089),this.context.submitElement(this.submitIndex,this.submitIndex+this.submitLength),$ppr?($ppe=$ppl.height-this.screenRect.y-this.screenRect.height,$ppc.mainContext.scissor(this.screenRect.x,$ppe,this.screenRect.width,this.screenRect.height),$ppc.mainContext.enable(3089)):($ppc.mainContext.disable(3089),$ppl.worldScissorTest=!1),$ppa.copyFrom(this.screenRect),!0},$ppe.renderSubmit=function(){return this.submitLength=Math.min(this.context._submits._length-1,this.submitLength),this.submitLength<1||this.clipRect.width<1||this.clipRect.height<1||(this.context._targets?this._scissorWithTagart(this.clipRect.x,this.clipRect.y,this.clipRect.width,this.clipRect.height):this._scissor(this.clipRect.x,this.clipRect.y,this.clipRect.width,this.clipRect.height)),this.submitLength+1},$ppe.getRenderType=function(){return 0},$ppe.releaseRender=function(){var $ppt=$ppWt._cache;($ppt[$ppt._length++]=this).context=null},$ppWt.create=function($ppt){var $ppe=$ppWt._cache._length?$ppWt._cache[--$ppWt._cache._length]:new $ppWt;return $ppe.context=$ppt,$ppe},$ppWt._cache=(($ppWt._cache=[])._length=0,$ppWt._cache);var $ppzt=$ppWt;function $ppWt(){this.submitIndex=0,this.submitLength=0,this.context=null,this.clipRect=new $ppE,this.screenRect=new $ppE}$ppn($ppYt,"laya.webgl.submit.SubmitStencil"),$ppe=$ppYt.prototype,$ppg.imps($ppe,{"laya.webgl.submit.ISubmit":!0}),$ppe.renderSubmit=function(){switch(this.step){case 1:this.do1();break;case 2:this.do2();break;case 3:this.do3();break;case 4:this.do4();break;case 5:this.do5();break;case 6:this.do6();break;case 7:this.do7();break;case 8:this.do8()}return 1},$ppe.getRenderType=function(){return 0},$ppe.releaseRender=function(){var $ppt=$ppYt._cache;$ppt[$ppt._length++]=this},$ppe.do1=function(){var $ppt=$ppc.mainContext;$ppt.enable(2960),$ppt.clear(1024),$ppt.colorMask(!1,!1,!1,!1),$ppt.stencilFunc(514,this.level,255),$ppt.stencilOp(7680,7680,7682)},$ppe.do2=function(){var $ppt=$ppc.mainContext;$ppt.stencilFunc(514,this.level+1,255),$ppt.colorMask(!0,!0,!0,!0),$ppt.stencilOp(7680,7680,7680)},$ppe.do3=function(){var $ppt=$ppc.mainContext;$ppt.colorMask(!0,!0,!0,!0),$ppt.stencilOp(7680,7680,7680),$ppt.clear(1024),$ppt.disable(2960)},$ppe.do4=function(){var $ppt=$ppc.mainContext;0==this.level&&($ppt.enable(2960),$ppt.clear(1024)),$ppt.colorMask(!1,!1,!1,!1),$ppt.stencilFunc(519,0,255),$ppt.stencilOp(7680,7680,7682)},$ppe.do5=function(){var $ppt=$ppc.mainContext;$ppt.stencilFunc(514,this.level,255),$ppt.colorMask(!0,!0,!0,!0),$ppt.stencilOp(7680,7680,7680)},$ppe.do6=function(){var $ppt=$ppc.mainContext;$pptt.targetFns[$pptt.TOINT[this.blendMode]]($ppt)},$ppe.do7=function(){var $ppt=$ppc.mainContext;$ppt.colorMask(!1,!1,!1,!1),$ppt.stencilOp(7680,7680,7683)},$ppe.do8=function(){var $ppt=$ppc.mainContext;$ppt.colorMask(!0,!0,!0,!0),$ppt.stencilFunc(514,this.level,255),$ppt.stencilOp(7680,7680,7680)},$ppYt.restore=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps;var $ppa;($ppt._renderKey=0)<$ppYt._mask&&$ppYt._mask--,0==$ppYt._mask?($pps=laya.webgl.submit.SubmitStencil.create(3),$ppt.addRenderObject($pps),$ppt._curSubmit=$ppBt.RENDERBASE):($pps=laya.webgl.submit.SubmitStencil.create(7),$ppt.addRenderObject($pps),($ppa=$ppt._vb)._byteLength,$ppie.fillRectImgVb($ppa,null,$ppe.x,$ppe.y,$ppe.width,$ppe.height,$ppU.DEF_UV,$ppi,$ppn,$ppr,0,0)?($ppt._shader2D.glTexture=null,($ppe=$ppt._curSubmit=$ppBt.createSubmit($ppt,$ppt._ib,$ppa,($ppa._byteLength-64)/32*3,$ppge.create(2,0))).shaderValue.ALPHA=1,$ppt._submits[$ppt._submits._length++]=$ppe,$ppt._curSubmit._numEle+=6,$ppt._curSubmit=$ppBt.RENDERBASE):alert("clipRect calc stencil rect error"),$pps=laya.webgl.submit.SubmitStencil.create(8),$ppt.addRenderObject($pps))},$ppYt.restore2=function($ppt,$ppe){var $ppi;($ppt._renderKey=0)<$ppYt._mask&&$ppYt._mask--,0==$ppYt._mask?($ppi=laya.webgl.submit.SubmitStencil.create(3),$ppt.addRenderObject($ppi),$ppt._curSubmit=$ppBt.RENDERBASE):($ppi=laya.webgl.submit.SubmitStencil.create(7),$ppt.addRenderObject($ppi),$ppt._submits[$ppt._submits._length++]=$ppe,$ppi=laya.webgl.submit.SubmitStencil.create(8),$ppt.addRenderObject($ppi))},$ppYt.create=function($ppt){var $ppe=$ppYt._cache._length?$ppYt._cache[--$ppYt._cache._length]:new $ppYt;return 5==($ppe.step=$ppt)&&++$ppYt._mask,$ppe.level=$ppYt._mask,$ppe},$ppYt._cache=(($ppYt._cache=[])._length=0,$ppYt._cache),$ppYt._mask=0;var $ppGt=$ppYt;function $ppYt(){this.step=0,this.blendMode=null,this.level=0}$ppn($ppjt,"laya.webgl.submit.SubmitTarget"),$ppe=$ppjt.prototype,$ppg.imps($ppe,{"laya.webgl.submit.ISubmit":!0}),$ppe.renderSubmit=function(){this._vb.bind_upload(this._ib);var $ppt=this.scope.getValue(this.proName);return $ppt&&(this.shaderValue.texture=$ppt.source,this.shaderValue.strength&&!this.shaderValue.blurInfo&&(this.shaderValue.blurInfo=[$ppt.width,$ppt.height]),this.shaderValue.upload(),this.blend(),$ppO.drawCall++,$ppO.trianglesFaces+=this._numEle/3,$ppc.mainContext.drawElements(4,this._numEle,5123,this._startIdx)),1},$ppe.blend=function(){var $ppt;$pptt.activeBlendFunction!==$pptt.fns[this.blendType]&&(($ppt=$ppc.mainContext).enable(3042),$pptt.fns[this.blendType]($ppt),$pptt.activeBlendFunction=$pptt.fns[this.blendType])},$ppe.getRenderType=function(){return 0},$ppe.releaseRender=function(){var $ppt=$ppjt._cache;($ppt[$ppt._length++]=this).shaderValue.release(),this.shaderValue=null,this._vb=null,this._ib=null},$ppjt.create=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){var $ppa=$ppjt._cache._length?$ppjt._cache[--$ppjt._cache._length]:new $ppjt;return $ppa._ib=$ppe,$ppa._vb=$ppi,$ppa.proName=$pps,$ppa._startIdx=$ppn*$ppte.BYTES_PIDX,$ppa._numEle=0,$ppa.blendType=$ppt._nBlendType,$ppa.shaderValue=$ppr,$ppa.shaderValue.setValue($ppt._shader2D),$ppa},$ppjt._cache=(($ppjt._cache=[])._length=0,$ppjt._cache);var $ppXt=$ppjt;function $ppjt(){this._renderType=0,this._vb=null,this._ib=null,this._startIdx=0,this._numEle=0,this.shaderValue=null,this.blendType=0,this.proName=null,this.scope=null}$ppn($ppqt,"laya.webgl.text.CharSegment"),$ppe=$ppqt.prototype,$ppg.imps($ppe,{"laya.webgl.text.ICharSegment":!0}),$ppe.textToSpit=function($ppt){this._sourceStr=$ppt},$ppe.getChar=function($ppt){return this._sourceStr.charAt($ppt)},$ppe.getCharCode=function($ppt){return this._sourceStr.charCodeAt($ppt)},$ppe.length=function(){return this._sourceStr.length};var $ppKt=$ppqt;function $ppqt(){this._sourceStr=null}$ppn($ppA,"laya.webgl.text.DrawText"),$ppA.__init__=function(){$ppA._charsTemp=new Array,$ppA._drawValue=new $ppZt,$ppA._charSeg=new $ppKt},$ppA.customCharSeg=function($ppt){$ppA._charSeg=$ppt},$ppA.getChar=function($ppt,$ppe,$ppi){$ppt=$ppoi.createOneChar($ppt,$ppi);return-1!=$ppe&&($ppA._charsCache[$ppe]=$ppt),$ppt},$ppA._drawSlow=function($ppt,$ppc,$ppu,$ppe,$pp_,$ppd,$ppf,$ppp,$ppm,$ppg,$ppv,$ppy,$ppx,$ppw,$ppb){var $ppi=$ppA._drawValue.value($ppd,$ppp,$ppm,$ppg,$ppx,$ppw,$ppb);var $ppn=0,$ppr=0;var $pps=$ppA._charsTemp;var $ppa,$ppT,$ppS=0,$ppo=NaN;if($ppe)for($pps.length=$ppe.length,$ppn=0,$ppr=$ppe.length;$ppn<$ppr;$ppn++)$ppo=($ppT=$ppe[$ppn]).charNum+$ppi.txtID,$pps[$ppn]=$ppa=$ppA._charsCache[$ppo]||$ppA.getChar($ppT.char,$ppo,$ppi),$ppa.active();else{$ppd=$ppu instanceof laya.utils.WordText?$ppu.toString():$ppu;if($ppk.CharacterCache){$ppA._charSeg.textToSpit($ppd);$ppp=$ppA._charSeg.length();for($ppn=0,$ppr=$pps.length=$ppp;$ppn<$ppr;$ppn++)$ppo=$ppA._charSeg.getCharCode($ppn)+$ppi.txtID,$pps[$ppn]=$ppa=$ppA._charsCache[$ppo]||$ppA.getChar($ppA._charSeg.getChar($ppn),$ppo,$ppi),$ppa.active(),$ppS+=$ppa.cw}else $pps.length=0,($ppa=$ppA.getChar($ppd,-1,$ppi)).active(),$ppS+=$ppa.cw,$pps[0]=$ppa}var $ppC=0;null!==$ppf&&"left"!==$ppf&&($ppC=-("center"==$ppf?$ppS/2:$ppS));var $pph,$ppM,$ppl=NaN,$ppE=0;if($ppe)for($ppn=0,$ppr=$pps.length;$ppn<$ppr;$ppn++)($ppa=$pps[$ppn]).isSpace||($ppT=$ppe[$ppn],$ppl=$ppa.borderSize,$pph=$ppa.texture,$ppc._drawText($pph,$ppv+$ppC+$ppT.x*$ppx-$ppl,$ppy+$ppT.y*$ppw-$ppl,$pph.width,$pph.height,$pp_,0,0,0,0));else{for($ppn=0,$ppr=$pps.length;$ppn<$ppr;$ppn++)($ppa=$pps[$ppn]).isSpace||($ppl=$ppa.borderSize,$pph=$ppa.texture,$ppc._drawText($pph,$ppv+$ppC-$ppl,$ppy-$ppl,$pph.width,$pph.height,$pp_,0,0,0,0),$ppt&&(($ppM=($ppM=$ppt[$ppE++])||($ppt[$ppE-1]=[]))[0]=$pph,$ppM[1]=$ppC-$ppl,$ppM[2]=-$ppl)),$ppC+=$ppa.cw;$ppt&&($ppt.length=$ppE)}},$ppA._drawFast=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps,$ppa;for(var $ppo=0,$pph=$ppt.length;$ppo<$pph;$ppo++)($pps=($ppa=$ppt[$ppo])[0]).active(),$ppe._drawText($pps,$ppn+$ppa[1],$ppr+$ppa[2],$pps.width,$pps.height,$ppi,0,0,0,0)},$ppA.drawText=function($ppt,$ppe,$ppi,$ppn,$ppc,$ppu,$pp_,$ppd,$ppf,$ppr,$pps,$ppp){if(void 0===$ppp&&($ppp=0),!($ppe&&0===$ppe.length||$ppi&&0===$ppi.length)){var $ppa=$ppn.a,$ppo=$ppn.d;var $pph=1!==($ppa=0===$ppn.b&&0===$ppn.c?$ppa:$ppo=1)||1!==$ppo;if(($pph=!(!$pph||!$ppg.stage.transform)&&(($ppl=$ppg.stage.transform).a===$ppa&&$ppl.d===$ppo))?($ppl=($ppn=$ppn.copyTo($pppe._tmpMatrix)).tx,$pph=$ppn.ty,$ppn.scale(1/$ppa,1/$ppo),$ppn._checkTransform(),$ppr=$ppr*$ppa+($ppl-$ppn.tx),$pps=$pps*$ppo+($pph-$ppn.ty)):$ppa=$ppo=1,$ppi)$ppA._drawSlow(null,$ppt,$ppe,$ppi,$ppn,$ppc,$ppu,$pp_,$ppd,$ppf,$ppr,$pps,$ppa,$ppo,$ppp);else{if(null===$ppe.toUpperCase)return $ppl=$ppa+1e5*$ppo,void(($pph=$ppe).changed||$pph.id!==$ppl?($pph.id=$ppl,$pph.changed=!1,$ppA._drawSlow($pph.save,$ppt,$ppe,$ppi,$ppn,$ppc,$ppu,$pp_,$ppd,$ppf,$ppr,$pps,$ppa,$ppo,$ppp)):$ppA._drawFast($pph.save,$ppt,$ppn,$ppr,$pps));var $ppl=$ppe+$ppc.toString()+$pp_+$ppd+$ppf+$ppa+$ppo+$ppu;$pph=$ppA._textsCache[$ppl];$ppk.CharacterCache?$pph?$ppA._drawFast($pph,$ppt,$ppn,$ppr,$pps):($ppA._textsCache.__length||($ppA._textsCache.__length=0),$ppA._textsCache.__length>$ppv.WebGLTextCacheCount&&(($ppA._textsCache={}).__length=0,$ppA._curPoolIndex=0),$ppA._textCachesPool[$ppA._curPoolIndex]?($pph=$ppA._textsCache[$ppl]=$ppA._textCachesPool[$ppA._curPoolIndex]).length=0:$ppA._textCachesPool[$ppA._curPoolIndex]=$pph=$ppA._textsCache[$ppl]=[],$ppA._textsCache.__length++,$ppA._curPoolIndex++,$ppA._drawSlow($pph,$ppt,$ppe,$ppi,$ppn,$ppc,$ppu,$pp_,$ppd,$ppf,$ppr,$pps,$ppa,$ppo,$ppp)):$ppA._drawSlow($pph,$ppt,$ppe,$ppi,$ppn,$ppc,$ppu,$pp_,$ppd,$ppf,$ppr,$pps,$ppa,$ppo,$ppp)}}},$ppA._charsTemp=null,$ppA._textCachesPool=[],$ppA._curPoolIndex=0,$ppA._charsCache={},$ppA._textsCache={},$ppA._drawValue=null,$ppA.d=[],$ppA._charSeg=null,$ppA.__init$=function(){function $ppo(){}$ppn($ppo,""),$ppo.prototype.value=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){this.font=$ppt,this.fillColor=$ppe,this.borderColor=$ppi,this.lineWidth=$ppn,this.scaleX=$ppr,this.scaleY=$pps,this.underLine=$ppa;$ppt=$ppt.toString()+$ppr+$pps+$ppn+($ppe?$ppe.toLowerCase():" ")+($ppi?$ppi.toLowerCase():" ")+$ppa;return this.txtID=$ppo._keymap[$ppt],this.txtID||(this.txtID=1e-7*++$ppo._keymapCount,$ppo._keymap[$ppt]=this.txtID),this},$ppo.clear=function(){$ppo._keymap={},$ppo._keymapCount=1},$ppo._keymap={},$ppo._keymapCount=1,$ppZt=$ppo};var $pp$t=$ppA;function $ppA(){}var $ppZt;$ppn($ppJt,"laya.webgl.text.FontInContext"),($ppe=$ppJt.prototype).setFont=function($ppt){var $ppe=$ppJt._cache2[$ppt];if($ppe)this._words=$ppe[0],this._size=$ppe[1];else{this._words=$ppt.split(" ");for(var $ppi=0,$ppn=this._words.length;$ppi<$ppn;$ppi++)if(0<this._words[$ppi].indexOf("px")){this._index=$ppi;break}this._size=parseInt(this._words[this._index]),$ppJt._cache2[$ppt]=[this._words,this._size]}this._text=null,this._italic=-2},$ppe.getItalic=function(){return-2===this._italic&&(this._italic=this.hasType("italic")),this._italic},$ppe.hasType=function($ppt){for(var $ppe=0,$ppi=this._words.length;$ppe<$ppi;$ppe++)if(this._words[$ppe]===$ppt)return $ppe;return-1},$ppe.removeType=function($ppt){for(var $ppe=0,$ppi=this._words.length;$ppe<$ppi;$ppe++)if(this._words[$ppe]===$ppt){this._words.splice($ppe,1),this._index>$ppe&&this._index--;break}this._text=null,this._italic=-2},$ppe.copyTo=function($ppt){return $ppt._text=this._text,$ppt._size=this._size,$ppt._index=this._index,$ppt._words=this._words.slice(),$ppt._italic=-2,$ppt},$ppe.toString=function(){return this._text||(this._text=this._words.join(" "))},$ppa(0,$ppe,"size",function(){return this._size},function($ppt){this._size=$ppt,this._words[this._index]=$ppt+"px",this._text=null}),$ppJt.create=function($ppt){var $ppe=$ppJt._cache[$ppt];return $ppe||($ppJt._cache[$ppt]=new $ppJt($ppt))},$ppJt.EMPTY=new $ppJt,$ppJt._cache={},$ppJt._cache2=null;var $ppQt=$ppJt;function $ppJt($ppt){this._index=0,this._size=14,this._italic=-2,$ppJt._cache2=$ppJt._cache2||[],this.setFont($ppt||"14px Arial")}$ppn($ppee,"laya.webgl.utils.CONST3D2D"),$ppee.defaultMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],$ppee.defaultMinusYMatrix4=[1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1],$ppee.uniformMatrix3=[1,0,0,0,0,1,0,0,0,0,1,0],$ppee._TMPARRAY=[],$ppee._OFFSETX=0,$ppee._OFFSETY=0,$pps($ppee,["BYTES_PE",function(){return this.BYTES_PE=Float32Array.BYTES_PER_ELEMENT},"BYTES_PIDX",function(){return this.BYTES_PIDX=Uint16Array.BYTES_PER_ELEMENT}]);var $ppte=$ppee;function $ppee(){}$ppn($ppne,"laya.webgl.utils.GlUtils"),$ppne.make2DProjection=function($ppt,$ppe,$ppi){return[2/$ppt,0,0,0,0,-2/$ppe,0,0,0,0,2/$ppi,0,-1,1,0,1]},$ppne.fillIBQuadrangle=function($ppt,$ppe){if(65535/4<$ppe)throw Error("IBQuadrangle count:"+$ppe+" must<:"+Math.floor(65535/4));$ppe=Math.floor($ppe),$ppt._resizeBuffer(6*($ppe+1)*2,!1),$ppt.byteLength=$ppt.bufferLength;var $ppi=$ppt.getUint16Array();var $ppn=0;for(var $ppr=0;$ppr<$ppe;$ppr++)$ppi[$ppn++]=4*$ppr,$ppi[$ppn++]=4*$ppr+2,$ppi[$ppn++]=4*$ppr+1,$ppi[$ppn++]=4*$ppr,$ppi[$ppn++]=4*$ppr+3,$ppi[$ppn++]=4*$ppr+2;return $ppt.setNeedUpload(),!0},$ppne.expandIBQuadrangle=function($ppt,$ppe){$ppt.bufferLength>=6*$ppe*2||$ppne.fillIBQuadrangle($ppt,$ppe)},$ppne.mathCeilPowerOfTwo=function($ppt){return $ppt--,$ppt=($ppt=($ppt=($ppt=($ppt|=$ppt>>1)|$ppt>>2)|$ppt>>4)|$ppt>>8)|$ppt>>16,++$ppt},$ppne.fillQuadrangleImgVb=function($ppc,$ppt,$ppe,$ppi,$ppn,$ppr,$ppu,$pp_){var $pps=16+($ppc._byteLength>>2);$ppc.byteLength=$pps<<2;var $ppa=$ppc.getFloat32Array();$ppa[2+($pps-=16)]=$ppn[0],$ppa[3+$pps]=$ppn[1],$ppa[6+$pps]=$ppn[2],$ppa[7+$pps]=$ppn[3],$ppa[10+$pps]=$ppn[4],$ppa[11+$pps]=$ppn[5],$ppa[14+$pps]=$ppn[6],$ppa[15+$pps]=$ppn[7];var $ppn=$ppr.a,$ppo=$ppr.b,$pph=$ppr.c,$ppl=$ppr.d;var $ppd,$ppf;return 1!==$ppn||0!==$ppo||0!==$pph||1!==$ppl?($ppr.bTransform=!0,$ppd=$ppr.tx+$ppu,$ppf=$ppr.ty+$pp_,$ppa[$pps]=($ppi[0]+$ppt)*$ppn+($ppi[1]+$ppe)*$pph+$ppd,$ppa[1+$pps]=($ppi[0]+$ppt)*$ppo+($ppi[1]+$ppe)*$ppl+$ppf,$ppa[4+$pps]=($ppi[2]+$ppt)*$ppn+($ppi[3]+$ppe)*$pph+$ppd,$ppa[5+$pps]=($ppi[2]+$ppt)*$ppo+($ppi[3]+$ppe)*$ppl+$ppf,$ppa[8+$pps]=($ppi[4]+$ppt)*$ppn+($ppi[5]+$ppe)*$pph+$ppd,$ppa[9+$pps]=($ppi[4]+$ppt)*$ppo+($ppi[5]+$ppe)*$ppl+$ppf,$ppa[12+$pps]=($ppi[6]+$ppt)*$ppn+($ppi[7]+$ppe)*$pph+$ppd,$ppa[13+$pps]=($ppi[6]+$ppt)*$ppo+($ppi[7]+$ppe)*$ppl+$ppf):($ppr.bTransform=!1,$ppt+=$ppr.tx+$ppu,$ppe+=$ppr.ty+$pp_,$ppa[$pps]=$ppt+$ppi[0],$ppa[1+$pps]=$ppe+$ppi[1],$ppa[4+$pps]=$ppt+$ppi[2],$ppa[5+$pps]=$ppe+$ppi[3],$ppa[8+$pps]=$ppt+$ppi[4],$ppa[9+$pps]=$ppe+$ppi[5],$ppa[12+$pps]=$ppt+$ppi[6],$ppa[13+$pps]=$ppe+$ppi[7]),$ppc._upload=!0},$ppne.fillTranglesVB=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){var $ppo=($ppt._byteLength>>2)+$ppn.length;$ppt.byteLength=$ppo<<2;var $pph=$ppt.getFloat32Array();$ppo-=$ppn.length;var $ppc=$ppn.length;var $ppu=$ppr.a,$pp_=$ppr.b,$ppd=$ppr.c,$ppf=$ppr.d;for(var $ppl=0;$ppl<$ppc;$ppl+=4){var $ppp,$ppm;$pph[$ppo+$ppl+2]=$ppn[$ppl+2],$pph[$ppo+$ppl+3]=$ppn[$ppl+3],1!==$ppu||0!==$pp_||0!==$ppd||1!==$ppf?($ppr.bTransform=!0,$ppp=$ppr.tx+$pps,$ppm=$ppr.ty+$ppa,$pph[$ppo+$ppl]=($ppn[$ppl]+$ppe)*$ppu+($ppn[$ppl+1]+$ppi)*$ppd+$ppp,$pph[$ppo+$ppl+1]=($ppn[$ppl]+$ppe)*$pp_+($ppn[$ppl+1]+$ppi)*$ppf+$ppm):($ppr.bTransform=!1,$ppe+=$ppr.tx+$pps,$ppi+=$ppr.ty+$ppa,$pph[$ppo+$ppl]=$ppe+$ppn[$ppl],$pph[$ppo+$ppl+1]=$ppi+$ppn[$ppl+1])}return $ppt._upload=!0},$ppne.copyPreImgVb=function($ppt,$ppe,$ppi){var $ppn=$ppt._byteLength>>2;$ppt.byteLength=$ppn+16<<2;var $ppr=$ppt.getFloat32Array();for(var $pps=0,$ppa=$ppn-16;$pps<4;$pps++)$ppr[$ppn]=$ppr[$ppa]+$ppe,$ppr[++$ppn]=$ppr[++$ppa]+$ppi,$ppr[++$ppn]=$ppr[++$ppa],$ppr[++$ppn]=$ppr[++$ppa],++$ppn,++$ppa;$ppt._upload=!0},$ppne.fillRectImgVb=function($ppc,$ppu,$pp_,$ppd,$ppf,$ppp,$ppt,$ppe,$ppm,$ppg,$ppv,$ppy,$ppx){void 0===$ppx&&($ppx=!1);var $ppw=1;var $ppi,$ppn,$ppb,$ppT;var $ppS,$ppC,$ppM,$ppE;var $ppA,$ppD,$ppr,$pps;var $ppI,$ppR,$ppa,$ppo;var $ppP=$ppe.a,$ppL=$ppe.b,$ppB=$ppe.c,$ppN=$ppe.d;var $ppO=$ppu&&$ppu.width<99999999;if(1!==$ppP||0!==$ppL||0!==$ppB||1!==$ppN?($ppe.bTransform=!0,0===$ppL&&0===$ppB&&($ppw=23,$ppi=$ppP*$pp_+($ppr=$ppe.tx+$ppm),$ppb=$ppP*($ppA=$ppf+$pp_)+$ppr,$ppn=$ppN*$ppd+($pps=$ppe.ty+$ppg),$ppT=$ppN*($ppD=$ppp+$ppd)+$pps)):($ppe.bTransform=!($ppw=23),$ppb=($ppi=$pp_+$ppe.tx+$ppm)+$ppf,$ppT=($ppn=$ppd+$ppe.ty+$ppg)+$ppp),$ppO&&($ppS=$ppu.x,$ppC=$ppu.y,$ppM=$ppu.width+$ppS,$ppE=$ppu.height+$ppC),1!==$ppw){if(Math.min($ppi,$ppb)>=$ppM)return!1;if(Math.min($ppn,$ppT)>=$ppE)return!1;if(Math.max($ppb,$ppi)<=$ppS)return!1;if(Math.max($ppT,$ppn)<=$ppC)return!1}var $pph=$ppc._byteLength>>2;$ppc.byteLength=16+$pph<<2;var $ppl=$ppc.getFloat32Array();switch($ppl[2+$pph]=$ppt[0],$ppl[3+$pph]=$ppt[1],$ppl[6+$pph]=$ppt[2],$ppl[7+$pph]=$ppt[3],$ppl[10+$pph]=$ppt[4],$ppl[11+$pph]=$ppt[5],$ppl[14+$pph]=$ppt[6],$ppl[15+$pph]=$ppt[7],$ppw){case 1:$ppr=$ppe.tx+$ppm,$pps=$ppe.ty+$ppg;var $ppF=$ppP*$pp_,$ppV=$ppB*$ppd,$ppk=$ppN*$ppd,$ppU=$ppL*$pp_;var $ppH=$ppP*($ppA=$ppf+$pp_),$ppz=$ppB*($ppD=$ppp+$ppd),$ppW=$ppN*$ppD,$ppG=$ppL*$ppA;$ppx?($ppI=$ppF+$ppV+$ppr,$ppa=Math.round($ppI)-$ppI,$ppR=$ppk+$ppU+$pps,$ppo=Math.round($ppR)-$ppR,$ppl[$pph]=$ppI+$ppa,$ppl[1+$pph]=$ppR+$ppo,$ppl[4+$pph]=$ppH+$ppV+$ppr+$ppa,$ppl[5+$pph]=$ppk+$ppG+$pps+$ppo,$ppl[8+$pph]=$ppH+$ppz+$ppr+$ppa,$ppl[9+$pph]=$ppW+$ppG+$pps+$ppo,$ppl[12+$pph]=$ppF+$ppz+$ppr+$ppa,$ppl[13+$pph]=$ppW+$ppU+$pps+$ppo):($ppl[$pph]=$ppF+$ppV+$ppr,$ppl[1+$pph]=$ppk+$ppU+$pps,$ppl[4+$pph]=$ppH+$ppV+$ppr,$ppl[5+$pph]=$ppk+$ppG+$pps,$ppl[8+$pph]=$ppH+$ppz+$ppr,$ppl[9+$pph]=$ppW+$ppG+$pps,$ppl[12+$pph]=$ppF+$ppz+$ppr,$ppl[13+$pph]=$ppW+$ppU+$pps);break;case 23:$ppx?($ppI=$ppi+$ppv,$ppa=Math.round($ppI)-$ppI,$ppR=$ppn,$ppo=Math.round($ppR)-$ppR,$ppl[$pph]=$ppI+$ppa,$ppl[1+$pph]=$ppR+$ppo,$ppl[4+$pph]=$ppb+$ppv+$ppa,$ppl[5+$pph]=$ppn+$ppo,$ppl[8+$pph]=$ppb+$ppa,$ppl[9+$pph]=$ppT+$ppo,$ppl[12+$pph]=$ppi+$ppa,$ppl[13+$pph]=$ppT+$ppo):($ppl[$pph]=$ppi+$ppv,$ppl[1+$pph]=$ppn,$ppl[4+$pph]=$ppb+$ppv,$ppl[5+$pph]=$ppn,$ppl[8+$pph]=$ppb,$ppl[9+$pph]=$ppT,$ppl[12+$pph]=$ppi,$ppl[13+$pph]=$ppT)}return $ppc._upload=!0},$ppne.fillLineVb=function($ppt,$ppc,$ppe,$ppi,$ppn,$ppr,$pps,$ppu){$pps*=.5;var $ppa=$ppne._fillLineArray;var $ppo=-($ppi-$ppr),$pph=$ppe-$ppn;var $ppl=Math.sqrt($ppo*$ppo+$pph*$pph);$pph=$pph/$ppl*$pps,$ppa[0]=$ppe-($ppo=$ppo/$ppl*$pps),$ppa[1]=$ppi-$pph,$ppa[4]=$ppe+$ppo,$ppa[5]=$ppi+$pph,$ppa[8]=$ppn+$ppo,$ppa[9]=$ppr+$pph,$ppa[12]=$ppn-$ppo,$ppa[13]=$ppr-$pph,$ppu&&$ppu.transformPointArray($ppa,$ppa);$ppl=16+($ppt._byteLength>>2);return $ppt.byteLength=$ppl<<2,$ppt.insertData($ppa,$ppl-16),!0},$ppne._fillLineArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var $ppie=$ppne;function $ppne(){}$ppn($ppre,"laya.webgl.utils.MatirxArray"),$ppre.ArrayMul=function($ppt,$ppe,$ppi){if($ppt)if($ppe){var $ppn,$ppr,$pps,$ppa;for(var $ppo=0;$ppo<4;$ppo++)$ppn=$ppt[$ppo],$ppr=$ppt[$ppo+4],$pps=$ppt[$ppo+8],$ppa=$ppt[$ppo+12],$ppi[$ppo]=$ppn*$ppe[0]+$ppr*$ppe[1]+$pps*$ppe[2]+$ppa*$ppe[3],$ppi[$ppo+4]=$ppn*$ppe[4]+$ppr*$ppe[5]+$pps*$ppe[6]+$ppa*$ppe[7],$ppi[$ppo+8]=$ppn*$ppe[8]+$ppr*$ppe[9]+$pps*$ppe[10]+$ppa*$ppe[11],$ppi[$ppo+12]=$ppn*$ppe[12]+$ppr*$ppe[13]+$pps*$ppe[14]+$ppa*$ppe[15]}else $ppre.copyArray($ppt,$ppi);else $ppre.copyArray($ppe,$ppi)},$ppre.copyArray=function($ppt,$ppe){if($ppt&&$ppe)for(var $ppi=0;$ppi<$ppt.length;$ppi++)$ppe[$ppi]=$ppt[$ppi]};function $ppre(){}$ppn($ppse,"laya.webgl.utils.Mesh2D"),($ppe=$ppse.prototype).cloneWithNewVB=function(){var $ppt=new $ppse(this._stride,0,0);return $ppt._ib=this._ib,$ppt._quadNum=this._quadNum,$ppt._attribInfo=this._attribInfo,$ppt},$ppe.cloneWithNewVBIB=function(){var $ppt=new $ppse(this._stride,0,0);return $ppt._attribInfo=this._attribInfo,$ppt},$ppe.getVBW=function(){return this._vb.setNeedUpload(),this._vb},$ppe.getVBR=function(){return this._vb},$ppe.getIBR=function(){return this._ib},$ppe.getIBW=function(){return this._ib.setNeedUpload(),this._ib},$ppe.createQuadIB=function($ppt){this._quadNum=$ppt,this._ib._resizeBuffer(6*$ppt*2,!1),this._ib.byteLength=this._ib.bufferLength;var $ppe=this._ib.getUint16Array();var $ppi=0;var $ppn=0;for(var $ppr=0;$ppr<$ppt;$ppr++)$ppe[$ppi++]=$ppn,$ppe[$ppi++]=$ppn+2,$ppe[$ppi++]=$ppn+1,$ppe[$ppi++]=$ppn,$ppe[$ppi++]=$ppn+3,$ppe[$ppi++]=$ppn+2,$ppn+=4;this._ib.setNeedUpload()},$ppe.setAttributes=function($ppt){if(this._attribInfo=$ppt,this._attribInfo.length%3!=0)throw"Mesh2D setAttributes error!"},$ppe.getEleNum=function(){return this._ib.getBuffer().byteLength/2},$ppe.releaseMesh=function(){},$ppe.destroy=function(){},$ppe.clearVB=function(){this._vb.clear()},$ppse._gvaoid=0;$ppe=$ppse;function $ppse($ppt,$ppe,$ppi){this._stride=0,this.vertNum=0,this.indexNum=0,this._applied=!1,this._vb=null,this._ib=null,this._vao=null,this._attribInfo=null,this._quadNum=0,this.canReuse=!1,this._stride=$ppt,this._vb=new $ppDi($ppt,35048),$ppe&&this._vb._resizeBuffer($ppe,!1),this._ib=new $ppEi,$ppi&&this._ib._resizeBuffer($ppi,!1)}$ppn($ppae,"laya.webgl.utils.RenderState2D"),$ppae.getMatrArray=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},$ppae.mat2MatArray=function($ppt,$ppe){var $ppi=$ppe;return $ppi[0]=$ppt.a,$ppi[1]=$ppt.b,$ppi[2]=$ppae.EMPTYMAT4_ARRAY[2],$ppi[3]=$ppae.EMPTYMAT4_ARRAY[3],$ppi[4]=$ppt.c,$ppi[5]=$ppt.d,$ppi[6]=$ppae.EMPTYMAT4_ARRAY[6],$ppi[7]=$ppae.EMPTYMAT4_ARRAY[7],$ppi[8]=$ppae.EMPTYMAT4_ARRAY[8],$ppi[9]=$ppae.EMPTYMAT4_ARRAY[9],$ppi[10]=$ppae.EMPTYMAT4_ARRAY[10],$ppi[11]=$ppae.EMPTYMAT4_ARRAY[11],$ppi[12]=$ppt.tx,$ppi[13]=$ppt.ty,$ppi[14]=$ppae.EMPTYMAT4_ARRAY[14],$ppi[15]=$ppae.EMPTYMAT4_ARRAY[15],$ppe},$ppae.restoreTempArray=function(){$ppae.TEMPMAT4_ARRAY[0]=1,$ppae.TEMPMAT4_ARRAY[1]=0,$ppae.TEMPMAT4_ARRAY[4]=0,$ppae.TEMPMAT4_ARRAY[5]=1,$ppae.TEMPMAT4_ARRAY[12]=0,$ppae.TEMPMAT4_ARRAY[13]=0},$ppae.clear=function(){$ppae.worldScissorTest=!1,$ppae.worldShaderDefines=null,$ppae.worldFilters=null,$ppae.worldAlpha=1,$ppae.worldClipRect.x=$ppae.worldClipRect.y=0,$ppae.worldClipRect.width=$ppae.width,$ppae.worldClipRect.height=$ppae.height,$ppae.curRenderTarget=null},$ppae._MAXSIZE=99999999,$ppae.EMPTYMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],$ppae.worldMatrix4=$ppae.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],$ppae.worldAlpha=1,$ppae.worldScissorTest=!1,$ppae.worldFilters=null,$ppae.worldShaderDefines=null,$ppae.curRenderTarget=null,$ppae.width=0,$ppae.height=0,$pps($ppae,["worldMatrix",function(){return this.worldMatrix=new $ppS},"worldClipRect",function(){return this.worldClipRect=new $ppE(0,0,99999999,99999999)}]);var $ppl=$ppae;function $ppae(){}$ppn($pphe,"laya.webgl.utils.ShaderCompile"),($ppBi=$pphe.prototype)._compileToTree=function($ppt,$ppc,$ppu,$ppe,$ppi){var $ppn,$ppr;var $pps,$pp_;var $ppa,$ppd,$ppo=0;var $ppf,$ppp=0,$pph=0;for($ppp=$ppu;$ppp<$ppc.length;$ppp++)if(!(($pps=$ppc[$ppp]).length<1)&&0!==($ppo=$pps.indexOf("//"))){if(0<=$ppo&&($pps=$pps.substr(0,$ppo)),$ppn=$ppd||new $pple($ppe),$ppd=null,$ppn.text=$pps,$ppn.noCompile=!0,0<=($ppo=$pps.indexOf("#"))){for($pp_="#",$pph=$ppo+1,$ppf=$pps.length;$pph<$ppf;$pph++){var $ppm=$pps.charAt($pph);if(" "===$ppm||"\t"===$ppm||"?"===$ppm)break;$pp_+=$ppm}switch($ppn.name=$pp_){case"#ifdef":case"#ifndef":if($ppn.src=$pps,$ppn.noCompile=null!=$pps.match(/[!&|()=<>]/),$ppn.noCompile?console.log("function():Boolean{return "+$pps.substr($ppo+$ppn.name.length)+"}"):($ppa=$pps.replace(/^\s*/,"").split(/\s+/),$ppn.setCondition($ppa[1],"#ifdef"===$pp_?1:2),$ppn.text="//"+$ppn.text),$ppn.setParent($ppt),$ppt=$ppn,$ppi)for($ppa=$pps.substr($pph).split($pphe._splitToWordExps3),$pph=0;$pph<$ppa.length;$pph++)($pps=$ppa[$pph]).length&&($ppi[$pps]=!0);continue;case"#if":if($ppn.src=$pps,$ppn.noCompile=!0,$ppn.setParent($ppt),$ppt=$ppn,$ppi)for($ppa=$pps.substr($pph).split($pphe._splitToWordExps3),$pph=0;$pph<$ppa.length;$pph++)($pps=$ppa[$pph]).length&&"defined"!=$pps&&($ppi[$pps]=!0);continue;case"#else":$ppn.src=$pps,$ppr=($ppt=$ppt.parent).childs[$ppt.childs.length-1],$ppn.noCompile=$ppr.noCompile,$ppn.noCompile||($ppn.condition=$ppr.condition,$ppn.conditionType=1==$ppr.conditionType?2:1,$ppn.text="//"+$ppn.text+" "+$ppr.text+" "+$ppn.conditionType),$ppn.setParent($ppt),$ppt=$ppn;continue;case"#endif":$ppr=($ppt=$ppt.parent).childs[$ppt.childs.length-1],$ppn.noCompile=$ppr.noCompile,$ppn.noCompile||($ppn.text="//"+$ppn.text),$ppn.setParent($ppt);continue;case"#include":$ppa=$pphe.splitToWords($pps,null);var $ppl=$pphe.includes[$ppa[1]];if(!$ppl)throw"ShaderCompile error no this include file:"+$ppa[1];if(($ppo=$ppa[0].indexOf("?"))<0){$ppn.setParent($ppt),$pps=$ppl.getWith("with"==$ppa[2]?$ppa[3]:null),this._compileToTree($ppn,$pps.split("\n"),0,$ppe,$ppi),$ppn.text="";continue}$ppn.setCondition($ppa[0].substr($ppo+1),1),$ppn.text=$ppl.getWith("with"==$ppa[2]?$ppa[3]:null);break;case"#import":$ppl=($ppa=$pphe.splitToWords($pps,null))[1],$ppe.push({node:$ppn,file:$pphe.includes[$ppl],ofs:$ppn.text.length});continue}}else{if(($ppr=$ppt.childs[$ppt.childs.length-1])&&!$ppr.name){0<$ppe.length&&$pphe.splitToWords($pps,$ppr),$ppd=$ppn,$ppr.text+="\n"+$pps;continue}0<$ppe.length&&$pphe.splitToWords($pps,$ppn)}$ppn.setParent($ppt)}},$ppBi.createShader=function($ppt,$ppe,$ppi){var $ppn={};var $ppr="";if($ppt)for(var $pps in $ppt)$ppr+="#define "+$pps+"\n",$ppn[$pps]=!0;$ppt=this._VS.toscript($ppn,[]);var $ppa=this._PS.toscript($ppn,[]);return($ppi||$ppdi.create)($ppr+$ppt.join("\n"),$ppr+$ppa.join("\n"),$ppe,this._nameMap)},$pphe._parseOne=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){var $ppa={type:$pphe.shaderParamsMap[$ppi[$ppn+1]],name:$ppi[$ppn+2],size:isNaN(parseInt($ppi[$ppn+3]))?1:parseInt($ppi[$ppn+3])};return $pps&&("attribute"==$ppr?$ppt:$ppe).push($ppa),":"==$ppi[$ppn+3]&&($ppa.type=$ppi[$ppn+4],$ppn+=2),$ppn+=2},$pphe.addInclude=function($ppt,$ppe){if(!$ppe||0===$ppe.length)throw new Error("add shader include file err:"+$ppt);if($pphe.includes[$ppt])throw new Error("add shader include file err, has add:"+$ppt);$pphe.includes[$ppt]=new $ppce($ppe)},$pphe.preGetParams=function($ppt,$ppc){var $ppe=[$ppt,$ppc];$ppt={};var $ppi=[];var $ppn=[];var $ppu={};var $pp_=[];$ppt.attributes=$ppi,$ppt.uniforms=$ppn,$ppt.defines=$ppu;var $ppr,$pps=0;for(var $ppa=0;$ppa<2;$ppa++){$ppe[$ppa]=$ppe[$ppa].replace($pphe._removeAnnotation,"");var $ppo=$ppe[$ppa].match($pphe._reg);var $pph;for($pps=0,$ppr=$ppo.length;$pps<$ppr;$pps++){var $ppl=$ppo[$pps];if("attribute"==$ppl||"uniform"==$ppl)$pps=$pphe._parseOne($ppi,$ppn,$ppo,$pps,$ppl,!0);else if("#define"!=$ppl){if("#ifdef"==$ppl){$ppu[$pph=$ppo[++$pps]]=$ppu[$pph]||[];for($pps++;$pps<$ppr;$pps++)if("attribute"==($ppl=$ppo[$pps])||"uniform"==$ppl)$pps=$pphe._parseOne($ppi,$ppn,$ppo,$pps,$ppl,$pp_[$pph]);else if("#else"==$ppl)for($pps++;$pps<$ppr;$pps++)if("attribute"==($ppl=$ppo[$pps])||"uniform"==$ppl)$pps=$pphe._parseOne($ppi,$ppn,$ppo,$pps,$ppl,!$pp_[$pph]);else if("#endif"==$ppl)break}}else $pp_[$ppl=$ppo[++$pps]]=1}}return $ppt},$pphe.splitToWords=function($ppt,$ppe){var $ppi=[];var $ppn=-1;var $ppr;for(var $pps=0,$ppa=$ppt.length;$pps<$ppa;$pps++)if($ppo=$ppt.charAt($pps),0<=" \t=+-*/&%!<>()'\",;".indexOf($ppo))if(0<=$ppn&&1<$pps-$ppn&&($ppr=$ppt.substr($ppn,$pps-$ppn),$ppi.push($ppr)),'"'!=$ppo&&"'"!=$ppo)"("==$ppo&&$ppe&&0<$ppi.length&&($ppr=$ppi[$ppi.length-1]+";","vec4;main;".indexOf($ppr)<0&&($ppe.useFuns+=$ppr)),$ppn=-1;else{var $ppo=$ppt.indexOf($ppo,$pps+1);if($ppo<0)throw"Sharder err:"+$ppt;$ppi.push($ppt.substr($pps+1,$ppo-$pps-1)),$pps=$ppo,$ppn=-1}else $ppn<0&&($ppn=$pps);return $ppn<$ppa&&1<$ppa-$ppn&&($ppr=$ppt.substr($ppn,$ppa-$ppn),$ppi.push($ppr)),$ppi},$pphe.IFDEF_NO=0,$pphe.IFDEF_YES=1,$pphe.IFDEF_ELSE=2,$pphe.IFDEF_PARENT=3,$pphe._removeAnnotation=new RegExp("(/\\*([^*]|[\\r\\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+/)|(//.*)","g"),$pphe._reg=new RegExp("(\".*\")|('.*')|([#\\w\\*-\\.+/()=<>{}\\\\]+)|([,;:\\\\])","g"),$pphe._splitToWordExps=new RegExp("[(\".*\")]+|[('.*')]+|([ \\t=\\+\\-*/&%!<>!%(),;])","g"),$pphe.includes={},$pps($pphe,["shaderParamsMap",function(){return this.shaderParamsMap={float:5126,int:5124,bool:35670,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676,sampler2D:35678,samplerCube:35680}},"_splitToWordExps3",function(){return this._splitToWordExps3=new RegExp("[ \\t=\\+\\-*/&%!<>!%(),;\\|]","g")}]),$pphe.__init$=function(){function $ppi($ppt){this.childs=[],this.text="",this.parent=null,this.name=null,this.noCompile=!1,this.includefiles=null,this.condition=null,this.conditionType=0,this.useFuns="",this.z=0,this.src=null,this.includefiles=$ppt}function $ppt($ppt){this.script=null,this.codes={},this.funs={},this.curUseID=-1,this.funnames="",this.script=$ppt;var $ppe=0,$ppi=0,$ppn=0;for(;;){if(($ppe=$ppt.indexOf("#begin",$ppe))<0)break;for($ppn=$ppe+5;;){if(($ppn=$ppt.indexOf("#end",$ppn))<0)break;if("i"!==$ppt.charAt($ppn+4))break;$ppn+=5}if($ppn<0)throw"add include err,no #end:"+$ppt;$ppi=$ppt.indexOf("\n",$ppe);var $ppr=$pphe.splitToWords($ppt.substr($ppe,$ppi-$ppe),null);"code"==$ppr[1]?this.codes[$ppr[2]]=$ppt.substr($ppi+1,$ppn-$ppi-1):"function"==$ppr[1]&&($ppi=$ppt.indexOf("function",$ppe),$ppi+="function".length,this.funs[$ppr[3]]=$ppt.substr($ppi+1,$ppn-$ppi-1),this.funnames+=$ppr[3]+";"),$ppe=$ppn+1}}var $ppe;$ppn($ppi,""),($ppe=$ppi.prototype).setParent=function($ppt){$ppt.childs.push(this),this.z=$ppt.z+1,this.parent=$ppt},$ppe.setCondition=function($ppt,$ppe){$ppt&&(this.conditionType=$ppe,$ppt=$ppt.replace(/(\s*$)/g,""),this.condition=function(){return this[$ppt]},this.condition.__condition=$ppt)},$ppe.toscript=function($ppt,$ppe){return this._toscript($ppt,$ppe,++$ppi.__id)},$ppe._toscript=function($ppn,$ppr,$pps){if(this.childs.length<1&&!this.text)return $ppr;$ppr.length;if(this.condition){var $ppt=!!this.condition.call($ppn);if(!($ppt=2===this.conditionType?!$ppt:$ppt))return $ppr}var $ppe;if(this.text&&$ppr.push(this.text),0<this.childs.length&&this.childs.forEach(function($ppt,$ppe,$ppi){$ppt._toscript($ppn,$ppr,$pps)}),0<this.includefiles.length&&0<this.useFuns.length)for(var $ppi=0,$ppa=this.includefiles.length;$ppi<$ppa;$ppi++)this.includefiles[$ppi].curUseID!=$pps&&0<($ppe=this.includefiles[$ppi].file.getFunsScript(this.useFuns)).length&&(this.includefiles[$ppi].curUseID=$pps,$ppr[0]=$ppe+$ppr[0]);return $ppr},$ppi.__id=1,$pple=$ppi,$ppn($ppt,""),($ppe=$ppt.prototype).getWith=function($ppt){var $ppe=$ppt?this.codes[$ppt]:this.script;if(!$ppe)throw"get with error:"+$ppt;return $ppe},$ppe.getFunsScript=function($ppt){var $ppe="";for(var $ppi in this.funs)0<=$ppt.indexOf($ppi+";")&&($ppe+=this.funs[$ppi]);return $ppe},$ppce=$ppt};var $ppoe=$pphe;function $pphe($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=this;function $ppa($ppt){var $ppe=[];var $ppi=new $pple($ppe);return $pps._compileToTree($ppi,$ppt.split("\n"),0,$ppe,$ppr),$ppi}var $ppo=$ppd.now();this._VS=$ppa($ppe),this._PS=$ppa($ppi),this._nameMap=$ppn,2<$ppd.now()-$ppo&&console.log("ShaderCompile use time:"+($ppd.now()-$ppo)+"  size:"+$ppe.length+"/"+$ppi.length)}var $pple,$ppce;$ppn($ppue,"laya.webgl.WebGL"),$ppue._uint8ArraySlice=function(){var $ppt=this.length;var $ppe=new Uint8Array(this.length);for(var $ppi=0;$ppi<$ppt;$ppi++)$ppe[$ppi]=this[$ppi];return $ppe},$ppue._float32ArraySlice=function(){var $ppt=this.length;var $ppe=new Float32Array(this.length);for(var $ppi=0;$ppi<$ppt;$ppi++)$ppe[$ppi]=this[$ppi];return $ppe},$ppue._uint16ArraySlice=function($ppt){var $ppe=arguments;var $ppi=0;var $ppn;var $ppr=0;if(0===$ppe.length)for($ppi=this.length,$ppn=new Uint16Array($ppi),$ppr=0;$ppr<$ppi;$ppr++)$ppn[$ppr]=this[$ppr];else if(2===$ppe.length){var $pps=$ppe[0];var $ppa=$ppe[1];if($pps<$ppa)for($ppi=$ppa-$pps,$ppn=new Uint16Array($ppi),$ppr=$pps;$ppr<$ppa;$ppr++)$ppn[$ppr-$pps]=this[$ppr];else $ppn=new Uint16Array(0)}return $ppn},$ppue.expandContext=function(){var $ppt=$ppy.prototype;var $ppe=CanvasRenderingContext2D.prototype;$ppe.fillTrangles=$ppt.fillTrangles,$pppi.__int__(null),$ppe.setIBVB=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph,$ppl){void 0===$pph&&($pph=0),void 0===$ppl&&($ppl=0),null===$ppi&&(this._ib=this._ib||$ppEi.QuadrangleIB,$ppi=this._ib,$ppie.expandIBQuadrangle($ppi,$ppn._byteLength/64+8)),this._setIBVB($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph,$ppl)},$ppe.fillTrangles=function($ppt,$ppe,$ppi,$ppn,$ppr){this._curMat=this._curMat||$ppS.create(),this._vb=this._vb||$ppDi.create(),this._ib||(this._ib=$ppEi.create(),$ppie.fillIBQuadrangle(this._ib,$ppa/4));var $pps=this._vb;var $ppa=$ppn.length>>4;$ppie.fillTranglesVB($pps,$ppe,$ppi,$ppn,$ppr||this._curMat,0,0),$ppie.expandIBQuadrangle(this._ib,$pps._byteLength/64+8);$ppn=new $ppge(1,0);$ppn.textureHost=$ppt;$ppt=new $ppSi("attribute vec2 position; attribute vec2 texcoord; uniform vec2 size; uniform mat4 mmat; varying vec2 v_texcoord; void main() { vec4 p=vec4(position.xy,0.0,1.0);vec4 pos=mmat*p; gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0); v_texcoord = texcoord; }","precision mediump float; varying vec2 v_texcoord; uniform sampler2D texture; void main() {vec4 color= texture2D(texture, v_texcoord); color.a*=1.0; gl_FragColor= color;}");$pps._vertType=3,this._setIBVB($ppe,$ppi,this._ib,$pps,6*$ppa,$ppr,$ppt,$ppn,0,0)}},$ppue.enable=function(){if($ppd.__init__(),$ppD.isConchApp&&!$ppD.isConchWebGL)return $ppL.skinAniSprite=function(){return new $ppSt},$ppue.expandContext(),!1;if($ppL.getWebGLContext=function($ppt){var $ppe;var $ppi=["webgl","experimental-webgl","webkit-3d","moz-webgl"];for(var $ppn=0;$ppn<$ppi.length;$ppn++){try{$ppe=$ppt.getContext($ppi[$ppn],{stencil:$ppv.isStencil,alpha:$ppv.isAlpha,antialias:$ppv.isAntialias,premultipliedAlpha:$ppv.premultipliedAlpha,preserveDrawingBuffer:$ppv.preserveDrawingBuffer})}catch($ppt){}if($ppe)return $ppe}return null},null==($ppue.mainContext=$ppL.getWebGLContext($ppD._mainCanvas)))return!1;if($ppD.isWebGL)return!0;$ppb.create=function($ppt,$ppe){return new $ppPi($ppt,$ppe)},$ppT.create=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){return new $ppui($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa)},$ppD.WebGL=$ppue,$ppD.isWebGL=!0,$pp$t.__init__(),$ppL.createRenderSprite=function($ppt,$ppe){return new $ppye($ppt,$ppe)},$ppL.createWebGLContext2D=function($ppt){return new $pppe($ppt)},$ppL.changeWebGLSize=function($ppt,$ppe){laya.webgl.WebGL.onStageResize($ppt,$ppe)},$ppL.createGraphics=function(){return new $ppde};var $ppt=$ppL.createFilterAction;return $ppL.createFilterAction=$ppt||function($ppt){return new $ppwe},$ppL.clear=function($ppt){$ppl.worldScissorTest&&laya.webgl.WebGL.mainContext.disable(3089);var $ppe=$ppD.context.ctx;$ppt=0==$ppe._submits._length||$ppv.preserveDrawingBuffer?$ppm.create($ppt)._color:$ppN._wgColor;$ppt&&$ppe.clearBG($ppt[0],$ppt[1],$ppt[2],$ppt[3]),$ppl.clear()},$ppL.addToAtlas=function($ppt,$ppe){void 0===$ppe&&($ppe=!1);$ppe=$ppt.bitmap;$ppD.optimizeTextureMemory($ppt.url,$ppt)?$ppg.__typeof($ppe,"laya.webgl.resource.IMergeAtlasBitmap")&&$ppe.allowMerageInAtlas&&$ppe.on("recovered",$ppt,$ppt.addTextureToAtlas):$ppe.enableMerageInAtlas=!1},$ppL.isAtlas=function($ppt){return $ppt instanceof laya.webgl.atlas.AtlasWebGLCanvas},$pp$._enable(),$ppL.beginFlush=function(){var $ppt=$pp$.instance;var $ppe=$ppt.getAtlaserCount();for(var $ppi=0;$ppi<$ppe;$ppi++){var $ppn=$ppt.getAtlaserByIndex($ppi).texture;$ppn._flashCacheImageNeedFlush&&$ppL.flashFlushImage($ppn)}},$ppL.drawToCanvas=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){($ppi<=0||$ppn<=0)&&console.log("[error] canvasWidth and canvasHeight should greater than zero"),$ppr|=0,$pps|=0;var $ppa=$ppze.create($ppi|=0,$ppn|=0,6408,5121,0,!1);$ppa.start(),$ppa.clear(0,0,0,0),$ppD.context.clear(),$ppI.renders[$ppe]._fun($ppt,$ppD.context,$ppr,$ppl.height-$ppn+$pps),$ppD.context.flush(),$ppa.end();$ppe=$ppa.getData(0,0,$ppi,$ppn);{if($ppa.recycle(),$ppe.byteLength==$ppi*$ppn*4)return($ppt=new $ppsi)._canvas=$ppd.createElement("canvas"),$ppt.size($ppi,$ppn),$ppr=$ppt._canvas.getContext("2d"),$ppd.canvas.size($ppi,$ppn),($ppa=($pps=$ppd.context).createImageData($ppi,$ppn)).data.set(new Uint8ClampedArray($ppe.buffer)),$ppt._imgData=$ppa,$pps.putImageData($ppa,0,0),$ppr.save(),$ppr.translate(0,$ppn),$ppr.scale(1,-1),$ppr.drawImage($ppd.canvas.source,0,0),$ppr.restore(),$ppt;console.log("drawToCanvas error: w:"+$ppi+",h:"+$ppn+",datalen:"+$ppe.byteLength)}},$ppL.createFilterAction=function($ppt){var $ppe;return $ppe=32===$ppt?new $ppwe:$ppe},$ppL.addTextureToAtlas=function($ppt){$ppt._uvID++,$pp$._atlasRestore++,$ppt.bitmap.enableMerageInAtlas&&$pp$.instance.addToAtlas($ppt)},$ppL.getTexturePixels=function($ppt,$ppe,$ppc,$ppi,$ppn){$ppD.context.ctx.clear();var $ppr=new $ppB;$ppr.graphics.drawTexture($ppt,-$ppe,-$ppc);$ppt=$ppze.create($ppi,$ppn);$ppt.start(),$ppt.clear(0,0,0,0),$ppr.render($ppD.context,0,0),$ppD.context.ctx.flush(),$ppt.end();var $pps=$ppt.getData(0,0,$ppi,$ppn);var $ppa=[];var $ppo;for(var $pph=$ppn-1;0<=$pph;$pph--)for(var $ppl=0;$ppl<$ppi;$ppl++)$ppa.push($pps[$ppo=4*($pph*$ppi+$ppl)]),$ppa.push($pps[1+$ppo]),$ppa.push($pps[2+$ppo]),$ppa.push($pps[3+$ppo]);return $ppa},$ppL.skinAniSprite=function(){return new $ppSt},$ppw.create=function($ppt,$ppe){var $ppi=new $ppsi;return $ppi._imgData=$ppe,$ppi.flipY=!1,$ppi},$ppx._filterStart=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=$ppt.getValue("bounds");$pps=$ppze.create($pps.width,$pps.height);$pps.start(),$pps.clear(0,0,0,0),$ppt.addValue("src",$pps),$ppt.addValue("ScissorTest",$ppl.worldScissorTest),$ppl.worldScissorTest&&(($pps=new $ppE).copyFrom($ppi.ctx._clipRect),$ppt.addValue("clipRect",$pps),$ppl.worldScissorTest=!1,laya.webgl.WebGL.mainContext.disable(3089))},$ppx._filterEnd=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=$ppt.getValue("bounds");$ppt.getValue("src").end();$pps=$ppze.create($pps.width,$pps.height);$pps.start(),$pps.clear(0,0,0,0),$ppt.addValue("out",$pps),$ppe._set$P("_filterCache",$pps),$ppe._set$P("_isHaveGlowFilter",$ppt.getValue("_isHaveGlowFilter"))},$ppx._EndTarget=function($ppt,$ppe){$ppt.getValue("src").recycle(),$ppt.getValue("out").end(),$ppt.getValue("ScissorTest")&&($ppl.worldScissorTest=!0,laya.webgl.WebGL.mainContext.enable(3089),$ppe.ctx.save(),$ppt=$ppt.getValue("clipRect"),$ppe.ctx.clipRect($ppt.x,$ppt.y,$ppt.width,$ppt.height))},$ppx._useSrc=function($ppt){var $ppe=$ppt.getValue("out");$ppe.end(),($ppe=$ppt.getValue("src")).start(),$ppe.clear(0,0,0,0)},$ppx._endSrc=function($ppt){$ppt.getValue("src").end()},$ppx._useOut=function($ppt){var $ppe=$ppt.getValue("src");$ppe.end(),($ppe=$ppt.getValue("out")).start(),$ppe.clear(0,0,0,0)},$ppx._endOut=function($ppt){$ppt.getValue("out").end()},$ppx._recycleScope=function($ppt){$ppt.recycle()},$ppx._filter=function($ppt,$ppe,$ppi,$ppn){var $ppc=this._next;if($ppc){var $ppu=$ppt.filters,$pp_=$ppu.length;if(1==$pp_&&32==$ppu[0].type)return $ppe.ctx.save(),$ppe.ctx.setFilters([$ppu[0]]),$ppc._fun.call($ppc,$ppt,$ppe,$ppi,$ppn),void $ppe.ctx.restore();var $ppd;var $ppr;var $pps=$ppVt.create();var $ppa=$ppM.TEMP;var $ppo=$ppe.ctx._getTransformMatrix();var $pph=$ppS.create();$ppo.copyTo($pph);$ppo=0;var $ppf=0;var $ppp=!1;var $ppm=$ppt._$P._filterCache||null;if(!$ppm||$ppt._repaint){$ppp=$ppt._isHaveGlowFilter(),$pps.addValue("_isHaveGlowFilter",$ppp),$ppp&&($ppo=50,$ppf=25),($ppr=new $ppE).copyFrom($ppt.getSelfBounds()),$ppr.x+=$ppt.x,$ppr.y+=$ppt.y,$ppr.x-=$ppt.pivotX+4,$ppr.y-=$ppt.pivotY+4;var $ppg=$ppr.x;var $ppv=$ppr.y;if($ppr.width+=$ppo+8,$ppr.height+=$ppo+8,$ppa.x=$ppr.x*$pph.a+$ppr.y*$pph.c,$ppa.y=$ppr.y*$pph.d+$ppr.x*$pph.b,$ppr.x=$ppa.x,$ppr.y=$ppa.y,$ppa.x=$ppr.width*$pph.a+$ppr.height*$pph.c,$ppa.y=$ppr.height*$pph.d+$ppr.width*$pph.b,$ppr.width=$ppa.x,$ppr.height=$ppa.y,$ppr.width<=0||$ppr.height<=0)return;$ppm&&$ppm.recycle(),$pps.addValue("bounds",$ppr);var $ppl=$ppOt.create([$pps,$ppt,$ppe,0,0],$ppx._filterStart);$ppe.addRenderObject($ppl),$ppe.ctx._renderKey=0,$ppe.ctx._shader2D.glTexture=null;$ppg=$ppt.x-$ppg+$ppf;$ppv=$ppt.y-$ppv+$ppf;$ppc._fun.call($ppc,$ppt,$ppe,$ppg,$ppv),$ppl=$ppOt.create([$pps,$ppt,$ppe,0,0],$ppx._filterEnd),$ppe.addRenderObject($ppl);for(var $ppy=0;$ppy<$pp_;$ppy++)0!=$ppy&&($ppl=$ppOt.create([$pps],$ppx._useSrc),$ppe.addRenderObject($ppl),$ppd=$ppge.create(1,0),$ppS.TEMP.identity(),$ppe.ctx.drawTarget($pps,0,0,$ppr.width,$ppr.height,$ppS.TEMP,"out",$ppd,null,$pptt.TOINT.overlay),$ppl=$ppOt.create([$pps],$ppx._useOut),$ppe.addRenderObject($ppl)),$ppu[$ppy].action.apply3d($pps,$ppt,$ppe,0,0);$ppl=$ppOt.create([$pps,$ppe],$ppx._EndTarget),$ppe.addRenderObject($ppl)}else{if(($ppp=$ppt._$P._isHaveGlowFilter||!1)&&($ppo=50,$ppf=25),($ppr=$ppt.getBounds()).width<=0||$ppr.height<=0)return;$ppr.width+=$ppo,$ppr.height+=$ppo,$ppa.x=$ppr.x*$pph.a+$ppr.y*$pph.c,$ppa.y=$ppr.y*$pph.d+$ppr.x*$pph.b,$ppr.x=$ppa.x,$ppr.y=$ppa.y,$ppa.x=$ppr.width*$pph.a+$ppr.height*$pph.c,$ppa.y=$ppr.height*$pph.d+$ppr.width*$pph.b,$ppr.width=$ppa.x,$ppr.height=$ppa.y,$pps.addValue("out",$ppm)}$ppi=$ppi-$ppf-$ppt.x,$ppn=$ppn-$ppf-$ppt.y,$ppa.setTo($ppi,$ppn),$pph.transformPoint($ppa),$ppi=$ppa.x+$ppr.x,$ppn=$ppa.y+$ppr.y,$ppd=$ppge.create(1,0),$ppS.TEMP.identity(),$ppe.ctx.drawTarget($pps,$ppi,$ppn,$ppr.width,$ppr.height,$ppS.TEMP,"out",$ppd,null,$pptt.TOINT.overlay),$ppl=$ppOt.create([$pps],$ppx._recycleScope),$ppe.addRenderObject($ppl),$pph.destroy()}},Float32Array.prototype.slice||(Float32Array.prototype.slice=$ppue._float32ArraySlice),Uint16Array.prototype.slice||(Uint16Array.prototype.slice=$ppue._uint16ArraySlice),Uint8Array.prototype.slice||(Uint8Array.prototype.slice=$ppue._uint8ArraySlice),!0},$ppue.onStageResize=function($ppt,$ppe){null!=$ppue.mainContext&&($ppue.mainContext.viewport(0,0,$ppt,$ppe),$ppl.width=$ppt,$ppl.height=$ppe)},$ppue.onInvalidGLRes=function(){$pp$.instance.freeAll(),$ppP.releaseContentManagers(!0),$ppue.doNodeRepaint($ppg.stage),$ppue.mainContext.viewport(0,0,$ppl.width,$ppl.height),$ppg.stage.event("devicelost")},$ppue.doNodeRepaint=function($ppt){0==$ppt.numChildren&&$ppt.repaint();for(var $ppe=0;$ppe<$ppt.numChildren;$ppe++)$ppue.doNodeRepaint($ppt.getChildAt($ppe))},$ppue.init=function($ppt,$ppe,$ppi){$ppue.mainCanvas=$ppt,$ppw._createContext=function($ppt){return new $pppe($ppt)},$ppsi._createContext=function($ppt){return new $pppe($ppt)};var $ppn=laya.webgl.WebGL.mainContext;var $ppr;if(null!=$ppn.getShaderPrecisionFormat?($ppt=$ppn.getShaderPrecisionFormat(35633,36338),$ppr=$ppn.getShaderPrecisionFormat(35632,36338),$ppue.shaderHighPrecision=!(!$ppt.precision||!$ppr.precision)):$ppue.shaderHighPrecision=!1,$ppue.compressAstc=$ppn.getExtension("WEBGL_compressed_texture_astc"),$ppue.compressAtc=$ppn.getExtension("WEBGL_compressed_texture_atc"),$ppue.compressEtc=$ppn.getExtension("WEBGL_compressed_texture_etc"),$ppue.compressEtc1=$ppn.getExtension("WEBGL_compressed_texture_etc1"),$ppue.compressPvrtc=$ppn.getExtension("WEBGL_compressed_texture_pvrtc"),$ppue.compressS3tc=$ppn.getExtension("WEBGL_compressed_texture_s3tc"),$ppue.compressS3tc_srgb=$ppn.getExtension("WEBGL_compressed_texture_s3tc_srgb"),$ppn.deleteTexture1=$ppn.deleteTexture,$ppn.deleteTexture=function($ppt){$ppt==$pp_e.curBindTexValue&&($pp_e.curBindTexValue=null),$ppn.deleteTexture1($ppt)},$ppue.onStageResize($ppe,$ppi),null==$ppue.mainContext)throw new Error("webGL getContext err!");$ppV.__init__(),$pp$.__init__(),$ppCe.__init__(),$ppBt.__init__(),$pppe.__init__(),$ppge.__init__(),$ppxt.__init__(),$pppi.__int__($ppn),$pptt._init_($ppn),$ppD.isConchApp&&conch.setOnInvalidGLRes($ppue.onInvalidGLRes)},$ppue.compressAstc=null,$ppue.compressAtc=null,$ppue.compressEtc=null,$ppue.compressEtc1=null,$ppue.compressPvrtc=null,$ppue.compressS3tc=null,$ppue.compressS3tc_srgb=null,$ppue.mainCanvas=null,$ppue.mainContext=null,$ppue.antialias=!0,$ppue.shaderHighPrecision=!1,$ppue._bg_null=[0,0,0,0];var $ppc=$ppue;function $ppue(){}$ppn($ppr,"laya.webgl.WebGLContext"),$ppr.UseProgram=function($ppt){return $ppr._useProgram!==$ppt&&($ppc.mainContext.useProgram($ppt),$ppr._useProgram=$ppt,!0)},$ppr.setDepthTest=function($ppt,$ppe){$ppe!==$ppr._depthTest&&(($ppr._depthTest=$ppe)?$ppt.enable(2929):$ppt.disable(2929))},$ppr.setDepthMask=function($ppt,$ppe){$ppe!==$ppr._depthMask&&($ppr._depthMask=$ppe,$ppt.depthMask($ppe))},$ppr.setDepthFunc=function($ppt,$ppe){$ppe!==$ppr._depthFunc&&($ppr._depthFunc=$ppe,$ppt.depthFunc($ppe))},$ppr.setBlend=function($ppt,$ppe){$ppe!==$ppr._blend&&(($ppr._blend=$ppe)?$ppt.enable(3042):$ppt.disable(3042))},$ppr.setBlendFunc=function($ppt,$ppe,$ppi){$ppe===$ppr._sFactor&&$ppi===$ppr._dFactor||($ppr._sFactor=$ppe,$ppr._dFactor=$ppi,$ppt.blendFunc($ppe,$ppi))},$ppr.setCullFace=function($ppt,$ppe){$ppe!==$ppr._cullFace&&(($ppr._cullFace=$ppe)?$ppt.enable(2884):$ppt.disable(2884))},$ppr.setFrontFace=function($ppt,$ppe){$ppe!==$ppr._frontFace&&($ppr._frontFace=$ppe,$ppt.frontFace($ppe))},$ppr.bindTexture=function($ppt,$ppe,$ppi){$ppt.bindTexture($ppe,$ppi),$ppr.curBindTexTarget=$ppe,$ppr.curBindTexValue=$ppi},$ppr.DEPTH_BUFFER_BIT=256,$ppr.STENCIL_BUFFER_BIT=1024,$ppr.COLOR_BUFFER_BIT=16384,$ppr.POINTS=0,$ppr.LINES=1,$ppr.LINE_LOOP=2,$ppr.LINE_STRIP=3,$ppr.TRIANGLES=4,$ppr.TRIANGLE_STRIP=5,$ppr.TRIANGLE_FAN=6,$ppr.ZERO=0,$ppr.ONE=1,$ppr.SRC_COLOR=768,$ppr.ONE_MINUS_SRC_COLOR=769,$ppr.SRC_ALPHA=770,$ppr.ONE_MINUS_SRC_ALPHA=771,$ppr.DST_ALPHA=772,$ppr.ONE_MINUS_DST_ALPHA=773,$ppr.DST_COLOR=774,$ppr.ONE_MINUS_DST_COLOR=775,$ppr.SRC_ALPHA_SATURATE=776,$ppr.FUNC_ADD=32774,$ppr.BLEND_EQUATION=32777,$ppr.BLEND_EQUATION_RGB=32777,$ppr.BLEND_EQUATION_ALPHA=34877,$ppr.FUNC_SUBTRACT=32778,$ppr.FUNC_REVERSE_SUBTRACT=32779,$ppr.BLEND_DST_RGB=32968,$ppr.BLEND_SRC_RGB=32969,$ppr.BLEND_DST_ALPHA=32970,$ppr.BLEND_SRC_ALPHA=32971,$ppr.CONSTANT_COLOR=32769,$ppr.ONE_MINUS_CONSTANT_COLOR=32770,$ppr.CONSTANT_ALPHA=32771,$ppr.ONE_MINUS_CONSTANT_ALPHA=32772,$ppr.BLEND_COLOR=32773,$ppr.ARRAY_BUFFER=34962,$ppr.ELEMENT_ARRAY_BUFFER=34963,$ppr.ARRAY_BUFFER_BINDING=34964,$ppr.ELEMENT_ARRAY_BUFFER_BINDING=34965,$ppr.STREAM_DRAW=35040,$ppr.STATIC_DRAW=35044,$ppr.DYNAMIC_DRAW=35048,$ppr.BUFFER_SIZE=34660,$ppr.BUFFER_USAGE=34661,$ppr.CURRENT_VERTEX_ATTRIB=34342,$ppr.FRONT=1028,$ppr.BACK=1029,$ppr.CULL_FACE=2884,$ppr.FRONT_AND_BACK=1032,$ppr.BLEND=3042,$ppr.DITHER=3024,$ppr.STENCIL_TEST=2960,$ppr.DEPTH_TEST=2929,$ppr.SCISSOR_TEST=3089,$ppr.POLYGON_OFFSET_FILL=32823,$ppr.SAMPLE_ALPHA_TO_COVERAGE=32926,$ppr.SAMPLE_COVERAGE=32928,$ppr.NO_ERROR=0,$ppr.INVALID_ENUM=1280,$ppr.INVALID_VALUE=1281,$ppr.INVALID_OPERATION=1282,$ppr.OUT_OF_MEMORY=1285,$ppr.CW=2304,$ppr.CCW=2305,$ppr.LINE_WIDTH=2849,$ppr.ALIASED_POINT_SIZE_RANGE=33901,$ppr.ALIASED_LINE_WIDTH_RANGE=33902,$ppr.CULL_FACE_MODE=2885,$ppr.FRONT_FACE=2886,$ppr.DEPTH_RANGE=2928,$ppr.DEPTH_WRITEMASK=2930,$ppr.DEPTH_CLEAR_VALUE=2931,$ppr.DEPTH_FUNC=2932,$ppr.STENCIL_CLEAR_VALUE=2961,$ppr.STENCIL_FUNC=2962,$ppr.STENCIL_FAIL=2964,$ppr.STENCIL_PASS_DEPTH_FAIL=2965,$ppr.STENCIL_PASS_DEPTH_PASS=2966,$ppr.STENCIL_REF=2967,$ppr.STENCIL_VALUE_MASK=2963,$ppr.STENCIL_WRITEMASK=2968,$ppr.STENCIL_BACK_FUNC=34816,$ppr.STENCIL_BACK_FAIL=34817,$ppr.STENCIL_BACK_PASS_DEPTH_FAIL=34818,$ppr.STENCIL_BACK_PASS_DEPTH_PASS=34819,$ppr.STENCIL_BACK_REF=36003,$ppr.STENCIL_BACK_VALUE_MASK=36004,$ppr.STENCIL_BACK_WRITEMASK=36005,$ppr.VIEWPORT=2978,$ppr.SCISSOR_BOX=3088,$ppr.COLOR_CLEAR_VALUE=3106,$ppr.COLOR_WRITEMASK=3107,$ppr.UNPACK_ALIGNMENT=3317,$ppr.PACK_ALIGNMENT=3333,$ppr.MAX_TEXTURE_SIZE=3379,$ppr.MAX_VIEWPORT_DIMS=3386,$ppr.SUBPIXEL_BITS=3408,$ppr.RED_BITS=3410,$ppr.GREEN_BITS=3411,$ppr.BLUE_BITS=3412,$ppr.ALPHA_BITS=3413,$ppr.DEPTH_BITS=3414,$ppr.STENCIL_BITS=3415,$ppr.POLYGON_OFFSET_UNITS=10752,$ppr.POLYGON_OFFSET_FACTOR=32824,$ppr.TEXTURE_BINDING_2D=32873,$ppr.SAMPLE_BUFFERS=32936,$ppr.SAMPLES=32937,$ppr.SAMPLE_COVERAGE_VALUE=32938,$ppr.SAMPLE_COVERAGE_INVERT=32939,$ppr.NUM_COMPRESSED_TEXTURE_FORMATS=34466,$ppr.COMPRESSED_TEXTURE_FORMATS=34467,$ppr.DONT_CARE=4352,$ppr.FASTEST=4353,$ppr.NICEST=4354,$ppr.GENERATE_MIPMAP_HINT=33170,$ppr.BYTE=5120,$ppr.UNSIGNED_BYTE=5121,$ppr.SHORT=5122,$ppr.UNSIGNED_SHORT=5123,$ppr.INT=5124,$ppr.UNSIGNED_INT=5125,$ppr.FLOAT=5126,$ppr.DEPTH_COMPONENT=6402,$ppr.ALPHA=6406,$ppr.RGB=6407,$ppr.RGBA=6408,$ppr.LUMINANCE=6409,$ppr.LUMINANCE_ALPHA=6410,$ppr.UNSIGNED_SHORT_4_4_4_4=32819,$ppr.UNSIGNED_SHORT_5_5_5_1=32820,$ppr.UNSIGNED_SHORT_5_6_5=33635,$ppr.FRAGMENT_SHADER=35632,$ppr.VERTEX_SHADER=35633,$ppr.MAX_VERTEX_ATTRIBS=34921,$ppr.MAX_VERTEX_UNIFORM_VECTORS=36347,$ppr.MAX_VARYING_VECTORS=36348,$ppr.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,$ppr.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,$ppr.MAX_TEXTURE_IMAGE_UNITS=34930,$ppr.MAX_FRAGMENT_UNIFORM_VECTORS=36349,$ppr.SHADER_TYPE=35663,$ppr.DELETE_STATUS=35712,$ppr.LINK_STATUS=35714,$ppr.VALIDATE_STATUS=35715,$ppr.ATTACHED_SHADERS=35717,$ppr.ACTIVE_UNIFORMS=35718,$ppr.ACTIVE_ATTRIBUTES=35721,$ppr.SHADING_LANGUAGE_VERSION=35724,$ppr.CURRENT_PROGRAM=35725,$ppr.NEVER=512,$ppr.LESS=513,$ppr.EQUAL=514,$ppr.LEQUAL=515,$ppr.GREATER=516,$ppr.NOTEQUAL=517,$ppr.GEQUAL=518,$ppr.ALWAYS=519,$ppr.KEEP=7680,$ppr.REPLACE=7681,$ppr.INCR=7682,$ppr.DECR=7683,$ppr.INVERT=5386,$ppr.INCR_WRAP=34055,$ppr.DECR_WRAP=34056,$ppr.VENDOR=7936,$ppr.RENDERER=7937,$ppr.VERSION=7938,$ppr.NEAREST=9728,$ppr.LINEAR=9729,$ppr.NEAREST_MIPMAP_NEAREST=9984,$ppr.LINEAR_MIPMAP_NEAREST=9985,$ppr.NEAREST_MIPMAP_LINEAR=9986,$ppr.LINEAR_MIPMAP_LINEAR=9987,$ppr.TEXTURE_MAG_FILTER=10240,$ppr.TEXTURE_MIN_FILTER=10241,$ppr.TEXTURE_WRAP_S=10242,$ppr.TEXTURE_WRAP_T=10243,$ppr.TEXTURE_2D=3553,$ppr.TEXTURE=5890,$ppr.TEXTURE_CUBE_MAP=34067,$ppr.TEXTURE_BINDING_CUBE_MAP=34068,$ppr.TEXTURE_CUBE_MAP_POSITIVE_X=34069,$ppr.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,$ppr.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,$ppr.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,$ppr.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,$ppr.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,$ppr.MAX_CUBE_MAP_TEXTURE_SIZE=34076,$ppr.TEXTURE0=33984,$ppr.TEXTURE1=33985,$ppr.TEXTURE2=33986,$ppr.TEXTURE3=33987,$ppr.TEXTURE4=33988,$ppr.TEXTURE5=33989,$ppr.TEXTURE6=33990,$ppr.TEXTURE7=33991,$ppr.TEXTURE8=33992,$ppr.TEXTURE9=33993,$ppr.TEXTURE10=33994,$ppr.TEXTURE11=33995,$ppr.TEXTURE12=33996,$ppr.TEXTURE13=33997,$ppr.TEXTURE14=33998,$ppr.TEXTURE15=33999,$ppr.TEXTURE16=34e3,$ppr.TEXTURE17=34001,$ppr.TEXTURE18=34002,$ppr.TEXTURE19=34003,$ppr.TEXTURE20=34004,$ppr.TEXTURE21=34005,$ppr.TEXTURE22=34006,$ppr.TEXTURE23=34007,$ppr.TEXTURE24=34008,$ppr.TEXTURE25=34009,$ppr.TEXTURE26=34010,$ppr.TEXTURE27=34011,$ppr.TEXTURE28=34012,$ppr.TEXTURE29=34013,$ppr.TEXTURE30=34014,$ppr.TEXTURE31=34015,$ppr.ACTIVE_TEXTURE=34016,$ppr.REPEAT=10497,$ppr.CLAMP_TO_EDGE=33071,$ppr.MIRRORED_REPEAT=33648,$ppr.FLOAT_VEC2=35664,$ppr.FLOAT_VEC3=35665,$ppr.FLOAT_VEC4=35666,$ppr.INT_VEC2=35667,$ppr.INT_VEC3=35668,$ppr.INT_VEC4=35669,$ppr.BOOL=35670,$ppr.BOOL_VEC2=35671,$ppr.BOOL_VEC3=35672,$ppr.BOOL_VEC4=35673,$ppr.FLOAT_MAT2=35674,$ppr.FLOAT_MAT3=35675,$ppr.FLOAT_MAT4=35676,$ppr.SAMPLER_2D=35678,$ppr.SAMPLER_CUBE=35680,$ppr.VERTEX_ATTRIB_ARRAY_ENABLED=34338,$ppr.VERTEX_ATTRIB_ARRAY_SIZE=34339,$ppr.VERTEX_ATTRIB_ARRAY_STRIDE=34340,$ppr.VERTEX_ATTRIB_ARRAY_TYPE=34341,$ppr.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,$ppr.VERTEX_ATTRIB_ARRAY_POINTER=34373,$ppr.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,$ppr.COMPILE_STATUS=35713,$ppr.LOW_FLOAT=36336,$ppr.MEDIUM_FLOAT=36337,$ppr.HIGH_FLOAT=36338,$ppr.LOW_INT=36339,$ppr.MEDIUM_INT=36340,$ppr.HIGH_INT=36341,$ppr.FRAMEBUFFER=36160,$ppr.RENDERBUFFER=36161,$ppr.RGBA4=32854,$ppr.RGB5_A1=32855,$ppr.RGB565=36194,$ppr.DEPTH_COMPONENT16=33189,$ppr.STENCIL_INDEX=6401,$ppr.STENCIL_INDEX8=36168,$ppr.DEPTH_STENCIL=34041,$ppr.RENDERBUFFER_WIDTH=36162,$ppr.RENDERBUFFER_HEIGHT=36163,$ppr.RENDERBUFFER_INTERNAL_FORMAT=36164,$ppr.RENDERBUFFER_RED_SIZE=36176,$ppr.RENDERBUFFER_GREEN_SIZE=36177,$ppr.RENDERBUFFER_BLUE_SIZE=36178,$ppr.RENDERBUFFER_ALPHA_SIZE=36179,$ppr.RENDERBUFFER_DEPTH_SIZE=36180,$ppr.RENDERBUFFER_STENCIL_SIZE=36181,$ppr.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,$ppr.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,$ppr.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,$ppr.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,$ppr.COLOR_ATTACHMENT0=36064,$ppr.DEPTH_ATTACHMENT=36096,$ppr.STENCIL_ATTACHMENT=36128,$ppr.DEPTH_STENCIL_ATTACHMENT=33306,$ppr.NONE=0,$ppr.FRAMEBUFFER_COMPLETE=36053,$ppr.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,$ppr.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,$ppr.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,$ppr.FRAMEBUFFER_UNSUPPORTED=36061,$ppr.FRAMEBUFFER_BINDING=36006,$ppr.RENDERBUFFER_BINDING=36007,$ppr.MAX_RENDERBUFFER_SIZE=34024,$ppr.INVALID_FRAMEBUFFER_OPERATION=1286,$ppr.UNPACK_FLIP_Y_WEBGL=37440,$ppr.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,$ppr.CONTEXT_LOST_WEBGL=37442,$ppr.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,$ppr.BROWSER_DEFAULT_WEBGL=37444,$ppr._useProgram=null,$ppr._depthTest=!0,$ppr._depthMask=!0,$ppr._blend=!1,$ppr._cullFace=!1,$ppr.curBindTexTarget=null,$ppr.curBindTexValue=null,$pps($ppr,["_depthFunc",function(){return this._depthFunc=513},"_sFactor",function(){return this._sFactor=1},"_dFactor",function(){return this._dFactor=0},"_frontFace",function(){return this._frontFace=2305}]);var $pp_e=$ppr;function $ppr(){}$ppn($ppfe,"laya.webgl.display.GraphicsGL",$ppt),($ppBi=$ppfe.prototype).setShader=function($ppt){this._saveToCmd($ppD.context._setShader,[$ppt])},$ppBi.setIBVB=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this._saveToCmd($ppD.context._setIBVB,[$ppt,$ppe,$ppi,$ppn,$ppr,$pps])},$ppBi.drawParticle=function($ppt,$ppe,$ppi){$ppi=$ppL.createParticleTemplate2D($ppi);$ppi.x=$ppt,$ppi.y=$ppe,this._saveToCmd($ppD.context._drawParticle,[$ppi])};var $ppde=$ppfe;function $ppfe(){$ppfe.__super.call(this)}$ppn($ppC,"laya.webgl.canvas.WebGLContext2D",$ppy),($ppt=$ppC.prototype).setIsMainContext=function(){this._isMain=!0},$ppt.clearBG=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppc.mainContext;$ppr.clearColor($ppt,$ppe,$ppi,$ppn),$ppr.clear(16384)},$ppt._getSubmits=function(){return this._submits},$ppt._releaseMem=function(){if(this._submits){this._curMat.destroy(),this._curMat=null,this._shader2D.destroy(),this._shader2D=null;for(var $ppt=0,$ppe=this._submits._length;$ppt<$ppe;$ppt++)this._submits[$ppt].releaseRender();this._submits.length=0,this._submits._length=0,this._submits=null,this._curSubmit=null,this._path&&this._path.recover(),this._path=null,this._other&&(this._other.font=null),this._save=null,this._vb&&(this._vb.releaseResource(),this._vb.destroy(),this._vb.destory(),this._vb=null)}},$ppt.destroy=function(){--$ppC._contextcount,this.sprite=null,this._releaseMem(),this._targets&&this._targets.destroy(),this._targets=null,this._canvas&&this._canvas._removeReference(),this._canvas=null,this._ib&&this._ib!=$ppEi.QuadrangleIB&&this._ib.releaseResource()},$ppt.clear=function(){this._submits||(this._other=$ppme.DEFAULT,this._curMat=$ppS.create(),this._vb=$ppDi.create(-1),this._submits=[],this._save=[$pp_t.Create(this)],this._save.length=10,this._shader2D=new $ppxt,this._triangleMesh=$ppVe.getAMesh()),this._vb.clear(),this._targets&&(this._targets.repaint=!0),this._other=$ppme.DEFAULT,this._clear=!0,this._repaint=!1,this._drawCount=1,this._renderKey=0,this._other.lineWidth=this._shader2D.ALPHA=1,this._nBlendType=0,this._clipRect=$ppC.MAXCLIPRECT,this._curSubmit=$ppBt.RENDERBASE,this._shader2D.glTexture=null,this._shader2D.fillStyle=this._shader2D.strokeStyle=$ppit.DEFAULT;for(var $ppt=0,$ppe=this._submits._length;$ppt<$ppe;$ppt++)this._submits[$ppt].releaseRender(),this._submits[$ppt]=null;this._submits._length=0,this._curMat.identity(),this._other.clear(),this._saveMark=this._save[0],this._save._length=1},$ppt.size=function($ppt,$ppe){if(this._width!=$ppt||this._height!=$ppe)if(0==$ppt||0==$ppe){0!=this._vb._byteLength&&(this._width=$ppt,this._height=$ppe,this._vb.clear(),this._vb.upload());for(var $ppi=0,$ppn=this._submits._length;$ppi<$ppn;$ppi++)this._submits[$ppi].releaseRender();this._submits.length=0,this._submits._length=0,this._curSubmit=null,this._path&&this._path.recover(),this._path=null,this.sprite=null,this._targets&&this._targets.destroy(),this._targets=null}else this._width=$ppt,this._height=$ppe,this._targets&&this._targets.size($ppt,$ppe),this._canvas.memorySize-=this._canvas.memorySize;0===$ppt&&0===$ppe&&this._releaseMem()},$ppt._getTransformMatrix=function(){return this._curMat},$ppt.translate=function($ppt,$ppe){0===$ppt&&0===$ppe||($ppmt.save(this),this._curMat.bTransform&&($ppft.save(this),this._curMat.transformPointN($ppM.TEMP.setTo($ppt,$ppe)),$ppt=$ppM.TEMP.x,$ppe=$ppM.TEMP.y),this._x+=$ppt,this._y+=$ppe)},$ppt.save=function(){this._save[this._save._length++]=$pp_t.Create(this)},$ppt.restore=function(){var $ppt=this._save._length;if(!($ppt<1))for(var $ppe=$ppt-1;0<=$ppe;$ppe--){var $ppi=this._save[$ppe];if($ppi.restore(this),$ppi.isSaveMark())return void(this._save._length=$ppe)}},$ppt._fillText=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppc,$ppu,$pp_,$ppa){void 0===$ppa&&($ppa=0);var $ppo=this._shader2D;var $pph=this._curSubmit.shaderValue;$ppr=$ppr?$ppQt.create($ppr):this._other.font;var $ppl;$pp$.enabled?$ppo.ALPHA!==$pph.ALPHA&&($ppo.glTexture=null):(this._shader2D.defines.getValue(),$ppl=$pps?$ppm.create($pps)._color:$ppo.colorAdd,$ppo.ALPHA===$pph.ALPHA&&$ppl===$ppo.colorAdd&&$pph.colorAdd===$ppo.colorAdd||($ppo.glTexture=null,$ppo.colorAdd=$ppl)),$pp$t.drawText(this,$ppt,$ppe,this._curMat,$ppr,$pp_||this._other.textAlign,$pps,$ppc,$ppu,$ppi,$ppn,$ppa)},$ppt.fillWords=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this._fillText(null,$ppt,$ppe,$ppi,$ppn,$ppr,null,-1,null,$pps)},$ppt.fillBorderWords=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){this._fillBorderText(null,$ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,null)},$ppt.fillText=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this._fillText($ppt,null,$ppe,$ppi,$ppn,$ppr,null,-1,$pps)},$ppt.strokeText=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){this._fillText($ppt,null,$ppe,$ppi,$ppn,null,$ppr,$pps||1,$ppa)},$ppt.fillBorderText=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){this._fillBorderText($ppt,null,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo)},$ppt._fillBorderText=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph){if(!$pp$.enabled)return this._fillText($ppt,$ppe,$ppi,$ppn,$ppr,null,$ppa,$ppo||1,$pph),void this._fillText($ppt,$ppe,$ppi,$ppn,$ppr,$pps,null,-1,$pph);var $ppc=this._shader2D;var $ppl=this._curSubmit.shaderValue;$ppc.ALPHA!==$ppl.ALPHA&&($ppc.glTexture=null);$ppl=$ppr?($ppC._fontTemp.setFont($ppr),$ppC._fontTemp):this._other.font;$pp$t.drawText(this,$ppt,$ppe,this._curMat,$ppl,$pph||this._other.textAlign,$pps,$ppa,$ppo||1,$ppi,$ppn,0)},$ppt.fillRect=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=this._vb;$ppie.fillRectImgVb($pps,this._clipRect,$ppt,$ppe,$ppi,$ppn,$ppU.DEF_UV,this._curMat,this._x,this._y,0,0)&&(this._renderKey=0,$ppt=this._shader2D.fillStyle,$ppr&&(this._shader2D.fillStyle=$ppit.create($ppr)),$ppe=this._shader2D,$ppi=this._curSubmit.shaderValue,$ppe.fillStyle===$ppi.fillStyle&&$ppe.ALPHA===$ppi.ALPHA||($ppe.glTexture=null,($ppn=this._curSubmit=$ppBt.createSubmit(this,this._ib,$pps,($pps._byteLength-64)/32*3,$ppge.create(2,0))).shaderValue.color=$ppe.fillStyle._color._color,$ppn.shaderValue.ALPHA=$ppe.ALPHA,this._submits[this._submits._length++]=$ppn),this._curSubmit._numEle+=6,this._shader2D.fillStyle=$ppt)},$ppt.fillTexture=function($ppt,$ppc,$ppu,$ppe,$ppi,$ppn,$pp_,$ppr){if($ppt.loaded&&$ppt.bitmap&&$ppt.source){var $ppd=this._vb;var $pps=$ppt.bitmap.width,$ppa=$ppt.bitmap.height,$ppo=$ppt.uv;var $pph=$pp_.x%$ppt.width,$ppl=$pp_.y%$ppt.height;if($pps!=$ppr.w||$ppa!=$ppr.h){if(!$ppr.w&&!$ppr.h)switch($ppr.oy=$ppr.ox=0,$ppn){case"repeat":$ppr.width=$ppe,$ppr.height=$ppi;break;case"repeat-x":$ppr.width=$ppe,$ppl<0?$ppt.height+$ppl>$ppi?$ppr.height=$ppi:$ppr.height=$ppt.height+$ppl:($ppr.oy=$ppl,$ppt.height+$ppl>$ppi?$ppr.height=$ppi-$ppl:$ppr.height=$ppt.height);break;case"repeat-y":$pph<0?$ppt.width+$pph>$ppe?$ppr.width=$ppe:$ppr.width=$ppt.width+$pph:($ppr.ox=$pph,$ppt.width+$pph>$ppe?$ppr.width=$ppe-$pph:$ppr.width=$ppt.width),$ppr.height=$ppi;break;case"no-repeat":$pph<0?$ppt.width+$pph>$ppe?$ppr.width=$ppe:$ppr.width=$ppt.width+$pph:($ppr.ox=$pph,$ppt.width+$pph>$ppe?$ppr.width=$ppe-$pph:$ppr.width=$ppt.width),$ppl<0?$ppt.height+$ppl>$ppi?$ppr.height=$ppi:$ppr.height=$ppt.height+$ppl:($ppr.oy=$ppl,$ppt.height+$ppl>$ppi?$ppr.height=$ppi-$ppl:$ppr.height=$ppt.height);break;default:$ppr.width=$ppe,$ppr.height=$ppi}$ppr.w=$pps,$ppr.h=$ppa,$ppr.uv=[0,0,$ppr.width/$pps,0,$ppr.width/$pps,$ppr.height/$ppa,0,$ppr.height/$ppa]}var $ppf,$ppp,$ppm;$ppc+=$ppr.ox,$ppu+=$ppr.oy,$pph-=$ppr.ox,$ppl-=$ppr.oy,$ppie.fillRectImgVb($ppd,this._clipRect,$ppc,$ppu,$ppr.width,$ppr.height,$ppr.uv,this._curMat,this._x,this._y,0,0)&&(this._renderKey=0,$pp_=$ppOe.create(this,this._ib,$ppd,($ppd._byteLength-64)/32*3,$ppge.create(256,0)),($ppn=(this._submits[this._submits._length++]=$pp_).shaderValue).textureHost=$ppt,$ppc=$ppo[0]*$pps,$ppu=$ppo[1]*$ppa,$ppf=($ppo[2]-$ppo[0])*$pps,$ppo=($ppo[5]-$ppo[3])*$ppa,$ppp=-$pph/$pps,$ppm=-$ppl/$ppa,$ppn.u_TexRange[0]=$ppc/$pps,$ppn.u_TexRange[1]=$ppf/$pps,$ppn.u_TexRange[2]=$ppu/$ppa,$ppn.u_TexRange[3]=$ppo/$ppa,$ppn.u_offset[0]=$ppp,$ppn.u_offset[1]=$ppm,$pp$.enabled&&!this._isMain&&$pp_.addTexture($ppt,($ppd._byteLength>>2)-16),(this._curSubmit=$pp_)._renderType=10017,$pp_._numEle+=6)}else this.sprite&&$ppg.timer.callLater(this,this._repaintSprite)},$ppt.setShader=function($ppt){$ppat.save(this,1048576,this._shader2D,!0),this._shader2D.shader=$ppt},$ppt.setFilters=function($ppt){$ppat.save(this,2097152,this._shader2D,!0),this._shader2D.filters=$ppt,this._curSubmit=$ppBt.RENDERBASE,this._renderKey=0,this._drawCount++},$ppt.drawTexture=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){this._drawTextureM($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,null,1)},$ppt.addTextureVb=function($ppt,$ppe,$ppi){var $ppn=this._curSubmit._vb||this._vb;var $ppr=$ppn._byteLength>>2;$ppn.byteLength=$ppr+16<<2;var $pps=$ppn.getFloat32Array();for(var $ppa=0;$ppa<16;$ppa+=4)$pps[$ppr++]=$ppt[$ppa]+$ppe,$pps[$ppr++]=$ppt[$ppa+1]+$ppi,$pps[$ppr++]=$ppt[$ppa+2],$pps[$ppr++]=$ppt[$ppa+3];this._curSubmit._numEle+=6,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle),$ppn._upload=!0},$ppt.willDrawTexture=function($ppt,$ppe){if(!($ppt.loaded&&$ppt.bitmap&&$ppt.source))return this.sprite&&$ppg.timer.callLater(this,this._repaintSprite),0;var $ppi=$ppt.bitmap;var $ppn=$ppi.id+this._shader2D.ALPHA*$ppe+10016;if($ppn==this._renderKey)return $ppn;var $ppr=this._shader2D;var $pps=$ppr.ALPHA;var $ppa=this._curSubmit.shaderValue;$ppr.ALPHA*=$ppe,this._renderKey=$ppn,this._drawCount++,$ppr.glTexture=$ppi;$ppe=this._vb;$ppi=null;var $ppo=$ppe._byteLength/32*3;return $ppi=$ppOe.create(this,this._ib,$ppe,$ppo,$ppge.create(1,0)),(this._submits[this._submits._length++]=$ppi).shaderValue.textureHost=$ppt,$ppi._renderType=10016,$ppi._preIsSameTextureShader=10016===this._curSubmit._renderType&&$ppr.ALPHA===$ppa.ALPHA,this._curSubmit=$ppi,$ppr.ALPHA=$pps,$ppn},$ppt.drawTextures=function($ppt,$ppe,$ppi,$ppn){if($ppt.loaded&&$ppt.bitmap&&$ppt.source){var $ppr=this._clipRect;if(this._clipRect=$ppC.MAXCLIPRECT,this._drawTextureM($ppt,$ppe[0],$ppe[1],$ppt.width,$ppt.height,$ppi,$ppn,null,1)){if(this._clipRect=$ppr,$ppO.drawCall++,!($ppe.length<4)){var $pps=this._curSubmit._vb||this._vb;var $ppa=this._curMat.a,$ppo=this._curMat.d;for(var $pph=2,$ppl=$ppe.length;$pph<$ppl;$pph+=2)$ppie.copyPreImgVb($pps,($ppe[$pph]-$ppe[$pph-2])*$ppa,($ppe[$pph+1]-$ppe[$pph-1])*$ppo),this._curSubmit._numEle+=6;this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle)}}else alert("drawTextures err")}else this.sprite&&$ppg.timer.callLater(this,this._repaintSprite)},$ppt._drawTextureM=function($ppt,$ppe,$ppi,$ppc,$ppu,$ppn,$ppr,$pp_,$pps){if(!$ppt.loaded||!$ppt.source)return this.sprite&&$ppg.timer.callLater(this,this._repaintSprite),!1;var $ppa=this._curSubmit._vb||this._vb;var $ppo=$ppt.bitmap;$ppe+=$ppn,$ppi+=$ppr,this._drawCount++;$ppn=$ppo.id+this._shader2D.ALPHA*$pps+10016;var $pph,$ppl;return $ppn!=this._renderKey&&(this._renderKey=$ppn,$ppr=this._curSubmit.shaderValue,$pph=($ppn=this._shader2D).ALPHA,$ppn.ALPHA*=$pps,$ppn.glTexture=$ppo,$pps=null,$ppl=($ppo=this._vb)._byteLength/32*3,$pps=$ppOe.create(this,this._ib,$ppo,$ppl,$ppge.create(1,0)),(this._submits[this._submits._length++]=$pps).shaderValue.textureHost=$ppt,$pps._renderType=10016,$pps._preIsSameTextureShader=10016===this._curSubmit._renderType&&$ppn.ALPHA===$ppr.ALPHA,this._curSubmit=$pps,$ppa=this._curSubmit._vb||this._vb,$ppn.ALPHA=$pph),!!$ppie.fillRectImgVb($ppa,this._clipRect,$ppe,$ppi,$ppc||$ppt.width,$ppu||$ppt.height,$ppt.uv,$pp_||this._curMat,this._x,this._y,0,0)&&($pp$.enabled&&!this._isMain&&this._curSubmit.addTexture($ppt,($ppa._byteLength>>2)-16),this._curSubmit._numEle+=6,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle),!0)},$ppt._repaintSprite=function(){this.sprite&&this.sprite.repaint()},$ppt._drawText=function($ppt,$ppe,$ppi,$ppn,$ppr,$ppc,$ppu,$pp_,$ppd,$ppf){var $pps=$ppt.bitmap;this._drawCount++;var $ppa=$pps.id+this._shader2D.ALPHA+10016;var $ppo,$pph;$ppa!=this._renderKey&&(this._renderKey=$ppa,$ppa=this._curSubmit.shaderValue,($ppo=this._shader2D).glTexture=$pps,$pps=null,$pph=($ppl=this._vb)._byteLength/32*3,($pps=$pp$.enabled?$ppOe.create(this,this._ib,$ppl,$pph,$ppge.create(1,0)):$ppOe.create(this,this._ib,$ppl,$pph,$ppwi.create()))._preIsSameTextureShader=10016===this._curSubmit._renderType&&$ppo.ALPHA===$ppa.ALPHA,(this._submits[this._submits._length++]=$pps).shaderValue.textureHost=$ppt,$pps._renderType=10016,this._curSubmit=$pps),$ppt.active();var $ppl=this._curSubmit._vb||this._vb;$ppie.fillRectImgVb($ppl,this._clipRect,$ppe+$ppu,$ppi+$pp_,$ppn||$ppt.width,$ppr||$ppt.height,$ppt.uv,$ppc||this._curMat,this._x,this._y,$ppd,$ppf,!0)&&($pp$.enabled&&!this._isMain&&this._curSubmit.addTexture($ppt,($ppl._byteLength>>2)-16),this._curSubmit._numEle+=6,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle))},$ppt.drawTextureWithTransform=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph){var $ppl,$ppc,$ppu;$pps?($ppl=this._curMat,$ppc=this._x,$ppu=this._y,0===$ppa&&0===$ppo||(this._x=$ppa*$ppl.a+$ppo*$ppl.c,this._y=$ppo*$ppl.d+$ppa*$ppl.b),$pps&&$ppl.bTransform?($ppS.mul($pps,$ppl,$ppC._tmpMatrix),($pps=$ppC._tmpMatrix)._checkTransform()):(this._x+=$ppl.tx,this._y+=$ppl.ty),this._drawTextureM($ppt,$ppe,$ppi,$ppn,$ppr,0,0,$pps,$pph),this._x=$ppc,this._y=$ppu):this._drawTextureM($ppt,$ppe,$ppi,$ppn,$ppr,$ppa,$ppo,null,$pph)},$ppt.fillQuadrangle=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=this._curSubmit;var $ppa=this._vb;var $ppo=this._shader2D;var $pph=$pps.shaderValue;var $ppl;this._renderKey=0,$ppt.bitmap?($ppl=$ppt.bitmap,$ppo.glTexture==$ppl&&$ppo.ALPHA===$pph.ALPHA||($ppo.glTexture=$ppl,($pps=this._curSubmit=$ppBt.createSubmit(this,this._ib,$ppa,$ppa._byteLength/32*3,$ppge.create(1,0))).shaderValue.glTexture=$ppl,this._submits[this._submits._length++]=$pps),$ppie.fillQuadrangleImgVb($ppa,$ppe,$ppi,$ppn,$ppt.uv,$ppr||this._curMat,this._x,this._y)):($pps.shaderValue.fillStyle&&$pps.shaderValue.fillStyle.equal($ppt)&&$ppo.ALPHA===$pph.ALPHA||($ppo.glTexture=null,($pps=this._curSubmit=$ppBt.createSubmit(this,this._ib,$ppa,$ppa._byteLength/32*3,$ppge.create(2,0))).shaderValue.defines.add(2),$pps.shaderValue.fillStyle=$ppit.create($ppt),this._submits[this._submits._length++]=$pps),$ppie.fillQuadrangleImgVb($ppa,$ppe,$ppi,$ppn,$ppU.DEF_UV,$ppr||this._curMat,this._x,this._y)),$pps._numEle+=6},$ppt.drawTexture2=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){var $pph;0!=$pps&&($pph=this._curMat,this._x=$ppt*$pph.a+$ppe*$pph.c,this._y=$ppe*$pph.d+$ppt*$pph.b,$ppr=$ppr&&($pph.bTransform||$ppr.bTransform?($ppS.mul($ppr,$pph,$ppC._tmpMatrix),$ppC._tmpMatrix):(this._x+=$ppr.tx+$pph.tx,this._y+=$ppr.ty+$pph.ty,$ppS.EMPTY)),1!==$pps||$ppa?($ppe=this._shader2D.ALPHA,$ppt=this._nBlendType,this._shader2D.ALPHA=$pps,$ppa&&(this._nBlendType=$pptt.TOINT($ppa)),this._drawTextureM($ppo[0],$ppo[1]-$ppi,$ppo[2]-$ppn,$ppo[3],$ppo[4],0,0,$ppr,1),this._shader2D.ALPHA=$ppe,this._nBlendType=$ppt):this._drawTextureM($ppo[0],$ppo[1]-$ppi,$ppo[2]-$ppn,$ppo[3],$ppo[4],0,0,$ppr,1),this._x=this._y=0)},$ppt.drawCanvas=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=$ppt.context;var $ppa,$ppo;this._renderKey=0,$pps._targets?(this._submits[this._submits._length++]=$ppBe.create($pps,0,null),this._curSubmit=$ppBt.RENDERBASE,$pps._targets.drawTo(this,$ppe,$ppi,$ppn,$ppr)):($ppa=this._submits[this._submits._length++]=$ppBe.create($pps,this._shader2D.ALPHA,this._shader2D.filters),$ppo=$ppn/$ppt.width,$ppt=$ppr/$ppt.height,$ppa=$ppa._matrix,this._curMat.copyTo($ppa),1!=$ppo&&1!=$ppt&&$ppa.scale($ppo,$ppt),$ppo=$ppa.tx,$ppt=$ppa.ty,$ppa.tx=$ppa.ty=0,$ppa.transformPoint($ppM.TEMP.setTo($ppe,$ppi)),$ppa.translate($ppM.TEMP.x+$ppo,$ppM.TEMP.y+$ppt),this._curSubmit=$ppBt.RENDERBASE),$ppv.showCanvasMark&&(this.save(),this.lineWidth=4,this.strokeStyle=$pps._targets?"yellow":"green",this.strokeRect($ppe-1,$ppi-1,$ppn+2,$ppr+2,1),this.strokeRect($ppe,$ppi,$ppn,$ppr,1),this.restore())},$ppt.drawTarget=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$ppc,$pph){void 0===$pph&&($pph=-1);var $ppl=this._vb;$ppie.fillRectImgVb($ppl,this._clipRect,$ppe,$ppi,$ppn,$ppr,$ppc||$ppU.DEF_UV,$pps||this._curMat,this._x,this._y,0,0)&&(this._renderKey=0,this._shader2D.glTexture=null,this._curSubmit.shaderValue,($ppe=this._curSubmit=$ppXt.create(this,this._ib,$ppl,($ppl._byteLength-64)/32*3,$ppo,$ppa)).blendType=-1==$pph?this._nBlendType:$pph,$ppe.scope=$ppt,this._submits[this._submits._length++]=$ppe,this._curSubmit._numEle+=6)},$ppt.mixRGBandAlpha=function($ppt){return this._mixRGBandAlpha($ppt,this._shader2D.ALPHA)},$ppt._mixRGBandAlpha=function($ppt,$ppe){var $ppi=(4278190080&$ppt)>>>24;return 0!=$ppi?$ppi*=$ppe:$ppi=255*$ppe,16777215&$ppt|$ppi<<24},$ppt.drawTriangles=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$ppc,$ppu){if(!$ppt.loaded||!$ppt.source)return this.sprite&&$ppg.timer.callLater(this,this._repaintSprite),!1;this._drawCount++;$ppt.bitmap;$ppo=this._mixRGBandAlpha(4294967295,$ppo);$ppn.length;var $pph=$pps.length;this._renderKey=-1;var $ppl=this._curSubmit=$ppOe.create(this,this._triangleMesh.getIBR(),this._triangleMesh.getVBR(),this._triangleMesh.indexNum,$ppge.create(1,0));return $ppl.shaderValue.textureHost=$ppt,$ppl._renderType=10016,this._submits[this._submits._length++]=$ppl,$ppa?($ppC._tmpMatrix.a=$ppa.a,$ppC._tmpMatrix.b=$ppa.b,$ppC._tmpMatrix.c=$ppa.c,$ppC._tmpMatrix.d=$ppa.d,$ppC._tmpMatrix.tx=$ppa.tx+$ppe,$ppC._tmpMatrix.ty=$ppa.ty+$ppi,$ppS.mul($ppC._tmpMatrix,this._curMat,$ppC._tmpMatrix)):($ppC._tmpMatrix.a=this._curMat.a,$ppC._tmpMatrix.b=this._curMat.b,$ppC._tmpMatrix.c=this._curMat.c,$ppC._tmpMatrix.d=this._curMat.d,$ppC._tmpMatrix.tx=this._curMat.tx+$ppe,$ppC._tmpMatrix.ty=this._curMat.ty+$ppi),this._triangleMesh.addData($ppn,$ppr,$pps,$ppC._tmpMatrix,$ppo,this),this._curSubmit._numEle+=$pph,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle),!0},$ppt.transform=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){$ppft.save(this),$ppS.mul($ppS.TEMP.setTo($ppt,$ppe,$ppi,$ppn,$ppr,$pps),this._curMat,this._curMat),this._curMat._checkTransform()},$ppt.setTransformByMatrix=function($ppt){$ppt.copyTo(this._curMat)},$ppt.transformByMatrix=function($ppt){$ppft.save(this),$ppS.mul($ppt,this._curMat,this._curMat),this._curMat._checkTransform()},$ppt.rotate=function($ppt){$ppft.save(this),this._curMat.rotateEx($ppt)},$ppt.scale=function($ppt,$ppe){$ppft.save(this),this._curMat.scaleEx($ppt,$ppe)},$ppt.clipRect=function($ppt,$ppe,$ppi,$ppn){var $ppr,$pps,$ppa,$ppo,$pph,$ppl;0!=this._curMat.b||0!=this._curMat.c?(this._renderKey=0,$pph=$ppGt.create(4),this.addRenderObject($pph),$ppr=($pph=this._vb)._byteLength>>2,$ppie.fillRectImgVb($pph,null,$ppt,$ppe,$ppi,$ppn,$ppU.DEF_UV,this._curMat,this._x,this._y,0,0)?(this._shader2D.glTexture=null,($pps=this._curSubmit=$ppBt.createSubmit(this,this._ib,$pph,($pph._byteLength-64)/32*3,$ppge.create(2,0))).shaderValue.ALPHA=1,this._submits[this._submits._length++]=$pps,this._curSubmit._numEle+=6):alert("clipRect calc stencil rect error"),$pps=$ppGt.create(5),this.addRenderObject($pps),$pph=$pph.getFloat32Array(),$ppo=Math.min(Math.min(Math.min($pph[$ppr],$pph[4+$ppr]),$pph[8+$ppr]),$pph[12+$ppr]),$ppa=Math.max(Math.max(Math.max($pph[$ppr],$pph[4+$ppr]),$pph[8+$ppr]),$pph[12+$ppr]),$ppl=Math.min(Math.min(Math.min($pph[1+$ppr],$pph[5+$ppr]),$pph[9+$ppr]),$pph[13+$ppr]),$pph=Math.max(Math.max(Math.max($pph[1+$ppr],$pph[5+$ppr]),$pph[9+$ppr]),$pph[13+$ppr]),$ppct.save(this,$pps,$ppt,$ppe,$ppi,$ppn,$ppo,$ppl,$ppa-$ppo,$pph-$ppl)):($ppi*=this._curMat.a,$ppn*=this._curMat.d,$ppr=$ppM.TEMP,this._curMat.transformPoint($ppr.setTo($ppt,$ppe)),$ppi<0&&($ppr.x=$ppr.x+$ppi,$ppi=-$ppi),$ppn<0&&($ppr.y=$ppr.y+$ppn,$ppn=-$ppn),this._renderKey=0,$pps=this._curSubmit=$ppzt.create(this),(this._submits[this._submits._length++]=$pps).submitIndex=this._submits._length,$pps.submitLength=9999999,$ppht.save(this,$pps),$ppo=($ppa=this._clipRect).x,$pph=$ppa.y,$ppl=$ppr.x+$ppi,$ppt=$ppr.y+$ppn,$ppo<$ppr.x&&($ppa.x=$ppr.x),$pph<$ppr.y&&($ppa.y=$ppr.y),$ppa.width=Math.min($ppl,$ppo+$ppa.width)-$ppa.x,$ppa.height=Math.min($ppt,$pph+$ppa.height)-$ppa.y,this._shader2D.glTexture=null,$pps.clipRect.copyFrom($ppa)),this._curSubmit=$ppBt.RENDERBASE},$ppt.setIBVB=function($ppt,$ppe,$ppi,$ppn,$ppc,$ppr,$pps,$ppu,$ppa,$ppo,$pph){if(void 0===$ppa&&($ppa=0),void 0===$ppo&&($ppo=0),void 0===$pph&&($pph=0),null===$ppi&&($ppi=$ppD.isFlash?(($ppl=$ppn)._selfIB||($ppl._selfIB=$ppEi.create(35044)),$ppl._selfIB.clear(),$ppl._selfIB):this._ib,$ppie.expandIBQuadrangle($ppi,$ppn._byteLength/(4*$ppn.vertexStride*4))),!$ppu||!$pps)throw Error("setIBVB must input:shader shaderValues");var $ppl=$ppUt.create(this,$ppn,$ppi,$ppc,$pps,$ppu,$ppa,$ppo,$pph);($ppr=$ppr||$ppS.EMPTY).translate($ppt,$ppe),$ppS.mul($ppr,this._curMat,$ppl._mat),$ppr.translate(-$ppt,-$ppe),this._submits[this._submits._length++]=$ppl,this._curSubmit=$ppBt.RENDERBASE,this._renderKey=0},$ppt.addRenderObject=function($ppt){this._submits[this._submits._length++]=$ppt},$ppt.fillTrangles=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=this._curSubmit;var $ppa=this._vb;var $ppo=this._shader2D;var $pph=$pps.shaderValue;var $ppl=$ppn.length>>4;var $ppc=$ppt.bitmap;this._renderKey=0,$ppo.glTexture==$ppc&&$ppo.ALPHA===$pph.ALPHA||(($pps=this._curSubmit=$ppBt.createSubmit(this,this._ib,$ppa,$ppa._byteLength/32*3,$ppge.create(1,0))).shaderValue.textureHost=$ppt,this._submits[this._submits._length++]=$pps),$ppie.fillTranglesVB($ppa,$ppe,$ppi,$ppn,$ppr||this._curMat,this._x,this._y),$pps._numEle+=6*$ppl},$ppt.submitElement=function($ppt,$ppe){var $ppi=this._submits;for($ppe<0&&($ppe=$ppi._length);$ppt<$ppe;)$ppt+=$ppi[$ppt].renderSubmit()},$ppt.finish=function(){$ppc.mainContext.finish()},$ppt.flush=function(){var $ppt=Math.max(this._vb._byteLength/64,this._maxNumEle/6)+8;if($ppt>this._ib.bufferLength/12&&$ppie.expandIBQuadrangle(this._ib,$ppt),!this._isMain&&$pp$.enabled&&$pp$._atlasRestore>this._atlasResourceChange){this._atlasResourceChange=$pp$._atlasRestore;var $ppe=this._submits;for(var $ppi=0,$ppn=$ppe._length;$ppi<$ppn;$ppi++){var $ppr=$ppe[$ppi];10016===$ppr.getRenderType()&&$ppr.checkTexture()}}this.submitElement(0,this._submits._length),this._path&&this._path.reset(),$ppMt.instance&&$ppMt.getInstance().reset();var $pps;for($ppi=0,$pps=this.meshlist.length;$ppi<$pps;$ppi++){var $ppa=this.meshlist[$ppi];$ppa.canReuse?$ppa.releaseMesh():$ppa.destroy()}return this.meshlist.length=0,this._curSubmit=$ppBt.RENDERBASE,this._renderKey=0,this._triangleMesh=$ppVe.getAMesh(),this.meshlist.push(this._triangleMesh),this._submits._length},$ppt.setPathId=function($ppt){this.mId=$ppt,-1!=this.mId&&(this.mHaveKey=!1,($ppt=$ppz.getInstance()).shapeDic[this.mId]&&(this.mHaveKey=!0),this.mHaveLineKey=!1,$ppt.shapeLineDic[this.mId]&&(this.mHaveLineKey=!0))},$ppt.movePath=function($ppt,$ppe){var $ppi=$ppt,$ppn=$ppe;$ppt=this._curMat.a*$ppi+this._curMat.c*$ppn+this._curMat.tx,$ppe=this._curMat.b*$ppi+this._curMat.d*$ppn+this._curMat.ty,this.mX+=$ppt,this.mY+=$ppe},$ppt.beginPath=function(){var $ppt=this._getPath();$ppt.tempArray.length=0,$ppt.closePath=!1,this.mX=0,this.mY=0},$ppt.closePath=function(){this._path.closePath=!0},$ppt.fill=function($ppt){void 0===$ppt&&($ppt=!1);var $ppe=this._getPath();this.drawPoly(0,0,$ppe.tempArray,this.fillStyle._color.numColor,0,0,$ppt)},$ppt.stroke=function(){var $ppt=this._getPath();var $ppe;0<this.lineWidth&&(-1==this.mId?$ppt.drawLine(0,0,$ppt.tempArray,this.lineWidth,this.strokeStyle._color.numColor):this.mHaveLineKey?(($ppe=$ppz.getInstance().shapeLineDic[this.mId]).rebuild($ppt.tempArray),$ppt.setGeomtry($ppe)):$ppz.getInstance().addLine(this.mId,$ppt.drawLine(0,0,$ppt.tempArray,this.lineWidth,this.strokeStyle._color.numColor)),$ppt.update(),$ppe=[this.mX,this.mY],($ppt=$ppBt.createShape(this,$ppt.ib,$ppt.vb,$ppt.count,$ppt.offset,$ppge.create(4,0))).shaderValue.ALPHA=this._shader2D.ALPHA,$ppt.shaderValue.u_pos=$ppe,$ppt.shaderValue.u_mmat2=$ppl.TEMPMAT4_ARRAY,this._submits[this._submits._length++]=$ppt,this._renderKey=-1)},$ppt.line=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){var $ppa=this._curSubmit;var $ppo=this._vb;$ppie.fillLineVb($ppo,this._clipRect,$ppt,$ppe,$ppi,$ppn,$ppr,$pps)&&(this._renderKey=0,$ppt=this._shader2D,$ppe=$ppa.shaderValue,$ppt.strokeStyle===$ppe.strokeStyle&&$ppt.ALPHA===$ppe.ALPHA||($ppt.glTexture=null,($ppa=this._curSubmit=$ppBt.createSubmit(this,this._ib,$ppo,($ppo._byteLength-64)/32*3,$ppge.create(2,0))).shaderValue.strokeStyle=$ppt.strokeStyle,$ppa.shaderValue.mainID=2,$ppa.shaderValue.ALPHA=$ppt.ALPHA,this._submits[this._submits._length++]=$ppa),$ppa._numEle+=6)},$ppt.moveTo=function($ppt,$ppe,$ppi){void 0===$ppi&&($ppi=!0);var $ppn=this._getPath();var $ppr;$ppi&&($ppi=$ppt,$ppr=$ppe,$ppt=this._curMat.a*$ppi+this._curMat.c*$ppr,$ppe=this._curMat.b*$ppi+this._curMat.d*$ppr),$ppn.addPoint($ppt,$ppe)},$ppt.lineTo=function($ppt,$ppe,$ppi){void 0===$ppi&&($ppi=!0);var $ppn=this._getPath();var $ppr;$ppi&&($ppi=$ppt,$ppr=$ppe,$ppt=this._curMat.a*$ppi+this._curMat.c*$ppr,$ppe=this._curMat.b*$ppi+this._curMat.d*$ppr),$ppn.addPoint($ppt,$ppe)},$ppt.drawCurves=function($ppt,$ppe,$ppi){this.setPathId(-1),this.beginPath(),this.strokeStyle=$ppi[3],this.lineWidth=$ppi[4];var $ppn=$ppi[2];$ppt+=$ppi[0],$ppe+=$ppi[1],this.movePath($ppt,$ppe),this.moveTo($ppn[0],$ppn[1]);var $ppr=2,$pps=$ppn.length;for(;$ppr<$pps;)this.quadraticCurveTo($ppn[$ppr++],$ppn[$ppr++],$ppn[$ppr++],$ppn[$ppr++]);this.stroke()},$ppt.arcTo=function($ppt,$ppc,$ppe,$ppi,$ppu){if(-1==this.mId||!this.mHaveKey){var $pp_=0;var $ppn=0,$ppr=0;var $ppd=this._getPath();this._curMat.copyTo($ppC._tmpMatrix),$ppC._tmpMatrix.tx=$ppC._tmpMatrix.ty=0,$ppC._tempPoint.setTo($ppd.getEndPointX(),$ppd.getEndPointY()),$ppC._tmpMatrix.invertTransformPoint($ppC._tempPoint);var $pps=$ppC._tempPoint.x-$ppt;var $ppa=$ppC._tempPoint.y-$ppc;var $ppo=Math.sqrt($pps*$pps+$ppa*$ppa);if(!($ppo<=1e-6)){$pps=$pps/$ppo;$ppa=$ppa/$ppo;$ppe=$ppe-$ppt;$ppi=$ppi-$ppc;var $pph=Math.sqrt($ppe*$ppe+$ppi*$ppi);if(!($pph<=1e-6)){$ppe=$ppe/$pph;$ppi=$ppi/$pph;$pph=$pps+$ppe;var $ppf=$ppa+$ppi;var $ppl=Math.sqrt($pph*$pph+$ppf*$ppf);if(!($ppl<=1e-6)){$pph=$pph/$ppl;$ppf=$ppf/$ppl;$ppl=Math.acos($pph*$pps+$ppf*$ppa);$ppl=Math.PI/2-$ppl;var $ppp=($ppo=$ppu/Math.tan($ppl))*$pps+$ppt;var $ppm=$ppo*$ppa+$ppc;$ppo=Math.sqrt($ppo*$ppo+$ppu*$ppu);var $ppg=$ppt+$pph*$ppo;var $ppv=$ppc+$ppf*$ppo;var $ppy=0;var $ppx=0;$ppx=($ppy=($ppu=0<=$pps*$ppi-$ppa*$ppe?2*$ppl/$ppC.SEGNUM:2*-$ppl/$ppC.SEGNUM,Math.sin($ppu)),Math.cos($ppu)),$ppn=this._curMat.a*$ppp+this._curMat.c*$ppm,$ppr=this._curMat.b*$ppp+this._curMat.d*$ppm,$ppn==this._path.getEndPointX()&&$ppr==this._path.getEndPointY()||$ppd.addPoint($ppn,$ppr);var $ppw=$ppp-$ppg;var $ppb=$ppm-$ppv;for($pp_=0;$pp_<$ppC.SEGNUM;$pp_++){var $ppT=$ppw*$ppx+$ppb*$ppy;var $ppS=-$ppw*$ppy+$ppb*$ppx;$ppt=this._curMat.a*($ppn=$ppT+$ppg)+this._curMat.c*($ppr=$ppS+$ppv),$ppr=$ppc=this._curMat.b*$ppn+this._curMat.d*$ppr,($ppn=$ppt)==this._path.getEndPointX()&&$ppr==this._path.getEndPointY()||$ppd.addPoint($ppn,$ppr),$ppw=$ppT,$ppb=$ppS}}}}}},$ppt.arc=function($ppt,$ppc,$ppe,$ppu,$pp_,$ppd,$ppi){if(void 0===$ppd&&($ppd=!1),void 0===$ppi&&($ppi=!0),-1!=this.mId){var $ppn=$ppz.getInstance().shapeDic[this.mId];if($ppn&&this.mHaveKey&&!$ppn.needUpdate(this._curMat))return;$ppc=$ppt=0}var $ppf,$ppr=0;var $pps=0,$ppa=0;var $ppo=0,$ppp=0;if($ppr=$pp_-$ppu,$ppd)if(Math.abs($ppr)>=2*Math.PI)$ppr=2*-Math.PI;else for(;0<$ppr;)$ppr-=2*Math.PI;else if(Math.abs($ppr)>=2*Math.PI)$ppr=2*Math.PI;else for(;$ppr<0;)$ppr+=2*Math.PI;$ppn=$ppr/($ppp=$ppe<101?Math.max(10,$ppr*$ppe/5):$ppe<201?Math.max(10,$ppr*$ppe/20):Math.max(10,$ppr*$ppe/40))/2,Math.abs(4/3*(1-Math.cos($ppn))/Math.sin($ppn));var $ppm=this._getPath();var $pph=NaN,$ppl=NaN;for($ppo=0;$ppo<=$ppp;$ppo++)$ppf=$ppu+$ppr*($ppo/$ppp),$pps=$ppt+Math.cos($ppf)*$ppe,$ppa=$ppc+Math.sin($ppf)*$ppe,$ppi&&($pph=$pps,$ppl=$ppa,$pps=this._curMat.a*$pph+this._curMat.c*$ppl,$ppa=this._curMat.b*$pph+this._curMat.d*$ppl),$pps==this._path.getEndPointX()&&$ppa==this._path.getEndPointY()||$ppm.addPoint($pps,$ppa);$pps=$ppt+Math.cos($pp_)*$ppe,$ppa=$ppc+Math.sin($pp_)*$ppe,$ppi&&($pph=$pps,$ppl=$ppa,$pps=this._curMat.a*$pph+this._curMat.c*$ppl,$ppa=this._curMat.b*$pph+this._curMat.d*$ppl),$pps==this._path.getEndPointX()&&$ppa==this._path.getEndPointY()||$ppm.addPoint($pps,$ppa)},$ppt.quadraticCurveTo=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppu.I;var $pps=$ppi,$ppa=$ppn;$ppi=this._curMat.a*$pps+this._curMat.c*$ppa,$ppn=this._curMat.b*$pps+this._curMat.d*$ppa,$pps=$ppt,$ppa=$ppe,$ppt=this._curMat.a*$pps+this._curMat.c*$ppa,$ppe=this._curMat.b*$pps+this._curMat.d*$ppa;var $ppo=$ppr.getBezierPoints([this._path.getEndPointX(),this._path.getEndPointY(),$ppt,$ppe,$ppi,$ppn],30,2);for(var $pph=0,$ppl=$ppo.length/2;$pph<$ppl;$pph++)this.lineTo($ppo[2*$pph],$ppo[2*$pph+1],!1);this.lineTo($ppi,$ppn,!1)},$ppt.rect=function($ppt,$ppe,$ppi,$ppn){this._other=this._other.make(),this._other.path||(this._other.path=new $pprt),this._other.path.rect($ppt,$ppe,$ppi,$ppn)},$ppt.strokeRect=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=.5*$ppr;this.line($ppt-$pps,$ppe,$ppt+$ppi+$pps,$ppe,$ppr,this._curMat),this.line($ppt+$ppi,$ppe,$ppt+$ppi,$ppe+$ppn,$ppr,this._curMat),this.line($ppt,$ppe,$ppt,$ppe+$ppn,$ppr,this._curMat),this.line($ppt-$pps,$ppe+$ppn,$ppt+$ppi+$pps,$ppe+$ppn,$ppr,this._curMat)},$ppt.clip=function(){},$ppt.drawPoly=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){void 0===$ppa&&($ppa=!1),this._renderKey=0,this._shader2D.glTexture=null;$ppa=this._getPath();-1==this.mId?$ppa.polygon($ppt,$ppe,$ppi,$ppn,$ppr||1,$pps):this.mHaveKey?(($ppo=$ppz.getInstance().shapeDic[this.mId]).setMatrix(this._curMat),$ppo.rebuild($ppa.tempArray),$ppa.setGeomtry($ppo)):($ppo=$ppa.polygon($ppt,$ppe,$ppi,$ppn,$ppr||1,$pps),$ppz.getInstance().addShape(this.mId,$ppo),$ppo.setMatrix(this._curMat)),$ppa.update();$ppn=[this.mX,this.mY];var $ppo;($ppo=$ppBt.createShape(this,$ppa.ib,$ppa.vb,$ppa.count,$ppa.offset,$ppge.create(4,0))).shaderValue.ALPHA=this._shader2D.ALPHA,$ppo.shaderValue.u_pos=$ppn,$ppo.shaderValue.u_mmat2=$ppl.EMPTYMAT4_ARRAY,this._submits[this._submits._length++]=$ppo,0<$ppr&&(this.mHaveLineKey?(($ppn=$ppz.getInstance().shapeLineDic[this.mId]).rebuild($ppa.tempArray),$ppa.setGeomtry($ppn)):$ppz.getInstance().addShape(this.mId,$ppa.drawLine($ppt,$ppe,$ppi,$ppr,$pps)),$ppa.update(),($ppo=$ppBt.createShape(this,$ppa.ib,$ppa.vb,$ppa.count,$ppa.offset,$ppge.create(4,0))).shaderValue.ALPHA=this._shader2D.ALPHA,$ppo.shaderValue.u_mmat2=$ppl.EMPTYMAT4_ARRAY,this._submits[this._submits._length++]=$ppo)},$ppt.drawParticle=function($ppt,$ppe,$ppi){$ppi.x=$ppt,$ppi.y=$ppe,this._submits[this._submits._length++]=$ppi},$ppt._getPath=function(){return this._path||(this._path=new $pprt)},$ppa(0,$ppt,"globalCompositeOperation",function(){return $pptt.NAMES[this._nBlendType]},function($ppt){$ppt=$pptt.TOINT[$ppt];null==$ppt||this._nBlendType===$ppt||($ppat.save(this,65536,this,!0),this._curSubmit=$ppBt.RENDERBASE,this._renderKey=0,this._nBlendType=$ppt)}),$ppa(0,$ppt,"strokeStyle",function(){return this._shader2D.strokeStyle},function($ppt){this._shader2D.strokeStyle.equal($ppt)||($ppat.save(this,512,this._shader2D,!1),this._shader2D.strokeStyle=$ppit.create($ppt))}),$ppa(0,$ppt,"globalAlpha",function(){return this._shader2D.ALPHA},function($ppt){($ppt=Math.floor(1e3*$ppt)/1e3)!=this._shader2D.ALPHA&&($ppat.save(this,1,this._shader2D,!0),this._shader2D.ALPHA=$ppt)}),$ppa(0,$ppt,"asBitmap",null,function($ppt){if($ppt){if(this._targets||(this._targets=new $ppvt),this._targets.repaint=!0,!this._width||!this._height)throw Error("asBitmap no size!");this._targets.setSP(this.sprite),this._targets.size(this._width,this._height)}else this._targets=null}),$ppa(0,$ppt,"fillStyle",function(){return this._shader2D.fillStyle},function($ppt){this._shader2D.fillStyle.equal($ppt)||($ppat.save(this,2,this._shader2D,!1),this._shader2D.fillStyle=$ppit.create($ppt))}),$ppa(0,$ppt,"textAlign",function(){return this._other.textAlign},function($ppt){this._other.textAlign===$ppt||(this._other=this._other.make(),$ppat.save(this,32768,this._other,!1),this._other.textAlign=$ppt)}),$ppa(0,$ppt,"lineWidth",function(){return this._other.lineWidth},function($ppt){this._other.lineWidth===$ppt||(this._other=this._other.make(),$ppat.save(this,256,this._other,!1),this._other.lineWidth=$ppt)}),$ppa(0,$ppt,"textBaseline",function(){return this._other.textBaseline},function($ppt){this._other.textBaseline===$ppt||(this._other=this._other.make(),$ppat.save(this,16384,this._other,!1),this._other.textBaseline=$ppt)}),$ppa(0,$ppt,"font",null,function($ppt){$ppt!=this._other.font.toString()&&(this._other=this._other.make(),$ppat.save(this,8,this._other,!1),this._other.font===$ppQt.EMPTY?this._other.font=new $ppQt($ppt):this._other.font.setFont($ppt))}),$ppC.__init__=function(){$ppme.DEFAULT=new $ppme},$ppC._tempPoint=new $ppM,$ppC._SUBMITVBSIZE=32e3,$ppC._MAXSIZE=99999999,$ppC._RECTVBSIZE=16,$ppC.MAXCLIPRECT=new $ppE(0,0,99999999,99999999),$ppC._COUNT=0,$ppC._tmpMatrix=new $ppS,$ppC.SEGNUM=32,$ppC._contextcount=0,$pps($ppC,["_fontTemp",function(){return this._fontTemp=new $ppQt},"_drawStyleTemp",function(){return this._drawStyleTemp=new $ppit(null)}]),$ppC.__init$=function(){function $ppt(){this.lineWidth=1,this.path=null,this.textAlign=null,this.textBaseline=null,this.font=$ppQt.EMPTY}var $ppe;$ppn($ppt,""),($ppe=$ppt.prototype).clear=function(){this.lineWidth=1,this.path&&this.path.clear(),this.textAlign=this.textBaseline=null,this.font=$ppQt.EMPTY},$ppe.make=function(){return this===$ppt.DEFAULT?new $ppt:this},$ppt.DEFAULT=null,$ppme=$ppt};var $pppe=$ppC;function $ppC($ppt){this._x=0,this._y=0,this._id=++$ppC._COUNT,this._path=null,this._drawCount=1,this._maxNumEle=0,this._clear=!1,this._isMain=!1,this._atlasResourceChange=0,this._submits=null,this._curSubmit=null,this._ib=null,this._vb=null,this._nBlendType=0,this._saveMark=null,this._shader2D=null,this.meshlist=[],this.mId=-1,this.mHaveKey=!1,this.mHaveLineKey=!1,this.mX=0,this.mY=0,$ppC.__super.call(this),this._width=99999999,this._height=99999999,this._clipRect=$ppC.MAXCLIPRECT,this.mOutPoint,this._canvas=$ppt,this._canvas._addReference(),$ppC._contextcount++,$ppD.isFlash?(this._ib=$ppEi.create(35044),$ppie.fillIBQuadrangle(this._ib,16)):this._ib=$ppEi.QuadrangleIB,this.clear()}var $ppme;$ppn($ppve,"laya.webgl.shader.d2.value.Value2D",$ppG),($ppBi=$ppve.prototype).setValue=function($ppt){},$ppBi.refresh=function(){var $ppt=this.size;return $ppt[0]=$ppl.width,$ppt[1]=$ppl.height,this.alpha=this.ALPHA*$ppl.worldAlpha,this.mmat=$ppl.worldMatrix4,this},$ppBi._ShaderWithCompile=function(){return $ppdi.withCompile2D(0,this.mainID,this.defines.toNameDic(),this.mainID|this.defines._value,$ppSi.create)},$ppBi._withWorldShaderDefines=function(){var $ppt=$ppl.worldShaderDefines;var $ppe=$ppdi.sharders[this.mainID|this.defines._value|$ppt.getValue()];if(!$ppe){var $ppi={};for(var $ppn in this.defines.toNameDic())$ppi[$ppn]="";for($ppn in $ppt.toNameDic())$ppi[$ppn]="";$ppe=$ppdi.withCompile2D(0,this.mainID,$ppi,this.mainID|this.defines._value|$ppt.getValue(),$ppSi.create)}var $ppr=$ppl.worldFilters;if(!$ppr)return $ppe;var $pps,$ppa=$ppr.length;for(var $ppo=0;$ppo<$ppa;$ppo++)($pps=$ppr[$ppo])&&$pps.action.setValue(this);return $ppe},$ppBi.upload=function(){var $ppt=$ppl;this.alpha=this.ALPHA*$ppt.worldAlpha,$ppl.worldMatrix4!==$ppl.TEMPMAT4_ARRAY&&this.defines.add(128),$ppc.shaderHighPrecision&&this.defines.add(1024);var $ppe=$ppt.worldShaderDefines?this._withWorldShaderDefines():$ppdi.sharders[this.mainID|this.defines._value]||this._ShaderWithCompile();var $ppi;this.size[0]=$ppt.width,this.size[1]=$ppt.height,this.mmat=$ppt.worldMatrix4,$ppUe.activeShader!==$ppe?$ppe._shaderValueWidth!==$ppt.width||$ppe._shaderValueHeight!==$ppt.height?($ppe._shaderValueWidth=$ppt.width,$ppe._shaderValueHeight=$ppt.height):$ppi=$ppe._params2dQuick2||$ppe._make2dQuick2():$ppe._shaderValueWidth!==$ppt.width||$ppe._shaderValueHeight!==$ppt.height?($ppe._shaderValueWidth=$ppt.width,$ppe._shaderValueHeight=$ppt.height):$ppi=$ppe._params2dQuick1||$ppe._make2dQuick1(),$ppe.upload(this,$ppi)},$ppBi.setFilters=function($ppt){if(this.filters=$ppt){var $ppe,$ppi=$ppt.length;for(var $ppn=0;$ppn<$ppi;$ppn++)($ppe=$ppt[$ppn])&&(this.defines.add($ppe.type),$ppe.action.setValue(this))}},$ppBi.clear=function(){this.defines.setValue(this.subID)},$ppBi.release=function(){(this._inClassCache[this._inClassCache._length++]=this).fillStyle=null,this.strokeStyle=null,this.textureHost=null,this.mmat=null,this.clear()},$ppve._initone=function($ppt,$ppe){$ppve._typeClass[$ppt]=$ppe,$ppve._cache[$ppt]=[],$ppve._cache[$ppt]._length=0},$ppve.__init__=function(){$ppve._POSITION=[2,5126,!1,4*$ppte.BYTES_PE,0],$ppve._TEXCOORD=[2,5126,!1,4*$ppte.BYTES_PE,2*$ppte.BYTES_PE],$ppve._initone(2,$ppqe),$ppve._initone(4,$ppei),$ppve._initone(256,$ppZe),$ppve._initone(512,$ppje),$ppve._initone(1,$ppJe),$ppve._initone(65,$ppwi),$ppve._initone(9,$ppJe)},$ppve.create=function($ppt,$ppe){var $ppi=$ppve._cache[$ppt|$ppe];return $ppi._length?$ppi[--$ppi._length]:new $ppve._typeClass[$ppt|$ppe]($ppe)},$ppve._POSITION=null,$ppve._TEXCOORD=null,$ppve._cache=[],$ppve._typeClass=[],$ppve.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var $ppge=$ppve;function $ppve($ppt,$ppe){this.size=[0,0],this.alpha=1,this.ALPHA=1,this.subID=0,this._cacheID=0,$ppve.__super.call(this),this.defines=new $ppCe,this.position=$ppve._POSITION,this.mainID=$ppt,this.subID=$ppe,this.textureHost=null,this.texture=null,this.fillStyle=null,this.color=null,this.strokeStyle=null,this.colorAdd=null,this.glTexture=null,this.u_mmat2=null,this._cacheID=$ppt|$ppe,this._inClassCache=$ppve._cache[this._cacheID],0<$ppt&&!this._inClassCache&&(this._inClassCache=$ppve._cache[this._cacheID]=[],this._inClassCache._length=0),this.clear()}$ppn($ppxe,"laya.webgl.utils.RenderSprite3D",$ppI),($ppt=$ppxe.prototype).onCreate=function($ppt){switch($ppt){case 8:return void(this._fun=this._blend);case 4:return void(this._fun=this._transform)}},$ppt._mask=function($ppt,$ppe,$ppi,$ppn){var $ppc=this._next;var $ppr=$ppt.mask;var $pps;var $ppu,$ppa,$ppo,$pph,$pp_,$ppl,$ppd,$ppf;$ppr?($ppe.ctx.save(),$ppu=$ppe.ctx.globalCompositeOperation,($ppa=new $ppE).copyFrom($ppr.getBounds()),$ppa.width=Math.round($ppa.width),$ppa.height=Math.round($ppa.height),$ppa.x=Math.round($ppa.x),$ppa.y=Math.round($ppa.y),0<$ppa.width&&0<$ppa.height&&($ppo=$ppt._style._tf,($pph=$ppVt.create()).addValue("bounds",$ppa),$pps=$ppOt.create([$pph,$ppe],laya.webgl.utils.RenderSprite3D.tmpTarget),$ppe.addRenderObject($pps),$ppr.render($ppe,-$ppa.x,-$ppa.y),$pps=$ppOt.create([$pph],laya.webgl.utils.RenderSprite3D.endTmpTarget),$ppe.addRenderObject($pps),$ppe.ctx.save(),$ppe.clipRect($ppi-$ppo.translateX+$ppa.x,$ppn-$ppo.translateY+$ppa.y,$ppa.width,$ppa.height),$ppc._fun.call($ppc,$ppt,$ppe,$ppi,$ppn),$ppe.ctx.restore(),$ppr=$ppGt.create(6),$ppu=$ppe.ctx.globalCompositeOperation,$ppr.blendMode="mask",$ppe.addRenderObject($ppr),$ppS.TEMP.identity(),$pp_=$ppge.create(1,0),$ppl=$ppU.INV_UV,$ppd=$ppa.width,$ppf=$ppa.height,($ppa.width<32||$ppa.height<32)&&(($ppl=$ppxe.tempUV)[0]=0,$ppl[1]=0,$ppl[2]=32<=$ppa.width?1:$ppa.width/32,$ppl[3]=0,$ppl[4]=32<=$ppa.width?1:$ppa.width/32,$ppl[5]=32<=$ppa.height?1:$ppa.height/32,$ppl[6]=0,$ppl[7]=32<=$ppa.height?1:$ppa.height/32,$ppa.width=32<=$ppa.width?$ppa.width:32,$ppa.height=32<=$ppa.height?$ppa.height:32,$ppl[1]*=-1,$ppl[3]*=-1,$ppl[5]*=-1,$ppl[7]*=-1,$ppl[1]+=1,$ppl[3]+=1,$ppl[5]+=1,$ppl[7]+=1),$ppe.ctx.drawTarget($pph,$ppi+$ppa.x-$ppo.translateX,$ppn+$ppa.y-$ppo.translateY,$ppd,$ppf,$ppS.TEMP,"tmpTarget",$pp_,$ppl,6),$pps=$ppOt.create([$pph],laya.webgl.utils.RenderSprite3D.recycleTarget),$ppe.addRenderObject($pps),($ppr=$ppGt.create(6)).blendMode=$ppu,$ppe.addRenderObject($ppr)),$ppe.ctx.restore()):$ppc._fun.call($ppc,$ppt,$ppe,$ppi,$ppn)},$ppt._blend=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt._style;var $pps=this._next;$ppr.blendMode?($ppe.ctx.save(),$ppe.ctx.globalCompositeOperation=$ppr.blendMode,$pps._fun.call($pps,$ppt,$ppe,$ppi,$ppn),$ppe.ctx.restore()):$pps._fun.call($pps,$ppt,$ppe,$ppi,$ppn)},$ppt._transform=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt.transform,$pps=this._next;var $ppa,$ppo;$ppr&&$pps!=$ppI.NORENDER?($ppa=$ppe.ctx,$ppt._style,$ppr.tx=$ppi,$ppr.ty=$ppn,$ppo=($ppa=$ppa._getTransformMatrix()).clone(),$ppS.mul($ppr,$ppa,$ppa),$ppa._checkTransform(),$ppr.tx=$ppr.ty=0,$pps._fun.call($pps,$ppt,$ppe,0,0),$ppo.copyTo($ppa),$ppo.destroy()):$pps._fun.call($pps,$ppt,$ppe,$ppi,$ppn)},$ppxe.tmpTarget=function($ppt,$ppe){var $ppi=$ppt.getValue("bounds");$ppi=$ppze.create($ppi.width,$ppi.height);$ppi.start(),$ppi.clear(0,0,0,0),$ppt.addValue("tmpTarget",$ppi)},$ppxe.endTmpTarget=function($ppt){$ppt.getValue("tmpTarget").end()},$ppxe.recycleTarget=function($ppt){$ppt.getValue("tmpTarget").recycle(),$ppt.recycle()},$pps($ppxe,["tempUV",function(){return this.tempUV=new Array(8)}]);var $ppye=$ppxe;function $ppxe($ppt,$ppe){$ppxe.__super.call(this,$ppt,$ppe)}$ppn($ppbe,"laya.filters.webgl.ColorFilterActionGL",$ppvi),$ppG=$ppbe.prototype,$ppg.imps($ppG,{"laya.filters.IFilterActionGL":!0}),$ppG.setValue=function($ppt){$ppt.colorMat=this.data._mat,$ppt.colorAlpha=this.data._alpha},$ppG.apply3d=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=$ppt.getValue("bounds");var $ppa=$ppge.create(1,0);$ppa.setFilters([this.data]);var $ppo=$ppS.TEMP;$ppo.identity(),$ppi.ctx.drawTarget($ppt,0,0,$pps.width,$pps.height,$ppo,"src",$ppa)};var $ppwe=$ppbe;function $ppbe(){this.data=null,$ppbe.__super.call(this)}$ppn($ppSe,"laya.webgl.atlas.Atlaser",$ppq),($ppBi=$ppSe.prototype).computeUVinAtlasTexture=function($ppt,$ppe,$ppi,$ppn){var $ppr=$pp$.atlasTextureWidth;var $pps=$pp$.atlasTextureHeight;var $ppa=$ppi/$ppr,$ppo=$ppn/$pps,$ppi=($ppi+$ppt.bitmap.width)/$ppr,$ppn=($ppn+$ppt.bitmap.height)/$pps;$ppr=$ppt.bitmap.width/$ppr,$pps=$ppt.bitmap.height/$pps;$ppt.uv=[$ppa+$ppe[0]*$ppr,$ppo+$ppe[1]*$pps,$ppi-(1-$ppe[2])*$ppr,$ppo+$ppe[3]*$pps,$ppi-(1-$ppe[4])*$ppr,$ppn-(1-$ppe[5])*$pps,$ppa+$ppe[6]*$ppr,$ppn-(1-$ppe[7])*$pps]},$ppBi.findBitmapIsExist=function($ppt){if($ppt instanceof laya.webgl.resource.WebGLImage){var $ppe=$ppt.url;$ppe=this._InAtlasWebGLImagesKey[$ppe||$ppt.id];if($ppe)return $ppe.offsetInfoID}return-1},$ppBi.addToAtlasTexture=function($ppt,$ppe,$ppi){var $ppn;$ppt instanceof laya.webgl.resource.WebGLImage&&($ppn=$ppt.url,this._InAtlasWebGLImagesKey[$ppn||$ppt.id]={bitmap:$ppt,offsetInfoID:this._InAtlasWebGLImagesOffsetValue.length},this._InAtlasWebGLImagesOffsetValue.push([$ppe,$ppi])),this._atlasCanvas.texSubImage2D($ppe,$ppi,$ppt.atlasSource),$ppt.clearAtlasSource()},$ppBi.addToAtlas=function($ppt,$ppe,$ppi){$ppt._atlasID=this._inAtlasTextureKey.length;var $ppn=$ppt.uv.slice();var $ppr=$ppt.bitmap;this._inAtlasTextureKey.push($ppt),this._inAtlasTextureOriUVValue.push($ppn),this._inAtlasTextureBitmapValue.push($ppr),this.computeUVinAtlasTexture($ppt,$ppn,$ppe,$ppi),$ppt.bitmap=this._atlasCanvas},$ppBi.clear=function(){for(var $ppt=0,$ppe=this._inAtlasTextureKey.length;$ppt<$ppe;$ppt++)this._inAtlasTextureKey[$ppt].bitmap=this._inAtlasTextureBitmapValue[$ppt],this._inAtlasTextureKey[$ppt].uv=this._inAtlasTextureOriUVValue[$ppt],this._inAtlasTextureKey[$ppt]._atlasID=-1,this._inAtlasTextureKey[$ppt].bitmap.lock=!1,this._inAtlasTextureKey[$ppt].bitmap.releaseResource();this._inAtlasTextureKey.length=0,this._inAtlasTextureBitmapValue.length=0,this._inAtlasTextureOriUVValue.length=0,this._InAtlasWebGLImagesKey=null,this._InAtlasWebGLImagesOffsetValue.length=0},$ppBi.dispose=function(){this.clear(),this._atlasCanvas.destroy()},$ppa(0,$ppBi,"InAtlasWebGLImagesOffsetValue",function(){return this._InAtlasWebGLImagesOffsetValue}),$ppa(0,$ppBi,"texture",function(){return this._atlasCanvas}),$ppa(0,$ppBi,"inAtlasWebGLImagesKey",function(){return this._InAtlasWebGLImagesKey});var $ppTe=$ppSe;function $ppSe($ppt,$ppe,$ppi,$ppn,$ppr){this._atlasCanvas=null,this._inAtlasTextureKey=null,this._inAtlasTextureBitmapValue=null,this._inAtlasTextureOriUVValue=null,this._InAtlasWebGLImagesKey=null,this._InAtlasWebGLImagesOffsetValue=null,$ppSe.__super.call(this,$ppt,$ppe,$ppr),this._inAtlasTextureKey=[],this._inAtlasTextureBitmapValue=[],this._inAtlasTextureOriUVValue=[],this._InAtlasWebGLImagesKey={},this._InAtlasWebGLImagesOffsetValue=[],this._atlasCanvas=new $ppni,(this._atlasCanvas._atlaser=this)._atlasCanvas.width=$ppi,this._atlasCanvas.height=$ppn,this._atlasCanvas.activeResource(),this._atlasCanvas.lock=!0}$ppn($ppMe,"laya.webgl.shader.d2.ShaderDefines2D",$ppbt),$ppMe.__init__=function(){$ppMe.reg("TEXTURE2D",1),$ppMe.reg("COLOR2D",2),$ppMe.reg("PRIMITIVE",4),$ppMe.reg("GLOW_FILTER",8),$ppMe.reg("BLUR_FILTER",16),$ppMe.reg("COLOR_FILTER",32),$ppMe.reg("COLOR_ADD",64),$ppMe.reg("WORLDMAT",128),$ppMe.reg("FILLTEXTURE",256),$ppMe.reg("FSHIGHPRECISION",1024)},$ppMe.reg=function($ppt,$ppe){$ppbt._reg($ppt,$ppe,$ppMe.__name2int,$ppMe.__int2name)},$ppMe.toText=function($ppt,$ppe,$ppi){return $ppbt._toText($ppt,$ppe,$ppi)},$ppMe.toInt=function($ppt){return $ppbt._toInt($ppt,$ppMe.__name2int)},$ppMe.TEXTURE2D=1,$ppMe.COLOR2D=2,$ppMe.PRIMITIVE=4,$ppMe.FILTERGLOW=8,$ppMe.FILTERBLUR=16,$ppMe.FILTERCOLOR=32,$ppMe.COLORADD=64,$ppMe.WORLDMAT=128,$ppMe.FILLTEXTURE=256,$ppMe.SKINMESH=512,$ppMe.SHADERDEFINE_FSHIGHPRECISION=1024,$ppMe.__name2int={},$ppMe.__int2name=[],$ppMe.__int2nameMap=[];var $ppCe=$ppMe;function $ppMe(){$ppMe.__super.call(this,$ppMe.__name2int,$ppMe.__int2name,$ppMe.__int2nameMap)}$ppn($ppEe,"laya.webgl.shapes.Ellipse",$ppi);function $ppEe($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){$ppEe.__super.call(this,$ppt,$ppe,$ppi,$ppn,40,$ppr,$pps,$ppa)}$ppn($ppDe,"laya.webgl.shapes.Line",$ppi),($ppt=$ppDe.prototype).rebuild=function($ppt){var $ppe=$ppt.length;$ppe!=this._points.length&&(this.mUint16Array=new Uint16Array(6*($ppe/2-1)),this.mFloat32Array=new Float32Array(5*$ppe)),this._points.length=0;var $ppi;var $ppn;var $ppr=-1;var $pps=-1;var $ppa=$ppt.length/2;for(var $ppo=0;$ppo<$ppa;$ppo++)$ppi=$ppt[2*$ppo],$ppn=$ppt[2*$ppo+1],(.01<Math.abs($ppr-$ppi)||.01<Math.abs($pps-$ppn))&&this._points.push($ppi,$ppn),$ppr=$ppi,$pps=$ppn},$ppt.getData=function($ppt,$ppe,$ppi){var $ppn=[];var $ppr=[];0<this.borderWidth&&this.createLine2(this._points,$ppn,this.borderWidth,$ppi,$ppr,this._points.length/2),this.mUint16Array.set($ppn,0),this.mFloat32Array.set($ppr,0),$ppt.append(this.mUint16Array),$ppe.append(this.mFloat32Array)};var $ppAe=$ppDe;function $ppDe($ppt,$ppe,$ppi,$ppn,$ppr){this._points=[],this.rebuild($ppi),$ppDe.__super.call(this,$ppt,$ppe,0,0,0,$ppr,$ppn,$ppr,0)}$ppn($ppRe,"laya.webgl.shapes.LoopLine",$ppi),($ppvi=$ppRe.prototype).getData=function($ppt,$ppe,$ppi){if(0<this.borderWidth){var $ppn=this.color;var $ppr=($ppn>>16&255)/255,$pps=($ppn>>8&255)/255,$ppc=(255&$ppn)/255;var $ppa=[];var $ppo,$pph;$ppn=[];var $ppu=Math.floor(this._points.length/2);for(var $ppl=0;$ppl<$ppu;$ppl++)$ppo=this._points[2*$ppl],$pph=this._points[2*$ppl+1],$ppa.push(this.x+$ppo,this.y+$pph,$ppr,$pps,$ppc);this.createLoopLine($ppa,$ppn,this.borderWidth,$ppi+$ppa.length/5),$ppt.append(new Uint16Array($ppn)),$ppe.append(new Float32Array($ppa))}},$ppvi.createLoopLine=function($ppc,$ppu,$pp_,$ppd,$ppt,$ppf){$ppc.length;var $ppe=$ppc.concat();var $ppp=$ppt||$ppc;$ppt=this.borderColor;var $ppm=($ppt>>16&255)/255,$ppg=($ppt>>8&255)/255,$ppv=(255&$ppt)/255;$ppc=[$ppe[0],$ppe[1]];$ppt=[$ppe[$ppe.length-5],$ppe[$ppe.length-4]];var $ppy=$ppt[0]+.5*($ppc[0]-$ppt[0]);$ppc=$ppt[1]+.5*($ppc[1]-$ppt[1]);$ppe.unshift($ppy,$ppc,0,0,0),$ppe.push($ppy,$ppc,0,0,0);var $ppx=$ppe.length/5;var $ppi=$ppd,$ppw=$pp_/2;var $ppb,$ppT,$ppn,$ppr;var $pps,$ppa;var $ppS,$ppC,$ppM,$ppE,$ppo,$ppA;var $pph,$ppD;$ppb=$ppe[0],$ppT=$ppe[1],$ppn=$ppe[5],$pps=-($ppT-$ppe[6]),$ppa=$ppb-$ppn,$ppD=Math.sqrt($pps*$pps+$ppa*$ppa),$ppp.push($ppb-($pps=$pps/$ppD*$ppw),$ppT-($ppa=$ppa/$ppD*$ppw),$ppm,$ppg,$ppv,$ppb+$pps,$ppT+$ppa,$ppm,$ppg,$ppv);for(var $ppl=1;$ppl<$ppx-1;$ppl++)$ppb=$ppe[5*($ppl-1)],$ppT=$ppe[5*($ppl-1)+1],$ppn=$ppe[5*$ppl],$ppr=$ppe[5*$ppl+1],$ppE=$ppe[5*($ppl+1)],$ppC=$ppe[5*($ppl+1)+1],$ppa=$ppb-$ppn,$pph=$ppn-$ppE,$ppM=(-($pps=($pps=-($ppT-$ppr))/($ppD=Math.sqrt($pps*$pps+$ppa*$ppa))*$ppw)+$ppb)*(-($ppa=$ppa/$ppD*$ppw)+$ppr)-(-$pps+$ppn)*(-$ppa+$ppT),$ppA=(-($ppo=($ppo=-($ppr-$ppC))/($ppD=Math.sqrt($ppo*$ppo+$pph*$pph))*$ppw)+$ppE)*(-($pph=$pph/$ppD*$ppw)+$ppr)-(-$ppo+$ppn)*(-$pph+$ppC),$pph=($ppS=-$ppa+$ppT-(-$ppa+$ppr))*($ppo=-$ppo+$ppn-(-$ppo+$ppE))-($ppE=-$pph+$ppC-(-$pph+$ppr))*($ppC=-$pps+$ppn-(-$pps+$ppb)),Math.abs($pph)<.1?($pph+=10.1,$ppp.push($ppn-$pps,$ppr-$ppa,$ppm,$ppg,$ppv,$ppn+$pps,$ppr+$ppa,$ppm,$ppg,$ppv)):($ppC=($ppC*$ppA-$ppo*$ppM)/$pph,$ppo=($ppE*$ppM-$ppS*$ppA)/$pph,$ppp.push($ppC,$ppo,$ppm,$ppg,$ppv,$ppn-($ppC-$ppn),$ppr-($ppo-$ppr),$ppm,$ppg,$ppv));$ppf&&($ppu=$ppf);var $ppI=this.edges+1;for($ppl=1;$ppl<$ppI;$ppl++)$ppu.push($ppi+2*($ppl-1),$ppi+2*($ppl-1)+1,$ppi+2*$ppl+1,$ppi+2*$ppl+1,$ppi+2*$ppl,$ppi+2*($ppl-1));return $ppu.push($ppi+2*($ppl-1),$ppi+2*($ppl-1)+1,$ppi+1,$ppi+1,$ppi,$ppi+2*($ppl-1)),$ppp};var $ppIe=$ppRe;function $ppRe($ppt,$ppe,$ppi,$ppn,$ppc){this._points=[];var $ppr=NaN;var $pps=NaN;var $ppa=-1;var $ppo=-1;var $pph=$ppi.length/2-1;for(var $ppl=0;$ppl<$pph;$ppl++)$ppr=$ppi[2*$ppl],$pps=$ppi[2*$ppl+1],(.01<Math.abs($ppa-$ppr)||.01<Math.abs($ppo-$pps))&&this._points.push($ppr,$pps),$ppa=$ppr,$ppo=$pps;$ppr=$ppi[2*$pph],$pps=$ppi[2*$pph+1],$ppa=this._points[0],$ppo=this._points[1],(.01<Math.abs($ppa-$ppr)||.01<Math.abs($ppo-$pps))&&this._points.push($ppr,$pps),$ppRe.__super.call(this,$ppt,$ppe,0,0,this._points.length/2,0,$ppn,$ppc)}$ppn($ppLe,"laya.webgl.shapes.Polygon",$ppi),($ppG=$ppLe.prototype).rebuild=function($ppt){this._repaint||(this._points.length=0,this._points=this._points.concat($ppt))},$ppG.setMatrix=function($ppt){$ppt.copyTo(this._mat)},$ppG.needUpdate=function($ppt){return this._repaint=this._mat.a==$ppt.a&&this._mat.b==$ppt.b&&this._mat.c==$ppt.c&&this._mat.d==$ppt.d&&this._mat.tx==$ppt.tx&&this._mat.ty==$ppt.ty,!this._repaint},$ppG.getData=function($ppt,$ppe,$ppi){var $ppn,$ppr=0;var $pps=this._points;var $ppa=0;if(this.mUint16Array&&this.mFloat32Array&&this._repaint){if(this._start!=$ppi){for(this._start=$ppi,$ppn=[],$ppa=this.earcutTriangles.length,$ppr=0;$ppr<$ppa;$ppr++)$ppn.push(this.earcutTriangles[$ppr]+$ppi);this.mUint16Array=new Uint16Array($ppn)}}else{this._start=$ppi,$ppn=[];var $ppo=[];var $pph=[];var $ppl=this.color;var $ppc=($ppl>>16&255)/255,$ppu=($ppl>>8&255)/255,$pp_=(255&$ppl)/255;for($ppa=Math.floor($pps.length/2),$ppr=0;$ppr<$ppa;$ppr++)$ppo.push(this.x+$pps[2*$ppr],this.y+$pps[2*$ppr+1],$ppc,$ppu,$pp_),$pph.push(this.x+$pps[2*$ppr],this.y+$pps[2*$ppr+1]);for(this.earcutTriangles=$ppDt.earcut($pph,null,2),$ppa=this.earcutTriangles.length,$ppr=0;$ppr<$ppa;$ppr++)$ppn.push(this.earcutTriangles[$ppr]+$ppi);this.mUint16Array=new Uint16Array($ppn),this.mFloat32Array=new Float32Array($ppo)}$ppt.append(this.mUint16Array),$ppe.append(this.mFloat32Array)};var $ppPe=$ppLe;function $ppLe($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this._points=null,this._start=-1,this._repaint=!1,this.earcutTriangles=null,this._mat=$ppS.create(),this._points=$ppi.slice(0,$ppi.length),$ppLe.__super.call(this,$ppt,$ppe,0,0,this._points.length/2,$ppn,$ppr,$pps)}$ppn($ppNe,"laya.webgl.submit.SubmitCanvas",$ppBt),($ppBi=$ppNe.prototype).renderSubmit=function(){if(this._ctx_src._targets)return this._ctx_src._targets.flush(this._ctx_src),1;var $ppt=$ppl.worldAlpha;var $ppe=$ppl.worldMatrix4;var $ppi=$ppl.worldMatrix;var $ppn=$ppl.worldFilters;var $ppr=$ppl.worldShaderDefines;var $pps=this.shaderValue;var $ppa=this._matrix;var $ppo=this._matrix4;var $pph=$ppS.TEMP;return $ppS.mul($ppa,$ppi,$pph),$ppo[0]=$pph.a,$ppo[1]=$pph.b,$ppo[4]=$pph.c,$ppo[5]=$pph.d,$ppo[12]=$pph.tx,$ppo[13]=$pph.ty,$ppl.worldMatrix=$pph.clone(),$ppl.worldMatrix4=$ppo,$ppl.worldAlpha=$ppl.worldAlpha*$pps.alpha,$pps.filters&&$pps.filters.length&&($ppl.worldFilters=$pps.filters,$ppl.worldShaderDefines=$pps.defines),this._ctx_src.flush(),$ppl.worldAlpha=$ppt,$ppl.worldMatrix4=$ppe,$ppl.worldMatrix.destroy(),$ppl.worldMatrix=$ppi,$ppl.worldFilters=$ppn,$ppl.worldShaderDefines=$ppr,1},$ppBi.releaseRender=function(){var $ppt=$ppNe._cache;this._ctx_src=null,$ppt[$ppt._length++]=this},$ppBi.getRenderType=function(){return 10003},$ppNe.create=function($ppt,$ppe,$ppi){var $ppn=$ppNe._cache._length?$ppNe._cache[--$ppNe._cache._length]:new $ppNe;$ppn._ctx_src=$ppt;$ppt=$ppn.shaderValue;return $ppt.alpha=$ppe,$ppt.defines.setValue(0),$ppi&&$ppi.length&&$ppt.setFilters($ppi),$ppn},$ppNe._cache=(($ppNe._cache=[])._length=0,$ppNe._cache);var $ppBe=$ppNe;function $ppNe(){this._matrix=new $ppS,this._matrix4=$ppte.defaultMatrix4.concat(),$ppNe.__super.call(this,1e4),this.shaderValue=new $ppge(0,0)}$ppn($ppFe,"laya.webgl.submit.SubmitTexture",$ppBt),($ppt=$ppFe.prototype).releaseRender=function(){var $ppt=$ppFe._cache;($ppt[$ppt._length++]=this).shaderValue.release(),this.shaderValue=null,this._preIsSameTextureShader=!1,this._blendFn=null,this._vb=null,this._ib=null,this._texs.length=0,this._vbPos.length=0,this._texsID.length=0,this._isSameTexture=!0},$ppt.addTexture=function($ppt,$ppe){this._texsID[this._texs.length]=$ppt._uvID,this._texs.push($ppt),this._vbPos.push($ppe)},$ppt.checkTexture=function(){if(this._texs.length<1)this._isSameTexture=!0;else{var $ppt=this.shaderValue.textureHost.bitmap;if(null!==$ppt){var $ppe=this._vb.getFloat32Array();for(var $ppi=0,$ppn=this._texs.length;$ppi<$ppn;$ppi++){var $ppr=this._texs[$ppi];$ppr.active();var $pps=$ppr.uv;var $ppa;this._texsID[$ppi]!==$ppr._uvID&&(this._texsID[$ppi]=$ppr._uvID,$ppe[($ppa=this._vbPos[$ppi])+2]=$pps[0],$ppe[$ppa+3]=$pps[1],$ppe[$ppa+6]=$pps[2],$ppe[$ppa+7]=$pps[3],$ppe[$ppa+10]=$pps[4],$ppe[$ppa+11]=$pps[5],$ppe[$ppa+14]=$pps[6],$ppe[$ppa+15]=$pps[7],this._vb.setNeedUpload()),$ppr.bitmap!==$ppt&&(this._isSameTexture=!1)}}}},$ppt.renderSubmit=function(){if(0===this._numEle)return $ppFe._shaderSet=!1,1;var $ppt=this.shaderValue.textureHost;if($ppt){var $ppe=$ppt.source;if(!$ppt.bitmap||!$ppe)return $ppFe._shaderSet=!1,1;this.shaderValue.texture=$ppe}this._vb.bind_upload(this._ib);var $ppi=$ppc.mainContext;if($pptt.activeBlendFunction!==this._blendFn&&($ppi.enable(3042),this._blendFn($ppi),$pptt.activeBlendFunction=this._blendFn),$ppO.drawCall++,$ppO.trianglesFaces+=this._numEle/3,this._preIsSameTextureShader&&$ppUe.activeShader&&$ppFe._shaderSet?$ppUe.activeShader.uploadTexture2D(this.shaderValue.texture):this.shaderValue.upload(),$ppFe._shaderSet=!0,1<this._texs.length&&!this._isSameTexture){var $ppn=$ppt.bitmap;var $ppr=0;var $pps=$ppUe.activeShader;for(var $ppa=0,$ppo=this._texs.length;$ppa<$ppo;$ppa++){var $pph=this._texs[$ppa];$pph.bitmap===$ppn&&$ppa+1!==$ppo||($pps.uploadTexture2D($pph.source),$ppi.drawElements(4,6*($ppa-$ppr+1),5123,this._startIdx+6*$ppr*$ppte.BYTES_PIDX),$ppn=$pph.bitmap,$ppr=$ppa)}}else $ppi.drawElements(4,this._numEle,5123,this._startIdx);return 1},$ppFe.create=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=$ppFe._cache._length?$ppFe._cache[--$ppFe._cache._length]:new $ppFe;null==$ppi&&(($ppi=$pps._selfVb||($pps._selfVb=$ppDi.create(-1))).clear(),$ppn=0),$pps._ib=$ppe,$pps._vb=$ppi,$pps._startIdx=$ppn*$ppte.BYTES_PIDX,$pps._numEle=0;$ppe=$ppt._nBlendType;$pps._blendFn=($ppt._targets?$pptt.targetFns:$pptt.fns)[$ppe],$pps.shaderValue=$ppr,$pps.shaderValue.setValue($ppt._shader2D);$ppi=$ppt._shader2D.filters;return $ppi&&$pps.shaderValue.setFilters($ppi),$pps},$ppFe._cache=(($ppFe._cache=[])._length=0,$ppFe._cache),$ppFe._shaderSet=!0;var $ppOe=$ppFe;function $ppFe($ppt){this._preIsSameTextureShader=!1,this._isSameTexture=!0,this._texs=new Array,this._texsID=new Array,this._vbPos=new Array,$ppFe.__super.call(this,$ppt=void 0===$ppt?1e4:$ppt)}$ppn($ppke,"laya.webgl.utils.MeshTexture",$ppe),($ppvi=$ppke.prototype).addData=function($ppt,$ppe,$ppi,$ppn,$ppc,$ppu){var $ppr=$ppt.length/2;var $pps=this._vb.needSize($ppr*$ppke.const_stride)>>2;var $ppa=this._vb.getFloat32Array();var $ppo=0;for(var $pp_=0;$pp_<$ppr;$pp_++){var $pph=$ppt[$ppo],$ppd=$ppt[$ppo+1];var $ppf=$pph*$ppn.a+$ppd*$ppn.c+$ppn.tx;$pph=$pph*$ppn.b+$ppd*$ppn.d+$ppn.ty;$ppa[$pps++]=$ppf,$ppa[$pps++]=$pph,$ppa[$pps++]=$ppe[$ppo],$ppa[$pps++]=$ppe[$ppo+1],$ppo+=2}this._vb.setNeedUpload();var $ppp=this.vertNum;if(0<$ppp){($ppr=$ppi.length)>$ppke.tmpIdx.length&&($ppke.tmpIdx=new Uint16Array($ppr));for(var $ppl=0;$ppl<$ppr;$ppl++)$ppke.tmpIdx[$ppl]=$ppi[$ppl]+$ppp;this._ib.appendU16Array($ppke.tmpIdx,$ppi.length)}else this._ib.append($ppi);this._ib.setNeedUpload(),this.vertNum+=$ppr,this.indexNum+=$ppi.length},$ppvi.releaseMesh=function(){this._vb._byteLength=0,this._ib._byteLength=0,this.vertNum=0,this.indexNum=0,laya.webgl.utils.MeshTexture._POOL.push(this)},$ppvi.destroy=function(){this._ib.destroy(),this._vb.destroy()},$ppke.getAMesh=function(){return laya.webgl.utils.MeshTexture._POOL.length?laya.webgl.utils.MeshTexture._POOL.pop():new $ppke},$ppke.const_stride=16,$ppke._POOL=[],$pps($ppke,["_fixattriInfo",function(){return this._fixattriInfo=[5126,2,0,5126,2,8]},"tmpIdx",function(){return this.tmpIdx=new Uint16Array(4)}]);var $ppVe=$ppke;function $ppke(){$ppke.__super.call(this,laya.webgl.utils.MeshTexture.const_stride,0,0),this.canReuse=!0,this.setAttributes(laya.webgl.utils.MeshTexture._fixattriInfo)}$ppn($ppHe,"laya.webgl.shader.BaseShader",$ppR),$ppHe.activeShader=null,$ppHe.bindShader=null;var $ppUe=$ppHe;function $ppHe(){$ppHe.__super.call(this),this.lock=!0}$ppn($ppWe,"laya.webgl.resource.RenderTarget2D",$ppGe=$ppU),$ppi=$ppWe.prototype,$ppg.imps($ppi,{"laya.resource.IDispose":!0}),$ppi.getType=function(){return this._type},$ppi.getTexture=function(){return this},$ppi.size=function($ppt,$ppe){this._w==$ppt&&this._h==$ppe||(this._w=$ppt,this._h=$ppe,this.release(),0!=this._w&&0!=this._h&&this._createWebGLRenderTarget())},$ppi.release=function(){this.destroy()},$ppi.recycle=function(){$ppWe.POOL.push(this)},$ppi.start=function(){var $ppt=$ppc.mainContext;return this._preRenderTarget=$ppl.curRenderTarget,$ppl.curRenderTarget=this,$ppt.bindFramebuffer(36160,this.bitmap.frameBuffer),this._alreadyResolved=!1,1==this._type&&($ppt.viewport(0,0,this._w,this._h),this._svWidth=$ppl.width,this._svHeight=$ppl.height,$ppl.width=this._w,$ppl.height=this._h,$ppUe.activeShader=null),this},$ppi.clear=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppc.mainContext;$ppr.clearColor($ppt=void 0===$ppt?0:$ppt,$ppe=void 0===$ppe?0:$ppe,$ppi=void 0===$ppi?0:$ppi,$ppn=void 0===$ppn?1:$ppn);var $pps=16384;switch(this._depthStencilFormat){case 33189:$pps|=256;break;case 36168:$pps|=1024;break;case 34041:$pps=$pps|256|1024}$ppr.clear($pps)},$ppi.end=function(){var $ppt=$ppc.mainContext;$ppt.bindFramebuffer(36160,this._preRenderTarget?this._preRenderTarget.bitmap.frameBuffer:null),this._alreadyResolved=!0,$ppl.curRenderTarget=this._preRenderTarget,1==this._type?($ppt.viewport(0,0,this._svWidth,this._svHeight),$ppl.width=this._svWidth,$ppl.height=this._svHeight,$ppUe.activeShader=null):$ppt.viewport(0,0,$ppg.stage.width,$ppg.stage.height)},$ppi.getData=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppc.mainContext;if($ppr.bindFramebuffer(36160,this.bitmap.frameBuffer),!(36053===$ppr.checkFramebufferStatus(36160)))return $ppr.bindFramebuffer(36160,null),null;var $pps=new Uint8Array(this._w*this._h*4);return $ppr.readPixels($ppt,$ppe,$ppi,$ppn,this._surfaceFormat,this._surfaceType,$pps),$ppr.bindFramebuffer(36160,null),$pps},$ppi.destroy=function($ppt){void 0===$ppt&&($ppt=!1),this._destroy||(this._loaded=!1,this.bitmap.offAll(),this.bitmap.disposeResource(),this.bitmap.dispose(),this.offAll(),this.bitmap=null,this._alreadyResolved=!1,this._destroy=!0,$ppGe.prototype.destroy.call(this))},$ppi.dispose=function(){},$ppi._createWebGLRenderTarget=function(){this.bitmap=new $ppli(this.width,this.height,this._surfaceFormat,this._surfaceType,this._depthStencilFormat,this._mipMap,this._repeat,this._minFifter,this._magFifter),this.bitmap.activeResource(),this._alreadyResolved=!0,this._destroy=!1,this._loaded=!0,this.bitmap.on("recovered",this,function($ppt){this.event("recovered")})},$ppa(0,$ppi,"surfaceFormat",function(){return this._surfaceFormat}),$ppa(0,$ppi,"magFifter",function(){return this._magFifter}),$ppa(0,$ppi,"surfaceType",function(){return this._surfaceType}),$ppa(0,$ppi,"mipMap",function(){return this._mipMap}),$ppa(0,$ppi,"depthStencilFormat",function(){return this._depthStencilFormat}),$ppa(0,$ppi,"minFifter",function(){return this._minFifter}),$ppa(0,$ppi,"source",function(){return this._alreadyResolved?$ppg.superGet($ppU,this,"source"):null}),$ppWe.create=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph){void 0===$ppi&&($ppi=6408),void 0===$ppn&&($ppn=5121),void 0===$ppr&&($ppr=34041),void 0===$pps&&($pps=!1),void 0===$ppa&&($ppa=!1),void 0===$ppo&&($ppo=-1),void 0===$pph&&($pph=-1);var $ppl=$ppWe.POOL.pop();return($ppl=$ppl||new $ppWe($ppt,$ppe)).bitmap&&$ppl._w==$ppt&&$ppl._h==$ppe&&$ppl._surfaceFormat==$ppi&&$ppl._surfaceType==$ppn&&$ppl._depthStencilFormat==$ppr&&$ppl._mipMap==$pps&&$ppl._repeat==$ppa&&$ppl._minFifter==$ppo&&$ppl._magFifter==$pph||($ppl._w=$ppt,$ppl._h=$ppe,$ppl._surfaceFormat=$ppi,$ppl._surfaceType=$ppn,$ppl._depthStencilFormat=$ppr,$ppD.isConchWebGL&&34041===$ppl._depthStencilFormat&&($ppl._depthStencilFormat=33189),$ppl._mipMap=$pps,$ppl._repeat=$ppa,$ppl._minFifter=$ppo,$ppl._magFifter=$pph,$ppl.release(),$ppl._createWebGLRenderTarget()),$ppl},$ppWe.TYPE2D=1,$ppWe.TYPE3D=2,$ppWe.POOL=[];var $ppze=$ppWe;function $ppWe($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph){this._type=0,this._svWidth=NaN,this._svHeight=NaN,this._preRenderTarget=null,this._alreadyResolved=!1,this._looked=!1,this._surfaceFormat=0,this._surfaceType=0,this._depthStencilFormat=0,this._mipMap=!1,this._repeat=!1,this._minFifter=0,this._magFifter=0,this._destroy=!1,void 0===$ppi&&($ppi=6408),void 0===$ppn&&($ppn=5121),void 0===$ppr&&($ppr=34041),void 0===$pps&&($pps=!1),void 0===$ppa&&($ppa=!1),void 0===$ppo&&($ppo=-1),void 0===$pph&&($pph=-1),this._type=1,this._w=$ppt,this._h=$ppe,this._surfaceFormat=$ppi,this._surfaceType=$ppn,this._depthStencilFormat=$ppr,$ppD.isConchWebGL&&34041===this._depthStencilFormat&&(this._depthStencilFormat=33189),this._mipMap=$pps,this._repeat=$ppa,this._minFifter=$ppo,this._magFifter=$pph,this._createWebGLRenderTarget(),this.bitmap.lock=!0,$ppWe.__super.call(this,this.bitmap,$ppU.INV_UV)}var $ppGe;$ppn($ppXe,"laya.webgl.utils.Buffer",$ppR),($ppG=$ppXe.prototype)._bind=function(){this.activeResource(),$ppXe._bindActive[this._bufferType]!==this._glBuffer&&(34962===this._bufferType&&($ppXe._bindVertexBuffer=this._glBuffer),$ppXe._gl.bindBuffer(this._bufferType,$ppXe._bindActive[this._bufferType]=this._glBuffer),$ppUe.activeShader=null)},$ppG.recreateResource=function(){this._glBuffer||(this._glBuffer=$ppXe._gl.createBuffer()),this.completeCreate()},$ppG.disposeResource=function(){this._glBuffer&&($ppc.mainContext.deleteBuffer(this._glBuffer),this._glBuffer=null),this.memorySize=0},$ppa(0,$ppG,"bufferUsage",function(){return this._bufferUsage}),$ppXe._gl=null,$ppXe._bindActive={},$ppXe._bindVertexBuffer=null,$ppXe._enableAtributes=[];var $ppYe=$ppXe;function $ppXe(){this._glBuffer=null,this._buffer=null,this._bufferType=0,this._bufferUsage=0,this._byteLength=0,$ppXe.__super.call(this),$ppXe._gl=$ppc.mainContext}$ppn($ppKe,"laya.webgl.shader.d2.skinAnishader.SkinSV",$ppge);var $ppje=$ppKe;function $ppKe($ppt){this.texcoord=null,this.offsetX=300,this.offsetY=0,$ppKe.__super.call(this,512,0);var $ppe=8*$ppte.BYTES_PE;this.position=[2,5126,!1,$ppe,0],this.texcoord=[2,5126,!1,$ppe,2*$ppte.BYTES_PE],this.color=[4,5126,!1,$ppe,4*$ppte.BYTES_PE]}$ppn($pp$e,"laya.webgl.shader.d2.value.Color2dSV",$ppge),$pp$e.prototype.setValue=function($ppt){$ppt.fillStyle&&(this.color=$ppt.fillStyle._color._color),$ppt.strokeStyle&&(this.color=$ppt.strokeStyle._color._color)};var $ppqe=$pp$e;function $pp$e($ppt){$pp$e.__super.call(this,2,0),this.color=[]}$ppn($ppQe,"laya.webgl.shader.d2.value.FillTextureSV",$ppge),($ppBi=$ppQe.prototype).setValue=function($ppt){this.ALPHA=$ppt.ALPHA,$ppt.filters&&this.setFilters($ppt.filters)},$ppBi.clear=function(){this.texture=null,this.shader=null,this.colorMat=null,this.colorAlpha=null,this.defines.setValue(0)};var $ppZe=$ppQe;function $ppQe($ppt){this.u_colorMatrix=null,this.strength=0,this.colorMat=null,this.colorAlpha=null,this.u_TexRange=[0,1,0,1],this.u_offset=[0,0],this.texcoord=$ppge._TEXCOORD,$ppQe.__super.call(this,256,0)}$ppn($ppti,"laya.webgl.shader.d2.value.TextureSV",$ppge),($ppt=$ppti.prototype).setValue=function($ppt){this.ALPHA=$ppt.ALPHA,$ppt.filters&&this.setFilters($ppt.filters)},$ppt.clear=function(){this.texture=null,this.shader=null,this.colorMat=null,this.colorAlpha=null,this.defines.setValue(0)};var $ppJe=$ppti;function $ppti($ppt){this.u_colorMatrix=null,this.strength=0,this.blurInfo=null,this.colorMat=null,this.colorAlpha=null,this.texcoord=$ppge._TEXCOORD,$ppti.__super.call(this,1,$ppt=void 0===$ppt?0:$ppt)}$ppn($ppii,"laya.webgl.shader.d2.value.PrimitiveSV",$ppge);var $ppei=$ppii;function $ppii($ppt){this.a_color=null,this.u_pos=[0,0],$ppii.__super.call(this,4,0),this.position=[2,5126,!1,5*$ppte.BYTES_PE,0],this.a_color=[3,5126,!1,5*$ppte.BYTES_PE,2*$ppte.BYTES_PE]}$ppn($ppri,"laya.webgl.atlas.AtlasWebGLCanvas",$ppe=$pp_),($ppvi=$ppri.prototype).recreateResource=function(){var $ppt=$ppc.mainContext;var $ppe=this._source=$ppt.createTexture();var $ppi=$pp_e.curBindTexTarget;var $ppn=$pp_e.curBindTexValue;$pp_e.bindTexture($ppt,3553,$ppe),$ppt.texImage2D(3553,0,6408,this._w,this._h,0,6408,5121,null),$ppt.texParameteri(3553,10241,9729),$ppt.texParameteri(3553,10240,9729),$ppt.texParameteri(3553,10242,33071),$ppt.texParameteri(3553,10243,33071),$ppi&&$ppn&&$pp_e.bindTexture($ppt,$ppi,$ppn),this.memorySize=this._w*this._h*4,this.completeCreate()},$ppvi.disposeResource=function(){this._source&&($ppc.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},$ppvi.texSubImage2D=function($ppt,$ppe,$ppi){var $ppn,$ppr,$pps;$ppD.isFlash?(this._flashCacheImage||(this._flashCacheImage=$ppb.create(""),this._flashCacheImage._image.createCanvas(this._w,this._h)),$ppn=$ppi.bitmapdata,this._flashCacheImage._image.copyPixels($ppn,0,0,$ppn.width,$ppn.height,$ppt,$ppe),this._flashCacheImageNeedFlush||(this._flashCacheImageNeedFlush=!0)):($ppn=$ppc.mainContext,$ppr=$pp_e.curBindTexTarget,$pps=$pp_e.curBindTexValue,$pp_e.bindTexture($ppn,3553,this._source),$ppD.isConchWebGL?($ppi!==ConchTextCanvas&&(0<=$ppt-1&&$ppn.texSubImage2DEx(!0,3553,0,$ppt-1,$ppe,6408,5121,$ppi),$ppt+1<=this._w&&$ppn.texSubImage2DEx(!0,3553,0,$ppt+1,$ppe,6408,5121,$ppi),0<=$ppe-1&&$ppn.texSubImage2DEx(!0,3553,0,$ppt,$ppe-1,6408,5121,$ppi),$ppe+1<=this._h&&$ppn.texSubImage2DEx(!0,3553,0,$ppt,$ppe+1,6408,5121,$ppi)),$ppn.texSubImage2DEx(!0,3553,0,$ppt,$ppe,6408,5121,$ppi)):($ppn.pixelStorei(37441,!0),0<=$ppt-1&&$ppn.texSubImage2D(3553,0,$ppt-1,$ppe,6408,5121,$ppi),$ppt+1<=this._w&&$ppn.texSubImage2D(3553,0,$ppt+1,$ppe,6408,5121,$ppi),0<=$ppe-1&&$ppn.texSubImage2D(3553,0,$ppt,$ppe-1,6408,5121,$ppi),$ppe+1<=this._h&&$ppn.texSubImage2D(3553,0,$ppt,$ppe+1,6408,5121,$ppi),$ppn.texSubImage2D(3553,0,$ppt,$ppe,6408,5121,$ppi),$ppn.pixelStorei(37441,!1)),$ppr&&$pps&&$pp_e.bindTexture($ppn,$ppr,$pps))},$ppvi.texSubImage2DPixel=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=$ppc.mainContext;var $ppa=$pp_e.curBindTexTarget;var $ppo=$pp_e.curBindTexValue;$pp_e.bindTexture($pps,3553,this._source);$ppr=new Uint8Array($ppr.data);$ppD.isConchWebGL?$pps.texSubImage2DEx(!0,3553,0,$ppt,$ppe,$ppi,$ppn,6408,5121,$ppr):($pps.pixelStorei(37441,!0),$pps.texSubImage2D(3553,0,$ppt,$ppe,$ppi,$ppn,6408,5121,$ppr),$pps.pixelStorei(37441,!1)),$ppa&&$ppo&&$pp_e.bindTexture($pps,$ppa,$ppo)},$ppa(0,$ppvi,"width",$ppe.prototype._$get_width,function($ppt){this._w=$ppt}),$ppa(0,$ppvi,"height",$ppe.prototype._$get_height,function($ppt){this._h=$ppt});var $ppni=$ppri;function $ppri(){this._atlaser=null,this._flashCacheImage=null,this._flashCacheImageNeedFlush=!1,$ppri.__super.call(this)}$ppn($ppai,"laya.webgl.resource.WebGLCanvas",$pp_),($ppi=$ppai.prototype).getCanvas=function(){return this._canvas},$ppi.clear=function(){this._ctx&&this._ctx.clear()},$ppi.destroy=function(){this._ctx&&this._ctx.destroy(),this._ctx=null,laya.resource.Resource.prototype.destroy.call(this)},$ppi._setContext=function($ppt){this._ctx=$ppt},$ppi.getContext=function($ppt,$ppe){return this._ctx||(this._ctx=$ppai._createContext(this))},$ppi.size=function($ppt,$ppe){this._w==$ppt&&this._h==$ppe||(this._w=$ppt,this._h=$ppe,this._ctx&&this._ctx.size($ppt,$ppe),this._canvas&&(this._canvas.height=$ppe,this._canvas.width=$ppt))},$ppi.activeResource=function($ppt){void 0===$ppt&&($ppt=!1),this._source||this.recreateResource()},$ppi.recreateResource=function(){this.createWebGlTexture(),this.completeCreate()},$ppi.disposeResource=function(){this._source&&!this.iscpuSource&&($ppc.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},$ppi.createWebGlTexture=function(){var $ppt=$ppc.mainContext;this._canvas;var $ppe=this._source=$ppt.createTexture();this.iscpuSource=!1;var $ppi=$pp_e.curBindTexTarget;var $ppn=$pp_e.curBindTexValue;$pp_e.bindTexture($ppt,3553,$ppe),$ppt.pixelStorei(37440,this.flipY?1:0),$ppD.isConchWebGL?$ppt.texImage2DEx($ppai.premulAlpha,3553,0,6408,6408,5121,this._imgData):($ppai.premulAlpha&&$ppt.pixelStorei(37441,!0),$ppt.texImage2D(3553,0,6408,6408,5121,this._imgData),$ppai.premulAlpha&&$ppt.pixelStorei(37441,!1)),$ppt.texParameteri(3553,10240,9729),$ppt.texParameteri(3553,10241,9729),$ppt.texParameteri(3553,10242,33071),$ppt.texParameteri(3553,10243,33071),$ppt.pixelStorei(37440,0),this.memorySize=this._w*this._h*4,$ppi&&$ppn&&$pp_e.bindTexture($ppt,$ppi,$ppn)},$ppi.reloadCanvasData=function(){var $ppt=$ppc.mainContext;if(!this._source)throw"reloadCanvasData error, gl texture not created!";var $ppe=$pp_e.curBindTexTarget;var $ppi=$pp_e.curBindTexValue;$pp_e.bindTexture($ppt,3553,this._source),$ppD.isConchWebGL?$ppt.texImage2DEx($ppai.premulAlpha,3553,0,6408,6408,5121,this._imgData):($ppai.premulAlpha&&$ppt.pixelStorei(37441,!0),$ppt.texImage2D(3553,0,6408,6408,5121,this._imgData),$ppai.premulAlpha&&$ppt.pixelStorei(37441,!1)),$ppt.pixelStorei(37440,0),$ppe&&$ppi&&$pp_e.bindTexture($ppt,$ppe,$ppi)},$ppi.texSubImage2D=function($ppt,$ppe,$ppi){var $ppn=$ppc.mainContext;var $ppr=$pp_e.curBindTexTarget;var $pps=$pp_e.curBindTexValue;$pp_e.bindTexture($ppn,3553,this._source),$ppD.isConchWebGL?$ppn.texSubImage2DEx(!0,3553,0,$ppe,$ppi,6408,5121,$ppt._source):($ppn.pixelStorei(37441,!0),$ppn.texSubImage2D(3553,0,$ppe,$ppi,6408,5121,$ppt._source),$ppn.pixelStorei(37441,!1)),$ppr&&$pps&&$pp_e.bindTexture($ppn,$ppr,$pps)},$ppi.toBase64=function($ppt,$ppe,$ppi){var $ppn=null;this._canvas&&($ppn=this._canvas.toDataURL($ppt,$ppe)),$ppi.call(this,$ppn)},$ppa(0,$ppi,"context",function(){return this._ctx}),$ppa(0,$ppi,"source",function(){return this.alwaysChange&&this.reloadCanvasData(),this._source}),$ppa(0,$ppi,"asBitmap",null,function($ppt){this._ctx&&(this._ctx.asBitmap=$ppt)}),$ppai._createContext=null,$ppai.premulAlpha=!1;var $ppsi=$ppai;function $ppai(){this.flipY=!0,this.alwaysChange=!1,$ppai.__super.call(this)}$ppn($pphi,"laya.webgl.resource.WebGLCharImage",$pp_),$ppR=$pphi.prototype,$ppg.imps($ppR,{"laya.webgl.resource.IMergeAtlasBitmap":!0}),$ppR.active=function(){this.texture.active()},$ppR.recreateResource=function(){var $ppt=$ppD.isConchApp;var $ppe;this.onresize(this.cw+2*this.CborderSize,this.ch+2*this.CborderSize),this.canvas&&(this.canvas.height=this._h,this.canvas.width=this._w),$ppt?($ppt=this.fontSize,1==this.xs&&1==this.ys||($ppt=parseInt($ppt*(this.xs>this.ys?this.xs:this.ys)+"")),$ppe=($ppe="normal 100 "+this.font).replace($pphi._fontSizeReg,$ppt),this.borderColor&&($ppe+=" 1 "+this.borderColor),this._ctx.font=$ppe,this._ctx.textBaseline="top",this._ctx.fillStyle=this.fillColor,this._ctx.fillText(this.char,this.CborderSize,this.CborderSize,null,null,null)):(this._ctx.save(),this._ctx.lineJoin="round",this._ctx.clearRect(0,0,this.cw+2*this.CborderSize,this.ch+2*this.CborderSize),this._ctx.font=this.font,$ppk.RightToLeft&&(this._ctx.textAlign="end"),this._ctx.textBaseline="top",this._ctx.translate(this.CborderSize,this.CborderSize),1==this.xs&&1==this.ys||this._ctx.scale(this.xs,this.ys),this.fillColor&&this.borderColor?(this._ctx.strokeStyle=this.borderColor,this._ctx.lineWidth=this.lineWidth,this._ctx.strokeText(this.char,0,0,null,null,0,null),this._ctx.fillStyle=this.fillColor,this._ctx.fillText(this.char,0,0,null,null,null)):-1===this.lineWidth?(this._ctx.fillStyle=this.fillColor||"white",this._ctx.fillText(this.char,0,0,null,null,null)):(this._ctx.strokeStyle=this.borderColor||"white",this._ctx.lineWidth=this.lineWidth,this._ctx.strokeText(this.char,0,0,null,null,0,null)),this.underLine&&(this._ctx.lineWidth=1,this._ctx.strokeStyle=this.fillColor,this._ctx.beginPath(),this._ctx.moveTo(0,this.fontSize+1),$ppt=this._ctx.measureText(this.char).width+1,this._ctx.lineTo($ppt,this.fontSize+1),this._ctx.stroke()),this._ctx.restore()),this.borderSize=this.CborderSize,this.completeCreate()},$ppR.onresize=function($ppt,$ppe){this._w=$ppt,this._h=$ppe,this._allowMerageInAtlas=!0},$ppR.clearAtlasSource=function(){},$ppa(0,$ppR,"allowMerageInAtlas",function(){return this._allowMerageInAtlas}),$ppa(0,$ppR,"atlasSource",function(){return this.canvas}),$ppa(0,$ppR,"enableMerageInAtlas",function(){return this._enableMerageInAtlas},function($ppt){this._enableMerageInAtlas=$ppt}),$pphi.createOneChar=function($ppt,$ppe){return new $pphi($ppt,$ppe)},$pphi._fontSizeReg=new RegExp("\\d+(?=px)","g");var $ppoi=$pphi;function $pphi($ppt,$ppe){this.CborderSize=12,$pphi.__super.call(this),this.char=$ppt,this.isSpace=" "===$ppt,this.xs=$ppe.scaleX,this.ys=$ppe.scaleY,this.font=$ppe.font.toString(),this.fontSize=$ppe.font.size,this.fillColor=$ppe.fillColor,this.borderColor=$ppe.borderColor,this.lineWidth=$ppe.lineWidth,this.underLine=$ppe.underLine;$ppt=$ppD.isConchApp;var $ppi;$ppt?(($ppi=ConchTextCanvas)._source=ConchTextCanvas,$ppi._source.canvas=ConchTextCanvas):$ppi=$ppd.canvas.source,this.canvas=$ppi,this._enableMerageInAtlas=!0,this._ctx=$ppt?$ppi:this.canvas.getContext("2d",void 0);$ppe=$ppH.measureText(this.char,this.font);this.cw=$ppe.width*this.xs,this.ch=($ppe.height||this.fontSize)*this.ys,this.onresize(this.cw+2*this.CborderSize,this.ch+2*this.CborderSize),this.texture=new $ppU(this)}$ppn($ppci,"laya.webgl.resource.WebGLRenderTarget",$pp_),($ppG=$ppci.prototype).recreateResource=function(){var $ppt=$ppc.mainContext;this._frameBuffer||(this._frameBuffer=$ppt.createFramebuffer()),this._source||(this._source=$ppt.createTexture());var $ppe=$pp_e.curBindTexTarget;var $ppi=$pp_e.curBindTexValue;$pp_e.bindTexture($ppt,3553,this._source),$ppt.texImage2D(3553,0,6408,this._w,this._h,0,this._surfaceFormat,this._surfaceType,null);var $ppn=this._minFifter;var $ppr=this._magFifter;var $pps=this._repeat?10497:33071;var $ppa=$pph.isPOT(this._w,this._h);if($ppa?(this._mipMap?-1!==$ppn||($ppn=9987):-1!==$ppn||($ppn=9729),-1!==$ppr||($ppr=9729),$ppt.texParameteri(3553,10241,$ppn),$ppt.texParameteri(3553,10240,$ppr),$ppt.texParameteri(3553,10242,$pps),$ppt.texParameteri(3553,10243,$pps),this._mipMap&&$ppt.generateMipmap(3553)):(-1!==$ppr||($ppr=9729),$ppt.texParameteri(3553,10241,$ppn=-1!==$ppn?$ppn:9729),$ppt.texParameteri(3553,10240,$ppr),$ppt.texParameteri(3553,10242,33071),$ppt.texParameteri(3553,10243,33071)),$ppt.bindFramebuffer(36160,this._frameBuffer),$ppt.framebufferTexture2D(36160,36064,3553,this._source,0),this._depthStencilFormat)switch(this._depthStencilBuffer||(this._depthStencilBuffer=$ppt.createRenderbuffer()),$ppt.bindRenderbuffer(36161,this._depthStencilBuffer),$ppt.renderbufferStorage(36161,this._depthStencilFormat,this._w,this._h),this._depthStencilFormat){case 33189:$ppt.framebufferRenderbuffer(36160,36096,36161,this._depthStencilBuffer);break;case 36168:$ppt.framebufferRenderbuffer(36160,36128,36161,this._depthStencilBuffer);break;case 34041:$ppt.framebufferRenderbuffer(36160,33306,36161,this._depthStencilBuffer)}$ppt.bindFramebuffer(36160,null),$ppe&&$ppi&&$pp_e.bindTexture($ppt,$ppe,$ppi),$ppt.bindRenderbuffer(36161,null),$ppa&&this._mipMap?this.memorySize=this._w*this._h*4*(1+1/3):this.memorySize=this._w*this._h*4,this.completeCreate()},$ppG.disposeResource=function(){this._frameBuffer&&($ppc.mainContext.deleteTexture(this._source),$ppc.mainContext.deleteFramebuffer(this._frameBuffer),$ppc.mainContext.deleteRenderbuffer(this._depthStencilBuffer),this._source=null,this._frameBuffer=null,this._depthStencilBuffer=null,this.memorySize=0)},$ppa(0,$ppG,"depthStencilBuffer",function(){return this._depthStencilBuffer}),$ppa(0,$ppG,"frameBuffer",function(){return this._frameBuffer});var $ppli=$ppci;function $ppci($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph){void 0===$ppi&&($ppi=6408),void 0===$ppn&&($ppn=5121),void 0===$ppr&&($ppr=34041),void 0===$pps&&($pps=!1),void 0===$ppa&&($ppa=!1),void 0===$ppo&&($ppo=-1),void 0===$pph&&($pph=1),$ppci.__super.call(this),this._w=$ppt,this._h=$ppe,this._surfaceFormat=$ppi,this._surfaceType=$ppn,this._depthStencilFormat=$ppr,$ppD.isConchWebGL&&34041===this._depthStencilFormat&&(this._depthStencilFormat=33189),this._mipMap=$pps,this._repeat=$ppa,this._minFifter=$ppo,this._magFifter=$pph}$ppn($pp_i,"laya.webgl.resource.WebGLSubImage",$pp_),$ppBi=$pp_i.prototype,$ppg.imps($ppBi,{"laya.webgl.resource.IMergeAtlasBitmap":!0}),$ppBi.size=function($ppt,$ppe){this._w=$ppt,this._h=$ppe,this._ctx&&this._ctx.size($ppt,$ppe),this.canvas&&(this.canvas.height=$ppe,this.canvas.width=$ppt)},$ppBi.recreateResource=function(){this.size(this._w,this._h),this._ctx.drawImage(this.atlasImage,this.offsetX,this.offsetY,this._w,this._h,0,0,this._w,this._h),this._allowMerageInAtlas&&this._enableMerageInAtlas?this.memorySize=0:this.createWebGlTexture(),this.completeCreate()},$ppBi.createWebGlTexture=function(){var $ppt=$ppc.mainContext;if(!this.canvas)throw"create GLTextur err:no data:"+this.canvas;var $ppe=this._source=$ppt.createTexture();var $ppi=$pp_e.curBindTexTarget;var $ppn=$pp_e.curBindTexValue;$pp_e.bindTexture($ppt,3553,$ppe),$ppD.isConchWebGL?$ppt.texImage2DEx(!0,3553,0,6408,6408,5121,this.canvas):($ppt.pixelStorei(37441,!0),$ppt.texImage2D(3553,0,6408,6408,5121,this.canvas),$ppt.pixelStorei(37441,!1));$ppe=this.minFifter;var $ppr=this.magFifter;var $pps=this.repeat?10497:33071;var $ppa=$pph.isPOT(this.width,this.height);$ppa?(this.mipmap?-1!==$ppe||($ppe=9987):-1!==$ppe||($ppe=9729),$ppt.texParameteri(3553,10240,$ppr=-1!==$ppr?$ppr:9729),$ppt.texParameteri(3553,10241,$ppe),$ppt.texParameteri(3553,10242,$pps),$ppt.texParameteri(3553,10243,$pps),this.mipmap&&$ppt.generateMipmap(3553)):(-1!==$ppr||($ppr=9729),$ppt.texParameteri(3553,10241,$ppe=-1!==$ppe?$ppe:9729),$ppt.texParameteri(3553,10240,$ppr),$ppt.texParameteri(3553,10242,33071),$ppt.texParameteri(3553,10243,33071)),$ppi&&$ppn&&$pp_e.bindTexture($ppt,$ppi,$ppn),this.canvas=null,$ppa&&this.mipmap?this.memorySize=this._w*this._h*4*(1+1/3):this.memorySize=this._w*this._h*4},$ppBi.disposeResource=function(){$pp$.enabled&&this._allowMerageInAtlas||!this._source||($ppc.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},$ppBi.clearAtlasSource=function(){},$ppa(0,$ppBi,"allowMerageInAtlas",function(){return this._allowMerageInAtlas}),$ppa(0,$ppBi,"atlasSource",function(){return this.canvas}),$ppa(0,$ppBi,"enableMerageInAtlas",function(){return this._allowMerageInAtlas},function($ppt){this._allowMerageInAtlas=$ppt});var $ppui=$pp_i;function $pp_i($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){this.offsetX=0,this.offsetY=0,$pp_i.__super.call(this),this.repeat=!0,this.mipmap=!1,this.minFifter=-1,this.magFifter=-1,this.atlasImage=$pps,this.canvas=$ppt,this._ctx=$ppt.getContext("2d",void 0),this._w=$ppn,this._h=$ppr,this.offsetX=$ppe,this.offsetY=$ppi,this.src=$ppa,this._enableMerageInAtlas=!0,$pp$.enabled&&this._w<$pp$.atlasLimitWidth&&this._h<$pp$.atlasLimitHeight?this._allowMerageInAtlas=!0:this._allowMerageInAtlas=!1}$ppn($ppfi,"laya.webgl.shader.Shader",$ppUe),($ppt=$ppfi.prototype).recreateResource=function(){this._compile(),this.completeCreate(),this.memorySize=0},$ppt.disposeResource=function(){$ppc.mainContext.deleteShader(this._vshader),$ppc.mainContext.deleteShader(this._pshader),$ppc.mainContext.deleteProgram(this._program),this._vshader=this._pshader=this._program=null,this._params=null,this._paramsMap={},this.memorySize=0,this._curActTexIndex=0},$ppt._compile=function(){if(this._vs&&this._ps&&!this._params){this._reCompile=!0,this._params=[];var $ppt=[this._vs,this._ps];var $ppe=$ppc.mainContext;if(this._program=$ppe.createProgram(),this._vshader=$ppfi._createShader($ppe,$ppt[0],35633),this._pshader=$ppfi._createShader($ppe,$ppt[1],35632),$ppe.attachShader(this._program,this._vshader),$ppe.attachShader(this._program,this._pshader),$ppe.linkProgram(this._program),!$ppD.isConchApp&&!$ppe.getProgramParameter(this._program,35714))throw $ppe.getProgramInfoLog(this._program);var $ppi,$ppn,$ppr=0;var $pps=0;for($pps=$ppD.isConchApp?$ppe.getProgramParameterEx(this._vs,this._ps,"",35721):$ppe.getProgramParameter(this._program,35721),$ppr=0;$ppr<$pps;$ppr++){var $ppa=null;$ppi={vartype:"attribute",glfun:null,ivartype:0,attrib:$ppa=$ppD.isConchApp?$ppe.getActiveAttribEx(this._vs,this._ps,"",$ppr):$ppe.getActiveAttrib(this._program,$ppr),location:$ppe.getAttribLocation(this._program,$ppa.name),name:$ppa.name,type:$ppa.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0},this._params.push($ppi)}var $ppo=0;for($ppo=$ppD.isConchApp?$ppe.getProgramParameterEx(this._vs,this._ps,"",35718):$ppe.getProgramParameter(this._program,35718),$ppr=0;$ppr<$ppo;$ppr++){var $pph=null;$pph=$ppD.isConchApp?$ppe.getActiveUniformEx(this._vs,this._ps,"",$ppr):$ppe.getActiveUniform(this._program,$ppr),0<($ppi={vartype:"uniform",glfun:null,ivartype:1,attrib:$ppa,location:$ppe.getUniformLocation(this._program,$pph.name),name:$pph.name,type:$pph.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0}).name.indexOf("[0]")&&($ppi.name=$ppi.name.substr(0,$ppi.name.length-3),$ppi.isArray=!0,$ppi.location=$ppe.getUniformLocation(this._program,$ppi.name)),this._params.push($ppi)}for($ppr=0,$ppn=this._params.length;$ppr<$ppn;$ppr++)if(($ppi=this._params[$ppr]).indexOfParams=$ppr,$ppi.index=1,$ppi.value=[$ppi.location,null],$ppi.codename=$ppi.name,$ppi.name=this._nameMap[$ppi.codename]||$ppi.codename,(this._paramsMap[$ppi.name]=$ppi)._this=this,$ppi.uploadedValue=[],"attribute"!==$ppi.vartype)switch($ppi.type){case 5124:$ppi.fun=$ppi.isArray?this._uniform1iv:this._uniform1i;break;case 5126:$ppi.fun=$ppi.isArray?this._uniform1fv:this._uniform1f;break;case 35664:$ppi.fun=$ppi.isArray?this._uniform_vec2v:this._uniform_vec2;break;case 35665:$ppi.fun=$ppi.isArray?this._uniform_vec3v:this._uniform_vec3;break;case 35666:$ppi.fun=$ppi.isArray?this._uniform_vec4v:this._uniform_vec4;break;case 35678:$ppi.fun=this._uniform_sampler2D;break;case 35680:$ppi.fun=this._uniform_samplerCube;break;case 35676:$ppi.glfun=$ppe.uniformMatrix4fv,$ppi.fun=this._uniformMatrix4fv;break;case 35670:$ppi.fun=this._uniform1i;break;default:throw new Error("compile shader err!")}else $ppi.fun=this._attribute}},$ppt.getUniform=function($ppt){return this._paramsMap[$ppt]},$ppt._attribute=function($ppt,$ppe){var $ppi=$ppc.mainContext;var $ppn=$ppYe._enableAtributes;$ppt=$ppt.location;return $ppn[$ppt]||$ppi.enableVertexAttribArray($ppt),$ppi.vertexAttribPointer($ppt,$ppe[0],$ppe[1],$ppe[2],$ppe[3],$ppe[4]+this._offset),$ppn[$ppt]=$ppYe._bindVertexBuffer,1},$ppt._uniform1f=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe?($ppc.mainContext.uniform1f($ppt.location,$ppi[0]=$ppe),1):0},$ppt._uniform1fv=function($ppt,$ppe){var $ppi;return $ppe.length<4?($ppi=$ppt.uploadedValue)[0]!==$ppe[0]||$ppi[1]!==$ppe[1]||$ppi[2]!==$ppe[2]||$ppi[3]!==$ppe[3]?($ppc.mainContext.uniform1fv($ppt.location,$ppe),$ppi[0]=$ppe[0],$ppi[1]=$ppe[1],$ppi[2]=$ppe[2],$ppi[3]=$ppe[3],1):0:($ppc.mainContext.uniform1fv($ppt.location,$ppe),1)},$ppt._uniform_vec2=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe[0]||$ppi[1]!==$ppe[1]?($ppc.mainContext.uniform2f($ppt.location,$ppi[0]=$ppe[0],$ppi[1]=$ppe[1]),1):0},$ppt._uniform_vec2v=function($ppt,$ppe){var $ppi;return $ppe.length<2?($ppi=$ppt.uploadedValue)[0]!==$ppe[0]||$ppi[1]!==$ppe[1]||$ppi[2]!==$ppe[2]||$ppi[3]!==$ppe[3]?($ppc.mainContext.uniform2fv($ppt.location,$ppe),$ppi[0]=$ppe[0],$ppi[1]=$ppe[1],$ppi[2]=$ppe[2],$ppi[3]=$ppe[3],1):0:($ppc.mainContext.uniform2fv($ppt.location,$ppe),1)},$ppt._uniform_vec3=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe[0]||$ppi[1]!==$ppe[1]||$ppi[2]!==$ppe[2]?($ppc.mainContext.uniform3f($ppt.location,$ppi[0]=$ppe[0],$ppi[1]=$ppe[1],$ppi[2]=$ppe[2]),1):0},$ppt._uniform_vec3v=function($ppt,$ppe){return $ppc.mainContext.uniform3fv($ppt.location,$ppe),1},$ppt._uniform_vec4=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe[0]||$ppi[1]!==$ppe[1]||$ppi[2]!==$ppe[2]||$ppi[3]!==$ppe[3]?($ppc.mainContext.uniform4f($ppt.location,$ppi[0]=$ppe[0],$ppi[1]=$ppe[1],$ppi[2]=$ppe[2],$ppi[3]=$ppe[3]),1):0},$ppt._uniform_vec4v=function($ppt,$ppe){return $ppc.mainContext.uniform4fv($ppt.location,$ppe),1},$ppt._uniformMatrix2fv=function($ppt,$ppe){return $ppc.mainContext.uniformMatrix2fv($ppt.location,!1,$ppe),1},$ppt._uniformMatrix3fv=function($ppt,$ppe){return $ppc.mainContext.uniformMatrix3fv($ppt.location,!1,$ppe),1},$ppt._uniformMatrix4fv=function($ppt,$ppe){return $ppc.mainContext.uniformMatrix4fv($ppt.location,!1,$ppe),1},$ppt._uniform1i=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe?($ppc.mainContext.uniform1i($ppt.location,$ppi[0]=$ppe),1):0},$ppt._uniform1iv=function($ppt,$ppe){return $ppc.mainContext.uniform1iv($ppt.location,$ppe),1},$ppt._uniform_ivec2=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe[0]||$ppi[1]!==$ppe[1]?($ppc.mainContext.uniform2i($ppt.location,$ppi[0]=$ppe[0],$ppi[1]=$ppe[1]),1):0},$ppt._uniform_ivec2v=function($ppt,$ppe){return $ppc.mainContext.uniform2iv($ppt.location,$ppe),1},$ppt._uniform_vec3i=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe[0]||$ppi[1]!==$ppe[1]||$ppi[2]!==$ppe[2]?($ppc.mainContext.uniform3i($ppt.location,$ppi[0]=$ppe[0],$ppi[1]=$ppe[1],$ppi[2]=$ppe[2]),1):0},$ppt._uniform_vec3vi=function($ppt,$ppe){return $ppc.mainContext.uniform3iv($ppt.location,$ppe),1},$ppt._uniform_vec4i=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe[0]||$ppi[1]!==$ppe[1]||$ppi[2]!==$ppe[2]||$ppi[3]!==$ppe[3]?($ppc.mainContext.uniform4i($ppt.location,$ppi[0]=$ppe[0],$ppi[1]=$ppe[1],$ppi[2]=$ppe[2],$ppi[3]=$ppe[3]),1):0},$ppt._uniform_vec4vi=function($ppt,$ppe){return $ppc.mainContext.uniform4iv($ppt.location,$ppe),1},$ppt._uniform_sampler2D=function($ppt,$ppe){var $ppi=$ppc.mainContext;var $ppn=$ppt.uploadedValue;return null==$ppn[0]?($ppn[0]=this._curActTexIndex,$ppi.uniform1i($ppt.location,this._curActTexIndex),$ppi.activeTexture($ppfi._TEXTURES[this._curActTexIndex]),$pp_e.bindTexture($ppi,3553,$ppe),this._curActTexIndex++,1):($ppi.activeTexture($ppfi._TEXTURES[$ppn[0]]),$pp_e.bindTexture($ppi,3553,$ppe),0)},$ppt._uniform_samplerCube=function($ppt,$ppe){var $ppi=$ppc.mainContext;var $ppn=$ppt.uploadedValue;return null==$ppn[0]?($ppn[0]=this._curActTexIndex,$ppi.uniform1i($ppt.location,this._curActTexIndex),$ppi.activeTexture($ppfi._TEXTURES[this._curActTexIndex]),$pp_e.bindTexture($ppi,34067,$ppe),this._curActTexIndex++,1):($ppi.activeTexture($ppfi._TEXTURES[$ppn[0]]),$pp_e.bindTexture($ppi,34067,$ppe),0)},$ppt._noSetValue=function($ppt){console.log("no....:"+$ppt.name)},$ppt.uploadOne=function($ppt,$ppe){this.activeResource(),$pp_e.UseProgram(this._program);$ppt=this._paramsMap[$ppt];$ppt.fun.call(this,$ppt,$ppe)},$ppt.uploadTexture2D=function($ppt){$ppO.shaderCall++;var $ppe=$ppc.mainContext;$ppe.activeTexture(33984),$pp_e.bindTexture($ppe,3553,$ppt)},$ppt.upload=function($ppt,$ppe){($ppUe.activeShader=$ppUe.bindShader=this)._lastUseFrameCount===$ppO.loopCount||this.activeResource(),$pp_e.UseProgram(this._program),this._reCompile?($ppe=this._params,this._reCompile=!1):$ppe=$ppe||this._params;$ppc.mainContext;var $ppi,$ppn,$ppr=$ppe.length,$pps=0;for(var $ppa=0;$ppa<$ppr;$ppa++)null!==($ppn=$ppt[($ppi=$ppe[$ppa]).name])&&($pps+=$ppi.fun.call(this,$ppi,$ppn));$ppO.shaderCall+=$pps},$ppt.uploadArray=function($ppt,$ppe,$ppi){$ppUe.activeShader=this,($ppUe.bindShader=this).activeResource(),$pp_e.UseProgram(this._program);var $ppn;this._params;var $ppr,$pps=0;for(var $ppa=$ppe-2;0<=$ppa;$ppa-=2)($ppr=this._paramsMap[$ppt[$ppa]])&&null!=($ppn=$ppt[$ppa+1])&&($ppi&&$ppi[$ppr.name]&&$ppi[$ppr.name].bind(),$pps+=$ppr.fun.call(this,$ppr,$ppn));$ppO.shaderCall+=$pps},$ppt.getParams=function(){return this._params},$ppfi.getShader=function($ppt){return $ppfi.sharders[$ppt]},$ppfi.create=function($ppt,$ppe,$ppi,$ppn){return new $ppfi($ppt,$ppe,$ppi,$ppn)},$ppfi.withCompile=function($ppt,$ppe,$ppi,$ppn){if($ppi&&$ppfi.sharders[$ppi])return $ppfi.sharders[$ppi];var $ppr=$ppfi._preCompileShader[2e-4*$ppt];if(!$ppr)throw new Error("withCompile shader err!"+$ppt);return $ppr.createShader($ppe,$ppi,$ppn)},$ppfi.withCompile2D=function($ppt,$ppe,$ppi,$ppn,$ppr){if($ppn&&$ppfi.sharders[$ppn])return $ppfi.sharders[$ppn];var $pps=$ppfi._preCompileShader[2e-4*$ppt+$ppe];if(!$pps)throw new Error("withCompile shader err!"+$ppt+" "+$ppe);return $pps.createShader($ppi,$ppn,$ppr)},$ppfi.addInclude=function($ppt,$ppe){$ppoe.addInclude($ppt,$ppe)},$ppfi.preCompile=function($ppt,$ppe,$ppi,$ppn){$ppt*=2e-4;$ppfi._preCompileShader[$ppt]=new $ppoe($ppt,$ppe,$ppi,$ppn)},$ppfi.preCompile2D=function($ppt,$ppe,$ppi,$ppn,$ppr){$ppt=2e-4*$ppt+$ppe;$ppfi._preCompileShader[$ppt]=new $ppoe($ppt,$ppi,$ppn,$ppr)},$ppfi._createShader=function($ppt,$ppe,$ppi){$ppi=$ppt.createShader($ppi);return $ppt.shaderSource($ppi,$ppe),$ppt.compileShader($ppi),$ppi},$ppfi._TEXTURES=[33984,33985,33986,33987,33988,33989,33990,,33991,33992],$ppfi._count=0,$ppfi._preCompileShader={},$ppfi.SHADERNAME2ID=2e-4,$ppfi.sharders=($ppfi.sharders=[],$ppfi.sharders.length=32,$ppfi.sharders),$pps($ppfi,["nameKey",function(){return this.nameKey=new $ppF}]);var $ppdi=$ppfi;function $ppfi($ppt,$ppe,$ppi,$ppn){if(this._curActTexIndex=0,this.tag={},this._program=null,this._params=null,this._paramsMap={},this._offset=0,$ppfi.__super.call(this),!$ppt||!$ppe)throw"Shader Error";this._id=++$ppfi._count,this._vs=$ppt,this._ps=$ppe,this._nameMap=$ppn||{},null!=$ppi&&($ppfi.sharders[$ppi]=this)}$ppn($ppmi,"laya.webgl.utils.Buffer2D",$ppgi=$ppYe),($ppvi=$ppmi.prototype).needSize=function($ppt){var $ppe=this._byteLength;return $ppt&&(($ppt=this._byteLength+$ppt)<=this._buffer.byteLength||this._resizeBuffer($ppt<<1,!0),this._byteLength=$ppt),$ppe},$ppvi._bufferData=function(){this._maxsize=Math.max(this._maxsize,this._byteLength),$ppO.loopCount%30==0&&(this._buffer.byteLength>this._maxsize+64&&(this.memorySize=this._buffer.byteLength,this._buffer=this._buffer.slice(0,this._maxsize+64),this._checkArrayUse()),this._maxsize=this._byteLength),this._uploadSize<this._buffer.byteLength&&(this._uploadSize=this._buffer.byteLength,$ppYe._gl.bufferData(this._bufferType,this._uploadSize,this._bufferUsage),this.memorySize=this._uploadSize),$ppYe._gl.bufferSubData(this._bufferType,0,this._buffer)},$ppvi._bufferSubData=function($ppt,$ppe,$ppi){void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0),this._maxsize=Math.max(this._maxsize,this._byteLength),$ppO.loopCount%30==0&&(this._buffer.byteLength>this._maxsize+64&&(this.memorySize=this._buffer.byteLength,this._buffer=this._buffer.slice(0,this._maxsize+64),this._checkArrayUse()),this._maxsize=this._byteLength),this._uploadSize<this._buffer.byteLength&&(this._uploadSize=this._buffer.byteLength,$ppYe._gl.bufferData(this._bufferType,this._uploadSize,this._bufferUsage),this.memorySize=this._uploadSize),$ppe||$ppi?($ppe=this._buffer.slice($ppe,$ppi),$ppYe._gl.bufferSubData(this._bufferType,$ppt,$ppe)):$ppYe._gl.bufferSubData(this._bufferType,$ppt,this._buffer)},$ppvi._checkArrayUse=function(){},$ppvi._bind_upload=function(){return!!this._upload&&(this._upload=!1,this._bind(),this._bufferData(),!0)},$ppvi._bind_subUpload=function($ppt,$ppe,$ppi){return void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0),!!this._upload&&(this._upload=!1,this._bind(),this._bufferSubData($ppt,$ppe,$ppi),!0)},$ppvi._resizeBuffer=function($ppt,$ppe){return $ppt<this._buffer.byteLength||(this.memorySize=$ppt,$ppe&&this._buffer&&0<this._buffer.byteLength?($ppe=new ArrayBuffer($ppt),new Uint8Array($ppe).set(new Uint8Array(this._buffer),0),this._buffer=$ppe):this._buffer=new ArrayBuffer($ppt),this._checkArrayUse(),this._upload=!0),this},$ppvi.append=function($ppt){this._upload=!0;var $ppe,$ppi;$ppe=$ppt.byteLength,$ppt instanceof Uint8Array?(this._resizeBuffer(this._byteLength+$ppe,!0),$ppi=new Uint8Array(this._buffer,this._byteLength)):$ppt instanceof Uint16Array?(this._resizeBuffer(this._byteLength+$ppe,!0),$ppi=new Uint16Array(this._buffer,this._byteLength)):$ppt instanceof Float32Array&&(this._resizeBuffer(this._byteLength+$ppe,!0),$ppi=new Float32Array(this._buffer,this._byteLength)),$ppi.set($ppt,0),this._byteLength+=$ppe,this._checkArrayUse()},$ppvi.appendU16Array=function($ppt,$ppe){this._resizeBuffer(this._byteLength+2*$ppe,!0);var $ppi=new Uint16Array(this._buffer,this._byteLength,$ppe);for(var $ppn=0;$ppn<$ppe;$ppn++)$ppi[$ppn]=$ppt[$ppn];this._byteLength+=2*$ppe,this._checkArrayUse()},$ppvi.appendEx=function($ppt,$ppe){this._upload=!0;var $ppi;$ppi=$ppt.byteLength,this._resizeBuffer(this._byteLength+$ppi,!0),new $ppe(this._buffer,this._byteLength).set($ppt,0),this._byteLength+=$ppi,this._checkArrayUse()},$ppvi.appendEx2=function($ppt,$ppe,$ppi,$ppn){void 0===$ppn&&($ppn=1),this._upload=!0;var $ppr;this._resizeBuffer(this._byteLength+($ppn=$ppi*$ppn),!0),$ppr=new $ppe(this._buffer,this._byteLength);var $pps=0;for($pps=0;$pps<$ppi;$pps++)$ppr[$pps]=$ppt[$pps];this._byteLength+=$ppn,this._checkArrayUse()},$ppvi.getBuffer=function(){return this._buffer},$ppvi.setNeedUpload=function(){this._upload=!0},$ppvi.getNeedUpload=function(){return this._upload},$ppvi.upload=function(){var $ppt=this._bind_upload();return $ppYe._gl.bindBuffer(this._bufferType,null),$ppYe._bindActive[this._bufferType]=null,$ppUe.activeShader=null,$ppt},$ppvi.subUpload=function($ppt,$ppe,$ppi){void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0);$ppt=this._bind_subUpload();return $ppYe._gl.bindBuffer(this._bufferType,null),$ppYe._bindActive[this._bufferType]=null,$ppUe.activeShader=null,$ppt},$ppvi.disposeResource=function(){$ppgi.prototype.disposeResource.call(this),this._upload=!0,this._uploadSize=0},$ppvi.clear=function(){this._byteLength=0,this._upload=!0},$ppa(0,$ppvi,"bufferLength",function(){return this._buffer.byteLength}),$ppa(0,$ppvi,"byteLength",null,function($ppt){this._byteLength!==$ppt&&($ppt<=this._buffer.byteLength||this._resizeBuffer(2*$ppt+256,!0),this._byteLength=$ppt)}),$ppmi.__int__=function($ppt){$ppEi.QuadrangleIB=$ppEi.create(35044),$ppie.fillIBQuadrangle($ppEi.QuadrangleIB,16)},$ppmi.FLOAT32=4,$ppmi.SHORT=2;var $pppi=$ppmi;function $ppmi(){this._maxsize=0,this._upload=!0,this._uploadSize=0,$ppmi.__super.call(this),this.lock=!0}var $ppgi,$ppvi;$ppn($ppyi,"laya.webgl.shader.d2.value.GlowSV",$ppxi=$ppJe),($ppe=$ppyi.prototype).setValue=function($ppt){$ppxi.prototype.setValue.call(this,$ppt)},$ppe.clear=function(){$ppxi.prototype.clear.call(this)};function $ppyi($ppt){this.u_blurX=!1,this.u_color=null,this.u_offset=null,this.u_strength=NaN,this.u_texW=0,this.u_texH=0,$ppyi.__super.call(this,9)}var $ppxi,$ppe;$ppn($ppbi,"laya.webgl.shader.d2.value.TextSV",$ppTi=$ppJe),($ppi=$ppbi.prototype).release=function(){($ppbi.pool[$ppbi._length++]=this).clear()},$ppi.clear=function(){$ppTi.prototype.clear.call(this)},$ppbi.create=function(){return $ppbi._length?$ppbi.pool[--$ppbi._length]:new $ppbi},$ppbi.pool=[],$ppbi._length=0;var $ppwi=$ppbi;function $ppbi($ppt){$ppbi.__super.call(this,64),this.defines.add(64)}var $ppTi,$ppi;$ppn($ppCi,"laya.webgl.shader.d2.Shader2X",$ppMi=$ppdi),($ppR=$ppCi.prototype).upload2dQuick1=function($ppt){this.upload($ppt,this._params2dQuick1||this._make2dQuick1())},$ppR._make2dQuick1=function(){if(!this._params2dQuick1){this.activeResource(),this._params2dQuick1=[];var $ppt,$ppe=this._params;for(var $ppi=0,$ppn=$ppe.length;$ppi<$ppn;$ppi++)$ppt=$ppe[$ppi],($ppD.isFlash||"size"!==$ppt.name&&"position"!==$ppt.name&&"texcoord"!==$ppt.name)&&this._params2dQuick1.push($ppt)}return this._params2dQuick1},$ppR.disposeResource=function(){$ppMi.prototype.disposeResource.call(this),this._params2dQuick1=null,this._params2dQuick2=null},$ppR.upload2dQuick2=function($ppt){this.upload($ppt,this._params2dQuick2||this._make2dQuick2())},$ppR._make2dQuick2=function(){if(!this._params2dQuick2){this.activeResource(),this._params2dQuick2=[];var $ppt,$ppe=this._params;for(var $ppi=0,$ppn=$ppe.length;$ppi<$ppn;$ppi++)$ppt=$ppe[$ppi],!$ppD.isFlash&&"size"===$ppt.name||this._params2dQuick2.push($ppt)}return this._params2dQuick2},$ppCi.create=function($ppt,$ppe,$ppi,$ppn){return new $ppCi($ppt,$ppe,$ppi,$ppn)};var $ppSi=$ppCi;function $ppCi($ppt,$ppe,$ppi,$ppn){this._params2dQuick1=null,this._params2dQuick2=null,this._shaderValueWidth=NaN,this._shaderValueHeight=NaN,$ppCi.__super.call(this,$ppt,$ppe,$ppi,$ppn)}var $ppMi;$ppn($ppAi,"laya.webgl.utils.IndexBuffer2D",$pppi),($ppG=$ppAi.prototype)._checkArrayUse=function(){this._uint8Array&&(this._uint8Array=new Uint8Array(this._buffer)),this._uint16Array&&(this._uint16Array=new Uint16Array(this._buffer))},$ppG.getUint8Array=function(){return this._uint8Array||(this._uint8Array=new Uint8Array(this._buffer))},$ppG.getUint16Array=function(){return this._uint16Array||(this._uint16Array=new Uint16Array(this._buffer))},$ppG.destory=function(){this._uint16Array=null,this._uint8Array=null,this._buffer=null},$ppAi.QuadrangleIB=null,$ppAi.create=function($ppt){return new $ppAi($ppt=void 0===$ppt?35044:$ppt)};var $ppEi=$ppAi;function $ppAi($ppt){this._uint8Array=null,this._uint16Array=null,void 0===$ppt&&($ppt=35044),$ppAi.__super.call(this),this._bufferUsage=$ppt,this._bufferType=34963,$ppD.isFlash||(this._buffer=new ArrayBuffer(8))}$ppn($ppIi,"laya.webgl.utils.VertexBuffer2D",$ppRi=$pppi),($pp_=$ppIi.prototype).getFloat32Array=function(){return this._floatArray32||(this._floatArray32=new Float32Array(this._buffer))},$pp_.bind=function($ppt){$ppt&&$ppt._bind(),this._bind()},$pp_.insertData=function($ppt,$ppe){this.getFloat32Array().set($ppt,$ppe),this._upload=!0},$pp_.bind_upload=function($ppt){$ppt._bind_upload()||$ppt._bind(),this._bind_upload()||this._bind()},$pp_._checkArrayUse=function(){this._floatArray32&&(this._floatArray32=new Float32Array(this._buffer))},$pp_.disposeResource=function(){$ppRi.prototype.disposeResource.call(this)},$pp_.destory=function(){this._byteLength=0,this._upload=!0,this._buffer=null,this._floatArray32=null},$ppa(0,$pp_,"vertexStride",function(){return this._vertexStride}),$ppIi.create=function($ppt,$ppe){return new $ppIi($ppt,$ppe=void 0===$ppe?35048:$ppe)};var $ppDi=$ppIi;function $ppIi($ppt,$ppe){this._floatArray32=null,this._vertexStride=0,$ppIi.__super.call(this),this._vertexStride=$ppt,this._bufferUsage=$ppe,this._bufferType=34962,$ppD.isFlash||(this._buffer=new ArrayBuffer(8)),this.getFloat32Array()}var $ppRi;$ppn($ppLi,"laya.webgl.resource.WebGLImage",$ppb),$ppBi=$ppLi.prototype,$ppg.imps($ppBi,{"laya.webgl.resource.IMergeAtlasBitmap":!0}),$ppBi._init_=function($ppt,$ppe){},$ppBi._createWebGlTexture=function(){if(!this._image)throw"create GLTextur err:no data:"+this._image;var $ppt=$ppc.mainContext;var $ppe=this._source=$ppt.createTexture();var $ppi=$pp_e.curBindTexTarget;var $ppn=$pp_e.curBindTexValue;$pp_e.bindTexture($ppt,3553,$ppe);$ppe=this.minFifter;var $ppr=this.magFifter;var $pps=this.repeat?10497:33071;var $ppa=$pph.isPOT(this._w,this._h);if($ppa?(this.mipmap?-1!==$ppe||($ppe=9987):-1!==$ppe||($ppe=9729),-1!==$ppr||($ppr=9729),$ppt.texParameteri(3553,10241,$ppe),$ppt.texParameteri(3553,10240,$ppr),$ppt.texParameteri(3553,10242,$pps),$ppt.texParameteri(3553,10243,$pps),this.mipmap&&$ppt.generateMipmap(3553)):(-1!==$ppr||($ppr=9729),$ppt.texParameteri(3553,10241,$ppe=-1!==$ppe?$ppe:9729),$ppt.texParameteri(3553,10240,$ppr),$ppt.texParameteri(3553,10242,33071),$ppt.texParameteri(3553,10243,33071)),$ppD.isConchWebGL)switch(this._format){case 6407:case 6408:$ppt.texImage2DEx(!0,3553,0,this._format,this._format,5121,this._image);break;case $ppc.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:$ppt.compressedTexImage2D(3553,0,this._format,this._w,this._h,0,this._image)}else{switch($ppt.pixelStorei(37441,!0),this._format){case 6407:case 6408:this._image instanceof Uint8Array?$ppt.texImage2D(3553,0,this._format,this._w,this._h,0,this._format,5121,this._image):$ppt.texImage2D(3553,0,this._format,this._format,5121,this._image);break;case $ppc.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:$ppt.compressedTexImage2D(3553,0,this._format,this._w,this._h,0,this._image)}$ppt.pixelStorei(37441,!1)}$ppi&&$ppn&&$pp_e.bindTexture($ppt,$ppi,$ppn),this._image.onload=null,this._image=null,$ppa&&this.mipmap?this.memorySize=this._w*this._h*4*(1+1/3):this.memorySize=this._w*this._h*4,this._recreateLock=!1},$ppBi.recreateResource=function(){var $ppt=this;var $ppe;null!=this._src&&""!==this._src&&(this._needReleaseAgain=!1,this._image?this._recreateLock||(this._allowMerageInAtlas&&this._$5__enableMerageInAtlas?(this.memorySize=0,this._recreateLock=!1):this._createWebGlTexture(),this.completeCreate()):(this._recreateLock=!0,($ppe=this)._image=new $ppd.window.Image,this._image.crossOrigin=0==this._src.indexOf("data:")?null:"",this._image.onload=function(){if($ppe._needReleaseAgain)return $ppe._needReleaseAgain=!1,$ppe._image.onload=null,void($ppe._image=null);$ppe._allowMerageInAtlas&&$ppe._enableMerageInAtlas?($ppt.memorySize=0,$ppt._recreateLock=!1):$ppe._createWebGlTexture(),$ppe.completeCreate()},this._image.src=this._src))},$ppBi.disposeResource=function(){this._recreateLock&&(this._needReleaseAgain=!0),this._source&&$ppc.mainContext.deleteTexture(this._source),this._source=null,this._image=null,this.memorySize=0},$ppBi.onresize=function(){this._w=this._image.width,this._h=this._image.height,$pp$.enabled&&this._w<$pp$.atlasLimitWidth&&this._h<$pp$.atlasLimitHeight?this._allowMerageInAtlas=!0:this._allowMerageInAtlas=!1},$ppBi.clearAtlasSource=function(){this._image=null},$ppa(0,$ppBi,"format",function(){return this._format}),$ppa(0,$ppBi,"enableMerageInAtlas",function(){return this._$5__enableMerageInAtlas},function($ppt){this._$5__enableMerageInAtlas=$ppt}),$ppa(0,$ppBi,"mipmap",function(){return this._mipmap}),$ppa(0,$ppBi,"allowMerageInAtlas",function(){return this._allowMerageInAtlas}),$ppa(0,$ppBi,"atlasSource",function(){return this._image}),$ppa(0,$ppBi,"onload",null,function($ppt){var $ppe=this;this._onload=$ppt,this._image&&(this._image.onload=null!=this._onload?function(){$ppe.onresize(),$ppe._onload()}:null)}),$ppa(0,$ppBi,"onerror",null,function($ppt){var $ppe=this;this._onerror=$ppt,this._image&&(this._image.onerror=null!=this._onerror?function(){$ppe._onerror()}:null)});var $ppPi=$ppLi;function $ppLi($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this._format=0,this._mipmap=!1,this._allowMerageInAtlas=!1,this._enableMerageInAtlas=!1,this.repeat=!1,this._image=null,this.minFifter=0,void(this.magFifter=0)===$ppi&&($ppi=6408),void 0===$ppn&&($ppn=!0),$ppLi.__super.call(this,$ppt,$ppe),this._format=$ppi,this._mipmap=$ppn,this.repeat=!1,this.minFifter=-1,this.magFifter=-1,"string"==typeof $ppt?(this._url=$ppt,this._src=$ppt,this._image=new $ppd.window.Image,$ppe&&($ppe.onload&&(this.onload=$ppe.onload),$ppe.onerror&&(this.onerror=$ppe.onerror),$ppe.onCreate&&$ppe.onCreate(this)),this._image.crossOrigin=$ppt&&0==$ppt.indexOf("data:")?null:"",$ppt&&(this._image.src=$ppt)):$ppt instanceof ArrayBuffer?(this._src=$ppe,this._url=this._src,($ppi=new $ppf($ppt)).readUTFBytes(4),$ppi.readUTFBytes(2),$ppi.getInt16(),$ppi.endian="bigEndian",this._w=$ppi.getInt16(),this._h=$ppi.getInt16(),$ppi.getInt16(),$ppi.getInt16(),this._image=new Uint8Array($ppt,$ppi.pos),this._format=$ppc.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL,$pp$.enabled&&this._w<$pp$.atlasLimitWidth&&this._h<$pp$.atlasLimitHeight?this._allowMerageInAtlas=!0:this._allowMerageInAtlas=!1):$ppt instanceof Uint8Array?(this._src=$ppe,this._url=this._src,this._w=$ppr,this._h=$pps,this._image=$ppt,this._format=$ppt.byteLength/($ppr*$pps)==4?6408:6407):(this._src=$ppe,this._url=this._src,this._image=$ppt.source||$ppt,this.onresize()),this._$5__enableMerageInAtlas=!0}var $ppBi;$ppg.__init([$pp$t,$ppq,$pppe,$ppoe])}((window,document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function($ppt,$ppe){"use strict";for(var $ppi in Object.defineProperty($ppe,"__esModule",{value:!0}),Laya){var $ppn=Laya[$ppi];$ppn&&$ppn.__isclass&&($ppe[$ppi]=$ppn)}}),function($ppo,$pph){$pph.un,$pph.uns;var $ppl=$pph.static,$ppt=$pph.class,$ppe=$pph.getset,$ppc=$pph.__newvec;var $ppp=laya.maths.Arith,$ppu=laya.webgl.atlas.AtlasResourceManager;var $pp_=laya.webgl.shader.BaseShader,$ppC=laya.utils.Browser,$ppd=laya.webgl.utils.Buffer,$ppy=laya.utils.Byte;var $ppm=laya.utils.ClassUtils,$ppg=$pph.Config;laya.events.Event;var $ppv=laya.events.EventDispatcher,$ppw=laya.utils.Handler,$ppx=laya.net.Loader;var $ppb=laya.net.LoaderManager,$ppT=(laya.maths.MathUtil,laya.display.Node),$ppM=laya.renders.Render;laya.renders.RenderContext,laya.renders.RenderSprite;var $ppE=laya.webgl.utils.RenderState2D;var $ppA=laya.resource.Resource,$ppI=laya.utils.RunDriver,$ppR=(laya.webgl.shader.Shader,laya.webgl.utils.ShaderCompile);var $ppP=laya.display.Sprite,$ppL=laya.utils.Stat,$ppB=laya.utils.StringKey;laya.display.css.Style;laya.resource.Texture;var $ppN=laya.net.URL,$ppO=laya.utils.Utils,$ppF=laya.webgl.WebGL,$ppV=laya.webgl.WebGLContext;laya.webgl.canvas.WebGLContext2D;$pph.interface("laya.d3.core.IClone"),$pph.interface("laya.d3.graphics.IVertex"),$pph.interface("laya.d3.core.render.IUpdate"),$pph.interface("laya.d3.core.scene.ITreeNode"),$pph.interface("laya.d3.core.render.IRenderable");$ppt($ppk,"laya.d3.animation.AnimationClipParser01"),$ppk.READ_DATA=function(){$ppk._DATA.offset=$ppk._reader.getUint32(),$ppk._DATA.size=$ppk._reader.getUint32()},$ppk.READ_BLOCK=function(){var $ppt=$ppk._BLOCK.count=$ppk._reader.getUint16();var $ppe=$ppk._BLOCK.blockStarts=[];var $ppi=$ppk._BLOCK.blockLengths=[];for(var $ppn=0;$ppn<$ppt;$ppn++)$ppe.push($ppk._reader.getUint32()),$ppi.push($ppk._reader.getUint32())},$ppk.READ_STRINGS=function(){var $ppt=$ppk._reader.getUint32();var $ppe=$ppk._reader.getUint16();var $ppi=$ppk._reader.pos;$ppk._reader.pos=$ppt+$ppk._DATA.offset;for(var $ppn=0;$ppn<$ppe;$ppn++)$ppk._strings[$ppn]=$ppk._reader.readUTFString();$ppk._reader.pos=$ppi},$ppk.parse=function($ppt,$ppe){$ppk._animationClip=$ppt;($ppk._reader=$ppe).__getBuffer();$ppk.READ_DATA(),$ppk.READ_BLOCK(),$ppk.READ_STRINGS();for(var $ppi=0,$ppn=$ppk._BLOCK.count;$ppi<$ppn;$ppi++){var $ppr=$ppe.getUint16();var $pps=$ppk._strings[$ppr];var $ppa=$ppk["READ_"+$pps];if(null==$ppa)throw new Error("model file err,no this function:"+$ppr+" "+$pps);$ppa.call()}},$ppk.READ_ANIMATIONS=function(){var $ppt=0,$ppe=0;var $ppi;var $ppn=$ppk._reader;var $ppc=$ppn.__getBuffer();var $ppu=[];var $pp_=$ppn.getUint8();for($ppu.length=$pp_,$ppt=0;$ppt<$pp_;$ppt++)$ppu[$ppt]=$ppn.getUint16();var $ppd=[];var $ppf=$ppn.getUint16();for($ppd.length=$ppf,$ppt=0;$ppt<$ppf;$ppt++)$ppd[$ppt]=$ppn.getFloat32();var $ppr=$ppk._animationClip;$ppr.name=$ppk._strings[$ppn.getUint16()];var $ppp=$ppr._duration=$ppn.getFloat32();$ppr.islooping=!!$ppn.getByte(),$ppr._frameRate=$ppn.getInt16();var $ppm=$ppn.getInt16();var $ppg=$ppr._nodes=new Array;$ppg.length=$ppm,($ppr._publicClipDatas=[]).length=$ppm;var $ppv=$ppr._nodesMap={};var $ppy=0,$ppx=0;for($ppt=0;$ppt<$ppm;$ppt++){$ppi=$ppg[$ppt]=new $ppX;var $ppw=$ppn.getUint16();var $ppb=$ppi.path=[];for($ppb.length=$ppw,$ppe=0;$ppe<$ppw;$ppe++)$ppb[$ppe]=$ppk._strings[$ppn.getUint16()];var $pps=$ppb.join("/");var $ppa=$ppv[$pps];$ppa||($ppv[$pps]=$ppa=[]),$ppa.push($ppi);$pps=$ppn.getInt16();-1!==$pps&&($ppi.componentType=$ppk._strings[$pps]);$ppa=$ppW._propertyIndexDic[$ppk._strings[$ppn.getUint16()]];if(null==$ppa)throw new Error("AnimationClipParser01:unknown property name.");$pps=$ppa<4;$pps=!$pps||""===$ppb[0];($ppi._cacheProperty=$pps)?$ppy++:$ppx++,$ppi.propertyNameID=$ppa;var $ppo=$ppu[$ppn.getUint8()];$ppi.keyFrameWidth=$ppo/4;var $ppT=$ppi.keyFrames=[];var $ppS=$ppT.length=$ppn.getUint16();var $ppC=null;var $ppM=NaN;for($ppe=0;$ppe<$ppS;$ppe++){var $pph=$ppT[$ppe]=new $ppG;$ppM=$pph.startTime=$ppd[$ppn.getUint16()];var $ppl=$ppn.pos;$pph.inTangent=new Float32Array($ppc.slice($ppl,$ppl+$ppo)),$ppn.pos+=$ppo,$ppl=$ppn.pos,$pph.outTangent=new Float32Array($ppc.slice($ppl,$ppl+$ppo)),$ppn.pos+=$ppo,$ppl=$ppn.pos,$pph.data=new Float32Array($ppc.slice($ppl,$ppl+$ppo)),$ppn.pos+=$ppo,$ppC&&($ppC.next=$pph,$ppC.duration=$ppM-$ppC.startTime),$ppC=$pph}$pph.next=null,$pph.duration=$ppp-$ppM}var $ppE=$ppr._nodeToCachePropertyMap=new Int32Array($ppm);var $ppA=$ppr._cachePropertyMap=new Int32Array($ppy);var $ppD=$ppr._unCachePropertyMap=new Int32Array($ppx);for($ppt=$ppy=$ppx=0;$ppt<$ppm;$ppt++)($ppi=$ppg[$ppt])._cacheProperty?($ppE[$ppt]=$ppy,$ppA[$ppy++]=$ppt):$ppD[$ppx++]=$ppt},$ppk._animationClip=null,$ppk._reader=null,$ppk._strings=[],$ppl($ppk,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]);function $ppk(){}$ppt($ppU,"laya.d3.animation.AnimationClipParser02"),$ppU.READ_DATA=function(){$ppU._DATA.offset=$ppU._reader.getUint32(),$ppU._DATA.size=$ppU._reader.getUint32()},$ppU.READ_BLOCK=function(){var $ppt=$ppU._BLOCK.count=$ppU._reader.getUint16();var $ppe=$ppU._BLOCK.blockStarts=[];var $ppi=$ppU._BLOCK.blockLengths=[];for(var $ppn=0;$ppn<$ppt;$ppn++)$ppe.push($ppU._reader.getUint32()),$ppi.push($ppU._reader.getUint32())},$ppU.READ_STRINGS=function(){var $ppt=$ppU._reader.getUint32();var $ppe=$ppU._reader.getUint16();var $ppi=$ppU._reader.pos;$ppU._reader.pos=$ppt+$ppU._DATA.offset;for(var $ppn=0;$ppn<$ppe;$ppn++)$ppU._strings[$ppn]=$ppU._reader.readUTFString();$ppU._reader.pos=$ppi},$ppU.parse=function($ppt,$ppe){$ppU._animationClip=$ppt;($ppU._reader=$ppe).__getBuffer();$ppU.READ_DATA(),$ppU.READ_BLOCK(),$ppU.READ_STRINGS();for(var $ppi=0,$ppn=$ppU._BLOCK.count;$ppi<$ppn;$ppi++){var $ppr=$ppe.getUint16();var $pps=$ppU._strings[$ppr];var $ppa=$ppU["READ_"+$pps];if(null==$ppa)throw new Error("model file err,no this function:"+$ppr+" "+$pps);$ppa.call()}},$ppU.READ_ANIMATIONS=function(){var $ppt=0,$ppe=0;var $ppi;var $ppn=$ppU._reader;var $ppc=$ppn.__getBuffer();var $ppu=[];var $pp_=$ppn.getUint8();for($ppu.length=$pp_,$ppt=0;$ppt<$pp_;$ppt++)$ppu[$ppt]=$ppn.getUint16();var $ppd=[];var $ppf=$ppn.getUint16();for($ppd.length=$ppf,$ppt=0;$ppt<$ppf;$ppt++)$ppd[$ppt]=$ppn.getFloat32();var $ppr=$ppU._animationClip;$ppr.name=$ppU._strings[$ppn.getUint16()];var $ppp=$ppr._duration=$ppn.getFloat32();$ppr.islooping=!!$ppn.getByte(),$ppr._frameRate=$ppn.getInt16();var $ppm=$ppn.getInt16();var $ppg=$ppr._nodes=new Array;$ppg.length=$ppm,($ppr._publicClipDatas=[]).length=$ppm;var $ppv=$ppr._nodesMap={};var $ppy=0,$ppx=0;for($ppt=0;$ppt<$ppm;$ppt++){$ppi=$ppg[$ppt]=new $ppX;var $ppw=$ppn.getUint16();var $ppb=$ppi.path=[];for($ppb.length=$ppw,$ppe=0;$ppe<$ppw;$ppe++)$ppb[$ppe]=$ppU._strings[$ppn.getUint16()];var $pps=$ppb.join("/");var $ppa=$ppv[$pps];$ppa||($ppv[$pps]=$ppa=[]),$ppa.push($ppi);$pps=$ppn.getInt16();-1!==$pps&&($ppi.componentType=$ppU._strings[$pps]);$ppa=$ppW._propertyIndexDic[$ppU._strings[$ppn.getUint16()]];if(null==$ppa)throw new Error("AnimationClipParser02:unknown property name.");$pps=$ppa<4;$pps=!$pps||""===$ppb[0];($ppi._cacheProperty=$pps)?$ppy++:$ppx++,$ppi.propertyNameID=$ppa;var $ppo=$ppu[$ppn.getUint8()];$ppi.keyFrameWidth=$ppo/4;var $ppT=$ppi.keyFrames=[];var $ppS=$ppT.length=$ppn.getUint16();var $ppC=null;var $ppM=NaN;for($ppe=0;$ppe<$ppS;$ppe++){var $pph=$ppT[$ppe]=new $ppG;$ppM=$pph.startTime=$ppd[$ppn.getUint16()];var $ppl=$ppn.pos;$pph.inTangent=new Float32Array($ppc.slice($ppl,$ppl+$ppo)),$ppn.pos+=$ppo,$ppl=$ppn.pos,$pph.outTangent=new Float32Array($ppc.slice($ppl,$ppl+$ppo)),$ppn.pos+=$ppo,$ppl=$ppn.pos,$pph.data=new Float32Array($ppc.slice($ppl,$ppl+$ppo)),$ppn.pos+=$ppo,$ppC&&($ppC.next=$pph,$ppC.duration=$ppM-$ppC.startTime),$ppC=$pph}$pph.next=null,$pph.duration=$ppp-$ppM}var $ppE=$ppn.getUint16();for($ppt=0;$ppt<$ppE;$ppt++){var $ppA=new $ppH;var $ppD;$ppA.time=$ppn.getFloat32(),$ppA.eventName=$ppU._strings[$ppn.getUint16()];var $ppI=$ppn.getUint16();for(0<$ppI&&($ppA.params=$ppD=[]),$ppe=0;$ppe<$ppI;$ppe++)switch($ppn.getByte()){case 0:$ppD.push(!!$ppn.getByte());break;case 1:$ppD.push($ppn.getInt32());break;case 2:$ppD.push($ppn.getFloat32());break;case 3:$ppD.push($ppU._strings[$ppn.getUint16()]);break;default:throw new Error("unknown type.")}$ppr.addEvent($ppA)}var $ppR=$ppr._nodeToCachePropertyMap=new Int32Array($ppm);var $ppP=$ppr._cachePropertyMap=new Int32Array($ppy);var $ppL=$ppr._unCachePropertyMap=new Int32Array($ppx);for($ppt=$ppy=$ppx=0;$ppt<$ppm;$ppt++)($ppi=$ppg[$ppt])._cacheProperty?($ppR[$ppt]=$ppy,$ppP[$ppy++]=$ppt):$ppL[$ppx++]=$ppt},$ppU._animationClip=null,$ppU._reader=null,$ppU._strings=[],$ppl($ppU,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]);function $ppU(){}$ppt($ppz,"laya.d3.animation.AnimationEvent");var $ppH=$ppz;function $ppz(){this.time=NaN,this.eventName=null,this.params=null}$ppt($ppn,"laya.d3.animation.AnimationNode"),$ppr=$ppn.prototype,$pph.imps($ppr,{"laya.d3.core.IClone":!0}),$ppr.addChild=function($ppt){$ppt._parent=this,$ppt.transform.setParent(this.transform),this._childs.push($ppt)},$ppr.removeChild=function($ppt){$ppt=this._childs.indexOf($ppt);-1!==$ppt&&this._childs.splice($ppt,1)},$ppr.getChildByName=function($ppt){for(var $ppe=0,$ppi=this._childs.length;$ppe<$ppi;$ppe++){var $ppn=this._childs[$ppe];if($ppn.name===$ppt)return $ppn}return null},$ppr.getChildByIndex=function($ppt){return this._childs[$ppt]},$ppr.getChildCount=function(){return this._childs.length},$ppr.cloneTo=function($ppt){var $ppe=$ppt;$ppe.name=this.name;for(var $ppi=0,$ppn=this._childs.length;$ppi<$ppn;$ppi++){var $ppr=this._childs[$ppi];var $pps=$ppr.clone();$ppe.addChild($pps);$ppr=$ppr.transform;$pps=$pps.transform;$pps.setLocalPosition($ppr.getLocalPosition()),$pps.setLocalRotation($ppr.getLocalRotation()),$pps.setLocalScale($ppr.getLocalScale()),$pps._localRotationEuler=$ppr._localRotationEuler,$pps._setWorldMatrixIgnoreUpdate($ppr.getWorldMatrix())}},$ppr.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppn.__init__=function(){$ppn.registerAnimationNodeProperty("localPosition",$ppn._getLocalPosition,$ppn._setLocalPosition),$ppn.registerAnimationNodeProperty("localRotation",$ppn._getLocalRotation,$ppn._setLocalRotation),$ppn.registerAnimationNodeProperty("localScale",$ppn._getLocalScale,$ppn._setLocalScale),$ppn.registerAnimationNodeProperty("localRotationEuler",$ppn._getLocalRotationEuler,$ppn._setLocalRotationEuler),$ppn.registerAnimationNodeProperty("particleRender.sharedMaterial.tintColor",$ppn._getParticleRenderSharedMaterialTintColor,$ppn._setParticleRenderSharedMaterialTintColor),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.tilingOffset",$ppn._getMeshRenderSharedMaterialTilingOffset,$ppn._setMeshRenderSharedMaterialTilingOffset),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.albedoColor",$ppn._getMeshRenderSharedMaterialAlbedo,$ppn._setMeshRenderSharedMaterialAlbedo),$ppn.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.tilingOffset",$ppn._getSkinnedMeshRenderSharedMaterialTilingOffset,$ppn._setSkinnedMeshRenderSharedMaterialTilingOffset),$ppn.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.albedoColor",$ppn._getSkinnedMeshRenderSharedMaterialAlbedo,$ppn._setSkinnedMeshRenderSharedMaterialAlbedo),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.albedo",$ppn._getMeshRenderSharedMaterialAlbedo,$ppn._setMeshRenderSharedMaterialAlbedo),$ppn.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.albedo",$ppn._getSkinnedMeshRenderSharedMaterialAlbedo,$ppn._setSkinnedMeshRenderSharedMaterialAlbedo),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.intensity",$ppn._getMeshRenderSharedMaterialIntensity,$ppn._setMeshRenderSharedMaterialIntensity),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.alpha",$ppn._getMeshRenderSharedMaterialAlpha,$ppn._setMeshRenderSharedMaterialAlpha),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.alphaColor",$ppn._getMeshRenderSharedMaterialAlphaColor,$ppn._setMeshRenderSharedMaterialAlphaColor),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.baseColor",$ppn._getMeshRenderSharedMaterialBaseColor,$ppn._setMeshRenderSharedMaterialBaseColor),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.dissolve",$ppn._getMeshRenderSharedMaterialDissolve,$ppn._setMeshRenderSharedMaterialDissolve),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.dissolveSpeed",$ppn._getMeshRenderSharedMaterialDissolveSpeed,$ppn._setMeshRenderSharedMaterialDissolveSpeed),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.mMultiplier",$ppn._getMeshRenderSharedMaterialMMultiplier,$ppn._setMeshRenderSharedMaterialMMultiplier),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.baseScrollSpeedX",$ppn._getMeshRenderSharedMaterialBaseScrollSpeedX,$ppn._setMeshRenderSharedMaterialBaseScrollSpeedX),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.baseScrollSpeedY",$ppn._getMeshRenderSharedMaterialBaseScrollSpeedY,$ppn._setMeshRenderSharedMaterialBaseScrollSpeedY),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.secondScrollSpeedX",$ppn._getMeshRenderSharedMaterialSecondScrollSpeedX,$ppn._setMeshRenderSharedMaterialSecondScrollSpeedX),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.secondScrollSpeedY",$ppn._getMeshRenderSharedMaterialSecondScrollSpeedY,$ppn._setMeshRenderSharedMaterialSecondScrollSpeedY),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.detailTilingOffset",$ppn._getMeshRenderSharedMaterialDetailTilingOffset,$ppn._setMeshRenderSharedMaterialDetailTilingOffset),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.dissolveTilingOffset",$ppn._getMeshRenderSharedMaterialDissolveTilingOffset,$ppn._setMeshRenderSharedMaterialDissolveTilingOffset),$ppn.registerAnimationNodeProperty("meshRender.sharedMaterial.maskTilingOffset",$ppn._getMeshRenderSharedMaterialMaskTilingOffset,$ppn._setMeshRenderSharedMaterialMaskTilingOffset)},$ppn.registerAnimationNodeProperty=function($ppt,$ppe,$ppi){if($ppn._propertyIndexDic[$ppt])throw new Error("AnimationNode: this propertyName has registered.");$ppn._propertyIndexDic[$ppt]=$ppn._propertyIDCounter,$ppn._propertyGetFuncs[$ppn._propertyIDCounter]=$ppe,$ppn._propertySetFuncs[$ppn._propertyIDCounter]=$ppi,$ppn._propertyIDCounter++},$ppn._getLocalPosition=function($ppt,$ppe){return $ppt?$ppt.transform.getLocalPosition():$ppe._transform.localPosition.elements},$ppn._setLocalPosition=function($ppt,$ppe,$ppi){$ppt?$ppt.transform.setLocalPosition($ppi):(($ppe=($ppt=$ppe._transform).localPosition).elements=$ppi,$ppt.localPosition=$ppe)},$ppn._getLocalRotation=function($ppt,$ppe){return $ppt?$ppt.transform.getLocalRotation():$ppe._transform.localRotation.elements},$ppn._setLocalRotation=function($ppt,$ppe,$ppi){$ppt?$ppt.transform.setLocalRotation($ppi):(($ppe=($ppt=$ppe._transform).localRotation).elements=$ppi,$ppt.localRotation=$ppe)},$ppn._getLocalScale=function($ppt,$ppe){return $ppt?$ppt.transform.getLocalScale():$ppe._transform.localScale.elements},$ppn._setLocalScale=function($ppt,$ppe,$ppi){$ppt?$ppt.transform.setLocalScale($ppi):(($ppe=($ppt=$ppe._transform).localScale).elements=$ppi,$ppt.localScale=$ppe)},$ppn._getLocalRotationEuler=function($ppt,$ppe){return $ppt?$ppt.transform.getLocalRotationEuler():$ppe._transform.localRotationEuler.elements},$ppn._setLocalRotationEuler=function($ppt,$ppe,$ppi){$ppt?$ppt.transform.setLocalRotationEuler($ppi):(($ppe=($ppt=$ppe._transform).localRotationEuler).elements=$ppi,$ppt.localRotationEuler=$ppe)},$ppn._getMeshRenderSharedMaterialTilingOffset=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.tilingOffset.elements:null:$ppe.meshRender.sharedMaterial.tilingOffset.elements},$ppn._setMeshRenderSharedMaterialTilingOffset=function($ppt,$ppe,$ppi){var $ppn,$ppr;$ppt?($ppt=$ppt.transform._entity)&&(($ppr=($ppn=$ppt.owner.meshRender.material).tilingOffset).elements=$ppi,$ppn.tilingOffset=$ppr):(($ppr=($ppn=$ppe.meshRender.material).tilingOffset).elements=$ppi,$ppn.tilingOffset=$ppr)},$ppn._getMeshRenderSharedMaterialAlbedo=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.albedoColor.elements:null:$ppe.meshRender.sharedMaterial.albedoColor.elements},$ppn._setMeshRenderSharedMaterialAlbedo=function($ppt,$ppe,$ppi){var $ppn,$ppr;$ppt?($ppt=$ppt.transform._entity)&&(($ppr=($ppn=$ppt.owner.meshRender.material).albedoColor).elements=$ppi,$ppn.albedoColor=$ppr):(($ppr=($ppn=$ppe.meshRender.material).albedoColor).elements=$ppi,$ppn.albedoColor=$ppr)},$ppn._getSkinnedMeshRenderSharedMaterialTilingOffset=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.skinnedMeshRender.sharedMaterial.tilingOffset.elements:null:$ppe.skinnedMeshRender.sharedMaterial.tilingOffset.elements},$ppn._setSkinnedMeshRenderSharedMaterialTilingOffset=function($ppt,$ppe,$ppi){var $ppn,$ppr;$ppt?($ppt=$ppt.transform._entity)&&(($ppr=($ppn=$ppt.owner.skinnedMeshRender.material).tilingOffset).elements=$ppi,$ppn.tilingOffset=$ppr):(($ppr=($ppn=$ppe.skinnedMeshRender.material).tilingOffset).elements=$ppi,$ppn.tilingOffset=$ppr)},$ppn._getSkinnedMeshRenderSharedMaterialAlbedo=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.skinnedMeshRender.sharedMaterial.albedoColor.elements:null:$ppe.skinnedMeshRender.sharedMaterial.albedoColor.elements},$ppn._setSkinnedMeshRenderSharedMaterialAlbedo=function($ppt,$ppe,$ppi){var $ppn,$ppr;$ppt?($ppt=$ppt.transform._entity)&&(($ppr=($ppn=$ppt.owner.skinnedMeshRender.material).albedoColor).elements=$ppi,$ppn.albedoColor=$ppr):(($ppr=($ppn=$ppe.skinnedMeshRender.material).albedoColor).elements=$ppi,$ppn.albedoColor=$ppr)},$ppn._getParticleRenderSharedMaterialTintColor=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.particleRender.sharedMaterial.tintColor.elements:null:$ppe.particleRender.sharedMaterial.tintColor.elements},$ppn._setParticleRenderSharedMaterialTintColor=function($ppt,$ppe,$ppi){var $ppn,$ppr;$ppt?($ppt=$ppt.transform._entity)&&(($ppr=($ppn=$ppt.owner.particleRender.material).tintColor).elements=$ppi,$ppn.tintColor=$ppr):(($ppr=($ppn=$ppe.particleRender.material).tintColor).elements=$ppi,$ppn.tintColor=$ppr)},$ppn._getMeshRenderSharedMaterialAlphaColor=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.alphaColor.elements:null:$ppe.meshRender.sharedMaterial.alphaColor.elements},$ppn._setMeshRenderSharedMaterialAlphaColor=function($ppt,$ppe,$ppi){var $ppn,$ppr;$ppt?($ppt=$ppt.transform._entity)&&(($ppr=($ppn=$ppt.owner.meshRender.material).alphaColor).elements=$ppi,$ppn.alphaColor=$ppr):(($ppr=($ppn=$ppe.meshRender.material).alphaColor).elements=$ppi,$ppn.alphaColor=$ppr)},$ppn._getMeshRenderSharedMaterialBaseColor=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.baseColor.elements:null:$ppe.meshRender.sharedMaterial.baseColor.elements},$ppn._setMeshRenderSharedMaterialBaseColor=function($ppt,$ppe,$ppi){var $ppn,$ppr;$ppt?($ppt=$ppt.transform._entity)&&(($ppr=($ppn=$ppt.owner.meshRender.material).baseColor).elements=$ppi,$ppn.baseColor=$ppr):(($ppr=($ppn=$ppe.meshRender.material).baseColor).elements=$ppi,$ppn.baseColor=$ppr)},$ppn._getMeshRenderSharedMaterialDissolve=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.dissolve:0:$ppe.meshRender.sharedMaterial.dissolve},$ppn._setMeshRenderSharedMaterialDissolve=function($ppt,$ppe,$ppi){$ppt?($ppt=$ppt.transform._entity)&&($ppt.owner.meshRender.material.dissolve=$ppi[0]):$ppe.meshRender.material.dissolve=$ppi[0]},$ppn._getMeshRenderSharedMaterialDissolveSpeed=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.dissolveSpeed:0:$ppe.meshRender.sharedMaterial.dissolveSpeed},$ppn._setMeshRenderSharedMaterialDissolveSpeed=function($ppt,$ppe,$ppi){$ppt?($ppt=$ppt.transform._entity)&&($ppt.owner.meshRender.material.dissolveSpeed=$ppi[0]):$ppe.meshRender.material.dissolveSpeed=$ppi[0]},$ppn._getMeshRenderSharedMaterialMMultiplier=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.mMultiplier:0:$ppe.meshRender.sharedMaterial.mMultiplier},$ppn._setMeshRenderSharedMaterialMMultiplier=function($ppt,$ppe,$ppi){$ppt?($ppt=$ppt.transform._entity)&&($ppt.owner.meshRender.material.mMultiplier=$ppi[0]):$ppe.meshRender.material.mMultiplier=$ppi[0]},$ppn._getMeshRenderSharedMaterialBaseScrollSpeedX=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.baseScrollSpeedX:0:$ppe.meshRender.sharedMaterial.baseScrollSpeedX},$ppn._setMeshRenderSharedMaterialBaseScrollSpeedX=function($ppt,$ppe,$ppi){$ppt?($ppt=$ppt.transform._entity)&&($ppt.owner.meshRender.material.baseScrollSpeedX=$ppi[0]):$ppe.meshRender.material.baseScrollSpeedX=$ppi[0]},$ppn._getMeshRenderSharedMaterialBaseScrollSpeedY=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.baseScrollSpeedY:0:$ppe.meshRender.sharedMaterial.baseScrollSpeedY},$ppn._setMeshRenderSharedMaterialBaseScrollSpeedY=function($ppt,$ppe,$ppi){$ppt?($ppt=$ppt.transform._entity)&&($ppt.owner.meshRender.material.baseScrollSpeedY=$ppi[0]):$ppe.meshRender.material.baseScrollSpeedY=$ppi[0]},$ppn._getMeshRenderSharedMaterialSecondScrollSpeedX=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.secondScrollSpeedX:0:$ppe.meshRender.sharedMaterial.secondScrollSpeedX},$ppn._setMeshRenderSharedMaterialSecondScrollSpeedX=function($ppt,$ppe,$ppi){$ppt?($ppt=$ppt.transform._entity)&&($ppt.owner.meshRender.material.secondScrollSpeedX=$ppi[0]):$ppe.meshRender.material.secondScrollSpeedX=$ppi[0]},$ppn._getMeshRenderSharedMaterialSecondScrollSpeedY=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.secondScrollSpeedY:0:$ppe.meshRender.sharedMaterial.secondScrollSpeedY},$ppn._setMeshRenderSharedMaterialSecondScrollSpeedY=function($ppt,$ppe,$ppi){$ppt?($ppt=$ppt.transform._entity)&&($ppt.owner.meshRender.material.secondScrollSpeedY=$ppi[0]):$ppe.meshRender.material.secondScrollSpeedY=$ppi[0]},$ppn._getMeshRenderSharedMaterialAlpha=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.alpha:0:$ppe.meshRender.sharedMaterial.alpha},$ppn._setMeshRenderSharedMaterialAlpha=function($ppt,$ppe,$ppi){$ppt?($ppt=$ppt.transform._entity)&&($ppt.owner.meshRender.material.alpha=$ppi[0]):$ppe.meshRender.material.alpha=$ppi[0]},$ppn._getMeshRenderSharedMaterialIntensity=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.intensity:0:$ppe.meshRender.sharedMaterial.intensity},$ppn._setMeshRenderSharedMaterialIntensity=function($ppt,$ppe,$ppi){$ppt?($ppt=$ppt.transform._entity)&&($ppt.owner.meshRender.material.intensity=$ppi[0]):$ppe.meshRender.material.intensity=$ppi[0]},$ppn._getMeshRenderSharedMaterialDetailTilingOffset=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.detailTilingOffset.elements:null:$ppe.meshRender.sharedMaterial.detailTilingOffset.elements},$ppn._setMeshRenderSharedMaterialDetailTilingOffset=function($ppt,$ppe,$ppi){var $ppn,$ppr;$ppt?($ppt=$ppt.transform._entity)&&(($ppr=($ppn=$ppt.owner.meshRender.material).detailTilingOffset).elements=$ppi,$ppn.detailTilingOffset=$ppr):(($ppr=($ppn=$ppe.meshRender.material).detailTilingOffset).elements=$ppi,$ppn.detailTilingOffset=$ppr)},$ppn._getMeshRenderSharedMaterialDissolveTilingOffset=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.dissolveTilingOffset.elements:null:$ppe.meshRender.sharedMaterial.dissolveTilingOffset.elements},$ppn._setMeshRenderSharedMaterialDissolveTilingOffset=function($ppt,$ppe,$ppi){var $ppn,$ppr;$ppt?($ppt=$ppt.transform._entity)&&(($ppr=($ppn=$ppt.owner.meshRender.material).dissolveTilingOffset).elements=$ppi,$ppn.dissolveTilingOffset=$ppr):(($ppr=($ppn=$ppe.meshRender.material).dissolveTilingOffset).elements=$ppi,$ppn.dissolveTilingOffset=$ppr)},$ppn._getMeshRenderSharedMaterialMaskTilingOffset=function($ppt,$ppe){return $ppt?($ppt=$ppt.transform._entity)?$ppt.owner.meshRender.sharedMaterial.maskTilingOffset.elements:null:$ppe.meshRender.sharedMaterial.maskTilingOffset.elements},$ppn._setMeshRenderSharedMaterialMaskTilingOffset=function($ppt,$ppe,$ppi){var $ppn,$ppr;$ppt?($ppt=$ppt.transform._entity)&&(($ppr=($ppn=$ppt.owner.meshRender.material).maskTilingOffset).elements=$ppi,$ppn.maskTilingOffset=$ppr):(($ppr=($ppn=$ppe.meshRender.material).maskTilingOffset).elements=$ppi,$ppn.maskTilingOffset=$ppr)},$ppn._propertyIDCounter=0,$ppn._propertyIndexDic={},$ppn._propertySetFuncs=[],$ppn._propertyGetFuncs=[];var $ppW=$ppn;function $ppn(){this._childs=[],this.transform=new $ppkn(this)}$ppt($ppY,"laya.d3.animation.Keyframe");var $ppG=$ppY;function $ppY(){this.startTime=NaN,this.inTangent=null,this.outTangent=null,this.data=null,this.duration=NaN,this.next=null}$ppt($ppj,"laya.d3.animation.KeyframeNode");var $ppX=$ppj;function $ppj(){this._cacheProperty=!1,this.path=null,this.componentType=null,this.propertyNameID=0,this.keyFrameWidth=0,this.defaultData=null,this.keyFrames=null}$ppt($ppK,"laya.d3.core.glitter.SplineCurvePositionVelocity"),($ppr=$ppK.prototype).Init=function($ppt,$ppe,$ppi,$ppn){$ppt.cloneTo(this._d),$ppe.cloneTo(this._c),$ppD.scale($ppt,2,this._a),$ppD.scale($ppi,2,this._tempVector30),$ppD.subtract(this._a,this._tempVector30,this._a),$ppD.add(this._a,$ppe,this._a),$ppD.add(this._a,$ppn,this._a),$ppD.scale($ppi,3,this._b),$ppD.scale($ppt,3,this._tempVector30),$ppD.subtract(this._b,this._tempVector30,this._b),$ppD.subtract(this._b,$ppn,this._b),$ppD.scale($ppe,2,this._tempVector30),$ppD.subtract(this._b,this._tempVector30,this._b)},$ppr.Slerp=function($ppt,$ppe){$ppD.scale(this._a,$ppt*$ppt*$ppt,this._tempVector30),$ppD.scale(this._b,$ppt*$ppt,this._tempVector31),$ppD.scale(this._c,$ppt,this._tempVector32),$ppD.add(this._tempVector30,this._tempVector31,$ppe),$ppD.add($ppe,this._tempVector32,$ppe),$ppD.add($ppe,this._d,$ppe)};function $ppK(){this._tempVector30=new $ppD,this._tempVector31=new $ppD,this._tempVector32=new $ppD,this._a=new $ppD,this._b=new $ppD,this._c=new $ppD,this._d=new $ppD}$ppt($ppq,"laya.d3.core.HeightMap"),($ppr=$ppq.prototype)._inBounds=function($ppt,$ppe){return 0<=$ppt&&$ppt<this._h&&0<=$ppe&&$ppe<this._w},$ppr.getHeight=function($ppt,$ppe){return this._inBounds($ppt,$ppe)?this._datas[$ppt][$ppe]:NaN},$ppe(0,$ppr,"width",function(){return this._w}),$ppe(0,$ppr,"height",function(){return this._h}),$ppe(0,$ppr,"maxHeight",function(){return this._maxHeight}),$ppe(0,$ppr,"minHeight",function(){return this._minHeight}),$ppq.creatFromMesh=function($ppt,$ppc,$ppu,$pp_){var $ppd=[];var $ppf=[];var $ppp=$ppt.getSubMeshCount();for(var $ppm=0;$ppm<$ppp;$ppm++){var $ppe=$ppt.getSubMesh($ppm);var $ppg=$ppe._getVertexBuffer();var $ppi=$ppg.getData();var $ppv=[];for(var $ppn=0;$ppn<$ppi.length;$ppn+=$ppg.vertexDeclaration.vertexStride/4){var $ppy=new $ppD($ppi[$ppn+0],$ppi[$ppn+1],$ppi[$ppn+2]);$ppv.push($ppy)}$ppd.push($ppv);$ppe=$ppe._getIndexBuffer();$ppf.push($ppe.getData())}var $ppr=$ppt.boundingBox;var $ppx=$ppr.min.x;var $ppw=$ppr.min.z;var $pps=$ppr.max.x;var $ppb=$ppr.max.z;var $ppT=$ppr.min.y;$ppr=$ppr.max.y;$ppb-=$ppw;var $ppS=$pp_.elements[0]=($pps-$ppx)/($ppc-1);var $ppC=$pp_.elements[1]=$ppb/($ppu-1);var $ppM=new $ppq($ppc,$ppu,$ppT,$ppr);var $ppa=$ppq._tempRay;$pps=$ppa.direction.elements;$pps[0]=0,$pps[1]=-1,$pps[2]=0;var $ppE=$ppr+.1;$ppa.origin.elements[1]=$ppE;for(var $ppo=0;$ppo<$ppu;$ppo++){var $ppA=$ppw+$ppo*$ppC;$ppM._datas[$ppo]=[];for(var $pph=0;$pph<$ppc;$pph++){var $ppl=$ppa.origin.elements;$ppl[0]=$ppx+$pph*$ppS,$ppl[2]=$ppA;$ppl=$ppq._getPosition($ppa,$ppd,$ppf);$ppM._datas[$ppo][$pph]=$ppl===Number.MAX_VALUE?NaN:$ppE-$ppl}}return $ppM},$ppq.createFromImage=function($ppt,$ppe,$ppi){var $ppn=$ppt.width;var $ppr=$ppt.height;var $pps=new $ppq($ppn,$ppr,$ppe,$ppi);var $ppc=($ppi-$ppe)/254;var $ppa=$ppt.getPixels();var $ppo=0;for(var $pph=0;$pph<$ppr;$pph++){var $ppu=$pps._datas[$pph]=[];for(var $ppl=0;$ppl<$ppn;$ppl++){var $pp_=$ppa[$ppo++];var $ppd=$ppa[$ppo++];var $ppf=$ppa[$ppo++];var $ppp=$ppa[$ppo++];$ppu[$ppl]=255==$pp_&&255==$ppd&&255==$ppf&&255==$ppp?NaN:($pp_+$ppd+$ppf)/3*$ppc+$ppe}}return $pps},$ppq._getPosition=function($ppt,$ppe,$ppi){var $ppn=Number.MAX_VALUE;for(var $ppr=0;$ppr<$ppe.length;$ppr++){var $pps=$ppe[$ppr];var $ppa=$ppi[$ppr];for(var $ppo=0;$ppo<$ppa.length;$ppo+=3){var $pph=$pps[$ppa[$ppo+0]];var $ppl=$pps[$ppa[$ppo+1]];var $ppc=$pps[$ppa[$ppo+2]];$pph=$ppRn.rayIntersectsTriangle($ppt,$pph,$ppl,$ppc);!isNaN($pph)&&$pph<$ppn&&($ppn=$pph)}}return $ppn},$ppl($ppq,["_tempRay",function(){return this._tempRay=new $ppln(new $ppD,new $ppD)}]);function $ppq($ppt,$ppe,$ppi,$ppn){this._datas=null,this._w=0,this._h=0,this._minHeight=NaN,this._maxHeight=NaN,this._datas=[],this._w=$ppt,this._h=$ppe,this._minHeight=$ppi,this._maxHeight=$ppn}$ppt($ppZ,"laya.d3.core.Layer"),($ppr=$ppZ.prototype)._binarySearchIndex=function(){var $ppt=0;var $ppe=$ppZ._collsionTestList.length-1;var $ppi;for(;$ppt<=$ppe;){$ppi=Math.floor(($ppt+$ppe)/2);var $ppn=$ppZ._collsionTestList[$ppi];if($ppn==this._number)return $ppi;$ppn>this._number?$ppe=$ppi-1:$ppt=$ppi+1}return $ppt},$ppr._addCollider=function($ppt){0===this._colliders.length&&$ppZ._collsionTestList.splice(this._binarySearchIndex(),0,this._number),$ppt._isRigidbody?(this._colliders.unshift($ppt),this._nonRigidbodyOffset++):this._colliders.push($ppt)},$ppr._removeCollider=function($ppt){$ppt=this._colliders.indexOf($ppt);$ppt<this._nonRigidbodyOffset&&this._nonRigidbodyOffset--,this._colliders.splice($ppt,1),0===this._colliders.length&&$ppZ._collsionTestList.splice($ppZ._collsionTestList.indexOf(this._number),1)},$ppe(0,$ppr,"number",function(){return this._number}),$ppe(0,$ppr,"visible",function(){return this._visible},function($ppt){this._visible=$ppt,$ppZ._visibleLayers=$ppt?$ppZ._visibleLayers|this.mask:$ppZ._visibleLayers&~this.mask}),$ppe(0,$ppr,"mask",function(){return this._mask}),$ppe(1,$ppZ,"visibleLayers",function(){return $ppZ._visibleLayers},function($ppt){$ppZ._visibleLayers=$ppt;for(var $ppe=0,$ppi=$ppZ._layerList.length;$ppe<$ppi;$ppe++){var $ppn=$ppZ._layerList[$ppe];$ppn._visible=0!=($ppn._mask&$ppZ._visibleLayers)}}),$ppZ.__init__=function(){$ppZ._layerList.length=31;for(var $ppt=0;$ppt<31;$ppt++){var $ppe=new $ppZ;$ppZ._layerList[$ppt]=$ppe,0===$ppt?($ppe.name="Default Layer",$ppe.visible=!0):($ppe.name="Layer-"+$ppt,$ppe.visible=!1),$ppe._number=$ppt,$ppe._mask=Math.pow(2,$ppt)}$ppZ.currentCreationLayer=$ppZ._layerList[0]},$ppZ.getLayerByNumber=function($ppt){if($ppt<0||30<$ppt)throw new Error("无法返回指定Layer，该number超出范围！");return $ppZ._layerList[$ppt]},$ppZ.getLayerByName=function($ppt){for(var $ppe=0;$ppe<31;$ppe++)if($ppZ._layerList[$ppe].name===$ppt)return $ppZ._layerList[$ppe];throw new Error("无法返回指定Layer,该name不存在")},$ppZ.isVisible=function($ppt){return 0!=($ppt&$ppZ._currentCameraCullingMask&$ppZ._visibleLayers)},$ppZ._layerList=[],$ppZ._visibleLayers=2147483647,$ppZ._collsionTestList=[],$ppZ._currentCameraCullingMask=2147483647,$ppZ.maxCount=31,$ppZ.currentCreationLayer=null;var $pp$=$ppZ;function $ppZ(){this._visible=!0,this._nonRigidbodyOffset=0,this._colliders=[]}$ppt($ppQ,"laya.d3.core.particleShuriKen.module.Burst"),$ppr=$ppQ.prototype,$pph.imps($ppr,{"laya.d3.core.IClone":!0}),$ppr.cloneTo=function($ppt){$ppt._time=this._time,$ppt._minCount=this._minCount,$ppt._maxCount=this._maxCount},$ppr.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppe(0,$ppr,"time",function(){return this._time}),$ppe(0,$ppr,"minCount",function(){return this._minCount}),$ppe(0,$ppr,"maxCount",function(){return this._maxCount});function $ppQ($ppt,$ppe,$ppi){this._time=NaN,this._minCount=0,this._maxCount=0,this._time=$ppt,this._minCount=$ppe,this._maxCount=$ppi}$ppt($ppJ,"laya.d3.core.particleShuriKen.module.ColorOverLifetime"),($ppr=$ppJ.prototype).cloneTo=function($ppt){this._color.cloneTo($ppt._color),$ppt.enbale=this.enbale},$ppr.clone=function(){var $ppt;switch(this._color.type){case 0:$ppt=$ppst.createByConstant(this._color.constant.clone());break;case 1:$ppt=$ppst.createByGradient(this._color.gradient.clone());break;case 2:$ppt=$ppst.createByRandomTwoConstant(this._color.constantMin.clone(),this._color.constantMax.clone());break;case 3:$ppt=$ppst.createByRandomTwoGradient(this._color.gradientMin.clone(),this._color.gradientMax.clone())}var $ppe=new this.constructor($ppt);return $ppe.enbale=this.enbale,$ppe},$ppe(0,$ppr,"color",function(){return this._color});function $ppJ($ppt){this._color=null,this.enbale=!1,this._color=$ppt}$ppt($pptt,"laya.d3.core.particleShuriKen.module.Emission"),$ppr=$pptt.prototype,$pph.imps($ppr,{"laya.d3.core.IClone":!0,"laya.resource.IDestroy":!0}),$ppr._destroy=function(){this._bursts=null,this._destroyed=!0},$ppr.getBurstsCount=function(){return this._bursts.length},$ppr.getBurstByIndex=function($ppt){return this._bursts[$ppt]},$ppr.addBurst=function($ppt){var $ppe=this._bursts.length;if(0<$ppe)for(var $ppi=0;$ppi<$ppe;$ppi++)this._bursts[$ppi].time>$ppt.time&&this._bursts.splice($ppi,0,$ppt);this._bursts.push($ppt)},$ppr.removeBurst=function($ppt){$ppt=this._bursts.indexOf($ppt);-1!==$ppt&&this._bursts.splice($ppt,1)},$ppr.removeBurstByIndex=function($ppt){this._bursts.splice($ppt,1)},$ppr.clearBurst=function(){this._bursts.length=0},$ppr.cloneTo=function($ppt){var $ppe=$ppt._bursts;$ppe.length=this._bursts.length;for(var $ppi=0,$ppn=this._bursts.length;$ppi<$ppn;$ppi++){var $ppr=$ppe[$ppi];$ppr?this._bursts[$ppi].cloneTo($ppr):$ppe[$ppi]=this._bursts[$ppi].clone()}$ppt._emissionRate=this._emissionRate,$ppt.enbale=this.enbale},$ppr.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppe(0,$ppr,"destroyed",function(){return this._destroyed}),$ppe(0,$ppr,"emissionRate",function(){return this._emissionRate},function($ppt){if($ppt<0)throw new Error("ParticleBaseShape:emissionRate value must large or equal than 0.");this._emissionRate=$ppt});function $pptt(){this._destroyed=!1,this._emissionRate=0,this._bursts=null,this.enbale=!1,this._destroyed=!1,this.emissionRate=10,this._bursts=[]}$ppt($ppit,"laya.d3.core.particleShuriKen.module.FrameOverTime"),$ppr=$ppit.prototype,$pph.imps($ppr,{"laya.d3.core.IClone":!0}),$ppr.cloneTo=function($ppt){$ppt._type=this._type,$ppt._constant=this._constant,this._overTime.cloneTo($ppt._overTime),$ppt._constantMin=this._constantMin,$ppt._constantMax=this._constantMax,this._overTimeMin.cloneTo($ppt._overTimeMin),this._overTimeMax.cloneTo($ppt._overTimeMax)},$ppr.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppe(0,$ppr,"frameOverTimeData",function(){return this._overTime}),$ppe(0,$ppr,"constant",function(){return this._constant}),$ppe(0,$ppr,"type",function(){return this._type}),$ppe(0,$ppr,"frameOverTimeDataMin",function(){return this._overTimeMin}),$ppe(0,$ppr,"constantMin",function(){return this._constantMin}),$ppe(0,$ppr,"frameOverTimeDataMax",function(){return this._overTimeMax}),$ppe(0,$ppr,"constantMax",function(){return this._constantMax}),$ppit.createByConstant=function($ppt){var $ppe=new $ppit;return $ppe._type=0,$ppe._constant=$ppt,$ppe},$ppit.createByOverTime=function($ppt){var $ppe=new $ppit;return $ppe._type=1,$ppe._overTime=$ppt,$ppe},$ppit.createByRandomTwoConstant=function($ppt,$ppe){var $ppi=new $ppit;return $ppi._type=2,$ppi._constantMin=$ppt,$ppi._constantMax=$ppe,$ppi},$ppit.createByRandomTwoOverTime=function($ppt,$ppe){var $ppi=new $ppit;return $ppi._type=3,$ppi._overTimeMin=$ppt,$ppi._overTimeMax=$ppe,$ppi};var $ppet=$ppit;function $ppit(){this._type=0,this._constant=0,this._overTime=null,this._constantMin=0,this._constantMax=0,this._overTimeMin=null,this._overTimeMax=null}$ppt($pprt,"laya.d3.core.particleShuriKen.module.GradientAngularVelocity"),$ppr=$pprt.prototype,$pph.imps($ppr,{"laya.d3.core.IClone":!0}),$ppr.cloneTo=function($ppt){$ppt._type=this._type,$ppt._separateAxes=this._separateAxes,$ppt._constant=this._constant,this._constantSeparate.cloneTo($ppt._constantSeparate),this._gradient.cloneTo($ppt._gradient),this._gradientX.cloneTo($ppt._gradientX),this._gradientY.cloneTo($ppt._gradientY),this._gradientZ.cloneTo($ppt._gradientZ),$ppt._constantMin=this._constantMin,$ppt._constantMax=this._constantMax,this._constantMinSeparate.cloneTo($ppt._constantMinSeparate),this._constantMaxSeparate.cloneTo($ppt._constantMaxSeparate),this._gradientMin.cloneTo($ppt._gradientMin),this._gradientMax.cloneTo($ppt._gradientMax),this._gradientXMin.cloneTo($ppt._gradientXMin),this._gradientXMax.cloneTo($ppt._gradientXMax),this._gradientYMin.cloneTo($ppt._gradientYMin),this._gradientYMax.cloneTo($ppt._gradientYMax),this._gradientZMin.cloneTo($ppt._gradientZMin),this._gradientZMax.cloneTo($ppt._gradientZMax)},$ppr.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppe(0,$ppr,"gradientZ",function(){return this._gradientZ}),$ppe(0,$ppr,"constant",function(){return this._constant}),$ppe(0,$ppr,"gradient",function(){return this._gradient}),$ppe(0,$ppr,"separateAxes",function(){return this._separateAxes}),$ppe(0,$ppr,"type",function(){return this._type}),$ppe(0,$ppr,"constantSeparate",function(){return this._constantSeparate}),$ppe(0,$ppr,"gradientX",function(){return this._gradientX}),$ppe(0,$ppr,"gradientY",function(){return this._gradientY}),$ppe(0,$ppr,"gradientW",function(){return this._gradientW}),$ppe(0,$ppr,"gradientMin",function(){return this._gradientMin}),$ppe(0,$ppr,"constantMin",function(){return this._constantMin}),$ppe(0,$ppr,"gradientMax",function(){return this._gradientMax}),$ppe(0,$ppr,"constantMax",function(){return this._constantMax}),$ppe(0,$ppr,"gradientWMin",function(){return this._gradientWMin}),$ppe(0,$ppr,"constantMinSeparate",function(){return this._constantMinSeparate}),$ppe(0,$ppr,"constantMaxSeparate",function(){return this._constantMaxSeparate}),$ppe(0,$ppr,"gradientXMin",function(){return this._gradientXMin}),$ppe(0,$ppr,"gradientXMax",function(){return this._gradientXMax}),$ppe(0,$ppr,"gradientWMax",function(){return this._gradientWMax}),$ppe(0,$ppr,"gradientYMin",function(){return this._gradientYMin}),$ppe(0,$ppr,"gradientYMax",function(){return this._gradientYMax}),$ppe(0,$ppr,"gradientZMin",function(){return this._gradientZMin}),$ppe(0,$ppr,"gradientZMax",function(){return this._gradientZMax}),$pprt.createByConstant=function($ppt){var $ppe=new $pprt;return $ppe._type=0,$ppe._separateAxes=!1,$ppe._constant=$ppt,$ppe},$pprt.createByConstantSeparate=function($ppt){var $ppe=new $pprt;return $ppe._type=0,$ppe._separateAxes=!0,$ppe._constantSeparate=$ppt,$ppe},$pprt.createByGradient=function($ppt){var $ppe=new $pprt;return $ppe._type=1,$ppe._separateAxes=!1,$ppe._gradient=$ppt,$ppe},$pprt.createByGradientSeparate=function($ppt,$ppe,$ppi,$ppn){var $ppr=new $pprt;return $ppr._type=1,$ppr._separateAxes=!0,$ppr._gradientX=$ppt,$ppr._gradientY=$ppe,$ppr._gradientZ=$ppi,$ppr._gradientW=$ppn,$ppr},$pprt.createByRandomTwoConstant=function($ppt,$ppe){var $ppi=new $pprt;return $ppi._type=2,$ppi._separateAxes=!1,$ppi._constantMin=$ppt,$ppi._constantMax=$ppe,$ppi},$pprt.createByRandomTwoConstantSeparate=function($ppt,$ppe){var $ppi=new $pprt;return $ppi._type=2,$ppi._separateAxes=!0,$ppi._constantMinSeparate=$ppt,$ppi._constantMaxSeparate=$ppe,$ppi},$pprt.createByRandomTwoGradient=function($ppt,$ppe){var $ppi=new $pprt;return $ppi._type=3,$ppi._separateAxes=!1,$ppi._gradientMin=$ppt,$ppi._gradientMax=$ppe,$ppi},$pprt.createByRandomTwoGradientSeparate=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){var $pph=new $pprt;return $pph._type=3,$pph._separateAxes=!0,$pph._gradientXMin=$ppt,$pph._gradientXMax=$ppe,$pph._gradientYMin=$ppi,$pph._gradientYMax=$ppn,$pph._gradientZMin=$ppr,$pph._gradientZMax=$pps,$pph._gradientWMin=$ppa,$pph._gradientWMax=$ppo,$pph};var $ppnt=$pprt;function $pprt(){this._type=0,this._separateAxes=!1,this._constant=NaN,this._constantSeparate=null,this._gradient=null,this._gradientX=null,this._gradientY=null,this._gradientZ=null,this._gradientW=null,this._constantMin=NaN,this._constantMax=NaN,this._constantMinSeparate=null,this._constantMaxSeparate=null,this._gradientMin=null,this._gradientMax=null,this._gradientXMin=null,this._gradientXMax=null,this._gradientYMin=null,this._gradientYMax=null,this._gradientZMin=null,this._gradientZMax=null,this._gradientWMin=null,this._gradientWMax=null}$ppt($ppat,"laya.d3.core.particleShuriKen.module.GradientColor"),$ppr=$ppat.prototype,$pph.imps($ppr,{"laya.d3.core.IClone":!0}),$ppr.cloneTo=function($ppt){$ppt._type=this._type,this._constant.cloneTo($ppt._constant),this._constantMin.cloneTo($ppt._constantMin),this._constantMax.cloneTo($ppt._constantMax),this._gradient.cloneTo($ppt._gradient),this._gradientMin.cloneTo($ppt._gradientMin),this._gradientMax.cloneTo($ppt._gradientMax)},$ppr.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppe(0,$ppr,"gradient",function(){return this._gradient}),$ppe(0,$ppr,"constant",function(){return this._constant}),$ppe(0,$ppr,"type",function(){return this._type}),$ppe(0,$ppr,"gradientMin",function(){return this._gradientMin}),$ppe(0,$ppr,"constantMin",function(){return this._constantMin}),$ppe(0,$ppr,"gradientMax",function(){return this._gradientMax}),$ppe(0,$ppr,"constantMax",function(){return this._constantMax}),$ppat.createByConstant=function($ppt){var $ppe=new $ppat;return $ppe._type=0,$ppe._constant=$ppt,$ppe},$ppat.createByGradient=function($ppt){var $ppe=new $ppat;return $ppe._type=1,$ppe._gradient=$ppt,$ppe},$ppat.createByRandomTwoConstant=function($ppt,$ppe){var $ppi=new $ppat;return $ppi._type=2,$ppi._constantMin=$ppt,$ppi._constantMax=$ppe,$ppi},$ppat.createByRandomTwoGradient=function($ppt,$ppe){var $ppi=new $ppat;return $ppi._type=3,$ppi._gradientMin=$ppt,$ppi._gradientMax=$ppe,$ppi};var $ppst=$ppat;function $ppat(){this._type=0,this._constant=null,this._constantMin=null,this._constantMax=null,this._gradient=null,this._gradientMin=null,this._gradientMax=null}$ppt($ppot,"laya.d3.core.particleShuriKen.module.GradientDataColor"),$ppr=$ppot.prototype,$pph.imps($ppr,{"laya.d3.core.IClone":!0}),$ppr.addAlpha=function($ppt,$ppe){this._alphaCurrentLength<8&&(6===this._alphaCurrentLength&&1!==$ppt&&($ppt=1),this._alphaElements[this._alphaCurrentLength++]=$ppt,this._alphaElements[this._alphaCurrentLength++]=$ppe)},$ppr.addRGB=function($ppt,$ppe){this._rgbCurrentLength<16&&(12===this._rgbCurrentLength&&1!==$ppt&&($ppt=1),this._rgbElements[this._rgbCurrentLength++]=$ppt,this._rgbElements[this._rgbCurrentLength++]=$ppe.x,this._rgbElements[this._rgbCurrentLength++]=$ppe.y,this._rgbElements[this._rgbCurrentLength++]=$ppe.z)},$ppr.cloneTo=function($ppt){var $ppe=0,$ppi=0;$ppt._alphaCurrentLength=this._alphaCurrentLength;var $ppn=$ppt._alphaElements;for($ppn.length=this._alphaElements.length,$ppe=0,$ppi=this._alphaElements.length;$ppe<$ppi;$ppe++)$ppn[$ppe]=this._alphaElements[$ppe];$ppt._rgbCurrentLength=this._rgbCurrentLength;var $ppr=$ppt._rgbElements;for($ppr.length=this._rgbElements.length,$ppe=0,$ppi=this._rgbElements.length;$ppe<$ppi;$ppe++)$ppr[$ppe]=this._rgbElements[$ppe]},$ppr.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppe(0,$ppr,"alphaGradientCount",function(){return this._alphaCurrentLength/2}),$ppe(0,$ppr,"rgbGradientCount",function(){return this._rgbCurrentLength/4});function $ppot(){this._alphaCurrentLength=0,this._rgbCurrentLength=0,this._alphaElements=null,this._rgbElements=null,this._alphaElements=new Float32Array(8),this._rgbElements=new Float32Array(16)}$ppt($ppht,"laya.d3.core.particleShuriKen.module.GradientDataInt"),$ppr=$ppht.prototype,$pph.imps($ppr,{"laya.d3.core.IClone":!0}),$ppr.add=function($ppt,$ppe){this._currentLength<8?(6===this._currentLength&&1!==$ppt&&($ppt=1,console.log("Warning:the forth key is  be force set to 1.")),this._elements[this._currentLength++]=$ppt,this._elements[this._currentLength++]=$ppe):console.log("Warning:data count must lessEqual than 4")},$ppr.cloneTo=function($ppt){$ppt._currentLength=this._currentLength;var $ppe=$ppt._elements;$ppe.length=this._elements.length;for(var $ppi=0,$ppn=this._elements.length;$ppi<$ppn;$ppi++)$ppe[$ppi]=this._elements[$ppi]},$ppr.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppe(0,$ppr,"gradientCount",function(){return this._currentLength/2});function $ppht(){this._currentLength=0,this._elements=null,this._elements=new Float32Array(8)}$ppt($pplt,"laya.d3.core.particleShuriKen.module.GradientDataNumber"),$ppr=$pplt.prototype,$pph.imps($ppr,{"laya.d3.core.IClone":!0}),$ppr.add=function($ppt,$ppe){this._currentLength<8&&(6===this._currentLength&&1!==$ppt&&($ppt=1),this._elements[this._currentLength++]=$ppt,this._elements[this._currentLength++]=$ppe)},$ppr.getKeyByIndex=function($ppt){return this._elements[2*$ppt]},$ppr.getValueByIndex=function($ppt){return this._elements[2*$ppt+1]},$ppr.getAverageValue=function(){for(var $ppt=0,$ppe=this._currentLength-2;$ppt<$ppe;$ppt+=2){var $ppi=this._elements[$ppt+1];($ppi+=this._elements[$ppt+3])*(this._elements[$ppt+2]-this._elements[$ppt])}return 0},$ppr.cloneTo=function($ppt){$ppt._currentLength=this._currentLength;var $ppe=$ppt._elements;$ppe.length=this._elements.length;for(var $ppi=0,$ppn=this._elements.length;$ppi<$ppn;$ppi++)$ppe[$ppi]=this._elements[$ppi]},$ppr.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppe(0,$ppr,"gradientCount",function(){return this._currentLength/2});function $pplt(){this._currentLength=0,this._elements=null,this._elements=new Float32Array(8)}$ppt($ppct,"laya.d3.core.particleShuriKen.module.GradientDataVector2"),$ppr=$ppct.prototype,$pph.imps($ppr,{"laya.d3.core.IClone":!0}),$ppr.add=function($ppt,$ppe){this._currentLength<8&&(6===this._currentLength&&1!==$ppt&&($ppt=1),this._elements[this._currentLength++]=$ppt,this._elements[this._currentLength++]=$ppe.x,this._elements[this._currentLength++]=$ppe.y)},$ppr.cloneTo=function($ppt){$ppt._currentLength=this._currentLength;var $ppe=$ppt._elements;$ppe.length=this._elements.length;for(var $ppi=0,$ppn=this._elements.length;$ppi<$ppn;$ppi++)$ppe[$ppi]=this._elements[$ppi]},$ppr.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppe(0,$ppr,"gradientCount",function(){return this._currentLength/3});function $ppct(){this._currentLength=0,this._elements=null,this._elements=new Float32Array(12)}$ppt($pp_t,"laya.d3.core.particleShuriKen.module.GradientSize"),$ppr=$pp_t.prototype,$pph.imps($ppr,{"laya.d3.core.IClone":!0}),$ppr.getMaxSizeInGradient=function(){var $ppt=0,$ppe=0;var $ppi=-Number.MAX_VALUE;switch(this._type){case 0:if(this._separateAxes){for($ppt=0,$ppe=this._gradientX.gradientCount;$ppt<$ppe;$ppt++)$ppi=Math.max($ppi,this._gradientX.getValueByIndex($ppt));for($ppt=0,$ppe=this._gradientY.gradientCount;$ppt<$ppe;$ppt++)$ppi=Math.max($ppi,this._gradientY.getValueByIndex($ppt))}else for($ppt=0,$ppe=this._gradient.gradientCount;$ppt<$ppe;$ppt++)$ppi=Math.max($ppi,this._gradient.getValueByIndex($ppt));break;case 1:$ppi=this._separateAxes?($ppi=Math.max(this._constantMinSeparate.x,this._constantMaxSeparate.x),$ppi=Math.max($ppi,this._constantMinSeparate.y),Math.max($ppi,this._constantMaxSeparate.y)):Math.max(this._constantMin,this._constantMax);break;case 2:if(this._separateAxes){for($ppt=0,$ppe=this._gradientXMin.gradientCount;$ppt<$ppe;$ppt++)$ppi=Math.max($ppi,this._gradientXMin.getValueByIndex($ppt));for($ppt=0,$ppe=this._gradientXMax.gradientCount;$ppt<$ppe;$ppt++)$ppi=Math.max($ppi,this._gradientXMax.getValueByIndex($ppt));for($ppt=0,$ppe=this._gradientYMin.gradientCount;$ppt<$ppe;$ppt++)$ppi=Math.max($ppi,this._gradientYMin.getValueByIndex($ppt));for($ppt=0,$ppe=this._gradientZMax.gradientCount;$ppt<$ppe;$ppt++)$ppi=Math.max($ppi,this._gradientZMax.getValueByIndex($ppt))}else{for($ppt=0,$ppe=this._gradientMin.gradientCount;$ppt<$ppe;$ppt++)$ppi=Math.max($ppi,this._gradientMin.getValueByIndex($ppt));for($ppt=0,$ppe=this._gradientMax.gradientCount;$ppt<$ppe;$ppt++)$ppi=Math.max($ppi,this._gradientMax.getValueByIndex($ppt))}}return $ppi},$ppr.cloneTo=function($ppt){$ppt._type=this._type,$ppt._separateAxes=this._separateAxes,this._gradient.cloneTo($ppt._gradient),this._gradientX.cloneTo($ppt._gradientX),this._gradientY.cloneTo($ppt._gradientY),this._gradientZ.cloneTo($ppt._gradientZ),$ppt._constantMin=this._constantMin,$ppt._constantMax=this._constantMax,this._constantMinSeparate.cloneTo($ppt._constantMinSeparate),this._constantMaxSeparate.cloneTo($ppt._constantMaxSeparate),this._gradientMin.cloneTo($ppt._gradientMin),this._gradientMax.cloneTo($ppt._gradientMax),this._gradientXMin.cloneTo($ppt._gradientXMin),this._gradientXMax.cloneTo($ppt._gradientXMax),this._gradientYMin.cloneTo($ppt._gradientYMin),this._gradientYMax.cloneTo($ppt._gradientYMax),this._gradientZMin.cloneTo($ppt._gradientZMin),this._gradientZMax.cloneTo($ppt._gradientZMax)},$ppr.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppe(0,$ppr,"gradientZ",function(){return this._gradientZ}),$ppe(0,$ppr,"gradient",function(){return this._gradient}),$ppe(0,$ppr,"separateAxes",function(){return this._separateAxes}),$ppe(0,$ppr,"type",function(){return this._type}),$ppe(0,$ppr,"gradientMin",function(){return this._gradientMin}),$ppe(0,$ppr,"constantMin",function(){return this._constantMin}),$ppe(0,$ppr,"gradientX",function(){return this._gradientX}),$ppe(0,$ppr,"gradientY",function(){return this._gradientY}),$ppe(0,$ppr,"gradientMax",function(){return this._gradientMax}),$ppe(0,$ppr,"constantMax",function(){return this._constantMax}),$ppe(0,$ppr,"constantMinSeparate",function(){return this._constantMinSeparate}),$ppe(0,$ppr,"constantMaxSeparate",function(){return this._constantMaxSeparate}),$ppe(0,$ppr,"gradientXMin",function(){return this._gradientXMin}),$ppe(0,$ppr,"gradientXMax",function(){return this._gradientXMax}),$ppe(0,$ppr,"gradientYMin",function(){return this._gradientYMin}),$ppe(0,$ppr,"gradientYMax",function(){return this._gradientYMax}),$ppe(0,$ppr,"gradientZMin",function(){return this._gradientZMin}),$ppe(0,$ppr,"gradientZMax",function(){return this._gradientZMax}),$pp_t.createByGradient=function($ppt){var $ppe=new $pp_t;return $ppe._type=0,$ppe._separateAxes=!1,$ppe._gradient=$ppt,$ppe},$pp_t.createByGradientSeparate=function($ppt,$ppe,$ppi){var $ppn=new $pp_t;return $ppn._type=0,$ppn._separateAxes=!0,$ppn._gradientX=$ppt,$ppn._gradientY=$ppe,$ppn._gradientZ=$ppi,$ppn},$pp_t.createByRandomTwoConstant=function($ppt,$ppe){var $ppi=new $pp_t;return $ppi._type=1,$ppi._separateAxes=!1,$ppi._constantMin=$ppt,$ppi._constantMax=$ppe,$ppi},$pp_t.createByRandomTwoConstantSeparate=function($ppt,$ppe){var $ppi=new $pp_t;return $ppi._type=1,$ppi._separateAxes=!0,$ppi._constantMinSeparate=$ppt,$ppi._constantMaxSeparate=$ppe,$ppi},$pp_t.createByRandomTwoGradient=function($ppt,$ppe){var $ppi=new $pp_t;return $ppi._type=2,$ppi._separateAxes=!1,$ppi._gradientMin=$ppt,$ppi._gradientMax=$ppe,$ppi},$pp_t.createByRandomTwoGradientSeparate=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){var $ppa=new $pp_t;return $ppa._type=2,$ppa._separateAxes=!0,$ppa._gradientXMin=$ppt,$ppa._gradientXMax=$ppe,$ppa._gradientYMin=$ppi,$ppa._gradientYMax=$ppn,$ppa._gradientZMin=$ppr,$ppa._gradientZMax=$pps,$ppa};var $pput=$pp_t;function $pp_t(){this._type=0,this._separateAxes=!1,this._gradient=null,this._gradientX=null,this._gradientY=null,this._gradientZ=null,this._constantMin=NaN,this._constantMax=NaN,this._constantMinSeparate=null,this._constantMaxSeparate=null,this._gradientMin=null,this._gradientMax=null,this._gradientXMin=null,this._gradientXMax=null,this._gradientYMin=null,this._gradientYMax=null,this._gradientZMin=null,this._gradientZMax=null}$ppt($ppft,"laya.d3.core.particleShuriKen.module.GradientVelocity"),$ppr=$ppft.prototype,$pph.imps($ppr,{"laya.d3.core.IClone":!0}),$ppr.cloneTo=function($ppt){$ppt._type=this._type,this._constant.cloneTo($ppt._constant),this._gradientX.cloneTo($ppt._gradientX),this._gradientY.cloneTo($ppt._gradientY),this._gradientZ.cloneTo($ppt._gradientZ),this._constantMin.cloneTo($ppt._constantMin),this._constantMax.cloneTo($ppt._constantMax),this._gradientXMin.cloneTo($ppt._gradientXMin),this._gradientXMax.cloneTo($ppt._gradientXMax),this._gradientYMin.cloneTo($ppt._gradientYMin),this._gradientYMax.cloneTo($ppt._gradientYMax),this._gradientZMin.cloneTo($ppt._gradientZMin),this._gradientZMax.cloneTo($ppt._gradientZMax)},$ppr.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppe(0,$ppr,"gradientZ",function(){return this._gradientZ}),$ppe(0,$ppr,"constant",function(){return this._constant}),$ppe(0,$ppr,"type",function(){return this._type}),$ppe(0,$ppr,"gradientXMax",function(){return this._gradientXMax}),$ppe(0,$ppr,"constantMin",function(){return this._constantMin}),$ppe(0,$ppr,"gradientX",function(){return this._gradientX}),$ppe(0,$ppr,"gradientY",function(){return this._gradientY}),$ppe(0,$ppr,"gradientXMin",function(){return this._gradientXMin}),$ppe(0,$ppr,"constantMax",function(){return this._constantMax}),$ppe(0,$ppr,"gradientYMin",function(){return this._gradientYMin}),$ppe(0,$ppr,"gradientYMax",function(){return this._gradientYMax}),$ppe(0,$ppr,"gradientZMin",function(){return this._gradientZMin}),$ppe(0,$ppr,"gradientZMax",function(){return this._gradientZMax}),$ppft.createByConstant=function($ppt){var $ppe=new $ppft;return $ppe._type=0,$ppe._constant=$ppt,$ppe},$ppft.createByGradient=function($ppt,$ppe,$ppi){var $ppn=new $ppft;return $ppn._type=1,$ppn._gradientX=$ppt,$ppn._gradientY=$ppe,$ppn._gradientZ=$ppi,$ppn},$ppft.createByRandomTwoConstant=function($ppt,$ppe){var $ppi=new $ppft;return $ppi._type=2,$ppi._constantMin=$ppt,$ppi._constantMax=$ppe,$ppi},$ppft.createByRandomTwoGradient=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){var $ppa=new $ppft;return $ppa._type=3,$ppa._gradientXMin=$ppt,$ppa._gradientXMax=$ppe,$ppa._gradientYMin=$ppi,$ppa._gradientYMax=$ppn,$ppa._gradientZMin=$ppr,$ppa._gradientZMax=$pps,$ppa};var $ppdt=$ppft;function $ppft(){this._type=0,this._constant=null,this._gradientX=null,this._gradientY=null,this._gradientZ=null,this._constantMin=null,this._constantMax=null,this._gradientXMin=null,this._gradientXMax=null,this._gradientYMin=null,this._gradientYMax=null,this._gradientZMin=null,this._gradientZMax=null}$ppt($pppt,"laya.d3.core.particleShuriKen.module.RotationOverLifetime"),$ppr=$pppt.prototype,$pph.imps($ppr,{"laya.d3.core.IClone":!0}),$ppr.cloneTo=function($ppt){this._angularVelocity.cloneTo($ppt._angularVelocity),$ppt.enbale=this.enbale},$ppr.clone=function(){var $ppt;switch(this._angularVelocity.type){case 0:$ppt=this._angularVelocity.separateAxes?$ppnt.createByConstantSeparate(this._angularVelocity.constantSeparate.clone()):$ppnt.createByConstant(this._angularVelocity.constant);break;case 1:$ppt=this._angularVelocity.separateAxes?$ppnt.createByGradientSeparate(this._angularVelocity.gradientX.clone(),this._angularVelocity.gradientY.clone(),this._angularVelocity.gradientZ.clone(),this._angularVelocity.gradientW.clone()):$ppnt.createByGradient(this._angularVelocity.gradient.clone());break;case 2:$ppt=this._angularVelocity.separateAxes?$ppnt.createByRandomTwoConstantSeparate(this._angularVelocity.constantMinSeparate.clone(),this._angularVelocity.constantMaxSeparate.clone()):$ppnt.createByRandomTwoConstant(this._angularVelocity.constantMin,this._angularVelocity.constantMax);break;case 3:$ppt=this._angularVelocity.separateAxes?$ppnt.createByRandomTwoGradientSeparate(this._angularVelocity.gradientXMin.clone(),this._angularVelocity.gradientYMin.clone(),this._angularVelocity.gradientZMin.clone(),this._angularVelocity.gradientWMin.clone(),this._angularVelocity.gradientXMax.clone(),this._angularVelocity.gradientYMax.clone(),this._angularVelocity.gradientZMax.clone(),this._angularVelocity.gradientWMax.clone()):$ppnt.createByRandomTwoGradient(this._angularVelocity.gradientMin.clone(),this._angularVelocity.gradientMax.clone())}var $ppe=new this.constructor($ppt);return $ppe.enbale=this.enbale,$ppe},$ppe(0,$ppr,"angularVelocity",function(){return this._angularVelocity});function $pppt($ppt){this._angularVelocity=null,this.enbale=!1,this._angularVelocity=$ppt}$ppt($ppmt,"laya.d3.core.particleShuriKen.module.shape.BaseShape"),$ppr=$ppmt.prototype,$pph.imps($ppr,{"laya.d3.core.IClone":!0}),$ppr._getShapeBoundBox=function($ppt){throw new Error("BaseShape: must override it.")},$ppr._getSpeedBoundBox=function($ppt){throw new Error("BaseShape: must override it.")},$ppr.generatePositionAndDirection=function($ppt,$ppe,$ppi,$ppn){throw new Error("BaseShape: must override it.")},$ppr._calculateProceduralBounds=function($ppt,$ppe,$ppi){this._getShapeBoundBox($ppt);var $ppn=$ppt.min;var $ppr=$ppt.max;$ppD.multiply($ppn,$ppe,$ppn),$ppD.multiply($ppr,$ppe,$ppr);$ppn=new $ppWi(new $ppD,new $ppD);this.randomDirection?($ppn.min=new $ppD(-1,-1,-1),$ppn.max=new $ppD(1,1,1)):this._getSpeedBoundBox($ppn);$ppe=new $ppWi(new $ppD,new $ppD);$ppr=$ppe.min;$ppe=$ppe.max;$ppD.scale($ppn.min,$ppi.y,$ppr),$ppD.scale($ppn.max,$ppi.y,$ppe),$ppD.add($ppt.min,$ppr,$ppr),$ppD.add($ppt.max,$ppe,$ppe),$ppD.min($ppt.min,$ppr,$ppt.min),$ppD.max($ppt.max,$ppr,$ppt.max);var $pps=new $ppWi(new $ppD,new $ppD);var $ppa=$pps.min;var $ppo=$pps.max;$ppD.scale($ppn.min,$ppi.x,$ppa),$ppD.scale($ppn.max,$ppi.x,$ppo),$ppD.min($pps.min,$ppo,$ppr),$ppD.max($pps.min,$ppo,$ppe),$ppD.min($ppt.min,$ppr,$ppt.min),$ppD.max($ppt.max,$ppr,$ppt.max)},$ppr.cloneTo=function($ppt){$ppt.enable=this.enable},$ppr.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt};$ppr=$ppmt;function $ppmt(){this.enable=!1,this.randomDirection=!1}$ppt($ppvt,"laya.d3.core.particleShuriKen.module.shape.ShapeUtils"),$ppvt._randomPointUnitArcCircle=function($ppt,$ppe,$ppi){$ppe=$ppe.elements;var $ppn=NaN;$ppn=$ppi?$ppi.getFloat()*$ppt:Math.random()*$ppt,$ppe[0]=Math.cos($ppn),$ppe[1]=Math.sin($ppn)},$ppvt._randomPointInsideUnitArcCircle=function($ppt,$ppe,$ppi){var $ppn=$ppe.elements;$ppvt._randomPointUnitArcCircle($ppt,$ppe,$ppi);$ppt=NaN;$ppt=$ppi?Math.pow($ppi.getFloat(),.5):Math.pow(Math.random(),.5),$ppn[0]=$ppn[0]*$ppt,$ppn[1]=$ppn[1]*$ppt},$ppvt._randomPointUnitCircle=function($ppt,$ppe){$ppt=$ppt.elements;var $ppi=NaN;$ppi=$ppe?$ppe.getFloat()*Math.PI*2:Math.random()*Math.PI*2,$ppt[0]=Math.cos($ppi),$ppt[1]=Math.sin($ppi)},$ppvt._randomPointInsideUnitCircle=function($ppt,$ppe){var $ppi=$ppt.elements;$ppvt._randomPointUnitCircle($ppt);$ppt=NaN;$ppt=$ppe?Math.pow($ppe.getFloat(),.5):Math.pow(Math.random(),.5),$ppi[0]=$ppi[0]*$ppt,$ppi[1]=$ppi[1]*$ppt},$ppvt._randomPointUnitSphere=function($ppt,$ppe){$ppt=$ppt.elements;var $ppi=NaN;var $ppn=NaN;$ppn=$ppe?($ppi=$ppt[2]=2*$ppe.getFloat()-1,$ppe.getFloat()*Math.PI*2):($ppi=$ppt[2]=2*Math.random()-1,Math.random()*Math.PI*2);$ppe=Math.sqrt(1-$ppi*$ppi);$ppt[0]=$ppe*Math.cos($ppn),$ppt[1]=$ppe*Math.sin($ppn)},$ppvt._randomPointInsideUnitSphere=function($ppt,$ppe){var $ppi=$ppt.elements;$ppvt._randomPointUnitSphere($ppt);$ppt=NaN;$ppt=$ppe?Math.pow($ppe.getFloat(),1/3):Math.pow(Math.random(),1/3),$ppi[0]=$ppi[0]*$ppt,$ppi[1]=$ppi[1]*$ppt,$ppi[2]=$ppi[2]*$ppt},$ppvt._randomPointInsideHalfUnitBox=function($ppt,$ppe){$ppt=$ppt.elements;$ppe?($ppt[0]=$ppe.getFloat()-.5,$ppt[1]=$ppe.getFloat()-.5,$ppt[2]=$ppe.getFloat()-.5):($ppt[0]=Math.random()-.5,$ppt[1]=Math.random()-.5,$ppt[2]=Math.random()-.5)};var $ppgt=$ppvt;function $ppvt(){}$ppt($ppyt,"laya.d3.core.particleShuriKen.module.SizeOverLifetime"),$pps=$ppyt.prototype,$pph.imps($pps,{"laya.d3.core.IClone":!0}),$pps.cloneTo=function($ppt){this._size.cloneTo($ppt._size),$ppt.enbale=this.enbale},$pps.clone=function(){var $ppt;switch(this._size.type){case 0:$ppt=this._size.separateAxes?$pput.createByGradientSeparate(this._size.gradientX.clone(),this._size.gradientY.clone(),this._size.gradientZ.clone()):$pput.createByGradient(this._size.gradient.clone());break;case 1:$ppt=this._size.separateAxes?$pput.createByRandomTwoConstantSeparate(this._size.constantMinSeparate.clone(),this._size.constantMaxSeparate.clone()):$pput.createByRandomTwoConstant(this._size.constantMin,this._size.constantMax);break;case 2:$ppt=this._size.separateAxes?$pput.createByRandomTwoGradientSeparate(this._size.gradientXMin.clone(),this._size.gradientYMin.clone(),this._size.gradientZMin.clone(),this._size.gradientXMax.clone(),this._size.gradientYMax.clone(),this._size.gradientZMax.clone()):$pput.createByRandomTwoGradient(this._size.gradientMin.clone(),this._size.gradientMax.clone())}var $ppe=new this.constructor($ppt);return $ppe.enbale=this.enbale,$ppe},$ppe(0,$pps,"size",function(){return this._size});function $ppyt($ppt){this._size=null,this.enbale=!1,this._size=$ppt}$ppt($ppwt,"laya.d3.core.particleShuriKen.module.StartFrame"),$pps=$ppwt.prototype,$pph.imps($pps,{"laya.d3.core.IClone":!0}),$pps.cloneTo=function($ppt){$ppt._type=this._type,$ppt._constant=this._constant,$ppt._constantMin=this._constantMin,$ppt._constantMax=this._constantMax},$pps.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppe(0,$pps,"constant",function(){return this._constant}),$ppe(0,$pps,"type",function(){return this._type}),$ppe(0,$pps,"constantMin",function(){return this._constantMin}),$ppe(0,$pps,"constantMax",function(){return this._constantMax}),$ppwt.createByConstant=function($ppt){var $ppe=new $ppwt;return $ppe._type=0,$ppe._constant=$ppt,$ppe},$ppwt.createByRandomTwoConstant=function($ppt,$ppe){var $ppi=new $ppwt;return $ppi._type=1,$ppi._constantMin=$ppt,$ppi._constantMax=$ppe,$ppi};var $ppxt=$ppwt;function $ppwt(){this._type=0,this._constant=NaN,this._constantMin=NaN,this._constantMax=NaN}$ppt($ppbt,"laya.d3.core.particleShuriKen.module.TextureSheetAnimation"),$pps=$ppbt.prototype,$pph.imps($pps,{"laya.d3.core.IClone":!0}),$pps.cloneTo=function($ppt){this.tiles.cloneTo($ppt.tiles),$ppt.type=this.type,$ppt.randomRow=this.randomRow,this._frame.cloneTo($ppt._frame),this._startFrame.cloneTo($ppt._startFrame),$ppt.cycles=this.cycles,$ppt.enableUVChannels=this.enableUVChannels,$ppt.enable=this.enable},$pps.clone=function(){var $ppt;switch(this._frame.type){case 0:$ppt=$ppet.createByConstant(this._frame.constant);break;case 1:$ppt=$ppet.createByOverTime(this._frame.frameOverTimeData.clone());break;case 2:$ppt=$ppet.createByRandomTwoConstant(this._frame.constantMin,this._frame.constantMax);break;case 3:$ppt=$ppet.createByRandomTwoOverTime(this._frame.frameOverTimeDataMin.clone(),this._frame.frameOverTimeDataMax.clone())}var $ppe;switch(this._startFrame.type){case 0:$ppe=$ppxt.createByConstant(this._startFrame.constant);break;case 1:$ppe=$ppxt.createByRandomTwoConstant(this._startFrame.constantMin,this._startFrame.constantMax)}var $ppi=new this.constructor($ppt,$ppe);return this.tiles.cloneTo($ppi.tiles),$ppi.type=this.type,$ppi.randomRow=this.randomRow,$ppi.cycles=this.cycles,$ppi.enableUVChannels=this.enableUVChannels,$ppi.enable=this.enable,$ppi},$ppe(0,$pps,"frame",function(){return this._frame}),$ppe(0,$pps,"startFrame",function(){return this._startFrame});function $ppbt($ppt,$ppe){this._frame=null,this._startFrame=null,this.tiles=null,this.type=0,this.randomRow=!1,this.rowIndex=0,this.cycles=0,this.enableUVChannels=0,this.enable=!1,this.tiles=new $ppun(1,1),this.type=0,this.randomRow=!0,this.rowIndex=0,this.cycles=1,this.enableUVChannels=1,this._frame=$ppt,this._startFrame=$ppe}$ppt($ppTt,"laya.d3.core.particleShuriKen.module.VelocityOverLifetime"),$pps=$ppTt.prototype,$pph.imps($pps,{"laya.d3.core.IClone":!0}),$pps.cloneTo=function($ppt){this._velocity.cloneTo($ppt._velocity),$ppt.enbale=this.enbale,$ppt.space=this.space},$pps.clone=function(){var $ppt;switch(this._velocity.type){case 0:$ppt=$ppdt.createByConstant(this._velocity.constant.clone());break;case 1:$ppt=$ppdt.createByGradient(this._velocity.gradientX.clone(),this._velocity.gradientY.clone(),this._velocity.gradientZ.clone());break;case 2:$ppt=$ppdt.createByRandomTwoConstant(this._velocity.constantMin.clone(),this._velocity.constantMax.clone());break;case 3:$ppt=$ppdt.createByRandomTwoGradient(this._velocity.gradientXMin.clone(),this._velocity.gradientYMin.clone(),this._velocity.gradientZMin.clone(),this._velocity.gradientXMax.clone(),this._velocity.gradientYMax.clone(),this._velocity.gradientZMax.clone())}var $ppe=new this.constructor($ppt);return $ppe.enbale=this.enbale,$ppe.space=this.space,$ppe},$ppe(0,$pps,"velocity",function(){return this._velocity});function $ppTt($ppt){this._velocity=null,this.enbale=!1,this.space=0,this._velocity=$ppt}$ppt($ppCt,"laya.d3.core.PhasorSpriter3D"),($pps=$ppCt.prototype).line=function($ppt,$ppe,$ppi,$ppn){return this._hasBegun&&1===this._primitiveType||this.drawLinesException(),(this._posInVBData+2*this._floatSizePerVer>this._vbData.length||this._posInIBData+2>this._ibData.length)&&this.flush(),this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex($ppt.x,$ppt.y,$ppt.z,$ppe.x,$ppe.y,$ppe.z,$ppe.w),this.addVertex($ppi.x,$ppi.y,$ppi.z,$ppn.x,$ppn.y,$ppn.z,$ppn.w),this.addIndexes(this._tempUint0,this._tempUint0+1),this},$pps.circle=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){for(this._hasBegun&&1===this._primitiveType||this.drawLinesException(),this._tempUint0=2*$ppe,(this._posInVBData+this._tempUint0*this._floatSizePerVer>this._vbData.length||this._posInIBData+2*this._tempUint0>this._ibData.length)&&this.flush(),this._tempUint1=this._posInVBData/this._floatSizePerVer,this._tempNumver0=0,this._tempInt0=0;this._tempNumver0<6.2832;this._tempNumver0=this._tempNumver0+3.1416/$ppe,this._tempInt0++)this.addVertex(Math.sin(this._tempNumver0)*$ppt,Math.cos(this._tempNumver0)*$ppt,0,$ppi,$ppn,$ppr,$pps),0===this._tempInt0?this.addIndexes(this._tempUint1):this._tempInt0===this._tempUint0-1?(this._tempUint2=this._tempUint1+this._tempInt0,this.addIndexes(this._tempUint2,this._tempUint2,this._tempUint1)):(this._tempUint2=this._tempUint1+this._tempInt0,this.addIndexes(this._tempUint2,this._tempUint2));return this},$pps.plane=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph){return this._hasBegun&&4===this._primitiveType||this.drawTrianglesException(),(this._posInVBData+4*this._floatSizePerVer>this._vbData.length||this._posInIBData+6>this._ibData.length)&&this.flush(),this._tempNumver0=$ppn/2,this._tempNumver1=$ppr/2,this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex($ppt-this._tempNumver0,$ppe+this._tempNumver1,$ppi,$pps,$ppa,$ppo,$pph),this.addVertex($ppt+this._tempNumver0,$ppe+this._tempNumver1,$ppi,$pps,$ppa,$ppo,$pph),this.addVertex($ppt-this._tempNumver0,$ppe-this._tempNumver1,$ppi,$pps,$ppa,$ppo,$pph),this.addVertex($ppt+this._tempNumver0,$ppe-this._tempNumver1,$ppi,$pps,$ppa,$ppo,$pph),this._tempUint1=this._tempUint0+1,this._tempUint2=this._tempUint0+2,this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint2,this._tempUint2,this._tempUint1,this._tempUint0+3),this},$pps.box=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph,$ppl){return this._hasBegun&&4===this._primitiveType||this.drawTrianglesException(),(this._posInVBData+8*this._floatSizePerVer>this._vbData.length||this._posInIBData+36>this._ibData.length)&&this.flush(),this._tempNumver0=$ppn/2,this._tempNumver1=$ppr/2,this._tempNumver2=$pps/2,this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex($ppt-this._tempNumver0,$ppe+this._tempNumver1,$ppi+this._tempNumver2,$ppa,$ppo,$pph,$ppl),this.addVertex($ppt+this._tempNumver0,$ppe+this._tempNumver1,$ppi+this._tempNumver2,$ppa,$ppo,$pph,$ppl),this.addVertex($ppt-this._tempNumver0,$ppe-this._tempNumver1,$ppi+this._tempNumver2,$ppa,$ppo,$pph,$ppl),this.addVertex($ppt+this._tempNumver0,$ppe-this._tempNumver1,$ppi+this._tempNumver2,$ppa,$ppo,$pph,$ppl),this.addVertex($ppt+this._tempNumver0,$ppe+this._tempNumver1,$ppi-this._tempNumver2,$ppa,$ppo,$pph,$ppl),this.addVertex($ppt-this._tempNumver0,$ppe+this._tempNumver1,$ppi-this._tempNumver2,$ppa,$ppo,$pph,$ppl),this.addVertex($ppt+this._tempNumver0,$ppe-this._tempNumver1,$ppi-this._tempNumver2,$ppa,$ppo,$pph,$ppl),this.addVertex($ppt-this._tempNumver0,$ppe-this._tempNumver1,$ppi-this._tempNumver2,$ppa,$ppo,$pph,$ppl),this._tempUint1=this._tempUint0+1,this._tempUint2=this._tempUint0+2,this._tempUint3=this._tempUint0+3,this._tempUint4=this._tempUint0+4,this._tempUint5=this._tempUint0+5,this._tempUint6=this._tempUint0+6,this._tempUint7=this._tempUint0+7,this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint2,this._tempUint2,this._tempUint1,this._tempUint3,this._tempUint4,this._tempUint5,this._tempUint6,this._tempUint6,this._tempUint5,this._tempUint7,this._tempUint5,this._tempUint0,this._tempUint7,this._tempUint7,this._tempUint0,this._tempUint2,this._tempUint1,this._tempUint4,this._tempUint3,this._tempUint3,this._tempUint4,this._tempUint6,this._tempUint5,this._tempUint4,this._tempUint0,this._tempUint0,this._tempUint4,this._tempUint1,this._tempUint2,this._tempUint3,this._tempUint7,this._tempUint7,this._tempUint3,this._tempUint6),this},$pps.cone=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){for(this._hasBegun&&4===this._primitiveType||this.drawTrianglesException(),(this._posInVBData+(2*$ppi+2)*this._floatSizePerVer>this._vbData.length||this._posInIBData+6*$ppi>this._ibData.length)&&this.flush(),this._tempUint0=this._posInVBData,this._tempUint1=this._posInVBData/this._floatSizePerVer,this._tempNumver0=2*Math.PI/$ppi,this.addVertexIndex(0,$ppe,0,$ppn,$ppr,$pps,$ppa,this._tempUint0),this.addVertexIndex(0,0,0,$ppn,$ppr,$pps,$ppa,this._tempUint0+this._floatSizePerVer),this._tempInt0=2,this._tempNumver1=0,this._tempInt1=0;this._tempInt1<$ppi;this._tempInt1++)this._tempNumver2=Math.cos(this._tempNumver1),this._tempNumver3=Math.sin(this._tempNumver1),this.addVertexIndex($ppt*this._tempNumver2,0,$ppt*this._tempNumver3,$ppn,$ppr,$pps,$ppa,this._tempUint0+this._tempInt0*this._floatSizePerVer),this.addIndexes(this._tempUint1,this._tempUint1+this._tempInt0),this._tempInt1==$ppi-1?this.addIndexes(this._tempUint1+2):this.addIndexes(this._tempUint1+this._tempInt0+1),this.addVertexIndex($ppt*this._tempNumver2,0,$ppt*this._tempNumver3,$ppn,$ppr,$pps,$ppa,this._tempUint0+(this._tempInt0+$ppi)*this._floatSizePerVer),this.addIndexes(this._tempUint1+1),this._tempInt1==$ppi-1?this.addIndexes(this._tempUint1+$ppi+2):this.addIndexes(this._tempUint1+this._tempInt0+$ppi+1),this.addIndexes(this._tempUint1+this._tempInt0+$ppi),this._tempInt0++,this._tempNumver1+=this._tempNumver0;return this},$pps.boundingBoxLine=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph,$ppl){return this._hasBegun&&1===this._primitiveType||this.drawLinesException(),(this._posInVBData+8*this._floatSizePerVer>this._vbData.length||this._posInIBData+48>this._ibData.length)&&this.flush(),this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex($ppt,$ppr,$pps,$ppa,$ppo,$pph,$ppl),this.addVertex($ppn,$ppr,$pps,$ppa,$ppo,$pph,$ppl),this.addVertex($ppt,$ppe,$pps,$ppa,$ppo,$pph,$ppl),this.addVertex($ppn,$ppe,$pps,$ppa,$ppo,$pph,$ppl),this.addVertex($ppn,$ppr,$ppi,$ppa,$ppo,$pph,$ppl),this.addVertex($ppt,$ppr,$ppi,$ppa,$ppo,$pph,$ppl),this.addVertex($ppn,$ppe,$ppi,$ppa,$ppo,$pph,$ppl),this.addVertex($ppt,$ppe,$ppi,$ppa,$ppo,$pph,$ppl),this._tempUint1=this._tempUint0+1,this._tempUint2=this._tempUint0+2,this._tempUint3=this._tempUint0+3,this._tempUint4=this._tempUint0+4,this._tempUint5=this._tempUint0+5,this._tempUint6=this._tempUint0+6,this._tempUint7=this._tempUint0+7,this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint1,this._tempUint3,this._tempUint3,this._tempUint2,this._tempUint2,this._tempUint0,this._tempUint4,this._tempUint5,this._tempUint5,this._tempUint7,this._tempUint7,this._tempUint6,this._tempUint6,this._tempUint4,this._tempUint5,this._tempUint0,this._tempUint0,this._tempUint2,this._tempUint2,this._tempUint7,this._tempUint7,this._tempUint5,this._tempUint1,this._tempUint4,this._tempUint4,this._tempUint6,this._tempUint6,this._tempUint3,this._tempUint3,this._tempUint1,this._tempUint5,this._tempUint4,this._tempUint4,this._tempUint1,this._tempUint1,this._tempUint0,this._tempUint0,this._tempUint5,this._tempUint2,this._tempUint3,this._tempUint3,this._tempUint6,this._tempUint6,this._tempUint7,this._tempUint7,this._tempUint2),this},$pps.addVertex=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){return this._hasBegun||this.addVertexIndexException(),this._vbData[this._posInVBData]=$ppt,this._vbData[this._posInVBData+1]=$ppe,this._vbData[this._posInVBData+2]=$ppi,this._vbData[this._posInVBData+3]=$ppn,this._vbData[this._posInVBData+4]=$ppr,this._vbData[this._posInVBData+5]=$pps,this._vbData[this._posInVBData+6]=$ppa,this._posInVBData+=this._floatSizePerVer,this},$pps.addVertexIndex=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){return this._hasBegun||this.addVertexIndexException(),this._vbData[$ppo]=$ppt,this._vbData[$ppo+1]=$ppe,this._vbData[$ppo+2]=$ppi,this._vbData[$ppo+3]=$ppn,this._vbData[$ppo+4]=$ppr,this._vbData[$ppo+5]=$pps,this._vbData[$ppo+6]=$ppa,($ppo+=this._floatSizePerVer)>this._posInVBData&&(this._posInVBData=$ppo),this},$pps.addIndexes=function($ppt){var $ppe=arguments;this._hasBegun||this.addVertexIndexException();for(var $ppi=0;$ppi<$ppe.length;$ppi++)this._ibData[this._posInIBData]=$ppe[$ppi],this._posInIBData++;return this},$pps.begin=function($ppt,$ppe){return this._hasBegun&&this.beginException0(),1!==$ppt&&4!==$ppt&&this.beginException1(),this._primitiveType=$ppt,this._camera=$ppe,this._hasBegun=!0,this},$pps.end=function(){return this._hasBegun||this.endException(),this.flush(),this._hasBegun=!1,this},$pps.flush=function(){0!==this._posInVBData&&(this._ib.setData(this._ibData),this._vb.setData(this._vbData),this._vb._bind(),this._ib._bind(),this._shader=this._shaderCompile.withCompile(0,0,0),this._shader.bind(),this._shader.uploadAttributes($ppCt._vertexDeclaration.shaderValues.data,null),this._spriteShaderValue.setValue(1,this._camera.projectionViewMatrix.elements),this._shader.uploadSpriteUniforms(this._spriteShaderValue.data),$ppL.drawCall++,$ppF.mainContext.drawElements(this._primitiveType,this._posInIBData,5123,0),this._posInIBData=0,this._posInVBData=0)},$pps.addVertexIndexException=function(){throw new Error("请先调用begin()函数")},$pps.beginException0=function(){throw new Error("调用begin()前请确保已成功调用end()！")},$pps.beginException1=function(){throw new Error("只支持“LINES”和“TRIANGLES”两种基元！")},$pps.endException=function(){throw new Error("调用end()前请确保已成功调用begin()！")},$pps.drawLinesException=function(){throw new Error("您必须确保在此之前已调用begin()且使用“LINES”基元！")},$pps.drawTrianglesException=function(){throw new Error("您必须确保在此之前已调用begin()且使用“TRIANGLES”基元！")},$ppl($ppCt,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(28,[new $ppi(0,"vector3",0),new $ppi(12,"vector4",1)])}]);var $ppSt=$ppCt;function $ppCt(){this._tempInt0=0,this._tempInt1=0,this._tempUint0=0,this._tempUint1=0,this._tempUint2=0,this._tempUint3=0,this._tempUint4=0,this._tempUint5=0,this._tempUint6=0,this._tempUint7=0,this._tempNumver0=NaN,this._tempNumver1=NaN,this._tempNumver2=NaN,this._tempNumver3=NaN,this._floatSizePerVer=7,this._defaultBufferSize=600*this._floatSizePerVer,this._vb=null,this._posInVBData=0,this._ib=null,this._posInIBData=0,this._primitiveType=NaN,this._hasBegun=!1,this._numVertsPerPrimitive=0,this._camera=null,this._sharderNameID=0,this._shader=null,this._shaderCompile=null,this._vbData=new Float32Array(this._defaultBufferSize),this._ibData=new Uint16Array(this._defaultBufferSize),this._spriteShaderValue=new $ppSn,this._vb=$ppVr.create($ppCt._vertexDeclaration,this._defaultBufferSize/this._floatSizePerVer,35048),this._ib=$ppNr.create("ushort",this._defaultBufferSize,35048),this._sharderNameID=$ppIr.nameKey.getID("LINE"),this._shaderCompile=$ppar._preCompileShader[this._sharderNameID]}$ppt($ppEt,"laya.d3.core.render.RenderElement"),($pps=$ppEt.prototype).getDynamicBatchBakedVertexs=function($ppt){$ppt=this._renderObj._getVertexBuffer($ppt);var $ppe=$ppt.getData().slice();$ppt=$ppt.vertexDeclaration;var $ppi=$ppt.getVertexElementByUsage(0).offset/4;var $ppn=$ppt.getVertexElementByUsage(3).offset/4;var $ppr=this._sprite3D.transform;var $pps=$ppr.worldMatrix;var $ppa=$ppr.rotation;var $ppc=$ppt.vertexStride/4;for(var $ppo=0,$ppu=$ppe.length;$ppo<$ppu;$ppo+=$ppc){var $pph=$ppo+$ppi;var $ppl=$ppo+$ppn;$ppOn.transformVector3ArrayToVector3ArrayCoordinate($ppe,$pph,$pps,$ppe,$pph),$ppOn.transformVector3ArrayByQuat($ppe,$ppl,$ppa,$ppe,$ppl)}return $ppe},$pps.getBakedIndices=function(){return this._renderObj._getIndexBuffer().getData()},$pps._destroy=function(){this._staticBatch&&this._staticBatch._manager._garbageCollection(this)},$ppe(0,$pps,"id",function(){return this._id}),$ppe(0,$pps,"renderObj",function(){return this._renderObj},function($ppt){this._renderObj!==$ppt&&(this._renderObj=$ppt)}),$ppEt._uniqueIDCounter=0;var $ppMt=$ppEt;function $ppEt(){this._id=0,this._type=0,this._mainSortID=0,this._render=null,this._sprite3D=null,this._material=null,this._renderObj=null,this._staticBatch=null,this._tempBatchIndexStart=0,this._tempBatchIndexEnd=0,this._canDynamicBatch=!1,this._shaderValue=null,this._onPreRenderFunction=null,this._id=++$ppEt._uniqueIDCounter,this._canDynamicBatch=!0,this._shaderValue=new $ppSn}$ppt($ppDt,"laya.d3.core.render.RenderQueue"),($pps=$ppDt.prototype)._sortOpaqueFunc=function($ppt,$ppe){var $ppi;return $ppt._render&&$ppe._render?0==($ppi=$ppt._material.renderQueue-$ppe._material.renderQueue)?$ppt._render._distanceForSort-$ppe._render._distanceForSort:$ppi:0},$pps._sortAlphaFunc=function($ppt,$ppe){var $ppi;return $ppt._render&&$ppe._render?0==($ppi=$ppt._material.renderQueue-$ppe._material.renderQueue)?$ppe._render._distanceForSort-$ppt._render._distanceForSort:$ppi:0},$pps._begainRenderElement=function($ppt,$ppe,$ppi){return!!$ppe._beforeRender($ppt)},$pps._sortAlpha=function($ppt){$ppDt._cameraPosition=$ppt,this._finalElements.sort(this._sortAlphaFunc)},$pps._sortOpaque=function($ppt){$ppDt._cameraPosition=$ppt,this._finalElements.sort(this._sortOpaqueFunc)},$pps._preRender=function($ppt){this._finalElements=this._renderElements.concat(this._dynamicBatchCombineRenderElements)},$pps._render=function($ppt,$ppc){var $ppu=$ppL.loopCount;var $ppe=this._scene;var $ppi=$ppt.camera;$ppi.id;var $ppn;var $pp_,$ppd,$ppr;var $pps=!1;var $ppf,$ppp;for(var $ppm=0,$ppg=this._finalElements.length;$ppm<$ppg;$ppm++){var $ppa=this._finalElements[$ppm];var $ppo,$pph,$ppl;if(null!=$ppa._onPreRenderFunction&&$ppa._onPreRenderFunction.call($ppa._sprite3D,$ppt),0===$ppa._type){if($ppt.owner=$ppl=$ppa._sprite3D,$ppt.renderElement=$ppa,$ppl._preRenderUpdateComponents($ppt),$ppo=$ppa.renderObj,$pph=$ppa._material,this._begainRenderElement($ppt,$ppo,$pph)){if($ppn=$ppo._getVertexBuffers(),$ppd=($pp_=$ppo._getVertexBuffer(0)).vertexDeclaration,$pps=($ppr=$ppt._shader=$pph._getShader($ppe._shaderDefineValue,$ppd.shaderDefineValue,$ppl._shaderDefineValue)).bind()||$ppu!==$ppr._uploadLoopCount,$ppn){if($ppr._uploadVertexBuffer!==$ppn||$pps){for(var $ppv=0;$ppv<$ppn.length;$ppv++){var $ppy=$ppn[$ppv];$ppr.uploadAttributesX($ppy.vertexDeclaration.shaderValues.data,$ppy)}$ppr._uploadVertexBuffer=$ppn}}else $ppr._uploadVertexBuffer===$pp_&&!$pps||($ppr.uploadAttributes($ppd.shaderValues.data,null),$ppr._uploadVertexBuffer=$pp_);$ppr._uploadScene===$ppe&&!$pps||($ppr.uploadSceneUniforms($ppe._shaderValues.data),$ppr._uploadScene=$ppe),$ppi===$ppr._uploadCamera&&$ppr._uploadSprite3D===$ppl&&!$pps||($ppr.uploadSpriteUniforms($ppl._shaderValues.data),$ppr._uploadSprite3D=$ppl),$ppi===$ppr._uploadCamera&&!$pps||($ppr.uploadCameraUniforms($ppi._shaderValues.data),$ppr._uploadCamera=$ppi),$ppr._uploadMaterial===$pph&&!$pps||($pph._upload(),$ppr._uploadMaterial=$pph),$ppf!==$pph?($pph._setRenderStateBlendDepth(),$pph._setRenderStateFrontFace($ppc,$ppl.transform),$ppf=$pph,$ppp=$ppl):$ppp!==$ppl&&($pph._setRenderStateFrontFace($ppc,$ppl.transform),$ppp=$ppl),$ppo._render($ppt),$ppr._uploadLoopCount=$ppu}$ppl._postRenderUpdateComponents($ppt)}else 2===$ppa._type&&($ppa.renderObj,$ppt.owner=$ppl=$ppa._sprite3D,$ppt.renderElement=$ppa,$ppt._batchIndexStart=$ppa._tempBatchIndexStart,$ppt._batchIndexEnd=$ppa._tempBatchIndexEnd,$ppo=$ppa.renderObj,$pph=$ppa._material,this._begainRenderElement($ppt,$ppo,$pph)&&($ppd=($pp_=$ppo._getVertexBuffer(0)).vertexDeclaration,$pps=($ppr=$ppt._shader=$pph._getShader($ppe._shaderDefineValue,$ppd.shaderDefineValue,$ppl._shaderDefineValue)).bind()||$ppu!==$ppr._uploadLoopCount,$ppr._uploadVertexBuffer===$pp_&&!$pps||($ppr.uploadAttributes($ppd.shaderValues.data,null),$ppr._uploadVertexBuffer=$pp_),$ppr._uploadScene===$ppe&&!$pps||($ppr.uploadSceneUniforms($ppe._shaderValues.data),$ppr._uploadScene=$ppe),$ppi===$ppr._uploadCamera&&$ppr._uploadSprite3D===$ppl&&!$pps||($ppr.uploadSpriteUniforms($ppl._shaderValues.data),$ppr._uploadSprite3D=$ppl),$ppi===$ppr._uploadCamera&&!$pps||($ppr.uploadCameraUniforms($ppi._shaderValues.data),$ppr._uploadCamera=$ppi),$ppr._uploadMaterial===$pph&&!$pps||($pph._upload(),$ppr._uploadMaterial=$pph),$ppf!==$pph?($pph._setRenderStateBlendDepth(),$pph._setRenderStateFrontFace($ppc,$ppl.transform),$ppf=$pph,$ppp=$ppl):$ppp!==$ppl&&($pph._setRenderStateFrontFace($ppc,$ppl.transform),$ppp=$ppl),$ppo._render($ppt),$ppr._uploadLoopCount=$ppu))}},$pps._renderShadow=function($ppt,$ppc){var $ppu=$ppL.loopCount;var $pp_=this._scene;var $ppe=$ppt.camera;var $ppi,$ppn,$ppr;var $pps;var $ppd,$ppa;for(var $ppf=0,$ppp=this._finalElements.length;$ppf<$ppp;$ppf++){var $ppo=this._finalElements[$ppf];var $pph,$ppl;0===$ppo._type&&($ppt.owner=$ppl=$ppo._sprite3D,$ppc||$ppl._projectionViewWorldUpdateCamera===$ppe&&$ppl._projectionViewWorldUpdateLoopCount===$ppL.loopCount||($ppl._render._renderUpdate($ppt._projectionViewMatrix),$ppl._projectionViewWorldUpdateLoopCount=$ppL.loopCount,$ppl._projectionViewWorldUpdateCamera=$ppe),$ppt.renderElement=$ppo,$ppl._preRenderUpdateComponents($ppt),$pph=$ppo.renderObj,$ppo=$ppo._material,this._begainRenderElement($ppt,$pph,null)&&($ppn=($ppi=$pph._getVertexBuffer(0)).vertexDeclaration,$pps=($ppr=$ppt._shader=$ppo._getShader($pp_._shaderDefineValue,$ppn.shaderDefineValue,$ppl._shaderDefineValue)).bind()||$ppu!==$ppr._uploadLoopCount,$ppr._uploadVertexBuffer===$ppi&&!$pps||($ppr.uploadAttributes($ppn.shaderValues.data,null),$ppr._uploadVertexBuffer=$ppi),$ppe===$ppr._uploadCamera&&$ppr._uploadSprite3D===$ppl&&!$pps||($ppr.uploadSpriteUniforms($ppl._shaderValues.data),$ppr._uploadSprite3D=$ppl),$ppe===$ppr._uploadCamera&&!$pps||($ppr.uploadCameraUniforms($ppe._shaderValues.data),$ppr._uploadCamera=$ppe),$ppr._uploadMaterial===$ppo&&!$pps||($ppo._upload(),$ppr._uploadMaterial=$ppo),$ppr._uploadRenderElement,$ppd!==$ppo?($ppo._setRenderStateFrontFace(!1,$ppl.transform),$ppd=$ppo,$ppa=$ppl):$ppa!==$ppl&&($ppo._setRenderStateFrontFace(!1,$ppl.transform),$ppa=$ppl),$pph._render($ppt),$ppr._uploadLoopCount=$ppu),$ppl._postRenderUpdateComponents($ppt))}},$pps._clearRenderElements=function(){this._dynamicBatchCombineRenderElements.length=0,this._renderElements.length=0,this._needSort=!0},$pps._addRenderElement=function($ppt){this._renderElements.push($ppt),this._needSort=!0},$pps._addDynamicBatchElement=function($ppt){this._dynamicBatchCombineRenderElements.push($ppt)},$ppe(0,$pps,"id",function(){return this._id}),$ppDt._uniqueIDCounter=0,$ppDt._cameraPosition=null;var $ppAt=$ppDt;function $ppDt($ppt){this._id=0,this._needSort=!1,this._renderElements=null,this._renderableRenderObjects=null,this._dynamicBatchCombineRenderElements=null,this._finalElements=null,this._scene=null,this._id=++$ppDt._uniqueIDCounter,this._needSort=!1,this._scene=$ppt,this._renderElements=[],this._renderableRenderObjects=[],this._dynamicBatchCombineRenderElements=[]}$ppt($ppRt,"laya.d3.core.render.RenderState"),$ppRt.clientWidth=0,$ppRt.clientHeight=0;var $ppIt=$ppRt;function $ppRt(){this._staticBatch=null,this._batchIndexStart=0,this._batchIndexEnd=0,this._viewMatrix=null,this._projectionMatrix=null,this._projectionViewMatrix=null,this._viewport=null,this._shader=null,this.elapsedTime=NaN,this.scene=null,this.owner=null,this.renderElement=null,this.camera=null}$ppt($ppLt,"laya.d3.core.scene.OctreeNode"),$pps=$ppLt.prototype,$pph.imps($pps,{"laya.d3.core.scene.ITreeNode":!0}),$pps.init=function($ppt,$ppe){var $ppi=new $ppD;var $ppn=new $ppD;$ppD.scale($ppe,-.5,$ppi),$ppD.scale($ppe,.5,$ppn),$ppD.add($ppi,$ppt,$ppi),$ppD.add($ppn,$ppt,$ppn),this.exactBox=new $ppWi($ppi,$ppn),this.relaxBox=new $ppWi($ppi,$ppn)},$pps.addTreeNode=function($ppt){1===Collision.boxContainsBox(this._relaxBox,$ppt.boundingBox)?this.addNodeDown($ppt,0):this.addObject($ppt)},$pps.addChild=function($ppt){var $ppe=this._children[$ppt];var $ppi;return null==$ppe&&($ppe=new $ppLt(this._scene,this._currentDepth+1),(this._children[$ppt]=$ppe)._parent=this,$ppD.subtract(this._exactBox.max,this._exactBox.min,$ppLt.tempSize),$ppD.multiply($ppLt.tempSize,$ppLt._octreeSplit[$ppt],$ppLt.tempCenter),$ppD.add(this._exactBox.min,$ppLt.tempCenter,$ppLt.tempCenter),$ppD.scale($ppLt.tempSize,.25,$ppLt.tempSize),$ppt=new $ppD,$ppi=new $ppD,$ppD.subtract($ppLt.tempCenter,$ppLt.tempSize,$ppt),$ppD.add($ppLt.tempCenter,$ppLt.tempSize,$ppi),$ppe.exactBox=new $ppWi($ppt,$ppi),$ppD.scale($ppLt.tempSize,$ppLt.relax,$ppLt.tempSize),$ppt=new $ppD,$ppi=new $ppD,$ppD.subtract($ppLt.tempCenter,$ppLt.tempSize,$ppt),$ppD.add($ppLt.tempCenter,$ppLt.tempSize,$ppi),$ppe.relaxBox=new $ppWi($ppt,$ppi)),$ppe},$pps.addObject=function($ppt){($ppt._treeNode=this)._objects.push($ppt)},$pps.removeObject=function($ppt){if($ppt._treeNode!=this)return console.log("OctreeNode::removeObject error"),!1;$ppt=this._objects.indexOf($ppt);return-1!==$ppt&&(this._objects.splice($ppt,1),!0)},$pps.clearObject=function(){this._objects.length=0},$pps.addNodeUp=function($ppt,$ppe){this._parent&&1!==Collision.boxContainsBox(this._exactBox,$ppt.boundingBox)?this._parent.addNodeUp($ppt,$ppe-1):this.addNodeDown($ppt,$ppe)},$pps.addNodeDown=function($ppt,$ppe){var $ppi;$ppe<this._scene.treeLevel?($ppi=this.inChildIndex($ppt.boundingBoxCenter),$ppi=this.addChild($ppi),1===Collision.boxContainsBox($ppi._relaxBox,$ppt.boundingBox)?$ppi.addNodeDown($ppt,++$ppe):this.addObject($ppt)):this.addObject($ppt)},$pps.inChildIndex=function($ppt){return 4*($ppt.z<this._boundingBoxCenter.z?0:1)+2*($ppt.y<this._boundingBoxCenter.y?0:1)+($ppt.x<this._boundingBoxCenter.x?0:1)},$pps.updateObject=function($ppt){1===Collision.boxContainsBox(this._relaxBox,$ppt.boundingBox)?(this.removeObject($ppt),$ppt._treeNode=null,this.addNodeDown($ppt,this._currentDepth)):this._parent&&(this.removeObject($ppt),$ppt._treeNode=null,this._parent.addNodeUp($ppt,this._currentDepth-1))},$pps.cullingObjects=function($ppt,$ppe,$ppc,$ppi,$ppn){var $ppu,$pp_,$ppr=0,$pps=0;var $ppd=this._scene._dynamicBatchManager;for($ppr=0,$ppu=this._objects.length;$ppr<$ppu;$ppr++){var $ppa=this._objects[$ppr];if($pp$.isVisible($ppa._owner.layer.mask)&&$ppa.enable&&(!$ppe||($ppL.treeSpriteCollision+=1,0!==$ppt.containsBoundSphere($ppa.boundingSphere)))){$ppa._renderUpdate($ppn),$ppa._distanceForSort=$ppD.distance($ppa.boundingSphere.center,$ppi)+$ppa.sortingFudge;var $ppf=$ppa._renderElements;for($pps=0,$pp_=$ppf.length;$pps<$pp_;$pps++){var $ppo=$ppf[$pps];var $pph=$ppo._staticBatch;$pph&&$pph._material===$ppo._material?$pph._addBatchRenderElement($ppo):($pph=$ppo.renderObj).triangleCount<10&&1===$pph._vertexBufferCount&&$pph._getIndexBuffer()&&$ppo._material.renderQueue<2&&$ppo._canDynamicBatch&&!$ppa._owner.isStatic?$ppd._addPrepareRenderElement($ppo):this._scene.getRenderQueue($ppo._material.renderQueue)._addRenderElement($ppo)}}}for($ppr=0;$ppr<8;$ppr++){var $ppl=this._children[$ppr];if(null!=$ppl){var $ppp=$ppe;if($ppe){var $ppm=$ppt.containsBoundBox($ppl._relaxBox);if($ppL.treeNodeCollision+=1,0===$ppm)continue;$ppp=2===$ppm}$ppl.cullingObjects($ppt,$ppp,$ppc,$ppi,$ppn)}}},$pps.cullingShadowObjects=function($ppt,$ppe,$ppi,$ppc,$ppu){var $ppn,$ppr,$pps=0,$ppa=0;this._scene._dynamicBatchManager;for($pps=0,$ppn=this._objects.length;$pps<$ppn;$pps++){var $ppo=this._objects[$pps];if($ppo.castShadow&&$pp$.isVisible($ppo._owner.layer.mask)&&$ppo.enable&&(!$ppi||0!==$ppt[0].containsBoundSphere($ppo.boundingSphere)))for(var $pph=1,$pp_=$ppt.length;$pph<$pp_;$pph++){var $ppd=$ppe[$pph-1];if(0!==$ppt[$pph].containsBoundSphere($ppo.boundingSphere)){var $ppf=$ppo._renderElements;for($ppa=0,$ppr=$ppf.length;$ppa<$ppr;$ppa++)$ppd._addRenderElement($ppf[$ppa])}}}for($pps=0;$pps<8;$pps++){var $ppl=this._children[$pps];if(null!=$ppl){var $ppp=$ppi;if($ppi){var $ppm=$ppt[0].containsBoundBox($ppl._relaxBox);if(0===$ppm)continue;$ppp=2===$ppm}$ppl.cullingShadowObjects($ppt,$ppe,$ppp,$ppc,$ppu)}}},$pps.cullingShadowObjectsOnePSSM=function($ppt,$ppe,$ppi,$ppn,$ppc,$ppu){var $pp_=$ppe[0];var $ppr,$pps,$ppa=0,$ppo=0;for($ppa=0,$ppr=this._objects.length;$ppa<$ppr;$ppa++){var $pph=this._objects[$ppa];if($pph.castShadow&&$pp$.isVisible($pph._owner.layer.mask)&&$pph.enable&&(!$ppn||0!==$ppt.containsBoundSphere($pph.boundingSphere))){$pph._renderUpdate($ppi);var $ppd=$pph._renderElements;for($ppo=0,$pps=$ppd.length;$ppo<$pps;$ppo++)$pp_._addRenderElement($ppd[$ppo])}}for($ppa=0;$ppa<8;$ppa++){var $ppl=this._children[$ppa];if(null!=$ppl){var $ppf=$ppn;if($ppn){var $ppp=$ppt.containsBoundBox($ppl._relaxBox);if(0===$ppp)continue;$ppf=2===$ppp}$ppl.cullingShadowObjectsOnePSSM($ppt,$ppe,$ppi,$ppf,$ppc,$ppu)}}},$pps.renderBoudingBox=function($ppt){this._renderBoudingBox($ppt);for(var $ppe=0;$ppe<8;++$ppe){var $ppi=this._children[$ppe];$ppi&&$ppi.renderBoudingBox($ppt)}},$pps.buildAllChild=function($ppt){if($ppt<this._scene.treeLevel)for(var $ppe=0;$ppe<8;$ppe++)this.addChild($ppe).buildAllChild($ppt+1)},$pps._renderBoudingBox=function($ppt){},$ppe(0,$pps,"exactBox",function(){return this._exactBox},function($ppt){this._exactBox=$ppt,$ppD.add($ppt.min,$ppt.max,this._boundingBoxCenter),$ppD.scale(this._boundingBoxCenter,.5,this._boundingBoxCenter)}),$ppe(0,$pps,"relaxBox",function(){return this._relaxBox},function($ppt){(this._relaxBox=$ppt).getCorners(this._corners),$ppji.createfromPoints(this._corners,this._boundingSphere)}),$ppLt.debugMode=!1,$ppLt.relax=1.15,$ppLt.CHILDNUM=8,$ppl($ppLt,["tempVector0",function(){return this.tempVector0=new $ppD},"tempSize",function(){return this.tempSize=new $ppD},"tempCenter",function(){return this.tempCenter=new $ppD},"_octreeSplit",function(){return this._octreeSplit=[new $ppD(.25,.25,.25),new $ppD(.75,.25,.25),new $ppD(.25,.75,.25),new $ppD(.75,.75,.25),new $ppD(.25,.25,.75),new $ppD(.75,.25,.75),new $ppD(.25,.75,.75),new $ppD(.75,.75,.75)]}]);var $ppPt=$ppLt;function $ppLt($ppt,$ppe){this._exactBox=null,this._relaxBox=null,this._scene=null,this._parent=null,this._currentDepth=0,this._boundingSphere=new $ppji(new $ppD,0),this._corners=[new $ppD,new $ppD,new $ppD,new $ppD,new $ppD,new $ppD,new $ppD,new $ppD],this._boundingBoxCenter=new $ppD,this._children=$ppc(8),this._objects=[],this._tempBoundBoxCorners=[new $ppD,new $ppD,new $ppD,new $ppD,new $ppD,new $ppD,new $ppD,new $ppD],this._scene=$ppt,this._currentDepth=$ppe}$ppt($ppBt,"laya.d3.core.scene.SceneManager");function $ppBt(){}$ppt($ppOt,"laya.d3.core.trail.module.Color",null,"Color$1"),$ppOt.prototype.cloneTo=function($ppt){$ppt._r=this._r,$ppt._g=this._g,$ppt._b=this._b,$ppt._a=this._a},$ppl($ppOt,["RED",function(){return this.RED=new $ppOt(1,0,0,1)},"GREEN",function(){return this.GREEN=new $ppOt(0,1,0,1)},"BLUE",function(){return this.BLUE=new $ppOt(0,0,1,1)},"CYAN",function(){return this.CYAN=new $ppOt(0,1,1,1)},"YELLOW",function(){return this.YELLOW=new $ppOt(1,.92,.016,1)},"MAGENTA",function(){return this.MAGENTA=new $ppOt(1,0,1,1)},"GRAY",function(){return this.GRAY=new $ppOt(.5,.5,.5,1)},"WHITE",function(){return this.WHITE=new $ppOt(1,1,1,1)},"BLACK",function(){return this.BLACK=new $ppOt(0,0,0,1)}]);var $ppNt=$ppOt;function $ppOt($ppt,$ppe,$ppi,$ppn){this._r=NaN,this._g=NaN,this._b=NaN,this._a=NaN,void 0===$ppe&&($ppe=1),void 0===$ppi&&($ppi=1),void 0===$ppn&&($ppn=1),this._r=$ppt=void 0===$ppt?1:$ppt,this._g=$ppe,this._b=$ppi,this._a=$ppn}$ppt($ppFt,"laya.d3.core.trail.module.Gradient"),($pps=$ppFt.prototype).setKeys=function($ppt,$ppe){var $ppi;this._colorKeys=$ppt;for(var $ppn=this.index=0;$ppn<$ppt.length;$ppn++){var $ppr=($ppi=$ppt[$ppn]).color;this._colorKeyData[this.index++]=$ppr._r,this._colorKeyData[this.index++]=$ppr._g,this._colorKeyData[this.index++]=$ppr._b,this._colorKeyData[this.index++]=$ppi.time}var $pps;this._alphaKeys=$ppe;for(var $ppa=this.index=0;$ppa<$ppe.length;$ppa++)$pps=$ppe[$ppa],this._alphaKeyData[this.index++]=$pps.alpha,this._alphaKeyData[this.index++]=$pps.time},$pps.cloneTo=function($ppt){var $ppe=0,$ppi=0;var $ppn=this.colorKeys;var $ppr=[];for($ppe=0,$ppi=$ppn.length;$ppe<$ppi;$ppe++){var $pps=new $ppUt;$ppn[$ppe].cloneTo($pps),$ppr.push($pps)}var $ppa=this.alphaKeys;var $ppo=[];for($ppe=0,$ppi=$ppa.length;$ppe<$ppi;$ppe++){var $pph=new $ppVt;$ppa[$ppe].cloneTo($pph),$ppo.push($pph)}$ppt.setKeys($ppr,$ppo)},$ppe(0,$pps,"mode",function(){return this._mode},function($ppt){this._mode=$ppt}),$ppe(0,$pps,"colorKeys",function(){return this._colorKeys},function($ppt){this._colorKeys=$ppt;for(var $ppe=this.index=0;$ppe<$ppt.length;$ppe++){var $ppi=$ppt[$ppe];var $ppn=$ppi.color;this._colorKeyData[this.index++]=$ppn._r,this._colorKeyData[this.index++]=$ppn._g,this._colorKeyData[this.index++]=$ppn._b,this._colorKeyData[this.index++]=$ppi.time}}),$ppe(0,$pps,"alphaKeys",function(){return this._alphaKeys},function($ppt){this._alphaKeys=$ppt;for(var $ppe=this.index=0;$ppe<$ppt.length;$ppe++){var $ppi=$ppt[$ppe];this._alphaKeyData[this.index++]=$ppi.alpha,this._alphaKeyData[this.index++]=$ppi.time}});function $ppFt(){this._mode=0,this._colorKeys=null,this._alphaKeys=null,this.index=0,this._colorKeyData=new Float32Array(40),this._alphaKeyData=new Float32Array(20),this._colorKeys=[],this._alphaKeys=[]}$ppt($ppkt,"laya.d3.core.trail.module.GradientAlphaKey"),($pps=$ppkt.prototype).cloneTo=function($ppt){$ppt.alpha=this.alpha,$ppt.time=this.time},$ppe(0,$pps,"alpha",function(){return this._alpha},function($ppt){this._alpha=$ppt}),$ppe(0,$pps,"time",function(){return this._time},function($ppt){this._time=$ppt});var $ppVt=$ppkt;function $ppkt($ppt,$ppe){this._alpha=NaN,this._time=NaN,void 0===$ppe&&($ppe=0),this._alpha=$ppt=void 0===$ppt?0:$ppt,this._time=$ppe}$ppt($ppHt,"laya.d3.core.trail.module.GradientColorKey"),($pps=$ppHt.prototype).cloneTo=function($ppt){this.color.cloneTo($ppt.color),$ppt.time=this.time},$ppe(0,$pps,"color",function(){return this._color},function($ppt){this._color=$ppt}),$ppe(0,$pps,"time",function(){return this._time},function($ppt){this._time=$ppt});var $ppUt=$ppHt;function $ppHt($ppt,$ppe){this._color=null,this._time=NaN,void 0===$ppe&&($ppe=0),this._color=$ppt||new $ppNt,this._time=$ppe}$ppt($ppzt,"laya.d3.core.trail.module.GradientMode"),$ppzt.Blend=0,$ppzt.Fixed=1;function $ppzt(){}$ppt($ppWt,"laya.d3.core.trail.module.TextureMode"),$ppWt.Stretch=0,$ppWt.Tile=1;function $ppWt(){}$ppt($ppGt,"laya.d3.core.trail.module.TrailKeyFrame"),$ppGt.prototype.cloneTo=function($ppt){$ppt.time=this.time,$ppt.inTangent=this.inTangent,$ppt.outTangent=this.outTangent,$ppt.value=this.value};function $ppGt(){this.time=NaN,this.inTangent=NaN,this.outTangent=NaN,this.value=NaN}$ppt($ppYt,"laya.d3.core.trail.TrailRenderElement"),$pps=$ppYt.prototype,$pph.imps($pps,{"laya.d3.core.render.IRenderable":!0}),$pps._updateTrail=function(){this._everyAddVerticeCount1=0,this._isStart||this._addTrailByFirstPosition(this._lastPosition,this._curPosition),this._addTrailByNextPosition(this._curPosition),this._vertexBuffer1.setData(this._vertices1,this._verticesIndex1,this._verticesIndex1,this._everyAddVerticeCount1),this._verticesIndex1+=this._everyAddVerticeCount1,this._curPosition.cloneTo(this._lastPosition),2==this._virtualVerticesCount&&(this._verticesIndex1-=2*this._floatCountPerVertices1)},$pps._addTrailByFirstPosition=function($ppt,$ppe){$ppD.subtract($ppe,$ppt,this._delVector3),$ppD.cross(this._delVector3,this._camera.forward,this._pointAtoBVector3),$ppD.normalize(this._pointAtoBVector3,this._pointAtoBVector3),$ppD.scale(this._pointAtoBVector3,this._owner.widthMultiplier/2,this._pointAtoBVector3),this._updateVerticesByPosition($ppt),$ppt.cloneTo(this._lastFixedVertexPosition),this._verticesCount+=2,this._curtime=this._owner._hasLifeSubTrail?this._owner._curSubTrailFinishCurTime:this._owner._curtime,this._everyGroupVertexBirthTime.push(this._curtime),this._isStart=!0,this._owner._hasLifeSubTrail=!0},$pps._addTrailByNextPosition=function($ppt){$ppD.subtract($ppt,this._lastFixedVertexPosition,this._delVector3),$ppD.cross(this._delVector3,this._camera.forward,this._pointAtoBVector3),$ppD.normalize(this._pointAtoBVector3,this._pointAtoBVector3),$ppD.scale(this._pointAtoBVector3,this._owner.widthMultiplier/2,this._pointAtoBVector3),this._delLength=$ppD.scalarLength(this._delVector3),this._delLength-this._owner.minVertexDistance>=$pp$i.zeroTolerance?(this._owner._trailTotalLength+=this._delLength,this._owner._trailSupplementLength=0,this._updateVerticesByPosition($ppt),$ppt.cloneTo(this._lastFixedVertexPosition),this._verticesCount+=2,this._virtualVerticesCount=0,this._everyGroupVertexBirthTime.push(this._owner._curtime),this._verticesCount==this._maxVerticesCount&&this._onTrailRenderElementFinish()):(this._owner._trailSupplementLength=this._delLength,this._updateVerticesByPosition($ppt),this._virtualVerticesCount=2)},$pps._updateVerticesByPosition=function($ppt){this._pointe=$ppt.elements,this._pointAtoBVector3e=this._pointAtoBVector3.elements,this._curtime=this._owner._curtime,this._owner._hasLifeSubTrail&&0==this._isStart&&(this._pointe=this._owner._curSubTrailFinishPosition.elements,this._pointAtoBVector3e=this._owner._curSubTrailFinishDirection.elements,this._curtime=this._owner._curSubTrailFinishCurTime),this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._curtime,this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=1,this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._curtime,this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=0,this._VerticesToTailLength[this._verticesCount/2]=this._owner._trailTotalLength+this._owner._trailSupplementLength,0==this._owner._trailSupplementLength?this._everyVertexToPreVertexDistance[this._verticesCount/2]=this._delLength:this._everyVertexToPreVertexDistance[this._verticesCount/2]=this._isStart?this._owner._trailSupplementLength:0},$pps._updateVertexBuffer2=function(){var $ppt=0;var $ppe=0;var $ppi,$ppn=0;for($ppn=0,$ppi=(this._verticesCount+this._virtualVerticesCount)/2;$ppn<$ppi;$ppn++)$ppe=0==this._owner.textureMode?(this._VerticesToTailLength[$ppn]-this._owner._trailDeadLength)/(this._owner._trailTotalLength+this._owner._trailSupplementLength-this._owner._trailDeadLength):this._owner._trailTotalLength+this._owner._trailSupplementLength-this._VerticesToTailLength[$ppn],this._vertices2[$ppt++]=1-$ppe,this._vertices2[$ppt++]=1-$ppe;this._vertexBuffer2.setData(this._vertices2,0,0,this._verticesCount+this._virtualVerticesCount)},$pps._onTrailRenderElementFinish=function(){this._lastFixedVertexPosition.cloneTo(this._owner._curSubTrailFinishPosition),this._pointAtoBVector3.cloneTo(this._owner._curSubTrailFinishDirection),this._owner._curSubTrailFinishCurTime=this._owner._curtime,this._isFinish=!0},$pps._updateDisappear=function(){var $ppt,$ppe=0;for($ppe=this._curDisappearIndex,$ppt=(this._verticesCount+this._virtualVerticesCount)/2;$ppe<$ppt;$ppe++)this._owner._curtime-this._everyGroupVertexBirthTime[$ppe]>=this._owner.time+$pp$i.zeroTolerance&&(this._curDisappearIndex++,this._owner._trailDeadLength+=this._everyVertexToPreVertexDistance[this._curDisappearIndex],this._curDisappearIndex>=(this._verticesCount+this._virtualVerticesCount)/2&&(this._isDead=!0))},$pps._beforeRender=function($ppt){return this._camera=$ppt.camera,null!=this._camera&&(this._owner._owner.transform.position.cloneTo(this._curPosition),!this._isDead&&(this._verticesCount<this._maxVerticesCount?(this._owner._isStart||(this._owner._owner.transform.position.cloneTo(this._lastPosition),this._owner._isStart=!0),$ppD.equals(this._lastPosition,this._curPosition)||this._updateTrail()):this._isFinish&&(this._isFinish=!1,this._owner._curSubTrailFinished=!0),0<this._verticesCount)&&(this._updateVertexBuffer2(),this._updateDisappear(),!0))},$pps._render=function($ppt){this._isDead||($ppF.mainContext.drawArrays(5,2*this._curDisappearIndex,this._verticesCount+this._virtualVerticesCount-2*this._curDisappearIndex),console.log(2*this._curDisappearIndex,this._verticesCount+this._virtualVerticesCount-2*this._curDisappearIndex),$ppL.drawCall++,$ppL.trianglesFaces+=this._verticesCount+this._virtualVerticesCount-2*this._curDisappearIndex-2)},$pps._getVertexBuffer=function($ppt){return 0===($ppt=void 0===$ppt?0:$ppt)?this._vertexBuffer1:1===$ppt?this._vertexBuffer2:null},$pps._getVertexBuffers=function(){return this._vertexBuffers},$pps._getIndexBuffer=function(){return null},$pps.reActivate=function(){this._id=laya.d3.core.trail.TrailRenderElement.renderElementCount++,this._isStart=!1,this._isFinish=!1,this._isDead=!1,this._verticesCount=0,this._virtualVerticesCount=0,this._verticesIndex1=0,this._delLength=0,this._curDisappearIndex=0,this._everyGroupVertexBirthTime=[],this._owner._curSubTrailFinishPosition.cloneTo(this._lastPosition)},$pps._destroy=function(){this._vertexBuffer1.dispose(),this._vertexBuffer2.dispose(),this._vertices1=null,this._vertexBuffer1=null,this._vertices2=null,this._vertexBuffer2=null,this._vertexBuffers=null,this._everyGroupVertexBirthTime=null,this._VerticesToTailLength=null,this._everyVertexToPreVertexDistance=null,this._lastPosition=null,this._curPosition=null,this._delVector3=null,this._lastFixedVertexPosition=null,this._pointAtoBVector3=null,this._pointe=null,this._pointAtoBVector3e=null,this._pointA=null,this._pointB=null},$ppe(0,$pps,"_vertexBufferCount",function(){return this._vertexBuffers.length}),$ppe(0,$pps,"triangleCount",function(){return 0}),$ppYt.renderElementCount=0;function $ppYt($ppt){this._id=0,this._owner=null,this._camera=null,this._vertexBuffers=null,this._verticesCount=0,this._virtualVerticesCount=0,this._maxVerticesCount=256,this._vertices1=null,this._vertexBuffer1=null,this._floatCountPerVertices1=8,this._verticesIndex1=0,this._everyAddVerticeCount1=0,this._delLength=0,this._vertices2=null,this._vertexBuffer2=null,this._floatCountPerVertices2=1,this._everyGroupVertexBirthTime=null,this._VerticesToTailLength=null,this._everyVertexToPreVertexDistance=null,this._pointe=null,this._pointAtoBVector3e=null,this._isStart=!1,this._isFinish=!1,this._isDead=!1,this._curtime=NaN,this._curDisappearIndex=0,this._lastPosition=new $ppD,this._curPosition=new $ppD,this._delVector3=new $ppD,this._lastFixedVertexPosition=new $ppD,this._pointAtoBVector3=new $ppD,this._pointA=new $ppD,this._pointB=new $ppD,this._owner=$ppt,this._id=$ppYt.renderElementCount++,(0==this._id?$ppt._owner.transform.position:$ppt._curSubTrailFinishPosition).cloneTo(this._lastPosition),this._everyGroupVertexBirthTime=[],this._VerticesToTailLength=new Float32Array(this._maxVerticesCount),this._everyVertexToPreVertexDistance=new Float32Array(this._maxVerticesCount),this._vertices1=new Float32Array(this._maxVerticesCount*this._floatCountPerVertices1),this._vertices2=new Float32Array(this._maxVerticesCount*this._floatCountPerVertices2),this._vertexBuffer1=new $ppVr($ppXt.vertexDeclaration1,this._maxVerticesCount,35044,!0),this._vertexBuffer2=new $ppVr($ppXt.vertexDeclaration2,this._maxVerticesCount,35044,!0),this._vertexBuffers=[],this._vertexBuffers.push(this._vertexBuffer1),this._vertexBuffers.push(this._vertexBuffer2)}$ppt($ppjt,"laya.d3.core.trail.VertexTrail"),$pps=$ppjt.prototype,$pph.imps($pps,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$pps,"vertexDeclaration",function(){return $ppjt._vertexDeclaration1}),$ppe(1,$ppjt,"vertexDeclaration1",function(){return $ppjt._vertexDeclaration1}),$ppe(1,$ppjt,"vertexDeclaration2",function(){return $ppjt._vertexDeclaration2}),$ppl($ppjt,["_vertexDeclaration1",function(){return this._vertexDeclaration1=new $ppne(32,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",41),new $ppi(24,"single",33),new $ppi(28,"single",40)])},"_vertexDeclaration2",function(){return this._vertexDeclaration2=new $ppne(4,[new $ppi(0,"single",38)])}]);var $ppXt=$ppjt;function $ppjt(){}$ppt($ppqt,"laya.d3.graphics.DynamicBatch"),$pps=$ppqt.prototype,$pph.imps($pps,{"laya.d3.core.render.IRenderable":!0}),$pps._getVertexBuffer=function($ppt){return 0===($ppt=void 0===$ppt?0:$ppt)?this._vertexBuffer:null},$pps._getIndexBuffer=function(){return this._indexBuffer},$pps._getCombineRenderElementFromPool=function($ppt,$ppe,$ppi){var $ppn=this._combineRenderElementPool[this._combineRenderElementPoolIndex++];return $ppn||(this._combineRenderElementPool[this._combineRenderElementPoolIndex-1]=$ppn=new $ppMt,$ppn._sprite3D=new $ppos),$ppn._sprite3D._render._renderUpdate($ppi),$ppn},$pps._getRenderElement=function($ppc,$ppu,$pp_){this._vertexDatas||(this._vertexDatas=new Float32Array(this._vertexDeclaration.vertexStride/4*$ppqt.maxVertexCount),this._indexDatas=new Uint16Array($ppqt.maxIndexCount),this._vertexBuffer=$ppVr.create(this._vertexDeclaration,$ppqt.maxVertexCount,35048),this._indexBuffer=$ppNr.create("ushort",$ppqt.maxIndexCount,35048));var $ppt=this._merageElements.length=0;var $ppe=0;for(var $ppi=0,$ppn=this._combineRenderElements.length;$ppi<$ppn;$ppi++){var $ppr=this._combineRenderElements[$ppi];var $ppd=$ppr.getDynamicBatchBakedVertexs(0);var $pps=$ppr.getBakedIndices();var $ppf=$ppr._sprite3D.transform._isFrontFaceInvert;var $ppa=$ppt/(this._vertexDeclaration.vertexStride/4);var $ppo=$ppe;var $ppp=$ppo+$pps.length;$ppr._tempBatchIndexStart=$ppo,$ppr._tempBatchIndexEnd=$ppp,this._indexDatas.set($pps,$ppe);var $pph=0;if($ppf)for($pph=$ppo;$pph<$ppp;$pph+=3){this._indexDatas[$pph]=$ppa+this._indexDatas[$pph];var $ppm=this._indexDatas[$pph+1];var $ppg=this._indexDatas[$pph+2];this._indexDatas[$pph+1]=$ppa+$ppg,this._indexDatas[$pph+2]=$ppa+$ppm}else for($pph=$ppo;$pph<$ppp;$pph+=3)this._indexDatas[$pph]=$ppa+this._indexDatas[$pph],this._indexDatas[$pph+1]=$ppa+this._indexDatas[$pph+1],this._indexDatas[$pph+2]=$ppa+this._indexDatas[$pph+2];$ppe+=$pps.length,this._vertexDatas.set($ppd,$ppt),$ppt+=$ppd.length}for(this._vertexBuffer.setData(this._vertexDatas),this._indexBuffer.setData(this._indexDatas),$ppi=this._combineRenderElementPoolIndex=0,$ppn=this._materials.length;$ppi<$ppn;$ppi++){var $ppl=this._getCombineRenderElementFromPool($ppc,$ppu,$pp_);$ppl._type=2,$ppl._staticBatch=null;var $ppv=($ppl.renderObj=this)._combineRenderElements[this._materialToRenderElementsOffsets[$ppi]]._tempBatchIndexStart;var $ppy=$ppi+1===this._materialToRenderElementsOffsets.length?$ppe:this._combineRenderElements[this._materialToRenderElementsOffsets[$ppi+1]]._tempBatchIndexStart;$ppl._tempBatchIndexStart=$ppv,$ppl._tempBatchIndexEnd=$ppy,$ppl._material=this._materials[$ppi],this._merageElements.push($ppl)}},$pps._addCombineRenderObjTest=function($ppt){$ppt=$ppt.renderObj;var $ppe=this._currentCombineIndexCount+$ppt._getIndexBuffer().indexCount;$ppt=this._currentCombineVertexCount+$ppt._getVertexBuffer().vertexCount;return!($ppqt.maxVertexCount<$ppt||$ppqt.maxIndexCount<$ppe)},$pps._addCombineRenderObj=function($ppt){var $ppe=$ppt.renderObj;this._combineRenderElements.push($ppt),this._currentCombineIndexCount=this._currentCombineIndexCount+$ppe._getIndexBuffer().indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount+$ppe._getVertexBuffer().vertexCount},$pps._addCombineMaterial=function($ppt){this._materials.push($ppt)},$pps._addMaterialToRenderElementOffset=function($ppt){this._materialToRenderElementsOffsets.push($ppt)},$pps._clearRenderElements=function(){this._combineRenderElements.length=0,this._materials.length=0,this._materialToRenderElementsOffsets.length=0,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0},$pps._addToRenderQueue=function($ppt,$ppe,$ppi,$ppn){this._getRenderElement($ppe,$ppi,$ppn);for(var $ppr=0,$pps=this._materials.length;$ppr<$pps;$ppr++)$ppt.getRenderQueue(this._materials[$ppr].renderQueue)._addDynamicBatchElement(this._merageElements[$ppr])},$pps._beforeRender=function($ppt){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},$pps._render=function($ppt){var $ppe=$ppt._batchIndexEnd-$ppt._batchIndexStart;$ppF.mainContext.drawElements(4,$ppe,5123,2*$ppt._batchIndexStart),$ppL.drawCall++,$ppL.trianglesFaces+=$ppe/3},$pps._getVertexBuffers=function(){return null},$ppe(0,$pps,"_vertexBufferCount",function(){return 1}),$ppe(0,$pps,"triangleCount",function(){return this._indexBuffer.indexCount/3}),$ppe(0,$pps,"combineRenderElementsCount",function(){return this._combineRenderElements.length}),$ppqt.maxVertexCount=2e4,$ppqt.maxIndexCount=4e4,$ppqt.maxCombineTriangleCount=10;var $ppKt=$ppqt;function $ppqt($ppt){this._vertexDeclaration=null,this._vertexDatas=null,this._indexDatas=null,this._vertexBuffer=null,this._indexBuffer=null,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._combineRenderElements=null,this._materials=null,this._materialToRenderElementsOffsets=null,this._merageElements=null,this._combineRenderElementPool=null,this._combineRenderElementPoolIndex=0,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._combineRenderElements=[],this._materialToRenderElementsOffsets=[],this._materials=[],this._merageElements=[],this._combineRenderElementPool=[],this._combineRenderElementPoolIndex=0,this._vertexDeclaration=$ppt}$ppt($ppZt,"laya.d3.graphics.DynamicBatchManager"),($pps=$ppZt.prototype).getDynamicBatch=function($ppt,$ppe){var $ppi;$ppe=$ppt.id.toString()+$ppe;return this._dynamicBatches[$ppe]?$ppi=this._dynamicBatches[$ppe]:this._dynamicBatches[$ppe]=$ppi=new $ppKt($ppt),$ppi},$pps._garbageCollection=function(){for(var $ppt in this._dynamicBatches)0===this._dynamicBatches[$ppt].combineRenderElementsCount&&delete this._dynamicBatches[$ppt]},$pps._addPrepareRenderElement=function($ppt){this._prepareDynamicBatchCombineElements.push($ppt)},$pps._finishCombineDynamicBatch=function($ppc){var $ppt;var $ppu;this._prepareDynamicBatchCombineElements.sort($ppZt._sortPrepareDynamicBatch);var $pp_=-1;var $ppd=!0;var $ppe;var $ppi;var $ppn;var $ppr=0;var $pps;var $ppa;var $ppo=-1;for(var $ppf=0,$ppp=this._prepareDynamicBatchCombineElements.length;$ppf<$ppp;$ppf++){var $pph=($ppi=this._prepareDynamicBatchCombineElements[$ppf]).renderObj._getVertexBuffer(0).vertexDeclaration;var $ppl=$ppu!==$pph;$ppl&&($ppr=0,$ppu=$pph);var $ppm=$ppr!==$pp_;$ppm&&($pp_=$ppr),($ppl||$ppm)&&($ppn=this.getDynamicBatch($pph,$ppr),$ppt=null),$ppd?$ppd=$ppn._addCombineRenderObjTest($ppi)?($ppt!==($ppe=$ppi._material)?($pps&&($ppc.getRenderQueue($ppa._material.renderQueue)._addRenderElement($ppa),$ppa=$pps=null,$ppo=-1),$pps=$ppe,$ppo=$ppn.combineRenderElementsCount,$ppa=$ppi,$ppt=$ppe):$pps?($ppl=$ppa.renderObj,$ppm=$ppi.renderObj,$ppl._getVertexBuffer().vertexCount+$ppm._getVertexBuffer().vertexCount>$ppKt.maxVertexCount||$ppl._getIndexBuffer().indexCount+$ppm._getIndexBuffer().indexCount>$ppKt.maxIndexCount?($ppc.getRenderQueue($ppa._material.renderQueue)._addRenderElement($ppa),$pps=$ppe,$ppo=$ppn.combineRenderElementsCount,$ppa=$ppi):($ppn._addCombineMaterial($pps),$ppn._addMaterialToRenderElementOffset($ppo),$ppn._addCombineRenderObj($ppa),$ppa=$pps=null,$ppo=-1,$ppn._addCombineRenderObj($ppi))):$ppn._addCombineRenderObj($ppi),!0):($pps&&($ppc.getRenderQueue($ppa._material.renderQueue)._addRenderElement($ppa),$ppa=$pps=null,$ppo=-1),$ppr++,!1):($pph=this._prepareDynamicBatchCombineElements[$ppf-1],$ppn._addMaterialToRenderElementOffset($ppn.combineRenderElementsCount),$ppt=$pph._material,$ppn._addCombineMaterial($ppt),$ppn._addCombineRenderObj($pph),$ppd=!0,$ppt!==($ppe=$ppi._material)?($pps=$ppe,$ppo=$ppn.combineRenderElementsCount,$ppa=$ppi):$ppn._addCombineRenderObj($ppi),$ppt=$ppe)}$pps&&($ppc.getRenderQueue($ppa._material.renderQueue)._addRenderElement($ppa),$ppa=$pps=null,$ppo=-1),this._prepareDynamicBatchCombineElements.length=0},$pps._clearRenderElements=function(){for(var $ppt in this._dynamicBatches)this._dynamicBatches[$ppt]._clearRenderElements()},$pps._addToRenderQueue=function($ppt,$ppe,$ppi,$ppn){for(var $ppr in this._dynamicBatches){$ppr=this._dynamicBatches[$ppr];0<$ppr.combineRenderElementsCount&&$ppr._addToRenderQueue($ppt,$ppe,$ppi,$ppn)}},$pps.dispose=function(){this._dynamicBatches=null},$ppZt._sortPrepareDynamicBatch=function($ppt,$ppe){return $ppt._mainSortID-$ppe._mainSortID};var $pp$t=$ppZt;function $ppZt(){this._dynamicBatches=null,this._prepareDynamicBatchCombineElements=null,this._dynamicBatches={},this._prepareDynamicBatchCombineElements=[]}$ppt($ppJt,"laya.d3.graphics.FrustumCulling"),$ppJt.renderShadowObjectCulling=function($ppt,$ppc,$ppe,$ppu,$pp_){var $ppi=0,$ppn=0,$ppr=0,$pps=0;for($ppi=0,$ppr=$ppe.length;$ppi<$ppr;$ppi++){var $ppd=$ppe[$ppi];$ppd&&$ppd._clearRenderElements()}var $ppf=$ppt._cullingRenders;var $ppa,$ppo,$pph;if(1<$pp_){for($ppi=0,$ppr=$ppt._cullingRendersLength;$ppi<$ppr;$ppi++)if(($ppa=$ppf[$ppi]).castShadow&&$pp$.isVisible($ppa._owner.layer.mask)&&$ppa.enable)for(var $ppl=1,$ppp=$ppc.length;$ppl<$ppp;$ppl++)if($ppo=$ppe[$ppl-1],0!==$ppc[$ppl].containsBoundSphere($ppa.boundingSphere))for($ppn=0,$pps=($pph=$ppa._renderElements).length;$ppn<$pps;$ppn++)$ppo._addRenderElement($pph[$ppn])}else for($ppi=0,$ppr=$ppt._cullingRendersLength;$ppi<$ppr;$ppi++)if(($ppa=$ppf[$ppi]).castShadow&&$pp$.isVisible($ppa._owner.layer.mask)&&$ppa.enable&&0!==$ppc[0].containsBoundSphere($ppa.boundingSphere))for($ppa._renderUpdate($ppu),$ppo=$ppe[0],$ppn=0,$pps=($pph=$ppa._renderElements).length;$ppn<$pps;$ppn++)$ppo._addRenderElement($pph[$ppn])},$ppJt.renderShadowObjectCullingOctree=function($ppt,$ppe,$ppi,$ppn,$ppr){for(var $pps=0,$ppa=$ppi.length;$pps<$ppa;$pps++){var $ppo=$ppi[$pps];$ppo&&$ppo._clearRenderElements()}1<$ppr?$ppt.treeRoot.cullingShadowObjects($ppe,$ppi,!0,0,$ppt):$ppt.treeRoot.cullingShadowObjectsOnePSSM($ppe[0],$ppi,$ppn,!0,0,$ppt)},$ppJt.renderObjectCulling=function($ppc,$ppt,$ppu,$pp_,$ppd,$ppe){var $ppf,$ppi=0,$ppn=0,$ppr=0;var $ppp=$ppt._quenes;var $pps=$ppt._dynamicBatchManager;var $ppm=$ppt._cullingRenders;for($ppi=0,$ppn=$ppp.length;$ppi<$ppn;$ppi++){var $ppg=$ppp[$ppi];$ppg&&$ppg._clearRenderElements()}var $ppa=$ppte._staticBatchManagers;for($ppi=0,$ppn=$ppa.length;$ppi<$ppn;$ppi++)$ppa[$ppi]._clearRenderElements();$pps._clearRenderElements();var $ppv=$ppu.transform.position;for($ppi=0,$ppn=$ppt._cullingRendersLength;$ppi<$ppn;$ppi++){var $ppo=$ppm[$ppi];if($pp$.isVisible($ppo._owner.layer.mask)&&$ppo.enable&&0!==$ppc.containsBoundSphere($ppo.boundingSphere)&&$ppo._renderUpdate($ppe)){$ppo._distanceForSort=$ppD.distance($ppo.boundingSphere.center,$ppv)+$ppo.sortingFudge;var $ppy=$ppo._renderElements;for($ppr=0,$ppf=$ppy.length;$ppr<$ppf;$ppr++){var $pph=$ppy[$ppr];var $ppl=$pph._staticBatch;$ppl&&$ppl._material===$pph._material?$ppl._addBatchRenderElement($pph):($ppl=$pph.renderObj).triangleCount<10&&1===$ppl._vertexBufferCount&&$ppl._getIndexBuffer()&&$pph._material.renderQueue<2&&$pph._canDynamicBatch&&!$ppo._owner.isStatic?$pps._addPrepareRenderElement($pph):$ppt.getRenderQueue($pph._material.renderQueue)._addRenderElement($pph)}}}for($ppi=0,$ppn=$ppa.length;$ppi<$ppn;$ppi++)$ppa[$ppi]._addToRenderQueue($ppt,$pp_,$ppd,$ppe);$pps._finishCombineDynamicBatch($ppt),$pps._addToRenderQueue($ppt,$pp_,$ppd,$ppe)},$ppJt.renderObjectCullingOctree=function($ppc,$ppt,$ppu,$ppe,$ppi,$ppn){var $ppr=0,$pps=0;var $ppa=$ppt._quenes;var $ppo=$ppt._dynamicBatchManager;for($ppr=0,$pps=$ppa.length;$ppr<$pps;$ppr++){var $pph=$ppa[$ppr];$pph&&$pph._clearRenderElements()}var $ppl=$ppte._staticBatchManagers;for($ppr=0,$pps=$ppl.length;$ppr<$pps;$ppr++)$ppl[$ppr]._clearRenderElements();for($ppo._clearRenderElements(),$ppt._cullingRenders.length=0,$ppt.treeRoot.cullingObjects($ppc,!0,0,$ppu.transform.position,$ppn),$ppr=0,$pps=$ppl.length;$ppr<$pps;$ppr++)$ppl[$ppr]._addToRenderQueue($ppt,$ppe,$ppi,$ppn);$ppo._finishCombineDynamicBatch($ppt),$ppo._addToRenderQueue($ppt,$ppe,$ppi,$ppn)},$ppJt.renderObjectCullingNoBoundFrustum=function($ppt,$ppc,$ppu,$pp_,$ppe){var $ppd,$ppi=0,$ppn=0,$ppr=0;var $ppf=$ppt._quenes;var $pps=$ppt._dynamicBatchManager;var $ppp=$ppt._cullingRenders;for($ppi=0,$ppn=$ppf.length;$ppi<$ppn;$ppi++){var $ppm=$ppf[$ppi];$ppm&&$ppm._clearRenderElements()}var $ppa=$ppte._staticBatchManagers;for($ppi=0,$ppn=$ppa.length;$ppi<$ppn;$ppi++)$ppa[$ppi]._clearRenderElements();$pps._clearRenderElements();var $ppg=$ppc.transform.position;for($ppi=0,$ppn=$ppt._cullingRendersLength;$ppi<$ppn;$ppi++){var $ppo=$ppp[$ppi];if($pp$.isVisible($ppo._owner.layer.mask)&&$ppo.enable){$ppo._renderUpdate($ppe),$ppo._distanceForSort=$ppD.distance($ppo.boundingSphere.center,$ppg)+$ppo.sortingFudge;var $ppv=$ppo._renderElements;for($ppr=0,$ppd=$ppv.length;$ppr<$ppd;$ppr++){var $pph=$ppv[$ppr];var $ppl=$pph._staticBatch;$ppl&&$ppl._material===$pph._material?$ppl._addBatchRenderElement($pph):($ppl=$pph.renderObj).triangleCount<10&&1===$ppl._vertexBufferCount&&$ppl._getIndexBuffer()&&$pph._material.renderQueue<2&&$pph._canDynamicBatch&&!$ppo._owner.isStatic?$pps._addPrepareRenderElement($pph):$ppt.getRenderQueue($pph._material.renderQueue)._addRenderElement($pph)}}}for($ppi=0,$ppn=$ppa.length;$ppi<$ppn;$ppi++)$ppa[$ppi]._addToRenderQueue($ppt,$ppu,$pp_,$ppe);$pps._finishCombineDynamicBatch($ppt),$pps._addToRenderQueue($ppt,$ppu,$pp_,$ppe)};var $ppQt=$ppJt;function $ppJt(){}$ppt($ppee,"laya.d3.graphics.StaticBatchManager"),($pps=$ppee.prototype)._finishInit=function(){for(var $ppt in this._staticBatches)this._staticBatches[$ppt]._finishInit();this._initBatchRenderElements.length=0},$pps._initStaticBatchs=function($ppt){throw new Error("StaticBatchManager:must override this function.")},$pps._addInitBatchSprite=function($ppt){var $ppe=$ppt._render._renderElements;for(var $ppi=0,$ppn=$ppe.length;$ppi<$ppn;$ppi++)this._initBatchRenderElements.push($ppe[$ppi])},$pps._clearRenderElements=function(){for(var $ppt in this._staticBatches)this._staticBatches[$ppt]._clearRenderElements()},$pps._garbageCollection=function($ppt){var $ppe=$ppt._staticBatch;var $ppi=$ppe._initBatchRenderElements;$ppt=$ppi.indexOf($ppt);$ppi.splice($ppt,1),0===$ppi.length&&($ppe.dispose(),delete this._staticBatches[$ppe._key])},$pps._addToRenderQueue=function($ppt,$ppe,$ppi,$ppn){for(var $ppr in this._staticBatches){$ppr=this._staticBatches[$ppr];0<$ppr._batchRenderElements.length&&$ppr._updateToRenderQueue($ppt,$ppn)}},$pps.dispose=function(){this._staticBatches=null},$ppee._addToStaticBatchQueue=function($ppt){$ppt instanceof laya.d3.core.RenderableSprite3D&&$ppt._addToInitStaticBatchManager();for(var $ppe=0,$ppi=$ppt.numChildren;$ppe<$ppi;$ppe++)$ppee._addToStaticBatchQueue($ppt._childs[$ppe])},$ppee.combine=function($ppt,$ppe){var $ppi,$ppn=0,$ppr=0;if($ppe)for($ppn=0,$ppr=$ppe.length;$ppn<$ppr;$ppn++)$ppe[$ppn]._addToInitStaticBatchManager();else $ppt&&$ppee._addToStaticBatchQueue($ppt);for($ppn=0,$ppr=$ppee._staticBatchManagers.length;$ppn<$ppr;$ppn++)($ppi=$ppee._staticBatchManagers[$ppn])._initStaticBatchs($ppt),$ppi._finishInit()},$ppee._staticBatchManagers=[];var $ppte=$ppee;function $ppee(){this._initBatchRenderElements=null,this._staticBatches=null,this._initBatchRenderElements=[],this._staticBatches={}}$ppt($ppie,"laya.d3.graphics.StaticBatch"),$pps=$ppie.prototype,$pph.imps($pps,{"laya.d3.core.render.IRenderable":!0,"laya.resource.IDispose":!0}),$pps._binarySearch=function($ppt){var $ppe=0;var $ppi=this._batchRenderElements.length-1;var $ppn;for(;$ppe<=$ppi;)$ppn=Math.floor(($ppe+$ppi)/2),this._compareBatchRenderElement(this._batchRenderElements[$ppn],$ppt)?$ppi=$ppn-1:$ppe=$ppn+1;return $ppe},$pps._compareBatchRenderElement=function($ppt,$ppe){throw new Error("StaticBatch:must override this function.")},$pps._getVertexDecLightMap=function($ppt){return $ppt===$ppmi.vertexDeclaration?$ppai.vertexDeclaration:$ppt===$ppfi.vertexDeclaration?$ppri.vertexDeclaration:$ppt===$ppXe.vertexDeclaration?$ppOe.vertexDeclaration:$ppt===$ppSi.vertexDeclaration?null:$ppt===$ppMe.vertexDeclaration?$ppAe.vertexDeclaration:$ppt===$ppxi.vertexDeclaration?$ppci.vertexDeclaration:$ppt===$ppti.vertexDeclaration?$ppii.vertexDeclaration:$ppt===$ppvi.vertexDeclaration?$pphi.vertexDeclaration:$ppt===$ppfi.vertexDeclaration?$ppri.vertexDeclaration:$ppt===$ppKe.vertexDeclaration?$ppVe.vertexDeclaration:$ppt===$ppSi.vertexDeclaration?null:$ppt===$ppMe.vertexDeclaration?$ppAe.vertexDeclaration:$ppt===$ppbi.vertexDeclaration?$pp_i.vertexDeclaration:$ppt===$ppti.vertexDeclaration?$ppii.vertexDeclaration:$ppt},$pps._getCombineRenderElementFromPool=function(){throw new Error("StaticBatch:must override this function.")},$pps._addBatchRenderElement=function($ppt){this._batchRenderElements.splice(this._binarySearch($ppt),0,$ppt)},$pps._updateToRenderQueue=function($ppt,$ppe){this._combineRenderElementPoolIndex=0,this._getRenderElement($ppt.getRenderQueue(this._material.renderQueue)._renderElements,$ppt,$ppe)},$pps._getRenderElement=function($ppt,$ppe,$ppi){throw new Error("StaticBatch:must override this function.")},$pps._finishInit=function(){throw new Error("StaticBatch:must override this function.")},$pps._clearRenderElements=function(){this._batchRenderElements.length=0},$pps.dispose=function(){},$pps._getVertexBuffer=function($ppt){return void 0===$ppt&&($ppt=0),null},$pps._getIndexBuffer=function(){return null},$pps._beforeRender=function($ppt){return!0},$pps._render=function($ppt){},$pps._getVertexBuffers=function(){return null},$ppe(0,$pps,"_vertexBufferCount",function(){return 1}),$ppe(0,$pps,"triangleCount",function(){return 0}),$ppie.combine=function($ppt){console.log("StaticBatch: discard property,please use StaticBatchManager.combine() function instead."),$ppte.combine($ppt)},$ppie.maxBatchVertexCount=65535;$pps=$ppie;function $ppie($ppt,$ppe,$ppi){this._combineRenderElementPoolIndex=0,this._combineRenderElementPool=null,this._initBatchRenderElements=null,this._batchRenderElements=null,this._material=null,this._rootOwner=null,this._key=null,this._manager=null,this._key=$ppt,this._manager=$ppe,this._combineRenderElementPoolIndex=0,this._combineRenderElementPool=[],this._initBatchRenderElements=[],this._batchRenderElements=[],this._rootOwner=$ppi}$ppt($ppre,"laya.d3.graphics.VertexDeclaration"),($ppa=$ppre.prototype)._addShaderDefine=function($ppt){this._shaderDefineValue|=$ppt},$ppa._removeShaderDefine=function($ppt){this._shaderDefineValue&=~$ppt},$ppa.getVertexElements=function(){return this._vertexElements.slice()},$ppa.getVertexElementByUsage=function($ppt){return this._vertexElementsDic[$ppt]},$ppa.unBinding=function(){},$ppe(0,$ppa,"shaderDefineValue",function(){return this._shaderDefineValue}),$ppe(0,$ppa,"id",function(){return this._id}),$ppe(0,$ppa,"vertexStride",function(){return this._vertexStride}),$ppe(0,$ppa,"shaderValues",function(){return this._shaderValues}),$ppre._getTypeSize=function($ppt){switch($ppt){case"single":return 4;case"vector2":return 8;case"vector3":return 12;case"vector4":return 16;case"color":case"byte4":case"short2":return 4;case"short4":return 8;case"normalizedshort2":return 4;case"normalizedshort4":return 8;case"halfvector2":return 4;case"halfvector4":return 8}return 0},$ppre.getVertexStride=function($ppt){var $ppe=0;for(var $ppi=0;$ppi<$ppt.Length;$ppi++){var $ppn=$ppt[$ppi];$ppn=$ppn.offset+$ppre._getTypeSize($ppn.elementFormat);$ppe<$ppn&&($ppe=$ppn)}return $ppe},$ppre._maxVertexDeclarationBit=1e3,$ppre._uniqueIDCounter=1,$ppl($ppre,["maxVertexDeclaration",function(){return this.maxVertexDeclaration=2147483647-1e3*Math.floor(2147483.647)}]);var $ppne=$ppre;function $ppre($ppt,$ppe){if(this._id=0,this._shaderValues=null,this._shaderDefineValue=0,this._vertexStride=0,this._vertexElements=null,this._vertexElementsDic=null,this._id=++$ppre._uniqueIDCounter,this._id>$ppre.maxVertexDeclaration)throw new Error("VertexDeclaration: VertexDeclaration count should not large than ",$ppre.maxVertexDeclaration);this._shaderValues=new $ppSn,this._vertexElementsDic={},this._vertexStride=$ppt,this._vertexElements=$ppe;for(var $ppi=0;$ppi<$ppe.length;$ppi++){var $ppn=$ppe[$ppi];var $ppr=$ppn.elementUsage;this._vertexElementsDic[$ppr]=$ppn;$ppn=[$ppre._getTypeSize($ppn.elementFormat)/4,5126,!1,this._vertexStride,$ppn.offset];switch(this._shaderValues.setValue($ppr,$ppn),$ppr){case 1:this._addShaderDefine($ppar.SHADERDEFINE_COLOR);break;case 2:this._addShaderDefine($ppar.SHADERDEFINE_UV0);break;case 15:this._addShaderDefine($ppar.SHADERDEFINE_UV1)}}}$ppt($ppse,"laya.d3.graphics.VertexElement");var $ppi=$ppse;function $ppse($ppt,$ppe,$ppi){this.offset=0,this.elementFormat=null,this.elementUsage=0,this.offset=$ppt,this.elementFormat=$ppe,this.elementUsage=$ppi}$ppt($ppae,"laya.d3.graphics.VertexElementFormat"),$ppae.Single="single",$ppae.Vector2="vector2",$ppae.Vector3="vector3",$ppae.Vector4="vector4",$ppae.Color="color",$ppae.Byte4="byte4",$ppae.Short2="short2",$ppae.Short4="short4",$ppae.NormalizedShort2="normalizedshort2",$ppae.NormalizedShort4="normalizedshort4",$ppae.HalfVector2="halfvector2",$ppae.HalfVector4="halfvector4";function $ppae(){}$ppt($ppoe,"laya.d3.graphics.VertexElementUsage"),$ppoe.POSITION0=0,$ppoe.COLOR0=1,$ppoe.TEXTURECOORDINATE0=2,$ppoe.NORMAL0=3,$ppoe.BINORMAL0=4,$ppoe.TANGENT0=5,$ppoe.BLENDINDICES0=6,$ppoe.BLENDWEIGHT0=7,$ppoe.DEPTH0=8,$ppoe.FOG0=9,$ppoe.POINTSIZE0=10,$ppoe.SAMPLE0=11,$ppoe.TESSELLATEFACTOR0=12,$ppoe.COLOR1=13,$ppoe.NEXTTEXTURECOORDINATE0=14,$ppoe.TEXTURECOORDINATE1=15,$ppoe.NEXTTEXTURECOORDINATE1=16,$ppoe.CORNERTEXTURECOORDINATE0=17,$ppoe.VELOCITY0=18,$ppoe.STARTCOLOR0=19,$ppoe.STARTSIZE=20,$ppoe.AGEADDSCALE0=21,$ppoe.STARTROTATION=22,$ppoe.ENDCOLOR0=23,$ppoe.STARTLIFETIME=24,$ppoe.TIME0=33,$ppoe.SHAPEPOSITIONSTARTLIFETIME=30,$ppoe.DIRECTIONTIME=32,$ppoe.SIZEROTATION0=27,$ppoe.RADIUS0=28,$ppoe.RADIAN0=29,$ppoe.STARTSPEED=31,$ppoe.RANDOM0=34,$ppoe.RANDOM1=35,$ppoe.SIMULATIONWORLDPOSTION=36,$ppoe.SIMULATIONWORLDROTATION=37,$ppoe.TEXTURECOORDINATE0X=38,$ppoe.TEXTURECOORDINATE0X1=39,$ppoe.TEXTURECOORDINATE0Y=40,$ppoe.OFFSETVECTOR=41;function $ppoe(){}$ppt($pphe,"laya.d3.graphics.VertexGlitter"),$ppa=$pphe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"textureCoordinate",function(){return this._textureCoordinate0}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"time",function(){return this._time}),$ppe(0,$ppa,"vertexDeclaration",function(){return $pphe._vertexDeclaration}),$ppe(1,$pphe,"vertexDeclaration",function(){return $pphe._vertexDeclaration}),$ppl($pphe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(24,[new $ppi(0,"vector3",0),new $ppi(12,"vector2",2),new $ppi(20,"single",33)])}]);function $pphe($ppt,$ppe,$ppi){this._position=null,this._textureCoordinate0=null,this._time=NaN,this._position=$ppt,this._textureCoordinate0=$ppe,this._time=$ppi}$ppt($pple,"laya.d3.graphics.VertexParticle"),$ppa=$pple.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"endColor",function(){return this._endColor}),$ppe(0,$ppa,"cornerTextureCoordinate",function(){return this._cornerTextureCoordinate}),$ppe(0,$ppa,"sizeRotation",function(){return this._sizeRotation}),$ppe(0,$ppa,"velocity",function(){return this._velocity}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"startColor",function(){return this._startColor}),$ppe(0,$ppa,"radius",function(){return this._radius}),$ppe(0,$ppa,"radian",function(){return this._radian}),$ppe(0,$ppa,"ageAddScale",function(){return this._ageAddScale}),$ppe(0,$ppa,"time",function(){return this._time}),$ppe(0,$ppa,"vertexDeclaration",function(){return $pple._vertexDeclaration}),$ppe(1,$pple,"vertexDeclaration",function(){return $pple._vertexDeclaration}),$ppl($pple,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(116,[new $ppi(0,"vector4",17),new $ppi(16,"vector3",0),new $ppi(28,"vector3",18),new $ppi(40,"vector4",19),new $ppi(56,"vector4",23),new $ppi(72,"vector3",27),new $ppi(84,"vector2",28),new $ppi(92,"vector4",29),new $ppi(108,"single",24),new $ppi(112,"single",33)])}]);function $pple($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph,$ppl){this._cornerTextureCoordinate=null,this._position=null,this._velocity=null,this._startColor=null,this._endColor=null,this._sizeRotation=null,this._radius=null,this._radian=null,this._ageAddScale=NaN,this._time=NaN,this._cornerTextureCoordinate=$ppt,this._position=$ppe,this._velocity=$ppi,this._startColor=$ppn,this._endColor=$ppr,this._sizeRotation=$pps,this._radius=$ppa,this._radian=$ppo,this._ageAddScale=$pph,this._time=$ppl}$ppt($ppue,"laya.d3.graphics.VertexPosition"),$ppa=$ppue.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppue._vertexDeclaration}),$ppe(1,$ppue,"vertexDeclaration",function(){return $ppue._vertexDeclaration}),$ppl($ppue,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(12,[new $ppi(0,"vector3",0)])}]);var $ppce=$ppue;function $ppue($ppt){this._position=null,this._position=$ppt}$ppt($ppde,"laya.d3.graphics.VertexPositionNormal"),$ppa=$ppde.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppde._vertexDeclaration}),$ppe(1,$ppde,"vertexDeclaration",function(){return $ppde._vertexDeclaration}),$ppl($ppde,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(24,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3)])}]);var $pp_e=$ppde;function $ppde($ppt,$ppe){this._position=null,this._normal=null,this._position=$ppt,this._normal=$ppe}$ppt($pppe,"laya.d3.graphics.VertexPositionNormalColor"),$ppa=$pppe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"vertexDeclaration",function(){return $pppe._vertexDeclaration}),$ppe(1,$pppe,"vertexDeclaration",function(){return $pppe._vertexDeclaration}),$ppl($pppe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(40,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1)])}]);var $ppfe=$pppe;function $pppe($ppt,$ppe,$ppi){this._position=null,this._normal=null,this._color=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi}$ppt($ppge,"laya.d3.graphics.VertexPositionNormalColorSkin"),$ppa=$ppge.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppge._vertexDeclaration}),$ppe(1,$ppge,"vertexDeclaration",function(){return $ppge._vertexDeclaration}),$ppl($ppge,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(72,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector4",7),new $ppi(56,"vector4",6)])}]);var $ppme=$ppge;function $ppge($ppt,$ppe,$ppi,$ppn,$ppr){this._position=null,this._normal=null,this._color=null,this._blendIndex=null,this._blendWeight=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._blendIndex=$ppn,this._blendWeight=$ppr}$ppt($ppye,"laya.d3.graphics.VertexPositionNormalColorSkinSTangent"),$ppa=$ppye.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppye._vertexDeclaration}),$ppe(1,$ppye,"vertexDeclaration",function(){return $ppye._vertexDeclaration}),$ppl($ppye,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(88,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector4",7),new $ppi(56,"vector4",6),new $ppi(72,"vector4",5)])}]);var $ppve=$ppye;function $ppye($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this._position=null,this._normal=null,this._color=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._tangent=$ppn,this._blendIndex=$ppr,this._blendWeight=$pps}$ppt($ppwe,"laya.d3.graphics.VertexPositionNormalColorSkinTangent"),$ppa=$ppwe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppwe._vertexDeclaration}),$ppe(1,$ppwe,"vertexDeclaration",function(){return $ppwe._vertexDeclaration}),$ppl($ppwe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(84,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector4",7),new $ppi(56,"vector4",6),new $ppi(72,"vector3",5)])}]);var $ppxe=$ppwe;function $ppwe($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this._position=null,this._normal=null,this._color=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._tangent=$ppn,this._blendIndex=$ppr,this._blendWeight=$pps}$ppt($ppTe,"laya.d3.graphics.VertexPositionNormalColorSTangent"),$ppa=$ppTe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppTe._vertexDeclaration}),$ppe(1,$ppTe,"vertexDeclaration",function(){return $ppTe._vertexDeclaration}),$ppl($ppTe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(56,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector4",5)])}]);var $ppbe=$ppTe;function $ppTe($ppt,$ppe,$ppi,$ppn){this._position=null,this._normal=null,this._color=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._tangent=$ppn}$ppt($ppCe,"laya.d3.graphics.VertexPositionNormalColorTangent"),$ppa=$ppCe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppCe._vertexDeclaration}),$ppe(1,$ppCe,"vertexDeclaration",function(){return $ppCe._vertexDeclaration}),$ppl($ppCe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(52,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector3",5)])}]);var $ppSe=$ppCe;function $ppCe($ppt,$ppe,$ppi,$ppn){this._position=null,this._normal=null,this._color=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._tangent=$ppn}$ppt($ppEe,"laya.d3.graphics.VertexPositionNormalColorTexture"),$ppa=$ppEe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"textureCoordinate",function(){return this._textureCoordinate}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppEe._vertexDeclaration}),$ppe(1,$ppEe,"vertexDeclaration",function(){return $ppEe._vertexDeclaration}),$ppl($ppEe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(48,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector2",2)])}]);var $ppMe=$ppEe;function $ppEe($ppt,$ppe,$ppi,$ppn){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._textureCoordinate=$ppn}$ppt($ppDe,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1"),$ppa=$ppDe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"textureCoordinate0",function(){return this._textureCoordinate0}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppDe._vertexDeclaration}),$ppe(0,$ppa,"textureCoordinate1",function(){return this._textureCoordinate1}),$ppe(1,$ppDe,"vertexDeclaration",function(){return $ppDe._vertexDeclaration}),$ppl($ppDe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(56,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector2",2),new $ppi(48,"vector2",15)])}]);var $ppAe=$ppDe;function $ppDe($ppt,$ppe,$ppi,$ppn,$ppr){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._textureCoordinate0=$ppn,this._textureCoordinate1=$ppr}$ppt($ppRe,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1Skin"),$ppa=$ppRe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"textureCoordinate0",function(){return this._textureCoordinate0}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppRe._vertexDeclaration}),$ppe(0,$ppa,"textureCoordinate1",function(){return this._textureCoordinate1}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(1,$ppRe,"vertexDeclaration",function(){return $ppRe._vertexDeclaration}),$ppl($ppRe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(88,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector2",2),new $ppi(48,"vector2",15),new $ppi(56,"vector4",7),new $ppi(72,"vector4",6)])}]);var $ppIe=$ppRe;function $ppRe($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._textureCoordinate0=$ppn,this._textureCoordinate1=$ppr,this._blendIndex=$pps,this._blendWeight=$ppa}$ppt($ppLe,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1SkinSTangent"),$ppa=$ppLe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"textureCoordinate0",function(){return this._textureCoordinate0}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppLe._vertexDeclaration}),$ppe(0,$ppa,"textureCoordinate1",function(){return this._textureCoordinate1}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(1,$ppLe,"vertexDeclaration",function(){return $ppLe._vertexDeclaration}),$ppl($ppLe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(104,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector2",2),new $ppi(48,"vector2",15),new $ppi(56,"vector4",7),new $ppi(72,"vector4",6),new $ppi(88,"vector4",5)])}]);var $ppPe=$ppLe;function $ppLe($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._textureCoordinate0=$ppn,this._textureCoordinate1=$ppr,this._tangent=$pps,this._blendIndex=$ppa,this._blendWeight=$ppo}$ppt($ppNe,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1SkinTangent"),$ppa=$ppNe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppa.VertexPositionNormalColorTexture0SkinTangent=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._textureCoordinate0=$ppn,this._textureCoordinate1=$ppr,this._tangent=$pps,this._blendIndex=$ppa,this._blendWeight=$ppo},$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"textureCoordinate0",function(){return this._textureCoordinate0}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppNe._vertexDeclaration}),$ppe(0,$ppa,"textureCoordinate1",function(){return this._textureCoordinate1}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(1,$ppNe,"vertexDeclaration",function(){return $ppNe._vertexDeclaration}),$ppl($ppNe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(100,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector2",2),new $ppi(48,"vector2",15),new $ppi(56,"vector4",7),new $ppi(72,"vector4",6),new $ppi(88,"vector3",5)])}]);var $ppBe=$ppNe;function $ppNe(){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null}$ppt($ppFe,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1STangent"),$ppa=$ppFe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"textureCoordinate0",function(){return this._textureCoordinate0}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppFe._vertexDeclaration}),$ppe(0,$ppa,"textureCoordinate1",function(){return this._textureCoordinate1}),$ppe(1,$ppFe,"vertexDeclaration",function(){return $ppFe._vertexDeclaration}),$ppl($ppFe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(72,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector2",2),new $ppi(48,"vector2",15),new $ppi(56,"vector4",5)])}]);var $ppOe=$ppFe;function $ppFe($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._textureCoordinate0=$ppn,this._textureCoordinate1=$ppr,this._tangent=$pps}$ppt($ppke,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1Tangent"),$ppa=$ppke.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppa.VertexPositionNormalColorTexture0Tangent=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._textureCoordinate0=$ppn,this._textureCoordinate1=$ppr,this._tangent=$pps},$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"textureCoordinate0",function(){return this._textureCoordinate0}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppke._vertexDeclaration}),$ppe(0,$ppa,"textureCoordinate1",function(){return this._textureCoordinate1}),$ppe(1,$ppke,"vertexDeclaration",function(){return $ppke._vertexDeclaration}),$ppl($ppke,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(68,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector2",2),new $ppi(48,"vector2",15),new $ppi(56,"vector3",5)])}]);var $ppVe=$ppke;function $ppke(){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null}$ppt($ppHe,"laya.d3.graphics.VertexPositionNormalColorTextureSkin"),$ppa=$ppHe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"textureCoordinate",function(){return this._textureCoordinate}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppHe._vertexDeclaration}),$ppe(1,$ppHe,"vertexDeclaration",function(){return $ppHe._vertexDeclaration}),$ppl($ppHe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(80,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector2",2),new $ppi(48,"vector4",7),new $ppi(64,"vector4",6)])}]);var $ppUe=$ppHe;function $ppHe($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._textureCoordinate=$ppn,this._blendIndex=$ppr,this._blendWeight=$pps}$ppt($ppWe,"laya.d3.graphics.VertexPositionNormalColorTextureSkinSTangent"),$ppa=$ppWe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"textureCoordinate",function(){return this._textureCoordinate}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppWe._vertexDeclaration}),$ppe(1,$ppWe,"vertexDeclaration",function(){return $ppWe._vertexDeclaration}),$ppl($ppWe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(96,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector2",2),new $ppi(48,"vector4",7),new $ppi(64,"vector4",6),new $ppi(80,"vector4",5)])}]);var $ppze=$ppWe;function $ppWe($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._textureCoordinate=$ppn,this._tangent=$ppr,this._blendIndex=$pps,this._blendWeight=$ppa}$ppt($ppYe,"laya.d3.graphics.VertexPositionNormalColorTextureSkinTangent"),$ppa=$ppYe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"textureCoordinate",function(){return this._textureCoordinate}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppYe._vertexDeclaration}),$ppe(1,$ppYe,"vertexDeclaration",function(){return $ppYe._vertexDeclaration}),$ppl($ppYe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(92,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector2",2),new $ppi(48,"vector4",7),new $ppi(64,"vector4",6),new $ppi(80,"vector3",5)])}]);var $ppGe=$ppYe;function $ppYe($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._textureCoordinate=$ppn,this._tangent=$ppr,this._blendIndex=$pps,this._blendWeight=$ppa}$ppt($ppje,"laya.d3.graphics.VertexPositionNormalColorTextureSTangent"),$ppa=$ppje.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"textureCoordinate",function(){return this._textureCoordinate}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppje._vertexDeclaration}),$ppe(1,$ppje,"vertexDeclaration",function(){return $ppje._vertexDeclaration}),$ppl($ppje,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(64,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector2",2),new $ppi(48,"vector4",5)])}]);var $ppXe=$ppje;function $ppje($ppt,$ppe,$ppi,$ppn,$ppr){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._textureCoordinate=$ppn,this._tangent=$ppr}$ppt($ppqe,"laya.d3.graphics.VertexPositionNormalColorTextureTangent"),$ppa=$ppqe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"textureCoordinate",function(){return this._textureCoordinate}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"color",function(){return this._color}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppqe._vertexDeclaration}),$ppe(1,$ppqe,"vertexDeclaration",function(){return $ppqe._vertexDeclaration}),$ppl($ppqe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(60,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",1),new $ppi(40,"vector2",2),new $ppi(48,"vector3",5)])}]);var $ppKe=$ppqe;function $ppqe($ppt,$ppe,$ppi,$ppn,$ppr){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._color=$ppi,this._textureCoordinate=$ppn,this._tangent=$ppr}$ppt($ppZe,"laya.d3.graphics.VertexPositionNormalSTangent"),$ppa=$ppZe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppZe._vertexDeclaration}),$ppe(1,$ppZe,"vertexDeclaration",function(){return $ppZe._vertexDeclaration}),$ppl($ppZe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(40,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector4",5)])}]);var $pp$e=$ppZe;function $ppZe($ppt,$ppe,$ppi){this._position=null,this._normal=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._tangent=$ppi}$ppt($ppJe,"laya.d3.graphics.VertexPositionNormalTangent"),$ppa=$ppJe.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppJe._vertexDeclaration}),$ppe(1,$ppJe,"vertexDeclaration",function(){return $ppJe._vertexDeclaration}),$ppl($ppJe,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(36,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector3",5)])}]);var $ppQe=$ppJe;function $ppJe($ppt,$ppe,$ppi){this._position=null,this._normal=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._tangent=$ppi}$ppt($ppei,"laya.d3.graphics.VertexPositionNormalTexture"),$ppa=$ppei.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"textureCoordinate",function(){return this._textureCoordinate}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppei._vertexDeclaration}),$ppe(1,$ppei,"vertexDeclaration",function(){return $ppei._vertexDeclaration}),$ppl($ppei,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(32,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector2",2)])}]);var $ppti=$ppei;function $ppei($ppt,$ppe,$ppi){this._position=null,this._normal=null,this._textureCoordinate=null,this._position=$ppt,this._normal=$ppe,this._textureCoordinate=$ppi}$ppt($ppni,"laya.d3.graphics.VertexPositionNormalTexture0Texture1"),$ppa=$ppni.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"textureCoordinate0",function(){return this._textureCoordinate0}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppni._vertexDeclaration}),$ppe(0,$ppa,"textureCoordinate1",function(){return this._textureCoordinate1}),$ppe(1,$ppni,"vertexDeclaration",function(){return $ppni._vertexDeclaration}),$ppl($ppni,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(40,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector2",2),new $ppi(32,"vector2",15)])}]);var $ppii=$ppni;function $ppni($ppt,$ppe,$ppi,$ppn){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._position=$ppt,this._normal=$ppe,this._textureCoordinate0=$ppi,this._textureCoordinate1=$ppn}$ppt($ppsi,"laya.d3.graphics.VertexPositionNormalTexture0Texture1Skin"),$ppa=$ppsi.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"textureCoordinate0",function(){return this._textureCoordinate0}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppsi._vertexDeclaration}),$ppe(0,$ppa,"textureCoordinate1",function(){return this._textureCoordinate1}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(1,$ppsi,"vertexDeclaration",function(){return $ppsi._vertexDeclaration}),$ppl($ppsi,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(72,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector2",2),new $ppi(32,"vector2",15),new $ppi(40,"vector4",7),new $ppi(56,"vector4",6)])}]);var $ppri=$ppsi;function $ppsi($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._position=$ppt,this._normal=$ppe,this._textureCoordinate0=$ppi,this._textureCoordinate1=$ppn,this._blendIndex=$ppr,this._blendWeight=$pps}$ppt($ppoi,"laya.d3.graphics.VertexPositionNormalTexture0Texture1SkinSTangent"),$ppa=$ppoi.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"textureCoordinate0",function(){return this._textureCoordinate0}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppoi._vertexDeclaration}),$ppe(0,$ppa,"textureCoordinate1",function(){return this._textureCoordinate1}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(1,$ppoi,"vertexDeclaration",function(){return $ppoi._vertexDeclaration}),$ppl($ppoi,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(88,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector2",2),new $ppi(32,"vector2",15),new $ppi(40,"vector4",7),new $ppi(56,"vector4",6),new $ppi(72,"vector4",5)])}]);var $ppai=$ppoi;function $ppoi($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._textureCoordinate0=$ppi,this._textureCoordinate1=$ppn,this._tangent=$ppr,this._blendIndex=$pps,this._blendWeight=$ppa}$ppt($ppli,"laya.d3.graphics.VertexPositionNormalTexture0Texture1SkinTangent"),$ppa=$ppli.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppa.VertexPositionNormalTexture0SkinTangent=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){this._position=$ppt,this._normal=$ppe,this._textureCoordinate0=$ppi,this._textureCoordinate1=$ppn,this._tangent=$ppr,this._blendIndex=$pps,this._blendWeight=$ppa},$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"textureCoordinate0",function(){return this._textureCoordinate0}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppli._vertexDeclaration}),$ppe(0,$ppa,"textureCoordinate1",function(){return this._textureCoordinate1}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(1,$ppli,"vertexDeclaration",function(){return $ppli._vertexDeclaration}),$ppl($ppli,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(84,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector2",2),new $ppi(32,"vector2",15),new $ppi(40,"vector4",7),new $ppi(56,"vector4",6),new $ppi(72,"vector3",5)])}]);var $pphi=$ppli;function $ppli(){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null}$ppt($ppui,"laya.d3.graphics.VertexPositionNormalTexture0Texture1STangent"),$ppa=$ppui.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"textureCoordinate0",function(){return this._textureCoordinate0}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppui._vertexDeclaration}),$ppe(0,$ppa,"textureCoordinate1",function(){return this._textureCoordinate1}),$ppe(1,$ppui,"vertexDeclaration",function(){return $ppui._vertexDeclaration}),$ppl($ppui,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(56,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector2",2),new $ppi(32,"vector2",15),new $ppi(40,"vector4",5)])}]);var $ppci=$ppui;function $ppui($ppt,$ppe,$ppi,$ppn,$ppr){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._textureCoordinate0=$ppi,this._textureCoordinate1=$ppn,this._tangent=$ppr}$ppt($ppdi,"laya.d3.graphics.VertexPositionNormalTexture0Texture1Tangent"),$ppa=$ppdi.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppa.VertexPositionNormalTexture0Tangent=function($ppt,$ppe,$ppi,$ppn,$ppr){this._position=$ppt,this._normal=$ppe,this._textureCoordinate0=$ppi,this._textureCoordinate1=$ppn,this._tangent=$ppr},$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"textureCoordinate0",function(){return this._textureCoordinate0}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppdi._vertexDeclaration}),$ppe(0,$ppa,"textureCoordinate1",function(){return this._textureCoordinate1}),$ppe(1,$ppdi,"vertexDeclaration",function(){return $ppdi._vertexDeclaration}),$ppl($ppdi,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(52,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector2",2),new $ppi(32,"vector2",15),new $ppi(40,"vector3",5)])}]);var $pp_i=$ppdi;function $ppdi(){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null}$ppt($pppi,"laya.d3.graphics.VertexPositionNormalTextureSkin"),$ppa=$pppi.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"textureCoordinate",function(){return this._textureCoordinate}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(0,$ppa,"vertexDeclaration",function(){return $pppi._vertexDeclaration}),$ppe(1,$pppi,"vertexDeclaration",function(){return $pppi._vertexDeclaration}),$ppl($pppi,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(64,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector2",2),new $ppi(32,"vector4",7),new $ppi(48,"vector4",6)])}]);var $ppfi=$pppi;function $pppi($ppt,$ppe,$ppi,$ppn,$ppr){this._position=null,this._normal=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._position=$ppt,this._normal=$ppe,this._textureCoordinate=$ppi,this._blendIndex=$ppn,this._blendWeight=$ppr}$ppt($ppgi,"laya.d3.graphics.VertexPositionNormalTextureSkinSTangent"),$ppa=$ppgi.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"textureCoordinate",function(){return this._textureCoordinate}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppgi._vertexDeclaration}),$ppe(1,$ppgi,"vertexDeclaration",function(){return $ppgi._vertexDeclaration}),$ppl($ppgi,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(80,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector2",2),new $ppi(32,"vector4",7),new $ppi(48,"vector4",6),new $ppi(64,"vector4",5)])}]);var $ppmi=$ppgi;function $ppgi($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this._position=null,this._normal=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._textureCoordinate=$ppi,this._tangent=$ppn,this._blendIndex=$ppr,this._blendWeight=$pps}$ppt($ppyi,"laya.d3.graphics.VertexPositionNormalTextureSkinTangent"),$ppa=$ppyi.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"textureCoordinate",function(){return this._textureCoordinate}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppyi._vertexDeclaration}),$ppe(1,$ppyi,"vertexDeclaration",function(){return $ppyi._vertexDeclaration}),$ppl($ppyi,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(76,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector2",2),new $ppi(32,"vector4",7),new $ppi(48,"vector4",6),new $ppi(64,"vector3",5)])}]);var $ppvi=$ppyi;function $ppyi($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this._position=null,this._normal=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._textureCoordinate=$ppi,this._tangent=$ppn,this._blendIndex=$ppr,this._blendWeight=$pps}$ppt($ppwi,"laya.d3.graphics.VertexPositionNormalTextureSTangent"),$ppa=$ppwi.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"textureCoordinate",function(){return this._textureCoordinate}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppwi._vertexDeclaration}),$ppe(1,$ppwi,"vertexDeclaration",function(){return $ppwi._vertexDeclaration}),$ppl($ppwi,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(48,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector2",2),new $ppi(32,"vector4",5)])}]);var $ppxi=$ppwi;function $ppwi($ppt,$ppe,$ppi,$ppn){this._position=null,this._normal=null,this._textureCoordinate=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._textureCoordinate=$ppi,this._tangent=$ppn}$ppt($ppTi,"laya.d3.graphics.VertexPositionNormalTextureTangent"),$ppa=$ppTi.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"textureCoordinate",function(){return this._textureCoordinate}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppTi._vertexDeclaration}),$ppe(1,$ppTi,"vertexDeclaration",function(){return $ppTi._vertexDeclaration}),$ppl($ppTi,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(44,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector2",2),new $ppi(32,"vector3",5)])}]);var $ppbi=$ppTi;function $ppTi($ppt,$ppe,$ppi,$ppn){this._position=null,this._normal=null,this._textureCoordinate=null,this._tangent=null,this._position=$ppt,this._normal=$ppe,this._textureCoordinate=$ppi,this._tangent=$ppn}$ppt($ppCi,"laya.d3.graphics.VertexPositionNTBTexture"),$ppa=$ppCi.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"textureCoordinate",function(){return this._textureCoordinate}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppCi._vertexDeclaration}),$ppe(1,$ppCi,"vertexDeclaration",function(){return $ppCi._vertexDeclaration}),$ppl($ppCi,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(56,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector3",5),new $ppi(36,"vector3",4),new $ppi(48,"vector2",2)])}]);var $ppSi=$ppCi;function $ppCi($ppt,$ppe,$ppi){this._position=null,this._normal=null,this._textureCoordinate=null,this._position=$ppt,this._normal=$ppe,this._textureCoordinate=$ppi}$ppt($ppEi,"laya.d3.graphics.VertexPositionNTBTexture0Texture1Skin"),$ppa=$ppEi.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"tangent",function(){return this._tangent}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"textureCoordinate0",function(){return this._textureCoordinate0}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppEi._vertexDeclaration}),$ppe(0,$ppa,"textureCoordinate1",function(){return this._textureCoordinate1}),$ppe(0,$ppa,"blendIndex",function(){return this._blendIndex}),$ppe(0,$ppa,"blendWeight",function(){return this._blendWeight}),$ppe(1,$ppEi,"vertexDeclaration",function(){return $ppEi._vertexDeclaration}),$ppl($ppEi,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(96,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector3",5),new $ppi(36,"vector3",4),new $ppi(48,"vector2",2),new $ppi(56,"vector2",15),new $ppi(64,"vector4",7),new $ppi(80,"vector4",6)])}]);var $ppMi=$ppEi;function $ppEi($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this.binormal=null,this._position=$ppt,this._normal=$ppe,this._textureCoordinate0=$ppn,this._textureCoordinate1=$ppr,this._tangent=$pps,this._blendIndex=$ppa,this._blendWeight=$ppo}$ppt($ppDi,"laya.d3.graphics.VertexPositionNTBTextureSkin"),$ppa=$ppDi.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"textureCoordinate",function(){return this._textureCoordinate}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppDi._vertexDeclaration}),$ppe(1,$ppDi,"vertexDeclaration",function(){return $ppDi._vertexDeclaration}),$ppl($ppDi,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(88,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector3",5),new $ppi(36,"vector3",4),new $ppi(48,"vector2",2),new $ppi(56,"vector4",7),new $ppi(72,"vector4",6)])}]);var $ppAi=$ppDi;function $ppDi($ppt,$ppe,$ppi){this._position=null,this._normal=null,this._textureCoordinate=null,this._position=$ppt,this._normal=$ppe,this._textureCoordinate=$ppi}$ppt($ppIi,"laya.d3.graphics.VertexPositionTerrain"),$ppa=$ppIi.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"normal",function(){return this._normal}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"textureCoord0",function(){return this._textureCoord0}),$ppe(0,$ppa,"textureCoord1",function(){return this._textureCoord1}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppIi._vertexDeclaration}),$ppe(1,$ppIi,"vertexDeclaration",function(){return $ppIi._vertexDeclaration}),$ppl($ppIi,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(40,[new $ppi(0,"vector3",0),new $ppi(12,"vector3",3),new $ppi(24,"vector2",2),new $ppi(32,"vector2",15)])}]);function $ppIi($ppt,$ppe,$ppi,$ppn){this._position=null,this._normal=null,this._textureCoord0=null,this._textureCoord1=null,this._position=$ppt,this._normal=$ppe,this._textureCoord0=$ppi,this._textureCoord1=$ppn}$ppt($ppPi,"laya.d3.graphics.VertexPositionTexture0"),$ppa=$ppPi.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"position",function(){return this._position}),$ppe(0,$ppa,"textureCoordinate0",function(){return this._textureCoordinate0}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppPi._vertexDeclaration}),$ppe(1,$ppPi,"vertexDeclaration",function(){return $ppPi._vertexDeclaration}),$ppl($ppPi,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(20,[new $ppi(0,"vector3",0),new $ppi(12,"vector2",2)])}]);var $ppRi=$ppPi;function $ppPi($ppt,$ppe){this._position=null,this._textureCoordinate0=null,this._position=$ppt,this._textureCoordinate0=$ppe}$ppt($ppLi,"laya.d3.graphics.VertexShurikenParticleBillboard"),$ppa=$ppLi.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"cornerTextureCoordinate",function(){return this._cornerTextureCoordinate}),$ppe(0,$ppa,"random1",function(){return this._randoms1}),$ppe(0,$ppa,"startRotation2",function(){return this._startRotation2}),$ppe(0,$ppa,"positionStartLifeTime",function(){return this._positionStartLifeTime}),$ppe(0,$ppa,"velocity",function(){return this._velocity}),$ppe(0,$ppa,"random0",function(){return this._randoms0}),$ppe(0,$ppa,"startSize",function(){return this._startSize}),$ppe(0,$ppa,"startColor",function(){return this._startColor}),$ppe(0,$ppa,"startRotation0",function(){return this._startRotation0}),$ppe(0,$ppa,"startRotation1",function(){return this._startRotation1}),$ppe(0,$ppa,"startLifeTime",function(){return this._startLifeTime}),$ppe(0,$ppa,"time",function(){return this._time}),$ppe(0,$ppa,"startSpeed",function(){return this._startSpeed}),$ppe(0,$ppa,"simulationWorldPostion",function(){return this._simulationWorldPostion}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppLi._vertexDeclaration}),$ppe(1,$ppLi,"vertexDeclaration",function(){return $ppLi._vertexDeclaration}),$ppl($ppLi,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(152,[new $ppi(0,"vector4",17),new $ppi(16,"vector4",30),new $ppi(32,"vector4",32),new $ppi(48,"vector4",19),new $ppi(64,"vector3",20),new $ppi(76,"vector3",22),new $ppi(88,"single",31),new $ppi(92,"vector4",34),new $ppi(108,"vector4",35),new $ppi(124,"vector3",36),new $ppi(136,"vector4",37)])}]);function $ppLi($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph,$ppl,$ppc,$ppu,$pp_,$ppd){this._cornerTextureCoordinate=null,this._positionStartLifeTime=null,this._velocity=null,this._startColor=null,this._startSize=null,this._startRotation0=null,this._startRotation1=null,this._startRotation2=null,this._startLifeTime=NaN,this._time=NaN,this._startSpeed=NaN,this._randoms0=null,this._randoms1=null,this._simulationWorldPostion=null,this._cornerTextureCoordinate=$ppt,this._positionStartLifeTime=$ppe,this._velocity=$ppi,this._startColor=$ppn,this._startSize=$ppr,this._startRotation0=$pps,this._startRotation1=$ppa,this._startRotation2=$ppo,this._startLifeTime=$pph,this._time=$ppl,this._startSpeed=$ppc,this._randoms0=this.random0,this._randoms1=this.random1,this._simulationWorldPostion=$ppd}$ppt($ppBi,"laya.d3.graphics.VertexShurikenParticleMesh"),$ppa=$ppBi.prototype,$pph.imps($ppa,{"laya.d3.graphics.IVertex":!0}),$ppe(0,$ppa,"cornerTextureCoordinate",function(){return this._cornerTextureCoordinate}),$ppe(0,$ppa,"velocity",function(){return this._velocity}),$ppe(0,$ppa,"position",function(){return this._positionStartLifeTime}),$ppe(0,$ppa,"random0",function(){return this._randoms0}),$ppe(0,$ppa,"startSize",function(){return this._startSize}),$ppe(0,$ppa,"startColor",function(){return this._startColor}),$ppe(0,$ppa,"startRotation0",function(){return this._startRotation0}),$ppe(0,$ppa,"startRotation1",function(){return this._startRotation1}),$ppe(0,$ppa,"random1",function(){return this._randoms1}),$ppe(0,$ppa,"startRotation2",function(){return this._startRotation2}),$ppe(0,$ppa,"startLifeTime",function(){return this._startLifeTime}),$ppe(0,$ppa,"time",function(){return this._time}),$ppe(0,$ppa,"startSpeed",function(){return this._startSpeed}),$ppe(0,$ppa,"simulationWorldPostion",function(){return this._simulationWorldPostion}),$ppe(0,$ppa,"vertexDeclaration",function(){return $ppBi._vertexDeclaration}),$ppe(1,$ppBi,"vertexDeclaration",function(){return $ppBi._vertexDeclaration}),$ppl($ppBi,["_vertexDeclaration",function(){return this._vertexDeclaration=new $ppne(172,[new $ppi(0,"vector3",0),new $ppi(12,"vector4",1),new $ppi(28,"vector2",2),new $ppi(36,"vector4",30),new $ppi(52,"vector4",32),new $ppi(68,"vector4",19),new $ppi(84,"vector3",20),new $ppi(96,"vector3",22),new $ppi(108,"single",31),new $ppi(112,"vector4",34),new $ppi(128,"vector4",35),new $ppi(144,"vector3",36),new $ppi(156,"vector4",37)])}]);function $ppBi($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph,$ppl,$ppc,$ppu,$pp_,$ppd){this._cornerTextureCoordinate=null,this._positionStartLifeTime=null,this._velocity=null,this._startColor=null,this._startSize=null,this._startRotation0=null,this._startRotation1=null,this._startRotation2=null,this._startLifeTime=NaN,this._time=NaN,this._startSpeed=NaN,this._randoms0=null,this._randoms1=null,this._simulationWorldPostion=null,this._cornerTextureCoordinate=$ppt,this._positionStartLifeTime=$ppe,this._velocity=$ppi,this._startColor=$ppn,this._startSize=$ppr,this._startRotation0=$pps,this._startRotation1=$ppa,this._startRotation2=$ppo,this._startLifeTime=$pph,this._time=$ppl,this._startSpeed=$ppc,this._randoms0=this.random0,this._randoms1=this.random1,this._simulationWorldPostion=$ppd}$ppt($ppOi,"laya.d3.loaders.LoadModelV01"),($ppa=$ppOi.prototype)._onLoaded=function($ppt){this._readData=$ppt,this.READ_BLOCK();for(var $ppe=0;$ppe<this._BLOCK.count;$ppe++){var $ppi=this._readData.getUint16();var $ppn=this._strings[$ppi];var $ppr=this["READ_"+$ppn];if(null==$ppr)throw new Error("model file err,no this function:"+$ppi+" "+$ppn);if(!$ppr.call(this))break}return this._mesh},$ppa.onError=function(){},$ppa._readString=function(){return this._strings[this._readData.getUint16()]},$ppa.READ_BLOCK=function(){this._readData.getUint16();return this._BLOCK.count=this._readData.getUint16(),!0},$ppa.READ_DATA=function(){return this._DATA.offset=this._readData.getUint32(),this._DATA.size=this._readData.getUint32(),!0},$ppa.READ_STRINGS=function(){this._STRINGS.offset=this._readData.getUint16(),this._STRINGS.size=this._readData.getUint16();var $ppt=this._readData.pos;this._readData.pos=this._STRINGS.offset+this._DATA.offset;for(var $ppe=0;$ppe<this._STRINGS.size;$ppe++)this._strings[$ppe]=this._readData.readUTFString();return this._readData.pos=$ppt,!0},$ppa.READ_MATERIAL=function(){var $ppt=this._readData.getUint16();this._readString();var $ppe=this._readString();return this._materials[$ppt]="null"!==$ppe?$ppx.getRes(this._materialMap[$ppe]):new $ppdr,!0},$ppa.READ_MESH=function(){this._readString();switch(this._version){case"LAYAMODEL:01":console.log("Warning: The (.lm) file is converted by old fbxTools,please reConverted it use  lastest fbxTools version,later we will remove the  support of old version (.lm) support.");break;case"LAYASKINANI:01":case"LAYAMODEL:02":var $ppt=this._readData.__getBuffer();var $ppe,$ppi=0;var $ppn=this._readData.getUint32();var $ppr=this._readData.getUint32();new Float32Array($ppt.slice($ppn+this._DATA.offset,$ppn+this._DATA.offset+$ppr));$ppn=this._readData.getUint32();$ppr=this._readData.getUint32();var $pps=new Float32Array($ppt.slice($ppn+this._DATA.offset,$ppn+this._DATA.offset+$ppr));for(this.mesh._inverseBindPoses=[],$ppi=0,$ppe=$pps.length;$ppi<$ppe;$ppi+=16){var $ppa=new $pptn($pps[$ppi+0],$pps[$ppi+1],$pps[$ppi+2],$pps[$ppi+3],$pps[$ppi+4],$pps[$ppi+5],$pps[$ppi+6],$pps[$ppi+7],$pps[$ppi+8],$pps[$ppi+9],$pps[$ppi+10],$pps[$ppi+11],$pps[$ppi+12],$pps[$ppi+13],$pps[$ppi+14],$pps[$ppi+15]);this.mesh._inverseBindPoses.push($ppa)}break;default:throw new Error("LoadModel:unknown version.")}return!0},$ppa.READ_SUBMESH=function(){this._readString();this._readData.getUint8();var $ppt=this._readString();this._shaderAttributes=$ppt.match($ppOi._attrReg);$ppt=this._readData.getUint32();var $ppe=this._readData.getUint32();this._readData.getUint32();this._readData.getUint32();var $ppi=this._readData.getUint32();var $ppn=this._readData.getUint32();var $ppr=this._readData.getUint32();var $ppc=this._readData.getUint32();var $pps=this._readData.__getBuffer();var $ppa=new $ppvn(this._mesh);var $ppo=this._getVertexDeclaration();var $pph=$ppVr.create($ppo,$ppn/$ppo.vertexStride,35044,!0);$ppo=$ppi+this._DATA.offset;$ppi=$pps.slice($ppo,$ppo+$ppn);$pph.setData(new Float32Array($ppi));var $ppu=($ppa._vertexBuffer=$pph).vertexDeclaration.getVertexElements();for(var $ppl=0;$ppl<$ppu.length;$ppl++)$ppa._bufferUsage[$ppu[$ppl].elementUsage]=$pph;$ppo=$ppNr.create("ushort",$ppe/2,35044,!0);$ppn=$ppt+this._DATA.offset;$ppi=$pps.slice($ppn,$ppn+$ppe);$ppo.setData(new Uint16Array($ppi)),$ppa._indexBuffer=$ppo;$ppt=$pps.slice($ppr+this._DATA.offset,$ppr+this._DATA.offset+$ppc);return $ppa._boneIndicesList[0]=new Uint8Array($ppt),this._subMeshes.push($ppa),!0},$ppa.READ_DATAAREA=function(){return!1},$ppa._getVertexDeclaration=function(){var $ppt=!1,$ppe=!1,$ppi=!1,$ppn=!1,$ppr=!1,$pps=!1,$ppa=!1,$ppo=!1;var $pph=!1;for(var $ppc=0;$ppc<this._shaderAttributes.length;$ppc+=8)switch(this._shaderAttributes[$ppc]){case"POSITION":$ppt=!0;break;case"NORMAL":$ppe=!0;break;case"COLOR":$ppi=!0;break;case"UV":$ppn=!0;break;case"UV1":$ppr=!0;break;case"BLENDWEIGHT":$ppa=!0;break;case"BLENDINDICES":$ppo=!0;break;case"TANGENT":$pps=!0;break;case"BINORMAL":$pph=!0}var $ppl;return $ppt&&$ppe&&$ppi&&$ppn&&$ppr&&$ppa&&$ppo&&$pps?$ppl=$ppBe.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppn&&$ppr&&$ppa&&$ppo?$ppl=$ppIe.vertexDeclaration:$ppt&&$ppe&&$ppn&&$ppr&&$ppa&&$ppo&&$pps?$ppl=$pphi.vertexDeclaration:$ppt&&$ppe&&$ppn&&$ppr&&$ppa&&$ppo?$ppl=$ppri.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppn&&$ppa&&$ppo&&$pps?$ppl=$ppGe.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppn&&$ppa&&$ppo?$ppl=$ppUe.vertexDeclaration:$ppt&&$ppe&&$pps&&$pph&&$ppn&&$ppa&&$ppo?$ppl=$ppAi.vertexDeclaration:$ppt&&$ppe&&$ppn&&$ppa&&$ppo&&$pps?$ppl=$ppvi.vertexDeclaration:$ppt&&$ppe&&$ppn&&$ppa&&$ppo?$ppl=$ppfi.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppa&&$ppo&&$pps?$ppl=$ppxe.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppa&&$ppo?$ppl=$ppme.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppn&&$ppr&&$pps?$ppl=$ppVe.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppn&&$ppr?$ppl=$ppAe.vertexDeclaration:$ppt&&$ppe&&$ppn&&$ppr&&$pps?$ppl=$pp_i.vertexDeclaration:$ppt&&$ppe&&$ppn&&$ppr?$ppl=$ppii.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppn&&$pps?$ppl=$ppKe.vertexDeclaration:$ppt&&$ppe&&$ppn&&$pps&&$pph?$ppl=$ppSi.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppn?$ppl=$ppMe.vertexDeclaration:$ppt&&$ppe&&$ppn&&$pps?$ppl=$ppbi.vertexDeclaration:$ppt&&$ppe&&$ppn?$ppl=$ppti.vertexDeclaration:$ppt&&$ppe&&$ppi&&$pps?$ppl=$ppSe.vertexDeclaration:$ppt&&$ppe&&$ppi&&($ppl=$ppfe.vertexDeclaration),$ppl},$ppe(0,$ppa,"mesh",function(){return this._mesh}),$ppOi._attrReg=new RegExp("(\\w+)|([:,;])","g");var $ppNi=$ppOi;function $ppOi($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this._version=null,this._strings=["BLOCK","DATA","STRINGS"],this._materials=null,this._subMeshes=null,this._materialMap=null,this._readData=null,this._mesh=null,this._BLOCK={count:0},this._DATA={offset:0,size:0},this._STRINGS={offset:0,size:0},this._shaderAttributes=null,this._mesh=$ppi,this._materials=$ppn,this._subMeshes=$ppr,this._materialMap=$pps,this._version=$ppe,this._onLoaded($ppt)}$ppt($ppVi,"laya.d3.loaders.LoadModelV02"),$ppVi.parse=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){$ppVi._mesh=$ppi,$ppVi._materials=$ppn,$ppVi._subMeshes=$ppr,$ppVi._materialMap=$pps,$ppVi._version=$ppe,$ppVi._readData=$ppt,$ppVi.READ_DATA(),$ppVi.READ_BLOCK(),$ppVi.READ_STRINGS();for(var $ppa=0,$ppc=$ppVi._BLOCK.count;$ppa<$ppc;$ppa++){$ppVi._readData.pos=$ppVi._BLOCK.blockStarts[$ppa];var $ppo=$ppVi._readData.getUint16();var $pph=$ppVi._strings[$ppo];var $ppl=$ppVi["READ_"+$pph];if(null==$ppl)throw new Error("model file err,no this function:"+$ppo+" "+$pph);$ppl.call()}$ppVi._strings.length=0,$ppVi._readData=null,$ppVi._version=null,$ppVi._mesh=null,$ppVi._materials=null,$ppVi._subMeshes=null,$ppVi._materialMap=null},$ppVi._readString=function(){return $ppVi._strings[$ppVi._readData.getUint16()]},$ppVi.READ_DATA=function(){$ppVi._DATA.offset=$ppVi._readData.getUint32(),$ppVi._DATA.size=$ppVi._readData.getUint32()},$ppVi.READ_BLOCK=function(){var $ppt=$ppVi._BLOCK.count=$ppVi._readData.getUint16();var $ppe=$ppVi._BLOCK.blockStarts=[];var $ppi=$ppVi._BLOCK.blockLengths=[];for(var $ppn=0;$ppn<$ppt;$ppn++)$ppe.push($ppVi._readData.getUint32()),$ppi.push($ppVi._readData.getUint32())},$ppVi.READ_STRINGS=function(){var $ppt=$ppVi._readData.getUint32();var $ppe=$ppVi._readData.getUint16();var $ppi=$ppVi._readData.pos;$ppVi._readData.pos=$ppt+$ppVi._DATA.offset;for(var $ppn=0;$ppn<$ppe;$ppn++)$ppVi._strings[$ppn]=$ppVi._readData.readUTFString();$ppVi._readData.pos=$ppi},$ppVi.READ_MATERIAL=function(){$ppVi._readString();$ppVi._readString();var $ppt=$ppVi._readString();return""!==$ppt&&$ppVi._materials.push($ppx.getRes($ppVi._materialMap[$ppt])),!0},$ppVi.READ_MESH=function(){$ppVi._readString();var $ppt=$ppVi._readData.__getBuffer();var $ppe,$ppi=0;var $ppc=$ppVi._readData.getInt16();var $ppn=$ppVi._DATA.offset;for($ppi=0;$ppi<$ppc;$ppi++){var $ppr=$ppn+$ppVi._readData.getUint32();var $pps=$ppVi._readData.getUint32();$ppr=new Float32Array($ppt.slice($ppr,$ppr+$pps));$pps=$ppVi._readString().match($ppVi._attrReg);$pps=$ppVi._getVertexDeclaration($pps);$pps=$ppVr.create($pps,4*$ppr.length/$pps.vertexStride,35044,!0);$pps.setData($ppr),$ppVi._mesh._vertexBuffers.push($pps)}var $ppa=$ppn+$ppVi._readData.getUint32();var $ppo=$ppVi._readData.getUint32();$ppa=new Uint16Array($ppt.slice($ppa,$ppa+$ppo));$ppo=$ppNr.create("ushort",$ppo/2,35044,!0);$ppo.setData($ppa),$ppVi._mesh._indexBuffer=$ppo;var $pph=$ppVi._mesh._boneNames=[];var $ppu=$ppVi._readData.getUint16();for($pph.length=$ppu,$ppi=0;$ppi<$ppu;$ppi++)$pph[$ppi]=$ppVi._strings[$ppVi._readData.getUint16()];$ppa=$ppVi._readData.getUint32();$ppo=$ppVi._readData.getUint32();new Float32Array($ppt.slice($ppn+$ppa,$ppn+$ppa+$ppo));$ppa=$ppVi._readData.getUint32();$ppo=$ppVi._readData.getUint32();var $ppl=new Float32Array($ppt.slice($ppn+$ppa,$ppn+$ppa+$ppo));for($ppVi._mesh._inverseBindPoses=[],$ppi=0,$ppe=$ppl.length;$ppi<$ppe;$ppi+=16){var $pp_=new $pptn($ppl[$ppi+0],$ppl[$ppi+1],$ppl[$ppi+2],$ppl[$ppi+3],$ppl[$ppi+4],$ppl[$ppi+5],$ppl[$ppi+6],$ppl[$ppi+7],$ppl[$ppi+8],$ppl[$ppi+9],$ppl[$ppi+10],$ppl[$ppi+11],$ppl[$ppi+12],$ppl[$ppi+13],$ppl[$ppi+14],$ppl[$ppi+15]);$ppVi._mesh._inverseBindPoses.push($pp_)}return $ppVi._mesh._skinnedDatas=new Float32Array(16*$ppl.length),!0},$ppVi.READ_SUBMESH=function(){var $ppc=$ppVi._readData.__getBuffer();var $ppt=new $ppvn($ppVi._mesh);var $ppe=$ppVi._readData.getInt16();var $ppi=$ppVi._readData.getUint32();var $ppn=$ppVi._readData.getUint32();$ppt._vertexBuffer=$ppVi._mesh._vertexBuffers[$ppe],$ppt._vertexStart=$ppi,$ppt._vertexCount=$ppn;$ppe=$ppVi._readData.getUint32();$ppi=$ppVi._readData.getUint32();$ppn=$ppVi._mesh._indexBuffer;$ppt._indexBuffer=$ppn,$ppt._indexStart=$ppe,$ppt._indexCount=$ppi,$ppt._indices=new Uint16Array($ppn.getData().buffer,2*$ppe,$ppi);var $ppr=$ppVi._DATA.offset;var $pps=$ppt._subIndexBufferStart;var $ppa=$ppt._subIndexBufferCount;$ppn=$ppt._boneIndicesList;var $ppo=$ppVi._readData.getUint16();$pps.length=$ppo,$ppa.length=$ppo,$ppn.length=$ppo;for(var $pph=0;$pph<$ppo;$pph++){$pps[$pph]=$ppVi._readData.getUint32(),$ppa[$pph]=$ppVi._readData.getUint32();var $ppl=$ppVi._readData.getUint32();var $ppu=$ppVi._readData.getUint32();$ppt._boneIndicesList[$pph]=new Uint8Array($ppc.slice($ppr+$ppl,$ppr+$ppl+$ppu))}return $ppVi._subMeshes.push($ppt),!0},$ppVi._getVertexDeclaration=function($ppc){var $ppt=!1,$ppe=!1,$ppi=!1,$ppn=!1,$ppr=!1,$pps=!1,$ppa=!1,$ppo=!1;var $ppu=!1;for(var $pph=0;$pph<$ppc.length;$pph++)switch($ppc[$pph]){case"POSITION":$ppt=!0;break;case"NORMAL":$ppe=!0;break;case"COLOR":$ppi=!0;break;case"UV":$ppn=!0;break;case"UV1":$ppr=!0;break;case"BLENDWEIGHT":$ppa=!0;break;case"BLENDINDICES":$ppo=!0;break;case"TANGENT":$pps=!0;break;case"BINORMAL":$ppu=!0}var $ppl;return $ppt&&$ppe&&$ppi&&$ppn&&$ppr&&$ppa&&$ppo&&$pps?$ppl=$ppBe.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppn&&$ppr&&$ppa&&$ppo?$ppl=$ppIe.vertexDeclaration:$ppt&&$ppe&&$ppn&&$ppr&&$ppa&&$ppo&&$pps?$ppl=$pphi.vertexDeclaration:$ppt&&$ppe&&$ppn&&$ppr&&$ppa&&$ppo?$ppl=$ppri.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppn&&$ppa&&$ppo&&$pps?$ppl=$ppGe.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppn&&$ppa&&$ppo?$ppl=$ppUe.vertexDeclaration:$ppt&&$ppe&&$ppn&&$ppa&&$ppo&&$pps?$ppl=$ppvi.vertexDeclaration:$ppt&&$ppe&&$ppn&&$ppa&&$ppo?$ppl=$ppfi.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppa&&$ppo&&$pps?$ppl=$ppxe.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppa&&$ppo?$ppl=$ppme.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppn&&$ppr&&$pps?$ppl=$ppVe.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppn&&$ppr?$ppl=$ppAe.vertexDeclaration:$ppt&&$ppe&&$ppn&&$ppr&&$pps?$ppl=$pp_i.vertexDeclaration:$ppt&&$ppe&&$ppn&&$ppr?$ppl=$ppii.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppn&&$pps?$ppl=$ppKe.vertexDeclaration:$ppt&&$ppe&&$ppn&&$pps&&$ppu?$ppl=$ppSi.vertexDeclaration:$ppt&&$ppe&&$ppi&&$ppn?$ppl=$ppMe.vertexDeclaration:$ppt&&$ppe&&$ppn&&$pps?$ppl=$ppbi.vertexDeclaration:$ppt&&$ppe&&$ppn?$ppl=$ppti.vertexDeclaration:$ppt&&$ppe&&$ppi&&$pps?$ppl=$ppSe.vertexDeclaration:$ppt&&$ppe&&$ppi&&($ppl=$ppfe.vertexDeclaration),$ppl},$ppVi._attrReg=new RegExp("(\\w+)|([:,;])","g"),$ppVi._strings=[],$ppVi._readData=null,$ppVi._version=null,$ppVi._mesh=null,$ppVi._materials=null,$ppVi._subMeshes=null,$ppVi._materialMap=null,$ppl($ppVi,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]);var $ppFi=$ppVi;function $ppVi(){}$ppt($ppUi,"laya.d3.loaders.LoadModelV03"),$ppUi.parse=function($ppt,$ppe,$ppi,$ppn,$ppr){$ppUi._mesh=$ppi,$ppUi._subMeshes=$ppn,$ppUi._materialMap=$ppr,$ppUi._version=$ppe,$ppUi._readData=$ppt,$ppUi.READ_DATA(),$ppUi.READ_BLOCK(),$ppUi.READ_STRINGS();for(var $pps=0,$ppa=$ppUi._BLOCK.count;$pps<$ppa;$pps++){$ppUi._readData.pos=$ppUi._BLOCK.blockStarts[$pps];var $ppo=$ppUi._readData.getUint16();var $pph=$ppUi._strings[$ppo];var $ppl=$ppUi["READ_"+$pph];if(null==$ppl)throw new Error("model file err,no this function:"+$ppo+" "+$pph);$ppl.call()}$ppUi._strings.length=0,$ppUi._readData=null,$ppUi._version=null,$ppUi._mesh=null,$ppUi._subMeshes=null,$ppUi._materialMap=null},$ppUi._readString=function(){return $ppUi._strings[$ppUi._readData.getUint16()]},$ppUi.READ_DATA=function(){$ppUi._DATA.offset=$ppUi._readData.getUint32(),$ppUi._DATA.size=$ppUi._readData.getUint32()},$ppUi.READ_BLOCK=function(){var $ppt=$ppUi._BLOCK.count=$ppUi._readData.getUint16();var $ppe=$ppUi._BLOCK.blockStarts=[];var $ppi=$ppUi._BLOCK.blockLengths=[];for(var $ppn=0;$ppn<$ppt;$ppn++)$ppe.push($ppUi._readData.getUint32()),$ppi.push($ppUi._readData.getUint32())},$ppUi.READ_STRINGS=function(){var $ppt=$ppUi._readData.getUint32();var $ppe=$ppUi._readData.getUint16();var $ppi=$ppUi._readData.pos;$ppUi._readData.pos=$ppt+$ppUi._DATA.offset;for(var $ppn=0;$ppn<$ppe;$ppn++)$ppUi._strings[$ppn]=$ppUi._readData.readUTFString();$ppUi._readData.pos=$ppi},$ppUi.READ_MESH=function(){$ppUi._readString();var $ppt=$ppUi._readData.__getBuffer();var $ppe,$ppi=0;var $ppc=$ppUi._readData.getInt16();var $ppn=$ppUi._DATA.offset;for($ppi=0;$ppi<$ppc;$ppi++){var $ppr=$ppn+$ppUi._readData.getUint32();var $pps=$ppUi._readData.getUint32();$ppr=new Float32Array($ppt.slice($ppr,$ppr+$pps));var $ppu=$ppUi._readString();var $ppa;switch($ppUi._version){case"LAYAMODEL:03":$ppa=$ppUi._vertexDeclarationMap_Discard[$ppu];break;case"LAYAMODEL:0301":$ppa=$ppUi._vertexDeclarationMap[$ppu];break;default:throw new Error("LoadModelV03: unknown version.")}if(!$ppa)throw new Error("LoadModelV03: unknown vertexDeclaration.");$pps=$ppVr.create($ppa,4*$ppr.length/$ppa.vertexStride,35044,!0);$pps.setData($ppr),$ppUi._mesh._vertexBuffers.push($pps)}var $ppo=$ppn+$ppUi._readData.getUint32();var $pph=$ppUi._readData.getUint32();$ppo=new Uint16Array($ppt.slice($ppo,$ppo+$pph));$pph=$ppNr.create("ushort",$pph/2,35044,!0);$pph.setData($ppo),$ppUi._mesh._indexBuffer=$pph;var $pp_=$ppUi._mesh._boneNames=[];var $ppd=$ppUi._readData.getUint16();for($pp_.length=$ppd,$ppi=0;$ppi<$ppd;$ppi++)$pp_[$ppi]=$ppUi._strings[$ppUi._readData.getUint16()];$ppUi._readData.pos+=8;$ppo=$ppUi._readData.getUint32();$pph=$ppUi._readData.getUint32();var $ppl=new Float32Array($ppt.slice($ppn+$ppo,$ppn+$ppo+$pph));for($ppUi._mesh._inverseBindPoses=[],$ppi=0,$ppe=$ppl.length;$ppi<$ppe;$ppi+=16){var $ppf=new $pptn($ppl[$ppi+0],$ppl[$ppi+1],$ppl[$ppi+2],$ppl[$ppi+3],$ppl[$ppi+4],$ppl[$ppi+5],$ppl[$ppi+6],$ppl[$ppi+7],$ppl[$ppi+8],$ppl[$ppi+9],$ppl[$ppi+10],$ppl[$ppi+11],$ppl[$ppi+12],$ppl[$ppi+13],$ppl[$ppi+14],$ppl[$ppi+15]);$ppUi._mesh._inverseBindPoses.push($ppf)}return $ppUi._mesh._skinnedDatas=new Float32Array(16*$ppl.length),!0},$ppUi.READ_SUBMESH=function(){var $ppc=$ppUi._readData.__getBuffer();var $ppt=new $ppvn($ppUi._mesh);var $ppe=$ppUi._readData.getInt16();var $ppi=$ppUi._readData.getUint32();var $ppn=$ppUi._readData.getUint32();$ppt._vertexBuffer=$ppUi._mesh._vertexBuffers[$ppe],$ppt._vertexStart=$ppi,$ppt._vertexCount=$ppn;$ppe=$ppUi._readData.getUint32();$ppi=$ppUi._readData.getUint32();$ppn=$ppUi._mesh._indexBuffer;$ppt._indexBuffer=$ppn,$ppt._indexStart=$ppe,$ppt._indexCount=$ppi,$ppt._indices=new Uint16Array($ppn.getData().buffer,2*$ppe,$ppi);var $ppr=$ppUi._DATA.offset;var $pps=$ppt._subIndexBufferStart;var $ppa=$ppt._subIndexBufferCount;var $ppo=$ppt._boneIndicesList;var $pph=$ppUi._readData.getUint16();$pps.length=$pph,$ppa.length=$pph,$ppo.length=$pph;for(var $ppl=0;$ppl<$pph;$ppl++){$pps[$ppl]=$ppUi._readData.getUint32(),$ppa[$ppl]=$ppUi._readData.getUint32();var $ppu=$ppUi._readData.getUint32();var $pp_=$ppUi._readData.getUint32();$ppo[$ppl]=new Uint8Array($ppc.slice($ppr+$ppu,$ppr+$ppu+$pp_))}return $ppUi._subMeshes.push($ppt),!0},$ppUi._strings=[],$ppUi._readData=null,$ppUi._version=null,$ppUi._mesh=null,$ppUi._subMeshes=null,$ppUi._materialMap=null,$ppl($ppUi,["_vertexDeclarationMap_Discard",function(){return this._vertexDeclarationMap_Discard={"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":$ppBe.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES":$ppIe.vertexDeclaration,"POSITION,NORMAL,TANGENT,BINORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,":$ppMi.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":$pphi.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES":$ppri.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":$ppGe.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES":$ppUe.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":$ppvi.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES":$ppfi.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES,TANGENT":$ppxe.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES":$ppme.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,TANGENT":$ppVe.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1":$ppAe.vertexDeclaration,"POSITION,NORMAL,UV,UV1,TANGENT":$pp_i.vertexDeclaration,"POSITION,NORMAL,UV,UV1":$ppii.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,TANGENT":$ppKe.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT,BINORMAL":$ppSi.vertexDeclaration,"POSITION,NORMAL,COLOR,UV":$ppMe.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT":$ppbi.vertexDeclaration,"POSITION,NORMAL,UV":$ppti.vertexDeclaration,"POSITION,NORMAL,COLOR,TANGENT":$ppSe.vertexDeclaration,"POSITION,NORMAL,COLOR":$ppfe.vertexDeclaration,"POSITION,NORMAL,TANGENT":$ppQe.vertexDeclaration,"POSITION,NORMAL":$pp_e.vertexDeclaration,"POSITION,UV":$ppRi.vertexDeclaration,POSITION:$ppce.vertexDeclaration}},"_vertexDeclarationMap",function(){return this._vertexDeclarationMap={"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":$ppPe.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES":$ppIe.vertexDeclaration,"POSITION,NORMAL,TANGENT,BINORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,":$ppMi.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":$ppai.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES":$ppri.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":$ppze.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES":$ppUe.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":$ppmi.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES":$ppfi.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES,TANGENT":$ppve.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES":$ppme.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,TANGENT":$ppOe.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1":$ppAe.vertexDeclaration,"POSITION,NORMAL,UV,UV1,TANGENT":$ppci.vertexDeclaration,"POSITION,NORMAL,UV,UV1":$ppii.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,TANGENT":$ppXe.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT,BINORMAL":$ppSi.vertexDeclaration,"POSITION,NORMAL,COLOR,UV":$ppMe.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT":$ppxi.vertexDeclaration,"POSITION,NORMAL,UV":$ppti.vertexDeclaration,"POSITION,NORMAL,COLOR,TANGENT":$ppbe.vertexDeclaration,"POSITION,NORMAL,COLOR":$ppfe.vertexDeclaration,"POSITION,NORMAL,TANGENT":$pp$e.vertexDeclaration,"POSITION,NORMAL":$pp_e.vertexDeclaration,"POSITION,UV":$ppRi.vertexDeclaration,POSITION:$ppce.vertexDeclaration}},"_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]);var $ppki=$ppUi;function $ppUi(){}$ppt($ppzi,"laya.d3.loaders.MeshReader"),$ppzi.read=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=new $ppy($ppt);$pps.pos=0;var $ppa=$pps.readUTFString();switch($ppa){case"LAYAMODEL:01":case"LAYASKINANI:01":$ppzi._readVersion01($pps,$ppa,$ppe,$ppi,$ppn,$ppr);break;case"LAYAMODEL:02":$ppFi.parse($pps,$ppa,$ppe,$ppi,$ppn,$ppr);break;case"LAYAMODEL:03":case"LAYAMODEL:0301":$ppki.parse($pps,$ppa,$ppe,$ppn,$ppr);break;default:throw new Error("MeshReader: unknown mesh version.")}$ppe._setSubMeshes($ppn)},$ppzi._readVersion01=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){new $ppNi($ppt,$ppe,$ppi,$ppn,$ppr,$pps)};var $ppHi=$ppzi;function $ppzi(){}$ppt($ppGi,"laya.d3.math.BoundBox"),$ppa=$ppGi.prototype,$pph.imps($ppa,{"laya.d3.core.IClone":!0}),$ppa.getCorners=function($ppt){$ppt.length=8;var $ppe=this.min.elements;var $ppi=this.max.elements;var $ppn=$ppe[0];var $ppr=$ppe[1];$ppe=$ppe[2];var $pps=$ppi[0];var $ppa=$ppi[1];$ppi=$ppi[2];$ppt[0]=new $ppD($ppn,$ppa,$ppi),$ppt[1]=new $ppD($pps,$ppa,$ppi),$ppt[2]=new $ppD($pps,$ppr,$ppi),$ppt[3]=new $ppD($ppn,$ppr,$ppi),$ppt[4]=new $ppD($ppn,$ppa,$ppe),$ppt[5]=new $ppD($pps,$ppa,$ppe),$ppt[6]=new $ppD($pps,$ppr,$ppe),$ppt[7]=new $ppD($ppn,$ppr,$ppe)},$ppa.toDefault=function(){this.min.toDefault(),this.max.toDefault()},$ppa.cloneTo=function($ppt){this.min.cloneTo($ppt.min),this.max.cloneTo($ppt.max)},$ppa.clone=function(){var $ppt=new this.constructor(new $ppD,new $ppD);return this.cloneTo($ppt),$ppt},$ppGi.createfromPoints=function($ppt,$ppe){if(null==$ppt)throw new Error("points");var $ppi=$ppe.min;var $ppn=$ppe.max;$ppe=$ppi.elements;$ppe[0]=Number.MAX_VALUE,$ppe[1]=Number.MAX_VALUE,$ppe[2]=Number.MAX_VALUE;$ppe=$ppn.elements;$ppe[0]=-Number.MAX_VALUE,$ppe[1]=-Number.MAX_VALUE,$ppe[2]=-Number.MAX_VALUE;for(var $ppr=0,$pps=$ppt.length;$ppr<$pps;++$ppr)$ppD.min($ppi,$ppt[$ppr],$ppi),$ppD.max($ppn,$ppt[$ppr],$ppn)},$ppGi.merge=function($ppt,$ppe,$ppi){$ppD.min($ppt.min,$ppe.min,$ppi.min),$ppD.max($ppt.max,$ppe.max,$ppi.max)};var $ppWi=$ppGi;function $ppGi($ppt,$ppe){this.min=null,this.max=null,this.min=$ppt,this.max=$ppe}$ppt($ppXi,"laya.d3.math.BoundFrustum"),($ppa=$ppXi.prototype).equalsBoundFrustum=function($ppt){return this._matrix.equalsOtherMatrix($ppt.matrix)},$ppa.equalsObj=function($ppt){return $ppt instanceof laya.d3.math.BoundFrustum&&this.equalsBoundFrustum($ppt)},$ppa.getPlane=function($ppt){switch($ppt){case 0:return this._near;case 1:return this._far;case 2:return this._left;case 3:return this._right;case 4:return this._top;case 5:return this._bottom;default:return null}},$ppa.getCorners=function($ppt){$ppXi._get3PlaneInterPoint(this._near,this._bottom,this._right).cloneTo($ppt[0]),$ppXi._get3PlaneInterPoint(this._near,this._top,this._right).cloneTo($ppt[1]),$ppXi._get3PlaneInterPoint(this._near,this._top,this._left).cloneTo($ppt[2]),$ppXi._get3PlaneInterPoint(this._near,this._bottom,this._left).cloneTo($ppt[3]),$ppXi._get3PlaneInterPoint(this._far,this._bottom,this._right).cloneTo($ppt[4]),$ppXi._get3PlaneInterPoint(this._far,this._top,this._right).cloneTo($ppt[5]),$ppXi._get3PlaneInterPoint(this._far,this._top,this._left).cloneTo($ppt[6]),$ppXi._get3PlaneInterPoint(this._far,this._bottom,this._left).cloneTo($ppt[7])},$ppa.containsPoint=function($ppt){var $ppe=$ppin.PlaneIntersectionType_Front;var $ppi=$ppin.PlaneIntersectionType_Front;for(var $ppn=0;$ppn<6;$ppn++){switch($ppn){case 0:$ppi=Collision.intersectsPlaneAndPoint(this._near,$ppt);break;case 1:$ppi=Collision.intersectsPlaneAndPoint(this._far,$ppt);break;case 2:$ppi=Collision.intersectsPlaneAndPoint(this._left,$ppt);break;case 3:$ppi=Collision.intersectsPlaneAndPoint(this._right,$ppt);break;case 4:$ppi=Collision.intersectsPlaneAndPoint(this._top,$ppt);break;case 5:$ppi=Collision.intersectsPlaneAndPoint(this._bottom,$ppt)}switch($ppi){case $ppin.PlaneIntersectionType_Back:return 0;case $ppin.PlaneIntersectionType_Intersecting:$ppe=$ppin.PlaneIntersectionType_Intersecting}}return $ppe!==$ppin.PlaneIntersectionType_Intersecting?1:2},$ppa.containsBoundBox=function($ppt){var $ppe=$ppXi._tempV30,$ppi=$ppXi._tempV31;var $ppn;var $ppr=1;for(var $pps=0;$pps<6;$pps++){if($ppn=this.getPlane($pps),this._getBoxToPlanePVertexNVertex($ppt,$ppn.normal,$ppe,$ppi),Collision.intersectsPlaneAndPoint($ppn,$ppe)===$ppin.PlaneIntersectionType_Back)return 0;Collision.intersectsPlaneAndPoint($ppn,$ppi)===$ppin.PlaneIntersectionType_Back&&($ppr=2)}return $ppr},$ppa.containsBoundSphere=function($ppt){var $ppe=$ppin.PlaneIntersectionType_Front;var $ppi=$ppin.PlaneIntersectionType_Front;for(var $ppn=0;$ppn<6;$ppn++){switch($ppn){case 0:$ppi=Collision.intersectsPlaneAndSphere(this._near,$ppt);break;case 1:$ppi=Collision.intersectsPlaneAndSphere(this._far,$ppt);break;case 2:$ppi=Collision.intersectsPlaneAndSphere(this._left,$ppt);break;case 3:$ppi=Collision.intersectsPlaneAndSphere(this._right,$ppt);break;case 4:$ppi=Collision.intersectsPlaneAndSphere(this._top,$ppt);break;case 5:$ppi=Collision.intersectsPlaneAndSphere(this._bottom,$ppt)}switch($ppi){case $ppin.PlaneIntersectionType_Back:return 0;case $ppin.PlaneIntersectionType_Intersecting:$ppe=$ppin.PlaneIntersectionType_Intersecting}}return $ppe!==$ppin.PlaneIntersectionType_Intersecting?1:2},$ppa._getBoxToPlanePVertexNVertex=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt.min;var $pps=$ppr.elements;$ppt=$ppt.max;var $ppa=$ppt.elements;$ppe=$ppe.elements;var $ppo=$ppe[0];var $pph=$ppe[1];$ppe=$ppe[2];$ppr.cloneTo($ppi);$ppr=$ppi.elements;0<=$ppo&&($ppr[0]=$ppa[0]),0<=$pph&&($ppr[1]=$ppa[1]),0<=$ppe&&($ppr[2]=$ppa[2]),$ppt.cloneTo($ppn);$ppi=$ppn.elements;0<=$ppo&&($ppi[0]=$pps[0]),0<=$pph&&($ppi[1]=$pps[1]),0<=$ppe&&($ppi[2]=$pps[2])},$ppe(0,$ppa,"top",function(){return this._top}),$ppe(0,$ppa,"matrix",function(){return this._matrix},function($ppt){this._matrix=$ppt,$ppXi._getPlanesFromMatrix(this._matrix,this._near,this._far,this._left,this._right,this._top,this._bottom)}),$ppe(0,$ppa,"near",function(){return this._near}),$ppe(0,$ppa,"far",function(){return this._far}),$ppe(0,$ppa,"left",function(){return this._left}),$ppe(0,$ppa,"right",function(){return this._right}),$ppe(0,$ppa,"bottom",function(){return this._bottom}),$ppXi._getPlanesFromMatrix=function($ppt,$ppe,$ppi,$ppn,$ppc,$ppu,$pp_){$ppt=$ppt.elements;var $ppd=$ppt[0];var $ppf=$ppt[1];var $ppr=$ppt[2];var $pps=$ppt[3];var $ppp=$ppt[4];var $ppm=$ppt[5];var $ppa=$ppt[6];var $ppo=$ppt[7];var $ppg=$ppt[8];var $ppv=$ppt[9];var $ppy=$ppt[10];var $pph=$ppt[11];var $ppx=$ppt[12];var $ppw=$ppt[13];var $ppb=$ppt[14];$ppt=$ppt[15];var $ppl=$ppe.normal.elements;$ppl[0]=$pps+$ppr,$ppl[1]=$ppo+$ppa,$ppl[2]=$pph+$ppy,$ppe.distance=$ppt+$ppb,$ppe.normalize();$ppl=$ppi.normal.elements;$ppl[0]=$pps-$ppr,$ppl[1]=$ppo-$ppa,$ppl[2]=$pph-$ppy,$ppi.distance=$ppt-$ppb,$ppi.normalize();$ppe=$ppn.normal.elements;$ppe[0]=$pps+$ppd,$ppe[1]=$ppo+$ppp,$ppe[2]=$pph+$ppg,$ppn.distance=$ppt+$ppx,$ppn.normalize();$ppr=$ppc.normal.elements;$ppr[0]=$pps-$ppd,$ppr[1]=$ppo-$ppp,$ppr[2]=$pph-$ppg,$ppc.distance=$ppt-$ppx,$ppc.normalize();$ppa=$ppu.normal.elements;$ppa[0]=$pps-$ppf,$ppa[1]=$ppo-$ppm,$ppa[2]=$pph-$ppv,$ppu.distance=$ppt-$ppw,$ppu.normalize();$ppl=$pp_.normal.elements;$ppl[0]=$pps+$ppf,$ppl[1]=$ppo+$ppm,$ppl[2]=$pph+$ppv,$pp_.distance=$ppt+$ppw,$pp_.normalize()},$ppXi._get3PlaneInterPoint=function($ppt,$ppe,$ppi){var $ppn=$ppt.normal;var $ppr=$ppe.normal;var $pps=$ppi.normal;$ppD.cross($ppr,$pps,$ppXi._tempV30),$ppD.cross($pps,$ppn,$ppXi._tempV31),$ppD.cross($ppn,$ppr,$ppXi._tempV32);$ppn=$ppD.dot($ppn,$ppXi._tempV30);$ppr=$ppD.dot($ppr,$ppXi._tempV31);$pps=$ppD.dot($pps,$ppXi._tempV32);return $ppD.scale($ppXi._tempV30,-$ppt.distance/$ppn,$ppXi._tempV33),$ppD.scale($ppXi._tempV31,-$ppe.distance/$ppr,$ppXi._tempV34),$ppD.scale($ppXi._tempV32,-$ppi.distance/$pps,$ppXi._tempV35),$ppD.add($ppXi._tempV33,$ppXi._tempV34,$ppXi._tempV36),$ppD.add($ppXi._tempV35,$ppXi._tempV36,$ppXi._tempV37),$ppXi._tempV37},$ppl($ppXi,["_tempV30",function(){return this._tempV30=new $ppD},"_tempV31",function(){return this._tempV31=new $ppD},"_tempV32",function(){return this._tempV32=new $ppD},"_tempV33",function(){return this._tempV33=new $ppD},"_tempV34",function(){return this._tempV34=new $ppD},"_tempV35",function(){return this._tempV35=new $ppD},"_tempV36",function(){return this._tempV36=new $ppD},"_tempV37",function(){return this._tempV37=new $ppD}]);var $ppYi=$ppXi;function $ppXi($ppt){this._matrix=null,this._near=null,this._far=null,this._left=null,this._right=null,this._top=null,this._bottom=null,this._matrix=$ppt,this._near=new $ppin(new $ppD),this._far=new $ppin(new $ppD),this._left=new $ppin(new $ppD),this._right=new $ppin(new $ppD),this._top=new $ppin(new $ppD),this._bottom=new $ppin(new $ppD),$ppXi._getPlanesFromMatrix(this._matrix,this._near,this._far,this._left,this._right,this._top,this._bottom)}$ppt($ppKi,"laya.d3.math.BoundSphere"),$ppa=$ppKi.prototype,$pph.imps($ppa,{"laya.d3.core.IClone":!0}),$ppa.toDefault=function(){this.center.toDefault(),this.radius=0},$ppa.intersectsRayDistance=function($ppt){return Collision.intersectsRayAndSphereRD($ppt,this)},$ppa.intersectsRayPoint=function($ppt,$ppe){return Collision.intersectsRayAndSphereRP($ppt,this,$ppe)},$ppa.cloneTo=function($ppt){this.center.cloneTo($ppt.center),$ppt.radius=this.radius},$ppa.clone=function(){var $ppt=new this.constructor(new $ppD,new $ppD);return this.cloneTo($ppt),$ppt},$ppKi.createFromSubPoints=function($ppt,$ppe,$ppi,$ppn){if(null==$ppt)throw new Error("points");if($ppe<0||$ppe>=$ppt.length)throw new Error("start"+$ppe+"Must be in the range [0, "+($ppt.length-1)+"]");if($ppi<0||$ppe+$ppi>$ppt.length)throw new Error("count"+$ppi+"Must be in the range <= "+$ppt.length+"}");var $ppr=$ppe+$ppi;var $pps=$ppKi._tempVector3;$pps.elements[0]=0,$pps.elements[1]=0,$pps.elements[2]=0;for(var $ppa=$ppe;$ppa<$ppr;++$ppa)$ppD.add($ppt[$ppa],$pps,$pps);var $ppo=$ppn.center;$ppD.scale($pps,1/$ppi,$ppo);var $pph=0;for($ppa=$ppe;$ppa<$ppr;++$ppa){var $ppl=$ppD.distanceSquared($ppo,$ppt[$ppa]);$pph<$ppl&&($pph=$ppl)}$ppn.radius=Math.sqrt($pph)},$ppKi.createfromPoints=function($ppt,$ppe){if(null==$ppt)throw new Error("points");$ppKi.createFromSubPoints($ppt,0,$ppt.length,$ppe)},$ppl($ppKi,["_tempVector3",function(){return this._tempVector3=new $ppD}]);var $ppji=$ppKi;function $ppKi($ppt,$ppe){this.center=null,this.radius=NaN,this.center=$ppt,this.radius=$ppe}$ppt($ppqi,"laya.d3.math.ContainmentType"),$ppqi.Disjoint=0,$ppqi.Contains=1,$ppqi.Intersects=2;function $ppqi(){}$ppt($ppZi,"laya.d3.math.MathUtils3D"),$ppZi.isZero=function($ppt){return Math.abs($ppt)<$ppZi.zeroTolerance},$ppZi.nearEqual=function($ppt,$ppe){return!!$ppZi.isZero($ppt-$ppe)},$ppZi.fastInvSqrt=function($ppt){return $ppZi.isZero($ppt)?$ppt:1/Math.sqrt($ppt)},$ppl($ppZi,["zeroTolerance",function(){return this.zeroTolerance=1e-6},"MaxValue",function(){return this.MaxValue=340282347e30},"MinValue",function(){return this.MinValue=-340282347e30}]);var $pp$i=$ppZi;function $ppZi(){}$ppt($ppJi,"laya.d3.math.Matrix3x3"),$ppa=$ppJi.prototype,$pph.imps($ppa,{"laya.d3.core.IClone":!0}),$ppa.determinant=function(){var $ppt=this.elements;var $ppe=$ppt[0],$ppi=$ppt[1],$ppn=$ppt[2];var $ppr=$ppt[3],$pps=$ppt[4],$ppa=$ppt[5];var $ppo=$ppt[6],$pph=$ppt[7],$ppt=$ppt[8];return $ppe*($ppt*$pps-$ppa*$pph)+$ppi*(-$ppt*$ppr+$ppa*$ppo)+$ppn*($pph*$ppr-$pps*$ppo)},$ppa.translate=function($ppt,$ppe){$ppe=$ppe.elements;var $ppi=this.elements;$ppt=$ppt.elements;var $ppn=$ppi[0],$ppr=$ppi[1],$pps=$ppi[2];var $ppa=$ppi[3],$ppo=$ppi[4],$pph=$ppi[5];var $ppc=$ppi[6],$ppu=$ppi[7],$ppi=$ppi[8];var $ppl=$ppt[0],$ppt=$ppt[1];$ppe[0]=$ppn,$ppe[1]=$ppr,$ppe[2]=$pps,$ppe[3]=$ppa,$ppe[4]=$ppo,$ppe[5]=$pph,$ppe[6]=$ppl*$ppn+$ppt*$ppa+$ppc,$ppe[7]=$ppl*$ppr+$ppt*$ppo+$ppu,$ppe[8]=$ppl*$pps+$ppt*$pph+$ppi},$ppa.rotate=function($ppt,$ppe){$ppe=$ppe.elements;var $ppi=this.elements;var $ppn=$ppi[0],$ppr=$ppi[1],$pps=$ppi[2];var $ppa=$ppi[3],$ppo=$ppi[4],$pph=$ppi[5];var $ppc=$ppi[6],$ppu=$ppi[7],$ppi=$ppi[8];var $ppl=Math.sin($ppt);$ppt=Math.cos($ppt);$ppe[0]=$ppt*$ppn+$ppl*$ppa,$ppe[1]=$ppt*$ppr+$ppl*$ppo,$ppe[2]=$ppt*$pps+$ppl*$pph,$ppe[3]=$ppt*$ppa-$ppl*$ppn,$ppe[4]=$ppt*$ppo-$ppl*$ppr,$ppe[5]=$ppt*$pph-$ppl*$pps,$ppe[6]=$ppc,$ppe[7]=$ppu,$ppe[8]=$ppi},$ppa.scale=function($ppt,$ppe){$ppe=$ppe.elements;var $ppi=this.elements;$ppt=$ppt.elements;var $ppn=$ppt[0],$ppt=$ppt[1];$ppe[0]=$ppn*$ppi[0],$ppe[1]=$ppn*$ppi[1],$ppe[2]=$ppn*$ppi[2],$ppe[3]=$ppt*$ppi[3],$ppe[4]=$ppt*$ppi[4],$ppe[5]=$ppt*$ppi[5],$ppe[6]=$ppi[6],$ppe[7]=$ppi[7],$ppe[8]=$ppi[8]},$ppa.invert=function($ppc){var $ppt=$ppc.elements;var $ppe=this.elements;var $ppi=$ppe[0],$ppn=$ppe[1],$ppr=$ppe[2];var $pps=$ppe[3],$ppa=$ppe[4],$ppo=$ppe[5];var $pph=$ppe[6],$ppu=$ppe[7],$ppe=$ppe[8];var $pp_=$ppe*$ppa-$ppo*$ppu;var $ppd=-$ppe*$pps+$ppo*$pph;var $ppf=$ppu*$pps-$ppa*$pph;var $ppl=$ppi*$pp_+$ppn*$ppd+$ppr*$ppf;$ppl||($ppc=null),$ppt[0]=$pp_*($ppl=1/$ppl),$ppt[1]=(-$ppe*$ppn+$ppr*$ppu)*$ppl,$ppt[2]=($ppo*$ppn-$ppr*$ppa)*$ppl,$ppt[3]=$ppd*$ppl,$ppt[4]=($ppe*$ppi-$ppr*$pph)*$ppl,$ppt[5]=(-$ppo*$ppi+$ppr*$pps)*$ppl,$ppt[6]=$ppf*$ppl,$ppt[7]=(-$ppu*$ppi+$ppn*$pph)*$ppl,$ppt[8]=($ppa*$ppi-$ppn*$pps)*$ppl},$ppa.transpose=function($ppt){var $ppe=$ppt.elements;var $ppi=this.elements;var $ppn,$ppr;$ppt===this?($ppt=$ppi[1],$ppn=$ppi[2],$ppr=$ppi[5],$ppe[1]=$ppi[3],$ppe[2]=$ppi[6],$ppe[3]=$ppt,$ppe[5]=$ppi[7],$ppe[6]=$ppn,$ppe[7]=$ppr):($ppe[0]=$ppi[0],$ppe[1]=$ppi[3],$ppe[2]=$ppi[6],$ppe[3]=$ppi[1],$ppe[4]=$ppi[4],$ppe[5]=$ppi[7],$ppe[6]=$ppi[2],$ppe[7]=$ppi[5],$ppe[8]=$ppi[8])},$ppa.identity=function(){var $ppt=this.elements;$ppt[0]=1,$ppt[1]=0,$ppt[2]=0,$ppt[3]=0,$ppt[4]=1,$ppt[5]=0,$ppt[6]=0,$ppt[7]=0,$ppt[8]=1},$ppa.cloneTo=function($ppt){var $ppe,$ppi,$ppn;if(($ppi=this.elements)!==($ppn=$ppt.elements))for($ppe=0;$ppe<9;++$ppe)$ppn[$ppe]=$ppi[$ppe]},$ppa.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppJi.createFromTranslation=function($ppt,$ppe){$ppe.elements;$ppt=$ppt.elements;$ppe[0]=1,$ppe[1]=0,$ppe[2]=0,$ppe[3]=0,$ppe[4]=1,$ppe[5]=0,$ppe[6]=$ppt[0],$ppe[7]=$ppt[1],$ppe[8]=1},$ppJi.createFromRotation=function($ppt,$ppe){$ppe=$ppe.elements;var $ppi=Math.sin($ppt),$ppt=Math.cos($ppt);$ppe[0]=$ppt,$ppe[1]=$ppi,$ppe[2]=0,$ppe[3]=-$ppi,$ppe[4]=$ppt,$ppe[5]=0,$ppe[6]=0,$ppe[7]=0,$ppe[8]=1},$ppJi.createFromScaling=function($ppt,$ppe){$ppe=$ppe.elements;$ppt=$ppt.elements;$ppe[0]=$ppt[0],$ppe[1]=0,$ppe[2]=0,$ppe[3]=0,$ppe[4]=$ppt[1],$ppe[5]=0,$ppe[6]=0,$ppe[7]=0,$ppe[8]=1},$ppJi.createFromMatrix4x4=function($ppt,$ppe){$ppe[0]=$ppt[0],$ppe[1]=$ppt[1],$ppe[2]=$ppt[2],$ppe[3]=$ppt[4],$ppe[4]=$ppt[5],$ppe[5]=$ppt[6],$ppe[6]=$ppt[8],$ppe[7]=$ppt[9],$ppe[8]=$ppt[10]},$ppJi.multiply=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;var $ppn=$ppt[0],$ppr=$ppt[1],$pps=$ppt[2];var $ppa=$ppt[3],$ppo=$ppt[4],$pph=$ppt[5];var $ppl=$ppt[6],$ppc=$ppt[7],$ppt=$ppt[8];var $ppu=$ppe[0],$pp_=$ppe[1],$ppd=$ppe[2];var $ppf=$ppe[3],$ppp=$ppe[4],$ppm=$ppe[5];var $ppg=$ppe[6],$ppv=$ppe[7],$ppe=$ppe[8];$ppi[0]=$ppu*$ppn+$pp_*$ppa+$ppd*$ppl,$ppi[1]=$ppu*$ppr+$pp_*$ppo+$ppd*$ppc,$ppi[2]=$ppu*$pps+$pp_*$pph+$ppd*$ppt,$ppi[3]=$ppf*$ppn+$ppp*$ppa+$ppm*$ppl,$ppi[4]=$ppf*$ppr+$ppp*$ppo+$ppm*$ppc,$ppi[5]=$ppf*$pps+$ppp*$pph+$ppm*$ppt,$ppi[6]=$ppg*$ppn+$ppv*$ppa+$ppe*$ppl,$ppi[7]=$ppg*$ppr+$ppv*$ppo+$ppe*$ppc,$ppi[8]=$ppg*$pps+$ppv*$pph+$ppe*$ppt},$ppJi.lookAt=function($ppt,$ppe,$ppi,$ppn){$ppD.subtract($ppt,$ppe,$ppJi._tempV30),$ppD.normalize($ppJi._tempV30,$ppJi._tempV30),$ppD.cross($ppi,$ppJi._tempV30,$ppJi._tempV31),$ppD.normalize($ppJi._tempV31,$ppJi._tempV31),$ppD.cross($ppJi._tempV30,$ppJi._tempV31,$ppJi._tempV32);$ppt=$ppJi._tempV30.elements;$ppe=$ppJi._tempV31.elements;$ppi=$ppJi._tempV32.elements;$ppn=$ppn.elements;$ppn[0]=$ppe[0],$ppn[3]=$ppe[1],$ppn[6]=$ppe[2],$ppn[1]=$ppi[0],$ppn[4]=$ppi[1],$ppn[7]=$ppi[2],$ppn[2]=$ppt[0],$ppn[5]=$ppt[1],$ppn[8]=$ppt[2]},$ppJi.DEFAULT=new $ppJi,$ppl($ppJi,["_tempV30",function(){return this._tempV30=new $ppD},"_tempV31",function(){return this._tempV31=new $ppD},"_tempV32",function(){return this._tempV32=new $ppD}]);var $ppQi=$ppJi;function $ppJi(){var $ppt=this.elements=new Float32Array(9);$ppt[0]=1,$ppt[1]=0,$ppt[2]=0,$ppt[3]=0,$ppt[4]=1,$ppt[5]=0,$ppt[6]=0,$ppt[7]=0,$ppt[8]=1}$ppt($ppen,"laya.d3.math.Matrix4x4"),$ppa=$ppen.prototype,$pph.imps($ppa,{"laya.d3.core.IClone":!0}),$ppa.getElementByRowColumn=function($ppt,$ppe){if($ppt<0||3<$ppt)throw new Error("row","Rows and columns for matrices run from 0 to 3, inclusive.");if($ppe<0||3<$ppe)throw new Error("column","Rows and columns for matrices run from 0 to 3, inclusive.");return this.elements[4*$ppt+$ppe]},$ppa.setElementByRowColumn=function($ppt,$ppe,$ppi){if($ppt<0||3<$ppt)throw new Error("row","Rows and columns for matrices run from 0 to 3, inclusive.");if($ppe<0||3<$ppe)throw new Error("column","Rows and columns for matrices run from 0 to 3, inclusive.");this.elements[4*$ppt+$ppe]=$ppi},$ppa.equalsOtherMatrix=function($ppt){var $ppe=this.elements;$ppt=$ppt.elements;return $pp$i.nearEqual($ppe[0],$ppt[0])&&$pp$i.nearEqual($ppe[1],$ppt[1])&&$pp$i.nearEqual($ppe[2],$ppt[2])&&$pp$i.nearEqual($ppe[3],$ppt[3])&&$pp$i.nearEqual($ppe[4],$ppt[4])&&$pp$i.nearEqual($ppe[5],$ppt[5])&&$pp$i.nearEqual($ppe[6],$ppt[6])&&$pp$i.nearEqual($ppe[7],$ppt[7])&&$pp$i.nearEqual($ppe[8],$ppt[8])&&$pp$i.nearEqual($ppe[9],$ppt[9])&&$pp$i.nearEqual($ppe[10],$ppt[10])&&$pp$i.nearEqual($ppe[11],$ppt[11])&&$pp$i.nearEqual($ppe[12],$ppt[12])&&$pp$i.nearEqual($ppe[13],$ppt[13])&&$pp$i.nearEqual($ppe[14],$ppt[14])&&$pp$i.nearEqual($ppe[15],$ppt[15])},$ppa.decomposeTransRotScale=function($ppt,$ppe,$ppi){var $ppn=$ppen._tempMatrix4x4;return this.decomposeTransRotMatScale($ppt,$ppn,$ppi)?($pprn.createFromMatrix4x4($ppn,$ppe),!0):($ppe.identity(),!1)},$ppa.decomposeTransRotMatScale=function($ppt,$ppe,$ppi){var $ppn=this.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi=$ppi.elements;$ppt[0]=$ppn[12],$ppt[1]=$ppn[13],$ppt[2]=$ppn[14];var $ppt=$ppn[0],$ppr=$ppn[1],$ppc=$ppn[2];var $ppu=$ppn[4],$pp_=$ppn[5],$ppd=$ppn[6];var $ppf=$ppn[8],$ppp=$ppn[9],$ppn=$ppn[10];var $pps=$ppi[0]=Math.sqrt($ppt*$ppt+$ppr*$ppr+$ppc*$ppc);var $ppm=$ppi[1]=Math.sqrt($ppu*$ppu+$pp_*$pp_+$ppd*$ppd);var $ppa=$ppi[2]=Math.sqrt($ppf*$ppf+$ppp*$ppp+$ppn*$ppn);if($pp$i.isZero($pps)||$pp$i.isZero($ppm)||$pp$i.isZero($ppa))return $ppe[1]=$ppe[2]=$ppe[3]=$ppe[4]=$ppe[6]=$ppe[7]=$ppe[8]=$ppe[9]=$ppe[11]=$ppe[12]=$ppe[13]=$ppe[14]=0,!($ppe[0]=$ppe[5]=$ppe[10]=$ppe[15]=1);var $ppo=$ppen._tempVector0;var $pph=$ppo.elements;$pph[0]=$ppf/$ppa,$pph[1]=$ppp/$ppa,$pph[2]=$ppn/$ppa;$pph=$ppen._tempVector1;var $ppl=$pph.elements;$ppl[0]=$ppt/$pps,$ppl[1]=$ppr/$pps,$ppl[2]=$ppc/$pps;$ppl=$ppen._tempVector2;$ppD.cross($ppo,$pph,$ppl);$pph=$ppen._tempVector1;return $ppD.cross($ppl,$ppo,$pph),$ppe[3]=$ppe[7]=$ppe[11]=$ppe[12]=$ppe[13]=$ppe[14]=0,$ppe[15]=1,$ppe[0]=$pph.x,$ppe[1]=$pph.y,$ppe[2]=$pph.z,$ppe[4]=$ppl.x,$ppe[5]=$ppl.y,$ppe[6]=$ppl.z,$ppe[8]=$ppo.x,$ppe[9]=$ppo.y,$ppe[10]=$ppo.z,$ppe[0]*$ppt+$ppe[1]*$ppr+$ppe[2]*$ppc<0&&($ppi[0]=-$pps),$ppe[4]*$ppu+$ppe[5]*$pp_+$ppe[6]*$ppd<0&&($ppi[1]=-$ppm),$ppe[8]*$ppf+$ppe[9]*$ppp+$ppe[10]*$ppn<0&&($ppi[2]=-$ppa),!0},$ppa.decomposeYawPitchRoll=function($ppt){$ppt=$ppt.elements;var $ppe=Math.asin(-this.elements[9]);$ppt[1]=$ppe,Math.cos($ppe)>$pp$i.zeroTolerance?($ppt[2]=Math.atan2(this.elements[1],this.elements[5]),$ppt[0]=Math.atan2(this.elements[8],this.elements[10])):($ppt[2]=Math.atan2(-this.elements[4],this.elements[0]),$ppt[0]=0)},$ppa.normalize=function(){var $ppt=this.elements;var $ppe=$ppt[0],$ppi=$ppt[1],$ppn=$ppt[2],$ppr=Math.sqrt($ppe*$ppe+$ppi*$ppi+$ppn*$ppn);if(!$ppr)return $ppt[0]=0,$ppt[1]=0,void($ppt[2]=0);1!=$ppr&&($ppt[0]=$ppe*($ppr=1/$ppr),$ppt[1]=$ppi*$ppr,$ppt[2]=$ppn*$ppr)},$ppa.transpose=function(){var $ppt,$ppe;return $ppe=($ppt=this.elements)[1],$ppt[1]=$ppt[4],$ppt[4]=$ppe,$ppe=$ppt[2],$ppt[2]=$ppt[8],$ppt[8]=$ppe,$ppe=$ppt[3],$ppt[3]=$ppt[12],$ppt[12]=$ppe,$ppe=$ppt[6],$ppt[6]=$ppt[9],$ppt[9]=$ppe,$ppe=$ppt[7],$ppt[7]=$ppt[13],$ppt[13]=$ppe,$ppe=$ppt[11],$ppt[11]=$ppt[14],$ppt[14]=$ppe,this},$ppa.invert=function($ppt){var $ppe=this.elements;$ppt=$ppt.elements;var $ppi=$ppe[0],$ppn=$ppe[1],$ppr=$ppe[2],$pps=$ppe[3],$ppa=$ppe[4],$ppo=$ppe[5],$pph=$ppe[6],$ppc=$ppe[7],$ppu=$ppe[8],$pp_=$ppe[9],$ppd=$ppe[10],$ppf=$ppe[11],$ppp=$ppe[12],$ppm=$ppe[13],$ppg=$ppe[14],$ppe=$ppe[15],$ppv=$ppi*$ppo-$ppn*$ppa,$ppy=$ppi*$pph-$ppr*$ppa,$ppx=$ppi*$ppc-$pps*$ppa,$ppw=$ppn*$pph-$ppr*$ppo,$ppb=$ppn*$ppc-$pps*$ppo,$ppT=$ppr*$ppc-$pps*$pph,$ppS=$ppu*$ppm-$pp_*$ppp,$ppC=$ppu*$ppg-$ppd*$ppp,$ppM=$ppu*$ppe-$ppf*$ppp,$ppE=$pp_*$ppg-$ppd*$ppm,$ppA=$pp_*$ppe-$ppf*$ppm,$ppD=$ppd*$ppe-$ppf*$ppg,$ppl=$ppv*$ppD-$ppy*$ppA+$ppx*$ppE+$ppw*$ppM-$ppb*$ppC+$ppT*$ppS;0!==Math.abs($ppl)&&($ppt[0]=($ppo*$ppD-$pph*$ppA+$ppc*$ppE)*($ppl=1/$ppl),$ppt[1]=($ppr*$ppA-$ppn*$ppD-$pps*$ppE)*$ppl,$ppt[2]=($ppm*$ppT-$ppg*$ppb+$ppe*$ppw)*$ppl,$ppt[3]=($ppd*$ppb-$pp_*$ppT-$ppf*$ppw)*$ppl,$ppt[4]=($pph*$ppM-$ppa*$ppD-$ppc*$ppC)*$ppl,$ppt[5]=($ppi*$ppD-$ppr*$ppM+$pps*$ppC)*$ppl,$ppt[6]=($ppg*$ppx-$ppp*$ppT-$ppe*$ppy)*$ppl,$ppt[7]=($ppu*$ppT-$ppd*$ppx+$ppf*$ppy)*$ppl,$ppt[8]=($ppa*$ppA-$ppo*$ppM+$ppc*$ppS)*$ppl,$ppt[9]=($ppn*$ppM-$ppi*$ppA-$pps*$ppS)*$ppl,$ppt[10]=($ppp*$ppb-$ppm*$ppx+$ppe*$ppv)*$ppl,$ppt[11]=($pp_*$ppx-$ppu*$ppb-$ppf*$ppv)*$ppl,$ppt[12]=($ppo*$ppC-$ppa*$ppE-$pph*$ppS)*$ppl,$ppt[13]=($ppi*$ppE-$ppn*$ppC+$ppr*$ppS)*$ppl,$ppt[14]=($ppm*$ppy-$ppp*$ppw-$ppg*$ppv)*$ppl,$ppt[15]=($ppu*$ppw-$pp_*$ppy+$ppd*$ppv)*$ppl)},$ppa.identity=function(){var $ppt=this.elements;$ppt[1]=$ppt[2]=$ppt[3]=$ppt[4]=$ppt[6]=$ppt[7]=$ppt[8]=$ppt[9]=$ppt[11]=$ppt[12]=$ppt[13]=$ppt[14]=0,$ppt[0]=$ppt[5]=$ppt[10]=$ppt[15]=1},$ppa.cloneTo=function($ppt){var $ppe,$ppi,$ppn;if(($ppi=this.elements)!==($ppn=$ppt.elements))for($ppe=0;$ppe<16;++$ppe)$ppn[$ppe]=$ppi[$ppe]},$ppa.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppa.getTranslationVector=function($ppt){var $ppe=this.elements;$ppt=$ppt.elements;$ppt[0]=$ppe[12],$ppt[1]=$ppe[13],$ppt[2]=$ppe[14]},$ppa.setTranslationVector=function($ppt){var $ppe=this.elements;$ppt=$ppt.elements;$ppe[12]=$ppt[0],$ppe[13]=$ppt[1],$ppe[14]=$ppt[2]},$ppa.getForward=function($ppt){var $ppe=this.elements;$ppt=$ppt.elements;$ppt[0]=-$ppe[8],$ppt[1]=-$ppe[9],$ppt[2]=-$ppe[10]},$ppa.setForward=function($ppt){var $ppe=this.elements;$ppt=$ppt.elements;$ppe[8]=-$ppt[0],$ppe[9]=-$ppt[1],$ppe[10]=-$ppt[2]},$ppen.createRotationX=function($ppt,$ppe){$ppe=$ppe.elements;var $ppi=Math.sin($ppt),$ppt=Math.cos($ppt);$ppe[1]=$ppe[2]=$ppe[3]=$ppe[4]=$ppe[7]=$ppe[8]=$ppe[11]=$ppe[12]=$ppe[13]=$ppe[14]=0,$ppe[0]=$ppe[15]=1,$ppe[5]=$ppe[10]=$ppt,$ppe[6]=$ppi,$ppe[9]=-$ppi},$ppen.createRotationY=function($ppt,$ppe){$ppe=$ppe.elements;var $ppi=Math.sin($ppt),$ppt=Math.cos($ppt);$ppe[1]=$ppe[3]=$ppe[4]=$ppe[6]=$ppe[7]=$ppe[9]=$ppe[11]=$ppe[12]=$ppe[13]=$ppe[14]=0,$ppe[5]=$ppe[15]=1,$ppe[0]=$ppe[10]=$ppt,$ppe[2]=-$ppi,$ppe[8]=$ppi},$ppen.createRotationZ=function($ppt,$ppe){$ppe=$ppe.elements;var $ppi=Math.sin($ppt),$ppt=Math.cos($ppt);$ppe[2]=$ppe[3]=$ppe[6]=$ppe[7]=$ppe[8]=$ppe[9]=$ppe[11]=$ppe[12]=$ppe[13]=$ppe[14]=0,$ppe[10]=$ppe[15]=1,$ppe[0]=$ppe[5]=$ppt,$ppe[1]=$ppi,$ppe[4]=-$ppi},$ppen.createRotationYawPitchRoll=function($ppt,$ppe,$ppi,$ppn){$pprn.createFromYawPitchRoll($ppt,$ppe,$ppi,$ppen._tempQuaternion),$ppen.createRotationQuaternion($ppen._tempQuaternion,$ppn)},$ppen.createRotationAxis=function($ppt,$ppe,$ppi){$ppt=$ppt.elements;var $ppn=$ppt[0];var $ppr=$ppt[1];$ppt=$ppt[2];var $pps=Math.cos($ppe);$ppe=Math.sin($ppe);var $ppa=$ppn*$ppn;var $ppc=$ppr*$ppr;var $ppu=$ppt*$ppt;var $ppo=$ppn*$ppr;var $pph=$ppn*$ppt;var $ppl=$ppr*$ppt;$ppi=$ppi.elements;$ppi[3]=$ppi[7]=$ppi[11]=$ppi[12]=$ppi[13]=$ppi[14]=0,$ppi[15]=1,$ppi[0]=$ppa+$pps*(1-$ppa),$ppi[1]=$ppo-$pps*$ppo+$ppe*$ppt,$ppi[2]=$pph-$pps*$pph-$ppe*$ppr,$ppi[4]=$ppo-$pps*$ppo-$ppe*$ppt,$ppi[5]=$ppc+$pps*(1-$ppc),$ppi[6]=$ppl-$pps*$ppl+$ppe*$ppn,$ppi[8]=$pph-$pps*$pph+$ppe*$ppr,$ppi[9]=$ppl-$pps*$ppl-$ppe*$ppn,$ppi[10]=$ppu+$pps*(1-$ppu)},$ppen.createRotationQuaternion=function($ppt,$ppe){$ppt=$ppt.elements;$ppe=$ppe.elements;var $ppi=$ppt[0];var $ppn=$ppt[1];var $ppr=$ppt[2];$ppt=$ppt[3];var $pps=$ppi*$ppi;var $ppa=$ppn*$ppn;var $ppo=$ppr*$ppr;var $pph=$ppi*$ppn;var $ppl=$ppr*$ppt;var $ppc=$ppr*$ppi;var $ppu=$ppn*$ppt;$ppn*=$ppr;$ppr=$ppi*$ppt;$ppe[3]=$ppe[7]=$ppe[11]=$ppe[12]=$ppe[13]=$ppe[14]=0,$ppe[15]=1,$ppe[0]=1-2*($ppa+$ppo),$ppe[1]=2*($pph+$ppl),$ppe[2]=2*($ppc-$ppu),$ppe[4]=2*($pph-$ppl),$ppe[5]=1-2*($ppo+$pps),$ppe[6]=2*($ppn+$ppr),$ppe[8]=2*($ppc+$ppu),$ppe[9]=2*($ppn-$ppr),$ppe[10]=1-2*($ppa+$pps)},$ppen.createTranslate=function($ppt,$ppe){$ppt=$ppt.elements;$ppe=$ppe.elements;$ppe[4]=$ppe[8]=$ppe[1]=$ppe[9]=$ppe[2]=$ppe[6]=$ppe[3]=$ppe[7]=$ppe[11]=0,$ppe[0]=$ppe[5]=$ppe[10]=$ppe[15]=1,$ppe[12]=$ppt[0],$ppe[13]=$ppt[1],$ppe[14]=$ppt[2]},$ppen.createScaling=function($ppt,$ppe){$ppt=$ppt.elements;$ppe=$ppe.elements;$ppe[0]=$ppt[0],$ppe[5]=$ppt[1],$ppe[10]=$ppt[2],$ppe[1]=$ppe[4]=$ppe[8]=$ppe[12]=$ppe[9]=$ppe[13]=$ppe[2]=$ppe[6]=$ppe[14]=$ppe[3]=$ppe[7]=$ppe[11]=0,$ppe[15]=1},$ppen.multiply=function($ppt,$ppe,$ppc){var $ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph,$ppl;for($ppn=$ppc.elements,$ppr=$ppt.elements,$ppn===($pps=$ppe.elements)&&($pps=$pps.slice()),$ppi=0;$ppi<4;$ppi++)$ppa=$ppr[$ppi],$ppo=$ppr[$ppi+4],$pph=$ppr[$ppi+8],$ppl=$ppr[$ppi+12],$ppn[$ppi]=$ppa*$pps[0]+$ppo*$pps[1]+$pph*$pps[2]+$ppl*$pps[3],$ppn[$ppi+4]=$ppa*$pps[4]+$ppo*$pps[5]+$pph*$pps[6]+$ppl*$pps[7],$ppn[$ppi+8]=$ppa*$pps[8]+$ppo*$pps[9]+$pph*$pps[10]+$ppl*$pps[11],$ppn[$ppi+12]=$ppa*$pps[12]+$ppo*$pps[13]+$pph*$pps[14]+$ppl*$pps[15]},$ppen.createFromQuaternion=function($ppt,$ppe){$ppe=$ppe.elements;$ppt=$ppt.elements;var $ppi=$ppt[0],$ppn=$ppt[1],$ppr=$ppt[2],$ppt=$ppt[3];var $pps=$ppi+$ppi;var $ppa=$ppn+$ppn;var $ppo=$ppr+$ppr;$ppi*=$pps;var $pph=$ppn*$pps;$ppn*=$ppa;var $ppl=$ppr*$pps;var $ppc=$ppr*$ppa;$ppr*=$ppo;$pps*=$ppt;$ppa*=$ppt;$ppt*=$ppo;$ppe[0]=1-$ppn-$ppr,$ppe[1]=$pph+$ppt,$ppe[2]=$ppl-$ppa,$ppe[3]=0,$ppe[4]=$pph-$ppt,$ppe[5]=1-$ppi-$ppr,$ppe[6]=$ppc+$pps,$ppe[7]=0,$ppe[8]=$ppl+$ppa,$ppe[9]=$ppc-$pps,$ppe[10]=1-$ppi-$ppn,$ppe[11]=0,$ppe[12]=0,$ppe[13]=0,$ppe[14]=0,$ppe[15]=1},$ppen.createAffineTransformation=function($ppt,$ppe,$ppi,$ppn){$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi=$ppi.elements;$ppn=$ppn.elements;var $ppr=$ppe[0],$pps=$ppe[1],$ppa=$ppe[2],$ppe=$ppe[3],$ppo=$ppr+$ppr,$pph=$pps+$pps,$ppl=$ppa+$ppa;var $ppc=$ppr*$ppo,$ppu=$ppr*$pph,$ppr=$ppr*$ppl,$pp_=$pps*$pph,$pps=$pps*$ppl,$ppa=$ppa*$ppl;var $ppo=$ppe*$ppo,$pph=$ppe*$pph,$ppe=$ppe*$ppl,$ppl=$ppi[0],$ppd=$ppi[1],$ppi=$ppi[2];$ppn[0]=(1-($pp_+$ppa))*$ppl,$ppn[1]=($ppu+$ppe)*$ppl,$ppn[2]=($ppr-$pph)*$ppl,$ppn[3]=0,$ppn[4]=($ppu-$ppe)*$ppd,$ppn[5]=(1-($ppc+$ppa))*$ppd,$ppn[6]=($pps+$ppo)*$ppd,$ppn[7]=0,$ppn[8]=($ppr+$pph)*$ppi,$ppn[9]=($pps-$ppo)*$ppi,$ppn[10]=(1-($ppc+$pp_))*$ppi,$ppn[11]=0,$ppn[12]=$ppt[0],$ppn[13]=$ppt[1],$ppn[14]=$ppt[2],$ppn[15]=1},$ppen.createLookAt=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppn.elements;var $pps=$ppen._tempVector0;var $ppa=$ppen._tempVector1;var $ppo=$ppen._tempVector2;$ppD.subtract($ppt,$ppe,$ppo),$ppD.normalize($ppo,$ppo),$ppD.cross($ppi,$ppo,$pps),$ppD.normalize($pps,$pps),$ppD.cross($ppo,$pps,$ppa),$ppn.identity(),$ppr[0]=$pps.x,$ppr[4]=$pps.y,$ppr[8]=$pps.z,$ppr[1]=$ppa.x,$ppr[5]=$ppa.y,$ppr[9]=$ppa.z,$ppr[2]=$ppo.x,$ppr[6]=$ppo.y,$ppr[10]=$ppo.z,$ppr[12]=-$ppD.dot($pps,$ppt),$ppr[13]=-$ppD.dot($ppa,$ppt),$ppr[14]=-$ppD.dot($ppo,$ppt)},$ppen.createPerspective=function($ppt,$ppe,$ppi,$ppn,$ppr){$ppr=$ppr.elements;var $ppt=1/Math.tan($ppt/2),$pps=1/($ppi-$ppn);$ppr[0]=$ppt/$ppe,$ppr[5]=$ppt,$ppr[10]=($ppn+$ppi)*$pps,$ppr[11]=-1,$ppr[14]=2*$ppn*$ppi*$pps,$ppr[1]=$ppr[2]=$ppr[3]=$ppr[4]=$ppr[6]=$ppr[7]=$ppr[8]=$ppr[9]=$ppr[12]=$ppr[13]=$ppr[15]=0},$ppen.createOrthoOffCenterRH=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){$ppa=$ppa.elements;var $ppo=1/($ppt-$ppe);var $pph=1/($ppi-$ppn);var $ppl=1/($ppr-$pps);$ppa[1]=$ppa[2]=$ppa[3]=$ppa[4]=$ppa[6]=$ppa[7]=$ppa[8]=$ppa[9]=$ppa[11]=0,$ppa[15]=1,$ppa[0]=-2*$ppo,$ppa[5]=-2*$pph,$ppa[10]=2*$ppl,$ppa[12]=($ppt+$ppe)*$ppo,$ppa[13]=($ppn+$ppi)*$pph,$ppa[14]=($pps+$ppr)*$ppl},$ppen.translation=function($ppt,$ppe){$ppt=$ppt.elements;$ppe=$ppe.elements;$ppe[0]=$ppe[5]=$ppe[10]=$ppe[15]=1,$ppe[12]=$ppt[0],$ppe[13]=$ppt[1],$ppe[14]=$ppt[2]},$ppl($ppen,["_tempMatrix4x4",function(){return this._tempMatrix4x4=new $ppen},"_tempVector0",function(){return this._tempVector0=new $ppD},"_tempVector1",function(){return this._tempVector1=new $ppD},"_tempVector2",function(){return this._tempVector2=new $ppD},"_tempQuaternion",function(){return this._tempQuaternion=new $pprn},"DEFAULT",function(){return this.DEFAULT=new $ppen},"ZERO",function(){return this.ZERO=new $ppen(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}]);var $pptn=$ppen;function $ppen($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph,$ppc,$ppu,$pp_,$ppd,$ppf,$ppp,$ppm){void 0===$ppt&&($ppt=1),void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0),void 0===$ppn&&($ppn=0),void 0===$ppr&&($ppr=0),void 0===$pps&&($pps=1),void 0===$ppa&&($ppa=0),void 0===$ppo&&($ppo=0),void 0===$pph&&($pph=0),void 0===$ppc&&($ppc=0),void 0===$ppu&&($ppu=1),void 0===$pp_&&($pp_=0),void 0===$ppd&&($ppd=0),void 0===$ppf&&($ppf=0),void 0===$ppp&&($ppp=0),void 0===$ppm&&($ppm=1);var $ppl=this.elements=new Float32Array(16);$ppl[0]=$ppt,$ppl[1]=$ppe,$ppl[2]=$ppi,$ppl[3]=$ppn,$ppl[4]=$ppr,$ppl[5]=$pps,$ppl[6]=$ppa,$ppl[7]=$ppo,$ppl[8]=$pph,$ppl[9]=$ppc,$ppl[10]=$ppu,$ppl[11]=$pp_,$ppl[12]=$ppd,$ppl[13]=$ppf,$ppl[14]=$ppp,$ppl[15]=$ppm}$ppt($ppf,"laya.d3.math.OrientedBoundBox"),($ppa=$ppf.prototype).getCorners=function($ppt){var $ppe=$ppf._tempV30.elements;var $ppi=$ppf._tempV31.elements;var $ppn=$ppf._tempV32.elements;var $ppr=this.extents.elements;$ppe[0]=$ppr[0],$ppe[1]=$ppe[2]=0,$ppi[1]=$ppr[1],$ppi[0]=$ppi[2]=0,$ppn[2]=$ppr[2],$ppn[0]=$ppn[1]=0,$ppD.TransformNormal($ppf._tempV30,this.transformation,$ppf._tempV30),$ppD.TransformNormal($ppf._tempV31,this.transformation,$ppf._tempV31),$ppD.TransformNormal($ppf._tempV32,this.transformation,$ppf._tempV32);$ppe=$ppf._tempV33;this.transformation.getTranslationVector($ppe),$ppt.length=8,$ppD.add($ppe,$ppf._tempV30,$ppf._tempV34),$ppD.add($ppf._tempV34,$ppf._tempV31,$ppf._tempV34),$ppD.add($ppf._tempV34,$ppf._tempV32,$ppt[0]),$ppD.add($ppe,$ppf._tempV30,$ppf._tempV34),$ppD.add($ppf._tempV34,$ppf._tempV31,$ppf._tempV34),$ppD.subtract($ppf._tempV34,$ppf._tempV32,$ppt[1]),$ppD.subtract($ppe,$ppf._tempV30,$ppf._tempV34),$ppD.add($ppf._tempV34,$ppf._tempV31,$ppf._tempV34),$ppD.subtract($ppf._tempV34,$ppf._tempV32,$ppt[2]),$ppD.subtract($ppe,$ppf._tempV30,$ppf._tempV34),$ppD.add($ppf._tempV34,$ppf._tempV31,$ppf._tempV34),$ppD.add($ppf._tempV34,$ppf._tempV32,$ppt[3]),$ppD.add($ppe,$ppf._tempV30,$ppf._tempV34),$ppD.subtract($ppf._tempV34,$ppf._tempV31,$ppf._tempV34),$ppD.add($ppf._tempV34,$ppf._tempV32,$ppt[4]),$ppD.add($ppe,$ppf._tempV30,$ppf._tempV34),$ppD.subtract($ppf._tempV34,$ppf._tempV31,$ppf._tempV34),$ppD.subtract($ppf._tempV34,$ppf._tempV32,$ppt[5]),$ppD.subtract($ppe,$ppf._tempV30,$ppf._tempV34),$ppD.subtract($ppf._tempV34,$ppf._tempV31,$ppf._tempV34),$ppD.subtract($ppf._tempV34,$ppf._tempV32,$ppt[6]),$ppD.subtract($ppe,$ppf._tempV30,$ppf._tempV34),$ppD.subtract($ppf._tempV34,$ppf._tempV31,$ppf._tempV34),$ppD.add($ppf._tempV34,$ppf._tempV32,$ppt[7])},$ppa.transform=function($ppt){$pptn.multiply(this.transformation,$ppt,this.transformation)},$ppa.scale=function($ppt){$ppD.multiply(this.extents,$ppt,this.extents)},$ppa.translate=function($ppt){this.transformation.getTranslationVector($ppf._tempV30),$ppD.add($ppf._tempV30,$ppt,$ppf._tempV31),this.transformation.setTranslationVector($ppf._tempV31)},$ppa.Size=function($ppt){$ppD.scale(this.extents,2,$ppt)},$ppa.getSize=function($ppt){var $ppe=this.extents.elements;$ppf._tempV30.x=$ppe[0],$ppf._tempV31.y=$ppe[1],$ppf._tempV32.z=$ppe[2],$ppD.TransformNormal($ppf._tempV30,this.transformation,$ppf._tempV30),$ppD.TransformNormal($ppf._tempV31,this.transformation,$ppf._tempV31),$ppD.TransformNormal($ppf._tempV31,this.transformation,$ppf._tempV32);$ppe=$ppt.elements;$ppe[0]=$ppD.scalarLength($ppf._tempV30),$ppe[1]=$ppD.scalarLength($ppf._tempV31),$ppe[2]=$ppD.scalarLength($ppf._tempV32)},$ppa.getSizeSquared=function($ppt){var $ppe=this.extents.elements;$ppf._tempV30.x=$ppe[0],$ppf._tempV31.y=$ppe[1],$ppf._tempV32.z=$ppe[2],$ppD.TransformNormal($ppf._tempV30,this.transformation,$ppf._tempV30),$ppD.TransformNormal($ppf._tempV31,this.transformation,$ppf._tempV31),$ppD.TransformNormal($ppf._tempV31,this.transformation,$ppf._tempV32);$ppe=$ppt.elements;$ppe[0]=$ppD.scalarLengthSquared($ppf._tempV30),$ppe[1]=$ppD.scalarLengthSquared($ppf._tempV31),$ppe[2]=$ppD.scalarLengthSquared($ppf._tempV32)},$ppa.getCenter=function($ppt){this.transformation.getTranslationVector($ppt)},$ppa.containsPoint=function($ppt){var $ppe=this.extents.elements;var $ppi=$ppe[0];var $ppn=$ppe[1];$ppe=$ppe[2];this.transformation.invert($ppf._tempM0),$ppD.transformCoordinate($ppt,$ppf._tempM0,$ppf._tempV30);$ppt=$ppf._tempV30.elements;var $ppr=Math.abs($ppt[0]);var $pps=Math.abs($ppt[1]);$ppt=Math.abs($ppt[2]);return $pp$i.nearEqual($ppr,$ppi)&&$pp$i.nearEqual($pps,$ppn)&&$pp$i.nearEqual($ppt,$ppe)?2:$ppr<$ppi&&$pps<$ppn&&$ppt<$ppe?1:0},$ppa.containsPoints=function($ppt){var $ppe=this.extents.elements;var $ppi=$ppe[0];var $ppn=$ppe[1];var $ppr=$ppe[2];this.transformation.invert($ppf._tempM0);var $pps=!0;var $ppa=!1;for(var $ppo=0;$ppo<$ppt.length;$ppo++){$ppD.transformCoordinate($ppt[$ppo],$ppf._tempM0,$ppf._tempV30);var $pph=$ppf._tempV30.elements;var $ppl=Math.abs($pph[0]);var $ppc=Math.abs($pph[1]);$pph=Math.abs($pph[2]);$pp$i.nearEqual($ppl,$ppi)&&$pp$i.nearEqual($ppc,$ppn)&&$pp$i.nearEqual($pph,$ppr)&&($ppa=!0),$ppl<$ppi&&$ppc<$ppn&&$pph<$ppr?$ppa=!0:$pps=!1}return $pps?1:$ppa?2:0},$ppa.containsSphere=function($ppt,$ppe){void 0===$ppe&&($ppe=!1);var $ppi=this.extents.elements;var $ppn=$ppi[0];var $ppr=$ppi[1];$ppi=$ppi[2];var $pps=$ppt.radius;this.transformation.invert($ppf._tempM0),$ppD.transformCoordinate($ppt.center,$ppf._tempM0,$ppf._tempV30);$ppt=NaN;if($ppt=$ppe?$pps:($ppD.scale($ppD.UnitX,$pps,$ppf._tempV31),$ppD.TransformNormal($ppf._tempV31,$ppf._tempM0,$ppf._tempV31),$ppD.scalarLength($ppf._tempV31)),$ppD.scale(this.extents,-1,$ppf._tempV32),$ppD.Clamp($ppf._tempV30,$ppf._tempV32,this.extents,$ppf._tempV33),$ppt*$ppt<$ppD.distanceSquared($ppf._tempV30,$ppf._tempV33))return 0;$ppe=$ppf._tempV30.elements;$pps=$ppe[0];var $ppa=$ppe[1];$ppe=$ppe[2];var $ppo=$ppf._tempV32.elements;var $pph=$ppo[0];var $ppl=$ppo[1];$ppo=$ppo[2];return $pph+$ppt<=$pps&&$pps<=$ppn-$ppt&&$ppt<$ppn-$pph&&$ppl+$ppt<=$ppa&&$ppa<=$ppr-$ppt&&$ppt<$ppr-$ppl&&$ppo+$ppt<=$ppe&&$ppe<=$ppi-$ppt&&$ppt<$ppi-$ppo?1:2},$ppa.containsOrientedBoundBox=function($ppt){var $ppe=0,$ppi=0;$ppt.getCorners($ppf._corners);var $ppc=this.containsPoints($ppf._corners);if(0!=$ppc)return $ppc;var $ppn=this.extents.elements;$ppt.extents.cloneTo($ppf._tempV35);var $ppr=$ppf._tempV35.elements;$ppf._getRows(this.transformation,$ppf._rows1),$ppf._getRows($ppt.transformation,$ppf._rows2);var $pps;for($ppe=0;$ppe<4;$ppe++)for($ppi=0;$ppi<4;$ppi++)3==$ppe||3==$ppi?($ppf._tempM0.setElementByRowColumn($ppe,$ppi,0),$ppf._tempM1.setElementByRowColumn($ppe,$ppi,0)):($pps=$ppD.dot($ppf._rows1[$ppe],$ppf._rows2[$ppi]),$ppf._tempM0.setElementByRowColumn($ppe,$ppi,$pps),$ppf._tempM1.setElementByRowColumn($ppe,$ppi,Math.abs($pps)));$ppt.getCenter($ppf._tempV34),this.getCenter($ppf._tempV36),$ppD.subtract($ppf._tempV34,$ppf._tempV36,$ppf._tempV30);var $ppa=$ppf._tempV31.elements;$ppa[0]=$ppD.dot($ppf._tempV30,$ppf._rows1[0]),$ppa[1]=$ppD.dot($ppf._tempV30,$ppf._rows1[1]),$ppa[2]=$ppD.dot($ppf._tempV30,$ppf._rows1[2]);var $ppo=$ppf._tempV32.elements;var $ppu=$ppf._tempV33.elements;for($ppe=0;$ppe<3;$ppe++)if($ppo[0]=$ppf._tempM1.getElementByRowColumn($ppe,0),$ppo[1]=$ppf._tempM1.getElementByRowColumn($ppe,1),$ppo[2]=$ppf._tempM1.getElementByRowColumn($ppe,2),$ppn[$ppe]+$ppD.dot($ppf._tempV35,$ppf._tempV32)<Math.abs($ppa[$ppe]))return 0;for($ppi=0;$ppi<3;$ppi++)if($ppo[0]=$ppf._tempM1.getElementByRowColumn(0,$ppi),$ppo[1]=$ppf._tempM1.getElementByRowColumn(1,$ppi),$ppo[2]=$ppf._tempM1.getElementByRowColumn(2,$ppi),$ppu[0]=$ppf._tempM0.getElementByRowColumn(0,$ppi),$ppu[1]=$ppf._tempM0.getElementByRowColumn(1,$ppi),$ppu[2]=$ppf._tempM0.getElementByRowColumn(2,$ppi),$ppD.dot(this.extents,$ppf._tempV32)+$ppr[$ppi]<Math.abs($ppD.dot($ppf._tempV31,$ppf._tempV33)))return 0;for($ppe=0;$ppe<3;$ppe++)for($ppi=0;$ppi<3;$ppi++){var $pph=($ppe+1)%3,$ppl=($ppe+2)%3;var $pp_=($ppi+1)%3,$ppd=($ppi+2)%3;if($ppn[$pph]*$ppf._tempM1.getElementByRowColumn($ppl,$ppi)+$ppn[$ppl]*$ppf._tempM1.getElementByRowColumn($pph,$ppi)+($ppr[$pp_]*$ppf._tempM1.getElementByRowColumn($ppe,$ppd)+$ppr[$ppd]*$ppf._tempM1.getElementByRowColumn($ppe,$pp_))<Math.abs($ppa[$ppl]*$ppf._tempM0.getElementByRowColumn($pph,$ppi)-$ppa[$pph]*$ppf._tempM0.getElementByRowColumn($ppl,$ppi)))return 0}return 2},$ppa.containsLine=function($ppt,$ppe){$ppf._corners[0]=$ppt,$ppf._corners[1]=$ppe;var $ppi=this.containsPoints($ppf._corners);if(0!=$ppi)return $ppi;$ppi=this.extents.elements;var $ppn=$ppi[0];var $ppr=$ppi[1];$ppi=$ppi[2];this.transformation.invert($ppf._tempM0),$ppD.transformCoordinate($ppt,$ppf._tempM0,$ppf._tempV30),$ppD.transformCoordinate($ppe,$ppf._tempM0,$ppf._tempV31),$ppD.add($ppf._tempV30,$ppf._tempV31,$ppf._tempV32),$ppD.scale($ppf._tempV32,.5,$ppf._tempV32),$ppD.subtract($ppf._tempV30,$ppf._tempV32,$ppf._tempV33);$ppt=$ppf._tempV33.elements;$ppe=$ppt[0];var $ppc=$ppt[1];var $ppu=$ppt[2];var $pps=$ppf._tempV34.elements;var $ppa=$pps[0]=Math.abs($ppt[0]);var $ppo=$pps[1]=Math.abs($ppt[1]);$pps=$pps[2]=Math.abs($ppt[2]);$ppt=$ppf._tempV32.elements;var $pph=$ppt[0];var $ppl=$ppt[1];$ppt=$ppt[2];return Math.abs($pph)>$ppn+$ppa||Math.abs($ppl)>$ppr+$ppo||Math.abs($ppt)>$ppi+$pps||Math.abs($ppl*$ppu-$ppt*$ppc)>$ppr*$pps+$ppi*$ppo||Math.abs($pph*$ppu-$ppt*$ppe)>$ppn*$pps+$ppi*$ppa||Math.abs($pph*$ppc-$ppl*$ppe)>$ppn*$ppo+$ppr*$ppa?0:2},$ppa.containsBoundBox=function($ppt){var $ppe=0,$ppi=0;var $ppc=$ppt.min;var $ppu=$ppt.max;$ppt.getCorners($ppf._corners);$ppt=this.containsPoints($ppf._corners);if(0!=$ppt)return $ppt;$ppD.subtract($ppu,$ppc,$ppf._tempV30),$ppD.scale($ppf._tempV30,.5,$ppf._tempV30),$ppD.add($ppc,$ppf._tempV30,$ppf._tempV30),$ppD.subtract($ppu,$ppf._tempV30,$ppf._tempV31);var $ppn=this.extents.elements;var $ppr=$ppf._tempV31.elements;$ppf._getRows(this.transformation,$ppf._rows1),this.transformation.invert($ppf._tempM0);for($ppe=0;$ppe<3;$ppe++)for($ppi=0;$ppi<3;$ppi++)$ppf._tempM1.setElementByRowColumn($ppe,$ppi,Math.abs($ppf._tempM0.getElementByRowColumn($ppe,$ppi)));this.getCenter($ppf._tempV35),$ppD.subtract($ppf._tempV30,$ppf._tempV35,$ppf._tempV32);var $pps=$ppf._tempV31.elements;$pps[0]=$ppD.dot($ppf._tempV32,$ppf._rows1[0]),$pps[1]=$ppD.dot($ppf._tempV32,$ppf._rows1[1]),$pps[2]=$ppD.dot($ppf._tempV32,$ppf._rows1[2]);var $ppa=$ppf._tempV33.elements;var $ppo=$ppf._tempV34.elements;for($ppe=0;$ppe<3;$ppe++)if($ppa[0]=$ppf._tempM1.getElementByRowColumn($ppe,0),$ppa[1]=$ppf._tempM1.getElementByRowColumn($ppe,1),$ppa[2]=$ppf._tempM1.getElementByRowColumn($ppe,2),$ppn[$ppe]+$ppD.dot($ppf._tempV31,$ppf._tempV33)<Math.abs($pps[$ppe]))return 0;for($ppi=0;$ppi<3;$ppi++)if($ppa[0]=$ppf._tempM1.getElementByRowColumn(0,$ppi),$ppa[1]=$ppf._tempM1.getElementByRowColumn(1,$ppi),$ppa[2]=$ppf._tempM1.getElementByRowColumn(2,$ppi),$ppo[0]=$ppf._tempM0.getElementByRowColumn(0,$ppi),$ppo[1]=$ppf._tempM0.getElementByRowColumn(1,$ppi),$ppo[2]=$ppf._tempM0.getElementByRowColumn(2,$ppi),$ppD.dot(this.extents,$ppf._tempV33)+$ppr[$ppi]<Math.abs($ppD.dot($ppf._tempV31,$ppf._tempV34)))return 0;for($ppe=0;$ppe<3;$ppe++)for($ppi=0;$ppi<3;$ppi++){var $pph=($ppe+1)%3,$ppl=($ppe+2)%3;var $pp_=($ppi+1)%3,$ppd=($ppi+2)%3;if($ppn[$pph]*$ppf._tempM1.getElementByRowColumn($ppl,$ppi)+$ppn[$ppl]*$ppf._tempM1.getElementByRowColumn($pph,$ppi)+($ppr[$pp_]*$ppf._tempM1.getElementByRowColumn($ppe,$ppd)+$ppr[$ppd]*$ppf._tempM1.getElementByRowColumn($ppe,$pp_))<Math.abs($pps[$ppl]*$ppf._tempM0.getElementByRowColumn($pph,$ppi)-$pps[$pph]*$ppf._tempM0.getElementByRowColumn($ppl,$ppi)))return 0}return 2},$ppa.intersectsRay=function($ppt,$ppe){$ppD.scale(this.extents,-1,$ppf._tempV30),this.transformation.invert($ppf._tempM0),$ppD.TransformNormal($ppt.direction,$ppf._tempM0,$ppf._ray.direction),$ppD.transformCoordinate($ppt.origin,$ppf._tempM0,$ppf._ray.origin),$ppf._boxBound1.min=$ppf._tempV30,$ppf._boxBound1.max=this.extents;$ppt=Collision.intersectsRayAndBoxRP($ppf._ray,$ppf._boxBound1,$ppe);return-1!==$ppt&&$ppD.transformCoordinate($ppe,this.transformation,$ppe),$ppt},$ppa._getLocalCorners=function($ppt){$ppt.length=8;var $ppe=this.extents.elements;$ppf._tempV30.x=$ppe[0],$ppf._tempV31.y=$ppe[1],$ppf._tempV32.z=$ppe[2],$ppD.add($ppf._tempV30,$ppf._tempV31,$ppf._tempV33),$ppD.add($ppf._tempV33,$ppf._tempV32,$ppt[0]),$ppD.add($ppf._tempV30,$ppf._tempV31,$ppf._tempV33),$ppD.subtract($ppf._tempV33,$ppf._tempV32,$ppt[1]),$ppD.subtract($ppf._tempV31,$ppf._tempV30,$ppf._tempV33),$ppD.subtract($ppf._tempV33,$ppf._tempV30,$ppt[2]),$ppD.subtract($ppf._tempV31,$ppf._tempV30,$ppf._tempV33),$ppD.add($ppf._tempV33,$ppf._tempV32,$ppt[3]),$ppD.subtract($ppf._tempV30,$ppf._tempV31,$ppf._tempV33),$ppD.add($ppf._tempV33,$ppf._tempV32,$ppt[4]),$ppD.subtract($ppf._tempV30,$ppf._tempV31,$ppf._tempV33),$ppD.subtract($ppf._tempV33,$ppf._tempV32,$ppt[5]),$ppD.scale($ppt[0],-1,$ppt[6]),$ppD.subtract($ppf._tempV32,$ppf._tempV30,$ppf._tempV33),$ppD.subtract($ppf._tempV33,$ppf._tempV31,$ppt[7])},$ppa.equals=function($ppt){return this.extents==$ppt.extents&&this.transformation==$ppt.transformation},$ppa.cloneTo=function($ppt){this.extents.cloneTo($ppt.extents),this.transformation.cloneTo($ppt.transformation)},$ppf.createByBoundBox=function($ppt,$ppe){var $ppi=$ppt.min;$ppt=$ppt.max;$ppD.subtract($ppt,$ppi,$ppf._tempV30),$ppD.scale($ppf._tempV30,.5,$ppf._tempV30),$ppD.add($ppi,$ppf._tempV30,$ppf._tempV31),$ppD.subtract($ppt,$ppf._tempV31,$ppf._tempV32),$pptn.translation($ppf._tempV31,$ppf._tempM0);$ppi=$ppf._tempV32.clone();$ppt=$ppf._tempM0.clone();$ppe.extents=$ppi,$ppe.transformation=$ppt},$ppf.createByMinAndMaxVertex=function($ppt,$ppe){return $ppD.subtract($ppe,$ppt,$ppf._tempV30),$ppD.scale($ppf._tempV30,.5,$ppf._tempV30),$ppD.add($ppt,$ppf._tempV30,$ppf._tempV31),$ppD.subtract($ppe,$ppf._tempV31,$ppf._tempV32),$pptn.translation($ppf._tempV31,$ppf._tempM0),new $ppf($ppf._tempV32,$ppf._tempM0)},$ppf._getRows=function($ppt,$ppe){$ppe.length=3;$ppt=$ppt.elements;var $ppi=$ppe[0].elements;$ppi[0]=$ppt[0],$ppi[1]=$ppt[1],$ppi[2]=$ppt[2];$ppi=$ppe[1].elements;$ppi[0]=$ppt[4],$ppi[1]=$ppt[5],$ppi[2]=$ppt[6];$ppi=$ppe[2].elements;$ppi[0]=$ppt[8],$ppi[1]=$ppt[9],$ppi[2]=$ppt[10]},$ppf.getObbtoObbMatrix4x4=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt.transformation;var $pps=$ppe.transformation;if($ppi){$ppf._getRows($ppr,$ppf._rows1),$ppf._getRows($pps,$ppf._rows2);for(var $ppa=0;$ppa<3;$ppa++)for(var $ppo=0;$ppo<3;$ppo++)$ppn.setElementByRowColumn($ppa,$ppo,$ppD.dot($ppf._rows2[$ppa],$ppf._rows1[$ppo]));$ppe.getCenter($ppf._tempV30),$ppt.getCenter($ppf._tempV31),$ppD.subtract($ppf._tempV30,$ppf._tempV31,$ppf._tempV32);$ppi=$ppn.elements;$ppi[12]=$ppD.dot($ppf._tempV32,$ppf._rows1[0]),$ppi[13]=$ppD.dot($ppf._tempV32,$ppf._rows1[1]),$ppi[14]=$ppD.dot($ppf._tempV32,$ppf._rows1[2]),$ppi[15]=1}else $ppr.invert($ppf._tempM0),$pptn.multiply($pps,$ppf._tempM0,$ppn)},$ppf.merge=function($ppt,$ppe,$ppi){var $ppn=$ppt.extents;var $ppr=$ppt.transformation;$ppf.getObbtoObbMatrix4x4($ppt,$ppe,$ppi,$ppf._tempM0),$ppe._getLocalCorners($ppf._corners),$ppD.transformCoordinate($ppf._corners[0],$ppf._tempM0,$ppf._corners[0]),$ppD.transformCoordinate($ppf._corners[1],$ppf._tempM0,$ppf._corners[1]),$ppD.transformCoordinate($ppf._corners[2],$ppf._tempM0,$ppf._corners[2]),$ppD.transformCoordinate($ppf._corners[3],$ppf._tempM0,$ppf._corners[3]),$ppD.transformCoordinate($ppf._corners[4],$ppf._tempM0,$ppf._corners[4]),$ppD.transformCoordinate($ppf._corners[5],$ppf._tempM0,$ppf._corners[5]),$ppD.transformCoordinate($ppf._corners[6],$ppf._tempM0,$ppf._corners[6]),$ppD.transformCoordinate($ppf._corners[7],$ppf._tempM0,$ppf._corners[7]),$ppD.scale($ppn,-1,$ppf._boxBound1.min),$ppn.cloneTo($ppf._boxBound1.max),$ppWi.createfromPoints($ppf._corners,$ppf._boxBound2),$ppWi.merge($ppf._boxBound2,$ppf._boxBound1,$ppf._boxBound3);$ppt=$ppf._boxBound3.min;$ppi=$ppf._boxBound3.max;$ppD.subtract($ppi,$ppt,$ppf._tempV30),$ppD.scale($ppf._tempV30,.5,$ppf._tempV30),$ppD.add($ppt,$ppf._tempV30,$ppf._tempV32),$ppD.subtract($ppi,$ppf._tempV32,$ppn),$ppD.transformCoordinate($ppf._tempV32,$ppr,$ppf._tempV33)},$ppl($ppf,["_tempV30",function(){return this._tempV30=new $ppD},"_tempV31",function(){return this._tempV31=new $ppD},"_tempV32",function(){return this._tempV32=new $ppD},"_tempV33",function(){return this._tempV33=new $ppD},"_tempV34",function(){return this._tempV34=new $ppD},"_tempV35",function(){return this._tempV35=new $ppD},"_tempV36",function(){return this._tempV36=new $ppD},"_tempM0",function(){return this._tempM0=new $pptn},"_tempM1",function(){return this._tempM1=new $pptn},"_corners",function(){return this._corners=[new $ppD,new $ppD,new $ppD,new $ppD,new $ppD,new $ppD,new $ppD,new $ppD]},"_rows1",function(){return this._rows1=[new $ppD,new $ppD,new $ppD]},"_rows2",function(){return this._rows2=[new $ppD,new $ppD,new $ppD]},"_ray",function(){return this._ray=new $ppln(new $ppD,new $ppD)},"_boxBound1",function(){return this._boxBound1=new $ppWi(new $ppD,new $ppD)},"_boxBound2",function(){return this._boxBound2=new $ppWi(new $ppD,new $ppD)},"_boxBound3",function(){return this._boxBound3=new $ppWi(new $ppD,new $ppD)}]);function $ppf($ppt,$ppe){this.extents=null,this.transformation=null,this.extents=$ppt,this.transformation=$ppe}$ppt($ppnn,"laya.d3.math.Plane"),$ppnn.prototype.normalize=function(){var $ppt=this.normal.elements;var $ppe=$ppt[0];var $ppi=$ppt[1];var $ppn=$ppt[2];var $ppr=1/Math.sqrt($ppe*$ppe+$ppi*$ppi+$ppn*$ppn);$ppt[0]=$ppe*$ppr,$ppt[1]=$ppi*$ppr,$ppt[2]=$ppn*$ppr,this.distance*=$ppr},$ppnn.createPlaneBy3P=function($ppt,$ppe,$ppi){$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi=$ppi.elements;var $ppn=$ppe[0]-$ppt[0];var $ppr=$ppe[1]-$ppt[1];$ppe=$ppe[2]-$ppt[2];var $pps=$ppi[0]-$ppt[0];var $ppa=$ppi[1]-$ppt[1];$ppi=$ppi[2]-$ppt[2];var $ppo=$ppr*$ppi-$ppe*$ppa;$ppe=$ppe*$pps-$ppn*$ppi;$ppi=$ppn*$ppa-$ppr*$pps;$ppn=1/Math.sqrt($ppo*$ppo+$ppe*$ppe+$ppi*$ppi);$ppa=$ppo*$ppn;$ppr=$ppe*$ppn;$pps=$ppi*$ppn;$ppo=$ppnn._TEMPVec3.elements;$ppo[0]=$ppa,$ppo[1]=$ppr,$ppo[2]=$pps;$ppe=-($ppa*$ppt[0]+$ppr*$ppt[1]+$pps*$ppt[2]);return new $ppnn($ppnn._TEMPVec3,$ppe)},$ppnn.PlaneIntersectionType_Back=0,$ppnn.PlaneIntersectionType_Front=1,$ppnn.PlaneIntersectionType_Intersecting=2,$ppl($ppnn,["_TEMPVec3",function(){return this._TEMPVec3=new $ppD}]);var $ppin=$ppnn;function $ppnn($ppt,$ppe){this.normal=null,this.distance=NaN,void 0===$ppe&&($ppe=0),this.normal=$ppt,this.distance=$ppe}$ppt($ppsn,"laya.d3.math.Quaternion"),$ppa=$ppsn.prototype,$pph.imps($ppa,{"laya.d3.core.IClone":!0}),$ppa.scaling=function($ppt,$ppe){$ppe=$ppe.elements;var $ppi=this.elements;$ppe[0]=$ppi[0]*$ppt,$ppe[1]=$ppi[1]*$ppt,$ppe[2]=$ppi[2]*$ppt,$ppe[3]=$ppi[3]*$ppt},$ppa.normalize=function($ppt){$ppt=$ppt.elements;var $ppe=this.elements;var $ppi=$ppe[0],$ppn=$ppe[1],$ppr=$ppe[2],$ppe=$ppe[3];var $pps=$ppi*$ppi+$ppn*$ppn+$ppr*$ppr+$ppe*$ppe;0<$pps&&($pps=1/Math.sqrt($pps),$ppt[0]=$ppi*$pps,$ppt[1]=$ppn*$pps,$ppt[2]=$ppr*$pps,$ppt[3]=$ppe*$pps)},$ppa.length=function(){var $ppt=this.elements;var $ppe=$ppt[0],$ppi=$ppt[1],$ppn=$ppt[2],$ppt=$ppt[3];return Math.sqrt($ppe*$ppe+$ppi*$ppi+$ppn*$ppn+$ppt*$ppt)},$ppa.rotateX=function($ppt,$ppe){$ppe=$ppe.elements;var $ppi=this.elements;$ppt*=.5;var $ppn=$ppi[0],$ppr=$ppi[1],$pps=$ppi[2],$ppi=$ppi[3];var $ppa=Math.sin($ppt),$ppt=Math.cos($ppt);$ppe[0]=$ppn*$ppt+$ppi*$ppa,$ppe[1]=$ppr*$ppt+$pps*$ppa,$ppe[2]=$pps*$ppt-$ppr*$ppa,$ppe[3]=$ppi*$ppt-$ppn*$ppa},$ppa.rotateY=function($ppt,$ppe){$ppe=$ppe.elements;var $ppi=this.elements;$ppt*=.5;var $ppn=$ppi[0],$ppr=$ppi[1],$pps=$ppi[2],$ppi=$ppi[3],$ppa=Math.sin($ppt),$ppt=Math.cos($ppt);$ppe[0]=$ppn*$ppt-$pps*$ppa,$ppe[1]=$ppr*$ppt+$ppi*$ppa,$ppe[2]=$pps*$ppt+$ppn*$ppa,$ppe[3]=$ppi*$ppt-$ppr*$ppa},$ppa.rotateZ=function($ppt,$ppe){$ppe=$ppe.elements;var $ppi=this.elements;$ppt*=.5;var $ppn=$ppi[0],$ppr=$ppi[1],$pps=$ppi[2],$ppi=$ppi[3],$ppa=Math.sin($ppt),$ppt=Math.cos($ppt);$ppe[0]=$ppn*$ppt+$ppr*$ppa,$ppe[1]=$ppr*$ppt-$ppn*$ppa,$ppe[2]=$pps*$ppt+$ppi*$ppa,$ppe[3]=$ppi*$ppt-$pps*$ppa},$ppa.getYawPitchRoll=function($ppt){$ppD.transformQuat($ppD.ForwardRH,this,$ppsn.TEMPVector31),$ppD.transformQuat($ppD.Up,this,$ppsn.TEMPVector32);var $ppe=$ppsn.TEMPVector32.elements;$ppsn.angleTo($ppD.ZERO,$ppsn.TEMPVector31,$ppsn.TEMPVector33);var $ppi=$ppsn.TEMPVector33.elements;$ppi[0]==Math.PI/2?($ppi[1]=$ppsn.arcTanAngle($ppe[2],$ppe[0]),$ppi[2]=0):$ppi[0]==-Math.PI/2?($ppi[1]=$ppsn.arcTanAngle(-$ppe[2],-$ppe[0]),$ppi[2]=0):($pptn.createRotationY(-$ppi[1],$ppsn.TEMPMatrix0),$pptn.createRotationX(-$ppi[0],$ppsn.TEMPMatrix1),$ppD.transformCoordinate($ppsn.TEMPVector32,$ppsn.TEMPMatrix0,$ppsn.TEMPVector32),$ppD.transformCoordinate($ppsn.TEMPVector32,$ppsn.TEMPMatrix1,$ppsn.TEMPVector32),$ppi[2]=$ppsn.arcTanAngle($ppe[1],-$ppe[0])),$ppi[1]<=-Math.PI&&($ppi[1]=Math.PI),$ppi[2]<=-Math.PI&&($ppi[2]=Math.PI),$ppi[1]>=Math.PI&&$ppi[2]>=Math.PI&&($ppi[1]=0,$ppi[2]=0,$ppi[0]=Math.PI-$ppi[0]);$ppe=$ppt.elements;$ppe[0]=$ppi[1],$ppe[1]=$ppi[0],$ppe[2]=$ppi[2]},$ppa.invert=function($ppt){$ppt=$ppt.elements;var $ppe=this.elements;var $ppi=$ppe[0],$ppn=$ppe[1],$ppr=$ppe[2],$ppe=$ppe[3];var $pps=$ppi*$ppi+$ppn*$ppn+$ppr*$ppr+$ppe*$ppe;$pps=$pps?1/$pps:0;$ppt[0]=-$ppi*$pps,$ppt[1]=-$ppn*$pps,$ppt[2]=-$ppr*$pps,$ppt[3]=$ppe*$pps},$ppa.identity=function(){var $ppt=this.elements;$ppt[0]=0,$ppt[1]=0,$ppt[2]=0,$ppt[3]=1},$ppa.fromArray=function($ppt,$ppe){this.elements[0]=$ppt[($ppe=void 0===$ppe?0:$ppe)+0],this.elements[1]=$ppt[$ppe+1],this.elements[2]=$ppt[$ppe+2],this.elements[3]=$ppt[$ppe+3]},$ppa.cloneTo=function($ppt){var $ppe,$ppi,$ppn;if(($ppi=this.elements)!==($ppn=$ppt.elements))for($ppe=0;$ppe<4;++$ppe)$ppn[$ppe]=$ppi[$ppe]},$ppa.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppa.equals=function($ppt){var $ppe=this.elements;$ppt=$ppt.elements;return $pp$i.nearEqual($ppe[0],$ppt[0])&&$pp$i.nearEqual($ppe[1],$ppt[1])&&$pp$i.nearEqual($ppe[2],$ppt[2])&&$pp$i.nearEqual($ppe[3],$ppt[3])},$ppa.lengthSquared=function(){var $ppt=this.elements[0];var $ppe=this.elements[1];var $ppi=this.elements[2];var $ppn=this.elements[3];return $ppt*$ppt+$ppe*$ppe+$ppi*$ppi+$ppn*$ppn},$ppe(0,$ppa,"x",function(){return this.elements[0]}),$ppe(0,$ppa,"y",function(){return this.elements[1]}),$ppe(0,$ppa,"z",function(){return this.elements[2]}),$ppe(0,$ppa,"w",function(){return this.elements[3]}),$ppsn.createFromYawPitchRoll=function($ppt,$ppe,$ppi,$ppn){$ppi*=.5;$ppe*=.5;$ppt*=.5;var $ppr=Math.sin($ppi);$ppi=Math.cos($ppi);var $pps=Math.sin($ppe);$ppe=Math.cos($ppe);var $ppa=Math.sin($ppt);$ppt=Math.cos($ppt);$ppn=$ppn.elements;$ppn[0]=$ppt*$pps*$ppi+$ppa*$ppe*$ppr,$ppn[1]=$ppa*$ppe*$ppi-$ppt*$pps*$ppr,$ppn[2]=$ppt*$ppe*$ppr-$ppa*$pps*$ppi,$ppn[3]=$ppt*$ppe*$ppi+$ppa*$pps*$ppr},$ppsn.multiply=function($ppt,$ppe,$ppi){$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi=$ppi.elements;var $ppn=$ppt[0];var $ppr=$ppt[1];var $pps=$ppt[2];$ppt=$ppt[3];var $ppa=$ppe[0];var $ppo=$ppe[1];var $pph=$ppe[2];$ppe=$ppe[3];var $ppl=$pps*$ppa-$ppn*$pph;var $ppc=$ppn*$ppo-$ppr*$ppa;var $ppu=$ppn*$ppa+$ppr*$ppo+$pps*$pph;$ppi[0]=$ppn*$ppe+$ppa*$ppt+($ppr*$pph-$pps*$ppo),$ppi[1]=$ppr*$ppe+$ppo*$ppt+$ppl,$ppi[2]=$pps*$ppe+$pph*$ppt+$ppc,$ppi[3]=$ppt*$ppe-$ppu},$ppsn.arcTanAngle=function($ppt,$ppe){return 0==$ppt?1==$ppe?Math.PI/2:-Math.PI/2:0<$ppt?Math.atan($ppe/$ppt):$ppt<0?0<$ppe?Math.atan($ppe/$ppt)+Math.PI:Math.atan($ppe/$ppt)-Math.PI:0},$ppsn.angleTo=function($ppt,$ppe,$ppi){$ppD.subtract($ppe,$ppt,$ppsn.TEMPVector30),$ppD.normalize($ppsn.TEMPVector30,$ppsn.TEMPVector30),$ppi.elements[0]=Math.asin($ppsn.TEMPVector30.y),$ppi.elements[1]=$ppsn.arcTanAngle(-$ppsn.TEMPVector30.z,-$ppsn.TEMPVector30.x)},$ppsn.createFromAxisAngle=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppe*=.5;var $ppn=Math.sin($ppe);$ppi[0]=$ppn*$ppt[0],$ppi[1]=$ppn*$ppt[1],$ppi[2]=$ppn*$ppt[2],$ppi[3]=Math.cos($ppe)},$ppsn.createFromMatrix3x3=function($ppt,$ppe){$ppe=$ppe.elements;$ppt=$ppt.elements;var $ppi=$ppt[0]+$ppt[4]+$ppt[8];var $ppn;var $ppr,$pps;0<$ppi?($ppn=Math.sqrt($ppi+1),$ppe[3]=.5*$ppn,$ppe[0]=($ppt[5]-$ppt[7])*($ppn=.5/$ppn),$ppe[1]=($ppt[6]-$ppt[2])*$ppn,$ppe[2]=($ppt[1]-$ppt[3])*$ppn):($ppt[4]>$ppt[$ppi=0]&&($ppi=1),$ppr=(($ppi=$ppt[8]>$ppt[3*$ppi+$ppi]?2:$ppi)+1)%3,$pps=($ppi+2)%3,$ppn=Math.sqrt($ppt[3*$ppi+$ppi]-$ppt[3*$ppr+$ppr]-$ppt[3*$pps+$pps]+1),$ppe[$ppi]=.5*$ppn,$ppe[3]=($ppt[3*$ppr+$pps]-$ppt[3*$pps+$ppr])*($ppn=.5/$ppn),$ppe[$ppr]=($ppt[3*$ppr+$ppi]+$ppt[3*$ppi+$ppr])*$ppn,$ppe[$pps]=($ppt[3*$pps+$ppi]+$ppt[3*$ppi+$pps])*$ppn)},$ppsn.createFromMatrix4x4=function($ppt,$ppe){$ppt=$ppt.elements;$ppe=$ppe.elements;var $ppi;var $ppn;var $ppr=$ppt[0]+$ppt[5]+$ppt[10];0<$ppr?($ppi=Math.sqrt($ppr+1),$ppe[3]=.5*$ppi,$ppe[0]=($ppt[6]-$ppt[9])*($ppi=.5/$ppi),$ppe[1]=($ppt[8]-$ppt[2])*$ppi,$ppe[2]=($ppt[1]-$ppt[4])*$ppi):$ppt[0]>=$ppt[5]&&$ppt[0]>=$ppt[10]?($ppn=.5/($ppi=Math.sqrt(1+$ppt[0]-$ppt[5]-$ppt[10])),$ppe[0]=.5*$ppi,$ppe[1]=($ppt[1]+$ppt[4])*$ppn,$ppe[2]=($ppt[2]+$ppt[8])*$ppn,$ppe[3]=($ppt[6]-$ppt[9])*$ppn):$ppt[5]>$ppt[10]?($ppi=Math.sqrt(1+$ppt[5]-$ppt[0]-$ppt[10]),$ppe[0]=($ppt[4]+$ppt[1])*($ppn=.5/$ppi),$ppe[1]=.5*$ppi,$ppe[2]=($ppt[9]+$ppt[6])*$ppn,$ppe[3]=($ppt[8]-$ppt[2])*$ppn):($ppi=Math.sqrt(1+$ppt[10]-$ppt[0]-$ppt[5]),$ppe[0]=($ppt[8]+$ppt[2])*($ppn=.5/$ppi),$ppe[1]=($ppt[9]+$ppt[6])*$ppn,$ppe[2]=.5*$ppi,$ppe[3]=($ppt[1]-$ppt[4])*$ppn)},$ppsn.slerp=function($ppt,$ppe,$ppi,$ppn){$ppt=$ppt.elements;$ppe=$ppe.elements;$ppn=$ppn.elements;var $ppc=$ppt[0],$ppu=$ppt[1],$pp_=$ppt[2],$ppt=$ppt[3],$ppr=$ppe[0],$pps=$ppe[1],$ppa=$ppe[2],$ppe=$ppe[3];var $ppo,$pph,$ppl;return($ppl=$ppc*$ppr+$ppu*$pps+$pp_*$ppa+$ppt*$ppe)<0&&($ppl=-$ppl,$ppr=-$ppr,$pps=-$pps,$ppa=-$ppa,$ppe=-$ppe),$ppl=1e-6<1-$ppl?($ppl=Math.acos($ppl),$ppo=Math.sin($ppl),$pph=Math.sin((1-$ppi)*$ppl)/$ppo,Math.sin($ppi*$ppl)/$ppo):($pph=1-$ppi,$ppi),$ppn[0]=$pph*$ppc+$ppl*$ppr,$ppn[1]=$pph*$ppu+$ppl*$pps,$ppn[2]=$pph*$pp_+$ppl*$ppa,$ppn[3]=$pph*$ppt+$ppl*$ppe,$ppn},$ppsn.lerp=function($ppt,$ppe,$ppi,$ppn){$ppn=$ppn.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;var $ppr=$ppt[0],$pps=$ppt[1],$ppa=$ppt[2],$ppt=$ppt[3];$ppn[0]=$ppr+$ppi*($ppe[0]-$ppr),$ppn[1]=$pps+$ppi*($ppe[1]-$pps),$ppn[2]=$ppa+$ppi*($ppe[2]-$ppa),$ppn[3]=$ppt+$ppi*($ppe[3]-$ppt)},$ppsn.add=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi[0]=$ppt[0]+$ppe[0],$ppi[1]=$ppt[1]+$ppe[1],$ppi[2]=$ppt[2]+$ppe[2],$ppi[3]=$ppt[3]+$ppe[3]},$ppsn.dot=function($ppt,$ppe){$ppt=$ppt.elements;$ppe=$ppe.elements;return $ppt[0]*$ppe[0]+$ppt[1]*$ppe[1]+$ppt[2]*$ppe[2]+$ppt[3]*$ppe[3]},$ppsn.rotationLookAt=function($ppt,$ppe,$ppi){$ppsn.lookAt($ppD.ZERO,$ppt,$ppe,$ppi)},$ppsn.lookAt=function($ppt,$ppe,$ppi,$ppn){$ppQi.lookAt($ppt,$ppe,$ppi,$ppsn._tempMatrix3x3),$ppsn.rotationMatrix($ppsn._tempMatrix3x3,$ppn)},$ppsn.invert=function($ppt,$ppe){var $ppi=$ppt.elements;$ppe=$ppe.elements;$ppt=$ppt.lengthSquared();$pp$i.isZero($ppt)||($ppe[0]=-$ppi[0]*($ppt=1/$ppt),$ppe[1]=-$ppi[1]*$ppt,$ppe[2]=-$ppi[2]*$ppt,$ppe[3]=$ppi[3]*$ppt)},$ppsn.rotationMatrix=function($ppt,$ppe){$ppt=$ppt.elements;var $ppi=$ppt[0];var $ppn=$ppt[1];var $ppr=$ppt[2];var $pps=$ppt[3];var $ppa=$ppt[4];var $ppo=$ppt[5];var $ppc=$ppt[6];var $ppu=$ppt[7];$ppt=$ppt[8];$ppe=$ppe.elements;var $pph=NaN,$ppl=NaN;var $pp_=$ppi+$ppa+$ppt;0<$pp_?($pph=Math.sqrt($pp_+1),$ppe[3]=.5*$pph,$ppe[0]=($ppo-$ppu)*($pph=.5/$pph),$ppe[1]=($ppc-$ppr)*$pph,$ppe[2]=($ppn-$pps)*$pph):$ppa<=$ppi&&$ppt<=$ppi?($ppl=.5/($pph=Math.sqrt(1+$ppi-$ppa-$ppt)),$ppe[0]=.5*$pph,$ppe[1]=($ppn+$pps)*$ppl,$ppe[2]=($ppr+$ppc)*$ppl,$ppe[3]=($ppo-$ppu)*$ppl):$ppt<$ppa?($pph=Math.sqrt(1+$ppa-$ppi-$ppt),$ppe[0]=($pps+$ppn)*($ppl=.5/$pph),$ppe[1]=.5*$pph,$ppe[2]=($ppu+$ppo)*$ppl,$ppe[3]=($ppc-$ppr)*$ppl):($pph=Math.sqrt(1+$ppt-$ppi-$ppa),$ppe[0]=($ppc+$ppr)*($ppl=.5/$pph),$ppe[1]=($ppu+$ppo)*$ppl,$ppe[2]=.5*$pph,$ppe[3]=($ppn-$pps)*$ppl)},$ppsn.DEFAULT=new $ppsn,$ppl($ppsn,["TEMPVector30",function(){return this.TEMPVector30=new $ppD},"TEMPVector31",function(){return this.TEMPVector31=new $ppD},"TEMPVector32",function(){return this.TEMPVector32=new $ppD},"TEMPVector33",function(){return this.TEMPVector33=new $ppD},"TEMPMatrix0",function(){return this.TEMPMatrix0=new $pptn},"TEMPMatrix1",function(){return this.TEMPMatrix1=new $pptn},"_tempMatrix3x3",function(){return this._tempMatrix3x3=new $ppQi},"NAN",function(){return this.NAN=new $ppsn(NaN,NaN,NaN,NaN)}]);var $pprn=$ppsn;function $ppsn($ppt,$ppe,$ppi,$ppn){this.elements=new Float32Array(4),void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0),void 0===$ppn&&($ppn=1),this.elements[0]=$ppt=void 0===$ppt?0:$ppt,this.elements[1]=$ppe,this.elements[2]=$ppi,this.elements[3]=$ppn}$ppt($ppon,"laya.d3.math.Rand"),($ppa=$ppon.prototype).getUint=function(){return this._temp[0]=this.seeds[0]^this.seeds[0]<<11,this.seeds[0]=this.seeds[1],this.seeds[1]=this.seeds[2],this.seeds[2]=this.seeds[3],this.seeds[3]=this.seeds[3]^this.seeds[3]>>>19^(this._temp[0]^this._temp[0]>>>8),this.seeds[3]},$ppa.getFloat=function(){return this.getUint(),(8388607&this.seeds[3])*(1/8388607)},$ppa.getSignedFloat=function(){return 2*this.getFloat()-1},$ppe(0,$ppa,"seed",function(){return this.seeds[0]},function($ppt){this.seeds[0]=$ppt,this.seeds[1]=1812433253*this.seeds[0]+1,this.seeds[2]=1812433253*this.seeds[1]+1,this.seeds[3]=1812433253*this.seeds[2]+1}),$ppon.getFloatFromInt=function($ppt){return 1/8388607*(8388607&$ppt)},$ppon.getByteFromInt=function($ppt){return(8388607&$ppt)>>>15};var $ppan=$ppon;function $ppon($ppt){this._temp=new Uint32Array(1),this.seeds=new Uint32Array(4),this.seeds[0]=$ppt,this.seeds[1]=1812433253*this.seeds[0]+1,this.seeds[2]=1812433253*this.seeds[1]+1,this.seeds[3]=1812433253*this.seeds[2]+1}$ppt($pphn,"laya.d3.math.RandX"),($ppa=$pphn.prototype).randomint=function(){var $ppt=this._state0U,$ppe=this._state0L;var $ppi=this._state1U,$ppn=this._state1L;var $ppr=($ppn>>>0)+($ppe>>>0);var $pps=$ppi+$ppt+($ppr/2>>>31)>>>0;$ppr>>>=0;this._state0U=$ppi;var $ppa=0;var $ppo;$ppo=($ppt^=$ppt<<23|(-512&$ppe)>>>9)>>>18;return $ppa=($ppa=($ppe^=$ppa=$ppe<<23)^(this._state0L=$ppn))^($ppe>>>18|(262143&$ppt)<<14)^($ppn>>>5|(31&$ppi)<<27),this._state1U=$ppt^$ppi^$ppo^$ppi>>>5,this._state1L=$ppa,[$pps,$ppr]},$ppa.random=function(){var $ppt=this.randomint();var $ppe=$ppt[0];$ppt=0|($ppt[1]>>>12|(4095&$ppe)<<20);return $pphn._CONVERTION_BUFFER.setUint32(0,1023<<20|$ppe>>>12,!1),$pphn._CONVERTION_BUFFER.setUint32(4,$ppt,!1),$ppan._CONVERTION_BUFFER.getFloat64(0,!1)-1},$ppl($pphn,["_CONVERTION_BUFFER",function(){return this._CONVERTION_BUFFER=new DataView(new ArrayBuffer(8))},"defaultRand",function(){return this.defaultRand=new $ppan([0,Date.now()/65536,0,Date.now()%65536])}]);function $pphn($ppt){if(this._state0U=NaN,this._state0L=NaN,this._state1U=NaN,this._state1L=NaN,!($ppt instanceof Array)||4!==$ppt.length)throw new Error("Rand:Seed must be an array with 4 numbers");this._state0U=0|$ppt[0],this._state0L=0|$ppt[1],this._state1U=0|$ppt[2],this._state1L=0|$ppt[3]}$ppt($ppcn,"laya.d3.math.Ray");var $ppln=$ppcn;function $ppcn($ppt,$ppe){this.origin=null,this.direction=null,this.origin=$ppt,this.direction=$ppe}$ppt($pp_n,"laya.d3.math.Vector2"),$ppa=$pp_n.prototype,$pph.imps($ppa,{"laya.d3.core.IClone":!0}),$ppa.fromArray=function($ppt,$ppe){this.elements[0]=$ppt[($ppe=void 0===$ppe?0:$ppe)+0],this.elements[1]=$ppt[$ppe+1]},$ppa.cloneTo=function($ppt){$ppt=$ppt.elements;var $ppe=this.elements;$ppt[0]=$ppe[0],$ppt[1]=$ppe[1]},$ppa.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppe(0,$ppa,"x",function(){return this.elements[0]},function($ppt){this.elements[0]=$ppt}),$ppe(0,$ppa,"y",function(){return this.elements[1]},function($ppt){this.elements[1]=$ppt}),$pp_n.scale=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppi[0]=$ppt[0]*$ppe,$ppi[1]=$ppt[1]*$ppe},$ppl($pp_n,["ZERO",function(){return this.ZERO=new $pp_n(0,0)},"ONE",function(){return this.ONE=new $pp_n(1,1)}]);var $ppun=$pp_n;function $pp_n($ppt,$ppe){this.elements=new Float32Array(2),void 0===$ppe&&($ppe=0);var $ppi=this.elements;$ppi[0]=$ppt=void 0===$ppt?0:$ppt,$ppi[1]=$ppe}$ppt($ppdn,"laya.d3.math.Vector3"),$ppa=$ppdn.prototype,$pph.imps($ppa,{"laya.d3.core.IClone":!0}),$ppa.fromArray=function($ppt,$ppe){this.elements[0]=$ppt[($ppe=void 0===$ppe?0:$ppe)+0],this.elements[1]=$ppt[$ppe+1],this.elements[2]=$ppt[$ppe+2]},$ppa.cloneTo=function($ppt){$ppt=$ppt.elements;var $ppe=this.elements;$ppt[0]=$ppe[0],$ppt[1]=$ppe[1],$ppt[2]=$ppe[2]},$ppa.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppa.toDefault=function(){this.elements[0]=0,this.elements[1]=0,this.elements[2]=0},$ppa.reset=function($ppt,$ppe,$ppi){this.elements[0]=$ppt,this.elements[1]=$ppe,this.elements[2]=$ppi},$ppe(0,$ppa,"x",function(){return this.elements[0]},function($ppt){this.elements[0]=$ppt}),$ppe(0,$ppa,"y",function(){return this.elements[1]},function($ppt){this.elements[1]=$ppt}),$ppe(0,$ppa,"z",function(){return this.elements[2]},function($ppt){this.elements[2]=$ppt}),$ppdn.distanceSquared=function($ppt,$ppe){$ppt=$ppt.elements;$ppe=$ppe.elements;var $ppi=$ppt[0]-$ppe[0];var $ppn=$ppt[1]-$ppe[1];$ppt=$ppt[2]-$ppe[2];return $ppi*$ppi+$ppn*$ppn+$ppt*$ppt},$ppdn.distance=function($ppt,$ppe){$ppt=$ppt.elements;$ppe=$ppe.elements;var $ppi=$ppt[0]-$ppe[0];var $ppn=$ppt[1]-$ppe[1];$ppt=$ppt[2]-$ppe[2];return Math.sqrt($ppi*$ppi+$ppn*$ppn+$ppt*$ppt)},$ppdn.min=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi[0]=Math.min($ppt[0],$ppe[0]),$ppi[1]=Math.min($ppt[1],$ppe[1]),$ppi[2]=Math.min($ppt[2],$ppe[2])},$ppdn.max=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi[0]=Math.max($ppt[0],$ppe[0]),$ppi[1]=Math.max($ppt[1],$ppe[1]),$ppi[2]=Math.max($ppt[2],$ppe[2])},$ppdn.transformQuat=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;var $ppn=$ppt[0],$ppr=$ppt[1],$ppt=$ppt[2],$pps=$ppe[0],$ppa=$ppe[1],$ppo=$ppe[2],$ppe=$ppe[3],$pph=$ppe*$ppn+$ppa*$ppt-$ppo*$ppr,$ppl=$ppe*$ppr+$ppo*$ppn-$pps*$ppt,$ppc=$ppe*$ppt+$pps*$ppr-$ppa*$ppn,$ppn=-$pps*$ppn-$ppa*$ppr-$ppo*$ppt;$ppi[0]=$pph*$ppe+$ppn*-$pps+$ppl*-$ppo-$ppc*-$ppa,$ppi[1]=$ppl*$ppe+$ppn*-$ppa+$ppc*-$pps-$pph*-$ppo,$ppi[2]=$ppc*$ppe+$ppn*-$ppo+$pph*-$ppa-$ppl*-$pps},$ppdn.scalarLength=function($ppt){$ppt=$ppt.elements;var $ppe=$ppt[0],$ppi=$ppt[1],$ppt=$ppt[2];return Math.sqrt($ppe*$ppe+$ppi*$ppi+$ppt*$ppt)},$ppdn.scalarLengthSquared=function($ppt){$ppt=$ppt.elements;var $ppe=$ppt[0],$ppi=$ppt[1],$ppt=$ppt[2];return $ppe*$ppe+$ppi*$ppi+$ppt*$ppt},$ppdn.normalize=function($ppt,$ppe){$ppt=$ppt.elements;$ppe=$ppe.elements;var $ppi=$ppt[0],$ppn=$ppt[1],$ppr=$ppt[2];$ppi=$ppi*$ppi+$ppn*$ppn+$ppr*$ppr;0<$ppi&&($ppi=1/Math.sqrt($ppi),$ppe[0]=$ppt[0]*$ppi,$ppe[1]=$ppt[1]*$ppi,$ppe[2]=$ppt[2]*$ppi)},$ppdn.multiply=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi[0]=$ppt[0]*$ppe[0],$ppi[1]=$ppt[1]*$ppe[1],$ppi[2]=$ppt[2]*$ppe[2]},$ppdn.scale=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppi[0]=$ppt[0]*$ppe,$ppi[1]=$ppt[1]*$ppe,$ppi[2]=$ppt[2]*$ppe},$ppdn.lerp=function($ppt,$ppe,$ppi,$ppn){$ppn=$ppn.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;var $ppr=$ppt[0],$pps=$ppt[1],$ppt=$ppt[2];$ppn[0]=$ppr+$ppi*($ppe[0]-$ppr),$ppn[1]=$pps+$ppi*($ppe[1]-$pps),$ppn[2]=$ppt+$ppi*($ppe[2]-$ppt)},$ppdn.transformV3ToV3=function($ppt,$ppe,$ppi){var $ppn=$ppdn._tempVector4;$ppdn.transformV3ToV4($ppt,$ppe,$ppn);$ppt=$ppn.elements;$ppe=$ppi.elements;$ppe[0]=$ppt[0],$ppe[1]=$ppt[1],$ppe[2]=$ppt[2]},$ppdn.transformV3ToV4=function($ppt,$ppe,$ppi){$ppt=$ppt.elements;var $ppn=$ppt[0];var $ppr=$ppt[1];$ppt=$ppt[2];$ppe=$ppe.elements;$ppi=$ppi.elements;$ppi[0]=$ppn*$ppe[0]+$ppr*$ppe[4]+$ppt*$ppe[8]+$ppe[12],$ppi[1]=$ppn*$ppe[1]+$ppr*$ppe[5]+$ppt*$ppe[9]+$ppe[13],$ppi[2]=$ppn*$ppe[2]+$ppr*$ppe[6]+$ppt*$ppe[10]+$ppe[14],$ppi[3]=$ppn*$ppe[3]+$ppr*$ppe[7]+$ppt*$ppe[11]+$ppe[15]},$ppdn.TransformNormal=function($ppt,$ppe,$ppi){$ppt=$ppt.elements;var $ppn=$ppt[0];var $ppr=$ppt[1];$ppt=$ppt[2];$ppe=$ppe.elements;$ppi=$ppi.elements;$ppi[0]=$ppn*$ppe[0]+$ppr*$ppe[4]+$ppt*$ppe[8],$ppi[1]=$ppn*$ppe[1]+$ppr*$ppe[5]+$ppt*$ppe[9],$ppi[2]=$ppn*$ppe[2]+$ppr*$ppe[6]+$ppt*$ppe[10]},$ppdn.transformCoordinate=function($ppt,$ppe,$ppi){var $ppn=$ppdn._tempVector4.elements;$ppt=$ppt.elements;var $ppr=$ppt[0];var $pps=$ppt[1];$ppt=$ppt[2];$ppe=$ppe.elements;$ppn[0]=$ppr*$ppe[0]+$pps*$ppe[4]+$ppt*$ppe[8]+$ppe[12],$ppn[1]=$ppr*$ppe[1]+$pps*$ppe[5]+$ppt*$ppe[9]+$ppe[13],$ppn[2]=$ppr*$ppe[2]+$pps*$ppe[6]+$ppt*$ppe[10]+$ppe[14],$ppn[3]=1/($ppr*$ppe[3]+$pps*$ppe[7]+$ppt*$ppe[11]+$ppe[15]);$ppr=$ppi.elements;$ppr[0]=$ppn[0]*$ppn[3],$ppr[1]=$ppn[1]*$ppn[3],$ppr[2]=$ppn[2]*$ppn[3]},$ppdn.Clamp=function($ppt,$ppe,$ppi,$ppn){$ppt=$ppt.elements;var $ppr=$ppt[0];var $pps=$ppt[1];$ppt=$ppt[2];$ppe=$ppe.elements;var $ppa=$ppe[0];var $ppo=$ppe[1];$ppe=$ppe[2];$ppi=$ppi.elements;var $pph=$ppi[0];var $ppl=$ppi[1];$ppi=$ppi[2];$ppn=$ppn.elements;$pps=($pps=$ppl<$pps?$ppl:$pps)<$ppo?$ppo:$pps,$ppt=($ppt=$ppi<$ppt?$ppi:$ppt)<$ppe?$ppe:$ppt,$ppn[0]=$ppr=($ppr=$pph<$ppr?$pph:$ppr)<$ppa?$ppa:$ppr,$ppn[1]=$pps,$ppn[2]=$ppt},$ppdn.add=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi[0]=$ppt[0]+$ppe[0],$ppi[1]=$ppt[1]+$ppe[1],$ppi[2]=$ppt[2]+$ppe[2]},$ppdn.subtract=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi[0]=$ppt[0]-$ppe[0],$ppi[1]=$ppt[1]-$ppe[1],$ppi[2]=$ppt[2]-$ppe[2]},$ppdn.cross=function($ppt,$ppe,$ppi){$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi=$ppi.elements;var $ppn=$ppt[0],$ppr=$ppt[1],$ppt=$ppt[2],$pps=$ppe[0],$ppa=$ppe[1],$ppe=$ppe[2];$ppi[0]=$ppr*$ppe-$ppt*$ppa,$ppi[1]=$ppt*$pps-$ppn*$ppe,$ppi[2]=$ppn*$ppa-$ppr*$pps},$ppdn.dot=function($ppt,$ppe){$ppt=$ppt.elements;$ppe=$ppe.elements;return $ppt[0]*$ppe[0]+$ppt[1]*$ppe[1]+$ppt[2]*$ppe[2]},$ppdn.equals=function($ppt,$ppe){$ppt=$ppt.elements;$ppe=$ppe.elements;return $pp$i.nearEqual(Math.abs($ppt[0]),Math.abs($ppe[0]))&&$pp$i.nearEqual(Math.abs($ppt[1]),Math.abs($ppe[1]))&&$pp$i.nearEqual(Math.abs($ppt[2]),Math.abs($ppe[2]))},$ppdn.ZERO=new $ppdn(0,0,0),$ppdn.ONE=new $ppdn(1,1,1),$ppdn.NegativeUnitX=new $ppdn(-1,0,0),$ppdn.UnitX=new $ppdn(1,0,0),$ppdn.UnitY=new $ppdn(0,1,0),$ppdn.UnitZ=new $ppdn(0,0,1),$ppdn.ForwardRH=new $ppdn(0,0,-1),$ppdn.ForwardLH=new $ppdn(0,0,1),$ppdn.Up=new $ppdn(0,1,0),$ppdn.NAN=new $ppdn(NaN,NaN,NaN),$ppl($ppdn,["_tempVector4",function(){return this._tempVector4=new $ppfn}]);var $ppD=$ppdn;function $ppdn($ppt,$ppe,$ppi){this.elements=new Float32Array(3),void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0);var $ppn=this.elements;$ppn[0]=$ppt=void 0===$ppt?0:$ppt,$ppn[1]=$ppe,$ppn[2]=$ppi}$ppt($pppn,"laya.d3.math.Vector4"),$ppa=$pppn.prototype,$pph.imps($ppa,{"laya.d3.core.IClone":!0}),$ppa.fromArray=function($ppt,$ppe){this.elements[0]=$ppt[($ppe=void 0===$ppe?0:$ppe)+0],this.elements[1]=$ppt[$ppe+1],this.elements[2]=$ppt[$ppe+2],this.elements[3]=$ppt[$ppe+3]},$ppa.cloneTo=function($ppt){$ppt=$ppt.elements;var $ppe=this.elements;$ppt[0]=$ppe[0],$ppt[1]=$ppe[1],$ppt[2]=$ppe[2],$ppt[3]=$ppe[3]},$ppa.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppa.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},$ppa.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},$ppe(0,$ppa,"x",function(){return this.elements[0]},function($ppt){this.elements[0]=$ppt}),$ppe(0,$ppa,"y",function(){return this.elements[1]},function($ppt){this.elements[1]=$ppt}),$ppe(0,$ppa,"z",function(){return this.elements[2]},function($ppt){this.elements[2]=$ppt}),$ppe(0,$ppa,"w",function(){return this.elements[3]},function($ppt){this.elements[3]=$ppt}),$pppn.lerp=function($ppt,$ppe,$ppi,$ppn){$ppn=$ppn.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;var $ppr=$ppt[0],$pps=$ppt[1],$ppa=$ppt[2],$ppt=$ppt[3];$ppn[0]=$ppr+$ppi*($ppe[0]-$ppr),$ppn[1]=$pps+$ppi*($ppe[1]-$pps),$ppn[2]=$ppa+$ppi*($ppe[2]-$ppa),$ppn[3]=$ppt+$ppi*($ppe[3]-$ppt)},$pppn.transformByM4x4=function($ppt,$ppe,$ppi){$ppt=$ppt.elements;var $ppn=$ppt[0];var $ppr=$ppt[1];var $pps=$ppt[2];$ppt=$ppt[3];$ppe=$ppe.elements;$ppi=$ppi.elements;$ppi[0]=$ppn*$ppe[0]+$ppr*$ppe[4]+$pps*$ppe[8]+$ppt*$ppe[12],$ppi[1]=$ppn*$ppe[1]+$ppr*$ppe[5]+$pps*$ppe[9]+$ppt*$ppe[13],$ppi[2]=$ppn*$ppe[2]+$ppr*$ppe[6]+$pps*$ppe[10]+$ppt*$ppe[14],$ppi[3]=$ppn*$ppe[3]+$ppr*$ppe[7]+$pps*$ppe[11]+$ppt*$ppe[15]},$pppn.equals=function($ppt,$ppe){$ppt=$ppt.elements;$ppe=$ppe.elements;return $pp$i.nearEqual(Math.abs($ppt[0]),Math.abs($ppe[0]))&&$pp$i.nearEqual(Math.abs($ppt[1]),Math.abs($ppe[1]))&&$pp$i.nearEqual(Math.abs($ppt[2]),Math.abs($ppe[2]))&&$pp$i.nearEqual(Math.abs($ppt[3]),Math.abs($ppe[3]))},$pppn.normalize=function($ppt,$ppe){var $ppi=$ppt.elements;$ppe=$ppe.elements;$ppt=$ppt.length();0<$ppt&&($ppe[0]=$ppi[0]*$ppt,$ppe[1]=$ppi[1]*$ppt,$ppe[2]=$ppi[2]*$ppt,$ppe[3]=$ppi[3]*$ppt)},$pppn.add=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi[0]=$ppt[0]+$ppe[0],$ppi[1]=$ppt[1]+$ppe[1],$ppi[2]=$ppt[2]+$ppe[2],$ppi[3]=$ppt[3]+$ppe[3]},$pppn.subtract=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi[0]=$ppt[0]-$ppe[0],$ppi[1]=$ppt[1]-$ppe[1],$ppi[2]=$ppt[2]-$ppe[2],$ppi[3]=$ppt[3]-$ppe[3]},$pppn.multiply=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi[0]=$ppt[0]*$ppe[0],$ppi[1]=$ppt[1]*$ppe[1],$ppi[2]=$ppt[2]*$ppe[2],$ppi[3]=$ppt[3]*$ppe[3]},$pppn.scale=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppi[0]=$ppt[0]*$ppe,$ppi[1]=$ppt[1]*$ppe,$ppi[2]=$ppt[2]*$ppe,$ppi[3]=$ppt[3]*$ppe},$pppn.Clamp=function($ppt,$ppe,$ppi,$ppn){$ppt=$ppt.elements;var $ppr=$ppt[0];var $pps=$ppt[1];var $ppa=$ppt[2];$ppt=$ppt[3];$ppe=$ppe.elements;var $ppo=$ppe[0];var $pph=$ppe[1];var $ppl=$ppe[2];$ppe=$ppe[3];$ppi=$ppi.elements;var $ppc=$ppi[0];var $ppu=$ppi[1];var $pp_=$ppi[2];$ppi=$ppi[3];$ppn=$ppn.elements;$pps=($pps=$ppu<$pps?$ppu:$pps)<$pph?$pph:$pps,$ppa=($ppa=$pp_<$ppa?$pp_:$ppa)<$ppl?$ppl:$ppa,$ppt=($ppt=$ppi<$ppt?$ppi:$ppt)<$ppe?$ppe:$ppt,$ppn[0]=$ppr=($ppr=$ppc<$ppr?$ppc:$ppr)<$ppo?$ppo:$ppr,$ppn[1]=$pps,$ppn[2]=$ppa,$ppn[3]=$ppt},$pppn.distanceSquared=function($ppt,$ppe){$ppt=$ppt.elements;$ppe=$ppe.elements;var $ppi=$ppt[0]-$ppe[0];var $ppn=$ppt[1]-$ppe[1];var $ppr=$ppt[2]-$ppe[2];$ppt=$ppt[3]-$ppe[3];return $ppi*$ppi+$ppn*$ppn+$ppr*$ppr+$ppt*$ppt},$pppn.distance=function($ppt,$ppe){$ppt=$ppt.elements;$ppe=$ppe.elements;var $ppi=$ppt[0]-$ppe[0];var $ppn=$ppt[1]-$ppe[1];var $ppr=$ppt[2]-$ppe[2];$ppt=$ppt[3]-$ppe[3];return Math.sqrt($ppi*$ppi+$ppn*$ppn+$ppr*$ppr+$ppt*$ppt)},$pppn.dot=function($ppt,$ppe){$ppt=$ppt.elements;$ppe=$ppe.elements;return $ppt[0]*$ppe[0]+$ppt[1]*$ppe[1]+$ppt[2]*$ppe[2]+$ppt[3]*$ppe[3]},$pppn.min=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi[0]=Math.min($ppt[0],$ppe[0]),$ppi[1]=Math.min($ppt[1],$ppe[1]),$ppi[2]=Math.min($ppt[2],$ppe[2]),$ppi[3]=Math.min($ppt[3],$ppe[3])},$pppn.max=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi[0]=Math.max($ppt[0],$ppe[0]),$ppi[1]=Math.max($ppt[1],$ppe[1]),$ppi[2]=Math.max($ppt[2],$ppe[2]),$ppi[3]=Math.max($ppt[3],$ppe[3])},$ppl($pppn,["ZERO",function(){return this.ZERO=new $pppn},"ONE",function(){return this.ONE=new $pppn(1,1,1,1)},"UnitX",function(){return this.UnitX=new $pppn(1,0,0,0)},"UnitY",function(){return this.UnitY=new $pppn(0,1,0,0)},"UnitZ",function(){return this.UnitZ=new $pppn(0,0,1,0)},"UnitW",function(){return this.UnitW=new $pppn(0,0,0,1)}]);var $ppfn=$pppn;function $pppn($ppt,$ppe,$ppi,$ppn){this.elements=new Float32Array(4),void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0),void 0===$ppn&&($ppn=0);var $ppr=this.elements;$ppr[0]=$ppt=void 0===$ppt?0:$ppt,$ppr[1]=$ppe,$ppr[2]=$ppi,$ppr[3]=$ppn}$ppt($ppgn,"laya.d3.math.Viewport"),($ppa=$ppgn.prototype).project=function($ppt,$ppe,$ppi){$ppD.transformV3ToV3($ppt,$ppe,$ppi);$ppt=$ppt.elements;$ppe=$ppe.elements;$ppi=$ppi.elements;$ppt=$ppt[0]*$ppe[3]+$ppt[1]*$ppe[7]+$ppt[2]*$ppe[11]+$ppe[15];1!==$ppt&&($ppi[0]=$ppi[0]/$ppt,$ppi[1]=$ppi[1]/$ppt,$ppi[2]=$ppi[2]/$ppt),$ppi[0]=.5*($ppi[0]+1)*this.width+this.x,$ppi[1]=.5*(1-$ppi[1])*this.height+this.y,$ppi[2]=$ppi[2]*(this.maxDepth-this.minDepth)+this.minDepth},$ppa.unprojectFromMat=function($ppt,$ppe,$ppi){$ppt=$ppt.elements;var $ppn=$ppe.elements;var $ppr=$ppi.elements;$ppr[0]=($ppt[0]-this.x)/this.width*2-1,$ppr[1]=-(($ppt[1]-this.y)/this.height*2-1);var $pps=(this.maxDepth-this.minDepth)/2;$ppr[2]=($ppt[2]-this.minDepth-$pps)/$pps;$ppt=$ppr[0]*$ppn[3]+$ppr[1]*$ppn[7]+$ppr[2]*$ppn[11]+$ppn[15];$ppD.transformV3ToV3($ppi,$ppe,$ppi),1!==$ppt&&($ppr[0]=$ppr[0]/$ppt,$ppr[1]=$ppr[1]/$ppt,$ppr[2]=$ppr[2]/$ppt)},$ppa.unprojectFromWVP=function($ppt,$ppe,$ppi,$ppn,$ppr){$pptn.multiply($ppe,$ppi,$ppgn._tempMatrix4x4),$ppn&&$pptn.multiply($ppgn._tempMatrix4x4,$ppn,$ppgn._tempMatrix4x4),$ppgn._tempMatrix4x4.invert($ppgn._tempMatrix4x4),this.unprojectFromMat($ppt,$ppgn._tempMatrix4x4,$ppr)},$ppl($ppgn,["_tempMatrix4x4",function(){return this._tempMatrix4x4=new $pptn}]);var $ppmn=$ppgn;function $ppgn($ppt,$ppe,$ppi,$ppn){this.minDepth=0,this.maxDepth=1,this.x=$ppt,this.y=$ppe,this.width=$ppi,this.height=$ppn}$ppt($ppyn,"laya.d3.resource.models.SubMesh"),$ppa=$ppyn.prototype,$pph.imps($ppa,{"laya.d3.core.render.IRenderable":!0,"laya.resource.IDispose":!0}),$ppa._getVertexBuffer=function($ppt){return 0===($ppt=void 0===$ppt?0:$ppt)?this._vertexBuffer:null},$ppa._getIndexBuffer=function(){return this._indexBuffer},$ppa._getStaticBatchBakedVertexs=function($ppc,$ppu){var $ppt=this._vertexBuffer;var $ppe=$ppt.vertexDeclaration;var $pp_=$ppe.getVertexElementByUsage(0).offset/4;var $ppd=$ppe.getVertexElementByUsage(3).offset/4;var $ppi=$ppu.meshRender.lightmapScaleOffset;var $ppn,$ppf,$ppr=0,$ppp=0,$pps=0,$ppa=0;var $ppm=0,$ppo=0;if($ppi)if($ppf=$ppe.getVertexElementByUsage(15))$pps=$ppe.vertexStride/4,$ppn=0<this._vertexCount?$ppt.getData().slice(this._vertexStart*$pps,(this._vertexStart+this._vertexCount)*$pps):$ppt.getData().slice(),$ppa=$ppf.offset/4;else{$pps=($ppo=$ppe.vertexStride/4)+2,$ppn=this._vertexCount?new Float32Array(this._vertexCount*($ppt.vertexDeclaration.vertexStride/4+2)):new Float32Array($ppt.vertexCount*($ppt.vertexDeclaration.vertexStride/4+2)),$ppa=($ppm=$ppe.getVertexElementByUsage(2).offset/4)+2;var $ppg=$ppt.getData();for($ppr=0,$ppp=$ppg.length/$ppo;$ppr<$ppp;$ppr++){var $ppv=0;$ppv=0<this._vertexCount?(this._vertexStart+$ppr)*$ppo:$ppr*$ppo;var $ppy=$ppr*$pps;var $pph=0;for($pph=0;$pph<$ppa;$pph++)$ppn[$ppy+$pph]=$ppg[$ppv+$pph];for($pph=$ppa;$pph<$ppo;$pph++)$ppn[$ppy+$pph+2]=$ppg[$ppv+$pph]}}else $pps=$ppe.vertexStride/4,$ppn=this._vertexCount?$ppt.getData().slice(this._vertexStart*$pps,(this._vertexStart+this._vertexCount)*$pps):$ppt.getData().slice();var $ppx;$ppc?($ppc.worldMatrix.invert($ppe=$ppyn._tempMatrix4x40),$ppt=$ppu.transform.worldMatrix,$pptn.multiply($ppe,$ppt,$ppx=$ppyn._tempMatrix4x41)):$ppx=$ppu.transform.worldMatrix;var $ppw=$ppyn._tempQuaternion0;for($ppx.decomposeTransRotScale($ppyn._tempVector30,$ppw,$ppyn._tempVector31),$ppr=0,$ppp=$ppn.length/$pps;$ppr<$ppp;$ppr++){var $ppl=$ppr*$pps+$pp_;var $ppb=$ppr*$pps+$ppd;$ppOn.transformVector3ArrayToVector3ArrayCoordinate($ppn,$ppl,$ppx,$ppn,$ppl),$ppOn.transformVector3ArrayByQuat($ppn,$ppb,$ppw,$ppn,$ppb),$ppi&&($ppl=$ppr*$pps+$ppa,$ppf?$ppOn.transformLightingMapTexcoordByUV1Array($ppn,$ppl,$ppi,$ppn,$ppl):$ppOn.transformLightingMapTexcoordByUV0Array($ppg,$ppr*$ppo+$ppm,$ppi,$ppn,$ppl))}return $ppn},$ppa._getVertexBuffers=function(){return null},$ppa._beforeRender=function($ppt){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},$ppa._render=function($ppt){var $ppe;var $ppi=0;var $ppn=$ppt.renderElement;if(1<this._indexCount){var $ppr=this._boneIndicesList.length;if(1<$ppr){for(var $pps=0;$pps<$ppr;$pps++)($ppe=$ppn._skinAnimationDatas||this._skinAnimationDatas)&&($ppn._shaderValue.setValue(0,$ppe[$pps]),$ppt._shader.uploadRenderElementUniforms($ppn._shaderValue.data)),$ppF.mainContext.drawElements(4,this._subIndexBufferCount[$pps],5123,2*this._subIndexBufferStart[$pps]);$ppL.drawCall+=$ppr}else($ppe=$ppn._skinAnimationDatas||this._skinAnimationDatas)&&($ppn._shaderValue.setValue(0,$ppe[0]),$ppt._shader.uploadRenderElementUniforms($ppn._shaderValue.data)),$ppF.mainContext.drawElements(4,this._indexCount,5123,2*this._indexStart),$ppL.drawCall++;$ppi=this._indexCount}else $ppi=this._indexBuffer.indexCount,($ppe=$ppn._skinAnimationDatas||this._skinAnimationDatas)&&($ppn._shaderValue.setValue(0,$ppe[0]),$ppt._shader.uploadRenderElementUniforms($ppn._shaderValue.data)),$ppF.mainContext.drawElements(4,$ppi,5123,0),$ppL.drawCall++;$ppL.trianglesFaces+=$ppi/3},$ppa.getIndices=function(){return 0<this._indexCount?this._indices:this._indexBuffer.getData()},$ppa.dispose=function(){this._indexBuffer.destroy(),this._vertexBuffer.destroy(),this._mesh=null,this._boneIndicesList=null,this._subIndexBufferStart=null,this._subIndexBufferCount=null,this._skinAnimationDatas=null,this._bufferUsage=null,this._vertexBuffer=null,this._indexBuffer=null},$ppe(0,$ppa,"_vertexBufferCount",function(){return 1}),$ppe(0,$ppa,"triangleCount",function(){return this._indexBuffer.indexCount/3}),$ppl($ppyn,["_tempVector30",function(){return this._tempVector30=new $ppD},"_tempVector31",function(){return this._tempVector31=new $ppD},"_tempQuaternion0",function(){return this._tempQuaternion0=new $pprn},"_tempMatrix4x40",function(){return this._tempMatrix4x40=new $pptn},"_tempMatrix4x41",function(){return this._tempMatrix4x41=new $pptn}]);var $ppvn=$ppyn;function $ppyn($ppt){this._mesh=null,this._boneIndicesList=null,this._subIndexBufferStart=null,this._subIndexBufferCount=null,this._skinAnimationDatas=null,this._bufferUsage=null,this._indexInMesh=0,this._vertexBuffer=null,this._vertexStart=0,this._vertexCount=0,this._indexBuffer=null,this._indexStart=0,this._indexCount=0,this._indices=null,this._bufferUsage={},this._mesh=$ppt,this._boneIndicesList=[],this._subIndexBufferStart=[],this._subIndexBufferCount=[]}$ppt($ppwn,"laya.d3.shader.ShaderDefines",null,"ShaderDefines$1"),$ppwn.prototype.registerDefine=function($ppt){var $ppe=Math.pow(2,this.defineCounter++);return this.defines[$ppe]=$ppt,$ppe};var $ppxn=$ppwn;function $ppwn($ppt){this.defineCounter=0,this.defines=null,$ppt?(this.defineCounter=$ppt.defineCounter,this.defines=$ppt.defines.slice()):(this.defineCounter=0,this.defines=[])}$ppt($ppTn,"laya.d3.shader.ShaderInit3D"),$ppTn.__init__=function(){var $ppt,$ppe;$ppar._globalRegDefine("HIGHPRECISION",$ppar.SHADERDEFINE_HIGHPRECISION),$ppar._globalRegDefine("FOG",$ppar.SHADERDEFINE_FOG),$ppar._globalRegDefine("DIRECTIONLIGHT",$ppar.SHADERDEFINE_DIRECTIONLIGHT),$ppar._globalRegDefine("POINTLIGHT",$ppar.SHADERDEFINE_POINTLIGHT),$ppar._globalRegDefine("SPOTLIGHT",$ppar.SHADERDEFINE_SPOTLIGHT),$ppar._globalRegDefine("UV",$ppar.SHADERDEFINE_UV0),$ppar._globalRegDefine("COLOR",$ppar.SHADERDEFINE_COLOR),$ppar._globalRegDefine("UV1",$ppar.SHADERDEFINE_UV1),$ppar._globalRegDefine("CASTSHADOW",$ppMn.SHADERDEFINE_CAST_SHADOW),$ppar._globalRegDefine("SHADOWMAP_PSSM1",$ppMn.SHADERDEFINE_SHADOW_PSSM1),$ppar._globalRegDefine("SHADOWMAP_PSSM2",$ppMn.SHADERDEFINE_SHADOW_PSSM2),$ppar._globalRegDefine("SHADOWMAP_PSSM3",$ppMn.SHADERDEFINE_SHADOW_PSSM3),$ppar._globalRegDefine("SHADOWMAP_PCF_NO",$ppMn.SHADERDEFINE_SHADOW_PCF_NO),$ppar._globalRegDefine("SHADOWMAP_PCF1",$ppMn.SHADERDEFINE_SHADOW_PCF1),$ppar._globalRegDefine("SHADOWMAP_PCF2",$ppMn.SHADERDEFINE_SHADOW_PCF2),$ppar._globalRegDefine("SHADOWMAP_PCF3",$ppMn.SHADERDEFINE_SHADOW_PCF3),$ppar._globalRegDefine("DEPTHFOG",$ppar.SAHDERDEFINE_DEPTHFOG),$ppIr.addInclude("LightHelper.glsl","\nstruct DirectionLight\n{\n vec3 Direction;\n vec3 Diffuse;\n};\n\nstruct PointLight\n{\n vec3 Diffuse;\n vec3 Attenuation;\n vec3 Position;\n float Range;\n};\n\nstruct SpotLight\n{\n vec3 Diffuse;\n vec3 Attenuation;\n vec3 Position;\n vec3 Direction;\n float Spot;\n float Range;\n};\n\n\nvec3 NormalSampleToWorldSpace(vec3 normalMapSample, vec3 unitNormal, vec3 tangent)\n{\n\tvec3 normalT = 2.0*normalMapSample - 1.0;\n\n\t// Build orthonormal basis.\n\tvec3 N = normalize(unitNormal);\n\tvec3 T = normalize(tangent- dot(tangent, N)*N);\n\tvec3 B = cross(T, N);\n\n\tmat3 TBN = mat3(T, B, N);\n\n\t// Transform from tangent space to world space.\n\tvec3 bumpedNormal = TBN*normalT;\n\n\treturn bumpedNormal;\n}\n\n\nvoid  computeDirectionLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in DirectionLight dirLight,in vec3 ambinentColor,in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n\tdif=vec3(0.0);//不初始化在IOS中闪烁，PC中不会闪烁\n\tamb=vec3(0.0);\n\tspec=vec3(0.0);\n\tvec3 lightVec=-normalize(dirLight.Direction);\n\t\n\tamb=matAmb*ambinentColor;\n\t\n\tfloat  diffuseFactor=dot(lightVec, normal);\n\t\n\tif(diffuseFactor>0.0)\n\t{\n\t   vec3 v = reflect(-lightVec, normal);\n\t   float specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n\t   \n\t   dif = diffuseFactor * matDif * dirLight.Diffuse;\n\t   spec = specFactor * matSpe.rgb;\n\t}\n\t\n}\n\nvoid computePointLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in PointLight poiLight,in vec3 ambinentColor, in vec3 pos,in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n\tdif=vec3(0.0);\n\tamb=vec3(0.0);\n\tspec=vec3(0.0);\n\tvec3 lightVec = poiLight.Position - pos;\n\t\t\n\tfloat d = length(lightVec);\n\t\n\tif( d > poiLight.Range )\n\t\treturn;\n\t\t\n\tlightVec /= d; \n\t\n\tamb = matAmb*ambinentColor;\t\n\n\tfloat diffuseFactor = dot(lightVec, normal);\n\n\tif( diffuseFactor > 0.0 )\n\t{\n\t\tvec3 v= reflect(-lightVec, normal);\n\t\tfloat specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n\t\t\t\t\t\n\t\tdif = diffuseFactor * matDif * poiLight.Diffuse;\n\t\tspec = specFactor * matSpe.rgb;\n\t}\n\n\tfloat attenuate = 1.0 / dot(poiLight.Attenuation, vec3(1.0, d, d*d));\n\n\tdif *= attenuate;\n\tspec*= attenuate;\n}\n\nvoid ComputeSpotLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in SpotLight spoLight,in vec3 ambinentColor,in vec3 pos, in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n\tamb = vec3(0.0);\n\tdif =vec3(0.0);\n\tspec= vec3(0.0);\n\tvec3 lightVec = spoLight.Position - pos;\n\t\t\n\tfloat d = length(lightVec);\n\t\n\tif( d > spoLight.Range)\n\t\treturn;\n\t\t\n\tlightVec /= d; \n\t\n\tamb = matAmb*ambinentColor;\t\n\n\tfloat diffuseFactor = dot(lightVec, normal);\n\n\tif(diffuseFactor > 0.0)\n\t{\n\t\tvec3 v= reflect(-lightVec, normal);\n\t\tfloat specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n\t\t\t\t\t\n\t\tdif = diffuseFactor * matDif * spoLight.Diffuse;\n\t\tspec = specFactor * matSpe.rgb;\n\t}\n\t\n\tfloat spot = pow(max(dot(-lightVec, normalize(spoLight.Direction)), 0.0), spoLight.Spot);\n\n\tfloat attenuate = spot/dot(spoLight.Attenuation, vec3(1.0, d, d*d));\n\n\tamb *= spot;\n\tdif *= attenuate;\n\tspec*= attenuate;\n}\n\n"),$ppIr.addInclude("ShadowHelper.glsl","uniform sampler2D u_shadowMap1;\nuniform sampler2D u_shadowMap2;\nuniform sampler2D u_shadowMap3;\nuniform vec2\t  u_shadowPCFoffset;\nuniform vec4     u_shadowPSSMDistance;\nvec4 packDepth(const in float depth)\n{\n\tconst vec4 bitShift = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n\tconst vec4 bitMask\t= vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n\tvec4 res = mod(depth*bitShift*vec4(255), vec4(256))/vec4(255);\n\tres -= res.xxyz * bitMask;\n\treturn res;\n}\nfloat unpackDepth(const in vec4 rgbaDepth)\n{\n\tconst vec4 bitShift = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n\tfloat depth = dot(rgbaDepth, bitShift);\n\treturn depth;\n}\nfloat tex2DPCF( sampler2D shadowMap,vec2 texcoord,vec2 invsize,float zRef )\n{\n\tvec2 texelpos =texcoord / invsize;\n\tvec2 lerps = fract( texelpos );\n\tfloat sourcevals[4];\n\tsourcevals[0] = float( unpackDepth(texture2D(shadowMap,texcoord)) > zRef );\n\tsourcevals[1] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(invsize.x,0))) > zRef );\n\tsourcevals[2] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(0,invsize.y))) > zRef );\n\tsourcevals[3] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(invsize.x, invsize.y) )) > zRef );\n\treturn mix( mix(sourcevals[0],sourcevals[2],lerps.y),mix(sourcevals[1],sourcevals[3],lerps.y),lerps.x );\n}\nfloat getShadowPSSM3( sampler2D shadowMap1,sampler2D shadowMap2,sampler2D shadowMap3,mat4 lightShadowVP[4],vec4 pssmDistance,vec2 shadowPCFOffset,vec3 worldPos,float posViewZ,float zBias )\n{\n\tfloat value = 1.0;\n\tint nPSNum = int(posViewZ>pssmDistance.x);\n\tnPSNum += int(posViewZ>pssmDistance.y);\n\tnPSNum += int(posViewZ>pssmDistance.z);\n\t//真SB,webgl不支持在PS中直接访问数组\n\tmat4 lightVP;\n\tif( nPSNum == 0 )\n\t{\n\t\tlightVP = lightShadowVP[1];\n\t}\n\telse if( nPSNum == 1 )\n\t{\n\t\tlightVP = lightShadowVP[2];\n\t}\n\telse if( nPSNum == 2 )\n\t{\n\t\tlightVP = lightShadowVP[3];\n\t}\n\tvec4 vLightMVPPos = lightVP * vec4(worldPos,1.0);\n\t//为了效率，在CPU计算/2.0 + 0.5\n\t//vec3 vText = (vLightMVPPos.xyz / vLightMVPPos.w)/2.0 + 0.5;\n\tvec3 vText = vLightMVPPos.xyz / vLightMVPPos.w;\n\tfloat fMyZ = vText.z - zBias;\n\t/*\n\tbvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n\tbool bInFrustum = all( bInFrustumVec );\n\tbvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n\tbool bFrustumTest = all( bFrustumTestVec );\n\tif ( bFrustumTest ) \n\t*/\n\tif( fMyZ <= 1.0 )\n\t{\n\t\tfloat zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue = value/4.0;\n\t\t} \n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap3,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF2\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap3,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n\n#endif\n#ifdef SHADOWMAP_PCF1\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap2,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap3,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF_NO\n\t\tvec4 color;\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap1,vText.xy );\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap2,vText.xy );\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap3,vText.xy );\n\t\t}\n\t\tzdepth = unpackDepth(color);\n\t\tvalue = float(fMyZ < zdepth);\n#endif\n\t}\n\treturn value;\n}\nfloat getShadowPSSM2( sampler2D shadowMap1,sampler2D shadowMap2,mat4 lightShadowVP[4],vec4 pssmDistance,vec2 shadowPCFOffset,vec3 worldPos,float posViewZ,float zBias )\n{\n\tfloat value = 1.0;\n\tint nPSNum = int(posViewZ>pssmDistance.x);\n\tnPSNum += int(posViewZ>pssmDistance.y);\n\t//真SB,webgl不支持在PS中直接访问数组\n\tmat4 lightVP;\n\tif( nPSNum == 0 )\n\t{\n\t\tlightVP = lightShadowVP[1];\n\t}\n\telse if( nPSNum == 1 )\n\t{\n\t\tlightVP = lightShadowVP[2];\n\t}\n\tvec4 vLightMVPPos = lightVP * vec4(worldPos,1.0);\n\t//为了效率，在CPU计算/2.0 + 0.5\n\t//vec3 vText = (vLightMVPPos.xyz / vLightMVPPos.w)/2.0 + 0.5;\n\tvec3 vText = vLightMVPPos.xyz / vLightMVPPos.w;\n\tfloat fMyZ = vText.z - zBias;\n\t/*\n\tbvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n\tbool bInFrustum = all( bInFrustumVec );\n\tbvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n\tbool bFrustumTest = all( bFrustumTestVec );\n\tif ( bFrustumTest ) \n\t*/\n\tif( fMyZ <= 1.0 )\n\t{\n\t\tfloat zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue = value/4.0;\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF2\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF1\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap2,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF_NO\n\t\tvec4 color;\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap1,vText.xy );\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap2,vText.xy );\n\t\t}\n\t\tzdepth = unpackDepth(color);\n\t\tvalue = float(fMyZ < zdepth);\n#endif\n\t}\n\treturn value;\n}\nfloat getShadowPSSM1( sampler2D shadowMap1,vec4 lightMVPPos,vec4 pssmDistance,vec2 shadowPCFOffset,float posViewZ,float zBias )\n{\n\tfloat value = 1.0;\n\tif( posViewZ < pssmDistance.x )\n\t{\n\t\tvec3 vText = lightMVPPos.xyz / lightMVPPos.w;\n\t\tfloat fMyZ = vText.z - zBias;\n\t\t/*\n\t\tbvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n\t\tbool bInFrustum = all( bInFrustumVec );\n\t\tbvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n\t\tbool bFrustumTest = all( bFrustumTestVec );\n\t\t*/\n\t\tif ( fMyZ <= 1.0 ) \n\t\t{\n\t\t\tfloat zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n\t\t\tvalue =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,fMyZ );\n\t\t\tvalue = value/4.0;\n#endif\n#ifdef SHADOWMAP_PCF2\t\t\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n#endif\n#ifdef SHADOWMAP_PCF1\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n#endif\n#ifdef SHADOWMAP_PCF_NO\t\t\n\t\t\tvec4 color = texture2D( shadowMap1,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n#endif\n\t\t}\n\t}\n\treturn value;\n}"),$ppt={a_Position:0,a_Color:1,a_Normal:3,a_Texcoord0:2,a_Texcoord1:15,a_TexcoordNext0:14,a_BoneWeights:7,a_BoneIndices:6,a_Tangent0:5},$ppe={u_Bones:[0,0],u_DiffuseTexture:[1,1],u_SpecularTexture:[3,1],u_NormalTexture:[2,1],u_AmbientTexture:[5,1],u_ReflectTexture:[6,1],u_AlphaTestValue:[0,1],u_Albedo:[7,1],u_UVMatrix:[13,1],u_UVAge:[14,1],u_UVAniAge:[8,1],u_MaterialDiffuse:[10,1],u_MaterialAmbient:[9,1],u_MaterialSpecular:[11,1],u_MaterialReflect:[12,1],u_TilingOffset:[15,1],u_WorldMat:[0,2],u_MvpMatrix:[1,2],u_LightmapScaleOffset:[2,2],u_LightMap:[3,2],u_CameraPos:[0,3],u_FogStart:[1,4],u_FogRange:[2,4],u_FogColor:[0,4],"u_DirectionLight.Direction":[3,4],"u_DirectionLight.Diffuse":[4,4],"u_PointLight.Position":[5,4],"u_PointLight.Range":[6,4],"u_PointLight.Attenuation":[7,4],"u_PointLight.Diffuse":[8,4],"u_SpotLight.Position":[9,4],"u_SpotLight.Direction":[10,4],"u_SpotLight.Range":[12,4],"u_SpotLight.Spot":[11,4],"u_SpotLight.Attenuation":[13,4],"u_SpotLight.Diffuse":[14,4],u_AmbientColor:[21,4],u_shadowMap1:[18,4],u_shadowMap2:[19,4],u_shadowMap3:[20,4],u_shadowPSSMDistance:[15,4],u_lightShadowVP:[16,4],u_shadowPCFoffset:[17,4]};var $ppi=$ppIr.nameKey.add("SIMPLE");shaderCompile=$ppar.add($ppi,"attribute vec4 a_Position;\nuniform mat4 u_MvpMatrix;\n\n\n\n#if defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(COLOR)&&defined(SPECULARMAP)||defined(NORMALMAP)))||(defined(LIGHTMAP)&&defined(UV))\nattribute vec2 a_Texcoord0;\nvarying vec2 v_Texcoord0;\n  #ifdef UVTRANSFORM \n  uniform mat4 u_UVMatrix;\n  #endif\n#endif\n\n#if defined(AMBIENTMAP)||(defined(LIGHTMAP)&&defined(UV1))\nattribute vec2 a_Texcoord1;\n#endif\n\n#if defined(AMBIENTMAP)||defined(LIGHTMAP)\nuniform vec4 u_LightmapScaleOffset;\nvarying vec2 v_LightMapUV;\n#endif\n\n\n#ifdef COLOR\nattribute vec4 a_Color;\nvarying vec4 v_Color;\n#endif\n\n#ifdef BONE\nattribute vec4 a_BoneIndices;\nattribute vec4 a_BoneWeights;\nconst int c_MaxBoneCount = 24;\nuniform mat4 u_Bones[c_MaxBoneCount];\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\nattribute vec3 a_Normal;\nvarying vec3 v_Normal;\n#endif\n\n#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP))&&defined(NORMALMAP)\nattribute vec3 a_Tangent0;\nvarying vec3 v_Tangent0;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)||defined(RECEIVESHADOW)\nuniform mat4 u_WorldMat;\nvarying vec3 v_PositionWorld;\n#endif\n\nvarying float v_posViewZ;\n#ifdef RECEIVESHADOW\n  #ifdef SHADOWMAP_PSSM1 \n  varying vec4 v_lightMVPPos;\n  uniform mat4 u_lightShadowVP[4];\n  #endif\n#endif\n\n#ifdef TILINGOFFSET\n\tuniform vec4 u_TilingOffset;\n#endif\n\nvoid main_castShadow()\n{\n#ifdef BONE\n\tmat4 skinTransform=mat4(0.0);\n\tskinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n\tskinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n\tskinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n\tskinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n\tvec4 position=skinTransform*a_Position;\n\tgl_Position = u_MvpMatrix * position;\n#else\n\tgl_Position = u_MvpMatrix * a_Position;\n#endif\n \n//TODO没考虑UV动画呢\n#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n\tv_Texcoord0=a_Texcoord0;\n#endif\n\tv_posViewZ = gl_Position.z;\n}\n\nvoid main_normal()\n{\n#ifdef BONE\n\tmat4 skinTransform=mat4(0.0);\n\tskinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n\tskinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n\tskinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n\tskinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n\tvec4 position=skinTransform*a_Position;\n\tgl_Position = u_MvpMatrix * position;\n#else\n\tgl_Position = u_MvpMatrix * a_Position;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n\tmat3 worldMat;\n\t#ifdef BONE\n\t\tworldMat=mat3(u_WorldMat*skinTransform);\n\t#else\n\t\tworldMat=mat3(u_WorldMat);\n\t#endif  \n\tv_Normal=worldMat*a_Normal;\n\t#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\n\t\tv_Tangent0=worldMat*a_Tangent0;\n\t#endif\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)||defined(RECEIVESHADOW)\n\t#ifdef BONE\n\t\tv_PositionWorld=(u_WorldMat*position).xyz;\n\t#else\n\t\tv_PositionWorld=(u_WorldMat*a_Position).xyz;\n\t#endif\n#endif\n\n#if defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(COLOR)&&defined(SPECULARMAP)||defined(NORMALMAP)))\n\tv_Texcoord0=a_Texcoord0;\n\t#ifdef TILINGOFFSET\n\t\tv_Texcoord0=(vec2(v_Texcoord0.x,v_Texcoord0.y-1.0)*u_TilingOffset.xy)+u_TilingOffset.zw;\n\t\tv_Texcoord0=vec2(v_Texcoord0.x,v_Texcoord0.y+1.0);\n\t#endif\n\t#ifdef UVTRANSFORM\n\t\tv_Texcoord0=(u_UVMatrix*vec4(v_Texcoord0,0.0,1.0)).xy;\n\t#endif\n#endif\n\n#if defined(AMBIENTMAP)||defined(LIGHTMAP)\n\t#ifdef SCALEOFFSETLIGHTINGMAPUV\n\t\t#ifdef UV1\n\t\t\tv_LightMapUV=vec2(a_Texcoord1.x*u_LightmapScaleOffset.x+u_LightmapScaleOffset.z,1.0+a_Texcoord1.y*u_LightmapScaleOffset.y+u_LightmapScaleOffset.w);\n\t\t#else\n\t\t\tv_LightMapUV=vec2(a_Texcoord0.x,a_Texcoord0.y-1.0)*u_LightmapScaleOffset.xy+u_LightmapScaleOffset.zw;\n\t\t#endif \n\t#else\n\t\t#ifdef UV1\n\t\t\tv_LightMapUV=a_Texcoord1;\n\t\t#else\n\t\t\tv_LightMapUV=a_Texcoord0;\n\t\t#endif \n\t#endif \n#endif\n\n#ifdef COLOR\n\tv_Color=a_Color;\n#endif\n\n#ifdef RECEIVESHADOW\n\tv_posViewZ = gl_Position.w;\n\t#ifdef SHADOWMAP_PSSM1 \n\t\tv_lightMVPPos = u_lightShadowVP[0] * vec4(v_PositionWorld,1.0);\n\t#endif\n#endif\n}\n\nvoid main()\n{\n#ifdef CASTSHADOW\n\tmain_castShadow();\n#else\n\tmain_normal();\n#endif\n}",'#ifdef HIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\n#include "LightHelper.glsl";\n\nuniform vec4 u_Albedo;\n\n#ifdef ALPHATEST\nuniform float u_AlphaTestValue;\n#endif\n\n#ifdef DIFFUSEMAP\nuniform sampler2D u_DiffuseTexture;\n#endif\n\n#ifdef REFLECTMAP\nuniform samplerCube u_ReflectTexture;\nuniform vec3 u_MaterialReflect;\n#endif\n\n#if   defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(COLOR)&&defined(SPECULARMAP)||defined(NORMALMAP)))\nvarying vec2 v_Texcoord0;\n#endif\n\n#if defined(AMBIENTMAP)||defined(LIGHTMAP)\nvarying vec2 v_LightMapUV;\n#endif\n#ifdef AMBIENTMAP\nuniform sampler2D u_AmbientTexture;\n#endif\n#ifdef LIGHTMAP\nuniform sampler2D u_LightMap;\n#endif\n\n#ifdef COLOR\nvarying vec4 v_Color;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\nuniform vec3 u_MaterialDiffuse;\nuniform vec4 u_MaterialSpecular;\n  #if (defined(DIFFUSEMAP)||defined(COLOR))&&defined(SPECULARMAP) \n  uniform sampler2D u_SpecularTexture;\n  #endif\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(AMBIENTMAP)||defined(LIGHTMAP)\nuniform vec3 u_MaterialAmbient;\n#endif\n\n#if defined(FOG)||defined(DEPTHFOG)\n\tuniform float u_FogStart;\n\tuniform float u_FogRange;\n\t#ifdef ADDTIVEFOG\n\t#else\n\t\tuniform vec3 u_FogColor;\n\t#endif\n#endif\n\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\nvarying vec3 v_Normal;\n#endif\n\n#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\nuniform sampler2D u_NormalTexture;\nvarying vec3 v_Tangent0;\n#endif\n\n#ifdef DIRECTIONLIGHT\nuniform DirectionLight u_DirectionLight;\n#endif\n\n#ifdef POINTLIGHT\nuniform PointLight u_PointLight;\n#endif\n\n#ifdef SPOTLIGHT\nuniform SpotLight u_SpotLight;\n#endif\n\nuniform vec3 u_AmbientColor;\n\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)||(defined(RECEIVESHADOW)&&(defined(SHADOWMAP_PSM2)||defined(SHADOWMAP_PSM3)))\nuniform vec3 u_CameraPos;\n#endif\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)\nvarying vec3 v_PositionWorld;\n#endif\n\n#include "ShadowHelper.glsl"\n#ifdef RECEIVESHADOW\n\t#if defined(SHADOWMAP_PSSM2)||defined(SHADOWMAP_PSSM3)\n\tuniform mat4 u_lightShadowVP[4];\n\t#endif\n\t#ifdef SHADOWMAP_PSSM1 \n\tvarying vec4 v_lightMVPPos;\n\t#endif\n#endif\nvarying float v_posViewZ;\n\n\n\nvoid main_castShadow()\n{\n\t//gl_FragColor=vec4(v_posViewZ,0.0,0.0,1.0);\n\tgl_FragColor=packDepth(v_posViewZ);\n\t#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n\t\tfloat alpha = texture2D(u_DiffuseTexture,v_Texcoord0).w;\n\t\tif( alpha < u_AlphaTestValue )\n\t\t{\n\t\t\tdiscard;\n\t\t}\n\t#endif\n}\nvoid main_normal()\n{\n#if defined(DIFFUSEMAP)&&!defined(COLOR)\n\tgl_FragColor=texture2D(u_DiffuseTexture, v_Texcoord0);\n#endif \n  \n#if defined(COLOR)&&!defined(DIFFUSEMAP)\n\tgl_FragColor=v_Color;\n#endif \n  \n#if defined(DIFFUSEMAP)&&defined(COLOR)\n\tvec4 texColor=texture2D(u_DiffuseTexture, v_Texcoord0);\n\tgl_FragColor=texColor*v_Color;\n#endif\n  \n#if !defined(DIFFUSEMAP)&&!defined(COLOR)\n\tgl_FragColor=vec4(1.0,1.0,1.0,1.0);\n#endif \n    \n#ifdef ALPHATEST\n\tif(gl_FragColor.a-u_AlphaTestValue<0.0)\n\t\tdiscard;\n#endif\n  \n  \n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n\tvec3 normal;\n    #if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\n\t\tvec3 normalMapSample = texture2D(u_NormalTexture, v_Texcoord0).rgb;\n\t\tnormal = normalize(NormalSampleToWorldSpace(normalMapSample, v_Normal, v_Tangent0));\n\t#else\n\t\tnormal = normalize(v_Normal);\n    #endif\n#endif\n\t\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\tvec3 diffuse = vec3(0.0);\n\tvec3 ambient = vec3(0.0);\n\tvec3 specular= vec3(0.0);\n\tvec3 dif, amb, spe;\n#endif\n  \n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(REFLECTMAP)\n\tvec3 toEye;\n\t#ifdef FOG\n\t\ttoEye=u_CameraPos-v_PositionWorld;\n\t\tfloat toEyeLength=length(toEye);\n\t\ttoEye/=toEyeLength;\n\t#else\n\t\ttoEye=normalize(u_CameraPos-v_PositionWorld);\n\t#endif\n#endif\n\t\n#ifdef DIRECTIONLIGHT\n\tcomputeDirectionLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_DirectionLight,u_AmbientColor,normal,toEye, dif, amb, spe);\n\tdiffuse+=dif;\n\tambient+=amb;\n\tspecular+=spe;\n#endif\n \n#ifdef POINTLIGHT\n\tcomputePointLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_PointLight,u_AmbientColor,v_PositionWorld,normal,toEye, dif, amb, spe);\n\tdiffuse+=dif;\n\tambient+=amb;\n\tspecular+=spe;\n#endif\n\n#ifdef SPOTLIGHT\n\tComputeSpotLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_SpotLight,u_AmbientColor,v_PositionWorld,normal,toEye, dif, amb, spe);\n\tdiffuse+=dif;\n\tambient+=amb;\n\tspecular+=spe;\n#endif\n\n#ifdef RECEIVESHADOW\n\tfloat shadowValue = 1.0;\n\t#ifdef SHADOWMAP_PSSM3\n\t\tshadowValue = getShadowPSSM3( u_shadowMap1,u_shadowMap2,u_shadowMap3,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n\t#endif\n\t#ifdef SHADOWMAP_PSSM2\n\t\tshadowValue = getShadowPSSM2( u_shadowMap1,u_shadowMap2,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n\t#endif \n\t#ifdef SHADOWMAP_PSSM1\n\t\tshadowValue = getShadowPSSM1( u_shadowMap1,v_lightMVPPos,u_shadowPSSMDistance,u_shadowPCFoffset,v_posViewZ,0.001);\n\t#endif\n#endif\n\n#ifdef AMBIENTMAP\n\t#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_AmbientTexture, v_LightMapUV).rgb); \n\t#else\n\t\t#if defined(RECEIVESHADOW)\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_AmbientTexture, v_LightMapUV).rgb * shadowValue);\n\t\t#else\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_AmbientTexture, v_LightMapUV).rgb); \n\t\t#endif\n\t#endif\n#endif\n\n#ifdef LIGHTMAP\n\t#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb); \n\t#else\n\t\t#if defined(RECEIVESHADOW)\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb * shadowValue);\n\t\t#else\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb); \n\t\t#endif\n\t#endif\n#endif\n\ngl_FragColor=gl_FragColor*u_Albedo;\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\t#if (defined(DIFFUSEMAP)||defined(COLOR))&&defined(SPECULARMAP)\n\t\tspecular =specular*texture2D(u_SpecularTexture, v_Texcoord0).rgb;\n    #endif\n\t#ifdef RECEIVESHADOW\n\t\tgl_FragColor =vec4( gl_FragColor.rgb*(ambient + diffuse*shadowValue) + specular*shadowValue,gl_FragColor.a);\n\t#else\n\t\tgl_FragColor =vec4( gl_FragColor.rgb*(ambient + diffuse) + specular,gl_FragColor.a);\n\t#endif\n#endif\n  \n#ifdef REFLECTMAP\n\tvec3 incident = -toEye;\n\tvec3 reflectionVector = reflect(incident,normal);\n\tvec3 reflectionColor  = textureCube(u_ReflectTexture,reflectionVector).rgb;\n\tgl_FragColor.rgb += u_MaterialReflect*reflectionColor;\n#endif\n  \n#ifdef FOG\n\tfloat lerpFact=clamp((toEyeLength-u_FogStart)/u_FogRange,0.0,1.0);\n\t#ifdef ADDTIVEFOG\n\t\tgl_FragColor.rgb=mix(gl_FragColor.rgb,vec3(0.0,0.0,0.0),lerpFact);\n\t#else\n\t\tgl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor,lerpFact);\n\t#endif\n#endif\n#ifdef DEPTHFOG\n\tfloat lerpFact = (-v_PositionWorld.y-u_FogStart)/u_FogRange;\n\tgl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor,lerpFact);\n#endif\n}\n\nvoid main()\n{\n#ifdef CASTSHADOW\t\t\n\tmain_castShadow();\n#else\n  main_normal();\n#endif  \n}\n\n',$ppt,$ppe),$ppPr.SHADERDEFINE_DIFFUSEMAP=shaderCompile.registerMaterialDefine("DIFFUSEMAP"),$ppPr.SHADERDEFINE_NORMALMAP=shaderCompile.registerMaterialDefine("NORMALMAP"),$ppPr.SHADERDEFINE_SPECULARMAP=shaderCompile.registerMaterialDefine("SPECULARMAP"),$ppPr.SHADERDEFINE_EMISSIVEMAP=shaderCompile.registerMaterialDefine("EMISSIVEMAP"),$ppPr.SHADERDEFINE_AMBIENTMAP=shaderCompile.registerMaterialDefine("AMBIENTMAP"),$ppPr.SHADERDEFINE_REFLECTMAP=shaderCompile.registerMaterialDefine("REFLECTMAP"),$ppPr.SHADERDEFINE_UVTRANSFORM=shaderCompile.registerMaterialDefine("UVTRANSFORM"),$ppPr.SHADERDEFINE_TILINGOFFSET=shaderCompile.registerMaterialDefine("TILINGOFFSET"),$ppPr.SHADERDEFINE_ADDTIVEFOG=shaderCompile.registerMaterialDefine("ADDTIVEFOG")};var $ppbn=$ppTn;function $ppTn(){}$ppt($ppCn,"laya.d3.shader.ValusArray"),($ppa=$ppCn.prototype).setValue=function($ppt,$ppe){this._data[$ppt]=$ppe},$ppe(0,$ppa,"data",function(){return this._data});var $ppSn=$ppCn;function $ppCn(){this._data=null,this._data=[]}$ppEn.SHADERDEFINE_RECEIVE_SHADOW=1,$ppEn.SHADERDEFINE_CAST_SHADOW=512,$ppEn.SHADERDEFINE_SHADOW_PSSM1=1024,$ppEn.SHADERDEFINE_SHADOW_PSSM2=2048,$ppEn.SHADERDEFINE_SHADOW_PSSM3=4096,$ppEn.SHADERDEFINE_SHADOW_PCF_NO=8192,$ppEn.SHADERDEFINE_SHADOW_PCF1=16384,$ppEn.SHADERDEFINE_SHADOW_PCF2=32768,$ppEn.SHADERDEFINE_SHADOW_PCF3=65536,$ppEn.MAX_PSSM_COUNT=3;var $ppMn=$ppEn;function $ppEn(){}$ppt($ppAn,"laya.d3.terrain.unit.ChunkInfo");function $ppAn(){this.alphaMap=null,this.detailID=null,this.normalMap=null}$ppt($ppDn,"laya.d3.terrain.unit.DetailTextureInfo");function $ppDn(){this.diffuseTexture=null,this.normalTexture=null,this.scale=null,this.offset=null}$ppt($ppIn,"laya.d3.terrain.unit.MaterialInfo");function $ppIn(){this.ambientColor=null,this.diffuseColor=null,this.specularColor=null}$ppt($ppPn,"laya.d3.utils.Picker"),$ppPn.calculateCursorRay=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){var $ppa=$ppt.elements[0];$ppt=$ppt.elements[1];var $ppo=$ppPn._tempVector30;var $pph=$ppo.elements;$pph[0]=$ppa,$pph[1]=$ppt,$pph[2]=$ppe.minDepth;$pph=$ppPn._tempVector31;var $ppl=$pph.elements;$ppl[0]=$ppa,$ppl[1]=$ppt,$ppl[2]=$ppe.maxDepth;$ppa=$pps.origin;$ppt=$ppPn._tempVector32;$ppe.unprojectFromWVP($ppo,$ppi,$ppn,$ppr,$ppa),$ppe.unprojectFromWVP($pph,$ppi,$ppn,$ppr,$ppt);$ppl=$pps.direction.elements;$ppl[0]=$ppt.x-$ppa.x,$ppl[1]=$ppt.y-$ppa.y,$ppl[2]=$ppt.z-$ppa.z,$ppD.normalize($pps.direction,$pps.direction)},$ppPn.rayIntersectsPositionsAndIndices=function($ppc,$ppt,$ppe,$ppu,$ppi){var $pp_=$ppe.vertexStride/4;var $ppn=$ppe.getVertexElementByUsage(0).offset/4;var $ppd=Number.MAX_VALUE;var $ppf=-1;var $ppp=-1;var $ppm=-1;for(var $ppg=0;$ppg<$ppu.length;$ppg+=3){var $ppv=$ppPn._tempVector35;var $ppy=$ppv.elements;var $ppx=$ppu[$ppg]*$pp_;var $ppr=$ppx+$ppn;$ppy[0]=$ppt[$ppr],$ppy[1]=$ppt[1+$ppr],$ppy[2]=$ppt[2+$ppr];$ppy=$ppPn._tempVector36;$ppr=$ppy.elements;var $ppw=$ppu[$ppg+1]*$pp_;var $pps=$ppw+$ppn;$ppr[0]=$ppt[$pps],$ppr[1]=$ppt[1+$pps],$ppr[2]=$ppt[2+$pps];$ppr=$ppPn._tempVector37;$pps=$ppr.elements;var $ppb=$ppu[$ppg+2]*$pp_;var $ppT=$ppb+$ppn;$pps[0]=$ppt[$ppT],$pps[1]=$ppt[1+$ppT],$pps[2]=$ppt[2+$ppT];$pps=laya.d3.utils.Picker.rayIntersectsTriangle($ppc,$ppv,$ppy,$ppr);!isNaN($pps)&&$pps<$ppd&&($ppd=$pps,$ppf=$ppx,$ppp=$ppw,$ppm=$ppb)}var $ppa,$ppo,$pph,$ppl;return $ppd!==Number.MAX_VALUE?($ppi.distance=$ppd,$ppD.scale($ppc.direction,$ppd,$ppi.position),$ppD.add($ppc.origin,$ppi.position,$ppi.position),$ppa=($pph=$ppi.trianglePositions)[0],$ppl=$pph[1],$pph=$pph[2],$ppa=$ppa.elements,$ppl=$ppl.elements,$pph=$pph.elements,$ppa[0]=$ppt[$ppo=$ppf+$ppn],$ppa[1]=$ppt[$ppo+1],$ppa[2]=$ppt[$ppo+2],$ppl[0]=$ppt[$ppa=$ppp+$ppn],$ppl[1]=$ppt[$ppa+1],$ppl[2]=$ppt[$ppa+2],$pph[0]=$ppt[$ppo=$ppm+$ppn],$pph[1]=$ppt[$ppo+1],$pph[2]=$ppt[$ppo+2],($ppl=$ppe.getVertexElementByUsage(3))&&($ppa=$ppl.offset/4,$ppo=($pph=$ppi.triangleNormals)[0],$ppe=$pph[1],$ppl=$pph[2],$pph=$ppo.elements,$ppo=$ppe.elements,$ppe=$ppl.elements,$pph[0]=$ppt[$ppl=$ppf+$ppa],$pph[1]=$ppt[$ppl+1],$pph[2]=$ppt[$ppl+2],$ppo[0]=$ppt[$pph=$ppp+$ppa],$ppo[1]=$ppt[$pph+1],$ppo[2]=$ppt[$pph+2],$ppe[0]=$ppt[$ppl=$ppm+$ppa],$ppe[1]=$ppt[$ppl+1],$ppe[2]=$ppt[$ppl+2]),!0):($ppi.position.toDefault(),$ppi.distance=Number.MAX_VALUE,$ppi.trianglePositions[0].toDefault(),$ppi.trianglePositions[1].toDefault(),$ppi.trianglePositions[2].toDefault(),$ppi.triangleNormals[0].toDefault(),$ppi.triangleNormals[1].toDefault(),$ppi.triangleNormals[2].toDefault(),!1)},$ppPn.rayIntersectsTriangle=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppPn._tempVector30,$pps=$ppPn._tempVector31;$ppD.subtract($ppi,$ppe,$ppr),$ppD.subtract($ppn,$ppe,$pps);$ppi=$ppPn._tempVector32;if($ppD.cross($ppt.direction,$pps,$ppi),($ppn=$ppD.dot($ppr,$ppi))>-Number.MIN_VALUE&&$ppn<Number.MIN_VALUE)return Number.NaN;$ppn=1/$ppn;var $ppa=$ppPn._tempVector33;if($ppD.subtract($ppt.origin,$ppe,$ppa),$ppe=$ppD.dot($ppa,$ppi),($ppe*=$ppn)<0||1<$ppe)return Number.NaN;$ppi=$ppPn._tempVector34;return $ppD.cross($ppa,$ppr,$ppi),$ppa=$ppD.dot($ppt.direction,$ppi),($ppa*=$ppn)<0||1<$ppe+$ppa?Number.NaN:($ppr=$ppD.dot($pps,$ppi),($ppr*=$ppn)<0?Number.NaN:$ppr)},$ppl($ppPn,["_tempVector30",function(){return this._tempVector30=new $ppD},"_tempVector31",function(){return this._tempVector31=new $ppD},"_tempVector32",function(){return this._tempVector32=new $ppD},"_tempVector33",function(){return this._tempVector33=new $ppD},"_tempVector34",function(){return this._tempVector34=new $ppD},"_tempVector35",function(){return this._tempVector35=new $ppD},"_tempVector36",function(){return this._tempVector36=new $ppD},"_tempVector37",function(){return this._tempVector37=new $ppD}]);var $ppRn=$ppPn;function $ppPn(){}$ppt($ppLn,"laya.d3.utils.RaycastHit"),$ppLn.prototype.cloneTo=function($ppt){$ppt.distance=this.distance,this.trianglePositions[0].cloneTo($ppt.trianglePositions[0]),this.trianglePositions[1].cloneTo($ppt.trianglePositions[1]),this.trianglePositions[2].cloneTo($ppt.trianglePositions[2]),this.triangleNormals[0].cloneTo($ppt.triangleNormals[0]),this.triangleNormals[1].cloneTo($ppt.triangleNormals[1]),this.triangleNormals[2].cloneTo($ppt.triangleNormals[2]),this.position.cloneTo($ppt.position),$ppt.sprite3D=this.sprite3D};function $ppLn(){this.distance=NaN,this.trianglePositions=null,this.triangleNormals=null,this.position=null,this.sprite3D=null,this.distance=-1,this.trianglePositions=[new $ppD,new $ppD,new $ppD],this.trianglePositions.length=3,this.triangleNormals=[new $ppD,new $ppD,new $ppD],this.triangleNormals.length=3,this.position=new $ppD}$ppt($ppNn,"laya.d3.utils.Size"),$ppe(0,$ppa=$ppNn.prototype,"width",function(){return-1===this._width?$ppIt.clientWidth:this._width}),$ppe(0,$ppa,"height",function(){return-1===this._height?$ppIt.clientHeight:this._height}),$ppe(1,$ppNn,"fullScreen",function(){return new $ppNn(-1,-1)});var $ppBn=$ppNn;function $ppNn($ppt,$ppe){this._width=0,this._height=0,this._width=$ppt,this._height=$ppe}$ppt($ppFn,"laya.d3.utils.Utils3D"),$ppFn._rotationTransformScaleSkinAnimation=function($ppc,$ppu,$pp_,$ppd,$ppt,$ppe,$ppf,$ppp,$ppm,$ppg,$ppv,$ppy){var $ppi=$ppFn._tempArray16_0;var $ppn=$ppFn._tempArray16_1;var $ppr=$ppFn._tempArray16_2;var $ppx=$ppd+$ppd;var $ppw=$ppt+$ppt;var $ppb=$ppe+$ppe;$ppd*=$ppx;var $ppT=$ppt*$ppx;$ppt*=$ppw;var $ppS=$ppe*$ppx;var $ppC=$ppe*$ppw;$ppe*=$ppb;$ppx*=$ppf;$ppw*=$ppf;$ppf*=$ppb;var $pps,$ppa,$ppo,$pph,$ppl;for($ppi[15]=1,$ppi[0]=1-$ppt-$ppe,$ppi[1]=$ppT+$ppf,$ppi[2]=$ppS-$ppw,$ppi[4]=$ppT-$ppf,$ppi[5]=1-$ppd-$ppe,$ppi[6]=$ppC+$ppx,$ppi[8]=$ppS+$ppw,$ppi[9]=$ppC-$ppx,$ppi[10]=1-$ppd-$ppt,$ppn[15]=1,$ppn[0]=$ppp,$ppn[5]=$ppm,$ppn[10]=$ppg,$pps=0;$pps<4;$pps++)$ppa=$ppi[$pps],$ppo=$ppi[$pps+4],$pph=$ppi[$pps+8],$ppl=$ppi[$pps+12],$ppr[$pps]=$ppa,$ppr[$pps+4]=$ppo,$ppr[$pps+8]=$pph,$ppr[$pps+12]=$ppa*$ppc+$ppo*$ppu+$pph*$pp_+$ppl;for($pps=0;$pps<4;$pps++)$ppa=$ppr[$pps],$ppo=$ppr[$pps+4],$pph=$ppr[$pps+8],$ppl=$ppr[$pps+12],$ppv[$pps+$ppy]=$ppa*$ppn[0]+$ppo*$ppn[1]+$pph*$ppn[2]+$ppl*$ppn[3],$ppv[$pps+$ppy+4]=$ppa*$ppn[4]+$ppo*$ppn[5]+$pph*$ppn[6]+$ppl*$ppn[7],$ppv[$pps+$ppy+8]=$ppa*$ppn[8]+$ppo*$ppn[9]+$pph*$ppn[10]+$ppl*$ppn[11],$ppv[$pps+$ppy+12]=$ppa*$ppn[12]+$ppo*$ppn[13]+$pph*$ppn[14]+$ppl*$ppn[15]},$ppFn._createNodeByJson=function($ppt,$ppe,$ppi,$ppn){if(!$ppi)switch($ppe.type){case"Sprite3D":$ppi=new $ppAr;break;case"MeshSprite3D":$ppi=new $ppos;break;case"SkinnedMeshSprite3D":$ppi=new SkinnedMeshSprite3D;break;case"ShuriKenParticle3D":case"MyShuriKenParticle3D":$ppi=new ShuriKenParticle3D;break;case"TrailSprite3D":$ppi=new TrailSprite3D;break;case"Terrain":$ppi=new Terrain;break;case"Camera":$ppi=new $ppss;break;case"DirectionLight":$ppi=new DirectionLight;break;default:throw new Error("Utils3D:unidentified class type in (.lh) file.")}var $ppr=$ppe.props;if($ppr)for(var $pps in $ppr)$ppi[$pps]=$ppr[$pps];var $ppa=$ppe.customProps;$ppa&&($ppi instanceof laya.d3.core.Sprite3D?($ppi._parseBaseCustomProps($ppa),$ppi._parseCustomProps($ppt,$ppn,$ppa,$ppe),$ppi._parseCustomComponent($ppt,$ppn,$ppe.components)):$ppi._parseCustomProps($ppt,$ppn,$ppa,$ppe));var $ppo=$ppe.child;if($ppo)for(var $pph=0,$ppl=$ppo.length;$pph<$ppl;$pph++){var $ppc=$ppFn._createNodeByJson($ppt,$ppo[$pph],null,$ppn);$ppi.addChild($ppc)}return $ppi},$ppFn._computeBoneAndAnimationDatasByBindPoseMatrxix=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){var $ppa=0;var $ppo=0;var $pph;var $ppl;var $ppc=$ppt.length;for($pph=0;$pph<$ppc;$ppa+=$ppt[$pph].keyframeWidth,$ppo+=16,$pph++)laya.d3.utils.Utils3D._rotationTransformScaleSkinAnimation($ppe[$ppa+0],$ppe[$ppa+1],$ppe[$ppa+2],$ppe[$ppa+3],$ppe[$ppa+4],$ppe[$ppa+5],$ppe[$ppa+6],$ppe[$ppa+7],$ppe[$ppa+8],$ppe[$ppa+9],$ppn,$ppo),0!=$pph&&($ppl=16*$ppt[$pph].parentIndex,laya.d3.utils.Utils3D.mulMatrixByArray($ppn,$ppl,$ppn,$ppo,$ppn,$ppo));var $ppu=$ppi.length;for($pph=0;$pph<$ppu;$pph++)laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast($ppn,16*$pps[$pph],$ppi[$pph],$ppr,16*$pph)},$ppFn._computeAnimationDatasByArrayAndMatrixFast=function($ppt,$ppe,$ppi,$ppn){for(var $ppr=0,$pps=$ppt.length;$ppr<$pps;$ppr++)laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast($ppe,16*$ppn[$ppr],$ppt[$ppr],$ppi,16*$ppr)},$ppFn._computeBoneAndAnimationDatasByBindPoseMatrxixOld=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=0;var $ppa=0;var $ppo;var $pph;var $ppc=$ppt.length;for($ppo=0;$ppo<$ppc;$pps+=$ppt[$ppo].keyframeWidth,$ppa+=16,$ppo++)laya.d3.utils.Utils3D._rotationTransformScaleSkinAnimation($ppe[$pps+7],$ppe[$pps+8],$ppe[$pps+9],$ppe[$pps+3],$ppe[$pps+4],$ppe[$pps+5],$ppe[$pps+6],$ppe[$pps+0],$ppe[$pps+1],$ppe[$pps+2],$ppn,$ppa),0!=$ppo&&($pph=16*$ppt[$ppo].parentIndex,laya.d3.utils.Utils3D.mulMatrixByArray($ppn,$pph,$ppn,$ppa,$ppn,$ppa));var $ppu=$ppi.length;for($ppo=0;$ppo<$ppu;$ppo++){var $ppl=16*$ppo;laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast($ppn,$ppl,$ppi[$ppo],$ppr,$ppl)}},$ppFn._computeAnimationDatasByArrayAndMatrixFastOld=function($ppt,$ppe,$ppi){var $ppn=$ppt.length;for(var $ppr=0;$ppr<$ppn;$ppr++){var $pps=16*$ppr;laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast($ppe,$pps,$ppt[$ppr],$ppi,$pps)}},$ppFn._computeRootAnimationData=function($ppt,$ppe,$ppi){for(var $ppn=0,$ppr=0,$pps=0,$ppa=$ppt.length;$ppn<$ppa;$ppr+=$ppt[$ppn].keyframeWidth,$pps+=16,$ppn++)laya.d3.utils.Utils3D.createAffineTransformationArray($ppe[$ppr+0],$ppe[$ppr+1],$ppe[$ppr+2],$ppe[$ppr+3],$ppe[$ppr+4],$ppe[$ppr+5],$ppe[$ppr+6],$ppe[$ppr+7],$ppe[$ppr+8],$ppe[$ppr+9],$ppi,$pps)},$ppFn.transformVector3ArrayByQuat=function($ppt,$ppe,$ppi,$ppn,$ppr){$ppi=$ppi.elements;var $pps=$ppt[$ppe],$ppa=$ppt[$ppe+1],$ppt=$ppt[$ppe+2],$ppe=$ppi[0],$ppo=$ppi[1],$pph=$ppi[2],$ppi=$ppi[3],$ppl=$ppi*$pps+$ppo*$ppt-$pph*$ppa,$ppc=$ppi*$ppa+$pph*$pps-$ppe*$ppt,$ppu=$ppi*$ppt+$ppe*$ppa-$ppo*$pps,$pps=-$ppe*$pps-$ppo*$ppa-$pph*$ppt;$ppn[$ppr]=$ppl*$ppi+$pps*-$ppe+$ppc*-$pph-$ppu*-$ppo,$ppn[$ppr+1]=$ppc*$ppi+$pps*-$ppo+$ppu*-$ppe-$ppl*-$pph,$ppn[$ppr+2]=$ppu*$ppi+$pps*-$pph+$ppl*-$ppo-$ppc*-$ppe},$ppFn.mulMatrixByArray=function($ppt,$ppc,$ppe,$ppi,$ppn,$ppr){var $pps,$ppa,$ppo,$pph,$ppl;if($ppn===$ppe){for($ppe=$ppFn._tempArray16_3,$pps=0;$pps<16;++$pps)$ppe[$pps]=$ppn[$ppr+$pps];$ppi=0}for($pps=0;$pps<4;$pps++)$ppa=$ppt[$ppc+$pps],$ppo=$ppt[$ppc+$pps+4],$pph=$ppt[$ppc+$pps+8],$ppl=$ppt[$ppc+$pps+12],$ppn[$ppr+$pps]=$ppa*$ppe[$ppi+0]+$ppo*$ppe[$ppi+1]+$pph*$ppe[$ppi+2]+$ppl*$ppe[$ppi+3],$ppn[$ppr+$pps+4]=$ppa*$ppe[$ppi+4]+$ppo*$ppe[$ppi+5]+$pph*$ppe[$ppi+6]+$ppl*$ppe[$ppi+7],$ppn[$ppr+$pps+8]=$ppa*$ppe[$ppi+8]+$ppo*$ppe[$ppi+9]+$pph*$ppe[$ppi+10]+$ppl*$ppe[$ppi+11],$ppn[$ppr+$pps+12]=$ppa*$ppe[$ppi+12]+$ppo*$ppe[$ppi+13]+$pph*$ppe[$ppi+14]+$ppl*$ppe[$ppi+15]},$ppFn.mulMatrixByArrayFast=function($ppt,$ppe,$ppi,$ppn,$ppr,$ppc){var $pps,$ppa,$ppo,$pph,$ppl;for($pps=0;$pps<4;$pps++)$ppa=$ppt[$ppe+$pps],$ppo=$ppt[$ppe+$pps+4],$pph=$ppt[$ppe+$pps+8],$ppl=$ppt[$ppe+$pps+12],$ppr[$ppc+$pps]=$ppa*$ppi[$ppn+0]+$ppo*$ppi[$ppn+1]+$pph*$ppi[$ppn+2]+$ppl*$ppi[$ppn+3],$ppr[$ppc+$pps+4]=$ppa*$ppi[$ppn+4]+$ppo*$ppi[$ppn+5]+$pph*$ppi[$ppn+6]+$ppl*$ppi[$ppn+7],$ppr[$ppc+$pps+8]=$ppa*$ppi[$ppn+8]+$ppo*$ppi[$ppn+9]+$pph*$ppi[$ppn+10]+$ppl*$ppi[$ppn+11],$ppr[$ppc+$pps+12]=$ppa*$ppi[$ppn+12]+$ppo*$ppi[$ppn+13]+$pph*$ppi[$ppn+14]+$ppl*$ppi[$ppn+15]},$ppFn.mulMatrixByArrayAndMatrixFast=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps,$ppa,$ppo,$pph,$ppl;$ppi=$ppi.elements;var $ppc=$ppi[0],$ppu=$ppi[1],$pp_=$ppi[2],$ppd=$ppi[3];var $ppf=$ppi[4],$ppp=$ppi[5],$ppm=$ppi[6],$ppg=$ppi[7];var $ppv=$ppi[8],$ppy=$ppi[9],$ppx=$ppi[10],$ppw=$ppi[11];var $ppb=$ppi[12],$ppT=$ppi[13],$ppS=$ppi[14],$ppC=$ppi[15];var $ppM=$ppe;var $ppE=$ppe+4;var $ppA=$ppe+8;var $ppD=$ppe+12;var $ppI=$ppr;var $ppR=$ppr+4;var $ppP=$ppr+8;var $ppL=$ppr+12;for($pps=0;$pps<4;$pps++)$ppa=$ppt[$ppM+$pps],$ppo=$ppt[$ppE+$pps],$pph=$ppt[$ppA+$pps],$ppl=$ppt[$ppD+$pps],$ppn[$ppI+$pps]=$ppa*$ppc+$ppo*$ppu+$pph*$pp_+$ppl*$ppd,$ppn[$ppR+$pps]=$ppa*$ppf+$ppo*$ppp+$pph*$ppm+$ppl*$ppg,$ppn[$ppP+$pps]=$ppa*$ppv+$ppo*$ppy+$pph*$ppx+$ppl*$ppw,$ppn[$ppL+$pps]=$ppa*$ppb+$ppo*$ppT+$pph*$ppS+$ppl*$ppC},$ppFn.createAffineTransformationArray=function($ppc,$ppu,$pp_,$ppt,$ppe,$ppi,$ppn,$ppr,$ppd,$ppf,$pps,$ppa){var $ppo=$ppt+$ppt,$pph=$ppe+$ppe,$ppl=$ppi+$ppi;var $ppp=$ppt*$ppo,$ppm=$ppt*$pph,$ppt=$ppt*$ppl,$ppg=$ppe*$pph,$ppe=$ppe*$ppl,$ppi=$ppi*$ppl;$ppo*=$ppn,$pph*=$ppn,$ppn*=$ppl;$pps[$ppa+0]=(1-($ppg+$ppi))*$ppr,$pps[$ppa+1]=($ppm+$ppn)*$ppr,$pps[$ppa+2]=($ppt-$pph)*$ppr,$pps[$ppa+3]=0,$pps[$ppa+4]=($ppm-$ppn)*$ppd,$pps[$ppa+5]=(1-($ppp+$ppi))*$ppd,$pps[$ppa+6]=($ppe+$ppo)*$ppd,$pps[$ppa+7]=0,$pps[$ppa+8]=($ppt+$pph)*$ppf,$pps[$ppa+9]=($ppe-$ppo)*$ppf,$pps[$ppa+10]=(1-($ppp+$ppg))*$ppf,$pps[$ppa+11]=0,$pps[$ppa+12]=$ppc,$pps[$ppa+13]=$ppu,$pps[$ppa+14]=$pp_,$pps[$ppa+15]=1},$ppFn.transformVector3ArrayToVector3ArrayCoordinate=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps=$ppFn._tempArray4_0;var $ppa=$ppt[$ppe+0];var $ppo=$ppt[$ppe+1];$ppt=$ppt[$ppe+2];$ppe=$ppi.elements;$pps[0]=$ppa*$ppe[0]+$ppo*$ppe[4]+$ppt*$ppe[8]+$ppe[12],$pps[1]=$ppa*$ppe[1]+$ppo*$ppe[5]+$ppt*$ppe[9]+$ppe[13],$pps[2]=$ppa*$ppe[2]+$ppo*$ppe[6]+$ppt*$ppe[10]+$ppe[14],$pps[3]=1/($ppa*$ppe[3]+$ppo*$ppe[7]+$ppt*$ppe[11]+$ppe[15]),$ppn[$ppr+0]=$pps[0]*$pps[3],$ppn[$ppr+1]=$pps[1]*$pps[3],$ppn[$ppr+2]=$pps[2]*$pps[3]},$ppFn.transformLightingMapTexcoordByUV0Array=function($ppt,$ppe,$ppi,$ppn,$ppr){$ppi=$ppi.elements;$ppn[$ppr+0]=$ppt[$ppe+0]*$ppi[0]+$ppi[2],$ppn[$ppr+1]=($ppt[$ppe+1]-1)*$ppi[1]+$ppi[3]},$ppFn.transformLightingMapTexcoordByUV1Array=function($ppt,$ppe,$ppi,$ppn,$ppr){$ppi=$ppi.elements;$ppn[$ppr+0]=$ppt[$ppe+0]*$ppi[0]+$ppi[2],$ppn[$ppr+1]=1+$ppt[$ppe+1]*$ppi[1]+$ppi[3]},$ppFn.getURLVerion=function($ppt){var $ppe=$ppt.indexOf("?");return 0<=$ppe?$ppt.substr($ppe):null},$ppFn._quaternionCreateFromYawPitchRollArray=function($ppt,$ppe,$ppi,$ppn){$ppi*=.5;$ppe*=.5;$ppt*=.5;var $ppr=Math.sin($ppi);$ppi=Math.cos($ppi);var $pps=Math.sin($ppe);$ppe=Math.cos($ppe);var $ppa=Math.sin($ppt);$ppt=Math.cos($ppt);$ppn[0]=$ppt*$pps*$ppi+$ppa*$ppe*$ppr,$ppn[1]=$ppa*$ppe*$ppi-$ppt*$pps*$ppr,$ppn[2]=$ppt*$ppe*$ppr-$ppa*$pps*$ppi,$ppn[3]=$ppt*$ppe*$ppi+$ppa*$pps*$ppr},$ppFn._createAffineTransformationArray=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppe[0],$pps=$ppe[1],$ppa=$ppe[2],$ppe=$ppe[3],$ppo=$ppr+$ppr,$pph=$pps+$pps,$ppl=$ppa+$ppa;var $ppc=$ppr*$ppo,$ppu=$ppr*$pph,$ppr=$ppr*$ppl,$pp_=$pps*$pph,$pps=$pps*$ppl,$ppa=$ppa*$ppl;var $ppo=$ppe*$ppo,$pph=$ppe*$pph,$ppe=$ppe*$ppl,$ppl=$ppi[0],$ppd=$ppi[1],$ppi=$ppi[2];$ppn[0]=(1-($pp_+$ppa))*$ppl,$ppn[1]=($ppu+$ppe)*$ppl,$ppn[2]=($ppr-$pph)*$ppl,$ppn[3]=0,$ppn[4]=($ppu-$ppe)*$ppd,$ppn[5]=(1-($ppc+$ppa))*$ppd,$ppn[6]=($pps+$ppo)*$ppd,$ppn[7]=0,$ppn[8]=($ppr+$pph)*$ppi,$ppn[9]=($pps-$ppo)*$ppi,$ppn[10]=(1-($ppc+$pp_))*$ppi,$ppn[11]=0,$ppn[12]=$ppt[0],$ppn[13]=$ppt[1],$ppn[14]=$ppt[2],$ppn[15]=1},$ppFn._mulMatrixArray=function($ppt,$ppe,$ppi,$ppn){var $ppr,$pps,$ppa,$ppo,$pph;$ppe=$ppe.elements;var $ppl=$ppe[0],$ppc=$ppe[1],$ppu=$ppe[2],$pp_=$ppe[3];var $ppd=$ppe[4],$ppf=$ppe[5],$ppp=$ppe[6],$ppm=$ppe[7];var $ppg=$ppe[8],$ppv=$ppe[9],$ppy=$ppe[10],$ppx=$ppe[11];var $ppw=$ppe[12],$ppb=$ppe[13],$ppT=$ppe[14],$ppS=$ppe[15];var $ppC=$ppn;var $ppM=$ppn+4;var $ppE=$ppn+8;var $ppA=$ppn+12;for($ppr=0;$ppr<4;$ppr++)$pps=$ppt[$ppr],$ppa=$ppt[$ppr+4],$ppo=$ppt[$ppr+8],$pph=$ppt[$ppr+12],$ppi[$ppC+$ppr]=$pps*$ppl+$ppa*$ppc+$ppo*$ppu+$pph*$pp_,$ppi[$ppM+$ppr]=$pps*$ppd+$ppa*$ppf+$ppo*$ppp+$pph*$ppm,$ppi[$ppE+$ppr]=$pps*$ppg+$ppa*$ppv+$ppo*$ppy+$pph*$ppx,$ppi[$ppA+$ppr]=$pps*$ppw+$ppa*$ppb+$ppo*$ppT+$pph*$ppS},$ppFn.getYawPitchRoll=function($ppt,$ppe){$ppFn.transformQuat($ppD.ForwardRH,$ppt,$pprn.TEMPVector31),$ppFn.transformQuat($ppD.Up,$ppt,$pprn.TEMPVector32);$ppt=$pprn.TEMPVector32.elements;$ppFn.angleTo($ppD.ZERO,$pprn.TEMPVector31,$pprn.TEMPVector33);var $ppi=$pprn.TEMPVector33.elements;$ppi[0]==Math.PI/2?($ppi[1]=$ppFn.arcTanAngle($ppt[2],$ppt[0]),$ppi[2]=0):$ppi[0]==-Math.PI/2?($ppi[1]=$ppFn.arcTanAngle(-$ppt[2],-$ppt[0]),$ppi[2]=0):($pptn.createRotationY(-$ppi[1],$pprn.TEMPMatrix0),$pptn.createRotationX(-$ppi[0],$pprn.TEMPMatrix1),$ppD.transformCoordinate($pprn.TEMPVector32,$pprn.TEMPMatrix0,$pprn.TEMPVector32),$ppD.transformCoordinate($pprn.TEMPVector32,$pprn.TEMPMatrix1,$pprn.TEMPVector32),$ppi[2]=$ppFn.arcTanAngle($ppt[1],-$ppt[0])),$ppi[1]<=-Math.PI&&($ppi[1]=Math.PI),$ppi[2]<=-Math.PI&&($ppi[2]=Math.PI),$ppi[1]>=Math.PI&&$ppi[2]>=Math.PI&&($ppi[1]=0,$ppi[2]=0,$ppi[0]=Math.PI-$ppi[0]),$ppe[0]=$ppi[1],$ppe[1]=$ppi[0],$ppe[2]=$ppi[2]},$ppFn.arcTanAngle=function($ppt,$ppe){return 0==$ppt?1==$ppe?Math.PI/2:-Math.PI/2:0<$ppt?Math.atan($ppe/$ppt):$ppt<0?0<$ppe?Math.atan($ppe/$ppt)+Math.PI:Math.atan($ppe/$ppt)-Math.PI:0},$ppFn.angleTo=function($ppt,$ppe,$ppi){$ppD.subtract($ppe,$ppt,$pprn.TEMPVector30),$ppD.normalize($pprn.TEMPVector30,$pprn.TEMPVector30),$ppi.elements[0]=Math.asin($pprn.TEMPVector30.y),$ppi.elements[1]=$ppFn.arcTanAngle(-$pprn.TEMPVector30.z,-$pprn.TEMPVector30.x)},$ppFn.transformQuat=function($ppt,$ppe,$ppi){$ppi=$ppi.elements;$ppt=$ppt.elements;var $ppn=$ppt[0],$ppr=$ppt[1],$ppt=$ppt[2],$pps=$ppe[0],$ppa=$ppe[1],$ppo=$ppe[2],$ppe=$ppe[3],$pph=$ppe*$ppn+$ppa*$ppt-$ppo*$ppr,$ppl=$ppe*$ppr+$ppo*$ppn-$pps*$ppt,$ppc=$ppe*$ppt+$pps*$ppr-$ppa*$ppn,$ppn=-$pps*$ppn-$ppa*$ppr-$ppo*$ppt;$ppi[0]=$pph*$ppe+$ppn*-$pps+$ppl*-$ppo-$ppc*-$ppa,$ppi[1]=$ppl*$ppe+$ppn*-$ppa+$ppc*-$pps-$pph*-$ppo,$ppi[2]=$ppc*$ppe+$ppn*-$ppo+$pph*-$ppa-$ppl*-$pps},$ppFn.quaterionNormalize=function($ppt,$ppe){var $ppi=$ppt[0],$ppn=$ppt[1],$ppr=$ppt[2],$ppt=$ppt[3];var $pps=$ppi*$ppi+$ppn*$ppn+$ppr*$ppr+$ppt*$ppt;0<$pps&&($pps=1/Math.sqrt($pps),$ppe[0]=$ppi*$pps,$ppe[1]=$ppn*$pps,$ppe[2]=$ppr*$pps,$ppe[3]=$ppt*$pps)},$ppFn.matrix4x4MultiplyFFF=function($ppt,$ppe,$ppi){var $ppn,$ppr,$pps,$ppa,$ppo;if($ppi===$ppe)for($ppe=new Float32Array(16),$ppn=0;$ppn<16;++$ppn)$ppe[$ppn]=$ppi[$ppn];for($ppn=0;$ppn<4;$ppn++)$ppr=$ppt[$ppn],$pps=$ppt[$ppn+4],$ppa=$ppt[$ppn+8],$ppo=$ppt[$ppn+12],$ppi[$ppn]=$ppr*$ppe[0]+$pps*$ppe[1]+$ppa*$ppe[2]+$ppo*$ppe[3],$ppi[$ppn+4]=$ppr*$ppe[4]+$pps*$ppe[5]+$ppa*$ppe[6]+$ppo*$ppe[7],$ppi[$ppn+8]=$ppr*$ppe[8]+$pps*$ppe[9]+$ppa*$ppe[10]+$ppo*$ppe[11],$ppi[$ppn+12]=$ppr*$ppe[12]+$pps*$ppe[13]+$ppa*$ppe[14]+$ppo*$ppe[15]},$ppFn.matrix4x4MultiplyMFM=function($ppt,$ppe,$ppi){$ppFn.matrix4x4MultiplyFFF($ppt.elements,$ppe,$ppi.elements)},$ppl($ppFn,["_typeToFunO",function(){return this._typeToFunO={INT16:"writeInt16",SHORT:"writeInt16",UINT16:"writeUint16",UINT32:"writeUint32",FLOAT32:"writeFloat32",INT:"writeInt32",UINT:"writeUint32",BYTE:"writeByte",STRING:"writeUTFString"}},"_tempVector3_0",function(){return this._tempVector3_0=new $ppD},"_tempVector3_1",function(){return this._tempVector3_1=new $ppD},"_tempVector3_2",function(){return this._tempVector3_2=new $ppD},"_tempVector3_3",function(){return this._tempVector3_3=new $ppD},"_tempVector3_4",function(){return this._tempVector3_4=new $ppD},"_tempVector3_5",function(){return this._tempVector3_5=new $ppD},"_tempVector3_6",function(){return this._tempVector3_6=new $ppD},"_tempArray4_0",function(){return this._tempArray4_0=new Float32Array(4)},"_tempArray16_0",function(){return this._tempArray16_0=new Float32Array(16)},"_tempArray16_1",function(){return this._tempArray16_1=new Float32Array(16)},"_tempArray16_2",function(){return this._tempArray16_2=new Float32Array(16)},"_tempArray16_3",function(){return this._tempArray16_3=new Float32Array(16)}]);var $ppOn=$ppFn;function $ppFn(){}$ppt($ppS,"Laya3D"),$ppS._cancelLoadByUrl=function($ppt){$pph.loader.cancelLoadByUrl($ppt),$ppS._innerFirstLevelLoaderManager.cancelLoadByUrl($ppt),$ppS._innerSecondLevelLoaderManager.cancelLoadByUrl($ppt),$ppS._innerThirdLevelLoaderManager.cancelLoadByUrl($ppt),$ppS._innerFourthLevelLoaderManager.cancelLoadByUrl($ppt)},$ppS._changeWebGLSize=function($ppt,$ppe){$ppF.onStageResize($ppt,$ppe),$ppIt.clientWidth=$ppt,$ppIt.clientHeight=$ppe},$ppS.__init__=function(){var $ppt=$ppb.createMap;$ppt.lh=[$ppAr,"SPRITE3DHIERARCHY"],$ppt.ls=[$ppCr,"SPRITE3DHIERARCHY"],$ppt.lm=[$ppGr,"MESH"],$ppt.lmat=[$ppPr,"MATERIAL"],$ppt.jpg=[$pp$r,"nativeimage"],$ppt.jpeg=[$pp$r,"nativeimage"],$ppt.png=[$pp$r,"nativeimage"],$ppt.pkm=[$pp$r,"arraybuffer"],$ppt.raw=[$ppHr,"arraybuffer"],$ppt.mipmaps=[$ppHr,"arraybuffer"],$ppx.parserMap.SPRITE3DHIERARCHY=$ppS._loadHierarchy,$ppx.parserMap.MESH=$ppS._loadMesh,$ppx.parserMap.MATERIAL=$ppS._loadMaterial,$ppx.parserMap.TEXTURECUBE=$ppS._loadTextureCube,$ppx.parserMap.TERRAIN=$ppS._loadTerrain,$ppS._innerFirstLevelLoaderManager.on("error",null,$ppS._eventLoadManagerError),$ppS._innerSecondLevelLoaderManager.on("error",null,$ppS._eventLoadManagerError),$ppS._innerThirdLevelLoaderManager.on("error",null,$ppS._eventLoadManagerError),$ppS._innerFourthLevelLoaderManager.on("error",null,$ppS._eventLoadManagerError)},$ppS.READ_BLOCK=function(){return $ppS._readData.pos+=4,!0},$ppS.READ_DATA=function(){return $ppS._DATA.offset=$ppS._readData.getUint32(),$ppS._DATA.size=$ppS._readData.getUint32(),!0},$ppS.READ_STRINGS=function(){var $ppt=[];var $ppe={offset:0,size:0};$ppe.offset=$ppS._readData.getUint16(),$ppe.size=$ppS._readData.getUint16();$ppS._readData.pos;$ppS._readData.pos=$ppe.offset+$ppS._DATA.offset;for(var $ppi=0;$ppi<$ppe.size;$ppi++){var $ppn=$ppS._readData.readUTFString();-1===$ppn.lastIndexOf(".lmat")&&-1===$ppn.lastIndexOf(".lpbr")||$ppt.push($ppn)}return $ppt},$ppS.formatRelativePath=function($ppt,$ppe){var $ppi;if("."===$ppe.charAt(0)){var $ppn=($ppt+$ppe).split("/");for(var $ppr=0,$pps=$ppn.length;$ppr<$pps;$ppr++){var $ppa;".."!=$ppn[$ppr]||0<($ppa=$ppr-1)&&".."!==$ppn[$ppa]&&($ppn.splice($ppa,2),$ppr-=2)}$ppi=$ppn.join("/")}else $ppi=$ppt+$ppe;return $ppi=null!=$ppN.customFormat?$ppN.customFormat($ppi,null):$ppi},$ppS._eventLoadManagerError=function($ppt){$pph.loader.event("error",$ppt)},$ppS._addHierarchyInnerUrls=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){$ppn=$ppS.formatRelativePath($ppn,$ppr);$ppi&&($ppn+=$ppi),$ppt.push({url:$ppn,clas:$pps}),$ppe[$ppr]=$ppn},$ppS._getSprite3DHierarchyInnerUrls=function($ppt,$ppc,$ppu,$ppe,$ppi,$ppn,$ppr){var $pps=0,$ppa=0;var $pp_;switch($ppt.type){case"Scene":var $ppd=$ppt.customProps.lightmaps;for($pps=0,$ppa=$ppd.length;$pps<$ppa;$pps++){var $ppf=$ppd[$pps].replace(".exr",".png");$ppS._addHierarchyInnerUrls($ppe,$ppi,$ppn,$ppr,$ppf,$pp$r)}break;case"MeshSprite3D":case"TrailSprite3D":case"LineSprite3D":case"SkinnedMeshSprite3D":if($ppt.instanceParams)($ppl=$ppt.instanceParams.loadPath)&&$ppS._addHierarchyInnerUrls($ppc,$ppi,$ppn,$ppr,$ppl,$ppGr);else{($ppl=($pp_=$ppt.customProps).meshPath)&&$ppS._addHierarchyInnerUrls($ppc,$ppi,$ppn,$ppr,$ppl,$ppGr);var $ppp=$pp_.materials;if($ppp)for($pps=0,$ppa=$ppp.length;$pps<$ppa;$pps++){var $ppm=$ppp[$pps];var $ppg=$ppm.type.split(".");var $ppo=$ppC.window;for(var $pph=0,$ppv=$ppg.length;$pph<$ppv;++$pph)$ppo=$ppo[this.clasPaths[$pph]];if("function"!=typeof $ppo)throw"_getSprite3DHierarchyInnerUrls 错误: "+$ppm.type+" 不是类";$ppS._addHierarchyInnerUrls($ppu,$ppi,$ppn,$ppr,$ppm.path,$ppo)}}break;case"ShuriKenParticle3D":case"MyShuriKenParticle3D":var $ppl=($pp_=$ppt.customProps).meshPath;$ppl&&$ppS._addHierarchyInnerUrls($ppc,$ppi,$ppn,$ppr,$ppl,$ppGr);$ppl=$pp_.material;if($ppl){$ppg=$ppl.type.split("."),$ppo=$ppC.window;for($pph=0,$ppv=$ppg.length;$pph<$ppv;++$pph)$ppo=$ppo[this.clasPaths[$pph]];$ppS._addHierarchyInnerUrls($ppu,$ppi,$ppn,$ppr,$ppl.path,$ppo)}else{$ppl=$pp_.materialPath;$ppl?$ppS._addHierarchyInnerUrls($ppu,$ppi,$ppn,$ppr,$ppl,ShurikenParticleMaterial):($ppl=$pp_.texturePath)&&$ppS._addHierarchyInnerUrls($ppe,$ppi,$ppn,$ppr,$ppl,$pp$r)}break;case"Terrain":$ppS._addHierarchyInnerUrls($ppe,$ppi,$ppn,$ppr,$ppt.customProps.dataPath,TerrainRes)}var $ppy=$ppt.components;for(var $ppx in $ppy){var $ppw=$ppy[$ppx];if("Animator"===$ppx){$ppx=$ppw.avatarPath;$ppx?$ppS._addHierarchyInnerUrls($ppe,$ppi,$ppn,$ppr,$ppx,Avatar):($ppx=$ppw.avatar)&&$ppS._addHierarchyInnerUrls($ppe,$ppi,$ppn,$ppr,$ppx.path,Avatar);var $ppb=$ppw.clipPaths;for($pps=0,$ppa=$ppb.length;$pps<$ppa;$pps++)$ppS._addHierarchyInnerUrls($ppe,$ppi,$ppn,$ppr,$ppb[$pps],AnimationClip)}}var $ppT=$ppt.child;for($pps=0,$ppa=$ppT.length;$pps<$ppa;$pps++)$ppS._getSprite3DHierarchyInnerUrls($ppT[$pps],$ppc,$ppu,$ppe,$ppi,$ppn,$ppr)},$ppS._loadHierarchy=function($ppt){$ppt.on("loaded",null,$ppS._onHierarchylhLoaded,[$ppt,$ppt._class._getGroup()]),$ppt.load($ppt.url,"json",!1,null,!0)},$ppS._onHierarchylhLoaded=function($ppt,$ppe,$ppi){var $ppn,$ppr,$pps,$ppc,$ppa,$ppo,$pph,$ppl;$ppt._class.destroyed?$ppt.endLoad():($ppa=$ppt.url,$ppl=$ppOn.getURLVerion($ppa),$ppa=$ppN.getPath($ppa),$ppS._getSprite3DHierarchyInnerUrls($ppi,$ppn=[],$ppr=[],$pps=[],$ppc={},$ppl,$ppa),$ppS._onProcessChange($ppt,0,$ppo=1/($ppa=($ppl=$ppn.length+$ppr.length+$pps.length)+1),1),0<$pps.length?($ppl=$ppw.create(null,$ppS._onProcessChange,[$ppt,$ppo,$pph=$ppl/$ppa],!1),$ppS._innerFourthLevelLoaderManager.create($pps,$ppw.create(null,$ppS._onHierarchyInnerForthLevResouLoaded,[$ppt,$ppe,$ppl,$ppi,$ppc,$ppn,$ppr,$ppo+$pph*$pps.length,$pph]),$ppl,null,null,1,!0,$ppe)):$ppS._onHierarchyInnerForthLevResouLoaded($ppt,$ppe,null,$ppi,$ppc,$ppn,$ppr,$ppo,$pph))},$ppS._onHierarchyInnerForthLevResouLoaded=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph){var $ppl;$ppt._class.destroyed?$ppt.endLoad():($ppi&&$ppi.recover(),0<$ppa.length?($ppl=$ppw.create(null,$ppS._onProcessChange,[$ppt,$ppo,$pph],!1),$ppS._innerSecondLevelLoaderManager.create($ppa,$ppw.create(null,$ppS._onHierarchyInnerSecondLevResouLoaded,[$ppt,$ppe,$ppl,$ppn,$ppr,$pps,$ppo+$pph*$ppa.length,$pph]),$ppi,null,null,1,!0,$ppe)):$ppS._onHierarchyInnerSecondLevResouLoaded($ppt,$ppe,null,$ppn,$ppr,$pps,$ppo,$pph))},$ppS._onHierarchyInnerSecondLevResouLoaded=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){$ppt._class.destroyed?$ppt.endLoad():($ppi&&$ppi.recover(),0<$pps.length?($ppa=$ppw.create(null,$ppS._onProcessChange,[$ppt,$ppa,$ppo],!1),$ppS._innerFirstLevelLoaderManager.create($pps,$ppw.create(null,$ppS._onHierarchyInnerFirstLevResouLoaded,[$ppt,$ppa,$ppn,$ppr]),$ppi,null,null,1,!0,$ppe)):$ppS._onHierarchyInnerFirstLevResouLoaded($ppt,null,$ppn,$ppr))},$ppS._onHierarchyInnerFirstLevResouLoaded=function($ppt,$ppe,$ppi,$ppn){$ppe&&$ppe.recover(),$ppt.endLoad([$ppi,$ppn])},$ppS._loadTerrain=function($ppt){$ppt.on("loaded",null,$ppS._onTerrainLtLoaded,[$ppt,$ppt._class._getGroup()]),$ppt.load($ppt.url,"json",!1,null,!0)},$ppS._onTerrainLtLoaded=function($ppt,$ppc,$ppe){if($ppt._class.destroyed)$ppt.endLoad();else{var $ppi=$ppt.url;var $ppn=$ppOn.getURLVerion($ppi);var $ppu=$ppN.getPath($ppi);var $ppr=[];var $pps={};var $ppa;var $ppo=0,$pph=0;$ppi=$ppe.heightData;$ppl=$ppi.url,$ppa=$ppS.formatRelativePath($ppu,$ppl),$ppn&&($ppa+=$ppn),$ppl=$pps[$ppl]=$ppa;var $pp_=$ppe.detailTexture;for($ppo=0,$pph=$pp_.length;$ppo<$pph;$ppo++)$ppr.push({url:$pp_[$ppo].diffuse});var $ppd=$ppe.normalMap;for($ppo=0,$pph=$ppd.length;$ppo<$pph;$ppo++)$ppr.push({url:$ppd[$ppo]});var $ppf=$ppe.alphaMap;for($ppo=0,$pph=$ppf.length;$ppo<$pph;$ppo++)$ppr.push({url:$ppf[$ppo],params:[!1,!1,6408,!0]});for($ppo=0,$pph=$ppr.length;$ppo<$pph;$ppo++){var $ppp=$ppr[$ppo].url;$ppa=$ppS.formatRelativePath($ppu,$ppp),$ppn&&($ppa+=$ppn),$ppr[$ppo].url=$ppa,$pps[$ppp]=$ppa}var $ppm=$ppr.length;var $ppg=$ppm+2;var $ppv=1/$ppg;$ppS._onProcessChange($ppt,0,$ppv,1);var $ppy={heightMapLoaded:!1,texturesLoaded:!1};var $ppx=$ppw.create(null,$ppS._onProcessChange,[$ppt,$ppv,$ppv],!1);$ppS._innerFourthLevelLoaderManager.create($ppl,$ppw.create(null,$ppS._onTerrainHeightMapLoaded,[$ppt,$ppx,$ppe,$pps,$ppy]),$ppx,null,[$ppi.numX,$ppi.numZ,$ppi.bitType,$ppi.value],1,!0,$ppc);var $ppl=$ppw.create(null,$ppS._onProcessChange,[$ppt,2*$ppv,$ppm/$ppg],!1);$ppS._innerFourthLevelLoaderManager.create($ppr,$ppw.create(null,$ppS._onTerrainTexturesLoaded,[$ppt,$ppl,$ppe,$pps,$ppy]),$ppl,null,null,1,!0,$ppc)}},$ppS._onTerrainHeightMapLoaded=function($ppt,$ppe,$ppi,$ppn,$ppr){$ppr.heightMapLoaded=!0,$ppr.texturesLoaded&&($ppt.endLoad([$ppi,$ppn]),$ppe.recover())},$ppS._onTerrainTexturesLoaded=function($ppt,$ppe,$ppi,$ppn,$ppr){$ppr.texturesLoaded=!0,$ppr.heightMapLoaded&&($ppt.endLoad([$ppi,$ppn]),$ppe.recover())},$ppS._loadMesh=function($ppt){$ppt.on("loaded",null,$ppS._onMeshLmLoaded,[$ppt,$ppt._class._getGroup()]),$ppt.load($ppt.url,"arraybuffer",!1,null,!0)},$ppS._onMeshLmLoaded=function($ppt,$ppc,$ppe){if($ppt._class.destroyed)$ppt.endLoad();else{var $ppi=$ppt.url;var $ppn=$ppOn.getURLVerion($ppi);var $ppu=$ppN.getPath($ppi);var $ppr;var $pps={};var $ppa;var $pp_,$ppo,$pph=0;switch(($ppS._readData=new $ppy($ppe)).pos=0,$ppS._readData.readUTFString()){case"LAYAMODEL:02":case"LAYAMODEL:03":case"LAYAMODEL:0301":var $ppd=$ppS._readData.getUint32();$ppS._readData.pos=$ppS._readData.pos+4,$ppo=$ppS._readData.getUint16(),$ppS._readData.pos=$ppS._readData.pos+8*$ppo;var $ppf=$ppS._readData.getUint32();for($ppo=$ppS._readData.getUint16(),$ppS._readData.pos=$ppd+$ppf,$ppr=[],$pph=0;$pph<$ppo;$pph++){var $ppp=$ppS._readData.readUTFString();-1!==$ppp.lastIndexOf(".lmat")&&$ppr.push($ppp)}break;default:for($ppS.READ_BLOCK(),$pph=0;$pph<2;$pph++){var $ppm=$ppS._readData.getUint16();var $ppg=$ppS._strings[$ppm];var $ppl=$ppS["READ_"+$ppg];if(null==$ppl)throw new Error("model file err,no this function:"+$ppm+" "+$ppg);1===$pph?$ppr=$ppl.call():$ppl.call()}}for($pph=0,$pp_=$ppr.length;$pph<$pp_;$pph++){var $ppv=$ppr[$pph];$ppa=$ppS.formatRelativePath($ppu,$ppv),$ppn&&($ppa+=$ppn),$ppr[$pph]=$ppa,$pps[$ppv]=$ppa}0<$ppr.length?($ppS._onProcessChange($ppt,0,.5,1),$ppi=$ppw.create(null,$ppS._onProcessChange,[$ppt,.5,.5],!1),$ppS._innerSecondLevelLoaderManager.create($ppr,$ppw.create(null,$ppS._onMeshMateialLoaded,[$ppt,$ppi,$ppe,$pps]),$ppi,null,null,1,!0,$ppc)):$ppt.endLoad([$ppe,$pps])}},$ppS._onMeshMateialLoaded=function($ppt,$ppe,$ppi,$ppn){$ppt.endLoad([$ppi,$ppn]),$ppe.recover()},$ppS._getMaterialTexturePath=function($ppt,$ppe,$ppi){var $ppn=$ppt.length-4;return $ppt.indexOf(".dds")!=$ppn&&$ppt.indexOf(".tga")!=$ppn&&$ppt.indexOf(".exr")!=$ppn&&$ppt.indexOf(".DDS")!=$ppn&&$ppt.indexOf(".TGA")!=$ppn&&$ppt.indexOf(".EXR")!=$ppn||($ppt=$ppt.substr(0,$ppn)+".png"),$ppt=$ppS.formatRelativePath($ppi,$ppt),$ppe&&($ppt+=$ppe),$ppt},$ppS._loadMaterial=function($ppt){$ppt.on("loaded",null,$ppS._onMaterilLmatLoaded,[$ppt,$ppt._class._getGroup()]),$ppt.load($ppt.url,"json",!1,null,!0)},$ppS._onMaterilLmatLoaded=function($ppt,$ppc,$ppe){if($ppt._class.destroyed)$ppt.endLoad();else{var $ppi=$ppt.url;var $ppn=$ppOn.getURLVerion($ppi);var $ppr=$ppN.getPath($ppi);var $pps=[];var $ppa={};$ppi=$ppe.customProps;var $ppo;var $pph=$ppe.version;if($pph)switch($pph){case"LAYAMATERIAL:01":case"LAYAMATERIAL:02":var $ppu=$ppe.props.textures;for(var $pp_=0,$ppd=$ppu.length;$pp_<$ppd;$pp_++){var $ppf=$ppu[$pp_];var $ppl=$ppf.path;var $ppp;$ppl&&($ppp=$ppl.length-4,$ppl.indexOf(".exr")!=$ppp&&$ppl.indexOf(".EXR")!=$ppp||($ppl=$ppl.substr(0,$ppp)+".png"),$ppo=$ppS.formatRelativePath($ppr,$ppl),$ppn&&($ppo+=$ppn),$pps.push({url:$ppo,params:$ppf.params}),$ppa[$ppl]=$ppo)}break;default:throw new Error("Laya3D:unkonwn version.")}else{$pph=$ppi.diffuseTexture.texture2D;$pph&&($ppo=$ppS._getMaterialTexturePath($pph,$ppn,$ppr),$pps.push($ppo),$ppa[$pph]=$ppo),!$ppi.normalTexture||($pph=$ppi.normalTexture.texture2D)&&($ppo=$ppS._getMaterialTexturePath($pph,$ppn,$ppr),$pps.push($ppo),$ppa[$pph]=$ppo),!$ppi.specularTexture||($pph=$ppi.specularTexture.texture2D)&&($ppo=$ppS._getMaterialTexturePath($pph,$ppn,$ppr),$pps.push($ppo),$ppa[$pph]=$ppo),!$ppi.emissiveTexture||($pph=$ppi.emissiveTexture.texture2D)&&($ppo=$ppS._getMaterialTexturePath($pph,$ppn,$ppr),$pps.push($ppo),$ppa[$pph]=$ppo),!$ppi.ambientTexture||($pph=$ppi.ambientTexture.texture2D)&&($ppo=$ppS._getMaterialTexturePath($pph,$ppn,$ppr),$pps.push($ppo),$ppa[$pph]=$ppo),!$ppi.reflectTexture||($pph=$ppi.reflectTexture.texture2D)&&($ppo=$ppS._getMaterialTexturePath($pph,$ppn,$ppr),$pps.push($ppo),$ppa[$pph]=$ppo)}$ppi=$pps.length;$pph=$ppi+1;var $ppm=1/$pph;$ppS._onProcessChange($ppt,0,$ppm,1),0<$ppi?($ppm=$ppw.create(null,$ppS._onProcessChange,[$ppt,$ppm,$ppi/$pph],!1),$ppS._innerFourthLevelLoaderManager.create($pps,$ppw.create(null,$ppS._onMateialTexturesLoaded,[$ppt,$ppm,$ppe,$ppa]),$ppm,$pp$r,null,1,!0,$ppc)):$ppS._onMateialTexturesLoaded($ppt,null,$ppe,null)}},$ppS._onMateialTexturesLoaded=function($ppt,$ppe,$ppi,$ppn){$ppt.endLoad([$ppi,$ppn]),$ppe&&$ppe.recover()},$ppS._loadTextureCube=function($ppt){$ppt.on("loaded",null,$ppS._onTextureCubeLtcLoaded,[$ppt]),$ppt.load($ppt.url,"json",!1,null,!0)},$ppS._onTextureCubeLtcLoaded=function($ppt,$ppe){var $ppi;$ppt._class.destroyed?$ppt.endLoad():($ppi=$ppN.getPath($ppt.url),$ppi=[$ppS.formatRelativePath($ppi,$ppe.px),$ppS.formatRelativePath($ppi,$ppe.nx),$ppS.formatRelativePath($ppi,$ppe.py),$ppS.formatRelativePath($ppi,$ppe.ny),$ppS.formatRelativePath($ppi,$ppe.pz),$ppS.formatRelativePath($ppi,$ppe.nz)],$ppS._onProcessChange($ppt,0,1/7,1),$ppe=$ppw.create(null,$ppS._onProcessChange,[$ppt,1/7,6/7],!1),$ppS._innerFourthLevelLoaderManager.load($ppi,$ppw.create(null,$ppS._onTextureCubeImagesLoaded,[$ppt,$ppi,$ppe]),$ppe,"nativeimage"))},$ppS._onTextureCubeImagesLoaded=function($ppt,$ppe,$ppi){var $ppn=[];$ppn.length=6;for(var $ppr=0;$ppr<6;$ppr++){var $pps=$ppe[$ppr];$ppn[$ppr]=$ppx.getRes($pps),$ppx.clearRes($pps)}$ppt.endLoad($ppn),$ppi.recover()},$ppS._onProcessChange=function($ppt,$ppe,$ppi,$ppn){($ppn=$ppe+$ppn*$ppi)<1&&$ppt.event("progress",$ppn)},$ppS.init=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){void 0===$ppi&&($ppi=!1),void 0===$ppn&&($ppn=!1),void 0===$ppr&&($ppr=!0),void 0===$pps&&($pps=!0),$ppI.update3DLoop=function(){},$ppI.cancelLoadByUrl=function($ppt){$ppS._cancelLoadByUrl($ppt)},$ppg.isAntialias=$ppi,$ppg.isAlpha=$ppn,$ppg.premultipliedAlpha=$ppr,$ppg.isStencil=$pps,$ppF.enable()?($ppI.changeWebGLSize=$ppS._changeWebGLSize,$ppM.is3DMode=!0,$pph.init($ppt,$ppe),$pp$.__init__(),$ppbn.__init__(),$ppos.__init__(),$ppW.__init__(),$ppS.__init__(),$ppu.maxTextureCount=2,($ppS.debugMode||$ppPt.debugMode)&&($ppS._debugPhasorSprite=new $ppSt)):alert("3D环境初始化失败，请重启后再打开游戏！")},$ppS.HIERARCHY="SPRITE3DHIERARCHY",$ppS.MESH="MESH",$ppS.MATERIAL="MATERIAL",$ppS.PBRMATERIAL="PBRMTL",$ppS.TEXTURECUBE="TEXTURECUBE",$ppS.TERRAIN="TERRAIN",$ppS._readData=null,$ppS._debugPhasorSprite=null,$ppS.debugMode=!1,$ppl($ppS,["_DATA",function(){return this._DATA={offset:0,size:0}},"_strings",function(){return this._strings=["BLOCK","DATA","STRINGS"]},"_innerFirstLevelLoaderManager",function(){return this._innerFirstLevelLoaderManager=new $ppb},"_innerSecondLevelLoaderManager",function(){return this._innerSecondLevelLoaderManager=new $ppb},"_innerThirdLevelLoaderManager",function(){return this._innerThirdLevelLoaderManager=new $ppb},"_innerFourthLevelLoaderManager",function(){return this._innerFourthLevelLoaderManager=new $ppb}]);var $ppVn=$ppS;function $ppS(){}$ppt($ppUn,"laya.d3.animation.AnimationTransform3D",$ppv),($ppa=$ppUn.prototype)._getlocalMatrix=function(){return this._localUpdate&&($ppOn._createAffineTransformationArray(this._localPosition,this._localRotation,this._localScale,this._localMatrix),this._localUpdate=!1),this._localMatrix},$ppa._onWorldTransform=function(){if(!this._worldUpdate){this._worldUpdate=!0;for(var $ppt=0,$ppe=this._childs.length;$ppt<$ppe;$ppt++)this._childs[$ppt]._onWorldTransform()}},$ppa._setWorldMatrixAndUpdate=function($ppt){if(this._worldMatrix=$ppt,null==this._parent)throw new Error("don't need to set worldMatrix to root Node.");if(null==this._parent._parent){var $ppe=this._getlocalMatrix();for(var $ppi=0;$ppi<16;++$ppi)this._worldMatrix[$ppi]=$ppe[$ppi]}else $ppOn.matrix4x4MultiplyFFF(this._parent.getWorldMatrix(),this._getlocalMatrix(),this._worldMatrix);this._worldUpdate=!1},$ppa._setWorldMatrixNoUpdate=function($ppt){this._worldMatrix=$ppt},$ppa._setWorldMatrixIgnoreUpdate=function($ppt){this._worldMatrix=$ppt,this._worldUpdate=!1},$ppa.getLocalPosition=function(){return this._localPosition},$ppa.setLocalPosition=function($ppt){var $ppe,$ppi,$ppn;this._parent?(this._localPosition=$ppt,this._localUpdate=!0,this._onWorldTransform()):($ppe=this._entity.owner._transform,($ppn=($ppi=this._entity.localPosition).elements)[0]=$ppt[0],$ppn[1]=$ppt[1],$ppn[2]=$ppt[2],$ppe.localPosition=$ppi)},$ppa.getLocalRotation=function(){var $ppt;return this._localQuaternionUpdate&&($ppt=this._localRotationEuler,$ppOn._quaternionCreateFromYawPitchRollArray($ppt[1]/$ppUn._angleToRandin,$ppt[0]/$ppUn._angleToRandin,$ppt[2]/$ppUn._angleToRandin,this._localRotation),this._localQuaternionUpdate=!1),this._localRotation},$ppa.setLocalRotation=function($ppt){var $ppe,$ppi,$ppn;this._parent?(this._localRotation=$ppt,$ppOn.quaterionNormalize(this._localRotation,this._localRotation),this._locaEulerlUpdate=!0,this._localQuaternionUpdate=!1,this._localUpdate=!0,this._onWorldTransform()):($ppe=this._entity.owner._transform,($ppn=($ppi=this._entity.localRotation).elements)[0]=$ppt[0],$ppn[1]=$ppt[1],$ppn[2]=$ppt[2],$ppn[3]=$ppt[3],$ppe.localRotation=$ppi)},$ppa.getLocalScale=function(){return this._localScale},$ppa.setLocalScale=function($ppt){var $ppe,$ppi,$ppn;this._parent?(this._localScale=$ppt,this._localUpdate=!0,this._onWorldTransform()):($ppe=this._entity.owner._transform,($ppn=($ppi=this._entity.localScale).elements)[0]=$ppt[0],$ppn[1]=$ppt[1],$ppn[2]=$ppt[2],$ppe.localScale=$ppi)},$ppa.getLocalRotationEuler=function(){var $ppt,$ppe;return this._locaEulerlUpdate&&($ppOn.getYawPitchRoll(this._localRotation,$ppUn._tempVector3),($ppe=this._localRotationEuler)[0]=($ppt=$ppUn._tempVector3)[1]*$ppUn._angleToRandin,$ppe[1]=$ppt[0]*$ppUn._angleToRandin,$ppe[2]=$ppt[2]*$ppUn._angleToRandin,this._locaEulerlUpdate=!1),this._localRotationEuler},$ppa.setLocalRotationEuler=function($ppt){var $ppe,$ppi,$ppn;this._parent?($ppOn._quaternionCreateFromYawPitchRollArray($ppt[1]/$ppUn._angleToRandin,$ppt[0]/$ppUn._angleToRandin,$ppt[2]/$ppUn._angleToRandin,this._localRotation),this._localRotationEuler=$ppt,this._locaEulerlUpdate=!1,this._localQuaternionUpdate=!1,this._localUpdate=!0,this._onWorldTransform()):($ppe=this._entity.owner._transform,($ppn=($ppi=this._entity.localRotationEuler).elements)[0]=$ppt[0],$ppn[1]=$ppt[1],$ppn[2]=$ppt[2],$ppe.localRotationEuler=$ppi)},$ppa.getWorldMatrix=function(){if(this._worldUpdate){if(null!=this._parent._parent)$ppOn.matrix4x4MultiplyFFF(this._parent.getWorldMatrix(),this._getlocalMatrix(),this._worldMatrix);else{var $ppt=this._getlocalMatrix();for(var $ppe=0;$ppe<16;++$ppe)this._worldMatrix[$ppe]=$ppt[$ppe]}this._worldUpdate=!1}return this._worldMatrix},$ppa.setParent=function($ppt){var $ppe,$ppi;this._parent!==$ppt&&(this._parent&&($ppi=($ppe=this._parent._childs).indexOf(this),$ppe.splice($ppi,1)),$ppt&&($ppt._childs.push(this),$ppt&&this._onWorldTransform()),this._parent=$ppt)},$ppl($ppUn,["_tempVector3",function(){return this._tempVector3=new Float32Array(3)},"_angleToRandin",function(){return this._angleToRandin=180/Math.PI}]);var $ppkn=$ppUn;function $ppUn($ppt){$ppUn.__super.call(this),this._owner=$ppt,this._childs=[],this._localMatrix=new Float32Array(16),this._localQuaternionUpdate=!1,this._locaEulerlUpdate=!1,this._localUpdate=!1,this._worldUpdate=!0}$ppt($ppHn,"laya.d3.component.Component3D",$ppv),$ppa=$ppHn.prototype,$pph.imps($ppa,{"laya.d3.core.render.IUpdate":!0,"laya.resource.IDestroy":!0}),$ppa._initialize=function($ppt){this._owner=$ppt,this._enable=!0,this.started=!1,this._load($ppt)},$ppa._destroy=function(){this._unload(this._owner),this._owner=null,this._destroyed=!0},$ppa._load=function($ppt){},$ppa._start=function($ppt){},$ppa._update=function($ppt){},$ppa._lateUpdate=function($ppt){},$ppa._preRenderUpdate=function($ppt){},$ppa._postRenderUpdate=function($ppt){},$ppa._unload=function($ppt){this.offAll()},$ppa._cloneTo=function($ppt){},$ppe(0,$ppa,"id",function(){return this._id}),$ppe(0,$ppa,"destroyed",function(){return this._destroyed}),$ppe(0,$ppa,"owner",function(){return this._owner}),$ppe(0,$ppa,"enable",function(){return this._enable},function($ppt){this._enable!==$ppt&&(this._enable=$ppt,this.event("enablechanged",this._enable))}),$ppe(0,$ppa,"isSingleton",function(){return $ppHn._isSingleton}),$ppHn._isSingleton=!0,$ppHn._uniqueIDCounter=1;$ppa=$ppHn;function $ppHn(){this._destroyed=!1,this._id=0,this._enable=!1,this._owner=null,this.started=!1,$ppHn.__super.call(this),this._destroyed=!1,this._id=$ppHn._uniqueIDCounter,$ppHn._uniqueIDCounter++}$ppt($ppzn,"laya.d3.core.GeometryFilter",$ppv),$ppjr=$ppzn.prototype,$pph.imps($ppjr,{"laya.resource.IDestroy":!0}),$ppjr._destroy=function(){this.offAll(),this._destroyed=!0},$ppe(0,$ppjr,"_isAsyncLoaded",function(){return!0}),$ppe(0,$ppjr,"_originalBoundingBoxCorners",function(){throw new Error("BaseRender: must override it.")}),$ppe(0,$ppjr,"_originalBoundingSphere",function(){throw new Error("BaseRender: must override it.")}),$ppe(0,$ppjr,"_originalBoundingBox",function(){throw new Error("BaseRender: must override it.")}),$ppe(0,$ppjr,"destroyed",function(){return this._destroyed});$ppjr=$ppzn;function $ppzn(){this._destroyed=!1,$ppzn.__super.call(this),this._destroyed=!1}$ppt($ppGn,"laya.d3.core.render.BaseRender",$ppv),$ppQr=$ppGn.prototype,$pph.imps($ppQr,{"laya.resource.IDestroy":!0}),$ppQr._changeMaterialReference=function($ppt,$ppe){$ppt&&$ppt._removeReference(),$ppe._addReference()},$ppQr._getInstanceMaterial=function($ppt,$ppe){var $ppi=new $ppt.constructor;return $ppt.cloneTo($ppi),$ppi.name=$ppi.name+"(Instance)",this._materialsInstance[$ppe]=!0,this._changeMaterialReference(this._materials[$ppe],$ppi),this._materials[$ppe]=$ppi},$ppQr._setShaderValuelightMap=function($ppt){this._setShaderValueTexture(3,$ppt)},$ppQr._onWorldMatNeedChange=function(){this._boundingSphereNeedChange=!0,this._boundingBoxNeedChange=!0,this._boundingBoxCenterNeedChange=!0,this._octreeNodeNeedChange=!0},$ppQr._renderRenderableBoundBox=function(){var $ppt=$ppVn._debugPhasorSprite;var $ppe=this.boundingBox;var $ppi=$ppGn._tempBoundBoxCorners;$ppe.getCorners($ppi),$ppt.line($ppi[0],$ppGn._greenColor,$ppi[1],$ppGn._greenColor),$ppt.line($ppi[2],$ppGn._greenColor,$ppi[3],$ppGn._greenColor),$ppt.line($ppi[4],$ppGn._greenColor,$ppi[5],$ppGn._greenColor),$ppt.line($ppi[6],$ppGn._greenColor,$ppi[7],$ppGn._greenColor),$ppt.line($ppi[0],$ppGn._greenColor,$ppi[3],$ppGn._greenColor),$ppt.line($ppi[1],$ppGn._greenColor,$ppi[2],$ppGn._greenColor),$ppt.line($ppi[2],$ppGn._greenColor,$ppi[6],$ppGn._greenColor),$ppt.line($ppi[3],$ppGn._greenColor,$ppi[7],$ppGn._greenColor),$ppt.line($ppi[0],$ppGn._greenColor,$ppi[4],$ppGn._greenColor),$ppt.line($ppi[1],$ppGn._greenColor,$ppi[5],$ppGn._greenColor),$ppt.line($ppi[4],$ppGn._greenColor,$ppi[7],$ppGn._greenColor),$ppt.line($ppi[5],$ppGn._greenColor,$ppi[6],$ppGn._greenColor)},$ppQr._calculateBoundingSphere=function(){throw"BaseRender: must override it."},$ppQr._calculateBoundingBox=function(){throw"BaseRender: must override it."},$ppQr._setShaderValueTexture=function($ppt,$ppe){this._owner._shaderValues.setValue($ppt,$ppe)},$ppQr._setShaderValueMatrix4x4=function($ppt,$ppe){this._owner._shaderValues.setValue($ppt,$ppe?$ppe.elements:null)},$ppQr._setShaderValueColor=function($ppt,$ppe){this._owner._shaderValues.setValue($ppt,$ppe?$ppe.elements:null)},$ppQr._setShaderValueBuffer=function($ppt,$ppe){this._owner._shaderValues.setValue($ppt,$ppe)},$ppQr._setShaderValueInt=function($ppt,$ppe){this._owner._shaderValues.setValue($ppt,$ppe)},$ppQr._setShaderValueBool=function($ppt,$ppe){this._owner._shaderValues.setValue($ppt,$ppe)},$ppQr._setShaderValueNumber=function($ppt,$ppe){this._owner._shaderValues.setValue($ppt,$ppe)},$ppQr._setShaderValueVector2=function($ppt,$ppe){this._owner._shaderValues.setValue($ppt,$ppe?$ppe.elements:null)},$ppQr._addShaderDefine=function($ppt){this._owner._shaderDefineValue|=$ppt},$ppQr._removeShaderDefine=function($ppt){this._owner._shaderDefineValue&=~$ppt},$ppQr._renderUpdate=function($ppt){return!0},$ppQr._applyLightMapParams=function(){var $ppt,$ppe;0<=this._lightmapIndex&&($ppt=this._owner.scene)&&($ppe=$ppt.getlightmaps()[this._lightmapIndex])?(this._addShaderDefine($ppis.SAHDERDEFINE_LIGHTMAP),$ppe.loaded?this._setShaderValuelightMap($ppe):$ppe.once("loaded",this,this._setShaderValuelightMap)):this._removeShaderDefine($ppis.SAHDERDEFINE_LIGHTMAP)},$ppQr._updateOctreeNode=function(){var $ppt=this._treeNode;$ppt&&this._octreeNodeNeedChange&&($ppt.updateObject(this),this._octreeNodeNeedChange=!1)},$ppQr._destroy=function(){this.offAll();var $ppt=0,$ppe=0;for($ppt=0,$ppe=this._renderElements.length;$ppt<$ppe;$ppt++)this._renderElements[$ppt]._destroy();for($ppt=0,$ppe=this._materials.length;$ppt<$ppe;$ppt++)this._materials[$ppt]._removeReference();this._renderElements=null,this._owner=null,this._materials=null,this._boundingBox=null,this._boundingBoxCenter=null,this._boundingSphere=null,this._lightmapScaleOffset=null,this._destroyed=!0},$ppe(0,$ppQr,"boundingSphere",function(){return this._boundingSphereNeedChange&&(this._calculateBoundingSphere(),this._boundingSphereNeedChange=!1),this._boundingSphere}),$ppe(0,$ppQr,"id",function(){return this._id}),$ppe(0,$ppQr,"material",function(){var $ppt=this._materials[0];return $ppt&&!this._materialsInstance[0]&&($ppt=this._getInstanceMaterial($ppt,0),this.event("materialchanged",[this,0,$ppt])),this._materials[0]},function($ppt){this.sharedMaterial=$ppt}),$ppe(0,$ppQr,"sharedMaterial",function(){return this._materials[0]},function($ppt){var $ppe=this._materials[0];$ppe!==$ppt&&(this._materials[0]=$ppt,this._materialsInstance[0]=!1,this._changeMaterialReference($ppe,$ppt),this.event("materialchanged",[this,0,$ppt]))}),$ppe(0,$ppQr,"lightmapIndex",function(){return this._lightmapIndex},function($ppt){this._lightmapIndex=$ppt,this._applyLightMapParams()}),$ppe(0,$ppQr,"lightmapScaleOffset",function(){return this._lightmapScaleOffset},function($ppt){this._lightmapScaleOffset=$ppt,this._setShaderValueColor(2,$ppt),this._addShaderDefine($ppis.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV)}),$ppe(0,$ppQr,"enable",function(){return this._enable},function($ppt){this._enable=$ppt,this.event("enablechanged",[this,$ppt])}),$ppe(0,$ppQr,"materials",function(){for(var $ppt=0,$ppe=this._materials.length;$ppt<$ppe;$ppt++){var $ppi;this._materialsInstance[$ppt]||($ppi=this._getInstanceMaterial(this._materials[$ppt],$ppt),this.event("materialchanged",[this,$ppt,$ppi]))}return this._materials.slice()},function($ppt){this.sharedMaterials=$ppt}),$ppe(0,$ppQr,"sharedMaterials",function(){return this._materials.slice()},function($ppt){if(!$ppt)throw new Error("MeshRender: shadredMaterials value can't be null.");var $ppe=$ppt.length;this._materialsInstance.length=$ppe;for(var $ppi=0;$ppi<$ppe;$ppi++){var $ppn=this._materials[$ppi];$ppn!==$ppt[$ppi]&&(this._materialsInstance[$ppi]=!1,this._changeMaterialReference($ppn,$ppt[$ppi]),this.event("materialchanged",[this,$ppi,$ppt[$ppi]]))}this._materials=$ppt}),$ppe(0,$ppQr,"boundingBox",function(){return this._boundingBoxNeedChange&&(this._calculateBoundingBox(),this._boundingBoxNeedChange=!1),this._boundingBox}),$ppe(0,$ppQr,"boundingBoxCenter",function(){var $ppt;return this._boundingBoxCenterNeedChange&&($ppt=this.boundingBox,$ppD.add($ppt.min,$ppt.max,this._boundingBoxCenter),$ppD.scale(this._boundingBoxCenter,.5,this._boundingBoxCenter),this._boundingBoxCenterNeedChange=!1),this._boundingBoxCenter}),$ppe(0,$ppQr,"receiveShadow",function(){return this._receiveShadow},function($ppt){this._receiveShadow!==$ppt&&((this._receiveShadow=$ppt)?this._addShaderDefine($ppMn.SHADERDEFINE_RECEIVE_SHADOW):this._removeShaderDefine($ppMn.SHADERDEFINE_RECEIVE_SHADOW))}),$ppe(0,$ppQr,"destroyed",function(){return this._destroyed}),$ppGn._uniqueIDCounter=0,$ppl($ppGn,["_tempBoundBoxCorners",function(){return this._tempBoundBoxCorners=[new $ppD,new $ppD,new $ppD,new $ppD,new $ppD,new $ppD,new $ppD,new $ppD]},"_greenColor",function(){return this._greenColor=new $ppfn(0,1,0,1)}]);var $ppWn=$ppGn;function $ppGn($ppt){$ppGn.__super.call(this),this._id=++$ppGn._uniqueIDCounter,this._indexInSceneFrustumCullingObjects=-1,this._boundingBox=new $ppWi(new $ppD,new $ppD),this._boundingBoxCenter=new $ppD,this._boundingSphere=new $ppji(new $ppD,0),this._boundingSphereNeedChange=!0,this._boundingBoxNeedChange=!0,this._boundingBoxCenterNeedChange=!0,this._octreeNodeNeedChange=!0,this._materials=[],this._renderElements=[],this._isPartOfStaticBatch=!1,this._destroyed=!1,this._owner=$ppt,this._enable=!0,this._materialsInstance=[],this.lightmapIndex=-1,this.castShadow=!1,this.receiveShadow=!1,this.sortingFudge=0,this._owner.transform.on("worldmatrixneedchanged",this,this._onWorldMatNeedChange)}$ppt($ppXn,"laya.d3.core.Transform3D",$ppv),($ppQr=$ppXn.prototype)._updateLocalMatrix=function(){var $ppt,$ppe,$ppi,$ppn;!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?$pptn.createAffineTransformation(this._localPosition,this.localRotation,this._localScale,this._localMatrix):($ppD.multiply(this.pivot,this._localScale,$ppn=$ppXn._tempVector30),$ppD.subtract($ppn,this.pivot,$ppt=$ppXn._tempVector31),$ppi=this.localRotation,$ppD.transformQuat($ppn,$ppi,$ppe=$ppXn._tempVector32),$ppD.subtract($ppe,$ppn,$ppe),$ppD.subtract(this._localPosition,$ppt,$ppn=$ppXn._tempVector33),$ppD.subtract($ppn,$ppe,$ppn),$pptn.createAffineTransformation($ppn,$ppi,this._localScale,this._localMatrix))},$ppQr._onWorldPositionRotationTransform=function(){if(!this._worldUpdate||!this._positionUpdate||!this._rotationUpdate){this._worldUpdate=this._positionUpdate=this._rotationUpdate=!0,this.event("worldmatrixneedchanged");for(var $ppt=0,$ppe=this._childs.length;$ppt<$ppe;$ppt++)this._childs[$ppt]._onWorldPositionRotationTransform()}},$ppQr._onWorldPositionScaleTransform=function(){if(!this._worldUpdate||!this._positionUpdate||!this._scaleUpdate){this._worldUpdate=this._positionUpdate=this._scaleUpdate=!0,this.event("worldmatrixneedchanged");for(var $ppt=0,$ppe=this._childs.length;$ppt<$ppe;$ppt++)this._childs[$ppt]._onWorldPositionScaleTransform()}},$ppQr._onWorldPositionTransform=function(){if(!this._worldUpdate||!this._positionUpdate){this._worldUpdate=this._positionUpdate=!0,this.event("worldmatrixneedchanged");for(var $ppt=0,$ppe=this._childs.length;$ppt<$ppe;$ppt++)this._childs[$ppt]._onWorldPositionTransform()}},$ppQr._onWorldRotationTransform=function(){if(!this._worldUpdate||!this._rotationUpdate){this._worldUpdate=this._rotationUpdate=!0,this.event("worldmatrixneedchanged");for(var $ppt=0,$ppe=this._childs.length;$ppt<$ppe;$ppt++)this._childs[$ppt]._onWorldPositionRotationTransform()}},$ppQr._onWorldScaleTransform=function(){if(!this._worldUpdate||!this._scaleUpdate){this._worldUpdate=this._scaleUpdate=!0,this.event("worldmatrixneedchanged");for(var $ppt=0,$ppe=this._childs.length;$ppt<$ppe;$ppt++)this._childs[$ppt]._onWorldPositionScaleTransform()}},$ppQr._onWorldTransform=function(){if(!(this._worldUpdate&&this._positionUpdate&&this._rotationUpdate&&this._scaleUpdate)){this._worldUpdate=this._positionUpdate=this._rotationUpdate=this._scaleUpdate=!0,this.event("worldmatrixneedchanged");for(var $ppt=0,$ppe=this._childs.length;$ppt<$ppe;$ppt++)this._childs[$ppt]._onWorldTransform()}},$ppQr.translate=function($ppt,$ppe){($ppe=void 0===$ppe?!0:$ppe)?($pptn.createFromQuaternion(this.localRotation,$ppXn._tempMatrix0),$ppD.transformCoordinate($ppt,$ppXn._tempMatrix0,$ppXn._tempVector30),$ppD.add(this.localPosition,$ppXn._tempVector30,this._localPosition),this.localPosition=this._localPosition):($ppD.add(this.position,$ppt,this._position),this.position=this._position)},$ppQr.rotate=function($ppt,$ppe,$ppi){void 0===$ppe&&($ppe=!0),$ppi=($ppi=void 0===$ppi?!0:$ppi)?$ppt:($ppD.scale($ppt,Math.PI/180,$ppXn._tempVector30),$ppXn._tempVector30),$pprn.createFromYawPitchRoll($ppi.y,$ppi.x,$ppi.z,$ppXn._tempQuaternion0),$ppe?($pprn.multiply(this._localRotation,$ppXn._tempQuaternion0,this._localRotation),this.localRotation=this._localRotation):($pprn.multiply($ppXn._tempQuaternion0,this.rotation,this._rotation),this.rotation=this._rotation)},$ppQr.lookAt=function($ppt,$ppe,$ppi){var $ppn=$ppt.elements;var $ppr;($ppi=void 0===$ppi?!1:$ppi)?($ppr=this._localPosition.elements,Math.abs($ppr[0]-$ppn[0])<$pp$i.zeroTolerance&&Math.abs($ppr[1]-$ppn[1])<$pp$i.zeroTolerance&&Math.abs($ppr[2]-$ppn[2])<$pp$i.zeroTolerance||($pprn.lookAt(this._localPosition,$ppt,$ppe,this._localRotation),this._localRotation.invert(this._localRotation),this.localRotation=this._localRotation)):($ppr=($ppi=this.position).elements,Math.abs($ppr[0]-$ppn[0])<$pp$i.zeroTolerance&&Math.abs($ppr[1]-$ppn[1])<$pp$i.zeroTolerance&&Math.abs($ppr[2]-$ppn[2])<$pp$i.zeroTolerance||($pprn.lookAt($ppi,$ppt,$ppe,this._rotation),this._rotation.invert(this._rotation),this.rotation=this._rotation))},$ppe(0,$ppQr,"_isFrontFaceInvert",function(){var $ppt=this.scale;var $ppe=$ppt.x<0;return $ppt.y<0&&($ppe=!$ppe),$ppe=$ppt.z<0?!$ppe:$ppe}),$ppe(0,$ppQr,"owner",function(){return this._owner}),$ppe(0,$ppQr,"localRotation",function(){var $ppt;return this._localQuaternionUpdate&&($ppt=this._localRotationEuler.elements,$pprn.createFromYawPitchRoll($ppt[1]/$ppXn._angleToRandin,$ppt[0]/$ppXn._angleToRandin,$ppt[2]/$ppXn._angleToRandin,this._localRotation)),this._localRotation},function($ppt){this._localRotation=$ppt,this._localRotation.normalize(this._localRotation),this._locaEulerlUpdate=!0,this._localQuaternionUpdate=!1,this._localUpdate=!0,!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?this._onWorldRotationTransform():this._onWorldPositionRotationTransform()}),$ppe(0,$ppQr,"worldMatrix",function(){return this._worldUpdate&&(null!=this._parent?$pptn.multiply(this._parent.worldMatrix,this.localMatrix,this._worldMatrix):this.localMatrix.cloneTo(this._worldMatrix),this._worldUpdate=!1),this._worldMatrix},function($ppt){null===this._parent?$ppt.cloneTo(this._localMatrix):(this._parent.worldMatrix.invert(this._localMatrix),$pptn.multiply(this._localMatrix,$ppt,this._localMatrix)),this.localMatrix=this._localMatrix,this._worldMatrix=$ppt,this._worldUpdate=!1}),$ppe(0,$ppQr,"worldNeedUpdate",function(){return this._worldUpdate}),$ppe(0,$ppQr,"localMatrix",function(){return this._localUpdate&&(this._updateLocalMatrix(),this._localUpdate=!1),this._localMatrix},function($ppt){this._localMatrix=$ppt,this._localMatrix.decomposeTransRotScale(this._localPosition,this._localRotation,this._localScale),this._localUpdate=!1,this._onWorldTransform()}),$ppe(0,$ppQr,"dummy",function(){return this._dummy},function($ppt){this._dummy!==$ppt&&(this._dummy&&(this._dummy._entity=null),$ppt&&($ppt._entity=this),this._dummy=$ppt)}),$ppe(0,$ppQr,"localPosition",function(){return this._localPosition},function($ppt){this._localPosition=$ppt,this._localUpdate=!0,this._onWorldPositionTransform()}),$ppe(0,$ppQr,"position",function(){var $ppt;return this._positionUpdate&&(null!=this._parent?($ppt=this._parent.position,$ppD.multiply(this._localPosition,this._parent.scale,$ppXn._tempVector30),$ppD.transformQuat($ppXn._tempVector30,this._parent.rotation,$ppXn._tempVector30),$ppD.add($ppt,$ppXn._tempVector30,this._position)):this._localPosition.cloneTo(this._position),this._positionUpdate=!1),this._position},function($ppt){var $ppe,$ppi,$ppn,$ppr,$pps;null!=this._parent?($ppD.subtract($ppt,this._parent.position,this._localPosition),$ppe=($ppn=this._parent.scale.elements)[0],$ppi=$ppn[1],$ppn=$ppn[2],1===$ppe&&1===$ppi&&1===$ppn||(($pps=($ppr=$ppXn._tempVector30).elements)[0]=1/$ppe,$pps[1]=1/$ppi,$pps[2]=1/$ppn,$ppD.multiply(this._localPosition,$ppr,this._localPosition)),this._parent.rotation.invert($ppXn._tempQuaternion0),$ppD.transformQuat(this._localPosition,$ppXn._tempQuaternion0,this._localPosition)):$ppt.cloneTo(this._localPosition),this.localPosition=this._localPosition,this._position=$ppt,this._positionUpdate=!1}),$ppe(0,$ppQr,"localScale",function(){return this._localScale},function($ppt){this._localScale=$ppt,this._localUpdate=!0,!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?this._onWorldScaleTransform():this._onWorldPositionScaleTransform()}),$ppe(0,$ppQr,"localRotationEuler",function(){var $ppt,$ppe;return this._locaEulerlUpdate&&(this._localRotation.getYawPitchRoll($ppXn._tempVector30),$ppt=$ppXn._tempVector30.elements,($ppe=this._localRotationEuler.elements)[0]=$ppt[1]*$ppXn._angleToRandin,$ppe[1]=$ppt[0]*$ppXn._angleToRandin,$ppe[2]=$ppt[2]*$ppXn._angleToRandin),this._localRotationEuler},function($ppt){this._localRotationEuler=$ppt,this._locaEulerlUpdate=!1,this._localQuaternionUpdate=!0,this._localUpdate=!0,!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?this._onWorldRotationTransform():this._onWorldPositionRotationTransform()}),$ppe(0,$ppQr,"rotation",function(){return this._rotationUpdate&&(null!=this._parent?$pprn.multiply(this._parent.rotation,this.localRotation,this._rotation):this.localRotation.cloneTo(this._rotation),this._rotationUpdate=!1),this._rotation},function($ppt){null!=this._parent?(this._parent.rotation.invert($ppXn._tempQuaternion0),$pprn.multiply($ppt,$ppXn._tempQuaternion0,this._localRotation)):$ppt.cloneTo(this._localRotation),this.localRotation=this._localRotation,this._rotation=$ppt,this._rotationUpdate=!1}),$ppe(0,$ppQr,"scale",function(){return this._scaleUpdate&&(null!==this._parent?$ppD.multiply(this._parent.scale,this._localScale,this._scale):this._localScale.cloneTo(this._scale),this._scaleUpdate=!1),this._scale},function($ppt){var $ppe,$ppi;null!==this._parent?($ppe=this._parent.scale.elements,($ppi=$ppXn._tempVector30.elements)[0]=1/$ppe[0],$ppi[1]=1/$ppe[1],$ppi[2]=1/$ppe[2],$ppD.multiply($ppt,$ppXn._tempVector30,this._localScale)):$ppt.cloneTo(this._localScale),this.localScale=this._localScale,this._scale=$ppt,this._scaleUpdate=!1}),$ppe(0,$ppQr,"rotationEuler",null,function($ppt){$pprn.createFromYawPitchRoll($ppt.y,$ppt.x,$ppt.z,this._rotation),this.rotation=this._rotation}),$ppe(0,$ppQr,"forward",function(){var $ppt=this.worldMatrix.elements;return this._forward.elements[0]=-$ppt[8],this._forward.elements[1]=-$ppt[9],this._forward.elements[2]=-$ppt[10],this._forward}),$ppe(0,$ppQr,"up",function(){var $ppt=this.worldMatrix.elements;return this._up.elements[0]=$ppt[4],this._up.elements[1]=$ppt[5],this._up.elements[2]=$ppt[6],this._up}),$ppe(0,$ppQr,"right",function(){var $ppt=this.worldMatrix.elements;return this._right.elements[0]=$ppt[0],this._right.elements[1]=$ppt[1],this._right.elements[2]=$ppt[2],this._right}),$ppe(0,$ppQr,"parent",function(){return this._parent},function($ppt){var $ppe,$ppi;this._parent!==$ppt&&(this._parent&&($ppi=($ppe=this._parent._childs).indexOf(this),$ppe.splice($ppi,1)),$ppt&&($ppt._childs.push(this),$ppt&&this._onWorldTransform()),this._parent=$ppt)}),$ppl($ppXn,["_tempVector30",function(){return this._tempVector30=new $ppD},"_tempVector31",function(){return this._tempVector31=new $ppD},"_tempVector32",function(){return this._tempVector32=new $ppD},"_tempVector33",function(){return this._tempVector33=new $ppD},"_tempQuaternion0",function(){return this._tempQuaternion0=new $pprn},"_tempMatrix0",function(){return this._tempMatrix0=new $pptn},"_angleToRandin",function(){return this._angleToRandin=180/Math.PI}]);var $ppYn=$ppXn;function $ppXn($ppt){this._owner=null,this._localQuaternionUpdate=!1,this._locaEulerlUpdate=!1,this._localUpdate=!1,this._worldUpdate=!0,this._positionUpdate=!0,this._rotationUpdate=!0,this._scaleUpdate=!0,this._parent=null,this._childs=null,this._dummy=null,this.pivot=null,$ppXn.__super.call(this),this._localPosition=new $ppD,this._localRotation=new $pprn(0,0,0,1),this._localScale=new $ppD(1,1,1),this._localRotationEuler=new $ppD,this._localMatrix=new $pptn,this._position=new $ppD,this._rotation=new $pprn(0,0,0,1),this._scale=new $ppD(1,1,1),this._worldMatrix=new $pptn,this._forward=new $ppD,this._up=new $ppD,this._right=new $ppD,this._owner=$ppt,this._childs=[]}$ppt($ppjn,"laya.d3.core.TransformUV",$ppv),$ppQr=$ppjn.prototype,$pph.imps($ppQr,{"laya.d3.core.IClone":!0}),$ppQr._updateMatrix=function(){$ppjn._tempOffsetV3.elements[0]=this._offset.x,$ppjn._tempOffsetV3.elements[1]=this._offset.y,$pprn.createFromYawPitchRoll(0,0,this._rotation,$ppjn._tempRotationQua),$ppjn._tempTitlingV3.elements[0]=this._tiling.x,$ppjn._tempTitlingV3.elements[1]=this._tiling.y,$pptn.createAffineTransformation($ppjn._tempOffsetV3,$ppjn._tempRotationQua,$ppjn._tempTitlingV3,this._matrix)},$ppQr.cloneTo=function($ppt){$ppt._matrix=this._matrix.clone(),$ppt._offset=this._offset.clone(),$ppt._rotation=this._rotation,$ppt._tiling=this._tiling.clone()},$ppQr.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppe(0,$ppQr,"matrix",function(){return this._matNeedUpdte&&(this._updateMatrix(),this._matNeedUpdte=!1),this._matrix}),$ppe(0,$ppQr,"tiling",function(){return this._tiling},function($ppt){this._tiling=$ppt,this._matNeedUpdte=!0}),$ppe(0,$ppQr,"offset",function(){return this._offset},function($ppt){this._offset=$ppt,this._matNeedUpdte=!0}),$ppe(0,$ppQr,"rotation",function(){return this._rotation},function($ppt){this._rotation=$ppt,this._matNeedUpdte=!0}),$ppl($ppjn,["_tempOffsetV3",function(){return this._tempOffsetV3=new $ppD(0,0,0)},"_tempRotationQua",function(){return this._tempRotationQua=new $pprn},"_tempTitlingV3",function(){return this._tempTitlingV3=new $ppD(1,1,1)}]);function $ppjn(){this._rotation=0,this._matNeedUpdte=!1,$ppjn.__super.call(this),this._matrix=new $pptn,this._offset=new $ppun,this._tiling=new $ppun(1,1)}$ppt($ppKn,"laya.d3.core.particleShuriKen.module.shape.BoxShape",$ppqn=$ppr),($ppv=$ppKn.prototype)._getShapeBoundBox=function($ppt){var $ppe=$ppt.min.elements;$ppe[0]=.5*-this.x,$ppe[1]=.5*-this.y,$ppe[2]=.5*-this.z;$ppe=$ppt.max.elements;$ppe[0]=.5*this.x,$ppe[1]=.5*this.y,$ppe[2]=.5*this.z},$ppv._getSpeedBoundBox=function($ppt){var $ppe=$ppt.min.elements;$ppe[0]=0,$ppe[1]=0,$ppe[2]=0;$ppe=$ppt.max.elements;$ppe[0]=0,$ppe[1]=1,$ppe[2]=0},$ppv.generatePositionAndDirection=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt.elements;var $pps=$ppe.elements;$ppi?($ppi.seed=$ppn[16],$ppgt._randomPointInsideHalfUnitBox($ppt,$ppi),$ppn[16]=$ppi.seed):$ppgt._randomPointInsideHalfUnitBox($ppt),$ppr[0]=this.x*$ppr[0],$ppr[1]=this.y*$ppr[1],$ppr[2]=this.z*$ppr[2],this.randomDirection?$ppi?($ppi.seed=$ppn[17],$ppgt._randomPointUnitSphere($ppe,$ppi),$ppn[17]=$ppi.seed):$ppgt._randomPointUnitSphere($ppe):($pps[0]=0,$pps[1]=0,$pps[2]=1)},$ppv.cloneTo=function($ppt){$ppqn.prototype.cloneTo.call(this,$ppt);$ppt.x=this.x,$ppt.y=this.y,$ppt.z=this.z,$ppt.randomDirection=this.randomDirection};function $ppKn(){this.x=NaN,this.y=NaN,this.z=NaN,$ppKn.__super.call(this),this.x=1,this.y=1,this.z=1,this.randomDirection=!1}var $ppqn;$ppt($pp$n,"laya.d3.core.particleShuriKen.module.shape.CircleShape",$ppZn=$ppr),($ppQr=$pp$n.prototype)._getShapeBoundBox=function($ppt){var $ppe=$ppt.min.elements;$ppe[0]=$ppe[2]=-this.radius,$ppe[1]=0;$ppe=$ppt.max.elements;$ppe[0]=$ppe[2]=this.radius,$ppe[1]=0},$ppQr._getSpeedBoundBox=function($ppt){var $ppe=$ppt.min.elements;$ppe[0]=$ppe[1]=-1,$ppe[2]=0;$ppe=$ppt.max.elements;$ppe[0]=$ppe[1]=1,$ppe[2]=0},$ppQr.generatePositionAndDirection=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt.elements;var $pps=$pp$n._tempPositionPoint.elements;$ppi?($ppi.seed=$ppn[16],this.emitFromEdge?$ppgt._randomPointUnitArcCircle(this.arc,$pp$n._tempPositionPoint,$ppi):$ppgt._randomPointInsideUnitArcCircle(this.arc,$pp$n._tempPositionPoint,$ppi),$ppn[16]=$ppi.seed):this.emitFromEdge?$ppgt._randomPointUnitArcCircle(this.arc,$pp$n._tempPositionPoint):$ppgt._randomPointInsideUnitArcCircle(this.arc,$pp$n._tempPositionPoint),$ppr[0]=-$pps[0],$ppr[1]=$pps[1],$ppr[2]=0,$ppD.scale($ppt,this.radius,$ppt),this.randomDirection?$ppi?($ppi.seed=$ppn[17],$ppgt._randomPointUnitSphere($ppe,$ppi),$ppn[17]=$ppi.seed):$ppgt._randomPointUnitSphere($ppe):$ppt.cloneTo($ppe)},$ppQr.cloneTo=function($ppt){$ppZn.prototype.cloneTo.call(this,$ppt);$ppt.radius=this.radius,$ppt.arc=this.arc,$ppt.emitFromEdge=this.emitFromEdge,$ppt.randomDirection=this.randomDirection},$ppl($pp$n,["_tempPositionPoint",function(){return this._tempPositionPoint=new $ppun}]);function $pp$n(){this.radius=NaN,this.arc=NaN,this.emitFromEdge=!1,$pp$n.__super.call(this),this.radius=1,this.arc=2*Math.PI,this.emitFromEdge=!1,this.randomDirection=!1}var $ppZn;$ppt($ppQn,"laya.d3.core.particleShuriKen.module.shape.ConeShape",$ppJn=$ppr),($ppv=$ppQn.prototype)._getShapeBoundBox=function($ppt){var $ppe=this.radius+this.length*Math.sin(this.angle);var $ppi=this.length*Math.cos(this.angle);var $ppn=$ppt.min.elements;$ppn[0]=$ppn[1]=-$ppe,$ppn[2]=0;$ppn=$ppt.max.elements;$ppn[0]=$ppn[1]=$ppe,$ppn[2]=$ppi},$ppv._getSpeedBoundBox=function($ppt){var $ppe=Math.sin(this.angle);var $ppi=$ppt.min.elements;$ppi[0]=$ppi[1]=-$ppe,$ppi[2]=0;$ppt=$ppt.max.elements;$ppt[0]=$ppi[1]=$ppe,$ppt[2]=1},$ppv.generatePositionAndDirection=function($ppc,$ppt,$ppe,$ppi){var $ppn=$ppc.elements;var $ppr=$ppt.elements;var $pps=$ppQn._tempPositionPoint.elements;var $ppa=NaN;var $ppo=NaN;var $pph;var $ppu=Math.cos(this.angle);var $ppl=Math.sin(this.angle);switch(this.emitType){case 0:$ppe?($ppe.seed=$ppi[16],$ppgt._randomPointInsideUnitCircle($ppQn._tempPositionPoint,$ppe),$ppi[16]=$ppe.seed):$ppgt._randomPointInsideUnitCircle($ppQn._tempPositionPoint),$ppa=$pps[0],$ppo=$pps[1],$ppn[0]=$ppa*this.radius,$ppn[1]=$ppo*this.radius,$ppn[2]=0,this.randomDirection?($ppe?($ppe.seed=$ppi[17],$ppgt._randomPointInsideUnitCircle($ppQn._tempDirectionPoint,$ppe),$ppi[17]=$ppe.seed):$ppgt._randomPointInsideUnitCircle($ppQn._tempDirectionPoint),$pph=$ppQn._tempDirectionPoint.elements,$ppr[0]=$pph[0]*$ppl,$ppr[1]=$pph[1]*$ppl):($ppr[0]=$ppa*$ppl,$ppr[1]=$ppo*$ppl),$ppr[2]=$ppu;break;case 1:$ppe?($ppe.seed=$ppi[16],$ppgt._randomPointUnitCircle($ppQn._tempPositionPoint,$ppe),$ppi[16]=$ppe.seed):$ppgt._randomPointUnitCircle($ppQn._tempPositionPoint),$ppa=$pps[0],$ppo=$pps[1],$ppn[0]=$ppa*this.radius,$ppn[1]=$ppo*this.radius,$ppn[2]=0,this.randomDirection?($ppe?($ppe.seed=$ppi[17],$ppgt._randomPointInsideUnitCircle($ppQn._tempDirectionPoint,$ppe),$ppi[17]=$ppe.seed):$ppgt._randomPointInsideUnitCircle($ppQn._tempDirectionPoint),$pph=$ppQn._tempDirectionPoint.elements,$ppr[0]=$pph[0]*$ppl,$ppr[1]=$pph[1]*$ppl):($ppr[0]=$ppa*$ppl,$ppr[1]=$ppo*$ppl),$ppr[2]=$ppu;break;case 2:$ppe?($ppe.seed=$ppi[16],$ppgt._randomPointInsideUnitCircle($ppQn._tempPositionPoint,$ppe)):$ppgt._randomPointInsideUnitCircle($ppQn._tempPositionPoint),$ppa=$pps[0],$ppo=$pps[1],$ppn[0]=$ppa*this.radius,$ppn[1]=$ppo*this.radius,$ppr[$ppn[2]=0]=$ppa*$ppl,$ppr[1]=$ppo*$ppl,$ppr[2]=$ppu,$ppD.normalize($ppt,$ppt),$ppe?($ppD.scale($ppt,this.length*$ppe.getFloat(),$ppt),$ppi[16]=$ppe.seed):$ppD.scale($ppt,this.length*Math.random(),$ppt),$ppD.add($ppc,$ppt,$ppc),this.randomDirection&&($ppe?($ppe.seed=$ppi[17],$ppgt._randomPointUnitSphere($ppt,$ppe),$ppi[17]=$ppe.seed):$ppgt._randomPointUnitSphere($ppt));break;case 3:$ppe?($ppe.seed=$ppi[16],$ppgt._randomPointUnitCircle($ppQn._tempPositionPoint,$ppe)):$ppgt._randomPointUnitCircle($ppQn._tempPositionPoint),$ppa=$pps[0],$ppo=$pps[1],$ppn[0]=$ppa*this.radius,$ppn[1]=$ppo*this.radius,$ppr[$ppn[2]=0]=$ppa*$ppl,$ppr[1]=$ppo*$ppl,$ppr[2]=$ppu,$ppD.normalize($ppt,$ppt),$ppe?($ppD.scale($ppt,this.length*$ppe.getFloat(),$ppt),$ppi[16]=$ppe.seed):$ppD.scale($ppt,this.length*Math.random(),$ppt),$ppD.add($ppc,$ppt,$ppc),this.randomDirection&&($ppe?($ppe.seed=$ppi[17],$ppgt._randomPointUnitSphere($ppt,$ppe),$ppi[17]=$ppe.seed):$ppgt._randomPointUnitSphere($ppt));break;default:throw new Error("ConeShape:emitType is invalid.")}},$ppv.cloneTo=function($ppt){$ppJn.prototype.cloneTo.call(this,$ppt);$ppt.angle=this.angle,$ppt.radius=this.radius,$ppt.length=this.length,$ppt.emitType=this.emitType,$ppt.randomDirection=this.randomDirection},$ppl($ppQn,["_tempPositionPoint",function(){return this._tempPositionPoint=new $ppun},"_tempDirectionPoint",function(){return this._tempDirectionPoint=new $ppun}]);function $ppQn(){this.angle=NaN,this.radius=NaN,this.length=NaN,this.emitType=0,$ppQn.__super.call(this),this.angle=25/180*Math.PI,this.radius=1,this.length=5,this.emitType=0,this.randomDirection=!1}var $ppJn;$ppt($pptr,"laya.d3.core.particleShuriKen.module.shape.HemisphereShape",$pper=$ppr),($ppQr=$pptr.prototype)._getShapeBoundBox=function($ppt){var $ppe=$ppt.min.elements;$ppe[0]=$ppe[1]=$ppe[2]=-this.radius;$ppe=$ppt.max.elements;$ppe[0]=$ppe[1]=this.radius,$ppe[2]=0},$ppQr._getSpeedBoundBox=function($ppt){var $ppe=$ppt.min.elements;$ppe[0]=$ppe[1]=-1,$ppe[2]=0;$ppe=$ppt.max.elements;$ppe[0]=$ppe[1]=$ppe[2]=1},$ppQr.generatePositionAndDirection=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt.elements;$ppi?($ppi.seed=$ppn[16],this.emitFromShell?$ppgt._randomPointUnitSphere($ppt,$ppi):$ppgt._randomPointInsideUnitSphere($ppt,$ppi),$ppn[16]=$ppi.seed):this.emitFromShell?$ppgt._randomPointUnitSphere($ppt):$ppgt._randomPointInsideUnitSphere($ppt),$ppD.scale($ppt,this.radius,$ppt);var $pps=$ppr[2];$pps<0&&($ppr[2]=-1*$pps),this.randomDirection?$ppi?($ppi.seed=$ppn[17],$ppgt._randomPointUnitSphere($ppe,$ppi),$ppn[17]=$ppi.seed):$ppgt._randomPointUnitSphere($ppe):$ppt.cloneTo($ppe)},$ppQr.cloneTo=function($ppt){$pper.prototype.cloneTo.call(this,$ppt);$ppt.radius=this.radius,$ppt.emitFromShell=this.emitFromShell,$ppt.randomDirection=this.randomDirection};function $pptr(){this.radius=NaN,this.emitFromShell=!1,$pptr.__super.call(this),this.radius=1,this.emitFromShell=!1,this.randomDirection=!1}var $pper;$ppt($ppir,"laya.d3.core.particleShuriKen.module.shape.SphereShape",$ppnr=$ppr),($ppv=$ppir.prototype)._getShapeBoundBox=function($ppt){var $ppe=$ppt.min.elements;$ppe[0]=$ppe[1]=$ppe[2]=-this.radius;$ppe=$ppt.max.elements;$ppe[0]=$ppe[1]=$ppe[2]=this.radius},$ppv._getSpeedBoundBox=function($ppt){var $ppe=$ppt.min.elements;$ppe[0]=$ppe[1]=$ppe[2]=-1;$ppe=$ppt.max.elements;$ppe[0]=$ppe[1]=$ppe[2]=1},$ppv.generatePositionAndDirection=function($ppt,$ppe,$ppi,$ppn){$ppi?($ppi.seed=$ppn[16],this.emitFromShell?$ppgt._randomPointUnitSphere($ppt,$ppi):$ppgt._randomPointInsideUnitSphere($ppt,$ppi),$ppn[16]=$ppi.seed):this.emitFromShell?$ppgt._randomPointUnitSphere($ppt):$ppgt._randomPointInsideUnitSphere($ppt),$ppD.scale($ppt,this.radius,$ppt),this.randomDirection?$ppi?($ppi.seed=$ppn[17],$ppgt._randomPointUnitSphere($ppe,$ppi),$ppn[17]=$ppi.seed):$ppgt._randomPointUnitSphere($ppe):$ppt.cloneTo($ppe)},$ppv.cloneTo=function($ppt){$ppnr.prototype.cloneTo.call(this,$ppt);$ppt.radius=this.radius,$ppt.emitFromShell=this.emitFromShell,$ppt.randomDirection=this.randomDirection};function $ppir(){this.radius=NaN,this.emitFromShell=!1,$ppir.__super.call(this),this.radius=1,this.emitFromShell=!1,this.randomDirection=!1}var $ppnr;$ppt($ppsr,"laya.d3.core.render.SubMeshRenderElement",$ppMt);var $pprr=$ppsr;function $ppsr(){this._batchIndexStart=0,this._batchIndexEnd=0,this._skinAnimationDatas=null,$ppsr.__super.call(this)}$ppt($ppor,"laya.d3.shader.ShaderCompile3D",$ppR),($ppQr=$ppor.prototype)._definesToNameDic=function($ppt,$ppe){var $ppi={};var $ppn;for(var $ppr=0;$ppr<32&&!($ppt<($ppn=1<<$ppr));$ppr++){var $pps;$ppt&$ppn&&(($pps=$ppe[$ppn])&&($ppi[$pps]=""))}return $ppi},$ppQr.withCompile=function($ppt,$ppe,$ppi){var $ppn;var $ppr;if($pps=this.sharders[$ppt])if($ppr=$pps[$ppe]){if($ppn=$ppr[$ppi])return $ppn}else $ppr=$pps[$ppe]=[];else $ppr=($pps=this.sharders[$ppt]=[])[$ppe]=[];var $pps=this._definesToNameDic($ppt,$ppor._globalInt2name);var $ppa=this._definesToNameDic($ppe,this._spriteInt2name);var $ppc=this._definesToNameDic($ppi,this._materialInt2name);laya.d3.shader.ShaderCompile3D.debugMode&&"custom_particle_shader"==$ppIr.nameKey.getName(this._name)&&console.log("shaderCompile.precompileShaderWithShaderDefine(",$ppt,",",$ppe,",",$ppi,")");var $ppo={};var $pph="";if($pps)for(var $ppl in $pps)$pph+="#define "+$ppl+"\n",$ppo[$ppl]=!0;if($ppa)for($ppl in $ppa)$pph+="#define "+$ppl+"\n",$ppo[$ppl]=!0;if($ppc)for($ppl in $ppc)$pph+="#define "+$ppl+"\n",$ppo[$ppl]=!0;$ppt=this._VS.toscript($ppo,[]);$ppe=this._PS.toscript($ppo,[]);return $ppn=$ppIr.create($pph+$ppt.join("\n"),$pph+$ppe.join("\n"),this._attributeMap,this._sceneUniformMap,this._cameraUniformMap,this._spriteUniformMap,this._materialUniformMap,this._renderElementUniformMap),$ppr[$ppi]=$ppn},$ppQr.precompileShaderWithShaderDefine=function($ppt,$ppe,$ppi){this.withCompile($ppt,$ppe,$ppi)},$ppQr.addMaterialDefines=function($ppt){var $ppe=$ppt.defines;for(var $ppi in $ppe){var $ppn=$ppe[$ppi];$ppi=parseInt($ppi);this._materialInt2name[$ppi]=$ppn,this._materialName2Int[$ppn]=$ppi}},$ppQr.addSpriteDefines=function($ppt){var $ppe=$ppt.defines;for(var $ppi in $ppe){var $ppn=$ppe[$ppi];$ppi=parseInt($ppi);this._spriteInt2name[$ppi]=$ppn,this._spriteName2Int[$ppn]=$ppi}},$ppQr.getMaterialDefineByName=function($ppt){return this._materialName2Int[$ppt]},$ppQr.registerMaterialDefine=function($ppt){var $ppe=Math.pow(2,this._materialDefineCounter++);return this._materialInt2name[$ppe]=$ppt,this._materialName2Int[$ppt]=$ppe},$ppQr.registerSpriteDefine=function($ppt){var $ppe=Math.pow(2,this._spriteDefineCounter++);return this._spriteInt2name[$ppe]=$ppt,this._spriteName2Int[$ppt]=$ppe},$ppor._globalRegDefine=function($ppt,$ppe){$ppor._globalInt2name[$ppe]=$ppt},$ppor.add=function($ppt,$ppe,$ppi,$ppn,$ppr){return laya.d3.shader.ShaderCompile3D._preCompileShader[$ppt]=new $ppor($ppt,$ppe,$ppi,$ppn,$ppr,$ppR.includes)},$ppor.get=function($ppt){return laya.d3.shader.ShaderCompile3D._preCompileShader[$ppIr.nameKey.getID($ppt)]},$ppor._preCompileShader={},$ppor._globalInt2name=[],$ppor.debugMode=!1,$ppor.SHADERDEFINE_HIGHPRECISION=1,$ppor.SHADERDEFINE_FOG=4,$ppor.SHADERDEFINE_DIRECTIONLIGHT=8,$ppor.SHADERDEFINE_POINTLIGHT=16,$ppor.SHADERDEFINE_SPOTLIGHT=32,$ppor.SHADERDEFINE_UV0=64,$ppor.SHADERDEFINE_COLOR=128,$ppor.SHADERDEFINE_UV1=256,$ppor.SAHDERDEFINE_DEPTHFOG=131072;var $ppar=$ppor;function $ppor($ppt,$ppe,$ppi,$ppn,$ppr,$pps){this._name=NaN,this._attributeMap=null,this._renderElementUniformMap=null,this._materialUniformMap=null,this._spriteUniformMap=null,this._cameraUniformMap=null,this._sceneUniformMap=null,this.sharders=null,this._spriteDefineCounter=3,this._spriteInt2name=[],this._spriteName2Int={},this._materialDefineCounter=1,this._materialInt2name=[],this._materialName2Int={},this._conchShader=null,this._name=$ppt,this._renderElementUniformMap={},this._materialUniformMap={},this._spriteUniformMap={},this._cameraUniformMap={},this._sceneUniformMap={},this.sharders=[],this._spriteInt2name[$ppMn.SHADERDEFINE_RECEIVE_SHADOW]="RECEIVESHADOW",this._spriteInt2name[$ppis.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV]="SCALEOFFSETLIGHTINGMAPUV",this._spriteInt2name[$ppis.SAHDERDEFINE_LIGHTMAP]="LIGHTMAP",this._spriteInt2name[0]="BONE",this._materialInt2name[$ppdr.SHADERDEFINE_ALPHATEST]="ALPHATEST";$ppor.__super.call(this,$ppt,$ppe,$ppi,null,{}),this._attributeMap=$ppn;for(var $ppa in $ppr){var $ppo=$ppr[$ppa];switch($ppo[1]){case 0:this._renderElementUniformMap[$ppa]=$ppo[0];break;case 1:this._materialUniformMap[$ppa]=$ppo[0];break;case 2:this._spriteUniformMap[$ppa]=$ppo[0];break;case 3:this._cameraUniformMap[$ppa]=$ppo[0];break;case 4:this._sceneUniformMap[$ppa]=$ppo[0];break;default:throw new Error("ShaderCompile3D: period is unkonw.")}}}$ppt($pplr,"laya.d3.graphics.MeshSprite3DStaticBatchManager",$ppte),($ppr=$pplr.prototype)._getStaticBatch=function($ppt,$ppe,$ppi,$ppn){var $ppr;return $ppn=$ppt?$ppt.id.toString()+$ppi.id.toString()+$ppe.id.toString()+$ppn.toString():$ppi.id.toString()+$ppe.id.toString()+$ppn.toString(),this._staticBatches[$ppn]?$ppr=this._staticBatches[$ppn]:this._staticBatches[$ppn]=$ppr=new $ppcr($ppn,this,$ppt,$ppe,$ppi),$ppr},$ppr._initStaticBatchs=function($ppc){var $ppt;var $ppe;this._initBatchRenderElements.sort($pplr._sortPrepareStaticBatch);var $ppi=!1;var $ppn;var $ppr=0;for(var $pps=0,$ppu=this._initBatchRenderElements.length;$pps<$ppu;$pps++){var $ppa=this._initBatchRenderElements[$pps];var $ppo=$ppa.renderObj._getVertexBuffer(0);$ppa._sprite3D;var $pph,$ppl,$pp_,$ppd;$ppe===$ppo.vertexDeclaration&&$ppt===$ppa._material?$ppi?$ppn._addCombineBatchRenderObjTest($ppa)?($pph=$ppa._staticBatch)!==$ppn&&($pph&&$pph._deleteCombineBatchRenderObj($ppa),$ppn._addCombineBatchRenderObj($ppa)):($ppi=!1,$ppr++):($pp_=($ppl=this._initBatchRenderElements[$pps-1]).renderObj,$ppd=$ppa.renderObj,$ppi=!(65535<$pp_._getVertexBuffer().vertexCount+$ppd._getVertexBuffer().vertexCount)&&($ppn=this._getStaticBatch($ppc,$ppe,$ppt,$ppr),($pph=$ppl._staticBatch)!==$ppn&&($pph&&$pph._deleteCombineBatchRenderObj($ppl),$ppn._addCombineBatchRenderObj($ppl)),($pph=$ppa._staticBatch)!==$ppn&&($pph&&$pph._deleteCombineBatchRenderObj($ppa),$ppn._addCombineBatchRenderObj($ppa)),!0)):($ppi=!1,$ppr=0),$ppt=$ppa._material,$ppe=$ppo.vertexDeclaration}},$pplr._sortPrepareStaticBatch=function($ppt,$ppe){var $ppi=$ppt._render,$ppn=$ppe._render;var $ppr=$ppi.lightmapIndex-$ppn.lightmapIndex;return 0==$ppr?0==($ppi=$ppi.receiveShadow-$ppn.receiveShadow)?0==($ppn=$ppt._mainSortID-$ppe._mainSortID)?$ppt.renderObj.triangleCount-$ppe.renderObj.triangleCount:$ppn:$ppi:$ppr};var $pphr=$pplr;function $pplr(){$pplr.__super.call(this)}$ppt($ppur,"laya.d3.graphics.SubMeshStaticBatch",$pps),($ppv=$ppur.prototype)._compareBatchRenderElement=function($ppt,$ppe){return $ppt._batchIndexStart>$ppe._batchIndexStart},$ppv._addCombineBatchRenderObjTest=function($ppt){var $ppe=$ppt.renderObj._vertexCount;return!(65535<(0<$ppe?this._currentCombineVertexCount+$ppe:this._currentCombineVertexCount+$ppt.renderObj._getVertexBuffer().vertexCount))},$ppv._addCombineBatchRenderObj=function($ppt){var $ppe=$ppt.renderObj;var $ppi=$ppe._vertexCount;this._initBatchRenderElements.push($ppt),$ppt._staticBatch=this,0<$ppi?(this._currentCombineIndexCount+=$ppe._indexCount,this._currentCombineVertexCount+=$ppi):(this._currentCombineIndexCount=this._currentCombineIndexCount+$ppe._getIndexBuffer().indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount+$ppe._getVertexBuffer().vertexCount),this._needFinishCombine=!0},$ppv._deleteCombineBatchRenderObj=function($ppt){var $ppe=$ppt.renderObj;var $ppi=this._initBatchRenderElements.indexOf($ppt);-1!==$ppi&&(this._initBatchRenderElements.splice($ppi,1),$ppt._staticBatch=null,0<($ppi=$ppe._vertexCount)?(this._currentCombineIndexCount=this._currentCombineIndexCount-$ppe._indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount-$ppi):(this._currentCombineIndexCount=this._currentCombineIndexCount-$ppe._getIndexBuffer().indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount-$ppe._getVertexBuffer().vertexCount),this._needFinishCombine=!0)},$ppv._finishInit=function(){if(this._needFinishCombine){var $ppt=0;var $ppe=0;(0<=this._initBatchRenderElements[0]._sprite3D._render.lightmapIndex||this._material instanceof laya.d3.core.material.StandardMaterial&&this._material.ambientTexture)&&(this._vertexDeclaration=this._getVertexDecLightMap(this._vertexDeclaration));var $ppc=new Float32Array(this._vertexDeclaration.vertexStride/4*this._currentCombineVertexCount);var $ppi=new Uint16Array(this._currentCombineIndexCount);this._vertexBuffer&&(this._vertexBuffer.destroy(),this._indexBuffer.destroy()),this._vertexBuffer=$ppVr.create(this._vertexDeclaration,this._currentCombineVertexCount,35044),this._indexBuffer=$ppNr.create("ushort",this._currentCombineIndexCount,35044);for(var $ppn=0,$ppu=this._initBatchRenderElements.length;$ppn<$ppu;$ppn++){var $ppr=this._initBatchRenderElements[$ppn];var $pps=$ppr.renderObj;var $pp_=$pps._getStaticBatchBakedVertexs(this._rootOwner?this._rootOwner._transform:null,$ppr._sprite3D);var $ppa=$pps.getIndices();var $ppd=$ppr._sprite3D.transform._isFrontFaceInvert;var $ppo=$ppt/(this._vertexDeclaration.vertexStride/4)-$pps._vertexStart;$pps=$ppe;var $pph=$pps+$ppa.length;$ppr._batchIndexStart=$pps,$ppr._batchIndexEnd=$pph,$ppi.set($ppa,$ppe);var $ppl=0;if($ppd)for($ppl=$pps;$ppl<$pph;$ppl+=3){$ppi[$ppl]=$ppo+$ppi[$ppl];var $ppf=$ppi[$ppl+1];var $ppp=$ppi[$ppl+2];$ppi[$ppl+1]=$ppo+$ppp,$ppi[$ppl+2]=$ppo+$ppf}else for($ppl=$pps;$ppl<$pph;$ppl+=3)$ppi[$ppl]=$ppo+$ppi[$ppl],$ppi[$ppl+1]=$ppo+$ppi[$ppl+1],$ppi[$ppl+2]=$ppo+$ppi[$ppl+2];$ppe+=$ppa.length,$ppc.set($pp_,$ppt),$ppt+=$pp_.length}this._vertexBuffer.setData($ppc),this._indexBuffer.setData($ppi),this._needFinishCombine=!1}},$ppv._getCombineRenderElementFromPool=function(){return this._combineRenderElementPool[this._combineRenderElementPoolIndex++]||(this._combineRenderElementPool[this._combineRenderElementPoolIndex-1]=new $pprr)},$ppv._getRenderElement=function($ppc,$ppu,$pp_){var $ppt;var $ppd=this._batchRenderElements.length;var $ppe=!0;for(var $ppi=0;$ppi<$ppd;$ppi++){var $ppn=($ppt=this._batchRenderElements[$ppi])._sprite3D._render;var $ppr;var $pps,$ppa,$ppo,$pph,$ppl;($ppe=0!==$ppi?($pps=($ppa=this._batchRenderElements[$ppi-1])._sprite3D._render).lightmapIndex!==$ppn.lightmapIndex||$pps.receiveShadow!==$ppn.receiveShadow||$ppa._batchIndexEnd!==$ppt._batchIndexStart:$ppe)?(($ppr=this._getCombineRenderElementFromPool()).renderObj=this,$ppr._material=this._material,$ppr._batchIndexStart=$ppt._batchIndexStart,$ppr._batchIndexEnd=$ppt._batchIndexEnd,$pps=$ppn.lightmapIndex,void 0===($pph=($ppo=($ppo=this._batchOwnerIndices[$ppa=$pps+1])||(this._batchOwnerIndices[$ppa]=[]))[$ppt._render.receiveShadow?1:0])?($ppo[$ppn.receiveShadow?1:0]=this._batchOwners.length,($ppl=new $ppos(null,"StaticBatchMeshSprite3D"))._scene=$ppu,$ppl._transform=this._rootOwner?this._rootOwner._transform:null,$ppl._render.lightmapIndex=$pps,$ppl._render.receiveShadow=$ppt._render.receiveShadow,this._batchOwners.push($ppl)):$ppl=this._batchOwners[$pph],$ppl._render._renderUpdate($pp_),$ppr._sprite3D=$ppl,$ppc.push($ppr)):$ppr._batchIndexEnd=$ppt._batchIndexEnd}},$ppv._beforeRender=function($ppt){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},$ppv._render=function($ppt){$ppt=$ppt.renderElement;var $ppe=$ppt._batchIndexStart;$ppt=$ppt._batchIndexEnd-$ppe;$ppF.mainContext.drawElements(4,$ppt,5123,2*$ppe),$ppL.drawCall++,$ppL.trianglesFaces+=$ppt/3},$ppv.dispose=function(){this._batchOwnerIndices=null,this._batchOwners=null,this._vertexDeclaration=null,this._vertexBuffer.destroy(),this._indexBuffer.destroy()},$ppv._getVertexBuffer=function($ppt){return void 0===$ppt&&($ppt=0),this._vertexBuffer};var $ppcr=$ppur;function $ppur($ppt,$ppe,$ppi,$ppn,$ppr){this._batchOwnerIndices=null,this._batchOwners=null,this._needFinishCombine=!1,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._vertexDeclaration=null,this._vertexBuffer=null,this._indexBuffer=null,$ppur.__super.call(this,$ppt,$ppe,$ppi),this._batchOwnerIndices=[],this._batchOwners=[],this._needFinishCombine=!1,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._vertexDeclaration=$ppn,this._material=$ppr}$ppt($pp_r,"laya.d3.core.ComponentNode",$ppT),($ppQr=$pp_r.prototype).addComponent=function($ppt){var $ppe;var $ppi=this._componentsMap.indexOf($ppt);if(-1===$ppi)$ppe=[],this._componentsMap.push($ppt),this._typeComponentsIndices.push($ppe);else if($ppe=this._typeComponentsIndices[$ppi],this._components[$ppe[0]].isSingleton)throw new Error("无法单实例创建"+$ppt+"组件，"+$ppt+"组件已存在！");$ppi=$ppm.getInstance($ppt);return $ppe.push(this._components.length),this._components.push($ppi),$ppi instanceof laya.d3.component.Script&&this._scripts.push($ppi),$ppi._initialize(this),$ppi},$ppQr._removeComponent=function($ppt,$ppe){var $ppi=this._typeComponentsIndices[$ppt];var $ppn=$ppi[$ppe];var $ppr=this._components[$ppn];this._components.splice($ppn,1),$ppr instanceof laya.d3.component.Script&&this._scripts.splice(this._scripts.indexOf($ppr),1),$ppi.splice($ppe,1),0===$ppi.length&&(this._typeComponentsIndices.splice($ppt,1),this._componentsMap.splice($ppt,1));for(var $pps=0,$ppa=this._componentsMap.length;$pps<$ppa;$pps++)for(var $ppo=($ppi=this._typeComponentsIndices[$pps]).length-1;0<=$ppo;$ppo--){var $pph=$ppi[$ppo];if(!($ppn<$pph))break;$ppi[$ppo]=--$pph}$ppr._destroy()},$ppQr.getComponentByType=function($ppt,$ppe){void 0===$ppe&&($ppe=0);$ppt=this._componentsMap.indexOf($ppt);return-1===$ppt?null:this._components[this._typeComponentsIndices[$ppt][$ppe]]},$ppQr.getComponentsByType=function($ppt,$ppe){$ppt=this._componentsMap.indexOf($ppt);if(-1!==$ppt){var $ppi=this._typeComponentsIndices[$ppt];var $ppn=$ppi.length;$ppe.length=$ppn;for(var $ppr=0;$ppr<$ppn;$ppr++)$ppe[$ppr]=this._components[$ppi[$ppr]]}else $ppe.length=0},$ppQr.getComponentByIndex=function($ppt){return this._components[$ppt]},$ppQr.removeComponentByType=function($ppt,$ppe){void 0===$ppe&&($ppe=0);$ppt=this._componentsMap.indexOf($ppt);-1!==$ppt&&this._removeComponent($ppt,$ppe)},$ppQr.removeComponentsByType=function($ppt){var $ppe=this._componentsMap.indexOf($ppt);if(-1!==$ppe){var $ppi=this._typeComponentsIndices[$ppe];for(var $ppn=0,$ppr=$ppi.length;$ppn<$ppr;$ppi.length<$ppr?$ppr--:$ppn++)this._removeComponent($ppe,$ppn)}},$ppQr.removeAllComponent=function(){for(var $ppt=0,$ppe=this._componentsMap.length;$ppt<$ppe;this._componentsMap.length<$ppe?$ppe--:$ppt++)this.removeComponentsByType(this._componentsMap[$ppt])},$ppQr._updateComponents=function($ppt){for(var $ppe=0,$ppi=this._components.length;$ppe<$ppi;$ppe++){var $ppn=this._components[$ppe];$ppn.started||($ppn._start($ppt),$ppn.started=!0),$ppn.enable&&$ppn._update($ppt)}},$ppQr._lateUpdateComponents=function($ppt){for(var $ppe=0;$ppe<this._components.length;$ppe++){var $ppi=this._components[$ppe];$ppi.started||($ppi._start($ppt),$ppi.started=!0),$ppi.enable&&$ppi._lateUpdate($ppt)}},$ppQr._preRenderUpdateComponents=function($ppt){for(var $ppe=0;$ppe<this._components.length;$ppe++){var $ppi=this._components[$ppe];$ppi.started||($ppi._start($ppt),$ppi.started=!0),$ppi.enable&&$ppi._preRenderUpdate($ppt)}},$ppQr._postRenderUpdateComponents=function($ppt){for(var $ppe=0;$ppe<this._components.length;$ppe++){var $ppi=this._components[$ppe];$ppi.started||($ppi._start($ppt),$ppi.started=!0),$ppi.enable&&$ppi._postRenderUpdate($ppt)}};var $ppr=$pp_r;function $pp_r(){this._componentsMap=null,this._typeComponentsIndices=null,this._components=null,this._scripts=null,$pp_r.__super.call(this),this._componentsMap=[],this._typeComponentsIndices=[],this._components=[],this._scripts=[]}$ppt($ppfr,"laya.d3.core.material.BaseMaterial",$pppr=$ppA),$pps=$ppfr.prototype,$pph.imps($pps,{"laya.d3.core.IClone":!0}),$pps._addShaderDefine=function($ppt){this._shaderDefineValue|=$ppt},$pps._removeShaderDefine=function($ppt){this._shaderDefineValue&=~$ppt},$pps._addDisablePublicShaderDefine=function($ppt){this._disablePublicShaderDefine|=$ppt},$pps._removeDisablePublicShaderDefine=function($ppt){this._disablePublicShaderDefine&=~$ppt},$pps._setBuffer=function($ppt,$ppe){this._shaderValues.setValue($ppt,$ppe),this._values[$ppt]=$ppe},$pps._getBuffer=function($ppt){return this._values[$ppt]},$pps._setMatrix4x4=function($ppt,$ppe){this._shaderValues.setValue($ppt,$ppe?$ppe.elements:null),this._values[$ppt]=$ppe},$pps._getMatrix4x4=function($ppt){return this._values[$ppt]},$pps._setInt=function($ppt,$ppe){this._shaderValues.setValue($ppt,$ppe),this._values[$ppt]=$ppe},$pps._getInt=function($ppt){return this._values[$ppt]},$pps._setNumber=function($ppt,$ppe){this._shaderValues.setValue($ppt,$ppe),this._values[$ppt]=$ppe},$pps._getNumber=function($ppt){return this._values[$ppt]},$pps._setBool=function($ppt,$ppe){this._shaderValues.setValue($ppt,$ppe),this._values[$ppt]=$ppe},$pps._getBool=function($ppt){return this._values[$ppt]},$pps._setVector2=function($ppt,$ppe){this._shaderValues.setValue($ppt,$ppe?$ppe.elements:null),this._values[$ppt]=$ppe},$pps._getVector2=function($ppt){return this._values[$ppt]},$pps._setColor=function($ppt,$ppe){this._shaderValues.setValue($ppt,$ppe?$ppe.elements:null),this._values[$ppt]=$ppe},$pps._getColor=function($ppt){return this._values[$ppt]},$pps._setTexture=function($ppt,$ppe){var $ppi=this._values[$ppt];this._values[$ppt]=$ppe,this._shaderValues.setValue($ppt,$ppe),0<this.referenceCount&&($ppi&&$ppi._removeReference(),$ppe&&$ppe._addReference())},$pps._getTexture=function($ppt){return this._values[$ppt]},$pps._upload=function(){this._shader.uploadMaterialUniforms(this._shaderValues.data)},$pps._getShader=function($ppt,$ppe,$ppi){$ppt=($ppt|$ppe)&~this._disablePublicShaderDefine;return this._shader=this._shaderCompile.withCompile($ppt,$ppi,this._shaderDefineValue),this._shader},$pps._setRenderStateBlendDepth=function(){var $ppt=$ppF.mainContext;switch($ppV.setDepthMask($ppt,this.depthWrite),0===this.depthTest?$ppV.setDepthTest($ppt,!1):($ppV.setDepthTest($ppt,!0),$ppV.setDepthFunc($ppt,this.depthTest)),this.blend){case 0:$ppV.setBlend($ppt,!1);break;case 1:$ppV.setBlend($ppt,!0),$ppV.setBlendFunc($ppt,this.srcBlend,this.dstBlend);break;case 2:$ppV.setBlend($ppt,!0)}},$pps._setRenderStateFrontFace=function($ppt,$ppe){var $ppi=$ppF.mainContext;var $ppn=0;switch(this.cull){case 0:$ppV.setCullFace($ppi,!1);break;case 1:$ppV.setCullFace($ppi,!0),$ppn=$ppt?$ppe&&$ppe._isFrontFaceInvert?2305:2304:$ppe&&$ppe._isFrontFaceInvert?2304:2305,$ppV.setFrontFace($ppi,$ppn);break;case 2:$ppV.setCullFace($ppi,!0),$ppn=$ppt?$ppe&&$ppe._isFrontFaceInvert?2304:2305:$ppe&&$ppe._isFrontFaceInvert?2305:2304,$ppV.setFrontFace($ppi,$ppn)}},$pps.onAsynLoaded=function($ppc,$ppu,$pp_){var $ppd=$ppu[0];var $ppf=$ppu[1];switch($ppd.version){case"LAYAMATERIAL:01":var $ppt=0,$ppe=0;var $ppi=$ppd.props;for(var $ppn in $ppi)switch($ppn){case"vectors":var $ppr=$ppi[$ppn];for($ppt=0,$ppe=$ppr.length;$ppt<$ppe;$ppt++){var $pps=$ppr[$ppt];var $ppa=$pps.value;switch($ppa.length){case 2:this[$pps.name]=new $ppun($ppa[0],$ppa[1]);break;case 3:this[$pps.name]=new $ppD($ppa[0],$ppa[1],$ppa[2]);break;case 4:this[$pps.name]=new $ppfn($ppa[0],$ppa[1],$ppa[2],$ppa[3]);break;default:throw new Error("BaseMaterial:unkonwn color length.")}}break;case"textures":var $ppo=$ppi[$ppn];for($ppt=0,$ppe=$ppo.length;$ppt<$ppe;$ppt++){var $pph=$ppo[$ppt];var $ppl=$pph.path;$ppl&&(this[$pph.name]=$ppx.getRes($ppf[$ppl]))}break;case"defines":var $ppp=$ppi[$ppn];for($ppt=0,$ppe=$ppp.length;$ppt<$ppe;$ppt++){var $ppm=this._shaderCompile.getMaterialDefineByName($ppp[$ppt]);this._addShaderDefine($ppm)}break;case"cull":case"blend":case"srcBlend":case"dstBlend":case"depthWrite":this[$ppn]=$ppi[$ppn];break;case"renderQueue":switch($ppi[$ppn]){case 1:this.renderQueue=2e3;break;case 2:this.renderQueue=3e3}break;default:this[$ppn]=$ppi[$ppn]}break;case"LAYAMATERIAL:02":for($ppn in $ppi=$ppd.props)switch($ppn){case"vectors":for($ppt=0,$ppe=($ppr=$ppi[$ppn]).length;$ppt<$ppe;$ppt++)switch(($ppa=($pps=$ppr[$ppt]).value).length){case 2:this[$pps.name]=new $ppun($ppa[0],$ppa[1]);break;case 3:this[$pps.name]=new $ppD($ppa[0],$ppa[1],$ppa[2]);break;case 4:this[$pps.name]=new $ppfn($ppa[0],$ppa[1],$ppa[2],$ppa[3]);break;default:throw new Error("BaseMaterial:unkonwn color length.")}break;case"textures":for($ppt=0,$ppe=($ppo=$ppi[$ppn]).length;$ppt<$ppe;$ppt++)($ppl=($pph=$ppo[$ppt]).path)&&(this[$pph.name]=$ppx.getRes($ppf[$ppl]));break;case"defines":for($ppt=0,$ppe=($ppp=$ppi[$ppn]).length;$ppt<$ppe;$ppt++)$ppm=this._shaderCompile.getMaterialDefineByName($ppp[$ppt]),this._addShaderDefine($ppm);break;default:this[$ppn]=$ppi[$ppn]}break;default:throw new Error("BaseMaterial:unkonwn version.")}this._endLoaded()},$pps._addReference=function(){$pppr.prototype._addReference.call(this);for(var $ppt=0,$ppe=this._values.length;$ppt<$ppe;$ppt++){var $ppi=this._values[$ppt];$ppi&&$ppi instanceof laya.d3.resource.BaseTexture&&$ppi._addReference()}},$pps._removeReference=function(){$pppr.prototype._removeReference.call(this);for(var $ppt=0,$ppe=this._values.length;$ppt<$ppe;$ppt++){var $ppi=this._values[$ppt];$ppi&&$ppi instanceof laya.d3.resource.BaseTexture&&$ppi._removeReference()}},$pps.disposeResource=function(){this.blendConstColor=null,this._shader=null,this._shaderValues=null,this._values=null},$pps.setShaderName=function($ppt){$ppt=$ppIr.nameKey.getID($ppt);if(-1===$ppt)throw new Error("BaseMaterial: unknown shader name.");this._shaderCompile=$ppar._preCompileShader[$ppt]},$pps.cloneTo=function($ppt){$ppt.name=this.name,$ppt.cull=this.cull,$ppt.blend=this.blend,$ppt.srcBlend=this.srcBlend,$ppt.dstBlend=this.dstBlend,$ppt.srcBlendRGB=this.srcBlendRGB,$ppt.dstBlendRGB=this.dstBlendRGB,$ppt.srcBlendAlpha=this.srcBlendAlpha,$ppt.dstBlendAlpha=this.dstBlendAlpha,this.blendConstColor.cloneTo($ppt.blendConstColor),$ppt.blendEquation=this.blendEquation,$ppt.blendEquationRGB=this.blendEquationRGB,$ppt.blendEquationAlpha=this.blendEquationAlpha,$ppt.depthTest=this.depthTest,$ppt.depthWrite=this.depthWrite,$ppt.renderQueue=this.renderQueue,$ppt._shader=this._shader,$ppt._disablePublicShaderDefine=this._disablePublicShaderDefine,$ppt._shaderDefineValue=this._shaderDefineValue;var $ppe,$ppi=0;var $ppn=$ppt._shaderValues;$ppt._shaderValues.data.length=this._shaderValues.data.length;var $ppr=this._values.length;var $pps=$ppt._values;for($ppi=0,$ppe=$pps.length=$ppr;$ppi<$ppe;$ppi++){var $ppa=this._values[$ppi];var $ppo,$pph;$ppa&&("number"==typeof $ppa||"boolean"==typeof $ppa?($pps[$ppi]=$ppa,$ppn.data[$ppi]=$ppa):$ppa instanceof laya.d3.math.Vector2?($ppo=$pps[$ppi]||($pps[$ppi]=new $ppun),$ppa.cloneTo($ppo),$ppn.data[$ppi]=$ppo.elements):$ppa instanceof laya.d3.math.Vector3?($ppo=$pps[$ppi]||($pps[$ppi]=new $ppD),$ppa.cloneTo($ppo),$ppn.data[$ppi]=$ppo.elements):$ppa instanceof laya.d3.math.Vector4?($pph=$pps[$ppi]||($pps[$ppi]=new $ppfn),$ppa.cloneTo($pph),$ppn.data[$ppi]=$pph.elements):$ppa instanceof laya.d3.math.Matrix4x4?($pph=$pps[$ppi]||($pps[$ppi]=new $pptn),$ppa.cloneTo($pph),$ppn.data[$ppi]=$pph.elements):$ppa instanceof laya.d3.resource.BaseTexture&&($pps[$ppi]=$ppa,$ppn.data[$ppi]=$ppa))}},$pps.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppe(0,$pps,"alphaTestValue",function(){return this._getNumber(0)},function($ppt){this._setNumber(0,$ppt)}),$ppe(0,$pps,"alphaTest",function(){return this._alphaTest},function($ppt){(this._alphaTest=$ppt)?this._addShaderDefine(laya.d3.core.material.BaseMaterial.SHADERDEFINE_ALPHATEST):this._removeShaderDefine(laya.d3.core.material.BaseMaterial.SHADERDEFINE_ALPHATEST)}),$ppfr.__init__=function(){$ppfr.SHADERDEFINE_ALPHATEST=$ppfr.shaderDefines.registerDefine("ALPHATEST")},$ppfr.RENDERQUEUE_OPAQUE=2e3,$ppfr.RENDERQUEUE_ALPHATEST=2450,$ppfr.RENDERQUEUE_TRANSPARENT=3e3,$ppfr.CULL_NONE=0,$ppfr.CULL_FRONT=1,$ppfr.CULL_BACK=2,$ppfr.BLEND_DISABLE=0,$ppfr.BLEND_ENABLE_ALL=1,$ppfr.BLEND_ENABLE_SEPERATE=2,$ppfr.BLENDPARAM_ZERO=0,$ppfr.BLENDPARAM_ONE=1,$ppfr.BLENDPARAM_SRC_COLOR=768,$ppfr.BLENDPARAM_ONE_MINUS_SRC_COLOR=769,$ppfr.BLENDPARAM_DST_COLOR=774,$ppfr.BLENDPARAM_ONE_MINUS_DST_COLOR=775,$ppfr.BLENDPARAM_SRC_ALPHA=770,$ppfr.BLENDPARAM_ONE_MINUS_SRC_ALPHA=771,$ppfr.BLENDPARAM_DST_ALPHA=772,$ppfr.BLENDPARAM_ONE_MINUS_DST_ALPHA=773,$ppfr.BLENDPARAM_SRC_ALPHA_SATURATE=776,$ppfr.BLENDEQUATION_ADD=0,$ppfr.BLENDEQUATION_SUBTRACT=1,$ppfr.BLENDEQUATION_REVERSE_SUBTRACT=2,$ppfr.DEPTHTEST_OFF=0,$ppfr.DEPTHTEST_NEVER=512,$ppfr.DEPTHTEST_LESS=513,$ppfr.DEPTHTEST_EQUAL=514,$ppfr.DEPTHTEST_LEQUAL=515,$ppfr.DEPTHTEST_GREATER=516,$ppfr.DEPTHTEST_NOTEQUAL=517,$ppfr.DEPTHTEST_GEQUAL=518,$ppfr.DEPTHTEST_ALWAYS=519,$ppfr.SHADERDEFINE_ALPHATEST=1,$ppfr.ALPHATESTVALUE=0,$ppl($ppfr,["shaderDefines",function(){return this.shaderDefines=new $ppxn}]);var $ppdr=$ppfr;function $ppfr(){$ppfr.__super.call(this),this._shaderDefineValue=0,this._disablePublicShaderDefine=0,this._shaderValues=new $ppSn,this._values=[],this.renderQueue=2e3,this._alphaTest=!1,this.cull=2,this.blend=0,this.srcBlend=1,this.dstBlend=0,this.srcBlendRGB=1,this.dstBlendRGB=0,this.srcBlendAlpha=1,this.dstBlendAlpha=0,this.blendConstColor=new $ppfn(1,1,1,1),this.blendEquation=0,this.blendEquationRGB=0,this.blendEquationAlpha=0,this.depthTest=513,this.depthWrite=!0}var $pppr;$ppt($ppgr,"laya.d3.resource.BaseTexture",$ppA),$ppe(0,$ppv=$ppgr.prototype,"width",function(){return this._width}),$ppe(0,$ppv,"repeat",function(){return this._repeat},function($ppt){this._repeat!==$ppt&&(this._repeat=$ppt,this._source&&($ppt=$ppF.mainContext,$ppV.bindTexture($ppt,this._type,this._source),$ppp.isPOT(this._width,this._height)&&this._repeat?($ppt.texParameteri(this._type,10242,10497),$ppt.texParameteri(this._type,10243,10497)):($ppt.texParameteri(this._type,10242,33071),$ppt.texParameteri(this._type,10243,33071))))}),$ppe(0,$ppv,"height",function(){return this._height}),$ppe(0,$ppv,"magFifter",function(){return this._magFifter},function($ppt){(this._magFifter=$ppt)!=this._magFifter&&this._conchTexture&&this._conchTexture.setMaxFifter($ppt)}),$ppe(0,$ppv,"wrapModeV",function(){return this._wrapModeV}),$ppe(0,$ppv,"size",function(){return this._size}),$ppe(0,$ppv,"wrapModeU",function(){return this._wrapModeU}),$ppe(0,$ppv,"mipmap",function(){return this._mipmap},function($ppt){this._mipmap=$ppt,this._mipmap!=$ppt&&this._conchTexture&&this._conchTexture.setMipMap($ppt)}),$ppe(0,$ppv,"minFifter",function(){return this._minFifter},function($ppt){this._minFifter=$ppt,this._minFifter!=$ppt&&this._conchTexture&&this._conchTexture.setMinFifter($ppt)}),$ppe(0,$ppv,"format",function(){return this._format}),$ppe(0,$ppv,"source",function(){return this.activeResource(),this._source}),$ppe(0,$ppv,"defaulteTexture",function(){return $ppKr.grayTexture}),$ppgr.WARPMODE_REPEAT=0,$ppgr.WARPMODE_CLAMP=1;var $ppmr=$ppgr;function $ppgr(){this._type=0,this._width=0,this._height=0,this._size=null,this._repeat=!1,this._mipmap=!1,this._minFifter=0,this._magFifter=0,this._format=0,this._source=null,this._conchTexture=null,this._wrapModeU=0,this._wrapModeV=0,$ppgr.__super.call(this),this._repeat=!0,this.mipmap=!0,this.minFifter=-1,this.magFifter=-1}$ppt($ppvr,"laya.d3.resource.models.BaseMesh",$ppA),($ppQr=$ppvr.prototype)._getPositions=function(){throw new Error("未Override,请重载该属性！")},$ppQr._generateBoundingObject=function(){this._boundingSphere=new $ppji(new $ppD,0),$ppji.createfromPoints(this._positions,this._boundingSphere),this._boundingBox=new $ppWi(new $ppD,new $ppD),$ppWi.createfromPoints(this._positions,this._boundingBox),this._boundingBox.getCorners(this._boundingBoxCorners)},$ppQr.getRenderElementsCount=function(){throw new Error("未Override,请重载该属性！")},$ppQr.getRenderElement=function($ppt){throw new Error("未Override,请重载该属性！")},$ppe(0,$ppQr,"subMeshCount",function(){return this._subMeshCount}),$ppe(0,$ppQr,"boundingBox",function(){return this._boundingBox}),$ppe(0,$ppQr,"boundingBoxCorners",function(){return this._boundingBoxCorners}),$ppe(0,$ppQr,"boundingSphere",function(){return this._boundingSphere});var $pps=$ppvr;function $ppvr(){this._subMeshCount=0,this._boundingBox=null,this._boundingSphere=null,this._boundingBoxCorners=null,this._positions=null,$ppvr.__super.call(this),this._boundingBoxCorners=$ppc(8,null)}$ppt($ppyr,"laya.d3.component.Script",$ppa),($ppv=$ppyr.prototype).onTriggerEnter=function($ppt){},$ppv.onTriggerExit=function($ppt){},$ppv.onTriggerStay=function($ppt){},$ppe(0,$ppv,"isSingleton",function(){return $ppyr._isSingleton}),$ppyr._isSingleton=!1;function $ppyr(){$ppyr.__super.call(this)}$ppt($ppwr,"laya.d3.core.MeshFilter",$ppbr=$ppjr),($ppA=$ppwr.prototype)._sharedMeshLoaded=function(){this.event("loaded")},$ppA._destroy=function(){$ppbr.prototype._destroy.call(this),this._owner=null,this._sharedMesh&&(this._sharedMesh._removeReference(),this._sharedMesh=null)},$ppe(0,$ppA,"sharedMesh",function(){return this._sharedMesh},function($ppt){var $ppe=this._sharedMesh;$ppe&&$ppe._removeReference(),(this._sharedMesh=$ppt)._addReference(),this.event("meshchanged",[this,$ppe,$ppt]),$ppt.loaded||this._sharedMesh.once("loaded",this,this._sharedMeshLoaded)}),$ppe(0,$ppA,"_isAsyncLoaded",function(){return this._sharedMesh.loaded}),$ppe(0,$ppA,"_originalBoundingBoxCorners",function(){return this._sharedMesh.boundingBoxCorners}),$ppe(0,$ppA,"_originalBoundingSphere",function(){return this._sharedMesh.boundingSphere}),$ppe(0,$ppA,"_originalBoundingBox",function(){return this._sharedMesh.boundingBox});var $ppxr=$ppwr;function $ppwr($ppt){this._owner=null,this._sharedMesh=null,$ppwr.__super.call(this),this._owner=$ppt}var $ppbr;$ppt($ppSr,"laya.d3.core.MeshRender",$ppWn),($ppQr=$ppSr.prototype)._onMeshChanged=function($ppt,$ppe,$ppi){$ppi.loaded?this._boundingSphereNeedChange=this._boundingBoxNeedChange=this._boundingBoxCenterNeedChange=this._octreeNodeNeedChange=!0:$ppi.once("loaded",this,this._onMeshLoaed)},$ppQr._onMeshLoaed=function($ppt,$ppe){this._boundingSphereNeedChange=this._boundingBoxNeedChange=this._boundingBoxCenterNeedChange=this._octreeNodeNeedChange=!0},$ppQr._calculateBoundingSphereByInitSphere=function($ppt){var $ppe=NaN;var $ppi=this._owner.transform;var $ppn=$ppi.scale.elements;var $ppr=Math.abs($ppn[0]);var $pps=Math.abs($ppn[1]);$ppn=Math.abs($ppn[2]);$ppe=$pps<=$ppr&&$ppn<=$ppr?$ppr:$ppn<=$pps?$pps:$ppn,$ppD.transformCoordinate($ppt.center,$ppi.worldMatrix,this._boundingSphere.center),this._boundingSphere.radius=$ppt.radius*$ppe},$ppQr._calculateBoundBoxByInitCorners=function($ppt){var $ppe=this._owner.transform.worldMatrix;for(var $ppi=0;$ppi<8;$ppi++)$ppD.transformCoordinate($ppt[$ppi],$ppe,$ppWn._tempBoundBoxCorners[$ppi]);$ppWi.createfromPoints($ppWn._tempBoundBoxCorners,this._boundingBox)},$ppQr._calculateBoundingSphere=function(){var $ppt=this._owner.meshFilter.sharedMesh;null==$ppt||null==$ppt.boundingSphere?this._boundingSphere.toDefault():this._calculateBoundingSphereByInitSphere($ppt.boundingSphere)},$ppQr._calculateBoundingBox=function(){var $ppt=this._owner.meshFilter.sharedMesh;null==$ppt||null==$ppt.boundingBox?this._boundingBox.toDefault():this._calculateBoundBoxByInitCorners($ppt.boundingBoxCorners)},$ppQr._renderUpdate=function($ppt){var $ppe=this._owner.transform;return $ppe?(this._setShaderValueMatrix4x4(0,$ppe.worldMatrix),$ppe=this._owner.getProjectionViewWorldMatrix($ppt),this._setShaderValueMatrix4x4(1,$ppe)):(this._setShaderValueMatrix4x4(0,$pptn.DEFAULT),this._setShaderValueMatrix4x4(1,$ppt)),$ppVn.debugMode&&this._renderRenderableBoundBox(),!0};var $ppTr=$ppSr;function $ppSr($ppt){$ppSr.__super.call(this,$ppt),$ppt.meshFilter.on("meshchanged",this,this._onMeshChanged)}$ppt($ppMr,"laya.d3.core.scene.Scene",$ppEr=$ppP),$ppa=$ppMr.prototype,$pph.imps($ppa,{"laya.webgl.submit.ISubmit":!0,"laya.resource.ICreateResource":!0}),$ppa._setUrl=function($ppt){this._url=$ppt},$ppa._getGroup=function(){return this._group},$ppa._setGroup=function($ppt){this._group=$ppt},$ppa._display=function(){$pph.stage._scenes.push(this),$pph.stage._scenes.sort($ppMr._sortScenes);for(var $ppt=0,$ppe=this._childs.length;$ppt<$ppe;$ppt++){var $ppi=this._childs[$ppt];$ppi.active&&$ppi._activeHierarchy()}},$ppa._unDisplay=function(){var $ppt=$pph.stage._scenes;$ppt.splice($ppt.indexOf(this),1);for(var $ppe=0,$ppi=this._childs.length;$ppe<$ppi;$ppe++){var $ppn=this._childs[$ppe];$ppn.active&&$ppn._inActiveHierarchy()}},$ppa._addChild3D=function($ppt){$ppt.transform._onWorldTransform(),$ppt._setBelongScene(this),this.displayedInStage&&$ppt.active&&$ppt._activeHierarchy()},$ppa._removeChild3D=function($ppt){$ppt.transform.parent=null,this.displayedInStage&&$ppt.active&&$ppt._inActiveHierarchy(),$ppt._setUnBelongScene()},$ppa.initOctree=function($ppt,$ppe,$ppi,$ppn,$ppr){void 0===$ppr&&($ppr=6),this.treeSize=new $ppD($ppt,$ppe,$ppi),this.treeLevel=$ppr,this.treeRoot=new $ppPt(this,0),this.treeRoot.init($ppn,this.treeSize)},$ppa._prepareUpdateToRenderState=function($ppt,$ppe){$ppe.elapsedTime=this._lastCurrentTime?this.timer.currTimer-this._lastCurrentTime:0,this._lastCurrentTime=this.timer.currTimer,$ppe.scene=this},$ppa._prepareSceneToRender=function($ppt){var $ppe=this._lights.length;if(0<$ppe){var $ppi=0;for(var $ppn=0;$ppn<$ppe&&!(this._lights[$ppn]._prepareToScene($ppt)&&++$ppi>=this._enableLightCount);$ppn++);}},$ppa._updateChilds=function($ppt){for(var $ppe=0,$ppi=this._childs.length;$ppe<$ppi;++$ppe)this._childs[$ppe]._update($ppt)},$ppa._preRenderScene=function($ppt,$ppe,$ppi){var $ppn=$ppe._viewMatrix;var $ppr=$ppe._projectionMatrix;var $pps=$ppe._projectionViewMatrix;var $ppa,$ppo=0;var $pph=$ppe.camera;for($pph.useOcclusionCulling?this.treeRoot?$ppQt.renderObjectCullingOctree($ppi,this,$pph,$ppn,$ppr,$pps):$ppQt.renderObjectCulling($ppi,this,$pph,$ppn,$ppr,$pps):$ppQt.renderObjectCullingNoBoundFrustum(this,$pph,$ppn,$ppr,$pps),$ppo=0,$ppa=this._quenes.length;$ppo<$ppa;$ppo++)this._quenes[$ppo]&&this._quenes[$ppo]._preRender($ppe)},$ppa._clear=function($ppt,$ppe){var $ppi=$ppe._viewport;var $ppn=$ppe.camera;var $ppr=$ppi.x;var $pps=$ppn.renderTargetSize.height-$ppi.y-$ppi.height;var $ppc=$ppi.width;var $ppu=$ppi.height;$ppt.viewport($ppr,$pps,$ppc,$ppu);var $ppa=256;var $ppo=$ppn.renderTarget;switch($ppn.clearFlag){case 0:var $pph=$ppn.clearColor;var $ppl;if($pph&&($ppt.enable(3089),$ppt.scissor($ppr,$pps,$ppc,$ppu),$ppl=$pph.elements,$ppt.clearColor($ppl[0],$ppl[1],$ppl[2],$ppl[3]),$ppa|=16384),$ppo)switch($pph||($ppa=16384),$ppo.depthStencilFormat){case 33189:$ppa|=256;break;case 36168:$ppa|=1024;break;case 34041:$ppa=$ppa|256|1024}$ppt.clear($ppa),$pph&&$ppt.disable(3089);break;case 1:case 2:if($ppo)switch($ppa=16384,$ppo.depthStencilFormat){case 33189:$ppa|=256;break;case 36168:$ppa|=1024;break;case 34041:$ppa=$ppa|256|1024}$ppt.clear($ppa);break;case 3:break;default:throw new Error("BaseScene:camera clearFlag invalid.")}},$ppa._renderScene=function($ppt,$ppe){var $ppi=$ppe.camera;var $ppn,$ppr=0;var $pps;for($ppr=0;$ppr<2;$ppr++)($pps=this._quenes[$ppr])&&($ppi.renderTarget?$pps._render($ppe,!0):$pps._render($ppe,!1));var $ppa;for(1!==$ppi.clearFlag||($ppa=$ppi.sky)&&($ppV.setCullFace($ppt,!1),$ppV.setDepthFunc($ppt,515),$ppV.setDepthMask($ppt,!1),$ppa._render($ppe),$ppV.setDepthFunc($ppt,513),$ppV.setDepthMask($ppt,!0)),$ppr=2,$ppn=this._quenes.length;$ppr<$ppn;$ppr++)($pps=this._quenes[$ppr])&&($pps._sortAlpha($ppe.camera.transform.position),$ppi.renderTarget?$pps._render($ppe,!0):$pps._render($ppe,!1))},$ppa._set3DRenderConfig=function($ppt){$ppt.disable(3042),$ppV._blend=!1,$ppt.blendFunc(770,771),$ppV._sFactor=770,$ppV._dFactor=771,$ppt.disable(2929),$ppV._depthTest=!1,$ppt.enable(2884),$ppV._cullFace=!0,$ppt.depthMask(1),$ppV._depthMask=!0,$ppt.frontFace(2304),$ppV._frontFace=2304},$ppa._set2DRenderConfig=function($ppt){$ppV.setBlend($ppt,!0),$ppV.setBlendFunc($ppt,1,771),$ppV.setDepthTest($ppt,!1),$ppV.setCullFace($ppt,!1),$ppV.setDepthMask($ppt,!0),$ppV.setFrontFace($ppt,2305),$ppt.viewport(0,0,$ppE.width,$ppE.height)},$ppa._parseCustomProps=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppn.customProps.lightmaps;var $pps=$ppr.length;var $ppa=this._lightmaps;$ppa.length=$pps;for(var $ppo=0;$ppo<$pps;$ppo++)$ppa[$ppo]=$ppx.getRes($ppe[$ppr[$ppo].replace(".exr",".png")]);this.setlightmaps($ppa);var $pph=$ppn.customProps.ambientColor;$pph&&(this.ambientColor=new $ppD($pph[0],$pph[1],$pph[2]));$pph=$ppn.customProps.fogColor;$pph&&(this.fogColor=new $ppD($pph[0],$pph[1],$pph[2]))},$ppa._addLight=function($ppt){this._lights.indexOf($ppt)<0&&this._lights.push($ppt)},$ppa._removeLight=function($ppt){$ppt=this._lights.indexOf($ppt);0<=$ppt&&this._lights.splice($ppt,1)},$ppa._updateScene=function(){var $ppt=this._renderState;this._prepareUpdateToRenderState($ppF.mainContext,$ppt),this._updateComponents($ppt),this._updateChilds($ppt),this._lateUpdateComponents($ppt),this._time+=$ppt.elapsedTime/1e3,this._shaderValues.setValue(22,this._time)},$ppa._updateSceneConch=function(){var $ppt=this._renderState;this._prepareUpdateToRenderState($ppF.mainContext,$ppt),this._updateComponents($ppt),this._lateUpdateComponents($ppt),this._prepareSceneToRender($ppt);for(var $ppe=0,$ppi=this._cameraPool.length;$ppe<$ppi;$ppe++){var $ppn=this._cameraPool[$ppe];($ppt.camera=$ppn)._prepareCameraToRender()}},$ppa._preRenderShadow=function($ppt,$ppe,$ppi,$ppn,$ppr){this.treeRoot?$ppQt.renderShadowObjectCullingOctree(this,$ppe,$ppi,$ppn,$ppr):$ppQt.renderShadowObjectCulling(this,$ppe,$ppi,$ppn,$ppr);for(var $pps=0,$ppa=$ppi.length;$pps<$ppa;$pps++)$ppi[$pps]&&$ppi[$pps]._preRender($ppt)},$ppa._renderShadowMap=function($ppt,$ppe,$ppi){var $ppn=this.parallelSplitShadowMaps[0];$ppn._calcAllLightCameraInfo($ppi);var $ppr=$ppn.PSSMNum;var $pps,$ppa,$ppo;if(this._preRenderShadow($ppe,$ppn._lightCulling,$ppn._shadowQuenes,$ppn._lightVPMatrix[0],$ppr),this.addShaderDefine($ppMn.SHADERDEFINE_CAST_SHADOW),1<$ppr)for(var $pph=0;$pph<$ppr;$pph++)$pps=$ppn.getRenderTarget($pph+1),$ppn.beginRenderTarget($pph+1),$ppt.clearColor(1,1,1,1),$ppt.clear(16640),$ppt.viewport(0,0,$pps.width,$pps.height),$ppe.camera=$ppo=$ppn.getLightCamera($pph),$ppo._prepareCameraToRender(),$ppo._prepareCameraViewProject($ppo.viewMatrix,$ppo.projectionMatrix),$ppe._projectionViewMatrix=$ppn._lightVPMatrix[$pph+1],($ppa=$ppn._shadowQuenes[$pph])._preRender($ppe),$ppa._renderShadow($ppe,!1),$ppn.endRenderTarget($pph+1);else $pps=$ppn.getRenderTarget(1),$ppn.beginRenderTarget(1),$ppt.clearColor(1,1,1,1),$ppt.clear(16640),$ppt.viewport(0,0,$pps.width,$pps.height),$ppe.camera=$ppo=$ppn.getLightCamera(0),$ppo._prepareCameraToRender(),$ppo._prepareCameraViewProject($ppo.viewMatrix,$ppo.projectionMatrix),$ppe._projectionViewMatrix=$ppn._lightVPMatrix[0],($ppa=$ppn._shadowQuenes[0])._preRender($ppe),$ppa._renderShadow($ppe,!0),$ppn.endRenderTarget(1);this.removeShaderDefine($ppMn.SHADERDEFINE_CAST_SHADOW)},$ppa.addTreeNode=function($ppt){this.treeRoot.addTreeNode($ppt)},$ppa.removeTreeNode=function($ppt){this.treeSize&&$ppt._treeNode&&$ppt._treeNode.removeObject($ppt)},$ppa.setlightmaps=function($ppt){this._lightmaps=$ppt;for(var $ppe=0,$ppi=this._renderableSprite3Ds.length;$ppe<$ppi;$ppe++)this._renderableSprite3Ds[$ppe]._render._applyLightMapParams()},$ppa.getlightmaps=function(){return this._lightmaps},$ppa.addChildAt=function($ppt,$ppe){if(!($ppt instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");if(!$ppt||this.destroyed||$ppt===this)return $ppt;var $ppi;if($ppt.zOrder&&this._set$P("hasZorder",!0),0<=$ppe&&$ppe<=this._childs.length)return $ppt._parent===this?($ppi=this.getChildIndex($ppt),this._childs.splice($ppi,1),this._childs.splice($ppe,0,$ppt),this.conchModel&&(this.conchModel.removeChild($ppt.conchModel),this.conchModel.addChildAt($ppt.conchModel,$ppe)),this._childChanged()):($ppt.parent&&$ppt.parent.removeChild($ppt),this._childs===$ppT.ARRAY_EMPTY&&(this._childs=[]),this._childs.splice($ppe,0,$ppt),this.conchModel&&this.conchModel.addChildAt($ppt.conchModel,$ppe),($ppt.parent=this)._addChild3D($ppt)),$ppt;throw new Error("appendChildAt:The index is out of bounds")},$ppa.addChild=function($ppt){if(!($ppt instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");return!$ppt||this.destroyed||$ppt===this||($ppt.zOrder&&this._set$P("hasZorder",!0),$ppt._parent===this?($ppe=this.getChildIndex($ppt))!==this._childs.length-1&&(this._childs.splice($ppe,1),this._childs.push($ppt),this.conchModel&&(this.conchModel.removeChild($ppt.conchModel),this.conchModel.addChildAt($ppt.conchModel,this._childs.length-1)),this._childChanged()):($ppt.parent&&$ppt.parent.removeChild($ppt),this._childs===$ppT.ARRAY_EMPTY&&(this._childs=[]),this._childs.push($ppt),this.conchModel&&this.conchModel.addChildAt($ppt.conchModel,this._childs.length-1),($ppt.parent=this)._childChanged(),this._addChild3D($ppt))),$ppt;var $ppe},$ppa.removeChildAt=function($ppt){var $ppe=this.getChildAt($ppt);return $ppe&&(this._removeChild3D($ppe),this._childs.splice($ppt,1),this.conchModel&&this.conchModel.removeChild($ppe.conchModel),$ppe.parent=null),$ppe},$ppa.removeChildren=function($ppt,$ppe){if(void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=2147483647),this._childs&&0<this._childs.length){var $ppi=this._childs;var $ppn;0===$ppt&&$pps<=$ppe?($ppn=$ppi,this._childs=$ppT.ARRAY_EMPTY):$ppn=$ppi.splice($ppt,$ppe-$ppt);for(var $ppr=0,$pps=$ppn.length;$ppr<$pps;$ppr++)this._removeChild3D($ppn[$ppr]),$ppn[$ppr].parent=null,this.conchModel&&this.conchModel.removeChild($ppn[$ppr].conchModel)}return this},$ppa.addFrustumCullingObject=function($ppt){this.treeRoot?this.addTreeNode($ppt):(this._cullingRendersLength===this._cullingRenders.length?this._cullingRenders.push($ppt):this._cullingRenders[this._cullingRendersLength]=$ppt,$ppt._indexInSceneFrustumCullingObjects=this._cullingRendersLength++)},$ppa.removeFrustumCullingObject=function($ppt){var $ppe,$ppi;this.treeRoot?this.removeTreeNode($ppt):(this._cullingRendersLength--,($ppe=$ppt._indexInSceneFrustumCullingObjects)!==this._cullingRendersLength&&($ppi=this._cullingRenders[this._cullingRendersLength],(this._cullingRenders[$ppe]=$ppi)._indexInSceneFrustumCullingObjects=$ppe,$ppt._indexInSceneFrustumCullingObjects=-1))},$ppa.getRenderQueue=function($ppt){return $ppt<3e3?this._quenes[1]||(this._quenes[1]=new $ppAt(this)):this._quenes[2]||(this._quenes[2]=new $ppAt(this))},$ppa.addRenderQuene=function(){this._quenes[this._customRenderQueneIndex++]=new $ppAt(this)},$ppa.addShaderDefine=function($ppt){this._shaderDefineValue|=$ppt},$ppa.removeShaderDefine=function($ppt){this._shaderDefineValue&=~$ppt},$ppa.addScript=function($ppt){return this._addComponent($ppt)},$ppa.getScriptByType=function($ppt,$ppe){return this._getComponentByType($ppt,$ppe=void 0===$ppe?0:$ppe)},$ppa.getScriptsByType=function($ppt,$ppe){this._getComponentsByType($ppt,$ppe)},$ppa.getScriptByIndex=function($ppt){return this._getComponentByIndex($ppt)},$ppa.removeScriptByType=function($ppt,$ppe){this._removeComponentByType($ppt,$ppe=void 0===$ppe?0:$ppe)},$ppa.removeScriptsByType=function($ppt){this._removeComponentByType($ppt)},$ppa.removeAllScript=function(){this._removeAllComponent()},$ppa.render=function($ppt,$ppe,$ppi){($ppM._context.ctx._renderKey=0)<this._childs.length&&$ppt.addRenderObject(this)},$ppa.renderSubmit=function(){var $ppt=$ppF.mainContext;var $ppe=this._renderState;this._set3DRenderConfig($ppt),this._prepareSceneToRender(this._renderState);var $ppi,$ppn=0,$ppr=0;if($ppVn.debugMode||$ppPt.debugMode)for($ppn=0,$ppr=this._cameraPool.length;$ppn<$ppr;$ppn++)$ppi=this._cameraPool[$ppn],$ppVn._debugPhasorSprite.begin(1,$ppi),$ppi.activeInHierarchy&&$ppi._renderCamera($ppt,$ppe,this),$ppVn._debugPhasorSprite.end();else for($ppn=0,$ppr=this._cameraPool.length;$ppn<$ppr;$ppn++)($ppi=this._cameraPool[$ppn]).activeInHierarchy&&$ppi._renderCamera($ppt,$ppe,this);return this._set2DRenderConfig($ppt),1},$ppa.onAsynLoaded=function($ppt,$ppe,$ppi){var $ppn=$ppe[0];if("Scene"!==$ppn.type)throw new Error("Scene: the .lh file root type must be Scene,please use other function to  load  this file.");$ppe=$ppe[1];$ppOn._createNodeByJson(this,$ppn,this,$ppe),this.event("hierarchyloaded",[this]),this.__loaded=!0},$ppa.destroy=function($ppt){void 0===$ppt&&($ppt=!0),this.destroyed||($ppEr.prototype.destroy.call(this,$ppt),this._renderState=null,this._lights=null,this._lightmaps=null,this._renderTargetTexture=null,this._shaderValues=null,this._cullingRenders=null,this._dynamicBatchManager=null,this._quenes=null,this._cameraPool=null,this._renderableSprite3Ds=null,this.treeRoot=null,this.treeSize=null,this.parallelSplitShadowMaps=null,this._typeComponentsIndices=null,this._components=null,$ppx.clearRes(this.url),this.loaded||$ppVn._cancelLoadByUrl(this.url))},$ppa.getRenderType=function(){return 0},$ppa.releaseRender=function(){},$ppa._addComponent=function($ppt){var $ppe;var $ppi=this._componentsMap.indexOf($ppt);if(-1===$ppi)$ppe=[],this._componentsMap.push($ppt),this._typeComponentsIndices.push($ppe);else if($ppe=this._typeComponentsIndices[$ppi],this._components[$ppe[0]].isSingleton)throw new Error("无法单实例创建"+$ppt+"组件，"+$ppt+"组件已存在！");$ppi=$ppm.getInstance($ppt);$ppe.push(this._components.length),this._components.push($ppi);return $ppi._initialize(this),$ppi},$ppa._removeComponent=function($ppt,$ppe){var $ppi=this._typeComponentsIndices[$ppt];var $ppn=$ppi[$ppe];var $ppr=this._components[$ppn];this._components.splice($ppn,1),$ppi.splice($ppe,1),0===$ppi.length&&(this._typeComponentsIndices.splice($ppt,1),this._componentsMap.splice($ppt,1));for(var $pps=0,$ppa=this._componentsMap.length;$pps<$ppa;$pps++)for(var $ppo=($ppi=this._typeComponentsIndices[$pps]).length-1;0<=$ppo;$ppo--){var $pph=$ppi[$ppo];if(!($ppn<$pph))break;$ppi[$ppo]=--$pph}$ppr._destroy()},$ppa._getComponentByType=function($ppt,$ppe){void 0===$ppe&&($ppe=0);$ppt=this._componentsMap.indexOf($ppt);return-1===$ppt?null:this._components[this._typeComponentsIndices[$ppt][$ppe]]},$ppa._getComponentsByType=function($ppt,$ppe){$ppt=this._componentsMap.indexOf($ppt);if(-1!==$ppt){var $ppi=this._typeComponentsIndices[$ppt];var $ppn=$ppi.length;$ppe.length=$ppn;for(var $ppr=0;$ppr<$ppn;$ppr++)$ppe[$ppr]=this._components[$ppi[$ppr]]}else $ppe.length=0},$ppa._getComponentByIndex=function($ppt){return this._components[$ppt]},$ppa._removeComponentByType=function($ppt,$ppe){void 0===$ppe&&($ppe=0);$ppt=this._componentsMap.indexOf($ppt);-1!==$ppt&&this._removeComponent($ppt,$ppe)},$ppa._removeComponentsByType=function($ppt){var $ppe=this._componentsMap.indexOf($ppt);if(-1!==$ppe){var $ppi=this._typeComponentsIndices[$ppe];for(var $ppn=0,$ppr=$ppi.length;$ppn<$ppr;$ppi.length<$ppr?$ppr--:$ppn++)this._removeComponent($ppe,$ppn)}},$ppa._removeAllComponent=function(){for(var $ppt=0,$ppe=this._componentsMap.length;$ppt<$ppe;this._componentsMap.length<$ppe?$ppe--:$ppt++)this._removeComponentsByType(this._componentsMap[$ppt])},$ppa._updateComponents=function($ppt){for(var $ppe=0,$ppi=this._components.length;$ppe<$ppi;$ppe++){var $ppn=this._components[$ppe];$ppn.started||($ppn._start($ppt),$ppn.started=!0),$ppn.enable&&$ppn._update($ppt)}},$ppa._lateUpdateComponents=function($ppt){for(var $ppe=0;$ppe<this._components.length;$ppe++){var $ppi=this._components[$ppe];$ppi.started||($ppi._start($ppt),$ppi.started=!0),$ppi.enable&&$ppi._lateUpdate($ppt)}},$ppa._preRenderUpdateComponents=function($ppt){for(var $ppe=0;$ppe<this._components.length;$ppe++){var $ppi=this._components[$ppe];$ppi.started||($ppi._start($ppt),$ppi.started=!0),$ppi.enable&&$ppi._preRenderUpdate($ppt)}},$ppa._postRenderUpdateComponents=function($ppt){for(var $ppe=0;$ppe<this._components.length;$ppe++){var $ppi=this._components[$ppe];$ppi.started||($ppi._start($ppt),$ppi.started=!0),$ppi.enable&&$ppi._postRenderUpdate($ppt)}},$ppe(0,$ppa,"_loaded",null,function($ppt){this.__loaded=$ppt}),$ppe(0,$ppa,"fogColor",function(){return this._fogColor},function($ppt){this._fogColor=$ppt,this._shaderValues.setValue(0,$ppt.elements)}),$ppe(0,$ppa,"enableFog",function(){return this._enableFog},function($ppt){this._enableFog!==$ppt&&((this._enableFog=$ppt)?(this.addShaderDefine($ppar.SHADERDEFINE_FOG),this.removeShaderDefine($ppar.SAHDERDEFINE_DEPTHFOG)):this.removeShaderDefine($ppar.SHADERDEFINE_FOG))}),$ppe(0,$ppa,"url",function(){return this._url}),$ppe(0,$ppa,"loaded",function(){return this.__loaded}),$ppe(0,$ppa,"enableDepthFog",function(){return this._enableDepthFog},function($ppt){this._enableDepthFog!=$ppt&&((this._enableDepthFog=$ppt)?(this.addShaderDefine($ppar.SAHDERDEFINE_DEPTHFOG),this.removeShaderDefine($ppar.SHADERDEFINE_FOG)):this.removeShaderDefine($ppar.SAHDERDEFINE_DEPTHFOG))}),$ppe(0,$ppa,"fogStart",function(){return this._fogStart},function($ppt){this._fogStart=$ppt,this._shaderValues.setValue(1,$ppt)}),$ppe(0,$ppa,"fogRange",function(){return this._fogRange},function($ppt){this._fogRange=$ppt,this._shaderValues.setValue(2,$ppt)}),$ppe(0,$ppa,"ambientColor",function(){return this._ambientColor},function($ppt){this._ambientColor=$ppt,this._shaderValues.setValue(21,$ppt.elements)}),$ppe(0,$ppa,"scene",function(){return this}),$ppe(0,$ppa,"renderableSprite3Ds",function(){return this._renderableSprite3Ds.slice()}),$ppMr._sortScenes=function($ppt,$ppe){var $ppi;return $ppt.parent===$pph.stage&&$ppe.parent===$pph.stage?($ppi=$pph.stage._childs).indexOf($ppt)-$ppi.indexOf($ppe):$ppt.parent!==$pph.stage&&$ppe.parent!==$pph.stage?$ppMr._sortScenes($ppt.parent,$ppe.parent):$ppt.parent===$pph.stage?-1:1},$ppMr.load=function($ppt){return $pph.loader.create($ppt,null,null,$ppMr)},$ppMr.FOGCOLOR=0,$ppMr.FOGSTART=1,$ppMr.FOGRANGE=2,$ppMr.LIGHTDIRECTION=3,$ppMr.LIGHTDIRCOLOR=4,$ppMr.POINTLIGHTPOS=5,$ppMr.POINTLIGHTRANGE=6,$ppMr.POINTLIGHTATTENUATION=7,$ppMr.POINTLIGHTCOLOR=8,$ppMr.SPOTLIGHTPOS=9,$ppMr.SPOTLIGHTDIRECTION=10,$ppMr.SPOTLIGHTSPOT=11,$ppMr.SPOTLIGHTRANGE=12,$ppMr.SPOTLIGHTATTENUATION=13,$ppMr.SPOTLIGHTCOLOR=14,$ppMr.SHADOWDISTANCE=15,$ppMr.SHADOWLIGHTVIEWPROJECT=16,$ppMr.SHADOWMAPPCFOFFSET=17,$ppMr.SHADOWMAPTEXTURE1=18,$ppMr.SHADOWMAPTEXTURE2=19,$ppMr.SHADOWMAPTEXTURE3=20,$ppMr.AMBIENTCOLOR=21,$ppMr.TIME=22;var $ppCr=$ppMr;function $ppMr(){this._time=0,this._enableLightCount=3,this._customRenderQueneIndex=11,this.enableLight=!0,$ppMr.__super.call(this),this._renderState=new $ppIt,this._lights=[],this._quenes=[],this._cameraPool=[],this._renderableSprite3Ds=[],this.__loaded=!0,this._lightmaps=[],this._shaderValues=new $ppSn,this.parallelSplitShadowMaps=[],this._dynamicBatchManager=new $pp$t,this._cullingRenders=[],this._cullingRendersLength=0,this.enableFog=!1,this.fogStart=300,this.fogRange=1e3,this.fogColor=new $ppD(.7,.7,.7),this.ambientColor=new $ppD(.212,.227,.259),$ppF.shaderHighPrecision&&this.addShaderDefine($ppar.SHADERDEFINE_HIGHPRECISION),this.on("display",this,this._display),this.on("undisplay",this,this._unDisplay),this._componentsMap=[],this._typeComponentsIndices=[],this._components=[]}var $ppEr;$ppt($ppDr,"laya.d3.core.Sprite3D",$ppr),$ppv=$ppDr.prototype,$pph.imps($ppv,{"laya.d3.core.render.IUpdate":!0,"laya.resource.ICreateResource":!0,"laya.d3.core.IClone":!0}),$ppv._setUrl=function($ppt){this._url=$ppt},$ppv._getGroup=function(){return this._group},$ppv._setGroup=function($ppt){this._group=$ppt},$ppv._addChild3D=function($ppt){$ppt.transform.parent=this.transform,this._hierarchyAnimator&&($ppt._hierarchyAnimator||$ppt._setHierarchyAnimator(this._hierarchyAnimator,null),this._getAnimatorToLinkSprite3D($ppt,!0,[$ppt.name])),this._scene&&($ppt._setBelongScene(this._scene),this._activeInHierarchy&&$ppt._active&&$ppt._activeHierarchy())},$ppv._removeChild3D=function($ppt){$ppt.transform.parent=null,this._scene&&(this._activeInHierarchy&&$ppt._active&&$ppt._inActiveHierarchy(),$ppt._setUnBelongScene()),this._hierarchyAnimator&&($ppt._hierarchyAnimator==this._hierarchyAnimator&&$ppt._clearHierarchyAnimator(this._hierarchyAnimator,null),this._getAnimatorToLinkSprite3D($ppt,!1,[$ppt.name]))},$ppv._parseBaseCustomProps=function($ppt){var $ppe=this.transform.localPosition;$ppt.translate?($ppe.fromArray($ppt.translate),$ppe.x*=100,$ppe.y*=100,$ppe.z*=100):$ppe.elements.fill(0),this.transform.localPosition=$ppe;$ppe=this.transform.localRotation;$ppt.rotation?$ppe.fromArray($ppt.rotation):$ppe.fromArray([0,0,0,-1]),this.transform.localRotation=$ppe;$ppe=this.transform.localScale;$ppt.scale?$ppe.fromArray($ppt.scale):$ppe.elements.fill(1),this.transform.localScale=$ppe;$ppe=$ppt.layer;null!=$ppe&&(this.layer=$pp$.getLayerByNumber($ppe))},$ppv._parseCustomComponent=function($ppc,$ppt,$ppe){for(var $ppi in $ppe){var $ppn=$ppe[$ppi];switch($ppi){case"Animator":var $ppr=this.addComponent(Animator);$ppn.avatarPath?$ppr.avatar=$ppx.getRes($ppt[$ppn.avatarPath]):($ppo=$ppn.avatar)&&($ppr.avatar=$ppx.getRes($ppt[$ppo.path]),($ppo=$ppo.linkSprites)&&$ppc.once("hierarchyloaded",this,this._onRootNodeHierarchyLoaded,[$ppr,$ppo]));var $pps=$ppn.clipPaths;var $ppu=$pps.length;for(var $ppa=0;$ppa<$ppu;$ppa++)$ppr.addClip($ppx.getRes($ppt[$pps[$ppa]]));$ppr.clip=$ppx.getRes($ppt[$pps[0]]);var $ppo=$ppn.playOnWake;void 0!==$ppo&&($ppr.playOnWake=$ppo);break;case"Rigidbody":this.addComponent(Rigidbody);break;case"SphereCollider":var $pph=this.addComponent(SphereCollider);$pph.isTrigger=$ppn.isTrigger;var $ppl=$pph.center;$ppl.fromArray($ppn.center),$pph.center=$ppl,$pph.radius=$ppn.radius;break;case"BoxCollider":$ppl=this.addComponent(BoxCollider);$ppl.isTrigger=$ppn.isTrigger,$ppl.center.fromArray($ppn.center);$pph=$ppl.size;$pph.fromArray($ppn.size),$ppl.size=$pph;break;case"MeshCollider":this.addComponent(MeshCollider)}}},$ppv._onRootNodeHierarchyLoaded=function($ppt,$ppe){for(var $ppi in $ppe){var $ppn=this;var $ppr=$ppe[$ppi];for(var $pps=0,$ppa=$ppr.length;$pps<$ppa;$pps++){var $ppo=$ppr[$pps];if(""===$ppo)break;if(!($ppn=$ppn.getChildByName($ppo)))break}$ppn&&$ppt.linkSprite3DToAvatarNode($ppi,$ppn)}},$ppv._setHierarchyAnimator=function($ppt,$ppe){this._changeHierarchyAnimator($ppt);for(var $ppi=0,$ppn=this._childs.length;$ppi<$ppn;$ppi++){var $ppr=this._childs[$ppi];$ppr._hierarchyAnimator==$ppe&&$ppr._setHierarchyAnimator($ppt,$ppe)}},$ppv._clearHierarchyAnimator=function($ppt,$ppe){this._changeHierarchyAnimator($ppe);for(var $ppi=0,$ppn=this._childs.length;$ppi<$ppn;$ppi++){var $ppr=this._childs[$ppi];$ppr._hierarchyAnimator==$ppt&&$ppr._clearHierarchyAnimator($ppt,$ppe)}},$ppv._getAnimatorToLinkSprite3D=function($ppt,$ppe,$ppi){var $ppn=this.getComponentByType(Animator);$ppn&&($ppn.avatar?$ppn.avatar._version||$ppt._setAnimatorToLinkAvatar($ppn,$ppe):$ppt._setAnimatorToLinkSprite3DNoAvatar($ppn,$ppe,$ppi)),this._parent&&this._parent instanceof laya.d3.core.Sprite3D&&($ppi.unshift(this._parent.name),($ppn=this._parent)._hierarchyAnimator&&$ppn._getAnimatorToLinkSprite3D($ppt,$ppe,$ppi))},$ppv._setAnimatorToLinkSprite3DNoAvatar=function($ppt,$ppe,$ppi){var $ppn=0,$ppr=0;for($ppn=0,$ppr=$ppt.getClipCount();$ppn<$ppr;$ppn++)$ppt._handleSpriteOwnersBySprite($ppn,$ppe,$ppi,this);for($ppn=0,$ppr=this._childs.length;$ppn<$ppr;$ppn++){var $pps=this._childs[$ppn];var $ppa=$ppi.length;$ppi.push($pps.name),$pps._setAnimatorToLinkSprite3DNoAvatar($ppt,$ppe,$ppi),$ppi.splice($ppa,1)}},$ppv._changeHierarchyAnimator=function($ppt){this._hierarchyAnimator=$ppt},$ppv._isLinkSpriteToAnimationNode=function($ppt,$ppe,$ppi){var $ppn=$ppt._avatarNodes.indexOf($ppe);var $ppr=$ppt._cacheSpriteToNodesMap;$ppi?(this._transform.dummy=$ppe.transform,$ppt._cacheNodesToSpriteMap[$ppn]=$ppr.length,$ppr.push($ppn)):(this._transform.dummy=null,$ppi=$ppt._cacheNodesToSpriteMap[$ppn],$ppt._cacheNodesToSpriteMap[$ppn]=null,$ppr.splice($ppi,1))},$ppv._setBelongScene=function($ppt){this._scene=$ppt;for(var $ppe=0,$ppi=this._childs.length;$ppe<$ppi;$ppe++)this._childs[$ppe]._setBelongScene($ppt)},$ppv._setUnBelongScene=function(){this._scene=null;for(var $ppt=0,$ppe=this._childs.length;$ppt<$ppe;$ppt++)this._childs[$ppt]._setUnBelongScene()},$ppv._activeHierarchy=function(){var $ppt=0,$ppe=0;for(this._activeInHierarchy=!0,this._addSelfRenderObjects(),$ppt=0,$ppe=this._colliders.length;$ppt<$ppe;$ppt++)this._layer._addCollider(this._colliders[$ppt]);for(this.event("activeinhierarchychanged",!0),$ppt=0,$ppe=this._childs.length;$ppt<$ppe;$ppt++){var $ppi=this._childs[$ppt];$ppi._active&&$ppi._activeHierarchy()}},$ppv._inActiveHierarchy=function(){var $ppt=0,$ppe=0;for(this._activeInHierarchy=!1,this._clearSelfRenderObjects(),$ppt=0,$ppe=this._colliders.length;$ppt<$ppe;$ppt++){var $ppi=this._colliders[$ppt];$ppi._clearCollsionMap(),this._layer._removeCollider($ppi)}for(this.event("activeinhierarchychanged",!1),$ppt=0,$ppe=this._childs.length;$ppt<$ppe;$ppt++){var $ppn=this._childs[$ppt];$ppn._active&&$ppn._inActiveHierarchy()}},$ppv.addComponent=function($ppt){var $ppe;var $ppi=this._componentsMap.indexOf($ppt);if(-1===$ppi)$ppe=[],this._componentsMap.push($ppt),this._typeComponentsIndices.push($ppe);else if($ppe=this._typeComponentsIndices[$ppi],this._components[$ppe[0]].isSingleton)throw new Error("无法单实例创建"+$ppt+"组件，"+$ppt+"组件已存在！");$ppi=$ppm.getInstance($ppt);if($ppe.push(this._components.length),this._components.push($ppi),$ppi instanceof laya.d3.component.physics.Collider)this.getComponentByType(Rigidbody)&&($ppi._isRigidbody=!0),this._activeInHierarchy&&this._layer._addCollider($ppi),this._colliders.push($ppi);else if($ppi instanceof laya.d3.component.Animator){$ppt=$ppi;this._setHierarchyAnimator($ppt,this._parent?this._parent._hierarchyAnimator:null),this._setAnimatorToLinkSprite3DNoAvatar($ppt,!0,[])}else if($ppi instanceof laya.d3.component.Rigidbody)for(var $ppn=0,$ppr=this._colliders.length;$ppn<$ppr;$ppn++)this._colliders[$ppn]._setIsRigidbody(!0);return $ppi instanceof laya.d3.component.Script&&this._scripts.push($ppi),$ppi._initialize(this),$ppi},$ppv._removeComponent=function($ppt,$ppe){var $ppi=0,$ppn=0;var $ppr=this._typeComponentsIndices[$ppt];var $pps=$ppr[$ppe];var $ppa=this._components[$pps];if($ppa instanceof laya.d3.component.physics.Collider){var $ppo=$ppa;this._activeInHierarchy&&this._layer._removeCollider($ppo),this._colliders.splice(this._colliders.indexOf($ppo),1)}else if($ppa instanceof laya.d3.component.Animator)this._clearHierarchyAnimator($ppa,this._parent?this._parent._hierarchyAnimator:null);else if($ppa instanceof laya.d3.component.Rigidbody)for($ppi=0,$ppn=this._colliders.length;$ppi<$ppn;$ppi++){var $pph=this._colliders[$ppi];$pph._setIsRigidbody(!1);var $ppc=$pph._runtimeCollisonMap;var $ppu=$pph._runtimeCollisonTestMap;for(var $pp_ in $ppc)delete $ppu[$pp_]}for(this._components.splice($pps,1),$ppa instanceof laya.d3.component.Script&&this._scripts.splice(this._scripts.indexOf($ppa),1),$ppr.splice($ppe,1),0===$ppr.length&&(this._typeComponentsIndices.splice($ppt,1),this._componentsMap.splice($ppt,1)),$ppi=0,$ppn=this._componentsMap.length;$ppi<$ppn;$ppi++)for(var $ppl=($ppr=this._typeComponentsIndices[$ppi]).length-1;0<=$ppl;$ppl--){var $ppd=$ppr[$ppl];if(!($pps<$ppd))break;$ppr[$ppl]=--$ppd}$ppa._destroy()},$ppv._clearSelfRenderObjects=function(){},$ppv._addSelfRenderObjects=function(){},$ppv._parseCustomProps=function($ppt,$ppe,$ppi,$ppn){},$ppv._updateChilds=function($ppt){var $ppe=this._childs.length;if(0!==$ppe)for(var $ppi=0;$ppi<$ppe;++$ppi)this._childs[$ppi]._update($ppt)},$ppv._getSortID=function($ppt,$ppe){return 1e3*$ppe.id+$ppt._getVertexBuffer().vertexDeclaration.id},$ppv._update=function($ppt){($ppt.owner=this)._activeInHierarchy&&(this._updateComponents($ppt),this._lateUpdateComponents($ppt),$ppL.spriteCount++,this._childs.length&&this._updateChilds($ppt))},$ppv.getProjectionViewWorldMatrix=function($ppt){return $pptn.multiply($ppt,this.transform.worldMatrix,this._projectionViewWorldMatrix),this._projectionViewWorldMatrix},$ppv.loadHierarchy=function($ppt){this.addChild(laya.d3.core.Sprite3D.load($ppt))},$ppv.addChildAt=function($ppt,$ppe){if(!($ppt instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");if(!$ppt||this.destroyed||$ppt===this)return $ppt;var $ppi;if($ppt.zOrder&&this._set$P("hasZorder",!0),0<=$ppe&&$ppe<=this._childs.length)return $ppt._parent===this?($ppi=this.getChildIndex($ppt),this._childs.splice($ppi,1),this._childs.splice($ppe,0,$ppt),this.conchModel&&(this.conchModel.removeChild($ppt.conchModel),this.conchModel.addChildAt($ppt.conchModel,$ppe)),this._childChanged()):($ppt.parent&&$ppt.parent.removeChild($ppt),this._childs===$ppT.ARRAY_EMPTY&&(this._childs=[]),this._childs.splice($ppe,0,$ppt),this.conchModel&&this.conchModel.addChildAt($ppt.conchModel,$ppe),($ppt.parent=this)._addChild3D($ppt)),$ppt;throw new Error("appendChildAt:The index is out of bounds")},$ppv.addChild=function($ppt){if(!($ppt instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");return!$ppt||this.destroyed||$ppt===this||($ppt.zOrder&&this._set$P("hasZorder",!0),$ppt._parent===this?($ppe=this.getChildIndex($ppt))!==this._childs.length-1&&(this._childs.splice($ppe,1),this._childs.push($ppt),this.conchModel&&(this.conchModel.removeChild($ppt.conchModel),this.conchModel.addChildAt($ppt.conchModel,this._childs.length-1)),this._childChanged()):($ppt.parent&&$ppt.parent.removeChild($ppt),this._childs===$ppT.ARRAY_EMPTY&&(this._childs=[]),this._childs.push($ppt),this.conchModel&&this.conchModel.addChildAt($ppt.conchModel,this._childs.length-1),($ppt.parent=this)._childChanged(),this._addChild3D($ppt))),$ppt;var $ppe},$ppv.removeChildAt=function($ppt){var $ppe=this.getChildAt($ppt);return $ppe&&(this._removeChild3D($ppe),this._childs.splice($ppt,1),this.conchModel&&this.conchModel.removeChild($ppe.conchModel),$ppe.parent=null),$ppe},$ppv.removeChildren=function($ppt,$ppe){if(void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=2147483647),this._childs&&0<this._childs.length){var $ppi=this._childs;var $ppn;0===$ppt&&$pps<=$ppe?($ppn=$ppi,this._childs=$ppT.ARRAY_EMPTY):$ppn=$ppi.splice($ppt,$ppe-$ppt);for(var $ppr=0,$pps=$ppn.length;$ppr<$pps;$ppr++)this._removeChild3D($ppn[$ppr]),$ppn[$ppr].parent=null,this.conchModel&&this.conchModel.removeChild($ppn[$ppr].conchModel)}return this},$ppv.onAsynLoaded=function($ppt,$ppe,$ppi){var $ppn=$ppe[0];if("Sprite3D"!==$ppn.type)throw new Error("Sprite3D: The .lh file root type must be Sprite3D,please use other function to  load  this file.");$ppe=$ppe[1];$ppOn._createNodeByJson(this,$ppn,this,$ppe),this.event("hierarchyloaded",[this]),this.__loaded=!0},$ppv.cloneTo=function($ppt){if(this.destroyed)throw new Error("Sprite3D: Can't be cloned if the Sprite3D has destroyed.");var $ppe=$ppt;$ppe.name=this.name,$ppe._destroyed=this._destroyed,$ppe.timer=this.timer,$ppe._$P=this._$P,$ppe.active=this._active;$ppt=$ppe.transform.localPosition;this.transform.localPosition.cloneTo($ppt),$ppe.transform.localPosition=$ppt;$ppt=$ppe.transform.localRotation;this.transform.localRotation.cloneTo($ppt),$ppe.transform.localRotation=$ppt;$ppt=$ppe.transform.localScale;this.transform.localScale.cloneTo($ppt),$ppe.transform.localScale=$ppt,$ppe.isStatic=this.isStatic;var $ppi=0,$ppn=0;for($ppi=0,$ppn=this._componentsMap.length;$ppi<$ppn;$ppi++){var $ppc=$ppe.addComponent(this._componentsMap[$ppi]);this._components[$ppi]._cloneTo($ppc)}for($ppi=0,$ppn=this._childs.length;$ppi<$ppn;$ppi++)$ppe.addChild(this._childs[$ppi].clone());var $ppr=$ppe.getComponentByType(Animator);if($ppr){var $pps=$ppr._linkSpritesData;if($pps)for(var $ppa in $pps){var $ppo=$pps[$ppa];var $pph=$ppe;for(var $ppl=0,$ppu=$ppo.length;$ppl<$ppu&&($pph=$pph.getChildByName($ppo[$ppl]));$ppl++);$pph&&($ppa=$ppr._avatarNodeMap[$ppa],$pph._isLinkSpriteToAnimationNode($ppr,$ppa,!0))}}},$ppv.clone=function(){var $ppt=new this.constructor;return this.cloneTo($ppt),$ppt},$ppv.destroy=function($ppt){if(void 0===$ppt&&($ppt=!0),!this.destroyed){laya.display.Node.prototype.destroy.call(this,$ppt);var $ppe,$ppi=0;for($ppi=0,$ppe=this._components.length;$ppi<$ppe;$ppi++)this._components[$ppi]._destroy();this._components=null,this._componentsMap=null,this._typeComponentsIndices=null,this._transform=null,this._colliders=null,$ppx.clearRes(this.url),this.loaded||$ppVn._cancelLoadByUrl(this.url)}},$ppv._handleSpriteToAvatar=function($ppt,$ppe){$ppt._avatarNodes;var $ppi=$ppt._avatarNodeMap[this.name];$ppi&&$ppi.name===this.name&&!this._transform.dummy&&this._isLinkSpriteToAnimationNode($ppt,$ppi,$ppe)},$ppv._setAnimatorToLinkAvatar=function($ppt,$ppe){this._handleSpriteToAvatar($ppt,$ppe);for(var $ppi=0,$ppn=this._childs.length;$ppi<$ppn;$ppi++)this._childs[$ppi]._setAnimatorToLinkAvatar($ppt,$ppe)},$ppe(0,$ppv,"activeInHierarchy",function(){return this._activeInHierarchy}),$ppe(0,$ppv,"_loaded",null,function($ppt){this.__loaded=$ppt}),$ppe(0,$ppv,"active",function(){return this._active},function($ppt){this._active!==$ppt&&(this._active=$ppt,this._parent&&(this._parent===this._scene&&this._parent.displayedInStage||this._parent._activeInHierarchy)&&($ppt?this._activeHierarchy():this._inActiveHierarchy()))}),$ppe(0,$ppv,"componentsCount",function(){return this._components.length}),$ppe(0,$ppv,"loaded",function(){return this.__loaded}),$ppe(0,$ppv,"id",function(){return this._id}),$ppe(0,$ppv,"url",function(){return this._url}),$ppe(0,$ppv,"layer",function(){return this._layer},function($ppt){if(this._layer!==$ppt){if(!$ppt)throw new Error("Layer value can be null.");if(this._activeInHierarchy){var $ppe=0,$ppi=this._colliders.length;if(this._layer)for($ppe=0;$ppe<$ppi;$ppe++)this._layer._removeCollider(this._colliders[$ppe]);for($ppe=0;$ppe<$ppi;$ppe++)$ppt._addCollider(this._colliders[$ppe])}this._layer=$ppt,this.event("layerchanged",$ppt)}}),$ppe(0,$ppv,"scene",function(){return this._scene}),$ppe(0,$ppv,"transform",function(){return this._transform}),$ppDr.instantiate=function($ppt,$ppe,$ppi,$ppn,$ppr){void 0===$ppi&&($ppi=!0);var $pps=$ppt.clone();$ppe&&$ppe.addChild($pps);$ppe=$pps.transform;return $ppi?($ppi=$ppe.worldMatrix,$ppt.transform.worldMatrix.cloneTo($ppi),$ppe.worldMatrix=$ppi):($ppn&&($ppe.position=$ppn),$ppr&&($ppe.rotation=$ppr)),$pps},$ppDr.load=function($ppt){return $pph.loader.create($ppt,null,null,$ppDr)},$ppDr.WORLDMATRIX=0,$ppDr.MVPMATRIX=1,$ppDr._uniqueIDCounter=0,$ppDr._nameNumberCounter=0;var $ppAr=$ppDr;function $ppDr($ppt){$ppDr.__super.call(this),this.__loaded=!0,this._projectionViewWorldUpdateLoopCount=-1,this._activeInHierarchy=!1,this._projectionViewWorldMatrix=new $pptn,this._shaderValues=new $ppSn,this._colliders=[],this._id=++$ppDr._uniqueIDCounter,this._transform=new $ppYn(this),this.name=$ppt||"Sprite3D-"+$ppDr._nameNumberCounter++,this.layer=$pp$.currentCreationLayer,this.active=!0}$ppt($ppRr,"laya.d3.shader.Shader3D",$pp_),($ppjr=$ppRr.prototype).recreateResource=function(){this._compile(),this.completeCreate(),this.memorySize=0},$ppjr.disposeResource=function(){$ppF.mainContext.deleteShader(this._vshader),$ppF.mainContext.deleteShader(this._pshader),$ppF.mainContext.deleteProgram(this._program),this._vshader=this._pshader=this._program=null,this._attributeParams=null,this._uniformParams=null,this.memorySize=0,this._curActTexIndex=0},$ppjr._compile=function(){if(this._vs&&this._ps&&!this._attributeParams&&!this._uniformParams){this._reCompile=!0,this._attributeParams=[],this._uniformParams=[];var $ppt=[this._vs,this._ps];var $ppe=$ppF.mainContext;if(this._program=$ppe.createProgram(),this._vshader=$ppRr._createShader($ppe,$ppt[0],35633),this._pshader=$ppRr._createShader($ppe,$ppt[1],35632),$ppe.attachShader(this._program,this._vshader),$ppe.attachShader(this._program,this._pshader),$ppe.linkProgram(this._program),!$ppM.isConchApp&&$ppar.debugMode&&!$ppe.getProgramParameter(this._program,35714))throw $ppe.getProgramInfoLog(this._program);var $ppi,$ppn=0,$ppr=0;var $pps=0;for($pps=$ppM.isConchApp?$ppe.getProgramParameterEx(this._vs,this._ps,"",35721):$ppe.getProgramParameter(this._program,35721),$ppn=0;$ppn<$pps;$ppn++){var $ppa=null;$ppi={vartype:"attribute",ivartype:0,attrib:$ppa=$ppM.isConchApp?$ppe.getActiveAttribEx(this._vs,this._ps,"",$ppn):$ppe.getActiveAttrib(this._program,$ppn),location:$ppe.getAttribLocation(this._program,$ppa.name),name:$ppa.name,type:$ppa.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0},this._attributeParams.push($ppi)}var $ppo=0;for($ppo=$ppM.isConchApp?$ppe.getProgramParameterEx(this._vs,this._ps,"",35718):$ppe.getProgramParameter(this._program,35718),$ppn=0;$ppn<$ppo;$ppn++){var $pph=null;$pph=$ppM.isConchApp?$ppe.getActiveUniformEx(this._vs,this._ps,"",$ppn):$ppe.getActiveUniform(this._program,$ppn),0<($ppi={vartype:"uniform",ivartype:1,attrib:$ppa,location:$ppe.getUniformLocation(this._program,$pph.name),name:$pph.name,type:$pph.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0}).name.indexOf("[0]")&&($ppi.name=$ppi.name.substr(0,$ppi.name.length-3),$ppi.isArray=!0,$ppi.location=$ppe.getUniformLocation(this._program,$ppi.name)),this._uniformParams.push($ppi)}for($ppn=0,$ppr=this._attributeParams.length;$ppn<$ppr;$ppn++)($ppi=this._attributeParams[$ppn]).indexOfParams=$ppn,$ppi.index=1,$ppi.value=[$ppi.location,null],$ppi.codename=$ppi.name,$ppi.name=null!=this._attributeMap[$ppi.codename]?this._attributeMap[$ppi.codename]:$ppi.codename,this._attributeParamsMap.push($ppi.name),this._attributeParamsMap.push($ppi),$ppi._this=this,$ppi.uploadedValue=[],$ppi.fun=this._attribute;for($ppn=0,$ppr=this._uniformParams.length;$ppn<$ppr;$ppn++)switch(($ppi=this._uniformParams[$ppn]).indexOfParams=$ppn,$ppi.index=1,$ppi.value=[$ppi.location,null],$ppi.codename=$ppi.name,null!=this._sceneUniformMap[$ppi.codename]?($ppi.name=this._sceneUniformMap[$ppi.codename],this._sceneUniformParamsMap.push($ppi.name),this._sceneUniformParamsMap.push($ppi)):null!=this._cameraUniformMap[$ppi.codename]?($ppi.name=this._cameraUniformMap[$ppi.codename],this._cameraUniformParamsMap.push($ppi.name),this._cameraUniformParamsMap.push($ppi)):null!=this._spriteUniformMap[$ppi.codename]?($ppi.name=this._spriteUniformMap[$ppi.codename],this._spriteUniformParamsMap.push($ppi.name),this._spriteUniformParamsMap.push($ppi)):null!=this._materialUniformMap[$ppi.codename]?($ppi.name=this._materialUniformMap[$ppi.codename],this._materialUniformParamsMap.push($ppi.name),this._materialUniformParamsMap.push($ppi)):null!=this._renderElementUniformMap[$ppi.codename]?($ppi.name=this._renderElementUniformMap[$ppi.codename],this._renderElementUniformParamsMap.push($ppi.name),this._renderElementUniformParamsMap.push($ppi)):console.log("Shader:can't find uinform name:"+$ppi.codename+" in shader file."),$ppi._this=this,$ppi.uploadedValue=[],$ppi.type){case 5124:$ppi.fun=$ppi.isArray?this._uniform1iv:this._uniform1i;break;case 5126:$ppi.fun=$ppi.isArray?this._uniform1fv:this._uniform1f;break;case 35664:$ppi.fun=$ppi.isArray?this._uniform_vec2v:this._uniform_vec2;break;case 35665:$ppi.fun=$ppi.isArray?this._uniform_vec3v:this._uniform_vec3;break;case 35666:$ppi.fun=$ppi.isArray?this._uniform_vec4v:this._uniform_vec4;break;case 35678:$ppi.fun=this._uniform_sampler2D;break;case 35680:$ppi.fun=this._uniform_samplerCube;break;case 35676:$ppi.fun=this._uniformMatrix4fv;break;case 35670:$ppi.fun=this._uniform1i;break;case 35674:$ppi.fun=this._uinformMatrix2fv;break;case 35675:$ppi.fun=this._uinformMatrix3fv;break;default:throw new Error("compile shader err!")}}},$ppjr._attribute=function($ppt,$ppe){var $ppi=$ppF.mainContext;var $ppn=$ppd._enableAtributes;$ppt=$ppt.location;return $ppn[$ppt]||$ppi.enableVertexAttribArray($ppt),$ppi.vertexAttribPointer($ppt,$ppe[0],$ppe[1],$ppe[2],$ppe[3],$ppe[4]),$ppn[$ppt]=$ppd._bindVertexBuffer,1},$ppjr._uniform1f=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe?($ppF.mainContext.uniform1f($ppt.location,$ppi[0]=$ppe),1):0},$ppjr._uniform1fv=function($ppt,$ppe){var $ppi;return $ppe.length<4?($ppi=$ppt.uploadedValue)[0]!==$ppe[0]||$ppi[1]!==$ppe[1]||$ppi[2]!==$ppe[2]||$ppi[3]!==$ppe[3]?($ppF.mainContext.uniform1fv($ppt.location,$ppe),$ppi[0]=$ppe[0],$ppi[1]=$ppe[1],$ppi[2]=$ppe[2],$ppi[3]=$ppe[3],1):0:($ppF.mainContext.uniform1fv($ppt.location,$ppe),1)},$ppjr._uniform_vec2=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe[0]||$ppi[1]!==$ppe[1]?($ppF.mainContext.uniform2f($ppt.location,$ppi[0]=$ppe[0],$ppi[1]=$ppe[1]),1):0},$ppjr._uniform_vec2v=function($ppt,$ppe){var $ppi;return $ppe.length<2?($ppi=$ppt.uploadedValue)[0]!==$ppe[0]||$ppi[1]!==$ppe[1]||$ppi[2]!==$ppe[2]||$ppi[3]!==$ppe[3]?($ppF.mainContext.uniform2fv($ppt.location,$ppe),$ppi[0]=$ppe[0],$ppi[1]=$ppe[1],$ppi[2]=$ppe[2],$ppi[3]=$ppe[3],1):0:($ppF.mainContext.uniform2fv($ppt.location,$ppe),1)},$ppjr._uniform_vec3=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe[0]||$ppi[1]!==$ppe[1]||$ppi[2]!==$ppe[2]?($ppF.mainContext.uniform3f($ppt.location,$ppi[0]=$ppe[0],$ppi[1]=$ppe[1],$ppi[2]=$ppe[2]),1):0},$ppjr._uniform_vec3v=function($ppt,$ppe){return $ppF.mainContext.uniform3fv($ppt.location,$ppe),1},$ppjr._uniform_vec4=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe[0]||$ppi[1]!==$ppe[1]||$ppi[2]!==$ppe[2]||$ppi[3]!==$ppe[3]?($ppF.mainContext.uniform4f($ppt.location,$ppi[0]=$ppe[0],$ppi[1]=$ppe[1],$ppi[2]=$ppe[2],$ppi[3]=$ppe[3]),1):0},$ppjr._uniform_vec4v=function($ppt,$ppe){return $ppF.mainContext.uniform4fv($ppt.location,$ppe),1},$ppjr._uniformMatrix2fv=function($ppt,$ppe){return $ppF.mainContext.uniformMatrix2fv($ppt.location,!1,$ppe),1},$ppjr._uniformMatrix3fv=function($ppt,$ppe){return $ppF.mainContext.uniformMatrix3fv($ppt.location,!1,$ppe),1},$ppjr._uniformMatrix4fv=function($ppt,$ppe){return $ppF.mainContext.uniformMatrix4fv($ppt.location,!1,$ppe),1},$ppjr._uinformMatrix2fv=function($ppt,$ppe){return $ppF.mainContext.uniformMatrix2fv($ppt.location,!1,$ppe),1},$ppjr._uinformMatrix3fv=function($ppt,$ppe){return $ppF.mainContext.uniformMatrix3fv($ppt.location,!1,$ppe),1},$ppjr._uniform1i=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe?($ppF.mainContext.uniform1i($ppt.location,$ppi[0]=$ppe),1):0},$ppjr._uniform1iv=function($ppt,$ppe){return $ppF.mainContext.uniform1iv($ppt.location,$ppe),1},$ppjr._uniform_ivec2=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe[0]||$ppi[1]!==$ppe[1]?($ppF.mainContext.uniform2i($ppt.location,$ppi[0]=$ppe[0],$ppi[1]=$ppe[1]),1):0},$ppjr._uniform_ivec2v=function($ppt,$ppe){return $ppF.mainContext.uniform2iv($ppt.location,$ppe),1},$ppjr._uniform_vec3i=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe[0]||$ppi[1]!==$ppe[1]||$ppi[2]!==$ppe[2]?($ppF.mainContext.uniform3i($ppt.location,$ppi[0]=$ppe[0],$ppi[1]=$ppe[1],$ppi[2]=$ppe[2]),1):0},$ppjr._uniform_vec3vi=function($ppt,$ppe){return $ppF.mainContext.uniform3iv($ppt.location,$ppe),1},$ppjr._uniform_vec4i=function($ppt,$ppe){var $ppi=$ppt.uploadedValue;return $ppi[0]!==$ppe[0]||$ppi[1]!==$ppe[1]||$ppi[2]!==$ppe[2]||$ppi[3]!==$ppe[3]?($ppF.mainContext.uniform4i($ppt.location,$ppi[0]=$ppe[0],$ppi[1]=$ppe[1],$ppi[2]=$ppe[2],$ppi[3]=$ppe[3]),1):0},$ppjr._uniform_vec4vi=function($ppt,$ppe){return $ppF.mainContext.uniform4iv($ppt.location,$ppe),1},$ppjr._uniform_sampler2D=function($ppt,$ppe){$ppe=$ppe.source||$ppe.defaulteTexture.source;var $ppi=$ppF.mainContext;var $ppn=$ppt.uploadedValue;if(null!=$ppn[0])return $ppi.activeTexture($ppRr._TEXTURES[$ppn[0]]),$ppe&&$ppV.bindTexture($ppi,3553,$ppe),0;if(7<this._curActTexIndex)throw new Error("Shader3D: shader support textures max count is 8,can't large than it.");return $ppn[0]=this._curActTexIndex,$ppi.uniform1i($ppt.location,this._curActTexIndex),$ppi.activeTexture($ppRr._TEXTURES[this._curActTexIndex]),$ppe&&$ppV.bindTexture($ppi,3553,$ppe),this._curActTexIndex++,1},$ppjr._uniform_samplerCube=function($ppt,$ppe){$ppe=$ppe.source||$ppe.defaulteTexture.source;var $ppi=$ppF.mainContext;var $ppn=$ppt.uploadedValue;if(null!=$ppn[0])return $ppi.activeTexture($ppRr._TEXTURES[$ppn[0]]),$ppe?$ppV.bindTexture($ppi,34067,$ppe):$ppV.bindTexture($ppi,34067,SolidColorTextureCube.grayTexture.source),0;if(7<this._curActTexIndex)throw new Error("Shader3D: shader support textures max count is 8,can't large than it.");return $ppn[0]=this._curActTexIndex,$ppi.uniform1i($ppt.location,this._curActTexIndex),$ppi.activeTexture($ppRr._TEXTURES[this._curActTexIndex]),$ppe?$ppV.bindTexture($ppi,34067,$ppe):$ppV.bindTexture($ppi,34067,SolidColorTextureCube.grayTexture.source),this._curActTexIndex++,1},$ppjr._noSetValue=function($ppt){console.log("no....:"+$ppt.name)},$ppjr.bind=function(){return $pp_.activeShader=this,($pp_.bindShader=this).activeResource(),$ppV.UseProgram(this._program)},$ppjr.uploadAttributes=function($ppt,$ppe){var $ppi;var $ppn,$ppr=0;for(var $pps=0,$ppa=this._attributeParamsMap.length;$pps<$ppa;$pps+=2)$ppn=this._attributeParamsMap[$pps+1],null!=($ppi=$ppt[this._attributeParamsMap[$pps]])&&($ppe&&$ppe[$ppn.name]&&$ppe[$ppn.name].bind(),$ppr+=$ppn.fun.call(this,$ppn,$ppi));$ppL.shaderCall+=$ppr},$ppjr.uploadAttributesX=function($ppt,$ppe){var $ppi;var $ppn,$ppr=0;for(var $pps=0,$ppa=this._attributeParamsMap.length;$pps<$ppa;$pps+=2)$ppn=this._attributeParamsMap[$pps+1],null!=($ppi=$ppt[this._attributeParamsMap[$pps]])&&($ppe._bind(),$ppr+=$ppn.fun.call(this,$ppn,$ppi));$ppL.shaderCall+=$ppr},$ppjr.uploadSceneUniforms=function($ppt){var $ppe;var $ppi,$ppn=0;for(var $ppr=0,$pps=this._sceneUniformParamsMap.length;$ppr<$pps;$ppr+=2)$ppi=this._sceneUniformParamsMap[$ppr+1],null!=($ppe=$ppt[this._sceneUniformParamsMap[$ppr]])&&($ppn+=$ppi.fun.call(this,$ppi,$ppe));$ppL.shaderCall+=$ppn},$ppjr.uploadCameraUniforms=function($ppt){var $ppe;var $ppi,$ppn=0;for(var $ppr=0,$pps=this._cameraUniformParamsMap.length;$ppr<$pps;$ppr+=2)$ppi=this._cameraUniformParamsMap[$ppr+1],null!=($ppe=$ppt[this._cameraUniformParamsMap[$ppr]])&&($ppn+=$ppi.fun.call(this,$ppi,$ppe));$ppL.shaderCall+=$ppn},$ppjr.uploadSpriteUniforms=function($ppt){var $ppe;var $ppi,$ppn=0;for(var $ppr=0,$pps=this._spriteUniformParamsMap.length;$ppr<$pps;$ppr+=2)$ppi=this._spriteUniformParamsMap[$ppr+1],null!=($ppe=$ppt[this._spriteUniformParamsMap[$ppr]])&&($ppn+=$ppi.fun.call(this,$ppi,$ppe));$ppL.shaderCall+=$ppn},$ppjr.uploadMaterialUniforms=function($ppt){var $ppe;var $ppi,$ppn=0;for(var $ppr=0,$pps=this._materialUniformParamsMap.length;$ppr<$pps;$ppr+=2)$ppi=this._materialUniformParamsMap[$ppr+1],null!=($ppe=$ppt[this._materialUniformParamsMap[$ppr]])&&($ppn+=$ppi.fun.call(this,$ppi,$ppe));$ppL.shaderCall+=$ppn},$ppjr.uploadRenderElementUniforms=function($ppt){var $ppe;var $ppi,$ppn=0;for(var $ppr=0,$pps=this._renderElementUniformParamsMap.length;$ppr<$pps;$ppr+=2)$ppi=this._renderElementUniformParamsMap[$ppr+1],null!=($ppe=$ppt[this._renderElementUniformParamsMap[$ppr]])&&($ppn+=$ppi.fun.call(this,$ppi,$ppe));$ppL.shaderCall+=$ppn},$ppRr.create=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){return new $ppRr($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo)},$ppRr.addInclude=function($ppt,$ppe){$ppR.addInclude($ppt,$ppe)},$ppRr._createShader=function($ppt,$ppe,$ppi){$ppi=$ppt.createShader($ppi);if($ppt.shaderSource($ppi,$ppe),$ppt.compileShader($ppi),$ppar.debugMode&&!$ppt.getShaderParameter($ppi,35713))throw $ppt.getShaderInfoLog($ppi);return $ppi},$ppRr.PERIOD_RENDERELEMENT=0,$ppRr.PERIOD_MATERIAL=1,$ppRr.PERIOD_SPRITE=2,$ppRr.PERIOD_CAMERA=3,$ppRr.PERIOD_SCENE=4,$ppRr._TEXTURES=[33984,33985,33986,33987,33988,33989,33990,33991],$ppRr._count=0,$ppl($ppRr,["shaderParamsMap",function(){return this.shaderParamsMap={float:5126,int:5124,bool:35670,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676,sampler2D:35678,samplerCube:35680}},"nameKey",function(){return this.nameKey=new $ppB}]);var $ppIr=$ppRr;function $ppRr($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo){if(this._curActTexIndex=0,this._program=null,this._attributeParams=null,this._uniformParams=null,this._attributeParamsMap=[],this._sceneUniformParamsMap=[],this._cameraUniformParamsMap=[],this._spriteUniformParamsMap=[],this._materialUniformParamsMap=[],this._renderElementUniformParamsMap=[],$ppRr.__super.call(this),!$ppt||!$ppe)throw"Shader Error";this._id=++$ppRr._count,this._vs=$ppt,this._ps=$ppe,this._attributeMap=$ppi,this._sceneUniformMap=$ppn,this._cameraUniformMap=$ppr,this._spriteUniformMap=$pps,this._materialUniformMap=$ppa,this._renderElementUniformMap=$ppo,this.recreateResource()}$ppt($ppLr,"laya.d3.core.material.StandardMaterial",$ppBr=$ppdr),($ppA=$ppLr.prototype).disableLight=function(){this._addDisablePublicShaderDefine($ppar.SHADERDEFINE_POINTLIGHT|$ppar.SHADERDEFINE_SPOTLIGHT|$ppar.SHADERDEFINE_DIRECTIONLIGHT)},$ppA.disableFog=function(){this._addDisablePublicShaderDefine($ppar.SHADERDEFINE_FOG)},$ppA.onAsynLoaded=function($ppt,$ppe,$ppi){var $ppn=$ppe[0];if($ppn.version)$ppBr.prototype.onAsynLoaded.call(this,$ppt,$ppe,$ppi);else{$ppt=$ppe[1];var $ppr=$ppn.props;for(var $pps in $ppr)this[$pps]=$ppr[$pps];$ppLr._parseStandardMaterial($ppt,this,$ppn),this._endLoaded()}},$ppA.cloneTo=function($ppt){$ppBr.prototype.cloneTo.call(this,$ppt);this._transformUV&&($ppt._transformUV=this._transformUV.clone())},$ppe(0,$ppA,"ambientColor",function(){return this._getColor(9)},function($ppt){this._setColor(9,$ppt)}),$ppe(0,$ppA,"ambientTexture",function(){return this._getTexture(5)},function($ppt){$ppt?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_AMBIENTMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_AMBIENTMAP),this._setTexture(5,$ppt)}),$ppe(0,$ppA,"renderMode",null,function($ppt){switch($ppt){case 1:this.renderQueue=2e3,this.depthWrite=!0,this.cull=2,this.blend=0,this.alphaTest=!1,this._removeShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;case 2:this.renderQueue=2e3,this.depthWrite=!0,this.cull=0,this.blend=0,this.alphaTest=!1,this._removeShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;case 3:this.depthWrite=!0,this.cull=2,this.blend=0,this.renderQueue=2e3,this.alphaTest=!0,this._removeShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;case 4:this.renderQueue=2e3,this.depthWrite=!0,this.cull=0,this.blend=0,this.alphaTest=!0,this._removeShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;case 13:this.renderQueue=3e3,this.depthWrite=!0,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;case 14:this.renderQueue=3e3,this.depthWrite=!0,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;case 15:this.renderQueue=3e3,this.depthWrite=!0,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;case 16:this.renderQueue=3e3,this.depthWrite=!0,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;case 5:this.renderQueue=3e3,this.depthWrite=!1,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;case 6:this.renderQueue=3e3,this.depthWrite=!1,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;case 7:this.renderQueue=3e3,this.depthWrite=!1,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;case 8:this.renderQueue=3e3,this.depthWrite=!1,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;case 9:this.renderQueue=3e3,this.depthTest=513,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;case 10:this.renderQueue=3e3,this.depthTest=513,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;case 11:this.renderQueue=3e3,this.depthTest=513,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;case 12:this.renderQueue=3e3,this.depthTest=513,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine($ppLr.SHADERDEFINE_ADDTIVEFOG);break;default:throw new Error("Material:renderMode value error.")}this._conchMaterial&&this._conchMaterial.setRenderMode($ppt)}),$ppe(0,$ppA,"reflectColor",function(){return this._getColor(12)},function($ppt){this._setColor(12,$ppt)}),$ppe(0,$ppA,"tilingOffset",function(){return this._getColor(15)},function($ppt){var $ppe;$ppt&&(1!=($ppe=$ppt.elements)[0]||1!=$ppe[1]||0!=$ppe[2]||0!=$ppe[3])?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_TILINGOFFSET):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_TILINGOFFSET),this._setColor(15,$ppt)}),$ppe(0,$ppA,"albedo",function(){return this._getColor(7)},function($ppt){this._setColor(7,$ppt)}),$ppe(0,$ppA,"diffuseColor",function(){return this._getColor(10)},function($ppt){this._setColor(10,$ppt)}),$ppe(0,$ppA,"albedoColor",function(){return this._getColor(7)},function($ppt){this._setColor(7,$ppt)}),$ppe(0,$ppA,"specularColor",function(){return this._getColor(11)},function($ppt){this._setColor(11,$ppt)}),$ppe(0,$ppA,"diffuseTexture",function(){return this._getTexture(1)},function($ppt){$ppt?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_DIFFUSEMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_DIFFUSEMAP),this._setTexture(1,$ppt)}),$ppe(0,$ppA,"normalTexture",function(){return this._getTexture(2)},function($ppt){$ppt?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_NORMALMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_NORMALMAP),this._setTexture(2,$ppt)}),$ppe(0,$ppA,"specularTexture",function(){return this._getTexture(3)},function($ppt){$ppt?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_SPECULARMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_SPECULARMAP),this._setTexture(3,$ppt)}),$ppe(0,$ppA,"emissiveTexture",function(){return this._getTexture(4)},function($ppt){$ppt?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_EMISSIVEMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_EMISSIVEMAP),this._setTexture(4,$ppt)}),$ppe(0,$ppA,"reflectTexture",function(){return this._getTexture(6)},function($ppt){$ppt?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_REFLECTMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_REFLECTMAP),this._setTexture(6,$ppt)}),$ppe(0,$ppA,"transformUV",function(){return this._transformUV},function($ppt){this._transformUV=$ppt,this._setMatrix4x4(13,$ppt.matrix),$ppt?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_UVTRANSFORM):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_UVTRANSFORM),this._conchMaterial&&this._conchMaterial.setShaderValue(13,$ppt.matrix.elements,0)}),$ppLr.__init__=function(){$ppLr.SHADERDEFINE_DIFFUSEMAP=$ppLr.shaderDefines.registerDefine("DIFFUSEMAP"),$ppLr.SHADERDEFINE_NORMALMAP=$ppLr.shaderDefines.registerDefine("NORMALMAP"),$ppLr.SHADERDEFINE_SPECULARMAP=$ppLr.shaderDefines.registerDefine("SPECULARMAP"),$ppLr.SHADERDEFINE_EMISSIVEMAP=$ppLr.shaderDefines.registerDefine("EMISSIVEMAP"),$ppLr.SHADERDEFINE_AMBIENTMAP=$ppLr.shaderDefines.registerDefine("AMBIENTMAP"),$ppLr.SHADERDEFINE_REFLECTMAP=$ppLr.shaderDefines.registerDefine("REFLECTMAP"),$ppLr.SHADERDEFINE_UVTRANSFORM=$ppLr.shaderDefines.registerDefine("UVTRANSFORM"),$ppLr.SHADERDEFINE_TILINGOFFSET=$ppLr.shaderDefines.registerDefine("TILINGOFFSET"),$ppLr.SHADERDEFINE_ADDTIVEFOG=$ppLr.shaderDefines.registerDefine("ADDTIVEFOG")},$ppLr.load=function($ppt){return $pph.loader.create($ppt,null,null,$ppLr)},$ppLr._parseStandardMaterial=function($ppt,$ppe,$ppi){$ppi=$ppi.customProps;var $ppn=$ppi.ambientColor;$ppe.ambientColor=new $ppD($ppn[0],$ppn[1],$ppn[2]);$ppn=$ppi.diffuseColor;$ppe.diffuseColor=new $ppD($ppn[0],$ppn[1],$ppn[2]);$ppn=$ppi.specularColor;$ppe.specularColor=new $ppfn($ppn[0],$ppn[1],$ppn[2],$ppn[3]);$ppn=$ppi.reflectColor;$ppe.reflectColor=new $ppD($ppn[0],$ppn[1],$ppn[2]);$ppn=$ppi.albedoColor;$ppn&&($ppe.albedo=new $ppfn($ppn[0],$ppn[1],$ppn[2],$ppn[3]));$ppn=$ppi.diffuseTexture.texture2D;$ppn&&($ppe.diffuseTexture=$ppx.getRes($ppt[$ppn]));$ppn=$ppi.normalTexture.texture2D;$ppn&&($ppe.normalTexture=$ppx.getRes($ppt[$ppn]));$ppn=$ppi.specularTexture.texture2D;$ppn&&($ppe.specularTexture=$ppx.getRes($ppt[$ppn]));$ppn=$ppi.emissiveTexture.texture2D;$ppn&&($ppe.emissiveTexture=$ppx.getRes($ppt[$ppn]));$ppn=$ppi.ambientTexture.texture2D;$ppn&&($ppe.ambientTexture=$ppx.getRes($ppt[$ppn]));$ppn=$ppi.reflectTexture.texture2D;$ppn&&($ppe.reflectTexture=$ppx.getRes($ppt[$ppn]))},$ppLr.RENDERMODE_OPAQUE=1,$ppLr.RENDERMODE_OPAQUEDOUBLEFACE=2,$ppLr.RENDERMODE_CUTOUT=3,$ppLr.RENDERMODE_CUTOUTDOUBLEFACE=4,$ppLr.RENDERMODE_TRANSPARENT=13,$ppLr.RENDERMODE_TRANSPARENTDOUBLEFACE=14,$ppLr.RENDERMODE_ADDTIVE=15,$ppLr.RENDERMODE_ADDTIVEDOUBLEFACE=16,$ppLr.RENDERMODE_DEPTHREAD_TRANSPARENT=5,$ppLr.RENDERMODE_DEPTHREAD_TRANSPARENTDOUBLEFACE=6,$ppLr.RENDERMODE_DEPTHREAD_ADDTIVE=7,$ppLr.RENDERMODE_DEPTHREAD_ADDTIVEDOUBLEFACE=8,$ppLr.RENDERMODE_NONDEPTH_TRANSPARENT=9,$ppLr.RENDERMODE_NONDEPTH_TRANSPARENTDOUBLEFACE=10,$ppLr.RENDERMODE_NONDEPTH_ADDTIVE=11,$ppLr.RENDERMODE_NONDEPTH_ADDTIVEDOUBLEFACE=12,$ppLr.SHADERDEFINE_DIFFUSEMAP=0,$ppLr.SHADERDEFINE_NORMALMAP=0,$ppLr.SHADERDEFINE_SPECULARMAP=0,$ppLr.SHADERDEFINE_EMISSIVEMAP=0,$ppLr.SHADERDEFINE_AMBIENTMAP=0,$ppLr.SHADERDEFINE_REFLECTMAP=0,$ppLr.SHADERDEFINE_UVTRANSFORM=0,$ppLr.SHADERDEFINE_TILINGOFFSET=0,$ppLr.SHADERDEFINE_ADDTIVEFOG=0,$ppLr.DIFFUSETEXTURE=1,$ppLr.NORMALTEXTURE=2,$ppLr.SPECULARTEXTURE=3,$ppLr.EMISSIVETEXTURE=4,$ppLr.AMBIENTTEXTURE=5,$ppLr.REFLECTTEXTURE=6,$ppLr.ALBEDO=7,$ppLr.UVANIAGE=8,$ppLr.MATERIALAMBIENT=9,$ppLr.MATERIALDIFFUSE=10,$ppLr.MATERIALSPECULAR=11,$ppLr.MATERIALREFLECT=12,$ppLr.UVMATRIX=13,$ppLr.UVAGE=14,$ppLr.TILINGOFFSET=15,$ppl($ppLr,["defaultMaterial",function(){var $ppt=new $ppLr;return $ppt.lock=!0,this.defaultMaterial=$ppt},"shaderDefines",function(){return this.shaderDefines=new $ppxn($ppdr.shaderDefines)}]);var $ppPr=$ppLr;function $ppLr(){this._transformUV=null,$ppLr.__super.call(this),this.setShaderName("SIMPLE"),this._setColor(9,new $ppD(.6,.6,.6)),this._setColor(10,new $ppD(1,1,1)),this._setColor(11,new $ppfn(1,1,1,8)),this._setColor(12,new $ppD(1,1,1)),this._setColor(7,new $ppfn(1,1,1,1)),this._setNumber(0,.5),this._setColor(15,new $ppfn(1,1,0,0)),this.renderMode=1}var $ppBr;$ppt($ppOr,"laya.d3.graphics.IndexBuffer3D",$ppFr=$ppd),($ppQr=$ppOr.prototype).setData=function($ppt,$ppe,$ppi,$ppn){void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0),void 0===$ppn&&($ppn=4294967295);var $ppr=0;if("ushort"==this._indexType?($ppr=2,0===$ppi&&4294967295===$ppn||($ppt=new Uint16Array($ppt.buffer,$ppi*$ppr,$ppn))):"ubyte"==this._indexType&&($ppr=1,0===$ppi&&4294967295===$ppn||($ppt=new Uint8Array($ppt.buffer,$ppi*$ppr,$ppn))),this._bind(),$ppd._gl.bufferSubData(this._bufferType,$ppe*$ppr,$ppt),this._canRead)if(0!==$ppe||0!==$ppi||4294967295!==$ppn){$ppr=this._buffer.length-$ppe;$ppr<$ppn&&($ppn=$ppr);for(var $pps=0;$pps<$ppn;$pps++)this._buffer[$ppe+$pps]=$ppt[$pps]}else this._buffer=$ppt},$ppQr.getData=function(){if(this._canRead)return this._buffer;throw new Error("Can't read data from VertexBuffer with only write flag!")},$ppQr.disposeResource=function(){$ppFr.prototype.disposeResource.call(this),this._buffer=null,this.memorySize=0},$ppe(0,$ppQr,"indexType",function(){return this._indexType}),$ppe(0,$ppQr,"indexTypeByteCount",function(){return this._indexTypeByteCount}),$ppe(0,$ppQr,"indexCount",function(){return this._indexCount}),$ppe(0,$ppQr,"canRead",function(){return this._canRead}),$ppOr.INDEXTYPE_UBYTE="ubyte",$ppOr.INDEXTYPE_USHORT="ushort",$ppOr.create=function($ppt,$ppe,$ppi,$ppn){return new $ppOr($ppt,$ppe,$ppi=void 0===$ppi?35044:$ppi,$ppn=void 0===$ppn?!1:$ppn)};var $ppNr=$ppOr;function $ppOr($ppt,$ppe,$ppi,$ppn){this._indexType=null,this._indexTypeByteCount=0,this._indexCount=0,this._canRead=!1,void 0===$ppi&&($ppi=35044),void 0===$ppn&&($ppn=!1),$ppOr.__super.call(this),this._indexType=$ppt,this._indexCount=$ppe,this._bufferUsage=$ppi,this._bufferType=34963,this._canRead=$ppn;if("ushort"==$ppt)this._indexTypeByteCount=2;else{if("ubyte"!=$ppt)throw new Error("unidentification index type.");this._indexTypeByteCount=1}$ppi=this._indexTypeByteCount*$ppe,this._byteLength=$ppi,this._bind(),$ppd._gl.bufferData(this._bufferType,$ppi,this._bufferUsage),$ppn?("ushort"==$ppt?this._buffer=new Uint16Array($ppe):"ubyte"==$ppt&&(this._buffer=new Uint8Array($ppe)),this.memorySize=2*$ppi):this.memorySize=$ppi}var $ppFr;$ppt($ppkr,"laya.d3.graphics.VertexBuffer3D",$ppUr=$ppd),($ppP=$ppkr.prototype).bindWithIndexBuffer=function($ppt){$ppt&&$ppt._bind(),this._bind()},$ppP.setData=function($ppt,$ppe,$ppi,$ppn){if(void 0===$ppe&&($ppe=0),void 0===$ppn&&($ppn=4294967295),0===($ppi=void 0===$ppi?0:$ppi)&&4294967295===$ppn||($ppt=new Float32Array($ppt.buffer,4*$ppi,$ppn)),this._bind(),$ppd._gl.bufferSubData(this._bufferType,4*$ppe,$ppt),this._canRead)if(0!==$ppe||0!==$ppi||4294967295!==$ppn){$ppi=this._buffer.length-$ppe;$ppi<$ppn&&($ppn=$ppi);for(var $ppr=0;$ppr<$ppn;$ppr++)this._buffer[$ppe+$ppr]=$ppt[$ppr]}else this._buffer=$ppt},$ppP.getData=function(){if(this._canRead)return this._buffer;throw new Error("Can't read data from VertexBuffer with only write flag!")},$ppP.disposeResource=function(){var $ppt=$ppF.mainContext;var $ppe=this._vertexDeclaration.getVertexElements();var $ppi=$ppd._enableAtributes;for(var $ppn=0,$ppr=$ppe.length;$ppn<$ppr;$ppn++)$ppi[$ppn]===this._glBuffer&&($ppt.disableVertexAttribArray($ppn),$ppi[$ppn]=null);$ppUr.prototype.disposeResource.call(this),this._buffer=null,this._vertexDeclaration=null,this.memorySize=0},$ppe(0,$ppP,"vertexDeclaration",function(){return this._vertexDeclaration}),$ppe(0,$ppP,"vertexCount",function(){return this._vertexCount}),$ppe(0,$ppP,"canRead",function(){return this._canRead}),$ppkr.create=function($ppt,$ppe,$ppi,$ppn){return new $ppkr($ppt,$ppe,$ppi=void 0===$ppi?35044:$ppi,$ppn=void 0===$ppn?!1:$ppn)};var $ppVr=$ppkr;function $ppkr($ppt,$ppe,$ppi,$ppn){this._vertexDeclaration=null,this._vertexCount=0,this._canRead=!1,void 0===$ppn&&($ppn=!1),$ppkr.__super.call(this),this._vertexDeclaration=$ppt,this._vertexCount=$ppe,this._bufferUsage=$ppi,this._bufferType=34962,this._canRead=$ppn,this.memorySize=this._byteLength=this._vertexDeclaration.vertexStride*$ppe,this._bind(),$ppd._gl.bufferData(this._bufferType,this._byteLength,this._bufferUsage),$ppn&&(this._buffer=new Float32Array(this._byteLength/4))}var $ppUr;$ppt($ppzr,"laya.d3.resource.DataTexture2D",$ppmr),($ppa=$ppzr.prototype).genDebugMipmaps=function(){var $ppt=[];return $ppt.push(new Uint8Array(new Uint32Array(131072).fill(4278190335).buffer)),$ppt.push(new Uint8Array(new Uint32Array(32768).fill(4278223103).buffer)),$ppt.push(new Uint8Array(new Uint32Array(8192).fill(4278255615).buffer)),$ppt.push(new Uint8Array(new Uint32Array(2048).fill(4278255360).buffer)),$ppt.push(new Uint8Array(new Uint32Array(512).fill(4286595072).buffer)),$ppt.push(new Uint8Array(new Uint32Array(128).fill(4294901760).buffer)),$ppt.push(new Uint8Array(new Uint32Array(32).fill(4294901888).buffer)),$ppt.push(new Uint8Array(new Uint32Array(8).fill(0).buffer)),$ppt.push(new Uint8Array(new Uint32Array(2).fill(4286611584).buffer)),$ppt.push(new Uint8Array(new Uint32Array(1).fill(4294967295).buffer)),$ppt},$ppa._onTextureLoaded=function($ppt){},$ppa._createWebGlTexture=function(){if(!this._buffer&&!this._mipmaps)throw"create GLTextur err:no data";var $ppt=$ppF.mainContext;$ppt.getExtension("EXT_shader_texture_lod");var $ppe=this._source=$ppt.createTexture();var $ppi=this._width;var $ppn=this._height;var $ppr=$ppV.curBindTexTarget;var $ppc=$ppV.curBindTexValue;if($ppV.bindTexture($ppt,this._type,$ppe),this._mipmaps){if(laya.d3.resource.DataTexture2D.lodasatlas){var $pps=0;$ppt.texImage2D(this._type,0,6408,this._width,this._height,0,6408,5121,null);for(var $ppa=0;$ppa<this._mipmaps.length;$ppa++){if(this._mipmaps[$ppa].byteLength!=$ppo*$pph*4)throw"mipmap size error  level:"+$ppa;$ppt.texSubImage2D(this._type,0,$ppzr.simLodRect[$pps++],$ppzr.simLodRect[$pps++],$ppzr.simLodRect[$pps++],$ppzr.simLodRect[$pps++],6408,5121,new Uint8Array(this._mipmaps[$ppa]))}this.minFifter=9729,this.magFifter=9729}else{var $ppo=this._width;var $pph=this._height;for($ppt.texImage2D(this._type,$pps=0,6408,this._width,this._height,0,6408,5121,null),$ppa=0;$ppa<this._mipmaps.length;$ppa++){if(this._mipmaps[$ppa].byteLength!=$ppo*$pph*4)throw"mipmap size error  level:"+$ppa;$ppt.texImage2D(this._type,$ppa,6408,$ppo,$pph,0,6408,5121,new Uint8Array(this._mipmaps[$ppa])),($ppo/=2)<1&&($ppo=1),($pph/=2)<1&&($pph=1),this.minFifter=9987,this.magFifter=9729}}this.mipmap=!1}else{$ppe=this._buffer.byteLength/($ppi*$ppn)==4?6408:6407;this._buffer instanceof Uint8Array||(this._buffer=new Uint8Array(this._buffer)),$ppt.texImage2D(this._type,0,$ppe,$ppi,$ppn,0,$ppe,5121,this._buffer)}$ppe=this._minFifter;var $ppl=this._magFifter;var $ppu=0==this._wrapModeU?10497:33071;var $pp_=0==this._wrapModeV?10497:33071;var $ppd=$ppp.isPOT($ppi,$ppn);$ppd?(this._mipmap||this._mipmaps?-1!==$ppe||($ppe=9987):-1!==$ppe||($ppe=9729),-1!==$ppl||($ppl=9729),$ppt.texParameteri(this._type,10241,$ppe),$ppt.texParameteri(this._type,10240,$ppl),$ppt.texParameteri(this._type,10242,$ppu),$ppt.texParameteri(this._type,10243,$pp_),this._mipmap&&$ppt.generateMipmap(this._type)):(-1!==$ppl||($ppl=9729),$ppt.texParameteri(this._type,10241,$ppe=-1!==$ppe?$ppe:9729),$ppt.texParameteri(this._type,10240,$ppl),$ppt.texParameteri(this._type,10242,33071),$ppt.texParameteri(this._type,10243,33071)),$ppr&&$ppc&&$ppV.bindTexture($ppt,$ppr,$ppc),this.src&&0<this.src.length&&(this._buffer=null),this.memorySize=$ppd?$ppi*$ppn*4*(1+1/3):$ppi*$ppn*4,this._recreateLock=!1},$ppa.recreateResource=function(){(this._buffer||null!=this._src&&""!==this._src)&&(this._needReleaseAgain=!1,this._buffer||this._mipmaps?this._recreateLock||(this._createWebGlTexture(),this.completeCreate()):this._recreateLock=!0)},$ppa.onAsynLoaded=function($ppt,$ppe,$ppi){var $ppn;($ppn=$ppi?$ppi[0].call(this,$ppe):$ppn)&&(this._width=$ppn.width,this._height=$ppn.height,this._buffer=$ppn.data),this._src=$ppt,this._size=new $ppBn(this._width,this._height),this._conchTexture?alert("怎么给runtime传递datatexture数据"):this.activeResource(),this._endLoaded()},$ppa.getPixels=function(){return new Uint8Array(this._buffer)},$ppa.disposeResource=function(){this._recreateLock&&(this._needReleaseAgain=!0),this._source&&($ppF.mainContext.deleteTexture(this._source),this._source=null,this._buffer=null,this.memorySize=0)},$ppe(0,$ppa,"src",function(){return this._src}),$ppzr.create=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){if(void 0===$ppn&&($ppn=9729),void 0===$ppr&&($ppr=9729),void 0===$pps&&($pps=!0),!$ppt||$ppt.byteLength<$ppe*$ppi*4)throw"DataTexture2D create error";var $ppa=new $ppzr;return $ppa._buffer=$ppt,$ppa._width=$ppe,$ppa._height=$ppi,$ppa._mipmap=$pps,$ppa._magFifter=$ppn,$ppa._minFifter=$ppr,$ppa._size=new $ppBn($ppa._width,$ppa._height),$ppa._conchTexture?alert("怎么给runtime传递datatexture数据"):$ppa.activeResource(),$ppa},$ppzr.load=function($ppt,$ppe,$ppi,$ppn,$ppr){if(void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0),void 0===$ppn&&($ppn=9729),void 0===$ppr&&($ppr=9729),"mipmaps"===$ppO.getFileExtension($ppt)){var $pps=$pph.loader.create($ppt,null,null,$ppzr,[function($ppt){this._mipmaps=[];var $ppe=new Uint32Array($ppt);this._width=$ppe[0];var $ppi=512;if(laya.d3.resource.DataTexture2D.lodasatlas&&(this._width*=2,$ppi=1024),this._width!=$ppi)throw console.error("现在只支持512x256的环境贴图。当前的是"+$ppe[0]),"现在只支持512x256的环境贴图。当前的是"+$ppe[0];this._height=$ppe[1];var $ppn=laya.d3.resource.DataTexture2D.lodasatlas?this._width/2:this._width;var $ppr=this._height;var $pps=8;for(;;){var $ppa=$ppn*$ppr*4;if($pps+$ppa>$ppt.byteLength)throw"load mipmaps data size error ";var $ppo=new Uint8Array($ppt,$pps,$ppa);if(this._mipmaps.push($ppo),$pps+=$ppa,1==$ppn&&1==$ppr)break;($ppn/=2)<1&&($ppn=1),($ppr/=2)<1&&($ppr=1)}return null}]);if(laya.d3.resource.DataTexture2D.lodasatlas){$pps.simLodInfo=new Float32Array(40);for(var $ppa=0;$ppa<$pps.simLodInfo.length;)$pps.simLodInfo[$ppa]=($ppzr.simLodRect[$ppa]+.5)/1024,$pps.simLodInfo[++$ppa]=($ppzr.simLodRect[$ppa]+.5)/256,$pps.simLodInfo[++$ppa]=Math.max($ppzr.simLodRect[$ppa]-1,.1)/1024,$pps.simLodInfo[++$ppa]=Math.max($ppzr.simLodRect[$ppa]-1.5,.1)/256,$ppa++}return $pps}if("number"==typeof $ppe)return $pph.loader.create($ppt,null,null,$ppzr,[function($ppt){return this._width=$ppe,this._height=$ppi,this._buffer=$ppt,null}]);if("function"==typeof $ppe)return $pph.loader.create($ppt,null,null,$ppzr,[$ppe]);throw new Error("unknown params.")},$ppzr.lodasatlas=!1,$ppl($ppzr,["simLodRect",function(){return this.simLodRect=new Uint32Array([0,0,512,256,512,0,256,128,768,0,128,64,896,0,64,32,960,0,32,16,992,0,16,8,1008,0,8,4,1016,0,4,2,1020,0,2,1,1022,0,1,1])}]);var $ppHr=$ppzr;function $ppzr(){this.simLodInfo=null,this._src=null,this._buffer=null,this._mipmaps=null,this._recreateLock=!1,this._needReleaseAgain=!1,$ppzr.__super.call(this),this._type=3553}$ppt($ppWr,"laya.d3.resource.models.PrimitiveMesh",$pps),$ppr=$ppWr.prototype,$pph.imps($ppr,{"laya.d3.core.render.IRenderable":!0}),$ppr._getVertexBuffer=function($ppt){return 0===($ppt=void 0===$ppt?0:$ppt)?this._vertexBuffer:null},$ppr._getVertexBuffers=function(){return null},$ppr._getIndexBuffer=function(){return this._indexBuffer},$ppr._getPositions=function(){var $ppt=[];var $ppe;var $ppi=this._vertexBuffer.vertexDeclaration.getVertexElements();var $ppn=0;for($ppn=0;$ppn<$ppi.length;$ppn++){var $ppr=$ppi[$ppn];if("vector3"===$ppr.elementFormat&&0===$ppr.elementUsage){$ppe=$ppr;break}}var $pps=this._vertexBuffer.getData();for($ppn=0;$ppn<$pps.length;$ppn+=this._vertexBuffer.vertexDeclaration.vertexStride/4){var $ppa=$ppn+$ppe.offset/4;$ppa=new $ppD($pps[$ppa+0],$pps[$ppa+1],$pps[$ppa+2]);$ppt.push($ppa)}return $ppt},$ppr.getRenderElement=function($ppt){return this},$ppr.getRenderElementsCount=function(){return 1},$ppr.disposeResource=function(){this._vertexBuffer&&(this._vertexBuffer._removeReference(),this._vertexBuffer=null),this._indexBuffer&&(this._indexBuffer._removeReference(),this._indexBuffer=null),this.memorySize=0},$ppr._beforeRender=function($ppt){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},$ppr._render=function($ppt){$ppF.mainContext.drawElements(4,this._numberIndices,5123,0),$ppL.drawCall++,$ppL.trianglesFaces+=this._numberIndices/3},$ppe(0,$ppr,"_vertexBufferCount",function(){return 1}),$ppe(0,$ppr,"triangleCount",function(){return this._indexBuffer.indexCount/3});function $ppWr(){this._numberVertices=0,this._numberIndices=0,this._vertexBuffer=null,this._indexBuffer=null,$ppWr.__super.call(this)}$ppt($ppYr,"laya.d3.resource.models.Mesh",$pps),($ppv=$ppYr.prototype)._getPositions=function(){var $ppt=[];var $ppe,$ppi,$ppn,$ppr,$pps,$ppa=0,$ppo=0,$pph=0;if(0!==this._vertexBuffers.length){var $ppl=this._vertexBuffers.length;for($ppa=0;$ppa<$ppl;$ppa++){for($ppn=($ppe=this._vertexBuffers[$ppa]).vertexDeclaration.getVertexElements(),$ppo=0;$ppo<$ppn.length;$ppo++)if("vector3"===($ppr=$ppn[$ppo]).elementFormat&&0===$ppr.elementUsage){$ppi=$ppr;break}for($pps=$ppe.getData(),$ppo=0;$ppo<$pps.length;$ppo+=$ppe.vertexDeclaration.vertexStride/4)$pph=$ppo+$ppi.offset/4,$ppt.push(new $ppD($pps[$pph+0],$pps[$pph+1],$pps[$pph+2]))}}else{var $ppc=this._subMeshes.length;for($ppa=0;$ppa<$ppc;$ppa++){for($ppn=($ppe=this._subMeshes[$ppa]._getVertexBuffer()).vertexDeclaration.getVertexElements(),$ppo=0;$ppo<$ppn.length;$ppo++)if("vector3"===($ppr=$ppn[$ppo]).elementFormat&&0===$ppr.elementUsage){$ppi=$ppr;break}for($pps=$ppe.getData(),$ppo=0;$ppo<$pps.length;$ppo+=$ppe.vertexDeclaration.vertexStride/4)$pph=$ppo+$ppi.offset/4,$ppt.push(new $ppD($pps[$pph+0],$pps[$pph+1],$pps[$pph+2]))}}return $ppt},$ppv._setSubMeshes=function($ppt){this._subMeshes=$ppt,this._subMeshCount=$ppt.length;for(var $ppe=0;$ppe<this._subMeshCount;$ppe++)$ppt[$ppe]._indexInMesh=$ppe;this._positions=this._getPositions(),this._generateBoundingObject()},$ppv.onAsynLoaded=function($ppt,$ppe,$ppi){var $ppn=$ppe[0];$ppe=$ppe[1];$ppHi.read($ppn,this,this._materials,this._subMeshes,$ppe),this.completeCreate(),this._endLoaded()},$ppv.getSubMesh=function($ppt){return this._subMeshes[$ppt]},$ppv.getSubMeshCount=function(){return this._subMeshes.length},$ppv.getRenderElementsCount=function(){return this._subMeshes.length},$ppv.getRenderElement=function($ppt){return this._subMeshes[$ppt]},$ppv.disposeResource=function(){for(var $ppt=0;$ppt<this._subMeshes.length;$ppt++)this._subMeshes[$ppt].dispose();this._materials=null,this._subMeshes=null,this._vertexBuffers=null,this._indexBuffer=null,this._boneNames=null,this._inverseBindPoses=null},$ppe(0,$ppv,"materials",function(){return this._materials.slice()}),$ppe(0,$ppv,"InverseAbsoluteBindPoses",function(){return this._inverseBindPoses}),$ppYr.load=function($ppt){return $pph.loader.create($ppt,null,null,$ppYr)};var $ppGr=$ppYr;function $ppYr(){this._materials=null,this._subMeshes=null,this._vertexBuffers=null,this._indexBuffer=null,this._boneNames=null,this._inverseBindPoses=null,this._skinnedDatas=null,$ppYr.__super.call(this),this._subMeshes=[],this._materials=[],this._vertexBuffers=[]}$ppt($ppXr,"laya.d3.resource.RenderTexture",$ppmr),($ppjr=$ppXr.prototype).recreateResource=function(){var $ppt=$ppF.mainContext;this._frameBuffer=$ppt.createFramebuffer(),this._source=$ppt.createTexture();var $ppe=$ppV.curBindTexTarget;var $ppi=$ppV.curBindTexValue;$ppV.bindTexture($ppt,this._type,this._source),$ppt.texImage2D(this._type,0,6408,this._width,this._height,0,this._surfaceFormat,this._surfaceType,null);var $ppn=this._minFifter;var $ppr=this._magFifter;var $pps=this._repeat?10497:33071;if($ppp.isPOT(this._width,this._height)?(this._mipmap?-1!==$ppn||($ppn=9987):-1!==$ppn||($ppn=9729),-1!==$ppr||($ppr=9729),$ppt.texParameteri(this._type,10241,$ppn),$ppt.texParameteri(this._type,10240,$ppr),$ppt.texParameteri(this._type,10242,$pps),$ppt.texParameteri(this._type,10243,$pps),this._mipmap&&$ppt.generateMipmap(this._type)):(-1!==$ppr||($ppr=9729),$ppt.texParameteri(this._type,10241,$ppn=-1!==$ppn?$ppn:9729),$ppt.texParameteri(this._type,10240,$ppr),$ppt.texParameteri(this._type,10242,33071),$ppt.texParameteri(this._type,10243,33071)),$ppe&&$ppi&&$ppV.bindTexture($ppt,$ppe,$ppi),$ppt.bindFramebuffer(36160,this._frameBuffer),this._depthStencilFormat)switch(this._depthStencilBuffer=$ppt.createRenderbuffer(),$ppt.bindRenderbuffer(36161,this._depthStencilBuffer),$ppt.renderbufferStorage(36161,this._depthStencilFormat,this._width,this._height),$ppt.bindRenderbuffer(36161,null),this._depthStencilFormat){case 33189:$ppt.framebufferRenderbuffer(36160,36096,36161,this._depthStencilBuffer);break;case 36168:$ppt.framebufferRenderbuffer(36160,36128,36161,this._depthStencilBuffer);break;case 34041:$ppt.framebufferRenderbuffer(36160,33306,36161,this._depthStencilBuffer)}$ppt.framebufferTexture2D(36160,36064,3553,this._source,0),$ppt.bindFramebuffer(36160,null),this.memorySize=this._width*this._height*4,this.completeCreate()},$ppjr.start=function(){$ppF.mainContext.bindFramebuffer(36160,this.frameBuffer),($ppXr._currentRenderTarget=this)._alreadyResolved=!1},$ppjr.end=function(){$ppF.mainContext.bindFramebuffer(36160,null),$ppXr._currentRenderTarget=null,this._alreadyResolved=!0},$ppjr.getData=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppF.mainContext;if($ppr.bindFramebuffer(36160,this._frameBuffer),!(36053===$ppr.checkFramebufferStatus(36160)))return $ppr.bindFramebuffer(36160,null),null;var $pps=new Uint8Array(this._width*this._height*4);return $ppr.readPixels($ppt,$ppe,$ppi,$ppn,this._surfaceFormat,this._surfaceType,$pps),$ppr.bindFramebuffer(36160,null),$pps},$ppjr.disposeResource=function(){var $ppt;this._frameBuffer&&(($ppt=$ppF.mainContext).deleteTexture(this._source),$ppt.deleteFramebuffer(this._frameBuffer),$ppt.deleteRenderbuffer(this._depthStencilBuffer),this._source=null,this._frameBuffer=null,this._depthStencilBuffer=null,this.memorySize=0)},$ppe(0,$ppjr,"surfaceFormat",function(){return this._surfaceFormat}),$ppe(0,$ppjr,"surfaceType",function(){return this._surfaceType}),$ppe(0,$ppjr,"depthStencilFormat",function(){return this._depthStencilFormat}),$ppe(0,$ppjr,"source",function(){return this._alreadyResolved?$pph.superGet($ppmr,this,"source"):null}),$ppe(0,$ppjr,"depthStencilBuffer",function(){return this._depthStencilBuffer}),$ppe(0,$ppjr,"frameBuffer",function(){return this._frameBuffer}),$ppXr._currentRenderTarget=null;function $ppXr($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppo,$pph){this._alreadyResolved=!1,this._surfaceFormat=0,this._surfaceType=0,this._depthStencilFormat=0,this._frameBuffer=null,this._depthStencilBuffer=null,void 0===$ppi&&($ppi=6408),void 0===$ppn&&($ppn=5121),void 0===$ppr&&($ppr=33189),void 0===$pps&&($pps=!1),void 0===$ppa&&($ppa=!1),void 0===$ppo&&($ppo=-1),void 0===$pph&&($pph=-1),$ppXr.__super.call(this),this._type=3553,this._width=$ppt,this._height=$ppe,this._size=new $ppBn($ppt,$ppe),this._surfaceFormat=$ppi,this._surfaceType=$ppn,this._depthStencilFormat=$ppr,$ppM.isConchWebGL&&34041===this._depthStencilFormat&&(this._depthStencilFormat=33189),this._mipmap=$pps,this._repeat=$ppa,this._minFifter=$ppo,this._magFifter=$pph,this.activeResource(),this._alreadyResolved=!0}var $ppjr;$ppt($ppqr,"laya.d3.resource.SolidColorTexture2D",$ppmr),($ppA=$ppqr.prototype)._createWebGlTexture=function(){var $ppt=$ppF.mainContext;var $ppe=this._source=$ppt.createTexture();var $ppi=this._width;var $ppn=this._height;var $ppr=$ppV.curBindTexTarget;var $pps=$ppV.curBindTexValue;$ppV.bindTexture($ppt,this._type,$ppe),$ppt.texImage2D(this._type,0,6408,$ppi,$ppn,0,6408,5121,this._pixels);$ppe=this._minFifter;var $ppa=this._magFifter;var $ppo=this._repeat?10497:33071;var $pph=$ppp.isPOT($ppi,$ppn);$pph?(this._mipmap?-1!==$ppe||($ppe=9987):-1!==$ppe||($ppe=9729),-1!==$ppa||($ppa=9729),$ppt.texParameteri(this._type,10241,$ppe),$ppt.texParameteri(this._type,10240,$ppa),$ppt.texParameteri(this._type,10242,$ppo),$ppt.texParameteri(this._type,10243,$ppo),this._mipmap&&$ppt.generateMipmap(this._type)):(-1!==$ppa||($ppa=9729),$ppt.texParameteri(this._type,10241,$ppe=-1!==$ppe?$ppe:9729),$ppt.texParameteri(this._type,10240,$ppa),$ppt.texParameteri(this._type,10242,33071),$ppt.texParameteri(this._type,10243,33071)),$ppr&&$pps&&$ppV.bindTexture($ppt,$ppr,$pps),this.memorySize=$pph?$ppi*$ppn*4*(1+1/3):$ppi*$ppn*4},$ppA.recreateResource=function(){this._createWebGlTexture(),this.completeCreate()},$ppA.disposeResource=function(){this._source&&($ppF.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},$ppl($ppqr,["magentaTexture",function(){var $ppt=new $ppqr(new $ppfn(1,0,1,1));return $ppt.lock=!0,this.magentaTexture=$ppt},"grayTexture",function(){var $ppt=new $ppqr(new $ppfn(.5,.5,.5,1));return $ppt.lock=!0,this.grayTexture=$ppt}]);var $ppKr=$ppqr;function $ppqr($ppt){this._color=null,this._pixels=null,$ppqr.__super.call(this),this._type=3553,this._width=1,this._height=1,this._size=new $ppBn(this.width,this.height),this._color=$ppt,this._pixels=new Uint8Array([255*$ppt.x,255*$ppt.y,255*$ppt.z,255*$ppt.w])}$ppt($ppZr,"laya.d3.resource.Texture2D",$ppmr),($ppQr=$ppZr.prototype)._createWebGlTexture=function(){if(!this._image)throw"create GLTextur err:no data:"+this._image;var $ppt=$ppF.mainContext;var $ppe=this._source=$ppt.createTexture();var $ppi=this._width;var $ppn=this._height;var $ppr=$ppV.curBindTexTarget;var $pps=$ppV.curBindTexValue;switch($ppV.bindTexture($ppt,this._type,$ppe),this._format){case 6407:case 6408:this._canRead?$ppt.texImage2D(this._type,0,this._format,$ppi,$ppn,0,this._format,5121,this._pixels):this._image instanceof laya.webgl.resource.WebGLImage?$ppt.texImage2D(this._type,0,this._image._format,$ppi,$ppn,0,this._image._format,5121,this._image.atlasSource):$ppt.texImage2D(this._type,0,this._format,this._format,5121,this._image);break;case $ppF.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:$ppt.compressedTexImage2D(this._type,0,this._format,this._width,this._height,0,this._image)}$ppe=this._minFifter;var $ppa=this._magFifter;var $ppo=this._repeat?10497:33071;var $pph=0==this._wrapModeU?10497:33071;var $ppc=0==this._wrapModeV?10497:33071;var $ppl=$ppp.isPOT($ppi,$ppn);$ppl?(this._mipmap?-1!==$ppe||($ppe=9987):-1!==$ppe||($ppe=9729),-1!==$ppa||($ppa=9729),$ppt.texParameteri(this._type,10241,$ppe),$ppt.texParameteri(this._type,10240,$ppa),$ppt.texParameteri(this._type,10242,$ppo),$ppt.texParameteri(this._type,10243,$ppo),$ppt.texParameteri(this._type,10242,$pph),$ppt.texParameteri(this._type,10243,$ppc),this._mipmap&&$ppt.generateMipmap(this._type)):(-1!==$ppa||($ppa=9729),$ppt.texParameteri(this._type,10241,$ppe=-1!==$ppe?$ppe:9729),$ppt.texParameteri(this._type,10240,$ppa),$ppt.texParameteri(this._type,10242,33071),$ppt.texParameteri(this._type,10243,33071)),$ppr&&$pps&&$ppV.bindTexture($ppt,$ppr,$pps),this._image.onload=null,this._image=null,this.memorySize=$ppl?$ppi*$ppn*4*(1+1/3):$ppi*$ppn*4},$ppQr.recreateResource=function(){this._createWebGlTexture(),this.completeCreate()},$ppQr.onAsynLoaded=function($ppt,$ppe,$ppi){var $ppn;switch($ppi&&(void 0!==($ppn=$ppi[0])&&(this._canRead=$ppn),void 0!==($ppn=$ppi[1])&&(this._repeat=$ppn),void 0!==($ppn=$ppi[2])&&(this._format=$ppn),void 0!==($ppn=$ppi[3])&&(this._mipmap=$ppn),void 0!==($ppn=$ppi.wrapModeU)&&(this._wrapModeU=$ppn),void 0!==($ppn=$ppi.wrapModeV)&&(this._wrapModeV=$ppn)),this._format){case 6407:case 6408:var $ppr=(this._image=$ppe).width;var $pps=$ppe.height;this._width=$ppr,this._height=$pps,this._size=new $ppBn($ppr,$pps),this._canRead&&($ppM.isConchApp?$ppe instanceof $ppo.HTMLElement&&(this._pixels=new Uint8Array($ppe.getImageData(0,0,$ppr,$pps))):($ppC.canvas.size($ppr,$pps),$ppC.canvas.clear(),$ppC.context.drawImage($ppe,0,0,$ppr,$pps),this._pixels=new Uint8Array($ppC.context.getImageData(0,0,$ppr,$pps).data.buffer)));break;case $ppF.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:$ppr=new $ppy($ppe);$ppr.readUTFBytes(4);$ppr.readUTFBytes(2);$ppr.getInt16();$ppr.endian="bigEndian",this._width=$ppr.getInt16(),this._height=$ppr.getInt16(),this._size=new $ppBn(this._width,this._height);$ppr.getInt16();$ppr.getInt16();this._image=new Uint8Array($ppe,$ppr.pos)}this.recreateResource(),this._endLoaded()},$ppQr.getPixels=function(){if(this._canRead)return this._pixels;throw new Error("Texture2D: must set texture canRead is true.")},$ppQr.disposeResource=function(){this._source&&($ppF.mainContext.deleteTexture(this._source),this._source=null,this._image=null,this.memorySize=0)},$ppe(0,$ppQr,"_src",function(){return this.url}),$ppe(0,$ppQr,"src",function(){return this.url}),$ppZr.load=function($ppt){return $pph.loader.create($ppt,null,null,$ppZr)};var $pp$r=$ppZr;function $ppZr($ppt,$ppe,$ppi,$ppn){this._canRead=!1,this._image=null,this._pixels=null,void 0===$ppt&&($ppt=!1),void 0===$ppe&&($ppe=!0),void 0===$ppi&&($ppi=6408),void 0===$ppn&&($ppn=!0),$ppZr.__super.call(this),this._type=3553,this._repeat=$ppe,this._canRead=$ppt,this._format=$ppi,this._mipmap=$ppn}var $ppQr;$ppt($ppts,"laya.d3.core.BaseCamera",$ppes=$ppAr),($ppP=$ppts.prototype)._sortCamerasByRenderingOrder=function(){if(this._displayedInStage){var $ppt=this.scene._cameraPool;var $ppe=$ppt.length-1;for(var $ppi=0;$ppi<$ppe;$ppi++){var $ppn;$ppt[$ppi].renderingOrder>$ppt[$ppe].renderingOrder&&($ppn=$ppt[$ppi],$ppt[$ppi]=$ppt[$ppe],$ppt[$ppe]=$ppn)}}},$ppP._calculateProjectionMatrix=function(){},$ppP._onScreenSizeChanged=function(){this._calculateProjectionMatrix()},$ppP._prepareCameraToRender=function(){$pp$._currentCameraCullingMask=this.cullingMask;var $ppt=this._shaderValues;$ppt.setValue(0,this.transform.position.elements),$ppt.setValue(5,this.forward.elements),$ppt.setValue(6,this.up.elements)},$ppP._prepareCameraViewProject=function($ppt,$ppe){var $ppi=this._shaderValues;$ppi.setValue(1,$ppt.elements),$ppi.setValue(2,$ppe.elements)},$ppP._renderCamera=function($ppt,$ppe,$ppi){},$ppP.addLayer=function($ppt){29!==$ppt.number&&30!=$ppt.number&&(this.cullingMask=this.cullingMask|$ppt.mask)},$ppP.removeLayer=function($ppt){29!==$ppt.number&&30!=$ppt.number&&(this.cullingMask=this.cullingMask&~$ppt.mask)},$ppP.addAllLayers=function(){this.cullingMask=2147483647},$ppP.removeAllLayers=function(){this.cullingMask=0|$pp$.getLayerByNumber(29).mask|$pp$.getLayerByNumber(30).mask},$ppP.ResetProjectionMatrix=function(){this._useUserProjectionMatrix=!1,this._calculateProjectionMatrix()},$ppP.moveForward=function($ppt){this._tempVector3.elements[0]=this._tempVector3.elements[1]=0,this._tempVector3.elements[2]=$ppt,this.transform.translate(this._tempVector3)},$ppP.moveRight=function($ppt){this._tempVector3.elements[1]=this._tempVector3.elements[2]=0,this._tempVector3.elements[0]=$ppt,this.transform.translate(this._tempVector3)},$ppP.moveVertical=function($ppt){this._tempVector3.elements[0]=this._tempVector3.elements[2]=0,this._tempVector3.elements[1]=$ppt,this.transform.translate(this._tempVector3,!1)},$ppP._addSelfRenderObjects=function(){var $ppt=this.scene._cameraPool;var $ppe=$ppt.length;if(0<$ppe){for(var $ppi=$ppe-1;0<=$ppi;$ppi--)if(this.renderingOrder<=$ppt[$ppi].renderingOrder){$ppt.splice($ppi+1,0,this);break}}else $ppt.push(this),this.scene.conchModel&&this.scene.conchModel.setCurrentCamera(this.conchModel)},$ppP._clearSelfRenderObjects=function(){var $ppt=this.scene._cameraPool;$ppt.splice($ppt.indexOf(this),1)},$ppP.destroy=function($ppt){void 0===$ppt&&($ppt=!0),this._sky&&this._sky.destroy(),this.renderTarget=null,$pph.stage.off("resize",this,this._onScreenSizeChanged),$ppes.prototype.destroy.call(this,$ppt)},$ppe(0,$ppP,"sky",function(){return this._sky},function($ppt){(this._sky=$ppt)._ownerCamera=this}),$ppe(0,$ppP,"forward",function(){var $ppt=this.transform.worldMatrix.elements;var $ppe=this._forward.elements;return $ppe[0]=-$ppt[8],$ppe[1]=-$ppt[9],$ppe[2]=-$ppt[10],this._forward}),$ppe(0,$ppP,"position",function(){var $ppt=this.transform.worldMatrix.elements;var $ppe=this._position.elements;return $ppe[0]=$ppt[12],$ppe[1]=$ppt[13],$ppe[2]=$ppt[14],this._position}),$ppe(0,$ppP,"renderTarget",function(){return this._renderTarget},function($ppt){null!=(this._renderTarget=$ppt)&&(this._renderTargetSize=$ppt.size)}),$ppe(0,$ppP,"up",function(){var $ppt=this.transform.worldMatrix.elements;var $ppe=this._up.elements;return $ppe[0]=$ppt[4],$ppe[1]=$ppt[5],$ppe[2]=$ppt[6],this._up}),$ppe(0,$ppP,"right",function(){var $ppt=this.transform.worldMatrix.elements;var $ppe=this._right.elements;return $ppe[0]=$ppt[0],$ppe[1]=$ppt[1],$ppe[2]=$ppt[2],this._right}),$ppe(0,$ppP,"renderTargetSize",function(){return this._renderTargetSize},function($ppt){null!=this.renderTarget&&this._renderTargetSize,this._renderTargetSize=$ppt,this._calculateProjectionMatrix()}),$ppe(0,$ppP,"fieldOfView",function(){return this._fieldOfView},function($ppt){this._fieldOfView=$ppt,this._calculateProjectionMatrix()}),$ppe(0,$ppP,"nearPlane",function(){return this._nearPlane},function($ppt){this._nearPlane=$ppt,this._calculateProjectionMatrix()}),$ppe(0,$ppP,"farPlane",function(){return this._farPlane},function($ppt){this._farPlane=$ppt,this._calculateProjectionMatrix()}),$ppe(0,$ppP,"orthographic",function(){return this._orthographic},function($ppt){this._orthographic=$ppt,this._calculateProjectionMatrix()}),$ppe(0,$ppP,"orthographicVerticalSize",function(){return this._orthographicVerticalSize},function($ppt){this._orthographicVerticalSize=$ppt,this._calculateProjectionMatrix()}),$ppe(0,$ppP,"renderingOrder",function(){return this._renderingOrder},function($ppt){this._renderingOrder=$ppt,this._sortCamerasByRenderingOrder()}),$ppts.CAMERAPOS=0,$ppts.VIEWMATRIX=1,$ppts.PROJECTMATRIX=2,$ppts.VPMATRIX=3,$ppts.VPMATRIX_NO_TRANSLATE=4,$ppts.CAMERADIRECTION=5,$ppts.CAMERAUP=6,$ppts.ENVIRONMENTDIFFUSE=7,$ppts.ENVIRONMENTSPECULAR=8,$ppts.SIMLODINFO=9,$ppts.DIFFUSEIRRADMATR=10,$ppts.DIFFUSEIRRADMATG=11,$ppts.DIFFUSEIRRADMATB=12,$ppts.HDREXPOSURE=13,$ppts.RENDERINGTYPE_DEFERREDLIGHTING="DEFERREDLIGHTING",$ppts.RENDERINGTYPE_FORWARDRENDERING="FORWARDRENDERING",$ppts.CLEARFLAG_SOLIDCOLOR=0,$ppts.CLEARFLAG_SKY=1,$ppts.CLEARFLAG_DEPTHONLY=2,$ppts.CLEARFLAG_NONE=3,$ppl($ppts,["_invertYScaleMatrix",function(){return this._invertYScaleMatrix=new $pptn(1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1)},"_invertYProjectionMatrix",function(){return this._invertYProjectionMatrix=new $pptn},"_invertYProjectionViewMatrix",function(){return this._invertYProjectionViewMatrix=new $pptn}]);var $ppJr=$ppts;function $ppts($ppt,$ppe){$ppts.__super.call(this),void 0===$ppt&&($ppt=.3),void 0===$ppe&&($ppe=1e3),this._tempVector3=new $ppD,this._position=new $ppD,this._up=new $ppD,this._forward=new $ppD,this._right=new $ppD,this._fieldOfView=60,this._useUserProjectionMatrix=!1,this._orthographic=!1,this._viewportExpressedInClipSpace=!0,this._renderTargetSize=$ppBn.fullScreen,this._orthographicVerticalSize=10,this.renderingOrder=0,this._nearPlane=$ppt,this._farPlane=$ppe,this.cullingMask=2147483647,this.clearFlag=0,this.useOcclusionCulling=!0,this._calculateProjectionMatrix(),$pph.stage.on("resize",this,this._onScreenSizeChanged)}var $ppes;$ppt($ppns,"laya.d3.core.RenderableSprite3D",$pprs=$ppAr),($ppa=$ppns.prototype)._addToInitStaticBatchManager=function(){},$ppa._setBelongScene=function($ppt){$pprs.prototype._setBelongScene.call(this,$ppt),$ppt._renderableSprite3Ds.push(this),this._render._applyLightMapParams()},$ppa._setUnBelongScene=function(){var $ppt=this._scene._renderableSprite3Ds;var $ppe=$ppt.indexOf(this);$ppt.splice($ppe,1),this._render._removeShaderDefine(laya.d3.core.RenderableSprite3D.SAHDERDEFINE_LIGHTMAP),$pprs.prototype._setUnBelongScene.call(this)},$ppa._update=function($ppt){($ppt.owner=this)._activeInHierarchy&&(this._updateComponents($ppt),this._render._updateOctreeNode(),this._lateUpdateComponents($ppt),$ppL.spriteCount++,this._childs.length&&this._updateChilds($ppt))},$ppa.destroy=function($ppt){$pprs.prototype.destroy.call(this,$ppt=void 0===$ppt?!0:$ppt),this._render._destroy(),this._render=null},$ppns.__init__=function(){$ppns.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV=$ppns.shaderDefines.registerDefine("SCALEOFFSETLIGHTINGMAPUV"),$ppns.SAHDERDEFINE_LIGHTMAP=$ppns.shaderDefines.registerDefine("LIGHTMAP")},$ppns.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV=2,$ppns.SAHDERDEFINE_LIGHTMAP=4,$ppns.LIGHTMAPSCALEOFFSET=2,$ppns.LIGHTMAP=3,$ppl($ppns,["shaderDefines",function(){return this.shaderDefines=new $ppxn}]);var $ppis=$ppns;function $ppns($ppt){this._render=null,this._geometryFilter=null,$ppns.__super.call(this,$ppt)}var $pprs,$ppa;$ppt($ppas,"laya.d3.core.Camera",$ppJr),($ppr=$ppas.prototype)._onWorldMatrixChanged=function(){this._boundFrustumUpdate=!0},$ppr._parseCustomProps=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppi.clearColor;this.clearColor=new $ppfn($ppr[0],$ppr[1],$ppr[2],$ppr[3]);$ppr=$ppi.viewport;this.normalizedViewport=new $ppmn($ppr[0],$ppr[1],$ppr[2],$ppr[3])},$ppr._calculateProjectionMatrix=function(){var $ppt,$ppe;this._useUserProjectionMatrix||(this._orthographic?($ppt=this.orthographicVerticalSize*this.aspectRatio*.5,$ppe=.5*this.orthographicVerticalSize,$pptn.createOrthoOffCenterRH(-$ppt,$ppt,-$ppe,$ppe,this.nearPlane,this.farPlane,this._projectionMatrix)):$pptn.createPerspective(3.1416*this.fieldOfView/180,this.aspectRatio,this.nearPlane,this.farPlane,this._projectionMatrix)),this._boundFrustumUpdate=!0},$ppr._update=function($ppt){this.conchModel&&(this.conchModel.setViewMatrix(this.viewMatrix.elements),this.conchModel.setProjectMatrix(this.projectionMatrix.elements)),laya.d3.core.Sprite3D.prototype._update.call(this,$ppt)},$ppr._renderCamera=function($ppt,$ppe,$ppi){var $ppn,$ppr;$ppi.parallelSplitShadowMaps[0]&&$ppi._renderShadowMap($ppt,$ppe,this),($ppe.camera=this)._prepareCameraToRender(),$ppi._preRenderUpdateComponents($ppe),$ppn=$ppe._viewMatrix=this.viewMatrix;var $pps=this._renderTarget;$pps?($pps.start(),$pptn.multiply($ppJr._invertYScaleMatrix,this._projectionMatrix,$ppJr._invertYProjectionMatrix),$pptn.multiply($ppJr._invertYScaleMatrix,this.projectionViewMatrix,$ppJr._invertYProjectionViewMatrix),$ppr=$ppe._projectionMatrix=$ppJr._invertYProjectionMatrix,$ppe._projectionViewMatrix=$ppJr._invertYProjectionViewMatrix):($ppr=$ppe._projectionMatrix=this._projectionMatrix,$ppe._projectionViewMatrix=this.projectionViewMatrix),this._prepareCameraViewProject($ppn,$ppr),$ppe._viewport=this.viewport,$ppi._preRenderScene($ppt,$ppe,this.boundFrustum),$ppi._clear($ppt,$ppe),$ppi._renderScene($ppt,$ppe),$ppi._postRenderUpdateComponents($ppe),$pps&&$pps.end()},$ppr.viewportPointToRay=function($ppt,$ppe){$ppRn.calculateCursorRay($ppt,this.viewport,this._projectionMatrix,this.viewMatrix,null,$ppe)},$ppr.normalizedViewportPointToRay=function($ppt,$ppe){var $ppi=$ppas._tempVector20;var $ppn=this.viewport;$ppt=$ppt.elements;var $ppr=$ppi.elements;$ppr[0]=$ppt[0]*$ppn.width,$ppr[1]=$ppt[1]*$ppn.height,$ppRn.calculateCursorRay($ppi,this.viewport,this._projectionMatrix,this.viewMatrix,null,$ppe)},$ppr.worldToViewportPoint=function($ppt,$ppe){$pptn.multiply(this._projectionMatrix,this._viewMatrix,this._projectionViewMatrix),this.viewport.project($ppt,this._projectionViewMatrix,$ppe);$ppt=$ppe.elements;$ppt[0]=$ppt[0]/$pph.stage.clientScaleX,$ppt[1]=$ppt[1]/$pph.stage.clientScaleY},$ppr.worldToNormalizedViewportPoint=function($ppt,$ppe){$pptn.multiply(this._projectionMatrix,this._viewMatrix,this._projectionViewMatrix),this.normalizedViewport.project($ppt,this._projectionViewMatrix,$ppe);$ppt=$ppe.elements;$ppt[0]=$ppt[0]/$pph.stage.clientScaleX,$ppt[1]=$ppt[1]/$pph.stage.clientScaleY},$ppr.convertScreenCoordToOrthographicCoord=function($ppt,$ppe){var $ppi,$ppn,$ppr,$pps,$ppa;return!!this._orthographic&&($ppi=$ppIt.clientWidth,$ppn=$ppIt.clientHeight,$ppr=this.orthographicVerticalSize*this.aspectRatio/$ppi,$pps=this.orthographicVerticalSize/$ppn,$ppt=$ppt.elements,($ppa=$ppe.elements)[0]=(-$ppi/2+$ppt[0])*$ppr,$ppa[1]=($ppn/2-$ppt[1])*$pps,$ppa[2]=(this.nearPlane-this.farPlane)*($ppt[2]+1)/2-this.nearPlane,$ppD.transformCoordinate($ppe,this.transform.worldMatrix,$ppe),!0)},$ppe(0,$ppr,"projectionViewMatrix",function(){return $pptn.multiply(this.projectionMatrix,this.viewMatrix,this._projectionViewMatrix),this._projectionViewMatrix}),$ppe(0,$ppr,"aspectRatio",function(){var $ppt;return 0===this._aspectRatio?($ppt=this.viewport).width/$ppt.height:this._aspectRatio},function($ppt){if($ppt<0)throw new Error("Camera: the aspect ratio has to be a positive real number.");this._aspectRatio=$ppt,this._calculateProjectionMatrix()}),$ppe(0,$ppr,"boundFrustum",function(){return this._boundFrustumUpdate&&(this._boundFrustum.matrix=this.projectionViewMatrix),this._boundFrustum}),$ppe(0,$ppr,"needViewport",function(){var $ppt=this.normalizedViewport;return 0===$ppt.x&&0===$ppt.y&&1===$ppt.width&&1===$ppt.height}),$ppe(0,$ppr,"viewport",function(){var $ppt,$ppe,$ppi;return this._viewportExpressedInClipSpace&&($ppt=this._normalizedViewport,$ppe=($ppi=this.renderTargetSize).width,$ppi=$ppi.height,this._viewport.x=$ppt.x*$ppe,this._viewport.y=$ppt.y*$ppi,this._viewport.width=$ppt.width*$ppe,this._viewport.height=$ppt.height*$ppi),this._viewport},function($ppt){if(null!=this.renderTarget&&($ppt.x<0||$ppt.y<0||0==$ppt.width||0==$ppt.height))throw new Error("Camera: viewport size invalid.","value");this._viewportExpressedInClipSpace=!1,this._viewport=$ppt,this._calculateProjectionMatrix()}),$ppe(0,$ppr,"normalizedViewport",function(){var $ppt,$ppe,$ppi;return this._viewportExpressedInClipSpace||($ppt=this._viewport,$ppe=($ppi=this.renderTargetSize).width,$ppi=$ppi.height,this._normalizedViewport.x=$ppt.x/$ppe,this._normalizedViewport.y=$ppt.y/$ppi,this._normalizedViewport.width=$ppt.width/$ppe,this._normalizedViewport.height=$ppt.height/$ppi),this._normalizedViewport},function($ppt){$ppt.x<0&&($ppt.x=0,console.warn("Camera: viewport.x must large than 0.0.")),$ppt.y<0&&($ppt.y=0,console.warn("Camera: viewport.y must large than 0.0.")),1<$ppt.x+$ppt.width&&($ppt.width=1-$ppt.x,console.warn("Camera: viewport.width + viewport.x must less than 1.0.")),1<$ppt.y+$ppt.height&&($ppt.height=1-$ppt.y,console.warn("Camera: viewport.height + viewport.y must less than 1.0.")),this._viewportExpressedInClipSpace=!0,this._normalizedViewport=$ppt,this._calculateProjectionMatrix()}),$ppe(0,$ppr,"projectionMatrix",function(){return this._projectionMatrix},function($ppt){this._projectionMatrix=$ppt,this._useUserProjectionMatrix=!0}),$ppe(0,$ppr,"viewMatrix",function(){return this.transform.worldMatrix.invert(this._viewMatrix),this._viewMatrix}),$ppl($ppas,["_tempVector20",function(){return this._tempVector20=new $ppun}]);var $ppss=$ppas;function $ppas($ppt,$ppe,$ppi){void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=.3),void 0===$ppi&&($ppi=1e3),this._viewMatrix=new $pptn,this._projectionMatrix=new $pptn,this._projectionViewMatrix=new $pptn,this._viewport=new $ppmn(0,0,0,0),this._normalizedViewport=new $ppmn(0,0,1,1),this._aspectRatio=$ppt,this._boundFrustumUpdate=!0,this._boundFrustum=new $ppYi($pptn.DEFAULT),$ppas.__super.call(this,$ppe,$ppi),this.transform.on("worldmatrixneedchanged",this,this._onWorldMatrixChanged)}$ppt($pphs,"laya.d3.core.MeshSprite3D",$ppls=$ppis),($pps=$pphs.prototype)._changeRenderObjectByMesh=function($ppt){var $ppe=this._render._renderElements;var $ppi=$ppe[$ppt];($ppi=$ppi||($ppe[$ppt]=new $pprr))._render=this._render;$ppe=this._render.sharedMaterials[$ppt];$ppe=$ppe||$ppPr.defaultMaterial;$ppt=this._geometryFilter.sharedMesh.getRenderElement($ppt);return $ppi._mainSortID=this._getSortID($ppt,$ppe),$ppi._sprite3D=this,$ppi.renderObj=$ppt,$ppi._material=$ppe,$ppi},$pps._changeRenderObjectByMaterial=function($ppt,$ppe){var $ppi=this._render._renderElements[$ppt];$ppe=$ppe||$ppPr.defaultMaterial;$ppt=this._geometryFilter.sharedMesh.getRenderElement($ppt);return $ppi._mainSortID=this._getSortID($ppt,$ppe),$ppi._sprite3D=this,$ppi.renderObj=$ppt,$ppi._material=$ppe,$ppi},$pps._changeRenderObjectsByMesh=function(){var $ppt=this._geometryFilter.sharedMesh.getRenderElementsCount();this._render._renderElements.length=$ppt;for(var $ppe=0;$ppe<$ppt;$ppe++)this._changeRenderObjectByMesh($ppe)},$pps._onMeshChanged=function($ppt){$ppt=$ppt.sharedMesh;$ppt.loaded?this._changeRenderObjectsByMesh():$ppt.once("loaded",this,this._onMeshLoaded)},$pps._onMeshLoaded=function($ppt){$ppt===this.meshFilter.sharedMesh&&this._changeRenderObjectsByMesh()},$pps._onMaterialChanged=function($ppt,$ppe,$ppi){$ppe<this._render._renderElements.length&&this._changeRenderObjectByMaterial($ppe,$ppi)},$pps._clearSelfRenderObjects=function(){this.scene.removeFrustumCullingObject(this._render)},$pps._addSelfRenderObjects=function(){this.scene.addFrustumCullingObject(this._render)},$pps._parseCustomProps=function($ppc,$ppt,$ppe,$ppi){var $ppn=this.meshRender;var $ppr=$ppe.lightmapIndex;null!=$ppr&&($ppn.lightmapIndex=$ppr);$ppr=$ppe.lightmapScaleOffset;var $pps,$ppa;if($ppr&&($ppn.lightmapScaleOffset=new $ppfn($ppr[0],$ppr[1],$ppr[2],$ppr[3])),$ppi.instanceParams)($pps=$ppi.instanceParams.loadPath)&&($ppa=$ppx.getRes($ppt[$pps]),(this.meshFilter.sharedMesh=$ppa).loaded?$ppn.sharedMaterials=$ppa.materials:$ppa.once("loaded",this,this._applyMeshMaterials));else{($pps=$ppe.meshPath)&&($ppa=$ppx.getRes($ppt[$pps]),this.meshFilter.sharedMesh=$ppa);var $ppo=$ppe.materials;if($ppo){var $pph=$ppn.sharedMaterials;var $ppu=$ppo.length;$pph.length=$ppu;for(var $ppl=0;$ppl<$ppu;$ppl++)$pph[$ppl]=$ppx.getRes($ppt[$ppo[$ppl].path]);$ppn.sharedMaterials=$pph}}},$pps._applyMeshMaterials=function($ppt){var $ppe=this._render.sharedMaterials;var $ppi=$ppt.materials;for(var $ppn=0,$ppr=$ppi.length;$ppn<$ppr;$ppn++)$ppe[$ppn]||($ppe[$ppn]=$ppi[$ppn]);this._render.sharedMaterials=$ppe},$pps._addToInitStaticBatchManager=function(){$pphs._staticBatchManager._addInitBatchSprite(this)},$pps.cloneTo=function($ppt){var $ppe=$ppt;$ppe._geometryFilter.sharedMesh=this._geometryFilter.sharedMesh;var $ppi=this._render;$ppe=$ppe._render;$ppe.enable=$ppi.enable,$ppe.sharedMaterials=$ppi.sharedMaterials,$ppe.castShadow=$ppi.castShadow;var $ppn=$ppi.lightmapScaleOffset;$ppn&&($ppe.lightmapScaleOffset=$ppn.clone()),$ppe.lightmapIndex=$ppi.lightmapIndex,$ppe.receiveShadow=$ppi.receiveShadow,$ppe.sortingFudge=$ppi.sortingFudge,laya.d3.core.Sprite3D.prototype.cloneTo.call(this,$ppt)},$pps.destroy=function($ppt){var $ppe;void 0===$ppt&&($ppt=!0),this.destroyed||(null!=($ppe=this.meshFilter.sharedMesh)&&($ppe.loaded||$ppe.off("loaded",this,this._applyMeshMaterials)),$ppls.prototype.destroy.call(this,$ppt),this._geometryFilter._destroy())},$ppe(0,$pps,"meshFilter",function(){return this._geometryFilter}),$ppe(0,$pps,"meshRender",function(){return this._render}),$pphs.__init__=function(){$ppte._staticBatchManagers.push($pphs._staticBatchManager)},$pphs.load=function($ppt){return $pph.loader.create($ppt,null,null,$pphs)},$ppl($pphs,["_staticBatchManager",function(){return this._staticBatchManager=new $pphr}]);var $ppos=$pphs;function $pphs($ppt,$ppe){$pphs.__super.call(this,$ppe),this._geometryFilter=new $ppxr(this),this._render=new $ppTr(this),this._geometryFilter.on("meshchanged",this,this._onMeshChanged),this._render.on("materialchanged",this,this._onMaterialChanged),$ppt&&(this._geometryFilter.sharedMesh=$ppt)instanceof laya.d3.resource.models.Mesh&&($ppt.loaded?this._render.sharedMaterials=$ppt.materials:$ppt.once("loaded",this,this._applyMeshMaterials))}var $ppls}(window,(document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function($ppt,$ppe){"use strict";for(var $ppi in Object.defineProperty($ppe,"__esModule",{value:!0}),Laya){var $ppn=Laya[$ppi];$ppn&&$ppn.__isclass&&($ppe[$ppi]=$ppn)}}),function($ppi){$ppi.un,$ppi.uns;var $pph=$ppi.static,$ppt=$ppi.class,$ppe=$ppi.getset;$ppi.__newvec;laya.utils.Browser;var $ppl=laya.display.css.CSSStyle,$ppd=laya.utils.ClassUtils;laya.events.Event;var $ppc=laya.utils.HTMLChar,$ppr=laya.net.Loader,$ppu=(laya.display.Node,laya.maths.Rectangle);var $ppf=laya.renders.Render;laya.renders.RenderContext,laya.renders.RenderSprite;var $ppp=laya.display.Sprite,$ppm=laya.utils.Stat,$ppL=laya.display.Text,$ppg=laya.resource.Texture;var $ppv=laya.net.URL,$ppy=laya.utils.Utils;$ppt($pp_,"laya.html.utils.HTMLParse"),$pp_.parse=function($ppt,$ppe,$ppi){$ppe=($ppe="<root>"+($ppe=$ppe.replace(/<br>/g,"<br/>"))+"</root>").replace($pp_.spacePattern,$pp_.char255);$ppe=$ppy.parseXMLFromString($ppe);$pp_._parseXML($ppt,$ppe.childNodes[0].childNodes,$ppi)},$pp_._parseXML=function($ppt,$ppe,$ppi,$ppc){var $ppn=0,$ppr=0;var $pps;var $ppa;var $ppo;if($ppe.join||$ppe.item)for($ppn=0,$ppr=$ppe.length;$ppn<$ppr;++$ppn)$pp_._parseXML($ppt,$ppe[$ppn],$ppi,$ppc);else if(3==$ppe.nodeType)$ppt instanceof laya.html.dom.HTMLDivElement?(null==$ppe.nodeName&&($ppe.nodeName="#text"),$ppa=$ppe.nodeName.toLowerCase(),0<($ppo=$ppe.textContent.replace(/^\s+|\s+$/g,"")).length&&($pps=$ppd.getInstance($ppa))&&($ppt.addChild($pps),$pps.innerTEXT=$ppo.replace($pp_.char255AndOneSpacePattern," "))):0<($ppo=$ppe.textContent.replace(/^\s+|\s+$/g,"")).length&&($ppt.innerTEXT=$ppo.replace($pp_.char255AndOneSpacePattern," "));else if("#comment"!=($ppa=$ppe.nodeName.toLowerCase()))if($pps=$ppd.getInstance($ppa)){($pps=$ppt.addChild($pps)).URI=$ppi,$pps.href=$ppc;var $pph=$ppe.attributes;if($pph&&0<$pph.length)for($ppn=0,$ppr=$pph.length;$ppn<$ppr;++$ppn){var $ppl=$pph[$ppn];var $ppu=$ppl.nodeName;$ppl=$ppl.value;$pps._setAttributes($ppu,$ppl)}$pp_._parseXML($pps,$ppe.childNodes,$ppi,$pps.href)}else $pp_._parseXML($ppt,$ppe.childNodes,$ppi,$ppc)},$pp_.char255=String.fromCharCode(255),$pp_.spacePattern=/&nbsp;|&#160;/g,$pp_.char255AndOneSpacePattern=new RegExp(String.fromCharCode(255)+"|(\\s+)","g");var $ppx=$pp_;function $pp_(){}$ppt($ppP,"laya.html.utils.Layout"),$ppP.later=function($ppt){null==$ppP._will&&($ppP._will=[],$ppi.stage.frameLoop(1,null,function(){if(!($ppP._will.length<1)){for(var $ppt=0;$ppt<$ppP._will.length;$ppt++)laya.html.utils.Layout.layout($ppP._will[$ppt]);$ppP._will.length=0}})),$ppP._will.push($ppt)},$ppP.layout=function($ppt){if(!$ppt||!$ppt._style)return null;if(0==(512&$ppt._style._type))return null;$ppt.getStyle()._type&=-513;var $ppe=$ppP._multiLineLayout($ppt);return $ppf.isConchApp&&$ppt.layaoutCallNative&&$ppt.layaoutCallNative(),$ppe},$ppP._multiLineLayout=function($ppt){if($ppL.RightToLeft)return $ppP._multiLineLayout2($ppt);var $ppc=new Array;$ppt._addChildsToLayout($ppc);var $ppe=0,$ppu=$ppc.length;var $ppi=$ppt._getCSSStyle();var $pp_=$ppi.letterSpacing;var $ppd=$ppi.leading;var $ppf=$ppi.lineHeight;var $ppp=$ppi._widthAuto()||!$ppi.wordWrap;var $ppm=$ppp?999999:$ppt.width;$ppt.height;var $ppg=0;var $ppv=$ppi.italic?$ppi.fontSize/3:0;var $ppy=$ppi._getAlign();var $ppx=$ppi._getValign();var $ppw=0!==$ppx||0!==$ppy||0!=$ppf;var $ppn;var $ppr=0;var $pps=0;var $ppb=0;var $ppT=0;var $ppS=new Array;var $ppC;var $ppa=$ppS[0]=new $ppB;var $ppo=!1,$ppM=!1;var $pph;$ppa.h=0,$ppi.italic&&($ppm-=$ppi.fontSize/3);var $ppE=0;var $ppA=!0;function $ppD(){$ppa.y=$pps,$pps+=$ppa.h+$ppd,0==$ppa.h&&($pps+=$ppf),$ppa.mWidth=$ppE,$ppE=0,$ppa=new $ppB,$ppS.push($ppa),$ppa.h=0,$ppo=!($ppA=!($ppr=0))}for($ppe=0;$ppe<$ppu;$ppe++)if(null!=($ppn=$ppc[$ppe]))if($ppA=!1,$ppn instanceof laya.html.dom.HTMLBrElement)$ppD(),$ppa.y=$pps;else{if($ppn._isChar()){if(($pph=$ppn).isWord)$ppo=$ppM||"\n"===$pph.char,$ppa.wordStartIndex=$ppa.elements.length;else{if(0<$ppS.length&&$ppm<$ppr+$ppb&&0<$ppa.wordStartIndex){var $ppl;$ppl=$ppa.elements.length-$ppa.wordStartIndex+1,$ppa.elements.length=$ppa.wordStartIndex,$ppe-=$ppl,$ppD();continue}$ppo=!1,$ppE+=$pph.width}$ppb=$pph.width+$pp_,$ppT=$pph.height,$ppM=!1,($ppo=$ppo||$ppm<$ppr+$ppb)&&$ppD(),$ppa.minTextHeight=Math.min($ppa.minTextHeight,$ppn.height)}else $ppl=$ppn._getCSSStyle(),$pph=$ppn,$ppC=$ppl.padding,0===$ppl._getCssFloat()||($ppw=!0),$ppo=$ppM||$ppl.lineElement,$ppb=$pph.width*$pph._style._tf.scaleX+$ppC[1]+$ppC[3]+$pp_,$ppT=$pph.height*$pph._style._tf.scaleY+$ppC[0]+$ppC[2],$ppM=$ppl.lineElement,($ppo=$ppo||$ppm<$ppr+$ppb&&$ppl.wordWrap)&&$ppD();$ppa.elements.push($ppn),$ppa.h=Math.max($ppa.h,$ppT),$ppn.x=$ppr,$ppn.y=$pps,$ppr+=$ppb,$ppa.w=$ppr-$pp_,$ppa.y=$pps,$ppg=Math.max($ppr+$ppv,$ppg)}else $ppA||($ppr+=$ppP.DIV_ELEMENT_PADDING),$ppa.wordStartIndex=$ppa.elements.length;if($pps=$ppa.y+$ppa.h,$ppw){var $ppI=0;var $ppR=$ppm;for($ppp&&0<$ppt.width&&($ppR=$ppt.width),$ppe=0,$ppu=$ppS.length;$ppe<$ppu;$ppe++)$ppS[$ppe].updatePos(0,$ppR,$ppe,$ppI,$ppy,$ppx,$ppf),$ppI+=Math.max($ppf,$ppS[$ppe].h+$ppd);$pps=$ppI}return $ppp&&($ppt.width=$ppg),$pps>$ppt.height&&($ppt.height=$pps),[$ppg,$pps]},$ppP._multiLineLayout2=function($ppc){var $ppu=new Array;$ppc._addChildsToLayout($ppu);var $ppt=0,$pp_=$ppu.length;var $ppe=$ppc._getCSSStyle();var $ppd=$ppe.letterSpacing;var $ppf=$ppe.leading;var $ppp=$ppe.lineHeight;var $ppm=$ppe._widthAuto()||!$ppe.wordWrap;var $ppg=$ppm?999999:$ppc.width;$ppc.height;var $ppv=0;var $ppy=$ppe.italic?$ppe.fontSize/3:0;var $ppx=2-$ppe._getAlign();var $ppw=$ppe._getValign();var $ppb=0!==$ppw||0!=$ppx||0!=$ppp;var $ppi;var $ppn=0;var $ppr=0;var $ppT=0;var $ppS=0;var $pps=new Array;var $ppC;var $ppa=$pps[0]=new $ppB;var $ppo=!1,$ppM=!1;var $pph;$ppa.h=0,$ppe.italic&&($ppg-=$ppe.fontSize/3);var $ppE=0;var $ppA=!0;function $ppD(){$ppa.y=$ppr,$ppr+=$ppa.h+$ppf,0==$ppa.h&&($ppr+=$ppp),$ppa.mWidth=$ppE,$ppE=0,$ppa=new $ppB,$pps.push($ppa),$ppa.h=0,$ppo=!($ppA=!($ppn=0))}for($ppt=0;$ppt<$pp_;$ppt++)if(null!=($ppi=$ppu[$ppt]))if($ppA=!1,$ppi instanceof laya.html.dom.HTMLBrElement)$ppD(),$ppa.y=$ppr;else{if($ppi._isChar()){if(($pph=$ppi).isWord)$ppo=$ppM||"\n"===$pph.char,$ppa.wordStartIndex=$ppa.elements.length;else{if(0<$pps.length&&$ppg<$ppn+$ppT&&0<$ppa.wordStartIndex){var $ppl;$ppl=$ppa.elements.length-$ppa.wordStartIndex+1,$ppa.elements.length=$ppa.wordStartIndex,$ppt-=$ppl,$ppD();continue}$ppo=!1,$ppE+=$pph.width}$ppT=$pph.width+$ppd,$ppS=$pph.height,$ppM=!1,($ppo=$ppo||$ppg<$ppn+$ppT)&&$ppD(),$ppa.minTextHeight=Math.min($ppa.minTextHeight,$ppi.height)}else $ppl=$ppi._getCSSStyle(),$pph=$ppi,$ppC=$ppl.padding,0===$ppl._getCssFloat()||($ppb=!0),$ppo=$ppM||$ppl.lineElement,$ppT=$pph.width*$pph._style._tf.scaleX+$ppC[1]+$ppC[3]+$ppd,$ppS=$pph.height*$pph._style._tf.scaleY+$ppC[0]+$ppC[2],$ppM=$ppl.lineElement,($ppo=$ppo||$ppg<$ppn+$ppT&&$ppl.wordWrap)&&$ppD();$ppa.elements.push($ppi),$ppa.h=Math.max($ppa.h,$ppS),$ppi.x=$ppn,$ppi.y=$ppr,$ppn+=$ppT,$ppa.w=$ppn-$ppd,$ppa.y=$ppr,$ppv=Math.max($ppn+$ppy,$ppv)}else $ppA||($ppn+=$ppP.DIV_ELEMENT_PADDING),$ppa.wordStartIndex=$ppa.elements.length;if($ppr=$ppa.y+$ppa.h,$ppb){var $ppI=0;var $ppR=$ppg;for($ppt=0,$pp_=$pps.length;$ppt<$pp_;$ppt++)$pps[$ppt].updatePos(0,$ppR,$ppt,$ppI,$ppx,$ppw,$ppp),$ppI+=Math.max($ppp,$pps[$ppt].h+$ppf);$ppr=$ppI}for($ppm&&($ppc.width=$ppv),$ppr>$ppc.height&&($ppc.height=$ppr),$ppt=0,$pp_=$pps.length;$ppt<$pp_;$ppt++)$pps[$ppt].revertOrder($ppg);return[$ppv,$ppr]},$ppP._will=null,$ppP.DIV_ELEMENT_PADDING=0;var $ppw=$ppP;function $ppP(){}$ppt($ppb,"laya.html.utils.LayoutLine"),($ppa=$ppb.prototype).updatePos=function($ppc,$ppt,$ppu,$ppe,$ppi,$ppn,$ppr){var $pps=0;var $ppa;0<this.elements.length&&($pps=($ppa=this.elements[this.elements.length-1]).x+$ppa.width-this.elements[0].x);var $ppo=0,$pp_=NaN;1===$ppi&&($ppo=($ppt-$pps)/2),2===$ppi&&($ppo=$ppt-$pps),0===$ppr||0!=$ppn||($ppn=1);for(var $pph=0,$ppd=this.elements.length;$pph<$ppd;$pph++){var $ppf=($ppa=this.elements[$pph])._getCSSStyle();switch(0!==$ppo&&($ppa.x+=$ppo),$ppf._getValign()){case 0:$ppa.y=$ppe;break;case 1:var $ppl=0;$ppl=(($ppl=99999!=this.minTextHeight?this.minTextHeight:$ppl)+$ppr)/2;$ppl=Math.max($ppl,this.h),$pp_=(laya.html.dom.HTMLImageElement,$ppe+$ppl-$ppa.height),$ppa.y=$pp_;break;case 2:$ppa.y=$ppe+($ppr-$ppa.height)}}},$ppa.revertOrder=function($ppt){var $ppe;if(0<this.elements.length){var $ppi,$ppn=0;for($ppi=this.elements.length,$ppn=0;$ppn<$ppi;$ppn++)($ppe=this.elements[$ppn]).x=$ppt-$ppe.x-$ppe.width}};var $ppB=$ppb;function $ppb(){this.x=0,this.y=0,this.w=0,this.h=0,this.wordStartIndex=0,this.minTextHeight=99999,this.mWidth=0,this.elements=new Array}$ppt($pps,"laya.html.dom.HTMLElement",$ppT=$ppp),($ppa=$pps.prototype).layaoutCallNative=function(){var $ppt=0;if(this._childs&&0<($ppt=this._childs.length))for(var $ppe=0;$ppe<$ppt;$ppe++)this._childs[$ppe].layaoutCallNative&&this._childs[$ppe].layaoutCallNative();var $ppi=this._getWords();$ppi?laya.html.dom.HTMLElement.fillWords(this,$ppi,0,0,this.style.font,this.style.color,this.style.underLine):this.graphics.clear()},$ppa.appendChild=function($ppt){return this.addChild($ppt)},$ppa._getWords2=function(){var $ppt=this._text.text;if(!$ppt||0===$ppt.length)return null;var $ppe=0,$ppi=0;var $ppn;var $ppr;if(this._text.drawWords)$ppr=this._text.drawWords;else{for($ppi=($ppn=$ppt.split(" ")).length-1,$ppr=[],$ppe=0;$ppe<$ppi;$ppe++)$ppr.push($ppn[$ppe]," ");0<=$ppi&&$ppr.push($ppn[$ppi]),this._text.drawWords=$ppr}var $pps=this._text.words;if($pps&&$pps.length===$ppr.length)return $pps;null===$pps&&(this._text.words=$pps=[]),$pps.length=$ppr.length;var $ppa=this.style;var $ppo=$ppa.font;for($ppe=0,$ppi=$ppr.length;$ppe<$ppi;$ppe++){$pph=$ppy.measureText($ppr[$ppe],$ppo);var $pph=$pps[$ppe]=new $ppc($ppr[$ppe],$pph.width,$pph.height||$ppa.fontSize,$ppa);var $ppl;1<$pph.char.length&&($pph.charNum=$pph.char),this.href&&($ppl=new $ppp,this.addChild($ppl),$pph.setSprite($ppl))}return $pps},$ppa._getWords=function(){if(!$ppL.CharacterCache)return this._getWords2();var $ppt=this._text.text;if(!$ppt||0===$ppt.length)return null;var $ppe=this._text.words;if($ppe&&$ppe.length===$ppt.length)return $ppe;null===$ppe&&(this._text.words=$ppe=[]),$ppe.length=$ppt.length;var $ppi=this.style;var $ppn=$ppi.font;for(var $ppr=0,$pps=$ppt.length;$ppr<$pps;$ppr++){$ppa=$ppy.measureText($ppt.charAt($ppr),$ppn);var $ppa=$ppe[$ppr]=new $ppc($ppt.charAt($ppr),$ppa.width,$ppa.height||$ppi.fontSize,$ppi);var $ppo;this.href&&($ppo=new $ppp,this.addChild($ppo),$ppa.setSprite($ppo))}return $ppe},$ppa.showLinkSprite=function(){var $ppt=this._text.words;if($ppt){var $ppe=[];var $ppi;var $ppn;for(var $ppr=0;$ppr<$ppt.length;$ppr++)$ppn=$ppt[$ppr],($ppi=new $ppp).graphics.drawRect(0,0,$ppn.width,$ppn.height,"#ff0000"),$ppi.width=$ppn.width,$ppi.height=$ppn.height,this.addChild($ppi),$ppe.push($ppi)}},$ppa._layoutLater=function(){var $ppt=this.style;512&$ppt._type||($ppt.widthed(this)&&(0<this._childs.length||null!=this._getWords())&&$ppt.block?($ppw.later(this),$ppt._type|=512):this.parent&&this.parent._layoutLater())},$ppa._setAttributes=function($ppt,$ppe){switch($ppt){case"style":return void this.style.cssText($ppe);case"class":return void(this.className=$ppe)}$ppT.prototype._setAttributes.call(this,$ppt,$ppe)},$ppa.updateHref=function(){if(null!=this._href){var $ppt=this._getWords();var $ppe;var $ppi;if($ppt)for(var $ppn=0;$ppn<$ppt.length;$ppn++)($ppi=($ppe=$ppt[$ppn]).getSprite())&&($ppi.size($ppe.width,$ppe.height),$ppi.on("click",this,this.onLinkHandler))}},$ppa.onLinkHandler=function($ppt){if("click"===$ppt.type){var $ppe=this;for(;$ppe;)$ppe.event("link",[this.href]),$ppe=$ppe.parent}},$ppa.formatURL=function($ppt){return this.URI?$ppv.formatURL($ppt,this.URI?this.URI.path:null):$ppt},$ppe(0,$ppa,"href",function(){return this._href},function($ppt){null!=(this._href=$ppt)&&(this._getCSSStyle().underLine=1,this.updateHref())}),$ppe(0,$ppa,"color",null,function($ppt){this.style.color=$ppt}),$ppe(0,$ppa,"onClick",null,function($ppt){$ppi._runScript("fn=function(event){"+$ppt+";}"),this.on("click",this,void 0)}),$ppe(0,$ppa,"id",null,function($ppt){$ppM.document.setElementById($ppt,this)}),$ppe(0,$ppa,"innerTEXT",function(){return this._text.text},function($ppt){this.text=$ppt}),$ppe(0,$ppa,"style",function(){return this._style}),$ppe(0,$ppa,"text",function(){return this._text.text},function($ppt){this._text==$pps._EMPTYTEXT?this._text={text:$ppt,words:null}:(this._text.text=$ppt,this._text.words&&(this._text.words.length=0)),$ppf.isConchApp&&this.layaoutCallNative(),this._renderType|=2048,this.repaint(),this.updateHref()}),$ppe(0,$ppa,"parent",$ppT.prototype._$get_parent,function($ppt){var $ppe;$ppt instanceof laya.html.dom.HTMLElement&&($ppe=$ppt,this.URI||(this.URI=$ppe.URI),this.style.inherit($ppe.style)),$ppi.superSet($ppp,this,"parent",$ppt)}),$ppe(0,$ppa,"className",null,function($ppt){this.style.attrs($ppM.document.styleSheets["."+$ppt])}),$pps.fillWords=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps,$ppa){$ppt.graphics.clear();for(var $ppo=0,$pph=$ppe.length;$ppo<$pph;$ppo++){var $ppl=$ppe[$ppo];$ppt.graphics.fillText($ppl.char,$ppl.x+$ppi,$ppl.y+$ppn,$ppr,$pps,"left",$ppa)}},$pps._EMPTYTEXT={text:null,words:null};var $ppn=$pps;function $pps(){this.URI=null,this._href=null,$pps.__super.call(this),this._text=$pps._EMPTYTEXT,this.setStyle(new $ppl(this)),this._getCSSStyle().valign="middle",this.mouseEnabled=!0}var $ppT;$ppt($ppS,"laya.html.dom.HTMLBrElement",$ppn);function $ppS(){$ppS.__super.call(this),this.style.lineElement=!0,this.style.block=!0}$ppt($ppC,"laya.html.dom.HTMLDivElement",$ppa=$ppn),($ppo=$ppC.prototype).appendHTML=function($ppt){$ppx.parse(this,$ppt,this.URI),this.layout()},$ppo._addChildsToLayout=function($ppe){var $ppt=this._getWords();if(null==$ppt&&0==this._childs.length)return!1;$ppt&&$ppt.forEach(function($ppt){$ppe.push($ppt)});var $ppi=!0;for(var $ppn=0,$ppr=this._childs.length;$ppn<$ppr;$ppn++){var $pps=this._childs[$ppn];$ppi?$ppi=!1:$ppe.push(null),$pps._addToLayout($ppe)}return!0},$ppo._addToLayout=function($ppt){this.layout()},$ppo.layout=function(){var $ppt,$ppe;this.style&&(this.style._type|=512,($ppt=$ppw.layout(this))&&(this._$P.mHtmlBounds||this._set$P("mHtmlBounds",new $ppu),($ppe=this._$P.mHtmlBounds).x=$ppe.y=0,$ppe.width=this.contextWidth=$ppt[0],$ppe.height=this.contextHeight=$ppt[1],this.setBounds($ppe)))},$ppe(0,$ppo,"height",function(){return this._height||this.contextHeight},$ppa.prototype._$set_height),$ppe(0,$ppo,"innerHTML",null,function($ppt){this.destroyChildren(),this.appendHTML($ppt)}),$ppe(0,$ppo,"width",function(){return this._width||this.contextWidth},function($ppt){var $ppe=!1;$ppe=0===$ppt?$ppt!=this._width:$ppt!=this.width,$ppi.superSet($ppn,this,"width",$ppt),$ppe&&this.layout()});$ppa=$ppC;function $ppC(){this.contextHeight=NaN,this.contextWidth=NaN,$ppC.__super.call(this),this.style.block=!0,this.style.lineElement=!0,this.style.width=200,this.style.height=200}var $ppa;$ppt($ppE,"laya.html.dom.HTMLDocument",$ppn),($ppo=$ppE.prototype).getElementById=function($ppt){return this.all[$ppt]},$ppo.setElementById=function($ppt,$ppe){this.all[$ppt]=$ppe},$pph($ppE,["document",function(){return this.document=new $ppE}]);var $ppM=$ppE;function $ppE(){this.all=new Array,this.styleSheets=$ppl.styleSheets,$ppE.__super.call(this)}$ppt($ppA,"laya.html.dom.HTMLImageElement",$ppn),($ppo=$ppA.prototype)._addToLayout=function($ppt){this._style.absolute||$ppt.push(this)},$ppo.render=function($ppt,$ppe,$ppi){!this._tex||!this._tex.loaded||!this._tex.loaded||this._width<1||this._height<1||($ppm.spriteCount++,this._renderArgs[0]=this._tex,this._renderArgs[1]=this.x,this._renderArgs[2]=this.y,this._renderArgs[3]=this.width||this._tex.width,this._renderArgs[4]=this.height||this._tex.height,$ppt.ctx.drawTexture2($ppe,$ppi,this.style.translateX,this.style.translateY,this.transform,this.style.alpha,this.style.blendMode,this._renderArgs))},$ppo.layaoutCallNative=function(){var $ppt=0;if(this._childs&&0<($ppt=this._childs.length))for(var $ppe=0;$ppe<$ppt;$ppe++)this._childs[$ppe].layaoutCallNative&&this._childs[$ppe].layaoutCallNative()},$ppe(0,$ppo,"width",function(){return this.autoSize?this.getSelfBounds().width:this._width},function($ppt){this._width!==$ppt&&(this._width=$ppt,this._style.width=$ppt,this.repaint())}),$ppe(0,$ppo,"height",function(){return this.autoSize?this.getSelfBounds().height:this._height},function($ppt){this._height!==$ppt&&(this._height=$ppt,this._style.height=$ppt,this.repaint())}),$ppo.destroy=function(){null!=this._tex&&(this._tex.off("loaded",this,this.onloaded),$ppr.clearCache(this,this._url),this._tex=null),$ppn.prototype.destroy.call(this)},$ppo.onloaded=function(){var $ppt=this._style;$ppt.widthed(this)||this._width==this._tex.width||(this.width=this._tex.width,this.parent&&this.parent._layoutLater()),$ppt.heighted(this)||this._height==this._tex.height||(this.height=this._tex.height,this.parent&&this.parent._layoutLater()),$ppf.isConchApp&&(this._renderArgs[0]=this._tex,this._renderArgs[1]=this.x,this._renderArgs[2]=this.y,this._renderArgs[3]=this.width||this._tex.width,this._renderArgs[4]=this.height||this._tex.height,this.graphics.drawTexture(this._tex,0,0,this._renderArgs[3],this._renderArgs[4])),this.repaint(),this.parentRepaint()},$ppe(0,$ppo,"src",null,function($ppt){var $ppe;$ppt=this.formatURL($ppt),this._url!=$ppt&&(null!=this._tex&&($ppr.clearCache(this,this._url),this._tex.off("loaded",this,this.onloaded)),this._url=$ppt,$ppr.keepCache(this,$ppt),($ppe=this._tex=$ppr.getRes($ppt))||(this._tex=$ppe=$ppi.loader.create($ppt,null,null,$ppg)),$ppe.loaded?this.onloaded():$ppe.once("loaded",this,this.onloaded))});function $ppA(){this._tex=null,this._url=null,this._renderArgs=[],$ppA.__super.call(this),this.style.block=!0}$ppt($ppD,"laya.html.dom.HTMLLinkElement",$pph=$ppn),($ppo=$ppD.prototype)._onload=function($ppt){"text/css"===this.type&&$ppl.parseCSS($ppt,this.URI)},$ppe(0,$ppo,"href",$pph.prototype._$get_href,function($ppt){var $ppe=this;$ppt=this.formatURL($ppt),this.URI=new $ppv($ppt);var $ppi=new $ppr;$ppi.once("complete",null,function($ppt){$ppe._onload($ppt)}),$ppi.load($ppt,"text")}),$ppD._cuttingStyle=new RegExp("((@keyframes[\\s\\t]+|)(.+))[\\t\\n\\r\\s]*{","g");function $ppD(){this.type=null,$ppD.__super.call(this),this.visible=!1}$ppt($ppI,"laya.html.dom.HTMLStyleElement",$ppo=$ppn),$ppe(0,$ppI.prototype,"text",$ppo.prototype._$get_text,function($ppt){$ppl.parseCSS($ppt,null)});function $ppI(){$ppI.__super.call(this),this.visible=!1}var $ppo;$ppt($ppR,"laya.html.dom.HTMLIframeElement",$pph=$ppa),$ppe(0,$ppR.prototype,"href",$pph.prototype._$get_href,function($ppi){var $ppn=this;$ppi=this.formatURL($ppi);var $ppt=new $ppr;$ppt.once("complete",null,function($ppt){var $ppe=$ppn.URI;$ppn.URI=new $ppv($ppi),$ppn.innerHTML=$ppt,$ppe&&($ppn.URI=$ppe)}),$ppt.load($ppi,"text")});function $ppR(){$ppR.__super.call(this),this._getCSSStyle().valign="middle"}}((window,document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function($ppt,$ppe){"use strict";for(var $ppi in Object.defineProperty($ppe,"__esModule",{value:!0}),Laya){var $ppn=Laya[$ppi];$ppn&&$ppn.__isclass&&($ppe[$ppi]=$ppn)}}),function($ppf){$ppf.un,$ppf.uns;var $ppa=$ppf.static,$ppe=$ppf.class,$ppt=$ppf.getset;$ppf.__newvec;var $ppo=laya.display.Animation,$ppg=(laya.utils.Browser,laya.utils.ClassUtils),$pph=laya.filters.ColorFilter;var $ppl=laya.utils.Ease,$ppc=laya.events.Event,$ppu=(laya.events.EventDispatcher,laya.display.css.Font);var $pp_=laya.display.FrameAnimation,$ppi=laya.display.Graphics,$ppv=laya.utils.Handler;var $ppy=laya.display.Input,$ppp=laya.net.Loader,$ppx=(laya.display.Node,laya.maths.Point),$ppw=laya.maths.Rectangle;var $ppb=laya.renders.Render,$ppT=laya.display.Sprite,$ppS=laya.display.Text,$ppC=laya.resource.Texture;var $ppM=laya.utils.Tween,$ppE=laya.utils.Utils,$ppA=laya.utils.WeakObject;$ppf.interface("laya.ui.IItem"),$ppf.interface("laya.ui.ISelect"),$ppf.interface("laya.ui.IRender"),$ppf.interface("laya.ui.IComponent"),$ppf.interface("laya.ui.IBox","IComponent");$ppe($ppI,"laya.ui.LayoutStyle"),$ppa($ppI,["EMPTY",function(){return this.EMPTY=new $ppI}]);var $ppD=$ppI;function $ppI(){this.enable=!1,this.top=NaN,this.bottom=NaN,this.left=NaN,this.right=NaN,this.centerX=NaN,this.centerY=NaN,this.anchorX=NaN,this.anchorY=NaN}$ppe($ppP,"laya.ui.Styles"),$ppP.labelColor="#000000",$ppP.buttonStateNum=3,$ppP.scrollBarMinNum=15,$ppP.scrollBarDelayTime=500,$ppa($ppP,["defaultSizeGrid",function(){return this.defaultSizeGrid=[4,4,4,4,0]},"labelPadding",function(){return this.labelPadding=[2,2,2,2]},"inputLabelPadding",function(){return this.inputLabelPadding=[1,1,1,3]},"buttonLabelColors",function(){return this.buttonLabelColors=["#32556b","#32cc6b","#ff0000","#C0C0C0"]},"comboBoxItemColors",function(){return this.comboBoxItemColors=["#5e95b6","#ffffff","#000000","#8fa4b1","#ffffff"]}]);var $ppR=$ppP;function $ppP(){}$ppe($ppB,"laya.ui.UIUtils"),$ppB.fillArray=function($ppt,$ppe,$ppi){var $ppn=$ppt.concat();if($ppe){var $ppr=$ppe.split(",");for(var $pps=0,$ppa=Math.min($ppn.length,$ppr.length);$pps<$ppa;$pps++){var $ppo=$ppr[$pps];$ppn[$pps]="true"==$ppo||"false"!=$ppo&&$ppo,null!=$ppi&&($ppn[$pps]=$ppi($ppo))}}return $ppn},$ppB.toColor=function($ppt){return $ppE.toHexColor($ppt)},$ppB.gray=function($ppt,$ppe){($ppe=void 0===$ppe?!0:$ppe)?$ppB.addFilter($ppt,$ppB.grayFilter):$ppB.clearFilter($ppt,$pph)},$ppB.addFilter=function($ppt,$ppe){var $ppi=$ppt.filters||[];$ppi.push($ppe),$ppt.filters=$ppi},$ppB.clearFilter=function($ppt,$ppe){var $ppi=$ppt.filters;if(null!=$ppi&&0<$ppi.length){for(var $ppn=$ppi.length-1;-1<$ppn;$ppn--){var $ppr=$ppi[$ppn];$ppf.__typeof($ppr,$ppe)&&$ppi.splice($ppn,1)}$ppt.filters=$ppi}},$ppB._getReplaceStr=function($ppt){return $ppB.escapeSequence[$ppt]},$ppB.adptString=function($ppt){return $ppt.replace(/\\(\w)/g,$ppB._getReplaceStr)},$ppB.getBindFun=function($ppt){var $ppe=$ppB._funMap.get($ppt);var $ppi;return null==$ppe&&($ppi=($ppi='"'+$ppt+'"').replace(/^"\${|}"$/g,"").replace(/\${/g,'"+').replace(/}/g,'+"'),$ppe=$ppf._runScript("(function(data){if(data==null)return;with(data){try{\nreturn "+$ppi+"\n}catch(e){}}})"),$ppB._funMap.set($ppt,$ppe)),$ppe},$ppa($ppB,["grayFilter",function(){return this.grayFilter=new $pph([.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0])},"escapeSequence",function(){return this.escapeSequence={"\\n":"\n","\\t":"\t"}},"_funMap",function(){return this._funMap=new $ppA}]);var $ppL=$ppB;function $ppB(){}$ppe($ppO,"UIConfig"),$ppO.touchScrollEnable=!0,$ppO.mouseWheelEnable=!0,$ppO.showButtons=!0,$ppO.popupBgColor="#000000",$ppO.popupBgAlpha=.5,$ppO.closeDialogOnSide=!0;var $ppN=$ppO;function $ppO(){}$ppe($ppV,"laya.ui.AutoBitmap",$ppk=$ppi),($ppi=$ppV.prototype).destroy=function(){if($ppp.clearObject(this,this._weakKey),this._weakKeys){for(var $ppt=0,$ppe=this._weakKeys.length;$ppt<$ppe;++$ppt)$ppp.clearObject(this,this._weakKeys[$ppt]);this._weakKeys=null}$ppk.prototype.destroy.call(this),this._source=null,this._sizeGrid=null,this._offset=null},$ppi._setChanged=function(){this._isChanged||(this._isChanged=!0,$ppf.timer.callLater(this,this.changeSource))},$ppi.changeSource=function(){this._isChanged=!1;var $ppt=this._source;if($ppt&&$ppt.bitmap){var $ppe=this.width;var $ppi=this.height;var $ppn=this._sizeGrid;var $ppc=$ppt.sourceWidth;var $ppu=$ppt.sourceHeight;if(!$ppn||$ppc===$ppe&&$ppu===$ppi)this.cleanByTexture($ppt,this._offset?this._offset[0]:0,this._offset?this._offset[1]:0,$ppe,$ppi);else{$ppp.clearObject(this,this._weakKey),$ppt.$_GID||($ppt.$_GID=$ppE.getGID());var $pp_=$ppt.$_GID+"."+$ppe+"."+$ppi+"."+$ppn.join(".");var $ppr=$ppp.findObject($pp_);if($ppE.isOKCmdList($ppr))return this._weakKey=$pp_,$ppp.keepObject(this,this._weakKey),void(this.cmds=$ppr);this.clear();$ppr=$ppn[0];var $pps=$ppn[1];var $ppa=$ppn[2];var $ppo=$ppn[3];$ppn=$ppn[4];var $ppd=!1;var $ppf;var $pph,$ppl;$ppi==$ppu&&($ppr=$ppa=0),$ppe<($ppo=$ppe==$ppc?$pps=0:$ppo)+$pps&&($ppf=$ppe,$ppd=!0,$ppe=$ppo+$pps,this.save(),this.clipRect(0,0,$ppf,$ppi)),$ppo&&$ppr&&($pph=$ppV.getTexture($ppt,0,0,$ppo,$ppr),$ppl=this._weakKeys[0],$pph?($ppl!=$pph.weakKey&&($ppp.clearObject(this,$ppl),$ppp.keepObject(this,$pph.weakKey),this._weakKeys[0]=$pph.weakKey),this.drawTexture($pph,0,0,$ppo,$ppr)):($ppp.clearObject(this,$ppl),this._weakKeys[0]="")),$pps&&$ppr&&($pph=$ppV.getTexture($ppt,$ppc-$pps,0,$pps,$ppr),$ppl=this._weakKeys[1],$pph?($ppl!=$pph.weakKey&&($ppp.clearObject(this,$ppl),$ppp.keepObject(this,$pph.weakKey),this._weakKeys[1]=$pph.weakKey),this.drawTexture($pph,$ppe-$pps,0,$pps,$ppr)):($ppp.clearObject(this,$ppl),this._weakKeys[1]="")),$ppo&&$ppa&&($pph=$ppV.getTexture($ppt,0,$ppu-$ppa,$ppo,$ppa),$ppl=this._weakKeys[2],$pph?($ppl!=$pph.weakKey&&($ppp.clearObject(this,$ppl),$ppp.keepObject(this,$pph.weakKey),this._weakKeys[2]=$pph.weakKey),this.drawTexture($pph,0,$ppi-$ppa,$ppo,$ppa)):($ppp.clearObject(this,$ppl),this._weakKeys[2]="")),$pps&&$ppa&&($pph=$ppV.getTexture($ppt,$ppc-$pps,$ppu-$ppa,$pps,$ppa),$ppl=this._weakKeys[3],$pph?($ppl!=$pph.weakKey&&($ppp.clearObject(this,$ppl),$ppp.keepObject(this,$pph.weakKey),this._weakKeys[3]=$pph.weakKey),this.drawTexture($pph,$ppe-$pps,$ppi-$ppa,$pps,$ppa)):($ppp.clearObject(this,$ppl),this._weakKeys[3]="")),$ppr&&($pph=$ppV.getTexture($ppt,$ppo,0,$ppc-$ppo-$pps,$ppr),$ppl=this._weakKeys[4],$pph?($ppl!=$pph.weakKey&&($ppp.clearObject(this,$ppl),$ppp.keepObject(this,$pph.weakKey),this._weakKeys[4]=$pph.weakKey),this.drawBitmap($ppn,$pph,$ppo,0,$ppe-$ppo-$pps,$ppr)):($ppp.clearObject(this,$ppl),this._weakKeys[4]="")),$ppa&&($pph=$ppV.getTexture($ppt,$ppo,$ppu-$ppa,$ppc-$ppo-$pps,$ppa),$ppl=this._weakKeys[5],$pph?($ppl!=$pph.weakKey&&($ppp.clearObject(this,$ppl),$ppp.keepObject(this,$pph.weakKey),this._weakKeys[5]=$pph.weakKey),this.drawBitmap($ppn,$pph,$ppo,$ppi-$ppa,$ppe-$ppo-$pps,$ppa)):($ppp.clearObject(this,$ppl),this._weakKeys[5]="")),$ppo&&($pph=$ppV.getTexture($ppt,0,$ppr,$ppo,$ppu-$ppr-$ppa),$ppl=this._weakKeys[6],$pph?($ppl!=$pph.weakKey&&($ppp.clearObject(this,$ppl),$ppp.keepObject(this,$pph.weakKey),this._weakKeys[6]=$pph.weakKey),this.drawBitmap($ppn,$pph,0,$ppr,$ppo,$ppi-$ppr-$ppa)):($ppp.clearObject(this,$ppl),this._weakKeys[6]="")),$pps&&($pph=$ppV.getTexture($ppt,$ppc-$pps,$ppr,$pps,$ppu-$ppr-$ppa),$ppl=this._weakKeys[7],$pph?($ppl!=$pph.weakKey&&($ppp.clearObject(this,$ppl),$ppp.keepObject(this,$pph.weakKey),this._weakKeys[7]=$pph.weakKey),this.drawBitmap($ppn,$pph,$ppe-$pps,$ppr,$pps,$ppi-$ppr-$ppa)):($ppp.clearObject(this,$ppl),this._weakKeys[7]="")),$pph=$ppV.getTexture($ppt,$ppo,$ppr,$ppc-$ppo-$pps,$ppu-$ppr-$ppa),$ppl=this._weakKeys[8],$pph?($ppl!=$pph.weakKey&&($ppp.clearObject(this,$ppl),$ppp.keepObject(this,$pph.weakKey),this._weakKeys[8]=$pph.weakKey),this.drawBitmap($ppn,$pph,$ppo,$ppr,$ppe-$ppo-$pps,$ppi-$ppr-$ppa)):($ppp.clearObject(this,$ppl),this._weakKeys[8]=""),$ppd&&this.restore(),this.autoCacheCmd&&!$ppb.isConchApp&&($ppp.saveObject($pp_,this.cmds,null),this._weakKey=$pp_,$ppp.keepObject(this,this._weakKey))}this._repaint()}},$ppi.drawBitmap=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){void 0===$pps&&($pps=0),($ppr=void 0===$ppr?0:$ppr)<.1||$pps<.1||(!$ppt||$ppe.width==$ppr&&$ppe.height==$pps?this.drawTexture($ppe,$ppi,$ppn,$ppr,$pps):this.fillTexture($ppe,$ppi,$ppn,$ppr,$pps))},$ppi.clear=function($ppt){void 0===$ppt&&($ppt=!0),$ppk.prototype.clear.call(this,!1)},$ppt(0,$ppi,"sizeGrid",function(){return this._sizeGrid},function($ppt){this._sizeGrid=$ppt,this._setChanged()}),$ppt(0,$ppi,"width",function(){return this._width||(this._source?this._source.sourceWidth:0)},function($ppt){this._width!=$ppt&&(this._width=$ppt,this._setChanged())}),$ppt(0,$ppi,"height",function(){return this._height||(this._source?this._source.sourceHeight:0)},function($ppt){this._height!=$ppt&&(this._height=$ppt,this._setChanged())}),$ppt(0,$ppi,"source",function(){return this._source},function($ppt){$ppt?(this._source=$ppt,this._setChanged()):(this._source=null,this.clear())}),$ppV.getTexture=function($ppt,$ppe,$ppi,$ppn,$ppr){$ppn<=0&&($ppn=1),$ppr<=0&&($ppr=1),$ppt.$_GID||($ppt.$_GID=$ppE.getGID());var $pps=$ppt.$_GID+"."+$ppe+"."+$ppi+"."+$ppn+"."+$ppr;var $ppa=$ppp.findObject($pps);return $ppa&&$ppa.source||($ppa=$ppC.createFromTexture($ppt,$ppe,$ppi,$ppn,$ppr))&&($ppp.saveObject($pps,$ppa),$ppa.weakKey=$pps),$ppa};var $ppF=$ppV;function $ppV(){this.autoCacheCmd=!0,this._width=0,this._height=0,this._source=null,this._sizeGrid=null,this._isChanged=!1,this._offset=null,$ppV.__super.call(this),this._weakKeys=[]}var $ppk;$ppe($ppU,"laya.ui.UIEvent",$ppc),$ppU.SHOW_TIP="showtip",$ppU.HIDE_TIP="hidetip";function $ppU(){$ppU.__super.call(this)}$ppe($ppH,"laya.ui.Component",$ppz=$ppT),$ppi=$ppH.prototype,$ppf.imps($ppi,{"laya.ui.IComponent":!0}),$ppi.destroy=function($ppt){$ppz.prototype.destroy.call(this,$ppt=void 0===$ppt?!0:$ppt),this._dataSource=this._layout=null,this._tag=null,this._toolTip=null},$ppi.preinitialize=function(){},$ppi.createChildren=function(){},$ppi.initialize=function(){},$ppi.callLater=function($ppt,$ppe){$ppf.timer.callLater(this,$ppt,$ppe)},$ppi.runCallLater=function($ppt){$ppf.timer.runCallLater(this,$ppt)},$ppi.commitMeasure=function(){},$ppi.changeSize=function(){this.event("resize")},$ppi.getLayout=function(){return this._layout===$ppD.EMPTY&&(this._layout=new $ppD),this._layout},$ppi._setLayoutEnabled=function($ppt){this._layout&&this._layout.enable!=$ppt&&(this._layout.enable=$ppt,this.on("added",this,this.onAdded),this.on("removed",this,this.onRemoved),this.parent&&this.onAdded())},$ppi.onRemoved=function(){this.parent.off("resize",this,this.onCompResize)},$ppi.onAdded=function(){this.parent.on("resize",this,this.onCompResize),this.resetLayoutX(),this.resetLayoutY()},$ppi.onCompResize=function(){this._layout&&this._layout.enable&&(this.resetLayoutX(),this.resetLayoutY())},$ppi.resetLayoutX=function(){var $ppt=this._layout;var $ppe;isNaN($ppt.anchorX)||(this.pivotX=$ppt.anchorX*this.width),!this.layoutEnabled||($ppe=this.parent)&&(isNaN($ppt.centerX)?isNaN($ppt.left)?isNaN($ppt.right)||(this.x=Math.round($ppe.width-this.displayWidth-$ppt.right+this.pivotX*this.scaleX)):(this.x=Math.round($ppt.left+this.pivotX*this.scaleX),isNaN($ppt.right)||(this.width=($ppe._width-$ppt.left-$ppt.right)/(this.scaleX||.01))):this.x=Math.round(.5*($ppe.width-this.displayWidth)+$ppt.centerX+this.pivotX*this.scaleX))},$ppi.resetLayoutY=function(){var $ppt=this._layout;var $ppe;isNaN($ppt.anchorY)||(this.pivotY=$ppt.anchorY*this.height),!this.layoutEnabled||($ppe=this.parent)&&(isNaN($ppt.centerY)?isNaN($ppt.top)?isNaN($ppt.bottom)||(this.y=Math.round($ppe.height-this.displayHeight-$ppt.bottom+this.pivotY*this.scaleY)):(this.y=Math.round($ppt.top+this.pivotY*this.scaleY),isNaN($ppt.bottom)||(this.height=($ppe._height-$ppt.top-$ppt.bottom)/(this.scaleY||.01))):this.y=Math.round(.5*($ppe.height-this.displayHeight)+$ppt.centerY+this.pivotY*this.scaleY))},$ppi.onMouseOver=function($ppt){$ppf.stage.event("showtip",this._toolTip)},$ppi.onMouseOut=function($ppt){$ppf.stage.event("hidetip",this._toolTip)},$ppt(0,$ppi,"displayWidth",function(){return this.width*this.scaleX}),$ppt(0,$ppi,"width",function(){return this._width||this.measureWidth},function($ppt){this._width!=$ppt&&(this._width=$ppt,this.conchModel&&this.conchModel.size(this._width,this._height),this.callLater(this.changeSize),!this._layout.enable||isNaN(this._layout.centerX)&&isNaN(this._layout.right)&&isNaN(this._layout.anchorX)||this.resetLayoutX())}),$ppt(0,$ppi,"measureWidth",function(){var $ppt=0;this.commitMeasure();for(var $ppe=this.numChildren-1;-1<$ppe;$ppe--){var $ppi=this.getChildAt($ppe);$ppi.visible&&($ppt=Math.max($ppi.x+$ppi.width*$ppi.scaleX,$ppt))}return $ppt}),$ppt(0,$ppi,"displayHeight",function(){return this.height*this.scaleY}),$ppt(0,$ppi,"height",function(){return this._height||this.measureHeight},function($ppt){this._height!=$ppt&&(this._height=$ppt,this.conchModel&&this.conchModel.size(this._width,this._height),this.callLater(this.changeSize),!this._layout.enable||isNaN(this._layout.centerY)&&isNaN(this._layout.bottom)&&isNaN(this._layout.anchorY)||this.resetLayoutY())}),$ppt(0,$ppi,"dataSource",function(){return this._dataSource},function($ppt){for(var $ppe in this._dataSource=$ppt,this._dataSource)this.hasOwnProperty($ppe)&&"function"!=typeof this[$ppe]&&(this[$ppe]=this._dataSource[$ppe])}),$ppt(0,$ppi,"scaleY",$ppz.prototype._$get_scaleY,function($ppt){$ppf.superGet($ppT,this,"scaleY")!=$ppt&&($ppf.superSet($ppT,this,"scaleY",$ppt),this.callLater(this.changeSize),this._layout.enable&&this.resetLayoutY())}),$ppt(0,$ppi,"measureHeight",function(){var $ppt=0;this.commitMeasure();for(var $ppe=this.numChildren-1;-1<$ppe;$ppe--){var $ppi=this.getChildAt($ppe);$ppi.visible&&($ppt=Math.max($ppi.y+$ppi.height*$ppi.scaleY,$ppt))}return $ppt}),$ppt(0,$ppi,"scaleX",$ppz.prototype._$get_scaleX,function($ppt){$ppf.superGet($ppT,this,"scaleX")!=$ppt&&($ppf.superSet($ppT,this,"scaleX",$ppt),this.callLater(this.changeSize),this._layout.enable&&this.resetLayoutX())}),$ppt(0,$ppi,"top",function(){return this._layout.top},function($ppt){$ppt!=this._layout.top&&(this.getLayout().top=$ppt,this._setLayoutEnabled(!0)),this.resetLayoutY()}),$ppt(0,$ppi,"bottom",function(){return this._layout.bottom},function($ppt){$ppt!=this._layout.bottom&&(this.getLayout().bottom=$ppt,this._setLayoutEnabled(!0)),this.resetLayoutY()}),$ppt(0,$ppi,"left",function(){return this._layout.left},function($ppt){$ppt!=this._layout.left&&(this.getLayout().left=$ppt,this._setLayoutEnabled(!0)),this.resetLayoutX()}),$ppt(0,$ppi,"right",function(){return this._layout.right},function($ppt){$ppt!=this._layout.right&&(this.getLayout().right=$ppt,this._setLayoutEnabled(!0)),this.resetLayoutX()}),$ppt(0,$ppi,"centerX",function(){return this._layout.centerX},function($ppt){$ppt!=this._layout.centerX&&(this.getLayout().centerX=$ppt,this._setLayoutEnabled(!0)),this.resetLayoutX()}),$ppt(0,$ppi,"centerY",function(){return this._layout.centerY},function($ppt){$ppt!=this._layout.centerY&&(this.getLayout().centerY=$ppt,this._setLayoutEnabled(!0)),this.resetLayoutY()}),$ppt(0,$ppi,"anchorX",function(){return this._layout.anchorX},function($ppt){$ppt!=this._layout.anchorX&&(this.getLayout().anchorX=$ppt,this._setLayoutEnabled(!0)),this.resetLayoutX()}),$ppt(0,$ppi,"anchorY",function(){return this._layout.anchorY},function($ppt){$ppt!=this._layout.anchorY&&(this.getLayout().anchorY=$ppt,this._setLayoutEnabled(!0)),this.resetLayoutY()}),$ppt(0,$ppi,"tag",function(){return this._tag},function($ppt){this._tag=$ppt}),$ppt(0,$ppi,"toolTip",function(){return this._toolTip},function($ppt){this._toolTip!=$ppt&&(null!=(this._toolTip=$ppt)?(this.on("mouseover",this,this.onMouseOver),this.on("mouseout",this,this.onMouseOut)):(this.off("mouseover",this,this.onMouseOver),this.off("mouseout",this,this.onMouseOut)))}),$ppt(0,$ppi,"comXml",function(){return this._comXml},function($ppt){this._comXml=$ppt}),$ppt(0,$ppi,"gray",function(){return this._gray},function($ppt){$ppt!==this._gray&&(this._gray=$ppt,$ppL.gray(this,$ppt))}),$ppt(0,$ppi,"disabled",function(){return this._disabled},function($ppt){$ppt!==this._disabled&&(this.gray=this._disabled=$ppt,this.mouseEnabled=!$ppt)});var $ppn=$ppH;function $ppH(){this._comXml=null,this._dataSource=null,this._toolTip=null,this._tag=null,this._disabled=!1,this._gray=!1,this.layoutEnabled=!0,$ppH.__super.call(this),this._layout=$ppD.EMPTY,this.preinitialize(),this.createChildren(),this.initialize()}var $ppz;$ppe($ppG,"laya.ui.DialogManager",$ppT),($ppi=$ppG.prototype)._closeOnSide=function(){var $ppt=this.getChildAt(this.numChildren-1);$ppt instanceof laya.ui.Dialog&&$ppt.close("side")},$ppi.setLockView=function($ppt){this.lockLayer||(this.lockLayer=new $ppd,this.lockLayer.mouseEnabled=!0,this.lockLayer.size($ppf.stage.width,$ppf.stage.height)),this.lockLayer.removeChildren(),$ppt&&($ppt.centerX=$ppt.centerY=0,this.lockLayer.addChild($ppt))},$ppi._onResize=function($ppt){var $ppe=this.maskLayer.width=$ppf.stage.width;var $ppi=this.maskLayer.height=$ppf.stage.height;this.lockLayer&&this.lockLayer.size($ppe,$ppi),this.maskLayer.graphics.clear(),this.maskLayer.graphics.drawRect(0,0,$ppe,$ppi,$ppN.popupBgColor),this.maskLayer.alpha=$ppN.popupBgAlpha;for(var $ppn=this.numChildren-1;-1<$ppn;$ppn--){var $ppr=this.getChildAt($ppn);$ppr.popupCenter&&this._centerDialog($ppr)}},$ppi._centerDialog=function($ppt){$ppt.x=Math.round(($ppf.stage.width-$ppt.width>>1)+$ppt.pivotX),$ppt.y=Math.round(($ppf.stage.height-$ppt.height>>1)+$ppt.pivotY)},$ppi.open=function($ppt,$ppe,$ppi){void 0===$ppi&&($ppi=!1),($ppe=void 0===$ppe?!1:$ppe)&&this._closeAll(),$ppt.popupCenter&&this._centerDialog($ppt),this.addChild($ppt),($ppt.isModal||this._$P.hasZorder)&&this.timer.callLater(this,this._checkMask),$ppi&&null!=$ppt.popupEffect?$ppt.popupEffect.runWith($ppt):this.doOpen($ppt),this.event("open")},$ppi.doOpen=function($ppt){$ppt.onOpened()},$ppi.lock=function($ppt){this.lockLayer&&($ppt?this.addChild(this.lockLayer):this.lockLayer.removeSelf())},$ppi.close=function($ppt,$ppe,$ppi){($ppi=void 0===$ppi?!1:$ppi)&&null!=$ppt.closeEffect?$ppt.closeEffect.runWith([$ppt,$ppe]):this.doClose($ppt,$ppe),this.event("close")},$ppi.doClose=function($ppt,$ppe){$ppt.removeSelf(),$ppt.isModal&&this._checkMask(),$ppt.closeHandler&&$ppt.closeHandler.runWith($ppe),$ppt.onClosed($ppe)},$ppi.closeAll=function(){this._closeAll(),this.event("close")},$ppi._closeAll=function(){for(var $ppt=this.numChildren-1;-1<$ppt;$ppt--){var $ppe=this.getChildAt($ppt);$ppe&&null!=$ppe.close&&this.doClose($ppe)}},$ppi.getDialogsByGroup=function($ppt){var $ppe=[];for(var $ppi=this.numChildren-1;-1<$ppi;$ppi--){var $ppn=this.getChildAt($ppi);$ppn&&$ppn.group===$ppt&&$ppe.push($ppn)}return $ppe},$ppi.closeByGroup=function($ppt){var $ppe=[];for(var $ppi=this.numChildren-1;-1<$ppi;$ppi--){var $ppn=this.getChildAt($ppi);$ppn&&$ppn.group===$ppt&&($ppn.close(),$ppe.push($ppn))}return $ppe},$ppi._checkMask=function(){this.maskLayer.removeSelf();for(var $ppt=this.numChildren-1;-1<$ppt;$ppt--){var $ppe=this.getChildAt($ppt);if($ppe&&$ppe.isModal)return void this.addChildAt(this.maskLayer,$ppt)}};var $ppW=$ppG;function $ppG(){this.lockLayer=null,this.popupEffect=function($ppt){$ppt.scale(1,1),$ppM.from($ppt,{x:$ppf.stage.width/2,y:$ppf.stage.height/2,scaleX:0,scaleY:0},300,$ppl.backOut,$ppv.create(this,this.doOpen,[$ppt]))},this.closeEffect=function($ppt,$ppe){$ppM.to($ppt,{x:$ppf.stage.width/2,y:$ppf.stage.height/2,scaleX:0,scaleY:0},300,$ppl.strongOut,$ppv.create(this,this.doClose,[$ppt,$ppe]))},$ppG.__super.call(this),this.maskLayer=new $ppT,this.popupEffectHandler=$ppv.create(this,this.popupEffect,null,!1),this.closeEffectHandler=$ppv.create(this,this.closeEffect,null,!1),this.mouseEnabled=this.maskLayer.mouseEnabled=!0,this.zOrder=1e3,$ppf.stage.addChild(this),$ppf.stage.on("resize",this,this._onResize),$ppN.closeDialogOnSide&&this.maskLayer.on("click",this,this._closeOnSide),this._onResize(null)}$ppe($ppY,"laya.ui.Box",$ppi=$ppn),$pps=$ppY.prototype,$ppf.imps($pps,{"laya.ui.IBox":!0}),$ppt(0,$pps,"dataSource",$ppi.prototype._$get_dataSource,function($ppt){for(var $ppe in this._dataSource=$ppt){var $ppi=this.getChildByName($ppe);$ppi?$ppi.dataSource=$ppt[$ppe]:this.hasOwnProperty($ppe)&&"function"!=typeof this[$ppe]&&(this[$ppe]=$ppt[$ppe])}});var $ppd=$ppY;function $ppY(){$ppY.__super.call(this)}$ppe($ppj,"laya.ui.Button",$ppK=$ppn),$pps=$ppj.prototype,$ppf.imps($pps,{"laya.ui.ISelect":!0}),$pps.destroy=function($ppt){$ppp.clearCache(this,this._skin),$ppp.clearObject(this,this._weakKey),$ppK.prototype.destroy.call(this,$ppt=void 0===$ppt?!0:$ppt),this._bitmap&&this._bitmap.destroy(),this._text&&this._text.destroy($ppt),this._bitmap=null,this._text=null,this._clickHandler=null,this._labelColors=this._sources=this._strokeColors=null},$pps.createChildren=function(){this.graphics=this._bitmap=new $ppF},$pps.createText=function(){this._text||(this._text=new $ppS,this._text.overflow=$ppS.HIDDEN,this._text.align="center",this._text.valign="middle",this._text.width=this._width,this._text.height=this._height)},$pps.initialize=function(){1!==this._mouseEnableState&&(this.mouseEnabled=!0,this._setBit(2,!0)),this._createListener("mouseover",this,this.onMouse,null,!1,!1),this._createListener("mouseout",this,this.onMouse,null,!1,!1),this._createListener("mousedown",this,this.onMouse,null,!1,!1),this._createListener("mouseup",this,this.onMouse,null,!1,!1),this._createListener("click",this,this.onMouse,null,!1,!1)},$pps.onMouse=function($ppt){if(!1!==this.toggle||!this._selected)return"click"===$ppt.type?(this.toggle&&(this.selected=!this._selected),void(this._clickHandler&&this._clickHandler.run())):void(this._selected||(this.state=$ppj.stateMap[$ppt.type]))},$pps.changeClips=function(){var $ppt=$ppp.getRes(this._skin);if($ppt){$ppp.clearObject(this,this._weakKey);var $ppe=$ppt.sourceWidth;var $ppi=$ppt.sourceHeight/this._stateNum;$ppt.$_GID||($ppt.$_GID=$ppE.getGID());var $ppn=$ppt.$_GID+"-"+this._stateNum;var $ppr=$ppp.findObject($ppn);if($ppr=$ppE.isOkTextureList($ppr)?$ppr:null)this._weakKey=$ppn,$ppp.keepObject(this,this._weakKey),this._sources=$ppr;else{if(this._sources=[],1===this._stateNum)this._sources.push($ppt);else for(var $pps=0;$pps<this._stateNum;$pps++){var $ppa=$ppC.createFromTexture($ppt,0,$ppi*$pps,$ppe,$ppi);this._sources.push($ppa)}$ppp.saveObject($ppn,this._sources),this._weakKey=$ppn,$ppp.keepObject(this,this._weakKey)}this._autoSize?(this._bitmap.width=this._width||$ppe,this._bitmap.height=this._height||$ppi,this._text&&(this._text.width=this._bitmap.width,this._text.height=this._bitmap.height)):this._text&&(this._text.x=$ppe)}else console.log("lose skin",this._skin)},$pps.changeState=function(){this._stateChanged=!1,this.runCallLater(this.changeClips);var $ppt=this._state<this._stateNum?this._state:this._stateNum-1;this._sources&&(this._bitmap.source=this._sources[$ppt]),this.label&&(this._text.color=this._labelColors[$ppt],this._strokeColors&&(this._text.strokeColor=this._strokeColors[$ppt]))},$pps._setStateChanged=function(){this._stateChanged||(this._stateChanged=!0,this.callLater(this.changeState))},$ppt(0,$pps,"labelStrokeColor",function(){return this.createText(),this._text.strokeColor},function($ppt){this.createText(),this._text.strokeColor=$ppt}),$ppt(0,$pps,"measureHeight",function(){return this.runCallLater(this.changeClips),this._text?Math.max(this._bitmap.height,this._text.height):this._bitmap.height}),$ppt(0,$pps,"skin",function(){return this._skin},function($ppt){this._skin!=$ppt&&($ppp.clearCache(this,this._skin),this._skin=$ppt,$ppp.keepCache(this,this._skin),this.callLater(this.changeClips),this._setStateChanged())}),$ppt(0,$pps,"state",function(){return this._state},function($ppt){this._state!=$ppt&&(this._state=$ppt,this._setStateChanged())}),$ppt(0,$pps,"text",function(){return this.createText(),this._text}),$ppt(0,$pps,"stateNum",function(){return this._stateNum},function($ppt){"string"==typeof $ppt&&($ppt=parseInt($ppt)),this._stateNum!=$ppt&&(this._stateNum=$ppt<1?1:3<$ppt?3:$ppt,this.callLater(this.changeClips))}),$ppt(0,$pps,"strokeColors",function(){return this._strokeColors?this._strokeColors.join(","):""},function($ppt){this._strokeColors=$ppL.fillArray($ppR.buttonLabelColors,$ppt,String),this._setStateChanged()}),$ppt(0,$pps,"labelColors",function(){return this._labelColors.join(",")},function($ppt){this._labelColors=$ppL.fillArray($ppR.buttonLabelColors,$ppt,String),this._setStateChanged()}),$ppt(0,$pps,"measureWidth",function(){return this.runCallLater(this.changeClips),this._autoSize?this._bitmap.width:(this.runCallLater(this.changeState),this._bitmap.width+(this._text?this._text.width:0))}),$ppt(0,$pps,"label",function(){return this._text?this._text.text:null},function($ppt){(this._text||$ppt)&&(this.createText(),this._text.text!=$ppt&&($ppt&&!this._text.parent&&this.addChild(this._text),this._text.text=($ppt+"").replace(/\\n/g,"\n"),this._setStateChanged()))}),$ppt(0,$pps,"selected",function(){return this._selected},function($ppt){this._selected!=$ppt&&(this._selected=$ppt,this.state=this._selected?2:0,this.event("change"))}),$ppt(0,$pps,"labelPadding",function(){return this.createText(),this._text.padding.join(",")},function($ppt){this.createText(),this._text.padding=$ppL.fillArray($ppR.labelPadding,$ppt,Number)}),$ppt(0,$pps,"labelSize",function(){return this.createText(),this._text.fontSize},function($ppt){this.createText(),this._text.fontSize=$ppt}),$ppt(0,$pps,"labelStroke",function(){return this.createText(),this._text.stroke},function($ppt){this.createText(),this._text.stroke=$ppt}),$ppt(0,$pps,"labelBold",function(){return this.createText(),this._text.bold},function($ppt){this.createText(),this._text.bold=$ppt}),$ppt(0,$pps,"labelFont",function(){return this.createText(),this._text.font},function($ppt){this.createText(),this._text.font=$ppt}),$ppt(0,$pps,"labelAlign",function(){return this.createText(),this._text.align},function($ppt){this.createText(),this._text.align=$ppt}),$ppt(0,$pps,"clickHandler",function(){return this._clickHandler},function($ppt){this._clickHandler=$ppt}),$ppt(0,$pps,"sizeGrid",function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null},function($ppt){this._bitmap.sizeGrid=$ppL.fillArray($ppR.defaultSizeGrid,$ppt,Number)}),$ppt(0,$pps,"width",$ppK.prototype._$get_width,function($ppt){$ppf.superSet($ppn,this,"width",$ppt),this._autoSize&&(this._bitmap.width=$ppt,this._text&&(this._text.width=$ppt))}),$ppt(0,$pps,"height",$ppK.prototype._$get_height,function($ppt){$ppf.superSet($ppn,this,"height",$ppt),this._autoSize&&(this._bitmap.height=$ppt,this._text&&(this._text.height=$ppt))}),$ppt(0,$pps,"dataSource",$ppK.prototype._$get_dataSource,function($ppt){"number"==typeof(this._dataSource=$ppt)||"string"==typeof $ppt?this.label=$ppt+"":$ppf.superSet($ppn,this,"dataSource",$ppt)}),$ppt(0,$pps,"iconOffset",function(){return this._bitmap._offset?this._bitmap._offset.join(","):null},function($ppt){this._bitmap._offset=$ppt?$ppL.fillArray([1,1],$ppt,Number):[]}),$ppa($ppj,["stateMap",function(){return this.stateMap={mouseup:0,mouseover:1,mousedown:2,mouseout:0}}]);var $ppX=$ppj;function $ppj($ppt,$ppe){this.toggle=!1,this._bitmap=null,this._text=null,this._strokeColors=null,this._state=0,this._selected=!1,this._skin=null,this._autoSize=!0,this._sources=null,this._clickHandler=null,this._stateChanged=!1,$ppj.__super.call(this),this._labelColors=$ppR.buttonLabelColors,this._stateNum=$ppR.buttonStateNum,void 0===$ppe&&($ppe=""),this.skin=$ppt,this.label=$ppe}var $ppK;$ppe($pp$,"laya.ui.Clip",$ppZ=$ppn),($ppi=$pp$.prototype).destroy=function($ppt){$ppp.clearCache(this,this._skin),$ppp.clearObject(this,this._weakKey),void 0===$ppt&&($ppt=!0),$ppZ.prototype.destroy.call(this,!0),this._bitmap&&this._bitmap.destroy(),this._bitmap=null,this._sources=null},$ppi.dispose=function(){this.destroy(!0),$ppf.loader.clearRes(this._skin)},$ppi.createChildren=function(){this.graphics=this._bitmap=new $ppF},$ppi._onDisplay=function($ppt){this._isPlaying?this._displayedInStage?this.play():this.stop():this._autoPlay&&this.play()},$ppi.changeClip=function(){var $ppt;this._clipChanged=!1,this._skin&&(($ppt=$ppp.getRes(this._skin))?this.loadComplete(this._skin,$ppt):$ppf.loader.load(this._skin,$ppv.create(this,this.loadComplete,[this._skin])))},$ppi.loadComplete=function($ppt,$ppe){if($ppt===this._skin&&$ppe){$ppp.clearObject(this,this._weakKey);var $ppi=this._clipWidth||Math.ceil($ppe.sourceWidth/this._clipX);var $ppn=this._clipHeight||Math.ceil($ppe.sourceHeight/this._clipY);$ppt=this._skin+$ppi+$ppn;var $ppr=$ppp.findObject($ppt);if($ppr=$ppE.isOkTextureList($ppr)?$ppr:null)this._weakKey=$ppt,$ppp.keepObject(this,this._weakKey),this._sources=$ppr;else{this._sources=[];for(var $pps=0;$pps<this._clipY;$pps++)for(var $ppa=0;$ppa<this._clipX;$ppa++){var $ppo=$ppC.createFromTexture($ppe,$ppi*$ppa,$ppn*$pps,$ppi,$ppn);this._sources.push($ppo)}$ppp.saveObject($ppt,this._sources),this._weakKey=$ppt,$ppp.keepObject(this,this._weakKey)}this.index=this._index,this.event("loaded"),this.onCompResize()}},$ppi.play=function($ppt,$ppe){void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=-1),this._isPlaying=!0,this.index=$ppt,this._toIndex=$ppe,this._index++,$ppf.timer.loop(this.interval,this,this._loop),this.on("display",this,this._onDisplay),this.on("undisplay",this,this._onDisplay)},$ppi._loop=function(){this._style.visible&&this._sources&&(this._index++,-1<this._toIndex&&this._index>=this._toIndex?this.stop():this._index>=this._sources.length&&(this._index=0),this.index=this._index)},$ppi.stop=function(){this._isPlaying=!1,$ppf.timer.clear(this,this._loop),this.event("complete")},$ppi._setClipChanged=function(){this._clipChanged||(this._clipChanged=!0,this.callLater(this.changeClip))},$ppt(0,$ppi,"interval",function(){return this._interval},function($ppt){this._interval!=$ppt&&(this._interval=$ppt,this._isPlaying&&this.play())}),$ppt(0,$ppi,"skin",function(){return this._skin},function($ppt){this._skin!=$ppt&&($ppp.clearCache(this,this._skin),(this._skin=$ppt)?($ppp.keepCache(this,this._skin),this._setClipChanged()):this._bitmap.source=null)}),$ppt(0,$ppi,"sources",function(){return this._sources},function($ppt){this._sources=$ppt,this.index=this._index,this.event("loaded")}),$ppt(0,$ppi,"clipX",function(){return this._clipX},function($ppt){this._clipX=$ppt||1,this._setClipChanged()}),$ppt(0,$ppi,"clipY",function(){return this._clipY},function($ppt){this._clipY=$ppt||1,this._setClipChanged()}),$ppt(0,$ppi,"total",function(){return this.runCallLater(this.changeClip),this._sources?this._sources.length:0}),$ppt(0,$ppi,"clipWidth",function(){return this._clipWidth},function($ppt){this._clipWidth=$ppt,this._setClipChanged()}),$ppt(0,$ppi,"sizeGrid",function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null},function($ppt){this._bitmap.sizeGrid=$ppL.fillArray($ppR.defaultSizeGrid,$ppt,Number)}),$ppt(0,$ppi,"group",function(){return this._group},function($ppt){$ppt&&this._skin&&$ppp.setGroup(this._skin,$ppt),this._group=$ppt}),$ppt(0,$ppi,"clipHeight",function(){return this._clipHeight},function($ppt){this._clipHeight=$ppt,this._setClipChanged()}),$ppt(0,$ppi,"width",$ppZ.prototype._$get_width,function($ppt){$ppf.superSet($ppn,this,"width",$ppt),this._bitmap.width=$ppt}),$ppt(0,$ppi,"height",$ppZ.prototype._$get_height,function($ppt){$ppf.superSet($ppn,this,"height",$ppt),this._bitmap.height=$ppt}),$ppt(0,$ppi,"measureWidth",function(){return this.runCallLater(this.changeClip),this._bitmap.width}),$ppt(0,$ppi,"measureHeight",function(){return this.runCallLater(this.changeClip),this._bitmap.height}),$ppt(0,$ppi,"index",function(){return this._index},function($ppt){this._index=$ppt,this._bitmap&&this._sources&&(this._bitmap.source=this._sources[$ppt]),this.event("change")}),$ppt(0,$ppi,"autoPlay",function(){return this._autoPlay},function($ppt){this._autoPlay!=$ppt&&((this._autoPlay=$ppt)?this.play():this.stop())}),$ppt(0,$ppi,"isPlaying",function(){return this._isPlaying},function($ppt){this._isPlaying=$ppt}),$ppt(0,$ppi,"dataSource",$ppZ.prototype._$get_dataSource,function($ppt){"number"==typeof(this._dataSource=$ppt)&&Math.floor($ppt)==$ppt||"string"==typeof $ppt?this.index=parseInt($ppt):$ppf.superSet($ppn,this,"dataSource",$ppt)}),$ppt(0,$ppi,"bitmap",function(){return this._bitmap});var $ppq=$pp$;function $pp$($ppt,$ppe,$ppi){this._sources=null,this._bitmap=null,this._skin=null,this._clipX=1,this._clipY=1,this._clipWidth=0,this._clipHeight=0,this._autoPlay=!1,this._interval=50,this._complete=null,this._isPlaying=!1,this._index=0,this._clipChanged=!1,this._group=null,this._toIndex=-1,$pp$.__super.call(this),void 0===$ppi&&($ppi=1),this._clipX=$ppe=void 0===$ppe?1:$ppe,this._clipY=$ppi,this.skin=$ppt}var $ppZ;$ppe($ppJ,"laya.ui.ColorPicker",$pptt=$ppn),($pps=$ppJ.prototype).destroy=function($ppt){$pptt.prototype.destroy.call(this,$ppt=void 0===$ppt?!0:$ppt),this._colorPanel&&this._colorPanel.destroy($ppt),this._colorButton&&this._colorButton.destroy($ppt),this._colorPanel=null,this._colorTiles=null,this._colorBlock=null,this._colorInput=null,this._colorButton=null,this._colors=null,this.changeHandler=null},$pps.createChildren=function(){this.addChild(this._colorButton=new $ppX),this._colorPanel=new $ppd,this._colorPanel.size(230,166),this._colorPanel.addChild(this._colorTiles=new $ppT),this._colorPanel.addChild(this._colorBlock=new $ppT),this._colorPanel.addChild(this._colorInput=new $ppy)},$pps.initialize=function(){this._colorButton.on("click",this,this.onColorButtonClick),this._colorBlock.pos(5,5),this._colorInput.pos(60,5),this._colorInput.size(60,20),this._colorInput.on("change",this,this.onColorInputChange),this._colorInput.on("keydown",this,this.onColorFieldKeyDown),this._colorTiles.pos(5,30),this._colorTiles.on("mousemove",this,this.onColorTilesMouseMove),this._colorTiles.on("click",this,this.onColorTilesClick),this._colorTiles.size(20*this._gridSize,12*this._gridSize),this._colorPanel.on("mousedown",this,this.onPanelMouseDown),this.bgColor=this._bgColor},$pps.onPanelMouseDown=function($ppt){$ppt.stopPropagation()},$pps.changePanel=function(){this._panelChanged=!1;var $ppt=this._colorPanel.graphics;$ppt.clear(),$ppt.drawRect(0,0,230,166,this._bgColor,this._borderColor),this.drawBlock(this._selectedColor),this._colorInput.borderColor=this._borderColor,this._colorInput.bgColor=this._inputBgColor,this._colorInput.color=this._inputColor,($ppt=this._colorTiles.graphics).clear();var $ppe=[0,3355443,6710886,10066329,13421772,16777215,16711680,65280,255,16776960,65535,16711935];for(var $ppi=0;$ppi<12;$ppi++)for(var $ppn=0;$ppn<20;$ppn++){var $ppr=$ppL.toColor(0===$ppn?$ppe[$ppi]:1===$ppn?0:51*(((3*$ppi+$ppn/6)%3<<0)+3*($ppi/6<<0))<<16|$ppn%6*51<<8|($ppi<<0)%6*51);this._colors.push($ppr);var $pps=$ppn*this._gridSize;var $ppa=$ppi*this._gridSize;$ppt.drawRect($pps,$ppa,this._gridSize,this._gridSize,$ppr,"#000000")}},$pps.onColorButtonClick=function($ppt){this._colorPanel.parent?this.close():this.open()},$pps.open=function(){var $ppt=this.localToGlobal(new $ppx);var $ppe=$ppt.x+this._colorPanel.width<=$ppf.stage.width?$ppt.x:$ppf.stage.width-this._colorPanel.width;var $ppi=$ppt.y+this._colorButton.height;$ppi=$ppi+this._colorPanel.height<=$ppf.stage.height?$ppi:$ppt.y-this._colorPanel.height,this._colorPanel.pos($ppe,$ppi),this._colorPanel.zOrder=1001,$ppf._currentStage.addChild(this._colorPanel),$ppf.stage.on("mousedown",this,this.removeColorBox)},$pps.close=function(){$ppf.stage.off("mousedown",this,this.removeColorBox),this._colorPanel.removeSelf()},$pps.removeColorBox=function($ppt){this.close()},$pps.onColorFieldKeyDown=function($ppt){13==$ppt.keyCode&&(this._colorInput.text?this.selectedColor=this._colorInput.text:this.selectedColor=null,this.close(),$ppt.stopPropagation())},$pps.onColorInputChange=function($ppt){this._colorInput.text?this.drawBlock(this._colorInput.text):this.drawBlock("#FFFFFF")},$pps.onColorTilesClick=function($ppt){this.selectedColor=this.getColorByMouse(),this.close()},$pps.onColorTilesMouseMove=function($ppt){this._colorInput.focus=!1;var $ppe=this.getColorByMouse();this._colorInput.text=$ppe,this.drawBlock($ppe)},$pps.getColorByMouse=function(){var $ppt=this._colorTiles.getMousePoint();var $ppe=Math.floor($ppt.x/this._gridSize);$ppt=Math.floor($ppt.y/this._gridSize);return this._colors[20*$ppt+$ppe]},$pps.drawBlock=function($ppt){var $ppe=this._colorBlock.graphics;$ppe.clear(),$ppe.drawRect(0,0,50,20,$ppt||"#ffffff",this._borderColor),$ppt||$ppe.drawLine(0,0,50,20,"#ff0000")},$pps.changeColor=function(){var $ppt=this.graphics;$ppt.clear();var $ppe=this._selectedColor||"#000000";$ppt.drawRect(0,0,this._colorButton.width,this._colorButton.height,$ppe)},$pps._setPanelChanged=function(){this._panelChanged||(this._panelChanged=!0,this.callLater(this.changePanel))},$ppt(0,$pps,"inputBgColor",function(){return this._inputBgColor},function($ppt){this._inputBgColor=$ppt,this._setPanelChanged()}),$ppt(0,$pps,"selectedColor",function(){return this._selectedColor},function($ppt){this._selectedColor!=$ppt&&(this._selectedColor=this._colorInput.text=$ppt,this.drawBlock($ppt),this.changeColor(),this.changeHandler&&this.changeHandler.runWith(this._selectedColor),this.event("change",$ppc.EMPTY.setTo("change",this,this)))}),$ppt(0,$pps,"skin",function(){return this._colorButton.skin},function($ppt){this._colorButton.skin=$ppt,this.changeColor()}),$ppt(0,$pps,"bgColor",function(){return this._bgColor},function($ppt){this._bgColor=$ppt,this._setPanelChanged()}),$ppt(0,$pps,"borderColor",function(){return this._borderColor},function($ppt){this._borderColor=$ppt,this._setPanelChanged()}),$ppt(0,$pps,"inputColor",function(){return this._inputColor},function($ppt){this._inputColor=$ppt,this._setPanelChanged()});var $ppQ=$ppJ;function $ppJ(){this.changeHandler=null,this._gridSize=11,this._bgColor="#ffffff",this._borderColor="#000000",this._inputColor="#000000",this._inputBgColor="#efefef",this._colorPanel=null,this._colorTiles=null,this._colorBlock=null,this._colorInput=null,this._colorButton=null,this._colors=[],this._selectedColor="#000000",this._panelChanged=!1,$ppJ.__super.call(this)}var $pptt;$ppe($ppit,"laya.ui.ComboBox",$ppnt=$ppn),($ppi=$ppit.prototype).destroy=function($ppt){$ppnt.prototype.destroy.call(this,$ppt=void 0===$ppt?!0:$ppt),this._button&&this._button.destroy($ppt),this._list&&this._list.destroy($ppt),this._button=null,this._list=null,this._itemColors=null,this._labels=null,this._selectHandler=null},$ppi.createChildren=function(){this.addChild(this._button=new $ppX),this._button.text.align="left",this._button.labelPadding="0,0,0,5",this._button.on("mousedown",this,this.onButtonMouseDown)},$ppi._createList=function(){this._list=new $ppIt,this._scrollBarSkin&&(this._list.vScrollBarSkin=this._scrollBarSkin),this._setListEvent(this._list)},$ppi._setListEvent=function($ppt){this._list.selectEnable=!0,this._list.on("mousedown",this,this.onListDown),this._list.mouseHandler=$ppv.create(this,this.onlistItemMouse,null,!1),this._list.scrollBar&&this._list.scrollBar.on("mousedown",this,this.onScrollBarDown)},$ppi.onListDown=function($ppt){$ppt.stopPropagation()},$ppi.onScrollBarDown=function($ppt){$ppt.stopPropagation()},$ppi.onButtonMouseDown=function($ppt){this.callLater(this.switchTo,[!this._isOpen])},$ppi.changeList=function(){this._listChanged=!1;var $ppt=this.width-2;var $ppe=this._itemColors[2];this._itemHeight=this._itemSize+6,this._list.itemRender=this.itemRender||{type:"Box",child:[{type:"Label",props:{name:"label",x:1,padding:"3,3,3,3",width:$ppt,height:this._itemHeight,fontSize:this._itemSize,color:$ppe}}]},this._list.repeatY=this._visibleNum,this._list.refresh()},$ppi.onlistItemMouse=function($ppt,$ppe){$ppt=$ppt.type;var $ppi;"mouseover"===$ppt||"mouseout"===$ppt?this._isCustomList||(!($ppi=this._list.getCell($ppe))||($ppi=$ppi.getChildByName("label"))&&("mouseover"===$ppt?($ppi.bgColor=this._itemColors[0],$ppi.color=this._itemColors[1]):($ppi.bgColor=null,$ppi.color=this._itemColors[2]))):"click"===$ppt&&(this.selectedIndex=$ppe,this.isOpen=!1)},$ppi.switchTo=function($ppt){this.isOpen=$ppt},$ppi.changeOpen=function(){this.isOpen=!this._isOpen},$ppi.changeItem=function(){var $ppt;this._itemChanged=!1,this._listHeight=0<this._labels.length?Math.min(this._visibleNum,this._labels.length)*this._itemHeight:this._itemHeight,this._isCustomList||(($ppt=this._list.graphics).clear(),$ppt.drawRect(0,0,this.width-1,this._listHeight,this._itemColors[4],this._itemColors[3]));var $ppe=this._list.array||[];for(var $ppi=$ppe.length=0,$ppn=this._labels.length;$ppi<$ppn;$ppi++)$ppe.push({label:this._labels[$ppi]});this._list.height=this._listHeight,this._list.array=$ppe},$ppi.changeSelected=function(){this._button.label=this.selectedLabel},$ppi._onStageMouseWheel=function($ppt){this._list&&!this._list.contains($ppt.target)&&this.removeList(null)},$ppi.removeList=function($ppt){$ppf.stage.off("mousedown",this,this.removeList),$ppf.stage.off("mousewheel",this,this._onStageMouseWheel),this.isOpen=!1},$ppt(0,$ppi,"selectedIndex",function(){return this._selectedIndex},function($ppt){this._selectedIndex!=$ppt&&(this._selectedIndex=$ppt,0<this._labels.length?this.changeSelected():this.callLater(this.changeSelected),this.event("change",[$ppc.EMPTY.setTo("change",this,this)]),this._selectHandler&&this._selectHandler.runWith(this._selectedIndex))}),$ppt(0,$ppi,"measureHeight",function(){return this._button.height}),$ppt(0,$ppi,"skin",function(){return this._button.skin},function($ppt){this._button.skin!=$ppt&&(this._button.skin=$ppt,this._listChanged=!0)}),$ppt(0,$ppi,"measureWidth",function(){return this._button.width}),$ppt(0,$ppi,"width",$ppnt.prototype._$get_width,function($ppt){$ppf.superSet($ppn,this,"width",$ppt),this._button.width=this._width,this._itemChanged=!0,this._listChanged=!0}),$ppt(0,$ppi,"selectedLabel",function(){return-1<this._selectedIndex&&this._selectedIndex<this._labels.length?this._labels[this._selectedIndex]:null},function($ppt){this.selectedIndex=this._labels.indexOf($ppt)}),$ppt(0,$ppi,"labels",function(){return this._labels.join(",")},function($ppt){0<this._labels.length&&(this.selectedIndex=-1),$ppt?this._labels=$ppt.split(","):this._labels.length=0,this._itemChanged=!0}),$ppt(0,$ppi,"height",$ppnt.prototype._$get_height,function($ppt){$ppf.superSet($ppn,this,"height",$ppt),this._button.height=this._height}),$ppt(0,$ppi,"selectHandler",function(){return this._selectHandler},function($ppt){this._selectHandler=$ppt}),$ppt(0,$ppi,"visibleNum",function(){return this._visibleNum},function($ppt){this._visibleNum=$ppt,this._listChanged=!0}),$ppt(0,$ppi,"labelBold",function(){return this._button.text.bold},function($ppt){this._button.text.bold=$ppt}),$ppt(0,$ppi,"itemColors",function(){return String(this._itemColors)},function($ppt){this._itemColors=$ppL.fillArray(this._itemColors,$ppt,String),this._listChanged=!0}),$ppt(0,$ppi,"itemSize",function(){return this._itemSize},function($ppt){this._itemSize=$ppt,this._listChanged=!0}),$ppt(0,$ppi,"scrollBar",function(){return this.list.scrollBar}),$ppt(0,$ppi,"isOpen",function(){return this._isOpen},function($ppt){var $ppe;this._isOpen!=$ppt&&(this._isOpen=$ppt,this._button.selected=this._isOpen,this._isOpen?(this._list||this._createList(),this._listChanged&&!this._isCustomList&&this.changeList(),this._itemChanged&&this.changeItem(),$ppe=($ppe=($ppt=this.localToGlobal($ppx.TEMP.setTo(0,0))).y+this._button.height)+this._listHeight<=$ppf.stage.height?$ppe:$ppt.y-this._listHeight,this._list.pos($ppt.x,$ppe),this._list.zOrder=1001,$ppf._currentStage.addChild(this._list),$ppf.stage.once("mousedown",this,this.removeList),$ppf.stage.on("mousewheel",this,this._onStageMouseWheel),this._list.selectedIndex=this._selectedIndex):this._list&&this._list.removeSelf())}),$ppt(0,$ppi,"scrollBarSkin",function(){return this._scrollBarSkin},function($ppt){this._scrollBarSkin=$ppt}),$ppt(0,$ppi,"sizeGrid",function(){return this._button.sizeGrid},function($ppt){this._button.sizeGrid=$ppt}),$ppt(0,$ppi,"button",function(){return this._button}),$ppt(0,$ppi,"list",function(){return this._list||this._createList(),this._list},function($ppt){$ppt&&($ppt.removeSelf(),this._isCustomList=!0,this._list=$ppt,this._setListEvent($ppt),this._itemHeight=$ppt.getCell(0).height+$ppt.spaceY)}),$ppt(0,$ppi,"dataSource",$ppnt.prototype._$get_dataSource,function($ppt){"number"==typeof(this._dataSource=$ppt)&&Math.floor($ppt)==$ppt||"string"==typeof $ppt?this.selectedIndex=parseInt($ppt):$ppt instanceof Array?this.labels=$ppt.join(","):$ppf.superSet($ppn,this,"dataSource",$ppt)}),$ppt(0,$ppi,"labelColors",function(){return this._button.labelColors},function($ppt){this._button.labelColors!=$ppt&&(this._button.labelColors=$ppt)}),$ppt(0,$ppi,"labelPadding",function(){return this._button.text.padding.join(",")},function($ppt){this._button.text.padding=$ppL.fillArray($ppR.labelPadding,$ppt,Number)}),$ppt(0,$ppi,"labelSize",function(){return this._button.text.fontSize},function($ppt){this._button.text.fontSize=$ppt}),$ppt(0,$ppi,"labelFont",function(){return this._button.text.font},function($ppt){this._button.text.font=$ppt}),$ppt(0,$ppi,"stateNum",function(){return this._button.stateNum},function($ppt){this._button.stateNum=$ppt});var $ppet=$ppit;function $ppit($ppt,$ppe){this._visibleNum=6,this._button=null,this._list=null,this._isOpen=!1,this._itemSize=12,this._labels=[],this._selectedIndex=-1,this._selectHandler=null,this._itemHeight=NaN,this._listHeight=NaN,this._listChanged=!1,this._itemChanged=!1,this._scrollBarSkin=null,this._isCustomList=!1,this.itemRender=null,$ppit.__super.call(this),this._itemColors=$ppR.comboBoxItemColors,this.skin=$ppt,this.labels=$ppe}var $ppnt;$ppe($ppst,"laya.ui.ScrollBar",$ppat=$ppn),($pps=$ppst.prototype).destroy=function($ppt){void 0===$ppt&&($ppt=!0),this.stopScroll(),this.target=null,$ppat.prototype.destroy.call(this,$ppt),this.upButton&&this.upButton.destroy($ppt),this.downButton&&this.downButton.destroy($ppt),this.slider&&this.slider.destroy($ppt),this.upButton=this.downButton=null,this.slider=null,this.changeHandler=null,this._offsets=null},$pps.createChildren=function(){this.addChild(this.slider=new $ppot),this.addChild(this.upButton=new $ppX),this.addChild(this.downButton=new $ppX)},$pps.initialize=function(){this.slider.showLabel=!1,this.slider.on("change",this,this.onSliderChange),this.slider.setSlider(0,0,0),this.upButton.on("mousedown",this,this.onButtonMouseDown),this.downButton.on("mousedown",this,this.onButtonMouseDown)},$pps.onSliderChange=function(){this._value!=this.slider.value&&(this.value=this.slider.value)},$pps.onButtonMouseDown=function($ppt){$ppt=$ppt.currentTarget===this.upButton;this.slide($ppt),$ppf.timer.once($ppR.scrollBarDelayTime,this,this.startLoop,[$ppt]),$ppf.stage.once("mouseup",this,this.onStageMouseUp)},$pps.startLoop=function($ppt){$ppf.timer.frameLoop(1,this,this.slide,[$ppt])},$pps.slide=function($ppt){$ppt?this.value-=this._scrollSize:this.value+=this._scrollSize},$pps.onStageMouseUp=function($ppt){$ppf.timer.clear(this,this.startLoop),$ppf.timer.clear(this,this.slide)},$pps.changeScrollBar=function(){this.upButton.visible=this._showButtons,this.downButton.visible=this._showButtons,this._showButtons&&(this.upButton.skin=this._skin.replace(".png","$up.png"),this.downButton.skin=this._skin.replace(".png","$down.png")),this.slider.isVertical?this.slider.y=this._showButtons?this.upButton.height:0:this.slider.x=this._showButtons?this.upButton.width:0,this.resetPositions(),this.repaint()},$pps.changeSize=function(){$ppat.prototype.changeSize.call(this),this.repaint(),this.resetPositions(),this.event("change"),this.changeHandler&&this.changeHandler.runWith(this.value)},$pps.resetPositions=function(){this.slider.isVertical?this.slider.height=this.height-(this._showButtons?this.upButton.height+this.downButton.height:0):this.slider.width=this.width-(this._showButtons?this.upButton.width+this.downButton.width:0),this.resetButtonPosition()},$pps.resetButtonPosition=function(){this.slider.isVertical?this.downButton.y=this.slider.y+this.slider.height:this.downButton.x=this.slider.x+this.slider.width},$pps.setScroll=function($ppt,$ppe,$ppi){this.runCallLater(this.changeSize),this.slider.setSlider($ppt,$ppe,$ppi),this.slider.bar.visible=0<$ppe,!this._hide&&this.autoHide&&(this.visible=!1)},$pps.onTargetMouseWheel=function($ppt){this.value-=$ppt.delta*this._scrollSize,this.target=this._target},$pps.onTargetMouseDown=function($ppt){this._clickOnly=!0,this._lastOffset=0,this._checkElastic=!1,this._lastPoint||(this._lastPoint=new $ppx),this._lastPoint.setTo($ppf.stage.mouseX,$ppf.stage.mouseY),$ppf.timer.clear(this,this.tweenMove),$ppM.clearTween(this),$ppf.stage.once("mouseup",this,this.onStageMouseUp2),$ppf.stage.once("mouseout",this,this.onStageMouseUp2),$ppf.timer.frameLoop(1,this,this.loop)},$pps.loop=function(){var $ppt=$ppf.stage.mouseY;var $ppe=$ppf.stage.mouseX;if(this._lastOffset=this.isVertical?$ppt-this._lastPoint.y:$ppe-this._lastPoint.x,this._clickOnly){if(!(1<Math.abs(this._lastOffset*(this.isVertical?$ppf.stage._canvasTransform.getScaleY():$ppf.stage._canvasTransform.getScaleX()))))return;this._clickOnly=!1,this._offsets||(this._offsets=[]),this._offsets.length=0,this._target.mouseEnabled=!1,!this.hide&&this.autoHide&&(this.alpha=1,this.visible=!0),this.event("start")}this._offsets.push(this._lastOffset),this._lastPoint.x=$ppe,this._lastPoint.y=$ppt,0!==this._lastOffset&&(this._checkElastic||(0<this.elasticDistance?this._checkElastic||0==this._lastOffset||(0<this._lastOffset&&this._value<=this.min||this._lastOffset<0&&this._value>=this.max?(this._isElastic=!0,this._checkElastic=!0):this._isElastic=!1):this._checkElastic=!0),this._isElastic?this._value<=this.min?this.value-=this._lastOffset*Math.max(0,1-(this.min-this._value)/this.elasticDistance):this._value>=this.max&&(this.value-=this._lastOffset*Math.max(0,1-(this._value-this.max)/this.elasticDistance)):this.value-=this._lastOffset)},$pps.onStageMouseUp2=function($ppt){if($ppf.stage.off("mouseup",this,this.onStageMouseUp2),$ppf.stage.off("mouseout",this,this.onStageMouseUp2),$ppf.timer.clear(this,this.loop),!(this._clickOnly&&this._value>=this.min&&this._value<=this.max))if(this._target.mouseEnabled=!0,this._isElastic)this._value<this.min?$ppM.to(this,{value:this.min},this.elasticBackTime,$ppl.sineOut,$ppv.create(this,this.elasticOver)):this._value>this.max&&$ppM.to(this,{value:this.max},this.elasticBackTime,$ppl.sineOut,$ppv.create(this,this.elasticOver));else if(this._offsets){this._offsets.length<1&&(this._offsets[0]=this.isVertical?$ppf.stage.mouseY-this._lastPoint.y:$ppf.stage.mouseX-this._lastPoint.x);var $ppe=0;var $ppi=Math.min(this._offsets.length,3);for(var $ppn=0;$ppn<$ppi;$ppn++)$ppe+=this._offsets[this._offsets.length-1-$ppn];var $ppr;this._lastOffset=$ppe/$ppi,($ppe=Math.abs(this._lastOffset))<2?this.event("end"):(60<$ppe&&(this._lastOffset=0<this._lastOffset?60:-60),$ppr=Math.round(Math.abs(this.elasticDistance*(this._lastOffset/240))),$ppf.timer.frameLoop(1,this,this.tweenMove,[$ppr]))}},$pps.elasticOver=function(){this._isElastic=!1,!this.hide&&this.autoHide&&$ppM.to(this,{alpha:0},500),this.event("end")},$pps.tweenMove=function($ppt){this._lastOffset*=this.rollRatio;var $ppe=NaN;0<$ppt&&(0<this._lastOffset&&this.value<=this.min?(this._isElastic=!0,$ppe=.5*-(this.min-$ppt-this.value),this._lastOffset>$ppe&&(this._lastOffset=$ppe)):this._lastOffset<0&&this.value>=this.max&&(this._isElastic=!0,$ppe=.5*-(this.max+$ppt-this.value),this._lastOffset<$ppe&&(this._lastOffset=$ppe))),this.value-=this._lastOffset,Math.abs(this._lastOffset)<1&&($ppf.timer.clear(this,this.tweenMove),this._isElastic?this._value<this.min?$ppM.to(this,{value:this.min},this.elasticBackTime,$ppl.sineOut,$ppv.create(this,this.elasticOver)):this._value>this.max?$ppM.to(this,{value:this.max},this.elasticBackTime,$ppl.sineOut,$ppv.create(this,this.elasticOver)):this.elasticOver():(this.event("end"),!this.hide&&this.autoHide&&$ppM.to(this,{alpha:0},500)))},$pps.stopScroll=function(){this.onStageMouseUp2(null),$ppf.timer.clear(this,this.tweenMove),$ppM.clearTween(this)},$ppt(0,$pps,"measureHeight",function(){return this.slider.isVertical?100:this.slider.height}),$ppt(0,$pps,"skin",function(){return this._skin},function($ppt){this._skin!=$ppt&&(this._skin=$ppt,this.slider.skin=this._skin,this.callLater(this.changeScrollBar))}),$ppt(0,$pps,"max",function(){return this.slider.max},function($ppt){this.slider.max=$ppt}),$ppt(0,$pps,"showButtons",function(){return this._showButtons},function($ppt){this._showButtons=$ppt,this.callLater(this.changeScrollBar)}),$ppt(0,$pps,"measureWidth",function(){return this.slider.isVertical?this.slider.width:100}),$ppt(0,$pps,"min",function(){return this.slider.min},function($ppt){this.slider.min=$ppt}),$ppt(0,$pps,"value",function(){return this._value},function($ppt){$ppt!==this._value&&(this._value=$ppt,this._isElastic||(this.slider._value!=$ppt&&(this.slider._value=$ppt,this.slider.changeValue()),this._value=this.slider._value),this.event("change"),this.changeHandler&&this.changeHandler.runWith(this._value))}),$ppt(0,$pps,"isVertical",function(){return this.slider.isVertical},function($ppt){this.slider.isVertical=$ppt}),$ppt(0,$pps,"sizeGrid",function(){return this.slider.sizeGrid},function($ppt){this.slider.sizeGrid=$ppt}),$ppt(0,$pps,"scrollSize",function(){return this._scrollSize},function($ppt){this._scrollSize=$ppt}),$ppt(0,$pps,"dataSource",$ppat.prototype._$get_dataSource,function($ppt){"number"==typeof(this._dataSource=$ppt)||"string"==typeof $ppt?this.value=Number($ppt):$ppf.superSet($ppn,this,"dataSource",$ppt)}),$ppt(0,$pps,"thumbPercent",function(){return this._thumbPercent},function($ppt){this.runCallLater(this.changeScrollBar),this.runCallLater(this.changeSize),this._thumbPercent=$ppt=1<=$ppt?.99:$ppt,this.scaleBar&&(this.slider.isVertical?this.slider.bar.height=Math.max(this.slider.height*$ppt,$ppR.scrollBarMinNum):this.slider.bar.width=Math.max(this.slider.width*$ppt,$ppR.scrollBarMinNum))}),$ppt(0,$pps,"target",function(){return this._target},function($ppt){this._target&&(this._target.off("mousewheel",this,this.onTargetMouseWheel),this._target.off("mousedown",this,this.onTargetMouseDown)),(this._target=$ppt)&&(this._mouseWheelEnable&&this._target.on("mousewheel",this,this.onTargetMouseWheel),this._touchScrollEnable&&this._target.on("mousedown",this,this.onTargetMouseDown))}),$ppt(0,$pps,"hide",function(){return this._hide},function($ppt){this._hide=$ppt,this.visible=!$ppt}),$ppt(0,$pps,"touchScrollEnable",function(){return this._touchScrollEnable},function($ppt){this._touchScrollEnable=$ppt,this.target=this._target}),$ppt(0,$pps,"mouseWheelEnable",function(){return this._mouseWheelEnable},function($ppt){this._mouseWheelEnable=$ppt,this.target=this._target}),$ppt(0,$pps,"tick",function(){return this.slider.tick},function($ppt){this.slider.tick=$ppt});var $pprt=$ppst;function $ppst($ppt){this.rollRatio=.95,this.changeHandler=null,this.scaleBar=!0,this.autoHide=!1,this.elasticDistance=0,this.elasticBackTime=500,this.upButton=null,this.downButton=null,this.slider=null,this._scrollSize=1,this._skin=null,this._thumbPercent=1,this._target=null,this._lastPoint=null,this._lastOffset=0,this._checkElastic=!1,this._isElastic=!1,this._value=NaN,this._hide=!1,this._clickOnly=!0,this._offsets=null,$ppst.__super.call(this),this._showButtons=$ppN.showButtons,this._touchScrollEnable=$ppN.touchScrollEnable,this._mouseWheelEnable=$ppN.mouseWheelEnable,this.skin=$ppt,this.max=1}var $ppat;$ppe($ppht,"laya.ui.Slider",$pplt=$ppn),($ppi=$ppht.prototype).destroy=function($ppt){$pplt.prototype.destroy.call(this,$ppt=void 0===$ppt?!0:$ppt),this._bg&&this._bg.destroy($ppt),this._bar&&this._bar.destroy($ppt),this._progress&&this._progress.destroy($ppt),this._bg=null,this._bar=null,this._progress=null,this.changeHandler=null},$ppi.createChildren=function(){this.addChild(this._bg=new $ppct),this.addChild(this._bar=new $ppX)},$ppi.initialize=function(){this._bar.on("mousedown",this,this.onBarMouseDown),this._bg.sizeGrid=this._bar.sizeGrid="4,4,4,4,0",this._progress&&(this._progress.sizeGrid=this._bar.sizeGrid),this.allowClickBack=!0},$ppi.onBarMouseDown=function($ppt){this._globalSacle||(this._globalSacle=new $ppx),this._globalSacle.setTo(this.globalScaleX||.01,this.globalScaleY||.01),this._maxMove=this.isVertical?this.height-this._bar.height:this.width-this._bar.width,this._tx=$ppf.stage.mouseX,this._ty=$ppf.stage.mouseY,$ppf.stage.on("mousemove",this,this.mouseMove),$ppf.stage.once("mouseup",this,this.mouseUp),$ppf.stage.once("mouseout",this,this.mouseUp),this.showValueText()},$ppi.showValueText=function(){var $ppt;this.showLabel&&($ppt=laya.ui.Slider.label,this.addChild($ppt),$ppt.textField.changeText(this._value+""),this.isVertical?($ppt.x=this._bar.x+20,$ppt.y=.5*(this._bar.height-$ppt.height)+this._bar.y):($ppt.y=this._bar.y-20,$ppt.x=.5*(this._bar.width-$ppt.width)+this._bar.x))},$ppi.hideValueText=function(){laya.ui.Slider.label&&laya.ui.Slider.label.removeSelf()},$ppi.mouseUp=function($ppt){$ppf.stage.off("mousemove",this,this.mouseMove),$ppf.stage.off("mouseup",this,this.mouseUp),$ppf.stage.off("mouseout",this,this.mouseUp),this.sendChangeEvent("changed"),this.hideValueText()},$ppi.mouseMove=function($ppt){var $ppe=this._value;this.isVertical?(this._bar.y+=($ppf.stage.mouseY-this._ty)/this._globalSacle.y,this._bar.y>this._maxMove?this._bar.y=this._maxMove:this._bar.y<0&&(this._bar.y=0),this._value=this._bar.y/this._maxMove*(this._max-this._min)+this._min,this._progress&&(this._progress.height=this._bar.y+.5*this._bar.height)):(this._bar.x+=($ppf.stage.mouseX-this._tx)/this._globalSacle.x,this._bar.x>this._maxMove?this._bar.x=this._maxMove:this._bar.x<0&&(this._bar.x=0),this._value=this._bar.x/this._maxMove*(this._max-this._min)+this._min,this._progress&&(this._progress.width=this._bar.x+.5*this._bar.width)),this._tx=$ppf.stage.mouseX,this._ty=$ppf.stage.mouseY;var $ppi=Math.pow(10,(this._tick+"").length-1);this._value=Math.round(Math.round(this._value/this._tick)*this._tick*$ppi)/$ppi,this._value!=$ppe&&this.sendChangeEvent(),this.showValueText()},$ppi.sendChangeEvent=function($ppt){this.event($ppt=void 0===$ppt?"change":$ppt),this.changeHandler&&this.changeHandler.runWith(this._value)},$ppi.setBarPoint=function(){this.isVertical?this._bar.x=Math.round(.5*(this._bg.width-this._bar.width)):this._bar.y=Math.round(.5*(this._bg.height-this._bar.height))},$ppi.changeSize=function(){$pplt.prototype.changeSize.call(this),this.isVertical?this._bg.height=this.height:this._bg.width=this.width,this.setBarPoint(),this.changeValue()},$ppi.setSlider=function($ppt,$ppe,$ppi){this._value=-1,this._min=$ppt,this._max=$ppt<$ppe?$ppe:$ppt,this.value=$ppi<$ppt?$ppt:$ppe<$ppi?$ppe:$ppi},$ppi.changeValue=function(){var $ppt=Math.pow(10,(this._tick+"").length-1);this._value=Math.round(Math.round(this._value/this._tick)*this._tick*$ppt)/$ppt,this._value=this._value>this._max?this._max:this._value<this._min?this._min:this._value;$ppt=this._max-this._min;0===$ppt&&($ppt=1),this.isVertical?(this._bar.y=(this._value-this._min)/$ppt*(this.height-this._bar.height),this._progress&&(this._progress.height=this._bar.y+.5*this._bar.height)):(this._bar.x=(this._value-this._min)/$ppt*(this.width-this._bar.width),this._progress&&(this._progress.width=this._bar.x+.5*this._bar.width))},$ppi.onBgMouseDown=function($ppt){var $ppe=this._bg.getMousePoint();this.isVertical?this.value=$ppe.y/(this.height-this._bar.height)*(this._max-this._min)+this._min:this.value=$ppe.x/(this.width-this._bar.width)*(this._max-this._min)+this._min},$ppt(0,$ppi,"measureHeight",function(){return Math.max(this._bg.height,this._bar.height)}),$ppt(0,$ppi,"skin",function(){return this._skin},function($ppt){this._skin!=$ppt&&(this._skin=$ppt,this._bg.skin=this._skin,this._bar.skin=this._skin.replace(".png","$bar.png"),$ppt=this._skin.replace(".png","$progress.png"),$ppp.getRes($ppt)&&(this._progress||(this.addChild(this._progress=new $ppct),this._progress.sizeGrid=this._bar.sizeGrid,this.setChildIndex(this._progress,1)),this._progress.skin=$ppt),this.setBarPoint(),this.callLater(this.changeValue))}),$ppt(0,$ppi,"allowClickBack",function(){return this._allowClickBack},function($ppt){this._allowClickBack!=$ppt&&((this._allowClickBack=$ppt)?this._bg.on("mousedown",this,this.onBgMouseDown):this._bg.off("mousedown",this,this.onBgMouseDown))}),$ppt(0,$ppi,"max",function(){return this._max},function($ppt){this._max!=$ppt&&(this._max=$ppt,this.callLater(this.changeValue))}),$ppt(0,$ppi,"measureWidth",function(){return Math.max(this._bg.width,this._bar.width)}),$ppt(0,$ppi,"tick",function(){return this._tick},function($ppt){this._tick!=$ppt&&(this._tick=$ppt,this.callLater(this.changeValue))}),$ppt(0,$ppi,"sizeGrid",function(){return this._bg.sizeGrid},function($ppt){this._bg.sizeGrid=$ppt,this._bar.sizeGrid=$ppt,this._progress&&(this._progress.sizeGrid=this._bar.sizeGrid)}),$ppt(0,$ppi,"min",function(){return this._min},function($ppt){this._min!=$ppt&&(this._min=$ppt,this.callLater(this.changeValue))}),$ppt(0,$ppi,"value",function(){return this._value},function($ppt){var $ppe;this._value!=$ppt&&($ppe=this._value,this._value=$ppt,this.changeValue(),this._value!=$ppe&&this.sendChangeEvent())}),$ppt(0,$ppi,"dataSource",$pplt.prototype._$get_dataSource,function($ppt){"number"==typeof(this._dataSource=$ppt)||"string"==typeof $ppt?this.value=Number($ppt):$ppf.superSet($ppn,this,"dataSource",$ppt)}),$ppt(0,$ppi,"bar",function(){return this._bar}),$ppa($ppht,["label",function(){return this.label=new $ppdt}]);var $ppot=$ppht;function $ppht($ppt){this.changeHandler=null,this.isVertical=!0,this.showLabel=!0,this._allowClickBack=!1,this._max=100,this._min=0,this._tick=1,this._value=0,this._skin=null,this._bg=null,this._progress=null,this._bar=null,this._tx=NaN,this._ty=NaN,this._maxMove=NaN,this._globalSacle=null,$ppht.__super.call(this),this.skin=$ppt}var $pplt;$ppe($pput,"laya.ui.Image",$pp_t=$ppn),($pps=$pput.prototype).destroy=function($ppt){void 0===$ppt&&($ppt=!0),$pp_t.prototype.destroy.call(this,!0),this._bitmap&&this._bitmap.destroy(),this._bitmap=null,$ppp.clearCache(this,this._skin)},$pps.dispose=function(){this.destroy(!0),$ppp.clearCache(this,this._skin)},$pps.createChildren=function(){this.graphics=this._bitmap=new $ppF},$pps.setSource=function($ppt,$ppe){$ppt===this._skin&&$ppe&&(this.source=$ppe,this.onCompResize())},$ppt(0,$pps,"source",function(){return this._bitmap.source},function($ppt){this._bitmap&&(this._bitmap.source=$ppt,this.event("loaded"),this.repaint())}),$ppt(0,$pps,"dataSource",$pp_t.prototype._$get_dataSource,function($ppt){"string"==typeof(this._dataSource=$ppt)?this.skin=$ppt:$ppf.superSet($ppn,this,"dataSource",$ppt)}),$ppt(0,$pps,"measureHeight",function(){return this._bitmap.height}),$ppt(0,$pps,"skin",function(){return this._skin},function($ppt){this._skin!=$ppt&&($ppp.clearCache(this,this._skin),(this._skin=$ppt)?($ppp.keepCache(this,this._skin),($ppt=$ppp.getRes($ppt))?(this.source=$ppt,this.onCompResize()):$ppf.loader.load(this._skin,$ppv.create(this,this.setSource,[this._skin]),null,"image",1,!0,this._group)):this.source=null)}),$ppt(0,$pps,"group",function(){return this._group},function($ppt){$ppt&&this._skin&&$ppp.setGroup(this._skin,$ppt),this._group=$ppt}),$ppt(0,$pps,"sizeGrid",function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null},function($ppt){this._bitmap.sizeGrid=$ppL.fillArray($ppR.defaultSizeGrid,$ppt,Number)}),$ppt(0,$pps,"measureWidth",function(){return this._bitmap.width}),$ppt(0,$pps,"width",$pp_t.prototype._$get_width,function($ppt){$ppf.superSet($ppn,this,"width",$ppt),this._bitmap.width=0==$ppt?1e-7:$ppt}),$ppt(0,$pps,"height",$pp_t.prototype._$get_height,function($ppt){$ppf.superSet($ppn,this,"height",$ppt),this._bitmap.height=0==$ppt?1e-7:$ppt});var $ppct=$pput;function $pput($ppt){this._bitmap=null,this._skin=null,this._group=null,$pput.__super.call(this),this.skin=$ppt}var $pp_t;$ppe($ppft,"laya.ui.Label",$pppt=$ppn),($ppi=$ppft.prototype).destroy=function($ppt){$pppt.prototype.destroy.call(this,$ppt=void 0===$ppt?!0:$ppt),this._tf=null},$ppi.createChildren=function(){this.addChild(this._tf=new $ppS)},$ppi.changeText=function($ppt){this._tf.changeText($ppt)},$ppt(0,$ppi,"padding",function(){return this._tf.padding.join(",")},function($ppt){this._tf.padding=$ppL.fillArray($ppR.labelPadding,$ppt,Number)}),$ppt(0,$ppi,"bold",function(){return this._tf.bold},function($ppt){this._tf.bold=$ppt}),$ppt(0,$ppi,"align",function(){return this._tf.align},function($ppt){this._tf.align=$ppt}),$ppt(0,$ppi,"text",function(){return this._tf.text},function($ppt){this._tf.text!=$ppt&&($ppt=$ppt&&$ppL.adptString($ppt+""),this._tf.text=$ppt,this.event("change"),this._width&&this._height||this.onCompResize())}),$ppt(0,$ppi,"italic",function(){return this._tf.italic},function($ppt){this._tf.italic=$ppt}),$ppt(0,$ppi,"wordWrap",function(){return this._tf.wordWrap},function($ppt){this._tf.wordWrap=$ppt}),$ppt(0,$ppi,"font",function(){return this._tf.font},function($ppt){this._tf.font=$ppt}),$ppt(0,$ppi,"dataSource",$pppt.prototype._$get_dataSource,function($ppt){"number"==typeof(this._dataSource=$ppt)||"string"==typeof $ppt?this.text=$ppt+"":$ppf.superSet($ppn,this,"dataSource",$ppt)}),$ppt(0,$ppi,"color",function(){return this._tf.color},function($ppt){this._tf.color=$ppt}),$ppt(0,$ppi,"valign",function(){return this._tf.valign},function($ppt){this._tf.valign=$ppt}),$ppt(0,$ppi,"leading",function(){return this._tf.leading},function($ppt){this._tf.leading=$ppt}),$ppt(0,$ppi,"fontSize",function(){return this._tf.fontSize},function($ppt){this._tf.fontSize=$ppt}),$ppt(0,$ppi,"bgColor",function(){return this._tf.bgColor},function($ppt){this._tf.bgColor=$ppt}),$ppt(0,$ppi,"borderColor",function(){return this._tf.borderColor},function($ppt){this._tf.borderColor=$ppt}),$ppt(0,$ppi,"stroke",function(){return this._tf.stroke},function($ppt){this._tf.stroke=$ppt}),$ppt(0,$ppi,"strokeColor",function(){return this._tf.strokeColor},function($ppt){this._tf.strokeColor=$ppt}),$ppt(0,$ppi,"textField",function(){return this._tf}),$ppt(0,$ppi,"measureWidth",function(){return this._tf.width}),$ppt(0,$ppi,"measureHeight",function(){return this._tf.height}),$ppt(0,$ppi,"width",function(){return this._width||this._tf.text?$ppf.superGet($ppn,this,"width"):0},function($ppt){$ppf.superSet($ppn,this,"width",$ppt),this._tf.width=$ppt}),$ppt(0,$ppi,"height",function(){return this._height||this._tf.text?$ppf.superGet($ppn,this,"height"):0},function($ppt){$ppf.superSet($ppn,this,"height",$ppt),this._tf.height=$ppt}),$ppt(0,$ppi,"overflow",function(){return this._tf.overflow},function($ppt){this._tf.overflow=$ppt}),$ppt(0,$ppi,"underline",function(){return this._tf.underline},function($ppt){this._tf.underline=$ppt}),$ppt(0,$ppi,"underlineColor",function(){return this._tf.underlineColor},function($ppt){this._tf.underlineColor=$ppt});var $ppdt=$ppft;function $ppft($ppt){this._tf=null,$ppft.__super.call(this),void 0===$ppt&&($ppt=""),$ppu.defaultColor=$ppR.labelColor,this.text=$ppt}var $pppt;$ppe($ppgt,"laya.ui.ProgressBar",$ppvt=$ppn),($pps=$ppgt.prototype).destroy=function($ppt){$ppvt.prototype.destroy.call(this,$ppt=void 0===$ppt?!0:$ppt),this._bg&&this._bg.destroy($ppt),this._bar&&this._bar.destroy($ppt),this._bg=this._bar=null,this.changeHandler=null},$pps.createChildren=function(){this.addChild(this._bg=new $ppct),this.addChild(this._bar=new $ppct)},$pps.changeValue=function(){var $ppt,$ppe,$ppi;this.sizeGrid?($ppe=this.sizeGrid.split(","),$ppt=Number($ppe[3]),$ppe=Number($ppe[1]),$ppi=(this.width-$ppt-$ppe)*this._value,this._bar.width=$ppt+$ppe+$ppi,this._bar.visible=this._bar.width>$ppt+$ppe):this._bar.width=this.width*this._value},$ppt(0,$pps,"measureHeight",function(){return this._bg.height}),$ppt(0,$pps,"skin",function(){return this._skin},function($ppt){this._skin!=$ppt&&(this._skin=$ppt,this._bg.skin=this._skin,this._bar.skin=this._skin.replace(".png","$bar.png"),this.callLater(this.changeValue))}),$ppt(0,$pps,"measureWidth",function(){return this._bg.width}),$ppt(0,$pps,"height",$ppvt.prototype._$get_height,function($ppt){$ppf.superSet($ppn,this,"height",$ppt),this._bg.height=this._height,this._bar.height=this._height}),$ppt(0,$pps,"bar",function(){return this._bar}),$ppt(0,$pps,"value",function(){return this._value},function($ppt){this._value!=$ppt&&(this._value=$ppt=1<$ppt?1:$ppt<0?0:$ppt,this.callLater(this.changeValue),this.event("change"),this.changeHandler&&this.changeHandler.runWith($ppt))}),$ppt(0,$pps,"bg",function(){return this._bg}),$ppt(0,$pps,"sizeGrid",function(){return this._bg.sizeGrid},function($ppt){this._bg.sizeGrid=this._bar.sizeGrid=$ppt}),$ppt(0,$pps,"width",$ppvt.prototype._$get_width,function($ppt){$ppf.superSet($ppn,this,"width",$ppt),this._bg.width=this._width,this.callLater(this.changeValue)}),$ppt(0,$pps,"dataSource",$ppvt.prototype._$get_dataSource,function($ppt){"number"==typeof(this._dataSource=$ppt)||"string"==typeof $ppt?this.value=Number($ppt):$ppf.superSet($ppn,this,"dataSource",$ppt)});var $ppmt=$ppgt;function $ppgt($ppt){this.changeHandler=null,this._bg=null,this._bar=null,this._skin=null,this._value=.5,$ppgt.__super.call(this),this.skin=$ppt}var $ppvt;$ppe($ppyt,"laya.ui.TipManager",$ppn),($ppi=$ppyt.prototype)._onStageHideTip=function($ppt){$ppf.timer.clear(this,this._showTip),this.closeAll(),this.removeSelf()},$ppi._onStageShowTip=function($ppt){$ppf.timer.once($ppyt.tipDelay,this,this._showTip,[$ppt],!0)},$ppi._showTip=function($ppt){var $ppe;"string"==typeof $ppt?($ppe=String($ppt),Boolean($ppe)&&this._defaultTipHandler($ppe)):$ppt instanceof laya.utils.Handler?$ppt.run():"function"==typeof $ppt&&$ppt.apply(),$ppf.stage.on("mousemove",this,this._onStageMouseMove),$ppf.stage.on("mousedown",this,this._onStageMouseDown),this._onStageMouseMove(null)},$ppi._onStageMouseDown=function($ppt){this.closeAll()},$ppi._onStageMouseMove=function($ppt){this._showToStage(this,$ppyt.offsetX,$ppyt.offsetY)},$ppi._showToStage=function($ppt,$ppe,$ppi){void 0===$ppe&&($ppe=0),void 0===$ppi&&($ppi=0);var $ppn=$ppt.getBounds();$ppt.x=$ppf.stage.mouseX+$ppe,$ppt.y=$ppf.stage.mouseY+$ppi,$ppt.x+$ppn.width>$ppf.stage.width&&($ppt.x-=$ppn.width+$ppe),$ppt.y+$ppn.height>$ppf.stage.height&&($ppt.y-=$ppn.height+$ppi)},$ppi.closeAll=function(){$ppf.timer.clear(this,this._showTip),$ppf.stage.off("mousemove",this,this._onStageMouseMove),$ppf.stage.off("mousedown",this,this._onStageMouseDown),this.removeChildren()},$ppi.showDislayTip=function($ppt){this.addChild($ppt),this._showToStage(this),$ppf._currentStage.addChild(this)},$ppi._showDefaultTip=function($ppt){this._tipText.text=$ppt;$ppt=this._tipBox.graphics;$ppt.clear(),$ppt.drawRect(0,0,this._tipText.width+10,this._tipText.height+10,$ppyt.tipBackColor),this.addChild(this._tipBox),this._showToStage(this),$ppf._currentStage.addChild(this)},$ppt(0,$ppi,"defaultTipHandler",function(){return this._defaultTipHandler},function($ppt){this._defaultTipHandler=$ppt}),$ppyt.offsetX=10,$ppyt.offsetY=15,$ppyt.tipTextColor="#ffffff",$ppyt.tipBackColor="#111111",$ppyt.tipDelay=200;function $ppyt(){this._tipBox=null,this._tipText=null,this._defaultTipHandler=null,$ppyt.__super.call(this),this._tipBox=new $ppn,this._tipBox.addChild(this._tipText=new $ppS),this._tipText.x=this._tipText.y=5,this._tipText.color=$ppyt.tipTextColor,this._defaultTipHandler=this._showDefaultTip,$ppf.stage.on("showtip",this,this._onStageShowTip),$ppf.stage.on("hidetip",this,this._onStageHideTip),this.zOrder=1100}$ppe($ppm,"laya.ui.View",$ppd),($pps=$ppm.prototype).createView=function($ppt){if($ppt.animations&&!this._idMap&&(this._idMap={}),$ppm.createComp($ppt,this,this),$ppt.animations){var $ppe=[];var $ppi=$ppt.animations;var $ppn=0,$ppr=$ppi.length;var $pps;var $ppa;for($ppn=0;$ppn<$ppr;$ppn++){switch($pps=new $pp_,$ppa=$ppi[$ppn],$pps._setUp(this._idMap,$ppa),(this[$ppa.name]=$pps)._setControlNode(this),$ppa.action){case 1:$pps.play(0,!1);break;case 2:$pps.play(0,!0)}$ppe.push($pps)}this._aniList=$ppe}0<this._width&&null==$ppt.props.hitTestPrior&&!this.mouseThrough&&(this.hitTestPrior=!0)},$pps.onEvent=function($ppt,$ppe){},$pps.loadUI=function($ppt){$ppt=$ppm.uiMap[$ppt];$ppt&&this.createView($ppt)},$pps.destroy=function($ppt){void 0===$ppt&&($ppt=!0),this._aniList&&(this._aniList.length=0),this._idMap=null,this._aniList=null,this._watchMap=null,laya.ui.Component.prototype.destroy.call(this,$ppt)},$pps.changeData=function($ppt){var $ppe=this._watchMap[$ppt];if($ppe){console.log("change",$ppt);for(var $ppi=0,$ppn=$ppe.length;$ppi<$ppn;$ppi++)$ppe[$ppi].exe(this)}},$ppm._regs=function(){for(var $ppt in $ppm.uiClassMap)$ppg.regClass($ppt,$ppm.uiClassMap[$ppt])},$ppm.createComp=function($ppt,$ppe,$ppi,$ppc){if(!($ppe=$ppe||$ppm.getCompInstance($ppt)))return console.warn("can not create:"+$ppt.type),null;var $ppn=$ppt.child;if($ppn){var $ppu=$ppe instanceof laya.ui.List;for(var $ppr=0,$pp_=$ppn.length;$ppr<$pp_;$ppr++){var $pps=$ppn[$ppr];var $ppa,$ppo;!$ppe.hasOwnProperty("itemRender")||"render"!=$pps.props.name&&"render"!==$pps.props.renderType?"Graphic"==$pps.type?$ppg.addGraphicsToSprite($pps,$ppe):$ppg.isDrawType($pps.type)?$ppg.addGraphicToSprite($pps,$ppe,!0):($ppu?($ppo=$ppm.createComp($pps,null,$ppi,$ppa=[]),$ppa.length&&($ppo._$bindData=$ppa)):$ppo=$ppm.createComp($pps,null,$ppi,$ppc),"Script"==$pps.type?"owner"in $ppo?$ppo.owner=$ppe:"target"in $ppo&&($ppo.target=$ppe):"mask"==$pps.props.renderType||"mask"==$pps.props.name?$ppe.mask=$ppo:$ppo instanceof laya.display.Sprite&&$ppe.addChild($ppo)):$ppe.itemRender=$pps}}var $ppd=$ppt.props;for(var $pph in $ppd){var $ppl=$ppd[$pph];$ppm.eventDic[$pph]?$ppl&&$ppi&&$ppe.on($pph,$ppi,$ppi.onEvent,[$ppl]):$ppm.setCompValue($ppe,$pph,$ppl,$ppi,$ppc)}return $ppf.__typeof($ppe,"laya.ui.IItem")&&$ppe.initItems(),$ppt.compId&&$ppi&&$ppi._idMap&&($ppi._idMap[$ppt.compId]=$ppe),$ppe},$ppm.setCompValue=function($ppt,$ppe,$ppi,$ppn,$ppr){if("string"==typeof $ppi&&-1<$ppi.indexOf("${"))if($ppm._sheet=$ppm._sheet||$ppg.getClass("laya.data.Table")){if($ppr)$ppr.push($ppt,$ppe,$ppi);else if($ppn){-1==$ppi.indexOf("].")&&($ppi=$ppi.replace(".","[0]."));var $pps=new $ppwt($ppt,$ppe,$ppi);var $ppa;$pps.exe($ppn);var $ppc=$ppi.replace(/\[.*?\]\./g,".");for(;null!=($ppa=$ppm._parseWatchData.exec($ppc));){var $ppo=$ppa[1];for(;null!=($pph=$ppm._parseKeyWord.exec($ppo));){var $pph=$pph[0];var $ppl=$ppn._watchMap[$pph]||($ppn._watchMap[$pph]=[]);$ppl.push($pps),$ppm._sheet.I.notifer.on($pph,$ppn,$ppn.changeData,[$pph])}($ppl=$ppn._watchMap[$ppo]||($ppn._watchMap[$ppo]=[])).push($pps),$ppm._sheet.I.notifer.on($ppo,$ppn,$ppn.changeData,[$ppo])}}}else console.warn("Can not find class Sheet");else"var"===$ppe&&$ppn?$ppn[$ppi]=$ppt:"onClick"==$ppe?($ppr=$ppf._runScript("(function(){"+$ppi+"})"),$ppt.on("click",$ppn,$ppr)):$ppt[$ppe]="true"===$ppi||"false"!==$ppi&&$ppi},$ppm.getCompInstance=function($ppt){var $ppe=$ppt.props?$ppt.props.runtime:null;return $ppe=$ppe?$ppm.viewClassMap[$ppe]||$ppm.uiClassMap[$ppe]||$ppf.__classmap[$ppe]:$ppm.uiClassMap[$ppt.type],$ppt.props&&$ppt.props.hasOwnProperty("renderType")&&"instance"==$ppt.props.renderType?$ppe.instance:$ppe?new $ppe:null},$ppm.regComponent=function($ppt,$ppe){$ppm.uiClassMap[$ppt]=$ppe,$ppg.regClass($ppt,$ppe)},$ppm.regViewRuntime=function($ppt,$ppe){$ppm.viewClassMap[$ppt]=$ppe},$ppm.uiMap={},$ppm.viewClassMap={},$ppm._sheet=null,$ppa($ppm,["uiClassMap",function(){return this.uiClassMap={ViewStack:$ppYt,LinkButton:$ppX,TextArea:$pple,ColorPicker:$ppQ,Box:$ppd,Button:$ppX,CheckBox:$ppbt,Clip:$ppq,ComboBox:$ppet,Component:$ppn,HScrollBar:$ppPt,HSlider:$ppFt,Image:$ppct,Label:$ppdt,List:$ppIt,Panel:$ppNt,ProgressBar:$ppmt,Radio:$ppUt,RadioGroup:$ppse,ScrollBar:$pprt,Slider:$ppot,Tab:$ppoe,TextInput:$ppqt,View:$ppm,VScrollBar:$ppjt,VSlider:$ppQt,Tree:$ppWt,HBox:$ppee,VBox:$ppne,Sprite:$ppT,Animation:$ppo,Text:$ppS,FontClip:$ppEt}},"eventDic",function(){return this.eventDic={mousedown:!0,mouseup:!0,mousemove:!0,mouseover:!0,mouseout:!0,click:!0,doubleclick:!0,rightmousedown:!0,rightmouseup:!0,rightclick:!0}},"_parseWatchData",function(){return this._parseWatchData=/\${(.*?)}/g},"_parseKeyWord",function(){return this._parseKeyWord=/[a-zA-Z_][a-zA-Z0-9_]*(?:(?:\.[a-zA-Z_][a-zA-Z0-9_]*)+)/g}]),$ppm.__init$=function(){function $ppt($ppt,$ppe,$ppi){this.comp=null,this.prop=null,this.value=null,this.comp=$ppt,this.prop=$ppe,this.value=$ppi}$ppm._regs(),$ppe($ppt,""),$ppt.prototype.exe=function($ppt){var $ppe=$ppL.getBindFun(this.value);this.comp[this.prop]=$ppe.call(this,$ppt)},$ppwt=$ppt};var $ppxt=$ppm;function $ppm(){this._idMap=null,this._aniList=null,this._watchMap={},$ppm.__super.call(this)}var $ppwt;$ppe($ppTt,"laya.ui.CheckBox",$ppSt=$ppX),($ppi=$ppTt.prototype).preinitialize=function(){laya.ui.Component.prototype.preinitialize.call(this),this.toggle=!0,this._autoSize=!1},$ppi.initialize=function(){$ppSt.prototype.initialize.call(this),this.createText(),this._text.align="left",this._text.valign="top",this._text.width=0},$ppt(0,$ppi,"dataSource",$ppSt.prototype._$get_dataSource,function($ppt){"boolean"==typeof(this._dataSource=$ppt)?this.selected=$ppt:"string"==typeof $ppt?this.selected="true"===$ppt:$ppf.superSet($ppX,this,"dataSource",$ppt)});var $ppbt=$ppTt;function $ppTt($ppt,$ppe){$ppTt.__super.call(this,$ppt,$ppe=void 0===$ppe?"":$ppe)}var $ppSt;$ppe($ppMt,"laya.ui.LayoutBox",$ppd),($pps=$ppMt.prototype).addChild=function($ppt){return $ppt.on("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.addChild.call(this,$ppt)},$pps.onResize=function($ppt){this._setItemChanged()},$pps.addChildAt=function($ppt,$ppe){return $ppt.on("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.addChildAt.call(this,$ppt,$ppe)},$pps.removeChild=function($ppt){return $ppt.off("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.removeChild.call(this,$ppt)},$pps.removeChildAt=function($ppt){return this.getChildAt($ppt).off("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.removeChildAt.call(this,$ppt)},$pps.refresh=function(){this._setItemChanged()},$pps.changeItems=function(){this._itemChanged=!1},$pps.sortItem=function($ppt){$ppt&&$ppt.sort(function($ppt,$ppe){return $ppt.y-$ppe.y})},$pps._setItemChanged=function(){this._itemChanged||(this._itemChanged=!0,this.callLater(this.changeItems))},$ppt(0,$pps,"space",function(){return this._space},function($ppt){this._space=$ppt,this._setItemChanged()}),$ppt(0,$pps,"align",function(){return this._align},function($ppt){this._align=$ppt,this._setItemChanged()});var $ppCt=$ppMt;function $ppMt(){this._space=0,this._align="none",this._itemChanged=!1,$ppMt.__super.call(this)}$ppe($ppAt,"laya.ui.FontClip",$ppDt=$ppq),($ppa=$ppAt.prototype).createChildren=function(){this._bitmap=new $ppF,this.on("loaded",this,this._onClipLoaded)},$ppa._onClipLoaded=function(){this.callLater(this.changeValue)},$ppa.changeValue=function(){var $ppt;if(this._sources&&(this._valueArr&&(this.graphics.clear(!0),$ppt=this._sources[0]))){var $ppe="horizontal"===this._direction;$ppe?(this._wordsW=this._valueArr.length*($ppt.sourceWidth+this.spaceX),this._wordsH=$ppt.sourceHeight):(this._wordsW=$ppt.sourceWidth,this._wordsH=($ppt.sourceHeight+this.spaceY)*this._valueArr.length);var $ppi=0;if(this._width)switch(this._align){case"center":$ppi=.5*(this._width-this._wordsW);break;case"right":$ppi=this._width-this._wordsW;break;default:$ppi=0}for(var $ppn=0,$ppr=this._valueArr.length;$ppn<$ppr;$ppn++){var $pps=this._indexMap[this._valueArr.charAt($ppn)];this.sources[$pps]&&($ppt=this.sources[$pps],$ppe?this.graphics.drawTexture($ppt,$ppi+$ppn*($ppt.sourceWidth+this.spaceX),0,$ppt.sourceWidth,$ppt.sourceHeight):this.graphics.drawTexture($ppt,0+$ppi,$ppn*($ppt.sourceHeight+this.spaceY),$ppt.sourceWidth,$ppt.sourceHeight))}this._width||(this.resetLayoutX(),this.callLater(this.changeSize)),this._height||(this.resetLayoutY(),this.callLater(this.changeSize))}},$ppa.destroy=function($ppt){void 0===$ppt&&($ppt=!0),this._valueArr=null,this._indexMap=null,this.graphics.clear(!0),this.removeSelf(),this.off("loaded",this,this._onClipLoaded),$ppDt.prototype.destroy.call(this,$ppt)},$ppt(0,$ppa,"sheet",function(){return this._sheet},function($ppt){var $ppe=(this._sheet=$ppt+="").split(" ");this._clipX=String($ppe[0]).length,this.clipY=$ppe.length,this._indexMap={};for(var $ppi=0;$ppi<this._clipY;$ppi++){var $ppn=$ppe[$ppi].split("");for(var $ppr=0,$pps=$ppn.length;$ppr<$pps;$ppr++)this._indexMap[$ppn[$ppr]]=$ppi*this._clipX+$ppr}}),$ppt(0,$ppa,"height",$ppDt.prototype._$get_height,function($ppt){$ppf.superSet($ppq,this,"height",$ppt),this.callLater(this.changeValue)}),$ppt(0,$ppa,"direction",function(){return this._direction},function($ppt){this._direction=$ppt,this.callLater(this.changeValue)}),$ppt(0,$ppa,"value",function(){return this._valueArr||""},function($ppt){this._valueArr=$ppt+="",this.callLater(this.changeValue)}),$ppt(0,$ppa,"width",$ppDt.prototype._$get_width,function($ppt){$ppf.superSet($ppq,this,"width",$ppt),this.callLater(this.changeValue)}),$ppt(0,$ppa,"spaceX",function(){return this._spaceX},function($ppt){this._spaceX=$ppt,"horizontal"===this._direction&&this.callLater(this.changeValue)}),$ppt(0,$ppa,"spaceY",function(){return this._spaceY},function($ppt){this._spaceY=$ppt,"horizontal"!==this._direction&&this.callLater(this.changeValue)}),$ppt(0,$ppa,"align",function(){return this._align},function($ppt){this._align=$ppt,this.callLater(this.changeValue)}),$ppt(0,$ppa,"measureWidth",function(){return this._wordsW}),$ppt(0,$ppa,"measureHeight",function(){return this._wordsH});var $ppEt=$ppAt;function $ppAt($ppt,$ppe){this._valueArr=null,this._indexMap=null,this._sheet=null,this._direction="horizontal",this._spaceX=0,this._spaceY=0,this._align="left",this._wordsW=0,this._wordsH=0,$ppAt.__super.call(this),$ppt&&(this.skin=$ppt),$ppe&&(this.sheet=$ppe)}var $ppDt;$ppe($ppRt,"laya.ui.List",$ppi=$ppd),$pps=$ppRt.prototype,$ppf.imps($pps,{"laya.ui.IRender":!0,"laya.ui.IItem":!0}),$pps.destroy=function($ppt){void 0===$ppt&&($ppt=!0),this._content&&this._content.destroy($ppt),this._scrollBar&&this._scrollBar.destroy($ppt),laya.ui.Component.prototype.destroy.call(this,$ppt),this._content=null,this._scrollBar=null,this._itemRender=null,this._cells=null,this._array=null,this.selectHandler=this.renderHandler=this.mouseHandler=null},$pps.createChildren=function(){this.addChild(this._content=new $ppd)},$pps.onScrollStart=function(){this._$P.cacheAs||(this._$P.cacheAs=$ppf.superGet($ppd,this,"cacheAs")),$ppf.superSet($ppd,this,"cacheAs","none"),this._scrollBar.once("end",this,this.onScrollEnd)},$pps.onScrollEnd=function(){$ppf.superSet($ppd,this,"cacheAs",this._$P.cacheAs)},$pps._removePreScrollBar=function(){var $ppt=this.removeChildByName("scrollBar");$ppt&&$ppt.destroy(!0)},$pps.changeCells=function(){var $ppt,$ppe,$ppi,$ppn;this._cellChanged=!1,this._itemRender&&(this.scrollBar=this.getChildByName("scrollBar"),$ppn=($ppi=this._getOneCell()).width+this._spaceX||1,$ppi=$ppi.height+this._spaceY||1,0<this._width&&(this._repeatX2=this._isVertical?Math.round(this._width/$ppn):Math.ceil(this._width/$ppn)),0<this._height&&(this._repeatY2=this._isVertical?Math.ceil(this._height/$ppi):Math.round(this._height/$ppi)),$ppt=this._width||$ppn*this.repeatX-this._spaceX,$ppe=this._height||$ppi*this.repeatY-this._spaceY,this._cellSize=this._isVertical?$ppi:$ppn,this._cellOffset=this._isVertical?$ppi*Math.max(this._repeatY2,this._repeatY)-$ppe-this._spaceY:$ppn*Math.max(this._repeatX2,this._repeatX)-$ppt-this._spaceX,this._isVertical&&this._scrollBar?this._scrollBar.height=$ppe:!this._isVertical&&this._scrollBar&&(this._scrollBar.width=$ppt),this.setContentSize($ppt,$ppe),$ppi=this._isVertical?this.repeatX:this.repeatY,$ppn=(this._isVertical?this.repeatY:this.repeatX)+(this._scrollBar?1:0),this._createItems(0,$ppi,$ppn),this._createdLine=$ppn,this._array&&(this.array=this._array,this.runCallLater(this.renderItems)))},$pps._getOneCell=function(){if(0===this._cells.length){var $ppt=this.createItem();if(this._offset.setTo($ppt.x,$ppt.y),this.cacheContent)return $ppt;this._cells.push($ppt)}return this._cells[0]},$pps._createItems=function($ppt,$ppe,$ppc){var $ppi=this._content;var $ppn=this._getOneCell();var $ppr=$ppn.width+this._spaceX;var $ppu=$ppn.height+this._spaceY;if(this.cacheContent){var $pps=new $ppd;$pps.cacheAsBitmap=!0,$pps.pos((this._isVertical?0:$ppt)*$ppr,(this._isVertical?$ppt:0)*$ppu),this._content.addChild($pps),this._content.optimizeScrollRect=!0,$ppi=$pps}else{var $ppa=[];for(var $ppo=this._cells.length-1;-1<$ppo;$ppo--){var $pp_=this._cells[$ppo];$pp_.removeSelf(),$ppa.push($pp_)}this._cells.length=0}for(var $pph=$ppt;$pph<$ppc;$pph++)for(var $ppl=0;$ppl<$ppe;$ppl++)($ppn=$ppa&&$ppa.length?$ppa.pop():this.createItem()).x=(this._isVertical?$ppl:$pph)*$ppr-$ppi.x,$ppn.y=(this._isVertical?$pph:$ppl)*$ppu-$ppi.y,$ppn.name="item"+($pph*$ppe+$ppl),$ppi.addChild($ppn),this.addCell($ppn)},$pps.createItem=function(){var $ppt=[];var $ppe;if($ppe="function"==typeof this._itemRender?new this._itemRender:$ppxt.createComp(this._itemRender,null,null,$ppt),0==$ppt.length&&$ppe._watchMap){var $ppi=$ppe._watchMap;for(var $ppn in $ppi){var $ppr=$ppi[$ppn];for(var $pps=0;$pps<$ppr.length;$pps++){var $ppa=$ppr[$pps];$ppt.push($ppa.comp,$ppa.prop,$ppa.value)}}}return $ppt.length&&($ppe._$bindData=$ppt),$ppe},$pps.addCell=function($ppt){$ppt.on("click",this,this.onCellMouse),$ppt.on("rightclick",this,this.onCellMouse),$ppt.on("mouseover",this,this.onCellMouse),$ppt.on("mouseout",this,this.onCellMouse),$ppt.on("mousedown",this,this.onCellMouse),$ppt.on("mouseup",this,this.onCellMouse),this._cells.push($ppt)},$pps.initItems=function(){if(!this._itemRender&&null!=this.getChildByName("item0")){this.repeatX=1;var $ppt=0;for(var $ppe=$ppt=0;$ppe<1e4;$ppe++){var $ppi=this.getChildByName("item"+$ppe);if(!$ppi)break;this.addCell($ppi),$ppt++}this.repeatY=$ppt}},$pps.setContentSize=function($ppt,$ppe){this._content.width=$ppt,this._content.height=$ppe,!this._scrollBar&&0==this._offset.x&&0==this._offset.y||(this._content.scrollRect||(this._content.scrollRect=new $ppw),this._content.scrollRect.setTo(-this._offset.x,-this._offset.y,$ppt,$ppe),this._content.scrollRect=this._content.scrollRect),this.event("resize")},$pps.onCellMouse=function($ppt){"mousedown"===$ppt.type&&(this._isMoved=!1);var $ppe=$ppt.currentTarget;var $ppi=this._startIndex+this._cells.indexOf($ppe);$ppi<0||("click"===$ppt.type||"rightclick"===$ppt.type?this.selectEnable&&!this._isMoved?this.selectedIndex=$ppi:this.changeCellState($ppe,!0,0):"mouseover"!==$ppt.type&&"mouseout"!==$ppt.type||this._selectedIndex===$ppi||this.changeCellState($ppe,"mouseover"===$ppt.type,0),this.mouseHandler&&this.mouseHandler.runWith([$ppt,$ppi]))},$pps.changeCellState=function($ppt,$ppe,$ppi){$ppt=$ppt.getChildByName("selectBox");$ppt&&(this.selectEnable=!0,$ppt.visible=$ppe,$ppt.index=$ppi)},$pps.changeSize=function(){laya.ui.Component.prototype.changeSize.call(this),this.setContentSize(this.width,this.height),this._scrollBar&&this.callLater(this.onScrollBarChange)},$pps.onScrollBarChange=function($ppc){this.runCallLater(this.changeCells);var $ppt=this._scrollBar.value;var $ppe=this._isVertical?this.repeatX:this.repeatY;var $ppi=this._isVertical?this.repeatY:this.repeatX;var $ppn=Math.floor($ppt/this._cellSize);if(this.cacheContent)this._createdLine-$ppn<($ppr=$ppi+1)&&(this._createItems(this._createdLine,$ppe,this._createdLine+$ppr),this.renderItems(this._createdLine*$ppe,0),this._createdLine+=$ppr);else{$ppn=$ppn*$ppe;var $ppr=0;var $pps,$ppa;$ppn>this._startIndex?($ppr=$ppn-this._startIndex,$ppa=this._startIndex+$ppe*($ppi+1),this._isMoved=$pps=!0):$ppn<this._startIndex&&($ppr=this._startIndex-$ppn,$ppa=this._startIndex-1,this._isMoved=!($pps=!1));for(var $ppo=0;$ppo<$ppr;$ppo++){var $pph,$ppl;$ppl=$pps?($pph=this._cells.shift(),this._cells[this._cells.length]=$pph,$ppa+$ppo):($pph=this._cells.pop(),this._cells.unshift($pph),$ppa-$ppo);var $ppu=Math.floor($ppl/$ppe)*this._cellSize;this._isVertical?$pph.y=$ppu:$pph.x=$ppu,this.renderItem($pph,$ppl)}this._startIndex=$ppn,this.changeSelectStatus()}$ppi=this._content.scrollRect;this._isVertical?($ppi.y=$ppt-this._offset.y,$ppi.x=-this._offset.x):($ppi.y=-this._offset.y,$ppi.x=$ppt-this._offset.x),this._content.scrollRect=$ppi},$pps.posCell=function($ppt,$ppe){var $ppi;this._scrollBar&&($ppi=this._isVertical?this.repeatX:this.repeatY,this._isVertical?this.repeatY:this.repeatX,$ppe=Math.floor($ppe/$ppi)*this._cellSize,this._isVertical?$ppt.y=$ppe:$ppt.x=$ppe)},$pps.changeSelectStatus=function(){for(var $ppt=0,$ppe=this._cells.length;$ppt<$ppe;$ppt++)this.changeCellState(this._cells[$ppt],this._selectedIndex===this._startIndex+$ppt,1)},$pps.renderItems=function($ppt,$ppe){for(var $ppi=$ppt=void 0===$ppt?0:$ppt,$ppn=($ppe=void 0===$ppe?0:$ppe)||this._cells.length;$ppi<$ppn;$ppi++)this.renderItem(this._cells[$ppi],this._startIndex+$ppi);this.changeSelectStatus()},$pps.renderItem=function($ppt,$ppe){this._array&&0<=$ppe&&$ppe<this._array.length?($ppt.visible=!0,$ppt._$bindData?($ppt._dataSource=this._array[$ppe],this._bindData($ppt,this._array[$ppe])):$ppt.dataSource=this._array[$ppe],this.cacheContent||this.posCell($ppt,$ppe),this.hasListener("render")&&this.event("render",[$ppt,$ppe]),this.renderHandler&&this.renderHandler.runWith([$ppt,$ppe])):($ppt.visible=!1,$ppt.dataSource=null)},$pps._bindData=function($ppt,$ppe){var $ppi=$ppt._$bindData;for(var $ppn=0,$ppr=$ppi.length;$ppn<$ppr;$ppn++){var $pps=$ppi[$ppn++];var $ppa=$ppi[$ppn++];var $ppo=$ppi[$ppn];$ppo=$ppL.getBindFun($ppo);$pps[$ppa]=$ppo.call(this,$ppe)}},$pps.refresh=function(){this.array=this._array},$pps.getItem=function($ppt){return-1<$ppt&&$ppt<this._array.length?this._array[$ppt]:null},$pps.changeItem=function($ppt,$ppe){-1<$ppt&&$ppt<this._array.length&&(this._array[$ppt]=$ppe,$ppt>=this._startIndex&&$ppt<this._startIndex+this._cells.length&&this.renderItem(this.getCell($ppt),$ppt))},$pps.setItem=function($ppt,$ppe){this.changeItem($ppt,$ppe)},$pps.addItem=function($ppt){this._array.push($ppt),this.array=this._array},$pps.addItemAt=function($ppt,$ppe){this._array.splice($ppe,0,$ppt),this.array=this._array},$pps.deleteItem=function($ppt){this._array.splice($ppt,1),this.array=this._array},$pps.getCell=function($ppt){return this.runCallLater(this.changeCells),-1<$ppt&&this._cells?this._cells[($ppt-this._startIndex)%this._cells.length]:null},$pps.scrollTo=function($ppt){var $ppe;this._scrollBar?($ppe=this._isVertical?this.repeatX:this.repeatY,this._scrollBar.value=Math.floor($ppt/$ppe)*this._cellSize):this.startIndex=$ppt},$pps.tweenTo=function($ppt,$ppe,$ppi){var $ppn;void 0===$ppe&&($ppe=200),this._scrollBar?($ppn=this._isVertical?this.repeatX:this.repeatY,$ppM.to(this._scrollBar,{value:Math.floor($ppt/$ppn)*this._cellSize},$ppe,null,$ppi,0,!0)):(this.startIndex=$ppt,$ppi&&$ppi.run())},$pps._setCellChanged=function(){this._cellChanged||(this._cellChanged=!0,this.callLater(this.changeCells))},$pps.commitMeasure=function(){this.runCallLater(this.changeCells)},$ppt(0,$pps,"cacheAs",$ppi.prototype._$get_cacheAs,function($ppt){$ppf.superSet($ppd,this,"cacheAs",$ppt),this._scrollBar&&(this._$P.cacheAs=null,"none"!==$ppt?this._scrollBar.on("start",this,this.onScrollStart):this._scrollBar.off("start",this,this.onScrollStart))}),$ppt(0,$pps,"content",function(){return this._content}),$ppt(0,$pps,"height",$ppi.prototype._$get_height,function($ppt){$ppt!=this._height&&($ppf.superSet($ppd,this,"height",$ppt),this._setCellChanged())}),$ppt(0,$pps,"itemRender",function(){return this._itemRender},function($ppt){if(this._itemRender!=$ppt){this._itemRender=$ppt;for(var $ppe=this._cells.length-1;-1<$ppe;$ppe--)this._cells[$ppe].destroy();this._cells.length=0,this._setCellChanged()}}),$ppt(0,$pps,"vScrollBarSkin",function(){return this._scrollBar?this._scrollBar.skin:null},function($ppt){this._removePreScrollBar();var $ppe=new $ppjt;$ppe.name="scrollBar",$ppe.right=0,$ppt&&" "!=$ppt&&($ppe.skin=$ppt),this.scrollBar=$ppe,this.addChild($ppe),this._setCellChanged()}),$ppt(0,$pps,"page",function(){return this._page},function($ppt){this._page=$ppt,this._array&&(this._page=0<$ppt?$ppt:0,this._page=this._page<this.totalPage?this._page:this.totalPage-1,this.startIndex=this._page*this.repeatX*this.repeatY)}),$ppt(0,$pps,"hScrollBarSkin",function(){return this._scrollBar?this._scrollBar.skin:null},function($ppt){this._removePreScrollBar();var $ppe=new $ppPt;$ppe.name="scrollBar",$ppe.bottom=0,$ppt&&" "!=$ppt&&($ppe.skin=$ppt),this.scrollBar=$ppe,this.addChild($ppe),this._setCellChanged()}),$ppt(0,$pps,"repeatX",function(){return 0<this._repeatX?this._repeatX:0<this._repeatX2?this._repeatX2:1},function($ppt){this._repeatX=$ppt,this._setCellChanged()}),$ppt(0,$pps,"scrollBar",function(){return this._scrollBar},function($ppt){this._scrollBar!=$ppt&&(this._scrollBar=$ppt)&&(this._isVertical=this._scrollBar.isVertical,this.addChild(this._scrollBar),this._scrollBar.on("change",this,this.onScrollBarChange))}),$ppt(0,$pps,"width",$ppi.prototype._$get_width,function($ppt){$ppt!=this._width&&($ppf.superSet($ppd,this,"width",$ppt),this._setCellChanged())}),$ppt(0,$pps,"repeatY",function(){return 0<this._repeatY?this._repeatY:0<this._repeatY2?this._repeatY2:1},function($ppt){this._repeatY=$ppt,this._setCellChanged()}),$ppt(0,$pps,"spaceX",function(){return this._spaceX},function($ppt){this._spaceX=$ppt,this._setCellChanged()}),$ppt(0,$pps,"spaceY",function(){return this._spaceY},function($ppt){this._spaceY=$ppt,this._setCellChanged()}),$ppt(0,$pps,"selectedIndex",function(){return this._selectedIndex},function($ppt){this._selectedIndex!=$ppt&&(this._selectedIndex=$ppt,this.changeSelectStatus(),this.event("change"),this.selectHandler&&this.selectHandler.runWith($ppt),this.startIndex=this._startIndex)}),$ppt(0,$pps,"selectedItem",function(){return-1!=this._selectedIndex?this._array[this._selectedIndex]:null},function($ppt){this.selectedIndex=this._array.indexOf($ppt)}),$ppt(0,$pps,"length",function(){return this._array?this._array.length:0}),$ppt(0,$pps,"selection",function(){return this.getCell(this._selectedIndex)},function($ppt){this.selectedIndex=this._startIndex+this._cells.indexOf($ppt)}),$ppt(0,$pps,"startIndex",function(){return this._startIndex},function($ppt){this._startIndex=0<$ppt?$ppt:0,this.callLater(this.renderItems)}),$ppt(0,$pps,"array",function(){return this._array},function($ppt){this.runCallLater(this.changeCells),this._array=$ppt||[];$ppt=this._array.length;var $ppe,$ppi;this.totalPage=Math.ceil($ppt/(this.repeatX*this.repeatY)),this._selectedIndex=this._selectedIndex<$ppt?this._selectedIndex:$ppt-1,this.startIndex=this._startIndex,this._scrollBar&&(this._scrollBar.stopScroll(),$ppe=this._isVertical?this.repeatX:this.repeatY,$ppi=this._isVertical?this.repeatY:this.repeatX,$ppt=Math.ceil($ppt/$ppe),1<(0<this._cellOffset?this.totalPage+1:this.totalPage)?(this._scrollBar.scrollSize=this._cellSize,this._scrollBar.thumbPercent=$ppi/$ppt,this._scrollBar.setScroll(0,($ppt-$ppi)*this._cellSize+this._cellOffset,this._scrollBar.value)):this._scrollBar.setScroll(0,0,0),this._scrollBar.target=this._content)}),$ppt(0,$pps,"dataSource",$ppi.prototype._$get_dataSource,function($ppt){"number"==typeof(this._dataSource=$ppt)&&Math.floor($ppt)==$ppt||"string"==typeof $ppt?this.selectedIndex=parseInt($ppt):$ppt instanceof Array?this.array=$ppt:$ppf.superSet($ppd,this,"dataSource",$ppt)}),$ppt(0,$pps,"cells",function(){return this.runCallLater(this.changeCells),this._cells});var $ppIt=$ppRt;function $ppRt(){this.selectHandler=null,this.renderHandler=null,this.mouseHandler=null,this.selectEnable=!1,this.totalPage=0,this._content=null,this._scrollBar=null,this._itemRender=null,this._repeatX=0,this._repeatY=0,this._repeatX2=0,this._repeatY2=0,this._spaceX=0,this._spaceY=0,this._array=null,this._startIndex=0,this._selectedIndex=-1,this._page=0,this._isVertical=!0,this._cellSize=20,this._cellOffset=0,this._isMoved=!1,this.cacheContent=!1,this._createdLine=0,this._cellChanged=!1,this._cells=[],this._offset=new $ppx,$ppRt.__super.call(this)}$ppe($ppLt,"laya.ui.HScrollBar",$ppBt=$pprt),$ppLt.prototype.initialize=function(){$ppBt.prototype.initialize.call(this),this.slider.isVertical=!1};var $ppPt=$ppLt;function $ppLt(){$ppLt.__super.call(this)}var $ppBt;$ppe($ppOt,"laya.ui.Panel",$ppa=$ppd),($ppi=$ppOt.prototype).destroy=function($ppt){void 0===$ppt&&($ppt=!0),laya.ui.Component.prototype.destroy.call(this,$ppt),this._content&&this._content.destroy($ppt),this._vScrollBar&&this._vScrollBar.destroy($ppt),this._hScrollBar&&this._hScrollBar.destroy($ppt),this._vScrollBar=null,this._hScrollBar=null,this._content=null},$ppi.destroyChildren=function(){this._content.destroyChildren()},$ppi.createChildren=function(){laya.display.Node.prototype.addChild.call(this,this._content=new $ppd)},$ppi.addChild=function($ppt){return $ppt.on("resize",this,this.onResize),this._setScrollChanged(),this._content.addChild($ppt)},$ppi.onResize=function(){this._setScrollChanged()},$ppi.addChildAt=function($ppt,$ppe){return $ppt.on("resize",this,this.onResize),this._setScrollChanged(),this._content.addChildAt($ppt,$ppe)},$ppi.removeChild=function($ppt){return $ppt.off("resize",this,this.onResize),this._setScrollChanged(),this._content.removeChild($ppt)},$ppi.removeChildAt=function($ppt){return this.getChildAt($ppt).off("resize",this,this.onResize),this._setScrollChanged(),this._content.removeChildAt($ppt)},$ppi.removeChildren=function($ppt,$ppe){return this._content.removeChildren($ppt=void 0===$ppt?0:$ppt,$ppe=void 0===$ppe?2147483647:$ppe),this._setScrollChanged(),this},$ppi.getChildAt=function($ppt){return this._content.getChildAt($ppt)},$ppi.getChildByName=function($ppt){return this._content.getChildByName($ppt)},$ppi.getChildIndex=function($ppt){return this._content.getChildIndex($ppt)},$ppi.changeScroll=function(){this._scrollChanged=!1;var $ppt=this.contentWidth||1;var $ppe=this.contentHeight||1;var $ppi=this._vScrollBar;var $ppn=this._hScrollBar;var $ppr=$ppi&&$ppe>this._height;var $pps=$ppn&&$ppt>this._width;var $ppa=$ppr?this._width-$ppi.width:this._width;var $ppo=$pps?this._height-$ppn.height:this._height;$ppi&&($ppi.x=this._width-$ppi.width,$ppi.y=0,$ppi.height=this._height-($pps?$ppn.height:0),$ppi.scrollSize=Math.max(.033*this._height,1),$ppi.thumbPercent=$ppo/$ppe,$ppi.setScroll(0,$ppe-$ppo,$ppi.value)),$ppn&&($ppn.x=0,$ppn.y=this._height-$ppn.height,$ppn.width=this._width-($ppr?$ppi.width:0),$ppn.scrollSize=Math.max(.033*this._width,1),$ppn.thumbPercent=$ppa/$ppt,$ppn.setScroll(0,$ppt-$ppa,$ppn.value))},$ppi.changeSize=function(){laya.ui.Component.prototype.changeSize.call(this),this.setContentSize(this._width,this._height)},$ppi.setContentSize=function($ppt,$ppe){var $ppi=this._content;$ppi.width=$ppt,$ppi.height=$ppe,$ppi.scrollRect||($ppi.scrollRect=new $ppw),$ppi.scrollRect.setTo(0,0,$ppt,$ppe),$ppi.scrollRect=$ppi.scrollRect},$ppi.onScrollBarChange=function($ppt){var $ppe=this._content.scrollRect;var $ppi;$ppe&&($ppi=Math.round($ppt.value),$ppt.isVertical?$ppe.y=$ppi:$ppe.x=$ppi,this._content.scrollRect=$ppe)},$ppi.scrollTo=function($ppt,$ppe){void 0===$ppt&&($ppt=0),void 0===$ppe&&($ppe=0),this.vScrollBar&&(this.vScrollBar.value=$ppe),this.hScrollBar&&(this.hScrollBar.value=$ppt)},$ppi.refresh=function(){this.changeScroll()},$ppi.onScrollStart=function(){this._$P.cacheAs||(this._$P.cacheAs=$ppf.superGet($ppd,this,"cacheAs")),$ppf.superSet($ppd,this,"cacheAs","none"),this._hScrollBar&&this._hScrollBar.once("end",this,this.onScrollEnd),this._vScrollBar&&this._vScrollBar.once("end",this,this.onScrollEnd)},$ppi.onScrollEnd=function(){$ppf.superSet($ppd,this,"cacheAs",this._$P.cacheAs)},$ppi._setScrollChanged=function(){this._scrollChanged||(this._scrollChanged=!0,this.callLater(this.changeScroll))},$ppt(0,$ppi,"numChildren",function(){return this._content.numChildren}),$ppt(0,$ppi,"hScrollBarSkin",function(){return this._hScrollBar?this._hScrollBar.skin:null},function($ppt){null==this._hScrollBar&&(laya.display.Node.prototype.addChild.call(this,this._hScrollBar=new $ppPt),this._hScrollBar.on("change",this,this.onScrollBarChange,[this._hScrollBar]),this._hScrollBar.target=this._content,this._setScrollChanged()),this._hScrollBar.skin=$ppt}),$ppt(0,$ppi,"contentWidth",function(){var $ppt=0;for(var $ppe=this._content.numChildren-1;-1<$ppe;$ppe--){var $ppi=this._content.getChildAt($ppe);$ppt=Math.max($ppi.x+$ppi.width*$ppi.scaleX,$ppt)}return $ppt}),$ppt(0,$ppi,"contentHeight",function(){var $ppt=0;for(var $ppe=this._content.numChildren-1;-1<$ppe;$ppe--){var $ppi=this._content.getChildAt($ppe);$ppt=Math.max($ppi.y+$ppi.height*$ppi.scaleY,$ppt)}return $ppt}),$ppt(0,$ppi,"width",$ppa.prototype._$get_width,function($ppt){$ppf.superSet($ppd,this,"width",$ppt),this._setScrollChanged()}),$ppt(0,$ppi,"hScrollBar",function(){return this._hScrollBar}),$ppt(0,$ppi,"content",function(){return this._content}),$ppt(0,$ppi,"height",$ppa.prototype._$get_height,function($ppt){$ppf.superSet($ppd,this,"height",$ppt),this._setScrollChanged()}),$ppt(0,$ppi,"vScrollBarSkin",function(){return this._vScrollBar?this._vScrollBar.skin:null},function($ppt){null==this._vScrollBar&&(laya.display.Node.prototype.addChild.call(this,this._vScrollBar=new $ppjt),this._vScrollBar.on("change",this,this.onScrollBarChange,[this._vScrollBar]),this._vScrollBar.target=this._content,this._setScrollChanged()),this._vScrollBar.skin=$ppt}),$ppt(0,$ppi,"vScrollBar",function(){return this._vScrollBar}),$ppt(0,$ppi,"cacheAs",$ppa.prototype._$get_cacheAs,function($ppt){$ppf.superSet($ppd,this,"cacheAs",$ppt),this._$P.cacheAs=null,"none"!==$ppt?(this._hScrollBar&&this._hScrollBar.on("start",this,this.onScrollStart),this._vScrollBar&&this._vScrollBar.on("start",this,this.onScrollStart)):(this._hScrollBar&&this._hScrollBar.off("start",this,this.onScrollStart),this._vScrollBar&&this._vScrollBar.off("start",this,this.onScrollStart))});var $ppNt=$ppOt;function $ppOt(){this._content=null,this._vScrollBar=null,this._hScrollBar=null,this._scrollChanged=!1,$ppOt.__super.call(this),this.width=this.height=100}$ppe($ppVt,"laya.ui.HSlider",$ppot);var $ppFt=$ppVt;function $ppVt($ppt){$ppVt.__super.call(this,$ppt),this.isVertical=!1}$ppe($ppkt,"laya.ui.UIGroup",$pps=$ppd),$ppi=$ppkt.prototype,$ppf.imps($ppi,{"laya.ui.IItem":!0}),$ppi.preinitialize=function(){this.mouseEnabled=!0},$ppi.destroy=function($ppt){void 0===$ppt&&($ppt=!0),laya.ui.Component.prototype.destroy.call(this,$ppt),this._items&&(this._items.length=0),this._items=null,this.selectHandler=null},$ppi.addItem=function($ppt,$ppe){void 0===$ppe&&($ppe=!0);var $ppi=this._items.length;var $ppn;return $ppt.name="item"+$ppi,this.addChild($ppt),this.initItems(),$ppe&&0<$ppi?($ppn=this._items[$ppi-1],"horizontal"==this._direction?$ppt.x=$ppn.x+$ppn.width+this._space:$ppt.y=$ppn.y+$ppn.height+this._space):$ppe&&($ppt.x=0,$ppt.y=0),$ppi},$ppi.delItem=function($ppt,$ppe){void 0===$ppe&&($ppe=!0);var $ppi=this._items.indexOf($ppt);if(-1!=$ppi){var $ppn=$ppt;this.removeChild($ppn);for(var $ppr=$ppi+1,$pps=this._items.length;$ppr<$pps;$ppr++){var $ppa=this._items[$ppr];$ppa.name="item"+($ppr-1),$ppe&&("horizontal"==this._direction?$ppa.x-=$ppn.width+this._space:$ppa.y-=$ppn.height+this._space)}this.initItems(),-1<this._selectedIndex&&($ppt=0,$ppt=this._selectedIndex<this._items.length?this._selectedIndex:this._selectedIndex-1,this._selectedIndex=-1,this.selectedIndex=$ppt)}},$ppi.initItems=function(){this._items||(this._items=[]);for(var $ppt=this._items.length=0;$ppt<1e4;$ppt++){var $ppe=this.getChildByName("item"+$ppt);if(null==$ppe)break;this._items.push($ppe),$ppe.selected=$ppt===this._selectedIndex,$ppe.clickHandler=$ppv.create(this,this.itemClick,[$ppt],!1)}},$ppi.itemClick=function($ppt){this.selectedIndex=$ppt},$ppi.setSelect=function($ppt,$ppe){this._items&&-1<$ppt&&$ppt<this._items.length&&(this._items[$ppt].selected=$ppe)},$ppi.createItem=function($ppt,$ppe){return null},$ppi.changeLabels=function(){if(this._labelChanged=!1,this._items){var $ppt=0;for(var $ppe=0,$ppi=this._items.length;$ppe<$ppi;$ppe++){var $ppn=this._items[$ppe];this._skin&&($ppn.skin=this._skin),this._labelColors&&($ppn.labelColors=this._labelColors),this._labelSize&&($ppn.labelSize=this._labelSize),this._labelStroke&&($ppn.labelStroke=this._labelStroke),this._labelStrokeColor&&($ppn.labelStrokeColor=this._labelStrokeColor),this._strokeColors&&($ppn.strokeColors=this._strokeColors),this._labelBold&&($ppn.labelBold=this._labelBold),this._labelPadding&&($ppn.labelPadding=this._labelPadding),this._labelAlign&&($ppn.labelAlign=this._labelAlign),this._stateNum&&($ppn.stateNum=this._stateNum),this._labelFont&&($ppn.labelFont=this._labelFont),"horizontal"===this._direction?($ppn.y=0,$ppn.x=$ppt,$ppt+=$ppn.width+this._space):($ppn.x=0,$ppn.y=$ppt,$ppt+=$ppn.height+this._space)}}this.changeSize()},$ppi.commitMeasure=function(){this.runCallLater(this.changeLabels)},$ppi._setLabelChanged=function(){this._labelChanged||(this._labelChanged=!0,this.callLater(this.changeLabels))},$ppt(0,$ppi,"labelStrokeColor",function(){return this._labelStrokeColor},function($ppt){this._labelStrokeColor!=$ppt&&(this._labelStrokeColor=$ppt,this._setLabelChanged())}),$ppt(0,$ppi,"skin",function(){return this._skin},function($ppt){this._skin!=$ppt&&(this._skin=$ppt,this._setLabelChanged())}),$ppt(0,$ppi,"selectedIndex",function(){return this._selectedIndex},function($ppt){this._selectedIndex!=$ppt&&(this.setSelect(this._selectedIndex,!1),this._selectedIndex=$ppt,this.setSelect($ppt,!0),this.event("change"),this.selectHandler&&this.selectHandler.runWith(this._selectedIndex))}),$ppt(0,$ppi,"labels",function(){return this._labels},function($ppt){if(this._labels!=$ppt){if(this._labels=$ppt,this.removeChildren(),this._setLabelChanged(),this._labels){var $ppe=this._labels.split(",");for(var $ppi=0,$ppn=$ppe.length;$ppi<$ppn;$ppi++){var $ppr=this.createItem(this._skin,$ppe[$ppi]);$ppr.name="item"+$ppi,this.addChild($ppr)}}this.initItems()}}),$ppt(0,$ppi,"strokeColors",function(){return this._strokeColors},function($ppt){this._strokeColors!=$ppt&&(this._strokeColors=$ppt,this._setLabelChanged())}),$ppt(0,$ppi,"labelColors",function(){return this._labelColors},function($ppt){this._labelColors!=$ppt&&(this._labelColors=$ppt,this._setLabelChanged())}),$ppt(0,$ppi,"labelStroke",function(){return this._labelStroke},function($ppt){this._labelStroke!=$ppt&&(this._labelStroke=$ppt,this._setLabelChanged())}),$ppt(0,$ppi,"labelSize",function(){return this._labelSize},function($ppt){this._labelSize!=$ppt&&(this._labelSize=$ppt,this._setLabelChanged())}),$ppt(0,$ppi,"stateNum",function(){return this._stateNum},function($ppt){this._stateNum!=$ppt&&(this._stateNum=$ppt,this._setLabelChanged())}),$ppt(0,$ppi,"labelBold",function(){return this._labelBold},function($ppt){this._labelBold!=$ppt&&(this._labelBold=$ppt,this._setLabelChanged())}),$ppt(0,$ppi,"labelFont",function(){return this._labelFont},function($ppt){this._labelFont!=$ppt&&(this._labelFont=$ppt,this._setLabelChanged())}),$ppt(0,$ppi,"labelPadding",function(){return this._labelPadding},function($ppt){this._labelPadding!=$ppt&&(this._labelPadding=$ppt,this._setLabelChanged())}),$ppt(0,$ppi,"direction",function(){return this._direction},function($ppt){this._direction=$ppt,this._setLabelChanged()}),$ppt(0,$ppi,"space",function(){return this._space},function($ppt){this._space=$ppt,this._setLabelChanged()}),$ppt(0,$ppi,"items",function(){return this._items}),$ppt(0,$ppi,"selection",function(){return-1<this._selectedIndex&&this._selectedIndex<this._items.length?this._items[this._selectedIndex]:null},function($ppt){this.selectedIndex=this._items.indexOf($ppt)}),$ppt(0,$ppi,"dataSource",$pps.prototype._$get_dataSource,function($ppt){"number"==typeof(this._dataSource=$ppt)&&Math.floor($ppt)==$ppt||"string"==typeof $ppt?this.selectedIndex=parseInt($ppt):$ppt instanceof Array?this.labels=$ppt.join(","):$ppf.superSet($ppd,this,"dataSource",$ppt)});$ppa=$ppkt;function $ppkt($ppt,$ppe){this.selectHandler=null,this._items=null,this._selectedIndex=-1,this._skin=null,this._direction="horizontal",this._space=0,this._labels=null,this._labelColors=null,this._labelFont=null,this._labelStrokeColor=null,this._strokeColors=null,this._labelStroke=NaN,this._labelSize=0,this._labelBold=!1,this._labelPadding=null,this._labelAlign=null,this._stateNum=0,this._labelChanged=!1,$ppkt.__super.call(this),this.skin=$ppe,this.labels=$ppt}$ppe($ppHt,"laya.ui.Radio",$ppzt=$ppX),($ppi=$ppHt.prototype).destroy=function($ppt){$ppzt.prototype.destroy.call(this,$ppt=void 0===$ppt?!0:$ppt),this._value=null},$ppi.preinitialize=function(){laya.ui.Component.prototype.preinitialize.call(this),this.toggle=!1,this._autoSize=!1},$ppi.initialize=function(){$ppzt.prototype.initialize.call(this),this.createText(),this._text.align="left",this._text.valign="top",this._text.width=0,this.on("click",this,this.onClick)},$ppi.onClick=function($ppt){this.selected=!0},$ppt(0,$ppi,"value",function(){return null!=this._value?this._value:this.label},function($ppt){this._value=$ppt});var $ppUt=$ppHt;function $ppHt($ppt,$ppe){this._value=null,$ppHt.__super.call(this,$ppt,$ppe=void 0===$ppe?"":$ppe)}var $ppzt;$ppe($ppGt,"laya.ui.Tree",$pps=$ppd),$ppi=$ppGt.prototype,$ppf.imps($ppi,{"laya.ui.IRender":!0}),$ppi.destroy=function($ppt){void 0===$ppt&&($ppt=!0),laya.ui.Component.prototype.destroy.call(this,$ppt),this._list&&this._list.destroy($ppt),this._list=null,this._source=null,this._renderHandler=null},$ppi.createChildren=function(){this.addChild(this._list=new $ppIt),this._list.renderHandler=$ppv.create(this,this.renderItem,null,!1),this._list.repeatX=1,this._list.on("change",this,this.onListChange)},$ppi.onListChange=function($ppt){this.event("change")},$ppi.getArray=function(){var $ppt=[];for(var $ppe in this._source)$ppe=this._source[$ppe],this.getParentOpenStatus($ppe)&&($ppe.x=this._spaceLeft*this.getDepth($ppe),$ppt.push($ppe));return $ppt},$ppi.getDepth=function($ppt,$ppe){return void 0===$ppe&&($ppe=0),null==$ppt.nodeParent?$ppe:this.getDepth($ppt.nodeParent,$ppe+1)},$ppi.getParentOpenStatus=function($ppt){$ppt=$ppt.nodeParent;return null==$ppt||!!$ppt.isOpen&&(null==$ppt.nodeParent||this.getParentOpenStatus($ppt))},$ppi.renderItem=function($ppt,$ppe){var $ppi=$ppt.dataSource;var $ppn;$ppi&&($ppt.left=$ppi.x,($ppn=$ppt.getChildByName("arrow"))&&($ppi.hasChild?($ppn.visible=!0,$ppn.index=$ppi.isOpen?1:0,$ppn.tag=$ppe,$ppn.off("click",this,this.onArrowClick),$ppn.on("click",this,this.onArrowClick)):$ppn.visible=!1),($ppn=$ppt.getChildByName("folder"))&&(2==$ppn.clipY?$ppn.index=$ppi.isDirectory?0:1:$ppn.index=$ppi.isDirectory?$ppi.isOpen?1:0:2),this._renderHandler&&this._renderHandler.runWith([$ppt,$ppe]))},$ppi.onArrowClick=function($ppt){$ppt=$ppt.currentTarget.tag;this._list.array[$ppt].isOpen=!this._list.array[$ppt].isOpen,this.event("open"),this._list.array=this.getArray()},$ppi.setItemState=function($ppt,$ppe){this._list.array[$ppt]&&(this._list.array[$ppt].isOpen=$ppe,this._list.array=this.getArray())},$ppi.fresh=function(){this._list.array=this.getArray(),this.repaint()},$ppi.parseXml=function($ppt,$ppe,$ppi,$ppn){var $ppr;var $pps=$ppt.childNodes;var $ppa=$pps.length;if(!$ppn){$ppr={};var $ppo=$ppt.attributes;for(var $pph in $ppo){var $ppc=($pph=$ppo[$pph]).nodeName;$pph=$pph.nodeValue;$ppr[$ppc]="true"==$pph||"false"!=$pph&&$pph}$ppr.nodeParent=$ppi,0<$ppa&&($ppr.isDirectory=!0),$ppr.hasChild=0<$ppa,$ppe.push($ppr)}for(var $ppl=0;$ppl<$ppa;$ppl++){var $ppu=$pps[$ppl];this.parseXml($ppu,$ppe,$ppr,!1)}},$ppi.parseOpenStatus=function($ppt,$ppe){for(var $ppi=0,$ppn=$ppe.length;$ppi<$ppn;$ppi++){var $ppr=$ppe[$ppi];if($ppr.isDirectory)for(var $pps=0,$ppa=$ppt.length;$pps<$ppa;$pps++){var $ppo=$ppt[$pps];if($ppo.isDirectory&&this.isSameParent($ppo,$ppr)&&$ppr.label==$ppo.label){$ppr.isOpen=$ppo.isOpen;break}}}},$ppi.isSameParent=function($ppt,$ppe){return null==$ppt.nodeParent&&null==$ppe.nodeParent||null!=$ppt.nodeParent&&null!=$ppe.nodeParent&&($ppt.nodeParent.label==$ppe.nodeParent.label&&this.isSameParent($ppt.nodeParent,$ppe.nodeParent))},$ppi.filter=function($ppt){var $ppe;Boolean($ppt)?(this.getFilterSource(this._source,$ppe=[],$ppt),this._list.array=$ppe):this._list.array=this.getArray()},$ppi.getFilterSource=function($ppt,$ppe,$ppi){for(var $ppn in $ppi=$ppi.toLocaleLowerCase(),$ppt)!($ppn=$ppt[$ppn]).isDirectory&&-1<String($ppn.label).toLowerCase().indexOf($ppi)&&($ppn.x=0,$ppe.push($ppn)),$ppn.child&&0<$ppn.child.length&&this.getFilterSource($ppn.child,$ppe,$ppi)},$ppt(0,$ppi,"spaceBottom",function(){return this._list.spaceY},function($ppt){this._list.spaceY=$ppt}),$ppt(0,$ppi,"keepStatus",function(){return this._keepStatus},function($ppt){this._keepStatus=$ppt}),$ppt(0,$ppi,"itemRender",function(){return this._list.itemRender},function($ppt){this._list.itemRender=$ppt}),$ppt(0,$ppi,"array",function(){return this._list.array},function($ppt){this._keepStatus&&this._list.array&&$ppt&&this.parseOpenStatus(this._list.array,$ppt),this._source=$ppt,this._list.array=this.getArray()}),$ppt(0,$ppi,"mouseHandler",function(){return this._list.mouseHandler},function($ppt){this._list.mouseHandler=$ppt}),$ppt(0,$ppi,"dataSource",$pps.prototype._$get_dataSource,function($ppt){this._dataSource=$ppt,$ppf.superSet($ppd,this,"dataSource",$ppt)}),$ppt(0,$ppi,"source",function(){return this._source}),$ppt(0,$ppi,"scrollBar",function(){return this._list.scrollBar}),$ppt(0,$ppi,"list",function(){return this._list}),$ppt(0,$ppi,"scrollBarSkin",function(){return this._list.vScrollBarSkin},function($ppt){this._list.vScrollBarSkin=$ppt}),$ppt(0,$ppi,"renderHandler",function(){return this._renderHandler},function($ppt){this._renderHandler=$ppt}),$ppt(0,$ppi,"selectedIndex",function(){return this._list.selectedIndex},function($ppt){this._list.selectedIndex=$ppt}),$ppt(0,$ppi,"spaceLeft",function(){return this._spaceLeft},function($ppt){this._spaceLeft=$ppt}),$ppt(0,$ppi,"selectedItem",function(){return this._list.selectedItem},function($ppt){this._list.selectedItem=$ppt}),$ppt(0,$ppi,"width",$pps.prototype._$get_width,function($ppt){$ppf.superSet($ppd,this,"width",$ppt),this._list.width=$ppt}),$ppt(0,$ppi,"height",$pps.prototype._$get_height,function($ppt){$ppf.superSet($ppd,this,"height",$ppt),this._list.height=$ppt}),$ppt(0,$ppi,"xml",null,function($ppt){var $ppe=[];this.parseXml($ppt.childNodes[0],$ppe,null,!0),this.array=$ppe}),$ppt(0,$ppi,"selectedPath",function(){return this._list.selectedItem?this._list.selectedItem.path:null});var $ppWt=$ppGt;function $ppGt(){this._list=null,this._source=null,this._renderHandler=null,this._spaceLeft=10,this._spaceBottom=0,this._keepStatus=!0,$ppGt.__super.call(this),this.width=this.height=200}$ppe($ppXt,"laya.ui.ViewStack",$pps=$ppd),$ppi=$ppXt.prototype,$ppf.imps($ppi,{"laya.ui.IItem":!0}),$ppi.setItems=function($ppt){this.removeChildren();var $ppe=0;for(var $ppi=0,$ppn=$ppt.length;$ppi<$ppn;$ppi++){var $ppr=$ppt[$ppi];$ppr&&($ppr.name="item"+$ppe,this.addChild($ppr),$ppe++)}this.initItems()},$ppi.addItem=function($ppt){$ppt.name="item"+this._items.length,this.addChild($ppt),this.initItems()},$ppi.initItems=function(){this._items=[];for(var $ppt=0;$ppt<1e4;$ppt++){var $ppe=this.getChildByName("item"+$ppt);if(null==$ppe)break;this._items.push($ppe),$ppe.visible=$ppt==this._selectedIndex}},$ppi.setSelect=function($ppt,$ppe){this._items&&-1<$ppt&&$ppt<this._items.length&&(this._items[$ppt].visible=$ppe)},$ppi.setIndex=function($ppt){this.selectedIndex=$ppt},$ppt(0,$ppi,"dataSource",$pps.prototype._$get_dataSource,function($ppt){if("number"==typeof(this._dataSource=$ppt)&&Math.floor($ppt)==$ppt||"string"==typeof $ppt)this.selectedIndex=parseInt($ppt);else for(var $ppe in this._dataSource)this.hasOwnProperty($ppe)&&(this[$ppe]=this._dataSource[$ppe])}),$ppt(0,$ppi,"selectedIndex",function(){return this._selectedIndex},function($ppt){this._selectedIndex!=$ppt&&(this.setSelect(this._selectedIndex,!1),this._selectedIndex=$ppt,this.setSelect(this._selectedIndex,!0))}),$ppt(0,$ppi,"selection",function(){return-1<this._selectedIndex&&this._selectedIndex<this._items.length?this._items[this._selectedIndex]:null},function($ppt){this.selectedIndex=this._items.indexOf($ppt)}),$ppt(0,$ppi,"items",function(){return this._items}),$ppt(0,$ppi,"setIndexHandler",function(){return this._setIndexHandler},function($ppt){this._setIndexHandler=$ppt});var $ppYt=$ppXt;function $ppXt(){this._items=null,this._selectedIndex=0,$ppXt.__super.call(this),this._setIndexHandler=$ppv.create(this,this.setIndex,null,!1)}$ppe($ppKt,"laya.ui.VScrollBar",$pprt);var $ppjt=$ppKt;function $ppKt(){$ppKt.__super.call(this)}$ppe($pp$t,"laya.ui.TextInput",$ppZt=$ppdt),($pps=$pp$t.prototype).preinitialize=function(){this.mouseEnabled=!0},$pps.destroy=function($ppt){$ppp.clearCache(this,this._skin),$ppZt.prototype.destroy.call(this,$ppt=void 0===$ppt?!0:$ppt),this._bg&&this._bg.destroy(),this._bg=null},$pps.createChildren=function(){this.addChild(this._tf=new $ppy),this._tf.padding=$ppR.inputLabelPadding,this._tf.on("input",this,this._onInput),this._tf.on("enter",this,this._onEnter),this._tf.on("blur",this,this._onBlur),this._tf.on("focus",this,this._onFocus)},$pps._onFocus=function(){this.event("focus",this)},$pps._onBlur=function(){this.event("blur",this)},$pps._onInput=function(){this.event("input",this)},$pps._onEnter=function(){this.event("enter",this)},$pps.initialize=function(){this.width=128,this.height=22},$pps.select=function(){this._tf.select()},$pps.setSelection=function($ppt,$ppe){this._tf.setSelection($ppt,$ppe)},$ppt(0,$pps,"text",$ppZt.prototype._$get_text,function($ppt){this._tf.text!=$ppt&&(this._tf.text=$ppt+="",this.event("change"))}),$ppt(0,$pps,"bg",function(){return this._bg},function($ppt){this.graphics=this._bg=$ppt}),$ppt(0,$pps,"inputElementYAdjuster",function(){return this._tf.inputElementYAdjuster},function($ppt){this._tf.inputElementYAdjuster=$ppt}),$ppt(0,$pps,"multiline",function(){return this._tf.multiline},function($ppt){this._tf.multiline=$ppt}),$ppt(0,$pps,"skin",function(){return this._skin},function($ppt){this._skin!=$ppt&&($ppp.clearCache(this,this._skin),this._skin=$ppt,this._bg||(this.graphics=this._bg=new $ppF),$ppp.keepCache(this,this._skin),this._bg.source=$ppp.getRes(this._skin),this._width&&(this._bg.width=this._width),this._height&&(this._bg.height=this._height))}),$ppt(0,$pps,"sizeGrid",function(){return this._bg&&this._bg.sizeGrid?this._bg.sizeGrid.join(","):null},function($ppt){this._bg||(this.graphics=this._bg=new $ppF),this._bg.sizeGrid=$ppL.fillArray($ppR.defaultSizeGrid,$ppt,Number)}),$ppt(0,$pps,"inputElementXAdjuster",function(){return this._tf.inputElementXAdjuster},function($ppt){this._tf.inputElementXAdjuster=$ppt}),$ppt(0,$pps,"width",$ppZt.prototype._$get_width,function($ppt){$ppf.superSet($ppdt,this,"width",$ppt),this._bg&&(this._bg.width=$ppt)}),$ppt(0,$pps,"height",$ppZt.prototype._$get_height,function($ppt){$ppf.superSet($ppdt,this,"height",$ppt),this._bg&&(this._bg.height=$ppt)}),$ppt(0,$pps,"editable",function(){return this._tf.editable},function($ppt){this._tf.editable=$ppt}),$ppt(0,$pps,"restrict",function(){return this._tf.restrict},function($ppt){this._tf.restrict=$ppt}),$ppt(0,$pps,"prompt",function(){return this._tf.prompt},function($ppt){this._tf.prompt=$ppt}),$ppt(0,$pps,"promptColor",function(){return this._tf.promptColor},function($ppt){this._tf.promptColor=$ppt}),$ppt(0,$pps,"maxChars",function(){return this._tf.maxChars},function($ppt){this._tf.maxChars=$ppt}),$ppt(0,$pps,"focus",function(){return this._tf.focus},function($ppt){this._tf.focus=$ppt}),$ppt(0,$pps,"type",function(){return this._tf.type},function($ppt){this._tf.type=$ppt}),$ppt(0,$pps,"asPassword",function(){return this._tf.asPassword},function($ppt){this._tf.asPassword=$ppt});var $ppqt=$pp$t;function $pp$t($ppt){this._bg=null,this._skin=null,$pp$t.__super.call(this),this.text=$ppt=void 0===$ppt?"":$ppt,this.skin=this.skin}var $ppZt;$ppe($ppJt,"laya.ui.VSlider",$ppot);var $ppQt=$ppJt;function $ppJt(){$ppJt.__super.call(this)}$ppe($ppr,"laya.ui.Dialog",$ppi=$ppxt),($pps=$ppr.prototype).initialize=function(){this.popupEffect=$ppr.manager.popupEffectHandler,this.closeEffect=$ppr.manager.closeEffectHandler,this._dealDragArea(),this.on("click",this,this._onClick)},$pps._dealDragArea=function(){var $ppt=this.getChildByName("drag");$ppt&&(this.dragArea=$ppt.x+","+$ppt.y+","+$ppt.width+","+$ppt.height,$ppt.removeSelf())},$pps._onClick=function($ppt){var $ppe=$ppt.target;if($ppe)switch($ppe.name){case"close":case"cancel":case"sure":case"no":case"ok":case"yes":this.close($ppe.name)}},$pps.show=function($ppt,$ppe){this._open(!1,$ppt=void 0===$ppt?!1:$ppt,$ppe=void 0===$ppe?!0:$ppe)},$pps.popup=function($ppt,$ppe){this._open(!0,$ppt=void 0===$ppt?!1:$ppt,$ppe=void 0===$ppe?!0:$ppe)},$pps._open=function($ppt,$ppe,$ppi){$ppr.manager.lock(!1),this.isModal=$ppt,$ppr.manager.open(this,$ppe,$ppi)},$pps.onOpened=function(){},$pps.close=function($ppt,$ppe){$ppr.manager.close(this,$ppt,$ppe=void 0===$ppe?!0:$ppe)},$pps.onClosed=function($ppt){},$pps._onMouseDown=function($ppt){var $ppe=this.getMousePoint();this._dragArea.contains($ppe.x,$ppe.y)?this.startDrag():this.stopDrag()},$ppt(0,$pps,"dragArea",function(){return this._dragArea?this._dragArea.toString():null},function($ppt){$ppt?($ppt=$ppL.fillArray([0,0,0,0],$ppt,Number),this._dragArea=new $ppw($ppt[0],$ppt[1],$ppt[2],$ppt[3]),this.on("mousedown",this,this._onMouseDown)):(this._dragArea=null,this.off("mousedown",this,this._onMouseDown))}),$ppt(0,$pps,"isPopup",function(){return null!=this.parent}),$ppt(0,$pps,"zOrder",$ppi.prototype._$get_zOrder,function($ppt){$ppf.superSet($ppxt,this,"zOrder",$ppt),$ppr.manager._checkMask()}),$ppt(1,$ppr,"manager",function(){return $ppr._manager=$ppr._manager||new $ppW},function($ppt){$ppr._manager=$ppt}),$ppr.setLockView=function($ppt){$ppr.manager.setLockView($ppt)},$ppr.lock=function($ppt){$ppr.manager.lock($ppt)},$ppr.closeAll=function(){$ppr.manager.closeAll()},$ppr.getDialogsByGroup=function($ppt){return $ppr.manager.getDialogsByGroup($ppt)},$ppr.closeByGroup=function($ppt){return $ppr.manager.closeByGroup($ppt)},$ppr.CLOSE="close",$ppr.CANCEL="cancel",$ppr.SURE="sure",$ppr.NO="no",$ppr.OK="ok",$ppr.YES="yes",$ppr._manager=null;var $ppte=$ppr;function $ppr(){this.popupCenter=!0,this.closeHandler=null,this.popupEffect=null,this.closeEffect=null,this.group=null,this.isModal=!1,this._dragArea=null,$ppr.__super.call(this)}$ppe($ppie,"laya.ui.HBox",$pps=$ppCt),($ppi=$ppie.prototype).sortItem=function($ppt){$ppt&&$ppt.sort(function($ppt,$ppe){return $ppt.x-$ppe.x})},$ppi.changeItems=function(){this._itemChanged=!1;var $ppt=[];var $ppe=0;for(var $ppi=0,$ppn=this.numChildren;$ppi<$ppn;$ppi++){var $ppr=this.getChildAt($ppi);$ppr&&$ppr.layoutEnabled&&($ppt.push($ppr),$ppe=this._height||Math.max($ppe,$ppr.height*$ppr.scaleY))}this.sortItem($ppt);var $pps=0;for($ppi=0,$ppn=$ppt.length;$ppi<$ppn;$ppi++)($ppr=$ppt[$ppi]).x=$pps,$pps+=$ppr.width*$ppr.scaleX+this._space,"top"==this._align?$ppr.y=0:"middle"==this._align?$ppr.y=.5*($ppe-$ppr.height*$ppr.scaleY):"bottom"==this._align&&($ppr.y=$ppe-$ppr.height*$ppr.scaleY);this.changeSize()},$ppt(0,$ppi,"height",$pps.prototype._$get_height,function($ppt){this._height!=$ppt&&($ppf.superSet($ppCt,this,"height",$ppt),this.callLater(this.changeItems))}),$ppie.NONE="none",$ppie.TOP="top",$ppie.MIDDLE="middle",$ppie.BOTTOM="bottom";var $ppee=$ppie;function $ppie(){$ppie.__super.call(this)}$ppe($ppre,"laya.ui.VBox",$ppi=$ppCt),($pps=$ppre.prototype).changeItems=function(){this._itemChanged=!1;var $ppt=[];var $ppe=0;for(var $ppi=0,$ppn=this.numChildren;$ppi<$ppn;$ppi++){var $ppr=this.getChildAt($ppi);$ppr&&$ppr.layoutEnabled&&($ppt.push($ppr),$ppe=this._width||Math.max($ppe,$ppr.width*$ppr.scaleX))}this.sortItem($ppt);var $pps=0;for($ppi=0,$ppn=$ppt.length;$ppi<$ppn;$ppi++)($ppr=$ppt[$ppi]).y=$pps,$pps+=$ppr.height*$ppr.scaleY+this._space,"left"==this._align?$ppr.x=0:"center"==this._align?$ppr.x=.5*($ppe-$ppr.width*$ppr.scaleX):"right"==this._align&&($ppr.x=$ppe-$ppr.width*$ppr.scaleX);this.changeSize()},$ppt(0,$pps,"width",$ppi.prototype._$get_width,function($ppt){this._width!=$ppt&&($ppf.superSet($ppCt,this,"width",$ppt),this.callLater(this.changeItems))}),$ppre.NONE="none",$ppre.LEFT="left",$ppre.CENTER="center",$ppre.RIGHT="right";var $ppne=$ppre;function $ppre(){$ppre.__super.call(this)}$ppe($ppae,"laya.ui.RadioGroup",$ppa),$ppae.prototype.createItem=function($ppt,$ppe){return new $ppUt($ppt,$ppe)};var $ppse=$ppae;function $ppae(){$ppae.__super.call(this)}$ppe($pphe,"laya.ui.Tab",$ppa),$pphe.prototype.createItem=function($ppt,$ppe){return new $ppX($ppt,$ppe)};var $ppoe=$pphe;function $pphe(){$pphe.__super.call(this)}$ppe($ppce,"laya.ui.TextArea",$ppue=$ppqt),($pps=$ppce.prototype).destroy=function($ppt){$ppue.prototype.destroy.call(this,$ppt=void 0===$ppt?!0:$ppt),this._vScrollBar&&this._vScrollBar.destroy(),this._hScrollBar&&this._hScrollBar.destroy(),this._vScrollBar=null,this._hScrollBar=null},$pps.initialize=function(){this.width=180,this.height=150,this._tf.wordWrap=!0,this.multiline=!0},$pps.onVBarChanged=function($ppt){this._tf.scrollY!=this._vScrollBar.value&&(this._tf.scrollY=this._vScrollBar.value)},$pps.onHBarChanged=function($ppt){this._tf.scrollX!=this._hScrollBar.value&&(this._tf.scrollX=this._hScrollBar.value)},$pps.changeScroll=function(){var $ppt=this._vScrollBar&&0<this._tf.maxScrollY;var $ppe=this._hScrollBar&&0<this._tf.maxScrollX;var $ppi=$ppt?this._width-this._vScrollBar.width:this._width;var $ppn=$ppe?this._height-this._hScrollBar.height:this._height;var $ppr=this._tf.padding||$ppR.labelPadding;this._tf.width=$ppi,this._tf.height=$ppn,this._vScrollBar&&(this._vScrollBar.x=this._width-this._vScrollBar.width-$ppr[2],this._vScrollBar.y=$ppr[1],this._vScrollBar.height=this._height-($ppe?this._hScrollBar.height:0)-$ppr[1]-$ppr[3],this._vScrollBar.scrollSize=1,this._vScrollBar.thumbPercent=$ppn/Math.max(this._tf.textHeight,$ppn),this._vScrollBar.setScroll(1,this._tf.maxScrollY,this._tf.scrollY),this._vScrollBar.visible=$ppt),this._hScrollBar&&(this._hScrollBar.x=$ppr[0],this._hScrollBar.y=this._height-this._hScrollBar.height-$ppr[3],this._hScrollBar.width=this._width-($ppt?this._vScrollBar.width:0)-$ppr[0]-$ppr[2],this._hScrollBar.scrollSize=Math.max(.033*$ppi,1),this._hScrollBar.thumbPercent=$ppi/Math.max(this._tf.textWidth,$ppi),this._hScrollBar.setScroll(0,this.maxScrollX,this.scrollX),this._hScrollBar.visible=$ppe)},$pps.scrollTo=function($ppt){this.commitMeasure(),this._tf.scrollY=$ppt},$ppt(0,$pps,"scrollY",function(){return this._tf.scrollY}),$ppt(0,$pps,"width",$ppue.prototype._$get_width,function($ppt){$ppf.superSet($ppqt,this,"width",$ppt),this.callLater(this.changeScroll)}),$ppt(0,$pps,"hScrollBar",function(){return this._hScrollBar}),$ppt(0,$pps,"height",$ppue.prototype._$get_height,function($ppt){$ppf.superSet($ppqt,this,"height",$ppt),this.callLater(this.changeScroll)}),$ppt(0,$pps,"maxScrollX",function(){return this._tf.maxScrollX}),$ppt(0,$pps,"vScrollBarSkin",function(){return this._vScrollBar?this._vScrollBar.skin:null},function($ppt){null==this._vScrollBar&&(this.addChild(this._vScrollBar=new $ppjt),this._vScrollBar.on("change",this,this.onVBarChanged),this._vScrollBar.target=this._tf,this.callLater(this.changeScroll)),this._vScrollBar.skin=$ppt}),$ppt(0,$pps,"hScrollBarSkin",function(){return this._hScrollBar?this._hScrollBar.skin:null},function($ppt){null==this._hScrollBar&&(this.addChild(this._hScrollBar=new $ppPt),this._hScrollBar.on("change",this,this.onHBarChanged),this._hScrollBar.mouseWheelEnable=!1,this._hScrollBar.target=this._tf,this.callLater(this.changeScroll)),this._hScrollBar.skin=$ppt}),$ppt(0,$pps,"vScrollBar",function(){return this._vScrollBar}),$ppt(0,$pps,"maxScrollY",function(){return this._tf.maxScrollY}),$ppt(0,$pps,"scrollX",function(){return this._tf.scrollX});var $pple=$ppce;function $ppce($ppt){this._vScrollBar=null,this._hScrollBar=null,$ppce.__super.call(this,$ppt=void 0===$ppt?"":$ppt)}var $ppue,$pps;$ppe($pp_e,"laya.ui.AsynDialog",$ppte),($ppi=$pp_e.prototype).createView=function($ppt){this._uiView=$ppt},$ppi._open=function($ppt,$ppe,$ppi){this.isModal=$ppt,this.isCloseOther=$ppe,$ppte.manager.lock(!0),this._uiView?this.onCreated():this.onOpen()},$ppi.onCreated=function(){this.createUI(),this.onOpen()},$ppi.createUI=function(){laya.ui.View.prototype.createView.call(this,this._uiView),this._uiView=null,this._dealDragArea()},$ppi.onOpen=function(){$ppte.manager.open(this,this.isCloseOther),$ppte.manager.lock(!1)},$ppi.close=function($ppt,$ppe){void 0===$ppe&&($ppe=!0),$ppte.manager.close(this),this.onClose()},$ppi.onClose=function(){},$ppi.destroy=function($ppt){void 0===$ppt&&($ppt=!0),laya.ui.View.prototype.destroy.call(this,$ppt),this._uiView=null,this.onDestroy()},$ppi.onDestroy=function(){};function $pp_e(){this._uiView=null,this.isCloseOther=!1,$pp_e.__super.call(this)}$ppf.__init([$ppxt])}((window,document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function($ppt,$ppe){"use strict";for(var $ppi in Object.defineProperty($ppe,"__esModule",{value:!0}),Laya){var $ppn=Laya[$ppi];$ppn&&$ppn.__isclass&&($ppe[$ppi]=$ppn)}}),function(){"use strict";var $ppx=void 0,$pps=this;function $ppa($ppt,$ppe){var $ppi=$ppt.split("."),$ppn=$pps;$ppi[0]in $ppn||!$ppn.execScript||$ppn.execScript("var "+$ppi[0]);for(var $ppr;$ppi.length&&($ppr=$ppi.shift());)$ppi.length||$ppe===$ppx?$ppn=$ppn[$ppr]||($ppn[$ppr]={}):$ppn[$ppr]=$ppe}var $ppw="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function $ppb($ppt){var $ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppc,$ppo,$pph,$ppu,$pp_=$ppt.length,$ppl=0,$ppd=Number.POSITIVE_INFINITY;for($ppo=0;$ppo<$pp_;++$ppo)$ppt[$ppo]>$ppl&&($ppl=$ppt[$ppo]),$ppt[$ppo]<$ppd&&($ppd=$ppt[$ppo]);for($ppe=1<<$ppl,$ppi=new($ppw?Uint32Array:Array)($ppe),$ppn=1,$ppr=0,$pps=2;$ppn<=$ppl;){for($ppo=0;$ppo<$pp_;++$ppo)if($ppt[$ppo]===$ppn){for($ppc=$ppr,$pph=$ppa=0;$pph<$ppn;++$pph)$ppa=$ppa<<1|1&$ppc,$ppc>>=1;for($ppu=$ppn<<16|$ppo,$pph=$ppa;$pph<$ppe;$pph+=$pps)$ppi[$pph]=$ppu;++$ppr}++$ppn,$ppr<<=1,$pps<<=1}return[$ppi,$ppl,$ppd]}function $ppr($ppt,$ppe){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=$ppw?new Uint8Array($ppt):$ppt,this.m=!1,this.i=$ppM,this.r=!1,$ppe?($ppe.index&&(this.a=$ppe.index),$ppe.bufferSize&&(this.h=$ppe.bufferSize),$ppe.bufferType&&(this.i=$ppe.bufferType),$ppe.resize&&(this.r=$ppe.resize)):$ppe={},this.i){case $ppC:this.b=32768,this.c=new($ppw?Uint8Array:Array)(32768+this.h+258);break;case $ppM:this.b=0,this.c=new($ppw?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var $ppC=0,$ppM=1,$ppo=$ppC,$pph=$ppM;$ppr.prototype.k=function(){for(;!this.m;){var $ppc=$ppT(this,3);switch(1&$ppc&&(this.m=!0),$ppc>>>=1){case 0:var $ppt=this.input,$ppe=this.a,$ppi=this.c,$ppn=this.b,$ppr=$ppt.length,$pps=$ppx,$ppu=$ppi.length,$ppa=$ppx;if(this.d=this.f=0,$ppr<=$ppe+1)throw Error("invalid uncompressed block header: LEN");if($pps=$ppt[$ppe++]|$ppt[$ppe++]<<8,$ppr<=$ppe+1)throw Error("invalid uncompressed block header: NLEN");if($pps===~($ppt[$ppe++]|$ppt[$ppe++]<<8))throw Error("invalid uncompressed block header: length verify");if($ppe+$pps>$ppt.length)throw Error("input buffer is broken");switch(this.i){case $ppC:for(;$ppn+$pps>$ppi.length;){if($pps-=$ppa=$ppu-$ppn,$ppw)$ppi.set($ppt.subarray($ppe,$ppe+$ppa),$ppn),$ppn+=$ppa,$ppe+=$ppa;else for(;$ppa--;)$ppi[$ppn++]=$ppt[$ppe++];this.b=$ppn,$ppi=this.e(),$ppn=this.b}break;case $ppM:for(;$ppn+$pps>$ppi.length;)$ppi=this.e({p:2});break;default:throw Error("invalid inflate mode")}if($ppw)$ppi.set($ppt.subarray($ppe,$ppe+$pps),$ppn),$ppn+=$pps,$ppe+=$pps;else for(;$pps--;)$ppi[$ppn++]=$ppt[$ppe++];this.a=$ppe,this.b=$ppn,this.c=$ppi;break;case 1:this.j($ppA,$ppD);break;case 2:for(var $pp_,$ppd,$ppf,$ppp,$ppr=$ppT(this,5)+257,$ppm=$ppT(this,5)+1,$ppg=$ppT(this,4)+4,$ppv=new($ppw?Uint8Array:Array)($ppE.length),$ppo=$ppx,$ppy=$ppx,$pph=$ppx,$ppl=$ppx,$ppl=0;$ppl<$ppg;++$ppl)$ppv[$ppE[$ppl]]=$ppT(this,3);if(!$ppw)for($ppl=$ppg,$ppg=$ppv.length;$ppl<$ppg;++$ppl)$ppv[$ppE[$ppl]]=0;for($pp_=$ppb($ppv),$ppo=new($ppw?Uint8Array:Array)($ppr+$ppm),$ppl=0,$ppp=$ppr+$ppm;$ppl<$ppp;)switch($ppf=$ppS(this,$pp_),$ppf){case 16:for($pph=3+$ppT(this,2);$pph--;)$ppo[$ppl++]=$ppy;break;case 17:for($pph=3+$ppT(this,3);$pph--;)$ppo[$ppl++]=0;$ppy=0;break;case 18:for($pph=11+$ppT(this,7);$pph--;)$ppo[$ppl++]=0;$ppy=0;break;default:$ppy=$ppo[$ppl++]=$ppf}$ppm=$ppb($ppw?$ppo.subarray(0,$ppr):$ppo.slice(0,$ppr)),$ppd=$ppb($ppw?$ppo.subarray($ppr):$ppo.slice($ppr)),this.j($ppm,$ppd);break;default:throw Error("unknown BTYPE: "+$ppc)}}return this.n()};var $ppt,$ppl,$ppe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$ppE=$ppw?new Uint16Array($ppe):$ppe,$ppe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],$ppc=$ppw?new Uint16Array($ppe):$ppe,$ppe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],$ppu=$ppw?new Uint8Array($ppe):$ppe,$ppe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],$pp_=$ppw?new Uint16Array($ppe):$ppe,$ppe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$ppd=$ppw?new Uint8Array($ppe):$ppe,$ppf=new($ppw?Uint8Array:Array)(288);for($ppt=0,$ppl=$ppf.length;$ppt<$ppl;++$ppt)$ppf[$ppt]=$ppt<=143?8:$ppt<=255?9:$ppt<=279?7:8;var $ppp,$ppm,$ppA=$ppb($ppf),$ppg=new($ppw?Uint8Array:Array)(30);for($ppp=0,$ppm=$ppg.length;$ppp<$ppm;++$ppp)$ppg[$ppp]=5;var $ppD=$ppb($ppg);function $ppT($ppt,$ppe){for(var $ppi,$ppn=$ppt.f,$ppr=$ppt.d,$pps=$ppt.input,$ppa=$ppt.a,$ppo=$pps.length;$ppr<$ppe;){if($ppo<=$ppa)throw Error("input buffer is broken");$ppn|=$pps[$ppa++]<<$ppr,$ppr+=8}return $ppi=$ppn&(1<<$ppe)-1,$ppt.f=$ppn>>>$ppe,$ppt.d=$ppr-$ppe,$ppt.a=$ppa,$ppi}function $ppS($ppt,$ppe){for(var $ppi=$ppt.f,$ppn=$ppt.d,$ppr=$ppt.input,$pps=$ppt.a,$ppa=$ppr.length,$ppo=$ppe[0],$pph=$ppe[1];$ppn<$pph&&!($ppa<=$pps);)$ppi|=$ppr[$pps++]<<$ppn,$ppn+=8;if($ppn<($ppo=($ppe=$ppo[$ppi&(1<<$pph)-1])>>>16))throw Error("invalid code length: "+$ppo);return $ppt.f=$ppi>>$ppo,$ppt.d=$ppn-$ppo,$ppt.a=$pps,65535&$ppe}function $ppv($ppt,$ppe){var $ppi,$ppn;if(this.input=$ppt,this.a=0,$ppe?($ppe.index&&(this.a=$ppe.index),$ppe.verify&&(this.A=$ppe.verify)):$ppe={},$ppi=$ppt[this.a++],$ppn=$ppt[this.a++],(15&$ppi)!==$ppy)throw Error("unsupported compression method");if(this.method=$ppy,0!=(($ppi<<8)+$ppn)%31)throw Error("invalid fcheck flag:"+(($ppi<<8)+$ppn)%31);if(32&$ppn)throw Error("fdict flag is not supported");this.q=new $ppr($ppt,{index:this.a,bufferSize:$ppe.bufferSize,bufferType:$ppe.bufferType,resize:$ppe.resize})}$ppr.prototype.j=function($ppt,$ppe){var $ppi=this.c,$ppn=this.b;this.o=$ppt;for(var $ppr,$pps,$ppa,$ppo,$pph=$ppi.length-258;256!==($ppr=$ppS(this,$ppt));)if($ppr<256)$pph<=$ppn&&(this.b=$ppn,$ppi=this.e(),$ppn=this.b),$ppi[$ppn++]=$ppr;else for($ppo=$ppc[$pps=$ppr-257],0<$ppu[$pps]&&($ppo+=$ppT(this,$ppu[$pps])),$ppr=$ppS(this,$ppe),$ppa=$pp_[$ppr],0<$ppd[$ppr]&&($ppa+=$ppT(this,$ppd[$ppr])),$pph<=$ppn&&(this.b=$ppn,$ppi=this.e(),$ppn=this.b);$ppo--;)$ppi[$ppn]=$ppi[$ppn++-$ppa];for(;8<=this.d;)this.d-=8,this.a--;this.b=$ppn},$ppr.prototype.w=function($ppt,$ppe){var $ppi=this.c,$ppn=this.b;this.o=$ppt;for(var $ppr,$pps,$ppa,$ppo,$pph=$ppi.length;256!==($ppr=$ppS(this,$ppt));)if($ppr<256)$pph<=$ppn&&($pph=($ppi=this.e()).length),$ppi[$ppn++]=$ppr;else for($ppo=$ppc[$pps=$ppr-257],0<$ppu[$pps]&&($ppo+=$ppT(this,$ppu[$pps])),$ppr=$ppS(this,$ppe),$ppa=$pp_[$ppr],0<$ppd[$ppr]&&($ppa+=$ppT(this,$ppd[$ppr])),$pph<$ppn+$ppo&&($pph=($ppi=this.e()).length);$ppo--;)$ppi[$ppn]=$ppi[$ppn++-$ppa];for(;8<=this.d;)this.d-=8,this.a--;this.b=$ppn},$ppr.prototype.e=function(){var $ppt,$ppe,$ppi=new($ppw?Uint8Array:Array)(this.b-32768),$ppn=this.b-32768,$ppr=this.c;if($ppw)$ppi.set($ppr.subarray(32768,$ppi.length));else for($ppt=0,$ppe=$ppi.length;$ppt<$ppe;++$ppt)$ppi[$ppt]=$ppr[$ppt+32768];if(this.g.push($ppi),this.l+=$ppi.length,$ppw)$ppr.set($ppr.subarray($ppn,32768+$ppn));else for($ppt=0;$ppt<32768;++$ppt)$ppr[$ppt]=$ppr[$ppn+$ppt];return this.b=32768,$ppr},$ppr.prototype.z=function($ppt){var $ppe,$ppi=this.input.length/this.a+1|0,$ppn=this.input,$ppr=this.c;return $ppt&&("number"==typeof $ppt.p&&($ppi=$ppt.p),"number"==typeof $ppt.u&&($ppi+=$ppt.u)),$ppn=$ppi<2?($ppt=($ppn.length-this.a)/this.o[2]/2*258|0)<$ppr.length?$ppr.length+$ppt:$ppr.length<<1:$ppr.length*$ppi,$ppw?($ppe=new Uint8Array($ppn)).set($ppr):$ppe=$ppr,this.c=$ppe},$ppr.prototype.n=function(){var $ppt,$ppe,$ppi,$ppn,$ppr,$pps=0,$ppa=this.c,$ppo=this.g,$pph=new($ppw?Uint8Array:Array)(this.l+(this.b-32768));if(0===$ppo.length)return $ppw?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for($ppe=0,$ppi=$ppo.length;$ppe<$ppi;++$ppe)for($ppn=0,$ppr=($ppt=$ppo[$ppe]).length;$ppn<$ppr;++$ppn)$pph[$pps++]=$ppt[$ppn];for($ppe=32768,$ppi=this.b;$ppe<$ppi;++$ppe)$pph[$pps++]=$ppa[$ppe];return this.g=[],this.buffer=$pph},$ppr.prototype.v=function(){var $ppt,$ppe=this.b;return $ppw?this.r?($ppt=new Uint8Array($ppe)).set(this.c.subarray(0,$ppe)):$ppt=this.c.subarray(0,$ppe):(this.c.length>$ppe&&(this.c.length=$ppe),$ppt=this.c),this.buffer=$ppt},$ppv.prototype.k=function(){var $ppt,$ppe=this.input;if($ppt=this.q.k(),this.a=this.q.a,this.A){$ppe=($ppe[this.a++]<<24|$ppe[this.a++]<<16|$ppe[this.a++]<<8|$ppe[this.a++])>>>0;var $ppi=$ppt;if("string"==typeof $ppi){var $ppn,$ppr,$pps=$ppi.split("");for($ppn=0,$ppr=$pps.length;$ppn<$ppr;$ppn++)$pps[$ppn]=(255&$pps[$ppn].charCodeAt(0))>>>0;$ppi=$pps}for(var $ppa,$ppo=1,$pph=0,$ppl=$ppi.length,$ppc=0;0<$ppl;){for($ppl-=$ppa=1024<$ppl?1024:$ppl;$pph+=$ppo+=$ppi[$ppc++],--$ppa;);$ppo%=65521,$pph%=65521}if($ppe!=($pph<<16|$ppo)>>>0)throw Error("invalid adler-32 checksum")}return $ppt};var $ppy=8;$ppa("Zlib.Inflate",$ppv),$ppa("Zlib.Inflate.prototype.decompress",$ppv.prototype.k);var $ppi,$ppI,$ppn,$ppR,$ppP={ADAPTIVE:$pph,BLOCK:$ppo};if(Object.keys)$ppi=Object.keys($ppP);else for($ppI in $ppi=[],$ppn=0,$ppP)$ppi[$ppn++]=$ppI;for($ppn=0,$ppR=$ppi.length;$ppn<$ppR;++$ppn)$ppa("Zlib.Inflate.BufferType."+($ppI=$ppi[$ppn]),$ppP[$ppI])}.call(this),function($ppt){"object"==typeof exports&&"undefined"!=typeof module?module.exports=$ppt():"function"==typeof define&&define.amd?define([],$ppt):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).msgpack=$ppt()}(function(){return function $ppn($ppr,$pps,$ppa){function $ppo($ppi,$ppt){if(!$pps[$ppi]){if(!$ppr[$ppi]){var $ppe="function"==typeof require&&require;if(!$ppt&&$ppe)return $ppe($ppi,!0);if($pph)return $pph($ppi,!0);$ppt=new Error("Cannot find module '"+$ppi+"'");throw $ppt.code="MODULE_NOT_FOUND",$ppt}$ppe=$pps[$ppi]={exports:{}};$ppr[$ppi][0].call($ppe.exports,function($ppt){var $ppe=$ppr[$ppi][1][$ppt];return $ppo($ppe||$ppt)},$ppe,$ppe.exports,$ppn,$ppr,$pps,$ppa)}return $pps[$ppi].exports}for(var $pph="function"==typeof require&&require,$ppt=0;$ppt<$ppa.length;$ppt++)$ppo($ppa[$ppt]);return $ppo}({1:[function($ppt,$ppe,$ppi){$ppi.encode=$ppt("./encode").encode,$ppi.decode=$ppt("./decode").decode,$ppi.Encoder=$ppt("./encoder").Encoder,$ppi.Decoder=$ppt("./decoder").Decoder,$ppi.createCodec=$ppt("./ext").createCodec,$ppi.codec=$ppt("./codec").codec},{"./codec":10,"./decode":12,"./decoder":13,"./encode":15,"./encoder":16,"./ext":20}],2:[function($ppt,$ppi,$ppe){!function($ppt){function $ppe($ppt){return $ppt&&$ppt.isBuffer&&$ppt}$ppi.exports=$ppe(void 0!==$ppt&&$ppt)||$ppe(this.Buffer)||$ppe("undefined"!=typeof window&&window.Buffer)||this.Buffer}.call(this,$ppt("buffer").Buffer)},{buffer:29}],3:[function($ppt,$ppe,$ppi){$ppi.copy=function($ppt,$ppe,$ppi,$ppn){var $ppr;$ppe=$ppe||0;var $pps=($ppn=$ppn||0===$ppn?$ppn:this.length)-($ppi=$ppi||0);if($ppt===this&&$ppi<$ppe&&$ppe<$ppn)for($ppr=$pps-1;0<=$ppr;$ppr--)$ppt[$ppr+$ppe]=this[$ppr+$ppi];else for($ppr=0;$ppr<$pps;$ppr++)$ppt[$ppr+$ppe]=this[$ppr+$ppi];return $pps},$ppi.toString=function($ppt,$ppe,$ppi){var $ppn=0|$ppe;$ppi=$ppi||this.length;for(var $ppr="",$pps=0;$ppn<$ppi;)($pps=this[$ppn++])<128?$ppr+=String.fromCharCode($pps):(192==(224&$pps)?$pps=(31&$pps)<<6|63&this[$ppn++]:224==(240&$pps)?$pps=(15&$pps)<<12|(63&this[$ppn++])<<6|63&this[$ppn++]:240==(248&$pps)&&($pps=(7&$pps)<<18|(63&this[$ppn++])<<12|(63&this[$ppn++])<<6|63&this[$ppn++]),65536<=$pps?($pps-=65536,$ppr+=String.fromCharCode(55296+($pps>>>10),56320+(1023&$pps))):$ppr+=String.fromCharCode($pps));return $ppr},$ppi.write=function($ppt,$ppe){for(var $ppi=$ppe||($ppe|=0),$ppn=$ppt.length,$ppr=0,$pps=0;$pps<$ppn;)($ppr=$ppt.charCodeAt($pps++))<128?this[$ppi++]=$ppr:($ppr<2048?this[$ppi++]=192|$ppr>>>6:($ppr<55296||57343<$ppr?this[$ppi++]=224|$ppr>>>12:($ppr=65536+($ppr-55296<<10|$ppt.charCodeAt($pps++)-56320),this[$ppi++]=240|$ppr>>>18,this[$ppi++]=128|$ppr>>>12&63),this[$ppi++]=128|$ppr>>>6&63),this[$ppi++]=128|63&$ppr);return $ppi-$ppe}},{}],4:[function($ppt,$ppe,$ppi){function $ppn($ppt){return new Array($ppt)}var $ppr=$ppt("./bufferish");($ppi=$ppe.exports=$ppn(0)).alloc=$ppn,$ppi.concat=$ppr.concat,$ppi.from=function($ppt){if(!$ppr.isBuffer($ppt)&&$ppr.isView($ppt))$ppt=$ppr.Uint8Array.from($ppt);else if($ppr.isArrayBuffer($ppt))$ppt=new Uint8Array($ppt);else{if("string"==typeof $ppt)return $ppr.from.call($ppi,$ppt);if("number"==typeof $ppt)throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call($ppt)}},{"./bufferish":8}],5:[function($ppt,$ppe,$ppi){function $ppn($ppt){return new $pps($ppt)}var $ppr=$ppt("./bufferish"),$pps=$ppr.global;($ppi=$ppe.exports=$ppr.hasBuffer?$ppn(0):[]).alloc=$ppr.hasBuffer&&$pps.alloc||$ppn,$ppi.concat=$ppr.concat,$ppi.from=function($ppt){if(!$ppr.isBuffer($ppt)&&$ppr.isView($ppt))$ppt=$ppr.Uint8Array.from($ppt);else if($ppr.isArrayBuffer($ppt))$ppt=new Uint8Array($ppt);else{if("string"==typeof $ppt)return $ppr.from.call($ppi,$ppt);if("number"==typeof $ppt)throw new TypeError('"value" argument must not be a number')}return $pps.from&&1!==$pps.from.length?$pps.from($ppt):new $pps($ppt)}},{"./bufferish":8}],6:[function($ppt,$pps,$ppe){function $ppn($ppt,$ppe,$ppi,$ppn){var $ppr=$pph.isBuffer(this),$pps=$pph.isBuffer($ppt);if($ppr&&$pps)return this.copy($ppt,$ppe,$ppi,$ppn);if($ppl||$ppr||$pps||!$pph.isView(this)||!$pph.isView($ppt))return $ppo.copy.call(this,$ppt,$ppe,$ppi,$ppn);$ppr=$ppi||null!=$ppn?$ppa.call(this,$ppi,$ppn):this;return $ppt.set($ppr,$ppe),$ppr.length}function $ppa($ppt,$ppe){var $ppi=this.slice||!$ppl&&this.subarray;if($ppi)return $ppi.call(this,$ppt,$ppe);$ppi=$pph.alloc.call(this,$ppe-$ppt);return $ppn.call(this,$ppi,0,$ppt,$ppe),$ppi}var $ppo=$ppt("./buffer-lite");var $ppi;$ppe.copy=$ppn,$ppe.slice=$ppa,$ppe.toString=function($ppt,$ppe,$ppi){return(!$ppr&&$pph.isBuffer(this)?this:$ppo).toString.apply(this,arguments)},$ppe.write=($ppi="write",function(){return(this[$ppi]||$ppo[$ppi]).apply(this,arguments)});var $pph=$ppt("./bufferish"),$ppe=$pph.global,$ppr=$pph.hasBuffer&&"TYPED_ARRAY_SUPPORT"in $ppe,$ppl=$ppr&&!$ppe.TYPED_ARRAY_SUPPORT},{"./buffer-lite":3,"./bufferish":8}],7:[function($ppt,$ppe,$ppn){function $ppi($ppt){return new Uint8Array($ppt)}var $ppr=$ppt("./bufferish");($ppn=$ppe.exports=$ppr.hasArrayBuffer?$ppi(0):[]).alloc=$ppi,$ppn.concat=$ppr.concat,$ppn.from=function($ppt){if($ppr.isView($ppt)){var $ppe=$ppt.byteOffset,$ppi=$ppt.byteLength;($ppt=$ppt.buffer).byteLength!==$ppi&&($ppt.slice?$ppt=$ppt.slice($ppe,$ppe+$ppi):($ppt=new Uint8Array($ppt)).byteLength!==$ppi&&($ppt=Array.prototype.slice.call($ppt,$ppe,$ppe+$ppi)))}else{if("string"==typeof $ppt)return $ppr.from.call($ppn,$ppt);if("number"==typeof $ppt)throw new TypeError('"value" argument must not be a number')}return new Uint8Array($ppt)}},{"./bufferish":8}],8:[function($ppt,$ppc,$pps){function $ppa($ppt){return $ppe(this).alloc($ppt)}function $ppe($ppt){return $pp_($ppt)?$ppp:$ppd($ppt)?$ppm:$ppu($ppt)?$ppf:$ppo?$ppp:$pph?$ppm:$ppf}function $ppi(){return!1}function $ppn($ppe,$ppi){return $ppe="[object "+$ppe+"]",function($ppt){return null!=$ppt&&{}.toString.call($ppi?$ppt[$ppi]:$ppt)===$ppe}}var $ppr=$pps.global=$ppt("./buffer-global"),$ppo=$pps.hasBuffer=$ppr&&!!$ppr.isBuffer,$pph=$pps.hasArrayBuffer="undefined"!=typeof ArrayBuffer,$ppu=$pps.isArray=$ppt("isarray");$pps.isArrayBuffer=$pph?function($ppt){return $ppt instanceof ArrayBuffer||$ppg($ppt)}:$ppi;var $pp_=$pps.isBuffer=$ppo?$ppr.isBuffer:$ppi,$ppd=$pps.isView=$pph?ArrayBuffer.isView||$ppn("ArrayBuffer","buffer"):$ppi;$pps.alloc=$ppa,$pps.concat=function($ppt,$ppe){$ppe||($ppe=0,Array.prototype.forEach.call($ppt,function($ppt){$ppe+=$ppt.length}));var $ppi=this!==$pps&&this||$ppt[0],$ppn=$ppa.call($ppi,$ppe),$ppr=0;return Array.prototype.forEach.call($ppt,function($ppt){$ppr+=$ppl.copy.call($ppt,$ppn,$ppr)}),$ppn},$pps.from=function($ppt){return"string"==typeof $ppt?function($ppt){var $ppe=3*$ppt.length,$ppi=$ppa.call(this,$ppe),$ppt=$ppl.write.call($ppi,$ppt);return $ppi=$ppe!==$ppt?$ppl.slice.call($ppi,0,$ppt):$ppi}.call(this,$ppt):$ppe(this).from($ppt)};var $ppf=$pps.Array=$ppt("./bufferish-array"),$ppp=$pps.Buffer=$ppt("./bufferish-buffer"),$ppm=$pps.Uint8Array=$ppt("./bufferish-uint8array"),$ppl=$pps.prototype=$ppt("./bufferish-proto"),$ppg=$ppn("ArrayBuffer")},{"./buffer-global":2,"./bufferish-array":4,"./bufferish-buffer":5,"./bufferish-proto":6,"./bufferish-uint8array":7,isarray:34}],9:[function($ppt,$ppe,$ppi){function $ppn($ppt){return this instanceof $ppn?(this.options=$ppt,void this.init()):new $ppn($ppt)}function $ppr($ppt){return new $ppn($ppt)}var $pps=$ppt("isarray");$ppi.createCodec=$ppr,$ppi.install=function($ppt){for(var $ppe in $ppt)$ppn.prototype[$ppe]=function($ppt,$ppe){return $ppt&&$ppe?function(){return $ppt.apply(this,arguments),$ppe.apply(this,arguments)}:$ppt||$ppe}($ppn.prototype[$ppe],$ppt[$ppe])},$ppi.filter=function($ppt){return $pps($ppt)?($ppi=($ppi=$ppt).slice(),function($ppt){return $ppi.reduce($ppe,$ppt)}):$ppt;function $ppe($ppt,$ppe){return $ppe($ppt)}var $ppi};var $ppa=$ppt("./bufferish");$ppn.prototype.init=function(){var $ppt=this.options;return $ppt&&$ppt.uint8array&&(this.bufferish=$ppa.Uint8Array),this},$ppi.preset=$ppr({preset:!0})},{"./bufferish":8,isarray:34}],10:[function($ppt,$ppe,$ppi){$ppt("./read-core"),$ppt("./write-core"),$ppi.codec={preset:$ppt("./codec-base").preset}},{"./codec-base":9,"./read-core":22,"./write-core":25}],11:[function($ppt,$ppe,$ppi){function $ppn($ppt){if(!(this instanceof $ppn))return new $ppn($ppt);$ppt&&(this.options=$ppt).codec&&(($ppt=this.codec=$ppt.codec).bufferish&&(this.bufferish=$ppt.bufferish))}$ppi.DecodeBuffer=$ppn;$ppi=$ppt("./read-core").preset;$ppt("./flex-buffer").FlexDecoder.mixin($ppn.prototype),$ppn.prototype.codec=$ppi,$ppn.prototype.fetch=function(){return this.codec.decode(this)}},{"./flex-buffer":21,"./read-core":22}],12:[function($ppt,$ppe,$ppi){$ppi.decode=function($ppt,$ppe){return($ppe=new $ppn($ppe)).write($ppt),$ppe.read()};var $ppn=$ppt("./decode-buffer").DecodeBuffer},{"./decode-buffer":11}],13:[function($ppt,$ppe,$ppi){function $ppn($ppt){return this instanceof $ppn?void $ppr.call(this,$ppt):new $ppn($ppt)}$ppi.Decoder=$ppn;var $ppi=$ppt("event-lite"),$ppr=$ppt("./decode-buffer").DecodeBuffer;$ppn.prototype=new $ppr,$ppi.mixin($ppn.prototype),$ppn.prototype.decode=function($ppt){arguments.length&&this.write($ppt),this.flush()},$ppn.prototype.push=function($ppt){this.emit("data",$ppt)},$ppn.prototype.end=function($ppt){this.decode($ppt),this.emit("end")}},{"./decode-buffer":11,"event-lite":31}],14:[function($ppt,$ppe,$ppi){function $ppn($ppt){if(!(this instanceof $ppn))return new $ppn($ppt);$ppt&&(this.options=$ppt).codec&&(($ppt=this.codec=$ppt.codec).bufferish&&(this.bufferish=$ppt.bufferish))}$ppi.EncodeBuffer=$ppn;$ppi=$ppt("./write-core").preset;$ppt("./flex-buffer").FlexEncoder.mixin($ppn.prototype),$ppn.prototype.codec=$ppi,$ppn.prototype.write=function($ppt){this.codec.encode(this,$ppt)}},{"./flex-buffer":21,"./write-core":25}],15:[function($ppt,$ppe,$ppi){$ppi.encode=function($ppt,$ppe){return($ppe=new $ppn($ppe)).write($ppt),$ppe.read()};var $ppn=$ppt("./encode-buffer").EncodeBuffer},{"./encode-buffer":14}],16:[function($ppt,$ppe,$ppi){function $ppn($ppt){return this instanceof $ppn?void $ppr.call(this,$ppt):new $ppn($ppt)}$ppi.Encoder=$ppn;var $ppi=$ppt("event-lite"),$ppr=$ppt("./encode-buffer").EncodeBuffer;$ppn.prototype=new $ppr,$ppi.mixin($ppn.prototype),$ppn.prototype.encode=function($ppt){this.write($ppt),this.emit("data",this.read())},$ppn.prototype.end=function($ppt){arguments.length&&this.encode($ppt),this.flush(),this.emit("end")}},{"./encode-buffer":14,"event-lite":31}],17:[function($ppt,$ppe,$ppi){$ppi.ExtBuffer=function $ppt($ppe,$ppi){return this instanceof $ppt?(this.buffer=$ppn.from($ppe),void(this.type=$ppi)):new $ppt($ppe,$ppi)};var $ppn=$ppt("./bufferish")},{"./bufferish":8}],18:[function($ppe,$ppc,$ppt){function $ppi($ppt){return($ppa=$ppa||$ppe("./encode").encode)($ppt)}function $ppn($ppt){return $ppt.valueOf()}function $ppr($ppt){($ppt=RegExp.prototype.toString.call($ppt).split("/")).shift();var $ppe=[$ppt.pop()];return $ppe.unshift($ppt.join("/")),$ppe}function $pps($ppt){var $ppe={};for(var $ppi in $ppu)$ppe[$ppi]=$ppt[$ppi];return $ppe}$ppt.setExtPackers=function($ppt){$ppt.addExtPacker(14,Error,[$pps,$ppi]),$ppt.addExtPacker(1,EvalError,[$pps,$ppi]),$ppt.addExtPacker(2,RangeError,[$pps,$ppi]),$ppt.addExtPacker(3,ReferenceError,[$pps,$ppi]),$ppt.addExtPacker(4,SyntaxError,[$pps,$ppi]),$ppt.addExtPacker(5,TypeError,[$pps,$ppi]),$ppt.addExtPacker(6,URIError,[$pps,$ppi]),$ppt.addExtPacker(10,RegExp,[$ppr,$ppi]),$ppt.addExtPacker(11,Boolean,[$ppn,$ppi]),$ppt.addExtPacker(12,String,[$ppn,$ppi]),$ppt.addExtPacker(13,Date,[Number,$ppi]),$ppt.addExtPacker(15,Number,[$ppn,$ppi]),"undefined"!=typeof Uint8Array&&($ppt.addExtPacker(17,Int8Array,$ppl),$ppt.addExtPacker(18,Uint8Array,$ppl),$ppt.addExtPacker(19,Int16Array,$ppl),$ppt.addExtPacker(20,Uint16Array,$ppl),$ppt.addExtPacker(21,Int32Array,$ppl),$ppt.addExtPacker(22,Uint32Array,$ppl),$ppt.addExtPacker(23,Float32Array,$ppl),"undefined"!=typeof Float64Array&&$ppt.addExtPacker(24,Float64Array,$ppl),"undefined"!=typeof Uint8ClampedArray&&$ppt.addExtPacker(25,Uint8ClampedArray,$ppl),$ppt.addExtPacker(26,ArrayBuffer,$ppl),$ppt.addExtPacker(29,DataView,$ppl)),$ppo.hasBuffer&&$ppt.addExtPacker(27,$pph,$ppo.from)};var $ppa,$ppo=$ppe("./bufferish"),$pph=$ppo.global,$ppl=$ppo.Uint8Array.from,$ppu={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1}},{"./bufferish":8,"./encode":15}],19:[function($ppe,$ppc,$ppt){function $ppi($ppt){return($ppo=$ppo||$ppe("./decode").decode)($ppt)}function $ppn($ppt){return RegExp.apply(null,$ppt)}function $ppr($ppn){return function($ppt){var $ppe=new $ppn;for(var $ppi in $ppu)$ppe[$ppi]=$ppt[$ppi];return $ppe}}function $pps($ppe){return function($ppt){return new $ppe($ppt)}}function $ppa($ppt){return new Uint8Array($ppt).buffer}$ppt.setExtUnpackers=function($ppt){$ppt.addExtUnpacker(14,[$ppi,$ppr(Error)]),$ppt.addExtUnpacker(1,[$ppi,$ppr(EvalError)]),$ppt.addExtUnpacker(2,[$ppi,$ppr(RangeError)]),$ppt.addExtUnpacker(3,[$ppi,$ppr(ReferenceError)]),$ppt.addExtUnpacker(4,[$ppi,$ppr(SyntaxError)]),$ppt.addExtUnpacker(5,[$ppi,$ppr(TypeError)]),$ppt.addExtUnpacker(6,[$ppi,$ppr(URIError)]),$ppt.addExtUnpacker(10,[$ppi,$ppn]),$ppt.addExtUnpacker(11,[$ppi,$pps(Boolean)]),$ppt.addExtUnpacker(12,[$ppi,$pps(String)]),$ppt.addExtUnpacker(13,[$ppi,$pps(Date)]),$ppt.addExtUnpacker(15,[$ppi,$pps(Number)]),"undefined"!=typeof Uint8Array&&($ppt.addExtUnpacker(17,$pps(Int8Array)),$ppt.addExtUnpacker(18,$pps(Uint8Array)),$ppt.addExtUnpacker(19,[$ppa,$pps(Int16Array)]),$ppt.addExtUnpacker(20,[$ppa,$pps(Uint16Array)]),$ppt.addExtUnpacker(21,[$ppa,$pps(Int32Array)]),$ppt.addExtUnpacker(22,[$ppa,$pps(Uint32Array)]),$ppt.addExtUnpacker(23,[$ppa,$pps(Float32Array)]),"undefined"!=typeof Float64Array&&$ppt.addExtUnpacker(24,[$ppa,$pps(Float64Array)]),"undefined"!=typeof Uint8ClampedArray&&$ppt.addExtUnpacker(25,$pps(Uint8ClampedArray)),$ppt.addExtUnpacker(26,$ppa),$ppt.addExtUnpacker(29,[$ppa,$pps(DataView)])),$pph.hasBuffer&&$ppt.addExtUnpacker(27,$pps($ppl))};var $ppo,$pph=$ppe("./bufferish"),$ppl=$pph.global,$ppu={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1}},{"./bufferish":8,"./decode":12}],20:[function($ppt,$ppe,$ppi){$ppt("./read-core"),$ppt("./write-core"),$ppi.createCodec=$ppt("./codec-base").createCodec},{"./codec-base":9,"./read-core":22,"./write-core":25}],21:[function($ppt,$ppc,$ppe){function $ppi(){if(!(this instanceof $ppi))return new $ppi}function $ppn(){if(!(this instanceof $ppn))return new $ppn}function $ppr(){throw new Error("method not implemented: write()")}function $pps(){throw new Error("method not implemented: fetch()")}function $ppa(){return this.buffers&&this.buffers.length?(this.flush(),this.pull()):this.fetch()}function $ppo($ppt){(this.buffers||(this.buffers=[])).push($ppt)}function $ppu(){return(this.buffers||(this.buffers=[])).shift()}function $pph($ppi){return function($ppt){for(var $ppe in $ppi)$ppt[$ppe]=$ppi[$ppe];return $ppt}}$ppe.FlexDecoder=$ppi,$ppe.FlexEncoder=$ppn;var $ppl=$ppt("./bufferish");$ppi.mixin=$pph({bufferish:$ppl,write:function($ppt){var $ppe=this.offset?$ppl.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=$ppe?$ppt?this.bufferish.concat([$ppe,$ppt]):$ppe:$ppt,this.offset=0},fetch:$pps,flush:function(){for(;this.offset<this.buffer.length;){var $ppt,$ppe=this.offset;try{$ppt=this.fetch()}catch($ppt){if($ppt&&"BUFFER_SHORTAGE"!=$ppt.message)throw $ppt;this.offset=$ppe;break}this.push($ppt)}},push:$ppo,pull:$ppu,read:$ppa,reserve:function($ppt){var $ppe=this.offset;if(($ppt=$ppe+$ppt)>this.buffer.length)throw new Error("BUFFER_SHORTAGE");return this.offset=$ppt,$ppe},offset:0}),$ppi.mixin($ppi.prototype),$ppn.mixin=$pph({bufferish:$ppl,write:$ppr,fetch:function(){var $ppt=this.start;var $ppe;if($ppt<this.offset)return $ppe=this.start=this.offset,$ppl.prototype.slice.call(this.buffer,$ppt,$ppe)},flush:function(){for(;this.start<this.offset;){var $ppt=this.fetch();$ppt&&this.push($ppt)}},push:$ppo,pull:function(){var $ppt=this.buffers||(this.buffers=[]),$ppe=1<$ppt.length?this.bufferish.concat($ppt):$ppt[0];return $ppt.length=0,$ppe},read:$ppa,reserve:function($ppt){var $ppe=0|$ppt;if(this.buffer){var $ppi=this.buffer.length,$ppn=0|this.offset,$ppr=$ppn+$ppe;if($ppr<$ppi)return this.offset=$ppr,$ppn;this.flush(),$ppt=Math.max($ppt,Math.min(2*$ppi,this.maxBufferSize))}return $ppt=Math.max($ppt,this.minBufferSize),this.buffer=this.bufferish.alloc($ppt),this.start=0,this.offset=$ppe,0},send:function($ppt){var $ppe=$ppt.length;$ppe>this.minBufferSize?(this.flush(),this.push($ppt)):($ppe=this.reserve($ppe),$ppl.prototype.copy.call($ppt,this.buffer,$ppe))},maxBufferSize:65536,minBufferSize:2048,offset:0,start:0}),$ppn.mixin($ppn.prototype)},{"./bufferish":8}],22:[function($ppt,$ppl,$ppe){function $ppi($ppt){var $ppn=$ppo.getReadToken($ppt);return function($ppt){var $ppe=$ppa($ppt),$ppi=$ppn[$ppe];if(!$ppi)throw new Error("Invalid type: "+($ppe&&"0x"+$ppe.toString(16)));return $ppi($ppt)}}function $ppn(){var $ppt=this.options;return this.decode=$ppi($ppt),$ppt&&$ppt.preset&&$pps.setExtUnpackers(this),this}var $ppr=$ppt("./ext-buffer").ExtBuffer,$pps=$ppt("./ext-unpacker"),$ppa=$ppt("./read-format").readUint8,$ppo=$ppt("./read-token"),$pph=$ppt("./codec-base");$pph.install({addExtUnpacker:function($ppt,$ppe){(this.extUnpackers||(this.extUnpackers=[]))[$ppt]=$pph.filter($ppe)},getExtUnpacker:function($ppe){return(this.extUnpackers||(this.extUnpackers=[]))[$ppe]||function($ppt){return new $ppr($ppt,$ppe)}},init:$ppn}),$ppe.preset=$ppn.call($pph.preset)},{"./codec-base":9,"./ext-buffer":17,"./ext-unpacker":19,"./read-format":23,"./read-token":24}],23:[function($ppt,$ppc,$ppe){function $ppu($ppt,$ppe){var $ppi,$ppn={},$ppr=new Array($ppe),$pps=new Array($ppe),$ppa=$ppt.codec.decode;for($ppi=0;$ppi<$ppe;$ppi++)$ppr[$ppi]=$ppa($ppt),$pps[$ppi]=$ppa($ppt);for($ppi=0;$ppi<$ppe;$ppi++)$ppn[$ppr[$ppi]]=$pps[$ppi];return $ppn}function $pp_($ppt,$ppe){var $ppi,$ppn=new Map,$ppr=new Array($ppe),$pps=new Array($ppe),$ppa=$ppt.codec.decode;for($ppi=0;$ppi<$ppe;$ppi++)$ppr[$ppi]=$ppa($ppt),$pps[$ppi]=$ppa($ppt);for($ppi=0;$ppi<$ppe;$ppi++)$ppn.set($ppr[$ppi],$pps[$ppi]);return $ppn}function $ppd($ppt,$ppe){for(var $ppi=new Array($ppe),$ppn=$ppt.codec.decode,$ppr=0;$ppr<$ppe;$ppr++)$ppi[$ppr]=$ppn($ppt);return $ppi}function $ppf($ppt,$ppe){var $ppi=$ppt.reserve($ppe);return $ppl.toString.call($ppt.buffer,"utf-8",$ppi,$ppi+$ppe)}function $ppp($ppt,$ppe){var $ppi=$ppt.reserve($ppe),$ppt=$ppl.slice.call($ppt.buffer,$ppi,$ppi+$ppe);return $pph.from($ppt)}function $ppm($ppt,$ppe){var $ppi=$ppt.reserve($ppe),$ppt=$ppl.slice.call($ppt.buffer,$ppi,$ppi+$ppe);return $pph.Uint8Array.from($ppt).buffer}function $ppg($ppt,$ppe){var $ppi=$ppt.reserve($ppe+1),$ppn=$ppt.buffer[$ppi++],$ppe=$ppi+$ppe,$ppr=$ppt.codec.getExtUnpacker($ppn);if(!$ppr)throw new Error("Invalid ext type: "+($ppn&&"0x"+$ppn.toString(16)));return $ppr($ppl.slice.call($ppt.buffer,$ppi,$ppe))}function $ppn($ppt){var $ppe=$ppt.reserve(1);return $ppt.buffer[$ppe]}function $ppv($ppt){var $ppe=$ppt.reserve(1),$ppt=$ppt.buffer[$ppe];return 128&$ppt?$ppt-256:$ppt}function $ppy($ppt){var $ppe=$ppt.reserve(2),$ppt=$ppt.buffer;return $ppt[$ppe++]<<8|$ppt[$ppe]}function $ppx($ppt){var $ppe=$ppt.reserve(2),$ppt=$ppt.buffer,$ppt=$ppt[$ppe++]<<8|$ppt[$ppe];return 32768&$ppt?$ppt-65536:$ppt}function $ppw($ppt){var $ppe=$ppt.reserve(4),$ppt=$ppt.buffer;return 16777216*$ppt[$ppe++]+($ppt[$ppe++]<<16)+($ppt[$ppe++]<<8)+$ppt[$ppe]}function $ppb($ppt){var $ppe=$ppt.reserve(4),$ppt=$ppt.buffer;return $ppt[$ppe++]<<24|$ppt[$ppe++]<<16|$ppt[$ppe++]<<8|$ppt[$ppe]}function $ppr($ppi,$ppn){return function($ppt){var $ppe=$ppt.reserve($ppi);return $ppn.call($ppt.buffer,$ppe,$ppI)}}function $ppT($ppt){return new $ppa(this,$ppt).toNumber()}function $ppS($ppt){return new $ppo(this,$ppt).toNumber()}function $ppC($ppt){return new $ppa(this,$ppt)}function $ppM($ppt){return new $ppo(this,$ppt)}function $ppE($ppt){return $ppi.read(this,$ppt,!1,23,4)}function $ppA($ppt){return $ppi.read(this,$ppt,!1,52,8)}var $ppi=$ppt("ieee754"),$pps=$ppt("int64-buffer"),$ppa=$pps.Uint64BE,$ppo=$pps.Int64BE;$ppe.getReadFormat=function($ppt){var $ppe=$pph.hasArrayBuffer&&$ppt&&$ppt.binarraybuffer,$ppi=$ppt&&$ppt.int64;return{map:$ppD&&$ppt&&$ppt.usemap?$pp_:$ppu,array:$ppd,str:$ppf,bin:$ppe?$ppm:$ppp,ext:$ppg,uint8:$ppn,uint16:$ppy,uint32:$ppw,uint64:$ppr(8,$ppi?$ppC:$ppT),int8:$ppv,int16:$ppx,int32:$ppb,int64:$ppr(8,$ppi?$ppM:$ppS),float32:$ppr(4,$ppE),float64:$ppr(8,$ppA)}},$ppe.readUint8=$ppn;var $pph=$ppt("./bufferish"),$ppl=$ppt("./bufferish-proto"),$ppD="undefined"!=typeof Map,$ppI=!0},{"./bufferish":8,"./bufferish-proto":6,ieee754:32,"int64-buffer":33}],24:[function($ppt,$ppe,$ppi){function $ppn($ppt){var $ppe,$ppi=new Array(256);for($ppe=0;$ppe<=127;$ppe++)$ppi[$ppe]=$ppr($ppe);for($ppe=128;$ppe<=143;$ppe++)$ppi[$ppe]=$ppa($ppe-128,$ppt.map);for($ppe=144;$ppe<=159;$ppe++)$ppi[$ppe]=$ppa($ppe-144,$ppt.array);for($ppe=160;$ppe<=191;$ppe++)$ppi[$ppe]=$ppa($ppe-160,$ppt.str);for($ppi[192]=$ppr(null),$ppi[193]=null,$ppi[194]=$ppr(!1),$ppi[195]=$ppr(!0),$ppi[196]=$pps($ppt.uint8,$ppt.bin),$ppi[197]=$pps($ppt.uint16,$ppt.bin),$ppi[198]=$pps($ppt.uint32,$ppt.bin),$ppi[199]=$pps($ppt.uint8,$ppt.ext),$ppi[200]=$pps($ppt.uint16,$ppt.ext),$ppi[201]=$pps($ppt.uint32,$ppt.ext),$ppi[202]=$ppt.float32,$ppi[203]=$ppt.float64,$ppi[204]=$ppt.uint8,$ppi[205]=$ppt.uint16,$ppi[206]=$ppt.uint32,$ppi[207]=$ppt.uint64,$ppi[208]=$ppt.int8,$ppi[209]=$ppt.int16,$ppi[210]=$ppt.int32,$ppi[211]=$ppt.int64,$ppi[212]=$ppa(1,$ppt.ext),$ppi[213]=$ppa(2,$ppt.ext),$ppi[214]=$ppa(4,$ppt.ext),$ppi[215]=$ppa(8,$ppt.ext),$ppi[216]=$ppa(16,$ppt.ext),$ppi[217]=$pps($ppt.uint8,$ppt.str),$ppi[218]=$pps($ppt.uint16,$ppt.str),$ppi[219]=$pps($ppt.uint32,$ppt.str),$ppi[220]=$pps($ppt.uint16,$ppt.array),$ppi[221]=$pps($ppt.uint32,$ppt.array),$ppi[222]=$pps($ppt.uint16,$ppt.map),$ppi[223]=$pps($ppt.uint32,$ppt.map),$ppe=224;$ppe<=255;$ppe++)$ppi[$ppe]=$ppr($ppe-256);return $ppi}function $ppr($ppt){return function(){return $ppt}}function $pps($ppi,$ppn){return function($ppt){var $ppe=$ppi($ppt);return $ppn($ppt,$ppe)}}function $ppa($ppe,$ppi){return function($ppt){return $ppi($ppt,$ppe)}}var $ppo=$ppt("./read-format");$ppi.getReadToken=function($ppt){var $ppe=$ppo.getReadFormat($ppt);return($ppt&&$ppt.useraw?function($ppt){var $ppe,$ppi=$ppn($ppt).slice();for($ppi[217]=$ppi[196],$ppi[218]=$ppi[197],$ppi[219]=$ppi[198],$ppe=160;$ppe<=191;$ppe++)$ppi[$ppe]=$ppa($ppe-160,$ppt.bin);return $ppi}:$ppn)($ppe)}},{"./read-format":23}],25:[function($ppt,$ppe,$ppi){function $ppn($ppt){var $ppn=$ppo.getWriteType($ppt);return function($ppt,$ppe){var $ppi=$ppn[typeof $ppe];if(!$ppi)throw new Error('Unsupported type "'+typeof $ppe+'": '+$ppe);$ppi($ppt,$ppe)}}function $ppr(){var $ppt=this.options;return this.encode=$ppn($ppt),$ppt&&$ppt.preset&&$ppa.setExtPackers(this),this}var $pps=$ppt("./ext-buffer").ExtBuffer,$ppa=$ppt("./ext-packer"),$ppo=$ppt("./write-type"),$pph=$ppt("./codec-base");$pph.install({addExtPacker:function($ppe,$ppt,$ppi){function $ppn($ppt){return $ppi&&($ppt=$ppi($ppt)),new $pps($ppt,$ppe)}$ppi=$pph.filter($ppi);var $ppr=$ppt.name;$ppr&&"Object"!==$ppr?(this.extPackers||(this.extPackers={}))[$ppr]=$ppn:(this.extEncoderList||(this.extEncoderList=[])).unshift([$ppt,$ppn])},getExtPacker:function($ppt){var $ppe=this.extPackers||(this.extPackers={}),$ppi=$ppt.constructor;if($ppt=$ppi&&$ppi.name&&$ppe[$ppi.name])return $ppt;for(var $ppn=this.extEncoderList||(this.extEncoderList=[]),$ppr=$ppn.length,$pps=0;$pps<$ppr;$pps++){var $ppa=$ppn[$pps];if($ppi===$ppa[0])return $ppa[1]}},init:$ppr}),$ppi.preset=$ppr.call($pph.preset)},{"./codec-base":9,"./ext-buffer":17,"./ext-packer":18,"./write-type":27}],26:[function($ppt,$ppc,$ppu){function $ppi(){var $ppt=$ppv.slice();return $ppt[196]=$ppe(196),$ppt[197]=$ppn(197),$ppt[198]=$ppr(198),$ppt[199]=$ppe(199),$ppt[200]=$ppn(200),$ppt[201]=$ppr(201),$ppt[202]=$pps(202,4,$ppx.writeFloatBE||$pp_,!0),$ppt[203]=$pps(203,8,$ppx.writeDoubleBE||$ppd,!0),$ppt[204]=$ppe(204),$ppt[205]=$ppn(205),$ppt[206]=$ppr(206),$ppt[207]=$pps(207,8,$ppa),$ppt[208]=$ppe(208),$ppt[209]=$ppn(209),$ppt[210]=$ppr(210),$ppt[211]=$pps(211,8,$ppo),$ppt[217]=$ppe(217),$ppt[218]=$ppn(218),$ppt[219]=$ppr(219),$ppt[220]=$ppn(220),$ppt[221]=$ppr(221),$ppt[222]=$ppn(222),$ppt[223]=$ppr(223),$ppt}function $ppe($ppn){return function($ppt,$ppe){var $ppi=$ppt.reserve(2),$ppt=$ppt.buffer;$ppt[$ppi++]=$ppn,$ppt[$ppi]=$ppe}}function $ppn($ppn){return function($ppt,$ppe){var $ppi=$ppt.reserve(3),$ppt=$ppt.buffer;$ppt[$ppi++]=$ppn,$ppt[$ppi++]=$ppe>>>8,$ppt[$ppi]=$ppe}}function $ppr($ppn){return function($ppt,$ppe){var $ppi=$ppt.reserve(5),$ppt=$ppt.buffer;$ppt[$ppi++]=$ppn,$ppt[$ppi++]=$ppe>>>24,$ppt[$ppi++]=$ppe>>>16,$ppt[$ppi++]=$ppe>>>8,$ppt[$ppi]=$ppe}}function $pps($ppn,$ppr,$pps,$ppa){return function($ppt,$ppe){var $ppi=$ppt.reserve($ppr+1);$ppt.buffer[$ppi++]=$ppn,$pps.call($ppt.buffer,$ppe,$ppi,$ppa)}}function $ppa($ppt,$ppe){new $ppm(this,$ppe,$ppt)}function $ppo($ppt,$ppe){new $ppg(this,$ppe,$ppt)}function $pp_($ppt,$ppe){$ppf.write(this,$ppt,$ppe,!1,23,4)}function $ppd($ppt,$ppe){$ppf.write(this,$ppt,$ppe,!1,52,8)}var $ppf=$ppt("ieee754"),$ppp=$ppt("int64-buffer"),$ppm=$ppp.Uint64BE,$ppg=$ppp.Int64BE,$ppv=$ppt("./write-uint8").uint8,$pph=$ppt("./bufferish"),$ppl=$pph.global,$ppy=$pph.hasBuffer&&"TYPED_ARRAY_SUPPORT"in $ppl&&!$ppl.TYPED_ARRAY_SUPPORT,$ppx=$pph.hasBuffer&&$ppl.prototype||{};$ppu.getWriteToken=function($ppt){return $ppt&&$ppt.uint8array?(($ppe=$ppi())[202]=$pps(202,4,$pp_),$ppe[203]=$pps(203,8,$ppd),$ppe):$ppy||$pph.hasBuffer&&$ppt&&$ppt.safe?(($ppe=$ppv.slice())[196]=$pps(196,1,$ppl.prototype.writeUInt8),$ppe[197]=$pps(197,2,$ppl.prototype.writeUInt16BE),$ppe[198]=$pps(198,4,$ppl.prototype.writeUInt32BE),$ppe[199]=$pps(199,1,$ppl.prototype.writeUInt8),$ppe[200]=$pps(200,2,$ppl.prototype.writeUInt16BE),$ppe[201]=$pps(201,4,$ppl.prototype.writeUInt32BE),$ppe[202]=$pps(202,4,$ppl.prototype.writeFloatBE),$ppe[203]=$pps(203,8,$ppl.prototype.writeDoubleBE),$ppe[204]=$pps(204,1,$ppl.prototype.writeUInt8),$ppe[205]=$pps(205,2,$ppl.prototype.writeUInt16BE),$ppe[206]=$pps(206,4,$ppl.prototype.writeUInt32BE),$ppe[207]=$pps(207,8,$ppa),$ppe[208]=$pps(208,1,$ppl.prototype.writeInt8),$ppe[209]=$pps(209,2,$ppl.prototype.writeInt16BE),$ppe[210]=$pps(210,4,$ppl.prototype.writeInt32BE),$ppe[211]=$pps(211,8,$ppo),$ppe[217]=$pps(217,1,$ppl.prototype.writeUInt8),$ppe[218]=$pps(218,2,$ppl.prototype.writeUInt16BE),$ppe[219]=$pps(219,4,$ppl.prototype.writeUInt32BE),$ppe[220]=$pps(220,2,$ppl.prototype.writeUInt16BE),$ppe[221]=$pps(221,4,$ppl.prototype.writeUInt32BE),$ppe[222]=$pps(222,2,$ppl.prototype.writeUInt16BE),$ppe[223]=$pps(223,4,$ppl.prototype.writeUInt32BE),$ppe):$ppi();var $ppe}},{"./bufferish":8,"./write-uint8":28,ieee754:32,"int64-buffer":33}],27:[function($ppt,$ppn,$ppe){var $ppv=$ppt("isarray"),$ppi=$ppt("int64-buffer"),$ppy=$ppi.Uint64BE,$ppx=$ppi.Int64BE,$ppr=$ppt("./bufferish"),$pph=$ppt("./bufferish-proto"),$ppl=$ppt("./write-token"),$ppb=$ppt("./write-uint8").uint8,$ppT=$ppt("./ext-buffer").ExtBuffer,$ppc="undefined"!=typeof Uint8Array,$ppu="undefined"!=typeof Map,$ppw=[];$ppw[1]=212,$ppw[2]=213,$ppw[4]=214,$ppw[8]=215,$ppw[16]=216,$ppe.getWriteType=function($ppt){function $pps($ppt,$ppe){if(null===$ppe)return $ppd($ppt,$ppe);if($ppp($ppe))return $ppm($ppt,$ppe);if($ppv($ppe)){var $ppi=$ppt;var $ppn=$ppe;var $ppr=$ppn.length;$ppf[$ppr<16?144+$ppr:$ppr<=65535?220:221]($ppi,$ppr);for(var $ppc=$ppi.codec.encode,$pps=0;$pps<$ppr;$pps++)$ppc($ppi,$ppn[$pps])}else{if($ppy.isUint64BE($ppe))return $ppa=$ppe,void $ppf[207]($ppt,$ppa.toArray());if($ppx.isInt64BE($ppe))return $ppa=$ppe,void $ppf[211]($ppt,$ppa.toArray());var $ppa;var $ppo=$ppt.codec.getExtPacker($ppe);return($ppe=$ppo?$ppo($ppe):$ppe)instanceof $ppT?($ppo=$ppt,$pph=($ppu=$ppe).buffer,$ppl=$pph.length,$pp_=$ppw[$ppl]||($ppl<255?199:$ppl<=65535?200:201),$ppf[$pp_]($ppo,$ppl),$ppb[$ppu.type]($ppo),void $ppo.send($pph)):void $ppg($ppt,$ppe);var $ppu,$pph,$ppl,$pp_}}function $ppd($ppt,$ppe){$ppf[192]($ppt,$ppe)}function $ppi($ppt,$ppe){var $ppi=$ppe.length;$ppf[$ppi<255?196:$ppi<=65535?197:198]($ppt,$ppi),$ppt.send($ppe)}function $ppa($ppe,$ppi){var $ppt=Object.keys($ppi),$ppn=$ppt.length;$ppf[$ppn<16?128+$ppn:$ppn<=65535?222:223]($ppe,$ppn);var $ppr=$ppe.codec.encode;$ppt.forEach(function($ppt){$ppr($ppe,$ppt),$ppr($ppe,$ppi[$ppt])})}var $ppf=$ppl.getWriteToken($ppt),$ppe=$ppt&&$ppt.useraw,$ppn=$ppc&&$ppt&&$ppt.binarraybuffer,$ppp=$ppn?$ppr.isArrayBuffer:$ppr.isBuffer,$ppm=$ppn?function($ppt,$ppe){$ppi($ppt,new Uint8Array($ppe))}:$ppi,$ppg=$ppu&&$ppt&&$ppt.usemap?function($ppn,$ppt){if(!($ppt instanceof Map))return $ppa($ppn,$ppt);var $ppe=$ppt.size;$ppf[$ppe<16?128+$ppe:$ppe<=65535?222:223]($ppn,$ppe);var $ppr=$ppn.codec.encode;$ppt.forEach(function($ppt,$ppe,$ppi){$ppr($ppn,$ppe),$ppr($ppn,$ppt)})}:$ppa;var $ppo;return{boolean:function($ppt,$ppe){$ppf[$ppe?195:194]($ppt,$ppe)},function:$ppd,number:function($ppt,$ppe){var $ppi=0|$ppe;return $ppe!==$ppi?void $ppf[203]($ppt,$ppe):void $ppf[-32<=$ppi&&$ppi<=127?255&$ppi:0<=$ppi?$ppi<=255?204:$ppi<=65535?205:206:-128<=$ppi?208:-32768<=$ppi?209:210]($ppt,$ppi)},object:$ppe?function($ppt,$ppe){return $ppp($ppe)?($ppi=$ppt,$ppr=($ppn=$ppe).length,$ppf[$ppr<32?160+$ppr:$ppr<=65535?218:219]($ppi,$ppr),void $ppi.send($ppn)):void $pps($ppt,$ppe);var $ppi,$ppn,$ppr}:$pps,string:($ppo=$ppe?function($ppt){return $ppt<32?1:$ppt<=65535?3:5}:function($ppt){return $ppt<32?1:$ppt<=255?2:$ppt<=65535?3:5},function($ppt,$ppe){var $ppi=$ppe.length;$ppt.offset=$ppt.reserve(5+3*$ppi);var $ppn=$ppt.buffer,$ppr=$ppo($ppi),$pps=$ppt.offset+$ppr;$ppi=$pph.write.call($ppn,$ppe,$pps),$ppe=$ppo($ppi),$ppr!==$ppe&&$pph.copy.call($ppn,$ppn,$pps+$ppe-$ppr,$pps,$pps+$ppi),$ppf[1===$ppe?160+$ppi:$ppe<=3?215+$ppe:219]($ppt,$ppi),$ppt.offset+=$ppi}),symbol:$ppd,undefined:$ppd}}},{"./bufferish":8,"./bufferish-proto":6,"./ext-buffer":17,"./write-token":26,"./write-uint8":28,"int64-buffer":33,isarray:34}],28:[function($ppt,$ppe,$ppi){for(var $ppn=$ppi.uint8=new Array(256),$ppr=0;$ppr<=255;$ppr++)$ppn[$ppr]=function($ppi){return function($ppt){var $ppe=$ppt.reserve(1);$ppt.buffer[$ppe]=$ppi}}($ppr)},{}],29:[function($ppP,$ppt,$ppL){!function($ppt){"use strict";function $ppi(){return $ppu.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function $ppo($ppt,$ppe){if($ppi()<$ppe)throw new RangeError("Invalid typed array length");return $ppu.TYPED_ARRAY_SUPPORT?($ppt=new Uint8Array($ppe)).__proto__=$ppu.prototype:($ppt=null===$ppt?new $ppu($ppe):$ppt).length=$ppe,$ppt}function $ppu($ppt,$ppe,$ppi){if(!($ppu.TYPED_ARRAY_SUPPORT||this instanceof $ppu))return new $ppu($ppt,$ppe,$ppi);if("number"!=typeof $ppt)return $ppc(this,$ppt,$ppe,$ppi);if("string"==typeof $ppe)throw new Error("If encoding is specified then the first argument must be a string");return $ppd(this,$ppt)}function $ppc($ppt,$ppe,$ppi,$ppn){if("number"==typeof $ppe)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&$ppe instanceof ArrayBuffer){var $ppr=$ppt;var $pps=$ppe;var $ppa=$ppi;if($pps.byteLength,$ppa<0||$pps.byteLength<$ppa)throw new RangeError("'offset' is out of bounds");if($pps.byteLength<$ppa+($ppn||0))throw new RangeError("'length' is out of bounds");return $pps=void 0===$ppa&&void 0===$ppn?new Uint8Array($pps):void 0===$ppn?new Uint8Array($pps,$ppa):new Uint8Array($pps,$ppa,$ppn),$ppu.TYPED_ARRAY_SUPPORT?($ppr=$pps).__proto__=$ppu.prototype:$ppr=$ppf($ppr,$pps),$ppr}if("string"==typeof $ppe){$ppa=$ppt;$ppn=$ppe;$pps=$ppi;if(!$ppu.isEncoding($pps="string"==typeof $pps&&""!==$pps?$pps:"utf8"))throw new TypeError('"encoding" must be a valid string encoding');$ppr=0|$ppg($ppn,$pps);return $ppa=($ppn=($ppa=$ppo($ppa,$ppr)).write($ppn,$pps))!==$ppr?$ppa.slice(0,$ppn):$ppa}$ppi=$ppt;$ppn=$ppe;if($ppu.isBuffer($ppn))return $ppt=0|$ppp($ppn.length),0===($ppi=$ppo($ppi,$ppt)).length||$ppn.copy($ppi,0,0,$ppt),$ppi;if($ppn){if("undefined"!=typeof ArrayBuffer&&$ppn.buffer instanceof ArrayBuffer||"length"in $ppn)return"number"!=typeof $ppn.length||function($ppt){return $ppt!=$ppt}($ppn.length)?$ppo($ppi,0):$ppf($ppi,$ppn);if("Buffer"===$ppn.type&&$ppD($ppn.data))return $ppf($ppi,$ppn.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function $pp_($ppt){if("number"!=typeof $ppt)throw new TypeError('"size" argument must be a number');if($ppt<0)throw new RangeError('"size" argument must not be negative')}function $ppd($ppt,$ppe){if($pp_($ppe),$ppt=$ppo($ppt,$ppe<0?0:0|$ppp($ppe)),!$ppu.TYPED_ARRAY_SUPPORT)for(var $ppi=0;$ppi<$ppe;++$ppi)$ppt[$ppi]=0;return $ppt}function $ppf($ppt,$ppe){var $ppi=$ppe.length<0?0:0|$ppp($ppe.length);$ppt=$ppo($ppt,$ppi);for(var $ppn=0;$ppn<$ppi;$ppn+=1)$ppt[$ppn]=255&$ppe[$ppn];return $ppt}function $ppp($ppt){if($ppt>=$ppi())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$ppi().toString(16)+" bytes");return 0|$ppt}function $ppg($ppt,$ppe){if($ppu.isBuffer($ppt))return $ppt.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView($ppt)||$ppt instanceof ArrayBuffer))return $ppt.byteLength;var $ppi=($ppt="string"!=typeof $ppt?""+$ppt:$ppt).length;if(0===$ppi)return 0;for(var $ppn=!1;;)switch($ppe){case"ascii":case"latin1":case"binary":return $ppi;case"utf8":case"utf-8":case void 0:return $ppm($ppt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$ppi;case"hex":return $ppi>>>1;case"base64":return $ppM($ppt).length;default:if($ppn)return $ppm($ppt).length;$ppe=(""+$ppe).toLowerCase(),$ppn=!0}}function $ppe($ppt,$ppe,$ppi){var $ppc=!1;if(($ppe=void 0===$ppe||$ppe<0?0:$ppe)>this.length)return"";if(($ppi=void 0===$ppi||$ppi>this.length?this.length:$ppi)<=0)return"";if(($ppi>>>=0)<=($ppe>>>=0))return"";for($ppt=$ppt||"utf8";;)switch($ppt){case"hex":var $ppu=this;var $ppn=$ppe;var $ppr=$ppi;var $pps=$ppu.length;(!$ppr||$ppr<0||$pps<$ppr)&&($ppr=$pps);for(var $pp_="",$ppa=$ppn=!$ppn||$ppn<0?0:$ppn;$ppa<$ppr;++$ppa)$pp_+=function($ppt){return $ppt<16?"0"+$ppt.toString(16):$ppt.toString(16)}($ppu[$ppa]);return $pp_;case"utf8":case"utf-8":return $ppS(this,$ppe,$ppi);case"ascii":var $ppd=this;$pps=$ppe;var $ppf=$ppi;var $ppp="";$ppf=Math.min($ppd.length,$ppf);for(var $ppm=$pps;$ppm<$ppf;++$ppm)$ppp+=String.fromCharCode(127&$ppd[$ppm]);return $ppp;case"latin1":case"binary":var $ppg=this;$ppn=$ppe;var $ppv=$ppi;var $ppy="";$ppv=Math.min($ppg.length,$ppv);for(var $ppx=$ppn;$ppx<$ppv;++$ppx)$ppy+=String.fromCharCode($ppg[$ppx]);return $ppy;case"base64":return $pph=this,$ppT=$ppi,0===($ppl=$ppe)&&$ppT===$pph.length?$ppA.fromByteArray($pph):$ppA.fromByteArray($pph.slice($ppl,$ppT));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":$pph=$ppe;$ppl=$ppi;for(var $ppw=this.slice($pph,$ppl),$ppb="",$ppo=0;$ppo<$ppw.length;$ppo+=2)$ppb+=String.fromCharCode($ppw[$ppo]+256*$ppw[$ppo+1]);return $ppb;default:if($ppc)throw new TypeError("Unknown encoding: "+$ppt);$ppt=($ppt+"").toLowerCase(),$ppc=!0}var $pph,$ppl,$ppT}function $ppn($ppt,$ppe,$ppi){var $ppn=$ppt[$ppe];$ppt[$ppe]=$ppt[$ppi],$ppt[$ppi]=$ppn}function $ppv($ppt,$ppe,$ppi,$ppn,$ppr){if(0===$ppt.length)return-1;if("string"==typeof $ppi?($ppn=$ppi,$ppi=0):2147483647<$ppi?$ppi=2147483647:$ppi<-2147483648&&($ppi=-2147483648),$ppi=+$ppi,($ppi=($ppi=isNaN($ppi)?$ppr?0:$ppt.length-1:$ppi)<0?$ppt.length+$ppi:$ppi)>=$ppt.length){if($ppr)return-1;$ppi=$ppt.length-1}else if($ppi<0){if(!$ppr)return-1;$ppi=0}if("string"==typeof $ppe&&($ppe=$ppu.from($ppe,$ppn)),$ppu.isBuffer($ppe))return 0===$ppe.length?-1:$ppy($ppt,$ppe,$ppi,$ppn,$ppr);if("number"==typeof $ppe)return $ppe&=255,$ppu.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?($ppr?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call($ppt,$ppe,$ppi):$ppy($ppt,[$ppe],$ppi,$ppn,$ppr);throw new TypeError("val must be string, number or Buffer")}function $ppy($ppt,$ppe,$ppi,$ppn,$ppc){function $ppr($ppt,$ppe){return 1===$pps?$ppt[$ppe]:$ppt.readUInt16BE($ppe*$pps)}var $pps=1,$ppa=$ppt.length,$ppo=$ppe.length;if(void 0!==$ppn&&("ucs2"===($ppn=String($ppn).toLowerCase())||"ucs-2"===$ppn||"utf16le"===$ppn||"utf-16le"===$ppn)){if($ppt.length<2||$ppe.length<2)return-1;$ppa/=$pps=2,$ppo/=2,$ppi/=2}var $pph;if($ppc){var $ppl=-1;for($pph=$ppi;$pph<$ppa;$pph++)if($ppr($ppt,$pph)===$ppr($ppe,-1===$ppl?0:$pph-$ppl)){if($pph-($ppl=-1===$ppl?$pph:$ppl)+1===$ppo)return $ppl*$pps}else-1!==$ppl&&($pph-=$pph-$ppl),$ppl=-1}else for($pph=$ppi=$ppa<$ppi+$ppo?$ppa-$ppo:$ppi;0<=$pph;$pph--){for(var $ppu=!0,$pp_=0;$pp_<$ppo;$pp_++)if($ppr($ppt,$pph+$pp_)!==$ppr($ppe,$pp_)){$ppu=!1;break}if($ppu)return $pph}return-1}function $ppx($ppt,$ppe,$ppi,$ppn){return $ppE(function($ppt){for(var $ppe=[],$ppi=0;$ppi<$ppt.length;++$ppi)$ppe.push(255&$ppt.charCodeAt($ppi));return $ppe}($ppe),$ppt,$ppi,$ppn)}function $ppw($ppt,$ppe,$ppi,$ppn){return $ppE(function($ppt,$ppe){for(var $ppi,$ppn,$ppr=[],$pps=0;$pps<$ppt.length&&!(($ppe-=2)<0);++$pps)$ppn=$ppt.charCodeAt($pps),$ppi=$ppn>>8,$ppn=$ppn%256,$ppr.push($ppn),$ppr.push($ppi);return $ppr}($ppe,$ppt.length-$ppi),$ppt,$ppi,$ppn)}function $ppS($ppt,$ppc,$ppe){$ppe=Math.min($ppt.length,$ppe);for(var $ppi=[],$ppn=$ppc;$ppn<$ppe;){var $ppr=$ppt[$ppn],$pps=null,$ppa=239<$ppr?4:223<$ppr?3:191<$ppr?2:1;var $ppo,$pph,$ppu,$ppl;if($ppn+$ppa<=$ppe)switch($ppa){case 1:$ppr<128&&($pps=$ppr);break;case 2:128==(192&($ppo=$ppt[$ppn+1]))&&(127<($ppl=(31&$ppr)<<6|63&$ppo)&&($pps=$ppl));break;case 3:$ppo=$ppt[$ppn+1],$pph=$ppt[$ppn+2],128==(192&$ppo)&&128==(192&$pph)&&(2047<($ppl=(15&$ppr)<<12|(63&$ppo)<<6|63&$pph)&&($ppl<55296||57343<$ppl)&&($pps=$ppl));break;case 4:$ppo=$ppt[$ppn+1],$pph=$ppt[$ppn+2],$ppu=$ppt[$ppn+3],128==(192&$ppo)&&128==(192&$pph)&&128==(192&$ppu)&&(65535<($ppl=(15&$ppr)<<18|(63&$ppo)<<12|(63&$pph)<<6|63&$ppu)&&$ppl<1114112&&($pps=$ppl))}null===$pps?($pps=65533,$ppa=1):65535<$pps&&($pps-=65536,$ppi.push($pps>>>10&1023|55296),$pps=56320|1023&$pps),$ppi.push($pps),$ppn+=$ppa}var $pp_=$ppi;var $ppd=$pp_.length;if($ppd<=$ppI)return String.fromCharCode.apply(String,$pp_);for(var $ppf="",$ppp=0;$ppp<$ppd;)$ppf+=String.fromCharCode.apply(String,$pp_.slice($ppp,$ppp+=$ppI));return $ppf}function $ppa($ppt,$ppe,$ppi){if($ppt%1!=0||$ppt<0)throw new RangeError("offset is not uint");if($ppi<$ppt+$ppe)throw new RangeError("Trying to access beyond buffer length")}function $pph($ppt,$ppe,$ppi,$ppn,$ppr,$pps){if(!$ppu.isBuffer($ppt))throw new TypeError('"buffer" argument must be a Buffer instance');if($ppr<$ppe||$ppe<$pps)throw new RangeError('"value" argument is out of bounds');if($ppi+$ppn>$ppt.length)throw new RangeError("Index out of range")}function $ppr($ppt,$ppe,$ppi,$ppn){$ppe<0&&($ppe=65535+$ppe+1);for(var $ppr=0,$pps=Math.min($ppt.length-$ppi,2);$ppr<$pps;++$ppr)$ppt[$ppi+$ppr]=($ppe&255<<8*($ppn?$ppr:1-$ppr))>>>8*($ppn?$ppr:1-$ppr)}function $pps($ppt,$ppe,$ppi,$ppn){$ppe<0&&($ppe=4294967295+$ppe+1);for(var $ppr=0,$pps=Math.min($ppt.length-$ppi,4);$ppr<$pps;++$ppr)$ppt[$ppi+$ppr]=$ppe>>>8*($ppn?$ppr:3-$ppr)&255}function $ppb($ppt,$ppe,$ppi,$ppn){if($ppi+$ppn>$ppt.length)throw new RangeError("Index out of range");if($ppi<0)throw new RangeError("Index out of range")}function $ppT($ppt,$ppe,$ppi,$ppn,$ppr){return $ppr||$ppb($ppt,0,$ppi,4),$ppl.write($ppt,$ppe,$ppi,$ppn,23,4),$ppi+4}function $ppC($ppt,$ppe,$ppi,$ppn,$ppr){return $ppr||$ppb($ppt,0,$ppi,8),$ppl.write($ppt,$ppe,$ppi,$ppn,52,8),$ppi+8}function $ppm($ppt,$ppe){$ppe=$ppe||1/0;for(var $ppi,$ppn=$ppt.length,$ppr=null,$pps=[],$ppa=0;$ppa<$ppn;++$ppa){if(55295<($ppi=$ppt.charCodeAt($ppa))&&$ppi<57344){if(!$ppr){if(56319<$ppi){-1<($ppe-=3)&&$pps.push(239,191,189);continue}if($ppa+1===$ppn){-1<($ppe-=3)&&$pps.push(239,191,189);continue}$ppr=$ppi;continue}if($ppi<56320){-1<($ppe-=3)&&$pps.push(239,191,189),$ppr=$ppi;continue}$ppi=65536+($ppr-55296<<10|$ppi-56320)}else $ppr&&-1<($ppe-=3)&&$pps.push(239,191,189);if($ppr=null,$ppi<128){if(--$ppe<0)break;$pps.push($ppi)}else if($ppi<2048){if(($ppe-=2)<0)break;$pps.push($ppi>>6|192,63&$ppi|128)}else if($ppi<65536){if(($ppe-=3)<0)break;$pps.push($ppi>>12|224,$ppi>>6&63|128,63&$ppi|128)}else{if(!($ppi<1114112))throw new Error("Invalid code point");if(($ppe-=4)<0)break;$pps.push($ppi>>18|240,$ppi>>12&63|128,$ppi>>6&63|128,63&$ppi|128)}}return $pps}function $ppM($ppt){return $ppA.toByteArray(function($ppt){if(($ppt=(($ppe=$ppt).trim?$ppe.trim():$ppe.replace(/^\s+|\s+$/g,"")).replace($ppR,"")).length<2)return"";var $ppe;for(;$ppt.length%4!=0;)$ppt+="=";return $ppt}($ppt))}function $ppE($ppt,$ppe,$ppi,$ppn){for(var $ppr=0;$ppr<$ppn&&!($ppr+$ppi>=$ppe.length||$ppr>=$ppt.length);++$ppr)$ppe[$ppr+$ppi]=$ppt[$ppr];return $ppr}var $ppA=$ppP("base64-js"),$ppl=$ppP("ieee754"),$ppD=$ppP("isarray");$ppL.Buffer=$ppu,$ppL.SlowBuffer=function($ppt){return $ppu.alloc(+($ppt=+$ppt!=$ppt?0:$ppt))},$ppL.INSPECT_MAX_BYTES=50,$ppu.TYPED_ARRAY_SUPPORT=void 0!==$ppt.TYPED_ARRAY_SUPPORT?$ppt.TYPED_ARRAY_SUPPORT:function(){try{var $ppt=new Uint8Array(1);return $ppt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===$ppt.foo()&&"function"==typeof $ppt.subarray&&0===$ppt.subarray(1,1).byteLength}catch($ppt){return!1}}(),$ppL.kMaxLength=$ppi(),$ppu.poolSize=8192,$ppu._augment=function($ppt){return $ppt.__proto__=$ppu.prototype,$ppt},$ppu.from=function($ppt,$ppe,$ppi){return $ppc(null,$ppt,$ppe,$ppi)},$ppu.TYPED_ARRAY_SUPPORT&&($ppu.prototype.__proto__=Uint8Array.prototype,$ppu.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&$ppu[Symbol.species]===$ppu&&Object.defineProperty($ppu,Symbol.species,{value:null,configurable:!0})),$ppu.alloc=function($ppt,$ppe,$ppi){return $ppn=null,$ppe=$ppe,$ppi=$ppi,$pp_($ppt=$ppt),!($ppt<=0)&&void 0!==$ppe?"string"==typeof $ppi?$ppo($ppn,$ppt).fill($ppe,$ppi):$ppo($ppn,$ppt).fill($ppe):$ppo($ppn,$ppt);var $ppn},$ppu.allocUnsafe=function($ppt){return $ppd(null,$ppt)},$ppu.allocUnsafeSlow=function($ppt){return $ppd(null,$ppt)},$ppu.isBuffer=function($ppt){return!(null==$ppt||!$ppt._isBuffer)},$ppu.compare=function($ppt,$ppe){if(!$ppu.isBuffer($ppt)||!$ppu.isBuffer($ppe))throw new TypeError("Arguments must be Buffers");if($ppt===$ppe)return 0;for(var $ppi=$ppt.length,$ppn=$ppe.length,$ppr=0,$pps=Math.min($ppi,$ppn);$ppr<$pps;++$ppr)if($ppt[$ppr]!==$ppe[$ppr]){$ppi=$ppt[$ppr],$ppn=$ppe[$ppr];break}return $ppi<$ppn?-1:$ppn<$ppi?1:0},$ppu.isEncoding=function($ppt){switch(String($ppt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},$ppu.concat=function($ppt,$ppe){if(!$ppD($ppt))throw new TypeError('"list" argument must be an Array of Buffers');if(0===$ppt.length)return $ppu.alloc(0);var $ppi;if(void 0===$ppe)for($ppi=$ppe=0;$ppi<$ppt.length;++$ppi)$ppe+=$ppt[$ppi].length;var $ppn=$ppu.allocUnsafe($ppe),$ppr=0;for($ppi=0;$ppi<$ppt.length;++$ppi){var $pps=$ppt[$ppi];if(!$ppu.isBuffer($pps))throw new TypeError('"list" argument must be an Array of Buffers');$pps.copy($ppn,$ppr),$ppr+=$pps.length}return $ppn},$ppu.byteLength=$ppg,$ppu.prototype._isBuffer=!0,$ppu.prototype.swap16=function(){var $ppt=this.length;if($ppt%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $ppe=0;$ppe<$ppt;$ppe+=2)$ppn(this,$ppe,$ppe+1);return this},$ppu.prototype.swap32=function(){var $ppt=this.length;if($ppt%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $ppe=0;$ppe<$ppt;$ppe+=4)$ppn(this,$ppe,$ppe+3),$ppn(this,$ppe+1,$ppe+2);return this},$ppu.prototype.swap64=function(){var $ppt=this.length;if($ppt%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $ppe=0;$ppe<$ppt;$ppe+=8)$ppn(this,$ppe,$ppe+7),$ppn(this,$ppe+1,$ppe+6),$ppn(this,$ppe+2,$ppe+5),$ppn(this,$ppe+3,$ppe+4);return this},$ppu.prototype.toString=function(){var $ppt=0|this.length;return 0==$ppt?"":0===arguments.length?$ppS(this,0,$ppt):$ppe.apply(this,arguments)},$ppu.prototype.equals=function($ppt){if(!$ppu.isBuffer($ppt))throw new TypeError("Argument must be a Buffer");return this===$ppt||0===$ppu.compare(this,$ppt)},$ppu.prototype.inspect=function(){var $ppt="",$ppe=$ppL.INSPECT_MAX_BYTES;return 0<this.length&&($ppt=this.toString("hex",0,$ppe).match(/.{2}/g).join(" "),this.length>$ppe&&($ppt+=" ... ")),"<Buffer "+$ppt+">"},$ppu.prototype.compare=function($ppt,$ppe,$ppi,$ppn,$ppr){if(!$ppu.isBuffer($ppt))throw new TypeError("Argument must be a Buffer");if(void 0===$ppi&&($ppi=$ppt?$ppt.length:0),void 0===$ppn&&($ppn=0),void 0===$ppr&&($ppr=this.length),($ppe=void 0===$ppe?0:$ppe)<0||$ppi>$ppt.length||$ppn<0||$ppr>this.length)throw new RangeError("out of range index");if($ppr<=$ppn&&$ppi<=$ppe)return 0;if($ppr<=$ppn)return-1;if($ppi<=$ppe)return 1;if(this===$ppt)return 0;for(var $pps=($ppr>>>=0)-($ppn>>>=0),$ppa=($ppi>>>=0)-($ppe>>>=0),$ppc=Math.min($pps,$ppa),$ppo=this.slice($ppn,$ppr),$pph=$ppt.slice($ppe,$ppi),$ppl=0;$ppl<$ppc;++$ppl)if($ppo[$ppl]!==$pph[$ppl]){$pps=$ppo[$ppl],$ppa=$pph[$ppl];break}return $pps<$ppa?-1:$ppa<$pps?1:0},$ppu.prototype.includes=function($ppt,$ppe,$ppi){return-1!==this.indexOf($ppt,$ppe,$ppi)},$ppu.prototype.indexOf=function($ppt,$ppe,$ppi){return $ppv(this,$ppt,$ppe,$ppi,!0)},$ppu.prototype.lastIndexOf=function($ppt,$ppe,$ppi){return $ppv(this,$ppt,$ppe,$ppi,!1)},$ppu.prototype.write=function($ppt,$ppe,$ppi,$ppn){if(void 0===$ppe)$ppn="utf8",$ppi=this.length,$ppe=0;else if(void 0===$ppi&&"string"==typeof $ppe)$ppn=$ppe,$ppi=this.length,$ppe=0;else{if(!isFinite($ppe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$ppe|=0,isFinite($ppi)?($ppi|=0,void 0===$ppn&&($ppn="utf8")):($ppn=$ppi,$ppi=void 0)}var $ppc=this.length-$ppe;if((void 0===$ppi||$ppc<$ppi)&&($ppi=$ppc),0<$ppt.length&&($ppi<0||$ppe<0)||$ppe>this.length)throw new RangeError("Attempt to write outside buffer bounds");$ppn=$ppn||"utf8";for(var $ppu=!1;;)switch($ppn){case"hex":var $pp_=this;var $ppd=$ppt;var $ppr=$ppe;var $pps=$ppi;$ppr=Number($ppr)||0;var $ppa=$pp_.length-$ppr;if($pps?$ppa<($pps=Number($pps))&&($pps=$ppa):$pps=$ppa,($ppa=$ppd.length)%2!=0)throw new TypeError("Invalid hex string");$ppa/2<$pps&&($pps=$ppa/2);for(var $ppo=0;$ppo<$pps;++$ppo){var $ppf=parseInt($ppd.substr(2*$ppo,2),16);if(isNaN($ppf))return $ppo;$pp_[$ppr+$ppo]=$ppf}return $ppo;case"utf8":case"utf-8":return $ppa=$ppe,$ppl=$ppi,$ppE($ppm($ppt,($pph=this).length-$ppa),$pph,$ppa,$ppl);case"ascii":return $ppx(this,$ppt,$ppe,$ppi);case"latin1":case"binary":return $ppx(this,$ppt,$ppe,$ppi);case"base64":return $pph=this,$ppl=$ppe,$ppp=$ppi,$ppE($ppM($ppt),$pph,$ppl,$ppp);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $ppw(this,$ppt,$ppe,$ppi);default:if($ppu)throw new TypeError("Unknown encoding: "+$ppn);$ppn=(""+$ppn).toLowerCase(),$ppu=!0}var $ppp;var $pph,$ppl},$ppu.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $ppI=4096;$ppu.prototype.slice=function($ppt,$ppe){var $ppi=this.length;var $ppn;if(($ppt=~~$ppt)<0?($ppt+=$ppi)<0&&($ppt=0):$ppi<$ppt&&($ppt=$ppi),($ppe=void 0===$ppe?$ppi:~~$ppe)<0?($ppe+=$ppi)<0&&($ppe=0):$ppi<$ppe&&($ppe=$ppi),$ppe<$ppt&&($ppe=$ppt),$ppu.TYPED_ARRAY_SUPPORT)($ppn=this.subarray($ppt,$ppe)).__proto__=$ppu.prototype;else{var $ppr=$ppe-$ppt;$ppn=new $ppu($ppr,void 0);for(var $pps=0;$pps<$ppr;++$pps)$ppn[$pps]=this[$pps+$ppt]}return $ppn},$ppu.prototype.readUIntLE=function($ppt,$ppe,$ppi){$ppt|=0,$ppe|=0,$ppi||$ppa($ppt,$ppe,this.length);for(var $ppn=this[$ppt],$ppr=1,$pps=0;++$pps<$ppe&&($ppr*=256);)$ppn+=this[$ppt+$pps]*$ppr;return $ppn},$ppu.prototype.readUIntBE=function($ppt,$ppe,$ppi){$ppt|=0,$ppe|=0,$ppi||$ppa($ppt,$ppe,this.length);for(var $ppn=this[$ppt+--$ppe],$ppr=1;0<$ppe&&($ppr*=256);)$ppn+=this[$ppt+--$ppe]*$ppr;return $ppn},$ppu.prototype.readUInt8=function($ppt,$ppe){return $ppe||$ppa($ppt,1,this.length),this[$ppt]},$ppu.prototype.readUInt16LE=function($ppt,$ppe){return $ppe||$ppa($ppt,2,this.length),this[$ppt]|this[$ppt+1]<<8},$ppu.prototype.readUInt16BE=function($ppt,$ppe){return $ppe||$ppa($ppt,2,this.length),this[$ppt]<<8|this[$ppt+1]},$ppu.prototype.readUInt32LE=function($ppt,$ppe){return $ppe||$ppa($ppt,4,this.length),(this[$ppt]|this[$ppt+1]<<8|this[$ppt+2]<<16)+16777216*this[$ppt+3]},$ppu.prototype.readUInt32BE=function($ppt,$ppe){return $ppe||$ppa($ppt,4,this.length),16777216*this[$ppt]+(this[$ppt+1]<<16|this[$ppt+2]<<8|this[$ppt+3])},$ppu.prototype.readIntLE=function($ppt,$ppe,$ppi){$ppt|=0,$ppe|=0,$ppi||$ppa($ppt,$ppe,this.length);for(var $ppn=this[$ppt],$ppr=1,$pps=0;++$pps<$ppe&&($ppr*=256);)$ppn+=this[$ppt+$pps]*$ppr;return($ppr*=128)<=$ppn&&($ppn-=Math.pow(2,8*$ppe)),$ppn},$ppu.prototype.readIntBE=function($ppt,$ppe,$ppi){$ppt|=0,$ppe|=0,$ppi||$ppa($ppt,$ppe,this.length);for(var $ppn=$ppe,$ppr=1,$pps=this[$ppt+--$ppn];0<$ppn&&($ppr*=256);)$pps+=this[$ppt+--$ppn]*$ppr;return($ppr*=128)<=$pps&&($pps-=Math.pow(2,8*$ppe)),$pps},$ppu.prototype.readInt8=function($ppt,$ppe){return $ppe||$ppa($ppt,1,this.length),128&this[$ppt]?-1*(255-this[$ppt]+1):this[$ppt]},$ppu.prototype.readInt16LE=function($ppt,$ppe){$ppe||$ppa($ppt,2,this.length);$ppe=this[$ppt]|this[$ppt+1]<<8;return 32768&$ppe?4294901760|$ppe:$ppe},$ppu.prototype.readInt16BE=function($ppt,$ppe){$ppe||$ppa($ppt,2,this.length);$ppe=this[$ppt+1]|this[$ppt]<<8;return 32768&$ppe?4294901760|$ppe:$ppe},$ppu.prototype.readInt32LE=function($ppt,$ppe){return $ppe||$ppa($ppt,4,this.length),this[$ppt]|this[$ppt+1]<<8|this[$ppt+2]<<16|this[$ppt+3]<<24},$ppu.prototype.readInt32BE=function($ppt,$ppe){return $ppe||$ppa($ppt,4,this.length),this[$ppt]<<24|this[$ppt+1]<<16|this[$ppt+2]<<8|this[$ppt+3]},$ppu.prototype.readFloatLE=function($ppt,$ppe){return $ppe||$ppa($ppt,4,this.length),$ppl.read(this,$ppt,!0,23,4)},$ppu.prototype.readFloatBE=function($ppt,$ppe){return $ppe||$ppa($ppt,4,this.length),$ppl.read(this,$ppt,!1,23,4)},$ppu.prototype.readDoubleLE=function($ppt,$ppe){return $ppe||$ppa($ppt,8,this.length),$ppl.read(this,$ppt,!0,52,8)},$ppu.prototype.readDoubleBE=function($ppt,$ppe){return $ppe||$ppa($ppt,8,this.length),$ppl.read(this,$ppt,!1,52,8)},$ppu.prototype.writeUIntLE=function($ppt,$ppe,$ppi,$ppn){$ppt=+$ppt,$ppe|=0,$ppi|=0,$ppn||$pph(this,$ppt,$ppe,$ppi,Math.pow(2,8*$ppi)-1,0);var $ppr=1,$pps=0;for(this[$ppe]=255&$ppt;++$pps<$ppi&&($ppr*=256);)this[$ppe+$pps]=$ppt/$ppr&255;return $ppe+$ppi},$ppu.prototype.writeUIntBE=function($ppt,$ppe,$ppi,$ppn){$ppt=+$ppt,$ppe|=0,$ppi|=0,$ppn||$pph(this,$ppt,$ppe,$ppi,Math.pow(2,8*$ppi)-1,0);var $ppr=$ppi-1,$pps=1;for(this[$ppe+$ppr]=255&$ppt;0<=--$ppr&&($pps*=256);)this[$ppe+$ppr]=$ppt/$pps&255;return $ppe+$ppi},$ppu.prototype.writeUInt8=function($ppt,$ppe,$ppi){return $ppt=+$ppt,$ppe|=0,$ppi||$pph(this,$ppt,$ppe,1,255,0),$ppu.TYPED_ARRAY_SUPPORT||($ppt=Math.floor($ppt)),this[$ppe]=255&$ppt,$ppe+1},$ppu.prototype.writeUInt16LE=function($ppt,$ppe,$ppi){return $ppt=+$ppt,$ppe|=0,$ppi||$pph(this,$ppt,$ppe,2,65535,0),$ppu.TYPED_ARRAY_SUPPORT?(this[$ppe]=255&$ppt,this[$ppe+1]=$ppt>>>8):$ppr(this,$ppt,$ppe,!0),$ppe+2},$ppu.prototype.writeUInt16BE=function($ppt,$ppe,$ppi){return $ppt=+$ppt,$ppe|=0,$ppi||$pph(this,$ppt,$ppe,2,65535,0),$ppu.TYPED_ARRAY_SUPPORT?(this[$ppe]=$ppt>>>8,this[$ppe+1]=255&$ppt):$ppr(this,$ppt,$ppe,!1),$ppe+2},$ppu.prototype.writeUInt32LE=function($ppt,$ppe,$ppi){return $ppt=+$ppt,$ppe|=0,$ppi||$pph(this,$ppt,$ppe,4,4294967295,0),$ppu.TYPED_ARRAY_SUPPORT?(this[$ppe+3]=$ppt>>>24,this[$ppe+2]=$ppt>>>16,this[$ppe+1]=$ppt>>>8,this[$ppe]=255&$ppt):$pps(this,$ppt,$ppe,!0),$ppe+4},$ppu.prototype.writeUInt32BE=function($ppt,$ppe,$ppi){return $ppt=+$ppt,$ppe|=0,$ppi||$pph(this,$ppt,$ppe,4,4294967295,0),$ppu.TYPED_ARRAY_SUPPORT?(this[$ppe]=$ppt>>>24,this[$ppe+1]=$ppt>>>16,this[$ppe+2]=$ppt>>>8,this[$ppe+3]=255&$ppt):$pps(this,$ppt,$ppe,!1),$ppe+4},$ppu.prototype.writeIntLE=function($ppt,$ppe,$ppi,$ppn){$ppt=+$ppt,$ppe|=0,$ppn||$pph(this,$ppt,$ppe,$ppi,($ppn=Math.pow(2,8*$ppi-1))-1,-$ppn);var $ppr=0,$pps=1,$ppa=0;for(this[$ppe]=255&$ppt;++$ppr<$ppi&&($pps*=256);)$ppt<0&&0===$ppa&&0!==this[$ppe+$ppr-1]&&($ppa=1),this[$ppe+$ppr]=($ppt/$pps>>0)-$ppa&255;return $ppe+$ppi},$ppu.prototype.writeIntBE=function($ppt,$ppe,$ppi,$ppn){$ppt=+$ppt,$ppe|=0,$ppn||$pph(this,$ppt,$ppe,$ppi,($ppn=Math.pow(2,8*$ppi-1))-1,-$ppn);var $ppr=$ppi-1,$pps=1,$ppa=0;for(this[$ppe+$ppr]=255&$ppt;0<=--$ppr&&($pps*=256);)$ppt<0&&0===$ppa&&0!==this[$ppe+$ppr+1]&&($ppa=1),this[$ppe+$ppr]=($ppt/$pps>>0)-$ppa&255;return $ppe+$ppi},$ppu.prototype.writeInt8=function($ppt,$ppe,$ppi){return $ppt=+$ppt,$ppe|=0,$ppi||$pph(this,$ppt,$ppe,1,127,-128),$ppu.TYPED_ARRAY_SUPPORT||($ppt=Math.floor($ppt)),this[$ppe]=255&($ppt=$ppt<0?255+$ppt+1:$ppt),$ppe+1},$ppu.prototype.writeInt16LE=function($ppt,$ppe,$ppi){return $ppt=+$ppt,$ppe|=0,$ppi||$pph(this,$ppt,$ppe,2,32767,-32768),$ppu.TYPED_ARRAY_SUPPORT?(this[$ppe]=255&$ppt,this[$ppe+1]=$ppt>>>8):$ppr(this,$ppt,$ppe,!0),$ppe+2},$ppu.prototype.writeInt16BE=function($ppt,$ppe,$ppi){return $ppt=+$ppt,$ppe|=0,$ppi||$pph(this,$ppt,$ppe,2,32767,-32768),$ppu.TYPED_ARRAY_SUPPORT?(this[$ppe]=$ppt>>>8,this[$ppe+1]=255&$ppt):$ppr(this,$ppt,$ppe,!1),$ppe+2},$ppu.prototype.writeInt32LE=function($ppt,$ppe,$ppi){return $ppt=+$ppt,$ppe|=0,$ppi||$pph(this,$ppt,$ppe,4,2147483647,-2147483648),$ppu.TYPED_ARRAY_SUPPORT?(this[$ppe]=255&$ppt,this[$ppe+1]=$ppt>>>8,this[$ppe+2]=$ppt>>>16,this[$ppe+3]=$ppt>>>24):$pps(this,$ppt,$ppe,!0),$ppe+4},$ppu.prototype.writeInt32BE=function($ppt,$ppe,$ppi){return $ppt=+$ppt,$ppe|=0,$ppi||$pph(this,$ppt,$ppe,4,2147483647,-2147483648),$ppt<0&&($ppt=4294967295+$ppt+1),$ppu.TYPED_ARRAY_SUPPORT?(this[$ppe]=$ppt>>>24,this[$ppe+1]=$ppt>>>16,this[$ppe+2]=$ppt>>>8,this[$ppe+3]=255&$ppt):$pps(this,$ppt,$ppe,!1),$ppe+4},$ppu.prototype.writeFloatLE=function($ppt,$ppe,$ppi){return $ppT(this,$ppt,$ppe,!0,$ppi)},$ppu.prototype.writeFloatBE=function($ppt,$ppe,$ppi){return $ppT(this,$ppt,$ppe,!1,$ppi)},$ppu.prototype.writeDoubleLE=function($ppt,$ppe,$ppi){return $ppC(this,$ppt,$ppe,!0,$ppi)},$ppu.prototype.writeDoubleBE=function($ppt,$ppe,$ppi){return $ppC(this,$ppt,$ppe,!1,$ppi)},$ppu.prototype.copy=function($ppt,$ppe,$ppi,$ppn){if($ppi=$ppi||0,$ppn||0===$ppn||($ppn=this.length),$ppe>=$ppt.length&&($ppe=$ppt.length),($ppn=0<$ppn&&$ppn<$ppi?$ppi:$ppn)===$ppi)return 0;if(0===$ppt.length||0===this.length)return 0;if(($ppe=$ppe||0)<0)throw new RangeError("targetStart out of bounds");if($ppi<0||$ppi>=this.length)throw new RangeError("sourceStart out of bounds");if($ppn<0)throw new RangeError("sourceEnd out of bounds");$ppn>this.length&&($ppn=this.length);var $ppr,$pps=($ppn=$ppt.length-$ppe<$ppn-$ppi?$ppt.length-$ppe+$ppi:$ppn)-$ppi;if(this===$ppt&&$ppi<$ppe&&$ppe<$ppn)for($ppr=$pps-1;0<=$ppr;--$ppr)$ppt[$ppr+$ppe]=this[$ppr+$ppi];else if($pps<1e3||!$ppu.TYPED_ARRAY_SUPPORT)for($ppr=0;$ppr<$pps;++$ppr)$ppt[$ppr+$ppe]=this[$ppr+$ppi];else Uint8Array.prototype.set.call($ppt,this.subarray($ppi,$ppi+$pps),$ppe);return $pps},$ppu.prototype.fill=function($ppt,$ppe,$ppi,$ppn){if("string"==typeof $ppt){var $ppr;if("string"==typeof $ppe?($ppn=$ppe,$ppe=0,$ppi=this.length):"string"==typeof $ppi&&($ppn=$ppi,$ppi=this.length),1===$ppt.length&&($ppr=$ppt.charCodeAt(0))<256&&($ppt=$ppr),void 0!==$ppn&&"string"!=typeof $ppn)throw new TypeError("encoding must be a string");if("string"==typeof $ppn&&!$ppu.isEncoding($ppn))throw new TypeError("Unknown encoding: "+$ppn)}else"number"==typeof $ppt&&($ppt&=255);if($ppe<0||this.length<$ppe||this.length<$ppi)throw new RangeError("Out of range index");if($ppi<=$ppe)return this;var $pps;if($ppe>>>=0,$ppi=void 0===$ppi?this.length:$ppi>>>0,"number"==typeof($ppt=$ppt||0))for($pps=$ppe;$pps<$ppi;++$pps)this[$pps]=$ppt;else{var $ppa=$ppu.isBuffer($ppt)?$ppt:$ppm(new $ppu($ppt,$ppn).toString()),$ppo=$ppa.length;for($pps=0;$pps<$ppi-$ppe;++$pps)this[$pps+$ppe]=$ppa[$pps%$ppo]}return this};var $ppR=/[^+\/0-9A-Za-z-_]/g}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":30,ieee754:32,isarray:34}],30:[function($ppr,$pps,$ppt){"use strict";function $pph($ppt){var $ppe=$ppt.length;if(0<$ppe%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===$ppt[$ppe-2]?2:"="===$ppt[$ppe-1]?1:0}function $ppl($ppt,$ppe,$ppi){for(var $ppn,$ppr=[],$pps=$ppe;$pps<$ppi;$pps+=3)$ppn=($ppt[$pps]<<16)+($ppt[$pps+1]<<8)+$ppt[$pps+2],$ppr.push($ppc[$ppn>>18&63]+$ppc[$ppn>>12&63]+$ppc[$ppn>>6&63]+$ppc[63&$ppn]);return $ppr.join("")}$ppt.byteLength=function($ppt){return 3*$ppt.length/4-$pph($ppt)},$ppt.toByteArray=function($ppt){var $ppe,$ppi,$ppn,$ppr,$pps,$ppa=$ppt.length;$ppr=$pph($ppt),$pps=new $pp_(3*$ppa/4-$ppr),$ppi=0<$ppr?$ppa-4:$ppa;var $ppo=0;for($ppe=0;$ppe<$ppi;$ppe+=4,0)$ppn=$ppu[$ppt.charCodeAt($ppe)]<<18|$ppu[$ppt.charCodeAt($ppe+1)]<<12|$ppu[$ppt.charCodeAt($ppe+2)]<<6|$ppu[$ppt.charCodeAt($ppe+3)],$pps[$ppo++]=$ppn>>16&255,$pps[$ppo++]=$ppn>>8&255,$pps[$ppo++]=255&$ppn;return 2===$ppr?($ppn=$ppu[$ppt.charCodeAt($ppe)]<<2|$ppu[$ppt.charCodeAt($ppe+1)]>>4,$pps[$ppo++]=255&$ppn):1===$ppr&&($ppn=$ppu[$ppt.charCodeAt($ppe)]<<10|$ppu[$ppt.charCodeAt($ppe+1)]<<4|$ppu[$ppt.charCodeAt($ppe+2)]>>2,$pps[$ppo++]=$ppn>>8&255,$pps[$ppo++]=255&$ppn),$pps},$ppt.fromByteArray=function($ppt){for(var $ppe,$ppi=$ppt.length,$ppn=$ppi%3,$ppr="",$pps=[],$ppa=0,$ppo=$ppi-$ppn;$ppa<$ppo;$ppa+=16383)$pps.push($ppl($ppt,$ppa,$ppo<$ppa+16383?$ppo:$ppa+16383));return 1==$ppn?($ppe=$ppt[$ppi-1],$ppr=($ppr+=$ppc[$ppe>>2])+$ppc[$ppe<<4&63]+"=="):2==$ppn&&($ppe=($ppt[$ppi-2]<<8)+$ppt[$ppi-1],$ppr=($ppr=($ppr+=$ppc[$ppe>>10])+$ppc[$ppe>>4&63])+$ppc[$ppe<<2&63]+"="),$pps.push($ppr),$pps.join("")};for(var $ppc=[],$ppu=[],$pp_="undefined"!=typeof Uint8Array?Uint8Array:Array,$ppe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$ppi=0,$ppn=$ppe.length;$ppi<$ppn;++$ppi)$ppc[$ppi]=$ppe[$ppi],$ppu[$ppe.charCodeAt($ppi)]=$ppi;$ppu["-".charCodeAt(0)]=62,$ppu["_".charCodeAt(0)]=63},{}],31:[function($ppt,$ppe,$ppi){function $ppn($ppt){for(var $ppe in $pph)$ppt[$ppe]=$pph[$ppe];return $ppt}function $ppr($ppt,$ppe){var $ppi;if(arguments.length){if($ppe){if($ppi=$ppa(this,$ppt,!0)){if(!($ppi=$ppi.filter(function($ppt){return $ppt!==$ppe&&$ppt.originalListener!==$ppe})).length)return $ppr.call(this,$ppt);this[$ppo][$ppt]=$ppi}}else if(($ppi=this[$ppo])&&(delete $ppi[$ppt],!Object.keys($ppi).length))return $ppr.call(this)}else delete this[$ppo];return this}function $ppa($ppt,$ppe,$ppi){if(!$ppi||$ppt[$ppo])return($ppi=$ppt[$ppo]||($ppt[$ppo]={}))[$ppe]||($ppi[$ppe]=[])}var $pps,$ppo,$pph;$pps=function $ppt(){if(!(this instanceof $ppt))return new $ppt},void 0!==$ppe&&($ppe.exports=$pps),$ppo="listeners",$pph={on:function($ppt,$ppe){return $ppa(this,$ppt).push($ppe),this},once:function($ppt,$ppe){function $ppi(){$ppr.call($ppn,$ppt,$ppi),$ppe.apply(this,arguments)}var $ppn=this;return $ppi.originalListener=$ppe,$ppa($ppn,$ppt).push($ppi),$ppn},off:$ppr,emit:function($ppt,$ppe){var $ppi=this,$ppn=$ppa($ppi,$ppt,!0);if(!$ppn)return!1;var $ppr=arguments.length;var $pps;return 1===$ppr?$ppn.forEach(function($ppt){$ppt.call($ppi)}):2===$ppr?$ppn.forEach(function($ppt){$ppt.call($ppi,$ppe)}):($pps=Array.prototype.slice.call(arguments,1),$ppn.forEach(function($ppt){$ppt.apply($ppi,$pps)})),!!$ppn.length}},$ppn($pps.prototype),$pps.mixin=$ppn},{}],32:[function($ppt,$ppe,$ppi){$ppi.read=function($ppt,$ppe,$ppi,$ppn,$ppr){var $pps,$ppa,$ppc=8*$ppr-$ppn-1,$ppu=(1<<$ppc)-1,$pp_=$ppu>>1,$ppo=-7,$pph=$ppi?$ppr-1:0,$ppl=$ppi?-1:1,$ppr=$ppt[$ppe+$pph];for($pph+=$ppl,$pps=$ppr&(1<<-$ppo)-1,$ppr>>=-$ppo,$ppo+=$ppc;0<$ppo;$pps=256*$pps+$ppt[$ppe+$pph],$pph+=$ppl,$ppo-=8);for($ppa=$pps&(1<<-$ppo)-1,$pps>>=-$ppo,$ppo+=$ppn;0<$ppo;$ppa=256*$ppa+$ppt[$ppe+$pph],$pph+=$ppl,$ppo-=8);if(0===$pps)$pps=1-$pp_;else{if($pps===$ppu)return $ppa?NaN:1/0*($ppr?-1:1);$ppa+=Math.pow(2,$ppn),$pps-=$pp_}return($ppr?-1:1)*$ppa*Math.pow(2,$pps-$ppn)},$ppi.write=function($ppt,$ppe,$ppc,$ppi,$ppn,$ppu){var $ppr,$pps,$ppa=8*$ppu-$ppn-1,$ppo=(1<<$ppa)-1,$pph=$ppo>>1,$pp_=23===$ppn?Math.pow(2,-24)-Math.pow(2,-77):0,$ppl=$ppi?0:$ppu-1,$ppd=$ppi?1:-1,$ppu=$ppe<0||0===$ppe&&1/$ppe<0?1:0;for($ppe=Math.abs($ppe),isNaN($ppe)||$ppe===1/0?($pps=isNaN($ppe)?1:0,$ppr=$ppo):($ppr=Math.floor(Math.log($ppe)/Math.LN2),$ppe*($ppi=Math.pow(2,-$ppr))<1&&($ppr--,$ppi*=2),2<=($ppe+=1<=$ppr+$pph?$pp_/$ppi:$pp_*Math.pow(2,1-$pph))*$ppi&&($ppr++,$ppi/=2),$ppo<=$ppr+$pph?($pps=0,$ppr=$ppo):1<=$ppr+$pph?($pps=($ppe*$ppi-1)*Math.pow(2,$ppn),$ppr+=$pph):($pps=$ppe*Math.pow(2,$pph-1)*Math.pow(2,$ppn),$ppr=0));8<=$ppn;$ppt[$ppc+$ppl]=255&$pps,$ppl+=$ppd,$pps/=256,$ppn-=8);for($ppr=$ppr<<$ppn|$pps,$ppa+=$ppn;0<$ppa;$ppt[$ppc+$ppl]=255&$ppr,$ppl+=$ppd,$ppr/=256,$ppa-=8);$ppt[$ppc+$ppl-$ppd]|=128*$ppu}},{}],33:[function($ppt,$ppe,$ppi){!function($ppn){function $ppt($ppt,$ppe,$ppo){function $ppp($ppt,$ppe,$ppi,$ppn){if(!(this instanceof $ppp))return new $ppp($ppt,$ppe,$ppi,$ppn);var $ppr=this;if($ppS&&$ppC&&($ppt instanceof $ppC&&($ppt=new $ppS($ppt)),$ppi instanceof $ppC&&($ppi=new $ppS($ppi))),$ppt||$ppe||$ppi||$ppb){if($ppA($ppt,$ppe)||($pps=$ppb||Array,$ppn=$ppe,$ppi=$ppt,$ppe=0,$ppt=new $pps(8)),$ppr.buffer=$ppt,$ppr.offset=$ppe|=0,$ppT!=typeof $ppi)if("string"==typeof $ppi){var $pps=$ppt;var $ppc=$ppe;var $ppa=$ppi;var $ppu=$ppn||10;var $ppo=0,$pp_=$ppa.length,$pph=0,$ppl=0;"-"===$ppa[0]&&$ppo++;for(var $ppd=$ppo;$ppo<$pp_;){var $ppf=parseInt($ppa[$ppo++],$ppu);if(!(0<=$ppf))break;$ppl=$ppl*$ppu+$ppf,$pph=$pph*$ppu+Math.floor($ppl/$ppE),$ppl%=$ppE}$ppd&&($pph=~$pph,$ppl?$ppl=$ppE-$ppl:$pph++),$ppm($pps,$ppc+$ppg,$pph),$ppm($pps,$ppc+$ppv,$ppl)}else $ppA($ppi,$ppn)?$ppw($ppt,$ppe,$ppi,$ppn):"number"==typeof $ppn?($ppm($ppt,$ppe+$ppg,$ppi),$ppm($ppt,$ppe+$ppv,$ppn)):0<$ppi?$ppy($ppt,$ppe,$ppi):$ppi<0?$ppx($ppt,$ppe,$ppi):$ppw($ppt,$ppe,$ppM,0)}else $ppr.buffer=$ppD($ppM,0)}function $ppi(){var $ppt=this.buffer,$ppe=this.offset,$ppi=$pph($ppt,$ppe+$ppg),$ppt=$pph($ppt,$ppe+$ppv);return $ppo||($ppi|=0),$ppi?$ppi*$ppE+$ppt:$ppt}function $ppm($ppt,$ppe,$ppi){$ppt[$ppe+$ppa]=255&$ppi,$ppt[$ppe+$pps]=255&($ppi>>=8),$ppt[$ppe+$ppr]=255&($ppi>>=8),$ppt[$ppe+$ppn]=255&($ppi>>=8)}function $pph($ppt,$ppe){return 16777216*$ppt[$ppe+$ppn]+($ppt[$ppe+$ppr]<<16)+($ppt[$ppe+$pps]<<8)+$ppt[$ppe+$ppa]}var $ppg=$ppe?0:4,$ppv=$ppe?4:0,$ppn=$ppe?0:3,$ppr=$ppe?1:2,$pps=$ppe?2:1,$ppa=$ppe?3:0,$ppy=$ppe?$ppI:$ppP,$ppx=$ppe?$ppR:$ppL,$ppe=$ppp.prototype,$ppl="is"+$ppt,$ppc="_"+$ppl;return $ppe.buffer=void 0,$ppe.offset=0,$ppe[$ppc]=!0,$ppe.toNumber=$ppi,$ppe.toString=function($ppt){var $ppe=this.buffer,$ppi=this.offset,$ppn=$pph($ppe,$ppi+$ppg),$ppr=$pph($ppe,$ppi+$ppv),$pps="";for(($ppe=!$ppo&&2147483648&$ppn)&&($ppn=~$ppn,$ppr=$ppE-$ppr),$ppt=$ppt||10;;){var $ppa=$ppn%$ppt*$ppE+$ppr;if($ppn=Math.floor($ppn/$ppt),$ppr=Math.floor($ppa/$ppt),$pps=($ppa%$ppt).toString($ppt)+$pps,!$ppn&&!$ppr)break}return $pps=$ppe?"-"+$pps:$pps},$ppe.toJSON=$ppi,$ppe.toArray=$pp_,$ppu&&($ppe.toBuffer=$ppd),$ppS&&($ppe.toArrayBuffer=$ppf),$ppp[$ppl]=function($ppt){return!(!$ppt||!$ppt[$ppc])},$ppB[$ppt]=$ppp}function $pp_($ppt){var $ppe=this.buffer,$ppi=this.offset;return $ppb=null,!1!==$ppt&&0===$ppi&&8===$ppe.length&&$ppr($ppe)?$ppe:$ppD($ppe,$ppi)}function $ppd($ppt){var $ppe=this.buffer,$ppi=this.offset;if($ppb=$ppu,!1!==$ppt&&0===$ppi&&8===$ppe.length&&$ppn.isBuffer($ppe))return $ppe;$ppt=new $ppu(8);return $ppw($ppt,0,$ppe,$ppi),$ppt}function $ppf($ppt){var $ppe=this.buffer,$ppi=this.offset,$ppn=$ppe.buffer;if($ppb=$ppS,!1!==$ppt&&0===$ppi&&$ppn instanceof $ppC&&8===$ppn.byteLength)return $ppn;$ppt=new $ppS(8);return $ppw($ppt,0,$ppe,$ppi),$ppt.buffer}function $ppA($ppt,$ppe){var $ppi=$ppt&&$ppt.length;return $ppe|=0,$ppi&&$ppe+8<=$ppi&&"string"!=typeof $ppt[$ppe]}function $ppw($ppt,$ppe,$ppi,$ppn){$ppe|=0,$ppn|=0;for(var $ppr=0;$ppr<8;$ppr++)$ppt[$ppe++]=255&$ppi[$ppn++]}function $ppD($ppt,$ppe){return Array.prototype.slice.call($ppt,$ppe,$ppe+8)}function $ppI($ppt,$ppe,$ppi){for(var $ppn=$ppe+8;$ppe<$ppn;)$ppt[--$ppn]=255&$ppi,$ppi/=256}function $ppR($ppt,$ppe,$ppi){var $ppn=$ppe+8;for($ppi++;$ppe<$ppn;)$ppt[--$ppn]=255&-$ppi^255,$ppi/=256}function $ppP($ppt,$ppe,$ppi){for(var $ppn=$ppe+8;$ppe<$ppn;)$ppt[$ppe++]=255&$ppi,$ppi/=256}function $ppL($ppt,$ppe,$ppi){var $ppn=$ppe+8;for($ppi++;$ppe<$ppn;)$ppt[$ppe++]=255&-$ppi^255,$ppi/=256}var $ppB,$ppb,$ppT,$ppu,$ppS,$ppC,$ppM,$ppr,$ppE;$ppB="object"==typeof $ppi&&"string"!=typeof $ppi.nodeName?$ppi:this||{},$ppu=($ppT="undefined")!=typeof $ppn&&$ppn,$ppS=$ppT!=typeof Uint8Array&&Uint8Array,$ppC=$ppT!=typeof ArrayBuffer&&ArrayBuffer,$ppM=[0,0,0,0,0,0,0,0],$ppr=Array.isArray||function($ppt){return!!$ppt&&"[object Array]"==Object.prototype.toString.call($ppt)},$ppE=4294967296,$ppt("Uint64BE",!0,!0),$ppt("Int64BE",!0,!1),$ppt("Uint64LE",!1,!0),$ppt("Int64LE",!1,!1)}.call(this,$ppt("buffer").Buffer)},{buffer:29}],34:[function($ppt,$ppe,$ppi){var $ppn={}.toString;$ppe.exports=Array.isArray||function($ppt){return"[object Array]"==$ppn.call($ppt)}},{}]},{},[1])(1)});var __extends=this&&this.__extends||function(){var $ppn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($ppt,$ppe){$ppt.__proto__=$ppe}||function($ppt,$ppe){for(var $ppi in $ppe)$ppe.hasOwnProperty($ppi)&&($ppt[$ppi]=$ppe[$ppi])};return function($ppt,$ppe){function $ppi(){this.constructor=$ppt}$ppn($ppt,$ppe),$ppt.prototype=null===$ppe?Object.create($ppe):($ppi.prototype=$ppe.prototype,new $ppi)}}();var DNLMarkerError=function(){function $ppt($ppt,$ppe){this.message=$ppt,this.scanLines=$ppe}return($ppt.prototype=new Error).name="DNLMarkerError",$ppt.constructor=$ppt}();var EOIMarkerError=function(){function $ppt($ppt){this.message=$ppt}return($ppt.prototype=new Error).name="EOIMarkerError",$ppt.constructor=$ppt}();var JpegImage=function(){var $pp$=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);var $ppP=4017;var $ppL=799;var $ppB=3406;var $ppN=2276;var $ppO=1567;var $ppF=3784;var $ppV=5793;var $ppk=2896;function $ppt($ppt){var $ppt=void 0===$ppt?{}:$ppt,$ppe=$ppt.decodeTransform,$ppt=$ppt.colorTransform,$ppt=void 0===$ppt?-1:$ppt;this._decodeTransform=void 0===$ppe?null:$ppe,this._colorTransform=$ppt}function $ppz($ppt,$ppe,$ppi){return 64*(($ppt.blocksPerLine+1)*$ppe+$ppi)}function $ppQ($ppi,$ppn,$ppa,$ppt,$ppo,$pp_,$ppd,$ppf,$pph,$ppp){void 0===$ppp&&($ppp=!1);var $ppm=$ppa.mcusPerLine;var $ppg=$ppa.progressive;var $ppv=$ppn,$ppy=0,$ppx=0;function $ppl(){if(0<$ppx)return $ppy>>--$ppx&1;if(255===($ppy=$ppi[$ppn++])){var $ppt=$ppi[$ppn++];if($ppt){if(220===$ppt&&$ppp){$ppn+=2;var $ppe=$ppi[$ppn++]<<8|$ppi[$ppn++];if(0<$ppe&&$ppe!==$ppa.scanLines)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",$ppe)}else if(217===$ppt)throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data");throw new Error("unexpected marker "+($ppy<<8|$ppt).toString(16))}}return $ppy>>>($ppx=7)}function $ppw($ppt){var $ppe=$ppt;for(;;){if("number"==typeof($ppe=$ppe[$ppl()]))return $ppe;if("object"!=typeof $ppe)throw new Error("invalid huffman sequence")}}function $ppb($ppt){var $ppe=0;for(;0<$ppt;)$ppe=$ppe<<1|$ppl(),$ppt--;return $ppe}function $ppT($ppt){if(1===$ppt)return 1===$ppl()?1:-1;var $ppe=$ppb($ppt);return 1<<$ppt-1<=$ppe?$ppe:$ppe+(-1<<$ppt)+1}var $ppc=0;var $ppS,$ppu=0;var $ppC=$ppt.length;var $ppM,$ppe,$ppE,$ppA,$ppr;var $ppD;$ppD=$ppg?0===$pp_?0===$ppf?function($ppt,$ppe){var $ppi=$ppw($ppt.huffmanTableDC);$ppi=0===$ppi?0:$ppT($ppi)<<$pph,$ppt.blockData[$ppe]=$ppt.pred+=$ppi}:function($ppt,$ppe){$ppt.blockData[$ppe]|=$ppl()<<$pph}:0===$ppf?function($ppt,$ppe){if(0<$ppc)$ppc--;else{var $ppi=$pp_,$ppn=$ppd;for(;$ppi<=$ppn;){var $ppr=$ppw($ppt.huffmanTableAC);var $pps=15&$ppr,$ppr=$ppr>>4;if(0!=$pps){var $ppa=$pp$[$ppi+=$ppr];$ppt.blockData[$ppe+$ppa]=$ppT($pps)*(1<<$pph),$ppi++}else{if($ppr<15){$ppc=$ppb($ppr)+(1<<$ppr)-1;break}$ppi+=16}}}}:function($ppt,$ppe){var $ppi=$pp_;var $ppn=$ppd;var $ppr=0;var $pps;for(;$ppi<=$ppn;){var $ppa=$ppe+$pp$[$ppi];var $ppo=$ppt.blockData[$ppa]<0?-1:1;switch($ppu){case 0:if($ppr=($pps=$ppw($ppt.huffmanTableAC))>>4,0==($pps=15&$pps))$ppu=$ppr<15?($ppc=$ppb($ppr)+(1<<$ppr),4):($ppr=16,1);else{if(1!=$pps)throw new Error("invalid ACn encoding");$ppS=$ppT($pps),$ppu=$ppr?2:3}continue;case 1:case 2:$ppt.blockData[$ppa]?$ppt.blockData[$ppa]+=$ppo*($ppl()<<$pph):0===--$ppr&&($ppu=2===$ppu?3:0);break;case 3:$ppt.blockData[$ppa]?$ppt.blockData[$ppa]+=$ppo*($ppl()<<$pph):($ppt.blockData[$ppa]=$ppS<<$pph,$ppu=0);break;case 4:$ppt.blockData[$ppa]&&($ppt.blockData[$ppa]+=$ppo*($ppl()<<$pph))}$ppi++}4===$ppu&&0===--$ppc&&($ppu=0)}:function($ppt,$ppe){var $ppi=$ppw($ppt.huffmanTableDC);$ppi=0===$ppi?0:$ppT($ppi),$ppt.blockData[$ppe]=$ppt.pred+=$ppi;var $ppn=1;for(;$ppn<64;){var $ppr=$ppw($ppt.huffmanTableAC);var $pps=15&$ppr,$ppr=$ppr>>4;if(0!=$pps){var $ppa=$pp$[$ppn+=$ppr];$ppt.blockData[$ppe+$ppa]=$ppT($pps),$ppn++}else{if($ppr<15)break;$ppn+=16}}};var $pps,$ppI=0;var $ppR;var $ppP,$ppL;for($ppR=1===$ppC?$ppt[0].blocksPerLine*$ppt[0].blocksPerColumn:$ppm*$ppa.mcusPerColumn;$ppI<$ppR;){var $ppB=$ppo?Math.min($ppR-$ppI,$ppo):$ppR;for($ppe=0;$ppe<$ppC;$ppe++)$ppt[$ppe].pred=0;if($ppc=0,1===$ppC)for($ppM=$ppt[0],$ppr=0;$ppr<$ppB;$ppr++)$ppD($ppU=$ppM,$ppz($ppU,($ppH=$ppI)/$ppU.blocksPerLine|0,$ppH%$ppU.blocksPerLine)),$ppI++;else for($ppr=0;$ppr<$ppB;$ppr++){for($ppe=0;$ppe<$ppC;$ppe++)for($ppP=($ppM=$ppt[$ppe]).h,$ppL=$ppM.v,$ppE=0;$ppE<$ppL;$ppE++)for($ppA=0;$ppA<$ppP;$ppA++)$ppV=$ppE,$ppk=$ppA,$ppD($ppO=$ppM,$ppz($ppO,(($ppF=$ppI)/$ppm|0)*$ppO.v+$ppV,$ppF%$ppm*$ppO.h+$ppk));$ppI++}$ppx=0,($pps=$ppZ($ppi,$ppn))&&$pps.invalid&&(warn("decodeScan - unexpected MCU data, current marker is: "+$pps.invalid),$ppn=$pps.offset);var $ppN=$pps&&$pps.marker;if(!$ppN||$ppN<=65280)throw new Error("marker was not found");if(!(65488<=$ppN&&$ppN<=65495))break;$ppn+=2}var $ppO,$ppF,$ppV,$ppk;var $ppU,$ppH;return($pps=$ppZ($ppi,$ppn))&&$pps.invalid&&(warn("decodeScan - unexpected Scan data, current marker is: "+$pps.invalid),$ppn=$pps.offset),$ppn-$ppv}function $ppJ($ppc,$ppu){var $pp_=$ppu.blocksPerLine;var $ppd=$ppu.blocksPerColumn;var $ppf=new Int16Array(64);for(var $ppp=0;$ppp<$ppd;$ppp++)for(var $ppm=0;$ppm<$pp_;$ppm++){var $ppg=$ppz($ppu,$ppp,$ppm);$ppl=$pph=$ppo=$ppR=$ppI=$ppD=$ppA=$ppE=$ppM=$ppC=$ppS=$ppT=$ppa=$pps=$ppb=$ppr=$ppn=$ppw=$ppx=$ppi=$ppy=$ppe=$ppt=$ppv=void 0;var $ppv=$ppu;var $ppt=$ppg;var $ppe=$ppf;var $ppy=$ppv.quantizationTable,$ppi=$ppv.blockData;var $ppx,$ppw,$ppn,$ppr,$ppb,$pps,$ppa,$ppT;var $ppS,$ppC,$ppM,$ppE,$ppA,$ppD,$ppI,$ppR;var $ppo;if(!$ppy)throw new Error("missing required Quantization Table.");for(var $pph=0;$pph<64;$pph+=8)$ppS=$ppi[$ppt+$pph],$ppC=$ppi[$ppt+$pph+1],$ppM=$ppi[$ppt+$pph+2],$ppE=$ppi[$ppt+$pph+3],$ppA=$ppi[$ppt+$pph+4],$ppD=$ppi[$ppt+$pph+5],$ppI=$ppi[$ppt+$pph+6],$ppR=$ppi[$ppt+$pph+7],$ppS*=$ppy[$pph],0!=($ppC|$ppM|$ppE|$ppA|$ppD|$ppI|$ppR)?($ppC*=$ppy[$pph+1],$ppM*=$ppy[$pph+2],$ppE*=$ppy[$pph+3],$ppA*=$ppy[$pph+4],$ppD*=$ppy[$pph+5],$ppI*=$ppy[$pph+6],$ppR*=$ppy[$pph+7],$ppw=($ppx=($ppx=$ppV*$ppS+128>>8)+($ppw=$ppV*$ppA+128>>8)+1>>1)-$ppw,$ppo=($ppn=$ppM)*$ppF+($ppr=$ppI)*$ppO+128>>8,$ppn=$ppn*$ppO-$ppr*$ppF+128>>8,$ppa=($ppb=($ppb=$ppk*($ppC-$ppR)+128>>8)+($ppa=$ppD<<4)+1>>1)-$ppa,$pps=($ppT=($ppT=$ppk*($ppC+$ppR)+128>>8)+($pps=$ppE<<4)+1>>1)-$pps,$ppr=($ppx=$ppx+($ppr=$ppo)+1>>1)-$ppr,$ppn=($ppw=$ppw+$ppn+1>>1)-$ppn,$ppo=$ppb*$ppN+$ppT*$ppB+2048>>12,$ppb=$ppb*$ppB-$ppT*$ppN+2048>>12,$ppT=$ppo,$ppo=$pps*$ppL+$ppa*$ppP+2048>>12,$pps=$pps*$ppP-$ppa*$ppL+2048>>12,$ppa=$ppo,$ppe[$pph]=$ppx+$ppT,$ppe[$pph+7]=$ppx-$ppT,$ppe[$pph+1]=$ppw+$ppa,$ppe[$pph+6]=$ppw-$ppa,$ppe[$pph+2]=$ppn+$pps,$ppe[$pph+5]=$ppn-$pps,$ppe[$pph+3]=$ppr+$ppb,$ppe[$pph+4]=$ppr-$ppb):($ppe[$pph]=$ppo=$ppV*$ppS+512>>10,$ppe[$pph+1]=$ppo,$ppe[$pph+2]=$ppo,$ppe[$pph+3]=$ppo,$ppe[$pph+4]=$ppo,$ppe[$pph+5]=$ppo,$ppe[$pph+6]=$ppo,$ppe[$pph+7]=$ppo);for(var $ppl=0;$ppl<8;++$ppl)$ppS=$ppe[$ppl],0!=(($ppC=$ppe[$ppl+8])|($ppM=$ppe[$ppl+16])|($ppE=$ppe[$ppl+24])|($ppA=$ppe[$ppl+32])|($ppD=$ppe[$ppl+40])|($ppI=$ppe[$ppl+48])|($ppR=$ppe[$ppl+56]))?($ppo=($ppn=$ppM)*$ppF+($ppr=$ppI)*$ppO+2048>>12,$ppn=$ppn*$ppO-$ppr*$ppF+2048>>12,$ppr=$ppo,$ppa=($ppb=($ppb=$ppk*($ppC-$ppR)+2048>>12)+($ppa=$ppD)+1>>1)-$ppa,$pps=($ppT=($ppT=$ppk*($ppC+$ppR)+2048>>12)+($pps=$ppE)+1>>1)-$pps,$ppo=$ppb*$ppN+$ppT*$ppB+2048>>12,$ppb=$ppb*$ppB-$ppT*$ppN+2048>>12,$ppT=$ppo,$ppo=$pps*$ppL+$ppa*$ppP+2048>>12,$pps=$pps*$ppP-$ppa*$ppL+2048>>12,$ppC=($ppC=($ppw=($ppw=($ppx=4112+(($ppx=$ppV*$ppS+2048>>12)+($ppw=$ppV*$ppA+2048>>12)+1>>1))-$ppw)+$ppn+1>>1)+($ppa=$ppo))<16?0:4080<=$ppC?255:$ppC>>4,$ppM=($ppM=($ppn=$ppw-$ppn)+$pps)<16?0:4080<=$ppM?255:$ppM>>4,$ppE=($ppE=($ppr=($ppx=$ppx+$ppr+1>>1)-$ppr)+$ppb)<16?0:4080<=$ppE?255:$ppE>>4,$ppA=($ppA=$ppr-$ppb)<16?0:4080<=$ppA?255:$ppA>>4,$ppD=($ppD=$ppn-$pps)<16?0:4080<=$ppD?255:$ppD>>4,$ppI=($ppI=$ppw-$ppa)<16?0:4080<=$ppI?255:$ppI>>4,$ppR=($ppR=$ppx-$ppT)<16?0:4080<=$ppR?255:$ppR>>4,$ppi[$ppt+$ppl]=$ppS=($ppS=$ppx+$ppT)<16?0:4080<=$ppS?255:$ppS>>4,$ppi[$ppt+$ppl+8]=$ppC,$ppi[$ppt+$ppl+16]=$ppM,$ppi[$ppt+$ppl+24]=$ppE,$ppi[$ppt+$ppl+32]=$ppA,$ppi[$ppt+$ppl+40]=$ppD,$ppi[$ppt+$ppl+48]=$ppI,$ppi[$ppt+$ppl+56]=$ppR):($ppi[$ppt+$ppl]=$ppo=($ppo=$ppV*$ppS+8192>>14)<-2040?0:2024<=$ppo?255:$ppo+2056>>4,$ppi[$ppt+$ppl+8]=$ppo,$ppi[$ppt+$ppl+16]=$ppo,$ppi[$ppt+$ppl+24]=$ppo,$ppi[$ppt+$ppl+32]=$ppo,$ppi[$ppt+$ppl+40]=$ppo,$ppi[$ppt+$ppl+48]=$ppo,$ppi[$ppt+$ppl+56]=$ppo)}return $ppu.blockData}function $ppZ($ppe,$ppt,$ppi){function $ppn($ppt){return $ppe[$ppt]<<8|$ppe[$ppt+1]}var $ppr=$ppe.length-1;var $pps=($ppi=void 0===$ppi?$ppt:$ppi)<$ppt?$ppi:$ppt;if($ppr<=$ppt)return null;$ppi=$ppn($ppt);if(65472<=$ppi&&$ppi<=65534)return{invalid:null,marker:$ppi,offset:$ppt};var $ppa=$ppn($pps);for(;!(65472<=$ppa&&$ppa<=65534);){if(++$pps>=$ppr)return null;$ppa=$ppn($pps)}return{invalid:$ppi.toString(16),marker:$ppa,offset:$pps}}return $ppt.prototype={width:0,height:0,parse:function($ppe,$ppc){var $ppc=(void 0===$ppc?{}:$ppc).dnlScanLines,$ppu=void 0===$ppc?null:$ppc;function $ppt(){var $ppt=$ppe[$ppi]<<8|$ppe[$ppi+1];return $ppi+=2,$ppt}var $ppi=0;var $pp_=null;var $ppd=null;var $ppn,$ppf;var $ppp=0;var $ppm=[];var $ppg=[],$ppv=[];var $ppr=$ppt();if(65496!==$ppr)throw new Error("SOI not found");$ppr=$ppt();$ppt:for(;65497!==$ppr;){var $pps,$ppa;switch($ppr){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:$ppK=$ppl=void 0,$ppl=$ppt(),($ppK=$ppZ($ppe,$ppl=$ppi+$ppl-2,$ppi))&&$ppK.invalid&&(warn("readDataBlock - incorrect length, current marker is: "+$ppK.invalid),$ppl=$ppK.offset),$ppK=$ppe.subarray($ppi,$ppl),$ppi+=$ppK.length;$ppl=$ppK;65504===$ppr&&74===$ppl[0]&&70===$ppl[1]&&73===$ppl[2]&&70===$ppl[3]&&0===$ppl[4]&&($pp_={version:{major:$ppl[5],minor:$ppl[6]},densityUnits:$ppl[7],xDensity:$ppl[8]<<8|$ppl[9],yDensity:$ppl[10]<<8|$ppl[11],thumbWidth:$ppl[12],thumbHeight:$ppl[13],thumbData:$ppl.subarray(14,14+3*$ppl[12]*$ppl[13])}),65518===$ppr&&65===$ppl[0]&&100===$ppl[1]&&111===$ppl[2]&&98===$ppl[3]&&101===$ppl[4]&&($ppd={version:$ppl[5]<<8|$ppl[6],flags0:$ppl[7]<<8|$ppl[8],flags1:$ppl[9]<<8|$ppl[10],transformCode:$ppl[11]});break;case 65499:var $ppy=$ppt()+$ppi-2;for(;$ppi<$ppy;){var $ppx=$ppe[$ppi++];var $ppw=new Uint16Array(64);if($ppx>>4==0)for($ppa=0;$ppa<64;$ppa++)$ppw[$pp$[$ppa]]=$ppe[$ppi++];else{if($ppx>>4!=1)throw new Error("DQT - invalid table spec");for($ppa=0;$ppa<64;$ppa++)$ppw[$pp$[$ppa]]=$ppt()}$ppm[15&$ppx]=$ppw}break;case 65472:case 65473:case 65474:if($ppn)throw new Error("Only single frame JPEGs supported");$ppt(),($ppn={}).extended=65473===$ppr,$ppn.progressive=65474===$ppr,$ppn.precision=$ppe[$ppi++];$ppK=$ppt();$ppn.scanLines=$ppu||$ppK,$ppn.samplesPerLine=$ppt(),$ppn.components=[],$ppn.componentIds={};var $ppb,$ppT=$ppe[$ppi++];var $ppS=0,$ppC=0;for($pps=0;$pps<$ppT;$pps++){$ppb=$ppe[$ppi];var $ppM=$ppe[$ppi+1]>>4;var $ppE=15&$ppe[$ppi+1];$ppS<$ppM&&($ppS=$ppM),$ppC<$ppE&&($ppC=$ppE);var $ppA=$ppe[$ppi+2];$ppM=$ppn.components.push({h:$ppM,v:$ppE,quantizationId:$ppA,quantizationTable:null}),$ppn.componentIds[$ppb]=$ppM-1,$ppi+=3}$ppn.maxH=$ppS,$ppn.maxV=$ppC,$ppN=$ppB=$ppL=$ppP=$ppR=$ppI=$ppD=$ppo=void 0;var $ppo=$ppn;var $ppD=Math.ceil($ppo.samplesPerLine/8/$ppo.maxH);var $ppI=Math.ceil($ppo.scanLines/8/$ppo.maxV);for(var $ppR=0;$ppR<$ppo.components.length;$ppR++){$pph=$ppo.components[$ppR];var $ppP=Math.ceil(Math.ceil($ppo.samplesPerLine/8)*$pph.h/$ppo.maxH);var $ppL=Math.ceil(Math.ceil($ppo.scanLines/8)*$pph.v/$ppo.maxV);var $ppB=$ppD*$pph.h;var $ppN=$ppI*$pph.v;$pph.blockData=new Int16Array(64*$ppN*(1+$ppB)),$pph.blocksPerLine=$ppP,$pph.blocksPerColumn=$ppL}$ppo.mcusPerLine=$ppD,$ppo.mcusPerColumn=$ppI;break;case 65476:var $ppO=$ppt();for($pps=2;$pps<$ppO;){var $ppF=$ppe[$ppi++];var $ppV=new Uint8Array(16);var $ppk=0;for($ppa=0;$ppa<16;$ppa++,$ppi++)$ppk+=$ppV[$ppa]=$ppe[$ppi];var $ppU=new Uint8Array($ppk);for($ppa=0;$ppa<$ppk;$ppa++,$ppi++)$ppU[$ppa]=$ppe[$ppi];$pps+=17+$ppk,($ppF>>4==0?$ppv:$ppg)[15&$ppF]=function($ppt,$ppe){var $ppi,$ppn,$ppr=0,$pps=[],$ppa=16;for(;0<$ppa&&!$ppt[$ppa-1];)$ppa--;$pps.push({children:[],index:0});var $ppo,$pph=$pps[0];for($ppi=0;$ppi<$ppa;$ppi++){for($ppn=0;$ppn<$ppt[$ppi];$ppn++){for(($pph=$pps.pop()).children[$pph.index]=$ppe[$ppr];0<$pph.index;)$pph=$pps.pop();for($pph.index++,$pps.push($pph);$pps.length<=$ppi;)$pps.push($ppo={children:[],index:0}),$pph.children[$pph.index]=$ppo.children,$pph=$ppo;$ppr++}$ppi+1<$ppa&&($pps.push($ppo={children:[],index:0}),$pph.children[$pph.index]=$ppo.children,$pph=$ppo)}return $pps[0].children}($ppV,$ppU)}break;case 65501:$ppt(),$ppf=$ppt();break;case 65498:$ppl=1==++$ppp&&!$ppu;$ppt();var $ppH=$ppe[$ppi++];var $pph,$ppz=[];for($pps=0;$pps<$ppH;$pps++){var $ppW=$ppn.componentIds[$ppe[$ppi++]];$pph=$ppn.components[$ppW];$ppW=$ppe[$ppi++];$pph.huffmanTableDC=$ppv[$ppW>>4],$pph.huffmanTableAC=$ppg[15&$ppW],$ppz.push($pph)}var $ppG=$ppe[$ppi++];var $ppY=$ppe[$ppi++];var $ppX=$ppe[$ppi++];try{var $ppj=$ppQ($ppe,$ppi,$ppn,$ppz,$ppf,$ppG,$ppY,$ppX>>4,15&$ppX,$ppl);$ppi+=$ppj}catch($ppt){if($ppt instanceof DNLMarkerError)return warn($ppt.message+" -- attempting to re-parse the JPEG image."),this.parse($ppe,{dnlScanLines:$ppt.scanLines});if($ppt instanceof EOIMarkerError){warn($ppt.message+" -- ignoring the rest of the image data.");break $ppt}throw $ppt}break;case 65500:$ppi+=4;break;case 65535:255!==$ppe[$ppi]&&$ppi--;break;default:if(255===$ppe[$ppi-3]&&192<=$ppe[$ppi-2]&&$ppe[$ppi-2]<=254){$ppi-=3;break}$ppG=$ppZ($ppe,$ppi-2);if($ppG&&$ppG.invalid){warn("JpegImage.parse - unexpected data, current marker is: "+$ppG.invalid),$ppi=$ppG.offset;break}throw new Error("unknown marker "+$ppr.toString(16))}$ppr=$ppt()}var $ppl,$ppK;for(this.width=$ppn.samplesPerLine,this.height=$ppn.scanLines,this.jfif=$pp_,this.adobe=$ppd,this.components=[],$pps=0;$pps<$ppn.components.length;$pps++){var $ppq=$ppm[($pph=$ppn.components[$pps]).quantizationId];$ppq&&($pph.quantizationTable=$ppq),this.components.push({output:$ppJ(0,$pph),scaleX:$pph.h/$ppn.maxH,scaleY:$pph.v/$ppn.maxV,blocksPerLine:$pph.blocksPerLine,blocksPerColumn:$pph.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function($ppt,$ppc,$ppu,$pp_){void 0===$ppu&&($ppu=0);var $ppd=this.width/$ppt,$ppf=this.height/$ppc;var $ppp,$ppm,$ppg,$ppv;var $ppe,$ppi,$ppn,$ppr,$pps;var $ppy;var $ppa=0;var $ppx;var $ppo=this.components.length;var $ppw=$ppt*$ppo;var $ppb=null!=($pp_=void 0===$pp_?null:$pp_);var $ppT=($ppw=3==$ppo?$ppb?4*$ppt:4*($ppw+3>>2):$ppw)*$ppc;var $ppS=new ArrayBuffer($ppT+$ppu);var $pph=new Uint8ClampedArray($ppS,$ppu);var $ppC=new Uint32Array($ppt);var $ppM=$ppb?4:$ppo;for($ppn=0;$ppn<$ppo;$ppn++){for($ppm=($ppp=this.components[$ppn]).scaleX*$ppd,$ppg=$ppp.scaleY*$ppf,$ppx=$ppp.output,$ppv=$ppp.blocksPerLine+1<<3,$ppe=0;$ppe<$ppt;$ppe++)$ppC[$ppe]=(4294967288&($ppr=0|$ppe*$ppm))<<3|7&$ppr;for($ppi=0;$ppi<$ppc;$ppi++)for($ppy=$ppv*(4294967288&($ppr=0|$ppi*$ppg))|(7&$ppr)<<3,$ppa=$ppw*$ppi+$ppn,$ppe=0;$ppe<$ppt;$ppe++,$ppa+=$ppM)$pph[$ppa]=$ppx[$ppy+$ppC[$ppe]]}if($ppb)for($ppa=3,$pps=$ppi=0;$ppi<$ppc;$ppi++)for($ppe=0;$ppe<$ppt;$ppe++,$ppa+=4)$pph[$ppa]=$pp_[$pps++];var $ppl=this._decodeTransform;if($ppl=4!==$ppo||$ppl?$ppl:new Int32Array([-256,255,-256,255,-256,255,-256,255]))if(3==$ppo&&$ppb)for($ppn=0;$ppn<$ppT;){for($pps=$ppr=0;$ppr<$ppo;$ppr++,$ppn++,$pps+=2)$pph[$ppn]=($pph[$ppn]*$ppl[$pps]>>8)+$ppl[$pps+1];$ppn++}else for($ppn=0;$ppn<$ppT;)for($pps=$ppr=0;$ppr<$ppo;$ppr++,$ppn++,$pps+=2)$pph[$ppn]=($pph[$ppn]*$ppl[$pps]>>8)+$ppl[$pps+1];return $pph},get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this._colorTransform:1===this._colorTransform},_convertYccToRgb:function($ppt,$ppe,$ppi,$ppc){var $ppn,$ppr,$pps;var $ppa=$ppe?4:3;var $ppu=4*($ppi*$ppa+3>>2);var $ppo=0;for(var $pph=0;$pph<$ppc;++$pph){$ppo=$ppu*$pph;for(var $ppl=0;$ppl<$ppi;++$ppl)$ppn=$ppt[$ppo],$ppr=$ppt[$ppo+1],$pps=$ppt[$ppo+2],$ppt[$ppo]=$ppn-179.456+1.402*$pps,$ppt[$ppo+1]=$ppn+135.459-.344*$ppr-.714*$pps,$ppt[$ppo+2]=$ppn-226.816+1.772*$ppr,$ppo+=$ppa}return $ppt},_convertYcckToRgb:function($ppt){var $ppe,$ppi,$ppn,$ppr;var $pps=0;for(var $ppa=0,$ppo=$ppt.length;$ppa<$ppo;$ppa+=4)$ppe=$ppt[$ppa],$ppi=$ppt[$ppa+1],$ppn=$ppt[$ppa+2],$ppr=$ppt[$ppa+3],$ppt[$pps++]=$ppi*(-660635669420364e-19*$ppi+.000437130475926232*$ppn-54080610064599e-18*$ppe+.00048449797120281*$ppr-.154362151871126)-122.67195406894+$ppn*(-.000957964378445773*$ppn+.000817076911346625*$ppe-.00477271405408747*$ppr+1.53380253221734)+$ppe*(.000961250184130688*$ppe-.00266257332283933*$ppr+.48357088451265)+$ppr*(-.000336197177618394*$ppr+.484791561490776),$ppt[$pps++]=107.268039397724+$ppi*(219927104525741e-19*$ppi-.000640992018297945*$ppn+.000659397001245577*$ppe+.000426105652938837*$ppr-.176491792462875)+$ppn*(-.000778269941513683*$ppn+.00130872261408275*$ppe+.000770482631801132*$ppr-.151051492775562)+$ppe*(.00126935368114843*$ppe-.00265090189010898*$ppr+.25802910206845)+$ppr*(-.000318913117588328*$ppr-.213742400323665),$ppt[$pps++]=$ppi*(-.000570115196973677*$ppi-263409051004589e-19*$ppn+.0020741088115012*$ppe-.00288260236853442*$ppr+.814272968359295)-20.810012546947+$ppn*(-153496057440975e-19*$ppn-.000132689043961446*$ppe+.000560833691242812*$ppr-.195152027534049)+$ppe*(.00174418132927582*$ppe-.00255243321439347*$ppr+.116935020465145)+$ppr*(-.000343531996510555*$ppr+.24165260232407);return $ppt.subarray(0,$pps)},_convertYcckToCmyk:function($ppt){var $ppe,$ppi,$ppn;for(var $ppr=0,$pps=$ppt.length;$ppr<$pps;$ppr+=4)$ppe=$ppt[$ppr],$ppi=$ppt[$ppr+1],$ppn=$ppt[$ppr+2],$ppt[$ppr]=434.456-$ppe-1.402*$ppn,$ppt[$ppr+1]=119.541-$ppe+.344*$ppi+.714*$ppn,$ppt[$ppr+2]=481.816-$ppe-1.772*$ppi;return $ppt},_convertCmykToRgb:function($ppt){var $ppe,$ppi,$ppn,$ppr;var $pps=0;for(var $ppa=0,$ppo=$ppt.length;$ppa<$ppo;$ppa+=4)$ppe=$ppt[$ppa]*(1/255),$ppi=$ppt[$ppa+1]*(1/255),$ppn=$ppt[$ppa+2]*(1/255),$ppr=$ppt[$ppa+3]*(1/255),$ppt[$pps++]=255+$ppe*(-4.387332384609988*$ppe+54.48615194189176*$ppi+18.82290502165302*$ppn+212.25662451639585*$ppr-285.2331026137004)+$ppi*(1.7149763477362134*$ppi-5.6096736904047315*$ppn-17.873870861415444*$ppr-5.497006427196366)+$ppn*(-2.5217340131683033*$ppn-21.248923337353073*$ppr+17.5119270841813)-$ppr*(21.86122147463605*$ppr+189.48180835922747),$ppt[$pps++]=255+$ppe*(8.841041422036149*$ppe+60.118027045597366*$ppi+6.871425592049007*$ppn+31.159100130055922*$ppr-79.2970844816548)+$ppi*(-15.310361306967817*$ppi+17.575251261109482*$ppn+131.35250912493976*$ppr-190.9453302588951)+$ppn*(4.444339102852739*$ppn+9.8632861493405*$ppr-24.86741582555878)-$ppr*(20.737325471181034*$ppr+187.80453709719578),$ppt[$pps++]=255+$ppe*(.8842522430003296*$ppe+8.078677503112928*$ppi+30.89978309703729*$ppn-.23883238689178934*$ppr-14.183576799673286)+$ppi*(10.49593273432072*$ppi+63.02378494754052*$ppn+50.606957656360734*$ppr-112.23884253719248)+$ppn*(.03296041114873217*$ppn+115.60384449646641*$ppr-193.58209356861505)-$ppr*(22.33816807309886*$ppr+180.12613974708367);return $ppt.subarray(0,$pps)},getData:function($ppt,$ppe,$ppi,$ppn,$ppr){if(void 0===$ppi&&($ppi=!1),void 0===$ppn&&($ppn=0),void 0===$ppr&&($ppr=null),4<this.numComponents)throw new Error("Unsupported color mode");var $pps=this._getLinearizedBlockData($ppt,$ppe,$ppn,$ppr);if(1===this.numComponents&&$ppi){var $ppc=4*(3*$ppt+3>>2);var $ppa=new Uint8ClampedArray($ppc*$ppe);var $ppu=0;var $ppo,$pph,$ppl;for($pph=0;$pph<$ppe;++$pph)for($ppl=$pph*$ppc,$ppo=0;$ppo<$ppt;++$ppo){var $pp_=$pps[$ppu++];$ppa[$ppl++]=$pp_,$ppa[$ppl++]=$pp_,$ppa[$ppl++]=$pp_}return $ppa}if(3===this.numComponents&&this._isColorConversionNeeded)return this._convertYccToRgb($pps,null!=$ppr,$ppt,$ppe);if(4===this.numComponents){if(this._isColorConversionNeeded)return $ppi?this._convertYcckToRgb($pps):this._convertYcckToCmyk($pps);if($ppi)return this._convertCmykToRgb($pps)}return $pps}},$ppt}();var utils;!function(){var $ppx=void 0,$pps=this;function $ppa($ppt,$ppe){var $ppi=$ppt.split("."),$ppn=$pps;$ppi[0]in $ppn||!$ppn.execScript||$ppn.execScript("var "+$ppi[0]);for(var $ppr;$ppi.length&&($ppr=$ppi.shift());)$ppi.length||$ppe===$ppx?$ppn=$ppn[$ppr]||($ppn[$ppr]={}):$ppn[$ppr]=$ppe}var $ppw="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function $ppb($ppt){var $ppe,$ppi,$ppn,$ppr,$pps,$ppa,$ppc,$ppo,$pph,$ppu,$pp_=$ppt.length,$ppl=0,$ppd=Number.POSITIVE_INFINITY;for($ppo=0;$ppo<$pp_;++$ppo)$ppt[$ppo]>$ppl&&($ppl=$ppt[$ppo]),$ppt[$ppo]<$ppd&&($ppd=$ppt[$ppo]);for($ppe=1<<$ppl,$ppi=new($ppw?Uint32Array:Array)($ppe),$ppn=1,$ppr=0,$pps=2;$ppn<=$ppl;){for($ppo=0;$ppo<$pp_;++$ppo)if($ppt[$ppo]===$ppn){for($ppc=$ppr,$pph=$ppa=0;$pph<$ppn;++$pph)$ppa=$ppa<<1|1&$ppc,$ppc>>=1;for($ppu=$ppn<<16|$ppo,$pph=$ppa;$pph<$ppe;$pph+=$pps)$ppi[$pph]=$ppu;++$ppr}++$ppn,$ppr<<=1,$pps<<=1}return[$ppi,$ppl,$ppd]}function $ppr($ppt,$ppe){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=$ppw?new Uint8Array($ppt):$ppt,this.m=!1,this.i=$ppM,this.r=!1,$ppe?($ppe.index&&(this.a=$ppe.index),$ppe.bufferSize&&(this.h=$ppe.bufferSize),$ppe.bufferType&&(this.i=$ppe.bufferType),$ppe.resize&&(this.r=$ppe.resize)):$ppe={},this.i){case $ppC:this.b=32768,this.c=new($ppw?Uint8Array:Array)(32768+this.h+258);break;case $ppM:this.b=0,this.c=new($ppw?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var $ppC=0,$ppM=1,$ppo=$ppC,$pph=$ppM;$ppr.prototype.k=function(){for(;!this.m;){var $ppc=$ppT(this,3);switch(1&$ppc&&(this.m=!0),$ppc>>>=1){case 0:var $ppt=this.input,$ppe=this.a,$ppi=this.c,$ppn=this.b,$ppr=$ppt.length,$pps=$ppx,$ppu=$ppi.length,$ppa=$ppx;if(this.d=this.f=0,$ppr<=$ppe+1)throw Error("invalid uncompressed block header: LEN");if($pps=$ppt[$ppe++]|$ppt[$ppe++]<<8,$ppr<=$ppe+1)throw Error("invalid uncompressed block header: NLEN");if($pps===~($ppt[$ppe++]|$ppt[$ppe++]<<8))throw Error("invalid uncompressed block header: length verify");if($ppe+$pps>$ppt.length)throw Error("input buffer is broken");switch(this.i){case $ppC:for(;$ppn+$pps>$ppi.length;){if($pps-=$ppa=$ppu-$ppn,$ppw)$ppi.set($ppt.subarray($ppe,$ppe+$ppa),$ppn),$ppn+=$ppa,$ppe+=$ppa;else for(;$ppa--;)$ppi[$ppn++]=$ppt[$ppe++];this.b=$ppn,$ppi=this.e(),$ppn=this.b}break;case $ppM:for(;$ppn+$pps>$ppi.length;)$ppi=this.e({p:2});break;default:throw Error("invalid inflate mode")}if($ppw)$ppi.set($ppt.subarray($ppe,$ppe+$pps),$ppn),$ppn+=$pps,$ppe+=$pps;else for(;$pps--;)$ppi[$ppn++]=$ppt[$ppe++];this.a=$ppe,this.b=$ppn,this.c=$ppi;break;case 1:this.j($ppA,$ppD);break;case 2:for(var $pp_,$ppd,$ppf,$ppp,$ppr=$ppT(this,5)+257,$ppm=$ppT(this,5)+1,$ppg=$ppT(this,4)+4,$ppv=new($ppw?Uint8Array:Array)($ppE.length),$ppo=$ppx,$ppy=$ppx,$pph=$ppx,$ppl=$ppx,$ppl=0;$ppl<$ppg;++$ppl)$ppv[$ppE[$ppl]]=$ppT(this,3);if(!$ppw)for($ppl=$ppg,$ppg=$ppv.length;$ppl<$ppg;++$ppl)$ppv[$ppE[$ppl]]=0;for($pp_=$ppb($ppv),$ppo=new($ppw?Uint8Array:Array)($ppr+$ppm),$ppl=0,$ppp=$ppr+$ppm;$ppl<$ppp;)switch($ppf=$ppS(this,$pp_),$ppf){case 16:for($pph=3+$ppT(this,2);$pph--;)$ppo[$ppl++]=$ppy;break;case 17:for($pph=3+$ppT(this,3);$pph--;)$ppo[$ppl++]=0;$ppy=0;break;case 18:for($pph=11+$ppT(this,7);$pph--;)$ppo[$ppl++]=0;$ppy=0;break;default:$ppy=$ppo[$ppl++]=$ppf}$ppm=$ppb($ppw?$ppo.subarray(0,$ppr):$ppo.slice(0,$ppr)),$ppd=$ppb($ppw?$ppo.subarray($ppr):$ppo.slice($ppr)),this.j($ppm,$ppd);break;default:throw Error("unknown BTYPE: "+$ppc)}}return this.n()};var $ppt,$ppl,$ppe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$ppE=$ppw?new Uint16Array($ppe):$ppe,$ppe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],$ppc=$ppw?new Uint16Array($ppe):$ppe,$ppe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],$ppu=$ppw?new Uint8Array($ppe):$ppe,$ppe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],$pp_=$ppw?new Uint16Array($ppe):$ppe,$ppe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$ppd=$ppw?new Uint8Array($ppe):$ppe,$ppf=new($ppw?Uint8Array:Array)(288);for($ppt=0,$ppl=$ppf.length;$ppt<$ppl;++$ppt)$ppf[$ppt]=$ppt<=143?8:$ppt<=255?9:$ppt<=279?7:8;var $ppp,$ppm,$ppA=$ppb($ppf),$ppg=new($ppw?Uint8Array:Array)(30);for($ppp=0,$ppm=$ppg.length;$ppp<$ppm;++$ppp)$ppg[$ppp]=5;var $ppD=$ppb($ppg);function $ppT($ppt,$ppe){for(var $ppi,$ppn=$ppt.f,$ppr=$ppt.d,$pps=$ppt.input,$ppa=$ppt.a,$ppo=$pps.length;$ppr<$ppe;){if($ppo<=$ppa)throw Error("input buffer is broken");$ppn|=$pps[$ppa++]<<$ppr,$ppr+=8}return $ppi=$ppn&(1<<$ppe)-1,$ppt.f=$ppn>>>$ppe,$ppt.d=$ppr-$ppe,$ppt.a=$ppa,$ppi}function $ppS($ppt,$ppe){for(var $ppi=$ppt.f,$ppn=$ppt.d,$ppr=$ppt.input,$pps=$ppt.a,$ppa=$ppr.length,$ppo=$ppe[0],$pph=$ppe[1];$ppn<$pph&&!($ppa<=$pps);)$ppi|=$ppr[$pps++]<<$ppn,$ppn+=8;if($ppn<($ppo=($ppe=$ppo[$ppi&(1<<$pph)-1])>>>16))throw Error("invalid code length: "+$ppo);return $ppt.f=$ppi>>$ppo,$ppt.d=$ppn-$ppo,$ppt.a=$pps,65535&$ppe}function $ppv($ppt,$ppe){var $ppi,$ppn;if(this.input=$ppt,this.a=0,$ppe?($ppe.index&&(this.a=$ppe.index),$ppe.verify&&(this.A=$ppe.verify)):$ppe={},$ppi=$ppt[this.a++],$ppn=$ppt[this.a++],(15&$ppi)!==$ppy)throw Error("unsupported compression method");if(this.method=$ppy,0!=(($ppi<<8)+$ppn)%31)throw Error("invalid fcheck flag:"+(($ppi<<8)+$ppn)%31);if(32&$ppn)throw Error("fdict flag is not supported");this.q=new $ppr($ppt,{index:this.a,bufferSize:$ppe.bufferSize,bufferType:$ppe.bufferType,resize:$ppe.resize})}$ppr.prototype.j=function($ppt,$ppe){var $ppi=this.c,$ppn=this.b;this.o=$ppt;for(var $ppr,$pps,$ppa,$ppo,$pph=$ppi.length-258;256!==($ppr=$ppS(this,$ppt));)if($ppr<256)$pph<=$ppn&&(this.b=$ppn,$ppi=this.e(),$ppn=this.b),$ppi[$ppn++]=$ppr;else for($ppo=$ppc[$pps=$ppr-257],0<$ppu[$pps]&&($ppo+=$ppT(this,$ppu[$pps])),$ppr=$ppS(this,$ppe),$ppa=$pp_[$ppr],0<$ppd[$ppr]&&($ppa+=$ppT(this,$ppd[$ppr])),$pph<=$ppn&&(this.b=$ppn,$ppi=this.e(),$ppn=this.b);$ppo--;)$ppi[$ppn]=$ppi[$ppn++-$ppa];for(;8<=this.d;)this.d-=8,this.a--;this.b=$ppn},$ppr.prototype.w=function($ppt,$ppe){var $ppi=this.c,$ppn=this.b;this.o=$ppt;for(var $ppr,$pps,$ppa,$ppo,$pph=$ppi.length;256!==($ppr=$ppS(this,$ppt));)if($ppr<256)$pph<=$ppn&&($pph=($ppi=this.e()).length),$ppi[$ppn++]=$ppr;else for($ppo=$ppc[$pps=$ppr-257],0<$ppu[$pps]&&($ppo+=$ppT(this,$ppu[$pps])),$ppr=$ppS(this,$ppe),$ppa=$pp_[$ppr],0<$ppd[$ppr]&&($ppa+=$ppT(this,$ppd[$ppr])),$pph<$ppn+$ppo&&($pph=($ppi=this.e()).length);$ppo--;)$ppi[$ppn]=$ppi[$ppn++-$ppa];for(;8<=this.d;)this.d-=8,this.a--;this.b=$ppn},$ppr.prototype.e=function(){var $ppt,$ppe,$ppi=new($ppw?Uint8Array:Array)(this.b-32768),$ppn=this.b-32768,$ppr=this.c;if($ppw)$ppi.set($ppr.subarray(32768,$ppi.length));else for($ppt=0,$ppe=$ppi.length;$ppt<$ppe;++$ppt)$ppi[$ppt]=$ppr[$ppt+32768];if(this.g.push($ppi),this.l+=$ppi.length,$ppw)$ppr.set($ppr.subarray($ppn,32768+$ppn));else for($ppt=0;$ppt<32768;++$ppt)$ppr[$ppt]=$ppr[$ppn+$ppt];return this.b=32768,$ppr},$ppr.prototype.z=function($ppt){var $ppe,$ppi=this.input.length/this.a+1|0,$ppn=this.input,$ppr=this.c;return $ppt&&("number"==typeof $ppt.p&&($ppi=$ppt.p),"number"==typeof $ppt.u&&($ppi+=$ppt.u)),$ppn=$ppi<2?($ppt=($ppn.length-this.a)/this.o[2]/2*258|0)<$ppr.length?$ppr.length+$ppt:$ppr.length<<1:$ppr.length*$ppi,$ppw?($ppe=new Uint8Array($ppn)).set($ppr):$ppe=$ppr,this.c=$ppe},$ppr.prototype.n=function(){var $ppt,$ppe,$ppi,$ppn,$ppr,$pps=0,$ppa=this.c,$ppo=this.g,$pph=new($ppw?Uint8Array:Array)(this.l+(this.b-32768));if(0===$ppo.length)return $ppw?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for($ppe=0,$ppi=$ppo.length;$ppe<$ppi;++$ppe)for($ppn=0,$ppr=($ppt=$ppo[$ppe]).length;$ppn<$ppr;++$ppn)$pph[$pps++]=$ppt[$ppn];for($ppe=32768,$ppi=this.b;$ppe<$ppi;++$ppe)$pph[$pps++]=$ppa[$ppe];return this.g=[],this.buffer=$pph},$ppr.prototype.v=function(){var $ppt,$ppe=this.b;return $ppw?this.r?($ppt=new Uint8Array($ppe)).set(this.c.subarray(0,$ppe)):$ppt=this.c.subarray(0,$ppe):(this.c.length>$ppe&&(this.c.length=$ppe),$ppt=this.c),this.buffer=$ppt},$ppv.prototype.k=function(){var $ppt,$ppe=this.input;if($ppt=this.q.k(),this.a=this.q.a,this.A){$ppe=($ppe[this.a++]<<24|$ppe[this.a++]<<16|$ppe[this.a++]<<8|$ppe[this.a++])>>>0;var $ppi=$ppt;if("string"==typeof $ppi){var $ppn,$ppr,$pps=$ppi.split("");for($ppn=0,$ppr=$pps.length;$ppn<$ppr;$ppn++)$pps[$ppn]=(255&$pps[$ppn].charCodeAt(0))>>>0;$ppi=$pps}for(var $ppa,$ppo=1,$pph=0,$ppl=$ppi.length,$ppc=0;0<$ppl;){for($ppl-=$ppa=1024<$ppl?1024:$ppl;$pph+=$ppo+=$ppi[$ppc++],--$ppa;);$ppo%=65521,$pph%=65521}if($ppe!=($pph<<16|$ppo)>>>0)throw Error("invalid adler-32 checksum")}return $ppt};var $ppy=8;$ppa("Zlib.Inflate",$ppv),$ppa("Zlib.Inflate.prototype.decompress",$ppv.prototype.k);var $ppi,$ppI,$ppn,$ppR,$ppP={ADAPTIVE:$pph,BLOCK:$ppo};if(Object.keys)$ppi=Object.keys($ppP);else for($ppI in $ppi=[],$ppn=0,$ppP)$ppi[$ppn++]=$ppI;for($ppn=0,$ppR=$ppi.length;$ppn<$ppR;++$ppn)$ppa("Zlib.Inflate.BufferType."+($ppI=$ppi[$ppn]),$ppP[$ppI])}.call(this),function($ppt){"use strict";var $ppm=new Uint8Array(8);var $ppg=new DataView($ppm.buffer);function $ppe($ppt){var $ppl=4294967296;var $ppn=new Uint8Array(128);var $ppr=0;return $ppc($ppt),$ppn.subarray(0,$ppr);function $ppc($ppt){switch(typeof $ppt){case"undefined":$ppu();break;case"boolean":$ppd($ppt?195:194);break;case"number":var $ppe=$ppt;isFinite($ppe)&&Math.floor($ppe)===$ppe?0<=$ppe&&$ppe<=127||$ppe<0&&-32<=$ppe?$ppd($ppe):0<$ppe&&$ppe<=255?$ppf([204,$ppe]):-128<=$ppe&&$ppe<=127?$ppf([208,$ppe]):0<$ppe&&$ppe<=65535?$ppf([205,$ppe>>>8,$ppe]):-32768<=$ppe&&$ppe<=32767?$ppf([209,$ppe>>>8,$ppe]):0<$ppe&&$ppe<=4294967295?$ppf([206,$ppe>>>24,$ppe>>>16,$ppe>>>8,$ppe]):-2147483648<=$ppe&&$ppe<=2147483647?$ppf([210,$ppe>>>24,$ppe>>>16,$ppe>>>8,$ppe]):0<$ppe&&$ppe<=0x10000000000000000?$ppf([211,($ppi=$ppe/$ppl)>>>24,$ppi>>>16,$ppi>>>8,$ppi,($ppi=$ppe%$ppl)>>>24,$ppi>>>16,$ppi>>>8,$ppi]):-0x8000000000000000<=$ppe&&$ppe<=0x8000000000000000?($ppd(211),$ppp($ppe)):$ppf($ppe<0?[211,128,0,0,0,0,0,0,0]:[207,255,255,255,255,255,255,255,255]):($ppg.setFloat64(0,$ppe),$ppd(203),$ppf($ppm));break;case"string":var $ppi=$ppt;$ppe=($ppi=function($ppt){var $ppe=!0,$ppi=$ppt.length;for(var $ppn=0;$ppn<$ppi;$ppn++)if(127<$ppt.charCodeAt($ppn)){$ppe=!1;break}var $ppr=0,$pps=new Uint8Array($ppt.length*($ppe?1:4));for(var $ppa=0;$ppa!==$ppi;$ppa++){var $ppo=$ppt.charCodeAt($ppa);if($ppo<128)$pps[$ppr++]=$ppo;else{if($ppo<2048)$pps[$ppr++]=$ppo>>6|192;else{if(55295<$ppo&&$ppo<56320){if(++$ppa>=$ppi)throw new Error("UTF-8 encode: incomplete surrogate pair");var $pph=$ppt.charCodeAt($ppa);if($pph<56320||57343<$pph)throw new Error("UTF-8 encode: second surrogate character 0x"+$pph.toString(16)+" at index "+$ppa+" out of range");$ppo=65536+((1023&$ppo)<<10)+(1023&$pph),$pps[$ppr++]=$ppo>>18|240,$pps[$ppr++]=$ppo>>12&63|128}else $pps[$ppr++]=$ppo>>12|224;$pps[$ppr++]=$ppo>>6&63|128}$pps[$ppr++]=63&$ppo|128}}return $ppe?$pps:$pps.subarray(0,$ppr)}($ppi)).length;$ppe<=31?$ppd(160+$ppe):$ppf($ppe<=255?[217,$ppe]:$ppe<=65535?[218,$ppe>>>8,$ppe]:[219,$ppe>>>24,$ppe>>>16,$ppe>>>8,$ppe]),$ppf($ppi);break;case"object":if(null===$ppt)$ppu();else if($ppt instanceof Date){var $ppn=$ppt;var $ppr=$ppn.getTime()/1e3;0===$ppn.getMilliseconds()&&0<=$ppr&&$ppr<4294967296?$ppf([214,255,$ppr>>>24,$ppr>>>16,$ppr>>>8,$ppr]):0<=$ppr&&$ppr<17179869184?$ppf([215,255,($pps=1e6*$ppn.getMilliseconds())>>>22,$pps>>>14,$pps>>>6,$pps<<2>>>0|$ppr/$ppl,$ppr>>>24,$ppr>>>16,$ppr>>>8,$ppr]):($ppf([199,12,255,($pps=1e6*$ppn.getMilliseconds())>>>24,$pps>>>16,$pps>>>8,$pps]),$ppp($ppr))}else if(Array.isArray($ppt))$pp_($ppt);else if($ppt instanceof Uint8Array||$ppt instanceof Uint8ClampedArray){$ppn=$ppt;var $pps=$ppn.length;$ppf($pps<=15?[196,$pps]:$pps<=65535?[197,$pps>>>8,$pps]:[198,$pps>>>24,$pps>>>16,$pps>>>8,$pps]);$ppf($ppn)}else if($ppt instanceof Int8Array||$ppt instanceof Int16Array||$ppt instanceof Uint16Array||$ppt instanceof Int32Array||$ppt instanceof Uint32Array||$ppt instanceof Float32Array||$ppt instanceof Float64Array)$pp_($ppt);else{var $ppa=$ppt;var $ppo=0;for(var $pph in $ppa)$ppo++;for(var $pph in $ppo<=15?$ppd(128+$ppo):$ppf($ppo<=65535?[222,$ppo>>>8,$ppo]:[223,$ppo>>>24,$ppo>>>16,$ppo>>>8,$ppo]),$ppa)$ppc($pph),$ppc($ppa[$pph])}}}function $ppu(){$ppd(192)}function $pp_($ppt){var $ppe=$ppt.length;$ppe<=15?$ppd(144+$ppe):$ppf($ppe<=65535?[220,$ppe>>>8,$ppe]:[221,$ppe>>>24,$ppe>>>16,$ppe>>>8,$ppe]);for(var $ppi=0;$ppi<$ppe;$ppi++)$ppc($ppt[$ppi])}function $ppd($ppt){if($ppn.length<$ppr+1){var $ppe=2*$ppn.length;for(;$ppe<$ppr+1;)$ppe*=2;var $ppi=new Uint8Array($ppe);$ppi.set($ppn),$ppn=$ppi}$ppn[$ppr]=$ppt,$ppr++}function $ppf($ppt){if($ppn.length<$ppr+$ppt.length){var $ppe=2*$ppn.length;for(;$ppe<$ppr+$ppt.length;)$ppe*=2;var $ppi=new Uint8Array($ppe);$ppi.set($ppn),$ppn=$ppi}$ppn.set($ppt,$ppr),$ppr+=$ppt.length}function $ppp($ppt){var $ppe,$ppi;$ppi=0<=$ppt?($ppe=$ppt/$ppl,$ppt%$ppl):($ppt++,$ppe=~($ppe=Math.abs($ppt)/$ppl),~($ppi=Math.abs($ppt)%$ppl)),$ppf([$ppe>>>24,$ppe>>>16,$ppe>>>8,$ppe,$ppi>>>24,$ppi>>>16,$ppi>>>8,$ppi])}}function $ppi($ppo){var $ppu=4294967296;var $pph=0;if("object"!=typeof $ppo||void 0===$ppo.length)throw new Error("Invalid argument type: Expected a byte array (Array or Uint8Array) to deserialize.");$ppo instanceof Uint8Array||($ppo=new Uint8Array($ppo));var $ppt=$ppr();return $ppo.length,$ppt;function $ppr(){var $ppt=$ppo[$pph++];if(0<=$ppt&&$ppt<=127)return $ppt;if(128<=$ppt&&$ppt<=143)return $ppe($ppt-128);if(144<=$ppt&&$ppt<=159)return $ppi($ppt-144);if(160<=$ppt&&$ppt<=191)return $ppn($ppt-160);if(192===$ppt)return null;if(193===$ppt)throw new Error("Invalid byte code 0xc1 found.");if(194===$ppt)return!1;if(195===$ppt)return!0;if(196===$ppt)return $ppa(-1,1);if(197===$ppt)return $ppa(-1,2);if(198===$ppt)return $ppa(-1,4);if(199===$ppt)return $ppc(-1,1);if(200===$ppt)return $ppc(-1,2);if(201===$ppt)return $ppc(-1,4);if(202===$ppt)return $pp_(4);if(203===$ppt)return $pp_(8);if(204===$ppt)return $ppl(1);if(205===$ppt)return $ppl(2);if(206===$ppt)return $ppl(4);if(207===$ppt)return $ppl(8);if(208===$ppt)return $pps(1);if(209===$ppt)return $pps(2);if(210===$ppt)return $pps(4);if(211===$ppt)return $pps(8);if(212===$ppt)return $ppc(1);if(213===$ppt)return $ppc(2);if(214===$ppt)return $ppc(4);if(215===$ppt)return $ppc(8);if(216===$ppt)return $ppc(16);if(217===$ppt)return $ppn(-1,1);if(218===$ppt)return $ppn(-1,2);if(219===$ppt)return $ppn(-1,4);if(220===$ppt)return $ppi(-1,2);if(221===$ppt)return $ppi(-1,4);if(222===$ppt)return $ppe(-1,2);if(223===$ppt)return $ppe(-1,4);if(224<=$ppt&&$ppt<=255)return $ppt-256;throw new Error("Invalid byte value "+$ppt+" in the MessagePack binary data : Expecting a range of 0 to 255. This is not a byte array.")}function $pps($ppt){var $ppe=0;var $ppi=!0;for(;0<$ppt--;){var $ppn;$ppi?($ppe+=127&($ppn=$ppo[$pph++]),128&$ppn&&($ppe-=128),$ppi=!1):$ppe=($ppe*=256)+$ppo[$pph++]}return $ppe}function $ppl($ppt){var $ppe=0;for(;0<$ppt--;)$ppe=($ppe*=256)+$ppo[$pph++];return $ppe}function $pp_($ppt){var $ppe=0;for(;$ppe<$ppt;)$ppm[$ppe++]=$ppo[$pph++];return 4===$ppt?$ppg.getFloat32(0,!1):8===$ppt?$ppg.getFloat64(0,!1):void 0}function $ppa($ppt,$ppe){$ppt<0&&($ppt=$ppl($ppe));$ppe=new Uint8Array($ppo.buffer.slice($ppo.byteOffset+$pph,$ppo.byteOffset+$pph+$ppt));return $pph+=$ppt,$ppe}function $ppe($ppt,$ppe){$ppt<0&&($ppt=$ppl($ppe));var $ppi={};for(;0<$ppt--;)$ppi[$ppr()]=$ppr();return $ppi}function $ppi($ppt,$ppe){$ppt<0&&($ppt=$ppl($ppe));var $ppi=new Array($ppt);var $ppn=0;for(;$ppn<$ppt;)$ppi[$ppn++]=$ppr();return $ppi}function $ppn($ppt,$ppe){$ppt<0&&($ppt=$ppl($ppe));$ppe=$pph;$pph+=$ppt;var $ppi=$ppo;var $ppn=$ppt;var $ppr=$ppe,$pps=[];for($ppn+=$ppe;$ppr<$ppn;){var $ppa=$ppi[$ppr++];if(127<$ppa)if(191<$ppa&&$ppa<224){if($ppn<=$ppr)throw new Error("UTF-8 decode: incomplete 2-byte sequence");$ppa=(31&$ppa)<<6|63&$ppi[$ppr++]}else if(223<$ppa&&$ppa<240){if($ppn<=$ppr+1)throw new Error("UTF-8 decode: incomplete 3-byte sequence");$ppa=(15&$ppa)<<12|(63&$ppi[$ppr++])<<6|63&$ppi[$ppr++]}else{if(!(239<$ppa&&$ppa<248))throw new Error("UTF-8 decode: unknown multibyte start 0x"+$ppa.toString(16)+" at index "+($ppr-1));if($ppn<=$ppr+2)throw new Error("UTF-8 decode: incomplete 4-byte sequence");$ppa=(7&$ppa)<<18|(63&$ppi[$ppr++])<<12|(63&$ppi[$ppr++])<<6|63&$ppi[$ppr++]}if($ppa<=65535)$pps.push($ppa);else{if(!($ppa<=1114111))throw new Error("UTF-8 decode: code point 0x"+$ppa.toString(16)+" exceeds UTF-16 reach");$ppa-=65536,$pps.push($ppa>>10|55296),$pps.push(1023&$ppa|56320)}}return String.fromCharCode.apply(String,$pps)}function $ppc($ppt,$ppe){$ppt<0&&($ppt=$ppl($ppe));$ppe=$ppl(1);$ppt=$ppa($ppt);if(255!==$ppe)return{type:$ppe,data:$ppt};$ppe=$ppt;if(4===$ppe.length)return $ppn=($ppe[0]<<24>>>0)+($ppe[1]<<16>>>0)+($ppe[2]<<8>>>0)+$ppe[3],new Date(1e3*$ppn);if(8===$ppe.length)return $ppi=($ppe[0]<<22>>>0)+($ppe[1]<<14>>>0)+($ppe[2]<<6>>>0)+($ppe[3]>>>2),$ppn=(3&$ppe[3])*$ppu+($ppe[4]<<24>>>0)+($ppe[5]<<16>>>0)+($ppe[6]<<8>>>0)+$ppe[7],new Date(1e3*$ppn+$ppi/1e6);if(12!==$ppe.length)throw new Error("Invalid data length for a date value.");var $ppi=($ppe[0]<<24>>>0)+($ppe[1]<<16>>>0)+($ppe[2]<<8>>>0)+$ppe[3];$pph-=8;var $ppn=$pps(8);return new Date(1e3*$ppn+$ppi/1e6)}}var $ppn={serialize:$ppe,deserialize:$ppi,encode:$ppe,decode:$ppi};$ppt.msgpack=$ppn,"function"==typeof define&&define.amd&&define("msgpack",[],function(){return $ppn})}(this),function($ppt){!function($ppt){function $ppe(){this.enableCache=!1,this.enableCheck=!1,this.host=""}function $ppi(){}function $ppn(){}function $ppr(){}function $pps(){}function $ppa(){}$ppe.prototype.type=function(){return $ppe.opcode},$ppe.prototype.readTo=function($ppt,$ppe){var $ppi=0;this.enableCache=$ppt[$ppi++],this.enableCheck=$ppt[+$ppi],this.host=$ppt[2]},$ppe.prototype.writeTo=function($ppt){var $ppe=[];return $ppe.push(this.enableCache),$ppe.push(this.enableCheck),$ppe.push(this.host),$ppe},$ppe.opcode=0,$ppt.InitCommand=$ppe,$ppi.prototype.type=function(){return $ppi.opcode},$ppi.prototype.readTo=function($ppt,$ppe){this.status=$ppt[0]},$ppi.prototype.writeTo=function($ppt){var $ppe=[];return $ppe.push(this.status),$ppe},$ppi.opcode=1,$ppt.InitCompleteCommand=$ppi,$ppn.prototype.type=function(){return $ppn.opcode},$ppn.prototype.readTo=function($ppt,$ppe){var $ppi=0;this.url=$ppt[$ppi++],this.status=$ppt[+$ppi];$ppi=$ppt[2];0!=$ppi&&(this.bytes=$ppe[$ppi])},$ppn.prototype.writeTo=function($ppt){var $ppe=[];return $ppe.push(this.url),$ppe.push(this.status),null!=this.bytes?($ppe.push($ppt.length),$ppt.push(this.bytes)):$ppe.push(0),$ppe},$ppn.opcode=3,$ppt.LoadCompleteCommand=$ppn,$ppr.prototype.type=function(){return $ppr.opcode},$ppr.prototype.readTo=function($ppt,$ppe){var $ppi=0;this.url=$ppt[+$ppi],this.uncompress=$ppt[1]},$ppr.prototype.writeTo=function($ppt){var $ppe=[];return $ppe.push(this.url),$ppe.push(this.uncompress),$ppe},$ppr.opcode=2,$ppt.LoadCommand=$ppr,$pps.prototype.type=function(){return $pps.opcode},$pps.prototype.readTo=function($ppt,$ppe){var $ppi=0;this.url=$ppt[$ppi++],this.uncompress=$ppt[$ppi++];$ppi=$ppt[+$ppi];if(0!=$ppi){var $ppn=$ppt[3];this.content=[];for(var $ppr=$ppn+$ppi;$ppn<$ppr;++$ppn)this.content.push($ppe[$ppn])}},$pps.prototype.writeTo=function($ppt){var $ppe=[];if($ppe.push(this.url),$ppe.push(this.uncompress),null!=this.content&&0!=this.content.length){$ppe.push(this.content.length),$ppe.push($ppt.length);for(var $ppi=0,$ppn=this.content;$ppi<$ppn.length;$ppi++){var $ppr=$ppn[$ppi];$ppt.push($ppr)}}else $ppe.push(0);return $ppe},$pps.opcode=4,$ppt.DecodeCommand=$pps,$ppa.prototype.type=function(){return $ppa.opcode},$ppa.prototype.readTo=function($ppt,$ppe){var $ppi=0;this.url=$ppt[+$ppi];$ppi=$ppt[1];0!=$ppi&&(this.bytes=$ppe[$ppi])},$ppa.prototype.writeTo=function($ppt){var $ppe=[];return $ppe.push(this.url),null!=this.bytes?($ppe.push($ppt.length),$ppt.push(this.bytes)):$ppe.push(0),$ppe},$ppa.opcode=5,$ppt.DecodeCompleteCommand=$ppa}($ppt.background||($ppt.background={}))}(base=base||{}),function($ppt){function $ppe(){}$ppe.copy=function($ppt,$ppe,$ppi,$ppn,$ppr){if($ppt.length<$ppe+$ppr)return!1;if($ppi.length<$ppn+$ppr)return!1;for(;$ppr--;)$ppi[$ppn++]=$ppt[$ppe++];return!0},$ppe.insertAt=function($ppt,$ppe,$ppi){if($ppt.push($ppi),!($ppe<0))for(var $ppn=$ppt.length-1;$ppe<$ppn;--$ppn)$ppi=$ppt[$ppn],$ppt[$ppn]=$ppt[$ppn-1],$ppt[$ppn-1]=$ppi},$ppe.removeAt=function($ppt,$ppe){var $ppi=$ppt.length-1;if($ppi<$ppe)return null;var $ppn=$ppt[$ppe];for(var $ppr=$ppe;$ppr<$ppi;++$ppr)$ppt[$ppr]=$ppt[$ppr+1];return $ppt.length=$ppi,$ppn},$ppe.remove=function($ppt,$ppe){$ppe=$ppt.indexOf($ppe);if(-1===$ppe)return-1;var $ppi=$ppt.length-1;for(var $ppn=$ppe;$ppn<$ppi;++$ppn)$ppt[$ppn]=$ppt[$ppn+1];return $ppt.length=$ppi,$ppe},$ppe.removeRange=function($ppt,$ppe,$ppi,$ppn){var $ppr=$ppt.length-$ppi;if($ppr<$ppe&&($ppr=$ppe),null!=($ppn=void 0===$ppn?null:$ppn)){var $pps=$ppe+$ppi>$ppt.length?$ppt.length:$ppe+$ppi;for(var $ppa=$ppe;$ppa<$pps;++$ppa)$ppn[$ppa-$ppe]=$ppt[$ppa]}for(var $ppo=$ppe;$ppo<$ppr;++$ppo)$ppt[$ppo]=$ppt[$ppo+$ppi];$ppt.length=$ppr},$ppe.removeAll=function($ppt,$ppe){var $ppi=0;for(;-1!=($ppi=$ppt.indexOf($ppe,$ppi));){var $ppn=$ppt.length-1;for(var $ppr=$ppi;$ppr<$ppn;++$ppr)$ppt[$ppr]=$ppt[$ppr+1];$ppt.length=$ppn}},$ppe.unsafeRemoveAt=function($ppt,$ppe){var $ppi=$ppt.length-1;if($ppi<$ppe)return null;var $ppn=$ppt[$ppe];return $ppt[$ppe]=$ppt[$ppi],$ppt.length=$ppi,$ppn},$ppe.unsafeRemove=function($ppt,$ppe){$ppe=$ppt.indexOf($ppe);if(-1===$ppe)return-1;var $ppi=$ppt.length-1;return $ppt[$ppe]=$ppt[$ppi],$ppt.length=$ppi,$ppe},$ppe.disturb=function($ppt){for(var $ppe=$ppt.length-1;0<=$ppe;--$ppe){var $ppi=$ppe+1;$ppi=Math.floor(Math.random()*$ppi)%$ppi;var $ppn;$ppe!=$ppi&&($ppn=$ppt[$ppe],$ppt[$ppe]=$ppt[$ppi],$ppt[$ppi]=$ppn)}return $ppt},$ppe.random=function($ppt,$ppe){var $ppi=$ppt.length-($ppe=void 0===$ppe?0:$ppe);return $ppt[Math.floor(Math.random()*$ppi)%$ppi+$ppe]},$ppe.randomIndex=function($ppt,$ppe){$ppt=$ppt.length-($ppe=void 0===$ppe?0:$ppe);return Math.floor(Math.random()*$ppt)%$ppt+$ppe},$ppe.reverse=function($ppt){for(var $ppe=0,$ppi=$ppt.length-1;$ppe<$ppi;++$ppe,--$ppi){var $ppn=$ppt[$ppe];$ppt[$ppe]=$ppt[$ppi],$ppt[$ppi]=$ppn}},$ppt.ArrayUtils=$ppe}(utils=utils||{}),function($ppt){!function($ppt){var $ppi=utils.ArrayUtils;function $ppe($ppt){var $ppu=this;this.onMessage=function($ppt){var $ppe=$ppt.data;if(0!=$ppe.length){var $ppi=msgpack.decode(new Uint8Array($ppe[0]));var $ppn=$ppi.length;for(var $ppr=0;$ppr<$ppn;++$ppr){var $pps=$ppi[$ppr];var $ppa=$pps[0];var $ppo=new $ppu._opcodes[$ppa];$ppo.readTo($pps[1],$ppe);var $pph=$ppu._opcodeHandlers[$ppa];var $ppc=$pph.length;for(var $ppl=0;$ppl<$ppc;++$ppl)$pph[$ppl]($ppo)}}},this.onUpdate=function(){var $ppt;0!=$ppu._list.length&&($ppt=msgpack.encode($ppu._list).buffer,$ppu._args[0]=$ppt,$ppu._worker.postMessage($ppu._args,$ppu._args),$ppu._args=new Array(1),$ppu._list.length=0)},this._worker=$ppt,this._args=new Array(1),this._list=new Array,this._worker.onmessage=this.onMessage,this._opcodeHandlers=[],this._opcodes=[]}$ppe.prototype.registerOpcode=function($ppt,$ppe){this._opcodes[$ppt]=$ppe},$ppe.prototype.addCommandHandler=function($ppt,$ppe){var $ppi=this._opcodeHandlers[$ppt];null==$ppi&&($ppi=new Array,this._opcodeHandlers[$ppt]=$ppi),-1==$ppi.indexOf($ppe)&&$ppi.push($ppe)},$ppe.prototype.removeCommandHandler=function($ppt,$ppe){$ppt=this._opcodeHandlers[$ppt];null!=$ppt&&$ppi.remove($ppt,$ppe)},$ppe.prototype.sendCommand=function($ppt){var $ppe=$ppt.writeTo(this._args);this._list.push([$ppt.type(),$ppe]),this.onUpdate()},$ppt.ActorProxy=$ppe}($ppt.background||($ppt.background={}))}(base=base||{}),function($ppt){function $ppe(){}$ppe.prototype.bytesAvailable=function(){return this.length-this.cursor},$ppe.prototype.getUint8=function(){return this.input[this.cursor++]},$ppe.prototype.getUint16=function(){var $ppt=this.view.getUint16(this.cursor,this.littleEndian);return this.cursor+=2,$ppt},$ppe.prototype.getUint32=function(){var $ppt=this.view.getUint32(this.cursor,this.littleEndian);return this.cursor+=4,$ppt},$ppe.prototype.getUTF=function($ppt){var $ppe=new Array($ppt);for(var $ppi=0;$ppi<$ppt;++$ppi)$ppe[$ppi]=String.fromCharCode(this.input[this.cursor++]);return $ppe.join("")},$ppe.prototype.getBytes=function($ppt){var $ppe=new Uint8Array(this.input.buffer,this.input.byteOffset+this.cursor,$ppt);return this.cursor+=$ppt,$ppe},$ppe.prototype.skip=function($ppt){this.cursor+=$ppt},$ppe.prototype.open=function($ppt,$ppe){void 0===$ppe&&($ppe=!1),this.cursor=0,this.length=$ppt.byteLength,this.input=$ppt,this.view=new DataView($ppt.buffer),this.littleEndian=$ppe},$ppe.prototype.close=function(){this.input=null,this.view=null},$ppt.ByteStream=$ppe}(utils=utils||{});var ByteStream=utils.ByteStream;var PngFileEntry=function(){function $ppe(){this.segments=[]}return $ppe.allocEntry=function(){var $ppt;return null!=$ppe._freeEntry?($ppt=this._freeEntry,this._freeEntry=this._freeEntry.next):$ppt=new $ppe,$ppt},$ppe.freeEntry=function($ppt){$ppt.next=this._freeEntry,($ppe._freeEntry=$ppt).palette=null,$ppt.segments.length=0,$ppt.transparency=null},$ppe}();var PngDecoder=function(){function $ppm(){}return $ppm.init=function(){$ppm.sectionHandlers={IHDR:$ppm.handlerIHDR,PLTE:$ppm.handlerPLTE,IDAT:$ppm.handlerIDAT,tRNS:$ppm.handlerTRNS}},$ppm.handlerIHDR=function($ppt,$ppe,$ppi){$ppt.width=$ppe.getUint32(),$ppt.height=$ppe.getUint32(),$ppt.bits=$ppe.getUint8(),$ppt.colorType=$ppe.getUint8(),$ppt.compressionMethod=$ppe.getUint8(),$ppt.filterMethod=$ppe.getUint8(),$ppt.interlaceMethod=$ppe.getUint8()},$ppm.handlerPLTE=function($ppt,$ppe,$ppi){$ppt.palette=$ppe.getBytes($ppi)},$ppm.handlerIDAT=function($ppt,$ppe,$ppi){$ppt.segments.push($ppe.getBytes($ppi))},$ppm.handlerTRNS=function($ppt,$ppe,$ppi){$ppt.transparency=$ppe.getBytes($ppi)},$ppm.handlerICCP=function($ppt,$ppe,$ppi){var $ppn=$ppe.cursor;var $ppr=[];var $pps=$ppe.getUint8();for(;$ppr.push(String.fromCharCode($pps)),0!=($pps=$ppe.getUint8()););$ppr.join("");$ppe.getUint8();$ppi-=$ppe.cursor-$ppn;$ppe.getBytes($ppi)},$ppm.decodePalette=function($ppt){var $ppe=$ppt.palette;var $ppi=$ppt.transparency;var $ppn=$ppe.length;var $ppr=new Uint8Array($ppn/3*4);var $pps=0;var $ppa=0;var $ppo=$ppi.byteLength;var $pph=0;for(;$pps<$ppn;)$ppr[$ppa++]=$ppe[$pps++],$ppr[$ppa++]=$ppe[$pps++],$ppr[$ppa++]=$ppe[$pps++],$ppr[$ppa++]=$pph<$ppo?$ppi[$pph++]:255;return $ppr},$ppm.mergeSegments=function($ppt){var $ppe=0;for(var $ppi=0,$ppn=$ppt;$ppi<$ppn.length;$ppi++)$ppe+=($pph=$ppn[$ppi]).byteLength;var $ppr=new Uint8Array($ppe);var $pps=0;for(var $ppa=0,$ppo=$ppt;$ppa<$ppo.length;$ppa++){var $pph=$ppo[$ppa];$ppr.set($pph,$pps),$pps+=$pph.length}return new Zlib.Inflate($ppr).decompress()},$ppm.calcPixelBytes=function($ppt){var $ppe=3;return 4&$ppt.colorType&&($ppe=4),$ppe=3==$ppt.colorType&&$ppt.transparency?4:$ppe},$ppm.calcIndexBytes=function($ppt){var $ppe=1;switch($ppt.colorType){case 2:$ppe=3;break;case 4:$ppe=2;break;case 6:$ppe=4}return 7+$ppe*$ppt.bits>>3},$ppm.decodePixels=function($ppt){return 0==$ppt.interlaceMethod?this.notInterlaceMethod($ppt):null},$ppm.notInterlaceMethod=function($ppc){var $ppt=$ppm.mergeSegments($ppc.segments);var $ppu=$ppt.byteLength;var $pp_=$ppc.height;var $ppe=$ppm.calcIndexBytes($ppc);var $ppd=Math.floor(($ppu-$pp_)/$pp_);var $ppf=$ppd+1;var $ppi=0;var $ppn=0;var $ppr=0,$pps=0,$ppp=0,$ppa=0,$ppo=0,$pph=0,$ppl=0;for(;$ppn<$ppu;)switch($ppt[$ppn++]){case 0:$ppn+=$ppd;break;case 1:for($ppn+=$ppe,$ppi=$ppe;$ppi<$ppd;++$ppi,++$ppn)$ppt[$ppn]=($ppt[$ppn]+$ppt[$ppn-$ppe])%256;break;case 2:if(1!=$ppn)for($ppi=0;$ppi<$ppd;++$ppi,++$ppn)$ppt[$ppn]=($ppt[$ppn]+$ppt[$ppn-$ppf])%256;break;case 3:if(1==$ppn)for($ppn+=$ppe,$ppi=$ppe;$ppi<$ppd;++$ppi,++$ppn)$ppt[$ppn]=($ppt[$ppn]+($ppt[$ppn-$ppe]>>1))%256;else{for($ppi=0;$ppi<$ppe;++$ppi,++$ppn)$ppt[$ppn]=($ppt[$ppn]+($ppt[$ppn-$ppf]>>1))%256;for($ppi=$ppe;$ppi<$ppd;++$ppi,++$ppn)$ppt[$ppn]=($ppt[$ppn]+($ppt[$ppn-$ppe]+$ppt[$ppn-$ppf]>>1))%256}break;case 4:if(1==$ppe)if(1==$ppn)for($ppr=$ppt[$ppn++],$ppi=1;$ppi<$ppd;++$ppi,++$ppn)$ppr=$ppt[$ppn]=($ppt[$ppn]+(0<$ppr?$ppr:0))%256;else for(($ppo=$ppa=$pps=$ppt[$ppn-$ppf])<0&&($ppo=-$ppo),($ppl=$ppa)<0&&($ppl=-$ppl),$ppr=$ppt[$ppn]=$ppt[$ppn]+(!($ppa<=0)&&0<=$ppl?$pps:0),$ppn++,$ppi=1;$ppi<$ppd;++$ppi,++$ppn)($ppo=($ppa=$ppr+($pps=$ppt[$ppn-$ppf])-($ppp=$ppt[$ppn-$ppf-1]))-$ppr)<0&&($ppo=-$ppo),($pph=$ppa-$pps)<0&&($pph=-$pph),($ppl=$ppa-$ppp)<0&&($ppl=-$ppl),$ppr=$ppt[$ppn]=($ppt[$ppn]+($ppo<=$pph&&$ppo<=$ppl?$ppr:$pph<=$ppl?$pps:$ppp))%256;else if(1==$ppn)for($ppn+=$ppe,$pps=$ppp=0,$ppi=$ppe;$ppi<$ppd;++$ppi,++$ppn)($ppo=($ppa=($ppr=$ppt[$ppn-$ppe])+$pps-$ppp)-$ppr)<0&&($ppo=-$ppo),($pph=$ppa-$pps)<0&&($pph=-$pph),($ppl=$ppa-$ppp)<0&&($ppl=-$ppl),$ppt[$ppn]=($ppt[$ppn]+($ppo<=$pph&&$ppo<=$ppl?$ppr:$pph<=$ppl?$pps:$ppp))%256;else{for($ppi=0;$ppi<$ppe;++$ppi,++$ppn)($ppo=($ppa=($ppr=0)+($pps=$ppt[$ppn-$ppf])-($ppp=0))-$ppr)<0&&($ppo=-$ppo),($pph=$ppa-$pps)<0&&($pph=-$pph),($ppl=$ppa-$ppp)<0&&($ppl=-$ppl),$ppt[$ppn]=($ppt[$ppn]+($ppo<=$pph&&$ppo<=$ppl?$ppr:$pph<=$ppl?$pps:$ppp))%256;for($ppi=$ppe;$ppi<$ppd;++$ppi,++$ppn)($ppo=($ppa=($ppr=$ppt[$ppn-$ppe])+($pps=$ppt[$ppn-$ppf])-($ppp=$ppt[$ppn-$ppf-$ppe]))-$ppr)<0&&($ppo=-$ppo),($pph=$ppa-$pps)<0&&($pph=-$pph),($ppl=$ppa-$ppp)<0&&($ppl=-$ppl),$ppt[$ppn]=($ppt[$ppn]+($ppo<=$pph&&$ppo<=$ppl?$ppr:$pph<=$ppl?$pps:$ppp))%256}break;default:console.log("解析出错："+$ppc.width+", "+$ppc.height+", "+$ppe),console.log($ppt.byteLength)}return $ppt},$ppm.decode=function($ppc){var $ppt=PngFileEntry.allocEntry();var $ppe=new ByteStream;for($ppe.open($ppc),$ppe.skip(8);0<$ppe.bytesAvailable();){var $ppu=$ppe.getUint32();var $pp_=$ppe.getUTF(4);$pp_=$ppm.sectionHandlers[$pp_];null!=$pp_?$pp_($ppt,$ppe,$ppu):$ppe.skip($ppu);$ppe.getUint32()}$ppe.close();var $ppi=$ppm.decodePixels($ppt);if(null==$ppi)return null;var $ppn=0;var $ppr=0;var $pps=$ppt.width;var $ppa=$ppt.height;$ppc=new ArrayBuffer($pps*$ppa*$ppm.calcPixelBytes($ppt)+8);var $ppo=new Uint8Array($ppc,8);var $ppd=new DataView($ppc,0,8);switch($ppd.setUint32(0,$pps),$ppd.setUint32(4,$ppa),$ppt.colorType){case 3:$ppm.fromPalette($ppt,$ppi,$ppo);break;case 2:switch($ppt.bits){case 8:for(var $pph=0;$pph<$ppa;++$pph){$ppr++;for(var $ppl=0;$ppl<$pps;++$ppl)$ppo[$ppn++]=$ppi[$ppr++],$ppo[$ppn++]=$ppi[$ppr++],$ppo[$ppn++]=$ppi[$ppr++]}break;case 16:for($pph=0;$pph<$ppa;++$pph){$ppr++;for($ppl=0;$ppl<$pps;++$ppl)$ppo[$ppn++]=($ppi[$ppr]<<8|$ppi[$ppr+1])/65535*255,$ppr+=2,$ppo[$ppn++]=($ppi[$ppr]<<8|$ppi[$ppr+1])/65535*255,$ppr+=2,$ppo[$ppn++]=($ppi[$ppr]<<8|$ppi[$ppr+1])/65535*255,$ppr+=2}}break;case 6:switch($ppt.bits){case 8:for($pph=0;$pph<$ppa;++$pph){$ppr++;for($ppl=0;$ppl<$pps;++$ppl)$ppo[$ppn++]=$ppi[$ppr++],$ppo[$ppn++]=$ppi[$ppr++],$ppo[$ppn++]=$ppi[$ppr++],$ppo[$ppn++]=$ppi[$ppr++]}break;case 16:for($pph=0;$pph<$ppa;++$pph){$ppr++;for($ppl=0;$ppl<$pps;++$ppl)$ppo[$ppn++]=($ppi[$ppr]<<8|$ppi[$ppr+1])/65535*255,$ppr+=2,$ppo[$ppn++]=($ppi[$ppr]<<8|$ppi[$ppr+1])/65535*255,$ppr+=2,$ppo[$ppn++]=($ppi[$ppr]<<8|$ppi[$ppr+1])/65535*255,$ppr+=2,$ppo[$ppn++]=($ppi[$ppr]<<8|$ppi[$ppr+1])/65535*255,$ppr+=2}}break;default:console.error("未支持的类型："+$ppt.colorType+", "+$ppt.bits)}return PngFileEntry.freeEntry($ppt),$ppc},$ppm.fromPalette=function($ppc,$ppt,$ppe){var $ppi=0;var $ppn=0;var $ppr=$ppc.width;var $pps=$ppc.height;var $ppa=$ppc.palette;if(null!=$ppc.transparency)switch($ppa=$ppm.decodePalette($ppc),$ppc.bits){case 1:for(var $ppo=0;$ppo<$pps;++$ppo){$ppn++;for(var $pph=0;$pph<$ppr;++$pph){var $ppl=4*(1&$ppt[$ppn+($pph>>3)]);$ppe[$ppi++]=$ppa[$ppl],$ppe[$ppi++]=$ppa[$ppl+1],$ppe[$ppi++]=$ppa[$ppl+2],$ppe[$ppi++]=$ppa[$ppl+3]}$ppn+=$ppr+7>>3}break;case 2:for($ppo=0;$ppo<$pps;++$ppo){$ppn++;for($pph=0;$pph<$ppr;++$pph){$ppl=4*(3&$ppt[$ppn+($pph>>2)]);$ppe[$ppi++]=$ppa[$ppl],$ppe[$ppi++]=$ppa[$ppl+1],$ppe[$ppi++]=$ppa[$ppl+2],$ppe[$ppi++]=$ppa[$ppl+3]}$ppn+=$ppr+3>>2}break;case 4:for($ppo=0;$ppo<$pps;++$ppo){$ppn++;for($pph=0;$pph<$ppr;++$pph){$ppl=4*(15&$ppt[$ppn+($pph>>1)]);$ppe[$ppi++]=$ppa[$ppl],$ppe[$ppi++]=$ppa[$ppl+1],$ppe[$ppi++]=$ppa[$ppl+2],$ppe[$ppi++]=$ppa[$ppl+3]}$ppn+=$ppr+1>>1}break;case 8:for($ppo=0;$ppo<$pps;++$ppo){$ppn++;for($pph=0;$pph<$ppr;++$pph){$ppl=4*$ppt[$ppn++];$ppe[$ppi++]=$ppa[$ppl],$ppe[$ppi++]=$ppa[$ppl+1],$ppe[$ppi++]=$ppa[$ppl+2],$ppe[$ppi++]=$ppa[$ppl+3]}}}else switch($ppc.bits){case 1:for($ppo=0;$ppo<$pps;++$ppo){$ppn++;for($pph=0;$pph<$ppr;++$pph){$ppl=3*(1&$ppt[$ppn+($pph>>3)]);$ppe[$ppi++]=$ppa[$ppl],$ppe[$ppi++]=$ppa[$ppl+1],$ppe[$ppi++]=$ppa[$ppl+2]}$ppn+=$ppr+7>>3}break;case 2:for($ppo=0;$ppo<$pps;++$ppo){$ppn++;for($pph=0;$pph<$ppr;++$pph){$ppl=3*(3&$ppt[$ppn+($pph>>2)]);$ppe[$ppi++]=$ppa[$ppl],$ppe[$ppi++]=$ppa[$ppl+1],$ppe[$ppi++]=$ppa[$ppl+2]}$ppn+=$ppr+3>>2}break;case 4:for($ppo=0;$ppo<$pps;++$ppo){$ppn++;for($pph=0;$pph<$ppr;++$pph){$ppl=3*(15&$ppt[$ppn+($pph>>1)]);$ppe[$ppi++]=$ppa[$ppl],$ppe[$ppi++]=$ppa[$ppl+1],$ppe[$ppi++]=$ppa[$ppl+2]}$ppn+=$ppr+1>>1}break;case 8:for($ppo=0;$ppo<$pps;++$ppo){$ppn++;for($pph=0;$pph<$ppr;++$pph){$ppl=3*$ppt[$ppn++];$ppe[$ppi++]=$ppa[$ppl],$ppe[$ppi++]=$ppa[$ppl+1],$ppe[$ppi++]=$ppa[$ppl+2]}}}},$ppm.sectionHandlers={},$ppm}();var base;!function($ppt){(function($ppt){function $ppn(){}$ppn.init=function(){PngDecoder.init()},$ppn.inflateBuffer=function($ppt){$ppt=new Zlib.Inflate(new Uint8Array($ppt)).decompress();return $ppt.buffer.slice($ppt.byteOffset,$ppt.byteLength)},$ppn.decodeImage=function($ppt,$ppe){if(void 0===$ppe&&($ppe=null),this.isPng($ppt))return PngDecoder.decode($ppt);var $ppi=new JpegImage;$ppi.parse($ppt);$ppt=$ppi.width;var $ppn=$ppi.height;$ppi=$ppi.getData($ppt,$ppn,!0,8,$ppe);$ppe=new DataView($ppi.buffer);return $ppe.setUint32(0,$ppt),$ppe.setUint32(4,$ppn),$ppi.buffer},$ppn.isPng=function($ppt){var $ppe=$ppn.PngHeader;for(var $ppi=0;$ppi<8;++$ppi)if($ppt[$ppi]!=$ppe[$ppi])return!1;return!0},$ppn.PngHeader=new Uint8Array([137,80,78,71,13,10,26,10]),$ppt.FileDecodeSystem=$ppn})(($ppt=$ppt.background||($ppt.background={})).system||($ppt.system={}))}(base=base||{});var ActorProxy=base.background.ActorProxy;var InitCommand=base.background.InitCommand;var InitCompleteCommand=base.background.InitCompleteCommand;var FileDecodeSystem=base.background.system.FileDecodeSystem;var DecodeCommand=base.background.DecodeCommand;var DecodeCompleteCommand=base.background.DecodeCompleteCommand;console.log("routine init"),FileDecodeSystem.init();var actor=new ActorProxy(self);actor.registerOpcode(InitCommand.opcode,InitCommand),actor.registerOpcode(InitCompleteCommand.opcode,InitCompleteCommand),actor.registerOpcode(DecodeCommand.opcode,DecodeCommand),actor.registerOpcode(DecodeCompleteCommand.opcode,DecodeCompleteCommand),actor.addCommandHandler(InitCommand.opcode,function($ppt){var $ppe=new InitCompleteCommand;$ppe.status=0,actor.sendCommand($ppe)}),actor.addCommandHandler(DecodeCommand.opcode,function($ppt){var $ppe=$ppt.url;var $ppi=$ppt.uncompress;$ppt=$ppt.content;var $ppn;var $ppr;1===$ppi?$ppn=FileDecodeSystem.inflateBuffer($ppt[0]):($ppi=$ppe.toLowerCase()).lastIndexOf(".png")==$ppi.length-4||$ppi.lastIndexOf(".jpg")==$ppi.length-4?$ppn=FileDecodeSystem.decodeImage(new Uint8Array($ppt[0])):$ppi.lastIndexOf(".til")==$ppi.length-4&&(($ppi=new ByteStream).open(new Uint8Array($ppt[0])),$ppi.getUint16(),$ppr=$ppi.getBytes($ppi.getUint32()),$ppi.getUint16(),$ppn=FileDecodeSystem.decodeImage($ppi.getBytes($ppi.getUint32()),new Zlib.Inflate($ppr).decompress())),$ppt.length=0;$ppi=new DecodeCompleteCommand;$ppi.url=$ppe,$ppi.bytes=$ppn,actor.sendCommand($ppi)});__extends=this&&this.__extends||function(){var $ppn=function($ppt,$ppe){return($ppn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($ppt,$ppe){$ppt.__proto__=$ppe}||function($ppt,$ppe){for(var $ppi in $ppe)$ppe.hasOwnProperty($ppi)&&($ppt[$ppi]=$ppe[$ppi])})($ppt,$ppe)};return function($ppt,$ppe){function $ppi(){this.constructor=$ppt}$ppn($ppt,$ppe),$ppt.prototype=null===$ppe?Object.create($ppe):($ppi.prototype=$ppe.prototype,new $ppi)}}();var config={game_id:"2",game_pkg:"lmfbs1_mhdlxyx_M",partner_id:"4",is_auth:!1,from:null};window.config=config;var PARTNER_SDK=mainSDK();var HOST="https://sdk.api.l2i.cc";var user_game_info=null;var this_order_id=null;var game_ver="";function mainSDK(){var $pps={};return{order_data:{},init:function($ppt,$ppe){game_ver=$ppt&&$ppt.game_ver?$ppt.game_ver:0,console.log("new[SDK]CP调用init接口",$ppt),$ppt=wx.getStorageSync("plat_uuid")?0:($ppt=this.uuid(16,32),wx.setStorageSync("plat_uuid",$ppt),1),wx.getStorageSync("plat_idfv")||($ppi=this.uuid(16,32),wx.setStorageSync("plat_idfv",$ppi));var $ppi=wx.getLaunchOptionsSync();var $ppn=$ppi.scene||"";console.log("[SDK]小游戏启动参数",$ppi),console.log("[SDK]小游戏is_new",$ppt),$ppt&&$ppi.query&&$ppi.query.ad_code&&wx.setStorageSync("plat_ad_code",$ppi.query.ad_code);var $ppr=JSON.stringify($ppi.query);$ppt&&"{}"!=$ppr&&wx.setStorageSync("plat_wx_query",JSON.stringify($ppi.query)),$ppi.query&&$ppi.query.from&&""!=$ppi.query.from?($ppt&&wx.setStorageSync("plat_from",$ppi.query.from),config.from=$ppi.query.from):($ppr=wx.getStorageSync("plat_from"))||""==$ppr||(config.from=$ppr),this.log("start",{install:$ppt,scene:$ppn}),wx.showShareMenu(),game_ver&&this.checkGameVersion(game_ver,function($ppt){$ppe&&$ppe($ppt)})},login:function($ppt){console.log("new[SDK]调起登录");var $ppi=this;$pps.login="function"==typeof $ppt?$ppt:null,config.is_auth?wx.getSetting({success:function($ppt){var $ppe;$ppt.authSetting["scope.userInfo"]?(console.log("[SDK]获得授权设置：已授权"),$ppi.do_login()):(console.log("[SDK]获得授权设置：未授权"),wx.hideLoading({}),($ppt=wx.getSystemInfoSync()).screenWidth,$ppt.screenHeight,($ppe=wx.createUserInfoButton({type:"text",text:"授权登录游戏",withCredentials:!1,style:{top:$ppt.windowHeight/2+$ppt.windowHeight/4,left:$ppt.windowWidth/2-100,width:200,height:40,lineHeight:40,backgroundColor:"#07c160",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}})).show(),$ppe.onTap(function($ppt){console.log($ppt),wxShowLoading({title:"正在登录游戏"}),"getUserInfo:ok"==$ppt.errMsg?$ppi.do_login({head_img:$ppt.userInfo.avatarUrl||"",nick_name:$ppt.userInfo.nickName||""}):$ppi.do_login(),$ppe.destroy()}))},fail:function(){console.log("[SDK]获得授权设置：失败"),$ppi.do_login()}}):(console.log("[SDK]授权登录"+config.is_auth),$ppi.do_login())},do_login:function($ppe){var $ppi=this;wx.login({success:function($ppt){var $ppn;console.log("微信登录成功返回"+JSON.stringify($ppt)),$ppt.code?(($ppn=$ppi.getPublicData()).mo=1,$ppn.code=$ppt.code,$ppn.nick_name=$ppe?$ppe.nick_name:"",$ppn.head_img=$ppe?$ppe.head_img:"",config.is_auth?wx.getUserInfo({success:function($ppt){var $ppe=$ppt.encryptedData;var $ppi=$ppt.iv;$ppt=$ppt.signature;$ppn.encryptedData=$ppe,$ppn.iv=$ppi,$ppn.signature=$ppt,wx.request({url:HOST+"/partner/auth",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:$ppn,success:function($ppt){if(console.log("new[SDK]登录结果："),console.log($ppt),200==$ppt.statusCode){$ppt=$ppt.data;if($ppt.state){var $ppe={userid:$ppt.data.user_id,account:$ppt.data.nick_name,token:$ppt.data.token};try{wx.setStorageSync("plat_sdk_token",$ppt.data.sdk_token),wx.setStorageSync("plat_uid",$ppt.data.user_id),wx.setStorageSync("plat_username",$ppt.data.username),wx.setStorageSync("wx_openid",$ppt.data.openid),wx.getStorageSync("plat_ad_code")||""==$ppt.data.ad_code||wx.setStorageSync("plat_ad_code",$ppt.data.ad_code),$ppt.data.ext&&wx.setStorageSync("plat_session_key",$ppt.data.ext)}catch($ppt){}$pps.login&&$pps.login(0,$ppe)}else $pps.login&&$pps.login(1,{errMsg:$ppt.msg})}else $pps.login&&$pps.login(1,{errMsg:"请求平台服务器失败！#1"})},fail:function($ppt){$pps.login&&$pps.login(1,{errMsg:$ppt.errMsg})}})},fail:function($ppt){$pps.login&&$pps.login(1,{errMsg:$ppt.errMsg})}}):wx.request({url:HOST+"/partner/auth",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:$ppn,success:function($ppt){if(console.log("new[SDK]登录结果："),console.log($ppt),200==$ppt.statusCode){$ppt=$ppt.data;if($ppt.state){var $ppe={userid:$ppt.data.user_id,account:$ppt.data.nick_name,token:$ppt.data.token};try{wx.setStorageSync("plat_sdk_token",$ppt.data.sdk_token),wx.setStorageSync("plat_uid",$ppt.data.user_id),wx.setStorageSync("plat_username",$ppt.data.username),wx.setStorageSync("wx_openid",$ppt.data.openid),wx.getStorageSync("plat_ad_code")||""==$ppt.data.ad_code||wx.setStorageSync("plat_ad_code",$ppt.data.ad_code),$ppt.data.ext&&wx.setStorageSync("plat_session_key",$ppt.data.ext)}catch($ppt){}$pps.login&&$pps.login(0,$ppe)}else $pps.login&&$pps.login(1,{errMsg:$ppt.msg})}else $pps.login&&$pps.login(1,{errMsg:"请求平台服务器失败！#2"})}})):$pps.login&&$pps.login(1,{errMsg:$ppt.errMsg})},fail:function($ppt){console.log("微信登录失败"+JSON.stringify($ppt)),(-1<$ppt.errMsg.indexOf("auth deny")||-1<$ppt.errMsg.indexOf("auth denied"))&&$pps.login&&$pps.login(1,{errMsg:$ppt.errMsg})}})},checkGameVersion:function($ppt,$ppi){console.log("[SDK]检查游戏版本");wx.getStorageSync("plat_sdk_token");wx.request({url:HOST+"/game/min/?ac=checkGameVersion",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:{game_pkg:config.game_pkg,partner_id:config.partner_id,game_ver:$ppt},success:function($ppt){var $ppe;console.log("[SDK]获取游戏版本结果"),console.log($ppt),200==$ppt.statusCode&&($ppe=$ppt.data).state?$ppi&&$ppi($ppe.data):$ppi&&$ppi({develop:0})},fail:function($ppt){console.log($ppt)}})},pay:function($ppt,$ppe){var $ppi=this;wx.checkSession({success:function(){$ppi.startPay($ppt,$ppe)},fail:function(){console.log("[SDK]session过期需要重新登录"),$ppi.login({},function(){$ppi.startPay($ppt,$ppe)})}})},startPay:function($ppt,$ppe){console.log("[SDK]调起支付，CP传值："),console.log($ppt);var $ppi=this;$pps.pay="function"==typeof $ppe?$ppe:null;$ppe=wx.getStorageSync("plat_sdk_token");var $ppn=wx.getStorageSync("plat_session_key");var $ppr;$ppe&&$ppn?($ppr=wx.getSystemInfoSync(),$ppt={cpbill:$ppt.cpbill,productid:$ppt.productid,productname:$ppt.productname,productdesc:$ppt.productdesc,serverid:$ppt.serverid,servername:$ppt.servername,roleid:$ppt.roleid,rolename:$ppt.rolename,rolelevel:$ppt.rolelevel,price:$ppt.price,extension:$ppt.extension,sdk_token:$ppe,session_key:$ppn,platform:$ppr.platform},$ppi.order_data=$ppt,($ppe=$ppi.getPublicData()).order_data=JSON.stringify($ppt),wx.request({url:HOST+"/partner/order",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:$ppe,success:function($ppt){console.log("[SDK]完成创建订单"),console.log($ppt),200==$ppt.statusCode?($ppt=$ppt.data).state?void 0===wx.requestPayment?"android"==$ppr.platform||"windows"==$ppr.platform||"devtools"==$ppr.platform?$ppt.data.is_android_pay?$ppi.kfPay($ppt.data):$ppi.gamePay($ppt.data):$ppt.data.is_ios_pay?1==$ppt.data.ios_pay_type&&$ppi.kfPay($ppt.data):wx.showModal({title:"支付提示",content:"很抱歉，由于苹果政策，暂时不能支付，安卓手机不受影响",confirmText:"我知道了",showCancel:!1}):$ppi.minPay($ppt.data):$pps.pay&&$pps.pay(1,{errMsg:$ppt.msg}):$pps.login&&$pps.login(1,{errMsg:"请求平台服务器失败！#3"})}})):$pps.pay&&$pps.pay(1,{errMsg:"用户未登录，支付失败！"})},gamePay:function($ppe){var $ppi=this;$ppe.buyQuantity<=$ppe.balance?(console.log("[SDK]游戏币充值直接扣除"),wx.showModal({title:"支付提示",content:"您还有"+$ppe.balance+"个游戏币未消费，本次支付将扣除"+$ppe.buyQuantity+"游戏币",showCancel:!1,confirmText:"我知道了",success:function(){$ppi.gameGoPay($ppe)}})):(console.log("[SDK]调起米大师支付"),console.log($ppe),wx.requestMidasPayment({mode:"game",env:$ppe.env,offerId:$ppe.offerId,currencyType:$ppe.currencyType,platform:$ppe.platform,buyQuantity:$ppe.buyQuantity,zoneId:$ppe.zoneId,success:function($ppt){"requestMidasPayment:ok"==$ppt.errMsg&&$ppi.gameGoPay($ppe)},fail:function($ppt){-1!==$ppt.errMsg.indexOf("用户取消")?$pps.pay&&$pps.pay(2,{errMsg:"用户取消支付"}):$pps.pay&&$pps.pay(1,{errMsg:"支付失败:"+$ppt.errMsg+"("+$ppt.errCode+")"})},complete:function($ppt){}}))},kfPay:function($ppt){this_order_id=$ppt.orderId,wx.showModal({title:"支付提示",content:'进入客服会话，点击右下角小卡片或输入"cz"或"充值"获取支付链接',showCancel:!1,confirmText:"我知道了",success:function(){wx.openCustomerServiceConversation({showMessageCard:!0,sendMessageTitle:"不用点这个卡片",sendMessageImg:"https://static.357pk.net/uploads/2109/weixin_pay_img1.png"})}})},gameGoPay:function($ppe,$ppt){console.log("[SDK]米大师支付完毕，通知服务器发货");var $ppi=this;var $ppn=wx.getStorageSync("plat_session_key");wx.request({url:HOST+"/partner/pay/"+config.partner_id+"/"+config.game_pkg+"/",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:{order_id:$ppe.orderId,time:$ppe.time,sign:$ppe.sign,session_key:$ppn},success:function($ppt){console.log("[SDK]米大师支付结果"),console.log($ppt),200==$ppt.statusCode&&(1==$ppt.data.state?($ppt={cpOrderNo:$ppi.order_data.cpbill,orderNo:$ppe.orderId,amount:$ppi.order_data.price,extension:$ppi.order_data.extension},$pps.pay&&$pps.pay(0,$ppt)):$pps.pay&&$pps.pay(1,{errMsg:"支付失败"}))},fail:function(){}})},logCreateRole:function($ppt){var $ppe=wx.getStorageSync("plat_uid");var $ppi=wx.getStorageSync("plat_username");var $ppn={};$ppn.user_id=$ppe,$ppn.user_name=$ppi,$ppn.role_id=$ppt.roleid,$ppn.role_lev=$ppt.rolelevel,$ppn.role_name=$ppt.rolename,$ppn.server_id=$ppt.serverid,$ppt.roleid&&$ppt.serverid&&(user_game_info={role_id:$ppt.roleid,server_id:$ppt.serverid}),this.log("create",$ppn)},logEnterGame:function($ppt){var $ppe=wx.getStorageSync("plat_uid");var $ppi=wx.getStorageSync("plat_username");var $ppn={};$ppn.user_id=$ppe,$ppn.user_name=$ppi,$ppn.role_id=$ppt.roleid,$ppn.role_lev=$ppt.rolelevel,$ppn.role_name=$ppt.rolename,$ppn.server_id=$ppt.serverid,$ppt.roleid&&$ppt.serverid&&(user_game_info={role_id:$ppt.roleid,server_id:$ppt.serverid}),this.log("enter",$ppn)},logRoleUpLevel:function($ppt){var $ppe=wx.getStorageSync("plat_uid");var $ppi=wx.getStorageSync("plat_username");var $ppn={};$ppn.user_id=$ppe,$ppn.user_name=$ppi,$ppn.role_id=$ppt.roleid,$ppn.role_lev=$ppt.rolelevel,$ppn.role_name=$ppt.rolename,$ppn.server_id=$ppt.serverid,$ppt.roleid&&$ppt.serverid&&(user_game_info={role_id:$ppt.roleid,server_id:$ppt.serverid}),this.log("levelup",$ppn)},uuid:function($ppt,$ppe){var $ppi="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");var $ppn,$ppr=[];var $pps;if($ppt=$ppt||$ppi.length,$ppe)for($ppn=0;$ppn<$ppe;$ppn++)$ppr[$ppn]=$ppi[0|Math.random()*$ppt];else for($ppr[8]=$ppr[13]=$ppr[18]=$ppr[23]="-",$ppr[14]="4",$ppn=0;$ppn<36;$ppn++)$ppr[$ppn]||($pps=0|16*Math.random(),$ppr[$ppn]=$ppi[19==$ppn?3&$pps|8:$pps]);return $ppr.join("")},getPublicData:function(){var $ppt=wx.getSystemInfoSync();var $ppe=wx.getStorageSync("plat_uuid");var $ppi=wx.getStorageSync("plat_idfv");var $ppn=wx.getStorageSync("plat_ad_code");var $ppr=wx.getStorageSync("wx_openid");var $pps=wx.getStorageSync("plat_wx_query");return{game_id:config.game_id,game_pkg:config.game_pkg,partner_id:config.partner_id,ad_code:$ppn,uuid:$ppe,idfv:$ppi,dname:$ppt.model,mac:"0000",net_type:0==$ppt.wifiSignal?"4G":"WIFI",os_ver:$ppt.system,sdk_ver:$ppt.version,game_ver:game_ver,device:"android"==$ppt.platform?1:2,is_from_min:1,wx_openid:$ppr,wx_query:$pps}},log:function($ppt,$ppe){var $ppi=this.getPublicData();for(var $ppn in $ppe)$ppi[$ppn]=$ppe[$ppn];console.log("[SDK]上报数据："+$ppt),console.log($ppi),wx.request({url:HOST+"/partner/h5Log/?type="+$ppt+"&data="+encodeURIComponent(JSON.stringify($ppi))})},getDate:function(){var $ppt=new Date;return $ppt.getFullYear()+"-"+$ppt.getMonth()+"-"+$ppt.getDate()},downloadClient:function(){var $ppt="微端-不用点这个卡片-"+wx.getStorageSync("wx_openid");wx.showModal({title:"微端下载提示",content:"进入客服会话，点击右下角小卡片获取微端下载链接",showCancel:!1,confirmText:"我知道了",success:function(){wx.openCustomerServiceConversation({showMessageCard:!0,sendMessageTitle:$ppt,sendMessageImg:"https://static.357pk.net/uploads/2109/weixin_download_img2.jpg"})}})},checkMsg:function($ppt,$ppe){console.log("[SDK]查看文本是否有违规内容");var $ppi=wx.getStorageSync("plat_sdk_token");wx.request({url:HOST+"/game/min/?ac=msgCheck",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:{game_pkg:config.game_pkg,partner_id:config.partner_id,sdk_token:$ppi,content:$ppt},success:function($ppt){console.log("[SDK]查看文本是否有违规内容结果返回:"),$ppe&&$ppe(0==$ppt.data.code?1:0,$ppt.data.msg)}})},checkMsgV2:function($ppt,$ppe){console.log("[SDK]查看文本是否有违规内容");var $ppi=wx.getStorageSync("plat_sdk_token");wx.request({url:HOST+"/game/min/?ac=msgCheckV2",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:{game_pkg:config.game_pkg,partner_id:config.partner_id,sdk_token:$ppi,content:$ppt,scene:1},success:function($ppt){console.log("[SDK]查看文本是否有违规内容结果返回:"),$ppe&&$ppe(0==$ppt.data.code?1:0,$ppt.data.msg)}})},sendMessage:function($ppt,$ppe,$ppi){console.log("[SDK]发送订阅消息");var $ppn=wx.getStorageSync("plat_sdk_token");wx.request({url:HOST+"/game/min/?ac=sendMessage",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:{game_pkg:config.game_pkg,partner_id:config.partner_id,sdk_token:$ppn,template_id:$ppt,data:$ppe},success:function($ppt){console.log("[SDK]订阅消息发送成功"),$ppi&&$ppi(0==$ppt.data.code?1:0,$ppt.data.msg)}})},videoAdvert:function($ppn,$ppr){wx.request({url:HOST+"/?method=user.gameConfig",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:{game_pkg:config.game_pkg,partner_id:config.partner_id},success:function($ppt){$ppt=$ppt.data.data.weixin_advert_id;var $ppe=null;var $ppi={};if(wx.createRewardedVideoAd){($ppe=wx.createRewardedVideoAd({adUnitId:$ppt})).show().catch(function(){console.log("激励视频 广告显示成功");$ppe.load().then(function(){return $ppe.show()}).catch(function($ppt){console.log("激励视频 广告显示失败")}),$ppi={advert_type:$ppn,status:"adShow"},$ppr&&$ppr($ppi)}),$ppe.onError(function($ppt){console.log($ppt)});try{$ppe.closeHandler&&($ppe.offClose($ppe.closeHandler),console.log("videoAdv.offClose卸载成功"))}catch($ppt){console.log("videoAdv.offClose 卸载失败"),console.error($ppt)}$ppe.closeHandler=function($ppt){$ppe&&($ppe.offClose(),$ppi=$ppt&&$ppt.isEnded||void 0===$ppt?(console.log("正常播放结束，需要下发奖励"),{advert_type:$ppn,status:"adReWord"}):(console.log("播放退出，不下发奖励"),{advert_type:$ppn,status:"adClose"}),$ppr&&$ppr($ppi))},$ppe.onClose($ppe.closeHandler)}}})},getGameConfig:function($ppi){console.log("[SDK]获取游戏配置"),wx.request({url:HOST+"/?method=user.gameConfig",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:{game_pkg:config.game_pkg,partner_id:config.partner_id},success:function($ppt){var $ppe=$ppt.data.data;console.log("[SDK]获取游戏配置成功"),console.log($ppt.data);$ppt={pay_switch:$ppe.pay_switch,game_ver:$ppe.game_ver},$ppi&&$ppi($ppt)}})},getUserZhuanduanInfo:function($ppe){console.log("[SDK]获取用户转端信息");var $ppt=wx.getStorageSync("plat_sdk_token");wx.request({url:HOST+"/?method=user.getUserZhuanduanInfo",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:{game_id:config.game_id,game_pkg:config.game_pkg,partner_id:config.partner_id,sdk_token:$ppt},success:function($ppt){$ppt=$ppt.data.data;console.log("[SDK]获取用户转端信息成功");$ppt={download_url:$ppt.download_url,password:$ppt.password,service_qq:$ppt.service_qq,username:$ppt.username,is_show:$ppt.is_show},$ppe&&$ppe($ppt)}})},openService:function(){wx.openCustomerServiceConversation()}}}function run($ppt,$ppe,$ppi){$ppt in PARTNER_SDK&&PARTNER_SDK[$ppt]($ppe,$ppi)}exports.init=function($ppt,$ppe){run("init",$ppt,$ppe)},exports.login=function($ppt){run("login","",$ppt)},exports.pay=function($ppt,$ppe){run("pay",$ppt,$ppe)},exports.logCreateRole=function($ppt,$ppe,$ppi,$ppn,$ppr){run("logCreateRole",{serverid:$ppt,servername:$ppe,roleid:$ppi,rolename:$ppn,rolelevel:$ppr})},exports.logEnterGame=function($ppt,$ppe,$ppi,$ppn,$ppr){run("logEnterGame",{serverid:$ppt,servername:$ppe,roleid:$ppi,rolename:$ppn,rolelevel:$ppr})},exports.logRoleUpLevel=function($ppt,$ppe,$ppi,$ppn,$ppr){run("logRoleUpLevel",{serverid:$ppt,servername:$ppe,roleid:$ppi,rolename:$ppn,rolelevel:$ppr})},exports.downloadClient=function(){run("downloadClient")},exports.getConfig=function(){return{game_id:config.game_id,game_pkg:config.game_pkg,partner_id:config.partner_id}},exports.getPublicData=function(){run("getPublicData")},exports.checkMsg=function($ppt,$ppe){run("checkMsg",$ppt,$ppe)},exports.checkMsgV2=function($ppt,$ppe){run("checkMsgV2",$ppt,$ppe)},exports.sendMessage=function($ppt,$ppe,$ppi){run("sendMessage",$ppt,$ppe,$ppi)},exports.videoAdvert=function($ppt,$ppe){run("videoAdvert",$ppt,$ppe)},exports.getGameConfig=function($ppt){run("getGameConfig",$ppt)},exports.getUserZhuanduanInfo=function($ppt){run("getUserZhuanduanInfo",$ppt)},exports.openService=function(){run("openService")};__extends=this&&this.__extends||function(){var $ppn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($ppt,$ppe){$ppt.__proto__=$ppe}||function($ppt,$ppe){for(var $ppi in $ppe)$ppe.hasOwnProperty($ppi)&&($ppt[$ppi]=$ppe[$ppi])};return function($ppt,$ppe){function $ppi(){this.constructor=$ppt}$ppn($ppt,$ppe),$ppt.prototype=null===$ppe?Object.create($ppe):($ppi.prototype=$ppe.prototype,new $ppi)}}();window.NONAGE_TEXT="1、本游戏是一款休闲放置的仙侠游戏，适用于年满16周岁及以上的用户，建议未成年人在家长的监护下使用该游戏产品。\n<br/><br/>2、本游戏基于侠客修仙故事为背景，人物和场景丰富多样，画面风格靓丽，有绚丽的特效来烘托游戏氛围；游戏主要玩法为休闲放置关机，\n也需要玩家参与多人对抗，玩法具有一定的策性与趣味性：游戏中有基于玩家与陌生人聊天的社交系统，社交系统的管理遵循相关法律法规。\n<br/><br/>3、本游戏中有用户实名认证系统，认证为未成年人的用户将接受以下管理：游戏中部分玩法和道具需要付费。未满8周岁的用户不能付费；\n8周岁以上未满16周岁的未成年人用户，单次充值金额不得超过50元人民币，每月充值金额累计不得超过200元；人民币16周岁以上的未成年人用户，\n单次充值金额不得超过100元人民币，每月充值金额累计不得超过400元人民币。未成年人用户，仅可在周五、周六、周日或法定节假日20:00~21:00期间可以登录游戏，时间段外不允许登录\n<br/><br/>4、本游戏以玄幻修仙为主题，在多人协作的竞技有助于锻炼玩家的独立思考能力、空间感知能力和逻辑思维能力；酷炫的角色技能与特效，\n将带给用户良好的视觉享受与游戏代入感；基于团队竞技的协作玩法可以提升玩家的沟通能力、团队协作能力和大局观，鼓励玩家互帮互助、\n维持良好的社群关系。",window.IS_WECHAT=!0,window.userData=null,window.MainRun=null,window.MainResourcePool=null,window.name="",window.loadView=null,window.QCSDK=PARTNER_SDK,window.MainResetStage=null,window.MainCode=null,window.loadScript=function(){},ask_pay=function($ppt,$ppe,$ppi,$ppn,$ppr,$pps){},player_create=function($ppt,$ppe,$ppi){QCSDK.logCreateRole(userData.selected_server.server_id,userData.selected_server.name,$ppt,$ppe,$ppi)},player_login=function($ppt,$ppe,$ppi){QCSDK.logEnterGame(userData.selected_server.server_id,userData.selected_server.name,$ppt,$ppe,$ppi)},player_level_up=function($ppt,$ppe,$ppi){QCSDK.logRoleUpLevel(userData.selected_server.server_id,userData.selected_server.name,$ppt,$ppe,$ppi)},record_step=function($ppt,$ppe){var $ppi=0;1===userData.newregister&&($ppi=userData.selected_server.server_id),3<$ppt&&($ppi=userData.selected_server.server_id),$ppi=base64_encode("game/node/"+userData.channel+"/"+$ppi+"/"+userData.package+"/"+$ppt+"/"+userData.account+"/"+userData.sign+"/"+$ppe+"/"+userData.mac);$ppt=new Laya.HttpRequest;$ppt.send(WeChatUI.Config.backstage_url+$ppi,null,"get"),$ppt.once(Laya.Event.COMPLETE,this,function($ppt){})},req_server_list=function(){},showProgressInterface=function($ppt,$ppe,$ppi,$ppn){console.log("8888",$ppn),window.loadView&&-1==window.loadView.arr.indexOf($ppn)&&(window.loadView.arr.push($ppn),window.loadView.upProgress($ppn))},setLoadingState=function($ppt){window.loadView.visible=$ppt,MainResetStage()},updateTotalProgress=function($ppt){-2==$ppt&&window.loadView&&window.loadView.destroy()},reqRecordError=function($ppt){},player_share=function($ppt,$ppe){QCSDK.share(type)},player_realname=function($ppt){},player_follow=function($ppt,$ppe){},player_bindphone=function($ppt){},firstEnterGameScene=function(){},openLogin=function(){Laya.loader.load("res/atlas/login.atlas",Laya.Handler.create(null,function(){var $ppt=new WeChatUI.Login;Laya.stage.addChild($ppt)}))},window.base64_encode=function($ppt){var $ppe,$ppi,$ppn;var $ppr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var $pps=0,$ppa=$ppt.length,$ppo="";for(;$pps<$ppa;){if($ppe=255&$ppt.charCodeAt($pps++),$pps==$ppa){$ppo=($ppo+=$ppr.charAt($ppe>>2))+$ppr.charAt((3&$ppe)<<4)+"==";break}if($ppi=$ppt.charCodeAt($pps++),$pps==$ppa){$ppo=($ppo=($ppo+=$ppr.charAt($ppe>>2))+$ppr.charAt((3&$ppe)<<4|(240&$ppi)>>4))+$ppr.charAt((15&$ppi)<<2)+"=";break}$ppn=$ppt.charCodeAt($pps++),$ppo=($ppo=($ppo=($ppo+=$ppr.charAt($ppe>>2))+$ppr.charAt((3&$ppe)<<4|(240&$ppi)>>4))+$ppr.charAt((15&$ppi)<<2|(192&$ppn)>>6))+$ppr.charAt(63&$ppn)}return $ppo},window.nameGenerator={familyNames:["赵","蒋","孔","柏","鲁","酆","滕","皮","和","米","熊","席","梅","樊","经","郁","程","甄","井","车","宁","景","印","卓","闻","冉","边","柴","向","都","欧","晁","曾","查","万俟","澹台","","钟离","寸","翠","富察","税","泰","求","旁","禾","冒","悟","苟","佼","旷","叔","焉","肇","徭","郯","锁","磨","同","卷","斯","户","寒","揭","弥","塔","腾","濯","驹","鲜","门","载","修","五","丘","让","零","励","原","竹","南宫","后","百里","壤驷","鲜于","公良","钱","沈","曹","水","韦","鲍","殷","卞","穆","贝","纪","季","盛","胡","房","单","嵇","段","侯","仇","詹","宿","蔺","莘","宰","扈","瞿","古","耿","勾","毋","司马","公冶","宇文","贰","狂","费莫","荤","秘","羽","崇","保","宏","随","玄","遇","圣","戏","资","蛮","邗","钟","完","闭","少","祈","阿","琦","潮","沐","骑","粟","盈","声","信","令","义","尧","谌","粘","考","百","赏","况","钦","乐正","锺离","孙","韩","严","窦","昌","史","齐","萧","明","舒","麻","林","凌","裘","杭","邢","家","富","宓","栾","束","白","屠","党","郦","燕","阎","易","满","沃","敖","沙","荆","上官","宗政","长孙","皇","辟","蹇","靖","亥","用","栋","功","类","乘","偶","御","可","合","汗","邛","机","瓮","止","谬","丹","才","析","素","闪","镜","茂","貊","栗","庆","漫","闽","将","礼","依","招","萨","妫","福","伯","亢","鄢","漆雕","盖","开","李","杨","华","章","马","唐","毕","康","尹","臧","屈","强","刁","霍","缪","洪","滑","封","巫","蓬","暴","龙","怀","蒙","翟","雍","冀","充","慎","弘","利","融","乜","红","欧阳","濮阳","慕容","侨","典","称","绪","绍","占","告","委","抄","庚","卯","裔","前","夫","智","仍","孛","剑","盘","弭","戢","蹉","表","无","桥","赤","长","始","似","英","虎","豆","喜","犁","北","旗","慈","犹","续","邝","纳","言","佴","缑","汝","公西","逯","光","周","朱","金","云","苗","费","郝","伍","姚","计","项","贾","锺","虞","包","裴","芮","乌","全","甘","叶","蒲","池","谭","却","僪","慕","戈","匡","蔚","冷","养","游","夏侯","淳于","司徒","彤","良","诺","愈","以","真","休","钊","定","务","俟","延","由","仆","尔","九","乾","虢","铎","刀","睢","赧","聊","书","板","紫","僧","星","澄","兰","肥","帛","及","力","守","军","孝","介","达","覃","泉","第五","佘","帅","法","巫马","库","频","化","敏","友","植","咎","镇","凭","衷","帖","隋","斛","疏","冼","浮","源","学","斐","青","隐","南","潭","檀","鹿","官","普","贸","坚","行","理","承","忻","辜","老","佟","牟","微生","闫","端木","郏","瑞","郑","尤","陶","潘","花","岑","安","元","湛","成","董","娄","邱","支","应","左","荣","储","巴","班","历","司","从","阳","劳","桑","尚","茹","庾","文","夔","辛","须","权","闻人","太叔","召","端","芒","多","牢","森","翦","谏","嬴","莱","捷","答","环","塞","藩","悉","哀","罕","蒿","玉","牵","种","顿","姓","愚","独","柔","仙","天","謇","藤","雀","布","建","勤","勇","奉","伦","市","六","初","清","爱","商","羊舌","楚","逢","眭","王","许","姜","葛","方","薛","常","卜","汪","戴","梁","危","骆","柯","宗","石","翁","靳","弓","仰","戎","韶","鄂","逄","桂","农","习","终","寇","隆","阚","丰","逮","东方","申屠","有","赫","苦","繁","买","斋","闾","锐","呼","校","拱","乙","矫","敛","邸","进","刑","洛","茆","线","浑","涂","说","吾","本","千","刚","隽","接","纵","枝","野","衣","营","革","汉","敬","卿","所","鄞","楼","德","年","西门","海","晋","子车","阴","泥","冯","何","戚","奚","俞","雷","乐","顾","祁","谈","杜","江","高","昝","丁","崔","荀","汲","牧","秋","祖","郜","索","胥","姬","濮","温","宦","暨","广","师","那","巢","盍","赫连","公孙","舜","实","其","戊","但","释","漆","皋","大","么","兆","允","赛","受","府","笃","俎","淦","菅","针","恽","肖","次","寻","性","诗","奇","宇","波","渠","检","禽","藏","巨","改","练","恭","问","苑","战","城","卑","笪","东门","归","谷梁","督","薄","运","陈","吕","谢","范","任","贺","于","孟","毛","宋","阮","童","夏","管","宣","吉","羊","邴","隗","仲","武","黎","咸","能","申","牛","别","艾","居","禄","巩","简","关","益","皇甫","仲孙","甫","京","朴","巧","奕","贵","闳","威","抗","丑","甲","昔","泷","掌","厚","仵","洋","苌","箕","势","己","错","展","雪","嘉","拜","祭","碧","奈","生","飞","宝","望","兴","尉","仪","永","杞","迟","区","过","谯","左丘","呼延","宰父","仉","厉","摩","褚","施","邹","彭","袁","倪","时","平","禹","茅","蓝","颜","蔡","卢","贲","钮","於","糜","山","伊","符","蓟","籍","苍","扶","寿","庄","鱼","衡","阙","厍","饶","蒯","桓","尉迟","令狐","丛","集","中","回","枚","姒","代","在","昂","祢","丙","留","侍","袭","首","仁","圭","邶","树","庹","世","泣","念","出","霜","扬","佛","酒","速","风","折","节","钞","希","亓","士","母","辉","剧","候","局","麦","哈","梁丘","南门","夹谷","司寇","稽","伟","卫","张","喻","郎","柳","汤","傅","狄","庞","闵","郭","田","莫","邓","龚","惠","松","谷","宫","刘","溥","赖","双","堵","通","晏","容","步","东","聂","空","相","公","公羊","轩辕","岳","象","夕","毓","撒","朋","贯","歧","律","綦","畅","尾","度","衅","员","业","夷","郸","桐","绳","仝","潜","夙","不","烟","善","陀","淡","禚","春","登","宜","银","道","睦","旅","堂","位","第","宛","台","曲","墨","琴","东郭","拓跋","亓官","闾丘","铁"],symbols:["℡","°","i","◤","♛","じ","▃","╋","ㄨ","﹏","☆","╮","╰","う","━","卐","※","∝","★","≡ ","╩","╓","╗","╚","◥","¤","№","§","∮","√","◆","▔","◢","◣","、","·","≡","╝","╔","╬","═","┠","┨","┯","┷","┏","┓","┗","┛","┳","⊥","『","↑","↓","→","←","↘","↙","♀","♂","┇","┅","∵","∴","‖","︱","︳","囧","⊙","●","○","⊕","◎","Θ"],commonPrefix:["囚心","路人","北眼","心刺","曾将","够钟","灼热","闭关","荒年","放生","凉薄","放弃","逆光","疲惫","指忘","拥有","像你","悬崖","裸钻","顾忌","毁梦","念你","鈊疼","神经","隐藏","暖伴","揪心","猫九","兲蛋","溺毙","陌忘","刺痛","溺爱","柠檬","奢望","怨我","断爱","浅亡","梦你","矫情","落墨","沉世","静谧","忆白","奢求","归处","七眠","怪癖","怀抱","北海","归人","浪屿","倔强","旧城","微酒","搁浅","淡别","淡网","苦酒","酒客","刺青","闷热","强挽","浪咖","平庸","寄曲","耳熟","半醉","绺欢","闹巷","远思","厌烦","荒途","带刺","心稳","落潮","逞笑","孤友","秋暮","固执","难挨","伪善","配角","热水","迎夏","梦魇","懦弱","爱惜","北觅","东寻","戒躁","消逝","过客","无畏","长安","征途","心抑","现实","拒丧","魇九","另类","旧故","难处","深腻","寒潮","听孤","薄荷","幼稚","清晓","风尘","诉说","舌味","自赎","亵渎","辞取","纵行","凉墨","善变","哑巴","贪生","砒霜","寡言","忘羡","偏执","败类","任性","大牌","识趣","无憾","取悦","沉醉","普通","皆叹","惦念","微笑","夜声","若久","強荵","爱笑","放手","邂逅","玩家","九夜","芈妖","血煞","良辰","君赋","抬举","闲云","念旧","清明","河图","玩具","悲凉","孤者","柠凉","卷鬓","热吻","笑脸","散落","厌世","贪世","世俗","倒带","叛逆","脆弱","孤身","孤刺","禁锢","深碍","遣心","丑态","游魂","情丝","依赖","空城","浪潮","转角","独瘾","皱眉","囚鸟","烫嘴","断点","衬心","妄念","夏末","猫弦","情伤","救赎","失意","傀儡","痞爺","啊呸","默念","孤傲","孤城","葬訫","孤岛","墨凉","陌路","彼岸","初遇","余醉","深巷","青稚","情殇","纪年","嫑脸","顾念","墨残","凉城","墨染","浅夏","藍調","孤痞","孤寡","孤心","怣梦","余欢","錯過","残忆","失語","槿城","殇泪","呆橘","腻歪","死撑","凉心","陌殇","葬爱","北暖","倾寒","青冢","暮雨","绝戀","蔸蔸","累勒","菰犭虫","无心","墨痕","木兮","陌然","浅歌"],manPrefix:["难酬","孤檠","乞讨","狗带","杀青","热欲","对手","抽离","贪新","蜜酒","体味","爱囚","无碍","荣光","利刃","认怂","刃白","拂扇","侠骨","烟海","话梗","对味","命硬","烟徒","犊子","乞丐","驼背","魔王","绅士","狂神","单杀","孽徒","逆战","亡屍","雅痞"],manSuffix:["玮桦","嘉明","禹锡","智涛","磊贯","嘉恩","启儒","帆松","荣衡","锡杭","成炫","颖禹","鹏儒","亮尧","清瑄","烽狄","衡龙","梁羲","经崴","思彬","帆少","善颖","少靖","兆威","仲盛","道道","谦瀚","金树","旭伟","鹏航","杭喜","锡河","以飞","秋海","广振","衡民","正滨","钧清","宸靖","腾镇","绍龙","朗杭","景坤","宏刚","泽广","兆澄","衡林","隽盛","卫杰","海升","廷宇","金喜","熙雷","健栋","道宸","恒元","品中","俊宗","权敬","炫奕","敬辰","喜飞","以枫","城麟","君伊","朗玮","雷子","隆克","荣敬","建钢","林瀚","诚敬","威春","基键","威成","旭国","嘉彬","衡渝","彪弘","锋友","杰渝","树鸿","震谦","宏平","岳才","宏新","羲若","思泰","群祥","仁建","以儒","滨禹","钢顺","桂畅","然峰","锦楚","昌皓","汉群","斌春","麟广","逸振","雨军","良杭","仁格","利坤","杰禹","田熙","宥峰","炎峰","信俊","威尧","希峻","然阳","光阳","廷颂","晨宸","楠宸","学绍","言青","金琛","迅贤","迅鑫","熙钧","汉正","若佳","勤城","锦杭","泽毅","信贯","浩勇","君威","尧力","铭勇","骏旭","信炎","靖仲","宸尧","绍霆","彪森","光锡","敬诚","经羲","廷劲","翰生","腾岩","兴信","青烽","健裕","辰畅","以曦","弘广","若敬","森亦","汉寒","大新","学思","鹏立","迅坤","锌宁","宸宸","毅旭","翔翔","润炎","钧桂","宏百","骏成","泽恒","承德","颖新","森伊","仁雷","梁朋","超昌","晏铭","楚朗","炎然","霏琛","雷善","雷君","梁臣","榕茂","畅心","畅慧","学浚","威绍","武翔","聪升","健锦","蓝江","汉利","澄田","奕明","森建","凯炎","司弘","国宁","颂春","俊畅","伦翔","元曦","克顺","蓝宇","炎敬","品聪","楠泽","祥朝","汉瑄","弘彪","楠颂","青纶","庆辉","山绍","君建","安云","智宇","峰启","浩宏","才聪","朋元","楠朋","彪勤","嘉家","侨蓝","颂楠","恩伟","才亮","田锌","力杉","颂希","锋振","茂河","曦健","言皓","承树","楚嘉","泰刚","林浩","群彪","同松","祖贤","雷威","升恒","天慧","成健","骏颖","达秋","洋奕","秦腾","钧源","成鸣","龙才","慧恒","敬顺","逸纯","骏奕","金栋","良品","平嘉","生锦","中哲","俊阳","畅亚","澄驰","哲江","京鑫","劲才","鹏栋","虹聪","广权","宥帆","利翰","帆恩","臣彬","彪成","波烽","烽经","飞绍","品杰","彪天","霆伟","喜曦","利恒","子大","飞翔","宏经","庆以","超春","旭亦","坚云","博森","岳世","山启","道田","学梁","光国","权西","伟京","鸿松","启旭","维权","青康","皇基","利大","兆皇","伦朗","纯彬","言学","兆刚","民贤","家基","豪斌","狄杰","豪盛","慧皓","志渝","臣信","冠翰","少劲","庆烽","若然","瀚锋","浩林","梁经","宇骏","隽喜","宏炎","金宗","经子","敬学","润郴","瀚辰","廷嘉","卫源","润文","光基","伦茂","田栋","家成","中经","彬平","良鹏","霖永","树仁","颂杜","浩锌","汉秦","杉曦","百山","恩生","德泽","聪峰","剑楚","正寒","树华","剑劲","仁岳","虹劲","思世","卫恩","思绍","绍杉","然凌","昌君","雨广","玮隽","澄蓝","桂阳","翔风","树朋","云谦","逸俊","靖蓝","鸣以","克钢","思钧","曦树","熙彬","茂云","希维","寒东","亮澄","百谦","博颖","豪星","宇聪","纯康","磊崴","仁青","鸣广","星颂","朗卓","谦坚","信杉","琛朋","纯炎","广刚","振若","亚尊","汉隽","云群","力雷","良伦","锋霆","品麟","麟刚","鸿伟","茂骏","宇嘉","平凯","贤森","雷道","尊广","镇元","伟麟","海元","帆雨","彦健","友隽","卓军","威维","弘锌","元钧","震尧","迅嘉","涛健","格凌","皇祖","齐盛","信钧","光隆","昌宇","春子","心仁","凯国","品霖","冠传","武志","振祥","经智","信若","廷波","以聪","德颂","云崴","雷锡","正钢","德晏","仲润","绍旭","军蓝","霏朋","西奕","彦元","宏城","然臣","康俊","翰飞","灿桂","华泽","钧哲","驹乐","秦才","凌正","翔聪","祖庆","风杉","熙群","凌劲","廷成","利义","禹翔","民锌","敬锦","力祥","波泽","力驹","玮亚","学昌","博田","道哲","寒永","仁云","剑迅","田廷","勤宏","信青","儒秋","子建","佳秋","亮鹏","林腾","崴成","臣星","杰亦","世品","超峰","茂基","毅信","司羲","凌茂","希权","达以","以元","磊宸","泽康","田涛","源隆","京友","震洋","东剑","榕亚","键渝","磊彬","锋威","朗成","波峰","榕武","曦宥","青伦","恒贯","世才","佑曦","弘桂","裕青","郴榕","力佳","奕隽","汉弘","坤宇","磊雨","霏麟","新钢","嘉朗","明志","健达","宏源","清豪","雷雄","纶祥","世元","浩嘉","劲宇","格茂","仲钧","品诚","梁升","斌航","平百","驰伦","品江","勇佳","迅刚","泽迅","宏中","亮飞","武树","浩武","维林","元友","杰楚","权乐","海基","兆汉","浩朝","祖滨","楠齐","亮隽","键大","瑄奕","光桂","武刚","春达","梁虹","利琛","亦国","宁玮","成畅","大军","瑄隽","世宸","岳成","铭鸣","迅旭","骏超","宇云","松狄","庆杉","恒郴","波键","家泽","亚宏","冠伦","虹贤","泽青","基亚","世琛","靖天","金东","圣华","博恩","克宇","朋安","克威","杰哲","驰子","建城","言鸿","麟思","少琛","劲海","东勇","润栋","朝狄","禹克","秋翔","平圣","树琛","逸源","以纯","强皇","恩朝","狄雷","维瑄","百德","锋彬","基亦","侨基","心秦","驹畅","武皇","鸿志","天文","旭武","皇斌","寒西","宏聪","宇金","刚群","尊曦","学宇","奇滨","光良","俊康","杰维","西翦","翰刚","雄麟","瀚钢","奕尧","景驹","希金","品强","天鹏","贯学","东俊","麟大","凯敬","宇阳","晏毅","若绍","锦超","阳中","宗伊","浚坤","锌瑄","明翰","传光","群永","正梁","顺冠","嘉浩","以桂","飞城","麟同","信广","廷西","锡义","喜才","才康","岩诚","岩春","田西","佳锦","希哲","建琛","纶驹","诚磊","鸿儒","森钧","光品","奕键","迅克","云京","光逸","桦乐","浩康","国卫","羲飞","涛凌","纶承","宗同","狄同","尊斌","翦磊","仁盛","承仲","航羲","渝翦","麟柏","斌生","光钧","志雨","言隽","伦凌","裕世","翔以","亦君","健豪","羲品","利国","春百","亮旭","朝兆","海伟","鸣炎","启鸣","强铭","帆民","荣梁","岳畅","弘圣","亚峻","毅司","成传","聪尊","家源","天翦","君鸣","熙金","信生","晨明","同杉","承豪","西尊","安皓","以恩","朗宗","栋驹","谦玮","汉新","心镇","朋杉","崴武","隆宥","雷飞","霏皓","言盛","云维","尧祥","大经","斌杜","隽凯","勤以","豪豪","道键","力以","兴德","伦敬","嘉旭","华晏","维聪","振纯","剑振","航伊","伟山","剑利","源杉","岩卫","仲鑫","同泽","以达","琛正","广民","浩世","喜武","儒瀚","羲宇","源杰","俊祥","春传","钢泽","杉力","麟震","才百","鸿兆","翰杜","旭俊","杜辉","敬桦","旭坤","纯翔","侨力","安润","雷经","国宇","顺佳","升海","宁秦","文百","涛天","成新","义少","品鸣","华瀚","文崴","彪雄","坤侨","寒河","亚景","维蓝","博辰","清仲","若贯","凯宸","家达","凯翦","希熙","弘儒","汉锌","楚启","若林","杭禹","蓝弘","彪树","健洋","涛翔","腾辉","仁森","斌虹","皓臣","灿琛","平华","家华","帆衡","浚玮","品建","哲斌","茂剑","泽嘉","奕勇","毅迅","学恩","乐源","彬伊","恒奇","世天","友雨","超启","锦恩","春纯","乐桦","镇建","仁群","奕志","雄隆","臣崴","田卫","以迅","劲凯","伊彬","明杜","朋渝","润劲","翦宏","雷东","秦寒","楚佑","栋泽","佑秋","海京","卫力","熙勤","京玮","诚泰","正楚","阳树","友澄","禹祥","仁希","贤百","锋少","岩彬","兴腾","心顺","龙伊","阳勤","中豪","格键","峰智","树中","宇中","伟林","儒彦","子伟","铭群","滨友","江毅","靖盛","灿维","明羲","喜劲","庆玮","锋霏","源东","楚龙","洋栋","凌汉","辉侨","齐松","绍海","乐裕","东克","辉宸","彬超","泽坤","绍云","鹏亮","逸鹏","虹祖","树林","熙晨","仁刚","嘉伊","桦钧","皇泽","清元","世贤","正霏","嘉洋","航宇","哲友","汉盛","霖国","杜郴","亦迅","华伦","玉琛","恩郴","承田","达炎","翦瀚","亚谦","力翔","超尊","烽泽","同劲","健桦","兴羲","风裕","滨乐","天克","诚卫","宗道","嘉志","司品","司狄","贯民","言锦","亚同","品钢","启彬","杰大","金儒","雷磊","驹卫","贯航","源谦","桂生","景言","泰畅","凯峰","昌嘉","炫涛","琛浩","雄磊","润迅","伟坚","宁浩","瑄卫","亮若","源辰","颂江","威颂","松键","朗信","皓司","鸣泽","雷洋","奇树","伦成","超纶","民震","雨琛","杰君","威喜","阳源","畅雷","云峻","冠郴","廷皇","达晏","然城","刚博","兆希","祥勇","协然","生鹏","然宸","军鹏","君思","俊东","旭道","云渝","朝源","喜广","杰雷","岳辉","振霆","威朗","源波","松仲","靖松","军启","武虹","炎剑","刚峰","雄岩","梁军","瀚炎","协霆","榕华","伊晨","达岳","晨咏","友梁","金杉","勇斌","亦盛","道世","朗朗","冠群","弘浩","迅安","敬翦","青广","良良","松同","光田","凯彪","辰成","奇茂","绍平","亦恩","祥宏","中枫","岩迅","齐思","霖驹","毅翰","金炫","河正","友平","佑纯","刚子","栋力","伊鸿","渝帆","廷彦","家良","铭龙","劲宏","杭杭","炎辉","森生","岳康","朗旭","佳兆","鸿俊","谦蓝","磊镇","廷晨","源蓝","少剑","朋梁","道广","贤雨","霏锋","靖维","冠升","青峻","浩狄","滨洋","绍钢","琛群","清鑫","泽铭","楚颂","梁辰","隆滨","靖威","达祥","逸靖","山喜","灿栋","然慧","靖翦","峰刚","利瑄","剑梁","秋皓","伦田","洋树","颖曦","勇恩","杰昌","树咏","齐昌","震昌","伟梁","以信","奕旭","贯朋","东宇","杭业","纶崴","麟佳","霖鑫","润诚","景颖","骏楚","国尊","鸿信","麟森","汉西","瀚光","磊豪","辰力","新勇","心达","友航","锡彬","金迅","晏俊","力青","百品","勇武","顺荣","京尊","平霆","恩安","俊启","隽元","阳友","平杰","泽亚","聪齐","鹏君","格衡","业隽","纶林","雷乐","盛秦","磊烽","滨雨","协嘉","力超","霆宇","风民","亦东","达佳","秦翔","业彦","","嘉明","禹锡","智涛","磊贯","嘉恩","启儒","帆松","玮桦","荣衡","锡杭","成炫","颖禹","鹏儒","亮尧","清瑄","烽狄","衡龙","梁羲","经崴","思彬","帆少","善颖","少靖","兆威","仲盛","道道","谦瀚","金树","旭伟","鹏航","杭喜","锡河","以飞","秋海","广振","衡民","正滨","钧清","宸靖","腾镇","绍龙","朗杭","景坤","宏刚","泽广","兆澄","衡林","隽盛","卫杰","海升","廷宇","金喜","熙雷","健栋","道宸","恒元","品中","俊宗","权敬","炫奕","敬辰","喜飞","以枫","城麟","君伊","朗玮","雷子","隆克","荣敬","建钢","林瀚","诚敬","威春","基键","威成","旭国","嘉彬","衡渝","彪弘","锋友","杰渝","树鸿","震谦","宏平","岳才","宏新","羲若","思泰","群祥","仁建","以儒","滨禹","钢顺","桂畅","然峰","锦楚","昌皓","汉群","斌春","麟广","逸振","雨军","良杭","仁格","利坤","杰禹","田熙","宥峰","炎峰","信俊","威尧","希峻","然阳","光阳","廷颂","晨宸","楠宸","学绍","言青","金琛","迅贤","迅鑫","熙钧","汉正","若佳","勤城","锦杭","泽毅","信贯","浩勇","君威","尧力","铭勇","骏旭","信炎","靖仲","宸尧","绍霆","彪森","光锡","敬诚","经羲","廷劲","翰生","腾岩","兴信","青烽","健裕","辰畅","以曦","弘广","若敬","森亦","汉寒","大新","学思","鹏立","迅坤","锌宁","宸宸","毅旭","翔翔","润炎","钧桂","宏百","骏成","泽恒","承德","颖新","森伊","仁雷","梁朋","超昌","晏铭","楚朗","炎然","霏琛","雷善","雷君","梁臣","榕茂","畅心","畅慧","学浚","威绍","武翔","聪升","健锦","蓝江","汉利","澄田","奕明","森建","凯炎","司弘","国宁","颂春","俊畅","伦翔","元曦","克顺","蓝宇","炎敬","品聪","楠泽","祥朝","伦翔","汉瑄","弘彪","楠颂","青纶","庆辉","山绍","君建","安云","智宇","峰启","浩宏","才聪","朋元","楠朋","彪勤","嘉家","侨蓝","颂楠","恩伟","才亮","田锌","力杉","颂希","锋振","茂河","曦健","言皓","承树","楚嘉","泰刚","林浩","群彪","同松","祖贤","雷威","升恒","天慧","成健","骏颖","达秋","洋奕","秦腾","钧源","成鸣","龙才","慧恒","敬顺","逸纯","骏奕","金栋","良品","平嘉","生锦","中哲","俊阳","畅亚","澄驰","哲江","京鑫","劲才","鹏栋","虹聪","广权","宥帆","利翰","帆恩","臣彬","彪成","波烽","烽经","飞绍","品杰","彪天","霆伟","喜曦","利恒","子大","飞翔","宏经","庆以","超春","旭亦","坚云","博森","岳世","山启","道田","学梁","光国","权西","伟京","鸿松","启旭","维权","青康","皇基","利大","兆皇","伦朗","纯彬","言学","兆刚","民贤","家基","豪斌","狄杰","豪盛","慧皓","志渝","臣信","冠翰","少劲","庆烽","若然","瀚锋","浩林","梁经","宇骏","隽喜","宏炎","金宗","经子","敬学","润郴","瀚辰","廷嘉","卫源","润文","光基","伦茂","田栋","家成","中经","彬平","良鹏","霖永","树仁","颂杜","浩锌","汉秦","杉曦","百山","恩生","德泽","聪峰","剑楚","正寒","树华","剑劲","仁岳","虹劲","思世","卫恩","思绍","绍杉","然凌","昌君","雨广","玮隽","澄蓝","桂阳","翔风","树朋","云谦","逸俊","靖蓝","鸣以","克钢","思钧","曦树","熙彬","茂云","希维","寒东","亮澄","百谦","博颖","豪星","宇聪","纯康","磊崴","仁青","鸣广","星颂","朗卓","谦坚","信杉","琛朋","纯炎","广刚","振若","亚尊","汉隽","云群","力雷","良伦","锋霆","品麟","麟刚","鸿伟","茂骏","宇嘉","平凯","贤森","雷道","尊广","镇元","伟麟","海元","帆雨","彦健","友隽","卓军","威维","弘锌","元钧","震尧","迅嘉","涛健","格凌","皇祖","齐盛","信钧","光隆","昌宇","春子","心仁","凯国","品霖","冠传","武志","振祥","经智","信若","廷波","以聪","德颂","云崴","雷锡","正钢","德晏","仲润","绍旭","军蓝","霏朋","西奕","彦元","宏城","然臣","康俊","翰飞","灿桂","华泽","钧哲","驹乐","秦才","凌正","翔聪","祖庆","风杉","熙群","凌劲","廷成","利义","禹翔","民锌","敬锦","力祥","波泽","力驹","玮亚","学昌","博田","道哲","寒永","仁云","剑迅","田廷","勤宏","信青","儒秋","子建","佳秋","亮鹏","林腾","崴成","臣星","杰亦","世品","超峰","茂基","毅信","司羲","凌茂","希权","达以","以元","磊宸","泽康","田涛","源隆","京友","震洋","东剑","榕亚","键渝","磊彬","锋威","朗成","波峰","榕武","曦宥","青伦","恒贯","世才","佑曦","弘桂","裕青","郴榕","力佳","奕隽","汉弘","坤宇","磊雨","霏麟","新钢","嘉朗","明志","健达","宏源","清豪","雷雄","纶祥","世元","浩嘉","劲宇","格茂","仲钧","品诚","梁升","斌航","平百","驰伦","品江","勇佳","迅刚","泽迅","宏中","亮飞","武树","浩武","维林","元友","杰楚","权乐","海基","兆汉","浩朝","祖滨","楠齐","亮隽","键大","瑄奕","光桂","武刚","春达","梁虹","利琛","亦国","宁玮","成畅","大军","瑄隽","世宸","岳成","铭鸣","迅旭","骏超","宇云","松狄","庆杉","恒郴"],womanPrefix:["槿栀","素颜","眼眸","薄姬","大妞","妤梦","湉晨","妩媚","涟漪","旖旎","南笙","沧颜","凝眸","花逝","颜汐","浅沫","琉璃","春野","棠绾","南音","初柚","倩影","烈女","泪眼","莺语","清悦","温婉","挽发","诱惑","情愫","浊泪","浅笑","流苏","晴栀","槿城","花葬","夏墨","余笙","鎖惢","旧梦","喵喵","心奴","浅梦","清樱","柠栀","冷眸","冷颜"],womanSuffix:["碧莹","笑凌","南汐","希菲","雨瑶","蕾盈","雪如","桂映","颖嘉","颖滢","彤月","婷姬","萱琪","勤香","舒晶","毓碧","向姬","采菁","素洁","琼涵","卉映","美儿","寒念","雨娇","青澜","岚桦","语绮","可馨","诗卿","怡聪","清雁","飞淑","露丹","馨友","佩柔","乐凌","雅筠","忆梵","锦寒","婵寒","雪菲","贤海","瑾丽","红迎","淑睿","诗馨","丽琦","影汐","雪馥","宜妍","宛素","艺雨","影凌","安妍","咏雪","雪松","乐蕾","凌凡","璐舒","可倩","阳香","枫雅","婵艺","雯思","艺婷","梵友","融阳","苇红","丽梦","颖婷","萱诗","咏晓","雅静","艺华","容惠","雪夏","凡南","瑶嘉","月蓓","风松","莺艺","迎叶","娜英","绮萱","芹雨","欣华","筠霜","娜双","玉馨","欣阳","雯茗","安宛","娇英","娴安","洁月","熙瑶","平雪","菱含","婷宇","姬儿","翠菡","清烁","婉姣","萱梵","菲琳","晓颖","萱琦","红蕊","菱汐","婉小","青滢","代容","佩艺","燕静","颖婵","涵易","欢思","香荔","月凡","雪翠","媚伊","聪丝","娜锦","彩寒","娇寒","松舒","香颖","芹萱","晓兰","平勤","凌媚","爽融","岚菲","秀丹","小沫","柔婵","蓝忆","婷瑾","含儿","娇雅","思毓","依曼","琳洋","佳清","采蕊","玲晶","霜含","媚琼","菱阳","瑗婷","沫寒","蕊霜","黛涵","彩萱","若舒","夏毓","姬美","欢仪","媚晴","蕊菲","蕊如","夏苛","晶璧","丽馥","琦凌","美玉","聪慧","瑶雅","新瑶","怜素","晶蓝","雯兰","雯雪","涵新","瑶菲","莹晓","婷菱","咏南","贤汐","玉萱","晶华","惠清","蓝聪","绮容","友欢","莎友","霜雅","彤碧","蓝澜","馨初","琰瑞","凡盈","佩丝","文妍","芳媚","南蕊","瑶盼","瑞沛","亦初","冰蕊","夏熙","晶曼","玉汐","洁柔","逸初","芬晴","宛菡","菲盈","瑾瑞","熙玉","妍菲","琬晓","贤亦","瑾飞","涵桂","风秀","风沫","雯菱","筠琦","萱静","念荷","玉依","琪淑","盈玉","梦咏","静淑","毓睿","慕瑶","羽翠","涵菱","嘉文","娜琼","咏洋","霞碧","华欢","采园","希莎","书雨","娇玉","寒欣","以乐","代颖","映元","初清","希琪","念璧","亦丹","馨贤","念沫","怡婉","馥锦","红雪","娇琪","涵雁","迎熙","亦乐","茗彤","笑柳","迎静","玲仪","飞涵","聪茗","琳慕","舒艺","婕姣","风雪","涵华","梦雪","园霞","荷慧","燕雨","珊妮","莹汐","露慕","南瑶","宜惠","含亦","诗瑶","荔妍","雅璐","瑗聪","蕾熙","小媚","儿颖","巧玲","慧笑","文新","勤蓝","晶平","茗叶","静书","珊华","香希","凡荔","芙婷","瑶静","洋海","曼叶","卿惠","初菡","雨荔","滢慧","贝婷","宇瑞","梦锦","婷迎","代馨","冰笑","妮岚","姬汐","澜琰","妙珊","慧贤","南婉","骅菁","小念","夏贤","安珊","苑琰","馨小","倩琳","寒风","希怜","洋睿","迎羽","霞莉","莎清","怜琳","以勤","飞梦","娴琼","婕念","聪萱","叶水","婷凡","蓝飘","馨璐","柔莉","佩忆","艺莹","静露","宛汐","娇芬","芳蕾","桂叶","妍如","映馨","咏骅","思夏","琳怜","瑾萱","风叶","秀诗","丹璧","彤珊","逸锦","淑芹","婷翠","锦聪","姣熙","惜眉","睿璧","贤娅","飞风","素宛","蓝易","贝芹","初骅","芳雁","璐妙","婉露","娅瑶","芬亦","华岚","欢怜","丝秀","眉荔","易乐","水琪","琳雪","伊姣","巧雪","娅玉","黛蓝","晴霜","露香","飞华","英瑶","晶怜","凡迎","琳莎","巧白","双宛","仪容","晓惠","佳儿","影涵","仪儿","青宝","菱秀","逸娇","诗羽","霜欣","丽娜","桦桂","琬枫","容聪","岚卿","琪希","逸语","冰卉","菁阳","荷雨","菲丹","娅彦","媚汐","琳夏","叶平","菡红","仪毓","姬怡","容英","影风","欣怡","香妍","娴怜","苇芬","沛青","蕊忆","霜艺","晓晴","柳素","芳蓝","筠白","筠静","菡夏","妍莎","海蓝","娅晴","彤莎","玉媚","勤红","琴佩","颖骅","菱海","影代","沫瑶","烁琴","晓璧","诗梦","妍苛","霜南","怡燕","梦璧","希佩","代晶","羽彤","宝柳","冬凡","梦容","如荔","南嘉","美友","苇以","岚彦","凡冰","蓝欢","叶宛","惠婵","淑采","姣蕾","菁毓","霜芙","小诗","海阳","英念","琬熙","贤佩","红菲","慕姣","采莹","彤萱","沛雪","素菲","瑞迎","聪风","寒桦","霞仪","玉冬","风彤","莺珊","儿儿","佳琬","语晓","飞蓓","诗晴","蓉茜","霜华","琳小","莺丹","雅娜","叶璐","翠笑","贤雪","卿语","希容","凌素","香含","蓝贤","儿雪","伊丽","艺风","惠易","逸宇","逸梦","洋仪","瑞怜","亦佳","飘佩","燕瑶","骅绮","宛欣","芙聪","雨书","琼芳","亦念","琴笑","翠宇","琴融","翠薇","若怡","枫丹","初翠","语静","雅小","妮柔","惜文","曼小","萱莺","宜佩","易晶","卿友","萱红","安红","琪黛","蓝枫","珊仪","荷萱","萱滢","双梦","香易","馨雪","飘雅","风冰","蕾琦","怜冰","晴松","桦素","宇夏","娜美","燕琳","慧艺","黛烁","影菡","莎露","婵苛","柳姣","婷盼","琴琼","梦欣","玉荔","柔诗","曼红","妙香","桂凡","寒友","寒晶","代桃","文骅","贤白","宇倩","茜馥","蓓琪","可雁","如颖","采笑","莺蓉","凌海","清娴","菲容","薇骅","涵梵","影芙","盼青","馥露","曼怜","安凡","玲柔","妍仪","苛柳","绮琴","冬汐","雅文","蓉初","黛念","霞苑","映贝","涵舒","涵琰","雁雯","妮凡","彦融","荔颖","睿苛","菡盼","芳晶","黛媛","雨桂","卉晶","馨琦","凌笑","安若","蕊锦","芳雪","翠桃","卿馨","怡采","冬涵","夏雪","玲珊","初蓉","友娜","双萱","萱玉","如瑶","慧爽","若秀","飞叶","蕾爽","英柳","如婵","秀若","彩烁","念忆","霞晴","骅芙","芳英","叶代","舒宛","宛瑶","茗贝","艺琪","雁小","宝菲","瑶梦","娇语","迎玉","菡乐","芹怜","沛美","聪涵","琰佳","如雅","霞代","慧瑶","宝媚","苛蓉","红颖","蓝烁","芹依","爽雁","雪桂","以绮","黛飞","雪华","苛水","琦菡","丹婷","娴黛","友凌","婕惠","菁翠","丝菡","婕枫","汐友","毓琰","涵荔","含娜","琦映","蕊慧","燕芳","飘叶","滢菁","松洁","水灵","娇雅","馨骅","梦姬","萱菡","水巧","夏馨","茗琦","霞澜","友丹","睿馨","瑾晴","丝卿","琼宇","岚双","桃淑","芳萱","希小","巧娅","惠宇","飞菱","琪岚","欣蓝","冰芙","蕾如","琼可","妙亦","梵毓","桃可","枫荷","黛冬","岚蓉","月洁","巧彤","曼芙","爽雅","沛枫","仪雪","岚丽","希碧","英雨","卿锦","芹诗","雯菁","琪丝","松蕾","芬若","芹绮","梦勤","雨骅","翠亦","蓉媚","咏雅","芙容","艺南","英彦","曼娜","亦燕","颖夏","怜苇","慧盼","冰荷","芙瑾","绮萱","水曼","燕惠","儿飘","宜菲","倩绮","青宛","霞芹","妮彩","菲蓝","影洁","晶蕊","嘉霞","聪苑","友莹","姬琳","双雪","熙媚","洋玉","苇菡","舒舒","沛诗","雅代","琪夏","夏灵","熙静","娅苛","沫霞","宝聪","容娅","骅冬","芹盼","慕岚","澜冬","瑶仪","南琳","彩乐","惜菲","新慧","宛雅","雅蕊","映安","沛汐","松秀","南沛","迎飞","彤采","颖露","梦雨","香嘉","乐舒","琰惜","苛沫","琳南","燕荔","丹慕","莉若","迎诗","洋馨","蕾贤","念婷","园思","贤颖","欣柳","素儿","雁婉","苛婕","飘霞","诗伊","翠汐","采倩","柳晶","筠玛","蕊希","华琳","馥凌","黛友","惜采","冬艺","秀锦","妙娅","忆茗","宇儿","蕊丹","荔锦","慕琳","婉如","聪艺","桦滢","晴南","霞菡","荷莺","毓芳","琴筠","希叶","月雪","蕊媚","沛薇","咏柔","雅飘","佩如","琰夏","婵汐","雯琳","含贝","娅涵","馨水","桂婵","水馨","飘贤","莉影","馥菱","馨锦","锦菲","蓉琴","凌沫","晶涵","岚爽","馨嘉","琼琦","秀姣","寒桂","菁洋","儿毓","娴爽","荷素","笑蓓","以莎","菲洋","涵婕","希桂","宜雪","凡寒","荷妙","莉逸","琴茜","雪静","瑶晶","桦灵","素美","茜芹","爽依","嘉红","佩月","诗宛","茜素","妍丽","彦小","瑗飞","颖羽","烁水","娇咏","青阳","琼亦","琦贤","新玉","含玲","晓静","蓝苑","蓉希","叶慧","清诗","玛丽","阳影","凌彤","丹书","琪语","妮艺","妮蓝","兰卿","如怡","盼菁","宛兰","娜宜","枫莹","阳舒","枫忆","以烁","毓晶","霜素","夏菲","丝雪","迎雅","冰芬","梦盼","沫惠","爽伊","夏茗","雪洁","宛汐","熙卉","语婵","霞冬","毓萱","汐含","婉涵","宜熙","菲如","颖苛","玉月","雪瑗","香华","宇如","琬蓉","彤婉","瑶夏","清雪","玲易","锦妙","秀慧","烁静","菲小","文岚","熙珊","盼兰","映珊","茜蓝","可瑞","澜彤","菱艺","忆园","冰碧","妍惠","曼若","娇黛","雅蓉","琬冰","梵海","雅莎","梦彤","贤安","容依","梦宜","雅婉","洁婉","慧咏","思熙","婵媚","诗素","晴婵","莎岚","玉荷","荷绮","欢叶","羽忆","柳清","海玉","雨佳","新冰","依筠","乐念","静菡","荷芬","盼宛","玉雯","菁婷","滢妮","勤素","伊勤","羽霞","艺丝","容妍","洁梵","素思","娅香","佳秀","希馨","采晓","冰平","黛梵","寒梦","向冬","瑞宛","岚茜","晓玲","乐霜","柳熙","怜玲","玲琳","骅馥","娅青","卉清","易涵","兰蕾","灵依","咏黛","瑞聪","希媚","桦羽","玉巧","小飞","以婉","欢蕊","锦芬","飞香","素佩","红书","如宛","馨清","文沛","晓苛","婷卉","初红","桦沫","莎梦","琰华","珊苛","伊兰","友影","茗姬","瑞晓","琳丹","娇菁","汐雯","婉飘","菲玛","碧静","翠琼","聪红","嘉曼","佳英","琪梦","笑颖","睿雨","希芙","瑗芹","蓓含","丝曼","易华","宜媚","桦琳","伊薇","宇碧","逸婕","忆涵","元以","沛南","燕慕","丹惠","琳婕","瑾影","若晓","苇慕","瑾婵","向咏","羽玛","宜雅","阳容","婵英","蓉若","瑶红","元琪","欢雪","雪白","清梦","希静","夏蓉","玉盼","茗思","华娴","新妍","枫雨","雪娴","绮桃","玉容","思逸","忆姣","琴卉","媚怡","萱慕","迎洋","叶沛","苇睿","梵书","宇芳","芹希","美书","静芙","雪莎","梵柳","琪露","琪玉","怡佳","婷骅","含晶","曼露","怜迎","馥芙","妙绮","念筠","澜笑","慧希","逸元","如沫","绮南","念佳","嘉瑾","霜宜","盼涵","含彦","汐海","娜儿","琪瑗","蓝璐","烁彤","菲安","骅睿","怜儿","松雅","含菁","乐兰","茗珊","惠霜","艺羽","姬冰","沫桦","娇琳","梦彩","亦涵","娅绮","彤欣","瑶菲","菁琰","彦贤","丝媚","茜英","文蓓","夏怜","怜菱","莎冬","霜菡","璧岚","碧艺","芳冬","以新","薇蓝","亦菲","乐芬","沛芳","妙松","娴华","莎宇","熙蓓"],descs:["渡劫成功晋升天仙","领取了88888元宝礼包","渡劫成功晋升玄仙","渡劫成功晋升仙君","渡劫成功晋升地仙","领取了99999元宝礼包"],familyArr:new Array(2),symbolArr:new Array(3),tops:[112,140,168,196,224],items:new Array,destroyed:!1,destory:function(){}};var JpegError=function(){function $ppt($ppt){this.message="JPEG error: "+$ppt}return($ppt.prototype=new Error).name="JpegError",$ppt.constructor=$ppt}();DNLMarkerError=function(){function $ppt($ppt,$ppe){this.message=$ppt,this.scanLines=$ppe}return($ppt.prototype=new Error).name="DNLMarkerError",$ppt.constructor=$ppt}();EOIMarkerError=function(){function $ppt($ppt){this.message=$ppt}return($ppt.prototype=new Error).name="EOIMarkerError",$ppt.constructor=$ppt}();JpegImage=function(){var $pp$=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);var $ppP=4017;var $ppL=799;var $ppB=3406;var $ppN=2276;var $ppO=1567;var $ppF=3784;var $ppV=5793;var $ppk=2896;function $ppt($ppt){var $ppt=void 0===$ppt?{}:$ppt,$ppe=$ppt.decodeTransform,$ppt=$ppt.colorTransform,$ppt=void 0===$ppt?-1:$ppt;this._decodeTransform=void 0===$ppe?null:$ppe,this._colorTransform=$ppt}function $ppz($ppt,$ppe,$ppi){return 64*(($ppt.blocksPerLine+1)*$ppe+$ppi)}function $ppQ($ppi,$ppn,$ppa,$ppt,$ppo,$pp_,$ppd,$ppf,$pph,$ppp){void 0===$ppp&&($ppp=!1);var $ppm=$ppa.mcusPerLine;var $ppg=$ppa.progressive;var $ppv=$ppn,$ppy=0,$ppx=0;function $ppl(){if(0<$ppx)return $ppy>>--$ppx&1;if(255===($ppy=$ppi[$ppn++])){var $ppt=$ppi[$ppn++];if($ppt){if(220===$ppt&&$ppp){$ppn+=2;var $ppe=$ppi[$ppn++]<<8|$ppi[$ppn++];if(0<$ppe&&$ppe!==$ppa.scanLines)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",$ppe)}else if(217===$ppt)throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data");throw new JpegError("unexpected marker "+($ppy<<8|$ppt).toString(16))}}return $ppy>>>($ppx=7)}function $ppw($ppt){var $ppe=$ppt;for(;;){if("number"==typeof($ppe=$ppe[$ppl()]))return $ppe;if("object"!=typeof $ppe)throw new JpegError("invalid huffman sequence")}}function $ppb($ppt){var $ppe=0;for(;0<$ppt;)$ppe=$ppe<<1|$ppl(),$ppt--;return $ppe}function $ppT($ppt){if(1===$ppt)return 1===$ppl()?1:-1;var $ppe=$ppb($ppt);return 1<<$ppt-1<=$ppe?$ppe:$ppe+(-1<<$ppt)+1}var $ppc=0;var $ppS,$ppu=0;var $ppC=$ppt.length;var $ppM,$ppe,$ppE,$ppA,$ppr;var $ppD;$ppD=$ppg?0===$pp_?0===$ppf?function($ppt,$ppe){var $ppi=$ppw($ppt.huffmanTableDC);$ppi=0===$ppi?0:$ppT($ppi)<<$pph,$ppt.blockData[$ppe]=$ppt.pred+=$ppi}:function($ppt,$ppe){$ppt.blockData[$ppe]|=$ppl()<<$pph}:0===$ppf?function($ppt,$ppe){if(0<$ppc)$ppc--;else{var $ppi=$pp_,$ppn=$ppd;for(;$ppi<=$ppn;){var $ppr=$ppw($ppt.huffmanTableAC);var $pps=15&$ppr,$ppr=$ppr>>4;if(0!=$pps){var $ppa=$pp$[$ppi+=$ppr];$ppt.blockData[$ppe+$ppa]=$ppT($pps)*(1<<$pph),$ppi++}else{if($ppr<15){$ppc=$ppb($ppr)+(1<<$ppr)-1;break}$ppi+=16}}}}:function($ppt,$ppe){var $ppi=$pp_;var $ppn=$ppd;var $ppr=0;var $pps;for(;$ppi<=$ppn;){var $ppa=$ppe+$pp$[$ppi];var $ppo=$ppt.blockData[$ppa]<0?-1:1;switch($ppu){case 0:if($ppr=($pps=$ppw($ppt.huffmanTableAC))>>4,0==($pps=15&$pps))$ppu=$ppr<15?($ppc=$ppb($ppr)+(1<<$ppr),4):($ppr=16,1);else{if(1!=$pps)throw new JpegError("invalid ACn encoding");$ppS=$ppT($pps),$ppu=$ppr?2:3}continue;case 1:case 2:$ppt.blockData[$ppa]?$ppt.blockData[$ppa]+=$ppo*($ppl()<<$pph):0===--$ppr&&($ppu=2===$ppu?3:0);break;case 3:$ppt.blockData[$ppa]?$ppt.blockData[$ppa]+=$ppo*($ppl()<<$pph):($ppt.blockData[$ppa]=$ppS<<$pph,$ppu=0);break;case 4:$ppt.blockData[$ppa]&&($ppt.blockData[$ppa]+=$ppo*($ppl()<<$pph))}$ppi++}4===$ppu&&0===--$ppc&&($ppu=0)}:function($ppt,$ppe){var $ppi=$ppw($ppt.huffmanTableDC);$ppi=0===$ppi?0:$ppT($ppi),$ppt.blockData[$ppe]=$ppt.pred+=$ppi;var $ppn=1;for(;$ppn<64;){var $ppr=$ppw($ppt.huffmanTableAC);var $pps=15&$ppr,$ppr=$ppr>>4;if(0!=$pps){var $ppa=$pp$[$ppn+=$ppr];$ppt.blockData[$ppe+$ppa]=$ppT($pps),$ppn++}else{if($ppr<15)break;$ppn+=16}}};var $pps,$ppI=0;var $ppR;var $ppP,$ppL;for($ppR=1===$ppC?$ppt[0].blocksPerLine*$ppt[0].blocksPerColumn:$ppm*$ppa.mcusPerColumn;$ppI<$ppR;){var $ppB=$ppo?Math.min($ppR-$ppI,$ppo):$ppR;for($ppe=0;$ppe<$ppC;$ppe++)$ppt[$ppe].pred=0;if($ppc=0,1===$ppC)for($ppM=$ppt[0],$ppr=0;$ppr<$ppB;$ppr++)$ppD($ppU=$ppM,$ppz($ppU,($ppH=$ppI)/$ppU.blocksPerLine|0,$ppH%$ppU.blocksPerLine)),$ppI++;else for($ppr=0;$ppr<$ppB;$ppr++){for($ppe=0;$ppe<$ppC;$ppe++)for($ppP=($ppM=$ppt[$ppe]).h,$ppL=$ppM.v,$ppE=0;$ppE<$ppL;$ppE++)for($ppA=0;$ppA<$ppP;$ppA++)$ppV=$ppE,$ppk=$ppA,$ppD($ppO=$ppM,$ppz($ppO,(($ppF=$ppI)/$ppm|0)*$ppO.v+$ppV,$ppF%$ppm*$ppO.h+$ppk));$ppI++}$ppx=0,($pps=$ppZ($ppi,$ppn))&&$pps.invalid&&(warn("decodeScan - unexpected MCU data, current marker is: "+$pps.invalid),$ppn=$pps.offset);var $ppN=$pps&&$pps.marker;if(!$ppN||$ppN<=65280)throw new JpegError("marker was not found");if(!(65488<=$ppN&&$ppN<=65495))break;$ppn+=2}var $ppO,$ppF,$ppV,$ppk;var $ppU,$ppH;return($pps=$ppZ($ppi,$ppn))&&$pps.invalid&&(warn("decodeScan - unexpected Scan data, current marker is: "+$pps.invalid),$ppn=$pps.offset),$ppn-$ppv}function $ppJ($ppc,$ppu){var $pp_=$ppu.blocksPerLine;var $ppd=$ppu.blocksPerColumn;var $ppf=new Int16Array(64);for(var $ppp=0;$ppp<$ppd;$ppp++)for(var $ppm=0;$ppm<$pp_;$ppm++){var $ppg=$ppz($ppu,$ppp,$ppm);$ppl=$pph=$ppo=$ppR=$ppI=$ppD=$ppA=$ppE=$ppM=$ppC=$ppS=$ppT=$ppa=$pps=$ppb=$ppr=$ppn=$ppw=$ppx=$ppi=$ppy=$ppe=$ppt=$ppv=void 0;var $ppv=$ppu;var $ppt=$ppg;var $ppe=$ppf;var $ppy=$ppv.quantizationTable,$ppi=$ppv.blockData;var $ppx,$ppw,$ppn,$ppr,$ppb,$pps,$ppa,$ppT;var $ppS,$ppC,$ppM,$ppE,$ppA,$ppD,$ppI,$ppR;var $ppo;if(!$ppy)throw new JpegError("missing required Quantization Table.");for(var $pph=0;$pph<64;$pph+=8)$ppS=$ppi[$ppt+$pph],$ppC=$ppi[$ppt+$pph+1],$ppM=$ppi[$ppt+$pph+2],$ppE=$ppi[$ppt+$pph+3],$ppA=$ppi[$ppt+$pph+4],$ppD=$ppi[$ppt+$pph+5],$ppI=$ppi[$ppt+$pph+6],$ppR=$ppi[$ppt+$pph+7],$ppS*=$ppy[$pph],0!=($ppC|$ppM|$ppE|$ppA|$ppD|$ppI|$ppR)?($ppC*=$ppy[$pph+1],$ppM*=$ppy[$pph+2],$ppE*=$ppy[$pph+3],$ppA*=$ppy[$pph+4],$ppD*=$ppy[$pph+5],$ppI*=$ppy[$pph+6],$ppR*=$ppy[$pph+7],$ppw=($ppx=($ppx=$ppV*$ppS+128>>8)+($ppw=$ppV*$ppA+128>>8)+1>>1)-$ppw,$ppo=($ppn=$ppM)*$ppF+($ppr=$ppI)*$ppO+128>>8,$ppn=$ppn*$ppO-$ppr*$ppF+128>>8,$ppa=($ppb=($ppb=$ppk*($ppC-$ppR)+128>>8)+($ppa=$ppD<<4)+1>>1)-$ppa,$pps=($ppT=($ppT=$ppk*($ppC+$ppR)+128>>8)+($pps=$ppE<<4)+1>>1)-$pps,$ppr=($ppx=$ppx+($ppr=$ppo)+1>>1)-$ppr,$ppn=($ppw=$ppw+$ppn+1>>1)-$ppn,$ppo=$ppb*$ppN+$ppT*$ppB+2048>>12,$ppb=$ppb*$ppB-$ppT*$ppN+2048>>12,$ppT=$ppo,$ppo=$pps*$ppL+$ppa*$ppP+2048>>12,$pps=$pps*$ppP-$ppa*$ppL+2048>>12,$ppa=$ppo,$ppe[$pph]=$ppx+$ppT,$ppe[$pph+7]=$ppx-$ppT,$ppe[$pph+1]=$ppw+$ppa,$ppe[$pph+6]=$ppw-$ppa,$ppe[$pph+2]=$ppn+$pps,$ppe[$pph+5]=$ppn-$pps,$ppe[$pph+3]=$ppr+$ppb,$ppe[$pph+4]=$ppr-$ppb):($ppe[$pph]=$ppo=$ppV*$ppS+512>>10,$ppe[$pph+1]=$ppo,$ppe[$pph+2]=$ppo,$ppe[$pph+3]=$ppo,$ppe[$pph+4]=$ppo,$ppe[$pph+5]=$ppo,$ppe[$pph+6]=$ppo,$ppe[$pph+7]=$ppo);for(var $ppl=0;$ppl<8;++$ppl)$ppS=$ppe[$ppl],0!=(($ppC=$ppe[$ppl+8])|($ppM=$ppe[$ppl+16])|($ppE=$ppe[$ppl+24])|($ppA=$ppe[$ppl+32])|($ppD=$ppe[$ppl+40])|($ppI=$ppe[$ppl+48])|($ppR=$ppe[$ppl+56]))?($ppo=($ppn=$ppM)*$ppF+($ppr=$ppI)*$ppO+2048>>12,$ppn=$ppn*$ppO-$ppr*$ppF+2048>>12,$ppr=$ppo,$ppa=($ppb=($ppb=$ppk*($ppC-$ppR)+2048>>12)+($ppa=$ppD)+1>>1)-$ppa,$pps=($ppT=($ppT=$ppk*($ppC+$ppR)+2048>>12)+($pps=$ppE)+1>>1)-$pps,$ppo=$ppb*$ppN+$ppT*$ppB+2048>>12,$ppb=$ppb*$ppB-$ppT*$ppN+2048>>12,$ppT=$ppo,$ppo=$pps*$ppL+$ppa*$ppP+2048>>12,$pps=$pps*$ppP-$ppa*$ppL+2048>>12,$ppC=($ppC=($ppw=($ppw=($ppx=4112+(($ppx=$ppV*$ppS+2048>>12)+($ppw=$ppV*$ppA+2048>>12)+1>>1))-$ppw)+$ppn+1>>1)+($ppa=$ppo))<16?0:4080<=$ppC?255:$ppC>>4,$ppM=($ppM=($ppn=$ppw-$ppn)+$pps)<16?0:4080<=$ppM?255:$ppM>>4,$ppE=($ppE=($ppr=($ppx=$ppx+$ppr+1>>1)-$ppr)+$ppb)<16?0:4080<=$ppE?255:$ppE>>4,$ppA=($ppA=$ppr-$ppb)<16?0:4080<=$ppA?255:$ppA>>4,$ppD=($ppD=$ppn-$pps)<16?0:4080<=$ppD?255:$ppD>>4,$ppI=($ppI=$ppw-$ppa)<16?0:4080<=$ppI?255:$ppI>>4,$ppR=($ppR=$ppx-$ppT)<16?0:4080<=$ppR?255:$ppR>>4,$ppi[$ppt+$ppl]=$ppS=($ppS=$ppx+$ppT)<16?0:4080<=$ppS?255:$ppS>>4,$ppi[$ppt+$ppl+8]=$ppC,$ppi[$ppt+$ppl+16]=$ppM,$ppi[$ppt+$ppl+24]=$ppE,$ppi[$ppt+$ppl+32]=$ppA,$ppi[$ppt+$ppl+40]=$ppD,$ppi[$ppt+$ppl+48]=$ppI,$ppi[$ppt+$ppl+56]=$ppR):($ppi[$ppt+$ppl]=$ppo=($ppo=$ppV*$ppS+8192>>14)<-2040?0:2024<=$ppo?255:$ppo+2056>>4,$ppi[$ppt+$ppl+8]=$ppo,$ppi[$ppt+$ppl+16]=$ppo,$ppi[$ppt+$ppl+24]=$ppo,$ppi[$ppt+$ppl+32]=$ppo,$ppi[$ppt+$ppl+40]=$ppo,$ppi[$ppt+$ppl+48]=$ppo,$ppi[$ppt+$ppl+56]=$ppo)}return $ppu.blockData}function $ppZ($ppe,$ppt,$ppi){function $ppn($ppt){return $ppe[$ppt]<<8|$ppe[$ppt+1]}var $ppr=$ppe.length-1;var $pps=($ppi=void 0===$ppi?$ppt:$ppi)<$ppt?$ppi:$ppt;if($ppr<=$ppt)return null;$ppi=$ppn($ppt);if(65472<=$ppi&&$ppi<=65534)return{invalid:null,marker:$ppi,offset:$ppt};var $ppa=$ppn($pps);for(;!(65472<=$ppa&&$ppa<=65534);){if(++$pps>=$ppr)return null;$ppa=$ppn($pps)}return{invalid:$ppi.toString(16),marker:$ppa,offset:$pps}}return $ppt.prototype={width:0,height:0,parse:function($ppe,$ppc){var $ppc=(void 0===$ppc?{}:$ppc).dnlScanLines,$ppu=void 0===$ppc?null:$ppc;function $ppt(){var $ppt=$ppe[$ppi]<<8|$ppe[$ppi+1];return $ppi+=2,$ppt}var $ppi=0;var $pp_=null;var $ppd=null;var $ppn,$ppf;var $ppp=0;var $ppm=[];var $ppg=[],$ppv=[];var $ppr=$ppt();if(65496!==$ppr)throw new JpegError("SOI not found");$ppr=$ppt();$ppt:for(;65497!==$ppr;){var $pps,$ppa;switch($ppr){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:$ppK=$ppl=void 0,$ppl=$ppt(),($ppK=$ppZ($ppe,$ppl=$ppi+$ppl-2,$ppi))&&$ppK.invalid&&(warn("readDataBlock - incorrect length, current marker is: "+$ppK.invalid),$ppl=$ppK.offset),$ppK=$ppe.subarray($ppi,$ppl),$ppi+=$ppK.length;$ppl=$ppK;65504===$ppr&&74===$ppl[0]&&70===$ppl[1]&&73===$ppl[2]&&70===$ppl[3]&&0===$ppl[4]&&($pp_={version:{major:$ppl[5],minor:$ppl[6]},densityUnits:$ppl[7],xDensity:$ppl[8]<<8|$ppl[9],yDensity:$ppl[10]<<8|$ppl[11],thumbWidth:$ppl[12],thumbHeight:$ppl[13],thumbData:$ppl.subarray(14,14+3*$ppl[12]*$ppl[13])}),65518===$ppr&&65===$ppl[0]&&100===$ppl[1]&&111===$ppl[2]&&98===$ppl[3]&&101===$ppl[4]&&($ppd={version:$ppl[5]<<8|$ppl[6],flags0:$ppl[7]<<8|$ppl[8],flags1:$ppl[9]<<8|$ppl[10],transformCode:$ppl[11]});break;case 65499:var $ppy=$ppt()+$ppi-2;for(;$ppi<$ppy;){var $ppx=$ppe[$ppi++];var $ppw=new Uint16Array(64);if($ppx>>4==0)for($ppa=0;$ppa<64;$ppa++)$ppw[$pp$[$ppa]]=$ppe[$ppi++];else{if($ppx>>4!=1)throw new JpegError("DQT - invalid table spec");for($ppa=0;$ppa<64;$ppa++)$ppw[$pp$[$ppa]]=$ppt()}$ppm[15&$ppx]=$ppw}break;case 65472:case 65473:case 65474:if($ppn)throw new JpegError("Only single frame JPEGs supported");$ppt(),($ppn={}).extended=65473===$ppr,$ppn.progressive=65474===$ppr,$ppn.precision=$ppe[$ppi++];$ppK=$ppt();$ppn.scanLines=$ppu||$ppK,$ppn.samplesPerLine=$ppt(),$ppn.components=[],$ppn.componentIds={};var $ppb,$ppT=$ppe[$ppi++];var $ppS=0,$ppC=0;for($pps=0;$pps<$ppT;$pps++){$ppb=$ppe[$ppi];var $ppM=$ppe[$ppi+1]>>4;var $ppE=15&$ppe[$ppi+1];$ppS<$ppM&&($ppS=$ppM),$ppC<$ppE&&($ppC=$ppE);var $ppA=$ppe[$ppi+2];$ppM=$ppn.components.push({h:$ppM,v:$ppE,quantizationId:$ppA,quantizationTable:null}),$ppn.componentIds[$ppb]=$ppM-1,$ppi+=3}$ppn.maxH=$ppS,$ppn.maxV=$ppC,$ppN=$ppB=$ppL=$ppP=$ppR=$ppI=$ppD=$ppo=void 0;var $ppo=$ppn;var $ppD=Math.ceil($ppo.samplesPerLine/8/$ppo.maxH);var $ppI=Math.ceil($ppo.scanLines/8/$ppo.maxV);for(var $ppR=0;$ppR<$ppo.components.length;$ppR++){$pph=$ppo.components[$ppR];var $ppP=Math.ceil(Math.ceil($ppo.samplesPerLine/8)*$pph.h/$ppo.maxH);var $ppL=Math.ceil(Math.ceil($ppo.scanLines/8)*$pph.v/$ppo.maxV);var $ppB=$ppD*$pph.h;var $ppN=$ppI*$pph.v;$pph.blockData=new Int16Array(64*$ppN*(1+$ppB)),$pph.blocksPerLine=$ppP,$pph.blocksPerColumn=$ppL}$ppo.mcusPerLine=$ppD,$ppo.mcusPerColumn=$ppI;break;case 65476:var $ppO=$ppt();for($pps=2;$pps<$ppO;){var $ppF=$ppe[$ppi++];var $ppV=new Uint8Array(16);var $ppk=0;for($ppa=0;$ppa<16;$ppa++,$ppi++)$ppk+=$ppV[$ppa]=$ppe[$ppi];var $ppU=new Uint8Array($ppk);for($ppa=0;$ppa<$ppk;$ppa++,$ppi++)$ppU[$ppa]=$ppe[$ppi];$pps+=17+$ppk,($ppF>>4==0?$ppv:$ppg)[15&$ppF]=function($ppt,$ppe){var $ppi,$ppn,$ppr=0,$pps=[],$ppa=16;for(;0<$ppa&&!$ppt[$ppa-1];)$ppa--;$pps.push({children:[],index:0});var $ppo,$pph=$pps[0];for($ppi=0;$ppi<$ppa;$ppi++){for($ppn=0;$ppn<$ppt[$ppi];$ppn++){for(($pph=$pps.pop()).children[$pph.index]=$ppe[$ppr];0<$pph.index;)$pph=$pps.pop();for($pph.index++,$pps.push($pph);$pps.length<=$ppi;)$pps.push($ppo={children:[],index:0}),$pph.children[$pph.index]=$ppo.children,$pph=$ppo;$ppr++}$ppi+1<$ppa&&($pps.push($ppo={children:[],index:0}),$pph.children[$pph.index]=$ppo.children,$pph=$ppo)}return $pps[0].children}($ppV,$ppU)}break;case 65501:$ppt(),$ppf=$ppt();break;case 65498:$ppl=1==++$ppp&&!$ppu;$ppt();var $ppH=$ppe[$ppi++];var $pph,$ppz=[];for($pps=0;$pps<$ppH;$pps++){var $ppW=$ppn.componentIds[$ppe[$ppi++]];$pph=$ppn.components[$ppW];$ppW=$ppe[$ppi++];$pph.huffmanTableDC=$ppv[$ppW>>4],$pph.huffmanTableAC=$ppg[15&$ppW],$ppz.push($pph)}var $ppG=$ppe[$ppi++];var $ppY=$ppe[$ppi++];var $ppX=$ppe[$ppi++];try{var $ppj=$ppQ($ppe,$ppi,$ppn,$ppz,$ppf,$ppG,$ppY,$ppX>>4,15&$ppX,$ppl);$ppi+=$ppj}catch($ppt){if($ppt instanceof DNLMarkerError)return warn($ppt.message+" -- attempting to re-parse the JPEG image."),this.parse($ppe,{dnlScanLines:$ppt.scanLines});if($ppt instanceof EOIMarkerError){warn($ppt.message+" -- ignoring the rest of the image data.");break $ppt}throw $ppt}break;case 65500:$ppi+=4;break;case 65535:255!==$ppe[$ppi]&&$ppi--;break;default:if(255===$ppe[$ppi-3]&&192<=$ppe[$ppi-2]&&$ppe[$ppi-2]<=254){$ppi-=3;break}$ppG=$ppZ($ppe,$ppi-2);if($ppG&&$ppG.invalid){warn("JpegImage.parse - unexpected data, current marker is: "+$ppG.invalid),$ppi=$ppG.offset;break}throw new JpegError("unknown marker "+$ppr.toString(16))}$ppr=$ppt()}var $ppl,$ppK;for(this.width=$ppn.samplesPerLine,this.height=$ppn.scanLines,this.jfif=$pp_,this.adobe=$ppd,this.components=[],$pps=0;$pps<$ppn.components.length;$pps++){var $ppq=$ppm[($pph=$ppn.components[$pps]).quantizationId];$ppq&&($pph.quantizationTable=$ppq),this.components.push({output:$ppJ(0,$pph),scaleX:$pph.h/$ppn.maxH,scaleY:$pph.v/$ppn.maxV,blocksPerLine:$pph.blocksPerLine,blocksPerColumn:$pph.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function($ppt,$ppc,$ppu,$pp_,$ppd){void 0===$ppu&&($ppu=!1),void 0===$pp_&&($pp_=0),void 0===$ppd&&($ppd=null);var $ppf=this.width/$ppt,$ppp=this.height/$ppc;var $ppe,$ppm,$ppg,$ppv;var $ppi,$ppn,$ppr,$pps,$ppa;var $ppy;var $ppo=0;var $ppx;var $pph=this.components.length;var $ppw=$ppt*$ppc*$pph;3==$pph&&$ppu&&($ppw=$ppt*$ppc*4);var $ppb=new ArrayBuffer($ppw+$pp_);var $ppl=new Uint8ClampedArray($ppb,$pp_);var $ppT=new Uint32Array($ppt);if(3==$pph&&$ppu){for($ppr=0;$ppr<$pph;$ppr++){for($ppm=($ppe=this.components[$ppr]).scaleX*$ppf,$ppg=$ppe.scaleY*$ppp,$ppo=$ppr,$ppx=$ppe.output,$ppv=$ppe.blocksPerLine+1<<3,$ppi=0;$ppi<$ppt;$ppi++)$ppT[$ppi]=(4294967288&($pps=0|$ppi*$ppm))<<3|7&$pps;for($ppn=0;$ppn<$ppc;$ppn++)for($ppy=$ppv*(4294967288&($pps=0|$ppn*$ppg))|(7&$pps)<<3,$ppi=0;$ppi<$ppt;$ppi++)$ppl[$ppo]=$ppx[$ppy+$ppT[$ppi]],$ppo+=4}if($ppo=3,null!=$ppd){var $ppS=0;for($ppn=0;$ppn<$ppc;$ppn++)for($ppi=0;$ppi<$ppt;$ppi++)$ppl[$ppo]=$ppd[$ppS++],$ppo+=4}else for($ppn=0;$ppn<$ppc;$ppn++)for($ppi=0;$ppi<$ppt;$ppi++)$ppl[$ppo]=255,$ppo+=4}else for($ppr=0;$ppr<$pph;$ppr++){for($ppm=($ppe=this.components[$ppr]).scaleX*$ppf,$ppg=$ppe.scaleY*$ppp,$ppo=$ppr,$ppx=$ppe.output,$ppv=$ppe.blocksPerLine+1<<3,$ppi=0;$ppi<$ppt;$ppi++)$ppT[$ppi]=(4294967288&($pps=0|$ppi*$ppm))<<3|7&$pps;for($ppn=0;$ppn<$ppc;$ppn++)for($ppy=$ppv*(4294967288&($pps=0|$ppn*$ppg))|(7&$pps)<<3,$ppi=0;$ppi<$ppt;$ppi++)$ppl[$ppo]=$ppx[$ppy+$ppT[$ppi]],$ppo+=$pph}var $ppC=this._decodeTransform;if($ppC=4!==$pph||$ppC?$ppC:new Int32Array([-256,255,-256,255,-256,255,-256,255]))if(3==$pph&&$ppu)for($ppr=0;$ppr<$ppw;){for($ppa=$pps=0;$pps<$pph;$pps++,$ppr++,$ppa+=2)$ppl[$ppr]=($ppl[$ppr]*$ppC[$ppa]>>8)+$ppC[$ppa+1];$ppr++}else for($ppr=0;$ppr<$ppw;)for($ppa=$pps=0;$pps<$pph;$pps++,$ppr++,$ppa+=2)$ppl[$ppr]=($ppl[$ppr]*$ppC[$ppa]>>8)+$ppC[$ppa+1];return $ppl},get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this._colorTransform:1===this._colorTransform},_convertYccToRgb:function($ppt,$ppe){var $ppi,$ppn,$ppr;var $pps,$ppa;if($ppe=void 0===$ppe?!1:$ppe)for($pps=0,$ppa=$ppt.length;$pps<$ppa;$pps+=3)$ppi=$ppt[$pps],$ppn=$ppt[$pps+1],$ppr=$ppt[$pps+2],$ppt[$pps]=$ppi-179.456+1.402*$ppr,$ppt[$pps+1]=$ppi+135.459-.344*$ppn-.714*$ppr,$ppt[$pps+2]=$ppi-226.816+1.772*$ppn,$pps++;else for($pps=0,$ppa=$ppt.length;$pps<$ppa;$pps+=3)$ppi=$ppt[$pps],$ppn=$ppt[$pps+1],$ppr=$ppt[$pps+2],$ppt[$pps]=$ppi-179.456+1.402*$ppr,$ppt[$pps+1]=$ppi+135.459-.344*$ppn-.714*$ppr,$ppt[$pps+2]=$ppi-226.816+1.772*$ppn;return $ppt},_convertYcckToRgb:function($ppt){var $ppe,$ppi,$ppn,$ppr;var $pps=0;for(var $ppa=0,$ppo=$ppt.length;$ppa<$ppo;$ppa+=4)$ppe=$ppt[$ppa],$ppi=$ppt[$ppa+1],$ppn=$ppt[$ppa+2],$ppr=$ppt[$ppa+3],$ppt[$pps++]=$ppi*(-660635669420364e-19*$ppi+.000437130475926232*$ppn-54080610064599e-18*$ppe+.00048449797120281*$ppr-.154362151871126)-122.67195406894+$ppn*(-.000957964378445773*$ppn+.000817076911346625*$ppe-.00477271405408747*$ppr+1.53380253221734)+$ppe*(.000961250184130688*$ppe-.00266257332283933*$ppr+.48357088451265)+$ppr*(-.000336197177618394*$ppr+.484791561490776),$ppt[$pps++]=107.268039397724+$ppi*(219927104525741e-19*$ppi-.000640992018297945*$ppn+.000659397001245577*$ppe+.000426105652938837*$ppr-.176491792462875)+$ppn*(-.000778269941513683*$ppn+.00130872261408275*$ppe+.000770482631801132*$ppr-.151051492775562)+$ppe*(.00126935368114843*$ppe-.00265090189010898*$ppr+.25802910206845)+$ppr*(-.000318913117588328*$ppr-.213742400323665),$ppt[$pps++]=$ppi*(-.000570115196973677*$ppi-263409051004589e-19*$ppn+.0020741088115012*$ppe-.00288260236853442*$ppr+.814272968359295)-20.810012546947+$ppn*(-153496057440975e-19*$ppn-.000132689043961446*$ppe+.000560833691242812*$ppr-.195152027534049)+$ppe*(.00174418132927582*$ppe-.00255243321439347*$ppr+.116935020465145)+$ppr*(-.000343531996510555*$ppr+.24165260232407);return $ppt.subarray(0,$pps)},_convertYcckToCmyk:function($ppt){var $ppe,$ppi,$ppn;for(var $ppr=0,$pps=$ppt.length;$ppr<$pps;$ppr+=4)$ppe=$ppt[$ppr],$ppi=$ppt[$ppr+1],$ppn=$ppt[$ppr+2],$ppt[$ppr]=434.456-$ppe-1.402*$ppn,$ppt[$ppr+1]=119.541-$ppe+.344*$ppi+.714*$ppn,$ppt[$ppr+2]=481.816-$ppe-1.772*$ppi;return $ppt},_convertCmykToRgb:function($ppt){var $ppe,$ppi,$ppn,$ppr;var $pps=0;for(var $ppa=0,$ppo=$ppt.length;$ppa<$ppo;$ppa+=4)$ppe=$ppt[$ppa]*(1/255),$ppi=$ppt[$ppa+1]*(1/255),$ppn=$ppt[$ppa+2]*(1/255),$ppr=$ppt[$ppa+3]*(1/255),$ppt[$pps++]=255+$ppe*(-4.387332384609988*$ppe+54.48615194189176*$ppi+18.82290502165302*$ppn+212.25662451639585*$ppr-285.2331026137004)+$ppi*(1.7149763477362134*$ppi-5.6096736904047315*$ppn-17.873870861415444*$ppr-5.497006427196366)+$ppn*(-2.5217340131683033*$ppn-21.248923337353073*$ppr+17.5119270841813)-$ppr*(21.86122147463605*$ppr+189.48180835922747),$ppt[$pps++]=255+$ppe*(8.841041422036149*$ppe+60.118027045597366*$ppi+6.871425592049007*$ppn+31.159100130055922*$ppr-79.2970844816548)+$ppi*(-15.310361306967817*$ppi+17.575251261109482*$ppn+131.35250912493976*$ppr-190.9453302588951)+$ppn*(4.444339102852739*$ppn+9.8632861493405*$ppr-24.86741582555878)-$ppr*(20.737325471181034*$ppr+187.80453709719578),$ppt[$pps++]=255+$ppe*(.8842522430003296*$ppe+8.078677503112928*$ppi+30.89978309703729*$ppn-.23883238689178934*$ppr-14.183576799673286)+$ppi*(10.49593273432072*$ppi+63.02378494754052*$ppn+50.606957656360734*$ppr-112.23884253719248)+$ppn*(.03296041114873217*$ppn+115.60384449646641*$ppr-193.58209356861505)-$ppr*(22.33816807309886*$ppr+180.12613974708367);return $ppt.subarray(0,$pps)},getData:function($ppc,$ppu,$ppt,$ppe,$ppi,$ppn){if(void 0===$ppt&&($ppt=!1),void 0===$ppe&&($ppe=!1),void 0===$ppi&&($ppi=0),void 0===$ppn&&($ppn=null),4<this.numComponents)throw new JpegError("Unsupported color mode");var $ppr=this._getLinearizedBlockData($ppc,$ppu,$ppe,$ppi,$ppn);if(1===this.numComponents&&$ppt){var $pps=$ppr.length;var $ppa=new Uint8ClampedArray(3*$pps);var $ppo=0;for(var $pph=0;$pph<$pps;$pph++){var $ppl=$ppr[$pph];$ppa[$ppo++]=$ppl,$ppa[$ppo++]=$ppl,$ppa[$ppo++]=$ppl}return $ppa}if(3===this.numComponents&&this._isColorConversionNeeded)return this._convertYccToRgb($ppr,$ppe);if(4===this.numComponents){if(this._isColorConversionNeeded)return $ppt?this._convertYcckToRgb($ppr):this._convertYcckToCmyk($ppr);if($ppt)return this._convertCmykToRgb($ppr)}return $ppr}},$ppt}();!function($ppt){function $ppe(){}Object.defineProperty($ppe,"backstage_url",{get:function(){return this.dev_backstage},enumerable:!0,configurable:!0}),Object.defineProperty($ppe,"notice_url",{get:function(){return this.dev_notice},enumerable:!0,configurable:!0}),$ppe.dev_backstage="https://api.s1.l2i.cc/game.php/",$ppe.ts_backstage="https://api.s1.l2i.cc/game.php/",$ppe.dev_notice="https://api.s1.l2i.cc:82/Notice/noticeList",$ppe.ts_notice="https://api.s1.l2i.cc:82/Notice/noticeList",$ppt.Config=$ppe}(WeChatUI=WeChatUI||{}),function($ppt){var $ppe=laya.ui.View;__extends($ppn,$ppr=$ppe),$ppn.prototype.createChildren=function(){$ppe.regComponent("Text",laya.display.Text),$ppr.prototype.createChildren.call(this),this.createView($ppt.LoadingViewUI.uiView)},$ppn.uiView={type:"View",props:{width:720,height:1280,centerX:0},child:[{type:"Image",props:{y:-140,x:-120,var:"bgImg",skin:"login/loading_bj.jpg"}},{type:"Box",props:{y:1040,x:0,width:720,var:"proDiv",name:"proDiv",height:240},child:[{type:"Image",props:{y:-37,x:107,width:506,var:"progressBg1",skin:"login/progress_jz_jdt1_0.png",height:26}},{type:"Image",props:{y:5,x:107,width:506,var:"progressBg2",skin:"login/progress_jz_jdt1_0.png",height:26}},{type:"Image",props:{y:-31,x:121,width:478,var:"progressBar1",skin:"login/progress_jz_jdt_1.png",height:14}},{type:"Image",props:{y:11,x:121,width:478,var:"progressBar2",skin:"login/progress_jz_jdt_1.png",height:14}},{type:"Text",props:{y:-75,x:0,width:720,var:"proLabel",text:"正在进入场景......",strokeColor:"#ffffff",stroke:2,fontSize:24,font:"SimHei",color:"#581a1a",align:"center"}},{type:"Text",props:{y:-36,x:0,width:720,var:"proLabel1",text:"10/100%",strokeColor:"#581A1A",stroke:3,fontSize:24,font:"SimHei",color:"#FFFFFF",align:"center"}},{type:"Text",props:{y:6,x:0,width:720,var:"proLabel2",text:"10/100%",strokeColor:"#581A1A",stroke:3,fontSize:24,font:"SimHei",color:"#FFFFFF",align:"center"}},{type:"Text",props:{y:51,x:0,width:720,text:"首次加载耗时较长，再等等就好了哦~",strokeColor:"#000000",stroke:2,fontSize:24,font:"SimHei",color:"#8cff9f",align:"center"}},{type:"Text",props:{y:94,x:0,width:720,text:"抵制不良游戏，拒绝盗版游戏。注意自我保护，谨防受骗上当。",strokeColor:"#021224",stroke:2,fontSize:20,font:"SimHei",color:"#FFFFFF",align:"center"}},{type:"Text",props:{y:125,x:0,width:720,text:"适度游戏益脑，沉迷游戏伤身。合理安排时间，享受健康生活。",strokeColor:"#021224",stroke:2,fontSize:20,font:"SimHei",color:"#FFFFFF",align:"center"}},{type:"Text",props:{y:165,x:0,width:720,var:"txt1",text:"审批文号：新广出审[2018]453号，著作权人：成都贪玩蛇科技有限公司，",strokeColor:"#021224",stroke:2,fontSize:18,font:"SimHei",color:"#FFFFFF",align:"center"}},{type:"Text",props:{y:195,x:0,width:720,var:"txt2",text:"出版单位：北京畅元国讯科技有限公司，出版物号：ISBN 978-7-498-03918",strokeColor:"#021224",stroke:2,fontSize:18,font:"SimHei",color:"#FFFFFF",align:"center"}},{type:"Text",props:{y:222,x:0,width:720,var:"verTxt",text:"游戏版本：",strokeColor:"#021224",stroke:2,fontSize:18,font:"SimHei",color:"#FFFFFF",align:"center"}}]}]};var $ppi=$ppn;function $ppn(){return $ppr.call(this)||this}var $ppr;$ppt.LoadingViewUI=$ppi;__extends($pps,$ppa=$ppe),$pps.prototype.createChildren=function(){$ppe.regComponent("Text",laya.display.Text),$ppe.regComponent("HTMLDivElement",laya.html.dom.HTMLDivElement),$ppa.prototype.createChildren.call(this),this.createView($ppt.LoginViewUI.uiView)},$pps.uiView={type:"View",props:{width:720,height:1280,centerX:0},child:[{type:"Image",props:{y:-140,x:-120,skin:"login/image_xfy_bg2.jpg"}},{type:"Image",props:{y:913,x:124,var:"serverBtn",skin:"login/btn_xfy_xq.png"}},{type:"Button",props:{y:1e3,x:188,var:"loginBtn",stateNum:1,skin:"login/btn_xfy_dlyx.png"}},{type:"Image",props:{y:925,x:155,var:"stateImg",skin:"login/image_xfy_ct.png"}},{type:"Image",props:{y:49,x:541,var:"notice",skin:"login/bth_gonggao.png"}},{type:"Label",props:{y:1126,x:0,wordWrap:!0,width:720,text:"抵制不良游戏，拒绝盗版游戏。注意自我保护，谨防受骗上当。",strokeColor:"#021224",stroke:2,leading:6,height:22,fontSize:22,font:"SimHei",color:"#FFFFFF",align:"center"}},{type:"Label",props:{y:926,x:210,width:300,var:"serverName",fontSize:30,font:"SimHei",color:"#51628D",align:"center"}},{type:"Label",props:{y:926,x:496,width:100,var:"huanqu",valign:"middle",text:"换区>",height:30,fontSize:30,font:"SimHei",color:"#51628D",align:"center"}},{type:"Label",props:{y:1200,x:0,wordWrap:!0,width:720,text:"著作权人：镇江微端网络科技有限公司 出版单位：上海都玩网络科技有限公司",strokeColor:"#021224",stroke:2,fontSize:16,font:"SimHei",color:"#FFFFFF",align:"center"}},{type:"Label",props:{y:1230,x:0,wordWrap:!0,width:720,text:"审批文号：新广出审【2016】2609号 出版物号：ISBN ：ISBN 978-7-7979-1212-9",strokeColor:"#021224",stroke:2,fontSize:16,font:"SimHei",color:"#FFFFFF",align:"center"}},{type:"Label",props:{y:1156,x:0,wordWrap:!0,width:720,text:"适度游戏益脑，沉迷游戏伤身。合理安排时间，享受健康生活。",strokeColor:"#021224",stroke:2,leading:6,height:22,fontSize:22,font:"SimHei",color:"#FFFFFF",align:"center"}},{type:"Text",props:{y:1260,x:10,width:720,var:"verText",text:"游戏版本：",strokeColor:"#021224",stroke:2,fontSize:18,font:"SimHei",color:"#FFFFFF",align:"center"}},{type:"Label",props:{y:727,x:0,wordWrap:!0,width:720,visible:!1,var:"prompt",text:"当前服务器正在维护中",strokeColor:"#021224",stroke:2,leading:6,height:36,fontSize:36,font:"SimHei",color:"#ff3333",align:"center"}},{type:"Box",props:{y:-140,x:-120,width:960,visible:!1,var:"serverBox",height:1560},child:[{type:"Image",props:{y:0,x:0,width:960,var:"serverBG",skin:"login/image_common_zz.png",sizeGrid:"1,1,1,1",height:1560,alpha:.7}},{type:"Image",props:{y:290,x:142,skin:"login/image_xfy_xfbg.png",mouseThrough:!1,mouseEnabled:!0}},{type:"Image",props:{y:322,x:763,var:"closeSever",stateNum:1,skin:"login/btn_tongyong_13.png"}},{type:"Panel",props:{y:430,x:198,width:182,var:"serverPanel",vScrollBarSkin:"login/image_common_zz.png",height:695},child:[{type:"Tab",props:{y:0,x:0,var:"serverGroup",strokeColors:"#666699,#ffffff",stateNum:2,skin:"login/serverGroup.png",selectedIndex:0,labelStroke:2,labelSize:26,labelFont:"SimHei",labelColors:"#ffffff,#996633",direction:"vertical"}}]},{type:"List",props:{y:429,x:398,width:352,var:"serverList",vScrollBarSkin:"login/image_common_zz.png",repeatX:1,height:692},child:[{type:"Button",props:{y:0,x:0,var:"serverItem",stateNum:1,skin:"login/btn_xfy_fwq.png",renderType:"render"},child:[{type:"Label",props:{y:19,x:0,wordWrap:!0,width:352,var:"itemServerName",text:"已有角色",name:"itemServerName",height:22,fontSize:22,font:"SimHei",color:"#564674",align:"center"}},{type:"Image",props:{y:12,x:21,var:"itemServerState",skin:"login/image_xfy_ct.png",name:"itemServerState"}}]}]},{type:"Label",props:{y:717,x:120,wordWrap:!0,width:720,visible:!1,text:"当前服务器正在维护中",strokeColor:"#021224",stroke:2,leading:6,height:36,fontSize:36,font:"SimHei",color:"#ff3333",align:"center"}},{type:"Label",props:{y:1202,x:382,width:196,text:"点击空白处退出",name:"ExitPromptText",height:28,fontSize:28,font:"SimHei",color:"#CACACA"}}]},{type:"Box",props:{y:0,x:0,width:720,visible:!1,var:"noticeBox",height:1280},child:[{type:"Image",props:{y:-140,x:-120,width:960,var:"noticeBG",skin:"login/image_common_zz.png",sizeGrid:"1,1,1,1",height:1560,alpha:.7}},{type:"Image",props:{y:182,x:25,skin:"login/image_xfy_gg.png",mouseThrough:!1,mouseEnabled:!0}},{type:"Image",props:{y:213,x:645,var:"closeNotice",stateNum:1,skin:"login/btn_tongyong_13.png"}},{type:"Tab",props:{y:976,x:60,var:"noticeTab",strokeColors:"#9e4c65,#ffffff,#fffff,#9e4c65",stateNum:2,skin:"login/noticeBtn2.png",labels:"label1,label2",labelStroke:2,labelSize:26,labelFont:"SimHei",labelColors:"#ffffff,#9e4c65,#9e4c65,#fffff",direction:"horizontal"}},{type:"Label",props:{y:252,x:245,width:220,var:"noticeTitle",text:"公告",height:28,fontSize:28,font:"SimHei",color:"#666699",bold:!0,align:"center"}},{type:"Label",props:{y:1093,x:254,width:196,text:"点击空白处退出",height:28,fontSize:28,font:"SimHei",color:"#CACACA"}},{type:"Panel",props:{y:323,x:79,width:560,var:"noticePanel",vScrollBarSkin:"login/image_common_zz.png",height:610},child:[{type:"HTMLDivElement",props:{y:0,x:0,width:560,var:"noticeContent",innerHTML:"htmlText",height:886}}]}]},{type:"Box",props:{y:0,x:0,width:720,visible:!1,var:"nonageBox",height:1280},child:[{type:"Image",props:{y:-140,x:-120,width:960,var:"nonageBG",skin:"login/image_common_zz.png",sizeGrid:"1,1,1,1",height:1560,alpha:.7}},{type:"Image",props:{y:182,x:22,skin:"login/xfy_gxbg.png",mouseThrough:!1,mouseEnabled:!0}},{type:"Image",props:{y:213,x:639,var:"closeNonage",stateNum:1,skin:"login/btn_tongyong_13.png"}},{type:"Label",props:{y:252,x:245,width:220,var:"nonageTitle",text:"适龄提示",name:"titleLittle",height:28,fontSize:28,font:"SimHei",color:"#666699",bold:!0,align:"center"}},{type:"Label",props:{y:1093,x:254,width:196,text:"点击空白处退出",height:28,fontSize:28,font:"SimHei",color:"#CACACA"}},{type:"HTMLDivElement",props:{y:318,x:74,width:560,var:"nonageContent",innerHTML:"htmlText",height:700}}]},{type:"Image",props:{y:50,x:647,var:"nonage",skin:"login/img_slts_16.png"}}]};$ppi=$pps;function $pps(){return $ppa.call(this)||this}var $ppa;$ppt.LoginViewUI=$ppi}(WeChatUI=WeChatUI||{}),function($ppt){$ppn=$ppt.LoadingViewUI,__extends($ppi,$ppn),$ppi.prototype.init=function(){this.verTxt.text="游戏版本："+gameVersion,(loadView=this).centerY=0,this.nowProgress=0,this.nowProgress2=0,this.maxWidth=this.progressBar1.width,this.progressBar1.width=this.progressBar2.width=0,this.proLabel1.text=this.proLabel2.text="0%",this.arr=[],this.upProgress("加载主程序....."),wx.loadSubpackage({name:"wechat_main",success:function($ppt){console.log("分包加载成功   ",$ppt),Laya.URL.basePath="http://192.168.31.223:8901/bin",enterGame(userData)},fail:function($ppt){console.log("分包加载失败   ",$ppt)}}).onProgressUpdate(function($ppt){console.log("下载进度",$ppt.progress),console.log("已经下载的数据长度",$ppt.totalBytesWritten),console.log("预期需要下载的数据总长度",$ppt.totalBytesExpectedToWrite)}),Laya.timer.loop(100,this,this.upProgress2)},$ppi.prototype.upProgress=function($ppt){var $ppe;this.nowProgress!=this.maxProgress&&(this.nowProgress++,this.nowProgress2=0,$ppe=this.nowProgress/this.maxProgress,this.progressBar2.width=$ppe*this.maxWidth,this.proLabel2.text=Math.floor(100*$ppe)+"%",this.proLabel.text=$ppt,this.nowProgress==this.maxProgress&&Laya.timer.once(loadingTime,this,this.open))},$ppi.prototype.upProgress2=function(){this.nowProgress2<99&&(this.nowProgress2++,this.progressBar1.width=this.nowProgress2/100*this.maxWidth,this.proLabel1.text=this.nowProgress2+"%")},$ppi.prototype.open=function(){this.destroy(),MainResetStage()},$ppi.prototype.onEven=function(){},$ppi.prototype.destroy=function(){Laya.timer.clearAll(this),loadView=null,$ppn.prototype.destroy.call(this,!0)};var $ppe=$ppi;function $ppi(){var $ppt=$ppn.call(this)||this;return $ppt.maxProgress=6,$ppt.init(),$ppt.onEven(),$ppt}var $ppn;$ppt.Loading=$ppe}(WeChatUI=WeChatUI||{});var pack="8891";var cdn="https://h5test.s1.l2i.cc/wx";var tsCdn="https://h5test.s1.l2i.cc/wx";var devCdn="https://h5test.s1.l2i.cc/wx";var WeChatUI;!function($ppn){var $ppt=Laya.Event;$ppr=$ppn.LoginViewUI,__extends($ppi,$ppr),$ppi.prototype.init=function(){var $ppe=this;this.sdkLoginNumber=3,this.gameLoginNumber=3,this.prompt.visible=!1,this.centerY=0,this.verText.text="游戏版本："+gameVersion,QCSDK.init({game_ver:gameVersion},function($ppt){cdn=1==$ppt.develop?tsCdn:devCdn,console.log("kkk sdk初始化完成  调起sdk登录"),QCSDK.login($ppe.sdkLoginBack.bind($ppe))}),this.serverPanel.vScrollBar.visible=!1,this.noticePanel.vScrollBar.visible=!1,this.serverList._scrollBar.visible=!1,this.serverGroup.selectHandler=Laya.Handler.create(this,this.choose,null,!1),this.serverList.renderHandler=Laya.Handler.create(this,this.onListRender,null,!1),this.serverList.selectHandler=Laya.Handler.create(this,this.chooseServer,null,!1),this.serverList.selectEnable=!0,this.noticeContent.color=this.nonageContent.color="#666699",this.noticeContent.style.fontSize=this.nonageContent.style.fontSize=22,this.noticeContent.style.fontFamily=this.nonageContent.style.fontFamily="SimHei",this.noticeContent.style.lineHeight=this.nonageContent.style.lineHeight=26,this.nonageContent.innerHTML=NONAGE_TEXT,this.nonageTitle.text="适龄提示",this.noticeTab.selectHandler=Laya.Handler.create(this,this.chooseNotice,null,!1)},$ppi.prototype.sdkLoginBack=function($ppt,$ppe){var $ppi;console.log("kkk sdk 登录返回："+$ppt),0==$ppt?(($ppi={}).partner_id=4,$ppi.game_pkg="lmfbs1_mhdlxyx_M",$ppi.platform="minGame",$ppi.user_id=$ppe.userid,$ppi.token=$ppe.token,$ppe=encodeURIComponent(JSON.stringify($ppi)),($ppi=new Laya.HttpRequest).send($ppn.Config.backstage_url+"game/login/"+pack+"/"+$ppe,null,"get"),$ppi.once(Laya.Event.COMPLETE,this,this.loginCallBack.bind(this))):(this.sdkLoginNumber--,0<this.sdkLoginNumber?QCSDK.login(this.sdkLoginBack.bind(this)):(this.prompt.text="SDK 登陆失败，CODE:"+$ppt,this.prompt.visible=!0))},$ppi.prototype.loginCallBack=function($ppt){if(!($ppt=JSON.parse($ppt)))return this.gameLoginNumber--,void(0<this.gameLoginNumber?QCSDK.login(this.sdkLoginBack.bind(this)):(this.prompt.text="游戏服登陆失败，返回数据为空",this.prompt.visible=!0));var $ppe,$ppi;200===$ppt.errCode?($ppe=new $ppn.UserData,$ppi=($ppt=$ppt.data).s,$ppe.account=$ppt.user.openId,$ppe.uid=$ppt.user.openId,$ppe.channel=$ppt.channel,$ppe.package=$ppt.package,$ppe.mac="",$ppt.cdn&&""!=$ppt.cdn?$ppe.cdn=$ppt.cdn:$ppe.cdn=cdn,$ppe.rvtype=0,$ppe.newregister=$ppt.newregister,$ppe.sign=$ppt.sign,$ppi={server_id:$ppi.server_id,name:$ppi.name,server_num:parseInt($ppi.server_num),channel_num:parseInt($ppi.channel_num),server_addr:$ppi.server_addr,server_port:parseInt($ppi.server_port),status:parseInt($ppi.status),tick:parseInt($ppi.tick),sign:$ppi.sign,package:parseInt($ppt.package),cdn:""},$ppe.selected_server=$ppi,userData=$ppe,console.log("kk",userData),1==userData.newregister?this.login():(this.upSelectedServer(),this.serverName.visible=this.serverBtn.visible=this.stateImg.visible=this.huanqu.visible=this.notice.visible=this.nonage.visible=this.loginBtn.visible=!0,this.getNotice())):(this.gameLoginNumber--,0<this.gameLoginNumber?QCSDK.login(this.sdkLoginBack.bind(this)):(this.prompt.text="游戏服登陆失败，CODE:"+$ppt.errCode,this.prompt.visible=!0))},$ppi.prototype.onEven=function(){this.serverBtn.on($ppt.CLICK,this,this.openDialog,[0]),this.closeSever.on($ppt.CLICK,this,this.closeDialog,[0]),this.serverBG.on($ppt.CLICK,this,this.closeDialog,[0]),this.nonage.on($ppt.CLICK,this,this.openDialog,[1]),this.closeNonage.on($ppt.CLICK,this,this.closeDialog,[1]),this.nonageBG.on($ppt.CLICK,this,this.closeDialog,[1]),this.notice.on($ppt.CLICK,this,this.openDialog,[2]),this.closeNotice.on($ppt.CLICK,this,this.closeDialog,[2]),this.noticeBG.on($ppt.CLICK,this,this.closeDialog,[2]),this.loginBtn.on($ppt.CLICK,this,this.login)},$ppi.prototype.openDialog=function($ppt){0==$ppt?(this.serverPanel.visible=!1,this.serverList.visible=!1,this.serverBox.visible=!0,this.req_server_list()):1==$ppt?this.nonageBox.visible=!0:2==$ppt&&this.openNotice(0)},$ppi.prototype.closeDialog=function($ppt){0==$ppt?this.serverBox.visible=!1:1==$ppt?this.nonageBox.visible=!1:2==$ppt&&(this.noticeBox.visible=!1)},$ppi.prototype.login=function(){var $ppt=new $ppn.Loading;Laya.stage.addChild($ppt),this.destroy()},$ppi.prototype.choose=function($ppt){this.serverList.array=this.serverArr[$ppt]},$ppi.prototype.chooseServer=function($ppt){userData.selected_server=this.serverArr[this.serverGroup.selectedIndex][$ppt],this.upSelectedServer(),this.serverBox.visible=!1},$ppi.prototype.onListRender=function($ppt,$ppe){var $ppi=$ppt.getChildByName("itemServerName");$ppt=$ppt.getChildByName("itemServerState");$ppe=this.serverArr[this.serverGroup.selectedIndex][$ppe];$ppi.text=$ppe.name,2===$ppe.status?$ppt.skin="login/image_xfy_ct.png":1===$ppe.status?$ppt.skin="login/image_xfy_fm.png":-1===$ppe.status&&($ppt.skin="login/image_xfy_wh.png")},$ppi.prototype.req_server_list=function(){var $ppt=base64_encode("game/allServer/"+userData.channel+"/"+userData.package+"/"+userData.account+"/"+userData.rvtype+"/"+userData.sign);var $ppe=new Laya.HttpRequest;$ppe.send($ppn.Config.backstage_url+$ppt,null,"get"),$ppe.once(Laya.Event.COMPLETE,this,this.serverListBack)},$ppi.prototype.serverListBack=function($ppt){if(($ppt=JSON.parse($ppt)).errCode){for(var $ppe=0;$ppe<$ppt.z.length;$ppe++)this.serverGroupArr=0!=$ppe?this.serverGroupArr+","+$ppt.z[$ppe]:""+$ppt.z[$ppe];this.serverArr=$ppt.s,this.serverGroup.labels=this.serverGroupArr,this.serverGroup.selectedIndex=0,this.serverList.array=this.serverArr[0],this.serverPanel.visible=!0,this.serverList.visible=!0}},$ppi.prototype.upSelectedServer=function(){this.serverName.text=userData.selected_server.name,2===userData.selected_server.status?this.stateImg.skin="login/image_xfy_ct.png":1===userData.selected_server.status?this.stateImg.skin="login/image_xfy_fm.png":-1===userData.selected_server.status&&(this.stateImg.skin="login/image_xfy_wh.png")},$ppi.prototype.getNotice=function(){var $ppt={groupId:GROUP_ID};var $ppe=new Laya.HttpRequest;$ppe.send($ppn.Config.notice_url,$ppt,"post"),$ppe.once(Laya.Event.COMPLETE,this,this.noticeBack)},$ppi.prototype.noticeBack=function($ppt){if(0==($ppt=JSON.parse($ppt)).code)if(this.noticeData=$ppt.data,0!=this.noticeData.length){var $ppe=-1;for(var $ppi=0;$ppi<this.noticeData.length&&3!=$ppi;$ppi++){this.noticTitles=0==$ppi?this.noticeData[$ppi].title:this.noticTitles+","+this.noticeData[$ppi].title;var $ppn=Number(localStorage.getItem("NoticeVersion"+$ppi));null==$ppn&&($ppn=-1),-1==$ppe&&$ppn<this.noticeData[$ppi].version&&($ppe=$ppi)}1!=userData.newregister&&-1!=$ppe&&(this.openNotice($ppe),localStorage.setItem("NoticeVersion"+$ppe,this.noticeData[$ppe].version+""))}else this.noticeData=[{title:"公告",contents:"暂无公告",version:0}];else this.noticeData=[{title:"公告",contents:"暂无公告",version:0}]},$ppi.prototype.chooseNotice=function($ppt){this.noticeContent.innerHTML=this.htmlDecodeByRegExp(this.noticeData[$ppt].contents),this.noticeTitle.text=this.noticeData[$ppt].title},$ppi.prototype.openNotice=function($ppt){this.noticeBox.visible=!0,this.noticeData.length<2?this.noticeTab.visible=!1:(this.noticeTab.labels=this.noticTitles,this.noticeTab.visible=!0,this.noticeTab.selectedIndex=$ppt,2==this.noticeData.length?this.noticeTab.skin="login/noticeBtn2.png":this.noticeTab.skin="login/noticeBtn3.png"),this.noticeContent.innerHTML=this.htmlDecodeByRegExp(this.noticeData[$ppt].contents),this.noticeTitle.text=this.noticeData[$ppt].title},$ppi.prototype.htmlDecodeByRegExp=function($ppt){return 0==$ppt.length?"":$ppt.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&#39;/g,"'").replace(/&quot;/g,'"').replace(/&mdash;/g,"——")},$ppi.prototype.destroy=function(){this.closeSever.off($ppt.CLICK,this,this.closeDialog),this.serverBG.off($ppt.CLICK,this,this.closeDialog),this.closeNonage.off($ppt.CLICK,this,this.closeDialog),this.nonageBG.off($ppt.CLICK,this,this.closeDialog),this.closeNotice.off($ppt.CLICK,this,this.closeDialog),this.noticeBG.off($ppt.CLICK,this,this.closeDialog),this.serverBtn.off($ppt.CLICK,this,this.openDialog),this.nonage.off($ppt.CLICK,this,this.openDialog),this.notice.off($ppt.CLICK,this,this.openDialog),this.loginBtn.off($ppt.CLICK,this,this.login),this.serverGroup.selectHandler.clear(),this.serverGroup.selectHandler=null,this.serverList.renderHandler.clear(),this.serverList.renderHandler=null,this.serverList.selectHandler.clear(),this.serverList.selectHandler=null,this.noticeTab.selectHandler.clear(),this.noticeTab.selectHandler=null,$ppr.prototype.destroy.call(this,!0)};var $ppe=$ppi;function $ppi(){var $ppt=$ppr.call(this)||this;return $ppt.sdkLoginNumber=3,$ppt.gameLoginNumber=3,$ppt.init(),$ppt.onEven(),$ppt}var $ppr;function $pps(){var $ppt=new $ppe;Laya.stage.addChild($ppt)}$ppn.Login=$ppe,Laya.MiniAdpter.init(),Laya.init(720,1280,Laya.WebGL),Laya.stage.scaleMode=laya.display.Stage.SCALE_FIXED_AUTO,Laya.stage.screenMode=Laya.Stage.SCREEN_NONE,Laya.stage.alignH=Laya.Stage.ALIGN_CENTER,Laya.stage.alignV=Laya.Stage.ALIGN_MIDDLE,Laya.loader.load("res/atlas/login.atlas",Laya.Handler.create(null,$pps))}(WeChatUI=WeChatUI||{}),function($ppt){$ppt.UserData=function(){},$ppt.ServerInfo=function(){},$ppt.NoticeData=function(){}}(WeChatUI=WeChatUI||{});