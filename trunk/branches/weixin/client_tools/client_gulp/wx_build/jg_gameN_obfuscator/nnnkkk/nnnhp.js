var A=wx.$N;export default class FunGame{constructor(){this.host=A[0]}sign(e){var l="",o=Object.keys(e);return o.sort(),o.forEach(o=>{A[1]!=o&&(l+=e[o])}),l}setParameter(o,e,l){o=o.replace(/(#.*)/gi,"");var s=new RegExp(A[2]+e+"=([^&]*)(?=&|$)","i");return s.test(o)?o.replace(s,"$1"+e+"="+l):o+(-1==o.indexOf("?")?"?":"&")+e+"="+l}ajaxRequest(o,e,l,s){o=this.setParameter(o,"v",Math.random()),wx.request({url:o,header:{"content-type":A[3]},method:A[4],data:e,dataType:A[5],success:function(o){l&&l(o.data)},fail:function(o){s&&s(o)}})}game(o,e,l){var s;console.log(A[6]),o.game_key?(s=this.host+A[7],this.ajaxRequest(s,o,e,l)):console.log(A[8])}wxChannelCode(){console.log(A[9]);const o=wx.getLaunchOptionsSync()["query"],e=decodeURIComponent(o.query),l=decodeURIComponent(o.clue_token),s=decodeURIComponent(o.gdt_vid),n=JSON.stringify(o);var t=new Object;if(t.wx_extension="",t.clue_token="",t.click_id="",A[10]!=e&&""!=e)t.code=e,t.type=1e4;else{const e=decodeURIComponent(o.scene);if(A[10]==e)return t;for(var c=e.split("&"),a=0;a<c.length;a++)t[c[a].split("=")[0]]=c[a].split("=")[1]}return A[10]!=l&&""!=l&&(t.clue_token=l),A[10]!=n&&""!=n&&(t.wx_extension=n),A[10]!=s&&""!=s&&(t.click_id=s),t}role(o,e,l){var s;console.log(A[11]),o.host_url?o.game_key?o.account?o.server?o.server_name?o.role?o.role_name?o.level?(null!=o.type&&""!=o.type&&null!=o.type||(o.type=0),o.sign=this.sign(o),s=o.host_url+A[12],this.ajaxRequest(s,o,e,l)):console.log(A[13]):console.log("\u7f3a\u5c11role_name"):console.log(A[14]):console.log("\u7f3a\u5c11server_name"):console.log(A[15]):console.log(A[16]):console.log(A[8]):console.log(A[17])}order(o,e,l){var s;console.log(A[18]),o.host_url?o.game_key?o.account?o.server?o.role?o.amount?(o.sign=this.sign(o),s=o.host_url+A[19],this.ajaxRequest(s,o,e,l)):console.log(A[20]):console.log(A[14]):console.log(A[15]):console.log(A[16]):console.log(A[8]):console.log(A[17])}gameLogin(e,l,s){var n,t;console.log(A[21]),e.host_url?e.game_key?(n=e.host_url+A[22],t=this,wx.login({success(o){e.code=o.code,e.channel_code="";o=t.wxChannelCode();o&&o.code&&(e.channel_code=o.code),e.clue_token=o.clue_token,e.click_id=o.click_id,e.wx_extension=o.wx_extension,console.log(e),t.ajaxRequest(n,e,l,s)}})):console.log(A[8]):console.log(A[17])}gameToken(o,e,l){var s;console.log(A[23]),o.host_url?o.game_key?(s=o.host_url+A[24],this.ajaxRequest(s,o,e,l)):console.log(A[8]):console.log(A[17])}midasNotice(s,n,t){var c;console.log(A[25]),null!=s.game_env&&""!=s.game_env&&null!=s.game_env||(s.game_env=0),s.offer_id?s.currency_type?s.amount?s.server?s.game_key?s.host_url?s.account?s.role?(c=this).checkPaySwicth(s,function(o){var l;1==o.data.is_check_pay?(o={host_url:s.host_url,game_key:s.game_key,account:s.account,server:s.server,role:s.role,amount:s.amount,extend:s.extend},c.order(o,function(o){0==o.code&&o.data.order&&c.openCustomerService()})):(l=!1,wx.requestMidasPayment({currencyType:s.currency_type,env:s.game_env,mode:A[26],offerId:s.offer_id,buyQuantity:s.amount,platform:A[27],zoneId:"1",success(o){l=!0,console.log(A[28]);var e=s.host_url+A[29];c.ajaxRequest(e,s,n,t)},fail(o){console.log(o)},complete(o){var e;0==l&&(console.log(A[30]),e=s.host_url+A[29],c.ajaxRequest(e,s,n,t))}}))},function(){console.log(A[31])}):console.log(A[14]):console.log(A[16]):console.log(A[17]):console.log(A[8]):console.log(A[15]):console.log(A[20]):console.log(A[32]):console.log(A[33])}midasOrderSubmit(o,e,l){var s;console.log(A[34]),o.host_url?o.game_key?o.account?o.server?o.role?o.extend?o.amount?(o.sign=this.sign(o),s=o.host_url+A[35],this.ajaxRequest(s,o,e,l)):console.log(A[20]):console.log(A[36]):console.log(A[14]):console.log(A[15]):console.log(A[16]):console.log(A[8]):console.log(A[17])}checkWords(o,e,l){var s;console.log(A[37]),o.host_url?o.game_key?o.account?o.scene?o.content?(s=o.host_url+A[38],this.ajaxRequest(s,o,e,l)):console.log(A[39]):console.log(A[40]):console.log(A[16]):console.log(A[8]):console.log(A[17])}gameCenter(o,e,l){var s;console.log(A[41]),o.host_url?o.game_key?(s=o.host_url+A[42],this.ajaxRequest(s,o,e,l)):console.log(A[8]):console.log(A[17])}openGame(o,e,l){var s,n,t;console.log(A[43]),o.app_id?(s={account:o.account,from_app_id:o.from_app_id,app_id:o.app_id,type:0},n=o.host_url+A[44],t=this,wx.navigateToMiniProgram({appId:o.app_id,path:o.path,envVersion:o.env_version,success(o){s.type=1,t.ajaxRequest(n,s,e,l)},fail(o){t.ajaxRequest(n,s,e,l)}})):console.log(A[45])}vipDesc(o,e,l){var s;console.log(A[46]),o.host_url?o.game_key?(s=o.host_url+A[47],this.ajaxRequest(s,o,e,l)):console.log(A[8]):console.log(A[17])}wxFollowSteps(o,e,l){var s;console.log(A[48]),o.host_url?o.game_key?(s=o.host_url+A[49],this.ajaxRequest(s,o,e,l)):console.log(A[8]):console.log(A[17])}openCustomerService(){wx.showModal({title:A[50],content:A[51],showCancel:!1,confirmText:A[52],success(o){wx.openCustomerServiceConversation({showMessageCard:!0,sendMessageTitle:A[53],sendMessageImg:A[54]})}})}phoneDesc(o,e,l){var s;console.log(A[55]),o.host_url?(s=o.host_url+A[56],this.ajaxRequest(s,o,e,l)):console.log(A[17])}phoneCode(o,e,l){var s;console.log(A[57]),o.host_url?o.phone?(s=o.host_url+A[58],this.ajaxRequest(s,o,e,l)):console.log(A[59]):console.log(A[17])}phoneBind(o,e,l){var s;console.log(A[60]),o.host_url?o.game_key?o.account?o.phone?o.code?(s=o.host_url+A[61],this.ajaxRequest(s,o,e,l)):console.log(A[62]):console.log(A[59]):console.log(A[16]):console.log(A[8]):console.log(A[17])}gameLoop(o){console.log(A[63]),o.type?A[64]==o.type||A[65]==o.type?A[64]!=o.type||o.text?A[65]!=o.type||o.icon?o.style?wx.createGameClubButton(o):console.log(A[66]):console.log(A[67]):console.log(A[68]):console.log(A[69]):console.log(A[70])}subscribeToData(l,s,n){if(console.log(A[71]),l.tmpl_ids)if(l.account)if(l.host_url)if(l.game_key){const e={code:"0",msg:A[73],data:[]},t=l.host_url+A[74],c=this,a={account:l.account,game_key:l.game_key,pushTmplIds:[]};wx.requestSubscribeMessage({tmplIds:l.tmpl_ids,success:function(o){if(A[75]==o.errMsg){for(var e=0;e<l.tmpl_ids.length;e++)A[76]==o[l.tmpl_ids.length[e]]&&a.pushTmplIds.push(l.tmpl_ids[e]);c.ajaxRequest(t,a,s,n)}},fail:function(o){e.code=o.errCode||"-1",e.msg=A[77],n&&n(e)}})}else console.log(A[8]);else console.log(A[17]);else console.log(A[16]);else console.log(A[72])}sharingInMoments(o){var e,l,s,n,t;console.log(A[78]),o.host_url?o.game_key?(e=o.host_url+A[79],t=n=s=l="",wx.showShareMenu({withShareTicket:!0,menus:[A[80],A[81]]}),this.ajaxRequest(e,o,function(o){0==o.code&&(l=o.data.CircleOfFriends.title,s=o.data.CircleOfFriends.imageUrl,n=o.data.GroupChat.title,t=o.data.GroupChat.imageUrl),wx.onShareAppMessage(()=>({title:n,imageUrl:t})),wx.onShareTimeline(()=>({title:l,imageUrl:s}))},function(o){console.log(A[77],o)})):console.log(A[8]):console.log(A[17])}checkPaySwicth(o,e,l){var s;console.log(A[82]),o.host_url?o.game_key?o.account?o.server?o.role?(s=o.host_url+A[83],this.ajaxRequest(s,o,e,l)):console.log(A[14]):console.log(A[15]):console.log(A[16]):console.log(A[8]):console.log(A[17])}}