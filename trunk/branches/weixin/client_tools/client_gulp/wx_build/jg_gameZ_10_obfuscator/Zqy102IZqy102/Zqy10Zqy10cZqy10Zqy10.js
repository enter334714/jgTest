var J=wx.h$;function gqob0(){}function gnx7jiv(t,u,l,a,n){function l14a(e){var r=e.slice(1,-1);return r in l?l[r]:"#"===r.charAt(0)?65535<(r=parseInt(r.substr(1).replace("x","0x")))?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(1023&r))):String.fromCharCode(r):(n.error("entity not found:"+e),e)}function byo(e){var r;i<e&&(r=t.substring(i,e).replace(/&#?\w+;/g,l14a),c&&g68ctd(i),a.characters(r,0,e-i),i=e)}function g68ctd(e,r){for(;f<=e&&(r=h.exec(t));)d=r.index,f=d+r[0].length,c.lineNumber++;c.columnNumber=e-d+1}for(var d=0,f=0,h=/.*(?:\r\n?|\n)|.*$/g,c=a.locator,m=[{currentNSMap:u}],p={},i=0;;){try{var e=t.indexOf("<",i);var b,v;if(e<0)return void(t.substr(i).match(/^\s*$/)||(v=(b=a.doc).createTextNode(t.substr(i)),b.appendChild(v),a.currentElement=v));switch(i<e&&byo(e),t.charAt(e+1)){case"/":var r=t.indexOf(">",e+3),g=t.substring(e+2,r),s=m.pop();r<0?(g=t.substring(e+2).replace(/[\s<].*/,""),n.error("end tag name: "+g+" is not complete:"+s.tagName),r=e+1+g.length):g.match(/\s</)&&(g=g.replace(/[\s<].*/,""),n.error("end tag name: "+g+" maybe not complete"),r=e+1+g.length);var w=s.localNSMap,x=s.tagName==g;if(x||s.tagName&&s.tagName.toLowerCase()==g.toLowerCase()){if(a.endElement(s.uri,s.localName,g),w)for(var N in w)a.endPrefixMapping(N);x||n.fatalError("end tag name: "+g+" is not match the current start tagName:"+s.tagName)}else m.push(s);r++;break;case"?":c&&g68ctd(e),r=gla4u1(t,e,a);break;case"!":c&&g68ctd(e),r=gc86tdg(t,e,a,n);break;default:c&&g68ctd(e);var o=new gr5qo,q=m[m.length-1].currentNSMap,r=gf_9pw2(t,e,o,q,l14a,n),k=o.length;if(!o.closed&&go5yv(t,r,o.tagName,p)&&(o.closed=!0,l.nbsp||n.warning("unclosed xml attribute")),c&&k){for(var y=gp2wf_(c,{}),j=0;j<k;j++){var F=o[j];g68ctd(F.offset),F.locator=gp2wf_(c,{})}a.locator=y,grvxij7(o,a,q)&&m.push(o),a.locator=c}else grvxij7(o,a,q)&&m.push(o);"http://www.w3.org/1999/xhtml"!==o.uri||o.closed?r++:r=ggcd6k8(t,r,o.tagName,l14a,a)}}catch(e){n.error("element parse error: "+e),r=-1}i<r?i=r:byo(Math.max(e,i)+1)}}function gp2wf_(e,r){return r.lineNumber=e.lineNumber,r.columnNumber=e.columnNumber,r}function gf_9pw2(e,r,t,u,a,n){for(var c,i=++r,g=grx7vy;;){var s=e.charAt(i);switch(s){case"=":if(g===gxijvr7)c=e.slice(r,i),g=goqbr;else{if(g!==ggqb5)throw new Error("attribute equal must after attrName");g=goqbr}break;case"'":case'"':if(g===goqbr||g===gxijvr7){if(g===gxijvr7&&(n.warning('attribute value must after "="'),c=e.slice(r,i)),!(0<(i=e.indexOf(s,r=i+1))))throw new Error("attribute value no end '"+s+"' match");o=e.slice(r,i).replace(/&#?\w+;/g,a),t.add(c,o,r-1),g=gptzehc}else{if(g!=gb6dgk0)throw new Error('attribute value must after "="');o=e.slice(r,i).replace(/&#?\w+;/g,a),t.add(c,o,r),n.warning('attribute "'+c+'" missed start quot('+s+")!!"),r=i+1,g=gptzehc}break;case"/":switch(g){case grx7vy:t.setTagName(e.slice(r,i));case gptzehc:case gyjvro:case gp9w_2:g=gp9w_2,t.closed=!0;case gb6dgk0:case gxijvr7:case ggqb5:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return n.error("unexpected end of input"),g==grx7vy&&t.setTagName(e.slice(r,i)),i;case">":switch(g){case grx7vy:t.setTagName(e.slice(r,i));case gptzehc:case gyjvro:case gp9w_2:break;case gb6dgk0:case gxijvr7:"/"===(o=e.slice(r,i)).slice(-1)&&(t.closed=!0,o=o.slice(0,-1));case ggqb5:g===ggqb5&&(o=c),g==gb6dgk0?(n.warning('attribute "'+o+'" missed quot(")!!'),t.add(c,o.replace(/&#?\w+;/g,a),r)):("http://www.w3.org/1999/xhtml"===u[""]&&o.match(/^(?:disabled|checked|selected)$/i)||n.warning('attribute "'+o+'" missed value!! "'+o+'" instead!!'),t.add(o,o,r));break;case goqbr:throw new Error("attribute value missed!!")}return i;case"\x80":s=" ";default:if(s<=" ")switch(g){case grx7vy:t.setTagName(e.slice(r,i)),g=gyjvro;break;case gxijvr7:c=e.slice(r,i),g=ggqb5;break;case gb6dgk0:var o=e.slice(r,i).replace(/&#?\w+;/g,a);n.warning('attribute "'+o+'" missed quot(")!!'),t.add(c,o,r);case gptzehc:g=gyjvro}else switch(g){case ggqb5:t.tagName,"http://www.w3.org/1999/xhtml"===u[""]&&c.match(/^(?:disabled|checked|selected)$/i)||n.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),t.add(c,c,r),r=i,g=gxijvr7;break;case gptzehc:n.warning('attribute space is required"'+c+'"!!');case gyjvro:g=gxijvr7,r=i;break;case goqbr:g=gb6dgk0,r=i;break;case gp9w_2:throw new Error("elements closed character '/' and '>' must be connected to")}}i++}}function grvxij7(e,u,r){for(var t=e.tagName,a=null,n=e.length;n--;){var c=e[n],i=c.qName,l=c.value;var g;i=0<(s=i.indexOf(":"))?(o=c.prefix=i.slice(0,s),g=i.slice(s+1),"xmlns"===o&&g):(o=null,"xmlns"===(g=i)&&""),c.localName=g,!1!==i&&(null==a&&(a={},gr5yvo(r,r={})),r[i]=a[i]=l,c.uri="http://www.w3.org/2000/xmlns/",u.startPrefixMapping(i,l))}for(n=e.length;n--;)(o=(c=e[n]).prefix)&&("xml"===o&&(c.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==o&&(c.uri=r[o||""]));var s;g=0<(s=t.indexOf(":"))?(o=e.prefix=t.slice(0,s),e.localName=t.slice(s+1)):(o=null,e.localName=t);var d=e.uri=r[o||""];if(u.startElement(d,g,t,e),!e.closed)return e.currentNSMap=r,e.localNSMap=a,!0;if(u.endElement(d,g,t),a)for(var o in a)u.endPrefixMapping(o)}function ggcd6k8(e,r,t,a,n){if(/^(?:script|textarea)$/i.test(t)){var c=e.indexOf("</"+t+">",r),e=e.substring(r+1,c);if(/[&<]/.test(e))return/^script$/i.test(t)||(e=e.replace(/&#?\w+;/g,a)),n.characters(e,0,e.length),c}return r+1}function go5yv(e,r,t,a){var n=a[t];return null==n&&((n=e.lastIndexOf("</"+t+">"))<r&&(n=e.lastIndexOf("</"+t)),a[t]=n),n<r}function gr5yvo(e,r){for(var t in e)r[t]=e[t]}function gc86tdg(e,r,t,a){var n=e.charAt(r+2);if("-"===n)return"-"!==e.charAt(r+3)?-1:r<(c=e.indexOf("--\x3e",r+4))?(t.comment(e,r+4,c-r-4),c+3):(a.error("Unclosed comment"),-1);if("CDATA["==e.substr(r+3,6))return c=e.indexOf("]]>",r+9),t.startCDATA(),t.characters(e,r+9,c-r-9),t.endCDATA(),c+3;n=gd8ht(e,r),a=n.length;var c;return 1<a&&/!doctype/i.test(n[0][0])?(c=n[1][0],e=3<a&&/^public$/i.test(n[2][0])&&n[3][0],r=4<a&&n[4][0],n=n[a-1],t.startDTD(c,e&&e.replace(/^(['"])(.*?)\1$/,"$2"),r&&r.replace(/^(['"])(.*?)\1$/,"$2")),t.endDTD(),n.index+n[0].length):-1}function gla4u1(e,r,t){var a=e.indexOf("?>",r);return a&&(e=e.substring(r,a).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/))?(e[0].length,t.processingInstruction(e[1],e[2]),a+2):-1}function gr5qo(){}function gkq50(e,r){return e.__proto__=r,e}function gd8ht(e,r){var t,a=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=r,n.exec(e);t=n.exec(e);)if(a.push(t),t[1])return a}var gtd8g6c=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,gn4x7=new RegExp("[\\-\\.0-9"+gtd8g6c.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),gxin1j7=new RegExp("^"+gtd8g6c.source+gn4x7.source+"*(?::"+gtd8g6c.source+gn4x7.source+"*)?$"),grx7vy=0,gxijvr7=1,ggqb5=2,goqbr=3,gb6dgk0=4,gptzehc=5,gyjvro=6,gp9w_2=7;gqob0.prototype={parse:function(e,r,t){var a=this.domBuilder;a.startDocument(),gr5yvo(r,r={}),gnx7jiv(e,r,t,a,this.errorHandler),a.endDocument()}},gr5qo.prototype={setTagName:function(e){if(!gxin1j7.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,r,t){if(!gxin1j7.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:r,offset:t}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},gkq50({},gkq50.prototype)instanceof gkq50||(gkq50=function(e,r){function tzh86c(){}for(r in tzh86c.prototype=r,tzh86c=new tzh86c,e)tzh86c[r]=e[r];return tzh86c}),exports.XMLReader=gqob0;