var O=wx.$C;function h_lucp(){}function h_s_a6(t,o,l,a,n){function gsnv_(e){var r=e.slice(1,-1);return r in l?l[r]:"#"===r.charAt(0)?65535<(r=parseInt(r.substr(1).replace("x","0x")))?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(1023&r))):String.fromCharCode(r):(n.error("entity not found:"+e),e)}function $lc8pu(e){var r;h<e&&(r=t.substring(h,e).replace(/&#?\w+;/g,gsnv_),s&&hdr9j(h),a.characters(r,0,e-h),h=e)}function hdr9j(e,r){for(;_<=e&&(r=f.exec(t));)d=r.index,_=d+r[0].length,s.lineNumber++;s.columnNumber=e-d+1}for(var d=0,_=0,f=/.*(?:\r\n?|\n)|.*$/g,s=a.locator,m=[{currentNSMap:o}],g={},h=0;;){try{var e=t.indexOf("<",h);var x,p;if(e<0)return void(t.substr(h).match(/^\s*$/)||(p=(x=a.doc).createTextNode(t.substr(h)),x.appendChild(p),a.currentElement=p));switch(h<e&&$lc8pu(e),t.charAt(e+1)){case"/":var r=t.indexOf(">",e+3),c=t.substring(e+2,r),i=m.pop();r<0?(c=t.substring(e+2).replace(/[\s<].*/,""),n.error("end tag name: "+c+" is not complete:"+i.tagName),r=e+1+c.length):c.match(/\s</)&&(c=c.replace(/[\s<].*/,""),n.error("end tag name: "+c+" maybe not complete"),r=e+1+c.length);var w=i.localNSMap,v=i.tagName==c;if(v||i.tagName&&i.tagName.toLowerCase()==c.toLowerCase()){if(a.endElement(i.uri,i.localName,c),w)for(var b in w)a.endPrefixMapping(b);v||n.fatalError("end tag name: "+c+" is not match the current start tagName:"+i.tagName)}else m.push(i);r++;break;case"?":s&&hdr9j(e),r=h_dqx0h(t,e,a);break;case"!":s&&hdr9j(e),r=h_pcl5t(t,e,a,n);break;default:s&&hdr9j(e);var u=new h_y_sanv,N=m[m.length-1].currentNSMap,r=h_hwj9d0(t,e,u,N,gsnv_,n),j=u.length;if(!u.closed&&h_jxd0wh(t,r,u.tagName,g)&&(u.closed=!0,l.nbsp||n.warning("unclosed xml attribute")),s&&j){for(var q=h_qxw0(s,{}),y=0;y<j;y++){var F=u[y];hdr9j(F.offset),F.locator=h_qxw0(s,{})}a.locator=q,h_ko5tl(u,a,N)&&m.push(u),a.locator=s}else h_ko5tl(u,a,N)&&m.push(u);"http://www.w3.org/1999/xhtml"!==u.uri||u.closed?r++:r=h_hqx0d(t,r,u.tagName,gsnv_,a)}}catch(e){n.error("element parse error: "+e),r=-1}h<r?h=r:$lc8pu(Math.max(e,h)+1)}}function h_qxw0(e,r){return r.lineNumber=e.lineNumber,r.columnNumber=e.columnNumber,r}function h_hwj9d0(e,r,t,o,a,n){for(var s,h=++r,c=h_hxjd;;){var i=e.charAt(h);switch(i){case"=":if(c===h_hrjdz)s=e.slice(r,h),c=h_yi6a2;else{if(c!==h_rjdhz)throw new Error("attribute equal must after attrName");c=h_yi6a2}break;case"'":case'"':if(c===h_yi6a2||c===h_hrjdz){if(c===h_hrjdz&&(n.warning('attribute value must after "="'),s=e.slice(r,h)),!(0<(h=e.indexOf(i,r=h+1))))throw new Error("attribute value no end '"+i+"' match");u=e.slice(r,h).replace(/&#?\w+;/g,a),t.add(s,u,r-1),c=h_x71q0}else{if(c!=h_x7qh0)throw new Error('attribute value must after "="');u=e.slice(r,h).replace(/&#?\w+;/g,a),t.add(s,u,r),n.warning('attribute "'+s+'" missed start quot('+i+")!!"),r=h+1,c=h_x71q0}break;case"/":switch(c){case h_hxjd:t.setTagName(e.slice(r,h));case h_x71q0:case h_syav_n:case h_rz89dj:c=h_rz89dj,t.closed=!0;case h_x7qh0:case h_hrjdz:case h_rjdhz:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return n.error("unexpected end of input"),c==h_hxjd&&t.setTagName(e.slice(r,h)),h;case">":switch(c){case h_hxjd:t.setTagName(e.slice(r,h));case h_x71q0:case h_syav_n:case h_rz89dj:break;case h_x7qh0:case h_hrjdz:"/"===(u=e.slice(r,h)).slice(-1)&&(t.closed=!0,u=u.slice(0,-1));case h_rjdhz:c===h_rjdhz&&(u=s),c==h_x7qh0?(n.warning('attribute "'+u+'" missed quot(")!!'),t.add(s,u.replace(/&#?\w+;/g,a),r)):("http://www.w3.org/1999/xhtml"===o[""]&&u.match(/^(?:disabled|checked|selected)$/i)||n.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),t.add(u,u,r));break;case h_yi6a2:throw new Error("attribute value missed!!")}return h;case"\x80":i=" ";default:if(i<=" ")switch(c){case h_hxjd:t.setTagName(e.slice(r,h)),c=h_syav_n;break;case h_hrjdz:s=e.slice(r,h),c=h_rjdhz;break;case h_x7qh0:var u=e.slice(r,h).replace(/&#?\w+;/g,a);n.warning('attribute "'+u+'" missed quot(")!!'),t.add(s,u,r);case h_x71q0:c=h_syav_n}else switch(c){case h_rjdhz:t.tagName,"http://www.w3.org/1999/xhtml"===o[""]&&s.match(/^(?:disabled|checked|selected)$/i)||n.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),t.add(s,s,r),r=h,c=h_hrjdz;break;case h_x71q0:n.warning('attribute space is required"'+s+'"!!');case h_syav_n:c=h_hrjdz,r=h;break;case h_yi6a2:c=h_x7qh0,r=h;break;case h_rz89dj:throw new Error("elements closed character '/' and '>' must be connected to")}}h++}}function h_ko5tl(e,o,r){for(var t=e.tagName,a=null,n=e.length;n--;){var s=e[n],h=s.qName,l=s.value;var c;h=0<(i=h.indexOf(":"))?(u=s.prefix=h.slice(0,i),c=h.slice(i+1),"xmlns"===u&&c):(u=null,"xmlns"===(c=h)&&""),s.localName=c,!1!==h&&(null==a&&(a={},h_q1f34(r,r={})),r[h]=a[h]=l,s.uri="http://www.w3.org/2000/xmlns/",o.startPrefixMapping(h,l))}for(n=e.length;n--;)(u=(s=e[n]).prefix)&&("xml"===u&&(s.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(s.uri=r[u||""]));var i;c=0<(i=t.indexOf(":"))?(u=e.prefix=t.slice(0,i),e.localName=t.slice(i+1)):(u=null,e.localName=t);var d=e.uri=r[u||""];if(o.startElement(d,c,t,e),!e.closed)return e.currentNSMap=r,e.localNSMap=a,!0;if(o.endElement(d,c,t),a)for(var u in a)o.endPrefixMapping(u)}function h_hqx0d(e,r,t,a,n){if(/^(?:script|textarea)$/i.test(t)){var s=e.indexOf("</"+t+">",r),e=e.substring(r+1,s);if(/[&<]/.test(e))return/^script$/i.test(t)||(e=e.replace(/&#?\w+;/g,a)),n.characters(e,0,e.length),s}return r+1}function h_jxd0wh(e,r,t,a){var n=a[t];return null==n&&((n=e.lastIndexOf("</"+t+">"))<r&&(n=e.lastIndexOf("</"+t)),a[t]=n),n<r}function h_q1f34(e,r){for(var t in e)r[t]=e[t]}function h_pcl5t(e,r,t,a){var n=e.charAt(r+2);if("-"===n)return"-"!==e.charAt(r+3)?-1:r<(s=e.indexOf("--\x3e",r+4))?(t.comment(e,r+4,s-r-4),s+3):(a.error("Unclosed comment"),-1);if("CDATA["==e.substr(r+3,6))return s=e.indexOf("]]>",r+9),t.startCDATA(),t.characters(e,r+9,s-r-9),t.endCDATA(),s+3;n=h_v34fg_(e,r),a=n.length;var s;return 1<a&&/!doctype/i.test(n[0][0])?(s=n[1][0],e=3<a&&/^public$/i.test(n[2][0])&&n[3][0],r=4<a&&n[4][0],n=n[a-1],t.startDTD(s,e&&e.replace(/^(['"])(.*?)\1$/,"$2"),r&&r.replace(/^(['"])(.*?)\1$/,"$2")),t.endDTD(),n.index+n[0].length):-1}function h_dqx0h(e,r,t){var a=e.indexOf("?>",r);return a&&(e=e.substring(r,a).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/))?(e[0].length,t.processingInstruction(e[1],e[2]),a+2):-1}function h_y_sanv(){}function h_v_3g(e,r){return e.__proto__=r,e}function h_v34fg_(e,r){var t,a=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=r,n.exec(e);t=n.exec(e);)if(a.push(t),t[1])return a}var h_sn_y6=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h_asy26n=new RegExp("[\\-\\.0-9"+h_sn_y6.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),h_qx0hdw=new RegExp("^"+h_sn_y6.source+h_asy26n.source+"*(?::"+h_sn_y6.source+h_asy26n.source+"*)?$"),h_hxjd=0,h_hrjdz=1,h_rjdhz=2,h_yi6a2=3,h_x7qh0=4,h_x71q0=5,h_syav_n=6,h_rz89dj=7;h_lucp.prototype={parse:function(e,r,t){var a=this.domBuilder;a.startDocument(),h_q1f34(r,r={}),h_s_a6(e,r,t,a,this.errorHandler),a.endDocument()}},h_y_sanv.prototype={setTagName:function(e){if(!h_qx0hdw.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,r,t){if(!h_qx0hdw.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:r,offset:t}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},h_v_3g({},h_v_3g.prototype)instanceof h_v_3g||(h_v_3g=function(e,r){function a2i6s(){}for(r in a2i6s.prototype=r,a2i6s=new a2i6s,e)a2i6s[r]=e[r];return a2i6s}),exports.XMLReader=h_lucp;