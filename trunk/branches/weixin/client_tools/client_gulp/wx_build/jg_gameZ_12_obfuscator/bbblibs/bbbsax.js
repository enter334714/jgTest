var _=wx.y$;function _dlnmkop(){}function _dedfi(r,o,l,a,n){function vywzx(e){var t=e.slice(1,-1);return t in l?l[t]:"#"===t.charAt(0)?65535<(t=parseInt(t.substr(1).replace("x","0x")))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):String.fromCharCode(t):(n.error("entity not found:"+e),e)}function tyuxvw(e){var t;i<e&&(t=r.substring(i,e).replace(/&#?\w+;/g,vywzx),d&&gijef(i),a.characters(t,0,e-i),i=e)}function gijef(e,t){for(;m<=e&&(t=g.exec(r));)f=t.index,m=f+t[0].length,d.lineNumber++;d.columnNumber=e-f+1}for(var f=0,m=0,g=/.*(?:\r\n?|\n)|.*$/g,d=a.locator,_=[{currentNSMap:o}],h={},i=0;;){try{var e=r.indexOf("<",i);var w,p;if(e<0)return void(r.substr(i).match(/^\s*$/)||(p=(w=a.doc).createTextNode(r.substr(i)),w.appendChild(p),a.currentElement=p));switch(i<e&&tyuxvw(e),r.charAt(e+1)){case"/":var t=r.indexOf(">",e+3),s=r.substring(e+2,t),c=_.pop();t<0?(s=r.substring(e+2).replace(/[\s<].*/,""),n.error("end tag name: "+s+" is not complete:"+c.tagName),t=e+1+s.length):s.match(/\s</)&&(s=s.replace(/[\s<].*/,""),n.error("end tag name: "+s+" maybe not complete"),t=e+1+s.length);var b=c.localNSMap,v=c.tagName==s;if(v||c.tagName&&c.tagName.toLowerCase()==s.toLowerCase()){if(a.endElement(c.uri,c.localName,s),b)for(var x in b)a.endPrefixMapping(x);v||n.fatalError("end tag name: "+s+" is not match the current start tagName:"+c.tagName)}else _.push(c);t++;break;case"?":d&&gijef(e),t=_djkihml(r,e,a);break;case"!":d&&gijef(e),t=_dilkhmj(r,e,a,n);break;default:d&&gijef(e);var u=new _decdb,N=_[_.length-1].currentNSMap,t=_djieh(r,e,u,N,vywzx,n),k=u.length;if(!u.closed&&_dfgcdbe(r,t,u.tagName,h)&&(u.closed=!0,l.nbsp||n.warning("unclosed xml attribute")),d&&k){for(var y=_dtrvuws(d,{}),j=0;j<k;j++){var F=u[j];gijef(F.offset),F.locator=_dtrvuws(d,{})}a.locator=y,_dhedgc(u,a,N)&&_.push(u),a.locator=d}else _dhedgc(u,a,N)&&_.push(u);"http://www.w3.org/1999/xhtml"!==u.uri||u.closed?t++:t=_dfb(r,t,u.tagName,vywzx,a)}}catch(e){n.error("element parse error: "+e),t=-1}i<t?i=t:tyuxvw(Math.max(e,i)+1)}}function _dtrvuws(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function _djieh(e,t,r,o,a,n){for(var d,i=++t,s=_dsvwut;;){var c=e.charAt(i);switch(c){case"=":if(s===_dcfdeab)d=e.slice(t,i),s=_dsrqv;else{if(s!==_djnikl)throw new Error("attribute equal must after attrName");s=_dsrqv}break;case"'":case'"':if(s===_dsrqv||s===_dcfdeab){if(s===_dcfdeab&&(n.warning('attribute value must after "="'),d=e.slice(t,i)),!(0<(i=e.indexOf(c,t=i+1))))throw new Error("attribute value no end '"+c+"' match");u=e.slice(t,i).replace(/&#?\w+;/g,a),r.add(d,u,t-1),s=_dgbdef}else{if(s!=_dvtwyux)throw new Error('attribute value must after "="');u=e.slice(t,i).replace(/&#?\w+;/g,a),r.add(d,u,t),n.warning('attribute "'+d+'" missed start quot('+c+")!!"),t=i+1,s=_dgbdef}break;case"/":switch(s){case _dsvwut:r.setTagName(e.slice(t,i));case _dgbdef:case _dxzy$:case _dstpq:s=_dstpq,r.closed=!0;case _dvtwyux:case _dcfdeab:case _djnikl:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return n.error("unexpected end of input"),s==_dsvwut&&r.setTagName(e.slice(t,i)),i;case">":switch(s){case _dsvwut:r.setTagName(e.slice(t,i));case _dgbdef:case _dxzy$:case _dstpq:break;case _dvtwyux:case _dcfdeab:"/"===(u=e.slice(t,i)).slice(-1)&&(r.closed=!0,u=u.slice(0,-1));case _djnikl:s===_djnikl&&(u=d),s==_dvtwyux?(n.warning('attribute "'+u+'" missed quot(")!!'),r.add(d,u.replace(/&#?\w+;/g,a),t)):("http://www.w3.org/1999/xhtml"===o[""]&&u.match(/^(?:disabled|checked|selected)$/i)||n.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),r.add(u,u,t));break;case _dsrqv:throw new Error("attribute value missed!!")}return i;case"\x80":c=" ";default:if(c<=" ")switch(s){case _dsvwut:r.setTagName(e.slice(t,i)),s=_dxzy$;break;case _dcfdeab:d=e.slice(t,i),s=_djnikl;break;case _dvtwyux:var u=e.slice(t,i).replace(/&#?\w+;/g,a);n.warning('attribute "'+u+'" missed quot(")!!'),r.add(d,u,t);case _dgbdef:s=_dxzy$}else switch(s){case _djnikl:r.tagName,"http://www.w3.org/1999/xhtml"===o[""]&&d.match(/^(?:disabled|checked|selected)$/i)||n.warning('attribute "'+d+'" missed value!! "'+d+'" instead2!!'),r.add(d,d,t),t=i,s=_dcfdeab;break;case _dgbdef:n.warning('attribute space is required"'+d+'"!!');case _dxzy$:s=_dcfdeab,t=i;break;case _dsrqv:s=_dvtwyux,t=i;break;case _dstpq:throw new Error("elements closed character '/' and '>' must be connected to")}}i++}}function _dhedgc(e,o,t){for(var r=e.tagName,a=null,n=e.length;n--;){var d=e[n],i=d.qName,l=d.value;var s;i=0<(c=i.indexOf(":"))?(u=d.prefix=i.slice(0,c),s=i.slice(c+1),"xmlns"===u&&s):(u=null,"xmlns"===(s=i)&&""),d.localName=s,!1!==i&&(null==a&&(a={},_dmpnrq(t,t={})),t[i]=a[i]=l,d.uri="http://www.w3.org/2000/xmlns/",o.startPrefixMapping(i,l))}for(n=e.length;n--;)(u=(d=e[n]).prefix)&&("xml"===u&&(d.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(d.uri=t[u||""]));var c;s=0<(c=r.indexOf(":"))?(u=e.prefix=r.slice(0,c),e.localName=r.slice(c+1)):(u=null,e.localName=r);var f=e.uri=t[u||""];if(o.startElement(f,s,r,e),!e.closed)return e.currentNSMap=t,e.localNSMap=a,!0;if(o.endElement(f,s,r),a)for(var u in a)o.endPrefixMapping(u)}function _dfb(e,t,r,a,n){if(/^(?:script|textarea)$/i.test(r)){var d=e.indexOf("</"+r+">",t),e=e.substring(t+1,d);if(/[&<]/.test(e))return/^script$/i.test(r)||(e=e.replace(/&#?\w+;/g,a)),n.characters(e,0,e.length),d}return t+1}function _dfgcdbe(e,t,r,a){var n=a[r];return null==n&&((n=e.lastIndexOf("</"+r+">"))<t&&(n=e.lastIndexOf("</"+r)),a[r]=n),n<t}function _dmpnrq(e,t){for(var r in e)t[r]=e[r]}function _dilkhmj(e,t,r,a){var n=e.charAt(t+2);if("-"===n)return"-"!==e.charAt(t+3)?-1:t<(d=e.indexOf("--\x3e",t+4))?(r.comment(e,t+4,d-t-4),d+3):(a.error("Unclosed comment"),-1);if("CDATA["==e.substr(t+3,6))return d=e.indexOf("]]>",t+9),r.startCDATA(),r.characters(e,t+9,d-t-9),r.endCDATA(),d+3;n=_difgdhe(e,t),a=n.length;var d;return 1<a&&/!doctype/i.test(n[0][0])?(d=n[1][0],e=3<a&&/^public$/i.test(n[2][0])&&n[3][0],t=4<a&&n[4][0],n=n[a-1],r.startDTD(d,e&&e.replace(/^(['"])(.*?)\1$/,"$2"),t&&t.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),n.index+n[0].length):-1}function _djkihml(e,t,r){var a=e.indexOf("?>",t);return a&&(e=e.substring(t,a).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/))?(e[0].length,r.processingInstruction(e[1],e[2]),a+2):-1}function _decdb(){}function _dfhgj(e,t){return e.__proto__=t,e}function _difgdhe(e,t){var r,a=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=t,n.exec(e);r=n.exec(e);)if(a.push(r),r[1])return a}var _donplmk=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_djmhlik=new RegExp("[\\-\\.0-9"+_donplmk.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),_drnmo=new RegExp("^"+_donplmk.source+_djmhlik.source+"*(?::"+_donplmk.source+_djmhlik.source+"*)?$"),_dsvwut=0,_dcfdeab=1,_djnikl=2,_dsrqv=3,_dvtwyux=4,_dgbdef=5,_dxzy$=6,_dstpq=7;_dlnmkop.prototype={parse:function(e,t,r){var a=this.domBuilder;a.startDocument(),_dmpnrq(t,t={}),_dedfi(e,t,r,a,this.errorHandler),a.endDocument()}},_decdb.prototype={setTagName:function(e){if(!_drnmo.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!_drnmo.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},_dfhgj({},_dfhgj.prototype)instanceof _dfhgj||(_dfhgj=function(e,t){function eghfdi(){}for(t in eghfdi.prototype=t,eghfdi=new eghfdi,e)eghfdi[t]=e[t];return eghfdi}),exports.XMLReader=_dlnmkop;