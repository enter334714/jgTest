var gameSDK=function(n){var o={};function a(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}return a.m=n,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=10)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var a=function(e){return"tw_ys_"+e+"_@"},r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"getItem",value:function(e){var t=wx.getStorageSync(a(e));return!!t&&function(e){e=unescape(e);for(var t=String.fromCharCode(e.charCodeAt(0)-e.length),n=1;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)-t.charCodeAt(n-1));return t=JSON.parse(t)}(t)}},{key:"setItem",value:function(e,t){wx.setStorageSync(a(e),function(e){e=JSON.stringify(e);for(var t=String.fromCharCode(e.charCodeAt(0)+e.length),n=1;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)+e.charCodeAt(n-1));return escape(t)}(t))}},{key:"destroyItem",value:function(e){wx.clearStorage(a(e));try{wx.removeStorageSync(a(e))}catch(e){}}}]),e}();t.default=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gameConfig={}}return o(e,[{key:"setGameConfig",value:function(e){this.gameConfig=e}},{key:"getGameConfig",value:function(){return this.gameConfig}}]),e}();t.default=new a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),s=a(n(11)),f=a(n(0)),d=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"api",value:function(r,i){var u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"post",c=this;return new Promise(function(t,n){var e=r in s.default&&s.default[r];!1===e&&n("type error");var o=d.default.getGameConfig();i.appid=o.APPID,i.ios_appid=o.APPID_IOS;var a=f.default.getItem("adQuery");i.agent_id=!1!==a?a.agent_id:o.AGENT_ID,i.site_id=!1!==a?a.site_id:o.SITE_ID,i.launchScene=f.default.getItem("launchScene"),i.queryData=o.query,c.http(e,i,u).then(function(e){t(e)}).catch(function(e){n(e)})})}},{key:"http",value:function(e,o,a){return new Promise(function(t,n){wx.request({url:e,header:{"Content-Type":"application/x-www-form-urlencoded"},method:a,data:o,success:function(e){200===e.statusCode?o.do&&"getShareConfig"===o.do?t(e.data):"1"===e.data.status||1===e.data.status||1===e.data.code||"1"===e.data.code?t(e.data.data?e.data.data:e.data):n(e.data.msg):n("network error code: "+e.statusCode)},fail:function(e){n(e.errMsg)}})})}},{key:"report",value:function(o){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"post";return new Promise(function(t,n){var e=d.default.getGameConfig();o.agent_id=e.AGENT_ID,o.site_id=e.SITE_ID,o.queryData=e.query,wx.request({url:s.default.REPORT_DATA,header:{"Content-Type":"application/x-www-form-urlencoded"},method:a,data:o,success:function(e){200===e.statusCode?1===e.data.ret||1===e.data.ret?t(e.data.data):n(e.data.msg):n("network error "+e.statusCode)},fail:function(e){n(e.errMsg)}})})}},{key:"errorReport",value:function(o,a){var r=this;return new Promise(function(t,n){var e={appid:d.default.getGameConfig().APPID,errorType:o,content:JSON.stringify(a)};r.http(s.default.ERROR_REPORT,e,"post").then(function(e){t(e)}).catch(function(e){n(e)})})}}]),e}();t.default=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.systemInfo={}}return o(e,[{key:"getSystemInfo",value:function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",a=this;return new Promise(function(t,n){a.checkSystemInfo().then(function(e){o&&o in a.systemInfo?t(a.systemInfo[o]):t(a.systemInfo)}).catch(function(e){n(e)})})}},{key:"checkSystemInfo",value:function(){var e=this;return new Promise(function(t,n){e.getSystem().then(function(){e.getNetwork().then(function(e){t()}).catch(function(e){n(e)})}).catch(function(e){n(e)})})}},{key:"getNetwork",value:function(){var o=this;return new Promise(function(t,n){wx.getNetworkType({success:function(e){delete e.errMsg,o.systemInfo=Object.assign(e,o.systemInfo),t()},fail:function(e){n(e.errMsg)}})})}},{key:"getSystem",value:function(){var o=this;return new Promise(function(t,n){wx.getSystemInfo({success:function(e){console.log("system info : ",e),delete e.errMsg,o.systemInfo=Object.assign(e,o.systemInfo),t()},fail:function(e){n(e.errMsg)}})})}},{key:"getUserSetting",value:function(){return new Promise(function(t,n){wx.getSetting({withSubscriptions:!0,success:function(e){t(e)},fail:function(e){n({code:-4,msg:e.errMsg})}})})}},{key:"openSubscribeSetting",value:function(o){return new Promise(function(t,n){wx.showModal({title:"提示",content:"检测到您未开启订阅消息通知权限，是否去设置？",cancelColor:"#808080",confirmColor:"#FF0000",success:function(e){e.confirm?wx.openSetting({withSubscriptions:!0,success:function(e){e.subscriptionsSetting.mainSwitch&&(null!=e.subscriptionsSetting.itemSettings&&"reject"===e.subscriptionsSetting.itemSettings[o]&&t())},fail:function(e){n("settingFail")}}):n("rejectOpen")},fail:function(e){n(e.errMsg)}})})}}]),e}();t.default=new a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),a=s(n(0)),i=s(n(2)),u=s(n(3)),r=s(n(6)),c=s(n(1));s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loginUserInfo={},this.subscribeStatus=!1}return o(e,[{key:"login",value:function(r){var e=this;return new Promise(function(n,o){var a=e;wx.login({success:function(e){var t={code:e.code,avatar:"",nickName:"",adData:r};a.serverLogin(t).then(function(e){n(e)}).catch(function(e){o(e)})},fail:function(e){o(e.errMsg)}})})}},{key:"serverLogin",value:function(e){return new Promise(function(t,n){var o={code:e.code,avatar:e.avatarUrl,nickName:e.nickName},a=c.default.getGameConfig();e.adData.gdt_vid&&e.adData.weixinadinfo&&(o.site_id=e.adData.wx_site_id,o.agent_id=e.adData.wx_agent_id,o.weixinadinfo=e.adData.weixinadinfo,o.plat_put=e.adData.plat_put?e.adData.plat_put:"source",o.put_appid=a.put_appid),u.default.getSystemInfo().then(function(e){"ios"===e.platform&&(o.site_id=a.IOS_SITE_ID),o.brand=e.brand,o.model=e.model,o.pf=e.platform,o.system=e.system,o.ad_click_id=a.ad_notify_data.gdt_vid,o.weixinadinfo=a.ad_notify_data.weixinadinfo,o.scene=a.ad_notify_data.scene,o.referrerInfo=JSON.stringify(a.ad_notify_data.referrerInfo),i.default.api("LOGIN",o).then(function(e){r.default.debugLog("LOGIN : ",e),t(e)}).catch(function(e){n(e)})}).catch(function(e){n(e)})})}},{key:"getUserInfo",value:function(){return{uid:this.getStorageUserInfo("uid"),access_token:this.getStorageUserInfo("access_token"),user_name:this.getStorageUserInfo("username"),is_bind_phone:this.getStorageUserInfo("is_bind_phone"),mobile:this.getStorageUserInfo("mobile"),templateList:this.getStorageUserInfo("templateKey")}}},{key:"checkLoginStatus",value:function(t){var n=this,e=n.getStorageUserInfo();0===Object.keys(e).length?(console.log("本地无登录态，执行登录"),n.login(t.adData).then(function(e){a.default.setItem("sdk_login_time",Date.parse(new Date)/1e3),n.setStorageUserInfo(e),t.success()}).catch(function(e){t.fail(e)})):n.checkServerLoginStatus().then(function(){return Promise.resolve(t.success())}).catch(function(e){n.destroyStorageUserInfo(),n.login(t.adData).then(function(e){a.default.setItem("sdk_login_time",Date.parse(new Date)/1e3),n.setStorageUserInfo(e),t.success()}).catch(function(e){t.fail(e)})})}},{key:"checkServerLoginStatus",value:function(){var o=this;return new Promise(function(t,n){var e={appid:c.default.getGameConfig().APPID,accessToken:o.getStorageUserInfo("access_token"),uid:o.getStorageUserInfo("uid")};i.default.api("STATUS",e).then(function(e){t()}).catch(function(e){n(e)})})}},{key:"getStorageUserInfo",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if(0===Object.keys(this.loginUserInfo).length&&(this.loginUserInfo=a.default.getItem("loginUserInfo"),!1===this.loginUserInfo))return{};var t=this.loginUserInfo;return e&&(t=e in this.loginUserInfo?this.loginUserInfo[e]:""),t}},{key:"setStorageUserInfo",value:function(e){this.loginUserInfo=e,a.default.setItem("loginUserInfo",e)}},{key:"destroyStorageUserInfo",value:function(){this.loginUserInfo={},a.default.destroyItem("loginUserInfo")}},{key:"sendPhoneCode",value:function(e){var a=this;return new Promise(function(t,n){var o={appid:c.default.getGameConfig().APPID,mobile:e,user_name:a.getStorageUserInfo("username"),uid:a.getStorageUserInfo("uid"),type:"sendCode",accessToken:a.getStorageUserInfo("access_token")};i.default.api("BIND_PHONE",o).then(function(e){t({code:1,msg:"success"})}).catch(function(e){i.default.errorReport("bindPhone",{msg:"发生手机验证码失败",data:o,res:e}),n({code:-1,msg:e})})})}},{key:"reportAdInfo",value:function(n,e){if(n.gdt_vid&&n.weixinadinfo){var o="";e&&(o=this.getStorageUserInfo("username"),0===Object.keys(o).length&&(o=""));var a=c.default.getGameConfig();u.default.getSystemInfo().then(function(e){var t={platform:e.platform,model:e.model,os:e.system,do:"adNotify",time:Date.parse(new Date)/1e3,gdt_vid:n.gdt_vid,weixinadinfo:n.weixinadinfo,username:o,scene:n.scene,referrerInfo:JSON.stringify(n.referrerInfo),wx_site_id:n.wx_site_id,wx_agent_id:n.wx_agent_id,appid:a.APPID,ios_appid:a.APPID_IOS,accessToken:n.accessToken,plat_put:n.plat_put,put_appid:a.put_appid};i.default.api("AD_NOTIFY",t).then(function(e){}).catch(function(e){})})}}},{key:"reportTouTAdInfo",value:function(e,t){if(0<e.length){var n="";t&&(n=this.getStorageUserInfo("username"),0===Object.keys(n).length&&(n="")),u.default.getSystemInfo().then(function(e){var t={platform:e.platform,model:e.model,os:e.system,do:"adNotify",time:Date.parse(new Date)/1e3,username:n,toutiao:1};i.default.api("AD_NOTIFY",t).then(function(e){}).catch(function(e){})})}}},{key:"bindPhone",value:function(e,a){var r=this;return new Promise(function(t,n){var o={appid:c.default.getGameConfig().APPID,mobile:e,user_name:r.getStorageUserInfo("username"),uid:r.getStorageUserInfo("uid"),type:"bindPhone",code:a,accessToken:r.getStorageUserInfo("access_token")};i.default.api("BIND_PHONE",o).then(function(e){t(e)}).catch(function(e){i.default.errorReport("bindPhone",{msg:"绑定手机失败",data:o,res:e}),n({code:-1,msg:e})})})}},{key:"checkSession",value:function(){var o=this;return new Promise(function(t,n){wx.checkSession({success:function(){var e=parseInt(a.default.getItem("sdk_login_time"));900<parseInt(Date.parse(new Date))/1e3-e?(o.destroyStorageUserInfo(),o.login({}).then(function(e){a.default.setItem("sdk_login_time",Date.parse(new Date)/1e3),o.setStorageUserInfo(e),t()}).catch(function(e){n("pay resolve login")})):t()},fail:function(){o.destroyStorageUserInfo(),o.login({}).then(function(e){a.default.setItem("sdk_login_time",Date.parse(new Date)/1e3),o.setStorageUserInfo(e),t()}).catch(function(e){n(e)})}})})}},{key:"subscribe",value:function(t){var r=this;return new Promise(function(n,o){var e=r.getStorageUserInfo("templateKey");if(0===Object.keys(e).length)return o({code:-3,msg:"Template Type Not Found"});var a=r.getStorageUserInfo("templateList")[t];if(!a)return o({code:-3,msg:"Template Not Found"});u.default.getUserSetting().then(function(e){if(console.log("settingData : ",e),e.subscriptionsSetting.mainSwitch)if(null!=e.subscriptionsSetting.itemSettings){var t=e.subscriptionsSetting.itemSettings[a];"accept"===t&&r.onSubscribe(a).then(function(){n({code:0,msg:"success"})}).catch(function(){n({code:0,msg:"success"})}),"reject"===t&&u.default.openSubscribeSetting().then(function(e){n({code:1,msg:"closeNotify"})}).catch(function(e){o({code:-1,msg:e})}),"ban"===t&&n({code:2,msg:"close notify"})}else r.preSubscribe(a).then(function(){n({code:0,msg:"success"})}).catch(function(e){o(e)});else r.preSubscribe(a).then(function(){n({code:0,msg:"success"})}).catch(function(e){o(e)})}).catch(function(e){o(e)})})}},{key:"serviceCheckMsg",value:function(o){var a=this;return new Promise(function(t,n){var e={appid:c.default.getGameConfig().appid,content:o,accessToken:a.getStorageUserInfo("access_token")};i.default.api("MSG_CHECK",e).then(function(e){t(e)}).catch(function(e){n(e)})})}},{key:"tipsSubscribe",value:function(o){var a=this;return new Promise(function(t,n){wx.showModal({title:"提示",content:"拒接接收将无法收到游戏正常通知，是否重新接收？",cancelText:"不了",cancelColor:"#808080",confirmColor:"#FF0000",success:function(e){e.confirm?wx.requestSubscribeMessage({tmplIds:[o],success:function(e){"accept"==e[o]?a.onSubscribe(o).then(function(){t()}).catch(function(){t()}):n("rejectSubscribe")},fail:function(e){n(e.errMsg)}}):n("rejectAccept")},fail:function(e){n(e.errMsg)}})})}},{key:"preSubscribe",value:function(o){var a=this;return new Promise(function(t,n){wx.showModal({title:"提示",content:"是否开通服务通知?",showCancel:!0,cancelColor:"#808080",confirmColor:"#FF0000",success:function(e){e.confirm?wx.requestSubscribeMessage({tmplIds:[o],success:function(e){"reject"==e[o]?a.tipsSubscribe(o).then(function(e){t({code:0,msg:"success"})}).catch(function(e){n({code:-2,msg:e})}):"accept"==e[o]&&a.onSubscribe(o).then(function(){t({code:0,msg:"success"})}).catch(function(){t({code:0,msg:"success"})})},fail:function(e){20004==e.errCode?a.tipsSubscribe(o).then(function(e){t({code:0,msg:"success"})}).catch(function(e){n({code:-2,msg:e})}):n({code:-3,msg:e.errMsg})}}):n({code:-3,msg:"rejectOpen"})}})})}},{key:"onSubscribe",value:function(a){var r=this;return new Promise(function(n,o){u.default.getSystemInfo().then(function(e){var t={accessToken:r.getStorageUserInfo("access_token"),uid:r.getStorageUserInfo("uid"),user_name:r.getStorageUserInfo("username"),pf:e.platform,templateId:a};i.default.api("SUBSCRIBE",t).then(function(e){n()}).catch(function(e){o(e)})})})}}]),e}();t.default=new f},function(e,t,n){"use strict";var o="179491";e.exports={APPID:"7406",APPID_IOS:"7408",SHARE_QUERY:"agent_id=179491&site_id=11307443",AGENT_ID:o,SITE_ID:"11307346",IOS_SITE_ID:"11308448",IOS_SHARE_QUERY:"agent_id=179491&site_id=11308459",GAME_NAME:"凤凰红九",wxAdInfo:{},put_appid:"7406",ad_notify_data:{gdt_vid:"",weixinadinfo:"",scene:"",referrerInfo:""},query:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),r=n(7),i=(o=r)&&o.__esModule?o:{default:o};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"debugLog",value:function(e,t){i.default.DEBUG&&console.log("[Xinxin]",e,t)}},{key:"errorLog",value:function(e){}}]),e}();t.default=new u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={DEBUG:!0,SDK_VERSION:"101",DEVICE_NO:"wegame_imei"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),c=a(n(2)),s=a(n(0)),f=a(n(4)),r=a(n(3)),d=a(n(6)),u=a(n(12)),l=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.env="",this.getEnv(),this.orderId={},this.orderData={},this.userPayTotal=0}return o(e,[{key:"getPayConfig",value:function(){return new Promise(function(n,o){var a=l.default.getGameConfig();r.default.getSystemInfo("platform").then(function(e){var t={do:"getPayConfig",appid:a.APPID,accessToken:f.default.getStorageUserInfo("access_token"),uid:f.default.getStorageUserInfo("uid"),zone_id:-1,pf:e};c.default.api("PAY",t).then(function(e){s.default.setItem("payConfig",e),n(e)}).catch(function(e){d.default.debugLog("applePayConfig err: ",e),o({msg:e})})})})}},{key:"getPayUserTotal",value:function(){var r=this,i=this;return new Promise(function(t,e){var n=l.default.getGameConfig(),o={do:"getUserPayTotal",user_name:f.default.getStorageUserInfo("username"),iosAppid:n.APPID_IOS,agent_id:n.AGENT_ID,site_id:n.SITE_ID,pf:r.checkEnv()},a=s.default.getItem("adQuery");a.agent_id&&a.site_id&&(o.agent_id=a.agent_id,o.site_id=a.site_id),c.default.api("PAY_XCX",o).then(function(e){i.userPayTotal=e.payTotal,t(e)}).catch(function(e){})})}},{key:"makeOrder",value:function(a){var r=this;return new Promise(function(t,n){var e=l.default.getGameConfig(),o={do:"makeOrder",appid:e.APPID,accessToken:f.default.getStorageUserInfo("access_token"),uid:f.default.getStorageUserInfo("uid"),user_name:f.default.getStorageUserInfo("username"),role_id:a.role_id,role_name:a.role_name,zone_id:a.server_id,pf:r.checkEnv()?"android":"ios",amt:a.money,ext:a.ext,ad_click_id:e.ad_notify_data.gdt_vid,weixinadinfo:e.ad_notify_data.weixinadinfo,scene:e.ad_notify_data.scene,referrerInfo:JSON.stringify(e.ad_notify_data.referrerInfo),platform:r.checkEnv()};c.default.api("PAY",o).then(function(e){r.orderId=e.orderId,r.orderData=a,t(e.orderId)}).catch(function(e){c.default.errorReport("pay",{msg:"米大师创建订单失败",error:e,orderInfo:{accessToken:f.default.getStorageUserInfo("access_token"),uid:f.default.getStorageUserInfo("uid"),user_name:f.default.getStorageUserInfo("username"),role_id:a.role_id,role_name:a.role_name,zone_id:a.server_id,amt:a.money,ext:a.ext}}),n(e)})})}},{key:"wxPay",value:function(){var a=this,r=1,i={code:201,wxPay:r,msg:"",miMsg:""};return new Promise(function(e,t){var n=s.default.getItem("payConfig"),o="android"===a.checkEnv()?"android":"windows";wx.requestMidasPayment({mode:"game",env:"dev"===n.env?1:0,offerId:n.offer_id,currencyType:"CNY",platform:o,buyQuantity:a.orderData.money/n.rate,zoneId:n.zoneId?n.zoneId:1,success:function(t){r=2,a.confirmPay().then(function(){i.code=200,i.msg="success"}).catch(function(e){i.code=300,i.msg="error",i.miMsg=u.default.errorDist[t.errCode]?u.default.errorDist[t.errCode]:"支付异常",c.default.errorReport("pay_callback",{msg:"支付--发货 : "+e,data:i,error:JSON.stringify({res:t}),orderInfo:a.orderData}).then(function(){}).catch(function(e){})}),e(i)},fail:function(e){r=3},complete:function(e){i.miMsg=u.default.errorDist[e.errCode]?u.default.errorDist[e.errCode]:"支付异常",c.default.errorReport("complete-pay",{msg:u.default.errorDist[e.errCode]?u.default.errorDist[e.errCode]:"支付异常",data:i,error:JSON.stringify({res:e}),orderInfo:a.orderData}).then(function(){}).catch(function(e){})}})})}},{key:"confirmPay",value:function(){var n=this;return new Promise(function(e,t){n.payCallback().then(function(e){wx.showToast({title:"道具发送成功",icon:"success",duration:2e3})}).catch(function(e){t(e)})})}},{key:"payCallback",value:function(){var o=this;return new Promise(function(t,n){var e={do:"callback",appid:l.default.getGameConfig().APPID,accessToken:f.default.getStorageUserInfo("access_token"),uid:f.default.getStorageUserInfo("uid"),user_name:f.default.getStorageUserInfo("user_name"),role_id:o.orderData.role_id,role_name:o.orderData.role_name,role_level:o.orderData.role_level,zone_id:1,pf:o.checkEnv(),amt:o.orderData.money,ext:o.orderData.ext,orderId:o.orderId};c.default.api("PAY_CALL",e).then(function(e){t(e)}).catch(function(e){n(e)})})}},{key:"getEnv",value:function(){var t=this;r.default.getSystemInfo("platform").then(function(e){t.env=e})}},{key:"checkEnv",value:function(){var e=this.env;return"devtools"==e&&(e="windows"),e}},{key:"buildParams",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=[];for(var n in e)t.push(n+"="+e[n]);return t.join("&")}},{key:"customerNewPay",value:function(u){var c=this;return new Promise(function(r,i){c.makeXcxOrder(u.money,u).then(function(t){var e=s.default.getItem("payConfig"),n=l.default.getGameConfig(),o={orderId:t,uid:f.default.getStorageUserInfo("uid"),user_name:f.default.getStorageUserInfo("username"),time:Math.floor((new Date).getTime()/1e3)},a="https://pay.tanwan.com/pay/wxXyxJsPay.php?"+c.buildParams(o);e.hasOwnProperty("tips")&&"undefined"!==e.tips?a=a+"\n\n"+e.tips:a+="\n\n点击上方链接即可充值。",wx.setClipboardData({data:a,success:function(e){console.log("tips:",a),wx.getClipboardData({success:function(e){wx.showModal({title:"充值教程",content:"充值链接已复制到剪贴板，请前往客服中心。如果没有自动收到订单入口请粘贴并发送剪贴板内容获取支付入口链接。",showCancel:!0,success:function(e){e.confirm?c.useCustom(n,t,u.money):i("取消支付")},fail:function(e){i("取消支付"),c.useCustom(n,t,u.money)}})}})},fail:function(e){console.log("--- setClipboardData : err",e),c.useCustom(n,t,u.money)}}),r()}).catch(function(e){i(e)})})}},{key:"useCustom",value:function(e,t,n){var o=this,a={type:"orderInfo",user_name:f.default.getStorageUserInfo("username"),appid:e.APPID,payAppid:e.APPID_IOS,uid:f.default.getStorageUserInfo("uid"),orderId:t};a.ad_click_id=e.ad_notify_data.gdt_vid,a.weixinadinfo=e.ad_notify_data.weixinadinfo,a.gameName=e.GAME_NAME+"-官方正版",a.desc="充值"+n+"元",wx.openCustomerServiceConversation({showMessageCard:!0,sendMessageTitle:e.GAME_NAME+"-官方正版.充值"+n+"元",sessionFrom:JSON.stringify(a),sendMessageImg:"https://image.693975.com/wegame/pay.png",sendMessagePath:"index?"+JSON.stringify(a),success:function(e){console.log("customer res: ",e),o.getPayUserTotal().then()},fail:function(e){console.log("customer err: ",e)}})}},{key:"xcxPay",value:function(t,n,o){this.makeXcxOrder(n.money,n).then(function(e){return wx.navigateToMiniProgram({appId:t,path:"pages/pay/pay?amt="+n.money+"&orderId="+e+"&desc="+n.product_desc,extraData:{foo:"bar"},envVersion:1===o?"release":"trial",success:function(e){}}),Promise.resolve()}).catch(function(e){return wx.showModal({title:"提示",content:e.msg,showCancel:!1}),d.default.debugLog("Tanwan--创建订单失败（Orders Error）---\x3e",e),Promise.reject(e)})}},{key:"makeXcxOrder",value:function(r,i){var u=this;return new Promise(function(t,n){var e=l.default.getGameConfig(),o={do:"createPreOrder",gold_num:i.game_fee,money:r,iosAppid:e.APPID_IOS,role_id:i.role_id,role_name:i.role_name,server_id:i.server_id,server_name:i.server_name,user_name:f.default.getStorageUserInfo("username"),ext:i.ext,mtype:1,product_id:i.product_id,product_name:i.product_name,agent_id:e.AGENT_ID,site_id:e.SITE_ID,pf:u.checkEnv(),ad_click_id:e.ad_notify_data.gdt_vid,weixinadinfo:e.ad_notify_data.weixinadinfo,scene:e.ad_notify_data.scene,referrerInfo:JSON.stringify(e.ad_notify_data.referrerInfo)},a=s.default.getItem("adQuery");a.agent_id&&a.site_id&&(o.agent_id=a.agent_id,o.site_id=a.site_id),c.default.api("PAY_XCX",o).then(function(e){t(e.orderId)}).catch(function(e){d.default.debugLog("Tanwan--创建小程序订单失败（API Error）---\x3e",e),c.default.errorReport("pay",{msg:"创建客服订单失败",res:e,payParams:i}),n("调用客服下单失败")})})}}]),e}();t.default=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),r=n(5);(o=r)&&o.__esModule;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"create",value:function(o,a){var r=wx.createCanvas("gameCanvas"),i=r.getContext("2d"),u=wx.createImage();u.src="img/cbg.png",u.onload=function(){var e=u.width,t=u.height;r.width=e,r.height=t,i.rect(0,0,e,t),i.drawImage(u,0,0,e,t),i.font="20px Arial",i.textBaseline="top",i.fillStyle="#cd0808",i.fillText("账号："+o,120,230),i.fillText("密码："+a,175,268);var n=r.toDataURL("image/png");r.toTempFilePath({x:0,y:0,width:e,height:t,destWidth:380,destHeight:380,fileType:"png",quality:"1.0",success:function(e){wx.createImage().src=n,wx.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(){wx.previewImage({current:"",urls:[n]}),wx.showToast({title:"账号升级成功、账号密码已生成图片自动保存至相册！",duration:2e3})}})}})}}}]),e}();t.default=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),a=l(n(4)),r=l(n(13)),i=l(n(0)),u=l(n(7)),c=l(n(14)),s=l(n(1)),f=l(n(5)),d=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}var g={gdt_vid:!1,weixinadinfo:!1,scene:!1,referrerInfo:!1,site_id:!1,agent_id:!1},h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.version="1.0.0",this.subscrStatus=!1}return o(e,[{key:"init",value:function(e,t){var n,o;n=wx.getLaunchOptionsSync(),o=n.query,i.default.destroyItem("adQuery"),i.default.destroyItem("launchScene"),o.agent_id&&o.site_id&&i.default.setItem("adQuery",{agent_id:o.agent_id,site_id:o.site_id}),i.default.setItem("launchScene",n.scene?n.scene:0),o.gdt_vid&&o.weixinadinfo&&(g.gdt_vid=o.gdt_vid,g.weixinadinfo=o.weixinadinfo,g.scene=n.scene,g.referrerInfo=n.referrerInfo,g.wx_agent_id=o.agent_id,g.wx_site_id=o.site_id,g.plat_put=o.plat_put,f.default.ad_notify_data.scene=n.scene,f.default.wxAdInfo=g,f.default.ad_notify_data.gdt_vid=g.gdt_vid,f.default.ad_notify_data.weixinadinfo=g.weixinadinfo,f.default.ad_notify_data.referrerInfo=g.referrerInfo),o.sdkInitWx=1,console.log(o),f.default.query=JSON.stringify(o),s.default.setGameConfig(f.default),a.default.reportAdInfo(g,!1),a.default.reportTouTAdInfo(f.default.query,!1),c.default.checkShareConfig(),e()}},{key:"sdkDebugLog",value:function(){u.default.DEBUG=!0}},{key:"setMenuShare",value:function(e){c.default.onShareAppMessage(e).then(function(){return Promise.resolve()}).catch(function(e){wx.onShareAppMessage(function(){return c.default.shareConfig})})}},{key:"shareAppMessage",value:function(e){c.default.makeShare(e)}},{key:"entryGame",value:function(e,t){wx.showToast({title:"正在登陆",icon:"loading"}),a.default.checkLoginStatus({adData:g,success:function(){a.default.reportAdInfo(g,!0),a.default.reportTouTAdInfo(f.default.query,!0),r.default.getPayConfig(),r.default.getUserPayLimit(),c.default.showShareMenu(),c.default.onShareAppMessage({title:"",imageUrl:"",ext:""}).then(function(e){}).catch(function(e){}),e()},fail:function(e){t(e)}})}},{key:"loginUserInfo",value:function(e){"function"==typeof e&&e(r.default.loginUserInfo())}},{key:"dataReport",value:function(e){return new Promise(function(t,n){r.default.dataReport(e).then(function(e){t()}).catch(function(e){n(e)})})}},{key:"bindPhoneSendCode",value:function(e){return new Promise(function(t,n){r.default.bindPhoneSendCode(e).then(function(e){t()}).catch(function(e){n(e)})})}},{key:"bindPhone",value:function(e,o){return new Promise(function(t,n){r.default.bindPhone(e,o).then(function(e){t()}).catch(function(e){n(e)})})}},{key:"makePayment",value:function(e){return new Promise(function(t,n){r.default.makePayment(e).then(function(e){t()}).catch(function(e){n(e)})})}},{key:"connectCustomer",value:function(e){r.default.connectCustomer(e.success,e.fail)}},{key:"checkIosPay",value:function(e){return r.default.getIosPaySwitch(e)}},{key:"subscribe",value:function(e,t){var n=this;n.subscrStatus=!0,a.default.subscribe(e).then(function(e){if(n.subscrStatus=!1,"function"!=typeof t)return e;t(e)}).catch(function(e){if(n.subscrStatus=!1,console.log("errrrr : ",e),"function"!=typeof t)return e;t(e)})}},{key:"msgCheck",value:function(e){return new Promise(function(t,n){r.default.msgCheck(e).then(function(e){t(e)}).catch(function(e){n(e)})})}},{key:"customerService",value:function(){wx.openCustomerServiceConversation({showMessageCard:!0,sendMessageTitle:f.default.GAME_NAME,sessionFrom:"onlineService",sendMessagePath:"index?"+JSON.stringify({type:"onlineService"}),success:function(e){console.log("customer res: ",e)},fail:function(e){console.log("customer err: ",e)}})}},{key:"checkToken",value:function(){return new Promise(function(e,t){a.default.checkLoginStatus({adData:g,success:function(){e(r.default.loginUserInfo())},fail:function(e){t(e)}})})}},{key:"retSetUserInfo",value:function(){return a.default.destroyStorageUserInfo(),new Promise(function(t,n){a.default.login(g).then(function(e){i.default.setItem("sdk_login_time",Date.parse(new Date)/1e3),a.default.setStorageUserInfo(e),t(r.default.loginUserInfo())}).catch(function(e){n()})})}},{key:"saveImage",value:function(e,t){d.default.create(e,t)}}]),e}();t.default=new h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="https://www.tanwan.com/api/xyx",a="https://pay.tanwan.com",r={LOGIN:o+"/authorized.php",STATUS:o+"/loginStatus.php",ERROR_REPORT:o+"/errorLog.php",SHARE_CONFIG:o+"/shareConfig.php",AD_NOTIFY:o+"/adNotify.php",BIND_PHONE:o+"/bindPhone.php",REPORT_DATA:"https://msdk.tanwan.com/iosLog.php",PAY:a+"/api/notify/midas.php",PAY_CALL:"https://payapi.tanwan.com/api/notify/midas.php",PAY_XCX:a+"/api/wxxcx/Api.php",SUBSCRIBE:o+"/subscribe.php",MSG_CHECK:o+"/msgCheck.php"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={errorDist:{"-1":"系统失败","-2":"支付取消","-15001":"虚拟支付接口错误码，缺少参数","-15002":"虚拟支付接口错误码，参数不合法","-15003":"虚拟支付接口错误码，订单重复","-15004":"虚拟支付接口错误码，后台错误","-15005":"虚拟支付接口错误码，appId权限被封禁","-15006":"虚拟支付接口错误码，货币类型不支持","-15007":"虚拟支付接口错误码，订单已支付","-15009":"虚拟支付接口错误码，由于健康系统限制，本次支付已超过限额（这种错误情况会有默认弹窗提示）",1:"用户取消支付",2:"请勿在支付未完成、再次拉起支付",3:"使用GooglePlay支付，请安装GooglePlay",4:"用户操作系统支付状态异常",5:"操作系统错误",6:"其他错误",1e3:"支付参数错误",1003:"米大师Portal错误"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),s=u(n(0)),f=u(n(2)),d=u(n(4)),i=u(n(8)),a=u(n(3)),l=u(n(1)),r=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.version="1.0.0",this.payStatue=!1,this.paySwitch=!1}return o(e,[{key:"checkPlatPaySwitch",value:function(e,t){var n=e.pay_switch[t];if(1==n.switch){var o=Math.floor((new Date).getTime()/1e3),a=d.default.getStorageUserInfo("reg_time");if(i.default.userPayTotal>n.pay_total&&o-a>=86400*n.reg_day_limit)return!1}return!0}},{key:"makePayment",value:function(a){var r=this;return new Promise(function(n,o){if(!0===r.payStatue)return wx.showToast({title:"请勿重复点击充值",icon:"error",duration:2e3}),o();r.payStatue=!0,6248==l.default.getGameConfig().APPID&&(a.game_fee=100*a.money),6590==l.default.getGameConfig().APPID&&(a.game_fee=100*a.money),d.default.checkLoginStatus({success:function(){i.default.getPayConfig().then(function(e){var t=e.pay_switch.xcx_appid;r.checkPlatPaySwitch(e,i.default.checkEnv())?"ios"===i.default.checkEnv()?r.getIosPaySwitch(a.role_level)?(r.payStatue=!1,"undefined"!==t&&-1!==t&&"-1"!==t?i.default.xcxPay(t,a,e.pay_switch.env):i.default.customerNewPay(a).then(function(){n()}).catch(function(e){o(e)})):(r.payStatue=!1,wx.showModal({title:"发起支付失败",content:"由于政策影响，支付功能暂不可用",showCancel:!1}),o({msg:"由于政策影响，支付功能暂不可用"})):(r.payStatue=!1,d.default.checkSession().then(function(){i.default.makeOrder(a).then(function(e){i.default.wxPay().then(function(e){r.payStatue=!1,n({info:e,msg:"wechat pay success"})}).catch(function(e){o(e)})}).catch(function(e){o(e)})}).catch(function(e){o(e)})):(r.payStatue=!1,wx.showModal({content:"请点击“超级vip”扫码或添加专属客服QQ，获取您的服务",confirmColor:"#FF0033",showCancel:!1,success:function(){o(i.default.checkEnv()+"已经关闭充值")},fail:function(){o("微信程序异常")}}))}).catch(function(e){r.payStatue=!1,wx.showModal({title:"提示",content:e,showCancel:!0}),o(e)})},fail:function(e){wx.showModal({title:"提示",content:e,showCancel:!0}),o(e)}})})}},{key:"loginUserInfo",value:function(){var e=d.default.getUserInfo();e.appid=l.default.getGameConfig().APPID;var t=wx.getLaunchOptionsSync().query;return e.share_ext=t||"",e}},{key:"getPayConfig",value:function(){i.default.getPayConfig().then(function(e){}).catch(function(e){})}},{key:"getUserPayLimit",value:function(){i.default.getPayUserTotal().then(function(e){}).catch(function(e){})}},{key:"dataReport",value:function(c){return new Promise(function(r,i){["data_type","server_id","server_name","role_id","role_name","role_level","role_currency"].forEach(function(e){if(void 0===c[e])return i("invalid "+e)});var u=l.default.getGameConfig();a.default.getSystemInfo().then(function(e){var t={appid:u.APPID,dataType:c.data_type,serverID:c.server_id,serverName:c.server_name,userid:d.default.getStorageUserInfo("uid"),roleID:c.role_id,roleName:c.role_name,roleLevel:c.role_level,moneyNum:c.role_currency},n={action:"UserInfo",flag:"flag",agent_id:u.AGENT_ID,site_id:u.SITE_ID,mtype:1,systemversion:e.system,mnos:"wifi"===e.networkType?4:0,model:e.model,imei:"none"};if("ios"===e.platform&&(t.appid=u.APPID_IOS),u.ad_notify_data.weixinadinfo.wx_agent_id&&u.ad_notify_data.weixinadinfo.wx_site_id)n.agent_id=u.ad_notify_data.weixinadinfo.wx_agent_id,n.site_id=u.ad_notify_data.weixinadinfo.wx_site_id;else{var o=s.default.getItem("adQuery");o.agent_id&&o.site_id&&(n.agent_id=o.agent_id,n.site_id=o.site_id)}var a=Object.assign(t,n);f.default.report(a).then(function(){r({msg:"success"})}).catch(function(e){i({info:e,msg:"数据上报失败"})})}).catch(function(e){i({info:e,msg:"获取系统信息失败"})})})}},{key:"connectCustomer",value:function(e,t){wx.openCustomerServiceConversation({fail:function(e){t(e)},complete:function(){e()}})}},{key:"bindPhoneSendCode",value:function(n){return new Promise(function(e,t){d.default.sendPhoneCode(n).then(function(){wx.showToast({title:"发送成功",icon:"success",duration:2e3}),e()}).catch(function(e){wx.showToast({title:e.msg,icon:"error",duration:2e3}),t(e)}),e()})}},{key:"bindPhone",value:function(e,o){return new Promise(function(t,n){d.default.bindPhone(e,o).then(function(e){wx.showToast({title:"绑定成功",icon:"success",duration:2e3}),e.o&&1===e.o&&r.default.create(e.a,e.p),d.default.destroyStorageUserInfo(),d.default.login().then(function(e){d.default.setStorageUserInfo(e),t()}).catch(function(e){d.default.checkLoginStatus({success:function(){t()},fail:function(){t()}})})}).catch(function(e){wx.showToast({title:e.msg,icon:"error",duration:2e3}),n(e)})})}},{key:"getIosPaySwitch",value:function(n){var o="ios",e=s.default.getItem("payConfig"),a=this;if(e&&"undefined"!==e){var t=e.pay_switch;t.hasOwnProperty(o)&&1===t.ios.switch&&n>=t.ios.role_level&&(a.paySwitch=!0)}else this.getPayConfig().then(function(e){var t=e.pay_switch;t.hasOwnProperty(o)&&1===t.ios.switch&&n>=t.ios.role_level&&(a.paySwitch=!0)}).catch(function(e){a.paySwitch=!1});return a.paySwitch}},{key:"msgCheck",value:function(e){return new Promise(function(t,n){d.default.serviceCheckMsg(e).then(function(e){1===e.status?t({code:1,msg:"success"}):n({code:e.ret,msg:e.msg})}).catch(function(e){var t={code:-1,msg:"敏感词检测失败"};"undefined"!==e.code&&-2==e.code&&(t.code=-2,t.msg="敏感词非法"),n(t)})})}}]),e}();t.default=new c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),a=c(n(0)),r=c(n(2)),i=c(n(5)),u=c(n(3));function c(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.shareConfig={}}return o(e,[{key:"checkShareConfig",value:function(){var o=this;return new Promise(function(n,e){var t=a.default.getItem("shareConfig");if(!1!==t)return o.shareConfig=t,n();r.default.api("SHARE_CONFIG",{do:"getShareConfig"}).then(function(t){u.default.getSystemInfo("platform").then(function(e){return t.query="ios"===e?i.default.IOS_SHARE_QUERY:i.default.SHARE_QUERY,a.default.setItem("shareConfig",t),o.shareConfig=t,n()})}).catch(function(e){o.shareConfig={title:"",imageUrl:"",query:i.default.SHARE_QUERY},u.default.getSystemInfo("platform").then(function(e){return"ios"===e&&(o.shareConfig.query=i.default.IOS_SHARE_QUERY),n()})})})}},{key:"getShareConfig",value:function(){var e=this;this.checkShareConfig().then(function(){return{title:e.shareConfig.title,imageUrl:e.shareConfig.image,query:i.default.SHARE_QUERY}})}},{key:"showShareMenu",value:function(){wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]})}},{key:"onShareAppMessage",value:function(o){var a=this;return new Promise(function(t,n){a.checkShareConfig().then(function(){o.hasOwnProperty("title")&&o.title&&(a.shareConfig.title=o.title),o.hasOwnProperty("imageUrl")&&o.imageUrl&&(a.shareConfig.imageUrl=o.image);var e="";o.hasOwnProperty("ext")&&o.ext&&(e=o.ext),a.shareConfig.query+="&"+e,wx.onShareAppMessage(function(){return a.shareConfig}),t()}).catch(function(e){n()})})}},{key:"makeShare",value:function(t){var n=this;this.checkShareConfig().then(function(){t.hasOwnProperty("title")&&t.title&&(n.shareConfig.title=t.title),t.hasOwnProperty("imageUrl")&&t.imageUrl&&(n.shareConfig.imageUrl=t.image);var e="";t.hasOwnProperty("ext")&&t.ext&&(e=t.ext),n.shareConfig.query+="&"+e,wx.shareAppMessage(n.shareConfig)})}}]),e}();t.default=new s}]);

export default gameSDK['default'];