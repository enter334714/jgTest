var M=wx.$T;var tepfz7=window.Laya=function(C$99l){var C$99c={__internals:[],__packages:{},__classmap:{Object:Object,Function:Function,Array:Array,String:String},__sysClass:{object:"Object",array:"Array",string:"String",dictionary:"Dictionary"},__propun:{writable:!0,enumerable:!1,configurable:!0},__presubstr:String.prototype.substr,__substr:function(C$99t,C$99e){return 1==arguments.length?C$99c.__presubstr.call(this,C$99t):C$99c.__presubstr.call(this,C$99t,0<C$99e?C$99e:this.length+C$99e)},__init:function(C$99t){C$99t.forEach(function(C$99t){C$99t.__init$&&C$99t.__init$()})},__isClass:function(C$99t){return C$99t&&(C$99t.__isclass||C$99t==Object||C$99t==String||C$99t==Array)},__newvec:function(C$99t,C$99e){var C$99i=[];C$99i.length=C$99t;for(var C$99n=0;C$99n<C$99t;C$99n++)C$99i[C$99n]=C$99e;return C$99i},__extend:function(C$99t,C$99e){for(var C$99i in C$99e){var C$99n,C$99r,C$99s;C$99e.hasOwnProperty(C$99i)&&(C$99r=(C$99n=Object.getOwnPropertyDescriptor(C$99e,C$99i)).get,C$99s=C$99n.set,C$99r||C$99s?C$99r&&C$99s?Object.defineProperty(C$99t,C$99i,C$99n):(C$99r&&Object.defineProperty(C$99t,C$99i,C$99r),C$99s&&Object.defineProperty(C$99t,C$99i,C$99s)):C$99t[C$99i]=C$99e[C$99i])}function yxo0eq(){C$99c.un(this,"constructor",C$99t)}yxo0eq.prototype=C$99e.prototype,C$99t.prototype=new yxo0eq,C$99c.un(C$99t.prototype,"__imps",C$99c.__copy({},C$99e.prototype.__imps))},__copy:function(C$99t,C$99e){if(!C$99e)return null;for(var C$99i in C$99t=C$99t||{},C$99e)C$99t[C$99i]=C$99e[C$99i];return C$99t},__package:function(C$99t,C$99e){if(!C$99c.__packages[C$99t]){C$99c.__packages[C$99t]=!0;var C$99i=C$99l,C$99n=C$99t.split(".");if(1<C$99n.length)for(var C$99r=0,C$99s=C$99n.length-1;C$99r<C$99s;C$99r++)C$99i=C$99i[C$99n[C$99r]]||(C$99i[C$99n[C$99r]]={});C$99i[C$99n[C$99n.length-1]]||(C$99i[C$99n[C$99n.length-1]]=C$99e||{})}},__hasOwnProperty:function(C$99t,C$99e){return C$99e=C$99e||this,Object.hasOwnProperty.call(C$99e,C$99t)||function it9vc$(C$99t,C$99e){if(Object.hasOwnProperty.call(C$99e.prototype,C$99t))return!0;C$99e=C$99e.prototype.__super;return null==C$99e?null:it9vc$(C$99t,C$99e)}(C$99t,C$99e.__class)},__typeof:function(C$99t,C$99e){if(!C$99t||!C$99e)return!1;if(C$99e===String)return"string"==typeof C$99t;if(C$99e===Number)return"number"==typeof C$99t;if(C$99e.__interface__)C$99e=C$99e.__interface__;else if("string"!=typeof C$99e)return C$99t instanceof C$99e;return C$99t.__imps&&C$99t.__imps[C$99e]||C$99t.__class==C$99e},__as:function(C$99t,C$99e){return this.__typeof(C$99t,C$99e)?C$99t:null},__int:function(C$99t){return C$99t?parseInt(C$99t):0},interface:function(C$99t,C$99e){C$99c.__package(C$99t,{});var C$99i=C$99c.__internals,C$99n=C$99i[C$99t]=C$99i[C$99t]||{self:C$99t};if(C$99e){var C$99r=C$99e.split(",");C$99n.extend=[];for(var C$99s=0;C$99s<C$99r.length;C$99s++){var C$99a=C$99r[C$99s];C$99i[C$99a]=C$99i[C$99a]||{self:C$99a},C$99n.extend.push(C$99i[C$99a])}}var C$99o=C$99l,C$99h=C$99t.split(".");for(C$99s=0;C$99s<C$99h.length-1;C$99s++)C$99o=C$99o[C$99h[C$99s]];C$99o[C$99h[C$99h.length-1]]={__interface__:C$99t}},class:function(C$99t,C$99e,C$99i,C$99n){C$99i&&C$99c.__extend(C$99t,C$99i),C$99e&&(C$99c.__package(C$99e,C$99t),C$99c.__classmap[C$99e]=C$99t,0<C$99e.indexOf(".")?0==C$99e.indexOf("laya.")&&(C$99r=C$99e.split("."),C$99n=C$99n||C$99r[C$99r.length-1],C$99c[C$99n]&&console.log("Warning!,this class["+C$99n+"] already exist:",C$99c[C$99n]),C$99c[C$99n]=C$99t):"Main"==C$99e?C$99l.Main=C$99t:"MainWX"==C$99e?C$99l.MainWX=C$99t:(C$99c[C$99e]&&console.log("Error!,this class["+C$99e+"] already exist:",C$99c[C$99e]),C$99c[C$99e]=C$99t));var C$99r=C$99c.un,C$99n=C$99t.prototype;C$99r(C$99n,"hasOwnProperty",C$99c.__hasOwnProperty),C$99r(C$99n,"__class",C$99t),C$99r(C$99n,"__super",C$99i),C$99r(C$99n,"__className",C$99e),C$99r(C$99t,"__super",C$99i),C$99r(C$99t,"__className",C$99e),C$99r(C$99t,"__isclass",!0),C$99r(C$99t,"super",function(C$99t){this.__super.call(C$99t)})},imps:function(C$99t,C$99e){if(!C$99e)return null;var C$99r=C$99t.__imps||C$99c.un(C$99t,"__imps",{});for(var C$99i in C$99e)!function $z7dfp(C$99t){var C$99e,C$99i;if((C$99e=C$99c.__internals[C$99t])&&(C$99r[C$99t]=!0,C$99i=C$99e.extend))for(var C$99n=0;C$99n<C$99i.length;C$99n++)$z7dfp(C$99i[C$99n].self)}(C$99i)},superSet:function(C$99t,C$99e,C$99i,C$99n){C$99t=C$99t.prototype["_$set_"+C$99i];C$99t&&C$99t.call(C$99e,C$99n)},superGet:function(C$99t,C$99e,C$99i){C$99t=C$99t.prototype["_$get_"+C$99i];return C$99t?C$99t.call(C$99e):null},getset:function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99t?(C$99n&&(C$99e["_$GET_"+C$99i]=C$99n),C$99r&&(C$99e["_$SET_"+C$99i]=C$99r)):(C$99n&&C$99c.un(C$99e,"_$get_"+C$99i,C$99n),C$99r&&C$99c.un(C$99e,"_$set_"+C$99i,C$99r)),C$99n&&C$99r?Object.defineProperty(C$99e,C$99i,{get:C$99n,set:C$99r,enumerable:!1,configurable:!0}):(C$99n&&Object.defineProperty(C$99e,C$99i,{get:C$99n,enumerable:!1,configurable:!0}),C$99r&&Object.defineProperty(C$99e,C$99i,{set:C$99r,enumerable:!1,configurable:!0}))},static:function(C$99i,C$99n){for(var C$99r=0,C$99t=C$99n.length;C$99r<C$99t;C$99r+=2)"length"==C$99n[C$99r]?C$99i.length=C$99n[C$99r+1].call(C$99i):function(){var C$99e=C$99n[C$99r],C$99t=C$99n[C$99r+1];Object.defineProperty(C$99i,C$99e,{get:function(){return delete this[C$99e],this[C$99e]=C$99t.call(this)},set:function(C$99t){delete this[C$99e],this[C$99e]=C$99t},enumerable:!0,configurable:!0})}()},un:function(C$99t,C$99e,C$99i){return C$99i=C$99i||C$99t[C$99e],C$99c.__propun.value=C$99i,Object.defineProperty(C$99t,C$99e,C$99c.__propun),C$99i},uns:function(C$99e,C$99t){C$99t.forEach(function(C$99t){C$99c.un(C$99e,C$99t)})}};return C$99l.console=C$99l.console||{log:function(){}},C$99l.trace=C$99l.console.log,Error.prototype.throwError=function(){throw arguments},Object.defineProperty(Array.prototype,"fixed",{enumerable:!1}),C$99c}(window,document);window,document,tepfz7.un,tepfz7.uns,tepfz7.static,tepfz7.class,tepfz7.getset,tepfz7.__newvec,function(C$99s,C$99r,C$99b){C$99b.un,C$99b.uns;var C$99a=C$99b.static,C$99o=C$99b.class,C$99t=C$99b.getset;C$99b.__newvec,C$99b.interface("laya.runtime.IMarket"),C$99b.interface("laya.filters.IFilter"),C$99b.interface("laya.display.ILayout"),C$99b.interface("laya.resource.IDispose"),C$99b.interface("laya.runtime.IPlatform"),C$99b.interface("laya.resource.IDestroy"),C$99b.interface("laya.runtime.IConchNode"),C$99b.interface("laya.filters.IFilterAction"),C$99b.interface("laya.runtime.ICPlatformClass"),C$99b.interface("laya.resource.ICreateResource"),C$99b.interface("laya.runtime.IConchRenderObject"),C$99b.interface("laya.runtime.IPlatformClass","laya.runtime.IPlatform");C$99o(y0qox,"laya.utils.RunDriver"),y0qox.FILTER_ACTIONS=[],y0qox.pixelRatio=-1,y0qox._charSizeTestDiv=null,y0qox.now=function(){return Date.now()},y0qox.getWindow=function(){return C$99s},y0qox.getPixelRatio=function(){var C$99t;return y0qox.pixelRatio<0&&(C$99t=(C$99t=C$99S.context).backingStorePixelRatio||C$99t.webkitBackingStorePixelRatio||C$99t.mozBackingStorePixelRatio||C$99t.msBackingStorePixelRatio||C$99t.oBackingStorePixelRatio||C$99t.backingStorePixelRatio||1,(y0qox.pixelRatio=(C$99S.window.devicePixelRatio||1)/C$99t)<1&&(y0qox.pixelRatio=1)),y0qox.pixelRatio},y0qox.getIncludeStr=function(C$99t){return null},y0qox.createShaderCondition=function(C$99t){return C$99b._runScript("(function() {return "+C$99t+";})")},y0qox.fontMap=[],y0qox.measureText=function(C$99t,C$99e){var C$99i=y0qox.hanzi.test(C$99t);if(C$99i&&y0qox.fontMap[C$99e])return y0qox.fontMap[C$99e];var C$99n=C$99S.context;C$99n.font=C$99e;C$99n=C$99n.measureText(C$99t);return C$99n=C$99n||{width:16,height:16},C$99i&&(y0qox.fontMap[C$99e]=C$99n),C$99n},y0qox.getWebGLContext=function(C$99t){},y0qox.beginFlush=function(){},y0qox.endFinish=function(){},y0qox.addToAtlas=null,y0qox.flashFlushImage=function(C$99t){},y0qox.drawToCanvas=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=C$99gt.create("2D"),C$99i=new C$99N(C$99i,C$99n,C$99a);return C$99O.renders[C$99e]._fun(C$99t,C$99i,C$99r,C$99s),C$99a},y0qox.createParticleTemplate2D=null,y0qox.createGLTextur=null,y0qox.createWebGLContext2D=null,y0qox.changeWebGLSize=function(C$99t,C$99e){},y0qox.createRenderSprite=function(C$99t,C$99e){return new C$99O(C$99t,C$99e)},y0qox.createFilterAction=function(C$99t){return new C$99C},y0qox.createGraphics=function(){return new C$99d},y0qox.clear=function(C$99t){C$99M._context.ctx.clear()},y0qox.cancelLoadByUrl=function(C$99t){},y0qox.clearAtlas=function(C$99t){},y0qox.isAtlas=function(C$99t){return!1},y0qox.addTextureToAtlas=function(C$99t){},y0qox.getTexturePixels=function(C$99t,C$99e,C$99i,C$99n,C$99r){return null},y0qox.skinAniSprite=function(){return null},y0qox.update3DLoop=function(){},C$99a(y0qox,["hanzi",function(){return this.hanzi=new RegExp("^[\u4e00-\u9fa5]$")}]);var C$99m=y0qox,C$99h=(C$99t(1,C$99b,"alertGlobalError",null,function(C$99t){var C$99s=0;C$99S.window.onerror=C$99t?function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99s++<5&&C$99r&&alert(C$99r.stack||C$99r)}:null}),C$99b.init=function(C$99t,C$99e,C$99i){for(var C$99n=[],C$99r=2,C$99s=arguments.length;C$99r<C$99s;C$99r++)C$99n.push(arguments[C$99r]);if(!C$99b._isinit){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=C$99b._arrayBufferSlice),C$99b._isinit=!0,C$99S.__init__(),C$99F.__init__(),C$99d.__init__(),C$99b.timer=new C$99K,C$99b.scaleTimer=new C$99K,C$99b.loader=new C$99lt,C$99tt.__init__(),C$99r=0;for(var C$99a=C$99n.length;C$99r<C$99a;C$99r++)C$99n[C$99r].enable&&C$99n[C$99r].enable();return C$99_.__init__(),C$99c.__init__(),C$99V.__init__(),C$99U.beginCheck(),C$99b._currentStage=C$99b.stage=new C$99mt,C$99b.stage.conchModel&&C$99b.stage.conchModel.setRootNode(),C$99b._getUrlPath(),C$99b.render=new C$99M(0,0),C$99b.stage.size(C$99t,C$99e),C$99O.__init__(),C$99x.__init__(),C$99y.instance.__init__(C$99b.stage,C$99M.canvas),C$99xt.__init__(),C$99L.autoStopMusic=!0,C$99z.__init__(),C$99M.canvas}},C$99b._getUrlPath=function(){var C$99t=C$99S.window.location,C$99e=C$99t.pathname;C$99e=C$99e&&":"==C$99e.charAt(2)?C$99e.substring(1):C$99e,C$99B.rootPath=C$99B.basePath=C$99B.getPath("file:"==C$99t.protocol?C$99e:C$99t.protocol+"//"+C$99t.host+C$99t.pathname)},C$99b._arrayBufferSlice=function(C$99t,C$99e){C$99e=new Uint8Array(this,C$99t,C$99e-C$99t),C$99t=new Uint8Array(C$99e.length);return C$99t.set(C$99e),C$99t.buffer},C$99b._runScript=function(C$99t){return C$99S.window[C$99b._evcode](C$99t)},C$99b.stage=null,C$99b.timer=null,C$99b.scaleTimer=null,C$99b.loader=null,C$99b.version="1.8.6",C$99b.render=null,C$99b._currentStage=null,C$99b._isinit=!1,C$99b.isDebug=!1,C$99b.MiniAdpter={init:function(){C$99s.navigator&&C$99s.navigator.userAgent&&-1<C$99s.navigator.userAgent.indexOf("MiniGame")&&console.error("\u8bf7\u5148\u5f15\u7528\u5c0f\u6e38\u620f\u9002\u914d\u5e93laya.wxmini.js,\u8be6\u7ec6\u6559\u7a0b\uff1ahttps://ldc.layabox.com/doc/?nav=zh-ts-5-0-0")}},C$99a(C$99b,["conchMarket",function(){return this.conchMarket=C$99s.conch?conchMarket:null},"PlatformClass",function(){return this.PlatformClass=C$99s.PlatformClass},"_evcode",function(){return this._evcode="e"+String.fromCharCode(118)+"al"}]),C$99o(vc9i,"Config"),vc9i.WebGLTextCacheCount=500,vc9i.atlasEnable=!1,vc9i.showCanvasMark=!1,vc9i.animationInterval=50,vc9i.isAntialias=!1,vc9i.isAlpha=!1,vc9i.premultipliedAlpha=!0,vc9i.isStencil=!0,vc9i.preserveDrawingBuffer=!1,vc9i),C$99l=(C$99o(f7d$,"laya.events.EventDispatcher"),(C$99e=f7d$.prototype).hasListener=function(C$99t){return!(!this._events||!this._events[C$99t])},C$99e.getListener=function(C$99t){return this._events?this._events[C$99t]:null},C$99e.event=function(C$99t,C$99e){if(!this._events||!this._events[C$99t])return!1;var C$99i=this._events[C$99t];if(C$99i.lock)C$99i.queue||(C$99i.queue=[]),C$99i.queue.push(C$99e);else{var C$99n;for(C$99i.lock=!0,C$99i.cursor=C$99i.head;C$99i.cursor;)(C$99n=C$99i.cursor).recover?(C$99i.head=C$99i.tail=C$99i.cursor=null,console.error("node is recover\uff1a"+C$99n.id)):(C$99i.cursor=C$99n.next,C$99n.once&&f7d$.delNode(C$99i,C$99n),C$99n.method&&(null!=C$99e?C$99n.args?C$99n.method.apply(C$99n.caller,C$99n.args.concat(C$99e)):C$99e instanceof Array?C$99n.method.apply(C$99n.caller,C$99e):C$99n.caller?C$99n.method.call(C$99n.caller,C$99e):C$99b.recordError("\u4e8b\u4ef6\u6d3e\u53d1\u9519\u8bef","node.caller:"+C$99n.caller+"node.method:"+C$99n.method+"data:"+C$99e+"node.prev"+C$99n.prev):C$99n.method.apply(C$99n.caller,C$99n.args)),C$99n.once&&f7d$.recoverHandler(C$99n));C$99i.lock=!1,!C$99i.head&&this._events&&this._events[C$99t]==C$99i&&delete this._events[C$99t],C$99i.queue&&C$99i.queue.length&&this.event(C$99t,C$99i.queue.shift())}return!0},C$99e.on=function(C$99t,C$99e,C$99i,C$99n){return this._createListener(C$99t,C$99e,C$99i,C$99n,!1)},C$99e.once=function(C$99t,C$99e,C$99i,C$99n){return this._createListener(C$99t,C$99e,C$99i,C$99n,!0)},C$99e._createListener=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){(C$99s=void 0===C$99s?!0:C$99s)&&this.off(C$99t,C$99e,C$99i,C$99r);C$99s=f7d$.createHandler(C$99e||this,C$99i,C$99n,C$99r);this._events||(this._events={});C$99e=this._events,C$99i=C$99e[C$99t];return C$99i?C$99i.tail?(C$99s.prev=C$99i.tail,C$99i.tail.next=C$99s,C$99i.tail=C$99s):C$99i.head=C$99i.tail=C$99s:C$99e[C$99t]={head:C$99s,tail:C$99s,cursor:null,lock:!1},this},C$99e.off=function(C$99t,C$99e,C$99i,C$99n){if(void 0===C$99n&&(C$99n=!1),!this._events||!this._events[C$99t])return this;for(var C$99r=this._events[C$99t],C$99s=C$99r.head;C$99s;){if((!C$99e||C$99s.caller===C$99e)&&C$99s.method===C$99i&&(!C$99n||C$99s.once)){f7d$.delNode(C$99r,C$99s),C$99r.cursor==C$99s&&(C$99r.cursor=C$99s.next),f7d$.recoverHandler(C$99s);break}C$99s=C$99s.next}return this},C$99e.offAll=function(C$99t){var C$99e=this._events;if(!C$99e)return this;if(C$99t)this._recoverHandlers(C$99e[C$99t]),delete C$99e[C$99t];else{for(var C$99i in C$99e)this._recoverHandlers(C$99e[C$99i]);this._events=null}return this},C$99e._recoverHandlers=function(C$99t){if(C$99t){for(var C$99e=C$99t.head;C$99e;){f7d$.delNode(C$99t,C$99e);var C$99i=C$99e.next;f7d$.recoverHandler(C$99e),C$99e=C$99i}C$99t.cursor=null}},C$99e.isMouseEvent=function(C$99t){return f7d$.MOUSE_EVENTS[C$99t]},f7d$.MOUSE_EVENTS={rightmousedown:!0,rightmouseup:!0,rightclick:!0,mousedown:!0,mouseup:!0,mousemove:!0,mouseover:!0,mouseout:!0,click:!0,doubleclick:!0},f7d$.__init$=function(){Object.defineProperty(laya.events.EventDispatcher.prototype,"_events",{enumerable:!1,writable:!0})},f7d$.delNode=function(C$99t,C$99e){C$99e.prev?C$99e.prev.next=C$99e.next:C$99t.head=C$99e.next,C$99e.next?C$99e.next.prev=C$99e.prev:C$99t.tail=C$99e.prev},f7d$.createHandler=function(C$99t,C$99e,C$99i,C$99n){var C$99r=500<f7d$._freeHandler.length?f7d$._freeHandler.shift():null;if(C$99r)if(C$99r.recover)C$99r.recover=!1,C$99r.caller=C$99t,C$99r.method=C$99e,C$99r.args=C$99i,C$99r.once=C$99n;else{var C$99s="";try{arguments.propertyIsEnumerable.caller}catch(C$99t){C$99s=C$99t.stack}var C$99a=C$99r.caller?(C$99r.caller.__proto__&&C$99r.caller.__proto__.constructor&&C$99r.caller.__proto__.constructor.name)+"|"+C$99r.caller.__className+"|"+C$99r.caller.name:"",C$99o=C$99r.method?C$99r.method.name:"";C$99b.recordError("EventDispatcher\u91cd\u590d\u521b\u5efa","caller="+C$99a+"  method="+C$99o+"  stack="+C$99s),C$99r={id:++f7d$._nodeCount,caller:C$99t,method:C$99e,args:C$99i,once:C$99n,recover:!1}}else C$99r={id:++f7d$._nodeCount,caller:C$99t,method:C$99e,args:C$99i,once:C$99n,recover:!1};return C$99r.prev=C$99r.next=null,C$99r},f7d$.recoverHandler=function(C$99t){if(C$99t.recover){if(f7d$._errorCount<5){f7d$._errorCount++;var C$99e="";try{arguments.propertyIsEnumerable.caller}catch(C$99t){C$99e=C$99t.stack}var C$99i=C$99t.caller?(C$99t.caller.__proto__&&C$99t.caller.__proto__.constructor&&C$99t.caller.__proto__.constructor.name)+"|"+C$99t.caller.__className+"|"+C$99t.caller.name:"",C$99n=C$99t.method?C$99t.method.name:"";C$99b.recordError("EventDispatcher\u91cd\u590d\u56de\u6536","id="+C$99t.id+"  caller="+C$99i+"  method="+C$99n+"  stack="+C$99e)}C$99t.caller=C$99t.method=C$99t.args=C$99t.prev=null}else C$99t.recover=!0,C$99t.caller=C$99t.method=C$99t.args=C$99t.prev=C$99t.next=null,f7d$._freeHandler&&f7d$._freeHandler.length<3e3&&f7d$._freeHandler.push(C$99t)},f7d$._freeHandler=[],f7d$._nodeCount=0,f7d$._errorCount=0,f7d$),C$99g=(C$99o(ngjar,"laya.utils.Handler"),(C$99e=ngjar.prototype).setTo=function(C$99t,C$99e,C$99i,C$99n){return this._id=ngjar._gid++,this.caller=C$99t,this.method=C$99e,this.args=C$99i,this.once=C$99n,this},C$99e.run=function(){if(null==this.method)return null;var C$99t=this._id,C$99e=this.method.apply(this.caller,this.args);return this._id===C$99t&&this.once&&this.recover(),C$99e},C$99e.runWith=function(C$99t){if(null==this.method)return null;var C$99e=this._id;return C$99t=null==C$99t?this.method.apply(this.caller,this.args):this.args||C$99t.unshift?this.args?this.method.apply(this.caller,this.args.concat(C$99t)):this.method.apply(this.caller,C$99t):this.method.call(this.caller,C$99t),this._id===C$99e&&this.once&&this.recover(),C$99t},C$99e.clear=function(){return this.caller=null,this.method=null,this.args=null,this},C$99e.recover=function(){0<this._id&&(this._id=0,this.clear())},ngjar.create=function(C$99t,C$99e,C$99i,C$99n){return new ngjar(C$99t,C$99e,C$99i,C$99n=void 0===C$99n?!0:C$99n)},ngjar._gid=1,ngjar),C$99v=(C$99o(m16w5,"laya.display.BitmapFont"),(C$99e=m16w5.prototype).loadFont=function(C$99t,C$99e){this._path=C$99t,this._complete=C$99e,C$99b.loader.load([{url:this._path,type:"xml"},{url:this._path.replace(".fnt",".png"),type:"image"}],C$99g.create(this,this.onLoaded))},C$99e.onLoaded=function(){this.parseFont(C$99ht.getRes(this._path),C$99ht.getRes(this._path.replace(".fnt",".png"))),this._complete&&this._complete.runWith(this._texture?this:null)},C$99e.parseFont=function(C$99t,C$99e){if(null!=C$99t&&null!=C$99e){this._texture=C$99e;var C$99i=C$99t.getElementsByTagName("info");if(!C$99i[0].getAttributeNode)return this.parseFont2(C$99t,C$99e);this.fontSize=parseInt(C$99i[0].getAttributeNode("size").nodeValue);var C$99n,C$99i=C$99i[0].getAttributeNode("padding").nodeValue.split(",");this._padding=[parseInt(C$99i[0]),parseInt(C$99i[1]),parseInt(C$99i[2]),parseInt(C$99i[3])],C$99n=C$99t.getElementsByTagName("char");var C$99r=0;for(C$99r=0;C$99r<C$99n.length;C$99r++){var C$99s=C$99n[C$99r],C$99a=parseInt(C$99s.getAttributeNode("id").nodeValue),C$99o=+parseInt(C$99s.getAttributeNode("xoffset").nodeValue),C$99c=+parseInt(C$99s.getAttributeNode("yoffset").nodeValue),C$99h=+parseInt(C$99s.getAttributeNode("xadvance").nodeValue),C$99l=new C$99P;C$99l.x=parseInt(C$99s.getAttributeNode("x").nodeValue),C$99l.y=parseInt(C$99s.getAttributeNode("y").nodeValue),C$99l.width=parseInt(C$99s.getAttributeNode("width").nodeValue),C$99l.height=parseInt(C$99s.getAttributeNode("height").nodeValue);C$99s=C$99ct.create(C$99e,C$99l.x,C$99l.y,C$99l.width,C$99l.height,C$99o,C$99c);this._maxWidth=Math.max(this._maxWidth,C$99h+this.letterSpacing),this._fontCharDic[C$99a]=C$99s,this._fontWidthMap[C$99a]=C$99h}}},C$99e.parseFont2=function(C$99t,C$99e){if(null!=C$99t&&null!=C$99e){this._texture=C$99e;var C$99i=C$99t.getElementsByTagName("info");this.fontSize=parseInt(C$99i[0].attributes.size.nodeValue);C$99i=C$99i[0].attributes.padding.nodeValue.split(",");this._padding=[parseInt(C$99i[0]),parseInt(C$99i[1]),parseInt(C$99i[2]),parseInt(C$99i[3])];var C$99n=C$99t.getElementsByTagName("char"),C$99r=0;for(C$99r=0;C$99r<C$99n.length;C$99r++){var C$99s=C$99n[C$99r].attributes,C$99a=parseInt(C$99s.id.nodeValue),C$99o=+parseInt(C$99s.xoffset.nodeValue),C$99c=+parseInt(C$99s.yoffset.nodeValue),C$99h=+parseInt(C$99s.xadvance.nodeValue),C$99l=new C$99P;C$99l.x=parseInt(C$99s.x.nodeValue),C$99l.y=parseInt(C$99s.y.nodeValue),C$99l.width=parseInt(C$99s.width.nodeValue),C$99l.height=parseInt(C$99s.height.nodeValue);C$99s=C$99ct.create(C$99e,C$99l.x,C$99l.y,C$99l.width,C$99l.height,C$99o,C$99c);this._maxWidth=Math.max(this._maxWidth,C$99h+this.letterSpacing),this._fontCharDic[C$99a]=C$99s,this._fontWidthMap[C$99a]=C$99h}}},C$99e.getCharTexture=function(C$99t){return this._fontCharDic[C$99t.charCodeAt(0)]},C$99e.destroy=function(){if(this._texture){for(var C$99t in this._fontCharDic){C$99t=this._fontCharDic[C$99t];C$99t&&C$99t.destroy()}this._texture.destroy(),this._fontCharDic=null,this._fontWidthMap=null,this._texture=null}},C$99e.setSpaceWidth=function(C$99t){this._spaceWidth=C$99t},C$99e.getCharWidth=function(C$99t){var C$99e=C$99t.charCodeAt(0);return this._fontWidthMap[C$99e]?this._fontWidthMap[C$99e]+this.letterSpacing:" "==C$99t?this._spaceWidth+this.letterSpacing:0},C$99e.getTextWidth=function(C$99t){for(var C$99e=0,C$99i=0,C$99n=C$99t.length;C$99i<C$99n;C$99i++)C$99e+=this.getCharWidth(C$99t.charAt(C$99i));return C$99e},C$99e.getMaxWidth=function(){return this._maxWidth},C$99e.getMaxHeight=function(){return this.fontSize},C$99e.drawText=function(C$99t,C$99e,C$99i,C$99c,C$99n,C$99r){var C$99s,C$99a=this.getTextWidth(C$99t),C$99o=0;"center"===C$99n&&(C$99o=(C$99r-C$99a)/2),"right"===C$99n&&(C$99o=C$99r-C$99a);for(var C$99h=0,C$99l=0,C$99_=C$99t.length;C$99l<C$99_;C$99l++)(C$99s=this.getCharTexture(C$99t.charAt(C$99l)))&&(C$99e.graphics.drawTexture(C$99s,C$99i+C$99h+C$99o,C$99c),C$99h+=this.getCharWidth(C$99t.charAt(C$99l)))},m16w5),C$99c=(C$99o($9vfd,"laya.display.css.Style"),(C$99e=$9vfd.prototype).getTransform=function(){return this._tf},C$99e.setTransform=function(C$99t){this._tf="none"!==C$99t&&C$99t?C$99t:$9vfd._TF_EMPTY},C$99e.setTranslateX=function(C$99t){this._tf===$9vfd._TF_EMPTY&&(this._tf=new C$99u),this._tf.translateX=C$99t},C$99e.setTranslateY=function(C$99t){this._tf===$9vfd._TF_EMPTY&&(this._tf=new C$99u),this._tf.translateY=C$99t},C$99e.setScaleX=function(C$99t){this._tf===$9vfd._TF_EMPTY&&(this._tf=new C$99u),this._tf.scaleX=C$99t},C$99e.setScale=function(C$99t,C$99e){this._tf===$9vfd._TF_EMPTY&&(this._tf=new C$99u),this._tf.scaleX=C$99t,this._tf.scaleY=C$99e},C$99e.setScaleY=function(C$99t){this._tf===$9vfd._TF_EMPTY&&(this._tf=new C$99u),this._tf.scaleY=C$99t},C$99e.setRotate=function(C$99t){this._tf===$9vfd._TF_EMPTY&&(this._tf=new C$99u),this._tf.rotate=C$99t},C$99e.setSkewX=function(C$99t){this._tf===$9vfd._TF_EMPTY&&(this._tf=new C$99u),this._tf.skewX=C$99t},C$99e.setSkewY=function(C$99t){this._tf===$9vfd._TF_EMPTY&&(this._tf=new C$99u),this._tf.skewY=C$99t},C$99e.destroy=function(){this.scrollRect=null},C$99e.render=function(C$99t,C$99e,C$99i,C$99n){},C$99e.getCSSStyle=function(){return C$99nt.EMPTY},C$99e._enableLayout=function(){return!1},C$99t(0,C$99e,"scaleX",function(){return this._tf.scaleX},function(C$99t){this.setScaleX(C$99t)}),C$99t(0,C$99e,"transform",function(){return this.getTransform()},function(C$99t){this.setTransform(C$99t)}),C$99t(0,C$99e,"translateX",function(){return this._tf.translateX},function(C$99t){this.setTranslateX(C$99t)}),C$99t(0,C$99e,"translateY",function(){return this._tf.translateY},function(C$99t){this.setTranslateY(C$99t)}),C$99t(0,C$99e,"scaleY",function(){return this._tf.scaleY},function(C$99t){this.setScaleY(C$99t)}),C$99t(0,C$99e,"block",function(){return 0!=(1&this._type)}),C$99t(0,C$99e,"skewY",function(){return this._tf.skewY},function(C$99t){this.setSkewY(C$99t)}),C$99t(0,C$99e,"rotate",function(){return this._tf.rotate},function(C$99t){this.setRotate(C$99t)}),C$99t(0,C$99e,"skewX",function(){return this._tf.skewX},function(C$99t){this.setSkewX(C$99t)}),C$99t(0,C$99e,"paddingLeft",function(){return 0}),C$99t(0,C$99e,"paddingTop",function(){return 0}),C$99t(0,C$99e,"absolute",function(){return!0}),$9vfd.__init__=function(){$9vfd._TF_EMPTY=new C$99u,$9vfd.EMPTY=new $9vfd},$9vfd.EMPTY=null,$9vfd._TF_EMPTY=null,$9vfd),C$99_=(C$99o(hwm6_,"laya.display.css.Font"),(C$99e=hwm6_.prototype).set=function(C$99t){this._text=null;for(var C$99e=C$99t.split(" "),C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++){var C$99r=C$99e[C$99i];switch(C$99r){case"italic":this.italic=!0;continue;case"bold":this.bold=!0;continue}0<C$99r.indexOf("px")&&(this.size=parseInt(C$99r),this.family=C$99e[C$99i+1],C$99i++)}},C$99e.toString=function(){return this._text="",this.italic&&(this._text+="italic "),this.bold&&(this._text+="bold "),this._text+=this.size+"px "+this.family},C$99e.copyTo=function(C$99t){C$99t._type=this._type,C$99t._text=this._text,C$99t._weight=this._weight,C$99t._color=this._color,C$99t.family=this.family,C$99t.stroke=this.stroke!=hwm6_._STROKE?this.stroke.slice():hwm6_._STROKE,C$99t.indent=this.indent,C$99t.size=this.size},C$99t(0,C$99e,"password",function(){return 0!=(1024&this._type)},function(C$99t){C$99t?this._type|=1024:this._type&=-1025}),C$99t(0,C$99e,"color",function(){return this._color.strColor},function(C$99t){this._color=C$99q.create(C$99t)}),C$99t(0,C$99e,"italic",function(){return 0!=(512&this._type)},function(C$99t){C$99t?this._type|=512:this._type&=-513}),C$99t(0,C$99e,"bold",function(){return 0!=(2048&this._type)},function(C$99t){C$99t?this._type|=2048:this._type&=-2049}),C$99t(0,C$99e,"weight",function(){return""+this._weight},function(C$99t){var C$99e=0;switch(C$99t){case"normal":break;case"bold":this.bold=!0,C$99e=700;break;case"bolder":C$99e=800;break;case"lighter":C$99e=100;break;default:C$99e=parseInt(C$99t)}this._weight=C$99e,this._text=null}),C$99t(0,C$99e,"decoration",function(){return this._decoration?this._decoration.value:null},function(C$99t){var C$99e=C$99t.split(" ");switch(this._decoration||(this._decoration={}),C$99e[0]){case"_":this._decoration.type="underline";break;case"-":this._decoration.type="line-through";break;case"overline":this._decoration.type="overline";break;default:this._decoration.type=C$99e[0]}C$99e[1]&&(this._decoration.color=C$99q.create(C$99e)),this._decoration.value=C$99t}),hwm6_.__init__=function(){hwm6_.EMPTY=new hwm6_(null)},hwm6_.EMPTY=null,hwm6_.defaultColor="#000000",hwm6_.defaultSize=12,hwm6_.defaultFamily="Arial",hwm6_.defaultFont="12px Arial",hwm6_._STROKE=[0,"#000000"],hwm6_._ITALIC=512,hwm6_._PASSWORD=1024,hwm6_._BOLD=2048,hwm6_),C$99u=(C$99o($9dipv,"laya.display.css.TransformInfo"),$9dipv),C$99d=(C$99o(n3rjbg,"laya.display.Graphics"),(C$99e=n3rjbg.prototype).destroy=function(){this.clear(),this._graphicBounds&&this._graphicBounds.destroy(),this._graphicBounds=null,this._vectorgraphArray=null,this._sp&&(this._sp._renderType=0),this._sp=null},C$99e.clear=function(C$99t){var C$99e=0,C$99i=0;if(C$99t=void 0===C$99t?!1:C$99t){var C$99n=this._one;if(this._cmds){for(C$99i=this._cmds.length,C$99e=0;C$99e<C$99i;C$99e++)!(C$99n=this._cmds[C$99e])||C$99n.callee!==C$99M._context._drawTexture&&C$99n.callee!==C$99M._context._drawTextureWithTransform||(C$99n[0]=null,n3rjbg._cache.push(C$99n));this._cmds.length=0}else C$99n&&(!C$99n||C$99n.callee!==C$99M._context._drawTexture&&C$99n.callee!==C$99M._context._drawTextureWithTransform||(C$99n[0]=null,n3rjbg._cache.push(C$99n)))}else this._cmds=null;if(this._one=null,this._render=this._renderEmpty,this._sp&&(this._sp._renderType&=-514),this._repaint(),this._vectorgraphArray){for(C$99e=0,C$99i=this._vectorgraphArray.length;C$99e<C$99i;C$99e++)C$99J.getInstance().deleteShape(this._vectorgraphArray[C$99e]);this._vectorgraphArray.length=0}},C$99e._clearBoundsCache=function(){this._graphicBounds&&this._graphicBounds.reset()},C$99e._initGraphicBounds=function(){this._graphicBounds||(this._graphicBounds=new C$99f,this._graphicBounds._graphics=this)},C$99e._repaint=function(){this._clearBoundsCache(),this._sp&&this._sp.repaint()},C$99e._isOnlyOne=function(){return!this._cmds||0===this._cmds.length},C$99e.getBounds=function(C$99t){return void 0===C$99t&&(C$99t=!1),this._initGraphicBounds(),this._graphicBounds.getBounds(C$99t)},C$99e.getBoundPoints=function(C$99t){return void 0===C$99t&&(C$99t=!1),this._initGraphicBounds(),this._graphicBounds.getBoundPoints(C$99t)},C$99e._addCmd=function(C$99t){this._cmds=this._cmds||[],C$99t.callee=C$99t.shift(),this._cmds.push(C$99t)},C$99e.setFilters=function(C$99t){this._saveToCmd(C$99M._context._setFilters,C$99t)},C$99e.drawTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){if(void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99a&&(C$99a=1),!C$99t||C$99a<.01)return null;C$99n=(C$99n=void 0===C$99n?0:C$99n)||C$99t.sourceWidth,C$99r=(C$99r=void 0===C$99r?0:C$99r)||C$99t.sourceHeight,C$99a=C$99a<0?0:1<C$99a?1:C$99a;var C$99o,C$99h=!C$99M.isWebGL&&(C$99S.onFirefox||C$99S.onEdge||C$99S.onIE||C$99S.onSafari)?.5:0,C$99l=C$99n/C$99t.sourceWidth,C$99c=C$99r/C$99t.sourceHeight;return C$99n=C$99t.width*C$99l,C$99r=C$99t.height*C$99c,C$99t.loaded&&(C$99n<=0||C$99r<=0)?null:(C$99e+=C$99t.offsetX*C$99l,C$99i+=C$99t.offsetY*C$99c,this._sp&&(this._sp._renderType|=512),C$99e-=C$99h,C$99i-=C$99h,C$99n+=2*C$99h,C$99r+=2*C$99h,n3rjbg._cache.length?((C$99o=n3rjbg._cache.pop())[0]=C$99t,C$99o[1]=C$99e,C$99o[2]=C$99i,C$99o[3]=C$99n,C$99o[4]=C$99r,C$99o[5]=C$99s,C$99o[6]=C$99a):C$99o=[C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a],C$99o.callee=C$99s||1!=C$99a?C$99M._context._drawTextureWithTransform:C$99M._context._drawTexture,null!=this._one||C$99s||1!=C$99a?this._saveToCmd(C$99o.callee,C$99o):(this._one=C$99o,this._render=this._renderOneImg),C$99t.loaded||C$99t.once("loaded",this,this._textureLoaded,[C$99t,C$99o]),this._repaint(),C$99o)},C$99e.cleanByTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r){if(void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0),!C$99t)return this.clear();var C$99s,C$99a;this._one&&this._render===this._renderOneImg?(C$99n=C$99n||C$99t.sourceWidth,C$99r=C$99r||C$99t.sourceHeight,C$99s=C$99n/C$99t.sourceWidth,C$99a=C$99r/C$99t.sourceHeight,C$99n=C$99t.width*C$99s,C$99r=C$99t.height*C$99a,C$99e+=C$99t.offsetX*C$99s,C$99i+=C$99t.offsetY*C$99a,this._one[0]=C$99t,this._one[1]=C$99e,this._one[2]=C$99i,this._one[3]=C$99n,this._one[4]=C$99r,this._repaint()):(this.clear(),C$99t&&this.drawTexture(C$99t,C$99e,C$99i,C$99n,C$99r))},C$99e.drawTextures=function(C$99t,C$99e){C$99t&&this._saveToCmd(C$99M._context._drawTextures,[C$99t,C$99e])},C$99e.fillTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0),void 0===C$99s&&(C$99s="repeat"),C$99t&&(C$99e=[C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a||C$99R.EMPTY,{}],C$99t.loaded||C$99t.once("loaded",this,this._textureLoaded,[C$99t,C$99e]),this._saveToCmd(C$99M._context._fillTexture,C$99e))},C$99e._textureLoaded=function(C$99t,C$99e){C$99e[3]=C$99e[3]||C$99t.width,C$99e[4]=C$99e[4]||C$99t.height,this._repaint()},C$99e.fillCircle=function(C$99c,C$99_,C$99t,C$99e,C$99i,C$99u,C$99n){C$99t.bitmap.enableMerageInAtlas=!1;var C$99r=new Float32Array(2*(C$99n+1)),C$99s=new Float32Array(2*(C$99n+1)),C$99a=new Uint16Array(3*C$99n),C$99d=2*Math.PI/C$99n,C$99o=0;C$99r[0]=C$99e,C$99r[1]=C$99i,C$99s[0]=C$99e/C$99t.width,C$99s[1]=C$99i/C$99t.height;for(var C$99h=2,C$99l=0;C$99l<C$99n;C$99l++){var C$99f=C$99u*Math.cos(C$99o)+C$99e,C$99p=C$99u*Math.sin(C$99o)+C$99i;C$99r[C$99h]=C$99f,C$99r[C$99h+1]=C$99p,C$99s[C$99h]=C$99f/C$99t.width,C$99s[C$99h+1]=C$99p/C$99t.height,C$99o+=C$99d,C$99h+=2}for(C$99l=C$99h=0;C$99l<C$99n;C$99l++)C$99a[C$99h++]=0,C$99a[C$99h++]=C$99l+1,C$99a[C$99h++]=C$99n+1<=C$99l+2?1:C$99l+2;this.drawTriangles(C$99t,C$99c,C$99_,C$99r,C$99s,C$99a)},C$99e.drawTriangles=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){this._saveToCmd(C$99M._context.drawTriangles,[C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o=void 0===C$99o?1:C$99o,C$99h,C$99l])},C$99e._saveToCmd=function(C$99t,C$99e){return this._sp&&(this._sp._renderType|=512),null==this._one?(this._one=C$99e,this._render=this._renderOne):(this._sp&&(this._sp._renderType&=-2),this._render=this._renderAll,0===(this._cmds||(this._cmds=[])).length&&this._cmds.push(this._one),this._cmds.push(C$99e)),C$99e.callee=C$99t,this._repaint(),C$99e},C$99e.clipRect=function(C$99t,C$99e,C$99i,C$99n){this._saveToCmd(C$99M._context._clipRect,[C$99t,C$99e,C$99i,C$99n])},C$99e.fillText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){void 0===C$99a&&(C$99a=0),this._saveToCmd(C$99M._context._fillText,[C$99t,C$99e,C$99i,C$99n||C$99_.defaultFont,C$99r,C$99s])},C$99e.fillBorderText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){this._saveToCmd(C$99M._context._fillBorderText,[C$99t,C$99e,C$99i,C$99n||C$99_.defaultFont,C$99r,C$99s,C$99a,C$99o])},C$99e.strokeText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._saveToCmd(C$99M._context._strokeText,[C$99t,C$99e,C$99i,C$99n||C$99_.defaultFont,C$99r,C$99s,C$99a])},C$99e.alpha=function(C$99t){this._saveToCmd(C$99M._context._alpha,[C$99t=C$99t<0?0:1<C$99t?1:C$99t])},C$99e.setAlpha=function(C$99t){this._saveToCmd(C$99M._context._setAlpha,[C$99t=C$99t<0?0:1<C$99t?1:C$99t])},C$99e.transform=function(C$99t,C$99e,C$99i){this._saveToCmd(C$99M._context._transform,[C$99t,C$99e=void 0===C$99e?0:C$99e,C$99i=void 0===C$99i?0:C$99i])},C$99e.rotate=function(C$99t,C$99e,C$99i){this._saveToCmd(C$99M._context._rotate,[C$99t,C$99e=void 0===C$99e?0:C$99e,C$99i=void 0===C$99i?0:C$99i])},C$99e.scale=function(C$99t,C$99e,C$99i,C$99n){this._saveToCmd(C$99M._context._scale,[C$99t,C$99e,C$99i=void 0===C$99i?0:C$99i,C$99n=void 0===C$99n?0:C$99n])},C$99e.translate=function(C$99t,C$99e){this._saveToCmd(C$99M._context._translate,[C$99t,C$99e])},C$99e.save=function(){this._saveToCmd(C$99M._context._save,[])},C$99e.restore=function(){this._saveToCmd(C$99M._context._restore,[])},C$99e.replaceText=function(C$99t){this._repaint();var C$99e=this._cmds;if(C$99e){for(var C$99i=C$99e.length-1;-1<C$99i;C$99i--)if(this._isTextCmd(C$99e[C$99i].callee))return C$99e[C$99i][0].toUpperCase?C$99e[C$99i][0]=C$99t:C$99e[C$99i][0].setText(C$99t),!0}else if(this._one&&this._isTextCmd(this._one.callee))return this._one[0].toUpperCase?this._one[0]=C$99t:this._one[0].setText(C$99t),!0;return!1},C$99e._isTextCmd=function(C$99t){return C$99t===C$99M._context._fillText||C$99t===C$99M._context._fillBorderText||C$99t===C$99M._context._strokeText},C$99e.replaceTextColor=function(C$99t){this._repaint();var C$99e=this._cmds;if(C$99e)for(var C$99i=C$99e.length-1;-1<C$99i;C$99i--)this._isTextCmd(C$99e[C$99i].callee)&&(C$99e[C$99i][4]=C$99t,C$99e[C$99i][0].toUpperCase||(C$99e[C$99i][0].changed=!0));else this._one&&this._isTextCmd(this._one.callee)&&(this._one[4]=C$99t,this._one[0].toUpperCase||(this._one[0].changed=!0))},C$99e.loadImage=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=this;void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0);var C$99o=C$99ht.getRes(C$99t);function j3ngbr(C$99t){C$99t&&(C$99a.drawTexture(C$99t,C$99e,C$99i,C$99n,C$99r),null!=C$99s&&C$99s.call(C$99a._sp,C$99t))}C$99o?j3ngbr(C$99o):C$99b.loader.load(C$99t,C$99g.create(null,j3ngbr),null,"image")},C$99e._renderEmpty=function(C$99t,C$99e,C$99i,C$99n){},C$99e._renderAll=function(C$99t,C$99e,C$99i,C$99n){for(var C$99r,C$99s=this._cmds,C$99a=0,C$99o=C$99s.length;C$99a<C$99o;C$99a++)(C$99r=C$99s[C$99a]).callee.call(C$99e,C$99i,C$99n,C$99r)},C$99e._renderOne=function(C$99t,C$99e,C$99i,C$99n){this._one.callee.call(C$99e,C$99i,C$99n,this._one)},C$99e._renderOneImg=function(C$99t,C$99e,C$99i,C$99n){this._one.callee.call(C$99e,C$99i,C$99n,this._one),2305!==C$99t._renderType&&(C$99t._renderType|=1)},C$99e.drawLine=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){void 0===C$99s&&(C$99s=1);var C$99a=0;C$99M.isWebGL&&(C$99a=C$99J.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$99a));var C$99o=C$99s%2==0?0:.5;this._saveToCmd(C$99M._context._drawLine,[C$99t+C$99o,C$99e+C$99o,C$99i+C$99o,C$99n+C$99o,C$99r,C$99s,C$99a])},C$99e.drawLines=function(C$99t,C$99e,C$99i,C$99n,C$99r){void 0===C$99r&&(C$99r=1);var C$99s=0;!C$99i||C$99i.length<4||(C$99M.isWebGL&&(C$99s=C$99J.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$99s)),this._saveToCmd(C$99M._context._drawLines,[C$99t+(C$99t=C$99r%2==0?0:.5),C$99e+C$99t,C$99i,C$99n,C$99r,C$99s]))},C$99e.drawCurves=function(C$99t,C$99e,C$99i,C$99n,C$99r){this._saveToCmd(C$99M._context._drawCurves,[C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?1:C$99r])},C$99e.drawRect=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){void 0===C$99a&&(C$99a=1);var C$99o=C$99s?C$99a/2:0,C$99h=C$99s?C$99a:0;this._saveToCmd(C$99M._context._drawRect,[C$99t+C$99o,C$99e+C$99o,C$99i-C$99h,C$99n-C$99h,C$99r,C$99s,C$99a])},C$99e.drawCircle=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){void 0===C$99s&&(C$99s=1);var C$99a=C$99r?C$99s/2:0,C$99o=0;C$99M.isWebGL&&(C$99o=C$99J.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$99o)),this._saveToCmd(C$99M._context._drawCircle,[C$99t,C$99e,C$99i-C$99a,C$99n,C$99r,C$99s,C$99o])},C$99e.drawPie=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){void 0===C$99o&&(C$99o=1);var C$99h=C$99a?C$99o/2:0,C$99c=C$99a?C$99o:0,C$99l=0;C$99M.isWebGL&&(C$99l=C$99J.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$99l));C$99t=[C$99t+C$99h,C$99e+C$99h,C$99i-C$99c,C$99n,C$99r,C$99s,C$99a,C$99o,C$99l];C$99t[3]=C$99Q.toRadian(C$99n),C$99t[4]=C$99Q.toRadian(C$99r),this._saveToCmd(C$99M._context._drawPie,C$99t)},C$99e.drawPoly=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){void 0===C$99s&&(C$99s=1);var C$99a=0,C$99o=!1;C$99M.isWebGL&&(C$99a=C$99J.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$99a),C$99o=!(6<C$99i.length));var C$99h=!C$99r||C$99s%2==0?0:.5;this._saveToCmd(C$99M._context._drawPoly,[C$99t+C$99h,C$99e+C$99h,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o])},C$99e.drawPath=function(C$99t,C$99e,C$99i,C$99n,C$99r){this._saveToCmd(C$99M._context._drawPath,[C$99t,C$99e,C$99i,C$99n,C$99r])},C$99t(0,C$99e,"cmds",function(){return this._cmds},function(C$99t){this._sp&&(this._sp._renderType|=512),this._cmds=C$99t,this._render=this._renderAll,this._repaint()}),n3rjbg.__init__=function(){if(C$99M.isConchNode){for(var C$99t=laya.display.Graphics.prototype,C$99e=C$99S.window.ConchGraphics.prototype,C$99i=["clear","destroy","alpha","rotate","transform","scale","translate","save","restore","clipRect","blendMode","fillText","fillBorderText","_fands","drawRect","drawCircle","drawPie","drawPoly","drawPath","drawImageM","drawLine","drawLines","_drawPs","drawCurves","replaceText","replaceTextColor","_fillImage","fillTexture","setSkinMesh","drawParticle","drawImageS"],C$99n=0,C$99r=C$99i.length;C$99n<=C$99r;C$99n++){var C$99s=C$99i[C$99n];C$99t[C$99s]=C$99e[C$99s]}C$99t._saveToCmd=null,C$99e.drawImageS&&(C$99t.drawTextures=function(C$99t,C$99e){var C$99i,C$99n,C$99r;C$99t&&C$99t.loaded&&C$99t.bitmap&&C$99t.source&&(C$99i=C$99t.uv,C$99n=C$99t.bitmap.width,C$99r=C$99t.bitmap.height,this.drawImageS(C$99t.bitmap.source,C$99i[0]*C$99n,C$99i[1]*C$99r,(C$99i[2]-C$99i[0])*C$99n,(C$99i[5]-C$99i[3])*C$99r,C$99t.offsetX,C$99t.offsetY,C$99t.width,C$99t.height,C$99e))}),C$99t.drawTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){var C$99o,C$99h,C$99l;void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0),void 0===C$99a&&(C$99a=1),C$99t&&(C$99t.loaded?C$99t.loaded&&C$99t.bitmap&&C$99t.source&&(C$99n=C$99n||C$99t.sourceWidth,C$99r=C$99r||C$99t.sourceHeight,C$99a=C$99a<0?0:1<C$99a?1:C$99a,C$99n=C$99n-C$99t.sourceWidth+C$99t.width,C$99r=C$99r-C$99t.sourceHeight+C$99t.height,!(C$99n<=0||C$99r<=0))&&(C$99e+=C$99t.offsetX,C$99i+=C$99t.offsetY,C$99o=C$99t.uv,C$99h=C$99t.bitmap.width,C$99l=C$99t.bitmap.height,C$99o[4]<C$99o[0]&&C$99o[5]<C$99o[1]?this.drawImageM(C$99t.bitmap.source,C$99o[4]*C$99h,C$99o[5]*C$99l,(C$99o[0]-C$99o[4])*C$99h,(C$99o[1]-C$99o[5])*C$99l,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a):this.drawImageM(C$99t.bitmap.source,C$99o[0]*C$99h,C$99o[1]*C$99l,(C$99o[2]-C$99o[0])*C$99h,(C$99o[5]-C$99o[3])*C$99l,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a),this._repaint()):C$99t.once("loaded",this,function(){this.drawTexture(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s)}))},C$99t.fillTexture=function(C$99t,C$99e,C$99c,C$99i,C$99n,C$99r,C$99s){var C$99a,C$99o,C$99h,C$99l;void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r="repeat"),C$99t&&C$99t.loaded&&(C$99a=C$99M._context.ctx,C$99o=C$99t.bitmap.width,C$99l=C$99t.bitmap.height,C$99h=C$99t.uv,C$99o=C$99t.uv!=C$99ct.DEF_UV?C$99a.createPattern(C$99t.bitmap.source,C$99r,C$99h[0]*C$99o,C$99h[1]*C$99l,(C$99h[2]-C$99h[0])*C$99o,(C$99h[5]-C$99h[3])*C$99l):C$99a.createPattern(C$99t.bitmap.source,C$99r),C$99l=C$99h=0,C$99s&&(C$99e+=C$99s.x%C$99t.width,C$99c+=C$99s.y%C$99t.height,C$99h-=C$99s.x%C$99t.width,C$99l-=C$99s.y%C$99t.height),this._fillImage(C$99o,C$99e,C$99c,C$99h,C$99l,C$99i,C$99n))}}},n3rjbg._cache=[],n3rjbg),C$99f=(C$99o(brjkas,"laya.display.GraphicsBounds"),(C$99e=brjkas.prototype).destroy=function(){this._graphics=null,this._temp=null,this._rstBoundPoints=null,this._bounds=null},C$99e.reset=function(){this._temp&&(this._temp.length=0)},C$99e.getBounds=function(C$99t){return void 0===C$99t&&(C$99t=!1),this._bounds&&this._temp&&!(this._temp.length<1)&&C$99t==this._cacheBoundsType||(this._bounds=C$99P._getWrapRec(this.getBoundPoints(C$99t),this._bounds)),this._cacheBoundsType=C$99t,this._bounds},C$99e.getBoundPoints=function(C$99t){return void 0===C$99t&&(C$99t=!1),(!this._temp||this._temp.length<1||C$99t!=this._cacheBoundsType)&&(this._temp=this._getCmdPoints(C$99t)),this._cacheBoundsType=C$99t,this._rstBoundPoints=C$99Q.copyArray(this._rstBoundPoints,this._temp)},C$99e._getCmdPoints=function(C$99c){void 0===C$99c&&(C$99c=!1);var C$99t,C$99_,C$99e=C$99M._context,C$99u=this._graphics.cmds;if((C$99t=this._temp||(this._temp=[])).length=0,C$99u||null==this._graphics._one||(brjkas._tempCmds.length=0,brjkas._tempCmds.push(this._graphics._one),C$99u=brjkas._tempCmds),!C$99u)return C$99t;(C$99_=brjkas._tempMatrixArrays).length=0;var C$99i=brjkas._initMatrix;C$99i.identity();for(var C$99n,C$99r,C$99s=brjkas._tempMatrix,C$99a=NaN,C$99o=NaN,C$99d=NaN,C$99f=NaN,C$99h=NaN,C$99p=NaN,C$99m=0,C$99g=C$99u.length;C$99m<C$99g;C$99m++)if((C$99n=C$99u[C$99m]).callee)switch(C$99n.callee){case C$99e._save:case 7:C$99_.push(C$99i),C$99i=C$99i.clone();break;case C$99e._restore:case 8:C$99i=C$99_.pop();break;case C$99e._scale:case 5:C$99s.identity(),C$99s.translate(-C$99n[2],-C$99n[3]),C$99s.scale(C$99n[0],C$99n[1]),C$99s.translate(C$99n[2],C$99n[3]),this._switchMatrix(C$99i,C$99s);break;case C$99e._rotate:case 3:C$99s.identity(),C$99s.translate(-C$99n[1],-C$99n[2]),C$99s.rotate(C$99n[0]),C$99s.translate(C$99n[1],C$99n[2]),this._switchMatrix(C$99i,C$99s);break;case C$99e._translate:case 6:C$99s.identity(),C$99s.translate(C$99n[0],C$99n[1]),this._switchMatrix(C$99i,C$99s);break;case C$99e._transform:case 4:C$99s.identity(),C$99s.translate(-C$99n[1],-C$99n[2]),C$99s.concat(C$99n[0]),C$99s.translate(C$99n[1],C$99n[2]),this._switchMatrix(C$99i,C$99s);break;case 16:case 24:brjkas._addPointArrToRst(C$99t,C$99P._getBoundPointS(C$99n[0],C$99n[1],C$99n[2],C$99n[3]),C$99i);break;case 17:C$99i.copyTo(C$99s),C$99s.concat(C$99n[4]),brjkas._addPointArrToRst(C$99t,C$99P._getBoundPointS(C$99n[0],C$99n[1],C$99n[2],C$99n[3]),C$99s);break;case C$99e._drawTexture:C$99r=C$99n[0],C$99c?C$99n[3]&&C$99n[4]?brjkas._addPointArrToRst(C$99t,C$99P._getBoundPointS(C$99n[1],C$99n[2],C$99n[3],C$99n[4]),C$99i):(C$99r=C$99n[0],brjkas._addPointArrToRst(C$99t,C$99P._getBoundPointS(C$99n[1],C$99n[2],C$99r.width,C$99r.height),C$99i)):(C$99a=(C$99n[3]||C$99r.sourceWidth)/C$99r.width,C$99o=(C$99n[4]||C$99r.sourceHeight)/C$99r.height,C$99d=C$99a*C$99r.sourceWidth,C$99f=C$99o*C$99r.sourceHeight,C$99h=0<C$99r.offsetX?C$99r.offsetX:0,C$99p=0<C$99r.offsetY?C$99r.offsetY:0,C$99h*=C$99a,C$99p*=C$99o,brjkas._addPointArrToRst(C$99t,C$99P._getBoundPointS(C$99n[1]-C$99h,C$99n[2]-C$99p,C$99d,C$99f),C$99i));break;case C$99e._fillTexture:C$99n[3]&&C$99n[4]?brjkas._addPointArrToRst(C$99t,C$99P._getBoundPointS(C$99n[1],C$99n[2],C$99n[3],C$99n[4]),C$99i):(C$99r=C$99n[0],brjkas._addPointArrToRst(C$99t,C$99P._getBoundPointS(C$99n[1],C$99n[2],C$99r.width,C$99r.height),C$99i));break;case C$99e._drawTextureWithTransform:C$99l=C$99n[5]?(C$99i.copyTo(C$99s),C$99s.concat(C$99n[5]),C$99s):C$99i,C$99c?C$99n[3]&&C$99n[4]?brjkas._addPointArrToRst(C$99t,C$99P._getBoundPointS(C$99n[1],C$99n[2],C$99n[3],C$99n[4]),C$99l):(C$99r=C$99n[0],brjkas._addPointArrToRst(C$99t,C$99P._getBoundPointS(C$99n[1],C$99n[2],C$99r.width,C$99r.height),C$99l)):(C$99r=C$99n[0],C$99a=(C$99n[3]||C$99r.sourceWidth)/C$99r.width,C$99o=(C$99n[4]||C$99r.sourceHeight)/C$99r.height,C$99d=C$99a*C$99r.sourceWidth,C$99f=C$99o*C$99r.sourceHeight,C$99h=0<C$99r.offsetX?C$99r.offsetX:0,C$99p=0<C$99r.offsetY?C$99r.offsetY:0,C$99h*=C$99a,C$99p*=C$99o,brjkas._addPointArrToRst(C$99t,C$99P._getBoundPointS(C$99n[1]-C$99h,C$99n[2]-C$99p,C$99d,C$99f),C$99l));break;case C$99e._drawRect:case 13:brjkas._addPointArrToRst(C$99t,C$99P._getBoundPointS(C$99n[0],C$99n[1],C$99n[2],C$99n[3]),C$99i);break;case C$99e._drawCircle:case C$99e._fillCircle:case 14:brjkas._addPointArrToRst(C$99t,C$99P._getBoundPointS(C$99n[0]-C$99n[2],C$99n[1]-C$99n[2],C$99n[2]+C$99n[2],C$99n[2]+C$99n[2]),C$99i);break;case C$99e._drawLine:case 20:var C$99l;brjkas._tempPoints.length=0,C$99l=.5*C$99n[5],C$99n[0]==C$99n[2]?brjkas._tempPoints.push(C$99n[0]+C$99l,C$99n[1],C$99n[2]+C$99l,C$99n[3],C$99n[0]-C$99l,C$99n[1],C$99n[2]-C$99l,C$99n[3]):C$99n[1]==C$99n[3]?brjkas._tempPoints.push(C$99n[0],C$99n[1]+C$99l,C$99n[2],C$99n[3]+C$99l,C$99n[0],C$99n[1]-C$99l,C$99n[2],C$99n[3]-C$99l):brjkas._tempPoints.push(C$99n[0],C$99n[1],C$99n[2],C$99n[3]),brjkas._addPointArrToRst(C$99t,brjkas._tempPoints,C$99i);break;case C$99e._drawCurves:case 22:brjkas._addPointArrToRst(C$99t,C$99D.I.getBezierPoints(C$99n[2]),C$99i,C$99n[0],C$99n[1]);break;case C$99e._drawPoly:case C$99e._drawLines:case 18:brjkas._addPointArrToRst(C$99t,C$99n[2],C$99i,C$99n[0],C$99n[1]);break;case C$99e._drawPath:case 19:brjkas._addPointArrToRst(C$99t,this._getPathPoints(C$99n[2]),C$99i,C$99n[0],C$99n[1]);break;case C$99e._drawPie:case 15:brjkas._addPointArrToRst(C$99t,this._getPiePoints(C$99n[0],C$99n[1],C$99n[2],C$99n[3],C$99n[4]),C$99i)}return 200<C$99t.length?C$99t=C$99Q.copyArray(C$99t,C$99P._getWrapRec(C$99t)._getBoundPoints()):8<C$99t.length&&(C$99t=C$99E.scanPList(C$99t)),C$99t},C$99e._switchMatrix=function(C$99t,C$99e){C$99e.concat(C$99t),C$99e.copyTo(C$99t)},C$99e._getPiePoints=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=brjkas._tempPoints;brjkas._tempPoints.length=0,C$99s.push(C$99t,C$99e);var C$99a=(C$99r-C$99n)%(2*Math.PI)/10,C$99o=NaN,C$99h=C$99n;for(C$99o=0;C$99o<=10;C$99o++)C$99s.push(C$99t+C$99i*Math.cos(C$99h),C$99e+C$99i*Math.sin(C$99h)),C$99h+=C$99a;return C$99s},C$99e._getPathPoints=function(C$99t){var C$99e,C$99i,C$99n=0,C$99r=brjkas._tempPoints;for(C$99r.length=0,C$99e=C$99t.length,C$99n=0;C$99n<C$99e;C$99n++)1<(C$99i=C$99t[C$99n]).length&&(C$99r.push(C$99i[1],C$99i[2]),3<C$99i.length&&C$99r.push(C$99i[3],C$99i[4]));return C$99r},brjkas._addPointArrToRst=function(C$99t,C$99e,C$99i,C$99n,C$99r){void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0);var C$99s,C$99a=0;for(C$99s=C$99e.length,C$99a=0;C$99a<C$99s;C$99a+=2)brjkas._addPointToRst(C$99t,C$99e[C$99a]+C$99n,C$99e[C$99a+1]+C$99r,C$99i)},brjkas._addPointToRst=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99R.TEMP;C$99r.setTo(C$99e||0,C$99i||0),C$99n.transformPoint(C$99r),C$99t.push(C$99r.x,C$99r.y)},brjkas._tempPoints=[],brjkas._tempMatrixArrays=[],brjkas._tempCmds=[],C$99a(brjkas,["_tempMatrix",function(){return this._tempMatrix=new C$99I},"_initMatrix",function(){return this._initMatrix=new C$99I}]),brjkas),C$99p=(C$99o(zqoef,"laya.events.Event"),(C$99e=zqoef.prototype).setTo=function(C$99t,C$99e,C$99i){return this.type=C$99t,this.currentTarget=C$99e,this.target=C$99i,this},C$99e.stopPropagation=function(){this._stoped=!0},C$99t(0,C$99e,"stageY",function(){return C$99b.stage.mouseY}),C$99t(0,C$99e,"charCode",function(){return this.nativeEvent.charCode}),C$99t(0,C$99e,"touches",function(){var C$99t=this.nativeEvent.touches;if(C$99t)for(var C$99e=C$99b.stage,C$99i=0,C$99n=C$99t.length;C$99i<C$99n;C$99i++){var C$99r=C$99t[C$99i],C$99s=C$99R.TEMP;C$99s.setTo(C$99r.clientX,C$99r.clientY),C$99e._canvasTransform.invertTransformPoint(C$99s),C$99e.transform.invertTransformPoint(C$99s),C$99r.stageX=C$99s.x,C$99r.stageY=C$99s.y}return C$99t}),C$99t(0,C$99e,"keyLocation",function(){return this.nativeEvent.keyLocation}),C$99t(0,C$99e,"ctrlKey",function(){return this.nativeEvent.ctrlKey}),C$99t(0,C$99e,"altKey",function(){return this.nativeEvent.altKey}),C$99t(0,C$99e,"shiftKey",function(){return this.nativeEvent.shiftKey}),C$99t(0,C$99e,"stageX",function(){return C$99b.stage.mouseX}),zqoef.EMPTY=new zqoef,zqoef.MOUSE_DOWN="mousedown",zqoef.MOUSE_UP="mouseup",zqoef.CLICK="click",zqoef.RIGHT_MOUSE_DOWN="rightmousedown",zqoef.RIGHT_MOUSE_UP="rightmouseup",zqoef.RIGHT_CLICK="rightclick",zqoef.MOUSE_MOVE="mousemove",zqoef.MOUSE_OVER="mouseover",zqoef.MOUSE_OUT="mouseout",zqoef.MOUSE_WHEEL="mousewheel",zqoef.ROLL_OVER="mouseover",zqoef.ROLL_OUT="mouseout",zqoef.DOUBLE_CLICK="doubleclick",zqoef.CHANGE="change",zqoef.CHANGED="changed",zqoef.RESIZE="resize",zqoef.ADDED="added",zqoef.REMOVED="removed",zqoef.DISPLAY="display",zqoef.UNDISPLAY="undisplay",zqoef.ERROR="error",zqoef.COMPLETE="complete",zqoef.LOADED="loaded",zqoef.INITED="inited",zqoef.PROGRESS="progress",zqoef.INPUT="input",zqoef.RENDER="render",zqoef.OPEN="open",zqoef.MESSAGE="message",zqoef.CLOSE="close",zqoef.KEY_DOWN="keydown",zqoef.KEY_PRESS="keypress",zqoef.KEY_UP="keyup",zqoef.FRAME="enterframe",zqoef.DRAG_START="dragstart",zqoef.DRAG_MOVE="dragmove",zqoef.DRAG_END="dragend",zqoef.ENTER="enter",zqoef.SELECT="select",zqoef.BLUR="blur",zqoef.FOCUS="focus",zqoef.VISIBILITY_CHANGE="visibilitychange",zqoef.FOCUS_CHANGE="focuschange",zqoef.PLAYED="played",zqoef.PAUSED="paused",zqoef.STOPPED="stopped",zqoef.START="start",zqoef.END="end",zqoef.ENABLE_CHANGED="enablechanged",zqoef.ACTIVE_IN_HIERARCHY_CHANGED="activeinhierarchychanged",zqoef.COMPONENT_ADDED="componentadded",zqoef.COMPONENT_REMOVED="componentremoved",zqoef.LAYER_CHANGED="layerchanged",zqoef.HIERARCHY_LOADED="hierarchyloaded",zqoef.RECOVERED="recovered",zqoef.RELEASED="released",zqoef.LINK="link",zqoef.LABEL="label",zqoef.FULL_SCREEN_CHANGE="fullscreenchange",zqoef.DEVICE_LOST="devicelost",zqoef.MESH_CHANGED="meshchanged",zqoef.MATERIAL_CHANGED="materialchanged",zqoef.WORLDMATRIX_NEEDCHANGE="worldmatrixneedchanged",zqoef.ANIMATION_CHANGED="animationchanged",zqoef.TRIGGER_ENTER="triggerenter",zqoef.TRIGGER_STAY="triggerstay",zqoef.TRIGGER_EXIT="triggerexit",zqoef.TRAIL_FILTER_CHANGE="trailfilterchange",zqoef.DOMINO_FILTER_CHANGE="dominofilterchange",zqoef),C$99x=(C$99o(d9$p,"laya.events.Keyboard"),d9$p.NUMBER_0=48,d9$p.NUMBER_1=49,d9$p.NUMBER_2=50,d9$p.NUMBER_3=51,d9$p.NUMBER_4=52,d9$p.NUMBER_5=53,d9$p.NUMBER_6=54,d9$p.NUMBER_7=55,d9$p.NUMBER_8=56,d9$p.NUMBER_9=57,d9$p.A=65,d9$p.B=66,d9$p.C=67,d9$p.D=68,d9$p.E=69,d9$p.F=70,d9$p.G=71,d9$p.H=72,d9$p.I=73,d9$p.J=74,d9$p.K=75,d9$p.L=76,d9$p.M=77,d9$p.N=78,d9$p.O=79,d9$p.P=80,d9$p.Q=81,d9$p.R=82,d9$p.S=83,d9$p.T=84,d9$p.U=85,d9$p.V=86,d9$p.W=87,d9$p.X=88,d9$p.Y=89,d9$p.Z=90,d9$p.F1=112,d9$p.F2=113,d9$p.F3=114,d9$p.F4=115,d9$p.F5=116,d9$p.F6=117,d9$p.F7=118,d9$p.F8=119,d9$p.F9=120,d9$p.F10=121,d9$p.F11=122,d9$p.F12=123,d9$p.F13=124,d9$p.F14=125,d9$p.F15=126,d9$p.NUMPAD=21,d9$p.NUMPAD_0=96,d9$p.NUMPAD_1=97,d9$p.NUMPAD_2=98,d9$p.NUMPAD_3=99,d9$p.NUMPAD_4=100,d9$p.NUMPAD_5=101,d9$p.NUMPAD_6=102,d9$p.NUMPAD_7=103,d9$p.NUMPAD_8=104,d9$p.NUMPAD_9=105,d9$p.NUMPAD_ADD=107,d9$p.NUMPAD_DECIMAL=110,d9$p.NUMPAD_DIVIDE=111,d9$p.NUMPAD_ENTER=108,d9$p.NUMPAD_MULTIPLY=106,d9$p.NUMPAD_SUBTRACT=109,d9$p.SEMICOLON=186,d9$p.EQUAL=187,d9$p.COMMA=188,d9$p.MINUS=189,d9$p.PERIOD=190,d9$p.SLASH=191,d9$p.BACKQUOTE=192,d9$p.LEFTBRACKET=219,d9$p.BACKSLASH=220,d9$p.RIGHTBRACKET=221,d9$p.QUOTE=222,d9$p.ALTERNATE=18,d9$p.BACKSPACE=8,d9$p.CAPS_LOCK=20,d9$p.COMMAND=15,d9$p.CONTROL=17,d9$p.DELETE=46,d9$p.ENTER=13,d9$p.ESCAPE=27,d9$p.PAGE_UP=33,d9$p.PAGE_DOWN=34,d9$p.END=35,d9$p.HOME=36,d9$p.LEFT=37,d9$p.UP=38,d9$p.RIGHT=39,d9$p.DOWN=40,d9$p.SHIFT=16,d9$p.SPACE=32,d9$p.TAB=9,d9$p.INSERT=45,C$99o(jbr3n,"laya.events.KeyBoardManager"),jbr3n.__init__=function(){jbr3n._addEvent("keydown"),jbr3n._addEvent("keypress"),jbr3n._addEvent("keyup")},jbr3n._addEvent=function(C$99e){C$99S.document.addEventListener(C$99e,function(C$99t){laya.events.KeyBoardManager._dispatch(C$99t,C$99e)},!0)},jbr3n._dispatch=function(C$99t,C$99e){if(jbr3n.enabled){jbr3n._event._stoped=!1,jbr3n._event.nativeEvent=C$99t,jbr3n._event.keyCode=C$99t.keyCode||C$99t.which||C$99t.charCode,"keydown"===C$99e?jbr3n._pressKeys[jbr3n._event.keyCode]=!0:"keyup"===C$99e&&(jbr3n._pressKeys[jbr3n._event.keyCode]=null);for(var C$99i=C$99b.stage.focus&&null!=C$99b.stage.focus.event&&C$99b.stage.focus.displayedInStage?C$99b.stage.focus:C$99b.stage,C$99n=C$99i;C$99n;)C$99n.event(C$99e,jbr3n._event.setTo(C$99e,C$99n,C$99i)),C$99n=C$99n.parent}},jbr3n.hasKeyDown=function(C$99t){return jbr3n._pressKeys[C$99t]},jbr3n._pressKeys={},jbr3n.enabled=!0,C$99a(jbr3n,["_event",function(){return this._event=new C$99p}]),jbr3n),C$99y=(C$99o(tc2iv9,"laya.events.KeyLocation"),tc2iv9.STANDARD=0,tc2iv9.LEFT=1,tc2iv9.RIGHT=2,tc2iv9.NUM_PAD=3,C$99o(w6_5mh,"laya.events.MouseManager"),(C$99e=w6_5mh.prototype).__init__=function(C$99t,C$99e){var C$99i=this;this._stage=C$99t;var C$99n=this,C$99r=this._eventList;C$99e.oncontextmenu=function(C$99t){if(w6_5mh.enabled)return!1},C$99e.addEventListener("mousedown",function(C$99t){w6_5mh.enabled&&(C$99S.onIE||C$99t.preventDefault(),C$99r.push(C$99t),C$99n.mouseDownTime=C$99S.now())}),C$99e.addEventListener("mouseup",function(C$99t){w6_5mh.enabled&&(C$99t.preventDefault(),C$99r.push(C$99t),C$99n.mouseDownTime=-C$99S.now())},!0),C$99e.addEventListener("mousemove",function(C$99t){var C$99e;w6_5mh.enabled&&(C$99t.preventDefault(),(C$99e=C$99S.now())-C$99n._lastMoveTimer<10||(C$99n._lastMoveTimer=C$99e,C$99r.push(C$99t)))},!0),C$99e.addEventListener("mouseout",function(C$99t){w6_5mh.enabled&&C$99r.push(C$99t)}),C$99e.addEventListener("mouseover",function(C$99t){w6_5mh.enabled&&C$99r.push(C$99t)}),C$99e.addEventListener("touchstart",function(C$99t){w6_5mh.enabled&&(C$99r.push(C$99t),w6_5mh._isFirstTouch||C$99xt.isInputting||C$99t.preventDefault(),C$99n.mouseDownTime=C$99S.now())}),C$99e.addEventListener("touchend",function(C$99t){w6_5mh.enabled?(w6_5mh._isFirstTouch||C$99xt.isInputting||C$99t.preventDefault(),w6_5mh._isFirstTouch=!1,C$99r.push(C$99t),C$99n.mouseDownTime=-C$99S.now()):C$99i._curTouchID=NaN},!0),C$99e.addEventListener("touchmove",function(C$99t){w6_5mh.enabled&&(C$99t.preventDefault(),C$99r.push(C$99t))},!0),C$99e.addEventListener("touchcancel",function(C$99t){w6_5mh.enabled?(C$99t.preventDefault(),C$99r.push(C$99t)):C$99i._curTouchID=NaN},!0),C$99e.addEventListener("mousewheel",function(C$99t){w6_5mh.enabled&&C$99r.push(C$99t)}),C$99e.addEventListener("DOMMouseScroll",function(C$99t){w6_5mh.enabled&&C$99r.push(C$99t)})},C$99e.initEvent=function(C$99t,C$99e){this._event._stoped=!1,this._event.nativeEvent=C$99e||C$99t,this._target=null,this._point.setTo(C$99t.pageX||C$99t.clientX,C$99t.pageY||C$99t.clientY),this._stage._canvasTransform.invertTransformPoint(this._point),this.mouseX=this._point.x,this.mouseY=this._point.y,this._event.touchId=C$99t.identifier||0,this._tTouchID=this._event.touchId,(C$99e=C$99w.I._event)._stoped=!1,C$99e.nativeEvent=this._event.nativeEvent,C$99e.touchId=this._event.touchId},C$99e.checkMouseWheel=function(C$99t){this._event.delta=C$99t.wheelDelta?.025*C$99t.wheelDelta:-C$99t.detail;for(var C$99e=C$99w.I.getLastOvers(),C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++){var C$99r=C$99e[C$99i];C$99r.event("mousewheel",this._event.setTo("mousewheel",C$99r,this._target))}},C$99e.onMouseMove=function(C$99t){C$99w.I.onMouseMove(C$99t,this._tTouchID)},C$99e.onMouseDown=function(C$99t){var C$99e,C$99i;C$99xt.isInputting&&C$99b.stage.focus&&C$99b.stage.focus.focus&&!C$99b.stage.focus.contains(this._target)&&(C$99e=C$99b.stage.focus._tf||C$99b.stage.focus,(C$99i=C$99t._tf||C$99t)instanceof laya.display.Input&&C$99i.multiline==C$99e.multiline?C$99e._focusOut():C$99e.focus=!1),C$99w.I.onMouseDown(C$99t,this._tTouchID,this._isLeftMouse)},C$99e.onMouseUp=function(C$99t){C$99w.I.onMouseUp(C$99t,this._tTouchID,this._isLeftMouse)},C$99e.check=function(C$99t,C$99e,C$99i,C$99n){this._point.setTo(C$99e,C$99i),C$99t.fromParentPoint(this._point),C$99e=this._point.x,C$99i=this._point.y;var C$99r=C$99t.scrollRect;if(C$99r&&(this._rect.setTo(C$99r.x,C$99r.y,C$99r.width,C$99r.height),!this._rect.contains(C$99e,C$99i)))return!1;if(!this.disableMouseEvent){if(C$99t.hitTestPrior&&!C$99t.mouseThrough&&!this.hitTest(C$99t,C$99e,C$99i))return!1;for(var C$99s=C$99t._childs.length-1;-1<C$99s;C$99s--){var C$99a=C$99t._childs[C$99s];if(!C$99a.destroyed&&C$99a.mouseEnabled&&C$99a.visible&&this.check(C$99a,C$99e,C$99i,C$99n))return!0}}C$99r=!(!C$99t.hitTestPrior||C$99t.mouseThrough||this.disableMouseEvent)||this.hitTest(C$99t,C$99e,C$99i);return C$99r?(this._target=C$99t,C$99n.call(this,C$99t)):C$99n===this.onMouseUp&&C$99t===this._stage&&(this._target=this._stage,C$99n.call(this,this._target)),C$99r},C$99e.hitTest=function(C$99t,C$99e,C$99i){var C$99n=!1;return C$99t.scrollRect&&(C$99e-=C$99t.scrollRect.x,C$99i-=C$99t.scrollRect.y),C$99t.hitArea instanceof laya.utils.HitArea?C$99t.hitArea.isHit(C$99e,C$99i):0<C$99t.width&&0<C$99t.height||C$99t.mouseThrough||C$99t.hitArea?C$99t.mouseThrough?C$99t.getGraphicBounds().contains(C$99e,C$99i):(C$99r=this._rect,C$99t.hitArea?C$99r=C$99t.hitArea:C$99r.setTo(0,0,C$99t.width,C$99t.height),C$99r.contains(C$99e,C$99i)):C$99n;var C$99r},C$99e.runEvent=function(){var C$99t=this._eventList.length;if(C$99t){this.mouseEventTime=C$99S.now();var C$99e,C$99i=0,C$99n=0,C$99r=0;try{for(;C$99i<C$99t;){var C$99s=this._eventList[C$99i];switch("mousemove"!==C$99s.type&&(this._prePoint.x=this._prePoint.y=-1e6),C$99s.type){case"mousedown":this._touchIDs[0]=this._id++,w6_5mh._isTouchRespond?w6_5mh._isTouchRespond=!1:(this._isLeftMouse=0===C$99s.button,this.initEvent(C$99s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseDown));break;case"mouseup":this._isLeftMouse=0===C$99s.button,this.initEvent(C$99s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseUp);break;case"mousemove":Math.abs(this._prePoint.x-C$99s.clientX)+Math.abs(this._prePoint.y-C$99s.clientY)>=this.mouseMoveAccuracy&&(this._prePoint.x=C$99s.clientX,this._prePoint.y=C$99s.clientY,this.initEvent(C$99s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseMove));break;case"touchstart":w6_5mh._isTouchRespond=!0,this._isLeftMouse=!0;var C$99a=C$99s.changedTouches;for(C$99n=0,C$99r=C$99a.length;C$99n<C$99r;C$99n++)C$99e=C$99a[C$99n],(w6_5mh.multiTouchEnabled||isNaN(this._curTouchID))&&(this._curTouchID=C$99e.identifier,this._id%200==0&&(this._touchIDs={}),this._touchIDs[C$99e.identifier]=this._id++,this.initEvent(C$99e,C$99s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseDown));break;case"touchend":case"touchcancel":w6_5mh._isTouchRespond=!0,this._isLeftMouse=!0;var C$99o=C$99s.changedTouches;for(C$99n=0,C$99r=C$99o.length;C$99n<C$99r;C$99n++)C$99e=C$99o[C$99n],!w6_5mh.multiTouchEnabled&&C$99e.identifier!=this._curTouchID||(this._curTouchID=NaN,this.initEvent(C$99e,C$99s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseUp)||this.onMouseUp(null));break;case"touchmove":var C$99h=C$99s.changedTouches;for(C$99n=0,C$99r=C$99h.length;C$99n<C$99r;C$99n++)C$99e=C$99h[C$99n],!w6_5mh.multiTouchEnabled&&C$99e.identifier!=this._curTouchID||(this.initEvent(C$99e,C$99s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseMove));break;case"wheel":case"mousewheel":case"DOMMouseScroll":this.checkMouseWheel(C$99s);break;case"mouseout":C$99w.I.stageMouseOut();break;case"mouseover":this._stage.event("mouseover",this._event.setTo("mouseover",this._stage,this._stage))}C$99i++}}catch(C$99t){throw this._eventList.length=0,C$99t}this._eventList.length=0}},w6_5mh.enabled=!0,w6_5mh.multiTouchEnabled=!0,w6_5mh._isTouchRespond=!1,w6_5mh._isFirstTouch=!0,C$99a(w6_5mh,["instance",function(){return this.instance=new w6_5mh}]),w6_5mh),C$99w=(C$99o($icdv,"laya.events.TouchManager"),(C$99e=$icdv.prototype)._clearTempArrs=function(){$icdv._oldArr.length=0,$icdv._newArr.length=0,$icdv._tEleArr.length=0},C$99e.getTouchFromArr=function(C$99t,C$99e){var C$99i,C$99n,C$99r=0;for(C$99i=C$99e.length,C$99r=0;C$99r<C$99i;C$99r++)if((C$99n=C$99e[C$99r]).id==C$99t)return C$99n;return null},C$99e.removeTouchFromArr=function(C$99t,C$99e){var C$99i=0;for(C$99i=C$99e.length-1;0<=C$99i;C$99i--)C$99e[C$99i].id==C$99t&&C$99e.splice(C$99i,1)},C$99e.createTouchO=function(C$99t,C$99e){var C$99i;return(C$99i=C$99Y.getItem("TouchData")||{}).id=C$99e,C$99i.tar=C$99t,C$99i},C$99e.onMouseDown=function(C$99t,C$99e,C$99i){var C$99n,C$99r,C$99s,C$99a;void 0===C$99i&&(C$99i=!1),this.enable&&(C$99n=this.getTouchFromArr(C$99e,this.preOvers),C$99s=this.getEles(C$99t,null,$icdv._tEleArr),C$99n?C$99n.tar=C$99t:(C$99r=this.createTouchO(C$99t,C$99e),this.preOvers.push(C$99r)),C$99S.onMobile&&this.sendEvents(C$99s,"mouseover",C$99e),C$99a=C$99i?this.preDowns:this.preRightDowns,(C$99n=this.getTouchFromArr(C$99e,C$99a))?C$99n.tar=C$99t:(C$99r=this.createTouchO(C$99t,C$99e),C$99a.push(C$99r)),this.sendEvents(C$99s,C$99i?"mousedown":"rightmousedown",C$99e),this._clearTempArrs())},C$99e.sendEvents=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=0);var C$99n,C$99r,C$99s,C$99a=0;for(C$99n=C$99t.length,this._event._stoped=!1,C$99r=C$99t[0],C$99a=0;C$99a<C$99n;C$99a++){if((C$99s=C$99t[C$99a]).destroyed)return;if(C$99s.event(C$99e,this._event.setTo(C$99e,C$99s,C$99r)),this._event._stoped)break}},C$99e.getEles=function(C$99t,C$99e,C$99i){for(C$99i?C$99i.length=0:C$99i=[];C$99t&&C$99t!=C$99e;)C$99i.push(C$99t),C$99t=C$99t.parent;return C$99i},C$99e.checkMouseOutAndOverOfMove=function(C$99t,C$99e,C$99i){if(void 0===C$99i&&(C$99i=0),C$99e!=C$99t){var C$99n,C$99r,C$99s,C$99a=0;if(C$99e.contains(C$99t))C$99r=this.getEles(C$99t,C$99e,$icdv._tEleArr),this.sendEvents(C$99r,"mouseover",C$99i);else if(C$99t.contains(C$99e))C$99r=this.getEles(C$99e,C$99t,$icdv._tEleArr),this.sendEvents(C$99r,"mouseout",C$99i);else{var C$99o,C$99h;(C$99r=$icdv._tEleArr).length=0,C$99o=this.getEles(C$99e,null,$icdv._oldArr),C$99h=this.getEles(C$99t,null,$icdv._newArr),C$99s=C$99o.length;var C$99l;for(C$99a=0;C$99a<C$99s;C$99a++){if(C$99n=C$99o[C$99a],0<=(C$99l=C$99h.indexOf(C$99n))){C$99h.splice(C$99l,C$99h.length-C$99l);break}C$99r.push(C$99n)}0<C$99r.length&&this.sendEvents(C$99r,"mouseout",C$99i),0<C$99h.length&&this.sendEvents(C$99h,"mouseover",C$99i)}}},C$99e.onMouseMove=function(C$99t,C$99e){var C$99i,C$99n;this.enable&&((C$99i=this.getTouchFromArr(C$99e,this.preOvers))?(this.checkMouseOutAndOverOfMove(C$99t,C$99i.tar),C$99i.tar=C$99t,C$99n=this.getEles(C$99t,null,$icdv._tEleArr)):(C$99n=this.getEles(C$99t,null,$icdv._tEleArr),this.sendEvents(C$99n,"mouseover",C$99e),this.preOvers.push(this.createTouchO(C$99t,C$99e))),this.sendEvents(C$99n,"mousemove",C$99e),this._clearTempArrs())},C$99e.getLastOvers=function(){return($icdv._tEleArr.length=0)<this.preOvers.length&&this.preOvers[0].tar?this.getEles(this.preOvers[0].tar,null,$icdv._tEleArr):($icdv._tEleArr.push(C$99b.stage),$icdv._tEleArr)},C$99e.stageMouseOut=function(){var C$99t;C$99t=this.getLastOvers(),this.preOvers.length=0,this.sendEvents(C$99t,"mouseout",0)},C$99e.onMouseUp=function(C$99t,C$99e,C$99i){if(void 0===C$99i&&(C$99i=!1),this.enable){var C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99c,C$99l=0,C$99_=C$99S.onMobile;if(C$99r=this.getEles(C$99t,null,$icdv._tEleArr),this.sendEvents(C$99r,C$99i?"mouseup":"rightmouseup",C$99e),C$99h=C$99i?this.preDowns:this.preRightDowns,C$99n=this.getTouchFromArr(C$99e,C$99h)){var C$99u,C$99d=C$99S.now();if(C$99u=C$99d-this._lastClickTime<300,this._lastClickTime=C$99d,C$99t==C$99n.tar)C$99o=C$99r;else for(C$99s=this.getEles(C$99n.tar,null,$icdv._oldArr),(C$99o=$icdv._newArr).length=0,C$99c=C$99s.length,C$99l=0;C$99l<C$99c;C$99l++)C$99a=C$99s[C$99l],0<=C$99r.indexOf(C$99a)&&C$99o.push(C$99a);0<C$99o.length&&this.sendEvents(C$99o,C$99i?"click":"rightclick",C$99e),C$99i&&C$99u&&this.sendEvents(C$99o,"doubleclick",C$99e),this.removeTouchFromArr(C$99e,C$99h),C$99n.tar=null,C$99Y.recover("TouchData",C$99n)}(C$99n=this.getTouchFromArr(C$99e,this.preOvers))&&C$99_&&((C$99o=this.getEles(C$99n.tar,null,C$99o))&&0<C$99o.length&&this.sendEvents(C$99o,"mouseout",C$99e),this.removeTouchFromArr(C$99e,this.preOvers),C$99n.tar=null,C$99Y.recover("TouchData",C$99n)),this._clearTempArrs()}},$icdv._oldArr=[],$icdv._newArr=[],$icdv._tEleArr=[],C$99a($icdv,["I",function(){return this.I=new $icdv}]),$icdv),C$99T=(C$99o(z$7fpd,"laya.filters.Filter"),C$99e=z$7fpd.prototype,C$99b.imps(C$99e,{"laya.filters.IFilter":!0}),C$99e.callNative=function(C$99t){},C$99t(0,C$99e,"type",function(){return-1}),C$99t(0,C$99e,"action",function(){return this._action}),z$7fpd.BLUR=16,z$7fpd.COLOR=32,z$7fpd.GLOW=8,z$7fpd._filterStart=null,z$7fpd._filterEnd=null,z$7fpd._EndTarget=null,z$7fpd._recycleScope=null,z$7fpd._filter=null,z$7fpd._useSrc=null,z$7fpd._endSrc=null,z$7fpd._useOut=null,z$7fpd._endOut=null,z$7fpd),C$99C=(C$99o(yw5_h,"laya.filters.ColorFilterAction"),C$99e=yw5_h.prototype,C$99b.imps(C$99e,{"laya.filters.IFilterAction":!0}),C$99e.apply=function(C$99t){var C$99e=C$99t.ctx.ctx,C$99i=C$99t.ctx.ctx.canvas;if(0==C$99i.width||0==C$99i.height)return C$99i;for(var C$99n,C$99i=C$99e.getImageData(0,0,C$99i.width,C$99i.height),C$99r=C$99i.data,C$99s=0,C$99a=C$99r.length;C$99s<C$99a;C$99s+=4)C$99n=this.getColor(C$99r[C$99s],C$99r[C$99s+1],C$99r[C$99s+2],C$99r[C$99s+3]),0!=C$99r[C$99s+3]&&(C$99r[C$99s]=C$99n[0],C$99r[C$99s+1]=C$99n[1],C$99r[C$99s+2]=C$99n[2],C$99r[C$99s+3]=C$99n[3]);return C$99e.putImageData(C$99i,0,0),C$99t},C$99e.getColor=function(C$99t,C$99e,C$99i,C$99n){var C$99r=[];var C$99s,C$99a;return this.data._mat&&this.data._alpha&&(C$99s=this.data._mat,C$99a=this.data._alpha,C$99r[0]=C$99s[0]*C$99t+C$99s[1]*C$99e+C$99s[2]*C$99i+C$99s[3]*C$99n+C$99a[0],C$99r[1]=C$99s[4]*C$99t+C$99s[5]*C$99e+C$99s[6]*C$99i+C$99s[7]*C$99n+C$99a[1],C$99r[2]=C$99s[8]*C$99t+C$99s[9]*C$99e+C$99s[10]*C$99i+C$99s[11]*C$99n+C$99a[2],C$99r[3]=C$99s[12]*C$99t+C$99s[13]*C$99e+C$99s[14]*C$99i+C$99s[15]*C$99n+C$99a[3]),C$99r},yw5_h),C$99D=(C$99o(dfz7op,"laya.maths.Arith"),dfz7op.formatR=function(C$99t){return C$99t>Math.PI&&(C$99t-=2*Math.PI),C$99t<-Math.PI&&(C$99t+=2*Math.PI),C$99t},dfz7op.isPOT=function(C$99t,C$99e){return 0<C$99t&&0==(C$99t&C$99t-1)&&0<C$99e&&0==(C$99e&C$99e-1)},dfz7op.setMatToArray=function(C$99t,C$99e){C$99t.a,C$99t.b,C$99t.c,C$99t.d,C$99t.tx,C$99t.ty,C$99e[0]=C$99t.a,C$99e[1]=C$99t.b,C$99e[4]=C$99t.c,C$99e[5]=C$99t.d,C$99e[12]=C$99t.tx,C$99e[13]=C$99t.ty},C$99o(cd9vi,"laya.maths.Bezier"),(C$99e=cd9vi.prototype)._switchPoint=function(C$99t,C$99e){var C$99i=this._controlPoints.shift();C$99i.setTo(C$99t,C$99e),this._controlPoints.push(C$99i)},C$99e.getPoint2=function(C$99t,C$99e){var C$99i=this._controlPoints[0],C$99n=this._controlPoints[1],C$99r=this._controlPoints[2],C$99s=Math.pow(1-C$99t,2)*C$99i.x+2*C$99t*(1-C$99t)*C$99n.x+Math.pow(C$99t,2)*C$99r.x,C$99i=Math.pow(1-C$99t,2)*C$99i.y+2*C$99t*(1-C$99t)*C$99n.y+Math.pow(C$99t,2)*C$99r.y;C$99e.push(C$99s,C$99i)},C$99e.getPoint3=function(C$99t,C$99e){var C$99i=this._controlPoints[0],C$99n=this._controlPoints[1],C$99r=this._controlPoints[2],C$99s=this._controlPoints[3],C$99a=Math.pow(1-C$99t,3)*C$99i.x+3*C$99n.x*C$99t*(1-C$99t)*(1-C$99t)+3*C$99r.x*C$99t*C$99t*(1-C$99t)+C$99s.x*Math.pow(C$99t,3),C$99i=Math.pow(1-C$99t,3)*C$99i.y+3*C$99n.y*C$99t*(1-C$99t)*(1-C$99t)+3*C$99r.y*C$99t*C$99t*(1-C$99t)+C$99s.y*Math.pow(C$99t,3);C$99e.push(C$99a,C$99i)},C$99e.insertPoints=function(C$99t,C$99e){var C$99i,C$99n=NaN;for(C$99i=1/(C$99t=0<C$99t?C$99t:5),C$99n=0;C$99n<=1;C$99n+=C$99i)this._calFun(C$99n,C$99e)},C$99e.getBezierPoints=function(C$99t,C$99e,C$99i){void 0===C$99e&&(C$99e=5);var C$99n,C$99r,C$99s=0;if((C$99n=C$99t.length)<2*((C$99i=void 0===C$99i?2:C$99i)+1))return[];switch(C$99r=[],C$99i){case 2:this._calFun=this.getPoint2;break;case 3:this._calFun=this.getPoint3;break;default:return[]}for(;this._controlPoints.length<=C$99i;)this._controlPoints.push(new C$99R);for(C$99s=0;C$99s<2*C$99i;C$99s+=2)this._switchPoint(C$99t[C$99s],C$99t[C$99s+1]);for(C$99s=2*C$99i;C$99s<C$99n;C$99s+=2)this._switchPoint(C$99t[C$99s],C$99t[C$99s+1]),C$99s/2%C$99i==0&&this.insertPoints(C$99e,C$99r);return C$99r},C$99a(cd9vi,["I",function(){return this.I=new cd9vi}]),cd9vi),C$99E=(C$99o(_y5wmh,"laya.maths.GrahamScan"),_y5wmh.multiply=function(C$99t,C$99e,C$99i){return(C$99t.x-C$99i.x)*(C$99e.y-C$99i.y)-(C$99e.x-C$99i.x)*(C$99t.y-C$99i.y)},_y5wmh.dis=function(C$99t,C$99e){return(C$99t.x-C$99e.x)*(C$99t.x-C$99e.x)+(C$99t.y-C$99e.y)*(C$99t.y-C$99e.y)},_y5wmh._getPoints=function(C$99t,C$99e,C$99i){for(void 0===C$99e&&(C$99e=!1),_y5wmh._mPointList||(_y5wmh._mPointList=[]);_y5wmh._mPointList.length<C$99t;)_y5wmh._mPointList.push(new C$99R);return(C$99i=C$99i||[]).length=0,C$99e?_y5wmh.getFrom(C$99i,_y5wmh._mPointList,C$99t):_y5wmh.getFromR(C$99i,_y5wmh._mPointList,C$99t),C$99i},_y5wmh.getFrom=function(C$99t,C$99e,C$99i){var C$99n=0;for(C$99n=0;C$99n<C$99i;C$99n++)C$99t.push(C$99e[C$99n]);return C$99t},_y5wmh.getFromR=function(C$99t,C$99e,C$99i){var C$99n=0;for(C$99n=0;C$99n<C$99i;C$99n++)C$99t.push(C$99e.pop());return C$99t},_y5wmh.pListToPointList=function(C$99t,C$99e){var C$99i=0,C$99n=C$99t.length/2,C$99r=_y5wmh._getPoints(C$99n,C$99e=void 0===C$99e?!1:C$99e,_y5wmh._tempPointList);for(C$99i=0;C$99i<C$99n;C$99i++)C$99r[C$99i].setTo(C$99t[C$99i+C$99i],C$99t[C$99i+C$99i+1]);return C$99r},_y5wmh.pointListToPlist=function(C$99t){var C$99e,C$99i=0,C$99n=C$99t.length,C$99r=_y5wmh._temPList;for(C$99i=C$99r.length=0;C$99i<C$99n;C$99i++)C$99e=C$99t[C$99i],C$99r.push(C$99e.x,C$99e.y);return C$99r},_y5wmh.scanPList=function(C$99t){return C$99Q.copyArray(C$99t,_y5wmh.pointListToPlist(_y5wmh.scan(_y5wmh.pListToPointList(C$99t,!0))))},_y5wmh.scan=function(C$99t){var C$99e,C$99i,C$99n,C$99r,C$99s=0,C$99a=0,C$99o=0,C$99h=(C$99t.length,{});for((C$99i=_y5wmh._temArr).length=0,C$99s=C$99t.length-1;0<=C$99s;C$99s--)C$99n=(C$99e=C$99t[C$99s]).x+"_"+C$99e.y,C$99h.hasOwnProperty(C$99n)||(C$99h[C$99n]=!0,C$99i.push(C$99e));for(C$99r=C$99i.length,C$99Q.copyArray(C$99t,C$99i),C$99s=1;C$99s<C$99r;C$99s++)(C$99t[C$99s].y<C$99t[C$99o].y||C$99t[C$99s].y==C$99t[C$99o].y&&C$99t[C$99s].x<C$99t[C$99o].x)&&(C$99o=C$99s);for(C$99e=C$99t[0],C$99t[0]=C$99t[C$99o],C$99t[C$99o]=C$99e,C$99s=1;C$99s<C$99r-1;C$99s++){for(C$99a=(C$99o=C$99s)+1;C$99a<C$99r;C$99a++)(0<_y5wmh.multiply(C$99t[C$99a],C$99t[C$99o],C$99t[0])||0==_y5wmh.multiply(C$99t[C$99a],C$99t[C$99o],C$99t[0])&&_y5wmh.dis(C$99t[0],C$99t[C$99a])<_y5wmh.dis(C$99t[0],C$99t[C$99o]))&&(C$99o=C$99a);C$99e=C$99t[C$99s],C$99t[C$99s]=C$99t[C$99o],C$99t[C$99o]=C$99e}if((C$99i=_y5wmh._temArr).length=0,C$99t.length<3)return C$99Q.copyArray(C$99i,C$99t);for(C$99i.push(C$99t[0],C$99t[1],C$99t[2]),C$99s=3;C$99s<C$99r;C$99s++){for(;2<=C$99i.length&&0<=_y5wmh.multiply(C$99t[C$99s],C$99i[C$99i.length-1],C$99i[C$99i.length-2]);)C$99i.pop();C$99t[C$99s]&&C$99i.push(C$99t[C$99s])}return C$99i},_y5wmh._mPointList=null,_y5wmh._tempPointList=[],_y5wmh._temPList=[],_y5wmh._temArr=[],_y5wmh),C$99A=(C$99o(vp9i,"laya.maths.MathUtil"),vp9i.subtractVector3=function(C$99t,C$99e,C$99i){C$99i[0]=C$99t[0]-C$99e[0],C$99i[1]=C$99t[1]-C$99e[1],C$99i[2]=C$99t[2]-C$99e[2]},vp9i.lerp=function(C$99t,C$99e,C$99i){return C$99t*(1-C$99i)+C$99e*C$99i},vp9i.scaleVector3=function(C$99t,C$99e,C$99i){C$99i[0]=C$99t[0]*C$99e,C$99i[1]=C$99t[1]*C$99e,C$99i[2]=C$99t[2]*C$99e},vp9i.lerpVector3=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t[0],C$99s=C$99t[1],C$99t=C$99t[2];C$99n[0]=C$99r+C$99i*(C$99e[0]-C$99r),C$99n[1]=C$99s+C$99i*(C$99e[1]-C$99s),C$99n[2]=C$99t+C$99i*(C$99e[2]-C$99t)},vp9i.lerpVector4=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t[0],C$99s=C$99t[1],C$99a=C$99t[2],C$99t=C$99t[3];C$99n[0]=C$99r+C$99i*(C$99e[0]-C$99r),C$99n[1]=C$99s+C$99i*(C$99e[1]-C$99s),C$99n[2]=C$99a+C$99i*(C$99e[2]-C$99a),C$99n[3]=C$99t+C$99i*(C$99e[3]-C$99t)},vp9i.slerpQuaternionArray=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){var C$99c,C$99o,C$99_=C$99t[C$99e+0],C$99u=C$99t[C$99e+1],C$99d=C$99t[C$99e+2],C$99t=C$99t[C$99e+3],C$99e=C$99i[C$99n+0],C$99h=C$99i[C$99n+1],C$99l=C$99i[C$99n+2],C$99i=C$99i[C$99n+3];return(C$99n=C$99_*C$99e+C$99u*C$99h+C$99d*C$99l+C$99t*C$99i)<0&&(C$99n=-C$99n,C$99e=-C$99e,C$99h=-C$99h,C$99l=-C$99l,C$99i=-C$99i),C$99n=1e-6<1-C$99n?(C$99n=Math.acos(C$99n),C$99c=Math.sin(C$99n),C$99o=Math.sin((1-C$99r)*C$99n)/C$99c,Math.sin(C$99r*C$99n)/C$99c):(C$99o=1-C$99r,C$99r),C$99s[C$99a+0]=C$99o*C$99_+C$99n*C$99e,C$99s[C$99a+1]=C$99o*C$99u+C$99n*C$99h,C$99s[C$99a+2]=C$99o*C$99d+C$99n*C$99l,C$99s[C$99a+3]=C$99o*C$99t+C$99n*C$99i,C$99s},vp9i.getRotation=function(C$99t,C$99e,C$99i,C$99n){return Math.atan2(C$99n-C$99e,C$99i-C$99t)/Math.PI*180},vp9i.sortBigFirst=function(C$99t,C$99e){return C$99t==C$99e?0:C$99t<C$99e?1:-1},vp9i.sortSmallFirst=function(C$99t,C$99e){return C$99t==C$99e?0:C$99t<C$99e?-1:1},vp9i.sortNumBigFirst=function(C$99t,C$99e){return parseFloat(C$99e)-parseFloat(C$99t)},vp9i.sortNumSmallFirst=function(C$99t,C$99e){return parseFloat(C$99t)-parseFloat(C$99e)},vp9i.sortByKey=function(C$99i,C$99t,C$99e){var C$99n;return void 0===C$99e&&(C$99e=!0),C$99n=(C$99t=void 0===C$99t?!1:C$99t)?C$99e?vp9i.sortNumBigFirst:vp9i.sortBigFirst:C$99e?vp9i.sortNumSmallFirst:vp9i.sortSmallFirst,function(C$99t,C$99e){return C$99n(C$99t[C$99i],C$99e[C$99i])}},vp9i),C$99I=(C$99o(ozq7e0,"laya.maths.Matrix"),(C$99e=ozq7e0.prototype).identity=function(){return this.a=this.d=1,this.b=this.tx=this.ty=this.c=0,this.bTransform=!1,this},C$99e._checkTransform=function(){return this.bTransform=1!==this.a||0!==this.b||0!==this.c||1!==this.d},C$99e.setTranslate=function(C$99t,C$99e){return this.tx=C$99t,this.ty=C$99e,this},C$99e.translate=function(C$99t,C$99e){return this.tx+=C$99t,this.ty+=C$99e,this},C$99e.scale=function(C$99t,C$99e){this.a*=C$99t,this.d*=C$99e,this.c*=C$99t,this.b*=C$99e,this.tx*=C$99t,this.ty*=C$99e,this.bTransform=!0},C$99e.rotate=function(C$99t){var C$99e=Math.cos(C$99t),C$99t=Math.sin(C$99t),C$99i=this.a,C$99n=this.c,C$99r=this.tx;this.a=C$99i*C$99e-this.b*C$99t,this.b=C$99i*C$99t+this.b*C$99e,this.c=C$99n*C$99e-this.d*C$99t,this.d=C$99n*C$99t+this.d*C$99e,this.tx=C$99r*C$99e-this.ty*C$99t,this.ty=C$99r*C$99t+this.ty*C$99e,this.bTransform=!0},C$99e.skew=function(C$99t,C$99e){var C$99t=Math.tan(C$99t),C$99e=Math.tan(C$99e),C$99i=this.a,C$99n=this.b;return this.a+=C$99e*this.c,this.b+=C$99e*this.d,this.c+=C$99t*C$99i,this.d+=C$99t*C$99n,this},C$99e.invertTransformPoint=function(C$99t){var C$99e=this.a,C$99i=this.b,C$99n=this.c,C$99r=this.d,C$99s=this.tx,C$99a=C$99e*C$99r-C$99i*C$99n,C$99o=(C$99n*this.ty-C$99r*C$99s)/C$99a,C$99s=-(C$99e*this.ty-C$99i*C$99s)/C$99a;return C$99t.setTo(C$99r/C$99a*C$99t.x+-C$99n/C$99a*C$99t.y+C$99o,-C$99i/C$99a*C$99t.x+C$99e/C$99a*C$99t.y+C$99s)},C$99e.transformPoint=function(C$99t){return C$99t.setTo(this.a*C$99t.x+this.c*C$99t.y+this.tx,this.b*C$99t.x+this.d*C$99t.y+this.ty)},C$99e.transformPointN=function(C$99t){return C$99t.setTo(this.a*C$99t.x+this.c*C$99t.y,this.b*C$99t.x+this.d*C$99t.y)},C$99e.transformPointArray=function(C$99t,C$99e){for(var C$99i=C$99t.length,C$99n=0;C$99n<C$99i;C$99n+=2){var C$99r=C$99t[C$99n],C$99s=C$99t[C$99n+1];C$99e[C$99n]=this.a*C$99r+this.c*C$99s+this.tx,C$99e[C$99n+1]=this.b*C$99r+this.d*C$99s+this.ty}return C$99e},C$99e.transformPointArrayScale=function(C$99t,C$99e){for(var C$99i=C$99t.length,C$99n=0;C$99n<C$99i;C$99n+=2){var C$99r=C$99t[C$99n],C$99s=C$99t[C$99n+1];C$99e[C$99n]=this.a*C$99r+this.c*C$99s,C$99e[C$99n+1]=this.b*C$99r+this.d*C$99s}return C$99e},C$99e.getScaleX=function(){return 0===this.b?this.a:Math.sqrt(this.a*this.a+this.b*this.b)},C$99e.getScaleY=function(){return 0===this.c?this.d:Math.sqrt(this.c*this.c+this.d*this.d)},C$99e.invert=function(){var C$99t=this.a,C$99e=this.b,C$99i=this.c,C$99n=this.d,C$99r=this.tx,C$99s=C$99t*C$99n-C$99e*C$99i;return this.a=C$99n/C$99s,this.b=-C$99e/C$99s,this.c=-C$99i/C$99s,this.d=C$99t/C$99s,this.tx=(C$99i*this.ty-C$99n*C$99r)/C$99s,this.ty=-(C$99t*this.ty-C$99e*C$99r)/C$99s,this},C$99e.setTo=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){return this.a=C$99t,this.b=C$99e,this.c=C$99i,this.d=C$99n,this.tx=C$99r,this.ty=C$99s,this},C$99e.concat=function(C$99t){var C$99e=this.a,C$99i=this.c,C$99n=this.tx;return this.a=C$99e*C$99t.a+this.b*C$99t.c,this.b=C$99e*C$99t.b+this.b*C$99t.d,this.c=C$99i*C$99t.a+this.d*C$99t.c,this.d=C$99i*C$99t.b+this.d*C$99t.d,this.tx=C$99n*C$99t.a+this.ty*C$99t.c+C$99t.tx,this.ty=C$99n*C$99t.b+this.ty*C$99t.d+C$99t.ty,this},C$99e.scaleEx=function(C$99t,C$99e){var C$99i=this.a,C$99n=this.b,C$99r=this.c,C$99s=this.d;0!==C$99n||0!==C$99r?(this.a=C$99t*C$99i,this.b=C$99t*C$99n,this.c=C$99e*C$99r):(this.a=C$99t*C$99i,this.b=0*C$99s,this.c=0*C$99i),this.d=C$99e*C$99s,this.bTransform=!0},C$99e.rotateEx=function(C$99t){var C$99e=Math.cos(C$99t),C$99t=Math.sin(C$99t),C$99i=this.a,C$99n=this.b,C$99r=this.c,C$99s=this.d;0!==C$99n||0!==C$99r?(this.a=C$99e*C$99i+C$99t*C$99r,this.b=C$99e*C$99n+C$99t*C$99s,this.c=-C$99t*C$99i+C$99e*C$99r,this.d=-C$99t*C$99n+C$99e*C$99s):(this.a=C$99e*C$99i,this.b=C$99t*C$99s,this.c=-C$99t*C$99i,this.d=C$99e*C$99s),this.bTransform=!0},C$99e.clone=function(){var C$99t=ozq7e0.create();return C$99t.a=this.a,C$99t.b=this.b,C$99t.c=this.c,C$99t.d=this.d,C$99t.tx=this.tx,C$99t.ty=this.ty,C$99t.bTransform=this.bTransform,C$99t},C$99e.copyTo=function(C$99t){return C$99t.a=this.a,C$99t.b=this.b,C$99t.c=this.c,C$99t.d=this.d,C$99t.tx=this.tx,C$99t.ty=this.ty,C$99t.bTransform=this.bTransform,C$99t},C$99e.toString=function(){return this.a+","+this.b+","+this.c+","+this.d+","+this.tx+","+this.ty},C$99e.destroy=function(){var C$99t;this.inPool||(C$99t=ozq7e0._cache,this.inPool=!0,C$99t._length||(C$99t._length=0),(C$99t[C$99t._length++]=this).a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.bTransform=!1)},ozq7e0.mul=function(C$99t,C$99e,C$99i){var C$99n=C$99t.a,C$99r=C$99t.b,C$99s=C$99t.c,C$99c=C$99t.d,C$99_=C$99t.tx,C$99t=C$99t.ty,C$99a=C$99e.a,C$99o=C$99e.b,C$99h=C$99e.c,C$99l=C$99e.d,C$99u=C$99e.tx,C$99e=C$99e.ty;return 0!==C$99o||0!==C$99h?(C$99i.a=C$99n*C$99a+C$99r*C$99h,C$99i.b=C$99n*C$99o+C$99r*C$99l,C$99i.c=C$99s*C$99a+C$99c*C$99h,C$99i.d=C$99s*C$99o+C$99c*C$99l,C$99i.tx=C$99a*C$99_+C$99h*C$99t+C$99u,C$99i.ty=C$99o*C$99_+C$99l*C$99t+C$99e):(C$99i.a=C$99n*C$99a,C$99i.b=C$99r*C$99l,C$99i.c=C$99s*C$99a,C$99i.d=C$99c*C$99l,C$99i.tx=C$99a*C$99_+C$99u,C$99i.ty=C$99l*C$99t+C$99e),C$99i},ozq7e0.mul16=function(C$99t,C$99e,C$99i){var C$99n=C$99t.a,C$99r=C$99t.b,C$99s=C$99t.c,C$99c=C$99t.d,C$99_=C$99t.tx,C$99t=C$99t.ty,C$99a=C$99e.a,C$99o=C$99e.b,C$99h=C$99e.c,C$99l=C$99e.d,C$99u=C$99e.tx,C$99e=C$99e.ty;return 0!==C$99o||0!==C$99h?(C$99i[0]=C$99n*C$99a+C$99r*C$99h,C$99i[1]=C$99n*C$99o+C$99r*C$99l,C$99i[4]=C$99s*C$99a+C$99c*C$99h,C$99i[5]=C$99s*C$99o+C$99c*C$99l,C$99i[12]=C$99a*C$99_+C$99h*C$99t+C$99u,C$99i[13]=C$99o*C$99_+C$99l*C$99t+C$99e):(C$99i[0]=C$99n*C$99a,C$99i[1]=C$99r*C$99l,C$99i[4]=C$99s*C$99a,C$99i[5]=C$99c*C$99l,C$99i[12]=C$99a*C$99_+C$99u,C$99i[13]=C$99l*C$99t+C$99e),C$99i},ozq7e0.mulPre=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99c,C$99_,C$99s){var C$99a=C$99t.a,C$99o=C$99t.b,C$99h=C$99t.c,C$99l=C$99t.d,C$99u=C$99t.tx,C$99t=C$99t.ty;return 0!==C$99i||0!==C$99n?(C$99s.a=C$99a*C$99e+C$99o*C$99n,C$99s.b=C$99a*C$99i+C$99o*C$99r,C$99s.c=C$99h*C$99e+C$99l*C$99n,C$99s.d=C$99h*C$99i+C$99l*C$99r,C$99s.tx=C$99e*C$99u+C$99n*C$99t+C$99c,C$99s.ty=C$99i*C$99u+C$99r*C$99t+C$99_):(C$99s.a=C$99a*C$99e,C$99s.b=C$99o*C$99r,C$99s.c=C$99h*C$99e,C$99s.d=C$99l*C$99r,C$99s.tx=C$99e*C$99u+C$99c,C$99s.ty=C$99r*C$99t+C$99_),C$99s},ozq7e0.mulPos=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99c,C$99_,C$99s){var C$99a=C$99t.a,C$99o=C$99t.b,C$99h=C$99t.c,C$99l=C$99t.d,C$99u=C$99t.tx,C$99t=C$99t.ty;return 0!==C$99o||0!==C$99h?(C$99s.a=C$99e*C$99a+C$99i*C$99h,C$99s.b=C$99e*C$99o+C$99i*C$99l,C$99s.c=C$99n*C$99a+C$99r*C$99h,C$99s.d=C$99n*C$99o+C$99r*C$99l,C$99s.tx=C$99a*C$99c+C$99h*C$99_+C$99u,C$99s.ty=C$99o*C$99c+C$99l*C$99_+C$99t):(C$99s.a=C$99e*C$99a,C$99s.b=C$99i*C$99l,C$99s.c=C$99n*C$99a,C$99s.d=C$99r*C$99l,C$99s.tx=C$99a*C$99c+C$99u,C$99s.ty=C$99l*C$99_+C$99t),C$99s},ozq7e0.preMul=function(C$99t,C$99e,C$99i){var C$99n=C$99t.a,C$99r=C$99t.b,C$99s=C$99t.c,C$99a=C$99t.d,C$99o=C$99e.a,C$99h=C$99e.b,C$99l=C$99e.c,C$99c=C$99e.d,C$99_=C$99e.tx,C$99e=C$99e.ty;return C$99i.a=C$99o*C$99n,C$99i.b=C$99i.c=0,C$99i.d=C$99c*C$99a,C$99i.tx=C$99_*C$99n+C$99t.tx,C$99i.ty=C$99e*C$99a+C$99t.ty,0===C$99h&&0===C$99l&&0===C$99r&&0===C$99s||(C$99i.a+=C$99h*C$99s,C$99i.d+=C$99l*C$99r,C$99i.b+=C$99o*C$99r+C$99h*C$99a,C$99i.c+=C$99l*C$99n+C$99c*C$99s,C$99i.tx+=C$99e*C$99s,C$99i.ty+=C$99_*C$99r),C$99i},ozq7e0.preMulXY=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.a,C$99s=C$99t.b,C$99a=C$99t.c,C$99o=C$99t.d;return C$99n.a=C$99r,C$99n.b=C$99s,C$99n.c=C$99a,C$99n.d=C$99o,C$99n.tx=C$99e*C$99r+C$99t.tx+C$99i*C$99a,C$99n.ty=C$99i*C$99o+C$99t.ty+C$99e*C$99s,C$99n},ozq7e0.create=function(){var C$99t=ozq7e0._cache,C$99t=C$99t._length?C$99t[--C$99t._length]:new ozq7e0;return C$99t.inPool=!1,C$99t},ozq7e0.EMPTY=new ozq7e0,ozq7e0.TEMP=new ozq7e0,ozq7e0._cache=[],ozq7e0),C$99R=(C$99o(zeqo,"laya.maths.Point"),(C$99e=zeqo.prototype).setTo=function(C$99t,C$99e){return this.x=C$99t,this.y=C$99e,this},C$99e.distance=function(C$99t,C$99e){return Math.sqrt((this.x-C$99t)*(this.x-C$99t)+(this.y-C$99e)*(this.y-C$99e))},C$99e.toString=function(){return this.x+","+this.y},C$99e.normalize=function(){var C$99t=Math.sqrt(this.x*this.x+this.y*this.y);0<C$99t&&(this.x*=C$99t=1/C$99t,this.y*=C$99t)},zeqo.TEMP=new zeqo,zeqo.EMPTY=new zeqo,zeqo),C$99P=(C$99o(busajk,"laya.maths.Rectangle"),(C$99e=busajk.prototype).setTo=function(C$99t,C$99e,C$99i,C$99n){return this.x=C$99t,this.y=C$99e,this.width=C$99i,this.height=C$99n,this},C$99e.copyFrom=function(C$99t){return this.x=C$99t.x,this.y=C$99t.y,this.width=C$99t.width,this.height=C$99t.height,this},C$99e.contains=function(C$99t,C$99e){return!(this.width<=0||this.height<=0)&&C$99t>=this.x&&C$99t<this.right&&C$99e>=this.y&&C$99e<this.bottom},C$99e.intersects=function(C$99t){return!(C$99t.x>this.x+this.width||C$99t.x+C$99t.width<this.x||C$99t.y>this.y+this.height||C$99t.y+C$99t.height<this.y)},C$99e.intersection=function(C$99t,C$99e){return this.intersects(C$99t)?((C$99e=C$99e||new busajk).x=Math.max(this.x,C$99t.x),C$99e.y=Math.max(this.y,C$99t.y),C$99e.width=Math.min(this.right,C$99t.right)-C$99e.x,C$99e.height=Math.min(this.bottom,C$99t.bottom)-C$99e.y,C$99e):null},C$99e.union=function(C$99t,C$99e){return C$99e=C$99e||new busajk,this.clone(C$99e),C$99t.width<=0||C$99t.height<=0?C$99e:(C$99e.addPoint(C$99t.x,C$99t.y),C$99e.addPoint(C$99t.right,C$99t.bottom),this)},C$99e.clone=function(C$99t){return(C$99t=C$99t||new busajk).x=this.x,C$99t.y=this.y,C$99t.width=this.width,C$99t.height=this.height,C$99t},C$99e.toString=function(){return this.x+","+this.y+","+this.width+","+this.height},C$99e.equals=function(C$99t){return!(!C$99t||C$99t.x!==this.x||C$99t.y!==this.y||C$99t.width!==this.width||C$99t.height!==this.height)},C$99e.addPoint=function(C$99t,C$99e){return this.x>C$99t&&(this.width+=this.x-C$99t,this.x=C$99t),this.y>C$99e&&(this.height+=this.y-C$99e,this.y=C$99e),this.width<C$99t-this.x&&(this.width=C$99t-this.x),this.height<C$99e-this.y&&(this.height=C$99e-this.y),this},C$99e._getBoundPoints=function(){var C$99t=busajk._temB;return(C$99t.length=0)==this.width||0==this.height||C$99t.push(this.x,this.y,this.x+this.width,this.y,this.x,this.y+this.height,this.x+this.width,this.y+this.height),C$99t},C$99e.isEmpty=function(){return this.width<=0||this.height<=0},C$99t(0,C$99e,"right",function(){return this.x+this.width}),C$99t(0,C$99e,"bottom",function(){return this.y+this.height}),busajk._getBoundPointS=function(C$99t,C$99e,C$99i,C$99n){var C$99r=busajk._temA;return(C$99r.length=0)==C$99i||0==C$99n||C$99r.push(C$99t,C$99e,C$99t+C$99i,C$99e,C$99t,C$99e+C$99n,C$99t+C$99i,C$99e+C$99n),C$99r},busajk._getWrapRec=function(C$99t,C$99e){if(!C$99t||C$99t.length<1)return(C$99e||busajk.TEMP).setTo(0,0,0,0);C$99e=C$99e||new busajk;var C$99i,C$99n,C$99r,C$99s,C$99a,C$99o=C$99t.length,C$99h=C$99R.TEMP;for(C$99r=C$99a=-(C$99n=C$99s=99999),C$99i=0;C$99i<C$99o;C$99i+=2)C$99h.x=C$99t[C$99i],C$99h.y=C$99t[C$99i+1],C$99n=C$99n<C$99h.x?C$99n:C$99h.x,C$99s=C$99s<C$99h.y?C$99s:C$99h.y,C$99r=C$99r>C$99h.x?C$99r:C$99h.x,C$99a=C$99a>C$99h.y?C$99a:C$99h.y;return C$99e.setTo(C$99n,C$99s,C$99r-C$99n,C$99a-C$99s)},busajk.EMPTY=new busajk,busajk.TEMP=new busajk,busajk._temB=[],busajk._temA=[],busajk),C$99L=(C$99o(pzf$v,"laya.media.SoundManager"),C$99t(1,pzf$v,"useAudioMusic",function(){return pzf$v._useAudioMusic},function(C$99t){pzf$v._useAudioMusic=C$99t,pzf$v._musicClass=C$99t?C$99rt:null}),C$99t(1,pzf$v,"autoStopMusic",function(){return pzf$v._autoStopMusic},function(C$99t){C$99b.stage.off("blur",null,pzf$v._stageOnBlur),C$99b.stage.off("focus",null,pzf$v._stageOnFocus),C$99b.stage.off("visibilitychange",null,pzf$v._visibilityChange),(pzf$v._autoStopMusic=C$99t)&&(C$99b.stage.on("blur",null,pzf$v._stageOnBlur),C$99b.stage.on("focus",null,pzf$v._stageOnFocus),C$99b.stage.on("visibilitychange",null,pzf$v._visibilityChange))}),C$99t(1,pzf$v,"muted",function(){return pzf$v._muted},function(C$99t){C$99t!=pzf$v._muted&&(C$99t&&pzf$v.stopAllSound(),pzf$v.musicMuted=C$99t,pzf$v._muted=C$99t)}),C$99t(1,pzf$v,"musicMuted",function(){return pzf$v._musicMuted},function(C$99t){C$99t!=pzf$v._musicMuted&&(C$99t?(pzf$v._tMusic&&pzf$v._musicChannel&&!pzf$v._musicChannel.isStopped?pzf$v._musicChannel.pause():pzf$v._musicChannel=null,pzf$v._musicMuted=C$99t):(pzf$v._musicMuted=C$99t,pzf$v._tMusic&&pzf$v._musicChannel&&pzf$v._musicChannel.resume()))}),C$99t(1,pzf$v,"soundMuted",function(){return pzf$v._soundMuted},function(C$99t){pzf$v._soundMuted=C$99t}),pzf$v.addChannel=function(C$99t){0<=pzf$v._channels.indexOf(C$99t)||(pzf$v._channels.push(C$99t),pzf$v.autoReleaseSound&&0!=pzf$v._notUsedCount&&pzf$v._notUsedUrls[C$99t.url]&&(delete pzf$v._notUsedUrls[C$99t.url],0==--pzf$v._notUsedCount&&C$99b.timer.clear(pzf$v,pzf$v.disposeSoundIfNotUsed)))},pzf$v.removeChannel=function(C$99t){var C$99e=pzf$v._channels,C$99i=C$99e.indexOf(C$99t);if(-1!=C$99i&&(C$99e.splice(C$99i,1),pzf$v.autoReleaseSound)){var C$99n=C$99t.url,C$99t=pzf$v.defaultIntervals[C$99n]||2e4;if(0<C$99t){var C$99r=!0;for(C$99i=C$99e.length-1;0<=C$99i;C$99i--)if(C$99e[C$99i].url==C$99n){C$99r=!1;break}C$99r&&(pzf$v._notUsedUrls[C$99n]=Date.now()+C$99t,0==pzf$v._notUsedCount++&&C$99b.timer.loop(1e4,pzf$v,pzf$v.disposeSoundIfNotUsed))}}},pzf$v.disposeSoundIfNotUsed=function(){var C$99t=pzf$v._notUsedUrls;if(0!=pzf$v._notUsedCount){var C$99e=Date.now();for(var C$99i in C$99t)C$99e>=C$99t[C$99i]&&(delete C$99t[C$99i],--pzf$v._notUsedCount,pzf$v.destroySound(C$99i));if(0!=pzf$v._notUsedCount)return}C$99b.timer.clear(pzf$v,pzf$v.disposeSoundIfNotUsed)},pzf$v._visibilityChange=function(){C$99b.stage.isVisibility?pzf$v._stageOnFocus():pzf$v._stageOnBlur()},pzf$v._stageOnBlur=function(){pzf$v._isActive=!1,pzf$v._musicChannel&&(pzf$v._musicChannel.isStopped||(pzf$v._blurPaused=!0,pzf$v._musicChannel.pause())),pzf$v.stopAllSound(),C$99b.stage.once("mousedown",null,pzf$v._stageOnFocus)},pzf$v._recoverWebAudio=function(){C$99at.ctx&&"running"!=C$99at.ctx.state&&C$99at.ctx.resume&&C$99at.ctx.resume()},pzf$v._stageOnFocus=function(){var C$99t;pzf$v._isActive=!0,pzf$v._recoverWebAudio(),C$99b.stage.off("mousedown",null,pzf$v._stageOnFocus),pzf$v._blurPaused&&(C$99t=pzf$v._musicChannel)&&pzf$v._music&&C$99t.isStopped&&(pzf$v._blurPaused=!1,pzf$v._music._disposed?pzf$v.playMusic(C$99t.url,C$99t.loops,C$99t.startHandler,C$99t.completeHandler,C$99t.startTime):C$99t.audioBuffer?C$99t.resume():pzf$v._music.play(C$99t.startTime,C$99t.loops,C$99t.startHandler,C$99t))},pzf$v.playSound=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){if(void 0===C$99e&&(C$99e=1),void 0===C$99s&&(C$99s=0),!C$99t)return null;if(pzf$v._muted)return null;if(pzf$v._recoverWebAudio(),C$99t==pzf$v._tMusic){if(pzf$v._musicMuted)return null}else{if(!pzf$v._isActive)return null;if(pzf$v._soundMuted)return null}var C$99a=pzf$v._pool[C$99t];return C$99r=C$99r||pzf$v._soundClass,C$99a||((C$99a=new C$99r).load(C$99t),pzf$v._pool[C$99t]=C$99a),(C$99r=C$99a.play(C$99s,C$99e,C$99i))?(C$99t==pzf$v._tMusic&&(pzf$v._music=C$99a,pzf$v._isActive||(pzf$v._blurPaused=!0,C$99r.pause())),C$99r.url=C$99t,C$99r.volume=C$99t==pzf$v._tMusic?pzf$v.musicVolume:pzf$v.soundVolume,C$99r.completeHandler=C$99n,C$99r):null},pzf$v.destroySound=function(C$99t){var C$99e=pzf$v._pool[C$99t];C$99e&&(delete pzf$v._pool[C$99t],C$99e.dispose())},pzf$v.playMusic=function(C$99t,C$99e,C$99i,C$99n,C$99r){return void 0===C$99e&&(C$99e=0),void 0===C$99r&&(C$99r=0),pzf$v._tMusic=C$99t,pzf$v._musicChannel&&pzf$v._musicChannel.stop(),pzf$v._musicChannel=pzf$v.playSound(C$99t,C$99e,C$99i,C$99n,null,C$99r)},pzf$v.stopSound=function(C$99t){for(var C$99e,C$99i=pzf$v._channels.length-1;0<=C$99i;C$99i--)(C$99e=pzf$v._channels[C$99i]).url==C$99t&&C$99e.stop()},pzf$v.stopAll=function(){pzf$v._tMusic=null;var C$99t=0;for(C$99t=pzf$v._channels.length-1;0<=C$99t;C$99t--)pzf$v._channels[C$99t].stop()},pzf$v.stopAllSound=function(){var C$99t,C$99e=0;for(C$99e=pzf$v._channels.length-1;0<=C$99e;C$99e--)(C$99t=pzf$v._channels[C$99e]).url!=pzf$v._tMusic&&C$99t.stop()},pzf$v.stopMusic=function(){pzf$v._musicChannel&&pzf$v._musicChannel.stop(),pzf$v._tMusic=null},pzf$v.setSoundVolume=function(C$99t,C$99e){if(C$99e)pzf$v._setVolume(C$99e,C$99t);else{pzf$v.soundVolume=C$99t;var C$99i,C$99n=0;for(C$99n=pzf$v._channels.length-1;0<=C$99n;C$99n--)(C$99i=pzf$v._channels[C$99n]).url!=pzf$v._tMusic&&(C$99i.volume=C$99t)}},pzf$v.setMusicVolume=function(C$99t){pzf$v.musicVolume=C$99t,pzf$v._setVolume(pzf$v._tMusic,C$99t)},pzf$v._setVolume=function(C$99t,C$99e){for(var C$99i,C$99n=pzf$v._channels.length-1;0<=C$99n;C$99n--)(C$99i=pzf$v._channels[C$99n]).url==C$99t&&(C$99i.volume=C$99e)},pzf$v.musicVolume=1,pzf$v.soundVolume=1,pzf$v.playbackRate=1,pzf$v._useAudioMusic=!0,pzf$v._muted=!1,pzf$v._soundMuted=!1,pzf$v._musicMuted=!1,pzf$v._tMusic=null,pzf$v._musicChannel=null,pzf$v._music=null,pzf$v._channels=[],pzf$v._autoStopMusic=!1,pzf$v._blurPaused=!1,pzf$v._isActive=!0,pzf$v._soundClass=null,pzf$v._musicClass=null,pzf$v.autoReleaseSound=!0,pzf$v._pool={},pzf$v.defaultIntervals={},pzf$v._notUsedUrls={},pzf$v._notUsedCount=0,pzf$v),C$99z=(C$99o(njgrb3,"laya.net.LocalStorage"),njgrb3.__init__=function(){njgrb3._baseClass||(njgrb3._baseClass=C$99kt).init(),njgrb3.items=njgrb3._baseClass.items,njgrb3.support=njgrb3._baseClass.support},njgrb3.setItem=function(C$99t,C$99e){njgrb3._baseClass.setItem(C$99t,C$99e)},njgrb3.getItem=function(C$99t){return njgrb3._baseClass.getItem(C$99t)},njgrb3.setJSON=function(C$99t,C$99e){njgrb3._baseClass.setJSON(C$99t,C$99e)},njgrb3.getJSON=function(C$99t){return njgrb3._baseClass.getJSON(C$99t)},njgrb3.removeItem=function(C$99t){njgrb3._baseClass.removeItem(C$99t)},njgrb3.clear=function(){njgrb3._baseClass.clear()},njgrb3._baseClass=null,njgrb3.items=null,njgrb3.support=!1,njgrb3.__init$=function(){function qex_0(){}C$99o(qex_0,""),qex_0.init=function(){try{qex_0.support=!0,qex_0.items=C$99s.localStorage,qex_0.setItem("laya","1"),qex_0.removeItem("laya")}catch(C$99t){qex_0.support=!1}qex_0.support||console.log("LocalStorage is not supprot or browser is private mode.")},qex_0.setItem=function(C$99t,C$99e){try{qex_0.support&&qex_0.items.setItem(C$99t,C$99e)}catch(C$99t){console.warn("set localStorage failed",C$99t)}},qex_0.getItem=function(C$99t){return qex_0.support?qex_0.items.getItem(C$99t):null},qex_0.setJSON=function(C$99t,C$99e){try{qex_0.support&&qex_0.items.setItem(C$99t,JSON.stringify(C$99e))}catch(C$99t){console.warn("set localStorage failed",C$99t)}},qex_0.getJSON=function(C$99t){return JSON.parse(qex_0.support?qex_0.items.getItem(C$99t):null)},qex_0.removeItem=function(C$99t){qex_0.support&&qex_0.items.removeItem(C$99t)},qex_0.clear=function(){qex_0.support&&qex_0.items.clear()},qex_0.items=null,qex_0.support=!1,C$99kt=qex_0},njgrb3),C$99k=(C$99o(xe0oy,"laya.net.ResourceVersion"),xe0oy.enable=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=2),laya.net.ResourceVersion.type=C$99i,C$99b.loader.load(C$99t,C$99g.create(null,xe0oy.onManifestLoaded,[C$99e]),null,"json"),C$99B.customFormat=xe0oy.addVersionPrefix},xe0oy.onManifestLoaded=function(C$99t,C$99e){xe0oy.manifest=C$99e,C$99t.run(),C$99e||console.warn("\u8d44\u6e90\u7248\u672c\u6e05\u5355\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u4e0d\u4f7f\u7528\u8d44\u6e90\u7248\u672c\u7ba1\u7406\u3002\u5ffd\u7565ERR_FILE_NOT_FOUND\u9519\u8bef\u3002")},xe0oy.addVersionPrefix=function(C$99t){return xe0oy.manifest&&xe0oy.manifest[C$99t]?2==xe0oy.type?xe0oy.manifest[C$99t]:xe0oy.manifest[C$99t]+"/"+C$99t:C$99t},xe0oy.FOLDER_VERSION=1,xe0oy.FILENAME_VERSION=2,xe0oy.manifest=null,xe0oy.type=1,C$99o(ct2il4,"laya.net.TTFLoader"),(C$99e=ct2il4.prototype).load=function(C$99t){C$99t=(this._url=C$99t).split(".ttf")[0].split("/");this.fontName=C$99t[C$99t.length-1],C$99S.window.conch?this._loadConch():C$99S.window.FontFace?this._loadWithFontFace():this._loadWithCSS()},C$99e._loadConch=function(){this._http=new C$99ot,this._http.on("error",this,this._onErr),this._http.on("complete",this,this._onHttpLoaded),this._http.send(this._url,null,"get","arraybuffer")},C$99e._onHttpLoaded=function(C$99t){C$99S.window.conch.setFontFaceFromBuffer(this.fontName,C$99t),this._clearHttp(),this._complete()},C$99e._clearHttp=function(){this._http&&(this._http.off("error",this,this._onErr),this._http.off("complete",this,this._onHttpLoaded),this._http=null)},C$99e._onErr=function(){this._clearHttp(),this.err&&(this.err.runWith("fail:"+this._url),this.err=null)},C$99e._complete=function(){C$99b.timer.clear(this,this._complete),C$99b.timer.clear(this,this._checkComplete),this._div&&this._div.parentNode&&(this._div.parentNode.removeChild(this._div),this._div=null),this.complete&&(this.complete.runWith(this),this.complete=null)},C$99e._checkComplete=function(){C$99m.measureText("LayaTTFFont",this._fontTxt).width!=this._txtWidth&&this._complete()},C$99e._loadWithFontFace=function(){var C$99t=new C$99S.window.FontFace(this.fontName,"url('"+this._url+"')");C$99S.window.document.fonts.add(C$99t);var C$99e=this;C$99t.loaded.then(function(){C$99e._complete()}),C$99t.load()},C$99e._createDiv=function(){this._div=C$99S.createElement("div"),this._div.innerHTML="laya";var C$99t=this._div.style;C$99t.fontFamily=this.fontName,C$99t.position="absolute",C$99t.left="-100px",C$99t.top="-100px",C$99S.document.body.appendChild(this._div)},C$99e._loadWithCSS=function(){var C$99t=this,C$99e=C$99S.createElement("style");C$99e.type="text/css",C$99S.document.body.appendChild(C$99e),C$99e.textContent="@font-face { font-family:'"+this.fontName+"'; src:url('"+this._url+"');}",this._fontTxt="40px "+this.fontName,this._txtWidth=C$99m.measureText("LayaTTFFont",this._fontTxt).width;var C$99i=this;C$99e.onload=function(){C$99b.timer.once(1e4,C$99i,C$99t._complete)},C$99b.timer.loop(20,this,this._checkComplete),this._createDiv()},ct2il4._testString="LayaTTFFont",ct2il4),C$99B=(C$99o(of7zd,"laya.net.URL"),C$99e=of7zd.prototype,C$99t(0,C$99e,"path",function(){return this._path}),C$99t(0,C$99e,"url",function(){return this._url}),of7zd.formatURL=function(C$99t,C$99e){if(!C$99t)return"null path";if(0<C$99t.indexOf(":"))return C$99t;var C$99i=(C$99t=null!=of7zd.customFormat?of7zd.customFormat(C$99t,C$99e):C$99t).charAt(0);if("."===C$99i)return of7zd.formatRelativePath((C$99e||of7zd.basePath)+C$99t);if("~"===C$99i)return of7zd.rootPath+C$99t.substring(1);if("d"===C$99i){if(0===C$99t.indexOf("data:image"))return C$99t}else if("/"===C$99i)return C$99t;return(C$99e||of7zd.basePath)+C$99t},of7zd.formatRelativePath=function(C$99t){for(var C$99e=C$99t.split("/"),C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)".."==C$99e[C$99i]&&(C$99e.splice(C$99i-1,2),C$99i-=2);return C$99e.join("/")},of7zd.isAbsolute=function(C$99t){return 0<C$99t.indexOf(":")||"/"==C$99t.charAt(0)},of7zd.getPath=function(C$99t){var C$99e=C$99t.lastIndexOf("/");return 0<C$99e?C$99t.substr(0,C$99e+1):""},of7zd.getFileName=function(C$99t){var C$99e=C$99t.lastIndexOf("/");return 0<C$99e?C$99t.substr(C$99e+1):C$99t},of7zd.version={},of7zd.basePath="",of7zd.rootPath="",of7zd.customFormat=function(C$99t){var C$99e=of7zd.version[C$99t];return!C$99M.isConchApp&&C$99e&&(C$99t+="?v="+C$99e),C$99t},of7zd),C$99M=(C$99o(arjgbk,"laya.renders.Render"),(C$99e=arjgbk.prototype)._onVisibilitychange=function(){C$99b.stage.isVisibility?0!=this._timeId&&C$99S.window.clearInterval(this._timeId):this._timeId=C$99S.window.setInterval(this._enterFrame,1e3)},C$99e._enterFrame=function(C$99t){C$99b.stage._loop()},C$99t(1,arjgbk,"context",function(){return arjgbk._context}),C$99t(1,arjgbk,"canvas",function(){return arjgbk._mainCanvas.source}),arjgbk._context=null,arjgbk._mainCanvas=null,arjgbk.WebGL=null,arjgbk.isConchNode=!1,arjgbk.isConchApp=!1,arjgbk.isConchWebGL=!1,arjgbk.isWebGL=!1,arjgbk.is3DMode=!1,arjgbk.optimizeTextureMemory=function(C$99t,C$99e){return!0},arjgbk.__init$=function(){C$99s.ConchRenderType=C$99s.ConchRenderType||1,C$99s.ConchRenderType|=C$99s.conch?4:0,arjgbk.isConchNode=5==(5&C$99s.ConchRenderType),arjgbk.isConchApp=4==(4&C$99s.ConchRenderType),arjgbk.isConchWebGL=6==C$99s.ConchRenderType},arjgbk),C$99N=(C$99o(wh6_5m,"laya.renders.RenderContext"),(C$99e=wh6_5m.prototype).destroy=function(){this.canvas&&(this.canvas.destroy(),this.canvas=null,this.ctx=null),this.ctx&&(this.ctx.destroy(),this.ctx=null)},C$99e.drawTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99t.loaded&&this.ctx.drawTexture(C$99t,C$99e,C$99i,C$99n,C$99r,this.x,this.y)},C$99e._drawTextures=function(C$99t,C$99e,C$99i){C$99i[0].loaded&&this.ctx.drawTextures(C$99i[0],C$99i[1],C$99t+this.x,C$99e+this.y)},C$99e.drawTextureWithTransform=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){C$99t.loaded&&this.ctx.drawTextureWithTransform(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,this.x,this.y,C$99a)},C$99e.fillQuadrangle=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.ctx.fillQuadrangle(C$99t,C$99e,C$99i,C$99n,C$99r)},C$99e.drawCanvas=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.ctx.drawCanvas(C$99t,C$99e+this.x,C$99i+this.y,C$99n,C$99r)},C$99e.drawRect=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){void 0===C$99s&&(C$99s=1);var C$99a=this.ctx;C$99a.strokeStyle=C$99r,C$99a.lineWidth=C$99s,C$99a.strokeRect(C$99t+this.x,C$99e+this.y,C$99i,C$99n,C$99s)},C$99e._fillAndStroke=function(C$99t,C$99e,C$99i,C$99n){void 0===C$99n&&(C$99n=!1);var C$99r=this.ctx;null!=C$99t&&(C$99r.fillStyle=C$99t,C$99M.isWebGL?C$99r.fill(C$99n):C$99r.fill()),null!=C$99e&&0<C$99i&&(C$99r.strokeStyle=C$99e,C$99r.lineWidth=C$99i,C$99r.stroke())},C$99e.clipRect=function(C$99t,C$99e,C$99i,C$99n){this.ctx.clipRect(C$99t+this.x,C$99e+this.y,C$99i,C$99n)},C$99e.fillRect=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.ctx.fillRect(C$99t+this.x,C$99e+this.y,C$99i,C$99n,C$99r)},C$99e.drawCircle=function(C$99t,C$99e,C$99i,C$99n,C$99r){void 0===C$99r&&(C$99r=1),C$99X.drawCall++;var C$99s=this.ctx;C$99s.beginPath(),C$99s.strokeStyle=C$99n,C$99s.lineWidth=C$99r,C$99s.arc(C$99t+this.x,C$99e+this.y,C$99i,0,wh6_5m.PI2),C$99s.stroke()},C$99e.drawTriangles=function(C$99t,C$99e,C$99i){if(C$99M.isWebGL)this.ctx.drawTriangles(C$99i[0],C$99t+C$99i[1],C$99e+C$99i[2],C$99i[3],C$99i[4],C$99i[5],C$99i[6],C$99i[7],C$99i[8],C$99i[9]);else{var C$99n=C$99i[5],C$99r=0,C$99s=C$99n.length,C$99a=this.ctx;for(C$99r=0;C$99r<C$99s;C$99r+=3){var C$99o=2*C$99n[C$99r],C$99h=2*C$99n[C$99r+1],C$99l=2*C$99n[C$99r+2];C$99a.drawTriangle(C$99i[0],C$99i[3],C$99i[4],C$99o,C$99h,C$99l,C$99i[6],!0)}}},C$99e.fillCircle=function(C$99t,C$99e,C$99i,C$99n){C$99X.drawCall++;var C$99r=this.ctx;C$99r.beginPath(),C$99r.fillStyle=C$99n,C$99r.arc(C$99t+this.x,C$99e+this.y,C$99i,0,wh6_5m.PI2),C$99r.fill()},C$99e.setShader=function(C$99t){this.ctx.setShader(C$99t)},C$99e.drawLine=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){void 0===C$99s&&(C$99s=1);var C$99a=this.ctx;C$99a.beginPath(),C$99a.strokeStyle=C$99r,C$99a.lineWidth=C$99s,C$99a.moveTo(this.x+C$99t,this.y+C$99e),C$99a.lineTo(this.x+C$99i,this.y+C$99n),C$99a.stroke()},C$99e.clear=function(){this.ctx.clear()},C$99e.transformByMatrix=function(C$99t){this.ctx.transformByMatrix(C$99t)},C$99e.setTransform=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this.ctx.setTransform(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s)},C$99e.setTransformByMatrix=function(C$99t){this.ctx.setTransformByMatrix(C$99t)},C$99e.save=function(){this.ctx.save()},C$99e.restore=function(){this.ctx.restore()},C$99e.translate=function(C$99t,C$99e){this.ctx.translate(C$99t,C$99e)},C$99e.transform=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this.ctx.transform(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s)},C$99e.rotate=function(C$99t){this.ctx.rotate(C$99t)},C$99e.scale=function(C$99t,C$99e){this.ctx.scale(C$99t,C$99e)},C$99e.alpha=function(C$99t){this.ctx.globalAlpha*=C$99t},C$99e.setAlpha=function(C$99t){this.ctx.globalAlpha=C$99t},C$99e.fillWords=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this.ctx.fillWords(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s=void 0===C$99s?0:C$99s)},C$99e.fillBorderWords=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this.ctx.fillBorderWords(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a)},C$99e.fillText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this.ctx.fillText(C$99t,C$99e+this.x,C$99i+this.y,C$99n,C$99r,C$99s)},C$99e.strokeText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this.ctx.strokeText(C$99t,C$99e+this.x,C$99i+this.y,C$99n,C$99r,C$99s,C$99a)},C$99e.blendMode=function(C$99t){this.ctx.globalCompositeOperation=C$99t},C$99e.flush=function(){this.ctx.flush&&this.ctx.flush()},C$99e.addRenderObject=function(C$99t){this.ctx.addRenderObject(C$99t)},C$99e.beginClip=function(C$99t,C$99e,C$99i,C$99n){this.ctx.beginClip&&this.ctx.beginClip(C$99t,C$99e,C$99i,C$99n)},C$99e.endClip=function(){this.ctx.endClip&&this.ctx.endClip()},C$99e.fillTrangles=function(C$99t,C$99e,C$99i){this.ctx.fillTrangles(C$99i[0],C$99i[1],C$99i[2],C$99i[3],4<C$99i.length?C$99i[4]:null)},wh6_5m.PI2=2*Math.PI,wh6_5m),C$99O=(C$99o(agbjnr,"laya.renders.RenderSprite"),(C$99e=agbjnr.prototype).onCreate=function(C$99t){},C$99e._style=function(C$99t,C$99e,C$99i,C$99n){C$99t._style.render(C$99t,C$99e,C$99i,C$99n);var C$99r=this._next;C$99r._fun.call(C$99r,C$99t,C$99e,C$99i,C$99n)},C$99e._no=function(C$99t,C$99e,C$99i,C$99n){},C$99e._custom=function(C$99t,C$99e,C$99i,C$99n){C$99t.customRender(C$99e,C$99i,C$99n);var C$99r=C$99t._style._tf;this._next._fun.call(this._next,C$99t,C$99e,C$99i-C$99r.translateX,C$99n-C$99r.translateY)},C$99e._clip=function(C$99t,C$99e,C$99i,C$99n){var C$99r=this._next;var C$99s;C$99r!=agbjnr.NORENDER&&(C$99s=C$99t._style.scrollRect,C$99e.ctx.save(),C$99e.ctx.clipRect(C$99i,C$99n,C$99s.width,C$99s.height),C$99r._fun.call(C$99r,C$99t,C$99e,C$99i-C$99s.x,C$99n-C$99s.y),C$99e.ctx.restore())},C$99e._blend=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._style;C$99r.blendMode&&(C$99e.ctx.globalCompositeOperation=C$99r.blendMode);C$99r=this._next;C$99r._fun.call(C$99r,C$99t,C$99e,C$99i,C$99n),C$99e.ctx.globalCompositeOperation="source-over"},C$99e._mask=function(C$99t,C$99e,C$99i,C$99n){var C$99r=this._next;C$99r._fun.call(C$99r,C$99t,C$99e,C$99i,C$99n);C$99r=C$99t.mask;C$99r&&(C$99e.ctx.globalCompositeOperation="destination-in",(0<C$99r.numChildren||!C$99r.graphics._isOnlyOne())&&(C$99r.cacheAsBitmap=!0),C$99r.render(C$99e,C$99i-C$99t.pivotX,C$99n-C$99t.pivotY)),C$99e.ctx.globalCompositeOperation="source-over"},C$99e._graphics=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._style._tf;C$99t._graphics&&C$99t._graphics._render(C$99t,C$99e,C$99i-C$99r.translateX,C$99n-C$99r.translateY);C$99r=this._next;C$99r._fun.call(C$99r,C$99t,C$99e,C$99i,C$99n)},C$99e._image=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._style;C$99e.ctx.drawTexture2(C$99i,C$99n,C$99r._tf.translateX,C$99r._tf.translateY,C$99t.transform,C$99r.alpha,C$99r.blendMode,C$99t._graphics._one)},C$99e._image2=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._style._tf;C$99e.ctx.drawTexture2(C$99i,C$99n,C$99r.translateX,C$99r.translateY,C$99t.transform,1,null,C$99t._graphics._one)},C$99e._alpha=function(C$99t,C$99e,C$99i,C$99n){var C$99r,C$99s;(.01<(C$99s=C$99t._style.alpha)||C$99t._needRepaint())&&(C$99r=C$99e.ctx.globalAlpha,C$99e.ctx.globalAlpha*=C$99s,(C$99s=this._next)._fun.call(C$99s,C$99t,C$99e,C$99i,C$99n),C$99e.ctx.globalAlpha=C$99r)},C$99e._transform=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.transform,C$99s=this._next;C$99r&&C$99s!=agbjnr.NORENDER?(C$99e.save(),C$99e.transform(C$99r.a,C$99r.b,C$99r.c,C$99r.d,C$99r.tx+C$99i,C$99r.ty+C$99n),C$99s._fun.call(C$99s,C$99t,C$99e,0,0),C$99e.restore()):C$99s._fun.call(C$99s,C$99t,C$99e,C$99i,C$99n)},C$99e._childs=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._style,C$99s=C$99r._tf;C$99i=C$99i-C$99s.translateX+C$99r.paddingLeft,C$99n=C$99n-C$99s.translateY+C$99r.paddingTop,C$99r._calculation&&(!(C$99s=C$99t._getWords())||(C$99r=C$99r)&&(C$99r.stroke?C$99e.fillBorderWords(C$99s,C$99i,C$99n,C$99r.font,C$99r.color,C$99r.strokeColor,C$99r.stroke):C$99e.fillWords(C$99s,C$99i,C$99n,C$99r.font,C$99r.color,"none"!=C$99r.textDecoration&&C$99r.underLine?1:0)));var C$99a,C$99o=C$99t._childs,C$99h=C$99o.length;if(C$99t.viewport||C$99t.optimizeScrollRect&&C$99t._style.scrollRect){var C$99s=C$99t.viewport||C$99t._style.scrollRect,C$99c=C$99s.x,C$99_=C$99s.y,C$99u=C$99s.right,C$99d=C$99s.bottom,C$99f=NaN,C$99p=NaN;for(C$99l=0;C$99l<C$99h;++C$99l)(C$99a=C$99o[C$99l]).visible&&(C$99f=C$99a._x)<C$99u&&C$99f+C$99a.width>C$99c&&(C$99p=C$99a._y)<C$99d&&C$99p+C$99a.height>C$99_&&C$99a.render(C$99e,C$99i,C$99n)}else for(var C$99l=0;C$99l<C$99h;++C$99l)(C$99a=C$99o[C$99l])._style.visible&&C$99a.render(C$99e,C$99i,C$99n)},C$99e._canvas=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._$P.cacheCanvas;var C$99s;C$99r?("bitmap"===C$99r.type?C$99X.canvasBitmap++:C$99X.canvasNormal++,C$99s=C$99r.ctx,C$99t._needRepaint()||!C$99s?this._canvas_repaint(C$99t,C$99e,C$99i,C$99n):(C$99r=C$99r._cacheRec,C$99e.drawCanvas(C$99s.canvas,C$99i+C$99r.x,C$99n+C$99r.y,C$99r.width,C$99r.height))):this._next._fun.call(this._next,C$99t,C$99e,C$99i,C$99n)},C$99e._canvas_repaint=function(C$99t,C$99c,C$99_,C$99u){var C$99e=C$99t._$P.cacheCanvas,C$99i=this._next;if(C$99e){var C$99n,C$99d,C$99f,C$99r,C$99s=C$99e.ctx,C$99a=C$99t._needRepaint()||!C$99s,C$99p=C$99e.type;if("bitmap"===C$99p?C$99X.canvasBitmap++:C$99X.canvasNormal++,C$99a){var C$99m;C$99e._cacheRec||(C$99e._cacheRec=new C$99P),C$99M.isWebGL&&"bitmap"!==C$99p?C$99e._cacheRec.setTo(-C$99t.pivotX,-C$99t.pivotY,1,1):((C$99r=C$99t.getSelfBounds()).x=C$99r.x-C$99t.pivotX,C$99r.y=C$99r.y-C$99t.pivotY,C$99r.x=C$99r.x-16,C$99r.y=C$99r.y-16,C$99r.width=C$99r.width+32,C$99r.height=C$99r.height+32,C$99r.x=Math.floor(C$99r.x+C$99_)-C$99_,C$99r.y=Math.floor(C$99r.y+C$99u)-C$99u,C$99r.width=Math.floor(C$99r.width),C$99r.height=Math.floor(C$99r.height),C$99e._cacheRec.copyFrom(C$99r)),C$99r=C$99e._cacheRec;var C$99g,C$99a=C$99M.isWebGL?1:C$99S.pixelRatio*C$99b.stage.clientScaleX,C$99v=C$99M.isWebGL?1:C$99S.pixelRatio*C$99b.stage.clientScaleY;if(!C$99M.isWebGL){var C$99o,C$99x=1,C$99y=1;for(C$99o=C$99t;C$99o&&C$99o!=C$99b.stage;)C$99x*=C$99o.scaleX,C$99y*=C$99o.scaleY,C$99o=C$99o.parent;C$99M.isWebGL?(C$99x<1&&(C$99a*=C$99x),C$99y<1&&(C$99v*=C$99y)):(1<C$99x&&(C$99a*=C$99x),1<C$99y&&(C$99v*=C$99y))}var C$99h;if(C$99t.scrollRect&&(C$99h=C$99t.scrollRect,C$99r.x-=C$99h.x,C$99r.y-=C$99h.y),C$99h=C$99r.width*C$99a,C$99m=C$99r.height*C$99v,C$99d=C$99r.x,C$99f=C$99r.y,C$99M.isWebGL&&"bitmap"===C$99p&&(2048<C$99h||2048<C$99m))return console.warn("cache bitmap size larger than 2048,cache ignored"),C$99e.ctx&&(C$99Y.recover("RenderContext",C$99e.ctx),C$99e.ctx.canvas.size(0,0),C$99e.ctx=null),void C$99i._fun.call(C$99i,C$99t,C$99c,C$99_,C$99u);var C$99l;(C$99s=C$99s||(C$99e.ctx=C$99Y.getItem("RenderContext")||new C$99N(C$99h,C$99m,C$99gt.create("AUTO")))).ctx.sprite=C$99t,(C$99n=C$99s.canvas).clear(),C$99n.width==C$99h&&C$99n.height==C$99m||C$99n.size(C$99h,C$99m),"bitmap"===C$99p?C$99n.context.asBitmap=!0:"normal"===C$99p&&(C$99n.context.asBitmap=!1),1!=C$99a||1!=C$99v?((C$99l=C$99s.ctx).save(),C$99l.scale(C$99a,C$99v),!C$99M.isConchWebGL&&C$99M.isConchApp&&(C$99g=C$99t._$P.cf)&&C$99l.setFilterMatrix&&C$99l.setFilterMatrix(C$99g._mat,C$99g._alpha),C$99i._fun.call(C$99i,C$99t,C$99s,-C$99d,-C$99f),C$99l.restore()):(C$99l=C$99s.ctx,!C$99M.isConchWebGL&&C$99M.isConchApp&&(C$99g=C$99t._$P.cf)&&C$99l.setFilterMatrix&&C$99l.setFilterMatrix(C$99g._mat,C$99g._alpha),C$99i._fun.call(C$99i,C$99t,C$99s,-C$99d,-C$99f)),C$99M.isConchApp&&!C$99M.isConchWebGL||C$99t._applyFilters(),C$99t._$P.staticCache&&(C$99e.reCache=!1),C$99X.canvasReCache++}else C$99d=(C$99r=C$99e._cacheRec).x,C$99f=C$99r.y,C$99n=C$99s.canvas;C$99c.drawCanvas(C$99n,C$99_+C$99d,C$99u+C$99f,C$99r.width,C$99r.height)}else C$99i._fun.call(C$99i,C$99t,C$99s,C$99_,C$99u)},agbjnr.__init__=function(){var C$99t,C$99e=0;for(C$99t=C$99m.createRenderSprite(69905,null),agbjnr.renders.length=4096,C$99e=0;C$99e<4096;C$99e++)agbjnr.renders[C$99e]=C$99t;agbjnr.renders[0]=C$99m.createRenderSprite(0,null);var C$99i=[1,512,4,2];var C$99n=new agbjnr(1,null);for(var C$99r=0,C$99s=0;C$99s<C$99i.length;C$99s++)agbjnr.renders[C$99r|=C$99i[C$99s]]=C$99n;agbjnr.renders[513]=C$99m.createRenderSprite(513,null),agbjnr.renders[517]=new agbjnr(517,null)},agbjnr._initRenderFun=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._renderType;(agbjnr.renders[C$99r]=agbjnr._getTypeRender(C$99r))._fun(C$99t,C$99e,C$99i,C$99n)},agbjnr._getTypeRender=function(C$99t){for(var C$99e=null,C$99i=2048;1<C$99i;)C$99i&C$99t&&(C$99e=C$99m.createRenderSprite(C$99i,C$99e)),C$99i>>=1;return C$99e},agbjnr.IMAGE=1,agbjnr.ALPHA=2,agbjnr.TRANSFORM=4,agbjnr.BLEND=8,agbjnr.CANVAS=16,agbjnr.FILTERS=32,agbjnr.MASK=64,agbjnr.CLIP=128,agbjnr.STYLE=256,agbjnr.GRAPHICS=512,agbjnr.CUSTOM=1024,agbjnr.CHILDS=2048,agbjnr.INIT=69905,agbjnr.renders=[],agbjnr.NORENDER=new agbjnr(0,null),agbjnr),C$99F=(C$99o(hm_6,"laya.resource.Context"),(C$99e=hm_6.prototype).replaceReset=function(){var C$99t,C$99e,C$99i=0;for(C$99t=hm_6.replaceKeys.length,C$99i=0;C$99i<C$99t;C$99i++)C$99e=hm_6.replaceKeys[C$99i],this[hm_6.newKeys[C$99i]]=this[C$99e]},C$99e.replaceResotre=function(){this.__restore(),this.__reset()},C$99e.setIsMainContext=function(){},C$99e.drawTextures=function(C$99t,C$99e,C$99i,C$99n){C$99X.drawCall+=C$99e.length/2;for(var C$99r=C$99t.width,C$99s=C$99t.height,C$99a=0,C$99o=C$99e.length;C$99a<C$99o;C$99a+=2)this.drawTexture(C$99t,C$99e[C$99a],C$99e[C$99a+1],C$99r,C$99s,C$99i,C$99n)},C$99e.drawCanvas=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99X.drawCall++,this.drawImage(C$99t.source,C$99e,C$99i,C$99n,C$99r)},C$99e.fillRect=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99X.drawCall++,C$99r&&(this.fillStyle=C$99r),this.__fillRect(C$99t,C$99e,C$99i,C$99n)},C$99e.fillText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){C$99X.drawCall++,3<arguments.length&&null!=C$99n&&(this.font=C$99n,this.fillStyle=C$99r,this.textAlign=C$99s,this.textBaseline="top"),this.__fillText(C$99t,C$99e,C$99i)},C$99e.fillBorderText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){C$99X.drawCall++,this.font=C$99n,this.fillStyle=C$99r,this.textBaseline="top",this.strokeStyle=C$99s,this.lineWidth=C$99a,this.textAlign=C$99o,this.__strokeText(C$99t,C$99e,C$99i),this.__fillText(C$99t,C$99e,C$99i)},C$99e.strokeText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){C$99X.drawCall++,3<arguments.length&&null!=C$99n&&(this.font=C$99n,this.strokeStyle=C$99r,this.lineWidth=C$99s,this.textAlign=C$99a,this.textBaseline="top"),this.__strokeText(C$99t,C$99e,C$99i)},C$99e.transformByMatrix=function(C$99t){this.transform(C$99t.a,C$99t.b,C$99t.c,C$99t.d,C$99t.tx,C$99t.ty)},C$99e.setTransformByMatrix=function(C$99t){this.setTransform(C$99t.a,C$99t.b,C$99t.c,C$99t.d,C$99t.tx,C$99t.ty)},C$99e.clipRect=function(C$99t,C$99e,C$99i,C$99n){C$99X.drawCall++,this.beginPath(),this.rect(C$99t,C$99e,C$99i,C$99n),this.clip()},C$99e.drawTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){C$99X.drawCall++;var C$99o=C$99t.uv,C$99h=C$99t.bitmap.width,C$99l=C$99t.bitmap.height;this.drawImage(C$99t.source,C$99o[0]*C$99h,C$99o[1]*C$99l,(C$99o[2]-C$99o[0])*C$99h,(C$99o[5]-C$99o[3])*C$99l,C$99e+C$99s,C$99i+C$99a,C$99n,C$99r)},C$99e.drawTextureWithTransform=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99c,C$99_){C$99X.drawCall++;var C$99o=C$99t.uv,C$99h=C$99t.bitmap.width,C$99l=C$99t.bitmap.height;this.save(),1!=C$99_&&(this.globalAlpha*=C$99_),C$99s?(this.transform(C$99s.a,C$99s.b,C$99s.c,C$99s.d,C$99s.tx+C$99a,C$99s.ty+C$99c),this.drawImage(C$99t.source,C$99o[0]*C$99h,C$99o[1]*C$99l,(C$99o[2]-C$99o[0])*C$99h,(C$99o[5]-C$99o[3])*C$99l,C$99e,C$99i,C$99n,C$99r)):this.drawImage(C$99t.source,C$99o[0]*C$99h,C$99o[1]*C$99l,(C$99o[2]-C$99o[0])*C$99h,(C$99o[5]-C$99o[3])*C$99l,C$99e+C$99a,C$99i+C$99c,C$99n,C$99r),this.restore()},C$99e.drawTexture2=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99c,C$99a){var C$99o=C$99a[0];var C$99_,C$99u,C$99h,C$99l;C$99o.loaded&&C$99o.bitmap&&C$99o.source&&(C$99X.drawCall++,(C$99_=1!==C$99s)&&(C$99u=this.globalAlpha,this.globalAlpha*=C$99s),C$99s=C$99o.uv,C$99h=C$99o.bitmap.width,C$99l=C$99o.bitmap.height,C$99r?(this.save(),this.transform(C$99r.a,C$99r.b,C$99r.c,C$99r.d,C$99r.tx+C$99t,C$99r.ty+C$99e),this.drawImage(C$99o.source,C$99s[0]*C$99h,C$99s[1]*C$99l,(C$99s[2]-C$99s[0])*C$99h,(C$99s[5]-C$99s[3])*C$99l,C$99a[1]-C$99i,C$99a[2]-C$99n,C$99a[3],C$99a[4]),this.restore()):this.drawImage(C$99o.source,C$99s[0]*C$99h,C$99s[1]*C$99l,(C$99s[2]-C$99s[0])*C$99h,(C$99s[5]-C$99s[3])*C$99l,C$99a[1]-C$99i+C$99t,C$99a[2]-C$99n+C$99e,C$99a[3],C$99a[4]),C$99_&&(this.globalAlpha=C$99u))},C$99e.fillTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){C$99o.pat||(C$99t.uv!=C$99ct.DEF_UV&&((C$99h=new C$99gt("2D")).getContext("2d"),C$99h.size(C$99t.width,C$99t.height),C$99h.context.drawTexture(C$99t,0,0,C$99t.width,C$99t.height,0,0),C$99t=new C$99ct(C$99h)),C$99o.pat=this.createPattern(C$99t.bitmap.source,C$99s));var C$99h=C$99e,C$99s=C$99i,C$99e=0,C$99i=0;C$99a&&(C$99h+=C$99a.x%C$99t.width,C$99s+=C$99a.y%C$99t.height,C$99e-=C$99a.x%C$99t.width,C$99i-=C$99a.y%C$99t.height),this.translate(C$99h,C$99s),this.fillRect(C$99e,C$99i,C$99n,C$99r,C$99o.pat),this.translate(-C$99h,-C$99s)},C$99e.drawTriangle=function(C$99c,C$99t,C$99e,C$99i,C$99n,C$99r,C$99_,C$99s){var C$99u=C$99c.bitmap,C$99d=C$99u.source,C$99f=C$99c.width,C$99p=C$99c.height,C$99m=C$99u.width,C$99u=C$99u.height,C$99a=C$99e[C$99i]*C$99m,C$99o=C$99e[C$99n]*C$99m,C$99g=C$99e[C$99r]*C$99m,C$99v=C$99e[C$99i+1]*C$99u,C$99x=C$99e[C$99n+1]*C$99u,C$99e=C$99e[C$99r+1]*C$99u,C$99y=C$99t[C$99i],C$99b=C$99t[C$99n],C$99w=C$99t[C$99r],C$99i=C$99t[C$99i+1],C$99n=C$99t[C$99n+1],C$99t=C$99t[C$99r+1];var C$99T,C$99h;C$99s&&(C$99s=C$99i-(C$99r=(C$99i+C$99n+C$99t)/3),C$99y=(C$99l=(C$99y+C$99b+C$99w)/3)+(C$99T=C$99y-C$99l)/(C$99h=Math.sqrt(C$99T*C$99T+C$99s*C$99s))*(C$99h+1),C$99i=C$99r+C$99s/C$99h*(C$99h+1),C$99s=C$99n-C$99r,C$99b=C$99l+(C$99T=C$99b-C$99l)/(C$99h=Math.sqrt(C$99T*C$99T+C$99s*C$99s))*(C$99h+1),C$99n=C$99r+C$99s/C$99h*(C$99h+1),C$99s=C$99t-C$99r,C$99w=C$99l+(C$99T=C$99w-C$99l)/(C$99h=Math.sqrt(C$99T*C$99T+C$99s*C$99s))*(C$99h+1),C$99t=C$99r+C$99s/C$99h*(C$99h+1)),this.save(),C$99_&&this.transform(C$99_.a,C$99_.b,C$99_.c,C$99_.d,C$99_.tx,C$99_.ty),this.beginPath(),this.moveTo(C$99y,C$99i),this.lineTo(C$99b,C$99n),this.lineTo(C$99w,C$99t),this.closePath(),this.clip();var C$99l=1/(C$99a*C$99x+C$99v*C$99g+C$99o*C$99e-C$99x*C$99g-C$99v*C$99o-C$99a*C$99e);this.transform((C$99y*C$99x+C$99v*C$99w+C$99b*C$99e-C$99x*C$99w-C$99v*C$99b-C$99y*C$99e)*C$99l,(C$99i*C$99x+C$99v*C$99t+C$99n*C$99e-C$99x*C$99t-C$99v*C$99n-C$99i*C$99e)*C$99l,(C$99a*C$99b+C$99y*C$99g+C$99o*C$99w-C$99b*C$99g-C$99y*C$99o-C$99a*C$99w)*C$99l,(C$99a*C$99n+C$99i*C$99g+C$99o*C$99t-C$99n*C$99g-C$99i*C$99o-C$99a*C$99t)*C$99l,(C$99a*C$99x*C$99w+C$99v*C$99b*C$99g+C$99y*C$99o*C$99e-C$99y*C$99x*C$99g-C$99v*C$99o*C$99w-C$99a*C$99b*C$99e)*C$99l,(C$99a*C$99x*C$99t+C$99v*C$99n*C$99g+C$99i*C$99o*C$99e-C$99i*C$99x*C$99g-C$99v*C$99o*C$99t-C$99a*C$99n*C$99e)*C$99l),this.drawImage(C$99d,C$99c.uv[0]*C$99m,C$99c.uv[1]*C$99u,C$99f,C$99p,C$99c.uv[0]*C$99m,C$99c.uv[1]*C$99u,C$99f,C$99p),this.restore()},C$99e.flush=function(){return 0},C$99e.fillWords=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){C$99n&&(this.font=C$99n),C$99r&&(this.fillStyle=C$99r),this.textBaseline="top",this.textAlign="left";for(var C$99a=0,C$99c=C$99t.length;C$99a<C$99c;C$99a++){var C$99o=C$99t[C$99a];var C$99h,C$99l;this.__fillText(C$99o.char,C$99o.x+C$99e,C$99o.y+C$99i),1===C$99s&&(C$99h=C$99o.height,C$99l=(C$99l=.5*C$99o.style.letterSpacing)||0,this.beginPath(),this.strokeStyle=C$99r,this.lineWidth=1,this.moveTo(C$99e+C$99o.x-C$99l+.5,C$99i+C$99o.y+C$99h+.5),this.lineTo(C$99e+C$99o.x+C$99o.width+C$99l+.5,C$99i+C$99o.y+C$99h+.5),this.stroke())}},C$99e.fillBorderWords=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){C$99n&&(this.font=C$99n),C$99r&&(this.fillStyle=C$99r),this.textBaseline="top",this.lineWidth=C$99a,this.textAlign="left",this.strokeStyle=C$99s;for(var C$99o=0,C$99h=C$99t.length;C$99o<C$99h;C$99o++){var C$99l=C$99t[C$99o];this.__strokeText(C$99l.char,C$99l.x+C$99e,C$99l.y+C$99i),this.__fillText(C$99l.char,C$99l.x+C$99e,C$99l.y+C$99i)}},C$99e.destroy=function(){this.canvas.width=this.canvas.height=0},C$99e.clear=function(){this.clearRect(0,0,this._canvas.width,this._canvas.height),this._repaint=!1},C$99e.drawCurves=function(C$99t,C$99e,C$99i){this.beginPath(),this.strokeStyle=C$99i[3],this.lineWidth=C$99i[4];var C$99n=C$99i[2];C$99t+=C$99i[0],C$99e+=C$99i[1],this.moveTo(C$99t+C$99n[0],C$99e+C$99n[1]);for(var C$99r=2,C$99s=C$99n.length;C$99r<C$99s;)this.quadraticCurveTo(C$99t+C$99n[C$99r++],C$99e+C$99n[C$99r++],C$99t+C$99n[C$99r++],C$99e+C$99n[C$99r++]);this.stroke()},hm_6.__init__=function(C$99e){var C$99i=laya.resource.Context.prototype;(C$99e=C$99e||CanvasRenderingContext2D.prototype).inited||(C$99e.inited=!0,C$99e.__fillText=C$99e.fillText,C$99e.__fillRect=C$99e.fillRect,C$99e.__strokeText=C$99e.strokeText,["drawTextures","drawTriangle","fillWords","fillBorderWords","setIsMainContext","fillRect","strokeText","fillTexture","fillText","transformByMatrix","setTransformByMatrix","clipRect","drawTexture","drawTexture2","drawTextureWithTransform","flush","clear","destroy","drawCanvas","fillBorderText","drawCurves"].forEach(function(C$99t){C$99e[C$99t]=C$99i[C$99t]}))},hm_6.replaceCanvasGetSet=function(C$99t,C$99e){var C$99i=Object.getOwnPropertyDescriptor(C$99t,C$99e);if(!C$99i||!C$99i.configurable)return!1;var C$99n,C$99r={};for(C$99n in C$99i)"set"!=C$99n&&(C$99r[C$99n]=C$99i[C$99n]);var C$99s=C$99i.set;return C$99r.set=function(C$99t){C$99s.call(this,C$99t);C$99t=this.getContext("2d");C$99t&&"__reset"in C$99t&&C$99t.__reset()},Object.defineProperty(C$99t,C$99e,C$99r),!0},hm_6.replaceGetSet=function(C$99t,C$99e){var C$99i=Object.getOwnPropertyDescriptor(C$99t,C$99e);if(!C$99i||!C$99i.configurable)return!1;var C$99n,C$99r={};for(C$99n in C$99i)"set"!=C$99n&&(C$99r[C$99n]=C$99i[C$99n]);var C$99s=C$99i.set,C$99a="___"+C$99e+"__";return hm_6.newKeys.push(C$99a),C$99r.set=function(C$99t){C$99t!=this[C$99a]&&(this[C$99a]=C$99t,C$99s.call(this,C$99t))},Object.defineProperty(C$99t,C$99e,C$99r),!0},hm_6._default=new hm_6,hm_6.newKeys=[],C$99a(hm_6,["replaceKeys",function(){return this.replaceKeys=["font","fillStyle","textBaseline"]}]),hm_6),C$99V=(C$99o(zp$dvf,"laya.resource.ResourceManager"),C$99e=zp$dvf.prototype,C$99b.imps(C$99e,{"laya.resource.IDispose":!0}),C$99e.getResourceByIndex=function(C$99t){return this._resources[C$99t]},C$99e.getResourcesLength=function(){return this._resources.length},C$99e.addResource=function(C$99t){return C$99t.resourceManager&&C$99t.resourceManager.removeResource(C$99t),-1===this._resources.indexOf(C$99t)&&((C$99t._resourceManager=this)._resources.push(C$99t),this.addRecord(C$99t.uri,C$99t.__className,C$99t.memorySize),this.addSize(C$99t.memorySize),!0)},C$99e.removeResource=function(C$99t){var C$99e=this._resources.indexOf(C$99t);return-1!==C$99e&&(this._resources.splice(C$99e,1),C$99t._resourceManager=null,this._memorySize-=C$99t.memorySize,this.addRecord(C$99t.uri,C$99t.__className,-C$99t.memorySize),!0)},C$99e.unload=function(){for(var C$99t=this._resources.slice(0,this._resources.length),C$99e=0;C$99e<C$99t.length;C$99e++)C$99t[C$99e].destroy();C$99t.length=0},C$99e.dispose=function(){if(this===zp$dvf._systemResourceManager)throw new Error("systemResourceManager\u4e0d\u80fd\u88ab\u91ca\u653e\uff01");zp$dvf._resourceManagers.splice(zp$dvf._resourceManagers.indexOf(this),1),zp$dvf._isResourceManagersSorted=!1;for(var C$99t=this._resources.slice(0,this._resources.length),C$99e=0;C$99e<C$99t.length;C$99e++){var C$99i=C$99t[C$99e];C$99i.resourceManager.removeResource(C$99i),C$99i.destroy()}C$99t.length=0},C$99e.addSize=function(C$99t){C$99t&&(this.autoRelease&&0<C$99t&&this._memorySize+C$99t>this.autoReleaseMaxSize&&this.garbageCollection((1-this._garbageCollectionRate)*this.autoReleaseMaxSize),this._memorySize+=C$99t)},C$99e.addRecord=function(C$99t,C$99e,C$99i){},C$99e.garbageCollection=function(C$99t){var C$99e=this._resources;(C$99e=C$99e.slice()).sort(function(C$99t,C$99e){if(!C$99t||!C$99e)throw new Error("a\u6216b\u4e0d\u80fd\u4e3a\u7a7a\uff01");return C$99t.released&&C$99e.released?0:C$99t.released?1:C$99e.released?-1:C$99t._lastUseFrameCount-C$99e._lastUseFrameCount});for(var C$99i=C$99X.loopCount,C$99n=0,C$99r=C$99e.length;C$99n<C$99r;C$99n++){var C$99s=C$99e[C$99n];if(!(1<C$99i-C$99s._lastUseFrameCount))return void(this._memorySize>=C$99t&&(this._isOverflow=!0));if(C$99s.releaseResource(),this._memorySize<C$99t)return void(this._isOverflow=!1)}},C$99t(0,C$99e,"id",function(){return this._id}),C$99t(0,C$99e,"name",function(){return this._name},function(C$99t){!C$99t&&""===C$99t||this._name===C$99t||(this._name=C$99t,zp$dvf._isResourceManagersSorted=!1)}),C$99t(0,C$99e,"memorySize",function(){return this._memorySize}),C$99t(0,C$99e,"records",function(){return this._records}),C$99t(1,zp$dvf,"systemResourceManager",function(){return zp$dvf._systemResourceManager}),zp$dvf.__init__=function(){zp$dvf.currentResourceManager=zp$dvf.systemResourceManager},zp$dvf.getLoadedResourceManagerByIndex=function(C$99t){return zp$dvf._resourceManagers[C$99t]},zp$dvf.getLoadedResourceManagersCount=function(){return zp$dvf._resourceManagers.length},zp$dvf.recreateContentManagers=function(C$99t){void 0===C$99t&&(C$99t=!1);for(var C$99e=zp$dvf.currentResourceManager,C$99i=0;C$99i<zp$dvf._resourceManagers.length;C$99i++){zp$dvf.currentResourceManager=zp$dvf._resourceManagers[C$99i];for(var C$99n=0;C$99n<zp$dvf.currentResourceManager._resources.length;C$99n++)zp$dvf.currentResourceManager._resources[C$99n].releaseResource(C$99t),zp$dvf.currentResourceManager._resources[C$99n].activeResource(C$99t)}zp$dvf.currentResourceManager=C$99e},zp$dvf.releaseContentManagers=function(C$99t){void 0===C$99t&&(C$99t=!1);for(var C$99e=zp$dvf.currentResourceManager,C$99i=0;C$99i<zp$dvf._resourceManagers.length;C$99i++){zp$dvf.currentResourceManager=zp$dvf._resourceManagers[C$99i];for(var C$99n=0;C$99n<zp$dvf.currentResourceManager._resources.length;C$99n++){var C$99r=zp$dvf.currentResourceManager._resources[C$99n];C$99r.released||C$99r.releaseResource(C$99t)}}zp$dvf.currentResourceManager=C$99e},zp$dvf._uniqueIDCounter=0,zp$dvf._isResourceManagersSorted=!1,zp$dvf._resourceManagers=[],C$99a(zp$dvf,["_systemResourceManager",function(){return this._systemResourceManager=new zp$dvf("System Resource Manager")},"currentResourceManager",function(){return this.currentResourceManager=zp$dvf._systemResourceManager}]),zp$dvf),C$99S=(C$99o(v9fd,"laya.system.System"),v9fd.changeDefinition=function(C$99t,C$99e){C$99b[C$99t]=C$99e,C$99b._runScript(C$99t+"=classObj")},v9fd.__init__=function(){C$99M.isConchApp&&(conch.disableConchResManager(),conch.disableConchAutoRestoreLostedDevice())},C$99o(p7$dzf,"laya.utils.Browser"),C$99t(1,p7$dzf,"pixelRatio",function(){return p7$dzf.__init__(),-1<p7$dzf.userAgent.indexOf("Mozilla/6.0(Linux; Android 6.0; HUAWEI NXT-AL10 Build/HUAWEINXT-AL10)")?2:C$99m.getPixelRatio()}),C$99t(1,p7$dzf,"height",function(){return p7$dzf.__init__(),(C$99b.stage&&C$99b.stage.canvasRotation?p7$dzf.clientWidth:p7$dzf.clientHeight)*p7$dzf.pixelRatio}),C$99t(1,p7$dzf,"clientWidth",function(){return p7$dzf.__init__(),p7$dzf.window.innerWidth||p7$dzf.document.body.clientWidth}),C$99t(1,p7$dzf,"window",function(){return p7$dzf.__init__(),p7$dzf._window}),C$99t(1,p7$dzf,"clientHeight",function(){return p7$dzf.__init__(),p7$dzf.window.innerHeight||p7$dzf.document.body.clientHeight||p7$dzf.document.documentElement.clientHeight}),C$99t(1,p7$dzf,"width",function(){return p7$dzf.__init__(),(C$99b.stage&&C$99b.stage.canvasRotation?p7$dzf.clientHeight:p7$dzf.clientWidth)*p7$dzf.pixelRatio}),C$99t(1,p7$dzf,"container",function(){return p7$dzf.__init__(),p7$dzf._container||((p7$dzf._container=p7$dzf.createElement("div")).id="layaContainer",p7$dzf.document.body.appendChild(p7$dzf._container)),p7$dzf._container},function(C$99t){p7$dzf._container=C$99t}),C$99t(1,p7$dzf,"document",function(){return p7$dzf.__init__(),p7$dzf._document}),p7$dzf.__init__=function(){var C$99t;p7$dzf._window||(p7$dzf._window=C$99m.getWindow(),p7$dzf._document=p7$dzf.window.document,p7$dzf._window.addEventListener("message",function(C$99t){laya.utils.Browser._onMessage(C$99t)},!1),p7$dzf.document.__createElement=p7$dzf.document.createElement,C$99s.requestAnimationFrame=C$99s.requestAnimationFrame||C$99s.webkitRequestAnimationFrame||C$99s.mozRequestAnimationFrame||C$99s.oRequestAnimationFrame||C$99s.msRequestAnimationFrame||function(C$99t){return C$99s.setTimeout(C$99t,1e3/60)},(C$99t=C$99s.document.body.style)["-webkit-user-select"]="none",C$99t["-webkit-tap-highlight-color"]="rgba(200,200,200,0)",p7$dzf.userAgent=p7$dzf.window.navigator.userAgent,p7$dzf.onIOS=!!(p7$dzf.u=p7$dzf.userAgent).match(/\(i[^;]+;(U;)? CPU.+Mac OS X/),p7$dzf.onMobile=-1<p7$dzf.u.indexOf("Mobile"),p7$dzf.onIPhone=-1<p7$dzf.u.indexOf("iPhone"),p7$dzf.onMac=-1<p7$dzf.u.indexOf("Mac OS X"),p7$dzf.onIPad=-1<p7$dzf.u.indexOf("iPad"),p7$dzf.onAndroid=-1<p7$dzf.u.indexOf("Android")||-1<p7$dzf.u.indexOf("Adr"),p7$dzf.onWP=-1<p7$dzf.u.indexOf("Windows Phone"),p7$dzf.onQQBrowser=-1<p7$dzf.u.indexOf("QQBrowser"),p7$dzf.onMQQBrowser=-1<p7$dzf.u.indexOf("MQQBrowser")||-1<p7$dzf.u.indexOf("Mobile")&&-1<p7$dzf.u.indexOf("QQ"),p7$dzf.onIE=!!p7$dzf.window.ActiveXObject||"ActiveXObject"in p7$dzf.window,p7$dzf.onWeiXin=-1<p7$dzf.u.indexOf("MicroMessenger"),p7$dzf.onPC=!p7$dzf.onMobile,p7$dzf.onSafari=-1<p7$dzf.u.indexOf("Safari"),p7$dzf.onFirefox=-1<p7$dzf.u.indexOf("Firefox"),p7$dzf.onEdge=-1<p7$dzf.u.indexOf("Edge"),p7$dzf.onMiniGame=-1<p7$dzf.u.indexOf("MiniGame"),p7$dzf.onLimixiu=-1<p7$dzf.u.indexOf("limixiu"),p7$dzf.httpProtocol="http:"==p7$dzf.window.location.protocol,p7$dzf.onMiniGame&&null==p7$dzf.window.focus&&console.error("\u8bf7\u5148\u521d\u59cb\u5316\u5c0f\u6e38\u620f\u9002\u914d\u5e93\uff0c\u8be6\u7ec6\u6559\u7a0bhttps://ldc.layabox.com/doc/?nav=zh-ts-5-0-0"),p7$dzf.webAudioEnabled=!!(p7$dzf.window.AudioContext||p7$dzf.window.webkitAudioContext||p7$dzf.window.mozAudioContext),p7$dzf.soundType=p7$dzf.webAudioEnabled?"WEBAUDIOSOUND":"AUDIOSOUND",C$99st=p7$dzf.webAudioEnabled?C$99at:C$99rt,p7$dzf.webAudioEnabled&&C$99at.initWebAudio(),C$99rt._initMusicAudio(),p7$dzf.enableTouch="ontouchstart"in C$99s||C$99s.DocumentTouch&&C$99r instanceof DocumentTouch,C$99s.focus(),C$99L._soundClass=C$99st,C$99L._musicClass=C$99rt,C$99M._mainCanvas=C$99M._mainCanvas||C$99gt.create("2D"),p7$dzf.canvas||(p7$dzf.canvas=C$99gt.create("2D"),p7$dzf.context=p7$dzf.canvas.getContext("2d")))},p7$dzf._onMessage=function(C$99t){C$99t.data&&"size"==C$99t.data.name&&(p7$dzf.window.innerWidth=C$99t.data.width,p7$dzf.window.innerHeight=C$99t.data.height,p7$dzf.window.__innerHeight=C$99t.data.clientHeight,p7$dzf.document.createEvent?((C$99t=p7$dzf.document.createEvent("HTMLEvents")).initEvent("resize",!1,!1),p7$dzf.window.dispatchEvent(C$99t)):console.warn("no document.createEvent"))},p7$dzf.createElement=function(C$99t){return p7$dzf.__init__(),p7$dzf.document.__createElement(C$99t)},p7$dzf.getElementById=function(C$99t){return p7$dzf.__init__(),p7$dzf.document.getElementById(C$99t)},p7$dzf.removeElement=function(C$99t){C$99t&&C$99t.parentNode&&C$99t.parentNode.removeChild(C$99t)},p7$dzf.now=function(){return C$99m.now()},p7$dzf._window=null,p7$dzf._document=null,p7$dzf._container=null,p7$dzf.userAgent=null,p7$dzf.u=null,p7$dzf.onIOS=!1,p7$dzf.onMac=!1,p7$dzf.onMobile=!1,p7$dzf.onIPhone=!1,p7$dzf.onIPad=!1,p7$dzf.onAndroid=!1,p7$dzf.onWP=!1,p7$dzf.onQQBrowser=!1,p7$dzf.onMQQBrowser=!1,p7$dzf.onSafari=!1,p7$dzf.onFirefox=!1,p7$dzf.onEdge=!1,p7$dzf.onIE=!1,p7$dzf.onWeiXin=!1,p7$dzf.onMiniGame=!1,p7$dzf.onLimixiu=!1,p7$dzf.onPC=!1,p7$dzf.httpProtocol=!1,p7$dzf.webAudioEnabled=!1,p7$dzf.soundType=null,p7$dzf.enableTouch=!1,p7$dzf.canvas=null,p7$dzf.context=null,p7$dzf.__init$=function(){},p7$dzf),C$99$=(C$99o(q_xe0y,"laya.utils.Byte"),(C$99e=q_xe0y.prototype).___resizeBuffer=function(C$99e){try{var C$99t=new Uint8Array(C$99e);null!=this._u8d_&&(this._u8d_.length<=C$99e?C$99t.set(this._u8d_):C$99t.set(this._u8d_.subarray(0,C$99e))),this._u8d_=C$99t,this._d_=new DataView(C$99t.buffer)}catch(C$99t){throw"___resizeBuffer err:"+C$99e}},C$99e.getString=function(){return this.rUTF(this.getUint16())},C$99e.getFloat32Array=function(C$99t,C$99e){C$99e=C$99t+C$99e;C$99e=C$99e>this._length?this._length:C$99e;C$99t=new Float32Array(this._d_.buffer.slice(C$99t,C$99e));return this._pos_=C$99e,C$99t},C$99e.getUint8Array=function(C$99t,C$99e){C$99e=C$99t+C$99e;C$99e=C$99e>this._length?this._length:C$99e;C$99t=new Uint8Array(this._d_.buffer.slice(C$99t,C$99e));return this._pos_=C$99e,C$99t},C$99e.getInt16Array=function(C$99t,C$99e){C$99e=C$99t+C$99e;C$99e=C$99e>this._length?this._length:C$99e;C$99t=new Int16Array(this._d_.buffer.slice(C$99t,C$99e));return this._pos_=C$99e,C$99t},C$99e.getFloat32=function(){if(this._pos_+4>this._length)throw"getFloat32 error - Out of bounds";var C$99t=this._d_.getFloat32(this._pos_,this._xd_);return this._pos_+=4,C$99t},C$99e.getFloat64=function(){if(this._pos_+8>this._length)throw"getFloat64 error - Out of bounds";var C$99t=this._d_.getFloat64(this._pos_,this._xd_);return this._pos_+=8,C$99t},C$99e.writeFloat32=function(C$99t){this.ensureWrite(this._pos_+4),this._d_.setFloat32(this._pos_,C$99t,this._xd_),this._pos_+=4},C$99e.writeFloat64=function(C$99t){this.ensureWrite(this._pos_+8),this._d_.setFloat64(this._pos_,C$99t,this._xd_),this._pos_+=8},C$99e.getInt32=function(){if(this._pos_+4>this._length)throw"getInt32 error - Out of bounds";var C$99t=this._d_.getInt32(this._pos_,this._xd_);return this._pos_+=4,C$99t},C$99e.getUint32=function(){if(this._pos_+4>this._length)throw"getUint32 error - Out of bounds";var C$99t=this._d_.getUint32(this._pos_,this._xd_);return this._pos_+=4,C$99t},C$99e.writeInt32=function(C$99t){this.ensureWrite(this._pos_+4),this._d_.setInt32(this._pos_,C$99t,this._xd_),this._pos_+=4},C$99e.writeUint32=function(C$99t){this.ensureWrite(this._pos_+4),this._d_.setUint32(this._pos_,C$99t,this._xd_),this._pos_+=4},C$99e.getInt16=function(){if(this._pos_+2>this._length)throw"getInt16 error - Out of bounds";var C$99t=this._d_.getInt16(this._pos_,this._xd_);return this._pos_+=2,C$99t},C$99e.getUint16=function(){if(this._pos_+2>this._length)throw"getUint16 error - Out of bounds";var C$99t=this._d_.getUint16(this._pos_,this._xd_);return this._pos_+=2,C$99t},C$99e.writeUint16=function(C$99t){this.ensureWrite(this._pos_+2),this._d_.setUint16(this._pos_,C$99t,this._xd_),this._pos_+=2},C$99e.writeInt16=function(C$99t){this.ensureWrite(this._pos_+2),this._d_.setInt16(this._pos_,C$99t,this._xd_),this._pos_+=2},C$99e.getUint8=function(){if(this._pos_+1>this._length)throw"getUint8 error - Out of bounds";return this._d_.getUint8(this._pos_++)},C$99e.writeUint8=function(C$99t){this.ensureWrite(this._pos_+1),this._d_.setUint8(this._pos_,C$99t),this._pos_++},C$99e._getUInt8=function(C$99t){return this._d_.getUint8(C$99t)},C$99e._getUint16=function(C$99t){return this._d_.getUint16(C$99t,this._xd_)},C$99e._getMatrix=function(){return new C$99I(this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32())},C$99e.rUTF=function(C$99t){for(var C$99e,C$99i,C$99n=[],C$99r=this._pos_+C$99t,C$99s=0,C$99a=String.fromCharCode,C$99o=this._u8d_;this._pos_<C$99r;)(C$99e=C$99o[this._pos_++])<128?0!=C$99e&&C$99n.push(C$99a(C$99e)):C$99e<224?C$99n.push(C$99a((63&C$99e)<<6|127&C$99o[this._pos_++])):C$99e<240?(C$99s=C$99o[this._pos_++],C$99n.push(C$99a((31&C$99e)<<12|(127&C$99s)<<6|127&C$99o[this._pos_++]))):(C$99s=C$99o[this._pos_++],C$99i=C$99o[this._pos_++],C$99n.push(C$99a((15&C$99e)<<18|(127&C$99s)<<12|C$99i<<6&127|127&C$99o[this._pos_++])));return C$99n.join("")},C$99e.getCustomString=function(C$99t){for(var C$99e,C$99i=[],C$99n=0,C$99r=0,C$99s=String.fromCharCode,C$99a=this._u8d_;0<C$99t;)if((C$99r=C$99a[this._pos_])<128)C$99i.push(C$99s(C$99r)),this._pos_++,C$99t--;else for(C$99n=C$99r-128,this._pos_++,C$99t-=C$99n;0<C$99n;)C$99r=C$99a[this._pos_++],C$99e=C$99a[this._pos_++],C$99i.push(C$99s(C$99e<<8|C$99r)),C$99n--;return C$99i.join("")},C$99e.clear=function(){this._pos_=0,this.length=0},C$99e.__getBuffer=function(){return this._d_.buffer},C$99e.writeUTFBytes=function(C$99t){for(var C$99e=0,C$99i=(C$99t+="").length;C$99e<C$99i;C$99e++){var C$99n=C$99t.charCodeAt(C$99e);C$99n<=127?this.writeByte(C$99n):C$99n<=2047?(this.ensureWrite(this._pos_+2),this._u8d_.set([192|C$99n>>6,128|63&C$99n],this._pos_),this._pos_+=2):C$99n<=65535?(this.ensureWrite(this._pos_+3),this._u8d_.set([224|C$99n>>12,128|C$99n>>6&63,128|63&C$99n],this._pos_),this._pos_+=3):(this.ensureWrite(this._pos_+4),this._u8d_.set([240|C$99n>>18,128|C$99n>>12&63,128|C$99n>>6&63,128|63&C$99n],this._pos_),this._pos_+=4)}},C$99e.writeUTFString=function(C$99t){var C$99e=this.pos;this.writeUint16(1),this.writeUTFBytes(C$99t);C$99t=this.pos-C$99e-2;if(65536<=C$99t)throw"writeUTFString byte len more than 65536";this._d_.setUint16(C$99e,C$99t,this._xd_)},C$99e.readUTFString=function(){return this.readUTFBytes(this.getUint16())},C$99e.getUTFString=function(){return this.readUTFString()},C$99e.readUTFBytes=function(C$99t){if(0==(C$99t=void 0===C$99t?-1:C$99t))return"";var C$99e=this.bytesAvailable;if(C$99e<C$99t)throw"readUTFBytes error - Out of bounds";return this.rUTF(C$99t=0<C$99t?C$99t:C$99e)},C$99e.getUTFBytes=function(C$99t){return this.readUTFBytes(C$99t=void 0===C$99t?-1:C$99t)},C$99e.writeByte=function(C$99t){this.ensureWrite(this._pos_+1),this._d_.setInt8(this._pos_,C$99t),this._pos_+=1},C$99e.readByte=function(){if(this._pos_+1>this._length)throw"readByte error - Out of bounds";return this._d_.getInt8(this._pos_++)},C$99e.getByte=function(){return this.readByte()},C$99e.ensureWrite=function(C$99t){this._length<C$99t&&(this._length=C$99t),this._allocated_<C$99t&&(this.length=C$99t)},C$99e.writeArrayBuffer=function(C$99t,C$99e,C$99i){if(void 0===C$99i&&(C$99i=0),(C$99e=void 0===C$99e?0:C$99e)<0||C$99i<0)throw"writeArrayBuffer error - Out of bounds";0==C$99i&&(C$99i=C$99t.byteLength-C$99e),this.ensureWrite(this._pos_+C$99i);C$99t=new Uint8Array(C$99t);this._u8d_.set(C$99t.subarray(C$99e,C$99e+C$99i),this._pos_),this._pos_+=C$99i},C$99t(0,C$99e,"buffer",function(){var C$99t=this._d_.buffer;return C$99t.byteLength==this.length?C$99t:C$99t.slice(0,this.length)}),C$99t(0,C$99e,"endian",function(){return this._xd_?"littleEndian":"bigEndian"},function(C$99t){this._xd_="littleEndian"==C$99t}),C$99t(0,C$99e,"length",function(){return this._length},function(C$99t){this._allocated_<C$99t?this.___resizeBuffer(this._allocated_=Math.floor(Math.max(C$99t,2*this._allocated_))):this._allocated_>C$99t&&this.___resizeBuffer(this._allocated_=C$99t),this._length=C$99t}),C$99t(0,C$99e,"pos",function(){return this._pos_},function(C$99t){this._pos_=C$99t}),C$99t(0,C$99e,"bytesAvailable",function(){return this._length-this._pos_}),q_xe0y.getSystemEndian=function(){var C$99t;return q_xe0y._sysEndian||(C$99t=new ArrayBuffer(2),new DataView(C$99t).setInt16(0,256,!0),q_xe0y._sysEndian=256===new Int16Array(C$99t)[0]?"littleEndian":"bigEndian"),q_xe0y._sysEndian},q_xe0y.BIG_ENDIAN="bigEndian",q_xe0y.LITTLE_ENDIAN="littleEndian",q_xe0y._sysEndian=null,q_xe0y),C$99U=(C$99o(kgrb,"laya.utils.CacheManager"),kgrb.regCacheByFunction=function(C$99t,C$99e){kgrb.unRegCacheByFunction(C$99t,C$99e),kgrb._cacheList.push({tryDispose:C$99t,getCacheList:C$99e})},kgrb.unRegCacheByFunction=function(C$99t,C$99e){var C$99i,C$99n=0;for(C$99i=kgrb._cacheList.length,C$99n=0;C$99n<C$99i;C$99n++)if(kgrb._cacheList[C$99n].tryDispose==C$99t&&kgrb._cacheList[C$99n].getCacheList==C$99e)return void kgrb._cacheList.splice(C$99n,1)},kgrb.forceDispose=function(){var C$99t=0,C$99e=kgrb._cacheList.length;for(C$99t=0;C$99t<C$99e;C$99t++)kgrb._cacheList[C$99t].tryDispose(!0)},kgrb.beginCheck=function(C$99t){C$99b.timer.loop(C$99t=void 0===C$99t?15e3:C$99t,null,kgrb._checkLoop)},kgrb.stopCheck=function(){C$99b.timer.clear(null,kgrb._checkLoop)},kgrb._checkLoop=function(){var C$99t=kgrb._cacheList;if(!(C$99t.length<1)){var C$99e,C$99i=C$99S.now(),C$99n=0;for(C$99e=C$99n=C$99t.length;0<C$99n&&(C$99t[kgrb._index=++kgrb._index%C$99e].tryDispose(!1),!(C$99S.now()-C$99i>kgrb.loopTimeLimit));)C$99n--}},kgrb.loopTimeLimit=2,kgrb._cacheList=[],kgrb._index=0,kgrb),C$99j=(C$99o(_e0yq,"laya.utils.ClassUtils"),_e0yq.regClass=function(C$99t,C$99e){_e0yq._classMap[C$99t]=C$99e},_e0yq.getRegClass=function(C$99t){return _e0yq._classMap[C$99t]},_e0yq.getInstance=function(C$99t){var C$99e=_e0yq.getClass(C$99t);return C$99e?new C$99e:(console.warn("[error] Undefined class:",C$99t),null)},_e0yq.createByJson=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=(C$99t="string"==typeof C$99t?JSON.parse(C$99t):C$99t).props;if(!C$99e&&!(C$99e=C$99r?C$99r.runWith(C$99t):_e0yq.getInstance(C$99s.runtime||C$99t.type)))return null;var C$99c=C$99t.child;if(C$99c)for(var C$99_=0,C$99u=C$99c.length;C$99_<C$99u;C$99_++){var C$99a=C$99c[C$99_];var C$99o;"render"!==C$99a.props.name&&"render"!==C$99a.props.renderType||!C$99e._$set_itemRender?"Graphic"==C$99a.type?_e0yq.addGraphicsToSprite(C$99a,C$99e):_e0yq.isDrawType(C$99a.type)?_e0yq.addGraphicToSprite(C$99a,C$99e,!0):(C$99o=_e0yq.createByJson(C$99a,null,C$99i,C$99n,C$99r),"Script"==C$99a.type?C$99o.hasOwnProperty("owner")?C$99o.owner=C$99e:C$99o.hasOwnProperty("target")&&(C$99o.target=C$99e):"mask"==C$99a.props.renderType?C$99e.mask=C$99o:C$99e.addChild(C$99o)):C$99e.itemRender=C$99a}if(C$99s)for(var C$99h in C$99s){var C$99l=C$99s[C$99h];"var"===C$99h&&C$99i?C$99i[C$99l]=C$99e:C$99l instanceof Array&&"function"==typeof C$99e[C$99h]?C$99e[C$99h].apply(C$99e,C$99l):C$99e[C$99h]=C$99l}return C$99n&&C$99t.customProps&&C$99n.runWith([C$99e,C$99t]),C$99e.created&&C$99e.created(),C$99e},_e0yq.addGraphicsToSprite=function(C$99t,C$99e){var C$99i;if((C$99i=C$99t.child)&&!(C$99i.length<1)){var C$99n;C$99n=_e0yq._getGraphicsFromSprite(C$99t,C$99e);var C$99e=0,C$99r=0;C$99t.props&&(C$99e=_e0yq._getObjVar(C$99t.props,"x",0),C$99r=_e0yq._getObjVar(C$99t.props,"y",0)),0!=C$99e&&0!=C$99r&&C$99n.translate(C$99e,C$99r);var C$99s,C$99a=0;for(C$99s=C$99i.length,C$99a=0;C$99a<C$99s;C$99a++)_e0yq._addGraphicToGraphics(C$99i[C$99a],C$99n);0!=C$99e&&0!=C$99r&&C$99n.translate(-C$99e,-C$99r)}},_e0yq.addGraphicToSprite=function(C$99t,C$99e,C$99i){C$99i=(C$99i=void 0===C$99i?!1:C$99i)?_e0yq._getGraphicsFromSprite(C$99t,C$99e):C$99e.graphics,_e0yq._addGraphicToGraphics(C$99t,C$99i)},_e0yq._getGraphicsFromSprite=function(C$99t,C$99e){var C$99i,C$99n;if(!C$99t||!C$99t.props)return C$99e.graphics;switch(C$99n=C$99t.props.renderType){case"hit":case"unHit":var C$99r;C$99e.hitArea||(C$99e.hitArea=new C$99G),(C$99r=C$99e.hitArea)[C$99n]||(C$99r[C$99n]=new C$99d),C$99i=C$99r[C$99n]}return C$99i=C$99i||C$99e.graphics},_e0yq._getTransformData=function(C$99t){var C$99e;(C$99t.hasOwnProperty("pivotX")||C$99t.hasOwnProperty("pivotY"))&&(C$99e=C$99e||new C$99I).translate(-_e0yq._getObjVar(C$99t,"pivotX",0),-_e0yq._getObjVar(C$99t,"pivotY",0));var C$99i=_e0yq._getObjVar(C$99t,"scaleX",1),C$99n=_e0yq._getObjVar(C$99t,"scaleY",1),C$99r=_e0yq._getObjVar(C$99t,"rotation",0);return _e0yq._getObjVar(C$99t,"skewX",0),_e0yq._getObjVar(C$99t,"skewY",0),1==C$99i&&1==C$99n&&0==C$99r||((C$99e=C$99e||new C$99I).scale(C$99i,C$99n),C$99e.rotate(.0174532922222222*C$99r)),C$99e},_e0yq._addGraphicToGraphics=function(C$99t,C$99e){var C$99i;var C$99n;(C$99n=C$99t.props)&&(C$99i=_e0yq.DrawTypeDic[C$99t.type])&&(C$99t=C$99e,C$99e=_e0yq._getParams(C$99n,C$99i[1],C$99i[2],C$99i[3]),!(C$99n=_e0yq._tM)&&1==_e0yq._alpha||(C$99t.save(),C$99n&&C$99t.transform(C$99n),1!=_e0yq._alpha&&C$99t.alpha(_e0yq._alpha)),C$99t[C$99i[0]].apply(C$99t,C$99e),!C$99n&&1==_e0yq._alpha||C$99t.restore())},_e0yq._adptLineData=function(C$99t){return C$99t[2]=parseFloat(C$99t[0])+parseFloat(C$99t[2]),C$99t[3]=parseFloat(C$99t[1])+parseFloat(C$99t[3]),C$99t},_e0yq._adptTextureData=function(C$99t){return C$99t[0]=C$99ht.getRes(C$99t[0]),C$99t},_e0yq._adptLinesData=function(C$99t){return C$99t[2]=_e0yq._getPointListByStr(C$99t[2]),C$99t},_e0yq.isDrawType=function(C$99t){return"Image"!=C$99t&&_e0yq.DrawTypeDic.hasOwnProperty(C$99t)},_e0yq._getParams=function(C$99t,C$99e,C$99i,C$99n){var C$99r;void 0===C$99i&&(C$99i=0),(C$99r=_e0yq._temParam).length=C$99e.length;var C$99s,C$99a,C$99o=0;for(C$99s=C$99e.length,C$99o=0;C$99o<C$99s;C$99o++)C$99r[C$99o]=_e0yq._getObjVar(C$99t,C$99e[C$99o][0],C$99e[C$99o][1]);return _e0yq._alpha=_e0yq._getObjVar(C$99t,"alpha",1),C$99a=_e0yq._getTransformData(C$99t),_e0yq._tM=C$99a?(C$99a.translate(C$99r[C$99i=C$99i||0],C$99r[C$99i+1]),C$99r[C$99i]=C$99r[C$99i+1]=0,C$99a):null,C$99r=C$99n&&_e0yq[C$99n]?_e0yq[C$99n](C$99r):C$99r},_e0yq._getPointListByStr=function(C$99t){var C$99e,C$99i,C$99n=0;for(C$99i=(C$99e=C$99t.split(",")).length,C$99n=0;C$99n<C$99i;C$99n++)C$99e[C$99n]=parseFloat(C$99e[C$99n]);return C$99e},_e0yq._getObjVar=function(C$99t,C$99e,C$99i){return C$99t.hasOwnProperty(C$99e)?C$99t[C$99e]:C$99i},_e0yq._temParam=[],_e0yq._classMap={Sprite:"laya.display.Sprite",Text:"laya.display.Text",Animation:"laya.display.Animation",Skeleton:"laya.ani.bone.Skeleton",Particle2D:"laya.particle.Particle2D",div:"laya.html.dom.HTMLDivElement",p:"laya.html.dom.HTMLElement",img:"laya.html.dom.HTMLImageElement",span:"laya.html.dom.HTMLElement",br:"laya.html.dom.HTMLBrElement",style:"laya.html.dom.HTMLStyleElement",font:"laya.html.dom.HTMLElement",a:"laya.html.dom.HTMLElement","#text":"laya.html.dom.HTMLElement"},_e0yq.getClass=function(C$99t){C$99t=_e0yq._classMap[C$99t]||C$99t;return"string"==typeof C$99t?C$99b.__classmap[C$99t]:C$99t},_e0yq._tM=null,_e0yq._alpha=NaN,C$99a(_e0yq,["DrawTypeDic",function(){return this.DrawTypeDic={Rect:["drawRect",[["x",0],["y",0],["width",0],["height",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Circle:["drawCircle",[["x",0],["y",0],["radius",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Pie:["drawPie",[["x",0],["y",0],["radius",0],["startAngle",0],["endAngle",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Image:["drawTexture",[["x",0],["y",0],["width",0],["height",0]]],Texture:["drawTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0]],1,"_adptTextureData"],FillTexture:["fillTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0],["repeat",null]],1,"_adptTextureData"],FillText:["fillText",[["text",""],["x",0],["y",0],["font",null],["color",null],["textAlign",null]],1],Line:["drawLine",[["x",0],["y",0],["toX",0],["toY",0],["lineColor",null],["lineWidth",0]],0,"_adptLineData"],Lines:["drawLines",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],Curves:["drawCurves",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],Poly:["drawPoly",[["x",0],["y",0],["points",""],["fillColor",null],["lineColor",null],["lineWidth",1]],0,"_adptLinesData"]}}]),_e0yq),C$99q=(C$99o(of7zeq,"laya.utils.Color"),of7zeq._initDefault=function(){for(var C$99t in of7zeq._DEFAULT={},of7zeq._COLOR_MAP)of7zeq._SAVE[C$99t]=of7zeq._DEFAULT[C$99t]=new of7zeq(of7zeq._COLOR_MAP[C$99t]);return of7zeq._DEFAULT},of7zeq._initSaveMap=function(){for(var C$99t in of7zeq._SAVE_SIZE=0,of7zeq._SAVE={},of7zeq._DEFAULT)of7zeq._SAVE[C$99t]=of7zeq._DEFAULT[C$99t]},of7zeq.create=function(C$99t){var C$99e=of7zeq._SAVE[C$99t+""];return null!=C$99e?C$99e:(of7zeq._SAVE_SIZE<1e3||of7zeq._initSaveMap(),of7zeq._SAVE[C$99t+""]=new of7zeq(C$99t))},of7zeq._SAVE={},of7zeq._SAVE_SIZE=0,of7zeq._COLOR_MAP={white:"#FFFFFF",red:"#FF0000",green:"#00FF00",blue:"#0000FF",black:"#000000",yellow:"#FFFF00",gray:"#AAAAAA"},of7zeq._DEFAULT=of7zeq._initDefault(),of7zeq._COLODID=1,of7zeq),C$99H=(C$99o(kuja,"laya.utils.Dictionary"),(C$99e=kuja.prototype).set=function(C$99t,C$99e){var C$99i=this.indexOf(C$99t);0<=C$99i?this._values[C$99i]=C$99e:(this._keys.push(C$99t),this._values.push(C$99e))},C$99e.indexOf=function(C$99t){var C$99e=this._keys.indexOf(C$99t);return 0<=C$99e?C$99e:(C$99t="string"==typeof C$99t?Number(C$99t):"number"==typeof C$99t?C$99t.toString():C$99t,this._keys.indexOf(C$99t))},C$99e.get=function(C$99t){C$99t=this.indexOf(C$99t);return C$99t<0?null:this._values[C$99t]},C$99e.remove=function(C$99t){C$99t=this.indexOf(C$99t);return 0<=C$99t&&(this._keys.splice(C$99t,1),this._values.splice(C$99t,1),!0)},C$99e.clear=function(){this._values.length=0,this._keys.length=0},C$99t(0,C$99e,"values",function(){return this._values}),C$99t(0,C$99e,"keys",function(){return this._keys}),C$99o(zvf,"laya.utils.Dragging"),(C$99e=zvf.prototype).start=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){void 0===C$99o&&(C$99o=.92),this.clearTimer(),this.target=C$99t,this.area=C$99e,this.hasInertia=C$99i,this.elasticDistance=C$99e?C$99n:0,this.elasticBackTime=C$99r,this.data=C$99s,this._disableMouseEvent=C$99a,this.ratio=C$99o,1!=C$99t.globalScaleX||1!=C$99t.globalScaleY?this._parent=C$99t.parent:this._parent=C$99b.stage,this._clickOnly=!0,this._dragging=!0,this._elasticRateX=this._elasticRateY=1,this._lastX=this._parent.mouseX,this._lastY=this._parent.mouseY,C$99b.stage.on("mouseup",this,this.onStageMouseUp),C$99b.stage.on("mouseout",this,this.onStageMouseUp),C$99b.timer.frameLoop(1,this,this.loop)},C$99e.clearTimer=function(){C$99b.timer.clear(this,this.loop),C$99b.timer.clear(this,this.tweenMove),this._tween&&(this._tween.recover(),this._tween=null)},C$99e.stop=function(){this._dragging&&(C$99y.instance.disableMouseEvent=!1,C$99b.stage.off("mouseup",this,this.onStageMouseUp),C$99b.stage.off("mouseout",this,this.onStageMouseUp),this._dragging=!1,this.target&&this.area&&this.backToArea(),this.clear())},C$99e.loop=function(){var C$99t=this._parent.getMousePoint(),C$99e=C$99t.x,C$99t=C$99t.y,C$99i=C$99e-this._lastX,C$99n=C$99t-this._lastY;if(this._clickOnly){if(!(1<Math.abs(C$99i*C$99b.stage._canvasTransform.getScaleX())||1<Math.abs(C$99n*C$99b.stage._canvasTransform.getScaleY())))return;this._clickOnly=!1,this._offsets||(this._offsets=[]),this._offsets.length=0,this.target.event("dragstart",this.data),C$99y.instance.disableMouseEvent=this._disableMouseEvent,this.target._set$P("$_MOUSEDOWN",!1)}else this._offsets.push(C$99i,C$99n);0==C$99i&&0==C$99n||(this._lastX=C$99e,this._lastY=C$99t,this.target.x+=C$99i*this._elasticRateX,this.target.y+=C$99n*this._elasticRateY,this.area&&this.checkArea(),this.target.event("dragmove",this.data))},C$99e.checkArea=function(){var C$99t;this.elasticDistance<=0?this.backToArea():(C$99t=this.target.x<this.area.x?this.area.x-this.target.x:this.target.x>this.area.x+this.area.width?this.target.x-this.area.x-this.area.width:0,this._elasticRateX=Math.max(0,1-C$99t/this.elasticDistance),C$99t=this.target.y<this.area.y?this.area.y-this.target.y:this.target.y>this.area.y+this.area.height?this.target.y-this.area.y-this.area.height:0,this._elasticRateY=Math.max(0,1-C$99t/this.elasticDistance))},C$99e.backToArea=function(){this.target.x=Math.min(Math.max(this.target.x,this.area.x),this.area.x+this.area.width),this.target.y=Math.min(Math.max(this.target.y,this.area.y),this.area.y+this.area.height)},C$99e.onStageMouseUp=function(C$99t){if(C$99y.instance.disableMouseEvent=!1,C$99b.stage.off("mouseup",this,this.onStageMouseUp),C$99b.stage.off("mouseout",this,this.onStageMouseUp),C$99b.timer.clear(this,this.loop),!this._clickOnly&&this.target)if(this.hasInertia){this._offsets.length<1&&this._offsets.push(this._parent.mouseX-this._lastX,this._parent.mouseY-this._lastY),this._offsetX=this._offsetY=0;for(var C$99e=this._offsets.length,C$99i=Math.min(C$99e,6),C$99n=this._offsets.length-C$99i,C$99r=C$99e-1;C$99n<C$99r;C$99r--)this._offsetY+=this._offsets[C$99r--],this._offsetX+=this._offsets[C$99r];this._offsetX=this._offsetX/C$99i*2,this._offsetY=this._offsetY/C$99i*2,Math.abs(this._offsetX)>this.maxOffset&&(this._offsetX=0<this._offsetX?this.maxOffset:-this.maxOffset),Math.abs(this._offsetY)>this.maxOffset&&(this._offsetY=0<this._offsetY?this.maxOffset:-this.maxOffset),C$99b.timer.frameLoop(1,this,this.tweenMove)}else 0<this.elasticDistance?this.checkElastic():this.clear()},C$99e.checkElastic=function(){var C$99t=NaN,C$99e=NaN;var C$99i;this.target.x<this.area.x?C$99t=this.area.x:this.target.x>this.area.x+this.area.width&&(C$99t=this.area.x+this.area.width),this.target.y<this.area.y?C$99e=this.area.y:this.target.y>this.area.y+this.area.height&&(C$99e=this.area.y+this.area.height),isNaN(C$99t)&&isNaN(C$99e)?this.clear():(C$99i={},isNaN(C$99t)||(C$99i.x=C$99t),isNaN(C$99e)||(C$99i.y=C$99e),this._tween=C$99Z.to(this.target,C$99i,this.elasticBackTime,C$99W.sineOut,C$99g.create(this,this.clear),0,!1,!1))},C$99e.tweenMove=function(){this._offsetX*=this.ratio*this._elasticRateX,this._offsetY*=this.ratio*this._elasticRateY,this.target.x+=this._offsetX,this.target.y+=this._offsetY,this.area&&this.checkArea(),this.target.event("dragmove",this.data),(Math.abs(this._offsetX)<1&&Math.abs(this._offsetY)<1||this._elasticRateX<.5||this._elasticRateY<.5)&&(C$99b.timer.clear(this,this.tweenMove),0<this.elasticDistance?this.checkElastic():this.clear())},C$99e.clear=function(){var C$99t;this.target&&(this.clearTimer(),C$99t=this.target,this.target=null,this._parent=null,C$99t.event("dragend",this.data))},zvf),C$99W=(C$99o(zofeq7,"laya.utils.Ease"),zofeq7.linearNone=function(C$99t,C$99e,C$99i,C$99n){return C$99i*C$99t/C$99n+C$99e},zofeq7.linearIn=function(C$99t,C$99e,C$99i,C$99n){return C$99i*C$99t/C$99n+C$99e},zofeq7.linearInOut=function(C$99t,C$99e,C$99i,C$99n){return C$99i*C$99t/C$99n+C$99e},zofeq7.linearOut=function(C$99t,C$99e,C$99i,C$99n){return C$99i*C$99t/C$99n+C$99e},zofeq7.bounceIn=function(C$99t,C$99e,C$99i,C$99n){return C$99i-zofeq7.bounceOut(C$99n-C$99t,0,C$99i,C$99n)+C$99e},zofeq7.bounceInOut=function(C$99t,C$99e,C$99i,C$99n){return C$99t<.5*C$99n?.5*zofeq7.bounceIn(2*C$99t,0,C$99i,C$99n)+C$99e:.5*zofeq7.bounceOut(2*C$99t-C$99n,0,C$99i,C$99n)+.5*C$99i+C$99e},zofeq7.bounceOut=function(C$99t,C$99e,C$99i,C$99n){return(C$99t/=C$99n)<1/2.75?C$99i*(7.5625*C$99t*C$99t)+C$99e:C$99t<2/2.75?C$99i*(7.5625*(C$99t-=1.5/2.75)*C$99t+.75)+C$99e:C$99t<2.5/2.75?C$99i*(7.5625*(C$99t-=2.25/2.75)*C$99t+.9375)+C$99e:C$99i*(7.5625*(C$99t-=2.625/2.75)*C$99t+.984375)+C$99e},zofeq7.backIn=function(C$99t,C$99e,C$99i,C$99n,C$99r){return C$99i*(C$99t/=C$99n)*C$99t*(((C$99r=void 0===C$99r?1.70158:C$99r)+1)*C$99t-C$99r)+C$99e},zofeq7.backInOut=function(C$99t,C$99e,C$99i,C$99n,C$99r){return void 0===C$99r&&(C$99r=1.70158),(C$99t/=.5*C$99n)<1?.5*C$99i*(C$99t*C$99t*((1+(C$99r*=1.525))*C$99t-C$99r))+C$99e:C$99i/2*((C$99t-=2)*C$99t*((1+(C$99r*=1.525))*C$99t+C$99r)+2)+C$99e},zofeq7.backOut=function(C$99t,C$99e,C$99i,C$99n,C$99r){return C$99i*((C$99t=C$99t/C$99n-1)*C$99t*(((C$99r=void 0===C$99r?1.70158:C$99r)+1)*C$99t+C$99r)+1)+C$99e},zofeq7.elasticIn=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){return void 0===C$99r&&(C$99r=0),void 0===C$99s&&(C$99s=0),0==C$99t?C$99e:1==(C$99t/=C$99n)?C$99e+C$99i:(C$99s=C$99s||.3*C$99n,C$99i=!C$99r||0<C$99i&&C$99r<C$99i||C$99i<0&&C$99r<-C$99i?(C$99r=C$99i,C$99s/4):C$99s/zofeq7.PI2*Math.asin(C$99i/C$99r),-C$99r*Math.pow(2,10*--C$99t)*Math.sin((C$99t*C$99n-C$99i)*zofeq7.PI2/C$99s)+C$99e)},zofeq7.elasticInOut=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a;return void 0===C$99r&&(C$99r=0),void 0===C$99s&&(C$99s=0),0==C$99t?C$99e:2==(C$99t/=.5*C$99n)?C$99e+C$99i:(C$99s=C$99s||C$99n*(.3*1.5),C$99a=!C$99r||0<C$99i&&C$99r<C$99i||C$99i<0&&C$99r<-C$99i?(C$99r=C$99i,C$99s/4):C$99s/zofeq7.PI2*Math.asin(C$99i/C$99r),C$99t<1?C$99r*Math.pow(2,10*--C$99t)*Math.sin((C$99t*C$99n-C$99a)*zofeq7.PI2/C$99s)*-.5+C$99e:C$99r*Math.pow(2,-10*--C$99t)*Math.sin((C$99t*C$99n-C$99a)*zofeq7.PI2/C$99s)*.5+C$99i+C$99e)},zofeq7.elasticOut=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a;return void 0===C$99r&&(C$99r=0),void 0===C$99s&&(C$99s=0),0==C$99t?C$99e:1==(C$99t/=C$99n)?C$99e+C$99i:(C$99s=C$99s||.3*C$99n,C$99a=!C$99r||0<C$99i&&C$99r<C$99i||C$99i<0&&C$99r<-C$99i?(C$99r=C$99i,C$99s/4):C$99s/zofeq7.PI2*Math.asin(C$99i/C$99r),C$99r*Math.pow(2,-10*C$99t)*Math.sin((C$99t*C$99n-C$99a)*zofeq7.PI2/C$99s)+C$99i+C$99e)},zofeq7.strongIn=function(C$99t,C$99e,C$99i,C$99n){return C$99i*(C$99t/=C$99n)*C$99t*C$99t*C$99t*C$99t+C$99e},zofeq7.strongInOut=function(C$99t,C$99e,C$99i,C$99n){return(C$99t/=.5*C$99n)<1?.5*C$99i*C$99t*C$99t*C$99t*C$99t*C$99t+C$99e:.5*C$99i*((C$99t-=2)*C$99t*C$99t*C$99t*C$99t+2)+C$99e},zofeq7.strongOut=function(C$99t,C$99e,C$99i,C$99n){return C$99i*((C$99t=C$99t/C$99n-1)*C$99t*C$99t*C$99t*C$99t+1)+C$99e},zofeq7.sineInOut=function(C$99t,C$99e,C$99i,C$99n){return.5*-C$99i*(Math.cos(Math.PI*C$99t/C$99n)-1)+C$99e},zofeq7.sineIn=function(C$99t,C$99e,C$99i,C$99n){return-C$99i*Math.cos(C$99t/C$99n*zofeq7.HALF_PI)+C$99i+C$99e},zofeq7.sineOut=function(C$99t,C$99e,C$99i,C$99n){return C$99i*Math.sin(C$99t/C$99n*zofeq7.HALF_PI)+C$99e},zofeq7.quintIn=function(C$99t,C$99e,C$99i,C$99n){return C$99i*(C$99t/=C$99n)*C$99t*C$99t*C$99t*C$99t+C$99e},zofeq7.quintInOut=function(C$99t,C$99e,C$99i,C$99n){return(C$99t/=.5*C$99n)<1?.5*C$99i*C$99t*C$99t*C$99t*C$99t*C$99t+C$99e:.5*C$99i*((C$99t-=2)*C$99t*C$99t*C$99t*C$99t+2)+C$99e},zofeq7.quintOut=function(C$99t,C$99e,C$99i,C$99n){return C$99i*((C$99t=C$99t/C$99n-1)*C$99t*C$99t*C$99t*C$99t+1)+C$99e},zofeq7.quartIn=function(C$99t,C$99e,C$99i,C$99n){return C$99i*(C$99t/=C$99n)*C$99t*C$99t*C$99t+C$99e},zofeq7.quartInOut=function(C$99t,C$99e,C$99i,C$99n){return(C$99t/=.5*C$99n)<1?.5*C$99i*C$99t*C$99t*C$99t*C$99t+C$99e:.5*-C$99i*((C$99t-=2)*C$99t*C$99t*C$99t-2)+C$99e},zofeq7.quartOut=function(C$99t,C$99e,C$99i,C$99n){return-C$99i*((C$99t=C$99t/C$99n-1)*C$99t*C$99t*C$99t-1)+C$99e},zofeq7.cubicIn=function(C$99t,C$99e,C$99i,C$99n){return C$99i*(C$99t/=C$99n)*C$99t*C$99t+C$99e},zofeq7.cubicInOut=function(C$99t,C$99e,C$99i,C$99n){return(C$99t/=.5*C$99n)<1?.5*C$99i*C$99t*C$99t*C$99t+C$99e:.5*C$99i*((C$99t-=2)*C$99t*C$99t+2)+C$99e},zofeq7.cubicOut=function(C$99t,C$99e,C$99i,C$99n){return C$99i*((C$99t=C$99t/C$99n-1)*C$99t*C$99t+1)+C$99e},zofeq7.quadIn=function(C$99t,C$99e,C$99i,C$99n){return C$99i*(C$99t/=C$99n)*C$99t+C$99e},zofeq7.quadInOut=function(C$99t,C$99e,C$99i,C$99n){return(C$99t/=.5*C$99n)<1?.5*C$99i*C$99t*C$99t+C$99e:.5*-C$99i*(--C$99t*(C$99t-2)-1)+C$99e},zofeq7.quadOut=function(C$99t,C$99e,C$99i,C$99n){return-C$99i*(C$99t/=C$99n)*(C$99t-2)+C$99e},zofeq7.expoIn=function(C$99t,C$99e,C$99i,C$99n){return 0==C$99t?C$99e:C$99i*Math.pow(2,10*(C$99t/C$99n-1))+C$99e-.001*C$99i},zofeq7.expoInOut=function(C$99t,C$99e,C$99i,C$99n){return 0==C$99t?C$99e:C$99t==C$99n?C$99e+C$99i:(C$99t/=.5*C$99n)<1?.5*C$99i*Math.pow(2,10*(C$99t-1))+C$99e:.5*C$99i*(2-Math.pow(2,-10*--C$99t))+C$99e},zofeq7.expoOut=function(C$99t,C$99e,C$99i,C$99n){return C$99t==C$99n?C$99e+C$99i:C$99i*(1-Math.pow(2,-10*C$99t/C$99n))+C$99e},zofeq7.circIn=function(C$99t,C$99e,C$99i,C$99n){return-C$99i*(Math.sqrt(1-(C$99t/=C$99n)*C$99t)-1)+C$99e},zofeq7.circInOut=function(C$99t,C$99e,C$99i,C$99n){return(C$99t/=.5*C$99n)<1?.5*-C$99i*(Math.sqrt(1-C$99t*C$99t)-1)+C$99e:.5*C$99i*(Math.sqrt(1-(C$99t-=2)*C$99t)+1)+C$99e},zofeq7.circOut=function(C$99t,C$99e,C$99i,C$99n){return C$99i*Math.sqrt(1-(C$99t=C$99t/C$99n-1)*C$99t)+C$99e},zofeq7.HALF_PI=.5*Math.PI,zofeq7.PI2=2*Math.PI,zofeq7),C$99G=(C$99o(fpodz,"laya.utils.HitArea"),(C$99e=fpodz.prototype).isHit=function(C$99t,C$99e){return!!fpodz.isHitGraphic(C$99t,C$99e,this.hit)&&!fpodz.isHitGraphic(C$99t,C$99e,this.unHit)},C$99e.contains=function(C$99t,C$99e){return this.isHit(C$99t,C$99e)},C$99t(0,C$99e,"hit",function(){return this._hit||(this._hit=new C$99d),this._hit},function(C$99t){this._hit=C$99t}),C$99t(0,C$99e,"unHit",function(){return this._unHit||(this._unHit=new C$99d),this._unHit},function(C$99t){this._unHit=C$99t}),fpodz.isHitGraphic=function(C$99t,C$99e,C$99i){if(!C$99i)return!1;var C$99n;if(!(C$99n=C$99i.cmds)&&C$99i._one&&((C$99n=fpodz._cmds).length=1,C$99n[0]=C$99i._one),!C$99n)return!1;var C$99r,C$99s,C$99a=0;for(C$99r=C$99n.length,C$99a=0;C$99a<C$99r;C$99a++)if(C$99s=C$99n[C$99a]){var C$99o=C$99M._context;switch(C$99s.callee){case C$99o._translate:case 6:C$99t-=C$99s[0],C$99e-=C$99s[1]}if(fpodz.isHitCmd(C$99t,C$99e,C$99s))return!0}return!1},fpodz.isHitCmd=function(C$99t,C$99e,C$99i){if(!C$99i)return!1;var C$99n=C$99M._context,C$99r=!1;switch(C$99i.callee){case C$99n._drawRect:case 13:fpodz._rec.setTo(C$99i[0],C$99i[1],C$99i[2],C$99i[3]),C$99r=fpodz._rec.contains(C$99t,C$99e);break;case C$99n._drawCircle:case C$99n._fillCircle:case 14:C$99r=(C$99t-=C$99i[0])*C$99t+(C$99e-=C$99i[1])*C$99e<C$99i[2]*C$99i[2];break;case C$99n._drawPoly:case 18:C$99t-=C$99i[0],C$99e-=C$99i[1],C$99r=fpodz.ptInPolygon(C$99t,C$99e,C$99i[2])}return C$99r},fpodz.ptInPolygon=function(C$99t,C$99c,C$99e){var C$99i;(C$99i=fpodz._ptPoint).setTo(C$99t,C$99c);var C$99n,C$99r,C$99s,C$99a,C$99o,C$99h=0;C$99n=C$99e.length;for(var C$99l=0;C$99l<C$99n;C$99l+=2)C$99r=C$99e[C$99l],C$99s=C$99e[C$99l+1],C$99a=C$99e[(C$99l+2)%C$99n],C$99s!=(C$99o=C$99e[(C$99l+3)%C$99n])&&(C$99i.y<Math.min(C$99s,C$99o)||C$99i.y>=Math.max(C$99s,C$99o)||(C$99i.y-C$99s)*(C$99a-C$99r)/(C$99o-C$99s)+C$99r>C$99i.x&&C$99h++);return C$99h%2==1},fpodz._cmds=[],C$99a(fpodz,["_rec",function(){return this._rec=new C$99P},"_ptPoint",function(){return this._ptPoint=new C$99R}]),fpodz),C$99Y=(C$99o(q7ze0,"laya.utils.HTMLChar"),C$99e=q7ze0.prototype,C$99b.imps(C$99e,{"laya.display.ILayout":!0}),C$99e.setSprite=function(C$99t){this._sprite=C$99t},C$99e.getSprite=function(){return this._sprite},C$99e._isChar=function(){return!0},C$99e._getCSSStyle=function(){return this.style},C$99t(0,C$99e,"width",function(){return this._w},function(C$99t){this._w=C$99t}),C$99t(0,C$99e,"x",function(){return this._x},function(C$99t){this._sprite&&(this._sprite.x=C$99t),this._x=C$99t}),C$99t(0,C$99e,"y",function(){return this._y},function(C$99t){this._sprite&&(this._sprite.y=C$99t),this._y=C$99t}),C$99t(0,C$99e,"height",function(){return this._h},function(C$99t){this._h=C$99t}),q7ze0._isWordRegExp=new RegExp("[\\w.]",""),C$99o(oqfe7z,"laya.utils.Log"),oqfe7z.enable=function(){oqfe7z._logdiv||(oqfe7z._logdiv=C$99S.window.document.createElement("div"),C$99S.window.document.body.appendChild(oqfe7z._logdiv),oqfe7z._logdiv.style.cssText="pointer-events:none;border:white;overflow:hidden;z-index:1000000;background:rgba(100,100,100,0.6);color:white;position: absolute;left:0px;top:0px;width:50%;height:50%;")},oqfe7z.toggle=function(){var C$99t=oqfe7z._logdiv.style;"1px"==C$99t.width?C$99t.width=C$99t.height="50%":C$99t.width=C$99t.height="1px"},oqfe7z.print=function(C$99t){oqfe7z._logdiv&&(oqfe7z.maxCount<=oqfe7z._count&&oqfe7z.clear(),oqfe7z._count++,oqfe7z._logdiv.innerText+=C$99t+"\n",oqfe7z._logdiv.scrollTop=oqfe7z._logdiv.scrollHeight)},oqfe7z.clear=function(){oqfe7z._logdiv.innerText="",oqfe7z._count=0},oqfe7z._logdiv=null,oqfe7z._count=0,oqfe7z.maxCount=20,C$99o(e0zo7q,"laya.utils.Mouse"),C$99t(1,e0zo7q,"cursor",function(){return e0zo7q._style.cursor},function(C$99t){e0zo7q._style.cursor=C$99t}),e0zo7q.hide=function(){"none"!=e0zo7q.cursor&&(e0zo7q._preCursor=e0zo7q.cursor,e0zo7q.cursor="none")},e0zo7q.show=function(){"none"==e0zo7q.cursor&&(e0zo7q.cursor=e0zo7q._preCursor||"auto")},e0zo7q._preCursor=null,C$99a(e0zo7q,["_style",function(){return this._style=C$99S.document.body.style}]),C$99o(kabrjg,"laya.utils.Pool"),kabrjg.getPoolBySign=function(C$99t){return kabrjg._poolDic[C$99t]||(kabrjg._poolDic[C$99t]=[])},kabrjg.clearBySign=function(C$99t){kabrjg._poolDic[C$99t]&&(kabrjg._poolDic[C$99t].length=0)},kabrjg.recover=function(C$99t,C$99e){C$99e.__InPool||(C$99e.__InPool=!0,kabrjg.getPoolBySign(C$99t).push(C$99e))},kabrjg.getItemByClass=function(C$99t,C$99e){C$99t=kabrjg.getPoolBySign(C$99t),C$99t=C$99t.length?C$99t.pop():new C$99e;return C$99t.__InPool=!1,C$99t},kabrjg.getItemByCreateFun=function(C$99t,C$99e,C$99i){C$99t=kabrjg.getPoolBySign(C$99t),C$99t=C$99t.length?C$99t.pop():C$99e.call(C$99i);return C$99t.__InPool=!1,C$99t},kabrjg.getItem=function(C$99t){C$99t=kabrjg.getPoolBySign(C$99t),C$99t=C$99t.length?C$99t.pop():null;return C$99t&&(C$99t.__InPool=!1),C$99t},kabrjg._poolDic={},kabrjg.InPoolSign="__InPool",kabrjg),C$99X=(C$99o(b3jgr,"laya.utils.Stat"),C$99t(1,b3jgr,"onclick",null,function(C$99t){b3jgr._sp&&b3jgr._sp.on("click",b3jgr._sp,C$99t),b3jgr._canvas&&(b3jgr._canvas.source.onclick=C$99t,b3jgr._canvas.source.style.pointerEvents="")}),b3jgr.show=function(C$99t,C$99e,C$99i){var C$99n;void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),!C$99M.isConchApp||C$99M.isConchWebGL?(C$99M.isConchWebGL||C$99S.onMiniGame||C$99S.onLimixiu||(b3jgr._useCanvas=!0),b3jgr._show=!0,b3jgr._fpsData.length=60,b3jgr._view[0]={title:"FPS(Canvas)",value:"_fpsStr",color:"yellow",units:"int"},b3jgr._view[1]={title:"Sprite",value:"_spriteStr",color:"white",units:"int"},b3jgr._view[2]={title:"DrawCall",value:"drawCall",color:"green",units:"int"},b3jgr._view[3]={title:"CurMem",value:"currentMemorySize",color:"yellow",units:"M"},C$99M.isWebGL?(b3jgr._view[4]={title:"Shader",value:"shaderCall",color:"red",units:"int"},C$99M.is3DMode?(b3jgr._view[0].title="FPS(3D)",b3jgr._view[5]={title:"TriFaces",value:"trianglesFaces",color:"blue",units:"int"},b3jgr._view[6]={title:"treeNodeColl",value:"treeNodeCollision",color:"white",units:"int"},b3jgr._view[7]={title:"treeSpriteColl",value:"treeSpriteCollision",color:"white",units:"int"},1==C$99i?(C$99n=8,b3jgr._view[C$99n++]={title:"VATTRIBS",value:"MAX_VERTEX_ATTRIBS",color:"white",units:"int",varying:1},b3jgr._view[C$99n++]={title:"VUNIFORMS",value:"MAX_VERTEX_UNIFORM_VECTORS",color:"white",units:"int",varying:1},b3jgr._view[C$99n++]={title:"VARYINGS",value:"MAX_VARYING_VECTORS",color:"white",units:"int",varying:1},b3jgr._view[C$99n++]={title:"CTEXTURES",value:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",color:"white",units:"int",varying:1},b3jgr._view[C$99n++]={title:"VTEXTURES",value:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",color:"white",units:"int",varying:1},b3jgr._view[C$99n++]={title:"TEXTURES",value:"MAX_TEXTURE_IMAGE_UNITS",color:"white",units:"int",varying:1},b3jgr._view[C$99n++]={title:"FUNIFORMS",value:"MAX_FRAGMENT_UNIFORM_VECTORS",color:"white",units:"int",varying:1},b3jgr._view[C$99n++]={title:"SVERSION",value:"SHADING_LANGUAGE_VERSION",color:"white",units:"string",varying:1},b3jgr._view[C$99n++]={title:"VERSION",value:"VERSION",color:"white",units:"string",varying:1}):2==C$99i&&(C$99n=8,b3jgr._view[C$99n++]={title:"astc",value:"WEBGL_compressed_texture_astc",color:"white",units:"object",varying:2},b3jgr._view[C$99n++]={title:"atc",value:"WEBGL_compressed_texture_atc",color:"white",units:"object",varying:2},b3jgr._view[C$99n++]={title:"etc",value:"WEBGL_compressed_texture_etc",color:"white",units:"object",varying:2},b3jgr._view[C$99n++]={title:"etc1",value:"WEBGL_compressed_texture_etc1",color:"white",units:"object",varying:2},b3jgr._view[C$99n++]={title:"pvrtc",value:"WEBGL_compressed_texture_pvrtc",color:"white",units:"object",varying:2},b3jgr._view[C$99n++]={title:"s3tc",value:"WEBGL_compressed_texture_s3tc",color:"white",units:"object",varying:2},b3jgr._view[C$99n++]={title:"srgb",value:"WEBGL_compressed_texture_s3tc_srgb",color:"white",units:"object",varying:2})):(b3jgr._view[0].title="FPS(WebGL)",b3jgr._view[5]={title:"Canvas",value:"_canvasStr",color:"white",units:"int"})):b3jgr._view[4]={title:"Canvas",value:"_canvasStr",color:"white",units:"int"},b3jgr._useCanvas?b3jgr.createUIPre(C$99t,C$99e):b3jgr.createUI(C$99t,C$99e),b3jgr.enable()):C$99S.window.conch.showFPS&&C$99S.window.conch.showFPS(C$99t,C$99e)},b3jgr.createUIPre=function(C$99t,C$99e){var C$99i=C$99S.pixelRatio;b3jgr._width=170*C$99i,b3jgr._vx=75*C$99i,b3jgr._height=C$99i*(12*b3jgr._view.length+3*C$99i)+4,b3jgr._fontSize=12*C$99i;for(var C$99n=0;C$99n<b3jgr._view.length;C$99n++)b3jgr._view[C$99n].x=4,b3jgr._view[C$99n].y=C$99n*b3jgr._fontSize+2*C$99i;b3jgr._canvas||((b3jgr._canvas=new C$99gt("2D")).size(b3jgr._width,b3jgr._height),(b3jgr._ctx=b3jgr._canvas.getContext("2d")).textBaseline="top",b3jgr._ctx.font=b3jgr._fontSize+"px Sans-serif",b3jgr._canvas.source.style.cssText="pointer-events:none;background:rgba(150,150,150,0.8);z-index:100000;position: absolute;direction:ltr;left:"+C$99t+"px;top:"+C$99e+"px;width:"+b3jgr._width/C$99i+"px;height:"+b3jgr._height/C$99i+"px;"),b3jgr._first=!0,b3jgr.loop(),b3jgr._first=!1,C$99S.container.appendChild(b3jgr._canvas.source)},b3jgr.createUI=function(C$99t,C$99e){var C$99i=b3jgr._sp,C$99n=C$99S.pixelRatio;C$99i||(C$99i=new C$99ut,(b3jgr._leftText=new C$99pt).pos(5,5),b3jgr._leftText.color="#ffffff",C$99i.addChild(b3jgr._leftText),(b3jgr._txt=new C$99pt).pos(80*C$99n,5),b3jgr._txt.color="#ffffff",C$99i.addChild(b3jgr._txt),b3jgr._sp=C$99i),C$99i.pos(C$99t,C$99e);for(var C$99r="",C$99s=0;C$99s<b3jgr._view.length;C$99s++)C$99r+=b3jgr._view[C$99s].title+"\n";b3jgr._leftText.text=C$99r;C$99t=170*C$99n,C$99e=C$99n*(12*b3jgr._view.length+3*C$99n)+4;b3jgr._txt.fontSize=b3jgr._fontSize*C$99n,b3jgr._leftText.fontSize=b3jgr._fontSize*C$99n,C$99i.size(C$99t,C$99e),C$99i.graphics.clear(),C$99i.graphics.setAlpha(.5),C$99i.graphics.drawRect(0,0,C$99t,C$99e,"#999999"),C$99i.graphics.setAlpha(1),b3jgr.loop()},b3jgr.enable=function(){C$99b.timer.frameLoop(1,b3jgr,b3jgr.loop)},b3jgr.hide=function(){b3jgr._show=!1,C$99b.timer.clear(b3jgr,b3jgr.loop),b3jgr._canvas&&C$99S.removeElement(b3jgr._canvas.source)},b3jgr.clear=function(){b3jgr.trianglesFaces=b3jgr.drawCall=b3jgr.shaderCall=b3jgr.spriteCount=b3jgr.spriteRenderUseCacheCount=b3jgr.treeNodeCollision=b3jgr.treeSpriteCollision=b3jgr.canvasNormal=b3jgr.canvasBitmap=b3jgr.canvasReCache=0},b3jgr.loop=function(){b3jgr._count++;var C$99t=C$99S.now();var C$99e;C$99t-b3jgr._timer<1e3||(C$99e=b3jgr._count,b3jgr.FPS=Math.round(1e3*C$99e/(C$99t-b3jgr._timer)),b3jgr._show&&(b3jgr.trianglesFaces=Math.round(b3jgr.trianglesFaces/C$99e),b3jgr.spriteCount=b3jgr._useCanvas?(b3jgr.drawCall=Math.round(b3jgr.drawCall/C$99e)-2,b3jgr.shaderCall=Math.round(b3jgr.shaderCall/C$99e),Math.round(b3jgr.spriteCount/C$99e)-1):(b3jgr.drawCall=Math.round(b3jgr.drawCall/C$99e)-2,b3jgr.shaderCall=Math.round(b3jgr.shaderCall/C$99e)-4,Math.round(b3jgr.spriteCount/C$99e)-4),b3jgr.spriteRenderUseCacheCount=Math.round(b3jgr.spriteRenderUseCacheCount/C$99e),b3jgr.canvasNormal=Math.round(b3jgr.canvasNormal/C$99e),b3jgr.canvasBitmap=Math.round(b3jgr.canvasBitmap/C$99e),b3jgr.canvasReCache=Math.ceil(b3jgr.canvasReCache/C$99e),b3jgr.treeNodeCollision=Math.round(b3jgr.treeNodeCollision/C$99e),b3jgr.treeSpriteCollision=Math.round(b3jgr.treeSpriteCollision/C$99e),C$99e=0<b3jgr.FPS?Math.floor(1e3/b3jgr.FPS).toString():" ",b3jgr._fpsStr=b3jgr.FPS+(b3jgr.renderSlow?" slow":"")+" "+C$99e,b3jgr._spriteStr=b3jgr.spriteCount+(b3jgr.spriteRenderUseCacheCount?"/"+b3jgr.spriteRenderUseCacheCount:""),b3jgr._canvasStr=b3jgr.canvasReCache+"/"+b3jgr.canvasNormal+"/"+b3jgr.canvasBitmap,b3jgr.currentMemorySize=C$99V.systemResourceManager.memorySize,b3jgr._useCanvas?b3jgr.renderInfoPre():b3jgr.renderInfo(),b3jgr.clear()),b3jgr._count=0,b3jgr._timer=C$99t)},b3jgr.renderInfoPre=function(){if(b3jgr._canvas){var C$99t=b3jgr._ctx;C$99t.clearRect(b3jgr._first?0:b3jgr._vx,0,b3jgr._width,b3jgr._height);for(var C$99e=C$99M.WebGL.mainContext,C$99i=0;C$99i<b3jgr._view.length;C$99i++){var C$99n=b3jgr._view[C$99i];b3jgr._first&&(C$99t.fillStyle="white",C$99t.fillText(C$99n.title,C$99n.x,C$99n.y,null,null,null)),C$99t.fillStyle=C$99n.color;var C$99r=-1;if((C$99n=b3jgr._view[C$99i]).varying){if(C$99e)switch(C$99n.varying){case 1:C$99r=C$99e.getParameter(C$99e[C$99n.value]);break;case 2:C$99r=C$99e.getExtension(C$99n.value)}}else C$99r=b3jgr[C$99n.value];"M"==C$99n.units&&(C$99r=Math.floor(C$99r/1048576*100)/100+" M"),"K"==C$99n.units&&(C$99r=Math.floor(C$99r/1024*100)/100+" K"),"string"==C$99n.units&&(C$99r=C$99r.match(/\d+\.?\d/i)),C$99t.fillText(C$99r+"",C$99n.x+b3jgr._vx,C$99n.y,null,null,null)}}},b3jgr.renderInfo=function(){for(var C$99t="",C$99e=C$99M.WebGL.mainContext,C$99i=0;C$99i<b3jgr._view.length;C$99i++){var C$99n=b3jgr._view[C$99i],C$99r=-1;if(C$99n.varying){if(C$99e)switch(C$99n.varying){case 1:C$99r=C$99e.getParameter(C$99e[C$99n.value]);break;case 2:C$99r=C$99e.getExtension(C$99n.value)}}else C$99r=b3jgr[C$99n.value];"M"==C$99n.units&&(C$99r=Math.floor(C$99r/1048576*100)/100+" M"),"K"==C$99n.units&&(C$99r=Math.floor(C$99r/1024*100)/100+" K"),C$99t+=(C$99r="string"==C$99n.units?C$99r.match(/\d+\.?\d/i):C$99r)+"\n"}b3jgr._txt.text=C$99t},b3jgr.FPS=0,b3jgr.loopCount=0,b3jgr.shaderCall=0,b3jgr.drawCall=0,b3jgr.trianglesFaces=0,b3jgr.spriteCount=0,b3jgr.spriteRenderUseCacheCount=0,b3jgr.treeNodeCollision=0,b3jgr.treeSpriteCollision=0,b3jgr.canvasNormal=0,b3jgr.canvasBitmap=0,b3jgr.canvasReCache=0,b3jgr.renderSlow=!1,b3jgr.currentMemorySize=0,b3jgr._fpsStr=null,b3jgr._canvasStr=null,b3jgr._spriteStr=null,b3jgr._fpsData=[],b3jgr._timer=0,b3jgr._count=0,b3jgr._view=[],b3jgr._fontSize=12,b3jgr._txt=null,b3jgr._leftText=null,b3jgr._sp=null,b3jgr._show=!1,b3jgr._useCanvas=!1,b3jgr._canvas=null,b3jgr._ctx=null,b3jgr._first=!1,b3jgr._vx=NaN,b3jgr._width=0,b3jgr._height=100,b3jgr),C$99K=(C$99o(opzf,"laya.utils.StringKey"),(C$99e=opzf.prototype).add=function(C$99t){var C$99e=this._strsToID[C$99t];return null!=C$99e?C$99e:(this._idToStrs[this._length]=C$99t,this._strsToID[C$99t]=this._length++)},C$99e.getID=function(C$99t){C$99t=this._strsToID[C$99t];return null==C$99t?-1:C$99t},C$99e.getName=function(C$99t){C$99t=this._idToStrs[C$99t];return null==C$99t?void 0:C$99t},C$99o(hyw_m,"laya.utils.Timer"),(C$99e=hyw_m.prototype)._init=function(){C$99b.timer&&C$99b.timer.frameLoop(1,this,this._update)},C$99e._now=function(){return Date.now()},C$99e._update=function(){if(this.scale<=0)this._lastTimer=this._now();else{var C$99t=this.currFrame=this.currFrame+this.scale,C$99e=this._now();this._delta=(C$99e-this._lastTimer)*this.scale;var C$99i=this.currTimer=this.currTimer+this._delta;C$99b.isDebug&&6e4<Math.abs(C$99e-this._lastTimer)&&console.error("\u7cfb\u7edf\u65f6\u95f4\u9519\u8bef\uff01"+(C$99e-this._lastTimer)),this._lastTimer=C$99e;var C$99n=this._handlers;for(C$99a=this._count=0,C$99o=C$99n.length;C$99a<C$99o;C$99a++)if(null!==(C$99h=C$99n[C$99a]).method){var C$99r=C$99h.userFrame?C$99t:C$99i;if(C$99r>=C$99h.exeTime)if(C$99h.repeat)if(C$99h.jumpFrame)for(;C$99r>=C$99h.exeTime;)C$99h.exeTime+=C$99h.delay,C$99h.run(!1);else C$99h.exeTime+=C$99h.delay,C$99h.run(!1),C$99r>C$99h.exeTime&&(C$99h.exeTime+=Math.ceil((C$99r-C$99h.exeTime)/C$99h.delay)*C$99h.delay);else C$99h.run(!0)}else this._count++;(30<this._count||C$99t%200==0)&&this._clearHandlers();for(var C$99s=this._laters,C$99a=0,C$99o=C$99s.length-1;C$99a<=C$99o;C$99a++){var C$99h=C$99s[C$99a];this._isIgnoreRecover(C$99h)||(null!==C$99h.method&&(delete this._map[C$99h.key],C$99h.run(!1)),this._recoverHandler(C$99h)),C$99a===C$99o&&(C$99o=C$99s.length-1)}C$99s.length=0}},C$99e._clearHandlers=function(){for(var C$99t=this._handlers,C$99e=0,C$99i=C$99t.length;C$99e<C$99i;C$99e++){var C$99n=C$99t[C$99e];null!==C$99n.method||this._isIgnoreRecover(C$99n)?this._temp.push(C$99n):this._recoverHandler(C$99n)}this._handlers=this._temp,this._temp=C$99t,this._temp.length=0},C$99e._recoverHandler=function(C$99t){this._map[C$99t.key]==C$99t&&delete this._map[C$99t.key],C$99t.recover()},C$99e._create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){if(!C$99i)return C$99r.apply(C$99n,C$99s),null;if(C$99a){var C$99h=this._getHandler(C$99n,C$99r);if(C$99h)return C$99h.repeat=C$99e,C$99h.userFrame=C$99t,C$99h.delay=C$99i,C$99h.ignoreRecover=C$99o,C$99h.caller=C$99n,C$99h.method=C$99r,C$99h.args=C$99s,C$99h.exeTime=C$99i+(C$99t?this.currFrame:this.currTimer+this._now()-this._lastTimer),C$99h}return(C$99h=C$99zt.create()).repeat=C$99e,C$99h.userFrame=C$99t,C$99h.delay=C$99i,C$99h.ignoreRecover=C$99o,C$99h.caller=C$99n,C$99h.method=C$99r,C$99h.args=C$99s,C$99h.exeTime=C$99i+(C$99t?this.currFrame:this.currTimer+this._now()-this._lastTimer)+1,this._indexHandler(C$99h),this._handlers.push(C$99h),C$99h},C$99e._indexHandler=function(C$99t){var C$99e=C$99t.caller,C$99i=C$99t.method,C$99e=C$99e?C$99e.$_GID||(C$99e.$_GID=C$99Q.getGID()):0,C$99i=C$99i.$_TID||(C$99i.$_TID=this._mid++);C$99t.key=C$99e+"_"+C$99i,this._map[C$99t.key]=C$99t},C$99e.once=function(C$99t,C$99e,C$99i,C$99n,C$99r){this._create(!1,!1,C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r,!1)},C$99e.loop=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){void 0===C$99s&&(C$99s=!1);C$99t=this._create(!1,!0,C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r,C$99a=void 0===C$99a?!1:C$99a);C$99t&&(C$99t.jumpFrame=C$99s)},C$99e.frameOnce=function(C$99t,C$99e,C$99i,C$99n,C$99r){this._create(!0,!1,C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r,!1)},C$99e.frameLoop=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._create(!0,!0,C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r,C$99s=void 0===C$99s?!1:C$99s)},C$99e.toString=function(){return"callLater:"+this._laters.length+" handlers:"+this._handlers.length+" pool:"+C$99zt._freeCount},C$99e.clear=function(C$99t,C$99e){C$99t=this._getHandler(C$99t,C$99e);return!(!C$99t||this._isIgnoreRecover(C$99t)||(delete this._map[C$99t.key],C$99t.key=null,C$99t.clear(),0))},C$99e.clearAll=function(C$99t){if(C$99t)for(var C$99e=0,C$99i=this._handlers.length;C$99e<C$99i;C$99e++){var C$99n=this._handlers[C$99e];C$99n.caller===C$99t&&(this._isIgnoreRecover(C$99n)||(delete this._map[C$99n.key],C$99n.key=null,C$99n.clear()))}},C$99e._getHandler=function(C$99t,C$99e){C$99t=C$99t?C$99t.$_GID||(C$99t.$_GID=C$99Q.getGID()):0,C$99e=C$99e.$_TID||(C$99e.$_TID=this._mid++);return this._map[C$99t+"_"+C$99e]},C$99e._isIgnoreRecover=function(C$99t){if(C$99t.ignoreRecover||C$99t.caller&&"IgnoreRecover"==C$99t.caller.callername){if(this._errorRecord)console.warn("\u6838\u5fc3\u5b9a\u65f6\u5668\u9500\u6bc1\u5ffd\u7565");else{this._errorRecord=!0;var C$99e="";try{arguments.propertyIsEnumerable.caller}catch(C$99t){C$99e=C$99t.stack}C$99b.recordError("\u62a5\u9519\uff1a\u6838\u5fc3\u5b9a\u65f6\u5668\u9500\u6bc1\u5ffd\u7565  "+C$99e)}return!0}return!1},C$99e.hasHandler=function(C$99t,C$99e){return this._map[C$99t.$_GID+"_"+C$99e.$_TID]},C$99e.callLater=function(C$99t,C$99e,C$99i){var C$99n;null==this._getHandler(C$99t,C$99e)&&((C$99n=C$99zt.create()).caller=C$99t,C$99n.method=C$99e,C$99n.args=C$99i,this._indexHandler(C$99n),this._laters.push(C$99n))},C$99e.runCallLater=function(C$99t,C$99e){C$99t=this._getHandler(C$99t,C$99e);C$99t&&null!=C$99t.method&&(this._isIgnoreRecover(C$99t)||(delete this._map[C$99t.key],C$99t.run(!0)))},C$99e.runTimer=function(C$99t,C$99e){this.runCallLater(C$99t,C$99e)},C$99t(0,C$99e,"delta",function(){return this._delta}),hyw_m.__init$=function(){function ivc$t9(){this.key=null,this.repeat=!1,this.delay=0,this.userFrame=!1,this.ignoreRecover=!1,this.exeTime=0,this.caller=null,this.method=null,this.args=null,this.jumpFrame=!1}var C$99t;C$99o(ivc$t9,""),(C$99t=ivc$t9.prototype).clear=function(){this.caller=null,this.method=null,this.args=null,this.ignoreRecover=!1},C$99t.recover=function(){this.clear(),this.args=ivc$t9._freeHandler,ivc$t9._freeHandler=this,ivc$t9._freeCount++},C$99t.run=function(C$99t){var C$99e=this.caller;if(C$99e&&C$99e.destroyed)return this.clear();var C$99i=this.method,C$99n=this.args;C$99t&&this.clear(),null!=C$99i&&(C$99n?C$99i.apply(C$99e,C$99n):C$99i.call(C$99e))},ivc$t9._freeHandler=null,ivc$t9._freeCount=0,ivc$t9.create=function(){var C$99t=ivc$t9._freeHandler;return C$99t?(ivc$t9._freeHandler=C$99t.args,--ivc$t9._freeCount,C$99t.args=null,C$99t):new ivc$t9},C$99zt=ivc$t9},hyw_m),C$99Z=(C$99o(iv9tc2,"laya.utils.Tween"),(C$99e=iv9tc2.prototype).to=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){return this._create(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s=void 0===C$99s?0:C$99s,C$99a=void 0===C$99a?!1:C$99a,!0,!1,!0)},C$99e.from=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){return this._create(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s=void 0===C$99s?0:C$99s,C$99a=void 0===C$99a?!1:C$99a,!1,!1,!0)},C$99e._create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){if(!C$99t)throw new Error("Tween:target is null");this._target=C$99t,this._duration=C$99i,this._ease=C$99n||C$99e.ease||iv9tc2.easeNone,this._complete=C$99r||C$99e.complete,this._delay=C$99s,this._props=[],this._usedTimer=0,this._startTimer=C$99S.now(),this._usedPool=C$99h,this._delayParam=null,this.update=C$99e.update;C$99i=C$99t.$_GID||(C$99t.$_GID=C$99Q.getGID());return iv9tc2.tweenMap[C$99i]?(C$99a&&iv9tc2.clearTween(C$99t),iv9tc2.tweenMap[C$99i].push(this)):iv9tc2.tweenMap[C$99i]=[this],C$99l?C$99s<=0?this.firstStart(C$99t,C$99e,C$99o):(this._delayParam=[C$99t,C$99e,C$99o],C$99b.scaleTimer.once(C$99s,this,this.firstStart,this._delayParam)):this._initProps(C$99t,C$99e,C$99o),this},C$99e.firstStart=function(C$99t,C$99e,C$99i){this._delayParam=null,C$99t.destroyed?this.clear():(this._initProps(C$99t,C$99e,C$99i),this._beginLoop())},C$99e._initProps=function(C$99t,C$99e,C$99i){for(var C$99n in C$99e){var C$99r,C$99s;"number"==typeof C$99t[C$99n]&&(C$99r=(C$99i?C$99t:C$99e)[C$99n],C$99s=(C$99i?C$99e:C$99t)[C$99n],this._props.push([C$99n,C$99r,C$99s-C$99r]),C$99i||(C$99t[C$99n]=C$99r))}},C$99e._beginLoop=function(){C$99b.scaleTimer.frameLoop(1,this,this._doEase)},C$99e._doEase=function(){this._updateEase(C$99S.now())},C$99e._updateEase=function(C$99t){var C$99e=this._target;if(C$99e){if(C$99e.destroyed)return iv9tc2.clearTween(C$99e);C$99t=this._usedTimer=C$99t-this._startTimer-this._delay;if(!(C$99t<0)){if(C$99t>=this._duration)return this.complete();for(var C$99i=0<C$99t?this._ease(C$99t,0,1,this._duration):0,C$99n=this._props,C$99r=0,C$99s=C$99n.length;C$99r<C$99s;C$99r++){var C$99a=C$99n[C$99r];C$99e[C$99a[0]]=C$99a[1]+C$99i*C$99a[2]}this.update&&this.update.run()}}},C$99e.complete=function(){if(this._target){C$99b.scaleTimer.runTimer(this,this.firstStart);for(var C$99t=this._target,C$99e=this._props,C$99i=this._complete,C$99n=0,C$99r=C$99e.length;C$99n<C$99r;C$99n++){var C$99s=C$99e[C$99n];C$99t[C$99s[0]]=C$99s[1]+C$99s[2]}this.update&&this.update.run(),this.clear(),C$99i&&C$99i.run()}},C$99e.pause=function(){var C$99t;C$99b.scaleTimer.clear(this,this._beginLoop),C$99b.scaleTimer.clear(this,this._doEase),C$99b.scaleTimer.clear(this,this.firstStart),(C$99t=C$99S.now()-this._startTimer-this._delay)<0&&(this._usedTimer=C$99t)},C$99e.setStartTime=function(C$99t){this._startTimer=C$99t},C$99e.clear=function(){this._target&&(this._remove(),this._clear())},C$99e._clear=function(){this.pause(),C$99b.scaleTimer.clear(this,this.firstStart),this._complete=null,this._target=null,this._ease=null,this._props=null,this._delayParam=null,this._usedPool&&(this.update=null,C$99Y.recover("tween",this))},C$99e.recover=function(){this._usedPool=!0,this._clear()},C$99e._remove=function(){var C$99t=iv9tc2.tweenMap[this._target.$_GID];if(C$99t)for(var C$99e=0,C$99i=C$99t.length;C$99e<C$99i;C$99e++)if(C$99t[C$99e]===this){C$99t.splice(C$99e,1);break}},C$99e.restart=function(){if(this.pause(),this._usedTimer=0,this._startTimer=C$99S.now(),this._delayParam)C$99b.scaleTimer.once(this._delay,this,this.firstStart,this._delayParam);else{for(var C$99t=this._props,C$99e=0,C$99i=C$99t.length;C$99e<C$99i;C$99e++){var C$99n=C$99t[C$99e];this._target[C$99n[0]]=C$99n[1]}C$99b.scaleTimer.once(this._delay,this,this._beginLoop)}},C$99e.resume=function(){this._usedTimer>=this._duration||(this._startTimer=C$99S.now()-this._usedTimer-this._delay,this._delayParam?this._usedTimer<0?C$99b.scaleTimer.once(-this._usedTimer,this,this.firstStart,this._delayParam):this.firstStart.apply(this,this._delayParam):this._beginLoop())},C$99t(0,C$99e,"progress",null,function(C$99t){C$99t*=this._duration;this._startTimer=C$99S.now()-this._delay-C$99t}),iv9tc2.to=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){return void 0===C$99s&&(C$99s=0),void 0===C$99a&&(C$99a=!1),void 0===C$99o&&(C$99o=!0),C$99Y.getItemByClass("tween",iv9tc2)._create(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,!0,C$99o,!0)},iv9tc2.from=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){return void 0===C$99s&&(C$99s=0),void 0===C$99a&&(C$99a=!1),void 0===C$99o&&(C$99o=!0),C$99Y.getItemByClass("tween",iv9tc2)._create(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,!1,C$99o,!0)},iv9tc2.clearAll=function(C$99t){if(C$99t&&C$99t.$_GID){var C$99e=iv9tc2.tweenMap[C$99t.$_GID];if(C$99e){for(var C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)C$99e[C$99i]._clear();C$99e.length=0}}},iv9tc2.clear=function(C$99t){C$99t.clear()},iv9tc2.clearTween=function(C$99t){iv9tc2.clearAll(C$99t)},iv9tc2.easeNone=function(C$99t,C$99e,C$99i,C$99n){return C$99i*C$99t/C$99n+C$99e},iv9tc2.tweenMap={},iv9tc2),C$99Q=(C$99o(_xyq,"laya.utils.Utils"),_xyq.toRadian=function(C$99t){return C$99t*_xyq._pi2},_xyq.toAngle=function(C$99t){return C$99t*_xyq._pi},_xyq.toHexColor=function(C$99t){if(C$99t<0||isNaN(C$99t))return null;for(var C$99e=C$99t.toString(16);C$99e.length<6;)C$99e="0"+C$99e;return"#"+C$99e},_xyq.getGID=function(){return _xyq._gid++},_xyq.concatArray=function(C$99t,C$99e){if(!C$99e)return C$99t;if(!C$99t)return C$99e;var C$99i=0,C$99n=C$99e.length;for(C$99i=0;C$99i<C$99n;C$99i++)C$99t.push(C$99e[C$99i]);return C$99t},_xyq.clearArray=function(C$99t){return C$99t&&(C$99t.length=0),C$99t},_xyq.copyArray=function(C$99t,C$99e){if(C$99t=C$99t||[],!C$99e)return C$99t;C$99t.length=C$99e.length;var C$99i=0,C$99n=C$99e.length;for(C$99i=0;C$99i<C$99n;C$99i++)C$99t[C$99i]=C$99e[C$99i];return C$99t},_xyq.getGlobalRecByPoints=function(C$99t,C$99e,C$99i,C$99n,C$99r){return C$99e=new C$99R(C$99e,C$99i),C$99e=C$99t.localToGlobal(C$99e),C$99i=new C$99R(C$99n,C$99r),C$99i=C$99t.localToGlobal(C$99i),C$99P._getWrapRec([C$99e.x,C$99e.y,C$99i.x,C$99i.y])},_xyq.getGlobalPosAndScale=function(C$99t){return _xyq.getGlobalRecByPoints(C$99t,0,0,1,1)},_xyq.bind=function(C$99t,C$99e){return C$99t.bind(C$99e)},_xyq.measureText=function(C$99t,C$99e){return C$99m.measureText(C$99t,C$99e)},_xyq.contextMeasureText=function(C$99t){C$99t=C$99S.context.measureText(C$99t);return C$99t=C$99t||{width:16,height:16}},_xyq.updateOrder=function(C$99t){if(!C$99t||C$99t.length<2)return!1;for(var C$99e,C$99i,C$99n=1,C$99r=0,C$99s=C$99t.length;C$99n<C$99s;){for(C$99e=C$99t[C$99r=C$99n],C$99i=C$99t[C$99r]._zOrder;-1<--C$99r&&C$99t[C$99r]._zOrder>C$99i;)C$99t[C$99r+1]=C$99t[C$99r];C$99t[C$99r+1]=C$99e,C$99n++}var C$99a=C$99e.parent.conchModel;if(C$99a)if(null!=C$99a.updateZOrder)C$99a.updateZOrder();else{for(C$99n=0;C$99n<C$99s;C$99n++)C$99a.removeChild(C$99t[C$99n].conchModel);for(C$99n=0;C$99n<C$99s;C$99n++)C$99a.addChildAt(C$99t[C$99n].conchModel,C$99n)}return!0},_xyq.transPointList=function(C$99t,C$99e,C$99i){var C$99n=0,C$99r=C$99t.length;for(C$99n=0;C$99n<C$99r;C$99n+=2)C$99t[C$99n]+=C$99e,C$99t[C$99n+1]+=C$99i},_xyq.parseInt=function(C$99t,C$99e){C$99t=C$99S.window.parseInt(C$99t,C$99e=void 0===C$99e?0:C$99e);return isNaN(C$99t)?0:C$99t},_xyq.getFileExtension=function(C$99t){_xyq._extReg.lastIndex=C$99t.lastIndexOf(".");C$99t=_xyq._extReg.exec(C$99t);return C$99t&&1<C$99t.length?C$99t[1].toLowerCase():null},_xyq.getTransformRelativeToWindow=function(C$99t,C$99e,C$99i){var C$99n=C$99b.stage,C$99t=laya.utils.Utils.getGlobalPosAndScale(C$99t),C$99n=C$99n._canvasTransform.clone(),C$99r=C$99n.tx,C$99s=C$99n.ty;C$99n.rotate(-Math.PI/180*C$99b.stage.canvasDegree),C$99n.scale(C$99b.stage.clientScaleX,C$99b.stage.clientScaleY);var C$99a=C$99b.stage.canvasDegree%180!=0,C$99o=NaN,C$99h=NaN;C$99a?(C$99o=C$99i+C$99t.y,C$99h=C$99e+C$99t.x,C$99o*=C$99n.d,C$99h*=C$99n.a,90==C$99b.stage.canvasDegree?(C$99o=C$99r-C$99o,C$99h+=C$99s):(C$99o+=C$99r,C$99h=C$99s-C$99h)):(C$99o=C$99e+C$99t.x,C$99h=C$99i+C$99t.y,C$99o=C$99o*C$99n.a+C$99r,C$99h=C$99h*C$99n.d+C$99s);C$99e=NaN;return C$99i=C$99a?(C$99e=C$99n.d*C$99t.height,C$99n.a*C$99t.width):(C$99e=C$99n.a*C$99t.width,C$99n.d*C$99t.height),{x:C$99o,y:C$99h,scaleX:C$99e,scaleY:C$99i}},_xyq.fitDOMElementInArea=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){C$99t._fitLayaAirInitialized||(C$99t._fitLayaAirInitialized=!0,C$99t.style.transformOrigin=C$99t.style.webKittransformOrigin="left top",C$99t.style.position="absolute");C$99e=_xyq.getTransformRelativeToWindow(C$99e,C$99i,C$99n);C$99t.style.transform=C$99t.style.webkitTransform="scale("+C$99e.scaleX+","+C$99e.scaleY+") rotate("+C$99b.stage.canvasDegree+"deg)",C$99t.style.width=C$99r+"px",C$99t.style.height=C$99s+"px",C$99t.style.left=C$99e.x+"px",C$99t.style.top=C$99e.y+"px"},_xyq.isOkTextureList=function(C$99t){if(!C$99t)return!1;var C$99e,C$99i=0,C$99n=C$99t.length;for(C$99i=0;C$99i<C$99n;C$99i++)if(!(C$99e=C$99t[C$99i])||!C$99e.source)return!1;return!0},_xyq.isOKCmdList=function(C$99t){if(!C$99t)return!1;var C$99e,C$99i,C$99n=0,C$99r=C$99t.length,C$99s=C$99M._context;for(C$99n=0;C$99n<C$99r;C$99n++)switch((C$99e=C$99t[C$99n]).callee){case C$99s._drawTexture:case C$99s._fillTexture:case C$99s._drawTextureWithTransform:if(!(C$99i=C$99e[0])||!C$99i.source)return!1}return!0},_xyq._gid=1,_xyq._pi=180/Math.PI,_xyq._pi2=Math.PI/180,_xyq._extReg=/\.(\w+)\??/g,_xyq.parseXMLFromString=function(C$99t){if(C$99t=C$99t.replace(/>\s+</g,"><"),-1<(C$99t=(new DOMParser).parseFromString(C$99t,"text/xml")).firstChild.textContent.indexOf("This page contains the following errors"))throw new Error(C$99t.firstChild.firstChild.textContent);return C$99t},_xyq),C$99J=(C$99o(skbjua,"laya.utils.VectorGraphManager"),(C$99e=skbjua.prototype).getId=function(){return this._id++},C$99e.addShape=function(C$99t,C$99e){this.shapeDic[C$99t]=C$99e,this.useDic[C$99t]||(this.useDic[C$99t]=!0)},C$99e.addLine=function(C$99t,C$99e){this.shapeLineDic[C$99t]=C$99e,this.shapeLineDic[C$99t]||(this.shapeLineDic[C$99t]=!0)},C$99e.getShape=function(C$99t){this._checkKey&&null!=this.useDic[C$99t]&&(this.useDic[C$99t]=!0)},C$99e.deleteShape=function(C$99t){this.shapeDic[C$99t]&&(this.shapeDic[C$99t]=null,delete this.shapeDic[C$99t]),this.shapeLineDic[C$99t]&&(this.shapeLineDic[C$99t]=null,delete this.shapeLineDic[C$99t]),null!=this.useDic[C$99t]&&delete this.useDic[C$99t]},C$99e.getCacheList=function(){var C$99t,C$99e=[];for(C$99t in this.shapeDic)C$99e.push(this.shapeDic[C$99t]);for(C$99t in this.shapeLineDic)C$99e.push(this.shapeLineDic[C$99t]);return C$99e},C$99e.startDispose=function(C$99t){for(var C$99e in this.useDic)this.useDic[C$99e]=!1;this._checkKey=!0},C$99e.endDispose=function(){if(this._checkKey){for(var C$99t in this.useDic)this.useDic[C$99t]||this.deleteShape(C$99t);this._checkKey=!1}},skbjua.getInstance=function(){return skbjua.instance=skbjua.instance||new skbjua},skbjua.instance=null,skbjua),C$99tt=(C$99o(eqyo0x,"laya.utils.WeakObject"),(C$99e=eqyo0x.prototype).set=function(C$99t,C$99e){var C$99i;null!=C$99t&&(eqyo0x.supportWeakMap?("string"!=typeof(C$99i=C$99t)&&"number"!=typeof C$99t||(C$99i=eqyo0x._keys[C$99t])||(C$99i=eqyo0x._keys[C$99t]={k:C$99t}),this._obj.set(C$99i,C$99e)):"string"==typeof C$99t||"number"==typeof C$99t?this._obj[C$99t]=C$99e:(C$99t.$_GID||(C$99t.$_GID=C$99Q.getGID()),this._obj[C$99t.$_GID]=C$99e))},C$99e.get=function(C$99t){return null==C$99t?null:eqyo0x.supportWeakMap?(C$99e="string"==typeof C$99t||"number"==typeof C$99t?eqyo0x._keys[C$99t]:C$99t)?this._obj.get(C$99e):null:"string"==typeof C$99t||"number"==typeof C$99t?this._obj[C$99t]:this._obj[C$99t.$_GID];var C$99e},C$99e.del=function(C$99t){var C$99e;null!=C$99t&&(eqyo0x.supportWeakMap?(C$99e="string"==typeof C$99t||"number"==typeof C$99t?eqyo0x._keys[C$99t]:C$99t)&&this._obj.delete(C$99e):"string"==typeof C$99t||"number"==typeof C$99t?delete this._obj[C$99t]:delete this._obj[this._obj.$_GID])},C$99e.has=function(C$99t){return null!=C$99t&&(eqyo0x.supportWeakMap?(C$99e="string"==typeof C$99t||"number"==typeof C$99t?eqyo0x._keys[C$99t]:C$99t,this._obj.has(C$99e)):"string"==typeof C$99t||"number"==typeof C$99t?null!=this._obj[C$99t]:null!=this._obj[this._obj.$_GID]);var C$99e},eqyo0x.__init__=function(){(eqyo0x.supportWeakMap=null!=C$99S.window.WeakMap)||C$99b.timer.loop(eqyo0x.delInterval,null,eqyo0x.clearCache)},eqyo0x.clearCache=function(){for(var C$99t=0,C$99e=eqyo0x._maps.length;C$99t<C$99e;C$99t++)eqyo0x._maps[C$99t]._obj={}},eqyo0x.supportWeakMap=!1,eqyo0x.delInterval=3e5,eqyo0x._keys={},eqyo0x._maps=[],C$99a(eqyo0x,["I",function(){return this.I=new eqyo0x}]),eqyo0x),C$99et=(C$99o(cit9v,"laya.utils.WordText"),(C$99e=cit9v.prototype).setText=function(C$99t){this.changed=!0,this._text=C$99t},C$99e.toString=function(){return this._text},C$99e.charCodeAt=function(C$99t){return this._text?this._text.charCodeAt(C$99t):NaN},C$99e.charAt=function(C$99t){return this._text?this._text.charAt(C$99t):null},C$99t(0,C$99e,"length",function(){return this._text?this._text.length:0}),cit9v),C$99it=(C$99o($dvpi9,"laya.display.Node",C$99l),(C$99e=$dvpi9.prototype)._setBit=function(C$99t,C$99e){1==C$99t&&this._getBit(C$99t)!=C$99e&&this._updateDisplayedInstage(),C$99e?this._bits|=C$99t:this._bits&=~C$99t},C$99e._getBit=function(C$99t){return 0!=(this._bits&C$99t)},C$99e._setUpNoticeChain=function(){this._getBit(1)&&this._setUpNoticeType(1)},C$99e._setUpNoticeType=function(C$99t){var C$99e=this;for(C$99e._setBit(C$99t,!0),C$99e=C$99e.parent;C$99e;){if(C$99e._getBit(C$99t))return;C$99e._setBit(C$99t,!0),C$99e=C$99e.parent}},C$99e.on=function(C$99t,C$99e,C$99i,C$99n){return"display"!==C$99t&&"undisplay"!==C$99t||this._getBit(1)||this._setUpNoticeType(1),this._createListener(C$99t,C$99e,C$99i,C$99n,!1)},C$99e.once=function(C$99t,C$99e,C$99i,C$99n){return"display"!==C$99t&&"undisplay"!==C$99t||this._getBit(1)||this._setUpNoticeType(1),this._createListener(C$99t,C$99e,C$99i,C$99n,!0)},C$99e.createConchModel=function(){return null},C$99e.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this._destroyed=!0,this._parent&&this._parent.removeChild(this),this._childs&&(C$99t?this.destroyChildren():this.removeChildren()),this._childs=null,this._$P=null,this.offAll(),this.timer.clearAll(this)},C$99e.destroyChildren=function(){if(this._childs)for(var C$99t=this._childs.length-1;-1<C$99t;C$99t--)this._childs[C$99t].destroy(!0)},C$99e.addChild=function(C$99t){return!C$99t||this.destroyed||C$99t===this||(C$99t.zOrder&&this._set$P("hasZorder",!0),C$99t._parent===this?(C$99e=this.getChildIndex(C$99t))!==this._childs.length-1&&(this._childs.splice(C$99e,1),this._childs.push(C$99t),this.conchModel&&(this.conchModel.removeChild(C$99t.conchModel),this.conchModel.addChildAt(C$99t.conchModel,this._childs.length-1)),this._childChanged()):(C$99t.parent&&C$99t.parent.removeChild(C$99t),this._childs===$dvpi9.ARRAY_EMPTY&&(this._childs=[]),this._childs.push(C$99t),this.conchModel&&this.conchModel.addChildAt(C$99t.conchModel,this._childs.length-1),(C$99t.parent=this)._childChanged())),C$99t;var C$99e},C$99e.addChildren=function(C$99t){for(var C$99e=arguments,C$99i=0,C$99n=C$99e.length;C$99i<C$99n;)this.addChild(C$99e[C$99i++])},C$99e.addChildAt=function(C$99t,C$99e){if(!C$99t||this.destroyed||C$99t===this)return C$99t;var C$99i;if(C$99t.zOrder&&this._set$P("hasZorder",!0),0<=C$99e&&C$99e<=this._childs.length)return C$99t._parent===this?(C$99i=this.getChildIndex(C$99t),this._childs.splice(C$99i,1),this._childs.splice(C$99e,0,C$99t),this.conchModel&&(this.conchModel.removeChild(C$99t.conchModel),this.conchModel.addChildAt(C$99t.conchModel,C$99e)),this._childChanged()):(C$99t.parent&&C$99t.parent.removeChild(C$99t),this._childs===$dvpi9.ARRAY_EMPTY&&(this._childs=[]),this._childs.splice(C$99e,0,C$99t),this.conchModel&&this.conchModel.addChildAt(C$99t.conchModel,C$99e),C$99t.parent=this),C$99t;throw new Error("appendChildAt:The index is out of bounds")},C$99e.getChildIndex=function(C$99t){return this._childs.indexOf(C$99t)},C$99e.getChildByName=function(C$99t){var C$99e=this._childs;if(C$99e)for(var C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++){var C$99r=C$99e[C$99i];if(C$99r.name===C$99t)return C$99r}return null},C$99e._get$P=function(C$99t){return this._$P[C$99t]},C$99e._set$P=function(C$99t,C$99e){return this.destroyed||(this._$P===$dvpi9.PROP_EMPTY&&(this._$P={}),this._$P[C$99t]=C$99e),C$99e},C$99e.getChildAt=function(C$99t){return this._childs[C$99t]},C$99e.setChildIndex=function(C$99t,C$99e){var C$99i=this._childs;if(C$99e<0||C$99e>=C$99i.length)throw new Error("setChildIndex:The index is out of bounds.");var C$99n=this.getChildIndex(C$99t);if(C$99n<0)throw new Error("setChildIndex:node is must child of this object.");return C$99i.splice(C$99n,1),C$99i.splice(C$99e,0,C$99t),this.conchModel&&(this.conchModel.removeChild(C$99t.conchModel),this.conchModel.addChildAt(C$99t.conchModel,C$99e)),this._childChanged(),C$99t},C$99e._childChanged=function(C$99t){},C$99e.removeChild=function(C$99t){if(!this._childs)return C$99t;C$99t=this._childs.indexOf(C$99t);return this.removeChildAt(C$99t)},C$99e.removeSelf=function(){return this._parent&&this._parent.removeChild(this),this},C$99e.removeChildByName=function(C$99t){C$99t=this.getChildByName(C$99t);return C$99t&&this.removeChild(C$99t),C$99t},C$99e.removeChildAt=function(C$99t){var C$99e=this.getChildAt(C$99t);if(C$99e){for(var C$99i=this._childs.length-1,C$99n=C$99t;C$99n<C$99i;++C$99n)this._childs[C$99n]=this._childs[C$99n+1];this._childs.length=C$99i,this.conchModel&&this.conchModel.removeChild(C$99e.conchModel),C$99e.parent=null}return C$99e},C$99e.removeChildren=function(C$99t,C$99e){if(void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=2147483647),this._childs&&0<this._childs.length){var C$99i=this._childs;var C$99n;0===C$99t&&C$99s<=C$99e?(C$99n=C$99i,this._childs=$dvpi9.ARRAY_EMPTY):C$99n=C$99i.splice(C$99t,C$99e-C$99t);for(var C$99r=0,C$99s=C$99n.length;C$99r<C$99s;C$99r++)C$99n[C$99r].parent=null,this.conchModel&&this.conchModel.removeChild(C$99n[C$99r].conchModel)}return this},C$99e.replaceChild=function(C$99t,C$99e){var C$99i=this._childs.indexOf(C$99e);return-1<C$99i?(this._childs.splice(C$99i,1,C$99t),this.conchModel&&(this.conchModel.removeChild(C$99e.conchModel),this.conchModel.addChildAt(C$99t.conchModel,C$99i)),C$99e.parent=null,C$99t.parent=this,C$99t):null},C$99e._updateDisplayedInstage=function(){var C$99t;var C$99e=C$99b.stage;for((C$99t=this)._displayedInStage=!1;C$99t;){if(C$99t._getBit(1)){this._displayedInStage=C$99t._displayedInStage;break}if(C$99t==C$99e||C$99t._displayedInStage){this._displayedInStage=!0;break}C$99t=C$99t.parent}},C$99e._setDisplay=function(C$99t){this._displayedInStage!==C$99t&&((this._displayedInStage=C$99t)?this.event("display"):this.event("undisplay"))},C$99e._displayChild=function(C$99t,C$99e){var C$99i=C$99t._childs;if(C$99i)for(var C$99n=0;C$99n<C$99i.length;C$99n++){var C$99r=C$99i[C$99n];C$99r&&C$99r._getBit(1)&&(0<C$99r._childs.length?this._displayChild(C$99r,C$99e):C$99r._setDisplay(C$99e))}C$99t._setDisplay(C$99e)},C$99e.contains=function(C$99t){if(C$99t===this)return!0;for(;C$99t;){if(C$99t.parent===this)return!0;C$99t=C$99t.parent}return!1},C$99e.timerLoop=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this.timer.loop(C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r,C$99s=void 0===C$99s?!1:C$99s)},C$99e.timerOnce=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.timer._create(!1,!1,C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r)},C$99e.frameLoop=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.timer._create(!0,!0,C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r)},C$99e.frameOnce=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.timer._create(!0,!1,C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r)},C$99e.clearTimer=function(C$99t,C$99e){this.timer.clear(C$99t,C$99e)},C$99t(0,C$99e,"numChildren",function(){return this._childs.length}),C$99t(0,C$99e,"destroyed",function(){return this._destroyed}),C$99t(0,C$99e,"parent",function(){return this._parent},function(C$99t){this._parent!==C$99t&&(C$99t?(this._parent=C$99t,this.event("added"),this._getBit(1)&&(this._setUpNoticeChain(),C$99t.displayedInStage&&this._displayChild(this,!0)),C$99t._childChanged(this)):(this.event("removed"),this._parent._childChanged(),this._getBit(1)&&this._displayChild(this,!1),this._parent=C$99t))}),C$99t(0,C$99e,"displayedInStage",function(){return this._getBit(1)||this._setUpNoticeType(1),this._displayedInStage}),$dvpi9.ARRAY_EMPTY=[],$dvpi9.PROP_EMPTY={},$dvpi9.NOTICE_DISPLAY=1,$dvpi9.MOUSEENABLE=2,$dvpi9),C$99nt=(C$99o(e7zofp,"laya.display.css.CSSStyle",C$99e=C$99c),(C$99i=e7zofp.prototype).destroy=function(){this._ower=null,this._font=null,this._rect=null},C$99i.inherit=function(C$99t){this._font=C$99t._font,this._spacing=C$99t._spacing===e7zofp._SPACING?e7zofp._SPACING:C$99t._spacing.slice(),this.lineHeight=C$99t.lineHeight},C$99i._widthAuto=function(){return 0!=(262144&this._type)},C$99i.widthed=function(C$99t){return 0!=(8&this._type)},C$99i._calculation=function(C$99t,C$99e){if(C$99e.indexOf("%")<0)return!1;var C$99n=this._ower,C$99r=C$99n.parent,C$99s=this._rect;function z$pf(C$99t,C$99e,C$99i){return C$99t*C$99i[0]+C$99e*C$99i[1]+C$99i[2]}function $i9tvc(C$99t){var C$99e=C$99r.width,C$99i=C$99n.width;C$99s.width&&(C$99n.width=z$pf(C$99e,C$99i,C$99s.width)),C$99s.height&&(C$99n.height=z$pf(C$99e,C$99i,C$99s.height)),C$99s.left&&(C$99n.x=z$pf(C$99e,C$99i,C$99s.left)),C$99s.top&&(C$99n.y=z$pf(C$99e,C$99i,C$99s.top))}null===C$99s&&(C$99r._getCSSStyle()._type|=524288,C$99r.on("resize",this,$i9tvc),this._rect=C$99s={input:{}});var C$99i=C$99e.split(" ");return C$99i[0]=parseFloat(C$99i[0])/100,1==C$99i.length?C$99i[1]=C$99i[2]=0:(C$99i[1]=parseFloat(C$99i[1])/100,C$99i[2]=parseFloat(C$99i[2])),C$99s[C$99t]=C$99i,C$99s.input[C$99t]=C$99e,$i9tvc(),!0},C$99i.heighted=function(C$99t){return 0!=(8192&this._type)},C$99i.size=function(C$99t,C$99e){var C$99i=this._ower,C$99n=!1;-1!==C$99t&&C$99t!=this._ower.width&&(this._type|=8,this._ower.width=C$99t,C$99n=!0),-1!==C$99e&&C$99e!=this._ower.height&&(this._type|=8192,this._ower.height=C$99e,C$99n=!0),C$99n&&(C$99i._layoutLater(),524288&this._type&&C$99i.event("resize",this))},C$99i._getAlign=function(){return this._aligns[0]},C$99i._getValign=function(){return this._aligns[1]},C$99i._getCssFloat=function(){return 0!=(32768&this._type)?32768:0},C$99i._createFont=function(){return 4096&this._type?this._font:(this._type|=4096,this._font=new C$99_(this._font))},C$99i.render=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.width,C$99s=C$99t.height;C$99i-=C$99t.pivotX,C$99n-=C$99t.pivotY,this._bgground&&null!=this._bgground.color&&C$99e.ctx.fillRect(C$99i,C$99n,C$99r,C$99s,this._bgground.color),this._border&&this._border.color&&C$99e.drawRect(C$99i,C$99n,C$99r,C$99s,this._border.color.strColor,this._border.size)},C$99i.getCSSStyle=function(){return this},C$99i.cssText=function(C$99t){this.attrs(e7zofp.parseOneCSS(C$99t,";"))},C$99i.attrs=function(C$99t){if(C$99t)for(var C$99e=0,C$99i=C$99t.length;C$99e<C$99i;C$99e++){var C$99n=C$99t[C$99e];this[C$99n[0]]=C$99n[1]}},C$99i.setTransform=function(C$99t){"none"===C$99t?this._tf=C$99c._TF_EMPTY:this.attrs(e7zofp.parseOneCSS(C$99t,","))},C$99i.translate=function(C$99t,C$99e){this._tf===C$99c._TF_EMPTY&&(this._tf=new C$99u),this._tf.translateX=C$99t,this._tf.translateY=C$99e},C$99i.scale=function(C$99t,C$99e){this._tf===C$99c._TF_EMPTY&&(this._tf=new C$99u),this._tf.scaleX=C$99t,this._tf.scaleY=C$99e},C$99i._enableLayout=function(){return 0==(2&this._type)&&0==(4&this._type)},C$99t(0,C$99i,"block",C$99e.prototype._$get_block,function(C$99t){C$99t?this._type|=1:this._type&=-2}),C$99t(0,C$99i,"valign",function(){return e7zofp._valigndef[this._aligns[1]]},function(C$99t){this._aligns===e7zofp._ALIGNS&&(this._aligns=[0,0,0]),this._aligns[1]=e7zofp._valigndef[C$99t]}),C$99t(0,C$99i,"height",null,function(C$99t){if(this._type|=8192,"string"==typeof C$99t){if(this._calculation("height",C$99t))return;C$99t=parseInt(C$99t)}this.size(-1,C$99t)}),C$99t(0,C$99i,"width",null,function(C$99t){if(this._type|=8,"string"==typeof C$99t){var C$99e=C$99t.indexOf("auto");if(0<=C$99e&&(this._type|=262144,C$99t=C$99t.substr(0,C$99e)),this._calculation("width",C$99t))return;C$99t=parseInt(C$99t)}this.size(C$99t,-1)}),C$99t(0,C$99i,"fontWeight",function(){return this._font.weight},function(C$99t){this._createFont().weight=C$99t}),C$99t(0,C$99i,"left",null,function(C$99t){var C$99e=this._ower;if("string"==typeof C$99t){if("center"===C$99t?C$99t="50% -50% 0":"right"===C$99t&&(C$99t="100% -100% 0"),this._calculation("left",C$99t))return;C$99t=parseInt(C$99t)}C$99e.x=C$99t}),C$99t(0,C$99i,"_translate",null,function(C$99t){this.translate(C$99t[0],C$99t[1])}),C$99t(0,C$99i,"absolute",function(){return 0!=(4&this._type)}),C$99t(0,C$99i,"top",null,function(C$99t){var C$99e=this._ower;if("string"==typeof C$99t){if("middle"===C$99t?C$99t="50% -50% 0":"bottom"===C$99t&&(C$99t="100% -100% 0"),this._calculation("top",C$99t))return;C$99t=parseInt(C$99t)}C$99e.y=C$99t}),C$99t(0,C$99i,"align",function(){return e7zofp._aligndef[this._aligns[0]]},function(C$99t){this._aligns===e7zofp._ALIGNS&&(this._aligns=[0,0,0]),this._aligns[0]=e7zofp._aligndef[C$99t]}),C$99t(0,C$99i,"bold",function(){return this._font.bold},function(C$99t){this._createFont().bold=C$99t}),C$99t(0,C$99i,"padding",function(){return this._padding},function(C$99t){this._padding=C$99t}),C$99t(0,C$99i,"leading",function(){return this._spacing[1]},function(C$99t){"string"==typeof C$99t&&(C$99t=parseInt(C$99t+"")),this._spacing===e7zofp._SPACING&&(this._spacing=[0,0]),this._spacing[1]=C$99t}),C$99t(0,C$99i,"lineElement",function(){return 0!=(65536&this._type)},function(C$99t){C$99t?this._type|=65536:this._type&=-65537}),C$99t(0,C$99i,"cssFloat",function(){return 0!=(32768&this._type)?"right":"left"},function(C$99t){this.lineElement=!1,"right"===C$99t?this._type|=32768:this._type&=-32769}),C$99t(0,C$99i,"textDecoration",function(){return this._font.decoration},function(C$99t){this._createFont().decoration=C$99t}),C$99t(0,C$99i,"whiteSpace",function(){return 131072&this._type?"nowrap":""},function(C$99t){"nowrap"===C$99t&&(this._type|=131072),"none"===C$99t&&(this._type&=-131073)}),C$99t(0,C$99i,"background",null,function(C$99t){C$99t?(this._bgground||(this._bgground={}),this._bgground.color=C$99t,this._ower.conchModel&&this._ower.conchModel.bgColor(C$99t),this._type|=16384,this._ower._renderType|=256):this._bgground=null}),C$99t(0,C$99i,"wordWrap",function(){return 0==(131072&this._type)},function(C$99t){C$99t?this._type&=-131073:this._type|=131072}),C$99t(0,C$99i,"color",function(){return this._font.color},function(C$99t){this._createFont().color=C$99t}),C$99t(0,C$99i,"password",function(){return this._font.password},function(C$99t){this._createFont().password=C$99t}),C$99t(0,C$99i,"backgroundColor",function(){return this._bgground?this._bgground.color:null},function(C$99t){"none"===C$99t?this._bgground=null:(this._bgground||(this._bgground={}),this._bgground.color=C$99t),this._ower.conchModel&&this._ower.conchModel.bgColor(C$99t),this._ower._renderType|=256}),C$99t(0,C$99i,"font",function(){return this._font.toString()},function(C$99t){this._createFont().set(C$99t)}),C$99t(0,C$99i,"weight",null,function(C$99t){this._createFont().weight=C$99t}),C$99t(0,C$99i,"letterSpacing",function(){return this._spacing[0]},function(C$99t){"string"==typeof C$99t&&(C$99t=parseInt(C$99t+"")),this._spacing===e7zofp._SPACING&&(this._spacing=[0,0]),this._spacing[0]=C$99t}),C$99t(0,C$99i,"fontSize",function(){return this._font.size},function(C$99t){this._createFont().size=C$99t}),C$99t(0,C$99i,"italic",function(){return this._font.italic},function(C$99t){this._createFont().italic=C$99t}),C$99t(0,C$99i,"fontFamily",function(){return this._font.family},function(C$99t){this._createFont().family=C$99t}),C$99t(0,C$99i,"stroke",function(){return this._font.stroke[0]},function(C$99t){this._createFont().stroke===C$99_._STROKE&&(this._font.stroke=[0,"#000000"]),this._font.stroke[0]=C$99t}),C$99t(0,C$99i,"strokeColor",function(){return this._font.stroke[1]},function(C$99t){this._createFont().stroke===C$99_._STROKE&&(this._font.stroke=[0,"#000000"]),this._font.stroke[1]=C$99t}),C$99t(0,C$99i,"border",function(){return this._border?this._border.value:""},function(C$99t){if("none"!=C$99t){this._border||(this._border={});C$99t=(this._border.value=C$99t).split(" ");if(this._border.color=C$99q.create(C$99t[C$99t.length-1]),1==C$99t.length)return this._border.size=1,void(this._border.type="solid");var C$99e=0;0<C$99t[0].indexOf("px")?(this._border.size=parseInt(C$99t[0]),C$99e++):this._border.size=1,this._border.type=C$99t[C$99e],this._ower._renderType|=256}else this._border=null}),C$99t(0,C$99i,"borderColor",function(){return this._border&&this._border.color?this._border.color.strColor:null},function(C$99t){C$99t?(this._border||(this._border={size:1,type:"solid"}),this._border.color=null==C$99t?null:C$99q.create(C$99t),this._ower.conchModel&&this._ower.conchModel.border(this._border.color.strColor),this._ower._renderType|=256):this._border=null}),C$99t(0,C$99i,"position",function(){return 4&this._type?"absolute":""},function(C$99t){"absolute"==C$99t?this._type|=4:this._type&=-5}),C$99t(0,C$99i,"display",null,function(C$99t){switch(C$99t){case"":this._type&=-3,this.visible=!0;break;case"none":this._type|=2,this.visible=!1,this._ower._layoutLater()}}),C$99t(0,C$99i,"paddingLeft",function(){return this.padding[3]}),C$99t(0,C$99i,"paddingTop",function(){return this.padding[0]}),C$99t(0,C$99i,"_scale",null,function(C$99t){this._ower.scale(C$99t[0],C$99t[1])}),C$99t(0,C$99i,"_rotate",null,function(C$99t){this._ower.rotation=C$99t}),e7zofp.parseOneCSS=function(C$99t,C$99c){for(var C$99e,C$99i=[],C$99n=C$99t.split(C$99c),C$99r=0,C$99_=C$99n.length;C$99r<C$99_;C$99r++){var C$99s=C$99n[C$99r],C$99a=C$99s.indexOf(":"),C$99o=C$99s.substr(0,C$99a).replace(/^\s+|\s+$/g,"");if(0!=C$99o.length){var C$99h=C$99s.substr(C$99a+1).replace(/^\s+|\s+$/g,""),C$99l=[C$99o,C$99h];switch(C$99o){case"italic":case"bold":C$99l[1]="true"==C$99h;break;case"line-height":C$99l[0]="lineHeight",C$99l[1]=parseInt(C$99h);break;case"font-size":C$99l[0]="fontSize",C$99l[1]=parseInt(C$99h);break;case"padding":1<(C$99e=C$99h.split(" ")).length||(C$99e[1]=C$99e[2]=C$99e[3]=C$99e[0]),C$99l[1]=[parseInt(C$99e[0]),parseInt(C$99e[1]),parseInt(C$99e[2]),parseInt(C$99e[3])];break;case"rotate":C$99l[0]="_rotate",C$99l[1]=parseFloat(C$99h);break;case"scale":C$99e=C$99h.split(" "),C$99l[0]="_scale",C$99l[1]=[parseFloat(C$99e[0]),parseFloat(C$99e[1])];break;case"translate":C$99e=C$99h.split(" "),C$99l[0]="_translate",C$99l[1]=[parseInt(C$99e[0]),parseInt(C$99e[1])];break;default:(C$99l[0]=e7zofp._CSSTOVALUE[C$99o])||(C$99l[0]=C$99o)}C$99i.push(C$99l)}}return C$99i},e7zofp.parseCSS=function(C$99t,C$99e){for(var C$99i;null!=(C$99i=e7zofp._parseCSSRegExp.exec(C$99t));)e7zofp.styleSheets[C$99i[1]]=e7zofp.parseOneCSS(C$99i[2],";")},e7zofp.EMPTY=new e7zofp(null),e7zofp._CSSTOVALUE={"letter-spacing":"letterSpacing","line-spacing":"lineSpacing","white-space":"whiteSpace","line-height":"lineHeight","scale-x":"scaleX","scale-y":"scaleY","translate-x":"translateX","translate-y":"translateY","font-family":"fontFamily","font-weight":"fontWeight","vertical-align":"valign","text-decoration":"textDecoration","background-color":"backgroundColor","border-color":"borderColor",float:"cssFloat"},e7zofp._parseCSSRegExp=new RegExp("([.#]\\w+)\\s*{([\\s\\S]*?)}","g"),e7zofp._aligndef={left:0,center:1,right:2,0:"left",1:"center",2:"right"},e7zofp._valigndef={top:0,middle:1,bottom:2,0:"top",1:"middle",2:"bottom"},e7zofp.styleSheets={},e7zofp.ALIGN_CENTER=1,e7zofp.ALIGN_RIGHT=2,e7zofp.VALIGN_MIDDLE=1,e7zofp.VALIGN_BOTTOM=2,e7zofp._CSS_BLOCK=1,e7zofp._DISPLAY_NONE=2,e7zofp._ABSOLUTE=4,e7zofp._WIDTH_SET=8,e7zofp._PADDING=[0,0,0,0],e7zofp._RECT=[-1,-1,-1,-1],e7zofp._SPACING=[0,0],e7zofp._ALIGNS=[0,0,0],e7zofp.ADDLAYOUTED=512,e7zofp._NEWFONT=4096,e7zofp._HEIGHT_SET=8192,e7zofp._BACKGROUND_SET=16384,e7zofp._FLOAT_RIGHT=32768,e7zofp._LINE_ELEMENT=65536,e7zofp._NOWARP=131072,e7zofp._WIDTHAUTO=262144,e7zofp._LISTERRESZIE=524288,e7zofp),C$99rt=(C$99o(jnrg,"laya.media.h5audio.AudioSound",C$99l),(C$99e=jnrg.prototype).dispose=function(){var C$99t=jnrg._audioCache[this.url];C$99t&&(C$99t.src="",delete jnrg._audioCache[this.url])},C$99e.load=function(C$99t){var C$99e;var C$99i;function wy_xhm(){fdzvp$(),C$99i.loaded=!0,C$99i.event("complete")}function f7$p(){C$99e.load=null,fdzvp$(),C$99i.event("error")}function fdzvp$(){C$99e.removeEventListener("canplaythrough",wy_xhm),C$99e.removeEventListener("error",f7$p)}C$99t=C$99B.formatURL(C$99t),(this.url=C$99t)==C$99L._tMusic?(jnrg._initMusicAudio(),(C$99e=jnrg._musicAudio).src!=C$99t&&(jnrg._audioCache[C$99e.src]=null,C$99e=null)):C$99e=jnrg._audioCache[C$99t],C$99e&&2<=C$99e.readyState?this.event("complete"):(C$99e||(C$99e=C$99t==C$99L._tMusic?(jnrg._initMusicAudio(),jnrg._musicAudio):C$99S.createElement("audio"),(jnrg._audioCache[C$99t]=C$99e).src=C$99t),C$99e.addEventListener("canplaythrough",wy_xhm),C$99e.addEventListener("error",f7$p),((C$99i=this).audio=C$99e).load?C$99e.load():f7$p())},C$99e.play=function(C$99t,C$99e,C$99i){if(void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),!this.url)return null;var C$99n;if(!(C$99r=this.url==C$99L._tMusic?jnrg._musicAudio:jnrg._audioCache[this.url]))return null;C$99n=C$99Y.getItem("audio:"+this.url),C$99M.isConchApp?C$99n||((C$99n=C$99S.createElement("audio")).src=this.url):this.url==C$99L._tMusic?(jnrg._initMusicAudio(),(C$99n=jnrg._musicAudio).src=this.url):C$99n=C$99n||C$99r.cloneNode(!0);var C$99r=new C$99dt(C$99n);return C$99r.url=this.url,C$99r.loops=C$99e,C$99r.startTime=C$99t,C$99r.startHandler=C$99i,C$99r.play(!1),C$99L.addChannel(C$99r),C$99r},C$99t(0,C$99e,"duration",function(){var C$99t;return(C$99t=jnrg._audioCache[this.url])?C$99t.duration:0}),jnrg._initMusicAudio=function(){jnrg._musicAudio||(jnrg._musicAudio=C$99S.createElement("audio"),C$99M.isConchApp||C$99S.document.addEventListener("mousedown",jnrg._makeMusicOK))},jnrg._makeMusicOK=function(){C$99S.document.removeEventListener("mousedown",jnrg._makeMusicOK),jnrg._musicAudio.src?jnrg._musicAudio.play():(jnrg._musicAudio.src="",jnrg._musicAudio.load())},jnrg._audioCache={},jnrg._musicAudio=null,jnrg),C$99e=(C$99o(zfv$,"laya.media.SoundChannel",C$99l),(C$99i=zfv$.prototype).play=function(){},C$99i.stop=function(){},C$99i.pause=function(){},C$99i.resume=function(){},C$99i.__runComplete=function(C$99t){C$99t&&C$99t.run()},C$99t(0,C$99i,"volume",function(){return 1},function(C$99t){}),C$99t(0,C$99i,"position",function(){return 0}),C$99t(0,C$99i,"duration",function(){return 0}),zfv$),C$99st=(C$99o(_5mw6,"laya.media.Sound",C$99l),(C$99i=_5mw6.prototype).load=function(C$99t){},C$99i.play=function(C$99t,C$99e,C$99i){return void 0===C$99t&&(C$99t=0),null},C$99i.dispose=function(){},C$99t(0,C$99i,"duration",function(){return 0}),_5mw6),C$99at=(C$99o(rsbajk,"laya.media.webaudio.WebAudioSound",C$99l),(C$99i=rsbajk.prototype).load=function(C$99t){this.url=C$99t,this.audioBuffer=rsbajk._dataCache[C$99t],this.audioBuffer?this._loaded(this.audioBuffer):(rsbajk.e.on("loaded:"+C$99t,this,this._loaded),rsbajk.e.on("err:"+C$99t,this,this._err),rsbajk.__loadingSound[C$99t]||(rsbajk.__loadingSound[C$99t]=!0,C$99b.loader.load(C$99t,C$99g.create(this,this.onloaded),null,C$99ht.BUFFER,4,!1,null,!0)))},C$99i.onloaded=function(C$99t){C$99t||this._err(),this._disposed?this._removeLoadEvents():(this.data=C$99t,rsbajk.buffs.push({buffer:this.data,url:this.url}),rsbajk.decode())},C$99i._err=function(){if(this._removeLoadEvents(),rsbajk.__loadingSound[this.url]=!1,this.event("error"),this.__toPlays){var C$99t,C$99e,C$99i,C$99n=0;for(C$99t=(C$99e=this.__toPlays).length,C$99n=0;C$99n<C$99t;C$99n++)(C$99i=C$99e[C$99n])[3]&&!C$99i[3].isStopped&&C$99i[3].event("error");this.__toPlays.length=0}},C$99i._loaded=function(C$99t){this._removeLoadEvents(),this._disposed||(this.audioBuffer=C$99t,this.loaded=!0,this.event("complete"))},C$99i._removeLoadEvents=function(){rsbajk.e.off("loaded:"+this.url,this,this._loaded),rsbajk.e.off("err:"+this.url,this,this._err)},C$99i.__playAfterLoaded=function(){if(this.__toPlays){var C$99t,C$99e,C$99i,C$99n=0;for(C$99t=(C$99e=this.__toPlays).length,C$99n=0;C$99n<C$99t;C$99n++)(C$99i=C$99e[C$99n])[3]&&!C$99i[3].isStopped&&this.play(C$99i[0],C$99i[1],C$99i[2],C$99i[3]);this.__toPlays.length=0}},C$99i.play=function(C$99t,C$99e,C$99i,C$99n){return void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),C$99n=C$99n||new C$99ft,this.audioBuffer||this.url&&(this.__toPlays||(this.__toPlays=[]),this.__toPlays.push([C$99t,C$99e,C$99i,C$99n]),this.once("complete",this,this.__playAfterLoaded),this.load(this.url)),C$99n.url=this.url,C$99n.loops=C$99e,C$99n.audioBuffer=this.audioBuffer,C$99n.startTime=C$99t,C$99n.startHandler=C$99i,C$99n.play(!1),C$99L.addChannel(C$99n),C$99n},C$99i.dispose=function(){this._disposed=!0,delete rsbajk._dataCache[this.url],delete rsbajk.__loadingSound[this.url],this.audioBuffer=null,this.data=null,this.__toPlays=[]},C$99t(0,C$99i,"duration",function(){return this.audioBuffer?this.audioBuffer.duration:0}),rsbajk.decode=function(){if(!(rsbajk.buffs.length<=0||rsbajk.isDecoding))if(rsbajk.isDecoding=!0,(rsbajk.tInfo=rsbajk.buffs.shift())&&rsbajk.tInfo.buffer&&rsbajk.tInfo.buffer.byteLength)try{rsbajk.ctx.decodeAudioData(rsbajk.tInfo.buffer,rsbajk._done,rsbajk._fail)}catch(C$99t){console.error("decodeAudioData error  byteLength:"+rsbajk.tInfo.buffer.byteLength+"  url:"+rsbajk.tInfo.url)}else rsbajk._fail()},rsbajk._done=function(C$99t){rsbajk.e.event("loaded:"+rsbajk.tInfo.url,C$99t),rsbajk._dataCache[rsbajk.tInfo.url]=C$99t,rsbajk.isDecoding=!1,rsbajk.decode()},rsbajk._fail=function(){rsbajk.e.event("err:"+rsbajk.tInfo.url,null),rsbajk.isDecoding=!1,rsbajk.decode()},rsbajk._playEmptySound=function(){if(null!=rsbajk.ctx){if(rsbajk._emptySource&&(rsbajk._emptySource.stop(),rsbajk._emptySource.disconnect(0),!C$99ft._tryCleanFailed))try{rsbajk._emptySource.buffer=null}catch(C$99t){C$99ft._tryCleanFailed=!0}var C$99t=rsbajk.ctx.createBufferSource();C$99t.buffer=rsbajk._miniBuffer,C$99t.connect(rsbajk.ctx.destination),C$99t.start(0,0,0),rsbajk._emptySource=C$99t}},rsbajk._unlock=function(){rsbajk._unlocked||(rsbajk._playEmptySound(),"running"==rsbajk.ctx.state?(C$99S.document.removeEventListener("mousedown",rsbajk._unlock,!0),C$99S.document.removeEventListener("touchend",rsbajk._unlock,!0),C$99S.document.removeEventListener("touchstart",rsbajk._unlock,!0),rsbajk._unlocked=!0):"suspended"==rsbajk.ctx.state&&C$99L._recoverWebAudio())},rsbajk.initWebAudio=function(){"running"!=rsbajk.ctx.state&&(rsbajk._unlock(),C$99S.document.addEventListener("mousedown",rsbajk._unlock,!0),C$99S.document.addEventListener("touchend",rsbajk._unlock,!0),C$99S.document.addEventListener("touchstart",rsbajk._unlock,!0))},rsbajk._emptySource=null,rsbajk._dataCache={},rsbajk.buffs=[],rsbajk.isDecoding=!1,rsbajk._unlocked=!1,rsbajk.tInfo=null,rsbajk.__loadingSound={},C$99a(rsbajk,["window",function(){return this.window=C$99S.window},"webAudioEnabled",function(){return this.webAudioEnabled=rsbajk.window.AudioContext||rsbajk.window.webkitAudioContext||rsbajk.window.mozAudioContext},"ctx",function(){return this.ctx=rsbajk.webAudioEnabled?new(rsbajk.window.AudioContext||rsbajk.window.webkitAudioContext||rsbajk.window.mozAudioContext):void 0},"_miniBuffer",function(){return this._miniBuffer=rsbajk.ctx.createBuffer(1,1,22050)},"e",function(){return this.e=new C$99l}]),rsbajk),C$99ot=(C$99o(r3njg8,"laya.net.HttpRequest",C$99l),(C$99i=r3njg8.prototype).send=function(C$99t,C$99e,C$99i,C$99n,C$99r){void 0===C$99i&&(C$99i="get"),this._responseType=C$99n=void 0===C$99n?"text":C$99n,this._data=null;var C$99s=this,C$99a=this._http;if(C$99a.open(C$99i,C$99t,!0),C$99r)for(var C$99o=0;C$99o<C$99r.length;C$99o++)C$99a.setRequestHeader(C$99r[C$99o++],C$99r[C$99o]);else C$99M.isConchApp||(C$99e&&"string"!=typeof C$99e?C$99a.setRequestHeader("Content-Type","application/json"):C$99a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"));C$99a.responseType="arraybuffer"!==C$99n?"text":"arraybuffer",C$99a.onerror=function(C$99t){C$99s._onError(C$99t)},C$99a.onabort=function(C$99t){C$99s._onAbort(C$99t)},C$99a.onprogress=function(C$99t){C$99s._onProgress(C$99t)},C$99a.onload=function(C$99t){C$99s._onLoad(C$99t)},C$99a.send(C$99e)},C$99i._onProgress=function(C$99t){C$99t&&C$99t.lengthComputable&&this.event("progress",C$99t.loaded/C$99t.total)},C$99i._onAbort=function(C$99t){this.error("Request was aborted by user")},C$99i._onError=function(C$99t){this.error("Request failed Status:"+this._http.status+" text:"+this._http.statusText)},C$99i._onLoad=function(C$99t){var C$99e=this._http,C$99i=void 0!==C$99e.status?C$99e.status:200;200===C$99i||204===C$99i||0===C$99i?this.complete():this.error("["+C$99e.status+"]"+C$99e.statusText+":"+C$99e.responseURL)},C$99i.error=function(C$99t){this.clear(),this.event("error",C$99t)},C$99i.complete=function(){this.clear();var C$99e=!0;try{"json"===this._responseType?this._data=JSON.parse(this._http.responseText):"xml"===this._responseType?this._data=C$99Q.parseXMLFromString(this._http.responseText):this._data=this._http.response||this._http.responseText}catch(C$99t){C$99e=!1,this.error(C$99t.message)}C$99e&&this.event("complete",this._data instanceof Array?[this._data]:this._data)},C$99i.clear=function(){var C$99t=this._http;C$99t.onerror=C$99t.onabort=C$99t.onprogress=C$99t.onload=null},C$99t(0,C$99i,"url",function(){return this._http.responseURL}),C$99t(0,C$99i,"http",function(){return this._http}),C$99t(0,C$99i,"data",function(){return this._data}),r3njg8),C$99ht=(C$99o(zf$p,"laya.net.Loader",C$99l),(C$99i=zf$p.prototype).load=function(C$99t,C$99e,C$99i,C$99n,C$99r){return C$99t&&""!=C$99t||console.error("Loader \u52a0\u8f7d\u7684url\u4e0d\u5408\u6cd5 "+C$99t),void 0===C$99i&&(C$99i=!0),void 0===C$99r&&(C$99r=!1),0===(this._url=C$99t).indexOf("data:image")?this._type=C$99e="image":this._type=C$99e=C$99e||this.getTypeFromUrl(C$99t),this._cache=C$99i,this._data=null,!C$99r&&zf$p.loadedMap[C$99t]?(this._data=zf$p.loadedMap[C$99t],this.event("progress",1),void this.event("complete",this._data)):(C$99n&&zf$p.setGroup(C$99t,C$99n),null!=zf$p.parserMap[C$99e]?(this._customParse=!0,void(zf$p.parserMap[C$99e]instanceof laya.utils.Handler?zf$p.parserMap[C$99e].runWith(this):zf$p.parserMap[C$99e].call(null,this))):"image"===C$99e||"htmlimage"===C$99e||"nativeimage"===C$99e?this._loadImage(C$99t):"ttf"===C$99e?this._loadTTF(C$99t):void(zf$p.preLoadedMap[C$99t]?this.onLoaded(zf$p.preLoadedMap[C$99t]):C$99s.resMgrLoad(C$99t,this._onLoadedCallback,0<=this.priority?this.priority:2,this.realTime)))},C$99i.getTypeFromUrl=function(C$99t){var C$99e=C$99Q.getFileExtension(C$99t);return C$99e?zf$p.typeMap[C$99e]:(console.warn("Not recognize the resources suffix",C$99t),"text")},C$99i._loadTTF=function(C$99t){C$99t=C$99B.formatURL(C$99t);var C$99e=new C$99k;C$99e.complete=C$99g.create(this,this.onLoaded),C$99e.load(C$99t)},C$99i._loadImage=function(C$99t){C$99s.imgMgrLoad(C$99t,this._onImageCallback,0<=this.priority?this.priority:2,this.realTime)},C$99i._loadImageComplete=function(C$99t,C$99e,C$99i){var C$99n;null!=C$99i?C$99i instanceof ArrayBuffer?(C$99n=new DataView(C$99i),C$99n=new laya.webgl.resource.WebGLImage(new Uint8Array(C$99i,8),C$99t,0,!1,C$99n.getUint32(0),C$99n.getUint32(4)),this.onLoaded(C$99n)):C$99i instanceof C$99ct?(zf$p.imgMgrSet[C$99t]=C$99e,C$99s.imgMgrLock(C$99t,zf$p.imgMgrSet[C$99t]),this._url=C$99t,this.complete(C$99i)):(C$99e=-1!=C$99t.indexOf(".png",C$99t.length-4)?6408:6407,C$99n=new laya.webgl.resource.WebGLImage(C$99i,C$99t,C$99e,!1,C$99i.width,C$99i.height),this.onLoaded(C$99n)):this.event("error","Load image failed")},C$99i.imageCancel=function(C$99t,C$99e,C$99i){C$99s.imgMgrCancel&&C$99s.imgMgrCancel(C$99t,this._onImageCallback)},C$99i._loadSound=function(C$99t){var C$99e=new C$99L._soundClass,C$99i=this;function $t9icv(){C$99e.offAll()}C$99e.on("complete",this,function(){$t9icv(),C$99i.onLoaded(C$99e)}),C$99e.on("error",this,function(){$t9icv(),C$99e.dispose(),C$99i.event("error","Load sound failed")}),C$99e.load(C$99t)},C$99i.onProgress=function(C$99t){"atlas"===this._type?this.event("progress",.3*C$99t):this.event("progress",C$99t)},C$99i.onError=function(C$99t){this.event("error",C$99t)},C$99i._loadedComplete=function(C$99t,C$99e,C$99i){if(null!=C$99i)switch(this._type){case"atlas":case"plf":case"json":var C$99n=new C$99$(C$99i);this.onLoaded(JSON.parse(C$99n.readUTFBytes()));break;case"font":C$99n=new C$99$(C$99i),this.onLoaded(C$99Q.parseXMLFromString(C$99n.readUTFBytes()));break;default:this.onLoaded(C$99i)}else this.event("error",C$99t)},C$99i.onLoaded=function(C$99t){var C$99e=this._type;if("plf"==C$99e)this.parsePLFData(C$99t),this.complete(C$99t);else if("image"===C$99e){var C$99i=new C$99ct(C$99t);C$99i.url=this._url,this.complete(C$99i)}else if("sound"===C$99e||"htmlimage"===C$99e||"nativeimage"===C$99e)this.complete(C$99t);else if("atlas"===C$99e){if(!C$99t.src&&!C$99t._setContext){if(!this._data){if((this._data=C$99t).meta&&C$99t.meta.image)for(var C$99n=C$99t.meta.image.split(","),C$99i=0<=this._url.indexOf("/")?"/":"\\",C$99i=this._url.lastIndexOf(C$99i),C$99c=0<=C$99i?this._url.substr(0,C$99i+1):"",C$99r=0,C$99_=C$99n.length;C$99r<C$99_;C$99r++)C$99n[C$99r]=C$99c+C$99n[C$99r];else C$99n=[this._url.replace(".json",".png")];C$99n.reverse(),C$99t.toLoads=C$99n,C$99t.pics=[]}return this.event("progress",.3+1/C$99n.length*.6),this._loadImage(C$99n.pop())}if(!this._data.pics)throw new Error("this._data.pics == null, "+this._url);if(this._data.pics.push(C$99t),0<this._data.toLoads.length)return this.event("progress",.3+1/this._data.toLoads.length*.6),this._loadImage(this._data.toLoads.pop());var C$99u=this._data.frames,C$99i=this._url.split("?")[0],C$99s=this._data.meta&&this._data.meta.prefix?this._data.meta.prefix:C$99i.substring(0,C$99i.lastIndexOf("."))+"/",C$99d=this._data.pics,C$99i=C$99B.formatURL(this._url),C$99f=zf$p.atlasMap[C$99i]||(zf$p.atlasMap[C$99i]=[]);C$99f.dir=C$99s;var C$99p;if(this._data.meta&&this._data.meta.scale&&1!=this._data.meta.scale)for(var C$99a in C$99p=parseFloat(this._data.meta.scale),C$99u){var C$99m,C$99o=C$99u[C$99a],C$99g=C$99d[C$99o.frame.idx||0],C$99h=C$99B.formatURL(C$99s+C$99a);C$99g.scaleRate=C$99p,C$99m=C$99ct.create(C$99g,C$99o.frame.x,C$99o.frame.y,C$99o.frame.w,C$99o.frame.h,C$99o.spriteSourceSize.x,C$99o.spriteSourceSize.y,C$99o.sourceSize.w,C$99o.sourceSize.h),zf$p.cacheRes(C$99h,C$99m),zf$p.keepCache(this._url,C$99s+C$99a),C$99m.url=C$99h,C$99f.push(C$99h)}else for(C$99a in C$99u)C$99g=C$99d[(C$99o=C$99u[C$99a]).frame.idx?C$99o.frame.idx:0],C$99h=C$99B.formatURL(C$99s+C$99a),zf$p.cacheRes(C$99h,C$99ct.create(C$99g,C$99o.frame.x,C$99o.frame.y,C$99o.frame.w,C$99o.frame.h,C$99o.spriteSourceSize.x,C$99o.spriteSourceSize.y,C$99o.sourceSize.w,C$99o.sourceSize.h)),zf$p.loadedMap[C$99h].url=C$99h,zf$p.keepCache(this._url,C$99s+C$99a),C$99f.push(C$99h);delete this._data.pics,this.complete(this._data)}else if("font"==C$99e){if(!C$99t.src)return this._data=C$99t,this.event("progress",.5),this._loadImage(this._url.replace(".fnt",".png"));C$99i=new C$99v;C$99i.parseFont(this._data,C$99t);var C$99l=this._url.split(".fnt")[0].split("/"),C$99l=C$99l[C$99l.length-1];C$99pt.registerBitmapFont(C$99l,C$99i),this._data=C$99i,this.complete(this._data)}else"pkm"==C$99e?(C$99l=C$99yt.create(C$99t,this._url),(C$99i=new C$99ct(C$99l)).url=this._url,this.complete(C$99i)):this.complete(C$99t)},C$99i.parsePLFData=function(C$99t){var C$99e,C$99i,C$99n;for(C$99e in C$99t)for(C$99i in C$99e,C$99n=C$99t[C$99e])zf$p.preLoadedMap[C$99B.formatURL(C$99i)]=C$99n[C$99i]},C$99i.complete=function(C$99t){this._data=C$99t,this._customParse?this.event("loaded",C$99t instanceof Array?[C$99t]:C$99t):(zf$p._loaders.push(this),zf$p._isWorking||zf$p.checkNext())},C$99i.endLoad=function(C$99t){C$99t&&(this._data=C$99t),this._cache&&zf$p.cacheRes(this._url,this._data),this.event("progress",1),this.event("complete",this.data instanceof Array?[this.data]:this.data)},C$99t(0,C$99i,"url",function(){return this._url}),C$99t(0,C$99i,"data",function(){return this._data}),C$99t(0,C$99i,"cache",function(){return this._cache}),C$99t(0,C$99i,"type",function(){return this._type}),zf$p.checkNext=function(){zf$p._isWorking=!0;for(var C$99t=C$99S.now();zf$p._startIndex<zf$p._loaders.length;)if(C$99S.now(),zf$p._loaders[zf$p._startIndex].endLoad(),zf$p._startIndex++,C$99S.now()-C$99t>zf$p.maxTimeOut)return console.warn("loader callback cost a long time:"+(C$99S.now()-C$99t)+" url="+zf$p._loaders[zf$p._startIndex-1].url),void C$99b.timer.frameOnce(1,null,zf$p.checkNext);zf$p._loaders.length=0,zf$p._startIndex=0,zf$p._isWorking=!1},zf$p.clearRes=function(C$99t,C$99e){if(null!=C$99t){void 0===C$99e&&(C$99e=!1),C$99t=C$99B.formatURL(C$99t);var C$99i=zf$p.getAtlas(C$99t);if(C$99i){for(var C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99n++){var C$99s=C$99i[C$99n],C$99a=zf$p.getRes(C$99s);delete zf$p.loadedMap[C$99s],zf$p.clearCache(C$99t.substring(C$99B.basePath.length),C$99s.substring(C$99B.basePath.length)),C$99a&&C$99a.destroy(C$99e)}C$99i.length=0,delete zf$p.atlasMap[C$99t],delete zf$p.loadedMap[C$99t]}else{var C$99o=zf$p.loadedMap[C$99t];C$99o&&(delete zf$p.loadedMap[C$99t],C$99o instanceof laya.resource.Texture&&C$99o.bitmap&&C$99o.destroy(C$99e))}}},zf$p.clearTextureRes=function(C$99t){C$99t=C$99B.formatURL(C$99t);var C$99e=laya.net.Loader.getAtlas(C$99t),C$99e=C$99e&&0<C$99e.length?laya.net.Loader.getRes(C$99e[0]):laya.net.Loader.getRes(C$99t);C$99e&&C$99e.bitmap&&(C$99M.isConchApp&&!C$99M.isConchWebGL?C$99e.bitmap.source.releaseTexture&&C$99e.bitmap.source.releaseTexture():null==C$99e.bitmap._atlaser&&C$99e.bitmap.releaseResource(!0))},zf$p.getRes=function(C$99t){return zf$p.loadedMap[C$99B.formatURL(C$99t)]},zf$p.getAtlas=function(C$99t){return zf$p.atlasMap[C$99B.formatURL(C$99t)]},zf$p.cacheRes=function(C$99t,C$99e){C$99t=C$99B.formatURL(C$99t),null!=zf$p.loadedMap[C$99t]?console.warn("Resources already exist,is repeated loading:",C$99t):zf$p.loadedMap[C$99t]=C$99e},zf$p.setGroup=function(C$99t,C$99e){zf$p.groupMap[C$99e]||(zf$p.groupMap[C$99e]=[]),zf$p.groupMap[C$99e].push(C$99t)},zf$p.clearResByGroup=function(C$99t){if(zf$p.groupMap[C$99t]){var C$99e=zf$p.groupMap[C$99t],C$99i=0,C$99n=C$99e.length;for(C$99i=0;C$99i<C$99n;C$99i++)zf$p.clearRes(C$99e[C$99i]);C$99e.length=0}},zf$p.keepCache=function(C$99t,C$99e){var C$99i;C$99t&&C$99e&&((C$99i=zf$p.cacheSet[C$99e])?-1==C$99i.indexOf(C$99t)&&C$99i.push(C$99t):zf$p.cacheSet[C$99e]=[C$99t])},zf$p.clearCache=function(C$99t,C$99e){var C$99i,C$99n;C$99t&&C$99e&&(!(C$99i=zf$p.cacheSet[C$99e])||-1!==(C$99t=C$99i.indexOf(C$99t))&&(0==(C$99n=C$99i.length-1)?(delete zf$p.cacheSet[C$99e],0<zf$p.imgMgrSet[C$99e]?C$99s.imgMgrFree(C$99e,zf$p.imgMgrSet[C$99e]):zf$p.clearRes(C$99e,!0)):(C$99i[C$99t]=C$99i[C$99n],C$99i.length=C$99n)))},zf$p.saveObject=function(C$99t,C$99e,C$99i){var C$99n;C$99e&&C$99t&&((C$99n=zf$p.objectSet[C$99t])?(console.warn("Loader.saveObject: "+C$99t),C$99n[0]=C$99e,C$99n[1]=C$99i):zf$p.objectSet[C$99t]=[C$99e,C$99i,[]])},zf$p.findObject=function(C$99t){if(C$99t){C$99t=zf$p.objectSet[C$99t];if(C$99t)return C$99t[0]}return null},zf$p.keepObject=function(C$99t,C$99e){C$99t&&C$99e&&((C$99e=zf$p.objectSet[C$99e])&&-1===C$99e[2].indexOf(C$99t)&&C$99e[2].push(C$99t))},zf$p.clearObject=function(C$99t,C$99e){var C$99i,C$99n,C$99r;C$99t&&C$99e&&(!(C$99i=zf$p.objectSet[C$99e])||-1!==(C$99t=(C$99n=C$99i[2]).indexOf(C$99t))&&(0==(C$99r=C$99n.length-1)?(delete zf$p.objectSet[C$99e],C$99i[1]&&C$99i[1].call(null,C$99i[0])):(C$99n[C$99t]=C$99n[C$99r],C$99n.length=C$99r)))},zf$p.TEXT="text",zf$p.JSON="json",zf$p.XML="xml",zf$p.BUFFER="arraybuffer",zf$p.IMAGE="image",zf$p.SOUND="sound",zf$p.ATLAS="atlas",zf$p.FONT="font",zf$p.TTF="ttf",zf$p.PLF="plf",zf$p.PKM="pkm",zf$p.typeMap={png:"image",jpg:"image",jpeg:"image",txt:"text",json:"json",xml:"xml",als:"atlas",atlas:"atlas",mp3:"sound",ogg:"sound",wav:"sound",part:"json",fnt:"font",pkm:"pkm",ttf:"ttf",plf:"plf"},zf$p.parserMap={},zf$p.groupMap={},zf$p.maxTimeOut=100,zf$p.loadedMap={},zf$p.preLoadedMap={},zf$p.atlasMap={},zf$p._loaders=[],zf$p._isWorking=!1,zf$p._startIndex=0,zf$p.imgCache={},zf$p.cacheSet={},zf$p.objectSet={},zf$p.imgMgrSet={},zf$p),C$99lt=(C$99o(dp$v,"laya.net.LoaderManager",C$99l),(C$99i=dp$v.prototype).create=function(C$99t,C$99i,C$99e,C$99n,C$99c,C$99r,C$99s,C$99_){if(null==C$99r&&(C$99r=2),null==C$99s&&(C$99s=!0),C$99t instanceof Array){var C$99a=C$99t,C$99o=C$99a.length,C$99u=0;var C$99d;C$99e&&(C$99d=C$99g.create(C$99e.caller,C$99e.method,C$99e.args,!1));for(var C$99h=0;C$99h<C$99o;C$99h++){var C$99l=C$99a[C$99h];(C$99l="string"==typeof C$99l?C$99a[C$99h]={url:C$99l}:C$99l).progress=0}for(C$99h=0;C$99h<C$99o;C$99h++){C$99l=C$99a[C$99h];var C$99f=C$99e?C$99g.create(null,e0xyo,[C$99l],!1):null,C$99p=C$99e||C$99i?C$99g.create(null,dzpf7,[C$99l]):null;this._create(C$99l.url,C$99p,C$99f,C$99l.clas||C$99n,C$99l.params||C$99c,null!=C$99l.priority&&0<=C$99l.priority?C$99l.priority:C$99r,C$99s,C$99l.group||C$99_)}function dzpf7(C$99t,C$99e){C$99u++,C$99t.progress=1,C$99u===C$99o&&C$99i&&C$99i.run()}function e0xyo(C$99t,C$99e){C$99t.progress=C$99e;for(var C$99i=0,C$99n=0;C$99n<C$99o;C$99n++)C$99i+=C$99a[C$99n].progress;C$99d.runWith(C$99i/C$99o)}return!0}return this._create(C$99t,C$99i,C$99e,C$99n,C$99c,C$99r,C$99s,C$99_)},C$99i._create=function(C$99e,C$99i,C$99t,C$99n,C$99c,C$99r,C$99s,C$99a){C$99e&&""!=C$99e||console.error("\u52a0\u8f7d\u7684url\u4e0d\u5408\u6cd5 "+C$99e),null==C$99r&&(C$99r=2),null==C$99s&&(C$99s=!0);var C$99_=C$99B.formatURL(C$99e),C$99o=this.getRes(C$99_);if(C$99o)!C$99o.hasOwnProperty("loaded")||C$99o.loaded?(C$99t&&C$99t.runWith(1),C$99i&&C$99i.run()):C$99i&&C$99b.loader._createListener(C$99e,C$99i.caller,C$99i.method,C$99i.args,!0,!1);else{var C$99h=C$99Q.getFileExtension(C$99e),C$99l=dp$v.createMap[C$99h];if(!C$99l)throw new Error("LoaderManager:unknown file("+C$99e+") extension with: "+C$99h+".");C$99n=C$99n||C$99l[0];C$99l=C$99l[1];"atlas"==C$99h?this.load(C$99e,C$99i,C$99t,C$99l,C$99r,C$99s):(C$99n===C$99ct&&(C$99l="htmlimage"),(C$99o=C$99n?new C$99n:null).hasOwnProperty("_loaded")&&(C$99o._loaded=!1),C$99o._setUrl(C$99e),C$99a&&C$99o._setGroup(C$99a),this._createLoad(C$99o,C$99e,C$99g.create(null,function(C$99t){C$99o&&!C$99o.destroyed&&C$99t&&C$99o.onAsynLoaded.call(C$99o,C$99e,C$99t,C$99c),C$99i&&C$99i.run(),C$99b.loader.event(C$99e)}),C$99t,C$99l,C$99r,!1,C$99a,!0),C$99s&&this.cacheRes(C$99_,C$99o))}return C$99o},C$99i.load=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){C$99t&&""!=C$99t||console.error("\u52a0\u8f7d\u7684url\u4e0d\u5408\u6cd5 "+C$99t);var C$99h=this;if(null==C$99r&&(C$99r=2),null==C$99s&&(C$99s=!0),void 0===C$99o&&(C$99o=!1),C$99t instanceof Array)return this._loadAssets(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a);var C$99c=C$99ht.getRes(C$99t);var C$99l;return null!=C$99c?C$99b.timer.frameOnce(1,null,function(){C$99i&&C$99i.runWith(1),C$99e&&C$99e.runWith(C$99c),C$99h._loaderCount||C$99h.event("complete")}):(C$99l=dp$v._resMap[C$99t])?(C$99e&&C$99l._createListener("complete",C$99e.caller,C$99e.method,C$99e.args,!1,!1),C$99i&&C$99l._createListener("progress",C$99i.caller,C$99i.method,C$99i.args,!1,!1)):((C$99l=this._infoPool.length?this._infoPool.pop():new C$99Lt).url=C$99t,C$99l.clas=null,C$99l.type=C$99n,C$99l.cache=C$99s,C$99l.group=C$99a,C$99l.ignoreCache=C$99o,C$99l.priority=C$99r,C$99e&&C$99l.on("complete",C$99e.caller,C$99e.method,C$99e.args),C$99i&&C$99l.on("progress",C$99i.caller,C$99i.method,C$99i.args),dp$v._resMap[C$99t]=C$99l,C$99r=C$99r<this._maxPriority?0<=C$99r?C$99r:0:this._maxPriority-1,this._resInfos[C$99r].push(C$99l),this._next()),this},C$99i.cancel=function(C$99t,C$99e,C$99i){if(C$99a=dp$v._resMap[C$99t]){C$99e&&C$99a.off("complete",C$99e.caller,C$99e.method,!1),C$99i&&C$99a.off("progress",C$99i.caller,C$99i.method,!1);C$99e=C$99a.getListener("complete"),C$99i=C$99a.getListener("progress");if(!(C$99e&&C$99e.head||C$99i&&C$99i.head)){C$99a.loader&&((C$99e=C$99a.loader).imageCancel(C$99t),C$99e.offAll(),C$99e._data=null,C$99e._customParse=!1,C$99e._url=null,C$99e._class=null,C$99e._type=null,this._loaders.push(C$99e),this._loaderCount--,delete this._loaderMap[C$99a.url]);for(var C$99n=0;C$99n<this._maxPriority;C$99n++)for(var C$99r=this._resInfos[C$99n],C$99s=C$99r.length-1;-1<C$99s;C$99s--){var C$99a;(C$99a=C$99r[C$99s])&&C$99a.url===C$99t&&(C$99r[C$99s]=null,C$99a.destroy(),C$99a.offAll(),this._infoPool.push(C$99a))}delete dp$v._resMap[C$99t],this._next()}}},C$99i._createLoad=function(C$99c,C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){var C$99h=this;if(null==C$99r&&(C$99r=2),null==C$99s&&(C$99s=!0),void 0===C$99o&&(C$99o=!1),C$99t instanceof Array)return this._loadAssets(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a);var C$99_=C$99ht.getRes(C$99t);var C$99l;return null!=C$99_?C$99b.timer.frameOnce(1,null,function(){C$99i&&C$99i.runWith(1),C$99e&&C$99e.runWith(C$99_),C$99h._loaderCount||C$99h.event("complete")}):(C$99l=dp$v._resMap[C$99t])?(C$99e&&C$99l._createListener("complete",C$99e.caller,C$99e.method,C$99e.args,!1,!1),C$99i&&C$99l._createListener("progress",C$99i.caller,C$99i.method,C$99i.args,!1,!1)):((C$99l=this._infoPool.length?this._infoPool.pop():new C$99Lt).url=C$99t,C$99l.clas=C$99c,C$99l.type=C$99n,C$99l.cache=C$99s,C$99l.group=C$99a,C$99l.ignoreCache=C$99o,C$99l.priority=C$99r,C$99e&&C$99l.on("complete",C$99e.caller,C$99e.method,C$99e.args),C$99i&&C$99l.on("progress",C$99i.caller,C$99i.method,C$99i.args),dp$v._resMap[C$99t]=C$99l,C$99r=C$99r<this._maxPriority?0<=C$99r?C$99r:0:this._maxPriority-1,this._resInfos[C$99r].push(C$99l),this._next()),this},C$99i._next=function(){if(!(this._loaderCount>=this.maxLoader)){for(var C$99t=0;C$99t<this._maxPriority;C$99t++)for(var C$99e=this._resInfos[C$99t];0<C$99e.length;){var C$99i=C$99e.shift();if(C$99i)return this._doLoad(C$99i)}this._loaderCount||this.event("complete")}},C$99i._doLoad=function(C$99e){var C$99i=this._loaders.length?this._loaders.pop():new C$99ht;this._loaderCount++,(this._loaderMap[C$99e.url]=C$99i).on("complete",null,bksarj),C$99i.on("progress",null,function(C$99t){C$99e.event("progress",C$99t)}),C$99i.on("error",null,function(C$99t){bksarj(null)}),C$99e.loader=C$99i;var C$99n=this;function bksarj(C$99t){C$99i.offAll(),C$99i._data=null,C$99i._customParse=!1,C$99i._url=null,C$99i._class=null,C$99i._type=null,C$99n._loaders.push(C$99i),C$99n._loaderCount--,delete C$99n._loaderMap[C$99e.url],C$99n._endLoad(C$99e,C$99t instanceof Array?[C$99t]:C$99t),C$99n._next()}C$99i._class=C$99e.clas,1<=C$99e.priority?(C$99i.priority=C$99e.priority,C$99i.realTime=!1):(C$99i.priority=0,C$99i.realTime=!0),C$99i.load(C$99e.url,C$99e.type,C$99e.cache,C$99e.group,C$99e.ignoreCache)},C$99i._endLoad=function(C$99t,C$99e){var C$99i=C$99t.url;if(null==C$99e){var C$99n=this._failRes[C$99i]||0;if(C$99n<this.retryNum)return console.warn("[warn]Retry to load:",C$99i),this._failRes[C$99i]=C$99n+1,void C$99b.timer.once(this.retryDelay,this,this._addReTry,[C$99t],!1);console.warn("[error]Failed to load:",C$99i),this.event("error",C$99i)}this._failRes[C$99i]&&(this._failRes[C$99i]=0),delete dp$v._resMap[C$99i],C$99t.event("complete",C$99e),C$99t.destroy(),C$99t.offAll(),this._infoPool.push(C$99t)},C$99i._addReTry=function(C$99t){this._resInfos[this._maxPriority-1].push(C$99t),this._next()},C$99i.clearRes=function(C$99t,C$99e){C$99ht.clearRes(C$99t,C$99e=void 0===C$99e?!1:C$99e)},C$99i.getRes=function(C$99t){return C$99ht.getRes(C$99t)},C$99i.cacheRes=function(C$99t,C$99e){C$99ht.cacheRes(C$99t,C$99e)},C$99i.clearTextureRes=function(C$99t){C$99ht.clearTextureRes(C$99t)},C$99i.setGroup=function(C$99t,C$99e){C$99ht.setGroup(C$99t,C$99e)},C$99i.clearResByGroup=function(C$99t){C$99ht.clearResByGroup(C$99t)},C$99i.clearUnLoaded=function(){for(var C$99t=0;C$99t<this._maxPriority;C$99t++){for(var C$99e=this._resInfos[C$99t],C$99i=C$99e.length-1;-1<C$99i;C$99i--){var C$99n=C$99e[C$99i];C$99n&&(C$99n.destroy(),C$99n.offAll(),this._infoPool.push(C$99n))}C$99e.length=0}this._loaderCount=0,dp$v._resMap={}},C$99i.cancelLoadByUrls=function(C$99t){if(C$99t)for(var C$99e=0,C$99i=C$99t.length;C$99e<C$99i;C$99e++)this.cancelLoadByUrl(C$99t[C$99e])},C$99i.cancelLoadByUrl=function(C$99t){for(var C$99e=0;C$99e<this._maxPriority;C$99e++)for(var C$99i=this._resInfos[C$99e],C$99n=C$99i.length-1;-1<C$99n;C$99n--){var C$99r=C$99i[C$99n];C$99r&&C$99r.url===C$99t&&(C$99i[C$99n]=null,C$99r.destroy(),C$99r.offAll(),this._infoPool.push(C$99r))}dp$v._resMap[C$99t]&&delete dp$v._resMap[C$99t]},C$99i._loadAssets=function(C$99t,C$99i,C$99s,C$99c,C$99e,C$99n,C$99_){null==C$99e&&(C$99e=2),null==C$99n&&(C$99n=!0);for(var C$99r=C$99t.length,C$99a=0,C$99u=0,C$99o=[],C$99d=!0,C$99h=0;C$99h<C$99r;C$99h++){var C$99l=C$99t[C$99h];if(!C$99l)throw new Error("LoaderManager._loadAssets \u52a0\u8f7d\u5217\u8868\u9519\u8bef arr="+C$99t);(C$99l="string"==typeof C$99l?{url:C$99l,type:C$99c,size:1,priority:C$99e}:C$99l).size||(C$99l.size=1),C$99l.progress=0,C$99u+=C$99l.size,C$99o.push(C$99l);var C$99f=C$99s?C$99g.create(null,fe7oz,[C$99l],!1):null,C$99p=C$99i||C$99s?C$99g.create(null,akrjbs,[C$99l]):null;this.load(C$99l.url,C$99p,C$99f,C$99l.type,null!=C$99l.priority&&0<=C$99l.priority?C$99l.priority:2,C$99n,C$99l.group||C$99_)}function akrjbs(C$99t,C$99e){C$99a++,C$99t.progress=1,C$99e||(C$99d=!1),C$99a===C$99r&&C$99i&&C$99i.runWith(C$99d)}function fe7oz(C$99t,C$99e){if(null!=C$99s){C$99t.progress=C$99e;for(var C$99i=0,C$99n=0;C$99n<C$99o.length;C$99n++){var C$99r=C$99o[C$99n];C$99i+=C$99r.size*C$99r.progress}C$99t=C$99i/C$99u;C$99s.runWith(C$99t)}}return this},dp$v.cacheRes=function(C$99t,C$99e){C$99ht.cacheRes(C$99t,C$99e)},dp$v._resMap={},C$99a(dp$v,["createMap",function(){return this.createMap={atlas:[null,"atlas"]}}]),dp$v.__init$=function(){function abju(){this.url=null,this.type=null,this.cache=!1,this.group=null,this.ignoreCache=!1,this.clas=null,this.loader=null,this.priority=-1,abju.__super.call(this)}C$99o(abju,"",C$99l),abju.prototype.destroy=function(){this.url=null,this.type=null,this.cache=!1,this.group=null,this.ignoreCache=!1,this.clas=null,this.loader=void 0,this.priority=-1},C$99Lt=abju},dp$v),C$99i=(C$99o(oyx,"laya.filters.ColorFilter",C$99T),C$99i=oyx.prototype,C$99b.imps(C$99i,{"laya.filters.IFilter":!0}),C$99i.callNative=function(C$99t){C$99t._$P.cf=this,C$99t.conchModel&&C$99t.conchModel.setFilterMatrix&&C$99t.conchModel.setFilterMatrix(this._mat,this._alpha)},C$99t(0,C$99i,"type",function(){return 32}),C$99t(0,C$99i,"action",function(){return this._action}),C$99o(vi$dp9,"laya.net.Socket",C$99l),(C$99i=vi$dp9.prototype).connect=function(C$99t,C$99e){C$99t="https:"==C$99S.window.location.protocol?"wss://"+C$99t+":"+C$99e:"ws://"+C$99t+":"+C$99e,this.connectByUrl(C$99t)},C$99i.connectByUrl=function(C$99t){var C$99e=this;null!=this._socket&&this.close(),this._socket&&this.cleanSocket(),this.protocols&&0!=this.protocols.length?this._socket=new C$99S.window.WebSocket(C$99t,this.protocols):this._socket=new C$99S.window.WebSocket(C$99t),this._socket.binaryType="arraybuffer",this._output=new this._byteClass,this._output.endian=this.endian,this._input=new this._byteClass,this._input.endian=this.endian,this._addInputPosition=0,this._socket.onopen=function(C$99t){C$99e._onOpen(C$99t)},this._socket.onmessage=function(C$99t){C$99e._onMessage(C$99t)},this._socket.onclose=function(C$99t){C$99e._onClose(C$99t)},this._socket.onerror=function(C$99t){C$99e._onError(C$99t)}},C$99i.cleanSocket=function(){try{this._socket.close()}catch(C$99t){}this._connected=!1,this._socket.onopen=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket.onerror=null,this._socket=null},C$99i.close=function(){if(null!=this._socket)try{this._socket.close()}catch(C$99t){}},C$99i._onOpen=function(C$99t){this._connected=!0,this.event("open",C$99t)},C$99i._onMessage=function(C$99t){var C$99e;C$99t&&C$99t.data&&(C$99t=C$99t.data,this.disableInput&&C$99t||(0<this._input.length&&this._input.bytesAvailable<1&&(this._input.clear(),this._addInputPosition=0),C$99e=this._input.pos,this._addInputPosition||(this._addInputPosition=0),this._input.pos=this._addInputPosition,C$99t&&("string"==typeof C$99t?this._input.writeUTFBytes(C$99t):this._input.writeArrayBuffer(C$99t),this._addInputPosition=this._input.pos,this._input.pos=C$99e)),this.event("message",C$99t))},C$99i._onClose=function(C$99t){this._connected=!1,this.event("close",C$99t)},C$99i._onError=function(C$99t){this.event("error",C$99t)},C$99i.send=function(C$99t){this._socket.send(C$99t)},C$99i.flush=function(){if(this._output&&0<this._output.length){var C$99e;try{this._socket&&this._socket.send(this._output.__getBuffer().slice(0,this._output.length))}catch(C$99t){C$99e=C$99t}this._output.endian=this.endian,this._output.clear(),C$99e&&this.event("error",C$99e)}},C$99t(0,C$99i,"input",function(){return this._input}),C$99t(0,C$99i,"output",function(){return this._output}),C$99t(0,C$99i,"connected",function(){return this._connected}),C$99t(0,C$99i,"endian",function(){return this._endian},function(C$99t){this._endian=C$99t,null!=this._input&&(this._input.endian=C$99t),null!=this._output&&(this._output.endian=C$99t)}),vi$dp9.LITTLE_ENDIAN="littleEndian",vi$dp9.BIG_ENDIAN="bigEndian",C$99o(ipvd$,"laya.resource.Resource",C$99l),C$99i=ipvd$.prototype,C$99b.imps(C$99i,{"laya.resource.ICreateResource":!0,"laya.resource.IDispose":!0}),C$99i._setUrl=function(C$99t){var C$99e;this._url!==C$99t&&(this._url&&((C$99e=ipvd$._urlResourcesMap[this._url]).splice(C$99e.indexOf(this),1),0===C$99e.length&&delete ipvd$._urlResourcesMap[this._url]),C$99t&&((C$99e=ipvd$._urlResourcesMap[C$99t])||(ipvd$._urlResourcesMap[C$99t]=C$99e=[]),C$99e.push(this)),this._url=C$99t)},C$99i._getGroup=function(){return this._group},C$99i._setGroup=function(C$99t){var C$99e;this._group!==C$99t&&(this._group&&((C$99e=ipvd$._groupResourcesMap[this._group]).splice(C$99e.indexOf(this),1),0===C$99e.length&&delete ipvd$._groupResourcesMap[this._group]),C$99t&&((C$99e=ipvd$._groupResourcesMap[C$99t])||(ipvd$._groupResourcesMap[C$99t]=C$99e=[]),C$99e.push(this)),this._group=C$99t)},C$99i._addReference=function(){this._referenceCount++},C$99i._removeReference=function(){this._referenceCount--},C$99i._clearReference=function(){this._referenceCount=0},C$99i._endLoaded=function(){this.__loaded=!0,this.event("loaded",this)},C$99i.recreateResource=function(){this.completeCreate()},C$99i.disposeResource=function(){},C$99i.activeResource=function(C$99t){void 0===C$99t&&(C$99t=!1),this._lastUseFrameCount=C$99X.loopCount,!this._destroyed&&this.__loaded&&(this._released||C$99t)&&this.recreateResource()},C$99i.releaseResource=function(C$99t){return!(!(C$99t=void 0===C$99t?!0:C$99t)&&this.lock||this._released&&!C$99t||(this.disposeResource(),this._released=!0,this._lastUseFrameCount=-1,this.event("released",this),0))},C$99i.onAsynLoaded=function(C$99t,C$99e,C$99i){throw new Error("Resource: must override this function!")},C$99i.destroy=function(){var C$99t;this._destroyed||(null!==this._resourceManager&&this._resourceManager.removeResource(this),this._destroyed=!0,this.lock=!1,this.releaseResource(),delete ipvd$._idResourcesMap[this.id],this._url&&((C$99t=ipvd$._urlResourcesMap[this._url])&&(C$99t.splice(C$99t.indexOf(this),1),0===C$99t.length&&delete ipvd$._urlResourcesMap[this.url]),C$99ht.clearRes(this._url),this.__loaded||C$99m.cancelLoadByUrl(this._url)),this._group&&((C$99t=ipvd$._groupResourcesMap[this._group]).splice(C$99t.indexOf(this),1),0===C$99t.length&&delete ipvd$._groupResourcesMap[this.url]))},C$99i.completeCreate=function(){this._released=!1,this.event("recovered",this)},C$99i.dispose=function(){this.destroy()},C$99t(0,C$99i,"memorySize",function(){return this._memorySize},function(C$99t){var C$99e=C$99t-this._memorySize;this._memorySize=C$99t,this.resourceManager&&this.resourceManager.addRecord(this.uri,this.__className,C$99e),this.resourceManager&&this.resourceManager.addSize(C$99e)}),C$99t(0,C$99i,"_loaded",null,function(C$99t){this.__loaded=C$99t}),C$99t(0,C$99i,"loaded",function(){return this.__loaded}),C$99t(0,C$99i,"id",function(){return this._$1__id}),C$99t(0,C$99i,"destroyed",function(){return this._destroyed}),C$99t(0,C$99i,"group",function(){return this._getGroup()},function(C$99t){this._setGroup(C$99t)}),C$99t(0,C$99i,"resourceManager",function(){return this._resourceManager}),C$99t(0,C$99i,"url",function(){return this._url}),C$99t(0,C$99i,"released",function(){return this._released}),C$99t(0,C$99i,"referenceCount",function(){return this._referenceCount}),ipvd$.getResourceByID=function(C$99t){return ipvd$._idResourcesMap[C$99t]},ipvd$.getResourceByURL=function(C$99t,C$99e){return void 0===C$99e&&(C$99e=0),null==ipvd$._urlResourcesMap[C$99t]?null:ipvd$._urlResourcesMap[C$99t][C$99e]},ipvd$.getResourceCountByURL=function(C$99t){return ipvd$._urlResourcesMap[C$99t].length},ipvd$.destroyUnusedResources=function(C$99t){var C$99e;if(C$99t){C$99t=ipvd$._groupResourcesMap[C$99t];if(C$99t)for(var C$99i=C$99t.slice(),C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99n++)(C$99e=C$99i[C$99n]).lock||0!==C$99e._referenceCount||C$99e.destroy()}else for(var C$99s in ipvd$._idResourcesMap)(C$99e=ipvd$._idResourcesMap[C$99s]).lock||0!==C$99e._referenceCount||C$99e.destroy()},ipvd$._uniqueIDCounter=0,ipvd$._idResourcesMap={},ipvd$._urlResourcesMap={},ipvd$._groupResourcesMap={},ipvd$),C$99ct=(C$99o(b3nrj,"laya.resource.Texture",C$99l),(C$99_t=b3nrj.prototype)._setUrl=function(C$99t){this.url=C$99t},C$99_t.setTo=function(C$99t,C$99e){var C$99i;var C$99n;C$99t instanceof C$99s.HTMLElement?(C$99i=C$99gt.create("2D",C$99t),this.bitmap=C$99i):this.bitmap=C$99t,this.uv=C$99e||b3nrj.DEF_UV,C$99t&&(this._w=C$99t.width,this._h=C$99t.height,this.sourceWidth=this.sourceWidth||this._w,this.sourceHeight=this.sourceHeight||this._h,this._loaded=0<this._w,(C$99n=this)._loaded?C$99m.addToAtlas&&C$99m.addToAtlas(C$99n):C$99t instanceof laya.resource.HTMLImage&&C$99t.image&&C$99t.image.addEventListener("load",function(C$99t){C$99m.addToAtlas&&C$99m.addToAtlas(C$99n)},!1))},C$99_t.active=function(){this.bitmap&&this.bitmap.activeResource()},C$99_t.destroy=function(C$99t){var C$99e;void 0===C$99t&&(C$99t=!1),this.alphaTexture&&(this.alphaTexture.destroy(C$99t),this.alphaTexture=null),this.bitmap&&0<this.bitmap.referenceCount&&(C$99e=this.bitmap,C$99t?(C$99M.isConchApp&&C$99e.source&&C$99e.source.conchDestroy&&this.bitmap.source.conchDestroy(),this.bitmap=null,C$99e.dispose(),C$99e._clearReference()):(C$99e._removeReference(),0==C$99e.referenceCount&&(C$99M.isConchApp&&C$99e.source&&C$99e.source.conchDestroy&&this.bitmap.source.conchDestroy(),this.bitmap=null,C$99e.dispose())),this.url&&this===C$99b.loader.getRes(this.url)&&C$99b.loader.clearRes(this.url,C$99t),this._loaded=!1)},C$99_t.load=function(C$99t){var C$99e=this;this._loaded=!1,C$99t=C$99B.customFormat(C$99t);var C$99i=this.bitmap||(this.bitmap=C$99yt.create(C$99t));C$99i.uri=C$99t,C$99i&&C$99i._addReference();var C$99n=this;C$99i.onload=function(){C$99i.onload=null,C$99n._loaded=!0,C$99e.sourceWidth=C$99e._w=C$99i.width,C$99e.sourceHeight=C$99e._h=C$99i.height,C$99n.event("loaded",this),C$99m.addToAtlas&&C$99m.addToAtlas(C$99n)}},C$99_t.addTextureToAtlas=function(C$99t){C$99m.addTextureToAtlas(this)},C$99_t.getPixels=function(C$99t,C$99e,C$99i,C$99n){var C$99r;return C$99M.isConchApp?(C$99r=this.bitmap).source&&C$99r.source.getImageData?(C$99r=C$99r.source.getImageData(C$99t,C$99e,C$99i,C$99n),C$99r=new Uint8Array(C$99r),Array.from(C$99r)):null:C$99M.isWebGL?C$99m.getTexturePixels(this,C$99t,C$99e,C$99i,C$99n):(C$99S.canvas.size(C$99i,C$99n),C$99S.canvas.clear(),C$99S.context.drawTexture(this,-C$99t,-C$99e,this.width,this.height,0,0),C$99S.context.getImageData(0,0,C$99i,C$99n).data)},C$99_t.onAsynLoaded=function(C$99t,C$99e){if(C$99e){if("function"!=typeof C$99e._addReference)throw new Error("bitmap._addReference is not a function. "+C$99e.className+" "+typeof C$99e._addReference+" "+C$99e.constructor);C$99e._addReference()}this.setTo(C$99e,this.uv),this._loaded&&this.event("loaded",this)},C$99t(0,C$99_t,"source",function(){return this.bitmap?(this.bitmap.activeResource(),this.bitmap.source):null}),C$99t(0,C$99_t,"loaded",function(){return this._loaded}),C$99t(0,C$99_t,"released",function(){return!this.bitmap||this.bitmap.released}),C$99t(0,C$99_t,"width",function(){return this._w||(this.uv&&this.uv!==b3nrj.DEF_UV?(this.uv[2]-this.uv[0])*this.bitmap.width:this.bitmap.width)},function(C$99t){this._w=C$99t,this.sourceWidth||(this.sourceWidth=C$99t)}),C$99t(0,C$99_t,"repeat",function(){return!C$99M.isWebGL||!this.bitmap||this.bitmap.repeat},function(C$99t){C$99t&&C$99M.isWebGL&&this.bitmap&&(this.bitmap.repeat=C$99t)&&(this.bitmap.enableMerageInAtlas=!1)}),C$99t(0,C$99_t,"height",function(){return this._h||(this.uv&&this.uv!==b3nrj.DEF_UV?(this.uv[5]-this.uv[1])*this.bitmap.height:this.bitmap.height)},function(C$99t){this._h=C$99t,this.sourceHeight||(this.sourceHeight=C$99t)}),C$99t(0,C$99_t,"isLinearSampling",function(){return!C$99M.isWebGL||9728!=this.bitmap.minFifter},function(C$99t){!C$99t&&C$99M.isWebGL&&(C$99t||-1!=this.bitmap.minFifter||-1!=this.bitmap.magFifter||(this.bitmap.minFifter=9728,this.bitmap.magFifter=9728,this.bitmap.enableMerageInAtlas=!1))}),b3nrj.moveUV=function(C$99t,C$99e,C$99i){for(var C$99n=0;C$99n<8;C$99n+=2)C$99i[C$99n]+=C$99t,C$99i[C$99n+1]+=C$99e;return C$99i},b3nrj.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99c,C$99_){void 0===C$99s&&(C$99s=0),void 0===C$99a&&(C$99a=0),void 0===C$99c&&(C$99c=0),void 0===C$99_&&(C$99_=0);var C$99o=C$99t instanceof laya.resource.Texture,C$99h=C$99o?C$99t.uv:b3nrj.DEF_UV,C$99o=C$99o?C$99t.bitmap:C$99t,C$99u=C$99m.isAtlas(C$99o);if(C$99u){var C$99l=C$99o._atlaser,C$99t=C$99t._atlasID;if(-1==C$99t)throw new Error("create texture error");C$99o=C$99l._inAtlasTextureBitmapValue[C$99t],C$99h=C$99l._inAtlasTextureOriUVValue[C$99t]}C$99l=new b3nrj(C$99o,null);C$99o.width&&C$99e+C$99n>C$99o.width&&(C$99n=C$99o.width-C$99e),C$99o.height&&C$99i+C$99r>C$99o.height&&(C$99r=C$99o.height-C$99i),C$99l.width=C$99n,C$99l.height=C$99r,C$99l.offsetX=C$99s,C$99l.offsetY=C$99a,C$99l.sourceWidth=C$99c||C$99n,C$99l.sourceHeight=C$99_||C$99r;C$99t=1/C$99o.width,C$99s=1/C$99o.height;var C$99a=C$99l.uv[0],C$99c=C$99l.uv[1],C$99_=C$99l.uv[4],C$99d=C$99l.uv[5],C$99f=C$99_-C$99a,C$99p=C$99d-C$99c,C$99h=b3nrj.moveUV(C$99h[0],C$99h[1],[C$99e*=C$99t,C$99i*=C$99s,C$99e+(C$99n*=C$99t),C$99i,C$99e+C$99n,C$99i+(C$99r*=C$99s),C$99e,C$99i+C$99r]);C$99l.uv=[C$99a+C$99h[0]*C$99f,C$99c+C$99h[1]*C$99p,C$99_-(1-C$99h[2])*C$99f,C$99c+C$99h[3]*C$99p,C$99_-(1-C$99h[4])*C$99f,C$99d-(1-C$99h[5])*C$99p,C$99a+C$99h[6]*C$99f,C$99d-(1-C$99h[7])*C$99p],C$99u&&C$99l.addTextureToAtlas();C$99t=C$99o.scaleRate;return C$99t&&1!=C$99t?(C$99l.sourceWidth/=C$99t,C$99l.sourceHeight/=C$99t,C$99l.width/=C$99t,C$99l.height/=C$99t,C$99l.scaleRate=C$99t,C$99l.offsetX/=C$99t,C$99l.offsetY/=C$99t):C$99l.scaleRate=1,C$99l},b3nrj.createFromTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99t.scaleRate;1!=C$99s&&(C$99e*=C$99s,C$99i*=C$99s,C$99n*=C$99s,C$99r*=C$99s);var C$99s=C$99P.TEMP.setTo(C$99e-C$99t.offsetX,C$99i-C$99t.offsetY,C$99n,C$99r),C$99a=C$99s.intersection(b3nrj._rect1.setTo(0,0,C$99t.width,C$99t.height),b3nrj._rect2);if(!C$99a)return null;var C$99o=b3nrj.create(C$99t,C$99a.x,C$99a.y,C$99a.width,C$99a.height,C$99a.x-C$99s.x,C$99a.y-C$99s.y,C$99n,C$99r);if(C$99o.bitmap&&C$99o.bitmap._removeReference)return C$99o.bitmap._removeReference(),C$99o;C$99o="bitmap:"+(C$99o.bitmap?C$99o.bitmap.constructor?C$99o.bitmap.constructor.name:C$99o.bitmap.__className:"")+", url:"+C$99t.url+" | "+(C$99o.bitmap||C$99t).url+", x="+C$99e+",y="+C$99i+",width="+C$99n+",height="+C$99r+", result="+(C$99a?C$99a.x+","+C$99a.y+","+C$99a.width+","+C$99a.height:"null")+", rect="+C$99s.x+","+C$99s.y+","+C$99s.width+","+C$99s.height;throw new Error("\u62a5\u9519\uff1abitmap._removeReference is not a function  "+C$99o)},b3nrj.DEF_UV=[0,0,1,0,1,1,0,1],b3nrj.INV_UV=[0,1,1,1,1,0,0,0],b3nrj._rect1=new C$99P,b3nrj._rect2=new C$99P,b3nrj),C$99_t=(C$99o(xmy0_,"laya.utils.TimeLine",C$99l),(C$99_t=xmy0_.prototype).to=function(C$99t,C$99e,C$99i,C$99n,C$99r){return this._create(C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?0:C$99r,!0)},C$99_t.from=function(C$99t,C$99e,C$99i,C$99n,C$99r){return this._create(C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?0:C$99r,!1)},C$99_t._create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=C$99Y.getItemByClass("tweenData",C$99Pt);return C$99a.isTo=C$99s,C$99a.type=0,C$99a.target=C$99t,C$99a.duration=C$99i,C$99a.data=C$99e,C$99a.startTime=this._startTime+C$99r,C$99a.endTime=C$99a.startTime+C$99a.duration,C$99a.ease=C$99n,this._startTime=Math.max(C$99a.endTime,this._startTime),this._tweenDataList.push(C$99a),this._startTimeSort=!0,this._endTimeSort=!0,this},C$99_t.addLabel=function(C$99t,C$99e){var C$99i=C$99Y.getItemByClass("tweenData",C$99Pt);return C$99i.type=1,C$99i.data=C$99t,C$99i.endTime=C$99i.startTime=this._startTime+C$99e,this._labelDic||(this._labelDic={}),this._labelDic[C$99t]=C$99i,this._tweenDataList.push(C$99i),this},C$99_t.removeLabel=function(C$99t){var C$99e;this._labelDic&&this._labelDic[C$99t]&&(!(C$99e=this._labelDic[C$99t])||-1<(C$99e=this._tweenDataList.indexOf(C$99e))&&this._tweenDataList.splice(C$99e,1),delete this._labelDic[C$99t])},C$99_t.gotoTime=function(C$99t){if(null!=this._tweenDataList&&0!=this._tweenDataList.length){var C$99e,C$99i,C$99n,C$99r;for(var C$99s in this._firstTweenDic)if(C$99i=this._firstTweenDic[C$99s])for(var C$99a in C$99i)C$99i.diyTarget.hasOwnProperty(C$99a)&&(C$99i.diyTarget[C$99a]=C$99i[C$99a]);for(C$99s in this._tweenDic)(C$99e=this._tweenDic[C$99s]).clear(),delete this._tweenDic[C$99s];this._index=0,this._gidIndex=0,this._currTime=C$99t,this._lastTime=C$99S.now(),null==this._endTweenDataList||this._endTimeSort?(this._endTimeSort=!1,this._endTweenDataList=C$99n=this._tweenDataList.concat(),C$99n.sort(function(C$99t,C$99e){return C$99t.endTime>C$99e.endTime?1:C$99t.endTime<C$99e.endTime?-1:0})):C$99n=this._endTweenDataList;for(var C$99o=0,C$99h=C$99n.length;C$99o<C$99h;C$99o++)if(0==(C$99r=C$99n[C$99o]).type){if(!(C$99t>=C$99r.endTime))break;this._index=Math.max(this._index,C$99o+1);var C$99l=C$99r.data;if(C$99r.isTo)for(var C$99c in C$99l)C$99r.target[C$99c]=C$99l[C$99c]}for(C$99o=0,C$99h=this._tweenDataList.length;C$99o<C$99h;C$99o++)0==(C$99r=this._tweenDataList[C$99o]).type&&C$99t>=C$99r.startTime&&C$99t<C$99r.endTime&&(this._index=Math.max(this._index,C$99o+1),this._gidIndex++,(C$99e=C$99Y.getItemByClass("tween",C$99Z))._create(C$99r.target,C$99r.data,C$99r.duration,C$99r.ease,C$99g.create(this,this._animComplete,[this._gidIndex]),0,!1,C$99r.isTo,!0,!1),C$99e.setStartTime(this._currTime-(C$99t-C$99r.startTime)),C$99e._updateEase(this._currTime),C$99e.gid=this._gidIndex,this._tweenDic[this._gidIndex]=C$99e)}},C$99_t.gotoLabel=function(C$99t){null==this._labelDic||(C$99t=this._labelDic[C$99t])&&this.gotoTime(C$99t.startTime)},C$99_t.pause=function(){C$99b.timer.clear(this,this._update)},C$99_t.resume=function(){this.play(this._currTime,this._loopKey)},C$99_t.play=function(C$99t,C$99e){if(void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=!1),this._tweenDataList){if(this._startTimeSort){this._startTimeSort=!1,this._tweenDataList.sort(function(C$99t,C$99e){return C$99t.startTime>C$99e.startTime?1:C$99t.startTime<C$99e.startTime?-1:0});for(var C$99i=0,C$99n=this._tweenDataList.length;C$99i<C$99n;C$99i++){var C$99r=this._tweenDataList[C$99i];if(null!=C$99r&&0==C$99r.type){var C$99s=C$99r.target,C$99a=C$99s.$_GID||(C$99s.$_GID=C$99Q.getGID()),C$99o=null;for(var C$99h in null==this._firstTweenDic[C$99a]?((C$99o={}).diyTarget=C$99s,this._firstTweenDic[C$99a]=C$99o):C$99o=this._firstTweenDic[C$99a],C$99r.data)null==C$99o[C$99h]&&(C$99o[C$99h]=C$99s[C$99h])}}}"string"==typeof C$99t?this.gotoLabel(C$99t):this.gotoTime(C$99t),this._loopKey=C$99e,this._lastTime=C$99S.now(),C$99b.timer.frameLoop(1,this,this._update)}},C$99_t._update=function(){if(this._currTime>=this._startTime){if(!this._loopKey){for(var C$99t in this._tweenDic)(C$99e=this._tweenDic[C$99t]).complete();return this._complete(),void this.pause()}if(this._complete(),!this._tweenDataList)return;this.gotoTime(0)}var C$99e,C$99i=C$99S.now(),C$99n=C$99i-this._lastTime,C$99r=this._currTime+=C$99n*this.scale;for(C$99t in this._lastTime=C$99i,this._tweenDic)(C$99e=this._tweenDic[C$99t])._updateEase(C$99r);0!=this._tweenDataList.length&&this._index<this._tweenDataList.length&&(C$99r>=(C$99n=this._tweenDataList[this._index]).startTime&&(this._index++,0==C$99n.type?(this._gidIndex++,(C$99e=C$99Y.getItemByClass("tween",C$99Z))._create(C$99n.target,C$99n.data,C$99n.duration,C$99n.ease,C$99g.create(this,this._animComplete,[this._gidIndex]),0,!1,C$99n.isTo,!0,!1),C$99e.setStartTime(C$99r),C$99e.gid=this._gidIndex,(this._tweenDic[this._gidIndex]=C$99e)._updateEase(C$99r)):this.event("label",C$99n.data)))},C$99_t._animComplete=function(C$99t){this._tweenDic[C$99t]&&delete this._tweenDic[C$99t]},C$99_t._complete=function(){this.event("complete")},C$99_t.reset=function(){if(this._labelDic)for(var C$99t in this._labelDic)delete this._labelDic[C$99t];for(C$99t in this._tweenDic)this._tweenDic[C$99t].clear(),delete this._tweenDic[C$99t];for(C$99t in this._firstTweenDic)delete this._firstTweenDic[C$99t];if(this._endTweenDataList=null,this._tweenDataList&&this._tweenDataList.length){var C$99e,C$99i=0;for(C$99e=this._tweenDataList.length,C$99i=0;C$99i<C$99e;C$99i++)this._tweenDataList[C$99i]&&this._tweenDataList[C$99i].destroy()}this._tweenDataList.length=0,this._currTime=0,this._lastTime=0,this._startTime=0,this._index=0,this._gidIndex=0,this.scale=1,C$99b.timer.clear(this,this._update)},C$99_t.destroy=function(){this.reset(),this._labelDic=null,this._tweenDic=null,this._tweenDataList=null,this._firstTweenDic=null},C$99t(0,C$99_t,"index",function(){return this._frameIndex},function(C$99t){this._frameIndex=C$99t,this.gotoTime(this._frameIndex/this._frameRate*1e3)}),C$99t(0,C$99_t,"total",function(){return this._total=Math.floor(this._startTime/1e3*this._frameRate),this._total}),xmy0_.to=function(C$99t,C$99e,C$99i,C$99n,C$99r){return void 0===C$99r&&(C$99r=0),(new xmy0_).to(C$99t,C$99e,C$99i,C$99n,C$99r)},xmy0_.from=function(C$99t,C$99e,C$99i,C$99n,C$99r){return void 0===C$99r&&(C$99r=0),(new xmy0_).from(C$99t,C$99e,C$99i,C$99n,C$99r)},xmy0_.__init$=function(){function o0qxy(){this.type=0,this.isTo=!0,this.startTime=NaN,this.endTime=NaN,this.target=null,this.duration=NaN,this.ease=null,this.data=null}C$99o(o0qxy,""),o0qxy.prototype.destroy=function(){this.target=null,this.ease=null,this.data=null,this.isTo=!0,this.type=0,C$99Y.recover("tweenData",this)},C$99Pt=o0qxy},xmy0_),C$99ut=(C$99o(ngjab,"laya.display.Sprite",C$99Rt=C$99it),C$99n=ngjab.prototype,C$99b.imps(C$99n,{"laya.display.ILayout":!0}),C$99n.createConchModel=function(){return new ConchNode},C$99n.destroy=function(C$99t){var C$99e;void 0===C$99t&&(C$99t=!0),this._releaseMem(),this._destroyed||(this.filters=null,(C$99e=this.mask)&&(this.mask=null,C$99e.destroy(C$99t))),C$99Rt.prototype.destroy.call(this,C$99t),this._style&&this._style.destroy(),this._transform&&this._transform.destroy(),this._transform=null,this._style=null,this._graphics=null},C$99n.updateZOrder=function(){C$99Q.updateOrder(this._childs)&&this.repaint()},C$99n.reCache=function(){this._$P.cacheCanvas&&(this._$P.cacheCanvas.reCache=!0),this._repaint=1},C$99n.setBounds=function(C$99t){this._set$P("uBounds",C$99t)},C$99n.getBounds=function(){return this._$P.mBounds||this._set$P("mBounds",new C$99P),C$99P._getWrapRec(this._boundPointsToParent(),this._$P.mBounds)},C$99n.getSelfBounds=function(){return this._$P.uBounds||(this._$P.mBounds||this._set$P("mBounds",new C$99P),C$99P._getWrapRec(this._getBoundPointsM(!1),this._$P.mBounds))},C$99n._boundPointsToParent=function(C$99t){void 0===C$99t&&(C$99t=!1);var C$99e=0,C$99i=0;this._style&&(C$99e=this._style._tf.translateX,C$99i=this._style._tf.translateY,C$99t=C$99t||0!==this._style._tf.rotate,this._style.scrollRect&&(C$99e+=this._style.scrollRect.x,C$99i+=this._style.scrollRect.y));var C$99n=this._getBoundPointsM(C$99t);if(!C$99n||C$99n.length<1)return C$99n;if(8!=C$99n.length&&(C$99n=C$99t?C$99E.scanPList(C$99n):C$99P._getWrapRec(C$99n,C$99P.TEMP)._getBoundPoints()),!this.transform)return C$99Q.transPointList(C$99n,this._x-C$99e,this._y-C$99i),C$99n;var C$99r=C$99R.TEMP,C$99s=0,C$99a=C$99n.length;for(C$99s=0;C$99s<C$99a;C$99s+=2)C$99r.x=C$99n[C$99s],C$99r.y=C$99n[C$99s+1],this.toParentPoint(C$99r),C$99n[C$99s]=C$99r.x,C$99n[C$99s+1]=C$99r.y;return C$99n},C$99n.getGraphicBounds=function(C$99t){return void 0===C$99t&&(C$99t=!1),this._graphics?this._graphics.getBounds(C$99t):C$99P.TEMP.setTo(0,0,0,0)},C$99n._getBoundPointsM=function(C$99t){if(void 0===C$99t&&(C$99t=!1),this._$P.uBounds)return this._$P.uBounds._getBoundPoints();var C$99e,C$99i;if(this._$P.temBM||this._set$P("temBM",[]),this.scrollRect)return C$99e=C$99Q.clearArray(this._$P.temBM),(C$99i=C$99P.TEMP).copyFrom(this.scrollRect),C$99Q.concatArray(C$99e,C$99i._getBoundPoints()),C$99e;for(var C$99n,C$99r,C$99s,C$99a=this._graphics?this._graphics.getBoundPoints():C$99Q.clearArray(this._$P.temBM),C$99o=0,C$99h=(C$99s=this._childs).length;C$99o<C$99h;C$99o++)(C$99n=C$99s[C$99o])instanceof laya.display.Sprite&&1==C$99n.visible&&(C$99r=C$99n._boundPointsToParent(C$99t))&&(C$99a=C$99a?C$99Q.concatArray(C$99a,C$99r):C$99r);return C$99a},C$99n.getStyle=function(){return this._style===C$99c.EMPTY&&(this._style=new C$99c),this._style},C$99n.setStyle=function(C$99t){this._style=C$99t},C$99n._adjustTransform=function(){this._tfChanged=!1;var C$99t,C$99e=this._style._tf,C$99i=C$99e.scaleX,C$99n=C$99e.scaleY;var C$99r,C$99s,C$99a;return C$99e.rotate||1!==C$99i||1!==C$99n||C$99e.skewX||C$99e.skewY?((C$99t=this._transform||(this._transform=C$99I.create())).bTransform=!0,C$99a=.0174532922222222*(C$99e.rotate-C$99e.skewX),C$99e=.0174532922222222*(C$99e.rotate+C$99e.skewY),C$99r=Math.cos(C$99e),C$99e=Math.sin(C$99e),C$99s=Math.sin(C$99a),C$99a=Math.cos(C$99a),C$99t.a=C$99i*C$99r,C$99t.b=C$99i*C$99e,C$99t.c=-C$99n*C$99s,C$99t.d=C$99n*C$99a,C$99t.tx=C$99t.ty=0):(this._transform&&this._transform.destroy(),this._transform=null,this._renderType&=-5),C$99t},C$99n.pos=function(C$99t,C$99e,C$99i){if(void 0===C$99i&&(C$99i=!1),this._x!==C$99t||this._y!==C$99e){if(this.destroyed)return this;C$99i?(this._x=C$99t,this._y=C$99e,this.conchModel&&this.conchModel.pos(this._x,this._y),(C$99i=this._parent)&&0===C$99i._repaint&&(C$99i._repaint=1,C$99i.parentRepaint()),this._$P.maskParent&&0===this._$P.maskParent._repaint&&(this._$P.maskParent._repaint=1,this._$P.maskParent.parentRepaint())):(this.x=C$99t,this.y=C$99e)}return this},C$99n.pivot=function(C$99t,C$99e){return this.pivotX=C$99t,this.pivotY=C$99e,this},C$99n.size=function(C$99t,C$99e){return this.width=C$99t,this.height=C$99e,this},C$99n.scale=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=!1);var C$99n=this.getStyle(),C$99r=C$99n._tf;if(C$99r.scaleX!=C$99t||C$99r.scaleY!=C$99e){if(this.destroyed)return this;C$99i?(C$99n.setScale(C$99t,C$99e),this._tfChanged=!0,this.conchModel&&this.conchModel.scale(C$99t,C$99e),this._renderType|=4,(C$99r=this._parent)&&0===C$99r._repaint&&(C$99r._repaint=1,C$99r.parentRepaint())):(this.scaleX=C$99t,this.scaleY=C$99e)}return this},C$99n.skew=function(C$99t,C$99e){return this.skewX=C$99t,this.skewY=C$99e,this},C$99n.render=function(C$99t,C$99e,C$99i){C$99X.spriteCount++,C$99O.renders[this._renderType]._fun(this,C$99t,C$99e+this._x,C$99i+this._y),this._repaint=0},C$99n.drawToCanvas=function(C$99t,C$99e,C$99i,C$99n){var C$99r;return C$99M.isConchNode?(C$99r=C$99gt.create("2D"),new C$99N(C$99t,C$99e,C$99r).ctx.setCanvasType(1),this.conchModel.drawToCanvas(C$99r.source,C$99i,C$99n),C$99r):C$99m.drawToCanvas(this,this._renderType,C$99t,C$99e,C$99i,C$99n)},C$99n.customRender=function(C$99t,C$99e,C$99i){this._renderType|=1024},C$99n._applyFilters=function(){var C$99t;if(!C$99M.isWebGL&&(C$99t=this._$P.filters)&&!(C$99t.length<1))for(var C$99e=0,C$99i=C$99t.length;C$99e<C$99i;C$99e++)C$99t[C$99e].action.apply(this._$P.cacheCanvas)},C$99n._isHaveGlowFilter=function(){var C$99t,C$99e=0;if(this.filters)for(C$99e=0;C$99e<this.filters.length;C$99e++)if(8==this.filters[C$99e].type)return!0;for(C$99e=0,C$99t=this._childs.length;C$99e<C$99t;C$99e++)if(this._childs[C$99e]._isHaveGlowFilter())return!0;return!1},C$99n.localToGlobal=function(C$99t,C$99e){!0===(C$99e=void 0===C$99e?!1:C$99e)&&(C$99t=new C$99R(C$99t.x,C$99t.y));for(var C$99i=this;C$99i&&C$99i!=C$99b.stage;)C$99t=C$99i.toParentPoint(C$99t),C$99i=C$99i.parent;return C$99t},C$99n.globalToLocal=function(C$99t,C$99e){(C$99e=void 0===C$99e?!1:C$99e)&&(C$99t=new C$99R(C$99t.x,C$99t.y));for(var C$99i=this,C$99n=[];C$99i&&C$99i!=C$99b.stage;)C$99n.push(C$99i),C$99i=C$99i.parent;for(var C$99r=C$99n.length-1;0<=C$99r;)C$99t=(C$99i=C$99n[C$99r]).fromParentPoint(C$99t),C$99r--;return C$99t},C$99n.toParentPoint=function(C$99t){if(!C$99t)return C$99t;C$99t.x-=this.pivotX,C$99t.y-=this.pivotY,this.transform&&this._transform.transformPoint(C$99t),C$99t.x+=this._x,C$99t.y+=this._y;var C$99e=this._style.scrollRect;return C$99e&&(C$99t.x-=C$99e.x,C$99t.y-=C$99e.y),C$99t},C$99n.fromParentPoint=function(C$99t){if(!C$99t)return C$99t;C$99t.x-=this._x,C$99t.y-=this._y;var C$99e=this._style.scrollRect;return C$99e&&(C$99t.x+=C$99e.x,C$99t.y+=C$99e.y),this.transform&&this._transform.invertTransformPoint(C$99t),C$99t.x+=this.pivotX,C$99t.y+=this.pivotY,C$99t},C$99n.on=function(C$99t,C$99e,C$99i,C$99n){return 1!==this._mouseEnableState&&this.isMouseEvent(C$99t)?(this.mouseEnabled=!0,this._setBit(2,!0),this._parent&&this._$2__onDisplay(),this._createListener(C$99t,C$99e,C$99i,C$99n,!1)):C$99Rt.prototype.on.call(this,C$99t,C$99e,C$99i,C$99n)},C$99n.once=function(C$99t,C$99e,C$99i,C$99n){return 1!==this._mouseEnableState&&this.isMouseEvent(C$99t)?(this.mouseEnabled=!0,this._setBit(2,!0),this._parent&&this._$2__onDisplay(),this._createListener(C$99t,C$99e,C$99i,C$99n,!0)):C$99Rt.prototype.once.call(this,C$99t,C$99e,C$99i,C$99n)},C$99n._$2__onDisplay=function(){if(1!==this._mouseEnableState){var C$99t=this;for(C$99t=C$99t.parent;C$99t&&1!==C$99t._mouseEnableState&&!C$99t._getBit(2);)C$99t.mouseEnabled=!0,C$99t._setBit(2,!0),C$99t=C$99t.parent}},C$99n.loadImage=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=this;return void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0),this.graphics.loadImage(C$99t,C$99e,C$99i,C$99n,C$99r,function(C$99t){C$99a.destroyed||(C$99a.size(C$99e+(C$99n||C$99t.width),C$99i+(C$99r||C$99t.height)),C$99a.repaint(),C$99s&&C$99s.runWith(C$99t))}),this},C$99n.repaint=function(){this.conchModel&&this.conchModel.repaint&&this.conchModel.repaint(),0===this._repaint&&(this._repaint=1,this.parentRepaint()),this._$P&&this._$P.maskParent&&this._$P.maskParent.repaint()},C$99n._needRepaint=function(){return 0!==this._repaint&&this._$P.cacheCanvas&&this._$P.cacheCanvas.reCache},C$99n._childChanged=function(C$99t){this._childs.length?this._renderType|=2048:this._renderType&=-2049,C$99t&&this._get$P("hasZorder")&&C$99b.timer.callLater(this,this.updateZOrder),this.repaint()},C$99n.parentRepaint=function(){var C$99t=this._parent;C$99t&&0===C$99t._repaint&&(C$99t._repaint=1,C$99t.parentRepaint())},C$99n.startDrag=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){void 0===C$99e&&(C$99e=!1),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=300),void 0===C$99s&&(C$99s=!1),void 0===C$99a&&(C$99a=.92),this._$P.dragging||this._set$P("dragging",new C$99H),this._$P.dragging.start(this,C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a)},C$99n.stopDrag=function(){this._$P.dragging&&this._$P.dragging.stop()},C$99n._releaseMem=function(){var C$99t;this._$P&&((C$99t=this._$P.cacheCanvas)&&C$99t.ctx&&(C$99Y.recover("RenderContext",C$99t.ctx),C$99t.ctx.canvas.size(0,0),C$99t.ctx=null),(C$99t=this._$P._filterCache)&&(C$99t.destroy(),C$99t.recycle(),this._set$P("_filterCache",null)),this._$P._isHaveGlowFilter&&this._set$P("_isHaveGlowFilter",!1),this._$P._isHaveGlowFilter=null)},C$99n._setDisplay=function(C$99t){C$99t||this._releaseMem(),C$99Rt.prototype._setDisplay.call(this,C$99t)},C$99n.hitTestPoint=function(C$99t,C$99e){var C$99i=this.globalToLocal(C$99R.TEMP.setTo(C$99t,C$99e));return C$99t=C$99i.x,C$99e=C$99i.y,(this._$P.hitArea||(0<this._width&&0<this._height?C$99P.TEMP.setTo(0,0,this._width,this._height):this.getSelfBounds())).contains(C$99t,C$99e)},C$99n.getMousePoint=function(){return this.globalToLocal(C$99R.TEMP.setTo(C$99b.stage.mouseX,C$99b.stage.mouseY))},C$99n._getWords=function(){return null},C$99n._addChildsToLayout=function(C$99t){var C$99e=this._getWords();if(null==C$99e&&0==this._childs.length)return!1;if(C$99e)for(var C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)C$99t.push(C$99e[C$99i]);C$99i=0;for(var C$99r=this._childs.length;C$99i<C$99r;++C$99i){var C$99s=this._childs[C$99i];C$99s._style._enableLayout()&&C$99s._addToLayout(C$99t)}return!0},C$99n._addToLayout=function(C$99t){this._style.absolute||(this._style.block?C$99t.push(this):this._addChildsToLayout(C$99t)&&(this.x=this.y=0))},C$99n._isChar=function(){return!1},C$99n._getCSSStyle=function(){return this._style.getCSSStyle()},C$99n._setAttributes=function(C$99t,C$99e){switch(C$99t){case"x":this.x=parseFloat(C$99e);break;case"y":this.y=parseFloat(C$99e);break;case"width":this.width=parseFloat(C$99e);break;case"height":this.height=parseFloat(C$99e);break;default:this[C$99t]=C$99e}},C$99n._layoutLater=function(){this.parent&&this.parent._layoutLater()},C$99t(0,C$99n,"optimizeScrollRect",function(){return this._optimizeScrollRect},function(C$99t){this._optimizeScrollRect!=C$99t&&(this._optimizeScrollRect=C$99t,this.conchModel&&this.conchModel.optimizeScrollRect(C$99t))}),C$99t(0,C$99n,"customRenderEnable",null,function(C$99t){C$99t&&(this._renderType|=1024,C$99M.isConchNode)&&(ngjab.CustomList.push(this),(C$99t=new C$99gt("2d"))._setContext(new CanvasRenderingContext2D),this.customContext=new C$99N(0,0,C$99t),C$99t.context.setCanvasType&&C$99t.context.setCanvasType(2),this.conchModel.custom(C$99t.context))}),C$99t(0,C$99n,"cacheAsBitmap",function(){return"none"!==this.cacheAs},function(C$99t){this.cacheAs=!C$99t||this._$P.hasFilter?"none":"normal"}),C$99t(0,C$99n,"cacheAs",function(){return null==this._$P.cacheCanvas?"none":this._$P.cacheCanvas.type},function(C$99t){var C$99e=this._$P.cacheCanvas;C$99t!==(C$99e?C$99e.type:"none")&&("none"!==C$99t?(this._getBit(1)||this._setUpNoticeType(1),(C$99e=C$99e||this._set$P("cacheCanvas",C$99Y.getItemByClass("cacheCanvas",Object))).type=C$99t,C$99e.reCache=!0,this._renderType|=16,"bitmap"==C$99t&&this.conchModel&&this.conchModel.cacheAs(1),this._set$P("cacheForFilters",!1)):this._$P._mask||(this._$P.hasFilter?this._set$P("cacheForFilters",!0):(C$99e&&((C$99t=C$99e)&&C$99t.ctx&&(C$99Y.recover("RenderContext",C$99t.ctx),C$99t.ctx.canvas.size(0,0),C$99t.ctx=null),C$99Y.recover("cacheCanvas",C$99e)),this._$P.cacheCanvas=null,this._renderType&=-17,this.conchModel&&this.conchModel.cacheAs(0))),this.repaint())}),C$99t(0,C$99n,"zOrder",function(){return this._zOrder},function(C$99t){this._zOrder!=C$99t&&(this._zOrder=C$99t,this.conchModel&&this.conchModel.setZOrder&&this.conchModel.setZOrder(C$99t),this._parent&&(C$99t&&this._parent._set$P("hasZorder",!0),C$99b.timer.callLater(this._parent,this.updateZOrder)))}),C$99t(0,C$99n,"rotation",function(){return this._style._tf.rotate},function(C$99t){var C$99e=this.getStyle();C$99e._tf.rotate!==C$99t&&(C$99e.setRotate(C$99t),this._tfChanged=!0,this.conchModel&&this.conchModel.rotate(C$99t),this._renderType|=4,(C$99e=this._parent)&&0===C$99e._repaint&&(C$99e._repaint=1,C$99e.parentRepaint()))}),C$99t(0,C$99n,"width",function(){return this.autoSize?this.getSelfBounds().width:this._width},function(C$99t){this._width!==C$99t&&(this._width=C$99t,this.conchModel&&this.conchModel.size(C$99t,this._height),this.repaint())}),C$99t(0,C$99n,"x",function(){return this._x},function(C$99t){this._x!==C$99t&&(this.destroyed||(this._x=C$99t,this.conchModel&&this.conchModel.pos(C$99t,this._y),(C$99t=this._parent)&&0===C$99t._repaint&&(C$99t._repaint=1,C$99t.parentRepaint()),this._$P.maskParent&&0===this._$P.maskParent._repaint&&(this._$P.maskParent._repaint=1,this._$P.maskParent.parentRepaint())))}),C$99t(0,C$99n,"globalScaleY",function(){for(var C$99t=1,C$99e=this;C$99e&&C$99e!==C$99b.stage;)C$99t*=C$99e.scaleY,C$99e=C$99e.parent;return C$99t}),C$99t(0,C$99n,"hitArea",function(){return this._$P.hitArea},function(C$99t){this._set$P("hitArea",C$99t)}),C$99t(0,C$99n,"staticCache",function(){return this._$P.staticCache},function(C$99t){this._set$P("staticCache",C$99t),C$99t||this.reCache()}),C$99t(0,C$99n,"texture",function(){return this._texture},function(C$99t){this._texture!=C$99t&&(this._texture=C$99t,this.graphics.cleanByTexture(C$99t,0,0))}),C$99t(0,C$99n,"y",function(){return this._y},function(C$99t){this._y!==C$99t&&(this.destroyed||(this._y=C$99t,this.conchModel&&this.conchModel.pos(this._x,C$99t),(C$99t=this._parent)&&0===C$99t._repaint&&(C$99t._repaint=1,C$99t.parentRepaint()),this._$P.maskParent&&0===this._$P.maskParent._repaint&&(this._$P.maskParent._repaint=1,this._$P.maskParent.parentRepaint())))}),C$99t(0,C$99n,"height",function(){return this.autoSize?this.getSelfBounds().height:this._height},function(C$99t){this._height!==C$99t&&(this._height=C$99t,this.conchModel&&this.conchModel.size(this._width,C$99t),this.repaint())}),C$99t(0,C$99n,"blendMode",function(){return this._style.blendMode},function(C$99t){this.getStyle().blendMode=C$99t,this.conchModel&&this.conchModel.blendMode(C$99t),C$99t&&"source-over"!=C$99t?this._renderType|=8:this._renderType&=-9,this.parentRepaint()}),C$99t(0,C$99n,"scaleX",function(){return this._style._tf.scaleX},function(C$99t){var C$99e=this.getStyle();C$99e._tf.scaleX!==C$99t&&(C$99e.setScaleX(C$99t),this._tfChanged=!0,this.conchModel&&this.conchModel.scale(C$99t,C$99e._tf.scaleY),this._renderType|=4,(C$99t=this._parent)&&0===C$99t._repaint&&(C$99t._repaint=1,C$99t.parentRepaint()))}),C$99t(0,C$99n,"scaleY",function(){return this._style._tf.scaleY},function(C$99t){var C$99e=this.getStyle();C$99e._tf.scaleY!==C$99t&&(C$99e.setScaleY(C$99t),this._tfChanged=!0,this.conchModel&&this.conchModel.scale(C$99e._tf.scaleX,C$99t),this._renderType|=4,(C$99e=this._parent)&&0===C$99e._repaint&&(C$99e._repaint=1,C$99e.parentRepaint()))}),C$99t(0,C$99n,"stage",function(){return C$99b.stage}),C$99t(0,C$99n,"skewX",function(){return this._style._tf.skewX},function(C$99t){var C$99e=this.getStyle();C$99e._tf.skewX!==C$99t&&(C$99e.setSkewX(C$99t),this._tfChanged=!0,this.conchModel&&this.conchModel.skew(C$99t,C$99e._tf.skewY),this._renderType|=4,(C$99t=this._parent)&&0===C$99t._repaint&&(C$99t._repaint=1,C$99t.parentRepaint()))}),C$99t(0,C$99n,"scrollRect",function(){return this._style.scrollRect},function(C$99t){this.getStyle().scrollRect=C$99t,this.repaint(),C$99t?(this._renderType|=128,this.conchModel&&this.conchModel.scrollRect(C$99t.x,C$99t.y,C$99t.width,C$99t.height)):(this._renderType&=-129,this.conchModel&&(ngjab.RUNTIMEVERION<"0.9.1"?this.conchModel.removeType(64):this.conchModel.removeType(128)))}),C$99t(0,C$99n,"skewY",function(){return this._style._tf.skewY},function(C$99t){var C$99e=this.getStyle();C$99e._tf.skewY!==C$99t&&(C$99e.setSkewY(C$99t),this._tfChanged=!0,this.conchModel&&this.conchModel.skew(C$99e._tf.skewX,C$99t),this._renderType|=4,(C$99e=this._parent)&&0===C$99e._repaint&&(C$99e._repaint=1,C$99e.parentRepaint()))}),C$99t(0,C$99n,"transform",function(){return this._tfChanged?this._adjustTransform():this._transform},function(C$99t){this._tfChanged=!1,(this._transform=C$99t)&&(this._x=C$99t.tx,this._y=C$99t.ty,C$99t.tx=C$99t.ty=0,this.conchModel&&this.conchModel.transform(C$99t.a,C$99t.b,C$99t.c,C$99t.d,this._x,this._y)),C$99t?this._renderType|=4:(this._renderType&=-5,this.conchModel&&this.conchModel.removeType(4)),this.parentRepaint()}),C$99t(0,C$99n,"pivotX",function(){return this._style._tf.translateX},function(C$99t){this.getStyle().setTranslateX(C$99t),this.conchModel&&this.conchModel.pivot(C$99t,this._style._tf.translateY),this.repaint()}),C$99t(0,C$99n,"pivotY",function(){return this._style._tf.translateY},function(C$99t){this.getStyle().setTranslateY(C$99t),this.conchModel&&this.conchModel.pivot(this._style._tf.translateX,C$99t),this.repaint()}),C$99t(0,C$99n,"alpha",function(){return this._style.alpha},function(C$99t){this._style&&this._style.alpha!==C$99t&&(C$99t=C$99t<0?0:1<C$99t?1:C$99t,this.getStyle().alpha=C$99t,this.conchModel&&this.conchModel.alpha(C$99t),1!==C$99t?this._renderType|=2:this._renderType&=-3,this.parentRepaint())}),C$99t(0,C$99n,"visible",function(){return this._style.visible},function(C$99t){this._style&&this._style.visible!==C$99t&&(this.getStyle().visible=C$99t,this.conchModel&&this.conchModel.visible(C$99t),this.parentRepaint())}),C$99t(0,C$99n,"graphics",function(){return this._graphics||(this.graphics=C$99m.createGraphics())},function(C$99t){this._graphics&&(this._graphics._sp=null),(this._graphics=C$99t)?(this._renderType&=-2,this._renderType|=512,(C$99t._sp=this).conchModel&&this.conchModel.graphics(this._graphics)):(this._renderType&=-513,this._renderType&=-2,this.conchModel&&(ngjab.RUNTIMEVERION<"0.9.1"?this.conchModel.removeType(256):this.conchModel.removeType(512))),this.repaint()}),C$99t(0,C$99n,"filters",function(){return this._$P.filters},function(C$99t){C$99t&&0===C$99t.length&&(C$99t=null),this._$P.filters!=C$99t&&(this._set$P("filters",C$99t?C$99t.slice():null),C$99M.isConchApp&&(this.conchModel&&(ngjab.RUNTIMEVERION<"0.9.1"?this.conchModel.removeType(16):this.conchModel.removeType(32)),this._$P.filters&&1==this._$P.filters.length&&this._$P.filters[0].callNative(this)),C$99M.isWebGL&&(C$99t&&C$99t.length?this._renderType|=32:this._renderType&=-33),C$99t&&0<C$99t.length?(this._getBit(1)||this._setUpNoticeType(1),C$99M.isWebGL&&1==C$99t.length&&C$99t[0]instanceof laya.filters.ColorFilter||("bitmap"!=this.cacheAs&&(C$99M.isConchNode||(this.cacheAs="bitmap"),this._set$P("cacheForFilters",!0)),this._set$P("hasFilter",!0))):(this._set$P("hasFilter",!1),this._$P.cacheForFilters&&"bitmap"==this.cacheAs&&(this.cacheAs="none")),this.repaint())}),C$99t(0,C$99n,"parent",C$99Rt.prototype._$get_parent,function(C$99t){C$99b.superSet(C$99it,this,"parent",C$99t),C$99t&&this._getBit(2)&&this._$2__onDisplay()}),C$99t(0,C$99n,"mask",function(){return this._$P._mask},function(C$99t){C$99t&&this.mask&&this.mask._$P.maskParent||(C$99t?(this.cacheAs="bitmap",this._set$P("_mask",C$99t),C$99t._set$P("maskParent",this)):(this.mask&&this.mask._set$P("maskParent",null),this._set$P("_mask",C$99t),this.cacheAs="none"),this.conchModel&&this.conchModel.mask(C$99t?C$99t.conchModel:null),this._renderType|=64,this.parentRepaint())}),C$99t(0,C$99n,"mouseEnabled",function(){return 1<this._mouseEnableState},function(C$99t){this._mouseEnableState=C$99t?2:1}),C$99t(0,C$99n,"globalScaleX",function(){for(var C$99t=1,C$99e=this;C$99e&&C$99e!==C$99b.stage;)C$99t*=C$99e.scaleX,C$99e=C$99e.parent;return C$99t}),C$99t(0,C$99n,"mouseX",function(){return this.getMousePoint().x}),C$99t(0,C$99n,"mouseY",function(){return this.getMousePoint().y}),ngjab.fromImage=function(C$99t){return(new ngjab).loadImage(C$99t)},ngjab._cachePool=[],ngjab.CustomList=[],C$99a(ngjab,["RUNTIMEVERION",function(){return this.RUNTIMEVERION=C$99s.conch?conchConfig.getRuntimeVersion().substr(conchConfig.getRuntimeVersion().lastIndexOf("-")+1):""}]),ngjab),C$99dt=(C$99o(vp9f$,"laya.media.h5audio.AudioSoundChannel",C$99e),(C$99n=vp9f$.prototype).__onEnd=function(){if(1==this.loops)return this.completeHandler&&(C$99b.timer.once(10,this,this.__runComplete,[this.completeHandler],!1),this.completeHandler=null),this.stop(),void this.event("complete");0<this.loops&&this.loops--,this.startTime=0,this.play(!0)},C$99n.__resumePlay=function(){this._audio&&this._audio.removeEventListener("canplay",this._resumePlay);try{this._audio.currentTime=this.startTime,C$99S.container.appendChild(this._audio),this._audio.play()}catch(C$99t){this.event("error")}},C$99n.play=function(C$99t){this.isStopped=!1;try{this._audio.playbackRate=C$99L.playbackRate,this._audio.currentTime=this.startTime}catch(C$99t){return void this._audio.addEventListener("canplay",this._resumePlay)}C$99L.addChannel(this),C$99S.container.appendChild(this._audio),!C$99t&&this.startHandler&&this.startHandler.runWith(this),"play"in this._audio&&this._audio.play()},C$99n.stop=function(){this.isStopped=!0,C$99L.removeChannel(this),this.startHandler=null,this.completeHandler=null,this._audio&&("pause"in this._audio&&C$99M.isConchApp&&this._audio.stop(),this._audio.pause(),this._audio.removeEventListener("ended",this._onEnd),this._audio.removeEventListener("canplay",this._resumePlay),C$99S.onIE||this._audio!=C$99rt._musicAudio&&C$99Y.recover("audio:"+this.url,this._audio),C$99S.removeElement(this._audio),this._audio=null)},C$99n.pause=function(){this.isStopped=!0,C$99L.removeChannel(this),"pause"in this._audio&&this._audio.pause()},C$99n.resume=function(){this._audio&&(this.isStopped=!1,C$99L.addChannel(this),this.startHandler&&this.startHandler.runWith(this),"play"in this._audio&&this._audio.play())},C$99t(0,C$99n,"position",function(){return this._audio?this._audio.currentTime:0}),C$99t(0,C$99n,"duration",function(){return this._audio?this._audio.duration:0}),C$99t(0,C$99n,"volume",function(){return this._audio?this._audio.volume:1},function(C$99t){this._audio&&(this._audio.volume=C$99t)}),vp9f$),C$99ft=(C$99o(_5whm,"laya.media.webaudio.WebAudioSoundChannel",C$99e),(C$99n=_5whm.prototype).play=function(C$99t){var C$99e,C$99i,C$99n;C$99L.addChannel(this),this.isStopped=!1,this._clearBufferSource(),this.audioBuffer&&(C$99e=this.context,C$99i=this.gain,C$99n=C$99e.createBufferSource(),(this.bufferSource=C$99n).buffer=this.audioBuffer,C$99n.connect(C$99i),C$99i&&C$99i.disconnect(),C$99i.connect(C$99e.destination),C$99n.onended=this._onPlayEnd,this.startTime>=this.duration&&(this.startTime=0),this._startTime=C$99S.now(),this.gain.gain.setTargetAtTime?this.gain.gain.setTargetAtTime(this._volume,this.context.currentTime,.1):this.gain.gain.value=this._volume,0==this.loops&&(C$99n.loop=!0),C$99n.playbackRate.setTargetAtTime?C$99n.playbackRate.setTargetAtTime(C$99L.playbackRate,this.context.currentTime,.1):C$99n.playbackRate.value=C$99L.playbackRate,C$99n.start(0,this.startTime),!C$99t&&this.startHandler&&this.startHandler.runWith(this),this._currentTime=0)},C$99n.__onPlayEnd=function(){if(1==this.loops)return this.completeHandler&&(C$99b.timer.once(10,this,this.__runComplete,[this.completeHandler],!1),this.completeHandler=null),this.stop(),void this.event("complete");0<this.loops&&this.loops--,this.startTime=0,this.play(!0)},C$99n._clearBufferSource=function(){var C$99t;this.bufferSource&&((C$99t=this.bufferSource).stop?C$99t.stop(0):C$99t.noteOff(0),C$99t.disconnect(0),C$99t.onended=null,_5whm._tryCleanFailed||this._tryClearBuffer(C$99t),this.bufferSource=null)},C$99n._tryClearBuffer=function(C$99t){try{C$99t.buffer=null}catch(C$99t){_5whm._tryCleanFailed=!0}},C$99n.stop=function(){this._clearBufferSource(),this.audioBuffer=null,this.gain&&this.gain.disconnect(),this.isStopped=!0,C$99L.removeChannel(this),this.startHandler=null,this.completeHandler=null},C$99n.pause=function(){this.isStopped||(this._pauseTime=this.position),this._clearBufferSource(),this.gain&&this.gain.disconnect(),this.isStopped=!0,C$99L.removeChannel(this)},C$99n.resume=function(){this.startTime=this._pauseTime,this.play(!1)},C$99t(0,C$99n,"position",function(){return this.bufferSource?(C$99S.now()-this._startTime)/1e3+this.startTime:0}),C$99t(0,C$99n,"duration",function(){return this.audioBuffer?this.audioBuffer.duration:0}),C$99t(0,C$99n,"volume",function(){return this._volume},function(C$99t){this.isStopped||(this._volume=C$99t,this.gain.gain.setTargetAtTime?this.gain.gain.setTargetAtTime(C$99t,this.context.currentTime,.1):this.gain.gain.value=C$99t)}),_5whm._tryCleanFailed=!1,_5whm),C$99n=(C$99o(c2t4,"laya.resource.Bitmap",C$99i),C$99t(0,C$99e=c2t4.prototype,"width",function(){return this._w}),C$99t(0,C$99e,"height",function(){return this._h}),C$99t(0,C$99e,"source",function(){return this._source}),c2t4),C$99e=(C$99o(hw18,"laya.display.AnimationPlayerBase",C$99It=C$99ut),(C$99i=hw18.prototype).play=function(C$99t,C$99e,C$99i,C$99n){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=!0),void 0===C$99i&&(C$99i=""),void 0===C$99n&&(C$99n=!0),this._isPlaying=!0,this.index="string"==typeof C$99t?this._getFrameByLabel(C$99t):C$99t,this.loop=C$99e,this._actionName=C$99i,this._isReverse=1==this.wrapMode,0<this.interval&&this.timerLoop(this.interval,this,this._frameLoop,null,!0,!0)},C$99i._getFrameByLabel=function(C$99t){var C$99e=0;for(C$99e=0;C$99e<this._count;C$99e++)if(this._labels[C$99e]&&0<=this._labels[C$99e].indexOf(C$99t))return C$99e;return 0},C$99i._frameLoop=function(){if(this._isReverse){if(this._index--,this._index<0){if(!this.loop)return this._index=0,this.stop(),void this.event("complete");2==this.wrapMode?(this._index=0<this._count?1:0,this._isReverse=!1):this._index=this._count-1,this.event("complete")}}else if(this._index++,this._index>=this._count){if(!this.loop)return this._index--,this.stop(),void this.event("complete");2==this.wrapMode?(this._index=0<=this._count-2?this._count-2:0,this._isReverse=!0):this._index=0,this.event("complete")}this.index=this._index},C$99i._setControlNode=function(C$99t){this._controlNode&&(this._controlNode.off("display",this,this._checkResumePlaying),this._controlNode.off("undisplay",this,this._checkResumePlaying)),(this._controlNode=C$99t)&&C$99t!=this&&(C$99t.on("display",this,this._checkResumePlaying),C$99t.on("undisplay",this,this._checkResumePlaying))},C$99i._setDisplay=function(C$99t){C$99It.prototype._setDisplay.call(this,C$99t),this._checkResumePlaying()},C$99i._checkResumePlaying=function(){this._isPlaying&&(this._controlNode.displayedInStage?this.play(this._index,this.loop,this._actionName):this.clearTimer(this,this._frameLoop))},C$99i.stop=function(){this._isPlaying=!1,this.clearTimer(this,this._frameLoop)},C$99i.addLabel=function(C$99t,C$99e){this._labels||(this._labels={}),this._labels[C$99e]||(this._labels[C$99e]=[]),this._labels[C$99e].push(C$99t)},C$99i.removeLabel=function(C$99t){if(C$99t){if(this._labels)for(var C$99e in this._labels)this._removeLabelFromLabelList(this._labels[C$99e],C$99t)}else this._labels=null},C$99i._removeLabelFromLabelList=function(C$99t,C$99e){if(C$99t)for(var C$99i=C$99t.length-1;0<=C$99i;C$99i--)C$99t[C$99i]==C$99e&&C$99t.splice(C$99i,1)},C$99i.gotoAndStop=function(C$99t){this.index="string"==typeof C$99t?this._getFrameByLabel(C$99t):C$99t,this.stop()},C$99i._displayToIndex=function(C$99t){},C$99i.clear=function(){this.stop(),this._labels=null},C$99t(0,C$99i,"interval",function(){return this._interval},function(C$99t){this._interval!=C$99t&&(this._frameRateChanged=!0,this._interval=C$99t,this._isPlaying&&0<C$99t&&this.timerLoop(C$99t,this,this._frameLoop,null,!0,!0))}),C$99t(0,C$99i,"isPlaying",function(){return this._isPlaying}),C$99t(0,C$99i,"index",function(){return this._index},function(C$99t){if(this._index=C$99t,this._displayToIndex(C$99t),this._labels&&this._labels[C$99t])for(var C$99e=this._labels[C$99t],C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)this.event("label",C$99e[C$99i])}),C$99t(0,C$99i,"count",function(){return this._count}),hw18.WRAP_POSITIVE=0,hw18.WRAP_REVERSE=1,hw18.WRAP_PINGPONG=2,hw18),C$99pt=(C$99o(icv$t9,"laya.display.Text",C$99At=C$99ut),(C$99i=icv$t9.prototype).destroy=function(C$99t){C$99At.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._lines=null,this._words&&(this._words.length=0,this._words=null)},C$99i._getBoundPointsM=function(C$99t){void 0===C$99t&&(C$99t=!1);C$99t=C$99P.TEMP;return C$99t.setTo(0,0,this.width,this.height),C$99t._getBoundPoints()},C$99i.getGraphicBounds=function(C$99t){void 0===C$99t&&(C$99t=!1);C$99t=C$99P.TEMP;return C$99t.setTo(0,0,this.width,this.height),C$99t},C$99i._getCSSStyle=function(){return this._style},C$99i.lang=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99l,C$99c,C$99_,C$99u){if(C$99t=icv$t9.langPacks&&icv$t9.langPacks[C$99t]?icv$t9.langPacks[C$99t]:C$99t,arguments.length<2)this._text=C$99t;else{for(var C$99o=0,C$99h=arguments.length;C$99o<C$99h;C$99o++)C$99t=C$99t.replace("{"+C$99o+"}",arguments[C$99o+1]);this._text=C$99t}},C$99i._isPassWordMode=function(){var C$99t=this._style.password;return C$99t="prompt"in this&&this.prompt==this._text?!1:C$99t},C$99i._getPassWordTxt=function(C$99t){var C$99e;C$99e="";for(var C$99i=C$99t.length;0<C$99i;C$99i--)C$99e+="\u25cf";return C$99e},C$99i.renderText=function(C$99c,C$99_){var C$99t=this.graphics;C$99t.clear(!0);var C$99u=(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.fontSize+"px "+(C$99S.onIPhone&&laya.display.Text._fontFamilyMap[this.font]||this.font);C$99S.context.font=C$99u;var C$99e=this.padding,C$99d=C$99e[3],C$99i="left",C$99f=this._lines,C$99p=this.leading+this._charSize.height,C$99n=this._currBitmapFont;C$99n&&(C$99p=this.leading+C$99n.getMaxHeight());var C$99m=C$99e[0];!C$99n&&0<this._width&&this._textWidth<=this._width&&("right"==this.align?(C$99i="right",C$99d=this._width-C$99e[1]):"center"==this.align&&(C$99i="center",C$99d=.5*this._width+C$99e[3]-C$99e[1])),0<this._height&&("middle"===(C$99l=this._textHeight>this._height?"top":this.valign)?C$99m=.5*(this._height-C$99_*C$99p)+C$99e[0]-C$99e[2]:"bottom"===C$99l&&(C$99m=this._height-C$99_*C$99p-C$99e[2]));var C$99g=this._style;var C$99r;var C$99v;C$99n&&C$99n.autoScaleSize&&(C$99r=C$99n.fontSize/this.fontSize),this._clipPoint&&(C$99t.save(),C$99n&&C$99n.autoScaleSize?(C$99v=C$99l=0,C$99l=this._width?this._width-C$99e[3]-C$99e[1]:this._textWidth,C$99v=this._height?this._height-C$99e[0]-C$99e[2]:this._textHeight,C$99t.clipRect(C$99e[3],C$99e[0],C$99l*=C$99r,C$99v*=C$99r)):C$99t.clipRect(C$99e[3],C$99e[0],this._width?this._width-C$99e[3]-C$99e[1]:this._textWidth,this._height?this._height-C$99e[0]-C$99e[2]:this._textHeight));var C$99x=C$99g.password;"prompt"in this&&this.prompt==this._text&&(C$99x=!1);for(var C$99s,C$99y=Math.min(this._lines.length,C$99_+C$99c)||1,C$99a=C$99c;C$99a<C$99y;C$99a++){var C$99b,C$99o=C$99f[C$99a];if(C$99x){var C$99h=C$99o.length;C$99o="";for(var C$99w=C$99h;0<C$99w;C$99w--)C$99o+="\u25cf"}var C$99T;C$99h=C$99d-(this._clipPoint?this._clipPoint.x:0),C$99s=C$99m+C$99p*C$99a-(this._clipPoint?this._clipPoint.y:0),this.underline&&this.drawUnderline(C$99i,C$99h,C$99s,C$99a),C$99n?(C$99T=this.width,C$99n.autoScaleSize&&(C$99T=this.width*C$99r),C$99n.drawText(C$99o,this,C$99h,C$99s,this.align,C$99T)):(C$99M.isWebGL?(this._words||(this._words=[]),(C$99b=this._words.length>C$99a-C$99c?this._words[C$99a-C$99c]:new C$99et).setText(C$99o)):C$99b=C$99o,C$99g.stroke?C$99t.fillBorderText(C$99b,C$99h,C$99s,C$99u,this.color,C$99g.strokeColor,C$99g.stroke,C$99i):C$99t.fillText(C$99b,C$99h,C$99s,C$99u,this.color,C$99i))}var C$99l;C$99n&&C$99n.autoScaleSize&&this.scale(C$99l=1/C$99r,C$99l),this._clipPoint&&C$99t.restore(),this._startX=C$99d,this._startY=C$99m},C$99i.drawUnderline=function(C$99t,C$99e,C$99i,C$99n){var C$99r=this._lineWidths[C$99n];switch(C$99t){case"center":C$99e-=C$99r/2;break;case"right":C$99e-=C$99r}C$99i+=this._charSize.height,this._graphics.drawLine(C$99e,C$99i,C$99e+C$99r,C$99i,this.underlineColor||this.color,1)},C$99i.typeset=function(){if(this._isChanged=!1,!this._text)return this._clipPoint=null,this._textWidth=this._textHeight=0,void this.graphics.clear(!0);C$99S.context.font=this._getCSSStyle().font,this._lines.length=0,this._lineWidths.length=0,this._isPassWordMode()?this.parseLines(this._getPassWordTxt(this._text)):this.parseLines(this._text),this.evalTextSize(),this.checkEnabledViewportOrNot()?this._clipPoint||(this._clipPoint=new C$99R(0,0)):this._clipPoint=null;var C$99t=this._lines.length;this.overflow!=icv$t9.VISIBLE&&(C$99e=this.overflow==icv$t9.HIDDEN?Math.floor:Math.ceil,C$99t=Math.min(C$99t,C$99e((this.height-this.padding[0]-this.padding[2])/(this.leading+this._charSize.height))));var C$99e=this.scrollY/(this._charSize.height+this.leading)|0;this.renderText(C$99e,C$99t),this.repaint()},C$99i.evalTextSize=function(){var C$99t,C$99e;C$99t=Math.max.apply(this,this._lineWidths),C$99e=this._currBitmapFont?this._lines.length*(this._currBitmapFont.getMaxHeight()+this.leading)+this.padding[0]+this.padding[2]:this._lines.length*(this._charSize.height+this.leading)+this.padding[0]+this.padding[2],C$99t==this._textWidth&&C$99e==this._textHeight||(this._textWidth=C$99t,this._textHeight=C$99e,this._width&&this._height||this.conchModel&&this.conchModel.size(this._width||this._textWidth,this._height||this._textHeight))},C$99i.checkEnabledViewportOrNot=function(){return this.overflow==icv$t9.SCROLL&&(0<this._width&&this._textWidth>this._width||0<this._height&&this._textHeight>this._height)},C$99i.changeText=function(C$99t){this._text!==C$99t&&(this.lang(C$99t+""),this._graphics&&this._graphics.replaceText(this._text)||this.typeset())},C$99i.parseLines=function(C$99t){var C$99e=this.wordWrap||this.overflow==icv$t9.HIDDEN;var C$99i;var C$99n;C$99e&&(C$99i=this.getWordWrapWidth()),this._currBitmapFont?(this._charSize.width=this._currBitmapFont.getMaxWidth(),this._charSize.height=this._currBitmapFont.getMaxHeight()):(C$99n=C$99Q.contextMeasureText(icv$t9._testWord),C$99M.isConchApp&&0===C$99n.width&&0===C$99n.height&&(C$99n=C$99Q.contextMeasureText("W")),this._charSize.width=C$99n.width,this._charSize.height=C$99n.height||this.fontSize);for(var C$99r=C$99t.replace(/\r\n/g,"\n").split("\n"),C$99s=0,C$99a=C$99r.length;C$99s<C$99a;C$99s++){var C$99o=C$99r[C$99s];C$99e?this.parseLine(C$99o,C$99i):(this._lineWidths.push(this.getTextWidth(C$99o)),this._lines.push(C$99o))}},C$99i.parseLine=function(C$99t,C$99c){C$99S.context;var C$99e,C$99i=this._lines,C$99n=0,C$99r=NaN,C$99s=NaN,C$99a=0;if((C$99r=this.getTextWidth(C$99t))<=C$99c)return C$99i.push(C$99t),void this._lineWidths.push(C$99r);C$99r=this._charSize.width,0==(C$99n=Math.floor(C$99c/C$99r))&&(C$99n=1),C$99s=C$99r=this.getTextWidth(C$99t.substring(0,C$99n));for(var C$99o=C$99n,C$99h=C$99t.length;C$99o<C$99h;C$99o++)if(C$99c<(C$99s+=C$99r=this.getTextWidth(C$99t.charAt(C$99o))))if(this.wordWrap){var C$99l=C$99t.substring(C$99a,C$99o);if(C$99l.charCodeAt(C$99l.length-1)<255?(C$99e=/(?:\w|-)+$/.exec(C$99l))&&(C$99o=C$99e.index+C$99a,0==C$99e.index?C$99o+=C$99l.length:C$99l=C$99t.substring(C$99a,C$99o)):icv$t9.RightToLeft&&(C$99e=/([\u0600-\u06FF])+$/.exec(C$99l))&&(C$99o=C$99e.index+C$99a,0==C$99e.index?C$99o+=C$99l.length:C$99l=C$99t.substring(C$99a,C$99o)),C$99i.push(C$99l),this._lineWidths.push(C$99s-C$99r),!((C$99a=C$99o)+C$99n<C$99h)){C$99i.push(C$99t.substring(C$99a,C$99h)),this._lineWidths.push(this.getTextWidth(C$99i[C$99i.length-1])),C$99a=-1;break}C$99o+=C$99n,C$99s=C$99r=this.getTextWidth(C$99t.substring(C$99a,C$99o)),C$99o--}else if(this.overflow==icv$t9.HIDDEN)return C$99i.push(C$99t.substring(0,C$99o)),void this._lineWidths.push(this.getTextWidth(C$99i[C$99i.length-1]));this.wordWrap&&-1!=C$99a&&(C$99i.push(C$99t.substring(C$99a,C$99h)),this._lineWidths.push(this.getTextWidth(C$99i[C$99i.length-1])))},C$99i.getTextWidth=function(C$99t){return this._currBitmapFont?this._currBitmapFont.getTextWidth(C$99t):C$99Q.contextMeasureText(C$99t).width},C$99i.getWordWrapWidth=function(){var C$99t=this.padding,C$99e=NaN;return(C$99e=(C$99e=(C$99e=this._currBitmapFont&&this._currBitmapFont.autoScaleSize?this._width*(this._currBitmapFont.fontSize/this.fontSize):this._width)<=0?this.wordWrap?100:C$99S.width:C$99e)<=0?100:C$99e)-C$99t[3]-C$99t[1]},C$99i.getCharPoint=function(C$99t,C$99e){this._isChanged&&C$99b.timer.runCallLater(this,this.typeset);for(var C$99i=0,C$99n=this._lines,C$99r=0,C$99s=0,C$99a=C$99n.length;C$99s<C$99a;C$99s++){if(C$99t<(C$99i+=C$99n[C$99s].length)){var C$99o=C$99s;break}C$99r=C$99i}var C$99h=(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.fontSize+"px "+this.font;C$99S.context.font=C$99h;C$99h=this.getTextWidth(this._text.substring(C$99r,C$99t));return(C$99e||new C$99R).setTo(this._startX+C$99h-(this._clipPoint?this._clipPoint.x:0),this._startY+C$99o*(this._charSize.height+this.leading)-(this._clipPoint?this._clipPoint.y:0))},C$99t(0,C$99i,"width",function(){return this._width||this.textWidth+this.padding[1]+this.padding[3]},function(C$99t){C$99t!=this._width&&(C$99b.superSet(C$99ut,this,"width",C$99t),this.isChanged=!0)}),C$99t(0,C$99i,"textWidth",function(){return this._isChanged&&C$99b.timer.runCallLater(this,this.typeset),this._textWidth}),C$99t(0,C$99i,"height",function(){return this._height||this.textHeight},function(C$99t){C$99t!=this._height&&(C$99b.superSet(C$99ut,this,"height",C$99t),this.isChanged=!0)}),C$99t(0,C$99i,"textHeight",function(){return this._isChanged&&C$99b.timer.runCallLater(this,this.typeset),this._textHeight}),C$99t(0,C$99i,"padding",function(){return this._getCSSStyle().padding},function(C$99t){this._getCSSStyle().padding=C$99t,this.isChanged=!0}),C$99t(0,C$99i,"bold",function(){return this._getCSSStyle().bold},function(C$99t){this._getCSSStyle().bold=C$99t,this.isChanged=!0}),C$99t(0,C$99i,"text",function(){return this._text||""},function(C$99t){this._text!==C$99t&&(this.lang(C$99t+""),this.isChanged=!0,this.event("change"))}),C$99t(0,C$99i,"color",function(){return this._getCSSStyle().color},function(C$99t){this._getCSSStyle().color!=C$99t&&(this._getCSSStyle().color=C$99t,!this._isChanged&&this._graphics?this._graphics.replaceTextColor(this.color):this.isChanged=!0)}),C$99t(0,C$99i,"font",function(){return this._getCSSStyle().fontFamily},function(C$99t){this._currBitmapFont&&(this._currBitmapFont=null,this.scale(1,1)),icv$t9._bitmapFonts&&icv$t9._bitmapFonts[C$99t]&&(this._currBitmapFont=icv$t9._bitmapFonts[C$99t]),this._getCSSStyle().fontFamily=C$99t,this.isChanged=!0}),C$99t(0,C$99i,"fontSize",function(){return this._getCSSStyle().fontSize},function(C$99t){this._getCSSStyle().fontSize=C$99t,this.isChanged=!0}),C$99t(0,C$99i,"italic",function(){return this._getCSSStyle().italic},function(C$99t){this._getCSSStyle().italic=C$99t,this.isChanged=!0}),C$99t(0,C$99i,"align",function(){return this._getCSSStyle().align},function(C$99t){this._getCSSStyle().align=C$99t,this.isChanged=!0}),C$99t(0,C$99i,"valign",function(){return this._getCSSStyle().valign},function(C$99t){this._getCSSStyle().valign=C$99t,this.isChanged=!0}),C$99t(0,C$99i,"wordWrap",function(){return this._getCSSStyle().wordWrap},function(C$99t){this._getCSSStyle().wordWrap=C$99t,this.isChanged=!0}),C$99t(0,C$99i,"leading",function(){return this._getCSSStyle().leading},function(C$99t){this._getCSSStyle().leading=C$99t,this.isChanged=!0}),C$99t(0,C$99i,"bgColor",function(){return this._getCSSStyle().backgroundColor},function(C$99t){this._getCSSStyle().backgroundColor=C$99t,this.isChanged=!0}),C$99t(0,C$99i,"borderColor",function(){return this._getCSSStyle().borderColor},function(C$99t){this._getCSSStyle().borderColor=C$99t,this.isChanged=!0}),C$99t(0,C$99i,"stroke",function(){return this._getCSSStyle().stroke},function(C$99t){this._getCSSStyle().stroke=C$99t,this.isChanged=!0}),C$99t(0,C$99i,"strokeColor",function(){return this._getCSSStyle().strokeColor},function(C$99t){this._getCSSStyle().strokeColor=C$99t,this.isChanged=!0}),C$99t(0,C$99i,"isChanged",null,function(C$99t){this._isChanged!==C$99t&&(this._isChanged=C$99t)&&C$99b.timer.callLater(this,this.typeset)}),C$99t(0,C$99i,"scrollX",function(){return this._clipPoint?this._clipPoint.x:0},function(C$99t){var C$99e,C$99i;this.overflow!=icv$t9.SCROLL||this.textWidth<this._width||!this._clipPoint||(C$99t=C$99t<this.padding[3]?this.padding[3]:C$99t,C$99e=this._textWidth-this._width,C$99i=this._height/(this._charSize.height+this.leading)|1,this._clipPoint.x=C$99t=C$99e<C$99t?C$99e:C$99t,this.renderText(this._lastVisibleLineIndex,C$99i))}),C$99t(0,C$99i,"scrollY",function(){return this._clipPoint?this._clipPoint.y:0},function(C$99t){var C$99e,C$99i;this.overflow!=icv$t9.SCROLL||this.textHeight<this._height||!this._clipPoint||(C$99t=C$99t<this.padding[0]?this.padding[0]:C$99t,C$99e=(C$99t=(C$99e=this._textHeight-this._height)<C$99t?C$99e:C$99t)/(this._charSize.height+this.leading)|0,this._lastVisibleLineIndex=C$99e,C$99i=1+(this._height/(this._charSize.height+this.leading)|0),this._clipPoint.y=C$99t,this.renderText(C$99e,C$99i))}),C$99t(0,C$99i,"maxScrollX",function(){return this.textWidth<this._width?0:this._textWidth-this._width}),C$99t(0,C$99i,"maxScrollY",function(){return this.textHeight<this._height?0:this._textHeight-this._height}),C$99t(0,C$99i,"lines",function(){return this._isChanged&&this.typeset(),this._lines}),C$99t(0,C$99i,"underlineColor",function(){return this._underlineColor},function(C$99t){this._underlineColor=C$99t,this._isChanged=!0,this.typeset()}),icv$t9.registerBitmapFont=function(C$99t,C$99e){(icv$t9._bitmapFonts=icv$t9._bitmapFonts?icv$t9._bitmapFonts:{})[C$99t]=C$99e},icv$t9.unregisterBitmapFont=function(C$99t,C$99e){var C$99i;void 0===C$99e&&(C$99e=!0),icv$t9._bitmapFonts&&icv$t9._bitmapFonts[C$99t]&&(C$99i=icv$t9._bitmapFonts[C$99t],C$99e&&C$99i.destroy(),delete icv$t9._bitmapFonts[C$99t])},icv$t9.setTextRightToLeft=function(){var C$99t;(C$99t=C$99S.canvas.source.style).display="none",C$99t.position="absolute",C$99t.direction="rtl",C$99M._mainCanvas.source.style.direction="rtl",laya.display.Text.RightToLeft=!0,C$99S.document.body.appendChild(C$99S.canvas.source)},icv$t9.supportFont=function(C$99t){C$99S.context.font="10px sans-serif";var C$99e=C$99Q.contextMeasureText("abcji").width;C$99S.context.font="10px "+C$99t;C$99t=C$99Q.contextMeasureText("abcji").width;return console.log(C$99e,C$99t),C$99e!==C$99t},icv$t9._testWord="\u6e38",icv$t9.langPacks=null,icv$t9.VISIBLE="visible",icv$t9.SCROLL="scroll",icv$t9.HIDDEN="hidden",icv$t9.CharacterCache=!0,icv$t9.RightToLeft=!1,icv$t9._bitmapFonts=null,C$99a(icv$t9,["_fontFamilyMap",function(){return this._fontFamilyMap={"\u62a5\u96b6":"\u62a5\u96b6-\u7b80","\u9ed1\u4f53":"\u9ed1\u4f53-\u7b80","\u6977\u4f53":"\u6977\u4f53-\u7b80","\u5170\u4ead\u9ed1":"\u5170\u4ead\u9ed1-\u7b80","\u96b6\u53d8":"\u96b6\u53d8-\u7b80","\u51cc\u6167\u4f53":"\u51cc\u6167\u4f53-\u7b80","\u7fe9\u7fe9\u4f53":"\u7fe9\u7fe9\u4f53-\u7b80","\u82f9\u65b9":"\u82f9\u65b9-\u7b80","\u624b\u672d\u4f53":"\u624b\u672d\u4f53-\u7b80","\u5b8b\u4f53":"\u5b8b\u4f53-\u7b80","\u5a03\u5a03\u4f53":"\u5a03\u5a03\u4f53-\u7b80","\u9b4f\u7891":"\u9b4f\u7891-\u7b80","\u884c\u6977":"\u884c\u6977-\u7b80","\u96c5\u75de":"\u96c5\u75de-\u7b80","\u5706\u4f53":"\u5706\u4f53-\u7b80"}}]),icv$t9),C$99mt=(C$99o(n513,"laya.display.Stage",C$99Et=C$99ut),(C$99i=n513.prototype)._setStageVisible=function(C$99t){this._isVisibility!=C$99t&&(this._isVisibility=C$99t,this._isVisibility||this._isInputting()&&(C$99xt.inputElement.target.focus=!1),this.event("visibilitychange"))},C$99i._isInputting=function(){return C$99S.onMobile&&C$99xt.isInputting},C$99i._changeCanvasSize=function(){this.setScreenSize(C$99S.clientWidth*C$99S.pixelRatio,C$99S.clientHeight*C$99S.pixelRatio)},C$99i._resetCanvas=function(){var C$99t;this.screenAdaptationEnabled&&((C$99t=C$99M._mainCanvas).source.style,C$99t.size(1,1),C$99b.timer.once(100,this,this._changeCanvasSize))},C$99i.setScreenSize=function(C$99t,C$99e){var C$99c=!1;"none"!==this._screenMode&&(C$99c=(C$99t/C$99e<1?"vertical":"horizontal")!==this._screenMode)&&(C$99_=C$99e,C$99e=C$99t,C$99t=C$99_),this.canvasRotation=C$99c;var C$99_=C$99M._mainCanvas,C$99i=C$99_.source.style,C$99n=this._canvasTransform.identity(),C$99u=this._scaleMode,C$99r=C$99t/this.designWidth,C$99s=C$99e/this.designHeight,C$99a=this.designWidth,C$99o=this.designHeight,C$99h=C$99t,C$99d=C$99e,C$99l=C$99S.pixelRatio;switch(this._width=this.designWidth,this._height=this.designHeight,C$99u){case"noscale":C$99r=C$99s=1,C$99h=this.designWidth,C$99d=this.designHeight;break;case"showall":C$99r=C$99s=Math.min(C$99r,C$99s),C$99a=C$99h=Math.round(this.designWidth*C$99r),C$99o=C$99d=Math.round(this.designHeight*C$99s);break;case"noborder":C$99r=C$99s=Math.max(C$99r,C$99s),C$99h=Math.round(this.designWidth*C$99r),C$99d=Math.round(this.designHeight*C$99s);break;case"full":C$99r=C$99s=1,this._width=C$99a=C$99t,this._height=C$99o=C$99e;break;case"fixedwidth":C$99s=C$99r,this._height=C$99o=Math.round(C$99e/C$99r);break;case"fixedheight":C$99r=C$99s,this._width=C$99a=Math.round(C$99t/C$99s);break;case"fixedauto":C$99t/C$99e<this.designWidth/this.designHeight?(C$99s=C$99r,this._height=C$99o=Math.round(C$99e/C$99r)):(C$99r=C$99s,this._width=C$99a=Math.round(C$99t/C$99s))}this._height=this._height+1&2147483646,this._width=this._width+1&2147483646,C$99a=C$99a+1&2147483646,C$99o=C$99o+1&2147483646,this.conchModel&&this.conchModel.size(this._width,this._height),C$99r*=this.scaleX,C$99s*=this.scaleY,1===C$99r&&1===C$99s?this.transform.identity():(this.transform.a=this._formatData(C$99r/(C$99h/C$99a)),this.transform.d=this._formatData(C$99s/(C$99d/C$99o)),this.conchModel&&this.conchModel.scale(this.transform.a,this.transform.d)),C$99_.size(C$99a,C$99o),C$99m.changeWebGLSize(C$99a,C$99o),C$99n.scale(C$99h/C$99a/C$99l,C$99d/C$99o/C$99l),"left"===this._alignH?this.offset.x=0:"right"===this._alignH?this.offset.x=(C$99t-C$99h)/C$99l:this.offset.x=.5*(C$99t-C$99h)/C$99l,"top"===this._alignV?this.offset.y=0:"bottom"===this._alignV?this.offset.y=(C$99e-C$99d)/C$99l:this.offset.y=.5*(C$99e-C$99d)/C$99l,this.offset.x=Math.round(this.offset.x),this.offset.y=Math.round(this.offset.y),C$99n.translate(this.offset.x,this.offset.y),this.canvasDegree=0,C$99c&&("horizontal"===this._screenMode?(C$99n.rotate(Math.PI/2),C$99n.translate(C$99e/C$99l,0),this.canvasDegree=90):(C$99n.rotate(-Math.PI/2),C$99n.translate(0,C$99t/C$99l),this.canvasDegree=-90)),C$99n.a=this._formatData(C$99n.a),C$99n.d=this._formatData(C$99n.d),C$99n.tx=this._formatData(C$99n.tx),C$99n.ty=this._formatData(C$99n.ty),C$99i.transformOrigin=C$99i.webkitTransformOrigin=C$99i.msTransformOrigin=C$99i.mozTransformOrigin=C$99i.oTransformOrigin="0px 0px 0px",C$99i.transform=C$99i.webkitTransform=C$99i.msTransform=C$99i.mozTransform=C$99i.oTransform="matrix("+C$99n.toString()+")",C$99n.translate(parseInt(C$99i.left)||0,parseInt(C$99i.top)||0),this.visible=!0,this._repaint=1,this.event("resize")},C$99i._formatData=function(C$99t){return Math.abs(C$99t)<1e-6?0:Math.abs(1-C$99t)<.001?0<C$99t?1:-1:C$99t},C$99i.getMousePoint=function(){return C$99R.TEMP.setTo(this.mouseX,this.mouseY)},C$99i.repaint=function(){this._repaint=1},C$99i.parentRepaint=function(){},C$99i._loop=function(){return this.render(C$99M.context,0,0),!0},C$99i._onmouseMove=function(C$99t){this._mouseMoveTime=C$99S.now()},C$99i.getTimeFromFrameStart=function(){return C$99S.now()-this._frameStartTime},C$99i.render=function(C$99t,C$99e,C$99i){if("sleep"===this._frameRate&&!C$99M.isConchApp){var C$99n=C$99S.now();if(!(1e3<=C$99n-this._frameStartTime))return this._renderCount++,void(this._renderCount%2==0&&(C$99X.loopCount++,C$99y.instance.runEvent(),C$99b.timer._update()));this._frameStartTime=C$99n}if(this._renderCount++,C$99M.isFlash&&this.repaint(),this._style.visible){this._frameStartTime=C$99S.now();var C$99n="slow"!==("mouse"===this._frameRate?this._frameStartTime-this._mouseMoveTime<2e3?"fast":"slow":this._frameRate),C$99r=this._renderCount%2==0;if(C$99X.renderSlow=!C$99n,C$99n||C$99r||C$99M.isConchApp){var C$99s;C$99X.loopCount++,C$99y.instance.runEvent(),C$99b.timer._update(),C$99m.update3DLoop();var C$99a=0,C$99o=0;if(C$99M.isConchNode)for(C$99a=0,C$99o=this._scenes.length;C$99a<C$99o;C$99a++)(C$99s=this._scenes[C$99a])&&C$99s._updateSceneConch();else for(C$99a=0,C$99o=this._scenes.length;C$99a<C$99o;C$99a++)(C$99s=this._scenes[C$99a])&&C$99s._updateScene();if(C$99M.isConchNode){var C$99h=C$99ut.CustomList;for(C$99a=0,C$99o=C$99h.length;C$99a<C$99o;C$99a++){var C$99l=C$99h[C$99a];C$99l.customRender(C$99l.customContext,0,0)}return}}C$99M.isConchNode||this.renderingEnabled&&(C$99n||!C$99r||C$99M.isConchWebGL)&&(C$99M.isWebGL?C$99M.WebGL.mainContext&&!C$99M.WebGL.mainContext.isContextLost()&&(C$99t.clear(),C$99Et.prototype.render.call(this,C$99t,C$99e,C$99i),C$99X._show&&C$99X._sp&&C$99X._sp.render(C$99t,C$99e,C$99i),C$99m.clear(this._bgColor),C$99m.beginFlush(),C$99t.flush(),C$99m.endFinish(),C$99J.instance&&C$99J.getInstance().endDispose()):(C$99m.clear(this._bgColor),C$99Et.prototype.render.call(this,C$99t,C$99e,C$99i),C$99X._show&&C$99X._sp&&C$99X._sp.render(C$99t,C$99e,C$99i)))}else this._renderCount%5==0&&(C$99X.loopCount++,C$99y.instance.runEvent(),C$99b.timer._update())},C$99i._requestFullscreen=function(){var C$99t=C$99S.document.documentElement;C$99t.requestFullscreen?C$99t.requestFullscreen():C$99t.mozRequestFullScreen?C$99t.mozRequestFullScreen():C$99t.webkitRequestFullscreen?C$99t.webkitRequestFullscreen():C$99t.msRequestFullscreen&&C$99t.msRequestFullscreen()},C$99i._fullScreenChanged=function(){C$99b.stage.event("fullscreenchange")},C$99i.exitFullscreen=function(){var C$99t=C$99S.document;C$99t.exitFullscreen?C$99t.exitFullscreen():C$99t.mozCancelFullScreen?C$99t.mozCancelFullScreen():C$99t.webkitExitFullscreen&&C$99t.webkitExitFullscreen()},C$99t(0,C$99i,"clientScaleX",function(){return this._transform?this._transform.getScaleX():1}),C$99t(0,C$99i,"desginHeight",function(){return console.debug("desginHeight\u5df2\u7ecf\u5f03\u7528\uff0c\u8bf7\u4f7f\u7528designHeight\u4ee3\u66ff"),this.designHeight}),C$99t(0,C$99i,"frameRate",function(){return this._frameRate},function(C$99t){if(this._frameRate=C$99t,C$99M.isConchApp)switch(this._frameRate){case"slow":C$99S.window.conch&&C$99S.window.conchConfig.setSlowFrame&&C$99S.window.conchConfig.setSlowFrame(!0);break;case"fast":C$99S.window.conch&&C$99S.window.conchConfig.setSlowFrame&&C$99S.window.conchConfig.setSlowFrame(!1);break;case"mouse":C$99S.window.conch&&C$99S.window.conchConfig.setMouseFrame&&C$99S.window.conchConfig.setMouseFrame(2e3);break;case"sleep":C$99S.window.conch&&C$99S.window.conchConfig.setLimitFPS&&C$99S.window.conchConfig.setLimitFPS(1);break;default:throw new Error("Stage:frameRate invalid.")}}),C$99t(0,C$99i,"clientScaleY",function(){return this._transform?this._transform.getScaleY():1}),C$99t(0,C$99i,"width",C$99Et.prototype._$get_width,function(C$99t){this.designWidth=C$99t,C$99b.superSet(C$99ut,this,"width",C$99t),C$99b.timer.callLater(this,this._changeCanvasSize)}),C$99t(0,C$99i,"alignH",function(){return this._alignH},function(C$99t){this._alignH=C$99t,C$99b.timer.callLater(this,this._changeCanvasSize)}),C$99t(0,C$99i,"isFocused",function(){return this._isFocused}),C$99t(0,C$99i,"height",C$99Et.prototype._$get_height,function(C$99t){this.designHeight=C$99t,C$99b.superSet(C$99ut,this,"height",C$99t),C$99b.timer.callLater(this,this._changeCanvasSize)}),C$99t(0,C$99i,"transform",function(){return this._tfChanged&&this._adjustTransform(),this._transform=this._transform||C$99I.create()},C$99Et.prototype._$set_transform),C$99t(0,C$99i,"isVisibility",function(){return this._isVisibility}),C$99t(0,C$99i,"desginWidth",function(){return console.debug("desginWidth\u5df2\u7ecf\u5f03\u7528\uff0c\u8bf7\u4f7f\u7528designWidth\u4ee3\u66ff"),this.designWidth}),C$99t(0,C$99i,"scaleMode",function(){return this._scaleMode},function(C$99t){this._scaleMode=C$99t,C$99b.timer.callLater(this,this._changeCanvasSize)}),C$99t(0,C$99i,"alignV",function(){return this._alignV},function(C$99t){this._alignV=C$99t,C$99b.timer.callLater(this,this._changeCanvasSize)}),C$99t(0,C$99i,"bgColor",function(){return this._bgColor},function(C$99t){this._bgColor=C$99t,this.conchModel&&this.conchModel.bgColor(C$99t),C$99M.isWebGL&&(C$99t?n513._wgColor=C$99q.create(C$99t)._color:C$99S.onMiniGame||(n513._wgColor=null)),C$99S.onLimixiu?n513._wgColor=C$99q.create(C$99t)._color:C$99M.canvas.style.background=C$99t||"none"}),C$99t(0,C$99i,"mouseX",function(){return Math.round(C$99y.instance.mouseX/this.clientScaleX)}),C$99t(0,C$99i,"mouseY",function(){return Math.round(C$99y.instance.mouseY/this.clientScaleY)}),C$99t(0,C$99i,"screenMode",function(){return this._screenMode},function(C$99t){this._screenMode=C$99t}),C$99t(0,C$99i,"visible",C$99Et.prototype._$get_visible,function(C$99t){this.visible!==C$99t&&(C$99b.superSet(C$99ut,this,"visible",C$99t),C$99M._mainCanvas.source.style.visibility=C$99t?"visible":"hidden")}),C$99t(0,C$99i,"fullScreenEnabled",null,function(C$99t){var C$99e=C$99S.document,C$99i=C$99M.canvas;C$99t?(C$99i.addEventListener("mousedown",this._requestFullscreen),C$99i.addEventListener("touchstart",this._requestFullscreen),C$99e.addEventListener("fullscreenchange",this._fullScreenChanged),C$99e.addEventListener("mozfullscreenchange",this._fullScreenChanged),C$99e.addEventListener("webkitfullscreenchange",this._fullScreenChanged),C$99e.addEventListener("msfullscreenchange",this._fullScreenChanged)):(C$99i.removeEventListener("mousedown",this._requestFullscreen),C$99i.removeEventListener("touchstart",this._requestFullscreen),C$99e.removeEventListener("fullscreenchange",this._fullScreenChanged),C$99e.removeEventListener("mozfullscreenchange",this._fullScreenChanged),C$99e.removeEventListener("webkitfullscreenchange",this._fullScreenChanged),C$99e.removeEventListener("msfullscreenchange",this._fullScreenChanged))}),n513.SCALE_NOSCALE="noscale",n513.SCALE_EXACTFIT="exactfit",n513.SCALE_SHOWALL="showall",n513.SCALE_NOBORDER="noborder",n513.SCALE_FULL="full",n513.SCALE_FIXED_WIDTH="fixedwidth",n513.SCALE_FIXED_HEIGHT="fixedheight",n513.SCALE_FIXED_AUTO="fixedauto",n513.ALIGN_LEFT="left",n513.ALIGN_RIGHT="right",n513.ALIGN_CENTER="center",n513.ALIGN_TOP="top",n513.ALIGN_MIDDLE="middle",n513.ALIGN_BOTTOM="bottom",n513.SCREEN_NONE="none",n513.SCREEN_HORIZONTAL="horizontal",n513.SCREEN_VERTICAL="vertical",n513.FRAME_FAST="fast",n513.FRAME_SLOW="slow",n513.FRAME_MOUSE="mouse",n513.FRAME_SLEEP="sleep",n513.FRAME_MOUSE_THREDHOLD=2e3,C$99a(n513,["_wgColor",function(){return this._wgColor=[0,0,0,1]}]),n513),C$99i=(C$99o(fvp$9,"laya.media.SoundNode",C$99ut),(C$99i=fvp$9.prototype)._onParentChange=function(){this.target=this.parent},C$99i.play=function(C$99t,C$99e){void 0===C$99t&&(C$99t=1),isNaN(C$99t)&&(C$99t=1),this.url&&(this.stop(),this._channel=C$99L.playSound(this.url,C$99t,null,C$99e))},C$99i.stop=function(){this._channel&&!this._channel.isStopped&&this._channel.stop(),this._channel=null},C$99i._setPlayAction=function(C$99t,C$99e,C$99i,C$99n){void 0===C$99n&&(C$99n=!0),this[C$99i]&&C$99t&&(C$99n?C$99t.on(C$99e,this,this[C$99i]):C$99t.off(C$99e,this,this[C$99i]))},C$99i._setPlayActions=function(C$99t,C$99e,C$99i,C$99n){if(void 0===C$99n&&(C$99n=!0),C$99t&&C$99e){var C$99r,C$99s=C$99e.split(","),C$99a=0;for(C$99r=C$99s.length,C$99a=0;C$99a<C$99r;C$99a++)this._setPlayAction(C$99t,C$99s[C$99a],C$99i,C$99n)}},C$99t(0,C$99i,"playEvent",null,function(C$99t){(this._playEvents=C$99t)&&this._tar&&this._setPlayActions(this._tar,C$99t,"play")}),C$99t(0,C$99i,"target",null,function(C$99t){this._tar&&(this._setPlayActions(this._tar,this._playEvents,"play",!1),this._setPlayActions(this._tar,this._stopEvents,"stop",!1)),this._tar=C$99t,this._tar&&(this._setPlayActions(this._tar,this._playEvents,"play",!0),this._setPlayActions(this._tar,this._stopEvents,"stop",!0))}),C$99t(0,C$99i,"stopEvent",null,function(C$99t){(this._stopEvents=C$99t)&&this._tar&&this._setPlayActions(this._tar,C$99t,"stop")}),C$99o(ng631,"laya.resource.FileBitmap",C$99n),C$99t(0,C$99i=ng631.prototype,"src",function(){return this._src},function(C$99t){this._src=C$99t}),C$99t(0,C$99i,"onload",null,function(C$99t){}),C$99t(0,C$99i,"onerror",null,function(C$99t){}),ng631),C$99gt=(C$99o(w3685,"laya.resource.HTMLCanvas",C$99n),(C$99vt=w3685.prototype).clear=function(){this._ctx&&this._ctx.clear()},C$99vt.destroy=function(){this._ctx&&this._ctx.destroy(),this._ctx=null,laya.resource.Resource.prototype.destroy.call(this)},C$99vt.release=function(){},C$99vt._setContext=function(C$99t){this._ctx=C$99t},C$99vt.getContext=function(C$99t,C$99e){return this._ctx||(this._ctx=w3685._createContext(this))},C$99vt.getMemSize=function(){return 0},C$99vt.size=function(C$99t,C$99e){this._w==C$99t&&this._h==C$99e&&(!this._source||this._source.width==C$99t&&this._source.height==C$99e)||(this._w=C$99t,this._h=C$99e,this.memorySize=this._w*this._h*4,this._ctx&&this._ctx.size(C$99t,C$99e),this._source&&(this._source.height=C$99e,this._source.width=C$99t))},C$99vt.getCanvas=function(){return this._source},C$99vt.toBase64=function(C$99t,C$99e,C$99i){this._source&&(C$99M.isConchApp&&this._source.toBase64?this._source.toBase64(C$99t,C$99e,C$99i):(C$99t=this._source.toDataURL(C$99t,C$99e),C$99i.call(this,C$99t)))},C$99t(0,C$99vt,"context",function(){return this._ctx}),C$99t(0,C$99vt,"asBitmap",null,function(C$99t){}),w3685.create=function(C$99t,C$99e){return new w3685(C$99t,C$99e)},w3685.TYPE2D="2D",w3685.TYPE3D="3D",w3685.TYPEAUTO="AUTO",w3685._createContext=null,w3685),C$99vt=(C$99o($vdzf,"laya.resource.HTMLSubImage",C$99n),$vdzf.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){return void 0===C$99o&&(C$99o=!1),new $vdzf},C$99o(v9c2ti,"laya.display.Animation",C$99Dt=C$99e),(C$99vt=v9c2ti.prototype).destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this.stop(),laya.display.Sprite.prototype.destroy.call(this,C$99t),this._frames=null,this._labels=null},C$99vt.play=function(C$99t,C$99e,C$99i,C$99n){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=!0),void 0===C$99n&&(C$99n=!0),(C$99i=void 0===C$99i?"":C$99i)&&this._setFramesFromCache(C$99i,C$99n),this._isPlaying=!0,this.index="string"==typeof C$99t?this._getFrameByLabel(C$99t):C$99t,this.loop=C$99e,this._actionName=C$99i,this._isReverse=1==this.wrapMode,this._frames&&0<this.interval&&this.timerLoop(this.interval,this,this._frameLoop,null,!0,!0)},C$99vt._setFramesFromCache=function(C$99t,C$99e){var C$99i;return void 0===C$99e&&(C$99e=!1),(C$99t=this._url?this._url+"#"+C$99t:C$99t)&&v9c2ti.framesMap[C$99t]?((C$99i=v9c2ti.framesMap[C$99t])instanceof Array?(this._frames=v9c2ti.framesMap[C$99t],this._count=this._frames.length):(C$99i.nodeRoot&&(v9c2ti.framesMap[C$99t]=this._parseGraphicAnimationByData(C$99i),C$99i=v9c2ti.framesMap[C$99t]),this._frames=C$99i.frames,this._count=this._frames.length,this._frameRateChanged||(this._interval=C$99i.interval),this._labels=this._copyLabels(C$99i.labels)),!0):(C$99e&&console.log("ani not found:",C$99t),!1)},C$99vt._copyLabels=function(C$99t){if(!C$99t)return null;var C$99e,C$99i;for(C$99i in C$99e={},C$99t)C$99e[C$99i]=C$99Q.copyArray([],C$99t[C$99i]);return C$99e},C$99vt._frameLoop=function(){this._style.visible&&.01<this._style.alpha&&C$99Dt.prototype._frameLoop.call(this)},C$99vt._displayToIndex=function(C$99t){this._frames&&(this.graphics=this._frames[C$99t])},C$99vt.clear=function(){this.stop(),this.graphics=null,this._frames=null,this._labels=null},C$99vt.loadImages=function(C$99t,C$99e){return void 0===C$99e&&(C$99e=""),this._url="",this._setFramesFromCache(C$99e)||(this.frames=v9c2ti.framesMap[C$99e]||v9c2ti.createFrames(C$99t,C$99e)),this},C$99vt.loadAtlas=function(C$99e,C$99i,C$99n){void 0===C$99n&&(C$99n=""),this._url="";var C$99r=this;function fp7oz(C$99t){C$99e===C$99t&&(C$99r.frames=v9c2ti.framesMap[C$99n]||v9c2ti.createFrames(C$99e,C$99n),C$99i&&C$99i.run())}return C$99r._setFramesFromCache(C$99n)||(C$99ht.getAtlas(C$99e)?fp7oz(C$99e):C$99b.loader.load(C$99e,C$99g.create(null,fp7oz,[C$99e]),null,"atlas")),this},C$99vt.loadAnimation=function(C$99t,C$99e,C$99i){return this._url=C$99t,this._actionName||(this._actionName=""),this._setFramesFromCache("")?(this._setFramesFromCache(this._actionName,!0),this.index=0,C$99e&&C$99e.run()):!C$99i||C$99ht.getAtlas(C$99i)?this._loadAnimationData(C$99t,C$99e,C$99i):C$99b.loader.load(C$99i,C$99g.create(this,this._loadAnimationData,[C$99t,C$99e,C$99i]),null,"atlas"),this},C$99vt._loadAnimationData=function(C$99a,C$99o,C$99t){var C$99h=this;var C$99l;function pd$fz(C$99t){if(C$99ht.getRes(C$99t)&&C$99a===C$99t){var C$99e;if(v9c2ti.framesMap[C$99a+"#"])C$99l._setFramesFromCache(C$99h._actionName,!0),C$99h.index=0,C$99h._checkResumePlaying();else{C$99t=C$99l._parseGraphicAnimation(C$99ht.getRes(C$99a));if(!C$99t)return;var C$99i,C$99n=C$99t.animationList,C$99r=0,C$99s=C$99n.length;for(C$99r=0;C$99r<C$99s;C$99r++)C$99e=C$99n[C$99r],v9c2ti.framesMap[C$99a+"#"+C$99e.name]=C$99e,C$99i=C$99i||C$99e;C$99i&&(v9c2ti.framesMap[C$99a+"#"]=C$99i,C$99l._setFramesFromCache(C$99h._actionName,!0),C$99h.index=0),C$99h._checkResumePlaying()}C$99o&&C$99o.run()}}!C$99t||C$99ht.getAtlas(C$99t)?(C$99l=this,C$99ht.getRes(C$99a)?pd$fz(C$99a):C$99b.loader.load(C$99a,C$99g.create(null,pd$fz,[C$99a]),null,"json"),C$99ht.clearRes(C$99a)):console.warn("atlas load fail:"+C$99t)},C$99vt._parseGraphicAnimation=function(C$99t){return C$99bt.parseAnimationData(C$99t)},C$99vt._parseGraphicAnimationByData=function(C$99t){return C$99bt.parseAnimationByData(C$99t)},C$99t(0,C$99vt,"frames",function(){return this._frames},function(C$99t){(this._frames=C$99t)&&(this._count=C$99t.length,this._isPlaying?this.play(this._index,this.loop,this._actionName):this.index=this._index)}),C$99t(0,C$99vt,"autoPlay",null,function(C$99t){C$99t?this.play():this.stop()}),C$99t(0,C$99vt,"source",null,function(C$99t){-1<C$99t.indexOf(".ani")?this.loadAnimation(C$99t):-1<C$99t.indexOf(".json")||-1<C$99t.indexOf("als")||-1<C$99t.indexOf("atlas")?this.loadAtlas(C$99t):this.loadImages(C$99t.split(","))}),C$99t(0,C$99vt,"autoAnimation",null,function(C$99t){this.play(0,!0,C$99t,!1)}),v9c2ti.createFrames=function(C$99t,C$99e){var C$99i,C$99n,C$99r=0,C$99s=0;if("string"==typeof C$99t){var C$99a=C$99ht.getAtlas(C$99t);if(C$99a&&C$99a.length)for(C$99i=[],C$99r=0,C$99s=C$99a.length;C$99r<C$99s;C$99r++)(C$99n=new C$99m.createGraphics).drawTexture(C$99ht.getRes(C$99a[C$99r]),0,0),C$99i.push(C$99n)}else if(C$99t instanceof Array)for(C$99i=[],C$99r=0,C$99s=C$99t.length;C$99r<C$99s;C$99r++)(C$99n=new C$99m.createGraphics).loadImage(C$99t[C$99r],0,0),C$99i.push(C$99n);return C$99e&&(v9c2ti.framesMap[C$99e]=C$99i),C$99i},v9c2ti.clearCache=function(C$99t){var C$99e,C$99i=C$99t+"#";for(C$99e in v9c2ti.framesMap)C$99e!==C$99t&&0!=C$99e.indexOf(C$99i)||delete v9c2ti.framesMap[C$99e]},v9c2ti.framesMap={},C$99o($dpv9f,"laya.display.FrameAnimation",C$99Ct=C$99e),(C$99n=$dpv9f.prototype)._setUp=function(C$99t,C$99e){this._labels=null,this._animationNewFrames=null,this._targetDic=C$99t,this._animationData=C$99e,this.interval=1e3/C$99e.frameRate,C$99e.parsed?(this._count=C$99e.count,this._labels=C$99e.labels,this._animationNewFrames=C$99e.animationNewFrames):(this._animationNewFrames=[],this._calculateDatas()),C$99e.parsed=!0,C$99e.labels=this._labels,C$99e.count=this._count,C$99e.animationNewFrames=this._animationNewFrames},C$99n.clear=function(){C$99Ct.prototype.clear.call(this),this._targetDic=null,this._animationData=null},C$99n._displayToIndex=function(C$99t){if(this._animationData){(C$99t=C$99t<0?0:C$99t)>this._count&&(C$99t=this._count);var C$99e=this._animationData.nodes,C$99i=0,C$99n=C$99e.length;for(C$99i=0;C$99i<C$99n;C$99i++)this._displayNodeToFrame(C$99e[C$99i],C$99t)}},C$99n._displayNodeToFrame=function(C$99t,C$99e,C$99i){var C$99n=(C$99i=C$99i||this._targetDic)[C$99t.target];if(C$99n){var C$99r,C$99s,C$99a=C$99t.frames,C$99o=C$99t.keys,C$99h=0,C$99l=C$99o.length;for(C$99h=0;C$99h<C$99l;C$99h++)C$99s=(C$99s=C$99a[C$99r=C$99o[C$99h]]).length>C$99e?C$99s[C$99e]:C$99s[C$99s.length-1],C$99n[C$99r]=C$99s}},C$99n._calculateDatas=function(){if(this._animationData){var C$99t,C$99e=this._animationData.nodes,C$99i=0,C$99n=C$99e.length;for(C$99i=this._count=0;C$99i<C$99n;C$99i++)C$99t=C$99e[C$99i],this._calculateNodeKeyFrames(C$99t);this._count+=1}},C$99n._calculateNodeKeyFrames=function(C$99t){var C$99e,C$99i,C$99n=C$99t.keyframes,C$99r=C$99t.target;for(C$99e in C$99t.frames||(C$99t.frames={}),C$99t.keys?C$99t.keys.length=0:C$99t.keys=[],C$99t.initValues||(C$99t.initValues={}),C$99n)C$99i=C$99n[C$99e],C$99t.frames[C$99e]||(C$99t.frames[C$99e]=[]),this._targetDic&&this._targetDic[C$99r]&&(C$99t.initValues[C$99e]=this._targetDic[C$99r][C$99e]),C$99i.sort($dpv9f._sortIndexFun),C$99t.keys.push(C$99e),this._calculateNodePropFrames(C$99i,C$99t.frames[C$99e],C$99e,C$99r)},C$99n.resetToInitState=function(){if(this._targetDic&&this._animationData){var C$99t,C$99e,C$99i=this._animationData.nodes,C$99n=0,C$99r=C$99i.length;for(C$99n=0;C$99n<C$99r;C$99n++)if(C$99e=(C$99t=C$99i[C$99n]).initValues){var C$99s,C$99a=this._targetDic[C$99t.target];if(C$99a)for(C$99s in C$99e)C$99a[C$99s]=C$99e[C$99s]}}},C$99n._calculateNodePropFrames=function(C$99t,C$99e,C$99i,C$99n){var C$99r=0,C$99s=C$99t.length-1;if(0<C$99s){for(C$99e.length=C$99t[C$99s].index+1,C$99r=0;C$99r<C$99s;C$99r++)this._dealKeyFrame(C$99t[C$99r]),this._calculateFrameValues(C$99t[C$99r],C$99t[C$99r+1],C$99e);this._dealKeyFrame(C$99t[C$99r])}0==C$99s&&(C$99e[C$99t[0].index]=C$99t[0].value,this._animationNewFrames&&(this._animationNewFrames[C$99t[0].index]=!0))},C$99n._dealKeyFrame=function(C$99t){C$99t.label&&""!=C$99t.label&&this.addLabel(C$99t.label,C$99t.index)},C$99n._calculateFrameValues=function(C$99t,C$99e,C$99i){var C$99n,C$99r=0,C$99s=C$99t.index,C$99a=C$99e.index,C$99o=C$99t.value,C$99h=C$99e.value-C$99t.value,C$99l=C$99a-C$99s;if(C$99a>this._count&&(this._count=C$99a),C$99t.tween)for(null==(C$99n=C$99W[C$99t.tweenMethod])&&(C$99n=C$99W.linearNone),C$99r=C$99s;C$99r<C$99a;C$99r++)C$99i[C$99r]=C$99n(C$99r-C$99s,C$99o,C$99h,C$99l),this._animationNewFrames&&(this._animationNewFrames[C$99r]=!0);else for(C$99r=C$99s;C$99r<C$99a;C$99r++)C$99i[C$99r]=C$99o;this._animationNewFrames&&(this._animationNewFrames[C$99t.index]=!0,this._animationNewFrames[C$99e.index]=!0),C$99i[C$99e.index]=C$99e.value},$dpv9f._sortIndexFun=null,$dpv9f),C$99xt=(C$99o(gnj3b,"laya.display.Input",C$99St=C$99pt),(C$99e=gnj3b.prototype).setSelection=function(C$99t,C$99e){this.focus=!0,laya.display.Input.inputElement.selectionStart=C$99t,laya.display.Input.inputElement.selectionEnd=C$99e},C$99e._onUnDisplay=function(C$99t){this.focus=!1},C$99e._onMouseDown=function(C$99t){this.focus=!0},C$99e._syncInputTransform=function(){var C$99t=this.nativeInput,C$99e=C$99Q.getTransformRelativeToWindow(this,this.padding[3],this.padding[0]),C$99i=this._width-this.padding[1]-this.padding[3],C$99n=this._height-this.padding[0]-this.padding[2];C$99M.isConchApp?(C$99t.setScale(C$99e.scaleX,C$99e.scaleY),C$99t.setSize(C$99i,C$99n),C$99t.setPos(C$99e.x,C$99e.y)):(gnj3b.inputContainer.style.transform=gnj3b.inputContainer.style.webkitTransform="scale("+C$99e.scaleX+","+C$99e.scaleY+") rotate("+C$99b.stage.canvasDegree+"deg)",C$99t.style.width=C$99i+"px",C$99t.style.height=C$99n+"px",gnj3b.inputContainer.style.left=C$99e.x+"px",gnj3b.inputContainer.style.top=C$99e.y+"px")},C$99e.select=function(){this.nativeInput&&this.nativeInput.select&&this.nativeInput.select()},C$99e._setInputMethod=function(){gnj3b.input.parentElement&&gnj3b.inputContainer.removeChild(gnj3b.input),gnj3b.area.parentElement&&gnj3b.inputContainer.removeChild(gnj3b.area),gnj3b.inputElement=this._multiline?gnj3b.area:gnj3b.input,gnj3b.inputContainer.appendChild(gnj3b.inputElement),C$99pt.RightToLeft&&(gnj3b.inputElement.style.direction="rtl")},C$99e._focusIn=function(){laya.display.Input.isInputting=!0;var C$99t=this.nativeInput;this._focus=!0;var C$99e=C$99t.style;C$99e.whiteSpace=this.wordWrap?"pre-wrap":"nowrap",this._setPromptColor(),C$99t.readOnly=!this._editable,C$99M.isConchApp&&(C$99t.setType(this._type),C$99t.setForbidEdit(!this._editable)),C$99t.maxLength=this._maxChars,this.padding,C$99t.type=this._type,C$99t.value=this._content,C$99t.placeholder=this._prompt,C$99b.stage.off("keydown",this,this._onKeyDown),C$99b.stage.on("keydown",this,this._onKeyDown),(C$99b.stage.focus=this).event("focus"),C$99S.onPC&&C$99t.focus(),C$99S.onMiniGame||(this._text,this._text=null),this.typeset(),C$99t.setColor(this._originColor),C$99t.setFontSize(this.fontSize),C$99t.setFontFace(C$99S.onIPhone&&C$99pt._fontFamilyMap[this.font]||this.font),C$99M.isConchApp&&C$99t.setMultiAble&&C$99t.setMultiAble(this._multiline),C$99e.lineHeight=this.leading+this.fontSize+"px",C$99e.fontStyle=this.italic?"italic":"normal",C$99e.fontWeight=this.bold?"bold":"normal",C$99e.textAlign=this.align,C$99e.padding="0 0",this._syncInputTransform(),!C$99M.isConchApp&&C$99S.onPC&&C$99b.timer.frameLoop(1,this,this._syncInputTransform)},C$99e._setPromptColor=function(){(gnj3b.promptStyleDOM=C$99S.getElementById("promptStyle"))||((gnj3b.promptStyleDOM=C$99S.createElement("style")).setAttribute("id","promptStyle"),C$99S.document.head.appendChild(gnj3b.promptStyleDOM)),gnj3b.promptStyleDOM.innerText="input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {color:"+this._promptColor+"}input:-moz-placeholder, textarea:-moz-placeholder {color:"+this._promptColor+"}input::-moz-placeholder, textarea::-moz-placeholder {color:"+this._promptColor+"}input:-ms-input-placeholder, textarea:-ms-input-placeholder {color:"+this._promptColor+"}"},C$99e._focusOut=function(){laya.display.Input.isInputting=!1,this._focus=!1,this._text=null,this._content=this.nativeInput.value,this._content?(C$99b.superSet(C$99pt,this,"text",this._content),C$99b.superSet(C$99pt,this,"color",this._originColor)):(C$99b.superSet(C$99pt,this,"text",this._prompt),C$99b.superSet(C$99pt,this,"color",this._promptColor)),C$99b.stage.off("keydown",this,this._onKeyDown),C$99b.stage.focus=null,this.event("blur"),C$99M.isConchApp&&this.nativeInput.blur(),C$99S.onPC&&C$99b.timer.clear(this,this._syncInputTransform)},C$99e._onKeyDown=function(C$99t){13===C$99t.keyCode&&(C$99S.onMobile&&!this._multiline&&(this.focus=!1),this.event("enter"))},C$99e.changeText=function(C$99t){this._content=C$99t,this._focus?(this.nativeInput.value=C$99t||"",this.event("change")):C$99St.prototype.changeText.call(this,C$99t)},C$99t(0,C$99e,"color",C$99St.prototype._$get_color,function(C$99t){this._focus&&this.nativeInput.setColor(C$99t),C$99b.superSet(C$99pt,this,"color",this._content?C$99t:this._promptColor),this._originColor=C$99t}),C$99t(0,C$99e,"inputElementYAdjuster",function(){return console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementYAdjuster\u5df2\u5f03\u7528\u3002"),0},function(C$99t){console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementYAdjuster\u5df2\u5f03\u7528\u3002")}),C$99t(0,C$99e,"multiline",function(){return this._multiline},function(C$99t){this._multiline=C$99t,this.valign=C$99t?"top":"middle"}),C$99t(0,C$99e,"maxChars",function(){return this._maxChars},function(C$99t){this._maxChars=C$99t=C$99t<=0?1e5:C$99t}),C$99t(0,C$99e,"text",function(){return this._focus?this.nativeInput.value:this._content||""},function(C$99t){C$99b.superSet(C$99pt,this,"color",this._originColor),C$99t+="",this._focus?(this.nativeInput.value=C$99t||"",this.event("change")):(this._multiline||(C$99t=C$99t.replace(/\r?\n/g,"")),(this._content=C$99t)?C$99b.superSet(C$99pt,this,"text",C$99t):(C$99b.superSet(C$99pt,this,"text",this._prompt),C$99b.superSet(C$99pt,this,"color",this.promptColor)))}),C$99t(0,C$99e,"nativeInput",function(){return this._multiline?gnj3b.area:gnj3b.input}),C$99t(0,C$99e,"prompt",function(){return this._prompt},function(C$99t){!this._text&&C$99t&&C$99b.superSet(C$99pt,this,"color",this._promptColor),this.promptColor=this._promptColor,this._text?C$99b.superSet(C$99pt,this,"text",this._text==this._prompt?C$99t:this._text):C$99b.superSet(C$99pt,this,"text",C$99t),this._prompt=C$99pt.langPacks&&C$99pt.langPacks[C$99t]?C$99pt.langPacks[C$99t]:C$99t}),C$99t(0,C$99e,"focus",function(){return this._focus},function(C$99t){var C$99e=this.nativeInput;this._focus!==C$99t&&(C$99t?(C$99e.target?C$99e.target._focusOut():this._setInputMethod(),(C$99e.target=this)._focusIn()):(C$99e.target=null,this._focusOut(),C$99S.document.body.scrollTop=0,C$99e.blur(),C$99M.isConchApp?C$99e.setPos(-1e4,-1e4):gnj3b.inputContainer.contains(C$99e)&&gnj3b.inputContainer.removeChild(C$99e)))}),C$99t(0,C$99e,"restrict",function(){return this._restrictPattern?this._restrictPattern.source:""},function(C$99t){C$99t?(-1<(C$99t="[^"+C$99t+"]").indexOf("^^")&&(C$99t=C$99t.replace("^^","")),this._restrictPattern=new RegExp(C$99t,"g")):this._restrictPattern=null}),C$99t(0,C$99e,"editable",function(){return this._editable},function(C$99t){this._editable=C$99t,C$99M.isConchApp&&gnj3b.input.setForbidEdit(!C$99t)}),C$99t(0,C$99e,"promptColor",function(){return this._promptColor},function(C$99t){this._promptColor=C$99t,this._content||C$99b.superSet(C$99pt,this,"color",C$99t)}),C$99t(0,C$99e,"type",function(){return this._type},function(C$99t){this._getCSSStyle().password="password"==C$99t,this._type=C$99t,C$99M.isConchApp&&this.nativeInput.setType(C$99t)}),C$99t(0,C$99e,"inputElementXAdjuster",function(){return console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementXAdjuster\u5df2\u5f03\u7528\u3002"),0},function(C$99t){console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementXAdjuster\u5df2\u5f03\u7528\u3002")}),C$99t(0,C$99e,"asPassword",function(){return this._getCSSStyle().password},function(C$99t){this._getCSSStyle().password=C$99t,this._type="password",console.warn('deprecated: \u4f7f\u7528type="password"\u66ff\u4ee3\u8bbe\u7f6easPassword, asPassword\u5c06\u5728\u4e0b\u6b21\u91cd\u5927\u66f4\u65b0\u65f6\u5220\u53bb'),this.isChanged=!0}),gnj3b.__init__=function(){gnj3b._createInputElement(),C$99S.onMobile&&C$99M.canvas.addEventListener(!gnj3b.IOS_IFRAME||C$99S.onMiniGame?"touchend":"click",gnj3b._popupInputMethod)},gnj3b._popupInputMethod=function(C$99t){laya.display.Input.isInputting&&laya.display.Input.inputElement.focus()},gnj3b._createInputElement=function(){gnj3b._initInput(gnj3b.area=C$99S.createElement("textarea")),gnj3b._initInput(gnj3b.input=C$99S.createElement("input")),(gnj3b.inputContainer=C$99S.createElement("div")).style.position="absolute",gnj3b.inputContainer.style.zIndex=1e5,C$99S.container.appendChild(gnj3b.inputContainer),gnj3b.inputContainer.setPos=function(C$99t,C$99e){gnj3b.inputContainer.style.left=C$99t+"px",gnj3b.inputContainer.style.top=C$99e+"px"}},gnj3b._initInput=function(C$99e){var C$99t=C$99e.style;C$99t.cssText="position:absolute;overflow:hidden;resize:none;transform-origin:0 0;-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-o-transform-origin:0 0;",C$99t.resize="none",C$99t.backgroundColor="transparent",C$99t.border="none",C$99t.outline="none",C$99t.zIndex=1,C$99e.addEventListener("input",gnj3b._processInputting),C$99e.addEventListener("mousemove",gnj3b._stopEvent),C$99e.addEventListener("mousedown",gnj3b._stopEvent),C$99e.addEventListener("touchmove",gnj3b._stopEvent),C$99e.setFontFace=function(C$99t){C$99e.style.fontFamily=C$99t},C$99M.isConchApp||(C$99e.setColor=function(C$99t){C$99e.style.color=C$99t},C$99e.setFontSize=function(C$99t){C$99e.style.fontSize=C$99t+"px"})},gnj3b._processInputting=function(C$99t){var C$99e=laya.display.Input.inputElement.target;var C$99i;C$99e&&(C$99i=laya.display.Input.inputElement.value,C$99e._restrictPattern&&(C$99i=C$99i.replace(/\u2006|\x27/g,""),C$99e._restrictPattern.test(C$99i)&&(C$99i=C$99i.replace(C$99e._restrictPattern,""),laya.display.Input.inputElement.value=C$99i)),C$99e._text=C$99i,C$99e.event("input"))},gnj3b._stopEvent=function(C$99t){"touchmove"==C$99t.type&&C$99t.preventDefault(),C$99t.stopPropagation&&C$99t.stopPropagation()},gnj3b.TYPE_TEXT="text",gnj3b.TYPE_PASSWORD="password",gnj3b.TYPE_EMAIL="email",gnj3b.TYPE_URL="url",gnj3b.TYPE_NUMBER="number",gnj3b.TYPE_RANGE="range",gnj3b.TYPE_DATE="date",gnj3b.TYPE_MONTH="month",gnj3b.TYPE_WEEK="week",gnj3b.TYPE_TIME="time",gnj3b.TYPE_DATE_TIME="datetime",gnj3b.TYPE_DATE_TIME_LOCAL="datetime-local",gnj3b.TYPE_SEARCH="search",gnj3b.input=null,gnj3b.area=null,gnj3b.inputElement=null,gnj3b.inputContainer=null,gnj3b.confirmButton=null,gnj3b.promptStyleDOM=null,gnj3b.inputHeight=45,gnj3b.isInputting=!1,gnj3b.stageMatrix=null,C$99a(gnj3b,["IOS_IFRAME",function(){return this.IOS_IFRAME=C$99S.onIOS&&C$99S.window.top!=C$99S.window.self}]),gnj3b),C$99yt=(C$99o(jbsrka,"laya.resource.HTMLImage",C$99i),(C$99n=jbsrka.prototype)._init_=function(C$99t,C$99e){this._src=C$99t,this._source=new C$99S.window.Image,C$99e&&(C$99e.onload&&(this.onload=C$99e.onload),C$99e.onerror&&(this.onerror=C$99e.onerror),C$99e.onCreate&&C$99e.onCreate(this)),0!=C$99t.indexOf("data:image")&&(this._source.crossOrigin=""),C$99t&&(this._source.src=C$99t)},C$99n.recreateResource=function(){var C$99t=this;if(""===this._src)throw new Error("src no null\uff01");var C$99e;this._needReleaseAgain=!1,this._source?this._recreateLock||(this.memorySize=this._w*this._h*4,this._recreateLock=!1,this.completeCreate()):(this._recreateLock=!0,(C$99e=this)._source=new C$99S.window.Image,this._source.crossOrigin="",this._source.onload=function(){if(C$99e._needReleaseAgain)return C$99e._needReleaseAgain=!1,C$99e._source.onload=null,void(C$99e._source=null);C$99e._source.onload=null,C$99e.memorySize=C$99t._w*C$99t._h*4,C$99e._recreateLock=!1,C$99e.completeCreate()},this._source.src=this._src)},C$99n.disposeResource=function(){this._recreateLock&&(this._needReleaseAgain=!0),this._source&&(this._source=null,this.memorySize=0)},C$99n.onresize=function(){this._w=this._source.width,this._h=this._source.height},C$99t(0,C$99n,"onload",null,function(C$99t){var C$99e=this;this._onload=C$99t,this._source&&(this._source.onload=null!=this._onload?function(){C$99e.onresize(),C$99e._onload()}:null)}),C$99t(0,C$99n,"onerror",null,function(C$99t){var C$99e=this;this._onerror=C$99t,this._source&&(this._source.onerror=null!=this._onerror?function(){C$99e._onerror()}:null)}),C$99t(0,C$99n,"enableMerageInAtlas",function(){return this._enableMerageInAtlas},function(C$99t){this._enableMerageInAtlas=C$99t,C$99M.isConchApp&&this._source&&(this._source.enableMerageInAtlas=C$99t)}),jbsrka.create=function(C$99t,C$99e){return new jbsrka(C$99t,C$99e)},jbsrka),C$99bt=(C$99o(juaksb,"laya.display.EffectAnimation",C$99Mt=C$99vt),(C$99e=juaksb.prototype)._onOtherBegin=function(C$99t){C$99t!=this&&this.stop()},C$99e.addEvent=function(){this._target&&this._playEvents&&(this._setControlNode(this._target),this._target.on(this._playEvents,this,this._onPlayAction))},C$99e._onPlayAction=function(){this.play(0,!1)},C$99e.play=function(C$99t,C$99e,C$99i,C$99n){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=!0),void 0===C$99i&&(C$99i=""),void 0===C$99n&&(C$99n=!0),this._target&&(this._target.event("effectanimationbegin",[this]),this._recordInitData(),laya.display.AnimationPlayerBase.prototype.play.call(this,C$99t,C$99e,C$99i,C$99n))},C$99e._recordInitData=function(){if(this._aniKeys){var C$99t,C$99e,C$99i=0;for(C$99t=this._aniKeys.length,C$99i=0;C$99i<C$99t;C$99i++)C$99e=this._aniKeys[C$99i],this._initData[C$99e]=this._target[C$99e]}},C$99e._displayToIndex=function(C$99t){if(this._animationData){(C$99t=C$99t<0?0:C$99t)>this._count&&(C$99t=this._count);var C$99e=this._animationData.nodes,C$99i=0,C$99n=C$99e.length;for(C$99n=1<C$99n?1:C$99n,C$99i=0;C$99i<C$99n;C$99i++)this._displayNodeToFrame(C$99e[C$99i],C$99t)}},C$99e._displayNodeToFrame=function(C$99t,C$99e,C$99c){if(this._target){var C$99i;C$99i=this._target;var C$99n,C$99r,C$99s,C$99_=C$99t.frames,C$99a=C$99t.keys,C$99o=0,C$99u=C$99a.length;C$99s=C$99t.secondFrames;var C$99h,C$99l;for(C$99o=0;C$99o<C$99u;C$99o++)C$99r=C$99_[C$99n=C$99a[C$99o]],C$99h=-1==(C$99l=C$99s[C$99n])?this._initData[C$99n]:C$99e<C$99l?(C$99h=(C$99l=C$99t.keyframes[C$99n])[0]).tween?(null==(C$99h=C$99W[C$99h.tweenMethod])&&(C$99h=C$99W.linearNone),C$99l=C$99l[1],C$99h(C$99e,this._initData[C$99n],C$99l.value-this._initData[C$99n],C$99l.index)):this._initData[C$99n]:C$99r.length>C$99e?C$99r[C$99e]:C$99r[C$99r.length-1],C$99i[C$99n]=C$99h}},C$99e._calculateNodeKeyFrames=function(C$99t){C$99Mt.prototype._calculateNodeKeyFrames.call(this,C$99t);var C$99e,C$99i,C$99n,C$99r=C$99t.keyframes;for(C$99e in C$99t.target,C$99t.secondFrames=C$99n={},C$99r)(C$99i=C$99r[C$99e]).length<=1?C$99n[C$99e]=-1:C$99n[C$99e]=C$99i[1].index},C$99t(0,C$99e,"target",function(){return this._target},function(C$99t){this._target&&this._target.off("effectanimationbegin",this,this._onOtherBegin),this._target=C$99t,this._target&&this._target.on("effectanimationbegin",this,this._onOtherBegin),this.addEvent()}),C$99t(0,C$99e,"playEvent",null,function(C$99t){(this._playEvents=C$99t)&&this.addEvent()}),C$99t(0,C$99e,"effectData",null,function(C$99t){var C$99e;C$99t&&(C$99e=C$99t.animations)&&C$99e[0]&&(this._setUp({},C$99e[0]),C$99e[0].nodes&&C$99e[0].nodes[0]&&(this._aniKeys=C$99e[0].nodes[0].keys))}),C$99t(0,C$99e,"effectClass",null,function(C$99t){var C$99e,C$99i;this._effectClass=C$99j.getClass(C$99t),this._effectClass&&(C$99e=this._effectClass.uiView)&&(C$99i=C$99e.animations)&&C$99i[0]&&(this._setUp({},C$99i[0]),C$99i[0].nodes&&C$99i[0].nodes[0]&&(this._aniKeys=C$99i[0].nodes[0].keys))}),juaksb.EffectAnimationBegin="effectanimationbegin",C$99o(vid$9c,"laya.utils.GraphicAnimation",C$99wt=C$99vt),(C$99i=vid$9c.prototype)._parseNodeList=function(C$99t){this._nodeList||(this._nodeList=[]),this._nodeDefaultProps[C$99t.compId]=C$99t.props,C$99t.compId&&this._nodeList.push(C$99t.compId);var C$99e=C$99t.child;if(C$99e){var C$99i=0,C$99n=C$99e.length;for(C$99i=0;C$99i<C$99n;C$99i++)this._parseNodeList(C$99e[C$99i])}},C$99i._calGraphicData=function(C$99t){if(this._setUp(null,C$99t),this._createGraphicData(),this._nodeIDAniDic)for(var C$99e in this._nodeIDAniDic)this._nodeIDAniDic[C$99e]=null},C$99i._createGraphicData=function(){var C$99t,C$99e=[],C$99i=0,C$99n=this.count,C$99r=this._animationNewFrames;for(C$99r=C$99r||[],C$99i=0;C$99i<C$99n;C$99i++)!C$99r[C$99i]&&C$99t||(C$99t=this._createFrameGraphic(C$99i)),C$99e.push(C$99t);this._gList=C$99e},C$99i._createFrameGraphic=function(C$99t){var C$99e=C$99m.createGraphics();return vid$9c._rootMatrix||(vid$9c._rootMatrix=new C$99I),this._updateNodeGraphic(this._rootNode,C$99t,vid$9c._rootMatrix,C$99e),C$99e},C$99i._updateNodeGraphic=function(C$99t,C$99e,C$99c,C$99i,C$99n){var C$99r;void 0===C$99n&&(C$99n=1);var C$99s,C$99a,C$99o,C$99h=(C$99r=this._nodeGDic[C$99t.compId]=this._getNodeGraphicData(C$99t.compId,C$99e,this._nodeGDic[C$99t.compId])).alpha*C$99n;if(!(C$99h<.01)&&(C$99r.resultTransform||(C$99r.resultTransform=C$99I.create()),C$99s=C$99r.resultTransform,C$99I.mul(C$99r.transform,C$99c,C$99s),C$99r.skin&&(C$99a=this._getTextureByUrl(C$99r.skin))&&(C$99s._checkTransform()?(C$99i.drawTexture(C$99a,0,0,C$99r.width,C$99r.height,C$99s,C$99h),C$99r.resultTransform=null):C$99i.drawTexture(C$99a,C$99s.tx,C$99s.ty,C$99r.width,C$99r.height,null,C$99h)),C$99o=C$99t.child)){var C$99_,C$99l=0;for(C$99_=C$99o.length,C$99l=0;C$99l<C$99_;C$99l++)this._updateNodeGraphic(C$99o[C$99l],C$99e,C$99s,C$99i,C$99h)}},C$99i._updateNoChilds=function(C$99t,C$99e){var C$99i,C$99n;!C$99t.skin||(C$99i=this._getTextureByUrl(C$99t.skin))&&((C$99n=C$99t.transform)._checkTransform(),C$99n.bTransform?C$99e.drawTexture(C$99i,0,0,C$99t.width,C$99t.height,C$99n.clone(),C$99t.alpha):C$99e.drawTexture(C$99i,C$99n.tx,C$99n.ty,C$99t.width,C$99t.height,null,C$99t.alpha))},C$99i._updateNodeGraphic2=function(C$99t,C$99e,C$99i){var C$99n;if(C$99n=this._nodeGDic[C$99t.compId]=this._getNodeGraphicData(C$99t.compId,C$99e,this._nodeGDic[C$99t.compId]),C$99t.child){var C$99r=C$99n.transform;var C$99s,C$99a;var C$99o,C$99h,C$99c;if(C$99r._checkTransform(),C$99a=(C$99s=!C$99r.bTransform)&&(0!=C$99r.tx||0!=C$99r.ty),(C$99o=C$99r.bTransform||1!=C$99n.alpha)&&C$99i.save(),1!=C$99n.alpha&&C$99i.alpha(C$99n.alpha),C$99s?C$99a&&C$99i.translate(C$99r.tx,C$99r.ty):C$99i.transform(C$99r.clone()),C$99h=C$99t.child,C$99n.skin&&(C$99c=this._getTextureByUrl(C$99n.skin))&&C$99i.drawTexture(C$99c,0,0,C$99n.width,C$99n.height),C$99h){var C$99_,C$99l=0;for(C$99_=C$99h.length,C$99l=0;C$99l<C$99_;C$99l++)this._updateNodeGraphic2(C$99h[C$99l],C$99e,C$99i)}C$99o?C$99i.restore():C$99s?C$99a&&C$99i.translate(-C$99r.tx,-C$99r.ty):C$99i.transform(C$99r.clone().invert())}else this._updateNoChilds(C$99n,C$99i)},C$99i._calculateNodeKeyFrames=function(C$99t){C$99wt.prototype._calculateNodeKeyFrames.call(this,C$99t),this._nodeIDAniDic[C$99t.target]=C$99t},C$99i.getNodeDataByID=function(C$99t){return this._nodeIDAniDic[C$99t]},C$99i._getParams=function(C$99t,C$99e,C$99i,C$99n){var C$99r=vid$9c._temParam;C$99r.length=C$99e.length;var C$99s=0,C$99a=C$99e.length;for(C$99s=0;C$99s<C$99a;C$99s++)C$99r[C$99s]=this._getObjVar(C$99t,C$99e[C$99s][0],C$99i,C$99e[C$99s][1],C$99n);return C$99r},C$99i._getObjVar=function(C$99t,C$99e,C$99i,C$99n,C$99r){if(C$99t.hasOwnProperty(C$99e)){var C$99s=C$99t[C$99e];if(C$99i>=C$99s.length&&(C$99i=C$99s.length-1),null!=C$99t[C$99e][C$99i])return C$99t[C$99e][C$99i]}return C$99r.hasOwnProperty(C$99e)?C$99r[C$99e]:C$99n},C$99i._getNodeGraphicData=function(C$99t,C$99e,C$99i){(C$99i=C$99i||C$99Tt.create()).transform?C$99i.transform.identity():C$99i.transform=C$99I.create();var C$99n=this.getNodeDataByID(C$99t);if(!C$99n)return C$99i;var C$99r,C$99n=C$99n.frames,C$99n=this._getParams(C$99n,vid$9c._drawTextureCmd,C$99e,this._nodeDefaultProps[C$99t]),C$99e=C$99n[0],C$99t=NaN,C$99s=NaN,C$99a=C$99n[5],C$99o=C$99n[6],C$99h=C$99n[13],C$99l=C$99n[14],C$99c=C$99n[7],C$99_=C$99n[8],C$99u=C$99n[9],C$99d=C$99n[11],C$99f=C$99n[12];C$99t=C$99n[3],C$99s=C$99n[4],0!=C$99t&&0!=C$99s||(C$99e=null),-1==C$99t&&(C$99t=0),-1==C$99s&&(C$99s=0),C$99i.skin=C$99e,C$99i.width=C$99t,C$99i.height=C$99s,C$99e&&((C$99r=this._getTextureByUrl(C$99e))?(C$99t=C$99t||C$99r.sourceWidth,C$99s=C$99s||C$99r.sourceHeight):console.warn("lost skin:",C$99e,",you may load pics first")),C$99i.alpha=C$99n[10],C$99r=C$99i.transform,0!=C$99l&&(C$99o=C$99l*C$99s),0==(C$99a=0!=C$99h?C$99h*C$99t:C$99a)&&0==C$99o||C$99r.translate(-C$99a,-C$99o);C$99e=null;return(C$99u||1!==C$99c||1!==C$99_||C$99d||C$99f)&&((C$99e=vid$9c._tempMt).identity(),C$99e.bTransform=!0,C$99l=.0174532922222222*(C$99u-C$99d),C$99s=.0174532922222222*(C$99u+C$99f),C$99h=Math.cos(C$99s),C$99t=Math.sin(C$99s),C$99a=Math.sin(C$99l),C$99o=Math.cos(C$99l),C$99e.a=C$99c*C$99h,C$99e.b=C$99c*C$99t,C$99e.c=-C$99_*C$99a,C$99e.d=C$99_*C$99o,C$99e.tx=C$99e.ty=0),(C$99r=C$99e?C$99I.mul(C$99r,C$99e,C$99r):C$99r).translate(C$99n[1],C$99n[2]),C$99i},C$99i._getTextureByUrl=function(C$99t){return C$99ht.getRes(C$99t)},C$99i.setAniData=function(C$99t,C$99e){if(C$99t.animations){this._nodeDefaultProps={},this._nodeGDic={},this._nodeList&&(this._nodeList.length=0),this._rootNode=C$99t,this._parseNodeList(C$99t);var C$99i,C$99n={},C$99r=[],C$99s=C$99t.animations,C$99a=0,C$99o=C$99s.length;for(C$99a=0;C$99a<C$99o;C$99a++)if(C$99i=C$99s[C$99a],this._labels=null,(!C$99e||C$99e==C$99i.name)&&C$99i){try{this._calGraphicData(C$99i)}catch(C$99t){console.warn("parse animation fail:"+C$99i.name+",empty animation created"),this._gList=[]}var C$99h={};C$99h.interval=1e3/C$99i.frameRate,C$99h.frames=this._gList,C$99h.labels=this._labels,C$99h.name=C$99i.name,C$99r.push(C$99h),C$99n[C$99i.name]=C$99h}this.animationList=C$99r,this.animationDic=C$99n}vid$9c._temParam.length=0},C$99i.parseByData=function(C$99t){var C$99e;C$99i=C$99t.nodeRoot,C$99e=C$99t.aniO,delete C$99t.nodeRoot,delete C$99t.aniO,this._nodeDefaultProps={},this._nodeGDic={},this._nodeList&&(this._nodeList.length=0),this._rootNode=C$99i,this._parseNodeList(C$99i),this._labels=null;try{this._calGraphicData(C$99e)}catch(C$99t){console.warn("parse animation fail:"+C$99e.name+",empty animation created"),this._gList=[]}var C$99i=C$99t;return C$99i.interval=1e3/C$99e.frameRate,C$99i.frames=this._gList,C$99i.labels=this._labels,C$99i.name=C$99e.name,C$99i},C$99i.setUpAniData=function(C$99t){if(C$99t.animations){var C$99e,C$99i={},C$99n=[],C$99r=C$99t.animations,C$99s=0,C$99a=C$99r.length;for(C$99s=0;C$99s<C$99a;C$99s++){var C$99o;(C$99e=C$99r[C$99s])&&((C$99o={}).name=C$99e.name,C$99o.aniO=C$99e,C$99o.nodeRoot=C$99t,C$99n.push(C$99o),C$99i[C$99e.name]=C$99o)}this.animationList=C$99n,this.animationDic=C$99i}},C$99i._clear=function(){var C$99t,C$99e;if(this.animationList=null,this.animationDic=null,this._gList=null,this._nodeGDic)for(C$99t in this._nodeGDic)(C$99e=this._nodeGDic[C$99t])&&C$99e.recover();this._nodeGDic=null},vid$9c.parseAnimationByData=function(C$99t){return C$99t=(vid$9c._I=vid$9c._I?vid$9c._I:new vid$9c).parseByData(C$99t),vid$9c._I._clear(),C$99t},vid$9c.parseAnimationData=function(C$99t){return(vid$9c._I=vid$9c._I?vid$9c._I:new vid$9c).setUpAniData(C$99t),(C$99t={}).animationList=vid$9c._I.animationList,C$99t.animationDic=vid$9c._I.animationDic,vid$9c._I._clear(),C$99t},vid$9c._drawTextureCmd=[["skin",null],["x",0],["y",0],["width",-1],["height",-1],["pivotX",0],["pivotY",0],["scaleX",1],["scaleY",1],["rotation",0],["alpha",1],["skewX",0],["skewY",0],["anchorX",0],["anchorY",0]],vid$9c._temParam=[],vid$9c._I=null,vid$9c._rootMatrix=null,C$99a(vid$9c,["_tempMt",function(){return this._tempMt=new C$99I}]),vid$9c.__init$=function(){function mw_yh(){this.skin=null,this.transform=null,this.resultTransform=null,this.width=NaN,this.height=NaN,this.alpha=1}C$99o(mw_yh,""),mw_yh.prototype.recover=function(){this.skin=null,this.width=0,this.height=0,this.alpha=1,this.transform&&(this.transform.destroy(),this.transform=null),this.resultTransform&&(this.resultTransform.destroy(),this.resultTransform=null),C$99Y.recover("GraphicNode",this)},mw_yh.create=function(){return C$99Y.getItemByClass("GraphicNode",mw_yh)},C$99Tt=mw_yh},vid$9c);function vid$9c(){this.animationList=null,this.animationDic=null,this._nodeList=null,this._nodeDefaultProps=null,this._gList=null,this._nodeIDAniDic={},this._rootNode=null,this._nodeGDic=null,vid$9c.__super.call(this)}var C$99wt,C$99Tt;function juaksb(){this._target=null,this._playEvents=null,this._initData={},this._aniKeys=null,this._effectClass=null,juaksb.__super.call(this)}var C$99Mt;function jbsrka(C$99t,C$99e){this._recreateLock=!1,this._needReleaseAgain=!1,this._enableMerageInAtlas=!0,jbsrka.__super.call(this),C$99t&&this._init_(C$99t,C$99e)}function gnj3b(){this._focus=!1,this._multiline=!1,this._editable=!0,this._restrictPattern=null,this._type="text",this._prompt="",this._promptColor="#A9A9A9",this._originColor="#000000",this._content="",gnj3b.__super.call(this),this._maxChars=1e5,this._width=100,this._height=20,this.multiline=!1,this.overflow=C$99pt.SCROLL,this.on("mousedown",this,this._onMouseDown),this.on("undisplay",this,this._onUnDisplay)}var C$99St;function $dpv9f(){this._targetDic=null,this._animationData=null,this._animationNewFrames=null,$dpv9f.__super.call(this),null==$dpv9f._sortIndexFun&&($dpv9f._sortIndexFun=C$99A.sortByKey("index",!1,!0))}var C$99Ct;function v9c2ti(){this._frames=null,this._url=null,v9c2ti.__super.call(this),this._setControlNode(this)}var C$99Dt;function $vdzf(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){throw $vdzf.__super.call(this),new Error("\u4e0d\u5141\u8bb8new\uff01")}function w3685(C$99t,C$99e){this._is2D=!1,w3685.__super.call(this);var C$99i=this;var C$99n;this._source=this,"2D"!==C$99t&&("AUTO"!==C$99t||C$99M.isWebGL)||(this._is2D=!0,this._source=C$99e||C$99S.createElement("canvas"),this._w=this._source.width,this._h=this._source.height,(C$99n=this).getContext=function(C$99t,C$99e){if(C$99i._ctx)return C$99i._ctx;C$99t=C$99i._ctx=C$99i._source.getContext(C$99t,C$99e);return C$99t&&(C$99t._canvas=C$99n,C$99M.isFlash||C$99S.onLimixiu||(C$99t.size=function(C$99t,C$99e){})),C$99t}),this.uri="HTMLCanvas_"+this.id,this.lock=!0}var C$99vt;function ng631(){this._src=null,this._onload=null,this._onerror=null,ng631.__super.call(this)}function fvp$9(){this.url=null,this._channel=null,this._tar=null,this._playEvents=null,this._stopEvents=null,fvp$9.__super.call(this),this.visible=!1,this.on("added",this,this._onParentChange),this.on("removed",this,this._onParentChange)}function n513(){this.focus=null,this.designWidth=0,this.designHeight=0,this.canvasRotation=!1,this.canvasDegree=0,this.renderingEnabled=!0,this.screenAdaptationEnabled=!0,this._screenMode="none",this._scaleMode="noscale",this._alignV="top",this._alignH="left",this._bgColor="black",this._mouseMoveTime=0,this._renderCount=0,this._frameStartTime=NaN,this._isFocused=!1,this._isVisibility=!1,this._scenes=null,this._frameRate="fast",n513.__super.call(this),this.offset=new C$99R,this._canvasTransform=new C$99I,this._previousOrientation=C$99S.window.orientation;var C$99e=this;this.transform=C$99I.create(),this._scenes=[],this.mouseEnabled=!0,this.hitTestPrior=!0,this.autoSize=!1,this._displayedInStage=!0,this._isFocused=!0,this._isVisibility=!0;var C$99t=C$99S.window,C$99i=this;C$99t.addEventListener("focus",function(){C$99e._isFocused=!0,C$99i.event("focus"),C$99i.event("focuschange")}),C$99t.addEventListener("blur",function(){C$99e._isFocused=!1,C$99i.event("blur"),C$99i.event("focuschange"),C$99i._isInputting()&&(C$99xt.inputElement.target.focus=!1)});var C$99n="visibilityState",C$99r="visibilitychange",C$99s=C$99t.document;void 0!==C$99s.hidden?(C$99r="visibilitychange",C$99n="visibilityState"):void 0!==C$99s.mozHidden?(C$99r="mozvisibilitychange",C$99n="mozVisibilityState"):void 0!==C$99s.msHidden?(C$99r="msvisibilitychange",C$99n="msVisibilityState"):void 0!==C$99s.webkitHidden&&(C$99r="webkitvisibilitychange",C$99n="webkitVisibilityState"),C$99t.document.addEventListener(C$99r,function(){"hidden"==C$99S.document[C$99n]?C$99i._setStageVisible(!1):C$99i._setStageVisible(!0)}),C$99t.document.addEventListener("qbrowserVisibilityChange",function(C$99t){C$99i._setStageVisible(!C$99t.hidden)}),C$99t.addEventListener("resize",function(){var C$99t=C$99S.window.orientation;null!=C$99t&&C$99t!=C$99e._previousOrientation&&C$99i._isInputting()&&(C$99xt.inputElement.target.focus=!1),C$99e._previousOrientation=C$99t,C$99i._isInputting()||C$99i._resetCanvas()}),C$99t.addEventListener("orientationchange",function(C$99t){C$99i._resetCanvas()}),this.on("mousemove",this,this._onmouseMove),C$99S.onMobile&&this.on("mousedown",this,this._onmouseMove)}var C$99Et;function icv$t9(){this._clipPoint=null,this._currBitmapFont=null,this._text=null,this._isChanged=!1,this._textWidth=0,this._textHeight=0,this._lines=[],this._lineWidths=[],this._startX=NaN,this._startY=NaN,this._lastVisibleLineIndex=-1,this._words=null,this._charSize={},this.underline=!1,this._underlineColor=null,icv$t9.__super.call(this),this.overflow=icv$t9.VISIBLE,this._style=new C$99nt(this),this._style.wordWrap=!1}var C$99At;function hw18(){this.loop=!1,this.wrapMode=0,this._index=0,this._count=0,this._isPlaying=!1,this._labels=null,this._isReverse=!1,this._frameRateChanged=!1,this._controlNode=null,this._actionName=null,hw18.__super.call(this),this._interval=C$99h.animationInterval,this._setUpNoticeType(1)}var C$99It;function c2t4(){c2t4.__super.call(this),this._w=0,this._h=0}function _5whm(){this.audioBuffer=null,this.gain=null,this.bufferSource=null,this._currentTime=0,this._volume=1,this._startTime=0,this._pauseTime=0,this._onPlayEnd=null,this.context=C$99at.ctx,_5whm.__super.call(this),this._onPlayEnd=C$99Q.bind(this.__onPlayEnd,this),this.context.createGain?this.gain=this.context.createGain():this.gain=this.context.createGainNode()}function vp9f$(C$99t){this._audio=null,this._onEnd=null,this._resumePlay=null,vp9f$.__super.call(this),this._onEnd=C$99Q.bind(this.__onEnd,this),this._resumePlay=C$99Q.bind(this.__resumePlay,this),C$99t.addEventListener("ended",this._onEnd),this._audio=C$99t}function ngjab(){this._transform=null,this._tfChanged=!1,this._x=0,this._y=0,this._width=0,this._height=0,this._repaint=1,this._mouseEnableState=0,this._zOrder=0,this._graphics=null,this._renderType=0,this._optimizeScrollRect=!1,this._texture=null,this.mouseThrough=!1,this.autoSize=!1,this.hitTestPrior=!1,this.viewport=null,ngjab.__super.call(this),this._style=C$99c.EMPTY}var C$99Rt,C$99n;function xmy0_(){this._labelDic=null,this._tweenDic={},this._tweenDataList=[],this._endTweenDataList=null,this._currTime=0,this._lastTime=0,this._startTime=0,this._index=0,this._gidIndex=0,this._firstTweenDic={},this._startTimeSort=!1,this._endTimeSort=!1,this._loopKey=!1,this.scale=1,this._frameRate=60,this._frameIndex=0,this._total=0,xmy0_.__super.call(this)}var C$99Pt;function b3nrj(C$99t,C$99e){this.offsetX=0,this.offsetY=0,this.sourceWidth=0,this.sourceHeight=0,this._w=0,this._h=0,this._uvID=0,this._atlasID=-1,this.scaleRate=1,b3nrj.__super.call(this),C$99t&&null!=C$99t._addReference&&C$99t._addReference(),this.setTo(C$99t,C$99e)}var C$99_t;function ipvd$(){ipvd$.__super.call(this),this._$1__id=++ipvd$._uniqueIDCounter,this.__loaded=!0,this._destroyed=!1,this._referenceCount=0,(ipvd$._idResourcesMap[this.id]=this)._released=!0,this.lock=!1,this._memorySize=0,this._lastUseFrameCount=-1,C$99V.currentResourceManager&&C$99V.currentResourceManager.addResource(this)}function vi$dp9(C$99t,C$99e,C$99i){this._endian=null,this._stamp=NaN,this._socket=null,this._connected=!1,this._addInputPosition=0,this._input=null,this._output=null,this.timeout=0,this.objectEncoding=0,this.disableInput=!1,this._byteClass=null,this.protocols=[],void 0===C$99e&&(C$99e=0),vi$dp9.__super.call(this),this._byteClass=C$99i||C$99$,this.endian="bigEndian",this.timeout=2e4,this._addInputPosition=0,C$99t&&0<C$99e&&C$99e<65535&&this.connect(C$99t,C$99e)}function oyx(C$99t){oyx.__super.call(this),C$99t=C$99t||[.3,.59,.11,0,0,.3,.59,.11,0,0,.3,.59,.11,0,0,0,0,0,1,0],this._mat=new Float32Array(16),this._alpha=new Float32Array(4);for(var C$99e=0,C$99i=0,C$99n=0;C$99n<20;C$99n++)C$99n%5!=4?this._mat[C$99e++]=C$99t[C$99n]:this._alpha[C$99i++]=C$99t[C$99n];this._action=C$99m.createFilterAction(32),this._action.data=this}function dp$v(){this.retryNum=0,this.retryDelay=10,this.maxLoader=8,this._loaders=[],this._loaderCount=0,this._loaderMap={},this._resInfos=[],this._infoPool=[],this._maxPriority=5,this._failRes={},dp$v.__super.call(this);for(var C$99t=0;C$99t<this._maxPriority;C$99t++)this._resInfos[C$99t]=[]}var C$99Lt;function zf$p(){this._data=null,this._class=null,this._url=null,this._type=null,this._cache=!1,this._http=null,this._customParse=!1,zf$p.__super.call(this),this._onImageCallback=this._loadImageComplete.bind(this),this._onLoadedCallback=this._loadedComplete.bind(this),this.priority=-1,this.realTime=!1}function r3njg8(){this._responseType=null,this._data=null,r3njg8.__super.call(this),this._http=new C$99S.window.XMLHttpRequest}function rsbajk(){this.url=null,this.loaded=!1,this.data=null,this.audioBuffer=null,this.__toPlays=null,this._disposed=!1,rsbajk.__super.call(this)}function _5mw6(){_5mw6.__super.call(this)}function zfv$(){this.url=null,this.loops=0,this.startTime=NaN,this.isStopped=!1,this.startHandler=null,this.completeHandler=null,zfv$.__super.call(this)}function jnrg(){this.url=null,this.audio=null,this.loaded=!1,jnrg.__super.call(this)}function e7zofp(C$99t){this._bgground=null,this._border=null,this._rect=null,this.underLine=0,this.lineHeight=0,e7zofp.__super.call(this),this._padding=e7zofp._PADDING,this._spacing=e7zofp._SPACING,this._aligns=e7zofp._ALIGNS,this._font=C$99_.EMPTY,this._ower=C$99t}var C$99i;function $dvpi9(){this._bits=0,this._displayedInStage=!1,this._parent=null,this.conchModel=null,this.name="",this._destroyed=!1,$dvpi9.__super.call(this),this._childs=$dvpi9.ARRAY_EMPTY,this._$P=$dvpi9.PROP_EMPTY,this.timer=C$99b.scaleTimer,this.conchModel=C$99M.isConchNode?this.createConchModel():null}function cit9v(){this.id=NaN,this.save=[],this.toUpperCase=null,this.changed=!1,this._text=null}function eqyo0x(){this._obj=null,this._obj=eqyo0x.supportWeakMap?new C$99S.window.WeakMap:{},eqyo0x.supportWeakMap||eqyo0x._maps.push(this)}function skbjua(){this.useDic={},this.shapeDic={},this.shapeLineDic={},this._id=0,this._checkKey=!1,this._freeIdArray=[],C$99M.isWebGL&&C$99U.regCacheByFunction(C$99Q.bind(this.startDispose,this),C$99Q.bind(this.getCacheList,this))}function _xyq(){}function iv9tc2(){this.gid=0}function hyw_m(){this._delta=0,this.scale=1,this.currFrame=0,this._mid=1,this._map={},this._laters=[],this._handlers=[],this._temp=[],this._count=0,this._errorRecord=!1,this.currTimer=this._now(),this._lastTimer=this._now(),this._init()}var C$99zt;function opzf(){this._strsToID={},this._idToStrs=[],this._length=0}function b3jgr(){}function kabrjg(){}function e0zo7q(){}function oqfe7z(){}function q7ze0(C$99t,C$99e,C$99i,C$99n){this.char=C$99t,this.charNum=C$99t.charCodeAt(0),this._x=this._y=0,this.width=C$99e,this.height=C$99i,this.style=C$99n,this.isWord=!q7ze0._isWordRegExp.test(C$99t)}function fpodz(){this._hit=null,this._unHit=null}function zofeq7(){}function zvf(){this.ratio=.92,this.maxOffset=60,this._dragging=!1,this._clickOnly=!0}function kuja(){this._values=[],this._keys=[]}function of7zeq(C$99t){if(this._color=[],"string"==typeof C$99t){var C$99e=(C$99t="#"==(C$99t=null===(this.strColor=C$99t)?"#000000":C$99t).charAt(0)?C$99t.substr(1):C$99t).length;if(3==C$99e||4==C$99e){for(var C$99i="",C$99n=0;C$99n<C$99e;C$99n++)C$99i+=C$99t[C$99n]+C$99t[C$99n];C$99t=C$99i}var C$99r=this.numColor=parseInt(C$99t,16);if(8==C$99t.length)return void(this._color=[parseInt(C$99t.substr(0,2),16)/255,((16711680&C$99r)>>16)/255,((65280&C$99r)>>8)/255,(255&C$99r)/255])}else C$99r=this.numColor=C$99t,this.strColor=C$99Q.toHexColor(C$99r);this._color=[((16711680&C$99r)>>16)/255,((65280&C$99r)>>8)/255,(255&C$99r)/255,1],this._color.__id=++of7zeq._COLODID}function _e0yq(){}function kgrb(){}function q_xe0y(C$99t){this._xd_=!0,this._allocated_=8,this._pos_=0,this._length=0,C$99t?(this._u8d_=new Uint8Array(C$99t),this._d_=new DataView(this._u8d_.buffer),this._length=this._d_.byteLength):this.___resizeBuffer(this._allocated_)}function p7$dzf(){}function v9fd(){}function zp$dvf(C$99t){this._id=0,this._name=null,this._resources=null,this._memorySize=0,this._garbageCollectionRate=NaN,this._isOverflow=!1,this.autoRelease=!1,this.autoReleaseMaxSize=0,this._id=++zp$dvf._uniqueIDCounter,this._name=C$99t||"Content Manager",zp$dvf._isResourceManagersSorted=!1,this._memorySize=0,this._isOverflow=!1,this.autoRelease=!1,this.autoReleaseMaxSize=536870912,this._garbageCollectionRate=.2,zp$dvf._resourceManagers.push(this),this._resources=[],this._records={}}function hm_6(){this._repaint=!1}function agbjnr(C$99t,C$99e){switch(this._next=C$99e||agbjnr.NORENDER,C$99t){case 0:return void(this._fun=this._no);case 1:return void(this._fun=this._image);case 2:return void(this._fun=this._alpha);case 4:return void(this._fun=this._transform);case 8:return void(this._fun=this._blend);case 16:return void(this._fun=this._canvas);case 64:return void(this._fun=this._mask);case 128:return void(this._fun=this._clip);case 256:return void(this._fun=this._style);case 512:return void(this._fun=this._graphics);case 2048:return void(this._fun=this._childs);case 1024:return void(this._fun=this._custom);case 513:case 517:return void(this._fun=this._image2);case 32:return void(this._fun=C$99T._filter);case 69905:return void(this._fun=agbjnr._initRenderFun)}this.onCreate(C$99t)}function wh6_5m(C$99t,C$99e,C$99i){this.x=0,this.y=0,this._drawTexture=function(C$99t,C$99e,C$99i){C$99i[0].loaded&&this.ctx.drawTexture(C$99i[0],C$99i[1],C$99i[2],C$99i[3],C$99i[4],C$99t,C$99e)},this._fillTexture=function(C$99t,C$99e,C$99i){C$99i[0].loaded&&this.ctx.fillTexture(C$99i[0],C$99i[1]+C$99t,C$99i[2]+C$99e,C$99i[3],C$99i[4],C$99i[5],C$99i[6],C$99i[7])},this._drawTextureWithTransform=function(C$99t,C$99e,C$99i){C$99i[0].loaded&&this.ctx.drawTextureWithTransform(C$99i[0],C$99i[1],C$99i[2],C$99i[3],C$99i[4],C$99i[5],C$99t,C$99e,C$99i[6])},this._fillQuadrangle=function(C$99t,C$99e,C$99i){this.ctx.fillQuadrangle(C$99i[0],C$99i[1],C$99i[2],C$99i[3],C$99i[4])},this._drawRect=function(C$99t,C$99e,C$99i){var C$99n=this.ctx;null!=C$99i[4]&&(C$99n.fillStyle=C$99i[4],C$99n.fillRect(C$99t+C$99i[0],C$99e+C$99i[1],C$99i[2],C$99i[3],null)),null!=C$99i[5]&&(C$99n.strokeStyle=C$99i[5],C$99n.lineWidth=C$99i[6],C$99n.strokeRect(C$99t+C$99i[0],C$99e+C$99i[1],C$99i[2],C$99i[3],C$99i[6]))},this._drawPie=function(C$99t,C$99e,C$99i){var C$99n=this.ctx;C$99M.isWebGL&&C$99n.setPathId(C$99i[8]),C$99n.beginPath(),C$99M.isWebGL?(C$99n.movePath(C$99i[0]+C$99t,C$99i[1]+C$99e),C$99n.moveTo(0,0)):C$99n.moveTo(C$99t+C$99i[0],C$99e+C$99i[1]),C$99n.arc(C$99t+C$99i[0],C$99e+C$99i[1],C$99i[2],C$99i[3],C$99i[4]),C$99n.closePath(),this._fillAndStroke(C$99i[5],C$99i[6],C$99i[7],!0)},this._clipRect=function(C$99t,C$99e,C$99i){this.ctx.clipRect(C$99t+C$99i[0],C$99e+C$99i[1],C$99i[2],C$99i[3])},this._fillRect=function(C$99t,C$99e,C$99i){this.ctx.fillRect(C$99t+C$99i[0],C$99e+C$99i[1],C$99i[2],C$99i[3],C$99i[4])},this._drawCircle=function(C$99t,C$99e,C$99i){var C$99n=this.ctx;C$99M.isWebGL&&C$99n.setPathId(C$99i[6]),C$99X.drawCall++,C$99n.beginPath(),C$99M.isWebGL&&C$99n.movePath(C$99i[0]+C$99t,C$99i[1]+C$99e),C$99n.arc(C$99i[0]+C$99t,C$99i[1]+C$99e,C$99i[2],0,wh6_5m.PI2),C$99n.closePath(),this._fillAndStroke(C$99i[3],C$99i[4],C$99i[5],!0)},this._fillCircle=function(C$99t,C$99e,C$99i){C$99X.drawCall++;var C$99n=this.ctx;C$99n.beginPath(),C$99n.fillStyle=C$99i[3],C$99n.arc(C$99i[0]+C$99t,C$99i[1]+C$99e,C$99i[2],0,wh6_5m.PI2),C$99n.fill()},this._setShader=function(C$99t,C$99e,C$99i){this.ctx.setShader(C$99i[0])},this._drawLine=function(C$99t,C$99e,C$99i){var C$99n=this.ctx;C$99M.isWebGL&&C$99n.setPathId(C$99i[6]),C$99n.beginPath(),C$99n.strokeStyle=C$99i[4],C$99n.lineWidth=C$99i[5],C$99M.isWebGL?(C$99n.movePath(C$99t,C$99e),C$99n.moveTo(C$99i[0],C$99i[1]),C$99n.lineTo(C$99i[2],C$99i[3])):(C$99n.moveTo(C$99t+C$99i[0],C$99e+C$99i[1]),C$99n.lineTo(C$99t+C$99i[2],C$99e+C$99i[3])),C$99n.stroke()},this._drawLines=function(C$99t,C$99e,C$99i){var C$99n=this.ctx;C$99M.isWebGL&&C$99n.setPathId(C$99i[5]),C$99n.beginPath(),C$99t+=C$99i[0],C$99e+=C$99i[1],C$99M.isWebGL&&C$99n.movePath(C$99t,C$99e),C$99n.strokeStyle=C$99i[3],C$99n.lineWidth=C$99i[4];var C$99r=C$99i[2],C$99s=2,C$99a=C$99r.length;if(C$99M.isWebGL)for(C$99n.moveTo(C$99r[0],C$99r[1]);C$99s<C$99a;)C$99n.lineTo(C$99r[C$99s++],C$99r[C$99s++]);else for(C$99n.moveTo(C$99t+C$99r[0],C$99e+C$99r[1]);C$99s<C$99a;)C$99n.lineTo(C$99t+C$99r[C$99s++],C$99e+C$99r[C$99s++]);C$99n.stroke()},this._drawLinesWebGL=function(C$99t,C$99e,C$99i){this.ctx.drawLines(C$99t+this.x+C$99i[0],C$99e+this.y+C$99i[1],C$99i[2],C$99i[3],C$99i[4])},this._drawCurves=function(C$99t,C$99e,C$99i){this.ctx.drawCurves(C$99t,C$99e,C$99i)},this._draw=function(C$99t,C$99e,C$99i){C$99i[0].call(null,this,C$99t,C$99e)},this._transformByMatrix=function(C$99t,C$99e,C$99i){this.ctx.transformByMatrix(C$99i[0])},this._setTransform=function(C$99t,C$99e,C$99i){this.ctx.setTransform(C$99i[0],C$99i[1],C$99i[2],C$99i[3],C$99i[4],C$99i[5])},this._setTransformByMatrix=function(C$99t,C$99e,C$99i){this.ctx.setTransformByMatrix(C$99i[0])},this._save=function(C$99t,C$99e,C$99i){this.ctx.save()},this._restore=function(C$99t,C$99e,C$99i){this.ctx.restore()},this._translate=function(C$99t,C$99e,C$99i){this.ctx.translate(C$99i[0],C$99i[1])},this._transform=function(C$99t,C$99e,C$99i){this.ctx.translate(C$99i[1]+C$99t,C$99i[2]+C$99e);var C$99n=C$99i[0];this.ctx.transform(C$99n.a,C$99n.b,C$99n.c,C$99n.d,C$99n.tx,C$99n.ty),this.ctx.translate(-C$99t-C$99i[1],-C$99e-C$99i[2])},this._rotate=function(C$99t,C$99e,C$99i){this.ctx.translate(C$99i[1]+C$99t,C$99i[2]+C$99e),this.ctx.rotate(C$99i[0]),this.ctx.translate(-C$99t-C$99i[1],-C$99e-C$99i[2])},this._scale=function(C$99t,C$99e,C$99i){this.ctx.translate(C$99i[2]+C$99t,C$99i[3]+C$99e),this.ctx.scale(C$99i[0],C$99i[1]),this.ctx.translate(-C$99t-C$99i[2],-C$99e-C$99i[3])},this._alpha=function(C$99t,C$99e,C$99i){this.ctx.globalAlpha*=C$99i[0]},this._setAlpha=function(C$99t,C$99e,C$99i){this.ctx.globalAlpha=C$99i[0]},this._fillText=function(C$99t,C$99e,C$99i){this.ctx.fillText(C$99i[0],C$99i[1]+C$99t,C$99i[2]+C$99e,C$99i[3],C$99i[4],C$99i[5])},this._strokeText=function(C$99t,C$99e,C$99i){this.ctx.strokeText(C$99i[0],C$99i[1]+C$99t,C$99i[2]+C$99e,C$99i[3],C$99i[4],C$99i[5],C$99i[6])},this._fillBorderText=function(C$99t,C$99e,C$99i){this.ctx.fillBorderText(C$99i[0],C$99i[1]+C$99t,C$99i[2]+C$99e,C$99i[3],C$99i[4],C$99i[5],C$99i[6],C$99i[7])},this._blendMode=function(C$99t,C$99e,C$99i){this.ctx.globalCompositeOperation=C$99i[0]},this._beginClip=function(C$99t,C$99e,C$99i){this.ctx.beginClip&&this.ctx.beginClip(C$99t+C$99i[0],C$99e+C$99i[1],C$99i[2],C$99i[3])},this._setIBVB=function(C$99t,C$99e,C$99i){this.ctx.setIBVB(C$99i[0]+C$99t,C$99i[1]+C$99e,C$99i[2],C$99i[3],C$99i[4],C$99i[5],C$99i[6],C$99i[7])},this._fillTrangles=function(C$99t,C$99e,C$99i){this.ctx.fillTrangles(C$99i[0],C$99i[1]+C$99t,C$99i[2]+C$99e,C$99i[3],C$99i[4])},this._drawPath=function(C$99t,C$99e,C$99i){var C$99n=this.ctx;C$99M.isWebGL&&C$99n.setPathId(-1),C$99n.beginPath(),C$99t+=C$99i[0],C$99e+=C$99i[1],C$99M.isWebGL&&C$99n.movePath(C$99t,C$99e);for(var C$99r=C$99i[2],C$99s=0,C$99a=C$99r.length;C$99s<C$99a;C$99s++){var C$99o=C$99r[C$99s];switch(C$99o[0]){case"moveTo":C$99M.isWebGL?C$99n.moveTo(C$99o[1],C$99o[2]):C$99n.moveTo(C$99t+C$99o[1],C$99e+C$99o[2]);break;case"lineTo":C$99M.isWebGL?C$99n.lineTo(C$99o[1],C$99o[2]):C$99n.lineTo(C$99t+C$99o[1],C$99e+C$99o[2]);break;case"arcTo":C$99M.isWebGL?C$99n.arcTo(C$99o[1],C$99o[2],C$99o[3],C$99o[4],C$99o[5]):C$99n.arcTo(C$99t+C$99o[1],C$99e+C$99o[2],C$99t+C$99o[3],C$99e+C$99o[4],C$99o[5]);break;case"closePath":C$99n.closePath()}}var C$99h=C$99i[3];null!=C$99h&&(C$99n.fillStyle=C$99h.fillStyle,C$99n.fill());C$99h=C$99i[4];null!=C$99h&&(C$99n.strokeStyle=C$99h.strokeStyle,C$99n.lineWidth=C$99h.lineWidth||1,C$99n.lineJoin=C$99h.lineJoin,C$99n.lineCap=C$99h.lineCap,C$99n.miterLimit=C$99h.miterLimit,C$99n.stroke())},this.drawPoly=function(C$99t,C$99e,C$99i){this.ctx.drawPoly(C$99t+this.x+C$99i[0],C$99e+this.y+C$99i[1],C$99i[2],C$99i[3],C$99i[4],C$99i[5],C$99i[6])},this._drawPoly=function(C$99t,C$99e,C$99i){var C$99n=this.ctx,C$99r=C$99i[2],C$99s=2,C$99a=C$99r.length;if(C$99M.isWebGL)for(C$99n.setPathId(C$99i[6]),C$99n.beginPath(),C$99t+=C$99i[0],C$99e+=C$99i[1],C$99n.movePath(C$99t,C$99e),C$99n.moveTo(C$99r[0],C$99r[1]);C$99s<C$99a;)C$99n.lineTo(C$99r[C$99s++],C$99r[C$99s++]);else for(C$99n.beginPath(),C$99t+=C$99i[0],C$99e+=C$99i[1],C$99n.moveTo(C$99t+C$99r[0],C$99e+C$99r[1]);C$99s<C$99a;)C$99n.lineTo(C$99t+C$99r[C$99s++],C$99e+C$99r[C$99s++]);C$99n.closePath(),this._fillAndStroke(C$99i[3],C$99i[4],C$99i[5],C$99i[7])},this._drawSkin=function(C$99t,C$99e,C$99i){C$99i=C$99i[0];var C$99n;C$99i&&(C$99n=this.ctx,C$99i.render(C$99n,C$99t,C$99e))},this._drawParticle=function(C$99t,C$99e,C$99i){this.ctx.drawParticle(C$99t+this.x,C$99e+this.y,C$99i[0])},this._setFilters=function(C$99t,C$99e,C$99i){this.ctx.setFilters(C$99i)},C$99i?this.ctx=C$99i.getContext("2d"):(C$99i=C$99gt.create("3D"),this.ctx=C$99m.createWebGLContext2D(C$99i),C$99i._setContext(this.ctx)),C$99i.size(C$99t,C$99e),this.canvas=C$99i}function arjgbk(C$99t,C$99e){this._timeId=0;var C$99i=arjgbk._mainCanvas.source.style;C$99i.position="absolute",C$99i.top=C$99i.left="0px",C$99i.background="#000000",arjgbk._mainCanvas.source.id="layaCanvas";C$99i=laya.renders.Render.isWebGL;arjgbk._mainCanvas.source.width=C$99t,arjgbk._mainCanvas.source.height=C$99e,C$99i&&arjgbk.WebGL.init(arjgbk._mainCanvas,C$99t,C$99e),C$99S.container.appendChild(arjgbk._mainCanvas.source),(arjgbk._context=new C$99N(C$99t,C$99e,C$99i?null:arjgbk._mainCanvas)).ctx.setIsMainContext(),C$99S.window.requestAnimationFrame(function ox7qe(C$99t){C$99S.window.requestAnimationFrame(ox7qe),C$99b.stage._loop()}),C$99b.stage.on("visibilitychange",this,this._onVisibilitychange)}function of7zd(C$99t){this._url=null,this._path=null,this._url=of7zd.formatURL(C$99t),this._path=of7zd.getPath(C$99t)}function ct2il4(){this.fontName=null,this.complete=null,this.err=null,this._fontTxt=null,this._url=null,this._div=null,this._txtWidth=NaN,this._http=null}function xe0oy(){}function njgrb3(){}var C$99kt;function pzf$v(){}function busajk(C$99t,C$99e,C$99i,C$99n){void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=0),this.x=C$99t=void 0===C$99t?0:C$99t,this.y=C$99e,this.width=C$99i,this.height=C$99n}function zeqo(C$99t,C$99e){void 0===C$99e&&(C$99e=0),this.x=C$99t=void 0===C$99t?0:C$99t,this.y=C$99e}function ozq7e0(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this.inPool=!1,this.bTransform=!1,void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=1),void 0===C$99r&&(C$99r=0),void 0===C$99s&&(C$99s=0),this.a=C$99t=void 0===C$99t?1:C$99t,this.b=C$99e,this.c=C$99i,this.d=C$99n,this.tx=C$99r,this.ty=C$99s,this._checkTransform()}function vp9i(){}function _y5wmh(){}function cd9vi(){this._controlPoints=[new C$99R,new C$99R,new C$99R],this._calFun=this.getPoint2}function dfz7op(){}function yw5_h(){this.data=null}function z$7fpd(){this._action=null}function $icdv(){this.preOvers=[],this.preDowns=[],this.preRightDowns=[],this.enable=!0,this._lastClickTime=0,this._event=new C$99p}function w6_5mh(){this.mouseX=0,this.mouseY=0,this.disableMouseEvent=!1,this.mouseDownTime=0,this.mouseEventTime=C$99S.now(),this.mouseMoveAccuracy=2,this._stage=null,this._target=null,this._lastMoveTimer=0,this._isLeftMouse=!1,this._eventList=[],this._touchIDs={},this._id=1,this._tTouchID=0,this._event=new C$99p,this._matrix=new C$99I,this._point=new C$99R,this._rect=new C$99P,this._prePoint=new C$99R,this._curTouchID=NaN}function tc2iv9(){}function jbr3n(){}function d9$p(){}function zqoef(){}function brjkas(){this._cacheBoundsType=!1}function n3rjbg(){this._one=null,this._cmds=null,this._render=this._renderEmpty,C$99M.isConchNode&&(this._nativeObj=new C$99s._conchGraphics,this.id=this._nativeObj.conchID)}function $9dipv(){this.translateX=0,this.translateY=0,this.scaleX=1,this.scaleY=1,this.rotate=0,this.skewX=0,this.skewY=0}function hwm6_(C$99t){this._type=0,this._weight=0,this._decoration=null,this._text=null,this.indent=0,this._color=C$99q.create(hwm6_.defaultColor),this.family=hwm6_.defaultFamily,this.stroke=hwm6_._STROKE,this.size=hwm6_.defaultSize,C$99t&&C$99t!==hwm6_.EMPTY&&C$99t.copyTo(this)}function $9vfd(){this.alpha=1,this.visible=!0,this.scrollRect=null,this.blendMode=null,this._type=0,this._tf=$9vfd._TF_EMPTY}function m16w5(){this._texture=null,this._fontCharDic={},this._fontWidthMap={},this._complete=null,this._path=null,this._maxWidth=0,this._spaceWidth=10,this._padding=null,this.fontSize=12,this.autoScaleSize=!1,this.letterSpacing=0}function ngjar(C$99t,C$99e,C$99i,C$99n){this.once=!1,void(this._id=0)===C$99n&&(C$99n=!1),this.setTo(C$99t,C$99e,C$99i,C$99n)}function f7d$(){this._events=null}var C$99e;function vc9i(){}function y0qox(){}C$99b.__init([C$99l,C$99lt,C$99M,C$99S,C$99K,C$99z,C$99_t,C$99bt])}(window,document,tepfz7),function(){tepfz7.un,tepfz7.uns,tepfz7.static;var C$99t=tepfz7.class;function vdzp$(){}tepfz7.getset,tepfz7.__newvec,C$99t(vdzp$,"LayaMain")}((window,document)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$99t,C$99e){"use strict";for(var C$99i in Object.defineProperty(C$99e,"__esModule",{value:!0}),tepfz7){var C$99n=tepfz7[C$99i];C$99n&&C$99n.__isclass&&(C$99e[C$99i]=C$99n)}}),function(C$99g){C$99g.un,C$99g.uns;var C$99r=C$99g.static,C$99e=C$99g.class,C$99s=C$99g.getset,C$99a=C$99g.__newvec,C$99h=laya.maths.Arith,C$99_=laya.maths.Bezier,C$99o=laya.resource.Bitmap,C$99u=laya.utils.Browser,C$99d=laya.utils.Byte,C$99f=laya.utils.Color,C$99m=(laya.filters.ColorFilter,C$99g.Config),C$99p=laya.resource.Context,C$99y=(laya.events.Event,laya.filters.Filter),C$99t=laya.display.Graphics,C$99v=laya.resource.HTMLCanvas,C$99x=(laya.utils.HTMLChar,laya.resource.HTMLImage),C$99b=laya.resource.HTMLSubImage,C$99w=(laya.utils.Handler,laya.net.Loader,laya.maths.Matrix),C$99T=laya.maths.Point,C$99M=laya.maths.Rectangle,C$99S=laya.renders.Render,C$99C=(laya.renders.RenderContext,laya.renders.RenderSprite),C$99D=laya.resource.Resource,C$99E=laya.resource.ResourceManager,C$99A=laya.utils.RunDriver,C$99I=laya.display.Sprite,C$99R=laya.display.Stage,C$99P=laya.utils.Stat,C$99L=laya.utils.StringKey,C$99z=(laya.display.css.Style,laya.system.System),C$99k=laya.display.Text,C$99B=laya.resource.Texture,C$99N=(laya.display.css.TransformInfo,laya.net.URL,laya.utils.Utils),C$99O=laya.utils.VectorGraphManager;laya.utils.WordText,C$99g.interface("laya.webgl.shapes.IShape"),C$99g.interface("laya.webgl.submit.ISubmit"),C$99g.interface("laya.webgl.text.ICharSegment"),C$99g.interface("laya.webgl.canvas.save.ISaveData"),C$99g.interface("laya.webgl.resource.IMergeAtlasBitmap"),C$99g.interface("laya.filters.IFilterActionGL","laya.filters.IFilterAction");C$99e(ksbjar,"laya.filters.webgl.FilterActionGL"),C$99F=ksbjar.prototype,C$99g.imps(C$99F,{"laya.filters.IFilterActionGL":!0}),C$99F.setValue=function(C$99t){},C$99F.setValueMix=function(C$99t){},C$99F.apply3d=function(C$99t,C$99e,C$99i,C$99n,C$99r){return null},C$99F.apply=function(C$99t){return null},C$99s(0,C$99F,"typeMix",function(){return 0});var C$99F=ksbjar,C$99V=(C$99e(hx_m,"laya.webgl.shader.ShaderValue"),hx_m),C$99$=(C$99e(xhmy_0,"laya.webgl.atlas.AtlasGrid"),(C$99$=xhmy_0.prototype).getAltasID=function(){return this._atlasID},C$99$.setAltasID=function(C$99t){0<=C$99t&&(this._atlasID=C$99t)},C$99$.addTex=function(C$99t,C$99e,C$99i){var C$99n=this._get(C$99e,C$99i);return 0==C$99n.ret||(this._fill(C$99n.x,C$99n.y,C$99e,C$99i,C$99t),this._texCount++),C$99n},C$99$._release=function(){null!=this._cells&&(this._cells.length=0,this._cells=null),this._rowInfo&&(this._rowInfo.length=0,this._rowInfo=null)},C$99$._init=function(C$99t,C$99e){if(this._width=C$99t,this._height=C$99e,this._release(),0==this._width)return!1;this._cells=new Uint8Array(this._width*this._height*3),this._rowInfo=C$99a(this._height);for(var C$99i=0;C$99i<this._height;C$99i++)this._rowInfo[C$99i]=new C$99ce;return this._clear(),!0},C$99$._get=function(C$99t,C$99e){var C$99i=new C$99j;if(C$99t>=this._failSize.width&&C$99e>=this._failSize.height)return C$99i;for(var C$99n,C$99r=-1,C$99c=this._width,C$99_=this._height,C$99s=this._cells,C$99a=0;C$99a<C$99_;C$99a++)if(!(this._rowInfo[C$99a].spaceCount<C$99t))for(var C$99o=0;C$99o<C$99c;){var C$99h=3*(C$99a*C$99c+C$99o);if(0!=C$99s[C$99h]||C$99s[1+C$99h]<C$99t||C$99s[2+C$99h]<C$99e)C$99o+=C$99s[1+C$99h];else{C$99r=C$99o,C$99n=C$99a;for(var C$99l=0;C$99l<C$99t;C$99l++)if(C$99s[3*C$99l+C$99h+2]<C$99e){C$99r=-1;break}if(!(C$99r<0))return C$99i.ret=!0,C$99i.x=C$99r,C$99i.y=C$99n,C$99i;C$99o+=C$99s[1+C$99h]}}return C$99i},C$99$._fill=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=this._width,C$99c=this._height;this._check(C$99t+C$99i<=C$99s&&C$99e+C$99n<=C$99c);for(var C$99a=C$99e;C$99a<C$99n+C$99e;++C$99a){this._check(this._rowInfo[C$99a].spaceCount>=C$99i),this._rowInfo[C$99a].spaceCount-=C$99i;for(var C$99o=0;C$99o<C$99i;C$99o++){var C$99h=3*(C$99t+C$99a*C$99s+C$99o);this._check(0==this._cells[C$99h]),this._cells[C$99h]=C$99r,this._cells[1+C$99h]=C$99i,this._cells[2+C$99h]=C$99n}}if(0<C$99t)for(C$99a=0;C$99a<C$99n;++C$99a){var C$99l=0;for(C$99o=C$99t-1;0<=C$99o&&0==this._cells[3*((C$99e+C$99a)*C$99s+C$99o)];--C$99o,++C$99l);for(C$99o=C$99l;0<C$99o;--C$99o)this._cells[3*((C$99e+C$99a)*C$99s+C$99t-C$99o)+1]=C$99o,this._check(0<C$99o)}if(0<C$99e)for(C$99o=C$99t;C$99o<C$99t+C$99i;++C$99o){for(C$99l=0,C$99a=C$99e-1;0<=C$99a&&0==this._cells[3*(C$99o+C$99a*C$99s)];--C$99a,C$99l++);for(C$99a=C$99l;0<C$99a;--C$99a)this._cells[3*(C$99o+(C$99e-C$99a)*C$99s)+2]=C$99a,this._check(0<C$99a)}},C$99$._check=function(C$99t){0==C$99t&&console.log("xtexMerger \u9519\u8bef\u5566")},C$99$._clear=function(){for(var C$99t=this._texCount=0;C$99t<this._height;C$99t++)this._rowInfo[C$99t].spaceCount=this._width;for(var C$99e=0;C$99e<this._height;C$99e++)for(var C$99i=0;C$99i<this._width;C$99i++){var C$99n=3*(C$99e*this._width+C$99i);this._cells[C$99n]=0,this._cells[1+C$99n]=this._width-C$99i,this._cells[2+C$99n]=this._width-C$99e}this._failSize.width=this._width+1,this._failSize.height=this._height+1},xhmy_0.__init$=function(){function opef(){this.width=0,this.height=0}function ofzq(){this.spaceCount=0}C$99e(ofzq,""),C$99ce=ofzq,C$99e(opef,""),C$99_e=opef},xhmy_0),C$99U=(C$99e(barjks,"laya.webgl.atlas.AtlasResourceManager"),(C$99i=barjks.prototype).setAtlasParam=function(C$99t,C$99e,C$99i,C$99n){if(1==this._setAtlasParam)return barjks._sid_=0,this._width=C$99t,this._height=C$99e,this._gridSize=C$99i,this._maxAtlaserCount=C$99n,this._gridNumX=C$99t/C$99i,this._gridNumY=C$99e/C$99i,this._curAtlasIndex=0,this.freeAll(),!0;throw console.log("\u8bbe\u7f6e\u5927\u56fe\u5408\u96c6\u53c2\u6570\u9519\u8bef\uff0c\u53ea\u80fd\u5728\u5f00\u59cb\u9875\u9762\u8bbe\u7f6e\u5404\u79cd\u53c2\u6570"),-1},C$99i.pushData=function(C$99t){var C$99e,C$99i=C$99t.bitmap,C$99n=-1,C$99r=null,C$99s=0,C$99a=0;for(C$99s=0,C$99e=this._atlaserArray.length;C$99s<C$99e&&(C$99a=(this._curAtlasIndex+C$99s)%C$99e,-1==(C$99n=(C$99r=this._atlaserArray[C$99a]).findBitmapIsExist(C$99i)));C$99s++);var C$99c;if(-1!=C$99n)return C$99h=(C$99c=C$99r.InAtlasWebGLImagesOffsetValue[C$99n])[0],C$99l=C$99c[1],C$99r.addToAtlas(C$99t,C$99h,C$99l),!0;this._setAtlasParam=!1;for(var C$99_=Math.ceil((C$99t.bitmap.width+2)/this._gridSize),C$99u=Math.ceil((C$99t.bitmap.height+2)/this._gridSize),C$99o=!1,C$99d=0;C$99d<2;C$99d++){var C$99f=this._maxAtlaserCount;for(C$99s=0;C$99s<C$99f;C$99s++){C$99a=(this._curAtlasIndex+C$99s)%C$99f,this._atlaserArray.length-1>=C$99a||this._atlaserArray.push(new C$99St(this._gridNumX,this._gridNumY,this._width,this._height,barjks._sid_++));var C$99p=this._atlaserArray[C$99a],C$99h=0,C$99l=0,C$99m=C$99p.addTex(1,C$99_,C$99u);if(C$99m.ret){C$99h=C$99m.x*this._gridSize+1,C$99l=C$99m.y*this._gridSize+1,C$99i.lock=!0,C$99p.addToAtlasTexture(C$99i,C$99h,C$99l),C$99p.addToAtlas(C$99t,C$99h,C$99l),C$99o=!0,this._curAtlasIndex=C$99a;break}}if(C$99o)break;this._atlaserArray.push(new C$99St(this._gridNumX,this._gridNumY,this._width,this._height,barjks._sid_++)),this._needGC=!0,this.garbageCollection(),this._curAtlasIndex=this._atlaserArray.length-1}return C$99o||console.log(">>>AtlasManager pushData error"),C$99o},C$99i.addToAtlas=function(C$99t){laya.webgl.atlas.AtlasResourceManager.instance.pushData(C$99t)},C$99i.garbageCollection=function(){if(!0===this._needGC){for(var C$99t=this._atlaserArray.length-this._maxAtlaserCount,C$99e=0;C$99e<C$99t;C$99e++)this._atlaserArray[C$99e].dispose(),console.log("AtlasResourceManager:Dispose the inner Atlas\u3002");console.log(">>>>altas garbageCollection ="+C$99t),this._atlaserArray.splice(0,C$99t),this._needGC=!1}return!0},C$99i.freeAll=function(){for(var C$99t=0,C$99e=this._atlaserArray.length;C$99t<C$99e;C$99t++)this._atlaserArray[C$99t].dispose();this._atlaserArray.length=0,this._curAtlasIndex=0},C$99i.getAtlaserCount=function(){return this._atlaserArray.length},C$99i.getAtlaserByIndex=function(C$99t){return this._atlaserArray[C$99t]},C$99s(1,barjks,"instance",function(){return barjks._Instance=barjks._Instance?barjks._Instance:new barjks(laya.webgl.atlas.AtlasResourceManager.atlasTextureWidth,laya.webgl.atlas.AtlasResourceManager.atlasTextureHeight,16,laya.webgl.atlas.AtlasResourceManager.maxTextureCount)}),C$99s(1,barjks,"enabled",function(){return C$99m.atlasEnable}),C$99s(1,barjks,"atlasLimitWidth",function(){return barjks._atlasLimitWidth},function(C$99t){barjks._atlasLimitWidth=C$99t}),C$99s(1,barjks,"atlasLimitHeight",function(){return barjks._atlasLimitHeight},function(C$99t){barjks._atlasLimitHeight=C$99t}),barjks._enable=function(){C$99m.atlasEnable=!0},barjks._disable=function(){C$99m.atlasEnable=!1},barjks.__init__=function(){barjks.atlasTextureWidth=2048,barjks.atlasTextureHeight=2048,barjks.maxTextureCount=6,barjks.atlasLimitWidth=512,barjks.atlasLimitHeight=512},barjks._atlasLimitWidth=0,barjks._atlasLimitHeight=0,barjks.gridSize=16,barjks.atlasTextureWidth=0,barjks.atlasTextureHeight=0,barjks.maxTextureCount=0,barjks._atlasRestore=0,barjks.BOARDER_TYPE_NO=0,barjks.BOARDER_TYPE_RIGHT=1,barjks.BOARDER_TYPE_LEFT=2,barjks.BOARDER_TYPE_BOTTOM=4,barjks.BOARDER_TYPE_TOP=8,barjks.BOARDER_TYPE_ALL=15,barjks._sid_=0,barjks._Instance=null,barjks),C$99j=(C$99e(asrjb,"laya.webgl.atlas.MergeFillInfo"),asrjb),C$99q=(C$99e(eqz0o,"laya.webgl.canvas.BlendMode"),eqz0o._init_=function(C$99t){eqz0o.fns=[eqz0o.BlendNormal,eqz0o.BlendAdd,eqz0o.BlendMultiply,eqz0o.BlendScreen,eqz0o.BlendOverlay,eqz0o.BlendLight,eqz0o.BlendMask,eqz0o.BlendDestinationOut],eqz0o.targetFns=[eqz0o.BlendNormalTarget,eqz0o.BlendAddTarget,eqz0o.BlendMultiplyTarget,eqz0o.BlendScreenTarget,eqz0o.BlendOverlayTarget,eqz0o.BlendLightTarget,eqz0o.BlendMask,eqz0o.BlendDestinationOut]},eqz0o.BlendNormal=function(C$99t){C$99t.blendFunc(1,771)},eqz0o.BlendAdd=function(C$99t){C$99t.blendFunc(1,772)},eqz0o.BlendMultiply=function(C$99t){C$99t.blendFunc(774,771)},eqz0o.BlendScreen=function(C$99t){C$99t.blendFunc(1,1)},eqz0o.BlendOverlay=function(C$99t){C$99t.blendFunc(1,769)},eqz0o.BlendLight=function(C$99t){C$99t.blendFunc(1,1)},eqz0o.BlendNormalTarget=function(C$99t){C$99t.blendFunc(1,771)},eqz0o.BlendAddTarget=function(C$99t){C$99t.blendFunc(1,772)},eqz0o.BlendMultiplyTarget=function(C$99t){C$99t.blendFunc(774,771)},eqz0o.BlendScreenTarget=function(C$99t){C$99t.blendFunc(1,1)},eqz0o.BlendOverlayTarget=function(C$99t){C$99t.blendFunc(1,769)},eqz0o.BlendLightTarget=function(C$99t){C$99t.blendFunc(1,1)},eqz0o.BlendMask=function(C$99t){C$99t.blendFunc(0,770)},eqz0o.BlendDestinationOut=function(C$99t){C$99t.blendFunc(0,0)},eqz0o.activeBlendFunction=null,eqz0o.NAMES=["normal","add","multiply","screen","overlay","light","mask","destination-out"],eqz0o.TOINT={normal:0,add:1,multiply:2,screen:3,lighter:1,overlay:4,light:5,mask:6,"destination-out":7},eqz0o.NORMAL="normal",eqz0o.ADD="add",eqz0o.MULTIPLY="multiply",eqz0o.SCREEN="screen",eqz0o.LIGHT="light",eqz0o.OVERLAY="overlay",eqz0o.DESTINATIONOUT="destination-out",eqz0o.fns=[],eqz0o.targetFns=[],eqz0o),C$99H=(C$99e(ymxq_,"laya.webgl.canvas.DrawStyle"),(C$99i=ymxq_.prototype).setValue=function(C$99t){C$99t&&("string"!=typeof C$99t?C$99t instanceof laya.utils.Color&&(this._color=C$99t):this._color=C$99f.create(C$99t))},C$99i.reset=function(){this._color=C$99f.create("black")},C$99i.equal=function(C$99t){return"string"==typeof C$99t?this._color.strColor===C$99t:C$99t instanceof laya.utils.Color&&this._color.numColor===C$99t.numColor},C$99i.toColorStr=function(){return this._color.strColor},ymxq_.create=function(C$99t){var C$99e;return C$99t&&("string"==typeof C$99t?C$99e=C$99f.create(C$99t):C$99t instanceof laya.utils.Color&&(C$99e=C$99t),C$99e)?C$99e._drawStyle||(C$99e._drawStyle=new ymxq_(C$99t)):laya.webgl.canvas.DrawStyle.DEFAULT},C$99r(ymxq_,["DEFAULT",function(){return this.DEFAULT=new ymxq_("#000000")}]),ymxq_),C$99W=(C$99e(_yxqe0,"laya.webgl.canvas.Path"),(C$99i=_yxqe0.prototype).addPoint=function(C$99t,C$99e){this.tempArray.push(C$99t,C$99e)},C$99i.getEndPointX=function(){return this.tempArray[this.tempArray.length-2]},C$99i.getEndPointY=function(){return this.tempArray[this.tempArray.length-1]},C$99i.polygon=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){return this.geomatrys.push(this._curGeomatry=C$99t=new C$99At(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s)),C$99n||(C$99t.fill=!1),null==C$99s&&(C$99t.borderWidth=0),C$99t},C$99i.setGeomtry=function(C$99t){this.geomatrys.push(this._curGeomatry=C$99t)},C$99i.drawLine=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s;return this.closePath?this.geomatrys.push(this._curGeomatry=C$99s=new C$99Et(C$99t,C$99e,C$99i,C$99n,C$99r)):this.geomatrys.push(this._curGeomatry=C$99s=new C$99Dt(C$99t,C$99e,C$99i,C$99n,C$99r)),C$99s.fill=!1,C$99s},C$99i.update=function(){var C$99t=this.ib._byteLength,C$99e=this.geomatrys.length;this.offset=C$99t;for(var C$99i=this.geoStart;C$99i<C$99e;C$99i++)this.geomatrys[C$99i].getData(this.ib,this.vb,this.vb._byteLength/20);this.geoStart=C$99e,this.count=(this.ib._byteLength-C$99t)/C$99mt.BYTES_PIDX},C$99i.reset=function(){this.vb.clear(),this.ib.clear(),this.offset=this.count=this.geoStart=0,this.geomatrys.length=0},C$99i.recover=function(){this._curGeomatry=null,this.vb.destory(),this.vb=null,this.ib.destory(),this.ib=null},_yxqe0),C$99G=(C$99e(xy0oeq,"laya.webgl.canvas.save.SaveBase"),C$99i=xy0oeq.prototype,C$99g.imps(C$99i,{"laya.webgl.canvas.save.ISaveData":!0}),C$99i.isSaveMark=function(){return!1},C$99i.restore=function(C$99t){this._dataObj[this._valueName]=this._value,(xy0oeq._cache[xy0oeq._cache._length++]=this)._newSubmit&&(C$99t._curSubmit=C$99at.RENDERBASE,C$99t._renderKey=0)},xy0oeq._createArray=function(){var C$99t=[];return C$99t._length=0,C$99t},xy0oeq._init=function(){var C$99t=xy0oeq._namemap={};return C$99t[1]="ALPHA",C$99t[2]="fillStyle",C$99t[8]="font",C$99t[256]="lineWidth",C$99t[512]="strokeStyle",C$99t[8192]="_mergeID",C$99t[1024]=C$99t[2048]=C$99t[4096]=[],C$99t[16384]="textBaseline",C$99t[32768]="textAlign",C$99t[65536]="_nBlendType",C$99t[1048576]="shader",C$99t[2097152]="filters",C$99t},xy0oeq.save=function(C$99t,C$99e,C$99i,C$99n){var C$99r;(C$99t._saveMark._saveuse&C$99e)!==C$99e&&(C$99t._saveMark._saveuse|=C$99e,(C$99r=0<(C$99r=xy0oeq._cache)._length?C$99r[--C$99r._length]:new xy0oeq)._value=C$99i[C$99r._valueName=xy0oeq._namemap[C$99e]],C$99r._dataObj=C$99i,C$99r._newSubmit=C$99n,(C$99e=C$99t._save)[C$99e._length++]=C$99r)},xy0oeq._cache=laya.webgl.canvas.save.SaveBase._createArray(),xy0oeq._namemap=xy0oeq._init(),xy0oeq),C$99Y=(C$99e(yw_m5h,"laya.webgl.canvas.save.SaveClipRect"),C$99i=yw_m5h.prototype,C$99g.imps(C$99i,{"laya.webgl.canvas.save.ISaveData":!0}),C$99i.isSaveMark=function(){return!1},C$99i.restore=function(C$99t){C$99t._clipRect=this._clipSaveRect,(yw_m5h._cache[yw_m5h._cache._length++]=this)._submitScissor.submitLength=C$99t._submits._length-this._submitScissor.submitIndex,C$99t._curSubmit=C$99at.RENDERBASE,C$99t._renderKey=0},yw_m5h.save=function(C$99t,C$99e){var C$99i;131072!=(131072&C$99t._saveMark._saveuse)&&(C$99t._saveMark._saveuse|=131072,(C$99i=0<(C$99i=yw_m5h._cache)._length?C$99i[--C$99i._length]:new yw_m5h)._clipSaveRect=C$99t._clipRect,C$99t._clipRect=C$99i._clipRect.copyFrom(C$99t._clipRect),C$99i._submitScissor=C$99e,(C$99e=C$99t._save)[C$99e._length++]=C$99i)},C$99r(yw_m5h,["_cache",function(){return this._cache=C$99G._createArray()}]),yw_m5h),C$99X=(C$99e(ajkgrb,"laya.webgl.canvas.save.SaveClipRectStencil"),C$99i=ajkgrb.prototype,C$99g.imps(C$99i,{"laya.webgl.canvas.save.ISaveData":!0}),C$99i.isSaveMark=function(){return!1},C$99i.restore=function(C$99t){C$99_t.restore(C$99t,this._rect,this._saveMatrix,this._contextX,this._contextY),C$99t._clipRect=this._clipSaveRect,C$99t._curMat=this._saveMatrix,C$99t._x=this._contextX,C$99t._y=this._contextY,ajkgrb._cache[ajkgrb._cache._length++]=this,C$99t._curSubmit=C$99at.RENDERBASE},ajkgrb.save=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99c){var C$99l;262144!=(262144&C$99t._saveMark._saveuse)&&(C$99t._saveMark._saveuse|=262144,(C$99l=0<(C$99l=ajkgrb._cache)._length?C$99l[--C$99l._length]:new ajkgrb)._clipSaveRect=C$99t._clipRect,C$99l._clipRect.setTo(C$99a,C$99o,C$99h,C$99c),C$99t._clipRect=C$99l._clipRect,C$99l._rect.x=C$99i,C$99l._rect.y=C$99n,C$99l._rect.width=C$99r,C$99l._rect.height=C$99s,C$99l._contextX=C$99t._x,C$99l._contextY=C$99t._y,C$99l._saveMatrix=C$99t._curMat,C$99t._curMat.copyTo(C$99l._matrix),C$99t._curMat=C$99l._matrix,C$99l._submitStencil=C$99e,(C$99a=C$99t._save)[C$99a._length++]=C$99l)},C$99r(ajkgrb,["_cache",function(){return this._cache=C$99G._createArray()}]),ajkgrb),C$99K=(C$99e(yh_m0x,"laya.webgl.canvas.save.SaveMark"),C$99i=yh_m0x.prototype,C$99g.imps(C$99i,{"laya.webgl.canvas.save.ISaveData":!0}),C$99i.isSaveMark=function(){return!0},C$99i.restore=function(C$99t){C$99t._saveMark=this._preSaveMark,yh_m0x._no[yh_m0x._no._length++]=this},yh_m0x.Create=function(C$99t){var C$99e=yh_m0x._no,C$99e=0<C$99e._length?C$99e[--C$99e._length]:new yh_m0x;return C$99e._saveuse=0,C$99e._preSaveMark=C$99t._saveMark,C$99t._saveMark=C$99e},C$99r(yh_m0x,["_no",function(){return this._no=C$99G._createArray()}]),yh_m0x),C$99Z=(C$99e(_mxyq0,"laya.webgl.canvas.save.SaveTransform"),C$99i=_mxyq0.prototype,C$99g.imps(C$99i,{"laya.webgl.canvas.save.ISaveData":!0}),C$99i.isSaveMark=function(){return!1},C$99i.restore=function(C$99t){C$99t._curMat=this._savematrix,_mxyq0._no[_mxyq0._no._length++]=this},_mxyq0.save=function(C$99t){var C$99e=C$99t._saveMark;2048!=(2048&C$99e._saveuse)&&(C$99e._saveuse|=2048,(C$99e=0<(C$99e=_mxyq0._no)._length?C$99e[--C$99e._length]:new _mxyq0)._savematrix=C$99t._curMat,C$99t._curMat=C$99t._curMat.copyTo(C$99e._matrix),(C$99t=C$99t._save)[C$99t._length++]=C$99e)},C$99r(_mxyq0,["_no",function(){return this._no=C$99G._createArray()}]),_mxyq0),C$99Q=(C$99e(m0_yx,"laya.webgl.canvas.save.SaveTranslate"),C$99i=m0_yx.prototype,C$99g.imps(C$99i,{"laya.webgl.canvas.save.ISaveData":!0}),C$99i.isSaveMark=function(){return!1},C$99i.restore=function(C$99t){C$99t._curMat,C$99t._x=this._x,C$99t._y=this._y,m0_yx._no[m0_yx._no._length++]=this},m0_yx.save=function(C$99t){var C$99e=m0_yx._no,C$99e=0<C$99e._length?C$99e[--C$99e._length]:new m0_yx;C$99e._x=C$99t._x,C$99e._y=C$99t._y;C$99t=C$99t._save;C$99t[C$99t._length++]=C$99e},C$99r(m0_yx,["_no",function(){return this._no=C$99G._createArray()}]),m0_yx),C$99J=(C$99e(r1gn8,"laya.webgl.resource.RenderTargetMAX"),(C$99i=r1gn8.prototype).setSP=function(C$99t){this._sp=C$99t},C$99i.size=function(C$99t,C$99e){var C$99i=this;this._width!==C$99t||this._height!==C$99e?(this.repaint=!0,this._width=C$99t,this._height=C$99e,this.target?this.target.size(C$99t,C$99e):this.target=C$99zt.create(C$99t,C$99e),this.target.hasListener("recovered")||this.target.on("recovered",this,function(C$99t){C$99g.timer.callLater(C$99i._sp,C$99i._sp.repaint)})):this.target.size(C$99t,C$99e)},C$99i._flushToTarget=function(C$99t,C$99e){var C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h;C$99e._destroy||(C$99i=C$99l.worldScissorTest,C$99n=C$99l.worldClipRect,C$99l.worldClipRect=this._clipRect,this._clipRect.x=this._clipRect.y=0,this._clipRect.width=this._width,this._clipRect.height=this._height,C$99l.worldScissorTest=!1,C$99c.mainContext.disable(3089),C$99r=C$99l.worldAlpha,C$99s=C$99l.worldMatrix4,C$99a=C$99l.worldMatrix,C$99o=C$99l.worldFilters,C$99h=C$99l.worldShaderDefines,C$99l.worldMatrix=C$99w.EMPTY,C$99l.restoreTempArray(),C$99l.worldMatrix4=C$99l.TEMPMAT4_ARRAY,C$99l.worldAlpha=1,C$99l.worldFilters=null,C$99l.worldShaderDefines=null,C$99Lt.activeShader=null,C$99e.start(),C$99m.showCanvasMark?C$99e.clear(0,1,0,.3):C$99e.clear(0,0,0,0),C$99t.flush(),C$99e.end(),C$99Lt.activeShader=null,C$99l.worldAlpha=C$99r,C$99l.worldMatrix4=C$99s,C$99l.worldMatrix=C$99a,C$99l.worldFilters=C$99o,C$99l.worldShaderDefines=C$99h,(C$99l.worldScissorTest=C$99i)&&(C$99t=C$99l.height-C$99n.y-C$99n.height,C$99c.mainContext.scissor(C$99n.x,C$99t,C$99n.width,C$99n.height),C$99c.mainContext.enable(3089)),C$99l.worldClipRect=C$99n)},C$99i.flush=function(C$99t){this.repaint&&(this._flushToTarget(C$99t,this.target),this.repaint=!1)},C$99i.drawTo=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99t.drawTexture(this.target.getTexture(),C$99e,C$99i,C$99n,C$99r,0,0)},C$99i.destroy=function(){this.target&&(this.target.destroy(),this.target=null,this._sp=null)},r1gn8),C$99tt=(C$99e(gn8jr3,"laya.webgl.shader.d2.Shader2D"),gn8jr3.prototype.destroy=function(){this.defines=null,this.filters=null,this.glTexture=null,this.strokeStyle=null,this.fillStyle=null},gn8jr3.__init__=function(){C$99Wt.addInclude("parts/ColorFilter_ps_uniform.glsl","uniform vec4 colorAlpha;\nuniform mat4 colorMat;"),C$99Wt.addInclude("parts/ColorFilter_ps_logic.glsl","mat4 alphaMat =colorMat;\n\nalphaMat[0][3] *= gl_FragColor.a;\nalphaMat[1][3] *= gl_FragColor.a;\nalphaMat[2][3] *= gl_FragColor.a;\n\ngl_FragColor = gl_FragColor * alphaMat;\ngl_FragColor += colorAlpha/255.0*gl_FragColor.a;\n"),C$99Wt.addInclude("parts/GlowFilter_ps_uniform.glsl","uniform vec4 u_color;\nuniform float u_strength;\nuniform float u_blurX;\nuniform float u_blurY;\nuniform float u_offsetX;\nuniform float u_offsetY;\nuniform float u_textW;\nuniform float u_textH;"),C$99Wt.addInclude("parts/GlowFilter_ps_logic.glsl","const float c_IterationTime = 10.0;\nfloat floatIterationTotalTime = c_IterationTime * c_IterationTime;\nvec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\nvec2 vec2FilterDir = vec2(-(u_offsetX)/u_textW,-(u_offsetY)/u_textH);\nvec2 vec2FilterOff = vec2(u_blurX/u_textW/c_IterationTime * 2.0,u_blurY/u_textH/c_IterationTime * 2.0);\nfloat maxNum = u_blurX * u_blurY;\nvec2 vec2Off = vec2(0.0,0.0);\nfloat floatOff = c_IterationTime/2.0;\nfor(float i = 0.0;i<=c_IterationTime; ++i){\n\tfor(float j = 0.0;j<=c_IterationTime; ++j){\n\t\tvec2Off = vec2(vec2FilterOff.x * (i - floatOff),vec2FilterOff.y * (j - floatOff));\n\t\tvec4 vec4Color2 = texture2D(texture, v_texcoord + vec2FilterDir + vec2Off); \n\n      #ifdef TXTALPHA\n   vec4Color2.a = texture2D(texture1, v_texcoord + vec2FilterDir + vec2Off).a;\n   #endif\n\n    vec4Color += vec4Color2/floatIterationTotalTime;        \n\t}\n}\ngl_FragColor = vec4(u_color.rgb,vec4Color.a * u_strength);\ngl_FragColor.rgb *= gl_FragColor.a;"),C$99Wt.addInclude("parts/BlurFilter_ps_logic.glsl","gl_FragColor =   blur();\ngl_FragColor.w*=alpha;"),C$99Wt.addInclude("parts/BlurFilter_ps_uniform.glsl","uniform vec4 strength_sig2_2sig2_gauss1;\nuniform vec2 blurInfo;\n\n#define PI 3.141593\n\n//float sigma=strength/3.0;//3\u03c3\u4ee5\u5916\u5f71\u54cd\u5f88\u5c0f\u3002\u5373\u5f53\u03c3=1\u7684\u65f6\u5019\uff0c\u534a\u5f84\u4e3a3\n//float sig2 = sigma*sigma;\n//float _2sig2 = 2.0*sig2;\n//return 1.0/(2*PI*sig2)*exp(-(x*x+y*y)/_2sig2)\n//float gauss1 = 1.0/(2.0*PI*sig2);\n\nfloat getGaussian(float x, float y){\n    return strength_sig2_2sig2_gauss1.w*exp(-(x*x+y*y)/strength_sig2_2sig2_gauss1.z);\n}\n\nvec4 blur(){\n    const float blurw = 9.0;\n    vec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\n    vec2 halfsz=vec2(blurw,blurw)/2.0/blurInfo;    \n    vec2 startpos=v_texcoord-halfsz;\n    vec2 ctexcoord = startpos;\n    vec2 step = 1.0/blurInfo;  //\u6bcf\u4e2a\u50cf\u7d20      \n    \n    for(float y = 0.0;y<=blurw; ++y){\n        ctexcoord.x=startpos.x;\n        for(float x = 0.0;x<=blurw; ++x){\n            //TODO \u7eb9\u7406\u5750\u6807\u7684\u56fa\u5b9a\u504f\u79fb\u5e94\u8be5\u5728vs\u4e2d\u5904\u7406\n            vec4 vec4Color1 = texture2D(texture, ctexcoord); \n\n      #ifdef TXTALPHA\n   vec4Color1.a = texture2D(texture1, ctexcoord).a;\n   #endif\n\n    vec4Color += vec4Color1*getGaussian(x-blurw/2.0,y-blurw/2.0);\n            ctexcoord.x+=step.x;\n        }\n        ctexcoord.y+=step.y;\n    }\n    return vec4Color;\n}"),C$99Wt.addInclude("parts/ColorAdd_ps_uniform.glsl","uniform vec4 colorAdd;\n"),C$99Wt.addInclude("parts/ColorAdd_ps_logic.glsl","gl_FragColor = vec4(colorAdd.rgb,colorAdd.a*gl_FragColor.a);\ngl_FragColor.xyz *= colorAdd.a;"),C$99Wt.preCompile2D(0,1,"attribute vec4 position;\nattribute vec2 texcoord;\nuniform vec2 size;\n\n#ifdef WORLDMAT\nuniform mat4 mmat;\n#endif\nvarying vec2 v_texcoord;\nvoid main() {\n  #ifdef WORLDMAT\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  #else\n  gl_Position =vec4((position.x/size.x-0.5)*2.0,(0.5-position.y/size.y)*2.0,position.z,1.0);\n  #endif\n  \n  v_texcoord = texcoord;\n}",'precision mediump float;\nvarying vec2 v_texcoord;\nuniform sampler2D texture;\n\n#ifdef TXTALPHA\nuniform sampler2D texture1;\n#endif\n\nuniform float alpha;\n#include?BLUR_FILTER  "parts/BlurFilter_ps_uniform.glsl";\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\n#include?GLOW_FILTER "parts/GlowFilter_ps_uniform.glsl";\n#include?COLOR_ADD "parts/ColorAdd_ps_uniform.glsl";\n\nvoid main() {\n   vec4 color= texture2D(texture, v_texcoord);\n\n   #ifdef TXTCOMPRESS\n   color.rgb *= color.a;\n   #endif\n\n   #ifdef TXTALPHA\n   color.rgba *= texture2D(texture1, v_texcoord).a;\n   #endif\n\n   color.a*=alpha;\n   color.rgb*=alpha;\n   gl_FragColor=color;\n   #include?COLOR_ADD "parts/ColorAdd_ps_logic.glsl";   \n   #include?BLUR_FILTER  "parts/BlurFilter_ps_logic.glsl";\n   #include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n   #include?GLOW_FILTER "parts/GlowFilter_ps_logic.glsl";\n}',null),C$99Wt.preCompile2D(0,2,"attribute vec4 position;\nuniform vec2 size;\nuniform mat4 mmat;\nvoid main() {\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n}",'precision mediump float;\nuniform vec4 color;\nuniform float alpha;\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\nvoid main() {\n\tvec4 a = vec4(color.r, color.g, color.b, color.a);\n\ta.w = alpha;\n\ta.xyz *= alpha;\n\tgl_FragColor = a;\n\t#include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n}',null),C$99Wt.preCompile2D(0,4,"attribute vec4 position;\nattribute vec3 a_color;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\nuniform vec2 u_pos;\nuniform vec2 size;\nvarying vec3 color;\nvoid main(){\n  vec4 tPos = vec4(position.x + u_pos.x,position.y + u_pos.y,position.z,position.w);\n  vec4 pos=mmat*u_mmat2*tPos;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  color=a_color;\n}","precision mediump float;\nvarying vec3 color;\nuniform float alpha;\nvoid main(){\n\t//vec4 a=vec4(color.r, color.g, color.b, 1);\n\t//a.a*=alpha;\n    gl_FragColor=vec4(color.r, color.g, color.b, alpha);\n\tgl_FragColor.rgb*=alpha;\n}",null),C$99Wt.preCompile2D(0,256,"attribute vec4 position;\nattribute vec2 texcoord;\nuniform vec2 size;\n\n#ifdef WORLDMAT\nuniform mat4 mmat;\n#endif\nvarying vec2 v_texcoord;\nvoid main() {\n  #ifdef WORLDMAT\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  #else\n  gl_Position =vec4((position.x/size.x-0.5)*2.0,(0.5-position.y/size.y)*2.0,position.z,1.0);\n  #endif\n  \n  v_texcoord = texcoord;\n}",'#ifdef FSHIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n//precision highp float;\nvarying vec2 v_texcoord;\nuniform sampler2D texture;\n\n#ifdef TXTALPHA\nuniform sampler2D texture1;\n#endif\n\nuniform float alpha;\nuniform vec4 u_TexRange;\nuniform vec2 u_offset;\n#include?BLUR_FILTER  "parts/BlurFilter_ps_uniform.glsl";\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\n#include?GLOW_FILTER "parts/GlowFilter_ps_uniform.glsl";\n#include?COLOR_ADD "parts/ColorAdd_ps_uniform.glsl";\n\nvoid main() {\n   vec2 newTexCoord;\n   newTexCoord.x = mod(u_offset.x + v_texcoord.x,u_TexRange.y) + u_TexRange.x;\n   newTexCoord.y = mod(u_offset.y + v_texcoord.y,u_TexRange.w) + u_TexRange.z;\n   vec4 color= texture2D(texture, newTexCoord);\n\n   #ifdef TXTALPHA\n   color.a = texture2D(texture1, newTexCoord).a;\n   #endif\n\n   color.a*=alpha;\n   gl_FragColor=color;\n   #include?COLOR_ADD "parts/ColorAdd_ps_logic.glsl";   \n   #include?BLUR_FILTER  "parts/BlurFilter_ps_logic.glsl";\n   #include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n   #include?GLOW_FILTER "parts/GlowFilter_ps_logic.glsl";\n}',null),C$99Wt.preCompile2D(0,512,"attribute vec2 position;\nattribute vec2 texcoord;\nattribute vec4 color;\nuniform vec2 size;\nuniform float offsetX;\nuniform float offsetY;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nvoid main() {\n  vec4 pos=mmat*u_mmat2*vec4(offsetX+position.x,offsetY+position.y,0,1 );\n  gl_Position = vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  v_color = color;\n  v_color.rgb *= v_color.a;\n  v_texcoord = texcoord;  \n}","precision mediump float;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nuniform sampler2D texture;\n\n#ifdef TXTALPHA\nuniform sampler2D texture1;\n#endif\n\nuniform float alpha;\nvoid main() {\n\tvec4 t_color = texture2D(texture, v_texcoord);\n\n   #ifdef TXTALPHA\n   t_color.a = texture2D(texture1, v_texcoord).a;\n   #endif\n\n\tgl_FragColor = t_color.rgba * v_color;\n\tgl_FragColor *= alpha;\n}",null)},gn8jr3),C$99et=(C$99e(vi9c,"laya.webgl.shader.ShaderDefines"),(C$99i=vi9c.prototype).add=function(C$99t){return"string"==typeof C$99t&&(C$99t=this._name2int[C$99t]),this._value|=C$99t,this._value},C$99i.addInt=function(C$99t){return this._value|=C$99t,this._value},C$99i.remove=function(C$99t){return"string"==typeof C$99t&&(C$99t=this._name2int[C$99t]),this._value&=~C$99t,this._value},C$99i.isDefine=function(C$99t){return(this._value&C$99t)===C$99t},C$99i.getValue=function(){return this._value},C$99i.setValue=function(C$99t){this._value=C$99t},C$99i.toNameDic=function(){return this._int2nameMap[this._value]||vi9c._toText(this._value,this._int2name,this._int2nameMap)},vi9c._reg=function(C$99t,C$99e,C$99i,C$99n){C$99n[C$99i[C$99t]=C$99e]=C$99t},vi9c._toText=function(C$99t,C$99e,C$99i){var C$99n=C$99i[C$99t];if(C$99n)return C$99n;for(var C$99r={},C$99s=1,C$99a=0;C$99a<32&&!(C$99t<(C$99s=1<<C$99a));C$99a++){var C$99o;C$99t&C$99s&&((C$99o=C$99e[C$99s])&&(C$99r[C$99o]=""))}return C$99i[C$99t]=C$99r},vi9c._toInt=function(C$99t,C$99e){for(var C$99i=C$99t.split("."),C$99n=0,C$99r=0,C$99s=C$99i.length;C$99r<C$99s;C$99r++){var C$99a=C$99e[C$99i[C$99r]];if(!C$99a)throw new Error("Defines to int err:"+C$99t+"/"+C$99i[C$99r]);C$99n|=C$99a}return C$99n},vi9c),C$99it=(C$99e(f9d$vp,"laya.webgl.shader.d2.skinAnishader.SkinMesh"),(C$99i=f9d$vp.prototype).init=function(C$99t,C$99e,C$99i){var C$99n;C$99e?this._vs=C$99e:(this._vs=[],C$99e=C$99t.width,C$99n=C$99t.height,this._vs.push(0,0,0,0,1,1,1,1),this._vs.push(C$99e,0,1,0,1,1,1,1),this._vs.push(C$99e,C$99n,1,1,1,1,1,1),this._vs.push(0,C$99n,0,1,1,1,1,1)),C$99i?this._ps=C$99i:(f9d$vp._defaultPS||(f9d$vp._defaultPS=[]).push(0,1,3,3,1,2),this._ps=f9d$vp._defaultPS),this.mVBData=new Float32Array(this._vs),this.mIBData=new Uint16Array(this._ps.length),this.mIBData.start=-1,this.mEleNum=this._ps.length,this.mTexture=C$99t},C$99i.init2=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.transform&&(this.transform=null),C$99i?this._ps=C$99i:(this._ps=[],this._ps.push(0,1,3,3,1,2)),this._verticles=C$99n,this._uvs=C$99r,this.mEleNum=this._ps.length,this.mTexture=C$99t,(C$99S.isConchNode||C$99S.isConchApp)&&(this._initMyData(),this.mVBData=new Float32Array(this._vs))},C$99i._initMyData=function(){var C$99t=0,C$99e=0,C$99i=4*this._verticles.length;this._vs=f9d$vp._tempVS;var C$99n=!1;if((C$99S.isConchNode||C$99S.isConchApp||this._vs.length<C$99i)&&(this._vs.length=C$99i,C$99n=!0),f9d$vp._tVSLen=C$99i,C$99n)for(;C$99t<C$99i;)this._vs[C$99t]=this._verticles[C$99e],this._vs[C$99t+1]=this._verticles[C$99e+1],this._vs[C$99t+2]=this._uvs[C$99e],this._vs[C$99t+3]=this._uvs[C$99e+1],this._vs[C$99t+4]=1,this._vs[C$99t+5]=1,this._vs[C$99t+6]=1,this._vs[C$99t+7]=1,C$99t+=8,C$99e+=2;else for(;C$99t<C$99i;)this._vs[C$99t]=this._verticles[C$99e],this._vs[C$99t+1]=this._verticles[C$99e+1],this._vs[C$99t+2]=this._uvs[C$99e],this._vs[C$99t+3]=this._uvs[C$99e+1],C$99t+=8,C$99e+=2},C$99i.getData2=function(C$99t,C$99e,C$99i){var C$99n;this.mVBBuffer=C$99t,this.mIBBuffer=C$99e,this._initMyData(),C$99t.appendEx2(this._vs,Float32Array,f9d$vp._tVSLen,4),this._indexStart=C$99e._byteLength,(C$99n=f9d$vp._tempIB).length<this._ps.length&&(C$99n.length=this._ps.length);for(var C$99r=0,C$99s=this._ps.length;C$99r<C$99s;C$99r++)C$99n[C$99r]=this._ps[C$99r]+C$99i;C$99e.appendEx2(C$99n,Uint16Array,this._ps.length,2)},C$99i.getData=function(C$99t,C$99e,C$99i){if(this.mVBBuffer=C$99t,this.mIBBuffer=C$99e,C$99t.append(this.mVBData),this._indexStart=C$99e._byteLength,this.mIBData.start!=C$99i){for(var C$99n=0,C$99r=this._ps.length;C$99n<C$99r;C$99n++)this.mIBData[C$99n]=this._ps[C$99n]+C$99i;this.mIBData.start=C$99i}C$99e.append(this.mIBData)},C$99i.render=function(C$99t,C$99e,C$99i){var C$99n,C$99r,C$99s;C$99S.isWebGL&&this.mTexture?(C$99t._renderKey=0,C$99t._shader2D.glTexture=null,C$99nt.getInstance().addSkinMesh(this),C$99n=C$99at.createShape(C$99t,this.mIBBuffer,this.mVBBuffer,this.mEleNum,this._indexStart,C$99wt.create(512,0)),this.transform||(this.transform=C$99w.EMPTY),this.transform.translate(C$99e,C$99i),C$99w.mul(this.transform,C$99t._curMat,this._tempMatrix),this.transform.translate(-C$99e,-C$99i),C$99s=(C$99r=C$99n.shaderValue).u_mmat2||C$99l.getMatrArray(),C$99l.mat2MatArray(this._tempMatrix,C$99s),C$99r.textureHost=this.mTexture,C$99r.offsetX=0,C$99r.offsetY=0,C$99r.u_mmat2=C$99s,C$99r.ALPHA=C$99t._shader2D.ALPHA,C$99t._submits[C$99t._submits._length++]=C$99n):C$99S.isConchApp&&this.mTexture&&(this.transform||(this.transform=C$99w.EMPTY),C$99t.setSkinMesh&&C$99t.setSkinMesh(C$99e,C$99i,this._ps,this.mVBData,this.mEleNum,0,this.mTexture,this.transform))},f9d$vp._tempVS=[],f9d$vp._tempIB=[],f9d$vp._defaultPS=null,f9d$vp._tVSLen=0,f9d$vp),C$99nt=(C$99e(p9di$v,"laya.webgl.shader.d2.skinAnishader.SkinMeshBuffer"),(C$99i=p9di$v.prototype).addSkinMesh=function(C$99t){C$99t.getData2(this.vb,this.ib,this.vb._byteLength/32)},C$99i.reset=function(){this.vb.clear(),this.ib.clear()},p9di$v.getInstance=function(){return p9di$v.instance=p9di$v.instance||new p9di$v},p9di$v.instance=null,p9di$v),C$99i=(C$99e(c9ti4,"laya.webgl.shapes.BasePoly"),C$99i=c9ti4.prototype,C$99g.imps(C$99i,{"laya.webgl.shapes.IShape":!0}),C$99i.getData=function(C$99t,C$99e,C$99i){},C$99i.rebuild=function(C$99t){},C$99i.setMatrix=function(C$99t){},C$99i.needUpdate=function(C$99t){return!0},C$99i.sector=function(C$99t,C$99c,C$99e){var C$99i=this.x,C$99n=this.y,C$99r=this.edges,C$99s=(this.r1-this.r0)/C$99r,C$99_=this.width,C$99u=this.height,C$99a=this.color,C$99o=(C$99a>>16&255)/255,C$99h=(C$99a>>8&255)/255,C$99d=(255&C$99a)/255;C$99t.push(C$99i,C$99n,C$99o,C$99h,C$99d);for(var C$99l=0;C$99l<C$99r+1;C$99l++)C$99t.push(C$99i+Math.sin(C$99s*C$99l+this.r0)*C$99_,C$99n+Math.cos(C$99s*C$99l+this.r0)*C$99u),C$99t.push(C$99o,C$99h,C$99d);for(C$99l=0;C$99l<C$99r;C$99l++)C$99c.push(C$99e,C$99e+C$99l+1,C$99e+C$99l+2)},C$99i.createLine2=function(C$99c,C$99_,C$99u,C$99d,C$99f,C$99p){var C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99m,C$99g,C$99v,C$99x,C$99a,C$99y,C$99o,C$99b,C$99h=C$99c.concat(),C$99w=C$99f,C$99c=this.borderColor,C$99T=(C$99c>>16&255)/255,C$99M=(C$99c>>8&255)/255,C$99S=(255&C$99c)/255,C$99C=C$99h.length/2,C$99D=C$99d,C$99E=C$99u/2;C$99t=C$99h[0],C$99e=C$99h[1],C$99s=C$99t-(C$99i=C$99h[2]),C$99r=(C$99r=-(C$99e-(C$99n=C$99h[3])))/(C$99b=Math.sqrt(C$99r*C$99r+C$99s*C$99s))*C$99E,C$99w.push(C$99t-C$99r+this.x,C$99e-(C$99s=C$99s/C$99b*C$99E)+this.y,C$99T,C$99M,C$99S,C$99t+C$99r+this.x,C$99e+C$99s+this.y,C$99T,C$99M,C$99S);for(var C$99l=1;C$99l<C$99C-1;C$99l++)C$99t=C$99h[2*(C$99l-1)],C$99e=C$99h[2*(C$99l-1)+1],C$99i=C$99h[2*C$99l],C$99n=C$99h[2*C$99l+1],C$99x=C$99h[2*(C$99l+1)],C$99g=C$99h[2*(C$99l+1)+1],C$99s=C$99t-C$99i,C$99o=C$99i-C$99x,C$99v=(-(C$99r=(C$99r=-(C$99e-C$99n))/(C$99b=Math.sqrt(C$99r*C$99r+C$99s*C$99s))*C$99E)+C$99t)*(-(C$99s=C$99s/C$99b*C$99E)+C$99n)-(-C$99r+C$99i)*(-C$99s+C$99e),C$99y=(-(C$99a=(C$99a=-(C$99n-C$99g))/(C$99b=Math.sqrt(C$99a*C$99a+C$99o*C$99o))*C$99E)+C$99x)*(-(C$99o=C$99o/C$99b*C$99E)+C$99n)-(-C$99a+C$99i)*(-C$99o+C$99g),C$99o=(C$99m=-C$99s+C$99e-(-C$99s+C$99n))*(C$99a=-C$99a+C$99i-(-C$99a+C$99x))-(C$99x=-C$99o+C$99g-(-C$99o+C$99n))*(C$99g=-C$99r+C$99i-(-C$99r+C$99t)),Math.abs(C$99o)<.1?(C$99o+=10.1,C$99w.push(C$99i-C$99r+this.x,C$99n-C$99s+this.y,C$99T,C$99M,C$99S,C$99i+C$99r+this.x,C$99n+C$99s+this.y,C$99T,C$99M,C$99S)):C$99w.push((C$99g=(C$99g*C$99y-C$99a*C$99v)/C$99o)+this.x,(C$99a=(C$99x*C$99v-C$99m*C$99y)/C$99o)+this.y,C$99T,C$99M,C$99S,C$99i-(C$99g-C$99i)+this.x,C$99n-(C$99a-C$99n)+this.y,C$99T,C$99M,C$99S);C$99t=C$99h[C$99h.length-4],C$99e=C$99h[C$99h.length-3],C$99s=C$99t-(C$99i=C$99h[C$99h.length-2]),C$99r=(C$99r=-(C$99e-(C$99n=C$99h[C$99h.length-1])))/(C$99b=Math.sqrt(C$99r*C$99r+C$99s*C$99s))*C$99E,C$99w.push(C$99i-C$99r+this.x,C$99n-(C$99s=C$99s/C$99b*C$99E)+this.y,C$99T,C$99M,C$99S,C$99i+C$99r+this.x,C$99n+C$99s+this.y,C$99T,C$99M,C$99S);var C$99A=C$99p;for(C$99l=1;C$99l<C$99A;C$99l++)C$99_.push(C$99D+2*(C$99l-1),C$99D+2*(C$99l-1)+1,C$99D+2*C$99l+1,C$99D+2*C$99l+1,C$99D+2*C$99l,C$99D+2*(C$99l-1));return C$99w},C$99i.createLine=function(C$99c,C$99_,C$99u,C$99d){var C$99t=C$99c.concat(),C$99f=C$99c,C$99c=this.borderColor,C$99p=(C$99c>>16&255)/255,C$99m=(C$99c>>8&255)/255,C$99g=(255&C$99c)/255;C$99t.splice(0,5);var C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99v,C$99x,C$99y,C$99b,C$99o,C$99w,C$99h,C$99T,C$99M=C$99t.length/5,C$99S=C$99d,C$99C=C$99u/2;C$99e=C$99t[0],C$99i=C$99t[1],C$99a=C$99e-(C$99n=C$99t[5]),C$99s=(C$99s=-(C$99i-(C$99r=C$99t[6])))/(C$99T=Math.sqrt(C$99s*C$99s+C$99a*C$99a))*C$99C,C$99f.push(C$99e-C$99s,C$99i-(C$99a=C$99a/C$99T*C$99C),C$99p,C$99m,C$99g,C$99e+C$99s,C$99i+C$99a,C$99p,C$99m,C$99g);for(var C$99l=1;C$99l<C$99M-1;C$99l++)C$99e=C$99t[5*(C$99l-1)],C$99i=C$99t[5*(C$99l-1)+1],C$99n=C$99t[5*C$99l],C$99r=C$99t[5*C$99l+1],C$99b=C$99t[5*(C$99l+1)],C$99x=C$99t[5*(C$99l+1)+1],C$99a=C$99e-C$99n,C$99h=C$99n-C$99b,C$99y=(-(C$99s=(C$99s=-(C$99i-C$99r))/(C$99T=Math.sqrt(C$99s*C$99s+C$99a*C$99a))*C$99C)+C$99e)*(-(C$99a=C$99a/C$99T*C$99C)+C$99r)-(-C$99s+C$99n)*(-C$99a+C$99i),C$99w=(-(C$99o=(C$99o=-(C$99r-C$99x))/(C$99T=Math.sqrt(C$99o*C$99o+C$99h*C$99h))*C$99C)+C$99b)*(-(C$99h=C$99h/C$99T*C$99C)+C$99r)-(-C$99o+C$99n)*(-C$99h+C$99x),C$99h=(C$99v=-C$99a+C$99i-(-C$99a+C$99r))*(C$99o=-C$99o+C$99n-(-C$99o+C$99b))-(C$99b=-C$99h+C$99x-(-C$99h+C$99r))*(C$99x=-C$99s+C$99n-(-C$99s+C$99e)),Math.abs(C$99h)<.1?(C$99h+=10.1,C$99f.push(C$99n-C$99s,C$99r-C$99a,C$99p,C$99m,C$99g,C$99n+C$99s,C$99r+C$99a,C$99p,C$99m,C$99g)):C$99f.push(C$99x=(C$99x*C$99w-C$99o*C$99y)/C$99h,C$99o=(C$99b*C$99y-C$99v*C$99w)/C$99h,C$99p,C$99m,C$99g,C$99n-(C$99x-C$99n),C$99r-(C$99o-C$99r),C$99p,C$99m,C$99g);C$99e=C$99t[C$99t.length-10],C$99i=C$99t[C$99t.length-9],C$99a=C$99e-(C$99n=C$99t[C$99t.length-5]),C$99s=(C$99s=-(C$99i-(C$99r=C$99t[C$99t.length-4])))/(C$99T=Math.sqrt(C$99s*C$99s+C$99a*C$99a))*C$99C,C$99f.push(C$99n-C$99s,C$99r-(C$99a=C$99a/C$99T*C$99C),C$99p,C$99m,C$99g,C$99n+C$99s,C$99r+C$99a,C$99p,C$99m,C$99g);var C$99D=this.edges+1;for(C$99l=1;C$99l<C$99D;C$99l++)C$99_.push(C$99S+2*(C$99l-1),C$99S+2*(C$99l-1)+1,C$99S+2*C$99l+1,C$99S+2*C$99l+1,C$99S+2*C$99l,C$99S+2*(C$99l-1));return C$99f},C$99i.createLoopLine=function(C$99c,C$99_,C$99u,C$99d,C$99t,C$99f){var C$99e=C$99c.concat(),C$99p=C$99t||C$99c,C$99t=this.borderColor,C$99m=(C$99t>>16&255)/255,C$99g=(C$99t>>8&255)/255,C$99v=(255&C$99t)/255;C$99e.splice(0,5);var C$99c=[C$99e[0],C$99e[1]],C$99t=[C$99e[C$99e.length-5],C$99e[C$99e.length-4]],C$99x=C$99t[0]+.5*(C$99c[0]-C$99t[0]),C$99c=C$99t[1]+.5*(C$99c[1]-C$99t[1]);C$99e.unshift(C$99x,C$99c,0,0,0),C$99e.push(C$99x,C$99c,0,0,0);var C$99y,C$99b,C$99i,C$99n,C$99r,C$99s,C$99w,C$99T,C$99M,C$99S,C$99a,C$99C,C$99o,C$99D,C$99E=C$99e.length/5,C$99h=C$99d,C$99A=C$99u/2;C$99y=C$99e[0],C$99b=C$99e[1],C$99s=C$99y-C$99e[5],C$99r=(C$99r=-(C$99b-C$99e[6]))/(C$99D=Math.sqrt(C$99r*C$99r+C$99s*C$99s))*C$99A,C$99p.push(C$99y-C$99r,C$99b-(C$99s=C$99s/C$99D*C$99A),C$99m,C$99g,C$99v,C$99y+C$99r,C$99b+C$99s,C$99m,C$99g,C$99v);for(var C$99l=1;C$99l<C$99E-1;C$99l++)C$99y=C$99e[5*(C$99l-1)],C$99b=C$99e[5*(C$99l-1)+1],C$99i=C$99e[5*C$99l],C$99n=C$99e[5*C$99l+1],C$99S=C$99e[5*(C$99l+1)],C$99T=C$99e[5*(C$99l+1)+1],C$99s=C$99y-C$99i,C$99o=C$99i-C$99S,C$99M=(-(C$99r=(C$99r=-(C$99b-C$99n))/(C$99D=Math.sqrt(C$99r*C$99r+C$99s*C$99s))*C$99A)+C$99y)*(-(C$99s=C$99s/C$99D*C$99A)+C$99n)-(-C$99r+C$99i)*(-C$99s+C$99b),C$99C=(-(C$99a=(C$99a=-(C$99n-C$99T))/(C$99D=Math.sqrt(C$99a*C$99a+C$99o*C$99o))*C$99A)+C$99S)*(-(C$99o=C$99o/C$99D*C$99A)+C$99n)-(-C$99a+C$99i)*(-C$99o+C$99T),C$99o=(C$99w=-C$99s+C$99b-(-C$99s+C$99n))*(C$99a=-C$99a+C$99i-(-C$99a+C$99S))-(C$99S=-C$99o+C$99T-(-C$99o+C$99n))*(C$99T=-C$99r+C$99i-(-C$99r+C$99y)),Math.abs(C$99o)<.1?(C$99o+=10.1,C$99p.push(C$99i-C$99r,C$99n-C$99s,C$99m,C$99g,C$99v,C$99i+C$99r,C$99n+C$99s,C$99m,C$99g,C$99v)):C$99p.push(C$99T=(C$99T*C$99C-C$99a*C$99M)/C$99o,C$99a=(C$99S*C$99M-C$99w*C$99C)/C$99o,C$99m,C$99g,C$99v,C$99i-(C$99T-C$99i),C$99n-(C$99a-C$99n),C$99m,C$99g,C$99v);C$99f&&(C$99_=C$99f);var C$99I=this.edges+1;for(C$99l=1;C$99l<C$99I;C$99l++)C$99_.push(C$99h+2*(C$99l-1),C$99h+2*(C$99l-1)+1,C$99h+2*C$99l+1,C$99h+2*C$99l+1,C$99h+2*C$99l,C$99h+2*(C$99l-1));return C$99_.push(C$99h+2*(C$99l-1),C$99h+2*(C$99l-1)+1,C$99h+1,C$99h+1,C$99h,C$99h+2*(C$99l-1)),C$99p},c9ti4),C$99rt=(C$99e(whmy5_,"laya.webgl.shapes.Earcut"),whmy5_.earcut=function(C$99t,C$99e,C$99i){C$99i=C$99i||2;var C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l,C$99c=C$99e&&C$99e.length,C$99_=C$99c?C$99e[0]*C$99i:C$99t.length,C$99u=whmy5_.linkedList(C$99t,0,C$99_,C$99i,!0),C$99d=[];if(!C$99u)return C$99d;if(C$99c&&(C$99u=whmy5_.eliminateHoles(C$99t,C$99e,C$99u,C$99i)),C$99t.length>80*C$99i){C$99n=C$99s=C$99t[0],C$99r=C$99a=C$99t[1];for(var C$99f=C$99i;C$99f<C$99_;C$99f+=C$99i)(C$99o=C$99t[C$99f])<C$99n&&(C$99n=C$99o),(C$99h=C$99t[C$99f+1])<C$99r&&(C$99r=C$99h),C$99s<C$99o&&(C$99s=C$99o),C$99a<C$99h&&(C$99a=C$99h);C$99l=0!==(C$99l=Math.max(C$99s-C$99n,C$99a-C$99r))?1/C$99l:0}return whmy5_.earcutLinked(C$99u,C$99d,C$99i,C$99n,C$99r,C$99l),C$99d},whmy5_.linkedList=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s,C$99a;if(C$99r===0<whmy5_.signedArea(C$99t,C$99e,C$99i,C$99n))for(C$99s=C$99e;C$99s<C$99i;C$99s+=C$99n)C$99a=whmy5_.insertNode(C$99s,C$99t[C$99s],C$99t[C$99s+1],C$99a);else for(C$99s=C$99i-C$99n;C$99e<=C$99s;C$99s-=C$99n)C$99a=whmy5_.insertNode(C$99s,C$99t[C$99s],C$99t[C$99s+1],C$99a);return C$99a&&whmy5_.equals(C$99a,C$99a.next)&&(whmy5_.removeNode(C$99a),C$99a=C$99a.next),C$99a},whmy5_.filterPoints=function(C$99t,C$99e){if(!C$99t)return C$99t;C$99e=C$99e||C$99t;var C$99i,C$99n=C$99t;do{if(C$99i=!1,C$99n.steiner||!whmy5_.equals(C$99n,C$99n.next)&&0!==whmy5_.area(C$99n.prev,C$99n,C$99n.next))C$99n=C$99n.next;else{if(whmy5_.removeNode(C$99n),(C$99n=C$99e=C$99n.prev)===C$99n.next)break;C$99i=!0}}while(C$99i||C$99n!==C$99e);return C$99e},whmy5_.earcutLinked=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){if(C$99t){!C$99a&&C$99s&&whmy5_.indexCurve(C$99t,C$99n,C$99r,C$99s);for(var C$99o,C$99h,C$99l=C$99t;C$99t.prev!==C$99t.next;)if(C$99o=C$99t.prev,C$99h=C$99t.next,C$99s?whmy5_.isEarHashed(C$99t,C$99n,C$99r,C$99s):whmy5_.isEar(C$99t))C$99e.push(C$99o.i/C$99i),C$99e.push(C$99t.i/C$99i),C$99e.push(C$99h.i/C$99i),whmy5_.removeNode(C$99t),C$99t=C$99h.next,C$99l=C$99h.next;else if((C$99t=C$99h)===C$99l){C$99a?1===C$99a?(C$99t=whmy5_.cureLocalIntersections(C$99t,C$99e,C$99i),whmy5_.earcutLinked(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,2)):2===C$99a&&whmy5_.splitEarcut(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s):whmy5_.earcutLinked(whmy5_.filterPoints(C$99t,null),C$99e,C$99i,C$99n,C$99r,C$99s,1);break}}},whmy5_.isEar=function(C$99t){var C$99e=C$99t.prev,C$99i=C$99t,C$99n=C$99t.next;if(0<=whmy5_.area(C$99e,C$99i,C$99n))return!1;for(var C$99r=C$99t.next.next;C$99r!==C$99t.prev;){if(whmy5_.pointInTriangle(C$99e.x,C$99e.y,C$99i.x,C$99i.y,C$99n.x,C$99n.y,C$99r.x,C$99r.y)&&0<=whmy5_.area(C$99r.prev,C$99r,C$99r.next))return!1;C$99r=C$99r.next}return!0},whmy5_.isEarHashed=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.prev,C$99s=C$99t,C$99a=C$99t.next;if(0<=whmy5_.area(C$99r,C$99s,C$99a))return!1;for(var C$99o=(C$99r.x<C$99s.x?C$99r.x<C$99a.x?C$99r:C$99a:C$99s.x<C$99a.x?C$99s:C$99a).x,C$99h=(C$99r.y<C$99s.y?C$99r.y<C$99a.y?C$99r:C$99a:C$99s.y<C$99a.y?C$99s:C$99a).y,C$99c=(C$99r.x>C$99s.x?C$99r.x>C$99a.x?C$99r:C$99a:C$99s.x>C$99a.x?C$99s:C$99a).x,C$99_=(C$99r.y>C$99s.y?C$99r.y>C$99a.y?C$99r:C$99a:C$99s.y>C$99a.y?C$99s:C$99a).y,C$99u=whmy5_.zOrder(C$99o,C$99h,C$99e,C$99i,C$99n),C$99d=whmy5_.zOrder(C$99c,C$99_,C$99e,C$99i,C$99n),C$99l=C$99t.nextZ;C$99l&&C$99l.z<=C$99d;){if(C$99l!==C$99t.prev&&C$99l!==C$99t.next&&whmy5_.pointInTriangle(C$99r.x,C$99r.y,C$99s.x,C$99s.y,C$99a.x,C$99a.y,C$99l.x,C$99l.y)&&0<=whmy5_.area(C$99l.prev,C$99l,C$99l.next))return!1;C$99l=C$99l.nextZ}for(C$99l=C$99t.prevZ;C$99l&&C$99l.z>=C$99u;){if(C$99l!==C$99t.prev&&C$99l!==C$99t.next&&whmy5_.pointInTriangle(C$99r.x,C$99r.y,C$99s.x,C$99s.y,C$99a.x,C$99a.y,C$99l.x,C$99l.y)&&0<=whmy5_.area(C$99l.prev,C$99l,C$99l.next))return!1;C$99l=C$99l.prevZ}return!0},whmy5_.cureLocalIntersections=function(C$99t,C$99e,C$99i){var C$99n=C$99t;do{var C$99r=C$99n.prev,C$99s=C$99n.next.next}while(!whmy5_.equals(C$99r,C$99s)&&whmy5_.intersects(C$99r,C$99n,C$99n.next,C$99s)&&whmy5_.locallyInside(C$99r,C$99s)&&whmy5_.locallyInside(C$99s,C$99r)&&(C$99e.push(C$99r.i/C$99i),C$99e.push(C$99n.i/C$99i),C$99e.push(C$99s.i/C$99i),whmy5_.removeNode(C$99n),whmy5_.removeNode(C$99n.next),C$99n=C$99t=C$99s),(C$99n=C$99n.next)!==C$99t);return C$99n},whmy5_.splitEarcut=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=C$99t;do{for(var C$99o=C$99a.next.next;C$99o!==C$99a.prev;){var C$99h;if(C$99a.i!==C$99o.i&&whmy5_.isValidDiagonal(C$99a,C$99o))return C$99h=whmy5_.splitPolygon(C$99a,C$99o),C$99a=whmy5_.filterPoints(C$99a,C$99a.next),C$99h=whmy5_.filterPoints(C$99h,C$99h.next),whmy5_.earcutLinked(C$99a,C$99e,C$99i,C$99n,C$99r,C$99s),void whmy5_.earcutLinked(C$99h,C$99e,C$99i,C$99n,C$99r,C$99s);C$99o=C$99o.next}}while((C$99a=C$99a.next)!==C$99t)},whmy5_.eliminateHoles=function(C$99t,C$99e,C$99i,C$99n){var C$99r,C$99s,C$99a,C$99o,C$99h=[];for(C$99r=0,C$99s=C$99e.length;C$99r<C$99s;C$99r++)C$99o=C$99e[C$99r]*C$99n,C$99a=C$99r<C$99s-1?C$99e[C$99r+1]*C$99n:C$99t.length,(C$99o=whmy5_.linkedList(C$99t,C$99o,C$99a,C$99n,!1))===C$99o.next&&(C$99o.steiner=!0),C$99h.push(whmy5_.getLeftmost(C$99o));for(C$99h.sort(whmy5_.compareX),C$99r=0;C$99r<C$99h.length;C$99r++)whmy5_.eliminateHole(C$99h[C$99r],C$99i),C$99i=whmy5_.filterPoints(C$99i,C$99i.next);return C$99i},whmy5_.compareX=function(C$99t,C$99e){return C$99t.x-C$99e.x},whmy5_.eliminateHole=function(C$99t,C$99e){(C$99e=whmy5_.findHoleBridge(C$99t,C$99e))&&(C$99e=whmy5_.splitPolygon(C$99e,C$99t),whmy5_.filterPoints(C$99e,C$99e.next))},whmy5_.findHoleBridge=function(C$99t,C$99c){var C$99e,C$99i=C$99c,C$99n=C$99t.x,C$99r=C$99t.y,C$99s=-1/0;do{if(C$99r<=C$99i.y&&C$99r>=C$99i.next.y&&C$99i.next.y!==C$99i.y){var C$99a=C$99i.x+(C$99r-C$99i.y)*(C$99i.next.x-C$99i.x)/(C$99i.next.y-C$99i.y);if(C$99a<=C$99n&&C$99s<C$99a){if((C$99s=C$99a)===C$99n){if(C$99r===C$99i.y)return C$99i;if(C$99r===C$99i.next.y)return C$99i.next}C$99e=C$99i.x<C$99i.next.x?C$99i:C$99i.next}}}while((C$99i=C$99i.next)!==C$99c);if(!C$99e)return null;if(C$99n===C$99s)return C$99e.prev;var C$99o,C$99_=C$99e,C$99u=C$99e.x,C$99h=C$99e.y,C$99l=1/0;for(C$99i=C$99e.next;C$99i!==C$99_;)C$99n>=C$99i.x&&C$99i.x>=C$99u&&C$99n!==C$99i.x&&whmy5_.pointInTriangle(C$99r<C$99h?C$99n:C$99s,C$99r,C$99u,C$99h,C$99r<C$99h?C$99s:C$99n,C$99r,C$99i.x,C$99i.y)&&((C$99o=Math.abs(C$99r-C$99i.y)/(C$99n-C$99i.x))<C$99l||C$99o===C$99l&&C$99i.x>C$99e.x)&&whmy5_.locallyInside(C$99i,C$99t)&&(C$99e=C$99i,C$99l=C$99o),C$99i=C$99i.next;return C$99e},whmy5_.indexCurve=function(C$99t,C$99e,C$99i,C$99n){for(var C$99r=C$99t;null===C$99r.z&&(C$99r.z=whmy5_.zOrder(C$99r.x,C$99r.y,C$99e,C$99i,C$99n)),C$99r.prevZ=C$99r.prev,C$99r.nextZ=C$99r.next,(C$99r=C$99r.next)!==C$99t;);C$99r.prevZ.nextZ=null,C$99r.prevZ=null,whmy5_.sortLinked(C$99r)},whmy5_.sortLinked=function(C$99t){var C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l=1;do{for(C$99i=C$99t,C$99s=C$99t=null,C$99a=0;C$99i;){for(C$99a++,C$99n=C$99i,C$99e=C$99o=0;C$99e<C$99l&&(C$99o++,C$99n=C$99n.nextZ);C$99e++);for(C$99h=C$99l;0<C$99o||0<C$99h&&C$99n;)0!==C$99o&&(0===C$99h||!C$99n||C$99i.z<=C$99n.z)?(C$99i=(C$99r=C$99i).nextZ,C$99o--):(C$99n=(C$99r=C$99n).nextZ,C$99h--),C$99s?C$99s.nextZ=C$99r:C$99t=C$99r,C$99r.prevZ=C$99s,C$99s=C$99r;C$99i=C$99n}}while(C$99s.nextZ=null,C$99l*=2,1<C$99a);return C$99t},whmy5_.zOrder=function(C$99t,C$99e,C$99i,C$99n,C$99r){return(C$99t=1431655765&((C$99t=858993459&((C$99t=252645135&((C$99t=16711935&((C$99t=32767*(C$99t-C$99i)*C$99r)|C$99t<<8))|C$99t<<4))|C$99t<<2))|C$99t<<1))|(1431655765&((C$99e=858993459&((C$99e=252645135&((C$99e=16711935&((C$99e=32767*(C$99e-C$99n)*C$99r)|C$99e<<8))|C$99e<<4))|C$99e<<2))|C$99e<<1))<<1},whmy5_.getLeftmost=function(C$99t){for(var C$99e=C$99t,C$99i=C$99t;C$99e.x<C$99i.x&&(C$99i=C$99e),(C$99e=C$99e.next)!==C$99t;);return C$99i},whmy5_.pointInTriangle=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){return 0<=(C$99r-C$99a)*(C$99e-C$99o)-(C$99t-C$99a)*(C$99s-C$99o)&&0<=(C$99t-C$99a)*(C$99n-C$99o)-(C$99i-C$99a)*(C$99e-C$99o)&&0<=(C$99i-C$99a)*(C$99s-C$99o)-(C$99r-C$99a)*(C$99n-C$99o)},whmy5_.isValidDiagonal=function(C$99t,C$99e){return C$99t.next.i!==C$99e.i&&C$99t.prev.i!==C$99e.i&&!whmy5_.intersectsPolygon(C$99t,C$99e)&&whmy5_.locallyInside(C$99t,C$99e)&&whmy5_.locallyInside(C$99e,C$99t)&&whmy5_.middleInside(C$99t,C$99e)},whmy5_.area=function(C$99t,C$99e,C$99i){return(C$99e.y-C$99t.y)*(C$99i.x-C$99e.x)-(C$99e.x-C$99t.x)*(C$99i.y-C$99e.y)},whmy5_.equals=function(C$99t,C$99e){return C$99t.x===C$99e.x&&C$99t.y===C$99e.y},whmy5_.intersects=function(C$99t,C$99e,C$99i,C$99n){return!!(whmy5_.equals(C$99t,C$99e)&&whmy5_.equals(C$99i,C$99n)||whmy5_.equals(C$99t,C$99n)&&whmy5_.equals(C$99i,C$99e))||0<whmy5_.area(C$99t,C$99e,C$99i)!=0<whmy5_.area(C$99t,C$99e,C$99n)&&0<whmy5_.area(C$99i,C$99n,C$99t)!=0<whmy5_.area(C$99i,C$99n,C$99e)},whmy5_.intersectsPolygon=function(C$99t,C$99e){var C$99i=C$99t;do{if(C$99i.i!==C$99t.i&&C$99i.next.i!==C$99t.i&&C$99i.i!==C$99e.i&&C$99i.next.i!==C$99e.i&&whmy5_.intersects(C$99i,C$99i.next,C$99t,C$99e))return!0}while((C$99i=C$99i.next)!==C$99t);return!1},whmy5_.locallyInside=function(C$99t,C$99e){return whmy5_.area(C$99t.prev,C$99t,C$99t.next)<0?0<=whmy5_.area(C$99t,C$99e,C$99t.next)&&0<=whmy5_.area(C$99t,C$99t.prev,C$99e):whmy5_.area(C$99t,C$99e,C$99t.prev)<0||whmy5_.area(C$99t,C$99t.next,C$99e)<0},whmy5_.middleInside=function(C$99t,C$99e){for(var C$99i=C$99t,C$99n=!1,C$99r=(C$99t.x+C$99e.x)/2,C$99s=(C$99t.y+C$99e.y)/2;C$99i.y>C$99s!=C$99i.next.y>C$99s&&C$99i.next.y!==C$99i.y&&C$99r<(C$99i.next.x-C$99i.x)*(C$99s-C$99i.y)/(C$99i.next.y-C$99i.y)+C$99i.x&&(C$99n=!C$99n),(C$99i=C$99i.next)!==C$99t;);return C$99n},whmy5_.splitPolygon=function(C$99t,C$99e){var C$99i=new C$99st(C$99t.i,C$99t.x,C$99t.y),C$99n=new C$99st(C$99e.i,C$99e.x,C$99e.y),C$99r=C$99t.next,C$99s=C$99e.prev;return(C$99t.next=C$99e).prev=C$99t,(C$99i.next=C$99r).prev=C$99i,(C$99n.next=C$99i).prev=C$99n,(C$99s.next=C$99n).prev=C$99s,C$99n},whmy5_.insertNode=function(C$99t,C$99e,C$99i,C$99n){C$99t=new C$99st(C$99t,C$99e,C$99i);return C$99n?(C$99t.next=C$99n.next,(C$99t.prev=C$99n).next.prev=C$99t,C$99n.next=C$99t):(C$99t.prev=C$99t).next=C$99t,C$99t},whmy5_.removeNode=function(C$99t){C$99t.next.prev=C$99t.prev,C$99t.prev.next=C$99t.next,C$99t.prevZ&&(C$99t.prevZ.nextZ=C$99t.nextZ),C$99t.nextZ&&(C$99t.nextZ.prevZ=C$99t.prevZ)},whmy5_.signedArea=function(C$99t,C$99e,C$99i,C$99n){for(var C$99r=0,C$99s=C$99e,C$99a=C$99i-C$99n;C$99s<C$99i;C$99s+=C$99n)C$99r+=(C$99t[C$99a]-C$99t[C$99s])*(C$99t[C$99s+1]+C$99t[C$99a+1]),C$99a=C$99s;return C$99r},whmy5_),C$99st=(C$99e(jraskb,"laya.webgl.shapes.EarcutNode"),jraskb),C$99at=(C$99e(rjbng,"laya.webgl.shapes.GeometryData"),(C$99n=rjbng.prototype).clone=function(){return new rjbng(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},C$99n.getIndexData=function(){return null},C$99n.getVertexData=function(){return null},C$99n.destroy=function(){this.shape=null},C$99e(zpf$vd,"laya.webgl.shapes.Vertex"),C$99n=zpf$vd.prototype,C$99g.imps(C$99n,{"laya.webgl.shapes.IShape":!0}),C$99n.getData=function(C$99t,C$99e,C$99i){},C$99n.needUpdate=function(C$99t){return!1},C$99n.rebuild=function(C$99t){},C$99n.setMatrix=function(C$99t){},C$99e(e7zq0,"laya.webgl.submit.Submit"),C$99n=e7zq0.prototype,C$99g.imps(C$99n,{"laya.webgl.submit.ISubmit":!0}),C$99n.releaseRender=function(){var C$99t=e7zq0._cache;(C$99t[C$99t._length++]=this).shaderValue.release(),this.shaderValue=null,this._vb=null,this._ib=null},C$99n.getRenderType=function(){return this._renderType},C$99n.renderSubmit=function(){if(0===this._numEle)return 1;var C$99t=this.shaderValue.textureHost;if(C$99t){var C$99e=C$99t.source;if(!C$99t.bitmap||!C$99e)return 1;this.shaderValue.texture=C$99e,C$99t.alphaTexture&&C$99t.alphaTexture.source&&(this.shaderValue.texture1=C$99t.alphaTexture.source)}this._vb.bind_upload(this._ib);C$99e=C$99c.mainContext;return this.shaderValue.upload(),C$99q.activeBlendFunction!==this._blendFn&&(C$99e.enable(3042),this._blendFn(C$99e),C$99q.activeBlendFunction=this._blendFn),C$99P.drawCall++,C$99P.trianglesFaces+=this._numEle/3,C$99e.drawElements(4,this._numEle,5123,this._startIdx),1},e7zq0.__init__=function(){var C$99t=e7zq0.RENDERBASE=new e7zq0(-1);C$99t.shaderValue=new C$99wt(0,0),C$99t.shaderValue.ALPHA=-1234},e7zq0.createSubmit=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=e7zq0._cache._length?e7zq0._cache[--e7zq0._cache._length]:new e7zq0;null==C$99i&&((C$99i=C$99s._selfVb||(C$99s._selfVb=C$99Zt.create(-1))).clear(),C$99n=0),C$99s._ib=C$99e,C$99s._vb=C$99i,C$99s._startIdx=C$99n*C$99mt.BYTES_PIDX,C$99s._numEle=0;C$99e=C$99t._nBlendType;C$99s._blendFn=(C$99t._targets?C$99q.targetFns:C$99q.fns)[C$99e],C$99s.shaderValue=C$99r,C$99s.shaderValue.setValue(C$99t._shader2D);C$99i=C$99t._shader2D.filters;return C$99i&&C$99s.shaderValue.setFilters(C$99i),C$99s},e7zq0.createShape=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=e7zq0._cache._length?e7zq0._cache[--e7zq0._cache._length]:new e7zq0;C$99a._ib=C$99e,C$99a._vb=C$99i,C$99a._numEle=C$99n,C$99a._startIdx=C$99r,C$99a.shaderValue=C$99s,C$99a.shaderValue.setValue(C$99t._shader2D);C$99e=C$99t._nBlendType;return C$99a._blendFn=(C$99t._targets?C$99q.targetFns:C$99q.fns)[C$99e],C$99a},e7zq0.TYPE_2D=1e4,e7zq0.TYPE_CANVAS=10003,e7zq0.TYPE_CMDSETRT=10004,e7zq0.TYPE_CUSTOM=10005,e7zq0.TYPE_BLURRT=10006,e7zq0.TYPE_CMDDESTORYPRERT=10007,e7zq0.TYPE_DISABLESTENCIL=10008,e7zq0.TYPE_OTHERIBVB=10009,e7zq0.TYPE_PRIMITIVE=10010,e7zq0.TYPE_RT=10011,e7zq0.TYPE_BLUR_RT=10012,e7zq0.TYPE_TARGET=10013,e7zq0.TYPE_CHANGE_VALUE=10014,e7zq0.TYPE_SHAPE=10015,e7zq0.TYPE_TEXTURE=10016,e7zq0.TYPE_FILLTEXTURE=10017,e7zq0.RENDERBASE=null,e7zq0._cache=((e7zq0._cache=[])._length=0,e7zq0._cache),e7zq0),C$99ot=(C$99e(q0y_xe,"laya.webgl.submit.SubmitCMD"),C$99n=q0y_xe.prototype,C$99g.imps(C$99n,{"laya.webgl.submit.ISubmit":!0}),C$99n.renderSubmit=function(){return this.fun.apply(null,this.args),1},C$99n.getRenderType=function(){return 0},C$99n.releaseRender=function(){var C$99t=q0y_xe._cache;C$99t[C$99t._length++]=this},q0y_xe.create=function(C$99t,C$99e){var C$99i=q0y_xe._cache._length?q0y_xe._cache[--q0y_xe._cache._length]:new q0y_xe;return C$99i.fun=C$99e,C$99i.args=C$99t,C$99i},q0y_xe._cache=((q0y_xe._cache=[])._length=0,q0y_xe._cache),q0y_xe),C$99ht=(C$99e(qfoz,"laya.webgl.submit.SubmitCMDScope"),(C$99n=qfoz.prototype).getValue=function(C$99t){return this.variables[C$99t]},C$99n.addValue=function(C$99t,C$99e){return this.variables[C$99t]=C$99e},C$99n.setValue=function(C$99t,C$99e){return this.variables.hasOwnProperty(C$99t)?this.variables[C$99t]=C$99e:null},C$99n.clear=function(){for(var C$99t in this.variables)delete this.variables[C$99t]},C$99n.recycle=function(){this.clear(),qfoz.POOL.push(this)},qfoz.create=function(){var C$99t=qfoz.POOL.pop();return C$99t=C$99t||new qfoz},qfoz.POOL=[],qfoz),C$99lt=(C$99e(jnrb,"laya.webgl.submit.SubmitOtherIBVB"),C$99n=jnrb.prototype,C$99g.imps(C$99n,{"laya.webgl.submit.ISubmit":!0}),C$99n.releaseRender=function(){var C$99t=jnrb._cache;(C$99t[C$99t._length++]=this).shaderValue.release(),this.shaderValue=null,this._vb=null,this._ib=null},C$99n.getRenderType=function(){return 10009},C$99n.renderSubmit=function(){var C$99t=this._shaderValue.textureHost;if(C$99t){var C$99e=C$99t.source;if(!C$99t.bitmap||!C$99e)return 1;this._shaderValue.texture=C$99e}this._vb.bind_upload(this._ib);C$99t=C$99l.worldMatrix4,C$99e=C$99w.TEMP;C$99w.mulPre(this._mat,C$99t[0],C$99t[1],C$99t[4],C$99t[5],C$99t[12],C$99t[13],C$99e);var C$99i=C$99l.worldMatrix4=jnrb.tempMatrix4;C$99i[0]=C$99e.a,C$99i[1]=C$99e.b,C$99i[4]=C$99e.c,C$99i[5]=C$99e.d,C$99i[12]=C$99e.tx,C$99i[13]=C$99e.ty,this._shader._offset=this.offset,this._shaderValue.refresh(),this._shader.upload(this._shaderValue),this._shader._offset=0;C$99i=C$99c.mainContext;return C$99q.activeBlendFunction!==this._blendFn&&(C$99i.enable(3042),this._blendFn(C$99i),C$99q.activeBlendFunction=this._blendFn),C$99P.drawCall++,C$99P.trianglesFaces+=this._numEle/3,C$99i.drawElements(4,this._numEle,5123,this.startIndex),C$99l.worldMatrix4=C$99t,C$99Lt.activeShader=null,1},jnrb.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){void 0===C$99h&&(C$99h=0);var C$99l=jnrb._cache._length?jnrb._cache[--jnrb._cache._length]:new jnrb;C$99l._ib=C$99i,C$99l._vb=C$99e,C$99l._numEle=C$99n,C$99l._shader=C$99r,C$99l._shaderValue=C$99s;C$99i=C$99t._nBlendType;switch(C$99l._blendFn=(C$99t._targets?C$99q.targetFns:C$99q.fns)[C$99i],C$99h){case 0:C$99l.offset=0,C$99l.startIndex=C$99o/(C$99mt.BYTES_PE*C$99e.vertexStride)*1.5,C$99l.startIndex*=C$99mt.BYTES_PIDX;break;case 1:C$99l.startIndex=C$99a,C$99l.offset=C$99o}return C$99l},jnrb._cache=((jnrb._cache=[])._length=0,jnrb._cache),jnrb.tempMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],jnrb),C$99ct=(C$99e(gajbkr,"laya.webgl.submit.SubmitScissor"),C$99n=gajbkr.prototype,C$99g.imps(C$99n,{"laya.webgl.submit.ISubmit":!0}),C$99n._scissor=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99l.worldMatrix4,C$99s=C$99r[0],C$99a=C$99r[5],C$99o=C$99r[12],C$99r=C$99r[13];if(C$99n*=C$99a,(C$99i*=C$99s)<1||C$99n<1)return!1;C$99s=(C$99t=C$99t*C$99s+C$99o)+C$99i,C$99o=(C$99e=C$99e*C$99a+C$99r)+C$99n;C$99t<0&&(C$99i=C$99s-(C$99t=0)),C$99e<0&&(C$99n=C$99o-(C$99e=0));C$99a=C$99l.worldClipRect;if(C$99t=Math.max(C$99t,C$99a.x),C$99e=Math.max(C$99e,C$99a.y),C$99i=Math.min(C$99s,C$99a.right)-C$99t,C$99n=Math.min(C$99o,C$99a.bottom)-C$99e,C$99i<1||C$99n<1)return!1;C$99r=C$99l.worldScissorTest;return this.screenRect.copyFrom(C$99a),C$99a.x=C$99t,C$99a.y=C$99e,C$99a.width=C$99i,C$99a.height=C$99n,C$99l.worldScissorTest=!0,C$99e=C$99l.height-C$99e-C$99n,C$99c.mainContext.scissor(C$99t,C$99e,C$99i,C$99n),C$99c.mainContext.enable(3089),this.context.submitElement(this.submitIndex,this.submitIndex+this.submitLength),C$99r?(C$99e=C$99l.height-this.screenRect.y-this.screenRect.height,C$99c.mainContext.scissor(this.screenRect.x,C$99e,this.screenRect.width,this.screenRect.height),C$99c.mainContext.enable(3089)):(C$99c.mainContext.disable(3089),C$99l.worldScissorTest=!1),C$99a.copyFrom(this.screenRect),!0},C$99n._scissorWithTagart=function(C$99t,C$99e,C$99i,C$99n){if(C$99i<1||C$99n<1)return!1;var C$99r=C$99t+C$99i,C$99s=C$99e+C$99n;C$99t<0&&(C$99i=C$99r-(C$99t=0)),C$99e<0&&(C$99n=C$99s-(C$99e=0));var C$99a=C$99l.worldClipRect;if(C$99t=Math.max(C$99t,C$99a.x),C$99e=Math.max(C$99e,C$99a.y),C$99i=Math.min(C$99r,C$99a.right)-C$99t,C$99n=Math.min(C$99s,C$99a.bottom)-C$99e,C$99i<1||C$99n<1)return!1;C$99r=C$99l.worldScissorTest;return this.screenRect.copyFrom(C$99a),C$99l.worldScissorTest=!0,C$99a.x=C$99t,C$99a.y=C$99e,C$99a.width=C$99i,C$99a.height=C$99n,C$99e=C$99l.height-C$99e-C$99n,C$99c.mainContext.scissor(C$99t,C$99e,C$99i,C$99n),C$99c.mainContext.enable(3089),this.context.submitElement(this.submitIndex,this.submitIndex+this.submitLength),C$99r?(C$99e=C$99l.height-this.screenRect.y-this.screenRect.height,C$99c.mainContext.scissor(this.screenRect.x,C$99e,this.screenRect.width,this.screenRect.height),C$99c.mainContext.enable(3089)):(C$99c.mainContext.disable(3089),C$99l.worldScissorTest=!1),C$99a.copyFrom(this.screenRect),!0},C$99n.renderSubmit=function(){return this.submitLength=Math.min(this.context._submits._length-1,this.submitLength),this.submitLength<1||this.clipRect.width<1||this.clipRect.height<1||(this.context._targets?this._scissorWithTagart(this.clipRect.x,this.clipRect.y,this.clipRect.width,this.clipRect.height):this._scissor(this.clipRect.x,this.clipRect.y,this.clipRect.width,this.clipRect.height)),this.submitLength+1},C$99n.getRenderType=function(){return 0},C$99n.releaseRender=function(){var C$99t=gajbkr._cache;(C$99t[C$99t._length++]=this).context=null},gajbkr.create=function(C$99t){var C$99e=gajbkr._cache._length?gajbkr._cache[--gajbkr._cache._length]:new gajbkr;return C$99e.context=C$99t,C$99e},gajbkr._cache=((gajbkr._cache=[])._length=0,gajbkr._cache),gajbkr),C$99_t=(C$99e(asbujk,"laya.webgl.submit.SubmitStencil"),C$99n=asbujk.prototype,C$99g.imps(C$99n,{"laya.webgl.submit.ISubmit":!0}),C$99n.renderSubmit=function(){switch(this.step){case 1:this.do1();break;case 2:this.do2();break;case 3:this.do3();break;case 4:this.do4();break;case 5:this.do5();break;case 6:this.do6();break;case 7:this.do7();break;case 8:this.do8()}return 1},C$99n.getRenderType=function(){return 0},C$99n.releaseRender=function(){var C$99t=asbujk._cache;C$99t[C$99t._length++]=this},C$99n.do1=function(){var C$99t=C$99c.mainContext;C$99t.enable(2960),C$99t.clear(1024),C$99t.colorMask(!1,!1,!1,!1),C$99t.stencilFunc(514,this.level,255),C$99t.stencilOp(7680,7680,7682)},C$99n.do2=function(){var C$99t=C$99c.mainContext;C$99t.stencilFunc(514,this.level+1,255),C$99t.colorMask(!0,!0,!0,!0),C$99t.stencilOp(7680,7680,7680)},C$99n.do3=function(){var C$99t=C$99c.mainContext;C$99t.colorMask(!0,!0,!0,!0),C$99t.stencilOp(7680,7680,7680),C$99t.clear(1024),C$99t.disable(2960)},C$99n.do4=function(){var C$99t=C$99c.mainContext;0==this.level&&(C$99t.enable(2960),C$99t.clear(1024)),C$99t.colorMask(!1,!1,!1,!1),C$99t.stencilFunc(519,0,255),C$99t.stencilOp(7680,7680,7682)},C$99n.do5=function(){var C$99t=C$99c.mainContext;C$99t.stencilFunc(514,this.level,255),C$99t.colorMask(!0,!0,!0,!0),C$99t.stencilOp(7680,7680,7680)},C$99n.do6=function(){var C$99t=C$99c.mainContext;C$99q.targetFns[C$99q.TOINT[this.blendMode]](C$99t)},C$99n.do7=function(){var C$99t=C$99c.mainContext;C$99t.colorMask(!1,!1,!1,!1),C$99t.stencilOp(7680,7680,7683)},C$99n.do8=function(){var C$99t=C$99c.mainContext;C$99t.colorMask(!0,!0,!0,!0),C$99t.stencilFunc(514,this.level,255),C$99t.stencilOp(7680,7680,7680)},asbujk.restore=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s;var C$99a;(C$99t._renderKey=0)<asbujk._mask&&asbujk._mask--,0==asbujk._mask?(C$99s=laya.webgl.submit.SubmitStencil.create(3),C$99t.addRenderObject(C$99s),C$99t._curSubmit=C$99at.RENDERBASE):(C$99s=laya.webgl.submit.SubmitStencil.create(7),C$99t.addRenderObject(C$99s),(C$99a=C$99t._vb)._byteLength,C$99gt.fillRectImgVb(C$99a,null,C$99e.x,C$99e.y,C$99e.width,C$99e.height,C$99B.DEF_UV,C$99i,C$99n,C$99r,0,0)?(C$99t._shader2D.glTexture=null,(C$99e=C$99t._curSubmit=C$99at.createSubmit(C$99t,C$99t._ib,C$99a,(C$99a._byteLength-64)/32*3,C$99wt.create(2,0))).shaderValue.ALPHA=1,C$99t._submits[C$99t._submits._length++]=C$99e,C$99t._curSubmit._numEle+=6,C$99t._curSubmit=C$99at.RENDERBASE):alert("clipRect calc stencil rect error"),C$99s=laya.webgl.submit.SubmitStencil.create(8),C$99t.addRenderObject(C$99s))},asbujk.restore2=function(C$99t,C$99e){var C$99i;(C$99t._renderKey=0)<asbujk._mask&&asbujk._mask--,0==asbujk._mask?(C$99i=laya.webgl.submit.SubmitStencil.create(3),C$99t.addRenderObject(C$99i),C$99t._curSubmit=C$99at.RENDERBASE):(C$99i=laya.webgl.submit.SubmitStencil.create(7),C$99t.addRenderObject(C$99i),C$99t._submits[C$99t._submits._length++]=C$99e,C$99i=laya.webgl.submit.SubmitStencil.create(8),C$99t.addRenderObject(C$99i))},asbujk.create=function(C$99t){var C$99e=asbujk._cache._length?asbujk._cache[--asbujk._cache._length]:new asbujk;return 5==(C$99e.step=C$99t)&&++asbujk._mask,C$99e.level=asbujk._mask,C$99e},asbujk._cache=((asbujk._cache=[])._length=0,asbujk._cache),asbujk._mask=0,asbujk),C$99ut=(C$99e(tcv,"laya.webgl.submit.SubmitTarget"),C$99n=tcv.prototype,C$99g.imps(C$99n,{"laya.webgl.submit.ISubmit":!0}),C$99n.renderSubmit=function(){this._vb.bind_upload(this._ib);var C$99t=this.scope.getValue(this.proName);return C$99t&&(this.shaderValue.texture=C$99t.source,this.shaderValue.strength&&!this.shaderValue.blurInfo&&(this.shaderValue.blurInfo=[C$99t.width,C$99t.height]),this.shaderValue.upload(),this.blend(),C$99P.drawCall++,C$99P.trianglesFaces+=this._numEle/3,C$99c.mainContext.drawElements(4,this._numEle,5123,this._startIdx)),1},C$99n.blend=function(){var C$99t;C$99q.activeBlendFunction!==C$99q.fns[this.blendType]&&((C$99t=C$99c.mainContext).enable(3042),C$99q.fns[this.blendType](C$99t),C$99q.activeBlendFunction=C$99q.fns[this.blendType])},C$99n.getRenderType=function(){return 0},C$99n.releaseRender=function(){var C$99t=tcv._cache;(C$99t[C$99t._length++]=this).shaderValue.release(),this.shaderValue=null,this._vb=null,this._ib=null},tcv.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=tcv._cache._length?tcv._cache[--tcv._cache._length]:new tcv;return C$99a._ib=C$99e,C$99a._vb=C$99i,C$99a.proName=C$99s,C$99a._startIdx=C$99n*C$99mt.BYTES_PIDX,C$99a._numEle=0,C$99a.blendType=C$99t._nBlendType,C$99a.shaderValue=C$99r,C$99a.shaderValue.setValue(C$99t._shader2D),C$99a},tcv._cache=((tcv._cache=[])._length=0,tcv._cache),tcv),C$99dt=(C$99e(dp9$fv,"laya.webgl.text.CharSegment"),C$99n=dp9$fv.prototype,C$99g.imps(C$99n,{"laya.webgl.text.ICharSegment":!0}),C$99n.textToSpit=function(C$99t){this._sourceStr=C$99t},C$99n.getChar=function(C$99t){return this._sourceStr.charAt(C$99t)},C$99n.getCharCode=function(C$99t){return this._sourceStr.charCodeAt(C$99t)},C$99n.length=function(){return this._sourceStr.length},dp9$fv),C$99ft=(C$99e(xy_,"laya.webgl.text.DrawText"),xy_.__init__=function(){xy_._charsTemp=[],xy_._drawValue=new C$99le,xy_._charSeg=new C$99dt},xy_.customCharSeg=function(C$99t){xy_._charSeg=C$99t},xy_.getChar=function(C$99t,C$99e,C$99i){C$99t=C$99jt.createOneChar(C$99t,C$99i);return-1!=C$99e&&(xy_._charsCache[C$99e]=C$99t),C$99t},xy_._drawSlow=function(C$99t,C$99c,C$99_,C$99e,C$99u,C$99d,C$99f,C$99p,C$99m,C$99g,C$99v,C$99x,C$99y,C$99b,C$99w){var C$99i,C$99n,C$99T=xy_._drawValue.value(C$99d,C$99p,C$99m,C$99g,C$99y,C$99b,C$99w),C$99r=0,C$99s=0,C$99a=xy_._charsTemp,C$99M=0,C$99o=NaN;if(C$99e)for(C$99a.length=C$99e.length,C$99r=0,C$99s=C$99e.length;C$99r<C$99s;C$99r++)(C$99n=C$99e[C$99r])&&(C$99o=C$99n.charNum+C$99T.txtID,C$99a[C$99r]=C$99i=xy_._charsCache[C$99o]||xy_.getChar(C$99n.char,C$99o,C$99T),C$99i.active());else{C$99d=C$99_ instanceof laya.utils.WordText?C$99_.toString():C$99_;if(C$99k.CharacterCache){xy_._charSeg.textToSpit(C$99d);C$99p=xy_._charSeg.length();for(C$99r=0,C$99s=C$99a.length=C$99p;C$99r<C$99s;C$99r++)C$99o=xy_._charSeg.getCharCode(C$99r)+C$99T.txtID,C$99a[C$99r]=C$99i=xy_._charsCache[C$99o]||xy_.getChar(xy_._charSeg.getChar(C$99r),C$99o,C$99T),C$99i.active(),C$99M+=C$99i.cw}else C$99a.length=0,(C$99i=xy_.getChar(C$99d,-1,C$99T)).active(),C$99M+=C$99i.cw,C$99a[0]=C$99i}var C$99S=0;null!==C$99f&&"left"!==C$99f&&(C$99S=-("center"==C$99f?C$99M/2:C$99M));var C$99h,C$99C,C$99l=NaN,C$99D=0;if(C$99e)for(C$99r=0,C$99s=C$99a.length;C$99r<C$99s;C$99r++)C$99i=C$99a[C$99r],C$99n=C$99e[C$99r],C$99i&&C$99n&&!C$99i.isSpace&&(C$99l=C$99i.borderSize,C$99h=C$99i.texture,C$99c._drawText(C$99h,C$99v+C$99S+C$99n.x*C$99y-C$99l,C$99x+C$99n.y*C$99b-C$99l,C$99h.width,C$99h.height,C$99u,0,0,0,0));else{for(C$99r=0,C$99s=C$99a.length;C$99r<C$99s;C$99r++)(C$99i=C$99a[C$99r])&&!C$99i.isSpace&&(C$99l=C$99i.borderSize,C$99h=C$99i.texture,C$99c._drawText(C$99h,C$99v+C$99S-C$99l,C$99x-C$99l,C$99h.width,C$99h.height,C$99u,0,0,0,0),C$99t&&((C$99C=(C$99C=C$99t[C$99D++])?C$99C:C$99t[C$99D-1]=[])[0]=C$99h,C$99C[1]=C$99S-C$99l,C$99C[2]=-C$99l)),C$99S+=C$99i.cw;C$99t&&(C$99t.length=C$99D)}},xy_._drawFast=function(C$99t,C$99e,C$99i,C$99n,C$99r){for(var C$99s,C$99a,C$99o=0,C$99h=C$99t.length;C$99o<C$99h;C$99o++)(C$99s=(C$99a=C$99t[C$99o])[0]).active(),C$99e._drawText(C$99s,C$99n+C$99a[1],C$99r+C$99a[2],C$99s.width,C$99s.height,C$99i,0,0,0,0)},xy_.drawText=function(C$99t,C$99e,C$99i,C$99n,C$99c,C$99_,C$99u,C$99d,C$99f,C$99r,C$99s,C$99p){if(void 0===C$99p&&(C$99p=0),!(C$99e&&0===C$99e.length||C$99i&&0===C$99i.length)){var C$99a=C$99n.a,C$99o=C$99n.d;var C$99h=1!==(C$99a=0===C$99n.b&&0===C$99n.c?C$99a:C$99o=1)||1!==C$99o;if((C$99h=!(!C$99h||!C$99g.stage.transform)&&((C$99l=C$99g.stage.transform).a===C$99a&&C$99l.d===C$99o))?(C$99l=(C$99n=C$99n.copyTo(C$99bt._tmpMatrix)).tx,C$99h=C$99n.ty,C$99n.scale(1/C$99a,1/C$99o),C$99n._checkTransform(),C$99r=C$99r*C$99a+(C$99l-C$99n.tx),C$99s=C$99s*C$99o+(C$99h-C$99n.ty)):C$99a=C$99o=1,C$99i)xy_._drawSlow(null,C$99t,C$99e,C$99i,C$99n,C$99c,C$99_,C$99u,C$99d,C$99f,C$99r,C$99s,C$99a,C$99o,C$99p);else{if(null===C$99e.toUpperCase)return C$99l=C$99a+1e5*C$99o,void((C$99h=C$99e).changed||C$99h.id!==C$99l?(C$99h.id=C$99l,C$99h.changed=!1,xy_._drawSlow(C$99h.save,C$99t,C$99e,C$99i,C$99n,C$99c,C$99_,C$99u,C$99d,C$99f,C$99r,C$99s,C$99a,C$99o,C$99p)):xy_._drawFast(C$99h.save,C$99t,C$99n,C$99r,C$99s));var C$99l=C$99e+C$99c.toString()+C$99u+C$99d+C$99f+C$99a+C$99o+C$99_,C$99h=xy_._textsCache[C$99l];C$99k.CharacterCache?C$99h?xy_._drawFast(C$99h,C$99t,C$99n,C$99r,C$99s):(xy_._textsCache.__length||(xy_._textsCache.__length=0),xy_._textsCache.__length>C$99m.WebGLTextCacheCount&&((xy_._textsCache={}).__length=0,xy_._curPoolIndex=0),xy_._textCachesPool[xy_._curPoolIndex]?(C$99h=xy_._textsCache[C$99l]=xy_._textCachesPool[xy_._curPoolIndex]).length=0:xy_._textCachesPool[xy_._curPoolIndex]=C$99h=xy_._textsCache[C$99l]=[],xy_._textsCache.__length++,xy_._curPoolIndex++,xy_._drawSlow(C$99h,C$99t,C$99e,C$99i,C$99n,C$99c,C$99_,C$99u,C$99d,C$99f,C$99r,C$99s,C$99a,C$99o,C$99p)):xy_._drawSlow(C$99h,C$99t,C$99e,C$99i,C$99n,C$99c,C$99_,C$99u,C$99d,C$99f,C$99r,C$99s,C$99a,C$99o,C$99p)}}},xy_._charsTemp=null,xy_._textCachesPool=[],xy_._curPoolIndex=0,xy_._charsCache={},xy_._textsCache={},xy_._drawValue=null,xy_.d=[],xy_._charSeg=null,xy_.__init$=function(){function f7d$z(){}C$99e(f7d$z,""),f7d$z.prototype.value=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this.font=C$99t,this.fillColor=C$99e,this.borderColor=C$99i,this.lineWidth=C$99n,this.scaleX=C$99r,this.scaleY=C$99s,this.underLine=C$99a;C$99t=C$99t.toString()+C$99r+C$99s+C$99n+(C$99e?C$99e.toLowerCase():" ")+(C$99i?C$99i.toLowerCase():" ")+C$99a;return this.txtID=f7d$z._keymap[C$99t],this.txtID||(this.txtID=1e-7*++f7d$z._keymapCount,f7d$z._keymap[C$99t]=this.txtID),this},f7d$z.clear=function(){f7d$z._keymap={},f7d$z._keymapCount=1},f7d$z._keymap={},f7d$z._keymapCount=1,C$99le=f7d$z},xy_),C$99pt=(C$99e(_5hmyw,"laya.webgl.text.FontInContext"),(C$99n=_5hmyw.prototype).setFont=function(C$99t){var C$99e=_5hmyw._cache2[C$99t];if(C$99e)this._words=C$99e[0],this._size=C$99e[1];else{this._words=C$99t.split(" ");for(var C$99i=0,C$99n=this._words.length;C$99i<C$99n;C$99i++)if(0<this._words[C$99i].indexOf("px")){this._index=C$99i;break}this._size=parseInt(this._words[this._index]),_5hmyw._cache2[C$99t]=[this._words,this._size]}this._text=null,this._italic=-2},C$99n.getItalic=function(){return-2===this._italic&&(this._italic=this.hasType("italic")),this._italic},C$99n.hasType=function(C$99t){for(var C$99e=0,C$99i=this._words.length;C$99e<C$99i;C$99e++)if(this._words[C$99e]===C$99t)return C$99e;return-1},C$99n.removeType=function(C$99t){for(var C$99e=0,C$99i=this._words.length;C$99e<C$99i;C$99e++)if(this._words[C$99e]===C$99t){this._words.splice(C$99e,1),this._index>C$99e&&this._index--;break}this._text=null,this._italic=-2},C$99n.copyTo=function(C$99t){return C$99t._text=this._text,C$99t._size=this._size,C$99t._index=this._index,C$99t._words=this._words.slice(),C$99t._italic=-2,C$99t},C$99n.toString=function(){return this._text||(this._text=this._words.join(" "))},C$99s(0,C$99n,"size",function(){return this._size},function(C$99t){this._size=C$99t,this._words[this._index]=C$99t+"px",this._text=null}),_5hmyw.create=function(C$99t){var C$99e=_5hmyw._cache[C$99t];return C$99e||(_5hmyw._cache[C$99t]=new _5hmyw(C$99t))},_5hmyw.EMPTY=new _5hmyw,_5hmyw._cache={},_5hmyw._cache2=null,_5hmyw),C$99mt=(C$99e(d$i9vc,"laya.webgl.utils.CONST3D2D"),d$i9vc.defaultMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],d$i9vc.defaultMinusYMatrix4=[1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1],d$i9vc.uniformMatrix3=[1,0,0,0,0,1,0,0,0,0,1,0],d$i9vc._TMPARRAY=[],d$i9vc._OFFSETX=0,d$i9vc._OFFSETY=0,C$99r(d$i9vc,["BYTES_PE",function(){return this.BYTES_PE=Float32Array.BYTES_PER_ELEMENT},"BYTES_PIDX",function(){return this.BYTES_PIDX=Uint16Array.BYTES_PER_ELEMENT}]),d$i9vc),C$99gt=(C$99e(qo0yxe,"laya.webgl.utils.GlUtils"),qo0yxe.make2DProjection=function(C$99t,C$99e,C$99i){return[2/C$99t,0,0,0,0,-2/C$99e,0,0,0,0,2/C$99i,0,-1,1,0,1]},qo0yxe.fillIBQuadrangle=function(C$99t,C$99e){if(65535/4<C$99e)throw Error("IBQuadrangle count:"+C$99e+" must<:"+Math.floor(65535/4));C$99e=Math.floor(C$99e),C$99t._resizeBuffer(6*(C$99e+1)*2,!1),C$99t.byteLength=C$99t.bufferLength;for(var C$99i=C$99t.getUint16Array(),C$99n=0,C$99r=0;C$99r<C$99e;C$99r++)C$99i[C$99n++]=4*C$99r,C$99i[C$99n++]=4*C$99r+2,C$99i[C$99n++]=4*C$99r+1,C$99i[C$99n++]=4*C$99r,C$99i[C$99n++]=4*C$99r+3,C$99i[C$99n++]=4*C$99r+2;return C$99t.setNeedUpload(),!0},qo0yxe.expandIBQuadrangle=function(C$99t,C$99e){C$99t.bufferLength>=6*C$99e*2||qo0yxe.fillIBQuadrangle(C$99t,C$99e)},qo0yxe.mathCeilPowerOfTwo=function(C$99t){return C$99t--,C$99t=(C$99t=(C$99t=(C$99t=(C$99t|=C$99t>>1)|C$99t>>2)|C$99t>>4)|C$99t>>8)|C$99t>>16,++C$99t},qo0yxe.fillQuadrangleImgVb=function(C$99c,C$99t,C$99e,C$99i,C$99n,C$99r,C$99_,C$99u){var C$99s=16+(C$99c._byteLength>>2);C$99c.byteLength=C$99s<<2;var C$99a=C$99c.getFloat32Array();C$99a[2+(C$99s-=16)]=C$99n[0],C$99a[3+C$99s]=C$99n[1],C$99a[6+C$99s]=C$99n[2],C$99a[7+C$99s]=C$99n[3],C$99a[10+C$99s]=C$99n[4],C$99a[11+C$99s]=C$99n[5],C$99a[14+C$99s]=C$99n[6],C$99a[15+C$99s]=C$99n[7];var C$99n=C$99r.a,C$99o=C$99r.b,C$99h=C$99r.c,C$99l=C$99r.d;var C$99d,C$99f;return 1!==C$99n||0!==C$99o||0!==C$99h||1!==C$99l?(C$99r.bTransform=!0,C$99d=C$99r.tx+C$99_,C$99f=C$99r.ty+C$99u,C$99a[C$99s]=(C$99i[0]+C$99t)*C$99n+(C$99i[1]+C$99e)*C$99h+C$99d,C$99a[1+C$99s]=(C$99i[0]+C$99t)*C$99o+(C$99i[1]+C$99e)*C$99l+C$99f,C$99a[4+C$99s]=(C$99i[2]+C$99t)*C$99n+(C$99i[3]+C$99e)*C$99h+C$99d,C$99a[5+C$99s]=(C$99i[2]+C$99t)*C$99o+(C$99i[3]+C$99e)*C$99l+C$99f,C$99a[8+C$99s]=(C$99i[4]+C$99t)*C$99n+(C$99i[5]+C$99e)*C$99h+C$99d,C$99a[9+C$99s]=(C$99i[4]+C$99t)*C$99o+(C$99i[5]+C$99e)*C$99l+C$99f,C$99a[12+C$99s]=(C$99i[6]+C$99t)*C$99n+(C$99i[7]+C$99e)*C$99h+C$99d,C$99a[13+C$99s]=(C$99i[6]+C$99t)*C$99o+(C$99i[7]+C$99e)*C$99l+C$99f):(C$99r.bTransform=!1,C$99t+=C$99r.tx+C$99_,C$99e+=C$99r.ty+C$99u,C$99a[C$99s]=C$99t+C$99i[0],C$99a[1+C$99s]=C$99e+C$99i[1],C$99a[4+C$99s]=C$99t+C$99i[2],C$99a[5+C$99s]=C$99e+C$99i[3],C$99a[8+C$99s]=C$99t+C$99i[4],C$99a[9+C$99s]=C$99e+C$99i[5],C$99a[12+C$99s]=C$99t+C$99i[6],C$99a[13+C$99s]=C$99e+C$99i[7]),C$99c._upload=!0},qo0yxe.fillTranglesVB=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){var C$99o=(C$99t._byteLength>>2)+C$99n.length;C$99t.byteLength=C$99o<<2;var C$99h=C$99t.getFloat32Array();C$99o-=C$99n.length;for(var C$99c=C$99n.length,C$99_=C$99r.a,C$99u=C$99r.b,C$99d=C$99r.c,C$99f=C$99r.d,C$99l=0;C$99l<C$99c;C$99l+=4){var C$99p,C$99m;C$99h[C$99o+C$99l+2]=C$99n[C$99l+2],C$99h[C$99o+C$99l+3]=C$99n[C$99l+3],1!==C$99_||0!==C$99u||0!==C$99d||1!==C$99f?(C$99r.bTransform=!0,C$99p=C$99r.tx+C$99s,C$99m=C$99r.ty+C$99a,C$99h[C$99o+C$99l]=(C$99n[C$99l]+C$99e)*C$99_+(C$99n[C$99l+1]+C$99i)*C$99d+C$99p,C$99h[C$99o+C$99l+1]=(C$99n[C$99l]+C$99e)*C$99u+(C$99n[C$99l+1]+C$99i)*C$99f+C$99m):(C$99r.bTransform=!1,C$99e+=C$99r.tx+C$99s,C$99i+=C$99r.ty+C$99a,C$99h[C$99o+C$99l]=C$99e+C$99n[C$99l],C$99h[C$99o+C$99l+1]=C$99i+C$99n[C$99l+1])}return C$99t._upload=!0},qo0yxe.copyPreImgVb=function(C$99t,C$99e,C$99i){var C$99n=C$99t._byteLength>>2;C$99t.byteLength=C$99n+16<<2;for(var C$99r=C$99t.getFloat32Array(),C$99s=0,C$99a=C$99n-16;C$99s<4;C$99s++)C$99r[C$99n]=C$99r[C$99a]+C$99e,C$99r[++C$99n]=C$99r[++C$99a]+C$99i,C$99r[++C$99n]=C$99r[++C$99a],C$99r[++C$99n]=C$99r[++C$99a],++C$99n,++C$99a;C$99t._upload=!0},qo0yxe.fillRectImgVb=function(C$99c,C$99_,C$99u,C$99d,C$99f,C$99p,C$99t,C$99e,C$99m,C$99g,C$99v,C$99x,C$99y){void 0===C$99y&&(C$99y=!1);var C$99i,C$99n,C$99b,C$99w,C$99T,C$99M,C$99S,C$99C,C$99D,C$99E,C$99r,C$99s,C$99A,C$99I,C$99a,C$99o,C$99R=1,C$99P=C$99e.a,C$99L=C$99e.b,C$99z=C$99e.c,C$99k=C$99e.d,C$99B=C$99_&&C$99_.width<99999999;if(1!==C$99P||0!==C$99L||0!==C$99z||1!==C$99k?(C$99e.bTransform=!0,0===C$99L&&0===C$99z&&(C$99R=23,C$99i=C$99P*C$99u+(C$99r=C$99e.tx+C$99m),C$99b=C$99P*(C$99D=C$99f+C$99u)+C$99r,C$99n=C$99k*C$99d+(C$99s=C$99e.ty+C$99g),C$99w=C$99k*(C$99E=C$99p+C$99d)+C$99s)):(C$99e.bTransform=!(C$99R=23),C$99b=(C$99i=C$99u+C$99e.tx+C$99m)+C$99f,C$99w=(C$99n=C$99d+C$99e.ty+C$99g)+C$99p),C$99B&&(C$99T=C$99_.x,C$99M=C$99_.y,C$99S=C$99_.width+C$99T,C$99C=C$99_.height+C$99M),1!==C$99R){if(Math.min(C$99i,C$99b)>=C$99S)return!1;if(Math.min(C$99n,C$99w)>=C$99C)return!1;if(Math.max(C$99b,C$99i)<=C$99T)return!1;if(Math.max(C$99w,C$99n)<=C$99M)return!1}var C$99h=C$99c._byteLength>>2;C$99c.byteLength=16+C$99h<<2;var C$99l=C$99c.getFloat32Array();switch(C$99l[2+C$99h]=C$99t[0],C$99l[3+C$99h]=C$99t[1],C$99l[6+C$99h]=C$99t[2],C$99l[7+C$99h]=C$99t[3],C$99l[10+C$99h]=C$99t[4],C$99l[11+C$99h]=C$99t[5],C$99l[14+C$99h]=C$99t[6],C$99l[15+C$99h]=C$99t[7],C$99R){case 1:C$99r=C$99e.tx+C$99m,C$99s=C$99e.ty+C$99g;var C$99N=C$99P*C$99u,C$99O=C$99z*C$99d,C$99F=C$99k*C$99d,C$99V=C$99L*C$99u,C$99$=C$99P*(C$99D=C$99f+C$99u),C$99U=C$99z*(C$99E=C$99p+C$99d),C$99j=C$99k*C$99E,C$99q=C$99L*C$99D;C$99y?(C$99A=C$99N+C$99O+C$99r,C$99a=Math.round(C$99A)-C$99A,C$99I=C$99F+C$99V+C$99s,C$99o=Math.round(C$99I)-C$99I,C$99l[C$99h]=C$99A+C$99a,C$99l[1+C$99h]=C$99I+C$99o,C$99l[4+C$99h]=C$99$+C$99O+C$99r+C$99a,C$99l[5+C$99h]=C$99F+C$99q+C$99s+C$99o,C$99l[8+C$99h]=C$99$+C$99U+C$99r+C$99a,C$99l[9+C$99h]=C$99j+C$99q+C$99s+C$99o,C$99l[12+C$99h]=C$99N+C$99U+C$99r+C$99a,C$99l[13+C$99h]=C$99j+C$99V+C$99s+C$99o):(C$99l[C$99h]=C$99N+C$99O+C$99r,C$99l[1+C$99h]=C$99F+C$99V+C$99s,C$99l[4+C$99h]=C$99$+C$99O+C$99r,C$99l[5+C$99h]=C$99F+C$99q+C$99s,C$99l[8+C$99h]=C$99$+C$99U+C$99r,C$99l[9+C$99h]=C$99j+C$99q+C$99s,C$99l[12+C$99h]=C$99N+C$99U+C$99r,C$99l[13+C$99h]=C$99j+C$99V+C$99s);break;case 23:C$99y?(C$99A=C$99i+C$99v,C$99a=Math.round(C$99A)-C$99A,C$99I=C$99n,C$99o=Math.round(C$99I)-C$99I,C$99l[C$99h]=C$99A+C$99a,C$99l[1+C$99h]=C$99I+C$99o,C$99l[4+C$99h]=C$99b+C$99v+C$99a,C$99l[5+C$99h]=C$99n+C$99o,C$99l[8+C$99h]=C$99b+C$99a,C$99l[9+C$99h]=C$99w+C$99o,C$99l[12+C$99h]=C$99i+C$99a,C$99l[13+C$99h]=C$99w+C$99o):(C$99l[C$99h]=C$99i+C$99v,C$99l[1+C$99h]=C$99n,C$99l[4+C$99h]=C$99b+C$99v,C$99l[5+C$99h]=C$99n,C$99l[8+C$99h]=C$99b,C$99l[9+C$99h]=C$99w,C$99l[12+C$99h]=C$99i,C$99l[13+C$99h]=C$99w)}return C$99c._upload=!0},qo0yxe.fillLineVb=function(C$99t,C$99c,C$99e,C$99i,C$99n,C$99r,C$99s,C$99_){var C$99s=.5*C$99s,C$99a=qo0yxe._fillLineArray,C$99o=-(C$99i-C$99r),C$99h=C$99e-C$99n,C$99l=Math.sqrt(C$99o*C$99o+C$99h*C$99h);C$99h=C$99h/C$99l*C$99s,C$99a[0]=C$99e-(C$99o=C$99o/C$99l*C$99s),C$99a[1]=C$99i-C$99h,C$99a[4]=C$99e+C$99o,C$99a[5]=C$99i+C$99h,C$99a[8]=C$99n+C$99o,C$99a[9]=C$99r+C$99h,C$99a[12]=C$99n-C$99o,C$99a[13]=C$99r-C$99h,C$99_&&C$99_.transformPointArray(C$99a,C$99a);C$99l=16+(C$99t._byteLength>>2);return C$99t.byteLength=C$99l<<2,C$99t.insertData(C$99a,C$99l-16),!0},qo0yxe._fillLineArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],qo0yxe),C$99n=(C$99e(c42lt,"laya.webgl.utils.MatirxArray"),c42lt.ArrayMul=function(C$99t,C$99e,C$99i){if(C$99t)if(C$99e)for(var C$99n,C$99r,C$99s,C$99a,C$99o=0;C$99o<4;C$99o++)C$99n=C$99t[C$99o],C$99r=C$99t[C$99o+4],C$99s=C$99t[C$99o+8],C$99a=C$99t[C$99o+12],C$99i[C$99o]=C$99n*C$99e[0]+C$99r*C$99e[1]+C$99s*C$99e[2]+C$99a*C$99e[3],C$99i[C$99o+4]=C$99n*C$99e[4]+C$99r*C$99e[5]+C$99s*C$99e[6]+C$99a*C$99e[7],C$99i[C$99o+8]=C$99n*C$99e[8]+C$99r*C$99e[9]+C$99s*C$99e[10]+C$99a*C$99e[11],C$99i[C$99o+12]=C$99n*C$99e[12]+C$99r*C$99e[13]+C$99s*C$99e[14]+C$99a*C$99e[15];else c42lt.copyArray(C$99t,C$99i);else c42lt.copyArray(C$99e,C$99i)},c42lt.copyArray=function(C$99t,C$99e){if(C$99t&&C$99e)for(var C$99i=0;C$99i<C$99t.length;C$99i++)C$99e[C$99i]=C$99t[C$99i]},C$99e(yx_0qe,"laya.webgl.utils.Mesh2D"),(C$99n=yx_0qe.prototype).cloneWithNewVB=function(){var C$99t=new yx_0qe(this._stride,0,0);return C$99t._ib=this._ib,C$99t._quadNum=this._quadNum,C$99t._attribInfo=this._attribInfo,C$99t},C$99n.cloneWithNewVBIB=function(){var C$99t=new yx_0qe(this._stride,0,0);return C$99t._attribInfo=this._attribInfo,C$99t},C$99n.getVBW=function(){return this._vb.setNeedUpload(),this._vb},C$99n.getVBR=function(){return this._vb},C$99n.getIBR=function(){return this._ib},C$99n.getIBW=function(){return this._ib.setNeedUpload(),this._ib},C$99n.createQuadIB=function(C$99t){this._quadNum=C$99t,this._ib._resizeBuffer(6*C$99t*2,!1),this._ib.byteLength=this._ib.bufferLength;for(var C$99e=this._ib.getUint16Array(),C$99i=0,C$99n=0,C$99r=0;C$99r<C$99t;C$99r++)C$99e[C$99i++]=C$99n,C$99e[C$99i++]=C$99n+2,C$99e[C$99i++]=C$99n+1,C$99e[C$99i++]=C$99n,C$99e[C$99i++]=C$99n+3,C$99e[C$99i++]=C$99n+2,C$99n+=4;this._ib.setNeedUpload()},C$99n.setAttributes=function(C$99t){if(this._attribInfo=C$99t,this._attribInfo.length%3!=0)throw"Mesh2D setAttributes error!"},C$99n.getEleNum=function(){return this._ib.getBuffer().byteLength/2},C$99n.releaseMesh=function(){},C$99n.destroy=function(){},C$99n.clearVB=function(){this._vb.clear()},yx_0qe._gvaoid=0,yx_0qe),C$99l=(C$99e(i24tc9,"laya.webgl.utils.RenderState2D"),i24tc9.getMatrArray=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},i24tc9.mat2MatArray=function(C$99t,C$99e){var C$99i=C$99e;return C$99i[0]=C$99t.a,C$99i[1]=C$99t.b,C$99i[2]=i24tc9.EMPTYMAT4_ARRAY[2],C$99i[3]=i24tc9.EMPTYMAT4_ARRAY[3],C$99i[4]=C$99t.c,C$99i[5]=C$99t.d,C$99i[6]=i24tc9.EMPTYMAT4_ARRAY[6],C$99i[7]=i24tc9.EMPTYMAT4_ARRAY[7],C$99i[8]=i24tc9.EMPTYMAT4_ARRAY[8],C$99i[9]=i24tc9.EMPTYMAT4_ARRAY[9],C$99i[10]=i24tc9.EMPTYMAT4_ARRAY[10],C$99i[11]=i24tc9.EMPTYMAT4_ARRAY[11],C$99i[12]=C$99t.tx,C$99i[13]=C$99t.ty,C$99i[14]=i24tc9.EMPTYMAT4_ARRAY[14],C$99i[15]=i24tc9.EMPTYMAT4_ARRAY[15],C$99e},i24tc9.restoreTempArray=function(){i24tc9.TEMPMAT4_ARRAY[0]=1,i24tc9.TEMPMAT4_ARRAY[1]=0,i24tc9.TEMPMAT4_ARRAY[4]=0,i24tc9.TEMPMAT4_ARRAY[5]=1,i24tc9.TEMPMAT4_ARRAY[12]=0,i24tc9.TEMPMAT4_ARRAY[13]=0},i24tc9.clear=function(){i24tc9.worldScissorTest=!1,i24tc9.worldShaderDefines=null,i24tc9.worldFilters=null,i24tc9.worldAlpha=1,i24tc9.worldClipRect.x=i24tc9.worldClipRect.y=0,i24tc9.worldClipRect.width=i24tc9.width,i24tc9.worldClipRect.height=i24tc9.height,i24tc9.curRenderTarget=null},i24tc9._MAXSIZE=99999999,i24tc9.EMPTYMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i24tc9.worldMatrix4=i24tc9.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i24tc9.worldAlpha=1,i24tc9.worldScissorTest=!1,i24tc9.worldFilters=null,i24tc9.worldShaderDefines=null,i24tc9.curRenderTarget=null,i24tc9.width=0,i24tc9.height=0,C$99r(i24tc9,["worldMatrix",function(){return this.worldMatrix=new C$99w},"worldClipRect",function(){return this.worldClipRect=new C$99M(0,0,99999999,99999999)}]),i24tc9),C$99vt=(C$99e(rj8g3n,"laya.webgl.utils.ShaderCompile"),(C$99he=rj8g3n.prototype)._compileToTree=function(C$99t,C$99c,C$99_,C$99e,C$99i){var C$99n,C$99r,C$99s,C$99u,C$99a,C$99d,C$99f,C$99o=0,C$99p=0,C$99h=0;for(C$99p=C$99_;C$99p<C$99c.length;C$99p++)if(!((C$99s=C$99c[C$99p]).length<1)&&0!==(C$99o=C$99s.indexOf("//"))){if(0<=C$99o&&(C$99s=C$99s.substr(0,C$99o)),C$99n=C$99d||new C$99ae(C$99e),C$99d=null,C$99n.text=C$99s,C$99n.noCompile=!0,0<=(C$99o=C$99s.indexOf("#"))){for(C$99u="#",C$99h=C$99o+1,C$99f=C$99s.length;C$99h<C$99f;C$99h++){var C$99l=C$99s.charAt(C$99h);if(" "===C$99l||"\t"===C$99l||"\r"===C$99l||"\n"===C$99l||"?"===C$99l)break;C$99u+=C$99l}switch(C$99n.name=C$99u){case"#ifdef":case"#ifndef":if(C$99n.src=C$99s,C$99n.noCompile=null!=C$99s.match(/[!&|()=<>]/),C$99n.noCompile?console.log("function():Boolean{return "+C$99s.substr(C$99o+C$99n.name.length)+"}"):(C$99a=C$99s.replace(/^\s*/,"").split(/\s+/),C$99n.setCondition(C$99a[1],"#ifdef"===C$99u?1:2),C$99n.text="//"+C$99n.text),C$99n.setParent(C$99t),C$99t=C$99n,C$99i)for(C$99a=C$99s.substr(C$99h).split(rj8g3n._splitToWordExps3),C$99h=0;C$99h<C$99a.length;C$99h++)(C$99s=C$99a[C$99h]).length&&(C$99i[C$99s]=!0);continue;case"#if":if(C$99n.src=C$99s,C$99n.noCompile=!0,C$99n.setParent(C$99t),C$99t=C$99n,C$99i)for(C$99a=C$99s.substr(C$99h).split(rj8g3n._splitToWordExps3),C$99h=0;C$99h<C$99a.length;C$99h++)(C$99s=C$99a[C$99h]).length&&"defined"!=C$99s&&(C$99i[C$99s]=!0);continue;case"#else":C$99n.src=C$99s,C$99r=(C$99t=C$99t.parent).childs[C$99t.childs.length-1],C$99n.noCompile=C$99r.noCompile,C$99n.noCompile||(C$99n.condition=C$99r.condition,C$99n.conditionType=1==C$99r.conditionType?2:1,C$99n.text="//"+C$99n.text+" "+C$99r.text+" "+C$99n.conditionType),C$99n.setParent(C$99t),C$99t=C$99n;continue;case"#endif":C$99r=(C$99t=C$99t.parent).childs[C$99t.childs.length-1],C$99n.noCompile=C$99r.noCompile,C$99n.noCompile||(C$99n.text="//"+C$99n.text),C$99n.setParent(C$99t);continue;case"#include":C$99a=rj8g3n.splitToWords(C$99s,null);var C$99m=rj8g3n.includes[C$99a[1]];if(!C$99m)throw"ShaderCompile error no this include file:"+C$99a[1];if((C$99o=C$99a[0].indexOf("?"))<0){C$99n.setParent(C$99t),C$99s=C$99m.getWith("with"==C$99a[2]?C$99a[3]:null),this._compileToTree(C$99n,C$99s.split("\n"),0,C$99e,C$99i),C$99n.text="";continue}C$99n.setCondition(C$99a[0].substr(C$99o+1),1),C$99n.text=C$99m.getWith("with"==C$99a[2]?C$99a[3]:null);break;case"#import":C$99m=(C$99a=rj8g3n.splitToWords(C$99s,null))[1],C$99e.push({node:C$99n,file:rj8g3n.includes[C$99m],ofs:C$99n.text.length});continue}}else{if((C$99r=C$99t.childs[C$99t.childs.length-1])&&!C$99r.name){0<C$99e.length&&rj8g3n.splitToWords(C$99s,C$99r),C$99d=C$99n,C$99r.text+="\n"+C$99s;continue}0<C$99e.length&&rj8g3n.splitToWords(C$99s,C$99n)}C$99n.setParent(C$99t)}},C$99he.createShader=function(C$99t,C$99e,C$99i){var C$99n={},C$99r="";if(C$99t)for(var C$99s in C$99t)C$99r+="#define "+C$99s+"\n",C$99n[C$99s]=!0;var C$99t=this._VS.toscript(C$99n,[]),C$99a=this._PS.toscript(C$99n,[]);return(C$99i||C$99Wt.create)(C$99r+C$99t.join("\n"),C$99r+C$99a.join("\n"),C$99e,this._nameMap)},rj8g3n._parseOne=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a={type:rj8g3n.shaderParamsMap[C$99i[C$99n+1]],name:C$99i[C$99n+2],size:isNaN(parseInt(C$99i[C$99n+3]))?1:parseInt(C$99i[C$99n+3])};return C$99s&&("attribute"==C$99r?C$99t:C$99e).push(C$99a),":"==C$99i[C$99n+3]&&(C$99a.type=C$99i[C$99n+4],C$99n+=2),C$99n+2},rj8g3n.addInclude=function(C$99t,C$99e){if(!C$99e||0===C$99e.length)throw new Error("add shader include file err:"+C$99t);if(rj8g3n.includes[C$99t])throw new Error("add shader include file err, has add:"+C$99t);rj8g3n.includes[C$99t]=new C$99oe(C$99e)},rj8g3n.preGetParams=function(C$99t,C$99c){var C$99e=[C$99t,C$99c],C$99t={},C$99i=[],C$99n=[],C$99_={},C$99u=[];C$99t.attributes=C$99i,C$99t.uniforms=C$99n,C$99t.defines=C$99_;for(var C$99r,C$99s=0,C$99a=0;C$99a<2;C$99a++){C$99e[C$99a]=C$99e[C$99a].replace(rj8g3n._removeAnnotation,"");var C$99o,C$99h=C$99e[C$99a].match(rj8g3n._reg);for(C$99s=0,C$99r=C$99h.length;C$99s<C$99r;C$99s++){var C$99l=C$99h[C$99s];if("attribute"==C$99l||"uniform"==C$99l)C$99s=rj8g3n._parseOne(C$99i,C$99n,C$99h,C$99s,C$99l,!0);else if("#define"!=C$99l){if("#ifdef"==C$99l)for(C$99_[C$99o=C$99h[++C$99s]]=C$99_[C$99o]||[],C$99s++;C$99s<C$99r;C$99s++)if("attribute"==(C$99l=C$99h[C$99s])||"uniform"==C$99l)C$99s=rj8g3n._parseOne(C$99i,C$99n,C$99h,C$99s,C$99l,C$99u[C$99o]);else if("#else"==C$99l)for(C$99s++;C$99s<C$99r;C$99s++)if("attribute"==(C$99l=C$99h[C$99s])||"uniform"==C$99l)C$99s=rj8g3n._parseOne(C$99i,C$99n,C$99h,C$99s,C$99l,!C$99u[C$99o]);else if("#endif"==C$99l)break}else C$99u[C$99l=C$99h[++C$99s]]=1}}return C$99t},rj8g3n.splitToWords=function(C$99t,C$99e){for(var C$99i,C$99n,C$99r=[],C$99s=-1,C$99a=0,C$99o=C$99t.length;C$99a<C$99o;C$99a++)if(C$99i=C$99t.charAt(C$99a),0<=" \t=+-*/&%!<>()'\",;".indexOf(C$99i)){if(0<=C$99s&&1<C$99a-C$99s&&(C$99n=C$99t.substr(C$99s,C$99a-C$99s),C$99r.push(C$99n)),'"'==C$99i||"'"==C$99i){var C$99h=C$99t.indexOf(C$99i,C$99a+1);if(C$99h<0)throw"Sharder err:"+C$99t;C$99r.push(C$99t.substr(C$99a+1,C$99h-C$99a-1)),C$99a=C$99h,C$99s=-1;continue}"("==C$99i&&C$99e&&0<C$99r.length&&(C$99n=C$99r[C$99r.length-1]+";","vec4;main;".indexOf(C$99n)<0&&(C$99e.useFuns+=C$99n)),C$99s=-1}else C$99s<0&&(C$99s=C$99a);return C$99s<C$99o&&1<C$99o-C$99s&&(C$99n=C$99t.substr(C$99s,C$99o-C$99s),C$99r.push(C$99n)),C$99r},rj8g3n.IFDEF_NO=0,rj8g3n.IFDEF_YES=1,rj8g3n.IFDEF_ELSE=2,rj8g3n.IFDEF_PARENT=3,rj8g3n._removeAnnotation=new RegExp("(/\\*([^*]|[\\r\\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+/)|(//.*)","g"),rj8g3n._reg=new RegExp("(\".*\")|('.*')|([#\\w\\*-\\.+/()=<>{}\\\\]+)|([,;:\\\\])","g"),rj8g3n._splitToWordExps=new RegExp("[(\".*\")]+|[('.*')]+|([ \\t=\\+\\-*/&%!<>!%(),;])","g"),rj8g3n.includes={},C$99r(rj8g3n,["shaderParamsMap",function(){return this.shaderParamsMap={float:5126,int:5124,bool:35670,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676,sampler2D:35678,samplerCube:35680}},"_splitToWordExps3",function(){return this._splitToWordExps3=new RegExp("[ \\t=\\+\\-*/&%!<>!%(),;\\|]","g")}]),rj8g3n.__init$=function(){function vd9p(C$99t){this.script=null,this.codes={},this.funs={},this.curUseID=-1,this.funnames="",this.script=C$99t;for(var C$99e=0,C$99i=0,C$99n=0;!((C$99e=C$99t.indexOf("#begin",C$99e))<0);){for(C$99n=C$99e+5;!((C$99n=C$99t.indexOf("#end",C$99n))<0)&&"i"===C$99t.charAt(C$99n+4);)C$99n+=5;if(C$99n<0)throw"add include err,no #end:"+C$99t;C$99i=C$99t.indexOf("\n",C$99e);var C$99r=rj8g3n.splitToWords(C$99t.substr(C$99e,C$99i-C$99e),null);"code"==C$99r[1]?this.codes[C$99r[2]]=C$99t.substr(C$99i+1,C$99n-C$99i-1):"function"==C$99r[1]&&(C$99i=C$99t.indexOf("function",C$99e),C$99i+="function".length,this.funs[C$99r[3]]=C$99t.substr(C$99i+1,C$99n-C$99i-1),this.funnames+=C$99r[3]+";"),C$99e=C$99n+1}}function argjnb(C$99t){this.childs=[],this.text="",this.parent=null,this.name=null,this.noCompile=!1,this.includefiles=null,this.condition=null,this.conditionType=0,this.useFuns="",this.z=0,this.src=null,this.includefiles=C$99t}var C$99t;C$99e(argjnb,""),(C$99t=argjnb.prototype).setParent=function(C$99t){C$99t.childs.push(this),this.z=C$99t.z+1,this.parent=C$99t},C$99t.setCondition=function(C$99t,C$99e){C$99t&&(this.conditionType=C$99e,C$99t=C$99t.replace(/(\s*$)/g,""),this.condition=function(){return this[C$99t]},this.condition.__condition=C$99t)},C$99t.toscript=function(C$99t,C$99e){return this._toscript(C$99t,C$99e,++argjnb.__id)},C$99t._toscript=function(C$99n,C$99r,C$99s){if(this.childs.length<1&&!this.text)return C$99r;if(C$99r.length,this.condition){var C$99t=!!this.condition.call(C$99n);if(!(C$99t=2===this.conditionType?!C$99t:C$99t))return C$99r}if(this.text&&C$99r.push(this.text),0<this.childs.length&&this.childs.forEach(function(C$99t,C$99e,C$99i){C$99t._toscript(C$99n,C$99r,C$99s)}),0<this.includefiles.length&&0<this.useFuns.length)for(var C$99e,C$99i=0,C$99a=this.includefiles.length;C$99i<C$99a;C$99i++)this.includefiles[C$99i].curUseID!=C$99s&&0<(C$99e=this.includefiles[C$99i].file.getFunsScript(this.useFuns)).length&&(this.includefiles[C$99i].curUseID=C$99s,C$99r[0]=C$99e+C$99r[0]);return C$99r},argjnb.__id=1,C$99ae=argjnb,C$99e(vd9p,""),(C$99t=vd9p.prototype).getWith=function(C$99t){var C$99e=C$99t?this.codes[C$99t]:this.script;if(!C$99e)throw"get with error:"+C$99t;return C$99e},C$99t.getFunsScript=function(C$99t){var C$99e="";for(var C$99i in this.funs)0<=C$99t.indexOf(C$99i+";")&&(C$99e+=this.funs[C$99i]);return C$99e},C$99oe=vd9p},rj8g3n),C$99c=(C$99e(cdv$,"laya.webgl.WebGL"),cdv$._uint8ArraySlice=function(){for(var C$99t=this.length,C$99e=new Uint8Array(this.length),C$99i=0;C$99i<C$99t;C$99i++)C$99e[C$99i]=this[C$99i];return C$99e},cdv$._float32ArraySlice=function(){for(var C$99t=this.length,C$99e=new Float32Array(this.length),C$99i=0;C$99i<C$99t;C$99i++)C$99e[C$99i]=this[C$99i];return C$99e},cdv$._uint16ArraySlice=function(C$99t){var C$99e,C$99i=arguments,C$99n=0,C$99r=0;if(0===C$99i.length)for(C$99n=this.length,C$99e=new Uint16Array(C$99n),C$99r=0;C$99r<C$99n;C$99r++)C$99e[C$99r]=this[C$99r];else if(2===C$99i.length){var C$99s=C$99i[0],C$99a=C$99i[1];if(C$99s<C$99a)for(C$99n=C$99a-C$99s,C$99e=new Uint16Array(C$99n),C$99r=C$99s;C$99r<C$99a;C$99r++)C$99e[C$99r-C$99s]=this[C$99r];else C$99e=new Uint16Array(0)}return C$99e},cdv$.expandContext=function(){var C$99t=C$99p.prototype,C$99e=CanvasRenderingContext2D.prototype;C$99e.fillTrangles=C$99t.fillTrangles,C$99Gt.__int__(null),C$99e.setIBVB=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){void 0===C$99h&&(C$99h=0),void 0===C$99l&&(C$99l=0),null===C$99i&&(this._ib=this._ib||C$99Kt.QuadrangleIB,C$99i=this._ib,C$99gt.expandIBQuadrangle(C$99i,C$99n._byteLength/64+8)),this._setIBVB(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l)},C$99e.fillTrangles=function(C$99t,C$99e,C$99i,C$99n,C$99r){this._curMat=this._curMat||C$99w.create(),this._vb=this._vb||C$99Zt.create(),this._ib||(this._ib=C$99Kt.create(),C$99gt.fillIBQuadrangle(this._ib,C$99a/4));var C$99s=this._vb,C$99a=C$99n.length>>4;C$99gt.fillTranglesVB(C$99s,C$99e,C$99i,C$99n,C$99r||this._curMat,0,0),C$99gt.expandIBQuadrangle(this._ib,C$99s._byteLength/64+8);C$99n=new C$99wt(1,0);C$99n.textureHost=C$99t;C$99t=new C$99Xt("attribute vec2 position; attribute vec2 texcoord; uniform vec2 size; uniform mat4 mmat; varying vec2 v_texcoord; void main() { vec4 p=vec4(position.xy,0.0,1.0);vec4 pos=mmat*p; gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0); v_texcoord = texcoord; }","precision mediump float; varying vec2 v_texcoord; uniform sampler2D texture; #ifdef TXTALPHA uniform sampler2D texture1; #endif void main() {vec4 color= texture2D(texture, v_texcoord); #ifdef TXTALPHA color.a = texture2D(texture1, v_texcoord).a; #endif color.a*=1.0; gl_FragColor= color;}");C$99s._vertType=3,this._setIBVB(C$99e,C$99i,this._ib,C$99s,6*C$99a,C$99r,C$99t,C$99n,0,0)}},cdv$.enable=function(){if(C$99u.__init__(),C$99S.isConchApp&&!C$99S.isConchWebGL)return C$99A.skinAniSprite=function(){return new C$99it},cdv$.expandContext(),!1;if(C$99A.getWebGLContext=function(C$99t){for(var C$99e,C$99i=["webgl","experimental-webgl","webkit-3d","moz-webgl"],C$99n=0;C$99n<C$99i.length;C$99n++){try{C$99e=C$99t.getContext(C$99i[C$99n],{stencil:C$99m.isStencil,alpha:C$99m.isAlpha,antialias:C$99m.isAntialias,premultipliedAlpha:C$99m.premultipliedAlpha,preserveDrawingBuffer:C$99m.preserveDrawingBuffer})}catch(C$99t){}if(C$99e)return C$99e}return null},null==(cdv$.mainContext=cdv$.mainContext||C$99A.getWebGLContext(C$99S._mainCanvas)))return!1;if(C$99S.isWebGL)return!0;C$99x.create=function(C$99t,C$99e){return new C$99Qt(C$99t,C$99e)},C$99b.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){return new C$99Ht(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a)},C$99S.WebGL=cdv$,C$99S.isWebGL=!0,C$99ft.__init__(),C$99A.createRenderSprite=function(C$99t,C$99e){return new C$99Tt(C$99t,C$99e)},C$99A.createWebGLContext2D=function(C$99t){return new C$99bt(C$99t)},C$99A.changeWebGLSize=function(C$99t,C$99e){laya.webgl.WebGL.onStageResize(C$99t,C$99e)},C$99A.createGraphics=function(){return new C$99yt};var C$99t=C$99A.createFilterAction;return C$99A.createFilterAction=C$99t||function(C$99t){return new C$99Mt},C$99A.clear=function(C$99t){C$99l.worldScissorTest&&laya.webgl.WebGL.mainContext.disable(3089);var C$99e=C$99S.context.ctx,C$99t=0==C$99e._submits._length||C$99m.preserveDrawingBuffer?C$99f.create(C$99t)._color:C$99R._wgColor;C$99t&&C$99e.clearBG(C$99t[0],C$99t[1],C$99t[2],C$99t[3]),C$99l.clear()},C$99A.addToAtlas=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!1);C$99e=C$99t.bitmap;C$99S.optimizeTextureMemory(C$99t.url,C$99t)?C$99g.__typeof(C$99e,"laya.webgl.resource.IMergeAtlasBitmap")&&C$99e.allowMerageInAtlas&&C$99e.on("recovered",C$99t,C$99t.addTextureToAtlas):C$99e.enableMerageInAtlas=!1},C$99A.isAtlas=function(C$99t){return C$99t instanceof laya.webgl.atlas.AtlasWebGLCanvas},C$99U._enable(),C$99A.beginFlush=function(){for(var C$99t=C$99U.instance,C$99e=C$99t.getAtlaserCount(),C$99i=0;C$99i<C$99e;C$99i++){var C$99n=C$99t.getAtlaserByIndex(C$99i).texture;C$99n._flashCacheImageNeedFlush&&C$99A.flashFlushImage(C$99n)}},C$99A.drawToCanvas=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){(C$99i<=0||C$99n<=0)&&console.log("[error] canvasWidth and canvasHeight should greater than zero"),C$99r|=0,C$99s|=0;var C$99a=C$99zt.create(C$99i|=0,C$99n|=0,6408,5121,0,!1);C$99a.start(),C$99a.clear(0,0,0,0),C$99S.context.clear(),C$99C.renders[C$99e]._fun(C$99t,C$99S.context,C$99r,C$99l.height-C$99n+C$99s),C$99S.context.flush(),C$99a.end();C$99e=C$99a.getData(0,0,C$99i,C$99n);if(C$99a.recycle(),C$99e.byteLength==C$99i*C$99n*4)return(C$99t=new C$99Ut)._canvas=C$99u.createElement("canvas"),C$99t.size(C$99i,C$99n),C$99r=C$99t._canvas.getContext("2d"),C$99u.canvas.size(C$99i,C$99n),(C$99a=(C$99s=C$99u.context).createImageData(C$99i,C$99n)).data.set(new Uint8ClampedArray(C$99e.buffer)),C$99t._imgData=C$99a,C$99s.putImageData(C$99a,0,0),C$99r.save(),C$99r.translate(0,C$99n),C$99r.scale(1,-1),C$99r.drawImage(C$99u.canvas.source,0,0),C$99r.restore(),C$99t;console.log("drawToCanvas error: w:"+C$99i+",h:"+C$99n+",datalen:"+C$99e.byteLength)},C$99A.createFilterAction=function(C$99t){var C$99e;return C$99e=32===C$99t?new C$99Mt:C$99e},C$99A.addTextureToAtlas=function(C$99t){C$99t._uvID++,C$99U._atlasRestore++,C$99t.bitmap.enableMerageInAtlas&&C$99U.instance.addToAtlas(C$99t)},C$99A.getTexturePixels=function(C$99t,C$99e,C$99c,C$99i,C$99n){C$99S.context.ctx.clear();var C$99r=new C$99I;C$99r.graphics.drawTexture(C$99t,-C$99e,-C$99c);C$99t=C$99zt.create(C$99i,C$99n);C$99t.start(),C$99t.clear(0,0,0,0),C$99r.render(C$99S.context,0,0),C$99S.context.ctx.flush(),C$99t.end();for(var C$99s,C$99a=C$99t.getData(0,0,C$99i,C$99n),C$99o=[],C$99h=C$99n-1;0<=C$99h;C$99h--)for(var C$99l=0;C$99l<C$99i;C$99l++)C$99o.push(C$99a[C$99s=4*(C$99h*C$99i+C$99l)]),C$99o.push(C$99a[1+C$99s]),C$99o.push(C$99a[2+C$99s]),C$99o.push(C$99a[3+C$99s]);return C$99o},C$99A.skinAniSprite=function(){return new C$99it},C$99v.create=function(C$99t,C$99e){var C$99i=new C$99Ut;return C$99i._imgData=C$99e,C$99i.flipY=!1,C$99i},C$99y._filterStart=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99t.getValue("bounds"),C$99s=C$99zt.create(C$99s.width,C$99s.height);C$99s.start(),C$99s.clear(0,0,0,0),C$99t.addValue("src",C$99s),C$99t.addValue("ScissorTest",C$99l.worldScissorTest),C$99l.worldScissorTest&&((C$99s=new C$99M).copyFrom(C$99i.ctx._clipRect),C$99t.addValue("clipRect",C$99s),C$99l.worldScissorTest=!1,laya.webgl.WebGL.mainContext.disable(3089))},C$99y._filterEnd=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99t.getValue("bounds");C$99t.getValue("src").end();C$99s=C$99zt.create(C$99s.width,C$99s.height);C$99s.start(),C$99s.clear(0,0,0,0),C$99t.addValue("out",C$99s),C$99e._set$P("_filterCache",C$99s),C$99e._set$P("_isHaveGlowFilter",C$99t.getValue("_isHaveGlowFilter"))},C$99y._EndTarget=function(C$99t,C$99e){C$99t.getValue("src").recycle(),C$99t.getValue("out").end(),C$99t.getValue("ScissorTest")&&(C$99l.worldScissorTest=!0,laya.webgl.WebGL.mainContext.enable(3089),C$99e.ctx.save(),C$99t=C$99t.getValue("clipRect"),C$99e.ctx.clipRect(C$99t.x,C$99t.y,C$99t.width,C$99t.height))},C$99y._useSrc=function(C$99t){var C$99e=C$99t.getValue("out");C$99e.end(),(C$99e=C$99t.getValue("src")).start(),C$99e.clear(0,0,0,0)},C$99y._endSrc=function(C$99t){C$99t.getValue("src").end()},C$99y._useOut=function(C$99t){var C$99e=C$99t.getValue("src");C$99e.end(),(C$99e=C$99t.getValue("out")).start(),C$99e.clear(0,0,0,0)},C$99y._endOut=function(C$99t){C$99t.getValue("out").end()},C$99y._recycleScope=function(C$99t){C$99t.recycle()},C$99y._filter=function(C$99t,C$99e,C$99i,C$99n){var C$99c=this._next;if(C$99c){var C$99_,C$99r,C$99u=C$99t.filters,C$99d=C$99u.length;if(1==C$99d&&32==C$99u[0].type)return C$99e.ctx.save(),C$99e.ctx.setFilters([C$99u[0]]),C$99c._fun.call(C$99c,C$99t,C$99e,C$99i,C$99n),void C$99e.ctx.restore();var C$99s=C$99ht.create(),C$99a=C$99T.TEMP,C$99o=C$99e.ctx._getTransformMatrix(),C$99h=C$99w.create();C$99o.copyTo(C$99h);var C$99o=0,C$99f=0,C$99p=!1,C$99m=C$99t._$P._filterCache||null;if(!C$99m||C$99t._repaint){C$99p=C$99t._isHaveGlowFilter(),C$99s.addValue("_isHaveGlowFilter",C$99p),C$99p&&(C$99o=50,C$99f=25),(C$99r=new C$99M).copyFrom(C$99t.getSelfBounds()),C$99r.x+=C$99t.x,C$99r.y+=C$99t.y,C$99r.x-=C$99t.pivotX+4,C$99r.y-=C$99t.pivotY+4;var C$99g=C$99r.x,C$99v=C$99r.y;if(C$99r.width+=C$99o+8,C$99r.height+=C$99o+8,C$99a.x=C$99r.x*C$99h.a+C$99r.y*C$99h.c,C$99a.y=C$99r.y*C$99h.d+C$99r.x*C$99h.b,C$99r.x=C$99a.x,C$99r.y=C$99a.y,C$99a.x=C$99r.width*C$99h.a+C$99r.height*C$99h.c,C$99a.y=C$99r.height*C$99h.d+C$99r.width*C$99h.b,C$99r.width=C$99a.x,C$99r.height=C$99a.y,C$99r.width<=0||C$99r.height<=0)return;C$99m&&C$99m.recycle(),C$99s.addValue("bounds",C$99r);var C$99l=C$99ot.create([C$99s,C$99t,C$99e,0,0],C$99y._filterStart);C$99e.addRenderObject(C$99l),C$99e.ctx._renderKey=0,C$99e.ctx._shader2D.glTexture=null;C$99g=C$99t.x-C$99g+C$99f,C$99v=C$99t.y-C$99v+C$99f;C$99c._fun.call(C$99c,C$99t,C$99e,C$99g,C$99v),C$99l=C$99ot.create([C$99s,C$99t,C$99e,0,0],C$99y._filterEnd),C$99e.addRenderObject(C$99l);for(var C$99x=0;C$99x<C$99d;C$99x++)0!=C$99x&&(C$99l=C$99ot.create([C$99s],C$99y._useSrc),C$99e.addRenderObject(C$99l),C$99_=C$99wt.create(1,0),C$99w.TEMP.identity(),C$99e.ctx.drawTarget(C$99s,0,0,C$99r.width,C$99r.height,C$99w.TEMP,"out",C$99_,null,C$99q.TOINT.overlay),C$99l=C$99ot.create([C$99s],C$99y._useOut),C$99e.addRenderObject(C$99l)),C$99u[C$99x].action.apply3d(C$99s,C$99t,C$99e,0,0);C$99l=C$99ot.create([C$99s,C$99e],C$99y._EndTarget),C$99e.addRenderObject(C$99l)}else{if((C$99p=!!C$99t._$P._isHaveGlowFilter&&C$99t._$P._isHaveGlowFilter)&&(C$99o=50,C$99f=25),(C$99r=C$99t.getBounds()).width<=0||C$99r.height<=0)return;C$99r.width+=C$99o,C$99r.height+=C$99o,C$99a.x=C$99r.x*C$99h.a+C$99r.y*C$99h.c,C$99a.y=C$99r.y*C$99h.d+C$99r.x*C$99h.b,C$99r.x=C$99a.x,C$99r.y=C$99a.y,C$99a.x=C$99r.width*C$99h.a+C$99r.height*C$99h.c,C$99a.y=C$99r.height*C$99h.d+C$99r.width*C$99h.b,C$99r.width=C$99a.x,C$99r.height=C$99a.y,C$99s.addValue("out",C$99m)}C$99i=C$99i-C$99f-C$99t.x,C$99n=C$99n-C$99f-C$99t.y,C$99a.setTo(C$99i,C$99n),C$99h.transformPoint(C$99a),C$99i=C$99a.x+C$99r.x,C$99n=C$99a.y+C$99r.y,C$99_=C$99wt.create(1,0),C$99w.TEMP.identity(),C$99e.ctx.drawTarget(C$99s,C$99i,C$99n,C$99r.width,C$99r.height,C$99w.TEMP,"out",C$99_,null,C$99q.TOINT.overlay),C$99l=C$99ot.create([C$99s],C$99y._recycleScope),C$99e.addRenderObject(C$99l),C$99h.destroy()}},Float32Array.prototype.slice||(Float32Array.prototype.slice=cdv$._float32ArraySlice),Uint16Array.prototype.slice||(Uint16Array.prototype.slice=cdv$._uint16ArraySlice),Uint8Array.prototype.slice||(Uint8Array.prototype.slice=cdv$._uint8ArraySlice),!0},cdv$.onStageResize=function(C$99t,C$99e){null!=cdv$.mainContext&&(cdv$.mainContext.viewport(0,0,C$99t,C$99e),C$99l.width=C$99t,C$99l.height=C$99e)},cdv$.onInvalidGLRes=function(){C$99U.instance.freeAll(),C$99E.releaseContentManagers(!0),cdv$.doNodeRepaint(C$99g.stage),cdv$.mainContext.viewport(0,0,C$99l.width,C$99l.height),C$99g.stage.event("devicelost")},cdv$.doNodeRepaint=function(C$99t){0==C$99t.numChildren&&C$99t.repaint();for(var C$99e=0;C$99e<C$99t.numChildren;C$99e++)cdv$.doNodeRepaint(C$99t.getChildAt(C$99e))},cdv$.init=function(C$99t,C$99e,C$99i){cdv$.mainCanvas=C$99t,C$99v._createContext=function(C$99t){return new C$99bt(C$99t)},C$99Ut._createContext=function(C$99t){return new C$99bt(C$99t)};var C$99n=laya.webgl.WebGL.mainContext;var C$99r;if(null!=C$99n.getShaderPrecisionFormat?(C$99t=C$99n.getShaderPrecisionFormat(35633,36338),C$99r=C$99n.getShaderPrecisionFormat(35632,36338),cdv$.shaderHighPrecision=!(!C$99t.precision||!C$99r.precision)):cdv$.shaderHighPrecision=!1,cdv$.compressAstc=C$99n.getExtension("WEBGL_compressed_texture_astc"),cdv$.compressAtc=C$99n.getExtension("WEBGL_compressed_texture_atc"),cdv$.compressEtc=C$99n.getExtension("WEBGL_compressed_texture_etc"),cdv$.compressEtc1=C$99n.getExtension("WEBGL_compressed_texture_etc1"),cdv$.compressPvrtc=C$99n.getExtension("WEBGL_compressed_texture_pvrtc"),cdv$.compressS3tc=C$99n.getExtension("WEBGL_compressed_texture_s3tc"),cdv$.compressS3tc_srgb=C$99n.getExtension("WEBGL_compressed_texture_s3tc_srgb"),cdv$.compressAstc=cdv$.compressAstc||{},cdv$.compressAtc=cdv$.compressAtc||{},cdv$.compressEtc=cdv$.compressEtc||{},cdv$.compressEtc1=cdv$.compressEtc1||{},cdv$.compressPvrtc=cdv$.compressPvrtc||{},cdv$.compressS3tc=cdv$.compressS3tc||{},cdv$.compressS3tc_srgb=cdv$.compressS3tc_srgb||{},C$99n.deleteTexture1=C$99n.deleteTexture,C$99n.deleteTexture=function(C$99t){C$99t==C$99xt.curBindTexValue&&(C$99xt.curBindTexValue=null),C$99n.deleteTexture1(C$99t)},cdv$.onStageResize(C$99e,C$99i),null==cdv$.mainContext)throw new Error("webGL getContext err!");C$99z.__init__(),C$99U.__init__(),C$99Ct.__init__(),C$99at.__init__(),C$99bt.__init__(),C$99wt.__init__(),C$99tt.__init__(),C$99Gt.__int__(C$99n),C$99q._init_(C$99n),C$99S.isConchApp&&conch.setOnInvalidGLRes(cdv$.onInvalidGLRes)},cdv$.mainCanvas=null,cdv$.antialias=!0,cdv$.shaderHighPrecision=!1,cdv$._bg_null=[0,0,0,0],cdv$),C$99xt=(C$99e(d7fpzo,"laya.webgl.WebGLContext"),d7fpzo.UseProgram=function(C$99t){return d7fpzo._useProgram!==C$99t&&(C$99c.mainContext.useProgram(C$99t),d7fpzo._useProgram=C$99t,!0)},d7fpzo.setDepthTest=function(C$99t,C$99e){C$99e!==d7fpzo._depthTest&&((d7fpzo._depthTest=C$99e)?C$99t.enable(2929):C$99t.disable(2929))},d7fpzo.setDepthMask=function(C$99t,C$99e){C$99e!==d7fpzo._depthMask&&(d7fpzo._depthMask=C$99e,C$99t.depthMask(C$99e))},d7fpzo.setDepthFunc=function(C$99t,C$99e){C$99e!==d7fpzo._depthFunc&&(d7fpzo._depthFunc=C$99e,C$99t.depthFunc(C$99e))},d7fpzo.setBlend=function(C$99t,C$99e){C$99e!==d7fpzo._blend&&((d7fpzo._blend=C$99e)?C$99t.enable(3042):C$99t.disable(3042))},d7fpzo.setBlendFunc=function(C$99t,C$99e,C$99i){C$99e===d7fpzo._sFactor&&C$99i===d7fpzo._dFactor||(d7fpzo._sFactor=C$99e,d7fpzo._dFactor=C$99i,C$99t.blendFunc(C$99e,C$99i))},d7fpzo.setCullFace=function(C$99t,C$99e){C$99e!==d7fpzo._cullFace&&((d7fpzo._cullFace=C$99e)?C$99t.enable(2884):C$99t.disable(2884))},d7fpzo.setFrontFace=function(C$99t,C$99e){C$99e!==d7fpzo._frontFace&&(d7fpzo._frontFace=C$99e,C$99t.frontFace(C$99e))},d7fpzo.bindTexture=function(C$99t,C$99e,C$99i){C$99t.bindTexture(C$99e,C$99i),d7fpzo.curBindTexTarget=C$99e,d7fpzo.curBindTexValue=C$99i},d7fpzo.DEPTH_BUFFER_BIT=256,d7fpzo.STENCIL_BUFFER_BIT=1024,d7fpzo.COLOR_BUFFER_BIT=16384,d7fpzo.POINTS=0,d7fpzo.LINES=1,d7fpzo.LINE_LOOP=2,d7fpzo.LINE_STRIP=3,d7fpzo.TRIANGLES=4,d7fpzo.TRIANGLE_STRIP=5,d7fpzo.TRIANGLE_FAN=6,d7fpzo.ZERO=0,d7fpzo.ONE=1,d7fpzo.SRC_COLOR=768,d7fpzo.ONE_MINUS_SRC_COLOR=769,d7fpzo.SRC_ALPHA=770,d7fpzo.ONE_MINUS_SRC_ALPHA=771,d7fpzo.DST_ALPHA=772,d7fpzo.ONE_MINUS_DST_ALPHA=773,d7fpzo.DST_COLOR=774,d7fpzo.ONE_MINUS_DST_COLOR=775,d7fpzo.SRC_ALPHA_SATURATE=776,d7fpzo.FUNC_ADD=32774,d7fpzo.BLEND_EQUATION=32777,d7fpzo.BLEND_EQUATION_RGB=32777,d7fpzo.BLEND_EQUATION_ALPHA=34877,d7fpzo.FUNC_SUBTRACT=32778,d7fpzo.FUNC_REVERSE_SUBTRACT=32779,d7fpzo.BLEND_DST_RGB=32968,d7fpzo.BLEND_SRC_RGB=32969,d7fpzo.BLEND_DST_ALPHA=32970,d7fpzo.BLEND_SRC_ALPHA=32971,d7fpzo.CONSTANT_COLOR=32769,d7fpzo.ONE_MINUS_CONSTANT_COLOR=32770,d7fpzo.CONSTANT_ALPHA=32771,d7fpzo.ONE_MINUS_CONSTANT_ALPHA=32772,d7fpzo.BLEND_COLOR=32773,d7fpzo.ARRAY_BUFFER=34962,d7fpzo.ELEMENT_ARRAY_BUFFER=34963,d7fpzo.ARRAY_BUFFER_BINDING=34964,d7fpzo.ELEMENT_ARRAY_BUFFER_BINDING=34965,d7fpzo.STREAM_DRAW=35040,d7fpzo.STATIC_DRAW=35044,d7fpzo.DYNAMIC_DRAW=35048,d7fpzo.BUFFER_SIZE=34660,d7fpzo.BUFFER_USAGE=34661,d7fpzo.CURRENT_VERTEX_ATTRIB=34342,d7fpzo.FRONT=1028,d7fpzo.BACK=1029,d7fpzo.CULL_FACE=2884,d7fpzo.FRONT_AND_BACK=1032,d7fpzo.BLEND=3042,d7fpzo.DITHER=3024,d7fpzo.STENCIL_TEST=2960,d7fpzo.DEPTH_TEST=2929,d7fpzo.SCISSOR_TEST=3089,d7fpzo.POLYGON_OFFSET_FILL=32823,d7fpzo.SAMPLE_ALPHA_TO_COVERAGE=32926,d7fpzo.SAMPLE_COVERAGE=32928,d7fpzo.NO_ERROR=0,d7fpzo.INVALID_ENUM=1280,d7fpzo.INVALID_VALUE=1281,d7fpzo.INVALID_OPERATION=1282,d7fpzo.OUT_OF_MEMORY=1285,d7fpzo.CW=2304,d7fpzo.CCW=2305,d7fpzo.LINE_WIDTH=2849,d7fpzo.ALIASED_POINT_SIZE_RANGE=33901,d7fpzo.ALIASED_LINE_WIDTH_RANGE=33902,d7fpzo.CULL_FACE_MODE=2885,d7fpzo.FRONT_FACE=2886,d7fpzo.DEPTH_RANGE=2928,d7fpzo.DEPTH_WRITEMASK=2930,d7fpzo.DEPTH_CLEAR_VALUE=2931,d7fpzo.DEPTH_FUNC=2932,d7fpzo.STENCIL_CLEAR_VALUE=2961,d7fpzo.STENCIL_FUNC=2962,d7fpzo.STENCIL_FAIL=2964,d7fpzo.STENCIL_PASS_DEPTH_FAIL=2965,d7fpzo.STENCIL_PASS_DEPTH_PASS=2966,d7fpzo.STENCIL_REF=2967,d7fpzo.STENCIL_VALUE_MASK=2963,d7fpzo.STENCIL_WRITEMASK=2968,d7fpzo.STENCIL_BACK_FUNC=34816,d7fpzo.STENCIL_BACK_FAIL=34817,d7fpzo.STENCIL_BACK_PASS_DEPTH_FAIL=34818,d7fpzo.STENCIL_BACK_PASS_DEPTH_PASS=34819,d7fpzo.STENCIL_BACK_REF=36003,d7fpzo.STENCIL_BACK_VALUE_MASK=36004,d7fpzo.STENCIL_BACK_WRITEMASK=36005,d7fpzo.VIEWPORT=2978,d7fpzo.SCISSOR_BOX=3088,d7fpzo.COLOR_CLEAR_VALUE=3106,d7fpzo.COLOR_WRITEMASK=3107,d7fpzo.UNPACK_ALIGNMENT=3317,d7fpzo.PACK_ALIGNMENT=3333,d7fpzo.MAX_TEXTURE_SIZE=3379,d7fpzo.MAX_VIEWPORT_DIMS=3386,d7fpzo.SUBPIXEL_BITS=3408,d7fpzo.RED_BITS=3410,d7fpzo.GREEN_BITS=3411,d7fpzo.BLUE_BITS=3412,d7fpzo.ALPHA_BITS=3413,d7fpzo.DEPTH_BITS=3414,d7fpzo.STENCIL_BITS=3415,d7fpzo.POLYGON_OFFSET_UNITS=10752,d7fpzo.POLYGON_OFFSET_FACTOR=32824,d7fpzo.TEXTURE_BINDING_2D=32873,d7fpzo.SAMPLE_BUFFERS=32936,d7fpzo.SAMPLES=32937,d7fpzo.SAMPLE_COVERAGE_VALUE=32938,d7fpzo.SAMPLE_COVERAGE_INVERT=32939,d7fpzo.NUM_COMPRESSED_TEXTURE_FORMATS=34466,d7fpzo.COMPRESSED_TEXTURE_FORMATS=34467,d7fpzo.DONT_CARE=4352,d7fpzo.FASTEST=4353,d7fpzo.NICEST=4354,d7fpzo.GENERATE_MIPMAP_HINT=33170,d7fpzo.BYTE=5120,d7fpzo.UNSIGNED_BYTE=5121,d7fpzo.SHORT=5122,d7fpzo.UNSIGNED_SHORT=5123,d7fpzo.INT=5124,d7fpzo.UNSIGNED_INT=5125,d7fpzo.FLOAT=5126,d7fpzo.DEPTH_COMPONENT=6402,d7fpzo.ALPHA=6406,d7fpzo.RGB=6407,d7fpzo.RGBA=6408,d7fpzo.LUMINANCE=6409,d7fpzo.LUMINANCE_ALPHA=6410,d7fpzo.UNSIGNED_SHORT_4_4_4_4=32819,d7fpzo.UNSIGNED_SHORT_5_5_5_1=32820,d7fpzo.UNSIGNED_SHORT_5_6_5=33635,d7fpzo.FRAGMENT_SHADER=35632,d7fpzo.VERTEX_SHADER=35633,d7fpzo.MAX_VERTEX_ATTRIBS=34921,d7fpzo.MAX_VERTEX_UNIFORM_VECTORS=36347,d7fpzo.MAX_VARYING_VECTORS=36348,d7fpzo.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,d7fpzo.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,d7fpzo.MAX_TEXTURE_IMAGE_UNITS=34930,d7fpzo.MAX_FRAGMENT_UNIFORM_VECTORS=36349,d7fpzo.SHADER_TYPE=35663,d7fpzo.DELETE_STATUS=35712,d7fpzo.LINK_STATUS=35714,d7fpzo.VALIDATE_STATUS=35715,d7fpzo.ATTACHED_SHADERS=35717,d7fpzo.ACTIVE_UNIFORMS=35718,d7fpzo.ACTIVE_ATTRIBUTES=35721,d7fpzo.SHADING_LANGUAGE_VERSION=35724,d7fpzo.CURRENT_PROGRAM=35725,d7fpzo.NEVER=512,d7fpzo.LESS=513,d7fpzo.EQUAL=514,d7fpzo.LEQUAL=515,d7fpzo.GREATER=516,d7fpzo.NOTEQUAL=517,d7fpzo.GEQUAL=518,d7fpzo.ALWAYS=519,d7fpzo.KEEP=7680,d7fpzo.REPLACE=7681,d7fpzo.INCR=7682,d7fpzo.DECR=7683,d7fpzo.INVERT=5386,d7fpzo.INCR_WRAP=34055,d7fpzo.DECR_WRAP=34056,d7fpzo.VENDOR=7936,d7fpzo.RENDERER=7937,d7fpzo.VERSION=7938,d7fpzo.NEAREST=9728,d7fpzo.LINEAR=9729,d7fpzo.NEAREST_MIPMAP_NEAREST=9984,d7fpzo.LINEAR_MIPMAP_NEAREST=9985,d7fpzo.NEAREST_MIPMAP_LINEAR=9986,d7fpzo.LINEAR_MIPMAP_LINEAR=9987,d7fpzo.TEXTURE_MAG_FILTER=10240,d7fpzo.TEXTURE_MIN_FILTER=10241,d7fpzo.TEXTURE_WRAP_S=10242,d7fpzo.TEXTURE_WRAP_T=10243,d7fpzo.TEXTURE_2D=3553,d7fpzo.TEXTURE=5890,d7fpzo.TEXTURE_CUBE_MAP=34067,d7fpzo.TEXTURE_BINDING_CUBE_MAP=34068,d7fpzo.TEXTURE_CUBE_MAP_POSITIVE_X=34069,d7fpzo.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,d7fpzo.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,d7fpzo.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,d7fpzo.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,d7fpzo.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,d7fpzo.MAX_CUBE_MAP_TEXTURE_SIZE=34076,d7fpzo.TEXTURE0=33984,d7fpzo.TEXTURE1=33985,d7fpzo.TEXTURE2=33986,d7fpzo.TEXTURE3=33987,d7fpzo.TEXTURE4=33988,d7fpzo.TEXTURE5=33989,d7fpzo.TEXTURE6=33990,d7fpzo.TEXTURE7=33991,d7fpzo.TEXTURE8=33992,d7fpzo.TEXTURE9=33993,d7fpzo.TEXTURE10=33994,d7fpzo.TEXTURE11=33995,d7fpzo.TEXTURE12=33996,d7fpzo.TEXTURE13=33997,d7fpzo.TEXTURE14=33998,d7fpzo.TEXTURE15=33999,d7fpzo.TEXTURE16=34e3,d7fpzo.TEXTURE17=34001,d7fpzo.TEXTURE18=34002,d7fpzo.TEXTURE19=34003,d7fpzo.TEXTURE20=34004,d7fpzo.TEXTURE21=34005,d7fpzo.TEXTURE22=34006,d7fpzo.TEXTURE23=34007,d7fpzo.TEXTURE24=34008,d7fpzo.TEXTURE25=34009,d7fpzo.TEXTURE26=34010,d7fpzo.TEXTURE27=34011,d7fpzo.TEXTURE28=34012,d7fpzo.TEXTURE29=34013,d7fpzo.TEXTURE30=34014,d7fpzo.TEXTURE31=34015,d7fpzo.ACTIVE_TEXTURE=34016,d7fpzo.REPEAT=10497,d7fpzo.CLAMP_TO_EDGE=33071,d7fpzo.MIRRORED_REPEAT=33648,d7fpzo.FLOAT_VEC2=35664,d7fpzo.FLOAT_VEC3=35665,d7fpzo.FLOAT_VEC4=35666,d7fpzo.INT_VEC2=35667,d7fpzo.INT_VEC3=35668,d7fpzo.INT_VEC4=35669,d7fpzo.BOOL=35670,d7fpzo.BOOL_VEC2=35671,d7fpzo.BOOL_VEC3=35672,d7fpzo.BOOL_VEC4=35673,d7fpzo.FLOAT_MAT2=35674,d7fpzo.FLOAT_MAT3=35675,d7fpzo.FLOAT_MAT4=35676,d7fpzo.SAMPLER_2D=35678,d7fpzo.SAMPLER_CUBE=35680,d7fpzo.VERTEX_ATTRIB_ARRAY_ENABLED=34338,d7fpzo.VERTEX_ATTRIB_ARRAY_SIZE=34339,d7fpzo.VERTEX_ATTRIB_ARRAY_STRIDE=34340,d7fpzo.VERTEX_ATTRIB_ARRAY_TYPE=34341,d7fpzo.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,d7fpzo.VERTEX_ATTRIB_ARRAY_POINTER=34373,d7fpzo.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,d7fpzo.COMPILE_STATUS=35713,d7fpzo.LOW_FLOAT=36336,d7fpzo.MEDIUM_FLOAT=36337,d7fpzo.HIGH_FLOAT=36338,d7fpzo.LOW_INT=36339,d7fpzo.MEDIUM_INT=36340,d7fpzo.HIGH_INT=36341,d7fpzo.FRAMEBUFFER=36160,d7fpzo.RENDERBUFFER=36161,d7fpzo.RGBA4=32854,d7fpzo.RGB5_A1=32855,d7fpzo.RGB565=36194,d7fpzo.DEPTH_COMPONENT16=33189,d7fpzo.STENCIL_INDEX=6401,d7fpzo.STENCIL_INDEX8=36168,d7fpzo.DEPTH_STENCIL=34041,d7fpzo.RENDERBUFFER_WIDTH=36162,d7fpzo.RENDERBUFFER_HEIGHT=36163,d7fpzo.RENDERBUFFER_INTERNAL_FORMAT=36164,d7fpzo.RENDERBUFFER_RED_SIZE=36176,d7fpzo.RENDERBUFFER_GREEN_SIZE=36177,d7fpzo.RENDERBUFFER_BLUE_SIZE=36178,d7fpzo.RENDERBUFFER_ALPHA_SIZE=36179,d7fpzo.RENDERBUFFER_DEPTH_SIZE=36180,d7fpzo.RENDERBUFFER_STENCIL_SIZE=36181,d7fpzo.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,d7fpzo.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,d7fpzo.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,d7fpzo.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,d7fpzo.COLOR_ATTACHMENT0=36064,d7fpzo.DEPTH_ATTACHMENT=36096,d7fpzo.STENCIL_ATTACHMENT=36128,d7fpzo.DEPTH_STENCIL_ATTACHMENT=33306,d7fpzo.NONE=0,d7fpzo.FRAMEBUFFER_COMPLETE=36053,d7fpzo.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,d7fpzo.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,d7fpzo.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,d7fpzo.FRAMEBUFFER_UNSUPPORTED=36061,d7fpzo.FRAMEBUFFER_BINDING=36006,d7fpzo.RENDERBUFFER_BINDING=36007,d7fpzo.MAX_RENDERBUFFER_SIZE=34024,d7fpzo.INVALID_FRAMEBUFFER_OPERATION=1286,d7fpzo.UNPACK_FLIP_Y_WEBGL=37440,d7fpzo.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,d7fpzo.CONTEXT_LOST_WEBGL=37442,d7fpzo.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,d7fpzo.BROWSER_DEFAULT_WEBGL=37444,d7fpzo._useProgram=null,d7fpzo._depthTest=!0,d7fpzo._depthMask=!0,d7fpzo._blend=!1,d7fpzo._cullFace=!1,d7fpzo.curBindTexTarget=null,d7fpzo.curBindTexValue=null,C$99r(d7fpzo,["_depthFunc",function(){return this._depthFunc=513},"_sFactor",function(){return this._sFactor=1},"_dFactor",function(){return this._dFactor=0},"_frontFace",function(){return this._frontFace=2305}]),d7fpzo),C$99yt=(C$99e(rnagj,"laya.webgl.display.GraphicsGL",C$99t),(C$99he=rnagj.prototype).setShader=function(C$99t){this._saveToCmd(C$99S.context._setShader,[C$99t])},C$99he.setIBVB=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._saveToCmd(C$99S.context._setIBVB,[C$99t,C$99e,C$99i,C$99n,C$99r,C$99s])},C$99he.drawParticle=function(C$99t,C$99e,C$99i){C$99i=C$99A.createParticleTemplate2D(C$99i);C$99i.x=C$99t,C$99i.y=C$99e,this._saveToCmd(C$99S.context._drawParticle,[C$99i])},rnagj),C$99bt=(C$99e(pf7,"laya.webgl.canvas.WebGLContext2D",C$99p),(C$99t=pf7.prototype).setIsMainContext=function(){this._isMain=!0},C$99t.clearBG=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99c.mainContext;C$99r.clearColor(C$99t,C$99e,C$99i,C$99n),C$99r.clear(16384)},C$99t._getSubmits=function(){return this._submits},C$99t._releaseMem=function(){if(this._submits){this._curMat.destroy(),this._curMat=null,this._shader2D.destroy(),this._shader2D=null;for(var C$99t=0,C$99e=this._submits._length;C$99t<C$99e;C$99t++)this._submits[C$99t].releaseRender();this._submits.length=0,this._submits._length=0,this._submits=null,this._curSubmit=null,this._path&&this._path.recover(),this._path=null,this._other&&(this._other.font=null),this._save=null,this._vb&&(this._vb.releaseResource(),this._vb.destroy(),this._vb.destory(),this._vb=null)}},C$99t.destroy=function(){--pf7._contextcount,this.sprite=null,this._releaseMem(),this._targets&&this._targets.destroy(),this._targets=null,this._canvas&&this._canvas._removeReference(),this._canvas=null,this._ib&&this._ib!=C$99Kt.QuadrangleIB&&this._ib.releaseResource()},C$99t.clear=function(){this._submits||(this._other=C$99se.DEFAULT,this._curMat=C$99w.create(),this._vb=C$99Zt.create(-1),this._submits=[],this._save=[C$99K.Create(this)],this._save.length=10,this._shader2D=new C$99tt,this._triangleMesh=C$99Pt.getAMesh()),this._vb.clear(),this._targets&&(this._targets.repaint=!0),this._other=C$99se.DEFAULT,this._clear=!0,this._repaint=!1,this._drawCount=1,this._renderKey=0,this._other.lineWidth=this._shader2D.ALPHA=1,this._nBlendType=0,this._clipRect=pf7.MAXCLIPRECT,this._curSubmit=C$99at.RENDERBASE,this._shader2D.glTexture=null,this._shader2D.fillStyle=this._shader2D.strokeStyle=C$99H.DEFAULT;for(var C$99t=0,C$99e=this._submits._length;C$99t<C$99e;C$99t++)this._submits[C$99t].releaseRender(),this._submits[C$99t]=null;this._submits._length=0,this._curMat.identity(),this._other.clear(),this._saveMark=this._save[0],this._save._length=1},C$99t.size=function(C$99t,C$99e){if(this._width!=C$99t||this._height!=C$99e)if(0==C$99t||0==C$99e){0!=this._vb._byteLength&&(this._width=C$99t,this._height=C$99e,this._vb.clear(),this._vb.upload());for(var C$99i=0,C$99n=this._submits._length;C$99i<C$99n;C$99i++)this._submits[C$99i].releaseRender();this._submits.length=0,this._submits._length=0,this._curSubmit=null,this._path&&this._path.recover(),this._path=null,this.sprite=null,this._targets&&this._targets.destroy(),this._targets=null}else this._width=C$99t,this._height=C$99e,this._targets&&this._targets.size(C$99t,C$99e),this._canvas.memorySize-=this._canvas.memorySize;0===C$99t&&0===C$99e&&this._releaseMem()},C$99t._getTransformMatrix=function(){return this._curMat},C$99t.translate=function(C$99t,C$99e){0===C$99t&&0===C$99e||(C$99Q.save(this),this._curMat.bTransform&&(C$99Z.save(this),this._curMat.transformPointN(C$99T.TEMP.setTo(C$99t,C$99e)),C$99t=C$99T.TEMP.x,C$99e=C$99T.TEMP.y),this._x+=C$99t,this._y+=C$99e)},C$99t.save=function(){this._save[this._save._length++]=C$99K.Create(this)},C$99t.restore=function(){var C$99t=this._save._length;if(!(C$99t<1))for(var C$99e=C$99t-1;0<=C$99e;C$99e--){var C$99i=this._save[C$99e];if(C$99i.restore(this),C$99i.isSaveMark())return void(this._save._length=C$99e)}},C$99t._fillText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99c,C$99_,C$99u,C$99a){void 0===C$99a&&(C$99a=0);var C$99o=this._shader2D,C$99h=this._curSubmit.shaderValue,C$99r=C$99r?C$99pt.create(C$99r):this._other.font;var C$99l;C$99U.enabled?C$99o.ALPHA!==C$99h.ALPHA&&(C$99o.glTexture=null):(this._shader2D.defines.getValue(),C$99l=C$99s?C$99f.create(C$99s)._color:C$99o.colorAdd,C$99o.ALPHA===C$99h.ALPHA&&C$99l===C$99o.colorAdd&&C$99h.colorAdd===C$99o.colorAdd||(C$99o.glTexture=null,C$99o.colorAdd=C$99l)),C$99ft.drawText(this,C$99t,C$99e,this._curMat,C$99r,C$99u||this._other.textAlign,C$99s,C$99c,C$99_,C$99i,C$99n,C$99a)},C$99t.fillWords=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._fillText(null,C$99t,C$99e,C$99i,C$99n,C$99r,null,-1,null,C$99s)},C$99t.fillBorderWords=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._fillBorderText(null,C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,null)},C$99t.fillText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._fillText(C$99t,null,C$99e,C$99i,C$99n,C$99r,null,-1,C$99s)},C$99t.strokeText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._fillText(C$99t,null,C$99e,C$99i,C$99n,null,C$99r,C$99s||1,C$99a)},C$99t.fillBorderText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){this._fillBorderText(C$99t,null,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o)},C$99t._fillBorderText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){if(!C$99U.enabled)return this._fillText(C$99t,C$99e,C$99i,C$99n,C$99r,null,C$99a,C$99o||1,C$99h),void this._fillText(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,null,-1,C$99h);var C$99c=this._shader2D,C$99l=this._curSubmit.shaderValue;C$99c.ALPHA!==C$99l.ALPHA&&(C$99c.glTexture=null);C$99l=C$99r?(pf7._fontTemp.setFont(C$99r),pf7._fontTemp):this._other.font;C$99ft.drawText(this,C$99t,C$99e,this._curMat,C$99l,C$99h||this._other.textAlign,C$99s,C$99a,C$99o||1,C$99i,C$99n,0)},C$99t.fillRect=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=this._vb;C$99gt.fillRectImgVb(C$99s,this._clipRect,C$99t,C$99e,C$99i,C$99n,C$99B.DEF_UV,this._curMat,this._x,this._y,0,0)&&(this._renderKey=0,C$99t=this._shader2D.fillStyle,C$99r&&(this._shader2D.fillStyle=C$99H.create(C$99r)),C$99e=this._shader2D,C$99i=this._curSubmit.shaderValue,C$99e.fillStyle===C$99i.fillStyle&&C$99e.ALPHA===C$99i.ALPHA||(C$99e.glTexture=null,(C$99n=this._curSubmit=C$99at.createSubmit(this,this._ib,C$99s,(C$99s._byteLength-64)/32*3,C$99wt.create(2,0))).shaderValue.color=C$99e.fillStyle._color._color,C$99n.shaderValue.ALPHA=C$99e.ALPHA,this._submits[this._submits._length++]=C$99n),this._curSubmit._numEle+=6,this._shader2D.fillStyle=C$99t)},C$99t.fillTexture=function(C$99t,C$99c,C$99_,C$99e,C$99i,C$99n,C$99u,C$99r){if(C$99t.loaded&&C$99t.bitmap&&C$99t.source){var C$99d=this._vb,C$99s=C$99t.bitmap.width,C$99a=C$99t.bitmap.height,C$99o=C$99t.uv,C$99h=C$99u.x%C$99t.width,C$99l=C$99u.y%C$99t.height;if(C$99s!=C$99r.w||C$99a!=C$99r.h){if(!C$99r.w&&!C$99r.h)switch(C$99r.oy=C$99r.ox=0,C$99n){case"repeat":C$99r.width=C$99e,C$99r.height=C$99i;break;case"repeat-x":C$99r.width=C$99e,C$99l<0?C$99t.height+C$99l>C$99i?C$99r.height=C$99i:C$99r.height=C$99t.height+C$99l:(C$99r.oy=C$99l,C$99t.height+C$99l>C$99i?C$99r.height=C$99i-C$99l:C$99r.height=C$99t.height);break;case"repeat-y":C$99h<0?C$99t.width+C$99h>C$99e?C$99r.width=C$99e:C$99r.width=C$99t.width+C$99h:(C$99r.ox=C$99h,C$99t.width+C$99h>C$99e?C$99r.width=C$99e-C$99h:C$99r.width=C$99t.width),C$99r.height=C$99i;break;case"no-repeat":C$99h<0?C$99t.width+C$99h>C$99e?C$99r.width=C$99e:C$99r.width=C$99t.width+C$99h:(C$99r.ox=C$99h,C$99t.width+C$99h>C$99e?C$99r.width=C$99e-C$99h:C$99r.width=C$99t.width),C$99l<0?C$99t.height+C$99l>C$99i?C$99r.height=C$99i:C$99r.height=C$99t.height+C$99l:(C$99r.oy=C$99l,C$99t.height+C$99l>C$99i?C$99r.height=C$99i-C$99l:C$99r.height=C$99t.height);break;default:C$99r.width=C$99e,C$99r.height=C$99i}C$99r.w=C$99s,C$99r.h=C$99a,C$99r.uv=[0,0,C$99r.width/C$99s,0,C$99r.width/C$99s,C$99r.height/C$99a,0,C$99r.height/C$99a]}var C$99f,C$99p,C$99m;C$99c+=C$99r.ox,C$99_+=C$99r.oy,C$99h-=C$99r.ox,C$99l-=C$99r.oy,C$99gt.fillRectImgVb(C$99d,this._clipRect,C$99c,C$99_,C$99r.width,C$99r.height,C$99r.uv,this._curMat,this._x,this._y,0,0)&&(this._renderKey=0,C$99u=C$99Rt.create(this,this._ib,C$99d,(C$99d._byteLength-64)/32*3,C$99wt.create(256,0)),(C$99n=(this._submits[this._submits._length++]=C$99u).shaderValue).textureHost=C$99t,C$99c=C$99o[0]*C$99s,C$99_=C$99o[1]*C$99a,C$99f=(C$99o[2]-C$99o[0])*C$99s,C$99o=(C$99o[5]-C$99o[3])*C$99a,C$99p=-C$99h/C$99s,C$99m=-C$99l/C$99a,C$99n.u_TexRange[0]=C$99c/C$99s,C$99n.u_TexRange[1]=C$99f/C$99s,C$99n.u_TexRange[2]=C$99_/C$99a,C$99n.u_TexRange[3]=C$99o/C$99a,C$99n.u_offset[0]=C$99p,C$99n.u_offset[1]=C$99m,C$99U.enabled&&!this._isMain&&C$99u.addTexture(C$99t,(C$99d._byteLength>>2)-16),(this._curSubmit=C$99u)._renderType=10017,C$99u._numEle+=6)}else this.sprite&&C$99g.timer.callLater(this,this._repaintSprite)},C$99t.setShader=function(C$99t){C$99G.save(this,1048576,this._shader2D,!0),this._shader2D.shader=C$99t},C$99t.setFilters=function(C$99t){C$99G.save(this,2097152,this._shader2D,!0),this._shader2D.filters=C$99t,this._curSubmit=C$99at.RENDERBASE,this._renderKey=0,this._drawCount++},C$99t.drawTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._drawTextureM(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,null,1)},C$99t.addTextureVb=function(C$99t,C$99e,C$99i){var C$99n=this._curSubmit._vb||this._vb,C$99r=C$99n._byteLength>>2;C$99n.byteLength=C$99r+16<<2;for(var C$99s=C$99n.getFloat32Array(),C$99a=0;C$99a<16;C$99a+=4)C$99s[C$99r++]=C$99t[C$99a]+C$99e,C$99s[C$99r++]=C$99t[C$99a+1]+C$99i,C$99s[C$99r++]=C$99t[C$99a+2],C$99s[C$99r++]=C$99t[C$99a+3];this._curSubmit._numEle+=6,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle),C$99n._upload=!0},C$99t.willDrawTexture=function(C$99t,C$99e){if(!(C$99t.loaded&&C$99t.bitmap&&C$99t.source))return this.sprite&&C$99g.timer.callLater(this,this._repaintSprite),0;var C$99i=C$99t.bitmap,C$99n=C$99i.id+this._shader2D.ALPHA*C$99e+10016;if(C$99n==this._renderKey)return C$99n;var C$99r=this._shader2D,C$99s=C$99r.ALPHA,C$99a=this._curSubmit.shaderValue;C$99r.ALPHA*=C$99e,this._renderKey=C$99n,this._drawCount++,C$99r.glTexture=C$99i;var C$99e=this._vb,C$99i=null,C$99o=C$99e._byteLength/32*3,C$99h=C$99a.textureHost&&C$99a.textureHost==C$99t&&C$99a.textureHost.alphaTexture==C$99t.alphaTexture;return C$99i=C$99Rt.create(this,this._ib,C$99e,C$99o,C$99wt.create(1,0)),(this._submits[this._submits._length++]=C$99i).shaderValue.textureHost=C$99t,C$99i._renderType=10016,C$99i._preIsSameTextureShader=10016===this._curSubmit._renderType&&C$99r.ALPHA===C$99a.ALPHA&&C$99h,this._curSubmit=C$99i,C$99r.ALPHA=C$99s,C$99n},C$99t.drawTextures=function(C$99t,C$99e,C$99i,C$99n){if(C$99t.loaded&&C$99t.bitmap&&C$99t.source){var C$99r=this._clipRect;if(this._clipRect=pf7.MAXCLIPRECT,this._drawTextureM(C$99t,C$99e[0],C$99e[1],C$99t.width,C$99t.height,C$99i,C$99n,null,1)){if(this._clipRect=C$99r,C$99P.drawCall++,!(C$99e.length<4)){for(var C$99s=this._curSubmit._vb||this._vb,C$99a=this._curMat.a,C$99o=this._curMat.d,C$99h=2,C$99l=C$99e.length;C$99h<C$99l;C$99h+=2)C$99gt.copyPreImgVb(C$99s,(C$99e[C$99h]-C$99e[C$99h-2])*C$99a,(C$99e[C$99h+1]-C$99e[C$99h-1])*C$99o),this._curSubmit._numEle+=6;this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle)}}else alert("drawTextures err")}else this.sprite&&C$99g.timer.callLater(this,this._repaintSprite)},C$99t._drawTextureM=function(C$99t,C$99e,C$99i,C$99c,C$99_,C$99n,C$99r,C$99u,C$99s){if(!C$99t.loaded||!C$99t.source)return this.sprite&&C$99g.timer.callLater(this,this._repaintSprite),!1;var C$99a=this._curSubmit._vb||this._vb,C$99o=C$99t.bitmap;C$99e+=C$99n,C$99i+=C$99r,this._drawCount++;C$99n=C$99o.id+this._shader2D.ALPHA*C$99s+10016;var C$99h,C$99l,C$99d;return C$99n!=this._renderKey&&(this._renderKey=C$99n,C$99r=this._curSubmit.shaderValue,C$99h=(C$99n=this._shader2D).ALPHA,C$99n.ALPHA*=C$99s,C$99n.glTexture=C$99o,C$99s=null,C$99l=(C$99o=this._vb)._byteLength/32*3,C$99d=C$99r.textureHost&&C$99r.textureHost==C$99t&&C$99r.textureHost.alphaTexture==C$99t.alphaTexture,C$99s=C$99Rt.create(this,this._ib,C$99o,C$99l,C$99wt.create(1,0)),(this._submits[this._submits._length++]=C$99s).shaderValue.textureHost=C$99t,C$99s._renderType=10016,C$99s._preIsSameTextureShader=10016===this._curSubmit._renderType&&C$99n.ALPHA===C$99r.ALPHA&&C$99d,this._curSubmit=C$99s,C$99a=this._curSubmit._vb||this._vb,C$99n.ALPHA=C$99h),!!C$99gt.fillRectImgVb(C$99a,this._clipRect,C$99e,C$99i,C$99c||C$99t.width,C$99_||C$99t.height,C$99t.uv,C$99u||this._curMat,this._x,this._y,0,0)&&(C$99U.enabled&&!this._isMain&&this._curSubmit.addTexture(C$99t,(C$99a._byteLength>>2)-16),this._curSubmit._numEle+=6,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle),!0)},C$99t._repaintSprite=function(){this.sprite&&this.sprite.repaint()},C$99t._drawText=function(C$99t,C$99e,C$99i,C$99n,C$99c,C$99_,C$99u,C$99d,C$99f,C$99p){var C$99r=C$99t.bitmap;this._drawCount++;var C$99s=C$99r.id+this._shader2D.ALPHA+10016;var C$99a,C$99o,C$99h;C$99s!=this._renderKey&&(this._renderKey=C$99s,C$99s=this._curSubmit.shaderValue,(C$99a=this._shader2D).glTexture=C$99r,C$99r=null,C$99o=(C$99l=this._vb)._byteLength/32*3,C$99h=C$99s.textureHost&&C$99s.textureHost==C$99t&&C$99s.textureHost.alphaTexture==C$99t.alphaTexture,(C$99r=C$99U.enabled?C$99Rt.create(this,this._ib,C$99l,C$99o,C$99wt.create(1,0)):C$99Rt.create(this,this._ib,C$99l,C$99o,C$99Yt.create()))._preIsSameTextureShader=10016===this._curSubmit._renderType&&C$99a.ALPHA===C$99s.ALPHA&&C$99h,(this._submits[this._submits._length++]=C$99r).shaderValue.textureHost=C$99t,C$99r._renderType=10016,this._curSubmit=C$99r),C$99t.active();var C$99l=this._curSubmit._vb||this._vb;C$99gt.fillRectImgVb(C$99l,this._clipRect,C$99e+C$99u,C$99i+C$99d,C$99n||C$99t.width,C$99c||C$99t.height,C$99t.uv,C$99_||this._curMat,this._x,this._y,C$99f,C$99p,!0)&&(C$99U.enabled&&!this._isMain&&this._curSubmit.addTexture(C$99t,(C$99l._byteLength>>2)-16),this._curSubmit._numEle+=6,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle))},C$99t.drawTextureWithTransform=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){var C$99l,C$99c,C$99_;C$99s?(C$99l=this._curMat,C$99c=this._x,C$99_=this._y,0===C$99a&&0===C$99o||(this._x=C$99a*C$99l.a+C$99o*C$99l.c,this._y=C$99o*C$99l.d+C$99a*C$99l.b),C$99s&&C$99l.bTransform?(C$99w.mul(C$99s,C$99l,pf7._tmpMatrix),(C$99s=pf7._tmpMatrix)._checkTransform()):(this._x+=C$99l.tx,this._y+=C$99l.ty),this._drawTextureM(C$99t,C$99e,C$99i,C$99n,C$99r,0,0,C$99s,C$99h),this._x=C$99c,this._y=C$99_):this._drawTextureM(C$99t,C$99e,C$99i,C$99n,C$99r,C$99a,C$99o,null,C$99h)},C$99t.fillQuadrangle=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=this._curSubmit,C$99a=this._vb,C$99o=this._shader2D,C$99h=C$99s.shaderValue;var C$99l;this._renderKey=0,C$99t.bitmap?(C$99l=C$99t.bitmap,C$99o.glTexture==C$99l&&C$99o.ALPHA===C$99h.ALPHA||(C$99o.glTexture=C$99l,(C$99s=this._curSubmit=C$99at.createSubmit(this,this._ib,C$99a,C$99a._byteLength/32*3,C$99wt.create(1,0))).shaderValue.glTexture=C$99l,this._submits[this._submits._length++]=C$99s),C$99gt.fillQuadrangleImgVb(C$99a,C$99e,C$99i,C$99n,C$99t.uv,C$99r||this._curMat,this._x,this._y)):(C$99s.shaderValue.fillStyle&&C$99s.shaderValue.fillStyle.equal(C$99t)&&C$99o.ALPHA===C$99h.ALPHA||(C$99o.glTexture=null,(C$99s=this._curSubmit=C$99at.createSubmit(this,this._ib,C$99a,C$99a._byteLength/32*3,C$99wt.create(2,0))).shaderValue.defines.add(2),C$99s.shaderValue.fillStyle=C$99H.create(C$99t),this._submits[this._submits._length++]=C$99s),C$99gt.fillQuadrangleImgVb(C$99a,C$99e,C$99i,C$99n,C$99B.DEF_UV,C$99r||this._curMat,this._x,this._y)),C$99s._numEle+=6},C$99t.drawTexture2=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){var C$99h;0!=C$99s&&(C$99h=this._curMat,this._x=C$99t*C$99h.a+C$99e*C$99h.c,this._y=C$99e*C$99h.d+C$99t*C$99h.b,C$99r=C$99r&&(C$99h.bTransform||C$99r.bTransform?(C$99w.mul(C$99r,C$99h,pf7._tmpMatrix),pf7._tmpMatrix):(this._x+=C$99r.tx+C$99h.tx,this._y+=C$99r.ty+C$99h.ty,C$99w.EMPTY)),1!==C$99s||C$99a?(C$99e=this._shader2D.ALPHA,C$99t=this._nBlendType,this._shader2D.ALPHA=C$99s,C$99a&&(this._nBlendType=C$99q.TOINT(C$99a)),this._drawTextureM(C$99o[0],C$99o[1]-C$99i,C$99o[2]-C$99n,C$99o[3],C$99o[4],0,0,C$99r,1),this._shader2D.ALPHA=C$99e,this._nBlendType=C$99t):this._drawTextureM(C$99o[0],C$99o[1]-C$99i,C$99o[2]-C$99n,C$99o[3],C$99o[4],0,0,C$99r,1),this._x=this._y=0)},C$99t.drawCanvas=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99t.context;var C$99a,C$99o;this._renderKey=0,C$99s._targets?(this._submits[this._submits._length++]=C$99It.create(C$99s,0,null),this._curSubmit=C$99at.RENDERBASE,C$99s._targets.drawTo(this,C$99e,C$99i,C$99n,C$99r)):(C$99a=this._submits[this._submits._length++]=C$99It.create(C$99s,this._shader2D.ALPHA,this._shader2D.filters),C$99o=C$99n/C$99t.width,C$99t=C$99r/C$99t.height,C$99a=C$99a._matrix,this._curMat.copyTo(C$99a),1!=C$99o&&1!=C$99t&&C$99a.scale(C$99o,C$99t),C$99o=C$99a.tx,C$99t=C$99a.ty,C$99a.tx=C$99a.ty=0,C$99a.transformPoint(C$99T.TEMP.setTo(C$99e,C$99i)),C$99a.translate(C$99T.TEMP.x+C$99o,C$99T.TEMP.y+C$99t),this._curSubmit=C$99at.RENDERBASE),C$99m.showCanvasMark&&(this.save(),this.lineWidth=4,this.strokeStyle=C$99s._targets?"yellow":"green",this.strokeRect(C$99e-1,C$99i-1,C$99n+2,C$99r+2,1),this.strokeRect(C$99e,C$99i,C$99n,C$99r,1),this.restore())},C$99t.drawTarget=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99c,C$99h){void 0===C$99h&&(C$99h=-1);var C$99l=this._vb;C$99gt.fillRectImgVb(C$99l,this._clipRect,C$99e,C$99i,C$99n,C$99r,C$99c||C$99B.DEF_UV,C$99s||this._curMat,this._x,this._y,0,0)&&(this._renderKey=0,this._shader2D.glTexture=null,this._curSubmit.shaderValue,(C$99e=this._curSubmit=C$99ut.create(this,this._ib,C$99l,(C$99l._byteLength-64)/32*3,C$99o,C$99a)).blendType=-1==C$99h?this._nBlendType:C$99h,C$99e.scope=C$99t,this._submits[this._submits._length++]=C$99e,this._curSubmit._numEle+=6)},C$99t.mixRGBandAlpha=function(C$99t){return this._mixRGBandAlpha(C$99t,this._shader2D.ALPHA)},C$99t._mixRGBandAlpha=function(C$99t,C$99e){var C$99i=(4278190080&C$99t)>>>24;return 0!=C$99i?C$99i*=C$99e:C$99i=255*C$99e,16777215&C$99t|C$99i<<24},C$99t.drawTriangles=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99c,C$99_){if(!C$99t.loaded||!C$99t.source)return this.sprite&&C$99g.timer.callLater(this,this._repaintSprite),!1;this._drawCount++,C$99t.bitmap;var C$99o=this._mixRGBandAlpha(4294967295,C$99o),C$99h=(C$99n.length,C$99s.length);this._renderKey=-1;var C$99l=this._curSubmit=C$99Rt.create(this,this._triangleMesh.getIBR(),this._triangleMesh.getVBR(),this._triangleMesh.indexNum,C$99wt.create(1,0));return C$99l.shaderValue.textureHost=C$99t,C$99l._renderType=10016,this._submits[this._submits._length++]=C$99l,C$99a?(pf7._tmpMatrix.a=C$99a.a,pf7._tmpMatrix.b=C$99a.b,pf7._tmpMatrix.c=C$99a.c,pf7._tmpMatrix.d=C$99a.d,pf7._tmpMatrix.tx=C$99a.tx+C$99e,pf7._tmpMatrix.ty=C$99a.ty+C$99i,C$99w.mul(pf7._tmpMatrix,this._curMat,pf7._tmpMatrix)):(pf7._tmpMatrix.a=this._curMat.a,pf7._tmpMatrix.b=this._curMat.b,pf7._tmpMatrix.c=this._curMat.c,pf7._tmpMatrix.d=this._curMat.d,pf7._tmpMatrix.tx=this._curMat.tx+C$99e,pf7._tmpMatrix.ty=this._curMat.ty+C$99i),this._triangleMesh.addData(C$99n,C$99r,C$99s,pf7._tmpMatrix,C$99o,this),this._curSubmit._numEle+=C$99h,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle),!0},C$99t.transform=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){C$99Z.save(this),C$99w.mul(C$99w.TEMP.setTo(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s),this._curMat,this._curMat),this._curMat._checkTransform()},C$99t.setTransformByMatrix=function(C$99t){C$99t.copyTo(this._curMat)},C$99t.transformByMatrix=function(C$99t){C$99Z.save(this),C$99w.mul(C$99t,this._curMat,this._curMat),this._curMat._checkTransform()},C$99t.rotate=function(C$99t){C$99Z.save(this),this._curMat.rotateEx(C$99t)},C$99t.scale=function(C$99t,C$99e){C$99Z.save(this),this._curMat.scaleEx(C$99t,C$99e)},C$99t.clipRect=function(C$99t,C$99e,C$99i,C$99n){var C$99r,C$99s,C$99a,C$99o,C$99h,C$99l;0!=this._curMat.b||0!=this._curMat.c?(this._renderKey=0,C$99h=C$99_t.create(4),this.addRenderObject(C$99h),C$99r=(C$99h=this._vb)._byteLength>>2,C$99gt.fillRectImgVb(C$99h,null,C$99t,C$99e,C$99i,C$99n,C$99B.DEF_UV,this._curMat,this._x,this._y,0,0)?(this._shader2D.glTexture=null,(C$99s=this._curSubmit=C$99at.createSubmit(this,this._ib,C$99h,(C$99h._byteLength-64)/32*3,C$99wt.create(2,0))).shaderValue.ALPHA=1,this._submits[this._submits._length++]=C$99s,this._curSubmit._numEle+=6):alert("clipRect calc stencil rect error"),C$99s=C$99_t.create(5),this.addRenderObject(C$99s),C$99h=C$99h.getFloat32Array(),C$99o=Math.min(Math.min(Math.min(C$99h[C$99r],C$99h[4+C$99r]),C$99h[8+C$99r]),C$99h[12+C$99r]),C$99a=Math.max(Math.max(Math.max(C$99h[C$99r],C$99h[4+C$99r]),C$99h[8+C$99r]),C$99h[12+C$99r]),C$99l=Math.min(Math.min(Math.min(C$99h[1+C$99r],C$99h[5+C$99r]),C$99h[9+C$99r]),C$99h[13+C$99r]),C$99h=Math.max(Math.max(Math.max(C$99h[1+C$99r],C$99h[5+C$99r]),C$99h[9+C$99r]),C$99h[13+C$99r]),C$99X.save(this,C$99s,C$99t,C$99e,C$99i,C$99n,C$99o,C$99l,C$99a-C$99o,C$99h-C$99l)):(C$99i*=this._curMat.a,C$99n*=this._curMat.d,C$99r=C$99T.TEMP,this._curMat.transformPoint(C$99r.setTo(C$99t,C$99e)),C$99i<0&&(C$99r.x=C$99r.x+C$99i,C$99i=-C$99i),C$99n<0&&(C$99r.y=C$99r.y+C$99n,C$99n=-C$99n),this._renderKey=0,C$99s=this._curSubmit=C$99ct.create(this),(this._submits[this._submits._length++]=C$99s).submitIndex=this._submits._length,C$99s.submitLength=9999999,C$99Y.save(this,C$99s),C$99o=(C$99a=this._clipRect).x,C$99h=C$99a.y,C$99l=C$99r.x+C$99i,C$99t=C$99r.y+C$99n,C$99o<C$99r.x&&(C$99a.x=C$99r.x),C$99h<C$99r.y&&(C$99a.y=C$99r.y),C$99a.width=Math.min(C$99l,C$99o+C$99a.width)-C$99a.x,C$99a.height=Math.min(C$99t,C$99h+C$99a.height)-C$99a.y,this._shader2D.glTexture=null,C$99s.clipRect.copyFrom(C$99a)),this._curSubmit=C$99at.RENDERBASE},C$99t.setIBVB=function(C$99t,C$99e,C$99i,C$99n,C$99c,C$99r,C$99s,C$99_,C$99a,C$99o,C$99h){if(void 0===C$99a&&(C$99a=0),void 0===C$99o&&(C$99o=0),void 0===C$99h&&(C$99h=0),null===C$99i&&(C$99i=C$99S.isFlash?((C$99l=C$99n)._selfIB||(C$99l._selfIB=C$99Kt.create(35044)),C$99l._selfIB.clear(),C$99l._selfIB):this._ib,C$99gt.expandIBQuadrangle(C$99i,C$99n._byteLength/(4*C$99n.vertexStride*4))),!C$99_||!C$99s)throw Error("setIBVB must input:shader shaderValues");var C$99l=C$99lt.create(this,C$99n,C$99i,C$99c,C$99s,C$99_,C$99a,C$99o,C$99h);(C$99r=C$99r||C$99w.EMPTY).translate(C$99t,C$99e),C$99w.mul(C$99r,this._curMat,C$99l._mat),C$99r.translate(-C$99t,-C$99e),this._submits[this._submits._length++]=C$99l,this._curSubmit=C$99at.RENDERBASE,this._renderKey=0},C$99t.addRenderObject=function(C$99t){this._submits[this._submits._length++]=C$99t},C$99t.fillTrangles=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=this._curSubmit,C$99a=this._vb,C$99o=this._shader2D,C$99h=C$99s.shaderValue,C$99l=C$99n.length>>4,C$99c=C$99t.bitmap;this._renderKey=0,C$99o.glTexture==C$99c&&C$99o.ALPHA===C$99h.ALPHA||((C$99s=this._curSubmit=C$99at.createSubmit(this,this._ib,C$99a,C$99a._byteLength/32*3,C$99wt.create(1,0))).shaderValue.textureHost=C$99t,this._submits[this._submits._length++]=C$99s),C$99gt.fillTranglesVB(C$99a,C$99e,C$99i,C$99n,C$99r||this._curMat,this._x,this._y),C$99s._numEle+=6*C$99l},C$99t.submitElement=function(C$99t,C$99e){var C$99i=this._submits;for(C$99e<0&&(C$99e=C$99i._length);C$99t<C$99e;)C$99t+=C$99i[C$99t].renderSubmit()},C$99t.finish=function(){C$99c.mainContext.finish()},C$99t.flush=function(){var C$99t=Math.max(this._vb._byteLength/64,this._maxNumEle/6)+8;if(C$99t>this._ib.bufferLength/12&&C$99gt.expandIBQuadrangle(this._ib,C$99t),!this._isMain&&C$99U.enabled&&C$99U._atlasRestore>this._atlasResourceChange){this._atlasResourceChange=C$99U._atlasRestore;for(var C$99e=this._submits,C$99i=0,C$99n=C$99e._length;C$99i<C$99n;C$99i++){var C$99r=C$99e[C$99i];10016===C$99r.getRenderType()&&C$99r.checkTexture()}}var C$99s;for(this.submitElement(0,this._submits._length),this._path&&this._path.reset(),C$99nt.instance&&C$99nt.getInstance().reset(),C$99i=0,C$99s=this.meshlist.length;C$99i<C$99s;C$99i++){var C$99a=this.meshlist[C$99i];C$99a.canReuse?C$99a.releaseMesh():C$99a.destroy()}return this.meshlist.length=0,this._curSubmit=C$99at.RENDERBASE,this._renderKey=0,this._triangleMesh=C$99Pt.getAMesh(),this.meshlist.push(this._triangleMesh),this._submits._length},C$99t.setPathId=function(C$99t){this.mId=C$99t,-1!=this.mId&&(this.mHaveKey=!1,(C$99t=C$99O.getInstance()).shapeDic[this.mId]&&(this.mHaveKey=!0),this.mHaveLineKey=!1,C$99t.shapeLineDic[this.mId]&&(this.mHaveLineKey=!0))},C$99t.movePath=function(C$99t,C$99e){var C$99i=C$99t,C$99n=C$99e;C$99t=this._curMat.a*C$99i+this._curMat.c*C$99n+this._curMat.tx,C$99e=this._curMat.b*C$99i+this._curMat.d*C$99n+this._curMat.ty,this.mX+=C$99t,this.mY+=C$99e},C$99t.beginPath=function(){var C$99t=this._getPath();C$99t.tempArray.length=0,C$99t.closePath=!1,this.mX=0,this.mY=0},C$99t.closePath=function(){this._path.closePath=!0},C$99t.fill=function(C$99t){void 0===C$99t&&(C$99t=!1);var C$99e=this._getPath();this.drawPoly(0,0,C$99e.tempArray,this.fillStyle._color.numColor,0,0,C$99t)},C$99t.stroke=function(){var C$99t=this._getPath();var C$99e;0<this.lineWidth&&(-1==this.mId?C$99t.drawLine(0,0,C$99t.tempArray,this.lineWidth,this.strokeStyle._color.numColor):this.mHaveLineKey?((C$99e=C$99O.getInstance().shapeLineDic[this.mId]).rebuild(C$99t.tempArray),C$99t.setGeomtry(C$99e)):C$99O.getInstance().addLine(this.mId,C$99t.drawLine(0,0,C$99t.tempArray,this.lineWidth,this.strokeStyle._color.numColor)),C$99t.update(),C$99e=[this.mX,this.mY],(C$99t=C$99at.createShape(this,C$99t.ib,C$99t.vb,C$99t.count,C$99t.offset,C$99wt.create(4,0))).shaderValue.ALPHA=this._shader2D.ALPHA,C$99t.shaderValue.u_pos=C$99e,C$99t.shaderValue.u_mmat2=C$99l.TEMPMAT4_ARRAY,this._submits[this._submits._length++]=C$99t,this._renderKey=-1)},C$99t.line=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=this._curSubmit,C$99o=this._vb;C$99gt.fillLineVb(C$99o,this._clipRect,C$99t,C$99e,C$99i,C$99n,C$99r,C$99s)&&(this._renderKey=0,C$99t=this._shader2D,C$99e=C$99a.shaderValue,C$99t.strokeStyle===C$99e.strokeStyle&&C$99t.ALPHA===C$99e.ALPHA||(C$99t.glTexture=null,(C$99a=this._curSubmit=C$99at.createSubmit(this,this._ib,C$99o,(C$99o._byteLength-64)/32*3,C$99wt.create(2,0))).shaderValue.strokeStyle=C$99t.strokeStyle,C$99a.shaderValue.mainID=2,C$99a.shaderValue.ALPHA=C$99t.ALPHA,this._submits[this._submits._length++]=C$99a),C$99a._numEle+=6)},C$99t.moveTo=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=!0);var C$99n=this._getPath();var C$99r;C$99i&&(C$99i=C$99t,C$99r=C$99e,C$99t=this._curMat.a*C$99i+this._curMat.c*C$99r,C$99e=this._curMat.b*C$99i+this._curMat.d*C$99r),C$99n.addPoint(C$99t,C$99e)},C$99t.lineTo=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=!0);var C$99n=this._getPath();var C$99r;C$99i&&(C$99i=C$99t,C$99r=C$99e,C$99t=this._curMat.a*C$99i+this._curMat.c*C$99r,C$99e=this._curMat.b*C$99i+this._curMat.d*C$99r),C$99n.addPoint(C$99t,C$99e)},C$99t.drawCurves=function(C$99t,C$99e,C$99i){this.setPathId(-1),this.beginPath(),this.strokeStyle=C$99i[3],this.lineWidth=C$99i[4];var C$99n=C$99i[2];C$99t+=C$99i[0],C$99e+=C$99i[1],this.movePath(C$99t,C$99e),this.moveTo(C$99n[0],C$99n[1]);for(var C$99r=2,C$99s=C$99n.length;C$99r<C$99s;)this.quadraticCurveTo(C$99n[C$99r++],C$99n[C$99r++],C$99n[C$99r++],C$99n[C$99r++]);this.stroke()},C$99t.arcTo=function(C$99t,C$99c,C$99e,C$99i,C$99_){if(-1==this.mId||!this.mHaveKey){var C$99u=0,C$99n=0,C$99r=0,C$99d=this._getPath();this._curMat.copyTo(pf7._tmpMatrix),pf7._tmpMatrix.tx=pf7._tmpMatrix.ty=0,pf7._tempPoint.setTo(C$99d.getEndPointX(),C$99d.getEndPointY()),pf7._tmpMatrix.invertTransformPoint(pf7._tempPoint);var C$99s=pf7._tempPoint.x-C$99t,C$99a=pf7._tempPoint.y-C$99c,C$99o=Math.sqrt(C$99s*C$99s+C$99a*C$99a);if(!(C$99o<=1e-6)){var C$99s=C$99s/C$99o,C$99a=C$99a/C$99o,C$99e=C$99e-C$99t,C$99i=C$99i-C$99c,C$99h=Math.sqrt(C$99e*C$99e+C$99i*C$99i);if(!(C$99h<=1e-6)){var C$99e=C$99e/C$99h,C$99i=C$99i/C$99h,C$99h=C$99s+C$99e,C$99f=C$99a+C$99i,C$99l=Math.sqrt(C$99h*C$99h+C$99f*C$99f);if(!(C$99l<=1e-6)){var C$99h=C$99h/C$99l,C$99f=C$99f/C$99l,C$99l=Math.acos(C$99h*C$99s+C$99f*C$99a),C$99l=Math.PI/2-C$99l,C$99p=(C$99o=C$99_/Math.tan(C$99l))*C$99s+C$99t,C$99m=C$99o*C$99a+C$99c,C$99o=Math.sqrt(C$99o*C$99o+C$99_*C$99_),C$99g=C$99t+C$99h*C$99o,C$99v=C$99c+C$99f*C$99o,C$99x=0,C$99y=0;C$99y=(C$99x=(C$99_=0<=C$99s*C$99i-C$99a*C$99e?2*C$99l/pf7.SEGNUM:2*-C$99l/pf7.SEGNUM,Math.sin(C$99_)),Math.cos(C$99_)),C$99n=this._curMat.a*C$99p+this._curMat.c*C$99m,C$99r=this._curMat.b*C$99p+this._curMat.d*C$99m,C$99n==this._path.getEndPointX()&&C$99r==this._path.getEndPointY()||C$99d.addPoint(C$99n,C$99r);var C$99b=C$99p-C$99g,C$99w=C$99m-C$99v;for(C$99u=0;C$99u<pf7.SEGNUM;C$99u++){var C$99T=C$99b*C$99y+C$99w*C$99x,C$99M=-C$99b*C$99x+C$99w*C$99y;C$99t=this._curMat.a*(C$99n=C$99T+C$99g)+this._curMat.c*(C$99r=C$99M+C$99v),C$99r=C$99c=this._curMat.b*C$99n+this._curMat.d*C$99r,(C$99n=C$99t)==this._path.getEndPointX()&&C$99r==this._path.getEndPointY()||C$99d.addPoint(C$99n,C$99r),C$99b=C$99T,C$99w=C$99M}}}}}},C$99t.arc=function(C$99t,C$99c,C$99e,C$99_,C$99u,C$99d,C$99i){if(void 0===C$99d&&(C$99d=!1),void 0===C$99i&&(C$99i=!0),-1!=this.mId){var C$99n=C$99O.getInstance().shapeDic[this.mId];if(C$99n&&this.mHaveKey&&!C$99n.needUpdate(this._curMat))return;C$99c=C$99t=0}var C$99f,C$99p,C$99r=0,C$99s=0,C$99a=0,C$99o=0;if(C$99r=C$99u-C$99_,C$99d)if(Math.abs(C$99r)>=2*Math.PI)C$99r=2*-Math.PI;else for(;0<C$99r;)C$99r-=2*Math.PI;else if(Math.abs(C$99r)>=2*Math.PI)C$99r=2*Math.PI;else for(;C$99r<0;)C$99r+=2*Math.PI;C$99n=C$99r/(C$99p=C$99e<101?Math.max(10,C$99r*C$99e/5):C$99e<201?Math.max(10,C$99r*C$99e/20):Math.max(10,C$99r*C$99e/40))/2,Math.abs(4/3*(1-Math.cos(C$99n))/Math.sin(C$99n));var C$99m=this._getPath(),C$99h=NaN,C$99l=NaN;for(C$99o=0;C$99o<=C$99p;C$99o++)C$99f=C$99_+C$99r*(C$99o/C$99p),C$99s=C$99t+Math.cos(C$99f)*C$99e,C$99a=C$99c+Math.sin(C$99f)*C$99e,C$99i&&(C$99h=C$99s,C$99l=C$99a,C$99s=this._curMat.a*C$99h+this._curMat.c*C$99l,C$99a=this._curMat.b*C$99h+this._curMat.d*C$99l),C$99s==this._path.getEndPointX()&&C$99a==this._path.getEndPointY()||C$99m.addPoint(C$99s,C$99a);C$99s=C$99t+Math.cos(C$99u)*C$99e,C$99a=C$99c+Math.sin(C$99u)*C$99e,C$99i&&(C$99h=C$99s,C$99l=C$99a,C$99s=this._curMat.a*C$99h+this._curMat.c*C$99l,C$99a=this._curMat.b*C$99h+this._curMat.d*C$99l),C$99s==this._path.getEndPointX()&&C$99a==this._path.getEndPointY()||C$99m.addPoint(C$99s,C$99a)},C$99t.quadraticCurveTo=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99_.I,C$99s=C$99i,C$99a=C$99n;C$99i=this._curMat.a*C$99s+this._curMat.c*C$99a,C$99n=this._curMat.b*C$99s+this._curMat.d*C$99a,C$99s=C$99t,C$99a=C$99e,C$99t=this._curMat.a*C$99s+this._curMat.c*C$99a,C$99e=this._curMat.b*C$99s+this._curMat.d*C$99a;for(var C$99o=C$99r.getBezierPoints([this._path.getEndPointX(),this._path.getEndPointY(),C$99t,C$99e,C$99i,C$99n],30,2),C$99h=0,C$99l=C$99o.length/2;C$99h<C$99l;C$99h++)this.lineTo(C$99o[2*C$99h],C$99o[2*C$99h+1],!1);this.lineTo(C$99i,C$99n,!1)},C$99t.rect=function(C$99t,C$99e,C$99i,C$99n){this._other=this._other.make(),this._other.path||(this._other.path=new C$99W),this._other.path.rect(C$99t,C$99e,C$99i,C$99n)},C$99t.strokeRect=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=.5*C$99r;this.line(C$99t-C$99s,C$99e,C$99t+C$99i+C$99s,C$99e,C$99r,this._curMat),this.line(C$99t+C$99i,C$99e,C$99t+C$99i,C$99e+C$99n,C$99r,this._curMat),this.line(C$99t,C$99e,C$99t,C$99e+C$99n,C$99r,this._curMat),this.line(C$99t-C$99s,C$99e+C$99n,C$99t+C$99i+C$99s,C$99e+C$99n,C$99r,this._curMat)},C$99t.clip=function(){},C$99t.drawPoly=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){void 0===C$99a&&(C$99a=!1),this._renderKey=0,this._shader2D.glTexture=null;C$99a=this._getPath();-1==this.mId?C$99a.polygon(C$99t,C$99e,C$99i,C$99n,C$99r||1,C$99s):this.mHaveKey?((C$99o=C$99O.getInstance().shapeDic[this.mId]).setMatrix(this._curMat),C$99o.rebuild(C$99a.tempArray),C$99a.setGeomtry(C$99o)):(C$99o=C$99a.polygon(C$99t,C$99e,C$99i,C$99n,C$99r||1,C$99s),C$99O.getInstance().addShape(this.mId,C$99o),C$99o.setMatrix(this._curMat)),C$99a.update();var C$99o,C$99n=[this.mX,this.mY];(C$99o=C$99at.createShape(this,C$99a.ib,C$99a.vb,C$99a.count,C$99a.offset,C$99wt.create(4,0))).shaderValue.ALPHA=this._shader2D.ALPHA,C$99o.shaderValue.u_pos=C$99n,C$99o.shaderValue.u_mmat2=C$99l.EMPTYMAT4_ARRAY,this._submits[this._submits._length++]=C$99o,0<C$99r&&(this.mHaveLineKey?((C$99n=C$99O.getInstance().shapeLineDic[this.mId]).rebuild(C$99a.tempArray),C$99a.setGeomtry(C$99n)):C$99O.getInstance().addShape(this.mId,C$99a.drawLine(C$99t,C$99e,C$99i,C$99r,C$99s)),C$99a.update(),(C$99o=C$99at.createShape(this,C$99a.ib,C$99a.vb,C$99a.count,C$99a.offset,C$99wt.create(4,0))).shaderValue.ALPHA=this._shader2D.ALPHA,C$99o.shaderValue.u_mmat2=C$99l.EMPTYMAT4_ARRAY,this._submits[this._submits._length++]=C$99o)},C$99t.drawParticle=function(C$99t,C$99e,C$99i){C$99i.x=C$99t,C$99i.y=C$99e,this._submits[this._submits._length++]=C$99i},C$99t._getPath=function(){return this._path||(this._path=new C$99W)},C$99s(0,C$99t,"globalCompositeOperation",function(){return C$99q.NAMES[this._nBlendType]},function(C$99t){C$99t=C$99q.TOINT[C$99t];null==C$99t||this._nBlendType===C$99t||(C$99G.save(this,65536,this,!0),this._curSubmit=C$99at.RENDERBASE,this._renderKey=0,this._nBlendType=C$99t)}),C$99s(0,C$99t,"strokeStyle",function(){return this._shader2D.strokeStyle},function(C$99t){this._shader2D.strokeStyle.equal(C$99t)||(C$99G.save(this,512,this._shader2D,!1),this._shader2D.strokeStyle=C$99H.create(C$99t))}),C$99s(0,C$99t,"globalAlpha",function(){return this._shader2D.ALPHA},function(C$99t){(C$99t=Math.floor(1e3*C$99t)/1e3)!=this._shader2D.ALPHA&&(C$99G.save(this,1,this._shader2D,!0),this._shader2D.ALPHA=C$99t)}),C$99s(0,C$99t,"asBitmap",null,function(C$99t){if(C$99t){if(this._targets||(this._targets=new C$99J),this._targets.repaint=!0,!this._width||!this._height)throw Error("asBitmap no size!");this._targets.setSP(this.sprite),this._targets.size(this._width,this._height)}else this._targets=null}),C$99s(0,C$99t,"fillStyle",function(){return this._shader2D.fillStyle},function(C$99t){this._shader2D.fillStyle.equal(C$99t)||(C$99G.save(this,2,this._shader2D,!1),this._shader2D.fillStyle=C$99H.create(C$99t))}),C$99s(0,C$99t,"textAlign",function(){return this._other.textAlign},function(C$99t){this._other.textAlign===C$99t||(this._other=this._other.make(),C$99G.save(this,32768,this._other,!1),this._other.textAlign=C$99t)}),C$99s(0,C$99t,"lineWidth",function(){return this._other.lineWidth},function(C$99t){this._other.lineWidth===C$99t||(this._other=this._other.make(),C$99G.save(this,256,this._other,!1),this._other.lineWidth=C$99t)}),C$99s(0,C$99t,"textBaseline",function(){return this._other.textBaseline},function(C$99t){this._other.textBaseline===C$99t||(this._other=this._other.make(),C$99G.save(this,16384,this._other,!1),this._other.textBaseline=C$99t)}),C$99s(0,C$99t,"font",null,function(C$99t){C$99t!=this._other.font.toString()&&(this._other=this._other.make(),C$99G.save(this,8,this._other,!1),this._other.font===C$99pt.EMPTY?this._other.font=new C$99pt(C$99t):this._other.font.setFont(C$99t))}),pf7.__init__=function(){C$99se.DEFAULT=new C$99se},pf7._tempPoint=new C$99T,pf7._SUBMITVBSIZE=32e3,pf7._MAXSIZE=99999999,pf7._RECTVBSIZE=16,pf7.MAXCLIPRECT=new C$99M(0,0,99999999,99999999),pf7._COUNT=0,pf7._tmpMatrix=new C$99w,pf7.SEGNUM=32,pf7._contextcount=0,C$99r(pf7,["_fontTemp",function(){return this._fontTemp=new C$99pt},"_drawStyleTemp",function(){return this._drawStyleTemp=new C$99H(null)}]),pf7.__init$=function(){function o0xqe7(){this.lineWidth=1,this.path=null,this.textAlign=null,this.textBaseline=null,this.font=C$99pt.EMPTY}var C$99t;C$99e(o0xqe7,""),(C$99t=o0xqe7.prototype).clear=function(){this.lineWidth=1,this.path&&this.path.clear(),this.textAlign=this.textBaseline=null,this.font=C$99pt.EMPTY},C$99t.make=function(){return this===o0xqe7.DEFAULT?new o0xqe7:this},o0xqe7.DEFAULT=null,C$99se=o0xqe7},pf7),C$99wt=(C$99e(asku,"laya.webgl.shader.d2.value.Value2D",C$99V),(C$99he=asku.prototype).setValue=function(C$99t){},C$99he.refresh=function(){var C$99t=this.size;return C$99t[0]=C$99l.width,C$99t[1]=C$99l.height,this.alpha=this.ALPHA*C$99l.worldAlpha,this.mmat=C$99l.worldMatrix4,this},C$99he._ShaderWithCompile=function(){return C$99Wt.withCompile2D(0,this.mainID,this.defines.toNameDic(),this.mainID|this.defines._value,C$99Xt.create)},C$99he._withWorldShaderDefines=function(){var C$99t=C$99l.worldShaderDefines,C$99e=C$99Wt.sharders[this.mainID|this.defines._value|C$99t.getValue()];if(!C$99e){var C$99i,C$99n={};for(C$99i in this.defines.toNameDic())C$99n[C$99i]="";for(C$99i in C$99t.toNameDic())C$99n[C$99i]="";C$99e=C$99Wt.withCompile2D(0,this.mainID,C$99n,this.mainID|this.defines._value|C$99t.getValue(),C$99Xt.create)}var C$99r=C$99l.worldFilters;if(!C$99r)return C$99e;for(var C$99s,C$99a=C$99r.length,C$99o=0;C$99o<C$99a;C$99o++)(C$99s=C$99r[C$99o])&&C$99s.action.setValue(this);return C$99e},C$99he.upload=function(){var C$99t=C$99l;this.alpha=this.ALPHA*C$99t.worldAlpha,C$99l.worldMatrix4!==C$99l.TEMPMAT4_ARRAY&&this.defines.add(128),this.textureHost&&this.textureHost.alphaTexture?this.defines.add(2048):this.defines.remove(2048),this.textureHost&&this.textureHost.bitmap&&(37815==this.textureHost.bitmap.format||37812==this.textureHost.bitmap.format||37821==this.textureHost.bitmap.format)?this.defines.add(4096):this.defines.remove(4096),C$99c.shaderHighPrecision&&this.defines.add(1024);var C$99e,C$99i=C$99t.worldShaderDefines?this._withWorldShaderDefines():C$99Wt.sharders[this.mainID|this.defines._value]||this._ShaderWithCompile();this.size[0]=C$99t.width,this.size[1]=C$99t.height,this.mmat=C$99t.worldMatrix4,C$99Lt.activeShader!==C$99i?C$99i._shaderValueWidth!==C$99t.width||C$99i._shaderValueHeight!==C$99t.height?(C$99i._shaderValueWidth=C$99t.width,C$99i._shaderValueHeight=C$99t.height):C$99e=C$99i._params2dQuick2||C$99i._make2dQuick2():C$99i._shaderValueWidth!==C$99t.width||C$99i._shaderValueHeight!==C$99t.height?(C$99i._shaderValueWidth=C$99t.width,C$99i._shaderValueHeight=C$99t.height):C$99e=C$99i._params2dQuick1||C$99i._make2dQuick1(),C$99i.upload(this,C$99e)},C$99he.setFilters=function(C$99t){if(this.filters=C$99t)for(var C$99e,C$99i=C$99t.length,C$99n=0;C$99n<C$99i;C$99n++)(C$99e=C$99t[C$99n])&&(this.defines.add(C$99e.type),C$99e.action.setValue(this))},C$99he.clear=function(){this.defines.setValue(this.subID)},C$99he.release=function(){(this._inClassCache[this._inClassCache._length++]=this).fillStyle=null,this.strokeStyle=null,this.textureHost=null,this.mmat=null,this.clear()},asku._initone=function(C$99t,C$99e){asku._typeClass[C$99t]=C$99e,asku._cache[C$99t]=[],asku._cache[C$99t]._length=0},asku.__init__=function(){asku._POSITION=[2,5126,!1,4*C$99mt.BYTES_PE,0],asku._TEXCOORD=[2,5126,!1,4*C$99mt.BYTES_PE,2*C$99mt.BYTES_PE],asku._initone(2,C$99Nt),asku._initone(4,C$99Vt),asku._initone(256,C$99Ot),asku._initone(512,C$99Bt),asku._initone(1,C$99Ft),asku._initone(65,C$99Yt),asku._initone(9,C$99Ft)},asku.create=function(C$99t,C$99e){var C$99i=asku._cache[C$99t|C$99e];return C$99i._length?C$99i[--C$99i._length]:new asku._typeClass[C$99t|C$99e](C$99e)},asku._POSITION=null,asku._TEXCOORD=null,asku._cache=[],asku._typeClass=[],asku.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],asku),C$99Tt=(C$99e(xe7qo,"laya.webgl.utils.RenderSprite3D",C$99C),(C$99t=xe7qo.prototype).onCreate=function(C$99t){switch(C$99t){case 8:return void(this._fun=this._blend);case 4:return void(this._fun=this._transform)}},C$99t._mask=function(C$99t,C$99e,C$99i,C$99n){var C$99r,C$99c=this._next,C$99s=C$99t.mask;var C$99_,C$99a,C$99o,C$99h,C$99u,C$99l,C$99d,C$99f;C$99s?(C$99e.ctx.save(),C$99_=C$99e.ctx.globalCompositeOperation,(C$99a=new C$99M).copyFrom(C$99s.getBounds()),C$99a.width=Math.round(C$99a.width),C$99a.height=Math.round(C$99a.height),C$99a.x=Math.round(C$99a.x),C$99a.y=Math.round(C$99a.y),0<C$99a.width&&0<C$99a.height&&(C$99o=C$99t._style._tf,(C$99h=C$99ht.create()).addValue("bounds",C$99a),C$99r=C$99ot.create([C$99h,C$99e],laya.webgl.utils.RenderSprite3D.tmpTarget),C$99e.addRenderObject(C$99r),C$99s.render(C$99e,-C$99a.x,-C$99a.y),C$99r=C$99ot.create([C$99h],laya.webgl.utils.RenderSprite3D.endTmpTarget),C$99e.addRenderObject(C$99r),C$99e.ctx.save(),C$99e.clipRect(C$99i-C$99o.translateX+C$99a.x,C$99n-C$99o.translateY+C$99a.y,C$99a.width,C$99a.height),C$99c._fun.call(C$99c,C$99t,C$99e,C$99i,C$99n),C$99e.ctx.restore(),C$99s=C$99_t.create(6),C$99_=C$99e.ctx.globalCompositeOperation,C$99s.blendMode="mask",C$99e.addRenderObject(C$99s),C$99w.TEMP.identity(),C$99u=C$99wt.create(1,0),C$99l=C$99B.INV_UV,C$99d=C$99a.width,C$99f=C$99a.height,(C$99a.width<32||C$99a.height<32)&&((C$99l=xe7qo.tempUV)[0]=0,C$99l[1]=0,C$99l[2]=32<=C$99a.width?1:C$99a.width/32,C$99l[3]=0,C$99l[4]=32<=C$99a.width?1:C$99a.width/32,C$99l[5]=32<=C$99a.height?1:C$99a.height/32,C$99l[6]=0,C$99l[7]=32<=C$99a.height?1:C$99a.height/32,C$99a.width=32<=C$99a.width?C$99a.width:32,C$99a.height=32<=C$99a.height?C$99a.height:32,C$99l[1]*=-1,C$99l[3]*=-1,C$99l[5]*=-1,C$99l[7]*=-1,C$99l[1]+=1,C$99l[3]+=1,C$99l[5]+=1,C$99l[7]+=1),C$99e.ctx.drawTarget(C$99h,C$99i+C$99a.x-C$99o.translateX,C$99n+C$99a.y-C$99o.translateY,C$99d,C$99f,C$99w.TEMP,"tmpTarget",C$99u,C$99l,6),C$99r=C$99ot.create([C$99h],laya.webgl.utils.RenderSprite3D.recycleTarget),C$99e.addRenderObject(C$99r),(C$99s=C$99_t.create(6)).blendMode=C$99_,C$99e.addRenderObject(C$99s)),C$99e.ctx.restore()):C$99c._fun.call(C$99c,C$99t,C$99e,C$99i,C$99n)},C$99t._blend=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._style,C$99s=this._next;C$99r.blendMode?(C$99e.ctx.save(),C$99e.ctx.globalCompositeOperation=C$99r.blendMode,C$99s._fun.call(C$99s,C$99t,C$99e,C$99i,C$99n),C$99e.ctx.restore()):C$99s._fun.call(C$99s,C$99t,C$99e,C$99i,C$99n)},C$99t._transform=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.transform,C$99s=this._next;var C$99a,C$99o;C$99r&&C$99s!=C$99C.NORENDER?(C$99a=C$99e.ctx,C$99t._style,C$99r.tx=C$99i,C$99r.ty=C$99n,C$99o=(C$99a=C$99a._getTransformMatrix()).clone(),C$99w.mul(C$99r,C$99a,C$99a),C$99a._checkTransform(),C$99r.tx=C$99r.ty=0,C$99s._fun.call(C$99s,C$99t,C$99e,0,0),C$99o.copyTo(C$99a),C$99o.destroy()):C$99s._fun.call(C$99s,C$99t,C$99e,C$99i,C$99n)},xe7qo.tmpTarget=function(C$99t,C$99e){var C$99i=C$99t.getValue("bounds"),C$99i=C$99zt.create(C$99i.width,C$99i.height);C$99i.start(),C$99i.clear(0,0,0,0),C$99t.addValue("tmpTarget",C$99i)},xe7qo.endTmpTarget=function(C$99t){C$99t.getValue("tmpTarget").end()},xe7qo.recycleTarget=function(C$99t){C$99t.getValue("tmpTarget").recycle(),C$99t.recycle()},C$99r(xe7qo,["tempUV",function(){return this.tempUV=[]}]),xe7qo),C$99Mt=(C$99e($vdci,"laya.filters.webgl.ColorFilterActionGL",C$99F),C$99V=$vdci.prototype,C$99g.imps(C$99V,{"laya.filters.IFilterActionGL":!0}),C$99V.setValue=function(C$99t){C$99t.colorMat=this.data._mat,C$99t.colorAlpha=this.data._alpha},C$99V.apply3d=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99t.getValue("bounds"),C$99a=C$99wt.create(1,0);C$99a.setFilters([this.data]);var C$99o=C$99w.TEMP;C$99o.identity(),C$99i.ctx.drawTarget(C$99t,0,0,C$99s.width,C$99s.height,C$99o,"src",C$99a)},$vdci),C$99St=(C$99e(ctl2i4,"laya.webgl.atlas.Atlaser",C$99$),(C$99he=ctl2i4.prototype).computeUVinAtlasTexture=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99U.atlasTextureWidth,C$99s=C$99U.atlasTextureHeight,C$99a=C$99i/C$99r,C$99o=C$99n/C$99s,C$99i=(C$99i+C$99t.bitmap.width)/C$99r,C$99n=(C$99n+C$99t.bitmap.height)/C$99s,C$99r=C$99t.bitmap.width/C$99r,C$99s=C$99t.bitmap.height/C$99s;C$99t.uv=[C$99a+C$99e[0]*C$99r,C$99o+C$99e[1]*C$99s,C$99i-(1-C$99e[2])*C$99r,C$99o+C$99e[3]*C$99s,C$99i-(1-C$99e[4])*C$99r,C$99n-(1-C$99e[5])*C$99s,C$99a+C$99e[6]*C$99r,C$99n-(1-C$99e[7])*C$99s]},C$99he.findBitmapIsExist=function(C$99t){if(C$99t instanceof laya.webgl.resource.WebGLImage){var C$99e=C$99t.url,C$99e=this._InAtlasWebGLImagesKey[C$99e||C$99t.id];if(C$99e)return C$99e.offsetInfoID}return-1},C$99he.addToAtlasTexture=function(C$99t,C$99e,C$99i){var C$99n;C$99t instanceof laya.webgl.resource.WebGLImage&&(C$99n=C$99t.url,this._InAtlasWebGLImagesKey[C$99n||C$99t.id]={bitmap:C$99t,offsetInfoID:this._InAtlasWebGLImagesOffsetValue.length},this._InAtlasWebGLImagesOffsetValue.push([C$99e,C$99i])),this._atlasCanvas.texSubImage2D(C$99e,C$99i,C$99t.atlasSource),C$99t.clearAtlasSource()},C$99he.addToAtlas=function(C$99t,C$99e,C$99i){C$99t._atlasID=this._inAtlasTextureKey.length;var C$99n=C$99t.uv.slice(),C$99r=C$99t.bitmap;this._inAtlasTextureKey.push(C$99t),this._inAtlasTextureOriUVValue.push(C$99n),this._inAtlasTextureBitmapValue.push(C$99r),this.computeUVinAtlasTexture(C$99t,C$99n,C$99e,C$99i),C$99t.bitmap=this._atlasCanvas},C$99he.clear=function(){for(var C$99t=0,C$99e=this._inAtlasTextureKey.length;C$99t<C$99e;C$99t++)this._inAtlasTextureKey[C$99t].bitmap=this._inAtlasTextureBitmapValue[C$99t],this._inAtlasTextureKey[C$99t].uv=this._inAtlasTextureOriUVValue[C$99t],this._inAtlasTextureKey[C$99t]._atlasID=-1,this._inAtlasTextureKey[C$99t].bitmap.lock=!1,this._inAtlasTextureKey[C$99t].bitmap.releaseResource();this._inAtlasTextureKey.length=0,this._inAtlasTextureBitmapValue.length=0,this._inAtlasTextureOriUVValue.length=0,this._InAtlasWebGLImagesKey=null,this._InAtlasWebGLImagesOffsetValue.length=0},C$99he.dispose=function(){this.clear(),this._atlasCanvas.destroy()},C$99s(0,C$99he,"InAtlasWebGLImagesOffsetValue",function(){return this._InAtlasWebGLImagesOffsetValue}),C$99s(0,C$99he,"texture",function(){return this._atlasCanvas}),C$99s(0,C$99he,"inAtlasWebGLImagesKey",function(){return this._InAtlasWebGLImagesKey}),ctl2i4),C$99Ct=(C$99e($9dicv,"laya.webgl.shader.d2.ShaderDefines2D",C$99et),$9dicv.__init__=function(){$9dicv.reg("TEXTURE2D",1),$9dicv.reg("COLOR2D",2),$9dicv.reg("PRIMITIVE",4),$9dicv.reg("GLOW_FILTER",8),$9dicv.reg("BLUR_FILTER",16),$9dicv.reg("COLOR_FILTER",32),$9dicv.reg("COLOR_ADD",64),$9dicv.reg("WORLDMAT",128),$9dicv.reg("FILLTEXTURE",256),$9dicv.reg("FSHIGHPRECISION",1024),$9dicv.reg("TXTALPHA",2048),$9dicv.reg("TXTCOMPRESS",4096)},$9dicv.reg=function(C$99t,C$99e){C$99et._reg(C$99t,C$99e,$9dicv.__name2int,$9dicv.__int2name)},$9dicv.toText=function(C$99t,C$99e,C$99i){return C$99et._toText(C$99t,C$99e,C$99i)},$9dicv.toInt=function(C$99t){return C$99et._toInt(C$99t,$9dicv.__name2int)},$9dicv.TEXTURE2D=1,$9dicv.COLOR2D=2,$9dicv.PRIMITIVE=4,$9dicv.FILTERGLOW=8,$9dicv.FILTERBLUR=16,$9dicv.FILTERCOLOR=32,$9dicv.COLORADD=64,$9dicv.WORLDMAT=128,$9dicv.FILLTEXTURE=256,$9dicv.SKINMESH=512,$9dicv.SHADERDEFINE_FSHIGHPRECISION=1024,$9dicv.TXTALPHA=2048,$9dicv.TXTCOMPRESS=4096,$9dicv.__name2int={},$9dicv.__int2name=[],$9dicv.__int2nameMap=[],$9dicv),C$99Dt=(C$99e(fe7zp,"laya.webgl.shapes.Ellipse",C$99i),C$99e(bskjar,"laya.webgl.shapes.Line",C$99i),(C$99t=bskjar.prototype).rebuild=function(C$99t){var C$99e=C$99t.length;C$99e!=this._points.length&&(this.mUint16Array=new Uint16Array(6*(C$99e/2-1)),this.mFloat32Array=new Float32Array(5*C$99e)),this._points.length=0;for(var C$99i,C$99n,C$99r=-1,C$99s=-1,C$99a=C$99t.length/2,C$99o=0;C$99o<C$99a;C$99o++)C$99i=C$99t[2*C$99o],C$99n=C$99t[2*C$99o+1],(.01<Math.abs(C$99r-C$99i)||.01<Math.abs(C$99s-C$99n))&&this._points.push(C$99i,C$99n),C$99r=C$99i,C$99s=C$99n},C$99t.getData=function(C$99t,C$99e,C$99i){var C$99n=[],C$99r=[];0<this.borderWidth&&this.createLine2(this._points,C$99n,this.borderWidth,C$99i,C$99r,this._points.length/2),this.mUint16Array.set(C$99n,0),this.mFloat32Array.set(C$99r,0),C$99t.append(this.mUint16Array),C$99e.append(this.mFloat32Array)},bskjar),C$99Et=(C$99e(my5w_h,"laya.webgl.shapes.LoopLine",C$99i),(C$99F=my5w_h.prototype).getData=function(C$99t,C$99e,C$99i){if(0<this.borderWidth){for(var C$99n,C$99r,C$99s=this.color,C$99a=(C$99s>>16&255)/255,C$99o=(C$99s>>8&255)/255,C$99c=(255&C$99s)/255,C$99h=[],C$99s=[],C$99_=Math.floor(this._points.length/2),C$99l=0;C$99l<C$99_;C$99l++)C$99n=this._points[2*C$99l],C$99r=this._points[2*C$99l+1],C$99h.push(this.x+C$99n,this.y+C$99r,C$99a,C$99o,C$99c);this.createLoopLine(C$99h,C$99s,this.borderWidth,C$99i+C$99h.length/5),C$99t.append(new Uint16Array(C$99s)),C$99e.append(new Float32Array(C$99h))}},C$99F.createLoopLine=function(C$99c,C$99_,C$99u,C$99d,C$99t,C$99f){C$99c.length;var C$99e=C$99c.concat(),C$99p=C$99t||C$99c,C$99t=this.borderColor,C$99m=(C$99t>>16&255)/255,C$99g=(C$99t>>8&255)/255,C$99v=(255&C$99t)/255,C$99c=[C$99e[0],C$99e[1]],C$99t=[C$99e[C$99e.length-5],C$99e[C$99e.length-4]],C$99x=C$99t[0]+.5*(C$99c[0]-C$99t[0]),C$99c=C$99t[1]+.5*(C$99c[1]-C$99t[1]);C$99e.unshift(C$99x,C$99c,0,0,0),C$99e.push(C$99x,C$99c,0,0,0);var C$99y,C$99b,C$99i,C$99n,C$99r,C$99s,C$99w,C$99T,C$99M,C$99S,C$99a,C$99C,C$99o,C$99D,C$99E=C$99e.length/5,C$99h=C$99d,C$99A=C$99u/2;C$99y=C$99e[0],C$99b=C$99e[1],C$99s=C$99y-C$99e[5],C$99r=(C$99r=-(C$99b-C$99e[6]))/(C$99D=Math.sqrt(C$99r*C$99r+C$99s*C$99s))*C$99A,C$99p.push(C$99y-C$99r,C$99b-(C$99s=C$99s/C$99D*C$99A),C$99m,C$99g,C$99v,C$99y+C$99r,C$99b+C$99s,C$99m,C$99g,C$99v);for(var C$99l=1;C$99l<C$99E-1;C$99l++)C$99y=C$99e[5*(C$99l-1)],C$99b=C$99e[5*(C$99l-1)+1],C$99i=C$99e[5*C$99l],C$99n=C$99e[5*C$99l+1],C$99S=C$99e[5*(C$99l+1)],C$99T=C$99e[5*(C$99l+1)+1],C$99s=C$99y-C$99i,C$99o=C$99i-C$99S,C$99M=(-(C$99r=(C$99r=-(C$99b-C$99n))/(C$99D=Math.sqrt(C$99r*C$99r+C$99s*C$99s))*C$99A)+C$99y)*(-(C$99s=C$99s/C$99D*C$99A)+C$99n)-(-C$99r+C$99i)*(-C$99s+C$99b),C$99C=(-(C$99a=(C$99a=-(C$99n-C$99T))/(C$99D=Math.sqrt(C$99a*C$99a+C$99o*C$99o))*C$99A)+C$99S)*(-(C$99o=C$99o/C$99D*C$99A)+C$99n)-(-C$99a+C$99i)*(-C$99o+C$99T),C$99o=(C$99w=-C$99s+C$99b-(-C$99s+C$99n))*(C$99a=-C$99a+C$99i-(-C$99a+C$99S))-(C$99S=-C$99o+C$99T-(-C$99o+C$99n))*(C$99T=-C$99r+C$99i-(-C$99r+C$99y)),Math.abs(C$99o)<.1?(C$99o+=10.1,C$99p.push(C$99i-C$99r,C$99n-C$99s,C$99m,C$99g,C$99v,C$99i+C$99r,C$99n+C$99s,C$99m,C$99g,C$99v)):C$99p.push(C$99T=(C$99T*C$99C-C$99a*C$99M)/C$99o,C$99a=(C$99S*C$99M-C$99w*C$99C)/C$99o,C$99m,C$99g,C$99v,C$99i-(C$99T-C$99i),C$99n-(C$99a-C$99n),C$99m,C$99g,C$99v);C$99f&&(C$99_=C$99f);var C$99I=this.edges+1;for(C$99l=1;C$99l<C$99I;C$99l++)C$99_.push(C$99h+2*(C$99l-1),C$99h+2*(C$99l-1)+1,C$99h+2*C$99l+1,C$99h+2*C$99l+1,C$99h+2*C$99l,C$99h+2*(C$99l-1));return C$99_.push(C$99h+2*(C$99l-1),C$99h+2*(C$99l-1)+1,C$99h+1,C$99h+1,C$99h,C$99h+2*(C$99l-1)),C$99p},my5w_h),C$99At=(C$99e(ubskja,"laya.webgl.shapes.Polygon",C$99i),(C$99V=ubskja.prototype).rebuild=function(C$99t){this._repaint||(this._points.length=0,this._points=this._points.concat(C$99t))},C$99V.setMatrix=function(C$99t){C$99t.copyTo(this._mat)},C$99V.needUpdate=function(C$99t){return this._repaint=this._mat.a==C$99t.a&&this._mat.b==C$99t.b&&this._mat.c==C$99t.c&&this._mat.d==C$99t.d&&this._mat.tx==C$99t.tx&&this._mat.ty==C$99t.ty,!this._repaint},C$99V.getData=function(C$99t,C$99e,C$99i){var C$99n,C$99r=0,C$99s=this._points,C$99a=0;if(this.mUint16Array&&this.mFloat32Array&&this._repaint){if(this._start!=C$99i){for(this._start=C$99i,C$99n=[],C$99a=this.earcutTriangles.length,C$99r=0;C$99r<C$99a;C$99r++)C$99n.push(this.earcutTriangles[C$99r]+C$99i);this.mUint16Array=new Uint16Array(C$99n)}}else{this._start=C$99i,C$99n=[];var C$99o=[],C$99h=[],C$99l=this.color,C$99c=(C$99l>>16&255)/255,C$99_=(C$99l>>8&255)/255,C$99u=(255&C$99l)/255;for(C$99a=Math.floor(C$99s.length/2),C$99r=0;C$99r<C$99a;C$99r++)C$99o.push(this.x+C$99s[2*C$99r],this.y+C$99s[2*C$99r+1],C$99c,C$99_,C$99u),C$99h.push(this.x+C$99s[2*C$99r],this.y+C$99s[2*C$99r+1]);for(this.earcutTriangles=C$99rt.earcut(C$99h,null,2),C$99a=this.earcutTriangles.length,C$99r=0;C$99r<C$99a;C$99r++)C$99n.push(this.earcutTriangles[C$99r]+C$99i);this.mUint16Array=new Uint16Array(C$99n),this.mFloat32Array=new Float32Array(C$99o)}C$99t.append(this.mUint16Array),C$99e.append(this.mFloat32Array)},ubskja),C$99It=(C$99e(yq0_x,"laya.webgl.submit.SubmitCanvas",C$99at),(C$99he=yq0_x.prototype).renderSubmit=function(){if(this._ctx_src._targets)return this._ctx_src._targets.flush(this._ctx_src),1;var C$99t=C$99l.worldAlpha,C$99e=C$99l.worldMatrix4,C$99i=C$99l.worldMatrix,C$99n=C$99l.worldFilters,C$99r=C$99l.worldShaderDefines,C$99s=this.shaderValue,C$99a=this._matrix,C$99o=this._matrix4,C$99h=C$99w.TEMP;return C$99w.mul(C$99a,C$99i,C$99h),C$99o[0]=C$99h.a,C$99o[1]=C$99h.b,C$99o[4]=C$99h.c,C$99o[5]=C$99h.d,C$99o[12]=C$99h.tx,C$99o[13]=C$99h.ty,C$99l.worldMatrix=C$99h.clone(),C$99l.worldMatrix4=C$99o,C$99l.worldAlpha=C$99l.worldAlpha*C$99s.alpha,C$99s.filters&&C$99s.filters.length&&(C$99l.worldFilters=C$99s.filters,C$99l.worldShaderDefines=C$99s.defines),this._ctx_src.flush(),C$99l.worldAlpha=C$99t,C$99l.worldMatrix4=C$99e,C$99l.worldMatrix.destroy(),C$99l.worldMatrix=C$99i,C$99l.worldFilters=C$99n,C$99l.worldShaderDefines=C$99r,1},C$99he.releaseRender=function(){var C$99t=yq0_x._cache;this._ctx_src=null,C$99t[C$99t._length++]=this},C$99he.getRenderType=function(){return 10003},yq0_x.create=function(C$99t,C$99e,C$99i){var C$99n=yq0_x._cache._length?yq0_x._cache[--yq0_x._cache._length]:new yq0_x;C$99n._ctx_src=C$99t;C$99t=C$99n.shaderValue;return C$99t.alpha=C$99e,C$99t.defines.setValue(0),C$99i&&C$99i.length&&C$99t.setFilters(C$99i),C$99n},yq0_x._cache=((yq0_x._cache=[])._length=0,yq0_x._cache),yq0_x),C$99Rt=(C$99e(fdpz7$,"laya.webgl.submit.SubmitTexture",C$99at),(C$99t=fdpz7$.prototype).releaseRender=function(){var C$99t=fdpz7$._cache;(C$99t[C$99t._length++]=this).shaderValue.release(),this.shaderValue=null,this._preIsSameTextureShader=!1,this._blendFn=null,this._vb=null,this._ib=null,this._texs.length=0,this._vbPos.length=0,this._texsID.length=0,this._isSameTexture=!0},C$99t.addTexture=function(C$99t,C$99e){this._texsID[this._texs.length]=C$99t._uvID,this._texs.push(C$99t),this._vbPos.push(C$99e)},C$99t.checkTexture=function(){if(this._texs.length<1)this._isSameTexture=!0;else{var C$99t=this.shaderValue.textureHost.bitmap;if(null!==C$99t)for(var C$99e=this._vb.getFloat32Array(),C$99i=0,C$99n=this._texs.length;C$99i<C$99n;C$99i++){var C$99r=this._texs[C$99i];C$99r.active();var C$99s=C$99r.uv;var C$99a;this._texsID[C$99i]!==C$99r._uvID&&(this._texsID[C$99i]=C$99r._uvID,C$99e[(C$99a=this._vbPos[C$99i])+2]=C$99s[0],C$99e[C$99a+3]=C$99s[1],C$99e[C$99a+6]=C$99s[2],C$99e[C$99a+7]=C$99s[3],C$99e[C$99a+10]=C$99s[4],C$99e[C$99a+11]=C$99s[5],C$99e[C$99a+14]=C$99s[6],C$99e[C$99a+15]=C$99s[7],this._vb.setNeedUpload()),C$99r.bitmap!==C$99t&&(this._isSameTexture=!1)}}},C$99t.renderSubmit=function(){if(0===this._numEle)return fdpz7$._shaderSet=!1,1;var C$99t=this.shaderValue.textureHost;if(C$99t){var C$99e=C$99t.source;if(!C$99t.bitmap||!C$99e)return fdpz7$._shaderSet=!1,1;this.shaderValue.texture=C$99e,C$99t.alphaTexture&&C$99t.alphaTexture.source&&(this.shaderValue.texture1=C$99t.alphaTexture.source)}this._vb.bind_upload(this._ib);var C$99i=C$99c.mainContext;if(C$99q.activeBlendFunction!==this._blendFn&&(C$99i.enable(3042),this._blendFn(C$99i),C$99q.activeBlendFunction=this._blendFn),C$99P.drawCall++,C$99P.trianglesFaces+=this._numEle/3,this._preIsSameTextureShader&&C$99Lt.activeShader&&fdpz7$._shaderSet?(C$99Lt.activeShader.uploadTexture2D(this.shaderValue.texture),this.shaderValue.texture1&&C$99Lt.activeShader.uploadTexture2D1(this.shaderValue.texture1)):this.shaderValue.upload(),fdpz7$._shaderSet=!0,1<this._texs.length&&!this._isSameTexture)for(var C$99n=C$99t.bitmap,C$99r=0,C$99s=C$99Lt.activeShader,C$99a=0,C$99o=this._texs.length;C$99a<C$99o;C$99a++){var C$99h=this._texs[C$99a];C$99h.bitmap===C$99n&&C$99a+1!==C$99o||(C$99s.uploadTexture2D(C$99h.source),C$99i.drawElements(4,6*(C$99a-C$99r+1),5123,this._startIdx+6*C$99r*C$99mt.BYTES_PIDX),C$99n=C$99h.bitmap,C$99r=C$99a)}else C$99i.drawElements(4,this._numEle,5123,this._startIdx);return 1},fdpz7$.create=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=fdpz7$._cache._length?fdpz7$._cache[--fdpz7$._cache._length]:new fdpz7$;null==C$99i&&((C$99i=C$99s._selfVb||(C$99s._selfVb=C$99Zt.create(-1))).clear(),C$99n=0),C$99s._ib=C$99e,C$99s._vb=C$99i,C$99s._startIdx=C$99n*C$99mt.BYTES_PIDX,C$99s._numEle=0;C$99e=C$99t._nBlendType;C$99s._blendFn=(C$99t._targets?C$99q.targetFns:C$99q.fns)[C$99e],C$99s.shaderValue=C$99r,C$99s.shaderValue.setValue(C$99t._shader2D);C$99i=C$99t._shader2D.filters;return C$99i&&C$99s.shaderValue.setFilters(C$99i),C$99s},fdpz7$._cache=((fdpz7$._cache=[])._length=0,fdpz7$._cache),fdpz7$._shaderSet=!0,fdpz7$),C$99Pt=(C$99e(y_x0qe,"laya.webgl.utils.MeshTexture",C$99n),(C$99F=y_x0qe.prototype).addData=function(C$99t,C$99e,C$99i,C$99n,C$99c,C$99_){for(var C$99r=C$99t.length/2,C$99s=this._vb.needSize(C$99r*y_x0qe.const_stride)>>2,C$99a=this._vb.getFloat32Array(),C$99o=0,C$99u=0;C$99u<C$99r;C$99u++){var C$99h=C$99t[C$99o],C$99d=C$99t[C$99o+1],C$99f=C$99h*C$99n.a+C$99d*C$99n.c+C$99n.tx,C$99h=C$99h*C$99n.b+C$99d*C$99n.d+C$99n.ty;C$99a[C$99s++]=C$99f,C$99a[C$99s++]=C$99h,C$99a[C$99s++]=C$99e[C$99o],C$99a[C$99s++]=C$99e[C$99o+1],C$99o+=2}this._vb.setNeedUpload();var C$99p=this.vertNum;if(0<C$99p){(C$99r=C$99i.length)>y_x0qe.tmpIdx.length&&(y_x0qe.tmpIdx=new Uint16Array(C$99r));for(var C$99l=0;C$99l<C$99r;C$99l++)y_x0qe.tmpIdx[C$99l]=C$99i[C$99l]+C$99p;this._ib.appendU16Array(y_x0qe.tmpIdx,C$99i.length)}else this._ib.append(C$99i);this._ib.setNeedUpload(),this.vertNum+=C$99r,this.indexNum+=C$99i.length},C$99F.releaseMesh=function(){this._vb._byteLength=0,this._ib._byteLength=0,this.vertNum=0,this.indexNum=0,laya.webgl.utils.MeshTexture._POOL.push(this)},C$99F.destroy=function(){this._ib.destroy(),this._vb.destroy()},y_x0qe.getAMesh=function(){return laya.webgl.utils.MeshTexture._POOL.length?laya.webgl.utils.MeshTexture._POOL.pop():new y_x0qe},y_x0qe.const_stride=16,y_x0qe._POOL=[],C$99r(y_x0qe,["_fixattriInfo",function(){return this._fixattriInfo=[5126,2,0,5126,2,8]},"tmpIdx",function(){return this.tmpIdx=new Uint16Array(4)}]),y_x0qe),C$99Lt=(C$99e(zo70,"laya.webgl.shader.BaseShader",C$99D),zo70.activeShader=null,zo70.bindShader=null,zo70),C$99zt=(C$99e(it92c4,"laya.webgl.resource.RenderTarget2D",C$99re=C$99B),C$99i=it92c4.prototype,C$99g.imps(C$99i,{"laya.resource.IDispose":!0}),C$99i.getType=function(){return this._type},C$99i.getTexture=function(){return this},C$99i.size=function(C$99t,C$99e){this._w==C$99t&&this._h==C$99e||(this._w=C$99t,this._h=C$99e,this.release(),0!=this._w&&0!=this._h&&this._createWebGLRenderTarget())},C$99i.release=function(){this.destroy()},C$99i.recycle=function(){it92c4.POOL.push(this)},C$99i.start=function(){var C$99t=C$99c.mainContext;return this._preRenderTarget=C$99l.curRenderTarget,C$99l.curRenderTarget=this,C$99t.bindFramebuffer(36160,this.bitmap.frameBuffer),this._alreadyResolved=!1,1==this._type&&(C$99t.viewport(0,0,this._w,this._h),this._svWidth=C$99l.width,this._svHeight=C$99l.height,C$99l.width=this._w,C$99l.height=this._h,C$99Lt.activeShader=null),this},C$99i.clear=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99c.mainContext;C$99r.clearColor(C$99t=void 0===C$99t?0:C$99t,C$99e=void 0===C$99e?0:C$99e,C$99i=void 0===C$99i?0:C$99i,C$99n=void 0===C$99n?1:C$99n);var C$99s=16384;switch(this._depthStencilFormat){case 33189:C$99s|=256;break;case 36168:C$99s|=1024;break;case 34041:C$99s=C$99s|256|1024}C$99r.clear(C$99s)},C$99i.end=function(){var C$99t=C$99c.mainContext;C$99t.bindFramebuffer(36160,this._preRenderTarget?this._preRenderTarget.bitmap.frameBuffer:null),this._alreadyResolved=!0,C$99l.curRenderTarget=this._preRenderTarget,1==this._type?(C$99t.viewport(0,0,this._svWidth,this._svHeight),C$99l.width=this._svWidth,C$99l.height=this._svHeight,C$99Lt.activeShader=null):C$99t.viewport(0,0,C$99g.stage.width,C$99g.stage.height)},C$99i.getData=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99c.mainContext;if(C$99r.bindFramebuffer(36160,this.bitmap.frameBuffer),36053!==C$99r.checkFramebufferStatus(36160))return C$99r.bindFramebuffer(36160,null),null;var C$99s=new Uint8Array(this._w*this._h*4);return C$99r.readPixels(C$99t,C$99e,C$99i,C$99n,this._surfaceFormat,this._surfaceType,C$99s),C$99r.bindFramebuffer(36160,null),C$99s},C$99i.destroy=function(C$99t){void 0===C$99t&&(C$99t=!1),this._destroy||(this._loaded=!1,this.bitmap.offAll(),this.bitmap.disposeResource(),this.bitmap.dispose(),this.offAll(),this.bitmap=null,this._alreadyResolved=!1,this._destroy=!0,C$99re.prototype.destroy.call(this))},C$99i.dispose=function(){},C$99i._createWebGLRenderTarget=function(){this.bitmap=new C$99qt(this.width,this.height,this._surfaceFormat,this._surfaceType,this._depthStencilFormat,this._mipMap,this._repeat,this._minFifter,this._magFifter),this.bitmap.activeResource(),this._alreadyResolved=!0,this._destroy=!1,this._loaded=!0,this.bitmap.on("recovered",this,function(C$99t){this.event("recovered")})},C$99s(0,C$99i,"surfaceFormat",function(){return this._surfaceFormat}),C$99s(0,C$99i,"magFifter",function(){return this._magFifter}),C$99s(0,C$99i,"surfaceType",function(){return this._surfaceType}),C$99s(0,C$99i,"mipMap",function(){return this._mipMap}),C$99s(0,C$99i,"depthStencilFormat",function(){return this._depthStencilFormat}),C$99s(0,C$99i,"minFifter",function(){return this._minFifter}),C$99s(0,C$99i,"source",function(){return this._alreadyResolved?C$99g.superGet(C$99B,this,"source"):null}),it92c4.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){void 0===C$99i&&(C$99i=6408),void 0===C$99n&&(C$99n=5121),void 0===C$99r&&(C$99r=34041),void 0===C$99s&&(C$99s=!1),void 0===C$99a&&(C$99a=!1),void 0===C$99o&&(C$99o=-1),void 0===C$99h&&(C$99h=-1);var C$99l=it92c4.POOL.pop();return(C$99l=C$99l||new it92c4(C$99t,C$99e)).bitmap&&C$99l._w==C$99t&&C$99l._h==C$99e&&C$99l._surfaceFormat==C$99i&&C$99l._surfaceType==C$99n&&C$99l._depthStencilFormat==C$99r&&C$99l._mipMap==C$99s&&C$99l._repeat==C$99a&&C$99l._minFifter==C$99o&&C$99l._magFifter==C$99h||(C$99l._w=C$99t,C$99l._h=C$99e,C$99l._surfaceFormat=C$99i,C$99l._surfaceType=C$99n,C$99l._depthStencilFormat=C$99r,C$99S.isConchWebGL&&34041===C$99l._depthStencilFormat&&(C$99l._depthStencilFormat=33189),C$99l._mipMap=C$99s,C$99l._repeat=C$99a,C$99l._minFifter=C$99o,C$99l._magFifter=C$99h,C$99l.release(),C$99l._createWebGLRenderTarget()),C$99l},it92c4.TYPE2D=1,it92c4.TYPE3D=2,it92c4.POOL=[],it92c4),C$99kt=(C$99e(e0q_xy,"laya.webgl.utils.Buffer",C$99D),(C$99V=e0q_xy.prototype)._bind=function(){this.activeResource(),e0q_xy._bindActive[this._bufferType]!==this._glBuffer&&(34962===this._bufferType&&(e0q_xy._bindVertexBuffer=this._glBuffer),e0q_xy._gl.bindBuffer(this._bufferType,e0q_xy._bindActive[this._bufferType]=this._glBuffer),C$99Lt.activeShader=null)},C$99V.recreateResource=function(){this._glBuffer||(this._glBuffer=e0q_xy._gl.createBuffer()),this.completeCreate()},C$99V.disposeResource=function(){this._glBuffer&&(C$99c.mainContext.deleteBuffer(this._glBuffer),this._glBuffer=null),this.memorySize=0},C$99s(0,C$99V,"bufferUsage",function(){return this._bufferUsage}),e0q_xy._gl=null,e0q_xy._bindActive={},e0q_xy._bindVertexBuffer=null,e0q_xy._enableAtributes=[],e0q_xy),C$99Bt=(C$99e(zp7od,"laya.webgl.shader.d2.skinAnishader.SkinSV",C$99wt),zp7od),C$99Nt=(C$99e(qm_0y,"laya.webgl.shader.d2.value.Color2dSV",C$99wt),qm_0y.prototype.setValue=function(C$99t){C$99t.fillStyle&&(this.color=C$99t.fillStyle._color._color),C$99t.strokeStyle&&(this.color=C$99t.strokeStyle._color._color)},qm_0y),C$99Ot=(C$99e(e7zfop,"laya.webgl.shader.d2.value.FillTextureSV",C$99wt),(C$99he=e7zfop.prototype).setValue=function(C$99t){this.ALPHA=C$99t.ALPHA,C$99t.filters&&this.setFilters(C$99t.filters)},C$99he.clear=function(){this.texture=null,this.texture1=null,this.shader=null,this.colorMat=null,this.colorAlpha=null,this.defines.setValue(0)},e7zfop),C$99Ft=(C$99e(bgn3rj,"laya.webgl.shader.d2.value.TextureSV",C$99wt),(C$99t=bgn3rj.prototype).setValue=function(C$99t){this.ALPHA=C$99t.ALPHA,C$99t.filters&&this.setFilters(C$99t.filters)},C$99t.clear=function(){this.texture=null,this.texture1=null,this.shader=null,this.colorMat=null,this.colorAlpha=null,this.defines.setValue(0)},bgn3rj),C$99Vt=(C$99e(x0ym_h,"laya.webgl.shader.d2.value.PrimitiveSV",C$99wt),x0ym_h),C$99$t=(C$99e(sjra,"laya.webgl.atlas.AtlasWebGLCanvas",C$99n=C$99o),(C$99F=sjra.prototype).recreateResource=function(){var C$99t=C$99c.mainContext,C$99e=this._source=C$99t.createTexture(),C$99i=C$99xt.curBindTexTarget,C$99n=C$99xt.curBindTexValue;C$99xt.bindTexture(C$99t,3553,C$99e),C$99t.texImage2D(3553,0,6408,this._w,this._h,0,6408,5121,null),C$99t.texParameteri(3553,10241,9729),C$99t.texParameteri(3553,10240,9729),C$99t.texParameteri(3553,10242,33071),C$99t.texParameteri(3553,10243,33071),C$99i&&C$99n&&C$99xt.bindTexture(C$99t,C$99i,C$99n),this.memorySize=this._w*this._h*4,this.completeCreate()},C$99F.disposeResource=function(){this._source&&(C$99c.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},C$99F.texSubImage2D=function(C$99t,C$99e,C$99i){var C$99n,C$99r,C$99s;C$99S.isFlash?(this._flashCacheImage||(this._flashCacheImage=C$99x.create(""),this._flashCacheImage._image.createCanvas(this._w,this._h)),C$99n=C$99i.bitmapdata,this._flashCacheImage._image.copyPixels(C$99n,0,0,C$99n.width,C$99n.height,C$99t,C$99e),this._flashCacheImageNeedFlush||(this._flashCacheImageNeedFlush=!0)):(C$99n=C$99c.mainContext,C$99r=C$99xt.curBindTexTarget,C$99s=C$99xt.curBindTexValue,C$99xt.bindTexture(C$99n,3553,this._source),C$99n.pixelStorei(37441,!0),0<=C$99t-1&&C$99n.texSubImage2D(3553,0,C$99t-1,C$99e,6408,5121,C$99i),C$99t+1<=this._w&&C$99n.texSubImage2D(3553,0,C$99t+1,C$99e,6408,5121,C$99i),0<=C$99e-1&&C$99n.texSubImage2D(3553,0,C$99t,C$99e-1,6408,5121,C$99i),C$99e+1<=this._h&&C$99n.texSubImage2D(3553,0,C$99t,C$99e+1,6408,5121,C$99i),C$99n.texSubImage2D(3553,0,C$99t,C$99e,6408,5121,C$99i),C$99n.pixelStorei(37441,!1),C$99r&&C$99s&&C$99xt.bindTexture(C$99n,C$99r,C$99s))},C$99F.texSubImage2DPixel=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99c.mainContext,C$99a=C$99xt.curBindTexTarget,C$99o=C$99xt.curBindTexValue;C$99xt.bindTexture(C$99s,3553,this._source);C$99r=new Uint8Array(C$99r.data);C$99s.pixelStorei(37441,!0),C$99s.texSubImage2D(3553,0,C$99t,C$99e,C$99i,C$99n,6408,5121,C$99r),C$99s.pixelStorei(37441,!1),C$99a&&C$99o&&C$99xt.bindTexture(C$99s,C$99a,C$99o)},C$99s(0,C$99F,"width",C$99n.prototype._$get_width,function(C$99t){this._w=C$99t}),C$99s(0,C$99F,"height",C$99n.prototype._$get_height,function(C$99t){this._h=C$99t}),sjra),C$99Ut=(C$99e(gjn8r3,"laya.webgl.resource.WebGLCanvas",C$99o),(C$99i=gjn8r3.prototype).getCanvas=function(){return this._canvas},C$99i.clear=function(){this._ctx&&this._ctx.clear()},C$99i.destroy=function(){this._ctx&&this._ctx.destroy(),this._ctx=null,laya.resource.Resource.prototype.destroy.call(this)},C$99i._setContext=function(C$99t){this._ctx=C$99t},C$99i.getContext=function(C$99t,C$99e){return this._ctx||(this._ctx=gjn8r3._createContext(this))},C$99i.size=function(C$99t,C$99e){this._w==C$99t&&this._h==C$99e||(this._w=C$99t,this._h=C$99e,this._ctx&&this._ctx.size(C$99t,C$99e),this._canvas&&(this._canvas.height=C$99e,this._canvas.width=C$99t))},C$99i.activeResource=function(C$99t){void 0===C$99t&&(C$99t=!1),this._source||this.recreateResource()},C$99i.recreateResource=function(){this.createWebGlTexture(),this.completeCreate()},C$99i.disposeResource=function(){this._source&&!this.iscpuSource&&(C$99c.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},C$99i.createWebGlTexture=function(){var C$99t=C$99c.mainContext;this._canvas;var C$99e=this._source=C$99t.createTexture();this.iscpuSource=!1;var C$99i=C$99xt.curBindTexTarget,C$99n=C$99xt.curBindTexValue;C$99xt.bindTexture(C$99t,3553,C$99e),C$99t.pixelStorei(37440,this.flipY?1:0),gjn8r3.premulAlpha&&C$99t.pixelStorei(37441,!0),C$99t.texImage2D(3553,0,6408,6408,5121,this._imgData),gjn8r3.premulAlpha&&C$99t.pixelStorei(37441,!1),C$99t.texParameteri(3553,10240,9729),C$99t.texParameteri(3553,10241,9729),C$99t.texParameteri(3553,10242,33071),C$99t.texParameteri(3553,10243,33071),C$99t.pixelStorei(37440,0),this.memorySize=this._w*this._h*4,C$99i&&C$99n&&C$99xt.bindTexture(C$99t,C$99i,C$99n)},C$99i.reloadCanvasData=function(){var C$99t=C$99c.mainContext;if(!this._source)throw"reloadCanvasData error, gl texture not created!";var C$99e=C$99xt.curBindTexTarget,C$99i=C$99xt.curBindTexValue;C$99xt.bindTexture(C$99t,3553,this._source),gjn8r3.premulAlpha&&C$99t.pixelStorei(37441,!0),C$99t.texImage2D(3553,0,6408,6408,5121,this._imgData),gjn8r3.premulAlpha&&C$99t.pixelStorei(37441,!1),C$99t.pixelStorei(37440,0),C$99e&&C$99i&&C$99xt.bindTexture(C$99t,C$99e,C$99i)},C$99i.texSubImage2D=function(C$99t,C$99e,C$99i){var C$99n=C$99c.mainContext,C$99r=C$99xt.curBindTexTarget,C$99s=C$99xt.curBindTexValue;C$99xt.bindTexture(C$99n,3553,this._source),C$99n.pixelStorei(37441,!0),C$99n.texSubImage2D(3553,0,C$99e,C$99i,6408,5121,C$99t._source),C$99n.pixelStorei(37441,!1),C$99r&&C$99s&&C$99xt.bindTexture(C$99n,C$99r,C$99s)},C$99i.toBase64=function(C$99t,C$99e,C$99i){var C$99n=null;this._canvas&&(C$99n=this._canvas.toDataURL(C$99t,C$99e)),C$99i.call(this,C$99n)},C$99s(0,C$99i,"context",function(){return this._ctx}),C$99s(0,C$99i,"source",function(){return this.alwaysChange&&this.reloadCanvasData(),this._source}),C$99s(0,C$99i,"asBitmap",null,function(C$99t){this._ctx&&(this._ctx.asBitmap=C$99t)}),gjn8r3._createContext=null,gjn8r3.premulAlpha=!1,gjn8r3),C$99jt=(C$99e(m16w5h,"laya.webgl.resource.WebGLCharImage",C$99o),C$99D=m16w5h.prototype,C$99g.imps(C$99D,{"laya.webgl.resource.IMergeAtlasBitmap":!0}),C$99D.active=function(){this.texture.active()},C$99D.recreateResource=function(){var C$99t=C$99S.isConchApp;var C$99e;this.onresize(this.cw+2*this.CborderSize,this.ch+2*this.CborderSize),this.canvas&&(this.canvas.height=this._h,this.canvas.width=this._w),C$99t?(C$99t=this.fontSize,1==this.xs&&1==this.ys||(C$99t=parseInt(C$99t*(this.xs>this.ys?this.xs:this.ys)+"")),C$99e=(C$99e="normal 100 "+this.font).replace(m16w5h._fontSizeReg,C$99t),this.borderColor&&(C$99e+=" 1 "+this.borderColor),this._ctx.font=C$99e,this._ctx.textBaseline="top",this._ctx.fillStyle=this.fillColor,this._ctx.fillText(this.char,this.CborderSize,this.CborderSize,null,null,null)):(this._ctx.save(),this._ctx.lineJoin="round",this._ctx.clearRect(0,0,this.cw+2*this.CborderSize,this.ch+2*this.CborderSize),this._ctx.font=this.font,C$99k.RightToLeft&&(this._ctx.textAlign="end"),this._ctx.textBaseline="top",this._ctx.translate(this.CborderSize,this.CborderSize),1==this.xs&&1==this.ys||this._ctx.scale(this.xs,this.ys),this.fillColor&&this.borderColor?(this._ctx.strokeStyle=this.borderColor,this._ctx.lineWidth=this.lineWidth,this._ctx.strokeText(this.char,0,0,null,null,0,null),this._ctx.fillStyle=this.fillColor,this._ctx.fillText(this.char,0,0,null,null,null)):-1===this.lineWidth?(this._ctx.fillStyle=this.fillColor||"white",this._ctx.fillText(this.char,0,0,null,null,null)):(this._ctx.strokeStyle=this.borderColor||"white",this._ctx.lineWidth=this.lineWidth,this._ctx.strokeText(this.char,0,0,null,null,0,null)),this.underLine&&(this._ctx.lineWidth=1,this._ctx.strokeStyle=this.fillColor,this._ctx.beginPath(),this._ctx.moveTo(0,this.fontSize+1),C$99t=(this._ctx.measureText(this.char)||{width:16}).width+1,this._ctx.lineTo(C$99t,this.fontSize+1),this._ctx.stroke()),this._ctx.restore()),this.borderSize=this.CborderSize,this.completeCreate()},C$99D.onresize=function(C$99t,C$99e){this._w=C$99t,this._h=C$99e,this._allowMerageInAtlas=!0},C$99D.clearAtlasSource=function(){},C$99s(0,C$99D,"allowMerageInAtlas",function(){return this._allowMerageInAtlas}),C$99s(0,C$99D,"atlasSource",function(){return this.canvas}),C$99s(0,C$99D,"enableMerageInAtlas",function(){return this._enableMerageInAtlas},function(C$99t){this._enableMerageInAtlas=C$99t}),m16w5h.createOneChar=function(C$99t,C$99e){return new m16w5h(C$99t,C$99e)},m16w5h._fontSizeReg=new RegExp("\\d+(?=px)","g"),m16w5h),C$99qt=(C$99e($fdvp9,"laya.webgl.resource.WebGLRenderTarget",C$99o),(C$99V=$fdvp9.prototype).recreateResource=function(){var C$99t=C$99c.mainContext;this._frameBuffer||(this._frameBuffer=C$99t.createFramebuffer()),this._source||(this._source=C$99t.createTexture());var C$99e=C$99xt.curBindTexTarget,C$99i=C$99xt.curBindTexValue;C$99xt.bindTexture(C$99t,3553,this._source),C$99t.texImage2D(3553,0,6408,this._w,this._h,0,this._surfaceFormat,this._surfaceType,null);var C$99n=this._minFifter,C$99r=this._magFifter,C$99s=this._repeat?10497:33071,C$99a=C$99h.isPOT(this._w,this._h);if(C$99a?(this._mipMap?-1!==C$99n||(C$99n=9987):-1!==C$99n||(C$99n=9729),-1!==C$99r||(C$99r=9729),C$99t.texParameteri(3553,10241,C$99n),C$99t.texParameteri(3553,10240,C$99r),C$99t.texParameteri(3553,10242,C$99s),C$99t.texParameteri(3553,10243,C$99s),this._mipMap&&C$99t.generateMipmap(3553)):(-1!==C$99r||(C$99r=9729),C$99t.texParameteri(3553,10241,C$99n=-1!==C$99n?C$99n:9729),C$99t.texParameteri(3553,10240,C$99r),C$99t.texParameteri(3553,10242,33071),C$99t.texParameteri(3553,10243,33071)),C$99t.bindFramebuffer(36160,this._frameBuffer),C$99t.framebufferTexture2D(36160,36064,3553,this._source,0),this._depthStencilFormat)switch(this._depthStencilBuffer||(this._depthStencilBuffer=C$99t.createRenderbuffer()),C$99t.bindRenderbuffer(36161,this._depthStencilBuffer),C$99t.renderbufferStorage(36161,this._depthStencilFormat,this._w,this._h),this._depthStencilFormat){case 33189:C$99t.framebufferRenderbuffer(36160,36096,36161,this._depthStencilBuffer);break;case 36168:C$99t.framebufferRenderbuffer(36160,36128,36161,this._depthStencilBuffer);break;case 34041:C$99t.framebufferRenderbuffer(36160,33306,36161,this._depthStencilBuffer)}C$99t.bindFramebuffer(36160,null),C$99e&&C$99i&&C$99xt.bindTexture(C$99t,C$99e,C$99i),C$99t.bindRenderbuffer(36161,null),C$99a&&this._mipMap?this.memorySize=this._w*this._h*4*(1+1/3):this.memorySize=this._w*this._h*4,this.completeCreate()},C$99V.disposeResource=function(){this._frameBuffer&&(C$99c.mainContext.deleteTexture(this._source),C$99c.mainContext.deleteFramebuffer(this._frameBuffer),C$99c.mainContext.deleteRenderbuffer(this._depthStencilBuffer),this._source=null,this._frameBuffer=null,this._depthStencilBuffer=null,this.memorySize=0,this.uri=null)},C$99s(0,C$99V,"depthStencilBuffer",function(){return this._depthStencilBuffer}),C$99s(0,C$99V,"frameBuffer",function(){return this._frameBuffer}),$fdvp9),C$99Ht=(C$99e(oqexy0,"laya.webgl.resource.WebGLSubImage",C$99o),C$99he=oqexy0.prototype,C$99g.imps(C$99he,{"laya.webgl.resource.IMergeAtlasBitmap":!0}),C$99he.size=function(C$99t,C$99e){this._w=C$99t,this._h=C$99e,this._ctx&&this._ctx.size(C$99t,C$99e),this.canvas&&(this.canvas.height=C$99e,this.canvas.width=C$99t)},C$99he.recreateResource=function(){this.size(this._w,this._h),this._ctx.drawImage(this.atlasImage,this.offsetX,this.offsetY,this._w,this._h,0,0,this._w,this._h),this._allowMerageInAtlas&&this._enableMerageInAtlas?this.memorySize=0:this.createWebGlTexture(),this.completeCreate()},C$99he.createWebGlTexture=function(){var C$99t=C$99c.mainContext;if(!this.canvas)throw"create GLTextur err:no data:"+this.canvas;var C$99e=this._source=C$99t.createTexture(),C$99i=C$99xt.curBindTexTarget,C$99n=C$99xt.curBindTexValue;C$99xt.bindTexture(C$99t,3553,C$99e),C$99t.pixelStorei(37441,!0),C$99t.texImage2D(3553,0,6408,6408,5121,this.canvas),C$99t.pixelStorei(37441,!1);var C$99e=this.minFifter,C$99r=this.magFifter,C$99s=this.repeat?10497:33071,C$99a=C$99h.isPOT(this.width,this.height);C$99a?(this.mipmap?-1!==C$99e||(C$99e=9987):-1!==C$99e||(C$99e=9729),C$99t.texParameteri(3553,10240,C$99r=-1!==C$99r?C$99r:9729),C$99t.texParameteri(3553,10241,C$99e),C$99t.texParameteri(3553,10242,C$99s),C$99t.texParameteri(3553,10243,C$99s),this.mipmap&&C$99t.generateMipmap(3553)):(-1!==C$99r||(C$99r=9729),C$99t.texParameteri(3553,10241,C$99e=-1!==C$99e?C$99e:9729),C$99t.texParameteri(3553,10240,C$99r),C$99t.texParameteri(3553,10242,33071),C$99t.texParameteri(3553,10243,33071)),C$99i&&C$99n&&C$99xt.bindTexture(C$99t,C$99i,C$99n),this.canvas=null,C$99a&&this.mipmap?this.memorySize=this._w*this._h*4*(1+1/3):this.memorySize=this._w*this._h*4},C$99he.disposeResource=function(){C$99U.enabled&&this._allowMerageInAtlas||!this._source||(C$99c.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},C$99he.clearAtlasSource=function(){},C$99s(0,C$99he,"allowMerageInAtlas",function(){return this._allowMerageInAtlas}),C$99s(0,C$99he,"atlasSource",function(){return this.canvas}),C$99s(0,C$99he,"enableMerageInAtlas",function(){return this._allowMerageInAtlas},function(C$99t){this._allowMerageInAtlas=C$99t}),oqexy0),C$99Wt=(C$99e(vd$fz,"laya.webgl.shader.Shader",C$99Lt),(C$99t=vd$fz.prototype).recreateResource=function(){this._compile(),this.completeCreate(),this.memorySize=0},C$99t.disposeResource=function(){C$99c.mainContext.deleteShader(this._vshader),C$99c.mainContext.deleteShader(this._pshader),C$99c.mainContext.deleteProgram(this._program),this._vshader=this._pshader=this._program=null,this._params=null,this._paramsMap={},this.memorySize=0,this._curActTexIndex=0},C$99t._compile=function(){if(!C$99c.mainContext.isContextLost()&&this._vs&&this._ps&&!this._params){this._reCompile=!0,this._params=[];var C$99t=[this._vs,this._ps],C$99e=C$99c.mainContext;if(this._program=C$99e.createProgram(),this._vshader=vd$fz._createShader(C$99e,C$99t[0],35633),this._pshader=vd$fz._createShader(C$99e,C$99t[1],35632),C$99e.attachShader(this._program,this._vshader),C$99e.attachShader(this._program,this._pshader),C$99e.linkProgram(this._program),!C$99S.isConchApp&&!C$99e.getProgramParameter(this._program,35714))throw C$99e.getProgramInfoLog(this._program);var C$99i,C$99n,C$99r,C$99s=0;for(C$99r=C$99S.isConchApp?C$99e.getProgramParameterEx(this._vs,this._ps,"",35721):C$99e.getProgramParameter(this._program,35721),C$99s=0;C$99s<C$99r;C$99s++){var C$99a=null;C$99i={vartype:"attribute",glfun:null,ivartype:0,attrib:C$99a=C$99S.isConchApp?C$99e.getActiveAttribEx(this._vs,this._ps,"",C$99s):C$99e.getActiveAttrib(this._program,C$99s),location:C$99e.getAttribLocation(this._program,C$99a.name),name:C$99a.name,type:C$99a.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0},this._params.push(C$99i)}var C$99o;for(C$99o=C$99S.isConchApp?C$99e.getProgramParameterEx(this._vs,this._ps,"",35718):C$99e.getProgramParameter(this._program,35718),C$99s=0;C$99s<C$99o;C$99s++){var C$99h=null;C$99h=C$99S.isConchApp?C$99e.getActiveUniformEx(this._vs,this._ps,"",C$99s):C$99e.getActiveUniform(this._program,C$99s),0<(C$99i={vartype:"uniform",glfun:null,ivartype:1,attrib:C$99a,location:C$99e.getUniformLocation(this._program,C$99h.name),name:C$99h.name,type:C$99h.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0}).name.indexOf("[0]")&&(C$99i.name=C$99i.name.substr(0,C$99i.name.length-3),C$99i.isArray=!0,C$99i.location=C$99e.getUniformLocation(this._program,C$99i.name)),this._params.push(C$99i)}for(C$99s=0,C$99n=this._params.length;C$99s<C$99n;C$99s++)if((C$99i=this._params[C$99s]).indexOfParams=C$99s,C$99i.index=1,C$99i.value=[C$99i.location,null],C$99i.codename=C$99i.name,C$99i.name=this._nameMap[C$99i.codename]||C$99i.codename,(this._paramsMap[C$99i.name]=C$99i)._this=this,C$99i.uploadedValue=[],"attribute"!==C$99i.vartype)switch(C$99i.type){case 5124:C$99i.fun=C$99i.isArray?this._uniform1iv:this._uniform1i;break;case 5126:C$99i.fun=C$99i.isArray?this._uniform1fv:this._uniform1f;break;case 35664:C$99i.fun=C$99i.isArray?this._uniform_vec2v:this._uniform_vec2;break;case 35665:C$99i.fun=C$99i.isArray?this._uniform_vec3v:this._uniform_vec3;break;case 35666:C$99i.fun=C$99i.isArray?this._uniform_vec4v:this._uniform_vec4;break;case 35678:C$99i.fun=this._uniform_sampler2D;break;case 35680:C$99i.fun=this._uniform_samplerCube;break;case 35676:C$99i.glfun=C$99e.uniformMatrix4fv,C$99i.fun=this._uniformMatrix4fv;break;case 35670:C$99i.fun=this._uniform1i;break;default:throw new Error("compile shader err!")}else C$99i.fun=this._attribute}},C$99t.getUniform=function(C$99t){return this._paramsMap[C$99t]},C$99t._attribute=function(C$99t,C$99e){var C$99i=C$99c.mainContext,C$99n=C$99kt._enableAtributes,C$99t=C$99t.location;return C$99n[C$99t]||C$99i.enableVertexAttribArray(C$99t),C$99i.vertexAttribPointer(C$99t,C$99e[0],C$99e[1],C$99e[2],C$99e[3],C$99e[4]+this._offset),C$99n[C$99t]=C$99kt._bindVertexBuffer,1},C$99t._uniform1f=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e?(C$99c.mainContext.uniform1f(C$99t.location,C$99i[0]=C$99e),1):0},C$99t._uniform1fv=function(C$99t,C$99e){var C$99i;return C$99e.length<4?(C$99i=C$99t.uploadedValue)[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99c.mainContext.uniform1fv(C$99t.location,C$99e),C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3],1):0:(C$99c.mainContext.uniform1fv(C$99t.location,C$99e),1)},C$99t._uniform_vec2=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]?(C$99c.mainContext.uniform2f(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1]),1):0},C$99t._uniform_vec2v=function(C$99t,C$99e){var C$99i;return C$99e.length<2?(C$99i=C$99t.uploadedValue)[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99c.mainContext.uniform2fv(C$99t.location,C$99e),C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3],1):0:(C$99c.mainContext.uniform2fv(C$99t.location,C$99e),1)},C$99t._uniform_vec3=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]?(C$99c.mainContext.uniform3f(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2]),1):0},C$99t._uniform_vec3v=function(C$99t,C$99e){return C$99c.mainContext.uniform3fv(C$99t.location,C$99e),1},C$99t._uniform_vec4=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99c.mainContext.uniform4f(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3]),1):0},C$99t._uniform_vec4v=function(C$99t,C$99e){return C$99c.mainContext.uniform4fv(C$99t.location,C$99e),1},C$99t._uniformMatrix2fv=function(C$99t,C$99e){return C$99c.mainContext.uniformMatrix2fv(C$99t.location,!1,C$99e),1},C$99t._uniformMatrix3fv=function(C$99t,C$99e){return C$99c.mainContext.uniformMatrix3fv(C$99t.location,!1,C$99e),1},C$99t._uniformMatrix4fv=function(C$99t,C$99e){return C$99c.mainContext.uniformMatrix4fv(C$99t.location,!1,C$99e),1},C$99t._uniform1i=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e?(C$99c.mainContext.uniform1i(C$99t.location,C$99i[0]=C$99e),1):0},C$99t._uniform1iv=function(C$99t,C$99e){return C$99c.mainContext.uniform1iv(C$99t.location,C$99e),1},C$99t._uniform_ivec2=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]?(C$99c.mainContext.uniform2i(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1]),1):0},C$99t._uniform_ivec2v=function(C$99t,C$99e){return C$99c.mainContext.uniform2iv(C$99t.location,C$99e),1},C$99t._uniform_vec3i=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]?(C$99c.mainContext.uniform3i(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2]),1):0},C$99t._uniform_vec3vi=function(C$99t,C$99e){return C$99c.mainContext.uniform3iv(C$99t.location,C$99e),1},C$99t._uniform_vec4i=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99c.mainContext.uniform4i(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3]),1):0},C$99t._uniform_vec4vi=function(C$99t,C$99e){return C$99c.mainContext.uniform4iv(C$99t.location,C$99e),1},C$99t._uniform_sampler2D=function(C$99t,C$99e){var C$99i=C$99c.mainContext,C$99n=C$99t.uploadedValue;return null==C$99n[0]?(C$99n[0]=this._curActTexIndex,C$99i.uniform1i(C$99t.location,this._curActTexIndex),C$99i.activeTexture(vd$fz._TEXTURES[this._curActTexIndex]),C$99xt.bindTexture(C$99i,3553,C$99e),this._curActTexIndex++,1):(C$99i.activeTexture(vd$fz._TEXTURES[C$99n[0]]),C$99xt.bindTexture(C$99i,3553,C$99e),0)},C$99t._uniform_samplerCube=function(C$99t,C$99e){var C$99i=C$99c.mainContext,C$99n=C$99t.uploadedValue;return null==C$99n[0]?(C$99n[0]=this._curActTexIndex,C$99i.uniform1i(C$99t.location,this._curActTexIndex),C$99i.activeTexture(vd$fz._TEXTURES[this._curActTexIndex]),C$99xt.bindTexture(C$99i,34067,C$99e),this._curActTexIndex++,1):(C$99i.activeTexture(vd$fz._TEXTURES[C$99n[0]]),C$99xt.bindTexture(C$99i,34067,C$99e),0)},C$99t._noSetValue=function(C$99t){console.log("no....:"+C$99t.name)},C$99t.uploadOne=function(C$99t,C$99e){this.activeResource(),C$99xt.UseProgram(this._program);C$99t=this._paramsMap[C$99t];C$99t.fun.call(this,C$99t,C$99e)},C$99t.uploadTexture2D=function(C$99t){C$99P.shaderCall++;var C$99e=C$99c.mainContext;C$99e.activeTexture(33984),C$99xt.bindTexture(C$99e,3553,C$99t)},C$99t.uploadTexture2D1=function(C$99t){C$99P.shaderCall++;var C$99e=C$99c.mainContext;C$99e.activeTexture(33985),C$99xt.bindTexture(C$99e,3553,C$99t)},C$99t.upload=function(C$99t,C$99e){(C$99Lt.activeShader=C$99Lt.bindShader=this)._lastUseFrameCount===C$99P.loopCount||this.activeResource(),C$99xt.UseProgram(this._program),this._reCompile?(C$99e=this._params,this._reCompile=!1):C$99e=C$99e||this._params,C$99c.mainContext;for(var C$99i,C$99n,C$99r=C$99e.length,C$99s=0,C$99a=0;C$99a<C$99r;C$99a++)null!==(C$99n=C$99t[(C$99i=C$99e[C$99a]).name])&&(C$99s+=C$99i.fun.call(this,C$99i,C$99n));C$99P.shaderCall+=C$99s},C$99t.uploadArray=function(C$99t,C$99e,C$99i){C$99Lt.activeShader=this,(C$99Lt.bindShader=this).activeResource(),C$99xt.UseProgram(this._program),this._params;for(var C$99n,C$99r,C$99s=0,C$99a=C$99e-2;0<=C$99a;C$99a-=2)(C$99r=this._paramsMap[C$99t[C$99a]])&&null!=(C$99n=C$99t[C$99a+1])&&(C$99i&&C$99i[C$99r.name]&&C$99i[C$99r.name].bind(),C$99s+=C$99r.fun.call(this,C$99r,C$99n));C$99P.shaderCall+=C$99s},C$99t.getParams=function(){return this._params},vd$fz.getShader=function(C$99t){return vd$fz.sharders[C$99t]},vd$fz.create=function(C$99t,C$99e,C$99i,C$99n){return new vd$fz(C$99t,C$99e,C$99i,C$99n)},vd$fz.withCompile=function(C$99t,C$99e,C$99i,C$99n){if(C$99i&&vd$fz.sharders[C$99i])return vd$fz.sharders[C$99i];var C$99r=vd$fz._preCompileShader[2e-4*C$99t];if(!C$99r)throw new Error("withCompile shader err!"+C$99t);return C$99r.createShader(C$99e,C$99i,C$99n)},vd$fz.withCompile2D=function(C$99t,C$99e,C$99i,C$99n,C$99r){if(C$99n&&vd$fz.sharders[C$99n])return vd$fz.sharders[C$99n];var C$99s=vd$fz._preCompileShader[2e-4*C$99t+C$99e];if(!C$99s)throw new Error("withCompile shader err!"+C$99t+" "+C$99e);return C$99s.createShader(C$99i,C$99n,C$99r)},vd$fz.addInclude=function(C$99t,C$99e){C$99vt.addInclude(C$99t,C$99e)},vd$fz.preCompile=function(C$99t,C$99e,C$99i,C$99n){C$99t*=2e-4;vd$fz._preCompileShader[C$99t]=new C$99vt(C$99t,C$99e,C$99i,C$99n)},vd$fz.preCompile2D=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99t=2e-4*C$99t+C$99e;vd$fz._preCompileShader[C$99t]=new C$99vt(C$99t,C$99i,C$99n,C$99r)},vd$fz._createShader=function(C$99t,C$99e,C$99i){C$99i=C$99t.createShader(C$99i);return C$99t.shaderSource(C$99i,C$99e),C$99t.compileShader(C$99i),C$99i},vd$fz._TEXTURES=[33984,33985,33986,33987,33988,33989,33990,,33991,33992],vd$fz._count=0,vd$fz._preCompileShader={},vd$fz.SHADERNAME2ID=2e-4,vd$fz.sharders=((vd$fz.sharders=[]).length=32,vd$fz.sharders),C$99r(vd$fz,["nameKey",function(){return this.nameKey=new C$99L}]),vd$fz),C$99Gt=(C$99e(zdpf$,"laya.webgl.utils.Buffer2D",C$99ne=C$99kt),(C$99F=zdpf$.prototype).needSize=function(C$99t){var C$99e=this._byteLength;return C$99t&&((C$99t=this._byteLength+C$99t)<=this._buffer.byteLength||this._resizeBuffer(C$99t<<1,!0),this._byteLength=C$99t),C$99e},C$99F._bufferData=function(){this._maxsize=Math.max(this._maxsize,this._byteLength),C$99P.loopCount%30==0&&(this._buffer.byteLength>this._maxsize+64&&(this.memorySize=this._buffer.byteLength,this._buffer=this._buffer.slice(0,this._maxsize+64),this._checkArrayUse()),this._maxsize=this._byteLength),this._uploadSize<this._buffer.byteLength&&(this._uploadSize=this._buffer.byteLength,C$99kt._gl.bufferData(this._bufferType,this._uploadSize,this._bufferUsage),this.memorySize=this._uploadSize),C$99kt._gl.bufferSubData(this._bufferType,0,this._buffer)},C$99F._bufferSubData=function(C$99t,C$99e,C$99i){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),this._maxsize=Math.max(this._maxsize,this._byteLength),C$99P.loopCount%30==0&&(this._buffer.byteLength>this._maxsize+64&&(this.memorySize=this._buffer.byteLength,this._buffer=this._buffer.slice(0,this._maxsize+64),this._checkArrayUse()),this._maxsize=this._byteLength),this._uploadSize<this._buffer.byteLength&&(this._uploadSize=this._buffer.byteLength,C$99kt._gl.bufferData(this._bufferType,this._uploadSize,this._bufferUsage),this.memorySize=this._uploadSize),C$99e||C$99i?(C$99e=this._buffer.slice(C$99e,C$99i),C$99kt._gl.bufferSubData(this._bufferType,C$99t,C$99e)):C$99kt._gl.bufferSubData(this._bufferType,C$99t,this._buffer)},C$99F._checkArrayUse=function(){},C$99F._bind_upload=function(){return!!this._upload&&(this._upload=!1,this._bind(),this._bufferData(),!0)},C$99F._bind_subUpload=function(C$99t,C$99e,C$99i){return void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),!!this._upload&&(this._upload=!1,this._bind(),this._bufferSubData(C$99t,C$99e,C$99i),!0)},C$99F._resizeBuffer=function(C$99t,C$99e){return C$99t<this._buffer.byteLength||(this.memorySize=C$99t,C$99e&&this._buffer&&0<this._buffer.byteLength?(C$99e=new ArrayBuffer(C$99t),new Uint8Array(C$99e).set(new Uint8Array(this._buffer),0),this._buffer=C$99e):this._buffer=new ArrayBuffer(C$99t),this._checkArrayUse(),this._upload=!0),this},C$99F.append=function(C$99t){var C$99e,C$99i;this._upload=!0,C$99e=C$99t.byteLength,C$99t instanceof Uint8Array?(this._resizeBuffer(this._byteLength+C$99e,!0),C$99i=new Uint8Array(this._buffer,this._byteLength)):C$99t instanceof Uint16Array?(this._resizeBuffer(this._byteLength+C$99e,!0),C$99i=new Uint16Array(this._buffer,this._byteLength)):C$99t instanceof Float32Array&&(this._resizeBuffer(this._byteLength+C$99e,!0),C$99i=new Float32Array(this._buffer,this._byteLength)),C$99i.set(C$99t,0),this._byteLength+=C$99e,this._checkArrayUse()},C$99F.appendU16Array=function(C$99t,C$99e){this._resizeBuffer(this._byteLength+2*C$99e,!0);for(var C$99i=new Uint16Array(this._buffer,this._byteLength,C$99e),C$99n=0;C$99n<C$99e;C$99n++)C$99i[C$99n]=C$99t[C$99n];this._byteLength+=2*C$99e,this._checkArrayUse()},C$99F.appendEx=function(C$99t,C$99e){var C$99i;this._upload=!0,C$99i=C$99t.byteLength,this._resizeBuffer(this._byteLength+C$99i,!0),new C$99e(this._buffer,this._byteLength).set(C$99t,0),this._byteLength+=C$99i,this._checkArrayUse()},C$99F.appendEx2=function(C$99t,C$99e,C$99i,C$99n){var C$99r;void 0===C$99n&&(C$99n=1),this._upload=!0,this._resizeBuffer(this._byteLength+(C$99n=C$99i*C$99n),!0),C$99r=new C$99e(this._buffer,this._byteLength);var C$99s=0;for(C$99s=0;C$99s<C$99i;C$99s++)C$99r[C$99s]=C$99t[C$99s];this._byteLength+=C$99n,this._checkArrayUse()},C$99F.getBuffer=function(){return this._buffer},C$99F.setNeedUpload=function(){this._upload=!0},C$99F.getNeedUpload=function(){return this._upload},C$99F.upload=function(){var C$99t=this._bind_upload();return C$99kt._gl.bindBuffer(this._bufferType,null),C$99kt._bindActive[this._bufferType]=null,C$99Lt.activeShader=null,C$99t},C$99F.subUpload=function(C$99t,C$99e,C$99i){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0);C$99t=this._bind_subUpload();return C$99kt._gl.bindBuffer(this._bufferType,null),C$99kt._bindActive[this._bufferType]=null,C$99Lt.activeShader=null,C$99t},C$99F.disposeResource=function(){C$99ne.prototype.disposeResource.call(this),this._upload=!0,this._uploadSize=0},C$99F.clear=function(){this._byteLength=0,this._upload=!0},C$99s(0,C$99F,"bufferLength",function(){return this._buffer.byteLength}),C$99s(0,C$99F,"byteLength",null,function(C$99t){this._byteLength!==C$99t&&(C$99t<=this._buffer.byteLength||this._resizeBuffer(2*C$99t+256,!0),this._byteLength=C$99t)}),zdpf$.__int__=function(C$99t){C$99Kt.QuadrangleIB=C$99Kt.create(35044),C$99gt.fillIBQuadrangle(C$99Kt.QuadrangleIB,16)},zdpf$.FLOAT32=4,zdpf$.SHORT=2,zdpf$),C$99Yt=(C$99e(ukab,"laya.webgl.shader.d2.value.GlowSV",C$99ie=C$99Ft),(C$99n=ukab.prototype).setValue=function(C$99t){C$99ie.prototype.setValue.call(this,C$99t)},C$99n.clear=function(){C$99ie.prototype.clear.call(this)},C$99e(qfoe7,"laya.webgl.shader.d2.value.TextSV",C$99ee=C$99Ft),(C$99i=qfoe7.prototype).release=function(){(qfoe7.pool[qfoe7._length++]=this).clear()},C$99i.clear=function(){C$99ee.prototype.clear.call(this)},qfoe7.create=function(){return qfoe7._length?qfoe7.pool[--qfoe7._length]:new qfoe7},qfoe7.pool=[],qfoe7._length=0,qfoe7),C$99Xt=(C$99e(zqo7fe,"laya.webgl.shader.d2.Shader2X",C$99te=C$99Wt),(C$99D=zqo7fe.prototype).upload2dQuick1=function(C$99t){this.upload(C$99t,this._params2dQuick1||this._make2dQuick1())},C$99D._make2dQuick1=function(){if(!this._params2dQuick1){this.activeResource(),this._params2dQuick1=[];for(var C$99t,C$99e=this._params,C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)C$99t=C$99e[C$99i],(C$99S.isFlash||"size"!==C$99t.name&&"position"!==C$99t.name&&"texcoord"!==C$99t.name)&&this._params2dQuick1.push(C$99t)}return this._params2dQuick1},C$99D.disposeResource=function(){C$99te.prototype.disposeResource.call(this),this._params2dQuick1=null,this._params2dQuick2=null},C$99D.upload2dQuick2=function(C$99t){this.upload(C$99t,this._params2dQuick2||this._make2dQuick2())},C$99D._make2dQuick2=function(){if(!this._params2dQuick2){this.activeResource(),this._params2dQuick2=[];for(var C$99t,C$99e=this._params,C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)C$99t=C$99e[C$99i],!C$99S.isFlash&&"size"===C$99t.name||this._params2dQuick2.push(C$99t)}return this._params2dQuick2},zqo7fe.create=function(C$99t,C$99e,C$99i,C$99n){return new zqo7fe(C$99t,C$99e,C$99i,C$99n)},zqo7fe),C$99Kt=(C$99e(g1683,"laya.webgl.utils.IndexBuffer2D",C$99Gt),(C$99V=g1683.prototype)._checkArrayUse=function(){this._uint8Array&&(this._uint8Array=new Uint8Array(this._buffer)),this._uint16Array&&(this._uint16Array=new Uint16Array(this._buffer))},C$99V.getUint8Array=function(){return this._uint8Array||(this._uint8Array=new Uint8Array(this._buffer))},C$99V.getUint16Array=function(){return this._uint16Array||(this._uint16Array=new Uint16Array(this._buffer))},C$99V.destory=function(){this._uint16Array=null,this._uint8Array=null,this._buffer=null},g1683.QuadrangleIB=null,g1683.create=function(C$99t){return new g1683(C$99t=void 0===C$99t?35044:C$99t)},g1683),C$99Zt=(C$99e(ip9d$,"laya.webgl.utils.VertexBuffer2D",C$99Jt=C$99Gt),(C$99o=ip9d$.prototype).getFloat32Array=function(){return this._floatArray32||(this._floatArray32=new Float32Array(this._buffer))},C$99o.bind=function(C$99t){C$99t&&C$99t._bind(),this._bind()},C$99o.insertData=function(C$99t,C$99e){this.getFloat32Array().set(C$99t,C$99e),this._upload=!0},C$99o.bind_upload=function(C$99t){C$99t._bind_upload()||C$99t._bind(),this._bind_upload()||this._bind()},C$99o._checkArrayUse=function(){this._floatArray32&&(this._floatArray32=new Float32Array(this._buffer))},C$99o.disposeResource=function(){C$99Jt.prototype.disposeResource.call(this)},C$99o.destory=function(){this._byteLength=0,this._upload=!0,this._buffer=null,this._floatArray32=null},C$99s(0,C$99o,"vertexStride",function(){return this._vertexStride}),ip9d$.create=function(C$99t,C$99e){return new ip9d$(C$99t,C$99e=void 0===C$99e?35048:C$99e)},ip9d$),C$99Qt=(C$99e(zoef7q,"laya.webgl.resource.WebGLImage",C$99x),C$99he=zoef7q.prototype,C$99g.imps(C$99he,{"laya.webgl.resource.IMergeAtlasBitmap":!0}),C$99he._init_=function(C$99t,C$99e){},C$99he._createWebGlTexture=function(){if(!this._image)throw"create GLTextur err:no data:"+this._image;var C$99t=C$99c.mainContext,C$99e=this._source=C$99t.createTexture(),C$99i=C$99xt.curBindTexTarget,C$99n=C$99xt.curBindTexValue;C$99xt.bindTexture(C$99t,3553,C$99e);var C$99e=this.minFifter,C$99r=this.magFifter,C$99s=this.repeat?10497:33071,C$99a=C$99h.isPOT(this._w,this._h),C$99o=!1;switch(C$99a?(this.mipmap?-1!==C$99e||(C$99e=9987):-1!==C$99e||(C$99e=9729),-1!==C$99r||(C$99r=9729),C$99t.texParameteri(3553,10241,C$99e),C$99t.texParameteri(3553,10240,C$99r),C$99t.texParameteri(3553,10242,C$99s),C$99t.texParameteri(3553,10243,C$99s),this.mipmap&&C$99t.generateMipmap(3553)):(-1!==C$99r||(C$99r=9729),C$99t.texParameteri(3553,10241,C$99e=-1!==C$99e?C$99e:9729),C$99t.texParameteri(3553,10240,C$99r),C$99t.texParameteri(3553,10242,33071),C$99t.texParameteri(3553,10243,33071)),C$99t.pixelStorei(37441,!0),this._format){case 6407:case 6408:this._image instanceof Uint8Array?(6407==this._format&&C$99t.pixelStorei(C$99t.UNPACK_ALIGNMENT,1),C$99t.texImage2D(3553,0,this._format,this._w,this._h,0,this._format,5121,this._image)):(6407==this._format&&C$99t.pixelStorei(C$99t.UNPACK_ALIGNMENT,1),C$99t.texImage2D(3553,0,this._format,this._format,5121,this._image));break;case 6406:C$99o=!0,C$99t.texImage2D(3553,0,this._format,this._w,this._h,0,this._format,5121,this._image);break;case 35840:case 35841:case 35842:case 35843:case 33779:case 37815:case 37812:case 37821:case C$99c.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:C$99o=!0,C$99t.compressedTexImage2D(3553,0,this._format,this._w,this._h,0,this._image);break;default:console.error("\u6536\u5230\u5176\u4ed6\u7684\u7eb9\u7406\u7c7b\u578b\uff1a",this._format)}C$99t.pixelStorei(37441,!1),C$99i&&C$99n&&C$99xt.bindTexture(C$99t,C$99i,C$99n),this.uri||(this.uri=this._url),C$99o?this.memorySize=this._image.length:C$99a&&this.mipmap?this.memorySize=this._w*this._h*4*(1+1/3):this.memorySize=this._w*this._h*4,this._image.onload=null,this._image=null,this._recreateLock=!1},C$99he.recreateResource=function(){var C$99t=this;var C$99e;(this._image||null!=this._src&&""!==this._src)&&(this._needReleaseAgain=!1,this._image?this._recreateLock||(this._allowMerageInAtlas&&this._$5__enableMerageInAtlas?(this.memorySize=0,this._recreateLock=!1):this._createWebGlTexture(),this.completeCreate()):(this._recreateLock=!0,(C$99e=this)._image=new C$99u.window.Image,this._image.crossOrigin=0==this._src.indexOf("data:")?null:"",this._image.onload=function(){if(C$99e._needReleaseAgain)return C$99e._needReleaseAgain=!1,C$99e._image.onload=null,void(C$99e._image=null);C$99e._allowMerageInAtlas&&C$99e._enableMerageInAtlas?(C$99t.memorySize=0,C$99t._recreateLock=!1):C$99e._createWebGlTexture(),C$99e.completeCreate()},this._image.src=this._src))},C$99he.disposeResource=function(){this._recreateLock&&(this._needReleaseAgain=!0),this._source&&C$99c.mainContext.deleteTexture(this._source),this._source=null,this._image=null,this.memorySize=0},C$99he.onresize=function(){this._w=this._image.width,this._h=this._image.height,C$99U.enabled&&this._w<C$99U.atlasLimitWidth&&this._h<C$99U.atlasLimitHeight?this._allowMerageInAtlas=!0:this._allowMerageInAtlas=!1},C$99he.clearAtlasSource=function(){this._image=null},C$99s(0,C$99he,"format",function(){return this._format}),C$99s(0,C$99he,"enableMerageInAtlas",function(){return this._$5__enableMerageInAtlas},function(C$99t){this._$5__enableMerageInAtlas=C$99t}),C$99s(0,C$99he,"mipmap",function(){return this._mipmap}),C$99s(0,C$99he,"allowMerageInAtlas",function(){return this._allowMerageInAtlas}),C$99s(0,C$99he,"atlasSource",function(){return this._image}),C$99s(0,C$99he,"onload",null,function(C$99t){var C$99e=this;this._onload=C$99t,this._image&&(this._image.onload=null!=this._onload?function(){C$99e.onresize(),C$99e._onload()}:null)}),C$99s(0,C$99he,"onerror",null,function(C$99t){var C$99e=this;this._onerror=C$99t,this._image&&(this._image.onerror=null!=this._onerror?function(){C$99e._onerror()}:null)}),zoef7q);function zoef7q(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){if(this._format=0,this._mipmap=!1,this._allowMerageInAtlas=!1,this._enableMerageInAtlas=!1,this.repeat=!1,this._image=null,this.minFifter=0,void(this.magFifter=0)===C$99i&&(C$99i=6408),void 0===C$99n&&(C$99n=!0),zoef7q.__super.call(this,C$99t,C$99e),C$99t){if(this._format=C$99i,this._mipmap=C$99n,this.repeat=!1,this.minFifter=-1,this.magFifter=-1,"string"==typeof C$99t)this._url=C$99t,this._src=C$99t,this._image=new C$99u.window.Image,C$99e&&(C$99e.onload&&(this.onload=C$99e.onload),C$99e.onerror&&(this.onerror=C$99e.onerror),C$99e.onCreate&&C$99e.onCreate(this)),this._image.crossOrigin=C$99t&&0==C$99t.indexOf("data:")?null:"",C$99t&&(this._image.src=C$99t);else if(C$99t instanceof ArrayBuffer){this._src=C$99e,this._url=this._src;C$99n=new C$99d(C$99t);C$99n.readUTFBytes(4),C$99n.readUTFBytes(2),C$99n.getInt16(),C$99n.endian="bigEndian",this._w=C$99n.getInt16(),this._h=C$99n.getInt16(),C$99n.getInt16(),C$99n.getInt16(),this._image=new Uint8Array(C$99t,C$99n.pos),this._format=C$99c.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL,C$99U.enabled&&this._w<C$99U.atlasLimitWidth&&this._h<C$99U.atlasLimitHeight?this._allowMerageInAtlas=!0:this._allowMerageInAtlas=!1}else{if(!(C$99t instanceof Uint8Array))return this._src=C$99e,this._url=this._src,this._image=C$99t.source||C$99t,this._$5__enableMerageInAtlas=!1,void this.onresize();this._src=C$99e,this._url=this._src,this._w=C$99r,this._h=C$99s,this._image=C$99t,this._format=0===C$99i?C$99t.byteLength/(C$99r*C$99s)==4?6408:6407:C$99i}this._$5__enableMerageInAtlas=!0}}function ip9d$(C$99t,C$99e){this._floatArray32=null,this._vertexStride=0,ip9d$.__super.call(this),this._vertexStride=C$99t,this._bufferUsage=C$99e,this._bufferType=34962,C$99S.isFlash||(this._buffer=new ArrayBuffer(8)),this.getFloat32Array()}var C$99Jt;function g1683(C$99t){this._uint8Array=null,this._uint16Array=null,void 0===C$99t&&(C$99t=35044),g1683.__super.call(this),this._bufferUsage=C$99t,this._bufferType=34963,C$99S.isFlash||(this._buffer=new ArrayBuffer(8))}function zqo7fe(C$99t,C$99e,C$99i,C$99n){this._params2dQuick1=null,this._params2dQuick2=null,this._shaderValueWidth=NaN,this._shaderValueHeight=NaN,zqo7fe.__super.call(this,C$99t,C$99e,C$99i,C$99n)}var C$99te;function qfoe7(C$99t){qfoe7.__super.call(this,64),this.defines.add(64)}var C$99ee;function ukab(C$99t){this.u_blurX=!1,this.u_color=null,this.u_offset=null,this.u_strength=NaN,this.u_texW=0,this.u_texH=0,ukab.__super.call(this,9)}var C$99ie;function zdpf$(){this._maxsize=0,this._upload=!0,this._uploadSize=0,zdpf$.__super.call(this),this.lock=!0,this.uri="Buffer2D_"+this.id}var C$99ne;function vd$fz(C$99t,C$99e,C$99i,C$99n){if(this._curActTexIndex=0,this.tag={},this._program=null,this._params=null,this._paramsMap={},this._offset=0,vd$fz.__super.call(this),!C$99t||!C$99e)throw"Shader Error";this._id=++vd$fz._count,this._vs=C$99t,this._ps=C$99e,this._nameMap=C$99n||{},null!=C$99i&&(vd$fz.sharders[C$99i]=this)}function oqexy0(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this.offsetX=0,this.offsetY=0,oqexy0.__super.call(this),this.repeat=!0,this.mipmap=!1,this.minFifter=-1,this.magFifter=-1,this.atlasImage=C$99s,this.canvas=C$99t,this._ctx=C$99t.getContext("2d",void 0),this._w=C$99n,this._h=C$99r,this.offsetX=C$99e,this.offsetY=C$99i,this.src=C$99a,this._enableMerageInAtlas=!0,C$99U.enabled&&this._w<C$99U.atlasLimitWidth&&this._h<C$99U.atlasLimitHeight?this._allowMerageInAtlas=!0:this._allowMerageInAtlas=!1}function $fdvp9(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){void 0===C$99i&&(C$99i=6408),void 0===C$99n&&(C$99n=5121),void 0===C$99r&&(C$99r=34041),void 0===C$99s&&(C$99s=!1),void 0===C$99a&&(C$99a=!1),void 0===C$99o&&(C$99o=-1),void 0===C$99h&&(C$99h=1),$fdvp9.__super.call(this),this.uri="WebGLRenderTarget_"+this.id,this._w=C$99t,this._h=C$99e,this._surfaceFormat=C$99i,this._surfaceType=C$99n,this._depthStencilFormat=C$99r,this._mipMap=C$99s,this._repeat=C$99a,this._minFifter=C$99o,this._magFifter=C$99h}function m16w5h(C$99t,C$99e){this.CborderSize=12,m16w5h.__super.call(this),this.char=C$99t,this.isSpace=" "===C$99t,this.xs=C$99e.scaleX,this.ys=C$99e.scaleY,this.font=C$99e.font.toString(),this.fontSize=C$99e.font.size,this.fillColor=C$99e.fillColor,this.borderColor=C$99e.borderColor,this.lineWidth=C$99e.lineWidth,this.underLine=C$99e.underLine;var C$99i,C$99t=C$99S.isConchApp;C$99t?((C$99i=ConchTextCanvas)._source=ConchTextCanvas,C$99i._source.canvas=ConchTextCanvas):C$99i=C$99u.canvas.source,this.canvas=C$99i,this._enableMerageInAtlas=!0,this._ctx=C$99t?C$99i:this.canvas.getContext("2d",void 0);C$99e=C$99N.measureText(this.char,this.font);this.cw=C$99e.width*this.xs,this.ch=(C$99e.height||this.fontSize)*this.ys,this.onresize(this.cw+2*this.CborderSize,this.ch+2*this.CborderSize),this.texture=new C$99B(this)}function gjn8r3(){this.flipY=!0,this.alwaysChange=!1,gjn8r3.__super.call(this)}function sjra(){this._atlaser=null,this._flashCacheImage=null,this._flashCacheImageNeedFlush=!1,sjra.__super.call(this)}function x0ym_h(C$99t){this.a_color=null,this.u_pos=[0,0],x0ym_h.__super.call(this,4,0),this.position=[2,5126,!1,5*C$99mt.BYTES_PE,0],this.a_color=[3,5126,!1,5*C$99mt.BYTES_PE,2*C$99mt.BYTES_PE]}function bgn3rj(C$99t){this.u_colorMatrix=null,this.strength=0,this.blurInfo=null,this.colorMat=null,this.colorAlpha=null,this.texcoord=C$99wt._TEXCOORD,bgn3rj.__super.call(this,1,C$99t=void 0===C$99t?0:C$99t)}function e7zfop(C$99t){this.u_colorMatrix=null,this.strength=0,this.colorMat=null,this.colorAlpha=null,this.u_TexRange=[0,1,0,1],this.u_offset=[0,0],this.texcoord=C$99wt._TEXCOORD,e7zfop.__super.call(this,256,0)}function qm_0y(C$99t){qm_0y.__super.call(this,2,0),this.color=[]}function zp7od(C$99t){this.texcoord=null,this.offsetX=300,this.offsetY=0,zp7od.__super.call(this,512,0);var C$99e=8*C$99mt.BYTES_PE;this.position=[2,5126,!1,C$99e,0],this.texcoord=[2,5126,!1,C$99e,2*C$99mt.BYTES_PE],this.color=[4,5126,!1,C$99e,4*C$99mt.BYTES_PE]}function e0q_xy(){this._glBuffer=null,this._buffer=null,this._bufferType=0,this._bufferUsage=0,this._byteLength=0,e0q_xy.__super.call(this),e0q_xy._gl=C$99c.mainContext}function it92c4(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){this._type=0,this._svWidth=NaN,this._svHeight=NaN,this._preRenderTarget=null,this._alreadyResolved=!1,this._looked=!1,this._surfaceFormat=0,this._surfaceType=0,this._depthStencilFormat=0,this._mipMap=!1,this._repeat=!1,this._minFifter=0,this._magFifter=0,this._destroy=!1,void 0===C$99i&&(C$99i=6408),void 0===C$99n&&(C$99n=5121),void 0===C$99r&&(C$99r=34041),void 0===C$99s&&(C$99s=!1),void 0===C$99a&&(C$99a=!1),void 0===C$99o&&(C$99o=-1),void 0===C$99h&&(C$99h=-1),this._type=1,this._w=C$99t,this._h=C$99e,this._surfaceFormat=C$99i,this._surfaceType=C$99n,this._depthStencilFormat=C$99r,C$99S.isConchWebGL&&34041===this._depthStencilFormat&&(this._depthStencilFormat=33189),this._mipMap=C$99s,this._repeat=C$99a,this._minFifter=C$99o,this._magFifter=C$99h,this._createWebGLRenderTarget(),this.bitmap.lock=!0,it92c4.__super.call(this,this.bitmap,C$99B.INV_UV)}var C$99re;function zo70(){zo70.__super.call(this),this.lock=!0}function y_x0qe(){y_x0qe.__super.call(this,laya.webgl.utils.MeshTexture.const_stride,0,0),this.canReuse=!0,this.setAttributes(laya.webgl.utils.MeshTexture._fixattriInfo)}function fdpz7$(C$99t){this._preIsSameTextureShader=!1,this._isSameTexture=!0,this._texs=[],this._texsID=[],this._vbPos=[],fdpz7$.__super.call(this,C$99t=void 0===C$99t?1e4:C$99t)}function yq0_x(){this._matrix=new C$99w,this._matrix4=C$99mt.defaultMatrix4.concat(),yq0_x.__super.call(this,1e4),this.shaderValue=new C$99wt(0,0)}function ubskja(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._points=null,this._start=-1,this._repaint=!1,this.earcutTriangles=null,this._mat=C$99w.create(),this._points=C$99i.slice(0,C$99i.length),ubskja.__super.call(this,C$99t,C$99e,0,0,this._points.length/2,C$99n,C$99r,C$99s)}function my5w_h(C$99t,C$99e,C$99i,C$99n,C$99c){this._points=[];for(var C$99r=NaN,C$99s=NaN,C$99a=-1,C$99o=-1,C$99h=C$99i.length/2-1,C$99l=0;C$99l<C$99h;C$99l++)C$99r=C$99i[2*C$99l],C$99s=C$99i[2*C$99l+1],(.01<Math.abs(C$99a-C$99r)||.01<Math.abs(C$99o-C$99s))&&this._points.push(C$99r,C$99s),C$99a=C$99r,C$99o=C$99s;C$99r=C$99i[2*C$99h],C$99s=C$99i[2*C$99h+1],C$99a=this._points[0],C$99o=this._points[1],(.01<Math.abs(C$99a-C$99r)||.01<Math.abs(C$99o-C$99s))&&this._points.push(C$99r,C$99s),my5w_h.__super.call(this,C$99t,C$99e,0,0,this._points.length/2,0,C$99n,C$99c)}function bskjar(C$99t,C$99e,C$99i,C$99n,C$99r){this._points=[],this.rebuild(C$99i),bskjar.__super.call(this,C$99t,C$99e,0,0,0,C$99r,C$99n,C$99r,0)}function fe7zp(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){fe7zp.__super.call(this,C$99t,C$99e,C$99i,C$99n,40,C$99r,C$99s,C$99a)}function $9dicv(){$9dicv.__super.call(this,$9dicv.__name2int,$9dicv.__int2name,$9dicv.__int2nameMap)}function ctl2i4(C$99t,C$99e,C$99i,C$99n,C$99r){this._atlasCanvas=null,this._inAtlasTextureKey=null,this._inAtlasTextureBitmapValue=null,this._inAtlasTextureOriUVValue=null,this._InAtlasWebGLImagesKey=null,this._InAtlasWebGLImagesOffsetValue=null,ctl2i4.__super.call(this,C$99t,C$99e,C$99r),this._inAtlasTextureKey=[],this._inAtlasTextureBitmapValue=[],this._inAtlasTextureOriUVValue=[],this._InAtlasWebGLImagesKey={},this._InAtlasWebGLImagesOffsetValue=[],this._atlasCanvas=new C$99$t,this._atlasCanvas.uri="Atlaser.AtlasWebGLCanvas._atlasCanvas",(this._atlasCanvas._atlaser=this)._atlasCanvas.width=C$99i,this._atlasCanvas.height=C$99n,this._atlasCanvas.activeResource(),this._atlasCanvas.lock=!0}function $vdci(){this.data=null,$vdci.__super.call(this)}function xe7qo(C$99t,C$99e){xe7qo.__super.call(this,C$99t,C$99e)}function asku(C$99t,C$99e){this.size=[0,0],this.alpha=1,this.ALPHA=1,this.subID=0,this._cacheID=0,asku.__super.call(this),this.defines=new C$99Ct,this.position=asku._POSITION,this.mainID=C$99t,this.subID=C$99e,this.textureHost=null,this.texture=null,this.texture1=null,this.fillStyle=null,this.color=null,this.strokeStyle=null,this.colorAdd=null,this.glTexture=null,this.u_mmat2=null,this._cacheID=C$99t|C$99e,this._inClassCache=asku._cache[this._cacheID],0<C$99t&&!this._inClassCache&&(this._inClassCache=asku._cache[this._cacheID]=[],this._inClassCache._length=0),this.clear()}function pf7(C$99t){this._x=0,this._y=0,this._id=++pf7._COUNT,this._path=null,this._drawCount=1,this._maxNumEle=0,this._clear=!1,this._isMain=!1,this._atlasResourceChange=0,this._submits=null,this._curSubmit=null,this._ib=null,this._vb=null,this._nBlendType=0,this._saveMark=null,this._shader2D=null,this.meshlist=[],this.mId=-1,this.mHaveKey=!1,this.mHaveLineKey=!1,this.mX=0,this.mY=0,pf7.__super.call(this),this._width=99999999,this._height=99999999,this._clipRect=pf7.MAXCLIPRECT,this.mOutPoint,this._canvas=C$99t,this._canvas._addReference(),pf7._contextcount++,C$99S.isFlash?(this._ib=C$99Kt.create(35044),C$99gt.fillIBQuadrangle(this._ib,16)):this._ib=C$99Kt.QuadrangleIB,this.clear()}var C$99se;function rnagj(){rnagj.__super.call(this)}function d7fpzo(){}function cdv$(){}function rj8g3n(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=this;function xqy0_e(C$99t){var C$99e=[],C$99i=new C$99ae(C$99e);return C$99s._compileToTree(C$99i,C$99t.split("\n"),0,C$99e,C$99r),C$99i}var C$99a=C$99u.now();this._VS=xqy0_e(C$99e),this._PS=xqy0_e(C$99i),this._nameMap=C$99n,2<C$99u.now()-C$99a&&console.log("ShaderCompile use time:"+(C$99u.now()-C$99a)+"  size:"+C$99e.length+"/"+C$99i.length)}var C$99ae,C$99oe,C$99he;function i24tc9(){}function yx_0qe(C$99t,C$99e,C$99i){this._stride=0,this.vertNum=0,this.indexNum=0,this._applied=!1,this._vb=null,this._ib=null,this._vao=null,this._attribInfo=null,this._quadNum=0,this.canReuse=!1,this._stride=C$99t,this._vb=new C$99Zt(C$99t,35048),C$99e&&this._vb._resizeBuffer(C$99e,!1),this._ib=new C$99Kt,C$99i&&this._ib._resizeBuffer(C$99i,!1)}function c42lt(){}function qo0yxe(){}function d$i9vc(){}function _5hmyw(C$99t){this._index=0,this._size=14,this._italic=-2,_5hmyw._cache2=_5hmyw._cache2||[],this.setFont(C$99t||"14px Arial")}function xy_(){}var C$99le;function dp9$fv(){this._sourceStr=null}function tcv(){this._renderType=0,this._vb=null,this._ib=null,this._startIdx=0,this._numEle=0,this.shaderValue=null,this.blendType=0,this.proName=null,this.scope=null}function asbujk(){this.step=0,this.blendMode=null,this.level=0}function gajbkr(){this.submitIndex=0,this.submitLength=0,this.context=null,this.clipRect=new C$99M,this.screenRect=new C$99M}function jnrb(){this.offset=0,this.startIndex=0,this._mat=C$99w.create()}function qfoz(){this.variables={}}function q0y_xe(){this.fun=null,this.args=null}function e7zq0(C$99t){this._renderType=C$99t=void 0===C$99t?1e4:C$99t}function zpf$vd(C$99t){C$99t instanceof Float32Array?this.points=C$99t:C$99t instanceof Array&&(C$99t.length,this.points=new Float32Array(C$99t))}function rjbng(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this.lineWidth=C$99t,this.lineColor=C$99e,this.lineAlpha=C$99i,this.fillColor=C$99n,this.fillAlpha=C$99r,this.shape=C$99a,this.fill=C$99s}var C$99n;function jraskb(C$99t,C$99e,C$99i){this.i=null,this.x=null,this.y=null,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=null,this.i=C$99t,this.x=C$99e,this.y=C$99i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function whmy5_(){}function c9ti4(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){this.r0=0,this.fill=!0,this.r1=Math.PI/2,void 0===C$99h&&(C$99h=0),this.x=C$99t,this.y=C$99e,this.width=C$99i,this.height=C$99n,this.edges=C$99r,this.color=C$99s,this.borderWidth=C$99a,this.borderColor=C$99o}function p9di$v(){this.ib=null,this.vb=null,C$99c.mainContext,this.ib=C$99Kt.create(35048),this.vb=C$99Zt.create(8)}function f9d$vp(){this.mVBBuffer=null,this.mIBBuffer=null,this.mVBData=null,this.mIBData=null,this.mEleNum=0,this.mTexture=null,this.transform=null,this._vs=null,this._ps=null,this._indexStart=-1,this._verticles=null,this._uvs=null,this._tempMatrix=new C$99w}function vi9c(C$99t,C$99e,C$99i){this._value=0,this._name2int=C$99t,this._int2name=C$99e,this._int2nameMap=C$99i}function gn8jr3(){this.ALPHA=1,this.shaderType=0,this.defines=new C$99Ct}function r1gn8(){this.target=null,this.repaint=!1,this._width=NaN,this._height=NaN,this._sp=null,this._clipRect=new C$99M}function m0_yx(){}function _mxyq0(){this._matrix=new C$99w}function yh_m0x(){this._saveuse=0}function ajkgrb(){this._contextX=0,this._contextY=0,this._clipRect=new C$99M,this._rect=new C$99M,this._matrix=new C$99w}function yw_m5h(){this._clipRect=new C$99M}function xy0oeq(){}function _yxqe0(){this._x=0,this._y=0,this.dirty=!1,this.offset=0,this.count=0,this.geoStart=0,this.tempArray=[],this.closePath=!1,this.geomatrys=[],C$99c.mainContext,this.ib=C$99Kt.create(35048),this.vb=C$99Zt.create(5)}function ymxq_(C$99t){this._color=C$99f.create("black"),this.setValue(C$99t)}function eqz0o(){}function asrjb(){this.x=0,this.y=0,this.ret=!1,this.ret=!1,this.x=0,this.y=0}function barjks(C$99t,C$99e,C$99i,C$99n){this._currentAtlasCount=0,this._maxAtlaserCount=0,this._width=0,this._height=0,this._gridSize=0,this._gridNumX=0,this._gridNumY=0,this._init=!1,this._curAtlasIndex=0,this._setAtlasParam=!1,this._atlaserArray=null,this._needGC=!1,this._setAtlasParam=!0,this._width=C$99t,this._height=C$99e,this._gridSize=C$99i,this._maxAtlaserCount=C$99n,this._gridNumX=C$99t/C$99i,this._gridNumY=C$99e/C$99i,this._curAtlasIndex=0,this._atlaserArray=[]}var C$99i;function xhmy_0(C$99t,C$99e,C$99i){this._atlasID=0,this._width=0,this._height=0,this._texCount=0,this._rowInfo=null,this._cells=null,this._failSize=new C$99_e,void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),this._cells=null,this._rowInfo=null,this._init(C$99t,C$99e),this._atlasID=C$99i}var C$99ce,C$99_e,C$99$;function hx_m(){}function ksbjar(){}var C$99F;C$99g.__init([C$99ft,C$99$,C$99bt,C$99vt])}((window,document,tepfz7)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$99t,C$99e){"use strict";for(var C$99i in Object.defineProperty(C$99e,"__esModule",{value:!0}),tepfz7){var C$99n=tepfz7[C$99i];C$99n&&C$99n.__isclass&&(C$99e[C$99i]=C$99n)}}),function(C$99o,C$99i){C$99i.un,C$99i.uns;var C$99h=C$99i.static,C$99t=C$99i.class,C$99e=C$99i.getset,C$99l=(C$99i.__newvec,laya.utils.Browser,laya.display.css.CSSStyle),C$99u=laya.utils.ClassUtils,C$99c=(laya.events.Event,laya.utils.HTMLChar),C$99r=laya.net.Loader,C$99_=(laya.display.Node,laya.maths.Rectangle),C$99d=laya.renders.Render,C$99f=(laya.renders.RenderContext,laya.renders.RenderSprite,laya.display.Sprite),C$99p=laya.utils.Stat,C$99R=laya.display.Text,C$99m=laya.resource.Texture,C$99g=laya.net.URL,C$99v=laya.utils.Utils,C$99x=(C$99t(aksujb,"laya.html.utils.HTMLParse"),aksujb.parse=function(C$99t,C$99e,C$99i){C$99e=(C$99e="<root>"+C$99e.replace(/<br>/g,"<br/>")+"</root>").replace(aksujb.spacePattern,aksujb.char255);C$99e=C$99v.parseXMLFromString(C$99e);aksujb._parseXML(C$99t,C$99e.childNodes[0].childNodes,C$99i)},aksujb._parseXML=function(C$99t,C$99e,C$99i,C$99n){var C$99r=0,C$99s=0;var C$99a,C$99o,C$99h;if(C$99e.join||C$99e.item)for(C$99r=0,C$99s=C$99e.length;C$99r<C$99s;++C$99r)aksujb._parseXML(C$99t,C$99e[C$99r],C$99i,C$99n);else if(3!=C$99e.nodeType){if("#comment"!=(C$99o=C$99e.nodeName.toLowerCase()))if(C$99a=C$99u.getInstance(C$99o)){(C$99a=C$99t.addChild(C$99a)).URI=C$99i,C$99a.href=C$99n;var C$99l=C$99e.attributes;if(C$99l&&0<C$99l.length)for(C$99r=0,C$99s=C$99l.length;C$99r<C$99s;++C$99r){var C$99c=C$99l[C$99r],C$99_=C$99c.nodeName,C$99c=C$99c.value;C$99a._setAttributes(C$99_,C$99c)}aksujb._parseXML(C$99a,C$99e.childNodes,C$99i,C$99a.href)}else aksujb._parseXML(C$99t,C$99e.childNodes,C$99i,C$99n)}else C$99t instanceof laya.html.dom.HTMLDivElement?(null==C$99e.nodeName&&(C$99e.nodeName="#text"),C$99o=C$99e.nodeName.toLowerCase(),0<(C$99h=C$99e.textContent.replace(/^\s+|\s+$/g,"")).length&&(C$99a=C$99u.getInstance(C$99o))&&(C$99t.addChild(C$99a),C$99a.innerTEXT=C$99h.replace(aksujb.char255AndOneSpacePattern," "))):0<(C$99h=C$99e.textContent.replace(/^\s+|\s+$/g,"")).length&&(C$99t.innerTEXT=C$99h.replace(aksujb.char255AndOneSpacePattern," "))},aksujb.char255=String.fromCharCode(255),aksujb.spacePattern=/&nbsp;|&#160;/g,aksujb.char255AndOneSpacePattern=new RegExp(String.fromCharCode(255)+"|(\\s+)","g"),aksujb),C$99y=(C$99t(rgbaj,"laya.html.utils.Layout"),rgbaj.later=function(C$99t){null==rgbaj._will&&(rgbaj._will=[],C$99i.stage.frameLoop(1,null,function(){if(!(rgbaj._will.length<1)){for(var C$99t=0;C$99t<rgbaj._will.length;C$99t++)laya.html.utils.Layout.layout(rgbaj._will[C$99t]);rgbaj._will.length=0}})),rgbaj._will.push(C$99t)},rgbaj.layout=function(C$99t){if(!C$99t||!C$99t._style)return null;if(0==(512&C$99t._style._type))return null;C$99t.getStyle()._type&=-513;var C$99e=rgbaj._multiLineLayout(C$99t);return C$99d.isConchApp&&C$99t.layaoutCallNative&&C$99t.layaoutCallNative(),C$99e},rgbaj._multiLineLayout=function(C$99t){if(C$99R.RightToLeft)return rgbaj._multiLineLayout2(C$99t);var C$99c=[];C$99t._addChildsToLayout(C$99c);var C$99e,C$99_,C$99i,C$99n=0,C$99u=C$99c.length,C$99r=C$99t._getCSSStyle(),C$99d=C$99r.letterSpacing,C$99f=C$99r.leading,C$99p=C$99r.lineHeight,C$99m=C$99r._widthAuto()||!C$99r.wordWrap,C$99g=C$99m?999999:C$99t.width,C$99v=(C$99t.height,0),C$99x=C$99r.italic?C$99r.fontSize/3:0,C$99y=C$99r._getAlign(),C$99b=C$99r._getValign(),C$99w=0!==C$99b||0!==C$99y||0!=C$99p,C$99s=0,C$99a=0,C$99T=0,C$99M=0,C$99S=[],C$99o=C$99S[0]=new C$99P,C$99h=!1,C$99C=!1;C$99o.h=0,C$99r.italic&&(C$99g-=C$99r.fontSize/3);var C$99D=0,C$99E=!0;function qoz7e(){C$99o.y=C$99a,C$99a+=C$99o.h+C$99f,0==C$99o.h&&(C$99a+=C$99p),C$99o.mWidth=C$99D,C$99D=0,C$99o=new C$99P,C$99S.push(C$99o),C$99o.h=0,C$99h=!(C$99E=!(C$99s=0))}for(C$99n=0;C$99n<C$99u;C$99n++)if(null!=(C$99e=C$99c[C$99n]))if(C$99E=!1,C$99e instanceof laya.html.dom.HTMLBrElement)qoz7e(),C$99o.y=C$99a;else{if(C$99e._isChar()){if((C$99i=C$99e).isWord)C$99h=C$99C||"\n"===C$99i.char,C$99o.wordStartIndex=C$99o.elements.length;else{if(C$99T=C$99i.width+C$99i.style.letterSpacin,0<C$99S.length&&C$99g<C$99s+C$99T&&0<C$99o.wordStartIndex){var C$99l;C$99l=C$99o.elements.length-C$99o.wordStartIndex+1,C$99o.elements.length=C$99o.wordStartIndex,C$99n-=C$99l,qoz7e();continue}C$99h=!1,C$99D+=C$99i.width}C$99T=C$99i.width+C$99d,C$99M=C$99i.height,C$99C=!1,(C$99h=C$99h||C$99g<C$99s+C$99T)&&qoz7e(),C$99o.minTextHeight=Math.min(C$99o.minTextHeight,C$99e.height)}else C$99l=C$99e._getCSSStyle(),C$99i=C$99e,C$99_=C$99l.padding,0===C$99l._getCssFloat()||(C$99w=!0),C$99h=C$99C||C$99l.lineElement,C$99T=C$99i.width*C$99i._style._tf.scaleX+C$99_[1]+C$99_[3]+C$99d,C$99M=C$99i.height*C$99i._style._tf.scaleY+C$99_[0]+C$99_[2],C$99C=C$99l.lineElement,(C$99h=C$99h||C$99g<C$99s+C$99T&&C$99l.wordWrap)&&qoz7e();C$99o.elements.push(C$99e),C$99o.h=Math.max(C$99o.h,C$99M),C$99e.x=C$99s,C$99e.y=C$99a,C$99s+=C$99T,C$99o.w=C$99s-C$99d,C$99o.y=C$99a,C$99v=Math.max(C$99s+C$99x,C$99v)}else C$99E||(C$99s+=rgbaj.DIV_ELEMENT_PADDING),C$99o.wordStartIndex=C$99o.elements.length;if(C$99a=C$99o.y+C$99o.h,C$99w){var C$99A=0,C$99I=C$99g;for(C$99m&&0<C$99t.width&&(C$99I=C$99t.width),C$99n=0,C$99u=C$99S.length;C$99n<C$99u;C$99n++)C$99S[C$99n].updatePos(0,C$99I,C$99n,C$99A,C$99y,C$99b,C$99p),C$99A+=Math.max(C$99p,C$99S[C$99n].h+C$99f);C$99a=C$99A}return C$99m&&(C$99t.width=C$99v),C$99a>C$99t.height&&(C$99t.height=C$99a),[C$99v,C$99a]},rgbaj._multiLineLayout2=function(C$99c){var C$99_=[];C$99c._addChildsToLayout(C$99_);var C$99t,C$99u,C$99e,C$99i=0,C$99d=C$99_.length,C$99n=C$99c._getCSSStyle(),C$99f=C$99n.letterSpacing,C$99p=C$99n.leading,C$99m=C$99n.lineHeight,C$99g=C$99n._widthAuto()||!C$99n.wordWrap,C$99v=C$99g?999999:C$99c.width,C$99x=(C$99c.height,0),C$99y=C$99n.italic?C$99n.fontSize/3:0,C$99b=2-C$99n._getAlign(),C$99w=C$99n._getValign(),C$99T=0!==C$99w||0!=C$99b||0!=C$99m,C$99r=0,C$99s=0,C$99M=0,C$99S=0,C$99a=[],C$99o=C$99a[0]=new C$99P,C$99h=!1,C$99C=!1;C$99o.h=0,C$99n.italic&&(C$99v-=C$99n.fontSize/3);var C$99D=0,C$99E=!0;function bukjs(){C$99o.y=C$99s,C$99s+=C$99o.h+C$99p,0==C$99o.h&&(C$99s+=C$99m),C$99o.mWidth=C$99D,C$99D=0,C$99o=new C$99P,C$99a.push(C$99o),C$99o.h=0,C$99h=!(C$99E=!(C$99r=0))}for(C$99i=0;C$99i<C$99d;C$99i++)if(null!=(C$99t=C$99_[C$99i]))if(C$99E=!1,C$99t instanceof laya.html.dom.HTMLBrElement)bukjs(),C$99o.y=C$99s;else{if(C$99t._isChar()){if((C$99e=C$99t).isWord)C$99h=C$99C||"\n"===C$99e.char,C$99o.wordStartIndex=C$99o.elements.length;else{if(0<C$99a.length&&C$99v<C$99r+C$99M&&0<C$99o.wordStartIndex){var C$99l;C$99l=C$99o.elements.length-C$99o.wordStartIndex+1,C$99o.elements.length=C$99o.wordStartIndex,C$99i-=C$99l,bukjs();continue}C$99h=!1,C$99D+=C$99e.width}C$99M=C$99e.width+C$99f,C$99S=C$99e.height,C$99C=!1,(C$99h=C$99h||C$99v<C$99r+C$99M)&&bukjs(),C$99o.minTextHeight=Math.min(C$99o.minTextHeight,C$99t.height)}else C$99l=C$99t._getCSSStyle(),C$99e=C$99t,C$99u=C$99l.padding,0===C$99l._getCssFloat()||(C$99T=!0),C$99h=C$99C||C$99l.lineElement,C$99M=C$99e.width*C$99e._style._tf.scaleX+C$99u[1]+C$99u[3]+C$99f,C$99S=C$99e.height*C$99e._style._tf.scaleY+C$99u[0]+C$99u[2],C$99C=C$99l.lineElement,(C$99h=C$99h||C$99v<C$99r+C$99M&&C$99l.wordWrap)&&bukjs();C$99o.elements.push(C$99t),C$99o.h=Math.max(C$99o.h,C$99S),C$99t.x=C$99r,C$99t.y=C$99s,C$99r+=C$99M,C$99o.w=C$99r-C$99f,C$99o.y=C$99s,C$99x=Math.max(C$99r+C$99y,C$99x)}else C$99E||(C$99r+=rgbaj.DIV_ELEMENT_PADDING),C$99o.wordStartIndex=C$99o.elements.length;if(C$99s=C$99o.y+C$99o.h,C$99T){var C$99A=0,C$99I=C$99v;for(C$99i=0,C$99d=C$99a.length;C$99i<C$99d;C$99i++)C$99a[C$99i].updatePos(0,C$99I,C$99i,C$99A,C$99b,C$99w,C$99m),C$99A+=Math.max(C$99m,C$99a[C$99i].h+C$99p);C$99s=C$99A}for(C$99g&&(C$99c.width=C$99x),C$99s>C$99c.height&&(C$99c.height=C$99s),C$99i=0,C$99d=C$99a.length;C$99i<C$99d;C$99i++)C$99a[C$99i].revertOrder(C$99v);return[C$99x,C$99s]},rgbaj._will=null,rgbaj.DIV_ELEMENT_PADDING=0,rgbaj),C$99P=(C$99t(eq70,"laya.html.utils.LayoutLine"),(C$99s=eq70.prototype).updatePos=function(C$99c,C$99t,C$99_,C$99e,C$99i,C$99n,C$99r){var C$99s,C$99a=0;0<this.elements.length&&(C$99a=(C$99s=this.elements[this.elements.length-1]).x+C$99s.width-this.elements[0].x);var C$99o=0,C$99u=NaN;1===C$99i&&(C$99o=(C$99t-C$99a)/2),2===C$99i&&(C$99o=C$99t-C$99a),0===C$99r||0!=C$99n||(C$99n=1);for(var C$99h=0,C$99d=this.elements.length;C$99h<C$99d;C$99h++){var C$99f=(C$99s=this.elements[C$99h])._getCSSStyle();switch(0!==C$99o&&(C$99s.x+=C$99o),C$99f._getValign()){case 0:C$99s.y=C$99e;break;case 1:var C$99l=0;C$99l=((C$99l=99999!=this.minTextHeight?this.minTextHeight:C$99l)+C$99r)/2;C$99l=Math.max(C$99l,this.h),laya.html.dom.HTMLImageElement,C$99u=C$99e+C$99l-C$99s.height,C$99s.y=C$99u;break;case 2:C$99s.y=C$99e+(C$99r-C$99s.height)}}},C$99s.revertOrder=function(C$99t){var C$99e;if(0<this.elements.length){var C$99i,C$99n=0;for(C$99i=this.elements.length,C$99n=0;C$99n<C$99i;C$99n++)(C$99e=this.elements[C$99n]).x=C$99t-C$99e.x-C$99e.width}},eq70),C$99n=(C$99t(m_h56,"laya.html.dom.HTMLElement",C$99w=C$99f),(C$99s=m_h56.prototype).layaoutCallNative=function(){var C$99t=0;if(this._childs&&0<(C$99t=this._childs.length))for(var C$99e=0;C$99e<C$99t;C$99e++)this._childs[C$99e].layaoutCallNative&&this._childs[C$99e].layaoutCallNative();var C$99i=this._getWords();C$99i?laya.html.dom.HTMLElement.fillWords(this,C$99i,0,0,this.style.font,this.style.color,this.style.underLine):this.graphics.clear()},C$99s.appendChild=function(C$99t){return this.addChild(C$99t)},C$99s._getWords2=function(){var C$99t=this._text.text;if(!C$99t||0===C$99t.length)return null;var C$99e,C$99i,C$99n=0,C$99r=0;if(this._text.drawWords)C$99i=this._text.drawWords;else{for(C$99r=(C$99e=C$99t.split(" ")).length-1,C$99i=[],C$99n=0;C$99n<C$99r;C$99n++)C$99i.push(C$99e[C$99n]," ");0<=C$99r&&C$99i.push(C$99e[C$99r]),this._text.drawWords=C$99i}var C$99s=this._text.words;if(C$99s&&C$99s.length===C$99i.length)return C$99s;null===C$99s&&(this._text.words=C$99s=[]),C$99s.length=C$99i.length;var C$99a=this.style,C$99o=C$99a.font;for(C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99n++){C$99h=C$99v.measureText(C$99i[C$99n],C$99o);var C$99h=C$99s[C$99n]=new C$99c(C$99i[C$99n],C$99h.width,C$99h.height||C$99a.fontSize,C$99a);var C$99l;1<C$99h.char.length&&(C$99h.charNum=C$99h.char),this.href&&(C$99l=new C$99f,this.addChild(C$99l),C$99h.setSprite(C$99l))}return C$99s},C$99s._getWords=function(){if(!C$99R.CharacterCache)return this._getWords2();var C$99t=this._text.text;if(!C$99t||0===C$99t.length)return null;var C$99e=this._text.words;if(C$99e&&C$99e.length===C$99t.length)return C$99e;null===C$99e&&(this._text.words=C$99e=[]),C$99e.length=C$99t.length;for(var C$99i=this.style,C$99n=C$99i.font,C$99r=0,C$99s=C$99t.length;C$99r<C$99s;C$99r++){var C$99a,C$99o;(C$99a=C$99v.measureText(C$99t.charAt(C$99r),C$99n))?(C$99a=C$99e[C$99r]=new C$99c(C$99t.charAt(C$99r),C$99a.width,C$99a.height||C$99i.fontSize,C$99i),this.href&&(C$99o=new C$99f,this.addChild(C$99o),C$99a.setSprite(C$99o))):console.warn("_getWords size is null"+C$99t.charAt(C$99r),C$99n)}return C$99e},C$99s.showLinkSprite=function(){var C$99t=this._text.words;if(C$99t)for(var C$99e,C$99i,C$99n=[],C$99r=0;C$99r<C$99t.length;C$99r++)C$99i=C$99t[C$99r],(C$99e=new C$99f).graphics.drawRect(0,0,C$99i.width,C$99i.height,"#ff0000"),C$99e.width=C$99i.width,C$99e.height=C$99i.height,this.addChild(C$99e),C$99n.push(C$99e)},C$99s._layoutLater=function(){var C$99t=this.style;512&C$99t._type||(C$99t.widthed(this)&&(0<this._childs.length||null!=this._getWords())&&C$99t.block?(C$99y.later(this),C$99t._type|=512):this.parent&&this.parent._layoutLater())},C$99s._setAttributes=function(C$99t,C$99e){switch(C$99t){case"style":return void this.style.cssText(C$99e);case"class":return void(this.className=C$99e)}C$99w.prototype._setAttributes.call(this,C$99t,C$99e)},C$99s.updateHref=function(){if(null!=this._href){var C$99t=this._getWords();if(C$99t)for(var C$99e,C$99i,C$99n=0;C$99n<C$99t.length;C$99n++)(C$99i=(C$99e=C$99t[C$99n]).getSprite())&&(C$99i.size(C$99e.width,C$99e.height),C$99i.on("click",this,this.onLinkHandler))}},C$99s.onLinkHandler=function(C$99t){if("click"===C$99t.type)for(var C$99e=this;C$99e;)C$99e.event("link",[this.href]),C$99e=C$99e.parent},C$99s.formatURL=function(C$99t){return this.URI?C$99g.formatURL(C$99t,this.URI?this.URI.path:null):C$99t},C$99e(0,C$99s,"href",function(){return this._href},function(C$99t){null!=(this._href=C$99t)&&(this._getCSSStyle().underLine=1,this.updateHref())}),C$99e(0,C$99s,"color",null,function(C$99t){this.style.color=C$99t}),C$99e(0,C$99s,"onClick",null,function(C$99t){C$99i._runScript("fn=function(event){"+C$99t+";}"),this.on("click",this,void 0)}),C$99e(0,C$99s,"id",null,function(C$99t){C$99b.document.setElementById(C$99t,this)}),C$99e(0,C$99s,"innerTEXT",function(){return this._text.text},function(C$99t){this.text=C$99t}),C$99e(0,C$99s,"style",function(){return this._style}),C$99e(0,C$99s,"text",function(){return this._text.text},function(C$99t){this._text==m_h56._EMPTYTEXT?this._text={text:C$99t,words:null}:(this._text.text=C$99t,this._text.words&&(this._text.words.length=0)),C$99d.isConchApp&&this.layaoutCallNative(),this._renderType|=2048,this.repaint(),this.updateHref()}),C$99e(0,C$99s,"parent",C$99w.prototype._$get_parent,function(C$99t){var C$99e;C$99t instanceof laya.html.dom.HTMLElement&&(C$99e=C$99t,this.URI||(this.URI=C$99e.URI),this.style.inherit(C$99e.style)),C$99i.superSet(C$99f,this,"parent",C$99t)}),C$99e(0,C$99s,"className",null,function(C$99t){this.style.attrs(C$99b.document.styleSheets["."+C$99t])}),m_h56.fillWords=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){C$99t.graphics.clear();for(var C$99o=0,C$99h=C$99e.length;C$99o<C$99h;C$99o++){var C$99l=C$99e[C$99o];C$99t.graphics.fillText(C$99l.char,C$99l.x+C$99i,C$99l.y+C$99n,C$99r,C$99s,"left",C$99a)}},m_h56._EMPTYTEXT={text:null,words:null},m_h56),C$99s=(C$99t(pd9f$,"laya.html.dom.HTMLBrElement",C$99n),C$99t(fvzpd,"laya.html.dom.HTMLDivElement",C$99s=C$99n),(C$99a=fvzpd.prototype).appendHTML=function(C$99t){C$99x.parse(this,C$99t,this.URI),this.layout()},C$99a._addChildsToLayout=function(C$99e){var C$99t=this._getWords();if(null==C$99t&&0==this._childs.length)return!1;C$99t&&C$99t.forEach(function(C$99t){C$99e.push(C$99t)});for(var C$99i=!0,C$99n=0,C$99r=this._childs.length;C$99n<C$99r;C$99n++){var C$99s=this._childs[C$99n];C$99i?C$99i=!1:C$99e.push(null),C$99s._addToLayout(C$99e)}return!0},C$99a._addToLayout=function(C$99t){this.layout()},C$99a.layout=function(){var C$99t,C$99e;this.style&&(this.style._type|=512,(C$99t=C$99y.layout(this))&&(this._$P.mHtmlBounds||this._set$P("mHtmlBounds",new C$99_),(C$99e=this._$P.mHtmlBounds).x=C$99e.y=0,C$99e.width=this.contextWidth=C$99t[0],C$99e.height=this.contextHeight=C$99t[1],this.setBounds(C$99e)))},C$99e(0,C$99a,"height",function(){return this._height||this.contextHeight},C$99s.prototype._$set_height),C$99e(0,C$99a,"innerHTML",null,function(C$99t){this.destroyChildren(),this.appendHTML(C$99t)}),C$99e(0,C$99a,"width",function(){return this._width||this.contextWidth},function(C$99t){var C$99e;C$99e=0===C$99t?C$99t!=this._width:C$99t!=this.width,C$99i.superSet(C$99n,this,"width",C$99t),C$99e&&this.layout()}),fvzpd),C$99b=(C$99t(jbasku,"laya.html.dom.HTMLDocument",C$99n),(C$99a=jbasku.prototype).getElementById=function(C$99t){return this.all[C$99t]},C$99a.setElementById=function(C$99t,C$99e){this.all[C$99t]=C$99e},C$99h(jbasku,["document",function(){return this.document=new jbasku}]),jbasku);function jbasku(){this.all=[],this.styleSheets=C$99l.styleSheets,jbasku.__super.call(this)}function fvzpd(){this.contextHeight=NaN,this.contextWidth=NaN,fvzpd.__super.call(this),this.style.block=!0,this.style.lineElement=!0,this.style.width=200,this.style.height=200}function pd9f$(){pd9f$.__super.call(this),this.style.lineElement=!0,this.style.block=!0}function m_h56(){this.URI=null,this._href=null,m_h56.__super.call(this),this._text=m_h56._EMPTYTEXT,this.setStyle(new C$99l(this)),this._getCSSStyle().valign="middle",this.mouseEnabled=!0}var C$99w;function eq70(){this.x=0,this.y=0,this.w=0,this.h=0,this.wordStartIndex=0,this.minTextHeight=99999,this.mWidth=0,this.elements=[]}var C$99s;function rgbaj(){}function aksujb(){}function kjrsab(){kjrsab.__super.call(this),this._getCSSStyle().valign="middle"}function itc24l(){itc24l.__super.call(this),this.visible=!1}function dfvpz$(){this.type=null,dfvpz$.__super.call(this),this.visible=!1}function z$dpfv(){this._tex=null,this._url=null,this._renderArgs=[],z$dpfv.__super.call(this),this.style.block=!0}var C$99a;C$99t(z$dpfv,"laya.html.dom.HTMLImageElement",C$99n),(C$99a=z$dpfv.prototype)._addToLayout=function(C$99t){this._style.absolute||C$99t.push(this)},C$99a.render=function(C$99t,C$99e,C$99i){!this._tex||!this._tex.loaded||!this._tex.loaded||this._width<1||this._height<1||(C$99p.spriteCount++,this._renderArgs[0]=this._tex,this._renderArgs[1]=this.x,this._renderArgs[2]=this.y,this._renderArgs[3]=this.width||this._tex.width,this._renderArgs[4]=this.height||this._tex.height,C$99t.ctx.drawTexture2(C$99e,C$99i,this.style.translateX,this.style.translateY,this.transform,this.style.alpha,this.style.blendMode,this._renderArgs))},C$99a.layaoutCallNative=function(){var C$99t=0;if(this._childs&&0<(C$99t=this._childs.length))for(var C$99e=0;C$99e<C$99t;C$99e++)this._childs[C$99e].layaoutCallNative&&this._childs[C$99e].layaoutCallNative()},C$99e(0,C$99a,"width",function(){return this.autoSize?this.getSelfBounds().width:this._width},function(C$99t){this._width!==C$99t&&(this._width=C$99t,this._style.width=C$99t,this.repaint())}),C$99e(0,C$99a,"height",function(){return this.autoSize?this.getSelfBounds().height:this._height},function(C$99t){this._height!==C$99t&&(this._height=C$99t,this._style.height=C$99t,this.repaint())}),C$99a.destroy=function(){null!=this._tex&&(this._tex.off("loaded",this,this.onloaded),C$99r.clearCache(this,this._url),this._tex=null),C$99n.prototype.destroy.call(this)},C$99a.onloaded=function(){var C$99t=this._style;C$99t&&!C$99t.widthed(this)&&this._width!=this._tex.width&&(this.width=this._tex.width,this.parent&&this.parent._layoutLater()),C$99t&&!C$99t.heighted(this)&&this._height!=this._tex.height&&(this.height=this._tex.height,this.parent&&this.parent._layoutLater()),C$99d.isConchApp&&(this._renderArgs[0]=this._tex,this._renderArgs[1]=this.x,this._renderArgs[2]=this.y,this._renderArgs[3]=this.width||this._tex.width,this._renderArgs[4]=this.height||this._tex.height,this.graphics.drawTexture(this._tex,0,0,this._renderArgs[3],this._renderArgs[4])),this.repaint(),this.parentRepaint()},C$99a._loadImageComplete=function(C$99t,C$99e,C$99i){var C$99n;this._destroyed||(null!=C$99i?(C$99i instanceof ArrayBuffer?(C$99n=new DataView(C$99i),new laya.webgl.resource.WebGLImage(new Uint8Array(C$99i,8),C$99t,0,!1,C$99n.getUint32(0),C$99n.getUint32(4))):C$99i instanceof C$99m?(C$99r.imgMgrSet[C$99t]=C$99e,C$99o.imgMgrLock(C$99t,C$99r.imgMgrSet[C$99t]),this._url=C$99t,this._tex=C$99i,C$99r.keepCache(this,C$99t),C$99r.cacheRes(C$99t,this._tex)):(C$99n=-1!=C$99t.indexOf(".png",C$99t.length-4)?6408:6407,new laya.webgl.resource.WebGLImage(C$99i,C$99t,C$99n,!1,C$99i.width,C$99i.height)),this.onloaded()):this.event("error","Load image failed"))},C$99e(0,C$99a,"src",null,function(C$99t){C$99t=this.formatURL(C$99t),this._url!=C$99t&&(null!=this._tex&&(C$99r.clearCache(this,this._url),this._tex.off("loaded",this,this.onloaded)),this._url=C$99t,(this._tex=C$99r.getRes(C$99t))?(C$99r.keepCache(this,C$99t),this.onloaded()):C$99o.imgMgrLoad(C$99t,this._loadImageComplete.bind(this),2,!1))}),C$99t(dfvpz$,"laya.html.dom.HTMLLinkElement",C$99h=C$99n),(C$99a=dfvpz$.prototype)._onload=function(C$99t){"text/css"===this.type&&C$99l.parseCSS(C$99t,this.URI)},C$99e(0,C$99a,"href",C$99h.prototype._$get_href,function(C$99t){var C$99e=this;C$99t=this.formatURL(C$99t),this.URI=new C$99g(C$99t);var C$99i=new C$99r;C$99i.once("complete",null,function(C$99t){C$99e._onload(C$99t)}),C$99i.load(C$99t,"text")}),dfvpz$._cuttingStyle=new RegExp("((@keyframes[\\s\\t]+|)(.+))[\\t\\n\\r\\s]*{","g"),C$99t(itc24l,"laya.html.dom.HTMLStyleElement",C$99a=C$99n),C$99e(0,itc24l.prototype,"text",C$99a.prototype._$get_text,function(C$99t){C$99l.parseCSS(C$99t,null)}),C$99t(kjrsab,"laya.html.dom.HTMLIframeElement",C$99h=C$99s),C$99e(0,kjrsab.prototype,"href",C$99h.prototype._$get_href,function(C$99i){var C$99n=this;C$99i=this.formatURL(C$99i);var C$99t=new C$99r;C$99t.once("complete",null,function(C$99t){var C$99e=C$99n.URI;C$99n.URI=new C$99g(C$99i),C$99n.innerHTML=C$99t,C$99e&&(C$99n.URI=C$99e)}),C$99t.load(C$99i,"text")})}(window,(document,tepfz7)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$99t,C$99e){"use strict";for(var C$99i in Object.defineProperty(C$99e,"__esModule",{value:!0}),tepfz7){var C$99n=tepfz7[C$99i];C$99n&&C$99n.__isclass&&(C$99e[C$99i]=C$99n)}}),function(C$99s,C$99f){C$99f.un,C$99f.uns;var C$99a=C$99f.static,C$99t=C$99f.class,C$99e=C$99f.getset,C$99o=(C$99f.__newvec,laya.display.Animation),C$99m=(laya.utils.Browser,laya.utils.ClassUtils),C$99h=laya.filters.ColorFilter,C$99l=laya.utils.Ease,C$99c=laya.events.Event,C$99_=(laya.events.EventDispatcher,laya.display.css.Font),C$99u=laya.display.FrameAnimation,C$99i=laya.display.Graphics,C$99g=laya.utils.Handler,C$99v=laya.display.Input,C$99p=laya.net.Loader,C$99x=(laya.display.Node,laya.maths.Point),C$99y=laya.maths.Rectangle,C$99b=laya.renders.Render,C$99w=laya.display.Sprite,C$99T=laya.display.Text,C$99M=laya.resource.Texture,C$99S=laya.utils.Tween,C$99C=laya.utils.Utils,C$99D=laya.utils.WeakObject;C$99f.interface("laya.ui.IItem"),C$99f.interface("laya.ui.ISelect"),C$99f.interface("laya.ui.IRender"),C$99f.interface("laya.ui.IComponent"),C$99f.interface("laya.ui.IBox","IComponent");C$99t(t4i2lc,"laya.ui.LayoutStyle"),C$99a(t4i2lc,["EMPTY",function(){return this.EMPTY=new t4i2lc}]);var C$99E=t4i2lc,C$99A=(C$99t(rjnb,"laya.ui.Styles"),rjnb.labelColor="#000000",rjnb.buttonStateNum=3,rjnb.scrollBarMinNum=15,rjnb.scrollBarDelayTime=500,C$99a(rjnb,["defaultSizeGrid",function(){return this.defaultSizeGrid=[4,4,4,4,0]},"labelPadding",function(){return this.labelPadding=[2,2,2,2]},"inputLabelPadding",function(){return this.inputLabelPadding=[1,1,1,3]},"buttonLabelColors",function(){return this.buttonLabelColors=["#32556b","#32cc6b","#ff0000","#C0C0C0"]},"comboBoxItemColors",function(){return this.comboBoxItemColors=["#5e95b6","#ffffff","#000000","#8fa4b1","#ffffff"]}]),rjnb),C$99I=(C$99t(nrjagb,"laya.ui.UIUtils"),nrjagb.fillArray=function(C$99t,C$99e,C$99i){var C$99n=C$99t.concat();if(C$99e)for(var C$99r=C$99e.split(","),C$99s=0,C$99a=Math.min(C$99n.length,C$99r.length);C$99s<C$99a;C$99s++){var C$99o=C$99r[C$99s];C$99n[C$99s]="true"==C$99o||"false"!=C$99o&&C$99o,null!=C$99i&&(C$99n[C$99s]=C$99i(C$99o))}return C$99n},nrjagb.toColor=function(C$99t){return C$99C.toHexColor(C$99t)},nrjagb.gray=function(C$99t,C$99e){(C$99e=void 0===C$99e?!0:C$99e)?nrjagb.addFilter(C$99t,nrjagb.grayFilter):nrjagb.clearFilter(C$99t,C$99h)},nrjagb.addFilter=function(C$99t,C$99e){var C$99i=C$99t.filters||[];C$99i.push(C$99e),C$99t.filters=C$99i},nrjagb.clearFilter=function(C$99t,C$99e){var C$99i=C$99t.filters;if(null!=C$99i&&0<C$99i.length){for(var C$99n=C$99i.length-1;-1<C$99n;C$99n--){var C$99r=C$99i[C$99n];C$99f.__typeof(C$99r,C$99e)&&C$99i.splice(C$99n,1)}C$99t.filters=C$99i}},nrjagb._getReplaceStr=function(C$99t){return nrjagb.escapeSequence[C$99t]},nrjagb.adptString=function(C$99t){return C$99t.replace(/\\(\w)/g,nrjagb._getReplaceStr)},nrjagb.getBindFun=function(C$99t){var C$99e=nrjagb._funMap.get(C$99t);var C$99i;return null==C$99e&&(C$99i="(function(data){if(data==null)return;with(data){try{\nreturn "+('"'+C$99t+'"').replace(/^"\${|}"$/g,"").replace(/\${/g,'"+').replace(/}/g,'+"')+"\n}catch(e){}}})",C$99e=C$99f._runScript(C$99i),nrjagb._funMap.set(C$99t,C$99e)),C$99e},C$99a(nrjagb,["grayFilter",function(){return this.grayFilter=new C$99h([.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0])},"escapeSequence",function(){return this.escapeSequence={"\\n":"\n","\\t":"\t"}},"_funMap",function(){return this._funMap=new C$99D}]),nrjagb),C$99R=(C$99t(c24t9,"UIConfig"),c24t9.touchScrollEnable=!0,c24t9.mouseWheelEnable=!0,c24t9.showButtons=!0,c24t9.popupBgColor="#000000",c24t9.popupBgAlpha=.5,c24t9.closeDialogOnSide=!0,c24t9),C$99P=(C$99t(ozep7,"laya.ui.AutoBitmap",C$99Ct=C$99i),(C$99i=ozep7.prototype).destroy=function(){if(C$99p.clearObject(this,this._weakKey),this._weakKeys){for(var C$99t=0,C$99e=this._weakKeys.length;C$99t<C$99e;++C$99t)C$99p.clearObject(this,this._weakKeys[C$99t]);this._weakKeys=null}C$99Ct.prototype.destroy.call(this),this._source=null,this._sizeGrid=null,this._offset=null},C$99i._setChanged=function(){this._isChanged||(this._isChanged=!0,C$99f.timer.callLater(this,this.changeSource))},C$99i.changeSource=function(){this._isChanged=!1;var C$99t=this._source;if(C$99t&&C$99t.bitmap){var C$99e=this.width,C$99i=this.height,C$99n=this._sizeGrid,C$99c=C$99t.sourceWidth,C$99_=C$99t.sourceHeight;if(!C$99n||C$99c===C$99e&&C$99_===C$99i)this.cleanByTexture(C$99t,this._offset?this._offset[0]:0,this._offset?this._offset[1]:0,C$99e,C$99i);else{C$99p.clearObject(this,this._weakKey),C$99t.$_GID||(C$99t.$_GID=C$99C.getGID());var C$99u=C$99t.$_GID+"."+C$99e+"."+C$99i+"."+C$99n.join("."),C$99r=C$99p.findObject(C$99u);if(C$99C.isOKCmdList(C$99r))return this._weakKey=C$99u,C$99p.keepObject(this,this._weakKey),void(this.cmds=C$99r);this.clear();var C$99s,C$99a,C$99r=C$99n[0],C$99o=C$99n[1],C$99h=C$99n[2],C$99l=C$99n[3],C$99n=C$99n[4],C$99d=!1;var C$99f;C$99i==C$99_&&(C$99r=C$99h=0),C$99e<(C$99l=C$99e==C$99c?C$99o=0:C$99l)+C$99o&&(C$99f=C$99e,C$99d=!0,C$99e=C$99l+C$99o,this.save(),this.clipRect(0,0,C$99f,C$99i)),C$99l&&C$99r&&(C$99s=ozep7.getTexture(C$99t,0,0,C$99l,C$99r),C$99a=this._weakKeys[0],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[0]=C$99s.weakKey),this.drawTexture(C$99s,0,0,C$99l,C$99r)):(C$99p.clearObject(this,C$99a),this._weakKeys[0]="")),C$99o&&C$99r&&(C$99s=ozep7.getTexture(C$99t,C$99c-C$99o,0,C$99o,C$99r),C$99a=this._weakKeys[1],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[1]=C$99s.weakKey),this.drawTexture(C$99s,C$99e-C$99o,0,C$99o,C$99r)):(C$99p.clearObject(this,C$99a),this._weakKeys[1]="")),C$99l&&C$99h&&(C$99s=ozep7.getTexture(C$99t,0,C$99_-C$99h,C$99l,C$99h),C$99a=this._weakKeys[2],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[2]=C$99s.weakKey),this.drawTexture(C$99s,0,C$99i-C$99h,C$99l,C$99h)):(C$99p.clearObject(this,C$99a),this._weakKeys[2]="")),C$99o&&C$99h&&(C$99s=ozep7.getTexture(C$99t,C$99c-C$99o,C$99_-C$99h,C$99o,C$99h),C$99a=this._weakKeys[3],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[3]=C$99s.weakKey),this.drawTexture(C$99s,C$99e-C$99o,C$99i-C$99h,C$99o,C$99h)):(C$99p.clearObject(this,C$99a),this._weakKeys[3]="")),C$99r&&(C$99s=ozep7.getTexture(C$99t,C$99l,0,C$99c-C$99l-C$99o,C$99r),C$99a=this._weakKeys[4],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[4]=C$99s.weakKey),this.drawBitmap(C$99n,C$99s,C$99l,0,C$99e-C$99l-C$99o,C$99r)):(C$99p.clearObject(this,C$99a),this._weakKeys[4]="")),C$99h&&(C$99s=ozep7.getTexture(C$99t,C$99l,C$99_-C$99h,C$99c-C$99l-C$99o,C$99h),C$99a=this._weakKeys[5],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[5]=C$99s.weakKey),this.drawBitmap(C$99n,C$99s,C$99l,C$99i-C$99h,C$99e-C$99l-C$99o,C$99h)):(C$99p.clearObject(this,C$99a),this._weakKeys[5]="")),C$99l&&(C$99s=ozep7.getTexture(C$99t,0,C$99r,C$99l,C$99_-C$99r-C$99h),C$99a=this._weakKeys[6],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[6]=C$99s.weakKey),this.drawBitmap(C$99n,C$99s,0,C$99r,C$99l,C$99i-C$99r-C$99h)):(C$99p.clearObject(this,C$99a),this._weakKeys[6]="")),C$99o&&(C$99s=ozep7.getTexture(C$99t,C$99c-C$99o,C$99r,C$99o,C$99_-C$99r-C$99h),C$99a=this._weakKeys[7],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[7]=C$99s.weakKey),this.drawBitmap(C$99n,C$99s,C$99e-C$99o,C$99r,C$99o,C$99i-C$99r-C$99h)):(C$99p.clearObject(this,C$99a),this._weakKeys[7]="")),C$99s=ozep7.getTexture(C$99t,C$99l,C$99r,C$99c-C$99l-C$99o,C$99_-C$99r-C$99h),C$99a=this._weakKeys[8],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[8]=C$99s.weakKey),this.drawBitmap(C$99n,C$99s,C$99l,C$99r,C$99e-C$99l-C$99o,C$99i-C$99r-C$99h)):(C$99p.clearObject(this,C$99a),this._weakKeys[8]=""),C$99d&&this.restore(),this.autoCacheCmd&&!C$99b.isConchApp&&(C$99p.saveObject(C$99u,this.cmds,null),this._weakKey=C$99u,C$99p.keepObject(this,this._weakKey))}this._repaint()}},C$99i.drawBitmap=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){void 0===C$99s&&(C$99s=0),(C$99r=void 0===C$99r?0:C$99r)<.1||C$99s<.1||(!C$99t||C$99e.width==C$99r&&C$99e.height==C$99s?this.drawTexture(C$99e,C$99i,C$99n,C$99r,C$99s):this.fillTexture(C$99e,C$99i,C$99n,C$99r,C$99s))},C$99i.clear=function(C$99t){void 0===C$99t&&(C$99t=!0),C$99Ct.prototype.clear.call(this,!1)},C$99e(0,C$99i,"sizeGrid",function(){return this._sizeGrid},function(C$99t){this._sizeGrid=C$99t,this._setChanged()}),C$99e(0,C$99i,"width",function(){return this._width||(this._source?this._source.sourceWidth:0)},function(C$99t){this._width!=C$99t&&(this._width=C$99t,this._setChanged())}),C$99e(0,C$99i,"height",function(){return this._height||(this._source?this._source.sourceHeight:0)},function(C$99t){this._height!=C$99t&&(this._height=C$99t,this._setChanged())}),C$99e(0,C$99i,"source",function(){return this._source},function(C$99t){C$99t?(this._source=C$99t,this._setChanged()):(this._source=null,this.clear())}),ozep7.getTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99n<=0&&(C$99n=1),C$99r<=0&&(C$99r=1),C$99t.$_GID||(C$99t.$_GID=C$99C.getGID());var C$99s=C$99t.$_GID+"."+C$99e+"."+C$99i+"."+C$99n+"."+C$99r,C$99a=C$99p.findObject(C$99s);var C$99o;return C$99a&&C$99a.source||!(C$99a=C$99M.createFromTexture(C$99t,C$99e,C$99i,C$99n,C$99r))||(C$99t.alphaTexture&&(C$99o=C$99t.width/C$99t.alphaTexture.width,C$99a.alphaTexture=C$99M.createFromTexture(C$99t.alphaTexture,C$99e/C$99o,C$99i/C$99o,C$99n/C$99o,C$99r/C$99o)),C$99p.saveObject(C$99s,C$99a),C$99a.weakKey=C$99s),C$99a},ozep7),C$99n=(C$99t(zfdpv,"laya.ui.UIEvent",C$99c),zfdpv.SHOW_TIP="showtip",zfdpv.HIDE_TIP="hidetip",C$99t(bjrn,"laya.ui.Component",C$99St=C$99w),C$99i=bjrn.prototype,C$99f.imps(C$99i,{"laya.ui.IComponent":!0}),C$99i.destroy=function(C$99t){C$99St.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._dataSource=this._layout=null,this._tag=null,this._toolTip=null},C$99i.preinitialize=function(){},C$99i.createChildren=function(){},C$99i.initialize=function(){},C$99i.callLater=function(C$99t,C$99e){C$99f.timer.callLater(this,C$99t,C$99e)},C$99i.runCallLater=function(C$99t){C$99f.timer.runCallLater(this,C$99t)},C$99i.commitMeasure=function(){},C$99i.changeSize=function(){this.event("resize")},C$99i.getLayout=function(){return this._layout===C$99E.EMPTY&&(this._layout=new C$99E),this._layout},C$99i._setLayoutEnabled=function(C$99t){this._layout&&this._layout.enable!=C$99t&&(this._layout.enable=C$99t,this.on("added",this,this.onAdded),this.on("removed",this,this.onRemoved),this.parent&&this.onAdded())},C$99i.onRemoved=function(){this.parent.off("resize",this,this.onCompResize)},C$99i.onAdded=function(){this.parent.on("resize",this,this.onCompResize),this.resetLayoutX(),this.resetLayoutY()},C$99i.onCompResize=function(){this._layout&&this._layout.enable&&(this.resetLayoutX(),this.resetLayoutY())},C$99i.resetLayoutX=function(){var C$99t=this._layout;var C$99e;isNaN(C$99t.anchorX)||(this.pivotX=C$99t.anchorX*this.width),this.layoutEnabled&&(C$99e=this.parent)&&(isNaN(C$99t.centerX)?isNaN(C$99t.left)?isNaN(C$99t.right)||(this.x=Math.round(C$99e.width-this.displayWidth-C$99t.right+this.pivotX*this.scaleX)):(this.x=Math.round(C$99t.left+this.pivotX*this.scaleX),isNaN(C$99t.right)||(this.width=(C$99e._width-C$99t.left-C$99t.right)/(this.scaleX||.01))):this.x=Math.round(.5*(C$99e.width-this.displayWidth)+C$99t.centerX+this.pivotX*this.scaleX))},C$99i.resetLayoutY=function(){var C$99t=this._layout;var C$99e;isNaN(C$99t.anchorY)||(this.pivotY=C$99t.anchorY*this.height),this.layoutEnabled&&(C$99e=this.parent)&&(isNaN(C$99t.centerY)?isNaN(C$99t.top)?isNaN(C$99t.bottom)||(this.y=Math.round(C$99e.height-this.displayHeight-C$99t.bottom+this.pivotY*this.scaleY)):(this.y=Math.round(C$99t.top+this.pivotY*this.scaleY),isNaN(C$99t.bottom)||(this.height=(C$99e._height-C$99t.top-C$99t.bottom)/(this.scaleY||.01))):this.y=Math.round(.5*(C$99e.height-this.displayHeight)+C$99t.centerY+this.pivotY*this.scaleY))},C$99i.onMouseOver=function(C$99t){C$99f.stage.event("showtip",this._toolTip)},C$99i.onMouseOut=function(C$99t){C$99f.stage.event("hidetip",this._toolTip)},C$99e(0,C$99i,"displayWidth",function(){return this.width*this.scaleX}),C$99e(0,C$99i,"width",function(){return this._width||this.measureWidth},function(C$99t){this._width!=C$99t&&(this._width=C$99t,this.conchModel&&this.conchModel.size(this._width,this._height),this.callLater(this.changeSize),!this._layout.enable||isNaN(this._layout.centerX)&&isNaN(this._layout.right)&&isNaN(this._layout.anchorX)||this.resetLayoutX())}),C$99e(0,C$99i,"measureWidth",function(){var C$99t=0;this.commitMeasure();for(var C$99e=this.numChildren-1;-1<C$99e;C$99e--){var C$99i=this.getChildAt(C$99e);C$99i.visible&&(C$99t=Math.max(C$99i.x+C$99i.width*C$99i.scaleX,C$99t))}return C$99t}),C$99e(0,C$99i,"displayHeight",function(){return this.height*this.scaleY}),C$99e(0,C$99i,"height",function(){return this._height||this.measureHeight},function(C$99t){this._height!=C$99t&&(this._height=C$99t,this.conchModel&&this.conchModel.size(this._width,this._height),this.callLater(this.changeSize),!this._layout.enable||isNaN(this._layout.centerY)&&isNaN(this._layout.bottom)&&isNaN(this._layout.anchorY)||this.resetLayoutY())}),C$99e(0,C$99i,"dataSource",function(){return this._dataSource},function(C$99t){for(var C$99e in this._dataSource=C$99t,this._dataSource)this.hasOwnProperty(C$99e)&&"function"!=typeof this[C$99e]&&(this[C$99e]=this._dataSource[C$99e])}),C$99e(0,C$99i,"scaleY",C$99St.prototype._$get_scaleY,function(C$99t){C$99f.superGet(C$99w,this,"scaleY")!=C$99t&&(C$99f.superSet(C$99w,this,"scaleY",C$99t),this.callLater(this.changeSize),this._layout.enable&&this.resetLayoutY())}),C$99e(0,C$99i,"measureHeight",function(){var C$99t=0;this.commitMeasure();for(var C$99e=this.numChildren-1;-1<C$99e;C$99e--){var C$99i=this.getChildAt(C$99e);C$99i.visible&&(C$99t=Math.max(C$99i.y+C$99i.height*C$99i.scaleY,C$99t))}return C$99t}),C$99e(0,C$99i,"scaleX",C$99St.prototype._$get_scaleX,function(C$99t){C$99f.superGet(C$99w,this,"scaleX")!=C$99t&&(C$99f.superSet(C$99w,this,"scaleX",C$99t),this.callLater(this.changeSize),this._layout.enable&&this.resetLayoutX())}),C$99e(0,C$99i,"top",function(){return this._layout.top},function(C$99t){C$99t!=this._layout.top&&(this.getLayout().top=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutY()}),C$99e(0,C$99i,"bottom",function(){return this._layout.bottom},function(C$99t){C$99t!=this._layout.bottom&&(this.getLayout().bottom=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutY()}),C$99e(0,C$99i,"left",function(){return this._layout.left},function(C$99t){C$99t!=this._layout.left&&(this.getLayout().left=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutX()}),C$99e(0,C$99i,"right",function(){return this._layout.right},function(C$99t){C$99t!=this._layout.right&&(this.getLayout().right=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutX()}),C$99e(0,C$99i,"centerX",function(){return this._layout.centerX},function(C$99t){C$99t!=this._layout.centerX&&(this.getLayout().centerX=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutX()}),C$99e(0,C$99i,"centerY",function(){return this._layout.centerY},function(C$99t){C$99t!=this._layout.centerY&&(this.getLayout().centerY=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutY()}),C$99e(0,C$99i,"anchorX",function(){return this._layout.anchorX},function(C$99t){C$99t!=this._layout.anchorX&&(this.getLayout().anchorX=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutX()}),C$99e(0,C$99i,"anchorY",function(){return this._layout.anchorY},function(C$99t){C$99t!=this._layout.anchorY&&(this.getLayout().anchorY=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutY()}),C$99e(0,C$99i,"tag",function(){return this._tag},function(C$99t){this._tag=C$99t}),C$99e(0,C$99i,"toolTip",function(){return this._toolTip},function(C$99t){this._toolTip!=C$99t&&(null!=(this._toolTip=C$99t)?(this.on("mouseover",this,this.onMouseOver),this.on("mouseout",this,this.onMouseOut)):(this.off("mouseover",this,this.onMouseOver),this.off("mouseout",this,this.onMouseOut)))}),C$99e(0,C$99i,"comXml",function(){return this._comXml},function(C$99t){this._comXml=C$99t}),C$99e(0,C$99i,"gray",function(){return this._gray},function(C$99t){C$99t!==this._gray&&(this._gray=C$99t,C$99I.gray(this,C$99t))}),C$99e(0,C$99i,"disabled",function(){return this._disabled},function(C$99t){C$99t!==this._disabled&&(this.gray=this._disabled=C$99t,this.mouseEnabled=!C$99t)}),bjrn),C$99L=(C$99t(fpd7zo,"laya.ui.DialogManager",C$99w),(C$99i=fpd7zo.prototype)._closeOnSide=function(){var C$99t=this.getChildAt(this.numChildren-1);C$99t instanceof laya.ui.Dialog&&C$99t.close("side")},C$99i.setLockView=function(C$99t){this.lockLayer||(this.lockLayer=new C$99d,this.lockLayer.mouseEnabled=!0,this.lockLayer.size(C$99f.stage.width,C$99f.stage.height)),this.lockLayer.removeChildren(),C$99t&&(C$99t.centerX=C$99t.centerY=0,this.lockLayer.addChild(C$99t))},C$99i._onResize=function(C$99t){var C$99e=this.maskLayer.width=C$99f.stage.width,C$99i=this.maskLayer.height=C$99f.stage.height;this.lockLayer&&this.lockLayer.size(C$99e,C$99i),this.maskLayer.graphics.clear(),this.maskLayer.graphics.drawRect(0,0,C$99e,C$99i,C$99R.popupBgColor),this.maskLayer.alpha=C$99R.popupBgAlpha;for(var C$99n=this.numChildren-1;-1<C$99n;C$99n--){var C$99r=this.getChildAt(C$99n);C$99r.popupCenter&&this._centerDialog(C$99r)}},C$99i._centerDialog=function(C$99t){C$99t.x=Math.round((C$99f.stage.width-C$99t.width>>1)+C$99t.pivotX),C$99t.y=Math.round((C$99f.stage.height-C$99t.height>>1)+C$99t.pivotY)},C$99i.open=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=!1),(C$99e=void 0===C$99e?!1:C$99e)&&this._closeAll(),C$99t.popupCenter&&this._centerDialog(C$99t),this.addChild(C$99t),(C$99t.isModal||this._$P.hasZorder)&&this.timer.callLater(this,this._checkMask),C$99i&&null!=C$99t.popupEffect?C$99t.popupEffect.runWith(C$99t):this.doOpen(C$99t),this.event("open")},C$99i.doOpen=function(C$99t){C$99t.onOpened()},C$99i.lock=function(C$99t){this.lockLayer&&(C$99t?this.addChild(this.lockLayer):this.lockLayer.removeSelf())},C$99i.close=function(C$99t,C$99e,C$99i){(C$99i=void 0===C$99i?!1:C$99i)&&null!=C$99t.closeEffect?C$99t.closeEffect.runWith([C$99t,C$99e]):this.doClose(C$99t,C$99e),this.event("close")},C$99i.doClose=function(C$99t,C$99e){C$99t.removeSelf(),C$99t.isModal&&this._checkMask(),C$99t.closeHandler&&C$99t.closeHandler.runWith(C$99e),C$99t.onClosed(C$99e)},C$99i.closeAll=function(){this._closeAll(),this.event("close")},C$99i._closeAll=function(){for(var C$99t=this.numChildren-1;-1<C$99t;C$99t--){var C$99e=this.getChildAt(C$99t);C$99e&&null!=C$99e.close&&this.doClose(C$99e)}},C$99i.getDialogsByGroup=function(C$99t){for(var C$99e=[],C$99i=this.numChildren-1;-1<C$99i;C$99i--){var C$99n=this.getChildAt(C$99i);C$99n&&C$99n.group===C$99t&&C$99e.push(C$99n)}return C$99e},C$99i.closeByGroup=function(C$99t){for(var C$99e=[],C$99i=this.numChildren-1;-1<C$99i;C$99i--){var C$99n=this.getChildAt(C$99i);C$99n&&C$99n.group===C$99t&&(C$99n.close(),C$99e.push(C$99n))}return C$99e},C$99i._checkMask=function(){this.maskLayer.removeSelf();for(var C$99t=this.numChildren-1;-1<C$99t;C$99t--){var C$99e=this.getChildAt(C$99t);if(C$99e&&C$99e.isModal)return void this.addChildAt(this.maskLayer,C$99t)}},fpd7zo),C$99d=(C$99t(pz7oef,"laya.ui.Box",C$99i=C$99n),C$99r=pz7oef.prototype,C$99f.imps(C$99r,{"laya.ui.IBox":!0}),C$99e(0,C$99r,"dataSource",C$99i.prototype._$get_dataSource,function(C$99t){for(var C$99e in this._dataSource=C$99t){var C$99i=this.getChildByName(C$99e);C$99i?C$99i.dataSource=C$99t[C$99e]:this.hasOwnProperty(C$99e)&&"function"!=typeof this[C$99e]&&(this[C$99e]=C$99t[C$99e])}}),pz7oef),C$99z=(C$99t($ctv,"laya.ui.Button",C$99Mt=C$99n),C$99r=$ctv.prototype,C$99f.imps(C$99r,{"laya.ui.ISelect":!0}),C$99r.destroy=function(C$99t){this.clearEvent(),C$99p.clearCache(this,this._skin),C$99p.clearObject(this,this._weakKey),C$99Mt.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._bitmap&&this._bitmap.destroy(),this._text&&this._text.destroy(C$99t),this._bitmap=null,this._text=null,this._clickHandler=null,this._labelColors=this._sources=this._strokeColors=null},C$99r.clearEvent=function(){this._skin&&C$99s.atalsNotify&&C$99s.atalsNotify.off(this._skin,this,this._setBtnSource)},C$99r.createChildren=function(){this.graphics=this._bitmap=new C$99P},C$99r.createText=function(){this._text||(this._text=new C$99T,this._text.overflow=C$99T.HIDDEN,this._text.align="center",this._text.valign="middle",this._text.width=this._width,this._text.height=this._height)},C$99r.initialize=function(){1!==this._mouseEnableState&&(this.mouseEnabled=!0,this._setBit(2,!0)),this._createListener("mouseover",this,this.onMouse,null,!1,!1),this._createListener("mouseout",this,this.onMouse,null,!1,!1),this._createListener("mousedown",this,this.onMouse,null,!1,!1),this._createListener("mouseup",this,this.onMouse,null,!1,!1),this._createListener("click",this,this.onMouse,null,!1,!1)},C$99r.onMouse=function(C$99t){if(!1!==this.toggle||!this._selected)return"click"===C$99t.type?(this.toggle&&(this.selected=!this._selected),void(this._clickHandler&&this._clickHandler.run())):void(this._selected||(this.state=$ctv.stateMap[C$99t.type]))},C$99r.changeClips=function(){var C$99t=C$99p.getRes(this._skin);if(C$99t)if(this._skin&&""!=this._skin){C$99p.clearObject(this,this._weakKey);var C$99e=C$99t.sourceWidth,C$99i=C$99t.sourceHeight/this._stateNum;C$99t.$_GID||(C$99t.$_GID=C$99C.getGID());var C$99n=C$99t.$_GID+"-"+this._stateNum,C$99r=C$99p.findObject(C$99n);if(C$99r=C$99C.isOkTextureList(C$99r)?C$99r:null)this._weakKey=C$99n,C$99p.keepObject(this,this._weakKey),this._sources=C$99r;else{if(this._sources=[],1===this._stateNum)this._sources.push(C$99t);else for(var C$99s=0;C$99s<this._stateNum;C$99s++){var C$99a=C$99M.createFromTexture(C$99t,0,C$99i*C$99s,C$99e,C$99i);var C$99o;C$99t.alphaTexture&&(C$99o=C$99t.width/C$99t.alphaTexture.width,C$99a.alphaTexture=C$99M.createFromTexture(C$99t.alphaTexture,0/C$99o,C$99i*C$99s/C$99o,C$99e/C$99o,C$99i/C$99o)),this._sources.push(C$99a)}C$99p.saveObject(C$99n,this._sources),this._weakKey=C$99n,C$99p.keepObject(this,this._weakKey)}this._autoSize?(this._bitmap.width=this._width||C$99e,this._bitmap.height=this._height||C$99i,this._text&&(this._text.width=this._bitmap.width,this._text.height=this._bitmap.height)):this._text&&(this._text.x=C$99e)}else console.warn("lose skin ",this._skin,this.name,this.__className)},C$99r.changeState=function(){this._stateChanged=!1,this.runCallLater(this.changeClips);var C$99t=this._state<this._stateNum?this._state:this._stateNum-1;this._sources&&(this._bitmap.source=this._sources[C$99t]),this.label&&(this._text.color=this._labelColors[C$99t],this._strokeColors&&(this._text.strokeColor=this._strokeColors[C$99t]))},C$99r._setStateChanged=function(){this._stateChanged||(this._stateChanged=!0,this.callLater(this.changeState))},C$99e(0,C$99r,"labelStrokeColor",function(){return this.createText(),this._text.strokeColor},function(C$99t){this.createText(),this._text.strokeColor=C$99t}),C$99e(0,C$99r,"measureHeight",function(){return this.runCallLater(this.changeClips),this._text?Math.max(this._bitmap.height,this._text.height):this._bitmap.height}),C$99e(0,C$99r,"skin",function(){return this._skin},function(C$99t){this._skin!=C$99t&&(this.clearEvent(),C$99p.clearCache(this,this._skin),this._skin=C$99t,C$99p.keepCache(this,this._skin),C$99p.getRes(this._skin)?(this.callLater(this.changeClips),this._setStateChanged()):(C$99t=C$99s.resAtalsObj&&C$99s.resAtalsObj[this._skin])?(C$99s.atalsNotify&&C$99s.atalsNotify.once(this._skin,this,this._setBtnSource),0==this.width&&(this.width=C$99t.sourceW),0==this.height&&(this.height=C$99t.sourceH/this._stateNum)):console.warn("lose button skin ",this._skin,this.name,this.__className))}),C$99r._setBtnSource=function(C$99t,C$99e){C$99t===this._skin&&C$99e&&(this.callLater(this.changeClips),this._setStateChanged(),this.clearEvent())},C$99e(0,C$99r,"state",function(){return this._state},function(C$99t){this._state!=C$99t&&(this._state=C$99t,this._setStateChanged())}),C$99e(0,C$99r,"text",function(){return this.createText(),this._text}),C$99e(0,C$99r,"stateNum",function(){return this._stateNum},function(C$99t){"string"==typeof C$99t&&(C$99t=parseInt(C$99t)),this._stateNum!=C$99t&&(this._stateNum=C$99t<1?1:3<C$99t?3:C$99t,this.callLater(this.changeClips))}),C$99e(0,C$99r,"strokeColors",function(){return this._strokeColors?this._strokeColors.join(","):""},function(C$99t){this._strokeColors=C$99I.fillArray(C$99A.buttonLabelColors,C$99t,String),this._setStateChanged()}),C$99e(0,C$99r,"labelColors",function(){return this._labelColors.join(",")},function(C$99t){this._labelColors=C$99I.fillArray(C$99A.buttonLabelColors,C$99t,String),this._setStateChanged()}),C$99e(0,C$99r,"measureWidth",function(){return this.runCallLater(this.changeClips),this._autoSize?this._bitmap.width:(this.runCallLater(this.changeState),this._bitmap.width+(this._text?this._text.width:0))}),C$99e(0,C$99r,"label",function(){return this._text?this._text.text:null},function(C$99t){(this._text||C$99t)&&(this.createText(),this._text.text!=C$99t&&(C$99t&&!this._text.parent&&this.addChild(this._text),this._text.text=(C$99t+"").replace(/\\n/g,"\n"),this._setStateChanged()))}),C$99e(0,C$99r,"selected",function(){return this._selected},function(C$99t){this._selected!=C$99t&&(this._selected=C$99t,this.state=this._selected?2:0,this.event("change"))}),C$99e(0,C$99r,"labelPadding",function(){return this.createText(),this._text.padding.join(",")},function(C$99t){this.createText(),this._text.padding=C$99I.fillArray(C$99A.labelPadding,C$99t,Number)}),C$99e(0,C$99r,"labelSize",function(){return this.createText(),this._text.fontSize},function(C$99t){this.createText(),this._text.fontSize=C$99t}),C$99e(0,C$99r,"labelStroke",function(){return this.createText(),this._text.stroke},function(C$99t){this.createText(),this._text.stroke=C$99t}),C$99e(0,C$99r,"labelBold",function(){return this.createText(),this._text.bold},function(C$99t){this.createText(),this._text.bold=C$99t}),C$99e(0,C$99r,"labelFont",function(){return this.createText(),this._text.font},function(C$99t){this.createText(),this._text.font=C$99t}),C$99e(0,C$99r,"labelAlign",function(){return this.createText(),this._text.align},function(C$99t){this.createText(),this._text.align=C$99t}),C$99e(0,C$99r,"clickHandler",function(){return this._clickHandler},function(C$99t){this._clickHandler=C$99t}),C$99e(0,C$99r,"sizeGrid",function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null},function(C$99t){this._bitmap.sizeGrid=C$99I.fillArray(C$99A.defaultSizeGrid,C$99t,Number)}),C$99e(0,C$99r,"width",C$99Mt.prototype._$get_width,function(C$99t){C$99f.superSet(C$99n,this,"width",C$99t),this._autoSize&&(this._bitmap.width=C$99t,this._text&&(this._text.width=C$99t))}),C$99e(0,C$99r,"height",C$99Mt.prototype._$get_height,function(C$99t){C$99f.superSet(C$99n,this,"height",C$99t),this._autoSize&&(this._bitmap.height=C$99t,this._text&&(this._text.height=C$99t))}),C$99e(0,C$99r,"dataSource",C$99Mt.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)||"string"==typeof C$99t?this.label=C$99t+"":C$99f.superSet(C$99n,this,"dataSource",C$99t)}),C$99e(0,C$99r,"iconOffset",function(){return this._bitmap._offset?this._bitmap._offset.join(","):null},function(C$99t){this._bitmap._offset=C$99t?C$99I.fillArray([1,1],C$99t,Number):[]}),C$99a($ctv,["stateMap",function(){return this.stateMap={mouseup:0,mouseover:1,mousedown:2,mouseout:0}}]),$ctv),C$99k=(C$99t(h518,"laya.ui.Clip",C$99Tt=C$99n),(C$99i=h518.prototype).destroy=function(C$99t){this.clearEvent(),this.clearLoad(),C$99p.clearCache(this,this._skin),C$99p.clearObject(this,this._weakKey),void 0===C$99t&&(C$99t=!0),C$99Tt.prototype.destroy.call(this,!0),this._bitmap&&this._bitmap.destroy(),this._bitmap=null,this._sources=null},C$99i.dispose=function(){this.destroy(!0),C$99f.loader.clearRes(this._skin)},C$99i.createChildren=function(){this.graphics=this._bitmap=new C$99P},C$99i._onDisplay=function(C$99t){this._isPlaying?this._displayedInStage?this.play():this.stop():this._autoPlay&&this.play()},C$99i.changeClip=function(){var C$99t;this._clipChanged=!1,this._skin&&((C$99t=C$99p.getRes(this._skin))?this.loadComplete(this._skin,C$99t):C$99s.resAtalsObj&&C$99s.resAtalsObj[this._skin]||(this.clearLoad(),this._complete=C$99g.create(this,this.loadComplete,[this._skin]),this._progress=null,C$99f.loader.load(this._skin,this._complete,this._progress)))},C$99i.loadComplete=function(C$99t,C$99e){if(C$99t===this._skin&&C$99e){C$99p.clearObject(this,this._weakKey);var C$99i=this._clipWidth||Math.ceil(C$99e.sourceWidth/this._clipX),C$99n=this._clipHeight||Math.ceil(C$99e.sourceHeight/this._clipY),C$99t=this._skin+C$99i+C$99n,C$99r=C$99p.findObject(C$99t);if(C$99r=C$99C.isOkTextureList(C$99r)?C$99r:null)this._weakKey=C$99t,C$99p.keepObject(this,this._weakKey),this._sources=C$99r;else{this._sources=[];for(var C$99s=0;C$99s<this._clipY;C$99s++)for(var C$99a=0;C$99a<this._clipX;C$99a++){var C$99o=C$99M.createFromTexture(C$99e,C$99i*C$99a,C$99n*C$99s,C$99i,C$99n);var C$99h;C$99e.alphaTexture&&(C$99h=C$99e.width/C$99e.alphaTexture.width,C$99o.alphaTexture=C$99M.createFromTexture(C$99e.alphaTexture,C$99i*C$99a/C$99h,C$99n*C$99s/C$99h,C$99i/C$99h,C$99n/C$99h)),this._sources.push(C$99o)}C$99p.saveObject(C$99t,this._sources),this._weakKey=C$99t,C$99p.keepObject(this,this._weakKey)}this.index=this._index,this.event("loaded"),this.onCompResize()}},C$99i.play=function(C$99t,C$99e){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=-1),this._isPlaying=!0,this.index=C$99t,this._toIndex=C$99e,this._index++,C$99f.timer.loop(this.interval,this,this._loop),this.on("display",this,this._onDisplay),this.on("undisplay",this,this._onDisplay)},C$99i._loop=function(){this._style.visible&&this._sources&&(this._index++,-1<this._toIndex&&this._index>=this._toIndex?this.stop():this._index>=this._sources.length&&(this._index=0),this.index=this._index)},C$99i.stop=function(){this._isPlaying=!1,C$99f.timer.clear(this,this._loop),this.event("complete")},C$99i._setClipChanged=function(){this._clipChanged||(this._clipChanged=!0,this.callLater(this.changeClip))},C$99e(0,C$99i,"interval",function(){return this._interval},function(C$99t){this._interval!=C$99t&&(this._interval=C$99t,this._isPlaying&&this.play())}),C$99i.clearEvent=function(){this._skin&&C$99s.atalsNotify&&C$99s.atalsNotify.off(this._skin,this,this._setBtnSource)},C$99i.clearLoad=function(){this._skin&&((this._complete||this._progress)&&C$99f.loader.cancel(this._skin,this._complete,this._progress),this._complete=this._progress=null)},C$99e(0,C$99i,"skin",function(){return this._skin},function(C$99t){var C$99e;this._skin!=C$99t&&(this.clearLoad(),this.clearEvent(),C$99p.clearCache(this,this._skin),(this._skin=C$99t)?(C$99p.keepCache(this,this._skin),C$99t=C$99p.getRes(C$99t),C$99e=C$99s.resAtalsObj&&C$99s.resAtalsObj[this._skin],!C$99t&&C$99e?C$99s.atalsNotify&&C$99s.atalsNotify.once(this._skin,this,this._setBtnSource):this._setClipChanged()):this._bitmap.source=null)}),C$99i._setBtnSource=function(C$99t,C$99e){C$99t===this._skin&&C$99e&&(this.loadComplete(C$99t,C$99e),this.clearEvent())},C$99e(0,C$99i,"sources",function(){return this._sources},function(C$99t){this._sources=C$99t,this.index=this._index,this.event("loaded")}),C$99e(0,C$99i,"clipX",function(){return this._clipX},function(C$99t){this._clipX=C$99t||1,this._setClipChanged()}),C$99e(0,C$99i,"clipY",function(){return this._clipY},function(C$99t){this._clipY=C$99t||1,this._setClipChanged()}),C$99e(0,C$99i,"total",function(){return this.runCallLater(this.changeClip),this._sources?this._sources.length:0}),C$99e(0,C$99i,"clipWidth",function(){return this._clipWidth},function(C$99t){this._clipWidth=C$99t,this._setClipChanged()}),C$99e(0,C$99i,"sizeGrid",function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null},function(C$99t){this._bitmap.sizeGrid=C$99I.fillArray(C$99A.defaultSizeGrid,C$99t,Number)}),C$99e(0,C$99i,"group",function(){return this._group},function(C$99t){C$99t&&this._skin&&C$99p.setGroup(this._skin,C$99t),this._group=C$99t}),C$99e(0,C$99i,"clipHeight",function(){return this._clipHeight},function(C$99t){this._clipHeight=C$99t,this._setClipChanged()}),C$99e(0,C$99i,"width",C$99Tt.prototype._$get_width,function(C$99t){C$99f.superSet(C$99n,this,"width",C$99t),this._bitmap.width=C$99t}),C$99e(0,C$99i,"height",C$99Tt.prototype._$get_height,function(C$99t){C$99f.superSet(C$99n,this,"height",C$99t),this._bitmap.height=C$99t}),C$99e(0,C$99i,"measureWidth",function(){return this.runCallLater(this.changeClip),this._bitmap.width}),C$99e(0,C$99i,"measureHeight",function(){return this.runCallLater(this.changeClip),this._bitmap.height}),C$99e(0,C$99i,"index",function(){return this._index},function(C$99t){this._index=C$99t,this._bitmap&&this._sources&&(this._bitmap.source=this._sources[C$99t]),this.event("change")}),C$99e(0,C$99i,"autoPlay",function(){return this._autoPlay},function(C$99t){this._autoPlay!=C$99t&&((this._autoPlay=C$99t)?this.play():this.stop())}),C$99e(0,C$99i,"isPlaying",function(){return this._isPlaying},function(C$99t){this._isPlaying=C$99t}),C$99e(0,C$99i,"dataSource",C$99Tt.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)&&Math.floor(C$99t)==C$99t||"string"==typeof C$99t?this.index=parseInt(C$99t):C$99f.superSet(C$99n,this,"dataSource",C$99t)}),C$99e(0,C$99i,"bitmap",function(){return this._bitmap}),h518),C$99B=(C$99t(_65hwm,"laya.ui.ColorPicker",C$99wt=C$99n),(C$99r=_65hwm.prototype).destroy=function(C$99t){C$99wt.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._colorPanel&&this._colorPanel.destroy(C$99t),this._colorButton&&this._colorButton.destroy(C$99t),this._colorPanel=null,this._colorTiles=null,this._colorBlock=null,this._colorInput=null,this._colorButton=null,this._colors=null,this.changeHandler=null},C$99r.createChildren=function(){this.addChild(this._colorButton=new C$99z),this._colorPanel=new C$99d,this._colorPanel.size(230,166),this._colorPanel.addChild(this._colorTiles=new C$99w),this._colorPanel.addChild(this._colorBlock=new C$99w),this._colorPanel.addChild(this._colorInput=new C$99v)},C$99r.initialize=function(){this._colorButton.on("click",this,this.onColorButtonClick),this._colorBlock.pos(5,5),this._colorInput.pos(60,5),this._colorInput.size(60,20),this._colorInput.on("change",this,this.onColorInputChange),this._colorInput.on("keydown",this,this.onColorFieldKeyDown),this._colorTiles.pos(5,30),this._colorTiles.on("mousemove",this,this.onColorTilesMouseMove),this._colorTiles.on("click",this,this.onColorTilesClick),this._colorTiles.size(20*this._gridSize,12*this._gridSize),this._colorPanel.on("mousedown",this,this.onPanelMouseDown),this.bgColor=this._bgColor},C$99r.onPanelMouseDown=function(C$99t){C$99t.stopPropagation()},C$99r.changePanel=function(){this._panelChanged=!1;var C$99t=this._colorPanel.graphics;C$99t.clear(),C$99t.drawRect(0,0,230,166,this._bgColor,this._borderColor),this.drawBlock(this._selectedColor),this._colorInput.borderColor=this._borderColor,this._colorInput.bgColor=this._inputBgColor,this._colorInput.color=this._inputColor,(C$99t=this._colorTiles.graphics).clear();for(var C$99e=[0,3355443,6710886,10066329,13421772,16777215,16711680,65280,255,16776960,65535,16711935],C$99i=0;C$99i<12;C$99i++)for(var C$99n=0;C$99n<20;C$99n++){var C$99r=C$99I.toColor(0===C$99n?C$99e[C$99i]:1===C$99n?0:51*(((3*C$99i+C$99n/6)%3<<0)+3*(C$99i/6<<0))<<16|C$99n%6*51<<8|(C$99i<<0)%6*51);this._colors.push(C$99r);var C$99s=C$99n*this._gridSize,C$99a=C$99i*this._gridSize;C$99t.drawRect(C$99s,C$99a,this._gridSize,this._gridSize,C$99r,"#000000")}},C$99r.onColorButtonClick=function(C$99t){this._colorPanel.parent?this.close():this.open()},C$99r.open=function(){var C$99t=this.localToGlobal(new C$99x),C$99e=C$99t.x+this._colorPanel.width<=C$99f.stage.width?C$99t.x:C$99f.stage.width-this._colorPanel.width,C$99i=C$99t.y+this._colorButton.height;C$99i=C$99i+this._colorPanel.height<=C$99f.stage.height?C$99i:C$99t.y-this._colorPanel.height,this._colorPanel.pos(C$99e,C$99i),this._colorPanel.zOrder=1001,C$99f._currentStage.addChild(this._colorPanel),C$99f.stage.on("mousedown",this,this.removeColorBox)},C$99r.close=function(){C$99f.stage.off("mousedown",this,this.removeColorBox),this._colorPanel.removeSelf()},C$99r.removeColorBox=function(C$99t){this.close()},C$99r.onColorFieldKeyDown=function(C$99t){13==C$99t.keyCode&&(this._colorInput.text?this.selectedColor=this._colorInput.text:this.selectedColor=null,this.close(),C$99t.stopPropagation())},C$99r.onColorInputChange=function(C$99t){this._colorInput.text?this.drawBlock(this._colorInput.text):this.drawBlock("#FFFFFF")},C$99r.onColorTilesClick=function(C$99t){this.selectedColor=this.getColorByMouse(),this.close()},C$99r.onColorTilesMouseMove=function(C$99t){this._colorInput.focus=!1;var C$99e=this.getColorByMouse();this._colorInput.text=C$99e,this.drawBlock(C$99e)},C$99r.getColorByMouse=function(){var C$99t=this._colorTiles.getMousePoint(),C$99e=Math.floor(C$99t.x/this._gridSize),C$99t=Math.floor(C$99t.y/this._gridSize);return this._colors[20*C$99t+C$99e]},C$99r.drawBlock=function(C$99t){var C$99e=this._colorBlock.graphics;C$99e.clear(),C$99e.drawRect(0,0,50,20,C$99t||"#ffffff",this._borderColor),C$99t||C$99e.drawLine(0,0,50,20,"#ff0000")},C$99r.changeColor=function(){var C$99t=this.graphics;C$99t.clear();var C$99e=this._selectedColor||"#000000";C$99t.drawRect(0,0,this._colorButton.width,this._colorButton.height,C$99e)},C$99r._setPanelChanged=function(){this._panelChanged||(this._panelChanged=!0,this.callLater(this.changePanel))},C$99e(0,C$99r,"inputBgColor",function(){return this._inputBgColor},function(C$99t){this._inputBgColor=C$99t,this._setPanelChanged()}),C$99e(0,C$99r,"selectedColor",function(){return this._selectedColor},function(C$99t){this._selectedColor!=C$99t&&(this._selectedColor=this._colorInput.text=C$99t,this.drawBlock(C$99t),this.changeColor(),this.changeHandler&&this.changeHandler.runWith(this._selectedColor),this.event("change",C$99c.EMPTY.setTo("change",this,this)))}),C$99e(0,C$99r,"skin",function(){return this._colorButton.skin},function(C$99t){this._colorButton.skin=C$99t,this.changeColor()}),C$99e(0,C$99r,"bgColor",function(){return this._bgColor},function(C$99t){this._bgColor=C$99t,this._setPanelChanged()}),C$99e(0,C$99r,"borderColor",function(){return this._borderColor},function(C$99t){this._borderColor=C$99t,this._setPanelChanged()}),C$99e(0,C$99r,"inputColor",function(){return this._inputColor},function(C$99t){this._inputColor=C$99t,this._setPanelChanged()}),_65hwm),C$99N=(C$99t(bn3gr,"laya.ui.ComboBox",C$99bt=C$99n),(C$99i=bn3gr.prototype).destroy=function(C$99t){C$99bt.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._button&&this._button.destroy(C$99t),this._list&&this._list.destroy(C$99t),this._button=null,this._list=null,this._itemColors=null,this._labels=null,this._selectHandler=null},C$99i.createChildren=function(){this.addChild(this._button=new C$99z),this._button.text.align="left",this._button.labelPadding="0,0,0,5",this._button.on("mousedown",this,this.onButtonMouseDown)},C$99i._createList=function(){this._list=new C$99G,this._scrollBarSkin&&(this._list.vScrollBarSkin=this._scrollBarSkin),this._setListEvent(this._list)},C$99i._setListEvent=function(C$99t){this._list.selectEnable=!0,this._list.on("mousedown",this,this.onListDown),this._list.mouseHandler=C$99g.create(this,this.onlistItemMouse,null,!1),this._list.scrollBar&&this._list.scrollBar.on("mousedown",this,this.onScrollBarDown)},C$99i.onListDown=function(C$99t){C$99t.stopPropagation()},C$99i.onScrollBarDown=function(C$99t){C$99t.stopPropagation()},C$99i.onButtonMouseDown=function(C$99t){this.callLater(this.switchTo,[!this._isOpen])},C$99i.changeList=function(){this._listChanged=!1;var C$99t=this.width-2,C$99e=this._itemColors[2];this._itemHeight=this._itemSize+6,this._list.itemRender=this.itemRender||{type:"Box",child:[{type:"Label",props:{name:"label",x:1,padding:"3,3,3,3",width:C$99t,height:this._itemHeight,fontSize:this._itemSize,color:C$99e}}]},this._list.repeatY=this._visibleNum,this._list.refresh()},C$99i.onlistItemMouse=function(C$99t,C$99e){C$99t=C$99t.type;var C$99i;"mouseover"===C$99t||"mouseout"===C$99t?this._isCustomList||(!(C$99i=this._list.getCell(C$99e))||(C$99i=C$99i.getChildByName("label"))&&("mouseover"===C$99t?(C$99i.bgColor=this._itemColors[0],C$99i.color=this._itemColors[1]):(C$99i.bgColor=null,C$99i.color=this._itemColors[2]))):"click"===C$99t&&(this.selectedIndex=C$99e,this.isOpen=!1)},C$99i.switchTo=function(C$99t){this.isOpen=C$99t},C$99i.changeOpen=function(){this.isOpen=!this._isOpen},C$99i.changeItem=function(){var C$99t;this._itemChanged=!1,this._listHeight=0<this._labels.length?Math.min(this._visibleNum,this._labels.length)*this._itemHeight:this._itemHeight,this._isCustomList||((C$99t=this._list.graphics).clear(),C$99t.drawRect(0,0,this.width-1,this._listHeight,this._itemColors[4],this._itemColors[3]));for(var C$99e=this._list.array||[],C$99i=C$99e.length=0,C$99n=this._labels.length;C$99i<C$99n;C$99i++)C$99e.push({label:this._labels[C$99i]});this._list.height=this._listHeight,this._list.array=C$99e},C$99i.changeSelected=function(){this._button.label=this.selectedLabel},C$99i._onStageMouseWheel=function(C$99t){this._list&&!this._list.contains(C$99t.target)&&this.removeList(null)},C$99i.removeList=function(C$99t){C$99f.stage.off("mousedown",this,this.removeList),C$99f.stage.off("mousewheel",this,this._onStageMouseWheel),this.isOpen=!1},C$99e(0,C$99i,"selectedIndex",function(){return this._selectedIndex},function(C$99t){this._selectedIndex!=C$99t&&(this._selectedIndex=C$99t,0<this._labels.length?this.changeSelected():this.callLater(this.changeSelected),this.event("change",[C$99c.EMPTY.setTo("change",this,this)]),this._selectHandler&&this._selectHandler.runWith(this._selectedIndex))}),C$99e(0,C$99i,"measureHeight",function(){return this._button.height}),C$99e(0,C$99i,"skin",function(){return this._button.skin},function(C$99t){this._button.skin!=C$99t&&(this._button.skin=C$99t,this._listChanged=!0)}),C$99e(0,C$99i,"measureWidth",function(){return this._button.width}),C$99e(0,C$99i,"width",C$99bt.prototype._$get_width,function(C$99t){C$99f.superSet(C$99n,this,"width",C$99t),this._button.width=this._width,this._itemChanged=!0,this._listChanged=!0}),C$99e(0,C$99i,"selectedLabel",function(){return-1<this._selectedIndex&&this._selectedIndex<this._labels.length?this._labels[this._selectedIndex]:null},function(C$99t){this.selectedIndex=this._labels.indexOf(C$99t)}),C$99e(0,C$99i,"labels",function(){return this._labels.join(",")},function(C$99t){0<this._labels.length&&(this.selectedIndex=-1),C$99t?this._labels=C$99t.split(","):this._labels.length=0,this._itemChanged=!0}),C$99e(0,C$99i,"height",C$99bt.prototype._$get_height,function(C$99t){C$99f.superSet(C$99n,this,"height",C$99t),this._button.height=this._height}),C$99e(0,C$99i,"selectHandler",function(){return this._selectHandler},function(C$99t){this._selectHandler=C$99t}),C$99e(0,C$99i,"visibleNum",function(){return this._visibleNum},function(C$99t){this._visibleNum=C$99t,this._listChanged=!0}),C$99e(0,C$99i,"labelBold",function(){return this._button.text.bold},function(C$99t){this._button.text.bold=C$99t}),C$99e(0,C$99i,"itemColors",function(){return String(this._itemColors)},function(C$99t){this._itemColors=C$99I.fillArray(this._itemColors,C$99t,String),this._listChanged=!0}),C$99e(0,C$99i,"itemSize",function(){return this._itemSize},function(C$99t){this._itemSize=C$99t,this._listChanged=!0}),C$99e(0,C$99i,"scrollBar",function(){return this.list.scrollBar}),C$99e(0,C$99i,"isOpen",function(){return this._isOpen},function(C$99t){var C$99e;this._isOpen!=C$99t&&(this._isOpen=C$99t,this._button.selected=this._isOpen,this._isOpen?(this._list||this._createList(),this._listChanged&&!this._isCustomList&&this.changeList(),this._itemChanged&&this.changeItem(),C$99e=(C$99e=(C$99t=this.localToGlobal(C$99x.TEMP.setTo(0,0))).y+this._button.height)+this._listHeight<=C$99f.stage.height?C$99e:C$99t.y-this._listHeight,this._list.pos(C$99t.x,C$99e),this._list.zOrder=1001,C$99f._currentStage.addChild(this._list),C$99f.stage.once("mousedown",this,this.removeList),C$99f.stage.on("mousewheel",this,this._onStageMouseWheel),this._list.selectedIndex=this._selectedIndex):this._list&&this._list.removeSelf())}),C$99e(0,C$99i,"scrollBarSkin",function(){return this._scrollBarSkin},function(C$99t){this._scrollBarSkin=C$99t}),C$99e(0,C$99i,"sizeGrid",function(){return this._button.sizeGrid},function(C$99t){this._button.sizeGrid=C$99t}),C$99e(0,C$99i,"button",function(){return this._button}),C$99e(0,C$99i,"list",function(){return this._list||this._createList(),this._list},function(C$99t){C$99t&&(C$99t.removeSelf(),this._isCustomList=!0,this._list=C$99t,this._setListEvent(C$99t),this._itemHeight=C$99t.getCell(0).height+C$99t.spaceY)}),C$99e(0,C$99i,"dataSource",C$99bt.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)&&Math.floor(C$99t)==C$99t||"string"==typeof C$99t?this.selectedIndex=parseInt(C$99t):C$99t instanceof Array?this.labels=C$99t.join(","):C$99f.superSet(C$99n,this,"dataSource",C$99t)}),C$99e(0,C$99i,"labelColors",function(){return this._button.labelColors},function(C$99t){this._button.labelColors!=C$99t&&(this._button.labelColors=C$99t)}),C$99e(0,C$99i,"labelPadding",function(){return this._button.text.padding.join(",")},function(C$99t){this._button.text.padding=C$99I.fillArray(C$99A.labelPadding,C$99t,Number)}),C$99e(0,C$99i,"labelSize",function(){return this._button.text.fontSize},function(C$99t){this._button.text.fontSize=C$99t}),C$99e(0,C$99i,"labelFont",function(){return this._button.text.font},function(C$99t){this._button.text.font=C$99t}),C$99e(0,C$99i,"stateNum",function(){return this._button.stateNum},function(C$99t){this._button.stateNum=C$99t}),bn3gr),C$99O=(C$99t(sjabu,"laya.ui.ScrollBar",C$99yt=C$99n),(C$99r=sjabu.prototype).destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this.stopScroll(),this.target=null,C$99yt.prototype.destroy.call(this,C$99t),this.upButton&&this.upButton.destroy(C$99t),this.downButton&&this.downButton.destroy(C$99t),this.slider&&this.slider.destroy(C$99t),this.upButton=this.downButton=null,this.slider=null,this.changeHandler=null,this._offsets=null},C$99r.createChildren=function(){this.addChild(this.slider=new C$99F),this.addChild(this.upButton=new C$99z),this.addChild(this.downButton=new C$99z)},C$99r.initialize=function(){this.slider.showLabel=!1,this.slider.on("change",this,this.onSliderChange),this.slider.setSlider(0,0,0),this.upButton.on("mousedown",this,this.onButtonMouseDown),this.downButton.on("mousedown",this,this.onButtonMouseDown)},C$99r.onSliderChange=function(){this._value!=this.slider.value&&(this.value=this.slider.value)},C$99r.onButtonMouseDown=function(C$99t){C$99t=C$99t.currentTarget===this.upButton;this.slide(C$99t),C$99f.timer.once(C$99A.scrollBarDelayTime,this,this.startLoop,[C$99t]),C$99f.stage.once("mouseup",this,this.onStageMouseUp)},C$99r.startLoop=function(C$99t){C$99f.timer.frameLoop(1,this,this.slide,[C$99t])},C$99r.slide=function(C$99t){C$99t?this.value-=this._scrollSize:this.value+=this._scrollSize},C$99r.onStageMouseUp=function(C$99t){C$99f.timer.clear(this,this.startLoop),C$99f.timer.clear(this,this.slide)},C$99r.changeScrollBar=function(){this.upButton.visible=this._showButtons,this.downButton.visible=this._showButtons,this._showButtons&&(this.upButton.skin=this._skin.replace(".png","$up.png"),this.downButton.skin=this._skin.replace(".png","$down.png")),this.slider.isVertical?this.slider.y=this._showButtons?this.upButton.height:0:this.slider.x=this._showButtons?this.upButton.width:0,this.resetPositions(),this.repaint()},C$99r.changeSize=function(){C$99yt.prototype.changeSize.call(this),this.repaint(),this.resetPositions(),this.event("change"),this.changeHandler&&this.changeHandler.runWith(this.value)},C$99r.resetPositions=function(){this.slider.isVertical?this.slider.height=this.height-(this._showButtons?this.upButton.height+this.downButton.height:0):this.slider.width=this.width-(this._showButtons?this.upButton.width+this.downButton.width:0),this.resetButtonPosition()},C$99r.resetButtonPosition=function(){this.slider.isVertical?this.downButton.y=this.slider.y+this.slider.height:this.downButton.x=this.slider.x+this.slider.width},C$99r.setScroll=function(C$99t,C$99e,C$99i){this.runCallLater(this.changeSize),this.slider.setSlider(C$99t,C$99e,C$99i),this.slider.bar.visible=0<C$99e,!this._hide&&this.autoHide&&(this.visible=!1)},C$99r.onTargetMouseWheel=function(C$99t){this.value-=C$99t.delta*this._scrollSize,this.target=this._target},C$99r.onTargetMouseDown=function(C$99t){this._clickOnly=!0,this._lastOffset=0,this._checkElastic=!1,this._lastPoint||(this._lastPoint=new C$99x),this._lastPoint.setTo(C$99f.stage.mouseX,C$99f.stage.mouseY),C$99f.timer.clear(this,this.tweenMove),C$99S.clearTween(this),C$99f.stage.once("mouseup",this,this.onStageMouseUp2),C$99f.stage.once("mouseout",this,this.onStageMouseUp2),C$99f.timer.frameLoop(1,this,this.loop)},C$99r.loop=function(){var C$99t=C$99f.stage.mouseY,C$99e=C$99f.stage.mouseX;if(this._lastOffset=this.isVertical?C$99t-this._lastPoint.y:C$99e-this._lastPoint.x,this._clickOnly){if(!(1<Math.abs(this._lastOffset*(this.isVertical?C$99f.stage._canvasTransform.getScaleY():C$99f.stage._canvasTransform.getScaleX()))))return;this._clickOnly=!1,this._offsets||(this._offsets=[]),this._offsets.length=0,this._target.mouseEnabled=!1,!this.hide&&this.autoHide&&(this.alpha=1,this.visible=!0),this.event("start")}this._offsets.push(this._lastOffset),this._lastPoint.x=C$99e,this._lastPoint.y=C$99t,0!==this._lastOffset&&(this._checkElastic||(0<this.elasticDistance?this._checkElastic||0==this._lastOffset||(0<this._lastOffset&&this._value<=this.min||this._lastOffset<0&&this._value>=this.max?(this._isElastic=!0,this._checkElastic=!0):this._isElastic=!1):this._checkElastic=!0),this._isElastic?this._value<=this.min?this.value-=this._lastOffset*Math.max(0,1-(this.min-this._value)/this.elasticDistance):this._value>=this.max&&(this.value-=this._lastOffset*Math.max(0,1-(this._value-this.max)/this.elasticDistance)):this.value-=this._lastOffset)},C$99r.onStageMouseUp2=function(C$99t){if(C$99f.stage.off("mouseup",this,this.onStageMouseUp2),C$99f.stage.off("mouseout",this,this.onStageMouseUp2),C$99f.timer.clear(this,this.loop),!(this._clickOnly&&this._value>=this.min&&this._value<=this.max))if(this._target.mouseEnabled=!0,this._isElastic)this._value<this.min?C$99S.to(this,{value:this.min},this.elasticBackTime,C$99l.sineOut,C$99g.create(this,this.elasticOver)):this._value>this.max&&C$99S.to(this,{value:this.max},this.elasticBackTime,C$99l.sineOut,C$99g.create(this,this.elasticOver));else if(this._offsets){this._offsets.length<1&&(this._offsets[0]=this.isVertical?C$99f.stage.mouseY-this._lastPoint.y:C$99f.stage.mouseX-this._lastPoint.x);for(var C$99e=0,C$99i=Math.min(this._offsets.length,3),C$99n=0;C$99n<C$99i;C$99n++)C$99e+=this._offsets[this._offsets.length-1-C$99n];var C$99r;this._lastOffset=C$99e/C$99i,(C$99e=Math.abs(this._lastOffset))<2?this.event("end"):(60<C$99e&&(this._lastOffset=0<this._lastOffset?60:-60),C$99r=Math.round(Math.abs(this.elasticDistance*(this._lastOffset/240))),C$99f.timer.frameLoop(1,this,this.tweenMove,[C$99r]))}},C$99r.elasticOver=function(){this._isElastic=!1,!this.hide&&this.autoHide&&C$99S.to(this,{alpha:0},500),this.event("end")},C$99r.tweenMove=function(C$99t){this._lastOffset*=this.rollRatio;var C$99e=NaN;0<C$99t&&(0<this._lastOffset&&this.value<=this.min?(this._isElastic=!0,C$99e=.5*-(this.min-C$99t-this.value),this._lastOffset>C$99e&&(this._lastOffset=C$99e)):this._lastOffset<0&&this.value>=this.max&&(this._isElastic=!0,C$99e=.5*-(this.max+C$99t-this.value),this._lastOffset<C$99e&&(this._lastOffset=C$99e))),this.value-=this._lastOffset,Math.abs(this._lastOffset)<1&&(C$99f.timer.clear(this,this.tweenMove),this._isElastic?this._value<this.min?C$99S.to(this,{value:this.min},this.elasticBackTime,C$99l.sineOut,C$99g.create(this,this.elasticOver)):this._value>this.max?C$99S.to(this,{value:this.max},this.elasticBackTime,C$99l.sineOut,C$99g.create(this,this.elasticOver)):this.elasticOver():(this.event("end"),!this.hide&&this.autoHide&&C$99S.to(this,{alpha:0},500)))},C$99r.stopScroll=function(){this.onStageMouseUp2(null),C$99f.timer.clear(this,this.tweenMove),C$99S.clearTween(this)},C$99e(0,C$99r,"measureHeight",function(){return this.slider.isVertical?100:this.slider.height}),C$99e(0,C$99r,"skin",function(){return this._skin},function(C$99t){this._skin!=C$99t&&(this._skin=C$99t,this.slider.skin=this._skin,this.callLater(this.changeScrollBar))}),C$99e(0,C$99r,"max",function(){return this.slider.max},function(C$99t){this.slider.max=C$99t}),C$99e(0,C$99r,"showButtons",function(){return this._showButtons},function(C$99t){this._showButtons=C$99t,this.callLater(this.changeScrollBar)}),C$99e(0,C$99r,"measureWidth",function(){return this.slider.isVertical?this.slider.width:100}),C$99e(0,C$99r,"min",function(){return this.slider.min},function(C$99t){this.slider.min=C$99t}),C$99e(0,C$99r,"value",function(){return this._value},function(C$99t){C$99t!==this._value&&(this._value=C$99t,this._isElastic||(this.slider._value!=C$99t&&(this.slider._value=C$99t,this.slider.changeValue()),this._value=this.slider._value),this.event("change"),this.changeHandler&&this.changeHandler.runWith(this._value))}),C$99e(0,C$99r,"isVertical",function(){return this.slider.isVertical},function(C$99t){this.slider.isVertical=C$99t}),C$99e(0,C$99r,"sizeGrid",function(){return this.slider.sizeGrid},function(C$99t){this.slider.sizeGrid=C$99t}),C$99e(0,C$99r,"scrollSize",function(){return this._scrollSize},function(C$99t){this._scrollSize=C$99t}),C$99e(0,C$99r,"dataSource",C$99yt.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)||"string"==typeof C$99t?this.value=Number(C$99t):C$99f.superSet(C$99n,this,"dataSource",C$99t)}),C$99e(0,C$99r,"thumbPercent",function(){return this._thumbPercent},function(C$99t){this.runCallLater(this.changeScrollBar),this.runCallLater(this.changeSize),this._thumbPercent=C$99t=1<=C$99t?.99:C$99t,this.scaleBar&&(this.slider.isVertical?this.slider.bar.height=Math.max(this.slider.height*C$99t,C$99A.scrollBarMinNum):this.slider.bar.width=Math.max(this.slider.width*C$99t,C$99A.scrollBarMinNum))}),C$99e(0,C$99r,"target",function(){return this._target},function(C$99t){this._target&&(this._target.off("mousewheel",this,this.onTargetMouseWheel),this._target.off("mousedown",this,this.onTargetMouseDown)),(this._target=C$99t)&&(this._mouseWheelEnable&&this._target.on("mousewheel",this,this.onTargetMouseWheel),this._touchScrollEnable&&this._target.on("mousedown",this,this.onTargetMouseDown))}),C$99e(0,C$99r,"hide",function(){return this._hide},function(C$99t){this._hide=C$99t,this.visible=!C$99t}),C$99e(0,C$99r,"touchScrollEnable",function(){return this._touchScrollEnable},function(C$99t){this._touchScrollEnable=C$99t,this.target=this._target}),C$99e(0,C$99r,"mouseWheelEnable",function(){return this._mouseWheelEnable},function(C$99t){this._mouseWheelEnable=C$99t,this.target=this._target}),C$99e(0,C$99r,"tick",function(){return this.slider.tick},function(C$99t){this.slider.tick=C$99t}),sjabu),C$99F=(C$99t(vfz$d,"laya.ui.Slider",C$99xt=C$99n),(C$99i=vfz$d.prototype).destroy=function(C$99t){C$99xt.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._bg&&this._bg.destroy(C$99t),this._bar&&this._bar.destroy(C$99t),this._progress&&this._progress.destroy(C$99t),this._bg=null,this._bar=null,this._progress=null,this.changeHandler=null},C$99i.createChildren=function(){this.addChild(this._bg=new C$99V),this.addChild(this._bar=new C$99z)},C$99i.initialize=function(){this._bar.on("mousedown",this,this.onBarMouseDown),this._bg.sizeGrid=this._bar.sizeGrid="4,4,4,4,0",this._progress&&(this._progress.sizeGrid=this._bar.sizeGrid),this.allowClickBack=!0},C$99i.onBarMouseDown=function(C$99t){this._globalSacle||(this._globalSacle=new C$99x),this._globalSacle.setTo(this.globalScaleX||.01,this.globalScaleY||.01),this._maxMove=this.isVertical?this.height-this._bar.height:this.width-this._bar.width,this._tx=C$99f.stage.mouseX,this._ty=C$99f.stage.mouseY,C$99f.stage.on("mousemove",this,this.mouseMove),C$99f.stage.once("mouseup",this,this.mouseUp),C$99f.stage.once("mouseout",this,this.mouseUp),this.showValueText()},C$99i.showValueText=function(){var C$99t;this.showLabel&&(C$99t=laya.ui.Slider.label,this.addChild(C$99t),C$99t.textField.changeText(this._value+""),this.isVertical?(C$99t.x=this._bar.x+20,C$99t.y=.5*(this._bar.height-C$99t.height)+this._bar.y):(C$99t.y=this._bar.y-20,C$99t.x=.5*(this._bar.width-C$99t.width)+this._bar.x))},C$99i.hideValueText=function(){laya.ui.Slider.label&&laya.ui.Slider.label.removeSelf()},C$99i.mouseUp=function(C$99t){C$99f.stage.off("mousemove",this,this.mouseMove),C$99f.stage.off("mouseup",this,this.mouseUp),C$99f.stage.off("mouseout",this,this.mouseUp),this.sendChangeEvent("changed"),this.hideValueText()},C$99i.mouseMove=function(C$99t){var C$99e=this._value;this.isVertical?(this._bar.y+=(C$99f.stage.mouseY-this._ty)/this._globalSacle.y,this._bar.y>this._maxMove?this._bar.y=this._maxMove:this._bar.y<0&&(this._bar.y=0),this._value=this._bar.y/this._maxMove*(this._max-this._min)+this._min,this._progress&&(this._progress.height=this._bar.y+.5*this._bar.height)):(this._bar.x+=(C$99f.stage.mouseX-this._tx)/this._globalSacle.x,this._bar.x>this._maxMove?this._bar.x=this._maxMove:this._bar.x<0&&(this._bar.x=0),this._value=this._bar.x/this._maxMove*(this._max-this._min)+this._min,this._progress&&(this._progress.width=this._bar.x+.5*this._bar.width)),this._tx=C$99f.stage.mouseX,this._ty=C$99f.stage.mouseY;var C$99i=Math.pow(10,(this._tick+"").length-1);this._value=Math.round(Math.round(this._value/this._tick)*this._tick*C$99i)/C$99i,this._value!=C$99e&&this.sendChangeEvent(),this.showValueText()},C$99i.sendChangeEvent=function(C$99t){this.event(C$99t=void 0===C$99t?"change":C$99t),this.changeHandler&&this.changeHandler.runWith(this._value)},C$99i.setBarPoint=function(){this.isVertical?this._bar.x=Math.round(.5*(this._bg.width-this._bar.width)):this._bar.y=Math.round(.5*(this._bg.height-this._bar.height))},C$99i.changeSize=function(){C$99xt.prototype.changeSize.call(this),this.isVertical?this._bg.height=this.height:this._bg.width=this.width,this.setBarPoint(),this.changeValue()},C$99i.setSlider=function(C$99t,C$99e,C$99i){this._value=-1,this._min=C$99t,this._max=C$99t<C$99e?C$99e:C$99t,this.value=C$99i<C$99t?C$99t:C$99e<C$99i?C$99e:C$99i},C$99i.changeValue=function(){var C$99t=Math.pow(10,(this._tick+"").length-1);this._value=Math.round(Math.round(this._value/this._tick)*this._tick*C$99t)/C$99t,this._value=this._value>this._max?this._max:this._value<this._min?this._min:this._value;C$99t=this._max-this._min;0===C$99t&&(C$99t=1),this.isVertical?(this._bar.y=(this._value-this._min)/C$99t*(this.height-this._bar.height),this._progress&&(this._progress.height=this._bar.y+.5*this._bar.height)):(this._bar.x=(this._value-this._min)/C$99t*(this.width-this._bar.width),this._progress&&(this._progress.width=this._bar.x+.5*this._bar.width))},C$99i.onBgMouseDown=function(C$99t){var C$99e=this._bg.getMousePoint();this.isVertical?this.value=C$99e.y/(this.height-this._bar.height)*(this._max-this._min)+this._min:this.value=C$99e.x/(this.width-this._bar.width)*(this._max-this._min)+this._min},C$99e(0,C$99i,"measureHeight",function(){return Math.max(this._bg.height,this._bar.height)}),C$99e(0,C$99i,"skin",function(){return this._skin},function(C$99t){this._skin!=C$99t&&(this._skin=C$99t,this._bg.skin=this._skin,this._bar.skin=this._skin.replace(".png","$bar.png"),C$99t=this._skin.replace(".png","$progress.png"),C$99p.getRes(C$99t)&&(this._progress||(this.addChild(this._progress=new C$99V),this._progress.sizeGrid=this._bar.sizeGrid,this.setChildIndex(this._progress,1)),this._progress.skin=C$99t),this.setBarPoint(),this.callLater(this.changeValue))}),C$99e(0,C$99i,"allowClickBack",function(){return this._allowClickBack},function(C$99t){this._allowClickBack!=C$99t&&((this._allowClickBack=C$99t)?this._bg.on("mousedown",this,this.onBgMouseDown):this._bg.off("mousedown",this,this.onBgMouseDown))}),C$99e(0,C$99i,"max",function(){return this._max},function(C$99t){this._max!=C$99t&&(this._max=C$99t,this.callLater(this.changeValue))}),C$99e(0,C$99i,"measureWidth",function(){return Math.max(this._bg.width,this._bar.width)}),C$99e(0,C$99i,"tick",function(){return this._tick},function(C$99t){this._tick!=C$99t&&(this._tick=C$99t,this.callLater(this.changeValue))}),C$99e(0,C$99i,"sizeGrid",function(){return this._bg.sizeGrid},function(C$99t){this._bg.sizeGrid=C$99t,this._bar.sizeGrid=C$99t,this._progress&&(this._progress.sizeGrid=this._bar.sizeGrid)}),C$99e(0,C$99i,"min",function(){return this._min},function(C$99t){this._min!=C$99t&&(this._min=C$99t,this.callLater(this.changeValue))}),C$99e(0,C$99i,"value",function(){return this._value},function(C$99t){var C$99e;this._value!=C$99t&&(C$99e=this._value,this._value=C$99t,this.changeValue(),this._value!=C$99e&&this.sendChangeEvent())}),C$99e(0,C$99i,"dataSource",C$99xt.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)||"string"==typeof C$99t?this.value=Number(C$99t):C$99f.superSet(C$99n,this,"dataSource",C$99t)}),C$99e(0,C$99i,"bar",function(){return this._bar}),C$99a(vfz$d,["label",function(){return this.label=new C$99$}]),vfz$d),C$99V=(C$99t(xq0y,"laya.ui.Image",C$99vt=C$99n),(C$99r=xq0y.prototype).destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),C$99vt.prototype.destroy.call(this,!0),this.clearLoad(),this.clearEvent(),this._bitmap&&this._bitmap.destroy(),this._bitmap=null,C$99p.clearCache(this,this._skin)},C$99r.dispose=function(){this.destroy(!0),C$99p.clearCache(this,this._skin),this.clearEvent()},C$99r.createChildren=function(){this.graphics=this._bitmap=new C$99P},C$99r.setSource=function(C$99t,C$99e){this.destroyed||C$99t===this._skin&&C$99e&&(this.source=C$99e,this.onCompResize(),this.clearEvent())},C$99r.clearEvent=function(){this._skin&&C$99s.atalsNotify&&C$99s.atalsNotify.off(this._skin,this,this.setSource)},C$99r.clearLoad=function(){this._skin&&((this._complete||this._progress)&&C$99f.loader.cancel(this._skin,this._complete,this._progress),this._complete=this._progress=null)},C$99e(0,C$99r,"source",function(){return this._bitmap.source},function(C$99t){this._bitmap&&(this._bitmap.source=C$99t,this.event("loaded"),this.repaint())}),C$99e(0,C$99r,"dataSource",C$99vt.prototype._$get_dataSource,function(C$99t){"string"==typeof(this._dataSource=C$99t)?this.skin=C$99t:C$99f.superSet(C$99n,this,"dataSource",C$99t)}),C$99e(0,C$99r,"measureHeight",function(){return this._bitmap.height}),C$99e(0,C$99r,"skin",function(){return this._skin},function(C$99t){var C$99e;this._skin!=C$99t&&(C$99p.clearCache(this,this._skin),this.clearEvent(),this.clearLoad(),(this._skin=C$99t)?(C$99p.keepCache(this,this._skin),C$99t=C$99p.getRes(C$99t),C$99e=C$99s.resAtalsObj&&C$99s.resAtalsObj[this._skin],C$99t?(this.source=C$99t,this.onCompResize()):C$99e?(C$99s.atalsNotify&&C$99s.atalsNotify.once(this._skin,this,this.setSource),0==this.width&&(this.width=C$99e.sourceW),0==this.height&&(this.height=C$99e.sourceH)):(this._complete=C$99g.create(this,this.setSource,[this._skin]),this._progress=null,C$99f.loader.load(this._skin,this._complete,this._progress,"image",1,!0,this._group))):this.source=null)}),C$99e(0,C$99r,"group",function(){return this._group},function(C$99t){C$99t&&this._skin&&C$99p.setGroup(this._skin,C$99t),this._group=C$99t}),C$99e(0,C$99r,"sizeGrid",function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null},function(C$99t){this._bitmap.sizeGrid=C$99I.fillArray(C$99A.defaultSizeGrid,C$99t,Number)}),C$99e(0,C$99r,"measureWidth",function(){return this._bitmap.width}),C$99e(0,C$99r,"width",C$99vt.prototype._$get_width,function(C$99t){C$99f.superSet(C$99n,this,"width",C$99t),this._bitmap.width=0==C$99t?1e-7:C$99t}),C$99e(0,C$99r,"height",C$99vt.prototype._$get_height,function(C$99t){C$99f.superSet(C$99n,this,"height",C$99t),this._bitmap.height=0==C$99t?1e-7:C$99t}),xq0y),C$99$=(C$99t(nba,"laya.ui.Label",C$99gt=C$99n),(C$99i=nba.prototype).destroy=function(C$99t){C$99gt.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._tf=null},C$99i.createChildren=function(){this.addChild(this._tf=new C$99T)},C$99i.changeText=function(C$99t){this._tf.changeText(C$99t)},C$99e(0,C$99i,"padding",function(){return this._tf.padding.join(",")},function(C$99t){this._tf.padding=C$99I.fillArray(C$99A.labelPadding,C$99t,Number)}),C$99e(0,C$99i,"bold",function(){return this._tf.bold},function(C$99t){this._tf.bold=C$99t}),C$99e(0,C$99i,"align",function(){return this._tf.align},function(C$99t){this._tf.align=C$99t}),C$99e(0,C$99i,"text",function(){return this._tf.text},function(C$99t){this._tf.text!=C$99t&&(C$99t=C$99t&&C$99I.adptString(C$99t+""),this._tf.text=C$99t,this.event("change"),this._width&&this._height||this.onCompResize())}),C$99e(0,C$99i,"italic",function(){return this._tf.italic},function(C$99t){this._tf.italic=C$99t}),C$99e(0,C$99i,"wordWrap",function(){return this._tf.wordWrap},function(C$99t){this._tf.wordWrap=C$99t}),C$99e(0,C$99i,"font",function(){return this._tf.font},function(C$99t){this._tf.font=C$99t}),C$99e(0,C$99i,"dataSource",C$99gt.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)||"string"==typeof C$99t?this.text=C$99t+"":C$99f.superSet(C$99n,this,"dataSource",C$99t)}),C$99e(0,C$99i,"color",function(){return this._tf.color},function(C$99t){this._tf.color=C$99t}),C$99e(0,C$99i,"valign",function(){return this._tf.valign},function(C$99t){this._tf.valign=C$99t}),C$99e(0,C$99i,"leading",function(){return this._tf.leading},function(C$99t){this._tf.leading=C$99t}),C$99e(0,C$99i,"fontSize",function(){return this._tf.fontSize},function(C$99t){this._tf.fontSize=C$99t}),C$99e(0,C$99i,"bgColor",function(){return this._tf.bgColor},function(C$99t){this._tf.bgColor=C$99t}),C$99e(0,C$99i,"borderColor",function(){return this._tf.borderColor},function(C$99t){this._tf.borderColor=C$99t}),C$99e(0,C$99i,"stroke",function(){return this._tf.stroke},function(C$99t){this._tf.stroke=C$99t}),C$99e(0,C$99i,"strokeColor",function(){return this._tf.strokeColor},function(C$99t){this._tf.strokeColor=C$99t}),C$99e(0,C$99i,"textField",function(){return this._tf}),C$99e(0,C$99i,"measureWidth",function(){return this._tf.width}),C$99e(0,C$99i,"measureHeight",function(){return this._tf.height}),C$99e(0,C$99i,"width",function(){return this._width||this._tf.text?C$99f.superGet(C$99n,this,"width"):0},function(C$99t){C$99f.superSet(C$99n,this,"width",C$99t),this._tf.width=C$99t}),C$99e(0,C$99i,"height",function(){return this._height||this._tf.text?C$99f.superGet(C$99n,this,"height"):0},function(C$99t){C$99f.superSet(C$99n,this,"height",C$99t),this._tf.height=C$99t}),C$99e(0,C$99i,"overflow",function(){return this._tf.overflow},function(C$99t){this._tf.overflow=C$99t}),C$99e(0,C$99i,"underline",function(){return this._tf.underline},function(C$99t){this._tf.underline=C$99t}),C$99e(0,C$99i,"underlineColor",function(){return this._tf.underlineColor},function(C$99t){this._tf.underlineColor=C$99t}),nba),C$99U=(C$99t(raksjb,"laya.ui.ProgressBar",C$99mt=C$99n),(C$99r=raksjb.prototype).destroy=function(C$99t){C$99mt.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._bg&&this._bg.destroy(C$99t),this._bar&&this._bar.destroy(C$99t),this._bg=this._bar=null,this.changeHandler=null},C$99r.createChildren=function(){this.addChild(this._bg=new C$99V),this.addChild(this._bar=new C$99V)},C$99r.changeValue=function(){var C$99t,C$99e,C$99i;this.sizeGrid?(C$99e=this.sizeGrid.split(","),C$99t=Number(C$99e[3]),C$99e=Number(C$99e[1]),C$99i=(this.width-C$99t-C$99e)*this._value,this._bar.width=C$99t+C$99e+C$99i,this._bar.visible=this._bar.width>C$99t+C$99e):this._bar.width=this.width*this._value},C$99e(0,C$99r,"measureHeight",function(){return this._bg.height}),C$99e(0,C$99r,"skin",function(){return this._skin},function(C$99t){this._skin!=C$99t&&(this._skin=C$99t,this._bg.skin=this._skin,this._bar.skin=this._skin.replace(".png","$bar.png"),this.callLater(this.changeValue))}),C$99e(0,C$99r,"measureWidth",function(){return this._bg.width}),C$99e(0,C$99r,"height",C$99mt.prototype._$get_height,function(C$99t){C$99f.superSet(C$99n,this,"height",C$99t),this._bg.height=this._height,this._bar.height=this._height}),C$99e(0,C$99r,"bar",function(){return this._bar}),C$99e(0,C$99r,"value",function(){return this._value},function(C$99t){this._value!=C$99t&&(this._value=C$99t=1<C$99t?1:C$99t<0?0:C$99t,this.callLater(this.changeValue),this.event("change"),this.changeHandler&&this.changeHandler.runWith(C$99t))}),C$99e(0,C$99r,"bg",function(){return this._bg}),C$99e(0,C$99r,"sizeGrid",function(){return this._bg.sizeGrid},function(C$99t){this._bg.sizeGrid=this._bar.sizeGrid=C$99t}),C$99e(0,C$99r,"width",C$99mt.prototype._$get_width,function(C$99t){C$99f.superSet(C$99n,this,"width",C$99t),this._bg.width=this._width,this.callLater(this.changeValue)}),C$99e(0,C$99r,"dataSource",C$99mt.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)||"string"==typeof C$99t?this.value=Number(C$99t):C$99f.superSet(C$99n,this,"dataSource",C$99t)}),raksjb),C$99j=(C$99t(qf7eo,"laya.ui.TipManager",C$99n),(C$99i=qf7eo.prototype)._onStageHideTip=function(C$99t){C$99f.timer.clear(this,this._showTip),this.closeAll(),this.removeSelf()},C$99i._onStageShowTip=function(C$99t){C$99f.timer.once(qf7eo.tipDelay,this,this._showTip,[C$99t],!0)},C$99i._showTip=function(C$99t){var C$99e;"string"==typeof C$99t?(C$99e=String(C$99t),Boolean(C$99e)&&this._defaultTipHandler(C$99e)):C$99t instanceof laya.utils.Handler?C$99t.run():"function"==typeof C$99t&&C$99t.apply(),C$99f.stage.on("mousemove",this,this._onStageMouseMove),C$99f.stage.on("mousedown",this,this._onStageMouseDown),this._onStageMouseMove(null)},C$99i._onStageMouseDown=function(C$99t){this.closeAll()},C$99i._onStageMouseMove=function(C$99t){this._showToStage(this,qf7eo.offsetX,qf7eo.offsetY)},C$99i._showToStage=function(C$99t,C$99e,C$99i){void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0);var C$99n=C$99t.getBounds();C$99t.x=C$99f.stage.mouseX+C$99e,C$99t.y=C$99f.stage.mouseY+C$99i,C$99t.x+C$99n.width>C$99f.stage.width&&(C$99t.x-=C$99n.width+C$99e),C$99t.y+C$99n.height>C$99f.stage.height&&(C$99t.y-=C$99n.height+C$99i)},C$99i.closeAll=function(){C$99f.timer.clear(this,this._showTip),C$99f.stage.off("mousemove",this,this._onStageMouseMove),C$99f.stage.off("mousedown",this,this._onStageMouseDown),this.removeChildren()},C$99i.showDislayTip=function(C$99t){this.addChild(C$99t),this._showToStage(this),C$99f._currentStage.addChild(this)},C$99i._showDefaultTip=function(C$99t){this._tipText.text=C$99t;C$99t=this._tipBox.graphics;C$99t.clear(),C$99t.drawRect(0,0,this._tipText.width+10,this._tipText.height+10,qf7eo.tipBackColor),this.addChild(this._tipBox),this._showToStage(this),C$99f._currentStage.addChild(this)},C$99e(0,C$99i,"defaultTipHandler",function(){return this._defaultTipHandler},function(C$99t){this._defaultTipHandler=C$99t}),qf7eo.offsetX=10,qf7eo.offsetY=15,qf7eo.tipTextColor="#ffffff",qf7eo.tipBackColor="#111111",qf7eo.tipDelay=200,C$99t(kaujb,"laya.ui.View",C$99d),(C$99r=kaujb.prototype).createView=function(C$99t){if(C$99t.animations&&!this._idMap&&(this._idMap={}),kaujb.createComp(C$99t,this,this),C$99t.animations){var C$99e,C$99i,C$99n=[],C$99r=C$99t.animations,C$99s=0,C$99a=C$99r.length;for(C$99s=0;C$99s<C$99a;C$99s++){switch(C$99e=new C$99u,C$99i=C$99r[C$99s],C$99e._setUp(this._idMap,C$99i),(this[C$99i.name]=C$99e)._setControlNode(this),C$99i.action){case 1:C$99e.play(0,!1);break;case 2:C$99e.play(0,!0)}C$99n.push(C$99e)}this._aniList=C$99n}0<this._width&&null==C$99t.props.hitTestPrior&&!this.mouseThrough&&(this.hitTestPrior=!0)},C$99r.onEvent=function(C$99t,C$99e){},C$99r.loadUI=function(C$99t){C$99t=kaujb.uiMap[C$99t];C$99t&&this.createView(C$99t)},C$99r.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this._aniList&&(this._aniList.length=0),this._idMap=null,this._aniList=null,this._watchMap=null,laya.ui.Component.prototype.destroy.call(this,C$99t)},C$99r.changeData=function(C$99t){var C$99e=this._watchMap[C$99t];if(C$99e){console.log("change",C$99t);for(var C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)C$99e[C$99i].exe(this)}},kaujb._regs=function(){for(var C$99t in kaujb.uiClassMap)C$99m.regClass(C$99t,kaujb.uiClassMap[C$99t])},kaujb.createComp=function(C$99t,C$99e,C$99i,C$99c){if(!(C$99e=C$99e||kaujb.getCompInstance(C$99t)))return console.warn("can not create:"+C$99t.type),null;var C$99n=C$99t.child;if(C$99n)for(var C$99_=C$99e instanceof laya.ui.List,C$99r=0,C$99u=C$99n.length;C$99r<C$99u;C$99r++){var C$99s=C$99n[C$99r];var C$99a,C$99o;!C$99e.hasOwnProperty("itemRender")||"render"!=C$99s.props.name&&"render"!==C$99s.props.renderType?"Graphic"==C$99s.type?C$99m.addGraphicsToSprite(C$99s,C$99e):C$99m.isDrawType(C$99s.type)?C$99m.addGraphicToSprite(C$99s,C$99e,!0):(C$99_?(C$99o=kaujb.createComp(C$99s,null,C$99i,C$99a=[]),C$99a.length&&(C$99o._$bindData=C$99a)):C$99o=kaujb.createComp(C$99s,null,C$99i,C$99c),"Script"==C$99s.type?"owner"in C$99o?C$99o.owner=C$99e:"target"in C$99o&&(C$99o.target=C$99e):"mask"==C$99s.props.renderType||"mask"==C$99s.props.name?C$99e.mask=C$99o:C$99o instanceof laya.display.Sprite&&C$99e.addChild(C$99o)):C$99e.itemRender=C$99s}var C$99d=C$99t.props;for(var C$99h in C$99d){var C$99l=C$99d[C$99h];kaujb.eventDic[C$99h]?C$99l&&C$99i&&C$99e.on(C$99h,C$99i,C$99i.onEvent,[C$99l]):kaujb.setCompValue(C$99e,C$99h,C$99l,C$99i,C$99c)}return C$99f.__typeof(C$99e,"laya.ui.IItem")&&C$99e.initItems(),C$99t.compId&&C$99i&&C$99i._idMap&&(C$99i._idMap[C$99t.compId]=C$99e),C$99e},kaujb.setCompValue=function(C$99t,C$99e,C$99i,C$99n,C$99r){if("string"==typeof C$99i&&-1<C$99i.indexOf("${"))if(kaujb._sheet=kaujb._sheet?kaujb._sheet:C$99m.getClass("laya.data.Table")){if(C$99r)C$99r.push(C$99t,C$99e,C$99i);else if(C$99n){-1==C$99i.indexOf("].")&&(C$99i=C$99i.replace(".","[0]."));var C$99s,C$99a=new C$99pt(C$99t,C$99e,C$99i);C$99a.exe(C$99n);for(var C$99c=C$99i.replace(/\[.*?\]\./g,".");null!=(C$99s=kaujb._parseWatchData.exec(C$99c));){for(var C$99o=C$99s[1];null!=(C$99h=kaujb._parseKeyWord.exec(C$99o));){var C$99h=C$99h[0],C$99l=C$99n._watchMap[C$99h]||(C$99n._watchMap[C$99h]=[]);C$99l.push(C$99a),kaujb._sheet.I.notifer.on(C$99h,C$99n,C$99n.changeData,[C$99h])}(C$99l=C$99n._watchMap[C$99o]||(C$99n._watchMap[C$99o]=[])).push(C$99a),kaujb._sheet.I.notifer.on(C$99o,C$99n,C$99n.changeData,[C$99o])}}}else console.warn("Can not find class Sheet");else"var"===C$99e&&C$99n?C$99n[C$99i]=C$99t:"onClick"==C$99e?(C$99r=C$99f._runScript("(function(){"+C$99i+"})"),C$99t.on("click",C$99n,C$99r)):C$99t[C$99e]="true"===C$99i||"false"!==C$99i&&C$99i},kaujb.getCompInstance=function(C$99t){var C$99e=C$99t.props?C$99t.props.runtime:null;return C$99e=C$99e?kaujb.viewClassMap[C$99e]||kaujb.uiClassMap[C$99e]||C$99f.__classmap[C$99e]:kaujb.uiClassMap[C$99t.type],C$99t.props&&C$99t.props.hasOwnProperty("renderType")&&"instance"==C$99t.props.renderType?C$99e.instance:C$99e?new C$99e:null},kaujb.regComponent=function(C$99t,C$99e){kaujb.uiClassMap[C$99t]=C$99e,C$99m.regClass(C$99t,C$99e)},kaujb.regViewRuntime=function(C$99t,C$99e){kaujb.viewClassMap[C$99t]=C$99e},kaujb.uiMap={},kaujb.viewClassMap={},kaujb._sheet=null,C$99a(kaujb,["uiClassMap",function(){return this.uiClassMap={ViewStack:C$99J,LinkButton:C$99z,TextArea:C$99ht,ColorPicker:C$99B,Box:C$99d,Button:C$99z,CheckBox:C$99q,Clip:C$99k,ComboBox:C$99N,Component:C$99n,HScrollBar:C$99Y,HSlider:C$99K,Image:C$99V,Label:C$99$,List:C$99G,Panel:C$99X,ProgressBar:C$99U,Radio:C$99Z,RadioGroup:C$99at,ScrollBar:C$99O,Slider:C$99F,Tab:C$99ot,TextInput:C$99et,View:kaujb,VScrollBar:C$99tt,VSlider:C$99it,Tree:C$99Q,HBox:C$99rt,VBox:C$99st,Sprite:C$99w,Animation:C$99o,Text:C$99T,FontClip:C$99W}},"eventDic",function(){return this.eventDic={mousedown:!0,mouseup:!0,mousemove:!0,mouseover:!0,mouseout:!0,click:!0,doubleclick:!0,rightmousedown:!0,rightmouseup:!0,rightclick:!0}},"_parseWatchData",function(){return this._parseWatchData=/\${(.*?)}/g},"_parseKeyWord",function(){return this._parseKeyWord=/[a-zA-Z_][a-zA-Z0-9_]*(?:(?:\.[a-zA-Z_][a-zA-Z0-9_]*)+)/g}]),kaujb.__init$=function(){function fpzo7e(C$99t,C$99e,C$99i){this.comp=null,this.prop=null,this.value=null,this.comp=C$99t,this.prop=C$99e,this.value=C$99i}kaujb._regs(),C$99t(fpzo7e,""),fpzo7e.prototype.exe=function(C$99t){var C$99e=C$99I.getBindFun(this.value);this.comp[this.prop]=C$99e.call(this,C$99t)},C$99pt=fpzo7e},kaujb),C$99q=(C$99t(i24tl,"laya.ui.CheckBox",C$99ft=C$99z),(C$99i=i24tl.prototype).preinitialize=function(){laya.ui.Component.prototype.preinitialize.call(this),this.toggle=!0,this._autoSize=!1},C$99i.initialize=function(){C$99ft.prototype.initialize.call(this),this.createText(),this._text.align="left",this._text.valign="top",this._text.width=0},C$99e(0,C$99i,"dataSource",C$99ft.prototype._$get_dataSource,function(C$99t){"boolean"==typeof(this._dataSource=C$99t)?this.selected=C$99t:"string"==typeof C$99t?this.selected="true"===C$99t:C$99f.superSet(C$99z,this,"dataSource",C$99t)}),i24tl),C$99H=(C$99t(e0_qy,"laya.ui.LayoutBox",C$99d),(C$99r=e0_qy.prototype).addChild=function(C$99t){return C$99t.on("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.addChild.call(this,C$99t)},C$99r.onResize=function(C$99t){this._setItemChanged()},C$99r.addChildAt=function(C$99t,C$99e){return C$99t.on("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.addChildAt.call(this,C$99t,C$99e)},C$99r.removeChild=function(C$99t){return C$99t.off("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.removeChild.call(this,C$99t)},C$99r.removeChildAt=function(C$99t){return this.getChildAt(C$99t).off("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.removeChildAt.call(this,C$99t)},C$99r.refresh=function(){this._setItemChanged()},C$99r.changeItems=function(){this._itemChanged=!1},C$99r.sortItem=function(C$99t){C$99t&&C$99t.sort(function(C$99t,C$99e){return C$99t.y-C$99e.y})},C$99r._setItemChanged=function(){this._itemChanged||(this._itemChanged=!0,this.callLater(this.changeItems))},C$99e(0,C$99r,"space",function(){return this._space},function(C$99t){this._space=C$99t,this._setItemChanged()}),C$99e(0,C$99r,"align",function(){return this._align},function(C$99t){this._align=C$99t,this._setItemChanged()}),e0_qy),C$99W=(C$99t(n681,"laya.ui.FontClip",C$99dt=C$99k),(C$99a=n681.prototype).createChildren=function(){this._bitmap=new C$99P,this.on("loaded",this,this._onClipLoaded)},C$99a._onClipLoaded=function(){this.callLater(this.changeValue)},C$99a.changeValue=function(){var C$99t;if(this._sources&&this._valueArr&&(this.graphics.clear(!0),C$99t=this._sources[0])){var C$99e="horizontal"===this._direction;C$99e?(this._wordsW=this._valueArr.length*(C$99t.sourceWidth+this.spaceX),this._wordsH=C$99t.sourceHeight):(this._wordsW=C$99t.sourceWidth,this._wordsH=(C$99t.sourceHeight+this.spaceY)*this._valueArr.length);var C$99i=0;if(this._width)switch(this._align){case"center":C$99i=.5*(this._width-this._wordsW);break;case"right":C$99i=this._width-this._wordsW;break;default:C$99i=0}for(var C$99n=0,C$99r=this._valueArr.length;C$99n<C$99r;C$99n++){var C$99s=this._indexMap[this._valueArr.charAt(C$99n)];this.sources[C$99s]&&(C$99t=this.sources[C$99s],C$99e?this.graphics.drawTexture(C$99t,C$99i+C$99n*(C$99t.sourceWidth+this.spaceX),0,C$99t.sourceWidth,C$99t.sourceHeight):this.graphics.drawTexture(C$99t,0+C$99i,C$99n*(C$99t.sourceHeight+this.spaceY),C$99t.sourceWidth,C$99t.sourceHeight))}this._width||(this.resetLayoutX(),this.callLater(this.changeSize)),this._height||(this.resetLayoutY(),this.callLater(this.changeSize))}},C$99a.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this._valueArr=null,this._indexMap=null,this.graphics.clear(!0),this.removeSelf(),this.off("loaded",this,this._onClipLoaded),C$99dt.prototype.destroy.call(this,C$99t)},C$99e(0,C$99a,"sheet",function(){return this._sheet},function(C$99t){var C$99e=(this._sheet=C$99t+="").split(" ");this._clipX=String(C$99e[0]).length,this.clipY=C$99e.length,this._indexMap={};for(var C$99i=0;C$99i<this._clipY;C$99i++)for(var C$99n=C$99e[C$99i].split(""),C$99r=0,C$99s=C$99n.length;C$99r<C$99s;C$99r++)this._indexMap[C$99n[C$99r]]=C$99i*this._clipX+C$99r}),C$99e(0,C$99a,"height",C$99dt.prototype._$get_height,function(C$99t){C$99f.superSet(C$99k,this,"height",C$99t),this.callLater(this.changeValue)}),C$99e(0,C$99a,"direction",function(){return this._direction},function(C$99t){this._direction=C$99t,this.callLater(this.changeValue)}),C$99e(0,C$99a,"value",function(){return this._valueArr||""},function(C$99t){this._valueArr=C$99t+="",this.callLater(this.changeValue)}),C$99e(0,C$99a,"width",C$99dt.prototype._$get_width,function(C$99t){C$99f.superSet(C$99k,this,"width",C$99t),this.callLater(this.changeValue)}),C$99e(0,C$99a,"spaceX",function(){return this._spaceX},function(C$99t){this._spaceX=C$99t,"horizontal"===this._direction&&this.callLater(this.changeValue)}),C$99e(0,C$99a,"spaceY",function(){return this._spaceY},function(C$99t){this._spaceY=C$99t,"horizontal"!==this._direction&&this.callLater(this.changeValue)}),C$99e(0,C$99a,"align",function(){return this._align},function(C$99t){this._align=C$99t,this.callLater(this.changeValue)}),C$99e(0,C$99a,"measureWidth",function(){return this._wordsW}),C$99e(0,C$99a,"measureHeight",function(){return this._wordsH}),n681),C$99G=(C$99t(tci4l,"laya.ui.List",C$99i=C$99d),C$99r=tci4l.prototype,C$99f.imps(C$99r,{"laya.ui.IRender":!0,"laya.ui.IItem":!0}),C$99r.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this._content&&this._content.destroy(C$99t),this._scrollBar&&this._scrollBar.destroy(C$99t),laya.ui.Component.prototype.destroy.call(this,C$99t),this._content=null,this._scrollBar=null,this._itemRender=null,this._cells=null,this._array=null,this._twSwitch=null,this._twDone=null,this.selectHandler=this.renderHandler=this.mouseHandler=this.renderTwHandler=null},C$99r.createChildren=function(){this.addChild(this._content=new C$99d)},C$99r.onScrollStart=function(){this._$P.cacheAs||(this._$P.cacheAs=C$99f.superGet(C$99d,this,"cacheAs")),C$99f.superSet(C$99d,this,"cacheAs","none"),this._scrollBar.once("end",this,this.onScrollEnd)},C$99r.onScrollEnd=function(){C$99f.superSet(C$99d,this,"cacheAs",this._$P.cacheAs)},C$99r._removePreScrollBar=function(){var C$99t=this.removeChildByName("scrollBar");C$99t&&C$99t.destroy(!0)},C$99r.changeCells=function(){var C$99t,C$99e,C$99i,C$99n;this._cellChanged=!1,this._itemRender&&(this.scrollBar=this.getChildByName("scrollBar"),C$99n=(C$99i=this._getOneCell()).width+this._spaceX||1,C$99i=C$99i.height+this._spaceY||1,0<this._width&&(this._repeatX2=this._isVertical?Math.round(this._width/C$99n):Math.ceil(this._width/C$99n)),0<this._height&&(this._repeatY2=this._isVertical?Math.ceil(this._height/C$99i):Math.round(this._height/C$99i)),C$99t=this._width||C$99n*this.repeatX-this._spaceX,C$99e=this._height||C$99i*this.repeatY-this._spaceY,this._cellSize=this._isVertical?C$99i:C$99n,this._cellOffset=this._isVertical?C$99i*Math.max(this._repeatY2,this._repeatY)-C$99e-this._spaceY:C$99n*Math.max(this._repeatX2,this._repeatX)-C$99t-this._spaceX,this._isVertical&&this._scrollBar?this._scrollBar.height=C$99e:!this._isVertical&&this._scrollBar&&(this._scrollBar.width=C$99t),this.setContentSize(C$99t,C$99e),C$99i=this._isVertical?this.repeatX:this.repeatY,C$99n=(this._isVertical?this.repeatY:this.repeatX)+(this._scrollBar?1:0),this._createItems(0,C$99i,C$99n),this._createdLine=C$99n,this._array&&(this.array=this._array,this.runCallLater(this.renderItems)))},C$99r._getOneCell=function(){if(0===this._cells.length){var C$99t=this.createItem();if(this._offset.setTo(C$99t.x,C$99t.y),this.cacheContent)return C$99t;this._cells.push(C$99t)}return this._cells[0]},C$99r._createItems=function(C$99t,C$99e,C$99c){var C$99i=this._content,C$99n=this._getOneCell(),C$99r=C$99n.width+this._spaceX,C$99_=C$99n.height+this._spaceY;if(this.cacheContent){var C$99s=new C$99d;C$99s.cacheAsBitmap=!0,C$99s.pos((this._isVertical?0:C$99t)*C$99r,(this._isVertical?C$99t:0)*C$99_),this._content.addChild(C$99s),this._content.optimizeScrollRect=!0,C$99i=C$99s}else{for(var C$99a=[],C$99o=this._cells.length-1;-1<C$99o;C$99o--){var C$99u=this._cells[C$99o];C$99u.removeSelf(),C$99a.push(C$99u)}this._cells.length=0}for(var C$99h=C$99t;C$99h<C$99c;C$99h++)for(var C$99l=0;C$99l<C$99e;C$99l++)(C$99n=C$99a&&C$99a.length?C$99a.pop():this.createItem()).x=(this._isVertical?C$99l:C$99h)*C$99r-C$99i.x,C$99n.y=(this._isVertical?C$99h:C$99l)*C$99_-C$99i.y,C$99n.name="item"+(C$99h*C$99e+C$99l),C$99i.addChild(C$99n),this.addCell(C$99n)},C$99r.createItem=function(){var C$99t=[];var C$99e;if(C$99e="function"==typeof this._itemRender?new this._itemRender:C$99j.createComp(this._itemRender,null,null,C$99t),0==C$99t.length&&C$99e._watchMap){var C$99i=C$99e._watchMap;for(var C$99n in C$99i)for(var C$99r=C$99i[C$99n],C$99s=0;C$99s<C$99r.length;C$99s++){var C$99a=C$99r[C$99s];C$99t.push(C$99a.comp,C$99a.prop,C$99a.value)}}return C$99t.length&&(C$99e._$bindData=C$99t),C$99e},C$99r.addCell=function(C$99t){C$99t.on("click",this,this.onCellMouse),C$99t.on("rightclick",this,this.onCellMouse),C$99t.on("mouseover",this,this.onCellMouse),C$99t.on("mouseout",this,this.onCellMouse),C$99t.on("mousedown",this,this.onCellMouse),C$99t.on("mouseup",this,this.onCellMouse),this._cells.push(C$99t)},C$99r.initItems=function(){if(!this._itemRender&&null!=this.getChildByName("item0")){this.repeatX=1;for(var C$99t=0,C$99e=C$99t=0;C$99e<1e4;C$99e++){var C$99i=this.getChildByName("item"+C$99e);if(!C$99i)break;this.addCell(C$99i),C$99t++}this.repeatY=C$99t}},C$99r.setContentSize=function(C$99t,C$99e){this._content.width=C$99t,this._content.height=C$99e,!this._scrollBar&&0==this._offset.x&&0==this._offset.y||(this._content.scrollRect||(this._content.scrollRect=new C$99y),this._content.scrollRect.setTo(-this._offset.x,-this._offset.y,C$99t,C$99e),this._content.scrollRect=this._content.scrollRect),this.event("resize")},C$99r.onCellMouse=function(C$99t){"mousedown"===C$99t.type&&(this._isMoved=!1);var C$99e=C$99t.currentTarget,C$99i=this._startIndex+this._cells.indexOf(C$99e);C$99i<0||("click"===C$99t.type||"rightclick"===C$99t.type?this.selectEnable&&!this._isMoved?this.selectedIndex=C$99i:this.changeCellState(C$99e,!0,0):"mouseover"!==C$99t.type&&"mouseout"!==C$99t.type||this._selectedIndex===C$99i||this.changeCellState(C$99e,"mouseover"===C$99t.type,0),this.mouseHandler&&this.mouseHandler.runWith([C$99t,C$99i]))},C$99r.changeCellState=function(C$99t,C$99e,C$99i){C$99t=C$99t.getChildByName("selectBox");C$99t&&(this.selectEnable=!0,C$99t.visible=C$99e,C$99t.index=C$99i)},C$99r.changeSize=function(){laya.ui.Component.prototype.changeSize.call(this),this.setContentSize(this.width,this.height),this._scrollBar&&this.callLater(this.onScrollBarChange)},C$99r.onScrollBarChange=function(C$99c){this.runCallLater(this.changeCells);var C$99t=this._scrollBar.value,C$99e=this._isVertical?this.repeatX:this.repeatY,C$99i=this._isVertical?this.repeatY:this.repeatX,C$99n=Math.floor(C$99t/this._cellSize);if(this.cacheContent)this._createdLine-C$99n<(C$99r=C$99i+1)&&(this._createItems(this._createdLine,C$99e,this._createdLine+C$99r),this.renderItems(this._createdLine*C$99e,0),this._createdLine+=C$99r);else{var C$99n=C$99n*C$99e,C$99r=0;var C$99s,C$99a;C$99n>this._startIndex?(C$99r=C$99n-this._startIndex,C$99a=this._startIndex+C$99e*(C$99i+1),this._isMoved=C$99s=!0):C$99n<this._startIndex&&(C$99r=this._startIndex-C$99n,C$99a=this._startIndex-1,this._isMoved=!(C$99s=!1));for(var C$99o=0;C$99o<C$99r;C$99o++){var C$99h,C$99l;C$99l=C$99s?(C$99h=this._cells.shift(),this._cells[this._cells.length]=C$99h,C$99a+C$99o):(C$99h=this._cells.pop(),this._cells.unshift(C$99h),C$99a-C$99o);var C$99_=Math.floor(C$99l/C$99e)*this._cellSize;this._isVertical?C$99h.y=C$99_:C$99h.x=C$99_,this.renderItem(C$99h,C$99l)}this._startIndex=C$99n,this.changeSelectStatus()}C$99i=this._content.scrollRect;this._isVertical?(C$99i.y=C$99t-this._offset.y,C$99i.x=-this._offset.x):(C$99i.y=-this._offset.y,C$99i.x=C$99t-this._offset.x),this._content.scrollRect=C$99i},C$99r.posCell=function(C$99t,C$99e){var C$99i;this._scrollBar&&(C$99i=this._isVertical?this.repeatX:this.repeatY,this._isVertical?this.repeatY:this.repeatX,C$99e=Math.floor(C$99e/C$99i)*this._cellSize,this._isVertical?C$99t.y=C$99e:C$99t.x=C$99e)},C$99r.changeSelectStatus=function(){for(var C$99t=0,C$99e=this._cells.length;C$99t<C$99e;C$99t++)this.changeCellState(this._cells[C$99t],this._selectedIndex===this._startIndex+C$99t,1)},C$99r.renderItems=function(C$99t,C$99e){for(var C$99i=C$99t=void 0===C$99t?0:C$99t,C$99n=(C$99e=void 0===C$99e?0:C$99e)||this._cells.length;C$99i<C$99n;C$99i++)this.renderItem(this._cells[C$99i],this._startIndex+C$99i);this.changeSelectStatus(),this._twDone=!0},C$99r.renderItem=function(C$99t,C$99e){this._array&&0<=C$99e&&C$99e<this._array.length?(C$99t.visible=!0,C$99t._$bindData?(C$99t._dataSource=this._array[C$99e],this._bindData(C$99t,this._array[C$99e])):C$99t.dataSource=this._array[C$99e],this.cacheContent||this.posCell(C$99t,C$99e),this.hasListener("render")&&this.event("render",[C$99t,C$99e]),this.renderHandler&&this.renderHandler.runWith([C$99t,C$99e]),this.renderTwHandler&&this.renderTwHandler.runWith([C$99t,C$99e])):(C$99t.visible=!1,C$99t.dataSource=null)},C$99r._bindData=function(C$99t,C$99e){for(var C$99i=C$99t._$bindData,C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99n++){var C$99s=C$99i[C$99n++],C$99a=C$99i[C$99n++],C$99o=C$99i[C$99n],C$99o=C$99I.getBindFun(C$99o);C$99s[C$99a]=C$99o.call(this,C$99e)}},C$99r.refresh=function(){this.array=this._array},C$99r.getItem=function(C$99t){return-1<C$99t&&C$99t<this._array.length?this._array[C$99t]:null},C$99r.changeItem=function(C$99t,C$99e){-1<C$99t&&C$99t<this._array.length&&(this._array[C$99t]=C$99e,C$99t>=this._startIndex&&C$99t<this._startIndex+this._cells.length&&this.renderItem(this.getCell(C$99t),C$99t))},C$99r.setItem=function(C$99t,C$99e){this.changeItem(C$99t,C$99e)},C$99r.addItem=function(C$99t){this._array.push(C$99t),this.array=this._array},C$99r.addItemAt=function(C$99t,C$99e){this._array.splice(C$99e,0,C$99t),this.array=this._array},C$99r.deleteItem=function(C$99t){this._array.splice(C$99t,1),this.array=this._array},C$99r.getCell=function(C$99t){return this.runCallLater(this.changeCells),-1<C$99t&&this._cells?this._cells[(C$99t-this._startIndex)%this._cells.length]:null},C$99r.scrollTo=function(C$99t){var C$99e;this._scrollBar?(C$99e=this._isVertical?this.repeatX:this.repeatY,this._scrollBar.value=Math.floor(C$99t/C$99e)*this._cellSize):this.startIndex=C$99t},C$99r.tweenTo=function(C$99t,C$99e,C$99i){var C$99n;void 0===C$99e&&(C$99e=200),this._scrollBar?(C$99n=this._isVertical?this.repeatX:this.repeatY,C$99S.to(this._scrollBar,{value:Math.floor(C$99t/C$99n)*this._cellSize},C$99e,null,C$99i,0,!0)):(this.startIndex=C$99t,C$99i&&C$99i.run())},C$99r._setCellChanged=function(){this._cellChanged||(this._cellChanged=!0,this.callLater(this.changeCells))},C$99r.commitMeasure=function(){this.runCallLater(this.changeCells)},C$99e(0,C$99r,"cacheAs",C$99i.prototype._$get_cacheAs,function(C$99t){C$99f.superSet(C$99d,this,"cacheAs",C$99t),this._scrollBar&&(this._$P.cacheAs=null,"none"!==C$99t?this._scrollBar.on("start",this,this.onScrollStart):this._scrollBar.off("start",this,this.onScrollStart))}),C$99e(0,C$99r,"content",function(){return this._content}),C$99e(0,C$99r,"height",C$99i.prototype._$get_height,function(C$99t){C$99t!=this._height&&(C$99f.superSet(C$99d,this,"height",C$99t),this._setCellChanged())}),C$99e(0,C$99r,"itemRender",function(){return this._itemRender},function(C$99t){if(this._itemRender!=C$99t){this._itemRender=C$99t;for(var C$99e=this._cells.length-1;-1<C$99e;C$99e--)this._cells[C$99e].destroy();this._cells.length=0,this._setCellChanged()}}),C$99e(0,C$99r,"vScrollBarSkin",function(){return this._scrollBar?this._scrollBar.skin:null},function(C$99t){this._removePreScrollBar();var C$99e=new C$99tt;C$99e.name="scrollBar",C$99e.right=0,C$99t&&" "!=C$99t&&(C$99e.skin=C$99t),this.scrollBar=C$99e,this.addChild(C$99e),this._setCellChanged()}),C$99e(0,C$99r,"page",function(){return this._page},function(C$99t){this._page=C$99t,this._array&&(this._page=0<C$99t?C$99t:0,this._page=this._page<this.totalPage?this._page:this.totalPage-1,this.startIndex=this._page*this.repeatX*this.repeatY)}),C$99e(0,C$99r,"hScrollBarSkin",function(){return this._scrollBar?this._scrollBar.skin:null},function(C$99t){this._removePreScrollBar();var C$99e=new C$99Y;C$99e.name="scrollBar",C$99e.bottom=0,C$99t&&" "!=C$99t&&(C$99e.skin=C$99t),this.scrollBar=C$99e,this.addChild(C$99e),this._setCellChanged()}),C$99e(0,C$99r,"repeatX",function(){return 0<this._repeatX?this._repeatX:0<this._repeatX2?this._repeatX2:1},function(C$99t){this._repeatX=C$99t,this._setCellChanged()}),C$99e(0,C$99r,"scrollBar",function(){return this._scrollBar},function(C$99t){this._scrollBar!=C$99t&&(this._scrollBar=C$99t)&&(this._isVertical=this._scrollBar.isVertical,this.addChild(this._scrollBar),this._scrollBar.on("change",this,this.onScrollBarChange))}),C$99e(0,C$99r,"width",C$99i.prototype._$get_width,function(C$99t){C$99t!=this._width&&(C$99f.superSet(C$99d,this,"width",C$99t),this._setCellChanged())}),C$99e(0,C$99r,"repeatY",function(){return 0<this._repeatY?this._repeatY:0<this._repeatY2?this._repeatY2:1},function(C$99t){this._repeatY=C$99t,this._setCellChanged()}),C$99e(0,C$99r,"spaceX",function(){return this._spaceX},function(C$99t){this._spaceX=C$99t,this._setCellChanged()}),C$99e(0,C$99r,"spaceY",function(){return this._spaceY},function(C$99t){this._spaceY=C$99t,this._setCellChanged()}),C$99e(0,C$99r,"selectedIndex",function(){return this._selectedIndex},function(C$99t){this._selectedIndex!=C$99t&&(this._selectedIndex=C$99t,this.changeSelectStatus(),this.event("change"),this.selectHandler&&this.selectHandler.runWith(C$99t),this.startIndex=this._startIndex)}),C$99e(0,C$99r,"selectedItem",function(){return-1!=this._selectedIndex?this._array[this._selectedIndex]:null},function(C$99t){this.selectedIndex=this._array.indexOf(C$99t)}),C$99e(0,C$99r,"length",function(){return this._array?this._array.length:0}),C$99e(0,C$99r,"selection",function(){return this.getCell(this._selectedIndex)},function(C$99t){this.selectedIndex=this._startIndex+this._cells.indexOf(C$99t)}),C$99e(0,C$99r,"startIndex",function(){return this._startIndex},function(C$99t){this._startIndex=0<C$99t?C$99t:0,this.callLater(this.renderItems)}),C$99e(0,C$99r,"twSwitch",function(){return this._twSwitch},function(C$99t){this._twSwitch=C$99t}),C$99e(0,C$99r,"twDone",function(){return this._twDone},function(C$99t){this._twDone=C$99t}),C$99e(0,C$99r,"array",function(){return this._array},function(C$99t){this.runCallLater(this.changeCells),this._array=C$99t||[];C$99t=this._array.length;var C$99e,C$99i;this.totalPage=Math.ceil(C$99t/(this.repeatX*this.repeatY)),this._selectedIndex=this._selectedIndex<C$99t?this._selectedIndex:C$99t-1,this.startIndex=this._startIndex,this._scrollBar&&(this._scrollBar.stopScroll(),C$99e=this._isVertical?this.repeatX:this.repeatY,C$99i=this._isVertical?this.repeatY:this.repeatX,C$99t=Math.ceil(C$99t/C$99e),1<(0<this._cellOffset?this.totalPage+1:this.totalPage)?(this._scrollBar.scrollSize=this._cellSize,this._scrollBar.thumbPercent=C$99i/C$99t,this._scrollBar.setScroll(0,(C$99t-C$99i)*this._cellSize+this._cellOffset,this._scrollBar.value)):this._scrollBar.setScroll(0,0,0),this._scrollBar.target=this._content)}),C$99e(0,C$99r,"dataSource",C$99i.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)&&Math.floor(C$99t)==C$99t||"string"==typeof C$99t?this.selectedIndex=parseInt(C$99t):C$99t instanceof Array?this.array=C$99t:C$99f.superSet(C$99d,this,"dataSource",C$99t)}),C$99e(0,C$99r,"cells",function(){return this.runCallLater(this.changeCells),this._cells}),tci4l),C$99Y=(C$99t(bskjau,"laya.ui.HScrollBar",C$99ut=C$99O),bskjau.prototype.initialize=function(){C$99ut.prototype.initialize.call(this),this.slider.isVertical=!1},bskjau),C$99X=(C$99t(zfdo7p,"laya.ui.Panel",C$99a=C$99d),(C$99i=zfdo7p.prototype).destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),laya.ui.Component.prototype.destroy.call(this,C$99t),this._content&&this._content.destroy(C$99t),this._vScrollBar&&this._vScrollBar.destroy(C$99t),this._hScrollBar&&this._hScrollBar.destroy(C$99t),this._vScrollBar=null,this._hScrollBar=null,this._content=null},C$99i.destroyChildren=function(){this._content.destroyChildren()},C$99i.createChildren=function(){laya.display.Node.prototype.addChild.call(this,this._content=new C$99d)},C$99i.addChild=function(C$99t){return C$99t.on("resize",this,this.onResize),this._setScrollChanged(),this._content.addChild(C$99t)},C$99i.onResize=function(){this._setScrollChanged()},C$99i.addChildAt=function(C$99t,C$99e){return C$99t.on("resize",this,this.onResize),this._setScrollChanged(),this._content.addChildAt(C$99t,C$99e)},C$99i.removeChild=function(C$99t){return C$99t.off("resize",this,this.onResize),this._setScrollChanged(),this._content.removeChild(C$99t)},C$99i.removeChildAt=function(C$99t){return this.getChildAt(C$99t).off("resize",this,this.onResize),this._setScrollChanged(),this._content.removeChildAt(C$99t)},C$99i.removeChildren=function(C$99t,C$99e){return this._content.removeChildren(C$99t=void 0===C$99t?0:C$99t,C$99e=void 0===C$99e?2147483647:C$99e),this._setScrollChanged(),this},C$99i.getChildAt=function(C$99t){return this._content.getChildAt(C$99t)},C$99i.getChildByName=function(C$99t){return this._content.getChildByName(C$99t)},C$99i.getChildIndex=function(C$99t){return this._content.getChildIndex(C$99t)},C$99i.changeScroll=function(){this._scrollChanged=!1;var C$99t=this.contentWidth||1,C$99e=this.contentHeight||1,C$99i=this._vScrollBar,C$99n=this._hScrollBar,C$99r=C$99i&&C$99e>this._height,C$99s=C$99n&&C$99t>this._width,C$99a=C$99r?this._width-C$99i.width:this._width,C$99o=C$99s?this._height-C$99n.height:this._height;C$99i&&(C$99i.x=this._width-C$99i.width,C$99i.y=0,C$99i.height=this._height-(C$99s?C$99n.height:0),C$99i.scrollSize=Math.max(.033*this._height,1),C$99i.thumbPercent=C$99o/C$99e,C$99i.setScroll(0,C$99e-C$99o,C$99i.value)),C$99n&&(C$99n.x=0,C$99n.y=this._height-C$99n.height,C$99n.width=this._width-(C$99r?C$99i.width:0),C$99n.scrollSize=Math.max(.033*this._width,1),C$99n.thumbPercent=C$99a/C$99t,C$99n.setScroll(0,C$99t-C$99a,C$99n.value))},C$99i.changeSize=function(){laya.ui.Component.prototype.changeSize.call(this),this.setContentSize(this._width,this._height)},C$99i.setContentSize=function(C$99t,C$99e){var C$99i=this._content;C$99i.width=C$99t,C$99i.height=C$99e,C$99i.scrollRect||(C$99i.scrollRect=new C$99y),C$99i.scrollRect.setTo(0,0,C$99t,C$99e),C$99i.scrollRect=C$99i.scrollRect},C$99i.onScrollBarChange=function(C$99t){var C$99e=this._content.scrollRect;var C$99i;C$99e&&(C$99i=Math.round(C$99t.value),C$99t.isVertical?C$99e.y=C$99i:C$99e.x=C$99i,this._content.scrollRect=C$99e)},C$99i.scrollTo=function(C$99t,C$99e){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),this.vScrollBar&&(this.vScrollBar.value=C$99e),this.hScrollBar&&(this.hScrollBar.value=C$99t)},C$99i.refresh=function(){this.changeScroll()},C$99i.onScrollStart=function(){this._$P.cacheAs||(this._$P.cacheAs=C$99f.superGet(C$99d,this,"cacheAs")),C$99f.superSet(C$99d,this,"cacheAs","none"),this._hScrollBar&&this._hScrollBar.once("end",this,this.onScrollEnd),this._vScrollBar&&this._vScrollBar.once("end",this,this.onScrollEnd)},C$99i.onScrollEnd=function(){C$99f.superSet(C$99d,this,"cacheAs",this._$P.cacheAs)},C$99i._setScrollChanged=function(){this._scrollChanged||(this._scrollChanged=!0,this.callLater(this.changeScroll))},C$99e(0,C$99i,"numChildren",function(){return this._content.numChildren}),C$99e(0,C$99i,"hScrollBarSkin",function(){return this._hScrollBar?this._hScrollBar.skin:null},function(C$99t){null==this._hScrollBar&&(laya.display.Node.prototype.addChild.call(this,this._hScrollBar=new C$99Y),this._hScrollBar.on("change",this,this.onScrollBarChange,[this._hScrollBar]),this._hScrollBar.target=this._content,this._setScrollChanged()),this._hScrollBar.skin=C$99t}),C$99e(0,C$99i,"contentWidth",function(){for(var C$99t=0,C$99e=this._content.numChildren-1;-1<C$99e;C$99e--){var C$99i=this._content.getChildAt(C$99e);C$99t=Math.max(C$99i.x+C$99i.width*C$99i.scaleX,C$99t)}return C$99t}),C$99e(0,C$99i,"contentHeight",function(){for(var C$99t=0,C$99e=this._content.numChildren-1;-1<C$99e;C$99e--){var C$99i=this._content.getChildAt(C$99e);C$99t=Math.max(C$99i.y+C$99i.height*C$99i.scaleY,C$99t)}return C$99t}),C$99e(0,C$99i,"width",C$99a.prototype._$get_width,function(C$99t){C$99f.superSet(C$99d,this,"width",C$99t),this._setScrollChanged()}),C$99e(0,C$99i,"hScrollBar",function(){return this._hScrollBar}),C$99e(0,C$99i,"content",function(){return this._content}),C$99e(0,C$99i,"height",C$99a.prototype._$get_height,function(C$99t){C$99f.superSet(C$99d,this,"height",C$99t),this._setScrollChanged()}),C$99e(0,C$99i,"vScrollBarSkin",function(){return this._vScrollBar?this._vScrollBar.skin:null},function(C$99t){null==this._vScrollBar&&(laya.display.Node.prototype.addChild.call(this,this._vScrollBar=new C$99tt),this._vScrollBar.on("change",this,this.onScrollBarChange,[this._vScrollBar]),this._vScrollBar.target=this._content,this._setScrollChanged()),this._vScrollBar.skin=C$99t}),C$99e(0,C$99i,"vScrollBar",function(){return this._vScrollBar}),C$99e(0,C$99i,"cacheAs",C$99a.prototype._$get_cacheAs,function(C$99t){C$99f.superSet(C$99d,this,"cacheAs",C$99t),this._$P.cacheAs=null,"none"!==C$99t?(this._hScrollBar&&this._hScrollBar.on("start",this,this.onScrollStart),this._vScrollBar&&this._vScrollBar.on("start",this,this.onScrollStart)):(this._hScrollBar&&this._hScrollBar.off("start",this,this.onScrollStart),this._vScrollBar&&this._vScrollBar.off("start",this,this.onScrollStart))}),zfdo7p),C$99K=(C$99t(vi29,"laya.ui.HSlider",C$99F),vi29),C$99a=(C$99t($7zpd,"laya.ui.UIGroup",C$99r=C$99d),C$99i=$7zpd.prototype,C$99f.imps(C$99i,{"laya.ui.IItem":!0}),C$99i.preinitialize=function(){this.mouseEnabled=!0},C$99i.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),laya.ui.Component.prototype.destroy.call(this,C$99t),this._items&&(this._items.length=0),this._items=null,this.selectHandler=null},C$99i.addItem=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!0);var C$99i=this._items.length;var C$99n;return C$99t.name="item"+C$99i,this.addChild(C$99t),this.initItems(),C$99e&&0<C$99i?(C$99n=this._items[C$99i-1],"horizontal"==this._direction?C$99t.x=C$99n.x+C$99n.width+this._space:C$99t.y=C$99n.y+C$99n.height+this._space):C$99e&&(C$99t.x=0,C$99t.y=0),C$99i},C$99i.delItem=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!0);var C$99i=this._items.indexOf(C$99t);if(-1!=C$99i){var C$99n=C$99t;this.removeChild(C$99n);for(var C$99r=C$99i+1,C$99s=this._items.length;C$99r<C$99s;C$99r++){var C$99a=this._items[C$99r];C$99a.name="item"+(C$99r-1),C$99e&&("horizontal"==this._direction?C$99a.x-=C$99n.width+this._space:C$99a.y-=C$99n.height+this._space)}this.initItems(),-1<this._selectedIndex&&(C$99t=this._selectedIndex<this._items.length?this._selectedIndex:this._selectedIndex-1,this._selectedIndex=-1,this.selectedIndex=C$99t)}},C$99i.initItems=function(){this._items||(this._items=[]);for(var C$99t=this._items.length=0;C$99t<1e4;C$99t++){var C$99e=this.getChildByName("item"+C$99t);if(null==C$99e)break;this._items.push(C$99e),C$99e.selected=C$99t===this._selectedIndex,C$99e.clickHandler=C$99g.create(this,this.itemClick,[C$99t],!1)}},C$99i.itemClick=function(C$99t){this.selectedIndex=C$99t},C$99i.setSelect=function(C$99t,C$99e){this._items&&-1<C$99t&&C$99t<this._items.length&&(this._items[C$99t].selected=C$99e)},C$99i.createItem=function(C$99t,C$99e){return null},C$99i.changeLabels=function(){if(this._labelChanged=!1,this._items)for(var C$99t=0,C$99e=0,C$99i=this._items.length;C$99e<C$99i;C$99e++){var C$99n=this._items[C$99e];this._skin&&(C$99n.skin=this._skin),this._labelColors&&(C$99n.labelColors=this._labelColors),this._labelSize&&(C$99n.labelSize=this._labelSize),this._labelStroke&&(C$99n.labelStroke=this._labelStroke),this._labelStrokeColor&&(C$99n.labelStrokeColor=this._labelStrokeColor),this._strokeColors&&(C$99n.strokeColors=this._strokeColors),this._labelBold&&(C$99n.labelBold=this._labelBold),this._labelPadding&&(C$99n.labelPadding=this._labelPadding),this._labelAlign&&(C$99n.labelAlign=this._labelAlign),this._stateNum&&(C$99n.stateNum=this._stateNum),this._labelFont&&(C$99n.labelFont=this._labelFont),"horizontal"===this._direction?(C$99n.y=0,C$99n.x=C$99t,C$99t+=C$99n.width+this._space):(C$99n.x=0,C$99n.y=C$99t,C$99t+=C$99n.height+this._space)}this.changeSize()},C$99i.commitMeasure=function(){this.runCallLater(this.changeLabels)},C$99i._setLabelChanged=function(){this._labelChanged||(this._labelChanged=!0,this.callLater(this.changeLabels))},C$99e(0,C$99i,"labelStrokeColor",function(){return this._labelStrokeColor},function(C$99t){this._labelStrokeColor!=C$99t&&(this._labelStrokeColor=C$99t,this._setLabelChanged())}),C$99e(0,C$99i,"skin",function(){return this._skin},function(C$99t){this._skin!=C$99t&&(this._skin=C$99t,this._setLabelChanged())}),C$99e(0,C$99i,"selectedIndex",function(){return this._selectedIndex},function(C$99t){this._selectedIndex!=C$99t&&(this.setSelect(this._selectedIndex,!1),this._selectedIndex=C$99t,this.setSelect(C$99t,!0),this.event("change"),this.selectHandler&&this.selectHandler.runWith(this._selectedIndex))}),C$99e(0,C$99i,"labels",function(){return this._labels},function(C$99t){if(this._labels!=C$99t){if(this._labels=C$99t,this.removeChildren(),this._setLabelChanged(),this._labels)for(var C$99e=this._labels.split(","),C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++){var C$99r=this.createItem(this._skin,C$99e[C$99i]);C$99r.name="item"+C$99i,this.addChild(C$99r)}this.initItems()}}),C$99e(0,C$99i,"strokeColors",function(){return this._strokeColors},function(C$99t){this._strokeColors!=C$99t&&(this._strokeColors=C$99t,this._setLabelChanged())}),C$99e(0,C$99i,"labelColors",function(){return this._labelColors},function(C$99t){this._labelColors!=C$99t&&(this._labelColors=C$99t,this._setLabelChanged())}),C$99e(0,C$99i,"labelStroke",function(){return this._labelStroke},function(C$99t){this._labelStroke!=C$99t&&(this._labelStroke=C$99t,this._setLabelChanged())}),C$99e(0,C$99i,"labelSize",function(){return this._labelSize},function(C$99t){this._labelSize!=C$99t&&(this._labelSize=C$99t,this._setLabelChanged())}),C$99e(0,C$99i,"stateNum",function(){return this._stateNum},function(C$99t){this._stateNum!=C$99t&&(this._stateNum=C$99t,this._setLabelChanged())}),C$99e(0,C$99i,"labelBold",function(){return this._labelBold},function(C$99t){this._labelBold!=C$99t&&(this._labelBold=C$99t,this._setLabelChanged())}),C$99e(0,C$99i,"labelFont",function(){return this._labelFont},function(C$99t){this._labelFont!=C$99t&&(this._labelFont=C$99t,this._setLabelChanged())}),C$99e(0,C$99i,"labelPadding",function(){return this._labelPadding},function(C$99t){this._labelPadding!=C$99t&&(this._labelPadding=C$99t,this._setLabelChanged())}),C$99e(0,C$99i,"direction",function(){return this._direction},function(C$99t){this._direction=C$99t,this._setLabelChanged()}),C$99e(0,C$99i,"space",function(){return this._space},function(C$99t){this._space=C$99t,this._setLabelChanged()}),C$99e(0,C$99i,"items",function(){return this._items}),C$99e(0,C$99i,"selection",function(){return-1<this._selectedIndex&&this._selectedIndex<this._items.length?this._items[this._selectedIndex]:null},function(C$99t){this.selectedIndex=this._items.indexOf(C$99t)}),C$99e(0,C$99i,"dataSource",C$99r.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)&&Math.floor(C$99t)==C$99t||"string"==typeof C$99t?this.selectedIndex=parseInt(C$99t):C$99t instanceof Array?this.labels=C$99t.join(","):C$99f.superSet(C$99d,this,"dataSource",C$99t)}),$7zpd),C$99Z=(C$99t(pvz$df,"laya.ui.Radio",C$99_t=C$99z),(C$99i=pvz$df.prototype).destroy=function(C$99t){C$99_t.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._value=null},C$99i.preinitialize=function(){laya.ui.Component.prototype.preinitialize.call(this),this.toggle=!1,this._autoSize=!1},C$99i.initialize=function(){C$99_t.prototype.initialize.call(this),this.createText(),this._text.align="left",this._text.valign="top",this._text.width=0,this.on("click",this,this.onClick)},C$99i.onClick=function(C$99t){this.selected=!0},C$99e(0,C$99i,"value",function(){return null!=this._value?this._value:this.label},function(C$99t){this._value=C$99t}),pvz$df),C$99Q=(C$99t(ganrbj,"laya.ui.Tree",C$99r=C$99d),C$99i=ganrbj.prototype,C$99f.imps(C$99i,{"laya.ui.IRender":!0}),C$99i.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),laya.ui.Component.prototype.destroy.call(this,C$99t),this._list&&this._list.destroy(C$99t),this._list=null,this._source=null,this._renderHandler=null},C$99i.createChildren=function(){this.addChild(this._list=new C$99G),this._list.renderHandler=C$99g.create(this,this.renderItem,null,!1),this._list.repeatX=1,this._list.on("change",this,this.onListChange)},C$99i.onListChange=function(C$99t){this.event("change")},C$99i.getArray=function(){var C$99t=[];for(var C$99e in this._source)C$99e=this._source[C$99e],this.getParentOpenStatus(C$99e)&&(C$99e.x=this._spaceLeft*this.getDepth(C$99e),C$99t.push(C$99e));return C$99t},C$99i.getDepth=function(C$99t,C$99e){return void 0===C$99e&&(C$99e=0),null==C$99t.nodeParent?C$99e:this.getDepth(C$99t.nodeParent,C$99e+1)},C$99i.getParentOpenStatus=function(C$99t){C$99t=C$99t.nodeParent;return null==C$99t||!!C$99t.isOpen&&(null==C$99t.nodeParent||this.getParentOpenStatus(C$99t))},C$99i.renderItem=function(C$99t,C$99e){var C$99i=C$99t.dataSource;var C$99n;C$99i&&(C$99t.left=C$99i.x,(C$99n=C$99t.getChildByName("arrow"))&&(C$99i.hasChild?(C$99n.visible=!0,C$99n.index=C$99i.isOpen?1:0,C$99n.tag=C$99e,C$99n.off("click",this,this.onArrowClick),C$99n.on("click",this,this.onArrowClick)):C$99n.visible=!1),(C$99n=C$99t.getChildByName("folder"))&&(2==C$99n.clipY?C$99n.index=C$99i.isDirectory?0:1:C$99n.index=C$99i.isDirectory?C$99i.isOpen?1:0:2),this._renderHandler&&this._renderHandler.runWith([C$99t,C$99e]))},C$99i.onArrowClick=function(C$99t){C$99t=C$99t.currentTarget.tag;this._list.array[C$99t].isOpen=!this._list.array[C$99t].isOpen,this.event("open"),this._list.array=this.getArray()},C$99i.setItemState=function(C$99t,C$99e){this._list.array[C$99t]&&(this._list.array[C$99t].isOpen=C$99e,this._list.array=this.getArray())},C$99i.fresh=function(){this._list.array=this.getArray(),this.repaint()},C$99i.parseXml=function(C$99t,C$99e,C$99i,C$99n){var C$99r,C$99s=C$99t.childNodes,C$99a=C$99s.length;if(!C$99n){C$99r={};var C$99o=C$99t.attributes;for(var C$99h in C$99o){var C$99c=(C$99h=C$99o[C$99h]).nodeName,C$99h=C$99h.nodeValue;C$99r[C$99c]="true"==C$99h||"false"!=C$99h&&C$99h}C$99r.nodeParent=C$99i,0<C$99a&&(C$99r.isDirectory=!0),C$99r.hasChild=0<C$99a,C$99e.push(C$99r)}for(var C$99l=0;C$99l<C$99a;C$99l++){var C$99_=C$99s[C$99l];this.parseXml(C$99_,C$99e,C$99r,!1)}},C$99i.parseOpenStatus=function(C$99t,C$99e){for(var C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++){var C$99r=C$99e[C$99i];if(C$99r.isDirectory)for(var C$99s=0,C$99a=C$99t.length;C$99s<C$99a;C$99s++){var C$99o=C$99t[C$99s];if(C$99o.isDirectory&&this.isSameParent(C$99o,C$99r)&&C$99r.label==C$99o.label){C$99r.isOpen=C$99o.isOpen;break}}}},C$99i.isSameParent=function(C$99t,C$99e){return null==C$99t.nodeParent&&null==C$99e.nodeParent||null!=C$99t.nodeParent&&null!=C$99e.nodeParent&&C$99t.nodeParent.label==C$99e.nodeParent.label&&this.isSameParent(C$99t.nodeParent,C$99e.nodeParent)},C$99i.filter=function(C$99t){var C$99e;Boolean(C$99t)?(this.getFilterSource(this._source,C$99e=[],C$99t),this._list.array=C$99e):this._list.array=this.getArray()},C$99i.getFilterSource=function(C$99t,C$99e,C$99i){for(var C$99n in C$99i=C$99i.toLocaleLowerCase(),C$99t)!(C$99n=C$99t[C$99n]).isDirectory&&-1<String(C$99n.label).toLowerCase().indexOf(C$99i)&&(C$99n.x=0,C$99e.push(C$99n)),C$99n.child&&0<C$99n.child.length&&this.getFilterSource(C$99n.child,C$99e,C$99i)},C$99e(0,C$99i,"spaceBottom",function(){return this._list.spaceY},function(C$99t){this._list.spaceY=C$99t}),C$99e(0,C$99i,"keepStatus",function(){return this._keepStatus},function(C$99t){this._keepStatus=C$99t}),C$99e(0,C$99i,"itemRender",function(){return this._list.itemRender},function(C$99t){this._list.itemRender=C$99t}),C$99e(0,C$99i,"array",function(){return this._list.array},function(C$99t){this._keepStatus&&this._list.array&&C$99t&&this.parseOpenStatus(this._list.array,C$99t),this._source=C$99t,this._list.array=this.getArray()}),C$99e(0,C$99i,"mouseHandler",function(){return this._list.mouseHandler},function(C$99t){this._list.mouseHandler=C$99t}),C$99e(0,C$99i,"dataSource",C$99r.prototype._$get_dataSource,function(C$99t){this._dataSource=C$99t,C$99f.superSet(C$99d,this,"dataSource",C$99t)}),C$99e(0,C$99i,"source",function(){return this._source}),C$99e(0,C$99i,"scrollBar",function(){return this._list.scrollBar}),C$99e(0,C$99i,"list",function(){return this._list}),C$99e(0,C$99i,"scrollBarSkin",function(){return this._list.vScrollBarSkin},function(C$99t){this._list.vScrollBarSkin=C$99t}),C$99e(0,C$99i,"renderHandler",function(){return this._renderHandler},function(C$99t){this._renderHandler=C$99t}),C$99e(0,C$99i,"selectedIndex",function(){return this._list.selectedIndex},function(C$99t){this._list.selectedIndex=C$99t}),C$99e(0,C$99i,"spaceLeft",function(){return this._spaceLeft},function(C$99t){this._spaceLeft=C$99t}),C$99e(0,C$99i,"selectedItem",function(){return this._list.selectedItem},function(C$99t){this._list.selectedItem=C$99t}),C$99e(0,C$99i,"width",C$99r.prototype._$get_width,function(C$99t){C$99f.superSet(C$99d,this,"width",C$99t),this._list.width=C$99t}),C$99e(0,C$99i,"height",C$99r.prototype._$get_height,function(C$99t){C$99f.superSet(C$99d,this,"height",C$99t),this._list.height=C$99t}),C$99e(0,C$99i,"xml",null,function(C$99t){var C$99e=[];this.parseXml(C$99t.childNodes[0],C$99e,null,!0),this.array=C$99e}),C$99e(0,C$99i,"selectedPath",function(){return this._list.selectedItem?this._list.selectedItem.path:null}),ganrbj),C$99J=(C$99t(cv2t9,"laya.ui.ViewStack",C$99r=C$99d),C$99i=cv2t9.prototype,C$99f.imps(C$99i,{"laya.ui.IItem":!0}),C$99i.setItems=function(C$99t){this.removeChildren();for(var C$99e=0,C$99i=0,C$99n=C$99t.length;C$99i<C$99n;C$99i++){var C$99r=C$99t[C$99i];C$99r&&(C$99r.name="item"+C$99e,this.addChild(C$99r),C$99e++)}this.initItems()},C$99i.addItem=function(C$99t){C$99t.name="item"+this._items.length,this.addChild(C$99t),this.initItems()},C$99i.initItems=function(){this._items=[];for(var C$99t=0;C$99t<1e4;C$99t++){var C$99e=this.getChildByName("item"+C$99t);if(null==C$99e)break;this._items.push(C$99e),C$99e.visible=C$99t==this._selectedIndex}},C$99i.setSelect=function(C$99t,C$99e){this._items&&-1<C$99t&&C$99t<this._items.length&&(this._items[C$99t].visible=C$99e)},C$99i.setIndex=function(C$99t){this.selectedIndex=C$99t},C$99e(0,C$99i,"dataSource",C$99r.prototype._$get_dataSource,function(C$99t){if("number"==typeof(this._dataSource=C$99t)&&Math.floor(C$99t)==C$99t||"string"==typeof C$99t)this.selectedIndex=parseInt(C$99t);else for(var C$99e in this._dataSource)this.hasOwnProperty(C$99e)&&(this[C$99e]=this._dataSource[C$99e])}),C$99e(0,C$99i,"selectedIndex",function(){return this._selectedIndex},function(C$99t){this._selectedIndex!=C$99t&&(this.setSelect(this._selectedIndex,!1),this._selectedIndex=C$99t,this.setSelect(this._selectedIndex,!0))}),C$99e(0,C$99i,"selection",function(){return-1<this._selectedIndex&&this._selectedIndex<this._items.length?this._items[this._selectedIndex]:null},function(C$99t){this.selectedIndex=this._items.indexOf(C$99t)}),C$99e(0,C$99i,"items",function(){return this._items}),C$99e(0,C$99i,"setIndexHandler",function(){return this._setIndexHandler},function(C$99t){this._setIndexHandler=C$99t}),cv2t9),C$99tt=(C$99t(pef7oz,"laya.ui.VScrollBar",C$99O),pef7oz),C$99et=(C$99t(xyh_mw,"laya.ui.TextInput",C$99ct=C$99$),(C$99r=xyh_mw.prototype).preinitialize=function(){this.mouseEnabled=!0},C$99r.destroy=function(C$99t){C$99p.clearCache(this,this._skin),C$99ct.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._bg&&this._bg.destroy(),this._bg=null},C$99r.createChildren=function(){this.addChild(this._tf=new C$99v),this._tf.padding=C$99A.inputLabelPadding,this._tf.on("input",this,this._onInput),this._tf.on("enter",this,this._onEnter),this._tf.on("blur",this,this._onBlur),this._tf.on("focus",this,this._onFocus)},C$99r._onFocus=function(){this.event("focus",this)},C$99r._onBlur=function(){this.event("blur",this)},C$99r._onInput=function(){this.event("input",this)},C$99r._onEnter=function(){this.event("enter",this)},C$99r.initialize=function(){this.width=128,this.height=22},C$99r.select=function(){this._tf.select()},C$99r.setSelection=function(C$99t,C$99e){this._tf.setSelection(C$99t,C$99e)},C$99e(0,C$99r,"text",C$99ct.prototype._$get_text,function(C$99t){this._tf.text!=C$99t&&(this._tf.text=C$99t+="",this.event("change"))}),C$99e(0,C$99r,"bg",function(){return this._bg},function(C$99t){this.graphics=this._bg=C$99t}),C$99e(0,C$99r,"inputElementYAdjuster",function(){return this._tf.inputElementYAdjuster},function(C$99t){this._tf.inputElementYAdjuster=C$99t}),C$99e(0,C$99r,"multiline",function(){return this._tf.multiline},function(C$99t){this._tf.multiline=C$99t}),C$99e(0,C$99r,"skin",function(){return this._skin},function(C$99t){this._skin!=C$99t&&(C$99p.clearCache(this,this._skin),this._skin=C$99t,this._bg||(this.graphics=this._bg=new C$99P),C$99p.keepCache(this,this._skin),this._bg.source=C$99p.getRes(this._skin),this._width&&(this._bg.width=this._width),this._height&&(this._bg.height=this._height))}),C$99e(0,C$99r,"sizeGrid",function(){return this._bg&&this._bg.sizeGrid?this._bg.sizeGrid.join(","):null},function(C$99t){this._bg||(this.graphics=this._bg=new C$99P),this._bg.sizeGrid=C$99I.fillArray(C$99A.defaultSizeGrid,C$99t,Number)}),C$99e(0,C$99r,"inputElementXAdjuster",function(){return this._tf.inputElementXAdjuster},function(C$99t){this._tf.inputElementXAdjuster=C$99t}),C$99e(0,C$99r,"width",C$99ct.prototype._$get_width,function(C$99t){C$99f.superSet(C$99$,this,"width",C$99t),this._bg&&(this._bg.width=C$99t)}),C$99e(0,C$99r,"height",C$99ct.prototype._$get_height,function(C$99t){C$99f.superSet(C$99$,this,"height",C$99t),this._bg&&(this._bg.height=C$99t)}),C$99e(0,C$99r,"editable",function(){return this._tf.editable},function(C$99t){this._tf.editable=C$99t}),C$99e(0,C$99r,"restrict",function(){return this._tf.restrict},function(C$99t){this._tf.restrict=C$99t}),C$99e(0,C$99r,"prompt",function(){return this._tf.prompt},function(C$99t){this._tf.prompt=C$99t}),C$99e(0,C$99r,"promptColor",function(){return this._tf.promptColor},function(C$99t){this._tf.promptColor=C$99t}),C$99e(0,C$99r,"maxChars",function(){return this._tf.maxChars},function(C$99t){this._tf.maxChars=C$99t}),C$99e(0,C$99r,"focus",function(){return this._tf.focus},function(C$99t){this._tf.focus=C$99t}),C$99e(0,C$99r,"type",function(){return this._tf.type},function(C$99t){this._tf.type=C$99t}),C$99e(0,C$99r,"asPassword",function(){return this._tf.asPassword},function(C$99t){this._tf.asPassword=C$99t}),xyh_mw),C$99it=(C$99t(g618,"laya.ui.VSlider",C$99F),g618),C$99nt=(C$99t(xo7e,"laya.ui.Dialog",C$99i=C$99j),(C$99r=xo7e.prototype).initialize=function(){this.popupEffect=xo7e.manager.popupEffectHandler,this.closeEffect=xo7e.manager.closeEffectHandler,this._dealDragArea(),this.on("click",this,this._onClick)},C$99r._dealDragArea=function(){var C$99t=this.getChildByName("drag");C$99t&&(this.dragArea=C$99t.x+","+C$99t.y+","+C$99t.width+","+C$99t.height,C$99t.removeSelf())},C$99r._onClick=function(C$99t){var C$99e=C$99t.target;if(C$99e)switch(C$99e.name){case"close":case"cancel":case"sure":case"no":case"ok":case"yes":this.close(C$99e.name)}},C$99r.show=function(C$99t,C$99e){this._open(!1,C$99t=void 0===C$99t?!1:C$99t,C$99e=void 0===C$99e?!0:C$99e)},C$99r.popup=function(C$99t,C$99e){this._open(!0,C$99t=void 0===C$99t?!1:C$99t,C$99e=void 0===C$99e?!0:C$99e)},C$99r._open=function(C$99t,C$99e,C$99i){xo7e.manager.lock(!1),this.isModal=C$99t,xo7e.manager.open(this,C$99e,C$99i)},C$99r.onOpened=function(){},C$99r.close=function(C$99t,C$99e){xo7e.manager.close(this,C$99t,C$99e=void 0===C$99e?!0:C$99e)},C$99r.onClosed=function(C$99t){},C$99r._onMouseDown=function(C$99t){var C$99e=this.getMousePoint();this._dragArea.contains(C$99e.x,C$99e.y)?this.startDrag():this.stopDrag()},C$99e(0,C$99r,"dragArea",function(){return this._dragArea?this._dragArea.toString():null},function(C$99t){C$99t?(C$99t=C$99I.fillArray([0,0,0,0],C$99t,Number),this._dragArea=new C$99y(C$99t[0],C$99t[1],C$99t[2],C$99t[3]),this.on("mousedown",this,this._onMouseDown)):(this._dragArea=null,this.off("mousedown",this,this._onMouseDown))}),C$99e(0,C$99r,"isPopup",function(){return null!=this.parent}),C$99e(0,C$99r,"zOrder",C$99i.prototype._$get_zOrder,function(C$99t){C$99f.superSet(C$99j,this,"zOrder",C$99t),xo7e.manager._checkMask()}),C$99e(1,xo7e,"manager",function(){return xo7e._manager=xo7e._manager||new C$99L},function(C$99t){xo7e._manager=C$99t}),xo7e.setLockView=function(C$99t){xo7e.manager.setLockView(C$99t)},xo7e.lock=function(C$99t){xo7e.manager.lock(C$99t)},xo7e.closeAll=function(){xo7e.manager.closeAll()},xo7e.getDialogsByGroup=function(C$99t){return xo7e.manager.getDialogsByGroup(C$99t)},xo7e.closeByGroup=function(C$99t){return xo7e.manager.closeByGroup(C$99t)},xo7e.CLOSE="close",xo7e.CANCEL="cancel",xo7e.SURE="sure",xo7e.NO="no",xo7e.OK="ok",xo7e.YES="yes",xo7e._manager=null,xo7e),C$99rt=(C$99t(qoef7,"laya.ui.HBox",C$99r=C$99H),(C$99i=qoef7.prototype).sortItem=function(C$99t){C$99t&&C$99t.sort(function(C$99t,C$99e){return C$99t.x-C$99e.x})},C$99i.changeItems=function(){this._itemChanged=!1;for(var C$99t=[],C$99e=0,C$99i=0,C$99n=this.numChildren;C$99i<C$99n;C$99i++){var C$99r=this.getChildAt(C$99i);C$99r&&C$99r.layoutEnabled&&(C$99t.push(C$99r),C$99e=this._height||Math.max(C$99e,C$99r.height*C$99r.scaleY))}this.sortItem(C$99t);var C$99s=0;for(C$99i=0,C$99n=C$99t.length;C$99i<C$99n;C$99i++)(C$99r=C$99t[C$99i]).x=C$99s,C$99s+=C$99r.width*C$99r.scaleX+this._space,"top"==this._align?C$99r.y=0:"middle"==this._align?C$99r.y=.5*(C$99e-C$99r.height*C$99r.scaleY):"bottom"==this._align&&(C$99r.y=C$99e-C$99r.height*C$99r.scaleY);this.changeSize()},C$99e(0,C$99i,"height",C$99r.prototype._$get_height,function(C$99t){this._height!=C$99t&&(C$99f.superSet(C$99H,this,"height",C$99t),this.callLater(this.changeItems))}),qoef7.NONE="none",qoef7.TOP="top",qoef7.MIDDLE="middle",qoef7.BOTTOM="bottom",qoef7),C$99st=(C$99t(c924i,"laya.ui.VBox",C$99i=C$99H),(C$99r=c924i.prototype).changeItems=function(){this._itemChanged=!1;for(var C$99t=[],C$99e=0,C$99i=0,C$99n=this.numChildren;C$99i<C$99n;C$99i++){var C$99r=this.getChildAt(C$99i);C$99r&&C$99r.layoutEnabled&&(C$99t.push(C$99r),C$99e=this._width||Math.max(C$99e,C$99r.width*C$99r.scaleX))}this.sortItem(C$99t);var C$99s=0;for(C$99i=0,C$99n=C$99t.length;C$99i<C$99n;C$99i++)(C$99r=C$99t[C$99i]).y=C$99s,C$99s+=C$99r.height*C$99r.scaleY+this._space,"left"==this._align?C$99r.x=0:"center"==this._align?C$99r.x=.5*(C$99e-C$99r.width*C$99r.scaleX):"right"==this._align&&(C$99r.x=C$99e-C$99r.width*C$99r.scaleX);this.changeSize()},C$99e(0,C$99r,"width",C$99i.prototype._$get_width,function(C$99t){this._width!=C$99t&&(C$99f.superSet(C$99H,this,"width",C$99t),this.callLater(this.changeItems))}),c924i.NONE="none",c924i.LEFT="left",c924i.CENTER="center",c924i.RIGHT="right",c924i),C$99at=(C$99t(_my0xq,"laya.ui.RadioGroup",C$99a),_my0xq.prototype.createItem=function(C$99t,C$99e){return new C$99Z(C$99t,C$99e)},_my0xq),C$99ot=(C$99t(n1685,"laya.ui.Tab",C$99a),n1685.prototype.createItem=function(C$99t,C$99e){return new C$99z(C$99t,C$99e)},n1685),C$99ht=(C$99t(q7eox0,"laya.ui.TextArea",C$99lt=C$99et),(C$99r=q7eox0.prototype).destroy=function(C$99t){C$99lt.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._vScrollBar&&this._vScrollBar.destroy(),this._hScrollBar&&this._hScrollBar.destroy(),this._vScrollBar=null,this._hScrollBar=null},C$99r.initialize=function(){this.width=180,this.height=150,this._tf.wordWrap=!0,this.multiline=!0},C$99r.onVBarChanged=function(C$99t){this._tf.scrollY!=this._vScrollBar.value&&(this._tf.scrollY=this._vScrollBar.value)},C$99r.onHBarChanged=function(C$99t){this._tf.scrollX!=this._hScrollBar.value&&(this._tf.scrollX=this._hScrollBar.value)},C$99r.changeScroll=function(){var C$99t=this._vScrollBar&&0<this._tf.maxScrollY,C$99e=this._hScrollBar&&0<this._tf.maxScrollX,C$99i=C$99t?this._width-this._vScrollBar.width:this._width,C$99n=C$99e?this._height-this._hScrollBar.height:this._height,C$99r=this._tf.padding||C$99A.labelPadding;this._tf.width=C$99i,this._tf.height=C$99n,this._vScrollBar&&(this._vScrollBar.x=this._width-this._vScrollBar.width-C$99r[2],this._vScrollBar.y=C$99r[1],this._vScrollBar.height=this._height-(C$99e?this._hScrollBar.height:0)-C$99r[1]-C$99r[3],this._vScrollBar.scrollSize=1,this._vScrollBar.thumbPercent=C$99n/Math.max(this._tf.textHeight,C$99n),this._vScrollBar.setScroll(1,this._tf.maxScrollY,this._tf.scrollY),this._vScrollBar.visible=C$99t),this._hScrollBar&&(this._hScrollBar.x=C$99r[0],this._hScrollBar.y=this._height-this._hScrollBar.height-C$99r[3],this._hScrollBar.width=this._width-(C$99t?this._vScrollBar.width:0)-C$99r[0]-C$99r[2],this._hScrollBar.scrollSize=Math.max(.033*C$99i,1),this._hScrollBar.thumbPercent=C$99i/Math.max(this._tf.textWidth,C$99i),this._hScrollBar.setScroll(0,this.maxScrollX,this.scrollX),this._hScrollBar.visible=C$99e)},C$99r.scrollTo=function(C$99t){this.commitMeasure(),this._tf.scrollY=C$99t},C$99e(0,C$99r,"scrollY",function(){return this._tf.scrollY}),C$99e(0,C$99r,"width",C$99lt.prototype._$get_width,function(C$99t){C$99f.superSet(C$99et,this,"width",C$99t),this.callLater(this.changeScroll)}),C$99e(0,C$99r,"hScrollBar",function(){return this._hScrollBar}),C$99e(0,C$99r,"height",C$99lt.prototype._$get_height,function(C$99t){C$99f.superSet(C$99et,this,"height",C$99t),this.callLater(this.changeScroll)}),C$99e(0,C$99r,"maxScrollX",function(){return this._tf.maxScrollX}),C$99e(0,C$99r,"vScrollBarSkin",function(){return this._vScrollBar?this._vScrollBar.skin:null},function(C$99t){null==this._vScrollBar&&(this.addChild(this._vScrollBar=new C$99tt),this._vScrollBar.on("change",this,this.onVBarChanged),this._vScrollBar.target=this._tf,this.callLater(this.changeScroll)),this._vScrollBar.skin=C$99t}),C$99e(0,C$99r,"hScrollBarSkin",function(){return this._hScrollBar?this._hScrollBar.skin:null},function(C$99t){null==this._hScrollBar&&(this.addChild(this._hScrollBar=new C$99Y),this._hScrollBar.on("change",this,this.onHBarChanged),this._hScrollBar.mouseWheelEnable=!1,this._hScrollBar.target=this._tf,this.callLater(this.changeScroll)),this._hScrollBar.skin=C$99t}),C$99e(0,C$99r,"vScrollBar",function(){return this._vScrollBar}),C$99e(0,C$99r,"maxScrollY",function(){return this._tf.maxScrollY}),C$99e(0,C$99r,"scrollX",function(){return this._tf.scrollX}),q7eox0);function q7eox0(C$99t){this._vScrollBar=null,this._hScrollBar=null,q7eox0.__super.call(this,C$99t=void 0===C$99t?"":C$99t)}var C$99lt;function n1685(){n1685.__super.call(this)}function _my0xq(){_my0xq.__super.call(this)}function c924i(){c924i.__super.call(this)}function qoef7(){qoef7.__super.call(this)}function xo7e(){this.popupCenter=!0,this.closeHandler=null,this.popupEffect=null,this.closeEffect=null,this.group=null,this.isModal=!1,this._dragArea=null,xo7e.__super.call(this)}function g618(){g618.__super.call(this)}function xyh_mw(C$99t){this._bg=null,this._skin=null,xyh_mw.__super.call(this),this.text=C$99t=void 0===C$99t?"":C$99t,this.skin=this.skin}var C$99ct;function pef7oz(){pef7oz.__super.call(this)}function cv2t9(){this._items=null,this._selectedIndex=0,cv2t9.__super.call(this),this._setIndexHandler=C$99g.create(this,this.setIndex,null,!1)}function ganrbj(){this._list=null,this._source=null,this._renderHandler=null,this._spaceLeft=10,this._spaceBottom=0,this._keepStatus=!0,ganrbj.__super.call(this),this.width=this.height=200}function pvz$df(C$99t,C$99e){this._value=null,pvz$df.__super.call(this,C$99t,C$99e=void 0===C$99e?"":C$99e)}var C$99_t;function $7zpd(C$99t,C$99e){this.selectHandler=null,this._items=null,this._selectedIndex=-1,this._skin=null,this._direction="horizontal",this._space=0,this._labels=null,this._labelColors=null,this._labelFont=null,this._labelStrokeColor=null,this._strokeColors=null,this._labelStroke=NaN,this._labelSize=0,this._labelBold=!1,this._labelPadding=null,this._labelAlign=null,this._stateNum=0,this._labelChanged=!1,$7zpd.__super.call(this),this.skin=C$99e,this.labels=C$99t}function vi29(C$99t){vi29.__super.call(this,C$99t),this.isVertical=!1}function zfdo7p(){this._content=null,this._vScrollBar=null,this._hScrollBar=null,this._scrollChanged=!1,zfdo7p.__super.call(this),this.width=this.height=100}function bskjau(){bskjau.__super.call(this)}var C$99ut;function tci4l(){this.selectHandler=null,this.renderHandler=null,this.renderTwHandler=null,this.mouseHandler=null,this.selectEnable=!1,this.totalPage=0,this._content=null,this._scrollBar=null,this._itemRender=null,this._repeatX=0,this._repeatY=0,this._repeatX2=0,this._repeatY2=0,this._spaceX=0,this._spaceY=0,this._array=null,this._startIndex=0,this._selectedIndex=-1,this._page=0,this._isVertical=!0,this._cellSize=20,this._cellOffset=0,this._isMoved=!1,this._twSwitch=!0,this._twDone=!0,this.cacheContent=!1,this._createdLine=0,this._cellChanged=!1,this._cells=[],this._offset=new C$99x,tci4l.__super.call(this)}function n681(C$99t,C$99e){this._valueArr=null,this._indexMap=null,this._sheet=null,this._direction="horizontal",this._spaceX=0,this._spaceY=0,this._align="left",this._wordsW=0,this._wordsH=0,n681.__super.call(this),C$99t&&(this.skin=C$99t),C$99e&&(this.sheet=C$99e)}var C$99dt;function e0_qy(){this._space=0,this._align="none",this._itemChanged=!1,e0_qy.__super.call(this)}function i24tl(C$99t,C$99e){i24tl.__super.call(this,C$99t,C$99e=void 0===C$99e?"":C$99e)}var C$99ft;function kaujb(){this._idMap=null,this._aniList=null,this._watchMap={},kaujb.__super.call(this)}var C$99pt;function qf7eo(){this._tipBox=null,this._tipText=null,this._defaultTipHandler=null,qf7eo.__super.call(this),this._tipBox=new C$99n,this._tipBox.addChild(this._tipText=new C$99T),this._tipText.x=this._tipText.y=5,this._tipText.color=qf7eo.tipTextColor,this._defaultTipHandler=this._showDefaultTip,C$99f.stage.on("showtip",this,this._onStageShowTip),C$99f.stage.on("hidetip",this,this._onStageHideTip),this.zOrder=1100}function raksjb(C$99t){this.changeHandler=null,this._bg=null,this._bar=null,this._skin=null,this._value=.5,raksjb.__super.call(this),this.skin=C$99t}var C$99mt;function nba(C$99t){this._tf=null,nba.__super.call(this),void 0===C$99t&&(C$99t=""),C$99_.defaultColor=C$99A.labelColor,this.text=C$99t}var C$99gt;function xq0y(C$99t){this._bitmap=null,this._skin=null,this._group=null,this._complete=null,this._progress=null,xq0y.__super.call(this),this.skin=C$99t}var C$99vt;function vfz$d(C$99t){this.changeHandler=null,this.isVertical=!0,this.showLabel=!0,this._allowClickBack=!1,this._max=100,this._min=0,this._tick=1,this._value=0,this._skin=null,this._bg=null,this._progress=null,this._bar=null,this._tx=NaN,this._ty=NaN,this._maxMove=NaN,this._globalSacle=null,vfz$d.__super.call(this),this.skin=C$99t}var C$99xt;function sjabu(C$99t){this.rollRatio=.95,this.changeHandler=null,this.scaleBar=!0,this.autoHide=!1,this.elasticDistance=0,this.elasticBackTime=500,this.upButton=null,this.downButton=null,this.slider=null,this._scrollSize=1,this._skin=null,this._thumbPercent=1,this._target=null,this._lastPoint=null,this._lastOffset=0,this._checkElastic=!1,this._isElastic=!1,this._value=NaN,this._hide=!1,this._clickOnly=!0,this._offsets=null,sjabu.__super.call(this),this._showButtons=C$99R.showButtons,this._touchScrollEnable=C$99R.touchScrollEnable,this._mouseWheelEnable=C$99R.mouseWheelEnable,this.skin=C$99t,this.max=1}var C$99yt;function bn3gr(C$99t,C$99e){this._visibleNum=6,this._button=null,this._list=null,this._isOpen=!1,this._itemSize=12,this._labels=[],this._selectedIndex=-1,this._selectHandler=null,this._itemHeight=NaN,this._listHeight=NaN,this._listChanged=!1,this._itemChanged=!1,this._scrollBarSkin=null,this._isCustomList=!1,this.itemRender=null,bn3gr.__super.call(this),this._itemColors=C$99A.comboBoxItemColors,this.skin=C$99t,this.labels=C$99e}var C$99bt;function _65hwm(){this.changeHandler=null,this._gridSize=11,this._bgColor="#ffffff",this._borderColor="#000000",this._inputColor="#000000",this._inputBgColor="#efefef",this._colorPanel=null,this._colorTiles=null,this._colorBlock=null,this._colorInput=null,this._colorButton=null,this._colors=[],this._selectedColor="#000000",this._panelChanged=!1,_65hwm.__super.call(this)}var C$99wt;function h518(C$99t,C$99e,C$99i){this._sources=null,this._bitmap=null,this._skin=null,this._clipX=1,this._clipY=1,this._clipWidth=0,this._clipHeight=0,this._autoPlay=!1,this._interval=50,this._isPlaying=!1,this._index=0,this._clipChanged=!1,this._group=null,this._toIndex=-1,this._complete=null,this._progress=null,h518.__super.call(this),void 0===C$99i&&(C$99i=1),this._clipX=C$99e=void 0===C$99e?1:C$99e,this._clipY=C$99i,this.skin=C$99t}var C$99Tt;function $ctv(C$99t,C$99e){this.toggle=!1,this._bitmap=null,this._text=null,this._strokeColors=null,this._state=0,this._selected=!1,this._skin=null,this._autoSize=!0,this._sources=null,this._clickHandler=null,this._stateChanged=!1,$ctv.__super.call(this),this._labelColors=C$99A.buttonLabelColors,this._stateNum=C$99A.buttonStateNum,void 0===C$99e&&(C$99e=""),this.skin=C$99t,this.label=C$99e}var C$99Mt;function pz7oef(){pz7oef.__super.call(this)}var C$99r;function fpd7zo(){this.lockLayer=null,this.popupEffect=function(C$99t){C$99t.scale(1,1),C$99S.from(C$99t,{x:C$99f.stage.width/2,y:C$99f.stage.height/2,scaleX:0,scaleY:0},300,C$99l.backOut,C$99g.create(this,this.doOpen,[C$99t]))},this.closeEffect=function(C$99t,C$99e){C$99S.to(C$99t,{x:C$99f.stage.width/2,y:C$99f.stage.height/2,scaleX:0,scaleY:0},300,C$99l.strongOut,C$99g.create(this,this.doClose,[C$99t,C$99e]))},fpd7zo.__super.call(this),this.maskLayer=new C$99w,this.popupEffectHandler=C$99g.create(this,this.popupEffect,null,!1),this.closeEffectHandler=C$99g.create(this,this.closeEffect,null,!1),this.mouseEnabled=this.maskLayer.mouseEnabled=!0,this.zOrder=1e3,C$99f.stage.addChild(this),C$99f.stage.on("resize",this,this._onResize),C$99R.closeDialogOnSide&&this.maskLayer.on("click",this,this._closeOnSide),this._onResize(null)}function bjrn(){this._comXml=null,this._dataSource=null,this._toolTip=null,this._tag=null,this._disabled=!1,this._gray=!1,this.layoutEnabled=!0,bjrn.__super.call(this),this._layout=C$99E.EMPTY,this.preinitialize(),this.createChildren(),this.initialize()}var C$99St;function zfdpv(){zfdpv.__super.call(this)}function ozep7(){this.autoCacheCmd=!0,this._width=0,this._height=0,this._source=null,this._sizeGrid=null,this._isChanged=!1,this._offset=null,ozep7.__super.call(this),this._weakKeys=[]}var C$99Ct;function c24t9(){}function nrjagb(){}function rjnb(){}function t4i2lc(){this.enable=!1,this.top=NaN,this.bottom=NaN,this.left=NaN,this.right=NaN,this.centerX=NaN,this.centerY=NaN,this.anchorX=NaN,this.anchorY=NaN}function ct492(){this._uiView=null,this.isCloseOther=!1,ct492.__super.call(this)}C$99t(ct492,"laya.ui.AsynDialog",C$99nt),(C$99i=ct492.prototype).createView=function(C$99t){this._uiView=C$99t},C$99i._open=function(C$99t,C$99e,C$99i){this.isModal=C$99t,this.isCloseOther=C$99e,C$99nt.manager.lock(!0),this._uiView?this.onCreated():this.onOpen()},C$99i.onCreated=function(){this.createUI(),this.onOpen()},C$99i.createUI=function(){laya.ui.View.prototype.createView.call(this,this._uiView),this._uiView=null,this._dealDragArea()},C$99i.onOpen=function(){C$99nt.manager.open(this,this.isCloseOther),C$99nt.manager.lock(!1)},C$99i.close=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!0),C$99nt.manager.close(this),this.onClose()},C$99i.onClose=function(){},C$99i.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),laya.ui.View.prototype.destroy.call(this,C$99t),this._uiView=null,this.onDestroy()},C$99i.onDestroy=function(){},C$99f.__init([C$99j])}(window,(document,tepfz7)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$99t,C$99e){"use strict";for(var C$99i in Object.defineProperty(C$99e,"__esModule",{value:!0}),tepfz7){var C$99n=tepfz7[C$99i];C$99n&&C$99n.__isclass&&(C$99e[C$99i]=C$99n)}}),function(C$99o,C$99b){C$99b.un,C$99b.uns;var C$99h=C$99b.static,C$99t=C$99b.class,C$99e=C$99b.getset,C$99l=C$99b.__newvec,C$99p=laya.maths.Arith,C$99c=laya.webgl.atlas.AtlasResourceManager,C$99_=laya.webgl.shader.BaseShader,C$99M=laya.utils.Browser,C$99u=laya.webgl.utils.Buffer,C$99x=laya.utils.Byte,C$99d=laya.utils.ClassUtils,C$99f=C$99b.Config,C$99m=(laya.events.Event,laya.events.EventDispatcher),C$99w=laya.utils.Handler,C$99g=laya.net.Loader,C$99v=laya.net.LoaderManager,C$99y=(laya.maths.MathUtil,laya.display.Node),C$99T=laya.renders.Render,C$99S=(laya.renders.RenderContext,laya.renders.RenderSprite,laya.webgl.utils.RenderState2D),C$99C=laya.resource.Resource,C$99D=laya.utils.RunDriver,C$99E=(laya.webgl.shader.Shader,laya.webgl.utils.ShaderCompile),C$99I=laya.display.Sprite,C$99R=laya.utils.Stat,C$99P=laya.utils.StringKey,C$99L=(laya.display.css.Style,laya.resource.Texture,laya.net.URL),C$99z=laya.utils.Utils,C$99k=laya.webgl.WebGL,C$99B=laya.webgl.WebGLContext;function m_0yxq(){}function abjgk(){}laya.webgl.canvas.WebGLContext2D,C$99b.interface("laya.d3.core.IClone"),C$99b.interface("laya.d3.graphics.IVertex"),C$99b.interface("laya.d3.core.render.IUpdate"),C$99b.interface("laya.d3.core.scene.ITreeNode"),C$99b.interface("laya.d3.core.render.IRenderable"),C$99t(abjgk,"laya.d3.animation.AnimationClipParser01"),abjgk.READ_DATA=function(){abjgk._DATA.offset=abjgk._reader.getUint32(),abjgk._DATA.size=abjgk._reader.getUint32()},abjgk.READ_BLOCK=function(){for(var C$99t=abjgk._BLOCK.count=abjgk._reader.getUint16(),C$99e=abjgk._BLOCK.blockStarts=[],C$99i=abjgk._BLOCK.blockLengths=[],C$99n=0;C$99n<C$99t;C$99n++)C$99e.push(abjgk._reader.getUint32()),C$99i.push(abjgk._reader.getUint32())},abjgk.READ_STRINGS=function(){var C$99t=abjgk._reader.getUint32(),C$99e=abjgk._reader.getUint16(),C$99i=abjgk._reader.pos;abjgk._reader.pos=C$99t+abjgk._DATA.offset;for(var C$99n=0;C$99n<C$99e;C$99n++)abjgk._strings[C$99n]=abjgk._reader.readUTFString();abjgk._reader.pos=C$99i},abjgk.parse=function(C$99t,C$99e){abjgk._animationClip=C$99t,(abjgk._reader=C$99e).__getBuffer(),abjgk.READ_DATA(),abjgk.READ_BLOCK(),abjgk.READ_STRINGS();for(var C$99i=0,C$99n=abjgk._BLOCK.count;C$99i<C$99n;C$99i++){var C$99r=C$99e.getUint16(),C$99s=abjgk._strings[C$99r],C$99a=abjgk["READ_"+C$99s];if(null==C$99a)throw new Error("model file err,no this function:"+C$99r+" "+C$99s);C$99a.call()}},abjgk.READ_ANIMATIONS=function(){var C$99t,C$99e=0,C$99i=0,C$99n=abjgk._reader,C$99c=C$99n.__getBuffer(),C$99_=[],C$99u=C$99n.getUint8();for(C$99_.length=C$99u,C$99e=0;C$99e<C$99u;C$99e++)C$99_[C$99e]=C$99n.getUint16();var C$99d=[],C$99f=C$99n.getUint16();for(C$99d.length=C$99f,C$99e=0;C$99e<C$99f;C$99e++)C$99d[C$99e]=C$99n.getFloat32();var C$99r=abjgk._animationClip;C$99r.name=abjgk._strings[C$99n.getUint16()];var C$99p=C$99r._duration=C$99n.getFloat32();C$99r.islooping=!!C$99n.getByte(),C$99r._frameRate=C$99n.getInt16();var C$99m=C$99n.getInt16(),C$99g=C$99r._nodes=[];C$99g.length=C$99m,(C$99r._publicClipDatas=[]).length=C$99m;var C$99v=C$99r._nodesMap={},C$99x=0,C$99y=0;for(C$99e=0;C$99e<C$99m;C$99e++){C$99t=C$99g[C$99e]=new C$99V;var C$99b=C$99n.getUint16(),C$99w=C$99t.path=[];for(C$99w.length=C$99b,C$99i=0;C$99i<C$99b;C$99i++)C$99w[C$99i]=abjgk._strings[C$99n.getUint16()];var C$99s=C$99w.join("/"),C$99a=C$99v[C$99s];C$99a||(C$99v[C$99s]=C$99a=[]),C$99a.push(C$99t);C$99s=C$99n.getInt16();-1!==C$99s&&(C$99t.componentType=abjgk._strings[C$99s]);C$99a=C$99O._propertyIndexDic[abjgk._strings[C$99n.getUint16()]];if(null==C$99a)throw new Error("AnimationClipParser01:unknown property name.");C$99s=C$99a<4,C$99s=!C$99s||""===C$99w[0];(C$99t._cacheProperty=C$99s)?C$99x++:C$99y++,C$99t.propertyNameID=C$99a;var C$99o=C$99_[C$99n.getUint8()];C$99t.keyFrameWidth=C$99o/4;var C$99T=C$99t.keyFrames=[],C$99M=C$99T.length=C$99n.getUint16(),C$99S=null,C$99C=NaN;for(C$99i=0;C$99i<C$99M;C$99i++){var C$99h=C$99T[C$99i]=new C$99F;C$99C=C$99h.startTime=C$99d[C$99n.getUint16()];var C$99l=C$99n.pos;C$99h.inTangent=new Float32Array(C$99c.slice(C$99l,C$99l+C$99o)),C$99n.pos+=C$99o,C$99l=C$99n.pos,C$99h.outTangent=new Float32Array(C$99c.slice(C$99l,C$99l+C$99o)),C$99n.pos+=C$99o,C$99l=C$99n.pos,C$99h.data=new Float32Array(C$99c.slice(C$99l,C$99l+C$99o)),C$99n.pos+=C$99o,C$99S&&(C$99S.next=C$99h,C$99S.duration=C$99C-C$99S.startTime),C$99S=C$99h}C$99h.next=null,C$99h.duration=C$99p-C$99C}var C$99D=C$99r._nodeToCachePropertyMap=new Int32Array(C$99m),C$99E=C$99r._cachePropertyMap=new Int32Array(C$99x),C$99A=C$99r._unCachePropertyMap=new Int32Array(C$99y);for(C$99e=C$99x=C$99y=0;C$99e<C$99m;C$99e++)(C$99t=C$99g[C$99e])._cacheProperty?(C$99D[C$99e]=C$99x,C$99E[C$99x++]=C$99e):C$99A[C$99y++]=C$99e},abjgk._animationClip=null,abjgk._reader=null,abjgk._strings=[],C$99h(abjgk,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]),C$99t(m_0yxq,"laya.d3.animation.AnimationClipParser02"),m_0yxq.READ_DATA=function(){m_0yxq._DATA.offset=m_0yxq._reader.getUint32(),m_0yxq._DATA.size=m_0yxq._reader.getUint32()},m_0yxq.READ_BLOCK=function(){for(var C$99t=m_0yxq._BLOCK.count=m_0yxq._reader.getUint16(),C$99e=m_0yxq._BLOCK.blockStarts=[],C$99i=m_0yxq._BLOCK.blockLengths=[],C$99n=0;C$99n<C$99t;C$99n++)C$99e.push(m_0yxq._reader.getUint32()),C$99i.push(m_0yxq._reader.getUint32())},m_0yxq.READ_STRINGS=function(){var C$99t=m_0yxq._reader.getUint32(),C$99e=m_0yxq._reader.getUint16(),C$99i=m_0yxq._reader.pos;m_0yxq._reader.pos=C$99t+m_0yxq._DATA.offset;for(var C$99n=0;C$99n<C$99e;C$99n++)m_0yxq._strings[C$99n]=m_0yxq._reader.readUTFString();m_0yxq._reader.pos=C$99i},m_0yxq.parse=function(C$99t,C$99e){m_0yxq._animationClip=C$99t,(m_0yxq._reader=C$99e).__getBuffer(),m_0yxq.READ_DATA(),m_0yxq.READ_BLOCK(),m_0yxq.READ_STRINGS();for(var C$99i=0,C$99n=m_0yxq._BLOCK.count;C$99i<C$99n;C$99i++){var C$99r=C$99e.getUint16(),C$99s=m_0yxq._strings[C$99r],C$99a=m_0yxq["READ_"+C$99s];if(null==C$99a)throw new Error("model file err,no this function:"+C$99r+" "+C$99s);C$99a.call()}},m_0yxq.READ_ANIMATIONS=function(){var C$99t,C$99e=0,C$99i=0,C$99n=m_0yxq._reader,C$99c=C$99n.__getBuffer(),C$99_=[],C$99u=C$99n.getUint8();for(C$99_.length=C$99u,C$99e=0;C$99e<C$99u;C$99e++)C$99_[C$99e]=C$99n.getUint16();var C$99d=[],C$99f=C$99n.getUint16();for(C$99d.length=C$99f,C$99e=0;C$99e<C$99f;C$99e++)C$99d[C$99e]=C$99n.getFloat32();var C$99r=m_0yxq._animationClip;C$99r.name=m_0yxq._strings[C$99n.getUint16()];var C$99p=C$99r._duration=C$99n.getFloat32();C$99r.islooping=!!C$99n.getByte(),C$99r._frameRate=C$99n.getInt16();var C$99m=C$99n.getInt16(),C$99g=C$99r._nodes=[];C$99g.length=C$99m,(C$99r._publicClipDatas=[]).length=C$99m;var C$99v=C$99r._nodesMap={},C$99x=0,C$99y=0;for(C$99e=0;C$99e<C$99m;C$99e++){C$99t=C$99g[C$99e]=new C$99V;var C$99b=C$99n.getUint16(),C$99w=C$99t.path=[];for(C$99w.length=C$99b,C$99i=0;C$99i<C$99b;C$99i++)C$99w[C$99i]=m_0yxq._strings[C$99n.getUint16()];var C$99s=C$99w.join("/"),C$99a=C$99v[C$99s];C$99a||(C$99v[C$99s]=C$99a=[]),C$99a.push(C$99t);C$99s=C$99n.getInt16();-1!==C$99s&&(C$99t.componentType=m_0yxq._strings[C$99s]);C$99a=C$99O._propertyIndexDic[m_0yxq._strings[C$99n.getUint16()]];if(null==C$99a)throw new Error("AnimationClipParser02:unknown property name.");C$99s=C$99a<4,C$99s=!C$99s||""===C$99w[0];(C$99t._cacheProperty=C$99s)?C$99x++:C$99y++,C$99t.propertyNameID=C$99a;var C$99o=C$99_[C$99n.getUint8()];C$99t.keyFrameWidth=C$99o/4;var C$99T=C$99t.keyFrames=[],C$99M=C$99T.length=C$99n.getUint16(),C$99S=null,C$99C=NaN;for(C$99i=0;C$99i<C$99M;C$99i++){var C$99h=C$99T[C$99i]=new C$99F;C$99C=C$99h.startTime=C$99d[C$99n.getUint16()];var C$99l=C$99n.pos;C$99h.inTangent=new Float32Array(C$99c.slice(C$99l,C$99l+C$99o)),C$99n.pos+=C$99o,C$99l=C$99n.pos,C$99h.outTangent=new Float32Array(C$99c.slice(C$99l,C$99l+C$99o)),C$99n.pos+=C$99o,C$99l=C$99n.pos,C$99h.data=new Float32Array(C$99c.slice(C$99l,C$99l+C$99o)),C$99n.pos+=C$99o,C$99S&&(C$99S.next=C$99h,C$99S.duration=C$99C-C$99S.startTime),C$99S=C$99h}C$99h.next=null,C$99h.duration=C$99p-C$99C}var C$99D=C$99n.getUint16();for(C$99e=0;C$99e<C$99D;C$99e++){var C$99E,C$99A=new C$99N;C$99A.time=C$99n.getFloat32(),C$99A.eventName=m_0yxq._strings[C$99n.getUint16()];var C$99I=C$99n.getUint16();for(0<C$99I&&(C$99A.params=C$99E=[]),C$99i=0;C$99i<C$99I;C$99i++)switch(C$99n.getByte()){case 0:C$99E.push(!!C$99n.getByte());break;case 1:C$99E.push(C$99n.getInt32());break;case 2:C$99E.push(C$99n.getFloat32());break;case 3:C$99E.push(m_0yxq._strings[C$99n.getUint16()]);break;default:throw new Error("unknown type.")}C$99r.addEvent(C$99A)}var C$99R=C$99r._nodeToCachePropertyMap=new Int32Array(C$99m),C$99P=C$99r._cachePropertyMap=new Int32Array(C$99x),C$99L=C$99r._unCachePropertyMap=new Int32Array(C$99y);for(C$99e=C$99x=C$99y=0;C$99e<C$99m;C$99e++)(C$99t=C$99g[C$99e])._cacheProperty?(C$99R[C$99e]=C$99x,C$99P[C$99x++]=C$99e):C$99L[C$99y++]=C$99e},m_0yxq._animationClip=null,m_0yxq._reader=null,m_0yxq._strings=[],C$99h(m_0yxq,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]);C$99t(jnragb,"laya.d3.animation.AnimationEvent");var C$99N=jnragb,C$99O=(C$99t(hxy0_,"laya.d3.animation.AnimationNode"),C$99i=hxy0_.prototype,C$99b.imps(C$99i,{"laya.d3.core.IClone":!0}),C$99i.addChild=function(C$99t){C$99t._parent=this,C$99t.transform.setParent(this.transform),this._childs.push(C$99t)},C$99i.removeChild=function(C$99t){C$99t=this._childs.indexOf(C$99t);-1!==C$99t&&this._childs.splice(C$99t,1)},C$99i.getChildByName=function(C$99t){for(var C$99e=0,C$99i=this._childs.length;C$99e<C$99i;C$99e++){var C$99n=this._childs[C$99e];if(C$99n.name===C$99t)return C$99n}return null},C$99i.getChildByIndex=function(C$99t){return this._childs[C$99t]},C$99i.getChildCount=function(){return this._childs.length},C$99i.cloneTo=function(C$99t){var C$99e=C$99t;C$99e.name=this.name;for(var C$99i=0,C$99n=this._childs.length;C$99i<C$99n;C$99i++){var C$99r=this._childs[C$99i],C$99s=C$99r.clone();C$99e.addChild(C$99s);C$99r=C$99r.transform,C$99s=C$99s.transform;C$99s.setLocalPosition(C$99r.getLocalPosition()),C$99s.setLocalRotation(C$99r.getLocalRotation()),C$99s.setLocalScale(C$99r.getLocalScale()),C$99s._localRotationEuler=C$99r._localRotationEuler,C$99s._setWorldMatrixIgnoreUpdate(C$99r.getWorldMatrix())}},C$99i.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},hxy0_.__init__=function(){hxy0_.registerAnimationNodeProperty("localPosition",hxy0_._getLocalPosition,hxy0_._setLocalPosition),hxy0_.registerAnimationNodeProperty("localRotation",hxy0_._getLocalRotation,hxy0_._setLocalRotation),hxy0_.registerAnimationNodeProperty("localScale",hxy0_._getLocalScale,hxy0_._setLocalScale),hxy0_.registerAnimationNodeProperty("localRotationEuler",hxy0_._getLocalRotationEuler,hxy0_._setLocalRotationEuler),hxy0_.registerAnimationNodeProperty("particleRender.sharedMaterial.tintColor",hxy0_._getParticleRenderSharedMaterialTintColor,hxy0_._setParticleRenderSharedMaterialTintColor),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.tilingOffset",hxy0_._getMeshRenderSharedMaterialTilingOffset,hxy0_._setMeshRenderSharedMaterialTilingOffset),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.albedoColor",hxy0_._getMeshRenderSharedMaterialAlbedo,hxy0_._setMeshRenderSharedMaterialAlbedo),hxy0_.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.tilingOffset",hxy0_._getSkinnedMeshRenderSharedMaterialTilingOffset,hxy0_._setSkinnedMeshRenderSharedMaterialTilingOffset),hxy0_.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.albedoColor",hxy0_._getSkinnedMeshRenderSharedMaterialAlbedo,hxy0_._setSkinnedMeshRenderSharedMaterialAlbedo),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.albedo",hxy0_._getMeshRenderSharedMaterialAlbedo,hxy0_._setMeshRenderSharedMaterialAlbedo),hxy0_.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.albedo",hxy0_._getSkinnedMeshRenderSharedMaterialAlbedo,hxy0_._setSkinnedMeshRenderSharedMaterialAlbedo),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.intensity",hxy0_._getMeshRenderSharedMaterialIntensity,hxy0_._setMeshRenderSharedMaterialIntensity),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.alpha",hxy0_._getMeshRenderSharedMaterialAlpha,hxy0_._setMeshRenderSharedMaterialAlpha),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.alphaColor",hxy0_._getMeshRenderSharedMaterialAlphaColor,hxy0_._setMeshRenderSharedMaterialAlphaColor),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.baseColor",hxy0_._getMeshRenderSharedMaterialBaseColor,hxy0_._setMeshRenderSharedMaterialBaseColor),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.dissolve",hxy0_._getMeshRenderSharedMaterialDissolve,hxy0_._setMeshRenderSharedMaterialDissolve),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.dissolveSpeed",hxy0_._getMeshRenderSharedMaterialDissolveSpeed,hxy0_._setMeshRenderSharedMaterialDissolveSpeed),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.mMultiplier",hxy0_._getMeshRenderSharedMaterialMMultiplier,hxy0_._setMeshRenderSharedMaterialMMultiplier),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.baseScrollSpeedX",hxy0_._getMeshRenderSharedMaterialBaseScrollSpeedX,hxy0_._setMeshRenderSharedMaterialBaseScrollSpeedX),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.baseScrollSpeedY",hxy0_._getMeshRenderSharedMaterialBaseScrollSpeedY,hxy0_._setMeshRenderSharedMaterialBaseScrollSpeedY),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.secondScrollSpeedX",hxy0_._getMeshRenderSharedMaterialSecondScrollSpeedX,hxy0_._setMeshRenderSharedMaterialSecondScrollSpeedX),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.secondScrollSpeedY",hxy0_._getMeshRenderSharedMaterialSecondScrollSpeedY,hxy0_._setMeshRenderSharedMaterialSecondScrollSpeedY),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.detailTilingOffset",hxy0_._getMeshRenderSharedMaterialDetailTilingOffset,hxy0_._setMeshRenderSharedMaterialDetailTilingOffset),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.dissolveTilingOffset",hxy0_._getMeshRenderSharedMaterialDissolveTilingOffset,hxy0_._setMeshRenderSharedMaterialDissolveTilingOffset),hxy0_.registerAnimationNodeProperty("meshRender.sharedMaterial.maskTilingOffset",hxy0_._getMeshRenderSharedMaterialMaskTilingOffset,hxy0_._setMeshRenderSharedMaterialMaskTilingOffset)},hxy0_.registerAnimationNodeProperty=function(C$99t,C$99e,C$99i){if(hxy0_._propertyIndexDic[C$99t])throw new Error("AnimationNode: this propertyName has registered.");hxy0_._propertyIndexDic[C$99t]=hxy0_._propertyIDCounter,hxy0_._propertyGetFuncs[hxy0_._propertyIDCounter]=C$99e,hxy0_._propertySetFuncs[hxy0_._propertyIDCounter]=C$99i,hxy0_._propertyIDCounter++},hxy0_._getLocalPosition=function(C$99t,C$99e){return C$99t?C$99t.transform.getLocalPosition():C$99e._transform.localPosition.elements},hxy0_._setLocalPosition=function(C$99t,C$99e,C$99i){C$99t?C$99t.transform.setLocalPosition(C$99i):((C$99e=(C$99t=C$99e._transform).localPosition).elements=C$99i,C$99t.localPosition=C$99e)},hxy0_._getLocalRotation=function(C$99t,C$99e){return C$99t?C$99t.transform.getLocalRotation():C$99e._transform.localRotation.elements},hxy0_._setLocalRotation=function(C$99t,C$99e,C$99i){C$99t?C$99t.transform.setLocalRotation(C$99i):((C$99e=(C$99t=C$99e._transform).localRotation).elements=C$99i,C$99t.localRotation=C$99e)},hxy0_._getLocalScale=function(C$99t,C$99e){return C$99t?C$99t.transform.getLocalScale():C$99e._transform.localScale.elements},hxy0_._setLocalScale=function(C$99t,C$99e,C$99i){C$99t?C$99t.transform.setLocalScale(C$99i):((C$99e=(C$99t=C$99e._transform).localScale).elements=C$99i,C$99t.localScale=C$99e)},hxy0_._getLocalRotationEuler=function(C$99t,C$99e){return C$99t?C$99t.transform.getLocalRotationEuler():C$99e._transform.localRotationEuler.elements},hxy0_._setLocalRotationEuler=function(C$99t,C$99e,C$99i){C$99t?C$99t.transform.setLocalRotationEuler(C$99i):((C$99e=(C$99t=C$99e._transform).localRotationEuler).elements=C$99i,C$99t.localRotationEuler=C$99e)},hxy0_._getMeshRenderSharedMaterialTilingOffset=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.tilingOffset.elements:null:C$99e.meshRender.sharedMaterial.tilingOffset.elements},hxy0_._setMeshRenderSharedMaterialTilingOffset=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.meshRender.material).tilingOffset).elements=C$99i,C$99n.tilingOffset=C$99r):((C$99r=(C$99n=C$99e.meshRender.material).tilingOffset).elements=C$99i,C$99n.tilingOffset=C$99r)},hxy0_._getMeshRenderSharedMaterialAlbedo=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.albedoColor.elements:null:C$99e.meshRender.sharedMaterial.albedoColor.elements},hxy0_._setMeshRenderSharedMaterialAlbedo=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.meshRender.material).albedoColor).elements=C$99i,C$99n.albedoColor=C$99r):((C$99r=(C$99n=C$99e.meshRender.material).albedoColor).elements=C$99i,C$99n.albedoColor=C$99r)},hxy0_._getSkinnedMeshRenderSharedMaterialTilingOffset=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.skinnedMeshRender.sharedMaterial.tilingOffset.elements:null:C$99e.skinnedMeshRender.sharedMaterial.tilingOffset.elements},hxy0_._setSkinnedMeshRenderSharedMaterialTilingOffset=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.skinnedMeshRender.material).tilingOffset).elements=C$99i,C$99n.tilingOffset=C$99r):((C$99r=(C$99n=C$99e.skinnedMeshRender.material).tilingOffset).elements=C$99i,C$99n.tilingOffset=C$99r)},hxy0_._getSkinnedMeshRenderSharedMaterialAlbedo=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.skinnedMeshRender.sharedMaterial.albedoColor.elements:null:C$99e.skinnedMeshRender.sharedMaterial.albedoColor.elements},hxy0_._setSkinnedMeshRenderSharedMaterialAlbedo=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.skinnedMeshRender.material).albedoColor).elements=C$99i,C$99n.albedoColor=C$99r):((C$99r=(C$99n=C$99e.skinnedMeshRender.material).albedoColor).elements=C$99i,C$99n.albedoColor=C$99r)},hxy0_._getParticleRenderSharedMaterialTintColor=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.particleRender.sharedMaterial.tintColor.elements:null:C$99e.particleRender.sharedMaterial.tintColor.elements},hxy0_._setParticleRenderSharedMaterialTintColor=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.particleRender.material).tintColor).elements=C$99i,C$99n.tintColor=C$99r):((C$99r=(C$99n=C$99e.particleRender.material).tintColor).elements=C$99i,C$99n.tintColor=C$99r)},hxy0_._getMeshRenderSharedMaterialAlphaColor=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.alphaColor.elements:null:C$99e.meshRender.sharedMaterial.alphaColor.elements},hxy0_._setMeshRenderSharedMaterialAlphaColor=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.meshRender.material).alphaColor).elements=C$99i,C$99n.alphaColor=C$99r):((C$99r=(C$99n=C$99e.meshRender.material).alphaColor).elements=C$99i,C$99n.alphaColor=C$99r)},hxy0_._getMeshRenderSharedMaterialBaseColor=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.baseColor.elements:null:C$99e.meshRender.sharedMaterial.baseColor.elements},hxy0_._setMeshRenderSharedMaterialBaseColor=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.meshRender.material).baseColor).elements=C$99i,C$99n.baseColor=C$99r):((C$99r=(C$99n=C$99e.meshRender.material).baseColor).elements=C$99i,C$99n.baseColor=C$99r)},hxy0_._getMeshRenderSharedMaterialDissolve=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.dissolve:0:C$99e.meshRender.sharedMaterial.dissolve},hxy0_._setMeshRenderSharedMaterialDissolve=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.dissolve=C$99i[0]):C$99e.meshRender.material.dissolve=C$99i[0]},hxy0_._getMeshRenderSharedMaterialDissolveSpeed=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.dissolveSpeed:0:C$99e.meshRender.sharedMaterial.dissolveSpeed},hxy0_._setMeshRenderSharedMaterialDissolveSpeed=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.dissolveSpeed=C$99i[0]):C$99e.meshRender.material.dissolveSpeed=C$99i[0]},hxy0_._getMeshRenderSharedMaterialMMultiplier=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.mMultiplier:0:C$99e.meshRender.sharedMaterial.mMultiplier},hxy0_._setMeshRenderSharedMaterialMMultiplier=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.mMultiplier=C$99i[0]):C$99e.meshRender.material.mMultiplier=C$99i[0]},hxy0_._getMeshRenderSharedMaterialBaseScrollSpeedX=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.baseScrollSpeedX:0:C$99e.meshRender.sharedMaterial.baseScrollSpeedX},hxy0_._setMeshRenderSharedMaterialBaseScrollSpeedX=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.baseScrollSpeedX=C$99i[0]):C$99e.meshRender.material.baseScrollSpeedX=C$99i[0]},hxy0_._getMeshRenderSharedMaterialBaseScrollSpeedY=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.baseScrollSpeedY:0:C$99e.meshRender.sharedMaterial.baseScrollSpeedY},hxy0_._setMeshRenderSharedMaterialBaseScrollSpeedY=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.baseScrollSpeedY=C$99i[0]):C$99e.meshRender.material.baseScrollSpeedY=C$99i[0]},hxy0_._getMeshRenderSharedMaterialSecondScrollSpeedX=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.secondScrollSpeedX:0:C$99e.meshRender.sharedMaterial.secondScrollSpeedX},hxy0_._setMeshRenderSharedMaterialSecondScrollSpeedX=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.secondScrollSpeedX=C$99i[0]):C$99e.meshRender.material.secondScrollSpeedX=C$99i[0]},hxy0_._getMeshRenderSharedMaterialSecondScrollSpeedY=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.secondScrollSpeedY:0:C$99e.meshRender.sharedMaterial.secondScrollSpeedY},hxy0_._setMeshRenderSharedMaterialSecondScrollSpeedY=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.secondScrollSpeedY=C$99i[0]):C$99e.meshRender.material.secondScrollSpeedY=C$99i[0]},hxy0_._getMeshRenderSharedMaterialAlpha=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.alpha:0:C$99e.meshRender.sharedMaterial.alpha},hxy0_._setMeshRenderSharedMaterialAlpha=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.alpha=C$99i[0]):C$99e.meshRender.material.alpha=C$99i[0]},hxy0_._getMeshRenderSharedMaterialIntensity=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.intensity:0:C$99e.meshRender.sharedMaterial.intensity},hxy0_._setMeshRenderSharedMaterialIntensity=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.intensity=C$99i[0]):C$99e.meshRender.material.intensity=C$99i[0]},hxy0_._getMeshRenderSharedMaterialDetailTilingOffset=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.detailTilingOffset.elements:null:C$99e.meshRender.sharedMaterial.detailTilingOffset.elements},hxy0_._setMeshRenderSharedMaterialDetailTilingOffset=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.meshRender.material).detailTilingOffset).elements=C$99i,C$99n.detailTilingOffset=C$99r):((C$99r=(C$99n=C$99e.meshRender.material).detailTilingOffset).elements=C$99i,C$99n.detailTilingOffset=C$99r)},hxy0_._getMeshRenderSharedMaterialDissolveTilingOffset=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.dissolveTilingOffset.elements:null:C$99e.meshRender.sharedMaterial.dissolveTilingOffset.elements},hxy0_._setMeshRenderSharedMaterialDissolveTilingOffset=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.meshRender.material).dissolveTilingOffset).elements=C$99i,C$99n.dissolveTilingOffset=C$99r):((C$99r=(C$99n=C$99e.meshRender.material).dissolveTilingOffset).elements=C$99i,C$99n.dissolveTilingOffset=C$99r)},hxy0_._getMeshRenderSharedMaterialMaskTilingOffset=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.maskTilingOffset.elements:null:C$99e.meshRender.sharedMaterial.maskTilingOffset.elements},hxy0_._setMeshRenderSharedMaterialMaskTilingOffset=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.meshRender.material).maskTilingOffset).elements=C$99i,C$99n.maskTilingOffset=C$99r):((C$99r=(C$99n=C$99e.meshRender.material).maskTilingOffset).elements=C$99i,C$99n.maskTilingOffset=C$99r)},hxy0_._propertyIDCounter=0,hxy0_._propertyIndexDic={},hxy0_._propertySetFuncs=[],hxy0_._propertyGetFuncs=[],hxy0_),C$99F=(C$99t($pvfd,"laya.d3.animation.Keyframe"),$pvfd),C$99V=(C$99t(oz7q,"laya.d3.animation.KeyframeNode"),oz7q),C$99$=(C$99t(w6_mh,"laya.d3.core.glitter.SplineCurvePositionVelocity"),(C$99i=w6_mh.prototype).Init=function(C$99t,C$99e,C$99i,C$99n){C$99t.cloneTo(this._d),C$99e.cloneTo(this._c),C$99A.scale(C$99t,2,this._a),C$99A.scale(C$99i,2,this._tempVector30),C$99A.subtract(this._a,this._tempVector30,this._a),C$99A.add(this._a,C$99e,this._a),C$99A.add(this._a,C$99n,this._a),C$99A.scale(C$99i,3,this._b),C$99A.scale(C$99t,3,this._tempVector30),C$99A.subtract(this._b,this._tempVector30,this._b),C$99A.subtract(this._b,C$99n,this._b),C$99A.scale(C$99e,2,this._tempVector30),C$99A.subtract(this._b,this._tempVector30,this._b)},C$99i.Slerp=function(C$99t,C$99e){C$99A.scale(this._a,C$99t*C$99t*C$99t,this._tempVector30),C$99A.scale(this._b,C$99t*C$99t,this._tempVector31),C$99A.scale(this._c,C$99t,this._tempVector32),C$99A.add(this._tempVector30,this._tempVector31,C$99e),C$99A.add(C$99e,this._tempVector32,C$99e),C$99A.add(C$99e,this._d,C$99e)},C$99t(abrjks,"laya.d3.core.HeightMap"),(C$99i=abrjks.prototype)._inBounds=function(C$99t,C$99e){return 0<=C$99t&&C$99t<this._h&&0<=C$99e&&C$99e<this._w},C$99i.getHeight=function(C$99t,C$99e){return this._inBounds(C$99t,C$99e)?this._datas[C$99t][C$99e]:NaN},C$99e(0,C$99i,"width",function(){return this._w}),C$99e(0,C$99i,"height",function(){return this._h}),C$99e(0,C$99i,"maxHeight",function(){return this._maxHeight}),C$99e(0,C$99i,"minHeight",function(){return this._minHeight}),abrjks.creatFromMesh=function(C$99t,C$99c,C$99_,C$99u){for(var C$99d=[],C$99f=[],C$99p=C$99t.getSubMeshCount(),C$99m=0;C$99m<C$99p;C$99m++){for(var C$99e=C$99t.getSubMesh(C$99m),C$99g=C$99e._getVertexBuffer(),C$99i=C$99g.getData(),C$99v=[],C$99n=0;C$99n<C$99i.length;C$99n+=C$99g.vertexDeclaration.vertexStride/4){var C$99x=new C$99A(C$99i[C$99n+0],C$99i[C$99n+1],C$99i[C$99n+2]);C$99v.push(C$99x)}C$99d.push(C$99v);C$99e=C$99e._getIndexBuffer();C$99f.push(C$99e.getData())}var C$99r=C$99t.boundingBox,C$99y=C$99r.min.x,C$99b=C$99r.min.z,C$99s=C$99r.max.x,C$99w=C$99r.max.z,C$99T=C$99r.min.y,C$99r=C$99r.max.y,C$99w=C$99w-C$99b,C$99M=C$99u.elements[0]=(C$99s-C$99y)/(C$99c-1),C$99S=C$99u.elements[1]=C$99w/(C$99_-1),C$99C=new abrjks(C$99c,C$99_,C$99T,C$99r),C$99a=abrjks._tempRay,C$99s=C$99a.direction.elements;C$99s[0]=0,C$99s[1]=-1,C$99s[2]=0;var C$99D=C$99r+.1;C$99a.origin.elements[1]=C$99D;for(var C$99o=0;C$99o<C$99_;C$99o++){var C$99E=C$99b+C$99o*C$99S;C$99C._datas[C$99o]=[];for(var C$99h=0;C$99h<C$99c;C$99h++){var C$99l=C$99a.origin.elements;C$99l[0]=C$99y+C$99h*C$99M,C$99l[2]=C$99E;C$99l=abrjks._getPosition(C$99a,C$99d,C$99f);C$99C._datas[C$99o][C$99h]=C$99l===Number.MAX_VALUE?NaN:C$99D-C$99l}}return C$99C},abrjks.createFromImage=function(C$99t,C$99e,C$99i){for(var C$99n=C$99t.width,C$99r=C$99t.height,C$99s=new abrjks(C$99n,C$99r,C$99e,C$99i),C$99c=(C$99i-C$99e)/254,C$99a=C$99t.getPixels(),C$99o=0,C$99h=0;C$99h<C$99r;C$99h++)for(var C$99_=C$99s._datas[C$99h]=[],C$99l=0;C$99l<C$99n;C$99l++){var C$99u=C$99a[C$99o++],C$99d=C$99a[C$99o++],C$99f=C$99a[C$99o++],C$99p=C$99a[C$99o++];C$99_[C$99l]=255==C$99u&&255==C$99d&&255==C$99f&&255==C$99p?NaN:(C$99u+C$99d+C$99f)/3*C$99c+C$99e}return C$99s},abrjks._getPosition=function(C$99t,C$99e,C$99i){for(var C$99n=Number.MAX_VALUE,C$99r=0;C$99r<C$99e.length;C$99r++)for(var C$99s=C$99e[C$99r],C$99a=C$99i[C$99r],C$99o=0;C$99o<C$99a.length;C$99o+=3){var C$99h=C$99s[C$99a[C$99o+0]],C$99l=C$99s[C$99a[C$99o+1]],C$99c=C$99s[C$99a[C$99o+2]],C$99h=C$99pe.rayIntersectsTriangle(C$99t,C$99h,C$99l,C$99c);!isNaN(C$99h)&&C$99h<C$99n&&(C$99n=C$99h)}return C$99n},C$99h(abrjks,["_tempRay",function(){return this._tempRay=new C$99ae(new C$99A,new C$99A)}]),C$99t($pfvd9,"laya.d3.core.Layer"),(C$99i=$pfvd9.prototype)._binarySearchIndex=function(){for(var C$99t,C$99e=0,C$99i=$pfvd9._collsionTestList.length-1;C$99e<=C$99i;){C$99t=Math.floor((C$99e+C$99i)/2);var C$99n=$pfvd9._collsionTestList[C$99t];if(C$99n==this._number)return C$99t;C$99n>this._number?C$99i=C$99t-1:C$99e=C$99t+1}return C$99e},C$99i._addCollider=function(C$99t){0===this._colliders.length&&$pfvd9._collsionTestList.splice(this._binarySearchIndex(),0,this._number),C$99t._isRigidbody?(this._colliders.unshift(C$99t),this._nonRigidbodyOffset++):this._colliders.push(C$99t)},C$99i._removeCollider=function(C$99t){C$99t=this._colliders.indexOf(C$99t);C$99t<this._nonRigidbodyOffset&&this._nonRigidbodyOffset--,this._colliders.splice(C$99t,1),0===this._colliders.length&&$pfvd9._collsionTestList.splice($pfvd9._collsionTestList.indexOf(this._number),1)},C$99e(0,C$99i,"number",function(){return this._number}),C$99e(0,C$99i,"visible",function(){return this._visible},function(C$99t){this._visible=C$99t,$pfvd9._visibleLayers=C$99t?$pfvd9._visibleLayers|this.mask:$pfvd9._visibleLayers&~this.mask}),C$99e(0,C$99i,"mask",function(){return this._mask}),C$99e(1,$pfvd9,"visibleLayers",function(){return $pfvd9._visibleLayers},function(C$99t){$pfvd9._visibleLayers=C$99t;for(var C$99e=0,C$99i=$pfvd9._layerList.length;C$99e<C$99i;C$99e++){var C$99n=$pfvd9._layerList[C$99e];C$99n._visible=0!=(C$99n._mask&$pfvd9._visibleLayers)}}),$pfvd9.__init__=function(){$pfvd9._layerList.length=31;for(var C$99t=0;C$99t<31;C$99t++){var C$99e=new $pfvd9;$pfvd9._layerList[C$99t]=C$99e,0===C$99t?(C$99e.name="Default Layer",C$99e.visible=!0):(C$99e.name="Layer-"+C$99t,C$99e.visible=!1),C$99e._number=C$99t,C$99e._mask=Math.pow(2,C$99t)}$pfvd9.currentCreationLayer=$pfvd9._layerList[0]},$pfvd9.getLayerByNumber=function(C$99t){if(C$99t<0||30<C$99t)throw new Error("\u65e0\u6cd5\u8fd4\u56de\u6307\u5b9aLayer\uff0c\u8be5number\u8d85\u51fa\u8303\u56f4\uff01");return $pfvd9._layerList[C$99t]},$pfvd9.getLayerByName=function(C$99t){for(var C$99e=0;C$99e<31;C$99e++)if($pfvd9._layerList[C$99e].name===C$99t)return $pfvd9._layerList[C$99e];throw new Error("\u65e0\u6cd5\u8fd4\u56de\u6307\u5b9aLayer,\u8be5name\u4e0d\u5b58\u5728")},$pfvd9.isVisible=function(C$99t){return 0!=(C$99t&$pfvd9._currentCameraCullingMask&$pfvd9._visibleLayers)},$pfvd9._layerList=[],$pfvd9._visibleLayers=2147483647,$pfvd9._collsionTestList=[],$pfvd9._currentCameraCullingMask=2147483647,$pfvd9.maxCount=31,$pfvd9.currentCreationLayer=null,$pfvd9),C$99U=(C$99t(ep7f,"laya.d3.core.particleShuriKen.module.Burst"),C$99i=ep7f.prototype,C$99b.imps(C$99i,{"laya.d3.core.IClone":!0}),C$99i.cloneTo=function(C$99t){C$99t._time=this._time,C$99t._minCount=this._minCount,C$99t._maxCount=this._maxCount},C$99i.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99e(0,C$99i,"time",function(){return this._time}),C$99e(0,C$99i,"minCount",function(){return this._minCount}),C$99e(0,C$99i,"maxCount",function(){return this._maxCount}),C$99t(w158h6,"laya.d3.core.particleShuriKen.module.ColorOverLifetime"),(C$99i=w158h6.prototype).cloneTo=function(C$99t){this._color.cloneTo(C$99t._color),C$99t.enbale=this.enbale},C$99i.clone=function(){var C$99t;switch(this._color.type){case 0:C$99t=C$99q.createByConstant(this._color.constant.clone());break;case 1:C$99t=C$99q.createByGradient(this._color.gradient.clone());break;case 2:C$99t=C$99q.createByRandomTwoConstant(this._color.constantMin.clone(),this._color.constantMax.clone());break;case 3:C$99t=C$99q.createByRandomTwoGradient(this._color.gradientMin.clone(),this._color.gradientMax.clone())}var C$99e=new this.constructor(C$99t);return C$99e.enbale=this.enbale,C$99e},C$99e(0,C$99i,"color",function(){return this._color}),C$99t(_6hw,"laya.d3.core.particleShuriKen.module.Emission"),C$99i=_6hw.prototype,C$99b.imps(C$99i,{"laya.d3.core.IClone":!0,"laya.resource.IDestroy":!0}),C$99i._destroy=function(){this._bursts=null,this._destroyed=!0},C$99i.getBurstsCount=function(){return this._bursts.length},C$99i.getBurstByIndex=function(C$99t){return this._bursts[C$99t]},C$99i.addBurst=function(C$99t){var C$99e=this._bursts.length;if(0<C$99e)for(var C$99i=0;C$99i<C$99e;C$99i++)this._bursts[C$99i].time>C$99t.time&&this._bursts.splice(C$99i,0,C$99t);this._bursts.push(C$99t)},C$99i.removeBurst=function(C$99t){C$99t=this._bursts.indexOf(C$99t);-1!==C$99t&&this._bursts.splice(C$99t,1)},C$99i.removeBurstByIndex=function(C$99t){this._bursts.splice(C$99t,1)},C$99i.clearBurst=function(){this._bursts.length=0},C$99i.cloneTo=function(C$99t){var C$99e=C$99t._bursts;C$99e.length=this._bursts.length;for(var C$99i=0,C$99n=this._bursts.length;C$99i<C$99n;C$99i++){var C$99r=C$99e[C$99i];C$99r?this._bursts[C$99i].cloneTo(C$99r):C$99e[C$99i]=this._bursts[C$99i].clone()}C$99t._emissionRate=this._emissionRate,C$99t.enbale=this.enbale},C$99i.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99e(0,C$99i,"destroyed",function(){return this._destroyed}),C$99e(0,C$99i,"emissionRate",function(){return this._emissionRate},function(C$99t){if(C$99t<0)throw new Error("ParticleBaseShape:emissionRate value must large or equal than 0.");this._emissionRate=C$99t}),C$99t(pvdi$,"laya.d3.core.particleShuriKen.module.FrameOverTime"),C$99i=pvdi$.prototype,C$99b.imps(C$99i,{"laya.d3.core.IClone":!0}),C$99i.cloneTo=function(C$99t){C$99t._type=this._type,C$99t._constant=this._constant,this._overTime.cloneTo(C$99t._overTime),C$99t._constantMin=this._constantMin,C$99t._constantMax=this._constantMax,this._overTimeMin.cloneTo(C$99t._overTimeMin),this._overTimeMax.cloneTo(C$99t._overTimeMax)},C$99i.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99e(0,C$99i,"frameOverTimeData",function(){return this._overTime}),C$99e(0,C$99i,"constant",function(){return this._constant}),C$99e(0,C$99i,"type",function(){return this._type}),C$99e(0,C$99i,"frameOverTimeDataMin",function(){return this._overTimeMin}),C$99e(0,C$99i,"constantMin",function(){return this._constantMin}),C$99e(0,C$99i,"frameOverTimeDataMax",function(){return this._overTimeMax}),C$99e(0,C$99i,"constantMax",function(){return this._constantMax}),pvdi$.createByConstant=function(C$99t){var C$99e=new pvdi$;return C$99e._type=0,C$99e._constant=C$99t,C$99e},pvdi$.createByOverTime=function(C$99t){var C$99e=new pvdi$;return C$99e._type=1,C$99e._overTime=C$99t,C$99e},pvdi$.createByRandomTwoConstant=function(C$99t,C$99e){var C$99i=new pvdi$;return C$99i._type=2,C$99i._constantMin=C$99t,C$99i._constantMax=C$99e,C$99i},pvdi$.createByRandomTwoOverTime=function(C$99t,C$99e){var C$99i=new pvdi$;return C$99i._type=3,C$99i._overTimeMin=C$99t,C$99i._overTimeMax=C$99e,C$99i},pvdi$),C$99j=(C$99t(iv$ct9,"laya.d3.core.particleShuriKen.module.GradientAngularVelocity"),C$99i=iv$ct9.prototype,C$99b.imps(C$99i,{"laya.d3.core.IClone":!0}),C$99i.cloneTo=function(C$99t){C$99t._type=this._type,C$99t._separateAxes=this._separateAxes,C$99t._constant=this._constant,this._constantSeparate.cloneTo(C$99t._constantSeparate),this._gradient.cloneTo(C$99t._gradient),this._gradientX.cloneTo(C$99t._gradientX),this._gradientY.cloneTo(C$99t._gradientY),this._gradientZ.cloneTo(C$99t._gradientZ),C$99t._constantMin=this._constantMin,C$99t._constantMax=this._constantMax,this._constantMinSeparate.cloneTo(C$99t._constantMinSeparate),this._constantMaxSeparate.cloneTo(C$99t._constantMaxSeparate),this._gradientMin.cloneTo(C$99t._gradientMin),this._gradientMax.cloneTo(C$99t._gradientMax),this._gradientXMin.cloneTo(C$99t._gradientXMin),this._gradientXMax.cloneTo(C$99t._gradientXMax),this._gradientYMin.cloneTo(C$99t._gradientYMin),this._gradientYMax.cloneTo(C$99t._gradientYMax),this._gradientZMin.cloneTo(C$99t._gradientZMin),this._gradientZMax.cloneTo(C$99t._gradientZMax)},C$99i.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99e(0,C$99i,"gradientZ",function(){return this._gradientZ}),C$99e(0,C$99i,"constant",function(){return this._constant}),C$99e(0,C$99i,"gradient",function(){return this._gradient}),C$99e(0,C$99i,"separateAxes",function(){return this._separateAxes}),C$99e(0,C$99i,"type",function(){return this._type}),C$99e(0,C$99i,"constantSeparate",function(){return this._constantSeparate}),C$99e(0,C$99i,"gradientX",function(){return this._gradientX}),C$99e(0,C$99i,"gradientY",function(){return this._gradientY}),C$99e(0,C$99i,"gradientW",function(){return this._gradientW}),C$99e(0,C$99i,"gradientMin",function(){return this._gradientMin}),C$99e(0,C$99i,"constantMin",function(){return this._constantMin}),C$99e(0,C$99i,"gradientMax",function(){return this._gradientMax}),C$99e(0,C$99i,"constantMax",function(){return this._constantMax}),C$99e(0,C$99i,"gradientWMin",function(){return this._gradientWMin}),C$99e(0,C$99i,"constantMinSeparate",function(){return this._constantMinSeparate}),C$99e(0,C$99i,"constantMaxSeparate",function(){return this._constantMaxSeparate}),C$99e(0,C$99i,"gradientXMin",function(){return this._gradientXMin}),C$99e(0,C$99i,"gradientXMax",function(){return this._gradientXMax}),C$99e(0,C$99i,"gradientWMax",function(){return this._gradientWMax}),C$99e(0,C$99i,"gradientYMin",function(){return this._gradientYMin}),C$99e(0,C$99i,"gradientYMax",function(){return this._gradientYMax}),C$99e(0,C$99i,"gradientZMin",function(){return this._gradientZMin}),C$99e(0,C$99i,"gradientZMax",function(){return this._gradientZMax}),iv$ct9.createByConstant=function(C$99t){var C$99e=new iv$ct9;return C$99e._type=0,C$99e._separateAxes=!1,C$99e._constant=C$99t,C$99e},iv$ct9.createByConstantSeparate=function(C$99t){var C$99e=new iv$ct9;return C$99e._type=0,C$99e._separateAxes=!0,C$99e._constantSeparate=C$99t,C$99e},iv$ct9.createByGradient=function(C$99t){var C$99e=new iv$ct9;return C$99e._type=1,C$99e._separateAxes=!1,C$99e._gradient=C$99t,C$99e},iv$ct9.createByGradientSeparate=function(C$99t,C$99e,C$99i,C$99n){var C$99r=new iv$ct9;return C$99r._type=1,C$99r._separateAxes=!0,C$99r._gradientX=C$99t,C$99r._gradientY=C$99e,C$99r._gradientZ=C$99i,C$99r._gradientW=C$99n,C$99r},iv$ct9.createByRandomTwoConstant=function(C$99t,C$99e){var C$99i=new iv$ct9;return C$99i._type=2,C$99i._separateAxes=!1,C$99i._constantMin=C$99t,C$99i._constantMax=C$99e,C$99i},iv$ct9.createByRandomTwoConstantSeparate=function(C$99t,C$99e){var C$99i=new iv$ct9;return C$99i._type=2,C$99i._separateAxes=!0,C$99i._constantMinSeparate=C$99t,C$99i._constantMaxSeparate=C$99e,C$99i},iv$ct9.createByRandomTwoGradient=function(C$99t,C$99e){var C$99i=new iv$ct9;return C$99i._type=3,C$99i._separateAxes=!1,C$99i._gradientMin=C$99t,C$99i._gradientMax=C$99e,C$99i},iv$ct9.createByRandomTwoGradientSeparate=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){var C$99h=new iv$ct9;return C$99h._type=3,C$99h._separateAxes=!0,C$99h._gradientXMin=C$99t,C$99h._gradientXMax=C$99e,C$99h._gradientYMin=C$99i,C$99h._gradientYMax=C$99n,C$99h._gradientZMin=C$99r,C$99h._gradientZMax=C$99s,C$99h._gradientWMin=C$99a,C$99h._gradientWMax=C$99o,C$99h},iv$ct9),C$99q=(C$99t(e0xqoy,"laya.d3.core.particleShuriKen.module.GradientColor"),C$99i=e0xqoy.prototype,C$99b.imps(C$99i,{"laya.d3.core.IClone":!0}),C$99i.cloneTo=function(C$99t){C$99t._type=this._type,this._constant.cloneTo(C$99t._constant),this._constantMin.cloneTo(C$99t._constantMin),this._constantMax.cloneTo(C$99t._constantMax),this._gradient.cloneTo(C$99t._gradient),this._gradientMin.cloneTo(C$99t._gradientMin),this._gradientMax.cloneTo(C$99t._gradientMax)},C$99i.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99e(0,C$99i,"gradient",function(){return this._gradient}),C$99e(0,C$99i,"constant",function(){return this._constant}),C$99e(0,C$99i,"type",function(){return this._type}),C$99e(0,C$99i,"gradientMin",function(){return this._gradientMin}),C$99e(0,C$99i,"constantMin",function(){return this._constantMin}),C$99e(0,C$99i,"gradientMax",function(){return this._gradientMax}),C$99e(0,C$99i,"constantMax",function(){return this._constantMax}),e0xqoy.createByConstant=function(C$99t){var C$99e=new e0xqoy;return C$99e._type=0,C$99e._constant=C$99t,C$99e},e0xqoy.createByGradient=function(C$99t){var C$99e=new e0xqoy;return C$99e._type=1,C$99e._gradient=C$99t,C$99e},e0xqoy.createByRandomTwoConstant=function(C$99t,C$99e){var C$99i=new e0xqoy;return C$99i._type=2,C$99i._constantMin=C$99t,C$99i._constantMax=C$99e,C$99i},e0xqoy.createByRandomTwoGradient=function(C$99t,C$99e){var C$99i=new e0xqoy;return C$99i._type=3,C$99i._gradientMin=C$99t,C$99i._gradientMax=C$99e,C$99i},e0xqoy),C$99H=(C$99t(pv9d$i,"laya.d3.core.particleShuriKen.module.GradientDataColor"),C$99i=pv9d$i.prototype,C$99b.imps(C$99i,{"laya.d3.core.IClone":!0}),C$99i.addAlpha=function(C$99t,C$99e){this._alphaCurrentLength<8&&(6===this._alphaCurrentLength&&1!==C$99t&&(C$99t=1),this._alphaElements[this._alphaCurrentLength++]=C$99t,this._alphaElements[this._alphaCurrentLength++]=C$99e)},C$99i.addRGB=function(C$99t,C$99e){this._rgbCurrentLength<16&&(12===this._rgbCurrentLength&&1!==C$99t&&(C$99t=1),this._rgbElements[this._rgbCurrentLength++]=C$99t,this._rgbElements[this._rgbCurrentLength++]=C$99e.x,this._rgbElements[this._rgbCurrentLength++]=C$99e.y,this._rgbElements[this._rgbCurrentLength++]=C$99e.z)},C$99i.cloneTo=function(C$99t){var C$99e=0,C$99i=0;C$99t._alphaCurrentLength=this._alphaCurrentLength;var C$99n=C$99t._alphaElements;for(C$99n.length=this._alphaElements.length,C$99e=0,C$99i=this._alphaElements.length;C$99e<C$99i;C$99e++)C$99n[C$99e]=this._alphaElements[C$99e];C$99t._rgbCurrentLength=this._rgbCurrentLength;var C$99r=C$99t._rgbElements;for(C$99r.length=this._rgbElements.length,C$99e=0,C$99i=this._rgbElements.length;C$99e<C$99i;C$99e++)C$99r[C$99e]=this._rgbElements[C$99e]},C$99i.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99e(0,C$99i,"alphaGradientCount",function(){return this._alphaCurrentLength/2}),C$99e(0,C$99i,"rgbGradientCount",function(){return this._rgbCurrentLength/4}),C$99t(_5w6hm,"laya.d3.core.particleShuriKen.module.GradientDataInt"),C$99i=_5w6hm.prototype,C$99b.imps(C$99i,{"laya.d3.core.IClone":!0}),C$99i.add=function(C$99t,C$99e){this._currentLength<8?(6===this._currentLength&&1!==C$99t&&(C$99t=1,console.log("Warning:the forth key is  be force set to 1.")),this._elements[this._currentLength++]=C$99t,this._elements[this._currentLength++]=C$99e):console.log("Warning:data count must lessEqual than 4")},C$99i.cloneTo=function(C$99t){C$99t._currentLength=this._currentLength;var C$99e=C$99t._elements;C$99e.length=this._elements.length;for(var C$99i=0,C$99n=this._elements.length;C$99i<C$99n;C$99i++)C$99e[C$99i]=this._elements[C$99i]},C$99i.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99e(0,C$99i,"gradientCount",function(){return this._currentLength/2}),C$99t(t4c29,"laya.d3.core.particleShuriKen.module.GradientDataNumber"),C$99i=t4c29.prototype,C$99b.imps(C$99i,{"laya.d3.core.IClone":!0}),C$99i.add=function(C$99t,C$99e){this._currentLength<8&&(6===this._currentLength&&1!==C$99t&&(C$99t=1),this._elements[this._currentLength++]=C$99t,this._elements[this._currentLength++]=C$99e)},C$99i.getKeyByIndex=function(C$99t){return this._elements[2*C$99t]},C$99i.getValueByIndex=function(C$99t){return this._elements[2*C$99t+1]},C$99i.getAverageValue=function(){for(var C$99t=0,C$99e=this._currentLength-2;C$99t<C$99e;C$99t+=2)this._elements[C$99t+1],this._elements[C$99t+3],this._elements[C$99t+2],this._elements[C$99t];return 0},C$99i.cloneTo=function(C$99t){C$99t._currentLength=this._currentLength;var C$99e=C$99t._elements;C$99e.length=this._elements.length;for(var C$99i=0,C$99n=this._elements.length;C$99i<C$99n;C$99i++)C$99e[C$99i]=this._elements[C$99i]},C$99i.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99e(0,C$99i,"gradientCount",function(){return this._currentLength/2}),C$99t(t9vci$,"laya.d3.core.particleShuriKen.module.GradientDataVector2"),C$99i=t9vci$.prototype,C$99b.imps(C$99i,{"laya.d3.core.IClone":!0}),C$99i.add=function(C$99t,C$99e){this._currentLength<8&&(6===this._currentLength&&1!==C$99t&&(C$99t=1),this._elements[this._currentLength++]=C$99t,this._elements[this._currentLength++]=C$99e.x,this._elements[this._currentLength++]=C$99e.y)},C$99i.cloneTo=function(C$99t){C$99t._currentLength=this._currentLength;var C$99e=C$99t._elements;C$99e.length=this._elements.length;for(var C$99i=0,C$99n=this._elements.length;C$99i<C$99n;C$99i++)C$99e[C$99i]=this._elements[C$99i]},C$99i.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99e(0,C$99i,"gradientCount",function(){return this._currentLength/3}),C$99t(o7fpd,"laya.d3.core.particleShuriKen.module.GradientSize"),C$99i=o7fpd.prototype,C$99b.imps(C$99i,{"laya.d3.core.IClone":!0}),C$99i.getMaxSizeInGradient=function(){var C$99t=0,C$99e=0,C$99i=-Number.MAX_VALUE;switch(this._type){case 0:if(this._separateAxes){for(C$99t=0,C$99e=this._gradientX.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientX.getValueByIndex(C$99t));for(C$99t=0,C$99e=this._gradientY.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientY.getValueByIndex(C$99t))}else for(C$99t=0,C$99e=this._gradient.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradient.getValueByIndex(C$99t));break;case 1:C$99i=this._separateAxes?(C$99i=Math.max(this._constantMinSeparate.x,this._constantMaxSeparate.x),C$99i=Math.max(C$99i,this._constantMinSeparate.y),Math.max(C$99i,this._constantMaxSeparate.y)):Math.max(this._constantMin,this._constantMax);break;case 2:if(this._separateAxes){for(C$99t=0,C$99e=this._gradientXMin.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientXMin.getValueByIndex(C$99t));for(C$99t=0,C$99e=this._gradientXMax.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientXMax.getValueByIndex(C$99t));for(C$99t=0,C$99e=this._gradientYMin.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientYMin.getValueByIndex(C$99t));for(C$99t=0,C$99e=this._gradientZMax.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientZMax.getValueByIndex(C$99t))}else{for(C$99t=0,C$99e=this._gradientMin.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientMin.getValueByIndex(C$99t));for(C$99t=0,C$99e=this._gradientMax.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientMax.getValueByIndex(C$99t))}}return C$99i},C$99i.cloneTo=function(C$99t){C$99t._type=this._type,C$99t._separateAxes=this._separateAxes,this._gradient.cloneTo(C$99t._gradient),this._gradientX.cloneTo(C$99t._gradientX),this._gradientY.cloneTo(C$99t._gradientY),this._gradientZ.cloneTo(C$99t._gradientZ),C$99t._constantMin=this._constantMin,C$99t._constantMax=this._constantMax,this._constantMinSeparate.cloneTo(C$99t._constantMinSeparate),this._constantMaxSeparate.cloneTo(C$99t._constantMaxSeparate),this._gradientMin.cloneTo(C$99t._gradientMin),this._gradientMax.cloneTo(C$99t._gradientMax),this._gradientXMin.cloneTo(C$99t._gradientXMin),this._gradientXMax.cloneTo(C$99t._gradientXMax),this._gradientYMin.cloneTo(C$99t._gradientYMin),this._gradientYMax.cloneTo(C$99t._gradientYMax),this._gradientZMin.cloneTo(C$99t._gradientZMin),this._gradientZMax.cloneTo(C$99t._gradientZMax)},C$99i.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99e(0,C$99i,"gradientZ",function(){return this._gradientZ}),C$99e(0,C$99i,"gradient",function(){return this._gradient}),C$99e(0,C$99i,"separateAxes",function(){return this._separateAxes}),C$99e(0,C$99i,"type",function(){return this._type}),C$99e(0,C$99i,"gradientMin",function(){return this._gradientMin}),C$99e(0,C$99i,"constantMin",function(){return this._constantMin}),C$99e(0,C$99i,"gradientX",function(){return this._gradientX}),C$99e(0,C$99i,"gradientY",function(){return this._gradientY}),C$99e(0,C$99i,"gradientMax",function(){return this._gradientMax}),C$99e(0,C$99i,"constantMax",function(){return this._constantMax}),C$99e(0,C$99i,"constantMinSeparate",function(){return this._constantMinSeparate}),C$99e(0,C$99i,"constantMaxSeparate",function(){return this._constantMaxSeparate}),C$99e(0,C$99i,"gradientXMin",function(){return this._gradientXMin}),C$99e(0,C$99i,"gradientXMax",function(){return this._gradientXMax}),C$99e(0,C$99i,"gradientYMin",function(){return this._gradientYMin}),C$99e(0,C$99i,"gradientYMax",function(){return this._gradientYMax}),C$99e(0,C$99i,"gradientZMin",function(){return this._gradientZMin}),C$99e(0,C$99i,"gradientZMax",function(){return this._gradientZMax}),o7fpd.createByGradient=function(C$99t){var C$99e=new o7fpd;return C$99e._type=0,C$99e._separateAxes=!1,C$99e._gradient=C$99t,C$99e},o7fpd.createByGradientSeparate=function(C$99t,C$99e,C$99i){var C$99n=new o7fpd;return C$99n._type=0,C$99n._separateAxes=!0,C$99n._gradientX=C$99t,C$99n._gradientY=C$99e,C$99n._gradientZ=C$99i,C$99n},o7fpd.createByRandomTwoConstant=function(C$99t,C$99e){var C$99i=new o7fpd;return C$99i._type=1,C$99i._separateAxes=!1,C$99i._constantMin=C$99t,C$99i._constantMax=C$99e,C$99i},o7fpd.createByRandomTwoConstantSeparate=function(C$99t,C$99e){var C$99i=new o7fpd;return C$99i._type=1,C$99i._separateAxes=!0,C$99i._constantMinSeparate=C$99t,C$99i._constantMaxSeparate=C$99e,C$99i},o7fpd.createByRandomTwoGradient=function(C$99t,C$99e){var C$99i=new o7fpd;return C$99i._type=2,C$99i._separateAxes=!1,C$99i._gradientMin=C$99t,C$99i._gradientMax=C$99e,C$99i},o7fpd.createByRandomTwoGradientSeparate=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=new o7fpd;return C$99a._type=2,C$99a._separateAxes=!0,C$99a._gradientXMin=C$99t,C$99a._gradientXMax=C$99e,C$99a._gradientYMin=C$99i,C$99a._gradientYMax=C$99n,C$99a._gradientZMin=C$99r,C$99a._gradientZMax=C$99s,C$99a},o7fpd),C$99W=(C$99t(ipvd9$,"laya.d3.core.particleShuriKen.module.GradientVelocity"),C$99i=ipvd9$.prototype,C$99b.imps(C$99i,{"laya.d3.core.IClone":!0}),C$99i.cloneTo=function(C$99t){C$99t._type=this._type,this._constant.cloneTo(C$99t._constant),this._gradientX.cloneTo(C$99t._gradientX),this._gradientY.cloneTo(C$99t._gradientY),this._gradientZ.cloneTo(C$99t._gradientZ),this._constantMin.cloneTo(C$99t._constantMin),this._constantMax.cloneTo(C$99t._constantMax),this._gradientXMin.cloneTo(C$99t._gradientXMin),this._gradientXMax.cloneTo(C$99t._gradientXMax),this._gradientYMin.cloneTo(C$99t._gradientYMin),this._gradientYMax.cloneTo(C$99t._gradientYMax),this._gradientZMin.cloneTo(C$99t._gradientZMin),this._gradientZMax.cloneTo(C$99t._gradientZMax)},C$99i.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99e(0,C$99i,"gradientZ",function(){return this._gradientZ}),C$99e(0,C$99i,"constant",function(){return this._constant}),C$99e(0,C$99i,"type",function(){return this._type}),C$99e(0,C$99i,"gradientXMax",function(){return this._gradientXMax}),C$99e(0,C$99i,"constantMin",function(){return this._constantMin}),C$99e(0,C$99i,"gradientX",function(){return this._gradientX}),C$99e(0,C$99i,"gradientY",function(){return this._gradientY}),C$99e(0,C$99i,"gradientXMin",function(){return this._gradientXMin}),C$99e(0,C$99i,"constantMax",function(){return this._constantMax}),C$99e(0,C$99i,"gradientYMin",function(){return this._gradientYMin}),C$99e(0,C$99i,"gradientYMax",function(){return this._gradientYMax}),C$99e(0,C$99i,"gradientZMin",function(){return this._gradientZMin}),C$99e(0,C$99i,"gradientZMax",function(){return this._gradientZMax}),ipvd9$.createByConstant=function(C$99t){var C$99e=new ipvd9$;return C$99e._type=0,C$99e._constant=C$99t,C$99e},ipvd9$.createByGradient=function(C$99t,C$99e,C$99i){var C$99n=new ipvd9$;return C$99n._type=1,C$99n._gradientX=C$99t,C$99n._gradientY=C$99e,C$99n._gradientZ=C$99i,C$99n},ipvd9$.createByRandomTwoConstant=function(C$99t,C$99e){var C$99i=new ipvd9$;return C$99i._type=2,C$99i._constantMin=C$99t,C$99i._constantMax=C$99e,C$99i},ipvd9$.createByRandomTwoGradient=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=new ipvd9$;return C$99a._type=3,C$99a._gradientXMin=C$99t,C$99a._gradientXMax=C$99e,C$99a._gradientYMin=C$99i,C$99a._gradientYMax=C$99n,C$99a._gradientZMin=C$99r,C$99a._gradientZMax=C$99s,C$99a},ipvd9$),C$99i=(C$99t(eofzp,"laya.d3.core.particleShuriKen.module.RotationOverLifetime"),C$99i=eofzp.prototype,C$99b.imps(C$99i,{"laya.d3.core.IClone":!0}),C$99i.cloneTo=function(C$99t){this._angularVelocity.cloneTo(C$99t._angularVelocity),C$99t.enbale=this.enbale},C$99i.clone=function(){var C$99t;switch(this._angularVelocity.type){case 0:C$99t=this._angularVelocity.separateAxes?C$99j.createByConstantSeparate(this._angularVelocity.constantSeparate.clone()):C$99j.createByConstant(this._angularVelocity.constant);break;case 1:C$99t=this._angularVelocity.separateAxes?C$99j.createByGradientSeparate(this._angularVelocity.gradientX.clone(),this._angularVelocity.gradientY.clone(),this._angularVelocity.gradientZ.clone(),this._angularVelocity.gradientW.clone()):C$99j.createByGradient(this._angularVelocity.gradient.clone());break;case 2:C$99t=this._angularVelocity.separateAxes?C$99j.createByRandomTwoConstantSeparate(this._angularVelocity.constantMinSeparate.clone(),this._angularVelocity.constantMaxSeparate.clone()):C$99j.createByRandomTwoConstant(this._angularVelocity.constantMin,this._angularVelocity.constantMax);break;case 3:C$99t=this._angularVelocity.separateAxes?C$99j.createByRandomTwoGradientSeparate(this._angularVelocity.gradientXMin.clone(),this._angularVelocity.gradientYMin.clone(),this._angularVelocity.gradientZMin.clone(),this._angularVelocity.gradientWMin.clone(),this._angularVelocity.gradientXMax.clone(),this._angularVelocity.gradientYMax.clone(),this._angularVelocity.gradientZMax.clone(),this._angularVelocity.gradientWMax.clone()):C$99j.createByRandomTwoGradient(this._angularVelocity.gradientMin.clone(),this._angularVelocity.gradientMax.clone())}var C$99e=new this.constructor(C$99t);return C$99e.enbale=this.enbale,C$99e},C$99e(0,C$99i,"angularVelocity",function(){return this._angularVelocity}),C$99t(h0y,"laya.d3.core.particleShuriKen.module.shape.BaseShape"),C$99i=h0y.prototype,C$99b.imps(C$99i,{"laya.d3.core.IClone":!0}),C$99i._getShapeBoundBox=function(C$99t){throw new Error("BaseShape: must override it.")},C$99i._getSpeedBoundBox=function(C$99t){throw new Error("BaseShape: must override it.")},C$99i.generatePositionAndDirection=function(C$99t,C$99e,C$99i,C$99n){throw new Error("BaseShape: must override it.")},C$99i._calculateProceduralBounds=function(C$99t,C$99e,C$99i){this._getShapeBoundBox(C$99t);var C$99n=C$99t.min,C$99r=C$99t.max;C$99A.multiply(C$99n,C$99e,C$99n),C$99A.multiply(C$99r,C$99e,C$99r);C$99n=new C$99Zt(new C$99A,new C$99A);this.randomDirection?(C$99n.min=new C$99A(-1,-1,-1),C$99n.max=new C$99A(1,1,1)):this._getSpeedBoundBox(C$99n);C$99e=new C$99Zt(new C$99A,new C$99A),C$99r=C$99e.min,C$99e=C$99e.max;C$99A.scale(C$99n.min,C$99i.y,C$99r),C$99A.scale(C$99n.max,C$99i.y,C$99e),C$99A.add(C$99t.min,C$99r,C$99r),C$99A.add(C$99t.max,C$99e,C$99e),C$99A.min(C$99t.min,C$99r,C$99t.min),C$99A.max(C$99t.max,C$99r,C$99t.max);var C$99s=new C$99Zt(new C$99A,new C$99A),C$99a=C$99s.min,C$99o=C$99s.max;C$99A.scale(C$99n.min,C$99i.x,C$99a),C$99A.scale(C$99n.max,C$99i.x,C$99o),C$99A.min(C$99s.min,C$99o,C$99r),C$99A.max(C$99s.min,C$99o,C$99e),C$99A.min(C$99t.min,C$99r,C$99t.min),C$99A.max(C$99t.max,C$99r,C$99t.max)},C$99i.cloneTo=function(C$99t){C$99t.enable=this.enable},C$99i.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},h0y),C$99G=(C$99t(rbn3,"laya.d3.core.particleShuriKen.module.shape.ShapeUtils"),rbn3._randomPointUnitArcCircle=function(C$99t,C$99e,C$99i){C$99e=C$99e.elements;C$99i=C$99i?C$99i.getFloat()*C$99t:Math.random()*C$99t,C$99e[0]=Math.cos(C$99i),C$99e[1]=Math.sin(C$99i)},rbn3._randomPointInsideUnitArcCircle=function(C$99t,C$99e,C$99i){var C$99n=C$99e.elements;rbn3._randomPointUnitArcCircle(C$99t,C$99e,C$99i);C$99t=C$99i?Math.pow(C$99i.getFloat(),.5):Math.pow(Math.random(),.5),C$99n[0]=C$99n[0]*C$99t,C$99n[1]=C$99n[1]*C$99t},rbn3._randomPointUnitCircle=function(C$99t,C$99e){C$99t=C$99t.elements;C$99e=C$99e?C$99e.getFloat()*Math.PI*2:Math.random()*Math.PI*2,C$99t[0]=Math.cos(C$99e),C$99t[1]=Math.sin(C$99e)},rbn3._randomPointInsideUnitCircle=function(C$99t,C$99e){var C$99i=C$99t.elements;rbn3._randomPointUnitCircle(C$99t);C$99t=C$99e?Math.pow(C$99e.getFloat(),.5):Math.pow(Math.random(),.5),C$99i[0]=C$99i[0]*C$99t,C$99i[1]=C$99i[1]*C$99t},rbn3._randomPointUnitSphere=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99i=NaN;C$99e=C$99e?(C$99i=C$99t[2]=2*C$99e.getFloat()-1,C$99e.getFloat()*Math.PI*2):(C$99i=C$99t[2]=2*Math.random()-1,Math.random()*Math.PI*2);C$99i=Math.sqrt(1-C$99i*C$99i);C$99t[0]=C$99i*Math.cos(C$99e),C$99t[1]=C$99i*Math.sin(C$99e)},rbn3._randomPointInsideUnitSphere=function(C$99t,C$99e){var C$99i=C$99t.elements;rbn3._randomPointUnitSphere(C$99t);C$99t=C$99e?Math.pow(C$99e.getFloat(),1/3):Math.pow(Math.random(),1/3),C$99i[0]=C$99i[0]*C$99t,C$99i[1]=C$99i[1]*C$99t,C$99i[2]=C$99i[2]*C$99t},rbn3._randomPointInsideHalfUnitBox=function(C$99t,C$99e){C$99t=C$99t.elements;C$99e?(C$99t[0]=C$99e.getFloat()-.5,C$99t[1]=C$99e.getFloat()-.5,C$99t[2]=C$99e.getFloat()-.5):(C$99t[0]=Math.random()-.5,C$99t[1]=Math.random()-.5,C$99t[2]=Math.random()-.5)},rbn3),C$99Y=(C$99t(jubak,"laya.d3.core.particleShuriKen.module.SizeOverLifetime"),C$99n=jubak.prototype,C$99b.imps(C$99n,{"laya.d3.core.IClone":!0}),C$99n.cloneTo=function(C$99t){this._size.cloneTo(C$99t._size),C$99t.enbale=this.enbale},C$99n.clone=function(){var C$99t;switch(this._size.type){case 0:C$99t=this._size.separateAxes?C$99H.createByGradientSeparate(this._size.gradientX.clone(),this._size.gradientY.clone(),this._size.gradientZ.clone()):C$99H.createByGradient(this._size.gradient.clone());break;case 1:C$99t=this._size.separateAxes?C$99H.createByRandomTwoConstantSeparate(this._size.constantMinSeparate.clone(),this._size.constantMaxSeparate.clone()):C$99H.createByRandomTwoConstant(this._size.constantMin,this._size.constantMax);break;case 2:C$99t=this._size.separateAxes?C$99H.createByRandomTwoGradientSeparate(this._size.gradientXMin.clone(),this._size.gradientYMin.clone(),this._size.gradientZMin.clone(),this._size.gradientXMax.clone(),this._size.gradientYMax.clone(),this._size.gradientZMax.clone()):C$99H.createByRandomTwoGradient(this._size.gradientMin.clone(),this._size.gradientMax.clone())}var C$99e=new this.constructor(C$99t);return C$99e.enbale=this.enbale,C$99e},C$99e(0,C$99n,"size",function(){return this._size}),C$99t(abgkjr,"laya.d3.core.particleShuriKen.module.StartFrame"),C$99n=abgkjr.prototype,C$99b.imps(C$99n,{"laya.d3.core.IClone":!0}),C$99n.cloneTo=function(C$99t){C$99t._type=this._type,C$99t._constant=this._constant,C$99t._constantMin=this._constantMin,C$99t._constantMax=this._constantMax},C$99n.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99e(0,C$99n,"constant",function(){return this._constant}),C$99e(0,C$99n,"type",function(){return this._type}),C$99e(0,C$99n,"constantMin",function(){return this._constantMin}),C$99e(0,C$99n,"constantMax",function(){return this._constantMax}),abgkjr.createByConstant=function(C$99t){var C$99e=new abgkjr;return C$99e._type=0,C$99e._constant=C$99t,C$99e},abgkjr.createByRandomTwoConstant=function(C$99t,C$99e){var C$99i=new abgkjr;return C$99i._type=1,C$99i._constantMin=C$99t,C$99i._constantMax=C$99e,C$99i},abgkjr),C$99X=(C$99t(mq_x0y,"laya.d3.core.particleShuriKen.module.TextureSheetAnimation"),C$99n=mq_x0y.prototype,C$99b.imps(C$99n,{"laya.d3.core.IClone":!0}),C$99n.cloneTo=function(C$99t){this.tiles.cloneTo(C$99t.tiles),C$99t.type=this.type,C$99t.randomRow=this.randomRow,this._frame.cloneTo(C$99t._frame),this._startFrame.cloneTo(C$99t._startFrame),C$99t.cycles=this.cycles,C$99t.enableUVChannels=this.enableUVChannels,C$99t.enable=this.enable},C$99n.clone=function(){var C$99t,C$99e;switch(this._frame.type){case 0:C$99t=C$99U.createByConstant(this._frame.constant);break;case 1:C$99t=C$99U.createByOverTime(this._frame.frameOverTimeData.clone());break;case 2:C$99t=C$99U.createByRandomTwoConstant(this._frame.constantMin,this._frame.constantMax);break;case 3:C$99t=C$99U.createByRandomTwoOverTime(this._frame.frameOverTimeDataMin.clone(),this._frame.frameOverTimeDataMax.clone())}switch(this._startFrame.type){case 0:C$99e=C$99Y.createByConstant(this._startFrame.constant);break;case 1:C$99e=C$99Y.createByRandomTwoConstant(this._startFrame.constantMin,this._startFrame.constantMax)}var C$99i=new this.constructor(C$99t,C$99e);return this.tiles.cloneTo(C$99i.tiles),C$99i.type=this.type,C$99i.randomRow=this.randomRow,C$99i.cycles=this.cycles,C$99i.enableUVChannels=this.enableUVChannels,C$99i.enable=this.enable,C$99i},C$99e(0,C$99n,"frame",function(){return this._frame}),C$99e(0,C$99n,"startFrame",function(){return this._startFrame}),C$99t($pv9,"laya.d3.core.particleShuriKen.module.VelocityOverLifetime"),C$99n=$pv9.prototype,C$99b.imps(C$99n,{"laya.d3.core.IClone":!0}),C$99n.cloneTo=function(C$99t){this._velocity.cloneTo(C$99t._velocity),C$99t.enbale=this.enbale,C$99t.space=this.space},C$99n.clone=function(){var C$99t;switch(this._velocity.type){case 0:C$99t=C$99W.createByConstant(this._velocity.constant.clone());break;case 1:C$99t=C$99W.createByGradient(this._velocity.gradientX.clone(),this._velocity.gradientY.clone(),this._velocity.gradientZ.clone());break;case 2:C$99t=C$99W.createByRandomTwoConstant(this._velocity.constantMin.clone(),this._velocity.constantMax.clone());break;case 3:C$99t=C$99W.createByRandomTwoGradient(this._velocity.gradientXMin.clone(),this._velocity.gradientYMin.clone(),this._velocity.gradientZMin.clone(),this._velocity.gradientXMax.clone(),this._velocity.gradientYMax.clone(),this._velocity.gradientZMax.clone())}var C$99e=new this.constructor(C$99t);return C$99e.enbale=this.enbale,C$99e.space=this.space,C$99e},C$99e(0,C$99n,"velocity",function(){return this._velocity}),C$99t(asrbjk,"laya.d3.core.PhasorSpriter3D"),(C$99n=asrbjk.prototype).line=function(C$99t,C$99e,C$99i,C$99n){return this._hasBegun&&1===this._primitiveType||this.drawLinesException(),(this._posInVBData+2*this._floatSizePerVer>this._vbData.length||this._posInIBData+2>this._ibData.length)&&this.flush(),this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$99t.x,C$99t.y,C$99t.z,C$99e.x,C$99e.y,C$99e.z,C$99e.w),this.addVertex(C$99i.x,C$99i.y,C$99i.z,C$99n.x,C$99n.y,C$99n.z,C$99n.w),this.addIndexes(this._tempUint0,this._tempUint0+1),this},C$99n.circle=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){for(this._hasBegun&&1===this._primitiveType||this.drawLinesException(),this._tempUint0=2*C$99e,(this._posInVBData+this._tempUint0*this._floatSizePerVer>this._vbData.length||this._posInIBData+2*this._tempUint0>this._ibData.length)&&this.flush(),this._tempUint1=this._posInVBData/this._floatSizePerVer,this._tempNumver0=0,this._tempInt0=0;this._tempNumver0<6.2832;this._tempNumver0=this._tempNumver0+3.1416/C$99e,this._tempInt0++)this.addVertex(Math.sin(this._tempNumver0)*C$99t,Math.cos(this._tempNumver0)*C$99t,0,C$99i,C$99n,C$99r,C$99s),0===this._tempInt0?this.addIndexes(this._tempUint1):this._tempInt0===this._tempUint0-1?(this._tempUint2=this._tempUint1+this._tempInt0,this.addIndexes(this._tempUint2,this._tempUint2,this._tempUint1)):(this._tempUint2=this._tempUint1+this._tempInt0,this.addIndexes(this._tempUint2,this._tempUint2));return this},C$99n.plane=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){return this._hasBegun&&4===this._primitiveType||this.drawTrianglesException(),(this._posInVBData+4*this._floatSizePerVer>this._vbData.length||this._posInIBData+6>this._ibData.length)&&this.flush(),this._tempNumver0=C$99n/2,this._tempNumver1=C$99r/2,this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$99t-this._tempNumver0,C$99e+this._tempNumver1,C$99i,C$99s,C$99a,C$99o,C$99h),this.addVertex(C$99t+this._tempNumver0,C$99e+this._tempNumver1,C$99i,C$99s,C$99a,C$99o,C$99h),this.addVertex(C$99t-this._tempNumver0,C$99e-this._tempNumver1,C$99i,C$99s,C$99a,C$99o,C$99h),this.addVertex(C$99t+this._tempNumver0,C$99e-this._tempNumver1,C$99i,C$99s,C$99a,C$99o,C$99h),this._tempUint1=this._tempUint0+1,this._tempUint2=this._tempUint0+2,this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint2,this._tempUint2,this._tempUint1,this._tempUint0+3),this},C$99n.box=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){return this._hasBegun&&4===this._primitiveType||this.drawTrianglesException(),(this._posInVBData+8*this._floatSizePerVer>this._vbData.length||this._posInIBData+36>this._ibData.length)&&this.flush(),this._tempNumver0=C$99n/2,this._tempNumver1=C$99r/2,this._tempNumver2=C$99s/2,this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$99t-this._tempNumver0,C$99e+this._tempNumver1,C$99i+this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t+this._tempNumver0,C$99e+this._tempNumver1,C$99i+this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t-this._tempNumver0,C$99e-this._tempNumver1,C$99i+this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t+this._tempNumver0,C$99e-this._tempNumver1,C$99i+this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t+this._tempNumver0,C$99e+this._tempNumver1,C$99i-this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t-this._tempNumver0,C$99e+this._tempNumver1,C$99i-this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t+this._tempNumver0,C$99e-this._tempNumver1,C$99i-this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t-this._tempNumver0,C$99e-this._tempNumver1,C$99i-this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this._tempUint1=this._tempUint0+1,this._tempUint2=this._tempUint0+2,this._tempUint3=this._tempUint0+3,this._tempUint4=this._tempUint0+4,this._tempUint5=this._tempUint0+5,this._tempUint6=this._tempUint0+6,this._tempUint7=this._tempUint0+7,this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint2,this._tempUint2,this._tempUint1,this._tempUint3,this._tempUint4,this._tempUint5,this._tempUint6,this._tempUint6,this._tempUint5,this._tempUint7,this._tempUint5,this._tempUint0,this._tempUint7,this._tempUint7,this._tempUint0,this._tempUint2,this._tempUint1,this._tempUint4,this._tempUint3,this._tempUint3,this._tempUint4,this._tempUint6,this._tempUint5,this._tempUint4,this._tempUint0,this._tempUint0,this._tempUint4,this._tempUint1,this._tempUint2,this._tempUint3,this._tempUint7,this._tempUint7,this._tempUint3,this._tempUint6),this},C$99n.cone=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){for(this._hasBegun&&4===this._primitiveType||this.drawTrianglesException(),(this._posInVBData+(2*C$99i+2)*this._floatSizePerVer>this._vbData.length||this._posInIBData+6*C$99i>this._ibData.length)&&this.flush(),this._tempUint0=this._posInVBData,this._tempUint1=this._posInVBData/this._floatSizePerVer,this._tempNumver0=2*Math.PI/C$99i,this.addVertexIndex(0,C$99e,0,C$99n,C$99r,C$99s,C$99a,this._tempUint0),this.addVertexIndex(0,0,0,C$99n,C$99r,C$99s,C$99a,this._tempUint0+this._floatSizePerVer),this._tempInt0=2,this._tempNumver1=0,this._tempInt1=0;this._tempInt1<C$99i;this._tempInt1++)this._tempNumver2=Math.cos(this._tempNumver1),this._tempNumver3=Math.sin(this._tempNumver1),this.addVertexIndex(C$99t*this._tempNumver2,0,C$99t*this._tempNumver3,C$99n,C$99r,C$99s,C$99a,this._tempUint0+this._tempInt0*this._floatSizePerVer),this.addIndexes(this._tempUint1,this._tempUint1+this._tempInt0),this._tempInt1==C$99i-1?this.addIndexes(this._tempUint1+2):this.addIndexes(this._tempUint1+this._tempInt0+1),this.addVertexIndex(C$99t*this._tempNumver2,0,C$99t*this._tempNumver3,C$99n,C$99r,C$99s,C$99a,this._tempUint0+(this._tempInt0+C$99i)*this._floatSizePerVer),this.addIndexes(this._tempUint1+1),this._tempInt1==C$99i-1?this.addIndexes(this._tempUint1+C$99i+2):this.addIndexes(this._tempUint1+this._tempInt0+C$99i+1),this.addIndexes(this._tempUint1+this._tempInt0+C$99i),this._tempInt0++,this._tempNumver1+=this._tempNumver0;return this},C$99n.boundingBoxLine=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){return this._hasBegun&&1===this._primitiveType||this.drawLinesException(),(this._posInVBData+8*this._floatSizePerVer>this._vbData.length||this._posInIBData+48>this._ibData.length)&&this.flush(),this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$99t,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t,C$99e,C$99s,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99n,C$99e,C$99s,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99n,C$99r,C$99i,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t,C$99r,C$99i,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99n,C$99e,C$99i,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t,C$99e,C$99i,C$99a,C$99o,C$99h,C$99l),this._tempUint1=this._tempUint0+1,this._tempUint2=this._tempUint0+2,this._tempUint3=this._tempUint0+3,this._tempUint4=this._tempUint0+4,this._tempUint5=this._tempUint0+5,this._tempUint6=this._tempUint0+6,this._tempUint7=this._tempUint0+7,this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint1,this._tempUint3,this._tempUint3,this._tempUint2,this._tempUint2,this._tempUint0,this._tempUint4,this._tempUint5,this._tempUint5,this._tempUint7,this._tempUint7,this._tempUint6,this._tempUint6,this._tempUint4,this._tempUint5,this._tempUint0,this._tempUint0,this._tempUint2,this._tempUint2,this._tempUint7,this._tempUint7,this._tempUint5,this._tempUint1,this._tempUint4,this._tempUint4,this._tempUint6,this._tempUint6,this._tempUint3,this._tempUint3,this._tempUint1,this._tempUint5,this._tempUint4,this._tempUint4,this._tempUint1,this._tempUint1,this._tempUint0,this._tempUint0,this._tempUint5,this._tempUint2,this._tempUint3,this._tempUint3,this._tempUint6,this._tempUint6,this._tempUint7,this._tempUint7,this._tempUint2),this},C$99n.addVertex=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){return this._hasBegun||this.addVertexIndexException(),this._vbData[this._posInVBData]=C$99t,this._vbData[this._posInVBData+1]=C$99e,this._vbData[this._posInVBData+2]=C$99i,this._vbData[this._posInVBData+3]=C$99n,this._vbData[this._posInVBData+4]=C$99r,this._vbData[this._posInVBData+5]=C$99s,this._vbData[this._posInVBData+6]=C$99a,this._posInVBData+=this._floatSizePerVer,this},C$99n.addVertexIndex=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){return this._hasBegun||this.addVertexIndexException(),this._vbData[C$99o]=C$99t,this._vbData[C$99o+1]=C$99e,this._vbData[C$99o+2]=C$99i,this._vbData[C$99o+3]=C$99n,this._vbData[C$99o+4]=C$99r,this._vbData[C$99o+5]=C$99s,this._vbData[C$99o+6]=C$99a,(C$99o+=this._floatSizePerVer)>this._posInVBData&&(this._posInVBData=C$99o),this},C$99n.addIndexes=function(C$99t){var C$99e=arguments;this._hasBegun||this.addVertexIndexException();for(var C$99i=0;C$99i<C$99e.length;C$99i++)this._ibData[this._posInIBData]=C$99e[C$99i],this._posInIBData++;return this},C$99n.begin=function(C$99t,C$99e){return this._hasBegun&&this.beginException0(),1!==C$99t&&4!==C$99t&&this.beginException1(),this._primitiveType=C$99t,this._camera=C$99e,this._hasBegun=!0,this},C$99n.end=function(){return this._hasBegun||this.endException(),this.flush(),this._hasBegun=!1,this},C$99n.flush=function(){0!==this._posInVBData&&(this._ib.setData(this._ibData),this._vb.setData(this._vbData),this._vb._bind(),this._ib._bind(),this._shader=this._shaderCompile.withCompile(0,0,0),this._shader.bind(),this._shader.uploadAttributes(asrbjk._vertexDeclaration.shaderValues.data,null),this._spriteShaderValue.setValue(1,this._camera.projectionViewMatrix.elements),this._shader.uploadSpriteUniforms(this._spriteShaderValue.data),C$99R.drawCall++,C$99k.mainContext.drawElements(this._primitiveType,this._posInIBData,5123,0),this._posInIBData=0,this._posInVBData=0)},C$99n.addVertexIndexException=function(){throw new Error("\u8bf7\u5148\u8c03\u7528begin()\u51fd\u6570")},C$99n.beginException0=function(){throw new Error("\u8c03\u7528begin()\u524d\u8bf7\u786e\u4fdd\u5df2\u6210\u529f\u8c03\u7528end()\uff01")},C$99n.beginException1=function(){throw new Error("\u53ea\u652f\u6301\u201cLINES\u201d\u548c\u201cTRIANGLES\u201d\u4e24\u79cd\u57fa\u5143\uff01")},C$99n.endException=function(){throw new Error("\u8c03\u7528end()\u524d\u8bf7\u786e\u4fdd\u5df2\u6210\u529f\u8c03\u7528begin()\uff01")},C$99n.drawLinesException=function(){throw new Error("\u60a8\u5fc5\u987b\u786e\u4fdd\u5728\u6b64\u4e4b\u524d\u5df2\u8c03\u7528begin()\u4e14\u4f7f\u7528\u201cLINES\u201d\u57fa\u5143\uff01")},C$99n.drawTrianglesException=function(){throw new Error("\u60a8\u5fc5\u987b\u786e\u4fdd\u5728\u6b64\u4e4b\u524d\u5df2\u8c03\u7528begin()\u4e14\u4f7f\u7528\u201cTRIANGLES\u201d\u57fa\u5143\uff01")},C$99h(asrbjk,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(28,[new C$99r(0,"vector3",0),new C$99r(12,"vector4",1)])}]),asrbjk),C$99K=(C$99t($d9,"laya.d3.core.render.RenderElement"),(C$99n=$d9.prototype).getDynamicBatchBakedVertexs=function(C$99t){for(var C$99t=this._renderObj._getVertexBuffer(C$99t),C$99e=C$99t.getData().slice(),C$99t=C$99t.vertexDeclaration,C$99i=C$99t.getVertexElementByUsage(0).offset/4,C$99n=C$99t.getVertexElementByUsage(3).offset/4,C$99r=this._sprite3D.transform,C$99s=C$99r.worldMatrix,C$99a=C$99r.rotation,C$99c=C$99t.vertexStride/4,C$99o=0,C$99_=C$99e.length;C$99o<C$99_;C$99o+=C$99c){var C$99h=C$99o+C$99i,C$99l=C$99o+C$99n;C$99ge.transformVector3ArrayToVector3ArrayCoordinate(C$99e,C$99h,C$99s,C$99e,C$99h),C$99ge.transformVector3ArrayByQuat(C$99e,C$99l,C$99a,C$99e,C$99l)}return C$99e},C$99n.getBakedIndices=function(){return this._renderObj._getIndexBuffer().getData()},C$99n._destroy=function(){this._staticBatch&&this._staticBatch._manager._garbageCollection(this)},C$99e(0,C$99n,"id",function(){return this._id}),C$99e(0,C$99n,"renderObj",function(){return this._renderObj},function(C$99t){this._renderObj!==C$99t&&(this._renderObj=C$99t)}),$d9._uniqueIDCounter=0,$d9),C$99Z=(C$99t(dpvfz$,"laya.d3.core.render.RenderQueue"),(C$99n=dpvfz$.prototype)._sortOpaqueFunc=function(C$99t,C$99e){var C$99i;return C$99t._render&&C$99e._render?0==(C$99i=C$99t._material.renderQueue-C$99e._material.renderQueue)?C$99t._render._distanceForSort-C$99e._render._distanceForSort:C$99i:0},C$99n._sortAlphaFunc=function(C$99t,C$99e){var C$99i;return C$99t._render&&C$99e._render?0==(C$99i=C$99t._material.renderQueue-C$99e._material.renderQueue)?C$99e._render._distanceForSort-C$99t._render._distanceForSort:C$99i:0},C$99n._begainRenderElement=function(C$99t,C$99e,C$99i){return!!C$99e._beforeRender(C$99t)},C$99n._sortAlpha=function(C$99t){dpvfz$._cameraPosition=C$99t,this._finalElements.sort(this._sortAlphaFunc)},C$99n._sortOpaque=function(C$99t){dpvfz$._cameraPosition=C$99t,this._finalElements.sort(this._sortOpaqueFunc)},C$99n._preRender=function(C$99t){this._finalElements=this._renderElements.concat(this._dynamicBatchCombineRenderElements)},C$99n._render=function(C$99t,C$99c){for(var C$99_,C$99e,C$99u,C$99i,C$99d,C$99f,C$99p=C$99R.loopCount,C$99n=this._scene,C$99r=C$99t.camera,C$99s=(C$99r.id,!1),C$99m=0,C$99g=this._finalElements.length;C$99m<C$99g;C$99m++){var C$99a,C$99o,C$99h,C$99l=this._finalElements[C$99m];if(null!=C$99l._onPreRenderFunction&&C$99l._onPreRenderFunction.call(C$99l._sprite3D,C$99t),0===C$99l._type){if(C$99t.owner=C$99h=C$99l._sprite3D,C$99t.renderElement=C$99l,C$99h._preRenderUpdateComponents(C$99t),C$99a=C$99l.renderObj,C$99o=C$99l._material,this._begainRenderElement(C$99t,C$99a,C$99o)){if(C$99_=C$99a._getVertexBuffers(),!(C$99u=(C$99e=C$99a._getVertexBuffer(0)).vertexDeclaration)){var C$99v;this._errorRecord[C$99e.id]||(this._errorRecord[C$99e.id]=1,C$99v="vertexBuffer:("+C$99e._destroyed+","+C$99e._released+","+C$99e._referenceCount+","+C$99e._buffer+"), material:"+(C$99o?C$99o.__className+"("+C$99o._destroyed+","+C$99o._released+")":"null")+", owner:"+(C$99h?C$99h.__className+"("+C$99h._destroyed+","+C$99h._activeInHierarchy+","+C$99h._displayedInStage+")":"null")+", renderObj:"+(C$99a?C$99a.__className+"("+C$99a._destroyed+","+C$99a._released+","+C$99a._referenceCount+")":"")+", parent:, url:"+(C$99h?C$99h.url:"")+", disposeStack:"+C$99e.disposeStack,C$99b.recordError("\u62a5\u9519\uff1aunknown vertexDeclaration  "+C$99v));continue}if(C$99s=(C$99i=C$99t._shader=C$99o._getShader(C$99n._shaderDefineValue,C$99u.shaderDefineValue,C$99h._shaderDefineValue)).bind()||C$99p!==C$99i._uploadLoopCount,C$99_){if(C$99i._uploadVertexBuffer!==C$99_||C$99s){for(var C$99x=0;C$99x<C$99_.length;C$99x++){var C$99y=C$99_[C$99x];C$99i.uploadAttributesX(C$99y.vertexDeclaration.shaderValues.data,C$99y)}C$99i._uploadVertexBuffer=C$99_}}else C$99i._uploadVertexBuffer===C$99e&&!C$99s||(C$99i.uploadAttributes(C$99u.shaderValues.data,null),C$99i._uploadVertexBuffer=C$99e);C$99i._uploadScene===C$99n&&!C$99s||(C$99i.uploadSceneUniforms(C$99n._shaderValues.data),C$99i._uploadScene=C$99n),C$99r===C$99i._uploadCamera&&C$99i._uploadSprite3D===C$99h&&!C$99s||(C$99i.uploadSpriteUniforms(C$99h._shaderValues.data),C$99i._uploadSprite3D=C$99h),C$99r===C$99i._uploadCamera&&!C$99s||(C$99i.uploadCameraUniforms(C$99r._shaderValues.data),C$99i._uploadCamera=C$99r),C$99i._uploadMaterial===C$99o&&!C$99s||(C$99o._upload(),C$99i._uploadMaterial=C$99o),C$99d!==C$99o?(C$99o._setRenderStateBlendDepth(),C$99o._setRenderStateFrontFace(C$99c,C$99h.transform),C$99d=C$99o,C$99f=C$99h):C$99f!==C$99h&&(C$99o._setRenderStateFrontFace(C$99c,C$99h.transform),C$99f=C$99h),C$99a._render(C$99t),C$99i._uploadLoopCount=C$99p}C$99h._postRenderUpdateComponents(C$99t)}else 2===C$99l._type&&(C$99l.renderObj,C$99t.owner=C$99h=C$99l._sprite3D,C$99t.renderElement=C$99l,C$99t._batchIndexStart=C$99l._tempBatchIndexStart,C$99t._batchIndexEnd=C$99l._tempBatchIndexEnd,C$99a=C$99l.renderObj,C$99o=C$99l._material,this._begainRenderElement(C$99t,C$99a,C$99o)&&(C$99u=(C$99e=C$99a._getVertexBuffer(0)).vertexDeclaration,C$99s=(C$99i=C$99t._shader=C$99o._getShader(C$99n._shaderDefineValue,C$99u.shaderDefineValue,C$99h._shaderDefineValue)).bind()||C$99p!==C$99i._uploadLoopCount,C$99i._uploadVertexBuffer===C$99e&&!C$99s||(C$99i.uploadAttributes(C$99u.shaderValues.data,null),C$99i._uploadVertexBuffer=C$99e),C$99i._uploadScene===C$99n&&!C$99s||(C$99i.uploadSceneUniforms(C$99n._shaderValues.data),C$99i._uploadScene=C$99n),C$99r===C$99i._uploadCamera&&C$99i._uploadSprite3D===C$99h&&!C$99s||(C$99i.uploadSpriteUniforms(C$99h._shaderValues.data),C$99i._uploadSprite3D=C$99h),C$99r===C$99i._uploadCamera&&!C$99s||(C$99i.uploadCameraUniforms(C$99r._shaderValues.data),C$99i._uploadCamera=C$99r),C$99i._uploadMaterial===C$99o&&!C$99s||(C$99o._upload(),C$99i._uploadMaterial=C$99o),C$99d!==C$99o?(C$99o._setRenderStateBlendDepth(),C$99o._setRenderStateFrontFace(C$99c,C$99h.transform),C$99d=C$99o,C$99f=C$99h):C$99f!==C$99h&&(C$99o._setRenderStateFrontFace(C$99c,C$99h.transform),C$99f=C$99h),C$99a._render(C$99t),C$99i._uploadLoopCount=C$99p))}},C$99n._renderShadow=function(C$99t,C$99c){for(var C$99e,C$99i,C$99n,C$99_,C$99r,C$99s,C$99u=C$99R.loopCount,C$99d=this._scene,C$99a=C$99t.camera,C$99f=0,C$99p=this._finalElements.length;C$99f<C$99p;C$99f++){var C$99o,C$99h,C$99l=this._finalElements[C$99f];0===C$99l._type&&(C$99t.owner=C$99h=C$99l._sprite3D,C$99c||C$99h._projectionViewWorldUpdateCamera===C$99a&&C$99h._projectionViewWorldUpdateLoopCount===C$99R.loopCount||(C$99h._render._renderUpdate(C$99t._projectionViewMatrix),C$99h._projectionViewWorldUpdateLoopCount=C$99R.loopCount,C$99h._projectionViewWorldUpdateCamera=C$99a),C$99t.renderElement=C$99l,C$99h._preRenderUpdateComponents(C$99t),C$99o=C$99l.renderObj,C$99l=C$99l._material,this._begainRenderElement(C$99t,C$99o,null)&&(C$99i=(C$99e=C$99o._getVertexBuffer(0)).vertexDeclaration,C$99s=(C$99n=C$99t._shader=C$99l._getShader(C$99d._shaderDefineValue,C$99i.shaderDefineValue,C$99h._shaderDefineValue)).bind()||C$99u!==C$99n._uploadLoopCount,C$99n._uploadVertexBuffer===C$99e&&!C$99s||(C$99n.uploadAttributes(C$99i.shaderValues.data,null),C$99n._uploadVertexBuffer=C$99e),C$99a===C$99n._uploadCamera&&C$99n._uploadSprite3D===C$99h&&!C$99s||(C$99n.uploadSpriteUniforms(C$99h._shaderValues.data),C$99n._uploadSprite3D=C$99h),C$99a===C$99n._uploadCamera&&!C$99s||(C$99n.uploadCameraUniforms(C$99a._shaderValues.data),C$99n._uploadCamera=C$99a),C$99n._uploadMaterial===C$99l&&!C$99s||(C$99l._upload(),C$99n._uploadMaterial=C$99l),C$99n._uploadRenderElement,C$99_!==C$99l?(C$99l._setRenderStateFrontFace(!1,C$99h.transform),C$99_=C$99l,C$99r=C$99h):C$99r!==C$99h&&(C$99l._setRenderStateFrontFace(!1,C$99h.transform),C$99r=C$99h),C$99o._render(C$99t),C$99n._uploadLoopCount=C$99u),C$99h._postRenderUpdateComponents(C$99t))}},C$99n._clearRenderElements=function(){this._dynamicBatchCombineRenderElements.length=0,this._renderElements.length=0,this._needSort=!0},C$99n._addRenderElement=function(C$99t){this._renderElements.push(C$99t),this._needSort=!0},C$99n._addDynamicBatchElement=function(C$99t){this._dynamicBatchCombineRenderElements.push(C$99t)},C$99e(0,C$99n,"id",function(){return this._id}),dpvfz$._uniqueIDCounter=0,dpvfz$._cameraPosition=null,dpvfz$),C$99Q=(C$99t(o0xq,"laya.d3.core.render.RenderState"),o0xq.clientWidth=0,o0xq.clientHeight=0,o0xq),C$99J=(C$99t(pvd$z,"laya.d3.core.scene.OctreeNode"),C$99n=pvd$z.prototype,C$99b.imps(C$99n,{"laya.d3.core.scene.ITreeNode":!0}),C$99n.init=function(C$99t,C$99e){var C$99i=new C$99A,C$99n=new C$99A;C$99A.scale(C$99e,-.5,C$99i),C$99A.scale(C$99e,.5,C$99n),C$99A.add(C$99i,C$99t,C$99i),C$99A.add(C$99n,C$99t,C$99n),this.exactBox=new C$99Zt(C$99i,C$99n),this.relaxBox=new C$99Zt(C$99i,C$99n)},C$99n.addTreeNode=function(C$99t){1===Collision.boxContainsBox(this._relaxBox,C$99t.boundingBox)?this.addNodeDown(C$99t,0):this.addObject(C$99t)},C$99n.addChild=function(C$99t){var C$99e=this._children[C$99t];var C$99i;return null==C$99e&&(C$99e=new pvd$z(this._scene,this._currentDepth+1),(this._children[C$99t]=C$99e)._parent=this,C$99A.subtract(this._exactBox.max,this._exactBox.min,pvd$z.tempSize),C$99A.multiply(pvd$z.tempSize,pvd$z._octreeSplit[C$99t],pvd$z.tempCenter),C$99A.add(this._exactBox.min,pvd$z.tempCenter,pvd$z.tempCenter),C$99A.scale(pvd$z.tempSize,.25,pvd$z.tempSize),C$99t=new C$99A,C$99i=new C$99A,C$99A.subtract(pvd$z.tempCenter,pvd$z.tempSize,C$99t),C$99A.add(pvd$z.tempCenter,pvd$z.tempSize,C$99i),C$99e.exactBox=new C$99Zt(C$99t,C$99i),C$99A.scale(pvd$z.tempSize,pvd$z.relax,pvd$z.tempSize),C$99t=new C$99A,C$99i=new C$99A,C$99A.subtract(pvd$z.tempCenter,pvd$z.tempSize,C$99t),C$99A.add(pvd$z.tempCenter,pvd$z.tempSize,C$99i),C$99e.relaxBox=new C$99Zt(C$99t,C$99i)),C$99e},C$99n.addObject=function(C$99t){(C$99t._treeNode=this)._objects.push(C$99t)},C$99n.removeObject=function(C$99t){if(C$99t._treeNode!=this)return console.log("OctreeNode::removeObject error"),!1;C$99t=this._objects.indexOf(C$99t);return-1!==C$99t&&(this._objects.splice(C$99t,1),!0)},C$99n.clearObject=function(){this._objects.length=0},C$99n.addNodeUp=function(C$99t,C$99e){this._parent&&1!==Collision.boxContainsBox(this._exactBox,C$99t.boundingBox)?this._parent.addNodeUp(C$99t,C$99e-1):this.addNodeDown(C$99t,C$99e)},C$99n.addNodeDown=function(C$99t,C$99e){var C$99i;C$99e<this._scene.treeLevel?(C$99i=this.inChildIndex(C$99t.boundingBoxCenter),C$99i=this.addChild(C$99i),1===Collision.boxContainsBox(C$99i._relaxBox,C$99t.boundingBox)?C$99i.addNodeDown(C$99t,++C$99e):this.addObject(C$99t)):this.addObject(C$99t)},C$99n.inChildIndex=function(C$99t){return 4*(C$99t.z<this._boundingBoxCenter.z?0:1)+2*(C$99t.y<this._boundingBoxCenter.y?0:1)+(C$99t.x<this._boundingBoxCenter.x?0:1)},C$99n.updateObject=function(C$99t){1===Collision.boxContainsBox(this._relaxBox,C$99t.boundingBox)?(this.removeObject(C$99t),C$99t._treeNode=null,this.addNodeDown(C$99t,this._currentDepth)):this._parent&&(this.removeObject(C$99t),C$99t._treeNode=null,this._parent.addNodeUp(C$99t,this._currentDepth-1))},C$99n.cullingObjects=function(C$99t,C$99e,C$99c,C$99i,C$99n){var C$99_,C$99u,C$99r=0,C$99s=0,C$99d=this._scene._dynamicBatchManager;for(C$99r=0,C$99_=this._objects.length;C$99r<C$99_;C$99r++){var C$99a=this._objects[C$99r];if(C$99$.isVisible(C$99a._owner.layer.mask)&&C$99a.enable&&(!C$99e||(C$99R.treeSpriteCollision+=1,0!==C$99t.containsBoundSphere(C$99a.boundingSphere)))){C$99a._renderUpdate(C$99n),C$99a._distanceForSort=C$99A.distance(C$99a.boundingSphere.center,C$99i)+C$99a.sortingFudge;var C$99f=C$99a._renderElements;for(C$99s=0,C$99u=C$99f.length;C$99s<C$99u;C$99s++){var C$99o=C$99f[C$99s],C$99h=C$99o._staticBatch;C$99h&&C$99h._material===C$99o._material?C$99h._addBatchRenderElement(C$99o):(C$99h=C$99o.renderObj).triangleCount<10&&1===C$99h._vertexBufferCount&&C$99h._getIndexBuffer()&&C$99o._material.renderQueue<2&&C$99o._canDynamicBatch&&!C$99a._owner.isStatic?C$99d._addPrepareRenderElement(C$99o):this._scene.getRenderQueue(C$99o._material.renderQueue)._addRenderElement(C$99o)}}}for(C$99r=0;C$99r<8;C$99r++){var C$99l=this._children[C$99r];if(null!=C$99l){var C$99p=C$99e;if(C$99e){var C$99m=C$99t.containsBoundBox(C$99l._relaxBox);if(C$99R.treeNodeCollision+=1,0===C$99m)continue;C$99p=2===C$99m}C$99l.cullingObjects(C$99t,C$99p,C$99c,C$99i,C$99n)}}},C$99n.cullingShadowObjects=function(C$99t,C$99e,C$99i,C$99c,C$99_){var C$99n,C$99r,C$99s=0,C$99a=0;for(this._scene._dynamicBatchManager,C$99s=0,C$99n=this._objects.length;C$99s<C$99n;C$99s++){var C$99o=this._objects[C$99s];if(C$99o.castShadow&&C$99$.isVisible(C$99o._owner.layer.mask)&&C$99o.enable&&(!C$99i||0!==C$99t[0].containsBoundSphere(C$99o.boundingSphere)))for(var C$99h=1,C$99u=C$99t.length;C$99h<C$99u;C$99h++){var C$99d=C$99e[C$99h-1];if(0!==C$99t[C$99h].containsBoundSphere(C$99o.boundingSphere)){var C$99f=C$99o._renderElements;for(C$99a=0,C$99r=C$99f.length;C$99a<C$99r;C$99a++)C$99d._addRenderElement(C$99f[C$99a])}}}for(C$99s=0;C$99s<8;C$99s++){var C$99l=this._children[C$99s];if(null!=C$99l){var C$99p=C$99i;if(C$99i){var C$99m=C$99t[0].containsBoundBox(C$99l._relaxBox);if(0===C$99m)continue;C$99p=2===C$99m}C$99l.cullingShadowObjects(C$99t,C$99e,C$99p,C$99c,C$99_)}}},C$99n.cullingShadowObjectsOnePSSM=function(C$99t,C$99e,C$99i,C$99n,C$99c,C$99_){var C$99r,C$99s,C$99u=C$99e[0],C$99a=0,C$99o=0;for(C$99a=0,C$99r=this._objects.length;C$99a<C$99r;C$99a++){var C$99h=this._objects[C$99a];if(C$99h.castShadow&&C$99$.isVisible(C$99h._owner.layer.mask)&&C$99h.enable&&(!C$99n||0!==C$99t.containsBoundSphere(C$99h.boundingSphere))){C$99h._renderUpdate(C$99i);var C$99d=C$99h._renderElements;for(C$99o=0,C$99s=C$99d.length;C$99o<C$99s;C$99o++)C$99u._addRenderElement(C$99d[C$99o])}}for(C$99a=0;C$99a<8;C$99a++){var C$99l=this._children[C$99a];if(null!=C$99l){var C$99f=C$99n;if(C$99n){var C$99p=C$99t.containsBoundBox(C$99l._relaxBox);if(0===C$99p)continue;C$99f=2===C$99p}C$99l.cullingShadowObjectsOnePSSM(C$99t,C$99e,C$99i,C$99f,C$99c,C$99_)}}},C$99n.renderBoudingBox=function(C$99t){this._renderBoudingBox(C$99t);for(var C$99e=0;C$99e<8;++C$99e){var C$99i=this._children[C$99e];C$99i&&C$99i.renderBoudingBox(C$99t)}},C$99n.buildAllChild=function(C$99t){if(C$99t<this._scene.treeLevel)for(var C$99e=0;C$99e<8;C$99e++)this.addChild(C$99e).buildAllChild(C$99t+1)},C$99n._renderBoudingBox=function(C$99t){},C$99e(0,C$99n,"exactBox",function(){return this._exactBox},function(C$99t){this._exactBox=C$99t,C$99A.add(C$99t.min,C$99t.max,this._boundingBoxCenter),C$99A.scale(this._boundingBoxCenter,.5,this._boundingBoxCenter)}),C$99e(0,C$99n,"relaxBox",function(){return this._relaxBox},function(C$99t){(this._relaxBox=C$99t).getCorners(this._corners),C$99Jt.createfromPoints(this._corners,this._boundingSphere)}),pvd$z.debugMode=!1,pvd$z.relax=1.15,pvd$z.CHILDNUM=8,C$99h(pvd$z,["tempVector0",function(){return this.tempVector0=new C$99A},"tempSize",function(){return this.tempSize=new C$99A},"tempCenter",function(){return this.tempCenter=new C$99A},"_octreeSplit",function(){return this._octreeSplit=[new C$99A(.25,.25,.25),new C$99A(.75,.25,.25),new C$99A(.25,.75,.25),new C$99A(.75,.75,.25),new C$99A(.25,.25,.75),new C$99A(.75,.25,.75),new C$99A(.25,.75,.75),new C$99A(.75,.75,.75)]}]),pvd$z),C$99tt=(C$99t(function(){},"laya.d3.core.scene.SceneManager"),C$99t(yq0x,"laya.d3.core.trail.module.Color",null,"Color$1"),yq0x.prototype.cloneTo=function(C$99t){C$99t._r=this._r,C$99t._g=this._g,C$99t._b=this._b,C$99t._a=this._a},C$99h(yq0x,["RED",function(){return this.RED=new yq0x(1,0,0,1)},"GREEN",function(){return this.GREEN=new yq0x(0,1,0,1)},"BLUE",function(){return this.BLUE=new yq0x(0,0,1,1)},"CYAN",function(){return this.CYAN=new yq0x(0,1,1,1)},"YELLOW",function(){return this.YELLOW=new yq0x(1,.92,.016,1)},"MAGENTA",function(){return this.MAGENTA=new yq0x(1,0,1,1)},"GRAY",function(){return this.GRAY=new yq0x(.5,.5,.5,1)},"WHITE",function(){return this.WHITE=new yq0x(1,1,1,1)},"BLACK",function(){return this.BLACK=new yq0x(0,0,0,1)}]),yq0x),C$99et=(C$99t(g8361n,"laya.d3.core.trail.module.Gradient"),(C$99n=g8361n.prototype).setKeys=function(C$99t,C$99e){var C$99i,C$99n;this._colorKeys=C$99t;for(var C$99r=this.index=0;C$99r<C$99t.length;C$99r++){var C$99s=(C$99i=C$99t[C$99r]).color;this._colorKeyData[this.index++]=C$99s._r,this._colorKeyData[this.index++]=C$99s._g,this._colorKeyData[this.index++]=C$99s._b,this._colorKeyData[this.index++]=C$99i.time}this._alphaKeys=C$99e;for(var C$99a=this.index=0;C$99a<C$99e.length;C$99a++)C$99n=C$99e[C$99a],this._alphaKeyData[this.index++]=C$99n.alpha,this._alphaKeyData[this.index++]=C$99n.time},C$99n.cloneTo=function(C$99t){var C$99e=0,C$99i=0,C$99n=this.colorKeys,C$99r=[];for(C$99e=0,C$99i=C$99n.length;C$99e<C$99i;C$99e++){var C$99s=new C$99it;C$99n[C$99e].cloneTo(C$99s),C$99r.push(C$99s)}var C$99a=this.alphaKeys,C$99o=[];for(C$99e=0,C$99i=C$99a.length;C$99e<C$99i;C$99e++){var C$99h=new C$99et;C$99a[C$99e].cloneTo(C$99h),C$99o.push(C$99h)}C$99t.setKeys(C$99r,C$99o)},C$99e(0,C$99n,"mode",function(){return this._mode},function(C$99t){this._mode=C$99t}),C$99e(0,C$99n,"colorKeys",function(){return this._colorKeys},function(C$99t){this._colorKeys=C$99t;for(var C$99e=this.index=0;C$99e<C$99t.length;C$99e++){var C$99i=C$99t[C$99e],C$99n=C$99i.color;this._colorKeyData[this.index++]=C$99n._r,this._colorKeyData[this.index++]=C$99n._g,this._colorKeyData[this.index++]=C$99n._b,this._colorKeyData[this.index++]=C$99i.time}}),C$99e(0,C$99n,"alphaKeys",function(){return this._alphaKeys},function(C$99t){this._alphaKeys=C$99t;for(var C$99e=this.index=0;C$99e<C$99t.length;C$99e++){var C$99i=C$99t[C$99e];this._alphaKeyData[this.index++]=C$99i.alpha,this._alphaKeyData[this.index++]=C$99i.time}}),C$99t(iv9$c,"laya.d3.core.trail.module.GradientAlphaKey"),(C$99n=iv9$c.prototype).cloneTo=function(C$99t){C$99t.alpha=this.alpha,C$99t.time=this.time},C$99e(0,C$99n,"alpha",function(){return this._alpha},function(C$99t){this._alpha=C$99t}),C$99e(0,C$99n,"time",function(){return this._time},function(C$99t){this._time=C$99t}),iv9$c),C$99it=(C$99t($9tvic,"laya.d3.core.trail.module.GradientColorKey"),(C$99n=$9tvic.prototype).cloneTo=function(C$99t){this.color.cloneTo(C$99t.color),C$99t.time=this.time},C$99e(0,C$99n,"color",function(){return this._color},function(C$99t){this._color=C$99t}),C$99e(0,C$99n,"time",function(){return this._time},function(C$99t){this._time=C$99t}),$9tvic),C$99nt=(C$99t(fd7p$,"laya.d3.core.trail.module.GradientMode"),fd7p$.Blend=0,fd7p$.Fixed=1,C$99t($fpzd,"laya.d3.core.trail.module.TextureMode"),$fpzd.Stretch=0,$fpzd.Tile=1,C$99t(qzeo7f,"laya.d3.core.trail.module.TrailKeyFrame"),qzeo7f.prototype.cloneTo=function(C$99t){C$99t.time=this.time,C$99t.inTangent=this.inTangent,C$99t.outTangent=this.outTangent,C$99t.value=this.value},C$99t(r8jgn3,"laya.d3.core.trail.TrailRenderElement"),C$99n=r8jgn3.prototype,C$99b.imps(C$99n,{"laya.d3.core.render.IRenderable":!0}),C$99n._updateTrail=function(){this._everyAddVerticeCount1=0,this._isStart||this._addTrailByFirstPosition(this._lastPosition,this._curPosition),this._addTrailByNextPosition(this._curPosition),this._vertexBuffer1.setData(this._vertices1,this._verticesIndex1,this._verticesIndex1,this._everyAddVerticeCount1),this._verticesIndex1+=this._everyAddVerticeCount1,this._curPosition.cloneTo(this._lastPosition),2==this._virtualVerticesCount&&(this._verticesIndex1-=2*this._floatCountPerVertices1)},C$99n._addTrailByFirstPosition=function(C$99t,C$99e){C$99A.subtract(C$99e,C$99t,this._delVector3),C$99A.cross(this._delVector3,this._camera.forward,this._pointAtoBVector3),C$99A.normalize(this._pointAtoBVector3,this._pointAtoBVector3),C$99A.scale(this._pointAtoBVector3,this._owner.widthMultiplier/2,this._pointAtoBVector3),this._updateVerticesByPosition(C$99t),C$99t.cloneTo(this._lastFixedVertexPosition),this._verticesCount+=2,this._curtime=this._owner._hasLifeSubTrail?this._owner._curSubTrailFinishCurTime:this._owner._curtime,this._everyGroupVertexBirthTime.push(this._curtime),this._isStart=!0,this._owner._hasLifeSubTrail=!0},C$99n._addTrailByNextPosition=function(C$99t){C$99A.subtract(C$99t,this._lastFixedVertexPosition,this._delVector3),C$99A.cross(this._delVector3,this._camera.forward,this._pointAtoBVector3),C$99A.normalize(this._pointAtoBVector3,this._pointAtoBVector3),C$99A.scale(this._pointAtoBVector3,this._owner.widthMultiplier/2,this._pointAtoBVector3),this._delLength=C$99A.scalarLength(this._delVector3),this._delLength-this._owner.minVertexDistance>=C$99te.zeroTolerance?(this._owner._trailTotalLength+=this._delLength,this._owner._trailSupplementLength=0,this._updateVerticesByPosition(C$99t),C$99t.cloneTo(this._lastFixedVertexPosition),this._verticesCount+=2,this._virtualVerticesCount=0,this._everyGroupVertexBirthTime.push(this._owner._curtime),this._verticesCount==this._maxVerticesCount&&this._onTrailRenderElementFinish()):(this._owner._trailSupplementLength=this._delLength,this._updateVerticesByPosition(C$99t),this._virtualVerticesCount=2)},C$99n._updateVerticesByPosition=function(C$99t){this._pointe=C$99t.elements,this._pointAtoBVector3e=this._pointAtoBVector3.elements,this._curtime=this._owner._curtime,this._owner._hasLifeSubTrail&&0==this._isStart&&(this._pointe=this._owner._curSubTrailFinishPosition.elements,this._pointAtoBVector3e=this._owner._curSubTrailFinishDirection.elements,this._curtime=this._owner._curSubTrailFinishCurTime),this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._curtime,this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=1,this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._curtime,this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=0,this._VerticesToTailLength[this._verticesCount/2]=this._owner._trailTotalLength+this._owner._trailSupplementLength,0==this._owner._trailSupplementLength?this._everyVertexToPreVertexDistance[this._verticesCount/2]=this._delLength:this._everyVertexToPreVertexDistance[this._verticesCount/2]=this._isStart?this._owner._trailSupplementLength:0},C$99n._updateVertexBuffer2=function(){var C$99t,C$99e,C$99i=0,C$99n=0;for(C$99n=0,C$99t=(this._verticesCount+this._virtualVerticesCount)/2;C$99n<C$99t;C$99n++)C$99e=0==this._owner.textureMode?(this._VerticesToTailLength[C$99n]-this._owner._trailDeadLength)/(this._owner._trailTotalLength+this._owner._trailSupplementLength-this._owner._trailDeadLength):this._owner._trailTotalLength+this._owner._trailSupplementLength-this._VerticesToTailLength[C$99n],this._vertices2[C$99i++]=1-C$99e,this._vertices2[C$99i++]=1-C$99e;this._vertexBuffer2.setData(this._vertices2,0,0,this._verticesCount+this._virtualVerticesCount)},C$99n._onTrailRenderElementFinish=function(){this._lastFixedVertexPosition.cloneTo(this._owner._curSubTrailFinishPosition),this._pointAtoBVector3.cloneTo(this._owner._curSubTrailFinishDirection),this._owner._curSubTrailFinishCurTime=this._owner._curtime,this._isFinish=!0},C$99n._updateDisappear=function(){var C$99t,C$99e=0;for(C$99e=this._curDisappearIndex,C$99t=(this._verticesCount+this._virtualVerticesCount)/2;C$99e<C$99t;C$99e++)this._owner._curtime-this._everyGroupVertexBirthTime[C$99e]>=this._owner.time+C$99te.zeroTolerance&&(this._curDisappearIndex++,this._owner._trailDeadLength+=this._everyVertexToPreVertexDistance[this._curDisappearIndex],this._curDisappearIndex>=(this._verticesCount+this._virtualVerticesCount)/2&&(this._isDead=!0))},C$99n._beforeRender=function(C$99t){return this._camera=C$99t.camera,null!=this._camera&&(this._owner._owner.transform.position.cloneTo(this._curPosition),!this._isDead&&(this._verticesCount<this._maxVerticesCount?(this._owner._isStart||(this._owner._owner.transform.position.cloneTo(this._lastPosition),this._owner._isStart=!0),C$99A.equals(this._lastPosition,this._curPosition)||this._updateTrail()):this._isFinish&&(this._isFinish=!1,this._owner._curSubTrailFinished=!0),0<this._verticesCount)&&(this._updateVertexBuffer2(),this._updateDisappear(),!0))},C$99n._render=function(C$99t){this._isDead||(C$99k.mainContext.drawArrays(5,2*this._curDisappearIndex,this._verticesCount+this._virtualVerticesCount-2*this._curDisappearIndex),console.log(2*this._curDisappearIndex,this._verticesCount+this._virtualVerticesCount-2*this._curDisappearIndex),C$99R.drawCall++,C$99R.trianglesFaces+=this._verticesCount+this._virtualVerticesCount-2*this._curDisappearIndex-2)},C$99n._getVertexBuffer=function(C$99t){return 0===(C$99t=void 0===C$99t?0:C$99t)?this._vertexBuffer1:1===C$99t?this._vertexBuffer2:null},C$99n._getVertexBuffers=function(){return this._vertexBuffers},C$99n._getIndexBuffer=function(){return null},C$99n.reActivate=function(){this._id=laya.d3.core.trail.TrailRenderElement.renderElementCount++,this._isStart=!1,this._isFinish=!1,this._isDead=!1,this._verticesCount=0,this._virtualVerticesCount=0,this._verticesIndex1=0,this._delLength=0,this._curDisappearIndex=0,this._everyGroupVertexBirthTime=[],this._owner._curSubTrailFinishPosition.cloneTo(this._lastPosition)},C$99n._destroy=function(){this._vertexBuffer1.dispose(),this._vertexBuffer2.dispose(),this._vertices1=null,this._vertexBuffer1=null,this._vertices2=null,this._vertexBuffer2=null,this._vertexBuffers=null,this._everyGroupVertexBirthTime=null,this._VerticesToTailLength=null,this._everyVertexToPreVertexDistance=null,this._lastPosition=null,this._curPosition=null,this._delVector3=null,this._lastFixedVertexPosition=null,this._pointAtoBVector3=null,this._pointe=null,this._pointAtoBVector3e=null,this._pointA=null,this._pointB=null},C$99e(0,C$99n,"_vertexBufferCount",function(){return this._vertexBuffers.length}),C$99e(0,C$99n,"triangleCount",function(){return 0}),r8jgn3.renderElementCount=0,C$99t(n6835,"laya.d3.core.trail.VertexTrail"),C$99n=n6835.prototype,C$99b.imps(C$99n,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99n,"vertexDeclaration",function(){return n6835._vertexDeclaration1}),C$99e(1,n6835,"vertexDeclaration1",function(){return n6835._vertexDeclaration1}),C$99e(1,n6835,"vertexDeclaration2",function(){return n6835._vertexDeclaration2}),C$99h(n6835,["_vertexDeclaration1",function(){return this._vertexDeclaration1=new C$99ht(32,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",41),new C$99r(24,"single",33),new C$99r(28,"single",40)])},"_vertexDeclaration2",function(){return this._vertexDeclaration2=new C$99ht(4,[new C$99r(0,"single",38)])}]),n6835),C$99rt=(C$99t(cdi,"laya.d3.graphics.DynamicBatch"),C$99n=cdi.prototype,C$99b.imps(C$99n,{"laya.d3.core.render.IRenderable":!0}),C$99n._getVertexBuffer=function(C$99t){return 0===(C$99t=void 0===C$99t?0:C$99t)?this._vertexBuffer:null},C$99n._getIndexBuffer=function(){return this._indexBuffer},C$99n._getCombineRenderElementFromPool=function(C$99t,C$99e,C$99i){var C$99n=this._combineRenderElementPool[this._combineRenderElementPoolIndex++];return C$99n||(this._combineRenderElementPool[this._combineRenderElementPoolIndex-1]=C$99n=new C$99K,C$99n._sprite3D=new C$99qe),C$99n._sprite3D._render._renderUpdate(C$99i),C$99n},C$99n._getRenderElement=function(C$99c,C$99_,C$99u){this._vertexDatas||(this._vertexDatas=new Float32Array(this._vertexDeclaration.vertexStride/4*cdi.maxVertexCount),this._indexDatas=new Uint16Array(cdi.maxIndexCount),this._vertexBuffer=C$99Be.create(this._vertexDeclaration,cdi.maxVertexCount,35048),this._indexBuffer=C$99ke.create("ushort",cdi.maxIndexCount,35048));for(var C$99t=this._merageElements.length=0,C$99e=0,C$99i=0,C$99n=this._combineRenderElements.length;C$99i<C$99n;C$99i++){var C$99r=this._combineRenderElements[C$99i],C$99d=C$99r.getDynamicBatchBakedVertexs(0),C$99s=C$99r.getBakedIndices(),C$99f=C$99r._sprite3D.transform._isFrontFaceInvert,C$99a=C$99t/(this._vertexDeclaration.vertexStride/4),C$99o=C$99e,C$99p=C$99o+C$99s.length;C$99r._tempBatchIndexStart=C$99o,C$99r._tempBatchIndexEnd=C$99p,this._indexDatas.set(C$99s,C$99e);var C$99h=0;if(C$99f)for(C$99h=C$99o;C$99h<C$99p;C$99h+=3){this._indexDatas[C$99h]=C$99a+this._indexDatas[C$99h];var C$99m=this._indexDatas[C$99h+1],C$99g=this._indexDatas[C$99h+2];this._indexDatas[C$99h+1]=C$99a+C$99g,this._indexDatas[C$99h+2]=C$99a+C$99m}else for(C$99h=C$99o;C$99h<C$99p;C$99h+=3)this._indexDatas[C$99h]=C$99a+this._indexDatas[C$99h],this._indexDatas[C$99h+1]=C$99a+this._indexDatas[C$99h+1],this._indexDatas[C$99h+2]=C$99a+this._indexDatas[C$99h+2];C$99e+=C$99s.length,this._vertexDatas.set(C$99d,C$99t),C$99t+=C$99d.length}for(this._vertexBuffer.setData(this._vertexDatas),this._indexBuffer.setData(this._indexDatas),C$99i=this._combineRenderElementPoolIndex=0,C$99n=this._materials.length;C$99i<C$99n;C$99i++){var C$99l=this._getCombineRenderElementFromPool(C$99c,C$99_,C$99u);C$99l._type=2,C$99l._staticBatch=null;var C$99v=(C$99l.renderObj=this)._combineRenderElements[this._materialToRenderElementsOffsets[C$99i]]._tempBatchIndexStart,C$99x=C$99i+1===this._materialToRenderElementsOffsets.length?C$99e:this._combineRenderElements[this._materialToRenderElementsOffsets[C$99i+1]]._tempBatchIndexStart;C$99l._tempBatchIndexStart=C$99v,C$99l._tempBatchIndexEnd=C$99x,C$99l._material=this._materials[C$99i],this._merageElements.push(C$99l)}},C$99n._addCombineRenderObjTest=function(C$99t){var C$99t=C$99t.renderObj,C$99e=this._currentCombineIndexCount+C$99t._getIndexBuffer().indexCount,C$99t=this._currentCombineVertexCount+C$99t._getVertexBuffer().vertexCount;return!(cdi.maxVertexCount<C$99t||cdi.maxIndexCount<C$99e)},C$99n._addCombineRenderObj=function(C$99t){var C$99e=C$99t.renderObj;this._combineRenderElements.push(C$99t),this._currentCombineIndexCount=this._currentCombineIndexCount+C$99e._getIndexBuffer().indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount+C$99e._getVertexBuffer().vertexCount},C$99n._addCombineMaterial=function(C$99t){this._materials.push(C$99t)},C$99n._addMaterialToRenderElementOffset=function(C$99t){this._materialToRenderElementsOffsets.push(C$99t)},C$99n._clearRenderElements=function(){this._combineRenderElements.length=0,this._materials.length=0,this._materialToRenderElementsOffsets.length=0,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0},C$99n._addToRenderQueue=function(C$99t,C$99e,C$99i,C$99n){this._getRenderElement(C$99e,C$99i,C$99n);for(var C$99r=0,C$99s=this._materials.length;C$99r<C$99s;C$99r++)C$99t.getRenderQueue(this._materials[C$99r].renderQueue)._addDynamicBatchElement(this._merageElements[C$99r])},C$99n._beforeRender=function(C$99t){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},C$99n._render=function(C$99t){var C$99e=C$99t._batchIndexEnd-C$99t._batchIndexStart;C$99k.mainContext.drawElements(4,C$99e,5123,2*C$99t._batchIndexStart),C$99R.drawCall++,C$99R.trianglesFaces+=C$99e/3},C$99n._getVertexBuffers=function(){return null},C$99e(0,C$99n,"_vertexBufferCount",function(){return 1}),C$99e(0,C$99n,"triangleCount",function(){return this._indexBuffer.indexCount/3}),C$99e(0,C$99n,"combineRenderElementsCount",function(){return this._combineRenderElements.length}),cdi.maxVertexCount=2e4,cdi.maxIndexCount=4e4,cdi.maxCombineTriangleCount=10,cdi),C$99st=(C$99t(oeq0xy,"laya.d3.graphics.DynamicBatchManager"),(C$99n=oeq0xy.prototype).getDynamicBatch=function(C$99t,C$99e){var C$99i,C$99e=C$99t.id.toString()+C$99e;return this._dynamicBatches[C$99e]?C$99i=this._dynamicBatches[C$99e]:this._dynamicBatches[C$99e]=C$99i=new C$99rt(C$99t),C$99i},C$99n._garbageCollection=function(){for(var C$99t in this._dynamicBatches)0===this._dynamicBatches[C$99t].combineRenderElementsCount&&delete this._dynamicBatches[C$99t]},C$99n._addPrepareRenderElement=function(C$99t){this._prepareDynamicBatchCombineElements.push(C$99t)},C$99n._finishCombineDynamicBatch=function(C$99c){var C$99t,C$99_;this._prepareDynamicBatchCombineElements.sort(oeq0xy._sortPrepareDynamicBatch);for(var C$99e,C$99i,C$99n,C$99r,C$99s,C$99u=-1,C$99d=!0,C$99a=0,C$99o=-1,C$99f=0,C$99p=this._prepareDynamicBatchCombineElements.length;C$99f<C$99p;C$99f++){var C$99h=(C$99i=this._prepareDynamicBatchCombineElements[C$99f]).renderObj._getVertexBuffer(0).vertexDeclaration,C$99l=C$99_!==C$99h;C$99l&&(C$99a=0,C$99_=C$99h);var C$99m=C$99a!==C$99u;C$99m&&(C$99u=C$99a),(C$99l||C$99m)&&(C$99n=this.getDynamicBatch(C$99h,C$99a),C$99t=null),C$99d?C$99d=C$99n._addCombineRenderObjTest(C$99i)?(C$99t!==(C$99e=C$99i._material)?(C$99r&&(C$99c.getRenderQueue(C$99s._material.renderQueue)._addRenderElement(C$99s),C$99s=C$99r=null,C$99o=-1),C$99r=C$99e,C$99o=C$99n.combineRenderElementsCount,C$99s=C$99i,C$99t=C$99e):C$99r?(C$99l=C$99s.renderObj,C$99m=C$99i.renderObj,C$99l._getVertexBuffer().vertexCount+C$99m._getVertexBuffer().vertexCount>C$99rt.maxVertexCount||C$99l._getIndexBuffer().indexCount+C$99m._getIndexBuffer().indexCount>C$99rt.maxIndexCount?(C$99c.getRenderQueue(C$99s._material.renderQueue)._addRenderElement(C$99s),C$99r=C$99e,C$99o=C$99n.combineRenderElementsCount,C$99s=C$99i):(C$99n._addCombineMaterial(C$99r),C$99n._addMaterialToRenderElementOffset(C$99o),C$99n._addCombineRenderObj(C$99s),C$99s=C$99r=null,C$99o=-1,C$99n._addCombineRenderObj(C$99i))):C$99n._addCombineRenderObj(C$99i),!0):(C$99r&&(C$99c.getRenderQueue(C$99s._material.renderQueue)._addRenderElement(C$99s),C$99s=C$99r=null,C$99o=-1),C$99a++,!1):(C$99h=this._prepareDynamicBatchCombineElements[C$99f-1],C$99n._addMaterialToRenderElementOffset(C$99n.combineRenderElementsCount),C$99t=C$99h._material,C$99n._addCombineMaterial(C$99t),C$99n._addCombineRenderObj(C$99h),C$99d=!0,C$99t!==(C$99e=C$99i._material)?(C$99r=C$99e,C$99o=C$99n.combineRenderElementsCount,C$99s=C$99i):C$99n._addCombineRenderObj(C$99i),C$99t=C$99e)}C$99r&&(C$99c.getRenderQueue(C$99s._material.renderQueue)._addRenderElement(C$99s),C$99s=C$99r=null,C$99o=-1),this._prepareDynamicBatchCombineElements.length=0},C$99n._clearRenderElements=function(){for(var C$99t in this._dynamicBatches)this._dynamicBatches[C$99t]._clearRenderElements()},C$99n._addToRenderQueue=function(C$99t,C$99e,C$99i,C$99n){for(var C$99r in this._dynamicBatches){C$99r=this._dynamicBatches[C$99r];0<C$99r.combineRenderElementsCount&&C$99r._addToRenderQueue(C$99t,C$99e,C$99i,C$99n)}},C$99n.dispose=function(){this._dynamicBatches=null},oeq0xy._sortPrepareDynamicBatch=function(C$99t,C$99e){return C$99t._mainSortID-C$99e._mainSortID},oeq0xy),C$99at=(C$99t(sjbkr,"laya.d3.graphics.FrustumCulling"),sjbkr.renderShadowObjectCulling=function(C$99t,C$99c,C$99e,C$99_,C$99u){var C$99i=0,C$99n=0,C$99r=0,C$99s=0;for(C$99i=0,C$99r=C$99e.length;C$99i<C$99r;C$99i++){var C$99d=C$99e[C$99i];C$99d&&C$99d._clearRenderElements()}var C$99a,C$99o,C$99h,C$99f=C$99t._cullingRenders;if(1<C$99u){for(C$99i=0,C$99r=C$99t._cullingRendersLength;C$99i<C$99r;C$99i++)if((C$99a=C$99f[C$99i]).castShadow&&C$99$.isVisible(C$99a._owner.layer.mask)&&C$99a.enable)for(var C$99l=1,C$99p=C$99c.length;C$99l<C$99p;C$99l++)if(C$99o=C$99e[C$99l-1],0!==C$99c[C$99l].containsBoundSphere(C$99a.boundingSphere))for(C$99n=0,C$99s=(C$99h=C$99a._renderElements).length;C$99n<C$99s;C$99n++)C$99o._addRenderElement(C$99h[C$99n])}else for(C$99i=0,C$99r=C$99t._cullingRendersLength;C$99i<C$99r;C$99i++)if((C$99a=C$99f[C$99i]).castShadow&&C$99$.isVisible(C$99a._owner.layer.mask)&&C$99a.enable&&0!==C$99c[0].containsBoundSphere(C$99a.boundingSphere))for(C$99a._renderUpdate(C$99_),C$99o=C$99e[0],C$99n=0,C$99s=(C$99h=C$99a._renderElements).length;C$99n<C$99s;C$99n++)C$99o._addRenderElement(C$99h[C$99n])},sjbkr.renderShadowObjectCullingOctree=function(C$99t,C$99e,C$99i,C$99n,C$99r){for(var C$99s=0,C$99a=C$99i.length;C$99s<C$99a;C$99s++){var C$99o=C$99i[C$99s];C$99o&&C$99o._clearRenderElements()}1<C$99r?C$99t.treeRoot.cullingShadowObjects(C$99e,C$99i,!0,0,C$99t):C$99t.treeRoot.cullingShadowObjectsOnePSSM(C$99e[0],C$99i,C$99n,!0,0,C$99t)},sjbkr.renderObjectCulling=function(C$99c,C$99t,C$99_,C$99u,C$99d,C$99e){var C$99f,C$99i=0,C$99n=0,C$99r=0,C$99p=C$99t._quenes,C$99s=C$99t._dynamicBatchManager,C$99m=C$99t._cullingRenders;for(C$99i=0,C$99n=C$99p.length;C$99i<C$99n;C$99i++){var C$99g=C$99p[C$99i];C$99g&&C$99g._clearRenderElements()}var C$99a=C$99ot._staticBatchManagers;for(C$99i=0,C$99n=C$99a.length;C$99i<C$99n;C$99i++)C$99a[C$99i]._clearRenderElements();C$99s._clearRenderElements();var C$99v=C$99_.transform.position;for(C$99i=0,C$99n=C$99t._cullingRendersLength;C$99i<C$99n;C$99i++){var C$99o=C$99m[C$99i];if(C$99$.isVisible(C$99o._owner.layer.mask)&&C$99o.enable&&0!==C$99c.containsBoundSphere(C$99o.boundingSphere)&&C$99o._renderUpdate(C$99e)){C$99o._distanceForSort=C$99A.distance(C$99o.boundingSphere.center,C$99v)+C$99o.sortingFudge;var C$99x=C$99o._renderElements;for(C$99r=0,C$99f=C$99x.length;C$99r<C$99f;C$99r++){var C$99h=C$99x[C$99r],C$99l=C$99h._staticBatch;C$99l&&C$99l._material===C$99h._material?C$99l._addBatchRenderElement(C$99h):(C$99l=C$99h.renderObj).triangleCount<10&&1===C$99l._vertexBufferCount&&C$99l._getIndexBuffer()&&C$99h._material.renderQueue<2&&C$99h._canDynamicBatch&&!C$99o._owner.isStatic?C$99s._addPrepareRenderElement(C$99h):C$99t.getRenderQueue(C$99h._material.renderQueue)._addRenderElement(C$99h)}}}for(C$99i=0,C$99n=C$99a.length;C$99i<C$99n;C$99i++)C$99a[C$99i]._addToRenderQueue(C$99t,C$99u,C$99d,C$99e);C$99s._finishCombineDynamicBatch(C$99t),C$99s._addToRenderQueue(C$99t,C$99u,C$99d,C$99e)},sjbkr.renderObjectCullingOctree=function(C$99c,C$99t,C$99_,C$99e,C$99i,C$99n){var C$99r=0,C$99s=0,C$99a=C$99t._quenes,C$99o=C$99t._dynamicBatchManager;for(C$99r=0,C$99s=C$99a.length;C$99r<C$99s;C$99r++){var C$99h=C$99a[C$99r];C$99h&&C$99h._clearRenderElements()}var C$99l=C$99ot._staticBatchManagers;for(C$99r=0,C$99s=C$99l.length;C$99r<C$99s;C$99r++)C$99l[C$99r]._clearRenderElements();for(C$99o._clearRenderElements(),C$99t._cullingRenders.length=0,C$99t.treeRoot.cullingObjects(C$99c,!0,0,C$99_.transform.position,C$99n),C$99r=0,C$99s=C$99l.length;C$99r<C$99s;C$99r++)C$99l[C$99r]._addToRenderQueue(C$99t,C$99e,C$99i,C$99n);C$99o._finishCombineDynamicBatch(C$99t),C$99o._addToRenderQueue(C$99t,C$99e,C$99i,C$99n)},sjbkr.renderObjectCullingNoBoundFrustum=function(C$99t,C$99c,C$99_,C$99u,C$99e){var C$99d,C$99i=0,C$99n=0,C$99r=0,C$99f=C$99t._quenes,C$99s=C$99t._dynamicBatchManager,C$99p=C$99t._cullingRenders;for(C$99i=0,C$99n=C$99f.length;C$99i<C$99n;C$99i++){var C$99m=C$99f[C$99i];C$99m&&C$99m._clearRenderElements()}var C$99a=C$99ot._staticBatchManagers;for(C$99i=0,C$99n=C$99a.length;C$99i<C$99n;C$99i++)C$99a[C$99i]._clearRenderElements();C$99s._clearRenderElements();var C$99g=C$99c.transform.position;for(C$99i=0,C$99n=C$99t._cullingRendersLength;C$99i<C$99n;C$99i++){var C$99o=C$99p[C$99i];if(C$99$.isVisible(C$99o._owner.layer.mask)&&C$99o.enable){C$99o._renderUpdate(C$99e),C$99o._distanceForSort=C$99A.distance(C$99o.boundingSphere.center,C$99g)+C$99o.sortingFudge;var C$99v=C$99o._renderElements;for(C$99r=0,C$99d=C$99v.length;C$99r<C$99d;C$99r++){var C$99h=C$99v[C$99r],C$99l=C$99h._staticBatch;C$99l&&C$99l._material===C$99h._material?C$99l._addBatchRenderElement(C$99h):(C$99l=C$99h.renderObj).triangleCount<10&&1===C$99l._vertexBufferCount&&C$99l._getIndexBuffer()&&C$99h._material.renderQueue<2&&C$99h._canDynamicBatch&&!C$99o._owner.isStatic?C$99s._addPrepareRenderElement(C$99h):C$99t.getRenderQueue(C$99h._material.renderQueue)._addRenderElement(C$99h)}}}for(C$99i=0,C$99n=C$99a.length;C$99i<C$99n;C$99i++)C$99a[C$99i]._addToRenderQueue(C$99t,C$99_,C$99u,C$99e);C$99s._finishCombineDynamicBatch(C$99t),C$99s._addToRenderQueue(C$99t,C$99_,C$99u,C$99e)},sjbkr),C$99ot=(C$99t(rbngj,"laya.d3.graphics.StaticBatchManager"),(C$99n=rbngj.prototype)._finishInit=function(){for(var C$99t in this._staticBatches)this._staticBatches[C$99t]._finishInit();this._initBatchRenderElements.length=0},C$99n._initStaticBatchs=function(C$99t){throw new Error("StaticBatchManager:must override this function.")},C$99n._addInitBatchSprite=function(C$99t){for(var C$99e=C$99t._render._renderElements,C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)this._initBatchRenderElements.push(C$99e[C$99i])},C$99n._clearRenderElements=function(){for(var C$99t in this._staticBatches)this._staticBatches[C$99t]._clearRenderElements()},C$99n._garbageCollection=function(C$99t){var C$99e=C$99t._staticBatch,C$99i=C$99e._initBatchRenderElements,C$99t=C$99i.indexOf(C$99t);C$99i.splice(C$99t,1),0===C$99i.length&&(C$99e.dispose(),delete this._staticBatches[C$99e._key])},C$99n._addToRenderQueue=function(C$99t,C$99e,C$99i,C$99n){for(var C$99r in this._staticBatches){C$99r=this._staticBatches[C$99r];0<C$99r._batchRenderElements.length&&C$99r._updateToRenderQueue(C$99t,C$99n)}},C$99n.dispose=function(){this._staticBatches=null},rbngj._addToStaticBatchQueue=function(C$99t){C$99t instanceof laya.d3.core.RenderableSprite3D&&C$99t._addToInitStaticBatchManager();for(var C$99e=0,C$99i=C$99t.numChildren;C$99e<C$99i;C$99e++)rbngj._addToStaticBatchQueue(C$99t._childs[C$99e])},rbngj.combine=function(C$99t,C$99e){var C$99i,C$99n=0,C$99r=0;if(C$99e)for(C$99n=0,C$99r=C$99e.length;C$99n<C$99r;C$99n++)C$99e[C$99n]._addToInitStaticBatchManager();else C$99t&&rbngj._addToStaticBatchQueue(C$99t);for(C$99n=0,C$99r=rbngj._staticBatchManagers.length;C$99n<C$99r;C$99n++)(C$99i=rbngj._staticBatchManagers[C$99n])._initStaticBatchs(C$99t),C$99i._finishInit()},rbngj._staticBatchManagers=[],rbngj),C$99n=(C$99t(bn3,"laya.d3.graphics.StaticBatch"),C$99n=bn3.prototype,C$99b.imps(C$99n,{"laya.d3.core.render.IRenderable":!0,"laya.resource.IDispose":!0}),C$99n._binarySearch=function(C$99t){for(var C$99e,C$99i=0,C$99n=this._batchRenderElements.length-1;C$99i<=C$99n;)C$99e=Math.floor((C$99i+C$99n)/2),this._compareBatchRenderElement(this._batchRenderElements[C$99e],C$99t)?C$99n=C$99e-1:C$99i=C$99e+1;return C$99i},C$99n._compareBatchRenderElement=function(C$99t,C$99e){throw new Error("StaticBatch:must override this function.")},C$99n._getVertexDecLightMap=function(C$99t){return C$99t===C$99Ft.vertexDeclaration?C$99zt.vertexDeclaration:C$99t===C$99Ot.vertexDeclaration?C$99Lt.vertexDeclaration:C$99t===C$99Dt.vertexDeclaration?C$99wt.vertexDeclaration:C$99t===C$99jt.vertexDeclaration?null:C$99t===C$99gt.vertexDeclaration?C$99vt.vertexDeclaration:C$99t===C$99$t.vertexDeclaration?C$99Bt.vertexDeclaration:C$99t===C$99Rt.vertexDeclaration?C$99Pt.vertexDeclaration:C$99t===C$99Vt.vertexDeclaration?C$99kt.vertexDeclaration:C$99t===C$99Ot.vertexDeclaration?C$99Lt.vertexDeclaration:C$99t===C$99Et.vertexDeclaration?C$99Tt.vertexDeclaration:C$99t===C$99jt.vertexDeclaration?null:C$99t===C$99gt.vertexDeclaration?C$99vt.vertexDeclaration:C$99t===C$99Ut.vertexDeclaration?C$99Nt.vertexDeclaration:C$99t===C$99Rt.vertexDeclaration?C$99Pt.vertexDeclaration:C$99t},C$99n._getCombineRenderElementFromPool=function(){throw new Error("StaticBatch:must override this function.")},C$99n._addBatchRenderElement=function(C$99t){this._batchRenderElements.splice(this._binarySearch(C$99t),0,C$99t)},C$99n._updateToRenderQueue=function(C$99t,C$99e){this._combineRenderElementPoolIndex=0,this._getRenderElement(C$99t.getRenderQueue(this._material.renderQueue)._renderElements,C$99t,C$99e)},C$99n._getRenderElement=function(C$99t,C$99e,C$99i){throw new Error("StaticBatch:must override this function.")},C$99n._finishInit=function(){throw new Error("StaticBatch:must override this function.")},C$99n._clearRenderElements=function(){this._batchRenderElements.length=0},C$99n.dispose=function(){},C$99n._getVertexBuffer=function(C$99t){return null},C$99n._getIndexBuffer=function(){return null},C$99n._beforeRender=function(C$99t){return!0},C$99n._render=function(C$99t){},C$99n._getVertexBuffers=function(){return null},C$99e(0,C$99n,"_vertexBufferCount",function(){return 1}),C$99e(0,C$99n,"triangleCount",function(){return 0}),bn3.combine=function(C$99t){console.log("StaticBatch: discard property,please use StaticBatchManager.combine() function instead."),C$99ot.combine(C$99t)},bn3.maxBatchVertexCount=65535,bn3),C$99ht=(C$99t(gabrjn,"laya.d3.graphics.VertexDeclaration"),(C$99s=gabrjn.prototype)._addShaderDefine=function(C$99t){this._shaderDefineValue|=C$99t},C$99s._removeShaderDefine=function(C$99t){this._shaderDefineValue&=~C$99t},C$99s.getVertexElements=function(){return this._vertexElements.slice()},C$99s.getVertexElementByUsage=function(C$99t){return this._vertexElementsDic[C$99t]},C$99s.unBinding=function(){},C$99e(0,C$99s,"shaderDefineValue",function(){return this._shaderDefineValue}),C$99e(0,C$99s,"id",function(){return this._id}),C$99e(0,C$99s,"vertexStride",function(){return this._vertexStride}),C$99e(0,C$99s,"shaderValues",function(){return this._shaderValues}),gabrjn._getTypeSize=function(C$99t){switch(C$99t){case"single":return 4;case"vector2":return 8;case"vector3":return 12;case"vector4":return 16;case"color":case"byte4":case"short2":return 4;case"short4":return 8;case"normalizedshort2":return 4;case"normalizedshort4":return 8;case"halfvector2":return 4;case"halfvector4":return 8}return 0},gabrjn.getVertexStride=function(C$99t){for(var C$99e=0,C$99i=0;C$99i<C$99t.Length;C$99i++){var C$99n=C$99t[C$99i],C$99n=C$99n.offset+gabrjn._getTypeSize(C$99n.elementFormat);C$99e<C$99n&&(C$99e=C$99n)}return C$99e},gabrjn._maxVertexDeclarationBit=1e3,gabrjn._uniqueIDCounter=1,C$99h(gabrjn,["maxVertexDeclaration",function(){return this.maxVertexDeclaration=2147483647-1e3*Math.floor(2147483.647)}]),gabrjn),C$99r=(C$99t(g18r,"laya.d3.graphics.VertexElement"),g18r),C$99lt=(C$99t(iv$t9c,"laya.d3.graphics.VertexElementFormat"),iv$t9c.Single="single",iv$t9c.Vector2="vector2",iv$t9c.Vector3="vector3",iv$t9c.Vector4="vector4",iv$t9c.Color="color",iv$t9c.Byte4="byte4",iv$t9c.Short2="short2",iv$t9c.Short4="short4",iv$t9c.NormalizedShort2="normalizedshort2",iv$t9c.NormalizedShort4="normalizedshort4",iv$t9c.HalfVector2="halfvector2",iv$t9c.HalfVector4="halfvector4",C$99t($7fzd,"laya.d3.graphics.VertexElementUsage"),$7fzd.POSITION0=0,$7fzd.COLOR0=1,$7fzd.TEXTURECOORDINATE0=2,$7fzd.NORMAL0=3,$7fzd.BINORMAL0=4,$7fzd.TANGENT0=5,$7fzd.BLENDINDICES0=6,$7fzd.BLENDWEIGHT0=7,$7fzd.DEPTH0=8,$7fzd.FOG0=9,$7fzd.POINTSIZE0=10,$7fzd.SAMPLE0=11,$7fzd.TESSELLATEFACTOR0=12,$7fzd.COLOR1=13,$7fzd.NEXTTEXTURECOORDINATE0=14,$7fzd.TEXTURECOORDINATE1=15,$7fzd.NEXTTEXTURECOORDINATE1=16,$7fzd.CORNERTEXTURECOORDINATE0=17,$7fzd.VELOCITY0=18,$7fzd.STARTCOLOR0=19,$7fzd.STARTSIZE=20,$7fzd.AGEADDSCALE0=21,$7fzd.STARTROTATION=22,$7fzd.ENDCOLOR0=23,$7fzd.STARTLIFETIME=24,$7fzd.TIME0=33,$7fzd.SHAPEPOSITIONSTARTLIFETIME=30,$7fzd.DIRECTIONTIME=32,$7fzd.SIZEROTATION0=27,$7fzd.RADIUS0=28,$7fzd.RADIAN0=29,$7fzd.STARTSPEED=31,$7fzd.RANDOM0=34,$7fzd.RANDOM1=35,$7fzd.SIMULATIONWORLDPOSTION=36,$7fzd.SIMULATIONWORLDROTATION=37,$7fzd.TEXTURECOORDINATE0X=38,$7fzd.TEXTURECOORDINATE0X1=39,$7fzd.TEXTURECOORDINATE0Y=40,$7fzd.OFFSETVECTOR=41,C$99t(w5y_h,"laya.d3.graphics.VertexGlitter"),C$99s=w5y_h.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"textureCoordinate",function(){return this._textureCoordinate0}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"time",function(){return this._time}),C$99e(0,C$99s,"vertexDeclaration",function(){return w5y_h._vertexDeclaration}),C$99e(1,w5y_h,"vertexDeclaration",function(){return w5y_h._vertexDeclaration}),C$99h(w5y_h,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(24,[new C$99r(0,"vector3",0),new C$99r(12,"vector2",2),new C$99r(20,"single",33)])}]),C$99t(ey0x_q,"laya.d3.graphics.VertexParticle"),C$99s=ey0x_q.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"endColor",function(){return this._endColor}),C$99e(0,C$99s,"cornerTextureCoordinate",function(){return this._cornerTextureCoordinate}),C$99e(0,C$99s,"sizeRotation",function(){return this._sizeRotation}),C$99e(0,C$99s,"velocity",function(){return this._velocity}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"startColor",function(){return this._startColor}),C$99e(0,C$99s,"radius",function(){return this._radius}),C$99e(0,C$99s,"radian",function(){return this._radian}),C$99e(0,C$99s,"ageAddScale",function(){return this._ageAddScale}),C$99e(0,C$99s,"time",function(){return this._time}),C$99e(0,C$99s,"vertexDeclaration",function(){return ey0x_q._vertexDeclaration}),C$99e(1,ey0x_q,"vertexDeclaration",function(){return ey0x_q._vertexDeclaration}),C$99h(ey0x_q,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(116,[new C$99r(0,"vector4",17),new C$99r(16,"vector3",0),new C$99r(28,"vector3",18),new C$99r(40,"vector4",19),new C$99r(56,"vector4",23),new C$99r(72,"vector3",27),new C$99r(84,"vector2",28),new C$99r(92,"vector4",29),new C$99r(108,"single",24),new C$99r(112,"single",33)])}]),C$99t(e0zqo7,"laya.d3.graphics.VertexPosition"),C$99s=e0zqo7.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"vertexDeclaration",function(){return e0zqo7._vertexDeclaration}),C$99e(1,e0zqo7,"vertexDeclaration",function(){return e0zqo7._vertexDeclaration}),C$99h(e0zqo7,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(12,[new C$99r(0,"vector3",0)])}]),e0zqo7),C$99ct=(C$99t(nbjr3,"laya.d3.graphics.VertexPositionNormal"),C$99s=nbjr3.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"vertexDeclaration",function(){return nbjr3._vertexDeclaration}),C$99e(1,nbjr3,"vertexDeclaration",function(){return nbjr3._vertexDeclaration}),C$99h(nbjr3,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(24,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3)])}]),nbjr3),C$99_t=(C$99t(x0yqe,"laya.d3.graphics.VertexPositionNormalColor"),C$99s=x0yqe.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"vertexDeclaration",function(){return x0yqe._vertexDeclaration}),C$99e(1,x0yqe,"vertexDeclaration",function(){return x0yqe._vertexDeclaration}),C$99h(x0yqe,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(40,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1)])}]),x0yqe),C$99ut=(C$99t(o7zfp,"laya.d3.graphics.VertexPositionNormalColorSkin"),C$99s=o7zfp.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(0,C$99s,"vertexDeclaration",function(){return o7zfp._vertexDeclaration}),C$99e(1,o7zfp,"vertexDeclaration",function(){return o7zfp._vertexDeclaration}),C$99h(o7zfp,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(72,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector4",7),new C$99r(56,"vector4",6)])}]),o7zfp),C$99dt=(C$99t(skbja,"laya.d3.graphics.VertexPositionNormalColorSkinSTangent"),C$99s=skbja.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(0,C$99s,"vertexDeclaration",function(){return skbja._vertexDeclaration}),C$99e(1,skbja,"vertexDeclaration",function(){return skbja._vertexDeclaration}),C$99h(skbja,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(88,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector4",7),new C$99r(56,"vector4",6),new C$99r(72,"vector4",5)])}]),skbja),C$99ft=(C$99t(v$pdi9,"laya.d3.graphics.VertexPositionNormalColorSkinTangent"),C$99s=v$pdi9.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(0,C$99s,"vertexDeclaration",function(){return v$pdi9._vertexDeclaration}),C$99e(1,v$pdi9,"vertexDeclaration",function(){return v$pdi9._vertexDeclaration}),C$99h(v$pdi9,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(84,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector4",7),new C$99r(56,"vector4",6),new C$99r(72,"vector3",5)])}]),v$pdi9),C$99pt=(C$99t(ye0q_x,"laya.d3.graphics.VertexPositionNormalColorSTangent"),C$99s=ye0q_x.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"vertexDeclaration",function(){return ye0q_x._vertexDeclaration}),C$99e(1,ye0q_x,"vertexDeclaration",function(){return ye0q_x._vertexDeclaration}),C$99h(ye0q_x,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(56,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector4",5)])}]),ye0q_x),C$99mt=(C$99t(f7oqz,"laya.d3.graphics.VertexPositionNormalColorTangent"),C$99s=f7oqz.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"vertexDeclaration",function(){return f7oqz._vertexDeclaration}),C$99e(1,f7oqz,"vertexDeclaration",function(){return f7oqz._vertexDeclaration}),C$99h(f7oqz,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(52,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector3",5)])}]),f7oqz),C$99gt=(C$99t(jkusa,"laya.d3.graphics.VertexPositionNormalColorTexture"),C$99s=jkusa.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"textureCoordinate",function(){return this._textureCoordinate}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"vertexDeclaration",function(){return jkusa._vertexDeclaration}),C$99e(1,jkusa,"vertexDeclaration",function(){return jkusa._vertexDeclaration}),C$99h(jkusa,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(48,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector2",2)])}]),jkusa),C$99vt=(C$99t(h65mw_,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1"),C$99s=h65mw_.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$99e(0,C$99s,"vertexDeclaration",function(){return h65mw_._vertexDeclaration}),C$99e(0,C$99s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$99e(1,h65mw_,"vertexDeclaration",function(){return h65mw_._vertexDeclaration}),C$99h(h65mw_,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(56,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector2",2),new C$99r(48,"vector2",15)])}]),h65mw_),C$99xt=(C$99t(fdzp$v,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1Skin"),C$99s=fdzp$v.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$99e(0,C$99s,"vertexDeclaration",function(){return fdzp$v._vertexDeclaration}),C$99e(0,C$99s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(1,fdzp$v,"vertexDeclaration",function(){return fdzp$v._vertexDeclaration}),C$99h(fdzp$v,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(88,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector2",2),new C$99r(48,"vector2",15),new C$99r(56,"vector4",7),new C$99r(72,"vector4",6)])}]),fdzp$v),C$99yt=(C$99t(ezopf,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1SkinSTangent"),C$99s=ezopf.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$99e(0,C$99s,"vertexDeclaration",function(){return ezopf._vertexDeclaration}),C$99e(0,C$99s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(1,ezopf,"vertexDeclaration",function(){return ezopf._vertexDeclaration}),C$99h(ezopf,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(104,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector2",2),new C$99r(48,"vector2",15),new C$99r(56,"vector4",7),new C$99r(72,"vector4",6),new C$99r(88,"vector4",5)])}]),ezopf),C$99bt=(C$99t(z7eof,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1SkinTangent"),C$99s=z7eof.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99s.VertexPositionNormalColorTexture0SkinTangent=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate0=C$99n,this._textureCoordinate1=C$99r,this._tangent=C$99s,this._blendIndex=C$99a,this._blendWeight=C$99o},C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$99e(0,C$99s,"vertexDeclaration",function(){return z7eof._vertexDeclaration}),C$99e(0,C$99s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(1,z7eof,"vertexDeclaration",function(){return z7eof._vertexDeclaration}),C$99h(z7eof,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(100,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector2",2),new C$99r(48,"vector2",15),new C$99r(56,"vector4",7),new C$99r(72,"vector4",6),new C$99r(88,"vector3",5)])}]),z7eof),C$99wt=(C$99t(y0h,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1STangent"),C$99s=y0h.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$99e(0,C$99s,"vertexDeclaration",function(){return y0h._vertexDeclaration}),C$99e(0,C$99s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$99e(1,y0h,"vertexDeclaration",function(){return y0h._vertexDeclaration}),C$99h(y0h,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(72,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector2",2),new C$99r(48,"vector2",15),new C$99r(56,"vector4",5)])}]),y0h),C$99Tt=(C$99t(wh165m,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1Tangent"),C$99s=wh165m.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99s.VertexPositionNormalColorTexture0Tangent=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate0=C$99n,this._textureCoordinate1=C$99r,this._tangent=C$99s},C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$99e(0,C$99s,"vertexDeclaration",function(){return wh165m._vertexDeclaration}),C$99e(0,C$99s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$99e(1,wh165m,"vertexDeclaration",function(){return wh165m._vertexDeclaration}),C$99h(wh165m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(68,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector2",2),new C$99r(48,"vector2",15),new C$99r(56,"vector3",5)])}]),wh165m),C$99Mt=(C$99t(g13rn,"laya.d3.graphics.VertexPositionNormalColorTextureSkin"),C$99s=g13rn.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"textureCoordinate",function(){return this._textureCoordinate}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(0,C$99s,"vertexDeclaration",function(){return g13rn._vertexDeclaration}),C$99e(1,g13rn,"vertexDeclaration",function(){return g13rn._vertexDeclaration}),C$99h(g13rn,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(80,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector2",2),new C$99r(48,"vector4",7),new C$99r(64,"vector4",6)])}]),g13rn),C$99St=(C$99t(bgkra,"laya.d3.graphics.VertexPositionNormalColorTextureSkinSTangent"),C$99s=bgkra.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"textureCoordinate",function(){return this._textureCoordinate}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(0,C$99s,"vertexDeclaration",function(){return bgkra._vertexDeclaration}),C$99e(1,bgkra,"vertexDeclaration",function(){return bgkra._vertexDeclaration}),C$99h(bgkra,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(96,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector2",2),new C$99r(48,"vector4",7),new C$99r(64,"vector4",6),new C$99r(80,"vector4",5)])}]),bgkra),C$99Ct=(C$99t(xoe70,"laya.d3.graphics.VertexPositionNormalColorTextureSkinTangent"),C$99s=xoe70.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"textureCoordinate",function(){return this._textureCoordinate}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(0,C$99s,"vertexDeclaration",function(){return xoe70._vertexDeclaration}),C$99e(1,xoe70,"vertexDeclaration",function(){return xoe70._vertexDeclaration}),C$99h(xoe70,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(92,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector2",2),new C$99r(48,"vector4",7),new C$99r(64,"vector4",6),new C$99r(80,"vector3",5)])}]),xoe70),C$99Dt=(C$99t(zf$d,"laya.d3.graphics.VertexPositionNormalColorTextureSTangent"),C$99s=zf$d.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"textureCoordinate",function(){return this._textureCoordinate}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"vertexDeclaration",function(){return zf$d._vertexDeclaration}),C$99e(1,zf$d,"vertexDeclaration",function(){return zf$d._vertexDeclaration}),C$99h(zf$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(64,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector2",2),new C$99r(48,"vector4",5)])}]),zf$d),C$99Et=(C$99t(f7dp$,"laya.d3.graphics.VertexPositionNormalColorTextureTangent"),C$99s=f7dp$.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"textureCoordinate",function(){return this._textureCoordinate}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"color",function(){return this._color}),C$99e(0,C$99s,"vertexDeclaration",function(){return f7dp$._vertexDeclaration}),C$99e(1,f7dp$,"vertexDeclaration",function(){return f7dp$._vertexDeclaration}),C$99h(f7dp$,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(60,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",1),new C$99r(40,"vector2",2),new C$99r(48,"vector3",5)])}]),f7dp$),C$99At=(C$99t(gj3n8,"laya.d3.graphics.VertexPositionNormalSTangent"),C$99s=gj3n8.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"vertexDeclaration",function(){return gj3n8._vertexDeclaration}),C$99e(1,gj3n8,"vertexDeclaration",function(){return gj3n8._vertexDeclaration}),C$99h(gj3n8,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(40,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector4",5)])}]),gj3n8),C$99It=(C$99t(hymx,"laya.d3.graphics.VertexPositionNormalTangent"),C$99s=hymx.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"vertexDeclaration",function(){return hymx._vertexDeclaration}),C$99e(1,hymx,"vertexDeclaration",function(){return hymx._vertexDeclaration}),C$99h(hymx,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(36,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector3",5)])}]),hymx),C$99Rt=(C$99t($p7dz,"laya.d3.graphics.VertexPositionNormalTexture"),C$99s=$p7dz.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"textureCoordinate",function(){return this._textureCoordinate}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"vertexDeclaration",function(){return $p7dz._vertexDeclaration}),C$99e(1,$p7dz,"vertexDeclaration",function(){return $p7dz._vertexDeclaration}),C$99h($p7dz,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(32,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector2",2)])}]),$p7dz),C$99Pt=(C$99t(xqye,"laya.d3.graphics.VertexPositionNormalTexture0Texture1"),C$99s=xqye.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$99e(0,C$99s,"vertexDeclaration",function(){return xqye._vertexDeclaration}),C$99e(0,C$99s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$99e(1,xqye,"vertexDeclaration",function(){return xqye._vertexDeclaration}),C$99h(xqye,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(40,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector2",2),new C$99r(32,"vector2",15)])}]),xqye),C$99Lt=(C$99t(mh56w_,"laya.d3.graphics.VertexPositionNormalTexture0Texture1Skin"),C$99s=mh56w_.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$99e(0,C$99s,"vertexDeclaration",function(){return mh56w_._vertexDeclaration}),C$99e(0,C$99s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(1,mh56w_,"vertexDeclaration",function(){return mh56w_._vertexDeclaration}),C$99h(mh56w_,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(72,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector2",2),new C$99r(32,"vector2",15),new C$99r(40,"vector4",7),new C$99r(56,"vector4",6)])}]),mh56w_),C$99zt=(C$99t(hw_xy,"laya.d3.graphics.VertexPositionNormalTexture0Texture1SkinSTangent"),C$99s=hw_xy.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$99e(0,C$99s,"vertexDeclaration",function(){return hw_xy._vertexDeclaration}),C$99e(0,C$99s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(1,hw_xy,"vertexDeclaration",function(){return hw_xy._vertexDeclaration}),C$99h(hw_xy,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(88,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector2",2),new C$99r(32,"vector2",15),new C$99r(40,"vector4",7),new C$99r(56,"vector4",6),new C$99r(72,"vector4",5)])}]),hw_xy),C$99kt=(C$99t(bngj3,"laya.d3.graphics.VertexPositionNormalTexture0Texture1SkinTangent"),C$99s=bngj3.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99s.VertexPositionNormalTexture0SkinTangent=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._position=C$99t,this._normal=C$99e,this._textureCoordinate0=C$99i,this._textureCoordinate1=C$99n,this._tangent=C$99r,this._blendIndex=C$99s,this._blendWeight=C$99a},C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$99e(0,C$99s,"vertexDeclaration",function(){return bngj3._vertexDeclaration}),C$99e(0,C$99s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(1,bngj3,"vertexDeclaration",function(){return bngj3._vertexDeclaration}),C$99h(bngj3,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(84,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector2",2),new C$99r(32,"vector2",15),new C$99r(40,"vector4",7),new C$99r(56,"vector4",6),new C$99r(72,"vector3",5)])}]),bngj3),C$99Bt=(C$99t(yhw_xm,"laya.d3.graphics.VertexPositionNormalTexture0Texture1STangent"),C$99s=yhw_xm.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$99e(0,C$99s,"vertexDeclaration",function(){return yhw_xm._vertexDeclaration}),C$99e(0,C$99s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$99e(1,yhw_xm,"vertexDeclaration",function(){return yhw_xm._vertexDeclaration}),C$99h(yhw_xm,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(56,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector2",2),new C$99r(32,"vector2",15),new C$99r(40,"vector4",5)])}]),yhw_xm),C$99Nt=(C$99t(kjgr,"laya.d3.graphics.VertexPositionNormalTexture0Texture1Tangent"),C$99s=kjgr.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99s.VertexPositionNormalTexture0Tangent=function(C$99t,C$99e,C$99i,C$99n,C$99r){this._position=C$99t,this._normal=C$99e,this._textureCoordinate0=C$99i,this._textureCoordinate1=C$99n,this._tangent=C$99r},C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$99e(0,C$99s,"vertexDeclaration",function(){return kjgr._vertexDeclaration}),C$99e(0,C$99s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$99e(1,kjgr,"vertexDeclaration",function(){return kjgr._vertexDeclaration}),C$99h(kjgr,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(52,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector2",2),new C$99r(32,"vector2",15),new C$99r(40,"vector3",5)])}]),kjgr),C$99Ot=(C$99t(eozfp,"laya.d3.graphics.VertexPositionNormalTextureSkin"),C$99s=eozfp.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"textureCoordinate",function(){return this._textureCoordinate}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(0,C$99s,"vertexDeclaration",function(){return eozfp._vertexDeclaration}),C$99e(1,eozfp,"vertexDeclaration",function(){return eozfp._vertexDeclaration}),C$99h(eozfp,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(64,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector2",2),new C$99r(32,"vector4",7),new C$99r(48,"vector4",6)])}]),eozfp),C$99Ft=(C$99t(nbg3,"laya.d3.graphics.VertexPositionNormalTextureSkinSTangent"),C$99s=nbg3.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"textureCoordinate",function(){return this._textureCoordinate}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(0,C$99s,"vertexDeclaration",function(){return nbg3._vertexDeclaration}),C$99e(1,nbg3,"vertexDeclaration",function(){return nbg3._vertexDeclaration}),C$99h(nbg3,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(80,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector2",2),new C$99r(32,"vector4",7),new C$99r(48,"vector4",6),new C$99r(64,"vector4",5)])}]),nbg3),C$99Vt=(C$99t(pzvd$,"laya.d3.graphics.VertexPositionNormalTextureSkinTangent"),C$99s=pzvd$.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"textureCoordinate",function(){return this._textureCoordinate}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(0,C$99s,"vertexDeclaration",function(){return pzvd$._vertexDeclaration}),C$99e(1,pzvd$,"vertexDeclaration",function(){return pzvd$._vertexDeclaration}),C$99h(pzvd$,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(76,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector2",2),new C$99r(32,"vector4",7),new C$99r(48,"vector4",6),new C$99r(64,"vector3",5)])}]),pzvd$),C$99$t=(C$99t(kgrab,"laya.d3.graphics.VertexPositionNormalTextureSTangent"),C$99s=kgrab.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"textureCoordinate",function(){return this._textureCoordinate}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"vertexDeclaration",function(){return kgrab._vertexDeclaration}),C$99e(1,kgrab,"vertexDeclaration",function(){return kgrab._vertexDeclaration}),C$99h(kgrab,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(48,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector2",2),new C$99r(32,"vector4",5)])}]),kgrab),C$99Ut=(C$99t(bgjk,"laya.d3.graphics.VertexPositionNormalTextureTangent"),C$99s=bgjk.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"textureCoordinate",function(){return this._textureCoordinate}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"vertexDeclaration",function(){return bgjk._vertexDeclaration}),C$99e(1,bgjk,"vertexDeclaration",function(){return bgjk._vertexDeclaration}),C$99h(bgjk,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(44,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector2",2),new C$99r(32,"vector3",5)])}]),bgjk),C$99jt=(C$99t($f9pv,"laya.d3.graphics.VertexPositionNTBTexture"),C$99s=$f9pv.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"textureCoordinate",function(){return this._textureCoordinate}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"vertexDeclaration",function(){return $f9pv._vertexDeclaration}),C$99e(1,$f9pv,"vertexDeclaration",function(){return $f9pv._vertexDeclaration}),C$99h($f9pv,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(56,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector3",5),new C$99r(36,"vector3",4),new C$99r(48,"vector2",2)])}]),$f9pv),C$99qt=(C$99t(w8365,"laya.d3.graphics.VertexPositionNTBTexture0Texture1Skin"),C$99s=w8365.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"tangent",function(){return this._tangent}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$99e(0,C$99s,"vertexDeclaration",function(){return w8365._vertexDeclaration}),C$99e(0,C$99s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$99e(0,C$99s,"blendIndex",function(){return this._blendIndex}),C$99e(0,C$99s,"blendWeight",function(){return this._blendWeight}),C$99e(1,w8365,"vertexDeclaration",function(){return w8365._vertexDeclaration}),C$99h(w8365,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(96,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector3",5),new C$99r(36,"vector3",4),new C$99r(48,"vector2",2),new C$99r(56,"vector2",15),new C$99r(64,"vector4",7),new C$99r(80,"vector4",6)])}]),w8365),C$99Ht=(C$99t(zfopd,"laya.d3.graphics.VertexPositionNTBTextureSkin"),C$99s=zfopd.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"textureCoordinate",function(){return this._textureCoordinate}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"vertexDeclaration",function(){return zfopd._vertexDeclaration}),C$99e(1,zfopd,"vertexDeclaration",function(){return zfopd._vertexDeclaration}),C$99h(zfopd,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(88,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector3",5),new C$99r(36,"vector3",4),new C$99r(48,"vector2",2),new C$99r(56,"vector4",7),new C$99r(72,"vector4",6)])}]),zfopd),C$99Wt=(C$99t(nj3g8r,"laya.d3.graphics.VertexPositionTerrain"),C$99s=nj3g8r.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"normal",function(){return this._normal}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"textureCoord0",function(){return this._textureCoord0}),C$99e(0,C$99s,"textureCoord1",function(){return this._textureCoord1}),C$99e(0,C$99s,"vertexDeclaration",function(){return nj3g8r._vertexDeclaration}),C$99e(1,nj3g8r,"vertexDeclaration",function(){return nj3g8r._vertexDeclaration}),C$99h(nj3g8r,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(40,[new C$99r(0,"vector3",0),new C$99r(12,"vector3",3),new C$99r(24,"vector2",2),new C$99r(32,"vector2",15)])}]),C$99t(e_xyq0,"laya.d3.graphics.VertexPositionTexture0"),C$99s=e_xyq0.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"position",function(){return this._position}),C$99e(0,C$99s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$99e(0,C$99s,"vertexDeclaration",function(){return e_xyq0._vertexDeclaration}),C$99e(1,e_xyq0,"vertexDeclaration",function(){return e_xyq0._vertexDeclaration}),C$99h(e_xyq0,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(20,[new C$99r(0,"vector3",0),new C$99r(12,"vector2",2)])}]),e_xyq0),C$99Gt=(C$99t(pf$vd9,"laya.d3.graphics.VertexShurikenParticleBillboard"),C$99s=pf$vd9.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"cornerTextureCoordinate",function(){return this._cornerTextureCoordinate}),C$99e(0,C$99s,"random1",function(){return this._randoms1}),C$99e(0,C$99s,"startRotation2",function(){return this._startRotation2}),C$99e(0,C$99s,"positionStartLifeTime",function(){return this._positionStartLifeTime}),C$99e(0,C$99s,"velocity",function(){return this._velocity}),C$99e(0,C$99s,"random0",function(){return this._randoms0}),C$99e(0,C$99s,"startSize",function(){return this._startSize}),C$99e(0,C$99s,"startColor",function(){return this._startColor}),C$99e(0,C$99s,"startRotation0",function(){return this._startRotation0}),C$99e(0,C$99s,"startRotation1",function(){return this._startRotation1}),C$99e(0,C$99s,"startLifeTime",function(){return this._startLifeTime}),C$99e(0,C$99s,"time",function(){return this._time}),C$99e(0,C$99s,"startSpeed",function(){return this._startSpeed}),C$99e(0,C$99s,"simulationWorldPostion",function(){return this._simulationWorldPostion}),C$99e(0,C$99s,"vertexDeclaration",function(){return pf$vd9._vertexDeclaration}),C$99e(1,pf$vd9,"vertexDeclaration",function(){return pf$vd9._vertexDeclaration}),C$99h(pf$vd9,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(152,[new C$99r(0,"vector4",17),new C$99r(16,"vector4",30),new C$99r(32,"vector4",32),new C$99r(48,"vector4",19),new C$99r(64,"vector3",20),new C$99r(76,"vector3",22),new C$99r(88,"single",31),new C$99r(92,"vector4",34),new C$99r(108,"vector4",35),new C$99r(124,"vector3",36),new C$99r(136,"vector4",37)])}]),C$99t(x0my_q,"laya.d3.graphics.VertexShurikenParticleMesh"),C$99s=x0my_q.prototype,C$99b.imps(C$99s,{"laya.d3.graphics.IVertex":!0}),C$99e(0,C$99s,"cornerTextureCoordinate",function(){return this._cornerTextureCoordinate}),C$99e(0,C$99s,"velocity",function(){return this._velocity}),C$99e(0,C$99s,"position",function(){return this._positionStartLifeTime}),C$99e(0,C$99s,"random0",function(){return this._randoms0}),C$99e(0,C$99s,"startSize",function(){return this._startSize}),C$99e(0,C$99s,"startColor",function(){return this._startColor}),C$99e(0,C$99s,"startRotation0",function(){return this._startRotation0}),C$99e(0,C$99s,"startRotation1",function(){return this._startRotation1}),C$99e(0,C$99s,"random1",function(){return this._randoms1}),C$99e(0,C$99s,"startRotation2",function(){return this._startRotation2}),C$99e(0,C$99s,"startLifeTime",function(){return this._startLifeTime}),C$99e(0,C$99s,"time",function(){return this._time}),C$99e(0,C$99s,"startSpeed",function(){return this._startSpeed}),C$99e(0,C$99s,"simulationWorldPostion",function(){return this._simulationWorldPostion}),C$99e(0,C$99s,"vertexDeclaration",function(){return x0my_q._vertexDeclaration}),C$99e(1,x0my_q,"vertexDeclaration",function(){return x0my_q._vertexDeclaration}),C$99h(x0my_q,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ht(172,[new C$99r(0,"vector3",0),new C$99r(12,"vector4",1),new C$99r(28,"vector2",2),new C$99r(36,"vector4",30),new C$99r(52,"vector4",32),new C$99r(68,"vector4",19),new C$99r(84,"vector3",20),new C$99r(96,"vector3",22),new C$99r(108,"single",31),new C$99r(112,"vector4",34),new C$99r(128,"vector4",35),new C$99r(144,"vector3",36),new C$99r(156,"vector4",37)])}]),C$99t(dpvf$z,"laya.d3.loaders.LoadModelV01"),(C$99s=dpvf$z.prototype)._onLoaded=function(C$99t){this._readData=C$99t,this.READ_BLOCK();for(var C$99e=0;C$99e<this._BLOCK.count;C$99e++){var C$99i=this._readData.getUint16(),C$99n=this._strings[C$99i],C$99r=this["READ_"+C$99n];if(null==C$99r)throw new Error("model file err,no this function:"+C$99i+" "+C$99n);if(!C$99r.call(this))break}return this._mesh},C$99s.onError=function(){},C$99s._readString=function(){return this._strings[this._readData.getUint16()]},C$99s.READ_BLOCK=function(){return this._readData.getUint16(),this._BLOCK.count=this._readData.getUint16(),!0},C$99s.READ_DATA=function(){return this._DATA.offset=this._readData.getUint32(),this._DATA.size=this._readData.getUint32(),!0},C$99s.READ_STRINGS=function(){this._STRINGS.offset=this._readData.getUint16(),this._STRINGS.size=this._readData.getUint16();var C$99t=this._readData.pos;this._readData.pos=this._STRINGS.offset+this._DATA.offset;for(var C$99e=0;C$99e<this._STRINGS.size;C$99e++)this._strings[C$99e]=this._readData.readUTFString();return this._readData.pos=C$99t,!0},C$99s.READ_MATERIAL=function(){var C$99t=this._readData.getUint16(),C$99e=(this._readString(),this._readString());return this._materials[C$99t]="null"!==C$99e?C$99g.getRes(this._materialMap[C$99e]):new C$99De,!0},C$99s.READ_MESH=function(){switch(this._readString(),this._version){case"LAYAMODEL:01":console.log("Warning: The (.lm) file is converted by old fbxTools,please reConverted it use  lastest fbxTools version,later we will remove the  support of old version (.lm) support.");break;case"LAYASKINANI:01":case"LAYAMODEL:02":var C$99t,C$99e=this._readData.__getBuffer(),C$99i=0,C$99n=this._readData.getUint32(),C$99r=this._readData.getUint32(),C$99n=(new Float32Array(C$99e.slice(C$99n+this._DATA.offset,C$99n+this._DATA.offset+C$99r)),this._readData.getUint32()),C$99r=this._readData.getUint32(),C$99s=new Float32Array(C$99e.slice(C$99n+this._DATA.offset,C$99n+this._DATA.offset+C$99r));for(this.mesh._inverseBindPoses=[],C$99i=0,C$99t=C$99s.length;C$99i<C$99t;C$99i+=16){var C$99a=new C$99ie(C$99s[C$99i+0],C$99s[C$99i+1],C$99s[C$99i+2],C$99s[C$99i+3],C$99s[C$99i+4],C$99s[C$99i+5],C$99s[C$99i+6],C$99s[C$99i+7],C$99s[C$99i+8],C$99s[C$99i+9],C$99s[C$99i+10],C$99s[C$99i+11],C$99s[C$99i+12],C$99s[C$99i+13],C$99s[C$99i+14],C$99s[C$99i+15]);this.mesh._inverseBindPoses.push(C$99a)}break;default:throw new Error("LoadModel:unknown version.")}return!0},C$99s.READ_SUBMESH=function(){this._readString(),this._readData.getUint8();var C$99t=this._readString();this._shaderAttributes=C$99t.match(dpvf$z._attrReg);var C$99t=this._readData.getUint32(),C$99e=this._readData.getUint32(),C$99i=(this._readData.getUint32(),this._readData.getUint32(),this._readData.getUint32()),C$99n=this._readData.getUint32(),C$99r=this._readData.getUint32(),C$99c=this._readData.getUint32(),C$99s=this._readData.__getBuffer(),C$99a=new C$99ce(this._mesh),C$99o=this._getVertexDeclaration(),C$99h=C$99Be.create(C$99o,C$99n/C$99o.vertexStride,35044,!0),C$99o=C$99i+this._DATA.offset,C$99i=C$99s.slice(C$99o,C$99o+C$99n);C$99h.setData(new Float32Array(C$99i));for(var C$99_=(C$99a._vertexBuffer=C$99h).vertexDeclaration.getVertexElements(),C$99l=0;C$99l<C$99_.length;C$99l++)C$99a._bufferUsage[C$99_[C$99l].elementUsage]=C$99h;C$99o=C$99ke.create("ushort",C$99e/2,35044,!0),C$99n=C$99t+this._DATA.offset,C$99i=C$99s.slice(C$99n,C$99n+C$99e);C$99o.setData(new Uint16Array(C$99i)),C$99a._indexBuffer=C$99o;C$99t=C$99s.slice(C$99r+this._DATA.offset,C$99r+this._DATA.offset+C$99c);return C$99a._boneIndicesList[0]=new Uint8Array(C$99t),this._subMeshes.push(C$99a),!0},C$99s.READ_DATAAREA=function(){return!1},C$99s._getVertexDeclaration=function(){for(var C$99t,C$99e=!1,C$99i=!1,C$99n=!1,C$99r=!1,C$99s=!1,C$99a=!1,C$99o=!1,C$99h=!1,C$99l=!1,C$99c=0;C$99c<this._shaderAttributes.length;C$99c+=8)switch(this._shaderAttributes[C$99c]){case"POSITION":C$99e=!0;break;case"NORMAL":C$99i=!0;break;case"COLOR":C$99n=!0;break;case"UV":C$99r=!0;break;case"UV1":C$99s=!0;break;case"BLENDWEIGHT":C$99o=!0;break;case"BLENDINDICES":C$99h=!0;break;case"TANGENT":C$99a=!0;break;case"BINORMAL":C$99l=!0}return C$99e&&C$99i&&C$99n&&C$99r&&C$99s&&C$99o&&C$99h&&C$99a?C$99t=C$99bt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99s&&C$99o&&C$99h?C$99t=C$99xt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s&&C$99o&&C$99h&&C$99a?C$99t=C$99kt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s&&C$99o&&C$99h?C$99t=C$99Lt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99o&&C$99h&&C$99a?C$99t=C$99Ct.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99o&&C$99h?C$99t=C$99Mt.vertexDeclaration:C$99e&&C$99i&&C$99a&&C$99l&&C$99r&&C$99o&&C$99h?C$99t=C$99Ht.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99o&&C$99h&&C$99a?C$99t=C$99Vt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99o&&C$99h?C$99t=C$99Ot.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99o&&C$99h&&C$99a?C$99t=C$99ft.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99o&&C$99h?C$99t=C$99ut.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99s&&C$99a?C$99t=C$99Tt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99s?C$99t=C$99vt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s&&C$99a?C$99t=C$99Nt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s?C$99t=C$99Pt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99a?C$99t=C$99Et.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99a&&C$99l?C$99t=C$99jt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r?C$99t=C$99gt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99a?C$99t=C$99Ut.vertexDeclaration:C$99e&&C$99i&&C$99r?C$99t=C$99Rt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99a?C$99t=C$99mt.vertexDeclaration:C$99e&&C$99i&&C$99n&&(C$99t=C$99_t.vertexDeclaration),C$99t},C$99e(0,C$99s,"mesh",function(){return this._mesh}),dpvf$z._attrReg=new RegExp("(\\w+)|([:,;])","g"),dpvf$z),C$99Yt=(C$99t(yo0xq,"laya.d3.loaders.LoadModelV02"),yo0xq.parse=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){yo0xq._mesh=C$99i,yo0xq._materials=C$99n,yo0xq._subMeshes=C$99r,yo0xq._materialMap=C$99s,yo0xq._version=C$99e,yo0xq._readData=C$99t,yo0xq.READ_DATA(),yo0xq.READ_BLOCK(),yo0xq.READ_STRINGS();for(var C$99a=0,C$99c=yo0xq._BLOCK.count;C$99a<C$99c;C$99a++){yo0xq._readData.pos=yo0xq._BLOCK.blockStarts[C$99a];var C$99o=yo0xq._readData.getUint16(),C$99h=yo0xq._strings[C$99o],C$99l=yo0xq["READ_"+C$99h];if(null==C$99l)throw new Error("model file err,no this function:"+C$99o+" "+C$99h);C$99l.call()}yo0xq._strings.length=0,yo0xq._readData=null,yo0xq._version=null,yo0xq._mesh=null,yo0xq._materials=null,yo0xq._subMeshes=null,yo0xq._materialMap=null},yo0xq._readString=function(){return yo0xq._strings[yo0xq._readData.getUint16()]},yo0xq.READ_DATA=function(){yo0xq._DATA.offset=yo0xq._readData.getUint32(),yo0xq._DATA.size=yo0xq._readData.getUint32()},yo0xq.READ_BLOCK=function(){for(var C$99t=yo0xq._BLOCK.count=yo0xq._readData.getUint16(),C$99e=yo0xq._BLOCK.blockStarts=[],C$99i=yo0xq._BLOCK.blockLengths=[],C$99n=0;C$99n<C$99t;C$99n++)C$99e.push(yo0xq._readData.getUint32()),C$99i.push(yo0xq._readData.getUint32())},yo0xq.READ_STRINGS=function(){var C$99t=yo0xq._readData.getUint32(),C$99e=yo0xq._readData.getUint16(),C$99i=yo0xq._readData.pos;yo0xq._readData.pos=C$99t+yo0xq._DATA.offset;for(var C$99n=0;C$99n<C$99e;C$99n++)yo0xq._strings[C$99n]=yo0xq._readData.readUTFString();yo0xq._readData.pos=C$99i},yo0xq.READ_MATERIAL=function(){yo0xq._readString(),yo0xq._readString();var C$99t=yo0xq._readString();return""!==C$99t&&yo0xq._materials.push(C$99g.getRes(yo0xq._materialMap[C$99t])),!0},yo0xq.READ_MESH=function(){yo0xq._readString();var C$99t,C$99e=yo0xq._readData.__getBuffer(),C$99i=0,C$99c=yo0xq._readData.getInt16(),C$99n=yo0xq._DATA.offset;for(C$99i=0;C$99i<C$99c;C$99i++){var C$99r=C$99n+yo0xq._readData.getUint32(),C$99s=yo0xq._readData.getUint32(),C$99r=new Float32Array(C$99e.slice(C$99r,C$99r+C$99s)),C$99s=yo0xq._readString().match(yo0xq._attrReg),C$99s=yo0xq._getVertexDeclaration(C$99s),C$99s=C$99Be.create(C$99s,4*C$99r.length/C$99s.vertexStride,35044,!0);C$99s.setData(C$99r),yo0xq._mesh._vertexBuffers.push(C$99s)}var C$99a=C$99n+yo0xq._readData.getUint32(),C$99o=yo0xq._readData.getUint32(),C$99a=new Uint16Array(C$99e.slice(C$99a,C$99a+C$99o)),C$99o=C$99ke.create("ushort",C$99o/2,35044,!0);C$99o.setData(C$99a),yo0xq._mesh._indexBuffer=C$99o;var C$99h=yo0xq._mesh._boneNames=[],C$99_=yo0xq._readData.getUint16();for(C$99h.length=C$99_,C$99i=0;C$99i<C$99_;C$99i++)C$99h[C$99i]=yo0xq._strings[yo0xq._readData.getUint16()];var C$99a=yo0xq._readData.getUint32(),C$99o=yo0xq._readData.getUint32(),C$99a=(new Float32Array(C$99e.slice(C$99n+C$99a,C$99n+C$99a+C$99o)),yo0xq._readData.getUint32()),C$99o=yo0xq._readData.getUint32(),C$99l=new Float32Array(C$99e.slice(C$99n+C$99a,C$99n+C$99a+C$99o));for(yo0xq._mesh._inverseBindPoses=[],C$99i=0,C$99t=C$99l.length;C$99i<C$99t;C$99i+=16){var C$99u=new C$99ie(C$99l[C$99i+0],C$99l[C$99i+1],C$99l[C$99i+2],C$99l[C$99i+3],C$99l[C$99i+4],C$99l[C$99i+5],C$99l[C$99i+6],C$99l[C$99i+7],C$99l[C$99i+8],C$99l[C$99i+9],C$99l[C$99i+10],C$99l[C$99i+11],C$99l[C$99i+12],C$99l[C$99i+13],C$99l[C$99i+14],C$99l[C$99i+15]);yo0xq._mesh._inverseBindPoses.push(C$99u)}return yo0xq._mesh._skinnedDatas=new Float32Array(16*C$99l.length),!0},yo0xq.READ_SUBMESH=function(){var C$99c=yo0xq._readData.__getBuffer(),C$99t=new C$99ce(yo0xq._mesh),C$99e=yo0xq._readData.getInt16(),C$99i=yo0xq._readData.getUint32(),C$99n=yo0xq._readData.getUint32();C$99t._vertexBuffer=yo0xq._mesh._vertexBuffers[C$99e],C$99t._vertexStart=C$99i,C$99t._vertexCount=C$99n;C$99e=yo0xq._readData.getUint32(),C$99i=yo0xq._readData.getUint32(),C$99n=yo0xq._mesh._indexBuffer;C$99t._indexBuffer=C$99n,C$99t._indexStart=C$99e,C$99t._indexCount=C$99i,C$99t._indices=new Uint16Array(C$99n.getData().buffer,2*C$99e,C$99i);var C$99r=yo0xq._DATA.offset,C$99s=C$99t._subIndexBufferStart,C$99a=C$99t._subIndexBufferCount,C$99n=C$99t._boneIndicesList,C$99o=yo0xq._readData.getUint16();C$99s.length=C$99o,C$99a.length=C$99o,C$99n.length=C$99o;for(var C$99h=0;C$99h<C$99o;C$99h++){C$99s[C$99h]=yo0xq._readData.getUint32(),C$99a[C$99h]=yo0xq._readData.getUint32();var C$99l=yo0xq._readData.getUint32(),C$99_=yo0xq._readData.getUint32();C$99t._boneIndicesList[C$99h]=new Uint8Array(C$99c.slice(C$99r+C$99l,C$99r+C$99l+C$99_))}return yo0xq._subMeshes.push(C$99t),!0},yo0xq._getVertexDeclaration=function(C$99c){for(var C$99t,C$99e=!1,C$99i=!1,C$99n=!1,C$99r=!1,C$99s=!1,C$99a=!1,C$99o=!1,C$99h=!1,C$99_=!1,C$99l=0;C$99l<C$99c.length;C$99l++)switch(C$99c[C$99l]){case"POSITION":C$99e=!0;break;case"NORMAL":C$99i=!0;break;case"COLOR":C$99n=!0;break;case"UV":C$99r=!0;break;case"UV1":C$99s=!0;break;case"BLENDWEIGHT":C$99o=!0;break;case"BLENDINDICES":C$99h=!0;break;case"TANGENT":C$99a=!0;break;case"BINORMAL":C$99_=!0}return C$99e&&C$99i&&C$99n&&C$99r&&C$99s&&C$99o&&C$99h&&C$99a?C$99t=C$99bt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99s&&C$99o&&C$99h?C$99t=C$99xt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s&&C$99o&&C$99h&&C$99a?C$99t=C$99kt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s&&C$99o&&C$99h?C$99t=C$99Lt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99o&&C$99h&&C$99a?C$99t=C$99Ct.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99o&&C$99h?C$99t=C$99Mt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99o&&C$99h&&C$99a?C$99t=C$99Vt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99o&&C$99h?C$99t=C$99Ot.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99o&&C$99h&&C$99a?C$99t=C$99ft.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99o&&C$99h?C$99t=C$99ut.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99s&&C$99a?C$99t=C$99Tt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99s?C$99t=C$99vt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s&&C$99a?C$99t=C$99Nt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s?C$99t=C$99Pt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99a?C$99t=C$99Et.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99a&&C$99_?C$99t=C$99jt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r?C$99t=C$99gt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99a?C$99t=C$99Ut.vertexDeclaration:C$99e&&C$99i&&C$99r?C$99t=C$99Rt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99a?C$99t=C$99mt.vertexDeclaration:C$99e&&C$99i&&C$99n&&(C$99t=C$99_t.vertexDeclaration),C$99t},yo0xq._attrReg=new RegExp("(\\w+)|([:,;])","g"),yo0xq._strings=[],yo0xq._readData=null,yo0xq._version=null,yo0xq._mesh=null,yo0xq._materials=null,yo0xq._subMeshes=null,yo0xq._materialMap=null,C$99h(yo0xq,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]),yo0xq),C$99Xt=(C$99t(baksr,"laya.d3.loaders.LoadModelV03"),baksr.parse=function(C$99t,C$99e,C$99i,C$99n,C$99r){baksr._mesh=C$99i,baksr._subMeshes=C$99n,baksr._materialMap=C$99r,baksr._version=C$99e,baksr._readData=C$99t,baksr.READ_DATA(),baksr.READ_BLOCK(),baksr.READ_STRINGS();for(var C$99s=0,C$99a=baksr._BLOCK.count;C$99s<C$99a;C$99s++){baksr._readData.pos=baksr._BLOCK.blockStarts[C$99s];var C$99o=baksr._readData.getUint16(),C$99h=baksr._strings[C$99o],C$99l=baksr["READ_"+C$99h];if(null==C$99l)throw new Error("model file err,no this function:"+C$99o+" "+C$99h);C$99l.call()}baksr._strings.length=0,baksr._readData=null,baksr._version=null,baksr._mesh=null,baksr._subMeshes=null,baksr._materialMap=null},baksr._readString=function(){return baksr._strings[baksr._readData.getUint16()]},baksr.READ_DATA=function(){baksr._DATA.offset=baksr._readData.getUint32(),baksr._DATA.size=baksr._readData.getUint32()},baksr.READ_BLOCK=function(){for(var C$99t=baksr._BLOCK.count=baksr._readData.getUint16(),C$99e=baksr._BLOCK.blockStarts=[],C$99i=baksr._BLOCK.blockLengths=[],C$99n=0;C$99n<C$99t;C$99n++)C$99e.push(baksr._readData.getUint32()),C$99i.push(baksr._readData.getUint32())},baksr.READ_STRINGS=function(){var C$99t=baksr._readData.getUint32(),C$99e=baksr._readData.getUint16(),C$99i=baksr._readData.pos;baksr._readData.pos=C$99t+baksr._DATA.offset;for(var C$99n=0;C$99n<C$99e;C$99n++)baksr._strings[C$99n]=baksr._readData.readUTFString();baksr._readData.pos=C$99i},baksr.READ_MESH=function(){var C$99c,C$99_=baksr._readString(),C$99t=baksr._readData.__getBuffer(),C$99e=0,C$99u=baksr._readData.getInt16(),C$99i=baksr._DATA.offset;for(C$99e=0;C$99e<C$99u;C$99e++){var C$99n,C$99r=C$99i+baksr._readData.getUint32(),C$99s=baksr._readData.getUint32(),C$99r=new Float32Array(C$99t.slice(C$99r,C$99r+C$99s)),C$99a=baksr._readString();switch(baksr._version){case"LAYAMODEL:03":C$99n=baksr._vertexDeclarationMap_Discard[C$99a];break;case"LAYAMODEL:0301":C$99n=baksr._vertexDeclarationMap[C$99a];break;default:throw new Error("LoadModelV03: unknown version.")}if(!C$99n)throw new Error("LoadModelV03: unknown vertexDeclaration.  version="+baksr._version+"  bufferAttribute="+C$99a+"  name="+C$99_+"  url="+(baksr._mesh?baksr._mesh.url:"null"));C$99s=C$99Be.create(C$99n,4*C$99r.length/C$99n.vertexStride,35044,!0,baksr._mesh._url+"_"+C$99e);C$99s.setData(C$99r),baksr._mesh._vertexBuffers.push(C$99s)}var C$99o=C$99i+baksr._readData.getUint32(),C$99h=baksr._readData.getUint32(),C$99o=new Uint16Array(C$99t.slice(C$99o,C$99o+C$99h)),C$99h=C$99ke.create("ushort",C$99h/2,35044,!0,baksr._mesh._url);C$99h.setData(C$99o),baksr._mesh._indexBuffer=C$99h;var C$99d=baksr._mesh._boneNames=[],C$99f=baksr._readData.getUint16();for(C$99d.length=C$99f,C$99e=0;C$99e<C$99f;C$99e++)C$99d[C$99e]=baksr._strings[baksr._readData.getUint16()];baksr._readData.pos+=8;var C$99o=baksr._readData.getUint32(),C$99h=baksr._readData.getUint32(),C$99l=new Float32Array(C$99t.slice(C$99i+C$99o,C$99i+C$99o+C$99h));for(baksr._mesh._inverseBindPoses=[],C$99e=0,C$99c=C$99l.length;C$99e<C$99c;C$99e+=16){var C$99p=new C$99ie(C$99l[C$99e+0],C$99l[C$99e+1],C$99l[C$99e+2],C$99l[C$99e+3],C$99l[C$99e+4],C$99l[C$99e+5],C$99l[C$99e+6],C$99l[C$99e+7],C$99l[C$99e+8],C$99l[C$99e+9],C$99l[C$99e+10],C$99l[C$99e+11],C$99l[C$99e+12],C$99l[C$99e+13],C$99l[C$99e+14],C$99l[C$99e+15]);baksr._mesh._inverseBindPoses.push(C$99p)}return baksr._mesh._skinnedDatas=new Float32Array(16*C$99l.length),!0},baksr.READ_SUBMESH=function(){var C$99c=baksr._readData.__getBuffer(),C$99t=new C$99ce(baksr._mesh),C$99e=baksr._readData.getInt16(),C$99i=baksr._readData.getUint32(),C$99n=baksr._readData.getUint32();C$99t._vertexBuffer=baksr._mesh._vertexBuffers[C$99e],C$99t._vertexStart=C$99i,C$99t._vertexCount=C$99n;C$99e=baksr._readData.getUint32(),C$99i=baksr._readData.getUint32(),C$99n=baksr._mesh._indexBuffer;C$99t._indexBuffer=C$99n,C$99t._indexStart=C$99e,C$99t._indexCount=C$99i,C$99t._indices=new Uint16Array(C$99n.getData().buffer,2*C$99e,C$99i);var C$99r=baksr._DATA.offset,C$99s=C$99t._subIndexBufferStart,C$99a=C$99t._subIndexBufferCount,C$99o=C$99t._boneIndicesList,C$99h=baksr._readData.getUint16();C$99s.length=C$99h,C$99a.length=C$99h,C$99o.length=C$99h;for(var C$99l=0;C$99l<C$99h;C$99l++){C$99s[C$99l]=baksr._readData.getUint32(),C$99a[C$99l]=baksr._readData.getUint32();var C$99_=baksr._readData.getUint32(),C$99u=baksr._readData.getUint32();C$99o[C$99l]=new Uint8Array(C$99c.slice(C$99r+C$99_,C$99r+C$99_+C$99u))}return baksr._subMeshes.push(C$99t),!0},baksr._strings=[],baksr._readData=null,baksr._version=null,baksr._mesh=null,baksr._subMeshes=null,baksr._materialMap=null,C$99h(baksr,["_vertexDeclarationMap_Discard",function(){return this._vertexDeclarationMap_Discard={"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99bt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$99xt.vertexDeclaration,"POSITION,NORMAL,TANGENT,BINORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,":C$99qt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99kt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$99Lt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99Ct.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES":C$99Mt.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99Vt.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES":C$99Ot.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99ft.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES":C$99ut.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,TANGENT":C$99Tt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1":C$99vt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,TANGENT":C$99Nt.vertexDeclaration,"POSITION,NORMAL,UV,UV1":C$99Pt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,TANGENT":C$99Et.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT,BINORMAL":C$99jt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV":C$99gt.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT":C$99Ut.vertexDeclaration,"POSITION,NORMAL,UV":C$99Rt.vertexDeclaration,"POSITION,NORMAL,COLOR,TANGENT":C$99mt.vertexDeclaration,"POSITION,NORMAL,COLOR":C$99_t.vertexDeclaration,"POSITION,NORMAL,TANGENT":C$99It.vertexDeclaration,"POSITION,NORMAL":C$99ct.vertexDeclaration,"POSITION,UV":C$99Wt.vertexDeclaration,POSITION:C$99lt.vertexDeclaration}},"_vertexDeclarationMap",function(){return this._vertexDeclarationMap={"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99yt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$99xt.vertexDeclaration,"POSITION,NORMAL,TANGENT,BINORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,":C$99qt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99zt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$99Lt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99St.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES":C$99Mt.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99Ft.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES":C$99Ot.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99dt.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES":C$99ut.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,TANGENT":C$99wt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1":C$99vt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,TANGENT":C$99Bt.vertexDeclaration,"POSITION,NORMAL,UV,UV1":C$99Pt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,TANGENT":C$99Dt.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT,BINORMAL":C$99jt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV":C$99gt.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT":C$99$t.vertexDeclaration,"POSITION,NORMAL,UV":C$99Rt.vertexDeclaration,"POSITION,NORMAL,COLOR,TANGENT":C$99pt.vertexDeclaration,"POSITION,NORMAL,COLOR":C$99_t.vertexDeclaration,"POSITION,NORMAL,TANGENT":C$99At.vertexDeclaration,"POSITION,NORMAL":C$99ct.vertexDeclaration,"POSITION,UV":C$99Wt.vertexDeclaration,POSITION:C$99lt.vertexDeclaration}},"_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]),baksr),C$99Kt=(C$99t(ywmhx,"laya.d3.loaders.MeshReader"),ywmhx.read=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=new C$99x(C$99t);C$99s.pos=0;var C$99a=C$99s.readUTFString();switch(C$99a){case"LAYAMODEL:01":case"LAYASKINANI:01":ywmhx._readVersion01(C$99s,C$99a,C$99e,C$99i,C$99n,C$99r);break;case"LAYAMODEL:02":C$99Yt.parse(C$99s,C$99a,C$99e,C$99i,C$99n,C$99r);break;case"LAYAMODEL:03":case"LAYAMODEL:0301":C$99Xt.parse(C$99s,C$99a,C$99e,C$99n,C$99r);break;default:throw new Error("MeshReader: unknown mesh version.")}C$99e._setSubMeshes(C$99n)},ywmhx._readVersion01=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){new C$99Gt(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s)},ywmhx),C$99Zt=(C$99t(g31n86,"laya.d3.math.BoundBox"),C$99s=g31n86.prototype,C$99b.imps(C$99s,{"laya.d3.core.IClone":!0}),C$99s.getCorners=function(C$99t){C$99t.length=8;var C$99e=this.min.elements,C$99i=this.max.elements,C$99n=C$99e[0],C$99r=C$99e[1],C$99e=C$99e[2],C$99s=C$99i[0],C$99a=C$99i[1],C$99i=C$99i[2];C$99t[0]=new C$99A(C$99n,C$99a,C$99i),C$99t[1]=new C$99A(C$99s,C$99a,C$99i),C$99t[2]=new C$99A(C$99s,C$99r,C$99i),C$99t[3]=new C$99A(C$99n,C$99r,C$99i),C$99t[4]=new C$99A(C$99n,C$99a,C$99e),C$99t[5]=new C$99A(C$99s,C$99a,C$99e),C$99t[6]=new C$99A(C$99s,C$99r,C$99e),C$99t[7]=new C$99A(C$99n,C$99r,C$99e)},C$99s.toDefault=function(){this.min.toDefault(),this.max.toDefault()},C$99s.cloneTo=function(C$99t){this.min.cloneTo(C$99t.min),this.max.cloneTo(C$99t.max)},C$99s.clone=function(){var C$99t=new this.constructor(new C$99A,new C$99A);return this.cloneTo(C$99t),C$99t},g31n86.createfromPoints=function(C$99t,C$99e){if(null==C$99t)throw new Error("points");var C$99i=C$99e.min,C$99n=C$99e.max,C$99e=C$99i.elements;C$99e[0]=Number.MAX_VALUE,C$99e[1]=Number.MAX_VALUE,C$99e[2]=Number.MAX_VALUE;C$99e=C$99n.elements;C$99e[0]=-Number.MAX_VALUE,C$99e[1]=-Number.MAX_VALUE,C$99e[2]=-Number.MAX_VALUE;for(var C$99r=0,C$99s=C$99t.length;C$99r<C$99s;++C$99r)C$99A.min(C$99i,C$99t[C$99r],C$99i),C$99A.max(C$99n,C$99t[C$99r],C$99n)},g31n86.merge=function(C$99t,C$99e,C$99i){C$99A.min(C$99t.min,C$99e.min,C$99i.min),C$99A.max(C$99t.max,C$99e.max,C$99i.max)},g31n86),C$99Qt=(C$99t(dpi$9v,"laya.d3.math.BoundFrustum"),(C$99s=dpi$9v.prototype).equalsBoundFrustum=function(C$99t){return this._matrix.equalsOtherMatrix(C$99t.matrix)},C$99s.equalsObj=function(C$99t){return C$99t instanceof laya.d3.math.BoundFrustum&&this.equalsBoundFrustum(C$99t)},C$99s.getPlane=function(C$99t){switch(C$99t){case 0:return this._near;case 1:return this._far;case 2:return this._left;case 3:return this._right;case 4:return this._top;case 5:return this._bottom;default:return null}},C$99s.getCorners=function(C$99t){dpi$9v._get3PlaneInterPoint(this._near,this._bottom,this._right).cloneTo(C$99t[0]),dpi$9v._get3PlaneInterPoint(this._near,this._top,this._right).cloneTo(C$99t[1]),dpi$9v._get3PlaneInterPoint(this._near,this._top,this._left).cloneTo(C$99t[2]),dpi$9v._get3PlaneInterPoint(this._near,this._bottom,this._left).cloneTo(C$99t[3]),dpi$9v._get3PlaneInterPoint(this._far,this._bottom,this._right).cloneTo(C$99t[4]),dpi$9v._get3PlaneInterPoint(this._far,this._top,this._right).cloneTo(C$99t[5]),dpi$9v._get3PlaneInterPoint(this._far,this._top,this._left).cloneTo(C$99t[6]),dpi$9v._get3PlaneInterPoint(this._far,this._bottom,this._left).cloneTo(C$99t[7])},C$99s.containsPoint=function(C$99t){for(var C$99e=C$99ne.PlaneIntersectionType_Front,C$99i=C$99ne.PlaneIntersectionType_Front,C$99n=0;C$99n<6;C$99n++){switch(C$99n){case 0:C$99i=Collision.intersectsPlaneAndPoint(this._near,C$99t);break;case 1:C$99i=Collision.intersectsPlaneAndPoint(this._far,C$99t);break;case 2:C$99i=Collision.intersectsPlaneAndPoint(this._left,C$99t);break;case 3:C$99i=Collision.intersectsPlaneAndPoint(this._right,C$99t);break;case 4:C$99i=Collision.intersectsPlaneAndPoint(this._top,C$99t);break;case 5:C$99i=Collision.intersectsPlaneAndPoint(this._bottom,C$99t)}switch(C$99i){case C$99ne.PlaneIntersectionType_Back:return 0;case C$99ne.PlaneIntersectionType_Intersecting:C$99e=C$99ne.PlaneIntersectionType_Intersecting}}return C$99e!==C$99ne.PlaneIntersectionType_Intersecting?1:2},C$99s.containsBoundBox=function(C$99t){for(var C$99e,C$99i=dpi$9v._tempV30,C$99n=dpi$9v._tempV31,C$99r=1,C$99s=0;C$99s<6;C$99s++){if(C$99e=this.getPlane(C$99s),this._getBoxToPlanePVertexNVertex(C$99t,C$99e.normal,C$99i,C$99n),Collision.intersectsPlaneAndPoint(C$99e,C$99i)===C$99ne.PlaneIntersectionType_Back)return 0;Collision.intersectsPlaneAndPoint(C$99e,C$99n)===C$99ne.PlaneIntersectionType_Back&&(C$99r=2)}return C$99r},C$99s.containsBoundSphere=function(C$99t){for(var C$99e=C$99ne.PlaneIntersectionType_Front,C$99i=C$99ne.PlaneIntersectionType_Front,C$99n=0;C$99n<6;C$99n++){switch(C$99n){case 0:C$99i=Collision.intersectsPlaneAndSphere(this._near,C$99t);break;case 1:C$99i=Collision.intersectsPlaneAndSphere(this._far,C$99t);break;case 2:C$99i=Collision.intersectsPlaneAndSphere(this._left,C$99t);break;case 3:C$99i=Collision.intersectsPlaneAndSphere(this._right,C$99t);break;case 4:C$99i=Collision.intersectsPlaneAndSphere(this._top,C$99t);break;case 5:C$99i=Collision.intersectsPlaneAndSphere(this._bottom,C$99t)}switch(C$99i){case C$99ne.PlaneIntersectionType_Back:return 0;case C$99ne.PlaneIntersectionType_Intersecting:C$99e=C$99ne.PlaneIntersectionType_Intersecting}}return C$99e!==C$99ne.PlaneIntersectionType_Intersecting?1:2},C$99s._getBoxToPlanePVertexNVertex=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.min,C$99s=C$99r.elements,C$99t=C$99t.max,C$99a=C$99t.elements,C$99e=C$99e.elements,C$99o=C$99e[0],C$99h=C$99e[1],C$99e=C$99e[2];C$99r.cloneTo(C$99i);C$99r=C$99i.elements;0<=C$99o&&(C$99r[0]=C$99a[0]),0<=C$99h&&(C$99r[1]=C$99a[1]),0<=C$99e&&(C$99r[2]=C$99a[2]),C$99t.cloneTo(C$99n);C$99i=C$99n.elements;0<=C$99o&&(C$99i[0]=C$99s[0]),0<=C$99h&&(C$99i[1]=C$99s[1]),0<=C$99e&&(C$99i[2]=C$99s[2])},C$99e(0,C$99s,"top",function(){return this._top}),C$99e(0,C$99s,"matrix",function(){return this._matrix},function(C$99t){this._matrix=C$99t,dpi$9v._getPlanesFromMatrix(this._matrix,this._near,this._far,this._left,this._right,this._top,this._bottom)}),C$99e(0,C$99s,"near",function(){return this._near}),C$99e(0,C$99s,"far",function(){return this._far}),C$99e(0,C$99s,"left",function(){return this._left}),C$99e(0,C$99s,"right",function(){return this._right}),C$99e(0,C$99s,"bottom",function(){return this._bottom}),dpi$9v._getPlanesFromMatrix=function(C$99t,C$99e,C$99i,C$99n,C$99c,C$99_,C$99u){var C$99t=C$99t.elements,C$99d=C$99t[0],C$99f=C$99t[1],C$99r=C$99t[2],C$99s=C$99t[3],C$99p=C$99t[4],C$99m=C$99t[5],C$99a=C$99t[6],C$99o=C$99t[7],C$99g=C$99t[8],C$99v=C$99t[9],C$99x=C$99t[10],C$99h=C$99t[11],C$99y=C$99t[12],C$99b=C$99t[13],C$99w=C$99t[14],C$99t=C$99t[15],C$99l=C$99e.normal.elements;C$99l[0]=C$99s+C$99r,C$99l[1]=C$99o+C$99a,C$99l[2]=C$99h+C$99x,C$99e.distance=C$99t+C$99w,C$99e.normalize();C$99l=C$99i.normal.elements;C$99l[0]=C$99s-C$99r,C$99l[1]=C$99o-C$99a,C$99l[2]=C$99h-C$99x,C$99i.distance=C$99t-C$99w,C$99i.normalize();C$99e=C$99n.normal.elements;C$99e[0]=C$99s+C$99d,C$99e[1]=C$99o+C$99p,C$99e[2]=C$99h+C$99g,C$99n.distance=C$99t+C$99y,C$99n.normalize();C$99r=C$99c.normal.elements;C$99r[0]=C$99s-C$99d,C$99r[1]=C$99o-C$99p,C$99r[2]=C$99h-C$99g,C$99c.distance=C$99t-C$99y,C$99c.normalize();C$99a=C$99_.normal.elements;C$99a[0]=C$99s-C$99f,C$99a[1]=C$99o-C$99m,C$99a[2]=C$99h-C$99v,C$99_.distance=C$99t-C$99b,C$99_.normalize();C$99l=C$99u.normal.elements;C$99l[0]=C$99s+C$99f,C$99l[1]=C$99o+C$99m,C$99l[2]=C$99h+C$99v,C$99u.distance=C$99t+C$99b,C$99u.normalize()},dpi$9v._get3PlaneInterPoint=function(C$99t,C$99e,C$99i){var C$99n=C$99t.normal,C$99r=C$99e.normal,C$99s=C$99i.normal;C$99A.cross(C$99r,C$99s,dpi$9v._tempV30),C$99A.cross(C$99s,C$99n,dpi$9v._tempV31),C$99A.cross(C$99n,C$99r,dpi$9v._tempV32);C$99n=C$99A.dot(C$99n,dpi$9v._tempV30),C$99r=C$99A.dot(C$99r,dpi$9v._tempV31),C$99s=C$99A.dot(C$99s,dpi$9v._tempV32);return C$99A.scale(dpi$9v._tempV30,-C$99t.distance/C$99n,dpi$9v._tempV33),C$99A.scale(dpi$9v._tempV31,-C$99e.distance/C$99r,dpi$9v._tempV34),C$99A.scale(dpi$9v._tempV32,-C$99i.distance/C$99s,dpi$9v._tempV35),C$99A.add(dpi$9v._tempV33,dpi$9v._tempV34,dpi$9v._tempV36),C$99A.add(dpi$9v._tempV35,dpi$9v._tempV36,dpi$9v._tempV37),dpi$9v._tempV37},C$99h(dpi$9v,["_tempV30",function(){return this._tempV30=new C$99A},"_tempV31",function(){return this._tempV31=new C$99A},"_tempV32",function(){return this._tempV32=new C$99A},"_tempV33",function(){return this._tempV33=new C$99A},"_tempV34",function(){return this._tempV34=new C$99A},"_tempV35",function(){return this._tempV35=new C$99A},"_tempV36",function(){return this._tempV36=new C$99A},"_tempV37",function(){return this._tempV37=new C$99A}]),dpi$9v),C$99Jt=(C$99t(jnbgra,"laya.d3.math.BoundSphere"),C$99s=jnbgra.prototype,C$99b.imps(C$99s,{"laya.d3.core.IClone":!0}),C$99s.toDefault=function(){this.center.toDefault(),this.radius=0},C$99s.intersectsRayDistance=function(C$99t){return Collision.intersectsRayAndSphereRD(C$99t,this)},C$99s.intersectsRayPoint=function(C$99t,C$99e){return Collision.intersectsRayAndSphereRP(C$99t,this,C$99e)},C$99s.cloneTo=function(C$99t){this.center.cloneTo(C$99t.center),C$99t.radius=this.radius},C$99s.clone=function(){var C$99t=new this.constructor(new C$99A,new C$99A);return this.cloneTo(C$99t),C$99t},jnbgra.createFromSubPoints=function(C$99t,C$99e,C$99i,C$99n){if(null==C$99t)throw new Error("points");if(C$99e<0||C$99e>=C$99t.length)throw new Error("start"+C$99e+"Must be in the range [0, "+(C$99t.length-1)+"]");if(C$99i<0||C$99e+C$99i>C$99t.length)throw new Error("count"+C$99i+"Must be in the range <= "+C$99t.length+"}");var C$99r=C$99e+C$99i,C$99s=jnbgra._tempVector3;C$99s.elements[0]=0,C$99s.elements[1]=0,C$99s.elements[2]=0;for(var C$99a=C$99e;C$99a<C$99r;++C$99a)C$99A.add(C$99t[C$99a],C$99s,C$99s);var C$99o=C$99n.center;C$99A.scale(C$99s,1/C$99i,C$99o);var C$99h=0;for(C$99a=C$99e;C$99a<C$99r;++C$99a){var C$99l=C$99A.distanceSquared(C$99o,C$99t[C$99a]);C$99h<C$99l&&(C$99h=C$99l)}C$99n.radius=Math.sqrt(C$99h)},jnbgra.createfromPoints=function(C$99t,C$99e){if(null==C$99t)throw new Error("points");jnbgra.createFromSubPoints(C$99t,0,C$99t.length,C$99e)},C$99h(jnbgra,["_tempVector3",function(){return this._tempVector3=new C$99A}]),jnbgra),C$99te=(C$99t(n8j3gr,"laya.d3.math.ContainmentType"),n8j3gr.Disjoint=0,n8j3gr.Contains=1,n8j3gr.Intersects=2,C$99t($f9d,"laya.d3.math.MathUtils3D"),$f9d.isZero=function(C$99t){return Math.abs(C$99t)<$f9d.zeroTolerance},$f9d.nearEqual=function(C$99t,C$99e){return!!$f9d.isZero(C$99t-C$99e)},$f9d.fastInvSqrt=function(C$99t){return $f9d.isZero(C$99t)?C$99t:1/Math.sqrt(C$99t)},C$99h($f9d,["zeroTolerance",function(){return this.zeroTolerance=1e-6},"MaxValue",function(){return this.MaxValue=340282347e30},"MinValue",function(){return this.MinValue=-340282347e30}]),$f9d),C$99ee=(C$99t(jgkabr,"laya.d3.math.Matrix3x3"),C$99s=jgkabr.prototype,C$99b.imps(C$99s,{"laya.d3.core.IClone":!0}),C$99s.determinant=function(){var C$99t=this.elements,C$99e=C$99t[0],C$99i=C$99t[1],C$99n=C$99t[2],C$99r=C$99t[3],C$99s=C$99t[4],C$99a=C$99t[5],C$99o=C$99t[6],C$99h=C$99t[7],C$99t=C$99t[8];return C$99e*(C$99t*C$99s-C$99a*C$99h)+C$99i*(-C$99t*C$99r+C$99a*C$99o)+C$99n*(C$99h*C$99r-C$99s*C$99o)},C$99s.translate=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=this.elements,C$99t=C$99t.elements,C$99n=C$99i[0],C$99r=C$99i[1],C$99s=C$99i[2],C$99a=C$99i[3],C$99o=C$99i[4],C$99h=C$99i[5],C$99c=C$99i[6],C$99_=C$99i[7],C$99i=C$99i[8],C$99l=C$99t[0],C$99t=C$99t[1];C$99e[0]=C$99n,C$99e[1]=C$99r,C$99e[2]=C$99s,C$99e[3]=C$99a,C$99e[4]=C$99o,C$99e[5]=C$99h,C$99e[6]=C$99l*C$99n+C$99t*C$99a+C$99c,C$99e[7]=C$99l*C$99r+C$99t*C$99o+C$99_,C$99e[8]=C$99l*C$99s+C$99t*C$99h+C$99i},C$99s.rotate=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=this.elements,C$99n=C$99i[0],C$99r=C$99i[1],C$99s=C$99i[2],C$99a=C$99i[3],C$99o=C$99i[4],C$99h=C$99i[5],C$99c=C$99i[6],C$99_=C$99i[7],C$99i=C$99i[8],C$99l=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[0]=C$99t*C$99n+C$99l*C$99a,C$99e[1]=C$99t*C$99r+C$99l*C$99o,C$99e[2]=C$99t*C$99s+C$99l*C$99h,C$99e[3]=C$99t*C$99a-C$99l*C$99n,C$99e[4]=C$99t*C$99o-C$99l*C$99r,C$99e[5]=C$99t*C$99h-C$99l*C$99s,C$99e[6]=C$99c,C$99e[7]=C$99_,C$99e[8]=C$99i},C$99s.scale=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=this.elements,C$99t=C$99t.elements,C$99n=C$99t[0],C$99t=C$99t[1];C$99e[0]=C$99n*C$99i[0],C$99e[1]=C$99n*C$99i[1],C$99e[2]=C$99n*C$99i[2],C$99e[3]=C$99t*C$99i[3],C$99e[4]=C$99t*C$99i[4],C$99e[5]=C$99t*C$99i[5],C$99e[6]=C$99i[6],C$99e[7]=C$99i[7],C$99e[8]=C$99i[8]},C$99s.invert=function(C$99c){var C$99t=C$99c.elements,C$99e=this.elements,C$99i=C$99e[0],C$99n=C$99e[1],C$99r=C$99e[2],C$99s=C$99e[3],C$99a=C$99e[4],C$99o=C$99e[5],C$99h=C$99e[6],C$99_=C$99e[7],C$99e=C$99e[8],C$99u=C$99e*C$99a-C$99o*C$99_,C$99d=-C$99e*C$99s+C$99o*C$99h,C$99f=C$99_*C$99s-C$99a*C$99h,C$99l=C$99i*C$99u+C$99n*C$99d+C$99r*C$99f;C$99l||(C$99c=null),C$99t[0]=C$99u*(C$99l=1/C$99l),C$99t[1]=(-C$99e*C$99n+C$99r*C$99_)*C$99l,C$99t[2]=(C$99o*C$99n-C$99r*C$99a)*C$99l,C$99t[3]=C$99d*C$99l,C$99t[4]=(C$99e*C$99i-C$99r*C$99h)*C$99l,C$99t[5]=(-C$99o*C$99i+C$99r*C$99s)*C$99l,C$99t[6]=C$99f*C$99l,C$99t[7]=(-C$99_*C$99i+C$99n*C$99h)*C$99l,C$99t[8]=(C$99a*C$99i-C$99n*C$99s)*C$99l},C$99s.transpose=function(C$99t){var C$99e=C$99t.elements,C$99i=this.elements;var C$99n,C$99r;C$99t===this?(C$99t=C$99i[1],C$99n=C$99i[2],C$99r=C$99i[5],C$99e[1]=C$99i[3],C$99e[2]=C$99i[6],C$99e[3]=C$99t,C$99e[5]=C$99i[7],C$99e[6]=C$99n,C$99e[7]=C$99r):(C$99e[0]=C$99i[0],C$99e[1]=C$99i[3],C$99e[2]=C$99i[6],C$99e[3]=C$99i[1],C$99e[4]=C$99i[4],C$99e[5]=C$99i[7],C$99e[6]=C$99i[2],C$99e[7]=C$99i[5],C$99e[8]=C$99i[8])},C$99s.identity=function(){var C$99t=this.elements;C$99t[0]=1,C$99t[1]=0,C$99t[2]=0,C$99t[3]=0,C$99t[4]=1,C$99t[5]=0,C$99t[6]=0,C$99t[7]=0,C$99t[8]=1},C$99s.cloneTo=function(C$99t){var C$99e,C$99i,C$99n;if((C$99i=this.elements)!==(C$99n=C$99t.elements))for(C$99e=0;C$99e<9;++C$99e)C$99n[C$99e]=C$99i[C$99e]},C$99s.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},jgkabr.createFromTranslation=function(C$99t,C$99e){C$99e.elements;C$99t=C$99t.elements;C$99e[0]=1,C$99e[1]=0,C$99e[2]=0,C$99e[3]=0,C$99e[4]=1,C$99e[5]=0,C$99e[6]=C$99t[0],C$99e[7]=C$99t[1],C$99e[8]=1},jgkabr.createFromRotation=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[0]=C$99t,C$99e[1]=C$99i,C$99e[2]=0,C$99e[3]=-C$99i,C$99e[4]=C$99t,C$99e[5]=0,C$99e[6]=0,C$99e[7]=0,C$99e[8]=1},jgkabr.createFromScaling=function(C$99t,C$99e){C$99e=C$99e.elements,C$99t=C$99t.elements;C$99e[0]=C$99t[0],C$99e[1]=0,C$99e[2]=0,C$99e[3]=0,C$99e[4]=C$99t[1],C$99e[5]=0,C$99e[6]=0,C$99e[7]=0,C$99e[8]=1},jgkabr.createFromMatrix4x4=function(C$99t,C$99e){C$99e[0]=C$99t[0],C$99e[1]=C$99t[1],C$99e[2]=C$99t[2],C$99e[3]=C$99t[4],C$99e[4]=C$99t[5],C$99e[5]=C$99t[6],C$99e[6]=C$99t[8],C$99e[7]=C$99t[9],C$99e[8]=C$99t[10]},jgkabr.multiply=function(C$99t,C$99e,C$99i){var C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99s=C$99t[2],C$99a=C$99t[3],C$99o=C$99t[4],C$99h=C$99t[5],C$99l=C$99t[6],C$99c=C$99t[7],C$99t=C$99t[8],C$99_=C$99e[0],C$99u=C$99e[1],C$99d=C$99e[2],C$99f=C$99e[3],C$99p=C$99e[4],C$99m=C$99e[5],C$99g=C$99e[6],C$99v=C$99e[7],C$99e=C$99e[8];C$99i[0]=C$99_*C$99n+C$99u*C$99a+C$99d*C$99l,C$99i[1]=C$99_*C$99r+C$99u*C$99o+C$99d*C$99c,C$99i[2]=C$99_*C$99s+C$99u*C$99h+C$99d*C$99t,C$99i[3]=C$99f*C$99n+C$99p*C$99a+C$99m*C$99l,C$99i[4]=C$99f*C$99r+C$99p*C$99o+C$99m*C$99c,C$99i[5]=C$99f*C$99s+C$99p*C$99h+C$99m*C$99t,C$99i[6]=C$99g*C$99n+C$99v*C$99a+C$99e*C$99l,C$99i[7]=C$99g*C$99r+C$99v*C$99o+C$99e*C$99c,C$99i[8]=C$99g*C$99s+C$99v*C$99h+C$99e*C$99t},jgkabr.lookAt=function(C$99t,C$99e,C$99i,C$99n){C$99A.subtract(C$99t,C$99e,jgkabr._tempV30),C$99A.normalize(jgkabr._tempV30,jgkabr._tempV30),C$99A.cross(C$99i,jgkabr._tempV30,jgkabr._tempV31),C$99A.normalize(jgkabr._tempV31,jgkabr._tempV31),C$99A.cross(jgkabr._tempV30,jgkabr._tempV31,jgkabr._tempV32);C$99t=jgkabr._tempV30.elements,C$99e=jgkabr._tempV31.elements,C$99i=jgkabr._tempV32.elements,C$99n=C$99n.elements;C$99n[0]=C$99e[0],C$99n[3]=C$99e[1],C$99n[6]=C$99e[2],C$99n[1]=C$99i[0],C$99n[4]=C$99i[1],C$99n[7]=C$99i[2],C$99n[2]=C$99t[0],C$99n[5]=C$99t[1],C$99n[8]=C$99t[2]},jgkabr.DEFAULT=new jgkabr,C$99h(jgkabr,["_tempV30",function(){return this._tempV30=new C$99A},"_tempV31",function(){return this._tempV31=new C$99A},"_tempV32",function(){return this._tempV32=new C$99A}]),jgkabr),C$99ie=(C$99t(ey_x0,"laya.d3.math.Matrix4x4"),C$99s=ey_x0.prototype,C$99b.imps(C$99s,{"laya.d3.core.IClone":!0}),C$99s.getElementByRowColumn=function(C$99t,C$99e){if(C$99t<0||3<C$99t)throw new Error("row","Rows and columns for matrices run from 0 to 3, inclusive.");if(C$99e<0||3<C$99e)throw new Error("column","Rows and columns for matrices run from 0 to 3, inclusive.");return this.elements[4*C$99t+C$99e]},C$99s.setElementByRowColumn=function(C$99t,C$99e,C$99i){if(C$99t<0||3<C$99t)throw new Error("row","Rows and columns for matrices run from 0 to 3, inclusive.");if(C$99e<0||3<C$99e)throw new Error("column","Rows and columns for matrices run from 0 to 3, inclusive.");this.elements[4*C$99t+C$99e]=C$99i},C$99s.equalsOtherMatrix=function(C$99t){var C$99e=this.elements,C$99t=C$99t.elements;return C$99te.nearEqual(C$99e[0],C$99t[0])&&C$99te.nearEqual(C$99e[1],C$99t[1])&&C$99te.nearEqual(C$99e[2],C$99t[2])&&C$99te.nearEqual(C$99e[3],C$99t[3])&&C$99te.nearEqual(C$99e[4],C$99t[4])&&C$99te.nearEqual(C$99e[5],C$99t[5])&&C$99te.nearEqual(C$99e[6],C$99t[6])&&C$99te.nearEqual(C$99e[7],C$99t[7])&&C$99te.nearEqual(C$99e[8],C$99t[8])&&C$99te.nearEqual(C$99e[9],C$99t[9])&&C$99te.nearEqual(C$99e[10],C$99t[10])&&C$99te.nearEqual(C$99e[11],C$99t[11])&&C$99te.nearEqual(C$99e[12],C$99t[12])&&C$99te.nearEqual(C$99e[13],C$99t[13])&&C$99te.nearEqual(C$99e[14],C$99t[14])&&C$99te.nearEqual(C$99e[15],C$99t[15])},C$99s.decomposeTransRotScale=function(C$99t,C$99e,C$99i){var C$99n=ey_x0._tempMatrix4x4;return this.decomposeTransRotMatScale(C$99t,C$99n,C$99i)?(C$99re.createFromMatrix4x4(C$99n,C$99e),!0):(C$99e.identity(),!1)},C$99s.decomposeTransRotMatScale=function(C$99t,C$99e,C$99i){var C$99n=this.elements,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99i.elements;C$99t[0]=C$99n[12],C$99t[1]=C$99n[13],C$99t[2]=C$99n[14];var C$99t=C$99n[0],C$99r=C$99n[1],C$99c=C$99n[2],C$99_=C$99n[4],C$99u=C$99n[5],C$99d=C$99n[6],C$99f=C$99n[8],C$99p=C$99n[9],C$99n=C$99n[10],C$99s=C$99i[0]=Math.sqrt(C$99t*C$99t+C$99r*C$99r+C$99c*C$99c),C$99m=C$99i[1]=Math.sqrt(C$99_*C$99_+C$99u*C$99u+C$99d*C$99d),C$99a=C$99i[2]=Math.sqrt(C$99f*C$99f+C$99p*C$99p+C$99n*C$99n);if(C$99te.isZero(C$99s)||C$99te.isZero(C$99m)||C$99te.isZero(C$99a))return C$99e[1]=C$99e[2]=C$99e[3]=C$99e[4]=C$99e[6]=C$99e[7]=C$99e[8]=C$99e[9]=C$99e[11]=C$99e[12]=C$99e[13]=C$99e[14]=0,!(C$99e[0]=C$99e[5]=C$99e[10]=C$99e[15]=1);var C$99o=ey_x0._tempVector0,C$99h=C$99o.elements;C$99h[0]=C$99f/C$99a,C$99h[1]=C$99p/C$99a,C$99h[2]=C$99n/C$99a;var C$99h=ey_x0._tempVector1,C$99l=C$99h.elements;C$99l[0]=C$99t/C$99s,C$99l[1]=C$99r/C$99s,C$99l[2]=C$99c/C$99s;C$99l=ey_x0._tempVector2;C$99A.cross(C$99o,C$99h,C$99l);C$99h=ey_x0._tempVector1;return C$99A.cross(C$99l,C$99o,C$99h),C$99e[3]=C$99e[7]=C$99e[11]=C$99e[12]=C$99e[13]=C$99e[14]=0,C$99e[15]=1,C$99e[0]=C$99h.x,C$99e[1]=C$99h.y,C$99e[2]=C$99h.z,C$99e[4]=C$99l.x,C$99e[5]=C$99l.y,C$99e[6]=C$99l.z,C$99e[8]=C$99o.x,C$99e[9]=C$99o.y,C$99e[10]=C$99o.z,C$99e[0]*C$99t+C$99e[1]*C$99r+C$99e[2]*C$99c<0&&(C$99i[0]=-C$99s),C$99e[4]*C$99_+C$99e[5]*C$99u+C$99e[6]*C$99d<0&&(C$99i[1]=-C$99m),C$99e[8]*C$99f+C$99e[9]*C$99p+C$99e[10]*C$99n<0&&(C$99i[2]=-C$99a),!0},C$99s.decomposeYawPitchRoll=function(C$99t){var C$99t=C$99t.elements,C$99e=Math.asin(-this.elements[9]);C$99t[1]=C$99e,Math.cos(C$99e)>C$99te.zeroTolerance?(C$99t[2]=Math.atan2(this.elements[1],this.elements[5]),C$99t[0]=Math.atan2(this.elements[8],this.elements[10])):(C$99t[2]=Math.atan2(-this.elements[4],this.elements[0]),C$99t[0]=0)},C$99s.normalize=function(){var C$99t=this.elements,C$99e=C$99t[0],C$99i=C$99t[1],C$99n=C$99t[2],C$99r=Math.sqrt(C$99e*C$99e+C$99i*C$99i+C$99n*C$99n);if(!C$99r)return C$99t[0]=0,C$99t[1]=0,void(C$99t[2]=0);1!=C$99r&&(C$99t[0]=C$99e*(C$99r=1/C$99r),C$99t[1]=C$99i*C$99r,C$99t[2]=C$99n*C$99r)},C$99s.transpose=function(){var C$99t,C$99e;return C$99e=(C$99t=this.elements)[1],C$99t[1]=C$99t[4],C$99t[4]=C$99e,C$99e=C$99t[2],C$99t[2]=C$99t[8],C$99t[8]=C$99e,C$99e=C$99t[3],C$99t[3]=C$99t[12],C$99t[12]=C$99e,C$99e=C$99t[6],C$99t[6]=C$99t[9],C$99t[9]=C$99e,C$99e=C$99t[7],C$99t[7]=C$99t[13],C$99t[13]=C$99e,C$99e=C$99t[11],C$99t[11]=C$99t[14],C$99t[14]=C$99e,this},C$99s.invert=function(C$99t){var C$99e=this.elements,C$99t=C$99t.elements,C$99i=C$99e[0],C$99n=C$99e[1],C$99r=C$99e[2],C$99s=C$99e[3],C$99a=C$99e[4],C$99o=C$99e[5],C$99h=C$99e[6],C$99c=C$99e[7],C$99_=C$99e[8],C$99u=C$99e[9],C$99d=C$99e[10],C$99f=C$99e[11],C$99p=C$99e[12],C$99m=C$99e[13],C$99g=C$99e[14],C$99e=C$99e[15],C$99v=C$99i*C$99o-C$99n*C$99a,C$99x=C$99i*C$99h-C$99r*C$99a,C$99y=C$99i*C$99c-C$99s*C$99a,C$99b=C$99n*C$99h-C$99r*C$99o,C$99w=C$99n*C$99c-C$99s*C$99o,C$99T=C$99r*C$99c-C$99s*C$99h,C$99M=C$99_*C$99m-C$99u*C$99p,C$99S=C$99_*C$99g-C$99d*C$99p,C$99C=C$99_*C$99e-C$99f*C$99p,C$99D=C$99u*C$99g-C$99d*C$99m,C$99E=C$99u*C$99e-C$99f*C$99m,C$99A=C$99d*C$99e-C$99f*C$99g,C$99l=C$99v*C$99A-C$99x*C$99E+C$99y*C$99D+C$99b*C$99C-C$99w*C$99S+C$99T*C$99M;0!==Math.abs(C$99l)&&(C$99t[0]=(C$99o*C$99A-C$99h*C$99E+C$99c*C$99D)*(C$99l=1/C$99l),C$99t[1]=(C$99r*C$99E-C$99n*C$99A-C$99s*C$99D)*C$99l,C$99t[2]=(C$99m*C$99T-C$99g*C$99w+C$99e*C$99b)*C$99l,C$99t[3]=(C$99d*C$99w-C$99u*C$99T-C$99f*C$99b)*C$99l,C$99t[4]=(C$99h*C$99C-C$99a*C$99A-C$99c*C$99S)*C$99l,C$99t[5]=(C$99i*C$99A-C$99r*C$99C+C$99s*C$99S)*C$99l,C$99t[6]=(C$99g*C$99y-C$99p*C$99T-C$99e*C$99x)*C$99l,C$99t[7]=(C$99_*C$99T-C$99d*C$99y+C$99f*C$99x)*C$99l,C$99t[8]=(C$99a*C$99E-C$99o*C$99C+C$99c*C$99M)*C$99l,C$99t[9]=(C$99n*C$99C-C$99i*C$99E-C$99s*C$99M)*C$99l,C$99t[10]=(C$99p*C$99w-C$99m*C$99y+C$99e*C$99v)*C$99l,C$99t[11]=(C$99u*C$99y-C$99_*C$99w-C$99f*C$99v)*C$99l,C$99t[12]=(C$99o*C$99S-C$99a*C$99D-C$99h*C$99M)*C$99l,C$99t[13]=(C$99i*C$99D-C$99n*C$99S+C$99r*C$99M)*C$99l,C$99t[14]=(C$99m*C$99x-C$99p*C$99b-C$99g*C$99v)*C$99l,C$99t[15]=(C$99_*C$99b-C$99u*C$99x+C$99d*C$99v)*C$99l)},C$99s.identity=function(){var C$99t=this.elements;C$99t[1]=C$99t[2]=C$99t[3]=C$99t[4]=C$99t[6]=C$99t[7]=C$99t[8]=C$99t[9]=C$99t[11]=C$99t[12]=C$99t[13]=C$99t[14]=0,C$99t[0]=C$99t[5]=C$99t[10]=C$99t[15]=1},C$99s.cloneTo=function(C$99t){var C$99e,C$99i,C$99n;if((C$99i=this.elements)!==(C$99n=C$99t.elements))for(C$99e=0;C$99e<16;++C$99e)C$99n[C$99e]=C$99i[C$99e]},C$99s.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99s.getTranslationVector=function(C$99t){var C$99e=this.elements,C$99t=C$99t.elements;C$99t[0]=C$99e[12],C$99t[1]=C$99e[13],C$99t[2]=C$99e[14]},C$99s.setTranslationVector=function(C$99t){var C$99e=this.elements,C$99t=C$99t.elements;C$99e[12]=C$99t[0],C$99e[13]=C$99t[1],C$99e[14]=C$99t[2]},C$99s.getForward=function(C$99t){var C$99e=this.elements,C$99t=C$99t.elements;C$99t[0]=-C$99e[8],C$99t[1]=-C$99e[9],C$99t[2]=-C$99e[10]},C$99s.setForward=function(C$99t){var C$99e=this.elements,C$99t=C$99t.elements;C$99e[8]=-C$99t[0],C$99e[9]=-C$99t[1],C$99e[10]=-C$99t[2]},ey_x0.createRotationX=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[1]=C$99e[2]=C$99e[3]=C$99e[4]=C$99e[7]=C$99e[8]=C$99e[11]=C$99e[12]=C$99e[13]=C$99e[14]=0,C$99e[0]=C$99e[15]=1,C$99e[5]=C$99e[10]=C$99t,C$99e[6]=C$99i,C$99e[9]=-C$99i},ey_x0.createRotationY=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[1]=C$99e[3]=C$99e[4]=C$99e[6]=C$99e[7]=C$99e[9]=C$99e[11]=C$99e[12]=C$99e[13]=C$99e[14]=0,C$99e[5]=C$99e[15]=1,C$99e[0]=C$99e[10]=C$99t,C$99e[2]=-C$99i,C$99e[8]=C$99i},ey_x0.createRotationZ=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[2]=C$99e[3]=C$99e[6]=C$99e[7]=C$99e[8]=C$99e[9]=C$99e[11]=C$99e[12]=C$99e[13]=C$99e[14]=0,C$99e[10]=C$99e[15]=1,C$99e[0]=C$99e[5]=C$99t,C$99e[1]=C$99i,C$99e[4]=-C$99i},ey_x0.createRotationYawPitchRoll=function(C$99t,C$99e,C$99i,C$99n){C$99re.createFromYawPitchRoll(C$99t,C$99e,C$99i,ey_x0._tempQuaternion),ey_x0.createRotationQuaternion(ey_x0._tempQuaternion,C$99n)},ey_x0.createRotationAxis=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99t=C$99t[2],C$99s=Math.cos(C$99e),C$99e=Math.sin(C$99e),C$99a=C$99n*C$99n,C$99c=C$99r*C$99r,C$99_=C$99t*C$99t,C$99o=C$99n*C$99r,C$99h=C$99n*C$99t,C$99l=C$99r*C$99t,C$99i=C$99i.elements;C$99i[3]=C$99i[7]=C$99i[11]=C$99i[12]=C$99i[13]=C$99i[14]=0,C$99i[15]=1,C$99i[0]=C$99a+C$99s*(1-C$99a),C$99i[1]=C$99o-C$99s*C$99o+C$99e*C$99t,C$99i[2]=C$99h-C$99s*C$99h-C$99e*C$99r,C$99i[4]=C$99o-C$99s*C$99o-C$99e*C$99t,C$99i[5]=C$99c+C$99s*(1-C$99c),C$99i[6]=C$99l-C$99s*C$99l+C$99e*C$99n,C$99i[8]=C$99h-C$99s*C$99h+C$99e*C$99r,C$99i[9]=C$99l-C$99s*C$99l-C$99e*C$99n,C$99i[10]=C$99_+C$99s*(1-C$99_)},ey_x0.createRotationQuaternion=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99t[0],C$99n=C$99t[1],C$99r=C$99t[2],C$99t=C$99t[3],C$99s=C$99i*C$99i,C$99a=C$99n*C$99n,C$99o=C$99r*C$99r,C$99h=C$99i*C$99n,C$99l=C$99r*C$99t,C$99c=C$99r*C$99i,C$99_=C$99n*C$99t,C$99n=C$99n*C$99r,C$99r=C$99i*C$99t;C$99e[3]=C$99e[7]=C$99e[11]=C$99e[12]=C$99e[13]=C$99e[14]=0,C$99e[15]=1,C$99e[0]=1-2*(C$99a+C$99o),C$99e[1]=2*(C$99h+C$99l),C$99e[2]=2*(C$99c-C$99_),C$99e[4]=2*(C$99h-C$99l),C$99e[5]=1-2*(C$99o+C$99s),C$99e[6]=2*(C$99n+C$99r),C$99e[8]=2*(C$99c+C$99_),C$99e[9]=2*(C$99n-C$99r),C$99e[10]=1-2*(C$99a+C$99s)},ey_x0.createTranslate=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;C$99e[4]=C$99e[8]=C$99e[1]=C$99e[9]=C$99e[2]=C$99e[6]=C$99e[3]=C$99e[7]=C$99e[11]=0,C$99e[0]=C$99e[5]=C$99e[10]=C$99e[15]=1,C$99e[12]=C$99t[0],C$99e[13]=C$99t[1],C$99e[14]=C$99t[2]},ey_x0.createScaling=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;C$99e[0]=C$99t[0],C$99e[5]=C$99t[1],C$99e[10]=C$99t[2],C$99e[1]=C$99e[4]=C$99e[8]=C$99e[12]=C$99e[9]=C$99e[13]=C$99e[2]=C$99e[6]=C$99e[14]=C$99e[3]=C$99e[7]=C$99e[11]=0,C$99e[15]=1},ey_x0.multiply=function(C$99t,C$99e,C$99c){var C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l;for(C$99n=C$99c.elements,C$99r=C$99t.elements,C$99n===(C$99s=C$99e.elements)&&(C$99s=C$99s.slice()),C$99i=0;C$99i<4;C$99i++)C$99a=C$99r[C$99i],C$99o=C$99r[C$99i+4],C$99h=C$99r[C$99i+8],C$99l=C$99r[C$99i+12],C$99n[C$99i]=C$99a*C$99s[0]+C$99o*C$99s[1]+C$99h*C$99s[2]+C$99l*C$99s[3],C$99n[C$99i+4]=C$99a*C$99s[4]+C$99o*C$99s[5]+C$99h*C$99s[6]+C$99l*C$99s[7],C$99n[C$99i+8]=C$99a*C$99s[8]+C$99o*C$99s[9]+C$99h*C$99s[10]+C$99l*C$99s[11],C$99n[C$99i+12]=C$99a*C$99s[12]+C$99o*C$99s[13]+C$99h*C$99s[14]+C$99l*C$99s[15]},ey_x0.createFromQuaternion=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99t=C$99t.elements,C$99i=C$99t[0],C$99n=C$99t[1],C$99r=C$99t[2],C$99t=C$99t[3],C$99s=C$99i+C$99i,C$99a=C$99n+C$99n,C$99o=C$99r+C$99r,C$99i=C$99i*C$99s,C$99h=C$99n*C$99s,C$99n=C$99n*C$99a,C$99l=C$99r*C$99s,C$99c=C$99r*C$99a,C$99r=C$99r*C$99o,C$99s=C$99t*C$99s,C$99a=C$99t*C$99a,C$99t=C$99t*C$99o;C$99e[0]=1-C$99n-C$99r,C$99e[1]=C$99h+C$99t,C$99e[2]=C$99l-C$99a,C$99e[3]=0,C$99e[4]=C$99h-C$99t,C$99e[5]=1-C$99i-C$99r,C$99e[6]=C$99c+C$99s,C$99e[7]=0,C$99e[8]=C$99l+C$99a,C$99e[9]=C$99c-C$99s,C$99e[10]=1-C$99i-C$99n,C$99e[11]=0,C$99e[12]=0,C$99e[13]=0,C$99e[14]=0,C$99e[15]=1},ey_x0.createAffineTransformation=function(C$99t,C$99e,C$99i,C$99n){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99i.elements,C$99n=C$99n.elements,C$99r=C$99e[0],C$99s=C$99e[1],C$99a=C$99e[2],C$99e=C$99e[3],C$99o=C$99r+C$99r,C$99h=C$99s+C$99s,C$99l=C$99a+C$99a,C$99c=C$99r*C$99o,C$99_=C$99r*C$99h,C$99r=C$99r*C$99l,C$99u=C$99s*C$99h,C$99s=C$99s*C$99l,C$99a=C$99a*C$99l,C$99o=C$99e*C$99o,C$99h=C$99e*C$99h,C$99e=C$99e*C$99l,C$99l=C$99i[0],C$99d=C$99i[1],C$99i=C$99i[2];C$99n[0]=(1-(C$99u+C$99a))*C$99l,C$99n[1]=(C$99_+C$99e)*C$99l,C$99n[2]=(C$99r-C$99h)*C$99l,C$99n[3]=0,C$99n[4]=(C$99_-C$99e)*C$99d,C$99n[5]=(1-(C$99c+C$99a))*C$99d,C$99n[6]=(C$99s+C$99o)*C$99d,C$99n[7]=0,C$99n[8]=(C$99r+C$99h)*C$99i,C$99n[9]=(C$99s-C$99o)*C$99i,C$99n[10]=(1-(C$99c+C$99u))*C$99i,C$99n[11]=0,C$99n[12]=C$99t[0],C$99n[13]=C$99t[1],C$99n[14]=C$99t[2],C$99n[15]=1},ey_x0.createLookAt=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99n.elements,C$99s=ey_x0._tempVector0,C$99a=ey_x0._tempVector1,C$99o=ey_x0._tempVector2;C$99A.subtract(C$99t,C$99e,C$99o),C$99A.normalize(C$99o,C$99o),C$99A.cross(C$99i,C$99o,C$99s),C$99A.normalize(C$99s,C$99s),C$99A.cross(C$99o,C$99s,C$99a),C$99n.identity(),C$99r[0]=C$99s.x,C$99r[4]=C$99s.y,C$99r[8]=C$99s.z,C$99r[1]=C$99a.x,C$99r[5]=C$99a.y,C$99r[9]=C$99a.z,C$99r[2]=C$99o.x,C$99r[6]=C$99o.y,C$99r[10]=C$99o.z,C$99r[12]=-C$99A.dot(C$99s,C$99t),C$99r[13]=-C$99A.dot(C$99a,C$99t),C$99r[14]=-C$99A.dot(C$99o,C$99t)},ey_x0.createPerspective=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99r=C$99r.elements,C$99t=1/Math.tan(C$99t/2),C$99s=1/(C$99i-C$99n);C$99r[0]=C$99t/C$99e,C$99r[5]=C$99t,C$99r[10]=(C$99n+C$99i)*C$99s,C$99r[11]=-1,C$99r[14]=2*C$99n*C$99i*C$99s,C$99r[1]=C$99r[2]=C$99r[3]=C$99r[4]=C$99r[6]=C$99r[7]=C$99r[8]=C$99r[9]=C$99r[12]=C$99r[13]=C$99r[15]=0},ey_x0.createOrthoOffCenterRH=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){var C$99a=C$99a.elements,C$99o=1/(C$99t-C$99e),C$99h=1/(C$99i-C$99n),C$99l=1/(C$99r-C$99s);C$99a[1]=C$99a[2]=C$99a[3]=C$99a[4]=C$99a[6]=C$99a[7]=C$99a[8]=C$99a[9]=C$99a[11]=0,C$99a[15]=1,C$99a[0]=-2*C$99o,C$99a[5]=-2*C$99h,C$99a[10]=2*C$99l,C$99a[12]=(C$99t+C$99e)*C$99o,C$99a[13]=(C$99n+C$99i)*C$99h,C$99a[14]=(C$99s+C$99r)*C$99l},ey_x0.translation=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;C$99e[0]=C$99e[5]=C$99e[10]=C$99e[15]=1,C$99e[12]=C$99t[0],C$99e[13]=C$99t[1],C$99e[14]=C$99t[2]},C$99h(ey_x0,["_tempMatrix4x4",function(){return this._tempMatrix4x4=new ey_x0},"_tempVector0",function(){return this._tempVector0=new C$99A},"_tempVector1",function(){return this._tempVector1=new C$99A},"_tempVector2",function(){return this._tempVector2=new C$99A},"_tempQuaternion",function(){return this._tempQuaternion=new C$99re},"DEFAULT",function(){return this.DEFAULT=new ey_x0},"ZERO",function(){return this.ZERO=new ey_x0(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}]),ey_x0),C$99ne=(C$99t(_ymxq,"laya.d3.math.OrientedBoundBox"),(C$99s=_ymxq.prototype).getCorners=function(C$99t){var C$99e=_ymxq._tempV30.elements,C$99i=_ymxq._tempV31.elements,C$99n=_ymxq._tempV32.elements,C$99r=this.extents.elements;C$99e[0]=C$99r[0],C$99e[1]=C$99e[2]=0,C$99i[1]=C$99r[1],C$99i[0]=C$99i[2]=0,C$99n[2]=C$99r[2],C$99n[0]=C$99n[1]=0,C$99A.TransformNormal(_ymxq._tempV30,this.transformation,_ymxq._tempV30),C$99A.TransformNormal(_ymxq._tempV31,this.transformation,_ymxq._tempV31),C$99A.TransformNormal(_ymxq._tempV32,this.transformation,_ymxq._tempV32);C$99e=_ymxq._tempV33;this.transformation.getTranslationVector(C$99e),C$99t.length=8,C$99A.add(C$99e,_ymxq._tempV30,_ymxq._tempV34),C$99A.add(_ymxq._tempV34,_ymxq._tempV31,_ymxq._tempV34),C$99A.add(_ymxq._tempV34,_ymxq._tempV32,C$99t[0]),C$99A.add(C$99e,_ymxq._tempV30,_ymxq._tempV34),C$99A.add(_ymxq._tempV34,_ymxq._tempV31,_ymxq._tempV34),C$99A.subtract(_ymxq._tempV34,_ymxq._tempV32,C$99t[1]),C$99A.subtract(C$99e,_ymxq._tempV30,_ymxq._tempV34),C$99A.add(_ymxq._tempV34,_ymxq._tempV31,_ymxq._tempV34),C$99A.subtract(_ymxq._tempV34,_ymxq._tempV32,C$99t[2]),C$99A.subtract(C$99e,_ymxq._tempV30,_ymxq._tempV34),C$99A.add(_ymxq._tempV34,_ymxq._tempV31,_ymxq._tempV34),C$99A.add(_ymxq._tempV34,_ymxq._tempV32,C$99t[3]),C$99A.add(C$99e,_ymxq._tempV30,_ymxq._tempV34),C$99A.subtract(_ymxq._tempV34,_ymxq._tempV31,_ymxq._tempV34),C$99A.add(_ymxq._tempV34,_ymxq._tempV32,C$99t[4]),C$99A.add(C$99e,_ymxq._tempV30,_ymxq._tempV34),C$99A.subtract(_ymxq._tempV34,_ymxq._tempV31,_ymxq._tempV34),C$99A.subtract(_ymxq._tempV34,_ymxq._tempV32,C$99t[5]),C$99A.subtract(C$99e,_ymxq._tempV30,_ymxq._tempV34),C$99A.subtract(_ymxq._tempV34,_ymxq._tempV31,_ymxq._tempV34),C$99A.subtract(_ymxq._tempV34,_ymxq._tempV32,C$99t[6]),C$99A.subtract(C$99e,_ymxq._tempV30,_ymxq._tempV34),C$99A.subtract(_ymxq._tempV34,_ymxq._tempV31,_ymxq._tempV34),C$99A.add(_ymxq._tempV34,_ymxq._tempV32,C$99t[7])},C$99s.transform=function(C$99t){C$99ie.multiply(this.transformation,C$99t,this.transformation)},C$99s.scale=function(C$99t){C$99A.multiply(this.extents,C$99t,this.extents)},C$99s.translate=function(C$99t){this.transformation.getTranslationVector(_ymxq._tempV30),C$99A.add(_ymxq._tempV30,C$99t,_ymxq._tempV31),this.transformation.setTranslationVector(_ymxq._tempV31)},C$99s.Size=function(C$99t){C$99A.scale(this.extents,2,C$99t)},C$99s.getSize=function(C$99t){var C$99e=this.extents.elements;_ymxq._tempV30.x=C$99e[0],_ymxq._tempV31.y=C$99e[1],_ymxq._tempV32.z=C$99e[2],C$99A.TransformNormal(_ymxq._tempV30,this.transformation,_ymxq._tempV30),C$99A.TransformNormal(_ymxq._tempV31,this.transformation,_ymxq._tempV31),C$99A.TransformNormal(_ymxq._tempV31,this.transformation,_ymxq._tempV32);C$99e=C$99t.elements;C$99e[0]=C$99A.scalarLength(_ymxq._tempV30),C$99e[1]=C$99A.scalarLength(_ymxq._tempV31),C$99e[2]=C$99A.scalarLength(_ymxq._tempV32)},C$99s.getSizeSquared=function(C$99t){var C$99e=this.extents.elements;_ymxq._tempV30.x=C$99e[0],_ymxq._tempV31.y=C$99e[1],_ymxq._tempV32.z=C$99e[2],C$99A.TransformNormal(_ymxq._tempV30,this.transformation,_ymxq._tempV30),C$99A.TransformNormal(_ymxq._tempV31,this.transformation,_ymxq._tempV31),C$99A.TransformNormal(_ymxq._tempV31,this.transformation,_ymxq._tempV32);C$99e=C$99t.elements;C$99e[0]=C$99A.scalarLengthSquared(_ymxq._tempV30),C$99e[1]=C$99A.scalarLengthSquared(_ymxq._tempV31),C$99e[2]=C$99A.scalarLengthSquared(_ymxq._tempV32)},C$99s.getCenter=function(C$99t){this.transformation.getTranslationVector(C$99t)},C$99s.containsPoint=function(C$99t){var C$99e=this.extents.elements,C$99i=C$99e[0],C$99n=C$99e[1],C$99e=C$99e[2];this.transformation.invert(_ymxq._tempM0),C$99A.transformCoordinate(C$99t,_ymxq._tempM0,_ymxq._tempV30);var C$99t=_ymxq._tempV30.elements,C$99r=Math.abs(C$99t[0]),C$99s=Math.abs(C$99t[1]),C$99t=Math.abs(C$99t[2]);return C$99te.nearEqual(C$99r,C$99i)&&C$99te.nearEqual(C$99s,C$99n)&&C$99te.nearEqual(C$99t,C$99e)?2:C$99r<C$99i&&C$99s<C$99n&&C$99t<C$99e?1:0},C$99s.containsPoints=function(C$99t){var C$99e=this.extents.elements,C$99i=C$99e[0],C$99n=C$99e[1],C$99r=C$99e[2];this.transformation.invert(_ymxq._tempM0);for(var C$99s=!0,C$99a=!1,C$99o=0;C$99o<C$99t.length;C$99o++){C$99A.transformCoordinate(C$99t[C$99o],_ymxq._tempM0,_ymxq._tempV30);var C$99h=_ymxq._tempV30.elements,C$99l=Math.abs(C$99h[0]),C$99c=Math.abs(C$99h[1]),C$99h=Math.abs(C$99h[2]);C$99te.nearEqual(C$99l,C$99i)&&C$99te.nearEqual(C$99c,C$99n)&&C$99te.nearEqual(C$99h,C$99r)&&(C$99a=!0),C$99l<C$99i&&C$99c<C$99n&&C$99h<C$99r?C$99a=!0:C$99s=!1}return C$99s?1:C$99a?2:0},C$99s.containsSphere=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!1);var C$99i=this.extents.elements,C$99n=C$99i[0],C$99r=C$99i[1],C$99i=C$99i[2],C$99s=C$99t.radius;this.transformation.invert(_ymxq._tempM0),C$99A.transformCoordinate(C$99t.center,_ymxq._tempM0,_ymxq._tempV30);if(C$99t=C$99e?C$99s:(C$99A.scale(C$99A.UnitX,C$99s,_ymxq._tempV31),C$99A.TransformNormal(_ymxq._tempV31,_ymxq._tempM0,_ymxq._tempV31),C$99A.scalarLength(_ymxq._tempV31)),C$99A.scale(this.extents,-1,_ymxq._tempV32),C$99A.Clamp(_ymxq._tempV30,_ymxq._tempV32,this.extents,_ymxq._tempV33),C$99t*C$99t<C$99A.distanceSquared(_ymxq._tempV30,_ymxq._tempV33))return 0;var C$99e=_ymxq._tempV30.elements,C$99s=C$99e[0],C$99a=C$99e[1],C$99e=C$99e[2],C$99o=_ymxq._tempV32.elements,C$99h=C$99o[0],C$99l=C$99o[1],C$99o=C$99o[2];return C$99h+C$99t<=C$99s&&C$99s<=C$99n-C$99t&&C$99t<C$99n-C$99h&&C$99l+C$99t<=C$99a&&C$99a<=C$99r-C$99t&&C$99t<C$99r-C$99l&&C$99o+C$99t<=C$99e&&C$99e<=C$99i-C$99t&&C$99t<C$99i-C$99o?1:2},C$99s.containsOrientedBoundBox=function(C$99t){var C$99e=0,C$99i=0;C$99t.getCorners(_ymxq._corners);var C$99c=this.containsPoints(_ymxq._corners);if(0!=C$99c)return C$99c;var C$99n=this.extents.elements;C$99t.extents.cloneTo(_ymxq._tempV35);var C$99r=_ymxq._tempV35.elements;_ymxq._getRows(this.transformation,_ymxq._rows1),_ymxq._getRows(C$99t.transformation,_ymxq._rows2);var C$99s;for(C$99e=0;C$99e<4;C$99e++)for(C$99i=0;C$99i<4;C$99i++)3==C$99e||3==C$99i?(_ymxq._tempM0.setElementByRowColumn(C$99e,C$99i,0),_ymxq._tempM1.setElementByRowColumn(C$99e,C$99i,0)):(C$99s=C$99A.dot(_ymxq._rows1[C$99e],_ymxq._rows2[C$99i]),_ymxq._tempM0.setElementByRowColumn(C$99e,C$99i,C$99s),_ymxq._tempM1.setElementByRowColumn(C$99e,C$99i,Math.abs(C$99s)));C$99t.getCenter(_ymxq._tempV34),this.getCenter(_ymxq._tempV36),C$99A.subtract(_ymxq._tempV34,_ymxq._tempV36,_ymxq._tempV30);var C$99a=_ymxq._tempV31.elements;C$99a[0]=C$99A.dot(_ymxq._tempV30,_ymxq._rows1[0]),C$99a[1]=C$99A.dot(_ymxq._tempV30,_ymxq._rows1[1]),C$99a[2]=C$99A.dot(_ymxq._tempV30,_ymxq._rows1[2]);var C$99o=_ymxq._tempV32.elements,C$99_=_ymxq._tempV33.elements;for(C$99e=0;C$99e<3;C$99e++)if(C$99o[0]=_ymxq._tempM1.getElementByRowColumn(C$99e,0),C$99o[1]=_ymxq._tempM1.getElementByRowColumn(C$99e,1),C$99o[2]=_ymxq._tempM1.getElementByRowColumn(C$99e,2),C$99n[C$99e]+C$99A.dot(_ymxq._tempV35,_ymxq._tempV32)<Math.abs(C$99a[C$99e]))return 0;for(C$99i=0;C$99i<3;C$99i++)if(C$99o[0]=_ymxq._tempM1.getElementByRowColumn(0,C$99i),C$99o[1]=_ymxq._tempM1.getElementByRowColumn(1,C$99i),C$99o[2]=_ymxq._tempM1.getElementByRowColumn(2,C$99i),C$99_[0]=_ymxq._tempM0.getElementByRowColumn(0,C$99i),C$99_[1]=_ymxq._tempM0.getElementByRowColumn(1,C$99i),C$99_[2]=_ymxq._tempM0.getElementByRowColumn(2,C$99i),C$99A.dot(this.extents,_ymxq._tempV32)+C$99r[C$99i]<Math.abs(C$99A.dot(_ymxq._tempV31,_ymxq._tempV33)))return 0;for(C$99e=0;C$99e<3;C$99e++)for(C$99i=0;C$99i<3;C$99i++){var C$99h=(C$99e+1)%3,C$99l=(C$99e+2)%3,C$99u=(C$99i+1)%3,C$99d=(C$99i+2)%3;if(C$99n[C$99h]*_ymxq._tempM1.getElementByRowColumn(C$99l,C$99i)+C$99n[C$99l]*_ymxq._tempM1.getElementByRowColumn(C$99h,C$99i)+(C$99r[C$99u]*_ymxq._tempM1.getElementByRowColumn(C$99e,C$99d)+C$99r[C$99d]*_ymxq._tempM1.getElementByRowColumn(C$99e,C$99u))<Math.abs(C$99a[C$99l]*_ymxq._tempM0.getElementByRowColumn(C$99h,C$99i)-C$99a[C$99h]*_ymxq._tempM0.getElementByRowColumn(C$99l,C$99i)))return 0}return 2},C$99s.containsLine=function(C$99t,C$99e){_ymxq._corners[0]=C$99t,_ymxq._corners[1]=C$99e;var C$99i=this.containsPoints(_ymxq._corners);if(0!=C$99i)return C$99i;var C$99i=this.extents.elements,C$99n=C$99i[0],C$99r=C$99i[1],C$99i=C$99i[2];this.transformation.invert(_ymxq._tempM0),C$99A.transformCoordinate(C$99t,_ymxq._tempM0,_ymxq._tempV30),C$99A.transformCoordinate(C$99e,_ymxq._tempM0,_ymxq._tempV31),C$99A.add(_ymxq._tempV30,_ymxq._tempV31,_ymxq._tempV32),C$99A.scale(_ymxq._tempV32,.5,_ymxq._tempV32),C$99A.subtract(_ymxq._tempV30,_ymxq._tempV32,_ymxq._tempV33);var C$99t=_ymxq._tempV33.elements,C$99e=C$99t[0],C$99c=C$99t[1],C$99_=C$99t[2],C$99s=_ymxq._tempV34.elements,C$99a=C$99s[0]=Math.abs(C$99t[0]),C$99o=C$99s[1]=Math.abs(C$99t[1]),C$99s=C$99s[2]=Math.abs(C$99t[2]),C$99t=_ymxq._tempV32.elements,C$99h=C$99t[0],C$99l=C$99t[1],C$99t=C$99t[2];return Math.abs(C$99h)>C$99n+C$99a||Math.abs(C$99l)>C$99r+C$99o||Math.abs(C$99t)>C$99i+C$99s||Math.abs(C$99l*C$99_-C$99t*C$99c)>C$99r*C$99s+C$99i*C$99o||Math.abs(C$99h*C$99_-C$99t*C$99e)>C$99n*C$99s+C$99i*C$99a||Math.abs(C$99h*C$99c-C$99l*C$99e)>C$99n*C$99o+C$99r*C$99a?0:2},C$99s.containsBoundBox=function(C$99t){var C$99e=0,C$99i=0,C$99c=C$99t.min,C$99_=C$99t.max;C$99t.getCorners(_ymxq._corners);C$99t=this.containsPoints(_ymxq._corners);if(0!=C$99t)return C$99t;C$99A.subtract(C$99_,C$99c,_ymxq._tempV30),C$99A.scale(_ymxq._tempV30,.5,_ymxq._tempV30),C$99A.add(C$99c,_ymxq._tempV30,_ymxq._tempV30),C$99A.subtract(C$99_,_ymxq._tempV30,_ymxq._tempV31);var C$99n=this.extents.elements,C$99r=_ymxq._tempV31.elements;for(_ymxq._getRows(this.transformation,_ymxq._rows1),this.transformation.invert(_ymxq._tempM0),C$99e=0;C$99e<3;C$99e++)for(C$99i=0;C$99i<3;C$99i++)_ymxq._tempM1.setElementByRowColumn(C$99e,C$99i,Math.abs(_ymxq._tempM0.getElementByRowColumn(C$99e,C$99i)));this.getCenter(_ymxq._tempV35),C$99A.subtract(_ymxq._tempV30,_ymxq._tempV35,_ymxq._tempV32);var C$99s=_ymxq._tempV31.elements;C$99s[0]=C$99A.dot(_ymxq._tempV32,_ymxq._rows1[0]),C$99s[1]=C$99A.dot(_ymxq._tempV32,_ymxq._rows1[1]),C$99s[2]=C$99A.dot(_ymxq._tempV32,_ymxq._rows1[2]);var C$99a=_ymxq._tempV33.elements,C$99o=_ymxq._tempV34.elements;for(C$99e=0;C$99e<3;C$99e++)if(C$99a[0]=_ymxq._tempM1.getElementByRowColumn(C$99e,0),C$99a[1]=_ymxq._tempM1.getElementByRowColumn(C$99e,1),C$99a[2]=_ymxq._tempM1.getElementByRowColumn(C$99e,2),C$99n[C$99e]+C$99A.dot(_ymxq._tempV31,_ymxq._tempV33)<Math.abs(C$99s[C$99e]))return 0;for(C$99i=0;C$99i<3;C$99i++)if(C$99a[0]=_ymxq._tempM1.getElementByRowColumn(0,C$99i),C$99a[1]=_ymxq._tempM1.getElementByRowColumn(1,C$99i),C$99a[2]=_ymxq._tempM1.getElementByRowColumn(2,C$99i),C$99o[0]=_ymxq._tempM0.getElementByRowColumn(0,C$99i),C$99o[1]=_ymxq._tempM0.getElementByRowColumn(1,C$99i),C$99o[2]=_ymxq._tempM0.getElementByRowColumn(2,C$99i),C$99A.dot(this.extents,_ymxq._tempV33)+C$99r[C$99i]<Math.abs(C$99A.dot(_ymxq._tempV31,_ymxq._tempV34)))return 0;for(C$99e=0;C$99e<3;C$99e++)for(C$99i=0;C$99i<3;C$99i++){var C$99h=(C$99e+1)%3,C$99l=(C$99e+2)%3,C$99u=(C$99i+1)%3,C$99d=(C$99i+2)%3;if(C$99n[C$99h]*_ymxq._tempM1.getElementByRowColumn(C$99l,C$99i)+C$99n[C$99l]*_ymxq._tempM1.getElementByRowColumn(C$99h,C$99i)+(C$99r[C$99u]*_ymxq._tempM1.getElementByRowColumn(C$99e,C$99d)+C$99r[C$99d]*_ymxq._tempM1.getElementByRowColumn(C$99e,C$99u))<Math.abs(C$99s[C$99l]*_ymxq._tempM0.getElementByRowColumn(C$99h,C$99i)-C$99s[C$99h]*_ymxq._tempM0.getElementByRowColumn(C$99l,C$99i)))return 0}return 2},C$99s.intersectsRay=function(C$99t,C$99e){C$99A.scale(this.extents,-1,_ymxq._tempV30),this.transformation.invert(_ymxq._tempM0),C$99A.TransformNormal(C$99t.direction,_ymxq._tempM0,_ymxq._ray.direction),C$99A.transformCoordinate(C$99t.origin,_ymxq._tempM0,_ymxq._ray.origin),_ymxq._boxBound1.min=_ymxq._tempV30,_ymxq._boxBound1.max=this.extents;C$99t=Collision.intersectsRayAndBoxRP(_ymxq._ray,_ymxq._boxBound1,C$99e);return-1!==C$99t&&C$99A.transformCoordinate(C$99e,this.transformation,C$99e),C$99t},C$99s._getLocalCorners=function(C$99t){C$99t.length=8;var C$99e=this.extents.elements;_ymxq._tempV30.x=C$99e[0],_ymxq._tempV31.y=C$99e[1],_ymxq._tempV32.z=C$99e[2],C$99A.add(_ymxq._tempV30,_ymxq._tempV31,_ymxq._tempV33),C$99A.add(_ymxq._tempV33,_ymxq._tempV32,C$99t[0]),C$99A.add(_ymxq._tempV30,_ymxq._tempV31,_ymxq._tempV33),C$99A.subtract(_ymxq._tempV33,_ymxq._tempV32,C$99t[1]),C$99A.subtract(_ymxq._tempV31,_ymxq._tempV30,_ymxq._tempV33),C$99A.subtract(_ymxq._tempV33,_ymxq._tempV30,C$99t[2]),C$99A.subtract(_ymxq._tempV31,_ymxq._tempV30,_ymxq._tempV33),C$99A.add(_ymxq._tempV33,_ymxq._tempV32,C$99t[3]),C$99A.subtract(_ymxq._tempV30,_ymxq._tempV31,_ymxq._tempV33),C$99A.add(_ymxq._tempV33,_ymxq._tempV32,C$99t[4]),C$99A.subtract(_ymxq._tempV30,_ymxq._tempV31,_ymxq._tempV33),C$99A.subtract(_ymxq._tempV33,_ymxq._tempV32,C$99t[5]),C$99A.scale(C$99t[0],-1,C$99t[6]),C$99A.subtract(_ymxq._tempV32,_ymxq._tempV30,_ymxq._tempV33),C$99A.subtract(_ymxq._tempV33,_ymxq._tempV31,C$99t[7])},C$99s.equals=function(C$99t){return this.extents==C$99t.extents&&this.transformation==C$99t.transformation},C$99s.cloneTo=function(C$99t){this.extents.cloneTo(C$99t.extents),this.transformation.cloneTo(C$99t.transformation)},_ymxq.createByBoundBox=function(C$99t,C$99e){var C$99i=C$99t.min,C$99t=C$99t.max;C$99A.subtract(C$99t,C$99i,_ymxq._tempV30),C$99A.scale(_ymxq._tempV30,.5,_ymxq._tempV30),C$99A.add(C$99i,_ymxq._tempV30,_ymxq._tempV31),C$99A.subtract(C$99t,_ymxq._tempV31,_ymxq._tempV32),C$99ie.translation(_ymxq._tempV31,_ymxq._tempM0);C$99i=_ymxq._tempV32.clone(),C$99t=_ymxq._tempM0.clone();C$99e.extents=C$99i,C$99e.transformation=C$99t},_ymxq.createByMinAndMaxVertex=function(C$99t,C$99e){return C$99A.subtract(C$99e,C$99t,_ymxq._tempV30),C$99A.scale(_ymxq._tempV30,.5,_ymxq._tempV30),C$99A.add(C$99t,_ymxq._tempV30,_ymxq._tempV31),C$99A.subtract(C$99e,_ymxq._tempV31,_ymxq._tempV32),C$99ie.translation(_ymxq._tempV31,_ymxq._tempM0),new _ymxq(_ymxq._tempV32,_ymxq._tempM0)},_ymxq._getRows=function(C$99t,C$99e){C$99e.length=3;var C$99t=C$99t.elements,C$99i=C$99e[0].elements;C$99i[0]=C$99t[0],C$99i[1]=C$99t[1],C$99i[2]=C$99t[2];C$99i=C$99e[1].elements;C$99i[0]=C$99t[4],C$99i[1]=C$99t[5],C$99i[2]=C$99t[6];C$99i=C$99e[2].elements;C$99i[0]=C$99t[8],C$99i[1]=C$99t[9],C$99i[2]=C$99t[10]},_ymxq.getObbtoObbMatrix4x4=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.transformation,C$99s=C$99e.transformation;if(C$99i){_ymxq._getRows(C$99r,_ymxq._rows1),_ymxq._getRows(C$99s,_ymxq._rows2);for(var C$99a=0;C$99a<3;C$99a++)for(var C$99o=0;C$99o<3;C$99o++)C$99n.setElementByRowColumn(C$99a,C$99o,C$99A.dot(_ymxq._rows2[C$99a],_ymxq._rows1[C$99o]));C$99e.getCenter(_ymxq._tempV30),C$99t.getCenter(_ymxq._tempV31),C$99A.subtract(_ymxq._tempV30,_ymxq._tempV31,_ymxq._tempV32);C$99i=C$99n.elements;C$99i[12]=C$99A.dot(_ymxq._tempV32,_ymxq._rows1[0]),C$99i[13]=C$99A.dot(_ymxq._tempV32,_ymxq._rows1[1]),C$99i[14]=C$99A.dot(_ymxq._tempV32,_ymxq._rows1[2]),C$99i[15]=1}else C$99r.invert(_ymxq._tempM0),C$99ie.multiply(C$99s,_ymxq._tempM0,C$99n)},_ymxq.merge=function(C$99t,C$99e,C$99i){var C$99n=C$99t.extents,C$99r=C$99t.transformation;_ymxq.getObbtoObbMatrix4x4(C$99t,C$99e,C$99i,_ymxq._tempM0),C$99e._getLocalCorners(_ymxq._corners),C$99A.transformCoordinate(_ymxq._corners[0],_ymxq._tempM0,_ymxq._corners[0]),C$99A.transformCoordinate(_ymxq._corners[1],_ymxq._tempM0,_ymxq._corners[1]),C$99A.transformCoordinate(_ymxq._corners[2],_ymxq._tempM0,_ymxq._corners[2]),C$99A.transformCoordinate(_ymxq._corners[3],_ymxq._tempM0,_ymxq._corners[3]),C$99A.transformCoordinate(_ymxq._corners[4],_ymxq._tempM0,_ymxq._corners[4]),C$99A.transformCoordinate(_ymxq._corners[5],_ymxq._tempM0,_ymxq._corners[5]),C$99A.transformCoordinate(_ymxq._corners[6],_ymxq._tempM0,_ymxq._corners[6]),C$99A.transformCoordinate(_ymxq._corners[7],_ymxq._tempM0,_ymxq._corners[7]),C$99A.scale(C$99n,-1,_ymxq._boxBound1.min),C$99n.cloneTo(_ymxq._boxBound1.max),C$99Zt.createfromPoints(_ymxq._corners,_ymxq._boxBound2),C$99Zt.merge(_ymxq._boxBound2,_ymxq._boxBound1,_ymxq._boxBound3);C$99t=_ymxq._boxBound3.min,C$99i=_ymxq._boxBound3.max;C$99A.subtract(C$99i,C$99t,_ymxq._tempV30),C$99A.scale(_ymxq._tempV30,.5,_ymxq._tempV30),C$99A.add(C$99t,_ymxq._tempV30,_ymxq._tempV32),C$99A.subtract(C$99i,_ymxq._tempV32,C$99n),C$99A.transformCoordinate(_ymxq._tempV32,C$99r,_ymxq._tempV33)},C$99h(_ymxq,["_tempV30",function(){return this._tempV30=new C$99A},"_tempV31",function(){return this._tempV31=new C$99A},"_tempV32",function(){return this._tempV32=new C$99A},"_tempV33",function(){return this._tempV33=new C$99A},"_tempV34",function(){return this._tempV34=new C$99A},"_tempV35",function(){return this._tempV35=new C$99A},"_tempV36",function(){return this._tempV36=new C$99A},"_tempM0",function(){return this._tempM0=new C$99ie},"_tempM1",function(){return this._tempM1=new C$99ie},"_corners",function(){return this._corners=[new C$99A,new C$99A,new C$99A,new C$99A,new C$99A,new C$99A,new C$99A,new C$99A]},"_rows1",function(){return this._rows1=[new C$99A,new C$99A,new C$99A]},"_rows2",function(){return this._rows2=[new C$99A,new C$99A,new C$99A]},"_ray",function(){return this._ray=new C$99ae(new C$99A,new C$99A)},"_boxBound1",function(){return this._boxBound1=new C$99Zt(new C$99A,new C$99A)},"_boxBound2",function(){return this._boxBound2=new C$99Zt(new C$99A,new C$99A)},"_boxBound3",function(){return this._boxBound3=new C$99Zt(new C$99A,new C$99A)}]),C$99t(kbsr,"laya.d3.math.Plane"),kbsr.prototype.normalize=function(){var C$99t=this.normal.elements,C$99e=C$99t[0],C$99i=C$99t[1],C$99n=C$99t[2],C$99r=1/Math.sqrt(C$99e*C$99e+C$99i*C$99i+C$99n*C$99n);C$99t[0]=C$99e*C$99r,C$99t[1]=C$99i*C$99r,C$99t[2]=C$99n*C$99r,this.distance*=C$99r},kbsr.createPlaneBy3P=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99i.elements,C$99n=C$99e[0]-C$99t[0],C$99r=C$99e[1]-C$99t[1],C$99e=C$99e[2]-C$99t[2],C$99s=C$99i[0]-C$99t[0],C$99a=C$99i[1]-C$99t[1],C$99i=C$99i[2]-C$99t[2],C$99o=C$99r*C$99i-C$99e*C$99a,C$99e=C$99e*C$99s-C$99n*C$99i,C$99i=C$99n*C$99a-C$99r*C$99s,C$99n=1/Math.sqrt(C$99o*C$99o+C$99e*C$99e+C$99i*C$99i),C$99a=C$99o*C$99n,C$99r=C$99e*C$99n,C$99s=C$99i*C$99n,C$99o=kbsr._TEMPVec3.elements;C$99o[0]=C$99a,C$99o[1]=C$99r,C$99o[2]=C$99s;C$99e=-(C$99a*C$99t[0]+C$99r*C$99t[1]+C$99s*C$99t[2]);return new kbsr(kbsr._TEMPVec3,C$99e)},kbsr.PlaneIntersectionType_Back=0,kbsr.PlaneIntersectionType_Front=1,kbsr.PlaneIntersectionType_Intersecting=2,C$99h(kbsr,["_TEMPVec3",function(){return this._TEMPVec3=new C$99A}]),kbsr),C$99re=(C$99t(eo07xq,"laya.d3.math.Quaternion"),C$99s=eo07xq.prototype,C$99b.imps(C$99s,{"laya.d3.core.IClone":!0}),C$99s.scaling=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=this.elements;C$99e[0]=C$99i[0]*C$99t,C$99e[1]=C$99i[1]*C$99t,C$99e[2]=C$99i[2]*C$99t,C$99e[3]=C$99i[3]*C$99t},C$99s.normalize=function(C$99t){var C$99t=C$99t.elements,C$99e=this.elements,C$99i=C$99e[0],C$99n=C$99e[1],C$99r=C$99e[2],C$99e=C$99e[3],C$99s=C$99i*C$99i+C$99n*C$99n+C$99r*C$99r+C$99e*C$99e;0<C$99s&&(C$99s=1/Math.sqrt(C$99s),C$99t[0]=C$99i*C$99s,C$99t[1]=C$99n*C$99s,C$99t[2]=C$99r*C$99s,C$99t[3]=C$99e*C$99s)},C$99s.length=function(){var C$99t=this.elements,C$99e=C$99t[0],C$99i=C$99t[1],C$99n=C$99t[2],C$99t=C$99t[3];return Math.sqrt(C$99e*C$99e+C$99i*C$99i+C$99n*C$99n+C$99t*C$99t)},C$99s.rotateX=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=this.elements;C$99t*=.5;var C$99n=C$99i[0],C$99r=C$99i[1],C$99s=C$99i[2],C$99i=C$99i[3],C$99a=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[0]=C$99n*C$99t+C$99i*C$99a,C$99e[1]=C$99r*C$99t+C$99s*C$99a,C$99e[2]=C$99s*C$99t-C$99r*C$99a,C$99e[3]=C$99i*C$99t-C$99n*C$99a},C$99s.rotateY=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=this.elements;C$99t*=.5;var C$99n=C$99i[0],C$99r=C$99i[1],C$99s=C$99i[2],C$99i=C$99i[3],C$99a=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[0]=C$99n*C$99t-C$99s*C$99a,C$99e[1]=C$99r*C$99t+C$99i*C$99a,C$99e[2]=C$99s*C$99t+C$99n*C$99a,C$99e[3]=C$99i*C$99t-C$99r*C$99a},C$99s.rotateZ=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=this.elements;C$99t*=.5;var C$99n=C$99i[0],C$99r=C$99i[1],C$99s=C$99i[2],C$99i=C$99i[3],C$99a=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[0]=C$99n*C$99t+C$99r*C$99a,C$99e[1]=C$99r*C$99t-C$99n*C$99a,C$99e[2]=C$99s*C$99t+C$99i*C$99a,C$99e[3]=C$99i*C$99t-C$99s*C$99a},C$99s.getYawPitchRoll=function(C$99t){C$99A.transformQuat(C$99A.ForwardRH,this,eo07xq.TEMPVector31),C$99A.transformQuat(C$99A.Up,this,eo07xq.TEMPVector32);var C$99e=eo07xq.TEMPVector32.elements;eo07xq.angleTo(C$99A.ZERO,eo07xq.TEMPVector31,eo07xq.TEMPVector33);var C$99i=eo07xq.TEMPVector33.elements;C$99i[0]==Math.PI/2?(C$99i[1]=eo07xq.arcTanAngle(C$99e[2],C$99e[0]),C$99i[2]=0):C$99i[0]==-Math.PI/2?(C$99i[1]=eo07xq.arcTanAngle(-C$99e[2],-C$99e[0]),C$99i[2]=0):(C$99ie.createRotationY(-C$99i[1],eo07xq.TEMPMatrix0),C$99ie.createRotationX(-C$99i[0],eo07xq.TEMPMatrix1),C$99A.transformCoordinate(eo07xq.TEMPVector32,eo07xq.TEMPMatrix0,eo07xq.TEMPVector32),C$99A.transformCoordinate(eo07xq.TEMPVector32,eo07xq.TEMPMatrix1,eo07xq.TEMPVector32),C$99i[2]=eo07xq.arcTanAngle(C$99e[1],-C$99e[0])),C$99i[1]<=-Math.PI&&(C$99i[1]=Math.PI),C$99i[2]<=-Math.PI&&(C$99i[2]=Math.PI),C$99i[1]>=Math.PI&&C$99i[2]>=Math.PI&&(C$99i[1]=0,C$99i[2]=0,C$99i[0]=Math.PI-C$99i[0]);C$99e=C$99t.elements;C$99e[0]=C$99i[1],C$99e[1]=C$99i[0],C$99e[2]=C$99i[2]},C$99s.invert=function(C$99t){var C$99t=C$99t.elements,C$99e=this.elements,C$99i=C$99e[0],C$99n=C$99e[1],C$99r=C$99e[2],C$99e=C$99e[3],C$99s=C$99i*C$99i+C$99n*C$99n+C$99r*C$99r+C$99e*C$99e,C$99s=C$99s?1/C$99s:0;C$99t[0]=-C$99i*C$99s,C$99t[1]=-C$99n*C$99s,C$99t[2]=-C$99r*C$99s,C$99t[3]=C$99e*C$99s},C$99s.identity=function(){var C$99t=this.elements;C$99t[0]=0,C$99t[1]=0,C$99t[2]=0,C$99t[3]=1},C$99s.fromArray=function(C$99t,C$99e){this.elements[0]=C$99t[(C$99e=void 0===C$99e?0:C$99e)+0],this.elements[1]=C$99t[C$99e+1],this.elements[2]=C$99t[C$99e+2],this.elements[3]=C$99t[C$99e+3]},C$99s.cloneTo=function(C$99t){var C$99e,C$99i,C$99n;if((C$99i=this.elements)!==(C$99n=C$99t.elements))for(C$99e=0;C$99e<4;++C$99e)C$99n[C$99e]=C$99i[C$99e]},C$99s.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99s.equals=function(C$99t){var C$99e=this.elements,C$99t=C$99t.elements;return C$99te.nearEqual(C$99e[0],C$99t[0])&&C$99te.nearEqual(C$99e[1],C$99t[1])&&C$99te.nearEqual(C$99e[2],C$99t[2])&&C$99te.nearEqual(C$99e[3],C$99t[3])},C$99s.lengthSquared=function(){var C$99t=this.elements[0],C$99e=this.elements[1],C$99i=this.elements[2],C$99n=this.elements[3];return C$99t*C$99t+C$99e*C$99e+C$99i*C$99i+C$99n*C$99n},C$99e(0,C$99s,"x",function(){return this.elements[0]}),C$99e(0,C$99s,"y",function(){return this.elements[1]}),C$99e(0,C$99s,"z",function(){return this.elements[2]}),C$99e(0,C$99s,"w",function(){return this.elements[3]}),eo07xq.createFromYawPitchRoll=function(C$99t,C$99e,C$99i,C$99n){var C$99i=.5*C$99i,C$99e=.5*C$99e,C$99t=.5*C$99t,C$99r=Math.sin(C$99i),C$99i=Math.cos(C$99i),C$99s=Math.sin(C$99e),C$99e=Math.cos(C$99e),C$99a=Math.sin(C$99t),C$99t=Math.cos(C$99t),C$99n=C$99n.elements;C$99n[0]=C$99t*C$99s*C$99i+C$99a*C$99e*C$99r,C$99n[1]=C$99a*C$99e*C$99i-C$99t*C$99s*C$99r,C$99n[2]=C$99t*C$99e*C$99r-C$99a*C$99s*C$99i,C$99n[3]=C$99t*C$99e*C$99i+C$99a*C$99s*C$99r},eo07xq.multiply=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99i.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99s=C$99t[2],C$99t=C$99t[3],C$99a=C$99e[0],C$99o=C$99e[1],C$99h=C$99e[2],C$99e=C$99e[3],C$99l=C$99s*C$99a-C$99n*C$99h,C$99c=C$99n*C$99o-C$99r*C$99a,C$99_=C$99n*C$99a+C$99r*C$99o+C$99s*C$99h;C$99i[0]=C$99n*C$99e+C$99a*C$99t+(C$99r*C$99h-C$99s*C$99o),C$99i[1]=C$99r*C$99e+C$99o*C$99t+C$99l,C$99i[2]=C$99s*C$99e+C$99h*C$99t+C$99c,C$99i[3]=C$99t*C$99e-C$99_},eo07xq.arcTanAngle=function(C$99t,C$99e){return 0==C$99t?1==C$99e?Math.PI/2:-Math.PI/2:0<C$99t?Math.atan(C$99e/C$99t):C$99t<0?0<C$99e?Math.atan(C$99e/C$99t)+Math.PI:Math.atan(C$99e/C$99t)-Math.PI:0},eo07xq.angleTo=function(C$99t,C$99e,C$99i){C$99A.subtract(C$99e,C$99t,eo07xq.TEMPVector30),C$99A.normalize(eo07xq.TEMPVector30,eo07xq.TEMPVector30),C$99i.elements[0]=Math.asin(eo07xq.TEMPVector30.y),C$99i.elements[1]=eo07xq.arcTanAngle(-eo07xq.TEMPVector30.z,-eo07xq.TEMPVector30.x)},eo07xq.createFromAxisAngle=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements;C$99e*=.5;var C$99n=Math.sin(C$99e);C$99i[0]=C$99n*C$99t[0],C$99i[1]=C$99n*C$99t[1],C$99i[2]=C$99n*C$99t[2],C$99i[3]=Math.cos(C$99e)},eo07xq.createFromMatrix3x3=function(C$99t,C$99e){var C$99i,C$99e=C$99e.elements,C$99t=C$99t.elements,C$99n=C$99t[0]+C$99t[4]+C$99t[8];var C$99r,C$99s;0<C$99n?(C$99i=Math.sqrt(C$99n+1),C$99e[3]=.5*C$99i,C$99e[0]=(C$99t[5]-C$99t[7])*(C$99i=.5/C$99i),C$99e[1]=(C$99t[6]-C$99t[2])*C$99i,C$99e[2]=(C$99t[1]-C$99t[3])*C$99i):(C$99t[4]>C$99t[C$99n=0]&&(C$99n=1),C$99r=((C$99n=C$99t[8]>C$99t[3*C$99n+C$99n]?2:C$99n)+1)%3,C$99s=(C$99n+2)%3,C$99i=Math.sqrt(C$99t[3*C$99n+C$99n]-C$99t[3*C$99r+C$99r]-C$99t[3*C$99s+C$99s]+1),C$99e[C$99n]=.5*C$99i,C$99e[3]=(C$99t[3*C$99r+C$99s]-C$99t[3*C$99s+C$99r])*(C$99i=.5/C$99i),C$99e[C$99r]=(C$99t[3*C$99r+C$99n]+C$99t[3*C$99n+C$99r])*C$99i,C$99e[C$99s]=(C$99t[3*C$99s+C$99n]+C$99t[3*C$99n+C$99s])*C$99i)},eo07xq.createFromMatrix4x4=function(C$99t,C$99e){var C$99i,C$99n,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99r=C$99t[0]+C$99t[5]+C$99t[10];0<C$99r?(C$99i=Math.sqrt(C$99r+1),C$99e[3]=.5*C$99i,C$99e[0]=(C$99t[6]-C$99t[9])*(C$99i=.5/C$99i),C$99e[1]=(C$99t[8]-C$99t[2])*C$99i,C$99e[2]=(C$99t[1]-C$99t[4])*C$99i):C$99t[0]>=C$99t[5]&&C$99t[0]>=C$99t[10]?(C$99n=.5/(C$99i=Math.sqrt(1+C$99t[0]-C$99t[5]-C$99t[10])),C$99e[0]=.5*C$99i,C$99e[1]=(C$99t[1]+C$99t[4])*C$99n,C$99e[2]=(C$99t[2]+C$99t[8])*C$99n,C$99e[3]=(C$99t[6]-C$99t[9])*C$99n):C$99t[5]>C$99t[10]?(C$99n=.5/(C$99i=Math.sqrt(1+C$99t[5]-C$99t[0]-C$99t[10])),C$99e[0]=(C$99t[4]+C$99t[1])*C$99n,C$99e[1]=.5*C$99i,C$99e[2]=(C$99t[9]+C$99t[6])*C$99n,C$99e[3]=(C$99t[8]-C$99t[2])*C$99n):(C$99n=.5/(C$99i=Math.sqrt(1+C$99t[10]-C$99t[0]-C$99t[5])),C$99e[0]=(C$99t[8]+C$99t[2])*C$99n,C$99e[1]=(C$99t[9]+C$99t[6])*C$99n,C$99e[2]=.5*C$99i,C$99e[3]=(C$99t[1]-C$99t[4])*C$99n)},eo07xq.slerp=function(C$99t,C$99e,C$99i,C$99n){var C$99r,C$99s,C$99a,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99n=C$99n.elements,C$99c=C$99t[0],C$99_=C$99t[1],C$99u=C$99t[2],C$99t=C$99t[3],C$99o=C$99e[0],C$99h=C$99e[1],C$99l=C$99e[2],C$99e=C$99e[3];return(C$99a=C$99c*C$99o+C$99_*C$99h+C$99u*C$99l+C$99t*C$99e)<0&&(C$99a=-C$99a,C$99o=-C$99o,C$99h=-C$99h,C$99l=-C$99l,C$99e=-C$99e),C$99a=1e-6<1-C$99a?(C$99a=Math.acos(C$99a),C$99r=Math.sin(C$99a),C$99s=Math.sin((1-C$99i)*C$99a)/C$99r,Math.sin(C$99i*C$99a)/C$99r):(C$99s=1-C$99i,C$99i),C$99n[0]=C$99s*C$99c+C$99a*C$99o,C$99n[1]=C$99s*C$99_+C$99a*C$99h,C$99n[2]=C$99s*C$99u+C$99a*C$99l,C$99n[3]=C$99s*C$99t+C$99a*C$99e,C$99n},eo07xq.lerp=function(C$99t,C$99e,C$99i,C$99n){var C$99n=C$99n.elements,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99r=C$99t[0],C$99s=C$99t[1],C$99a=C$99t[2],C$99t=C$99t[3];C$99n[0]=C$99r+C$99i*(C$99e[0]-C$99r),C$99n[1]=C$99s+C$99i*(C$99e[1]-C$99s),C$99n[2]=C$99a+C$99i*(C$99e[2]-C$99a),C$99n[3]=C$99t+C$99i*(C$99e[3]-C$99t)},eo07xq.add=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=C$99t[0]+C$99e[0],C$99i[1]=C$99t[1]+C$99e[1],C$99i[2]=C$99t[2]+C$99e[2],C$99i[3]=C$99t[3]+C$99e[3]},eo07xq.dot=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;return C$99t[0]*C$99e[0]+C$99t[1]*C$99e[1]+C$99t[2]*C$99e[2]+C$99t[3]*C$99e[3]},eo07xq.rotationLookAt=function(C$99t,C$99e,C$99i){eo07xq.lookAt(C$99A.ZERO,C$99t,C$99e,C$99i)},eo07xq.lookAt=function(C$99t,C$99e,C$99i,C$99n){C$99ee.lookAt(C$99t,C$99e,C$99i,eo07xq._tempMatrix3x3),eo07xq.rotationMatrix(eo07xq._tempMatrix3x3,C$99n)},eo07xq.invert=function(C$99t,C$99e){var C$99i=C$99t.elements,C$99e=C$99e.elements,C$99t=C$99t.lengthSquared();C$99te.isZero(C$99t)||(C$99e[0]=-C$99i[0]*(C$99t=1/C$99t),C$99e[1]=-C$99i[1]*C$99t,C$99e[2]=-C$99i[2]*C$99t,C$99e[3]=C$99i[3]*C$99t)},eo07xq.rotationMatrix=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99i=C$99t[0],C$99n=C$99t[1],C$99r=C$99t[2],C$99s=C$99t[3],C$99a=C$99t[4],C$99o=C$99t[5],C$99c=C$99t[6],C$99_=C$99t[7],C$99t=C$99t[8],C$99e=C$99e.elements,C$99h=NaN,C$99l=NaN,C$99u=C$99i+C$99a+C$99t;0<C$99u?(C$99h=Math.sqrt(C$99u+1),C$99e[3]=.5*C$99h,C$99e[0]=(C$99o-C$99_)*(C$99h=.5/C$99h),C$99e[1]=(C$99c-C$99r)*C$99h,C$99e[2]=(C$99n-C$99s)*C$99h):C$99a<=C$99i&&C$99t<=C$99i?(C$99l=.5/(C$99h=Math.sqrt(1+C$99i-C$99a-C$99t)),C$99e[0]=.5*C$99h,C$99e[1]=(C$99n+C$99s)*C$99l,C$99e[2]=(C$99r+C$99c)*C$99l,C$99e[3]=(C$99o-C$99_)*C$99l):C$99t<C$99a?(C$99l=.5/(C$99h=Math.sqrt(1+C$99a-C$99i-C$99t)),C$99e[0]=(C$99s+C$99n)*C$99l,C$99e[1]=.5*C$99h,C$99e[2]=(C$99_+C$99o)*C$99l,C$99e[3]=(C$99c-C$99r)*C$99l):(C$99l=.5/(C$99h=Math.sqrt(1+C$99t-C$99i-C$99a)),C$99e[0]=(C$99c+C$99r)*C$99l,C$99e[1]=(C$99_+C$99o)*C$99l,C$99e[2]=.5*C$99h,C$99e[3]=(C$99n-C$99s)*C$99l)},eo07xq.DEFAULT=new eo07xq,C$99h(eo07xq,["TEMPVector30",function(){return this.TEMPVector30=new C$99A},"TEMPVector31",function(){return this.TEMPVector31=new C$99A},"TEMPVector32",function(){return this.TEMPVector32=new C$99A},"TEMPVector33",function(){return this.TEMPVector33=new C$99A},"TEMPMatrix0",function(){return this.TEMPMatrix0=new C$99ie},"TEMPMatrix1",function(){return this.TEMPMatrix1=new C$99ie},"_tempMatrix3x3",function(){return this._tempMatrix3x3=new C$99ee},"NAN",function(){return this.NAN=new eo07xq(NaN,NaN,NaN,NaN)}]),eo07xq),C$99se=(C$99t(bnga,"laya.d3.math.Rand"),(C$99s=bnga.prototype).getUint=function(){return this._temp[0]=this.seeds[0]^this.seeds[0]<<11,this.seeds[0]=this.seeds[1],this.seeds[1]=this.seeds[2],this.seeds[2]=this.seeds[3],this.seeds[3]=this.seeds[3]^this.seeds[3]>>>19^this._temp[0]^this._temp[0]>>>8,this.seeds[3]},C$99s.getFloat=function(){return this.getUint(),(8388607&this.seeds[3])*(1/8388607)},C$99s.getSignedFloat=function(){return 2*this.getFloat()-1},C$99e(0,C$99s,"seed",function(){return this.seeds[0]},function(C$99t){this.seeds[0]=C$99t,this.seeds[1]=1812433253*this.seeds[0]+1,this.seeds[2]=1812433253*this.seeds[1]+1,this.seeds[3]=1812433253*this.seeds[2]+1}),bnga.getFloatFromInt=function(C$99t){return 1/8388607*(8388607&C$99t)},bnga.getByteFromInt=function(C$99t){return(8388607&C$99t)>>>15},bnga),C$99ae=(C$99t(z07qe,"laya.d3.math.RandX"),(C$99s=z07qe.prototype).randomint=function(){var C$99t,C$99e=this._state0U,C$99i=this._state0L,C$99n=this._state1U,C$99r=this._state1L,C$99s=(C$99r>>>0)+(C$99i>>>0),C$99a=C$99n+C$99e+(C$99s/2>>>31)>>>0,C$99s=C$99s>>>0,C$99o=0;return C$99t=(C$99e^=C$99e<<23|(-512&C$99i)>>>9)^(this._state0U=C$99n),C$99o=(C$99o=(C$99i^=C$99o=C$99i<<23)^(this._state0L=C$99r))^(C$99i>>>18|(262143&C$99e)<<14)^(C$99r>>>5|(31&C$99n)<<27),this._state1U=C$99t^C$99e>>>18^C$99n>>>5,this._state1L=C$99o,[C$99a,C$99s]},C$99s.random=function(){var C$99t=this.randomint(),C$99e=C$99t[0],C$99t=C$99t[1]>>>12|(4095&C$99e)<<20|0;return z07qe._CONVERTION_BUFFER.setUint32(0,1023<<20|C$99e>>>12,!1),z07qe._CONVERTION_BUFFER.setUint32(4,C$99t,!1),C$99se._CONVERTION_BUFFER.getFloat64(0,!1)-1},C$99h(z07qe,["_CONVERTION_BUFFER",function(){return this._CONVERTION_BUFFER=new DataView(new ArrayBuffer(8))},"defaultRand",function(){return this.defaultRand=new C$99se([0,Date.now()/65536,0,Date.now()%65536])}]),C$99t(mw516h,"laya.d3.math.Ray"),mw516h),C$99oe=(C$99t(v$9fpd,"laya.d3.math.Vector2"),C$99s=v$9fpd.prototype,C$99b.imps(C$99s,{"laya.d3.core.IClone":!0}),C$99s.fromArray=function(C$99t,C$99e){this.elements[0]=C$99t[(C$99e=void 0===C$99e?0:C$99e)+0],this.elements[1]=C$99t[C$99e+1]},C$99s.cloneTo=function(C$99t){var C$99t=C$99t.elements,C$99e=this.elements;C$99t[0]=C$99e[0],C$99t[1]=C$99e[1]},C$99s.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99e(0,C$99s,"x",function(){return this.elements[0]},function(C$99t){this.elements[0]=C$99t}),C$99e(0,C$99s,"y",function(){return this.elements[1]},function(C$99t){this.elements[1]=C$99t}),v$9fpd.scale=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements;C$99i[0]=C$99t[0]*C$99e,C$99i[1]=C$99t[1]*C$99e},C$99h(v$9fpd,["ZERO",function(){return this.ZERO=new v$9fpd(0,0)},"ONE",function(){return this.ONE=new v$9fpd(1,1)}]),v$9fpd),C$99A=(C$99t(janb,"laya.d3.math.Vector3"),C$99s=janb.prototype,C$99b.imps(C$99s,{"laya.d3.core.IClone":!0}),C$99s.fromArray=function(C$99t,C$99e){this.elements[0]=C$99t[(C$99e=void 0===C$99e?0:C$99e)+0],this.elements[1]=C$99t[C$99e+1],this.elements[2]=C$99t[C$99e+2]},C$99s.cloneTo=function(C$99t){var C$99t=C$99t.elements,C$99e=this.elements;C$99t[0]=C$99e[0],C$99t[1]=C$99e[1],C$99t[2]=C$99e[2]},C$99s.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99s.toDefault=function(){this.elements[0]=0,this.elements[1]=0,this.elements[2]=0},C$99s.reset=function(C$99t,C$99e,C$99i){this.elements[0]=C$99t,this.elements[1]=C$99e,this.elements[2]=C$99i},C$99e(0,C$99s,"x",function(){return this.elements[0]},function(C$99t){this.elements[0]=C$99t}),C$99e(0,C$99s,"y",function(){return this.elements[1]},function(C$99t){this.elements[1]=C$99t}),C$99e(0,C$99s,"z",function(){return this.elements[2]},function(C$99t){this.elements[2]=C$99t}),janb.distanceSquared=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99t[0]-C$99e[0],C$99n=C$99t[1]-C$99e[1],C$99t=C$99t[2]-C$99e[2];return C$99i*C$99i+C$99n*C$99n+C$99t*C$99t},janb.distance=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99t[0]-C$99e[0],C$99n=C$99t[1]-C$99e[1],C$99t=C$99t[2]-C$99e[2];return Math.sqrt(C$99i*C$99i+C$99n*C$99n+C$99t*C$99t)},janb.min=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=Math.min(C$99t[0],C$99e[0]),C$99i[1]=Math.min(C$99t[1],C$99e[1]),C$99i[2]=Math.min(C$99t[2],C$99e[2])},janb.max=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=Math.max(C$99t[0],C$99e[0]),C$99i[1]=Math.max(C$99t[1],C$99e[1]),C$99i[2]=Math.max(C$99t[2],C$99e[2])},janb.transformQuat=function(C$99t,C$99e,C$99i){var C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99t=C$99t[2],C$99s=C$99e[0],C$99a=C$99e[1],C$99o=C$99e[2],C$99e=C$99e[3],C$99h=C$99e*C$99n+C$99a*C$99t-C$99o*C$99r,C$99l=C$99e*C$99r+C$99o*C$99n-C$99s*C$99t,C$99c=C$99e*C$99t+C$99s*C$99r-C$99a*C$99n,C$99n=-C$99s*C$99n-C$99a*C$99r-C$99o*C$99t;C$99i[0]=C$99h*C$99e+C$99n*-C$99s+C$99l*-C$99o-C$99c*-C$99a,C$99i[1]=C$99l*C$99e+C$99n*-C$99a+C$99c*-C$99s-C$99h*-C$99o,C$99i[2]=C$99c*C$99e+C$99n*-C$99o+C$99h*-C$99a-C$99l*-C$99s},janb.scalarLength=function(C$99t){var C$99t=C$99t.elements,C$99e=C$99t[0],C$99i=C$99t[1],C$99t=C$99t[2];return Math.sqrt(C$99e*C$99e+C$99i*C$99i+C$99t*C$99t)},janb.scalarLengthSquared=function(C$99t){var C$99t=C$99t.elements,C$99e=C$99t[0],C$99i=C$99t[1],C$99t=C$99t[2];return C$99e*C$99e+C$99i*C$99i+C$99t*C$99t},janb.normalize=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99t[0],C$99n=C$99t[1],C$99r=C$99t[2],C$99i=C$99i*C$99i+C$99n*C$99n+C$99r*C$99r;0<C$99i&&(C$99i=1/Math.sqrt(C$99i),C$99e[0]=C$99t[0]*C$99i,C$99e[1]=C$99t[1]*C$99i,C$99e[2]=C$99t[2]*C$99i)},janb.multiply=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=C$99t[0]*C$99e[0],C$99i[1]=C$99t[1]*C$99e[1],C$99i[2]=C$99t[2]*C$99e[2]},janb.scale=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements;C$99i[0]=C$99t[0]*C$99e,C$99i[1]=C$99t[1]*C$99e,C$99i[2]=C$99t[2]*C$99e},janb.lerp=function(C$99t,C$99e,C$99i,C$99n){var C$99n=C$99n.elements,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99r=C$99t[0],C$99s=C$99t[1],C$99t=C$99t[2];C$99n[0]=C$99r+C$99i*(C$99e[0]-C$99r),C$99n[1]=C$99s+C$99i*(C$99e[1]-C$99s),C$99n[2]=C$99t+C$99i*(C$99e[2]-C$99t)},janb.transformV3ToV3=function(C$99t,C$99e,C$99i){var C$99n=janb._tempVector4;janb.transformV3ToV4(C$99t,C$99e,C$99n);C$99t=C$99n.elements,C$99e=C$99i.elements;C$99e[0]=C$99t[0],C$99e[1]=C$99t[1],C$99e[2]=C$99t[2]},janb.transformV3ToV4=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99t=C$99t[2],C$99e=C$99e.elements,C$99i=C$99i.elements;C$99i[0]=C$99n*C$99e[0]+C$99r*C$99e[4]+C$99t*C$99e[8]+C$99e[12],C$99i[1]=C$99n*C$99e[1]+C$99r*C$99e[5]+C$99t*C$99e[9]+C$99e[13],C$99i[2]=C$99n*C$99e[2]+C$99r*C$99e[6]+C$99t*C$99e[10]+C$99e[14],C$99i[3]=C$99n*C$99e[3]+C$99r*C$99e[7]+C$99t*C$99e[11]+C$99e[15]},janb.TransformNormal=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99t=C$99t[2],C$99e=C$99e.elements,C$99i=C$99i.elements;C$99i[0]=C$99n*C$99e[0]+C$99r*C$99e[4]+C$99t*C$99e[8],C$99i[1]=C$99n*C$99e[1]+C$99r*C$99e[5]+C$99t*C$99e[9],C$99i[2]=C$99n*C$99e[2]+C$99r*C$99e[6]+C$99t*C$99e[10]},janb.transformCoordinate=function(C$99t,C$99e,C$99i){var C$99n=janb._tempVector4.elements,C$99t=C$99t.elements,C$99r=C$99t[0],C$99s=C$99t[1],C$99t=C$99t[2],C$99e=C$99e.elements;C$99n[0]=C$99r*C$99e[0]+C$99s*C$99e[4]+C$99t*C$99e[8]+C$99e[12],C$99n[1]=C$99r*C$99e[1]+C$99s*C$99e[5]+C$99t*C$99e[9]+C$99e[13],C$99n[2]=C$99r*C$99e[2]+C$99s*C$99e[6]+C$99t*C$99e[10]+C$99e[14],C$99n[3]=1/(C$99r*C$99e[3]+C$99s*C$99e[7]+C$99t*C$99e[11]+C$99e[15]);C$99r=C$99i.elements;C$99r[0]=C$99n[0]*C$99n[3],C$99r[1]=C$99n[1]*C$99n[3],C$99r[2]=C$99n[2]*C$99n[3]},janb.Clamp=function(C$99t,C$99e,C$99i,C$99n){var C$99t=C$99t.elements,C$99r=C$99t[0],C$99s=C$99t[1],C$99t=C$99t[2],C$99e=C$99e.elements,C$99a=C$99e[0],C$99o=C$99e[1],C$99e=C$99e[2],C$99i=C$99i.elements,C$99h=C$99i[0],C$99l=C$99i[1],C$99i=C$99i[2],C$99n=C$99n.elements;C$99r=(C$99r=C$99h<C$99r?C$99h:C$99r)<C$99a?C$99a:C$99r,C$99s=(C$99s=C$99l<C$99s?C$99l:C$99s)<C$99o?C$99o:C$99s,C$99t=(C$99t=C$99i<C$99t?C$99i:C$99t)<C$99e?C$99e:C$99t,C$99n[0]=C$99r,C$99n[1]=C$99s,C$99n[2]=C$99t},janb.add=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=C$99t[0]+C$99e[0],C$99i[1]=C$99t[1]+C$99e[1],C$99i[2]=C$99t[2]+C$99e[2]},janb.subtract=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=C$99t[0]-C$99e[0],C$99i[1]=C$99t[1]-C$99e[1],C$99i[2]=C$99t[2]-C$99e[2]},janb.cross=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99i.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99t=C$99t[2],C$99s=C$99e[0],C$99a=C$99e[1],C$99e=C$99e[2];C$99i[0]=C$99r*C$99e-C$99t*C$99a,C$99i[1]=C$99t*C$99s-C$99n*C$99e,C$99i[2]=C$99n*C$99a-C$99r*C$99s},janb.dot=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;return C$99t[0]*C$99e[0]+C$99t[1]*C$99e[1]+C$99t[2]*C$99e[2]},janb.equals=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;return C$99te.nearEqual(Math.abs(C$99t[0]),Math.abs(C$99e[0]))&&C$99te.nearEqual(Math.abs(C$99t[1]),Math.abs(C$99e[1]))&&C$99te.nearEqual(Math.abs(C$99t[2]),Math.abs(C$99e[2]))},janb.ZERO=new janb(0,0,0),janb.ONE=new janb(1,1,1),janb.NegativeUnitX=new janb(-1,0,0),janb.UnitX=new janb(1,0,0),janb.UnitY=new janb(0,1,0),janb.UnitZ=new janb(0,0,1),janb.ForwardRH=new janb(0,0,-1),janb.ForwardLH=new janb(0,0,1),janb.Up=new janb(0,1,0),janb.NAN=new janb(NaN,NaN,NaN),C$99h(janb,["_tempVector4",function(){return this._tempVector4=new C$99he}]),janb),C$99he=(C$99t(c2t4li,"laya.d3.math.Vector4"),C$99s=c2t4li.prototype,C$99b.imps(C$99s,{"laya.d3.core.IClone":!0}),C$99s.fromArray=function(C$99t,C$99e){this.elements[0]=C$99t[(C$99e=void 0===C$99e?0:C$99e)+0],this.elements[1]=C$99t[C$99e+1],this.elements[2]=C$99t[C$99e+2],this.elements[3]=C$99t[C$99e+3]},C$99s.cloneTo=function(C$99t){var C$99t=C$99t.elements,C$99e=this.elements;C$99t[0]=C$99e[0],C$99t[1]=C$99e[1],C$99t[2]=C$99e[2],C$99t[3]=C$99e[3]},C$99s.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99s.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},C$99s.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},C$99e(0,C$99s,"x",function(){return this.elements[0]},function(C$99t){this.elements[0]=C$99t}),C$99e(0,C$99s,"y",function(){return this.elements[1]},function(C$99t){this.elements[1]=C$99t}),C$99e(0,C$99s,"z",function(){return this.elements[2]},function(C$99t){this.elements[2]=C$99t}),C$99e(0,C$99s,"w",function(){return this.elements[3]},function(C$99t){this.elements[3]=C$99t}),c2t4li.lerp=function(C$99t,C$99e,C$99i,C$99n){var C$99n=C$99n.elements,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99r=C$99t[0],C$99s=C$99t[1],C$99a=C$99t[2],C$99t=C$99t[3];C$99n[0]=C$99r+C$99i*(C$99e[0]-C$99r),C$99n[1]=C$99s+C$99i*(C$99e[1]-C$99s),C$99n[2]=C$99a+C$99i*(C$99e[2]-C$99a),C$99n[3]=C$99t+C$99i*(C$99e[3]-C$99t)},c2t4li.transformByM4x4=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99s=C$99t[2],C$99t=C$99t[3],C$99e=C$99e.elements,C$99i=C$99i.elements;C$99i[0]=C$99n*C$99e[0]+C$99r*C$99e[4]+C$99s*C$99e[8]+C$99t*C$99e[12],C$99i[1]=C$99n*C$99e[1]+C$99r*C$99e[5]+C$99s*C$99e[9]+C$99t*C$99e[13],C$99i[2]=C$99n*C$99e[2]+C$99r*C$99e[6]+C$99s*C$99e[10]+C$99t*C$99e[14],C$99i[3]=C$99n*C$99e[3]+C$99r*C$99e[7]+C$99s*C$99e[11]+C$99t*C$99e[15]},c2t4li.equals=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;return C$99te.nearEqual(Math.abs(C$99t[0]),Math.abs(C$99e[0]))&&C$99te.nearEqual(Math.abs(C$99t[1]),Math.abs(C$99e[1]))&&C$99te.nearEqual(Math.abs(C$99t[2]),Math.abs(C$99e[2]))&&C$99te.nearEqual(Math.abs(C$99t[3]),Math.abs(C$99e[3]))},c2t4li.normalize=function(C$99t,C$99e){var C$99i=C$99t.elements,C$99e=C$99e.elements,C$99t=C$99t.length();0<C$99t&&(C$99e[0]=C$99i[0]*C$99t,C$99e[1]=C$99i[1]*C$99t,C$99e[2]=C$99i[2]*C$99t,C$99e[3]=C$99i[3]*C$99t)},c2t4li.add=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=C$99t[0]+C$99e[0],C$99i[1]=C$99t[1]+C$99e[1],C$99i[2]=C$99t[2]+C$99e[2],C$99i[3]=C$99t[3]+C$99e[3]},c2t4li.subtract=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=C$99t[0]-C$99e[0],C$99i[1]=C$99t[1]-C$99e[1],C$99i[2]=C$99t[2]-C$99e[2],C$99i[3]=C$99t[3]-C$99e[3]},c2t4li.multiply=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=C$99t[0]*C$99e[0],C$99i[1]=C$99t[1]*C$99e[1],C$99i[2]=C$99t[2]*C$99e[2],C$99i[3]=C$99t[3]*C$99e[3]},c2t4li.scale=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements;C$99i[0]=C$99t[0]*C$99e,C$99i[1]=C$99t[1]*C$99e,C$99i[2]=C$99t[2]*C$99e,C$99i[3]=C$99t[3]*C$99e},c2t4li.Clamp=function(C$99t,C$99e,C$99i,C$99n){var C$99t=C$99t.elements,C$99r=C$99t[0],C$99s=C$99t[1],C$99a=C$99t[2],C$99t=C$99t[3],C$99e=C$99e.elements,C$99o=C$99e[0],C$99h=C$99e[1],C$99l=C$99e[2],C$99e=C$99e[3],C$99i=C$99i.elements,C$99c=C$99i[0],C$99_=C$99i[1],C$99u=C$99i[2],C$99i=C$99i[3],C$99n=C$99n.elements;C$99r=(C$99r=C$99c<C$99r?C$99c:C$99r)<C$99o?C$99o:C$99r,C$99s=(C$99s=C$99_<C$99s?C$99_:C$99s)<C$99h?C$99h:C$99s,C$99a=(C$99a=C$99u<C$99a?C$99u:C$99a)<C$99l?C$99l:C$99a,C$99t=(C$99t=C$99i<C$99t?C$99i:C$99t)<C$99e?C$99e:C$99t,C$99n[0]=C$99r,C$99n[1]=C$99s,C$99n[2]=C$99a,C$99n[3]=C$99t},c2t4li.distanceSquared=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99t[0]-C$99e[0],C$99n=C$99t[1]-C$99e[1],C$99r=C$99t[2]-C$99e[2],C$99t=C$99t[3]-C$99e[3];return C$99i*C$99i+C$99n*C$99n+C$99r*C$99r+C$99t*C$99t},c2t4li.distance=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99t[0]-C$99e[0],C$99n=C$99t[1]-C$99e[1],C$99r=C$99t[2]-C$99e[2],C$99t=C$99t[3]-C$99e[3];return Math.sqrt(C$99i*C$99i+C$99n*C$99n+C$99r*C$99r+C$99t*C$99t)},c2t4li.dot=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;return C$99t[0]*C$99e[0]+C$99t[1]*C$99e[1]+C$99t[2]*C$99e[2]+C$99t[3]*C$99e[3]},c2t4li.min=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=Math.min(C$99t[0],C$99e[0]),C$99i[1]=Math.min(C$99t[1],C$99e[1]),C$99i[2]=Math.min(C$99t[2],C$99e[2]),C$99i[3]=Math.min(C$99t[3],C$99e[3])},c2t4li.max=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=Math.max(C$99t[0],C$99e[0]),C$99i[1]=Math.max(C$99t[1],C$99e[1]),C$99i[2]=Math.max(C$99t[2],C$99e[2]),C$99i[3]=Math.max(C$99t[3],C$99e[3])},C$99h(c2t4li,["ZERO",function(){return this.ZERO=new c2t4li},"ONE",function(){return this.ONE=new c2t4li(1,1,1,1)},"UnitX",function(){return this.UnitX=new c2t4li(1,0,0,0)},"UnitY",function(){return this.UnitY=new c2t4li(0,1,0,0)},"UnitZ",function(){return this.UnitZ=new c2t4li(0,0,1,0)},"UnitW",function(){return this.UnitW=new c2t4li(0,0,0,1)}]),c2t4li),C$99le=(C$99t(_0xqy,"laya.d3.math.Viewport"),(C$99s=_0xqy.prototype).project=function(C$99t,C$99e,C$99i){C$99A.transformV3ToV3(C$99t,C$99e,C$99i);C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99i.elements,C$99t=C$99t[0]*C$99e[3]+C$99t[1]*C$99e[7]+C$99t[2]*C$99e[11]+C$99e[15];1!==C$99t&&(C$99i[0]=C$99i[0]/C$99t,C$99i[1]=C$99i[1]/C$99t,C$99i[2]=C$99i[2]/C$99t),C$99i[0]=.5*(C$99i[0]+1)*this.width+this.x,C$99i[1]=.5*(1-C$99i[1])*this.height+this.y,C$99i[2]=C$99i[2]*(this.maxDepth-this.minDepth)+this.minDepth},C$99s.unprojectFromMat=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99n=C$99e.elements,C$99r=C$99i.elements;C$99r[0]=(C$99t[0]-this.x)/this.width*2-1,C$99r[1]=-((C$99t[1]-this.y)/this.height*2-1);var C$99s=(this.maxDepth-this.minDepth)/2;C$99r[2]=(C$99t[2]-this.minDepth-C$99s)/C$99s;C$99t=C$99r[0]*C$99n[3]+C$99r[1]*C$99n[7]+C$99r[2]*C$99n[11]+C$99n[15];C$99A.transformV3ToV3(C$99i,C$99e,C$99i),1!==C$99t&&(C$99r[0]=C$99r[0]/C$99t,C$99r[1]=C$99r[1]/C$99t,C$99r[2]=C$99r[2]/C$99t)},C$99s.unprojectFromWVP=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99ie.multiply(C$99e,C$99i,_0xqy._tempMatrix4x4),C$99n&&C$99ie.multiply(_0xqy._tempMatrix4x4,C$99n,_0xqy._tempMatrix4x4),_0xqy._tempMatrix4x4.invert(_0xqy._tempMatrix4x4),this.unprojectFromMat(C$99t,_0xqy._tempMatrix4x4,C$99r)},C$99h(_0xqy,["_tempMatrix4x4",function(){return this._tempMatrix4x4=new C$99ie}]),_0xqy),C$99ce=(C$99t(vdp9f$,"laya.d3.resource.models.SubMesh"),C$99s=vdp9f$.prototype,C$99b.imps(C$99s,{"laya.d3.core.render.IRenderable":!0,"laya.resource.IDispose":!0}),C$99s._getVertexBuffer=function(C$99t){return 0===(C$99t=void 0===C$99t?0:C$99t)?this._vertexBuffer:null},C$99s._getIndexBuffer=function(){return this._indexBuffer},C$99s._getStaticBatchBakedVertexs=function(C$99c,C$99_){var C$99t,C$99u,C$99e=this._vertexBuffer,C$99i=C$99e.vertexDeclaration,C$99d=C$99i.getVertexElementByUsage(0).offset/4,C$99f=C$99i.getVertexElementByUsage(3).offset/4,C$99n=C$99_.meshRender.lightmapScaleOffset,C$99r=0,C$99p=0,C$99s=0,C$99a=0,C$99m=0,C$99o=0;if(C$99n)if(C$99u=C$99i.getVertexElementByUsage(15))C$99s=C$99i.vertexStride/4,C$99t=0<this._vertexCount?C$99e.getData().slice(this._vertexStart*C$99s,(this._vertexStart+this._vertexCount)*C$99s):C$99e.getData().slice(),C$99a=C$99u.offset/4;else{C$99s=2+(C$99o=C$99i.vertexStride/4),C$99t=this._vertexCount?new Float32Array(this._vertexCount*(C$99e.vertexDeclaration.vertexStride/4+2)):new Float32Array(C$99e.vertexCount*(C$99e.vertexDeclaration.vertexStride/4+2)),C$99a=2+(C$99m=C$99i.getVertexElementByUsage(2).offset/4);var C$99g=C$99e.getData();for(C$99r=0,C$99p=C$99g.length/C$99o;C$99r<C$99p;C$99r++){var C$99v;C$99v=0<this._vertexCount?(this._vertexStart+C$99r)*C$99o:C$99r*C$99o;var C$99x=C$99r*C$99s,C$99h=0;for(C$99h=0;C$99h<C$99a;C$99h++)C$99t[C$99x+C$99h]=C$99g[C$99v+C$99h];for(C$99h=C$99a;C$99h<C$99o;C$99h++)C$99t[C$99x+C$99h+2]=C$99g[C$99v+C$99h]}}else C$99s=C$99i.vertexStride/4,C$99t=this._vertexCount?C$99e.getData().slice(this._vertexStart*C$99s,(this._vertexStart+this._vertexCount)*C$99s):C$99e.getData().slice();var C$99y;C$99c?(C$99c.worldMatrix.invert(C$99i=vdp9f$._tempMatrix4x40),C$99e=C$99_.transform.worldMatrix,C$99ie.multiply(C$99i,C$99e,C$99y=vdp9f$._tempMatrix4x41)):C$99y=C$99_.transform.worldMatrix;var C$99b=vdp9f$._tempQuaternion0;for(C$99y.decomposeTransRotScale(vdp9f$._tempVector30,C$99b,vdp9f$._tempVector31),C$99r=0,C$99p=C$99t.length/C$99s;C$99r<C$99p;C$99r++){var C$99l=C$99r*C$99s+C$99d,C$99w=C$99r*C$99s+C$99f;C$99ge.transformVector3ArrayToVector3ArrayCoordinate(C$99t,C$99l,C$99y,C$99t,C$99l),C$99ge.transformVector3ArrayByQuat(C$99t,C$99w,C$99b,C$99t,C$99w),C$99n&&(C$99l=C$99r*C$99s+C$99a,C$99u?C$99ge.transformLightingMapTexcoordByUV1Array(C$99t,C$99l,C$99n,C$99t,C$99l):C$99ge.transformLightingMapTexcoordByUV0Array(C$99g,C$99r*C$99o+C$99m,C$99n,C$99t,C$99l))}return C$99t},C$99s._getVertexBuffers=function(){return null},C$99s._beforeRender=function(C$99t){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},C$99s._render=function(C$99t){var C$99e,C$99i=0,C$99n=C$99t.renderElement;if(1<this._indexCount){var C$99r=this._boneIndicesList.length;if(1<C$99r){for(var C$99s=0;C$99s<C$99r;C$99s++)(C$99e=C$99n._skinAnimationDatas||this._skinAnimationDatas)&&(C$99n._shaderValue.setValue(0,C$99e[C$99s]),C$99t._shader.uploadRenderElementUniforms(C$99n._shaderValue.data)),C$99k.mainContext.drawElements(4,this._subIndexBufferCount[C$99s],5123,2*this._subIndexBufferStart[C$99s]);C$99R.drawCall+=C$99r}else(C$99e=C$99n._skinAnimationDatas||this._skinAnimationDatas)&&(C$99n._shaderValue.setValue(0,C$99e[0]),C$99t._shader.uploadRenderElementUniforms(C$99n._shaderValue.data)),C$99k.mainContext.drawElements(4,this._indexCount,5123,2*this._indexStart),C$99R.drawCall++;C$99i=this._indexCount}else C$99i=this._indexBuffer.indexCount,(C$99e=C$99n._skinAnimationDatas||this._skinAnimationDatas)&&(C$99n._shaderValue.setValue(0,C$99e[0]),C$99t._shader.uploadRenderElementUniforms(C$99n._shaderValue.data)),C$99k.mainContext.drawElements(4,C$99i,5123,0),C$99R.drawCall++;C$99R.trianglesFaces+=C$99i/3},C$99s.getIndices=function(){return 0<this._indexCount?this._indices:this._indexBuffer.getData()},C$99s.dispose=function(){this._indexBuffer.destroy(),this._vertexBuffer.destroy(),this._mesh=null,this._boneIndicesList=null,this._subIndexBufferStart=null,this._subIndexBufferCount=null,this._skinAnimationDatas=null,this._bufferUsage=null,this._vertexBuffer=null,this._indexBuffer=null},C$99e(0,C$99s,"_vertexBufferCount",function(){return 1}),C$99e(0,C$99s,"triangleCount",function(){return this._indexBuffer.indexCount/3}),C$99h(vdp9f$,["_tempVector30",function(){return this._tempVector30=new C$99A},"_tempVector31",function(){return this._tempVector31=new C$99A},"_tempQuaternion0",function(){return this._tempQuaternion0=new C$99re},"_tempMatrix4x40",function(){return this._tempMatrix4x40=new C$99ie},"_tempMatrix4x41",function(){return this._tempMatrix4x41=new C$99ie}]),vdp9f$),C$99_e=(C$99t(jg8r3n,"laya.d3.shader.ShaderDefines",null,"ShaderDefines$1"),jg8r3n.prototype.registerDefine=function(C$99t){var C$99e=Math.pow(2,this.defineCounter++);return this.defines[C$99e]=C$99t,C$99e},jg8r3n),C$99ue=(C$99t(oz7fp,"laya.d3.shader.ShaderInit3D"),oz7fp.__init__=function(){var C$99t,C$99e;C$99Me._globalRegDefine("HIGHPRECISION",C$99Me.SHADERDEFINE_HIGHPRECISION),C$99Me._globalRegDefine("FOG",C$99Me.SHADERDEFINE_FOG),C$99Me._globalRegDefine("DIRECTIONLIGHT",C$99Me.SHADERDEFINE_DIRECTIONLIGHT),C$99Me._globalRegDefine("POINTLIGHT",C$99Me.SHADERDEFINE_POINTLIGHT),C$99Me._globalRegDefine("SPOTLIGHT",C$99Me.SHADERDEFINE_SPOTLIGHT),C$99Me._globalRegDefine("UV",C$99Me.SHADERDEFINE_UV0),C$99Me._globalRegDefine("COLOR",C$99Me.SHADERDEFINE_COLOR),C$99Me._globalRegDefine("UV1",C$99Me.SHADERDEFINE_UV1),C$99Me._globalRegDefine("CASTSHADOW",C$99fe.SHADERDEFINE_CAST_SHADOW),C$99Me._globalRegDefine("SHADOWMAP_PSSM1",C$99fe.SHADERDEFINE_SHADOW_PSSM1),C$99Me._globalRegDefine("SHADOWMAP_PSSM2",C$99fe.SHADERDEFINE_SHADOW_PSSM2),C$99Me._globalRegDefine("SHADOWMAP_PSSM3",C$99fe.SHADERDEFINE_SHADOW_PSSM3),C$99Me._globalRegDefine("SHADOWMAP_PCF_NO",C$99fe.SHADERDEFINE_SHADOW_PCF_NO),C$99Me._globalRegDefine("SHADOWMAP_PCF1",C$99fe.SHADERDEFINE_SHADOW_PCF1),C$99Me._globalRegDefine("SHADOWMAP_PCF2",C$99fe.SHADERDEFINE_SHADOW_PCF2),C$99Me._globalRegDefine("SHADOWMAP_PCF3",C$99fe.SHADERDEFINE_SHADOW_PCF3),C$99Me._globalRegDefine("DEPTHFOG",C$99Me.SAHDERDEFINE_DEPTHFOG),C$99Le.addInclude("LightHelper.glsl","\nstruct DirectionLight\n{\n vec3 Direction;\n vec3 Diffuse;\n};\n\nstruct PointLight\n{\n vec3 Diffuse;\n vec3 Attenuation;\n vec3 Position;\n float Range;\n};\n\nstruct SpotLight\n{\n vec3 Diffuse;\n vec3 Attenuation;\n vec3 Position;\n vec3 Direction;\n float Spot;\n float Range;\n};\n\n\nvec3 NormalSampleToWorldSpace(vec3 normalMapSample, vec3 unitNormal, vec3 tangent)\n{\n\tvec3 normalT = 2.0*normalMapSample - 1.0;\n\n\t// Build orthonormal basis.\n\tvec3 N = normalize(unitNormal);\n\tvec3 T = normalize(tangent- dot(tangent, N)*N);\n\tvec3 B = cross(T, N);\n\n\tmat3 TBN = mat3(T, B, N);\n\n\t// Transform from tangent space to world space.\n\tvec3 bumpedNormal = TBN*normalT;\n\n\treturn bumpedNormal;\n}\n\n\nvoid  computeDirectionLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in DirectionLight dirLight,in vec3 ambinentColor,in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n\tdif=vec3(0.0);//\u4e0d\u521d\u59cb\u5316\u5728IOS\u4e2d\u95ea\u70c1\uff0cPC\u4e2d\u4e0d\u4f1a\u95ea\u70c1\n\tamb=vec3(0.0);\n\tspec=vec3(0.0);\n\tvec3 lightVec=-normalize(dirLight.Direction);\n\t\n\tamb=matAmb*ambinentColor;\n\t\n\tfloat  diffuseFactor=dot(lightVec, normal);\n\t\n\tif(diffuseFactor>0.0)\n\t{\n\t   vec3 v = reflect(-lightVec, normal);\n\t   float specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n\t   \n\t   dif = diffuseFactor * matDif * dirLight.Diffuse;\n\t   spec = specFactor * matSpe.rgb;\n\t}\n\t\n}\n\nvoid computePointLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in PointLight poiLight,in vec3 ambinentColor, in vec3 pos,in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n\tdif=vec3(0.0);\n\tamb=vec3(0.0);\n\tspec=vec3(0.0);\n\tvec3 lightVec = poiLight.Position - pos;\n\t\t\n\tfloat d = length(lightVec);\n\t\n\tif( d > poiLight.Range )\n\t\treturn;\n\t\t\n\tlightVec /= d; \n\t\n\tamb = matAmb*ambinentColor;\t\n\n\tfloat diffuseFactor = dot(lightVec, normal);\n\n\tif( diffuseFactor > 0.0 )\n\t{\n\t\tvec3 v= reflect(-lightVec, normal);\n\t\tfloat specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n\t\t\t\t\t\n\t\tdif = diffuseFactor * matDif * poiLight.Diffuse;\n\t\tspec = specFactor * matSpe.rgb;\n\t}\n\n\tfloat attenuate = 1.0 / dot(poiLight.Attenuation, vec3(1.0, d, d*d));\n\n\tdif *= attenuate;\n\tspec*= attenuate;\n}\n\nvoid ComputeSpotLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in SpotLight spoLight,in vec3 ambinentColor,in vec3 pos, in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n\tamb = vec3(0.0);\n\tdif =vec3(0.0);\n\tspec= vec3(0.0);\n\tvec3 lightVec = spoLight.Position - pos;\n\t\t\n\tfloat d = length(lightVec);\n\t\n\tif( d > spoLight.Range)\n\t\treturn;\n\t\t\n\tlightVec /= d; \n\t\n\tamb = matAmb*ambinentColor;\t\n\n\tfloat diffuseFactor = dot(lightVec, normal);\n\n\tif(diffuseFactor > 0.0)\n\t{\n\t\tvec3 v= reflect(-lightVec, normal);\n\t\tfloat specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n\t\t\t\t\t\n\t\tdif = diffuseFactor * matDif * spoLight.Diffuse;\n\t\tspec = specFactor * matSpe.rgb;\n\t}\n\t\n\tfloat spot = pow(max(dot(-lightVec, normalize(spoLight.Direction)), 0.0), spoLight.Spot);\n\n\tfloat attenuate = spot/dot(spoLight.Attenuation, vec3(1.0, d, d*d));\n\n\tamb *= spot;\n\tdif *= attenuate;\n\tspec*= attenuate;\n}\n\n"),C$99Le.addInclude("ShadowHelper.glsl","uniform sampler2D u_shadowMap1;\nuniform sampler2D u_shadowMap2;\nuniform sampler2D u_shadowMap3;\nuniform vec2\t  u_shadowPCFoffset;\nuniform vec4     u_shadowPSSMDistance;\nvec4 packDepth(const in float depth)\n{\n\tconst vec4 bitShift = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n\tconst vec4 bitMask\t= vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n\tvec4 res = mod(depth*bitShift*vec4(255), vec4(256))/vec4(255);\n\tres -= res.xxyz * bitMask;\n\treturn res;\n}\nfloat unpackDepth(const in vec4 rgbaDepth)\n{\n\tconst vec4 bitShift = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n\tfloat depth = dot(rgbaDepth, bitShift);\n\treturn depth;\n}\nfloat tex2DPCF( sampler2D shadowMap,vec2 texcoord,vec2 invsize,float zRef )\n{\n\tvec2 texelpos =texcoord / invsize;\n\tvec2 lerps = fract( texelpos );\n\tfloat sourcevals[4];\n\tsourcevals[0] = float( unpackDepth(texture2D(shadowMap,texcoord)) > zRef );\n\tsourcevals[1] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(invsize.x,0))) > zRef );\n\tsourcevals[2] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(0,invsize.y))) > zRef );\n\tsourcevals[3] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(invsize.x, invsize.y) )) > zRef );\n\treturn mix( mix(sourcevals[0],sourcevals[2],lerps.y),mix(sourcevals[1],sourcevals[3],lerps.y),lerps.x );\n}\nfloat getShadowPSSM3( sampler2D shadowMap1,sampler2D shadowMap2,sampler2D shadowMap3,mat4 lightShadowVP[4],vec4 pssmDistance,vec2 shadowPCFOffset,vec3 worldPos,float posViewZ,float zBias )\n{\n\tfloat value = 1.0;\n\tint nPSNum = int(posViewZ>pssmDistance.x);\n\tnPSNum += int(posViewZ>pssmDistance.y);\n\tnPSNum += int(posViewZ>pssmDistance.z);\n\t//\u771fSB,webgl\u4e0d\u652f\u6301\u5728PS\u4e2d\u76f4\u63a5\u8bbf\u95ee\u6570\u7ec4\n\tmat4 lightVP;\n\tif( nPSNum == 0 )\n\t{\n\t\tlightVP = lightShadowVP[1];\n\t}\n\telse if( nPSNum == 1 )\n\t{\n\t\tlightVP = lightShadowVP[2];\n\t}\n\telse if( nPSNum == 2 )\n\t{\n\t\tlightVP = lightShadowVP[3];\n\t}\n\tvec4 vLightMVPPos = lightVP * vec4(worldPos,1.0);\n\t//\u4e3a\u4e86\u6548\u7387\uff0c\u5728CPU\u8ba1\u7b97/2.0 + 0.5\n\t//vec3 vText = (vLightMVPPos.xyz / vLightMVPPos.w)/2.0 + 0.5;\n\tvec3 vText = vLightMVPPos.xyz / vLightMVPPos.w;\n\tfloat fMyZ = vText.z - zBias;\n\t/*\n\tbvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n\tbool bInFrustum = all( bInFrustumVec );\n\tbvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n\tbool bFrustumTest = all( bFrustumTestVec );\n\tif ( bFrustumTest ) \n\t*/\n\tif( fMyZ <= 1.0 )\n\t{\n\t\tfloat zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue = value/4.0;\n\t\t} \n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap3,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF2\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap3,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n\n#endif\n#ifdef SHADOWMAP_PCF1\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap2,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap3,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF_NO\n\t\tvec4 color;\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap1,vText.xy );\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap2,vText.xy );\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap3,vText.xy );\n\t\t}\n\t\tzdepth = unpackDepth(color);\n\t\tvalue = float(fMyZ < zdepth);\n#endif\n\t}\n\treturn value;\n}\nfloat getShadowPSSM2( sampler2D shadowMap1,sampler2D shadowMap2,mat4 lightShadowVP[4],vec4 pssmDistance,vec2 shadowPCFOffset,vec3 worldPos,float posViewZ,float zBias )\n{\n\tfloat value = 1.0;\n\tint nPSNum = int(posViewZ>pssmDistance.x);\n\tnPSNum += int(posViewZ>pssmDistance.y);\n\t//\u771fSB,webgl\u4e0d\u652f\u6301\u5728PS\u4e2d\u76f4\u63a5\u8bbf\u95ee\u6570\u7ec4\n\tmat4 lightVP;\n\tif( nPSNum == 0 )\n\t{\n\t\tlightVP = lightShadowVP[1];\n\t}\n\telse if( nPSNum == 1 )\n\t{\n\t\tlightVP = lightShadowVP[2];\n\t}\n\tvec4 vLightMVPPos = lightVP * vec4(worldPos,1.0);\n\t//\u4e3a\u4e86\u6548\u7387\uff0c\u5728CPU\u8ba1\u7b97/2.0 + 0.5\n\t//vec3 vText = (vLightMVPPos.xyz / vLightMVPPos.w)/2.0 + 0.5;\n\tvec3 vText = vLightMVPPos.xyz / vLightMVPPos.w;\n\tfloat fMyZ = vText.z - zBias;\n\t/*\n\tbvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n\tbool bInFrustum = all( bInFrustumVec );\n\tbvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n\tbool bFrustumTest = all( bFrustumTestVec );\n\tif ( bFrustumTest ) \n\t*/\n\tif( fMyZ <= 1.0 )\n\t{\n\t\tfloat zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue = value/4.0;\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF2\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF1\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap2,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF_NO\n\t\tvec4 color;\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap1,vText.xy );\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap2,vText.xy );\n\t\t}\n\t\tzdepth = unpackDepth(color);\n\t\tvalue = float(fMyZ < zdepth);\n#endif\n\t}\n\treturn value;\n}\nfloat getShadowPSSM1( sampler2D shadowMap1,vec4 lightMVPPos,vec4 pssmDistance,vec2 shadowPCFOffset,float posViewZ,float zBias )\n{\n\tfloat value = 1.0;\n\tif( posViewZ < pssmDistance.x )\n\t{\n\t\tvec3 vText = lightMVPPos.xyz / lightMVPPos.w;\n\t\tfloat fMyZ = vText.z - zBias;\n\t\t/*\n\t\tbvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n\t\tbool bInFrustum = all( bInFrustumVec );\n\t\tbvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n\t\tbool bFrustumTest = all( bFrustumTestVec );\n\t\t*/\n\t\tif ( fMyZ <= 1.0 ) \n\t\t{\n\t\t\tfloat zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n\t\t\tvalue =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,fMyZ );\n\t\t\tvalue = value/4.0;\n#endif\n#ifdef SHADOWMAP_PCF2\t\t\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n#endif\n#ifdef SHADOWMAP_PCF1\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n#endif\n#ifdef SHADOWMAP_PCF_NO\t\t\n\t\t\tvec4 color = texture2D( shadowMap1,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n#endif\n\t\t}\n\t}\n\treturn value;\n}"),C$99t={a_Position:0,a_Color:1,a_Normal:3,a_Texcoord0:2,a_Texcoord1:15,a_TexcoordNext0:14,a_BoneWeights:7,a_BoneIndices:6,a_Tangent0:5},C$99e={u_Bones:[0,0],u_DiffuseTexture:[1,1],u_SpecularTexture:[3,1],u_NormalTexture:[2,1],u_AmbientTexture:[5,1],u_ReflectTexture:[6,1],u_AlphaTestValue:[0,1],u_Albedo:[7,1],u_UVMatrix:[13,1],u_UVAge:[14,1],u_UVAniAge:[8,1],u_MaterialDiffuse:[10,1],u_MaterialAmbient:[9,1],u_MaterialSpecular:[11,1],u_MaterialReflect:[12,1],u_TilingOffset:[15,1],u_WorldMat:[0,2],u_MvpMatrix:[1,2],u_LightmapScaleOffset:[2,2],u_LightMap:[3,2],u_CameraPos:[0,3],u_FogStart:[1,4],u_FogRange:[2,4],u_FogColor:[0,4],"u_DirectionLight.Direction":[3,4],"u_DirectionLight.Diffuse":[4,4],"u_PointLight.Position":[5,4],"u_PointLight.Range":[6,4],"u_PointLight.Attenuation":[7,4],"u_PointLight.Diffuse":[8,4],"u_SpotLight.Position":[9,4],"u_SpotLight.Direction":[10,4],"u_SpotLight.Range":[12,4],"u_SpotLight.Spot":[11,4],"u_SpotLight.Attenuation":[13,4],"u_SpotLight.Diffuse":[14,4],u_AmbientColor:[21,4],u_shadowMap1:[18,4],u_shadowMap2:[19,4],u_shadowMap3:[20,4],u_shadowPSSMDistance:[15,4],u_lightShadowVP:[16,4],u_shadowPCFoffset:[17,4]};var C$99i=C$99Le.nameKey.add("SIMPLE");shaderCompile=C$99Me.add(C$99i,"attribute vec4 a_Position;\nuniform mat4 u_MvpMatrix;\n\n\n\n#if defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(COLOR)&&defined(SPECULARMAP)||defined(NORMALMAP)))||(defined(LIGHTMAP)&&defined(UV))\nattribute vec2 a_Texcoord0;\nvarying vec2 v_Texcoord0;\n  #ifdef UVTRANSFORM \n  uniform mat4 u_UVMatrix;\n  #endif\n#endif\n\n#if defined(AMBIENTMAP)||(defined(LIGHTMAP)&&defined(UV1))\nattribute vec2 a_Texcoord1;\n#endif\n\n#if defined(AMBIENTMAP)||defined(LIGHTMAP)\nuniform vec4 u_LightmapScaleOffset;\nvarying vec2 v_LightMapUV;\n#endif\n\n\n#ifdef COLOR\nattribute vec4 a_Color;\nvarying vec4 v_Color;\n#endif\n\n#ifdef BONE\nattribute vec4 a_BoneIndices;\nattribute vec4 a_BoneWeights;\nconst int c_MaxBoneCount = 24;\nuniform mat4 u_Bones[c_MaxBoneCount];\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\nattribute vec3 a_Normal;\nvarying vec3 v_Normal;\n#endif\n\n#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP))&&defined(NORMALMAP)\nattribute vec3 a_Tangent0;\nvarying vec3 v_Tangent0;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)||defined(RECEIVESHADOW)\nuniform mat4 u_WorldMat;\nvarying vec3 v_PositionWorld;\n#endif\n\nvarying float v_posViewZ;\n#ifdef RECEIVESHADOW\n  #ifdef SHADOWMAP_PSSM1 \n  varying vec4 v_lightMVPPos;\n  uniform mat4 u_lightShadowVP[4];\n  #endif\n#endif\n\n#ifdef TILINGOFFSET\n\tuniform vec4 u_TilingOffset;\n#endif\n\nvoid main_castShadow()\n{\n#ifdef BONE\n\tmat4 skinTransform=mat4(0.0);\n\tskinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n\tskinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n\tskinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n\tskinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n\tvec4 position=skinTransform*a_Position;\n\tgl_Position = u_MvpMatrix * position;\n#else\n\tgl_Position = u_MvpMatrix * a_Position;\n#endif\n \n//TODO\u6ca1\u8003\u8651UV\u52a8\u753b\u5462\n#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n\tv_Texcoord0=a_Texcoord0;\n#endif\n\tv_posViewZ = gl_Position.z;\n}\n\nvoid main_normal()\n{\n#ifdef BONE\n\tmat4 skinTransform=mat4(0.0);\n\tskinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n\tskinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n\tskinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n\tskinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n\tvec4 position=skinTransform*a_Position;\n\tgl_Position = u_MvpMatrix * position;\n#else\n\tgl_Position = u_MvpMatrix * a_Position;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n\tmat3 worldMat;\n\t#ifdef BONE\n\t\tworldMat=mat3(u_WorldMat*skinTransform);\n\t#else\n\t\tworldMat=mat3(u_WorldMat);\n\t#endif  \n\tv_Normal=worldMat*a_Normal;\n\t#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\n\t\tv_Tangent0=worldMat*a_Tangent0;\n\t#endif\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)||defined(RECEIVESHADOW)\n\t#ifdef BONE\n\t\tv_PositionWorld=(u_WorldMat*position).xyz;\n\t#else\n\t\tv_PositionWorld=(u_WorldMat*a_Position).xyz;\n\t#endif\n#endif\n\n#if defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(COLOR)&&defined(SPECULARMAP)||defined(NORMALMAP)))\n\tv_Texcoord0=a_Texcoord0;\n\t#ifdef TILINGOFFSET\n\t\tv_Texcoord0=(vec2(v_Texcoord0.x,v_Texcoord0.y-1.0)*u_TilingOffset.xy)+u_TilingOffset.zw;\n\t\tv_Texcoord0=vec2(v_Texcoord0.x,v_Texcoord0.y+1.0);\n\t#endif\n\t#ifdef UVTRANSFORM\n\t\tv_Texcoord0=(u_UVMatrix*vec4(v_Texcoord0,0.0,1.0)).xy;\n\t#endif\n#endif\n\n#if defined(AMBIENTMAP)||defined(LIGHTMAP)\n\t#ifdef SCALEOFFSETLIGHTINGMAPUV\n\t\t#ifdef UV1\n\t\t\tv_LightMapUV=vec2(a_Texcoord1.x*u_LightmapScaleOffset.x+u_LightmapScaleOffset.z,1.0+a_Texcoord1.y*u_LightmapScaleOffset.y+u_LightmapScaleOffset.w);\n\t\t#else\n\t\t\tv_LightMapUV=vec2(a_Texcoord0.x,a_Texcoord0.y-1.0)*u_LightmapScaleOffset.xy+u_LightmapScaleOffset.zw;\n\t\t#endif \n\t#else\n\t\t#ifdef UV1\n\t\t\tv_LightMapUV=a_Texcoord1;\n\t\t#else\n\t\t\tv_LightMapUV=a_Texcoord0;\n\t\t#endif \n\t#endif \n#endif\n\n#ifdef COLOR\n\tv_Color=a_Color;\n#endif\n\n#ifdef RECEIVESHADOW\n\tv_posViewZ = gl_Position.w;\n\t#ifdef SHADOWMAP_PSSM1 \n\t\tv_lightMVPPos = u_lightShadowVP[0] * vec4(v_PositionWorld,1.0);\n\t#endif\n#endif\n}\n\nvoid main()\n{\n#ifdef CASTSHADOW\n\tmain_castShadow();\n#else\n\tmain_normal();\n#endif\n}",'#ifdef HIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\n#include "LightHelper.glsl";\n\nuniform vec4 u_Albedo;\n\n#ifdef ALPHATEST\nuniform float u_AlphaTestValue;\n#endif\n\n#ifdef DIFFUSEMAP\nuniform sampler2D u_DiffuseTexture;\n#endif\n\n#ifdef REFLECTMAP\nuniform samplerCube u_ReflectTexture;\nuniform vec3 u_MaterialReflect;\n#endif\n\n#if   defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(COLOR)&&defined(SPECULARMAP)||defined(NORMALMAP)))\nvarying vec2 v_Texcoord0;\n#endif\n\n#if defined(AMBIENTMAP)||defined(LIGHTMAP)\nvarying vec2 v_LightMapUV;\n#endif\n#ifdef AMBIENTMAP\nuniform sampler2D u_AmbientTexture;\n#endif\n#ifdef LIGHTMAP\nuniform sampler2D u_LightMap;\n#endif\n\n#ifdef COLOR\nvarying vec4 v_Color;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\nuniform vec3 u_MaterialDiffuse;\nuniform vec4 u_MaterialSpecular;\n  #if (defined(DIFFUSEMAP)||defined(COLOR))&&defined(SPECULARMAP) \n  uniform sampler2D u_SpecularTexture;\n  #endif\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(AMBIENTMAP)||defined(LIGHTMAP)\nuniform vec3 u_MaterialAmbient;\n#endif\n\n#if defined(FOG)||defined(DEPTHFOG)\n\tuniform float u_FogStart;\n\tuniform float u_FogRange;\n\t#ifdef ADDTIVEFOG\n\t#else\n\t\tuniform vec3 u_FogColor;\n\t#endif\n#endif\n\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\nvarying vec3 v_Normal;\n#endif\n\n#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\nuniform sampler2D u_NormalTexture;\nvarying vec3 v_Tangent0;\n#endif\n\n#ifdef DIRECTIONLIGHT\nuniform DirectionLight u_DirectionLight;\n#endif\n\n#ifdef POINTLIGHT\nuniform PointLight u_PointLight;\n#endif\n\n#ifdef SPOTLIGHT\nuniform SpotLight u_SpotLight;\n#endif\n\nuniform vec3 u_AmbientColor;\n\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)||(defined(RECEIVESHADOW)&&(defined(SHADOWMAP_PSM2)||defined(SHADOWMAP_PSM3)))\nuniform vec3 u_CameraPos;\n#endif\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)\nvarying vec3 v_PositionWorld;\n#endif\n\n#include "ShadowHelper.glsl"\n#ifdef RECEIVESHADOW\n\t#if defined(SHADOWMAP_PSSM2)||defined(SHADOWMAP_PSSM3)\n\tuniform mat4 u_lightShadowVP[4];\n\t#endif\n\t#ifdef SHADOWMAP_PSSM1 \n\tvarying vec4 v_lightMVPPos;\n\t#endif\n#endif\nvarying float v_posViewZ;\n\n\n\nvoid main_castShadow()\n{\n\t//gl_FragColor=vec4(v_posViewZ,0.0,0.0,1.0);\n\tgl_FragColor=packDepth(v_posViewZ);\n\t#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n\t\tfloat alpha = texture2D(u_DiffuseTexture,v_Texcoord0).w;\n\t\tif( alpha < u_AlphaTestValue )\n\t\t{\n\t\t\tdiscard;\n\t\t}\n\t#endif\n}\nvoid main_normal()\n{\n#if defined(DIFFUSEMAP)&&!defined(COLOR)\n\tgl_FragColor=texture2D(u_DiffuseTexture, v_Texcoord0);\n#endif \n  \n#if defined(COLOR)&&!defined(DIFFUSEMAP)\n\tgl_FragColor=v_Color;\n#endif \n  \n#if defined(DIFFUSEMAP)&&defined(COLOR)\n\tvec4 texColor=texture2D(u_DiffuseTexture, v_Texcoord0);\n\tgl_FragColor=texColor*v_Color;\n#endif\n  \n#if !defined(DIFFUSEMAP)&&!defined(COLOR)\n\tgl_FragColor=vec4(1.0,1.0,1.0,1.0);\n#endif \n    \n#ifdef ALPHATEST\n\tif(gl_FragColor.a-u_AlphaTestValue<0.0)\n\t\tdiscard;\n#endif\n  \n  \n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n\tvec3 normal;\n    #if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\n\t\tvec3 normalMapSample = texture2D(u_NormalTexture, v_Texcoord0).rgb;\n\t\tnormal = normalize(NormalSampleToWorldSpace(normalMapSample, v_Normal, v_Tangent0));\n\t#else\n\t\tnormal = normalize(v_Normal);\n    #endif\n#endif\n\t\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\tvec3 diffuse = vec3(0.0);\n\tvec3 ambient = vec3(0.0);\n\tvec3 specular= vec3(0.0);\n\tvec3 dif, amb, spe;\n#endif\n  \n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(REFLECTMAP)\n\tvec3 toEye;\n\t#ifdef FOG\n\t\ttoEye=u_CameraPos-v_PositionWorld;\n\t\tfloat toEyeLength=length(toEye);\n\t\ttoEye/=toEyeLength;\n\t#else\n\t\ttoEye=normalize(u_CameraPos-v_PositionWorld);\n\t#endif\n#endif\n\t\n#ifdef DIRECTIONLIGHT\n\tcomputeDirectionLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_DirectionLight,u_AmbientColor,normal,toEye, dif, amb, spe);\n\tdiffuse+=dif;\n\tambient+=amb;\n\tspecular+=spe;\n#endif\n \n#ifdef POINTLIGHT\n\tcomputePointLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_PointLight,u_AmbientColor,v_PositionWorld,normal,toEye, dif, amb, spe);\n\tdiffuse+=dif;\n\tambient+=amb;\n\tspecular+=spe;\n#endif\n\n#ifdef SPOTLIGHT\n\tComputeSpotLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_SpotLight,u_AmbientColor,v_PositionWorld,normal,toEye, dif, amb, spe);\n\tdiffuse+=dif;\n\tambient+=amb;\n\tspecular+=spe;\n#endif\n\n#ifdef RECEIVESHADOW\n\tfloat shadowValue = 1.0;\n\t#ifdef SHADOWMAP_PSSM3\n\t\tshadowValue = getShadowPSSM3( u_shadowMap1,u_shadowMap2,u_shadowMap3,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n\t#endif\n\t#ifdef SHADOWMAP_PSSM2\n\t\tshadowValue = getShadowPSSM2( u_shadowMap1,u_shadowMap2,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n\t#endif \n\t#ifdef SHADOWMAP_PSSM1\n\t\tshadowValue = getShadowPSSM1( u_shadowMap1,v_lightMVPPos,u_shadowPSSMDistance,u_shadowPCFoffset,v_posViewZ,0.001);\n\t#endif\n#endif\n\n#ifdef AMBIENTMAP\n\t#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_AmbientTexture, v_LightMapUV).rgb); \n\t#else\n\t\t#if defined(RECEIVESHADOW)\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_AmbientTexture, v_LightMapUV).rgb * shadowValue);\n\t\t#else\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_AmbientTexture, v_LightMapUV).rgb); \n\t\t#endif\n\t#endif\n#endif\n\n#ifdef LIGHTMAP\n\t#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb); \n\t#else\n\t\t#if defined(RECEIVESHADOW)\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb * shadowValue);\n\t\t#else\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb); \n\t\t#endif\n\t#endif\n#endif\n\ngl_FragColor=gl_FragColor*u_Albedo;\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\t#if (defined(DIFFUSEMAP)||defined(COLOR))&&defined(SPECULARMAP)\n\t\tspecular =specular*texture2D(u_SpecularTexture, v_Texcoord0).rgb;\n    #endif\n\t#ifdef RECEIVESHADOW\n\t\tgl_FragColor =vec4( gl_FragColor.rgb*(ambient + diffuse*shadowValue) + specular*shadowValue,gl_FragColor.a);\n\t#else\n\t\tgl_FragColor =vec4( gl_FragColor.rgb*(ambient + diffuse) + specular,gl_FragColor.a);\n\t#endif\n#endif\n  \n#ifdef REFLECTMAP\n\tvec3 incident = -toEye;\n\tvec3 reflectionVector = reflect(incident,normal);\n\tvec3 reflectionColor  = textureCube(u_ReflectTexture,reflectionVector).rgb;\n\tgl_FragColor.rgb += u_MaterialReflect*reflectionColor;\n#endif\n  \n#ifdef FOG\n\tfloat lerpFact=clamp((toEyeLength-u_FogStart)/u_FogRange,0.0,1.0);\n\t#ifdef ADDTIVEFOG\n\t\tgl_FragColor.rgb=mix(gl_FragColor.rgb,vec3(0.0,0.0,0.0),lerpFact);\n\t#else\n\t\tgl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor,lerpFact);\n\t#endif\n#endif\n#ifdef DEPTHFOG\n\tfloat lerpFact = (-v_PositionWorld.y-u_FogStart)/u_FogRange;\n\tgl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor,lerpFact);\n#endif\n}\n\nvoid main()\n{\n#ifdef CASTSHADOW\t\t\n\tmain_castShadow();\n#else\n  main_normal();\n#endif  \n}\n\n',C$99t,C$99e),C$99ze.SHADERDEFINE_DIFFUSEMAP=shaderCompile.registerMaterialDefine("DIFFUSEMAP"),C$99ze.SHADERDEFINE_NORMALMAP=shaderCompile.registerMaterialDefine("NORMALMAP"),C$99ze.SHADERDEFINE_SPECULARMAP=shaderCompile.registerMaterialDefine("SPECULARMAP"),C$99ze.SHADERDEFINE_EMISSIVEMAP=shaderCompile.registerMaterialDefine("EMISSIVEMAP"),C$99ze.SHADERDEFINE_AMBIENTMAP=shaderCompile.registerMaterialDefine("AMBIENTMAP"),C$99ze.SHADERDEFINE_REFLECTMAP=shaderCompile.registerMaterialDefine("REFLECTMAP"),C$99ze.SHADERDEFINE_UVTRANSFORM=shaderCompile.registerMaterialDefine("UVTRANSFORM"),C$99ze.SHADERDEFINE_TILINGOFFSET=shaderCompile.registerMaterialDefine("TILINGOFFSET"),C$99ze.SHADERDEFINE_ADDTIVEFOG=shaderCompile.registerMaterialDefine("ADDTIVEFOG")},oz7fp),C$99de=(C$99t(ajrbsk,"laya.d3.shader.ValusArray"),(C$99s=ajrbsk.prototype).setValue=function(C$99t,C$99e){this._data[C$99t]=C$99e},C$99e(0,C$99s,"data",function(){return this._data}),ajrbsk),C$99fe=(v$9pfd.SHADERDEFINE_RECEIVE_SHADOW=1,v$9pfd.SHADERDEFINE_CAST_SHADOW=512,v$9pfd.SHADERDEFINE_SHADOW_PSSM1=1024,v$9pfd.SHADERDEFINE_SHADOW_PSSM2=2048,v$9pfd.SHADERDEFINE_SHADOW_PSSM3=4096,v$9pfd.SHADERDEFINE_SHADOW_PCF_NO=8192,v$9pfd.SHADERDEFINE_SHADOW_PCF1=16384,v$9pfd.SHADERDEFINE_SHADOW_PCF2=32768,v$9pfd.SHADERDEFINE_SHADOW_PCF3=65536,v$9pfd.MAX_PSSM_COUNT=3,v$9pfd),C$99pe=(C$99t(dz7po,"laya.d3.utils.Picker"),dz7po.calculateCursorRay=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=C$99t.elements[0],C$99t=C$99t.elements[1],C$99o=dz7po._tempVector30,C$99h=C$99o.elements;C$99h[0]=C$99a,C$99h[1]=C$99t,C$99h[2]=C$99e.minDepth;var C$99h=dz7po._tempVector31,C$99l=C$99h.elements;C$99l[0]=C$99a,C$99l[1]=C$99t,C$99l[2]=C$99e.maxDepth;C$99a=C$99s.origin,C$99t=dz7po._tempVector32;C$99e.unprojectFromWVP(C$99o,C$99i,C$99n,C$99r,C$99a),C$99e.unprojectFromWVP(C$99h,C$99i,C$99n,C$99r,C$99t);C$99l=C$99s.direction.elements;C$99l[0]=C$99t.x-C$99a.x,C$99l[1]=C$99t.y-C$99a.y,C$99l[2]=C$99t.z-C$99a.z,C$99A.normalize(C$99s.direction,C$99s.direction)},dz7po.rayIntersectsPositionsAndIndices=function(C$99c,C$99t,C$99e,C$99_,C$99i){for(var C$99u=C$99e.vertexStride/4,C$99n=C$99e.getVertexElementByUsage(0).offset/4,C$99d=Number.MAX_VALUE,C$99f=-1,C$99p=-1,C$99m=-1,C$99g=0;C$99g<C$99_.length;C$99g+=3){var C$99v=dz7po._tempVector35,C$99x=C$99v.elements,C$99y=C$99_[C$99g]*C$99u,C$99r=C$99y+C$99n;C$99x[0]=C$99t[C$99r],C$99x[1]=C$99t[1+C$99r],C$99x[2]=C$99t[2+C$99r];var C$99x=dz7po._tempVector36,C$99r=C$99x.elements,C$99b=C$99_[C$99g+1]*C$99u,C$99s=C$99b+C$99n;C$99r[0]=C$99t[C$99s],C$99r[1]=C$99t[1+C$99s],C$99r[2]=C$99t[2+C$99s];var C$99r=dz7po._tempVector37,C$99s=C$99r.elements,C$99w=C$99_[C$99g+2]*C$99u,C$99T=C$99w+C$99n;C$99s[0]=C$99t[C$99T],C$99s[1]=C$99t[1+C$99T],C$99s[2]=C$99t[2+C$99T];C$99s=laya.d3.utils.Picker.rayIntersectsTriangle(C$99c,C$99v,C$99x,C$99r);!isNaN(C$99s)&&C$99s<C$99d&&(C$99d=C$99s,C$99f=C$99y,C$99p=C$99b,C$99m=C$99w)}if(C$99d===Number.MAX_VALUE)return C$99i.position.toDefault(),C$99i.distance=Number.MAX_VALUE,C$99i.trianglePositions[0].toDefault(),C$99i.trianglePositions[1].toDefault(),C$99i.trianglePositions[2].toDefault(),C$99i.triangleNormals[0].toDefault(),C$99i.triangleNormals[1].toDefault(),C$99i.triangleNormals[2].toDefault(),!1;C$99i.distance=C$99d,C$99A.scale(C$99c.direction,C$99d,C$99i.position),C$99A.add(C$99c.origin,C$99i.position,C$99i.position);var C$99a=C$99i.trianglePositions,C$99o=C$99a[0],C$99h=C$99a[1],C$99a=C$99a[2],C$99o=C$99o.elements,C$99h=C$99h.elements,C$99a=C$99a.elements,C$99l=C$99f+C$99n;C$99o[0]=C$99t[C$99l],C$99o[1]=C$99t[C$99l+1],C$99o[2]=C$99t[C$99l+2];C$99o=C$99p+C$99n;C$99h[0]=C$99t[C$99o],C$99h[1]=C$99t[C$99o+1],C$99h[2]=C$99t[C$99o+2];C$99l=C$99m+C$99n;C$99a[0]=C$99t[C$99l],C$99a[1]=C$99t[C$99l+1],C$99a[2]=C$99t[C$99l+2];C$99h=C$99e.getVertexElementByUsage(3);return C$99h&&(C$99o=C$99h.offset/4,C$99l=(C$99a=C$99i.triangleNormals)[0],C$99e=C$99a[1],C$99h=C$99a[2],C$99i=C$99l.elements,C$99a=C$99e.elements,C$99l=C$99h.elements,C$99i[0]=C$99t[C$99e=C$99f+C$99o],C$99i[1]=C$99t[C$99e+1],C$99i[2]=C$99t[C$99e+2],C$99a[0]=C$99t[C$99h=C$99p+C$99o],C$99a[1]=C$99t[C$99h+1],C$99a[2]=C$99t[C$99h+2],C$99l[0]=C$99t[C$99i=C$99m+C$99o],C$99l[1]=C$99t[C$99i+1],C$99l[2]=C$99t[C$99i+2]),!0},dz7po.rayIntersectsTriangle=function(C$99t,C$99e,C$99i,C$99n){var C$99r=dz7po._tempVector30,C$99s=dz7po._tempVector31;C$99A.subtract(C$99i,C$99e,C$99r),C$99A.subtract(C$99n,C$99e,C$99s);C$99i=dz7po._tempVector32;if(C$99A.cross(C$99t.direction,C$99s,C$99i),(C$99n=C$99A.dot(C$99r,C$99i))>-Number.MIN_VALUE&&C$99n<Number.MIN_VALUE)return Number.NaN;var C$99n=1/C$99n,C$99a=dz7po._tempVector33;if(C$99A.subtract(C$99t.origin,C$99e,C$99a),C$99e=C$99A.dot(C$99a,C$99i),(C$99e*=C$99n)<0||1<C$99e)return Number.NaN;C$99i=dz7po._tempVector34;return C$99A.cross(C$99a,C$99r,C$99i),C$99a=C$99A.dot(C$99t.direction,C$99i),(C$99a*=C$99n)<0||1<C$99e+C$99a?Number.NaN:(C$99r=C$99A.dot(C$99s,C$99i),(C$99r*=C$99n)<0?Number.NaN:C$99r)},C$99h(dz7po,["_tempVector30",function(){return this._tempVector30=new C$99A},"_tempVector31",function(){return this._tempVector31=new C$99A},"_tempVector32",function(){return this._tempVector32=new C$99A},"_tempVector33",function(){return this._tempVector33=new C$99A},"_tempVector34",function(){return this._tempVector34=new C$99A},"_tempVector35",function(){return this._tempVector35=new C$99A},"_tempVector36",function(){return this._tempVector36=new C$99A},"_tempVector37",function(){return this._tempVector37=new C$99A}]),dz7po),C$99me=(C$99t(bjrksa,"laya.d3.utils.RaycastHit"),bjrksa.prototype.cloneTo=function(C$99t){C$99t.distance=this.distance,this.trianglePositions[0].cloneTo(C$99t.trianglePositions[0]),this.trianglePositions[1].cloneTo(C$99t.trianglePositions[1]),this.trianglePositions[2].cloneTo(C$99t.trianglePositions[2]),this.triangleNormals[0].cloneTo(C$99t.triangleNormals[0]),this.triangleNormals[1].cloneTo(C$99t.triangleNormals[1]),this.triangleNormals[2].cloneTo(C$99t.triangleNormals[2]),this.position.cloneTo(C$99t.position),C$99t.sprite3D=this.sprite3D},C$99t(_x0eyq,"laya.d3.utils.Size"),C$99e(0,C$99s=_x0eyq.prototype,"width",function(){return-1===this._width?C$99Q.clientWidth:this._width}),C$99e(0,C$99s,"height",function(){return-1===this._height?C$99Q.clientHeight:this._height}),C$99e(1,_x0eyq,"fullScreen",function(){return new _x0eyq(-1,-1)}),_x0eyq),C$99ge=(C$99t(m6h_5,"laya.d3.utils.Utils3D"),m6h_5._rotationTransformScaleSkinAnimation=function(C$99c,C$99_,C$99u,C$99d,C$99t,C$99e,C$99f,C$99p,C$99m,C$99g,C$99v,C$99x){var C$99i,C$99n,C$99r,C$99s,C$99a,C$99o=m6h_5._tempArray16_0,C$99h=m6h_5._tempArray16_1,C$99l=m6h_5._tempArray16_2,C$99y=C$99d+C$99d,C$99b=C$99t+C$99t,C$99w=C$99e+C$99e,C$99d=C$99d*C$99y,C$99T=C$99t*C$99y,C$99t=C$99t*C$99b,C$99M=C$99e*C$99y,C$99S=C$99e*C$99b,C$99e=C$99e*C$99w,C$99y=C$99f*C$99y,C$99b=C$99f*C$99b,C$99f=C$99f*C$99w;for(C$99o[15]=1,C$99o[0]=1-C$99t-C$99e,C$99o[1]=C$99T+C$99f,C$99o[2]=C$99M-C$99b,C$99o[4]=C$99T-C$99f,C$99o[5]=1-C$99d-C$99e,C$99o[6]=C$99S+C$99y,C$99o[8]=C$99M+C$99b,C$99o[9]=C$99S-C$99y,C$99o[10]=1-C$99d-C$99t,C$99h[15]=1,C$99h[0]=C$99p,C$99h[5]=C$99m,C$99h[10]=C$99g,C$99i=0;C$99i<4;C$99i++)C$99n=C$99o[C$99i],C$99r=C$99o[C$99i+4],C$99s=C$99o[C$99i+8],C$99a=C$99o[C$99i+12],C$99l[C$99i]=C$99n,C$99l[C$99i+4]=C$99r,C$99l[C$99i+8]=C$99s,C$99l[C$99i+12]=C$99n*C$99c+C$99r*C$99_+C$99s*C$99u+C$99a;for(C$99i=0;C$99i<4;C$99i++)C$99n=C$99l[C$99i],C$99r=C$99l[C$99i+4],C$99s=C$99l[C$99i+8],C$99a=C$99l[C$99i+12],C$99v[C$99i+C$99x]=C$99n*C$99h[0]+C$99r*C$99h[1]+C$99s*C$99h[2]+C$99a*C$99h[3],C$99v[C$99i+C$99x+4]=C$99n*C$99h[4]+C$99r*C$99h[5]+C$99s*C$99h[6]+C$99a*C$99h[7],C$99v[C$99i+C$99x+8]=C$99n*C$99h[8]+C$99r*C$99h[9]+C$99s*C$99h[10]+C$99a*C$99h[11],C$99v[C$99i+C$99x+12]=C$99n*C$99h[12]+C$99r*C$99h[13]+C$99s*C$99h[14]+C$99a*C$99h[15]},m6h_5._createNodeByJson=function(C$99t,C$99e,C$99i,C$99n){if(!C$99i)switch(C$99e.type){case"Sprite3D":C$99i=new C$99Pe;break;case"MeshSprite3D":C$99i=new C$99qe;break;case"SkinnedMeshSprite3D":C$99i=new SkinnedMeshSprite3D;break;case"ShuriKenParticle3D":case"MyShuriKenParticle3D":C$99i=new ShuriKenParticle3D;break;case"TrailSprite3D":C$99i=new TrailSprite3D;break;case"Terrain":C$99i=new Terrain;break;case"Camera":C$99i=new C$99je;break;case"DirectionLight":C$99i=new DirectionLight;break;default:throw new Error("Utils3D:unidentified class type in (.lh) file.")}var C$99r=C$99e.props;if(C$99r)for(var C$99s in C$99r)C$99i[C$99s]=C$99r[C$99s];var C$99a=C$99e.customProps;C$99a&&(C$99i instanceof laya.d3.core.Sprite3D?(C$99i._parseBaseCustomProps(C$99a),C$99i._parseCustomProps(C$99t,C$99n,C$99a,C$99e),C$99i._parseCustomComponent(C$99t,C$99n,C$99e.components)):C$99i._parseCustomProps(C$99t,C$99n,C$99a,C$99e));var C$99o=C$99e.child;if(C$99o)for(var C$99h=0,C$99l=C$99o.length;C$99h<C$99l;C$99h++){var C$99c=m6h_5._createNodeByJson(C$99t,C$99o[C$99h],null,C$99n);C$99i.addChild(C$99c)}return C$99i},m6h_5._computeBoneAndAnimationDatasByBindPoseMatrxix=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a,C$99o,C$99h=0,C$99l=0,C$99c=C$99t.length;for(C$99a=0;C$99a<C$99c;C$99h+=C$99t[C$99a].keyframeWidth,C$99l+=16,C$99a++)laya.d3.utils.Utils3D._rotationTransformScaleSkinAnimation(C$99e[C$99h+0],C$99e[C$99h+1],C$99e[C$99h+2],C$99e[C$99h+3],C$99e[C$99h+4],C$99e[C$99h+5],C$99e[C$99h+6],C$99e[C$99h+7],C$99e[C$99h+8],C$99e[C$99h+9],C$99n,C$99l),0!=C$99a&&(C$99o=16*C$99t[C$99a].parentIndex,laya.d3.utils.Utils3D.mulMatrixByArray(C$99n,C$99o,C$99n,C$99l,C$99n,C$99l));var C$99_=C$99i.length;for(C$99a=0;C$99a<C$99_;C$99a++)laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$99n,16*C$99s[C$99a],C$99i[C$99a],C$99r,16*C$99a)},m6h_5._computeAnimationDatasByArrayAndMatrixFast=function(C$99t,C$99e,C$99i,C$99n){for(var C$99r=0,C$99s=C$99t.length;C$99r<C$99s;C$99r++)laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$99e,16*C$99n[C$99r],C$99t[C$99r],C$99i,16*C$99r)},m6h_5._computeBoneAndAnimationDatasByBindPoseMatrxixOld=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s,C$99a,C$99o=0,C$99h=0,C$99c=C$99t.length;for(C$99s=0;C$99s<C$99c;C$99o+=C$99t[C$99s].keyframeWidth,C$99h+=16,C$99s++)laya.d3.utils.Utils3D._rotationTransformScaleSkinAnimation(C$99e[C$99o+7],C$99e[C$99o+8],C$99e[C$99o+9],C$99e[C$99o+3],C$99e[C$99o+4],C$99e[C$99o+5],C$99e[C$99o+6],C$99e[C$99o+0],C$99e[C$99o+1],C$99e[C$99o+2],C$99n,C$99h),0!=C$99s&&(C$99a=16*C$99t[C$99s].parentIndex,laya.d3.utils.Utils3D.mulMatrixByArray(C$99n,C$99a,C$99n,C$99h,C$99n,C$99h));var C$99_=C$99i.length;for(C$99s=0;C$99s<C$99_;C$99s++){var C$99l=16*C$99s;laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$99n,C$99l,C$99i[C$99s],C$99r,C$99l)}},m6h_5._computeAnimationDatasByArrayAndMatrixFastOld=function(C$99t,C$99e,C$99i){for(var C$99n=C$99t.length,C$99r=0;C$99r<C$99n;C$99r++){var C$99s=16*C$99r;laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$99e,C$99s,C$99t[C$99r],C$99i,C$99s)}},m6h_5._computeRootAnimationData=function(C$99t,C$99e,C$99i){for(var C$99n=0,C$99r=0,C$99s=0,C$99a=C$99t.length;C$99n<C$99a;C$99r+=C$99t[C$99n].keyframeWidth,C$99s+=16,C$99n++)laya.d3.utils.Utils3D.createAffineTransformationArray(C$99e[C$99r+0],C$99e[C$99r+1],C$99e[C$99r+2],C$99e[C$99r+3],C$99e[C$99r+4],C$99e[C$99r+5],C$99e[C$99r+6],C$99e[C$99r+7],C$99e[C$99r+8],C$99e[C$99r+9],C$99i,C$99s)},m6h_5.transformVector3ArrayByQuat=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99i=C$99i.elements,C$99s=C$99t[C$99e],C$99a=C$99t[C$99e+1],C$99t=C$99t[C$99e+2],C$99e=C$99i[0],C$99o=C$99i[1],C$99h=C$99i[2],C$99i=C$99i[3],C$99l=C$99i*C$99s+C$99o*C$99t-C$99h*C$99a,C$99c=C$99i*C$99a+C$99h*C$99s-C$99e*C$99t,C$99_=C$99i*C$99t+C$99e*C$99a-C$99o*C$99s,C$99s=-C$99e*C$99s-C$99o*C$99a-C$99h*C$99t;C$99n[C$99r]=C$99l*C$99i+C$99s*-C$99e+C$99c*-C$99h-C$99_*-C$99o,C$99n[C$99r+1]=C$99c*C$99i+C$99s*-C$99o+C$99_*-C$99e-C$99l*-C$99h,C$99n[C$99r+2]=C$99_*C$99i+C$99s*-C$99h+C$99l*-C$99o-C$99c*-C$99e},m6h_5.mulMatrixByArray=function(C$99t,C$99c,C$99e,C$99i,C$99n,C$99r){var C$99s,C$99a,C$99o,C$99h,C$99l;if(C$99n===C$99e){for(C$99e=m6h_5._tempArray16_3,C$99s=0;C$99s<16;++C$99s)C$99e[C$99s]=C$99n[C$99r+C$99s];C$99i=0}for(C$99s=0;C$99s<4;C$99s++)C$99a=C$99t[C$99c+C$99s],C$99o=C$99t[C$99c+C$99s+4],C$99h=C$99t[C$99c+C$99s+8],C$99l=C$99t[C$99c+C$99s+12],C$99n[C$99r+C$99s]=C$99a*C$99e[C$99i+0]+C$99o*C$99e[C$99i+1]+C$99h*C$99e[C$99i+2]+C$99l*C$99e[C$99i+3],C$99n[C$99r+C$99s+4]=C$99a*C$99e[C$99i+4]+C$99o*C$99e[C$99i+5]+C$99h*C$99e[C$99i+6]+C$99l*C$99e[C$99i+7],C$99n[C$99r+C$99s+8]=C$99a*C$99e[C$99i+8]+C$99o*C$99e[C$99i+9]+C$99h*C$99e[C$99i+10]+C$99l*C$99e[C$99i+11],C$99n[C$99r+C$99s+12]=C$99a*C$99e[C$99i+12]+C$99o*C$99e[C$99i+13]+C$99h*C$99e[C$99i+14]+C$99l*C$99e[C$99i+15]},m6h_5.mulMatrixByArrayFast=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99c){var C$99s,C$99a,C$99o,C$99h,C$99l;for(C$99s=0;C$99s<4;C$99s++)C$99a=C$99t[C$99e+C$99s],C$99o=C$99t[C$99e+C$99s+4],C$99h=C$99t[C$99e+C$99s+8],C$99l=C$99t[C$99e+C$99s+12],C$99r[C$99c+C$99s]=C$99a*C$99i[C$99n+0]+C$99o*C$99i[C$99n+1]+C$99h*C$99i[C$99n+2]+C$99l*C$99i[C$99n+3],C$99r[C$99c+C$99s+4]=C$99a*C$99i[C$99n+4]+C$99o*C$99i[C$99n+5]+C$99h*C$99i[C$99n+6]+C$99l*C$99i[C$99n+7],C$99r[C$99c+C$99s+8]=C$99a*C$99i[C$99n+8]+C$99o*C$99i[C$99n+9]+C$99h*C$99i[C$99n+10]+C$99l*C$99i[C$99n+11],C$99r[C$99c+C$99s+12]=C$99a*C$99i[C$99n+12]+C$99o*C$99i[C$99n+13]+C$99h*C$99i[C$99n+14]+C$99l*C$99i[C$99n+15]},m6h_5.mulMatrixByArrayAndMatrixFast=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s,C$99a,C$99o,C$99h,C$99l,C$99i=C$99i.elements,C$99c=C$99i[0],C$99_=C$99i[1],C$99u=C$99i[2],C$99d=C$99i[3],C$99f=C$99i[4],C$99p=C$99i[5],C$99m=C$99i[6],C$99g=C$99i[7],C$99v=C$99i[8],C$99x=C$99i[9],C$99y=C$99i[10],C$99b=C$99i[11],C$99w=C$99i[12],C$99T=C$99i[13],C$99M=C$99i[14],C$99S=C$99i[15],C$99C=C$99e,C$99D=C$99e+4,C$99E=C$99e+8,C$99A=C$99e+12,C$99I=C$99r,C$99R=C$99r+4,C$99P=C$99r+8,C$99L=C$99r+12;for(C$99s=0;C$99s<4;C$99s++)C$99a=C$99t[C$99C+C$99s],C$99o=C$99t[C$99D+C$99s],C$99h=C$99t[C$99E+C$99s],C$99l=C$99t[C$99A+C$99s],C$99n[C$99I+C$99s]=C$99a*C$99c+C$99o*C$99_+C$99h*C$99u+C$99l*C$99d,C$99n[C$99R+C$99s]=C$99a*C$99f+C$99o*C$99p+C$99h*C$99m+C$99l*C$99g,C$99n[C$99P+C$99s]=C$99a*C$99v+C$99o*C$99x+C$99h*C$99y+C$99l*C$99b,C$99n[C$99L+C$99s]=C$99a*C$99w+C$99o*C$99T+C$99h*C$99M+C$99l*C$99S},m6h_5.createAffineTransformationArray=function(C$99c,C$99_,C$99u,C$99t,C$99e,C$99i,C$99n,C$99r,C$99d,C$99f,C$99s,C$99a){var C$99o=C$99t+C$99t,C$99h=C$99e+C$99e,C$99l=C$99i+C$99i,C$99p=C$99t*C$99o,C$99m=C$99t*C$99h,C$99t=C$99t*C$99l,C$99g=C$99e*C$99h,C$99e=C$99e*C$99l,C$99i=C$99i*C$99l,C$99o=C$99n*C$99o,C$99h=C$99n*C$99h,C$99n=C$99n*C$99l;C$99s[C$99a+0]=(1-(C$99g+C$99i))*C$99r,C$99s[C$99a+1]=(C$99m+C$99n)*C$99r,C$99s[C$99a+2]=(C$99t-C$99h)*C$99r,C$99s[C$99a+3]=0,C$99s[C$99a+4]=(C$99m-C$99n)*C$99d,C$99s[C$99a+5]=(1-(C$99p+C$99i))*C$99d,C$99s[C$99a+6]=(C$99e+C$99o)*C$99d,C$99s[C$99a+7]=0,C$99s[C$99a+8]=(C$99t+C$99h)*C$99f,C$99s[C$99a+9]=(C$99e-C$99o)*C$99f,C$99s[C$99a+10]=(1-(C$99p+C$99g))*C$99f,C$99s[C$99a+11]=0,C$99s[C$99a+12]=C$99c,C$99s[C$99a+13]=C$99_,C$99s[C$99a+14]=C$99u,C$99s[C$99a+15]=1},m6h_5.transformVector3ArrayToVector3ArrayCoordinate=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=m6h_5._tempArray4_0,C$99a=C$99t[C$99e+0],C$99o=C$99t[C$99e+1],C$99t=C$99t[C$99e+2],C$99e=C$99i.elements;C$99s[0]=C$99a*C$99e[0]+C$99o*C$99e[4]+C$99t*C$99e[8]+C$99e[12],C$99s[1]=C$99a*C$99e[1]+C$99o*C$99e[5]+C$99t*C$99e[9]+C$99e[13],C$99s[2]=C$99a*C$99e[2]+C$99o*C$99e[6]+C$99t*C$99e[10]+C$99e[14],C$99s[3]=1/(C$99a*C$99e[3]+C$99o*C$99e[7]+C$99t*C$99e[11]+C$99e[15]),C$99n[C$99r+0]=C$99s[0]*C$99s[3],C$99n[C$99r+1]=C$99s[1]*C$99s[3],C$99n[C$99r+2]=C$99s[2]*C$99s[3]},m6h_5.transformLightingMapTexcoordByUV0Array=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99i=C$99i.elements;C$99n[C$99r+0]=C$99t[C$99e+0]*C$99i[0]+C$99i[2],C$99n[C$99r+1]=(C$99t[C$99e+1]-1)*C$99i[1]+C$99i[3]},m6h_5.transformLightingMapTexcoordByUV1Array=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99i=C$99i.elements;C$99n[C$99r+0]=C$99t[C$99e+0]*C$99i[0]+C$99i[2],C$99n[C$99r+1]=1+C$99t[C$99e+1]*C$99i[1]+C$99i[3]},m6h_5.getURLVerion=function(C$99t){var C$99e=C$99t.indexOf("?");return 0<=C$99e?C$99t.substr(C$99e):null},m6h_5._quaternionCreateFromYawPitchRollArray=function(C$99t,C$99e,C$99i,C$99n){var C$99i=.5*C$99i,C$99e=.5*C$99e,C$99t=.5*C$99t,C$99r=Math.sin(C$99i),C$99i=Math.cos(C$99i),C$99s=Math.sin(C$99e),C$99e=Math.cos(C$99e),C$99a=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99n[0]=C$99t*C$99s*C$99i+C$99a*C$99e*C$99r,C$99n[1]=C$99a*C$99e*C$99i-C$99t*C$99s*C$99r,C$99n[2]=C$99t*C$99e*C$99r-C$99a*C$99s*C$99i,C$99n[3]=C$99t*C$99e*C$99i+C$99a*C$99s*C$99r},m6h_5._createAffineTransformationArray=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99e[0],C$99s=C$99e[1],C$99a=C$99e[2],C$99e=C$99e[3],C$99o=C$99r+C$99r,C$99h=C$99s+C$99s,C$99l=C$99a+C$99a,C$99c=C$99r*C$99o,C$99_=C$99r*C$99h,C$99r=C$99r*C$99l,C$99u=C$99s*C$99h,C$99s=C$99s*C$99l,C$99a=C$99a*C$99l,C$99o=C$99e*C$99o,C$99h=C$99e*C$99h,C$99e=C$99e*C$99l,C$99l=C$99i[0],C$99d=C$99i[1],C$99i=C$99i[2];C$99n[0]=(1-(C$99u+C$99a))*C$99l,C$99n[1]=(C$99_+C$99e)*C$99l,C$99n[2]=(C$99r-C$99h)*C$99l,C$99n[3]=0,C$99n[4]=(C$99_-C$99e)*C$99d,C$99n[5]=(1-(C$99c+C$99a))*C$99d,C$99n[6]=(C$99s+C$99o)*C$99d,C$99n[7]=0,C$99n[8]=(C$99r+C$99h)*C$99i,C$99n[9]=(C$99s-C$99o)*C$99i,C$99n[10]=(1-(C$99c+C$99u))*C$99i,C$99n[11]=0,C$99n[12]=C$99t[0],C$99n[13]=C$99t[1],C$99n[14]=C$99t[2],C$99n[15]=1},m6h_5._mulMatrixArray=function(C$99t,C$99e,C$99i,C$99n){var C$99r,C$99s,C$99a,C$99o,C$99h,C$99e=C$99e.elements,C$99l=C$99e[0],C$99c=C$99e[1],C$99_=C$99e[2],C$99u=C$99e[3],C$99d=C$99e[4],C$99f=C$99e[5],C$99p=C$99e[6],C$99m=C$99e[7],C$99g=C$99e[8],C$99v=C$99e[9],C$99x=C$99e[10],C$99y=C$99e[11],C$99b=C$99e[12],C$99w=C$99e[13],C$99T=C$99e[14],C$99M=C$99e[15],C$99S=C$99n,C$99C=C$99n+4,C$99D=C$99n+8,C$99E=C$99n+12;for(C$99r=0;C$99r<4;C$99r++)C$99s=C$99t[C$99r],C$99a=C$99t[C$99r+4],C$99o=C$99t[C$99r+8],C$99h=C$99t[C$99r+12],C$99i[C$99S+C$99r]=C$99s*C$99l+C$99a*C$99c+C$99o*C$99_+C$99h*C$99u,C$99i[C$99C+C$99r]=C$99s*C$99d+C$99a*C$99f+C$99o*C$99p+C$99h*C$99m,C$99i[C$99D+C$99r]=C$99s*C$99g+C$99a*C$99v+C$99o*C$99x+C$99h*C$99y,C$99i[C$99E+C$99r]=C$99s*C$99b+C$99a*C$99w+C$99o*C$99T+C$99h*C$99M},m6h_5.getYawPitchRoll=function(C$99t,C$99e){m6h_5.transformQuat(C$99A.ForwardRH,C$99t,C$99re.TEMPVector31),m6h_5.transformQuat(C$99A.Up,C$99t,C$99re.TEMPVector32);C$99t=C$99re.TEMPVector32.elements;m6h_5.angleTo(C$99A.ZERO,C$99re.TEMPVector31,C$99re.TEMPVector33);var C$99i=C$99re.TEMPVector33.elements;C$99i[0]==Math.PI/2?(C$99i[1]=m6h_5.arcTanAngle(C$99t[2],C$99t[0]),C$99i[2]=0):C$99i[0]==-Math.PI/2?(C$99i[1]=m6h_5.arcTanAngle(-C$99t[2],-C$99t[0]),C$99i[2]=0):(C$99ie.createRotationY(-C$99i[1],C$99re.TEMPMatrix0),C$99ie.createRotationX(-C$99i[0],C$99re.TEMPMatrix1),C$99A.transformCoordinate(C$99re.TEMPVector32,C$99re.TEMPMatrix0,C$99re.TEMPVector32),C$99A.transformCoordinate(C$99re.TEMPVector32,C$99re.TEMPMatrix1,C$99re.TEMPVector32),C$99i[2]=m6h_5.arcTanAngle(C$99t[1],-C$99t[0])),C$99i[1]<=-Math.PI&&(C$99i[1]=Math.PI),C$99i[2]<=-Math.PI&&(C$99i[2]=Math.PI),C$99i[1]>=Math.PI&&C$99i[2]>=Math.PI&&(C$99i[1]=0,C$99i[2]=0,C$99i[0]=Math.PI-C$99i[0]),C$99e[0]=C$99i[1],C$99e[1]=C$99i[0],C$99e[2]=C$99i[2]},m6h_5.arcTanAngle=function(C$99t,C$99e){return 0==C$99t?1==C$99e?Math.PI/2:-Math.PI/2:0<C$99t?Math.atan(C$99e/C$99t):C$99t<0?0<C$99e?Math.atan(C$99e/C$99t)+Math.PI:Math.atan(C$99e/C$99t)-Math.PI:0},m6h_5.angleTo=function(C$99t,C$99e,C$99i){C$99A.subtract(C$99e,C$99t,C$99re.TEMPVector30),C$99A.normalize(C$99re.TEMPVector30,C$99re.TEMPVector30),C$99i.elements[0]=Math.asin(C$99re.TEMPVector30.y),C$99i.elements[1]=m6h_5.arcTanAngle(-C$99re.TEMPVector30.z,-C$99re.TEMPVector30.x)},m6h_5.transformQuat=function(C$99t,C$99e,C$99i){var C$99i=C$99i.elements,C$99t=C$99t.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99t=C$99t[2],C$99s=C$99e[0],C$99a=C$99e[1],C$99o=C$99e[2],C$99e=C$99e[3],C$99h=C$99e*C$99n+C$99a*C$99t-C$99o*C$99r,C$99l=C$99e*C$99r+C$99o*C$99n-C$99s*C$99t,C$99c=C$99e*C$99t+C$99s*C$99r-C$99a*C$99n,C$99n=-C$99s*C$99n-C$99a*C$99r-C$99o*C$99t;C$99i[0]=C$99h*C$99e+C$99n*-C$99s+C$99l*-C$99o-C$99c*-C$99a,C$99i[1]=C$99l*C$99e+C$99n*-C$99a+C$99c*-C$99s-C$99h*-C$99o,C$99i[2]=C$99c*C$99e+C$99n*-C$99o+C$99h*-C$99a-C$99l*-C$99s},m6h_5.quaterionNormalize=function(C$99t,C$99e){var C$99i=C$99t[0],C$99n=C$99t[1],C$99r=C$99t[2],C$99t=C$99t[3],C$99s=C$99i*C$99i+C$99n*C$99n+C$99r*C$99r+C$99t*C$99t;0<C$99s&&(C$99s=1/Math.sqrt(C$99s),C$99e[0]=C$99i*C$99s,C$99e[1]=C$99n*C$99s,C$99e[2]=C$99r*C$99s,C$99e[3]=C$99t*C$99s)},m6h_5.matrix4x4MultiplyFFF=function(C$99t,C$99e,C$99i){var C$99n,C$99r,C$99s,C$99a,C$99o;if(C$99i===C$99e)for(C$99e=new Float32Array(16),C$99n=0;C$99n<16;++C$99n)C$99e[C$99n]=C$99i[C$99n];for(C$99n=0;C$99n<4;C$99n++)C$99r=C$99t[C$99n],C$99s=C$99t[C$99n+4],C$99a=C$99t[C$99n+8],C$99o=C$99t[C$99n+12],C$99i[C$99n]=C$99r*C$99e[0]+C$99s*C$99e[1]+C$99a*C$99e[2]+C$99o*C$99e[3],C$99i[C$99n+4]=C$99r*C$99e[4]+C$99s*C$99e[5]+C$99a*C$99e[6]+C$99o*C$99e[7],C$99i[C$99n+8]=C$99r*C$99e[8]+C$99s*C$99e[9]+C$99a*C$99e[10]+C$99o*C$99e[11],C$99i[C$99n+12]=C$99r*C$99e[12]+C$99s*C$99e[13]+C$99a*C$99e[14]+C$99o*C$99e[15]},m6h_5.matrix4x4MultiplyMFM=function(C$99t,C$99e,C$99i){m6h_5.matrix4x4MultiplyFFF(C$99t.elements,C$99e,C$99i.elements)},C$99h(m6h_5,["_typeToFunO",function(){return this._typeToFunO={INT16:"writeInt16",SHORT:"writeInt16",UINT16:"writeUint16",UINT32:"writeUint32",FLOAT32:"writeFloat32",INT:"writeInt32",UINT:"writeUint32",BYTE:"writeByte",STRING:"writeUTFString"}},"_tempVector3_0",function(){return this._tempVector3_0=new C$99A},"_tempVector3_1",function(){return this._tempVector3_1=new C$99A},"_tempVector3_2",function(){return this._tempVector3_2=new C$99A},"_tempVector3_3",function(){return this._tempVector3_3=new C$99A},"_tempVector3_4",function(){return this._tempVector3_4=new C$99A},"_tempVector3_5",function(){return this._tempVector3_5=new C$99A},"_tempVector3_6",function(){return this._tempVector3_6=new C$99A},"_tempArray4_0",function(){return this._tempArray4_0=new Float32Array(4)},"_tempArray16_0",function(){return this._tempArray16_0=new Float32Array(16)},"_tempArray16_1",function(){return this._tempArray16_1=new Float32Array(16)},"_tempArray16_2",function(){return this._tempArray16_2=new Float32Array(16)},"_tempArray16_3",function(){return this._tempArray16_3=new Float32Array(16)}]),m6h_5),C$99ve=(C$99t(m5_6h,"Laya3D"),m5_6h._cancelLoadByUrl=function(C$99t){C$99b.loader.cancelLoadByUrl(C$99t),m5_6h._innerFirstLevelLoaderManager.cancelLoadByUrl(C$99t),m5_6h._innerSecondLevelLoaderManager.cancelLoadByUrl(C$99t),m5_6h._innerThirdLevelLoaderManager.cancelLoadByUrl(C$99t),m5_6h._innerFourthLevelLoaderManager.cancelLoadByUrl(C$99t)},m5_6h._changeWebGLSize=function(C$99t,C$99e){C$99k.onStageResize(C$99t,C$99e),C$99Q.clientWidth=C$99t,C$99Q.clientHeight=C$99e},m5_6h.__init__=function(){var C$99t=C$99v.createMap;C$99t.lh=[C$99Pe,"SPRITE3DHIERARCHY"],C$99t.ls=[C$99Re,"SPRITE3DHIERARCHY"],C$99t.lm=[C$99Oe,"MESH"],C$99t.lmat=[C$99ze,"MATERIAL"],C$99t.jpg=[C$99Ve,"nativeimage"],C$99t.jpeg=[C$99Ve,"nativeimage"],C$99t.png=[C$99Ve,"nativeimage"],C$99t.pkm=[C$99Ve,"arraybuffer"],C$99t.raw=[C$99Ne,"arraybuffer"],C$99t.mipmaps=[C$99Ne,"arraybuffer"],C$99g.parserMap.SPRITE3DHIERARCHY=m5_6h._loadHierarchy,C$99g.parserMap.MESH=m5_6h._loadMesh,C$99g.parserMap.MATERIAL=m5_6h._loadMaterial,C$99g.parserMap.TEXTURECUBE=m5_6h._loadTextureCube,C$99g.parserMap.TERRAIN=m5_6h._loadTerrain,m5_6h._innerFirstLevelLoaderManager.on("error",null,m5_6h._eventLoadManagerError),m5_6h._innerSecondLevelLoaderManager.on("error",null,m5_6h._eventLoadManagerError),m5_6h._innerThirdLevelLoaderManager.on("error",null,m5_6h._eventLoadManagerError),m5_6h._innerFourthLevelLoaderManager.on("error",null,m5_6h._eventLoadManagerError)},m5_6h.READ_BLOCK=function(){return m5_6h._readData.pos+=4,!0},m5_6h.READ_DATA=function(){return m5_6h._DATA.offset=m5_6h._readData.getUint32(),m5_6h._DATA.size=m5_6h._readData.getUint32(),!0},m5_6h.READ_STRINGS=function(){var C$99t=[],C$99e={offset:0,size:0};C$99e.offset=m5_6h._readData.getUint16(),C$99e.size=m5_6h._readData.getUint16(),m5_6h._readData.pos,m5_6h._readData.pos=C$99e.offset+m5_6h._DATA.offset;for(var C$99i=0;C$99i<C$99e.size;C$99i++){var C$99n=m5_6h._readData.readUTFString();-1===C$99n.lastIndexOf(".lmat")&&-1===C$99n.lastIndexOf(".lpbr")||C$99t.push(C$99n)}return C$99t},m5_6h.formatRelativePath=function(C$99t,C$99e){var C$99i;if("."===C$99e.charAt(0)){for(var C$99n=(C$99t+C$99e).split("/"),C$99r=0,C$99s=C$99n.length;C$99r<C$99s;C$99r++){var C$99a;".."!=C$99n[C$99r]||0<(C$99a=C$99r-1)&&".."!==C$99n[C$99a]&&(C$99n.splice(C$99a,2),C$99r-=2)}C$99i=C$99n.join("/")}else C$99i=C$99t+C$99e;return C$99i=null!=C$99L.customFormat?C$99L.customFormat(C$99i,null):C$99i},m5_6h._eventLoadManagerError=function(C$99t){C$99b.loader.event("error",C$99t)},m5_6h._addHierarchyInnerUrls=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){C$99n=m5_6h.formatRelativePath(C$99n,C$99r);C$99i&&(C$99n+=C$99i),C$99t.push({url:C$99n,clas:C$99s}),C$99e[C$99r]=C$99n},m5_6h._getSprite3DHierarchyInnerUrls=function(C$99t,C$99c,C$99_,C$99e,C$99i,C$99n,C$99r){var C$99u,C$99s=0,C$99a=0;switch(C$99t.type){case"Scene":var C$99d=C$99t.customProps.lightmaps;for(C$99s=0,C$99a=C$99d.length;C$99s<C$99a;C$99s++){var C$99f=C$99d[C$99s].replace(".exr",".png");m5_6h._addHierarchyInnerUrls(C$99e,C$99i,C$99n,C$99r,C$99f,C$99Ve)}break;case"MeshSprite3D":case"TrailSprite3D":case"LineSprite3D":case"SkinnedMeshSprite3D":if(C$99t.instanceParams)(C$99l=C$99t.instanceParams.loadPath)&&m5_6h._addHierarchyInnerUrls(C$99c,C$99i,C$99n,C$99r,C$99l,C$99Oe);else{(C$99l=(C$99u=C$99t.customProps).meshPath)&&m5_6h._addHierarchyInnerUrls(C$99c,C$99i,C$99n,C$99r,C$99l,C$99Oe);var C$99p=C$99u.materials;if(C$99p)for(C$99s=0,C$99a=C$99p.length;C$99s<C$99a;C$99s++){for(var C$99m=C$99p[C$99s],C$99g=C$99m.type.split("."),C$99o=C$99M.window,C$99h=0,C$99v=C$99g.length;C$99h<C$99v;++C$99h)C$99o=C$99o[this.clasPaths[C$99h]];if("function"!=typeof C$99o)throw"_getSprite3DHierarchyInnerUrls \u9519\u8bef: "+C$99m.type+" \u4e0d\u662f\u7c7b";m5_6h._addHierarchyInnerUrls(C$99_,C$99i,C$99n,C$99r,C$99m.path,C$99o)}}break;case"ShuriKenParticle3D":case"MyShuriKenParticle3D":var C$99l=(C$99u=C$99t.customProps).meshPath;C$99l&&m5_6h._addHierarchyInnerUrls(C$99c,C$99i,C$99n,C$99r,C$99l,C$99Oe);C$99l=C$99u.material;if(C$99l){for(C$99g=C$99l.type.split("."),C$99o=C$99M.window,C$99h=0,C$99v=C$99g.length;C$99h<C$99v;++C$99h)C$99o=C$99o[this.clasPaths[C$99h]];m5_6h._addHierarchyInnerUrls(C$99_,C$99i,C$99n,C$99r,C$99l.path,C$99o)}else{C$99l=C$99u.materialPath;C$99l?m5_6h._addHierarchyInnerUrls(C$99_,C$99i,C$99n,C$99r,C$99l,ShurikenParticleMaterial):(C$99l=C$99u.texturePath)&&m5_6h._addHierarchyInnerUrls(C$99e,C$99i,C$99n,C$99r,C$99l,C$99Ve)}break;case"Terrain":m5_6h._addHierarchyInnerUrls(C$99e,C$99i,C$99n,C$99r,C$99t.customProps.dataPath,TerrainRes)}var C$99x=C$99t.components;for(var C$99y in C$99x){var C$99b=C$99x[C$99y];if("Animator"===C$99y){C$99y=C$99b.avatarPath;C$99y?m5_6h._addHierarchyInnerUrls(C$99e,C$99i,C$99n,C$99r,C$99y,Avatar):(C$99y=C$99b.avatar)&&m5_6h._addHierarchyInnerUrls(C$99e,C$99i,C$99n,C$99r,C$99y.path,Avatar);var C$99w=C$99b.clipPaths;for(C$99s=0,C$99a=C$99w.length;C$99s<C$99a;C$99s++)m5_6h._addHierarchyInnerUrls(C$99e,C$99i,C$99n,C$99r,C$99w[C$99s],AnimationClip)}}var C$99T=C$99t.child;for(C$99s=0,C$99a=C$99T.length;C$99s<C$99a;C$99s++)m5_6h._getSprite3DHierarchyInnerUrls(C$99T[C$99s],C$99c,C$99_,C$99e,C$99i,C$99n,C$99r)},m5_6h._loadHierarchy=function(C$99t){C$99t.on("loaded",null,m5_6h._onHierarchylhLoaded,[C$99t,C$99t._class._getGroup()]),C$99t.load(C$99t.url,"json",!1,null,!0)},m5_6h._onHierarchylhLoaded=function(C$99t,C$99e,C$99i){var C$99n,C$99r,C$99s,C$99c,C$99a,C$99o,C$99h,C$99l;C$99t._class.destroyed?C$99t.endLoad():(C$99a=C$99t.url,C$99l=C$99ge.getURLVerion(C$99a),C$99a=C$99L.getPath(C$99a),m5_6h._getSprite3DHierarchyInnerUrls(C$99i,C$99n=[],C$99r=[],C$99s=[],C$99c={},C$99l,C$99a),m5_6h._onProcessChange(C$99t,0,C$99o=1/(C$99a=(C$99l=C$99n.length+C$99r.length+C$99s.length)+1),1),0<C$99s.length?(C$99l=C$99w.create(null,m5_6h._onProcessChange,[C$99t,C$99o,C$99h=C$99l/C$99a],!1),m5_6h._innerFourthLevelLoaderManager.create(C$99s,C$99w.create(null,m5_6h._onHierarchyInnerForthLevResouLoaded,[C$99t,C$99e,C$99l,C$99i,C$99c,C$99n,C$99r,C$99o+C$99h*C$99s.length,C$99h]),C$99l,null,null,1,!0,C$99e)):m5_6h._onHierarchyInnerForthLevResouLoaded(C$99t,C$99e,null,C$99i,C$99c,C$99n,C$99r,C$99o,C$99h))},m5_6h._onHierarchyInnerForthLevResouLoaded=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){var C$99l;C$99t._class.destroyed?C$99t.endLoad():(C$99i&&C$99i.recover(),0<C$99a.length?(C$99l=C$99w.create(null,m5_6h._onProcessChange,[C$99t,C$99o,C$99h],!1),m5_6h._innerSecondLevelLoaderManager.create(C$99a,C$99w.create(null,m5_6h._onHierarchyInnerSecondLevResouLoaded,[C$99t,C$99e,C$99l,C$99n,C$99r,C$99s,C$99o+C$99h*C$99a.length,C$99h]),C$99i,null,null,1,!0,C$99e)):m5_6h._onHierarchyInnerSecondLevResouLoaded(C$99t,C$99e,null,C$99n,C$99r,C$99s,C$99o,C$99h))},m5_6h._onHierarchyInnerSecondLevResouLoaded=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){C$99t._class.destroyed?C$99t.endLoad():(C$99i&&C$99i.recover(),0<C$99s.length?(C$99a=C$99w.create(null,m5_6h._onProcessChange,[C$99t,C$99a,C$99o],!1),m5_6h._innerFirstLevelLoaderManager.create(C$99s,C$99w.create(null,m5_6h._onHierarchyInnerFirstLevResouLoaded,[C$99t,C$99a,C$99n,C$99r]),C$99i,null,null,1,!0,C$99e)):m5_6h._onHierarchyInnerFirstLevResouLoaded(C$99t,null,C$99n,C$99r))},m5_6h._onHierarchyInnerFirstLevResouLoaded=function(C$99t,C$99e,C$99i,C$99n){C$99e&&C$99e.recover(),C$99t.endLoad([C$99i,C$99n])},m5_6h._loadTerrain=function(C$99t){C$99t.on("loaded",null,m5_6h._onTerrainLtLoaded,[C$99t,C$99t._class._getGroup()]),C$99t.load(C$99t.url,"json",!1,null,!0)},m5_6h._onTerrainLtLoaded=function(C$99t,C$99c,C$99e){if(C$99t._class.destroyed)C$99t.endLoad();else{var C$99i,C$99n=C$99t.url,C$99r=C$99ge.getURLVerion(C$99n),C$99_=C$99L.getPath(C$99n),C$99s=[],C$99a={},C$99o=0,C$99h=0,C$99n=C$99e.heightData;C$99l=C$99n.url,C$99i=m5_6h.formatRelativePath(C$99_,C$99l),C$99r&&(C$99i+=C$99r),C$99l=C$99a[C$99l]=C$99i;var C$99u=C$99e.detailTexture;for(C$99o=0,C$99h=C$99u.length;C$99o<C$99h;C$99o++)C$99s.push({url:C$99u[C$99o].diffuse});var C$99d=C$99e.normalMap;for(C$99o=0,C$99h=C$99d.length;C$99o<C$99h;C$99o++)C$99s.push({url:C$99d[C$99o]});var C$99f=C$99e.alphaMap;for(C$99o=0,C$99h=C$99f.length;C$99o<C$99h;C$99o++)C$99s.push({url:C$99f[C$99o],params:[!1,!1,6408,!0]});for(C$99o=0,C$99h=C$99s.length;C$99o<C$99h;C$99o++){var C$99p=C$99s[C$99o].url;C$99i=m5_6h.formatRelativePath(C$99_,C$99p),C$99r&&(C$99i+=C$99r),C$99s[C$99o].url=C$99i,C$99a[C$99p]=C$99i}var C$99m=C$99s.length,C$99g=C$99m+2,C$99v=1/C$99g;m5_6h._onProcessChange(C$99t,0,C$99v,1);var C$99x={heightMapLoaded:!1,texturesLoaded:!1},C$99y=C$99w.create(null,m5_6h._onProcessChange,[C$99t,C$99v,C$99v],!1);m5_6h._innerFourthLevelLoaderManager.create(C$99l,C$99w.create(null,m5_6h._onTerrainHeightMapLoaded,[C$99t,C$99y,C$99e,C$99a,C$99x]),C$99y,null,[C$99n.numX,C$99n.numZ,C$99n.bitType,C$99n.value],1,!0,C$99c);var C$99l=C$99w.create(null,m5_6h._onProcessChange,[C$99t,2*C$99v,C$99m/C$99g],!1);m5_6h._innerFourthLevelLoaderManager.create(C$99s,C$99w.create(null,m5_6h._onTerrainTexturesLoaded,[C$99t,C$99l,C$99e,C$99a,C$99x]),C$99l,null,null,1,!0,C$99c)}},m5_6h._onTerrainHeightMapLoaded=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99r.heightMapLoaded=!0,C$99r.texturesLoaded&&(C$99t.endLoad([C$99i,C$99n]),C$99e.recover())},m5_6h._onTerrainTexturesLoaded=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99r.texturesLoaded=!0,C$99r.heightMapLoaded&&(C$99t.endLoad([C$99i,C$99n]),C$99e.recover())},m5_6h._loadMesh=function(C$99t){C$99t.on("loaded",null,m5_6h._onMeshLmLoaded,[C$99t,C$99t._class._getGroup()]),C$99t.load(C$99t.url,"arraybuffer",!1,null,!0)},m5_6h._onMeshLmLoaded=function(C$99t,C$99c,C$99e){if(C$99t._class.destroyed)C$99t.endLoad();else{var C$99i,C$99n,C$99r,C$99s,C$99a=C$99t.url,C$99_=C$99ge.getURLVerion(C$99a),C$99u=C$99L.getPath(C$99a),C$99o={},C$99h=0;switch((m5_6h._readData=new C$99x(C$99e)).pos=0,m5_6h._readData.readUTFString()){case"LAYAMODEL:02":case"LAYAMODEL:03":case"LAYAMODEL:0301":var C$99d=m5_6h._readData.getUint32();m5_6h._readData.pos=m5_6h._readData.pos+4,C$99s=m5_6h._readData.getUint16(),m5_6h._readData.pos=m5_6h._readData.pos+8*C$99s;var C$99f=m5_6h._readData.getUint32();for(C$99s=m5_6h._readData.getUint16(),m5_6h._readData.pos=C$99d+C$99f,C$99i=[],C$99h=0;C$99h<C$99s;C$99h++){var C$99p=m5_6h._readData.readUTFString();-1!==C$99p.lastIndexOf(".lmat")&&C$99i.push(C$99p)}break;default:for(m5_6h.READ_BLOCK(),C$99h=0;C$99h<2;C$99h++){var C$99m=m5_6h._readData.getUint16(),C$99g=m5_6h._strings[C$99m],C$99l=m5_6h["READ_"+C$99g];if(null==C$99l)throw new Error("model file err,no this function:"+C$99m+" "+C$99g);1===C$99h?C$99i=C$99l.call():C$99l.call()}}for(C$99h=0,C$99r=C$99i.length;C$99h<C$99r;C$99h++){var C$99v=C$99i[C$99h];C$99n=m5_6h.formatRelativePath(C$99u,C$99v),C$99_&&(C$99n+=C$99_),C$99i[C$99h]=C$99n,C$99o[C$99v]=C$99n}0<C$99i.length?(m5_6h._onProcessChange(C$99t,0,.5,1),C$99a=C$99w.create(null,m5_6h._onProcessChange,[C$99t,.5,.5],!1),m5_6h._innerSecondLevelLoaderManager.create(C$99i,C$99w.create(null,m5_6h._onMeshMateialLoaded,[C$99t,C$99a,C$99e,C$99o]),C$99a,null,null,1,!0,C$99c)):C$99t.endLoad([C$99e,C$99o])}},m5_6h._onMeshMateialLoaded=function(C$99t,C$99e,C$99i,C$99n){C$99t.endLoad([C$99i,C$99n]),C$99e.recover()},m5_6h._getMaterialTexturePath=function(C$99t,C$99e,C$99i){var C$99n=C$99t.length-4;return C$99t.indexOf(".dds")!=C$99n&&C$99t.indexOf(".tga")!=C$99n&&C$99t.indexOf(".exr")!=C$99n&&C$99t.indexOf(".DDS")!=C$99n&&C$99t.indexOf(".TGA")!=C$99n&&C$99t.indexOf(".EXR")!=C$99n||(C$99t=C$99t.substr(0,C$99n)+".png"),C$99t=m5_6h.formatRelativePath(C$99i,C$99t),C$99e&&(C$99t+=C$99e),C$99t},m5_6h._loadMaterial=function(C$99t){C$99t.on("loaded",null,m5_6h._onMaterilLmatLoaded,[C$99t,C$99t._class._getGroup()]),C$99t.load(C$99t.url,"json",!1,null,!0)},m5_6h._onMaterilLmatLoaded=function(C$99t,C$99c,C$99_){if(C$99t._class.destroyed)C$99t.endLoad();else{var C$99e,C$99i=C$99t.url,C$99n=C$99ge.getURLVerion(C$99i),C$99r=C$99L.getPath(C$99i),C$99s=[],C$99a={},C$99i=C$99_.customProps,C$99o=C$99_.version;if(C$99o)switch(C$99o){case"LAYAMATERIAL:01":case"LAYAMATERIAL:02":for(var C$99u=C$99_.props.textures,C$99d=0,C$99f=C$99u.length;C$99d<C$99f;C$99d++){var C$99p=C$99u[C$99d],C$99h=C$99p.path;var C$99m;C$99h&&(C$99m=C$99h.length-4,C$99h.indexOf(".exr")!=C$99m&&C$99h.indexOf(".EXR")!=C$99m||(C$99h=C$99h.substr(0,C$99m)+".png"),C$99e=m5_6h.formatRelativePath(C$99r,C$99h),C$99n&&(C$99e+=C$99n),C$99s.push({url:C$99e,params:C$99p.params}),C$99a[C$99h]=C$99e)}break;default:throw new Error("Laya3D:unkonwn version.")}else{C$99o=C$99i.diffuseTexture.texture2D;C$99o&&(C$99e=m5_6h._getMaterialTexturePath(C$99o,C$99n,C$99r),C$99s.push(C$99e),C$99a[C$99o]=C$99e),C$99i.normalTexture&&(C$99l=C$99i.normalTexture.texture2D)&&(C$99e=m5_6h._getMaterialTexturePath(C$99l,C$99n,C$99r),C$99s.push(C$99e),C$99a[C$99l]=C$99e),!C$99i.specularTexture||(C$99o=C$99i.specularTexture.texture2D)&&(C$99e=m5_6h._getMaterialTexturePath(C$99o,C$99n,C$99r),C$99s.push(C$99e),C$99a[C$99o]=C$99e),!C$99i.emissiveTexture||(C$99l=C$99i.emissiveTexture.texture2D)&&(C$99e=m5_6h._getMaterialTexturePath(C$99l,C$99n,C$99r),C$99s.push(C$99e),C$99a[C$99l]=C$99e),!C$99i.ambientTexture||(C$99o=C$99i.ambientTexture.texture2D)&&(C$99e=m5_6h._getMaterialTexturePath(C$99o,C$99n,C$99r),C$99s.push(C$99e),C$99a[C$99o]=C$99e),!C$99i.reflectTexture||(C$99l=C$99i.reflectTexture.texture2D)&&(C$99e=m5_6h._getMaterialTexturePath(C$99l,C$99n,C$99r),C$99s.push(C$99e),C$99a[C$99l]=C$99e)}var C$99o=C$99s.length,C$99i=C$99o+1,C$99l=1/C$99i;m5_6h._onProcessChange(C$99t,0,C$99l,1),0<C$99o?(C$99l=C$99w.create(null,m5_6h._onProcessChange,[C$99t,C$99l,C$99o/C$99i],!1),m5_6h._innerFourthLevelLoaderManager.create(C$99s,C$99w.create(null,m5_6h._onMateialTexturesLoaded,[C$99t,C$99l,C$99_,C$99a]),C$99l,C$99Ve,null,1,!0,C$99c)):m5_6h._onMateialTexturesLoaded(C$99t,null,C$99_,null)}},m5_6h._onMateialTexturesLoaded=function(C$99t,C$99e,C$99i,C$99n){C$99t.endLoad([C$99i,C$99n]),C$99e&&C$99e.recover()},m5_6h._loadTextureCube=function(C$99t){C$99t.on("loaded",null,m5_6h._onTextureCubeLtcLoaded,[C$99t]),C$99t.load(C$99t.url,"json",!1,null,!0)},m5_6h._onTextureCubeLtcLoaded=function(C$99t,C$99e){var C$99i;C$99t._class.destroyed?C$99t.endLoad():(C$99i=C$99L.getPath(C$99t.url),C$99i=[m5_6h.formatRelativePath(C$99i,C$99e.px),m5_6h.formatRelativePath(C$99i,C$99e.nx),m5_6h.formatRelativePath(C$99i,C$99e.py),m5_6h.formatRelativePath(C$99i,C$99e.ny),m5_6h.formatRelativePath(C$99i,C$99e.pz),m5_6h.formatRelativePath(C$99i,C$99e.nz)],m5_6h._onProcessChange(C$99t,0,1/7,1),C$99e=C$99w.create(null,m5_6h._onProcessChange,[C$99t,1/7,6/7],!1),m5_6h._innerFourthLevelLoaderManager.load(C$99i,C$99w.create(null,m5_6h._onTextureCubeImagesLoaded,[C$99t,C$99i,C$99e]),C$99e,"nativeimage"))},m5_6h._onTextureCubeImagesLoaded=function(C$99t,C$99e,C$99i){var C$99n=[];C$99n.length=6;for(var C$99r=0;C$99r<6;C$99r++){var C$99s=C$99e[C$99r];C$99n[C$99r]=C$99g.getRes(C$99s),C$99g.clearRes(C$99s)}C$99t.endLoad(C$99n),C$99i.recover()},m5_6h._onProcessChange=function(C$99t,C$99e,C$99i,C$99n){(C$99n=C$99e+C$99n*C$99i)<1&&C$99t.event("progress",C$99n)},m5_6h.init=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){if(void 0===C$99i&&(C$99i=!1),void 0===C$99n&&(C$99n=!1),void 0===C$99r&&(C$99r=!0),void 0===C$99s&&(C$99s=!0),C$99D.update3DLoop=function(){},C$99D.cancelLoadByUrl=function(C$99t){m5_6h._cancelLoadByUrl(C$99t)},C$99f.isAntialias=C$99i,C$99f.isAlpha=C$99n,C$99f.premultipliedAlpha=C$99r,C$99f.isStencil=C$99s,!C$99k.enable())throw new Error("Laya3D\u542f\u52a8\u5931\u8d25\uff01\n\u6a21\u62df\u5668\uff1a\u8bf7\u5c1d\u8bd5\u4f7f\u7528\u300a\u96f7\u7535\u6a21\u62df\u5668\u300b\u6700\u65b0\u7248\u672c\uff01\n\u6d4f\u89c8\u5668\uff1a\u8bf7\u5c1d\u8bd5\u5173\u95ed\u6d4f\u89c8\u5668\uff0c\u786e\u4fdd\u6d4f\u89c8\u5668\u8fdb\u7a0b\u5168\u90e8\u7ed3\u675f\u540e\u518d\u8fdb\u6e38\u620f\uff01");C$99D.changeWebGLSize=m5_6h._changeWebGLSize,C$99T.is3DMode=!0,C$99b.init(C$99t,C$99e),C$99$.__init__(),C$99ue.__init__(),C$99qe.__init__(),C$99O.__init__(),m5_6h.__init__(),C$99c.maxTextureCount=2,(m5_6h.debugMode||C$99J.debugMode)&&(m5_6h._debugPhasorSprite=new C$99X)},m5_6h.HIERARCHY="SPRITE3DHIERARCHY",m5_6h.MESH="MESH",m5_6h.MATERIAL="MATERIAL",m5_6h.PBRMATERIAL="PBRMTL",m5_6h.TEXTURECUBE="TEXTURECUBE",m5_6h.TERRAIN="TERRAIN",m5_6h._readData=null,m5_6h._debugPhasorSprite=null,m5_6h.debugMode=!1,C$99h(m5_6h,["_DATA",function(){return this._DATA={offset:0,size:0}},"_strings",function(){return this._strings=["BLOCK","DATA","STRINGS"]},"_innerFirstLevelLoaderManager",function(){return this._innerFirstLevelLoaderManager=new C$99v},"_innerSecondLevelLoaderManager",function(){return this._innerSecondLevelLoaderManager=new C$99v},"_innerThirdLevelLoaderManager",function(){return this._innerThirdLevelLoaderManager=new C$99v},"_innerFourthLevelLoaderManager",function(){return this._innerFourthLevelLoaderManager=new C$99v}]),m5_6h),C$99xe=(C$99t(kbgrja,"laya.d3.animation.AnimationTransform3D",C$99m),(C$99s=kbgrja.prototype)._getlocalMatrix=function(){return this._localUpdate&&(C$99ge._createAffineTransformationArray(this._localPosition,this._localRotation,this._localScale,this._localMatrix),this._localUpdate=!1),this._localMatrix},C$99s._onWorldTransform=function(){if(!this._worldUpdate){this._worldUpdate=!0;for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._onWorldTransform()}},C$99s._setWorldMatrixAndUpdate=function(C$99t){if(this._worldMatrix=C$99t,null==this._parent)throw new Error("don't need to set worldMatrix to root Node.");if(null==this._parent._parent)for(var C$99e=this._getlocalMatrix(),C$99i=0;C$99i<16;++C$99i)this._worldMatrix[C$99i]=C$99e[C$99i];else C$99ge.matrix4x4MultiplyFFF(this._parent.getWorldMatrix(),this._getlocalMatrix(),this._worldMatrix);this._worldUpdate=!1},C$99s._setWorldMatrixNoUpdate=function(C$99t){this._worldMatrix=C$99t},C$99s._setWorldMatrixIgnoreUpdate=function(C$99t){this._worldMatrix=C$99t,this._worldUpdate=!1},C$99s.getLocalPosition=function(){return this._localPosition},C$99s.setLocalPosition=function(C$99t){var C$99e,C$99i,C$99n;this._parent?(this._localPosition=C$99t,this._localUpdate=!0,this._onWorldTransform()):(C$99e=this._entity.owner._transform,(C$99n=(C$99i=this._entity.localPosition).elements)[0]=C$99t[0],C$99n[1]=C$99t[1],C$99n[2]=C$99t[2],C$99e.localPosition=C$99i)},C$99s.getLocalRotation=function(){var C$99t;return this._localQuaternionUpdate&&(C$99t=this._localRotationEuler,C$99ge._quaternionCreateFromYawPitchRollArray(C$99t[1]/kbgrja._angleToRandin,C$99t[0]/kbgrja._angleToRandin,C$99t[2]/kbgrja._angleToRandin,this._localRotation),this._localQuaternionUpdate=!1),this._localRotation},C$99s.setLocalRotation=function(C$99t){var C$99e,C$99i,C$99n;this._parent?(this._localRotation=C$99t,C$99ge.quaterionNormalize(this._localRotation,this._localRotation),this._locaEulerlUpdate=!0,this._localQuaternionUpdate=!1,this._localUpdate=!0,this._onWorldTransform()):(C$99e=this._entity.owner._transform,(C$99n=(C$99i=this._entity.localRotation).elements)[0]=C$99t[0],C$99n[1]=C$99t[1],C$99n[2]=C$99t[2],C$99n[3]=C$99t[3],C$99e.localRotation=C$99i)},C$99s.getLocalScale=function(){return this._localScale},C$99s.setLocalScale=function(C$99t){var C$99e,C$99i,C$99n;this._parent?(this._localScale=C$99t,this._localUpdate=!0,this._onWorldTransform()):(C$99e=this._entity.owner._transform,(C$99n=(C$99i=this._entity.localScale).elements)[0]=C$99t[0],C$99n[1]=C$99t[1],C$99n[2]=C$99t[2],C$99e.localScale=C$99i)},C$99s.getLocalRotationEuler=function(){var C$99t,C$99e;return this._locaEulerlUpdate&&(C$99ge.getYawPitchRoll(this._localRotation,kbgrja._tempVector3),(C$99e=this._localRotationEuler)[0]=(C$99t=kbgrja._tempVector3)[1]*kbgrja._angleToRandin,C$99e[1]=C$99t[0]*kbgrja._angleToRandin,C$99e[2]=C$99t[2]*kbgrja._angleToRandin,this._locaEulerlUpdate=!1),this._localRotationEuler},C$99s.setLocalRotationEuler=function(C$99t){var C$99e,C$99i,C$99n;this._parent?(C$99ge._quaternionCreateFromYawPitchRollArray(C$99t[1]/kbgrja._angleToRandin,C$99t[0]/kbgrja._angleToRandin,C$99t[2]/kbgrja._angleToRandin,this._localRotation),this._localRotationEuler=C$99t,this._locaEulerlUpdate=!1,this._localQuaternionUpdate=!1,this._localUpdate=!0,this._onWorldTransform()):(C$99e=this._entity.owner._transform,(C$99n=(C$99i=this._entity.localRotationEuler).elements)[0]=C$99t[0],C$99n[1]=C$99t[1],C$99n[2]=C$99t[2],C$99e.localRotationEuler=C$99i)},C$99s.getWorldMatrix=function(){if(this._worldUpdate){if(null!=this._parent._parent)C$99ge.matrix4x4MultiplyFFF(this._parent.getWorldMatrix(),this._getlocalMatrix(),this._worldMatrix);else for(var C$99t=this._getlocalMatrix(),C$99e=0;C$99e<16;++C$99e)this._worldMatrix[C$99e]=C$99t[C$99e];this._worldUpdate=!1}return this._worldMatrix},C$99s.setParent=function(C$99t){var C$99e,C$99i;this._parent!==C$99t&&(this._parent&&(C$99i=(C$99e=this._parent._childs).indexOf(this),C$99e.splice(C$99i,1)),C$99t&&(C$99t._childs.push(this),C$99t&&this._onWorldTransform()),this._parent=C$99t)},C$99h(kbgrja,["_tempVector3",function(){return this._tempVector3=new Float32Array(3)},"_angleToRandin",function(){return this._angleToRandin=180/Math.PI}]),kbgrja),C$99s=(C$99t(_mw5,"laya.d3.component.Component3D",C$99m),C$99s=_mw5.prototype,C$99b.imps(C$99s,{"laya.d3.core.render.IUpdate":!0,"laya.resource.IDestroy":!0}),C$99s._initialize=function(C$99t){this._owner=C$99t,this._enable=!0,this.started=!1,this._load(C$99t)},C$99s._destroy=function(){this._unload(this._owner),this._owner=null,this._destroyed=!0},C$99s._load=function(C$99t){},C$99s._start=function(C$99t){},C$99s._update=function(C$99t){},C$99s._lateUpdate=function(C$99t){},C$99s._preRenderUpdate=function(C$99t){},C$99s._postRenderUpdate=function(C$99t){},C$99s._unload=function(C$99t){this.offAll()},C$99s._cloneTo=function(C$99t){},C$99e(0,C$99s,"id",function(){return this._id}),C$99e(0,C$99s,"destroyed",function(){return this._destroyed}),C$99e(0,C$99s,"owner",function(){return this._owner}),C$99e(0,C$99s,"enable",function(){return this._enable},function(C$99t){this._enable!==C$99t&&(this._enable=C$99t,this.event("enablechanged",this._enable))}),C$99e(0,C$99s,"isSingleton",function(){return _mw5._isSingleton}),_mw5._isSingleton=!0,_mw5._uniqueIDCounter=1,_mw5),C$99ye=(C$99t(t9c24i,"laya.d3.core.GeometryFilter",C$99m),C$99ye=t9c24i.prototype,C$99b.imps(C$99ye,{"laya.resource.IDestroy":!0}),C$99ye._destroy=function(){this.offAll(),this._destroyed=!0},C$99e(0,C$99ye,"_isAsyncLoaded",function(){return!0}),C$99e(0,C$99ye,"_originalBoundingBoxCorners",function(){throw new Error("BaseRender: must override it.")}),C$99e(0,C$99ye,"_originalBoundingSphere",function(){throw new Error("BaseRender: must override it.")}),C$99e(0,C$99ye,"_originalBoundingBox",function(){throw new Error("BaseRender: must override it.")}),C$99e(0,C$99ye,"destroyed",function(){return this._destroyed}),t9c24i),C$99be=(C$99t(w5y_mh,"laya.d3.core.render.BaseRender",C$99m),C$99a=w5y_mh.prototype,C$99b.imps(C$99a,{"laya.resource.IDestroy":!0}),C$99a._changeMaterialReference=function(C$99t,C$99e){C$99t&&C$99t._removeReference(),C$99e._addReference()},C$99a._getInstanceMaterial=function(C$99t,C$99e){var C$99i=new C$99t.constructor;return C$99t.cloneTo(C$99i),C$99i.name=C$99i.name+"(Instance)",this._materialsInstance[C$99e]=!0,this._changeMaterialReference(this._materials[C$99e],C$99i),this._materials[C$99e]=C$99i},C$99a._setShaderValuelightMap=function(C$99t){this._setShaderValueTexture(3,C$99t)},C$99a._onWorldMatNeedChange=function(){this._boundingSphereNeedChange=!0,this._boundingBoxNeedChange=!0,this._boundingBoxCenterNeedChange=!0,this._octreeNodeNeedChange=!0},C$99a._renderRenderableBoundBox=function(){var C$99t=C$99ve._debugPhasorSprite,C$99e=this.boundingBox,C$99i=w5y_mh._tempBoundBoxCorners;C$99e.getCorners(C$99i),C$99t.line(C$99i[0],w5y_mh._greenColor,C$99i[1],w5y_mh._greenColor),C$99t.line(C$99i[2],w5y_mh._greenColor,C$99i[3],w5y_mh._greenColor),C$99t.line(C$99i[4],w5y_mh._greenColor,C$99i[5],w5y_mh._greenColor),C$99t.line(C$99i[6],w5y_mh._greenColor,C$99i[7],w5y_mh._greenColor),C$99t.line(C$99i[0],w5y_mh._greenColor,C$99i[3],w5y_mh._greenColor),C$99t.line(C$99i[1],w5y_mh._greenColor,C$99i[2],w5y_mh._greenColor),C$99t.line(C$99i[2],w5y_mh._greenColor,C$99i[6],w5y_mh._greenColor),C$99t.line(C$99i[3],w5y_mh._greenColor,C$99i[7],w5y_mh._greenColor),C$99t.line(C$99i[0],w5y_mh._greenColor,C$99i[4],w5y_mh._greenColor),C$99t.line(C$99i[1],w5y_mh._greenColor,C$99i[5],w5y_mh._greenColor),C$99t.line(C$99i[4],w5y_mh._greenColor,C$99i[7],w5y_mh._greenColor),C$99t.line(C$99i[5],w5y_mh._greenColor,C$99i[6],w5y_mh._greenColor)},C$99a._calculateBoundingSphere=function(){throw"BaseRender: must override it."},C$99a._calculateBoundingBox=function(){throw"BaseRender: must override it."},C$99a._setShaderValueTexture=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e)},C$99a._setShaderValueMatrix4x4=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e?C$99e.elements:null)},C$99a._setShaderValueColor=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e?C$99e.elements:null)},C$99a._setShaderValueBuffer=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e)},C$99a._setShaderValueInt=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e)},C$99a._setShaderValueBool=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e)},C$99a._setShaderValueNumber=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e)},C$99a._setShaderValueVector2=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e?C$99e.elements:null)},C$99a._addShaderDefine=function(C$99t){this._owner._shaderDefineValue|=C$99t},C$99a._removeShaderDefine=function(C$99t){this._owner._shaderDefineValue&=~C$99t},C$99a._renderUpdate=function(C$99t){return!0},C$99a._applyLightMapParams=function(){var C$99t,C$99e;0<=this._lightmapIndex&&(C$99t=this._owner.scene)&&(C$99e=C$99t.getlightmaps()[this._lightmapIndex])?(this._addShaderDefine(C$99Ue.SAHDERDEFINE_LIGHTMAP),C$99e.loaded?this._setShaderValuelightMap(C$99e):C$99e.once("loaded",this,this._setShaderValuelightMap)):this._removeShaderDefine(C$99Ue.SAHDERDEFINE_LIGHTMAP)},C$99a._updateOctreeNode=function(){var C$99t=this._treeNode;C$99t&&this._octreeNodeNeedChange&&(C$99t.updateObject(this),this._octreeNodeNeedChange=!1)},C$99a._destroy=function(){this.offAll();var C$99t=0,C$99e=0;for(C$99t=0,C$99e=this._renderElements.length;C$99t<C$99e;C$99t++)this._renderElements[C$99t]._destroy();for(C$99t=0,C$99e=this._materials.length;C$99t<C$99e;C$99t++)this._materials[C$99t]._removeReference();this._renderElements=null,this._owner=null,this._materials=null,this._boundingBox=null,this._boundingBoxCenter=null,this._boundingSphere=null,this._lightmapScaleOffset=null,this._destroyed=!0},C$99e(0,C$99a,"boundingSphere",function(){return this._boundingSphereNeedChange&&(this._calculateBoundingSphere(),this._boundingSphereNeedChange=!1),this._boundingSphere}),C$99e(0,C$99a,"id",function(){return this._id}),C$99e(0,C$99a,"material",function(){var C$99t=this._materials[0];return C$99t&&!this._materialsInstance[0]&&(C$99t=this._getInstanceMaterial(C$99t,0),this.event("materialchanged",[this,0,C$99t])),this._materials[0]},function(C$99t){this.sharedMaterial=C$99t}),C$99e(0,C$99a,"sharedMaterial",function(){return this._materials[0]},function(C$99t){var C$99e=this._materials[0];C$99e!==C$99t&&(this._materials[0]=C$99t,this._materialsInstance[0]=!1,this._changeMaterialReference(C$99e,C$99t),this.event("materialchanged",[this,0,C$99t]))}),C$99e(0,C$99a,"lightmapIndex",function(){return this._lightmapIndex},function(C$99t){this._lightmapIndex=C$99t,this._applyLightMapParams()}),C$99e(0,C$99a,"lightmapScaleOffset",function(){return this._lightmapScaleOffset},function(C$99t){this._lightmapScaleOffset=C$99t,this._setShaderValueColor(2,C$99t),this._addShaderDefine(C$99Ue.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV)}),C$99e(0,C$99a,"enable",function(){return this._enable},function(C$99t){this._enable=C$99t,this.event("enablechanged",[this,C$99t])}),C$99e(0,C$99a,"materials",function(){for(var C$99t=0,C$99e=this._materials.length;C$99t<C$99e;C$99t++){var C$99i;this._materialsInstance[C$99t]||(C$99i=this._getInstanceMaterial(this._materials[C$99t],C$99t),this.event("materialchanged",[this,C$99t,C$99i]))}return this._materials.slice()},function(C$99t){this.sharedMaterials=C$99t}),C$99e(0,C$99a,"sharedMaterials",function(){return this._materials.slice()},function(C$99t){if(!C$99t)throw new Error("MeshRender: shadredMaterials value can't be null.");var C$99e=C$99t.length;this._materialsInstance.length=C$99e;for(var C$99i=0;C$99i<C$99e;C$99i++){var C$99n=this._materials[C$99i];C$99n!==C$99t[C$99i]&&(this._materialsInstance[C$99i]=!1,this._changeMaterialReference(C$99n,C$99t[C$99i]),this.event("materialchanged",[this,C$99i,C$99t[C$99i]]))}this._materials=C$99t}),C$99e(0,C$99a,"boundingBox",function(){return this._boundingBoxNeedChange&&(this._calculateBoundingBox(),this._boundingBoxNeedChange=!1),this._boundingBox}),C$99e(0,C$99a,"boundingBoxCenter",function(){var C$99t;return this._boundingBoxCenterNeedChange&&(C$99t=this.boundingBox,C$99A.add(C$99t.min,C$99t.max,this._boundingBoxCenter),C$99A.scale(this._boundingBoxCenter,.5,this._boundingBoxCenter),this._boundingBoxCenterNeedChange=!1),this._boundingBoxCenter}),C$99e(0,C$99a,"receiveShadow",function(){return this._receiveShadow},function(C$99t){this._receiveShadow!==C$99t&&((this._receiveShadow=C$99t)?this._addShaderDefine(C$99fe.SHADERDEFINE_RECEIVE_SHADOW):this._removeShaderDefine(C$99fe.SHADERDEFINE_RECEIVE_SHADOW))}),C$99e(0,C$99a,"destroyed",function(){return this._destroyed}),w5y_mh._uniqueIDCounter=0,C$99h(w5y_mh,["_tempBoundBoxCorners",function(){return this._tempBoundBoxCorners=[new C$99A,new C$99A,new C$99A,new C$99A,new C$99A,new C$99A,new C$99A,new C$99A]},"_greenColor",function(){return this._greenColor=new C$99he(0,1,0,1)}]),w5y_mh),C$99we=(C$99t(xeo,"laya.d3.core.Transform3D",C$99m),(C$99a=xeo.prototype)._updateLocalMatrix=function(){var C$99t,C$99e,C$99i,C$99n;!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?C$99ie.createAffineTransformation(this._localPosition,this.localRotation,this._localScale,this._localMatrix):(C$99A.multiply(this.pivot,this._localScale,C$99n=xeo._tempVector30),C$99A.subtract(C$99n,this.pivot,C$99t=xeo._tempVector31),C$99i=this.localRotation,C$99A.transformQuat(C$99n,C$99i,C$99e=xeo._tempVector32),C$99A.subtract(C$99e,C$99n,C$99e),C$99A.subtract(this._localPosition,C$99t,C$99n=xeo._tempVector33),C$99A.subtract(C$99n,C$99e,C$99n),C$99ie.createAffineTransformation(C$99n,C$99i,this._localScale,this._localMatrix))},C$99a._onWorldPositionRotationTransform=function(){if(!this._worldUpdate||!this._positionUpdate||!this._rotationUpdate){this._worldUpdate=this._positionUpdate=this._rotationUpdate=!0,this.event("worldmatrixneedchanged");for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._onWorldPositionRotationTransform()}},C$99a._onWorldPositionScaleTransform=function(){if(!this._worldUpdate||!this._positionUpdate||!this._scaleUpdate){this._worldUpdate=this._positionUpdate=this._scaleUpdate=!0,this.event("worldmatrixneedchanged");for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._onWorldPositionScaleTransform()}},C$99a._onWorldPositionTransform=function(){if(!this._worldUpdate||!this._positionUpdate){this._worldUpdate=this._positionUpdate=!0,this.event("worldmatrixneedchanged");for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._onWorldPositionTransform()}},C$99a._onWorldRotationTransform=function(){if(!this._worldUpdate||!this._rotationUpdate){this._worldUpdate=this._rotationUpdate=!0,this.event("worldmatrixneedchanged");for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._onWorldPositionRotationTransform()}},C$99a._onWorldScaleTransform=function(){if(!this._worldUpdate||!this._scaleUpdate){this._worldUpdate=this._scaleUpdate=!0,this.event("worldmatrixneedchanged");for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._onWorldPositionScaleTransform()}},C$99a._onWorldTransform=function(){if(!(this._worldUpdate&&this._positionUpdate&&this._rotationUpdate&&this._scaleUpdate)){this._worldUpdate=this._positionUpdate=this._rotationUpdate=this._scaleUpdate=!0,this.event("worldmatrixneedchanged");for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._onWorldTransform()}},C$99a.translate=function(C$99t,C$99e){(C$99e=void 0===C$99e?!0:C$99e)?(C$99ie.createFromQuaternion(this.localRotation,xeo._tempMatrix0),C$99A.transformCoordinate(C$99t,xeo._tempMatrix0,xeo._tempVector30),C$99A.add(this.localPosition,xeo._tempVector30,this._localPosition),this.localPosition=this._localPosition):(C$99A.add(this.position,C$99t,this._position),this.position=this._position)},C$99a.rotate=function(C$99t,C$99e,C$99i){void 0===C$99e&&(C$99e=!0),C$99i=(C$99i=void 0===C$99i?!0:C$99i)?C$99t:(C$99A.scale(C$99t,Math.PI/180,xeo._tempVector30),xeo._tempVector30),C$99re.createFromYawPitchRoll(C$99i.y,C$99i.x,C$99i.z,xeo._tempQuaternion0),C$99e?(C$99re.multiply(this._localRotation,xeo._tempQuaternion0,this._localRotation),this.localRotation=this._localRotation):(C$99re.multiply(xeo._tempQuaternion0,this.rotation,this._rotation),this.rotation=this._rotation)},C$99a.lookAt=function(C$99t,C$99e,C$99i){var C$99n,C$99r=C$99t.elements;(C$99i=void 0===C$99i?!1:C$99i)?(C$99n=this._localPosition.elements,Math.abs(C$99n[0]-C$99r[0])<C$99te.zeroTolerance&&Math.abs(C$99n[1]-C$99r[1])<C$99te.zeroTolerance&&Math.abs(C$99n[2]-C$99r[2])<C$99te.zeroTolerance||(C$99re.lookAt(this._localPosition,C$99t,C$99e,this._localRotation),this._localRotation.invert(this._localRotation),this.localRotation=this._localRotation)):(C$99n=(C$99i=this.position).elements,Math.abs(C$99n[0]-C$99r[0])<C$99te.zeroTolerance&&Math.abs(C$99n[1]-C$99r[1])<C$99te.zeroTolerance&&Math.abs(C$99n[2]-C$99r[2])<C$99te.zeroTolerance||(C$99re.lookAt(C$99i,C$99t,C$99e,this._rotation),this._rotation.invert(this._rotation),this.rotation=this._rotation))},C$99e(0,C$99a,"_isFrontFaceInvert",function(){var C$99t=this.scale,C$99e=C$99t.x<0;return C$99t.y<0&&(C$99e=!C$99e),C$99e=C$99t.z<0?!C$99e:C$99e}),C$99e(0,C$99a,"owner",function(){return this._owner}),C$99e(0,C$99a,"localRotation",function(){var C$99t;return this._localQuaternionUpdate&&(C$99t=this._localRotationEuler.elements,C$99re.createFromYawPitchRoll(C$99t[1]/xeo._angleToRandin,C$99t[0]/xeo._angleToRandin,C$99t[2]/xeo._angleToRandin,this._localRotation)),this._localRotation},function(C$99t){this._localRotation=C$99t,this._localRotation.normalize(this._localRotation),this._locaEulerlUpdate=!0,this._localQuaternionUpdate=!1,this._localUpdate=!0,!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?this._onWorldRotationTransform():this._onWorldPositionRotationTransform()}),C$99e(0,C$99a,"worldMatrix",function(){return this._worldUpdate&&(null!=this._parent?C$99ie.multiply(this._parent.worldMatrix,this.localMatrix,this._worldMatrix):this.localMatrix.cloneTo(this._worldMatrix),this._worldUpdate=!1),this._worldMatrix},function(C$99t){null===this._parent?C$99t.cloneTo(this._localMatrix):(this._parent.worldMatrix.invert(this._localMatrix),C$99ie.multiply(this._localMatrix,C$99t,this._localMatrix)),this.localMatrix=this._localMatrix,this._worldMatrix=C$99t,this._worldUpdate=!1}),C$99e(0,C$99a,"worldNeedUpdate",function(){return this._worldUpdate}),C$99e(0,C$99a,"localMatrix",function(){return this._localUpdate&&(this._updateLocalMatrix(),this._localUpdate=!1),this._localMatrix},function(C$99t){this._localMatrix=C$99t,this._localMatrix.decomposeTransRotScale(this._localPosition,this._localRotation,this._localScale),this._localUpdate=!1,this._onWorldTransform()}),C$99e(0,C$99a,"dummy",function(){return this._dummy},function(C$99t){this._dummy!==C$99t&&(this._dummy&&(this._dummy._entity=null),C$99t&&(C$99t._entity=this),this._dummy=C$99t)}),C$99e(0,C$99a,"localPosition",function(){return this._localPosition},function(C$99t){this._localPosition=C$99t,this._localUpdate=!0,this._onWorldPositionTransform()}),C$99e(0,C$99a,"position",function(){var C$99t;return this._positionUpdate&&(null!=this._parent?(C$99t=this._parent.position,C$99A.multiply(this._localPosition,this._parent.scale,xeo._tempVector30),C$99A.transformQuat(xeo._tempVector30,this._parent.rotation,xeo._tempVector30),C$99A.add(C$99t,xeo._tempVector30,this._position)):this._localPosition.cloneTo(this._position),this._positionUpdate=!1),this._position},function(C$99t){var C$99e,C$99i,C$99n,C$99r,C$99s;null!=this._parent?(C$99A.subtract(C$99t,this._parent.position,this._localPosition),C$99e=(C$99n=this._parent.scale.elements)[0],C$99i=C$99n[1],C$99n=C$99n[2],1===C$99e&&1===C$99i&&1===C$99n||((C$99s=(C$99r=xeo._tempVector30).elements)[0]=1/C$99e,C$99s[1]=1/C$99i,C$99s[2]=1/C$99n,C$99A.multiply(this._localPosition,C$99r,this._localPosition)),this._parent.rotation.invert(xeo._tempQuaternion0),C$99A.transformQuat(this._localPosition,xeo._tempQuaternion0,this._localPosition)):C$99t.cloneTo(this._localPosition),this.localPosition=this._localPosition,this._position=C$99t,this._positionUpdate=!1}),C$99e(0,C$99a,"localScale",function(){return this._localScale},function(C$99t){this._localScale=C$99t,this._localUpdate=!0,!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?this._onWorldScaleTransform():this._onWorldPositionScaleTransform()}),C$99e(0,C$99a,"localRotationEuler",function(){var C$99t,C$99e;return this._locaEulerlUpdate&&(this._localRotation.getYawPitchRoll(xeo._tempVector30),C$99t=xeo._tempVector30.elements,(C$99e=this._localRotationEuler.elements)[0]=C$99t[1]*xeo._angleToRandin,C$99e[1]=C$99t[0]*xeo._angleToRandin,C$99e[2]=C$99t[2]*xeo._angleToRandin),this._localRotationEuler},function(C$99t){this._localRotationEuler=C$99t,this._locaEulerlUpdate=!1,this._localQuaternionUpdate=!0,this._localUpdate=!0,!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?this._onWorldRotationTransform():this._onWorldPositionRotationTransform()}),C$99e(0,C$99a,"rotation",function(){return this._rotationUpdate&&(null!=this._parent?C$99re.multiply(this._parent.rotation,this.localRotation,this._rotation):this.localRotation.cloneTo(this._rotation),this._rotationUpdate=!1),this._rotation},function(C$99t){null!=this._parent?(this._parent.rotation.invert(xeo._tempQuaternion0),C$99re.multiply(C$99t,xeo._tempQuaternion0,this._localRotation)):C$99t.cloneTo(this._localRotation),this.localRotation=this._localRotation,this._rotation=C$99t,this._rotationUpdate=!1}),C$99e(0,C$99a,"scale",function(){return this._scaleUpdate&&(null!==this._parent?C$99A.multiply(this._parent.scale,this._localScale,this._scale):this._localScale.cloneTo(this._scale),this._scaleUpdate=!1),this._scale},function(C$99t){var C$99e,C$99i;null!==this._parent?(C$99e=this._parent.scale.elements,(C$99i=xeo._tempVector30.elements)[0]=1/C$99e[0],C$99i[1]=1/C$99e[1],C$99i[2]=1/C$99e[2],C$99A.multiply(C$99t,xeo._tempVector30,this._localScale)):C$99t.cloneTo(this._localScale),this.localScale=this._localScale,this._scale=C$99t,this._scaleUpdate=!1}),C$99e(0,C$99a,"rotationEuler",null,function(C$99t){C$99re.createFromYawPitchRoll(C$99t.y,C$99t.x,C$99t.z,this._rotation),this.rotation=this._rotation}),C$99e(0,C$99a,"forward",function(){var C$99t=this.worldMatrix.elements;return this._forward.elements[0]=-C$99t[8],this._forward.elements[1]=-C$99t[9],this._forward.elements[2]=-C$99t[10],this._forward}),C$99e(0,C$99a,"up",function(){var C$99t=this.worldMatrix.elements;return this._up.elements[0]=C$99t[4],this._up.elements[1]=C$99t[5],this._up.elements[2]=C$99t[6],this._up}),C$99e(0,C$99a,"right",function(){var C$99t=this.worldMatrix.elements;return this._right.elements[0]=C$99t[0],this._right.elements[1]=C$99t[1],this._right.elements[2]=C$99t[2],this._right}),C$99e(0,C$99a,"parent",function(){return this._parent},function(C$99t){var C$99e,C$99i;this._parent!==C$99t&&(this._parent&&(C$99i=(C$99e=this._parent._childs).indexOf(this),C$99e.splice(C$99i,1)),C$99t&&(C$99t._childs.push(this),C$99t&&this._onWorldTransform()),this._parent=C$99t)}),C$99h(xeo,["_tempVector30",function(){return this._tempVector30=new C$99A},"_tempVector31",function(){return this._tempVector31=new C$99A},"_tempVector32",function(){return this._tempVector32=new C$99A},"_tempVector33",function(){return this._tempVector33=new C$99A},"_tempQuaternion0",function(){return this._tempQuaternion0=new C$99re},"_tempMatrix0",function(){return this._tempMatrix0=new C$99ie},"_angleToRandin",function(){return this._angleToRandin=180/Math.PI}]),xeo),C$99Te=(C$99t(zpf,"laya.d3.core.TransformUV",C$99m),C$99a=zpf.prototype,C$99b.imps(C$99a,{"laya.d3.core.IClone":!0}),C$99a._updateMatrix=function(){zpf._tempOffsetV3.elements[0]=this._offset.x,zpf._tempOffsetV3.elements[1]=this._offset.y,C$99re.createFromYawPitchRoll(0,0,this._rotation,zpf._tempRotationQua),zpf._tempTitlingV3.elements[0]=this._tiling.x,zpf._tempTitlingV3.elements[1]=this._tiling.y,C$99ie.createAffineTransformation(zpf._tempOffsetV3,zpf._tempRotationQua,zpf._tempTitlingV3,this._matrix)},C$99a.cloneTo=function(C$99t){C$99t._matrix=this._matrix.clone(),C$99t._offset=this._offset.clone(),C$99t._rotation=this._rotation,C$99t._tiling=this._tiling.clone()},C$99a.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99e(0,C$99a,"matrix",function(){return this._matNeedUpdte&&(this._updateMatrix(),this._matNeedUpdte=!1),this._matrix}),C$99e(0,C$99a,"tiling",function(){return this._tiling},function(C$99t){this._tiling=C$99t,this._matNeedUpdte=!0}),C$99e(0,C$99a,"offset",function(){return this._offset},function(C$99t){this._offset=C$99t,this._matNeedUpdte=!0}),C$99e(0,C$99a,"rotation",function(){return this._rotation},function(C$99t){this._rotation=C$99t,this._matNeedUpdte=!0}),C$99h(zpf,["_tempOffsetV3",function(){return this._tempOffsetV3=new C$99A(0,0,0)},"_tempRotationQua",function(){return this._tempRotationQua=new C$99re},"_tempTitlingV3",function(){return this._tempTitlingV3=new C$99A(1,1,1)}]),C$99t(ksjrba,"laya.d3.core.particleShuriKen.module.shape.BoxShape",C$99ri=C$99i),(C$99m=ksjrba.prototype)._getShapeBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=.5*-this.x,C$99e[1]=.5*-this.y,C$99e[2]=.5*-this.z;C$99e=C$99t.max.elements;C$99e[0]=.5*this.x,C$99e[1]=.5*this.y,C$99e[2]=.5*this.z},C$99m._getSpeedBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=0,C$99e[1]=0,C$99e[2]=0;C$99e=C$99t.max.elements;C$99e[0]=0,C$99e[1]=1,C$99e[2]=0},C$99m.generatePositionAndDirection=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.elements,C$99s=C$99e.elements;C$99i?(C$99i.seed=C$99n[16],C$99G._randomPointInsideHalfUnitBox(C$99t,C$99i),C$99n[16]=C$99i.seed):C$99G._randomPointInsideHalfUnitBox(C$99t),C$99r[0]=this.x*C$99r[0],C$99r[1]=this.y*C$99r[1],C$99r[2]=this.z*C$99r[2],this.randomDirection?C$99i?(C$99i.seed=C$99n[17],C$99G._randomPointUnitSphere(C$99e,C$99i),C$99n[17]=C$99i.seed):C$99G._randomPointUnitSphere(C$99e):(C$99s[0]=0,C$99s[1]=0,C$99s[2]=1)},C$99m.cloneTo=function(C$99t){C$99ri.prototype.cloneTo.call(this,C$99t);C$99t.x=this.x,C$99t.y=this.y,C$99t.z=this.z,C$99t.randomDirection=this.randomDirection},C$99t(vp$d9i,"laya.d3.core.particleShuriKen.module.shape.CircleShape",C$99ni=C$99i),(C$99a=vp$d9i.prototype)._getShapeBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=C$99e[2]=-this.radius,C$99e[1]=0;C$99e=C$99t.max.elements;C$99e[0]=C$99e[2]=this.radius,C$99e[1]=0},C$99a._getSpeedBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=C$99e[1]=-1,C$99e[2]=0;C$99e=C$99t.max.elements;C$99e[0]=C$99e[1]=1,C$99e[2]=0},C$99a.generatePositionAndDirection=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.elements,C$99s=vp$d9i._tempPositionPoint.elements;C$99i?(C$99i.seed=C$99n[16],this.emitFromEdge?C$99G._randomPointUnitArcCircle(this.arc,vp$d9i._tempPositionPoint,C$99i):C$99G._randomPointInsideUnitArcCircle(this.arc,vp$d9i._tempPositionPoint,C$99i),C$99n[16]=C$99i.seed):this.emitFromEdge?C$99G._randomPointUnitArcCircle(this.arc,vp$d9i._tempPositionPoint):C$99G._randomPointInsideUnitArcCircle(this.arc,vp$d9i._tempPositionPoint),C$99r[0]=-C$99s[0],C$99r[1]=C$99s[1],C$99r[2]=0,C$99A.scale(C$99t,this.radius,C$99t),this.randomDirection?C$99i?(C$99i.seed=C$99n[17],C$99G._randomPointUnitSphere(C$99e,C$99i),C$99n[17]=C$99i.seed):C$99G._randomPointUnitSphere(C$99e):C$99t.cloneTo(C$99e)},C$99a.cloneTo=function(C$99t){C$99ni.prototype.cloneTo.call(this,C$99t);C$99t.radius=this.radius,C$99t.arc=this.arc,C$99t.emitFromEdge=this.emitFromEdge,C$99t.randomDirection=this.randomDirection},C$99h(vp$d9i,["_tempPositionPoint",function(){return this._tempPositionPoint=new C$99oe}]),C$99t(nrj38,"laya.d3.core.particleShuriKen.module.shape.ConeShape",C$99ii=C$99i),(C$99m=nrj38.prototype)._getShapeBoundBox=function(C$99t){var C$99e=this.radius+this.length*Math.sin(this.angle),C$99i=this.length*Math.cos(this.angle),C$99n=C$99t.min.elements;C$99n[0]=C$99n[1]=-C$99e,C$99n[2]=0;C$99n=C$99t.max.elements;C$99n[0]=C$99n[1]=C$99e,C$99n[2]=C$99i},C$99m._getSpeedBoundBox=function(C$99t){var C$99e=Math.sin(this.angle),C$99i=C$99t.min.elements;C$99i[0]=C$99i[1]=-C$99e,C$99i[2]=0;C$99t=C$99t.max.elements;C$99t[0]=C$99i[1]=C$99e,C$99t[2]=1},C$99m.generatePositionAndDirection=function(C$99c,C$99t,C$99e,C$99i){var C$99n,C$99r=C$99c.elements,C$99s=C$99t.elements,C$99a=nrj38._tempPositionPoint.elements,C$99o=NaN,C$99h=NaN,C$99_=Math.cos(this.angle),C$99l=Math.sin(this.angle);switch(this.emitType){case 0:C$99e?(C$99e.seed=C$99i[16],C$99G._randomPointInsideUnitCircle(nrj38._tempPositionPoint,C$99e),C$99i[16]=C$99e.seed):C$99G._randomPointInsideUnitCircle(nrj38._tempPositionPoint),C$99o=C$99a[0],C$99h=C$99a[1],C$99r[0]=C$99o*this.radius,C$99r[1]=C$99h*this.radius,C$99r[2]=0,this.randomDirection?(C$99e?(C$99e.seed=C$99i[17],C$99G._randomPointInsideUnitCircle(nrj38._tempDirectionPoint,C$99e),C$99i[17]=C$99e.seed):C$99G._randomPointInsideUnitCircle(nrj38._tempDirectionPoint),C$99n=nrj38._tempDirectionPoint.elements,C$99s[0]=C$99n[0]*C$99l,C$99s[1]=C$99n[1]*C$99l):(C$99s[0]=C$99o*C$99l,C$99s[1]=C$99h*C$99l),C$99s[2]=C$99_;break;case 1:C$99e?(C$99e.seed=C$99i[16],C$99G._randomPointUnitCircle(nrj38._tempPositionPoint,C$99e),C$99i[16]=C$99e.seed):C$99G._randomPointUnitCircle(nrj38._tempPositionPoint),C$99o=C$99a[0],C$99h=C$99a[1],C$99r[0]=C$99o*this.radius,C$99r[1]=C$99h*this.radius,C$99r[2]=0,this.randomDirection?(C$99e?(C$99e.seed=C$99i[17],C$99G._randomPointInsideUnitCircle(nrj38._tempDirectionPoint,C$99e),C$99i[17]=C$99e.seed):C$99G._randomPointInsideUnitCircle(nrj38._tempDirectionPoint),C$99n=nrj38._tempDirectionPoint.elements,C$99s[0]=C$99n[0]*C$99l,C$99s[1]=C$99n[1]*C$99l):(C$99s[0]=C$99o*C$99l,C$99s[1]=C$99h*C$99l),C$99s[2]=C$99_;break;case 2:C$99e?(C$99e.seed=C$99i[16],C$99G._randomPointInsideUnitCircle(nrj38._tempPositionPoint,C$99e)):C$99G._randomPointInsideUnitCircle(nrj38._tempPositionPoint),C$99o=C$99a[0],C$99h=C$99a[1],C$99r[0]=C$99o*this.radius,C$99r[1]=C$99h*this.radius,C$99s[C$99r[2]=0]=C$99o*C$99l,C$99s[1]=C$99h*C$99l,C$99s[2]=C$99_,C$99A.normalize(C$99t,C$99t),C$99e?(C$99A.scale(C$99t,this.length*C$99e.getFloat(),C$99t),C$99i[16]=C$99e.seed):C$99A.scale(C$99t,this.length*Math.random(),C$99t),C$99A.add(C$99c,C$99t,C$99c),this.randomDirection&&(C$99e?(C$99e.seed=C$99i[17],C$99G._randomPointUnitSphere(C$99t,C$99e),C$99i[17]=C$99e.seed):C$99G._randomPointUnitSphere(C$99t));break;case 3:C$99e?(C$99e.seed=C$99i[16],C$99G._randomPointUnitCircle(nrj38._tempPositionPoint,C$99e)):C$99G._randomPointUnitCircle(nrj38._tempPositionPoint),C$99o=C$99a[0],C$99h=C$99a[1],C$99r[0]=C$99o*this.radius,C$99r[1]=C$99h*this.radius,C$99s[C$99r[2]=0]=C$99o*C$99l,C$99s[1]=C$99h*C$99l,C$99s[2]=C$99_,C$99A.normalize(C$99t,C$99t),C$99e?(C$99A.scale(C$99t,this.length*C$99e.getFloat(),C$99t),C$99i[16]=C$99e.seed):C$99A.scale(C$99t,this.length*Math.random(),C$99t),C$99A.add(C$99c,C$99t,C$99c),this.randomDirection&&(C$99e?(C$99e.seed=C$99i[17],C$99G._randomPointUnitSphere(C$99t,C$99e),C$99i[17]=C$99e.seed):C$99G._randomPointUnitSphere(C$99t));break;default:throw new Error("ConeShape:emitType is invalid.")}},C$99m.cloneTo=function(C$99t){C$99ii.prototype.cloneTo.call(this,C$99t);C$99t.angle=this.angle,C$99t.radius=this.radius,C$99t.length=this.length,C$99t.emitType=this.emitType,C$99t.randomDirection=this.randomDirection},C$99h(nrj38,["_tempPositionPoint",function(){return this._tempPositionPoint=new C$99oe},"_tempDirectionPoint",function(){return this._tempDirectionPoint=new C$99oe}]),C$99t(qx7o0e,"laya.d3.core.particleShuriKen.module.shape.HemisphereShape",C$99ei=C$99i),(C$99a=qx7o0e.prototype)._getShapeBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=C$99e[1]=C$99e[2]=-this.radius;C$99e=C$99t.max.elements;C$99e[0]=C$99e[1]=this.radius,C$99e[2]=0},C$99a._getSpeedBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=C$99e[1]=-1,C$99e[2]=0;C$99e=C$99t.max.elements;C$99e[0]=C$99e[1]=C$99e[2]=1},C$99a.generatePositionAndDirection=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.elements;C$99i?(C$99i.seed=C$99n[16],this.emitFromShell?C$99G._randomPointUnitSphere(C$99t,C$99i):C$99G._randomPointInsideUnitSphere(C$99t,C$99i),C$99n[16]=C$99i.seed):this.emitFromShell?C$99G._randomPointUnitSphere(C$99t):C$99G._randomPointInsideUnitSphere(C$99t),C$99A.scale(C$99t,this.radius,C$99t);var C$99s=C$99r[2];C$99s<0&&(C$99r[2]=-1*C$99s),this.randomDirection?C$99i?(C$99i.seed=C$99n[17],C$99G._randomPointUnitSphere(C$99e,C$99i),C$99n[17]=C$99i.seed):C$99G._randomPointUnitSphere(C$99e):C$99t.cloneTo(C$99e)},C$99a.cloneTo=function(C$99t){C$99ei.prototype.cloneTo.call(this,C$99t);C$99t.radius=this.radius,C$99t.emitFromShell=this.emitFromShell,C$99t.randomDirection=this.randomDirection},C$99t(kbar,"laya.d3.core.particleShuriKen.module.shape.SphereShape",C$99ti=C$99i),(C$99m=kbar.prototype)._getShapeBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=C$99e[1]=C$99e[2]=-this.radius;C$99e=C$99t.max.elements;C$99e[0]=C$99e[1]=C$99e[2]=this.radius},C$99m._getSpeedBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=C$99e[1]=C$99e[2]=-1;C$99e=C$99t.max.elements;C$99e[0]=C$99e[1]=C$99e[2]=1},C$99m.generatePositionAndDirection=function(C$99t,C$99e,C$99i,C$99n){C$99i?(C$99i.seed=C$99n[16],this.emitFromShell?C$99G._randomPointUnitSphere(C$99t,C$99i):C$99G._randomPointInsideUnitSphere(C$99t,C$99i),C$99n[16]=C$99i.seed):this.emitFromShell?C$99G._randomPointUnitSphere(C$99t):C$99G._randomPointInsideUnitSphere(C$99t),C$99A.scale(C$99t,this.radius,C$99t),this.randomDirection?C$99i?(C$99i.seed=C$99n[17],C$99G._randomPointUnitSphere(C$99e,C$99i),C$99n[17]=C$99i.seed):C$99G._randomPointUnitSphere(C$99e):C$99t.cloneTo(C$99e)},C$99m.cloneTo=function(C$99t){C$99ti.prototype.cloneTo.call(this,C$99t);C$99t.radius=this.radius,C$99t.emitFromShell=this.emitFromShell,C$99t.randomDirection=this.randomDirection},C$99t(n1368g,"laya.d3.core.render.SubMeshRenderElement",C$99K),n1368g),C$99Me=(C$99t(li24,"laya.d3.shader.ShaderCompile3D",C$99E),(C$99a=li24.prototype)._definesToNameDic=function(C$99t,C$99e){for(var C$99i={},C$99n=1,C$99r=0;C$99r<32&&!(C$99t<(C$99n=1<<C$99r));C$99r++){var C$99s;C$99t&C$99n&&((C$99s=C$99e[C$99n])&&(C$99i[C$99s]=""))}return C$99i},C$99a.withCompile=function(C$99t,C$99e,C$99i,C$99c){var C$99n,C$99r;if(C$99a=this.sharders[C$99t])if(C$99r=C$99a[C$99e]){if(C$99n=C$99r[C$99i])return C$99n}else C$99r=C$99a[C$99e]=[];else C$99r=(C$99a=this.sharders[C$99t]=[])[C$99e]=[];var C$99s,C$99a=this._definesToNameDic(C$99t,li24._globalInt2name),C$99o=this._definesToNameDic(C$99e,this._spriteInt2name),C$99_=this._definesToNameDic(C$99i,this._materialInt2name),C$99h={},C$99l="";if(C$99a)for(C$99s in C$99a)C$99l+="#define "+C$99s+"\n",C$99h[C$99s]=!0;if(C$99o)for(C$99s in C$99o)C$99l+="#define "+C$99s+"\n",C$99h[C$99s]=!0;if(C$99_)for(C$99s in C$99_)C$99l+="#define "+C$99s+"\n",C$99h[C$99s]=!0;C$99a=C$99Le.nameKey.getName(this._name)+" compile ("+C$99t+","+C$99e+","+C$99i+")",C$99o=this._VS.toscript(C$99h,[]),C$99_=this._PS.toscript(C$99h,[]);return C$99M.now(),C$99n=C$99Le.create(C$99l+C$99o.join("\n"),C$99l+C$99_.join("\n"),this._attributeMap,this._sceneUniformMap,this._cameraUniformMap,this._spriteUniformMap,this._materialUniformMap,this._renderElementUniformMap,C$99c,C$99a),C$99r[C$99i]=C$99n,laya.d3.shader.ShaderCompile3D.debugMode&&C$99M.now(),C$99n},C$99a.precompileShaderWithShaderDefine=function(C$99t,C$99e,C$99i){this.withCompile(C$99t,C$99e,C$99i,!0)},C$99a.addMaterialDefines=function(C$99t){var C$99e=C$99t.defines;for(var C$99i in C$99e){var C$99n=C$99e[C$99i],C$99i=parseInt(C$99i);this._materialInt2name[C$99i]=C$99n,this._materialName2Int[C$99n]=C$99i}},C$99a.addSpriteDefines=function(C$99t){var C$99e=C$99t.defines;for(var C$99i in C$99e){var C$99n=C$99e[C$99i],C$99i=parseInt(C$99i);this._spriteInt2name[C$99i]=C$99n,this._spriteName2Int[C$99n]=C$99i}},C$99a.getMaterialDefineByName=function(C$99t){return this._materialName2Int[C$99t]},C$99a.registerMaterialDefine=function(C$99t){var C$99e=Math.pow(2,this._materialDefineCounter++);return this._materialInt2name[C$99e]=C$99t,this._materialName2Int[C$99t]=C$99e},C$99a.registerSpriteDefine=function(C$99t){var C$99e=Math.pow(2,this._spriteDefineCounter++);return this._spriteInt2name[C$99e]=C$99t,this._spriteName2Int[C$99t]=C$99e},li24._globalRegDefine=function(C$99t,C$99e){li24._globalInt2name[C$99e]=C$99t},li24.add=function(C$99t,C$99e,C$99i,C$99n,C$99r){return laya.d3.shader.ShaderCompile3D._preCompileShader[C$99t]=new li24(C$99t,C$99e,C$99i,C$99n,C$99r,C$99E.includes)},li24.get=function(C$99t){return laya.d3.shader.ShaderCompile3D._preCompileShader[C$99Le.nameKey.getID(C$99t)]},li24._preCompileShader={},li24._globalInt2name=[],li24.debugMode=!1,li24.SHADERDEFINE_HIGHPRECISION=1,li24.SHADERDEFINE_FOG=4,li24.SHADERDEFINE_DIRECTIONLIGHT=8,li24.SHADERDEFINE_POINTLIGHT=16,li24.SHADERDEFINE_SPOTLIGHT=32,li24.SHADERDEFINE_UV0=64,li24.SHADERDEFINE_COLOR=128,li24.SHADERDEFINE_UV1=256,li24.SAHDERDEFINE_DEPTHFOG=131072,li24),C$99Se=(C$99t(w58316,"laya.d3.graphics.MeshSprite3DStaticBatchManager",C$99ot),(C$99i=w58316.prototype)._getStaticBatch=function(C$99t,C$99e,C$99i,C$99n){var C$99r;return C$99n=C$99t?C$99t.id.toString()+C$99i.id.toString()+C$99e.id.toString()+C$99n.toString():C$99i.id.toString()+C$99e.id.toString()+C$99n.toString(),this._staticBatches[C$99n]?C$99r=this._staticBatches[C$99n]:this._staticBatches[C$99n]=C$99r=new C$99Ce(C$99n,this,C$99t,C$99e,C$99i),C$99r},C$99i._initStaticBatchs=function(C$99c){var C$99t,C$99e;this._initBatchRenderElements.sort(w58316._sortPrepareStaticBatch);for(var C$99i,C$99n=!1,C$99r=0,C$99s=0,C$99_=this._initBatchRenderElements.length;C$99s<C$99_;C$99s++){var C$99a,C$99o=this._initBatchRenderElements[C$99s],C$99h=C$99o.renderObj._getVertexBuffer(0);var C$99l,C$99u,C$99d;C$99o._sprite3D,C$99e===C$99h.vertexDeclaration&&C$99t===C$99o._material?C$99n?C$99i._addCombineBatchRenderObjTest(C$99o)?(C$99a=C$99o._staticBatch)!==C$99i&&(C$99a&&C$99a._deleteCombineBatchRenderObj(C$99o),C$99i._addCombineBatchRenderObj(C$99o)):(C$99n=!1,C$99r++):(C$99u=(C$99l=this._initBatchRenderElements[C$99s-1]).renderObj,C$99d=C$99o.renderObj,C$99n=!(65535<C$99u._getVertexBuffer().vertexCount+C$99d._getVertexBuffer().vertexCount||(C$99i=this._getStaticBatch(C$99c,C$99e,C$99t,C$99r),(C$99a=C$99l._staticBatch)!==C$99i&&(C$99a&&C$99a._deleteCombineBatchRenderObj(C$99l),C$99i._addCombineBatchRenderObj(C$99l)),(C$99a=C$99o._staticBatch)!==C$99i&&(C$99a&&C$99a._deleteCombineBatchRenderObj(C$99o),C$99i._addCombineBatchRenderObj(C$99o)),0))):(C$99n=!1,C$99r=0),C$99t=C$99o._material,C$99e=C$99h.vertexDeclaration}},w58316._sortPrepareStaticBatch=function(C$99t,C$99e){var C$99i=C$99t._render,C$99n=C$99e._render,C$99r=C$99i.lightmapIndex-C$99n.lightmapIndex;if(0!=C$99r)return C$99r;C$99r=C$99i.receiveShadow-C$99n.receiveShadow;if(0!=C$99r)return C$99r;C$99i=C$99t._mainSortID-C$99e._mainSortID;return 0==C$99i?C$99t.renderObj.triangleCount-C$99e.renderObj.triangleCount:C$99i},w58316),C$99Ce=(C$99t(anrbjg,"laya.d3.graphics.SubMeshStaticBatch",C$99n),(C$99m=anrbjg.prototype)._compareBatchRenderElement=function(C$99t,C$99e){return C$99t._batchIndexStart>C$99e._batchIndexStart},C$99m._addCombineBatchRenderObjTest=function(C$99t){var C$99e=C$99t.renderObj._vertexCount;return!(65535<(0<C$99e?this._currentCombineVertexCount+C$99e:this._currentCombineVertexCount+C$99t.renderObj._getVertexBuffer().vertexCount))},C$99m._addCombineBatchRenderObj=function(C$99t){var C$99e=C$99t.renderObj,C$99i=C$99e._vertexCount;this._initBatchRenderElements.push(C$99t),C$99t._staticBatch=this,0<C$99i?(this._currentCombineIndexCount+=C$99e._indexCount,this._currentCombineVertexCount+=C$99i):(this._currentCombineIndexCount=this._currentCombineIndexCount+C$99e._getIndexBuffer().indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount+C$99e._getVertexBuffer().vertexCount),this._needFinishCombine=!0},C$99m._deleteCombineBatchRenderObj=function(C$99t){var C$99e=C$99t.renderObj,C$99i=this._initBatchRenderElements.indexOf(C$99t);-1!==C$99i&&(this._initBatchRenderElements.splice(C$99i,1),C$99t._staticBatch=null,0<(C$99i=C$99e._vertexCount)?(this._currentCombineIndexCount=this._currentCombineIndexCount-C$99e._indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount-C$99i):(this._currentCombineIndexCount=this._currentCombineIndexCount-C$99e._getIndexBuffer().indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount-C$99e._getVertexBuffer().vertexCount),this._needFinishCombine=!0)},C$99m._finishInit=function(){if(this._needFinishCombine){var C$99t=0,C$99e=0;(0<=this._initBatchRenderElements[0]._sprite3D._render.lightmapIndex||this._material instanceof laya.d3.core.material.StandardMaterial&&this._material.ambientTexture)&&(this._vertexDeclaration=this._getVertexDecLightMap(this._vertexDeclaration));var C$99c=new Float32Array(this._vertexDeclaration.vertexStride/4*this._currentCombineVertexCount),C$99i=new Uint16Array(this._currentCombineIndexCount);this._vertexBuffer&&(this._vertexBuffer.destroy(),this._indexBuffer.destroy()),this._vertexBuffer=C$99Be.create(this._vertexDeclaration,this._currentCombineVertexCount,35044),this._indexBuffer=C$99ke.create("ushort",this._currentCombineIndexCount,35044);for(var C$99n=0,C$99_=this._initBatchRenderElements.length;C$99n<C$99_;C$99n++){var C$99r=this._initBatchRenderElements[C$99n],C$99s=C$99r.renderObj,C$99u=C$99s._getStaticBatchBakedVertexs(this._rootOwner?this._rootOwner._transform:null,C$99r._sprite3D),C$99a=C$99s.getIndices(),C$99d=C$99r._sprite3D.transform._isFrontFaceInvert,C$99o=C$99t/(this._vertexDeclaration.vertexStride/4)-C$99s._vertexStart,C$99s=C$99e,C$99h=C$99s+C$99a.length;C$99r._batchIndexStart=C$99s,C$99r._batchIndexEnd=C$99h,C$99i.set(C$99a,C$99e);var C$99l=0;if(C$99d)for(C$99l=C$99s;C$99l<C$99h;C$99l+=3){C$99i[C$99l]=C$99o+C$99i[C$99l];var C$99f=C$99i[C$99l+1],C$99p=C$99i[C$99l+2];C$99i[C$99l+1]=C$99o+C$99p,C$99i[C$99l+2]=C$99o+C$99f}else for(C$99l=C$99s;C$99l<C$99h;C$99l+=3)C$99i[C$99l]=C$99o+C$99i[C$99l],C$99i[C$99l+1]=C$99o+C$99i[C$99l+1],C$99i[C$99l+2]=C$99o+C$99i[C$99l+2];C$99e+=C$99a.length,C$99c.set(C$99u,C$99t),C$99t+=C$99u.length}this._vertexBuffer.setData(C$99c),this._indexBuffer.setData(C$99i),this._needFinishCombine=!1}},C$99m._getCombineRenderElementFromPool=function(){return this._combineRenderElementPool[this._combineRenderElementPoolIndex++]||(this._combineRenderElementPool[this._combineRenderElementPoolIndex-1]=new C$99Te)},C$99m._getRenderElement=function(C$99c,C$99_,C$99u){for(var C$99t,C$99d=this._batchRenderElements.length,C$99e=!0,C$99i=0;C$99i<C$99d;C$99i++){var C$99n,C$99r=(C$99t=this._batchRenderElements[C$99i])._sprite3D._render;var C$99s,C$99a,C$99o,C$99h,C$99l;(C$99e=0!==C$99i?(C$99s=(C$99a=this._batchRenderElements[C$99i-1])._sprite3D._render).lightmapIndex!==C$99r.lightmapIndex||C$99s.receiveShadow!==C$99r.receiveShadow||C$99a._batchIndexEnd!==C$99t._batchIndexStart:C$99e)?((C$99n=this._getCombineRenderElementFromPool()).renderObj=this,C$99n._material=this._material,C$99n._batchIndexStart=C$99t._batchIndexStart,C$99n._batchIndexEnd=C$99t._batchIndexEnd,C$99s=C$99r.lightmapIndex,void 0===(C$99l=(C$99o=(C$99o=this._batchOwnerIndices[C$99a=C$99s+1])||(this._batchOwnerIndices[C$99a]=[]))[C$99t._render.receiveShadow?1:0])?(C$99o[C$99r.receiveShadow?1:0]=this._batchOwners.length,(C$99h=new C$99qe(null,"StaticBatchMeshSprite3D"))._scene=C$99_,C$99h._transform=this._rootOwner?this._rootOwner._transform:null,C$99h._render.lightmapIndex=C$99s,C$99h._render.receiveShadow=C$99t._render.receiveShadow,this._batchOwners.push(C$99h)):C$99h=this._batchOwners[C$99l],C$99h._render._renderUpdate(C$99u),C$99n._sprite3D=C$99h,C$99c.push(C$99n)):C$99n._batchIndexEnd=C$99t._batchIndexEnd}},C$99m._beforeRender=function(C$99t){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},C$99m._render=function(C$99t){var C$99t=C$99t.renderElement,C$99e=C$99t._batchIndexStart,C$99t=C$99t._batchIndexEnd-C$99e;C$99k.mainContext.drawElements(4,C$99t,5123,2*C$99e),C$99R.drawCall++,C$99R.trianglesFaces+=C$99t/3},C$99m.dispose=function(){this._batchOwnerIndices=null,this._batchOwners=null,this._vertexDeclaration=null,this._vertexBuffer.destroy(),this._indexBuffer.destroy()},C$99m._getVertexBuffer=function(C$99t){return void 0===C$99t&&(C$99t=0),this._vertexBuffer},anrbjg),C$99i=(C$99t(jbakgr,"laya.d3.core.ComponentNode",C$99y),(C$99a=jbakgr.prototype).addComponent=function(C$99t){var C$99e,C$99i=this._componentsMap.indexOf(C$99t);if(-1===C$99i)C$99e=[],this._componentsMap.push(C$99t),this._typeComponentsIndices.push(C$99e);else if(C$99e=this._typeComponentsIndices[C$99i],this._components[C$99e[0]].isSingleton)throw new Error("\u65e0\u6cd5\u5355\u5b9e\u4f8b\u521b\u5efa"+C$99t+"\u7ec4\u4ef6\uff0c"+C$99t+"\u7ec4\u4ef6\u5df2\u5b58\u5728\uff01");C$99i=C$99d.getInstance(C$99t);return C$99e.push(this._components.length),this._components.push(C$99i),C$99i instanceof laya.d3.component.Script&&this._scripts.push(C$99i),C$99i._initialize(this),C$99i},C$99a._removeComponent=function(C$99t,C$99e){var C$99i=this._typeComponentsIndices[C$99t],C$99n=C$99i[C$99e],C$99r=this._components[C$99n];this._components.splice(C$99n,1),C$99r instanceof laya.d3.component.Script&&this._scripts.splice(this._scripts.indexOf(C$99r),1),C$99i.splice(C$99e,1),0===C$99i.length&&(this._typeComponentsIndices.splice(C$99t,1),this._componentsMap.splice(C$99t,1));for(var C$99s=0,C$99a=this._componentsMap.length;C$99s<C$99a;C$99s++)for(var C$99o=(C$99i=this._typeComponentsIndices[C$99s]).length-1;0<=C$99o;C$99o--){var C$99h=C$99i[C$99o];if(!(C$99n<C$99h))break;C$99i[C$99o]=--C$99h}C$99r._destroy()},C$99a.getComponentByType=function(C$99t,C$99e){void 0===C$99e&&(C$99e=0);C$99t=this._componentsMap.indexOf(C$99t);return-1===C$99t?null:this._components[this._typeComponentsIndices[C$99t][C$99e]]},C$99a.getComponentsByType=function(C$99t,C$99e){C$99t=this._componentsMap.indexOf(C$99t);if(-1!==C$99t){var C$99i=this._typeComponentsIndices[C$99t],C$99n=C$99i.length;C$99e.length=C$99n;for(var C$99r=0;C$99r<C$99n;C$99r++)C$99e[C$99r]=this._components[C$99i[C$99r]]}else C$99e.length=0},C$99a.getComponentByIndex=function(C$99t){return this._components[C$99t]},C$99a.removeComponentByType=function(C$99t,C$99e){void 0===C$99e&&(C$99e=0);C$99t=this._componentsMap.indexOf(C$99t);-1!==C$99t&&this._removeComponent(C$99t,C$99e)},C$99a.removeComponentsByType=function(C$99t){var C$99e=this._componentsMap.indexOf(C$99t);if(-1!==C$99e)for(var C$99i=this._typeComponentsIndices[C$99e],C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99i.length<C$99r?C$99r--:C$99n++)this._removeComponent(C$99e,C$99n)},C$99a.removeAllComponent=function(){for(var C$99t=0,C$99e=this._componentsMap.length;C$99t<C$99e;this._componentsMap.length<C$99e?C$99e--:C$99t++)this.removeComponentsByType(this._componentsMap[C$99t])},C$99a._updateComponents=function(C$99t){for(var C$99e=0,C$99i=this._components.length;C$99e<C$99i;C$99e++){var C$99n=this._components[C$99e];C$99n.started||(C$99n._start(C$99t),C$99n.started=!0),C$99n.enable&&C$99n._update(C$99t)}},C$99a._lateUpdateComponents=function(C$99t){for(var C$99e=0;C$99e<this._components.length;C$99e++){var C$99i=this._components[C$99e];C$99i.started||(C$99i._start(C$99t),C$99i.started=!0),C$99i.enable&&C$99i._lateUpdate(C$99t)}},C$99a._preRenderUpdateComponents=function(C$99t){for(var C$99e=0;C$99e<this._components.length;C$99e++){var C$99i=this._components[C$99e];C$99i.started||(C$99i._start(C$99t),C$99i.started=!0),C$99i.enable&&C$99i._preRenderUpdate(C$99t)}},C$99a._postRenderUpdateComponents=function(C$99t){for(var C$99e=0;C$99e<this._components.length;C$99e++){var C$99i=this._components[C$99e];C$99i.started||(C$99i._start(C$99t),C$99i.started=!0),C$99i.enable&&C$99i._postRenderUpdate(C$99t)}},jbakgr),C$99De=(C$99t(bkasu,"laya.d3.core.material.BaseMaterial",C$99Je=C$99C),C$99n=bkasu.prototype,C$99b.imps(C$99n,{"laya.d3.core.IClone":!0}),C$99n._addShaderDefine=function(C$99t){this._shaderDefineValue|=C$99t},C$99n._removeShaderDefine=function(C$99t){this._shaderDefineValue&=~C$99t},C$99n._addDisablePublicShaderDefine=function(C$99t){this._disablePublicShaderDefine|=C$99t},C$99n._removeDisablePublicShaderDefine=function(C$99t){this._disablePublicShaderDefine&=~C$99t},C$99n._setBuffer=function(C$99t,C$99e){this._shaderValues.setValue(C$99t,C$99e),this._values[C$99t]=C$99e},C$99n._getBuffer=function(C$99t){return this._values[C$99t]},C$99n._setMatrix4x4=function(C$99t,C$99e){this._shaderValues.setValue(C$99t,C$99e?C$99e.elements:null),this._values[C$99t]=C$99e},C$99n._getMatrix4x4=function(C$99t){return this._values[C$99t]},C$99n._setInt=function(C$99t,C$99e){this._shaderValues.setValue(C$99t,C$99e),this._values[C$99t]=C$99e},C$99n._getInt=function(C$99t){return this._values[C$99t]},C$99n._setNumber=function(C$99t,C$99e){this._shaderValues.setValue(C$99t,C$99e),this._values[C$99t]=C$99e},C$99n._getNumber=function(C$99t){return this._values[C$99t]},C$99n._setBool=function(C$99t,C$99e){this._shaderValues.setValue(C$99t,C$99e),this._values[C$99t]=C$99e},C$99n._getBool=function(C$99t){return this._values[C$99t]},C$99n._setVector2=function(C$99t,C$99e){this._shaderValues.setValue(C$99t,C$99e?C$99e.elements:null),this._values[C$99t]=C$99e},C$99n._getVector2=function(C$99t){return this._values[C$99t]},C$99n._setColor=function(C$99t,C$99e){this._shaderValues.setValue(C$99t,C$99e?C$99e.elements:null),this._values[C$99t]=C$99e},C$99n._getColor=function(C$99t){return this._values[C$99t]},C$99n._setTexture=function(C$99t,C$99e){var C$99i=this._values[C$99t];this._values[C$99t]=C$99e,this._shaderValues.setValue(C$99t,C$99e),0<this.referenceCount&&(C$99i&&C$99i._removeReference(),C$99e&&C$99e._addReference())},C$99n._getTexture=function(C$99t){return this._values[C$99t]},C$99n._upload=function(){this._shader.uploadMaterialUniforms(this._shaderValues.data)},C$99n._getShader=function(C$99t,C$99e,C$99i){C$99t=(C$99t|C$99e)&~this._disablePublicShaderDefine;return this._shader=this._shaderCompile.withCompile(C$99t,C$99i,this._shaderDefineValue),this._shader},C$99n._setRenderStateBlendDepth=function(){var C$99t=C$99k.mainContext;switch(C$99B.setDepthMask(C$99t,this.depthWrite),0===this.depthTest?C$99B.setDepthTest(C$99t,!1):(C$99B.setDepthTest(C$99t,!0),C$99B.setDepthFunc(C$99t,this.depthTest)),this.blend){case 0:C$99B.setBlend(C$99t,!1);break;case 1:C$99B.setBlend(C$99t,!0),C$99B.setBlendFunc(C$99t,this.srcBlend,this.dstBlend);break;case 2:C$99B.setBlend(C$99t,!0)}},C$99n._setRenderStateFrontFace=function(C$99t,C$99e){var C$99i=C$99k.mainContext,C$99n=0;switch(this.cull){case 0:C$99B.setCullFace(C$99i,!1);break;case 1:C$99B.setCullFace(C$99i,!0),C$99n=C$99t?C$99e&&C$99e._isFrontFaceInvert?2305:2304:C$99e&&C$99e._isFrontFaceInvert?2304:2305,C$99B.setFrontFace(C$99i,C$99n);break;case 2:C$99B.setCullFace(C$99i,!0),C$99n=C$99t?C$99e&&C$99e._isFrontFaceInvert?2304:2305:C$99e&&C$99e._isFrontFaceInvert?2305:2304,C$99B.setFrontFace(C$99i,C$99n)}},C$99n.onAsynLoaded=function(C$99c,C$99_,C$99u){var C$99d=C$99_[0],C$99f=C$99_[1];switch(C$99d.version){case"LAYAMATERIAL:01":var C$99t=0,C$99e=0,C$99i=C$99d.props;for(var C$99n in C$99i)switch(C$99n){case"vectors":var C$99r=C$99i[C$99n];for(C$99t=0,C$99e=C$99r.length;C$99t<C$99e;C$99t++){var C$99s=C$99r[C$99t],C$99a=C$99s.value;switch(C$99a.length){case 2:this[C$99s.name]=new C$99oe(C$99a[0],C$99a[1]);break;case 3:this[C$99s.name]=new C$99A(C$99a[0],C$99a[1],C$99a[2]);break;case 4:this[C$99s.name]=new C$99he(C$99a[0],C$99a[1],C$99a[2],C$99a[3]);break;default:throw new Error("BaseMaterial:unkonwn color length.")}}break;case"textures":var C$99o=C$99i[C$99n];for(C$99t=0,C$99e=C$99o.length;C$99t<C$99e;C$99t++){var C$99h=C$99o[C$99t],C$99l=C$99h.path;C$99l&&(this[C$99h.name]=C$99g.getRes(C$99f[C$99l]))}break;case"defines":var C$99p=C$99i[C$99n];for(C$99t=0,C$99e=C$99p.length;C$99t<C$99e;C$99t++){var C$99m=this._shaderCompile.getMaterialDefineByName(C$99p[C$99t]);this._addShaderDefine(C$99m)}break;case"cull":case"blend":case"srcBlend":case"dstBlend":case"depthWrite":this[C$99n]=C$99i[C$99n];break;case"renderQueue":switch(C$99i[C$99n]){case 1:this.renderQueue=2e3;break;case 2:this.renderQueue=3e3}break;default:this[C$99n]=C$99i[C$99n]}break;case"LAYAMATERIAL:02":for(C$99n in C$99i=C$99d.props)switch(C$99n){case"vectors":for(C$99t=0,C$99e=(C$99r=C$99i[C$99n]).length;C$99t<C$99e;C$99t++)switch((C$99a=(C$99s=C$99r[C$99t]).value).length){case 2:this[C$99s.name]=new C$99oe(C$99a[0],C$99a[1]);break;case 3:this[C$99s.name]=new C$99A(C$99a[0],C$99a[1],C$99a[2]);break;case 4:this[C$99s.name]=new C$99he(C$99a[0],C$99a[1],C$99a[2],C$99a[3]);break;default:throw new Error("BaseMaterial:unkonwn color length.")}break;case"textures":for(C$99t=0,C$99e=(C$99o=C$99i[C$99n]).length;C$99t<C$99e;C$99t++)(C$99l=(C$99h=C$99o[C$99t]).path)&&(this[C$99h.name]=C$99g.getRes(C$99f[C$99l]));break;case"defines":for(C$99t=0,C$99e=(C$99p=C$99i[C$99n]).length;C$99t<C$99e;C$99t++)C$99m=this._shaderCompile.getMaterialDefineByName(C$99p[C$99t]),this._addShaderDefine(C$99m);break;default:this[C$99n]=C$99i[C$99n]}break;default:throw new Error("BaseMaterial:unkonwn version.")}this._endLoaded()},C$99n._addReference=function(){C$99Je.prototype._addReference.call(this);for(var C$99t=0,C$99e=this._values.length;C$99t<C$99e;C$99t++){var C$99i=this._values[C$99t];C$99i&&C$99i instanceof laya.d3.resource.BaseTexture&&C$99i._addReference()}},C$99n._removeReference=function(){C$99Je.prototype._removeReference.call(this);for(var C$99t=0,C$99e=this._values.length;C$99t<C$99e;C$99t++){var C$99i=this._values[C$99t];C$99i&&C$99i instanceof laya.d3.resource.BaseTexture&&C$99i._removeReference()}},C$99n.disposeResource=function(){this.blendConstColor=null,this._shader=null,this._shaderValues=null,this._values=null},C$99n.setShaderName=function(C$99t){C$99t=C$99Le.nameKey.getID(C$99t);if(-1===C$99t)throw new Error("BaseMaterial: unknown shader name.");this._shaderCompile=C$99Me._preCompileShader[C$99t]},C$99n.cloneTo=function(C$99t){C$99t.name=this.name,C$99t.cull=this.cull,C$99t.blend=this.blend,C$99t.srcBlend=this.srcBlend,C$99t.dstBlend=this.dstBlend,C$99t.srcBlendRGB=this.srcBlendRGB,C$99t.dstBlendRGB=this.dstBlendRGB,C$99t.srcBlendAlpha=this.srcBlendAlpha,C$99t.dstBlendAlpha=this.dstBlendAlpha,this.blendConstColor.cloneTo(C$99t.blendConstColor),C$99t.blendEquation=this.blendEquation,C$99t.blendEquationRGB=this.blendEquationRGB,C$99t.blendEquationAlpha=this.blendEquationAlpha,C$99t.depthTest=this.depthTest,C$99t.depthWrite=this.depthWrite,C$99t.renderQueue=this.renderQueue,C$99t._shader=this._shader,C$99t._disablePublicShaderDefine=this._disablePublicShaderDefine,C$99t._shaderDefineValue=this._shaderDefineValue;var C$99e,C$99i=0,C$99n=C$99t._shaderValues;C$99t._shaderValues.data.length=this._shaderValues.data.length;var C$99r=this._values.length,C$99s=C$99t._values;for(C$99i=0,C$99e=C$99s.length=C$99r;C$99i<C$99e;C$99i++){var C$99a=this._values[C$99i];var C$99o,C$99h;C$99a&&("number"==typeof C$99a||"boolean"==typeof C$99a?(C$99s[C$99i]=C$99a,C$99n.data[C$99i]=C$99a):C$99a instanceof laya.d3.math.Vector2?(C$99o=C$99s[C$99i]||(C$99s[C$99i]=new C$99oe),C$99a.cloneTo(C$99o),C$99n.data[C$99i]=C$99o.elements):C$99a instanceof laya.d3.math.Vector3?(C$99o=C$99s[C$99i]||(C$99s[C$99i]=new C$99A),C$99a.cloneTo(C$99o),C$99n.data[C$99i]=C$99o.elements):C$99a instanceof laya.d3.math.Vector4?(C$99h=C$99s[C$99i]||(C$99s[C$99i]=new C$99he),C$99a.cloneTo(C$99h),C$99n.data[C$99i]=C$99h.elements):C$99a instanceof laya.d3.math.Matrix4x4?(C$99h=C$99s[C$99i]||(C$99s[C$99i]=new C$99ie),C$99a.cloneTo(C$99h),C$99n.data[C$99i]=C$99h.elements):C$99a instanceof laya.d3.resource.BaseTexture&&(C$99s[C$99i]=C$99a,C$99n.data[C$99i]=C$99a))}},C$99n.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99e(0,C$99n,"alphaTestValue",function(){return this._getNumber(0)},function(C$99t){this._setNumber(0,C$99t)}),C$99e(0,C$99n,"alphaTest",function(){return this._alphaTest},function(C$99t){(this._alphaTest=C$99t)?this._addShaderDefine(laya.d3.core.material.BaseMaterial.SHADERDEFINE_ALPHATEST):this._removeShaderDefine(laya.d3.core.material.BaseMaterial.SHADERDEFINE_ALPHATEST)}),bkasu.__init__=function(){bkasu.SHADERDEFINE_ALPHATEST=bkasu.shaderDefines.registerDefine("ALPHATEST")},bkasu.RENDERQUEUE_OPAQUE=2e3,bkasu.RENDERQUEUE_ALPHATEST=2450,bkasu.RENDERQUEUE_TRANSPARENT=3e3,bkasu.CULL_NONE=0,bkasu.CULL_FRONT=1,bkasu.CULL_BACK=2,bkasu.BLEND_DISABLE=0,bkasu.BLEND_ENABLE_ALL=1,bkasu.BLEND_ENABLE_SEPERATE=2,bkasu.BLENDPARAM_ZERO=0,bkasu.BLENDPARAM_ONE=1,bkasu.BLENDPARAM_SRC_COLOR=768,bkasu.BLENDPARAM_ONE_MINUS_SRC_COLOR=769,bkasu.BLENDPARAM_DST_COLOR=774,bkasu.BLENDPARAM_ONE_MINUS_DST_COLOR=775,bkasu.BLENDPARAM_SRC_ALPHA=770,bkasu.BLENDPARAM_ONE_MINUS_SRC_ALPHA=771,bkasu.BLENDPARAM_DST_ALPHA=772,bkasu.BLENDPARAM_ONE_MINUS_DST_ALPHA=773,bkasu.BLENDPARAM_SRC_ALPHA_SATURATE=776,bkasu.BLENDEQUATION_ADD=0,bkasu.BLENDEQUATION_SUBTRACT=1,bkasu.BLENDEQUATION_REVERSE_SUBTRACT=2,bkasu.DEPTHTEST_OFF=0,bkasu.DEPTHTEST_NEVER=512,bkasu.DEPTHTEST_LESS=513,bkasu.DEPTHTEST_EQUAL=514,bkasu.DEPTHTEST_LEQUAL=515,bkasu.DEPTHTEST_GREATER=516,bkasu.DEPTHTEST_NOTEQUAL=517,bkasu.DEPTHTEST_GEQUAL=518,bkasu.DEPTHTEST_ALWAYS=519,bkasu.SHADERDEFINE_ALPHATEST=1,bkasu.ALPHATESTVALUE=0,C$99h(bkasu,["shaderDefines",function(){return this.shaderDefines=new C$99_e}]),bkasu),C$99Ee=(C$99t(gbnjra,"laya.d3.resource.BaseTexture",C$99C),C$99e(0,C$99m=gbnjra.prototype,"width",function(){return this._width}),C$99e(0,C$99m,"repeat",function(){return this._repeat},function(C$99t){this._repeat!==C$99t&&(this._repeat=C$99t,this._source)&&(C$99t=C$99k.mainContext,C$99B.bindTexture(C$99t,this._type,this._source),C$99p.isPOT(this._width,this._height)&&this._repeat?(C$99t.texParameteri(this._type,10242,10497),C$99t.texParameteri(this._type,10243,10497)):(C$99t.texParameteri(this._type,10242,33071),C$99t.texParameteri(this._type,10243,33071)))}),C$99e(0,C$99m,"height",function(){return this._height}),C$99e(0,C$99m,"magFifter",function(){return this._magFifter},function(C$99t){(this._magFifter=C$99t)!=this._magFifter&&this._conchTexture&&this._conchTexture.setMaxFifter(C$99t)}),C$99e(0,C$99m,"wrapModeV",function(){return this._wrapModeV}),C$99e(0,C$99m,"size",function(){return this._size}),C$99e(0,C$99m,"wrapModeU",function(){return this._wrapModeU}),C$99e(0,C$99m,"mipmap",function(){return this._mipmap},function(C$99t){this._mipmap=C$99t,this._mipmap!=C$99t&&this._conchTexture&&this._conchTexture.setMipMap(C$99t)}),C$99e(0,C$99m,"minFifter",function(){return this._minFifter},function(C$99t){this._minFifter=C$99t,this._minFifter!=C$99t&&this._conchTexture&&this._conchTexture.setMinFifter(C$99t)}),C$99e(0,C$99m,"format",function(){return this._format}),C$99e(0,C$99m,"source",function(){return this.activeResource(),this._source}),C$99e(0,C$99m,"defaulteTexture",function(){return C$99Fe.grayTexture}),gbnjra.WARPMODE_REPEAT=0,gbnjra.WARPMODE_CLAMP=1,gbnjra),C$99n=(C$99t(v$c9,"laya.d3.resource.models.BaseMesh",C$99C),(C$99a=v$c9.prototype)._getPositions=function(){throw new Error("\u672aOverride,\u8bf7\u91cd\u8f7d\u8be5\u5c5e\u6027\uff01")},C$99a._generateBoundingObject=function(){this._boundingSphere=new C$99Jt(new C$99A,0),C$99Jt.createfromPoints(this._positions,this._boundingSphere),this._boundingBox=new C$99Zt(new C$99A,new C$99A),C$99Zt.createfromPoints(this._positions,this._boundingBox),this._boundingBox.getCorners(this._boundingBoxCorners)},C$99a.getRenderElementsCount=function(){throw new Error("\u672aOverride,\u8bf7\u91cd\u8f7d\u8be5\u5c5e\u6027\uff01")},C$99a.getRenderElement=function(C$99t){throw new Error("\u672aOverride,\u8bf7\u91cd\u8f7d\u8be5\u5c5e\u6027\uff01")},C$99e(0,C$99a,"subMeshCount",function(){return this._subMeshCount}),C$99e(0,C$99a,"boundingBox",function(){return this._boundingBox}),C$99e(0,C$99a,"boundingBoxCorners",function(){return this._boundingBoxCorners}),C$99e(0,C$99a,"boundingSphere",function(){return this._boundingSphere}),v$c9),C$99Ae=(C$99t(_q0e,"laya.d3.component.Script",C$99s),(C$99m=_q0e.prototype).onTriggerEnter=function(C$99t){},C$99m.onTriggerExit=function(C$99t){},C$99m.onTriggerStay=function(C$99t){},C$99e(0,C$99m,"isSingleton",function(){return _q0e._isSingleton}),_q0e._isSingleton=!1,C$99t(pe7zfo,"laya.d3.core.MeshFilter",C$99Qe=C$99ye),(C$99C=pe7zfo.prototype)._sharedMeshLoaded=function(){this.event("loaded")},C$99C._destroy=function(){C$99Qe.prototype._destroy.call(this),this._owner=null,this._sharedMesh&&(this._sharedMesh._removeReference(),this._sharedMesh=null)},C$99e(0,C$99C,"sharedMesh",function(){return this._sharedMesh},function(C$99t){var C$99e=this._sharedMesh;C$99e&&C$99e._removeReference(),(this._sharedMesh=C$99t)._addReference(),this.event("meshchanged",[this,C$99e,C$99t]),C$99t.loaded||this._sharedMesh.once("loaded",this,this._sharedMeshLoaded)}),C$99e(0,C$99C,"_isAsyncLoaded",function(){return this._sharedMesh.loaded}),C$99e(0,C$99C,"_originalBoundingBoxCorners",function(){return this._sharedMesh.boundingBoxCorners}),C$99e(0,C$99C,"_originalBoundingSphere",function(){return this._sharedMesh.boundingSphere}),C$99e(0,C$99C,"_originalBoundingBox",function(){return this._sharedMesh.boundingBox}),pe7zfo),C$99Ie=(C$99t(zpf7o,"laya.d3.core.MeshRender",C$99be),(C$99a=zpf7o.prototype)._onMeshChanged=function(C$99t,C$99e,C$99i){C$99i.loaded?this._boundingSphereNeedChange=this._boundingBoxNeedChange=this._boundingBoxCenterNeedChange=this._octreeNodeNeedChange=!0:C$99i.once("loaded",this,this._onMeshLoaed)},C$99a._onMeshLoaed=function(C$99t,C$99e){this._boundingSphereNeedChange=this._boundingBoxNeedChange=this._boundingBoxCenterNeedChange=this._octreeNodeNeedChange=!0},C$99a._calculateBoundingSphereByInitSphere=function(C$99t){var C$99e=this._owner.transform,C$99i=C$99e.scale.elements,C$99n=Math.abs(C$99i[0]),C$99r=Math.abs(C$99i[1]),C$99i=Math.abs(C$99i[2]);C$99n=C$99r<=C$99n&&C$99i<=C$99n?C$99n:C$99i<=C$99r?C$99r:C$99i,C$99A.transformCoordinate(C$99t.center,C$99e.worldMatrix,this._boundingSphere.center),this._boundingSphere.radius=C$99t.radius*C$99n},C$99a._calculateBoundBoxByInitCorners=function(C$99t){for(var C$99e=this._owner.transform.worldMatrix,C$99i=0;C$99i<8;C$99i++)C$99A.transformCoordinate(C$99t[C$99i],C$99e,C$99be._tempBoundBoxCorners[C$99i]);C$99Zt.createfromPoints(C$99be._tempBoundBoxCorners,this._boundingBox)},C$99a._calculateBoundingSphere=function(){var C$99t=this._owner.meshFilter.sharedMesh;null==C$99t||null==C$99t.boundingSphere?this._boundingSphere.toDefault():this._calculateBoundingSphereByInitSphere(C$99t.boundingSphere)},C$99a._calculateBoundingBox=function(){var C$99t=this._owner.meshFilter.sharedMesh;null==C$99t||null==C$99t.boundingBox?this._boundingBox.toDefault():this._calculateBoundBoxByInitCorners(C$99t.boundingBoxCorners)},C$99a._renderUpdate=function(C$99t){var C$99e=this._owner.transform;return C$99e?(this._setShaderValueMatrix4x4(0,C$99e.worldMatrix),C$99e=this._owner.getProjectionViewWorldMatrix(C$99t),this._setShaderValueMatrix4x4(1,C$99e)):(this._setShaderValueMatrix4x4(0,C$99ie.DEFAULT),this._setShaderValueMatrix4x4(1,C$99t)),C$99ve.debugMode&&this._renderRenderableBoundBox(),!0},zpf7o),C$99Re=(C$99t(my_,"laya.d3.core.scene.Scene",C$99Ze=C$99I),C$99s=my_.prototype,C$99b.imps(C$99s,{"laya.webgl.submit.ISubmit":!0,"laya.resource.ICreateResource":!0}),C$99s._setUrl=function(C$99t){this._url=C$99t},C$99s._getGroup=function(){return this._group},C$99s._setGroup=function(C$99t){this._group=C$99t},C$99s._display=function(){C$99b.stage._scenes.push(this),C$99b.stage._scenes.sort(my_._sortScenes);for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++){var C$99i=this._childs[C$99t];C$99i.active&&C$99i._activeHierarchy()}},C$99s._unDisplay=function(){var C$99t=C$99b.stage._scenes;C$99t.splice(C$99t.indexOf(this),1);for(var C$99e=0,C$99i=this._childs.length;C$99e<C$99i;C$99e++){var C$99n=this._childs[C$99e];C$99n.active&&C$99n._inActiveHierarchy()}},C$99s._addChild3D=function(C$99t){C$99t.transform._onWorldTransform(),C$99t._setBelongScene(this),this.displayedInStage&&C$99t.active&&C$99t._activeHierarchy()},C$99s._removeChild3D=function(C$99t){C$99t.transform.parent=null,this.displayedInStage&&C$99t.active&&C$99t._inActiveHierarchy(),C$99t._setUnBelongScene()},C$99s.initOctree=function(C$99t,C$99e,C$99i,C$99n,C$99r){void 0===C$99r&&(C$99r=6),this.treeSize=new C$99A(C$99t,C$99e,C$99i),this.treeLevel=C$99r,this.treeRoot=new C$99J(this,0),this.treeRoot.init(C$99n,this.treeSize)},C$99s._prepareUpdateToRenderState=function(C$99t,C$99e){C$99e.elapsedTime=this._lastCurrentTime?this.timer.currTimer-this._lastCurrentTime:0,this._lastCurrentTime=this.timer.currTimer,C$99e.scene=this},C$99s._prepareSceneToRender=function(C$99t){var C$99e=this._lights.length;if(0<C$99e)for(var C$99i=0,C$99n=0;C$99n<C$99e&&!(this._lights[C$99n]._prepareToScene(C$99t)&&++C$99i>=this._enableLightCount);C$99n++);},C$99s._updateChilds=function(C$99t){for(var C$99e=0,C$99i=this._childs.length;C$99e<C$99i;++C$99e)this._childs[C$99e]._update(C$99t)},C$99s._preRenderScene=function(C$99t,C$99e,C$99i){var C$99n,C$99r=C$99e._viewMatrix,C$99s=C$99e._projectionMatrix,C$99a=C$99e._projectionViewMatrix,C$99o=0,C$99h=C$99e.camera;for(C$99h.useOcclusionCulling?this.treeRoot?C$99at.renderObjectCullingOctree(C$99i,this,C$99h,C$99r,C$99s,C$99a):C$99at.renderObjectCulling(C$99i,this,C$99h,C$99r,C$99s,C$99a):C$99at.renderObjectCullingNoBoundFrustum(this,C$99h,C$99r,C$99s,C$99a),C$99o=0,C$99n=this._quenes.length;C$99o<C$99n;C$99o++)this._quenes[C$99o]&&this._quenes[C$99o]._preRender(C$99e)},C$99s._clear=function(C$99t,C$99e){var C$99i=C$99e._viewport,C$99n=C$99e.camera,C$99r=C$99i.x,C$99s=C$99n.renderTargetSize.height-C$99i.y-C$99i.height,C$99c=C$99i.width,C$99_=C$99i.height;C$99t.viewport(C$99r,C$99s,C$99c,C$99_);var C$99a=256,C$99o=C$99n.renderTarget;switch(C$99n.clearFlag){case 0:var C$99h=C$99n.clearColor;var C$99l;if(C$99h&&(C$99t.enable(3089),C$99t.scissor(C$99r,C$99s,C$99c,C$99_),C$99l=C$99h.elements,C$99t.clearColor(C$99l[0],C$99l[1],C$99l[2],C$99l[3]),C$99a|=16384),C$99o)switch(C$99h||(C$99a=16384),C$99o.depthStencilFormat){case 33189:C$99a|=256;break;case 36168:C$99a|=1024;break;case 34041:C$99a=C$99a|256|1024}C$99t.clear(C$99a),C$99h&&C$99t.disable(3089);break;case 1:case 2:if(C$99o)switch(C$99a=16384,C$99o.depthStencilFormat){case 33189:C$99a|=256;break;case 36168:C$99a|=1024;break;case 34041:C$99a=C$99a|256|1024}C$99t.clear(C$99a);break;case 3:break;default:throw new Error("BaseScene:camera clearFlag invalid.")}},C$99s._renderScene=function(C$99t,C$99e){var C$99i,C$99n,C$99r=C$99e.camera,C$99s=0;for(C$99s=0;C$99s<2;C$99s++)(C$99n=this._quenes[C$99s])&&(C$99r.renderTarget?C$99n._render(C$99e,!0):C$99n._render(C$99e,!1));var C$99a;for(1!==C$99r.clearFlag||(C$99a=C$99r.sky)&&(C$99B.setCullFace(C$99t,!1),C$99B.setDepthFunc(C$99t,515),C$99B.setDepthMask(C$99t,!1),C$99a._render(C$99e),C$99B.setDepthFunc(C$99t,513),C$99B.setDepthMask(C$99t,!0)),C$99s=2,C$99i=this._quenes.length;C$99s<C$99i;C$99s++)(C$99n=this._quenes[C$99s])&&(C$99n._sortAlpha(C$99e.camera.transform.position),C$99r.renderTarget?C$99n._render(C$99e,!0):C$99n._render(C$99e,!1))},C$99s._set3DRenderConfig=function(C$99t){C$99t.disable(3042),C$99B._blend=!1,C$99t.blendFunc(770,771),C$99B._sFactor=770,C$99B._dFactor=771,C$99t.disable(2929),C$99B._depthTest=!1,C$99t.enable(2884),C$99B._cullFace=!0,C$99t.depthMask(1),C$99B._depthMask=!0,C$99t.frontFace(2304),C$99B._frontFace=2304},C$99s._set2DRenderConfig=function(C$99t){C$99B.setBlend(C$99t,!0),C$99B.setBlendFunc(C$99t,1,771),C$99B.setDepthTest(C$99t,!1),C$99B.setCullFace(C$99t,!1),C$99B.setDepthMask(C$99t,!0),C$99B.setFrontFace(C$99t,2305),C$99t.viewport(0,0,C$99S.width,C$99S.height)},C$99s._parseCustomProps=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99n.customProps.lightmaps,C$99s=C$99r.length,C$99a=this._lightmaps;C$99a.length=C$99s;for(var C$99o=0;C$99o<C$99s;C$99o++)C$99a[C$99o]=C$99g.getRes(C$99e[C$99r[C$99o].replace(".exr",".png")]);this.setlightmaps(C$99a);var C$99h=C$99n.customProps.ambientColor;C$99h&&(this.ambientColor=new C$99A(C$99h[0],C$99h[1],C$99h[2]));C$99h=C$99n.customProps.fogColor;C$99h&&(this.fogColor=new C$99A(C$99h[0],C$99h[1],C$99h[2]))},C$99s._addLight=function(C$99t){this._lights.indexOf(C$99t)<0&&this._lights.push(C$99t)},C$99s._removeLight=function(C$99t){C$99t=this._lights.indexOf(C$99t);0<=C$99t&&this._lights.splice(C$99t,1)},C$99s._updateScene=function(){var C$99t=this._renderState;this._prepareUpdateToRenderState(C$99k.mainContext,C$99t),this._updateComponents(C$99t),this._updateChilds(C$99t),this._lateUpdateComponents(C$99t),this._time+=C$99t.elapsedTime/1e3,this._shaderValues.setValue(22,this._time)},C$99s._updateSceneConch=function(){var C$99t=this._renderState;this._prepareUpdateToRenderState(C$99k.mainContext,C$99t),this._updateComponents(C$99t),this._lateUpdateComponents(C$99t),this._prepareSceneToRender(C$99t);for(var C$99e=0,C$99i=this._cameraPool.length;C$99e<C$99i;C$99e++){var C$99n=this._cameraPool[C$99e];(C$99t.camera=C$99n)._prepareCameraToRender()}},C$99s._preRenderShadow=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.treeRoot?C$99at.renderShadowObjectCullingOctree(this,C$99e,C$99i,C$99n,C$99r):C$99at.renderShadowObjectCulling(this,C$99e,C$99i,C$99n,C$99r);for(var C$99s=0,C$99a=C$99i.length;C$99s<C$99a;C$99s++)C$99i[C$99s]&&C$99i[C$99s]._preRender(C$99t)},C$99s._renderShadowMap=function(C$99t,C$99e,C$99i){var C$99n=this.parallelSplitShadowMaps[0];C$99n._calcAllLightCameraInfo(C$99i);var C$99r,C$99s,C$99a,C$99o=C$99n.PSSMNum;if(this._preRenderShadow(C$99e,C$99n._lightCulling,C$99n._shadowQuenes,C$99n._lightVPMatrix[0],C$99o),this.addShaderDefine(C$99fe.SHADERDEFINE_CAST_SHADOW),1<C$99o)for(var C$99h=0;C$99h<C$99o;C$99h++)C$99r=C$99n.getRenderTarget(C$99h+1),C$99n.beginRenderTarget(C$99h+1),C$99t.clearColor(1,1,1,1),C$99t.clear(16640),C$99t.viewport(0,0,C$99r.width,C$99r.height),C$99e.camera=C$99a=C$99n.getLightCamera(C$99h),C$99a._prepareCameraToRender(),C$99a._prepareCameraViewProject(C$99a.viewMatrix,C$99a.projectionMatrix),C$99e._projectionViewMatrix=C$99n._lightVPMatrix[C$99h+1],(C$99s=C$99n._shadowQuenes[C$99h])._preRender(C$99e),C$99s._renderShadow(C$99e,!1),C$99n.endRenderTarget(C$99h+1);else C$99r=C$99n.getRenderTarget(1),C$99n.beginRenderTarget(1),C$99t.clearColor(1,1,1,1),C$99t.clear(16640),C$99t.viewport(0,0,C$99r.width,C$99r.height),C$99e.camera=C$99a=C$99n.getLightCamera(0),C$99a._prepareCameraToRender(),C$99a._prepareCameraViewProject(C$99a.viewMatrix,C$99a.projectionMatrix),C$99e._projectionViewMatrix=C$99n._lightVPMatrix[0],(C$99s=C$99n._shadowQuenes[0])._preRender(C$99e),C$99s._renderShadow(C$99e,!0),C$99n.endRenderTarget(1);this.removeShaderDefine(C$99fe.SHADERDEFINE_CAST_SHADOW)},C$99s.addTreeNode=function(C$99t){this.treeRoot.addTreeNode(C$99t)},C$99s.removeTreeNode=function(C$99t){this.treeSize&&C$99t._treeNode&&C$99t._treeNode.removeObject(C$99t)},C$99s.setlightmaps=function(C$99t){this._lightmaps=C$99t;for(var C$99e=0,C$99i=this._renderableSprite3Ds.length;C$99e<C$99i;C$99e++)this._renderableSprite3Ds[C$99e]._render._applyLightMapParams()},C$99s.getlightmaps=function(){return this._lightmaps},C$99s.addChildAt=function(C$99t,C$99e){if(!(C$99t instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.  className="+(C$99t&&C$99t.__className));if(!C$99t||this.destroyed||C$99t===this)return C$99t;var C$99i;if(C$99t.zOrder&&this._set$P("hasZorder",!0),0<=C$99e&&C$99e<=this._childs.length)return C$99t._parent===this?(C$99i=this.getChildIndex(C$99t),this._childs.splice(C$99i,1),this._childs.splice(C$99e,0,C$99t),this.conchModel&&(this.conchModel.removeChild(C$99t.conchModel),this.conchModel.addChildAt(C$99t.conchModel,C$99e)),this._childChanged()):(C$99t.parent&&C$99t.parent.removeChild(C$99t),this._childs===C$99y.ARRAY_EMPTY&&(this._childs=[]),this._childs.splice(C$99e,0,C$99t),this.conchModel&&this.conchModel.addChildAt(C$99t.conchModel,C$99e),(C$99t.parent=this)._addChild3D(C$99t)),C$99t;throw new Error("appendChildAt:The index is out of bounds")},C$99s.addChild=function(C$99t){if(!(C$99t instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");return!C$99t||this.destroyed||C$99t===this||(C$99t.zOrder&&this._set$P("hasZorder",!0),C$99t._parent===this?(C$99e=this.getChildIndex(C$99t))!==this._childs.length-1&&(this._childs.splice(C$99e,1),this._childs.push(C$99t),this.conchModel&&(this.conchModel.removeChild(C$99t.conchModel),this.conchModel.addChildAt(C$99t.conchModel,this._childs.length-1)),this._childChanged()):(C$99t.parent&&C$99t.parent.removeChild(C$99t),this._childs===C$99y.ARRAY_EMPTY&&(this._childs=[]),this._childs.push(C$99t),this.conchModel&&this.conchModel.addChildAt(C$99t.conchModel,this._childs.length-1),(C$99t.parent=this)._childChanged(),this._addChild3D(C$99t))),C$99t;var C$99e},C$99s.removeChildAt=function(C$99t){var C$99e=this.getChildAt(C$99t);return C$99e&&(this._removeChild3D(C$99e),this._childs.splice(C$99t,1),this.conchModel&&this.conchModel.removeChild(C$99e.conchModel),C$99e.parent=null),C$99e},C$99s.removeChildren=function(C$99t,C$99e){if(void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=2147483647),this._childs&&0<this._childs.length){var C$99i=this._childs;var C$99n;0===C$99t&&C$99s<=C$99e?(C$99n=C$99i,this._childs=C$99y.ARRAY_EMPTY):C$99n=C$99i.splice(C$99t,C$99e-C$99t);for(var C$99r=0,C$99s=C$99n.length;C$99r<C$99s;C$99r++)this._removeChild3D(C$99n[C$99r]),C$99n[C$99r].parent=null,this.conchModel&&this.conchModel.removeChild(C$99n[C$99r].conchModel)}return this},C$99s.addFrustumCullingObject=function(C$99t){this.treeRoot?this.addTreeNode(C$99t):(this._cullingRendersLength===this._cullingRenders.length?this._cullingRenders.push(C$99t):this._cullingRenders[this._cullingRendersLength]=C$99t,C$99t._indexInSceneFrustumCullingObjects=this._cullingRendersLength++)},C$99s.removeFrustumCullingObject=function(C$99t){var C$99e,C$99i;this.treeRoot?this.removeTreeNode(C$99t):(this._cullingRendersLength--,(C$99e=C$99t._indexInSceneFrustumCullingObjects)!==this._cullingRendersLength&&(C$99i=this._cullingRenders[this._cullingRendersLength],(this._cullingRenders[C$99e]=C$99i)._indexInSceneFrustumCullingObjects=C$99e,C$99t._indexInSceneFrustumCullingObjects=-1))},C$99s.getRenderQueue=function(C$99t){return C$99t<3e3?this._quenes[1]||(this._quenes[1]=new C$99Z(this)):this._quenes[2]||(this._quenes[2]=new C$99Z(this))},C$99s.addRenderQuene=function(){this._quenes[this._customRenderQueneIndex++]=new C$99Z(this)},C$99s.addShaderDefine=function(C$99t){this._shaderDefineValue|=C$99t},C$99s.removeShaderDefine=function(C$99t){this._shaderDefineValue&=~C$99t},C$99s.addScript=function(C$99t){return this._addComponent(C$99t)},C$99s.getScriptByType=function(C$99t,C$99e){return this._getComponentByType(C$99t,C$99e=void 0===C$99e?0:C$99e)},C$99s.getScriptsByType=function(C$99t,C$99e){this._getComponentsByType(C$99t,C$99e)},C$99s.getScriptByIndex=function(C$99t){return this._getComponentByIndex(C$99t)},C$99s.removeScriptByType=function(C$99t,C$99e){this._removeComponentByType(C$99t,C$99e=void 0===C$99e?0:C$99e)},C$99s.removeScriptsByType=function(C$99t){this._removeComponentByType(C$99t)},C$99s.removeAllScript=function(){this._removeAllComponent()},C$99s.render=function(C$99t,C$99e,C$99i){(C$99T._context.ctx._renderKey=0)<this._childs.length&&C$99t.addRenderObject(this)},C$99s.renderSubmit=function(){var C$99t=C$99k.mainContext,C$99e=this._renderState;this._set3DRenderConfig(C$99t),this._prepareSceneToRender(this._renderState);var C$99i,C$99n=0,C$99r=0;if(C$99ve.debugMode||C$99J.debugMode)for(C$99n=0,C$99r=this._cameraPool.length;C$99n<C$99r;C$99n++)C$99i=this._cameraPool[C$99n],C$99ve._debugPhasorSprite.begin(1,C$99i),C$99i.activeInHierarchy&&C$99i._renderCamera(C$99t,C$99e,this),C$99ve._debugPhasorSprite.end();else for(C$99n=0,C$99r=this._cameraPool.length;C$99n<C$99r;C$99n++)(C$99i=this._cameraPool[C$99n]).activeInHierarchy&&C$99i._renderCamera(C$99t,C$99e,this);return this._set2DRenderConfig(C$99t),1},C$99s.onAsynLoaded=function(C$99t,C$99e,C$99i){var C$99n=C$99e[0];if("Scene"!==C$99n.type)throw new Error("Scene: the .lh file root type must be Scene,please use other function to  load  this file.");C$99e=C$99e[1];C$99ge._createNodeByJson(this,C$99n,this,C$99e),this.event("hierarchyloaded",[this]),this.__loaded=!0},C$99s.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this.destroyed||(C$99Ze.prototype.destroy.call(this,C$99t),this._renderState=null,this._lights=null,this._lightmaps=null,this._renderTargetTexture=null,this._shaderValues=null,this._cullingRenders=null,this._dynamicBatchManager=null,this._quenes=null,this._cameraPool=null,this._renderableSprite3Ds=null,this.treeRoot=null,this.treeSize=null,this.parallelSplitShadowMaps=null,this._typeComponentsIndices=null,this._components=null,C$99g.clearRes(this.url),this.loaded||C$99ve._cancelLoadByUrl(this.url))},C$99s.getRenderType=function(){return 0},C$99s.releaseRender=function(){},C$99s._addComponent=function(C$99t){var C$99e,C$99i=this._componentsMap.indexOf(C$99t);if(-1===C$99i)C$99e=[],this._componentsMap.push(C$99t),this._typeComponentsIndices.push(C$99e);else if(C$99e=this._typeComponentsIndices[C$99i],this._components[C$99e[0]].isSingleton)throw new Error("\u65e0\u6cd5\u5355\u5b9e\u4f8b\u521b\u5efa"+C$99t+"\u7ec4\u4ef6\uff0c"+C$99t+"\u7ec4\u4ef6\u5df2\u5b58\u5728\uff01");C$99i=C$99d.getInstance(C$99t);return C$99e.push(this._components.length),this._components.push(C$99i),C$99i._initialize(this),C$99i},C$99s._removeComponent=function(C$99t,C$99e){var C$99i=this._typeComponentsIndices[C$99t],C$99n=C$99i[C$99e],C$99r=this._components[C$99n];this._components.splice(C$99n,1),C$99i.splice(C$99e,1),0===C$99i.length&&(this._typeComponentsIndices.splice(C$99t,1),this._componentsMap.splice(C$99t,1));for(var C$99s=0,C$99a=this._componentsMap.length;C$99s<C$99a;C$99s++)for(var C$99o=(C$99i=this._typeComponentsIndices[C$99s]).length-1;0<=C$99o;C$99o--){var C$99h=C$99i[C$99o];if(!(C$99n<C$99h))break;C$99i[C$99o]=--C$99h}C$99r._destroy()},C$99s._getComponentByType=function(C$99t,C$99e){void 0===C$99e&&(C$99e=0);C$99t=this._componentsMap.indexOf(C$99t);return-1===C$99t?null:this._components[this._typeComponentsIndices[C$99t][C$99e]]},C$99s._getComponentsByType=function(C$99t,C$99e){C$99t=this._componentsMap.indexOf(C$99t);if(-1!==C$99t){var C$99i=this._typeComponentsIndices[C$99t],C$99n=C$99i.length;C$99e.length=C$99n;for(var C$99r=0;C$99r<C$99n;C$99r++)C$99e[C$99r]=this._components[C$99i[C$99r]]}else C$99e.length=0},C$99s._getComponentByIndex=function(C$99t){return this._components[C$99t]},C$99s._removeComponentByType=function(C$99t,C$99e){void 0===C$99e&&(C$99e=0);C$99t=this._componentsMap.indexOf(C$99t);-1!==C$99t&&this._removeComponent(C$99t,C$99e)},C$99s._removeComponentsByType=function(C$99t){var C$99e=this._componentsMap.indexOf(C$99t);if(-1!==C$99e)for(var C$99i=this._typeComponentsIndices[C$99e],C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99i.length<C$99r?C$99r--:C$99n++)this._removeComponent(C$99e,C$99n)},C$99s._removeAllComponent=function(){for(var C$99t=0,C$99e=this._componentsMap.length;C$99t<C$99e;this._componentsMap.length<C$99e?C$99e--:C$99t++)this._removeComponentsByType(this._componentsMap[C$99t])},C$99s._updateComponents=function(C$99t){for(var C$99e=0,C$99i=this._components.length;C$99e<C$99i;C$99e++){var C$99n=this._components[C$99e];C$99n.started||(C$99n._start(C$99t),C$99n.started=!0),C$99n.enable&&C$99n._update(C$99t)}},C$99s._lateUpdateComponents=function(C$99t){for(var C$99e=0;C$99e<this._components.length;C$99e++){var C$99i=this._components[C$99e];C$99i.started||(C$99i._start(C$99t),C$99i.started=!0),C$99i.enable&&C$99i._lateUpdate(C$99t)}},C$99s._preRenderUpdateComponents=function(C$99t){for(var C$99e=0;C$99e<this._components.length;C$99e++){var C$99i=this._components[C$99e];C$99i.started||(C$99i._start(C$99t),C$99i.started=!0),C$99i.enable&&C$99i._preRenderUpdate(C$99t)}},C$99s._postRenderUpdateComponents=function(C$99t){for(var C$99e=0;C$99e<this._components.length;C$99e++){var C$99i=this._components[C$99e];C$99i.started||(C$99i._start(C$99t),C$99i.started=!0),C$99i.enable&&C$99i._postRenderUpdate(C$99t)}},C$99e(0,C$99s,"_loaded",null,function(C$99t){this.__loaded=C$99t}),C$99e(0,C$99s,"fogColor",function(){return this._fogColor},function(C$99t){this._fogColor=C$99t,this._shaderValues.setValue(0,C$99t.elements)}),C$99e(0,C$99s,"enableFog",function(){return this._enableFog},function(C$99t){this._enableFog!==C$99t&&((this._enableFog=C$99t)?(this.addShaderDefine(C$99Me.SHADERDEFINE_FOG),this.removeShaderDefine(C$99Me.SAHDERDEFINE_DEPTHFOG)):this.removeShaderDefine(C$99Me.SHADERDEFINE_FOG))}),C$99e(0,C$99s,"url",function(){return this._url}),C$99e(0,C$99s,"loaded",function(){return this.__loaded}),C$99e(0,C$99s,"enableDepthFog",function(){return this._enableDepthFog},function(C$99t){this._enableDepthFog!=C$99t&&((this._enableDepthFog=C$99t)?(this.addShaderDefine(C$99Me.SAHDERDEFINE_DEPTHFOG),this.removeShaderDefine(C$99Me.SHADERDEFINE_FOG)):this.removeShaderDefine(C$99Me.SAHDERDEFINE_DEPTHFOG))}),C$99e(0,C$99s,"fogStart",function(){return this._fogStart},function(C$99t){this._fogStart=C$99t,this._shaderValues.setValue(1,C$99t)}),C$99e(0,C$99s,"fogRange",function(){return this._fogRange},function(C$99t){this._fogRange=C$99t,this._shaderValues.setValue(2,C$99t)}),C$99e(0,C$99s,"ambientColor",function(){return this._ambientColor},function(C$99t){this._ambientColor=C$99t,this._shaderValues.setValue(21,C$99t.elements)}),C$99e(0,C$99s,"scene",function(){return this}),C$99e(0,C$99s,"renderableSprite3Ds",function(){return this._renderableSprite3Ds.slice()}),my_._sortScenes=function(C$99t,C$99e){if(C$99t.parent!==C$99b.stage||C$99e.parent!==C$99b.stage)return C$99t.parent!==C$99b.stage&&C$99e.parent!==C$99b.stage?my_._sortScenes(C$99t.parent,C$99e.parent):C$99t.parent===C$99b.stage?-1:1;var C$99i=C$99b.stage._childs;return C$99i.indexOf(C$99t)-C$99i.indexOf(C$99e)},my_.load=function(C$99t){return C$99b.loader.create(C$99t,null,null,my_)},my_.FOGCOLOR=0,my_.FOGSTART=1,my_.FOGRANGE=2,my_.LIGHTDIRECTION=3,my_.LIGHTDIRCOLOR=4,my_.POINTLIGHTPOS=5,my_.POINTLIGHTRANGE=6,my_.POINTLIGHTATTENUATION=7,my_.POINTLIGHTCOLOR=8,my_.SPOTLIGHTPOS=9,my_.SPOTLIGHTDIRECTION=10,my_.SPOTLIGHTSPOT=11,my_.SPOTLIGHTRANGE=12,my_.SPOTLIGHTATTENUATION=13,my_.SPOTLIGHTCOLOR=14,my_.SHADOWDISTANCE=15,my_.SHADOWLIGHTVIEWPROJECT=16,my_.SHADOWMAPPCFOFFSET=17,my_.SHADOWMAPTEXTURE1=18,my_.SHADOWMAPTEXTURE2=19,my_.SHADOWMAPTEXTURE3=20,my_.AMBIENTCOLOR=21,my_.TIME=22,my_),C$99Pe=(C$99t(cvt9i2,"laya.d3.core.Sprite3D",C$99i),C$99m=cvt9i2.prototype,C$99b.imps(C$99m,{"laya.d3.core.render.IUpdate":!0,"laya.resource.ICreateResource":!0,"laya.d3.core.IClone":!0}),C$99m._setUrl=function(C$99t){this._url=C$99t},C$99m._getGroup=function(){return this._group},C$99m._setGroup=function(C$99t){this._group=C$99t},C$99m._addChild3D=function(C$99t){C$99t.transform.parent=this.transform,this._hierarchyAnimator&&(C$99t._hierarchyAnimator||C$99t._setHierarchyAnimator(this._hierarchyAnimator,null),this._getAnimatorToLinkSprite3D(C$99t,!0,[C$99t.name])),this._scene&&(C$99t._setBelongScene(this._scene),this._activeInHierarchy&&C$99t._active&&C$99t._activeHierarchy())},C$99m._removeChild3D=function(C$99t){C$99t.transform.parent=null,this._scene&&(this._activeInHierarchy&&C$99t._active&&C$99t._inActiveHierarchy(),C$99t._setUnBelongScene()),this._hierarchyAnimator&&(C$99t._hierarchyAnimator==this._hierarchyAnimator&&C$99t._clearHierarchyAnimator(this._hierarchyAnimator,null),this._getAnimatorToLinkSprite3D(C$99t,!1,[C$99t.name]))},C$99m._parseBaseCustomProps=function(C$99t){var C$99e=this.transform.localPosition;C$99t.translate?(C$99e.fromArray(C$99t.translate),C$99e.x*=100,C$99e.y*=100,C$99e.z*=100):C$99e.elements.fill(0),this.transform.localPosition=C$99e;C$99e=this.transform.localRotation;C$99t.rotation?C$99e.fromArray(C$99t.rotation):C$99e.fromArray([0,0,0,-1]),this.transform.localRotation=C$99e;C$99e=this.transform.localScale;C$99t.scale?C$99e.fromArray(C$99t.scale):C$99e.elements.fill(1),this.transform.localScale=C$99e;C$99e=C$99t.layer;null!=C$99e&&(this.layer=C$99$.getLayerByNumber(C$99e))},C$99m._parseCustomComponent=function(C$99c,C$99t,C$99e){for(var C$99i in C$99e){var C$99n=C$99e[C$99i];switch(C$99i){case"Animator":var C$99r=this.addComponent(Animator);C$99n.avatarPath?C$99r.avatar=C$99g.getRes(C$99t[C$99n.avatarPath]):(C$99o=C$99n.avatar)&&(C$99r.avatar=C$99g.getRes(C$99t[C$99o.path]),(C$99o=C$99o.linkSprites)&&C$99c.once("hierarchyloaded",this,this._onRootNodeHierarchyLoaded,[C$99r,C$99o]));for(var C$99s=C$99n.clipPaths,C$99_=C$99s.length,C$99a=0;C$99a<C$99_;C$99a++)C$99r.addClip(C$99g.getRes(C$99t[C$99s[C$99a]]));C$99r.clip=C$99g.getRes(C$99t[C$99s[0]]);var C$99o=C$99n.playOnWake;void 0!==C$99o&&(C$99r.playOnWake=C$99o);break;case"Rigidbody":this.addComponent(Rigidbody);break;case"SphereCollider":var C$99h=this.addComponent(SphereCollider);C$99h.isTrigger=C$99n.isTrigger;var C$99l=C$99h.center;C$99l.fromArray(C$99n.center),C$99h.center=C$99l,C$99h.radius=C$99n.radius;break;case"BoxCollider":C$99l=this.addComponent(BoxCollider);C$99l.isTrigger=C$99n.isTrigger,C$99l.center.fromArray(C$99n.center);C$99h=C$99l.size;C$99h.fromArray(C$99n.size),C$99l.size=C$99h;break;case"MeshCollider":this.addComponent(MeshCollider)}}},C$99m._onRootNodeHierarchyLoaded=function(C$99t,C$99e){for(var C$99i in C$99e){for(var C$99n=this,C$99r=C$99e[C$99i],C$99s=0,C$99a=C$99r.length;C$99s<C$99a;C$99s++){var C$99o=C$99r[C$99s];if(""===C$99o)break;if(!(C$99n=C$99n.getChildByName(C$99o)))break}C$99n&&C$99t.linkSprite3DToAvatarNode(C$99i,C$99n)}},C$99m._setHierarchyAnimator=function(C$99t,C$99e){this._changeHierarchyAnimator(C$99t);for(var C$99i=0,C$99n=this._childs.length;C$99i<C$99n;C$99i++){var C$99r=this._childs[C$99i];C$99r._hierarchyAnimator==C$99e&&C$99r._setHierarchyAnimator(C$99t,C$99e)}},C$99m._clearHierarchyAnimator=function(C$99t,C$99e){this._changeHierarchyAnimator(C$99e);for(var C$99i=0,C$99n=this._childs.length;C$99i<C$99n;C$99i++){var C$99r=this._childs[C$99i];C$99r._hierarchyAnimator==C$99t&&C$99r._clearHierarchyAnimator(C$99t,C$99e)}},C$99m._getAnimatorToLinkSprite3D=function(C$99t,C$99e,C$99i){var C$99n=this.getComponentByType(Animator);C$99n&&(C$99n.avatar?C$99n.avatar._version||C$99t._setAnimatorToLinkAvatar(C$99n,C$99e):C$99t._setAnimatorToLinkSprite3DNoAvatar(C$99n,C$99e,C$99i)),this._parent&&this._parent instanceof laya.d3.core.Sprite3D&&(C$99i.unshift(this._parent.name),(C$99n=this._parent)._hierarchyAnimator&&C$99n._getAnimatorToLinkSprite3D(C$99t,C$99e,C$99i))},C$99m._setAnimatorToLinkSprite3DNoAvatar=function(C$99t,C$99e,C$99i){var C$99n=0,C$99r=0;for(C$99n=0,C$99r=C$99t.getClipCount();C$99n<C$99r;C$99n++)C$99t._handleSpriteOwnersBySprite(C$99n,C$99e,C$99i,this);for(C$99n=0,C$99r=this._childs.length;C$99n<C$99r;C$99n++){var C$99s=this._childs[C$99n],C$99a=C$99i.length;C$99i.push(C$99s.name),C$99s._setAnimatorToLinkSprite3DNoAvatar(C$99t,C$99e,C$99i),C$99i.splice(C$99a,1)}},C$99m._changeHierarchyAnimator=function(C$99t){this._hierarchyAnimator=C$99t},C$99m._isLinkSpriteToAnimationNode=function(C$99t,C$99e,C$99i){var C$99n=C$99t._avatarNodes.indexOf(C$99e),C$99r=C$99t._cacheSpriteToNodesMap;C$99i?(this._transform.dummy=C$99e.transform,C$99t._cacheNodesToSpriteMap[C$99n]=C$99r.length,C$99r.push(C$99n)):(this._transform.dummy=null,C$99i=C$99t._cacheNodesToSpriteMap[C$99n],C$99t._cacheNodesToSpriteMap[C$99n]=null,C$99r.splice(C$99i,1))},C$99m._setBelongScene=function(C$99t){this._scene=C$99t;for(var C$99e=0,C$99i=this._childs.length;C$99e<C$99i;C$99e++)this._childs[C$99e]._setBelongScene(C$99t)},C$99m._setUnBelongScene=function(){this._scene=null;for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._setUnBelongScene()},C$99m._activeHierarchy=function(){var C$99t=0,C$99e=0;for(this._activeInHierarchy=!0,this._addSelfRenderObjects(),C$99t=0,C$99e=this._colliders.length;C$99t<C$99e;C$99t++)this._layer._addCollider(this._colliders[C$99t]);for(this.event("activeinhierarchychanged",!0),C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++){var C$99i=this._childs[C$99t];C$99i._active&&C$99i._activeHierarchy()}},C$99m._inActiveHierarchy=function(){var C$99t=0,C$99e=0;for(this._activeInHierarchy=!1,this._clearSelfRenderObjects(),C$99t=0,C$99e=this._colliders.length;C$99t<C$99e;C$99t++){var C$99i=this._colliders[C$99t];C$99i._clearCollsionMap(),this._layer._removeCollider(C$99i)}for(this.event("activeinhierarchychanged",!1),C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++){var C$99n=this._childs[C$99t];C$99n._active&&C$99n._inActiveHierarchy()}},C$99m.addComponent=function(C$99t){var C$99e,C$99i=this._componentsMap.indexOf(C$99t);if(-1===C$99i)C$99e=[],this._componentsMap.push(C$99t),this._typeComponentsIndices.push(C$99e);else if(C$99e=this._typeComponentsIndices[C$99i],this._components[C$99e[0]].isSingleton)throw new Error("\u65e0\u6cd5\u5355\u5b9e\u4f8b\u521b\u5efa"+C$99t+"\u7ec4\u4ef6\uff0c"+C$99t+"\u7ec4\u4ef6\u5df2\u5b58\u5728\uff01");C$99i=C$99d.getInstance(C$99t);return C$99e.push(this._components.length),this._components.push(C$99i),C$99i instanceof laya.d3.component.Script&&this._scripts.push(C$99i),C$99i._initialize(this),C$99i},C$99m._removeComponent=function(C$99t,C$99e){var C$99i,C$99n=0,C$99r=this._typeComponentsIndices[C$99t],C$99s=C$99r[C$99e],C$99a=this._components[C$99s];for(C$99a instanceof laya.d3.component.Script&&this._scripts.splice(this._scripts.indexOf(C$99a),1),C$99r.splice(C$99e,1),0===C$99r.length&&(this._typeComponentsIndices.splice(C$99t,1),this._componentsMap.splice(C$99t,1)),C$99n=0,C$99i=this._componentsMap.length;C$99n<C$99i;C$99n++)for(var C$99o=(C$99r=this._typeComponentsIndices[C$99n]).length-1;0<=C$99o;C$99o--){var C$99h=C$99r[C$99o];if(!(C$99s<C$99h))break;C$99r[C$99o]=--C$99h}C$99a._destroy()},C$99m._clearSelfRenderObjects=function(){},C$99m._addSelfRenderObjects=function(){},C$99m._parseCustomProps=function(C$99t,C$99e,C$99i,C$99n){},C$99m._updateChilds=function(C$99t){var C$99e=this._childs.length;if(0!==C$99e)for(var C$99i=0;C$99i<C$99e;++C$99i)this._childs[C$99i]._update(C$99t)},C$99m._getSortID=function(C$99t,C$99e){return 1e3*C$99e.id+C$99t._getVertexBuffer().vertexDeclaration.id},C$99m._update=function(C$99t){(C$99t.owner=this)._activeInHierarchy&&(this._updateComponents(C$99t),this._lateUpdateComponents(C$99t),C$99R.spriteCount++,this._childs.length&&this._updateChilds(C$99t))},C$99m.getProjectionViewWorldMatrix=function(C$99t){return C$99ie.multiply(C$99t,this.transform.worldMatrix,this._projectionViewWorldMatrix),this._projectionViewWorldMatrix},C$99m.loadHierarchy=function(C$99t){this.addChild(laya.d3.core.Sprite3D.load(C$99t))},C$99m.addChildAt=function(C$99t,C$99e){if(!(C$99t instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");if(!C$99t||this.destroyed||C$99t===this)return C$99t;var C$99i;if(C$99t.zOrder&&this._set$P("hasZorder",!0),0<=C$99e&&C$99e<=this._childs.length)return C$99t._parent===this?(C$99i=this.getChildIndex(C$99t),this._childs.splice(C$99i,1),this._childs.splice(C$99e,0,C$99t),this.conchModel&&(this.conchModel.removeChild(C$99t.conchModel),this.conchModel.addChildAt(C$99t.conchModel,C$99e)),this._childChanged()):(C$99t.parent&&C$99t.parent.removeChild(C$99t),this._childs===C$99y.ARRAY_EMPTY&&(this._childs=[]),this._childs.splice(C$99e,0,C$99t),this.conchModel&&this.conchModel.addChildAt(C$99t.conchModel,C$99e),(C$99t.parent=this)._addChild3D(C$99t)),C$99t;throw new Error("appendChildAt:The index is out of bounds")},C$99m.addChild=function(C$99t){if(!(C$99t instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");return!C$99t||this.destroyed||C$99t===this||(C$99t.zOrder&&this._set$P("hasZorder",!0),C$99t._parent===this?(C$99e=this.getChildIndex(C$99t))!==this._childs.length-1&&(this._childs.splice(C$99e,1),this._childs.push(C$99t),this.conchModel&&(this.conchModel.removeChild(C$99t.conchModel),this.conchModel.addChildAt(C$99t.conchModel,this._childs.length-1)),this._childChanged()):(C$99t.parent&&C$99t.parent.removeChild(C$99t),this._childs===C$99y.ARRAY_EMPTY&&(this._childs=[]),this._childs.push(C$99t),this.conchModel&&this.conchModel.addChildAt(C$99t.conchModel,this._childs.length-1),(C$99t.parent=this)._childChanged(),this._addChild3D(C$99t))),C$99t;var C$99e},C$99m.removeChildAt=function(C$99t){var C$99e=this.getChildAt(C$99t);return C$99e&&(this._removeChild3D(C$99e),this._childs.splice(C$99t,1),this.conchModel&&this.conchModel.removeChild(C$99e.conchModel),C$99e.parent=null),C$99e},C$99m.removeChildren=function(C$99t,C$99e){if(void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=2147483647),this._childs&&0<this._childs.length){var C$99i=this._childs;var C$99n;0===C$99t&&C$99s<=C$99e?(C$99n=C$99i,this._childs=C$99y.ARRAY_EMPTY):C$99n=C$99i.splice(C$99t,C$99e-C$99t);for(var C$99r=0,C$99s=C$99n.length;C$99r<C$99s;C$99r++)this._removeChild3D(C$99n[C$99r]),C$99n[C$99r].parent=null,this.conchModel&&this.conchModel.removeChild(C$99n[C$99r].conchModel)}return this},C$99m.onAsynLoaded=function(C$99t,C$99e,C$99i){var C$99n=C$99e[0];if("Sprite3D"!==C$99n.type)throw new Error("Sprite3D: The .lh file root type must be Sprite3D,please use other function to  load  this file.");C$99e=C$99e[1];C$99ge._createNodeByJson(this,C$99n,this,C$99e),this.event("hierarchyloaded",[this]),this.__loaded=!0},C$99m.cloneTo=function(C$99t){if(this.destroyed)throw new Error("Sprite3D: Can't be cloned if the Sprite3D has destroyed.");var C$99e=C$99t;C$99e.name=this.name,C$99e._destroyed=this._destroyed,C$99e.timer=this.timer,C$99e._$P=this._$P,C$99e.active=this._active;C$99t=C$99e.transform.localPosition;this.transform.localPosition.cloneTo(C$99t),C$99e.transform.localPosition=C$99t;C$99t=C$99e.transform.localRotation;this.transform.localRotation.cloneTo(C$99t),C$99e.transform.localRotation=C$99t;C$99t=C$99e.transform.localScale;this.transform.localScale.cloneTo(C$99t),C$99e.transform.localScale=C$99t,C$99e.isStatic=this.isStatic;var C$99i=0,C$99n=0;for(C$99i=0,C$99n=this._componentsMap.length;C$99i<C$99n;C$99i++){var C$99c=C$99e.addComponent(this._componentsMap[C$99i]);this._components[C$99i]._cloneTo(C$99c)}for(C$99i=0,C$99n=this._childs.length;C$99i<C$99n;C$99i++)C$99e.addChild(this._childs[C$99i].clone());var C$99r=C$99e.getComponentByType(Animator);if(C$99r){var C$99s=C$99r._linkSpritesData;if(C$99s)for(var C$99a in C$99s){for(var C$99o=C$99s[C$99a],C$99h=C$99e,C$99l=0,C$99_=C$99o.length;C$99l<C$99_&&(C$99h=C$99h.getChildByName(C$99o[C$99l]));C$99l++);C$99h&&(C$99a=C$99r._avatarNodeMap[C$99a],C$99h._isLinkSpriteToAnimationNode(C$99r,C$99a,!0))}}},C$99m.clone=function(){var C$99t=new this.constructor;return this.cloneTo(C$99t),C$99t},C$99m.destroy=function(C$99t){if(void 0===C$99t&&(C$99t=!0),!this.destroyed){laya.display.Node.prototype.destroy.call(this,C$99t);var C$99e,C$99i=0;for(C$99i=0,C$99e=this._components.length;C$99i<C$99e;C$99i++)this._components[C$99i]._destroy();this._components=null,this._componentsMap=null,this._typeComponentsIndices=null,this._transform=null,this._colliders=null,C$99g.clearRes(this.url),this.loaded||C$99ve._cancelLoadByUrl(this.url)}},C$99m._handleSpriteToAvatar=function(C$99t,C$99e){C$99t._avatarNodes;var C$99i=C$99t._avatarNodeMap[this.name];C$99i&&C$99i.name===this.name&&!this._transform.dummy&&this._isLinkSpriteToAnimationNode(C$99t,C$99i,C$99e)},C$99m._setAnimatorToLinkAvatar=function(C$99t,C$99e){this._handleSpriteToAvatar(C$99t,C$99e);for(var C$99i=0,C$99n=this._childs.length;C$99i<C$99n;C$99i++)this._childs[C$99i]._setAnimatorToLinkAvatar(C$99t,C$99e)},C$99e(0,C$99m,"activeInHierarchy",function(){return this._activeInHierarchy}),C$99e(0,C$99m,"_loaded",null,function(C$99t){this.__loaded=C$99t}),C$99e(0,C$99m,"active",function(){return this._active},function(C$99t){this._active!==C$99t&&(this._active=C$99t,this._parent&&(this._parent===this._scene&&this._parent.displayedInStage||this._parent._activeInHierarchy)&&(C$99t?this._activeHierarchy():this._inActiveHierarchy()))}),C$99e(0,C$99m,"componentsCount",function(){return this._components.length}),C$99e(0,C$99m,"loaded",function(){return this.__loaded}),C$99e(0,C$99m,"id",function(){return this._id}),C$99e(0,C$99m,"url",function(){return this._url}),C$99e(0,C$99m,"layer",function(){return this._layer},function(C$99t){if(this._layer!==C$99t){if(!C$99t)throw new Error("Layer value can be null.");if(this._activeInHierarchy){var C$99e=0,C$99i=this._colliders.length;if(this._layer)for(C$99e=0;C$99e<C$99i;C$99e++)this._layer._removeCollider(this._colliders[C$99e]);for(C$99e=0;C$99e<C$99i;C$99e++)C$99t._addCollider(this._colliders[C$99e])}this._layer=C$99t,this.event("layerchanged",C$99t)}}),C$99e(0,C$99m,"scene",function(){return this._scene}),C$99e(0,C$99m,"transform",function(){return this._transform}),cvt9i2.instantiate=function(C$99t,C$99e,C$99i,C$99n,C$99r){void 0===C$99i&&(C$99i=!0);var C$99s=C$99t.clone();C$99e&&C$99e.addChild(C$99s);C$99e=C$99s.transform;return C$99i?(C$99i=C$99e.worldMatrix,C$99t.transform.worldMatrix.cloneTo(C$99i),C$99e.worldMatrix=C$99i):(C$99n&&(C$99e.position=C$99n),C$99r&&(C$99e.rotation=C$99r)),C$99s},cvt9i2.load=function(C$99t){return C$99b.loader.create(C$99t,null,null,cvt9i2)},cvt9i2.WORLDMATRIX=0,cvt9i2.MVPMATRIX=1,cvt9i2._uniqueIDCounter=0,cvt9i2._nameNumberCounter=0,cvt9i2),C$99Le=(C$99t(n83g1r,"laya.d3.shader.Shader3D",C$99_),(C$99ye=n83g1r.prototype).recreateResource=function(){C$99M.now(),this._compile(),this.completeCreate(),this.memorySize=0},C$99ye.disposeResource=function(){C$99k.mainContext.deleteShader(this._vshader),C$99k.mainContext.deleteShader(this._pshader),C$99k.mainContext.deleteProgram(this._program),this._vshader=this._pshader=this._program=null,this._attributeParams=null,this._uniformParams=null,this.memorySize=0,this._curActTexIndex=0},C$99ye._compile=function(){if(!C$99k.mainContext.isContextLost()&&this._vs&&this._ps&&!this._attributeParams&&!this._uniformParams){this._reCompile=!0,this._attributeParams=[],this._uniformParams=[];var C$99t=[this._vs,this._ps],C$99e=C$99k.mainContext;if(this._program=C$99e.createProgram(),this._vshader=n83g1r._createShader(C$99e,C$99t[0],35633),this._pshader=n83g1r._createShader(C$99e,C$99t[1],35632),C$99e.attachShader(this._program,this._vshader),C$99e.attachShader(this._program,this._pshader),C$99e.linkProgram(this._program),!C$99T.isConchApp&&C$99Me.debugMode&&!C$99e.getProgramParameter(this._program,35714))throw C$99e.getProgramInfoLog(this._program);var C$99i,C$99n,C$99r=0,C$99s=0;for(C$99n=C$99T.isConchApp?C$99e.getProgramParameterEx(this._vs,this._ps,"",35721):C$99e.getProgramParameter(this._program,35721),C$99r=0;C$99r<C$99n;C$99r++){var C$99a=null;C$99i={vartype:"attribute",ivartype:0,attrib:C$99a=C$99T.isConchApp?C$99e.getActiveAttribEx(this._vs,this._ps,"",C$99r):C$99e.getActiveAttrib(this._program,C$99r),location:C$99e.getAttribLocation(this._program,C$99a.name),name:C$99a.name,type:C$99a.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0},this._attributeParams.push(C$99i)}var C$99o;for(C$99o=C$99T.isConchApp?C$99e.getProgramParameterEx(this._vs,this._ps,"",35718):C$99e.getProgramParameter(this._program,35718),C$99r=0;C$99r<C$99o;C$99r++){var C$99h=null;C$99h=C$99T.isConchApp?C$99e.getActiveUniformEx(this._vs,this._ps,"",C$99r):C$99e.getActiveUniform(this._program,C$99r),0<(C$99i={vartype:"uniform",ivartype:1,attrib:C$99a,location:C$99e.getUniformLocation(this._program,C$99h.name),name:C$99h.name,type:C$99h.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0}).name.indexOf("[0]")&&(C$99i.name=C$99i.name.substr(0,C$99i.name.length-3),C$99i.isArray=!0,C$99i.location=C$99e.getUniformLocation(this._program,C$99i.name)),this._uniformParams.push(C$99i)}for(C$99r=0,C$99s=this._attributeParams.length;C$99r<C$99s;C$99r++)(C$99i=this._attributeParams[C$99r]).indexOfParams=C$99r,C$99i.index=1,C$99i.value=[C$99i.location,null],C$99i.codename=C$99i.name,C$99i.name=null!=this._attributeMap[C$99i.codename]?this._attributeMap[C$99i.codename]:C$99i.codename,this._attributeParamsMap.push(C$99i.name),this._attributeParamsMap.push(C$99i),C$99i._this=this,C$99i.uploadedValue=[],C$99i.fun=this._attribute;for(C$99r=0,C$99s=this._uniformParams.length;C$99r<C$99s;C$99r++)switch((C$99i=this._uniformParams[C$99r]).indexOfParams=C$99r,C$99i.index=1,C$99i.value=[C$99i.location,null],C$99i.codename=C$99i.name,null!=this._sceneUniformMap[C$99i.codename]?(C$99i.name=this._sceneUniformMap[C$99i.codename],this._sceneUniformParamsMap.push(C$99i.name),this._sceneUniformParamsMap.push(C$99i)):null!=this._cameraUniformMap[C$99i.codename]?(C$99i.name=this._cameraUniformMap[C$99i.codename],this._cameraUniformParamsMap.push(C$99i.name),this._cameraUniformParamsMap.push(C$99i)):null!=this._spriteUniformMap[C$99i.codename]?(C$99i.name=this._spriteUniformMap[C$99i.codename],this._spriteUniformParamsMap.push(C$99i.name),this._spriteUniformParamsMap.push(C$99i)):null!=this._materialUniformMap[C$99i.codename]?(C$99i.name=this._materialUniformMap[C$99i.codename],this._materialUniformParamsMap.push(C$99i.name),this._materialUniformParamsMap.push(C$99i)):null!=this._renderElementUniformMap[C$99i.codename]?(C$99i.name=this._renderElementUniformMap[C$99i.codename],this._renderElementUniformParamsMap.push(C$99i.name),this._renderElementUniformParamsMap.push(C$99i)):console.log("Shader:can't find uinform name:"+C$99i.codename+" in shader file."),C$99i._this=this,C$99i.uploadedValue=[],C$99i.type){case 5124:C$99i.fun=C$99i.isArray?this._uniform1iv:this._uniform1i;break;case 5126:C$99i.fun=C$99i.isArray?this._uniform1fv:this._uniform1f;break;case 35664:C$99i.fun=C$99i.isArray?this._uniform_vec2v:this._uniform_vec2;break;case 35665:C$99i.fun=C$99i.isArray?this._uniform_vec3v:this._uniform_vec3;break;case 35666:C$99i.fun=C$99i.isArray?this._uniform_vec4v:this._uniform_vec4;break;case 35678:C$99i.fun=this._uniform_sampler2D;break;case 35680:C$99i.fun=this._uniform_samplerCube;break;case 35676:C$99i.fun=this._uniformMatrix4fv;break;case 35670:C$99i.fun=this._uniform1i;break;case 35674:C$99i.fun=this._uinformMatrix2fv;break;case 35675:C$99i.fun=this._uinformMatrix3fv;break;default:throw new Error("compile shader err!")}}},C$99ye._attribute=function(C$99t,C$99e){var C$99i=C$99k.mainContext,C$99n=C$99u._enableAtributes,C$99t=C$99t.location;return C$99n[C$99t]||C$99i.enableVertexAttribArray(C$99t),C$99i.vertexAttribPointer(C$99t,C$99e[0],C$99e[1],C$99e[2],C$99e[3],C$99e[4]),C$99n[C$99t]=C$99u._bindVertexBuffer,1},C$99ye._uniform1f=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e?(C$99k.mainContext.uniform1f(C$99t.location,C$99i[0]=C$99e),1):0},C$99ye._uniform1fv=function(C$99t,C$99e){var C$99i;return C$99e.length<4?(C$99i=C$99t.uploadedValue)[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99k.mainContext.uniform1fv(C$99t.location,C$99e),C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3],1):0:(C$99k.mainContext.uniform1fv(C$99t.location,C$99e),1)},C$99ye._uniform_vec2=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]?(C$99k.mainContext.uniform2f(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1]),1):0},C$99ye._uniform_vec2v=function(C$99t,C$99e){var C$99i;return C$99e.length<2?(C$99i=C$99t.uploadedValue)[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99k.mainContext.uniform2fv(C$99t.location,C$99e),C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3],1):0:(C$99k.mainContext.uniform2fv(C$99t.location,C$99e),1)},C$99ye._uniform_vec3=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]?(C$99k.mainContext.uniform3f(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2]),1):0},C$99ye._uniform_vec3v=function(C$99t,C$99e){return C$99k.mainContext.uniform3fv(C$99t.location,C$99e),1},C$99ye._uniform_vec4=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99k.mainContext.uniform4f(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3]),1):0},C$99ye._uniform_vec4v=function(C$99t,C$99e){return C$99k.mainContext.uniform4fv(C$99t.location,C$99e),1},C$99ye._uniformMatrix2fv=function(C$99t,C$99e){return C$99k.mainContext.uniformMatrix2fv(C$99t.location,!1,C$99e),1},C$99ye._uniformMatrix3fv=function(C$99t,C$99e){return C$99k.mainContext.uniformMatrix3fv(C$99t.location,!1,C$99e),1},C$99ye._uniformMatrix4fv=function(C$99t,C$99e){return C$99k.mainContext.uniformMatrix4fv(C$99t.location,!1,C$99e),1},C$99ye._uinformMatrix2fv=function(C$99t,C$99e){return C$99k.mainContext.uniformMatrix2fv(C$99t.location,!1,C$99e),1},C$99ye._uinformMatrix3fv=function(C$99t,C$99e){return C$99k.mainContext.uniformMatrix3fv(C$99t.location,!1,C$99e),1},C$99ye._uniform1i=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e?(C$99k.mainContext.uniform1i(C$99t.location,C$99i[0]=C$99e),1):0},C$99ye._uniform1iv=function(C$99t,C$99e){return C$99k.mainContext.uniform1iv(C$99t.location,C$99e),1},C$99ye._uniform_ivec2=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]?(C$99k.mainContext.uniform2i(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1]),1):0},C$99ye._uniform_ivec2v=function(C$99t,C$99e){return C$99k.mainContext.uniform2iv(C$99t.location,C$99e),1},C$99ye._uniform_vec3i=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]?(C$99k.mainContext.uniform3i(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2]),1):0},C$99ye._uniform_vec3vi=function(C$99t,C$99e){return C$99k.mainContext.uniform3iv(C$99t.location,C$99e),1},C$99ye._uniform_vec4i=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99k.mainContext.uniform4i(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3]),1):0},C$99ye._uniform_vec4vi=function(C$99t,C$99e){return C$99k.mainContext.uniform4iv(C$99t.location,C$99e),1},C$99ye._uniform_sampler2D=function(C$99t,C$99e){var C$99e=C$99e.source||C$99e.defaulteTexture.source,C$99i=C$99k.mainContext,C$99n=C$99t.uploadedValue;if(null!=C$99n[0])return C$99i.activeTexture(n83g1r._TEXTURES[C$99n[0]]),C$99e&&C$99B.bindTexture(C$99i,3553,C$99e),0;if(7<this._curActTexIndex)throw new Error("Shader3D: shader support textures max count is 8,can't large than it.");return C$99n[0]=this._curActTexIndex,C$99i.uniform1i(C$99t.location,this._curActTexIndex),C$99i.activeTexture(n83g1r._TEXTURES[this._curActTexIndex]),C$99e&&C$99B.bindTexture(C$99i,3553,C$99e),this._curActTexIndex++,1},C$99ye._uniform_samplerCube=function(C$99t,C$99e){var C$99e=C$99e.source||C$99e.defaulteTexture.source,C$99i=C$99k.mainContext,C$99n=C$99t.uploadedValue;if(null!=C$99n[0])return C$99i.activeTexture(n83g1r._TEXTURES[C$99n[0]]),C$99e?C$99B.bindTexture(C$99i,34067,C$99e):C$99B.bindTexture(C$99i,34067,SolidColorTextureCube.grayTexture.source),0;if(7<this._curActTexIndex)throw new Error("Shader3D: shader support textures max count is 8,can't large than it.");return C$99n[0]=this._curActTexIndex,C$99i.uniform1i(C$99t.location,this._curActTexIndex),C$99i.activeTexture(n83g1r._TEXTURES[this._curActTexIndex]),C$99e?C$99B.bindTexture(C$99i,34067,C$99e):C$99B.bindTexture(C$99i,34067,SolidColorTextureCube.grayTexture.source),this._curActTexIndex++,1},C$99ye._noSetValue=function(C$99t){console.log("no....:"+C$99t.name)},C$99ye.bind=function(){return C$99_.activeShader=this,(C$99_.bindShader=this).activeResource(),C$99B.UseProgram(this._program)},C$99ye.uploadAttributes=function(C$99t,C$99e){for(var C$99i,C$99n,C$99r=0,C$99s=0,C$99a=this._attributeParamsMap.length;C$99s<C$99a;C$99s+=2)C$99n=this._attributeParamsMap[C$99s+1],null!=(C$99i=C$99t[this._attributeParamsMap[C$99s]])&&(C$99e&&C$99e[C$99n.name]&&C$99e[C$99n.name].bind(),C$99r+=C$99n.fun.call(this,C$99n,C$99i));C$99R.shaderCall+=C$99r},C$99ye.uploadAttributesX=function(C$99t,C$99e){for(var C$99i,C$99n,C$99r=0,C$99s=0,C$99a=this._attributeParamsMap.length;C$99s<C$99a;C$99s+=2)C$99n=this._attributeParamsMap[C$99s+1],null!=(C$99i=C$99t[this._attributeParamsMap[C$99s]])&&(C$99e._bind(),C$99r+=C$99n.fun.call(this,C$99n,C$99i));C$99R.shaderCall+=C$99r},C$99ye.uploadSceneUniforms=function(C$99t){for(var C$99e,C$99i,C$99n=0,C$99r=0,C$99s=this._sceneUniformParamsMap.length;C$99r<C$99s;C$99r+=2)C$99i=this._sceneUniformParamsMap[C$99r+1],null!=(C$99e=C$99t[this._sceneUniformParamsMap[C$99r]])&&(C$99n+=C$99i.fun.call(this,C$99i,C$99e));C$99R.shaderCall+=C$99n},C$99ye.uploadCameraUniforms=function(C$99t){for(var C$99e,C$99i,C$99n=0,C$99r=0,C$99s=this._cameraUniformParamsMap.length;C$99r<C$99s;C$99r+=2)C$99i=this._cameraUniformParamsMap[C$99r+1],null!=(C$99e=C$99t[this._cameraUniformParamsMap[C$99r]])&&(C$99n+=C$99i.fun.call(this,C$99i,C$99e));C$99R.shaderCall+=C$99n},C$99ye.uploadSpriteUniforms=function(C$99t){for(var C$99e,C$99i,C$99n=0,C$99r=0,C$99s=this._spriteUniformParamsMap.length;C$99r<C$99s;C$99r+=2)C$99i=this._spriteUniformParamsMap[C$99r+1],null!=(C$99e=C$99t[this._spriteUniformParamsMap[C$99r]])&&(C$99n+=C$99i.fun.call(this,C$99i,C$99e));C$99R.shaderCall+=C$99n},C$99ye.uploadMaterialUniforms=function(C$99t){for(var C$99e,C$99i,C$99n=0,C$99r=0,C$99s=this._materialUniformParamsMap.length;C$99r<C$99s;C$99r+=2)C$99i=this._materialUniformParamsMap[C$99r+1],null!=(C$99e=C$99t[this._materialUniformParamsMap[C$99r]])&&(C$99n+=C$99i.fun.call(this,C$99i,C$99e));C$99R.shaderCall+=C$99n},C$99ye.uploadRenderElementUniforms=function(C$99t){for(var C$99e,C$99i,C$99n=0,C$99r=0,C$99s=this._renderElementUniformParamsMap.length;C$99r<C$99s;C$99r+=2)C$99i=this._renderElementUniformParamsMap[C$99r+1],null!=(C$99e=C$99t[this._renderElementUniformParamsMap[C$99r]])&&(C$99n+=C$99i.fun.call(this,C$99i,C$99e));C$99R.shaderCall+=C$99n},n83g1r.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){return new n83g1r(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l)},n83g1r.addInclude=function(C$99t,C$99e){C$99E.addInclude(C$99t,C$99e)},n83g1r._createShader=function(C$99t,C$99e,C$99i){C$99i=C$99t.createShader(C$99i);if(C$99t.shaderSource(C$99i,C$99e),C$99t.compileShader(C$99i),C$99Me.debugMode&&!C$99t.getShaderParameter(C$99i,35713))throw C$99t.getShaderInfoLog(C$99i);return C$99i},n83g1r.PERIOD_RENDERELEMENT=0,n83g1r.PERIOD_MATERIAL=1,n83g1r.PERIOD_SPRITE=2,n83g1r.PERIOD_CAMERA=3,n83g1r.PERIOD_SCENE=4,n83g1r._TEXTURES=[33984,33985,33986,33987,33988,33989,33990,33991],n83g1r._count=0,n83g1r._preCompile=!1,n83g1r.extCompileFunc=null,n83g1r.extCompileObj=null,C$99h(n83g1r,["shaderParamsMap",function(){return this.shaderParamsMap={float:5126,int:5124,bool:35670,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676,sampler2D:35678,samplerCube:35680}},"nameKey",function(){return this.nameKey=new C$99P}]),n83g1r),C$99ze=(C$99t(rkab,"laya.d3.core.material.StandardMaterial",C$99Ke=C$99De),(C$99C=rkab.prototype).disableLight=function(){this._addDisablePublicShaderDefine(C$99Me.SHADERDEFINE_POINTLIGHT|C$99Me.SHADERDEFINE_SPOTLIGHT|C$99Me.SHADERDEFINE_DIRECTIONLIGHT)},C$99C.disableFog=function(){this._addDisablePublicShaderDefine(C$99Me.SHADERDEFINE_FOG)},C$99C.onAsynLoaded=function(C$99t,C$99e,C$99i){var C$99n=C$99e[0];if(C$99n.version)C$99Ke.prototype.onAsynLoaded.call(this,C$99t,C$99e,C$99i);else{var C$99t=C$99e[1],C$99r=C$99n.props;for(var C$99s in C$99r)this[C$99s]=C$99r[C$99s];rkab._parseStandardMaterial(C$99t,this,C$99n),this._endLoaded()}},C$99C.cloneTo=function(C$99t){C$99Ke.prototype.cloneTo.call(this,C$99t);this._transformUV&&(C$99t._transformUV=this._transformUV.clone())},C$99e(0,C$99C,"ambientColor",function(){return this._getColor(9)},function(C$99t){this._setColor(9,C$99t)}),C$99e(0,C$99C,"ambientTexture",function(){return this._getTexture(5)},function(C$99t){C$99t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_AMBIENTMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_AMBIENTMAP),this._setTexture(5,C$99t)}),C$99e(0,C$99C,"renderMode",null,function(C$99t){switch(C$99t){case 1:this.renderQueue=2e3,this.depthWrite=!0,this.cull=2,this.blend=0,this.alphaTest=!1,this._removeShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;case 2:this.renderQueue=2e3,this.depthWrite=!0,this.cull=0,this.blend=0,this.alphaTest=!1,this._removeShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;case 3:this.depthWrite=!0,this.cull=2,this.blend=0,this.renderQueue=2e3,this.alphaTest=!0,this._removeShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;case 4:this.renderQueue=2e3,this.depthWrite=!0,this.cull=0,this.blend=0,this.alphaTest=!0,this._removeShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;case 13:this.renderQueue=3e3,this.depthWrite=!0,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;case 14:this.renderQueue=3e3,this.depthWrite=!0,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;case 15:this.renderQueue=3e3,this.depthWrite=!0,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;case 16:this.renderQueue=3e3,this.depthWrite=!0,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;case 5:this.renderQueue=3e3,this.depthWrite=!1,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;case 6:this.renderQueue=3e3,this.depthWrite=!1,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;case 7:this.renderQueue=3e3,this.depthWrite=!1,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;case 8:this.renderQueue=3e3,this.depthWrite=!1,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;case 9:this.renderQueue=3e3,this.depthTest=513,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;case 10:this.renderQueue=3e3,this.depthTest=513,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;case 11:this.renderQueue=3e3,this.depthTest=513,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;case 12:this.renderQueue=3e3,this.depthTest=513,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(rkab.SHADERDEFINE_ADDTIVEFOG);break;default:throw new Error("Material:renderMode value error.")}this._conchMaterial&&this._conchMaterial.setRenderMode(C$99t)}),C$99e(0,C$99C,"reflectColor",function(){return this._getColor(12)},function(C$99t){this._setColor(12,C$99t)}),C$99e(0,C$99C,"tilingOffset",function(){return this._getColor(15)},function(C$99t){var C$99e;C$99t&&(1!=(C$99e=C$99t.elements)[0]||1!=C$99e[1]||0!=C$99e[2]||0!=C$99e[3])?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_TILINGOFFSET):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_TILINGOFFSET),this._setColor(15,C$99t)}),C$99e(0,C$99C,"albedo",function(){return this._getColor(7)},function(C$99t){this._setColor(7,C$99t)}),C$99e(0,C$99C,"diffuseColor",function(){return this._getColor(10)},function(C$99t){this._setColor(10,C$99t)}),C$99e(0,C$99C,"albedoColor",function(){return this._getColor(7)},function(C$99t){this._setColor(7,C$99t)}),C$99e(0,C$99C,"specularColor",function(){return this._getColor(11)},function(C$99t){this._setColor(11,C$99t)}),C$99e(0,C$99C,"diffuseTexture",function(){return this._getTexture(1)},function(C$99t){C$99t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_DIFFUSEMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_DIFFUSEMAP),this._setTexture(1,C$99t)}),C$99e(0,C$99C,"normalTexture",function(){return this._getTexture(2)},function(C$99t){C$99t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_NORMALMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_NORMALMAP),this._setTexture(2,C$99t)}),C$99e(0,C$99C,"specularTexture",function(){return this._getTexture(3)},function(C$99t){C$99t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_SPECULARMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_SPECULARMAP),this._setTexture(3,C$99t)}),C$99e(0,C$99C,"emissiveTexture",function(){return this._getTexture(4)},function(C$99t){C$99t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_EMISSIVEMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_EMISSIVEMAP),this._setTexture(4,C$99t)}),C$99e(0,C$99C,"reflectTexture",function(){return this._getTexture(6)},function(C$99t){C$99t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_REFLECTMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_REFLECTMAP),this._setTexture(6,C$99t)}),C$99e(0,C$99C,"transformUV",function(){return this._transformUV},function(C$99t){this._transformUV=C$99t,this._setMatrix4x4(13,C$99t.matrix),C$99t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_UVTRANSFORM):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_UVTRANSFORM),this._conchMaterial&&this._conchMaterial.setShaderValue(13,C$99t.matrix.elements,0)}),rkab.__init__=function(){rkab.SHADERDEFINE_DIFFUSEMAP=rkab.shaderDefines.registerDefine("DIFFUSEMAP"),rkab.SHADERDEFINE_NORMALMAP=rkab.shaderDefines.registerDefine("NORMALMAP"),rkab.SHADERDEFINE_SPECULARMAP=rkab.shaderDefines.registerDefine("SPECULARMAP"),rkab.SHADERDEFINE_EMISSIVEMAP=rkab.shaderDefines.registerDefine("EMISSIVEMAP"),rkab.SHADERDEFINE_AMBIENTMAP=rkab.shaderDefines.registerDefine("AMBIENTMAP"),rkab.SHADERDEFINE_REFLECTMAP=rkab.shaderDefines.registerDefine("REFLECTMAP"),rkab.SHADERDEFINE_UVTRANSFORM=rkab.shaderDefines.registerDefine("UVTRANSFORM"),rkab.SHADERDEFINE_TILINGOFFSET=rkab.shaderDefines.registerDefine("TILINGOFFSET"),rkab.SHADERDEFINE_ADDTIVEFOG=rkab.shaderDefines.registerDefine("ADDTIVEFOG")},rkab.load=function(C$99t){return C$99b.loader.create(C$99t,null,null,rkab)},rkab._parseStandardMaterial=function(C$99t,C$99e,C$99i){var C$99i=C$99i.customProps,C$99n=C$99i.ambientColor;C$99e.ambientColor=new C$99A(C$99n[0],C$99n[1],C$99n[2]);C$99n=C$99i.diffuseColor;C$99e.diffuseColor=new C$99A(C$99n[0],C$99n[1],C$99n[2]);C$99n=C$99i.specularColor;C$99e.specularColor=new C$99he(C$99n[0],C$99n[1],C$99n[2],C$99n[3]);C$99n=C$99i.reflectColor;C$99e.reflectColor=new C$99A(C$99n[0],C$99n[1],C$99n[2]);C$99n=C$99i.albedoColor;C$99n&&(C$99e.albedo=new C$99he(C$99n[0],C$99n[1],C$99n[2],C$99n[3]));C$99n=C$99i.diffuseTexture.texture2D;C$99n&&(C$99e.diffuseTexture=C$99g.getRes(C$99t[C$99n]));C$99n=C$99i.normalTexture.texture2D;C$99n&&(C$99e.normalTexture=C$99g.getRes(C$99t[C$99n]));C$99n=C$99i.specularTexture.texture2D;C$99n&&(C$99e.specularTexture=C$99g.getRes(C$99t[C$99n]));C$99n=C$99i.emissiveTexture.texture2D;C$99n&&(C$99e.emissiveTexture=C$99g.getRes(C$99t[C$99n]));C$99n=C$99i.ambientTexture.texture2D;C$99n&&(C$99e.ambientTexture=C$99g.getRes(C$99t[C$99n]));C$99n=C$99i.reflectTexture.texture2D;C$99n&&(C$99e.reflectTexture=C$99g.getRes(C$99t[C$99n]))},rkab.RENDERMODE_OPAQUE=1,rkab.RENDERMODE_OPAQUEDOUBLEFACE=2,rkab.RENDERMODE_CUTOUT=3,rkab.RENDERMODE_CUTOUTDOUBLEFACE=4,rkab.RENDERMODE_TRANSPARENT=13,rkab.RENDERMODE_TRANSPARENTDOUBLEFACE=14,rkab.RENDERMODE_ADDTIVE=15,rkab.RENDERMODE_ADDTIVEDOUBLEFACE=16,rkab.RENDERMODE_DEPTHREAD_TRANSPARENT=5,rkab.RENDERMODE_DEPTHREAD_TRANSPARENTDOUBLEFACE=6,rkab.RENDERMODE_DEPTHREAD_ADDTIVE=7,rkab.RENDERMODE_DEPTHREAD_ADDTIVEDOUBLEFACE=8,rkab.RENDERMODE_NONDEPTH_TRANSPARENT=9,rkab.RENDERMODE_NONDEPTH_TRANSPARENTDOUBLEFACE=10,rkab.RENDERMODE_NONDEPTH_ADDTIVE=11,rkab.RENDERMODE_NONDEPTH_ADDTIVEDOUBLEFACE=12,rkab.SHADERDEFINE_DIFFUSEMAP=0,rkab.SHADERDEFINE_NORMALMAP=0,rkab.SHADERDEFINE_SPECULARMAP=0,rkab.SHADERDEFINE_EMISSIVEMAP=0,rkab.SHADERDEFINE_AMBIENTMAP=0,rkab.SHADERDEFINE_REFLECTMAP=0,rkab.SHADERDEFINE_UVTRANSFORM=0,rkab.SHADERDEFINE_TILINGOFFSET=0,rkab.SHADERDEFINE_ADDTIVEFOG=0,rkab.DIFFUSETEXTURE=1,rkab.NORMALTEXTURE=2,rkab.SPECULARTEXTURE=3,rkab.EMISSIVETEXTURE=4,rkab.AMBIENTTEXTURE=5,rkab.REFLECTTEXTURE=6,rkab.ALBEDO=7,rkab.UVANIAGE=8,rkab.MATERIALAMBIENT=9,rkab.MATERIALDIFFUSE=10,rkab.MATERIALSPECULAR=11,rkab.MATERIALREFLECT=12,rkab.UVMATRIX=13,rkab.UVAGE=14,rkab.TILINGOFFSET=15,C$99h(rkab,["defaultMaterial",function(){var C$99t=new rkab;return C$99t.lock=!0,this.defaultMaterial=C$99t},"shaderDefines",function(){return this.shaderDefines=new C$99_e(C$99De.shaderDefines)}]),rkab),C$99ke=(C$99t(eqyx_0,"laya.d3.graphics.IndexBuffer3D",C$99Xe=C$99u),(C$99a=eqyx_0.prototype).setData=function(C$99t,C$99e,C$99i,C$99n){void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=4294967295);var C$99r=0;if("ushort"==this._indexType?(C$99r=2,0===C$99i&&4294967295===C$99n||(C$99t=new Uint16Array(C$99t.buffer,C$99i*C$99r,C$99n))):"ubyte"==this._indexType&&(C$99r=1,0===C$99i&&4294967295===C$99n||(C$99t=new Uint8Array(C$99t.buffer,C$99i*C$99r,C$99n))),this._bind(),C$99u._gl.bufferSubData(this._bufferType,C$99e*C$99r,C$99t),this._canRead)if(0!==C$99e||0!==C$99i||4294967295!==C$99n){C$99r=this._buffer.length-C$99e;C$99r<C$99n&&(C$99n=C$99r);for(var C$99s=0;C$99s<C$99n;C$99s++)this._buffer[C$99e+C$99s]=C$99t[C$99s]}else this._buffer=C$99t},C$99a.getData=function(){if(this._canRead)return this._buffer;throw new Error("Can't read data from VertexBuffer with only write flag!")},C$99a.disposeResource=function(){C$99Xe.prototype.disposeResource.call(this),this._buffer=null,this.memorySize=0},C$99e(0,C$99a,"indexType",function(){return this._indexType}),C$99e(0,C$99a,"indexTypeByteCount",function(){return this._indexTypeByteCount}),C$99e(0,C$99a,"indexCount",function(){return this._indexCount}),C$99e(0,C$99a,"canRead",function(){return this._canRead}),eqyx_0.INDEXTYPE_UBYTE="ubyte",eqyx_0.INDEXTYPE_USHORT="ushort",eqyx_0.create=function(C$99t,C$99e,C$99i,C$99n,C$99r){return new eqyx_0(C$99t,C$99e,C$99i=void 0===C$99i?35044:C$99i,C$99n=void 0===C$99n?!1:C$99n,C$99r)},eqyx_0),C$99Be=(C$99t(tci$,"laya.d3.graphics.VertexBuffer3D",C$99Ye=C$99u),(C$99I=tci$.prototype).bindWithIndexBuffer=function(C$99t){C$99t&&C$99t._bind(),this._bind()},C$99I.setData=function(C$99t,C$99e,C$99i,C$99n){if(void 0===C$99e&&(C$99e=0),void 0===C$99n&&(C$99n=4294967295),0===(C$99i=void 0===C$99i?0:C$99i)&&4294967295===C$99n||(C$99t=new Float32Array(C$99t.buffer,4*C$99i,C$99n)),this._bind(),C$99u._gl.bufferSubData(this._bufferType,4*C$99e,C$99t),this._canRead)if(0!==C$99e||0!==C$99i||4294967295!==C$99n){C$99i=this._buffer.length-C$99e;C$99i<C$99n&&(C$99n=C$99i);for(var C$99r=0;C$99r<C$99n;C$99r++)this._buffer[C$99e+C$99r]=C$99t[C$99r]}else this._buffer=C$99t},C$99I.getData=function(){if(this._canRead)return this._buffer;throw new Error("Can't read data from VertexBuffer with only write flag!")},C$99I.disposeResource=function(){for(var C$99t=C$99k.mainContext,C$99e=this._vertexDeclaration.getVertexElements(),C$99i=C$99u._enableAtributes,C$99n=0,C$99r=C$99e.length;C$99n<C$99r;C$99n++)C$99i[C$99n]===this._glBuffer&&(C$99t.disableVertexAttribArray(C$99n),C$99i[C$99n]=null);C$99Ye.prototype.disposeResource.call(this),this._buffer=null,this._vertexDeclaration=null,this.memorySize=0},C$99e(0,C$99I,"vertexDeclaration",function(){return this._vertexDeclaration}),C$99e(0,C$99I,"vertexCount",function(){return this._vertexCount}),C$99e(0,C$99I,"canRead",function(){return this._canRead}),tci$.create=function(C$99t,C$99e,C$99i,C$99n,C$99r){return new tci$(C$99t,C$99e,C$99i=void 0===C$99i?35044:C$99i,C$99n=void 0===C$99n?!1:C$99n,C$99r)},tci$),C$99Ne=(C$99t(rkbs,"laya.d3.resource.DataTexture2D",C$99Ee),(C$99s=rkbs.prototype).genDebugMipmaps=function(){var C$99t=[];return C$99t.push(new Uint8Array(new Uint32Array(131072).fill(4278190335).buffer)),C$99t.push(new Uint8Array(new Uint32Array(32768).fill(4278223103).buffer)),C$99t.push(new Uint8Array(new Uint32Array(8192).fill(4278255615).buffer)),C$99t.push(new Uint8Array(new Uint32Array(2048).fill(4278255360).buffer)),C$99t.push(new Uint8Array(new Uint32Array(512).fill(4286595072).buffer)),C$99t.push(new Uint8Array(new Uint32Array(128).fill(4294901760).buffer)),C$99t.push(new Uint8Array(new Uint32Array(32).fill(4294901888).buffer)),C$99t.push(new Uint8Array(new Uint32Array(8).fill(0).buffer)),C$99t.push(new Uint8Array(new Uint32Array(2).fill(4286611584).buffer)),C$99t.push(new Uint8Array(new Uint32Array(1).fill(4294967295).buffer)),C$99t},C$99s._onTextureLoaded=function(C$99t){},C$99s._createWebGlTexture=function(){if(!this._buffer&&!this._image&&!this._mipmaps)throw"create GLTextur err:no data";var C$99t=C$99k.mainContext,C$99e=this._source=C$99t.createTexture(),C$99i=this._width,C$99n=this._height,C$99c=C$99B.curBindTexTarget,C$99_=C$99B.curBindTexValue,C$99u=!1;if(C$99B.bindTexture(C$99t,this._type,C$99e),this._mipmaps){if(laya.d3.resource.DataTexture2D.lodasatlas){var C$99r=0;C$99t.texImage2D(this._type,0,6408,this._width,this._height,0,6408,5121,null);for(var C$99s=0;C$99s<this._mipmaps.length;C$99s++){if(this._mipmaps[C$99s].byteLength!=C$99a*C$99o*4)throw"mipmap size error  level:"+C$99s;C$99t.texSubImage2D(this._type,0,rkbs.simLodRect[C$99r++],rkbs.simLodRect[C$99r++],rkbs.simLodRect[C$99r++],rkbs.simLodRect[C$99r++],6408,5121,new Uint8Array(this._mipmaps[C$99s]))}this.minFifter=9729,this.magFifter=9729}else{var C$99a=this._width,C$99o=this._height;for(C$99t.texImage2D(this._type,C$99r=0,6408,this._width,this._height,0,6408,5121,null),C$99s=0;C$99s<this._mipmaps.length;C$99s++){if(this._mipmaps[C$99s].byteLength!=C$99a*C$99o*4)throw"mipmap size error  level:"+C$99s;C$99t.texImage2D(this._type,C$99s,6408,C$99a,C$99o,0,6408,5121,new Uint8Array(this._mipmaps[C$99s])),(C$99a/=2)<1&&(C$99a=1),(C$99o/=2)<1&&(C$99o=1),this.minFifter=9987,this.magFifter=9729}}this.mipmap=!1}else this._image?(6407==this._format&&C$99t.pixelStorei(C$99t.UNPACK_ALIGNMENT,1),C$99t.texImage2D(this._type,0,this._format,this._format,5121,this._image)):this._buffer&&(C$99e=0,C$99l=C$99h=!1,this._buffer.byteLength==4*C$99i*C$99n?(C$99e=6408,C$99h=!0):this._buffer.byteLength==3*C$99i*C$99n?(C$99e=6407,C$99l=!0):C$99e=this._format,C$99h||C$99l?(this._buffer instanceof Uint8Array||(this._buffer=new Uint8Array(this._buffer)),C$99l&&C$99t.pixelStorei(C$99t.UNPACK_ALIGNMENT,1),C$99t.texImage2D(this._type,0,C$99e,C$99i,C$99n,0,C$99e,5121,this._buffer)):C$99t&&C$99e==C$99t.ALPHA?(C$99t.texImage2D(3553,0,C$99e,C$99i,C$99n,0,C$99e,C$99t.UNSIGNED_BYTE,this._buffer),C$99u=!0):0!=C$99e&&(C$99t.compressedTexImage2D(3553,0,C$99e,C$99i,C$99n,0,this._buffer),C$99u=!0));var C$99h=this._minFifter,C$99l=this._magFifter,C$99e=0==this._wrapModeU?10497:33071,C$99d=0==this._wrapModeV?10497:33071,C$99f=C$99p.isPOT(C$99i,C$99n);C$99f?(this._mipmap||this._mipmaps?-1!==C$99h||(C$99h=9987):-1!==C$99h||(C$99h=9729),-1!==C$99l||(C$99l=9729),C$99t.texParameteri(this._type,10241,C$99h),C$99t.texParameteri(this._type,10240,C$99l),C$99t.texParameteri(this._type,10242,C$99e),C$99t.texParameteri(this._type,10243,C$99d),this._mipmap&&C$99t.generateMipmap(this._type)):(-1!==C$99l||(C$99l=9729),C$99t.texParameteri(this._type,10241,C$99h=-1!==C$99h?C$99h:9729),C$99t.texParameteri(this._type,10240,C$99l),C$99t.texParameteri(this._type,10242,33071),C$99t.texParameteri(this._type,10243,33071)),C$99c&&C$99_&&C$99B.bindTexture(C$99t,C$99c,C$99_),this.memorySize=C$99u?this._buffer.length:C$99f?C$99i*C$99n*4*(1+1/3):C$99i*C$99n*4,this.src&&0<this.src.length&&(this._buffer=null,this._image=null),this._recreateLock=!1},C$99s.recreateResource=function(){(this._buffer||this._image||null!=this._src&&""!==this._src)&&(this._needReleaseAgain=!1,this._buffer||this._image||this._mipmaps?this._recreateLock||(this._createWebGlTexture(),this.completeCreate()):this._recreateLock=!0)},C$99s.onAsynLoaded=function(C$99t,C$99e,C$99i){var C$99n;(C$99n=C$99i?C$99i[0].call(this,C$99e):C$99n)&&(this._width=C$99n.width,this._height=C$99n.height,this._buffer=C$99n.data),this._src=C$99t,this._size=new C$99me(this._width,this._height),this._conchTexture?alert("\u600e\u4e48\u7ed9runtime\u4f20\u9012datatexture\u6570\u636e"):this.activeResource(),this._endLoaded()},C$99s.getPixels=function(){return new Uint8Array(this._buffer)},C$99s.disposeResource=function(){this._recreateLock&&(this._needReleaseAgain=!0),this._source&&(C$99k.mainContext.deleteTexture(this._source),this._source=null,this._buffer=null,this._image=null,this.memorySize=0)},C$99e(0,C$99s,"src",function(){return this._src}),rkbs.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){if(void 0===C$99n&&(C$99n=9729),void 0===C$99r&&(C$99r=9729),void 0===C$99s&&(C$99s=!0),!C$99t||C$99t.byteLength<C$99e*C$99i*4)throw"DataTexture2D create error";var C$99o=new rkbs;return C$99o.uri=C$99a,C$99o._buffer=C$99t,C$99o._width=C$99e,C$99o._height=C$99i,C$99o._mipmap=C$99s,C$99o._magFifter=C$99n,C$99o._minFifter=C$99r,C$99o._size=new C$99me(C$99o._width,C$99o._height),C$99o._conchTexture?alert("\u600e\u4e48\u7ed9runtime\u4f20\u9012datatexture\u6570\u636e"):C$99o.activeResource(),C$99o},rkbs.load=function(C$99t,C$99e,C$99i,C$99n,C$99r){if(void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=9729),void 0===C$99r&&(C$99r=9729),"mipmaps"===C$99z.getFileExtension(C$99t)){var C$99s=C$99b.loader.create(C$99t,null,null,rkbs,[function(C$99t){this._mipmaps=[];var C$99e=new Uint32Array(C$99t);this._width=C$99e[0];var C$99i=512;if(laya.d3.resource.DataTexture2D.lodasatlas&&(this._width*=2,C$99i=1024),this._width!=C$99i)throw"\u73b0\u5728\u53ea\u652f\u6301512x256\u7684\u73af\u5883\u8d34\u56fe\u3002\u5f53\u524d\u7684\u662f"+C$99e[0];this._height=C$99e[1];for(var C$99n=laya.d3.resource.DataTexture2D.lodasatlas?this._width/2:this._width,C$99r=this._height,C$99s=8;;){var C$99a=C$99n*C$99r*4;if(C$99s+C$99a>C$99t.byteLength)throw"load mipmaps data size error ";var C$99o=new Uint8Array(C$99t,C$99s,C$99a);if(this._mipmaps.push(C$99o),C$99s+=C$99a,1==C$99n&&1==C$99r)break;(C$99n/=2)<1&&(C$99n=1),(C$99r/=2)<1&&(C$99r=1)}return null}]);if(laya.d3.resource.DataTexture2D.lodasatlas){C$99s.simLodInfo=new Float32Array(40);for(var C$99a=0;C$99a<C$99s.simLodInfo.length;)C$99s.simLodInfo[C$99a]=(rkbs.simLodRect[C$99a]+.5)/1024,C$99s.simLodInfo[++C$99a]=(rkbs.simLodRect[C$99a]+.5)/256,C$99s.simLodInfo[++C$99a]=Math.max(rkbs.simLodRect[C$99a]-1,.1)/1024,C$99s.simLodInfo[++C$99a]=Math.max(rkbs.simLodRect[C$99a]-1.5,.1)/256,C$99a++}return C$99s}if("number"==typeof C$99e)return C$99b.loader.create(C$99t,null,null,rkbs,[function(C$99t){return this._width=C$99e,this._height=C$99i,this._buffer=C$99t,null}]);if("function"==typeof C$99e)return C$99b.loader.create(C$99t,null,null,rkbs,[C$99e]);throw new Error("unknown params.")},rkbs.lodasatlas=!1,C$99h(rkbs,["simLodRect",function(){return this.simLodRect=new Uint32Array([0,0,512,256,512,0,256,128,768,0,128,64,896,0,64,32,960,0,32,16,992,0,16,8,1008,0,8,4,1016,0,4,2,1020,0,2,1,1022,0,1,1])}]),rkbs),C$99m=(C$99t(mhw5_,"laya.d3.resource.models.PrimitiveMesh",C$99n),C$99i=mhw5_.prototype,C$99b.imps(C$99i,{"laya.d3.core.render.IRenderable":!0}),C$99i._getVertexBuffer=function(C$99t){return 0===(C$99t=void 0===C$99t?0:C$99t)?this._vertexBuffer:null},C$99i._getVertexBuffers=function(){return null},C$99i._getIndexBuffer=function(){return this._indexBuffer},C$99i._getPositions=function(){var C$99t,C$99e=[],C$99i=this._vertexBuffer.vertexDeclaration.getVertexElements(),C$99n=0;for(C$99n=0;C$99n<C$99i.length;C$99n++){var C$99r=C$99i[C$99n];if("vector3"===C$99r.elementFormat&&0===C$99r.elementUsage){C$99t=C$99r;break}}var C$99s=this._vertexBuffer.getData();for(C$99n=0;C$99n<C$99s.length;C$99n+=this._vertexBuffer.vertexDeclaration.vertexStride/4){var C$99a=C$99n+C$99t.offset/4,C$99a=new C$99A(C$99s[C$99a+0],C$99s[C$99a+1],C$99s[C$99a+2]);C$99e.push(C$99a)}return C$99e},C$99i.getRenderElement=function(C$99t){return this},C$99i.getRenderElementsCount=function(){return 1},C$99i.disposeResource=function(){this._vertexBuffer&&(this._vertexBuffer._removeReference(),this._vertexBuffer=null),this._indexBuffer&&(this._indexBuffer._removeReference(),this._indexBuffer=null),this.memorySize=0},C$99i._beforeRender=function(C$99t){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},C$99i._render=function(C$99t){C$99k.mainContext.drawElements(4,this._numberIndices,5123,0),C$99R.drawCall++,C$99R.trianglesFaces+=this._numberIndices/3},C$99e(0,C$99i,"_vertexBufferCount",function(){return 1}),C$99e(0,C$99i,"triangleCount",function(){return this._indexBuffer.indexCount/3}),mhw5_),C$99Oe=(C$99t(qmyx0,"laya.d3.resource.models.Mesh",C$99n),(C$99ye=qmyx0.prototype)._getPositions=function(){var C$99t,C$99e,C$99i,C$99n,C$99r,C$99s=[],C$99a=0,C$99o=0,C$99h=0;if(0!==this._vertexBuffers.length){var C$99l=this._vertexBuffers.length;for(C$99a=0;C$99a<C$99l;C$99a++){for(C$99i=(C$99t=this._vertexBuffers[C$99a]).vertexDeclaration.getVertexElements(),C$99o=0;C$99o<C$99i.length;C$99o++)if("vector3"===(C$99n=C$99i[C$99o]).elementFormat&&0===C$99n.elementUsage){C$99e=C$99n;break}for(C$99r=C$99t.getData(),C$99o=0;C$99o<C$99r.length;C$99o+=C$99t.vertexDeclaration.vertexStride/4)C$99h=C$99o+C$99e.offset/4,C$99s.push(new C$99A(C$99r[C$99h+0],C$99r[C$99h+1],C$99r[C$99h+2]))}}else{var C$99c=this._subMeshes.length;for(C$99a=0;C$99a<C$99c;C$99a++){for(C$99i=(C$99t=this._subMeshes[C$99a]._getVertexBuffer()).vertexDeclaration.getVertexElements(),C$99o=0;C$99o<C$99i.length;C$99o++)if("vector3"===(C$99n=C$99i[C$99o]).elementFormat&&0===C$99n.elementUsage){C$99e=C$99n;break}for(C$99r=C$99t.getData(),C$99o=0;C$99o<C$99r.length;C$99o+=C$99t.vertexDeclaration.vertexStride/4)C$99h=C$99o+C$99e.offset/4,C$99s.push(new C$99A(C$99r[C$99h+0],C$99r[C$99h+1],C$99r[C$99h+2]))}}return C$99s},C$99ye._setSubMeshes=function(C$99t){this._subMeshes=C$99t,this._subMeshCount=C$99t.length;for(var C$99e=0;C$99e<this._subMeshCount;C$99e++)C$99t[C$99e]._indexInMesh=C$99e;this._positions=this._getPositions(),this._generateBoundingObject()},C$99ye.onAsynLoaded=function(C$99t,C$99e,C$99i){var C$99n=C$99e[0],C$99e=C$99e[1];C$99Kt.read(C$99n,this,this._materials,this._subMeshes,C$99e),this.completeCreate(),this._endLoaded()},C$99ye.getSubMesh=function(C$99t){return this._subMeshes[C$99t]},C$99ye.getSubMeshCount=function(){return this._subMeshes.length},C$99ye.getRenderElementsCount=function(){return this._subMeshes.length},C$99ye.getRenderElement=function(C$99t){return this._subMeshes[C$99t]},C$99ye.disposeResource=function(){for(var C$99t=0;C$99t<this._subMeshes.length;C$99t++)this._subMeshes[C$99t].dispose();this._materials=null,this._subMeshes=null,this._vertexBuffers=null,this._indexBuffer=null,this._boneNames=null,this._inverseBindPoses=null},C$99e(0,C$99ye,"materials",function(){return this._materials.slice()}),C$99e(0,C$99ye,"InverseAbsoluteBindPoses",function(){return this._inverseBindPoses}),qmyx0.load=function(C$99t){return C$99b.loader.create(C$99t,null,null,qmyx0)},qmyx0),C$99Fe=(C$99t(h0xmy,"laya.d3.resource.RenderTexture",C$99Ee),(C$99C=h0xmy.prototype).recreateResource=function(){var C$99t=C$99k.mainContext;this._frameBuffer=C$99t.createFramebuffer(),this._source=C$99t.createTexture();var C$99e=C$99B.curBindTexTarget,C$99i=C$99B.curBindTexValue;C$99B.bindTexture(C$99t,this._type,this._source),C$99t.texImage2D(this._type,0,6408,this._width,this._height,0,this._surfaceFormat,this._surfaceType,null);var C$99n=this._minFifter,C$99r=this._magFifter,C$99s=this._repeat?10497:33071;if(C$99p.isPOT(this._width,this._height)?(this._mipmap?-1!==C$99n||(C$99n=9987):-1!==C$99n||(C$99n=9729),-1!==C$99r||(C$99r=9729),C$99t.texParameteri(this._type,10241,C$99n),C$99t.texParameteri(this._type,10240,C$99r),C$99t.texParameteri(this._type,10242,C$99s),C$99t.texParameteri(this._type,10243,C$99s),this._mipmap&&C$99t.generateMipmap(this._type)):(-1!==C$99r||(C$99r=9729),C$99t.texParameteri(this._type,10241,C$99n=-1!==C$99n?C$99n:9729),C$99t.texParameteri(this._type,10240,C$99r),C$99t.texParameteri(this._type,10242,33071),C$99t.texParameteri(this._type,10243,33071)),C$99e&&C$99i&&C$99B.bindTexture(C$99t,C$99e,C$99i),C$99t.bindFramebuffer(36160,this._frameBuffer),this._depthStencilFormat)switch(this._depthStencilBuffer=C$99t.createRenderbuffer(),C$99t.bindRenderbuffer(36161,this._depthStencilBuffer),C$99t.renderbufferStorage(36161,this._depthStencilFormat,this._width,this._height),C$99t.bindRenderbuffer(36161,null),this._depthStencilFormat){case 33189:C$99t.framebufferRenderbuffer(36160,36096,36161,this._depthStencilBuffer);break;case 36168:C$99t.framebufferRenderbuffer(36160,36128,36161,this._depthStencilBuffer);break;case 34041:C$99t.framebufferRenderbuffer(36160,33306,36161,this._depthStencilBuffer)}C$99t.framebufferTexture2D(36160,36064,3553,this._source,0),C$99t.bindFramebuffer(36160,null),this.memorySize=this._width*this._height*4,this.completeCreate()},C$99C.start=function(){C$99k.mainContext.bindFramebuffer(36160,this.frameBuffer),(h0xmy._currentRenderTarget=this)._alreadyResolved=!1},C$99C.end=function(){C$99k.mainContext.bindFramebuffer(36160,null),h0xmy._currentRenderTarget=null,this._alreadyResolved=!0},C$99C.getData=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99k.mainContext;if(C$99r.bindFramebuffer(36160,this._frameBuffer),36053!==C$99r.checkFramebufferStatus(36160))return C$99r.bindFramebuffer(36160,null),null;var C$99s=new Uint8Array(this._width*this._height*4);return C$99r.readPixels(C$99t,C$99e,C$99i,C$99n,this._surfaceFormat,this._surfaceType,C$99s),C$99r.bindFramebuffer(36160,null),C$99s},C$99C.disposeResource=function(){var C$99t;this._frameBuffer&&((C$99t=C$99k.mainContext).deleteTexture(this._source),C$99t.deleteFramebuffer(this._frameBuffer),C$99t.deleteRenderbuffer(this._depthStencilBuffer),this._source=null,this._frameBuffer=null,this._depthStencilBuffer=null,this.memorySize=0)},C$99e(0,C$99C,"surfaceFormat",function(){return this._surfaceFormat}),C$99e(0,C$99C,"surfaceType",function(){return this._surfaceType}),C$99e(0,C$99C,"depthStencilFormat",function(){return this._depthStencilFormat}),C$99e(0,C$99C,"source",function(){return this._alreadyResolved?C$99b.superGet(C$99Ee,this,"source"):null}),C$99e(0,C$99C,"depthStencilBuffer",function(){return this._depthStencilBuffer}),C$99e(0,C$99C,"frameBuffer",function(){return this._frameBuffer}),h0xmy._currentRenderTarget=null,C$99t(l4tc2i,"laya.d3.resource.SolidColorTexture2D",C$99Ee),(C$99a=l4tc2i.prototype)._createWebGlTexture=function(){var C$99t=C$99k.mainContext,C$99e=this._source=C$99t.createTexture(),C$99i=this._width,C$99n=this._height,C$99r=C$99B.curBindTexTarget,C$99s=C$99B.curBindTexValue;C$99B.bindTexture(C$99t,this._type,C$99e),C$99t.texImage2D(this._type,0,6408,C$99i,C$99n,0,6408,5121,this._pixels);var C$99e=this._minFifter,C$99a=this._magFifter,C$99o=this._repeat?10497:33071,C$99h=C$99p.isPOT(C$99i,C$99n);C$99h?(this._mipmap?-1!==C$99e||(C$99e=9987):-1!==C$99e||(C$99e=9729),-1!==C$99a||(C$99a=9729),C$99t.texParameteri(this._type,10241,C$99e),C$99t.texParameteri(this._type,10240,C$99a),C$99t.texParameteri(this._type,10242,C$99o),C$99t.texParameteri(this._type,10243,C$99o),this._mipmap&&C$99t.generateMipmap(this._type)):(-1!==C$99a||(C$99a=9729),C$99t.texParameteri(this._type,10241,C$99e=-1!==C$99e?C$99e:9729),C$99t.texParameteri(this._type,10240,C$99a),C$99t.texParameteri(this._type,10242,33071),C$99t.texParameteri(this._type,10243,33071)),C$99r&&C$99s&&C$99B.bindTexture(C$99t,C$99r,C$99s),this.memorySize=C$99h?C$99i*C$99n*4*(1+1/3):C$99i*C$99n*4},C$99a.recreateResource=function(){this._createWebGlTexture(),this.completeCreate()},C$99a.disposeResource=function(){this._source&&(C$99k.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},C$99h(l4tc2i,["magentaTexture",function(){var C$99t=new l4tc2i(new C$99he(1,0,1,1));return C$99t.lock=!0,this.magentaTexture=C$99t},"grayTexture",function(){var C$99t=new l4tc2i(new C$99he(.5,.5,.5,1));return C$99t.lock=!0,this.grayTexture=C$99t}]),l4tc2i),C$99Ve=(C$99t(qxeo0,"laya.d3.resource.Texture2D",C$99Ee),(C$99I=qxeo0.prototype)._createWebGlTexture=function(){if(!this._image)throw"create GLTextur err:no data:"+this._image;var C$99t=C$99k.mainContext,C$99e=this._source=C$99t.createTexture(),C$99i=this._width,C$99n=this._height,C$99r=C$99B.curBindTexTarget,C$99s=C$99B.curBindTexValue;switch(C$99B.bindTexture(C$99t,this._type,C$99e),this._format){case 6407:case 6408:this._canRead?C$99t.texImage2D(this._type,0,this._format,C$99i,C$99n,0,this._format,5121,this._pixels):this._image&&this._image instanceof laya.webgl.resource.WebGLImage?C$99t.texImage2D(this._type,0,this._image._format,C$99i,C$99n,0,this._image._format,5121,this._image.atlasSource):C$99t.texImage2D(this._type,0,this._format,this._format,5121,this._image);break;case C$99k.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:C$99t.compressedTexImage2D(this._type,0,this._format,this._width,this._height,0,this._image);break;default:console.error("\u6536\u5230\u5176\u4ed6\u7684\u7eb9\u7406\u7c7b\u578b\uff1a",this._format)}var C$99e=this._minFifter,C$99a=this._magFifter,C$99o=this._repeat?10497:33071,C$99h=0==this._wrapModeU?10497:33071,C$99c=0==this._wrapModeV?10497:33071,C$99l=C$99p.isPOT(C$99i,C$99n);C$99l?(this._mipmap?-1!==C$99e||(C$99e=9987):-1!==C$99e||(C$99e=9729),-1!==C$99a||(C$99a=9729),C$99t.texParameteri(this._type,10241,C$99e),C$99t.texParameteri(this._type,10240,C$99a),C$99t.texParameteri(this._type,10242,C$99o),C$99t.texParameteri(this._type,10243,C$99o),C$99t.texParameteri(this._type,10242,C$99h),C$99t.texParameteri(this._type,10243,C$99c),this._mipmap&&C$99t.generateMipmap(this._type)):(-1!==C$99a||(C$99a=9729),C$99t.texParameteri(this._type,10241,C$99e=-1!==C$99e?C$99e:9729),C$99t.texParameteri(this._type,10240,C$99a),C$99t.texParameteri(this._type,10242,33071),C$99t.texParameteri(this._type,10243,33071)),C$99r&&C$99s&&C$99B.bindTexture(C$99t,C$99r,C$99s),this._image.onload=null,this._image=null,this.memorySize=C$99l?C$99i*C$99n*4*(1+1/3):C$99i*C$99n*4},C$99I.recreateResource=function(){this._createWebGlTexture(),this.completeCreate()},C$99I.onAsynLoaded=function(C$99t,C$99e,C$99i){var C$99n;switch(C$99i&&(void 0!==(C$99n=C$99i[0])&&(this._canRead=C$99n),void 0!==(C$99n=C$99i[1])&&(this._repeat=C$99n),void 0!==(C$99n=C$99i[2])&&(this._format=C$99n),void 0!==(C$99n=C$99i[3])&&(this._mipmap=C$99n),void 0!==(C$99n=C$99i.wrapModeU)&&(this._wrapModeU=C$99n),void 0!==(C$99n=C$99i.wrapModeV)&&(this._wrapModeV=C$99n)),this._format){case 6407:case 6408:var C$99r=(this._image=C$99e).width,C$99s=C$99e.height;this._width=C$99r,this._height=C$99s,this._size=new C$99me(C$99r,C$99s),this._canRead&&(C$99T.isConchApp?C$99e instanceof C$99o.HTMLElement&&(this._pixels=new Uint8Array(C$99e.getImageData(0,0,C$99r,C$99s))):(C$99M.canvas.size(C$99r,C$99s),C$99M.canvas.clear(),C$99M.context.drawImage(C$99e,0,0,C$99r,C$99s),this._pixels=new Uint8Array(C$99M.context.getImageData(0,0,C$99r,C$99s).data.buffer)));break;case C$99k.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:C$99r=new C$99x(C$99e);C$99r.readUTFBytes(4),C$99r.readUTFBytes(2),C$99r.getInt16(),C$99r.endian="bigEndian",this._width=C$99r.getInt16(),this._height=C$99r.getInt16(),this._size=new C$99me(this._width,this._height),C$99r.getInt16(),C$99r.getInt16(),this._image=new Uint8Array(C$99e,C$99r.pos)}this.recreateResource(),this._endLoaded()},C$99I.getPixels=function(){if(this._canRead)return this._pixels;throw new Error("Texture2D: must set texture canRead is true.")},C$99I.disposeResource=function(){this._source&&(C$99k.mainContext.deleteTexture(this._source),this._source=null,this._image=null,this.memorySize=0)},C$99e(0,C$99I,"_src",function(){return this.url}),C$99e(0,C$99I,"src",function(){return this.url}),qxeo0.load=function(C$99t){return C$99b.loader.create(C$99t,null,null,qxeo0)},qxeo0),C$99$e=(C$99t(p$vfd9,"laya.d3.core.BaseCamera",C$99Ge=C$99Pe),(C$99s=p$vfd9.prototype)._sortCamerasByRenderingOrder=function(){if(this._displayedInStage)for(var C$99t=this.scene._cameraPool,C$99e=C$99t.length-1,C$99i=0;C$99i<C$99e;C$99i++){var C$99n;C$99t[C$99i].renderingOrder>C$99t[C$99e].renderingOrder&&(C$99n=C$99t[C$99i],C$99t[C$99i]=C$99t[C$99e],C$99t[C$99e]=C$99n)}},C$99s._calculateProjectionMatrix=function(){},C$99s._onScreenSizeChanged=function(){this._calculateProjectionMatrix()},C$99s._prepareCameraToRender=function(){C$99$._currentCameraCullingMask=this.cullingMask;var C$99t=this._shaderValues;C$99t.setValue(0,this.transform.position.elements),C$99t.setValue(5,this.forward.elements),C$99t.setValue(6,this.up.elements)},C$99s._prepareCameraViewProject=function(C$99t,C$99e){var C$99i=this._shaderValues;C$99i.setValue(1,C$99t.elements),C$99i.setValue(2,C$99e.elements)},C$99s._renderCamera=function(C$99t,C$99e,C$99i){},C$99s.addLayer=function(C$99t){29!==C$99t.number&&30!=C$99t.number&&(this.cullingMask=this.cullingMask|C$99t.mask)},C$99s.removeLayer=function(C$99t){29!==C$99t.number&&30!=C$99t.number&&(this.cullingMask=this.cullingMask&~C$99t.mask)},C$99s.addAllLayers=function(){this.cullingMask=2147483647},C$99s.removeAllLayers=function(){this.cullingMask=0|C$99$.getLayerByNumber(29).mask|C$99$.getLayerByNumber(30).mask},C$99s.ResetProjectionMatrix=function(){this._useUserProjectionMatrix=!1,this._calculateProjectionMatrix()},C$99s.moveForward=function(C$99t){this._tempVector3.elements[0]=this._tempVector3.elements[1]=0,this._tempVector3.elements[2]=C$99t,this.transform.translate(this._tempVector3)},C$99s.moveRight=function(C$99t){this._tempVector3.elements[1]=this._tempVector3.elements[2]=0,this._tempVector3.elements[0]=C$99t,this.transform.translate(this._tempVector3)},C$99s.moveVertical=function(C$99t){this._tempVector3.elements[0]=this._tempVector3.elements[2]=0,this._tempVector3.elements[1]=C$99t,this.transform.translate(this._tempVector3,!1)},C$99s._addSelfRenderObjects=function(){var C$99t=this.scene._cameraPool,C$99e=C$99t.length;if(0<C$99e){for(var C$99i=C$99e-1;0<=C$99i;C$99i--)if(this.renderingOrder<=C$99t[C$99i].renderingOrder){C$99t.splice(C$99i+1,0,this);break}}else C$99t.push(this),this.scene.conchModel&&this.scene.conchModel.setCurrentCamera(this.conchModel)},C$99s._clearSelfRenderObjects=function(){var C$99t=this.scene._cameraPool;C$99t.splice(C$99t.indexOf(this),1)},C$99s.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this._sky&&this._sky.destroy(),this.renderTarget=null,C$99b.stage.off("resize",this,this._onScreenSizeChanged),C$99Ge.prototype.destroy.call(this,C$99t)},C$99e(0,C$99s,"sky",function(){return this._sky},function(C$99t){(this._sky=C$99t)._ownerCamera=this}),C$99e(0,C$99s,"forward",function(){var C$99t=this.transform.worldMatrix.elements,C$99e=this._forward.elements;return C$99e[0]=-C$99t[8],C$99e[1]=-C$99t[9],C$99e[2]=-C$99t[10],this._forward}),C$99e(0,C$99s,"position",function(){var C$99t=this.transform.worldMatrix.elements,C$99e=this._position.elements;return C$99e[0]=C$99t[12],C$99e[1]=C$99t[13],C$99e[2]=C$99t[14],this._position}),C$99e(0,C$99s,"renderTarget",function(){return this._renderTarget},function(C$99t){null!=(this._renderTarget=C$99t)&&(this._renderTargetSize=C$99t.size)}),C$99e(0,C$99s,"up",function(){var C$99t=this.transform.worldMatrix.elements,C$99e=this._up.elements;return C$99e[0]=C$99t[4],C$99e[1]=C$99t[5],C$99e[2]=C$99t[6],this._up}),C$99e(0,C$99s,"right",function(){var C$99t=this.transform.worldMatrix.elements,C$99e=this._right.elements;return C$99e[0]=C$99t[0],C$99e[1]=C$99t[1],C$99e[2]=C$99t[2],this._right}),C$99e(0,C$99s,"renderTargetSize",function(){return this._renderTargetSize},function(C$99t){null!=this.renderTarget&&this._renderTargetSize,this._renderTargetSize=C$99t,this._calculateProjectionMatrix()}),C$99e(0,C$99s,"fieldOfView",function(){return this._fieldOfView},function(C$99t){this._fieldOfView=C$99t,this._calculateProjectionMatrix()}),C$99e(0,C$99s,"nearPlane",function(){return this._nearPlane},function(C$99t){this._nearPlane=C$99t,this._calculateProjectionMatrix()}),C$99e(0,C$99s,"farPlane",function(){return this._farPlane},function(C$99t){this._farPlane=C$99t,this._calculateProjectionMatrix()}),C$99e(0,C$99s,"orthographic",function(){return this._orthographic},function(C$99t){this._orthographic=C$99t,this._calculateProjectionMatrix()}),C$99e(0,C$99s,"orthographicVerticalSize",function(){return this._orthographicVerticalSize},function(C$99t){this._orthographicVerticalSize=C$99t,this._calculateProjectionMatrix()}),C$99e(0,C$99s,"renderingOrder",function(){return this._renderingOrder},function(C$99t){this._renderingOrder=C$99t,this._sortCamerasByRenderingOrder()}),p$vfd9.CAMERAPOS=0,p$vfd9.VIEWMATRIX=1,p$vfd9.PROJECTMATRIX=2,p$vfd9.VPMATRIX=3,p$vfd9.VPMATRIX_NO_TRANSLATE=4,p$vfd9.CAMERADIRECTION=5,p$vfd9.CAMERAUP=6,p$vfd9.ENVIRONMENTDIFFUSE=7,p$vfd9.ENVIRONMENTSPECULAR=8,p$vfd9.SIMLODINFO=9,p$vfd9.DIFFUSEIRRADMATR=10,p$vfd9.DIFFUSEIRRADMATG=11,p$vfd9.DIFFUSEIRRADMATB=12,p$vfd9.HDREXPOSURE=13,p$vfd9.RENDERINGTYPE_DEFERREDLIGHTING="DEFERREDLIGHTING",p$vfd9.RENDERINGTYPE_FORWARDRENDERING="FORWARDRENDERING",p$vfd9.CLEARFLAG_SOLIDCOLOR=0,p$vfd9.CLEARFLAG_SKY=1,p$vfd9.CLEARFLAG_DEPTHONLY=2,p$vfd9.CLEARFLAG_NONE=3,C$99h(p$vfd9,["_invertYScaleMatrix",function(){return this._invertYScaleMatrix=new C$99ie(1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1)},"_invertYProjectionMatrix",function(){return this._invertYProjectionMatrix=new C$99ie},"_invertYProjectionViewMatrix",function(){return this._invertYProjectionViewMatrix=new C$99ie}]),p$vfd9),C$99Ue=(C$99t(tic9v,"laya.d3.core.RenderableSprite3D",C$99We=C$99Pe),(C$99i=tic9v.prototype)._addToInitStaticBatchManager=function(){},C$99i._setBelongScene=function(C$99t){C$99We.prototype._setBelongScene.call(this,C$99t),C$99t._renderableSprite3Ds.push(this),this._render._applyLightMapParams()},C$99i._setUnBelongScene=function(){var C$99t=this._scene._renderableSprite3Ds,C$99e=C$99t.indexOf(this);C$99t.splice(C$99e,1),this._render._removeShaderDefine(laya.d3.core.RenderableSprite3D.SAHDERDEFINE_LIGHTMAP),C$99We.prototype._setUnBelongScene.call(this)},C$99i._update=function(C$99t){(C$99t.owner=this)._activeInHierarchy&&(this._updateComponents(C$99t),this._render._updateOctreeNode(),this._lateUpdateComponents(C$99t),C$99R.spriteCount++,this._childs.length&&this._updateChilds(C$99t))},C$99i.destroy=function(C$99t){C$99We.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._render._destroy(),this._render=null},tic9v.__init__=function(){tic9v.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV=tic9v.shaderDefines.registerDefine("SCALEOFFSETLIGHTINGMAPUV"),tic9v.SAHDERDEFINE_LIGHTMAP=tic9v.shaderDefines.registerDefine("LIGHTMAP")},tic9v.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV=2,tic9v.SAHDERDEFINE_LIGHTMAP=4,tic9v.LIGHTMAPSCALEOFFSET=2,tic9v.LIGHTMAP=3,C$99h(tic9v,["shaderDefines",function(){return this.shaderDefines=new C$99_e}]),tic9v),C$99je=(C$99t(xhm,"laya.d3.resource.models.BoxMesh",C$99m),(C$99n=xhm.prototype).recreateResource=function(){this.disposeResource(),this._numberVertices=24,this._numberIndices=36;var C$99t=C$99Rt.vertexDeclaration,C$99e=(C$99t.vertexStride,this._long/2),C$99i=this._height/2,C$99n=this._width/2,C$99e=new Float32Array([-C$99e,C$99i,-C$99n,0,1,0,0,0,C$99e,C$99i,-C$99n,0,1,0,1,0,C$99e,C$99i,C$99n,0,1,0,1,1,-C$99e,C$99i,C$99n,0,1,0,0,1,-C$99e,-C$99i,-C$99n,0,-1,0,0,1,C$99e,-C$99i,-C$99n,0,-1,0,1,1,C$99e,-C$99i,C$99n,0,-1,0,1,0,-C$99e,-C$99i,C$99n,0,-1,0,0,0,-C$99e,C$99i,-C$99n,-1,0,0,0,0,-C$99e,C$99i,C$99n,-1,0,0,1,0,-C$99e,-C$99i,C$99n,-1,0,0,1,1,-C$99e,-C$99i,-C$99n,-1,0,0,0,1,C$99e,C$99i,-C$99n,1,0,0,1,0,C$99e,C$99i,C$99n,1,0,0,0,0,C$99e,-C$99i,C$99n,1,0,0,0,1,C$99e,-C$99i,-C$99n,1,0,0,1,1,-C$99e,C$99i,C$99n,0,0,1,0,0,C$99e,C$99i,C$99n,0,0,1,1,0,C$99e,-C$99i,C$99n,0,0,1,1,1,-C$99e,-C$99i,C$99n,0,0,1,0,1,-C$99e,C$99i,-C$99n,0,0,-1,1,0,C$99e,C$99i,-C$99n,0,0,-1,0,0,C$99e,-C$99i,-C$99n,0,0,-1,0,1,-C$99e,-C$99i,-C$99n,0,0,-1,1,1]),C$99i=new Uint16Array([0,1,2,2,3,0,4,7,6,6,5,4,8,9,10,10,11,8,12,15,14,14,13,12,16,17,18,18,19,16,20,23,22,22,21,20]);this._vertexBuffer=new C$99Be(C$99t,this._numberVertices,35044,!0),this._indexBuffer=new C$99ke("ushort",this._numberIndices,35044,!0),this._vertexBuffer._addReference(),this._indexBuffer._addReference(),this._vertexBuffer.setData(C$99e),this._indexBuffer.setData(C$99i),this.memorySize=2*(this._vertexBuffer._byteLength+this._indexBuffer._byteLength),this.completeCreate()},C$99e(0,C$99n,"long",function(){return this._long},function(C$99t){this._long!==C$99t&&(this._long=C$99t,this.releaseResource(),this.activeResource())}),C$99e(0,C$99n,"width",function(){return this._width},function(C$99t){this._width!==C$99t&&(this._width=C$99t,this.releaseResource(),this.activeResource())}),C$99e(0,C$99n,"height",function(){return this._height},function(C$99t){this._height!==C$99t&&(this._height=C$99t,this.releaseResource(),this.activeResource())}),C$99t(f9,"laya.d3.resource.models.PlaneMesh",C$99m),(C$99ye=f9.prototype).recreateResource=function(){this.disposeResource(),this._numberVertices=(this._stacks+1)*(this._slices+1),this._numberIndices=this._stacks*this._slices*2*3;for(var C$99t=new Uint16Array(this._numberIndices),C$99e=C$99Rt.vertexDeclaration,C$99i=C$99e.vertexStride/4,C$99n=new Float32Array(this._numberVertices*C$99i),C$99r=this._long/2,C$99s=this._width/2,C$99c=this._long/this._stacks,C$99_=this._width/this._slices,C$99a=0,C$99o=0;C$99o<=this._slices;C$99o++)for(var C$99h=0;C$99h<=this._stacks;C$99h++)C$99n[C$99a++]=C$99h*C$99c-C$99r,C$99n[C$99a++]=0,C$99n[C$99a++]=C$99o*C$99_-C$99s,C$99n[C$99a++]=0,C$99n[C$99a++]=1,C$99n[C$99a++]=0,C$99n[C$99a++]=+C$99h/this._stacks,C$99n[C$99a++]=+C$99o/this._slices;var C$99l=0;for(C$99o=0;C$99o<this._slices;C$99o++)for(C$99h=0;C$99h<this._stacks;C$99h++)C$99t[C$99l++]=(C$99o+1)*(this._stacks+1)+C$99h,C$99t[C$99l++]=C$99o*(this._stacks+1)+C$99h,C$99t[C$99l++]=(C$99o+1)*(this._stacks+1)+C$99h+1,C$99t[C$99l++]=C$99o*(this._stacks+1)+C$99h,C$99t[C$99l++]=C$99o*(this._stacks+1)+C$99h+1,C$99t[C$99l++]=(C$99o+1)*(this._stacks+1)+C$99h+1;this._vertexBuffer=new C$99Be(C$99e,this._numberVertices,35044,!0),this._vertexBuffer._addReference(),this._indexBuffer=new C$99ke("ushort",this._numberIndices,35044,!0),this._indexBuffer._addReference(),this._vertexBuffer.setData(C$99n),this._indexBuffer.setData(C$99t),this.memorySize=2*(this._vertexBuffer._byteLength+this._indexBuffer._byteLength),this.completeCreate()},C$99e(0,C$99ye,"long",function(){return this._long},function(C$99t){this._long!==C$99t&&(this._long=C$99t,this.releaseResource(),this.activeResource())}),C$99e(0,C$99ye,"width",function(){return this._width},function(C$99t){this._width!==C$99t&&(this._width=C$99t,this.releaseResource(),this.activeResource())}),C$99e(0,C$99ye,"stacks",function(){return this._stacks},function(C$99t){this._stacks!==C$99t&&(this._stacks=C$99t,this.releaseResource(),this.activeResource())}),C$99e(0,C$99ye,"slices",function(){return this._slices},function(C$99t){this._slices!==C$99t&&(this._slices=C$99t,this.releaseResource(),this.activeResource())}),C$99t(wh_,"laya.d3.core.Camera",C$99$e),(C$99C=wh_.prototype)._onWorldMatrixChanged=function(){this._boundFrustumUpdate=!0},C$99C._parseCustomProps=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99i.clearColor;this.clearColor=new C$99he(C$99r[0],C$99r[1],C$99r[2],C$99r[3]);C$99r=C$99i.viewport;this.normalizedViewport=new C$99le(C$99r[0],C$99r[1],C$99r[2],C$99r[3])},C$99C._calculateProjectionMatrix=function(){var C$99t,C$99e;this._useUserProjectionMatrix||(this._orthographic?(C$99t=this.orthographicVerticalSize*this.aspectRatio*.5,C$99e=.5*this.orthographicVerticalSize,C$99ie.createOrthoOffCenterRH(-C$99t,C$99t,-C$99e,C$99e,this.nearPlane,this.farPlane,this._projectionMatrix)):C$99ie.createPerspective(3.1416*this.fieldOfView/180,this.aspectRatio,this.nearPlane,this.farPlane,this._projectionMatrix)),this._boundFrustumUpdate=!0},C$99C._update=function(C$99t){this.conchModel&&(this.conchModel.setViewMatrix(this.viewMatrix.elements),this.conchModel.setProjectMatrix(this.projectionMatrix.elements)),laya.d3.core.Sprite3D.prototype._update.call(this,C$99t)},C$99C._renderCamera=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99i.parallelSplitShadowMaps[0]&&C$99i._renderShadowMap(C$99t,C$99e,this),(C$99e.camera=this)._prepareCameraToRender(),C$99i._preRenderUpdateComponents(C$99e),C$99n=C$99e._viewMatrix=this.viewMatrix;var C$99s=this._renderTarget;C$99s?(C$99s.start(),C$99ie.multiply(C$99$e._invertYScaleMatrix,this._projectionMatrix,C$99$e._invertYProjectionMatrix),C$99ie.multiply(C$99$e._invertYScaleMatrix,this.projectionViewMatrix,C$99$e._invertYProjectionViewMatrix),C$99r=C$99e._projectionMatrix=C$99$e._invertYProjectionMatrix,C$99e._projectionViewMatrix=C$99$e._invertYProjectionViewMatrix):(C$99r=C$99e._projectionMatrix=this._projectionMatrix,C$99e._projectionViewMatrix=this.projectionViewMatrix),this._prepareCameraViewProject(C$99n,C$99r),C$99e._viewport=this.viewport,C$99i._preRenderScene(C$99t,C$99e,this.boundFrustum),C$99i._clear(C$99t,C$99e),C$99i._renderScene(C$99t,C$99e),C$99i._postRenderUpdateComponents(C$99e),C$99s&&C$99s.end()},C$99C.viewportPointToRay=function(C$99t,C$99e){C$99pe.calculateCursorRay(C$99t,this.viewport,this._projectionMatrix,this.viewMatrix,null,C$99e)},C$99C.normalizedViewportPointToRay=function(C$99t,C$99e){var C$99i=wh_._tempVector20,C$99n=this.viewport,C$99t=C$99t.elements,C$99r=C$99i.elements;C$99r[0]=C$99t[0]*C$99n.width,C$99r[1]=C$99t[1]*C$99n.height,C$99pe.calculateCursorRay(C$99i,this.viewport,this._projectionMatrix,this.viewMatrix,null,C$99e)},C$99C.worldToViewportPoint=function(C$99t,C$99e){C$99ie.multiply(this._projectionMatrix,this._viewMatrix,this._projectionViewMatrix),this.viewport.project(C$99t,this._projectionViewMatrix,C$99e);C$99t=C$99e.elements;C$99t[0]=C$99t[0]/C$99b.stage.clientScaleX,C$99t[1]=C$99t[1]/C$99b.stage.clientScaleY},C$99C.worldToNormalizedViewportPoint=function(C$99t,C$99e){C$99ie.multiply(this._projectionMatrix,this._viewMatrix,this._projectionViewMatrix),this.normalizedViewport.project(C$99t,this._projectionViewMatrix,C$99e);C$99t=C$99e.elements;C$99t[0]=C$99t[0]/C$99b.stage.clientScaleX,C$99t[1]=C$99t[1]/C$99b.stage.clientScaleY},C$99C.convertScreenCoordToOrthographicCoord=function(C$99t,C$99e){var C$99i,C$99n,C$99r,C$99s,C$99a;return!!this._orthographic&&(C$99i=C$99Q.clientWidth,C$99n=C$99Q.clientHeight,C$99r=this.orthographicVerticalSize*this.aspectRatio/C$99i,C$99s=this.orthographicVerticalSize/C$99n,C$99t=C$99t.elements,(C$99a=C$99e.elements)[0]=(-C$99i/2+C$99t[0])*C$99r,C$99a[1]=(C$99n/2-C$99t[1])*C$99s,C$99a[2]=(this.nearPlane-this.farPlane)*(C$99t[2]+1)/2-this.nearPlane,C$99A.transformCoordinate(C$99e,this.transform.worldMatrix,C$99e),!0)},C$99e(0,C$99C,"projectionViewMatrix",function(){return C$99ie.multiply(this.projectionMatrix,this.viewMatrix,this._projectionViewMatrix),this._projectionViewMatrix}),C$99e(0,C$99C,"aspectRatio",function(){if(0!==this._aspectRatio)return this._aspectRatio;var C$99t=this.viewport;return C$99t.width/C$99t.height},function(C$99t){if(C$99t<0)throw new Error("Camera: the aspect ratio has to be a positive real number.");this._aspectRatio=C$99t,this._calculateProjectionMatrix()}),C$99e(0,C$99C,"boundFrustum",function(){return this._boundFrustumUpdate&&(this._boundFrustum.matrix=this.projectionViewMatrix),this._boundFrustum}),C$99e(0,C$99C,"needViewport",function(){var C$99t=this.normalizedViewport;return 0===C$99t.x&&0===C$99t.y&&1===C$99t.width&&1===C$99t.height}),C$99e(0,C$99C,"viewport",function(){var C$99t,C$99e,C$99i;return this._viewportExpressedInClipSpace&&(C$99t=this._normalizedViewport,C$99e=(C$99i=this.renderTargetSize).width,C$99i=C$99i.height,this._viewport.x=C$99t.x*C$99e,this._viewport.y=C$99t.y*C$99i,this._viewport.width=C$99t.width*C$99e,this._viewport.height=C$99t.height*C$99i),this._viewport},function(C$99t){if(null!=this.renderTarget&&(C$99t.x<0||C$99t.y<0||0==C$99t.width||0==C$99t.height))throw new Error("Camera: viewport size invalid.","value");this._viewportExpressedInClipSpace=!1,this._viewport=C$99t,this._calculateProjectionMatrix()}),C$99e(0,C$99C,"normalizedViewport",function(){var C$99t,C$99e,C$99i;return this._viewportExpressedInClipSpace||(C$99t=this._viewport,C$99e=(C$99i=this.renderTargetSize).width,C$99i=C$99i.height,this._normalizedViewport.x=C$99t.x/C$99e,this._normalizedViewport.y=C$99t.y/C$99i,this._normalizedViewport.width=C$99t.width/C$99e,this._normalizedViewport.height=C$99t.height/C$99i),this._normalizedViewport},function(C$99t){C$99t.x<0&&(C$99t.x=0,console.warn("Camera: viewport.x must large than 0.0.")),C$99t.y<0&&(C$99t.y=0,console.warn("Camera: viewport.y must large than 0.0.")),1<C$99t.x+C$99t.width&&(C$99t.width=1-C$99t.x,console.warn("Camera: viewport.width + viewport.x must less than 1.0.")),1<C$99t.y+C$99t.height&&(C$99t.height=1-C$99t.y,console.warn("Camera: viewport.height + viewport.y must less than 1.0.")),this._viewportExpressedInClipSpace=!0,this._normalizedViewport=C$99t,this._calculateProjectionMatrix()}),C$99e(0,C$99C,"projectionMatrix",function(){return this._projectionMatrix},function(C$99t){this._projectionMatrix=C$99t,this._useUserProjectionMatrix=!0}),C$99e(0,C$99C,"viewMatrix",function(){return this.transform.worldMatrix.invert(this._viewMatrix),this._viewMatrix}),C$99h(wh_,["_tempVector20",function(){return this._tempVector20=new C$99oe}]),wh_),C$99qe=(C$99t(t9i$c,"laya.d3.core.MeshSprite3D",C$99He=C$99Ue),(C$99a=t9i$c.prototype)._changeRenderObjectByMesh=function(C$99t){var C$99e=this._render._renderElements,C$99i=C$99e[C$99t];(C$99i=C$99i||(C$99e[C$99t]=new C$99Te))._render=this._render;C$99e=this._render.sharedMaterials[C$99t];C$99e=C$99e||C$99ze.defaultMaterial;C$99t=this._geometryFilter.sharedMesh.getRenderElement(C$99t);return C$99i._mainSortID=this._getSortID(C$99t,C$99e),C$99i._sprite3D=this,C$99i.renderObj=C$99t,C$99i._material=C$99e,C$99i},C$99a._changeRenderObjectByMaterial=function(C$99t,C$99e){var C$99i=this._render._renderElements[C$99t];C$99e=C$99e||C$99ze.defaultMaterial;C$99t=this._geometryFilter.sharedMesh.getRenderElement(C$99t);return C$99i._mainSortID=this._getSortID(C$99t,C$99e),C$99i._sprite3D=this,C$99i.renderObj=C$99t,C$99i._material=C$99e,C$99i},C$99a._changeRenderObjectsByMesh=function(){var C$99t=this._geometryFilter.sharedMesh.getRenderElementsCount();this._render._renderElements.length=C$99t;for(var C$99e=0;C$99e<C$99t;C$99e++)this._changeRenderObjectByMesh(C$99e)},C$99a._onMeshChanged=function(C$99t){C$99t=C$99t.sharedMesh;C$99t.loaded?this._changeRenderObjectsByMesh():C$99t.once("loaded",this,this._onMeshLoaded)},C$99a._onMeshLoaded=function(C$99t){C$99t===this.meshFilter.sharedMesh&&this._changeRenderObjectsByMesh()},C$99a._onMaterialChanged=function(C$99t,C$99e,C$99i){C$99e<this._render._renderElements.length&&this._changeRenderObjectByMaterial(C$99e,C$99i)},C$99a._clearSelfRenderObjects=function(){this.scene.removeFrustumCullingObject(this._render)},C$99a._addSelfRenderObjects=function(){this.scene.addFrustumCullingObject(this._render)},C$99a._parseCustomProps=function(C$99c,C$99t,C$99e,C$99i){var C$99n=this.meshRender,C$99r=C$99e.lightmapIndex;null!=C$99r&&(C$99n.lightmapIndex=C$99r);var C$99s,C$99a,C$99r=C$99e.lightmapScaleOffset;if(C$99r&&(C$99n.lightmapScaleOffset=new C$99he(C$99r[0],C$99r[1],C$99r[2],C$99r[3])),C$99i.instanceParams)(C$99s=C$99i.instanceParams.loadPath)&&(C$99a=C$99g.getRes(C$99t[C$99s]),(this.meshFilter.sharedMesh=C$99a).loaded?C$99n.sharedMaterials=C$99a.materials:C$99a.once("loaded",this,this._applyMeshMaterials));else{(C$99s=C$99e.meshPath)&&(C$99a=C$99g.getRes(C$99t[C$99s]),this.meshFilter.sharedMesh=C$99a);var C$99o=C$99e.materials;if(C$99o){var C$99h=C$99n.sharedMaterials,C$99_=C$99o.length;C$99h.length=C$99_;for(var C$99l=0;C$99l<C$99_;C$99l++)C$99h[C$99l]=C$99g.getRes(C$99t[C$99o[C$99l].path]);C$99n.sharedMaterials=C$99h}}},C$99a._applyMeshMaterials=function(C$99t){for(var C$99e=this._render.sharedMaterials,C$99i=C$99t.materials,C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99n++)C$99e[C$99n]||(C$99e[C$99n]=C$99i[C$99n]);this._render.sharedMaterials=C$99e},C$99a._addToInitStaticBatchManager=function(){t9i$c._staticBatchManager._addInitBatchSprite(this)},C$99a.cloneTo=function(C$99t){var C$99e=C$99t;C$99e._geometryFilter.sharedMesh=this._geometryFilter.sharedMesh;var C$99i=this._render,C$99e=C$99e._render;C$99e.enable=C$99i.enable,C$99e.sharedMaterials=C$99i.sharedMaterials,C$99e.castShadow=C$99i.castShadow;var C$99n=C$99i.lightmapScaleOffset;C$99n&&(C$99e.lightmapScaleOffset=C$99n.clone()),C$99e.lightmapIndex=C$99i.lightmapIndex,C$99e.receiveShadow=C$99i.receiveShadow,C$99e.sortingFudge=C$99i.sortingFudge,laya.d3.core.Sprite3D.prototype.cloneTo.call(this,C$99t)},C$99a.destroy=function(C$99t){var C$99e;void 0===C$99t&&(C$99t=!0),this.destroyed||(null!=(C$99e=this.meshFilter.sharedMesh)&&(C$99e.loaded||C$99e.off("loaded",this,this._applyMeshMaterials)),C$99He.prototype.destroy.call(this,C$99t),this._geometryFilter._destroy())},C$99e(0,C$99a,"meshFilter",function(){return this._geometryFilter}),C$99e(0,C$99a,"meshRender",function(){return this._render}),t9i$c.__init__=function(){C$99ot._staticBatchManagers.push(t9i$c._staticBatchManager)},t9i$c.load=function(C$99t){return C$99b.loader.create(C$99t,null,null,t9i$c)},C$99h(t9i$c,["_staticBatchManager",function(){return this._staticBatchManager=new C$99Se}]),t9i$c);function t9i$c(C$99t,C$99e){t9i$c.__super.call(this,C$99e),this._geometryFilter=new C$99Ae(this),this._render=new C$99Ie(this),this._geometryFilter.on("meshchanged",this,this._onMeshChanged),this._render.on("materialchanged",this,this._onMaterialChanged),C$99t&&(this._geometryFilter.sharedMesh=C$99t)instanceof laya.d3.resource.models.Mesh&&(C$99t.loaded?this._render.sharedMaterials=C$99t.materials:C$99t.once("loaded",this,this._applyMeshMaterials))}var C$99He;function wh_(C$99t,C$99e,C$99i){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=.3),void 0===C$99i&&(C$99i=1e3),this._viewMatrix=new C$99ie,this._projectionMatrix=new C$99ie,this._projectionViewMatrix=new C$99ie,this._viewport=new C$99le(0,0,0,0),this._normalizedViewport=new C$99le(0,0,1,1),this._aspectRatio=C$99t,this._boundFrustumUpdate=!0,this._boundFrustum=new C$99Qt(C$99ie.DEFAULT),wh_.__super.call(this,C$99e,C$99i),this.transform.on("worldmatrixneedchanged",this,this._onWorldMatrixChanged)}function f9(C$99t,C$99e,C$99i,C$99n){this._long=NaN,this._width=NaN,this._stacks=0,void(this._slices=0)===C$99t&&(C$99t=10),void 0===C$99e&&(C$99e=10),void 0===C$99i&&(C$99i=10),void 0===C$99n&&(C$99n=10),f9.__super.call(this),this._long=C$99t,this._width=C$99e,this._stacks=C$99i,this._slices=C$99n,this.activeResource(),this._positions=this._getPositions(),this._generateBoundingObject()}function xhm(C$99t,C$99e,C$99i){this._long=NaN,this._width=NaN,this._height=NaN,void 0===C$99t&&(C$99t=1),void 0===C$99e&&(C$99e=1),void 0===C$99i&&(C$99i=1),xhm.__super.call(this),this._long=C$99t,this._width=C$99e,this._height=C$99i,this.activeResource(),this._positions=this._getPositions(),this._generateBoundingObject()}function tic9v(C$99t){this._render=null,this._geometryFilter=null,tic9v.__super.call(this,C$99t)}var C$99We;function p$vfd9(C$99t,C$99e){p$vfd9.__super.call(this),void 0===C$99t&&(C$99t=.3),void 0===C$99e&&(C$99e=1e3),this._tempVector3=new C$99A,this._position=new C$99A,this._up=new C$99A,this._forward=new C$99A,this._right=new C$99A,this._fieldOfView=60,this._useUserProjectionMatrix=!1,this._orthographic=!1,this._viewportExpressedInClipSpace=!0,this._renderTargetSize=C$99me.fullScreen,this._orthographicVerticalSize=10,this.renderingOrder=0,this._nearPlane=C$99t,this._farPlane=C$99e,this.cullingMask=2147483647,this.clearFlag=0,this.useOcclusionCulling=!0,this._calculateProjectionMatrix(),C$99b.stage.on("resize",this,this._onScreenSizeChanged)}var C$99Ge;function qxeo0(C$99t,C$99e,C$99i,C$99n){this._canRead=!1,this._image=null,this._pixels=null,void 0===C$99t&&(C$99t=!1),void 0===C$99e&&(C$99e=!0),void 0===C$99i&&(C$99i=6408),void 0===C$99n&&(C$99n=!0),qxeo0.__super.call(this),this._type=3553,this._repeat=C$99e,this._canRead=C$99t,this._format=C$99i,this._mipmap=C$99n}function l4tc2i(C$99t){this._color=null,this._pixels=null,l4tc2i.__super.call(this),this._type=3553,this._width=1,this._height=1,this._size=new C$99me(this.width,this.height),this._color=C$99t,this._pixels=new Uint8Array([255*C$99t.x,255*C$99t.y,255*C$99t.z,255*C$99t.w]),this.uri="SolidColorTexture2D_"+this.id}function h0xmy(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){this._alreadyResolved=!1,this._surfaceFormat=0,this._surfaceType=0,this._depthStencilFormat=0,this._frameBuffer=null,this._depthStencilBuffer=null,void 0===C$99i&&(C$99i=6408),void 0===C$99n&&(C$99n=5121),void 0===C$99r&&(C$99r=33189),void 0===C$99s&&(C$99s=!1),void 0===C$99a&&(C$99a=!1),void 0===C$99o&&(C$99o=-1),void 0===C$99h&&(C$99h=-1),h0xmy.__super.call(this),this._type=3553,this._width=C$99t,this._height=C$99e,this._size=new C$99me(C$99t,C$99e),this._surfaceFormat=C$99i,this._surfaceType=C$99n,this._depthStencilFormat=C$99r,C$99T.isConchWebGL&&34041===this._depthStencilFormat&&(this._depthStencilFormat=33189),this._mipmap=C$99s,this._repeat=C$99a,this._minFifter=C$99o,this._magFifter=C$99h,this.activeResource(),this._alreadyResolved=!0}function qmyx0(){this._materials=null,this._subMeshes=null,this._vertexBuffers=null,this._indexBuffer=null,this._boneNames=null,this._inverseBindPoses=null,this._skinnedDatas=null,qmyx0.__super.call(this),this._subMeshes=[],this._materials=[],this._vertexBuffers=[]}function mhw5_(){this._numberVertices=0,this._numberIndices=0,this._vertexBuffer=null,this._indexBuffer=null,mhw5_.__super.call(this)}function rkbs(){this.simLodInfo=null,this._src=null,this._buffer=null,this._image=null,this._mipmaps=null,this._recreateLock=!1,this._needReleaseAgain=!1,rkbs.__super.call(this),this._type=3553}function tci$(C$99t,C$99e,C$99i,C$99n,C$99r){this._vertexDeclaration=null,this._vertexCount=0,this._canRead=!1,void 0===C$99n&&(C$99n=!1),tci$.__super.call(this),this._vertexDeclaration=C$99t,this._vertexCount=C$99e,this._bufferUsage=C$99i,this._bufferType=34962,this._canRead=C$99n,this.uri=C$99r,this.memorySize=this._byteLength=this._vertexDeclaration.vertexStride*C$99e,this._bind(),C$99u._gl.bufferData(this._bufferType,this._byteLength,this._bufferUsage),C$99n&&(this._buffer=new Float32Array(this._byteLength/4))}var C$99Ye;function eqyx_0(C$99t,C$99e,C$99i,C$99n,C$99r){if(this._indexType=null,this._indexTypeByteCount=0,this._indexCount=0,this._canRead=!1,void 0===C$99i&&(C$99i=35044),void 0===C$99n&&(C$99n=!1),eqyx_0.__super.call(this),this._indexType=C$99t,this._indexCount=C$99e,this._bufferUsage=C$99i,this._bufferType=34963,this._canRead=C$99n,"ushort"==C$99t)this._indexTypeByteCount=2;else{if("ubyte"!=C$99t)throw new Error("unidentification index type.");this._indexTypeByteCount=1}C$99i=this._indexTypeByteCount*C$99e,this._byteLength=C$99i,this._bind(),C$99u._gl.bufferData(this._bufferType,C$99i,this._bufferUsage),this.uri=C$99r,C$99n?("ushort"==C$99t?this._buffer=new Uint16Array(C$99e):"ubyte"==C$99t&&(this._buffer=new Uint8Array(C$99e)),this.memorySize=2*C$99i):this.memorySize=C$99i}var C$99Xe;function rkab(){this._transformUV=null,rkab.__super.call(this),this.setShaderName("SIMPLE"),this._setColor(9,new C$99A(.6,.6,.6)),this._setColor(10,new C$99A(1,1,1)),this._setColor(11,new C$99he(1,1,1,8)),this._setColor(12,new C$99A(1,1,1)),this._setColor(7,new C$99he(1,1,1,1)),this._setNumber(0,.5),this._setColor(15,new C$99he(1,1,0,0)),this.renderMode=1}var C$99Ke;function n83g1r(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){if(this._curActTexIndex=0,this._program=null,this._attributeParams=null,this._uniformParams=null,this._attributeParamsMap=[],this._sceneUniformParamsMap=[],this._cameraUniformParamsMap=[],this._spriteUniformParamsMap=[],this._materialUniformParamsMap=[],this._renderElementUniformParamsMap=[],n83g1r.__super.call(this),!C$99t||!C$99e)throw"Shader Error";this._id=++n83g1r._count,this._vs=C$99t,this._ps=C$99e,this._attributeMap=C$99i,this._sceneUniformMap=C$99n,this._cameraUniformMap=C$99r,this._spriteUniformMap=C$99s,this._materialUniformMap=C$99a,this._renderElementUniformMap=C$99o,this._precompile=C$99h,this._define=C$99l,this._precompile&&n83g1r.extCompileObj&&n83g1r.extCompileFunc?n83g1r.extCompileFunc.call(n83g1r.extCompileObj,C$99t,C$99e,C$99l):this.recreateResource()}function cvt9i2(C$99t){cvt9i2.__super.call(this),this.__loaded=!0,this._projectionViewWorldUpdateLoopCount=-1,this._activeInHierarchy=!1,this._projectionViewWorldMatrix=new C$99ie,this._shaderValues=new C$99de,this._colliders=[],this._id=++cvt9i2._uniqueIDCounter,this._transform=new C$99we(this),this.name=C$99t||"Sprite3D-"+cvt9i2._nameNumberCounter++,this.layer=C$99$.currentCreationLayer,this.active=!0}function my_(){this._time=0,this._enableLightCount=3,this._customRenderQueneIndex=11,this.enableLight=!0,my_.__super.call(this),this._renderState=new C$99Q,this._lights=[],this._quenes=[],this._cameraPool=[],this._renderableSprite3Ds=[],this.__loaded=!0,this._lightmaps=[],this._shaderValues=new C$99de,this.parallelSplitShadowMaps=[],this._dynamicBatchManager=new C$99st,this._cullingRenders=[],this._cullingRendersLength=0,this.enableFog=!1,this.fogStart=300,this.fogRange=1e3,this.fogColor=new C$99A(.7,.7,.7),this.ambientColor=new C$99A(.212,.227,.259),C$99k.shaderHighPrecision&&this.addShaderDefine(C$99Me.SHADERDEFINE_HIGHPRECISION),this.on("display",this,this._display),this.on("undisplay",this,this._unDisplay),this._componentsMap=[],this._typeComponentsIndices=[],this._components=[]}var C$99Ze;function zpf7o(C$99t){zpf7o.__super.call(this,C$99t),C$99t.meshFilter.on("meshchanged",this,this._onMeshChanged)}function pe7zfo(C$99t){this._owner=null,this._sharedMesh=null,pe7zfo.__super.call(this),this._owner=C$99t}var C$99Qe;function _q0e(){_q0e.__super.call(this)}function v$c9(){this._subMeshCount=0,this._boundingBox=null,this._boundingSphere=null,this._boundingBoxCorners=null,this._positions=null,v$c9.__super.call(this),this._boundingBoxCorners=C$99l(8,null)}function gbnjra(){this._type=0,this._width=0,this._height=0,this._size=null,this._repeat=!1,this._mipmap=!1,this._minFifter=0,this._magFifter=0,this._format=0,this._source=null,this._conchTexture=null,this._wrapModeU=0,this._wrapModeV=0,gbnjra.__super.call(this),this._repeat=!0,this.mipmap=!0,this.minFifter=-1,this.magFifter=-1}function bkasu(){bkasu.__super.call(this),this._shaderDefineValue=0,this._disablePublicShaderDefine=0,this._shaderValues=new C$99de,this._values=[],this.renderQueue=2e3,this._alphaTest=!1,this.cull=2,this.blend=0,this.srcBlend=1,this.dstBlend=0,this.srcBlendRGB=1,this.dstBlendRGB=0,this.srcBlendAlpha=1,this.dstBlendAlpha=0,this.blendConstColor=new C$99he(1,1,1,1),this.blendEquation=0,this.blendEquationRGB=0,this.blendEquationAlpha=0,this.depthTest=513,this.depthWrite=!0}var C$99Je;function jbakgr(){this._componentsMap=null,this._typeComponentsIndices=null,this._components=null,this._scripts=null,jbakgr.__super.call(this),this._componentsMap=[],this._typeComponentsIndices=[],this._components=[],this._scripts=[]}function anrbjg(C$99t,C$99e,C$99i,C$99n,C$99r){this._batchOwnerIndices=null,this._batchOwners=null,this._needFinishCombine=!1,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._vertexDeclaration=null,this._vertexBuffer=null,this._indexBuffer=null,anrbjg.__super.call(this,C$99t,C$99e,C$99i),this._batchOwnerIndices=[],this._batchOwners=[],this._needFinishCombine=!1,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._vertexDeclaration=C$99n,this._material=C$99r}function w58316(){w58316.__super.call(this)}function li24(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){for(var C$99a in this._name=NaN,this._attributeMap=null,this._renderElementUniformMap=null,this._materialUniformMap=null,this._spriteUniformMap=null,this._cameraUniformMap=null,this._sceneUniformMap=null,this.sharders=null,this._spriteDefineCounter=3,this._spriteInt2name=[],this._spriteName2Int={},this._materialDefineCounter=1,this._materialInt2name=[],this._materialName2Int={},this._conchShader=null,this._name=C$99t,this._renderElementUniformMap={},this._materialUniformMap={},this._spriteUniformMap={},this._cameraUniformMap={},this._sceneUniformMap={},this.sharders=[],this._spriteInt2name[C$99fe.SHADERDEFINE_RECEIVE_SHADOW]="RECEIVESHADOW",this._spriteInt2name[C$99Ue.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV]="SCALEOFFSETLIGHTINGMAPUV",this._spriteInt2name[C$99Ue.SAHDERDEFINE_LIGHTMAP]="LIGHTMAP",this._spriteInt2name[0]="BONE",this._materialInt2name[C$99De.SHADERDEFINE_ALPHATEST]="ALPHATEST",li24.__super.call(this,C$99t,C$99e,C$99i,null,{}),this._attributeMap=C$99n,C$99r){var C$99o=C$99r[C$99a];switch(C$99o[1]){case 0:this._renderElementUniformMap[C$99a]=C$99o[0];break;case 1:this._materialUniformMap[C$99a]=C$99o[0];break;case 2:this._spriteUniformMap[C$99a]=C$99o[0];break;case 3:this._cameraUniformMap[C$99a]=C$99o[0];break;case 4:this._sceneUniformMap[C$99a]=C$99o[0];break;default:throw new Error("ShaderCompile3D: period is unkonw.")}}}function n1368g(){this._batchIndexStart=0,this._batchIndexEnd=0,this._skinAnimationDatas=null,n1368g.__super.call(this)}function kbar(){this.radius=NaN,this.emitFromShell=!1,kbar.__super.call(this),this.radius=1,this.emitFromShell=!1,this.randomDirection=!1}var C$99ti;function qx7o0e(){this.radius=NaN,this.emitFromShell=!1,qx7o0e.__super.call(this),this.radius=1,this.emitFromShell=!1,this.randomDirection=!1}var C$99ei;function nrj38(){this.angle=NaN,this.radius=NaN,this.length=NaN,this.emitType=0,nrj38.__super.call(this),this.angle=25/180*Math.PI,this.radius=1,this.length=5,this.emitType=0,this.randomDirection=!1}var C$99ii;function vp$d9i(){this.radius=NaN,this.arc=NaN,this.emitFromEdge=!1,vp$d9i.__super.call(this),this.radius=1,this.arc=2*Math.PI,this.emitFromEdge=!1,this.randomDirection=!1}var C$99ni;function ksjrba(){this.x=NaN,this.y=NaN,this.z=NaN,ksjrba.__super.call(this),this.x=1,this.y=1,this.z=1,this.randomDirection=!1}var C$99ri;function zpf(){this._rotation=0,this._matNeedUpdte=!1,zpf.__super.call(this),this._matrix=new C$99ie,this._offset=new C$99oe,this._tiling=new C$99oe(1,1)}function xeo(C$99t){this._owner=null,this._localQuaternionUpdate=!1,this._locaEulerlUpdate=!1,this._localUpdate=!1,this._worldUpdate=!0,this._positionUpdate=!0,this._rotationUpdate=!0,this._scaleUpdate=!0,this._parent=null,this._childs=null,this._dummy=null,this.pivot=null,xeo.__super.call(this),this._localPosition=new C$99A,this._localRotation=new C$99re(0,0,0,1),this._localScale=new C$99A(1,1,1),this._localRotationEuler=new C$99A,this._localMatrix=new C$99ie,this._position=new C$99A,this._rotation=new C$99re(0,0,0,1),this._scale=new C$99A(1,1,1),this._worldMatrix=new C$99ie,this._forward=new C$99A,this._up=new C$99A,this._right=new C$99A,this._owner=C$99t,this._childs=[]}function w5y_mh(C$99t){w5y_mh.__super.call(this),this._id=++w5y_mh._uniqueIDCounter,this._indexInSceneFrustumCullingObjects=-1,this._boundingBox=new C$99Zt(new C$99A,new C$99A),this._boundingBoxCenter=new C$99A,this._boundingSphere=new C$99Jt(new C$99A,0),this._boundingSphereNeedChange=!0,this._boundingBoxNeedChange=!0,this._boundingBoxCenterNeedChange=!0,this._octreeNodeNeedChange=!0,this._materials=[],this._renderElements=[],this._isPartOfStaticBatch=!1,this._destroyed=!1,this._owner=C$99t,this._enable=!0,this._materialsInstance=[],this.lightmapIndex=-1,this.castShadow=!1,this.receiveShadow=!1,this.sortingFudge=0,this._owner.transform.on("worldmatrixneedchanged",this,this._onWorldMatNeedChange)}var C$99a;function t9c24i(){this._destroyed=!1,t9c24i.__super.call(this),this._destroyed=!1}var C$99ye;function _mw5(){this._destroyed=!1,this._id=0,this._enable=!1,this._owner=null,this.started=!1,_mw5.__super.call(this),this._destroyed=!1,this._id=_mw5._uniqueIDCounter,_mw5._uniqueIDCounter++}function kbgrja(C$99t){kbgrja.__super.call(this),this._owner=C$99t,this._childs=[],this._localMatrix=new Float32Array(16),this._localQuaternionUpdate=!1,this._locaEulerlUpdate=!1,this._localUpdate=!1,this._worldUpdate=!0}function m5_6h(){}function m6h_5(){}function _x0eyq(C$99t,C$99e){this._width=0,this._height=0,this._width=C$99t,this._height=C$99e}function bjrksa(){this.distance=NaN,this.trianglePositions=null,this.triangleNormals=null,this.position=null,this.sprite3D=null,this.distance=-1,this.trianglePositions=[new C$99A,new C$99A,new C$99A],this.trianglePositions.length=3,this.triangleNormals=[new C$99A,new C$99A,new C$99A],this.triangleNormals.length=3,this.position=new C$99A}function dz7po(){}function v$9pfd(){}function ajrbsk(){this._data=null,this._data=[]}function oz7fp(){}function jg8r3n(C$99t){this.defineCounter=0,this.defines=null,C$99t?(this.defineCounter=C$99t.defineCounter,this.defines=C$99t.defines.slice()):(this.defineCounter=0,this.defines=[])}function vdp9f$(C$99t){this._mesh=null,this._boneIndicesList=null,this._subIndexBufferStart=null,this._subIndexBufferCount=null,this._skinAnimationDatas=null,this._bufferUsage=null,this._indexInMesh=0,this._vertexBuffer=null,this._vertexStart=0,this._vertexCount=0,this._indexBuffer=null,this._indexStart=0,this._indexCount=0,this._indices=null,this._bufferUsage={},this._mesh=C$99t,this._boneIndicesList=[],this._subIndexBufferStart=[],this._subIndexBufferCount=[]}function _0xqy(C$99t,C$99e,C$99i,C$99n){this.minDepth=0,this.maxDepth=1,this.x=C$99t,this.y=C$99e,this.width=C$99i,this.height=C$99n}function c2t4li(C$99t,C$99e,C$99i,C$99n){this.elements=new Float32Array(4),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=0);var C$99r=this.elements;C$99r[0]=C$99t=void 0===C$99t?0:C$99t,C$99r[1]=C$99e,C$99r[2]=C$99i,C$99r[3]=C$99n}function janb(C$99t,C$99e,C$99i){this.elements=new Float32Array(3),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0);var C$99n=this.elements;C$99n[0]=C$99t=void 0===C$99t?0:C$99t,C$99n[1]=C$99e,C$99n[2]=C$99i}function v$9fpd(C$99t,C$99e){this.elements=new Float32Array(2),void 0===C$99e&&(C$99e=0);var C$99i=this.elements;C$99i[0]=C$99t=void 0===C$99t?0:C$99t,C$99i[1]=C$99e}function mw516h(C$99t,C$99e){this.origin=null,this.direction=null,this.origin=C$99t,this.direction=C$99e}function z07qe(C$99t){if(this._state0U=NaN,this._state0L=NaN,this._state1U=NaN,this._state1L=NaN,!(C$99t instanceof Array)||4!==C$99t.length)throw new Error("Rand:Seed must be an array with 4 numbers");this._state0U=0|C$99t[0],this._state0L=0|C$99t[1],this._state1U=0|C$99t[2],this._state1L=0|C$99t[3]}function bnga(C$99t){this._temp=new Uint32Array(1),this.seeds=new Uint32Array(4),this.seeds[0]=C$99t,this.seeds[1]=1812433253*this.seeds[0]+1,this.seeds[2]=1812433253*this.seeds[1]+1,this.seeds[3]=1812433253*this.seeds[2]+1}function eo07xq(C$99t,C$99e,C$99i,C$99n){this.elements=new Float32Array(4),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=1),this.elements[0]=C$99t=void 0===C$99t?0:C$99t,this.elements[1]=C$99e,this.elements[2]=C$99i,this.elements[3]=C$99n}function kbsr(C$99t,C$99e){this.normal=null,this.distance=NaN,void 0===C$99e&&(C$99e=0),this.normal=C$99t,this.distance=C$99e}function _ymxq(C$99t,C$99e){this.extents=null,this.transformation=null,this.extents=C$99t,this.transformation=C$99e}function ey_x0(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99c,C$99_,C$99u,C$99d,C$99f,C$99p,C$99m){void 0===C$99t&&(C$99t=1),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0),void 0===C$99s&&(C$99s=1),void 0===C$99a&&(C$99a=0),void 0===C$99o&&(C$99o=0),void 0===C$99h&&(C$99h=0),void 0===C$99c&&(C$99c=0),void 0===C$99_&&(C$99_=1),void 0===C$99u&&(C$99u=0),void 0===C$99d&&(C$99d=0),void 0===C$99f&&(C$99f=0),void 0===C$99p&&(C$99p=0),void 0===C$99m&&(C$99m=1);var C$99l=this.elements=new Float32Array(16);C$99l[0]=C$99t,C$99l[1]=C$99e,C$99l[2]=C$99i,C$99l[3]=C$99n,C$99l[4]=C$99r,C$99l[5]=C$99s,C$99l[6]=C$99a,C$99l[7]=C$99o,C$99l[8]=C$99h,C$99l[9]=C$99c,C$99l[10]=C$99_,C$99l[11]=C$99u,C$99l[12]=C$99d,C$99l[13]=C$99f,C$99l[14]=C$99p,C$99l[15]=C$99m}function jgkabr(){var C$99t=this.elements=new Float32Array(9);C$99t[0]=1,C$99t[1]=0,C$99t[2]=0,C$99t[3]=0,C$99t[4]=1,C$99t[5]=0,C$99t[6]=0,C$99t[7]=0,C$99t[8]=1}function $f9d(){}function n8j3gr(){}function jnbgra(C$99t,C$99e){this.center=null,this.radius=NaN,this.center=C$99t,this.radius=C$99e}function dpi$9v(C$99t){this._matrix=null,this._near=null,this._far=null,this._left=null,this._right=null,this._top=null,this._bottom=null,this._matrix=C$99t,this._near=new C$99ne(new C$99A),this._far=new C$99ne(new C$99A),this._left=new C$99ne(new C$99A),this._right=new C$99ne(new C$99A),this._top=new C$99ne(new C$99A),this._bottom=new C$99ne(new C$99A),dpi$9v._getPlanesFromMatrix(this._matrix,this._near,this._far,this._left,this._right,this._top,this._bottom)}function g31n86(C$99t,C$99e){this.min=null,this.max=null,this.min=C$99t,this.max=C$99e}function ywmhx(){}function baksr(){}function yo0xq(){}function dpvf$z(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._version=null,this._strings=["BLOCK","DATA","STRINGS"],this._materials=null,this._subMeshes=null,this._materialMap=null,this._readData=null,this._mesh=null,this._BLOCK={count:0},this._DATA={offset:0,size:0},this._STRINGS={offset:0,size:0},this._shaderAttributes=null,this._mesh=C$99i,this._materials=C$99n,this._subMeshes=C$99r,this._materialMap=C$99s,this._version=C$99e,this._onLoaded(C$99t)}function x0my_q(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l,C$99c,C$99_,C$99u,C$99d){this._cornerTextureCoordinate=null,this._positionStartLifeTime=null,this._velocity=null,this._startColor=null,this._startSize=null,this._startRotation0=null,this._startRotation1=null,this._startRotation2=null,this._startLifeTime=NaN,this._time=NaN,this._startSpeed=NaN,this._randoms0=null,this._randoms1=null,this._simulationWorldPostion=null,this._cornerTextureCoordinate=C$99t,this._positionStartLifeTime=C$99e,this._velocity=C$99i,this._startColor=C$99n,this._startSize=C$99r,this._startRotation0=C$99s,this._startRotation1=C$99a,this._startRotation2=C$99o,this._startLifeTime=C$99h,this._time=C$99l,this._startSpeed=C$99c,this._randoms0=this.random0,this._randoms1=this.random1,this._simulationWorldPostion=C$99d}function pf$vd9(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l,C$99c,C$99_,C$99u,C$99d){this._cornerTextureCoordinate=null,this._positionStartLifeTime=null,this._velocity=null,this._startColor=null,this._startSize=null,this._startRotation0=null,this._startRotation1=null,this._startRotation2=null,this._startLifeTime=NaN,this._time=NaN,this._startSpeed=NaN,this._randoms0=null,this._randoms1=null,this._simulationWorldPostion=null,this._cornerTextureCoordinate=C$99t,this._positionStartLifeTime=C$99e,this._velocity=C$99i,this._startColor=C$99n,this._startSize=C$99r,this._startRotation0=C$99s,this._startRotation1=C$99a,this._startRotation2=C$99o,this._startLifeTime=C$99h,this._time=C$99l,this._startSpeed=C$99c,this._randoms0=this.random0,this._randoms1=this.random1,this._simulationWorldPostion=C$99d}function e_xyq0(C$99t,C$99e){this._position=null,this._textureCoordinate0=null,this._position=C$99t,this._textureCoordinate0=C$99e}function nj3g8r(C$99t,C$99e,C$99i,C$99n){this._position=null,this._normal=null,this._textureCoord0=null,this._textureCoord1=null,this._position=C$99t,this._normal=C$99e,this._textureCoord0=C$99i,this._textureCoord1=C$99n}function zfopd(C$99t,C$99e,C$99i){this._position=null,this._normal=null,this._textureCoordinate=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i}function w8365(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this.binormal=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate0=C$99n,this._textureCoordinate1=C$99r,this._tangent=C$99s,this._blendIndex=C$99a,this._blendWeight=C$99o}function $f9pv(C$99t,C$99e,C$99i){this._position=null,this._normal=null,this._textureCoordinate=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i}function bgjk(C$99t,C$99e,C$99i,C$99n){this._position=null,this._normal=null,this._textureCoordinate=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i,this._tangent=C$99n}function kgrab(C$99t,C$99e,C$99i,C$99n){this._position=null,this._normal=null,this._textureCoordinate=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i,this._tangent=C$99n}function pzvd$(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=null,this._normal=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i,this._tangent=C$99n,this._blendIndex=C$99r,this._blendWeight=C$99s}function nbg3(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=null,this._normal=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i,this._tangent=C$99n,this._blendIndex=C$99r,this._blendWeight=C$99s}function eozfp(C$99t,C$99e,C$99i,C$99n,C$99r){this._position=null,this._normal=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i,this._blendIndex=C$99n,this._blendWeight=C$99r}function kjgr(){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null}function yhw_xm(C$99t,C$99e,C$99i,C$99n,C$99r){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate0=C$99i,this._textureCoordinate1=C$99n,this._tangent=C$99r}function bngj3(){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null}function hw_xy(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate0=C$99i,this._textureCoordinate1=C$99n,this._tangent=C$99r,this._blendIndex=C$99s,this._blendWeight=C$99a}function mh56w_(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate0=C$99i,this._textureCoordinate1=C$99n,this._blendIndex=C$99r,this._blendWeight=C$99s}function xqye(C$99t,C$99e,C$99i,C$99n){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate0=C$99i,this._textureCoordinate1=C$99n}function $p7dz(C$99t,C$99e,C$99i){this._position=null,this._normal=null,this._textureCoordinate=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i}function hymx(C$99t,C$99e,C$99i){this._position=null,this._normal=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._tangent=C$99i}function gj3n8(C$99t,C$99e,C$99i){this._position=null,this._normal=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._tangent=C$99i}function f7dp$(C$99t,C$99e,C$99i,C$99n,C$99r){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate=C$99n,this._tangent=C$99r}function zf$d(C$99t,C$99e,C$99i,C$99n,C$99r){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate=C$99n,this._tangent=C$99r}function xoe70(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate=C$99n,this._tangent=C$99r,this._blendIndex=C$99s,this._blendWeight=C$99a}function bgkra(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate=C$99n,this._tangent=C$99r,this._blendIndex=C$99s,this._blendWeight=C$99a}function g13rn(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate=C$99n,this._blendIndex=C$99r,this._blendWeight=C$99s}function wh165m(){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null}function y0h(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate0=C$99n,this._textureCoordinate1=C$99r,this._tangent=C$99s}function z7eof(){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null}function ezopf(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate0=C$99n,this._textureCoordinate1=C$99r,this._tangent=C$99s,this._blendIndex=C$99a,this._blendWeight=C$99o}function fdzp$v(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate0=C$99n,this._textureCoordinate1=C$99r,this._blendIndex=C$99s,this._blendWeight=C$99a}function h65mw_(C$99t,C$99e,C$99i,C$99n,C$99r){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate0=C$99n,this._textureCoordinate1=C$99r}function jkusa(C$99t,C$99e,C$99i,C$99n){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate=C$99n}function f7oqz(C$99t,C$99e,C$99i,C$99n){this._position=null,this._normal=null,this._color=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._tangent=C$99n}function ye0q_x(C$99t,C$99e,C$99i,C$99n){this._position=null,this._normal=null,this._color=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._tangent=C$99n}function v$pdi9(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=null,this._normal=null,this._color=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._tangent=C$99n,this._blendIndex=C$99r,this._blendWeight=C$99s}function skbja(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=null,this._normal=null,this._color=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._tangent=C$99n,this._blendIndex=C$99r,this._blendWeight=C$99s}function o7zfp(C$99t,C$99e,C$99i,C$99n,C$99r){this._position=null,this._normal=null,this._color=null,this._blendIndex=null,this._blendWeight=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._blendIndex=C$99n,this._blendWeight=C$99r}function x0yqe(C$99t,C$99e,C$99i){this._position=null,this._normal=null,this._color=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i}function nbjr3(C$99t,C$99e){this._position=null,this._normal=null,this._position=C$99t,this._normal=C$99e}function e0zqo7(C$99t){this._position=null,this._position=C$99t}function ey0x_q(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){this._cornerTextureCoordinate=null,this._position=null,this._velocity=null,this._startColor=null,this._endColor=null,this._sizeRotation=null,this._radius=null,this._radian=null,this._ageAddScale=NaN,this._time=NaN,this._cornerTextureCoordinate=C$99t,this._position=C$99e,this._velocity=C$99i,this._startColor=C$99n,this._endColor=C$99r,this._sizeRotation=C$99s,this._radius=C$99a,this._radian=C$99o,this._ageAddScale=C$99h,this._time=C$99l}function w5y_h(C$99t,C$99e,C$99i){this._position=null,this._textureCoordinate0=null,this._time=NaN,this._position=C$99t,this._textureCoordinate0=C$99e,this._time=C$99i}function $7fzd(){}function iv$t9c(){}function g18r(C$99t,C$99e,C$99i){this.offset=0,this.elementFormat=null,this.elementUsage=0,this.offset=C$99t,this.elementFormat=C$99e,this.elementUsage=C$99i}function gabrjn(C$99t,C$99e){if(this._id=0,this._shaderValues=null,this._shaderDefineValue=0,this._vertexStride=0,this._vertexElements=null,this._vertexElementsDic=null,this._id=++gabrjn._uniqueIDCounter,this._id>gabrjn.maxVertexDeclaration)throw new Error("VertexDeclaration: VertexDeclaration count should not large than ",gabrjn.maxVertexDeclaration);this._shaderValues=new C$99de,this._vertexElementsDic={},this._vertexStride=C$99t,this._vertexElements=C$99e;for(var C$99i=0;C$99i<C$99e.length;C$99i++){var C$99n=C$99e[C$99i],C$99r=C$99n.elementUsage;this._vertexElementsDic[C$99r]=C$99n;C$99n=[gabrjn._getTypeSize(C$99n.elementFormat)/4,5126,!1,this._vertexStride,C$99n.offset];switch(this._shaderValues.setValue(C$99r,C$99n),C$99r){case 1:this._addShaderDefine(C$99Me.SHADERDEFINE_COLOR);break;case 2:this._addShaderDefine(C$99Me.SHADERDEFINE_UV0);break;case 15:this._addShaderDefine(C$99Me.SHADERDEFINE_UV1)}}}var C$99s;function bn3(C$99t,C$99e,C$99i){this._combineRenderElementPoolIndex=0,this._combineRenderElementPool=null,this._initBatchRenderElements=null,this._batchRenderElements=null,this._material=null,this._rootOwner=null,this._key=null,this._manager=null,this._key=C$99t,this._manager=C$99e,this._combineRenderElementPoolIndex=0,this._combineRenderElementPool=[],this._initBatchRenderElements=[],this._batchRenderElements=[],this._rootOwner=C$99i}function rbngj(){this._initBatchRenderElements=null,this._staticBatches=null,this._initBatchRenderElements=[],this._staticBatches={}}function sjbkr(){}function oeq0xy(){this._dynamicBatches=null,this._prepareDynamicBatchCombineElements=null,this._dynamicBatches={},this._prepareDynamicBatchCombineElements=[]}function cdi(C$99t){this._vertexDeclaration=null,this._vertexDatas=null,this._indexDatas=null,this._vertexBuffer=null,this._indexBuffer=null,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._combineRenderElements=null,this._materials=null,this._materialToRenderElementsOffsets=null,this._merageElements=null,this._combineRenderElementPool=null,this._combineRenderElementPoolIndex=0,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._combineRenderElements=[],this._materialToRenderElementsOffsets=[],this._materials=[],this._merageElements=[],this._combineRenderElementPool=[],this._combineRenderElementPoolIndex=0,this._vertexDeclaration=C$99t}function n6835(){}function r8jgn3(C$99t){this._id=0,this._owner=null,this._camera=null,this._vertexBuffers=null,this._verticesCount=0,this._virtualVerticesCount=0,this._maxVerticesCount=256,this._vertices1=null,this._vertexBuffer1=null,this._floatCountPerVertices1=8,this._verticesIndex1=0,this._everyAddVerticeCount1=0,this._delLength=0,this._vertices2=null,this._vertexBuffer2=null,this._floatCountPerVertices2=1,this._everyGroupVertexBirthTime=null,this._VerticesToTailLength=null,this._everyVertexToPreVertexDistance=null,this._pointe=null,this._pointAtoBVector3e=null,this._isStart=!1,this._isFinish=!1,this._isDead=!1,this._curtime=NaN,this._curDisappearIndex=0,this._lastPosition=new C$99A,this._curPosition=new C$99A,this._delVector3=new C$99A,this._lastFixedVertexPosition=new C$99A,this._pointAtoBVector3=new C$99A,this._pointA=new C$99A,this._pointB=new C$99A,this._owner=C$99t,this._id=r8jgn3.renderElementCount++,(0==this._id?C$99t._owner.transform.position:C$99t._curSubTrailFinishPosition).cloneTo(this._lastPosition),this._everyGroupVertexBirthTime=[],this._VerticesToTailLength=new Float32Array(this._maxVerticesCount),this._everyVertexToPreVertexDistance=new Float32Array(this._maxVerticesCount),this._vertices1=new Float32Array(this._maxVerticesCount*this._floatCountPerVertices1),this._vertices2=new Float32Array(this._maxVerticesCount*this._floatCountPerVertices2),this._vertexBuffer1=new C$99Be(C$99nt.vertexDeclaration1,this._maxVerticesCount,35044,!0),this._vertexBuffer2=new C$99Be(C$99nt.vertexDeclaration2,this._maxVerticesCount,35044,!0),this._vertexBuffers=[],this._vertexBuffers.push(this._vertexBuffer1),this._vertexBuffers.push(this._vertexBuffer2)}function qzeo7f(){this.time=NaN,this.inTangent=NaN,this.outTangent=NaN,this.value=NaN}function $fpzd(){}function fd7p$(){}function $9tvic(C$99t,C$99e){this._color=null,this._time=NaN,void 0===C$99e&&(C$99e=0),this._color=C$99t||new C$99tt,this._time=C$99e}function iv9$c(C$99t,C$99e){this._alpha=NaN,this._time=NaN,void 0===C$99e&&(C$99e=0),this._alpha=C$99t=void 0===C$99t?0:C$99t,this._time=C$99e}function g8361n(){this._mode=0,this._colorKeys=null,this._alphaKeys=null,this.index=0,this._colorKeyData=new Float32Array(40),this._alphaKeyData=new Float32Array(20),this._colorKeys=[],this._alphaKeys=[]}function yq0x(C$99t,C$99e,C$99i,C$99n){this._r=NaN,this._g=NaN,this._b=NaN,this._a=NaN,void 0===C$99e&&(C$99e=1),void 0===C$99i&&(C$99i=1),void 0===C$99n&&(C$99n=1),this._r=C$99t=void 0===C$99t?1:C$99t,this._g=C$99e,this._b=C$99i,this._a=C$99n}function pvd$z(C$99t,C$99e){this._exactBox=null,this._relaxBox=null,this._scene=null,this._parent=null,this._currentDepth=0,this._boundingSphere=new C$99Jt(new C$99A,0),this._corners=[new C$99A,new C$99A,new C$99A,new C$99A,new C$99A,new C$99A,new C$99A,new C$99A],this._boundingBoxCenter=new C$99A,this._children=C$99l(8),this._objects=[],this._tempBoundBoxCorners=[new C$99A,new C$99A,new C$99A,new C$99A,new C$99A,new C$99A,new C$99A,new C$99A],this._scene=C$99t,this._currentDepth=C$99e}function o0xq(){this._staticBatch=null,this._batchIndexStart=0,this._batchIndexEnd=0,this._viewMatrix=null,this._projectionMatrix=null,this._projectionViewMatrix=null,this._viewport=null,this._shader=null,this.elapsedTime=NaN,this.scene=null,this.owner=null,this.renderElement=null,this.camera=null}function dpvfz$(C$99t){this._id=0,this._needSort=!1,this._renderElements=null,this._renderableRenderObjects=null,this._dynamicBatchCombineRenderElements=null,this._finalElements=null,this._scene=null,this._id=++dpvfz$._uniqueIDCounter,this._needSort=!1,this._scene=C$99t,this._renderElements=[],this._renderableRenderObjects=[],this._dynamicBatchCombineRenderElements=[],this._errorRecord={}}function $d9(){this._id=0,this._type=0,this._mainSortID=0,this._render=null,this._sprite3D=null,this._material=null,this._renderObj=null,this._staticBatch=null,this._tempBatchIndexStart=0,this._tempBatchIndexEnd=0,this._canDynamicBatch=!1,this._shaderValue=null,this._onPreRenderFunction=null,this._id=++$d9._uniqueIDCounter,this._canDynamicBatch=!0,this._shaderValue=new C$99de}function asrbjk(){this._tempInt0=0,this._tempInt1=0,this._tempUint0=0,this._tempUint1=0,this._tempUint2=0,this._tempUint3=0,this._tempUint4=0,this._tempUint5=0,this._tempUint6=0,this._tempUint7=0,this._tempNumver0=NaN,this._tempNumver1=NaN,this._tempNumver2=NaN,this._tempNumver3=NaN,this._floatSizePerVer=7,this._defaultBufferSize=600*this._floatSizePerVer,this._vb=null,this._posInVBData=0,this._ib=null,this._posInIBData=0,this._primitiveType=NaN,this._hasBegun=!1,this._numVertsPerPrimitive=0,this._camera=null,this._sharderNameID=0,this._shader=null,this._shaderCompile=null,this._vbData=new Float32Array(this._defaultBufferSize),this._ibData=new Uint16Array(this._defaultBufferSize),this._spriteShaderValue=new C$99de,this._vb=C$99Be.create(asrbjk._vertexDeclaration,this._defaultBufferSize/this._floatSizePerVer,35048),this._ib=C$99ke.create("ushort",this._defaultBufferSize,35048),this._sharderNameID=C$99Le.nameKey.getID("LINE"),this._shaderCompile=C$99Me._preCompileShader[this._sharderNameID]}function $pv9(C$99t){this._velocity=null,this.enbale=!1,this.space=0,this._velocity=C$99t}function mq_x0y(C$99t,C$99e){this._frame=null,this._startFrame=null,this.tiles=null,this.type=0,this.randomRow=!1,this.rowIndex=0,this.cycles=0,this.enableUVChannels=0,this.enable=!1,this.tiles=new C$99oe(1,1),this.type=0,this.randomRow=!0,this.rowIndex=0,this.cycles=1,this.enableUVChannels=1,this._frame=C$99t,this._startFrame=C$99e}function abgkjr(){this._type=0,this._constant=NaN,this._constantMin=NaN,this._constantMax=NaN}function jubak(C$99t){this._size=null,this.enbale=!1,this._size=C$99t}var C$99n;function rbn3(){}function h0y(){this.enable=!1,this.randomDirection=!1}function eofzp(C$99t){this._angularVelocity=null,this.enbale=!1,this._angularVelocity=C$99t}function ipvd9$(){this._type=0,this._constant=null,this._gradientX=null,this._gradientY=null,this._gradientZ=null,this._constantMin=null,this._constantMax=null,this._gradientXMin=null,this._gradientXMax=null,this._gradientYMin=null,this._gradientYMax=null,this._gradientZMin=null,this._gradientZMax=null}function o7fpd(){this._type=0,this._separateAxes=!1,this._gradient=null,this._gradientX=null,this._gradientY=null,this._gradientZ=null,this._constantMin=NaN,this._constantMax=NaN,this._constantMinSeparate=null,this._constantMaxSeparate=null,this._gradientMin=null,this._gradientMax=null,this._gradientXMin=null,this._gradientXMax=null,this._gradientYMin=null,this._gradientYMax=null,this._gradientZMin=null,this._gradientZMax=null}function t9vci$(){this._currentLength=0,this._elements=null,this._elements=new Float32Array(12)}function t4c29(){this._currentLength=0,this._elements=null,this._elements=new Float32Array(8)}function _5w6hm(){this._currentLength=0,this._elements=null,this._elements=new Float32Array(8)}function pv9d$i(){this._alphaCurrentLength=0,this._rgbCurrentLength=0,this._alphaElements=null,this._rgbElements=null,this._alphaElements=new Float32Array(8),this._rgbElements=new Float32Array(16)}function e0xqoy(){this._type=0,this._constant=null,this._constantMin=null,this._constantMax=null,this._gradient=null,this._gradientMin=null,this._gradientMax=null}function iv$ct9(){this._type=0,this._separateAxes=!1,this._constant=NaN,this._constantSeparate=null,this._gradient=null,this._gradientX=null,this._gradientY=null,this._gradientZ=null,this._gradientW=null,this._constantMin=NaN,this._constantMax=NaN,this._constantMinSeparate=null,this._constantMaxSeparate=null,this._gradientMin=null,this._gradientMax=null,this._gradientXMin=null,this._gradientXMax=null,this._gradientYMin=null,this._gradientYMax=null,this._gradientZMin=null,this._gradientZMax=null,this._gradientWMin=null,this._gradientWMax=null}function pvdi$(){this._type=0,this._constant=0,this._overTime=null,this._constantMin=0,this._constantMax=0,this._overTimeMin=null,this._overTimeMax=null}function _6hw(){this._destroyed=!1,this._emissionRate=0,this._bursts=null,this.enbale=!1,this._destroyed=!1,this.emissionRate=10,this._bursts=[]}function w158h6(C$99t){this._color=null,this.enbale=!1,this._color=C$99t}function ep7f(C$99t,C$99e,C$99i){this._time=NaN,this._minCount=0,this._maxCount=0,this._time=C$99t,this._minCount=C$99e,this._maxCount=C$99i}function $pfvd9(){this._visible=!0,this._nonRigidbodyOffset=0,this._colliders=[]}function abrjks(C$99t,C$99e,C$99i,C$99n){this._datas=null,this._w=0,this._h=0,this._minHeight=NaN,this._maxHeight=NaN,this._datas=[],this._w=C$99t,this._h=C$99e,this._minHeight=C$99i,this._maxHeight=C$99n}function w6_mh(){this._tempVector30=new C$99A,this._tempVector31=new C$99A,this._tempVector32=new C$99A,this._a=new C$99A,this._b=new C$99A,this._c=new C$99A,this._d=new C$99A}function oz7q(){this._cacheProperty=!1,this.path=null,this.componentType=null,this.propertyNameID=0,this.keyFrameWidth=0,this.defaultData=null,this.keyFrames=null}function $pvfd(){this.startTime=NaN,this.inTangent=null,this.outTangent=null,this.data=null,this.duration=NaN,this.next=null}function hxy0_(){this._childs=[],this.transform=new C$99xe(this)}var C$99i;function jnragb(){this.time=NaN,this.eventName=null,this.params=null}}(window,(document,tepfz7)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$99t,C$99e){"use strict";for(var C$99i in Object.defineProperty(C$99e,"__esModule",{value:!0}),tepfz7){var C$99n=tepfz7[C$99i];C$99n&&C$99n.__isclass&&(C$99e[C$99i]=C$99n)}}),function(C$99R){C$99R.un,C$99R.uns;var C$99t=C$99R.static,C$99e=C$99R.class,C$99i=C$99R.getset,C$99p=C$99R.__newvec,C$99s=laya.maths.Bezier,C$99c=laya.utils.Browser,C$99Et=laya.utils.Byte,C$99n=(laya.events.Event,laya.events.EventDispatcher),C$99a=laya.display.Graphics,C$99o=(laya.resource.HTMLCanvas,laya.utils.Handler),C$99h=laya.net.Loader,C$99_=laya.maths.MathUtil,C$99Dt=laya.maths.Matrix,C$99l=(laya.display.Node,laya.maths.Point,laya.maths.Rectangle,laya.renders.Render),C$99u=(laya.renders.RenderContext,laya.resource.Resource),C$99d=laya.utils.RunDriver,C$99P=laya.display.Sprite,C$99f=laya.utils.Stat,C$99At=laya.resource.Texture,C$99m=(laya.net.URL,laya.utils.Utils),C$99C=(C$99e(rsajb,"laya.ani.AnimationContent"),rsajb),C$99D=(C$99e(zdfop7,"laya.ani.AnimationNodeContent"),zdfop7),C$99g=(C$99e(yxhmw_,"laya.ani.AnimationParser01"),yxhmw_.parse=function(C$99t,C$99e){var C$99c,C$99_=C$99e.__getBuffer(),C$99u=0,C$99d=0,C$99i=0,C$99n=0,C$99f=0,C$99r=0,C$99p=C$99e.readUTFString();C$99t._aniClassName=C$99p;var C$99m,C$99g=C$99e.readUTFString().split("\n"),C$99v=C$99e.getUint8(),C$99p=C$99e.getUint32(),C$99x=C$99e.getUint32();0<C$99p&&(C$99m=C$99_.slice(C$99p,C$99x));var C$99y=new C$99Et(C$99m);for(0<C$99x&&(C$99t._publicExtData=C$99_.slice(C$99x,C$99_.byteLength)),C$99t._useParent=!!C$99e.getUint8(),C$99t._anis.length=C$99v,C$99u=0;C$99u<C$99v;C$99u++){var C$99s=C$99t._anis[C$99u]=new C$99C;C$99s.nodes=[];var C$99b=C$99s.name=C$99g[C$99e.getUint16()];C$99t._aniMap[C$99b]=C$99u,C$99s.bone3DMap={},C$99s.playTime=C$99e.getFloat32(),C$99s.playTime<=0&&console.error("\u64ad\u653e\u65f6\u95f4\u4e0d\u80fd\u4e3a0  url="+C$99t.url+" name="+C$99s.name);var C$99w=C$99s.nodes.length=C$99e.getUint8();for(C$99d=C$99s.totalKeyframeDatasLength=0;C$99d<C$99w;C$99d++){var C$99a=C$99s.nodes[C$99d]=new C$99D;C$99a.childs=[];var C$99o=C$99e.getInt16();0<=C$99o&&(C$99a.name=C$99g[C$99o],C$99s.bone3DMap[C$99a.name]=C$99d),C$99a.keyFrame=[],C$99a.parentIndex=C$99e.getInt16(),-1==C$99a.parentIndex?C$99a.parent=null:C$99a.parent=C$99s.nodes[C$99a.parentIndex],C$99a.lerpType=C$99e.getUint8();C$99o=C$99e.getUint32();C$99y.pos=C$99o;var C$99h=C$99a.keyframeWidth=C$99y.getUint16();if(C$99s.totalKeyframeDatasLength+=C$99h,0===C$99a.lerpType||1===C$99a.lerpType)for(C$99a.interpolationMethod=[],C$99a.interpolationMethod.length=C$99h,C$99i=0;C$99i<C$99h;C$99i++)C$99a.interpolationMethod[C$99i]=C$99A.interpolation[C$99y.getUint8()];null!=C$99a.parent&&C$99a.parent.childs.push(C$99a);C$99o=C$99e.getUint16();0<C$99o&&(C$99a.extenData=C$99_.slice(C$99e.pos,C$99e.pos+C$99o),C$99e.pos+=C$99o);var C$99l,C$99o=C$99e.getUint16(),C$99T=0;for(C$99i=0,C$99c=C$99a.keyFrame.length=C$99o;C$99i<C$99c;C$99i++){if((C$99l=C$99a.keyFrame[C$99i]=new C$99E).duration=C$99e.getFloat32(),C$99l.startTime=C$99T,2===C$99a.lerpType){C$99l.interpolationData=[];var C$99M,C$99S=C$99e.getUint8();switch(C$99M=C$99e.getFloat32()){case 254:for(C$99l.interpolationData.length=C$99h,C$99r=0;C$99r<C$99h;C$99r++)C$99l.interpolationData[C$99r]=0;break;case 255:for(C$99l.interpolationData.length=C$99h,C$99r=0;C$99r<C$99h;C$99r++)C$99l.interpolationData[C$99r]=5;break;default:for(C$99l.interpolationData.push(C$99M),C$99f=1;C$99f<C$99S;C$99f++)C$99l.interpolationData.push(C$99e.getFloat32())}}for(C$99l.data=new Float32Array(C$99h),C$99n=0;C$99n<C$99h;C$99n++)C$99l.data[C$99n]=C$99e.getFloat32(),-1e-8<C$99l.data[C$99n]&&C$99l.data[C$99n]<1e-8&&(C$99l.data[C$99n]=0);C$99T+=C$99l.duration}C$99l.startTime=C$99s.playTime,C$99a.playTime=C$99s.playTime,C$99t._calculateKeyFrame(C$99a,C$99o,C$99h)}}},yxhmw_),C$99v=(C$99e(fepzo,"laya.ani.AnimationParser02"),fepzo.READ_DATA=function(){fepzo._DATA.offset=fepzo._reader.getUint32(),fepzo._DATA.size=fepzo._reader.getUint32()},fepzo.READ_BLOCK=function(){for(var C$99t=fepzo._BLOCK.count=fepzo._reader.getUint16(),C$99e=fepzo._BLOCK.blockStarts=[],C$99i=fepzo._BLOCK.blockLengths=[],C$99n=0;C$99n<C$99t;C$99n++)C$99e.push(fepzo._reader.getUint32()),C$99i.push(fepzo._reader.getUint32())},fepzo.READ_STRINGS=function(){var C$99t=fepzo._reader.getUint32(),C$99e=fepzo._reader.getUint16(),C$99i=fepzo._reader.pos;fepzo._reader.pos=C$99t+fepzo._DATA.offset;for(var C$99n=0;C$99n<C$99e;C$99n++)fepzo._strings[C$99n]=fepzo._reader.readUTFString();fepzo._reader.pos=C$99i},fepzo.parse=function(C$99t,C$99e){fepzo._templet=C$99t,(fepzo._reader=C$99e).__getBuffer(),fepzo.READ_DATA(),fepzo.READ_BLOCK(),fepzo.READ_STRINGS();for(var C$99i=0,C$99n=fepzo._BLOCK.count;C$99i<C$99n;C$99i++){var C$99r=C$99e.getUint16(),C$99s=fepzo._strings[C$99r],C$99a=fepzo["READ_"+C$99s];if(null==C$99a)throw new Error("model file err,no this function:"+C$99r+" "+C$99s);C$99a.call()}},fepzo.READ_ANIMATIONS=function(){var C$99c,C$99t=fepzo._reader,C$99_=C$99t.__getBuffer(),C$99e=0,C$99i=0,C$99n=0,C$99r=C$99t.getUint16(),C$99u=[];for(C$99u.length=C$99r,C$99e=0;C$99e<C$99r;C$99e++)C$99u[C$99e]=C$99A.interpolation[C$99t.getByte()];var C$99d=C$99t.getUint8();for(fepzo._templet._anis.length=C$99d,C$99e=0;C$99e<C$99d;C$99e++){var C$99s=fepzo._templet._anis[C$99e]={};C$99s.nodes=[];var C$99f=C$99s.name=fepzo._strings[C$99t.getUint16()];fepzo._templet._aniMap[C$99f]=C$99e,C$99s.bone3DMap={},C$99s.playTime=C$99t.getFloat32();var C$99p=C$99s.nodes.length=C$99t.getInt16();for(C$99i=C$99s.totalKeyframeDatasLength=0;C$99i<C$99p;C$99i++){var C$99a=C$99s.nodes[C$99i]={};C$99a.keyframeWidth=C$99r,C$99a.childs=[];var C$99o=C$99t.getUint16();0<=C$99o&&(C$99a.name=fepzo._strings[C$99o],C$99s.bone3DMap[C$99a.name]=C$99i),C$99a.keyFrame=[],C$99a.parentIndex=C$99t.getInt16(),-1==C$99a.parentIndex?C$99a.parent=null:C$99a.parent=C$99s.nodes[C$99a.parentIndex],C$99s.totalKeyframeDatasLength+=C$99r,C$99a.interpolationMethod=C$99u,null!=C$99a.parent&&C$99a.parent.childs.push(C$99a);var C$99o=C$99t.getUint16(),C$99h=null,C$99l=null;for(C$99n=0,C$99c=C$99a.keyFrame.length=C$99o;C$99n<C$99c;C$99n++){(C$99h=C$99a.keyFrame[C$99n]={}).startTime=C$99t.getFloat32(),C$99l&&(C$99l.duration=C$99h.startTime-C$99l.startTime);var C$99m=fepzo._DATA.offset,C$99g=C$99t.getUint32(),C$99m=C$99_.slice(C$99m+C$99g,C$99m+C$99g+4*C$99r);C$99h.data=new Float32Array(C$99m),C$99l=C$99h}C$99h.duration=0,C$99a.playTime=C$99s.playTime,fepzo._templet._calculateKeyFrame(C$99a,C$99o,C$99r)}}},fepzo._templet=null,fepzo._reader=null,fepzo._strings=[],C$99t(fepzo,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]),fepzo),C$99It=(C$99e(njgabr,"laya.ani.AnimationState"),njgabr.stopped=0,njgabr.paused=1,njgabr.playing=2,C$99e(fzvdp$,"laya.ani.bone.Bone"),(C$99r=fzvdp$.prototype).setTempMatrix=function(C$99t){this._tempMatrix=C$99t;var C$99e,C$99i=0;for(C$99i=0,C$99e=this._children.length;C$99i<C$99e;C$99i++)this._children[C$99i].setTempMatrix(this._tempMatrix)},C$99r.update=function(C$99t){var C$99e;var C$99i,C$99n,C$99r,C$99s,C$99a,C$99o;this.rotation=this.transform.skX,C$99t?(C$99e=this.resultTransform.getMatrix(),C$99Dt.mul(C$99e,C$99t,this.resultMatrix),this.resultRotation=this.rotation):(this.resultRotation=this.rotation+this.parentBone.resultRotation,this.parentBone?this.inheritRotation&&this.inheritScale?(C$99e=this.resultTransform.getMatrix(),C$99Dt.mul(C$99e,this.parentBone.resultMatrix,this.resultMatrix)):(C$99t=this.parentBone,C$99r=C$99n=C$99i=NaN,C$99a=this.parentBone.resultMatrix,C$99e=this.resultTransform.getMatrix(),C$99s=C$99a.a*C$99e.tx+C$99a.c*C$99e.ty+C$99a.tx,C$99a=C$99a.b*C$99e.tx+C$99a.d*C$99e.ty+C$99a.ty,C$99o=new C$99Dt,this.inheritRotation?(C$99i=Math.atan2(C$99t.resultMatrix.b,C$99t.resultMatrix.a),C$99n=Math.cos(C$99i),C$99r=Math.sin(C$99i),C$99o.setTo(C$99n,C$99r,-C$99r,C$99n,0,0),C$99Dt.mul(this._tempMatrix,C$99o,C$99Dt.TEMP),C$99Dt.TEMP.copyTo(C$99o),C$99e=this.resultTransform.getMatrix(),C$99Dt.mul(C$99e,C$99o,this.resultMatrix),this.resultTransform.scX*this.resultTransform.scY<0&&this.resultMatrix.rotate(.5*Math.PI)):(this.inheritScale,C$99e=this.resultTransform.getMatrix(),C$99Dt.TEMP.identity(),C$99Dt.TEMP.d=this.d,C$99Dt.mul(C$99e,C$99Dt.TEMP,this.resultMatrix)),this.resultMatrix.tx=C$99s,this.resultMatrix.ty=C$99a):(C$99e=this.resultTransform.getMatrix()).copyTo(this.resultMatrix));var C$99h,C$99l=0;for(C$99l=0,C$99h=this._children.length;C$99l<C$99h;C$99l++)this._children[C$99l].update()},C$99r.updateChild=function(){var C$99t,C$99e=0;for(C$99e=0,C$99t=this._children.length;C$99e<C$99t;C$99e++)this._children[C$99e].update()},C$99r.setRotation=function(C$99t){this._sprite&&(this._sprite.rotation=180*C$99t/Math.PI)},C$99r.updateDraw=function(C$99t,C$99e){fzvdp$.ShowBones&&!fzvdp$.ShowBones[this.name]||(this._sprite||(this._sprite=new C$99P,this._sprite.graphics.drawCircle(0,0,5,"#ff0000"),this._sprite.graphics.drawLine(0,0,this.length,0,"#00ff00"),this._sprite.graphics.fillText(this.name,0,0,"20px Arial","#00ff00","center"),C$99R.stage.addChild(this._sprite)),this._sprite.x=C$99t+this.resultMatrix.tx,this._sprite.y=C$99e+this.resultMatrix.ty);var C$99i,C$99n=0;for(C$99n=0,C$99i=this._children.length;C$99n<C$99i;C$99n++)this._children[C$99n].updateDraw(C$99t,C$99e)},C$99r.addChild=function(C$99t){this._children.push(C$99t),C$99t.parentBone=this},C$99r.findBone=function(C$99t){if(this.name==C$99t)return this;var C$99e,C$99i,C$99n=0;for(C$99n=0,C$99e=this._children.length;C$99n<C$99e;C$99n++)if(C$99i=this._children[C$99n].findBone(C$99t))return C$99i;return null},C$99r.localToWorld=function(C$99t){var C$99e=C$99t[0],C$99i=C$99t[1];C$99t[0]=C$99e*this.resultMatrix.a+C$99i*this.resultMatrix.c+this.resultMatrix.tx,C$99t[1]=C$99e*this.resultMatrix.b+C$99i*this.resultMatrix.d+this.resultMatrix.ty},fzvdp$.ShowBones={},fzvdp$),C$99Rt=(C$99e(x0qye_,"laya.ani.bone.BoneSlot"),(C$99r=x0qye_.prototype).showSlotData=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!0),this.currSlotData=C$99t,C$99e&&(this.displayIndex=this.srcDisplayIndex),this.currDisplayData=null,this.currTexture=null},C$99r.showDisplayByName=function(C$99t){this.currSlotData&&this.showDisplayByIndex(this.currSlotData.getDisplayByName(C$99t))},C$99r.replaceDisplayByName=function(C$99t,C$99e){this.currSlotData&&(C$99t=this.currSlotData.getDisplayByName(C$99t),C$99e=this.currSlotData.getDisplayByName(C$99e),this.replaceDisplayByIndex(C$99t,C$99e))},C$99r.replaceDisplayByIndex=function(C$99t,C$99e){this.currSlotData&&(this._replaceDic[C$99t]=C$99e,this.displayIndex==C$99t&&this.showDisplayByIndex(C$99t))},C$99r.showDisplayByIndex=function(C$99t){null!=this._replaceDic[C$99t]&&(C$99t=this._replaceDic[C$99t]),this.currSlotData&&-1<C$99t&&C$99t<this.currSlotData.displayArr.length?(this.displayIndex=C$99t,this.currDisplayData=this.currSlotData.displayArr[C$99t],this.currDisplayData&&(C$99t=this.currDisplayData.name,this.currTexture=this.templet.getTexture(C$99t),this.currTexture&&0==this.currDisplayData.type&&this.currDisplayData.uvs&&(!C$99l.isConchApp||C$99l.isConchApp&&"0.9.15"<C$99P.RUNTIMEVERION)&&(this.currTexture=this.currDisplayData.createTexture(this.currTexture)))):(this.displayIndex=-1,this.currDisplayData=null,this.currTexture=null)},C$99r.replaceSkin=function(C$99t){this._diyTexture=C$99t,this._curDiyUV&&(this._curDiyUV.length=0),this.currDisplayData&&this._diyTexture==this.currDisplayData.texture&&(this._diyTexture=null)},C$99r.setParentMatrix=function(C$99t){this._parentMatrix=C$99t},C$99r.draw=function(C$99t,C$99e,C$99i,C$99n){if(void 0===C$99i&&(C$99i=!1),void 0===C$99n&&(C$99n=1),(null!=this._diyTexture||null!=this.currTexture)&&null!=this.currDisplayData||this.currDisplayData&&3==this.currDisplayData.type){var C$99r,C$99s=this.currTexture;switch(this._diyTexture&&(C$99s=this._diyTexture),this.currDisplayData.type){case 0:C$99t&&(C$99o=this.getDisplayMatrix(),this._parentMatrix&&(C$99a=!1,C$99o&&(C$99Dt.mul(C$99o,this._parentMatrix,C$99Dt.TEMP),C$99o=C$99i?(null==this._resultMatrix&&(this._resultMatrix=new C$99Dt),this._resultMatrix):new C$99Dt,!C$99l.isWebGL&&this.currDisplayData.uvs||C$99l.isWebGL&&this._diyTexture&&this.currDisplayData.uvs?((C$99h=x0qye_._tempMatrix).identity(),this.currDisplayData.uvs[1]>this.currDisplayData.uvs[5]&&(C$99h.d=-1),this.currDisplayData.uvs[0]>this.currDisplayData.uvs[4]&&this.currDisplayData.uvs[1]>this.currDisplayData.uvs[5]&&(C$99a=!0,C$99h.rotate(-Math.PI/2)),C$99Dt.mul(C$99h,C$99Dt.TEMP,C$99o)):C$99Dt.TEMP.copyTo(C$99o),C$99a?C$99t.drawTexture(C$99s,-this.currDisplayData.height/2,-this.currDisplayData.width/2,this.currDisplayData.height,this.currDisplayData.width,C$99o):C$99t.drawTexture(C$99s,-this.currDisplayData.width/2,-this.currDisplayData.height/2,this.currDisplayData.width,this.currDisplayData.height,C$99o))));break;case 1:if(null==(C$99r=C$99i?(null==this._skinSprite&&(this._skinSprite=x0qye_.createSkinMesh()),this._skinSprite):x0qye_.createSkinMesh()))return;var C$99a,C$99o,C$99h;null==this.currDisplayData.bones?(C$99h=this.currDisplayData.weights,this.deformData&&(C$99h=this.deformData),C$99a=this._diyTexture?(this._curDiyUV||(this._curDiyUV=[]),0==this._curDiyUV.length&&(this._curDiyUV=C$99w.getRelativeUV(this.currTexture.uv,this.currDisplayData.uvs,this._curDiyUV),this._curDiyUV=C$99w.getAbsoluteUV(this._diyTexture.uv,this._curDiyUV,this._curDiyUV)),this._curDiyUV):this.currDisplayData.uvs,this._mVerticleArr=C$99h,this.currDisplayData.triangles.length,C$99o=this.currDisplayData.triangles,C$99r.init2(C$99s,null,C$99o,this._mVerticleArr,C$99a),C$99h=this.getDisplayMatrix(),this._parentMatrix&&C$99h&&(C$99Dt.mul(C$99h,this._parentMatrix,C$99Dt.TEMP),C$99o=C$99i?(null==this._resultMatrix&&(this._resultMatrix=new C$99Dt),this._resultMatrix):new C$99Dt,C$99Dt.TEMP.copyTo(C$99o),C$99r.transform=C$99o)):this.skinMesh(C$99e,C$99r,C$99n),C$99t.drawSkin(C$99r);break;case 2:if(null==(C$99r=C$99i?(null==this._skinSprite&&(this._skinSprite=x0qye_.createSkinMesh()),this._skinSprite):x0qye_.createSkinMesh()))return;this.skinMesh(C$99e,C$99r,C$99n),C$99t.drawSkin(C$99r)}}},C$99r.skinMesh=function(C$99c,C$99_,C$99u){var C$99d,C$99f=this.currTexture,C$99t=this.currDisplayData.bones;C$99d=this._diyTexture?(C$99f=this._diyTexture,this._curDiyUV||(this._curDiyUV=[]),0==this._curDiyUV.length&&(this._curDiyUV=C$99w.getRelativeUV(this.currTexture.uv,this.currDisplayData.uvs,this._curDiyUV),this._curDiyUV=C$99w.getAbsoluteUV(this._diyTexture.uv,this._curDiyUV,this._curDiyUV)),this._curDiyUV):this.currDisplayData.uvs;var C$99e,C$99i=this.currDisplayData.weights,C$99p=this.currDisplayData.triangles,C$99n=0,C$99r=0,C$99m=0,C$99s=NaN,C$99a=NaN,C$99o=0,C$99h=0,C$99g=[],C$99l=0,C$99v=0;if(this.deformData&&0<this.deformData.length){var C$99x=0;for(C$99l=0,C$99v=C$99t.length;C$99l<C$99v;){for(C$99m=C$99t[C$99l++]+C$99l,C$99r=C$99n=0;C$99l<C$99m;C$99l++)C$99e=C$99c[C$99t[C$99l]],C$99s=C$99i[C$99o]+this.deformData[C$99x++],C$99a=C$99i[C$99o+1]+this.deformData[C$99x++],C$99h=C$99i[C$99o+2],C$99n+=(C$99s*C$99e.a+C$99a*C$99e.c+C$99e.tx)*C$99h,C$99r+=(C$99s*C$99e.b+C$99a*C$99e.d+C$99e.ty)*C$99h,C$99o+=3;C$99g.push(C$99n,C$99r)}}else for(C$99l=0,C$99v=C$99t.length;C$99l<C$99v;){for(C$99m=C$99t[C$99l++]+C$99l,C$99r=C$99n=0;C$99l<C$99m;C$99l++)C$99e=C$99c[C$99t[C$99l]],C$99s=C$99i[C$99o],C$99a=C$99i[C$99o+1],C$99h=C$99i[C$99o+2],C$99n+=(C$99s*C$99e.a+C$99a*C$99e.c+C$99e.tx)*C$99h,C$99r+=(C$99s*C$99e.b+C$99a*C$99e.d+C$99e.ty)*C$99h,C$99o+=3;C$99g.push(C$99n,C$99r)}this._mVerticleArr=C$99g,C$99_.init2(C$99f,null,C$99p,this._mVerticleArr,C$99d)},C$99r.drawBonePoint=function(C$99t){C$99t&&this._parentMatrix&&C$99t.drawCircle(this._parentMatrix.tx,this._parentMatrix.ty,5,"#ff0000")},C$99r.getDisplayMatrix=function(){return this.currDisplayData?this.currDisplayData.transform.getMatrix():null},C$99r.getMatrix=function(){return this._resultMatrix},C$99r.copy=function(){var C$99t=new x0qye_;return C$99t.type="copy",C$99t.name=this.name,C$99t.attachmentName=this.attachmentName,C$99t.srcDisplayIndex=this.srcDisplayIndex,C$99t.parent=this.parent,C$99t.displayIndex=this.displayIndex,C$99t.templet=this.templet,C$99t.currSlotData=this.currSlotData,C$99t.currTexture=this.currTexture,C$99t.currDisplayData=this.currDisplayData,C$99t},x0qye_.createSkinMesh=function(){return C$99l.isWebGL||C$99l.isConchApp?C$99d.skinAniSprite():(C$99l.isWebGL,null)},C$99t(x0qye_,["_tempMatrix",function(){return this._tempMatrix=new C$99Dt}]),x0qye_),C$99Pt=(C$99e(oze07,"laya.ani.bone.DeformAniData"),oze07),C$99Lt=(C$99e(x0qeyo,"laya.ani.bone.DeformSlotData"),x0qeyo),C$99zt=(C$99e(z$pfvd,"laya.ani.bone.DeformSlotDisplayData"),(C$99r=z$pfvd.prototype).binarySearch1=function(C$99t,C$99e){var C$99i=0,C$99n=C$99t.length-2;if(0==C$99n)return 1;for(var C$99r=C$99n>>>1;;){if(C$99t[Math.floor(C$99r+1)]<=C$99e?C$99i=C$99r+1:C$99n=C$99r,C$99i==C$99n)return C$99i+1;C$99r=C$99i+C$99n>>>1}return 0},C$99r.apply=function(C$99t,C$99c,C$99e){if(void 0===C$99e&&(C$99e=1),C$99t+=.05,!(this.timeList.length<=0)){var C$99i=0;if(!(C$99t<this.timeList[0])){var C$99n=this.vectices[0].length,C$99r=[],C$99s=this.binarySearch1(this.timeList,C$99t);if(this.frameIndex=C$99s,C$99t>=this.timeList[this.timeList.length-1]){var C$99a=this.vectices[this.vectices.length-1];if(C$99e<1)for(C$99i=0;C$99i<C$99n;C$99i++)C$99r[C$99i]+=(C$99a[C$99i]-C$99r[C$99i])*C$99e;else for(C$99i=0;C$99i<C$99n;C$99i++)C$99r[C$99i]=C$99a[C$99i];this.deformData=C$99r}else{this.tweenKeyList[this.frameIndex];var C$99o=this.vectices[this.frameIndex-1],C$99_=this.vectices[this.frameIndex],C$99h=this.timeList[this.frameIndex-1],C$99u=this.timeList[this.frameIndex];C$99e=this.tweenKeyList[C$99s-1]?(C$99t-C$99h)/(C$99u-C$99h):0;var C$99l;for(C$99i=0;C$99i<C$99n;C$99i++)C$99l=C$99o[C$99i],C$99r[C$99i]=C$99l+(C$99_[C$99i]-C$99l)*C$99e;this.deformData=C$99r}}}},z$pfvd),C$99kt=(C$99e(wh5186,"laya.ani.bone.DrawOrderData"),wh5186),C$99Bt=(C$99e(i29ctv,"laya.ani.bone.EventData"),i29ctv),C$99x=(C$99e(f7pd$,"laya.ani.bone.IkConstraint"),(C$99r=f7pd$.prototype).apply=function(){switch(this._bones.length){case 1:this._applyIk1(this._bones[0],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.mix);break;case 2:this.isSpine?this._applyIk2(this._bones[0],this._bones[1],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.bendDirection,this.mix):this._applyIk3(this._bones[0],this._bones[1],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.bendDirection,this.mix)}},C$99r._applyIk1=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.parentBone,C$99s=1/(C$99r.resultMatrix.a*C$99r.resultMatrix.d-C$99r.resultMatrix.b*C$99r.resultMatrix.c),C$99e=C$99e-C$99r.resultMatrix.tx,C$99i=C$99i-C$99r.resultMatrix.ty,C$99a=(C$99e*C$99r.resultMatrix.d-C$99i*C$99r.resultMatrix.c)*C$99s-C$99t.transform.x,C$99i=(C$99i*C$99r.resultMatrix.a-C$99e*C$99r.resultMatrix.b)*C$99s-C$99t.transform.y,C$99e=Math.atan2(C$99i,C$99a)*f7pd$.radDeg-C$99t.transform.skX;C$99t.transform.scX<0&&(C$99e+=180),180<C$99e?C$99e-=360:C$99e<-180&&(C$99e+=360),C$99t.transform.skX=C$99t.transform.skY=C$99t.transform.skX+C$99e*C$99n,C$99t.update()},C$99r.updatePos=function(C$99t,C$99e){this._sp&&this._sp.pos(C$99t,C$99e)},C$99r._applyIk2=function(C$99t,C$99c,C$99e,C$99_,C$99u,C$99d){var C$99f,C$99p,C$99m,C$99g,C$99v,C$99x,C$99y,C$99b,C$99w,C$99i,C$99n,C$99r,C$99s,C$99T,C$99M,C$99S,C$99a,C$99C,C$99D,C$99o,C$99E,C$99A,C$99I,C$99h,C$99l;0!=C$99d&&(C$99f=C$99t.resultTransform.x,C$99p=C$99t.resultTransform.y,C$99v=(C$99E=C$99t.transform.scX)<(C$99v=C$99g=C$99m=0)?(C$99E=-C$99E,C$99m=180,-1):(C$99m=0,1),(C$99D=C$99t.transform.scY)<0&&(C$99D=-C$99D,C$99v=-C$99v),C$99g=(C$99h=C$99c.transform.scX)<0?(C$99h=-C$99h,180):0,C$99x=C$99c.resultTransform.x,C$99r=C$99n=C$99y=NaN,C$99l=C$99t.resultMatrix.a,C$99b=C$99t.resultMatrix.c,C$99o=C$99t.resultMatrix.b,C$99w=C$99t.resultMatrix.d,C$99r=(C$99I=Math.abs(C$99E-C$99D)<=1e-4)?(C$99n=C$99l*C$99x+C$99b*(C$99y=C$99c.resultTransform.y)+C$99t.resultMatrix.tx,C$99o*C$99x+C$99w*C$99y+C$99t.resultMatrix.ty):(C$99y=0,C$99n=C$99l*C$99x+C$99t.resultMatrix.tx,C$99o*C$99x+C$99t.resultMatrix.ty),this.isDebug&&(this._sp||(this._sp=new C$99P,C$99R.stage.addChild(this._sp)),this._sp.graphics.clear(),this._sp.graphics.drawCircle(C$99e,C$99_,15,"#ffff00"),this._sp.graphics.drawCircle(C$99n,C$99r,15,"#ff00ff")),C$99t.setRotation(Math.atan2(C$99r-C$99t.resultMatrix.ty,C$99n-C$99t.resultMatrix.tx)),C$99l=(C$99i=C$99t.parentBone).resultMatrix.a,C$99b=C$99i.resultMatrix.c,C$99o=C$99i.resultMatrix.b,C$99s=1/(C$99l*(C$99w=C$99i.resultMatrix.d)-C$99b*C$99o),C$99a=((C$99e=C$99e-C$99i.resultMatrix.tx)*C$99w-(C$99_=C$99_-C$99i.resultMatrix.ty)*C$99b)*C$99s-C$99f,C$99T=(C$99_*C$99l-C$99e*C$99o)*C$99s-C$99p,C$99n=((C$99e=C$99n-C$99i.resultMatrix.tx)*C$99w-(C$99_=C$99r-C$99i.resultMatrix.ty)*C$99b)*C$99s-C$99f,C$99r=(C$99_*C$99l-C$99e*C$99o)*C$99s-C$99p,C$99i=Math.sqrt(C$99n*C$99n+C$99r*C$99r),C$99s=C$99c.length*C$99h,C$99r=C$99n=NaN,C$99I?((C$99h=(C$99a*C$99a+C$99T*C$99T-C$99i*C$99i-(C$99s*=C$99E)*C$99s)/(2*C$99i*C$99s))<-1?C$99h=-1:1<C$99h&&(C$99h=1),C$99r=Math.acos(C$99h)*C$99u,C$99l=C$99i+C$99s*C$99h,C$99b=C$99s*Math.sin(C$99r),C$99n=Math.atan2(C$99T*C$99l-C$99a*C$99b,C$99a*C$99l+C$99T*C$99b)):(C$99I=(C$99l=C$99E*C$99s)*C$99l,C$99h=(C$99b=C$99D*C$99s)*C$99b,C$99s=C$99a*C$99a+C$99T*C$99T,C$99T=Math.atan2(C$99T,C$99a),0<(C$99w=(C$99a=-2*C$99h*C$99i)*C$99a-4*(C$99C=C$99h-C$99I)*(C$99o=C$99h*C$99i*C$99i+C$99I*C$99s-C$99I*C$99h))&&(C$99M=Math.sqrt(C$99w),C$99a=(C$99M=-(C$99a+(C$99M=C$99a<0?-C$99M:C$99M))/2)/C$99C,C$99C=C$99o/C$99M,(C$99o=Math.abs(C$99a)<Math.abs(C$99C)?C$99a:C$99C)*C$99o<=C$99s&&(C$99_=Math.sqrt(C$99s-C$99o*C$99o)*C$99u,C$99n=C$99T-Math.atan2(C$99_,C$99o),C$99r=Math.atan2(C$99_/C$99D,(C$99o-C$99i)/C$99E))),C$99A=C$99E=C$99o=C$99D=C$99C=C$99a=C$99M=0,C$99o<(C$99w=(C$99e=C$99i+C$99l)*C$99e)&&(C$99D=0,C$99o=C$99w,C$99E=C$99e),(C$99w=(C$99e=C$99i-C$99l)*C$99e)<(C$99S=Number.MAX_VALUE)&&(C$99M=Math.PI,C$99S=C$99w,C$99a=C$99e),C$99I=Math.acos(-C$99l*C$99i/(C$99I-C$99h)),(C$99w=(C$99e=C$99l*Math.cos(C$99I)+C$99i)*C$99e+(C$99_=C$99b*Math.sin(C$99I))*C$99_)<C$99S&&(C$99M=C$99I,C$99S=C$99w,C$99a=C$99e,C$99C=C$99_),C$99o<C$99w&&(C$99D=C$99I,C$99o=C$99w,C$99E=C$99e,C$99A=C$99_),C$99r=C$99s<=(C$99S+C$99o)/2?(C$99n=C$99T-Math.atan2(C$99C*C$99u,C$99a),C$99M*C$99u):(C$99n=C$99T-Math.atan2(C$99A*C$99u,C$99E),C$99D*C$99u)),C$99h=Math.atan2(C$99y,C$99x)*C$99v,C$99l=C$99t.resultTransform.skX,180<(C$99n=(C$99n-C$99h)*f7pd$.radDeg+C$99m-C$99l)?C$99n-=360:C$99n<-180&&(C$99n+=360),C$99t.resultTransform.x=C$99f,C$99t.resultTransform.y=C$99p,C$99t.resultTransform.skX=C$99t.resultTransform.skY=C$99l+C$99n*C$99d,C$99l=C$99c.resultTransform.skX,180<(C$99r=(C$99r+C$99h)*f7pd$.radDeg*C$99v+C$99g-(C$99l%=360))?C$99r-=360:C$99r<-180&&(C$99r+=360),C$99c.resultTransform.x=C$99x,C$99c.resultTransform.y=C$99y,C$99c.resultTransform.skX=C$99c.resultTransform.skY=C$99c.resultTransform.skY+C$99r*C$99d,C$99t.update())},C$99r._applyIk3=function(C$99t,C$99e,C$99c,C$99_,C$99u,C$99i){var C$99d,C$99f,C$99p,C$99m,C$99n,C$99r,C$99g,C$99s,C$99a,C$99o,C$99h,C$99l;0!=C$99i&&(C$99i=(C$99i=C$99e.resultMatrix.a*C$99e.length)*C$99i+(C$99i=C$99e.resultMatrix.b*C$99e.length)*C$99i,C$99r=Math.sqrt(C$99i),C$99d=C$99t.resultMatrix.tx,C$99f=C$99t.resultMatrix.ty,C$99o=(C$99l=(C$99p=C$99e.resultMatrix.tx)-C$99d)*C$99l+(C$99a=(C$99m=C$99e.resultMatrix.ty)-C$99f)*C$99a,C$99s=Math.sqrt(C$99o),C$99n=(C$99l=C$99c-C$99t.resultMatrix.tx)*C$99l+(C$99a=C$99_-C$99t.resultMatrix.ty)*C$99a,C$99m=C$99r+C$99s<=(C$99h=Math.sqrt(C$99n))||C$99h+C$99r<=C$99s||C$99h+C$99s<=C$99r?(C$99g=NaN,C$99p=C$99d+(C$99g=C$99r+C$99s<=C$99h?1:-1)*(C$99c-C$99d)*C$99s/C$99h,C$99f+C$99g*(C$99_-C$99f)*C$99s/C$99h):(C$99g=C$99d+C$99l*(C$99r=(C$99o-C$99i+C$99n)/(2*C$99n)),C$99s=C$99f+C$99a*C$99r,C$99a=-C$99a*(C$99i=Math.sqrt(C$99o-C$99r*C$99r*C$99n)/C$99h),C$99o=C$99l*C$99i,0<C$99u?(C$99p=C$99g-C$99a,C$99s-C$99o):(C$99p=C$99g+C$99a,C$99s+C$99o)),C$99r=C$99p,C$99n=C$99m,this.isDebug&&(this._sp||(this._sp=new C$99P,C$99R.stage.addChild(this._sp)),this._sp.graphics.clear(),this._sp.graphics.drawCircle(C$99d,C$99f,15,"#ff00ff"),this._sp.graphics.drawCircle(C$99c,C$99_,15,"#ffff00"),this._sp.graphics.drawCircle(C$99r,C$99n,15,"#ff00ff")),C$99h=Math.atan2(C$99n-C$99t.resultMatrix.ty,C$99r-C$99t.resultMatrix.tx),C$99t.setRotation(C$99h),(C$99l=f7pd$._tempMatrix).identity(),C$99l.rotate(C$99h),C$99l.scale(C$99t.resultMatrix.getScaleX(),C$99t.resultMatrix.getScaleY()),C$99l.translate(C$99t.resultMatrix.tx,C$99t.resultMatrix.ty),C$99l.copyTo(C$99t.resultMatrix),C$99t.updateChild(),C$99i=Math.atan2(C$99_-C$99n,C$99c-C$99r),C$99e.setRotation(C$99i),(C$99u=f7pd$._tempMatrix).identity(),C$99u.rotate(C$99i),C$99u.scale(C$99e.resultMatrix.getScaleX(),C$99e.resultMatrix.getScaleY()),C$99u.translate(C$99r,C$99n),C$99l.copyTo(C$99e.resultMatrix),C$99e.updateChild())},C$99t(f7pd$,["radDeg",function(){return this.radDeg=180/Math.PI},"degRad",function(){return this.degRad=Math.PI/180},"_tempMatrix",function(){return this._tempMatrix=new C$99Dt}]),f7pd$),C$99Nt=(C$99e(ctv$9i,"laya.ani.bone.IkConstraintData"),ctv$9i),C$99y=(C$99e(rkgajb,"laya.ani.bone.PathConstraint"),(C$99r=rkgajb.prototype).apply=function(C$99c,C$99_){if(this.target){var C$99u=this.translateMix,C$99d=this.translateMix,C$99f=0<C$99d,C$99p=this.data.spacingMode,C$99m="length"==C$99p,C$99g=this.data.rotateMode,C$99v="tangent"==C$99g,C$99x="chainScale"==C$99g,C$99y=[],C$99b=this.bones.length,C$99w=C$99v?C$99b:C$99b+1,C$99T=[];(this._spaces=C$99T)[0]=this.position;var C$99M=this.spacing;if(C$99x||C$99m)for(var C$99t=0,C$99S=C$99w-1;C$99t<C$99S;){var C$99e=this.bones[C$99t],C$99i=C$99e.length,C$99C=C$99i*C$99e.resultMatrix.a,C$99D=C$99i*C$99e.resultMatrix.b;C$99i=Math.sqrt(C$99C*C$99C+C$99D*C$99D),C$99x&&(C$99y[C$99t]=C$99i),C$99T[++C$99t]=C$99m?Math.max(0,C$99i+C$99M):C$99M}else for(C$99t=1;C$99t<C$99w;C$99t++)C$99T[C$99t]=C$99M;var C$99n=this.computeWorldPositions(this.target,C$99c,C$99_,C$99w,C$99v,"percent"==this.data.positionMode,"percent"==C$99p);if(this._debugKey){for(C$99t=0;C$99t<C$99n.length;C$99t++)C$99_.drawCircle(C$99n[C$99t++],C$99n[C$99t++],5,"#00ff00");var C$99E=[];for(C$99t=0;C$99t<C$99n.length;C$99t++)C$99E.push(C$99n[C$99t++],C$99n[C$99t++]);C$99_.drawLines(0,0,C$99E,"#ff0000")}var C$99A=C$99n[0],C$99I=C$99n[1],C$99R=this.data.offsetRotation,C$99P="chain"==C$99g&&0==C$99R,C$99r=NaN;for(C$99t=0,C$99r=3;C$99t<C$99b;C$99t++,C$99r+=3){(C$99e=this.bones[C$99t]).resultMatrix.tx+=(C$99A-C$99e.resultMatrix.tx)*C$99u,C$99e.resultMatrix.ty+=(C$99I-C$99e.resultMatrix.ty)*C$99u;var C$99L=(C$99C=C$99n[C$99r])-C$99A,C$99z=(C$99D=C$99n[C$99r+1])-C$99I;var C$99s,C$99k,C$99a,C$99B,C$99o,C$99h,C$99l;C$99x&&0!=(C$99i=C$99y[C$99t])&&(C$99s=(Math.sqrt(C$99L*C$99L+C$99z*C$99z)/C$99i-1)*C$99d+1,C$99e.resultMatrix.a*=C$99s,C$99e.resultMatrix.c*=C$99s),C$99A=C$99C,C$99I=C$99D,C$99f&&(C$99s=C$99e.resultMatrix.a,C$99k=C$99e.resultMatrix.c,C$99a=C$99e.resultMatrix.b,C$99B=C$99e.resultMatrix.d,C$99l=C$99h=C$99o=NaN,C$99o=C$99v?C$99n[C$99r-1]:0==C$99T[C$99t+1]?C$99n[C$99r+2]:Math.atan2(C$99z,C$99L),C$99o-=Math.atan2(C$99a,C$99s)-C$99R/180*Math.PI,C$99P&&(C$99h=Math.cos(C$99o),C$99l=Math.sin(C$99o),C$99A+=((C$99i=C$99e.length)*(C$99h*C$99s-C$99l*C$99a)-C$99L)*C$99d,C$99I+=(C$99i*(C$99l*C$99s+C$99h*C$99a)-C$99z)*C$99d),C$99o>Math.PI?C$99o-=2*Math.PI:C$99o<-Math.PI&&(C$99o+=2*Math.PI),C$99o*=C$99d,C$99h=Math.cos(C$99o),C$99l=Math.sin(C$99o),C$99e.resultMatrix.a=C$99h*C$99s-C$99l*C$99a,C$99e.resultMatrix.c=C$99h*C$99k-C$99l*C$99B,C$99e.resultMatrix.b=C$99l*C$99s+C$99h*C$99a,C$99e.resultMatrix.d=C$99l*C$99k+C$99h*C$99B)}}},C$99r.computeWorldVertices2=function(C$99t,C$99e,C$99c,C$99_,C$99u,C$99d){var C$99i,C$99n,C$99f,C$99p=C$99t.currDisplayData.bones,C$99m=C$99t.currDisplayData.weights,C$99g=C$99t.currDisplayData.triangles,C$99r=0,C$99s=0,C$99v=0,C$99x=0,C$99a=0,C$99y=0,C$99b=0,C$99w=0,C$99o=0,C$99h=0;if(null!=C$99p){for(C$99r=0;C$99r<C$99c;C$99r+=2)C$99s+=(C$99x=C$99p[C$99s])+1,C$99v+=C$99x;var C$99T=C$99e;for(C$99a=C$99d,C$99y=3*C$99v;C$99a<C$99_;C$99a+=2){for(C$99w=C$99b=0,C$99x=C$99p[C$99s++],C$99x+=C$99s;C$99s<C$99x;C$99s++,C$99y+=3){C$99i=C$99T[C$99p[C$99s]].resultMatrix,C$99o=C$99m[C$99y],C$99h=C$99m[C$99y+1];var C$99M=C$99m[C$99y+2];C$99b+=(C$99o*C$99i.a+C$99h*C$99i.c+C$99i.tx)*C$99M,C$99w+=(C$99o*C$99i.b+C$99h*C$99i.d+C$99i.ty)*C$99M}C$99u[C$99a]=C$99b,C$99u[C$99a+1]=C$99w}}else{var C$99S,C$99l;if(C$99g=C$99g||C$99m,C$99t.deformData&&(C$99g=C$99t.deformData),C$99S=C$99t.parent,C$99e)for(C$99f=C$99e.length,C$99r=0;C$99r<C$99f;C$99r++)if(C$99e[C$99r].name==C$99S){C$99n=C$99e[C$99r];break}var C$99C=(C$99l=(C$99l=C$99n?C$99n.resultMatrix:C$99l)||rkgajb._tempMt).tx,C$99D=C$99l.ty,C$99E=C$99l.a,C$99A=C$99l.b,C$99I=C$99l.c,C$99R=C$99l.d;for(C$99n&&(C$99R*=C$99n.d),C$99s=C$99c,C$99a=C$99d;C$99a<C$99_;C$99s+=2,C$99a+=2)C$99o=C$99g[C$99s],C$99h=C$99g[C$99s+1],C$99u[C$99a]=C$99o*C$99E+C$99h*C$99A+C$99C,C$99u[C$99a+1]=-(C$99o*C$99I+C$99h*C$99R+C$99D)}},C$99r.computeWorldPositions=function(C$99c,C$99_,C$99u,C$99d,C$99f,C$99p,C$99m){C$99c.currDisplayData.bones,C$99c.currDisplayData.weights,C$99c.currDisplayData.triangles;var C$99t,C$99g,C$99v=[],C$99e=0,C$99x=C$99c.currDisplayData.verLen,C$99y=this.position,C$99b=this._spaces,C$99w=[],C$99T=C$99x/6,C$99M=-1,C$99i=NaN,C$99S=0,C$99C=0,C$99n=NaN,C$99D=NaN,C$99E=NaN;if(C$99T--,this.computeWorldVertices2(C$99c,C$99_,2,C$99x-=4,C$99v,0),this._debugKey)for(C$99e=0;C$99e<C$99v.length;)C$99u.drawCircle(C$99v[C$99e++],C$99v[C$99e++],10,"#ff0000");C$99t=C$99v,this._curves.length=C$99T;var C$99A=this._curves,C$99I=C$99t[C$99i=0],C$99R=C$99t[1],C$99P=0,C$99L=0,C$99z=0,C$99k=0,C$99B=0,C$99N=0,C$99O=NaN,C$99F=NaN,C$99V=NaN,C$99$=NaN,C$99r=NaN,C$99s=NaN,C$99a=NaN,C$99o=NaN,C$99U=0;for(C$99e=0,C$99U=2;C$99e<C$99T;C$99e++,C$99U+=6)C$99r=2*(C$99O=.1875*(C$99I-2*(C$99P=C$99t[C$99U])+(C$99z=C$99t[C$99U+2])))+(C$99V=.09375*(3*(C$99P-C$99z)-C$99I+(C$99B=C$99t[C$99U+4]))),C$99s=2*(C$99F=.1875*(C$99R-2*(C$99L=C$99t[C$99U+1])+(C$99k=C$99t[C$99U+3])))+(C$99$=.09375*(3*(C$99L-C$99k)-C$99R+(C$99N=C$99t[C$99U+5]))),C$99a=.75*(C$99P-C$99I)+C$99O+.16666667*C$99V,C$99o=.75*(C$99L-C$99R)+C$99F+.16666667*C$99$,C$99i+=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99a+=C$99r,C$99o+=C$99s,C$99r+=C$99V,C$99s+=C$99$,C$99i+=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99a+=C$99r,C$99o+=C$99s,C$99i+=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99a+=C$99r+C$99V,C$99o+=C$99s+C$99$,C$99i+=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99A[C$99e]=C$99i,C$99I=C$99B,C$99R=C$99N;if(C$99p&&(C$99y*=C$99i),C$99m)for(C$99e=0;C$99e<C$99d;C$99e++)C$99b[C$99e]*=C$99i;var C$99j=this._segments,C$99h=0,C$99q=0;for(C$99q=C$99C=C$99S=C$99e=0;C$99e<C$99d;C$99e++,C$99S+=3)if((C$99n=C$99y+=C$99g=C$99b[C$99e])<0)this.addBeforePosition(C$99n,C$99t,0,C$99w,C$99S);else if(C$99i<C$99n)this.addAfterPosition(C$99n-C$99i,C$99t,C$99x-4,C$99w,C$99S);else{for(;;C$99C++)if(!((C$99E=C$99A[C$99C])<C$99n)){0==C$99C?C$99n/=C$99E:C$99n=(C$99n-(C$99D=C$99A[C$99C-1]))/(C$99E-C$99D);break}if(C$99C!=C$99M){var C$99l=6*(C$99M=C$99C);for(C$99r=2*(C$99O=.03*((C$99I=C$99t[C$99l])-2*(C$99P=C$99t[C$99l+2])+(C$99z=C$99t[C$99l+4])))+(C$99V=.006*(3*(C$99P-C$99z)-C$99I+(C$99B=C$99t[C$99l+6]))),C$99s=2*(C$99F=.03*((C$99R=C$99t[C$99l+1])-2*(C$99L=C$99t[C$99l+3])+(C$99k=C$99t[C$99l+5])))+(C$99$=.006*(3*(C$99L-C$99k)-C$99R+(C$99N=C$99t[C$99l+7]))),C$99a=.3*(C$99P-C$99I)+C$99O+.16666667*C$99V,C$99o=.3*(C$99L-C$99R)+C$99F+.16666667*C$99$,C$99h=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99j[0]=C$99h,C$99l=1;C$99l<8;C$99l++)C$99a+=C$99r,C$99o+=C$99s,C$99r+=C$99V,C$99s+=C$99$,C$99h+=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99j[C$99l]=C$99h;C$99a+=C$99r,C$99o+=C$99s,C$99h+=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99j[8]=C$99h,C$99a+=C$99r+C$99V,C$99o+=C$99s+C$99$,C$99h+=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99j[9]=C$99h,C$99q=0}for(C$99n*=C$99h;;C$99q++)if(!((C$99E=C$99j[C$99q])<C$99n)){0==C$99q?C$99n/=C$99E:C$99n=C$99q+(C$99n-(C$99D=C$99j[C$99q-1]))/(C$99E-C$99D);break}this.addCurvePosition(.1*C$99n,C$99I,C$99R,C$99P,C$99L,C$99z,C$99k,C$99B,C$99N,C$99w,C$99S,C$99f||0<C$99e&&0==C$99g)}return C$99w},C$99r.addBeforePosition=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99e[C$99i],C$99a=C$99e[C$99i+1],C$99o=C$99e[C$99i+2]-C$99s,C$99e=C$99e[C$99i+3]-C$99a,C$99i=Math.atan2(C$99e,C$99o);C$99n[C$99r]=C$99s+C$99t*Math.cos(C$99i),C$99n[C$99r+1]=C$99a+C$99t*Math.sin(C$99i),C$99n[C$99r+2]=C$99i},C$99r.addAfterPosition=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99e[C$99i+2],C$99a=C$99e[C$99i+3],C$99o=C$99s-C$99e[C$99i],C$99e=C$99a-C$99e[C$99i+1],C$99i=Math.atan2(C$99e,C$99o);C$99n[C$99r]=C$99s+C$99t*Math.cos(C$99i),C$99n[C$99r+1]=C$99a+C$99t*Math.sin(C$99i),C$99n[C$99r+2]=C$99i},C$99r.addCurvePosition=function(C$99t,C$99e,C$99c,C$99_,C$99u,C$99d,C$99f,C$99i,C$99p,C$99n,C$99r,C$99m){var C$99s=(C$99t=0==C$99t?1e-4:C$99t)*C$99t,C$99g=C$99s*C$99t,C$99a=1-C$99t,C$99o=C$99a*C$99a,C$99v=C$99o*C$99a,C$99h=C$99a*C$99t,C$99l=3*C$99h,C$99a=C$99a*C$99l,C$99l=C$99l*C$99t,C$99t=C$99e*C$99v+C$99_*C$99a+C$99d*C$99l+C$99i*C$99g,C$99i=C$99c*C$99v+C$99u*C$99a+C$99f*C$99l+C$99p*C$99g;C$99n[C$99r]=C$99t,C$99n[C$99r+1]=C$99i,C$99n[C$99r+2]=C$99m?Math.atan2(C$99i-(C$99c*C$99o+C$99u*C$99h*2+C$99f*C$99s),C$99t-(C$99e*C$99o+C$99_*C$99h*2+C$99d*C$99s)):0},rkgajb.NONE=-1,rkgajb.BEFORE=-2,rkgajb.AFTER=-3,C$99t(rkgajb,["_tempMt",function(){return this._tempMt=new C$99Dt}]),rkgajb),C$99Ot=(C$99e(brasjk,"laya.ani.bone.PathConstraintData"),brasjk),C$99Ft=(C$99e(x_ym,"laya.ani.bone.SkinData"),x_ym),C$99Vt=(C$99e(c4t2i9,"laya.ani.bone.SkinSlotDisplayData"),(C$99r=c4t2i9.prototype).createTexture=function(C$99t){return this.texture||(this.texture=new C$99At(C$99t.bitmap,this.uvs),C$99t.bitmap.alphaTexture&&(this.texture.alphaTexture=new C$99At(C$99t.bitmap.alphaTexture,this.uvs)),this.uvs[0]>this.uvs[4]&&this.uvs[1]>this.uvs[5]?(this.texture.width=C$99t.height,this.texture.height=C$99t.width,this.texture.offsetX=-C$99t.offsetX,this.texture.offsetY=-C$99t.offsetY,this.texture.sourceWidth=C$99t.sourceHeight,this.texture.sourceHeight=C$99t.sourceWidth):(this.texture.width=C$99t.width,this.texture.height=C$99t.height,this.texture.offsetX=-C$99t.offsetX,this.texture.offsetY=-C$99t.offsetY,this.texture.sourceWidth=C$99t.sourceWidth,this.texture.sourceHeight=C$99t.sourceHeight),C$99l.isWebGL||this.uvs[1]>this.uvs[5]&&(this.texture.offsetY=this.texture.sourceHeight-this.texture.height-this.texture.offsetY)),this.texture},C$99r.destory=function(){this.texture&&this.texture.destroy()},c4t2i9),C$99$t=(C$99e(d$iv9,"laya.ani.bone.SlotData"),d$iv9.prototype.getDisplayByName=function(C$99t){for(var C$99e=0,C$99i=this.displayArr.length;C$99e<C$99i;C$99e++)if(this.displayArr[C$99e].attachmentName==C$99t)return C$99e;return-1},d$iv9),C$99b=(C$99e(eq0,"laya.ani.bone.TfConstraint"),eq0.prototype.apply=function(){for(var C$99t,C$99e=this.target.resultMatrix.a,C$99c=this.target.resultMatrix.b,C$99_=this.target.resultMatrix.c,C$99u=this.target.resultMatrix.d,C$99d=0,C$99f=this._bones.length;C$99d<C$99f;C$99d++){var C$99i,C$99n,C$99r,C$99s;var C$99a,C$99o,C$99h;var C$99l;C$99t=this._bones[C$99d],0<this.rotateMix&&(C$99a=C$99t.resultMatrix.a,C$99i=C$99t.resultMatrix.b,C$99o=C$99t.resultMatrix.c,C$99n=C$99t.resultMatrix.d,(C$99r=Math.atan2(C$99_,C$99e)-Math.atan2(C$99o,C$99a)+this._data.offsetRotation*Math.PI/180)>Math.PI?C$99r-=2*Math.PI:C$99r<-Math.PI&&(C$99r+=2*Math.PI),C$99r*=this.rotateMix,C$99s=Math.cos(C$99r),C$99l=Math.sin(C$99r),C$99t.resultMatrix.a=C$99s*C$99a-C$99l*C$99o,C$99t.resultMatrix.b=C$99s*C$99i-C$99l*C$99n,C$99t.resultMatrix.c=C$99l*C$99a+C$99s*C$99o,C$99t.resultMatrix.d=C$99l*C$99i+C$99s*C$99n),this.translateMix&&(this._temp[0]=this._data.offsetX,this._temp[1]=this._data.offsetY,this.target.localToWorld(this._temp),C$99t.resultMatrix.tx+=(this._temp[0]-C$99t.resultMatrix.tx)*this.translateMix,C$99t.resultMatrix.ty+=(this._temp[1]-C$99t.resultMatrix.ty)*this.translateMix,C$99t.updateChild()),0<this.scaleMix&&(C$99a=Math.sqrt(C$99t.resultMatrix.a*C$99t.resultMatrix.a+C$99t.resultMatrix.c*C$99t.resultMatrix.c),C$99o=Math.sqrt(C$99e*C$99e+C$99_*C$99_),C$99h=1e-5<C$99a?(C$99a+(C$99o-C$99a+this._data.offsetScaleX)*this.scaleMix)/C$99a:0,C$99t.resultMatrix.a*=C$99h,C$99t.resultMatrix.c*=C$99h,C$99a=Math.sqrt(C$99t.resultMatrix.b*C$99t.resultMatrix.b+C$99t.resultMatrix.d*C$99t.resultMatrix.d),C$99o=Math.sqrt(C$99c*C$99c+C$99u*C$99u),C$99h=1e-5<C$99a?(C$99a+(C$99o-C$99a+this._data.offsetScaleY)*this.scaleMix)/C$99a:0,C$99t.resultMatrix.b*=C$99h,C$99t.resultMatrix.d*=C$99h),0<this.shearMix&&(C$99i=C$99t.resultMatrix.b,C$99n=C$99t.resultMatrix.d,C$99l=Math.atan2(C$99n,C$99i),(C$99r=Math.atan2(C$99u,C$99c)-Math.atan2(C$99_,C$99e)-(C$99l-Math.atan2(C$99t.resultMatrix.c,C$99t.resultMatrix.a)))>Math.PI?C$99r-=2*Math.PI:C$99r<-Math.PI&&(C$99r+=2*Math.PI),C$99r=C$99l+(C$99r+this._data.offsetShearY*Math.PI/180)*this.shearMix,C$99h=Math.sqrt(C$99i*C$99i+C$99n*C$99n),C$99t.resultMatrix.b=Math.cos(C$99r)*C$99h,C$99t.resultMatrix.d=Math.sin(C$99r)*C$99h)}},eq0),C$99Ut=(C$99e(eqo7x,"laya.ani.bone.TfConstraintData"),eqo7x),C$99jt=(C$99e(_6hw5m,"laya.ani.bone.Transform"),(C$99t=_6hw5m.prototype).initData=function(C$99t){null!=C$99t.x&&(this.x=C$99t.x),null!=C$99t.y&&(this.y=C$99t.y),null!=C$99t.skX&&(this.skX=C$99t.skX),null!=C$99t.skY&&(this.skY=C$99t.skY),null!=C$99t.scX&&(this.scX=C$99t.scX),null!=C$99t.scY&&(this.scY=C$99t.scY)},C$99t.getMatrix=function(){var C$99t;return(C$99t=this.mMatrix||(this.mMatrix=new C$99Dt)).identity(),C$99t.scale(this.scX,this.scY),(this.skewX||this.skewY)&&this.skew(C$99t,this.skewX*Math.PI/180,this.skewY*Math.PI/180),C$99t.rotate(this.skX*Math.PI/180),C$99t.translate(this.x,this.y),C$99t},C$99t.skew=function(C$99t,C$99e,C$99i){var C$99n=Math.sin(C$99i),C$99i=Math.cos(C$99i),C$99r=Math.sin(C$99e),C$99e=Math.cos(C$99e);return C$99t.setTo(C$99t.a*C$99e-C$99t.b*C$99n,C$99t.a*C$99r+C$99t.b*C$99i,C$99t.c*C$99e-C$99t.d*C$99n,C$99t.c*C$99r+C$99t.d*C$99i,C$99t.tx*C$99e-C$99t.ty*C$99n,C$99t.tx*C$99r+C$99t.ty*C$99i),C$99t},_6hw5m),C$99w=(C$99e(poefz,"laya.ani.bone.UVTools"),poefz.getRelativeUV=function(C$99t,C$99e,C$99i){var C$99n=C$99t[0],C$99r=C$99t[2]-C$99t[0],C$99s=C$99t[1],C$99t=C$99t[5]-C$99t[1];(C$99i=C$99i||[]).length=C$99e.length;var C$99a,C$99o=0;C$99a=C$99i.length;var C$99h=1/C$99r,C$99l=1/C$99t;for(C$99o=0;C$99o<C$99a;C$99o+=2)C$99i[C$99o]=(C$99e[C$99o]-C$99n)*C$99h,C$99i[C$99o+1]=(C$99e[C$99o+1]-C$99s)*C$99l;return C$99i},poefz.getAbsoluteUV=function(C$99t,C$99e,C$99i){if(0==C$99t[0]&&0==C$99t[1]&&1==C$99t[4]&&1==C$99t[5])return C$99i?(C$99m.copyArray(C$99i,C$99e),C$99i):C$99e;var C$99n=C$99t[0],C$99r=C$99t[2]-C$99t[0],C$99s=C$99t[1],C$99a=C$99t[5]-C$99t[1];(C$99i=C$99i||[]).length=C$99e.length;var C$99o,C$99h=0;for(C$99o=C$99i.length,C$99h=0;C$99h<C$99o;C$99h+=2)C$99i[C$99h]=C$99e[C$99h]*C$99r+C$99n,C$99i[C$99h+1]=C$99e[C$99h+1]*C$99a+C$99s;return C$99i},poefz),C$99E=(C$99e(vdp9$,"laya.ani.KeyFramesContent"),vdp9$),C$99T=(C$99e($dci,"laya.ani.math.BezierLerp"),$dci.getBezierRate=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=$dci._getBezierParamKey(C$99e,C$99i,C$99n,C$99r),C$99a=100*C$99s+C$99t;if($dci._bezierResultCache[C$99a])return $dci._bezierResultCache[C$99a];var C$99o,C$99h=$dci._getBezierPoints(C$99e,C$99i,C$99n,C$99r,C$99s),C$99l=0;for(C$99o=C$99h.length,C$99l=0;C$99l<C$99o;C$99l+=2)if(C$99t<=C$99h[C$99l])return $dci._bezierResultCache[C$99a]=C$99h[C$99l+1],C$99h[C$99l+1];return $dci._bezierResultCache[C$99a]=1},$dci._getBezierParamKey=function(C$99t,C$99e,C$99i,C$99n){return 100*(100*(100*(100*C$99t+C$99e)+C$99i)+C$99n)},$dci._getBezierPoints=function(C$99t,C$99e,C$99i,C$99n,C$99r){return $dci._bezierPointsCache[C$99r]||(C$99t=[0,0,C$99t,C$99e,C$99i,C$99n,1,1],C$99e=(new C$99s).getBezierPoints(C$99t,100,3),$dci._bezierPointsCache[C$99r]=C$99e)},$dci._bezierResultCache={},$dci._bezierPointsCache={},$dci),C$99M=(C$99e(vfpd,"laya.ani.AnimationPlayer",C$99n),C$99r=vfpd.prototype,C$99R.imps(C$99r,{"laya.resource.IDestroy":!0}),C$99r._onTempletLoadedComputeFullKeyframeIndices=function(C$99t,C$99e,C$99i){this._templet===C$99i&&this._cachePlayRate===C$99t&&this._cacheFrameRate===C$99e&&this._computeFullKeyframeIndices()},C$99r._computeFullKeyframeIndices=function(){for(var C$99c=this._fullFrames=[],C$99t=this._templet,C$99e=this._cacheFrameRateInterval*this._cachePlayRate,C$99i=0,C$99_=C$99t.getAnimationCount();C$99i<C$99_;C$99i++){for(var C$99n=[],C$99r=0,C$99u=C$99t.getAnimation(C$99i).nodes.length;C$99r<C$99u;C$99r++){for(var C$99s=C$99t.getAnimation(C$99i).nodes[C$99r],C$99d=Math.floor(C$99s.playTime/C$99e+.01),C$99a=new Uint16Array(C$99d+1),C$99f=-1,C$99o=0,C$99p=C$99s.keyFrame.length;C$99o<C$99p;C$99o++){var C$99m=C$99s.keyFrame[C$99o],C$99h=C$99m.startTime,C$99g=C$99h+C$99m.duration+C$99e;do{for(var C$99v=Math.floor(C$99h/C$99e+.5),C$99l=C$99f+1;C$99l<C$99v;C$99l++)C$99a[C$99l]=C$99o}while(C$99a[C$99f=C$99v]=C$99o,(C$99h+=C$99e)<=C$99g)}C$99n.push(C$99a)}C$99c.push(C$99n)}},C$99r._onAnimationTempletLoaded=function(){this.destroyed||this._calculatePlayDuration()},C$99r._calculatePlayDuration=function(){var C$99t;0!==this.state&&(C$99t=this._templet.getAniDuration(this._currentAnimationClipIndex),0===this._playEnd&&(this._playEnd=C$99t),this._playEnd>C$99t&&(this._playEnd=C$99t),this._playDuration=this._playEnd-this._playStart)},C$99r._setPlayParams=function(C$99t,C$99e){this._currentTime=C$99t,this._currentKeyframeIndex=Math.max(Math.floor(this.currentPlayTime/C$99e+.01),0),this._currentFrameTime=this._currentKeyframeIndex*C$99e},C$99r._setPlayParamsWhenStop=function(C$99t,C$99e){this._currentTime=C$99t,this._currentKeyframeIndex=Math.max(Math.floor(C$99t/C$99e+.01),0),this._currentFrameTime=this._currentKeyframeIndex*C$99e,this._currentAnimationClipIndex=-1},C$99r._update=function(C$99t){if(-1!==this._currentAnimationClipIndex&&!this._paused&&this._templet&&this._templet.loaded){var C$99e=this._cacheFrameRateInterval*this._cachePlayRate,C$99i=0;this._startUpdateLoopCount!==C$99f.loopCount&&(C$99i=C$99t*this.playbackRate,this._elapsedPlaybackTime+=C$99i);var C$99n=this.playDuration;if(0!==this._overallDuration&&this._elapsedPlaybackTime>=this._overallDuration||0===this._overallDuration&&this._elapsedPlaybackTime>=C$99n)return this._setPlayParamsWhenStop(C$99n,C$99e),void this.event("stopped");if(C$99i+=this._currentTime,0<C$99n)if(C$99n<=C$99i){do{if(C$99i-=C$99n,this._stopWhenCircleFinish)return this._setPlayParamsWhenStop(C$99n,C$99e),this._stopWhenCircleFinish=!1,void this.event("stopped")}while(C$99i<C$99n&&(this._setPlayParams(C$99i,C$99e),this.event("complete")),C$99n<=C$99i)}else this._setPlayParams(C$99i,C$99e);else{if(this._stopWhenCircleFinish)return this._setPlayParamsWhenStop(C$99n,C$99e),this._stopWhenCircleFinish=!1,void this.event("stopped");this._currentTime=this._currentFrameTime=this._currentKeyframeIndex=0,this.event("complete")}}},C$99r._destroy=function(){this.offAll(),this._templet=null,this._fullFrames=null,this._destroyed=!0},C$99r.play=function(C$99t,C$99e,C$99i,C$99n,C$99r){if(void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=1),void 0===C$99i&&(C$99i=2147483647),void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0),!this._templet)throw new Error("AnimationPlayer:templet must not be null,maybe you need to set url.");if(C$99i<0||C$99n<0||C$99r<0)throw new Error("AnimationPlayer:overallDuration,playStart and playEnd must large than zero.");if(0!==C$99r&&C$99r<C$99n)throw new Error("AnimationPlayer:start must less than end.");this._currentTime=0,this._currentFrameTime=0,this._elapsedPlaybackTime=0,this.playbackRate=C$99e,this._overallDuration=C$99i,this._playStart=C$99n,this._playEnd=C$99r,this._paused=!1,this._currentAnimationClipIndex=C$99t,this._currentKeyframeIndex=0,this._startUpdateLoopCount=C$99f.loopCount,this.event("played"),this._templet.loaded?this._calculatePlayDuration():this._templet.once("loaded",this,this._onAnimationTempletLoaded),this._update(0)},C$99r.playByFrame=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){C$99s=1e3/(C$99s=void 0===C$99s?30:C$99s);this.play(C$99t=void 0===C$99t?0:C$99t,C$99e=void 0===C$99e?1:C$99e,C$99i=void 0===C$99i?2147483647:C$99i,(C$99n=void 0===C$99n?0:C$99n)*C$99s,(C$99r=void 0===C$99r?0:C$99r)*C$99s)},C$99r.stop=function(C$99t){(C$99t=void 0===C$99t?!0:C$99t)?(this._currentTime=this._currentFrameTime=this._currentKeyframeIndex=0,this._currentAnimationClipIndex=-1,this.event("stopped")):this._stopWhenCircleFinish=!0},C$99i(0,C$99r,"playEnd",function(){return this._playEnd}),C$99i(0,C$99r,"templet",function(){return this._templet},function(C$99t){0===!this.state&&this.stop(!0),this._templet!==C$99t&&((this._templet=C$99t).loaded?this._computeFullKeyframeIndices():C$99t.once("loaded",this,this._onTempletLoadedComputeFullKeyframeIndices,[this._cachePlayRate,this._cacheFrameRate]))}),C$99i(0,C$99r,"playStart",function(){return this._playStart}),C$99i(0,C$99r,"playDuration",function(){return this._playDuration}),C$99i(0,C$99r,"state",function(){return-1===this._currentAnimationClipIndex?0:this._paused?1:2}),C$99i(0,C$99r,"currentKeyframeIndex",function(){return this._currentKeyframeIndex}),C$99i(0,C$99r,"overallDuration",function(){return this._overallDuration}),C$99i(0,C$99r,"currentFrameTime",function(){return this._currentFrameTime}),C$99i(0,C$99r,"currentAnimationClipIndex",function(){return this._currentAnimationClipIndex}),C$99i(0,C$99r,"currentPlayTime",function(){return this._currentTime+this._playStart}),C$99i(0,C$99r,"cachePlayRate",function(){return this._cachePlayRate},function(C$99t){this._cachePlayRate!==C$99t&&(this._cachePlayRate=C$99t,this._templet&&(this._templet.loaded?this._computeFullKeyframeIndices():this._templet.once("loaded",this,this._onTempletLoadedComputeFullKeyframeIndices,[C$99t,this._cacheFrameRate])))}),C$99i(0,C$99r,"cacheFrameRate",function(){return this._cacheFrameRate},function(C$99t){this._cacheFrameRate!==C$99t&&(this._cacheFrameRate=C$99t,this._cacheFrameRateInterval=1e3/this._cacheFrameRate,this._templet&&(this._templet.loaded?this._computeFullKeyframeIndices():this._templet.once("loaded",this,this._onTempletLoadedComputeFullKeyframeIndices,[this._cachePlayRate,C$99t])))}),C$99i(0,C$99r,"currentTime",null,function(C$99t){if(-1!==this._currentAnimationClipIndex&&this._templet&&this._templet.loaded){if(C$99t<this._playStart||C$99t>this._playEnd)throw new Error("AnimationPlayer:value must large than playStartTime,small than playEndTime.");this._startUpdateLoopCount=C$99f.loopCount;var C$99e=this._cacheFrameRateInterval*this._cachePlayRate;this._currentTime=C$99t,this._currentKeyframeIndex=Math.max(Math.floor(this.currentPlayTime/C$99e),0),this._currentFrameTime=this._currentKeyframeIndex*C$99e}}),C$99i(0,C$99r,"paused",function(){return this._paused},function(C$99t){(this._paused=C$99t)&&this.event("paused")}),C$99i(0,C$99r,"cacheFrameRateInterval",function(){return this._cacheFrameRateInterval}),C$99i(0,C$99r,"destroyed",function(){return this._destroyed}),vfpd),C$99L=(C$99e(c9iv2,"laya.ani.GraphicsAni",C$99a),c9iv2.prototype.drawSkin=function(C$99t){this._saveToCmd(C$99l._context._drawSkin,[C$99t])},c9iv2.create=function(){return c9iv2._caches.pop()||new c9iv2},c9iv2.recycle=function(C$99t){C$99t.clear(),c9iv2._caches.push(C$99t)},c9iv2._caches=[],c9iv2),C$99A=(C$99e(w61mh5,"laya.ani.AnimationTemplet",C$99u),(C$99t=w61mh5.prototype).parse=function(C$99t){C$99t=new C$99Et(C$99t);this._aniVersion=C$99t.readUTFString(),C$99g.parse(this,C$99t)},C$99t._calculateKeyFrame=function(C$99t,C$99e,C$99i){var C$99n=C$99t.keyFrame;C$99n[C$99e]=C$99n[0];for(var C$99r=0;C$99r<C$99e;C$99r++){var C$99s=C$99n[C$99r];C$99s.nextData=(0===C$99s.duration?C$99s:C$99n[C$99r+1]).data}C$99n.length--},C$99t.onAsynLoaded=function(C$99t,C$99e,C$99i){C$99e=new C$99Et(C$99e);("LAYAANIMATION:02"===(this._aniVersion=C$99e.readUTFString(),this._aniVersion)?C$99v:C$99g).parse(this,C$99e),this._endLoaded()},C$99t.disposeResource=function(){this._aniVersion=null,this._anis=null,this._aniMap=null,this._publicExtData=null,this.unfixedCurrentFrameIndexes=null,this.unfixedCurrentTimes=null,this.unfixedKeyframes=null,this._aniClassName=null,this._animationDatasCache=null},C$99t.getAnimationCount=function(){return this._anis.length},C$99t.getAnimation=function(C$99t){return this._anis[C$99t]},C$99t.getAniDuration=function(C$99t){return this._anis[C$99t].playTime},C$99t.getNodes=function(C$99t){return this._anis[C$99t].nodes},C$99t.getNodeIndexWithName=function(C$99t,C$99e){return this._anis[C$99t].bone3DMap[C$99e]},C$99t.getNodeCount=function(C$99t){return this._anis[C$99t].nodes.length},C$99t.getTotalkeyframesLength=function(C$99t){return this._anis[C$99t].totalKeyframeDatasLength},C$99t.getPublicExtData=function(){return this._publicExtData},C$99t.getAnimationDataWithCache=function(C$99t,C$99e,C$99i,C$99n){C$99e=C$99e[C$99i];return C$99e&&(C$99i=C$99e[C$99t])?C$99i[C$99n]:null},C$99t.setAnimationDataWithCache=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99e=C$99e[C$99i]||(C$99e[C$99i]={});(C$99e[C$99t]||(C$99e[C$99t]=[]))[C$99n]=C$99r},C$99t.getOriginalData=function(C$99c,C$99t,C$99_,C$99u,C$99d){for(var C$99f=this._anis[C$99c].nodes,C$99e=0,C$99i=0,C$99p=C$99f.length,C$99n=0;C$99i<C$99p;C$99i++){var C$99r,C$99s=C$99f[C$99i];C$99r=C$99s.keyFrame[C$99_[C$99i][C$99u]],C$99s.dataOffset=C$99n;var C$99a=C$99d-C$99r.startTime,C$99m=C$99s.lerpType;if(C$99m)switch(C$99m){case 0:case 1:for(C$99e=0;C$99e<C$99s.keyframeWidth;)C$99e+=C$99s.interpolationMethod[C$99e](C$99s,C$99e,C$99t,C$99n+C$99e,C$99r.data,C$99a,null,C$99r.duration,C$99r.nextData);break;case 2:var C$99o=C$99r.interpolationData,C$99g=C$99o.length,C$99h=0;for(C$99e=0;C$99e<C$99g;){var C$99l=C$99o[C$99e];switch(C$99l){case 6:case 7:C$99e+=w61mh5.interpolation[C$99l](C$99s,C$99h,C$99t,C$99n+C$99h,C$99r.data,C$99a,null,C$99r.duration,C$99r.nextData,C$99o,C$99e+1);break;default:C$99e+=w61mh5.interpolation[C$99l](C$99s,C$99h,C$99t,C$99n+C$99h,C$99r.data,C$99a,null,C$99r.duration,C$99r.nextData)}C$99h++}}else for(C$99e=0;C$99e<C$99s.keyframeWidth;)C$99e+=C$99s.interpolationMethod[C$99e](C$99s,C$99e,C$99t,C$99n+C$99e,C$99r.data,C$99a,null,C$99r.duration,C$99r.nextData);C$99n+=C$99s.keyframeWidth}},C$99t.getNodesCurrentFrameIndex=function(C$99t,C$99e){var C$99i=this._anis[C$99t].nodes;C$99t!==this.unfixedLastAniIndex&&(this.unfixedCurrentFrameIndexes=new Uint32Array(C$99i.length),this.unfixedCurrentTimes=new Float32Array(C$99i.length),this.unfixedLastAniIndex=C$99t);for(var C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99n++){var C$99s=C$99i[C$99n];for(C$99e<this.unfixedCurrentTimes[C$99n]&&(this.unfixedCurrentFrameIndexes[C$99n]=0),this.unfixedCurrentTimes[C$99n]=C$99e;this.unfixedCurrentFrameIndexes[C$99n]<C$99s.keyFrame.length&&!(C$99s.keyFrame[this.unfixedCurrentFrameIndexes[C$99n]].startTime>this.unfixedCurrentTimes[C$99n]);)this.unfixedCurrentFrameIndexes[C$99n]++;this.unfixedCurrentFrameIndexes[C$99n]--}return this.unfixedCurrentFrameIndexes},C$99t.getOriginalDataUnfixedRate=function(C$99t,C$99e,C$99c){var C$99i=this._anis[C$99t].nodes;C$99t!==this.unfixedLastAniIndex&&(this.unfixedCurrentFrameIndexes=new Uint32Array(C$99i.length),this.unfixedCurrentTimes=new Float32Array(C$99i.length),this.unfixedKeyframes=C$99p(C$99i.length),this.unfixedLastAniIndex=C$99t);for(var C$99n=0,C$99r=0,C$99_=C$99i.length,C$99s=0;C$99r<C$99_;C$99r++){var C$99a=C$99i[C$99r];for(C$99c<this.unfixedCurrentTimes[C$99r]&&(this.unfixedCurrentFrameIndexes[C$99r]=0),this.unfixedCurrentTimes[C$99r]=C$99c;this.unfixedCurrentFrameIndexes[C$99r]<C$99a.keyFrame.length&&!(C$99a.keyFrame[this.unfixedCurrentFrameIndexes[C$99r]].startTime>this.unfixedCurrentTimes[C$99r]);)this.unfixedKeyframes[C$99r]=C$99a.keyFrame[this.unfixedCurrentFrameIndexes[C$99r]],this.unfixedCurrentFrameIndexes[C$99r]++;var C$99o=this.unfixedKeyframes[C$99r];C$99a.dataOffset=C$99s;var C$99h=C$99c-C$99o.startTime;if(C$99a.lerpType)switch(C$99a.lerpType){case 0:case 1:for(C$99n=0;C$99n<C$99a.keyframeWidth;)C$99n+=C$99a.interpolationMethod[C$99n](C$99a,C$99n,C$99e,C$99s+C$99n,C$99o.data,C$99h,null,C$99o.duration,C$99o.nextData);break;case 2:var C$99u=C$99o.interpolationData,C$99d=C$99u.length,C$99l=0;for(C$99n=0;C$99n<C$99d;){var C$99f=C$99u[C$99n];switch(C$99f){case 6:case 7:C$99n+=w61mh5.interpolation[C$99f](C$99a,C$99l,C$99e,C$99s+C$99l,C$99o.data,C$99h,null,C$99o.duration,C$99o.nextData,C$99u,C$99n+1);break;default:C$99n+=w61mh5.interpolation[C$99f](C$99a,C$99l,C$99e,C$99s+C$99l,C$99o.data,C$99h,null,C$99o.duration,C$99o.nextData)}C$99l++}}else for(C$99n=0;C$99n<C$99a.keyframeWidth;)C$99n+=C$99a.interpolationMethod[C$99n](C$99a,C$99n,C$99e,C$99s+C$99n,C$99o.data,C$99h,null,C$99o.duration,C$99o.nextData);C$99s+=C$99a.keyframeWidth}},w61mh5._LinearInterpolation_0=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){C$99s=0===C$99o?0:C$99s/C$99o;return C$99i[C$99n]=(1-C$99s)*C$99r[C$99e]+C$99s*C$99h[C$99e],1},w61mh5._QuaternionInterpolation_1=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){return C$99_.slerpQuaternionArray(C$99r,C$99e,C$99h,C$99e,0===C$99o?0:C$99s/C$99o,C$99i,C$99n),4},w61mh5._AngleInterpolation_2=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){return 0},w61mh5._RadiansInterpolation_3=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){return 0},w61mh5._Matrix4x4Interpolation_4=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99l,C$99c){for(var C$99h=0;C$99h<16;C$99h++,C$99e++)C$99i[C$99n+C$99h]=C$99r[C$99e]+C$99s*C$99a[C$99e];return 16},w61mh5._NoInterpolation_5=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){return C$99i[C$99n]=C$99r[C$99e],1},w61mh5._BezierInterpolation_6=function(C$99l,C$99t,C$99e,C$99i,C$99n,C$99r,C$99c,C$99s,C$99a,C$99o,C$99h){return C$99e[C$99i]=C$99n[C$99t]+(C$99a[C$99t]-C$99n[C$99t])*C$99T.getBezierRate(C$99r/C$99s,C$99o[C$99h=void 0===C$99h?0:C$99h],C$99o[C$99h+1],C$99o[C$99h+2],C$99o[C$99h+3]),5},w61mh5._BezierInterpolation_7=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99l,C$99c,C$99o,C$99h){return C$99i[C$99n]=C$99o[(C$99h=void 0===C$99h?0:C$99h)+4]+C$99o[C$99h+5]*C$99T.getBezierRate((.001*C$99s+C$99o[C$99h+6])/C$99o[C$99h+7],C$99o[C$99h],C$99o[C$99h+1],C$99o[C$99h+2],C$99o[C$99h+3]),9},w61mh5.load=function(C$99t){return C$99R.loader.create(C$99t,null,null,w61mh5)},w61mh5.interpolation=[w61mh5._LinearInterpolation_0,w61mh5._QuaternionInterpolation_1,w61mh5._AngleInterpolation_2,w61mh5._RadiansInterpolation_3,w61mh5._Matrix4x4Interpolation_4,w61mh5._NoInterpolation_5,w61mh5._BezierInterpolation_6,w61mh5._BezierInterpolation_7],w61mh5),C$99S=(C$99e(gr3bjn,"laya.ani.bone.Skeleton",C$99k=C$99P),(C$99n=gr3bjn.prototype).init=function(C$99t,C$99e){var C$99i,C$99n,C$99r,C$99s=0,C$99a=0;if(1==(C$99e=void 0===C$99e?0:C$99e))for(this._graphicsCache=[],C$99s=0,C$99a=C$99t.getAnimationCount();C$99s<C$99a;C$99s++)this._graphicsCache.push([]);if(this._yReverseMatrix=C$99t.yReverseMatrix,this._aniMode=C$99e,this._templet=C$99t,this._player=new C$99M,this._player.cacheFrameRate=C$99t.rate,this._player.templet=C$99t,this._player.play(),this._parseSrcBoneMatrix(),this._boneList=C$99t.mBoneArr,this._rootBone=C$99t.mRootBone,this._aniSectionDic=C$99t.aniSectionDic,0<C$99t.ikArr.length)for(this._ikArr=[],C$99s=0,C$99a=C$99t.ikArr.length;C$99s<C$99a;C$99s++)this._ikArr.push(new C$99x(C$99t.ikArr[C$99s],this._boneList));if(0<C$99t.pathArr.length)for(null==this._pathDic&&(this._pathDic={}),C$99s=0,C$99a=C$99t.pathArr.length;C$99s<C$99a;C$99s++)C$99i=C$99t.pathArr[C$99s],C$99n=new C$99y(C$99i,this._boneList),(C$99r=this._boneSlotDic[C$99i.name])&&((C$99n=new C$99y(C$99i,this._boneList)).target=C$99r),this._pathDic[C$99i.name]=C$99n;if(0<C$99t.tfArr.length)for(this._tfArr=[],C$99s=0,C$99a=C$99t.tfArr.length;C$99s<C$99a;C$99s++)this._tfArr.push(new C$99b(C$99t.tfArr[C$99s],this._boneList));0<C$99t.skinDataArray.length&&(C$99e=this._templet.skinDataArray[this._skinIndex],this._skinName=C$99e.name),this._player.on("played",this,this._onPlay),this._player.on("stopped",this,this._onStop),this._player.on("paused",this,this._onPause)},C$99n.load=function(C$99t,C$99e,C$99i){},C$99n._onLoaded=function(){},C$99n._parseComplete=function(){var C$99t=C$99I.TEMPLET_DICTIONARY[this._aniPath];C$99t&&(this.init(C$99t,this._loadAniMode),this.play(0,!0)),this._complete&&this._complete.runWith(this)},C$99n._parseFail=function(){console.error("[Error]:"+this._aniPath+"\u89e3\u6790\u5931\u8d25")},C$99n._onPlay=function(){this.event("played")},C$99n._onStop=function(){var C$99t,C$99e=this._templet.eventAniArr[this._aniClipIndex];if(C$99e&&this._eventIndex<C$99e.length)for(;this._eventIndex<C$99e.length;this._eventIndex++)(C$99t=C$99e[this._eventIndex]).time>=this._player.playStart&&C$99t.time<=this._player.playEnd&&this.event("label",C$99t);this._eventIndex=0,this._drawOrder=null,this.event("stopped")},C$99n._onPause=function(){this.event("paused")},C$99n._parseSrcBoneMatrix=function(){var C$99t=0,C$99e=0;for(C$99e=this._templet.srcBoneMatrixArr.length,C$99t=0;C$99t<C$99e;C$99t++)this._boneMatrixArray.push(new C$99Dt);if(0==this._aniMode)this._boneSlotDic=this._templet.boneSlotDic,this._bindBoneBoneSlotDic=this._templet.bindBoneBoneSlotDic,this._boneSlotArray=this._templet.boneSlotArray;else{null==this._boneSlotDic&&(this._boneSlotDic={}),null==this._bindBoneBoneSlotDic&&(this._bindBoneBoneSlotDic={}),null==this._boneSlotArray&&(this._boneSlotArray=[]);var C$99i,C$99n,C$99r=this._templet.boneSlotArray;for(C$99t=0,C$99e=C$99r.length;C$99t<C$99e;C$99t++)C$99i=C$99r[C$99t],null==(C$99n=this._bindBoneBoneSlotDic[C$99i.parent])&&(this._bindBoneBoneSlotDic[C$99i.parent]=C$99n=[]),this._boneSlotDic[C$99i.name]=C$99i=C$99i.copy(),C$99n.push(C$99i),this._boneSlotArray.push(C$99i)}},C$99n._emitMissedEvents=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=0);var C$99n=this._templet.eventAniArr[this._player.currentAnimationClipIndex];if(C$99n){var C$99r,C$99s,C$99a=0;for(C$99r=C$99n.length,C$99a=C$99i;C$99a<C$99r;C$99a++)(C$99s=C$99n[C$99a]).time>=this._player.playStart&&C$99s.time<=this._player.playEnd&&this.event("label",C$99s)}},C$99n._update=function(C$99t){if(void 0===C$99t&&(C$99t=!0),!(this._pause||C$99t&&this._indexControl)){var C$99e=this.timer.currTimer,C$99i=this._player.currentKeyframeIndex,C$99n=C$99e-this._lastTime;if(C$99t?this._player._update(C$99n):C$99i=-1,this._lastTime=C$99e,this._player&&(this._index=this._clipIndex=this._player.currentKeyframeIndex,!(this._index<0||0<C$99n&&this._clipIndex==C$99i&&this._lastUpdateAniClipIndex==this._aniClipIndex))){this._lastUpdateAniClipIndex=this._aniClipIndex,C$99i>this._clipIndex&&0!=this._eventIndex&&(this._emitMissedEvents(this._player.playStart,this._player.playEnd,this._eventIndex),this._eventIndex=0);var C$99r,C$99t=this._templet.eventAniArr[this._aniClipIndex];if(C$99t&&this._eventIndex<C$99t.length&&((C$99e=C$99t[this._eventIndex]).time>=this._player.playStart&&C$99e.time<=this._player.playEnd?this._player.currentPlayTime>=C$99e.time&&(this.event("label",C$99e),this._eventIndex++):this._eventIndex++),0==this._aniMode){if(C$99r=this._templet.getGrahicsDataWithCache(this._aniClipIndex,this._clipIndex))return void(this.graphics!=C$99r&&(this.graphics=C$99r));var C$99s=0,C$99a=0;for(C$99a=this._clipIndex;!this._templet.getGrahicsDataWithCache(this._aniClipIndex,C$99a-1)&&0<C$99a;)C$99a--;if(C$99a<this._clipIndex)for(C$99s=C$99a;C$99s<this._clipIndex;C$99s++)this._createGraphics(C$99s)}else if(1==this._aniMode){if(C$99r=this._getGrahicsDataWithCache(this._aniClipIndex,this._clipIndex))return void(this.graphics!=C$99r&&(this.graphics=C$99r));for(C$99a=this._clipIndex;!this._getGrahicsDataWithCache(this._aniClipIndex,C$99a-1)&&0<C$99a;)C$99a--;if(C$99a<this._clipIndex)for(C$99s=C$99a;C$99s<this._clipIndex;C$99s++)this._createGraphics(C$99s)}this._createGraphics()}}},C$99n._createGraphics=function(C$99t){var C$99c,C$99e,C$99_=(C$99t=-1==(C$99t=void 0===C$99t?-1:C$99t)?this._clipIndex:C$99t)*this._player.cacheFrameRateInterval,C$99u=this._templet.drawOrderAniArr[this._aniClipIndex];if(C$99u&&0<C$99u.length)for(this._drawOrderIndex=0,C$99c=C$99u[this._drawOrderIndex];C$99_>=C$99c.time&&(this._drawOrder=C$99c.drawOrder,this._drawOrderIndex++,!(this._drawOrderIndex>=C$99u.length));)C$99c=C$99u[this._drawOrderIndex];0!=this._aniMode&&1!=this._aniMode&&this.graphics instanceof laya.ani.GraphicsAni?this.graphics.clear():this.graphics=C$99L.create(),C$99e=this.graphics;var C$99d=this._templet.getNodes(this._aniClipIndex);this._templet.getOriginalData(this._aniClipIndex,this._curOriginalData,this._player._fullFrames[this._aniClipIndex],C$99t,C$99_);var C$99i,C$99f,C$99n,C$99r,C$99p=this._aniSectionDic[this._aniClipIndex],C$99s=0,C$99a=0,C$99m=0,C$99g=0,C$99o=0,C$99v=this._templet.srcBoneMatrixArr.length;for(C$99o=C$99p[C$99a=0];C$99a<C$99v;C$99a++)C$99r=this._boneList[C$99a],C$99n=this._templet.srcBoneMatrixArr[C$99a],C$99r.resultTransform.scX=C$99n.scX*this._curOriginalData[C$99s++],C$99r.resultTransform.skX=C$99n.skX+this._curOriginalData[C$99s++],C$99r.resultTransform.skY=C$99n.skY+this._curOriginalData[C$99s++],C$99r.resultTransform.scY=C$99n.scY*this._curOriginalData[C$99s++],C$99r.resultTransform.x=C$99n.x+this._curOriginalData[C$99s++],C$99r.resultTransform.y=C$99n.y+this._curOriginalData[C$99s++],8===this._templet.tMatrixDataLen&&(C$99r.resultTransform.skewX=C$99n.skewX+this._curOriginalData[C$99s++],C$99r.resultTransform.skewY=C$99n.skewY+this._curOriginalData[C$99s++]);var C$99x,C$99y={},C$99b={};for(C$99o+=C$99p[1];C$99a<C$99o;C$99a++)C$99y[(C$99x=C$99d[C$99a]).name]=this._curOriginalData[C$99s++],C$99b[C$99x.name]=this._curOriginalData[C$99s++],this._curOriginalData[C$99s++],this._curOriginalData[C$99s++],this._curOriginalData[C$99s++],this._curOriginalData[C$99s++];var C$99w,C$99T,C$99M={},C$99S={};for(C$99o+=C$99p[2];C$99a<C$99o;C$99a++)C$99M[(C$99x=C$99d[C$99a]).name]=this._curOriginalData[C$99s++],C$99S[C$99x.name]=this._curOriginalData[C$99s++],this._curOriginalData[C$99s++],this._curOriginalData[C$99s++],this._curOriginalData[C$99s++],this._curOriginalData[C$99s++];if(this._pathDic)for(C$99o+=C$99p[3];C$99a<C$99o;C$99a++)if(C$99x=C$99d[C$99a],C$99w=this._pathDic[C$99x.name])switch(new C$99Et(C$99x.extenData).getByte()){case 1:C$99w.position=this._curOriginalData[C$99s++];break;case 2:C$99w.spacing=this._curOriginalData[C$99s++];break;case 3:C$99w.rotateMix=this._curOriginalData[C$99s++],C$99w.translateMix=this._curOriginalData[C$99s++]}if(this._yReverseMatrix?this._rootBone.update(this._yReverseMatrix):this._rootBone.update(C$99Dt.TEMP.identity()),this._ikArr)for(C$99a=0,C$99o=this._ikArr.length;C$99a<C$99o;C$99a++)C$99T=this._ikArr[C$99a],C$99M.hasOwnProperty(C$99T.name)&&(C$99T.bendDirection=C$99M[C$99T.name]),C$99S.hasOwnProperty(C$99T.name)&&(C$99T.mix=C$99S[C$99T.name]),C$99T.apply();if(this._pathDic)for(var C$99C in this._pathDic)(C$99w=this._pathDic[C$99C]).apply(this._boneList,C$99e);if(this._tfArr)for(C$99a=0,C$99g=this._tfArr.length;C$99a<C$99g;C$99a++)this._tfArr[C$99a].apply();for(C$99a=0,C$99g=this._boneList.length;C$99a<C$99g;C$99a++)if(C$99r=this._boneList[C$99a],C$99f=this._bindBoneBoneSlotDic[C$99r.name],C$99r.resultMatrix.copyTo(this._boneMatrixArray[C$99a]),C$99f)for(C$99m=0,C$99o=C$99f.length;C$99m<C$99o;C$99m++)(C$99i=C$99f[C$99m])&&C$99i.setParentMatrix(C$99r.resultMatrix);var C$99D,C$99h,C$99l,C$99E,C$99A={},C$99p=this._templet.deformAniArr;if(C$99p&&0<C$99p.length){if(this._lastAniClipIndex!=this._aniClipIndex)for(this._lastAniClipIndex=this._aniClipIndex,C$99a=0,C$99o=this._boneSlotArray.length;C$99a<C$99o;C$99a++)(C$99i=this._boneSlotArray[C$99a]).deformData=null;var C$99I,C$99R=C$99p[this._aniClipIndex];for(C$99I in C$99D=C$99R.default,this._setDeform(C$99D,C$99A,this._boneSlotArray,C$99_),C$99R)"default"!=C$99I&&C$99I!=this._skinName&&(C$99D=C$99R[C$99I],this._setDeform(C$99D,C$99A,this._boneSlotArray,C$99_));C$99D=C$99R[this._skinName],this._setDeform(C$99D,C$99A,this._boneSlotArray,C$99_)}if(this._drawOrder)for(C$99a=0,C$99o=this._drawOrder.length;C$99a<C$99o;C$99a++)C$99h=C$99y[(C$99i=this._boneSlotArray[this._drawOrder[C$99a]]).name],C$99l=C$99b[C$99i.name],isNaN(C$99l)||(C$99e.save(),C$99e.alpha(C$99l)),isNaN(C$99h)||-2==C$99h||(this._templet.attachmentNames?C$99i.showDisplayByName(this._templet.attachmentNames[C$99h]):C$99i.showDisplayByIndex(C$99h)),C$99A[this._drawOrder[C$99a]]?(C$99E=C$99A[this._drawOrder[C$99a]],C$99i.currDisplayData&&C$99E[C$99i.currDisplayData.attachmentName]?C$99i.deformData=C$99E[C$99i.currDisplayData.attachmentName]:C$99i.deformData=null):C$99i.deformData=null,isNaN(C$99l)?C$99i.draw(C$99e,this._boneMatrixArray,2==this._aniMode):C$99i.draw(C$99e,this._boneMatrixArray,2==this._aniMode,C$99l),isNaN(C$99l)||C$99e.restore();else for(C$99a=0,C$99o=this._boneSlotArray.length;C$99a<C$99o;C$99a++)C$99h=C$99y[(C$99i=this._boneSlotArray[C$99a]).name],C$99l=C$99b[C$99i.name],isNaN(C$99l)||(C$99e.save(),C$99e.alpha(C$99l)),isNaN(C$99h)||-2==C$99h||(this._templet.attachmentNames?C$99i.showDisplayByName(this._templet.attachmentNames[C$99h]):C$99i.showDisplayByIndex(C$99h)),C$99A[C$99a]?(C$99E=C$99A[C$99a],C$99i.currDisplayData&&C$99E[C$99i.currDisplayData.attachmentName]?C$99i.deformData=C$99E[C$99i.currDisplayData.attachmentName]:C$99i.deformData=null):C$99i.deformData=null,isNaN(C$99l)?C$99i.draw(C$99e,this._boneMatrixArray,2==this._aniMode):C$99i.draw(C$99e,this._boneMatrixArray,2==this._aniMode,C$99l),isNaN(C$99l)||C$99e.restore();0==this._aniMode?this._templet.setGrahicsDataWithCache(this._aniClipIndex,C$99t,C$99e):1==this._aniMode&&this._setGrahicsDataWithCache(this._aniClipIndex,C$99t,C$99e)},C$99n._setDeform=function(C$99t,C$99e,C$99i,C$99n){if(C$99t){var C$99r,C$99s,C$99a,C$99o,C$99h=0,C$99l=0;if(C$99t)for(C$99h=0,C$99o=C$99t.deformSlotDataList.length;C$99h<C$99o;C$99h++)for(C$99r=C$99t.deformSlotDataList[C$99h],C$99l=0;C$99l<C$99r.deformSlotDisplayList.length;C$99l++)C$99a=C$99i[(C$99s=C$99r.deformSlotDisplayList[C$99l]).slotIndex],C$99s.apply(C$99n,C$99a),C$99e[C$99s.slotIndex]||(C$99e[C$99s.slotIndex]={}),C$99e[C$99s.slotIndex][C$99s.attachment]=C$99s.deformData}},C$99n.getAnimNum=function(){return this._templet.getAnimationCount()},C$99n.getAniNameByIndex=function(C$99t){return this._templet.getAniNameByIndex(C$99t)},C$99n.getSlotByName=function(C$99t){return this._boneSlotDic[C$99t]},C$99n.showSkinByName=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!0),this.showSkinByIndex(this._templet.getSkinIndexByName(C$99t),C$99e)},C$99n.showSkinByIndex=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!0);for(var C$99i=0;C$99i<this._boneSlotArray.length;C$99i++)this._boneSlotArray[C$99i].showSlotData(null,C$99e);var C$99n;this._templet.showSkinByIndex(this._boneSlotDic,C$99t,C$99e)&&(C$99n=this._templet.skinDataArray[C$99t],this._skinIndex=C$99t,this._skinName=C$99n.name),this._clearCache()},C$99n.showSlotSkinByIndex=function(C$99t,C$99e){0!=this._aniMode&&((C$99t=this.getSlotByName(C$99t))&&C$99t.showDisplayByIndex(C$99e),this._clearCache())},C$99n.showSlotSkinByName=function(C$99t,C$99e){0!=this._aniMode&&((C$99t=this.getSlotByName(C$99t))&&C$99t.showDisplayByName(C$99e),this._clearCache())},C$99n.replaceSlotSkinName=function(C$99t,C$99e,C$99i){0!=this._aniMode&&((C$99t=this.getSlotByName(C$99t))&&C$99t.replaceDisplayByName(C$99e,C$99i),this._clearCache())},C$99n.replaceSlotSkinByIndex=function(C$99t,C$99e,C$99i){0!=this._aniMode&&((C$99t=this.getSlotByName(C$99t))&&C$99t.replaceDisplayByIndex(C$99e,C$99i),this._clearCache())},C$99n.setSlotSkin=function(C$99t,C$99e){0!=this._aniMode&&((C$99t=this.getSlotByName(C$99t))&&C$99t.replaceSkin(C$99e),this._clearCache())},C$99n._clearCache=function(){if(1==this._aniMode)for(var C$99t=0,C$99e=this._graphicsCache.length;C$99t<C$99e;C$99t++){for(var C$99i=0,C$99n=this._graphicsCache[C$99t].length;C$99i<C$99n;C$99i++){var C$99r=this._graphicsCache[C$99t][C$99i];C$99r!=this.graphics&&C$99L.recycle(C$99r)}this._graphicsCache[C$99t].length=0}},C$99n.play=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){void 0===C$99i&&(C$99i=!0),void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0),void 0===C$99s&&(C$99s=!0),this._indexControl=!1;var C$99a=-1;if(C$99e=C$99e?2147483647:0,"string"==typeof C$99t)for(var C$99o=0,C$99h=this._templet.getAnimationCount();C$99o<C$99h;C$99o++){var C$99l=this._templet.getAnimation(C$99o);if(C$99l&&C$99t==C$99l.name){C$99a=C$99o;break}}else C$99a=C$99t;-1<C$99a&&C$99a<this.getAnimNum()&&(this._aniClipIndex=C$99a,(C$99i||this._pause||this._currAniIndex!=C$99a)&&(this._currAniIndex=C$99a,this._curOriginalData=new Float32Array(this._templet.getTotalkeyframesLength(C$99a)),this._drawOrder=null,this._eventIndex=0,this._player.play(C$99a,this._player.playbackRate,C$99e,C$99n,C$99r),C$99s&&this._templet.showSkinByIndex(this._boneSlotDic,this._skinIndex),this._pause&&(this._pause=!1,this._lastTime=C$99c.now(),this.timer.frameLoop(1,this,this._update,null,!0)),this._update()))},C$99n.stop=function(){this._pause||(this._pause=!0,this._player&&this._player.stop(!0),this.timer.clear(this,this._update))},C$99n.playbackRate=function(C$99t){this._player&&(this._player.playbackRate=C$99t)},C$99n.paused=function(){this._pause||(this._pause=!0,this._player&&(this._player.paused=!0),this.timer.clear(this,this._update))},C$99n.resume=function(){this._indexControl=!1,this._pause&&(this._pause=!1,this._player&&(this._player.paused=!1),this._lastTime=C$99c.now(),this.timer.frameLoop(1,this,this._update,null,!0))},C$99n._getGrahicsDataWithCache=function(C$99t,C$99e){return this._graphicsCache[C$99t][C$99e]},C$99n._setGrahicsDataWithCache=function(C$99t,C$99e,C$99i){this._graphicsCache[C$99t][C$99e]=C$99i},C$99n.destroy=function(C$99t){C$99k.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._templet=null,this._player&&this._player.offAll(),this._player=null,this._curOriginalData=null,this._boneMatrixArray.length=0,this._lastTime=0,this.timer.clear(this,this._update)},C$99i(0,C$99n,"url",function(){return this._aniPath},function(C$99t){this.load(C$99t)}),C$99i(0,C$99n,"index",function(){return this._index},function(C$99t){this.player&&(this._index=C$99t,this._player.currentTime=1e3*this._index/this._player.cacheFrameRate,this._indexControl=!0,this._update(!1))}),C$99i(0,C$99n,"total",function(){return this._templet&&this._player?this._total=Math.floor(this._templet.getAniDuration(this._player.currentAnimationClipIndex)/1e3*this._player.cacheFrameRate):this._total=-1,this._total}),C$99i(0,C$99n,"templet",function(){return this._templet}),C$99i(0,C$99n,"player",function(){return this._player}),gr3bjn.useSimpleMeshInCanvas=!1,gr3bjn),C$99I=(C$99e(v9dci,"laya.ani.bone.Templet",C$99z=C$99A),(C$99r=v9dci.prototype).getLoadList=function(){return this._loadList},C$99r.loadAni=function(C$99t){this._skBufferUrl=C$99t,C$99R.loader.load(C$99t,C$99o.create(this,this.onComplete),null,"arraybuffer")},C$99r.onComplete=function(C$99t){var C$99e;this._isDestroyed?this.destroy():(C$99e=C$99h.getRes(this._skBufferUrl))?(this._path=this._skBufferUrl.slice(0,this._skBufferUrl.lastIndexOf("/"))+"/",this.parseData(null,C$99e)):this.event("error","load failed:"+this._skBufferUrl)},C$99r.parseData=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=30),!this._path&&this.url&&(this._path=this.url.slice(0,this.url.lastIndexOf("/"))+"/"),this._mainTexture=C$99t,this._mainTexture&&C$99l.isWebGL&&C$99t.bitmap&&(C$99t.bitmap.enableMerageInAtlas=!1),this._rate=C$99i,this.parse(C$99e)},C$99r.buildArmature=function(C$99t){return new C$99S(this,C$99t=void 0===C$99t?0:C$99t)},C$99r.parse=function(C$99t){C$99z.prototype.parse.call(this,C$99t),this._endLoaded(),this._aniVersion!=v9dci.LAYA_ANIMATION_VISION&&(console.error("[Error] \u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u8bf7\u4f7f\u7528IDE\u7248\u672c\u914d\u5957\u7684\u91cd\u65b0\u5bfc\u51fa"+this._aniVersion+"->"+v9dci.LAYA_ANIMATION_VISION),this._loaded=!1),this.loaded?this._mainTexture?this._parsePublicExtData():this._parseTexturePath():(this.event("error",this),this.isParseFail=!0)},C$99r._parseTexturePath=function(){if(this._isDestroyed)this.destroy();else{var C$99t=0;this._loadList=[];var C$99e,C$99i=new C$99Et(this.getPublicExtData()),C$99n=0,C$99r=C$99i.getInt32(),C$99s=C$99i.readUTFString().split("\n");for(C$99t=0;C$99t<C$99r;C$99t++)C$99e=this._path+C$99s[2*C$99t],C$99s[2*C$99t+1],C$99i.getFloat32(),C$99i.getFloat32(),C$99i.getFloat32(),C$99i.getFloat32(),C$99n=C$99i.getFloat32(),isNaN(C$99n),C$99n=C$99i.getFloat32(),isNaN(C$99n),C$99n=C$99i.getFloat32(),isNaN(C$99n),C$99n=C$99i.getFloat32(),isNaN(C$99n),-1==this._loadList.indexOf(C$99e)&&this._loadList.push(C$99e);this.event("inited",this)}},C$99r._textureComplete=function(){for(var C$99t,C$99e=0,C$99i=this._loadList.length;C$99e<C$99i;C$99e++)C$99t=this._loadList[C$99e],C$99t=this._textureDic[C$99t]=C$99h.getRes(C$99t),C$99l.isWebGL&&C$99t&&C$99t.bitmap&&(C$99t.bitmap.enableMerageInAtlas=!1);this._parsePublicExtData()},C$99r._parsePublicExtData=function(){var C$99t=0,C$99e=0,C$99c=0,C$99i=0,C$99_=0;for(C$99t=0,C$99_=this.getAnimationCount();C$99t<C$99_;C$99t++)this._graphicsCache.push([]);var C$99u;C$99u="Dragon"!=this._aniClassName;var C$99d,C$99f,C$99p,C$99m,C$99g,C$99v,C$99x,C$99y,C$99b,C$99n=new C$99Et(this.getPublicExtData()),C$99r=0,C$99w=C$99n.getInt32(),C$99T=C$99n.readUTFString(),C$99M=C$99T.split("\n");for(C$99t=0;C$99t<C$99w;C$99t++){if(C$99d=this._mainTexture,C$99f=this._path+C$99M[2*C$99t],C$99T=C$99M[2*C$99t+1],!(C$99d=null==this._mainTexture?this._textureDic[C$99f]:C$99d))return this.event("error",this),void(this.isParseFail=!0);C$99f=C$99n.getFloat32(),C$99p=C$99n.getFloat32(),C$99m=C$99n.getFloat32(),C$99g=C$99n.getFloat32(),C$99r=C$99n.getFloat32(),C$99v=isNaN(C$99r)?0:C$99r,C$99r=C$99n.getFloat32(),C$99x=isNaN(C$99r)?0:C$99r,C$99r=C$99n.getFloat32(),C$99y=isNaN(C$99r)?C$99m:C$99r,C$99r=C$99n.getFloat32(),C$99b=isNaN(C$99r)?C$99g:C$99r,this.subTextureDic[C$99T]=C$99At.create(C$99d,C$99f,C$99p,C$99m,C$99g,-C$99v,-C$99x,C$99y,C$99b),C$99d.alphaTexture&&(this.subTextureDic[C$99T].alphaTexture=C$99At.create(C$99d.alphaTexture,C$99f,C$99p,C$99m,C$99g,-C$99v,-C$99x,C$99y,C$99b))}this._mainTexture=C$99d;var C$99S,C$99s,C$99C,C$99D,C$99E=C$99n.getUint16();for(C$99t=0;C$99t<C$99E;C$99t++)(C$99S=[]).push(C$99n.getUint16()),C$99S.push(C$99n.getUint16()),C$99S.push(C$99n.getUint16()),C$99S.push(C$99n.getUint16()),this.aniSectionDic[C$99t]=C$99S;var C$99A,C$99I=C$99n.getInt16(),C$99R={};for(C$99t=0;C$99t<C$99I;C$99t++)C$99s=new C$99It,0==C$99t?C$99A=C$99s:C$99s.root=C$99A,C$99s.d=C$99u?-1:1,C$99C=C$99n.readUTFString(),C$99D=C$99n.readUTFString(),C$99s.length=C$99n.getFloat32(),1==C$99n.getByte()&&(C$99s.inheritRotation=!1),1==C$99n.getByte()&&(C$99s.inheritScale=!1),C$99s.name=C$99C,C$99D&&((C$99D=C$99R[C$99D])?C$99D.addChild(C$99s):this.mRootBone=C$99s),C$99R[C$99C]=C$99s,this.mBoneArr.push(C$99s);this.tMatrixDataLen=C$99n.getUint16();var C$99P,C$99L,C$99z=C$99n.getUint16(),C$99k=Math.floor(C$99z/this.tMatrixDataLen),C$99B=this.srcBoneMatrixArr;for(C$99t=0;C$99t<C$99k;C$99t++)(C$99P=new C$99jt).scX=C$99n.getFloat32(),C$99P.skX=C$99n.getFloat32(),C$99P.skY=C$99n.getFloat32(),C$99P.scY=C$99n.getFloat32(),C$99P.x=C$99n.getFloat32(),C$99P.y=C$99n.getFloat32(),8===this.tMatrixDataLen&&(C$99P.skewX=C$99n.getFloat32(),C$99P.skewY=C$99n.getFloat32()),C$99B.push(C$99P),(C$99s=this.mBoneArr[C$99t]).transform=C$99P;var C$99a,C$99N,C$99O=C$99n.getUint16();for(C$99t=0;C$99t<C$99O;C$99t++){for(C$99L=new C$99Nt,C$99N=C$99n.getUint16(),C$99e=0;C$99e<C$99N;C$99e++)C$99L.boneNames.push(C$99n.readUTFString()),C$99L.boneIndexs.push(C$99n.getInt16());C$99L.name=C$99n.readUTFString(),C$99L.targetBoneName=C$99n.readUTFString(),C$99L.targetBoneIndex=C$99n.getInt16(),C$99L.bendDirection=C$99n.getFloat32(),C$99L.mix=C$99n.getFloat32(),C$99L.isSpine=C$99u,this.ikArr.push(C$99L)}var C$99o,C$99F,C$99V=C$99n.getUint16();for(C$99t=0;C$99t<C$99V;C$99t++){for(C$99a=new C$99Ut,C$99F=C$99n.getUint16(),C$99e=0;C$99e<C$99F;C$99e++)C$99a.boneIndexs.push(C$99n.getInt16());C$99a.name=C$99n.getUTFString(),C$99a.targetIndex=C$99n.getInt16(),C$99a.rotateMix=C$99n.getFloat32(),C$99a.translateMix=C$99n.getFloat32(),C$99a.scaleMix=C$99n.getFloat32(),C$99a.shearMix=C$99n.getFloat32(),C$99a.offsetRotation=C$99n.getFloat32(),C$99a.offsetX=C$99n.getFloat32(),C$99a.offsetY=C$99n.getFloat32(),C$99a.offsetScaleX=C$99n.getFloat32(),C$99a.offsetScaleY=C$99n.getFloat32(),C$99a.offsetShearY=C$99n.getFloat32(),this.tfArr.push(C$99a)}var C$99$,C$99U=C$99n.getUint16();for(C$99t=0;C$99t<C$99U;C$99t++){for((C$99o=new C$99Ot).name=C$99n.readUTFString(),C$99$=C$99n.getUint16(),C$99e=0;C$99e<C$99$;C$99e++)C$99o.bones.push(C$99n.getInt16());C$99o.target=C$99n.readUTFString(),C$99o.positionMode=C$99n.readUTFString(),C$99o.spacingMode=C$99n.readUTFString(),C$99o.rotateMode=C$99n.readUTFString(),C$99o.offsetRotation=C$99n.getFloat32(),C$99o.position=C$99n.getFloat32(),C$99o.spacing=C$99n.getFloat32(),C$99o.rotateMix=C$99n.getFloat32(),C$99o.translateMix=C$99n.getFloat32(),this.pathArr.push(C$99o)}var C$99j,C$99q,C$99H,C$99W,C$99G,C$99Y,C$99X,C$99K,C$99Z,C$99Q,C$99J=C$99n.getInt16();for(C$99t=0;C$99t<C$99J;C$99t++){var C$99tt=C$99n.getUint8(),C$99et={};this.deformAniArr.push(C$99et);for(var C$99it=0;C$99it<C$99tt;C$99it++)for((C$99j=new C$99Pt).skinName=C$99n.getUTFString(),C$99et[C$99j.skinName]=C$99j,C$99Y=C$99n.getInt16(),C$99e=0;C$99e<C$99Y;C$99e++)for(C$99q=new C$99Lt,C$99j.deformSlotDataList.push(C$99q),C$99X=C$99n.getInt16(),C$99c=0;C$99c<C$99X;C$99c++)for(C$99H=new C$99zt,C$99q.deformSlotDisplayList.push(C$99H),C$99H.slotIndex=C$99n.getInt16(),C$99H.attachment=C$99n.getUTFString(),C$99K=C$99n.getInt16(),C$99i=0;C$99i<C$99K;C$99i++)for(1==C$99n.getByte()?C$99H.tweenKeyList.push(!0):C$99H.tweenKeyList.push(!1),C$99Z=C$99n.getFloat32(),C$99H.timeList.push(C$99Z),C$99H.vectices.push(C$99W=[]),C$99Q=C$99n.getInt16(),C$99_=0;C$99_<C$99Q;C$99_++)C$99W.push(C$99n.getFloat32())}var C$99nt,C$99rt,C$99st,C$99at,C$99ot=C$99n.getInt16();for(C$99t=0;C$99t<C$99ot;C$99t++){for(C$99st=C$99n.getInt16(),C$99G=[],C$99e=0;C$99e<C$99st;C$99e++){for((C$99nt=new C$99kt).time=C$99n.getFloat32(),C$99at=C$99n.getInt16(),C$99c=0;C$99c<C$99at;C$99c++)C$99nt.drawOrder.push(C$99n.getInt16());C$99G.push(C$99nt)}this.drawOrderAniArr.push(C$99G)}var C$99ht,C$99lt,C$99ct=C$99n.getInt16();for(C$99t=0;C$99t<C$99ct;C$99t++){for(C$99lt=C$99n.getInt16(),C$99rt=[],C$99e=0;C$99e<C$99lt;C$99e++)(C$99ht=new C$99Bt).name=C$99n.getUTFString(),C$99ht.intValue=C$99n.getInt32(),C$99ht.floatValue=C$99n.getFloat32(),C$99ht.stringValue=C$99n.getUTFString(),C$99ht.time=C$99n.getFloat32(),C$99rt.push(C$99ht);this.eventAniArr.push(C$99rt)}var C$99_t=C$99n.getInt16();if(0<C$99_t)for(this.attachmentNames=[],C$99t=0;C$99t<C$99_t;C$99t++)this.attachmentNames.push(C$99n.getUTFString());var C$99h,C$99ut,C$99dt=C$99n.getInt16();for(C$99t=0;C$99t<C$99dt;C$99t++)(C$99h=new C$99Rt).name=C$99n.readUTFString(),C$99h.parent=C$99n.readUTFString(),C$99h.attachmentName=C$99n.readUTFString(),C$99h.srcDisplayIndex=C$99h.displayIndex=C$99n.getInt16(),(C$99h.templet=this).boneSlotDic[C$99h.name]=C$99h,null==(C$99ut=this.bindBoneBoneSlotDic[C$99h.parent])&&(this.bindBoneBoneSlotDic[C$99h.parent]=C$99ut=[]),C$99ut.push(C$99h),this.boneSlotArray.push(C$99h);var C$99ft,C$99pt,C$99l,C$99mt,C$99gt,C$99vt,C$99xt,C$99yt,C$99bt,C$99wt,C$99Tt=C$99n.readUTFString().split("\n"),C$99Mt=0,C$99St=C$99n.getUint8();for(C$99t=0;C$99t<C$99St;C$99t++){for((C$99ft=new C$99Ft).name=C$99Tt[C$99Mt++],C$99mt=C$99n.getUint8(),C$99e=0;C$99e<C$99mt;C$99e++){for((C$99pt=new C$99$t).name=C$99Tt[C$99Mt++],C$99h=this.boneSlotDic[C$99pt.name],C$99gt=C$99n.getUint8(),C$99c=0;C$99c<C$99gt;C$99c++){if(C$99l=new C$99Vt,this.skinSlotDisplayDataArr.push(C$99l),C$99l.name=C$99Tt[C$99Mt++],C$99l.attachmentName=C$99Tt[C$99Mt++],C$99l.transform=new C$99jt,C$99l.transform.scX=C$99n.getFloat32(),C$99l.transform.skX=C$99n.getFloat32(),C$99l.transform.skY=C$99n.getFloat32(),C$99l.transform.scY=C$99n.getFloat32(),C$99l.transform.x=C$99n.getFloat32(),C$99l.transform.y=C$99n.getFloat32(),C$99pt.displayArr.push(C$99l),C$99l.width=C$99n.getFloat32(),C$99l.height=C$99n.getFloat32(),C$99l.type=C$99n.getUint8(),C$99l.verLen=C$99n.getUint16(),0<(C$99I=C$99n.getUint16()))for(C$99l.bones=[],C$99i=0;C$99i<C$99I;C$99i++){var C$99Ct=C$99n.getUint16();C$99l.bones.push(C$99Ct)}if(0<(C$99vt=C$99n.getUint16()))for(C$99l.uvs=[],C$99i=0;C$99i<C$99vt;C$99i++)C$99l.uvs.push(C$99n.getFloat32());if(0<(C$99xt=C$99n.getUint16()))for(C$99l.weights=[],C$99i=0;C$99i<C$99xt;C$99i++)C$99l.weights.push(C$99n.getFloat32());if(0<(C$99yt=C$99n.getUint16()))for(C$99l.triangles=[],C$99i=0;C$99i<C$99yt;C$99i++)C$99l.triangles.push(C$99n.getUint16());if(0<(C$99bt=C$99n.getUint16()))for(C$99l.vertices=[],C$99i=0;C$99i<C$99bt;C$99i++)C$99l.vertices.push(C$99n.getFloat32());if(0<(C$99wt=C$99n.getUint16()))for(C$99l.lengths=[],C$99i=0;C$99i<C$99wt;C$99i++)C$99l.lengths.push(C$99n.getFloat32())}C$99ft.slotArr.push(C$99pt)}this.skinDic[C$99ft.name]=C$99ft,this.skinDataArray.push(C$99ft)}1==C$99n.getUint8()?(this.yReverseMatrix=new C$99Dt(1,0,0,-1,0,0),C$99A&&C$99A.setTempMatrix(this.yReverseMatrix)):C$99A&&C$99A.setTempMatrix(new C$99Dt),this.showSkinByIndex(this.boneSlotDic,0),this.isParserComplete=!0,this.event("complete",this)},C$99r.getTexture=function(C$99t){var C$99e=this.subTextureDic[C$99t];return null==(C$99e=C$99e||this.subTextureDic[C$99t.substr(0,C$99t.length-1)])?this._mainTexture:C$99e},C$99r.showSkinByIndex=function(C$99t,C$99e,C$99i){if(void 0===C$99i&&(C$99i=!0),C$99e<0&&C$99e>=this.skinDataArray.length)return!1;var C$99n,C$99r,C$99s,C$99a=0,C$99o=this.skinDataArray[C$99e];if(C$99o){for(C$99a=0,C$99s=C$99o.slotArr.length;C$99a<C$99s;C$99a++)(C$99r=C$99o.slotArr[C$99a])&&(C$99n=C$99t[C$99r.name])&&(C$99n.showSlotData(C$99r,C$99i),C$99i&&"undefined"!=C$99n.attachmentName&&"null"!=C$99n.attachmentName?C$99n.showDisplayByName(C$99n.attachmentName):C$99n.showDisplayByIndex(C$99n.displayIndex));return!0}return!1},C$99r.getSkinIndexByName=function(C$99t){for(var C$99e=0,C$99i=this.skinDataArray.length;C$99e<C$99i;C$99e++)if(this.skinDataArray[C$99e].name==C$99t)return C$99e;return-1},C$99r.getGrahicsDataWithCache=function(C$99t,C$99e){return this._graphicsCache[C$99t][C$99e]},C$99r.setGrahicsDataWithCache=function(C$99t,C$99e,C$99i){this._graphicsCache[C$99t][C$99e]=C$99i},C$99r.destroy=function(){var C$99t;for(var C$99e in this._isDestroyed=!0,this.subTextureDic)(C$99t=this.subTextureDic[C$99e])&&C$99t.destroy();for(C$99e in this._textureDic)(C$99t=this._textureDic[C$99e])&&C$99t.destroy();for(var C$99i=0,C$99n=this.skinSlotDisplayDataArr.length;C$99i<C$99n;C$99i++)this.skinSlotDisplayDataArr[C$99i].destory();this.skinSlotDisplayDataArr.length=0,this.url&&delete v9dci.TEMPLET_DICTIONARY[this.url],laya.resource.Resource.prototype.destroy.call(this)},C$99r.getAniNameByIndex=function(C$99t){C$99t=this.getAnimation(C$99t);return C$99t?C$99t.name:null},C$99i(0,C$99r,"rate",function(){return this._rate},function(C$99t){this._rate=C$99t}),v9dci.LAYA_ANIMATION_VISION="LAYAANIMATION:1.6.0",v9dci.TEMPLET_DICTIONARY=null,v9dci);function v9dci(){this._mainTexture=null,this._textureJson=null,this._graphicsCache=[],this.srcBoneMatrixArr=[],this.ikArr=[],this.tfArr=[],this.pathArr=[],this.boneSlotDic={},this.bindBoneBoneSlotDic={},this.boneSlotArray=[],this.skinDataArray=[],this.skinDic={},this.subTextureDic={},this.isParseFail=!1,this.yReverseMatrix=null,this.drawOrderAniArr=[],this.eventAniArr=[],this.attachmentNames=null,this.deformAniArr=[],this._isDestroyed=!1,this._rate=30,this.isParserComplete=!1,this.aniSectionDic={},this._skBufferUrl=null,this._textureDic={},this._loadList=null,this._path=null,this.tMatrixDataLen=0,this.mRootBone=null,v9dci.__super.call(this),this.skinSlotDisplayDataArr=[],this.mBoneArr=[]}var C$99z;function gr3bjn(C$99t,C$99e){this._templet=null,this._player=null,this._curOriginalData=null,this._boneMatrixArray=[],this._lastTime=0,this._currAniName=null,this._currAniIndex=-1,this._pause=!0,this._aniClipIndex=-1,this._clipIndex=-1,this._skinIndex=0,this._skinName="default",this._aniMode=0,this._graphicsCache=null,this._boneSlotDic=null,this._bindBoneBoneSlotDic=null,this._boneSlotArray=null,this._index=-1,this._total=-1,this._indexControl=!1,this._aniPath=null,this._texturePath=null,this._complete=null,this._loadAniMode=0,this._yReverseMatrix=null,this._ikArr=null,this._tfArr=null,this._pathDic=null,this._rootBone=null,this._boneList=null,this._aniSectionDic=null,this._eventIndex=0,this._drawOrderIndex=0,this._drawOrder=null,this._lastAniClipIndex=-1,this._lastUpdateAniClipIndex=-1,gr3bjn.__super.call(this),void 0===C$99e&&(C$99e=0),C$99t&&this.init(C$99t,C$99e)}var C$99k;function w61mh5(){this._aniMap={},this.unfixedLastAniIndex=-1,w61mh5.__super.call(this),this._anis=[]}function c9iv2(){c9iv2.__super.call(this),C$99l.isConchNode&&(this.drawSkin=function(C$99t){C$99t.transform||(C$99t.transform=C$99Dt.EMPTY),this._addCmd([C$99t]),this.setSkinMesh&&this.setSkinMesh(C$99t._ps,C$99t.mVBData,C$99t.mEleNum,0,C$99t.mTexture,C$99t.transform)})}function vfpd(){this._destroyed=!1,this._templet=null,this._currentTime=NaN,this._currentFrameTime=NaN,this._playStart=NaN,this._playEnd=NaN,this._playDuration=NaN,this._overallDuration=NaN,this._stopWhenCircleFinish=!1,this._elapsedPlaybackTime=NaN,this._startUpdateLoopCount=NaN,this._currentAnimationClipIndex=0,this._currentKeyframeIndex=0,this._paused=!1,this._cacheFrameRate=0,this._cacheFrameRateInterval=NaN,this._cachePlayRate=NaN,this._fullFrames=null,this.isCache=!0,this.playbackRate=1,this.returnToZeroStopped=!1,vfpd.__super.call(this),this._destroyed=!1,this._currentAnimationClipIndex=-1,this._currentKeyframeIndex=-1,this._currentTime=0,this._overallDuration=Number.MAX_VALUE,this._stopWhenCircleFinish=!1,this._elapsedPlaybackTime=0,this._startUpdateLoopCount=-1,this._cachePlayRate=1,this.cacheFrameRate=60,this.returnToZeroStopped=!1}function $dci(){}function vdp9$(){this.startTime=NaN,this.duration=NaN,this.interpolationData=null,this.data=null,this.nextData=null}function poefz(){}function _6hw5m(){this.skX=0,this.skY=0,this.scX=1,this.scY=1,this.x=0,this.y=0,this.skewX=0,this.skewY=0,this.mMatrix=null}function eqo7x(){this.name=null,this.targetIndex=0,this.rotateMix=NaN,this.translateMix=NaN,this.scaleMix=NaN,this.shearMix=NaN,this.offsetRotation=NaN,this.offsetX=NaN,this.offsetY=NaN,this.offsetScaleX=NaN,this.offsetScaleY=NaN,this.offsetShearY=NaN,this.boneIndexs=[]}function eq0(C$99t,C$99e){this._data=null,this._bones=null,this.target=null,this.rotateMix=NaN,this.translateMix=NaN,this.scaleMix=NaN,this.shearMix=NaN,this._temp=C$99p(2,0),this._data=C$99t,null==this._bones&&(this._bones=[]),this.target=C$99e[C$99t.targetIndex];var C$99i,C$99n=0;for(C$99n=0,C$99i=C$99t.boneIndexs.length;C$99n<C$99i;C$99n++)this._bones.push(C$99e[C$99t.boneIndexs[C$99n]]);this.rotateMix=C$99t.rotateMix,this.translateMix=C$99t.translateMix,this.scaleMix=C$99t.scaleMix,this.shearMix=C$99t.shearMix}function d$iv9(){this.name=null,this.displayArr=[]}function c4t2i9(){this.name=null,this.attachmentName=null,this.type=0,this.transform=null,this.width=NaN,this.height=NaN,this.texture=null,this.bones=null,this.uvs=null,this.weights=null,this.triangles=null,this.vertices=null,this.lengths=null,this.verLen=0}function x_ym(){this.name=null,this.slotArr=[]}function brasjk(){this.name=null,this.target=null,this.positionMode=null,this.spacingMode=null,this.rotateMode=null,this.offsetRotation=NaN,this.position=NaN,this.spacing=NaN,this.rotateMix=NaN,this.translateMix=NaN,this.bones=[]}function rkgajb(C$99t,C$99e){this.target=null,this.data=null,this.bones=null,this.position=NaN,this.spacing=NaN,this.rotateMix=NaN,this.translateMix=NaN,this._debugKey=!1,this._spaces=null,this._segments=[],this._curves=[],this.data=C$99t,this.position=C$99t.position,this.spacing=C$99t.spacing,this.rotateMix=C$99t.rotateMix,this.translateMix=C$99t.translateMix,this.bones=[];for(var C$99i=this.data.bones,C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99n++)this.bones.push(C$99e[C$99i[C$99n]])}function ctv$9i(){this.name=null,this.targetBoneName=null,this.bendDirection=1,this.mix=1,this.isSpine=!0,this.targetBoneIndex=-1,this.boneNames=[],this.boneIndexs=[]}function f7pd$(C$99t,C$99e){this._targetBone=null,this._bones=null,this._data=null,this.name=null,this.mix=NaN,this.bendDirection=NaN,this.isSpine=!0,this._sp=null,this.isDebug=!1,this._data=C$99t,this._targetBone=C$99e[C$99t.targetBoneIndex],this.isSpine=C$99t.isSpine,null==this._bones&&(this._bones=[]);for(var C$99i=this._bones.length=0,C$99n=C$99t.boneIndexs.length;C$99i<C$99n;C$99i++)this._bones.push(C$99e[C$99t.boneIndexs[C$99i]]);this.name=C$99t.name,this.mix=C$99t.mix,this.bendDirection=C$99t.bendDirection}function i29ctv(){this.name=null,this.intValue=0,this.floatValue=NaN,this.stringValue=null,this.time=NaN}function wh5186(){this.time=NaN,this.drawOrder=[]}function z$pfvd(){this.boneSlot=null,this.slotIndex=-1,this.attachment=null,this.deformData=null,this.frameIndex=0,this.timeList=[],this.vectices=[],this.tweenKeyList=[]}function x0qeyo(){this.deformSlotDisplayList=[]}function oze07(){this.skinName=null,this.deformSlotDataList=[]}function x0qye_(){this.name=null,this.parent=null,this.attachmentName=null,this.srcDisplayIndex=-1,this.type="src",this.templet=null,this.currSlotData=null,this.currTexture=null,this.currDisplayData=null,this.displayIndex=-1,this._diyTexture=null,this._parentMatrix=null,this._resultMatrix=null,this._replaceDic={},this._curDiyUV=null,this._curDiyVS=null,this._skinSprite=null,this.deformData=null,this._mVerticleArr=null}function fzvdp$(){this.name=null,this.root=null,this.parentBone=null,this.length=10,this.transform=null,this.inheritScale=!0,this.inheritRotation=!0,this.rotation=NaN,this.resultRotation=NaN,this.d=-1,this._tempMatrix=null,this._sprite=null,this.resultTransform=new C$99jt,this.resultMatrix=new C$99Dt,this._children=[]}var C$99r;function njgabr(){}function fepzo(){}function yxhmw_(){}function zdfop7(){this.name=null,this.parentIndex=0,this.parent=null,this.keyframeWidth=0,this.lerpType=0,this.interpolationMethod=null,this.childs=null,this.keyFrame=null,this.playTime=NaN,this.extenData=null,this.dataOffset=0}function rsajb(){this.nodes=null,this.name=null,this.playTime=NaN,this.bone3DMap=null,this.totalKeyframeDatasLength=0}}((window,document,tepfz7)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$99t,C$99e){"use strict";for(var C$99i in Object.defineProperty(C$99e,"__esModule",{value:!0}),tepfz7){var C$99n=tepfz7[C$99i];C$99n&&C$99n.__isclass&&(C$99e[C$99i]=C$99n)}});