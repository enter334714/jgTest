var b=wx.$e;function eixq$(){}function elgzthr(r,o,g,a,n){function cao7_(e){var t=e.slice(1,-1);return t in g?g[t]:"#"===t.charAt(0)?65535<(t=parseInt(t.substr(1).replace("x","0x")))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):String.fromCharCode(t):(n.error("entity not found:"+e),e)}function rlhzg(e){var t;s<e&&(t=r.substring(s,e).replace(/&#?\w+;/g,cao7_),i&&xt$igj(s),a.characters(t,0,e-s),s=e)}function xt$igj(e,t){for(;d<=e&&(t=f.exec(r));)h=t.index,d=h+t[0].length,i.lineNumber++;i.columnNumber=e-h+1}for(var h=0,d=0,f=/.*(?:\r\n?|\n)|.*$/g,i=a.locator,x=[{currentNSMap:o}],m={},s=0;;){try{var e=r.indexOf("<",s);var w,p;if(e<0)return void(r.substr(s).match(/^\s*$/)||(p=(w=a.doc).createTextNode(r.substr(s)),w.appendChild(p),a.currentElement=p));switch(s<e&&rlhzg(e),r.charAt(e+1)){case"/":var t=r.indexOf(">",e+3),c=r.substring(e+2,t),u=x.pop();t<0?(c=r.substring(e+2).replace(/[\s<].*/,""),n.error("end tag name: "+c+" is not complete:"+u.tagName),t=e+1+c.length):c.match(/\s</)&&(c=c.replace(/[\s<].*/,""),n.error("end tag name: "+c+" maybe not complete"),t=e+1+c.length);var b=u.localNSMap,$=u.tagName==c;if($||u.tagName&&u.tagName.toLowerCase()==c.toLowerCase()){if(a.endElement(u.uri,u.localName,c),b)for(var v in b)a.endPrefixMapping(v);$||n.fatalError("end tag name: "+c+" is not match the current start tagName:"+u.tagName)}else x.push(u);t++;break;case"?":i&&xt$igj(e),t=exi$jgt(r,e,a);break;case"!":i&&xt$igj(e),t=elytrhz(r,e,a,n);break;default:i&&xt$igj(e);var l=new ewbd058,N=x[x.length-1].currentNSMap,t=e$ijn(r,e,l,N,cao7_,n),k=l.length;if(!l.closed&&enj3uqi(r,t,l.tagName,m)&&(l.closed=!0,g.nbsp||n.warning("unclosed xml attribute")),i&&k){for(var j=e_4ac7(i,{}),z=0;z<k;z++){var q=l[z];xt$igj(q.offset),q.locator=e_4ac7(i,{})}a.locator=j,ew5218(l,a,N)&&x.push(l),a.locator=i}else ew5218(l,a,N)&&x.push(l);"http://www.w3.org/1999/xhtml"!==l.uri||l.closed?t++:t=eksu96(r,t,l.tagName,cao7_,a)}}catch(e){n.error("element parse error: "+e),t=-1}s<t?s=t:rlhzg(Math.max(e,s)+1)}}function e_4ac7(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function e$ijn(e,t,r,o,a,n){for(var i,s=++t,c=erzhtg;;){var u=e.charAt(s);switch(u){case"=":if(c===ex$tglh)i=e.slice(t,s),c=euq93sn;else{if(c!==eit$gx)throw new Error("attribute equal must after attrName");c=euq93sn}break;case"'":case'"':if(c===euq93sn||c===ex$tglh){if(c===ex$tglh&&(n.warning('attribute value must after "="'),i=e.slice(t,s)),!(0<(s=e.indexOf(u,t=s+1))))throw new Error("attribute value no end '"+u+"' match");l=e.slice(t,s).replace(/&#?\w+;/g,a),r.add(i,l,t-1),c=eg$3jx}else{if(c!=esqk9un)throw new Error('attribute value must after "="');l=e.slice(t,s).replace(/&#?\w+;/g,a),r.add(i,l,t),n.warning('attribute "'+i+'" missed start quot('+u+")!!"),t=s+1,c=eg$3jx}break;case"/":switch(c){case erzhtg:r.setTagName(e.slice(t,s));case eg$3jx:case ek96b0d:case e$gtxij:c=e$gtxij,r.closed=!0;case esqk9un:case ex$tglh:case eit$gx:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return n.error("unexpected end of input"),c==erzhtg&&r.setTagName(e.slice(t,s)),s;case">":switch(c){case erzhtg:r.setTagName(e.slice(t,s));case eg$3jx:case ek96b0d:case e$gtxij:break;case esqk9un:case ex$tglh:"/"===(l=e.slice(t,s)).slice(-1)&&(r.closed=!0,l=l.slice(0,-1));case eit$gx:c===eit$gx&&(l=i),c==esqk9un?(n.warning('attribute "'+l+'" missed quot(")!!'),r.add(i,l.replace(/&#?\w+;/g,a),t)):("http://www.w3.org/1999/xhtml"===o[""]&&l.match(/^(?:disabled|checked|selected)$/i)||n.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),r.add(l,l,t));break;case euq93sn:throw new Error("attribute value missed!!")}return s;case"\x80":u=" ";default:if(u<=" ")switch(c){case erzhtg:r.setTagName(e.slice(t,s)),c=ek96b0d;break;case ex$tglh:i=e.slice(t,s),c=eit$gx;break;case esqk9un:var l=e.slice(t,s).replace(/&#?\w+;/g,a);n.warning('attribute "'+l+'" missed quot(")!!'),r.add(i,l,t);case eg$3jx:c=ek96b0d}else switch(c){case eit$gx:r.tagName,"http://www.w3.org/1999/xhtml"===o[""]&&i.match(/^(?:disabled|checked|selected)$/i)||n.warning('attribute "'+i+'" missed value!! "'+i+'" instead2!!'),r.add(i,i,t),t=s,c=ex$tglh;break;case eg$3jx:n.warning('attribute space is required"'+i+'"!!');case ek96b0d:c=ex$tglh,t=s;break;case euq93sn:c=esqk9un,t=s;break;case e$gtxij:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function ew5218(e,o,t){for(var r=e.tagName,a=null,n=e.length;n--;){var i=e[n],s=i.qName,g=i.value;var c;s=0<(u=s.indexOf(":"))?(l=i.prefix=s.slice(0,u),c=s.slice(u+1),"xmlns"===l&&c):(l=null,"xmlns"===(c=s)&&""),i.localName=c,!1!==s&&(null==a&&(a={},el$gh(t,t={})),t[s]=a[s]=g,i.uri="http://www.w3.org/2000/xmlns/",o.startPrefixMapping(s,g))}for(n=e.length;n--;)(l=(i=e[n]).prefix)&&("xml"===l&&(i.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(i.uri=t[l||""]));var u;c=0<(u=r.indexOf(":"))?(l=e.prefix=r.slice(0,u),e.localName=r.slice(u+1)):(l=null,e.localName=r);var h=e.uri=t[l||""];if(o.startElement(h,c,r,e),!e.closed)return e.currentNSMap=t,e.localNSMap=a,!0;if(o.endElement(h,c,r),a)for(var l in a)o.endPrefixMapping(l)}function eksu96(e,t,r,a,n){if(/^(?:script|textarea)$/i.test(r)){var i=e.indexOf("</"+r+">",t),e=e.substring(t+1,i);if(/[&<]/.test(e))return/^script$/i.test(r)||(e=e.replace(/&#?\w+;/g,a)),n.characters(e,0,e.length),i}return t+1}function enj3uqi(e,t,r,a){var n=a[r];return null==n&&((n=e.lastIndexOf("</"+r+">"))<t&&(n=e.lastIndexOf("</"+r)),a[r]=n),n<t}function el$gh(e,t){for(var r in e)t[r]=e[r]}function elytrhz(e,t,r,a){var n=e.charAt(t+2);if("-"===n)return"-"!==e.charAt(t+3)?-1:t<(i=e.indexOf("--\x3e",t+4))?(r.comment(e,t+4,i-t-4),i+3):(a.error("Unclosed comment"),-1);if("CDATA["==e.substr(t+3,6))return i=e.indexOf("]]>",t+9),r.startCDATA(),r.characters(e,t+9,i-t-9),r.endCDATA(),i+3;n=evf_y(e,t),a=n.length;var i;return 1<a&&/!doctype/i.test(n[0][0])?(i=n[1][0],e=3<a&&/^public$/i.test(n[2][0])&&n[3][0],t=4<a&&n[4][0],n=n[a-1],r.startDTD(i,e&&e.replace(/^(['"])(.*?)\1$/,"$2"),t&&t.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),n.index+n[0].length):-1}function exi$jgt(e,t,r){var a=e.indexOf("?>",t);return a&&(e=e.substring(t,a).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/))?(e[0].length,r.processingInstruction(e[1],e[2]),a+2):-1}function ewbd058(){}function eixtj(e,t){return e.__proto__=t,e}function evf_y(e,t){var r,a=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=t,n.exec(e);r=n.exec(e);)if(a.push(r),r[1])return a}var etzgrh=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ehfylz=new RegExp("[\\-\\.0-9"+etzgrh.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),eamo7cp=new RegExp("^"+etzgrh.source+ehfylz.source+"*(?::"+etzgrh.source+ehfylz.source+"*)?$"),erzhtg=0,ex$tglh=1,eit$gx=2,euq93sn=3,esqk9un=4,eg$3jx=5,ek96b0d=6,e$gtxij=7;eixq$.prototype={parse:function(e,t,r){var a=this.domBuilder;a.startDocument(),el$gh(t,t={}),elgzthr(e,t,r,a,this.errorHandler),a.endDocument()}},ewbd058.prototype={setTagName:function(e){if(!eamo7cp.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!eamo7cp.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},eixtj({},eixtj.prototype)instanceof eixtj||(eixtj=function(e,t){function rlhtzg(){}for(t in rlhtzg.prototype=t,rlhtzg=new rlhtzg,e)rlhtzg[t]=e[t];return rlhtzg}),exports.XMLReader=eixq$;