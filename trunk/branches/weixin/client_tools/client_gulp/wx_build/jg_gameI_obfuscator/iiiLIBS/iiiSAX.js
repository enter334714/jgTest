var Q=wx.$I;function i_bqks(){}function i_skequ(r,l,_,a,i){function bkuqes(e){var t=e.slice(1,-1);return t in _?_[t]:"#"===t.charAt(0)?65535<(t=parseInt(t.substr(1).replace("x","0x")))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):String.fromCharCode(t):(i.error("entity not found:"+e),e)}function o0lgzy(e){var t;s<e&&(t=r.substring(s,e).replace(/&#?\w+;/g,bkuqes),n&&uebqk(s),a.characters(t,0,e-s),s=e)}function uebqk(e,t){for(;b<=e&&(t=m.exec(r));)f=t.index,b=f+t[0].length,n.lineNumber++;n.columnNumber=e-f+1}for(var f=0,b=0,m=/.*(?:\r\n?|\n)|.*$/g,n=a.locator,d=[{currentNSMap:l}],p={},s=0;;){try{var e=r.indexOf("<",s);var g,h;if(e<0)return void(r.substr(s).match(/^\s*$/)||(h=(g=a.doc).createTextNode(r.substr(s)),g.appendChild(h),a.currentElement=h));switch(s<e&&o0lgzy(e),r.charAt(e+1)){case"/":var t=r.indexOf(">",e+3),u=r.substring(e+2,t),c=d.pop();t<0?(u=r.substring(e+2).replace(/[\s<].*/,""),i.error("end tag name: "+u+" is not complete:"+c.tagName),t=e+1+u.length):u.match(/\s</)&&(u=u.replace(/[\s<].*/,""),i.error("end tag name: "+u+" maybe not complete"),t=e+1+u.length);var w=c.localNSMap,k=c.tagName==u;if(k||c.tagName&&c.tagName.toLowerCase()==u.toLowerCase()){if(a.endElement(c.uri,c.localName,u),w)for(var v in w)a.endPrefixMapping(v);k||i.fatalError("end tag name: "+u+" is not match the current start tagName:"+c.tagName)}else d.push(c);t++;break;case"?":n&&uebqk(e),t=i_k2nsqu(r,e,a);break;case"!":n&&uebqk(e),t=i_wk25nq(r,e,a,i);break;default:n&&uebqk(e);var o=new i_m9v1pc,q=d[d.length-1].currentNSMap,t=i_f81pc(r,e,o,q,bkuqes,i),x=o.length;if(!o.closed&&i_dyog0z(r,t,o.tagName,p)&&(o.closed=!0,_.nbsp||i.warning("unclosed xml attribute")),n&&x){for(var N=i_kun5q2(n,{}),F=0;F<x;F++){var $=o[F];uebqk($.offset),$.locator=i_kun5q2(n,{})}a.locator=N,i_pfa8j_(o,a,q)&&d.push(o),a.locator=n}else i_pfa8j_(o,a,q)&&d.push(o);"http://www.w3.org/1999/xhtml"!==o.uri||o.closed?t++:t=i_xnwh(r,t,o.tagName,bkuqes,a)}}catch(e){i.error("element parse error: "+e),t=-1}s<t?s=t:o0lgzy(Math.max(e,s)+1)}}function i_kun5q2(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function i_f81pc(e,t,r,l,a,i){for(var n,s=++t,u=i_uesb3;;){var c=e.charAt(s);switch(c){case"=":if(u===i_nu5k2q)n=e.slice(t,s),u=i_a6bj37;else{if(u!==i_usb7ek)throw new Error("attribute equal must after attrName");u=i_a6bj37}break;case"'":case'"':if(u===i_a6bj37||u===i_nu5k2q){if(u===i_nu5k2q&&(i.warning('attribute value must after "="'),n=e.slice(t,s)),!(0<(s=e.indexOf(c,t=s+1))))throw new Error("attribute value no end '"+c+"' match");o=e.slice(t,s).replace(/&#?\w+;/g,a),r.add(n,o,t-1),u=i_b7a6}else{if(u!=i_rtlzi)throw new Error('attribute value must after "="');o=e.slice(t,s).replace(/&#?\w+;/g,a),r.add(n,o,t),i.warning('attribute "'+n+'" missed start quot('+c+")!!"),t=s+1,u=i_b7a6}break;case"/":switch(u){case i_uesb3:r.setTagName(e.slice(t,s));case i_b7a6:case i_ubkqs:case i_snq2u:u=i_snq2u,r.closed=!0;case i_rtlzi:case i_nu5k2q:case i_usb7ek:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),u==i_uesb3&&r.setTagName(e.slice(t,s)),s;case">":switch(u){case i_uesb3:r.setTagName(e.slice(t,s));case i_b7a6:case i_ubkqs:case i_snq2u:break;case i_rtlzi:case i_nu5k2q:"/"===(o=e.slice(t,s)).slice(-1)&&(r.closed=!0,o=o.slice(0,-1));case i_usb7ek:u===i_usb7ek&&(o=n),u==i_rtlzi?(i.warning('attribute "'+o+'" missed quot(")!!'),r.add(n,o.replace(/&#?\w+;/g,a),t)):("http://www.w3.org/1999/xhtml"===l[""]&&o.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+o+'" missed value!! "'+o+'" instead!!'),r.add(o,o,t));break;case i_a6bj37:throw new Error("attribute value missed!!")}return s;case"\x80":c=" ";default:if(c<=" ")switch(u){case i_uesb3:r.setTagName(e.slice(t,s)),u=i_ubkqs;break;case i_nu5k2q:n=e.slice(t,s),u=i_usb7ek;break;case i_rtlzi:var o=e.slice(t,s).replace(/&#?\w+;/g,a);i.warning('attribute "'+o+'" missed quot(")!!'),r.add(n,o,t);case i_b7a6:u=i_ubkqs}else switch(u){case i_usb7ek:r.tagName,"http://www.w3.org/1999/xhtml"===l[""]&&n.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+n+'" missed value!! "'+n+'" instead2!!'),r.add(n,n,t),t=s,u=i_nu5k2q;break;case i_b7a6:i.warning('attribute space is required"'+n+'"!!');case i_ubkqs:u=i_nu5k2q,t=s;break;case i_a6bj37:u=i_rtlzi,t=s;break;case i_snq2u:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function i_pfa8j_(e,l,t){for(var r=e.tagName,a=null,i=e.length;i--;){var n=e[i],s=n.qName,_=n.value;var u;s=0<(c=s.indexOf(":"))?(o=n.prefix=s.slice(0,c),u=s.slice(c+1),"xmlns"===o&&u):(o=null,"xmlns"===(u=s)&&""),n.localName=u,!1!==s&&(null==a&&(a={},i_ebksqu(t,t={})),t[s]=a[s]=_,n.uri="http://www.w3.org/2000/xmlns/",l.startPrefixMapping(s,_))}for(i=e.length;i--;)(o=(n=e[i]).prefix)&&("xml"===o&&(n.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==o&&(n.uri=t[o||""]));var c;u=0<(c=r.indexOf(":"))?(o=e.prefix=r.slice(0,c),e.localName=r.slice(c+1)):(o=null,e.localName=r);var f=e.uri=t[o||""];if(l.startElement(f,u,r,e),!e.closed)return e.currentNSMap=t,e.localNSMap=a,!0;if(l.endElement(f,u,r),a)for(var o in a)l.endPrefixMapping(o)}function i_xnwh(e,t,r,a,i){if(/^(?:script|textarea)$/i.test(r)){var n=e.indexOf("</"+r+">",t),e=e.substring(t+1,n);if(/[&<]/.test(e))return/^script$/i.test(r)||(e=e.replace(/&#?\w+;/g,a)),i.characters(e,0,e.length),n}return t+1}function i_dyog0z(e,t,r,a){var i=a[r];return null==i&&((i=e.lastIndexOf("</"+r+">"))<t&&(i=e.lastIndexOf("</"+r)),a[r]=i),i<t}function i_ebksqu(e,t){for(var r in e)t[r]=e[r]}function i_wk25nq(e,t,r,a){var i=e.charAt(t+2);if("-"===i)return"-"!==e.charAt(t+3)?-1:t<(n=e.indexOf("--\x3e",t+4))?(r.comment(e,t+4,n-t-4),n+3):(a.error("Unclosed comment"),-1);if("CDATA["==e.substr(t+3,6))return n=e.indexOf("]]>",t+9),r.startCDATA(),r.characters(e,t+9,n-t-9),r.endCDATA(),n+3;i=i_zi$g(e,t),a=i.length;var n;return 1<a&&/!doctype/i.test(i[0][0])?(n=i[1][0],e=3<a&&/^public$/i.test(i[2][0])&&i[3][0],t=4<a&&i[4][0],i=i[a-1],r.startDTD(n,e&&e.replace(/^(['"])(.*?)\1$/,"$2"),t&&t.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),i.index+i[0].length):-1}function i_k2nsqu(e,t,r){var a=e.indexOf("?>",t);return a&&(e=e.substring(t,a).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/))?(e[0].length,r.processingInstruction(e[1],e[2]),a+2):-1}function i_m9v1pc(){}function i_mvcpf1(e,t){return e.__proto__=t,e}function i_zi$g(e,t){var r,a=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);r=i.exec(e);)if(a.push(r),r[1])return a}var i_ogl0z$=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i_r9vtm1=new RegExp("[\\-\\.0-9"+i_ogl0z$.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i_vt1c=new RegExp("^"+i_ogl0z$.source+i_r9vtm1.source+"*(?::"+i_ogl0z$.source+i_r9vtm1.source+"*)?$"),i_uesb3=0,i_nu5k2q=1,i_usb7ek=2,i_a6bj37=3,i_rtlzi=4,i_b7a6=5,i_ubkqs=6,i_snq2u=7;i_bqks.prototype={parse:function(e,t,r){var a=this.domBuilder;a.startDocument(),i_ebksqu(t,t={}),i_skequ(e,t,r,a,this.errorHandler),a.endDocument()}},i_m9v1pc.prototype={setTagName:function(e){if(!i_vt1c.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!i_vt1c.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},i_mvcpf1({},i_mvcpf1.prototype)instanceof i_mvcpf1||(i_mvcpf1=function(e,t){function f1c_p(){}for(t in f1c_p.prototype=t,f1c_p=new f1c_p,e)f1c_p[t]=e[t];return f1c_p}),exports.XMLReader=i_bqks;