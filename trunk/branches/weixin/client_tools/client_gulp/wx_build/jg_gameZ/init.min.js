"use strict";var ui,__extends=this&&this.__extends||function(){var $s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($V,$U){$V.__proto__=$U}||function($V,$U){for(var $r in $U)$U.hasOwnProperty($r)&&($V[$r]=$U[$r])};return function($V,$U){function $r(){this.constructor=$V}$s($V,$U),$V.prototype=null===$U?Object.create($U):($r.prototype=$U.prototype,new $r)}}(),View=laya.ui.View,Dialog=laya.ui.Dialog;!function($r){var $V=function($V){function $U(){return $V.call(this)||this}return __extends($U,$V),$U.prototype.createChildren=function(){$V.prototype.createChildren.call(this),this.createView($r.$V.uiView)},$U.uiView={type:"View",props:{width:720,name:"P_WXAuthorizationViewUI",height:1280},child:[{type:"Image",props:{width:720,var:"bgImg",skin:"wxlogin_atlas/image_login_loginbg.jpg",name:"bg",height:1280,centerY:0,centerX:0}},{type:"Box",props:{y:0,width:720,right:0,height:1280},child:[{type:"Image",props:{width:720,var:"topImg",top:-139,skin:"wxlogin_atlas/image_login_loginbg_top.jpg",height:139,centerX:0,anchorY:1}},{type:"Image",props:{width:720,var:"btmImg",top:1280,skin:"wxlogin_atlas/image_login_loginbg_bottom.jpg",height:139,centerX:0}},{type:"Image",props:{x:-220,width:220,var:"leftImg",skin:"wxlogin_atlas/image_login_loginbg_left.jpg",left:-220,height:1280,centerY:0}},{type:"Image",props:{width:220,var:"rightImg",skin:"wxlogin_atlas/image_login_loginbg_right.jpg",left:720,height:1280,centerY:0}}]}]},$U}(View);$r.$V=$V}(ui||(ui={})),function($r){var $V=function($V){function $U(){return $V.call(this)||this}return __extends($U,$V),$U.prototype.createChildren=function(){$V.prototype.createChildren.call(this),this.createView($r.$U.uiView)},$U.uiView={type:"View",props:{width:720,name:"P_LoadingView",height:1280},child:[{type:"Image",props:{width:720,var:"bgImg",name:"bg",height:1280,centerY:0,centerX:0}},{type:"Box",props:{y:0,x:0,width:720,height:1280},child:[{type:"Image",props:{var:"topImg",centerX:0,bottom:1280,anchorY:1}},{type:"Image",props:{var:"btmImg",top:1280,centerX:0}},{type:"Image",props:{var:"leftImg",right:720,pivotX:1,centerY:0}},{type:"Image",props:{var:"rightImg",left:720,centerY:0}}]},{type:"Image",props:{var:"copyRightImg",skin:"wxlogin_atlas/image_denglu_txtshenpi.png",centerX:0,bottom:10}},{type:"Box",props:{y:963,x:0,width:720,var:"processBox1",name:"processBox1",height:130},child:[{type:"Image",props:{y:46,x:62,width:596,var:"loadingBarBg",skin:"wxloading_atlas/image_loding_bar0.png",height:27,centerX:0}},{type:"Image",props:{y:49,x:64,width:590,var:"loadingBar",skin:"wxloading_atlas/image_loding_bar1.png",height:21}},{type:"Image",props:{y:55,x:507,width:208,var:"loadingImg1",skin:"wxloading_atlas/image_loding_bar2.png",height:11}},{type:"Image",props:{y:6,x:628,width:39,var:"loadingImg2",skin:"wxloading_atlas/image_loding_bar3.png",height:116}},{type:"Label",props:{y:48,x:293,width:134,var:"percentageTips",valign:"middle",text:"88%",strokeColor:"#565353",stroke:3,height:24,fontSize:24,color:"#fbfbf9",centerX:0,bold:!1,align:"center"}}]},{type:"Box",props:{y:1065,x:0,width:720,var:"processBox2",name:"processBox2",height:17},child:[{type:"Image",props:{y:0,x:307,var:"point1",skin:"wxloading_atlas/image_login_point3.png",centerX:-45}},{type:"Image",props:{y:0,x:337,var:"point2",skin:"wxloading_atlas/image_login_point2.png",centerX:-15}},{type:"Image",props:{y:0,x:367,var:"point3",skin:"wxloading_atlas/image_login_point1.png",centerX:15}},{type:"Image",props:{y:0,x:397,var:"point4",skin:"wxloading_atlas/image_login_point1.png",centerX:45}}]},{type:"Button",props:{y:790,x:55,visible:!1,var:"getTipsBtn",stateNum:1,skin:"wxloading_atlas/btn_loding_abcelq0.png",name:"getTipsBtn",labelSize:30,labelFont:"SimHei",labelColors:"#af4158"},child:[{type:"Label",props:{y:155,x:146,width:323,var:"txtGetTm",text:"\u7acb\u5373\u9886\u53d6(5s)",name:"txtGetTm",height:30,fontSize:30,color:"#bd4f1e",align:"center"}}]},{type:"Label",props:{y:1107,width:500,var:"loadingTips",valign:"middle",text:"\u52a0\u8f7d\u63cf\u8ff0",height:26,fontSize:26,color:"#f2ffb5",centerX:0,bold:!1,align:"center"}},{type:"Label",props:{y:10,x:10,width:342,var:"versionTxt",valign:"middle",top:20,text:"\u7248\u672c\uff1a100",strokeColor:"#20385f",stroke:2,right:20,height:32,fontSize:24,color:"#dfebff",bold:!1,align:"right"}}]},$U}(View);$r.$U=$V}(ui||(ui={})),function($r){var $V=function($V){function $U(){return $V.call(this)||this}return __extends($U,$V),$U.prototype.createChildren=function(){View.regComponent("HTMLDivElement",laya.html.dom.HTMLDivElement),View.regComponent("Text",laya.display.Text),$V.prototype.createChildren.call(this),this.createView($r.$r.uiView)},$U.uiView={type:"View",props:{width:720,name:"P_SelectServerViewUI",height:1280},child:[{type:"Image",props:{width:720,var:"bgImg",skin:"wxlogin_atlas/image_login_loginbg.jpg",name:"bg",height:1280,centerY:0,centerX:0}},{type:"Box",props:{y:0,x:0,width:720,height:1280},child:[{type:"Image",props:{width:720,var:"topImg",skin:"wxlogin_atlas/image_login_loginbg_top.jpg",bottom:1279}},{type:"Image",props:{width:720,var:"btmImg",top:1279,skin:"wxlogin_atlas/image_login_loginbg_bottom.jpg"}},{type:"Image",props:{var:"leftImg",skin:"wxlogin_atlas/image_login_loginbg_left.jpg",right:719,height:1280}},{type:"Image",props:{var:"rightImg",skin:"wxlogin_atlas/image_login_loginbg_right.jpg",left:719,height:1280}}]},{type:"Image",props:{y:845,var:"selectServer",skin:"wxlogin_atlas/image_login_xuanqubg.png",centerX:0}},{type:"Image",props:{y:1102,var:"imgCheatTip",skin:"wxlogin_atlas/image_loding_txtbhcc.png",name:"imgCheatTip",centerX:0}},{type:"Image",props:{y:927,x:159,var:"hotImage",skin:"wxlogin_atlas/image_login_changtong.png"}},{type:"Image",props:{var:"copyRightImg",skin:"wxlogin_atlas/image_denglu_txtshenpi.png",centerX:0,bottom:30}},{type:"Image",props:{y:1015,var:"enterBtn",stateNum:1,skin:"wxlogin_atlas/btn_login_loginanniu.png",name:"enterBtn",centerX:0}},{type:"Image",props:{x:196,visible:!1,var:"privacyToggle",skin:"wxlogin_atlas/image_xuanfu_gx1.png",bottom:4}},{type:"Label",props:{y:640,x:0,width:720,var:"txtTip",valign:"middle",text:"\u63d0\u793a\u5185\u5bb9",strokeColor:"#ffffff",stroke:2,height:32,fontSize:32,color:"#ff0000",bold:!1,align:"center"}},{type:"Label",props:{y:932,x:521,var:"selServer",valign:"middle",text:"\u9009\u670d>",height:32,fontSize:30,color:"#feffc0",bold:!1,align:"center"}},{type:"Label",props:{y:932,width:342,var:"serverName",valign:"middle",text:"0000000000001\u670d",height:32,fontSize:30,color:"#feffc0",centerX:0,bold:!1,align:"center"}},{type:"Label",props:{width:342,var:"versionTxt",valign:"middle",top:20,text:"\u7248\u672c\uff1a100",strokeColor:"#20385f",stroke:2,right:20,height:32,fontSize:24,color:"#dfebff",bold:!1,align:"right"}},{type:"HTMLDivElement",props:{y:1255,x:256,visible:!1,var:"privacyTip",height:16}},{type:"Image",props:{y:127,x:593.5,var:"noticeBtn",skin:"wxlogin_atlas/btn_login_gonggao.png"}},{type:"Image",props:{y:257,x:594,visible:!1,var:"privacyBtn",skin:"wxlogin_atlas/btn_login_yingsi.png",name:"privacyBtn"}},{type:"Image",props:{visible:!1,var:"ageTipBtn",top:1,scaleY:.5,scaleX:.5,name:"privacyBtn",left:1}},{type:"Image",props:{y:71,x:-2,visible:!1,var:"noticeBg",skin:"wxlogin_atlas/image_login_notice.png",centerY:0,centerX:0},child:[{type:"Image",props:{y:36.5,x:616,var:"noticeClose",skin:"wxlogin_atlas/btn_com_chuangback.png"}},{type:"Label",props:{y:72,x:216,width:234,var:"noticeTitle",valign:"middle",text:"\u6682\u65e0\u516c\u544a",height:35,fontSize:30,color:"#ffffff",bold:!1,align:"center"}},{type:"Text",props:{y:142,x:61,wordWrap:!0,width:545,var:"noticeContent",valign:"top",overflow:"scroll",mouseEnabled:!0,leading:4,height:870,fontSize:26,color:"#212942"}}]},{type:"Image",props:{visible:!1,var:"mNoticeBg",skin:"wxlogin_atlas/image_login_notice.png",centerY:0,centerX:0},child:[{type:"Image",props:{y:36.5,x:616,var:"mNoticeClose",skin:"wxlogin_atlas/btn_com_chuangback.png"}},{type:"Button",props:{y:904,x:190,var:"mNoticeClose2",stateNum:1,skin:"wxlogin_atlas/btn_com_long1.png",labelSize:30,labelColors:"#263d7d,#263d7d,#263d7d,#263d7d",label:"\u5173\u95ed"}},{type:"Box",props:{y:904,x:34,width:596,var:"boxTab",height:59}},{type:"Label",props:{y:72,x:216,width:234,var:"mNoticeTitle",valign:"middle",text:"\u6682\u65e0\u516c\u544a",height:35,fontSize:30,color:"#ffffff",bold:!1,align:"center"}},{type:"Panel",props:{y:142,x:61,width:545,var:"mNoticePanel",height:733},child:[{type:"HTMLDivElement",props:{y:0,x:0,width:545,var:"mNoticeContent",height:733}}]}]},{type:"Image",props:{visible:!1,var:"privacyBg",skin:"wxlogin_atlas/image_login_notice.png",name:"privacyBg",centerY:0,centerX:0},child:[{type:"Image",props:{y:36.5,x:616,var:"privacyClose",skin:"wxlogin_atlas/btn_com_chuangback.png"}},{type:"Button",props:{y:904,x:190,var:"privacyClose2",stateNum:1,skin:"wxlogin_atlas/btn_com_long1.png",labelSize:30,labelColors:"#263d7d,#263d7d,#263d7d,#263d7d",label:"\u5173\u95ed"}},{type:"Box",props:{y:904,x:34,width:596,var:"boxTabPrivacy",height:59}},{type:"Label",props:{y:72,x:216,width:234,var:"privacyTitle",valign:"middle",text:"\u6682\u65e0\u516c\u544a",height:35,fontSize:30,color:"#ffffff",bold:!1,align:"center"}},{type:"Panel",props:{y:142,x:61,width:545,var:"privacyPanel",height:733},child:[{type:"HTMLDivElement",props:{y:0,x:0,width:545,var:"privacyContent",height:733}}]}]},{type:"Image",props:{visible:!1,var:"listBg",skin:"wxlogin_atlas/image_xuanfu_xfbg.png",centerY:0,centerX:0},child:[{type:"Box",props:{y:117,x:61,width:200,var:"leftListBox",height:905}},{type:"Box",props:{y:117,x:293,width:358,var:"rightListBox",height:905}},{type:"Image",props:{y:13,x:642,var:"closeBg",skin:"wxlogin_atlas/image_com_tuichu.png"}}]},{type:"Box",props:{width:720,visible:!1,var:"jumpBg",mouseThrough:!1,height:1280,centerY:0,centerX:0},child:[{type:"Image",props:{x:33,width:655,skin:"wxlogin_atlas/image_login_notice.png",height:994,centerY:0,centerX:0}},{type:"Button",props:{width:274,var:"btnJump",stateNum:1,skin:"wxlogin_atlas/btn_com_long1.png",labelSize:30,labelColors:"#263d7d,#263d7d,#263d7d,#263d7d",label:"\u8df3\u8f6c",height:59,centerY:436,centerX:0}},{type:"Label",props:{width:234,var:"jumpTitle",valign:"middle",text:"\u6682\u65e0\u516c\u544a",fontSize:30,color:"#ffffff",centerY:-408,centerX:0,bold:!1,align:"center"}},{type:"Panel",props:{x:94,width:545,var:"jumpPanel",height:733,centerY:10},child:[{type:"HTMLDivElement",props:{y:0,x:0,width:545,var:"jumpContent",height:733}}]},{type:"Image",props:{x:596,visible:!1,var:"closeBtn",skin:"wxlogin_atlas/image_com_tuichu.png",name:"closeBtn",centerY:-402}}]}]},$U}(View);$r.$r=$V}(ui||(ui={})),function($V){var $r,$U;$r=$V.$s||($V.$s={}),$U=function($U){function $V(){return $U.call(this)||this}return __extends($V,$U),$V.prototype.initialize=function(){$U.prototype.initialize.call(this),this.centerX=0,this.centerY=0,this.addEvt(),this.onOpened()},$V.prototype.addEvt=function(){this.on(Laya.Event.CLICK,this,this.$p)},$V.prototype.rmEvts=function(){this.off(Laya.Event.CLICK,this,this.$p)},$V.prototype.onOpened=function(){this.$c=Date.now(),ServerLoading.instance.preloadServer(),ServerLoading.instance.preloadLoading()},$V.prototype.destroy=function($V){void 0===$V&&($V=!0),this.rmEvts(),$U.prototype.destroy.call(this,$V)},$V.prototype.$p=function(){if(1e4<Date.now()-this.$c){this.$c-=1e3;var $V=Browser.window.PF_INFO.selectedServer;$V.server_id&&$r.CommonFunc.checkSer($V)&&(ServerLoading.instance.enterDefaultServer(),ServerLoading.instance.sendRecord())}},$V}(ui.$V),$r.AuthorizationPanel=$U}(modules||(modules={})),function($V){var $U,$r,$s,$p,$R,$c;$U=$V.$R||($V.$R={}),$r=Laya.Event,$s=Laya.Image,$p=Laya.Component,$R=Laya.Loader,$c=function($U){function $N(){var $V=$U.call(this)||this;return $V.$T=new $s,$V.addChild($V.$T),$V.$N=null,$V.$t=[],$V.$b=!1,$V.$S=0,$V.$G=!0,$V.$q=6,$V.$u=!1,$V.on($r.DISPLAY,$V,$V.$h),$V.on($r.UNDISPLAY,$V,$V.$l),$V}return __extends($N,$U),$N.create=function($V,$U,$r,$s,$p,$c,$R){void 0===$s&&($s=0),void 0===$p&&($p=6),void 0===$c&&($c=!0),void 0===$R&&($R=!1);var $T=new $N;return $T.skin($U,$r,$s),$T.durFrm=$p,$T.loop=$c,$T.atHide=$R,$V&&$V.addChild($T),$T},$N.play=function($V){$V&&($V.visible=!0,$V.play())},$N.stop=function($V){$V&&($V.visible=!1,$V.stop())},$N.prototype.destroy=function($V){Laya.timer.clear(this,this.$W),this.off($r.DISPLAY,this,this.$h),this.off($r.UNDISPLAY,this,this.$l),$U.prototype.destroy.call(this,$V)},$N.prototype.$h=function(){},$N.prototype.$l=function(){},$N.prototype.skin=function($V,$U,$r){if(this.$N!=$V){this.$N=$V,this.$t=[];for(var $s=0,$p=$r;$p<=$U;$p++)this.$t[$s++]=$V+"/"+$p+".png";var $c=$R.getRes(this.$t[0]);$c&&(this.width=$c.sourceWidth,this.height=$c.sourceHeight),this.$W()}},Object.defineProperty($N.prototype,"atHide",{get:function(){return this.$u},set:function($V){this.$u=$V},enumerable:!0,configurable:!0}),Object.defineProperty($N.prototype,"durFrm",{set:function($V){this.$q!=$V&&(this.$q=$V,this.$b&&(Laya.timer.clear(this,this.$W),Laya.timer.loop(this.$q*(1e3/60),this,this.$W)))},enumerable:!0,configurable:!0}),Object.defineProperty($N.prototype,"loop",{set:function($V){this.$G=$V},enumerable:!0,configurable:!0}),$N.prototype.play=function(){this.$b&&this.stop(),this.$b=!0,this.$S=0,Laya.timer.loop(this.$q*(1e3/60),this,this.$W),this.$W()},$N.prototype.stop=function(){this.$b=!1,this.$S=0,this.$W(),Laya.timer.clear(this,this.$W)},$N.prototype.pause=function(){this.$b&&(this.$b=!1,Laya.timer.clear(this,this.$W))},$N.prototype.resume=function(){this.$b||(this.$b=!0,Laya.timer.loop(this.$q*(1e3/60),this,this.$W),this.$W())},Object.defineProperty($N.prototype,"isPlay",{get:function(){return this.$b},enumerable:!0,configurable:!0}),$N.prototype.$W=function(){this.$t&&0!=this.$t.length&&(this.$T.skin=this.$t[this.$S],this.$b&&(this.$S++,this.$S==this.$t.length&&(this.$G?this.$S=0:(Laya.timer.clear(this,this.$W),this.$b=!1,this.$u&&(this.visible=!1),this.event($r.COMPLETE)))))},$N}($p),$U.PanelEff=$c}(modules||(modules={})),function($V){var $U,$r,$s;$U=$V.$s||($V.$s={}),$r=$V.$R.PanelEff,$s=function($s){function $V($V,$U){void 0===$V&&($V=0);var $r=$s.call(this)||this;return $r.$O={bgImgSkin:"wxloading_atlas/image_loading_bg.jpg",topImgSkin:"wxloading_atlas/image_loading_bg_top.jpg",btmImgSkin:"wxloading_atlas/image_loading_bg_bottom.jpg",leftImgSkin:"wxloading_atlas/image_loading_bg_left.jpg",rightImgSkin:"wxloading_atlas/image_loading_bg_right.jpg",loadingBarBgSkin:"wxloading_atlas/image_loding_bar0.png",copyRightImgBottom:10,processBox1Y:963,processBox2Y:1065,loadingTipsSize:26,getTipsBtnVisible:!1},$r.$L={bgImgSkin:"wxloading_atlas/image_loading_bg2.jpg",topImgSkin:"wxloading_atlas/image_loading_bg_top2.jpg",btmImgSkin:"wxloading_atlas/image_loading_bg_bottom2.jpg",leftImgSkin:"wxloading_atlas/image_loading_bg_left2.jpg",rightImgSkin:"wxloading_atlas/image_loading_bg_right2.jpg",loadingBarBgSkin:"wxloading_atlas/image_loding_bar02.png",copyRightImgBottom:10,processBox1Y:963,processBox2Y:1065,loadingTipsSize:26,getTipsBtnVisible:!1},$r.$d=0,$r.$k(1==$V?$r.$L:$r.$O),$r.copyRightImg.skin=$U,$r}return __extends($V,$s),$V.prototype.initialize=function(){if($s.prototype.initialize.call(this),ServerLoading.instance.preloadLoading(),this.$y=Browser.window.PF_INFO,this.centerX=0,this.centerY=0,this.$y){var $V=this.$y.loadingType;this.loadingTips.color=1==$V?"#f2ffb5":2==$V?"#000000":101==$V?"#000000":"#f2ffb5"}this.$D=[this.point1,this.point2,this.point3,this.point4],Browser.window.watPanel=this,wxHideLoading(),ServerLoading.instance.closeAuthor(),ServerLoading.instance.closeServer(),this.onOpened()},$V.prototype.toAllProgress=function($V){var $U=this;if(-1===$V)return $U.$d=0,Laya.timer.clear(this,this.toAllProgress),void Laya.timer.frameLoop(1,this,this.toAllProgress);if(-2!==$V){$U.$d<.9?$U.$d+=(.15*Math.random()+.01)/(100*Math.random()+50):$U.$d<1&&($U.$d+=1e-4),.9999<$U.$d&&($U.$d=.9999,Laya.timer.clear(this,this.toAllProgress),Laya.timer.once(3e3,this,function(){.9<$U.$d&&toAllProgress(-1)}));var $r=$U.$d,$s=590*$r;$U.$d=$U.$d>$r?$U.$d:$r,$U.loadingBar.width=$s;var $p=$U.loadingBar.x+$s;$U.loadingImg2.x=$p-15,364<=$p?($U.loadingImg1.visible=!0,$U.loadingImg1.x=$p-202):$U.loadingImg1.visible=!1,$U.percentageTips.text=(100*$r>>0)+"%",$U.$d<.9999&&Laya.timer.frameLoop(1,this,this.toAllProgress)}else Laya.timer.clear(this,this.toAllProgress)},$V.prototype.toProgress=function($V,$U,$r){var $s=this;1<$V&&($V=1);var $p=590*$V;$s.$d=$s.$d>$V?$s.$d:$V,$s.loadingBar.width=$p;var $c=$s.loadingBar.x+$p;$s.loadingImg2.x=$c-15,364<=$c?($s.loadingImg1.visible=!0,$s.loadingImg1.x=$c-202):$s.loadingImg1.visible=!1,$s.percentageTips.text=(100*$V>>0)+"%",$s.loadingTips.text=$U;for(var $R=$r-1,$T=0;$T<this.$D.length;$T++)$s.$D[$T].skin=$T<$R?"wxloading_atlas/image_login_point3.png":$R===$T?"wxloading_atlas/image_login_point2.png":"wxloading_atlas/image_login_point1.png"},$V.prototype.onOpened=function(){this.toProgress(.1,"\u6b63\u5728\u52a0\u8f7d\u8d44\u6e90...",1),this.toAllProgress(-1),Browser.window.toAllProgress=this.toAllProgress.bind(this),Browser.window.toProgress=this.toProgress.bind(this),this.versionTxt.text="\u8d44\u6e90\uff1a"+this.$y.lastVersion+"      \u7248\u672c\uff1a"+this.$y.wxVersion,this.showGetBtn()},$V.prototype.close=function($V){this.resetWinFun(),Laya.timer.clear(this,this.toAllProgress),Laya.timer.clear(this,this.$n),ServerLoading.instance.closeLoading(),this.getTipsBtn.off(Laya.Event.CLICK,this,this.$I)},$V.prototype.resetWinFun=function(){Browser.window.toAllProgress=function(){},Browser.window.toProgress=function(){}},$V.prototype.destroy=function($V){void 0===$V&&($V=!0),this.resetWinFun(),$s.prototype.destroy.call(this,$V)},$V.prototype.showGetBtn=function(){this.$y.showGetBtn&&1==this.$y.showGetBtn&&(this.getTipsBtn.visible=!0,this.getTipsBtn.tag=!0,this.getTipsBtn.skin="wxloading_atlas/btn_loding_abcelq0.png",this.getTipsBtn.on(Laya.Event.CLICK,this,this.$I),this.$Q(),this.$H(!0))},$V.prototype.$I=function(){this.getTipsBtn.tag&&(this.getTipsBtn.tag=!1,this.getTipsBtn.skin="wxloading_atlas/btn_loding_abcelq1.png",this.$w(),this.$H(!1))},$V.prototype.$k=function($V){this.bgImg.skin=$V.bgImgSkin,this.topImg.skin=$V.topImgSkin,this.btmImg.skin=$V.btmImgSkin,this.leftImg.skin=$V.leftImgSkin,this.rightImg.skin=$V.rightImgSkin,this.copyRightImg.bottom=$V.copyRightImgBottom,this.processBox1.y=$V.processBox1Y,this.processBox2.y=$V.processBox2Y,this.loadingBarBg.skin=$V.loadingBarBgSkin,this.loadingTips.fontSize=$V.loadingTipsSize,this.getTipsBtn.visible=this.$y.showGetBtn&&1==this.$y.showGetBtn,this.getTipsBtn.visible?this.$Q():this.$w(),this.$H(this.getTipsBtn.visible)},$V.prototype.$Q=function(){this.$z||(this.$z=$r.create(this.getTipsBtn,"wxeff_btn_atlas",4,0,12),this.$z.pos(161,106),this.$z.scale(1.14,1.15)),$r.play(this.$z)},$V.prototype.$w=function(){this.$z&&$r.stop(this.$z)},$V.prototype.$H=function($V){Laya.timer.clear(this,this.$n),$V?(this.$E=9,this.txtGetTm.visible=!0,this.$n(),Laya.timer.loop(1e3,this,this.$n)):this.txtGetTm.visible=!1},$V.prototype.$n=function(){0<this.$E?(this.txtGetTm.text="\u7acb\u5373\u9886\u53d6("+this.$E+"s)",this.$E--):(this.txtGetTm.text="",Laya.timer.clear(this,this.$n),this.$I())},$V}(ui.$U),$U.LoadingPanel=$s}(modules||(modules={})),function($V){!function($U){var $s=function(){function $p(){}return $p.checkSer=function($V){if(!$V)return!1;var $U=$p.isRecommend($V.is_recommend);if(-1!=$V.status)return 0==$V.status?(alert("\u670d\u52a1\u5668\u5c1a\u672a\u5f00\u542f\uff0c\u656c\u8bf7\u671f\u5f85"),!1):!(3===$V.status&&!$U)||(alert("\u5f53\u524d\u533a\u670d\u5df2\u7206\u6ee1\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),!1);var $r="\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d",$s=$V.maintain_time;return $s&&""!=$s&&" "!=$s&&($r+="\n(\u9884\u8ba1\u65f6\u95f4"+$s+")"),alert($r),!1},$p.isRecommend=function($V){return 1===$V||3===$V},$p.getStatusSrc=function($V){var $U=$V.status,$r=$p.isRecommend($V.is_recommend),$s="wxlogin_atlas/image_login_fanmang.png";return 0<$U&&$r?$s="wxlogin_atlas/image_login_changtong.png":0<$U&&!$r?$s="wxlogin_atlas/image_login_fanmang.png":$U<=0&&($s="wxlogin_atlas/image_login_weihu.png"),$s},$p.getStatusAddStr=function($V){var $U=$V.status,$r="";return $p.isRecommend($V.is_recommend)?$r="(\u63a8\u8350)":-1===$U?$r="(\u7ef4\u62a4\u4e2d)":0===$U&&($r="(\u5f85\u5f00\u670d)"),$r},$p.getStatusAddStr2=function($V){var $U=$V.status,$r="";return-1===$U?$r="\u7ef4\u62a4\u4e2d":0===$U?$r="\u672a\u5f00\u670d":0<$U&&($r="\u5df2\u5f00\u670d"),$r},$p.getStatusTxtColor=function($V,$U){var $r=$U;return-1===$V?$r="#d50000":0===$V&&($r="#49575a"),$r},$p}();$U.CommonFunc=$s;var $p=Laya.List,$c=Laya.Event,$V=function($r){function $V($V){void 0===$V&&($V="wxlogin_atlas/image_denglu_txtshenpi.png");var $U=$r.call(this)||this;return $U.$K=0,$U.$m="multi_notice_key",$U.$a=0,$U.$Z=0,$U.$x="privacy_key",$U.$$=!0,$U.$j=0,$U.copyRightImg.skin=$V,$U}return __extends($V,$r),$V.prototype.initialize=function(){$r.prototype.initialize.call(this),this.centerX=0,this.centerY=0,this.copyRightImg.skin="",ServerLoading.instance.preloadServer(),this.$y=Browser.window.PF_INFO,this.$o=new $p,this.$o.vScrollBarSkin="",this.$o.itemRender=$U.SelectLeftListItem,this.$o.top=5,this.$o.repeatX=1,this.$o.spaceY=5,this.$o.width=this.leftListBox.width,this.$o.height=this.leftListBox.height-8,this.leftListBox.addChild(this.$o),this.$J=new $p,this.$J.vScrollBarSkin="",this.$J.itemRender=$U.SelectRightListItem,this.$J.top=5,this.$J.repeatX=1,this.$J.spaceY=5,this.$J.width=this.rightListBox.width,this.$J.height=this.rightListBox.height-8,this.rightListBox.addChild(this.$J),this.$i=new $p,this.$i.hScrollBarSkin="",this.$i.itemRender=$U.NoticeItem,this.$i.repeatY=1,this.$i.width=this.boxTab.width,this.$i.height=this.boxTab.height,this.boxTab.addChild(this.$i),this.$B=new $p,this.$B.hScrollBarSkin="",this.$B.itemRender=$U.PrivacyItem,this.$B.repeatY=1,this.$B.width=this.boxTab.width,this.$B.height=this.boxTab.height,this.boxTabPrivacy.addChild(this.$B);var $V=this.$y.loadingType;this.$P=1==$V?"#feffc0":2==$V?"#feffc0":3==$V?"#feffc0":101==$V?"#feffc0":"#93353b",this.enterBtn.size(506,88),this.$M=[],this.noticeBtn.visible=!1,this.mNoticeContent.color="#212942",this.mNoticeContent.style.fontSize=26,this.mNoticeContent.style.lineHeight=28,this.mNoticeContent.mouseEnabled=!1,this.privacyContent.color="#212942",this.privacyContent.style.fontSize=26,this.privacyContent.style.lineHeight=28,this.privacyContent.mouseEnabled=!1,this.privacyTip.color="#ffffff",this.privacyTip.style.fontSize=18,this.privacyTip.style.lineHeight=18,this.privacyTip.style.stroke=2,this.privacyTip.style.strokeColor="#000000",this.privacyTip.style.wordWrap=!1,this.jumpContent.color="#212942",this.jumpContent.style.fontSize=26,this.jumpContent.style.lineHeight=28,this.jumpContent.mouseEnabled=!1,Browser.window.initPanel=this,wxHideLoading(),this.addEvt(),this.onOpened()},$V.prototype.destroy=function($V){void 0===$V&&($V=!0),this.rmEvts(),this.$A(),this.$X(),this.$e(),this.$F(),this.ageTipsContent=null,this.$o&&(this.$o.removeSelf(),this.$o.destroy(),this.$o=null),this.$J&&(this.$J.removeSelf(),this.$J.destroy(),this.$J=null),this.$i&&(this.$i.removeSelf(),this.$i.destroy(),this.$i=null),this.$B&&(this.$B.removeSelf(),this.$B.destroy(),this.$B=null),Laya.timer.clear(this,this.$g),$r.prototype.destroy.call(this,$V)},$V.prototype.addEvt=function(){this.bgImg.on(Laya.Event.CLICK,this,this.$v),this.enterBtn.on(Laya.Event.CLICK,this,this.$Y),this.selectServer.on(Laya.Event.CLICK,this,this.$C),this.selectServer.on(Laya.Event.CLICK,this,this.$C),this.closeBg.on(Laya.Event.CLICK,this,this.$f),this.closeBtn.on(Laya.Event.CLICK,this,this.$VV),this.noticeBtn.on(Laya.Event.CLICK,this,this.$UV),this.noticeClose.on(Laya.Event.CLICK,this,this.$rV),this.noticeContent.on(Laya.Event.MOUSE_DOWN,this,this.$sV),this.mNoticeClose.on(Laya.Event.CLICK,this,this.$pV),this.mNoticeClose2.on(Laya.Event.CLICK,this,this.$pV),this.mNoticePanel.on(Laya.Event.MOUSE_DOWN,this,this.$cV),this.privacyBtn.on(Laya.Event.CLICK,this,this.$RV),this.ageTipBtn.on(Laya.Event.CLICK,this,this.$TV),this.privacyClose.on(Laya.Event.CLICK,this,this.$NV),this.privacyClose2.on(Laya.Event.CLICK,this,this.$NV),this.privacyPanel.on(Laya.Event.MOUSE_DOWN,this,this.$tV),this.privacyToggle.on(Laya.Event.CLICK,this,this.$bV),this.privacyTip.on(Laya.Event.LINK,this,this.$SV),this.btnJump.on(Laya.Event.CLICK,this,this.$_V),this.jumpPanel.on(Laya.Event.MOUSE_DOWN,this,this.$GV),this.$i.selectEnable=!0,this.$i.selectHandler=Laya.Handler.create(this,this.$qV,null,!1),this.$B.selectEnable=!0,this.$B.selectHandler=Laya.Handler.create(this,this.$uV,null,!1)},$V.prototype.rmEvts=function(){this.bgImg.off(Laya.Event.CLICK,this,this.$v),this.enterBtn.off(Laya.Event.CLICK,this,this.$Y),this.selectServer.off(Laya.Event.CLICK,this,this.$C),this.selectServer.off(Laya.Event.CLICK,this,this.$C),this.closeBg.off(Laya.Event.CLICK,this,this.$f),this.noticeBtn.off(Laya.Event.CLICK,this,this.$UV),this.closeBtn.off(Laya.Event.CLICK,this,this.$VV),this.noticeClose.off(Laya.Event.CLICK,this,this.$rV),this.noticeContent.off(Laya.Event.MOUSE_DOWN,this,this.$sV),this.mNoticeClose.off(Laya.Event.CLICK,this,this.$pV),this.mNoticeClose2.off(Laya.Event.CLICK,this,this.$pV),this.mNoticePanel.off(Laya.Event.MOUSE_DOWN,this,this.$cV),this.privacyBtn.off(Laya.Event.CLICK,this,this.$RV),this.ageTipBtn.off(Laya.Event.CLICK,this,this.$TV),this.privacyClose.off(Laya.Event.CLICK,this,this.$NV),this.privacyClose2.off(Laya.Event.CLICK,this,this.$NV),this.privacyPanel.off(Laya.Event.MOUSE_DOWN,this,this.$tV),this.privacyToggle.off(Laya.Event.CLICK,this,this.$bV),this.privacyTip.off(Laya.Event.LINK,this,this.$SV),this.btnJump.off(Laya.Event.CLICK,this,this.$_V),this.jumpPanel.off(Laya.Event.MOUSE_DOWN,this,this.$GV),this.$i.selectEnable=!1,this.$i.selectHandler=null,this.$B.selectEnable=!1,this.$B.selectHandler=null},$V.prototype.onOpened=function(){var $s=this;this.$c=Date.now(),this.$$=!0,this.$hV=this.$y.selectedServer.server_id,this.$lV(this.$y.selectedServer),this.$o.dataSource=this.$y.groupList,this.$C(),req_multi_server_notice(4,this.$y.pkgName,this.$y.selectedServer.server_id,this.$WV.bind(this)),Laya.timer.frameOnce(1,this,function(){$s.$OV=$s.$y.privacy_data&&$s.$y.privacy_data.list?$s.$y.privacy_data.list:[],$s.$LV=null!=$s.$y.privacy_login_pkg?$s.$y.privacy_login_pkg:0;var $V="1"==localStorage.getItem($s.$x),$U=0!=PF_INFO.privacy_save_pkg,$r=0==$s.$LV||1==$s.$LV;$s.$dV=$U&&$V||$r,$s.$kV()}),this.versionTxt.text="\u8d44\u6e90\uff1a"+this.$y.lastVersion+"      \u7248\u672c\uff1a"+this.$y.wxVersion,this.serverName.color=this.selServer.color=this.$P,this.imgCheatTip.visible=1==this.$y.anti_cheat_pkg,this.txtTip.visible=!1},$V.prototype.preload=function(){},$V.prototype.$v=function(){this.$dV?1e4<Date.now()-this.$c&&$s.checkSer(this.$y.selectedServer)&&(this.$c-=2e3,ServerLoading.instance.enterDefaultServer()):this.$yV("\u60a8\u5fc5\u987b\u540c\u610f\u7528\u6237\u534f\u8bae\u624d\u53ef\u8fdb\u5165\u6e38\u620f")},$V.prototype.$Y=function(){this.$dV?$s.checkSer(this.$y.selectedServer)&&(Browser.window.PF_INFO.selectedServer=this.$y.selectedServer,req_server_check_ban(0,this.$y.selectedServer.server_id)):this.$yV("\u60a8\u5fc5\u987b\u540c\u610f\u7528\u6237\u534f\u8bae\u624d\u53ef\u8fdb\u5165\u6e38\u620f")},$V.prototype.$C=function(){this.$y.hasGroupReq?this.listBg.visible=!0:(this.$y.hasGroupReq=!0,req_server_group(0))},$V.prototype.$f=function(){this.listBg.visible=!1},$V.prototype.$VV=function(){this.jumpBg.visible=!1},$V.prototype.$UV=function(){this.$DV()},$V.prototype.$pV=function(){this.mNoticeBg.visible=!1},$V.prototype.$rV=function(){this.noticeBg.visible=!1},$V.prototype.$RV=function(){this.$nV()},$V.prototype.$NV=function(){this.privacyBg.visible=!1},$V.prototype.$bV=function(){this.$dV=!this.$dV,this.$dV&&localStorage.setItem(this.$x,"1"),this.privacyToggle.skin="wxlogin_atlas/"+(this.$dV?"image_xuanfu_gx1.png":"image_xuanfu_gx0.png")},$V.prototype.$SV=function($V){this.$nV(Number($V))},$V.prototype.$_V=function(){Browser.window.forceJumpMiniGame?Browser.window.forceJumpMiniGame():this.$VV()},$V.prototype.$sV=function(){this.$K=this.noticeContent.mouseY,Laya.stage.on($c.MOUSE_MOVE,this,this.$IV),Laya.stage.on($c.MOUSE_UP,this,this.$A),Laya.stage.on($c.MOUSE_OUT,this,this.$A)},$V.prototype.$IV=function(){if(this.noticeContent){var $V=this.$K-this.noticeContent.mouseY;this.noticeContent.scrollY+=$V,this.$K=this.noticeContent.mouseY}},$V.prototype.$A=function(){Laya.stage.off($c.MOUSE_MOVE,this,this.$IV),Laya.stage.off($c.MOUSE_UP,this,this.$A),Laya.stage.off($c.MOUSE_OUT,this,this.$A)},$V.prototype.$cV=function(){this.$a=this.mNoticePanel.mouseY,Laya.stage.on($c.MOUSE_MOVE,this,this.$QV),Laya.stage.on($c.MOUSE_UP,this,this.$X),Laya.stage.on($c.MOUSE_OUT,this,this.$X)},$V.prototype.$QV=function(){if(this.mNoticeContent){var $V=this.$a-this.mNoticePanel.mouseY;this.mNoticeContent.y-=$V,this.mNoticePanel.height<this.mNoticeContent.contextHeight?this.mNoticeContent.y<this.mNoticePanel.height-this.mNoticeContent.contextHeight?this.mNoticeContent.y=this.mNoticePanel.height-this.mNoticeContent.contextHeight:0<this.mNoticeContent.y&&(this.mNoticeContent.y=0):this.mNoticeContent.y=0,this.$a=this.mNoticePanel.mouseY}},$V.prototype.$X=function(){Laya.stage.off($c.MOUSE_MOVE,this,this.$QV),Laya.stage.off($c.MOUSE_UP,this,this.$X),Laya.stage.off($c.MOUSE_OUT,this,this.$X)},$V.prototype.$tV=function(){this.$Z=this.privacyPanel.mouseY,Laya.stage.on($c.MOUSE_MOVE,this,this.$HV),Laya.stage.on($c.MOUSE_UP,this,this.$e),Laya.stage.on($c.MOUSE_OUT,this,this.$e)},$V.prototype.$HV=function(){if(this.privacyContent){var $V=this.$Z-this.privacyPanel.mouseY;this.privacyContent.y-=$V,this.privacyPanel.height<this.privacyContent.contextHeight?this.privacyContent.y<this.privacyPanel.height-this.privacyContent.contextHeight?this.privacyContent.y=this.privacyPanel.height-this.privacyContent.contextHeight:0<this.privacyContent.y&&(this.privacyContent.y=0):this.privacyContent.y=0,this.$Z=this.privacyPanel.mouseY}},$V.prototype.$e=function(){Laya.stage.off($c.MOUSE_MOVE,this,this.$HV),Laya.stage.off($c.MOUSE_UP,this,this.$e),Laya.stage.off($c.MOUSE_OUT,this,this.$e)},$V.prototype.$GV=function(){this.$j=this.jumpPanel.mouseY,Laya.stage.on($c.MOUSE_MOVE,this,this.$wV),Laya.stage.on($c.MOUSE_UP,this,this.$F),Laya.stage.on($c.MOUSE_OUT,this,this.$F)},$V.prototype.$wV=function(){if(this.jumpContent){var $V=this.$j-this.jumpPanel.mouseY;this.jumpContent.y-=$V,this.jumpPanel.height<this.jumpContent.contextHeight?this.jumpContent.y<this.jumpPanel.height-this.jumpContent.contextHeight?this.jumpContent.y=this.jumpPanel.height-this.jumpContent.contextHeight:0<this.jumpContent.y&&(this.jumpContent.y=0):this.jumpContent.y=0,this.$j=this.jumpPanel.mouseY}},$V.prototype.$F=function(){Laya.stage.off($c.MOUSE_MOVE,this,this.$wV),Laya.stage.off($c.MOUSE_UP,this,this.$F),Laya.stage.off($c.MOUSE_OUT,this,this.$F)},$V.prototype.$qV=function(){if(this.$i.dataSource){for(var $V,$U=0;$U<this.$i.dataSource.length;$U++){var $r=this.$i.dataSource[$U];$r[1]=$U==this.$i.selectedIndex,$U==this.$i.selectedIndex&&($V=$r[0])}this.mNoticeTitle.text=$V&&$V.title?$V.title:"",this.mNoticeContent.innerHTML=$V&&$V.content?$V.content:"",this.mNoticeContent.y=0}},$V.prototype.$uV=function(){var $V=this.$B.dataSource;if($V){for(var $U=0;$U<$V.length;$U++){$V[$U][1]=$U==this.$B.selectedIndex}var $r=this.$OV[this.$B.selectedIndex];$r&&$r.content&&($r.content=$r.content.replace(/(<)(?!(br)).[a-zA-Z]{0,10}(>)/g,"")),this.privacyTitle.text=$r&&$r.title?$r.title:"\u6807\u9898",this.privacyContent.innerHTML=$r&&$r.content?$r.content:"\u52a0\u8f7d\u4e2d...",this.privacyContent.y=0}},$V.prototype.$lV=function($V){var $U=$V.server_name;this.serverName.text=$U+$s.getStatusAddStr($V),this.serverName.color=$s.getStatusTxtColor($V.status,this.$P),this.hotImage.skin=$s.getStatusSrc($V),this.$y.cdn=$V.cdn||"",this.$y.selectedServer=$V,this.noticeBtn.visible=!0},$V.prototype.$zV=function($V){this.showGroupList($V)},$V.prototype.$EV=function($V){this.$lV($V),this.listBg.visible=!1},$V.prototype.showGroupList=function($V){if(void 0===$V&&($V=0),this.parent){var $U=this.$y.groupList;if($U&&0!==$U.length){for(var $r=$U.length,$s=0;$s<$r;$s++)$U[$s].callBack=this.$zV.bind(this),$U[$s].select=$s==$V,$U[$s].index=$s;var $p=(this.$o.array=$U)[$V].id;this.$y.serverList[$p]?this.showServerList($p):this.$y.hasServerReq||(this.$y.hasServerReq=!0,-1==$p?req_server_owner(0):-2==$p?req_recommend_server_list(0):req_server_list(0,$p))}}},$V.prototype.showServerList=function($V){if(this.parent&&this.$y.serverList[$V]){for(var $U=this.$y.serverList[$V],$r=$U.length,$s=0;$s<$r;$s++)$U[$s].callBack=this.$EV.bind(this);this.$J.array=$U}},$V.prototype.$WV=function($V){console.log("onMultiNoticeCallback, param = ",$V);var $U=Date.now()/1e3,$r=localStorage.getItem(this.$m),$s=!(this.$M=[]);if("success"==$V.state)for(var $p in $V.data){var $c=$V.data[$p];if($c){var $R=$U<$c.end_time,$T=1==$c.pop_type,$N=2==$c.pop_type&&$c.key+""!=$r;!$s&&$R&&($T||$N)&&($s=!0),$R&&this.$M.push($c),$N&&localStorage.setItem(this.$m,$c.key+"")}}this.$M.sort(function($V,$U){return $V.login_id-$U.login_id}),console.log("onMultiNoticeCallback, datas = ",this.$M),$s&&this.$DV()},$V.prototype.$DV=function(){if(this.$i){if(this.$M){this.$i.x=2<this.$M.length?0:(this.boxTab.width-274*this.$M.length)/2;for(var $V=[],$U=0;$U<this.$M.length;$U++){var $r=this.$M[$U];$V.push([$r,$U==this.$i.selectedIndex])}0<(this.$i.dataSource=$V).length?(this.$i.selectedIndex=0,this.$i.scrollTo(0)):(this.mNoticeTitle.text="\u6682\u65e0\u516c\u544a",this.mNoticeContent.text=""),this.mNoticeClose2.visible=this.$M.length<=1,this.boxTab.visible=1<this.$M.length}this.mNoticeBg.visible=!0}},$V.prototype.$KV=function($V){if(!this.destroyed){if(console.log("p_onPrivacyCallback, param = ",$V),"success"==$V.state)for(var $U in $V.data){var $r=Number($U),$s=$V.data[$r];this.$OV&&this.$OV[$r]&&(this.$OV[$r].content=$s.content)}this.$uV()}},$V.prototype.$kV=function(){for(var $V="",$U=0;$U<this.$OV.length;$U++){$V+='<a href="'+$U+'" style="color:#14ff28;text-decoration:none">'+this.$OV[$U].title+"</a>",$U<this.$OV.length-1&&($V+="\u3001")}this.privacyTip.innerHTML="\u6211\u5df2\u7ecf\u8be6\u7ec6\u9605\u8bfb\u5e76\u540c\u610f"+$V,this.privacyToggle.skin="wxlogin_atlas/"+(this.$dV?"image_xuanfu_gx1.png":"image_xuanfu_gx0.png"),this.privacyTip.x=(720-this.privacyTip.width)/2,this.privacyToggle.x=this.privacyTip.x-30,this.privacyBtn.visible=0<this.$OV.length,this.privacyToggle.visible=this.privacyTip.visible=0<this.$OV.length&&0!=this.$LV},$V.prototype.$nV=function($V){if(void 0===$V&&($V=0),this.$B){if(this.$OV){this.$B.x=2<this.$OV.length?0:(this.boxTab.width-274*this.$OV.length)/2;for(var $U=[],$r=0;$r<this.$OV.length;$r++){var $s=this.$OV[$r],$p=$s&&$s.title?$s.title:"",$c=$r==this.$B.selectedIndex;$U.push([$p,$c])}0<(this.$B.dataSource=$U).length?($V<0&&($V=0),$V>$U.length-1&&($V=0),this.$B.selectedIndex=$V,this.$B.scrollTo($V)):(this.privacyTitle.text="\u7a7a",this.privacyContent.text=""),this.privacyClose2.visible=this.$OV.length<=1,this.boxTabPrivacy.visible=1<this.$OV.length}this.$$&&(this.$$=!1,req_privacy(this.$y.pkgName,this.$KV.bind(this))),this.privacyBg.visible=!0}},$V.prototype.openJumpView=function($V,$U,$r,$s){void 0===$s&&($s=!1),this.jumpTitle.text=$V||"\u6682\u65e0\u516c\u544a",this.jumpContent.innerHTML=$U||"",this.btnJump.label=$r||"\u786e\u5b9a",this.jumpContent.y=0,this.jumpBg.visible=!0,this.closeBtn.visible=$s},$V.prototype.showAgeTipsBtn=function($V,$U,$r,$s,$p){(this.ageTipBtn.visible=$V)&&(this.ageTipBtn.skin=$U||"wxlogin_atlas/btn_login_gonggao.png"),this.ageTipsContent=$r,this.ageTipBtn.x=$s||0,this.ageTipBtn.y=$p||0},$V.prototype.$TV=function(){this.openJumpView("\u9002\u9f84\u516c\u544a",this.ageTipsContent,"\u786e\u8ba4",!0)},$V.prototype.$yV=function($V){this.txtTip.text=$V,this.txtTip.y=640,this.txtTip.visible=!0,this.$mV=1,Laya.timer.clear(this,this.$g),this.$g(),Laya.timer.frameLoop(1,this,this.$g)},$V.prototype.$g=function(){this.txtTip.y-=this.$mV,this.$mV*=1.1,this.txtTip.y<=590&&(this.txtTip.visible=!1,Laya.timer.clear(this,this.$g))},$V}(ui.$r);$U.SelectServerPanel=$V}($V.$s||($V.$s={}))}(modules||(modules={}));var modules,Browser=Laya.Browser,Font=Laya.Font,Input=Laya.Input,Render=Laya.Render,Handler=Laya.Handler,AuthorizationPanel=modules.$s.AuthorizationPanel,LoadingPanel=modules.$s.LoadingPanel,SelectServerPanel=modules.$s.SelectServerPanel,ServerLoading=function(){function $N($V){this.m_loadingRes=["wxloading_atlas/image_loding_bar0.png","wxloading_atlas/image_loding_bar02.png","wxloading_atlas/image_loding_bar1.png","wxloading_atlas/image_loding_bar2.png","wxloading_atlas/image_loding_bar3.png","wxloading_atlas/image_login_point1.png","wxloading_atlas/image_login_point2.png","wxloading_atlas/image_login_point3.png","wxeff_btn_atlas/0.png","wxeff_btn_atlas/1.png","wxeff_btn_atlas/2.png","wxeff_btn_atlas/3.png","wxeff_btn_atlas/4.png","wxloading_atlas/image_loading_bg.jpg","wxloading_atlas/image_loading_bg2.jpg","wxloading_atlas/btn_loding_abcelq0.png","wxloading_atlas/btn_loding_abcelq1.png","wxloading_atlas/image_loading_bg_bottom.jpg","wxloading_atlas/image_loading_bg_left.jpg","wxloading_atlas/image_loading_bg_right.jpg","wxloading_atlas/image_loading_bg_top.jpg","wxloading_atlas/image_loading_bg_bottom2.jpg","wxloading_atlas/image_loading_bg_left2.jpg","wxloading_atlas/image_loading_bg_right2.jpg","wxloading_atlas/image_loading_bg_top2.jpg"],this.m_serverRes=["wxlogin_atlas/btn_com_chuangback.png","wxlogin_atlas/btn_login_gonggao.png","wxlogin_atlas/btn_login_loginanniu.png","wxlogin_atlas/btn_login_yingsi.png","wxlogin_atlas/btn_xuanqu_anniuhuang.png","wxlogin_atlas/btn_xuanqu_anniulan.png","wxlogin_atlas/btn_xuanqu_quanniu.png","wxlogin_atlas/image_com_tuichu.png","wxlogin_atlas/image_login_changtong.png","wxlogin_atlas/image_login_fanmang.png","wxlogin_atlas/image_login_weihu.png","wxlogin_atlas/image_login_xuanqubg.png","wxlogin_atlas/image_login_loginbg.jpg","wxlogin_atlas/image_login_loginbg_bottom.jpg","wxlogin_atlas/image_login_loginbg_left.jpg","wxlogin_atlas/image_login_loginbg_right.jpg","wxlogin_atlas/image_login_loginbg_top.jpg","wxlogin_atlas/image_denglu_txtshenpi.png","wxlogin_atlas/image_login_notice.png","wxlogin_atlas/image_xuanfu_xfbg.png","wxlogin_atlas/btn_com_long0.png","wxlogin_atlas/btn_com_long1.png","wxlogin_atlas/image_loding_txtbhcc.png","wxlogin_atlas/image_xuanfu_gx1.png","wxlogin_atlas/image_xuanfu_gx0.png","wxlogin_atlas/shenhezizi.png","wxlogin_atlas/image_xuanqu_ztjb0.png"],this.copyRightUrl="wxlogin_atlas/image_denglu_txtshenpi.png",this.m_isPrelodServer=!1,this.m_isPrelodLoading=!1,this.$aV=!1,this.$ZV="",$N.instance=this,Laya.MiniAdpter.init(),Laya3D.init(0,0,!1,!1,!1),DecodeTools.init(),Laya.stage.scaleMode=Laya.Stage.SCALE_FIXED_WIDTH,Laya.stage.screenMode=Laya.Stage.SCREEN_NONE,Laya.stage.alignH=Laya.Stage.ALIGN_CENTER,Laya.stage.alignV=Laya.Stage.ALIGN_MIDDLE,Laya.stage.frameRate=Laya.Stage.FRAME_SLOW;var $U=Laya.AtlasResourceManager;$U.maxTextureCount=6,$U.atlasTextureWidth=$U.atlasTextureHeight=1024,$U._enable(),Laya.URL.rootPath=Laya.URL.basePath="",Laya.Browser.window.addEventListener(Laya.Event.RESIZE,this.$xV.bind(this)),Laya.Loader.preLoadedMap["res/atlas/create_role_atlas.atlas"]={frames:{"btn_chuangjue_kaishi.png":{frame:{h:88,idx:0,w:506,x:0,y:0},sourceSize:{h:88,w:506},spriteSourceSize:{x:0,y:0}},"btn_chuangjue_nan.png":{frame:{h:98,idx:0,w:108,x:335,y:89},sourceSize:{h:98,w:108},spriteSourceSize:{x:0,y:0}},"btn_chuangjue_nv.png":{frame:{h:98,idx:0,w:107,x:0,y:164},sourceSize:{h:98,w:107},spriteSourceSize:{x:0,y:0}},"image_chuangjue_mingbg.png":{frame:{h:74,idx:0,w:334,x:0,y:89},sourceSize:{h:74,w:334},spriteSourceSize:{x:0,y:0}},"image_chuangjue_suiji.png":{frame:{h:56,idx:0,w:52,x:444,y:89},sourceSize:{h:56,w:52},spriteSourceSize:{x:0,y:0}},"image_xuanfu_gx0.png":{frame:{h:25,idx:0,w:25,x:444,y:146},sourceSize:{h:27,w:26},spriteSourceSize:{x:0,y:2}},"image_xuanfu_gx1.png":{frame:{h:27,idx:0,w:26,x:470,y:146},sourceSize:{h:27,w:26},spriteSourceSize:{x:0,y:0}}},meta:{image:"create_role_atlas.png",prefix:"create_role_atlas/"}},Browser.window.resMgrLoad=$N.instance.requestWeb,Browser.window.imgMgrLoad=$N.instance.requestWeb,this.m_layer=new Laya.Component,this.m_layer.name="_wxLoadingLayer",Laya.stage.addChild(this.m_layer),this.$xV()}return $N.prototype.changeServerLoading=function($V){$N.instance.m_layer.visible=$V},$N.prototype.openAuthor=function(){$N.instance.m_author||($N.instance.m_author=new AuthorizationPanel),$N.instance.m_author.parent||$N.instance.m_layer.addChild($N.instance.m_author),$N.instance.$$V()},$N.prototype.closeAuthor=function(){this.m_author&&this.m_author.parent&&(Laya.stage.removeChild(this.m_author),this.m_author.destroy(!0),this.m_author=null)},$N.prototype.preloadServer=function(){this.m_isPrelodServer||(this.m_isPrelodServer=!0,Laya.loader.load(this.m_serverRes,Handler.create(this,function(){Browser.window.loadServerRes=!0,Browser.window.initMain(),Browser.window.enterToGame()})))},$N.prototype.$jV=function(){$N.instance.m_server||($N.instance.m_server=new SelectServerPanel(this.copyRightUrl)),$N.instance.m_server.parent||$N.instance.m_layer.addChild($N.instance.m_server),$N.instance.$$V()},$N.prototype.openJumpView=function($V,$U,$r,$s){void 0===$s&&($s=!1),this.$jV(),$N.instance.m_server.openJumpView($V,$U,$r,$s)},$N.prototype.openJumpTipsBtn=function($V,$U,$r,$s,$p){this.$jV(),$N.instance.m_server.showAgeTipsBtn($V,$U,$r,$s,$p)},$N.prototype.getCertificatePng=function(){window.sdkInitRes=window.sdkInitRes||{};var $V="wxlogin_atlas/shenhezizi.png",$U="wxlogin_atlas/image_denglu_txtshenpi.png";return 1==sdkInitRes.develop?0==(PF_INFO.develop_certificate_pkg||0)?$V:$U:0==PF_INFO.release_certificate_pkg?$V:$U},$N.prototype.openServer=function($V,$U,$r){var $s=this;this.copyRightUrl=$r||this.getCertificatePng();for(var $p=function(){$s.$jV(),$V&&$U&&$V.call($U)},$c=!0,$R=0,$T=this.m_serverRes;$R<$T.length;$R++){var $N=$T[$R];if(null==Laya.Loader.getRes($N)){$c=!1;break}}$c?$p():Laya.loader.load(this.m_serverRes,Handler.create(this,$p))},$N.prototype.closeServer=function(){this.m_server&&this.m_server.parent&&(Laya.stage.removeChild(this.m_server),this.m_server.destroy(!0),this.m_server=null)},$N.prototype.preloadLoading=function(){this.m_isPrelodLoading||(this.m_isPrelodLoading=!0,Laya.loader.load(this.m_loadingRes,Handler.create(this,function(){Browser.window.loadLoadingRes=!0,Browser.window.initMain(),Browser.window.enterToGame()})))},$N.prototype.openLoading=function($V,$U){void 0===$V&&($V=0),$U=$U||this.getCertificatePng(),Laya.loader.load(this.m_loadingRes,Handler.create(this,function(){$N.instance.m_loading||($N.instance.m_loading=new LoadingPanel($V,$U)),$N.instance.m_loading.parent||$N.instance.m_layer.addChild($N.instance.m_loading),$N.instance.$$V()}))},$N.prototype.closeLoading=function(){this.m_loading&&this.m_loading.parent&&(Laya.stage.removeChild(this.m_loading),this.m_loading.destroy(!0),this.m_loading=null);for(var $V=0,$U=this.m_serverRes;$V<$U.length;$V++){var $r=$U[$V];Laya.Loader.clearCache($N.instance,$r),Laya.Loader.clearRes($r,!0)}for(var $s=0,$p=this.m_loadingRes;$s<$p.length;$s++){$r=$p[$s];Laya.Loader.clearCache($N.instance,$r),Laya.Loader.clearRes($r,!0)}this.m_layer.parent&&this.m_layer.parent.removeChild(this.m_layer)},$N.prototype.setShowBtn=function(){this.m_loading&&this.m_loading.parent&&$N.instance.m_loading.showGetBtn()},$N.prototype.enterDefaultServer=function(){var $V=Browser.window.PF_INFO.selectedServer;this.$aV||(this.$aV=!0,Browser.window.PF_INFO.selectedServer=$V,req_server_check_ban(0,$V.server_id))},$N.prototype.sendRecord=function(){var $V="";$V+="newRegister="+Browser.window.PF_INFO.newRegister,$V+=", isPrelodServer="+this.m_isPrelodServer,$V+=", SelectServerPanel="+(null!=$N.instance.m_server),$V+=", isPrelodLoading="+this.m_isPrelodLoading,$V+=", LoadingPanel="+(null!=$N.instance.m_loading),$V+=", resMgrLoad="+(Browser.window.resMgrLoad==$N.instance.requestWeb),$V+=", imgMgrLoad="+(Browser.window.imgMgrLoad==$N.instance.requestWeb),$V+=", errUrls="+$N.instance.$ZV;for(var $U=0,$r=this.m_serverRes;$U<$r.length;$U++){$V+=", "+($c=$r[$U])+"="+(null!=Laya.Loader.getRes($c))}for(var $s=0,$p=this.m_loadingRes;$s<$p.length;$s++){var $c;$V+=", "+($c=$p[$s])+"="+(null!=Laya.Loader.getRes($c))}var $R=Browser.window.PF_INFO.selectedServer;$R&&($V+=", server_status="+$R.status,$V+=", server_id="+$R.server_id,$V+=", server_name="+$R.server_name);var $T=JSON.stringify({error:"\u521d\u59cb\u754c\u9762\u8d85\u8fc710\u79d2",stack:$V});console.error($T),this.$oV&&this.$oV==$V||(this.$oV=$V,reqRecordError($T))},$N.prototype.$JV=function(){var $V=Laya.stage,$U=Math.floor($V.width),$r=Math.floor($V.height);$r/$U<1.7777778?(this.viewW=Math.floor($U/($r/1280)),this.viewH=1280,this.viewS=$r/1280):(this.viewW=720,this.viewH=Math.floor($r/($U/720)),this.viewS=$U/720);var $s=Math.floor($V.width),$p=Math.floor($V.height);$p/$s<1.7777778?(this.viewW=Math.floor($s/($p/1280)),this.viewH=1280,this.viewS=$p/1280):(this.viewW=720,this.viewH=Math.floor($p/($s/720)),this.viewS=$s/720),this.$$V()},$N.prototype.$$V=function(){this.m_layer&&(this.m_layer.size(this.viewW,this.viewH),this.m_layer.scale(this.viewS,this.viewS,!0))},$N.prototype.$xV=function(){if(Input.isInputting&&Browser.onMobile){var $V=parseInt(Input.inputContainer.style.top.replace("px","")),$U=parseInt(Input.inputElement.style.height.replace("px",""))*this.viewS,$r=Browser.clientWidth/Render.canvas.width;return 0<($V=Browser.clientHeight-$U*$r-$V)&&($V=0),void(Browser.container.style.top=$V+"px")}Browser.container.style.top="0px";var $s=Math.floor(Browser.width),$p=Math.floor(Browser.height);$s=$s+1&2147483646,$p=$p+1&2147483646;var $c=Laya.stage;3==ENV?($c.scaleMode=Laya.Stage.SCALE_NOSCALE,$c.width=$s,$c.height=$p):$p<$s?($c.scaleMode=Laya.Stage.SCALE_NOSCALE,$c.width=$s,$c.height=$p):($c.scaleMode=Laya.Stage.SCALE_FIXED_WIDTH,$c.width=840,$c.height=Math.floor($p/($s/840))+1&2147483646),this.$JV()},$N.prototype.requestWeb=function($V,$U){function $r(){$s.onload=null,$s.onerror=null}var $s,$p=$V;($s=new Browser.window.Image).onload=function(){$r(),$U($p,200,$s)},$s.onerror=function(){console.warn("[warn] WX loadImage onerror:",$p),$N.instance.$ZV+=$p+"|",$r(),$U($p,404,null)},$s.src=$p,-1==$N.instance.m_serverRes.indexOf($p)&&-1==$N.instance.m_loadingRes.indexOf($p)||Laya.Loader.keepCache($N.instance,$p)},$N.prototype.$iV=function($V,$U){return-1!=$V.indexOf($U,$V.length-$U.length)},$N}();!function($V){var $U,$r;$U=$V.$s||($V.$s={}),$r=function($U){function $V(){var $V=$U.call(this)||this;return $V.$BV="#72441d",$V.$PV="#263d7d",$V.width=274,$V.height=59,$V.$MV=new Laya.Image,$V.addChild($V.$MV),$V.$AV=new Laya.Label,$V.$AV.fontSize=30,$V.$AV.color=$V.$PV,$V.addChild($V.$AV),$V.$AV.centerX=0,$V.$AV.centerY=0,$V}return __extends($V,$U),$V.prototype.initialize=function(){$U.prototype.initialize.call(this),this.$y=Browser.window.PF_INFO;this.$y.loadingType;this.addEvt()},Object.defineProperty($V.prototype,"dataSource",{set:function($V){$V&&this.setData($V)},enumerable:!0,configurable:!0}),$V.prototype.setData=function($V){this.$XV=$V[0],this.$eV=$V[1],this.$AV.text=this.$XV.title,this.$AV.color=this.$eV?this.$BV:this.$PV,this.$MV.skin=this.$eV?"wxlogin_atlas/btn_com_long1.png":"wxlogin_atlas/btn_com_long0.png"},$V.prototype.destroy=function($V){void 0===$V&&($V=!0),this.rmEvts(),$U.prototype.destroy.call(this,$V)},$V.prototype.addEvt=function(){},$V.prototype.rmEvts=function(){},$V}(Laya.View),$U.NoticeItem=$r}(modules||(modules={})),function($V){var $U,$r;$U=$V.$s||($V.$s={}),$r=function($U){function $V(){var $V=$U.call(this)||this;return $V.$BV="#72441d",$V.$PV="#263d7d",$V.width=274,$V.height=59,$V.$MV=new Laya.Image,$V.addChild($V.$MV),$V.$AV=new Laya.Label,$V.$AV.fontSize=30,$V.$AV.color=$V.$PV,$V.addChild($V.$AV),$V.$AV.centerX=0,$V.$AV.centerY=0,$V}return __extends($V,$U),$V.prototype.initialize=function(){$U.prototype.initialize.call(this),this.$y=Browser.window.PF_INFO;this.$y.loadingType;this.addEvt()},Object.defineProperty($V.prototype,"dataSource",{set:function($V){$V&&this.setData($V)},enumerable:!0,configurable:!0}),$V.prototype.setData=function($V){this.$FV=$V[0],this.$eV=$V[1],this.$AV.text=this.$FV,this.$AV.color=this.$eV?this.$BV:this.$PV,this.$MV.skin=this.$eV?"wxlogin_atlas/btn_com_long1.png":"wxlogin_atlas/btn_com_long0.png"},$V.prototype.destroy=function($V){void 0===$V&&($V=!0),this.rmEvts(),$U.prototype.destroy.call(this,$V)},$V.prototype.addEvt=function(){},$V.prototype.rmEvts=function(){},$V}(Laya.View),$U.PrivacyItem=$r}(modules||(modules={})),function($V){var $U,$r;$U=$V.$s||($V.$s={}),$r=function($U){function $V(){var $V=$U.call(this)||this;return $V.width=192,$V.height=70,$V.$MV=new Laya.Image,$V.addChild($V.$MV),$V.$gV=new Laya.Label,$V.$gV.fontSize=28,$V.$gV.color=$V.$P,$V.addChild($V.$gV),$V.$gV.centerX=0,$V.$gV.centerY=0,$V.$vV=new Laya.Label,$V.$vV.fontSize=22,$V.$vV.color=$V.$P,$V.addChild($V.$vV),$V.$vV.centerX=0,$V.$vV.y=11,$V.$YV=new Laya.Label,$V.$YV.fontSize=26,$V.$YV.color=$V.$P,$V.addChild($V.$YV),$V.$YV.centerX=0,$V.$YV.y=39,$V}return __extends($V,$U),$V.prototype.initialize=function(){$U.prototype.initialize.call(this),this.$y=Browser.window.PF_INFO;var $V=this.$y.loadingType;this.$P=1==$V?"#263d7d":2==$V?"#263d7d":3==$V?"#763042":"#263d7d",this.addEvt()},Object.defineProperty($V.prototype,"dataSource",{set:function($V){$V&&this.setData($V)},enumerable:!0,configurable:!0}),$V.prototype.setData=function($V){this.$XV=$V;var $U=this.$XV.id,$r=this.$XV.name;if(this.$gV.visible=this.$vV.visible=this.$YV.visible=!1,-1==$U||-2==$U)this.$gV.visible=!0,this.$gV.text=$r;else{var $s=$r,$p="1-10\u670d",$c=$r.match("[0-9]{1,}");$c&&null!=$c.index&&($s=$r.slice(0,$c.index),$p=$r.slice($c.index)),this.$vV.visible=this.$YV.visible=!0,this.$vV.text=$s,this.$YV.text=$p}this.$MV.skin=$V.select?"wxlogin_atlas/btn_xuanqu_anniuhuang.png":"wxlogin_atlas/btn_xuanqu_anniulan.png"},$V.prototype.destroy=function($V){void 0===$V&&($V=!0),this.rmEvts(),$U.prototype.destroy.call(this,$V)},$V.prototype.addEvt=function(){this.on(Laya.Event.MOUSE_UP,this,this.clkHdler)},$V.prototype.rmEvts=function(){this.off(Laya.Event.MOUSE_UP,this,this.clkHdler)},$V.prototype.clkHdler=function(){this.$XV&&this.$XV.callBack&&this.$XV.callBack(this.$XV.index)},$V}(Laya.View),$U.SelectLeftListItem=$r}(modules||(modules={})),function($V){var $p,$U;$p=$V.$s||($V.$s={}),$U=function($U){function $V(){var $V=$U.call(this)||this;return $V.width=358,$V.height=70,$V.$MV=new Laya.Image("wxlogin_atlas/btn_xuanqu_quanniu.png"),$V.addChild($V.$MV),$V.$MV.graphics.drawRect(0,0,$V.width,$V.height,"#00sasd"),$V.$CV=new Laya.Image,$V.$CV.centerY=0,$V.$CV.x=7,$V.addChild($V.$CV),$V.$gV=new Laya.Label,$V.$gV.fontSize=24,$V.$gV.color=$V.$P,$V.$gV.x=56,$V.$gV.centerY=0,$V.addChild($V.$gV),$V.$fV=new Laya.Label,$V.$fV.fontSize=24,$V.$fV.color=$V.$P,$V.$fV.x=246,$V.$fV.centerY=0,$V.addChild($V.$fV),$V.$VU=new Laya.Image,$V.$VU.top=0,$V.$VU.right=0,$V.addChild($V.$VU),$V.$UU=new Laya.Label,$V.$UU.fontSize=20,$V.$UU.color="#ffffff",$V.$UU.x=225,$V.$UU.y=46,$V.addChild($V.$UU),$V}return __extends($V,$U),$V.prototype.initialize=function(){$U.prototype.initialize.call(this),this.$y=Browser.window.PF_INFO;var $V=this.$y.loadingType;this.$P=1==$V?"#34267d":2==$V?"#34267d":3==$V?"#763042":"#34267d",this.addEvt()},Object.defineProperty($V.prototype,"dataSource",{set:function($V){$V&&this.setData($V)},enumerable:!0,configurable:!0}),$V.prototype.setData=function($V){this.$XV=$V;var $U=this.$XV.status,$r=this.$XV.server_name;this.$CV.skin=$p.CommonFunc.getStatusSrc(this.$XV),this.$gV.color=$p.CommonFunc.getStatusTxtColor($U,this.$P),this.$gV.text=$r,this.$fV.text=$p.CommonFunc.getStatusAddStr2(this.$XV);var $s=$p.CommonFunc.isRecommend(this.$XV.is_recommend);(this.$VU.visible=$s)&&(this.$VU.skin="wxlogin_atlas/image_xuanqu_ztjb0.png"),this.$UU.text=-1==this.$XV.status&&this.$XV.maintain_time?this.$XV.maintain_time:""},$V.prototype.destroy=function($V){void 0===$V&&($V=!0),this.rmEvts(),$U.prototype.destroy.call(this,$V)},$V.prototype.addEvt=function(){this.on(Laya.Event.MOUSE_UP,this,this.clkHdler)},$V.prototype.rmEvts=function(){this.off(Laya.Event.MOUSE_UP,this,this.clkHdler)},$V.prototype.clkHdler=function(){this.$XV&&this.$XV.callBack&&this.$XV.callBack(this.$XV)},$V}(Laya.View),$p.SelectRightListItem=$U}(modules||(modules={})),window.ServerLoading=ServerLoading;