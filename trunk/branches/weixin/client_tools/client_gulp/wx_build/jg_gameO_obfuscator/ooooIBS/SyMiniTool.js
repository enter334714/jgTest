var c=wx.$o;var o_y$0ek,o_fi19x=this&&this.__extends||function(){var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};return function(t,e){function cphzb8(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(cphzb8.prototype=e.prototype,new cphzb8)}}(),o_rtqp=window.Sygame,o_idw1f=!1,o_fwix1=function(){function v3aunl(){}return v3aunl.init=function(){this.sygame=o_idw1f?{channel:"3477d2273abd484ba2a0e04ad4971b3c",role_id:void 0,openid:"oxmOf5biumkGash-Xht9FVAlswVk",appid:"wx2936121c4817bf46"}:o_rtqp},v3aunl.getTimeStamp=function(){return(new Date).getTime()},v3aunl.setResMap=function(t,e){this.resMap[t]=t+"?"+e},v3aunl.getResMap=function(t){return this.resMap[t]},v3aunl.resMap={},v3aunl}(),o_fg4w9=function(){function wi2(){this.getIcon="https://wx.11babay.cn/uploads/f/fkccc1532944783/5/2/c/7/60dc442c4fbc5.png",this.copyIcon="https://wx.11babay.cn/uploads/f/fkccc1532944783/3/0/1/7/60dc4409dce39.png",o_fwix1.init(),this.getBoxCheckoutCode()}return wi2.prototype.send=function(t,e,i,o,a){void 0===o&&(o="get"),void 0===a&&(a=null);var s=new Laya.HttpRequest;s.http.timeout=1e4,s.once(Laya.Event.COMPLETE,this,e),s.once(Laya.Event.ERROR,this,i),s.send(t,a,o,"text")},wi2.prototype.postSidebarApi=function(){var t=o_fwix1.sygame.openid,t="&channel="+o_fwix1.sygame.channel+"&wecha_id="+t;this.send("https://docater1.cn/index.php?g=Wap&m=MiniGame&a=sidebarApi"+t,this.completeHandler,this.errorHandler)},wi2.prototype.getBoxCheckoutCode=function(){var t=Sygame.SY_CONF.commitId;this.send("https://docater1.cn/index.php?g=Wap&m=MiniGame&a=getBoxCheckoutCode",this.getBoxCheckoutCodeRes,this.errorHandler,"post",{commitId:t})},wi2.prototype.getBoxCheckoutCodeRes=function(t){t=JSON.parse(t);console.log("getBoxCheckoutCode:",t),1001==t.status?4001==t.info?this.postSidebarApi():console.error("\u76db\u4e5f\u76d2\u5b50 \u4e0d\u663e\u793a"+t):console.error("\u76db\u4e5f\u76d2\u5b50 getBoxCheckoutCodeRes \u5176\u4ed6\u9519\u8bef"+t)},wi2.prototype.completeHandler=function(t){var e=JSON.parse(t);switch(console.log(e),e.status){case 1001:var i=[];e.msg.basics_image_url&&i.push({url:e.msg.basics_image_url,type:Laya.Loader.IMAGE}),e.msg.public_code&&i.push({url:e.msg.public_code,type:Laya.Loader.IMAGE}),e.msg.vip_customer_service&&i.push({url:e.msg.vip_customer_service,type:Laya.Loader.IMAGE}),e.msg.vip_customer_service_not_add&&i.push({url:e.msg.vip_customer_service_not_add,type:Laya.Loader.IMAGE}),e.msg.game_center_image_url&&i.push({url:e.msg.game_center_image_url,type:Laya.Loader.IMAGE}),e.msg.vip_qrcode&&i.push({url:e.msg.vip_qrcode,type:Laya.Loader.IMAGE}),e.msg.getIcon&&i.push({url:this.getIcon,type:Laya.Loader.IMAGE}),e.msg.copyIcon&&i.push({url:this.copyIcon,type:Laya.Loader.IMAGE});for(var o=0,a=e.msg.follow_gift_list;o<a.length;o++){var s=a[o];i.push({url:s.url,type:Laya.Loader.IMAGE})}for(var n=0,h=e.msg.vip_box_list;n<h.length;n++){s=h[n];i.push({url:s.url,type:Laya.Loader.IMAGE})}for(var p=0;p<i.length;p++)o_fwix1.setResMap(i[p].url,o_fwix1.getTimeStamp()),i[p].url=o_fwix1.getResMap(i[p].url);Laya.loader.load(i,Laya.Handler.create(this,this.initGame)),this.data=e.msg;break;case 1002:o_ke$j.msg("\u7a7a\u7684\u6e38\u620fchannel");break;case 1003:o_ke$j.msg("\u9519\u8bef\u7684\u6e38\u620fchannel");break;case 1004:o_ke$j.msg("\u672a\u627e\u5230\u5bf9\u5e94\u6e38\u620f\u5927\u7c7b");break;case 1005:o_ke$j.msg("\u672a\u8bbe\u7f6e\u4fa7\u8fb9\u680f")}},wi2.prototype.errorHandler=function(t){},wi2.prototype.initGame=function(){new o_ld26(this).show()},wi2}(),o_ld26=function(){function fx9gw(t){this.page=3,this.rolePriceData={},this.boxlist=[],this.donwX=0,this.downY=0,this.tool=t}return fx9gw.prototype.setChildMouseThroughs=function(t){var e=t._childs||[];for(var i=0;i<e.length;i++)e[i]&&(e[i].mouseThrough=!0)},fx9gw.prototype.show=function(){if("1"===this.tool.data.on){this.main=new o_y$0ek.demoui.MainUI,Laya.stage.addChild(this.main),this.main.mouseThrough=!0;var t=this.main._childs||[];for(var e=0;e<t.length;e++)t[e].mouseThrough=!0;this.setChildMouseThroughs(this.main._childs),this.setChildMouseThroughs(this.main._childs[0]),this.initIcon(),this.initEvent(),this.initView(),o_ke$j.init(),this.main.bg.x=-750}},fx9gw.prototype.initView=function(){var t=this,e=this.tool.data.follow_down_words.replace(/\\n/g,"\n");this.main.box_1_lab_info.text=e;for(var i=1;i<=this.tool.data.follow_gift_list.length;i++){var o=this.tool.data.follow_gift_list[i-1];this.main["box_1_img_"+i].skin=o.url,this.main["box_1_lab_"+i].text=o.name}for(i=1;i<=this.tool.data.vip_box_list.length;i++){o=this.tool.data.vip_box_list[i-1];this.main["box_2_img_"+i].skin=o.url,this.main["box_2_lab_"+i].text=o.name}this.main.box_2_lab_m_1.text="\u65b9\u6cd5\u4e00\uff1a\u5355\u65e5\u5145\u503c"+ +this.tool.data.x+"\u5143",this.main.box_2_lab_m_2.text="\u65b9\u6cd5\u4e8c\uff1a\u5386\u53f2\u7d2f\u8ba1\u5145\u503c"+ +this.tool.data.y+"\u5143",this.main.box_2_lab_v_1.text=(this.rolePriceData.todayPrice||0)+"/"+ +this.tool.data.x+"\u5143",this.main.box_2_lab_v_2.text=(this.rolePriceData.allPrice||0)+"/"+ +this.tool.data.y+"\u5143",this.main.box_2_btn_copy.skin=this.tool.copyIcon,this.main.box_2_btn_get.skin=this.tool.getIcon,this.main.box_2_btn_copy.visible=!1,this.main.box_2_btn_get.on(Laya.Event.CLICK,this,function(){0!=t.rolePriceData.is_vip?(t.main.box_2_lab_wx.text=this.rolePriceData.vip_wx,t.main.box_2_btn_copy.visible=!0):o_ke$j.msg("\u8bf7\u5148\u83b7\u53d6vip\u8d44\u683c")}),this.main.box_2_btn_copy.on(Laya.Event.CLICK,this,function(){t.copyText(this.rolePriceData.vip_wx)}),this.main.box_2_addclick.on(Laya.Event.CLICK,this,function(){0!=t.rolePriceData.is_vip&&(this.main.box_help_qrcode.skin=t.rolePriceData.vip_qrcode,t.main.box_help.visible=!0)}),this.main.box_help_close.on(Laya.Event.CLICK,this,function(){t.main.box_help.visible=!1}),this.main.box_help_bg.skin=this.tool.data.vip_customer_service_not_add,this.main.box_help_qrcode.skin=t.rolePriceData.vip_qrcode,this.main.box_help_qrcode.scaleX=160/this.main.box_help_qrcode.width,this.main.box_help_qrcode.scaleY=160/this.main.box_help_qrcode.width,this.main.box_3_panel.vScrollBar.visible=!1,this.main.box_3_panel.vScrollBarSkin="common_atlas/scrollBar.png"},fx9gw.prototype.initIcon=function(){this.icon=new Laya.Image,this.icon.skin=this.tool.data.basics_image_url,this.icon.x=0,this.icon.y=200,this.icon.width=102,this.icon.height=111,this.main.addChild(this.icon),this.icon.on(Laya.Event.MOUSE_DOWN,this,this.iconPress),this.icon.on(Laya.Event.MOUSE_UP,this,this.iconUp),this.icon.on(Laya.Event.MOUSE_WHEEL,this,this.iconMove),this.dragRect=new Laya.Rectangle(-this.icon.width/2,0,Laya.stage.width,Laya.stage.height-this.icon.height/2)},fx9gw.prototype.initEvent=function(){var t=this;this.main.btn_1.on(Laya.Event.CLICK,this,function(){1!=t.page&&t.page1()}),this.main.btn_2.on(Laya.Event.CLICK,this,function(){2!=t.page&&t.page2()}),this.main.btn_3.on(Laya.Event.CLICK,this,function(){3!=t.page&&t.page3()}),this.main.btn_close.on(Laya.Event.CLICK,this,function(){t.main.bg.x=-750,t.icon.visible=!0})},fx9gw.prototype.initBoard=function(){this.isInitBoard=!0,this.page1()},fx9gw.prototype.showBoard=function(){this.main.bg.x=0,this.icon.visible=!1;var t=_oAE.selectedServer.server_id,e=_oAE.selectedServer.server_name,i=_oAE.roleId,o=_oAE.roleName,a=o_fwix1.sygame.openid,t="&role_id="+o_fwix1.sygame.role_id+"&channel="+o_fwix1.sygame.channel+"&server_id="+t+"&server_name="+e+"&wecha_id="+a+"&role_id="+i+"&role_name="+o;this.tool.send("https://docater1.cn/index.php?g=Wap&m=MiniGame&a=sidebarApiRoleId"+t,this.rolePriceHandler.bind(this),this.roleError.bind(this))},fx9gw.prototype.page1=function(){this.page=1,fx9gw.prototype.page1Bg||(fx9gw.prototype.page1Bg=new Laya.Image(this.tool.data.public_code),this.main.bg.addChildAt(fx9gw.prototype.page1Bg,0)),fx9gw.prototype.page1Bg&&(fx9gw.prototype.page1Bg.visible=!0),fx9gw.prototype.page2Bg&&(fx9gw.prototype.page2Bg.visible=!1),fx9gw.prototype.page3Bg&&(fx9gw.prototype.page3Bg.visible=!1),this.main.box_1_show.visible=!0,this.main.box_2_show.visible=!1,this.main.box_3_show.visible=!1},fx9gw.prototype.page2=function(){this.page=2,fx9gw.prototype.page2Bg||(fx9gw.prototype.page2Bg=new Laya.Image(this.tool.data.vip_customer_service),this.main.bg.addChildAt(fx9gw.prototype.page2Bg,0)),fx9gw.prototype.page1Bg&&(fx9gw.prototype.page1Bg.visible=!1),fx9gw.prototype.page2Bg&&(fx9gw.prototype.page2Bg.visible=!0),fx9gw.prototype.page3Bg&&(fx9gw.prototype.page3Bg.visible=!1),this.main.box_1_show.visible=!1,this.main.box_2_show.visible=!0,this.main.box_3_show.visible=!1},fx9gw.prototype.page3=function(){this.page=3,fx9gw.prototype.page3Bg||(fx9gw.prototype.page3Bg=new Laya.Image(this.tool.data.game_center_image_url),this.main.bg.addChildAt(fx9gw.prototype.page3Bg,0)),fx9gw.prototype.page1Bg&&(fx9gw.prototype.page1Bg.visible=!1),fx9gw.prototype.page2Bg&&(fx9gw.prototype.page2Bg.visible=!1),fx9gw.prototype.page3Bg&&(fx9gw.prototype.page3Bg.visible=!0),fx9gw.prototype.page1Bg.visible=!1,this.main.bg.skin=this.tool.data.game_center_image_url,this.main.box_1_show.visible=!1,this.main.box_2_show.visible=!1,this.main.box_3_show.visible=!0,this.sendBox||this.getBoxList(0),this.sendBox=!0,o_rtqp&&o_rtqp.syClickOpenBox()},fx9gw.prototype.getBoxList=function(e){var i=this;o_rtqp&&o_rtqp.syGetBoxList({page:e,count:12}).then(function(t){t=t.data;1001==t.status?t.data&&t.data.length&&(i.boxlist=i.boxlist.concat(t.data),e++,i.getBoxList(e)):i.boxListHandler()})},fx9gw.prototype.copyText=function(t){try{wx.setClipboardData({data:t,success:function(t){console.log("\u590d\u5236\u6210\u529f:",t)}})}catch(t){}},fx9gw.prototype.rolePriceHandler=function(t){this.rolePriceData=JSON.parse(t),1001===this.rolePriceData.status&&(this.main.box_2_lab_v_1.text=(this.rolePriceData.todayPrice||0)+"/"+ +this.tool.data.x+"\u5143",this.main.box_2_lab_v_2.text=(this.rolePriceData.allPrice||0)+"/"+ +this.tool.data.y+"\u5143")},fx9gw.prototype.roleError=function(){},fx9gw.prototype.boxListHandler=function(){var h=this;for(var t=0;t<this.boxlist.length;t++)!function(t){var e=h.boxlist[t],i=new o_y$0ek.demoui.BoxItemUI;i.icon.skin=e.icon,i.title.text=e.title,i.x=t%3*160,i.y=160*(t/3^0),h.main.box_3_panel.addChild(i);var o={appid:o_fwix1.sygame.appid,game_id:e.game_id,jump_appid:e.jump_appid,jump_path:e.jump_path,tunnel_id:e.tunnel_id,uv:0,wecha_id:o_fwix1.sygame.openid},a=e.preview_img,s=e.jump_type,n=e.kf_session;i.on(Laya.Event.CLICK,h,function(){o_rtqp&&o_rtqp.syClickBox({game_id:e.game_id,tunnel_id:e.tunnel_id,jump_appid:e.jump_appid,jump_path:e.jump_path}).then(function(t){"0"===s?wx.navigateToMiniProgram({appId:o.jump_appid,path:o.jump_path,fail:function(t){a&&wx.previewImage({urls:[a]})}}):"1"===s?a&&wx.previewImage({urls:[a]}):"2"===s&&n&&wx.openCustomerServiceConversation({sessionFrom:n,showMessageCard:!0,sendMessageTitle:"",sendMessagePath:"",sendMessageImg:""})})})}(t)},fx9gw.prototype.boxListError=function(){},fx9gw.prototype.boxClickHandler=function(){},fx9gw.prototype.iconPress=function(t){this.donwX=t.target.x,this.donwY=t.target.y,this.icon.startDrag(this.dragRect),this.isMove=!1,this.isPress=!0},fx9gw.prototype.iconMove=function(t){this.isMove=!0},fx9gw.prototype.iconUp=function(t){var e=t.target.x,t=t.target.y;this.icon.stopDrag(),e==this.donwX&&this.donwY==t&&(this.isInitBoard||this.initBoard(),this.showBoard()),this.isMove=!1,this.isPress=!1},fx9gw}();(function(t){function eun_3y(){return i.call(this)||this}var e,i;e=t.demoui||(t.demoui={}),i=laya.ui.View,o_fi19x(eun_3y,i),eun_3y.prototype.createChildren=function(){laya.ui.View.regComponent("Text",laya.display.Text),i.prototype.createChildren.call(this),this.createView(t.demoui.BoxItemUI.uiView)},eun_3y.uiView={type:"View",props:{width:180,height:160},child:[{type:"Image",props:{y:3,x:32,width:115,var:"icon",height:115},child:[{type:"Text",props:{y:121,x:-33,width:180,var:"title",valign:"middle",height:34,fontSize:22,color:"#441d1c",align:"center"}}]}]},e.BoxItemUI=eun_3y})(o_y$0ek=o_y$0ek||{}),function(t){function w12if9(){return i.call(this)||this}var e,i;e=t.demoui||(t.demoui={}),i=laya.ui.View,o_fi19x(w12if9,i),w12if9.prototype.createChildren=function(){laya.ui.View.regComponent("Text",laya.display.Text),i.prototype.createChildren.call(this),this.createView(t.demoui.MainUI.uiView)},w12if9.uiView={type:"View",props:{y:0,x:0,width:750,top:0,right:0,left:0,height:1334,bottom:0},child:[{type:"Box",props:{width:750,height:1334,centerY:0},child:[{type:"Image",props:{y:0,x:0,width:750,var:"bg",height:1334},child:[{type:"Image",props:{width:750,visible:!1,var:"box_1_show",height:1334,centerY:0},child:[{type:"Text",props:{y:595,x:46,width:464,var:"box_1_lab_info",leading:10,height:151,fontSize:24,color:"#a959ee"}},{type:"HBox",props:{y:750,x:20,width:510,space:53,height:120,align:"top"},child:[{type:"Image",props:{width:88,var:"box_1_img_1",height:88},child:[{type:"Text",props:{y:96,x:-16,width:119,var:"box_1_lab_1",height:22,fontSize:18,color:"#a959ee",align:"center"}}]},{type:"Image",props:{y:10,x:10,width:88,var:"box_1_img_2",height:88},child:[{type:"Text",props:{y:96,x:-16,width:119,var:"box_1_lab_2",height:22,fontSize:18,color:"#a959ee",align:"center"}}]},{type:"Image",props:{y:20,x:20,width:88,var:"box_1_img_3",height:88},child:[{type:"Text",props:{y:96,x:-16,width:119,var:"box_1_lab_3",height:22,fontSize:18,color:"#a959ee",align:"center"}}]},{type:"Image",props:{y:30,x:30,width:88,var:"box_1_img_4",height:88},child:[{type:"Text",props:{y:96,x:-16,width:119,var:"box_1_lab_4",height:22,fontSize:18,color:"#a959ee",align:"center"}}]}]}]},{type:"Image",props:{y:0,x:0,visible:!1,var:"box_2_show"},child:[{type:"HBox",props:{y:544,x:24,width:500,space:44,height:86,align:"top"},child:[{type:"Image",props:{y:2.5,x:0,width:88,var:"box_2_img_1",scaleY:.74,scaleX:.74,height:88},child:[{type:"Text",props:{y:95,x:-27,width:143,var:"box_2_lab_1",height:26,fontSize:26,color:"#a959ee",align:"center"}}]},{type:"Image",props:{y:12,x:10,width:88,var:"box_2_img_2",scaleY:.74,scaleX:.74,height:88},child:[{type:"Text",props:{y:95,x:-27,width:143,var:"box_2_lab_2",height:26,fontSize:26,color:"#a959ee",align:"center"}}]},{type:"Image",props:{y:22,x:20,width:88,var:"box_2_img_3",scaleY:.74,scaleX:.74,height:88},child:[{type:"Text",props:{y:95,x:-27,width:143,var:"box_2_lab_3",height:26,fontSize:26,color:"#a959ee",align:"center"}}]},{type:"Image",props:{y:32,x:30,width:88,var:"box_2_img_4",scaleY:.74,scaleX:.74,height:88},child:[{type:"Text",props:{y:95,x:-27,width:143,var:"box_2_lab_4",height:26,fontSize:26,color:"#a959ee",align:"center"}}]},{type:"Image",props:{y:42,x:40,width:88,var:"box_2_img_5",scaleY:.74,scaleX:.74,height:88},child:[{type:"Text",props:{y:95,x:-27,width:143,var:"box_2_lab_5",height:26,fontSize:26,color:"#a959ee",align:"center"}}]}]},{type:"Box",props:{y:900,x:0,width:545,height:68},child:[{type:"Text",props:{y:0,x:40,width:290,var:"box_2_lab_m_1",text:"\u65b9\u6cd5\u4e00\uff1a\u5355\u65e5\u5145\u503c1000\u5143",height:29,fontSize:20,color:"#ff0300"}},{type:"Text",props:{y:30,x:40,width:290,var:"box_2_lab_m_2",text:"\u65b9\u6cd5\u4e00\uff1a\u5386\u53f2\u7d2f\u8ba1\u5145\u503c1000\u5143",height:29,fontSize:20,color:"#ff0300"}},{type:"Text",props:{y:0,x:321,width:164,var:"box_2_lab_v_1",text:"1000/1000\u5143",height:29,fontSize:20,color:"#ff0300",align:"right"}},{type:"Text",props:{y:30,x:321,width:164,var:"box_2_lab_v_2",text:"1000/1000\u5143",height:29,fontSize:20,color:"#ff0300",align:"right"}}]},{type:"Image",props:{y:426,x:345,width:102,var:"box_2_btn_get",stateNum:1,height:38}},{type:"Image",props:{y:426,x:345,width:102,var:"box_2_btn_copy",stateNum:1,height:38}},{type:"Button",props:{y:466,x:294,width:201,var:"box_2_addclick",stateNum:1,height:27}},{type:"Text",props:{y:316,x:378,width:163,var:"box_2_lab_wx",height:31,fontSize:26,color:"#a959ee",align:"left"}}]},{type:"Image",props:{y:0,x:0,visible:!1,var:"box_3_show"},child:[{type:"Panel",props:{y:245,x:16,width:513,var:"box_3_panel",vScrollBarSkin:"",height:670}}]},{type:"Button",props:{y:968,x:0,width:187,var:"btn_1",height:87}},{type:"Button",props:{y:968,x:186,width:187,var:"btn_2",height:87}},{type:"Button",props:{y:968,x:375,width:187,var:"btn_3",height:87}},{type:"Button",props:{y:515,x:558,width:37,var:"btn_close",height:143}},{type:"Box",props:{width:750,visible:!1,var:"box_help",height:1334},child:[{type:"Sprite",props:{y:0,x:0,mouseThrough:!1,alpha:.7},child:[{type:"Rect",props:{width:750,lineWidth:1,height:1334,fillColor:"#000000"}}]},{type:"Image",props:{y:344,x:40,width:466,var:"box_help_bg",height:515},child:[{type:"Button",props:{y:-1,x:416,width:51,var:"box_help_close",height:40}},{type:"Image",props:{y:63,x:152,width:160,var:"box_help_qrcode",height:160}}]}]}]}]}]},e.MainUI=w12if9}(o_y$0ek=o_y$0ek||{}),function(t){function zbcoh(){return i.call(this)||this}var e,i;e=t.demoui||(t.demoui={}),i=laya.ui.View,o_fi19x(zbcoh,i),zbcoh.prototype.createChildren=function(){laya.ui.View.regComponent("Text",laya.display.Text),i.prototype.createChildren.call(this),this.createView(t.demoui.ToastUI.uiView)},zbcoh.uiView={type:"View",props:{width:750,height:1334},child:[{type:"Box",props:{width:300,height:50,centerY:0,centerX:0},child:[{type:"Box",props:{width:300,height:50,centerX:0,alpha:.5},child:[{type:"Rect",props:{width:300,lineWidth:1,height:50,fillColor:"#382f2f"}}]},{type:"Text",props:{width:300,var:"lab_msg",valign:"middle",text:"text",height:50,fontSize:24,color:"#ffffff",align:"center"}}]}]},e.ToastUI=zbcoh}(o_y$0ek=o_y$0ek||{});var o_ke$j=function(){function ek$_y(){}return ek$_y.init=function(){this.ui||(this.ui=new o_y$0ek.demoui.ToastUI,this.ui.visible=!1,Laya.stage.addChild(this.ui))},ek$_y.msg=function(t){var e=this;this.ui||ek$_y.init(),this.ui.visible=!0,this.ui.lab_msg.text=t,clearTimeout(this.interval),this.interval=setTimeout(function(){e.ui.visible=!1},2e3)},ek$_y}();window.minitool=o_fg4w9;