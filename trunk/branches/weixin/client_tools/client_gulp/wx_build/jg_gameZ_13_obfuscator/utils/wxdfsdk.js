import _0x355075 from'./log';import _0x187c4b from'./sdkhttp';;(function(){'use strict';var _0x2940bb=function(){this['create']=function(_0x4772a1){if(!this['sdk']){this['sdk']=new _0x954367();this['sdk']['init'](_0x4772a1);}return this;};this['login']=function(_0x53d076=null){if(!this['checkInit']()){return;}this['sdk']['login'](_0x53d076);};this['submitData']=function(_0x172dac,_0x5f0276=null){if(!this['checkInit']()){return;}this['sdk']['submitData'](_0x172dac,_0x5f0276);};this['pay']=function(_0x4e25ee,_0x211094=null){if(!this['checkInit']()){return;}this['sdk']['pay'](_0x4e25ee,_0x211094);};this['messageCheck']=function(_0x40a366,_0xb09b9b=null){this['sdk']['msgSecCheck'](_0x40a366,_0xb09b9b);};this['openCustomerService']=function(_0x65c07a=null,_0x565f08=null){this['sdk']['openCustomerService'](_0x65c07a,_0x565f08);};this['onShareAppMessage']=function(){this['sdk']['onShareAppMessage']();};this['shareAppMessage']=function(_0x19e81e=null){this['sdk']['shareAppMessage'](_0x19e81e);};this['onShareTimeline']=function(){this['sdk']['onShareTimeline']();};this['gotoSpecificPage']=function(_0x3ef478){this['sdk']['gotoSpecificPage'](_0x3ef478);};this['requestSubscribe']=function(_0x4d3765,_0x53334e=null){this['sdk']['requestSubscribe'](_0x4d3765,_0x53334e);};this['showAd']=function(_0x3f0d68,_0xdbb671=null){this['sdk']['showAd'](_0x3f0d68,_0xdbb671);};_0x2940bb['prototype']['checkInit']=function(){if(!this['sdk']){console['error']('请先使用create方法初始化');return![];}return!![];};function _0x954367(){this['prefix']='df_wxgame_';this['log']=new _0x355075(0x1);}_0x954367['prototype']['init']=function(_0x2364bc){var _0x498450={'gameId':0x0,'release':!![]};this['opts']=this['extend']({},_0x498450,_0x2364bc);this['log']['info']('初始化完成，当前游戏为：'+this['opts']['gameId']);this['cache']={};var _0x465f85=this;let _0x49e8c5=wx['getLaunchOptionsSync']();if(_0x49e8c5['query']){_0x465f85['log']['info']('wx\x20getLaunchOptionsSync');console['log'](_0x49e8c5['query']);_0x465f85['cache']['game_query']=_0x49e8c5['query'];}wx['onShow'](_0x25e029=>{let _0x42516d=_0x25e029['query'];_0x465f85['log']['info']('wx\x20onShow');console['log'](_0x42516d);let _0x2b2a8c=_0x42516d['gdt_vid'];if(_0x2b2a8c){_0x465f85['cache']['gdt_vid']=_0x2b2a8c;}let _0x319e6c=_0x42516d['weixinadinfo'];if(_0x319e6c){let _0x1e2f52=_0x319e6c['split']('.');let _0x4e2957=_0x1e2f52[0x0];_0x465f85['cache']['gdt_aid']=_0x4e2957;}if(_0x42516d){_0x465f85['cache']['game_query']=Object['assign']({},_0x465f85['cache']['game_query'],_0x42516d);}});wx['showShareMenu']();_0x187c4b['init']({'data':{'game_id':_0x465f85['opts']['gameId']}})['then'](_0x1c2e31=>{if(_0x1c2e31['code']==0x0){if(_0x1c2e31['data']['share_info']){_0x465f85['cache']['share_info']=_0x1c2e31['data']['share_info'];}var _0x35386e=_0x1c2e31['data']['template_ids'];if(_0x35386e&&Object['keys'](_0x35386e)['length']>0x0){var _0x165e1d={};Object['keys'](_0x35386e)['forEach'](_0x1a2a3e=>{let _0x3c8431=_0x35386e[_0x1a2a3e];if(_0x3c8431&&_0x3c8431['hasOwnProperty']('template_id')){_0x165e1d[_0x1a2a3e]=_0x3c8431['template_id'];}});_0x465f85['cache']['template_ids']=_0x165e1d;}}},_0x5d4ea6=>{_0x465f85['log']['error'](_0x5d4ea6);});return this;};_0x954367['prototype']['extend']=function(){var _0xeb0ace=arguments;var _0x2551ff=function(_0x5cdba8){if(typeof _0x5cdba8!='object')return _0x5cdba8;if(_0x5cdba8==null)return _0x5cdba8;var _0x1bf3e8=new Object();for(var _0x359efd in _0x5cdba8){_0x1bf3e8[_0x359efd]=_0x2551ff(_0x5cdba8[_0x359efd]);}return _0x1bf3e8;};if(_0xeb0ace['length']<0x1)return;if(_0xeb0ace['length']<0x2)return _0xeb0ace[0x0];var _0x5761ea=_0x2551ff(_0xeb0ace[0x0]);for(var _0x406a94=0x1;_0x406a94<_0xeb0ace['length'];_0x406a94++){for(var _0x306083 in _0xeb0ace[_0x406a94]){_0x5761ea[_0x306083]=_0xeb0ace[_0x406a94][_0x306083];}}return _0x5761ea;};_0x954367['prototype']['buildResult']=function(_0x4efecc,_0x118e95='',_0x4cb248=null){var _0x16e586={'status':_0x4efecc,'msg':_0x118e95};if(_0x4cb248){_0x16e586['data']=_0x4cb248;}return _0x16e586;};_0x954367['prototype']['onCallback']=function(_0x55e69c,_0x1fb468=0x0,_0x2b9526='',_0x582f6a=null){if(_0x55e69c&&typeof _0x55e69c=='function'){_0x55e69c(this['buildResult'](_0x1fb468,_0x2b9526,_0x582f6a));}};_0x954367['prototype']['showMessage']=function(_0x334af7,_0x44f792='none'){wx['showToast']({'title':_0x334af7,'icon':_0x44f792,'duration':0x7d0});};_0x954367['prototype']['showSuccess']=function(_0x1d97bb){this['showMessage'](_0x1d97bb,'success');};_0x954367['prototype']['showError']=function(_0x213fe9){this['showMessage'](_0x213fe9,'error');};_0x954367['prototype']['saveStorage']=function(_0x24854f,_0x456a83){try{wx['setStorageSync'](this['prefix']+_0x24854f+this['opts']['gameId'],_0x456a83);}catch(_0x5f3ee7){console['error']('save\x20'+_0x24854f+'\x20error');}};_0x954367['prototype']['getStorage']=function(_0x230def,_0x4ce2dc=''){try{var _0xa1cc12=wx['getStorageSync'](this['prefix']+_0x230def+this['opts']['gameId']);return _0xa1cc12;}catch(_0x3e9438){console['error']('get\x20'+_0x230def+'\x20error');}return _0x4ce2dc;};_0x954367['prototype']['showLoading']=function(_0x3a1be1){wx['showLoading']({'title':_0x3a1be1});};_0x954367['prototype']['hideLoading']=function(){wx['hideLoading']();};_0x954367['prototype']['getOS']=function(){var _0xa29bfb=0x2;try{const _0x1d9ee3=wx['getSystemInfoSync']();var _0x2b5ceb=_0x1d9ee3['system'];if(_0x2b5ceb['toLowerCase']()['indexOf']('android')>-0x1){_0xa29bfb=0x3;}}catch(_0x271154){}return _0xa29bfb;};_0x954367['prototype']['login']=function(_0xfed3ea=null){var _0x1ac36a=this;_0x1ac36a['log']['debug']('发起登录');wx['login']({'success'(_0x38cda9){if(_0x38cda9['code']){var _0x89d0b6={};if(_0x1ac36a['cache']['game_query']){_0x89d0b6=_0x1ac36a['cache']['game_query'];}if(_0x1ac36a['cache']['gdt_vid']){_0x89d0b6['gdt_vid']=_0x1ac36a['cache']['gdt_vid'];}if(_0x1ac36a['cache']['gdt_aid']){_0x89d0b6['gdt_aid']=_0x1ac36a['cache']['gdt_aid'];}_0x89d0b6['js_code']=_0x38cda9['code'];_0x89d0b6['game_id']=_0x1ac36a['opts']['gameId'];_0x89d0b6['os']=_0x1ac36a['getOS']();_0x187c4b['auth']({'data':_0x89d0b6})['then'](_0x5e15b0=>{if(_0x5e15b0['code']==0x0){var _0x58e107=_0x5e15b0['data'];_0x1ac36a['userInfo']=_0x58e107;var _0x3f2394=_0x1ac36a['cache']['template_ids']?Object['keys'](_0x1ac36a['cache']['template_ids']):[];if(_0x58e107['template_ids']){_0x3f2394=_0x58e107['template_ids'];}_0x1ac36a['onCallback'](_0xfed3ea,0x1,'success',{'user_id':_0x58e107['userID'],'user_name':_0x58e107['username'],'session_id':_0x58e107['token'],'open_id':_0x58e107['openid'],'sign':_0x58e107['sign'],'support_subscribe':_0x3f2394});}else{_0x1ac36a['showError']('登录失败');_0x1ac36a['onCallback'](_0xfed3ea,0x0,'('+_0x5e15b0['code']+')'+_0x5e15b0['msg']);}},_0x4098b7=>{_0x1ac36a['showError']('请求登录失败');_0x1ac36a['onCallback'](_0xfed3ea,0x0,'请求登录失败！'+_0x4098b7);});}else{_0x1ac36a['showError']('登录失败');_0x1ac36a['onCallback'](_0xfed3ea,0x0,_0x38cda9['errMsg']);_0x1ac36a['log']['info']('登录失败！'+_0x38cda9['errMsg']);}},'fail'(_0x15cf88){_0x1ac36a['showError']('登录失败');_0x1ac36a['onCallback'](_0xfed3ea,0x0,_0x15cf88['errMsg']);_0x1ac36a['log']['error'](_0x15cf88['errMsg']);}});};_0x954367['prototype']['submitData']=function(_0x63ae96,_0x21de29=null){var _0x2f30cc=this;_0x63ae96['game_id']=this['opts']['gameId'];_0x63ae96['uid']=this['userInfo']['userID'];_0x63ae96['server_id']=!_0x63ae96['server_id']?0x1:_0x63ae96['server_id'];_0x63ae96['type']=_0x63ae96['data_type'];_0x63ae96['os']=this['getOS']();_0x2f30cc['saveStorage']('server_id',_0x63ae96['server_id']);_0x2f30cc['saveStorage']('role_id',_0x63ae96['role_id']);_0x187c4b['report']({'data':_0x63ae96})['then'](_0x1b79c2=>{_0x2f30cc['onCallback'](_0x21de29,0x1,'数据上报成功');},_0x413dea=>{_0x2f30cc['onCallback'](_0x21de29,0x0,'数据上报失败');});};_0x954367['prototype']['pay']=function(_0x2f5588,_0x1fe188=null){var _0x14da59=this;if(!this['userInfo']){console['error']('当前未登录，请登录后重新发起支付');return;}_0x14da59['log']['debug']('发起支付');var _0x41d59e=this['getOS']();var _0x4304b1={'game_id':_0x14da59['opts']['gameId'],'os':_0x41d59e,'openid':_0x14da59['userInfo']['openid'],'user_id':_0x14da59['userInfo']['userID'],'role_id':_0x14da59['getStorage']('role_id'),'server_id':_0x14da59['getStorage']('server_id')};_0x187c4b['examineVerify']({'data':_0x4304b1})['then'](_0x3f65a5=>{if(_0x3f65a5['code']!=0x0){_0x14da59['onCallback'](_0x1fe188,0x0,'下单失败请重试！'+_0x3f65a5['msg']);return;}var _0x28596a=_0x3f65a5['data']['verify'];var _0xe1cbef=_0x3f65a5['data']['release'];_0x14da59['saveStorage']('offer_id',_0x3f65a5['data']['offer_id']);if(!_0xe1cbef){_0x28596a=0x0;}_0x2f5588['os']=_0x41d59e;_0x14da59['createOrder'](_0x28596a,_0x2f5588,_0x1fe188);},_0x378801=>{_0x14da59['onCallback'](_0x1fe188,0x0,'发起支付失败！'+_0x378801);});};_0x954367['prototype']['createOrder']=function(_0x961bed,_0x586ba5,_0x4004c3){var _0x3dca3e=this;if(_0x961bed==0x0&&_0x586ba5['os']==0x2){_0x3dca3e['showMessage']('IOS暂不支持支付');_0x3dca3e['onCallback'](_0x4004c3,0x64,'IOS暂不支持支付功能');return;}_0x586ba5['game_id']=_0x3dca3e['opts']['gameId'];_0x586ba5['openid']=_0x3dca3e['userInfo']['openid'];_0x586ba5['user_id']=_0x3dca3e['userInfo']['userID'];var _0x549ffd={'game_id':_0x586ba5['game_id'],'userID':_0x586ba5['user_id'],'user_name':_0x3dca3e['userInfo']['username'],'openid':_0x586ba5['openid'],'server_id':!_0x586ba5['server_id']?0x1:_0x586ba5['server_id'],'roleId':_0x586ba5['role_id'],'role_name':_0x586ba5['role_name'],'ext':_0x586ba5['ext'],'money':_0x586ba5['money'],'game_gold':!_0x586ba5['game_gold']?_0x586ba5['money']*0x64:_0x586ba5['game_gold'],'os':_0x586ba5['os']};_0x187c4b['createOrder']({'data':_0x549ffd})['then'](_0x171e92=>{if(_0x171e92['code']!=0x0){_0x3dca3e['onCallback'](_0x4004c3,0x0,'创建订单失败！'+_0x171e92['msg']);return;}_0x586ba5['orderid']=_0x171e92['data']['orderID'];if(_0x171e92['data']['pay_url']){_0x586ba5['pay_url']=_0x171e92['data']['pay_url'];}if(_0x961bed==0x0){_0x3dca3e['payByMidas'](_0x586ba5,_0x4004c3);}else if(_0x961bed==0x1){if(_0x171e92['data']['icon_url']){_0x586ba5['icon_url']=_0x171e92['data']['icon_url'];}_0x3dca3e['payByCustomerService'](_0x586ba5,_0x4004c3);}else if(_0x961bed==0x2){_0x586ba5['mp_appid']=_0x171e92['data']['mp_appid'];if(_0x171e92['data']['app_path']){_0x586ba5['app_path']=_0x171e92['data']['app_path'];}if(_0x171e92['data']['env_version']){_0x586ba5['env_version']=_0x171e92['data']['env_version'];}_0x3dca3e['payByMiniProgram'](_0x586ba5,_0x4004c3);}else{_0x3dca3e['payByBrowser'](_0x586ba5,_0x4004c3);}},_0x57c037=>{_0x3dca3e['onCallback'](_0x4004c3,0x0,'创建订单失败！'+_0x57c037);});};_0x954367['prototype']['payByMidas']=function(_0x1e1f2f,_0x329645=null){var _0x3624bb=this;var _0x10a59d=0x64;var _0x466c74=function(){_0x187c4b['payMidas']({'data':_0x1e1f2f})['then'](_0x103189=>{if(_0x103189['errcode']&&_0x103189['errcode']!=0x0){_0x3624bb['showMessage']('支付未完成');_0x3624bb['onCallback'](_0x329645,0x0,'支付失败！'+_0x103189['errcode']);return;}_0x3624bb['showMessage']('支付完成');_0x3624bb['onCallback'](_0x329645,0x1,'支付完成',{'order_id':_0x1e1f2f['orderid']});},_0x5ddcaa=>{_0x3624bb['showMessage']('支付未完成');_0x3624bb['onCallback'](_0x329645,0x0,'支付失败！'+_0x5ddcaa);});};_0x187c4b['balance']({'data':{'game_id':this['opts']['gameId'],'openid':this['userInfo']['openid']}})['then'](_0x279abf=>{if(_0x279abf['errcode']==0x0){_0x3624bb['log']['debug'](_0x279abf);if(_0x279abf['balance']>=_0x1e1f2f['money']*_0x10a59d){_0x466c74();}else{_0x3624bb['log']['debug'](_0x1e1f2f);wx['requestMidasPayment']({'mode':'game','env':_0x279abf['env'],'offerId':_0x3624bb['getStorage']('offer_id'),'currencyType':'CNY','buyQuantity':_0x1e1f2f['money']*_0x10a59d,'platform':'android','zoneId':0x1,'success'(_0x23e806){_0x466c74();},'fail'(_0x4ba175){_0x3624bb['onCallback'](_0x329645,0x0,'('+_0x4ba175['errCode']+')'+_0x4ba175['errMsg']);}});}}else{_0x3624bb['onCallback'](_0x329645,0x0,'('+_0x279abf['errcode']+')'+_0x279abf['errmsg']);}},_0x5544ac=>{_0x3624bb['showError']('支付失败请重试');_0x3624bb['onCallback'](_0x329645,0x0,'支付失败请重试！'+_0x5544ac);});};_0x954367['prototype']['payByCustomerService']=function(_0x25df99,_0x2dbbde=null){var _0x7acb44=this;if(!_0x25df99['pay_url']){_0x7acb44['showMessage']('获取支付链接有误');_0x7acb44['onCallback'](_0x2dbbde,0x0,'支付链接有误');return;}var _0x34db21=_0x25df99['pay_url'];wx['setClipboardData']({'data':'订单号:\x20'+_0x25df99['orderid']+'\x0a充值链接:\x20'+_0x34db21+'\x0a\x0a点击以上链接即可充值，若遇到充值问题，请及时联系客服。','success'(_0x82a22a){wx['showModal']({'title':'充值教程','content':'充值链接已经复制，请点击确定前往客服中心，如果没有自动收到订单入口，请粘贴并发送内容获取支付链接入口','showCancel':![],'success'(_0xdd2ea3){if(_0xdd2ea3['confirm']){wx['openCustomerServiceConversation']({'sessionFrom':'','showMessageCard':!![],'sendMessageTitle':'获取充值地址','sendMessagePath':'wxgamepay/orderid/'+_0x25df99['orderid'],'sendMessageImg':_0x25df99['icon_url']?_0x25df99['icon_url']:'https://image.dfkj8.com/pic/concect_kf.png','success'(_0x16625a){},'fail'(_0x36ee87){_0x7acb44['log']['debug'](_0x36ee87['errMsg']);_0x7acb44['onCallback'](_0x2dbbde,0x0,_0x36ee87['errMsg']);}});}}});}});};_0x954367['prototype']['payByMiniProgram']=function(_0x1497ac,_0x3ca0d5=null){var _0x5659c6=this;if(!_0x1497ac['mp_appid']){_0x5659c6['showMessage']('支付跳转失败');_0x5659c6['onCallback'](_0x3ca0d5,0x0,'支付跳转失败');return;}wx['navigateToMiniProgram']({'appId':_0x1497ac['mp_appid'],'path':_0x1497ac['app_path']?_0x1497ac['app_path']:'pages/pay/index','envVersion':_0x1497ac['env_version']?_0x1497ac['env_version']:'release','extraData':_0x1497ac,'success'(_0x36e535){_0x5659c6['log']['debug']('跳转小程序成功:'+_0x36e535);},'fail'(_0x2b3d7a){_0x5659c6['log']['debug']('跳转小程序失败:'+_0x2b3d7a);_0x5659c6['onCallback'](_0x3ca0d5,0x0,_0x2b3d7a['errMsg']);}});};_0x954367['prototype']['payByBrowser']=function(_0x344326,_0x54ccd4){var _0x23a63d=this;if(!_0x344326['pay_url']){_0x23a63d['showMessage']('获取支付链接有误');_0x23a63d['onCallback'](_0x54ccd4,0x0,'支付链接有误');return;}wx['setClipboardData']({'data':_0x344326['pay_url'],'success'(_0x490bb0){wx['showModal']({'title':'充值链接已复制','content':'请在外部浏览器粘贴充值链接后支付','showCancel':![],'success'(_0xf480cb){}});}});};_0x954367['prototype']['msgSecCheck']=function(_0x503c22,_0x13fa37){var _0xba636e=this;var _0x3e9a91={'game_id':_0xba636e['opts']['gameId'],'content':_0x503c22['content'],'openid':_0xba636e['userInfo']&&_0xba636e['userInfo']['openid']?_0xba636e['userInfo']['openid']:''};_0x187c4b['msgSecCheck']({'data':_0x3e9a91})['then'](_0xbaf22e=>{var _0x40d114=_0xbaf22e['errcode']==0x0?!![]:![];_0xba636e['onCallback'](_0x13fa37,0x1,_0xbaf22e['errmsg'],{'passed':_0x40d114});},_0x1bc3dd=>{_0xba636e['onCallback'](_0x13fa37,0x0,'请求失败请重试！'+_0x1bc3dd);});};_0x954367['prototype']['openCustomerService']=function(_0x4ef585=null,_0x317fbe=null){var _0xa255c6=this;wx['openCustomerServiceConversation']({'sessionFrom':'','showMessageCard':![],'sendMessageTitle':'','sendMessagePath':'','sendMessageImg':'','success'(_0x562658){_0xa255c6['log']['debug'](_0x562658);},'fail'(_0x455991){_0xa255c6['log']['debug'](_0x455991['errMsg']);_0xa255c6['onCallback'](_0x317fbe,0x0,_0x455991['errMsg']);}});};_0x954367['prototype']['getDefaultShareInfo']=function(){var _0x290064=this;var _0x359c71={'share_title':'','share_img_url':'','share_img_id':'','share_query':'','share_img_preview_url':'','share_img_preview_id':''};var _0x1a93fd=this['extend']({},_0x359c71,this['cache']['share_info']?this['cache']['share_info']:{});return _0x1a93fd;};_0x954367['prototype']['onShareAppMessage']=function(){var _0x21f5ab=this;var _0x5077a8=this['getDefaultShareInfo']();wx['onShareAppMessage'](function(){_0x21f5ab['log']['debug']('onShareAppMessage');return{'title':_0x5077a8['share_title']?_0x5077a8['share_title']:'','imageUrl':_0x5077a8['share_img_url']?_0x5077a8['share_img_url']:'','query':_0x5077a8['share_query']?_0x5077a8['share_query']:'','imageUrlId':_0x5077a8['share_img_id']?_0x5077a8['share_img_id']:''};});};_0x954367['prototype']['shareAppMessage']=function(_0x553fa8=null){var _0x2d6578=this;var _0x402770=this['getDefaultShareInfo']();_0x402770=this['extend']({},_0x402770,_0x553fa8?_0x553fa8:{});wx['shareAppMessage'](function(){_0x2d6578['log']['debug']('shareAppMessage');return{'title':_0x402770['share_title']?_0x402770['share_title']:'','imageUrl':_0x402770['share_img_url']?_0x402770['share_img_url']:'','query':_0x402770['share_query']?_0x402770['share_query']:'','imageUrlId':_0x402770['share_img_id']?_0x402770['share_img_id']:''};});};_0x954367['prototype']['onShareTimeline']=function(){var _0x316bae=this;var _0x1d5994=this['getDefaultShareInfo']();wx['onShareTimeline'](function(){_0x316bae['log']['debug']('onShareTimeline');return{'title':_0x1d5994['share_title']?_0x1d5994['share_title']:'','imageUrl':_0x1d5994['share_img_url']?_0x1d5994['share_img_url']:'','query':_0x1d5994['share_query']?_0x1d5994['share_query']:'','imageUrlId':_0x1d5994['share_img_id']?_0x1d5994['share_img_id']:'','imagePreviewUrl':_0x1d5994['share_img_preview_url']?_0x1d5994['share_img_preview_url']:'','imagePreviewUrlId':_0x1d5994['share_img_preview_id']?_0x1d5994['share_img_preview_id']:''};});};_0x954367['prototype']['gotoSpecificPage']=function(_0x1c7811){var _0x36eaf2=this;if(!_0x1c7811){_0x36eaf2['log']['error']('请传入action');return;}var _0x16d01d={'game_id':_0x36eaf2['opts']['gameId'],'user_id':_0x36eaf2['userInfo']&&_0x36eaf2['userInfo']['userID']?_0x36eaf2['userInfo']['userID']:'','user_name':_0x36eaf2['userInfo']&&_0x36eaf2['userInfo']['username']?_0x36eaf2['userInfo']['username']:'','openid':_0x36eaf2['userInfo']&&_0x36eaf2['userInfo']['openid']?_0x36eaf2['userInfo']['openid']:'','os':_0x36eaf2['getOS'](),'action':_0x1c7811};_0x187c4b['specificPage']({'data':_0x16d01d})['then'](_0x10f0fa=>{if(_0x10f0fa['code']==0x0){if(_0x10f0fa['data']){if(_0x10f0fa['data']['copyData']){wx['setClipboardData']({'data':_0x10f0fa['data']['copyData'],'success'(_0xa576a7){}});}wx['openCustomerServiceConversation']({'sessionFrom':_0x10f0fa['data']['sessionFrom'],'showMessageCard':_0x10f0fa['data']['showMessageCard'],'sendMessageTitle':_0x10f0fa['data']['sendMessageTitle'],'sendMessagePath':_0x10f0fa['data']['sendMessagePath'],'sendMessageImg':_0x10f0fa['data']['sendMessageImg'],'success'(_0x233706){},'fail'(_0x7522ca){_0x36eaf2['showMessage']('跳转失败');_0x36eaf2['log']['error'](_0x7522ca['errMsg']);}});}}else{_0x36eaf2['showMessage'](_0x10f0fa['msg']?_0x10f0fa['msg']:'不支持的方式');}},_0x4330df=>{_0x36eaf2['showMessage']('跳转失败');_0x36eaf2['log']['error'](_0x4330df);});};_0x954367['prototype']['requestSubscribe']=function(_0x5d3b8f,_0x3966b6=null){var _0x4e4843=this;var _0x261eb9={};if(_0x5d3b8f&&_0x5d3b8f['length']>0x0&&_0x4e4843['cache']['template_ids']&&Object['keys'](_0x4e4843['cache']['template_ids'])['length']>0x0){_0x5d3b8f['forEach'](_0x1ffbc6=>{if(_0x4e4843['cache']['template_ids']['hasOwnProperty'](_0x1ffbc6)){_0x261eb9[_0x4e4843['cache']['template_ids'][_0x1ffbc6]]=_0x1ffbc6;}});}if(!_0x261eb9||Object['keys'](_0x261eb9)['length']==0x0){_0x4e4843['onCallback'](_0x3966b6,0x0,'订阅模板为空');return;}wx['onTouchEnd'](function(_0x24c023,_0x2af613,_0x410f21){wx['requestSubscribeMessage']({'tmplIds':Object['keys'](_0x261eb9),'success'(_0x30d94d){var _0x110671=[];Object['keys'](_0x30d94d)['forEach'](_0x2bd051=>{if(_0x261eb9['hasOwnProperty'](_0x2bd051)&&_0x30d94d[_0x2bd051]=='accept'){_0x110671['push'](_0x261eb9[_0x2bd051]);}});_0x4e4843['onCallback'](_0x3966b6,0x1,'success',_0x110671);},'fail'(_0x48c3ae){_0x4e4843['onCallback'](_0x3966b6,0x0,'订阅失败('+_0x48c3ae['errCode']+')'+_0x48c3ae['errMsg']);}});});};_0x954367['prototype']['showAd']=function(_0x53a77b,_0x282d7b=null){var _0x3fb24f=this;let _0x5b1d8c=function(_0x3cd8e2,_0x52563d='广告加载失败'){_0x282d7b['callback']&&_0x282d7b['callback']['onError']&&_0x282d7b['callback']['onError'](_0x3cd8e2,_0x52563d);};if(!_0x282d7b||!_0x282d7b['adUnitId']){_0x3fb24f['log']['error']('广告参数有误，请检查您的广告位id');_0x5b1d8c(-0x1);return;}var _0x4359cd=null;switch(_0x53a77b){case 0x65:if(wx['createRewardedVideoAd']){_0x4359cd=wx['createRewardedVideoAd']({'adUnitId':_0x282d7b['adUnitId']});}break;default:_0x3fb24f['log']['error']('暂不支持的广告类型');_0x5b1d8c(-0x2,'暂不支持的广告类型');break;};if(_0x4359cd){_0x4359cd['onLoad'](()=>{_0x282d7b['callback']&&_0x282d7b['callback']['onLoad']&&_0x282d7b['callback']['onLoad']();_0x4359cd['show']()['catch'](()=>{_0x4359cd['load']()['then'](()=>_0x4359cd['show']())['catch'](_0x411264=>{_0x5b1d8c(_0x411264?_0x411264['errCode']:-0x64,_0x411264?_0x411264['errMsg']:'广告显示失败');});});});_0x4359cd['onError'](_0x425947=>{_0x5b1d8c(_0x425947?_0x425947['errCode']:-0x64,_0x425947?_0x425947['errMsg']:'广告加载失败');});_0x4359cd['onClose'](_0x471ff6=>{if(_0x53a77b==0x64){if(_0x471ff6&&_0x471ff6['isEnded']){_0x282d7b['callback']&&_0x282d7b['callback']['onReward']&&_0x282d7b['callback']['onReward']();}}_0x282d7b['callback']&&_0x282d7b['callback']['onClose']&&_0x282d7b['callback']['onClose']();});}else{_0x5b1d8c(-0x3);}};};var _0x2560d6=new _0x2940bb();module['exports']['dfSDK']=_0x2560d6;}());