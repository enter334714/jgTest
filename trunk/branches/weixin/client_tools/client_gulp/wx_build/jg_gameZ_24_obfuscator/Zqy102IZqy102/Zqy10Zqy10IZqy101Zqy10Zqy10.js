var J=wx.h$;var gvj7xry=window.Laya=function(C$l){var C$u={__internals:[],__packages:{},__classmap:{Object:Object,Function:Function,Array:Array,String:String},__sysClass:{object:"Object",array:"Array",string:"String",dictionary:"Dictionary"},__propun:{writable:!0,enumerable:!1,configurable:!0},__presubstr:String.prototype.substr,__substr:function(C$t,C$e){return 1==arguments.length?C$u.__presubstr.call(this,C$t):C$u.__presubstr.call(this,C$t,0<C$e?C$e:this.length+C$e)},__init:function(C$t){C$t.forEach(function(C$t){C$t.__init$&&C$t.__init$()})},__isClass:function(C$t){return C$t&&(C$t.__isclass||C$t==Object||C$t==String||C$t==Array)},__newvec:function(C$t,C$e){var C$i=[];C$i.length=C$t;for(var C$n=0;C$n<C$t;C$n++)C$i[C$n]=C$e;return C$i},__extend:function(C$t,C$e){for(var C$i in C$e){var C$n,C$r,C$s;C$e.hasOwnProperty(C$i)&&(C$r=(C$n=Object.getOwnPropertyDescriptor(C$e,C$i)).get,C$s=C$n.set,C$r||C$s?C$r&&C$s?Object.defineProperty(C$t,C$i,C$n):(C$r&&Object.defineProperty(C$t,C$i,C$r),C$s&&Object.defineProperty(C$t,C$i,C$s)):C$t[C$i]=C$e[C$i])}function _pw2e9(){C$u.un(this,"constructor",C$t)}_pw2e9.prototype=C$e.prototype,C$t.prototype=new _pw2e9,C$u.un(C$t.prototype,"__imps",C$u.__copy({},C$e.prototype.__imps))},__copy:function(C$t,C$e){if(!C$e)return null;for(var C$i in C$t=C$t||{},C$e)C$t[C$i]=C$e[C$i];return C$t},__package:function(C$t,C$e){if(!C$u.__packages[C$t]){C$u.__packages[C$t]=!0;var C$i=C$l,C$n=C$t.split(".");if(1<C$n.length)for(var C$r=0,C$s=C$n.length-1;C$r<C$s;C$r++)C$i=C$i[C$n[C$r]]||(C$i[C$n[C$r]]={});C$i[C$n[C$n.length-1]]||(C$i[C$n[C$n.length-1]]=C$e||{})}},__hasOwnProperty:function(C$t,C$e){return C$e=C$e||this,Object.hasOwnProperty.call(C$e,C$t)||function e9w2_(C$t,C$e){if(Object.hasOwnProperty.call(C$e.prototype,C$t))return!0;C$e=C$e.prototype.__super;return null==C$e?null:e9w2_(C$t,C$e)}(C$t,C$e.__class)},__typeof:function(C$t,C$e){if(!C$t||!C$e)return!1;if(C$e===String)return"string"==typeof C$t;if(C$e===Number)return"number"==typeof C$t;if(C$e.__interface__)C$e=C$e.__interface__;else if("string"!=typeof C$e)return C$t instanceof C$e;return C$t.__imps&&C$t.__imps[C$e]||C$t.__class==C$e},__as:function(C$t,C$e){return this.__typeof(C$t,C$e)?C$t:null},__int:function(C$t){return C$t?parseInt(C$t):0},interface:function(C$t,C$e){C$u.__package(C$t,{});var C$i=C$u.__internals,C$n=C$i[C$t]=C$i[C$t]||{self:C$t};if(C$e){var C$r=C$e.split(",");C$n.extend=[];for(var C$s=0;C$s<C$r.length;C$s++){var C$a=C$r[C$s];C$i[C$a]=C$i[C$a]||{self:C$a},C$n.extend.push(C$i[C$a])}}var C$o=C$l,C$h=C$t.split(".");for(C$s=0;C$s<C$h.length-1;C$s++)C$o=C$o[C$h[C$s]];C$o[C$h[C$h.length-1]]={__interface__:C$t}},class:function(C$t,C$e,C$i,C$n){C$i&&C$u.__extend(C$t,C$i),C$e&&(C$u.__package(C$e,C$t),C$u.__classmap[C$e]=C$t,0<C$e.indexOf(".")?0==C$e.indexOf("laya.")&&(C$r=C$e.split("."),C$n=C$n||C$r[C$r.length-1],C$u[C$n]&&console.log("Warning!,this class["+C$n+"] already exist:",C$u[C$n]),C$u[C$n]=C$t):"Main"==C$e?C$l.Main=C$t:"MainWX"==C$e?C$l.MainWX=C$t:(C$u[C$e]&&console.log("Error!,this class["+C$e+"] already exist:",C$u[C$e]),C$u[C$e]=C$t));var C$r=C$u.un,C$n=C$t.prototype;C$r(C$n,"hasOwnProperty",C$u.__hasOwnProperty),C$r(C$n,"__class",C$t),C$r(C$n,"__super",C$i),C$r(C$n,"__className",C$e),C$r(C$t,"__super",C$i),C$r(C$t,"__className",C$e),C$r(C$t,"__isclass",!0),C$r(C$t,"super",function(C$t){this.__super.call(C$t)})},imps:function(C$t,C$e){if(!C$e)return null;var C$r=C$t.__imps||C$u.un(C$t,"__imps",{});for(var C$i in C$e)!function nx7vj(C$t){var C$e,C$i;if((C$e=C$u.__internals[C$t])&&(C$r[C$t]=!0,C$i=C$e.extend))for(var C$n=0;C$n<C$i.length;C$n++)nx7vj(C$i[C$n].self)}(C$i)},superSet:function(C$t,C$e,C$i,C$n){C$t=C$t.prototype["_$set_"+C$i];C$t&&C$t.call(C$e,C$n)},superGet:function(C$t,C$e,C$i){C$t=C$t.prototype["_$get_"+C$i];return C$t?C$t.call(C$e):null},getset:function(C$t,C$e,C$i,C$n,C$r){C$t?(C$n&&(C$e["_$GET_"+C$i]=C$n),C$r&&(C$e["_$SET_"+C$i]=C$r)):(C$n&&C$u.un(C$e,"_$get_"+C$i,C$n),C$r&&C$u.un(C$e,"_$set_"+C$i,C$r)),C$n&&C$r?Object.defineProperty(C$e,C$i,{get:C$n,set:C$r,enumerable:!1,configurable:!0}):(C$n&&Object.defineProperty(C$e,C$i,{get:C$n,enumerable:!1,configurable:!0}),C$r&&Object.defineProperty(C$e,C$i,{set:C$r,enumerable:!1,configurable:!0}))},static:function(C$i,C$n){for(var C$r=0,C$t=C$n.length;C$r<C$t;C$r+=2)"length"==C$n[C$r]?C$i.length=C$n[C$r+1].call(C$i):function(){var C$e=C$n[C$r],C$t=C$n[C$r+1];Object.defineProperty(C$i,C$e,{get:function(){return delete this[C$e],this[C$e]=C$t.call(this)},set:function(C$t){delete this[C$e],this[C$e]=C$t},enumerable:!0,configurable:!0})}()},un:function(C$t,C$e,C$i){return C$i=C$i||C$t[C$e],C$u.__propun.value=C$i,Object.defineProperty(C$t,C$e,C$u.__propun),C$i},uns:function(C$e,C$t){C$t.forEach(function(C$t){C$u.un(C$e,C$t)})}};return C$l.console=C$l.console||{log:function(){}},C$l.trace=C$l.console.log,Error.prototype.throwError=function(){throw arguments},Object.defineProperty(Array.prototype,"fixed",{enumerable:!1}),C$u}(window,document);window,document,gvj7xry.un,gvj7xry.uns,gvj7xry.static,gvj7xry.class,gvj7xry.getset,gvj7xry.__newvec,function(C$s,C$r,C$b){C$b.un,C$b.uns;var C$a=C$b.static,C$o=C$b.class,C$t=C$b.getset;C$b.__newvec,C$b.interface("laya.runtime.IMarket"),C$b.interface("laya.filters.IFilter"),C$b.interface("laya.display.ILayout"),C$b.interface("laya.resource.IDispose"),C$b.interface("laya.runtime.IPlatform"),C$b.interface("laya.resource.IDestroy"),C$b.interface("laya.runtime.IConchNode"),C$b.interface("laya.filters.IFilterAction"),C$b.interface("laya.runtime.ICPlatformClass"),C$b.interface("laya.resource.ICreateResource"),C$b.interface("laya.runtime.IConchRenderObject"),C$b.interface("laya.runtime.IPlatformClass","laya.runtime.IPlatform");C$o(by0q5o,"laya.utils.RunDriver"),by0q5o.FILTER_ACTIONS=[],by0q5o.pixelRatio=-1,by0q5o._charSizeTestDiv=null,by0q5o.now=function(){return Date.now()},by0q5o.getWindow=function(){return C$s},by0q5o.getPixelRatio=function(){var C$t;return by0q5o.pixelRatio<0&&(C$t=(C$t=C$S.context).backingStorePixelRatio||C$t.webkitBackingStorePixelRatio||C$t.mozBackingStorePixelRatio||C$t.msBackingStorePixelRatio||C$t.oBackingStorePixelRatio||C$t.backingStorePixelRatio||1,(by0q5o.pixelRatio=(C$S.window.devicePixelRatio||1)/C$t)<1&&(by0q5o.pixelRatio=1)),by0q5o.pixelRatio},by0q5o.getIncludeStr=function(C$t){return null},by0q5o.createShaderCondition=function(C$t){return C$b._runScript("(function() {return "+C$t+";})")},by0q5o.fontMap=[],by0q5o.measureText=function(C$t,C$e){var C$i=by0q5o.hanzi.test(C$t);if(C$i&&by0q5o.fontMap[C$e])return by0q5o.fontMap[C$e];var C$n=C$S.context;C$n.font=C$e;C$n=C$n.measureText(C$t);return C$n=C$n||{width:16,height:16},C$i&&(by0q5o.fontMap[C$e]=C$n),C$n},by0q5o.getWebGLContext=function(C$t){},by0q5o.beginFlush=function(){},by0q5o.endFinish=function(){},by0q5o.addToAtlas=null,by0q5o.flashFlushImage=function(C$t){},by0q5o.drawToCanvas=function(C$t,C$e,C$i,C$n,C$r,C$s){var C$a=C$gt.create("2D"),C$i=new C$z(C$i,C$n,C$a);return C$O.renders[C$e]._fun(C$t,C$i,C$r,C$s),C$a},by0q5o.createParticleTemplate2D=null,by0q5o.createGLTextur=null,by0q5o.createWebGLContext2D=null,by0q5o.changeWebGLSize=function(C$t,C$e){},by0q5o.createRenderSprite=function(C$t,C$e){return new C$O(C$t,C$e)},by0q5o.createFilterAction=function(C$t){return new C$C},by0q5o.createGraphics=function(){return new C$d},by0q5o.clear=function(C$t){C$M._context.ctx.clear()},by0q5o.cancelLoadByUrl=function(C$t){},by0q5o.clearAtlas=function(C$t){},by0q5o.isAtlas=function(C$t){return!1},by0q5o.addTextureToAtlas=function(C$t){},by0q5o.getTexturePixels=function(C$t,C$e,C$i,C$n,C$r){return null},by0q5o.skinAniSprite=function(){return null},by0q5o.update3DLoop=function(){},C$a(by0q5o,["hanzi",function(){return this.hanzi=new RegExp("^[\u4e00-\u9fa5]$")}]);var C$m=by0q5o,C$h=(C$t(1,C$b,"alertGlobalError",null,function(C$t){var C$s=0;C$S.window.onerror=C$t?function(C$t,C$e,C$i,C$n,C$r){C$s++<5&&C$r&&alert(C$r.stack||C$r)}:null}),C$b.init=function(C$t,C$e,C$i){for(var C$n=[],C$r=2,C$s=arguments.length;C$r<C$s;C$r++)C$n.push(arguments[C$r]);if(!C$b._isinit){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=C$b._arrayBufferSlice),C$b._isinit=!0,C$S.__init__(),C$F.__init__(),C$d.__init__(),C$b.timer=new C$K,C$b.scaleTimer=new C$K,C$b.loader=new C$lt,C$tt.__init__(),C$r=0;for(var C$a=C$n.length;C$r<C$a;C$r++)C$n[C$r].enable&&C$n[C$r].enable();return C$c.__init__(),C$u.__init__(),C$V.__init__(),C$U.beginCheck(),C$b._currentStage=C$b.stage=new C$mt,C$b.stage.conchModel&&C$b.stage.conchModel.setRootNode(),C$b._getUrlPath(),C$b.render=new C$M(0,0),C$b.stage.size(C$t,C$e),C$O.__init__(),C$x.__init__(),C$y.instance.__init__(C$b.stage,C$M.canvas),C$xt.__init__(),C$L.autoStopMusic=!0,C$B.__init__(),C$M.canvas}},C$b._getUrlPath=function(){var C$t=C$S.window.location,C$e=C$t.pathname;C$e=C$e&&":"==C$e.charAt(2)?C$e.substring(1):C$e,C$N.rootPath=C$N.basePath=C$N.getPath("file:"==C$t.protocol?C$e:C$t.protocol+"//"+C$t.host+C$t.pathname)},C$b._arrayBufferSlice=function(C$t,C$e){C$e=new Uint8Array(this,C$t,C$e-C$t),C$t=new Uint8Array(C$e.length);return C$t.set(C$e),C$t.buffer},C$b._runScript=function(C$t){return C$S.window[C$b._evcode](C$t)},C$b.stage=null,C$b.timer=null,C$b.scaleTimer=null,C$b.loader=null,C$b.version="1.8.6",C$b.render=null,C$b._currentStage=null,C$b._isinit=!1,C$b.isDebug=!1,C$b.MiniAdpter={init:function(){C$s.navigator&&C$s.navigator.userAgent&&-1<C$s.navigator.userAgent.indexOf("MiniGame")&&console.error("\u8bf7\u5148\u5f15\u7528\u5c0f\u6e38\u620f\u9002\u914d\u5e93laya.wxmini.js,\u8be6\u7ec6\u6559\u7a0b\uff1ahttps://ldc.layabox.com/doc/?nav=zh-ts-5-0-0")}},C$a(C$b,["conchMarket",function(){return this.conchMarket=C$s.conch?conchMarket:null},"PlatformClass",function(){return this.PlatformClass=C$s.PlatformClass},"_evcode",function(){return this._evcode="e"+String.fromCharCode(118)+"al"}]),C$o(n1ua4,"Config"),n1ua4.WebGLTextCacheCount=500,n1ua4.atlasEnable=!1,n1ua4.showCanvasMark=!1,n1ua4.animationInterval=50,n1ua4.isAntialias=!1,n1ua4.isAlpha=!1,n1ua4.premultipliedAlpha=!0,n1ua4.isStencil=!0,n1ua4.preserveDrawingBuffer=!1,n1ua4),C$l=(C$o(e9pw2_,"laya.events.EventDispatcher"),(C$e=e9pw2_.prototype).hasListener=function(C$t){return!(!this._events||!this._events[C$t])},C$e.getListener=function(C$t){return this._events?this._events[C$t]:null},C$e.event=function(C$t,C$e){if(!this._events||!this._events[C$t])return!1;var C$i=this._events[C$t];if(C$i.lock)C$i.queue||(C$i.queue=[]),C$i.queue.push(C$e);else{var C$n;for(C$i.lock=!0,C$i.cursor=C$i.head;C$i.cursor;)(C$n=C$i.cursor).recover?(C$i.head=C$i.tail=C$i.cursor=null,console.error("node is recover\uff1a"+C$n.id)):(C$i.cursor=C$n.next,C$n.once&&e9pw2_.delNode(C$i,C$n),C$n.method&&(null!=C$e?C$n.args?C$n.method.apply(C$n.caller,C$n.args.concat(C$e)):C$e instanceof Array?C$n.method.apply(C$n.caller,C$e):C$n.caller?C$n.method.call(C$n.caller,C$e):C$b.recordError("\u4e8b\u4ef6\u6d3e\u53d1\u9519\u8bef","node.caller:"+C$n.caller+"node.method:"+C$n.method+"data:"+C$e+"node.prev"+C$n.prev):C$n.method.apply(C$n.caller,C$n.args)),C$n.once&&e9pw2_.recoverHandler(C$n));C$i.lock=!1,!C$i.head&&this._events&&this._events[C$t]==C$i&&delete this._events[C$t],C$i.queue&&C$i.queue.length&&this.event(C$t,C$i.queue.shift())}return!0},C$e.on=function(C$t,C$e,C$i,C$n){return this._createListener(C$t,C$e,C$i,C$n,!1)},C$e.once=function(C$t,C$e,C$i,C$n){return this._createListener(C$t,C$e,C$i,C$n,!0)},C$e._createListener=function(C$t,C$e,C$i,C$n,C$r,C$s){(C$s=void 0===C$s?!0:C$s)&&this.off(C$t,C$e,C$i,C$r);C$s=e9pw2_.createHandler(C$e||this,C$i,C$n,C$r);this._events||(this._events={});C$e=this._events,C$i=C$e[C$t];return C$i?C$i.tail?(C$s.prev=C$i.tail,C$i.tail.next=C$s,C$i.tail=C$s):C$i.head=C$i.tail=C$s:C$e[C$t]={head:C$s,tail:C$s,cursor:null,lock:!1},this},C$e.off=function(C$t,C$e,C$i,C$n){if(void 0===C$n&&(C$n=!1),!this._events||!this._events[C$t])return this;for(var C$r=this._events[C$t],C$s=C$r.head;C$s;){if((!C$e||C$s.caller===C$e)&&C$s.method===C$i&&(!C$n||C$s.once)){e9pw2_.delNode(C$r,C$s),C$r.cursor==C$s&&(C$r.cursor=C$s.next),e9pw2_.recoverHandler(C$s);break}C$s=C$s.next}return this},C$e.offAll=function(C$t){var C$e=this._events;if(!C$e)return this;if(C$t)this._recoverHandlers(C$e[C$t]),delete C$e[C$t];else{for(var C$i in C$e)this._recoverHandlers(C$e[C$i]);this._events=null}return this},C$e._recoverHandlers=function(C$t){if(C$t){for(var C$e=C$t.head;C$e;){e9pw2_.delNode(C$t,C$e);var C$i=C$e.next;e9pw2_.recoverHandler(C$e),C$e=C$i}C$t.cursor=null}},C$e.isMouseEvent=function(C$t){return e9pw2_.MOUSE_EVENTS[C$t]},e9pw2_.MOUSE_EVENTS={rightmousedown:!0,rightmouseup:!0,rightclick:!0,mousedown:!0,mouseup:!0,mousemove:!0,mouseover:!0,mouseout:!0,click:!0,doubleclick:!0},e9pw2_.__init$=function(){Object.defineProperty(laya.events.EventDispatcher.prototype,"_events",{enumerable:!1,writable:!0})},e9pw2_.delNode=function(C$t,C$e){C$e.prev?C$e.prev.next=C$e.next:C$t.head=C$e.next,C$e.next?C$e.next.prev=C$e.prev:C$t.tail=C$e.prev},e9pw2_.createHandler=function(C$t,C$e,C$i,C$n){var C$r=500<e9pw2_._freeHandler.length?e9pw2_._freeHandler.shift():null;if(C$r)if(C$r.recover)C$r.recover=!1,C$r.caller=C$t,C$r.method=C$e,C$r.args=C$i,C$r.once=C$n;else{var C$s="";try{arguments.propertyIsEnumerable.caller}catch(C$t){C$s=C$t.stack}var C$a=C$r.caller?(C$r.caller.__proto__&&C$r.caller.__proto__.constructor&&C$r.caller.__proto__.constructor.name)+"|"+C$r.caller.__className+"|"+C$r.caller.name:"",C$o=C$r.method?C$r.method.name:"";C$b.recordError("EventDispatcher\u91cd\u590d\u521b\u5efa","caller="+C$a+"  method="+C$o+"  stack="+C$s),C$r={id:++e9pw2_._nodeCount,caller:C$t,method:C$e,args:C$i,once:C$n,recover:!1}}else C$r={id:++e9pw2_._nodeCount,caller:C$t,method:C$e,args:C$i,once:C$n,recover:!1};return C$r.prev=C$r.next=null,C$r},e9pw2_.recoverHandler=function(C$t){if(C$t.recover){if(e9pw2_._errorCount<5){e9pw2_._errorCount++;var C$e="";try{arguments.propertyIsEnumerable.caller}catch(C$t){C$e=C$t.stack}var C$i=C$t.caller?(C$t.caller.__proto__&&C$t.caller.__proto__.constructor&&C$t.caller.__proto__.constructor.name)+"|"+C$t.caller.__className+"|"+C$t.caller.name:"",C$n=C$t.method?C$t.method.name:"";C$b.recordError("EventDispatcher\u91cd\u590d\u56de\u6536","id="+C$t.id+"  caller="+C$i+"  method="+C$n+"  stack="+C$e)}C$t.caller=C$t.method=C$t.args=C$t.prev=null}else C$t.recover=!0,C$t.caller=C$t.method=C$t.args=C$t.prev=C$t.next=null,e9pw2_._freeHandler&&e9pw2_._freeHandler.length<3e3&&e9pw2_._freeHandler.push(C$t)},e9pw2_._freeHandler=[],e9pw2_._nodeCount=0,e9pw2_._errorCount=0,e9pw2_),C$g=(C$o(gdtc68,"laya.utils.Handler"),(C$e=gdtc68.prototype).setTo=function(C$t,C$e,C$i,C$n){return this._id=gdtc68._gid++,this.caller=C$t,this.method=C$e,this.args=C$i,this.once=C$n,this},C$e.run=function(){if(null==this.method)return null;var C$t=this._id,C$e=this.method.apply(this.caller,this.args);return this._id===C$t&&this.once&&this.recover(),C$e},C$e.runWith=function(C$t){if(null==this.method)return null;var C$e=this._id;return C$t=null==C$t?this.method.apply(this.caller,this.args):this.args||C$t.unshift?this.args?this.method.apply(this.caller,this.args.concat(C$t)):this.method.apply(this.caller,C$t):this.method.call(this.caller,C$t),this._id===C$e&&this.once&&this.recover(),C$t},C$e.clear=function(){return this.caller=null,this.method=null,this.args=null,this},C$e.recover=function(){0<this._id&&(this._id=0,this.clear())},gdtc68.create=function(C$t,C$e,C$i,C$n){return new gdtc68(C$t,C$e,C$i,C$n=void 0===C$n?!0:C$n)},gdtc68._gid=1,gdtc68),C$v=(C$o(ry5bqo,"laya.display.BitmapFont"),(C$e=ry5bqo.prototype).loadFont=function(C$t,C$e){this._path=C$t,this._complete=C$e,C$b.loader.load([{url:this._path,type:"xml"},{url:this._path.replace(".fnt",".png"),type:"image"}],C$g.create(this,this.onLoaded))},C$e.onLoaded=function(){this.parseFont(C$ht.getRes(this._path),C$ht.getRes(this._path.replace(".fnt",".png"))),this._complete&&this._complete.runWith(this._texture?this:null)},C$e.parseFont=function(C$t,C$e){if(null!=C$t&&null!=C$e){this._texture=C$e;var C$i=C$t.getElementsByTagName("info");if(!C$i[0].getAttributeNode)return this.parseFont2(C$t,C$e);this.fontSize=parseInt(C$i[0].getAttributeNode("size").nodeValue);var C$n,C$i=C$i[0].getAttributeNode("padding").nodeValue.split(",");this._padding=[parseInt(C$i[0]),parseInt(C$i[1]),parseInt(C$i[2]),parseInt(C$i[3])],C$n=C$t.getElementsByTagName("char");var C$r=0;for(C$r=0;C$r<C$n.length;C$r++){var C$s=C$n[C$r],C$a=parseInt(C$s.getAttributeNode("id").nodeValue),C$o=+parseInt(C$s.getAttributeNode("xoffset").nodeValue),C$u=+parseInt(C$s.getAttributeNode("yoffset").nodeValue),C$h=+parseInt(C$s.getAttributeNode("xadvance").nodeValue),C$l=new C$P;C$l.x=parseInt(C$s.getAttributeNode("x").nodeValue),C$l.y=parseInt(C$s.getAttributeNode("y").nodeValue),C$l.width=parseInt(C$s.getAttributeNode("width").nodeValue),C$l.height=parseInt(C$s.getAttributeNode("height").nodeValue);C$s=C$ut.create(C$e,C$l.x,C$l.y,C$l.width,C$l.height,C$o,C$u);this._maxWidth=Math.max(this._maxWidth,C$h+this.letterSpacing),this._fontCharDic[C$a]=C$s,this._fontWidthMap[C$a]=C$h}}},C$e.parseFont2=function(C$t,C$e){if(null!=C$t&&null!=C$e){this._texture=C$e;var C$i=C$t.getElementsByTagName("info");this.fontSize=parseInt(C$i[0].attributes.size.nodeValue);C$i=C$i[0].attributes.padding.nodeValue.split(",");this._padding=[parseInt(C$i[0]),parseInt(C$i[1]),parseInt(C$i[2]),parseInt(C$i[3])];var C$n=C$t.getElementsByTagName("char"),C$r=0;for(C$r=0;C$r<C$n.length;C$r++){var C$s=C$n[C$r].attributes,C$a=parseInt(C$s.id.nodeValue),C$o=+parseInt(C$s.xoffset.nodeValue),C$u=+parseInt(C$s.yoffset.nodeValue),C$h=+parseInt(C$s.xadvance.nodeValue),C$l=new C$P;C$l.x=parseInt(C$s.x.nodeValue),C$l.y=parseInt(C$s.y.nodeValue),C$l.width=parseInt(C$s.width.nodeValue),C$l.height=parseInt(C$s.height.nodeValue);C$s=C$ut.create(C$e,C$l.x,C$l.y,C$l.width,C$l.height,C$o,C$u);this._maxWidth=Math.max(this._maxWidth,C$h+this.letterSpacing),this._fontCharDic[C$a]=C$s,this._fontWidthMap[C$a]=C$h}}},C$e.getCharTexture=function(C$t){return this._fontCharDic[C$t.charCodeAt(0)]},C$e.destroy=function(){if(this._texture){for(var C$t in this._fontCharDic){C$t=this._fontCharDic[C$t];C$t&&C$t.destroy()}this._texture.destroy(),this._fontCharDic=null,this._fontWidthMap=null,this._texture=null}},C$e.setSpaceWidth=function(C$t){this._spaceWidth=C$t},C$e.getCharWidth=function(C$t){var C$e=C$t.charCodeAt(0);return this._fontWidthMap[C$e]?this._fontWidthMap[C$e]+this.letterSpacing:" "==C$t?this._spaceWidth+this.letterSpacing:0},C$e.getTextWidth=function(C$t){for(var C$e=0,C$i=0,C$n=C$t.length;C$i<C$n;C$i++)C$e+=this.getCharWidth(C$t.charAt(C$i));return C$e},C$e.getMaxWidth=function(){return this._maxWidth},C$e.getMaxHeight=function(){return this.fontSize},C$e.drawText=function(C$t,C$e,C$i,C$u,C$n,C$r){var C$s,C$a=this.getTextWidth(C$t),C$o=0;"center"===C$n&&(C$o=(C$r-C$a)/2),"right"===C$n&&(C$o=C$r-C$a);for(var C$h=0,C$l=0,C$c=C$t.length;C$l<C$c;C$l++)(C$s=this.getCharTexture(C$t.charAt(C$l)))&&(C$e.graphics.drawTexture(C$s,C$i+C$h+C$o,C$u),C$h+=this.getCharWidth(C$t.charAt(C$l)))},ry5bqo),C$u=(C$o(w92f,"laya.display.css.Style"),(C$e=w92f.prototype).getTransform=function(){return this._tf},C$e.setTransform=function(C$t){this._tf="none"!==C$t&&C$t?C$t:w92f._TF_EMPTY},C$e.setTranslateX=function(C$t){this._tf===w92f._TF_EMPTY&&(this._tf=new C$_),this._tf.translateX=C$t},C$e.setTranslateY=function(C$t){this._tf===w92f._TF_EMPTY&&(this._tf=new C$_),this._tf.translateY=C$t},C$e.setScaleX=function(C$t){this._tf===w92f._TF_EMPTY&&(this._tf=new C$_),this._tf.scaleX=C$t},C$e.setScale=function(C$t,C$e){this._tf===w92f._TF_EMPTY&&(this._tf=new C$_),this._tf.scaleX=C$t,this._tf.scaleY=C$e},C$e.setScaleY=function(C$t){this._tf===w92f._TF_EMPTY&&(this._tf=new C$_),this._tf.scaleY=C$t},C$e.setRotate=function(C$t){this._tf===w92f._TF_EMPTY&&(this._tf=new C$_),this._tf.rotate=C$t},C$e.setSkewX=function(C$t){this._tf===w92f._TF_EMPTY&&(this._tf=new C$_),this._tf.skewX=C$t},C$e.setSkewY=function(C$t){this._tf===w92f._TF_EMPTY&&(this._tf=new C$_),this._tf.skewY=C$t},C$e.destroy=function(){this.scrollRect=null},C$e.render=function(C$t,C$e,C$i,C$n){},C$e.getCSSStyle=function(){return C$nt.EMPTY},C$e._enableLayout=function(){return!1},C$t(0,C$e,"scaleX",function(){return this._tf.scaleX},function(C$t){this.setScaleX(C$t)}),C$t(0,C$e,"transform",function(){return this.getTransform()},function(C$t){this.setTransform(C$t)}),C$t(0,C$e,"translateX",function(){return this._tf.translateX},function(C$t){this.setTranslateX(C$t)}),C$t(0,C$e,"translateY",function(){return this._tf.translateY},function(C$t){this.setTranslateY(C$t)}),C$t(0,C$e,"scaleY",function(){return this._tf.scaleY},function(C$t){this.setScaleY(C$t)}),C$t(0,C$e,"block",function(){return 0!=(1&this._type)}),C$t(0,C$e,"skewY",function(){return this._tf.skewY},function(C$t){this.setSkewY(C$t)}),C$t(0,C$e,"rotate",function(){return this._tf.rotate},function(C$t){this.setRotate(C$t)}),C$t(0,C$e,"skewX",function(){return this._tf.skewX},function(C$t){this.setSkewX(C$t)}),C$t(0,C$e,"paddingLeft",function(){return 0}),C$t(0,C$e,"paddingTop",function(){return 0}),C$t(0,C$e,"absolute",function(){return!0}),w92f.__init__=function(){w92f._TF_EMPTY=new C$_,w92f.EMPTY=new w92f},w92f.EMPTY=null,w92f._TF_EMPTY=null,w92f),C$c=(C$o(qg5k0,"laya.display.css.Font"),(C$e=qg5k0.prototype).set=function(C$t){this._text=null;for(var C$e=C$t.split(" "),C$i=0,C$n=C$e.length;C$i<C$n;C$i++){var C$r=C$e[C$i];switch(C$r){case"italic":this.italic=!0;continue;case"bold":this.bold=!0;continue}0<C$r.indexOf("px")&&(this.size=parseInt(C$r),this.family=C$e[C$i+1],C$i++)}},C$e.toString=function(){return this._text="",this.italic&&(this._text+="italic "),this.bold&&(this._text+="bold "),this._text+=this.size+"px "+this.family},C$e.copyTo=function(C$t){C$t._type=this._type,C$t._text=this._text,C$t._weight=this._weight,C$t._color=this._color,C$t.family=this.family,C$t.stroke=this.stroke!=qg5k0._STROKE?this.stroke.slice():qg5k0._STROKE,C$t.indent=this.indent,C$t.size=this.size},C$t(0,C$e,"password",function(){return 0!=(1024&this._type)},function(C$t){C$t?this._type|=1024:this._type&=-1025}),C$t(0,C$e,"color",function(){return this._color.strColor},function(C$t){this._color=C$H.create(C$t)}),C$t(0,C$e,"italic",function(){return 0!=(512&this._type)},function(C$t){C$t?this._type|=512:this._type&=-513}),C$t(0,C$e,"bold",function(){return 0!=(2048&this._type)},function(C$t){C$t?this._type|=2048:this._type&=-2049}),C$t(0,C$e,"weight",function(){return""+this._weight},function(C$t){var C$e=0;switch(C$t){case"normal":break;case"bold":this.bold=!0,C$e=700;break;case"bolder":C$e=800;break;case"lighter":C$e=100;break;default:C$e=parseInt(C$t)}this._weight=C$e,this._text=null}),C$t(0,C$e,"decoration",function(){return this._decoration?this._decoration.value:null},function(C$t){var C$e=C$t.split(" ");switch(this._decoration||(this._decoration={}),C$e[0]){case"_":this._decoration.type="underline";break;case"-":this._decoration.type="line-through";break;case"overline":this._decoration.type="overline";break;default:this._decoration.type=C$e[0]}C$e[1]&&(this._decoration.color=C$H.create(C$e)),this._decoration.value=C$t}),qg5k0.__init__=function(){qg5k0.EMPTY=new qg5k0(null)},qg5k0.EMPTY=null,qg5k0.defaultColor="#000000",qg5k0.defaultSize=12,qg5k0.defaultFamily="Arial",qg5k0.defaultFont="12px Arial",qg5k0._STROKE=[0,"#000000"],qg5k0._ITALIC=512,qg5k0._PASSWORD=1024,qg5k0._BOLD=2048,qg5k0),C$_=(C$o(e_w2pz,"laya.display.css.TransformInfo"),e_w2pz),C$d=(C$o(tpezch,"laya.display.Graphics"),(C$e=tpezch.prototype).destroy=function(){this.clear(),this._graphicBounds&&this._graphicBounds.destroy(),this._graphicBounds=null,this._vectorgraphArray=null,this._sp&&(this._sp._renderType=0),this._sp=null},C$e.clear=function(C$t){var C$e=0,C$i=0;if(C$t=void 0===C$t?!1:C$t){var C$n=this._one;if(this._cmds){for(C$i=this._cmds.length,C$e=0;C$e<C$i;C$e++)!(C$n=this._cmds[C$e])||C$n.callee!==C$M._context._drawTexture&&C$n.callee!==C$M._context._drawTextureWithTransform||(C$n[0]=null,tpezch._cache.push(C$n));this._cmds.length=0}else C$n&&(!C$n||C$n.callee!==C$M._context._drawTexture&&C$n.callee!==C$M._context._drawTextureWithTransform||(C$n[0]=null,tpezch._cache.push(C$n)))}else this._cmds=null;if(this._one=null,this._render=this._renderEmpty,this._sp&&(this._sp._renderType&=-514),this._repaint(),this._vectorgraphArray){for(C$e=0,C$i=this._vectorgraphArray.length;C$e<C$i;C$e++)C$J.getInstance().deleteShape(this._vectorgraphArray[C$e]);this._vectorgraphArray.length=0}},C$e._clearBoundsCache=function(){this._graphicBounds&&this._graphicBounds.reset()},C$e._initGraphicBounds=function(){this._graphicBounds||(this._graphicBounds=new C$f,this._graphicBounds._graphics=this)},C$e._repaint=function(){this._clearBoundsCache(),this._sp&&this._sp.repaint()},C$e._isOnlyOne=function(){return!this._cmds||0===this._cmds.length},C$e.getBounds=function(C$t){return void 0===C$t&&(C$t=!1),this._initGraphicBounds(),this._graphicBounds.getBounds(C$t)},C$e.getBoundPoints=function(C$t){return void 0===C$t&&(C$t=!1),this._initGraphicBounds(),this._graphicBounds.getBoundPoints(C$t)},C$e._addCmd=function(C$t){this._cmds=this._cmds||[],C$t.callee=C$t.shift(),this._cmds.push(C$t)},C$e.setFilters=function(C$t){this._saveToCmd(C$M._context._setFilters,C$t)},C$e.drawTexture=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){if(void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0),void 0===C$a&&(C$a=1),!C$t||C$a<.01)return null;C$n=(C$n=void 0===C$n?0:C$n)||C$t.sourceWidth,C$r=(C$r=void 0===C$r?0:C$r)||C$t.sourceHeight,C$a=C$a<0?0:1<C$a?1:C$a;var C$o,C$h=!C$M.isWebGL&&(C$S.onFirefox||C$S.onEdge||C$S.onIE||C$S.onSafari)?.5:0,C$l=C$n/C$t.sourceWidth,C$u=C$r/C$t.sourceHeight;return C$n=C$t.width*C$l,C$r=C$t.height*C$u,C$t.loaded&&(C$n<=0||C$r<=0)?null:(C$e+=C$t.offsetX*C$l,C$i+=C$t.offsetY*C$u,this._sp&&(this._sp._renderType|=512),C$e-=C$h,C$i-=C$h,C$n+=2*C$h,C$r+=2*C$h,tpezch._cache.length?((C$o=tpezch._cache.pop())[0]=C$t,C$o[1]=C$e,C$o[2]=C$i,C$o[3]=C$n,C$o[4]=C$r,C$o[5]=C$s,C$o[6]=C$a):C$o=[C$t,C$e,C$i,C$n,C$r,C$s,C$a],C$o.callee=C$s||1!=C$a?C$M._context._drawTextureWithTransform:C$M._context._drawTexture,null!=this._one||C$s||1!=C$a?this._saveToCmd(C$o.callee,C$o):(this._one=C$o,this._render=this._renderOneImg),C$t.loaded||C$t.once("loaded",this,this._textureLoaded,[C$t,C$o]),this._repaint(),C$o)},C$e.cleanByTexture=function(C$t,C$e,C$i,C$n,C$r){if(void 0===C$n&&(C$n=0),void 0===C$r&&(C$r=0),!C$t)return this.clear();var C$s,C$a;this._one&&this._render===this._renderOneImg?(C$n=C$n||C$t.sourceWidth,C$r=C$r||C$t.sourceHeight,C$s=C$n/C$t.sourceWidth,C$a=C$r/C$t.sourceHeight,C$n=C$t.width*C$s,C$r=C$t.height*C$a,C$e+=C$t.offsetX*C$s,C$i+=C$t.offsetY*C$a,this._one[0]=C$t,this._one[1]=C$e,this._one[2]=C$i,this._one[3]=C$n,this._one[4]=C$r,this._repaint()):(this.clear(),C$t&&this.drawTexture(C$t,C$e,C$i,C$n,C$r))},C$e.drawTextures=function(C$t,C$e){C$t&&this._saveToCmd(C$M._context._drawTextures,[C$t,C$e])},C$e.fillTexture=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){void 0===C$n&&(C$n=0),void 0===C$r&&(C$r=0),void 0===C$s&&(C$s="repeat"),C$t&&(C$e=[C$t,C$e,C$i,C$n,C$r,C$s,C$a||C$R.EMPTY,{}],C$t.loaded||C$t.once("loaded",this,this._textureLoaded,[C$t,C$e]),this._saveToCmd(C$M._context._fillTexture,C$e))},C$e._textureLoaded=function(C$t,C$e){C$e[3]=C$e[3]||C$t.width,C$e[4]=C$e[4]||C$t.height,this._repaint()},C$e.fillCircle=function(C$u,C$c,C$t,C$e,C$i,C$_,C$n){C$t.bitmap.enableMerageInAtlas=!1;var C$r=new Float32Array(2*(C$n+1)),C$s=new Float32Array(2*(C$n+1)),C$a=new Uint16Array(3*C$n),C$d=2*Math.PI/C$n,C$o=0;C$r[0]=C$e,C$r[1]=C$i,C$s[0]=C$e/C$t.width,C$s[1]=C$i/C$t.height;for(var C$h=2,C$l=0;C$l<C$n;C$l++){var C$f=C$_*Math.cos(C$o)+C$e,C$p=C$_*Math.sin(C$o)+C$i;C$r[C$h]=C$f,C$r[C$h+1]=C$p,C$s[C$h]=C$f/C$t.width,C$s[C$h+1]=C$p/C$t.height,C$o+=C$d,C$h+=2}for(C$l=C$h=0;C$l<C$n;C$l++)C$a[C$h++]=0,C$a[C$h++]=C$l+1,C$a[C$h++]=C$n+1<=C$l+2?1:C$l+2;this.drawTriangles(C$t,C$u,C$c,C$r,C$s,C$a)},C$e.drawTriangles=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l){this._saveToCmd(C$M._context.drawTriangles,[C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o=void 0===C$o?1:C$o,C$h,C$l])},C$e._saveToCmd=function(C$t,C$e){return this._sp&&(this._sp._renderType|=512),null==this._one?(this._one=C$e,this._render=this._renderOne):(this._sp&&(this._sp._renderType&=-2),this._render=this._renderAll,0===(this._cmds||(this._cmds=[])).length&&this._cmds.push(this._one),this._cmds.push(C$e)),C$e.callee=C$t,this._repaint(),C$e},C$e.clipRect=function(C$t,C$e,C$i,C$n){this._saveToCmd(C$M._context._clipRect,[C$t,C$e,C$i,C$n])},C$e.fillText=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){void 0===C$a&&(C$a=0),this._saveToCmd(C$M._context._fillText,[C$t,C$e,C$i,C$n||C$c.defaultFont,C$r,C$s])},C$e.fillBorderText=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){this._saveToCmd(C$M._context._fillBorderText,[C$t,C$e,C$i,C$n||C$c.defaultFont,C$r,C$s,C$a,C$o])},C$e.strokeText=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){this._saveToCmd(C$M._context._strokeText,[C$t,C$e,C$i,C$n||C$c.defaultFont,C$r,C$s,C$a])},C$e.alpha=function(C$t){this._saveToCmd(C$M._context._alpha,[C$t=C$t<0?0:1<C$t?1:C$t])},C$e.setAlpha=function(C$t){this._saveToCmd(C$M._context._setAlpha,[C$t=C$t<0?0:1<C$t?1:C$t])},C$e.transform=function(C$t,C$e,C$i){this._saveToCmd(C$M._context._transform,[C$t,C$e=void 0===C$e?0:C$e,C$i=void 0===C$i?0:C$i])},C$e.rotate=function(C$t,C$e,C$i){this._saveToCmd(C$M._context._rotate,[C$t,C$e=void 0===C$e?0:C$e,C$i=void 0===C$i?0:C$i])},C$e.scale=function(C$t,C$e,C$i,C$n){this._saveToCmd(C$M._context._scale,[C$t,C$e,C$i=void 0===C$i?0:C$i,C$n=void 0===C$n?0:C$n])},C$e.translate=function(C$t,C$e){this._saveToCmd(C$M._context._translate,[C$t,C$e])},C$e.save=function(){this._saveToCmd(C$M._context._save,[])},C$e.restore=function(){this._saveToCmd(C$M._context._restore,[])},C$e.replaceText=function(C$t){this._repaint();var C$e=this._cmds;if(C$e){for(var C$i=C$e.length-1;-1<C$i;C$i--)if(this._isTextCmd(C$e[C$i].callee))return C$e[C$i][0].toUpperCase?C$e[C$i][0]=C$t:C$e[C$i][0].setText(C$t),!0}else if(this._one&&this._isTextCmd(this._one.callee))return this._one[0].toUpperCase?this._one[0]=C$t:this._one[0].setText(C$t),!0;return!1},C$e._isTextCmd=function(C$t){return C$t===C$M._context._fillText||C$t===C$M._context._fillBorderText||C$t===C$M._context._strokeText},C$e.replaceTextColor=function(C$t){this._repaint();var C$e=this._cmds;if(C$e)for(var C$i=C$e.length-1;-1<C$i;C$i--)this._isTextCmd(C$e[C$i].callee)&&(C$e[C$i][4]=C$t,C$e[C$i][0].toUpperCase||(C$e[C$i][0].changed=!0));else this._one&&this._isTextCmd(this._one.callee)&&(this._one[4]=C$t,this._one[0].toUpperCase||(this._one[0].changed=!0))},C$e.loadImage=function(C$t,C$e,C$i,C$n,C$r,C$s){var C$a=this;void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0),void 0===C$n&&(C$n=0),void 0===C$r&&(C$r=0);var C$o=C$ht.getRes(C$t);function t6cd8g(C$t){C$t&&(C$a.drawTexture(C$t,C$e,C$i,C$n,C$r),null!=C$s&&C$s.call(C$a._sp,C$t))}C$o?t6cd8g(C$o):C$b.loader.load(C$t,C$g.create(null,t6cd8g),null,"image")},C$e._renderEmpty=function(C$t,C$e,C$i,C$n){},C$e._renderAll=function(C$t,C$e,C$i,C$n){for(var C$r,C$s=this._cmds,C$a=0,C$o=C$s.length;C$a<C$o;C$a++)(C$r=C$s[C$a]).callee.call(C$e,C$i,C$n,C$r)},C$e._renderOne=function(C$t,C$e,C$i,C$n){this._one.callee.call(C$e,C$i,C$n,this._one)},C$e._renderOneImg=function(C$t,C$e,C$i,C$n){this._one.callee.call(C$e,C$i,C$n,this._one),2305!==C$t._renderType&&(C$t._renderType|=1)},C$e.drawLine=function(C$t,C$e,C$i,C$n,C$r,C$s){void 0===C$s&&(C$s=1);var C$a=0;C$M.isWebGL&&(C$a=C$J.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$a));var C$o=C$s%2==0?0:.5;this._saveToCmd(C$M._context._drawLine,[C$t+C$o,C$e+C$o,C$i+C$o,C$n+C$o,C$r,C$s,C$a])},C$e.drawLines=function(C$t,C$e,C$i,C$n,C$r){void 0===C$r&&(C$r=1);var C$s=0;!C$i||C$i.length<4||(C$M.isWebGL&&(C$s=C$J.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$s)),this._saveToCmd(C$M._context._drawLines,[C$t+(C$t=C$r%2==0?0:.5),C$e+C$t,C$i,C$n,C$r,C$s]))},C$e.drawCurves=function(C$t,C$e,C$i,C$n,C$r){this._saveToCmd(C$M._context._drawCurves,[C$t,C$e,C$i,C$n,C$r=void 0===C$r?1:C$r])},C$e.drawRect=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){void 0===C$a&&(C$a=1);var C$o=C$s?C$a/2:0,C$h=C$s?C$a:0;this._saveToCmd(C$M._context._drawRect,[C$t+C$o,C$e+C$o,C$i-C$h,C$n-C$h,C$r,C$s,C$a])},C$e.drawCircle=function(C$t,C$e,C$i,C$n,C$r,C$s){void 0===C$s&&(C$s=1);var C$a=C$r?C$s/2:0,C$o=0;C$M.isWebGL&&(C$o=C$J.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$o)),this._saveToCmd(C$M._context._drawCircle,[C$t,C$e,C$i-C$a,C$n,C$r,C$s,C$o])},C$e.drawPie=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){void 0===C$o&&(C$o=1);var C$h=C$a?C$o/2:0,C$u=C$a?C$o:0,C$l=0;C$M.isWebGL&&(C$l=C$J.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$l));C$t=[C$t+C$h,C$e+C$h,C$i-C$u,C$n,C$r,C$s,C$a,C$o,C$l];C$t[3]=C$Q.toRadian(C$n),C$t[4]=C$Q.toRadian(C$r),this._saveToCmd(C$M._context._drawPie,C$t)},C$e.drawPoly=function(C$t,C$e,C$i,C$n,C$r,C$s){void 0===C$s&&(C$s=1);var C$a=0,C$o=!1;C$M.isWebGL&&(C$a=C$J.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$a),C$o=!(6<C$i.length));var C$h=!C$r||C$s%2==0?0:.5;this._saveToCmd(C$M._context._drawPoly,[C$t+C$h,C$e+C$h,C$i,C$n,C$r,C$s,C$a,C$o])},C$e.drawPath=function(C$t,C$e,C$i,C$n,C$r){this._saveToCmd(C$M._context._drawPath,[C$t,C$e,C$i,C$n,C$r])},C$t(0,C$e,"cmds",function(){return this._cmds},function(C$t){this._sp&&(this._sp._renderType|=512),this._cmds=C$t,this._render=this._renderAll,this._repaint()}),tpezch.__init__=function(){if(C$M.isConchNode){for(var C$t=laya.display.Graphics.prototype,C$e=C$S.window.ConchGraphics.prototype,C$i=["clear","destroy","alpha","rotate","transform","scale","translate","save","restore","clipRect","blendMode","fillText","fillBorderText","_fands","drawRect","drawCircle","drawPie","drawPoly","drawPath","drawImageM","drawLine","drawLines","_drawPs","drawCurves","replaceText","replaceTextColor","_fillImage","fillTexture","setSkinMesh","drawParticle","drawImageS"],C$n=0,C$r=C$i.length;C$n<=C$r;C$n++){var C$s=C$i[C$n];C$t[C$s]=C$e[C$s]}C$t._saveToCmd=null,C$e.drawImageS&&(C$t.drawTextures=function(C$t,C$e){var C$i,C$n,C$r;C$t&&C$t.loaded&&C$t.bitmap&&C$t.source&&(C$i=C$t.uv,C$n=C$t.bitmap.width,C$r=C$t.bitmap.height,this.drawImageS(C$t.bitmap.source,C$i[0]*C$n,C$i[1]*C$r,(C$i[2]-C$i[0])*C$n,(C$i[5]-C$i[3])*C$r,C$t.offsetX,C$t.offsetY,C$t.width,C$t.height,C$e))}),C$t.drawTexture=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){var C$o,C$h,C$l;void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0),void 0===C$n&&(C$n=0),void 0===C$r&&(C$r=0),void 0===C$a&&(C$a=1),C$t&&(C$t.loaded?C$t.loaded&&C$t.bitmap&&C$t.source&&(C$n=C$n||C$t.sourceWidth,C$r=C$r||C$t.sourceHeight,C$a=C$a<0?0:1<C$a?1:C$a,C$n=C$n-C$t.sourceWidth+C$t.width,C$r=C$r-C$t.sourceHeight+C$t.height,!(C$n<=0||C$r<=0))&&(C$e+=C$t.offsetX,C$i+=C$t.offsetY,C$o=C$t.uv,C$h=C$t.bitmap.width,C$l=C$t.bitmap.height,C$o[4]<C$o[0]&&C$o[5]<C$o[1]?this.drawImageM(C$t.bitmap.source,C$o[4]*C$h,C$o[5]*C$l,(C$o[0]-C$o[4])*C$h,(C$o[1]-C$o[5])*C$l,C$e,C$i,C$n,C$r,C$s,C$a):this.drawImageM(C$t.bitmap.source,C$o[0]*C$h,C$o[1]*C$l,(C$o[2]-C$o[0])*C$h,(C$o[5]-C$o[3])*C$l,C$e,C$i,C$n,C$r,C$s,C$a),this._repaint()):C$t.once("loaded",this,function(){this.drawTexture(C$t,C$e,C$i,C$n,C$r,C$s)}))},C$t.fillTexture=function(C$t,C$e,C$u,C$i,C$n,C$r,C$s){var C$a,C$o,C$h,C$l;void 0===C$i&&(C$i=0),void 0===C$n&&(C$n=0),void 0===C$r&&(C$r="repeat"),C$t&&C$t.loaded&&(C$a=C$M._context.ctx,C$o=C$t.bitmap.width,C$l=C$t.bitmap.height,C$h=C$t.uv,C$o=C$t.uv!=C$ut.DEF_UV?C$a.createPattern(C$t.bitmap.source,C$r,C$h[0]*C$o,C$h[1]*C$l,(C$h[2]-C$h[0])*C$o,(C$h[5]-C$h[3])*C$l):C$a.createPattern(C$t.bitmap.source,C$r),C$l=C$h=0,C$s&&(C$e+=C$s.x%C$t.width,C$u+=C$s.y%C$t.height,C$h-=C$s.x%C$t.width,C$l-=C$s.y%C$t.height),this._fillImage(C$o,C$e,C$u,C$h,C$l,C$i,C$n))}}},tpezch._cache=[],tpezch),C$f=(C$o(dck6g,"laya.display.GraphicsBounds"),(C$e=dck6g.prototype).destroy=function(){this._graphics=null,this._temp=null,this._rstBoundPoints=null,this._bounds=null},C$e.reset=function(){this._temp&&(this._temp.length=0)},C$e.getBounds=function(C$t){return void 0===C$t&&(C$t=!1),this._bounds&&this._temp&&!(this._temp.length<1)&&C$t==this._cacheBoundsType||(this._bounds=C$P._getWrapRec(this.getBoundPoints(C$t),this._bounds)),this._cacheBoundsType=C$t,this._bounds},C$e.getBoundPoints=function(C$t){return void 0===C$t&&(C$t=!1),(!this._temp||this._temp.length<1||C$t!=this._cacheBoundsType)&&(this._temp=this._getCmdPoints(C$t)),this._cacheBoundsType=C$t,this._rstBoundPoints=C$Q.copyArray(this._rstBoundPoints,this._temp)},C$e._getCmdPoints=function(C$u){void 0===C$u&&(C$u=!1);var C$t,C$c,C$e=C$M._context,C$_=this._graphics.cmds;if((C$t=this._temp||(this._temp=[])).length=0,C$_||null==this._graphics._one||(dck6g._tempCmds.length=0,dck6g._tempCmds.push(this._graphics._one),C$_=dck6g._tempCmds),!C$_)return C$t;(C$c=dck6g._tempMatrixArrays).length=0;var C$i=dck6g._initMatrix;C$i.identity();for(var C$n,C$r,C$s=dck6g._tempMatrix,C$a=NaN,C$o=NaN,C$d=NaN,C$f=NaN,C$h=NaN,C$p=NaN,C$m=0,C$g=C$_.length;C$m<C$g;C$m++)if((C$n=C$_[C$m]).callee)switch(C$n.callee){case C$e._save:case 7:C$c.push(C$i),C$i=C$i.clone();break;case C$e._restore:case 8:C$i=C$c.pop();break;case C$e._scale:case 5:C$s.identity(),C$s.translate(-C$n[2],-C$n[3]),C$s.scale(C$n[0],C$n[1]),C$s.translate(C$n[2],C$n[3]),this._switchMatrix(C$i,C$s);break;case C$e._rotate:case 3:C$s.identity(),C$s.translate(-C$n[1],-C$n[2]),C$s.rotate(C$n[0]),C$s.translate(C$n[1],C$n[2]),this._switchMatrix(C$i,C$s);break;case C$e._translate:case 6:C$s.identity(),C$s.translate(C$n[0],C$n[1]),this._switchMatrix(C$i,C$s);break;case C$e._transform:case 4:C$s.identity(),C$s.translate(-C$n[1],-C$n[2]),C$s.concat(C$n[0]),C$s.translate(C$n[1],C$n[2]),this._switchMatrix(C$i,C$s);break;case 16:case 24:dck6g._addPointArrToRst(C$t,C$P._getBoundPointS(C$n[0],C$n[1],C$n[2],C$n[3]),C$i);break;case 17:C$i.copyTo(C$s),C$s.concat(C$n[4]),dck6g._addPointArrToRst(C$t,C$P._getBoundPointS(C$n[0],C$n[1],C$n[2],C$n[3]),C$s);break;case C$e._drawTexture:C$r=C$n[0],C$u?C$n[3]&&C$n[4]?dck6g._addPointArrToRst(C$t,C$P._getBoundPointS(C$n[1],C$n[2],C$n[3],C$n[4]),C$i):(C$r=C$n[0],dck6g._addPointArrToRst(C$t,C$P._getBoundPointS(C$n[1],C$n[2],C$r.width,C$r.height),C$i)):(C$a=(C$n[3]||C$r.sourceWidth)/C$r.width,C$o=(C$n[4]||C$r.sourceHeight)/C$r.height,C$d=C$a*C$r.sourceWidth,C$f=C$o*C$r.sourceHeight,C$h=0<C$r.offsetX?C$r.offsetX:0,C$p=0<C$r.offsetY?C$r.offsetY:0,C$h*=C$a,C$p*=C$o,dck6g._addPointArrToRst(C$t,C$P._getBoundPointS(C$n[1]-C$h,C$n[2]-C$p,C$d,C$f),C$i));break;case C$e._fillTexture:C$n[3]&&C$n[4]?dck6g._addPointArrToRst(C$t,C$P._getBoundPointS(C$n[1],C$n[2],C$n[3],C$n[4]),C$i):(C$r=C$n[0],dck6g._addPointArrToRst(C$t,C$P._getBoundPointS(C$n[1],C$n[2],C$r.width,C$r.height),C$i));break;case C$e._drawTextureWithTransform:C$l=C$n[5]?(C$i.copyTo(C$s),C$s.concat(C$n[5]),C$s):C$i,C$u?C$n[3]&&C$n[4]?dck6g._addPointArrToRst(C$t,C$P._getBoundPointS(C$n[1],C$n[2],C$n[3],C$n[4]),C$l):(C$r=C$n[0],dck6g._addPointArrToRst(C$t,C$P._getBoundPointS(C$n[1],C$n[2],C$r.width,C$r.height),C$l)):(C$r=C$n[0],C$a=(C$n[3]||C$r.sourceWidth)/C$r.width,C$o=(C$n[4]||C$r.sourceHeight)/C$r.height,C$d=C$a*C$r.sourceWidth,C$f=C$o*C$r.sourceHeight,C$h=0<C$r.offsetX?C$r.offsetX:0,C$p=0<C$r.offsetY?C$r.offsetY:0,C$h*=C$a,C$p*=C$o,dck6g._addPointArrToRst(C$t,C$P._getBoundPointS(C$n[1]-C$h,C$n[2]-C$p,C$d,C$f),C$l));break;case C$e._drawRect:case 13:dck6g._addPointArrToRst(C$t,C$P._getBoundPointS(C$n[0],C$n[1],C$n[2],C$n[3]),C$i);break;case C$e._drawCircle:case C$e._fillCircle:case 14:dck6g._addPointArrToRst(C$t,C$P._getBoundPointS(C$n[0]-C$n[2],C$n[1]-C$n[2],C$n[2]+C$n[2],C$n[2]+C$n[2]),C$i);break;case C$e._drawLine:case 20:var C$l;dck6g._tempPoints.length=0,C$l=.5*C$n[5],C$n[0]==C$n[2]?dck6g._tempPoints.push(C$n[0]+C$l,C$n[1],C$n[2]+C$l,C$n[3],C$n[0]-C$l,C$n[1],C$n[2]-C$l,C$n[3]):C$n[1]==C$n[3]?dck6g._tempPoints.push(C$n[0],C$n[1]+C$l,C$n[2],C$n[3]+C$l,C$n[0],C$n[1]-C$l,C$n[2],C$n[3]-C$l):dck6g._tempPoints.push(C$n[0],C$n[1],C$n[2],C$n[3]),dck6g._addPointArrToRst(C$t,dck6g._tempPoints,C$i);break;case C$e._drawCurves:case 22:dck6g._addPointArrToRst(C$t,C$D.I.getBezierPoints(C$n[2]),C$i,C$n[0],C$n[1]);break;case C$e._drawPoly:case C$e._drawLines:case 18:dck6g._addPointArrToRst(C$t,C$n[2],C$i,C$n[0],C$n[1]);break;case C$e._drawPath:case 19:dck6g._addPointArrToRst(C$t,this._getPathPoints(C$n[2]),C$i,C$n[0],C$n[1]);break;case C$e._drawPie:case 15:dck6g._addPointArrToRst(C$t,this._getPiePoints(C$n[0],C$n[1],C$n[2],C$n[3],C$n[4]),C$i)}return 200<C$t.length?C$t=C$Q.copyArray(C$t,C$P._getWrapRec(C$t)._getBoundPoints()):8<C$t.length&&(C$t=C$E.scanPList(C$t)),C$t},C$e._switchMatrix=function(C$t,C$e){C$e.concat(C$t),C$e.copyTo(C$t)},C$e._getPiePoints=function(C$t,C$e,C$i,C$n,C$r){var C$s=dck6g._tempPoints;dck6g._tempPoints.length=0,C$s.push(C$t,C$e);var C$a=(C$r-C$n)%(2*Math.PI)/10,C$o=NaN,C$h=C$n;for(C$o=0;C$o<=10;C$o++)C$s.push(C$t+C$i*Math.cos(C$h),C$e+C$i*Math.sin(C$h)),C$h+=C$a;return C$s},C$e._getPathPoints=function(C$t){var C$e,C$i,C$n=0,C$r=dck6g._tempPoints;for(C$r.length=0,C$e=C$t.length,C$n=0;C$n<C$e;C$n++)1<(C$i=C$t[C$n]).length&&(C$r.push(C$i[1],C$i[2]),3<C$i.length&&C$r.push(C$i[3],C$i[4]));return C$r},dck6g._addPointArrToRst=function(C$t,C$e,C$i,C$n,C$r){void 0===C$n&&(C$n=0),void 0===C$r&&(C$r=0);var C$s,C$a=0;for(C$s=C$e.length,C$a=0;C$a<C$s;C$a+=2)dck6g._addPointToRst(C$t,C$e[C$a]+C$n,C$e[C$a+1]+C$r,C$i)},dck6g._addPointToRst=function(C$t,C$e,C$i,C$n){var C$r=C$R.TEMP;C$r.setTo(C$e||0,C$i||0),C$n.transformPoint(C$r),C$t.push(C$r.x,C$r.y)},dck6g._tempPoints=[],dck6g._tempMatrixArrays=[],dck6g._tempCmds=[],C$a(dck6g,["_tempMatrix",function(){return this._tempMatrix=new C$I},"_initMatrix",function(){return this._initMatrix=new C$I}]),dck6g),C$p=(C$o(nx7vij,"laya.events.Event"),(C$e=nx7vij.prototype).setTo=function(C$t,C$e,C$i){return this.type=C$t,this.currentTarget=C$e,this.target=C$i,this},C$e.stopPropagation=function(){this._stoped=!0},C$t(0,C$e,"stageY",function(){return C$b.stage.mouseY}),C$t(0,C$e,"charCode",function(){return this.nativeEvent.charCode}),C$t(0,C$e,"touches",function(){var C$t=this.nativeEvent.touches;if(C$t)for(var C$e=C$b.stage,C$i=0,C$n=C$t.length;C$i<C$n;C$i++){var C$r=C$t[C$i],C$s=C$R.TEMP;C$s.setTo(C$r.clientX,C$r.clientY),C$e._canvasTransform.invertTransformPoint(C$s),C$e.transform.invertTransformPoint(C$s),C$r.stageX=C$s.x,C$r.stageY=C$s.y}return C$t}),C$t(0,C$e,"keyLocation",function(){return this.nativeEvent.keyLocation}),C$t(0,C$e,"ctrlKey",function(){return this.nativeEvent.ctrlKey}),C$t(0,C$e,"altKey",function(){return this.nativeEvent.altKey}),C$t(0,C$e,"shiftKey",function(){return this.nativeEvent.shiftKey}),C$t(0,C$e,"stageX",function(){return C$b.stage.mouseX}),nx7vij.EMPTY=new nx7vij,nx7vij.MOUSE_DOWN="mousedown",nx7vij.MOUSE_UP="mouseup",nx7vij.CLICK="click",nx7vij.RIGHT_MOUSE_DOWN="rightmousedown",nx7vij.RIGHT_MOUSE_UP="rightmouseup",nx7vij.RIGHT_CLICK="rightclick",nx7vij.MOUSE_MOVE="mousemove",nx7vij.MOUSE_OVER="mouseover",nx7vij.MOUSE_OUT="mouseout",nx7vij.MOUSE_WHEEL="mousewheel",nx7vij.ROLL_OVER="mouseover",nx7vij.ROLL_OUT="mouseout",nx7vij.DOUBLE_CLICK="doubleclick",nx7vij.CHANGE="change",nx7vij.CHANGED="changed",nx7vij.RESIZE="resize",nx7vij.ADDED="added",nx7vij.REMOVED="removed",nx7vij.DISPLAY="display",nx7vij.UNDISPLAY="undisplay",nx7vij.ERROR="error",nx7vij.COMPLETE="complete",nx7vij.LOADED="loaded",nx7vij.INITED="inited",nx7vij.PROGRESS="progress",nx7vij.INPUT="input",nx7vij.RENDER="render",nx7vij.OPEN="open",nx7vij.MESSAGE="message",nx7vij.CLOSE="close",nx7vij.KEY_DOWN="keydown",nx7vij.KEY_PRESS="keypress",nx7vij.KEY_UP="keyup",nx7vij.FRAME="enterframe",nx7vij.DRAG_START="dragstart",nx7vij.DRAG_MOVE="dragmove",nx7vij.DRAG_END="dragend",nx7vij.ENTER="enter",nx7vij.SELECT="select",nx7vij.BLUR="blur",nx7vij.FOCUS="focus",nx7vij.VISIBILITY_CHANGE="visibilitychange",nx7vij.FOCUS_CHANGE="focuschange",nx7vij.PLAYED="played",nx7vij.PAUSED="paused",nx7vij.STOPPED="stopped",nx7vij.START="start",nx7vij.END="end",nx7vij.ENABLE_CHANGED="enablechanged",nx7vij.ACTIVE_IN_HIERARCHY_CHANGED="activeinhierarchychanged",nx7vij.COMPONENT_ADDED="componentadded",nx7vij.COMPONENT_REMOVED="componentremoved",nx7vij.LAYER_CHANGED="layerchanged",nx7vij.HIERARCHY_LOADED="hierarchyloaded",nx7vij.RECOVERED="recovered",nx7vij.RELEASED="released",nx7vij.LINK="link",nx7vij.LABEL="label",nx7vij.FULL_SCREEN_CHANGE="fullscreenchange",nx7vij.DEVICE_LOST="devicelost",nx7vij.MESH_CHANGED="meshchanged",nx7vij.MATERIAL_CHANGED="materialchanged",nx7vij.WORLDMATRIX_NEEDCHANGE="worldmatrixneedchanged",nx7vij.ANIMATION_CHANGED="animationchanged",nx7vij.TRIGGER_ENTER="triggerenter",nx7vij.TRIGGER_STAY="triggerstay",nx7vij.TRIGGER_EXIT="triggerexit",nx7vij.TRAIL_FILTER_CHANGE="trailfilterchange",nx7vij.DOMINO_FILTER_CHANGE="dominofilterchange",nx7vij),C$x=(C$o(m3au,"laya.events.Keyboard"),m3au.NUMBER_0=48,m3au.NUMBER_1=49,m3au.NUMBER_2=50,m3au.NUMBER_3=51,m3au.NUMBER_4=52,m3au.NUMBER_5=53,m3au.NUMBER_6=54,m3au.NUMBER_7=55,m3au.NUMBER_8=56,m3au.NUMBER_9=57,m3au.A=65,m3au.B=66,m3au.C=67,m3au.D=68,m3au.E=69,m3au.F=70,m3au.G=71,m3au.H=72,m3au.I=73,m3au.J=74,m3au.K=75,m3au.L=76,m3au.M=77,m3au.N=78,m3au.O=79,m3au.P=80,m3au.Q=81,m3au.R=82,m3au.S=83,m3au.T=84,m3au.U=85,m3au.V=86,m3au.W=87,m3au.X=88,m3au.Y=89,m3au.Z=90,m3au.F1=112,m3au.F2=113,m3au.F3=114,m3au.F4=115,m3au.F5=116,m3au.F6=117,m3au.F7=118,m3au.F8=119,m3au.F9=120,m3au.F10=121,m3au.F11=122,m3au.F12=123,m3au.F13=124,m3au.F14=125,m3au.F15=126,m3au.NUMPAD=21,m3au.NUMPAD_0=96,m3au.NUMPAD_1=97,m3au.NUMPAD_2=98,m3au.NUMPAD_3=99,m3au.NUMPAD_4=100,m3au.NUMPAD_5=101,m3au.NUMPAD_6=102,m3au.NUMPAD_7=103,m3au.NUMPAD_8=104,m3au.NUMPAD_9=105,m3au.NUMPAD_ADD=107,m3au.NUMPAD_DECIMAL=110,m3au.NUMPAD_DIVIDE=111,m3au.NUMPAD_ENTER=108,m3au.NUMPAD_MULTIPLY=106,m3au.NUMPAD_SUBTRACT=109,m3au.SEMICOLON=186,m3au.EQUAL=187,m3au.COMMA=188,m3au.MINUS=189,m3au.PERIOD=190,m3au.SLASH=191,m3au.BACKQUOTE=192,m3au.LEFTBRACKET=219,m3au.BACKSLASH=220,m3au.RIGHTBRACKET=221,m3au.QUOTE=222,m3au.ALTERNATE=18,m3au.BACKSPACE=8,m3au.CAPS_LOCK=20,m3au.COMMAND=15,m3au.CONTROL=17,m3au.DELETE=46,m3au.ENTER=13,m3au.ESCAPE=27,m3au.PAGE_UP=33,m3au.PAGE_DOWN=34,m3au.END=35,m3au.HOME=36,m3au.LEFT=37,m3au.UP=38,m3au.RIGHT=39,m3au.DOWN=40,m3au.SHIFT=16,m3au.SPACE=32,m3au.TAB=9,m3au.INSERT=45,C$o(y05obq,"laya.events.KeyBoardManager"),y05obq.__init__=function(){y05obq._addEvent("keydown"),y05obq._addEvent("keypress"),y05obq._addEvent("keyup")},y05obq._addEvent=function(C$e){C$S.document.addEventListener(C$e,function(C$t){laya.events.KeyBoardManager._dispatch(C$t,C$e)},!0)},y05obq._dispatch=function(C$t,C$e){if(y05obq.enabled){y05obq._event._stoped=!1,y05obq._event.nativeEvent=C$t,y05obq._event.keyCode=C$t.keyCode||C$t.which||C$t.charCode,"keydown"===C$e?y05obq._pressKeys[y05obq._event.keyCode]=!0:"keyup"===C$e&&(y05obq._pressKeys[y05obq._event.keyCode]=null);for(var C$i=C$b.stage.focus&&null!=C$b.stage.focus.event&&C$b.stage.focus.displayedInStage?C$b.stage.focus:C$b.stage,C$n=C$i;C$n;)C$n.event(C$e,y05obq._event.setTo(C$e,C$n,C$i)),C$n=C$n.parent}},y05obq.hasKeyDown=function(C$t){return y05obq._pressKeys[C$t]},y05obq._pressKeys={},y05obq.enabled=!0,C$a(y05obq,["_event",function(){return this._event=new C$p}]),y05obq),C$y=(C$o(roy5bq,"laya.events.KeyLocation"),roy5bq.STANDARD=0,roy5bq.LEFT=1,roy5bq.RIGHT=2,roy5bq.NUM_PAD=3,C$o(okq5b0,"laya.events.MouseManager"),(C$e=okq5b0.prototype).__init__=function(C$t,C$e){var C$i=this;this._stage=C$t;var C$n=this,C$r=this._eventList;C$e.oncontextmenu=function(C$t){if(okq5b0.enabled)return!1},C$e.addEventListener("mousedown",function(C$t){okq5b0.enabled&&(C$S.onIE||C$t.preventDefault(),C$r.push(C$t),C$n.mouseDownTime=C$S.now())}),C$e.addEventListener("mouseup",function(C$t){okq5b0.enabled&&(C$t.preventDefault(),C$r.push(C$t),C$n.mouseDownTime=-C$S.now())},!0),C$e.addEventListener("mousemove",function(C$t){var C$e;okq5b0.enabled&&(C$t.preventDefault(),(C$e=C$S.now())-C$n._lastMoveTimer<10||(C$n._lastMoveTimer=C$e,C$r.push(C$t)))},!0),C$e.addEventListener("mouseout",function(C$t){okq5b0.enabled&&C$r.push(C$t)}),C$e.addEventListener("mouseover",function(C$t){okq5b0.enabled&&C$r.push(C$t)}),C$e.addEventListener("touchstart",function(C$t){okq5b0.enabled&&(C$r.push(C$t),okq5b0._isFirstTouch||C$xt.isInputting||C$t.preventDefault(),C$n.mouseDownTime=C$S.now())}),C$e.addEventListener("touchend",function(C$t){okq5b0.enabled?(okq5b0._isFirstTouch||C$xt.isInputting||C$t.preventDefault(),okq5b0._isFirstTouch=!1,C$r.push(C$t),C$n.mouseDownTime=-C$S.now()):C$i._curTouchID=NaN},!0),C$e.addEventListener("touchmove",function(C$t){okq5b0.enabled&&(C$t.preventDefault(),C$r.push(C$t))},!0),C$e.addEventListener("touchcancel",function(C$t){okq5b0.enabled?(C$t.preventDefault(),C$r.push(C$t)):C$i._curTouchID=NaN},!0),C$e.addEventListener("mousewheel",function(C$t){okq5b0.enabled&&C$r.push(C$t)}),C$e.addEventListener("DOMMouseScroll",function(C$t){okq5b0.enabled&&C$r.push(C$t)})},C$e.initEvent=function(C$t,C$e){this._event._stoped=!1,this._event.nativeEvent=C$e||C$t,this._target=null,this._point.setTo(C$t.pageX||C$t.clientX,C$t.pageY||C$t.clientY),this._stage._canvasTransform.invertTransformPoint(this._point),this.mouseX=this._point.x,this.mouseY=this._point.y,this._event.touchId=C$t.identifier||0,this._tTouchID=this._event.touchId,(C$e=C$w.I._event)._stoped=!1,C$e.nativeEvent=this._event.nativeEvent,C$e.touchId=this._event.touchId},C$e.checkMouseWheel=function(C$t){this._event.delta=C$t.wheelDelta?.025*C$t.wheelDelta:-C$t.detail;for(var C$e=C$w.I.getLastOvers(),C$i=0,C$n=C$e.length;C$i<C$n;C$i++){var C$r=C$e[C$i];C$r.event("mousewheel",this._event.setTo("mousewheel",C$r,this._target))}},C$e.onMouseMove=function(C$t){C$w.I.onMouseMove(C$t,this._tTouchID)},C$e.onMouseDown=function(C$t){var C$e,C$i;C$xt.isInputting&&C$b.stage.focus&&C$b.stage.focus.focus&&!C$b.stage.focus.contains(this._target)&&(C$e=C$b.stage.focus._tf||C$b.stage.focus,(C$i=C$t._tf||C$t)instanceof laya.display.Input&&C$i.multiline==C$e.multiline?C$e._focusOut():C$e.focus=!1),C$w.I.onMouseDown(C$t,this._tTouchID,this._isLeftMouse)},C$e.onMouseUp=function(C$t){C$w.I.onMouseUp(C$t,this._tTouchID,this._isLeftMouse)},C$e.check=function(C$t,C$e,C$i,C$n){this._point.setTo(C$e,C$i),C$t.fromParentPoint(this._point),C$e=this._point.x,C$i=this._point.y;var C$r=C$t.scrollRect;if(C$r&&(this._rect.setTo(C$r.x,C$r.y,C$r.width,C$r.height),!this._rect.contains(C$e,C$i)))return!1;if(!this.disableMouseEvent){if(C$t.hitTestPrior&&!C$t.mouseThrough&&!this.hitTest(C$t,C$e,C$i))return!1;for(var C$s=C$t._childs.length-1;-1<C$s;C$s--){var C$a=C$t._childs[C$s];if(!C$a.destroyed&&C$a.mouseEnabled&&C$a.visible&&this.check(C$a,C$e,C$i,C$n))return!0}}C$r=!(!C$t.hitTestPrior||C$t.mouseThrough||this.disableMouseEvent)||this.hitTest(C$t,C$e,C$i);return C$r?(this._target=C$t,C$n.call(this,C$t)):C$n===this.onMouseUp&&C$t===this._stage&&(this._target=this._stage,C$n.call(this,this._target)),C$r},C$e.hitTest=function(C$t,C$e,C$i){var C$n=!1;return C$t.scrollRect&&(C$e-=C$t.scrollRect.x,C$i-=C$t.scrollRect.y),C$t.hitArea instanceof laya.utils.HitArea?C$t.hitArea.isHit(C$e,C$i):0<C$t.width&&0<C$t.height||C$t.mouseThrough||C$t.hitArea?C$t.mouseThrough?C$t.getGraphicBounds().contains(C$e,C$i):(C$r=this._rect,C$t.hitArea?C$r=C$t.hitArea:C$r.setTo(0,0,C$t.width,C$t.height),C$r.contains(C$e,C$i)):C$n;var C$r},C$e.runEvent=function(){var C$t=this._eventList.length;if(C$t){this.mouseEventTime=C$S.now();var C$e,C$i=0,C$n=0,C$r=0;try{for(;C$i<C$t;){var C$s=this._eventList[C$i];switch("mousemove"!==C$s.type&&(this._prePoint.x=this._prePoint.y=-1e6),C$s.type){case"mousedown":this._touchIDs[0]=this._id++,okq5b0._isTouchRespond?okq5b0._isTouchRespond=!1:(this._isLeftMouse=0===C$s.button,this.initEvent(C$s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseDown));break;case"mouseup":this._isLeftMouse=0===C$s.button,this.initEvent(C$s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseUp);break;case"mousemove":Math.abs(this._prePoint.x-C$s.clientX)+Math.abs(this._prePoint.y-C$s.clientY)>=this.mouseMoveAccuracy&&(this._prePoint.x=C$s.clientX,this._prePoint.y=C$s.clientY,this.initEvent(C$s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseMove));break;case"touchstart":okq5b0._isTouchRespond=!0,this._isLeftMouse=!0;var C$a=C$s.changedTouches;for(C$n=0,C$r=C$a.length;C$n<C$r;C$n++)C$e=C$a[C$n],(okq5b0.multiTouchEnabled||isNaN(this._curTouchID))&&(this._curTouchID=C$e.identifier,this._id%200==0&&(this._touchIDs={}),this._touchIDs[C$e.identifier]=this._id++,this.initEvent(C$e,C$s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseDown));break;case"touchend":case"touchcancel":okq5b0._isTouchRespond=!0,this._isLeftMouse=!0;var C$o=C$s.changedTouches;for(C$n=0,C$r=C$o.length;C$n<C$r;C$n++)C$e=C$o[C$n],!okq5b0.multiTouchEnabled&&C$e.identifier!=this._curTouchID||(this._curTouchID=NaN,this.initEvent(C$e,C$s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseUp)||this.onMouseUp(null));break;case"touchmove":var C$h=C$s.changedTouches;for(C$n=0,C$r=C$h.length;C$n<C$r;C$n++)C$e=C$h[C$n],!okq5b0.multiTouchEnabled&&C$e.identifier!=this._curTouchID||(this.initEvent(C$e,C$s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseMove));break;case"wheel":case"mousewheel":case"DOMMouseScroll":this.checkMouseWheel(C$s);break;case"mouseout":C$w.I.stageMouseOut();break;case"mouseover":this._stage.event("mouseover",this._event.setTo("mouseover",this._stage,this._stage))}C$i++}}catch(C$t){throw this._eventList.length=0,C$t}this._eventList.length=0}},okq5b0.enabled=!0,okq5b0.multiTouchEnabled=!0,okq5b0._isTouchRespond=!1,okq5b0._isFirstTouch=!0,C$a(okq5b0,["instance",function(){return this.instance=new okq5b0}]),okq5b0),C$w=(C$o(gc6d8k,"laya.events.TouchManager"),(C$e=gc6d8k.prototype)._clearTempArrs=function(){gc6d8k._oldArr.length=0,gc6d8k._newArr.length=0,gc6d8k._tEleArr.length=0},C$e.getTouchFromArr=function(C$t,C$e){var C$i,C$n,C$r=0;for(C$i=C$e.length,C$r=0;C$r<C$i;C$r++)if((C$n=C$e[C$r]).id==C$t)return C$n;return null},C$e.removeTouchFromArr=function(C$t,C$e){var C$i=0;for(C$i=C$e.length-1;0<=C$i;C$i--)C$e[C$i].id==C$t&&C$e.splice(C$i,1)},C$e.createTouchO=function(C$t,C$e){var C$i;return(C$i=C$X.getItem("TouchData")||{}).id=C$e,C$i.tar=C$t,C$i},C$e.onMouseDown=function(C$t,C$e,C$i){var C$n,C$r,C$s,C$a;void 0===C$i&&(C$i=!1),this.enable&&(C$n=this.getTouchFromArr(C$e,this.preOvers),C$s=this.getEles(C$t,null,gc6d8k._tEleArr),C$n?C$n.tar=C$t:(C$r=this.createTouchO(C$t,C$e),this.preOvers.push(C$r)),C$S.onMobile&&this.sendEvents(C$s,"mouseover",C$e),C$a=C$i?this.preDowns:this.preRightDowns,(C$n=this.getTouchFromArr(C$e,C$a))?C$n.tar=C$t:(C$r=this.createTouchO(C$t,C$e),C$a.push(C$r)),this.sendEvents(C$s,C$i?"mousedown":"rightmousedown",C$e),this._clearTempArrs())},C$e.sendEvents=function(C$t,C$e,C$i){void 0===C$i&&(C$i=0);var C$n,C$r,C$s,C$a=0;for(C$n=C$t.length,this._event._stoped=!1,C$r=C$t[0],C$a=0;C$a<C$n;C$a++){if((C$s=C$t[C$a]).destroyed)return;if(C$s.event(C$e,this._event.setTo(C$e,C$s,C$r)),this._event._stoped)break}},C$e.getEles=function(C$t,C$e,C$i){for(C$i?C$i.length=0:C$i=[];C$t&&C$t!=C$e;)C$i.push(C$t),C$t=C$t.parent;return C$i},C$e.checkMouseOutAndOverOfMove=function(C$t,C$e,C$i){if(void 0===C$i&&(C$i=0),C$e!=C$t){var C$n,C$r,C$s,C$a=0;if(C$e.contains(C$t))C$r=this.getEles(C$t,C$e,gc6d8k._tEleArr),this.sendEvents(C$r,"mouseover",C$i);else if(C$t.contains(C$e))C$r=this.getEles(C$e,C$t,gc6d8k._tEleArr),this.sendEvents(C$r,"mouseout",C$i);else{var C$o,C$h;(C$r=gc6d8k._tEleArr).length=0,C$o=this.getEles(C$e,null,gc6d8k._oldArr),C$h=this.getEles(C$t,null,gc6d8k._newArr),C$s=C$o.length;var C$l;for(C$a=0;C$a<C$s;C$a++){if(C$n=C$o[C$a],0<=(C$l=C$h.indexOf(C$n))){C$h.splice(C$l,C$h.length-C$l);break}C$r.push(C$n)}0<C$r.length&&this.sendEvents(C$r,"mouseout",C$i),0<C$h.length&&this.sendEvents(C$h,"mouseover",C$i)}}},C$e.onMouseMove=function(C$t,C$e){var C$i,C$n;this.enable&&((C$i=this.getTouchFromArr(C$e,this.preOvers))?(this.checkMouseOutAndOverOfMove(C$t,C$i.tar),C$i.tar=C$t,C$n=this.getEles(C$t,null,gc6d8k._tEleArr)):(C$n=this.getEles(C$t,null,gc6d8k._tEleArr),this.sendEvents(C$n,"mouseover",C$e),this.preOvers.push(this.createTouchO(C$t,C$e))),this.sendEvents(C$n,"mousemove",C$e),this._clearTempArrs())},C$e.getLastOvers=function(){return(gc6d8k._tEleArr.length=0)<this.preOvers.length&&this.preOvers[0].tar?this.getEles(this.preOvers[0].tar,null,gc6d8k._tEleArr):(gc6d8k._tEleArr.push(C$b.stage),gc6d8k._tEleArr)},C$e.stageMouseOut=function(){var C$t;C$t=this.getLastOvers(),this.preOvers.length=0,this.sendEvents(C$t,"mouseout",0)},C$e.onMouseUp=function(C$t,C$e,C$i){if(void 0===C$i&&(C$i=!1),this.enable){var C$n,C$r,C$s,C$a,C$o,C$h,C$u,C$l=0,C$c=C$S.onMobile;if(C$r=this.getEles(C$t,null,gc6d8k._tEleArr),this.sendEvents(C$r,C$i?"mouseup":"rightmouseup",C$e),C$h=C$i?this.preDowns:this.preRightDowns,C$n=this.getTouchFromArr(C$e,C$h)){var C$_,C$d=C$S.now();if(C$_=C$d-this._lastClickTime<300,this._lastClickTime=C$d,C$t==C$n.tar)C$o=C$r;else for(C$s=this.getEles(C$n.tar,null,gc6d8k._oldArr),(C$o=gc6d8k._newArr).length=0,C$u=C$s.length,C$l=0;C$l<C$u;C$l++)C$a=C$s[C$l],0<=C$r.indexOf(C$a)&&C$o.push(C$a);0<C$o.length&&this.sendEvents(C$o,C$i?"click":"rightclick",C$e),C$i&&C$_&&this.sendEvents(C$o,"doubleclick",C$e),this.removeTouchFromArr(C$e,C$h),C$n.tar=null,C$X.recover("TouchData",C$n)}(C$n=this.getTouchFromArr(C$e,this.preOvers))&&C$c&&((C$o=this.getEles(C$n.tar,null,C$o))&&0<C$o.length&&this.sendEvents(C$o,"mouseout",C$e),this.removeTouchFromArr(C$e,this.preOvers),C$n.tar=null,C$X.recover("TouchData",C$n)),this._clearTempArrs()}},gc6d8k._oldArr=[],gc6d8k._newArr=[],gc6d8k._tEleArr=[],C$a(gc6d8k,["I",function(){return this.I=new gc6d8k}]),gc6d8k),C$T=(C$o(un1a4,"laya.filters.Filter"),C$e=un1a4.prototype,C$b.imps(C$e,{"laya.filters.IFilter":!0}),C$e.callNative=function(C$t){},C$t(0,C$e,"type",function(){return-1}),C$t(0,C$e,"action",function(){return this._action}),un1a4.BLUR=16,un1a4.COLOR=32,un1a4.GLOW=8,un1a4._filterStart=null,un1a4._filterEnd=null,un1a4._EndTarget=null,un1a4._recycleScope=null,un1a4._filter=null,un1a4._useSrc=null,un1a4._endSrc=null,un1a4._useOut=null,un1a4._endOut=null,un1a4),C$C=(C$o(qyob50,"laya.filters.ColorFilterAction"),C$e=qyob50.prototype,C$b.imps(C$e,{"laya.filters.IFilterAction":!0}),C$e.apply=function(C$t){var C$e=C$t.ctx.ctx,C$i=C$t.ctx.ctx.canvas;if(0==C$i.width||0==C$i.height)return C$i;for(var C$n,C$i=C$e.getImageData(0,0,C$i.width,C$i.height),C$r=C$i.data,C$s=0,C$a=C$r.length;C$s<C$a;C$s+=4)C$n=this.getColor(C$r[C$s],C$r[C$s+1],C$r[C$s+2],C$r[C$s+3]),0!=C$r[C$s+3]&&(C$r[C$s]=C$n[0],C$r[C$s+1]=C$n[1],C$r[C$s+2]=C$n[2],C$r[C$s+3]=C$n[3]);return C$e.putImageData(C$i,0,0),C$t},C$e.getColor=function(C$t,C$e,C$i,C$n){var C$r=[];var C$s,C$a;return this.data._mat&&this.data._alpha&&(C$s=this.data._mat,C$a=this.data._alpha,C$r[0]=C$s[0]*C$t+C$s[1]*C$e+C$s[2]*C$i+C$s[3]*C$n+C$a[0],C$r[1]=C$s[4]*C$t+C$s[5]*C$e+C$s[6]*C$i+C$s[7]*C$n+C$a[1],C$r[2]=C$s[8]*C$t+C$s[9]*C$e+C$s[10]*C$i+C$s[11]*C$n+C$a[2],C$r[3]=C$s[12]*C$t+C$s[13]*C$e+C$s[14]*C$i+C$s[15]*C$n+C$a[3]),C$r},qyob50),C$D=(C$o(hzt6c,"laya.maths.Arith"),hzt6c.formatR=function(C$t){return C$t>Math.PI&&(C$t-=2*Math.PI),C$t<-Math.PI&&(C$t+=2*Math.PI),C$t},hzt6c.isPOT=function(C$t,C$e){return 0<C$t&&0==(C$t&C$t-1)&&0<C$e&&0==(C$e&C$e-1)},hzt6c.setMatToArray=function(C$t,C$e){C$t.a,C$t.b,C$t.c,C$t.d,C$t.tx,C$t.ty,C$e[0]=C$t.a,C$e[1]=C$t.b,C$e[4]=C$t.c,C$e[5]=C$t.d,C$e[12]=C$t.tx,C$e[13]=C$t.ty},C$o(x1n43,"laya.maths.Bezier"),(C$e=x1n43.prototype)._switchPoint=function(C$t,C$e){var C$i=this._controlPoints.shift();C$i.setTo(C$t,C$e),this._controlPoints.push(C$i)},C$e.getPoint2=function(C$t,C$e){var C$i=this._controlPoints[0],C$n=this._controlPoints[1],C$r=this._controlPoints[2],C$s=Math.pow(1-C$t,2)*C$i.x+2*C$t*(1-C$t)*C$n.x+Math.pow(C$t,2)*C$r.x,C$i=Math.pow(1-C$t,2)*C$i.y+2*C$t*(1-C$t)*C$n.y+Math.pow(C$t,2)*C$r.y;C$e.push(C$s,C$i)},C$e.getPoint3=function(C$t,C$e){var C$i=this._controlPoints[0],C$n=this._controlPoints[1],C$r=this._controlPoints[2],C$s=this._controlPoints[3],C$a=Math.pow(1-C$t,3)*C$i.x+3*C$n.x*C$t*(1-C$t)*(1-C$t)+3*C$r.x*C$t*C$t*(1-C$t)+C$s.x*Math.pow(C$t,3),C$i=Math.pow(1-C$t,3)*C$i.y+3*C$n.y*C$t*(1-C$t)*(1-C$t)+3*C$r.y*C$t*C$t*(1-C$t)+C$s.y*Math.pow(C$t,3);C$e.push(C$a,C$i)},C$e.insertPoints=function(C$t,C$e){var C$i,C$n=NaN;for(C$i=1/(C$t=0<C$t?C$t:5),C$n=0;C$n<=1;C$n+=C$i)this._calFun(C$n,C$e)},C$e.getBezierPoints=function(C$t,C$e,C$i){void 0===C$e&&(C$e=5);var C$n,C$r,C$s=0;if((C$n=C$t.length)<2*((C$i=void 0===C$i?2:C$i)+1))return[];switch(C$r=[],C$i){case 2:this._calFun=this.getPoint2;break;case 3:this._calFun=this.getPoint3;break;default:return[]}for(;this._controlPoints.length<=C$i;)this._controlPoints.push(new C$R);for(C$s=0;C$s<2*C$i;C$s+=2)this._switchPoint(C$t[C$s],C$t[C$s+1]);for(C$s=2*C$i;C$s<C$n;C$s+=2)this._switchPoint(C$t[C$s],C$t[C$s+1]),C$s/2%C$i==0&&this.insertPoints(C$e,C$r);return C$r},C$a(x1n43,["I",function(){return this.I=new x1n43}]),x1n43),C$E=(C$o(rx7jvi,"laya.maths.GrahamScan"),rx7jvi.multiply=function(C$t,C$e,C$i){return(C$t.x-C$i.x)*(C$e.y-C$i.y)-(C$e.x-C$i.x)*(C$t.y-C$i.y)},rx7jvi.dis=function(C$t,C$e){return(C$t.x-C$e.x)*(C$t.x-C$e.x)+(C$t.y-C$e.y)*(C$t.y-C$e.y)},rx7jvi._getPoints=function(C$t,C$e,C$i){for(void 0===C$e&&(C$e=!1),rx7jvi._mPointList||(rx7jvi._mPointList=[]);rx7jvi._mPointList.length<C$t;)rx7jvi._mPointList.push(new C$R);return(C$i=C$i||[]).length=0,C$e?rx7jvi.getFrom(C$i,rx7jvi._mPointList,C$t):rx7jvi.getFromR(C$i,rx7jvi._mPointList,C$t),C$i},rx7jvi.getFrom=function(C$t,C$e,C$i){var C$n=0;for(C$n=0;C$n<C$i;C$n++)C$t.push(C$e[C$n]);return C$t},rx7jvi.getFromR=function(C$t,C$e,C$i){var C$n=0;for(C$n=0;C$n<C$i;C$n++)C$t.push(C$e.pop());return C$t},rx7jvi.pListToPointList=function(C$t,C$e){var C$i=0,C$n=C$t.length/2,C$r=rx7jvi._getPoints(C$n,C$e=void 0===C$e?!1:C$e,rx7jvi._tempPointList);for(C$i=0;C$i<C$n;C$i++)C$r[C$i].setTo(C$t[C$i+C$i],C$t[C$i+C$i+1]);return C$r},rx7jvi.pointListToPlist=function(C$t){var C$e,C$i=0,C$n=C$t.length,C$r=rx7jvi._temPList;for(C$i=C$r.length=0;C$i<C$n;C$i++)C$e=C$t[C$i],C$r.push(C$e.x,C$e.y);return C$r},rx7jvi.scanPList=function(C$t){return C$Q.copyArray(C$t,rx7jvi.pointListToPlist(rx7jvi.scan(rx7jvi.pListToPointList(C$t,!0))))},rx7jvi.scan=function(C$t){var C$e,C$i,C$n,C$r,C$s=0,C$a=0,C$o=0,C$h=(C$t.length,{});for((C$i=rx7jvi._temArr).length=0,C$s=C$t.length-1;0<=C$s;C$s--)C$n=(C$e=C$t[C$s]).x+"_"+C$e.y,C$h.hasOwnProperty(C$n)||(C$h[C$n]=!0,C$i.push(C$e));for(C$r=C$i.length,C$Q.copyArray(C$t,C$i),C$s=1;C$s<C$r;C$s++)(C$t[C$s].y<C$t[C$o].y||C$t[C$s].y==C$t[C$o].y&&C$t[C$s].x<C$t[C$o].x)&&(C$o=C$s);for(C$e=C$t[0],C$t[0]=C$t[C$o],C$t[C$o]=C$e,C$s=1;C$s<C$r-1;C$s++){for(C$a=(C$o=C$s)+1;C$a<C$r;C$a++)(0<rx7jvi.multiply(C$t[C$a],C$t[C$o],C$t[0])||0==rx7jvi.multiply(C$t[C$a],C$t[C$o],C$t[0])&&rx7jvi.dis(C$t[0],C$t[C$a])<rx7jvi.dis(C$t[0],C$t[C$o]))&&(C$o=C$a);C$e=C$t[C$s],C$t[C$s]=C$t[C$o],C$t[C$o]=C$e}if((C$i=rx7jvi._temArr).length=0,C$t.length<3)return C$Q.copyArray(C$i,C$t);for(C$i.push(C$t[0],C$t[1],C$t[2]),C$s=3;C$s<C$r;C$s++){for(;2<=C$i.length&&0<=rx7jvi.multiply(C$t[C$s],C$i[C$i.length-1],C$i[C$i.length-2]);)C$i.pop();C$t[C$s]&&C$i.push(C$t[C$s])}return C$i},rx7jvi._mPointList=null,rx7jvi._tempPointList=[],rx7jvi._temPList=[],rx7jvi._temArr=[],rx7jvi),C$A=(C$o(xni17,"laya.maths.MathUtil"),xni17.subtractVector3=function(C$t,C$e,C$i){C$i[0]=C$t[0]-C$e[0],C$i[1]=C$t[1]-C$e[1],C$i[2]=C$t[2]-C$e[2]},xni17.lerp=function(C$t,C$e,C$i){return C$t*(1-C$i)+C$e*C$i},xni17.scaleVector3=function(C$t,C$e,C$i){C$i[0]=C$t[0]*C$e,C$i[1]=C$t[1]*C$e,C$i[2]=C$t[2]*C$e},xni17.lerpVector3=function(C$t,C$e,C$i,C$n){var C$r=C$t[0],C$s=C$t[1],C$t=C$t[2];C$n[0]=C$r+C$i*(C$e[0]-C$r),C$n[1]=C$s+C$i*(C$e[1]-C$s),C$n[2]=C$t+C$i*(C$e[2]-C$t)},xni17.lerpVector4=function(C$t,C$e,C$i,C$n){var C$r=C$t[0],C$s=C$t[1],C$a=C$t[2],C$t=C$t[3];C$n[0]=C$r+C$i*(C$e[0]-C$r),C$n[1]=C$s+C$i*(C$e[1]-C$s),C$n[2]=C$a+C$i*(C$e[2]-C$a),C$n[3]=C$t+C$i*(C$e[3]-C$t)},xni17.slerpQuaternionArray=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){var C$u,C$o,C$c=C$t[C$e+0],C$_=C$t[C$e+1],C$d=C$t[C$e+2],C$t=C$t[C$e+3],C$e=C$i[C$n+0],C$h=C$i[C$n+1],C$l=C$i[C$n+2],C$i=C$i[C$n+3];return(C$n=C$c*C$e+C$_*C$h+C$d*C$l+C$t*C$i)<0&&(C$n=-C$n,C$e=-C$e,C$h=-C$h,C$l=-C$l,C$i=-C$i),C$n=1e-6<1-C$n?(C$n=Math.acos(C$n),C$u=Math.sin(C$n),C$o=Math.sin((1-C$r)*C$n)/C$u,Math.sin(C$r*C$n)/C$u):(C$o=1-C$r,C$r),C$s[C$a+0]=C$o*C$c+C$n*C$e,C$s[C$a+1]=C$o*C$_+C$n*C$h,C$s[C$a+2]=C$o*C$d+C$n*C$l,C$s[C$a+3]=C$o*C$t+C$n*C$i,C$s},xni17.getRotation=function(C$t,C$e,C$i,C$n){return Math.atan2(C$n-C$e,C$i-C$t)/Math.PI*180},xni17.sortBigFirst=function(C$t,C$e){return C$t==C$e?0:C$t<C$e?1:-1},xni17.sortSmallFirst=function(C$t,C$e){return C$t==C$e?0:C$t<C$e?-1:1},xni17.sortNumBigFirst=function(C$t,C$e){return parseFloat(C$e)-parseFloat(C$t)},xni17.sortNumSmallFirst=function(C$t,C$e){return parseFloat(C$t)-parseFloat(C$e)},xni17.sortByKey=function(C$i,C$t,C$e){var C$n;return void 0===C$e&&(C$e=!0),C$n=(C$t=void 0===C$t?!1:C$t)?C$e?xni17.sortNumBigFirst:xni17.sortBigFirst:C$e?xni17.sortNumSmallFirst:xni17.sortSmallFirst,function(C$t,C$e){return C$n(C$t[C$i],C$e[C$i])}},xni17),C$I=(C$o(royj7v,"laya.maths.Matrix"),(C$e=royj7v.prototype).identity=function(){return this.a=this.d=1,this.b=this.tx=this.ty=this.c=0,this.bTransform=!1,this},C$e._checkTransform=function(){return this.bTransform=1!==this.a||0!==this.b||0!==this.c||1!==this.d},C$e.setTranslate=function(C$t,C$e){return this.tx=C$t,this.ty=C$e,this},C$e.translate=function(C$t,C$e){return this.tx+=C$t,this.ty+=C$e,this},C$e.scale=function(C$t,C$e){this.a*=C$t,this.d*=C$e,this.c*=C$t,this.b*=C$e,this.tx*=C$t,this.ty*=C$e,this.bTransform=!0},C$e.rotate=function(C$t){var C$e=Math.cos(C$t),C$t=Math.sin(C$t),C$i=this.a,C$n=this.c,C$r=this.tx;this.a=C$i*C$e-this.b*C$t,this.b=C$i*C$t+this.b*C$e,this.c=C$n*C$e-this.d*C$t,this.d=C$n*C$t+this.d*C$e,this.tx=C$r*C$e-this.ty*C$t,this.ty=C$r*C$t+this.ty*C$e,this.bTransform=!0},C$e.skew=function(C$t,C$e){var C$t=Math.tan(C$t),C$e=Math.tan(C$e),C$i=this.a,C$n=this.b;return this.a+=C$e*this.c,this.b+=C$e*this.d,this.c+=C$t*C$i,this.d+=C$t*C$n,this},C$e.invertTransformPoint=function(C$t){var C$e=this.a,C$i=this.b,C$n=this.c,C$r=this.d,C$s=this.tx,C$a=C$e*C$r-C$i*C$n,C$o=(C$n*this.ty-C$r*C$s)/C$a,C$s=-(C$e*this.ty-C$i*C$s)/C$a;return C$t.setTo(C$r/C$a*C$t.x+-C$n/C$a*C$t.y+C$o,-C$i/C$a*C$t.x+C$e/C$a*C$t.y+C$s)},C$e.transformPoint=function(C$t){return C$t.setTo(this.a*C$t.x+this.c*C$t.y+this.tx,this.b*C$t.x+this.d*C$t.y+this.ty)},C$e.transformPointN=function(C$t){return C$t.setTo(this.a*C$t.x+this.c*C$t.y,this.b*C$t.x+this.d*C$t.y)},C$e.transformPointArray=function(C$t,C$e){for(var C$i=C$t.length,C$n=0;C$n<C$i;C$n+=2){var C$r=C$t[C$n],C$s=C$t[C$n+1];C$e[C$n]=this.a*C$r+this.c*C$s+this.tx,C$e[C$n+1]=this.b*C$r+this.d*C$s+this.ty}return C$e},C$e.transformPointArrayScale=function(C$t,C$e){for(var C$i=C$t.length,C$n=0;C$n<C$i;C$n+=2){var C$r=C$t[C$n],C$s=C$t[C$n+1];C$e[C$n]=this.a*C$r+this.c*C$s,C$e[C$n+1]=this.b*C$r+this.d*C$s}return C$e},C$e.getScaleX=function(){return 0===this.b?this.a:Math.sqrt(this.a*this.a+this.b*this.b)},C$e.getScaleY=function(){return 0===this.c?this.d:Math.sqrt(this.c*this.c+this.d*this.d)},C$e.invert=function(){var C$t=this.a,C$e=this.b,C$i=this.c,C$n=this.d,C$r=this.tx,C$s=C$t*C$n-C$e*C$i;return this.a=C$n/C$s,this.b=-C$e/C$s,this.c=-C$i/C$s,this.d=C$t/C$s,this.tx=(C$i*this.ty-C$n*C$r)/C$s,this.ty=-(C$t*this.ty-C$e*C$r)/C$s,this},C$e.setTo=function(C$t,C$e,C$i,C$n,C$r,C$s){return this.a=C$t,this.b=C$e,this.c=C$i,this.d=C$n,this.tx=C$r,this.ty=C$s,this},C$e.concat=function(C$t){var C$e=this.a,C$i=this.c,C$n=this.tx;return this.a=C$e*C$t.a+this.b*C$t.c,this.b=C$e*C$t.b+this.b*C$t.d,this.c=C$i*C$t.a+this.d*C$t.c,this.d=C$i*C$t.b+this.d*C$t.d,this.tx=C$n*C$t.a+this.ty*C$t.c+C$t.tx,this.ty=C$n*C$t.b+this.ty*C$t.d+C$t.ty,this},C$e.scaleEx=function(C$t,C$e){var C$i=this.a,C$n=this.b,C$r=this.c,C$s=this.d;0!==C$n||0!==C$r?(this.a=C$t*C$i,this.b=C$t*C$n,this.c=C$e*C$r):(this.a=C$t*C$i,this.b=0*C$s,this.c=0*C$i),this.d=C$e*C$s,this.bTransform=!0},C$e.rotateEx=function(C$t){var C$e=Math.cos(C$t),C$t=Math.sin(C$t),C$i=this.a,C$n=this.b,C$r=this.c,C$s=this.d;0!==C$n||0!==C$r?(this.a=C$e*C$i+C$t*C$r,this.b=C$e*C$n+C$t*C$s,this.c=-C$t*C$i+C$e*C$r,this.d=-C$t*C$n+C$e*C$s):(this.a=C$e*C$i,this.b=C$t*C$s,this.c=-C$t*C$i,this.d=C$e*C$s),this.bTransform=!0},C$e.clone=function(){var C$t=royj7v.create();return C$t.a=this.a,C$t.b=this.b,C$t.c=this.c,C$t.d=this.d,C$t.tx=this.tx,C$t.ty=this.ty,C$t.bTransform=this.bTransform,C$t},C$e.copyTo=function(C$t){return C$t.a=this.a,C$t.b=this.b,C$t.c=this.c,C$t.d=this.d,C$t.tx=this.tx,C$t.ty=this.ty,C$t.bTransform=this.bTransform,C$t},C$e.toString=function(){return this.a+","+this.b+","+this.c+","+this.d+","+this.tx+","+this.ty},C$e.destroy=function(){var C$t;this.inPool||(C$t=royj7v._cache,this.inPool=!0,C$t._length||(C$t._length=0),(C$t[C$t._length++]=this).a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.bTransform=!1)},royj7v.mul=function(C$t,C$e,C$i){var C$n=C$t.a,C$r=C$t.b,C$s=C$t.c,C$u=C$t.d,C$c=C$t.tx,C$t=C$t.ty,C$a=C$e.a,C$o=C$e.b,C$h=C$e.c,C$l=C$e.d,C$_=C$e.tx,C$e=C$e.ty;return 0!==C$o||0!==C$h?(C$i.a=C$n*C$a+C$r*C$h,C$i.b=C$n*C$o+C$r*C$l,C$i.c=C$s*C$a+C$u*C$h,C$i.d=C$s*C$o+C$u*C$l,C$i.tx=C$a*C$c+C$h*C$t+C$_,C$i.ty=C$o*C$c+C$l*C$t+C$e):(C$i.a=C$n*C$a,C$i.b=C$r*C$l,C$i.c=C$s*C$a,C$i.d=C$u*C$l,C$i.tx=C$a*C$c+C$_,C$i.ty=C$l*C$t+C$e),C$i},royj7v.mul16=function(C$t,C$e,C$i){var C$n=C$t.a,C$r=C$t.b,C$s=C$t.c,C$u=C$t.d,C$c=C$t.tx,C$t=C$t.ty,C$a=C$e.a,C$o=C$e.b,C$h=C$e.c,C$l=C$e.d,C$_=C$e.tx,C$e=C$e.ty;return 0!==C$o||0!==C$h?(C$i[0]=C$n*C$a+C$r*C$h,C$i[1]=C$n*C$o+C$r*C$l,C$i[4]=C$s*C$a+C$u*C$h,C$i[5]=C$s*C$o+C$u*C$l,C$i[12]=C$a*C$c+C$h*C$t+C$_,C$i[13]=C$o*C$c+C$l*C$t+C$e):(C$i[0]=C$n*C$a,C$i[1]=C$r*C$l,C$i[4]=C$s*C$a,C$i[5]=C$u*C$l,C$i[12]=C$a*C$c+C$_,C$i[13]=C$l*C$t+C$e),C$i},royj7v.mulPre=function(C$t,C$e,C$i,C$n,C$r,C$u,C$c,C$s){var C$a=C$t.a,C$o=C$t.b,C$h=C$t.c,C$l=C$t.d,C$_=C$t.tx,C$t=C$t.ty;return 0!==C$i||0!==C$n?(C$s.a=C$a*C$e+C$o*C$n,C$s.b=C$a*C$i+C$o*C$r,C$s.c=C$h*C$e+C$l*C$n,C$s.d=C$h*C$i+C$l*C$r,C$s.tx=C$e*C$_+C$n*C$t+C$u,C$s.ty=C$i*C$_+C$r*C$t+C$c):(C$s.a=C$a*C$e,C$s.b=C$o*C$r,C$s.c=C$h*C$e,C$s.d=C$l*C$r,C$s.tx=C$e*C$_+C$u,C$s.ty=C$r*C$t+C$c),C$s},royj7v.mulPos=function(C$t,C$e,C$i,C$n,C$r,C$u,C$c,C$s){var C$a=C$t.a,C$o=C$t.b,C$h=C$t.c,C$l=C$t.d,C$_=C$t.tx,C$t=C$t.ty;return 0!==C$o||0!==C$h?(C$s.a=C$e*C$a+C$i*C$h,C$s.b=C$e*C$o+C$i*C$l,C$s.c=C$n*C$a+C$r*C$h,C$s.d=C$n*C$o+C$r*C$l,C$s.tx=C$a*C$u+C$h*C$c+C$_,C$s.ty=C$o*C$u+C$l*C$c+C$t):(C$s.a=C$e*C$a,C$s.b=C$i*C$l,C$s.c=C$n*C$a,C$s.d=C$r*C$l,C$s.tx=C$a*C$u+C$_,C$s.ty=C$l*C$c+C$t),C$s},royj7v.preMul=function(C$t,C$e,C$i){var C$n=C$t.a,C$r=C$t.b,C$s=C$t.c,C$a=C$t.d,C$o=C$e.a,C$h=C$e.b,C$l=C$e.c,C$u=C$e.d,C$c=C$e.tx,C$e=C$e.ty;return C$i.a=C$o*C$n,C$i.b=C$i.c=0,C$i.d=C$u*C$a,C$i.tx=C$c*C$n+C$t.tx,C$i.ty=C$e*C$a+C$t.ty,0===C$h&&0===C$l&&0===C$r&&0===C$s||(C$i.a+=C$h*C$s,C$i.d+=C$l*C$r,C$i.b+=C$o*C$r+C$h*C$a,C$i.c+=C$l*C$n+C$u*C$s,C$i.tx+=C$e*C$s,C$i.ty+=C$c*C$r),C$i},royj7v.preMulXY=function(C$t,C$e,C$i,C$n){var C$r=C$t.a,C$s=C$t.b,C$a=C$t.c,C$o=C$t.d;return C$n.a=C$r,C$n.b=C$s,C$n.c=C$a,C$n.d=C$o,C$n.tx=C$e*C$r+C$t.tx+C$i*C$a,C$n.ty=C$i*C$o+C$t.ty+C$e*C$s,C$n},royj7v.create=function(){var C$t=royj7v._cache,C$t=C$t._length?C$t[--C$t._length]:new royj7v;return C$t.inPool=!1,C$t},royj7v.EMPTY=new royj7v,royj7v.TEMP=new royj7v,royj7v._cache=[],royj7v),C$R=(C$o(zpeht,"laya.maths.Point"),(C$e=zpeht.prototype).setTo=function(C$t,C$e){return this.x=C$t,this.y=C$e,this},C$e.distance=function(C$t,C$e){return Math.sqrt((this.x-C$t)*(this.x-C$t)+(this.y-C$e)*(this.y-C$e))},C$e.toString=function(){return this.x+","+this.y},C$e.normalize=function(){var C$t=Math.sqrt(this.x*this.x+this.y*this.y);0<C$t&&(this.x*=C$t=1/C$t,this.y*=C$t)},zpeht.TEMP=new zpeht,zpeht.EMPTY=new zpeht,zpeht),C$P=(C$o(tzhp_,"laya.maths.Rectangle"),(C$e=tzhp_.prototype).setTo=function(C$t,C$e,C$i,C$n){return this.x=C$t,this.y=C$e,this.width=C$i,this.height=C$n,this},C$e.copyFrom=function(C$t){return this.x=C$t.x,this.y=C$t.y,this.width=C$t.width,this.height=C$t.height,this},C$e.contains=function(C$t,C$e){return!(this.width<=0||this.height<=0)&&C$t>=this.x&&C$t<this.right&&C$e>=this.y&&C$e<this.bottom},C$e.intersects=function(C$t){return!(C$t.x>this.x+this.width||C$t.x+C$t.width<this.x||C$t.y>this.y+this.height||C$t.y+C$t.height<this.y)},C$e.intersection=function(C$t,C$e){return this.intersects(C$t)?((C$e=C$e||new tzhp_).x=Math.max(this.x,C$t.x),C$e.y=Math.max(this.y,C$t.y),C$e.width=Math.min(this.right,C$t.right)-C$e.x,C$e.height=Math.min(this.bottom,C$t.bottom)-C$e.y,C$e):null},C$e.union=function(C$t,C$e){return C$e=C$e||new tzhp_,this.clone(C$e),C$t.width<=0||C$t.height<=0?C$e:(C$e.addPoint(C$t.x,C$t.y),C$e.addPoint(C$t.right,C$t.bottom),this)},C$e.clone=function(C$t){return(C$t=C$t||new tzhp_).x=this.x,C$t.y=this.y,C$t.width=this.width,C$t.height=this.height,C$t},C$e.toString=function(){return this.x+","+this.y+","+this.width+","+this.height},C$e.equals=function(C$t){return!(!C$t||C$t.x!==this.x||C$t.y!==this.y||C$t.width!==this.width||C$t.height!==this.height)},C$e.addPoint=function(C$t,C$e){return this.x>C$t&&(this.width+=this.x-C$t,this.x=C$t),this.y>C$e&&(this.height+=this.y-C$e,this.y=C$e),this.width<C$t-this.x&&(this.width=C$t-this.x),this.height<C$e-this.y&&(this.height=C$e-this.y),this},C$e._getBoundPoints=function(){var C$t=tzhp_._temB;return(C$t.length=0)==this.width||0==this.height||C$t.push(this.x,this.y,this.x+this.width,this.y,this.x,this.y+this.height,this.x+this.width,this.y+this.height),C$t},C$e.isEmpty=function(){return this.width<=0||this.height<=0},C$t(0,C$e,"right",function(){return this.x+this.width}),C$t(0,C$e,"bottom",function(){return this.y+this.height}),tzhp_._getBoundPointS=function(C$t,C$e,C$i,C$n){var C$r=tzhp_._temA;return(C$r.length=0)==C$i||0==C$n||C$r.push(C$t,C$e,C$t+C$i,C$e,C$t,C$e+C$n,C$t+C$i,C$e+C$n),C$r},tzhp_._getWrapRec=function(C$t,C$e){if(!C$t||C$t.length<1)return(C$e||tzhp_.TEMP).setTo(0,0,0,0);C$e=C$e||new tzhp_;var C$i,C$n,C$r,C$s,C$a,C$o=C$t.length,C$h=C$R.TEMP;for(C$r=C$a=-(C$n=C$s=99999),C$i=0;C$i<C$o;C$i+=2)C$h.x=C$t[C$i],C$h.y=C$t[C$i+1],C$n=C$n<C$h.x?C$n:C$h.x,C$s=C$s<C$h.y?C$s:C$h.y,C$r=C$r>C$h.x?C$r:C$h.x,C$a=C$a>C$h.y?C$a:C$h.y;return C$e.setTo(C$n,C$s,C$r-C$n,C$a-C$s)},tzhp_.EMPTY=new tzhp_,tzhp_.TEMP=new tzhp_,tzhp_._temB=[],tzhp_._temA=[],tzhp_),C$L=(C$o(ua34,"laya.media.SoundManager"),C$t(1,ua34,"useAudioMusic",function(){return ua34._useAudioMusic},function(C$t){ua34._useAudioMusic=C$t,ua34._musicClass=C$t?C$rt:null}),C$t(1,ua34,"autoStopMusic",function(){return ua34._autoStopMusic},function(C$t){C$b.stage.off("blur",null,ua34._stageOnBlur),C$b.stage.off("focus",null,ua34._stageOnFocus),C$b.stage.off("visibilitychange",null,ua34._visibilityChange),(ua34._autoStopMusic=C$t)&&(C$b.stage.on("blur",null,ua34._stageOnBlur),C$b.stage.on("focus",null,ua34._stageOnFocus),C$b.stage.on("visibilitychange",null,ua34._visibilityChange))}),C$t(1,ua34,"muted",function(){return ua34._muted},function(C$t){C$t!=ua34._muted&&(C$t&&ua34.stopAllSound(),ua34.musicMuted=C$t,ua34._muted=C$t)}),C$t(1,ua34,"musicMuted",function(){return ua34._musicMuted},function(C$t){C$t!=ua34._musicMuted&&(C$t?(ua34._tMusic&&ua34._musicChannel&&!ua34._musicChannel.isStopped?ua34._musicChannel.pause():ua34._musicChannel=null,ua34._musicMuted=C$t):(ua34._musicMuted=C$t,ua34._tMusic&&ua34._musicChannel&&ua34._musicChannel.resume()))}),C$t(1,ua34,"soundMuted",function(){return ua34._soundMuted},function(C$t){ua34._soundMuted=C$t}),ua34.addChannel=function(C$t){0<=ua34._channels.indexOf(C$t)||(ua34._channels.push(C$t),ua34.autoReleaseSound&&0!=ua34._notUsedCount&&ua34._notUsedUrls[C$t.url]&&(delete ua34._notUsedUrls[C$t.url],0==--ua34._notUsedCount&&C$b.timer.clear(ua34,ua34.disposeSoundIfNotUsed)))},ua34.removeChannel=function(C$t){var C$e=ua34._channels,C$i=C$e.indexOf(C$t);if(-1!=C$i&&(C$e.splice(C$i,1),ua34.autoReleaseSound)){var C$n=C$t.url,C$t=ua34.defaultIntervals[C$n]||2e4;if(0<C$t){var C$r=!0;for(C$i=C$e.length-1;0<=C$i;C$i--)if(C$e[C$i].url==C$n){C$r=!1;break}C$r&&(ua34._notUsedUrls[C$n]=Date.now()+C$t,0==ua34._notUsedCount++&&C$b.timer.loop(1e4,ua34,ua34.disposeSoundIfNotUsed))}}},ua34.disposeSoundIfNotUsed=function(){var C$t=ua34._notUsedUrls;if(0!=ua34._notUsedCount){var C$e=Date.now();for(var C$i in C$t)C$e>=C$t[C$i]&&(delete C$t[C$i],--ua34._notUsedCount,ua34.destroySound(C$i));if(0!=ua34._notUsedCount)return}C$b.timer.clear(ua34,ua34.disposeSoundIfNotUsed)},ua34._visibilityChange=function(){C$b.stage.isVisibility?ua34._stageOnFocus():ua34._stageOnBlur()},ua34._stageOnBlur=function(){ua34._isActive=!1,ua34._musicChannel&&(ua34._musicChannel.isStopped||(ua34._blurPaused=!0,ua34._musicChannel.pause())),ua34.stopAllSound(),C$b.stage.once("mousedown",null,ua34._stageOnFocus)},ua34._recoverWebAudio=function(){C$at.ctx&&"running"!=C$at.ctx.state&&C$at.ctx.resume&&C$at.ctx.resume()},ua34._stageOnFocus=function(){var C$t;ua34._isActive=!0,ua34._recoverWebAudio(),C$b.stage.off("mousedown",null,ua34._stageOnFocus),ua34._blurPaused&&(C$t=ua34._musicChannel)&&ua34._music&&C$t.isStopped&&(ua34._blurPaused=!1,ua34._music._disposed?ua34.playMusic(C$t.url,C$t.loops,C$t.startHandler,C$t.completeHandler,C$t.startTime):C$t.audioBuffer?C$t.resume():ua34._music.play(C$t.startTime,C$t.loops,C$t.startHandler,C$t))},ua34.playSound=function(C$t,C$e,C$i,C$n,C$r,C$s){if(void 0===C$e&&(C$e=1),void 0===C$s&&(C$s=0),!C$t)return null;if(ua34._muted)return null;if(ua34._recoverWebAudio(),C$t==ua34._tMusic){if(ua34._musicMuted)return null}else{if(!ua34._isActive)return null;if(ua34._soundMuted)return null}var C$a=ua34._pool[C$t];return C$r=C$r||ua34._soundClass,C$a||((C$a=new C$r).load(C$t),ua34._pool[C$t]=C$a),(C$r=C$a.play(C$s,C$e,C$i))?(C$t==ua34._tMusic&&(ua34._music=C$a,ua34._isActive||(ua34._blurPaused=!0,C$r.pause())),C$r.url=C$t,C$r.volume=C$t==ua34._tMusic?ua34.musicVolume:ua34.soundVolume,C$r.completeHandler=C$n,C$r):null},ua34.destroySound=function(C$t){var C$e=ua34._pool[C$t];C$e&&(delete ua34._pool[C$t],C$e.dispose())},ua34.playMusic=function(C$t,C$e,C$i,C$n,C$r){return void 0===C$e&&(C$e=0),void 0===C$r&&(C$r=0),ua34._tMusic=C$t,ua34._musicChannel&&ua34._musicChannel.stop(),ua34._musicChannel=ua34.playSound(C$t,C$e,C$i,C$n,null,C$r)},ua34.stopSound=function(C$t){for(var C$e,C$i=ua34._channels.length-1;0<=C$i;C$i--)(C$e=ua34._channels[C$i]).url==C$t&&C$e.stop()},ua34.stopAll=function(){ua34._tMusic=null;var C$t=0;for(C$t=ua34._channels.length-1;0<=C$t;C$t--)ua34._channels[C$t].stop()},ua34.stopAllSound=function(){var C$t,C$e=0;for(C$e=ua34._channels.length-1;0<=C$e;C$e--)(C$t=ua34._channels[C$e]).url!=ua34._tMusic&&C$t.stop()},ua34.stopMusic=function(){ua34._musicChannel&&ua34._musicChannel.stop(),ua34._tMusic=null},ua34.setSoundVolume=function(C$t,C$e){if(C$e)ua34._setVolume(C$e,C$t);else{ua34.soundVolume=C$t;var C$i,C$n=0;for(C$n=ua34._channels.length-1;0<=C$n;C$n--)(C$i=ua34._channels[C$n]).url!=ua34._tMusic&&(C$i.volume=C$t)}},ua34.setMusicVolume=function(C$t){ua34.musicVolume=C$t,ua34._setVolume(ua34._tMusic,C$t)},ua34._setVolume=function(C$t,C$e){for(var C$i,C$n=ua34._channels.length-1;0<=C$n;C$n--)(C$i=ua34._channels[C$n]).url==C$t&&(C$i.volume=C$e)},ua34.musicVolume=1,ua34.soundVolume=1,ua34.playbackRate=1,ua34._useAudioMusic=!0,ua34._muted=!1,ua34._soundMuted=!1,ua34._musicMuted=!1,ua34._tMusic=null,ua34._musicChannel=null,ua34._music=null,ua34._channels=[],ua34._autoStopMusic=!1,ua34._blurPaused=!1,ua34._isActive=!0,ua34._soundClass=null,ua34._musicClass=null,ua34.autoReleaseSound=!0,ua34._pool={},ua34.defaultIntervals={},ua34._notUsedUrls={},ua34._notUsedCount=0,ua34),C$B=(C$o(jo5yv,"laya.net.LocalStorage"),jo5yv.__init__=function(){jo5yv._baseClass||(jo5yv._baseClass=C$kt).init(),jo5yv.items=jo5yv._baseClass.items,jo5yv.support=jo5yv._baseClass.support},jo5yv.setItem=function(C$t,C$e){jo5yv._baseClass.setItem(C$t,C$e)},jo5yv.getItem=function(C$t){return jo5yv._baseClass.getItem(C$t)},jo5yv.setJSON=function(C$t,C$e){jo5yv._baseClass.setJSON(C$t,C$e)},jo5yv.getJSON=function(C$t){return jo5yv._baseClass.getJSON(C$t)},jo5yv.removeItem=function(C$t){jo5yv._baseClass.removeItem(C$t)},jo5yv.clear=function(){jo5yv._baseClass.clear()},jo5yv._baseClass=null,jo5yv.items=null,jo5yv.support=!1,jo5yv.__init$=function(){function f2_(){}C$o(f2_,""),f2_.init=function(){try{f2_.support=!0,f2_.items=C$s.localStorage,f2_.setItem("laya","1"),f2_.removeItem("laya")}catch(C$t){f2_.support=!1}f2_.support||console.log("LocalStorage is not supprot or browser is private mode.")},f2_.setItem=function(C$t,C$e){try{f2_.support&&f2_.items.setItem(C$t,C$e)}catch(C$t){console.warn("set localStorage failed",C$t)}},f2_.getItem=function(C$t){return f2_.support?f2_.items.getItem(C$t):null},f2_.setJSON=function(C$t,C$e){try{f2_.support&&f2_.items.setItem(C$t,JSON.stringify(C$e))}catch(C$t){console.warn("set localStorage failed",C$t)}},f2_.getJSON=function(C$t){return JSON.parse(f2_.support?f2_.items.getItem(C$t):null)},f2_.removeItem=function(C$t){f2_.support&&f2_.items.removeItem(C$t)},f2_.clear=function(){f2_.support&&f2_.items.clear()},f2_.items=null,f2_.support=!1,C$kt=f2_},jo5yv),C$k=(C$o(q5boy,"laya.net.ResourceVersion"),q5boy.enable=function(C$t,C$e,C$i){void 0===C$i&&(C$i=2),laya.net.ResourceVersion.type=C$i,C$b.loader.load(C$t,C$g.create(null,q5boy.onManifestLoaded,[C$e]),null,"json"),C$N.customFormat=q5boy.addVersionPrefix},q5boy.onManifestLoaded=function(C$t,C$e){q5boy.manifest=C$e,C$t.run(),C$e||console.warn("\u8d44\u6e90\u7248\u672c\u6e05\u5355\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u4e0d\u4f7f\u7528\u8d44\u6e90\u7248\u672c\u7ba1\u7406\u3002\u5ffd\u7565ERR_FILE_NOT_FOUND\u9519\u8bef\u3002")},q5boy.addVersionPrefix=function(C$t){return q5boy.manifest&&q5boy.manifest[C$t]?2==q5boy.type?q5boy.manifest[C$t]:q5boy.manifest[C$t]+"/"+C$t:C$t},q5boy.FOLDER_VERSION=1,q5boy.FILENAME_VERSION=2,q5boy.manifest=null,q5boy.type=1,C$o(g6dkb0,"laya.net.TTFLoader"),(C$e=g6dkb0.prototype).load=function(C$t){C$t=(this._url=C$t).split(".ttf")[0].split("/");this.fontName=C$t[C$t.length-1],C$S.window.conch?this._loadConch():C$S.window.FontFace?this._loadWithFontFace():this._loadWithCSS()},C$e._loadConch=function(){this._http=new C$ot,this._http.on("error",this,this._onErr),this._http.on("complete",this,this._onHttpLoaded),this._http.send(this._url,null,"get","arraybuffer")},C$e._onHttpLoaded=function(C$t){C$S.window.conch.setFontFaceFromBuffer(this.fontName,C$t),this._clearHttp(),this._complete()},C$e._clearHttp=function(){this._http&&(this._http.off("error",this,this._onErr),this._http.off("complete",this,this._onHttpLoaded),this._http=null)},C$e._onErr=function(){this._clearHttp(),this.err&&(this.err.runWith("fail:"+this._url),this.err=null)},C$e._complete=function(){C$b.timer.clear(this,this._complete),C$b.timer.clear(this,this._checkComplete),this._div&&this._div.parentNode&&(this._div.parentNode.removeChild(this._div),this._div=null),this.complete&&(this.complete.runWith(this),this.complete=null)},C$e._checkComplete=function(){C$m.measureText("LayaTTFFont",this._fontTxt).width!=this._txtWidth&&this._complete()},C$e._loadWithFontFace=function(){var C$t=new C$S.window.FontFace(this.fontName,"url('"+this._url+"')");C$S.window.document.fonts.add(C$t);var C$e=this;C$t.loaded.then(function(){C$e._complete()}),C$t.load()},C$e._createDiv=function(){this._div=C$S.createElement("div"),this._div.innerHTML="laya";var C$t=this._div.style;C$t.fontFamily=this.fontName,C$t.position="absolute",C$t.left="-100px",C$t.top="-100px",C$S.document.body.appendChild(this._div)},C$e._loadWithCSS=function(){var C$t=this,C$e=C$S.createElement("style");C$e.type="text/css",C$S.document.body.appendChild(C$e),C$e.textContent="@font-face { font-family:'"+this.fontName+"'; src:url('"+this._url+"');}",this._fontTxt="40px "+this.fontName,this._txtWidth=C$m.measureText("LayaTTFFont",this._fontTxt).width;var C$i=this;C$e.onload=function(){C$b.timer.once(1e4,C$i,C$t._complete)},C$b.timer.loop(20,this,this._checkComplete),this._createDiv()},g6dkb0._testString="LayaTTFFont",g6dkb0),C$N=(C$o($s92fw,"laya.net.URL"),C$e=$s92fw.prototype,C$t(0,C$e,"path",function(){return this._path}),C$t(0,C$e,"url",function(){return this._url}),$s92fw.formatURL=function(C$t,C$e){if(!C$t)return"null path";if(0<C$t.indexOf(":"))return C$t;var C$i=(C$t=null!=$s92fw.customFormat?$s92fw.customFormat(C$t,C$e):C$t).charAt(0);if("."===C$i)return $s92fw.formatRelativePath((C$e||$s92fw.basePath)+C$t);if("~"===C$i)return $s92fw.rootPath+C$t.substring(1);if("d"===C$i){if(0===C$t.indexOf("data:image"))return C$t}else if("/"===C$i)return C$t;return(C$e||$s92fw.basePath)+C$t},$s92fw.formatRelativePath=function(C$t){for(var C$e=C$t.split("/"),C$i=0,C$n=C$e.length;C$i<C$n;C$i++)".."==C$e[C$i]&&(C$e.splice(C$i-1,2),C$i-=2);return C$e.join("/")},$s92fw.isAbsolute=function(C$t){return 0<C$t.indexOf(":")||"/"==C$t.charAt(0)},$s92fw.getPath=function(C$t){var C$e=C$t.lastIndexOf("/");return 0<C$e?C$t.substr(0,C$e+1):""},$s92fw.getFileName=function(C$t){var C$e=C$t.lastIndexOf("/");return 0<C$e?C$t.substr(C$e+1):C$t},$s92fw.version={},$s92fw.basePath="",$s92fw.rootPath="",$s92fw.customFormat=function(C$t){var C$e=$s92fw.version[C$t];return!C$M.isConchApp&&C$e&&(C$t+="?v="+C$e),C$t},$s92fw),C$M=(C$o(tpczeh,"laya.renders.Render"),(C$e=tpczeh.prototype)._onVisibilitychange=function(){C$b.stage.isVisibility?0!=this._timeId&&C$S.window.clearInterval(this._timeId):this._timeId=C$S.window.setInterval(this._enterFrame,1e3)},C$e._enterFrame=function(C$t){C$b.stage._loop()},C$t(1,tpczeh,"context",function(){return tpczeh._context}),C$t(1,tpczeh,"canvas",function(){return tpczeh._mainCanvas.source}),tpczeh._context=null,tpczeh._mainCanvas=null,tpczeh.WebGL=null,tpczeh.isConchNode=!1,tpczeh.isConchApp=!1,tpczeh.isConchWebGL=!1,tpczeh.isWebGL=!1,tpczeh.is3DMode=!1,tpczeh.optimizeTextureMemory=function(C$t,C$e){return!0},tpczeh.__init$=function(){C$s.ConchRenderType=C$s.ConchRenderType||1,C$s.ConchRenderType|=C$s.conch?4:0,tpczeh.isConchNode=5==(5&C$s.ConchRenderType),tpczeh.isConchApp=4==(4&C$s.ConchRenderType),tpczeh.isConchWebGL=6==C$s.ConchRenderType},tpczeh),C$z=(C$o(hezcpt,"laya.renders.RenderContext"),(C$e=hezcpt.prototype).destroy=function(){this.canvas&&(this.canvas.destroy(),this.canvas=null,this.ctx=null),this.ctx&&(this.ctx.destroy(),this.ctx=null)},C$e.drawTexture=function(C$t,C$e,C$i,C$n,C$r){C$t.loaded&&this.ctx.drawTexture(C$t,C$e,C$i,C$n,C$r,this.x,this.y)},C$e._drawTextures=function(C$t,C$e,C$i){C$i[0].loaded&&this.ctx.drawTextures(C$i[0],C$i[1],C$t+this.x,C$e+this.y)},C$e.drawTextureWithTransform=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){C$t.loaded&&this.ctx.drawTextureWithTransform(C$t,C$e,C$i,C$n,C$r,C$s,this.x,this.y,C$a)},C$e.fillQuadrangle=function(C$t,C$e,C$i,C$n,C$r){this.ctx.fillQuadrangle(C$t,C$e,C$i,C$n,C$r)},C$e.drawCanvas=function(C$t,C$e,C$i,C$n,C$r){this.ctx.drawCanvas(C$t,C$e+this.x,C$i+this.y,C$n,C$r)},C$e.drawRect=function(C$t,C$e,C$i,C$n,C$r,C$s){void 0===C$s&&(C$s=1);var C$a=this.ctx;C$a.strokeStyle=C$r,C$a.lineWidth=C$s,C$a.strokeRect(C$t+this.x,C$e+this.y,C$i,C$n,C$s)},C$e._fillAndStroke=function(C$t,C$e,C$i,C$n){void 0===C$n&&(C$n=!1);var C$r=this.ctx;null!=C$t&&(C$r.fillStyle=C$t,C$M.isWebGL?C$r.fill(C$n):C$r.fill()),null!=C$e&&0<C$i&&(C$r.strokeStyle=C$e,C$r.lineWidth=C$i,C$r.stroke())},C$e.clipRect=function(C$t,C$e,C$i,C$n){this.ctx.clipRect(C$t+this.x,C$e+this.y,C$i,C$n)},C$e.fillRect=function(C$t,C$e,C$i,C$n,C$r){this.ctx.fillRect(C$t+this.x,C$e+this.y,C$i,C$n,C$r)},C$e.drawCircle=function(C$t,C$e,C$i,C$n,C$r){void 0===C$r&&(C$r=1),C$$.drawCall++;var C$s=this.ctx;C$s.beginPath(),C$s.strokeStyle=C$n,C$s.lineWidth=C$r,C$s.arc(C$t+this.x,C$e+this.y,C$i,0,hezcpt.PI2),C$s.stroke()},C$e.drawTriangles=function(C$t,C$e,C$i){if(C$M.isWebGL)this.ctx.drawTriangles(C$i[0],C$t+C$i[1],C$e+C$i[2],C$i[3],C$i[4],C$i[5],C$i[6],C$i[7],C$i[8],C$i[9]);else{var C$n=C$i[5],C$r=0,C$s=C$n.length,C$a=this.ctx;for(C$r=0;C$r<C$s;C$r+=3){var C$o=2*C$n[C$r],C$h=2*C$n[C$r+1],C$l=2*C$n[C$r+2];C$a.drawTriangle(C$i[0],C$i[3],C$i[4],C$o,C$h,C$l,C$i[6],!0)}}},C$e.fillCircle=function(C$t,C$e,C$i,C$n){C$$.drawCall++;var C$r=this.ctx;C$r.beginPath(),C$r.fillStyle=C$n,C$r.arc(C$t+this.x,C$e+this.y,C$i,0,hezcpt.PI2),C$r.fill()},C$e.setShader=function(C$t){this.ctx.setShader(C$t)},C$e.drawLine=function(C$t,C$e,C$i,C$n,C$r,C$s){void 0===C$s&&(C$s=1);var C$a=this.ctx;C$a.beginPath(),C$a.strokeStyle=C$r,C$a.lineWidth=C$s,C$a.moveTo(this.x+C$t,this.y+C$e),C$a.lineTo(this.x+C$i,this.y+C$n),C$a.stroke()},C$e.clear=function(){this.ctx.clear()},C$e.transformByMatrix=function(C$t){this.ctx.transformByMatrix(C$t)},C$e.setTransform=function(C$t,C$e,C$i,C$n,C$r,C$s){this.ctx.setTransform(C$t,C$e,C$i,C$n,C$r,C$s)},C$e.setTransformByMatrix=function(C$t){this.ctx.setTransformByMatrix(C$t)},C$e.save=function(){this.ctx.save()},C$e.restore=function(){this.ctx.restore()},C$e.translate=function(C$t,C$e){this.ctx.translate(C$t,C$e)},C$e.transform=function(C$t,C$e,C$i,C$n,C$r,C$s){this.ctx.transform(C$t,C$e,C$i,C$n,C$r,C$s)},C$e.rotate=function(C$t){this.ctx.rotate(C$t)},C$e.scale=function(C$t,C$e){this.ctx.scale(C$t,C$e)},C$e.alpha=function(C$t){this.ctx.globalAlpha*=C$t},C$e.setAlpha=function(C$t){this.ctx.globalAlpha=C$t},C$e.fillWords=function(C$t,C$e,C$i,C$n,C$r,C$s){this.ctx.fillWords(C$t,C$e,C$i,C$n,C$r,C$s=void 0===C$s?0:C$s)},C$e.fillBorderWords=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){this.ctx.fillBorderWords(C$t,C$e,C$i,C$n,C$r,C$s,C$a)},C$e.fillText=function(C$t,C$e,C$i,C$n,C$r,C$s){this.ctx.fillText(C$t,C$e+this.x,C$i+this.y,C$n,C$r,C$s)},C$e.strokeText=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){this.ctx.strokeText(C$t,C$e+this.x,C$i+this.y,C$n,C$r,C$s,C$a)},C$e.blendMode=function(C$t){this.ctx.globalCompositeOperation=C$t},C$e.flush=function(){this.ctx.flush&&this.ctx.flush()},C$e.addRenderObject=function(C$t){this.ctx.addRenderObject(C$t)},C$e.beginClip=function(C$t,C$e,C$i,C$n){this.ctx.beginClip&&this.ctx.beginClip(C$t,C$e,C$i,C$n)},C$e.endClip=function(){this.ctx.endClip&&this.ctx.endClip()},C$e.fillTrangles=function(C$t,C$e,C$i){this.ctx.fillTrangles(C$i[0],C$i[1],C$i[2],C$i[3],4<C$i.length?C$i[4]:null)},hezcpt.PI2=2*Math.PI,hezcpt),C$O=(C$o(ehpzt_,"laya.renders.RenderSprite"),(C$e=ehpzt_.prototype).onCreate=function(C$t){},C$e._style=function(C$t,C$e,C$i,C$n){C$t._style.render(C$t,C$e,C$i,C$n);var C$r=this._next;C$r._fun.call(C$r,C$t,C$e,C$i,C$n)},C$e._no=function(C$t,C$e,C$i,C$n){},C$e._custom=function(C$t,C$e,C$i,C$n){C$t.customRender(C$e,C$i,C$n);var C$r=C$t._style._tf;this._next._fun.call(this._next,C$t,C$e,C$i-C$r.translateX,C$n-C$r.translateY)},C$e._clip=function(C$t,C$e,C$i,C$n){var C$r=this._next;var C$s;C$r!=ehpzt_.NORENDER&&(C$s=C$t._style.scrollRect,C$e.ctx.save(),C$e.ctx.clipRect(C$i,C$n,C$s.width,C$s.height),C$r._fun.call(C$r,C$t,C$e,C$i-C$s.x,C$n-C$s.y),C$e.ctx.restore())},C$e._blend=function(C$t,C$e,C$i,C$n){var C$r=C$t._style;C$r.blendMode&&(C$e.ctx.globalCompositeOperation=C$r.blendMode);C$r=this._next;C$r._fun.call(C$r,C$t,C$e,C$i,C$n),C$e.ctx.globalCompositeOperation="source-over"},C$e._mask=function(C$t,C$e,C$i,C$n){var C$r=this._next;C$r._fun.call(C$r,C$t,C$e,C$i,C$n);C$r=C$t.mask;C$r&&(C$e.ctx.globalCompositeOperation="destination-in",(0<C$r.numChildren||!C$r.graphics._isOnlyOne())&&(C$r.cacheAsBitmap=!0),C$r.render(C$e,C$i-C$t.pivotX,C$n-C$t.pivotY)),C$e.ctx.globalCompositeOperation="source-over"},C$e._graphics=function(C$t,C$e,C$i,C$n){var C$r=C$t._style._tf;C$t._graphics&&C$t._graphics._render(C$t,C$e,C$i-C$r.translateX,C$n-C$r.translateY);C$r=this._next;C$r._fun.call(C$r,C$t,C$e,C$i,C$n)},C$e._image=function(C$t,C$e,C$i,C$n){var C$r=C$t._style;C$e.ctx.drawTexture2(C$i,C$n,C$r._tf.translateX,C$r._tf.translateY,C$t.transform,C$r.alpha,C$r.blendMode,C$t._graphics._one)},C$e._image2=function(C$t,C$e,C$i,C$n){var C$r=C$t._style._tf;C$e.ctx.drawTexture2(C$i,C$n,C$r.translateX,C$r.translateY,C$t.transform,1,null,C$t._graphics._one)},C$e._alpha=function(C$t,C$e,C$i,C$n){var C$r,C$s;(.01<(C$s=C$t._style.alpha)||C$t._needRepaint())&&(C$r=C$e.ctx.globalAlpha,C$e.ctx.globalAlpha*=C$s,(C$s=this._next)._fun.call(C$s,C$t,C$e,C$i,C$n),C$e.ctx.globalAlpha=C$r)},C$e._transform=function(C$t,C$e,C$i,C$n){var C$r=C$t.transform,C$s=this._next;C$r&&C$s!=ehpzt_.NORENDER?(C$e.save(),C$e.transform(C$r.a,C$r.b,C$r.c,C$r.d,C$r.tx+C$i,C$r.ty+C$n),C$s._fun.call(C$s,C$t,C$e,0,0),C$e.restore()):C$s._fun.call(C$s,C$t,C$e,C$i,C$n)},C$e._childs=function(C$t,C$e,C$i,C$n){var C$r=C$t._style,C$s=C$r._tf;C$i=C$i-C$s.translateX+C$r.paddingLeft,C$n=C$n-C$s.translateY+C$r.paddingTop,C$r._calculation&&(!(C$s=C$t._getWords())||(C$r=C$r)&&(C$r.stroke?C$e.fillBorderWords(C$s,C$i,C$n,C$r.font,C$r.color,C$r.strokeColor,C$r.stroke):C$e.fillWords(C$s,C$i,C$n,C$r.font,C$r.color,"none"!=C$r.textDecoration&&C$r.underLine?1:0)));var C$a,C$o=C$t._childs,C$h=C$o.length;if(C$t.viewport||C$t.optimizeScrollRect&&C$t._style.scrollRect){var C$s=C$t.viewport||C$t._style.scrollRect,C$u=C$s.x,C$c=C$s.y,C$_=C$s.right,C$d=C$s.bottom,C$f=NaN,C$p=NaN;for(C$l=0;C$l<C$h;++C$l)(C$a=C$o[C$l]).visible&&(C$f=C$a._x)<C$_&&C$f+C$a.width>C$u&&(C$p=C$a._y)<C$d&&C$p+C$a.height>C$c&&C$a.render(C$e,C$i,C$n)}else for(var C$l=0;C$l<C$h;++C$l)(C$a=C$o[C$l])._style.visible&&C$a.render(C$e,C$i,C$n)},C$e._canvas=function(C$t,C$e,C$i,C$n){var C$r=C$t._$P.cacheCanvas;var C$s;C$r?("bitmap"===C$r.type?C$$.canvasBitmap++:C$$.canvasNormal++,C$s=C$r.ctx,C$t._needRepaint()||!C$s?this._canvas_repaint(C$t,C$e,C$i,C$n):(C$r=C$r._cacheRec,C$e.drawCanvas(C$s.canvas,C$i+C$r.x,C$n+C$r.y,C$r.width,C$r.height))):this._next._fun.call(this._next,C$t,C$e,C$i,C$n)},C$e._canvas_repaint=function(C$t,C$u,C$c,C$_){var C$e=C$t._$P.cacheCanvas,C$i=this._next;if(C$e){var C$n,C$d,C$f,C$r,C$s=C$e.ctx,C$a=C$t._needRepaint()||!C$s,C$p=C$e.type;if("bitmap"===C$p?C$$.canvasBitmap++:C$$.canvasNormal++,C$a){var C$m;C$e._cacheRec||(C$e._cacheRec=new C$P),C$M.isWebGL&&"bitmap"!==C$p?C$e._cacheRec.setTo(-C$t.pivotX,-C$t.pivotY,1,1):((C$r=C$t.getSelfBounds()).x=C$r.x-C$t.pivotX,C$r.y=C$r.y-C$t.pivotY,C$r.x=C$r.x-16,C$r.y=C$r.y-16,C$r.width=C$r.width+32,C$r.height=C$r.height+32,C$r.x=Math.floor(C$r.x+C$c)-C$c,C$r.y=Math.floor(C$r.y+C$_)-C$_,C$r.width=Math.floor(C$r.width),C$r.height=Math.floor(C$r.height),C$e._cacheRec.copyFrom(C$r)),C$r=C$e._cacheRec;var C$g,C$a=C$M.isWebGL?1:C$S.pixelRatio*C$b.stage.clientScaleX,C$v=C$M.isWebGL?1:C$S.pixelRatio*C$b.stage.clientScaleY;if(!C$M.isWebGL){var C$o,C$x=1,C$y=1;for(C$o=C$t;C$o&&C$o!=C$b.stage;)C$x*=C$o.scaleX,C$y*=C$o.scaleY,C$o=C$o.parent;C$M.isWebGL?(C$x<1&&(C$a*=C$x),C$y<1&&(C$v*=C$y)):(1<C$x&&(C$a*=C$x),1<C$y&&(C$v*=C$y))}var C$h;if(C$t.scrollRect&&(C$h=C$t.scrollRect,C$r.x-=C$h.x,C$r.y-=C$h.y),C$h=C$r.width*C$a,C$m=C$r.height*C$v,C$d=C$r.x,C$f=C$r.y,C$M.isWebGL&&"bitmap"===C$p&&(2048<C$h||2048<C$m))return console.warn("cache bitmap size larger than 2048,cache ignored"),C$e.ctx&&(C$X.recover("RenderContext",C$e.ctx),C$e.ctx.canvas.size(0,0),C$e.ctx=null),void C$i._fun.call(C$i,C$t,C$u,C$c,C$_);var C$l;(C$s=C$s||(C$e.ctx=C$X.getItem("RenderContext")||new C$z(C$h,C$m,C$gt.create("AUTO")))).ctx.sprite=C$t,(C$n=C$s.canvas).clear(),C$n.width==C$h&&C$n.height==C$m||C$n.size(C$h,C$m),"bitmap"===C$p?C$n.context.asBitmap=!0:"normal"===C$p&&(C$n.context.asBitmap=!1),1!=C$a||1!=C$v?((C$l=C$s.ctx).save(),C$l.scale(C$a,C$v),!C$M.isConchWebGL&&C$M.isConchApp&&(C$g=C$t._$P.cf)&&C$l.setFilterMatrix&&C$l.setFilterMatrix(C$g._mat,C$g._alpha),C$i._fun.call(C$i,C$t,C$s,-C$d,-C$f),C$l.restore()):(C$l=C$s.ctx,!C$M.isConchWebGL&&C$M.isConchApp&&(C$g=C$t._$P.cf)&&C$l.setFilterMatrix&&C$l.setFilterMatrix(C$g._mat,C$g._alpha),C$i._fun.call(C$i,C$t,C$s,-C$d,-C$f)),C$M.isConchApp&&!C$M.isConchWebGL||C$t._applyFilters(),C$t._$P.staticCache&&(C$e.reCache=!1),C$$.canvasReCache++}else C$d=(C$r=C$e._cacheRec).x,C$f=C$r.y,C$n=C$s.canvas;C$u.drawCanvas(C$n,C$c+C$d,C$_+C$f,C$r.width,C$r.height)}else C$i._fun.call(C$i,C$t,C$s,C$c,C$_)},ehpzt_.__init__=function(){var C$t,C$e=0;for(C$t=C$m.createRenderSprite(69905,null),ehpzt_.renders.length=4096,C$e=0;C$e<4096;C$e++)ehpzt_.renders[C$e]=C$t;ehpzt_.renders[0]=C$m.createRenderSprite(0,null);var C$i=[1,512,4,2];var C$n=new ehpzt_(1,null);for(var C$r=0,C$s=0;C$s<C$i.length;C$s++)ehpzt_.renders[C$r|=C$i[C$s]]=C$n;ehpzt_.renders[513]=C$m.createRenderSprite(513,null),ehpzt_.renders[517]=new ehpzt_(517,null)},ehpzt_._initRenderFun=function(C$t,C$e,C$i,C$n){var C$r=C$t._renderType;(ehpzt_.renders[C$r]=ehpzt_._getTypeRender(C$r))._fun(C$t,C$e,C$i,C$n)},ehpzt_._getTypeRender=function(C$t){for(var C$e=null,C$i=2048;1<C$i;)C$i&C$t&&(C$e=C$m.createRenderSprite(C$i,C$e)),C$i>>=1;return C$e},ehpzt_.IMAGE=1,ehpzt_.ALPHA=2,ehpzt_.TRANSFORM=4,ehpzt_.BLEND=8,ehpzt_.CANVAS=16,ehpzt_.FILTERS=32,ehpzt_.MASK=64,ehpzt_.CLIP=128,ehpzt_.STYLE=256,ehpzt_.GRAPHICS=512,ehpzt_.CUSTOM=1024,ehpzt_.CHILDS=2048,ehpzt_.INIT=69905,ehpzt_.renders=[],ehpzt_.NORENDER=new ehpzt_(0,null),ehpzt_),C$F=(C$o(i4un,"laya.resource.Context"),(C$e=i4un.prototype).replaceReset=function(){var C$t,C$e,C$i=0;for(C$t=i4un.replaceKeys.length,C$i=0;C$i<C$t;C$i++)C$e=i4un.replaceKeys[C$i],this[i4un.newKeys[C$i]]=this[C$e]},C$e.replaceResotre=function(){this.__restore(),this.__reset()},C$e.setIsMainContext=function(){},C$e.drawTextures=function(C$t,C$e,C$i,C$n){C$$.drawCall+=C$e.length/2;for(var C$r=C$t.width,C$s=C$t.height,C$a=0,C$o=C$e.length;C$a<C$o;C$a+=2)this.drawTexture(C$t,C$e[C$a],C$e[C$a+1],C$r,C$s,C$i,C$n)},C$e.drawCanvas=function(C$t,C$e,C$i,C$n,C$r){C$$.drawCall++,this.drawImage(C$t.source,C$e,C$i,C$n,C$r)},C$e.fillRect=function(C$t,C$e,C$i,C$n,C$r){C$$.drawCall++,C$r&&(this.fillStyle=C$r),this.__fillRect(C$t,C$e,C$i,C$n)},C$e.fillText=function(C$t,C$e,C$i,C$n,C$r,C$s){C$$.drawCall++,3<arguments.length&&null!=C$n&&(this.font=C$n,this.fillStyle=C$r,this.textAlign=C$s,this.textBaseline="top"),this.__fillText(C$t,C$e,C$i)},C$e.fillBorderText=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){C$$.drawCall++,this.font=C$n,this.fillStyle=C$r,this.textBaseline="top",this.strokeStyle=C$s,this.lineWidth=C$a,this.textAlign=C$o,this.__strokeText(C$t,C$e,C$i),this.__fillText(C$t,C$e,C$i)},C$e.strokeText=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){C$$.drawCall++,3<arguments.length&&null!=C$n&&(this.font=C$n,this.strokeStyle=C$r,this.lineWidth=C$s,this.textAlign=C$a,this.textBaseline="top"),this.__strokeText(C$t,C$e,C$i)},C$e.transformByMatrix=function(C$t){this.transform(C$t.a,C$t.b,C$t.c,C$t.d,C$t.tx,C$t.ty)},C$e.setTransformByMatrix=function(C$t){this.setTransform(C$t.a,C$t.b,C$t.c,C$t.d,C$t.tx,C$t.ty)},C$e.clipRect=function(C$t,C$e,C$i,C$n){C$$.drawCall++,this.beginPath(),this.rect(C$t,C$e,C$i,C$n),this.clip()},C$e.drawTexture=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){C$$.drawCall++;var C$o=C$t.uv,C$h=C$t.bitmap.width,C$l=C$t.bitmap.height;this.drawImage(C$t.source,C$o[0]*C$h,C$o[1]*C$l,(C$o[2]-C$o[0])*C$h,(C$o[5]-C$o[3])*C$l,C$e+C$s,C$i+C$a,C$n,C$r)},C$e.drawTextureWithTransform=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$u,C$c){C$$.drawCall++;var C$o=C$t.uv,C$h=C$t.bitmap.width,C$l=C$t.bitmap.height;this.save(),1!=C$c&&(this.globalAlpha*=C$c),C$s?(this.transform(C$s.a,C$s.b,C$s.c,C$s.d,C$s.tx+C$a,C$s.ty+C$u),this.drawImage(C$t.source,C$o[0]*C$h,C$o[1]*C$l,(C$o[2]-C$o[0])*C$h,(C$o[5]-C$o[3])*C$l,C$e,C$i,C$n,C$r)):this.drawImage(C$t.source,C$o[0]*C$h,C$o[1]*C$l,(C$o[2]-C$o[0])*C$h,(C$o[5]-C$o[3])*C$l,C$e+C$a,C$i+C$u,C$n,C$r),this.restore()},C$e.drawTexture2=function(C$t,C$e,C$i,C$n,C$r,C$s,C$u,C$a){var C$o=C$a[0];var C$c,C$_,C$h,C$l;C$o.loaded&&C$o.bitmap&&C$o.source&&(C$$.drawCall++,(C$c=1!==C$s)&&(C$_=this.globalAlpha,this.globalAlpha*=C$s),C$s=C$o.uv,C$h=C$o.bitmap.width,C$l=C$o.bitmap.height,C$r?(this.save(),this.transform(C$r.a,C$r.b,C$r.c,C$r.d,C$r.tx+C$t,C$r.ty+C$e),this.drawImage(C$o.source,C$s[0]*C$h,C$s[1]*C$l,(C$s[2]-C$s[0])*C$h,(C$s[5]-C$s[3])*C$l,C$a[1]-C$i,C$a[2]-C$n,C$a[3],C$a[4]),this.restore()):this.drawImage(C$o.source,C$s[0]*C$h,C$s[1]*C$l,(C$s[2]-C$s[0])*C$h,(C$s[5]-C$s[3])*C$l,C$a[1]-C$i+C$t,C$a[2]-C$n+C$e,C$a[3],C$a[4]),C$c&&(this.globalAlpha=C$_))},C$e.fillTexture=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){C$o.pat||(C$t.uv!=C$ut.DEF_UV&&((C$h=new C$gt("2D")).getContext("2d"),C$h.size(C$t.width,C$t.height),C$h.context.drawTexture(C$t,0,0,C$t.width,C$t.height,0,0),C$t=new C$ut(C$h)),C$o.pat=this.createPattern(C$t.bitmap.source,C$s));var C$h=C$e,C$s=C$i,C$e=0,C$i=0;C$a&&(C$h+=C$a.x%C$t.width,C$s+=C$a.y%C$t.height,C$e-=C$a.x%C$t.width,C$i-=C$a.y%C$t.height),this.translate(C$h,C$s),this.fillRect(C$e,C$i,C$n,C$r,C$o.pat),this.translate(-C$h,-C$s)},C$e.drawTriangle=function(C$u,C$t,C$e,C$i,C$n,C$r,C$c,C$s){var C$_=C$u.bitmap,C$d=C$_.source,C$f=C$u.width,C$p=C$u.height,C$m=C$_.width,C$_=C$_.height,C$a=C$e[C$i]*C$m,C$o=C$e[C$n]*C$m,C$g=C$e[C$r]*C$m,C$v=C$e[C$i+1]*C$_,C$x=C$e[C$n+1]*C$_,C$e=C$e[C$r+1]*C$_,C$y=C$t[C$i],C$b=C$t[C$n],C$w=C$t[C$r],C$i=C$t[C$i+1],C$n=C$t[C$n+1],C$t=C$t[C$r+1];var C$T,C$h;C$s&&(C$s=C$i-(C$r=(C$i+C$n+C$t)/3),C$y=(C$l=(C$y+C$b+C$w)/3)+(C$T=C$y-C$l)/(C$h=Math.sqrt(C$T*C$T+C$s*C$s))*(C$h+1),C$i=C$r+C$s/C$h*(C$h+1),C$s=C$n-C$r,C$b=C$l+(C$T=C$b-C$l)/(C$h=Math.sqrt(C$T*C$T+C$s*C$s))*(C$h+1),C$n=C$r+C$s/C$h*(C$h+1),C$s=C$t-C$r,C$w=C$l+(C$T=C$w-C$l)/(C$h=Math.sqrt(C$T*C$T+C$s*C$s))*(C$h+1),C$t=C$r+C$s/C$h*(C$h+1)),this.save(),C$c&&this.transform(C$c.a,C$c.b,C$c.c,C$c.d,C$c.tx,C$c.ty),this.beginPath(),this.moveTo(C$y,C$i),this.lineTo(C$b,C$n),this.lineTo(C$w,C$t),this.closePath(),this.clip();var C$l=1/(C$a*C$x+C$v*C$g+C$o*C$e-C$x*C$g-C$v*C$o-C$a*C$e);this.transform((C$y*C$x+C$v*C$w+C$b*C$e-C$x*C$w-C$v*C$b-C$y*C$e)*C$l,(C$i*C$x+C$v*C$t+C$n*C$e-C$x*C$t-C$v*C$n-C$i*C$e)*C$l,(C$a*C$b+C$y*C$g+C$o*C$w-C$b*C$g-C$y*C$o-C$a*C$w)*C$l,(C$a*C$n+C$i*C$g+C$o*C$t-C$n*C$g-C$i*C$o-C$a*C$t)*C$l,(C$a*C$x*C$w+C$v*C$b*C$g+C$y*C$o*C$e-C$y*C$x*C$g-C$v*C$o*C$w-C$a*C$b*C$e)*C$l,(C$a*C$x*C$t+C$v*C$n*C$g+C$i*C$o*C$e-C$i*C$x*C$g-C$v*C$o*C$t-C$a*C$n*C$e)*C$l),this.drawImage(C$d,C$u.uv[0]*C$m,C$u.uv[1]*C$_,C$f,C$p,C$u.uv[0]*C$m,C$u.uv[1]*C$_,C$f,C$p),this.restore()},C$e.flush=function(){return 0},C$e.fillWords=function(C$t,C$e,C$i,C$n,C$r,C$s){C$n&&(this.font=C$n),C$r&&(this.fillStyle=C$r),this.textBaseline="top",this.textAlign="left";for(var C$a=0,C$u=C$t.length;C$a<C$u;C$a++){var C$o=C$t[C$a];var C$h,C$l;this.__fillText(C$o.char,C$o.x+C$e,C$o.y+C$i),1===C$s&&(C$h=C$o.height,C$l=(C$l=.5*C$o.style.letterSpacing)||0,this.beginPath(),this.strokeStyle=C$r,this.lineWidth=1,this.moveTo(C$e+C$o.x-C$l+.5,C$i+C$o.y+C$h+.5),this.lineTo(C$e+C$o.x+C$o.width+C$l+.5,C$i+C$o.y+C$h+.5),this.stroke())}},C$e.fillBorderWords=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){C$n&&(this.font=C$n),C$r&&(this.fillStyle=C$r),this.textBaseline="top",this.lineWidth=C$a,this.textAlign="left",this.strokeStyle=C$s;for(var C$o=0,C$h=C$t.length;C$o<C$h;C$o++){var C$l=C$t[C$o];this.__strokeText(C$l.char,C$l.x+C$e,C$l.y+C$i),this.__fillText(C$l.char,C$l.x+C$e,C$l.y+C$i)}},C$e.destroy=function(){this.canvas.width=this.canvas.height=0},C$e.clear=function(){this.clearRect(0,0,this._canvas.width,this._canvas.height),this._repaint=!1},C$e.drawCurves=function(C$t,C$e,C$i){this.beginPath(),this.strokeStyle=C$i[3],this.lineWidth=C$i[4];var C$n=C$i[2];C$t+=C$i[0],C$e+=C$i[1],this.moveTo(C$t+C$n[0],C$e+C$n[1]);for(var C$r=2,C$s=C$n.length;C$r<C$s;)this.quadraticCurveTo(C$t+C$n[C$r++],C$e+C$n[C$r++],C$t+C$n[C$r++],C$e+C$n[C$r++]);this.stroke()},i4un.__init__=function(C$e){var C$i=laya.resource.Context.prototype;(C$e=C$e||CanvasRenderingContext2D.prototype).inited||(C$e.inited=!0,C$e.__fillText=C$e.fillText,C$e.__fillRect=C$e.fillRect,C$e.__strokeText=C$e.strokeText,["drawTextures","drawTriangle","fillWords","fillBorderWords","setIsMainContext","fillRect","strokeText","fillTexture","fillText","transformByMatrix","setTransformByMatrix","clipRect","drawTexture","drawTexture2","drawTextureWithTransform","flush","clear","destroy","drawCanvas","fillBorderText","drawCurves"].forEach(function(C$t){C$e[C$t]=C$i[C$t]}))},i4un.replaceCanvasGetSet=function(C$t,C$e){var C$i=Object.getOwnPropertyDescriptor(C$t,C$e);if(!C$i||!C$i.configurable)return!1;var C$n,C$r={};for(C$n in C$i)"set"!=C$n&&(C$r[C$n]=C$i[C$n]);var C$s=C$i.set;return C$r.set=function(C$t){C$s.call(this,C$t);C$t=this.getContext("2d");C$t&&"__reset"in C$t&&C$t.__reset()},Object.defineProperty(C$t,C$e,C$r),!0},i4un.replaceGetSet=function(C$t,C$e){var C$i=Object.getOwnPropertyDescriptor(C$t,C$e);if(!C$i||!C$i.configurable)return!1;var C$n,C$r={};for(C$n in C$i)"set"!=C$n&&(C$r[C$n]=C$i[C$n]);var C$s=C$i.set,C$a="___"+C$e+"__";return i4un.newKeys.push(C$a),C$r.set=function(C$t){C$t!=this[C$a]&&(this[C$a]=C$t,C$s.call(this,C$t))},Object.defineProperty(C$t,C$e,C$r),!0},i4un._default=new i4un,i4un.newKeys=[],C$a(i4un,["replaceKeys",function(){return this.replaceKeys=["font","fillStyle","textBaseline"]}]),i4un),C$V=(C$o(k5o0bq,"laya.resource.ResourceManager"),C$e=k5o0bq.prototype,C$b.imps(C$e,{"laya.resource.IDispose":!0}),C$e.getResourceByIndex=function(C$t){return this._resources[C$t]},C$e.getResourcesLength=function(){return this._resources.length},C$e.addResource=function(C$t){return C$t.resourceManager&&C$t.resourceManager.removeResource(C$t),-1===this._resources.indexOf(C$t)&&((C$t._resourceManager=this)._resources.push(C$t),this.addRecord(C$t.uri,C$t.__className,C$t.memorySize),this.addSize(C$t.memorySize),!0)},C$e.removeResource=function(C$t){var C$e=this._resources.indexOf(C$t);return-1!==C$e&&(this._resources.splice(C$e,1),C$t._resourceManager=null,this._memorySize-=C$t.memorySize,this.addRecord(C$t.uri,C$t.__className,-C$t.memorySize),!0)},C$e.unload=function(){for(var C$t=this._resources.slice(0,this._resources.length),C$e=0;C$e<C$t.length;C$e++)C$t[C$e].destroy();C$t.length=0},C$e.dispose=function(){if(this===k5o0bq._systemResourceManager)throw new Error("systemResourceManager\u4e0d\u80fd\u88ab\u91ca\u653e\uff01");k5o0bq._resourceManagers.splice(k5o0bq._resourceManagers.indexOf(this),1),k5o0bq._isResourceManagersSorted=!1;for(var C$t=this._resources.slice(0,this._resources.length),C$e=0;C$e<C$t.length;C$e++){var C$i=C$t[C$e];C$i.resourceManager.removeResource(C$i),C$i.destroy()}C$t.length=0},C$e.addSize=function(C$t){C$t&&(this.autoRelease&&0<C$t&&this._memorySize+C$t>this.autoReleaseMaxSize&&this.garbageCollection((1-this._garbageCollectionRate)*this.autoReleaseMaxSize),this._memorySize+=C$t)},C$e.addRecord=function(C$t,C$e,C$i){},C$e.garbageCollection=function(C$t){var C$e=this._resources;(C$e=C$e.slice()).sort(function(C$t,C$e){if(!C$t||!C$e)throw new Error("a\u6216b\u4e0d\u80fd\u4e3a\u7a7a\uff01");return C$t.released&&C$e.released?0:C$t.released?1:C$e.released?-1:C$t._lastUseFrameCount-C$e._lastUseFrameCount});for(var C$i=C$$.loopCount,C$n=0,C$r=C$e.length;C$n<C$r;C$n++){var C$s=C$e[C$n];if(!(1<C$i-C$s._lastUseFrameCount))return void(this._memorySize>=C$t&&(this._isOverflow=!0));if(C$s.releaseResource(),this._memorySize<C$t)return void(this._isOverflow=!1)}},C$t(0,C$e,"id",function(){return this._id}),C$t(0,C$e,"name",function(){return this._name},function(C$t){!C$t&&""===C$t||this._name===C$t||(this._name=C$t,k5o0bq._isResourceManagersSorted=!1)}),C$t(0,C$e,"memorySize",function(){return this._memorySize}),C$t(0,C$e,"records",function(){return this._records}),C$t(1,k5o0bq,"systemResourceManager",function(){return k5o0bq._systemResourceManager}),k5o0bq.__init__=function(){k5o0bq.currentResourceManager=k5o0bq.systemResourceManager},k5o0bq.getLoadedResourceManagerByIndex=function(C$t){return k5o0bq._resourceManagers[C$t]},k5o0bq.getLoadedResourceManagersCount=function(){return k5o0bq._resourceManagers.length},k5o0bq.recreateContentManagers=function(C$t){void 0===C$t&&(C$t=!1);for(var C$e=k5o0bq.currentResourceManager,C$i=0;C$i<k5o0bq._resourceManagers.length;C$i++){k5o0bq.currentResourceManager=k5o0bq._resourceManagers[C$i];for(var C$n=0;C$n<k5o0bq.currentResourceManager._resources.length;C$n++)k5o0bq.currentResourceManager._resources[C$n].releaseResource(C$t),k5o0bq.currentResourceManager._resources[C$n].activeResource(C$t)}k5o0bq.currentResourceManager=C$e},k5o0bq.releaseContentManagers=function(C$t){void 0===C$t&&(C$t=!1);for(var C$e=k5o0bq.currentResourceManager,C$i=0;C$i<k5o0bq._resourceManagers.length;C$i++){k5o0bq.currentResourceManager=k5o0bq._resourceManagers[C$i];for(var C$n=0;C$n<k5o0bq.currentResourceManager._resources.length;C$n++){var C$r=k5o0bq.currentResourceManager._resources[C$n];C$r.released||C$r.releaseResource(C$t)}}k5o0bq.currentResourceManager=C$e},k5o0bq._uniqueIDCounter=0,k5o0bq._isResourceManagersSorted=!1,k5o0bq._resourceManagers=[],C$a(k5o0bq,["_systemResourceManager",function(){return this._systemResourceManager=new k5o0bq("System Resource Manager")},"currentResourceManager",function(){return this.currentResourceManager=k5o0bq._systemResourceManager}]),k5o0bq),C$S=(C$o(fsw9$2,"laya.system.System"),fsw9$2.changeDefinition=function(C$t,C$e){C$b[C$t]=C$e,C$b._runScript(C$t+"=classObj")},fsw9$2.__init__=function(){C$M.isConchApp&&(conch.disableConchResManager(),conch.disableConchAutoRestoreLostedDevice())},C$o(ua34n,"laya.utils.Browser"),C$t(1,ua34n,"pixelRatio",function(){return ua34n.__init__(),-1<ua34n.userAgent.indexOf("Mozilla/6.0(Linux; Android 6.0; HUAWEI NXT-AL10 Build/HUAWEINXT-AL10)")?2:C$m.getPixelRatio()}),C$t(1,ua34n,"height",function(){return ua34n.__init__(),(C$b.stage&&C$b.stage.canvasRotation?ua34n.clientWidth:ua34n.clientHeight)*ua34n.pixelRatio}),C$t(1,ua34n,"clientWidth",function(){return ua34n.__init__(),ua34n.window.innerWidth||ua34n.document.body.clientWidth}),C$t(1,ua34n,"window",function(){return ua34n.__init__(),ua34n._window}),C$t(1,ua34n,"clientHeight",function(){return ua34n.__init__(),ua34n.window.innerHeight||ua34n.document.body.clientHeight||ua34n.document.documentElement.clientHeight}),C$t(1,ua34n,"width",function(){return ua34n.__init__(),(C$b.stage&&C$b.stage.canvasRotation?ua34n.clientHeight:ua34n.clientWidth)*ua34n.pixelRatio}),C$t(1,ua34n,"container",function(){return ua34n.__init__(),ua34n._container||((ua34n._container=ua34n.createElement("div")).id="layaContainer",ua34n.document.body.appendChild(ua34n._container)),ua34n._container},function(C$t){ua34n._container=C$t}),C$t(1,ua34n,"document",function(){return ua34n.__init__(),ua34n._document}),ua34n.__init__=function(){var C$t;ua34n._window||(ua34n._window=C$m.getWindow(),ua34n._document=ua34n.window.document,ua34n._window.addEventListener("message",function(C$t){laya.utils.Browser._onMessage(C$t)},!1),ua34n.document.__createElement=ua34n.document.createElement,C$s.requestAnimationFrame=C$s.requestAnimationFrame||C$s.webkitRequestAnimationFrame||C$s.mozRequestAnimationFrame||C$s.oRequestAnimationFrame||C$s.msRequestAnimationFrame||function(C$t){return C$s.setTimeout(C$t,1e3/60)},(C$t=C$s.document.body.style)["-webkit-user-select"]="none",C$t["-webkit-tap-highlight-color"]="rgba(200,200,200,0)",ua34n.userAgent=ua34n.window.navigator.userAgent,ua34n.onIOS=!!(ua34n.u=ua34n.userAgent).match(/\(i[^;]+;(U;)? CPU.+Mac OS X/),ua34n.onMobile=-1<ua34n.u.indexOf("Mobile"),ua34n.onIPhone=-1<ua34n.u.indexOf("iPhone"),ua34n.onMac=-1<ua34n.u.indexOf("Mac OS X"),ua34n.onIPad=-1<ua34n.u.indexOf("iPad"),ua34n.onAndroid=-1<ua34n.u.indexOf("Android")||-1<ua34n.u.indexOf("Adr"),ua34n.onWP=-1<ua34n.u.indexOf("Windows Phone"),ua34n.onQQBrowser=-1<ua34n.u.indexOf("QQBrowser"),ua34n.onMQQBrowser=-1<ua34n.u.indexOf("MQQBrowser")||-1<ua34n.u.indexOf("Mobile")&&-1<ua34n.u.indexOf("QQ"),ua34n.onIE=!!ua34n.window.ActiveXObject||"ActiveXObject"in ua34n.window,ua34n.onWeiXin=-1<ua34n.u.indexOf("MicroMessenger"),ua34n.onPC=!ua34n.onMobile,ua34n.onSafari=-1<ua34n.u.indexOf("Safari"),ua34n.onFirefox=-1<ua34n.u.indexOf("Firefox"),ua34n.onEdge=-1<ua34n.u.indexOf("Edge"),ua34n.onMiniGame=-1<ua34n.u.indexOf("MiniGame"),ua34n.onLimixiu=-1<ua34n.u.indexOf("limixiu"),ua34n.httpProtocol="http:"==ua34n.window.location.protocol,ua34n.onMiniGame&&null==ua34n.window.focus&&console.error("\u8bf7\u5148\u521d\u59cb\u5316\u5c0f\u6e38\u620f\u9002\u914d\u5e93\uff0c\u8be6\u7ec6\u6559\u7a0bhttps://ldc.layabox.com/doc/?nav=zh-ts-5-0-0"),ua34n.webAudioEnabled=!!(ua34n.window.AudioContext||ua34n.window.webkitAudioContext||ua34n.window.mozAudioContext),ua34n.soundType=ua34n.webAudioEnabled?"WEBAUDIOSOUND":"AUDIOSOUND",C$st=ua34n.webAudioEnabled?C$at:C$rt,ua34n.webAudioEnabled&&C$at.initWebAudio(),C$rt._initMusicAudio(),ua34n.enableTouch="ontouchstart"in C$s||C$s.DocumentTouch&&C$r instanceof DocumentTouch,C$s.focus(),C$L._soundClass=C$st,C$L._musicClass=C$rt,C$M._mainCanvas=C$M._mainCanvas||C$gt.create("2D"),ua34n.canvas||(ua34n.canvas=C$gt.create("2D"),ua34n.context=ua34n.canvas.getContext("2d")))},ua34n._onMessage=function(C$t){C$t.data&&"size"==C$t.data.name&&(ua34n.window.innerWidth=C$t.data.width,ua34n.window.innerHeight=C$t.data.height,ua34n.window.__innerHeight=C$t.data.clientHeight,ua34n.document.createEvent?((C$t=ua34n.document.createEvent("HTMLEvents")).initEvent("resize",!1,!1),ua34n.window.dispatchEvent(C$t)):console.warn("no document.createEvent"))},ua34n.createElement=function(C$t){return ua34n.__init__(),ua34n.document.__createElement(C$t)},ua34n.getElementById=function(C$t){return ua34n.__init__(),ua34n.document.getElementById(C$t)},ua34n.removeElement=function(C$t){C$t&&C$t.parentNode&&C$t.parentNode.removeChild(C$t)},ua34n.now=function(){return C$m.now()},ua34n._window=null,ua34n._document=null,ua34n._container=null,ua34n.userAgent=null,ua34n.u=null,ua34n.onIOS=!1,ua34n.onMac=!1,ua34n.onMobile=!1,ua34n.onIPhone=!1,ua34n.onIPad=!1,ua34n.onAndroid=!1,ua34n.onWP=!1,ua34n.onQQBrowser=!1,ua34n.onMQQBrowser=!1,ua34n.onSafari=!1,ua34n.onFirefox=!1,ua34n.onEdge=!1,ua34n.onIE=!1,ua34n.onWeiXin=!1,ua34n.onMiniGame=!1,ua34n.onLimixiu=!1,ua34n.onPC=!1,ua34n.httpProtocol=!1,ua34n.webAudioEnabled=!1,ua34n.soundType=null,ua34n.enableTouch=!1,ua34n.canvas=null,ua34n.context=null,ua34n.__init$=function(){},ua34n),C$j=(C$o(d0bk6,"laya.utils.Byte"),(C$e=d0bk6.prototype).___resizeBuffer=function(C$e){try{var C$t=new Uint8Array(C$e);null!=this._u8d_&&(this._u8d_.length<=C$e?C$t.set(this._u8d_):C$t.set(this._u8d_.subarray(0,C$e))),this._u8d_=C$t,this._d_=new DataView(C$t.buffer)}catch(C$t){throw"___resizeBuffer err:"+C$e}},C$e.getString=function(){return this.rUTF(this.getUint16())},C$e.getFloat32Array=function(C$t,C$e){C$e=C$t+C$e;C$e=C$e>this._length?this._length:C$e;C$t=new Float32Array(this._d_.buffer.slice(C$t,C$e));return this._pos_=C$e,C$t},C$e.getUint8Array=function(C$t,C$e){C$e=C$t+C$e;C$e=C$e>this._length?this._length:C$e;C$t=new Uint8Array(this._d_.buffer.slice(C$t,C$e));return this._pos_=C$e,C$t},C$e.getInt16Array=function(C$t,C$e){C$e=C$t+C$e;C$e=C$e>this._length?this._length:C$e;C$t=new Int16Array(this._d_.buffer.slice(C$t,C$e));return this._pos_=C$e,C$t},C$e.getFloat32=function(){if(this._pos_+4>this._length)throw"getFloat32 error - Out of bounds";var C$t=this._d_.getFloat32(this._pos_,this._xd_);return this._pos_+=4,C$t},C$e.getFloat64=function(){if(this._pos_+8>this._length)throw"getFloat64 error - Out of bounds";var C$t=this._d_.getFloat64(this._pos_,this._xd_);return this._pos_+=8,C$t},C$e.writeFloat32=function(C$t){this.ensureWrite(this._pos_+4),this._d_.setFloat32(this._pos_,C$t,this._xd_),this._pos_+=4},C$e.writeFloat64=function(C$t){this.ensureWrite(this._pos_+8),this._d_.setFloat64(this._pos_,C$t,this._xd_),this._pos_+=8},C$e.getInt32=function(){if(this._pos_+4>this._length)throw"getInt32 error - Out of bounds";var C$t=this._d_.getInt32(this._pos_,this._xd_);return this._pos_+=4,C$t},C$e.getUint32=function(){if(this._pos_+4>this._length)throw"getUint32 error - Out of bounds";var C$t=this._d_.getUint32(this._pos_,this._xd_);return this._pos_+=4,C$t},C$e.writeInt32=function(C$t){this.ensureWrite(this._pos_+4),this._d_.setInt32(this._pos_,C$t,this._xd_),this._pos_+=4},C$e.writeUint32=function(C$t){this.ensureWrite(this._pos_+4),this._d_.setUint32(this._pos_,C$t,this._xd_),this._pos_+=4},C$e.getInt16=function(){if(this._pos_+2>this._length)throw"getInt16 error - Out of bounds";var C$t=this._d_.getInt16(this._pos_,this._xd_);return this._pos_+=2,C$t},C$e.getUint16=function(){if(this._pos_+2>this._length)throw"getUint16 error - Out of bounds";var C$t=this._d_.getUint16(this._pos_,this._xd_);return this._pos_+=2,C$t},C$e.writeUint16=function(C$t){this.ensureWrite(this._pos_+2),this._d_.setUint16(this._pos_,C$t,this._xd_),this._pos_+=2},C$e.writeInt16=function(C$t){this.ensureWrite(this._pos_+2),this._d_.setInt16(this._pos_,C$t,this._xd_),this._pos_+=2},C$e.getUint8=function(){if(this._pos_+1>this._length)throw"getUint8 error - Out of bounds";return this._d_.getUint8(this._pos_++)},C$e.writeUint8=function(C$t){this.ensureWrite(this._pos_+1),this._d_.setUint8(this._pos_,C$t),this._pos_++},C$e._getUInt8=function(C$t){return this._d_.getUint8(C$t)},C$e._getUint16=function(C$t){return this._d_.getUint16(C$t,this._xd_)},C$e._getMatrix=function(){return new C$I(this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32())},C$e.rUTF=function(C$t){for(var C$e,C$i,C$n=[],C$r=this._pos_+C$t,C$s=0,C$a=String.fromCharCode,C$o=this._u8d_;this._pos_<C$r;)(C$e=C$o[this._pos_++])<128?0!=C$e&&C$n.push(C$a(C$e)):C$e<224?C$n.push(C$a((63&C$e)<<6|127&C$o[this._pos_++])):C$e<240?(C$s=C$o[this._pos_++],C$n.push(C$a((31&C$e)<<12|(127&C$s)<<6|127&C$o[this._pos_++]))):(C$s=C$o[this._pos_++],C$i=C$o[this._pos_++],C$n.push(C$a((15&C$e)<<18|(127&C$s)<<12|C$i<<6&127|127&C$o[this._pos_++])));return C$n.join("")},C$e.getCustomString=function(C$t){for(var C$e,C$i=[],C$n=0,C$r=0,C$s=String.fromCharCode,C$a=this._u8d_;0<C$t;)if((C$r=C$a[this._pos_])<128)C$i.push(C$s(C$r)),this._pos_++,C$t--;else for(C$n=C$r-128,this._pos_++,C$t-=C$n;0<C$n;)C$r=C$a[this._pos_++],C$e=C$a[this._pos_++],C$i.push(C$s(C$e<<8|C$r)),C$n--;return C$i.join("")},C$e.clear=function(){this._pos_=0,this.length=0},C$e.__getBuffer=function(){return this._d_.buffer},C$e.writeUTFBytes=function(C$t){for(var C$e=0,C$i=(C$t+="").length;C$e<C$i;C$e++){var C$n=C$t.charCodeAt(C$e);C$n<=127?this.writeByte(C$n):C$n<=2047?(this.ensureWrite(this._pos_+2),this._u8d_.set([192|C$n>>6,128|63&C$n],this._pos_),this._pos_+=2):C$n<=65535?(this.ensureWrite(this._pos_+3),this._u8d_.set([224|C$n>>12,128|C$n>>6&63,128|63&C$n],this._pos_),this._pos_+=3):(this.ensureWrite(this._pos_+4),this._u8d_.set([240|C$n>>18,128|C$n>>12&63,128|C$n>>6&63,128|63&C$n],this._pos_),this._pos_+=4)}},C$e.writeUTFString=function(C$t){var C$e=this.pos;this.writeUint16(1),this.writeUTFBytes(C$t);C$t=this.pos-C$e-2;if(65536<=C$t)throw"writeUTFString byte len more than 65536";this._d_.setUint16(C$e,C$t,this._xd_)},C$e.readUTFString=function(){return this.readUTFBytes(this.getUint16())},C$e.getUTFString=function(){return this.readUTFString()},C$e.readUTFBytes=function(C$t){if(0==(C$t=void 0===C$t?-1:C$t))return"";var C$e=this.bytesAvailable;if(C$e<C$t)throw"readUTFBytes error - Out of bounds";return this.rUTF(C$t=0<C$t?C$t:C$e)},C$e.getUTFBytes=function(C$t){return this.readUTFBytes(C$t=void 0===C$t?-1:C$t)},C$e.writeByte=function(C$t){this.ensureWrite(this._pos_+1),this._d_.setInt8(this._pos_,C$t),this._pos_+=1},C$e.readByte=function(){if(this._pos_+1>this._length)throw"readByte error - Out of bounds";return this._d_.getInt8(this._pos_++)},C$e.getByte=function(){return this.readByte()},C$e.ensureWrite=function(C$t){this._length<C$t&&(this._length=C$t),this._allocated_<C$t&&(this.length=C$t)},C$e.writeArrayBuffer=function(C$t,C$e,C$i){if(void 0===C$i&&(C$i=0),(C$e=void 0===C$e?0:C$e)<0||C$i<0)throw"writeArrayBuffer error - Out of bounds";0==C$i&&(C$i=C$t.byteLength-C$e),this.ensureWrite(this._pos_+C$i);C$t=new Uint8Array(C$t);this._u8d_.set(C$t.subarray(C$e,C$e+C$i),this._pos_),this._pos_+=C$i},C$t(0,C$e,"buffer",function(){var C$t=this._d_.buffer;return C$t.byteLength==this.length?C$t:C$t.slice(0,this.length)}),C$t(0,C$e,"endian",function(){return this._xd_?"littleEndian":"bigEndian"},function(C$t){this._xd_="littleEndian"==C$t}),C$t(0,C$e,"length",function(){return this._length},function(C$t){this._allocated_<C$t?this.___resizeBuffer(this._allocated_=Math.floor(Math.max(C$t,2*this._allocated_))):this._allocated_>C$t&&this.___resizeBuffer(this._allocated_=C$t),this._length=C$t}),C$t(0,C$e,"pos",function(){return this._pos_},function(C$t){this._pos_=C$t}),C$t(0,C$e,"bytesAvailable",function(){return this._length-this._pos_}),d0bk6.getSystemEndian=function(){var C$t;return d0bk6._sysEndian||(C$t=new ArrayBuffer(2),new DataView(C$t).setInt16(0,256,!0),d0bk6._sysEndian=256===new Int16Array(C$t)[0]?"littleEndian":"bigEndian"),d0bk6._sysEndian},d0bk6.BIG_ENDIAN="bigEndian",d0bk6.LITTLE_ENDIAN="littleEndian",d0bk6._sysEndian=null,d0bk6),C$U=(C$o(i3un14,"laya.utils.CacheManager"),i3un14.regCacheByFunction=function(C$t,C$e){i3un14.unRegCacheByFunction(C$t,C$e),i3un14._cacheList.push({tryDispose:C$t,getCacheList:C$e})},i3un14.unRegCacheByFunction=function(C$t,C$e){var C$i,C$n=0;for(C$i=i3un14._cacheList.length,C$n=0;C$n<C$i;C$n++)if(i3un14._cacheList[C$n].tryDispose==C$t&&i3un14._cacheList[C$n].getCacheList==C$e)return void i3un14._cacheList.splice(C$n,1)},i3un14.forceDispose=function(){var C$t=0,C$e=i3un14._cacheList.length;for(C$t=0;C$t<C$e;C$t++)i3un14._cacheList[C$t].tryDispose(!0)},i3un14.beginCheck=function(C$t){C$b.timer.loop(C$t=void 0===C$t?15e3:C$t,null,i3un14._checkLoop)},i3un14.stopCheck=function(){C$b.timer.clear(null,i3un14._checkLoop)},i3un14._checkLoop=function(){var C$t=i3un14._cacheList;if(!(C$t.length<1)){var C$e,C$i=C$S.now(),C$n=0;for(C$e=C$n=C$t.length;0<C$n&&(C$t[i3un14._index=++i3un14._index%C$e].tryDispose(!1),!(C$S.now()-C$i>i3un14.loopTimeLimit));)C$n--}},i3un14.loopTimeLimit=2,i3un14._cacheList=[],i3un14._index=0,i3un14),C$q=(C$o(vyrjx7,"laya.utils.ClassUtils"),vyrjx7.regClass=function(C$t,C$e){vyrjx7._classMap[C$t]=C$e},vyrjx7.getRegClass=function(C$t){return vyrjx7._classMap[C$t]},vyrjx7.getInstance=function(C$t){var C$e=vyrjx7.getClass(C$t);return C$e?new C$e:(console.warn("[error] Undefined class:",C$t),null)},vyrjx7.createByJson=function(C$t,C$e,C$i,C$n,C$r){var C$s=(C$t="string"==typeof C$t?JSON.parse(C$t):C$t).props;if(!C$e&&!(C$e=C$r?C$r.runWith(C$t):vyrjx7.getInstance(C$s.runtime||C$t.type)))return null;var C$u=C$t.child;if(C$u)for(var C$c=0,C$_=C$u.length;C$c<C$_;C$c++){var C$a=C$u[C$c];var C$o;"render"!==C$a.props.name&&"render"!==C$a.props.renderType||!C$e._$set_itemRender?"Graphic"==C$a.type?vyrjx7.addGraphicsToSprite(C$a,C$e):vyrjx7.isDrawType(C$a.type)?vyrjx7.addGraphicToSprite(C$a,C$e,!0):(C$o=vyrjx7.createByJson(C$a,null,C$i,C$n,C$r),"Script"==C$a.type?C$o.hasOwnProperty("owner")?C$o.owner=C$e:C$o.hasOwnProperty("target")&&(C$o.target=C$e):"mask"==C$a.props.renderType?C$e.mask=C$o:C$e.addChild(C$o)):C$e.itemRender=C$a}if(C$s)for(var C$h in C$s){var C$l=C$s[C$h];"var"===C$h&&C$i?C$i[C$l]=C$e:C$l instanceof Array&&"function"==typeof C$e[C$h]?C$e[C$h].apply(C$e,C$l):C$e[C$h]=C$l}return C$n&&C$t.customProps&&C$n.runWith([C$e,C$t]),C$e.created&&C$e.created(),C$e},vyrjx7.addGraphicsToSprite=function(C$t,C$e){var C$i;if((C$i=C$t.child)&&!(C$i.length<1)){var C$n;C$n=vyrjx7._getGraphicsFromSprite(C$t,C$e);var C$e=0,C$r=0;C$t.props&&(C$e=vyrjx7._getObjVar(C$t.props,"x",0),C$r=vyrjx7._getObjVar(C$t.props,"y",0)),0!=C$e&&0!=C$r&&C$n.translate(C$e,C$r);var C$s,C$a=0;for(C$s=C$i.length,C$a=0;C$a<C$s;C$a++)vyrjx7._addGraphicToGraphics(C$i[C$a],C$n);0!=C$e&&0!=C$r&&C$n.translate(-C$e,-C$r)}},vyrjx7.addGraphicToSprite=function(C$t,C$e,C$i){C$i=(C$i=void 0===C$i?!1:C$i)?vyrjx7._getGraphicsFromSprite(C$t,C$e):C$e.graphics,vyrjx7._addGraphicToGraphics(C$t,C$i)},vyrjx7._getGraphicsFromSprite=function(C$t,C$e){var C$i,C$n;if(!C$t||!C$t.props)return C$e.graphics;switch(C$n=C$t.props.renderType){case"hit":case"unHit":var C$r;C$e.hitArea||(C$e.hitArea=new C$Y),(C$r=C$e.hitArea)[C$n]||(C$r[C$n]=new C$d),C$i=C$r[C$n]}return C$i=C$i||C$e.graphics},vyrjx7._getTransformData=function(C$t){var C$e;(C$t.hasOwnProperty("pivotX")||C$t.hasOwnProperty("pivotY"))&&(C$e=C$e||new C$I).translate(-vyrjx7._getObjVar(C$t,"pivotX",0),-vyrjx7._getObjVar(C$t,"pivotY",0));var C$i=vyrjx7._getObjVar(C$t,"scaleX",1),C$n=vyrjx7._getObjVar(C$t,"scaleY",1),C$r=vyrjx7._getObjVar(C$t,"rotation",0);return vyrjx7._getObjVar(C$t,"skewX",0),vyrjx7._getObjVar(C$t,"skewY",0),1==C$i&&1==C$n&&0==C$r||((C$e=C$e||new C$I).scale(C$i,C$n),C$e.rotate(.0174532922222222*C$r)),C$e},vyrjx7._addGraphicToGraphics=function(C$t,C$e){var C$i;var C$n;(C$n=C$t.props)&&(C$i=vyrjx7.DrawTypeDic[C$t.type])&&(C$t=C$e,C$e=vyrjx7._getParams(C$n,C$i[1],C$i[2],C$i[3]),!(C$n=vyrjx7._tM)&&1==vyrjx7._alpha||(C$t.save(),C$n&&C$t.transform(C$n),1!=vyrjx7._alpha&&C$t.alpha(vyrjx7._alpha)),C$t[C$i[0]].apply(C$t,C$e),!C$n&&1==vyrjx7._alpha||C$t.restore())},vyrjx7._adptLineData=function(C$t){return C$t[2]=parseFloat(C$t[0])+parseFloat(C$t[2]),C$t[3]=parseFloat(C$t[1])+parseFloat(C$t[3]),C$t},vyrjx7._adptTextureData=function(C$t){return C$t[0]=C$ht.getRes(C$t[0]),C$t},vyrjx7._adptLinesData=function(C$t){return C$t[2]=vyrjx7._getPointListByStr(C$t[2]),C$t},vyrjx7.isDrawType=function(C$t){return"Image"!=C$t&&vyrjx7.DrawTypeDic.hasOwnProperty(C$t)},vyrjx7._getParams=function(C$t,C$e,C$i,C$n){var C$r;void 0===C$i&&(C$i=0),(C$r=vyrjx7._temParam).length=C$e.length;var C$s,C$a,C$o=0;for(C$s=C$e.length,C$o=0;C$o<C$s;C$o++)C$r[C$o]=vyrjx7._getObjVar(C$t,C$e[C$o][0],C$e[C$o][1]);return vyrjx7._alpha=vyrjx7._getObjVar(C$t,"alpha",1),C$a=vyrjx7._getTransformData(C$t),vyrjx7._tM=C$a?(C$a.translate(C$r[C$i=C$i||0],C$r[C$i+1]),C$r[C$i]=C$r[C$i+1]=0,C$a):null,C$r=C$n&&vyrjx7[C$n]?vyrjx7[C$n](C$r):C$r},vyrjx7._getPointListByStr=function(C$t){var C$e,C$i,C$n=0;for(C$i=(C$e=C$t.split(",")).length,C$n=0;C$n<C$i;C$n++)C$e[C$n]=parseFloat(C$e[C$n]);return C$e},vyrjx7._getObjVar=function(C$t,C$e,C$i){return C$t.hasOwnProperty(C$e)?C$t[C$e]:C$i},vyrjx7._temParam=[],vyrjx7._classMap={Sprite:"laya.display.Sprite",Text:"laya.display.Text",Animation:"laya.display.Animation",Skeleton:"laya.ani.bone.Skeleton",Particle2D:"laya.particle.Particle2D",div:"laya.html.dom.HTMLDivElement",p:"laya.html.dom.HTMLElement",img:"laya.html.dom.HTMLImageElement",span:"laya.html.dom.HTMLElement",br:"laya.html.dom.HTMLBrElement",style:"laya.html.dom.HTMLStyleElement",font:"laya.html.dom.HTMLElement",a:"laya.html.dom.HTMLElement","#text":"laya.html.dom.HTMLElement"},vyrjx7.getClass=function(C$t){C$t=vyrjx7._classMap[C$t]||C$t;return"string"==typeof C$t?C$b.__classmap[C$t]:C$t},vyrjx7._tM=null,vyrjx7._alpha=NaN,C$a(vyrjx7,["DrawTypeDic",function(){return this.DrawTypeDic={Rect:["drawRect",[["x",0],["y",0],["width",0],["height",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Circle:["drawCircle",[["x",0],["y",0],["radius",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Pie:["drawPie",[["x",0],["y",0],["radius",0],["startAngle",0],["endAngle",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Image:["drawTexture",[["x",0],["y",0],["width",0],["height",0]]],Texture:["drawTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0]],1,"_adptTextureData"],FillTexture:["fillTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0],["repeat",null]],1,"_adptTextureData"],FillText:["fillText",[["text",""],["x",0],["y",0],["font",null],["color",null],["textAlign",null]],1],Line:["drawLine",[["x",0],["y",0],["toX",0],["toY",0],["lineColor",null],["lineWidth",0]],0,"_adptLineData"],Lines:["drawLines",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],Curves:["drawCurves",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],Poly:["drawPoly",[["x",0],["y",0],["points",""],["fillColor",null],["lineColor",null],["lineWidth",1]],0,"_adptLinesData"]}}]),vyrjx7),C$H=(C$o(kqg5b0,"laya.utils.Color"),kqg5b0._initDefault=function(){for(var C$t in kqg5b0._DEFAULT={},kqg5b0._COLOR_MAP)kqg5b0._SAVE[C$t]=kqg5b0._DEFAULT[C$t]=new kqg5b0(kqg5b0._COLOR_MAP[C$t]);return kqg5b0._DEFAULT},kqg5b0._initSaveMap=function(){for(var C$t in kqg5b0._SAVE_SIZE=0,kqg5b0._SAVE={},kqg5b0._DEFAULT)kqg5b0._SAVE[C$t]=kqg5b0._DEFAULT[C$t]},kqg5b0.create=function(C$t){var C$e=kqg5b0._SAVE[C$t+""];return null!=C$e?C$e:(kqg5b0._SAVE_SIZE<1e3||kqg5b0._initSaveMap(),kqg5b0._SAVE[C$t+""]=new kqg5b0(C$t))},kqg5b0._SAVE={},kqg5b0._SAVE_SIZE=0,kqg5b0._COLOR_MAP={white:"#FFFFFF",red:"#FF0000",green:"#00FF00",blue:"#0000FF",black:"#000000",yellow:"#FFFF00",gray:"#AAAAAA"},kqg5b0._DEFAULT=kqg5b0._initDefault(),kqg5b0._COLODID=1,kqg5b0),C$W=(C$o(la3u4,"laya.utils.Dictionary"),(C$e=la3u4.prototype).set=function(C$t,C$e){var C$i=this.indexOf(C$t);0<=C$i?this._values[C$i]=C$e:(this._keys.push(C$t),this._values.push(C$e))},C$e.indexOf=function(C$t){var C$e=this._keys.indexOf(C$t);return 0<=C$e?C$e:(C$t="string"==typeof C$t?Number(C$t):"number"==typeof C$t?C$t.toString():C$t,this._keys.indexOf(C$t))},C$e.get=function(C$t){C$t=this.indexOf(C$t);return C$t<0?null:this._values[C$t]},C$e.remove=function(C$t){C$t=this.indexOf(C$t);return 0<=C$t&&(this._keys.splice(C$t,1),this._values.splice(C$t,1),!0)},C$e.clear=function(){this._values.length=0,this._keys.length=0},C$t(0,C$e,"values",function(){return this._values}),C$t(0,C$e,"keys",function(){return this._keys}),C$o($2f_,"laya.utils.Dragging"),(C$e=$2f_.prototype).start=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){void 0===C$o&&(C$o=.92),this.clearTimer(),this.target=C$t,this.area=C$e,this.hasInertia=C$i,this.elasticDistance=C$e?C$n:0,this.elasticBackTime=C$r,this.data=C$s,this._disableMouseEvent=C$a,this.ratio=C$o,1!=C$t.globalScaleX||1!=C$t.globalScaleY?this._parent=C$t.parent:this._parent=C$b.stage,this._clickOnly=!0,this._dragging=!0,this._elasticRateX=this._elasticRateY=1,this._lastX=this._parent.mouseX,this._lastY=this._parent.mouseY,C$b.stage.on("mouseup",this,this.onStageMouseUp),C$b.stage.on("mouseout",this,this.onStageMouseUp),C$b.timer.frameLoop(1,this,this.loop)},C$e.clearTimer=function(){C$b.timer.clear(this,this.loop),C$b.timer.clear(this,this.tweenMove),this._tween&&(this._tween.recover(),this._tween=null)},C$e.stop=function(){this._dragging&&(C$y.instance.disableMouseEvent=!1,C$b.stage.off("mouseup",this,this.onStageMouseUp),C$b.stage.off("mouseout",this,this.onStageMouseUp),this._dragging=!1,this.target&&this.area&&this.backToArea(),this.clear())},C$e.loop=function(){var C$t=this._parent.getMousePoint(),C$e=C$t.x,C$t=C$t.y,C$i=C$e-this._lastX,C$n=C$t-this._lastY;if(this._clickOnly){if(!(1<Math.abs(C$i*C$b.stage._canvasTransform.getScaleX())||1<Math.abs(C$n*C$b.stage._canvasTransform.getScaleY())))return;this._clickOnly=!1,this._offsets||(this._offsets=[]),this._offsets.length=0,this.target.event("dragstart",this.data),C$y.instance.disableMouseEvent=this._disableMouseEvent,this.target._set$P("$_MOUSEDOWN",!1)}else this._offsets.push(C$i,C$n);0==C$i&&0==C$n||(this._lastX=C$e,this._lastY=C$t,this.target.x+=C$i*this._elasticRateX,this.target.y+=C$n*this._elasticRateY,this.area&&this.checkArea(),this.target.event("dragmove",this.data))},C$e.checkArea=function(){var C$t;this.elasticDistance<=0?this.backToArea():(C$t=this.target.x<this.area.x?this.area.x-this.target.x:this.target.x>this.area.x+this.area.width?this.target.x-this.area.x-this.area.width:0,this._elasticRateX=Math.max(0,1-C$t/this.elasticDistance),C$t=this.target.y<this.area.y?this.area.y-this.target.y:this.target.y>this.area.y+this.area.height?this.target.y-this.area.y-this.area.height:0,this._elasticRateY=Math.max(0,1-C$t/this.elasticDistance))},C$e.backToArea=function(){this.target.x=Math.min(Math.max(this.target.x,this.area.x),this.area.x+this.area.width),this.target.y=Math.min(Math.max(this.target.y,this.area.y),this.area.y+this.area.height)},C$e.onStageMouseUp=function(C$t){if(C$y.instance.disableMouseEvent=!1,C$b.stage.off("mouseup",this,this.onStageMouseUp),C$b.stage.off("mouseout",this,this.onStageMouseUp),C$b.timer.clear(this,this.loop),!this._clickOnly&&this.target)if(this.hasInertia){this._offsets.length<1&&this._offsets.push(this._parent.mouseX-this._lastX,this._parent.mouseY-this._lastY),this._offsetX=this._offsetY=0;for(var C$e=this._offsets.length,C$i=Math.min(C$e,6),C$n=this._offsets.length-C$i,C$r=C$e-1;C$n<C$r;C$r--)this._offsetY+=this._offsets[C$r--],this._offsetX+=this._offsets[C$r];this._offsetX=this._offsetX/C$i*2,this._offsetY=this._offsetY/C$i*2,Math.abs(this._offsetX)>this.maxOffset&&(this._offsetX=0<this._offsetX?this.maxOffset:-this.maxOffset),Math.abs(this._offsetY)>this.maxOffset&&(this._offsetY=0<this._offsetY?this.maxOffset:-this.maxOffset),C$b.timer.frameLoop(1,this,this.tweenMove)}else 0<this.elasticDistance?this.checkElastic():this.clear()},C$e.checkElastic=function(){var C$t=NaN,C$e=NaN;var C$i;this.target.x<this.area.x?C$t=this.area.x:this.target.x>this.area.x+this.area.width&&(C$t=this.area.x+this.area.width),this.target.y<this.area.y?C$e=this.area.y:this.target.y>this.area.y+this.area.height&&(C$e=this.area.y+this.area.height),isNaN(C$t)&&isNaN(C$e)?this.clear():(C$i={},isNaN(C$t)||(C$i.x=C$t),isNaN(C$e)||(C$i.y=C$e),this._tween=C$Z.to(this.target,C$i,this.elasticBackTime,C$G.sineOut,C$g.create(this,this.clear),0,!1,!1))},C$e.tweenMove=function(){this._offsetX*=this.ratio*this._elasticRateX,this._offsetY*=this.ratio*this._elasticRateY,this.target.x+=this._offsetX,this.target.y+=this._offsetY,this.area&&this.checkArea(),this.target.event("dragmove",this.data),(Math.abs(this._offsetX)<1&&Math.abs(this._offsetY)<1||this._elasticRateX<.5||this._elasticRateY<.5)&&(C$b.timer.clear(this,this.tweenMove),0<this.elasticDistance?this.checkElastic():this.clear())},C$e.clear=function(){var C$t;this.target&&(this.clearTimer(),C$t=this.target,this.target=null,this._parent=null,C$t.event("dragend",this.data))},$2f_),C$G=(C$o(t6d8h,"laya.utils.Ease"),t6d8h.linearNone=function(C$t,C$e,C$i,C$n){return C$i*C$t/C$n+C$e},t6d8h.linearIn=function(C$t,C$e,C$i,C$n){return C$i*C$t/C$n+C$e},t6d8h.linearInOut=function(C$t,C$e,C$i,C$n){return C$i*C$t/C$n+C$e},t6d8h.linearOut=function(C$t,C$e,C$i,C$n){return C$i*C$t/C$n+C$e},t6d8h.bounceIn=function(C$t,C$e,C$i,C$n){return C$i-t6d8h.bounceOut(C$n-C$t,0,C$i,C$n)+C$e},t6d8h.bounceInOut=function(C$t,C$e,C$i,C$n){return C$t<.5*C$n?.5*t6d8h.bounceIn(2*C$t,0,C$i,C$n)+C$e:.5*t6d8h.bounceOut(2*C$t-C$n,0,C$i,C$n)+.5*C$i+C$e},t6d8h.bounceOut=function(C$t,C$e,C$i,C$n){return(C$t/=C$n)<1/2.75?C$i*(7.5625*C$t*C$t)+C$e:C$t<2/2.75?C$i*(7.5625*(C$t-=1.5/2.75)*C$t+.75)+C$e:C$t<2.5/2.75?C$i*(7.5625*(C$t-=2.25/2.75)*C$t+.9375)+C$e:C$i*(7.5625*(C$t-=2.625/2.75)*C$t+.984375)+C$e},t6d8h.backIn=function(C$t,C$e,C$i,C$n,C$r){return C$i*(C$t/=C$n)*C$t*(((C$r=void 0===C$r?1.70158:C$r)+1)*C$t-C$r)+C$e},t6d8h.backInOut=function(C$t,C$e,C$i,C$n,C$r){return void 0===C$r&&(C$r=1.70158),(C$t/=.5*C$n)<1?.5*C$i*(C$t*C$t*((1+(C$r*=1.525))*C$t-C$r))+C$e:C$i/2*((C$t-=2)*C$t*((1+(C$r*=1.525))*C$t+C$r)+2)+C$e},t6d8h.backOut=function(C$t,C$e,C$i,C$n,C$r){return C$i*((C$t=C$t/C$n-1)*C$t*(((C$r=void 0===C$r?1.70158:C$r)+1)*C$t+C$r)+1)+C$e},t6d8h.elasticIn=function(C$t,C$e,C$i,C$n,C$r,C$s){return void 0===C$r&&(C$r=0),void 0===C$s&&(C$s=0),0==C$t?C$e:1==(C$t/=C$n)?C$e+C$i:(C$s=C$s||.3*C$n,C$i=!C$r||0<C$i&&C$r<C$i||C$i<0&&C$r<-C$i?(C$r=C$i,C$s/4):C$s/t6d8h.PI2*Math.asin(C$i/C$r),-C$r*Math.pow(2,10*--C$t)*Math.sin((C$t*C$n-C$i)*t6d8h.PI2/C$s)+C$e)},t6d8h.elasticInOut=function(C$t,C$e,C$i,C$n,C$r,C$s){var C$a;return void 0===C$r&&(C$r=0),void 0===C$s&&(C$s=0),0==C$t?C$e:2==(C$t/=.5*C$n)?C$e+C$i:(C$s=C$s||C$n*(.3*1.5),C$a=!C$r||0<C$i&&C$r<C$i||C$i<0&&C$r<-C$i?(C$r=C$i,C$s/4):C$s/t6d8h.PI2*Math.asin(C$i/C$r),C$t<1?C$r*Math.pow(2,10*--C$t)*Math.sin((C$t*C$n-C$a)*t6d8h.PI2/C$s)*-.5+C$e:C$r*Math.pow(2,-10*--C$t)*Math.sin((C$t*C$n-C$a)*t6d8h.PI2/C$s)*.5+C$i+C$e)},t6d8h.elasticOut=function(C$t,C$e,C$i,C$n,C$r,C$s){var C$a;return void 0===C$r&&(C$r=0),void 0===C$s&&(C$s=0),0==C$t?C$e:1==(C$t/=C$n)?C$e+C$i:(C$s=C$s||.3*C$n,C$a=!C$r||0<C$i&&C$r<C$i||C$i<0&&C$r<-C$i?(C$r=C$i,C$s/4):C$s/t6d8h.PI2*Math.asin(C$i/C$r),C$r*Math.pow(2,-10*C$t)*Math.sin((C$t*C$n-C$a)*t6d8h.PI2/C$s)+C$i+C$e)},t6d8h.strongIn=function(C$t,C$e,C$i,C$n){return C$i*(C$t/=C$n)*C$t*C$t*C$t*C$t+C$e},t6d8h.strongInOut=function(C$t,C$e,C$i,C$n){return(C$t/=.5*C$n)<1?.5*C$i*C$t*C$t*C$t*C$t*C$t+C$e:.5*C$i*((C$t-=2)*C$t*C$t*C$t*C$t+2)+C$e},t6d8h.strongOut=function(C$t,C$e,C$i,C$n){return C$i*((C$t=C$t/C$n-1)*C$t*C$t*C$t*C$t+1)+C$e},t6d8h.sineInOut=function(C$t,C$e,C$i,C$n){return.5*-C$i*(Math.cos(Math.PI*C$t/C$n)-1)+C$e},t6d8h.sineIn=function(C$t,C$e,C$i,C$n){return-C$i*Math.cos(C$t/C$n*t6d8h.HALF_PI)+C$i+C$e},t6d8h.sineOut=function(C$t,C$e,C$i,C$n){return C$i*Math.sin(C$t/C$n*t6d8h.HALF_PI)+C$e},t6d8h.quintIn=function(C$t,C$e,C$i,C$n){return C$i*(C$t/=C$n)*C$t*C$t*C$t*C$t+C$e},t6d8h.quintInOut=function(C$t,C$e,C$i,C$n){return(C$t/=.5*C$n)<1?.5*C$i*C$t*C$t*C$t*C$t*C$t+C$e:.5*C$i*((C$t-=2)*C$t*C$t*C$t*C$t+2)+C$e},t6d8h.quintOut=function(C$t,C$e,C$i,C$n){return C$i*((C$t=C$t/C$n-1)*C$t*C$t*C$t*C$t+1)+C$e},t6d8h.quartIn=function(C$t,C$e,C$i,C$n){return C$i*(C$t/=C$n)*C$t*C$t*C$t+C$e},t6d8h.quartInOut=function(C$t,C$e,C$i,C$n){return(C$t/=.5*C$n)<1?.5*C$i*C$t*C$t*C$t*C$t+C$e:.5*-C$i*((C$t-=2)*C$t*C$t*C$t-2)+C$e},t6d8h.quartOut=function(C$t,C$e,C$i,C$n){return-C$i*((C$t=C$t/C$n-1)*C$t*C$t*C$t-1)+C$e},t6d8h.cubicIn=function(C$t,C$e,C$i,C$n){return C$i*(C$t/=C$n)*C$t*C$t+C$e},t6d8h.cubicInOut=function(C$t,C$e,C$i,C$n){return(C$t/=.5*C$n)<1?.5*C$i*C$t*C$t*C$t+C$e:.5*C$i*((C$t-=2)*C$t*C$t+2)+C$e},t6d8h.cubicOut=function(C$t,C$e,C$i,C$n){return C$i*((C$t=C$t/C$n-1)*C$t*C$t+1)+C$e},t6d8h.quadIn=function(C$t,C$e,C$i,C$n){return C$i*(C$t/=C$n)*C$t+C$e},t6d8h.quadInOut=function(C$t,C$e,C$i,C$n){return(C$t/=.5*C$n)<1?.5*C$i*C$t*C$t+C$e:.5*-C$i*(--C$t*(C$t-2)-1)+C$e},t6d8h.quadOut=function(C$t,C$e,C$i,C$n){return-C$i*(C$t/=C$n)*(C$t-2)+C$e},t6d8h.expoIn=function(C$t,C$e,C$i,C$n){return 0==C$t?C$e:C$i*Math.pow(2,10*(C$t/C$n-1))+C$e-.001*C$i},t6d8h.expoInOut=function(C$t,C$e,C$i,C$n){return 0==C$t?C$e:C$t==C$n?C$e+C$i:(C$t/=.5*C$n)<1?.5*C$i*Math.pow(2,10*(C$t-1))+C$e:.5*C$i*(2-Math.pow(2,-10*--C$t))+C$e},t6d8h.expoOut=function(C$t,C$e,C$i,C$n){return C$t==C$n?C$e+C$i:C$i*(1-Math.pow(2,-10*C$t/C$n))+C$e},t6d8h.circIn=function(C$t,C$e,C$i,C$n){return-C$i*(Math.sqrt(1-(C$t/=C$n)*C$t)-1)+C$e},t6d8h.circInOut=function(C$t,C$e,C$i,C$n){return(C$t/=.5*C$n)<1?.5*-C$i*(Math.sqrt(1-C$t*C$t)-1)+C$e:.5*C$i*(Math.sqrt(1-(C$t-=2)*C$t)+1)+C$e},t6d8h.circOut=function(C$t,C$e,C$i,C$n){return C$i*Math.sqrt(1-(C$t=C$t/C$n-1)*C$t)+C$e},t6d8h.HALF_PI=.5*Math.PI,t6d8h.PI2=2*Math.PI,t6d8h),C$Y=(C$o(n43i1u,"laya.utils.HitArea"),(C$e=n43i1u.prototype).isHit=function(C$t,C$e){return!!n43i1u.isHitGraphic(C$t,C$e,this.hit)&&!n43i1u.isHitGraphic(C$t,C$e,this.unHit)},C$e.contains=function(C$t,C$e){return this.isHit(C$t,C$e)},C$t(0,C$e,"hit",function(){return this._hit||(this._hit=new C$d),this._hit},function(C$t){this._hit=C$t}),C$t(0,C$e,"unHit",function(){return this._unHit||(this._unHit=new C$d),this._unHit},function(C$t){this._unHit=C$t}),n43i1u.isHitGraphic=function(C$t,C$e,C$i){if(!C$i)return!1;var C$n;if(!(C$n=C$i.cmds)&&C$i._one&&((C$n=n43i1u._cmds).length=1,C$n[0]=C$i._one),!C$n)return!1;var C$r,C$s,C$a=0;for(C$r=C$n.length,C$a=0;C$a<C$r;C$a++)if(C$s=C$n[C$a]){var C$o=C$M._context;switch(C$s.callee){case C$o._translate:case 6:C$t-=C$s[0],C$e-=C$s[1]}if(n43i1u.isHitCmd(C$t,C$e,C$s))return!0}return!1},n43i1u.isHitCmd=function(C$t,C$e,C$i){if(!C$i)return!1;var C$n=C$M._context,C$r=!1;switch(C$i.callee){case C$n._drawRect:case 13:n43i1u._rec.setTo(C$i[0],C$i[1],C$i[2],C$i[3]),C$r=n43i1u._rec.contains(C$t,C$e);break;case C$n._drawCircle:case C$n._fillCircle:case 14:C$r=(C$t-=C$i[0])*C$t+(C$e-=C$i[1])*C$e<C$i[2]*C$i[2];break;case C$n._drawPoly:case 18:C$t-=C$i[0],C$e-=C$i[1],C$r=n43i1u.ptInPolygon(C$t,C$e,C$i[2])}return C$r},n43i1u.ptInPolygon=function(C$t,C$u,C$e){var C$i;(C$i=n43i1u._ptPoint).setTo(C$t,C$u);var C$n,C$r,C$s,C$a,C$o,C$h=0;C$n=C$e.length;for(var C$l=0;C$l<C$n;C$l+=2)C$r=C$e[C$l],C$s=C$e[C$l+1],C$a=C$e[(C$l+2)%C$n],C$s!=(C$o=C$e[(C$l+3)%C$n])&&(C$i.y<Math.min(C$s,C$o)||C$i.y>=Math.max(C$s,C$o)||(C$i.y-C$s)*(C$a-C$r)/(C$o-C$s)+C$r>C$i.x&&C$h++);return C$h%2==1},n43i1u._cmds=[],C$a(n43i1u,["_rec",function(){return this._rec=new C$P},"_ptPoint",function(){return this._ptPoint=new C$R}]),n43i1u),C$X=(C$o(_pzeth,"laya.utils.HTMLChar"),C$e=_pzeth.prototype,C$b.imps(C$e,{"laya.display.ILayout":!0}),C$e.setSprite=function(C$t){this._sprite=C$t},C$e.getSprite=function(){return this._sprite},C$e._isChar=function(){return!0},C$e._getCSSStyle=function(){return this.style},C$t(0,C$e,"width",function(){return this._w},function(C$t){this._w=C$t}),C$t(0,C$e,"x",function(){return this._x},function(C$t){this._sprite&&(this._sprite.x=C$t),this._x=C$t}),C$t(0,C$e,"y",function(){return this._y},function(C$t){this._sprite&&(this._sprite.y=C$t),this._y=C$t}),C$t(0,C$e,"height",function(){return this._h},function(C$t){this._h=C$t}),_pzeth._isWordRegExp=new RegExp("[\\w.]",""),C$o(bg,"laya.utils.Log"),bg.enable=function(){bg._logdiv||(bg._logdiv=C$S.window.document.createElement("div"),C$S.window.document.body.appendChild(bg._logdiv),bg._logdiv.style.cssText="pointer-events:none;border:white;overflow:hidden;z-index:1000000;background:rgba(100,100,100,0.6);color:white;position: absolute;left:0px;top:0px;width:50%;height:50%;")},bg.toggle=function(){var C$t=bg._logdiv.style;"1px"==C$t.width?C$t.width=C$t.height="50%":C$t.width=C$t.height="1px"},bg.print=function(C$t){bg._logdiv&&(bg.maxCount<=bg._count&&bg.clear(),bg._count++,bg._logdiv.innerText+=C$t+"\n",bg._logdiv.scrollTop=bg._logdiv.scrollHeight)},bg.clear=function(){bg._logdiv.innerText="",bg._count=0},bg._logdiv=null,bg._count=0,bg.maxCount=20,C$o(x7n41,"laya.utils.Mouse"),C$t(1,x7n41,"cursor",function(){return x7n41._style.cursor},function(C$t){x7n41._style.cursor=C$t}),x7n41.hide=function(){"none"!=x7n41.cursor&&(x7n41._preCursor=x7n41.cursor,x7n41.cursor="none")},x7n41.show=function(){"none"==x7n41.cursor&&(x7n41.cursor=x7n41._preCursor||"auto")},x7n41._preCursor=null,C$a(x7n41,["_style",function(){return this._style=C$S.document.body.style}]),C$o(ui31n,"laya.utils.Pool"),ui31n.getPoolBySign=function(C$t){return ui31n._poolDic[C$t]||(ui31n._poolDic[C$t]=[])},ui31n.clearBySign=function(C$t){ui31n._poolDic[C$t]&&(ui31n._poolDic[C$t].length=0)},ui31n.recover=function(C$t,C$e){C$e.__InPool||(C$e.__InPool=!0,ui31n.getPoolBySign(C$t).push(C$e))},ui31n.getItemByClass=function(C$t,C$e){C$t=ui31n.getPoolBySign(C$t),C$t=C$t.length?C$t.pop():new C$e;return C$t.__InPool=!1,C$t},ui31n.getItemByCreateFun=function(C$t,C$e,C$i){C$t=ui31n.getPoolBySign(C$t),C$t=C$t.length?C$t.pop():C$e.call(C$i);return C$t.__InPool=!1,C$t},ui31n.getItem=function(C$t){C$t=ui31n.getPoolBySign(C$t),C$t=C$t.length?C$t.pop():null;return C$t&&(C$t.__InPool=!1),C$t},ui31n._poolDic={},ui31n.InPoolSign="__InPool",ui31n),C$$=(C$o(ez_hpt,"laya.utils.Stat"),C$t(1,ez_hpt,"onclick",null,function(C$t){ez_hpt._sp&&ez_hpt._sp.on("click",ez_hpt._sp,C$t),ez_hpt._canvas&&(ez_hpt._canvas.source.onclick=C$t,ez_hpt._canvas.source.style.pointerEvents="")}),ez_hpt.show=function(C$t,C$e,C$i){var C$n;void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0),!C$M.isConchApp||C$M.isConchWebGL?(C$M.isConchWebGL||C$S.onMiniGame||C$S.onLimixiu||(ez_hpt._useCanvas=!0),ez_hpt._show=!0,ez_hpt._fpsData.length=60,ez_hpt._view[0]={title:"FPS(Canvas)",value:"_fpsStr",color:"yellow",units:"int"},ez_hpt._view[1]={title:"Sprite",value:"_spriteStr",color:"white",units:"int"},ez_hpt._view[2]={title:"DrawCall",value:"drawCall",color:"green",units:"int"},ez_hpt._view[3]={title:"CurMem",value:"currentMemorySize",color:"yellow",units:"M"},C$M.isWebGL?(ez_hpt._view[4]={title:"Shader",value:"shaderCall",color:"red",units:"int"},C$M.is3DMode?(ez_hpt._view[0].title="FPS(3D)",ez_hpt._view[5]={title:"TriFaces",value:"trianglesFaces",color:"blue",units:"int"},ez_hpt._view[6]={title:"treeNodeColl",value:"treeNodeCollision",color:"white",units:"int"},ez_hpt._view[7]={title:"treeSpriteColl",value:"treeSpriteCollision",color:"white",units:"int"},1==C$i?(C$n=8,ez_hpt._view[C$n++]={title:"VATTRIBS",value:"MAX_VERTEX_ATTRIBS",color:"white",units:"int",varying:1},ez_hpt._view[C$n++]={title:"VUNIFORMS",value:"MAX_VERTEX_UNIFORM_VECTORS",color:"white",units:"int",varying:1},ez_hpt._view[C$n++]={title:"VARYINGS",value:"MAX_VARYING_VECTORS",color:"white",units:"int",varying:1},ez_hpt._view[C$n++]={title:"CTEXTURES",value:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",color:"white",units:"int",varying:1},ez_hpt._view[C$n++]={title:"VTEXTURES",value:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",color:"white",units:"int",varying:1},ez_hpt._view[C$n++]={title:"TEXTURES",value:"MAX_TEXTURE_IMAGE_UNITS",color:"white",units:"int",varying:1},ez_hpt._view[C$n++]={title:"FUNIFORMS",value:"MAX_FRAGMENT_UNIFORM_VECTORS",color:"white",units:"int",varying:1},ez_hpt._view[C$n++]={title:"SVERSION",value:"SHADING_LANGUAGE_VERSION",color:"white",units:"string",varying:1},ez_hpt._view[C$n++]={title:"VERSION",value:"VERSION",color:"white",units:"string",varying:1}):2==C$i&&(C$n=8,ez_hpt._view[C$n++]={title:"astc",value:"WEBGL_compressed_texture_astc",color:"white",units:"object",varying:2},ez_hpt._view[C$n++]={title:"atc",value:"WEBGL_compressed_texture_atc",color:"white",units:"object",varying:2},ez_hpt._view[C$n++]={title:"etc",value:"WEBGL_compressed_texture_etc",color:"white",units:"object",varying:2},ez_hpt._view[C$n++]={title:"etc1",value:"WEBGL_compressed_texture_etc1",color:"white",units:"object",varying:2},ez_hpt._view[C$n++]={title:"pvrtc",value:"WEBGL_compressed_texture_pvrtc",color:"white",units:"object",varying:2},ez_hpt._view[C$n++]={title:"s3tc",value:"WEBGL_compressed_texture_s3tc",color:"white",units:"object",varying:2},ez_hpt._view[C$n++]={title:"srgb",value:"WEBGL_compressed_texture_s3tc_srgb",color:"white",units:"object",varying:2})):(ez_hpt._view[0].title="FPS(WebGL)",ez_hpt._view[5]={title:"Canvas",value:"_canvasStr",color:"white",units:"int"})):ez_hpt._view[4]={title:"Canvas",value:"_canvasStr",color:"white",units:"int"},ez_hpt._useCanvas?ez_hpt.createUIPre(C$t,C$e):ez_hpt.createUI(C$t,C$e),ez_hpt.enable()):C$S.window.conch.showFPS&&C$S.window.conch.showFPS(C$t,C$e)},ez_hpt.createUIPre=function(C$t,C$e){var C$i=C$S.pixelRatio;ez_hpt._width=170*C$i,ez_hpt._vx=75*C$i,ez_hpt._height=C$i*(12*ez_hpt._view.length+3*C$i)+4,ez_hpt._fontSize=12*C$i;for(var C$n=0;C$n<ez_hpt._view.length;C$n++)ez_hpt._view[C$n].x=4,ez_hpt._view[C$n].y=C$n*ez_hpt._fontSize+2*C$i;ez_hpt._canvas||((ez_hpt._canvas=new C$gt("2D")).size(ez_hpt._width,ez_hpt._height),(ez_hpt._ctx=ez_hpt._canvas.getContext("2d")).textBaseline="top",ez_hpt._ctx.font=ez_hpt._fontSize+"px Sans-serif",ez_hpt._canvas.source.style.cssText="pointer-events:none;background:rgba(150,150,150,0.8);z-index:100000;position: absolute;direction:ltr;left:"+C$t+"px;top:"+C$e+"px;width:"+ez_hpt._width/C$i+"px;height:"+ez_hpt._height/C$i+"px;"),ez_hpt._first=!0,ez_hpt.loop(),ez_hpt._first=!1,C$S.container.appendChild(ez_hpt._canvas.source)},ez_hpt.createUI=function(C$t,C$e){var C$i=ez_hpt._sp,C$n=C$S.pixelRatio;C$i||(C$i=new C$_t,(ez_hpt._leftText=new C$pt).pos(5,5),ez_hpt._leftText.color="#ffffff",C$i.addChild(ez_hpt._leftText),(ez_hpt._txt=new C$pt).pos(80*C$n,5),ez_hpt._txt.color="#ffffff",C$i.addChild(ez_hpt._txt),ez_hpt._sp=C$i),C$i.pos(C$t,C$e);for(var C$r="",C$s=0;C$s<ez_hpt._view.length;C$s++)C$r+=ez_hpt._view[C$s].title+"\n";ez_hpt._leftText.text=C$r;C$t=170*C$n,C$e=C$n*(12*ez_hpt._view.length+3*C$n)+4;ez_hpt._txt.fontSize=ez_hpt._fontSize*C$n,ez_hpt._leftText.fontSize=ez_hpt._fontSize*C$n,C$i.size(C$t,C$e),C$i.graphics.clear(),C$i.graphics.setAlpha(.5),C$i.graphics.drawRect(0,0,C$t,C$e,"#999999"),C$i.graphics.setAlpha(1),ez_hpt.loop()},ez_hpt.enable=function(){C$b.timer.frameLoop(1,ez_hpt,ez_hpt.loop)},ez_hpt.hide=function(){ez_hpt._show=!1,C$b.timer.clear(ez_hpt,ez_hpt.loop),ez_hpt._canvas&&C$S.removeElement(ez_hpt._canvas.source)},ez_hpt.clear=function(){ez_hpt.trianglesFaces=ez_hpt.drawCall=ez_hpt.shaderCall=ez_hpt.spriteCount=ez_hpt.spriteRenderUseCacheCount=ez_hpt.treeNodeCollision=ez_hpt.treeSpriteCollision=ez_hpt.canvasNormal=ez_hpt.canvasBitmap=ez_hpt.canvasReCache=0},ez_hpt.loop=function(){ez_hpt._count++;var C$t=C$S.now();var C$e;C$t-ez_hpt._timer<1e3||(C$e=ez_hpt._count,ez_hpt.FPS=Math.round(1e3*C$e/(C$t-ez_hpt._timer)),ez_hpt._show&&(ez_hpt.trianglesFaces=Math.round(ez_hpt.trianglesFaces/C$e),ez_hpt.spriteCount=ez_hpt._useCanvas?(ez_hpt.drawCall=Math.round(ez_hpt.drawCall/C$e)-2,ez_hpt.shaderCall=Math.round(ez_hpt.shaderCall/C$e),Math.round(ez_hpt.spriteCount/C$e)-1):(ez_hpt.drawCall=Math.round(ez_hpt.drawCall/C$e)-2,ez_hpt.shaderCall=Math.round(ez_hpt.shaderCall/C$e)-4,Math.round(ez_hpt.spriteCount/C$e)-4),ez_hpt.spriteRenderUseCacheCount=Math.round(ez_hpt.spriteRenderUseCacheCount/C$e),ez_hpt.canvasNormal=Math.round(ez_hpt.canvasNormal/C$e),ez_hpt.canvasBitmap=Math.round(ez_hpt.canvasBitmap/C$e),ez_hpt.canvasReCache=Math.ceil(ez_hpt.canvasReCache/C$e),ez_hpt.treeNodeCollision=Math.round(ez_hpt.treeNodeCollision/C$e),ez_hpt.treeSpriteCollision=Math.round(ez_hpt.treeSpriteCollision/C$e),C$e=0<ez_hpt.FPS?Math.floor(1e3/ez_hpt.FPS).toString():" ",ez_hpt._fpsStr=ez_hpt.FPS+(ez_hpt.renderSlow?" slow":"")+" "+C$e,ez_hpt._spriteStr=ez_hpt.spriteCount+(ez_hpt.spriteRenderUseCacheCount?"/"+ez_hpt.spriteRenderUseCacheCount:""),ez_hpt._canvasStr=ez_hpt.canvasReCache+"/"+ez_hpt.canvasNormal+"/"+ez_hpt.canvasBitmap,ez_hpt.currentMemorySize=C$V.systemResourceManager.memorySize,ez_hpt._useCanvas?ez_hpt.renderInfoPre():ez_hpt.renderInfo(),ez_hpt.clear()),ez_hpt._count=0,ez_hpt._timer=C$t)},ez_hpt.renderInfoPre=function(){if(ez_hpt._canvas){var C$t=ez_hpt._ctx;C$t.clearRect(ez_hpt._first?0:ez_hpt._vx,0,ez_hpt._width,ez_hpt._height);for(var C$e=C$M.WebGL.mainContext,C$i=0;C$i<ez_hpt._view.length;C$i++){var C$n=ez_hpt._view[C$i];ez_hpt._first&&(C$t.fillStyle="white",C$t.fillText(C$n.title,C$n.x,C$n.y,null,null,null)),C$t.fillStyle=C$n.color;var C$r=-1;if((C$n=ez_hpt._view[C$i]).varying){if(C$e)switch(C$n.varying){case 1:C$r=C$e.getParameter(C$e[C$n.value]);break;case 2:C$r=C$e.getExtension(C$n.value)}}else C$r=ez_hpt[C$n.value];"M"==C$n.units&&(C$r=Math.floor(C$r/1048576*100)/100+" M"),"K"==C$n.units&&(C$r=Math.floor(C$r/1024*100)/100+" K"),"string"==C$n.units&&(C$r=C$r.match(/\d+\.?\d/i)),C$t.fillText(C$r+"",C$n.x+ez_hpt._vx,C$n.y,null,null,null)}}},ez_hpt.renderInfo=function(){for(var C$t="",C$e=C$M.WebGL.mainContext,C$i=0;C$i<ez_hpt._view.length;C$i++){var C$n=ez_hpt._view[C$i],C$r=-1;if(C$n.varying){if(C$e)switch(C$n.varying){case 1:C$r=C$e.getParameter(C$e[C$n.value]);break;case 2:C$r=C$e.getExtension(C$n.value)}}else C$r=ez_hpt[C$n.value];"M"==C$n.units&&(C$r=Math.floor(C$r/1048576*100)/100+" M"),"K"==C$n.units&&(C$r=Math.floor(C$r/1024*100)/100+" K"),C$t+=(C$r="string"==C$n.units?C$r.match(/\d+\.?\d/i):C$r)+"\n"}ez_hpt._txt.text=C$t},ez_hpt.FPS=0,ez_hpt.loopCount=0,ez_hpt.shaderCall=0,ez_hpt.drawCall=0,ez_hpt.trianglesFaces=0,ez_hpt.spriteCount=0,ez_hpt.spriteRenderUseCacheCount=0,ez_hpt.treeNodeCollision=0,ez_hpt.treeSpriteCollision=0,ez_hpt.canvasNormal=0,ez_hpt.canvasBitmap=0,ez_hpt.canvasReCache=0,ez_hpt.renderSlow=!1,ez_hpt.currentMemorySize=0,ez_hpt._fpsStr=null,ez_hpt._canvasStr=null,ez_hpt._spriteStr=null,ez_hpt._fpsData=[],ez_hpt._timer=0,ez_hpt._count=0,ez_hpt._view=[],ez_hpt._fontSize=12,ez_hpt._txt=null,ez_hpt._leftText=null,ez_hpt._sp=null,ez_hpt._show=!1,ez_hpt._useCanvas=!1,ez_hpt._canvas=null,ez_hpt._ctx=null,ez_hpt._first=!1,ez_hpt._vx=NaN,ez_hpt._width=0,ez_hpt._height=100,ez_hpt),C$K=(C$o(xjvn7i,"laya.utils.StringKey"),(C$e=xjvn7i.prototype).add=function(C$t){var C$e=this._strsToID[C$t];return null!=C$e?C$e:(this._idToStrs[this._length]=C$t,this._strsToID[C$t]=this._length++)},C$e.getID=function(C$t){C$t=this._strsToID[C$t];return null==C$t?-1:C$t},C$e.getName=function(C$t){C$t=this._idToStrs[C$t];return null==C$t?void 0:C$t},C$o(d068g,"laya.utils.Timer"),(C$e=d068g.prototype)._init=function(){C$b.timer&&C$b.timer.frameLoop(1,this,this._update)},C$e._now=function(){return Date.now()},C$e._update=function(){if(this.scale<=0)this._lastTimer=this._now();else{var C$t=this.currFrame=this.currFrame+this.scale,C$e=this._now();this._delta=(C$e-this._lastTimer)*this.scale;var C$i=this.currTimer=this.currTimer+this._delta;C$b.isDebug&&6e4<Math.abs(C$e-this._lastTimer)&&console.error("\u7cfb\u7edf\u65f6\u95f4\u9519\u8bef\uff01"+(C$e-this._lastTimer)),this._lastTimer=C$e;var C$n=this._handlers;for(C$a=this._count=0,C$o=C$n.length;C$a<C$o;C$a++)if(null!==(C$h=C$n[C$a]).method){var C$r=C$h.userFrame?C$t:C$i;if(C$r>=C$h.exeTime)if(C$h.repeat)if(C$h.jumpFrame)for(;C$r>=C$h.exeTime;)C$h.exeTime+=C$h.delay,C$h.run(!1);else C$h.exeTime+=C$h.delay,C$h.run(!1),C$r>C$h.exeTime&&(C$h.exeTime+=Math.ceil((C$r-C$h.exeTime)/C$h.delay)*C$h.delay);else C$h.run(!0)}else this._count++;(30<this._count||C$t%200==0)&&this._clearHandlers();for(var C$s=this._laters,C$a=0,C$o=C$s.length-1;C$a<=C$o;C$a++){var C$h=C$s[C$a];this._isIgnoreRecover(C$h)||(null!==C$h.method&&(delete this._map[C$h.key],C$h.run(!1)),this._recoverHandler(C$h)),C$a===C$o&&(C$o=C$s.length-1)}C$s.length=0}},C$e._clearHandlers=function(){for(var C$t=this._handlers,C$e=0,C$i=C$t.length;C$e<C$i;C$e++){var C$n=C$t[C$e];null!==C$n.method||this._isIgnoreRecover(C$n)?this._temp.push(C$n):this._recoverHandler(C$n)}this._handlers=this._temp,this._temp=C$t,this._temp.length=0},C$e._recoverHandler=function(C$t){this._map[C$t.key]==C$t&&delete this._map[C$t.key],C$t.recover()},C$e._create=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){if(!C$i)return C$r.apply(C$n,C$s),null;if(C$a){var C$h=this._getHandler(C$n,C$r);if(C$h)return C$h.repeat=C$e,C$h.userFrame=C$t,C$h.delay=C$i,C$h.ignoreRecover=C$o,C$h.caller=C$n,C$h.method=C$r,C$h.args=C$s,C$h.exeTime=C$i+(C$t?this.currFrame:this.currTimer+this._now()-this._lastTimer),C$h}return(C$h=C$Bt.create()).repeat=C$e,C$h.userFrame=C$t,C$h.delay=C$i,C$h.ignoreRecover=C$o,C$h.caller=C$n,C$h.method=C$r,C$h.args=C$s,C$h.exeTime=C$i+(C$t?this.currFrame:this.currTimer+this._now()-this._lastTimer)+1,this._indexHandler(C$h),this._handlers.push(C$h),C$h},C$e._indexHandler=function(C$t){var C$e=C$t.caller,C$i=C$t.method,C$e=C$e?C$e.$_GID||(C$e.$_GID=C$Q.getGID()):0,C$i=C$i.$_TID||(C$i.$_TID=this._mid++);C$t.key=C$e+"_"+C$i,this._map[C$t.key]=C$t},C$e.once=function(C$t,C$e,C$i,C$n,C$r){this._create(!1,!1,C$t,C$e,C$i,C$n,C$r=void 0===C$r?!0:C$r,!1)},C$e.loop=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){void 0===C$s&&(C$s=!1);C$t=this._create(!1,!0,C$t,C$e,C$i,C$n,C$r=void 0===C$r?!0:C$r,C$a=void 0===C$a?!1:C$a);C$t&&(C$t.jumpFrame=C$s)},C$e.frameOnce=function(C$t,C$e,C$i,C$n,C$r){this._create(!0,!1,C$t,C$e,C$i,C$n,C$r=void 0===C$r?!0:C$r,!1)},C$e.frameLoop=function(C$t,C$e,C$i,C$n,C$r,C$s){this._create(!0,!0,C$t,C$e,C$i,C$n,C$r=void 0===C$r?!0:C$r,C$s=void 0===C$s?!1:C$s)},C$e.toString=function(){return"callLater:"+this._laters.length+" handlers:"+this._handlers.length+" pool:"+C$Bt._freeCount},C$e.clear=function(C$t,C$e){C$t=this._getHandler(C$t,C$e);return!(!C$t||this._isIgnoreRecover(C$t)||(delete this._map[C$t.key],C$t.key=null,C$t.clear(),0))},C$e.clearAll=function(C$t){if(C$t)for(var C$e=0,C$i=this._handlers.length;C$e<C$i;C$e++){var C$n=this._handlers[C$e];C$n.caller===C$t&&(this._isIgnoreRecover(C$n)||(delete this._map[C$n.key],C$n.key=null,C$n.clear()))}},C$e._getHandler=function(C$t,C$e){C$t=C$t?C$t.$_GID||(C$t.$_GID=C$Q.getGID()):0,C$e=C$e.$_TID||(C$e.$_TID=this._mid++);return this._map[C$t+"_"+C$e]},C$e._isIgnoreRecover=function(C$t){if(C$t.ignoreRecover||C$t.caller&&"IgnoreRecover"==C$t.caller.callername){if(this._errorRecord)console.warn("\u6838\u5fc3\u5b9a\u65f6\u5668\u9500\u6bc1\u5ffd\u7565");else{this._errorRecord=!0;var C$e="";try{arguments.propertyIsEnumerable.caller}catch(C$t){C$e=C$t.stack}C$b.recordError("\u62a5\u9519\uff1a\u6838\u5fc3\u5b9a\u65f6\u5668\u9500\u6bc1\u5ffd\u7565  "+C$e)}return!0}return!1},C$e.hasHandler=function(C$t,C$e){return this._map[C$t.$_GID+"_"+C$e.$_TID]},C$e.callLater=function(C$t,C$e,C$i){var C$n;null==this._getHandler(C$t,C$e)&&((C$n=C$Bt.create()).caller=C$t,C$n.method=C$e,C$n.args=C$i,this._indexHandler(C$n),this._laters.push(C$n))},C$e.runCallLater=function(C$t,C$e){C$t=this._getHandler(C$t,C$e);C$t&&null!=C$t.method&&(this._isIgnoreRecover(C$t)||(delete this._map[C$t.key],C$t.run(!0)))},C$e.runTimer=function(C$t,C$e){this.runCallLater(C$t,C$e)},C$t(0,C$e,"delta",function(){return this._delta}),d068g.__init$=function(){function b0gqk(){this.key=null,this.repeat=!1,this.delay=0,this.userFrame=!1,this.ignoreRecover=!1,this.exeTime=0,this.caller=null,this.method=null,this.args=null,this.jumpFrame=!1}var C$t;C$o(b0gqk,""),(C$t=b0gqk.prototype).clear=function(){this.caller=null,this.method=null,this.args=null,this.ignoreRecover=!1},C$t.recover=function(){this.clear(),this.args=b0gqk._freeHandler,b0gqk._freeHandler=this,b0gqk._freeCount++},C$t.run=function(C$t){var C$e=this.caller;if(C$e&&C$e.destroyed)return this.clear();var C$i=this.method,C$n=this.args;C$t&&this.clear(),null!=C$i&&(C$n?C$i.apply(C$e,C$n):C$i.call(C$e))},b0gqk._freeHandler=null,b0gqk._freeCount=0,b0gqk.create=function(){var C$t=b0gqk._freeHandler;return C$t?(b0gqk._freeHandler=C$t.args,--b0gqk._freeCount,C$t.args=null,C$t):new b0gqk},C$Bt=b0gqk},d068g),C$Z=(C$o(vijrx7,"laya.utils.Tween"),(C$e=vijrx7.prototype).to=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){return this._create(C$t,C$e,C$i,C$n,C$r,C$s=void 0===C$s?0:C$s,C$a=void 0===C$a?!1:C$a,!0,!1,!0)},C$e.from=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){return this._create(C$t,C$e,C$i,C$n,C$r,C$s=void 0===C$s?0:C$s,C$a=void 0===C$a?!1:C$a,!1,!1,!0)},C$e._create=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l){if(!C$t)throw new Error("Tween:target is null");this._target=C$t,this._duration=C$i,this._ease=C$n||C$e.ease||vijrx7.easeNone,this._complete=C$r||C$e.complete,this._delay=C$s,this._props=[],this._usedTimer=0,this._startTimer=C$S.now(),this._usedPool=C$h,this._delayParam=null,this.update=C$e.update;C$i=C$t.$_GID||(C$t.$_GID=C$Q.getGID());return vijrx7.tweenMap[C$i]?(C$a&&vijrx7.clearTween(C$t),vijrx7.tweenMap[C$i].push(this)):vijrx7.tweenMap[C$i]=[this],C$l?C$s<=0?this.firstStart(C$t,C$e,C$o):(this._delayParam=[C$t,C$e,C$o],C$b.scaleTimer.once(C$s,this,this.firstStart,this._delayParam)):this._initProps(C$t,C$e,C$o),this},C$e.firstStart=function(C$t,C$e,C$i){this._delayParam=null,C$t.destroyed?this.clear():(this._initProps(C$t,C$e,C$i),this._beginLoop())},C$e._initProps=function(C$t,C$e,C$i){for(var C$n in C$e){var C$r,C$s;"number"==typeof C$t[C$n]&&(C$r=(C$i?C$t:C$e)[C$n],C$s=(C$i?C$e:C$t)[C$n],this._props.push([C$n,C$r,C$s-C$r]),C$i||(C$t[C$n]=C$r))}},C$e._beginLoop=function(){C$b.scaleTimer.frameLoop(1,this,this._doEase)},C$e._doEase=function(){this._updateEase(C$S.now())},C$e._updateEase=function(C$t){var C$e=this._target;if(C$e){if(C$e.destroyed)return vijrx7.clearTween(C$e);C$t=this._usedTimer=C$t-this._startTimer-this._delay;if(!(C$t<0)){if(C$t>=this._duration)return this.complete();for(var C$i=0<C$t?this._ease(C$t,0,1,this._duration):0,C$n=this._props,C$r=0,C$s=C$n.length;C$r<C$s;C$r++){var C$a=C$n[C$r];C$e[C$a[0]]=C$a[1]+C$i*C$a[2]}this.update&&this.update.run()}}},C$e.complete=function(){if(this._target){C$b.scaleTimer.runTimer(this,this.firstStart);for(var C$t=this._target,C$e=this._props,C$i=this._complete,C$n=0,C$r=C$e.length;C$n<C$r;C$n++){var C$s=C$e[C$n];C$t[C$s[0]]=C$s[1]+C$s[2]}this.update&&this.update.run(),this.clear(),C$i&&C$i.run()}},C$e.pause=function(){var C$t;C$b.scaleTimer.clear(this,this._beginLoop),C$b.scaleTimer.clear(this,this._doEase),C$b.scaleTimer.clear(this,this.firstStart),(C$t=C$S.now()-this._startTimer-this._delay)<0&&(this._usedTimer=C$t)},C$e.setStartTime=function(C$t){this._startTimer=C$t},C$e.clear=function(){this._target&&(this._remove(),this._clear())},C$e._clear=function(){this.pause(),C$b.scaleTimer.clear(this,this.firstStart),this._complete=null,this._target=null,this._ease=null,this._props=null,this._delayParam=null,this._usedPool&&(this.update=null,C$X.recover("tween",this))},C$e.recover=function(){this._usedPool=!0,this._clear()},C$e._remove=function(){var C$t=vijrx7.tweenMap[this._target.$_GID];if(C$t)for(var C$e=0,C$i=C$t.length;C$e<C$i;C$e++)if(C$t[C$e]===this){C$t.splice(C$e,1);break}},C$e.restart=function(){if(this.pause(),this._usedTimer=0,this._startTimer=C$S.now(),this._delayParam)C$b.scaleTimer.once(this._delay,this,this.firstStart,this._delayParam);else{for(var C$t=this._props,C$e=0,C$i=C$t.length;C$e<C$i;C$e++){var C$n=C$t[C$e];this._target[C$n[0]]=C$n[1]}C$b.scaleTimer.once(this._delay,this,this._beginLoop)}},C$e.resume=function(){this._usedTimer>=this._duration||(this._startTimer=C$S.now()-this._usedTimer-this._delay,this._delayParam?this._usedTimer<0?C$b.scaleTimer.once(-this._usedTimer,this,this.firstStart,this._delayParam):this.firstStart.apply(this,this._delayParam):this._beginLoop())},C$t(0,C$e,"progress",null,function(C$t){C$t*=this._duration;this._startTimer=C$S.now()-this._delay-C$t}),vijrx7.to=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){return void 0===C$s&&(C$s=0),void 0===C$a&&(C$a=!1),void 0===C$o&&(C$o=!0),C$X.getItemByClass("tween",vijrx7)._create(C$t,C$e,C$i,C$n,C$r,C$s,C$a,!0,C$o,!0)},vijrx7.from=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){return void 0===C$s&&(C$s=0),void 0===C$a&&(C$a=!1),void 0===C$o&&(C$o=!0),C$X.getItemByClass("tween",vijrx7)._create(C$t,C$e,C$i,C$n,C$r,C$s,C$a,!1,C$o,!0)},vijrx7.clearAll=function(C$t){if(C$t&&C$t.$_GID){var C$e=vijrx7.tweenMap[C$t.$_GID];if(C$e){for(var C$i=0,C$n=C$e.length;C$i<C$n;C$i++)C$e[C$i]._clear();C$e.length=0}}},vijrx7.clear=function(C$t){C$t.clear()},vijrx7.clearTween=function(C$t){vijrx7.clearAll(C$t)},vijrx7.easeNone=function(C$t,C$e,C$i,C$n){return C$i*C$t/C$n+C$e},vijrx7.tweenMap={},vijrx7),C$Q=(C$o(rvo7j,"laya.utils.Utils"),rvo7j.toRadian=function(C$t){return C$t*rvo7j._pi2},rvo7j.toAngle=function(C$t){return C$t*rvo7j._pi},rvo7j.toHexColor=function(C$t){if(C$t<0||isNaN(C$t))return null;for(var C$e=C$t.toString(16);C$e.length<6;)C$e="0"+C$e;return"#"+C$e},rvo7j.getGID=function(){return rvo7j._gid++},rvo7j.concatArray=function(C$t,C$e){if(!C$e)return C$t;if(!C$t)return C$e;var C$i=0,C$n=C$e.length;for(C$i=0;C$i<C$n;C$i++)C$t.push(C$e[C$i]);return C$t},rvo7j.clearArray=function(C$t){return C$t&&(C$t.length=0),C$t},rvo7j.copyArray=function(C$t,C$e){if(C$t=C$t||[],!C$e)return C$t;C$t.length=C$e.length;var C$i=0,C$n=C$e.length;for(C$i=0;C$i<C$n;C$i++)C$t[C$i]=C$e[C$i];return C$t},rvo7j.getGlobalRecByPoints=function(C$t,C$e,C$i,C$n,C$r){return C$e=new C$R(C$e,C$i),C$e=C$t.localToGlobal(C$e),C$i=new C$R(C$n,C$r),C$i=C$t.localToGlobal(C$i),C$P._getWrapRec([C$e.x,C$e.y,C$i.x,C$i.y])},rvo7j.getGlobalPosAndScale=function(C$t){return rvo7j.getGlobalRecByPoints(C$t,0,0,1,1)},rvo7j.bind=function(C$t,C$e){return C$t.bind(C$e)},rvo7j.measureText=function(C$t,C$e){return C$m.measureText(C$t,C$e)},rvo7j.contextMeasureText=function(C$t){C$t=C$S.context.measureText(C$t);return C$t=C$t||{width:16,height:16}},rvo7j.updateOrder=function(C$t){if(!C$t||C$t.length<2)return!1;for(var C$e,C$i,C$n=1,C$r=0,C$s=C$t.length;C$n<C$s;){for(C$e=C$t[C$r=C$n],C$i=C$t[C$r]._zOrder;-1<--C$r&&C$t[C$r]._zOrder>C$i;)C$t[C$r+1]=C$t[C$r];C$t[C$r+1]=C$e,C$n++}var C$a=C$e.parent.conchModel;if(C$a)if(null!=C$a.updateZOrder)C$a.updateZOrder();else{for(C$n=0;C$n<C$s;C$n++)C$a.removeChild(C$t[C$n].conchModel);for(C$n=0;C$n<C$s;C$n++)C$a.addChildAt(C$t[C$n].conchModel,C$n)}return!0},rvo7j.transPointList=function(C$t,C$e,C$i){var C$n=0,C$r=C$t.length;for(C$n=0;C$n<C$r;C$n+=2)C$t[C$n]+=C$e,C$t[C$n+1]+=C$i},rvo7j.parseInt=function(C$t,C$e){C$t=C$S.window.parseInt(C$t,C$e=void 0===C$e?0:C$e);return isNaN(C$t)?0:C$t},rvo7j.getFileExtension=function(C$t){rvo7j._extReg.lastIndex=C$t.lastIndexOf(".");C$t=rvo7j._extReg.exec(C$t);return C$t&&1<C$t.length?C$t[1].toLowerCase():null},rvo7j.getTransformRelativeToWindow=function(C$t,C$e,C$i){var C$n=C$b.stage,C$t=laya.utils.Utils.getGlobalPosAndScale(C$t),C$n=C$n._canvasTransform.clone(),C$r=C$n.tx,C$s=C$n.ty;C$n.rotate(-Math.PI/180*C$b.stage.canvasDegree),C$n.scale(C$b.stage.clientScaleX,C$b.stage.clientScaleY);var C$a=C$b.stage.canvasDegree%180!=0,C$o=NaN,C$h=NaN;C$a?(C$o=C$i+C$t.y,C$h=C$e+C$t.x,C$o*=C$n.d,C$h*=C$n.a,90==C$b.stage.canvasDegree?(C$o=C$r-C$o,C$h+=C$s):(C$o+=C$r,C$h=C$s-C$h)):(C$o=C$e+C$t.x,C$h=C$i+C$t.y,C$o=C$o*C$n.a+C$r,C$h=C$h*C$n.d+C$s);C$e=NaN;return C$i=C$a?(C$e=C$n.d*C$t.height,C$n.a*C$t.width):(C$e=C$n.a*C$t.width,C$n.d*C$t.height),{x:C$o,y:C$h,scaleX:C$e,scaleY:C$i}},rvo7j.fitDOMElementInArea=function(C$t,C$e,C$i,C$n,C$r,C$s){C$t._fitLayaAirInitialized||(C$t._fitLayaAirInitialized=!0,C$t.style.transformOrigin=C$t.style.webKittransformOrigin="left top",C$t.style.position="absolute");C$e=rvo7j.getTransformRelativeToWindow(C$e,C$i,C$n);C$t.style.transform=C$t.style.webkitTransform="scale("+C$e.scaleX+","+C$e.scaleY+") rotate("+C$b.stage.canvasDegree+"deg)",C$t.style.width=C$r+"px",C$t.style.height=C$s+"px",C$t.style.left=C$e.x+"px",C$t.style.top=C$e.y+"px"},rvo7j.isOkTextureList=function(C$t){if(!C$t)return!1;var C$e,C$i=0,C$n=C$t.length;for(C$i=0;C$i<C$n;C$i++)if(!(C$e=C$t[C$i])||!C$e.source)return!1;return!0},rvo7j.isOKCmdList=function(C$t){if(!C$t)return!1;var C$e,C$i,C$n=0,C$r=C$t.length,C$s=C$M._context;for(C$n=0;C$n<C$r;C$n++)switch((C$e=C$t[C$n]).callee){case C$s._drawTexture:case C$s._fillTexture:case C$s._drawTextureWithTransform:if(!(C$i=C$e[0])||!C$i.source)return!1}return!0},rvo7j._gid=1,rvo7j._pi=180/Math.PI,rvo7j._pi2=Math.PI/180,rvo7j._extReg=/\.(\w+)\??/g,rvo7j.parseXMLFromString=function(C$t){if(C$t=C$t.replace(/>\s+</g,"><"),-1<(C$t=(new DOMParser).parseFromString(C$t,"text/xml")).firstChild.textContent.indexOf("This page contains the following errors"))throw new Error(C$t.firstChild.firstChild.textContent);return C$t},rvo7j),C$J=(C$o(a413ul,"laya.utils.VectorGraphManager"),(C$e=a413ul.prototype).getId=function(){return this._id++},C$e.addShape=function(C$t,C$e){this.shapeDic[C$t]=C$e,this.useDic[C$t]||(this.useDic[C$t]=!0)},C$e.addLine=function(C$t,C$e){this.shapeLineDic[C$t]=C$e,this.shapeLineDic[C$t]||(this.shapeLineDic[C$t]=!0)},C$e.getShape=function(C$t){this._checkKey&&null!=this.useDic[C$t]&&(this.useDic[C$t]=!0)},C$e.deleteShape=function(C$t){this.shapeDic[C$t]&&(this.shapeDic[C$t]=null,delete this.shapeDic[C$t]),this.shapeLineDic[C$t]&&(this.shapeLineDic[C$t]=null,delete this.shapeLineDic[C$t]),null!=this.useDic[C$t]&&delete this.useDic[C$t]},C$e.getCacheList=function(){var C$t,C$e=[];for(C$t in this.shapeDic)C$e.push(this.shapeDic[C$t]);for(C$t in this.shapeLineDic)C$e.push(this.shapeLineDic[C$t]);return C$e},C$e.startDispose=function(C$t){for(var C$e in this.useDic)this.useDic[C$e]=!1;this._checkKey=!0},C$e.endDispose=function(){if(this._checkKey){for(var C$t in this.useDic)this.useDic[C$t]||this.deleteShape(C$t);this._checkKey=!1}},a413ul.getInstance=function(){return a413ul.instance=a413ul.instance||new a413ul},a413ul.instance=null,a413ul),C$tt=(C$o(bqk5o0,"laya.utils.WeakObject"),(C$e=bqk5o0.prototype).set=function(C$t,C$e){var C$i;null!=C$t&&(bqk5o0.supportWeakMap?("string"!=typeof(C$i=C$t)&&"number"!=typeof C$t||(C$i=bqk5o0._keys[C$t])||(C$i=bqk5o0._keys[C$t]={k:C$t}),this._obj.set(C$i,C$e)):"string"==typeof C$t||"number"==typeof C$t?this._obj[C$t]=C$e:(C$t.$_GID||(C$t.$_GID=C$Q.getGID()),this._obj[C$t.$_GID]=C$e))},C$e.get=function(C$t){return null==C$t?null:bqk5o0.supportWeakMap?(C$e="string"==typeof C$t||"number"==typeof C$t?bqk5o0._keys[C$t]:C$t)?this._obj.get(C$e):null:"string"==typeof C$t||"number"==typeof C$t?this._obj[C$t]:this._obj[C$t.$_GID];var C$e},C$e.del=function(C$t){var C$e;null!=C$t&&(bqk5o0.supportWeakMap?(C$e="string"==typeof C$t||"number"==typeof C$t?bqk5o0._keys[C$t]:C$t)&&this._obj.delete(C$e):"string"==typeof C$t||"number"==typeof C$t?delete this._obj[C$t]:delete this._obj[this._obj.$_GID])},C$e.has=function(C$t){return null!=C$t&&(bqk5o0.supportWeakMap?(C$e="string"==typeof C$t||"number"==typeof C$t?bqk5o0._keys[C$t]:C$t,this._obj.has(C$e)):"string"==typeof C$t||"number"==typeof C$t?null!=this._obj[C$t]:null!=this._obj[this._obj.$_GID]);var C$e},bqk5o0.__init__=function(){(bqk5o0.supportWeakMap=null!=C$S.window.WeakMap)||C$b.timer.loop(bqk5o0.delInterval,null,bqk5o0.clearCache)},bqk5o0.clearCache=function(){for(var C$t=0,C$e=bqk5o0._maps.length;C$t<C$e;C$t++)bqk5o0._maps[C$t]._obj={}},bqk5o0.supportWeakMap=!1,bqk5o0.delInterval=3e5,bqk5o0._keys={},bqk5o0._maps=[],C$a(bqk5o0,["I",function(){return this.I=new bqk5o0}]),bqk5o0),C$et=(C$o(gkd8c,"laya.utils.WordText"),(C$e=gkd8c.prototype).setText=function(C$t){this.changed=!0,this._text=C$t},C$e.toString=function(){return this._text},C$e.charCodeAt=function(C$t){return this._text?this._text.charCodeAt(C$t):NaN},C$e.charAt=function(C$t){return this._text?this._text.charAt(C$t):null},C$t(0,C$e,"length",function(){return this._text?this._text.length:0}),gkd8c),C$it=(C$o(zth8ce,"laya.display.Node",C$l),(C$e=zth8ce.prototype)._setBit=function(C$t,C$e){1==C$t&&this._getBit(C$t)!=C$e&&this._updateDisplayedInstage(),C$e?this._bits|=C$t:this._bits&=~C$t},C$e._getBit=function(C$t){return 0!=(this._bits&C$t)},C$e._setUpNoticeChain=function(){this._getBit(1)&&this._setUpNoticeType(1)},C$e._setUpNoticeType=function(C$t){var C$e=this;for(C$e._setBit(C$t,!0),C$e=C$e.parent;C$e;){if(C$e._getBit(C$t))return;C$e._setBit(C$t,!0),C$e=C$e.parent}},C$e.on=function(C$t,C$e,C$i,C$n){return"display"!==C$t&&"undisplay"!==C$t||this._getBit(1)||this._setUpNoticeType(1),this._createListener(C$t,C$e,C$i,C$n,!1)},C$e.once=function(C$t,C$e,C$i,C$n){return"display"!==C$t&&"undisplay"!==C$t||this._getBit(1)||this._setUpNoticeType(1),this._createListener(C$t,C$e,C$i,C$n,!0)},C$e.createConchModel=function(){return null},C$e.destroy=function(C$t){void 0===C$t&&(C$t=!0),this._destroyed=!0,this._parent&&this._parent.removeChild(this),this._childs&&(C$t?this.destroyChildren():this.removeChildren()),this._childs=null,this._$P=null,this.offAll(),this.timer.clearAll(this)},C$e.destroyChildren=function(){if(this._childs)for(var C$t=this._childs.length-1;-1<C$t;C$t--)this._childs[C$t].destroy(!0)},C$e.addChild=function(C$t){return!C$t||this.destroyed||C$t===this||(C$t.zOrder&&this._set$P("hasZorder",!0),C$t._parent===this?(C$e=this.getChildIndex(C$t))!==this._childs.length-1&&(this._childs.splice(C$e,1),this._childs.push(C$t),this.conchModel&&(this.conchModel.removeChild(C$t.conchModel),this.conchModel.addChildAt(C$t.conchModel,this._childs.length-1)),this._childChanged()):(C$t.parent&&C$t.parent.removeChild(C$t),this._childs===zth8ce.ARRAY_EMPTY&&(this._childs=[]),this._childs.push(C$t),this.conchModel&&this.conchModel.addChildAt(C$t.conchModel,this._childs.length-1),(C$t.parent=this)._childChanged())),C$t;var C$e},C$e.addChildren=function(C$t){for(var C$e=arguments,C$i=0,C$n=C$e.length;C$i<C$n;)this.addChild(C$e[C$i++])},C$e.addChildAt=function(C$t,C$e){if(!C$t||this.destroyed||C$t===this)return C$t;var C$i;if(C$t.zOrder&&this._set$P("hasZorder",!0),0<=C$e&&C$e<=this._childs.length)return C$t._parent===this?(C$i=this.getChildIndex(C$t),this._childs.splice(C$i,1),this._childs.splice(C$e,0,C$t),this.conchModel&&(this.conchModel.removeChild(C$t.conchModel),this.conchModel.addChildAt(C$t.conchModel,C$e)),this._childChanged()):(C$t.parent&&C$t.parent.removeChild(C$t),this._childs===zth8ce.ARRAY_EMPTY&&(this._childs=[]),this._childs.splice(C$e,0,C$t),this.conchModel&&this.conchModel.addChildAt(C$t.conchModel,C$e),C$t.parent=this),C$t;throw new Error("appendChildAt:The index is out of bounds")},C$e.getChildIndex=function(C$t){return this._childs.indexOf(C$t)},C$e.getChildByName=function(C$t){var C$e=this._childs;if(C$e)for(var C$i=0,C$n=C$e.length;C$i<C$n;C$i++){var C$r=C$e[C$i];if(C$r.name===C$t)return C$r}return null},C$e._get$P=function(C$t){return this._$P[C$t]},C$e._set$P=function(C$t,C$e){return this.destroyed||(this._$P===zth8ce.PROP_EMPTY&&(this._$P={}),this._$P[C$t]=C$e),C$e},C$e.getChildAt=function(C$t){return this._childs[C$t]},C$e.setChildIndex=function(C$t,C$e){var C$i=this._childs;if(C$e<0||C$e>=C$i.length)throw new Error("setChildIndex:The index is out of bounds.");var C$n=this.getChildIndex(C$t);if(C$n<0)throw new Error("setChildIndex:node is must child of this object.");return C$i.splice(C$n,1),C$i.splice(C$e,0,C$t),this.conchModel&&(this.conchModel.removeChild(C$t.conchModel),this.conchModel.addChildAt(C$t.conchModel,C$e)),this._childChanged(),C$t},C$e._childChanged=function(C$t){},C$e.removeChild=function(C$t){if(!this._childs)return C$t;C$t=this._childs.indexOf(C$t);return this.removeChildAt(C$t)},C$e.removeSelf=function(){return this._parent&&this._parent.removeChild(this),this},C$e.removeChildByName=function(C$t){C$t=this.getChildByName(C$t);return C$t&&this.removeChild(C$t),C$t},C$e.removeChildAt=function(C$t){var C$e=this.getChildAt(C$t);if(C$e){for(var C$i=this._childs.length-1,C$n=C$t;C$n<C$i;++C$n)this._childs[C$n]=this._childs[C$n+1];this._childs.length=C$i,this.conchModel&&this.conchModel.removeChild(C$e.conchModel),C$e.parent=null}return C$e},C$e.removeChildren=function(C$t,C$e){if(void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=2147483647),this._childs&&0<this._childs.length){var C$i=this._childs;var C$n;0===C$t&&C$s<=C$e?(C$n=C$i,this._childs=zth8ce.ARRAY_EMPTY):C$n=C$i.splice(C$t,C$e-C$t);for(var C$r=0,C$s=C$n.length;C$r<C$s;C$r++)C$n[C$r].parent=null,this.conchModel&&this.conchModel.removeChild(C$n[C$r].conchModel)}return this},C$e.replaceChild=function(C$t,C$e){var C$i=this._childs.indexOf(C$e);return-1<C$i?(this._childs.splice(C$i,1,C$t),this.conchModel&&(this.conchModel.removeChild(C$e.conchModel),this.conchModel.addChildAt(C$t.conchModel,C$i)),C$e.parent=null,C$t.parent=this,C$t):null},C$e._updateDisplayedInstage=function(){var C$t;var C$e=C$b.stage;for((C$t=this)._displayedInStage=!1;C$t;){if(C$t._getBit(1)){this._displayedInStage=C$t._displayedInStage;break}if(C$t==C$e||C$t._displayedInStage){this._displayedInStage=!0;break}C$t=C$t.parent}},C$e._setDisplay=function(C$t){this._displayedInStage!==C$t&&((this._displayedInStage=C$t)?this.event("display"):this.event("undisplay"))},C$e._displayChild=function(C$t,C$e){var C$i=C$t._childs;if(C$i)for(var C$n=0;C$n<C$i.length;C$n++){var C$r=C$i[C$n];C$r&&C$r._getBit(1)&&(0<C$r._childs.length?this._displayChild(C$r,C$e):C$r._setDisplay(C$e))}C$t._setDisplay(C$e)},C$e.contains=function(C$t){if(C$t===this)return!0;for(;C$t;){if(C$t.parent===this)return!0;C$t=C$t.parent}return!1},C$e.timerLoop=function(C$t,C$e,C$i,C$n,C$r,C$s){this.timer.loop(C$t,C$e,C$i,C$n,C$r=void 0===C$r?!0:C$r,C$s=void 0===C$s?!1:C$s)},C$e.timerOnce=function(C$t,C$e,C$i,C$n,C$r){this.timer._create(!1,!1,C$t,C$e,C$i,C$n,C$r=void 0===C$r?!0:C$r)},C$e.frameLoop=function(C$t,C$e,C$i,C$n,C$r){this.timer._create(!0,!0,C$t,C$e,C$i,C$n,C$r=void 0===C$r?!0:C$r)},C$e.frameOnce=function(C$t,C$e,C$i,C$n,C$r){this.timer._create(!0,!1,C$t,C$e,C$i,C$n,C$r=void 0===C$r?!0:C$r)},C$e.clearTimer=function(C$t,C$e){this.timer.clear(C$t,C$e)},C$t(0,C$e,"numChildren",function(){return this._childs.length}),C$t(0,C$e,"destroyed",function(){return this._destroyed}),C$t(0,C$e,"parent",function(){return this._parent},function(C$t){this._parent!==C$t&&(C$t?(this._parent=C$t,this.event("added"),this._getBit(1)&&(this._setUpNoticeChain(),C$t.displayedInStage&&this._displayChild(this,!0)),C$t._childChanged(this)):(this.event("removed"),this._parent._childChanged(),this._getBit(1)&&this._displayChild(this,!1),this._parent=C$t))}),C$t(0,C$e,"displayedInStage",function(){return this._getBit(1)||this._setUpNoticeType(1),this._displayedInStage}),zth8ce.ARRAY_EMPTY=[],zth8ce.PROP_EMPTY={},zth8ce.NOTICE_DISPLAY=1,zth8ce.MOUSEENABLE=2,zth8ce),C$nt=(C$o(wp9f,"laya.display.css.CSSStyle",C$e=C$u),(C$i=wp9f.prototype).destroy=function(){this._ower=null,this._font=null,this._rect=null},C$i.inherit=function(C$t){this._font=C$t._font,this._spacing=C$t._spacing===wp9f._SPACING?wp9f._SPACING:C$t._spacing.slice(),this.lineHeight=C$t.lineHeight},C$i._widthAuto=function(){return 0!=(262144&this._type)},C$i.widthed=function(C$t){return 0!=(8&this._type)},C$i._calculation=function(C$t,C$e){if(C$e.indexOf("%")<0)return!1;var C$n=this._ower,C$r=C$n.parent,C$s=this._rect;function or7jyv(C$t,C$e,C$i){return C$t*C$i[0]+C$e*C$i[1]+C$i[2]}function o5by0(C$t){var C$e=C$r.width,C$i=C$n.width;C$s.width&&(C$n.width=or7jyv(C$e,C$i,C$s.width)),C$s.height&&(C$n.height=or7jyv(C$e,C$i,C$s.height)),C$s.left&&(C$n.x=or7jyv(C$e,C$i,C$s.left)),C$s.top&&(C$n.y=or7jyv(C$e,C$i,C$s.top))}null===C$s&&(C$r._getCSSStyle()._type|=524288,C$r.on("resize",this,o5by0),this._rect=C$s={input:{}});var C$i=C$e.split(" ");return C$i[0]=parseFloat(C$i[0])/100,1==C$i.length?C$i[1]=C$i[2]=0:(C$i[1]=parseFloat(C$i[1])/100,C$i[2]=parseFloat(C$i[2])),C$s[C$t]=C$i,C$s.input[C$t]=C$e,o5by0(),!0},C$i.heighted=function(C$t){return 0!=(8192&this._type)},C$i.size=function(C$t,C$e){var C$i=this._ower,C$n=!1;-1!==C$t&&C$t!=this._ower.width&&(this._type|=8,this._ower.width=C$t,C$n=!0),-1!==C$e&&C$e!=this._ower.height&&(this._type|=8192,this._ower.height=C$e,C$n=!0),C$n&&(C$i._layoutLater(),524288&this._type&&C$i.event("resize",this))},C$i._getAlign=function(){return this._aligns[0]},C$i._getValign=function(){return this._aligns[1]},C$i._getCssFloat=function(){return 0!=(32768&this._type)?32768:0},C$i._createFont=function(){return 4096&this._type?this._font:(this._type|=4096,this._font=new C$c(this._font))},C$i.render=function(C$t,C$e,C$i,C$n){var C$r=C$t.width,C$s=C$t.height;C$i-=C$t.pivotX,C$n-=C$t.pivotY,this._bgground&&null!=this._bgground.color&&C$e.ctx.fillRect(C$i,C$n,C$r,C$s,this._bgground.color),this._border&&this._border.color&&C$e.drawRect(C$i,C$n,C$r,C$s,this._border.color.strColor,this._border.size)},C$i.getCSSStyle=function(){return this},C$i.cssText=function(C$t){this.attrs(wp9f.parseOneCSS(C$t,";"))},C$i.attrs=function(C$t){if(C$t)for(var C$e=0,C$i=C$t.length;C$e<C$i;C$e++){var C$n=C$t[C$e];this[C$n[0]]=C$n[1]}},C$i.setTransform=function(C$t){"none"===C$t?this._tf=C$u._TF_EMPTY:this.attrs(wp9f.parseOneCSS(C$t,","))},C$i.translate=function(C$t,C$e){this._tf===C$u._TF_EMPTY&&(this._tf=new C$_),this._tf.translateX=C$t,this._tf.translateY=C$e},C$i.scale=function(C$t,C$e){this._tf===C$u._TF_EMPTY&&(this._tf=new C$_),this._tf.scaleX=C$t,this._tf.scaleY=C$e},C$i._enableLayout=function(){return 0==(2&this._type)&&0==(4&this._type)},C$t(0,C$i,"block",C$e.prototype._$get_block,function(C$t){C$t?this._type|=1:this._type&=-2}),C$t(0,C$i,"valign",function(){return wp9f._valigndef[this._aligns[1]]},function(C$t){this._aligns===wp9f._ALIGNS&&(this._aligns=[0,0,0]),this._aligns[1]=wp9f._valigndef[C$t]}),C$t(0,C$i,"height",null,function(C$t){if(this._type|=8192,"string"==typeof C$t){if(this._calculation("height",C$t))return;C$t=parseInt(C$t)}this.size(-1,C$t)}),C$t(0,C$i,"width",null,function(C$t){if(this._type|=8,"string"==typeof C$t){var C$e=C$t.indexOf("auto");if(0<=C$e&&(this._type|=262144,C$t=C$t.substr(0,C$e)),this._calculation("width",C$t))return;C$t=parseInt(C$t)}this.size(C$t,-1)}),C$t(0,C$i,"fontWeight",function(){return this._font.weight},function(C$t){this._createFont().weight=C$t}),C$t(0,C$i,"left",null,function(C$t){var C$e=this._ower;if("string"==typeof C$t){if("center"===C$t?C$t="50% -50% 0":"right"===C$t&&(C$t="100% -100% 0"),this._calculation("left",C$t))return;C$t=parseInt(C$t)}C$e.x=C$t}),C$t(0,C$i,"_translate",null,function(C$t){this.translate(C$t[0],C$t[1])}),C$t(0,C$i,"absolute",function(){return 0!=(4&this._type)}),C$t(0,C$i,"top",null,function(C$t){var C$e=this._ower;if("string"==typeof C$t){if("middle"===C$t?C$t="50% -50% 0":"bottom"===C$t&&(C$t="100% -100% 0"),this._calculation("top",C$t))return;C$t=parseInt(C$t)}C$e.y=C$t}),C$t(0,C$i,"align",function(){return wp9f._aligndef[this._aligns[0]]},function(C$t){this._aligns===wp9f._ALIGNS&&(this._aligns=[0,0,0]),this._aligns[0]=wp9f._aligndef[C$t]}),C$t(0,C$i,"bold",function(){return this._font.bold},function(C$t){this._createFont().bold=C$t}),C$t(0,C$i,"padding",function(){return this._padding},function(C$t){this._padding=C$t}),C$t(0,C$i,"leading",function(){return this._spacing[1]},function(C$t){"string"==typeof C$t&&(C$t=parseInt(C$t+"")),this._spacing===wp9f._SPACING&&(this._spacing=[0,0]),this._spacing[1]=C$t}),C$t(0,C$i,"lineElement",function(){return 0!=(65536&this._type)},function(C$t){C$t?this._type|=65536:this._type&=-65537}),C$t(0,C$i,"cssFloat",function(){return 0!=(32768&this._type)?"right":"left"},function(C$t){this.lineElement=!1,"right"===C$t?this._type|=32768:this._type&=-32769}),C$t(0,C$i,"textDecoration",function(){return this._font.decoration},function(C$t){this._createFont().decoration=C$t}),C$t(0,C$i,"whiteSpace",function(){return 131072&this._type?"nowrap":""},function(C$t){"nowrap"===C$t&&(this._type|=131072),"none"===C$t&&(this._type&=-131073)}),C$t(0,C$i,"background",null,function(C$t){C$t?(this._bgground||(this._bgground={}),this._bgground.color=C$t,this._ower.conchModel&&this._ower.conchModel.bgColor(C$t),this._type|=16384,this._ower._renderType|=256):this._bgground=null}),C$t(0,C$i,"wordWrap",function(){return 0==(131072&this._type)},function(C$t){C$t?this._type&=-131073:this._type|=131072}),C$t(0,C$i,"color",function(){return this._font.color},function(C$t){this._createFont().color=C$t}),C$t(0,C$i,"password",function(){return this._font.password},function(C$t){this._createFont().password=C$t}),C$t(0,C$i,"backgroundColor",function(){return this._bgground?this._bgground.color:null},function(C$t){"none"===C$t?this._bgground=null:(this._bgground||(this._bgground={}),this._bgground.color=C$t),this._ower.conchModel&&this._ower.conchModel.bgColor(C$t),this._ower._renderType|=256}),C$t(0,C$i,"font",function(){return this._font.toString()},function(C$t){this._createFont().set(C$t)}),C$t(0,C$i,"weight",null,function(C$t){this._createFont().weight=C$t}),C$t(0,C$i,"letterSpacing",function(){return this._spacing[0]},function(C$t){"string"==typeof C$t&&(C$t=parseInt(C$t+"")),this._spacing===wp9f._SPACING&&(this._spacing=[0,0]),this._spacing[0]=C$t}),C$t(0,C$i,"fontSize",function(){return this._font.size},function(C$t){this._createFont().size=C$t}),C$t(0,C$i,"italic",function(){return this._font.italic},function(C$t){this._createFont().italic=C$t}),C$t(0,C$i,"fontFamily",function(){return this._font.family},function(C$t){this._createFont().family=C$t}),C$t(0,C$i,"stroke",function(){return this._font.stroke[0]},function(C$t){this._createFont().stroke===C$c._STROKE&&(this._font.stroke=[0,"#000000"]),this._font.stroke[0]=C$t}),C$t(0,C$i,"strokeColor",function(){return this._font.stroke[1]},function(C$t){this._createFont().stroke===C$c._STROKE&&(this._font.stroke=[0,"#000000"]),this._font.stroke[1]=C$t}),C$t(0,C$i,"border",function(){return this._border?this._border.value:""},function(C$t){if("none"!=C$t){this._border||(this._border={});C$t=(this._border.value=C$t).split(" ");if(this._border.color=C$H.create(C$t[C$t.length-1]),1==C$t.length)return this._border.size=1,void(this._border.type="solid");var C$e=0;0<C$t[0].indexOf("px")?(this._border.size=parseInt(C$t[0]),C$e++):this._border.size=1,this._border.type=C$t[C$e],this._ower._renderType|=256}else this._border=null}),C$t(0,C$i,"borderColor",function(){return this._border&&this._border.color?this._border.color.strColor:null},function(C$t){C$t?(this._border||(this._border={size:1,type:"solid"}),this._border.color=null==C$t?null:C$H.create(C$t),this._ower.conchModel&&this._ower.conchModel.border(this._border.color.strColor),this._ower._renderType|=256):this._border=null}),C$t(0,C$i,"position",function(){return 4&this._type?"absolute":""},function(C$t){"absolute"==C$t?this._type|=4:this._type&=-5}),C$t(0,C$i,"display",null,function(C$t){switch(C$t){case"":this._type&=-3,this.visible=!0;break;case"none":this._type|=2,this.visible=!1,this._ower._layoutLater()}}),C$t(0,C$i,"paddingLeft",function(){return this.padding[3]}),C$t(0,C$i,"paddingTop",function(){return this.padding[0]}),C$t(0,C$i,"_scale",null,function(C$t){this._ower.scale(C$t[0],C$t[1])}),C$t(0,C$i,"_rotate",null,function(C$t){this._ower.rotation=C$t}),wp9f.parseOneCSS=function(C$t,C$u){for(var C$e,C$i=[],C$n=C$t.split(C$u),C$r=0,C$c=C$n.length;C$r<C$c;C$r++){var C$s=C$n[C$r],C$a=C$s.indexOf(":"),C$o=C$s.substr(0,C$a).replace(/^\s+|\s+$/g,"");if(0!=C$o.length){var C$h=C$s.substr(C$a+1).replace(/^\s+|\s+$/g,""),C$l=[C$o,C$h];switch(C$o){case"italic":case"bold":C$l[1]="true"==C$h;break;case"line-height":C$l[0]="lineHeight",C$l[1]=parseInt(C$h);break;case"font-size":C$l[0]="fontSize",C$l[1]=parseInt(C$h);break;case"padding":1<(C$e=C$h.split(" ")).length||(C$e[1]=C$e[2]=C$e[3]=C$e[0]),C$l[1]=[parseInt(C$e[0]),parseInt(C$e[1]),parseInt(C$e[2]),parseInt(C$e[3])];break;case"rotate":C$l[0]="_rotate",C$l[1]=parseFloat(C$h);break;case"scale":C$e=C$h.split(" "),C$l[0]="_scale",C$l[1]=[parseFloat(C$e[0]),parseFloat(C$e[1])];break;case"translate":C$e=C$h.split(" "),C$l[0]="_translate",C$l[1]=[parseInt(C$e[0]),parseInt(C$e[1])];break;default:(C$l[0]=wp9f._CSSTOVALUE[C$o])||(C$l[0]=C$o)}C$i.push(C$l)}}return C$i},wp9f.parseCSS=function(C$t,C$e){for(var C$i;null!=(C$i=wp9f._parseCSSRegExp.exec(C$t));)wp9f.styleSheets[C$i[1]]=wp9f.parseOneCSS(C$i[2],";")},wp9f.EMPTY=new wp9f(null),wp9f._CSSTOVALUE={"letter-spacing":"letterSpacing","line-spacing":"lineSpacing","white-space":"whiteSpace","line-height":"lineHeight","scale-x":"scaleX","scale-y":"scaleY","translate-x":"translateX","translate-y":"translateY","font-family":"fontFamily","font-weight":"fontWeight","vertical-align":"valign","text-decoration":"textDecoration","background-color":"backgroundColor","border-color":"borderColor",float:"cssFloat"},wp9f._parseCSSRegExp=new RegExp("([.#]\\w+)\\s*{([\\s\\S]*?)}","g"),wp9f._aligndef={left:0,center:1,right:2,0:"left",1:"center",2:"right"},wp9f._valigndef={top:0,middle:1,bottom:2,0:"top",1:"middle",2:"bottom"},wp9f.styleSheets={},wp9f.ALIGN_CENTER=1,wp9f.ALIGN_RIGHT=2,wp9f.VALIGN_MIDDLE=1,wp9f.VALIGN_BOTTOM=2,wp9f._CSS_BLOCK=1,wp9f._DISPLAY_NONE=2,wp9f._ABSOLUTE=4,wp9f._WIDTH_SET=8,wp9f._PADDING=[0,0,0,0],wp9f._RECT=[-1,-1,-1,-1],wp9f._SPACING=[0,0],wp9f._ALIGNS=[0,0,0],wp9f.ADDLAYOUTED=512,wp9f._NEWFONT=4096,wp9f._HEIGHT_SET=8192,wp9f._BACKGROUND_SET=16384,wp9f._FLOAT_RIGHT=32768,wp9f._LINE_ELEMENT=65536,wp9f._NOWARP=131072,wp9f._WIDTHAUTO=262144,wp9f._LISTERRESZIE=524288,wp9f),C$rt=(C$o(n1u43,"laya.media.h5audio.AudioSound",C$l),(C$e=n1u43.prototype).dispose=function(){var C$t=n1u43._audioCache[this.url];C$t&&(C$t.src="",delete n1u43._audioCache[this.url])},C$e.load=function(C$t){var C$e;var C$i;function zc8eth(){_hze2(),C$i.loaded=!0,C$i.event("complete")}function qo5ryv(){C$e.load=null,_hze2(),C$i.event("error")}function _hze2(){C$e.removeEventListener("canplaythrough",zc8eth),C$e.removeEventListener("error",qo5ryv)}C$t=C$N.formatURL(C$t),(this.url=C$t)==C$L._tMusic?(n1u43._initMusicAudio(),(C$e=n1u43._musicAudio).src!=C$t&&(n1u43._audioCache[C$e.src]=null,C$e=null)):C$e=n1u43._audioCache[C$t],C$e&&2<=C$e.readyState?this.event("complete"):(C$e||(C$e=C$t==C$L._tMusic?(n1u43._initMusicAudio(),n1u43._musicAudio):C$S.createElement("audio"),(n1u43._audioCache[C$t]=C$e).src=C$t),C$e.addEventListener("canplaythrough",zc8eth),C$e.addEventListener("error",qo5ryv),((C$i=this).audio=C$e).load?C$e.load():qo5ryv())},C$e.play=function(C$t,C$e,C$i){if(void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=0),!this.url)return null;var C$n;if(!(C$r=this.url==C$L._tMusic?n1u43._musicAudio:n1u43._audioCache[this.url]))return null;C$n=C$X.getItem("audio:"+this.url),C$M.isConchApp?C$n||((C$n=C$S.createElement("audio")).src=this.url):this.url==C$L._tMusic?(n1u43._initMusicAudio(),(C$n=n1u43._musicAudio).src=this.url):C$n=C$n||C$r.cloneNode(!0);var C$r=new C$dt(C$n);return C$r.url=this.url,C$r.loops=C$e,C$r.startTime=C$t,C$r.startHandler=C$i,C$r.play(!1),C$L.addChannel(C$r),C$r},C$t(0,C$e,"duration",function(){var C$t;return(C$t=n1u43._audioCache[this.url])?C$t.duration:0}),n1u43._initMusicAudio=function(){n1u43._musicAudio||(n1u43._musicAudio=C$S.createElement("audio"),C$M.isConchApp||C$S.document.addEventListener("mousedown",n1u43._makeMusicOK))},n1u43._makeMusicOK=function(){C$S.document.removeEventListener("mousedown",n1u43._makeMusicOK),n1u43._musicAudio.src?n1u43._musicAudio.play():(n1u43._musicAudio.src="",n1u43._musicAudio.load())},n1u43._audioCache={},n1u43._musicAudio=null,n1u43),C$e=(C$o(epw_2,"laya.media.SoundChannel",C$l),(C$i=epw_2.prototype).play=function(){},C$i.stop=function(){},C$i.pause=function(){},C$i.resume=function(){},C$i.__runComplete=function(C$t){C$t&&C$t.run()},C$t(0,C$i,"volume",function(){return 1},function(C$t){}),C$t(0,C$i,"position",function(){return 0}),C$t(0,C$i,"duration",function(){return 0}),epw_2),C$st=(C$o(c6zt,"laya.media.Sound",C$l),(C$i=c6zt.prototype).load=function(C$t){},C$i.play=function(C$t,C$e,C$i){return void 0===C$t&&(C$t=0),null},C$i.dispose=function(){},C$t(0,C$i,"duration",function(){return 0}),c6zt),C$at=(C$o(amul43,"laya.media.webaudio.WebAudioSound",C$l),(C$i=amul43.prototype).load=function(C$t){this.url=C$t,this.audioBuffer=amul43._dataCache[C$t],this.audioBuffer?this._loaded(this.audioBuffer):(amul43.e.on("loaded:"+C$t,this,this._loaded),amul43.e.on("err:"+C$t,this,this._err),amul43.__loadingSound[C$t]||(amul43.__loadingSound[C$t]=!0,C$b.loader.load(C$t,C$g.create(this,this.onloaded),null,C$ht.BUFFER,4,!1,null,!0)))},C$i.onloaded=function(C$t){C$t||this._err(),this._disposed?this._removeLoadEvents():(this.data=C$t,amul43.buffs.push({buffer:this.data,url:this.url}),amul43.decode())},C$i._err=function(){if(this._removeLoadEvents(),amul43.__loadingSound[this.url]=!1,this.event("error"),this.__toPlays){var C$t,C$e,C$i,C$n=0;for(C$t=(C$e=this.__toPlays).length,C$n=0;C$n<C$t;C$n++)(C$i=C$e[C$n])[3]&&!C$i[3].isStopped&&C$i[3].event("error");this.__toPlays.length=0}},C$i._loaded=function(C$t){this._removeLoadEvents(),this._disposed||(this.audioBuffer=C$t,this.loaded=!0,this.event("complete"))},C$i._removeLoadEvents=function(){amul43.e.off("loaded:"+this.url,this,this._loaded),amul43.e.off("err:"+this.url,this,this._err)},C$i.__playAfterLoaded=function(){if(this.__toPlays){var C$t,C$e,C$i,C$n=0;for(C$t=(C$e=this.__toPlays).length,C$n=0;C$n<C$t;C$n++)(C$i=C$e[C$n])[3]&&!C$i[3].isStopped&&this.play(C$i[0],C$i[1],C$i[2],C$i[3]);this.__toPlays.length=0}},C$i.play=function(C$t,C$e,C$i,C$n){return void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=0),C$n=C$n||new C$ft,this.audioBuffer||this.url&&(this.__toPlays||(this.__toPlays=[]),this.__toPlays.push([C$t,C$e,C$i,C$n]),this.once("complete",this,this.__playAfterLoaded),this.load(this.url)),C$n.url=this.url,C$n.loops=C$e,C$n.audioBuffer=this.audioBuffer,C$n.startTime=C$t,C$n.startHandler=C$i,C$n.play(!1),C$L.addChannel(C$n),C$n},C$i.dispose=function(){this._disposed=!0,delete amul43._dataCache[this.url],delete amul43.__loadingSound[this.url],this.audioBuffer=null,this.data=null,this.__toPlays=[]},C$t(0,C$i,"duration",function(){return this.audioBuffer?this.audioBuffer.duration:0}),amul43.decode=function(){if(!(amul43.buffs.length<=0||amul43.isDecoding))if(amul43.isDecoding=!0,(amul43.tInfo=amul43.buffs.shift())&&amul43.tInfo.buffer&&amul43.tInfo.buffer.byteLength)try{amul43.ctx.decodeAudioData(amul43.tInfo.buffer,amul43._done,amul43._fail)}catch(C$t){console.error("decodeAudioData error  byteLength:"+amul43.tInfo.buffer.byteLength+"  url:"+amul43.tInfo.url)}else amul43._fail()},amul43._done=function(C$t){amul43.e.event("loaded:"+amul43.tInfo.url,C$t),amul43._dataCache[amul43.tInfo.url]=C$t,amul43.isDecoding=!1,amul43.decode()},amul43._fail=function(){amul43.e.event("err:"+amul43.tInfo.url,null),amul43.isDecoding=!1,amul43.decode()},amul43._playEmptySound=function(){if(null!=amul43.ctx){if(amul43._emptySource&&(amul43._emptySource.stop(),amul43._emptySource.disconnect(0),!C$ft._tryCleanFailed))try{amul43._emptySource.buffer=null}catch(C$t){C$ft._tryCleanFailed=!0}var C$t=amul43.ctx.createBufferSource();C$t.buffer=amul43._miniBuffer,C$t.connect(amul43.ctx.destination),C$t.start(0,0,0),amul43._emptySource=C$t}},amul43._unlock=function(){amul43._unlocked||(amul43._playEmptySound(),"running"==amul43.ctx.state?(C$S.document.removeEventListener("mousedown",amul43._unlock,!0),C$S.document.removeEventListener("touchend",amul43._unlock,!0),C$S.document.removeEventListener("touchstart",amul43._unlock,!0),amul43._unlocked=!0):"suspended"==amul43.ctx.state&&C$L._recoverWebAudio())},amul43.initWebAudio=function(){"running"!=amul43.ctx.state&&(amul43._unlock(),C$S.document.addEventListener("mousedown",amul43._unlock,!0),C$S.document.addEventListener("touchend",amul43._unlock,!0),C$S.document.addEventListener("touchstart",amul43._unlock,!0))},amul43._emptySource=null,amul43._dataCache={},amul43.buffs=[],amul43.isDecoding=!1,amul43._unlocked=!1,amul43.tInfo=null,amul43.__loadingSound={},C$a(amul43,["window",function(){return this.window=C$S.window},"webAudioEnabled",function(){return this.webAudioEnabled=amul43.window.AudioContext||amul43.window.webkitAudioContext||amul43.window.mozAudioContext},"ctx",function(){return this.ctx=amul43.webAudioEnabled?new(amul43.window.AudioContext||amul43.window.webkitAudioContext||amul43.window.mozAudioContext):void 0},"_miniBuffer",function(){return this._miniBuffer=amul43.ctx.createBuffer(1,1,22050)},"e",function(){return this.e=new C$l}]),amul43),C$ot=(C$o(kg0bqd,"laya.net.HttpRequest",C$l),(C$i=kg0bqd.prototype).send=function(C$t,C$e,C$i,C$n,C$r){void 0===C$i&&(C$i="get"),this._responseType=C$n=void 0===C$n?"text":C$n,this._data=null;var C$s=this,C$a=this._http;if(C$a.open(C$i,C$t,!0),C$r)for(var C$o=0;C$o<C$r.length;C$o++)C$a.setRequestHeader(C$r[C$o++],C$r[C$o]);else C$M.isConchApp||(C$e&&"string"!=typeof C$e?C$a.setRequestHeader("Content-Type","application/json"):C$a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"));C$a.responseType="arraybuffer"!==C$n?"text":"arraybuffer",C$a.onerror=function(C$t){C$s._onError(C$t)},C$a.onabort=function(C$t){C$s._onAbort(C$t)},C$a.onprogress=function(C$t){C$s._onProgress(C$t)},C$a.onload=function(C$t){C$s._onLoad(C$t)},C$a.send(C$e)},C$i._onProgress=function(C$t){C$t&&C$t.lengthComputable&&this.event("progress",C$t.loaded/C$t.total)},C$i._onAbort=function(C$t){this.error("Request was aborted by user")},C$i._onError=function(C$t){this.error("Request failed Status:"+this._http.status+" text:"+this._http.statusText)},C$i._onLoad=function(C$t){var C$e=this._http,C$i=void 0!==C$e.status?C$e.status:200;200===C$i||204===C$i||0===C$i?this.complete():this.error("["+C$e.status+"]"+C$e.statusText+":"+C$e.responseURL)},C$i.error=function(C$t){this.clear(),this.event("error",C$t)},C$i.complete=function(){this.clear();var C$e=!0;try{"json"===this._responseType?this._data=JSON.parse(this._http.responseText):"xml"===this._responseType?this._data=C$Q.parseXMLFromString(this._http.responseText):this._data=this._http.response||this._http.responseText}catch(C$t){C$e=!1,this.error(C$t.message)}C$e&&this.event("complete",this._data instanceof Array?[this._data]:this._data)},C$i.clear=function(){var C$t=this._http;C$t.onerror=C$t.onabort=C$t.onprogress=C$t.onload=null},C$t(0,C$i,"url",function(){return this._http.responseURL}),C$t(0,C$i,"http",function(){return this._http}),C$t(0,C$i,"data",function(){return this._data}),kg0bqd),C$ht=(C$o(ehzcp,"laya.net.Loader",C$l),(C$i=ehzcp.prototype).load=function(C$t,C$e,C$i,C$n,C$r){return C$t&&""!=C$t||console.error("Loader \u52a0\u8f7d\u7684url\u4e0d\u5408\u6cd5 "+C$t),void 0===C$i&&(C$i=!0),void 0===C$r&&(C$r=!1),0===(this._url=C$t).indexOf("data:image")?this._type=C$e="image":this._type=C$e=C$e||this.getTypeFromUrl(C$t),this._cache=C$i,this._data=null,!C$r&&ehzcp.loadedMap[C$t]?(this._data=ehzcp.loadedMap[C$t],this.event("progress",1),void this.event("complete",this._data)):(C$n&&ehzcp.setGroup(C$t,C$n),null!=ehzcp.parserMap[C$e]?(this._customParse=!0,void(ehzcp.parserMap[C$e]instanceof laya.utils.Handler?ehzcp.parserMap[C$e].runWith(this):ehzcp.parserMap[C$e].call(null,this))):"image"===C$e||"htmlimage"===C$e||"nativeimage"===C$e?this._loadImage(C$t):"ttf"===C$e?this._loadTTF(C$t):void(ehzcp.preLoadedMap[C$t]?this.onLoaded(ehzcp.preLoadedMap[C$t]):C$s.resMgrLoad(C$t,this._onLoadedCallback,0<=this.priority?this.priority:2,this.realTime)))},C$i.getTypeFromUrl=function(C$t){var C$e=C$Q.getFileExtension(C$t);return C$e?ehzcp.typeMap[C$e]:(console.warn("Not recognize the resources suffix",C$t),"text")},C$i._loadTTF=function(C$t){C$t=C$N.formatURL(C$t);var C$e=new C$k;C$e.complete=C$g.create(this,this.onLoaded),C$e.load(C$t)},C$i._loadImage=function(C$t){C$s.imgMgrLoad(C$t,this._onImageCallback,0<=this.priority?this.priority:2,this.realTime)},C$i._loadImageComplete=function(C$t,C$e,C$i){var C$n;null!=C$i?C$i instanceof ArrayBuffer?(C$n=new DataView(C$i),C$n=new laya.webgl.resource.WebGLImage(new Uint8Array(C$i,8),C$t,0,!1,C$n.getUint32(0),C$n.getUint32(4)),this.onLoaded(C$n)):C$i instanceof C$ut?(ehzcp.imgMgrSet[C$t]=C$e,C$s.imgMgrLock(C$t,ehzcp.imgMgrSet[C$t]),this._url=C$t,this.complete(C$i)):(C$e=-1!=C$t.indexOf(".png",C$t.length-4)?6408:6407,C$n=new laya.webgl.resource.WebGLImage(C$i,C$t,C$e,!1,C$i.width,C$i.height),this.onLoaded(C$n)):this.event("error","Load image failed")},C$i.imageCancel=function(C$t,C$e,C$i){C$s.imgMgrCancel&&C$s.imgMgrCancel(C$t,this._onImageCallback)},C$i._loadSound=function(C$t){var C$e=new C$L._soundClass,C$i=this;function p2he_z(){C$e.offAll()}C$e.on("complete",this,function(){p2he_z(),C$i.onLoaded(C$e)}),C$e.on("error",this,function(){p2he_z(),C$e.dispose(),C$i.event("error","Load sound failed")}),C$e.load(C$t)},C$i.onProgress=function(C$t){"atlas"===this._type?this.event("progress",.3*C$t):this.event("progress",C$t)},C$i.onError=function(C$t){this.event("error",C$t)},C$i._loadedComplete=function(C$t,C$e,C$i){if(null!=C$i)switch(this._type){case"atlas":case"plf":case"json":var C$n=new C$j(C$i);this.onLoaded(JSON.parse(C$n.readUTFBytes()));break;case"font":C$n=new C$j(C$i),this.onLoaded(C$Q.parseXMLFromString(C$n.readUTFBytes()));break;default:this.onLoaded(C$i)}else this.event("error",C$t)},C$i.onLoaded=function(C$t){var C$e=this._type;if("plf"==C$e)this.parsePLFData(C$t),this.complete(C$t);else if("image"===C$e){var C$i=new C$ut(C$t);C$i.url=this._url,this.complete(C$i)}else if("sound"===C$e||"htmlimage"===C$e||"nativeimage"===C$e)this.complete(C$t);else if("atlas"===C$e){if(!C$t.src&&!C$t._setContext){if(!this._data){if((this._data=C$t).meta&&C$t.meta.image)for(var C$n=C$t.meta.image.split(","),C$i=0<=this._url.indexOf("/")?"/":"\\",C$i=this._url.lastIndexOf(C$i),C$u=0<=C$i?this._url.substr(0,C$i+1):"",C$r=0,C$c=C$n.length;C$r<C$c;C$r++)C$n[C$r]=C$u+C$n[C$r];else C$n=[this._url.replace(".json",".png")];C$n.reverse(),C$t.toLoads=C$n,C$t.pics=[]}return this.event("progress",.3+1/C$n.length*.6),this._loadImage(C$n.pop())}if(!this._data.pics)throw new Error("this._data.pics == null, "+this._url);if(this._data.pics.push(C$t),0<this._data.toLoads.length)return this.event("progress",.3+1/this._data.toLoads.length*.6),this._loadImage(this._data.toLoads.pop());var C$_=this._data.frames,C$i=this._url.split("?")[0],C$s=this._data.meta&&this._data.meta.prefix?this._data.meta.prefix:C$i.substring(0,C$i.lastIndexOf("."))+"/",C$d=this._data.pics,C$i=C$N.formatURL(this._url),C$f=ehzcp.atlasMap[C$i]||(ehzcp.atlasMap[C$i]=[]);C$f.dir=C$s;var C$p;if(this._data.meta&&this._data.meta.scale&&1!=this._data.meta.scale)for(var C$a in C$p=parseFloat(this._data.meta.scale),C$_){var C$m,C$o=C$_[C$a],C$g=C$d[C$o.frame.idx||0],C$h=C$N.formatURL(C$s+C$a);C$g.scaleRate=C$p,C$m=C$ut.create(C$g,C$o.frame.x,C$o.frame.y,C$o.frame.w,C$o.frame.h,C$o.spriteSourceSize.x,C$o.spriteSourceSize.y,C$o.sourceSize.w,C$o.sourceSize.h),ehzcp.cacheRes(C$h,C$m),ehzcp.keepCache(this._url,C$s+C$a),C$m.url=C$h,C$f.push(C$h)}else for(C$a in C$_)C$g=C$d[(C$o=C$_[C$a]).frame.idx?C$o.frame.idx:0],C$h=C$N.formatURL(C$s+C$a),ehzcp.cacheRes(C$h,C$ut.create(C$g,C$o.frame.x,C$o.frame.y,C$o.frame.w,C$o.frame.h,C$o.spriteSourceSize.x,C$o.spriteSourceSize.y,C$o.sourceSize.w,C$o.sourceSize.h)),ehzcp.loadedMap[C$h].url=C$h,ehzcp.keepCache(this._url,C$s+C$a),C$f.push(C$h);delete this._data.pics,this.complete(this._data)}else if("font"==C$e){if(!C$t.src)return this._data=C$t,this.event("progress",.5),this._loadImage(this._url.replace(".fnt",".png"));C$i=new C$v;C$i.parseFont(this._data,C$t);var C$l=this._url.split(".fnt")[0].split("/"),C$l=C$l[C$l.length-1];C$pt.registerBitmapFont(C$l,C$i),this._data=C$i,this.complete(this._data)}else"pkm"==C$e?(C$l=C$yt.create(C$t,this._url),(C$i=new C$ut(C$l)).url=this._url,this.complete(C$i)):this.complete(C$t)},C$i.parsePLFData=function(C$t){var C$e,C$i,C$n;for(C$e in C$t)for(C$i in C$e,C$n=C$t[C$e])ehzcp.preLoadedMap[C$N.formatURL(C$i)]=C$n[C$i]},C$i.complete=function(C$t){this._data=C$t,this._customParse?this.event("loaded",C$t instanceof Array?[C$t]:C$t):(ehzcp._loaders.push(this),ehzcp._isWorking||ehzcp.checkNext())},C$i.endLoad=function(C$t){C$t&&(this._data=C$t),this._cache&&ehzcp.cacheRes(this._url,this._data),this.event("progress",1),this.event("complete",this.data instanceof Array?[this.data]:this.data)},C$t(0,C$i,"url",function(){return this._url}),C$t(0,C$i,"data",function(){return this._data}),C$t(0,C$i,"cache",function(){return this._cache}),C$t(0,C$i,"type",function(){return this._type}),ehzcp.checkNext=function(){ehzcp._isWorking=!0;for(var C$t=C$S.now();ehzcp._startIndex<ehzcp._loaders.length;)if(C$S.now(),ehzcp._loaders[ehzcp._startIndex].endLoad(),ehzcp._startIndex++,C$S.now()-C$t>ehzcp.maxTimeOut)return console.warn("loader callback cost a long time:"+(C$S.now()-C$t)+" url="+ehzcp._loaders[ehzcp._startIndex-1].url),void C$b.timer.frameOnce(1,null,ehzcp.checkNext);ehzcp._loaders.length=0,ehzcp._startIndex=0,ehzcp._isWorking=!1},ehzcp.clearRes=function(C$t,C$e){if(null!=C$t){void 0===C$e&&(C$e=!1),C$t=C$N.formatURL(C$t);var C$i=ehzcp.getAtlas(C$t);if(C$i){for(var C$n=0,C$r=C$i.length;C$n<C$r;C$n++){var C$s=C$i[C$n],C$a=ehzcp.getRes(C$s);delete ehzcp.loadedMap[C$s],ehzcp.clearCache(C$t.substring(C$N.basePath.length),C$s.substring(C$N.basePath.length)),C$a&&C$a.destroy(C$e)}C$i.length=0,delete ehzcp.atlasMap[C$t],delete ehzcp.loadedMap[C$t]}else{var C$o=ehzcp.loadedMap[C$t];C$o&&(delete ehzcp.loadedMap[C$t],C$o instanceof laya.resource.Texture&&C$o.bitmap&&C$o.destroy(C$e))}}},ehzcp.clearTextureRes=function(C$t){C$t=C$N.formatURL(C$t);var C$e=laya.net.Loader.getAtlas(C$t),C$e=C$e&&0<C$e.length?laya.net.Loader.getRes(C$e[0]):laya.net.Loader.getRes(C$t);C$e&&C$e.bitmap&&(C$M.isConchApp&&!C$M.isConchWebGL?C$e.bitmap.source.releaseTexture&&C$e.bitmap.source.releaseTexture():null==C$e.bitmap._atlaser&&C$e.bitmap.releaseResource(!0))},ehzcp.getRes=function(C$t){return ehzcp.loadedMap[C$N.formatURL(C$t)]},ehzcp.getAtlas=function(C$t){return ehzcp.atlasMap[C$N.formatURL(C$t)]},ehzcp.cacheRes=function(C$t,C$e){C$t=C$N.formatURL(C$t),null!=ehzcp.loadedMap[C$t]?console.warn("Resources already exist,is repeated loading:",C$t):ehzcp.loadedMap[C$t]=C$e},ehzcp.setGroup=function(C$t,C$e){ehzcp.groupMap[C$e]||(ehzcp.groupMap[C$e]=[]),ehzcp.groupMap[C$e].push(C$t)},ehzcp.clearResByGroup=function(C$t){if(ehzcp.groupMap[C$t]){var C$e=ehzcp.groupMap[C$t],C$i=0,C$n=C$e.length;for(C$i=0;C$i<C$n;C$i++)ehzcp.clearRes(C$e[C$i]);C$e.length=0}},ehzcp.keepCache=function(C$t,C$e){var C$i;C$t&&C$e&&((C$i=ehzcp.cacheSet[C$e])?-1==C$i.indexOf(C$t)&&C$i.push(C$t):ehzcp.cacheSet[C$e]=[C$t])},ehzcp.clearCache=function(C$t,C$e){var C$i,C$n;C$t&&C$e&&(!(C$i=ehzcp.cacheSet[C$e])||-1!==(C$t=C$i.indexOf(C$t))&&(0==(C$n=C$i.length-1)?(delete ehzcp.cacheSet[C$e],0<ehzcp.imgMgrSet[C$e]?C$s.imgMgrFree(C$e,ehzcp.imgMgrSet[C$e]):ehzcp.clearRes(C$e,!0)):(C$i[C$t]=C$i[C$n],C$i.length=C$n)))},ehzcp.saveObject=function(C$t,C$e,C$i){var C$n;C$e&&C$t&&((C$n=ehzcp.objectSet[C$t])?(console.warn("Loader.saveObject: "+C$t),C$n[0]=C$e,C$n[1]=C$i):ehzcp.objectSet[C$t]=[C$e,C$i,[]])},ehzcp.findObject=function(C$t){if(C$t){C$t=ehzcp.objectSet[C$t];if(C$t)return C$t[0]}return null},ehzcp.keepObject=function(C$t,C$e){C$t&&C$e&&((C$e=ehzcp.objectSet[C$e])&&-1===C$e[2].indexOf(C$t)&&C$e[2].push(C$t))},ehzcp.clearObject=function(C$t,C$e){var C$i,C$n,C$r;C$t&&C$e&&(!(C$i=ehzcp.objectSet[C$e])||-1!==(C$t=(C$n=C$i[2]).indexOf(C$t))&&(0==(C$r=C$n.length-1)?(delete ehzcp.objectSet[C$e],C$i[1]&&C$i[1].call(null,C$i[0])):(C$n[C$t]=C$n[C$r],C$n.length=C$r)))},ehzcp.TEXT="text",ehzcp.JSON="json",ehzcp.XML="xml",ehzcp.BUFFER="arraybuffer",ehzcp.IMAGE="image",ehzcp.SOUND="sound",ehzcp.ATLAS="atlas",ehzcp.FONT="font",ehzcp.TTF="ttf",ehzcp.PLF="plf",ehzcp.PKM="pkm",ehzcp.typeMap={png:"image",jpg:"image",jpeg:"image",txt:"text",json:"json",xml:"xml",als:"atlas",atlas:"atlas",mp3:"sound",ogg:"sound",wav:"sound",part:"json",fnt:"font",pkm:"pkm",ttf:"ttf",plf:"plf"},ehzcp.parserMap={},ehzcp.groupMap={},ehzcp.maxTimeOut=100,ehzcp.loadedMap={},ehzcp.preLoadedMap={},ehzcp.atlasMap={},ehzcp._loaders=[],ehzcp._isWorking=!1,ehzcp._startIndex=0,ehzcp.imgCache={},ehzcp.cacheSet={},ehzcp.objectSet={},ehzcp.imgMgrSet={},ehzcp),C$lt=(C$o(tehpzc,"laya.net.LoaderManager",C$l),(C$i=tehpzc.prototype).create=function(C$t,C$i,C$e,C$n,C$u,C$r,C$s,C$c){if(null==C$r&&(C$r=2),null==C$s&&(C$s=!0),C$t instanceof Array){var C$a=C$t,C$o=C$a.length,C$_=0;var C$d;C$e&&(C$d=C$g.create(C$e.caller,C$e.method,C$e.args,!1));for(var C$h=0;C$h<C$o;C$h++){var C$l=C$a[C$h];(C$l="string"==typeof C$l?C$a[C$h]={url:C$l}:C$l).progress=0}for(C$h=0;C$h<C$o;C$h++){C$l=C$a[C$h];var C$f=C$e?C$g.create(null,pzw_,[C$l],!1):null,C$p=C$e||C$i?C$g.create(null,o5kb0,[C$l]):null;this._create(C$l.url,C$p,C$f,C$l.clas||C$n,C$l.params||C$u,null!=C$l.priority&&0<=C$l.priority?C$l.priority:C$r,C$s,C$l.group||C$c)}function o5kb0(C$t,C$e){C$_++,C$t.progress=1,C$_===C$o&&C$i&&C$i.run()}function pzw_(C$t,C$e){C$t.progress=C$e;for(var C$i=0,C$n=0;C$n<C$o;C$n++)C$i+=C$a[C$n].progress;C$d.runWith(C$i/C$o)}return!0}return this._create(C$t,C$i,C$e,C$n,C$u,C$r,C$s,C$c)},C$i._create=function(C$e,C$i,C$t,C$n,C$u,C$r,C$s,C$a){C$e&&""!=C$e||console.error("\u52a0\u8f7d\u7684url\u4e0d\u5408\u6cd5 "+C$e),null==C$r&&(C$r=2),null==C$s&&(C$s=!0);var C$c=C$N.formatURL(C$e),C$o=this.getRes(C$c);if(C$o)!C$o.hasOwnProperty("loaded")||C$o.loaded?(C$t&&C$t.runWith(1),C$i&&C$i.run()):C$i&&C$b.loader._createListener(C$e,C$i.caller,C$i.method,C$i.args,!0,!1);else{var C$h=C$Q.getFileExtension(C$e),C$l=tehpzc.createMap[C$h];if(!C$l)throw new Error("LoaderManager:unknown file("+C$e+") extension with: "+C$h+".");C$n=C$n||C$l[0];C$l=C$l[1];"atlas"==C$h?this.load(C$e,C$i,C$t,C$l,C$r,C$s):(C$n===C$ut&&(C$l="htmlimage"),(C$o=C$n?new C$n:null).hasOwnProperty("_loaded")&&(C$o._loaded=!1),C$o._setUrl(C$e),C$a&&C$o._setGroup(C$a),this._createLoad(C$o,C$e,C$g.create(null,function(C$t){C$o&&!C$o.destroyed&&C$t&&C$o.onAsynLoaded.call(C$o,C$e,C$t,C$u),C$i&&C$i.run(),C$b.loader.event(C$e)}),C$t,C$l,C$r,!1,C$a,!0),C$s&&this.cacheRes(C$c,C$o))}return C$o},C$i.load=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){C$t&&""!=C$t||console.error("\u52a0\u8f7d\u7684url\u4e0d\u5408\u6cd5 "+C$t);var C$h=this;if(null==C$r&&(C$r=2),null==C$s&&(C$s=!0),void 0===C$o&&(C$o=!1),C$t instanceof Array)return this._loadAssets(C$t,C$e,C$i,C$n,C$r,C$s,C$a);var C$u=C$ht.getRes(C$t);var C$l;return null!=C$u?C$b.timer.frameOnce(1,null,function(){C$i&&C$i.runWith(1),C$e&&C$e.runWith(C$u),C$h._loaderCount||C$h.event("complete")}):(C$l=tehpzc._resMap[C$t])?(C$e&&C$l._createListener("complete",C$e.caller,C$e.method,C$e.args,!1,!1),C$i&&C$l._createListener("progress",C$i.caller,C$i.method,C$i.args,!1,!1)):((C$l=this._infoPool.length?this._infoPool.pop():new C$Lt).url=C$t,C$l.clas=null,C$l.type=C$n,C$l.cache=C$s,C$l.group=C$a,C$l.ignoreCache=C$o,C$l.priority=C$r,C$e&&C$l.on("complete",C$e.caller,C$e.method,C$e.args),C$i&&C$l.on("progress",C$i.caller,C$i.method,C$i.args),tehpzc._resMap[C$t]=C$l,C$r=C$r<this._maxPriority?0<=C$r?C$r:0:this._maxPriority-1,this._resInfos[C$r].push(C$l),this._next()),this},C$i.cancel=function(C$t,C$e,C$i){if(C$a=tehpzc._resMap[C$t]){C$e&&C$a.off("complete",C$e.caller,C$e.method,!1),C$i&&C$a.off("progress",C$i.caller,C$i.method,!1);C$e=C$a.getListener("complete"),C$i=C$a.getListener("progress");if(!(C$e&&C$e.head||C$i&&C$i.head)){C$a.loader&&((C$e=C$a.loader).imageCancel(C$t),C$e.offAll(),C$e._data=null,C$e._customParse=!1,C$e._url=null,C$e._class=null,C$e._type=null,this._loaders.push(C$e),this._loaderCount--,delete this._loaderMap[C$a.url]);for(var C$n=0;C$n<this._maxPriority;C$n++)for(var C$r=this._resInfos[C$n],C$s=C$r.length-1;-1<C$s;C$s--){var C$a;(C$a=C$r[C$s])&&C$a.url===C$t&&(C$r[C$s]=null,C$a.destroy(),C$a.offAll(),this._infoPool.push(C$a))}delete tehpzc._resMap[C$t],this._next()}}},C$i._createLoad=function(C$u,C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){var C$h=this;if(null==C$r&&(C$r=2),null==C$s&&(C$s=!0),void 0===C$o&&(C$o=!1),C$t instanceof Array)return this._loadAssets(C$t,C$e,C$i,C$n,C$r,C$s,C$a);var C$c=C$ht.getRes(C$t);var C$l;return null!=C$c?C$b.timer.frameOnce(1,null,function(){C$i&&C$i.runWith(1),C$e&&C$e.runWith(C$c),C$h._loaderCount||C$h.event("complete")}):(C$l=tehpzc._resMap[C$t])?(C$e&&C$l._createListener("complete",C$e.caller,C$e.method,C$e.args,!1,!1),C$i&&C$l._createListener("progress",C$i.caller,C$i.method,C$i.args,!1,!1)):((C$l=this._infoPool.length?this._infoPool.pop():new C$Lt).url=C$t,C$l.clas=C$u,C$l.type=C$n,C$l.cache=C$s,C$l.group=C$a,C$l.ignoreCache=C$o,C$l.priority=C$r,C$e&&C$l.on("complete",C$e.caller,C$e.method,C$e.args),C$i&&C$l.on("progress",C$i.caller,C$i.method,C$i.args),tehpzc._resMap[C$t]=C$l,C$r=C$r<this._maxPriority?0<=C$r?C$r:0:this._maxPriority-1,this._resInfos[C$r].push(C$l),this._next()),this},C$i._next=function(){if(!(this._loaderCount>=this.maxLoader)){for(var C$t=0;C$t<this._maxPriority;C$t++)for(var C$e=this._resInfos[C$t];0<C$e.length;){var C$i=C$e.shift();if(C$i)return this._doLoad(C$i)}this._loaderCount||this.event("complete")}},C$i._doLoad=function(C$e){var C$i=this._loaders.length?this._loaders.pop():new C$ht;this._loaderCount++,(this._loaderMap[C$e.url]=C$i).on("complete",null,u1a34l),C$i.on("progress",null,function(C$t){C$e.event("progress",C$t)}),C$i.on("error",null,function(C$t){u1a34l(null)}),C$e.loader=C$i;var C$n=this;function u1a34l(C$t){C$i.offAll(),C$i._data=null,C$i._customParse=!1,C$i._url=null,C$i._class=null,C$i._type=null,C$n._loaders.push(C$i),C$n._loaderCount--,delete C$n._loaderMap[C$e.url],C$n._endLoad(C$e,C$t instanceof Array?[C$t]:C$t),C$n._next()}C$i._class=C$e.clas,1<=C$e.priority?(C$i.priority=C$e.priority,C$i.realTime=!1):(C$i.priority=0,C$i.realTime=!0),C$i.load(C$e.url,C$e.type,C$e.cache,C$e.group,C$e.ignoreCache)},C$i._endLoad=function(C$t,C$e){var C$i=C$t.url;if(null==C$e){var C$n=this._failRes[C$i]||0;if(C$n<this.retryNum)return console.warn("[warn]Retry to load:",C$i),this._failRes[C$i]=C$n+1,void C$b.timer.once(this.retryDelay,this,this._addReTry,[C$t],!1);console.warn("[error]Failed to load:",C$i),this.event("error",C$i)}this._failRes[C$i]&&(this._failRes[C$i]=0),delete tehpzc._resMap[C$i],C$t.event("complete",C$e),C$t.destroy(),C$t.offAll(),this._infoPool.push(C$t)},C$i._addReTry=function(C$t){this._resInfos[this._maxPriority-1].push(C$t),this._next()},C$i.clearRes=function(C$t,C$e){C$ht.clearRes(C$t,C$e=void 0===C$e?!1:C$e)},C$i.getRes=function(C$t){return C$ht.getRes(C$t)},C$i.cacheRes=function(C$t,C$e){C$ht.cacheRes(C$t,C$e)},C$i.clearTextureRes=function(C$t){C$ht.clearTextureRes(C$t)},C$i.setGroup=function(C$t,C$e){C$ht.setGroup(C$t,C$e)},C$i.clearResByGroup=function(C$t){C$ht.clearResByGroup(C$t)},C$i.clearUnLoaded=function(){for(var C$t=0;C$t<this._maxPriority;C$t++){for(var C$e=this._resInfos[C$t],C$i=C$e.length-1;-1<C$i;C$i--){var C$n=C$e[C$i];C$n&&(C$n.destroy(),C$n.offAll(),this._infoPool.push(C$n))}C$e.length=0}this._loaderCount=0,tehpzc._resMap={}},C$i.cancelLoadByUrls=function(C$t){if(C$t)for(var C$e=0,C$i=C$t.length;C$e<C$i;C$e++)this.cancelLoadByUrl(C$t[C$e])},C$i.cancelLoadByUrl=function(C$t){for(var C$e=0;C$e<this._maxPriority;C$e++)for(var C$i=this._resInfos[C$e],C$n=C$i.length-1;-1<C$n;C$n--){var C$r=C$i[C$n];C$r&&C$r.url===C$t&&(C$i[C$n]=null,C$r.destroy(),C$r.offAll(),this._infoPool.push(C$r))}tehpzc._resMap[C$t]&&delete tehpzc._resMap[C$t]},C$i._loadAssets=function(C$t,C$i,C$s,C$u,C$e,C$n,C$c){null==C$e&&(C$e=2),null==C$n&&(C$n=!0);for(var C$r=C$t.length,C$a=0,C$_=0,C$o=[],C$d=!0,C$h=0;C$h<C$r;C$h++){var C$l=C$t[C$h];if(!C$l)throw new Error("LoaderManager._loadAssets \u52a0\u8f7d\u5217\u8868\u9519\u8bef arr="+C$t);(C$l="string"==typeof C$l?{url:C$l,type:C$u,size:1,priority:C$e}:C$l).size||(C$l.size=1),C$l.progress=0,C$_+=C$l.size,C$o.push(C$l);var C$f=C$s?C$g.create(null,t8hz6c,[C$l],!1):null,C$p=C$i||C$s?C$g.create(null,kg6b0,[C$l]):null;this.load(C$l.url,C$p,C$f,C$l.type,null!=C$l.priority&&0<=C$l.priority?C$l.priority:2,C$n,C$l.group||C$c)}function kg6b0(C$t,C$e){C$a++,C$t.progress=1,C$e||(C$d=!1),C$a===C$r&&C$i&&C$i.runWith(C$d)}function t8hz6c(C$t,C$e){if(null!=C$s){C$t.progress=C$e;for(var C$i=0,C$n=0;C$n<C$o.length;C$n++){var C$r=C$o[C$n];C$i+=C$r.size*C$r.progress}C$t=C$i/C$_;C$s.runWith(C$t)}}return this},tehpzc.cacheRes=function(C$t,C$e){C$ht.cacheRes(C$t,C$e)},tehpzc._resMap={},C$a(tehpzc,["createMap",function(){return this.createMap={atlas:[null,"atlas"]}}]),tehpzc.__init$=function(){function hctez8(){this.url=null,this.type=null,this.cache=!1,this.group=null,this.ignoreCache=!1,this.clas=null,this.loader=null,this.priority=-1,hctez8.__super.call(this)}C$o(hctez8,"",C$l),hctez8.prototype.destroy=function(){this.url=null,this.type=null,this.cache=!1,this.group=null,this.ignoreCache=!1,this.clas=null,this.loader=void 0,this.priority=-1},C$Lt=hctez8},tehpzc),C$i=(C$o(zepthc,"laya.filters.ColorFilter",C$T),C$i=zepthc.prototype,C$b.imps(C$i,{"laya.filters.IFilter":!0}),C$i.callNative=function(C$t){C$t._$P.cf=this,C$t.conchModel&&C$t.conchModel.setFilterMatrix&&C$t.conchModel.setFilterMatrix(this._mat,this._alpha)},C$t(0,C$i,"type",function(){return 32}),C$t(0,C$i,"action",function(){return this._action}),C$o(ov5jry,"laya.net.Socket",C$l),(C$i=ov5jry.prototype).connect=function(C$t,C$e){C$t="https:"==C$S.window.location.protocol?"wss://"+C$t+":"+C$e:"ws://"+C$t+":"+C$e,this.connectByUrl(C$t)},C$i.connectByUrl=function(C$t){var C$e=this;null!=this._socket&&this.close(),this._socket&&this.cleanSocket(),this.protocols&&0!=this.protocols.length?this._socket=new C$S.window.WebSocket(C$t,this.protocols):this._socket=new C$S.window.WebSocket(C$t),this._socket.binaryType="arraybuffer",this._output=new this._byteClass,this._output.endian=this.endian,this._input=new this._byteClass,this._input.endian=this.endian,this._addInputPosition=0,this._socket.onopen=function(C$t){C$e._onOpen(C$t)},this._socket.onmessage=function(C$t){C$e._onMessage(C$t)},this._socket.onclose=function(C$t){C$e._onClose(C$t)},this._socket.onerror=function(C$t){C$e._onError(C$t)}},C$i.cleanSocket=function(){try{this._socket.close()}catch(C$t){}this._connected=!1,this._socket.onopen=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket.onerror=null,this._socket=null},C$i.close=function(){if(null!=this._socket)try{this._socket.close()}catch(C$t){}},C$i._onOpen=function(C$t){this._connected=!0,this.event("open",C$t)},C$i._onMessage=function(C$t){var C$e;C$t&&C$t.data&&(C$t=C$t.data,this.disableInput&&C$t||(0<this._input.length&&this._input.bytesAvailable<1&&(this._input.clear(),this._addInputPosition=0),C$e=this._input.pos,this._addInputPosition||(this._addInputPosition=0),this._input.pos=this._addInputPosition,C$t&&("string"==typeof C$t?this._input.writeUTFBytes(C$t):this._input.writeArrayBuffer(C$t),this._addInputPosition=this._input.pos,this._input.pos=C$e)),this.event("message",C$t))},C$i._onClose=function(C$t){this._connected=!1,this.event("close",C$t)},C$i._onError=function(C$t){this.event("error",C$t)},C$i.send=function(C$t){this._socket.send(C$t)},C$i.flush=function(){if(this._output&&0<this._output.length){var C$e;try{this._socket&&this._socket.send(this._output.__getBuffer().slice(0,this._output.length))}catch(C$t){C$e=C$t}this._output.endian=this.endian,this._output.clear(),C$e&&this.event("error",C$e)}},C$t(0,C$i,"input",function(){return this._input}),C$t(0,C$i,"output",function(){return this._output}),C$t(0,C$i,"connected",function(){return this._connected}),C$t(0,C$i,"endian",function(){return this._endian},function(C$t){this._endian=C$t,null!=this._input&&(this._input.endian=C$t),null!=this._output&&(this._output.endian=C$t)}),ov5jry.LITTLE_ENDIAN="littleEndian",ov5jry.BIG_ENDIAN="bigEndian",C$o($2wf9_,"laya.resource.Resource",C$l),C$i=$2wf9_.prototype,C$b.imps(C$i,{"laya.resource.ICreateResource":!0,"laya.resource.IDispose":!0}),C$i._setUrl=function(C$t){var C$e;this._url!==C$t&&(this._url&&((C$e=$2wf9_._urlResourcesMap[this._url]).splice(C$e.indexOf(this),1),0===C$e.length&&delete $2wf9_._urlResourcesMap[this._url]),C$t&&((C$e=$2wf9_._urlResourcesMap[C$t])||($2wf9_._urlResourcesMap[C$t]=C$e=[]),C$e.push(this)),this._url=C$t)},C$i._getGroup=function(){return this._group},C$i._setGroup=function(C$t){var C$e;this._group!==C$t&&(this._group&&((C$e=$2wf9_._groupResourcesMap[this._group]).splice(C$e.indexOf(this),1),0===C$e.length&&delete $2wf9_._groupResourcesMap[this._group]),C$t&&((C$e=$2wf9_._groupResourcesMap[C$t])||($2wf9_._groupResourcesMap[C$t]=C$e=[]),C$e.push(this)),this._group=C$t)},C$i._addReference=function(){this._referenceCount++},C$i._removeReference=function(){this._referenceCount--},C$i._clearReference=function(){this._referenceCount=0},C$i._endLoaded=function(){this.__loaded=!0,this.event("loaded",this)},C$i.recreateResource=function(){this.completeCreate()},C$i.disposeResource=function(){},C$i.activeResource=function(C$t){void 0===C$t&&(C$t=!1),this._lastUseFrameCount=C$$.loopCount,!this._destroyed&&this.__loaded&&(this._released||C$t)&&this.recreateResource()},C$i.releaseResource=function(C$t){return!(!(C$t=void 0===C$t?!0:C$t)&&this.lock||this._released&&!C$t||(this.disposeResource(),this._released=!0,this._lastUseFrameCount=-1,this.event("released",this),0))},C$i.onAsynLoaded=function(C$t,C$e,C$i){throw new Error("Resource: must override this function!")},C$i.destroy=function(){var C$t;this._destroyed||(null!==this._resourceManager&&this._resourceManager.removeResource(this),this._destroyed=!0,this.lock=!1,this.releaseResource(),delete $2wf9_._idResourcesMap[this.id],this._url&&((C$t=$2wf9_._urlResourcesMap[this._url])&&(C$t.splice(C$t.indexOf(this),1),0===C$t.length&&delete $2wf9_._urlResourcesMap[this.url]),C$ht.clearRes(this._url),this.__loaded||C$m.cancelLoadByUrl(this._url)),this._group&&((C$t=$2wf9_._groupResourcesMap[this._group]).splice(C$t.indexOf(this),1),0===C$t.length&&delete $2wf9_._groupResourcesMap[this.url]))},C$i.completeCreate=function(){this._released=!1,this.event("recovered",this)},C$i.dispose=function(){this.destroy()},C$t(0,C$i,"memorySize",function(){return this._memorySize},function(C$t){var C$e=C$t-this._memorySize;this._memorySize=C$t,this.resourceManager&&this.resourceManager.addRecord(this.uri,this.__className,C$e),this.resourceManager&&this.resourceManager.addSize(C$e)}),C$t(0,C$i,"_loaded",null,function(C$t){this.__loaded=C$t}),C$t(0,C$i,"loaded",function(){return this.__loaded}),C$t(0,C$i,"id",function(){return this._$1__id}),C$t(0,C$i,"destroyed",function(){return this._destroyed}),C$t(0,C$i,"group",function(){return this._getGroup()},function(C$t){this._setGroup(C$t)}),C$t(0,C$i,"resourceManager",function(){return this._resourceManager}),C$t(0,C$i,"url",function(){return this._url}),C$t(0,C$i,"released",function(){return this._released}),C$t(0,C$i,"referenceCount",function(){return this._referenceCount}),$2wf9_.getResourceByID=function(C$t){return $2wf9_._idResourcesMap[C$t]},$2wf9_.getResourceByURL=function(C$t,C$e){return void 0===C$e&&(C$e=0),null==$2wf9_._urlResourcesMap[C$t]?null:$2wf9_._urlResourcesMap[C$t][C$e]},$2wf9_.getResourceCountByURL=function(C$t){return $2wf9_._urlResourcesMap[C$t].length},$2wf9_.destroyUnusedResources=function(C$t){var C$e;if(C$t){C$t=$2wf9_._groupResourcesMap[C$t];if(C$t)for(var C$i=C$t.slice(),C$n=0,C$r=C$i.length;C$n<C$r;C$n++)(C$e=C$i[C$n]).lock||0!==C$e._referenceCount||C$e.destroy()}else for(var C$s in $2wf9_._idResourcesMap)(C$e=$2wf9_._idResourcesMap[C$s]).lock||0!==C$e._referenceCount||C$e.destroy()},$2wf9_._uniqueIDCounter=0,$2wf9_._idResourcesMap={},$2wf9_._urlResourcesMap={},$2wf9_._groupResourcesMap={},$2wf9_),C$ut=(C$o(fws$9,"laya.resource.Texture",C$l),(C$ct=fws$9.prototype)._setUrl=function(C$t){this.url=C$t},C$ct.setTo=function(C$t,C$e){var C$i;var C$n;C$t instanceof C$s.HTMLElement?(C$i=C$gt.create("2D",C$t),this.bitmap=C$i):this.bitmap=C$t,this.uv=C$e||fws$9.DEF_UV,C$t&&(this._w=C$t.width,this._h=C$t.height,this.sourceWidth=this.sourceWidth||this._w,this.sourceHeight=this.sourceHeight||this._h,this._loaded=0<this._w,(C$n=this)._loaded?C$m.addToAtlas&&C$m.addToAtlas(C$n):C$t instanceof laya.resource.HTMLImage&&C$t.image&&C$t.image.addEventListener("load",function(C$t){C$m.addToAtlas&&C$m.addToAtlas(C$n)},!1))},C$ct.active=function(){this.bitmap&&this.bitmap.activeResource()},C$ct.destroy=function(C$t){var C$e;void 0===C$t&&(C$t=!1),this.alphaTexture&&(this.alphaTexture.destroy(C$t),this.alphaTexture=null),this.bitmap&&0<this.bitmap.referenceCount&&(C$e=this.bitmap,C$t?(C$M.isConchApp&&C$e.source&&C$e.source.conchDestroy&&this.bitmap.source.conchDestroy(),this.bitmap=null,C$e.dispose(),C$e._clearReference()):(C$e._removeReference(),0==C$e.referenceCount&&(C$M.isConchApp&&C$e.source&&C$e.source.conchDestroy&&this.bitmap.source.conchDestroy(),this.bitmap=null,C$e.dispose())),this.url&&this===C$b.loader.getRes(this.url)&&C$b.loader.clearRes(this.url,C$t),this._loaded=!1)},C$ct.load=function(C$t){var C$e=this;this._loaded=!1,C$t=C$N.customFormat(C$t);var C$i=this.bitmap||(this.bitmap=C$yt.create(C$t));C$i.uri=C$t,C$i&&C$i._addReference();var C$n=this;C$i.onload=function(){C$i.onload=null,C$n._loaded=!0,C$e.sourceWidth=C$e._w=C$i.width,C$e.sourceHeight=C$e._h=C$i.height,C$n.event("loaded",this),C$m.addToAtlas&&C$m.addToAtlas(C$n)}},C$ct.addTextureToAtlas=function(C$t){C$m.addTextureToAtlas(this)},C$ct.getPixels=function(C$t,C$e,C$i,C$n){var C$r;return C$M.isConchApp?(C$r=this.bitmap).source&&C$r.source.getImageData?(C$r=C$r.source.getImageData(C$t,C$e,C$i,C$n),C$r=new Uint8Array(C$r),Array.from(C$r)):null:C$M.isWebGL?C$m.getTexturePixels(this,C$t,C$e,C$i,C$n):(C$S.canvas.size(C$i,C$n),C$S.canvas.clear(),C$S.context.drawTexture(this,-C$t,-C$e,this.width,this.height,0,0),C$S.context.getImageData(0,0,C$i,C$n).data)},C$ct.onAsynLoaded=function(C$t,C$e){if(C$e){if("function"!=typeof C$e._addReference)throw new Error("bitmap._addReference is not a function. "+C$e.className+" "+typeof C$e._addReference+" "+C$e.constructor);C$e._addReference()}this.setTo(C$e,this.uv),this._loaded&&this.event("loaded",this)},C$t(0,C$ct,"source",function(){return this.bitmap?(this.bitmap.activeResource(),this.bitmap.source):null}),C$t(0,C$ct,"loaded",function(){return this._loaded}),C$t(0,C$ct,"released",function(){return!this.bitmap||this.bitmap.released}),C$t(0,C$ct,"width",function(){return this._w||(this.uv&&this.uv!==fws$9.DEF_UV?(this.uv[2]-this.uv[0])*this.bitmap.width:this.bitmap.width)},function(C$t){this._w=C$t,this.sourceWidth||(this.sourceWidth=C$t)}),C$t(0,C$ct,"repeat",function(){return!C$M.isWebGL||!this.bitmap||this.bitmap.repeat},function(C$t){C$t&&C$M.isWebGL&&this.bitmap&&(this.bitmap.repeat=C$t)&&(this.bitmap.enableMerageInAtlas=!1)}),C$t(0,C$ct,"height",function(){return this._h||(this.uv&&this.uv!==fws$9.DEF_UV?(this.uv[5]-this.uv[1])*this.bitmap.height:this.bitmap.height)},function(C$t){this._h=C$t,this.sourceHeight||(this.sourceHeight=C$t)}),C$t(0,C$ct,"isLinearSampling",function(){return!C$M.isWebGL||9728!=this.bitmap.minFifter},function(C$t){!C$t&&C$M.isWebGL&&(C$t||-1!=this.bitmap.minFifter||-1!=this.bitmap.magFifter||(this.bitmap.minFifter=9728,this.bitmap.magFifter=9728,this.bitmap.enableMerageInAtlas=!1))}),fws$9.moveUV=function(C$t,C$e,C$i){for(var C$n=0;C$n<8;C$n+=2)C$i[C$n]+=C$t,C$i[C$n+1]+=C$e;return C$i},fws$9.create=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$u,C$c){void 0===C$s&&(C$s=0),void 0===C$a&&(C$a=0),void 0===C$u&&(C$u=0),void 0===C$c&&(C$c=0);var C$o=C$t instanceof laya.resource.Texture,C$h=C$o?C$t.uv:fws$9.DEF_UV,C$o=C$o?C$t.bitmap:C$t,C$_=C$m.isAtlas(C$o);if(C$_){var C$l=C$o._atlaser,C$t=C$t._atlasID;if(-1==C$t)throw new Error("create texture error");C$o=C$l._inAtlasTextureBitmapValue[C$t],C$h=C$l._inAtlasTextureOriUVValue[C$t]}C$l=new fws$9(C$o,null);C$o.width&&C$e+C$n>C$o.width&&(C$n=C$o.width-C$e),C$o.height&&C$i+C$r>C$o.height&&(C$r=C$o.height-C$i),C$l.width=C$n,C$l.height=C$r,C$l.offsetX=C$s,C$l.offsetY=C$a,C$l.sourceWidth=C$u||C$n,C$l.sourceHeight=C$c||C$r;C$t=1/C$o.width,C$s=1/C$o.height;var C$a=C$l.uv[0],C$u=C$l.uv[1],C$c=C$l.uv[4],C$d=C$l.uv[5],C$f=C$c-C$a,C$p=C$d-C$u,C$h=fws$9.moveUV(C$h[0],C$h[1],[C$e*=C$t,C$i*=C$s,C$e+(C$n*=C$t),C$i,C$e+C$n,C$i+(C$r*=C$s),C$e,C$i+C$r]);C$l.uv=[C$a+C$h[0]*C$f,C$u+C$h[1]*C$p,C$c-(1-C$h[2])*C$f,C$u+C$h[3]*C$p,C$c-(1-C$h[4])*C$f,C$d-(1-C$h[5])*C$p,C$a+C$h[6]*C$f,C$d-(1-C$h[7])*C$p],C$_&&C$l.addTextureToAtlas();C$t=C$o.scaleRate;return C$t&&1!=C$t?(C$l.sourceWidth/=C$t,C$l.sourceHeight/=C$t,C$l.width/=C$t,C$l.height/=C$t,C$l.scaleRate=C$t,C$l.offsetX/=C$t,C$l.offsetY/=C$t):C$l.scaleRate=1,C$l},fws$9.createFromTexture=function(C$t,C$e,C$i,C$n,C$r){var C$s=C$t.scaleRate;1!=C$s&&(C$e*=C$s,C$i*=C$s,C$n*=C$s,C$r*=C$s);var C$s=C$P.TEMP.setTo(C$e-C$t.offsetX,C$i-C$t.offsetY,C$n,C$r),C$a=C$s.intersection(fws$9._rect1.setTo(0,0,C$t.width,C$t.height),fws$9._rect2);if(!C$a)return null;var C$o=fws$9.create(C$t,C$a.x,C$a.y,C$a.width,C$a.height,C$a.x-C$s.x,C$a.y-C$s.y,C$n,C$r);if(C$o.bitmap&&C$o.bitmap._removeReference)return C$o.bitmap._removeReference(),C$o;C$o="bitmap:"+(C$o.bitmap?C$o.bitmap.constructor?C$o.bitmap.constructor.name:C$o.bitmap.__className:"")+", url:"+C$t.url+" | "+(C$o.bitmap||C$t).url+", x="+C$e+",y="+C$i+",width="+C$n+",height="+C$r+", result="+(C$a?C$a.x+","+C$a.y+","+C$a.width+","+C$a.height:"null")+", rect="+C$s.x+","+C$s.y+","+C$s.width+","+C$s.height;throw new Error("\u62a5\u9519\uff1abitmap._removeReference is not a function  "+C$o)},fws$9.DEF_UV=[0,0,1,0,1,1,0,1],fws$9.INV_UV=[0,1,1,1,1,0,0,0],fws$9._rect1=new C$P,fws$9._rect2=new C$P,fws$9),C$ct=(C$o(j5royv,"laya.utils.TimeLine",C$l),(C$ct=j5royv.prototype).to=function(C$t,C$e,C$i,C$n,C$r){return this._create(C$t,C$e,C$i,C$n,C$r=void 0===C$r?0:C$r,!0)},C$ct.from=function(C$t,C$e,C$i,C$n,C$r){return this._create(C$t,C$e,C$i,C$n,C$r=void 0===C$r?0:C$r,!1)},C$ct._create=function(C$t,C$e,C$i,C$n,C$r,C$s){var C$a=C$X.getItemByClass("tweenData",C$Pt);return C$a.isTo=C$s,C$a.type=0,C$a.target=C$t,C$a.duration=C$i,C$a.data=C$e,C$a.startTime=this._startTime+C$r,C$a.endTime=C$a.startTime+C$a.duration,C$a.ease=C$n,this._startTime=Math.max(C$a.endTime,this._startTime),this._tweenDataList.push(C$a),this._startTimeSort=!0,this._endTimeSort=!0,this},C$ct.addLabel=function(C$t,C$e){var C$i=C$X.getItemByClass("tweenData",C$Pt);return C$i.type=1,C$i.data=C$t,C$i.endTime=C$i.startTime=this._startTime+C$e,this._labelDic||(this._labelDic={}),this._labelDic[C$t]=C$i,this._tweenDataList.push(C$i),this},C$ct.removeLabel=function(C$t){var C$e;this._labelDic&&this._labelDic[C$t]&&(!(C$e=this._labelDic[C$t])||-1<(C$e=this._tweenDataList.indexOf(C$e))&&this._tweenDataList.splice(C$e,1),delete this._labelDic[C$t])},C$ct.gotoTime=function(C$t){if(null!=this._tweenDataList&&0!=this._tweenDataList.length){var C$e,C$i,C$n,C$r;for(var C$s in this._firstTweenDic)if(C$i=this._firstTweenDic[C$s])for(var C$a in C$i)C$i.diyTarget.hasOwnProperty(C$a)&&(C$i.diyTarget[C$a]=C$i[C$a]);for(C$s in this._tweenDic)(C$e=this._tweenDic[C$s]).clear(),delete this._tweenDic[C$s];this._index=0,this._gidIndex=0,this._currTime=C$t,this._lastTime=C$S.now(),null==this._endTweenDataList||this._endTimeSort?(this._endTimeSort=!1,this._endTweenDataList=C$n=this._tweenDataList.concat(),C$n.sort(function(C$t,C$e){return C$t.endTime>C$e.endTime?1:C$t.endTime<C$e.endTime?-1:0})):C$n=this._endTweenDataList;for(var C$o=0,C$h=C$n.length;C$o<C$h;C$o++)if(0==(C$r=C$n[C$o]).type){if(!(C$t>=C$r.endTime))break;this._index=Math.max(this._index,C$o+1);var C$l=C$r.data;if(C$r.isTo)for(var C$u in C$l)C$r.target[C$u]=C$l[C$u]}for(C$o=0,C$h=this._tweenDataList.length;C$o<C$h;C$o++)0==(C$r=this._tweenDataList[C$o]).type&&C$t>=C$r.startTime&&C$t<C$r.endTime&&(this._index=Math.max(this._index,C$o+1),this._gidIndex++,(C$e=C$X.getItemByClass("tween",C$Z))._create(C$r.target,C$r.data,C$r.duration,C$r.ease,C$g.create(this,this._animComplete,[this._gidIndex]),0,!1,C$r.isTo,!0,!1),C$e.setStartTime(this._currTime-(C$t-C$r.startTime)),C$e._updateEase(this._currTime),C$e.gid=this._gidIndex,this._tweenDic[this._gidIndex]=C$e)}},C$ct.gotoLabel=function(C$t){null==this._labelDic||(C$t=this._labelDic[C$t])&&this.gotoTime(C$t.startTime)},C$ct.pause=function(){C$b.timer.clear(this,this._update)},C$ct.resume=function(){this.play(this._currTime,this._loopKey)},C$ct.play=function(C$t,C$e){if(void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=!1),this._tweenDataList){if(this._startTimeSort){this._startTimeSort=!1,this._tweenDataList.sort(function(C$t,C$e){return C$t.startTime>C$e.startTime?1:C$t.startTime<C$e.startTime?-1:0});for(var C$i=0,C$n=this._tweenDataList.length;C$i<C$n;C$i++){var C$r=this._tweenDataList[C$i];if(null!=C$r&&0==C$r.type){var C$s=C$r.target,C$a=C$s.$_GID||(C$s.$_GID=C$Q.getGID()),C$o=null;for(var C$h in null==this._firstTweenDic[C$a]?((C$o={}).diyTarget=C$s,this._firstTweenDic[C$a]=C$o):C$o=this._firstTweenDic[C$a],C$r.data)null==C$o[C$h]&&(C$o[C$h]=C$s[C$h])}}}"string"==typeof C$t?this.gotoLabel(C$t):this.gotoTime(C$t),this._loopKey=C$e,this._lastTime=C$S.now(),C$b.timer.frameLoop(1,this,this._update)}},C$ct._update=function(){if(this._currTime>=this._startTime){if(!this._loopKey){for(var C$t in this._tweenDic)(C$e=this._tweenDic[C$t]).complete();return this._complete(),void this.pause()}if(this._complete(),!this._tweenDataList)return;this.gotoTime(0)}var C$e,C$i=C$S.now(),C$n=C$i-this._lastTime,C$r=this._currTime+=C$n*this.scale;for(C$t in this._lastTime=C$i,this._tweenDic)(C$e=this._tweenDic[C$t])._updateEase(C$r);0!=this._tweenDataList.length&&this._index<this._tweenDataList.length&&(C$r>=(C$n=this._tweenDataList[this._index]).startTime&&(this._index++,0==C$n.type?(this._gidIndex++,(C$e=C$X.getItemByClass("tween",C$Z))._create(C$n.target,C$n.data,C$n.duration,C$n.ease,C$g.create(this,this._animComplete,[this._gidIndex]),0,!1,C$n.isTo,!0,!1),C$e.setStartTime(C$r),C$e.gid=this._gidIndex,(this._tweenDic[this._gidIndex]=C$e)._updateEase(C$r)):this.event("label",C$n.data)))},C$ct._animComplete=function(C$t){this._tweenDic[C$t]&&delete this._tweenDic[C$t]},C$ct._complete=function(){this.event("complete")},C$ct.reset=function(){if(this._labelDic)for(var C$t in this._labelDic)delete this._labelDic[C$t];for(C$t in this._tweenDic)this._tweenDic[C$t].clear(),delete this._tweenDic[C$t];for(C$t in this._firstTweenDic)delete this._firstTweenDic[C$t];if(this._endTweenDataList=null,this._tweenDataList&&this._tweenDataList.length){var C$e,C$i=0;for(C$e=this._tweenDataList.length,C$i=0;C$i<C$e;C$i++)this._tweenDataList[C$i]&&this._tweenDataList[C$i].destroy()}this._tweenDataList.length=0,this._currTime=0,this._lastTime=0,this._startTime=0,this._index=0,this._gidIndex=0,this.scale=1,C$b.timer.clear(this,this._update)},C$ct.destroy=function(){this.reset(),this._labelDic=null,this._tweenDic=null,this._tweenDataList=null,this._firstTweenDic=null},C$t(0,C$ct,"index",function(){return this._frameIndex},function(C$t){this._frameIndex=C$t,this.gotoTime(this._frameIndex/this._frameRate*1e3)}),C$t(0,C$ct,"total",function(){return this._total=Math.floor(this._startTime/1e3*this._frameRate),this._total}),j5royv.to=function(C$t,C$e,C$i,C$n,C$r){return void 0===C$r&&(C$r=0),(new j5royv).to(C$t,C$e,C$i,C$n,C$r)},j5royv.from=function(C$t,C$e,C$i,C$n,C$r){return void 0===C$r&&(C$r=0),(new j5royv).from(C$t,C$e,C$i,C$n,C$r)},j5royv.__init$=function(){function f_92wp(){this.type=0,this.isTo=!0,this.startTime=NaN,this.endTime=NaN,this.target=null,this.duration=NaN,this.ease=null,this.data=null}C$o(f_92wp,""),f_92wp.prototype.destroy=function(){this.target=null,this.ease=null,this.data=null,this.isTo=!0,this.type=0,C$X.recover("tweenData",this)},C$Pt=f_92wp},j5royv),C$_t=(C$o(oy5,"laya.display.Sprite",C$Rt=C$it),C$n=oy5.prototype,C$b.imps(C$n,{"laya.display.ILayout":!0}),C$n.createConchModel=function(){return new ConchNode},C$n.destroy=function(C$t){var C$e;void 0===C$t&&(C$t=!0),this._releaseMem(),this._destroyed||(this.filters=null,(C$e=this.mask)&&(this.mask=null,C$e.destroy(C$t))),C$Rt.prototype.destroy.call(this,C$t),this._style&&this._style.destroy(),this._transform&&this._transform.destroy(),this._transform=null,this._style=null,this._graphics=null},C$n.updateZOrder=function(){C$Q.updateOrder(this._childs)&&this.repaint()},C$n.reCache=function(){this._$P.cacheCanvas&&(this._$P.cacheCanvas.reCache=!0),this._repaint=1},C$n.setBounds=function(C$t){this._set$P("uBounds",C$t)},C$n.getBounds=function(){return this._$P.mBounds||this._set$P("mBounds",new C$P),C$P._getWrapRec(this._boundPointsToParent(),this._$P.mBounds)},C$n.getSelfBounds=function(){return this._$P.uBounds||(this._$P.mBounds||this._set$P("mBounds",new C$P),C$P._getWrapRec(this._getBoundPointsM(!1),this._$P.mBounds))},C$n._boundPointsToParent=function(C$t){void 0===C$t&&(C$t=!1);var C$e=0,C$i=0;this._style&&(C$e=this._style._tf.translateX,C$i=this._style._tf.translateY,C$t=C$t||0!==this._style._tf.rotate,this._style.scrollRect&&(C$e+=this._style.scrollRect.x,C$i+=this._style.scrollRect.y));var C$n=this._getBoundPointsM(C$t);if(!C$n||C$n.length<1)return C$n;if(8!=C$n.length&&(C$n=C$t?C$E.scanPList(C$n):C$P._getWrapRec(C$n,C$P.TEMP)._getBoundPoints()),!this.transform)return C$Q.transPointList(C$n,this._x-C$e,this._y-C$i),C$n;var C$r=C$R.TEMP,C$s=0,C$a=C$n.length;for(C$s=0;C$s<C$a;C$s+=2)C$r.x=C$n[C$s],C$r.y=C$n[C$s+1],this.toParentPoint(C$r),C$n[C$s]=C$r.x,C$n[C$s+1]=C$r.y;return C$n},C$n.getGraphicBounds=function(C$t){return void 0===C$t&&(C$t=!1),this._graphics?this._graphics.getBounds(C$t):C$P.TEMP.setTo(0,0,0,0)},C$n._getBoundPointsM=function(C$t){if(void 0===C$t&&(C$t=!1),this._$P.uBounds)return this._$P.uBounds._getBoundPoints();var C$e,C$i;if(this._$P.temBM||this._set$P("temBM",[]),this.scrollRect)return C$e=C$Q.clearArray(this._$P.temBM),(C$i=C$P.TEMP).copyFrom(this.scrollRect),C$Q.concatArray(C$e,C$i._getBoundPoints()),C$e;for(var C$n,C$r,C$s,C$a=this._graphics?this._graphics.getBoundPoints():C$Q.clearArray(this._$P.temBM),C$o=0,C$h=(C$s=this._childs).length;C$o<C$h;C$o++)(C$n=C$s[C$o])instanceof laya.display.Sprite&&1==C$n.visible&&(C$r=C$n._boundPointsToParent(C$t))&&(C$a=C$a?C$Q.concatArray(C$a,C$r):C$r);return C$a},C$n.getStyle=function(){return this._style===C$u.EMPTY&&(this._style=new C$u),this._style},C$n.setStyle=function(C$t){this._style=C$t},C$n._adjustTransform=function(){this._tfChanged=!1;var C$t,C$e=this._style._tf,C$i=C$e.scaleX,C$n=C$e.scaleY;var C$r,C$s,C$a;return C$e.rotate||1!==C$i||1!==C$n||C$e.skewX||C$e.skewY?((C$t=this._transform||(this._transform=C$I.create())).bTransform=!0,C$a=.0174532922222222*(C$e.rotate-C$e.skewX),C$e=.0174532922222222*(C$e.rotate+C$e.skewY),C$r=Math.cos(C$e),C$e=Math.sin(C$e),C$s=Math.sin(C$a),C$a=Math.cos(C$a),C$t.a=C$i*C$r,C$t.b=C$i*C$e,C$t.c=-C$n*C$s,C$t.d=C$n*C$a,C$t.tx=C$t.ty=0):(this._transform&&this._transform.destroy(),this._transform=null,this._renderType&=-5),C$t},C$n.pos=function(C$t,C$e,C$i){if(void 0===C$i&&(C$i=!1),this._x!==C$t||this._y!==C$e){if(this.destroyed)return this;C$i?(this._x=C$t,this._y=C$e,this.conchModel&&this.conchModel.pos(this._x,this._y),(C$i=this._parent)&&0===C$i._repaint&&(C$i._repaint=1,C$i.parentRepaint()),this._$P.maskParent&&0===this._$P.maskParent._repaint&&(this._$P.maskParent._repaint=1,this._$P.maskParent.parentRepaint())):(this.x=C$t,this.y=C$e)}return this},C$n.pivot=function(C$t,C$e){return this.pivotX=C$t,this.pivotY=C$e,this},C$n.size=function(C$t,C$e){return this.width=C$t,this.height=C$e,this},C$n.scale=function(C$t,C$e,C$i){void 0===C$i&&(C$i=!1);var C$n=this.getStyle(),C$r=C$n._tf;if(C$r.scaleX!=C$t||C$r.scaleY!=C$e){if(this.destroyed)return this;C$i?(C$n.setScale(C$t,C$e),this._tfChanged=!0,this.conchModel&&this.conchModel.scale(C$t,C$e),this._renderType|=4,(C$r=this._parent)&&0===C$r._repaint&&(C$r._repaint=1,C$r.parentRepaint())):(this.scaleX=C$t,this.scaleY=C$e)}return this},C$n.skew=function(C$t,C$e){return this.skewX=C$t,this.skewY=C$e,this},C$n.render=function(C$t,C$e,C$i){C$$.spriteCount++,C$O.renders[this._renderType]._fun(this,C$t,C$e+this._x,C$i+this._y),this._repaint=0},C$n.drawToCanvas=function(C$t,C$e,C$i,C$n){var C$r;return C$M.isConchNode?(C$r=C$gt.create("2D"),new C$z(C$t,C$e,C$r).ctx.setCanvasType(1),this.conchModel.drawToCanvas(C$r.source,C$i,C$n),C$r):C$m.drawToCanvas(this,this._renderType,C$t,C$e,C$i,C$n)},C$n.customRender=function(C$t,C$e,C$i){this._renderType|=1024},C$n._applyFilters=function(){var C$t;if(!C$M.isWebGL&&(C$t=this._$P.filters)&&!(C$t.length<1))for(var C$e=0,C$i=C$t.length;C$e<C$i;C$e++)C$t[C$e].action.apply(this._$P.cacheCanvas)},C$n._isHaveGlowFilter=function(){var C$t,C$e=0;if(this.filters)for(C$e=0;C$e<this.filters.length;C$e++)if(8==this.filters[C$e].type)return!0;for(C$e=0,C$t=this._childs.length;C$e<C$t;C$e++)if(this._childs[C$e]._isHaveGlowFilter())return!0;return!1},C$n.localToGlobal=function(C$t,C$e){!0===(C$e=void 0===C$e?!1:C$e)&&(C$t=new C$R(C$t.x,C$t.y));for(var C$i=this;C$i&&C$i!=C$b.stage;)C$t=C$i.toParentPoint(C$t),C$i=C$i.parent;return C$t},C$n.globalToLocal=function(C$t,C$e){(C$e=void 0===C$e?!1:C$e)&&(C$t=new C$R(C$t.x,C$t.y));for(var C$i=this,C$n=[];C$i&&C$i!=C$b.stage;)C$n.push(C$i),C$i=C$i.parent;for(var C$r=C$n.length-1;0<=C$r;)C$t=(C$i=C$n[C$r]).fromParentPoint(C$t),C$r--;return C$t},C$n.toParentPoint=function(C$t){if(!C$t)return C$t;C$t.x-=this.pivotX,C$t.y-=this.pivotY,this.transform&&this._transform.transformPoint(C$t),C$t.x+=this._x,C$t.y+=this._y;var C$e=this._style.scrollRect;return C$e&&(C$t.x-=C$e.x,C$t.y-=C$e.y),C$t},C$n.fromParentPoint=function(C$t){if(!C$t)return C$t;C$t.x-=this._x,C$t.y-=this._y;var C$e=this._style.scrollRect;return C$e&&(C$t.x+=C$e.x,C$t.y+=C$e.y),this.transform&&this._transform.invertTransformPoint(C$t),C$t.x+=this.pivotX,C$t.y+=this.pivotY,C$t},C$n.on=function(C$t,C$e,C$i,C$n){return 1!==this._mouseEnableState&&this.isMouseEvent(C$t)?(this.mouseEnabled=!0,this._setBit(2,!0),this._parent&&this._$2__onDisplay(),this._createListener(C$t,C$e,C$i,C$n,!1)):C$Rt.prototype.on.call(this,C$t,C$e,C$i,C$n)},C$n.once=function(C$t,C$e,C$i,C$n){return 1!==this._mouseEnableState&&this.isMouseEvent(C$t)?(this.mouseEnabled=!0,this._setBit(2,!0),this._parent&&this._$2__onDisplay(),this._createListener(C$t,C$e,C$i,C$n,!0)):C$Rt.prototype.once.call(this,C$t,C$e,C$i,C$n)},C$n._$2__onDisplay=function(){if(1!==this._mouseEnableState){var C$t=this;for(C$t=C$t.parent;C$t&&1!==C$t._mouseEnableState&&!C$t._getBit(2);)C$t.mouseEnabled=!0,C$t._setBit(2,!0),C$t=C$t.parent}},C$n.loadImage=function(C$t,C$e,C$i,C$n,C$r,C$s){var C$a=this;return void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0),void 0===C$n&&(C$n=0),void 0===C$r&&(C$r=0),this.graphics.loadImage(C$t,C$e,C$i,C$n,C$r,function(C$t){C$a.destroyed||(C$a.size(C$e+(C$n||C$t.width),C$i+(C$r||C$t.height)),C$a.repaint(),C$s&&C$s.runWith(C$t))}),this},C$n.repaint=function(){this.conchModel&&this.conchModel.repaint&&this.conchModel.repaint(),0===this._repaint&&(this._repaint=1,this.parentRepaint()),this._$P&&this._$P.maskParent&&this._$P.maskParent.repaint()},C$n._needRepaint=function(){return 0!==this._repaint&&this._$P.cacheCanvas&&this._$P.cacheCanvas.reCache},C$n._childChanged=function(C$t){this._childs.length?this._renderType|=2048:this._renderType&=-2049,C$t&&this._get$P("hasZorder")&&C$b.timer.callLater(this,this.updateZOrder),this.repaint()},C$n.parentRepaint=function(){var C$t=this._parent;C$t&&0===C$t._repaint&&(C$t._repaint=1,C$t.parentRepaint())},C$n.startDrag=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){void 0===C$e&&(C$e=!1),void 0===C$i&&(C$i=0),void 0===C$n&&(C$n=300),void 0===C$s&&(C$s=!1),void 0===C$a&&(C$a=.92),this._$P.dragging||this._set$P("dragging",new C$W),this._$P.dragging.start(this,C$t,C$e,C$i,C$n,C$r,C$s,C$a)},C$n.stopDrag=function(){this._$P.dragging&&this._$P.dragging.stop()},C$n._releaseMem=function(){var C$t;this._$P&&((C$t=this._$P.cacheCanvas)&&C$t.ctx&&(C$X.recover("RenderContext",C$t.ctx),C$t.ctx.canvas.size(0,0),C$t.ctx=null),(C$t=this._$P._filterCache)&&(C$t.destroy(),C$t.recycle(),this._set$P("_filterCache",null)),this._$P._isHaveGlowFilter&&this._set$P("_isHaveGlowFilter",!1),this._$P._isHaveGlowFilter=null)},C$n._setDisplay=function(C$t){C$t||this._releaseMem(),C$Rt.prototype._setDisplay.call(this,C$t)},C$n.hitTestPoint=function(C$t,C$e){var C$i=this.globalToLocal(C$R.TEMP.setTo(C$t,C$e));return C$t=C$i.x,C$e=C$i.y,(this._$P.hitArea||(0<this._width&&0<this._height?C$P.TEMP.setTo(0,0,this._width,this._height):this.getSelfBounds())).contains(C$t,C$e)},C$n.getMousePoint=function(){return this.globalToLocal(C$R.TEMP.setTo(C$b.stage.mouseX,C$b.stage.mouseY))},C$n._getWords=function(){return null},C$n._addChildsToLayout=function(C$t){var C$e=this._getWords();if(null==C$e&&0==this._childs.length)return!1;if(C$e)for(var C$i=0,C$n=C$e.length;C$i<C$n;C$i++)C$t.push(C$e[C$i]);C$i=0;for(var C$r=this._childs.length;C$i<C$r;++C$i){var C$s=this._childs[C$i];C$s._style._enableLayout()&&C$s._addToLayout(C$t)}return!0},C$n._addToLayout=function(C$t){this._style.absolute||(this._style.block?C$t.push(this):this._addChildsToLayout(C$t)&&(this.x=this.y=0))},C$n._isChar=function(){return!1},C$n._getCSSStyle=function(){return this._style.getCSSStyle()},C$n._setAttributes=function(C$t,C$e){switch(C$t){case"x":this.x=parseFloat(C$e);break;case"y":this.y=parseFloat(C$e);break;case"width":this.width=parseFloat(C$e);break;case"height":this.height=parseFloat(C$e);break;default:this[C$t]=C$e}},C$n._layoutLater=function(){this.parent&&this.parent._layoutLater()},C$t(0,C$n,"optimizeScrollRect",function(){return this._optimizeScrollRect},function(C$t){this._optimizeScrollRect!=C$t&&(this._optimizeScrollRect=C$t,this.conchModel&&this.conchModel.optimizeScrollRect(C$t))}),C$t(0,C$n,"customRenderEnable",null,function(C$t){C$t&&(this._renderType|=1024,C$M.isConchNode)&&(oy5.CustomList.push(this),(C$t=new C$gt("2d"))._setContext(new CanvasRenderingContext2D),this.customContext=new C$z(0,0,C$t),C$t.context.setCanvasType&&C$t.context.setCanvasType(2),this.conchModel.custom(C$t.context))}),C$t(0,C$n,"cacheAsBitmap",function(){return"none"!==this.cacheAs},function(C$t){this.cacheAs=!C$t||this._$P.hasFilter?"none":"normal"}),C$t(0,C$n,"cacheAs",function(){return null==this._$P.cacheCanvas?"none":this._$P.cacheCanvas.type},function(C$t){var C$e=this._$P.cacheCanvas;C$t!==(C$e?C$e.type:"none")&&("none"!==C$t?(this._getBit(1)||this._setUpNoticeType(1),(C$e=C$e||this._set$P("cacheCanvas",C$X.getItemByClass("cacheCanvas",Object))).type=C$t,C$e.reCache=!0,this._renderType|=16,"bitmap"==C$t&&this.conchModel&&this.conchModel.cacheAs(1),this._set$P("cacheForFilters",!1)):this._$P._mask||(this._$P.hasFilter?this._set$P("cacheForFilters",!0):(C$e&&((C$t=C$e)&&C$t.ctx&&(C$X.recover("RenderContext",C$t.ctx),C$t.ctx.canvas.size(0,0),C$t.ctx=null),C$X.recover("cacheCanvas",C$e)),this._$P.cacheCanvas=null,this._renderType&=-17,this.conchModel&&this.conchModel.cacheAs(0))),this.repaint())}),C$t(0,C$n,"zOrder",function(){return this._zOrder},function(C$t){this._zOrder!=C$t&&(this._zOrder=C$t,this.conchModel&&this.conchModel.setZOrder&&this.conchModel.setZOrder(C$t),this._parent&&(C$t&&this._parent._set$P("hasZorder",!0),C$b.timer.callLater(this._parent,this.updateZOrder)))}),C$t(0,C$n,"rotation",function(){return this._style._tf.rotate},function(C$t){var C$e=this.getStyle();C$e._tf.rotate!==C$t&&(C$e.setRotate(C$t),this._tfChanged=!0,this.conchModel&&this.conchModel.rotate(C$t),this._renderType|=4,(C$e=this._parent)&&0===C$e._repaint&&(C$e._repaint=1,C$e.parentRepaint()))}),C$t(0,C$n,"width",function(){return this.autoSize?this.getSelfBounds().width:this._width},function(C$t){this._width!==C$t&&(this._width=C$t,this.conchModel&&this.conchModel.size(C$t,this._height),this.repaint())}),C$t(0,C$n,"x",function(){return this._x},function(C$t){this._x!==C$t&&(this.destroyed||(this._x=C$t,this.conchModel&&this.conchModel.pos(C$t,this._y),(C$t=this._parent)&&0===C$t._repaint&&(C$t._repaint=1,C$t.parentRepaint()),this._$P.maskParent&&0===this._$P.maskParent._repaint&&(this._$P.maskParent._repaint=1,this._$P.maskParent.parentRepaint())))}),C$t(0,C$n,"globalScaleY",function(){for(var C$t=1,C$e=this;C$e&&C$e!==C$b.stage;)C$t*=C$e.scaleY,C$e=C$e.parent;return C$t}),C$t(0,C$n,"hitArea",function(){return this._$P.hitArea},function(C$t){this._set$P("hitArea",C$t)}),C$t(0,C$n,"staticCache",function(){return this._$P.staticCache},function(C$t){this._set$P("staticCache",C$t),C$t||this.reCache()}),C$t(0,C$n,"texture",function(){return this._texture},function(C$t){this._texture!=C$t&&(this._texture=C$t,this.graphics.cleanByTexture(C$t,0,0))}),C$t(0,C$n,"y",function(){return this._y},function(C$t){this._y!==C$t&&(this.destroyed||(this._y=C$t,this.conchModel&&this.conchModel.pos(this._x,C$t),(C$t=this._parent)&&0===C$t._repaint&&(C$t._repaint=1,C$t.parentRepaint()),this._$P.maskParent&&0===this._$P.maskParent._repaint&&(this._$P.maskParent._repaint=1,this._$P.maskParent.parentRepaint())))}),C$t(0,C$n,"height",function(){return this.autoSize?this.getSelfBounds().height:this._height},function(C$t){this._height!==C$t&&(this._height=C$t,this.conchModel&&this.conchModel.size(this._width,C$t),this.repaint())}),C$t(0,C$n,"blendMode",function(){return this._style.blendMode},function(C$t){this.getStyle().blendMode=C$t,this.conchModel&&this.conchModel.blendMode(C$t),C$t&&"source-over"!=C$t?this._renderType|=8:this._renderType&=-9,this.parentRepaint()}),C$t(0,C$n,"scaleX",function(){return this._style._tf.scaleX},function(C$t){var C$e=this.getStyle();C$e._tf.scaleX!==C$t&&(C$e.setScaleX(C$t),this._tfChanged=!0,this.conchModel&&this.conchModel.scale(C$t,C$e._tf.scaleY),this._renderType|=4,(C$t=this._parent)&&0===C$t._repaint&&(C$t._repaint=1,C$t.parentRepaint()))}),C$t(0,C$n,"scaleY",function(){return this._style._tf.scaleY},function(C$t){var C$e=this.getStyle();C$e._tf.scaleY!==C$t&&(C$e.setScaleY(C$t),this._tfChanged=!0,this.conchModel&&this.conchModel.scale(C$e._tf.scaleX,C$t),this._renderType|=4,(C$e=this._parent)&&0===C$e._repaint&&(C$e._repaint=1,C$e.parentRepaint()))}),C$t(0,C$n,"stage",function(){return C$b.stage}),C$t(0,C$n,"skewX",function(){return this._style._tf.skewX},function(C$t){var C$e=this.getStyle();C$e._tf.skewX!==C$t&&(C$e.setSkewX(C$t),this._tfChanged=!0,this.conchModel&&this.conchModel.skew(C$t,C$e._tf.skewY),this._renderType|=4,(C$t=this._parent)&&0===C$t._repaint&&(C$t._repaint=1,C$t.parentRepaint()))}),C$t(0,C$n,"scrollRect",function(){return this._style.scrollRect},function(C$t){this.getStyle().scrollRect=C$t,this.repaint(),C$t?(this._renderType|=128,this.conchModel&&this.conchModel.scrollRect(C$t.x,C$t.y,C$t.width,C$t.height)):(this._renderType&=-129,this.conchModel&&(oy5.RUNTIMEVERION<"0.9.1"?this.conchModel.removeType(64):this.conchModel.removeType(128)))}),C$t(0,C$n,"skewY",function(){return this._style._tf.skewY},function(C$t){var C$e=this.getStyle();C$e._tf.skewY!==C$t&&(C$e.setSkewY(C$t),this._tfChanged=!0,this.conchModel&&this.conchModel.skew(C$e._tf.skewX,C$t),this._renderType|=4,(C$e=this._parent)&&0===C$e._repaint&&(C$e._repaint=1,C$e.parentRepaint()))}),C$t(0,C$n,"transform",function(){return this._tfChanged?this._adjustTransform():this._transform},function(C$t){this._tfChanged=!1,(this._transform=C$t)&&(this._x=C$t.tx,this._y=C$t.ty,C$t.tx=C$t.ty=0,this.conchModel&&this.conchModel.transform(C$t.a,C$t.b,C$t.c,C$t.d,this._x,this._y)),C$t?this._renderType|=4:(this._renderType&=-5,this.conchModel&&this.conchModel.removeType(4)),this.parentRepaint()}),C$t(0,C$n,"pivotX",function(){return this._style._tf.translateX},function(C$t){this.getStyle().setTranslateX(C$t),this.conchModel&&this.conchModel.pivot(C$t,this._style._tf.translateY),this.repaint()}),C$t(0,C$n,"pivotY",function(){return this._style._tf.translateY},function(C$t){this.getStyle().setTranslateY(C$t),this.conchModel&&this.conchModel.pivot(this._style._tf.translateX,C$t),this.repaint()}),C$t(0,C$n,"alpha",function(){return this._style.alpha},function(C$t){this._style&&this._style.alpha!==C$t&&(C$t=C$t<0?0:1<C$t?1:C$t,this.getStyle().alpha=C$t,this.conchModel&&this.conchModel.alpha(C$t),1!==C$t?this._renderType|=2:this._renderType&=-3,this.parentRepaint())}),C$t(0,C$n,"visible",function(){return this._style.visible},function(C$t){this._style&&this._style.visible!==C$t&&(this.getStyle().visible=C$t,this.conchModel&&this.conchModel.visible(C$t),this.parentRepaint())}),C$t(0,C$n,"graphics",function(){return this._graphics||(this.graphics=C$m.createGraphics())},function(C$t){this._graphics&&(this._graphics._sp=null),(this._graphics=C$t)?(this._renderType&=-2,this._renderType|=512,(C$t._sp=this).conchModel&&this.conchModel.graphics(this._graphics)):(this._renderType&=-513,this._renderType&=-2,this.conchModel&&(oy5.RUNTIMEVERION<"0.9.1"?this.conchModel.removeType(256):this.conchModel.removeType(512))),this.repaint()}),C$t(0,C$n,"filters",function(){return this._$P.filters},function(C$t){C$t&&0===C$t.length&&(C$t=null),this._$P.filters!=C$t&&(this._set$P("filters",C$t?C$t.slice():null),C$M.isConchApp&&(this.conchModel&&(oy5.RUNTIMEVERION<"0.9.1"?this.conchModel.removeType(16):this.conchModel.removeType(32)),this._$P.filters&&1==this._$P.filters.length&&this._$P.filters[0].callNative(this)),C$M.isWebGL&&(C$t&&C$t.length?this._renderType|=32:this._renderType&=-33),C$t&&0<C$t.length?(this._getBit(1)||this._setUpNoticeType(1),C$M.isWebGL&&1==C$t.length&&C$t[0]instanceof laya.filters.ColorFilter||("bitmap"!=this.cacheAs&&(C$M.isConchNode||(this.cacheAs="bitmap"),this._set$P("cacheForFilters",!0)),this._set$P("hasFilter",!0))):(this._set$P("hasFilter",!1),this._$P.cacheForFilters&&"bitmap"==this.cacheAs&&(this.cacheAs="none")),this.repaint())}),C$t(0,C$n,"parent",C$Rt.prototype._$get_parent,function(C$t){C$b.superSet(C$it,this,"parent",C$t),C$t&&this._getBit(2)&&this._$2__onDisplay()}),C$t(0,C$n,"mask",function(){return this._$P._mask},function(C$t){C$t&&this.mask&&this.mask._$P.maskParent||(C$t?(this.cacheAs="bitmap",this._set$P("_mask",C$t),C$t._set$P("maskParent",this)):(this.mask&&this.mask._set$P("maskParent",null),this._set$P("_mask",C$t),this.cacheAs="none"),this.conchModel&&this.conchModel.mask(C$t?C$t.conchModel:null),this._renderType|=64,this.parentRepaint())}),C$t(0,C$n,"mouseEnabled",function(){return 1<this._mouseEnableState},function(C$t){this._mouseEnableState=C$t?2:1}),C$t(0,C$n,"globalScaleX",function(){for(var C$t=1,C$e=this;C$e&&C$e!==C$b.stage;)C$t*=C$e.scaleX,C$e=C$e.parent;return C$t}),C$t(0,C$n,"mouseX",function(){return this.getMousePoint().x}),C$t(0,C$n,"mouseY",function(){return this.getMousePoint().y}),oy5.fromImage=function(C$t){return(new oy5).loadImage(C$t)},oy5._cachePool=[],oy5.CustomList=[],C$a(oy5,["RUNTIMEVERION",function(){return this.RUNTIMEVERION=C$s.conch?conchConfig.getRuntimeVersion().substr(conchConfig.getRuntimeVersion().lastIndexOf("-")+1):""}]),oy5),C$dt=(C$o(ht6c8z,"laya.media.h5audio.AudioSoundChannel",C$e),(C$n=ht6c8z.prototype).__onEnd=function(){if(1==this.loops)return this.completeHandler&&(C$b.timer.once(10,this,this.__runComplete,[this.completeHandler],!1),this.completeHandler=null),this.stop(),void this.event("complete");0<this.loops&&this.loops--,this.startTime=0,this.play(!0)},C$n.__resumePlay=function(){this._audio&&this._audio.removeEventListener("canplay",this._resumePlay);try{this._audio.currentTime=this.startTime,C$S.container.appendChild(this._audio),this._audio.play()}catch(C$t){this.event("error")}},C$n.play=function(C$t){this.isStopped=!1;try{this._audio.playbackRate=C$L.playbackRate,this._audio.currentTime=this.startTime}catch(C$t){return void this._audio.addEventListener("canplay",this._resumePlay)}C$L.addChannel(this),C$S.container.appendChild(this._audio),!C$t&&this.startHandler&&this.startHandler.runWith(this),"play"in this._audio&&this._audio.play()},C$n.stop=function(){this.isStopped=!0,C$L.removeChannel(this),this.startHandler=null,this.completeHandler=null,this._audio&&("pause"in this._audio&&C$M.isConchApp&&this._audio.stop(),this._audio.pause(),this._audio.removeEventListener("ended",this._onEnd),this._audio.removeEventListener("canplay",this._resumePlay),C$S.onIE||this._audio!=C$rt._musicAudio&&C$X.recover("audio:"+this.url,this._audio),C$S.removeElement(this._audio),this._audio=null)},C$n.pause=function(){this.isStopped=!0,C$L.removeChannel(this),"pause"in this._audio&&this._audio.pause()},C$n.resume=function(){this._audio&&(this.isStopped=!1,C$L.addChannel(this),this.startHandler&&this.startHandler.runWith(this),"play"in this._audio&&this._audio.play())},C$t(0,C$n,"position",function(){return this._audio?this._audio.currentTime:0}),C$t(0,C$n,"duration",function(){return this._audio?this._audio.duration:0}),C$t(0,C$n,"volume",function(){return this._audio?this._audio.volume:1},function(C$t){this._audio&&(this._audio.volume=C$t)}),ht6c8z),C$ft=(C$o(qk5g,"laya.media.webaudio.WebAudioSoundChannel",C$e),(C$n=qk5g.prototype).play=function(C$t){var C$e,C$i,C$n;C$L.addChannel(this),this.isStopped=!1,this._clearBufferSource(),this.audioBuffer&&(C$e=this.context,C$i=this.gain,C$n=C$e.createBufferSource(),(this.bufferSource=C$n).buffer=this.audioBuffer,C$n.connect(C$i),C$i&&C$i.disconnect(),C$i.connect(C$e.destination),C$n.onended=this._onPlayEnd,this.startTime>=this.duration&&(this.startTime=0),this._startTime=C$S.now(),this.gain.gain.setTargetAtTime?this.gain.gain.setTargetAtTime(this._volume,this.context.currentTime,.1):this.gain.gain.value=this._volume,0==this.loops&&(C$n.loop=!0),C$n.playbackRate.setTargetAtTime?C$n.playbackRate.setTargetAtTime(C$L.playbackRate,this.context.currentTime,.1):C$n.playbackRate.value=C$L.playbackRate,C$n.start(0,this.startTime),!C$t&&this.startHandler&&this.startHandler.runWith(this),this._currentTime=0)},C$n.__onPlayEnd=function(){if(1==this.loops)return this.completeHandler&&(C$b.timer.once(10,this,this.__runComplete,[this.completeHandler],!1),this.completeHandler=null),this.stop(),void this.event("complete");0<this.loops&&this.loops--,this.startTime=0,this.play(!0)},C$n._clearBufferSource=function(){var C$t;this.bufferSource&&((C$t=this.bufferSource).stop?C$t.stop(0):C$t.noteOff(0),C$t.disconnect(0),C$t.onended=null,qk5g._tryCleanFailed||this._tryClearBuffer(C$t),this.bufferSource=null)},C$n._tryClearBuffer=function(C$t){try{C$t.buffer=null}catch(C$t){qk5g._tryCleanFailed=!0}},C$n.stop=function(){this._clearBufferSource(),this.audioBuffer=null,this.gain&&this.gain.disconnect(),this.isStopped=!0,C$L.removeChannel(this),this.startHandler=null,this.completeHandler=null},C$n.pause=function(){this.isStopped||(this._pauseTime=this.position),this._clearBufferSource(),this.gain&&this.gain.disconnect(),this.isStopped=!0,C$L.removeChannel(this)},C$n.resume=function(){this.startTime=this._pauseTime,this.play(!1)},C$t(0,C$n,"position",function(){return this.bufferSource?(C$S.now()-this._startTime)/1e3+this.startTime:0}),C$t(0,C$n,"duration",function(){return this.audioBuffer?this.audioBuffer.duration:0}),C$t(0,C$n,"volume",function(){return this._volume},function(C$t){this.isStopped||(this._volume=C$t,this.gain.gain.setTargetAtTime?this.gain.gain.setTargetAtTime(C$t,this.context.currentTime,.1):this.gain.gain.value=C$t)}),qk5g._tryCleanFailed=!1,qk5g),C$n=(C$o(ix1nj7,"laya.resource.Bitmap",C$i),C$t(0,C$e=ix1nj7.prototype,"width",function(){return this._w}),C$t(0,C$e,"height",function(){return this._h}),C$t(0,C$e,"source",function(){return this._source}),ix1nj7),C$e=(C$o(tc68,"laya.display.AnimationPlayerBase",C$It=C$_t),(C$i=tc68.prototype).play=function(C$t,C$e,C$i,C$n){void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=!0),void 0===C$i&&(C$i=""),void 0===C$n&&(C$n=!0),this._isPlaying=!0,this.index="string"==typeof C$t?this._getFrameByLabel(C$t):C$t,this.loop=C$e,this._actionName=C$i,this._isReverse=1==this.wrapMode,0<this.interval&&this.timerLoop(this.interval,this,this._frameLoop,null,!0,!0)},C$i._getFrameByLabel=function(C$t){var C$e=0;for(C$e=0;C$e<this._count;C$e++)if(this._labels[C$e]&&0<=this._labels[C$e].indexOf(C$t))return C$e;return 0},C$i._frameLoop=function(){if(this._isReverse){if(this._index--,this._index<0){if(!this.loop)return this._index=0,this.stop(),void this.event("complete");2==this.wrapMode?(this._index=0<this._count?1:0,this._isReverse=!1):this._index=this._count-1,this.event("complete")}}else if(this._index++,this._index>=this._count){if(!this.loop)return this._index--,this.stop(),void this.event("complete");2==this.wrapMode?(this._index=0<=this._count-2?this._count-2:0,this._isReverse=!0):this._index=0,this.event("complete")}this.index=this._index},C$i._setControlNode=function(C$t){this._controlNode&&(this._controlNode.off("display",this,this._checkResumePlaying),this._controlNode.off("undisplay",this,this._checkResumePlaying)),(this._controlNode=C$t)&&C$t!=this&&(C$t.on("display",this,this._checkResumePlaying),C$t.on("undisplay",this,this._checkResumePlaying))},C$i._setDisplay=function(C$t){C$It.prototype._setDisplay.call(this,C$t),this._checkResumePlaying()},C$i._checkResumePlaying=function(){this._isPlaying&&(this._controlNode.displayedInStage?this.play(this._index,this.loop,this._actionName):this.clearTimer(this,this._frameLoop))},C$i.stop=function(){this._isPlaying=!1,this.clearTimer(this,this._frameLoop)},C$i.addLabel=function(C$t,C$e){this._labels||(this._labels={}),this._labels[C$e]||(this._labels[C$e]=[]),this._labels[C$e].push(C$t)},C$i.removeLabel=function(C$t){if(C$t){if(this._labels)for(var C$e in this._labels)this._removeLabelFromLabelList(this._labels[C$e],C$t)}else this._labels=null},C$i._removeLabelFromLabelList=function(C$t,C$e){if(C$t)for(var C$i=C$t.length-1;0<=C$i;C$i--)C$t[C$i]==C$e&&C$t.splice(C$i,1)},C$i.gotoAndStop=function(C$t){this.index="string"==typeof C$t?this._getFrameByLabel(C$t):C$t,this.stop()},C$i._displayToIndex=function(C$t){},C$i.clear=function(){this.stop(),this._labels=null},C$t(0,C$i,"interval",function(){return this._interval},function(C$t){this._interval!=C$t&&(this._frameRateChanged=!0,this._interval=C$t,this._isPlaying&&0<C$t&&this.timerLoop(C$t,this,this._frameLoop,null,!0,!0))}),C$t(0,C$i,"isPlaying",function(){return this._isPlaying}),C$t(0,C$i,"index",function(){return this._index},function(C$t){if(this._index=C$t,this._displayToIndex(C$t),this._labels&&this._labels[C$t])for(var C$e=this._labels[C$t],C$i=0,C$n=C$e.length;C$i<C$n;C$i++)this.event("label",C$e[C$i])}),C$t(0,C$i,"count",function(){return this._count}),tc68.WRAP_POSITIVE=0,tc68.WRAP_REVERSE=1,tc68.WRAP_PINGPONG=2,tc68),C$pt=(C$o(w9_fp2,"laya.display.Text",C$At=C$_t),(C$i=w9_fp2.prototype).destroy=function(C$t){C$At.prototype.destroy.call(this,C$t=void 0===C$t?!0:C$t),this._lines=null,this._words&&(this._words.length=0,this._words=null)},C$i._getBoundPointsM=function(C$t){void 0===C$t&&(C$t=!1);C$t=C$P.TEMP;return C$t.setTo(0,0,this.width,this.height),C$t._getBoundPoints()},C$i.getGraphicBounds=function(C$t){void 0===C$t&&(C$t=!1);C$t=C$P.TEMP;return C$t.setTo(0,0,this.width,this.height),C$t},C$i._getCSSStyle=function(){return this._style},C$i.lang=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$l,C$u,C$c,C$_){if(C$t=w9_fp2.langPacks&&w9_fp2.langPacks[C$t]?w9_fp2.langPacks[C$t]:C$t,arguments.length<2)this._text=C$t;else{for(var C$o=0,C$h=arguments.length;C$o<C$h;C$o++)C$t=C$t.replace("{"+C$o+"}",arguments[C$o+1]);this._text=C$t}},C$i._isPassWordMode=function(){var C$t=this._style.password;return C$t="prompt"in this&&this.prompt==this._text?!1:C$t},C$i._getPassWordTxt=function(C$t){var C$e;C$e="";for(var C$i=C$t.length;0<C$i;C$i--)C$e+="\u25cf";return C$e},C$i.renderText=function(C$u,C$c){var C$t=this.graphics;C$t.clear(!0);var C$_=(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.fontSize+"px "+(C$S.onIPhone&&laya.display.Text._fontFamilyMap[this.font]||this.font);C$S.context.font=C$_;var C$e=this.padding,C$d=C$e[3],C$i="left",C$f=this._lines,C$p=this.leading+this._charSize.height,C$n=this._currBitmapFont;C$n&&(C$p=this.leading+C$n.getMaxHeight());var C$m=C$e[0];!C$n&&0<this._width&&this._textWidth<=this._width&&("right"==this.align?(C$i="right",C$d=this._width-C$e[1]):"center"==this.align&&(C$i="center",C$d=.5*this._width+C$e[3]-C$e[1])),0<this._height&&("middle"===(C$l=this._textHeight>this._height?"top":this.valign)?C$m=.5*(this._height-C$c*C$p)+C$e[0]-C$e[2]:"bottom"===C$l&&(C$m=this._height-C$c*C$p-C$e[2]));var C$g=this._style;var C$r;var C$v;C$n&&C$n.autoScaleSize&&(C$r=C$n.fontSize/this.fontSize),this._clipPoint&&(C$t.save(),C$n&&C$n.autoScaleSize?(C$v=C$l=0,C$l=this._width?this._width-C$e[3]-C$e[1]:this._textWidth,C$v=this._height?this._height-C$e[0]-C$e[2]:this._textHeight,C$t.clipRect(C$e[3],C$e[0],C$l*=C$r,C$v*=C$r)):C$t.clipRect(C$e[3],C$e[0],this._width?this._width-C$e[3]-C$e[1]:this._textWidth,this._height?this._height-C$e[0]-C$e[2]:this._textHeight));var C$x=C$g.password;"prompt"in this&&this.prompt==this._text&&(C$x=!1);for(var C$s,C$y=Math.min(this._lines.length,C$c+C$u)||1,C$a=C$u;C$a<C$y;C$a++){var C$b,C$o=C$f[C$a];if(C$x){var C$h=C$o.length;C$o="";for(var C$w=C$h;0<C$w;C$w--)C$o+="\u25cf"}var C$T;C$h=C$d-(this._clipPoint?this._clipPoint.x:0),C$s=C$m+C$p*C$a-(this._clipPoint?this._clipPoint.y:0),this.underline&&this.drawUnderline(C$i,C$h,C$s,C$a),C$n?(C$T=this.width,C$n.autoScaleSize&&(C$T=this.width*C$r),C$n.drawText(C$o,this,C$h,C$s,this.align,C$T)):(C$M.isWebGL?(this._words||(this._words=[]),(C$b=this._words.length>C$a-C$u?this._words[C$a-C$u]:new C$et).setText(C$o)):C$b=C$o,C$g.stroke?C$t.fillBorderText(C$b,C$h,C$s,C$_,this.color,C$g.strokeColor,C$g.stroke,C$i):C$t.fillText(C$b,C$h,C$s,C$_,this.color,C$i))}var C$l;C$n&&C$n.autoScaleSize&&this.scale(C$l=1/C$r,C$l),this._clipPoint&&C$t.restore(),this._startX=C$d,this._startY=C$m},C$i.drawUnderline=function(C$t,C$e,C$i,C$n){var C$r=this._lineWidths[C$n];switch(C$t){case"center":C$e-=C$r/2;break;case"right":C$e-=C$r}C$i+=this._charSize.height,this._graphics.drawLine(C$e,C$i,C$e+C$r,C$i,this.underlineColor||this.color,1)},C$i.typeset=function(){if(this._isChanged=!1,!this._text)return this._clipPoint=null,this._textWidth=this._textHeight=0,void this.graphics.clear(!0);C$S.context.font=this._getCSSStyle().font,this._lines.length=0,this._lineWidths.length=0,this._isPassWordMode()?this.parseLines(this._getPassWordTxt(this._text)):this.parseLines(this._text),this.evalTextSize(),this.checkEnabledViewportOrNot()?this._clipPoint||(this._clipPoint=new C$R(0,0)):this._clipPoint=null;var C$t=this._lines.length;this.overflow!=w9_fp2.VISIBLE&&(C$e=this.overflow==w9_fp2.HIDDEN?Math.floor:Math.ceil,C$t=Math.min(C$t,C$e((this.height-this.padding[0]-this.padding[2])/(this.leading+this._charSize.height))));var C$e=this.scrollY/(this._charSize.height+this.leading)|0;this.renderText(C$e,C$t),this.repaint()},C$i.evalTextSize=function(){var C$t,C$e;C$t=Math.max.apply(this,this._lineWidths),C$e=this._currBitmapFont?this._lines.length*(this._currBitmapFont.getMaxHeight()+this.leading)+this.padding[0]+this.padding[2]:this._lines.length*(this._charSize.height+this.leading)+this.padding[0]+this.padding[2],C$t==this._textWidth&&C$e==this._textHeight||(this._textWidth=C$t,this._textHeight=C$e,this._width&&this._height||this.conchModel&&this.conchModel.size(this._width||this._textWidth,this._height||this._textHeight))},C$i.checkEnabledViewportOrNot=function(){return this.overflow==w9_fp2.SCROLL&&(0<this._width&&this._textWidth>this._width||0<this._height&&this._textHeight>this._height)},C$i.changeText=function(C$t){this._text!==C$t&&(this.lang(C$t+""),this._graphics&&this._graphics.replaceText(this._text)||this.typeset())},C$i.parseLines=function(C$t){var C$e=this.wordWrap||this.overflow==w9_fp2.HIDDEN;var C$i;var C$n;C$e&&(C$i=this.getWordWrapWidth()),this._currBitmapFont?(this._charSize.width=this._currBitmapFont.getMaxWidth(),this._charSize.height=this._currBitmapFont.getMaxHeight()):(C$n=C$Q.contextMeasureText(w9_fp2._testWord),C$M.isConchApp&&0===C$n.width&&0===C$n.height&&(C$n=C$Q.contextMeasureText("W")),this._charSize.width=C$n.width,this._charSize.height=C$n.height||this.fontSize);for(var C$r=C$t.replace(/\r\n/g,"\n").split("\n"),C$s=0,C$a=C$r.length;C$s<C$a;C$s++){var C$o=C$r[C$s];C$e?this.parseLine(C$o,C$i):(this._lineWidths.push(this.getTextWidth(C$o)),this._lines.push(C$o))}},C$i.parseLine=function(C$t,C$u){C$S.context;var C$e,C$i=this._lines,C$n=0,C$r=NaN,C$s=NaN,C$a=0;if((C$r=this.getTextWidth(C$t))<=C$u)return C$i.push(C$t),void this._lineWidths.push(C$r);C$r=this._charSize.width,0==(C$n=Math.floor(C$u/C$r))&&(C$n=1),C$s=C$r=this.getTextWidth(C$t.substring(0,C$n));for(var C$o=C$n,C$h=C$t.length;C$o<C$h;C$o++)if(C$u<(C$s+=C$r=this.getTextWidth(C$t.charAt(C$o))))if(this.wordWrap){var C$l=C$t.substring(C$a,C$o);if(C$l.charCodeAt(C$l.length-1)<255?(C$e=/(?:\w|-)+$/.exec(C$l))&&(C$o=C$e.index+C$a,0==C$e.index?C$o+=C$l.length:C$l=C$t.substring(C$a,C$o)):w9_fp2.RightToLeft&&(C$e=/([\u0600-\u06FF])+$/.exec(C$l))&&(C$o=C$e.index+C$a,0==C$e.index?C$o+=C$l.length:C$l=C$t.substring(C$a,C$o)),C$i.push(C$l),this._lineWidths.push(C$s-C$r),!((C$a=C$o)+C$n<C$h)){C$i.push(C$t.substring(C$a,C$h)),this._lineWidths.push(this.getTextWidth(C$i[C$i.length-1])),C$a=-1;break}C$o+=C$n,C$s=C$r=this.getTextWidth(C$t.substring(C$a,C$o)),C$o--}else if(this.overflow==w9_fp2.HIDDEN)return C$i.push(C$t.substring(0,C$o)),void this._lineWidths.push(this.getTextWidth(C$i[C$i.length-1]));this.wordWrap&&-1!=C$a&&(C$i.push(C$t.substring(C$a,C$h)),this._lineWidths.push(this.getTextWidth(C$i[C$i.length-1])))},C$i.getTextWidth=function(C$t){return this._currBitmapFont?this._currBitmapFont.getTextWidth(C$t):C$Q.contextMeasureText(C$t).width},C$i.getWordWrapWidth=function(){var C$t=this.padding,C$e=NaN;return(C$e=(C$e=(C$e=this._currBitmapFont&&this._currBitmapFont.autoScaleSize?this._width*(this._currBitmapFont.fontSize/this.fontSize):this._width)<=0?this.wordWrap?100:C$S.width:C$e)<=0?100:C$e)-C$t[3]-C$t[1]},C$i.getCharPoint=function(C$t,C$e){this._isChanged&&C$b.timer.runCallLater(this,this.typeset);for(var C$i=0,C$n=this._lines,C$r=0,C$s=0,C$a=C$n.length;C$s<C$a;C$s++){if(C$t<(C$i+=C$n[C$s].length)){var C$o=C$s;break}C$r=C$i}var C$h=(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.fontSize+"px "+this.font;C$S.context.font=C$h;C$h=this.getTextWidth(this._text.substring(C$r,C$t));return(C$e||new C$R).setTo(this._startX+C$h-(this._clipPoint?this._clipPoint.x:0),this._startY+C$o*(this._charSize.height+this.leading)-(this._clipPoint?this._clipPoint.y:0))},C$t(0,C$i,"width",function(){return this._width||this.textWidth+this.padding[1]+this.padding[3]},function(C$t){C$t!=this._width&&(C$b.superSet(C$_t,this,"width",C$t),this.isChanged=!0)}),C$t(0,C$i,"textWidth",function(){return this._isChanged&&C$b.timer.runCallLater(this,this.typeset),this._textWidth}),C$t(0,C$i,"height",function(){return this._height||this.textHeight},function(C$t){C$t!=this._height&&(C$b.superSet(C$_t,this,"height",C$t),this.isChanged=!0)}),C$t(0,C$i,"textHeight",function(){return this._isChanged&&C$b.timer.runCallLater(this,this.typeset),this._textHeight}),C$t(0,C$i,"padding",function(){return this._getCSSStyle().padding},function(C$t){this._getCSSStyle().padding=C$t,this.isChanged=!0}),C$t(0,C$i,"bold",function(){return this._getCSSStyle().bold},function(C$t){this._getCSSStyle().bold=C$t,this.isChanged=!0}),C$t(0,C$i,"text",function(){return this._text||""},function(C$t){this._text!==C$t&&(this.lang(C$t+""),this.isChanged=!0,this.event("change"))}),C$t(0,C$i,"color",function(){return this._getCSSStyle().color},function(C$t){this._getCSSStyle().color!=C$t&&(this._getCSSStyle().color=C$t,!this._isChanged&&this._graphics?this._graphics.replaceTextColor(this.color):this.isChanged=!0)}),C$t(0,C$i,"font",function(){return this._getCSSStyle().fontFamily},function(C$t){this._currBitmapFont&&(this._currBitmapFont=null,this.scale(1,1)),w9_fp2._bitmapFonts&&w9_fp2._bitmapFonts[C$t]&&(this._currBitmapFont=w9_fp2._bitmapFonts[C$t]),this._getCSSStyle().fontFamily=C$t,this.isChanged=!0}),C$t(0,C$i,"fontSize",function(){return this._getCSSStyle().fontSize},function(C$t){this._getCSSStyle().fontSize=C$t,this.isChanged=!0}),C$t(0,C$i,"italic",function(){return this._getCSSStyle().italic},function(C$t){this._getCSSStyle().italic=C$t,this.isChanged=!0}),C$t(0,C$i,"align",function(){return this._getCSSStyle().align},function(C$t){this._getCSSStyle().align=C$t,this.isChanged=!0}),C$t(0,C$i,"valign",function(){return this._getCSSStyle().valign},function(C$t){this._getCSSStyle().valign=C$t,this.isChanged=!0}),C$t(0,C$i,"wordWrap",function(){return this._getCSSStyle().wordWrap},function(C$t){this._getCSSStyle().wordWrap=C$t,this.isChanged=!0}),C$t(0,C$i,"leading",function(){return this._getCSSStyle().leading},function(C$t){this._getCSSStyle().leading=C$t,this.isChanged=!0}),C$t(0,C$i,"bgColor",function(){return this._getCSSStyle().backgroundColor},function(C$t){this._getCSSStyle().backgroundColor=C$t,this.isChanged=!0}),C$t(0,C$i,"borderColor",function(){return this._getCSSStyle().borderColor},function(C$t){this._getCSSStyle().borderColor=C$t,this.isChanged=!0}),C$t(0,C$i,"stroke",function(){return this._getCSSStyle().stroke},function(C$t){this._getCSSStyle().stroke=C$t,this.isChanged=!0}),C$t(0,C$i,"strokeColor",function(){return this._getCSSStyle().strokeColor},function(C$t){this._getCSSStyle().strokeColor=C$t,this.isChanged=!0}),C$t(0,C$i,"isChanged",null,function(C$t){this._isChanged!==C$t&&(this._isChanged=C$t)&&C$b.timer.callLater(this,this.typeset)}),C$t(0,C$i,"scrollX",function(){return this._clipPoint?this._clipPoint.x:0},function(C$t){var C$e,C$i;this.overflow!=w9_fp2.SCROLL||this.textWidth<this._width||!this._clipPoint||(C$t=C$t<this.padding[3]?this.padding[3]:C$t,C$e=this._textWidth-this._width,C$i=this._height/(this._charSize.height+this.leading)|1,this._clipPoint.x=C$t=C$e<C$t?C$e:C$t,this.renderText(this._lastVisibleLineIndex,C$i))}),C$t(0,C$i,"scrollY",function(){return this._clipPoint?this._clipPoint.y:0},function(C$t){var C$e,C$i;this.overflow!=w9_fp2.SCROLL||this.textHeight<this._height||!this._clipPoint||(C$t=C$t<this.padding[0]?this.padding[0]:C$t,C$e=(C$t=(C$e=this._textHeight-this._height)<C$t?C$e:C$t)/(this._charSize.height+this.leading)|0,this._lastVisibleLineIndex=C$e,C$i=1+(this._height/(this._charSize.height+this.leading)|0),this._clipPoint.y=C$t,this.renderText(C$e,C$i))}),C$t(0,C$i,"maxScrollX",function(){return this.textWidth<this._width?0:this._textWidth-this._width}),C$t(0,C$i,"maxScrollY",function(){return this.textHeight<this._height?0:this._textHeight-this._height}),C$t(0,C$i,"lines",function(){return this._isChanged&&this.typeset(),this._lines}),C$t(0,C$i,"underlineColor",function(){return this._underlineColor},function(C$t){this._underlineColor=C$t,this._isChanged=!0,this.typeset()}),w9_fp2.registerBitmapFont=function(C$t,C$e){(w9_fp2._bitmapFonts=w9_fp2._bitmapFonts?w9_fp2._bitmapFonts:{})[C$t]=C$e},w9_fp2.unregisterBitmapFont=function(C$t,C$e){var C$i;void 0===C$e&&(C$e=!0),w9_fp2._bitmapFonts&&w9_fp2._bitmapFonts[C$t]&&(C$i=w9_fp2._bitmapFonts[C$t],C$e&&C$i.destroy(),delete w9_fp2._bitmapFonts[C$t])},w9_fp2.setTextRightToLeft=function(){var C$t;(C$t=C$S.canvas.source.style).display="none",C$t.position="absolute",C$t.direction="rtl",C$M._mainCanvas.source.style.direction="rtl",laya.display.Text.RightToLeft=!0,C$S.document.body.appendChild(C$S.canvas.source)},w9_fp2.supportFont=function(C$t){C$S.context.font="10px sans-serif";var C$e=C$Q.contextMeasureText("abcji").width;C$S.context.font="10px "+C$t;C$t=C$Q.contextMeasureText("abcji").width;return console.log(C$e,C$t),C$e!==C$t},w9_fp2._testWord="\u6e38",w9_fp2.langPacks=null,w9_fp2.VISIBLE="visible",w9_fp2.SCROLL="scroll",w9_fp2.HIDDEN="hidden",w9_fp2.CharacterCache=!0,w9_fp2.RightToLeft=!1,w9_fp2._bitmapFonts=null,C$a(w9_fp2,["_fontFamilyMap",function(){return this._fontFamilyMap={"\u62a5\u96b6":"\u62a5\u96b6-\u7b80","\u9ed1\u4f53":"\u9ed1\u4f53-\u7b80","\u6977\u4f53":"\u6977\u4f53-\u7b80","\u5170\u4ead\u9ed1":"\u5170\u4ead\u9ed1-\u7b80","\u96b6\u53d8":"\u96b6\u53d8-\u7b80","\u51cc\u6167\u4f53":"\u51cc\u6167\u4f53-\u7b80","\u7fe9\u7fe9\u4f53":"\u7fe9\u7fe9\u4f53-\u7b80","\u82f9\u65b9":"\u82f9\u65b9-\u7b80","\u624b\u672d\u4f53":"\u624b\u672d\u4f53-\u7b80","\u5b8b\u4f53":"\u5b8b\u4f53-\u7b80","\u5a03\u5a03\u4f53":"\u5a03\u5a03\u4f53-\u7b80","\u9b4f\u7891":"\u9b4f\u7891-\u7b80","\u884c\u6977":"\u884c\u6977-\u7b80","\u96c5\u75de":"\u96c5\u75de-\u7b80","\u5706\u4f53":"\u5706\u4f53-\u7b80"}}]),w9_fp2),C$mt=(C$o(k6dg0b,"laya.display.Stage",C$Et=C$_t),(C$i=k6dg0b.prototype)._setStageVisible=function(C$t){this._isVisibility!=C$t&&(this._isVisibility=C$t,this._isVisibility||this._isInputting()&&(C$xt.inputElement.target.focus=!1),this.event("visibilitychange"))},C$i._isInputting=function(){return C$S.onMobile&&C$xt.isInputting},C$i._changeCanvasSize=function(){this.setScreenSize(C$S.clientWidth*C$S.pixelRatio,C$S.clientHeight*C$S.pixelRatio)},C$i._resetCanvas=function(){var C$t;this.screenAdaptationEnabled&&((C$t=C$M._mainCanvas).source.style,C$t.size(1,1),C$b.timer.once(100,this,this._changeCanvasSize))},C$i.setScreenSize=function(C$t,C$e){var C$u=!1;"none"!==this._screenMode&&(C$u=(C$t/C$e<1?"vertical":"horizontal")!==this._screenMode)&&(C$c=C$e,C$e=C$t,C$t=C$c),this.canvasRotation=C$u;var C$c=C$M._mainCanvas,C$i=C$c.source.style,C$n=this._canvasTransform.identity(),C$_=this._scaleMode,C$r=C$t/this.designWidth,C$s=C$e/this.designHeight,C$a=this.designWidth,C$o=this.designHeight,C$h=C$t,C$d=C$e,C$l=C$S.pixelRatio;switch(this._width=this.designWidth,this._height=this.designHeight,C$_){case"noscale":C$r=C$s=1,C$h=this.designWidth,C$d=this.designHeight;break;case"showall":C$r=C$s=Math.min(C$r,C$s),C$a=C$h=Math.round(this.designWidth*C$r),C$o=C$d=Math.round(this.designHeight*C$s);break;case"noborder":C$r=C$s=Math.max(C$r,C$s),C$h=Math.round(this.designWidth*C$r),C$d=Math.round(this.designHeight*C$s);break;case"full":C$r=C$s=1,this._width=C$a=C$t,this._height=C$o=C$e;break;case"fixedwidth":C$s=C$r,this._height=C$o=Math.round(C$e/C$r);break;case"fixedheight":C$r=C$s,this._width=C$a=Math.round(C$t/C$s);break;case"fixedauto":C$t/C$e<this.designWidth/this.designHeight?(C$s=C$r,this._height=C$o=Math.round(C$e/C$r)):(C$r=C$s,this._width=C$a=Math.round(C$t/C$s))}this._height=this._height+1&2147483646,this._width=this._width+1&2147483646,C$a=C$a+1&2147483646,C$o=C$o+1&2147483646,this.conchModel&&this.conchModel.size(this._width,this._height),C$r*=this.scaleX,C$s*=this.scaleY,1===C$r&&1===C$s?this.transform.identity():(this.transform.a=this._formatData(C$r/(C$h/C$a)),this.transform.d=this._formatData(C$s/(C$d/C$o)),this.conchModel&&this.conchModel.scale(this.transform.a,this.transform.d)),C$c.size(C$a,C$o),C$m.changeWebGLSize(C$a,C$o),C$n.scale(C$h/C$a/C$l,C$d/C$o/C$l),"left"===this._alignH?this.offset.x=0:"right"===this._alignH?this.offset.x=(C$t-C$h)/C$l:this.offset.x=.5*(C$t-C$h)/C$l,"top"===this._alignV?this.offset.y=0:"bottom"===this._alignV?this.offset.y=(C$e-C$d)/C$l:this.offset.y=.5*(C$e-C$d)/C$l,this.offset.x=Math.round(this.offset.x),this.offset.y=Math.round(this.offset.y),C$n.translate(this.offset.x,this.offset.y),this.canvasDegree=0,C$u&&("horizontal"===this._screenMode?(C$n.rotate(Math.PI/2),C$n.translate(C$e/C$l,0),this.canvasDegree=90):(C$n.rotate(-Math.PI/2),C$n.translate(0,C$t/C$l),this.canvasDegree=-90)),C$n.a=this._formatData(C$n.a),C$n.d=this._formatData(C$n.d),C$n.tx=this._formatData(C$n.tx),C$n.ty=this._formatData(C$n.ty),C$i.transformOrigin=C$i.webkitTransformOrigin=C$i.msTransformOrigin=C$i.mozTransformOrigin=C$i.oTransformOrigin="0px 0px 0px",C$i.transform=C$i.webkitTransform=C$i.msTransform=C$i.mozTransform=C$i.oTransform="matrix("+C$n.toString()+")",C$n.translate(parseInt(C$i.left)||0,parseInt(C$i.top)||0),this.visible=!0,this._repaint=1,this.event("resize")},C$i._formatData=function(C$t){return Math.abs(C$t)<1e-6?0:Math.abs(1-C$t)<.001?0<C$t?1:-1:C$t},C$i.getMousePoint=function(){return C$R.TEMP.setTo(this.mouseX,this.mouseY)},C$i.repaint=function(){this._repaint=1},C$i.parentRepaint=function(){},C$i._loop=function(){return this.render(C$M.context,0,0),!0},C$i._onmouseMove=function(C$t){this._mouseMoveTime=C$S.now()},C$i.getTimeFromFrameStart=function(){return C$S.now()-this._frameStartTime},C$i.render=function(C$t,C$e,C$i){if("sleep"===this._frameRate&&!C$M.isConchApp){var C$n=C$S.now();if(!(1e3<=C$n-this._frameStartTime))return this._renderCount++,void(this._renderCount%2==0&&(C$$.loopCount++,C$y.instance.runEvent(),C$b.timer._update()));this._frameStartTime=C$n}if(this._renderCount++,C$M.isFlash&&this.repaint(),this._style.visible){this._frameStartTime=C$S.now();var C$n="slow"!==("mouse"===this._frameRate?this._frameStartTime-this._mouseMoveTime<2e3?"fast":"slow":this._frameRate),C$r=this._renderCount%2==0;if(C$$.renderSlow=!C$n,C$n||C$r||C$M.isConchApp){var C$s;C$$.loopCount++,C$y.instance.runEvent(),C$b.timer._update(),C$m.update3DLoop();var C$a=0,C$o=0;if(C$M.isConchNode)for(C$a=0,C$o=this._scenes.length;C$a<C$o;C$a++)(C$s=this._scenes[C$a])&&C$s._updateSceneConch();else for(C$a=0,C$o=this._scenes.length;C$a<C$o;C$a++)(C$s=this._scenes[C$a])&&C$s._updateScene();if(C$M.isConchNode){var C$h=C$_t.CustomList;for(C$a=0,C$o=C$h.length;C$a<C$o;C$a++){var C$l=C$h[C$a];C$l.customRender(C$l.customContext,0,0)}return}}C$M.isConchNode||this.renderingEnabled&&(C$n||!C$r||C$M.isConchWebGL)&&(C$M.isWebGL?C$M.WebGL.mainContext&&!C$M.WebGL.mainContext.isContextLost()&&(C$t.clear(),C$Et.prototype.render.call(this,C$t,C$e,C$i),C$$._show&&C$$._sp&&C$$._sp.render(C$t,C$e,C$i),C$m.clear(this._bgColor),C$m.beginFlush(),C$t.flush(),C$m.endFinish(),C$J.instance&&C$J.getInstance().endDispose()):(C$m.clear(this._bgColor),C$Et.prototype.render.call(this,C$t,C$e,C$i),C$$._show&&C$$._sp&&C$$._sp.render(C$t,C$e,C$i)))}else this._renderCount%5==0&&(C$$.loopCount++,C$y.instance.runEvent(),C$b.timer._update())},C$i._requestFullscreen=function(){var C$t=C$S.document.documentElement;C$t.requestFullscreen?C$t.requestFullscreen():C$t.mozRequestFullScreen?C$t.mozRequestFullScreen():C$t.webkitRequestFullscreen?C$t.webkitRequestFullscreen():C$t.msRequestFullscreen&&C$t.msRequestFullscreen()},C$i._fullScreenChanged=function(){C$b.stage.event("fullscreenchange")},C$i.exitFullscreen=function(){var C$t=C$S.document;C$t.exitFullscreen?C$t.exitFullscreen():C$t.mozCancelFullScreen?C$t.mozCancelFullScreen():C$t.webkitExitFullscreen&&C$t.webkitExitFullscreen()},C$t(0,C$i,"clientScaleX",function(){return this._transform?this._transform.getScaleX():1}),C$t(0,C$i,"desginHeight",function(){return console.debug("desginHeight\u5df2\u7ecf\u5f03\u7528\uff0c\u8bf7\u4f7f\u7528designHeight\u4ee3\u66ff"),this.designHeight}),C$t(0,C$i,"frameRate",function(){return this._frameRate},function(C$t){if(this._frameRate=C$t,C$M.isConchApp)switch(this._frameRate){case"slow":C$S.window.conch&&C$S.window.conchConfig.setSlowFrame&&C$S.window.conchConfig.setSlowFrame(!0);break;case"fast":C$S.window.conch&&C$S.window.conchConfig.setSlowFrame&&C$S.window.conchConfig.setSlowFrame(!1);break;case"mouse":C$S.window.conch&&C$S.window.conchConfig.setMouseFrame&&C$S.window.conchConfig.setMouseFrame(2e3);break;case"sleep":C$S.window.conch&&C$S.window.conchConfig.setLimitFPS&&C$S.window.conchConfig.setLimitFPS(1);break;default:throw new Error("Stage:frameRate invalid.")}}),C$t(0,C$i,"clientScaleY",function(){return this._transform?this._transform.getScaleY():1}),C$t(0,C$i,"width",C$Et.prototype._$get_width,function(C$t){this.designWidth=C$t,C$b.superSet(C$_t,this,"width",C$t),C$b.timer.callLater(this,this._changeCanvasSize)}),C$t(0,C$i,"alignH",function(){return this._alignH},function(C$t){this._alignH=C$t,C$b.timer.callLater(this,this._changeCanvasSize)}),C$t(0,C$i,"isFocused",function(){return this._isFocused}),C$t(0,C$i,"height",C$Et.prototype._$get_height,function(C$t){this.designHeight=C$t,C$b.superSet(C$_t,this,"height",C$t),C$b.timer.callLater(this,this._changeCanvasSize)}),C$t(0,C$i,"transform",function(){return this._tfChanged&&this._adjustTransform(),this._transform=this._transform||C$I.create()},C$Et.prototype._$set_transform),C$t(0,C$i,"isVisibility",function(){return this._isVisibility}),C$t(0,C$i,"desginWidth",function(){return console.debug("desginWidth\u5df2\u7ecf\u5f03\u7528\uff0c\u8bf7\u4f7f\u7528designWidth\u4ee3\u66ff"),this.designWidth}),C$t(0,C$i,"scaleMode",function(){return this._scaleMode},function(C$t){this._scaleMode=C$t,C$b.timer.callLater(this,this._changeCanvasSize)}),C$t(0,C$i,"alignV",function(){return this._alignV},function(C$t){this._alignV=C$t,C$b.timer.callLater(this,this._changeCanvasSize)}),C$t(0,C$i,"bgColor",function(){return this._bgColor},function(C$t){this._bgColor=C$t,this.conchModel&&this.conchModel.bgColor(C$t),C$M.isWebGL&&(C$t?k6dg0b._wgColor=C$H.create(C$t)._color:C$S.onMiniGame||(k6dg0b._wgColor=null)),C$S.onLimixiu?k6dg0b._wgColor=C$H.create(C$t)._color:C$M.canvas.style.background=C$t||"none"}),C$t(0,C$i,"mouseX",function(){return Math.round(C$y.instance.mouseX/this.clientScaleX)}),C$t(0,C$i,"mouseY",function(){return Math.round(C$y.instance.mouseY/this.clientScaleY)}),C$t(0,C$i,"screenMode",function(){return this._screenMode},function(C$t){this._screenMode=C$t}),C$t(0,C$i,"visible",C$Et.prototype._$get_visible,function(C$t){this.visible!==C$t&&(C$b.superSet(C$_t,this,"visible",C$t),C$M._mainCanvas.source.style.visibility=C$t?"visible":"hidden")}),C$t(0,C$i,"fullScreenEnabled",null,function(C$t){var C$e=C$S.document,C$i=C$M.canvas;C$t?(C$i.addEventListener("mousedown",this._requestFullscreen),C$i.addEventListener("touchstart",this._requestFullscreen),C$e.addEventListener("fullscreenchange",this._fullScreenChanged),C$e.addEventListener("mozfullscreenchange",this._fullScreenChanged),C$e.addEventListener("webkitfullscreenchange",this._fullScreenChanged),C$e.addEventListener("msfullscreenchange",this._fullScreenChanged)):(C$i.removeEventListener("mousedown",this._requestFullscreen),C$i.removeEventListener("touchstart",this._requestFullscreen),C$e.removeEventListener("fullscreenchange",this._fullScreenChanged),C$e.removeEventListener("mozfullscreenchange",this._fullScreenChanged),C$e.removeEventListener("webkitfullscreenchange",this._fullScreenChanged),C$e.removeEventListener("msfullscreenchange",this._fullScreenChanged))}),k6dg0b.SCALE_NOSCALE="noscale",k6dg0b.SCALE_EXACTFIT="exactfit",k6dg0b.SCALE_SHOWALL="showall",k6dg0b.SCALE_NOBORDER="noborder",k6dg0b.SCALE_FULL="full",k6dg0b.SCALE_FIXED_WIDTH="fixedwidth",k6dg0b.SCALE_FIXED_HEIGHT="fixedheight",k6dg0b.SCALE_FIXED_AUTO="fixedauto",k6dg0b.ALIGN_LEFT="left",k6dg0b.ALIGN_RIGHT="right",k6dg0b.ALIGN_CENTER="center",k6dg0b.ALIGN_TOP="top",k6dg0b.ALIGN_MIDDLE="middle",k6dg0b.ALIGN_BOTTOM="bottom",k6dg0b.SCREEN_NONE="none",k6dg0b.SCREEN_HORIZONTAL="horizontal",k6dg0b.SCREEN_VERTICAL="vertical",k6dg0b.FRAME_FAST="fast",k6dg0b.FRAME_SLOW="slow",k6dg0b.FRAME_MOUSE="mouse",k6dg0b.FRAME_SLEEP="sleep",k6dg0b.FRAME_MOUSE_THREDHOLD=2e3,C$a(k6dg0b,["_wgColor",function(){return this._wgColor=[0,0,0,1]}]),k6dg0b),C$i=(C$o(i4n1u,"laya.media.SoundNode",C$_t),(C$i=i4n1u.prototype)._onParentChange=function(){this.target=this.parent},C$i.play=function(C$t,C$e){void 0===C$t&&(C$t=1),isNaN(C$t)&&(C$t=1),this.url&&(this.stop(),this._channel=C$L.playSound(this.url,C$t,null,C$e))},C$i.stop=function(){this._channel&&!this._channel.isStopped&&this._channel.stop(),this._channel=null},C$i._setPlayAction=function(C$t,C$e,C$i,C$n){void 0===C$n&&(C$n=!0),this[C$i]&&C$t&&(C$n?C$t.on(C$e,this,this[C$i]):C$t.off(C$e,this,this[C$i]))},C$i._setPlayActions=function(C$t,C$e,C$i,C$n){if(void 0===C$n&&(C$n=!0),C$t&&C$e){var C$r,C$s=C$e.split(","),C$a=0;for(C$r=C$s.length,C$a=0;C$a<C$r;C$a++)this._setPlayAction(C$t,C$s[C$a],C$i,C$n)}},C$t(0,C$i,"playEvent",null,function(C$t){(this._playEvents=C$t)&&this._tar&&this._setPlayActions(this._tar,C$t,"play")}),C$t(0,C$i,"target",null,function(C$t){this._tar&&(this._setPlayActions(this._tar,this._playEvents,"play",!1),this._setPlayActions(this._tar,this._stopEvents,"stop",!1)),this._tar=C$t,this._tar&&(this._setPlayActions(this._tar,this._playEvents,"play",!0),this._setPlayActions(this._tar,this._stopEvents,"stop",!0))}),C$t(0,C$i,"stopEvent",null,function(C$t){(this._stopEvents=C$t)&&this._tar&&this._setPlayActions(this._tar,C$t,"stop")}),C$o(ula143,"laya.resource.FileBitmap",C$n),C$t(0,C$i=ula143.prototype,"src",function(){return this._src},function(C$t){this._src=C$t}),C$t(0,C$i,"onload",null,function(C$t){}),C$t(0,C$i,"onerror",null,function(C$t){}),ula143),C$gt=(C$o(zc8teh,"laya.resource.HTMLCanvas",C$n),(C$vt=zc8teh.prototype).clear=function(){this._ctx&&this._ctx.clear()},C$vt.destroy=function(){this._ctx&&this._ctx.destroy(),this._ctx=null,laya.resource.Resource.prototype.destroy.call(this)},C$vt.release=function(){},C$vt._setContext=function(C$t){this._ctx=C$t},C$vt.getContext=function(C$t,C$e){return this._ctx||(this._ctx=zc8teh._createContext(this))},C$vt.getMemSize=function(){return 0},C$vt.size=function(C$t,C$e){this._w==C$t&&this._h==C$e&&(!this._source||this._source.width==C$t&&this._source.height==C$e)||(this._w=C$t,this._h=C$e,this.memorySize=this._w*this._h*4,this._ctx&&this._ctx.size(C$t,C$e),this._source&&(this._source.height=C$e,this._source.width=C$t))},C$vt.getCanvas=function(){return this._source},C$vt.toBase64=function(C$t,C$e,C$i){this._source&&(C$M.isConchApp&&this._source.toBase64?this._source.toBase64(C$t,C$e,C$i):(C$t=this._source.toDataURL(C$t,C$e),C$i.call(this,C$t)))},C$t(0,C$vt,"context",function(){return this._ctx}),C$t(0,C$vt,"asBitmap",null,function(C$t){}),zc8teh.create=function(C$t,C$e){return new zc8teh(C$t,C$e)},zc8teh.TYPE2D="2D",zc8teh.TYPE3D="3D",zc8teh.TYPEAUTO="AUTO",zc8teh._createContext=null,zc8teh),C$vt=(C$o(qgkdb,"laya.resource.HTMLSubImage",C$n),qgkdb.create=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){return void 0===C$o&&(C$o=!1),new qgkdb},C$o(boqk5,"laya.display.Animation",C$Dt=C$e),(C$vt=boqk5.prototype).destroy=function(C$t){void 0===C$t&&(C$t=!0),this.stop(),laya.display.Sprite.prototype.destroy.call(this,C$t),this._frames=null,this._labels=null},C$vt.play=function(C$t,C$e,C$i,C$n){void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=!0),void 0===C$n&&(C$n=!0),(C$i=void 0===C$i?"":C$i)&&this._setFramesFromCache(C$i,C$n),this._isPlaying=!0,this.index="string"==typeof C$t?this._getFrameByLabel(C$t):C$t,this.loop=C$e,this._actionName=C$i,this._isReverse=1==this.wrapMode,this._frames&&0<this.interval&&this.timerLoop(this.interval,this,this._frameLoop,null,!0,!0)},C$vt._setFramesFromCache=function(C$t,C$e){var C$i;return void 0===C$e&&(C$e=!1),(C$t=this._url?this._url+"#"+C$t:C$t)&&boqk5.framesMap[C$t]?((C$i=boqk5.framesMap[C$t])instanceof Array?(this._frames=boqk5.framesMap[C$t],this._count=this._frames.length):(C$i.nodeRoot&&(boqk5.framesMap[C$t]=this._parseGraphicAnimationByData(C$i),C$i=boqk5.framesMap[C$t]),this._frames=C$i.frames,this._count=this._frames.length,this._frameRateChanged||(this._interval=C$i.interval),this._labels=this._copyLabels(C$i.labels)),!0):(C$e&&console.log("ani not found:",C$t),!1)},C$vt._copyLabels=function(C$t){if(!C$t)return null;var C$e,C$i;for(C$i in C$e={},C$t)C$e[C$i]=C$Q.copyArray([],C$t[C$i]);return C$e},C$vt._frameLoop=function(){this._style.visible&&.01<this._style.alpha&&C$Dt.prototype._frameLoop.call(this)},C$vt._displayToIndex=function(C$t){this._frames&&(this.graphics=this._frames[C$t])},C$vt.clear=function(){this.stop(),this.graphics=null,this._frames=null,this._labels=null},C$vt.loadImages=function(C$t,C$e){return void 0===C$e&&(C$e=""),this._url="",this._setFramesFromCache(C$e)||(this.frames=boqk5.framesMap[C$e]||boqk5.createFrames(C$t,C$e)),this},C$vt.loadAtlas=function(C$e,C$i,C$n){void 0===C$n&&(C$n=""),this._url="";var C$r=this;function y0oqb(C$t){C$e===C$t&&(C$r.frames=boqk5.framesMap[C$n]||boqk5.createFrames(C$e,C$n),C$i&&C$i.run())}return C$r._setFramesFromCache(C$n)||(C$ht.getAtlas(C$e)?y0oqb(C$e):C$b.loader.load(C$e,C$g.create(null,y0oqb,[C$e]),null,"atlas")),this},C$vt.loadAnimation=function(C$t,C$e,C$i){return this._url=C$t,this._actionName||(this._actionName=""),this._setFramesFromCache("")?(this._setFramesFromCache(this._actionName,!0),this.index=0,C$e&&C$e.run()):!C$i||C$ht.getAtlas(C$i)?this._loadAnimationData(C$t,C$e,C$i):C$b.loader.load(C$i,C$g.create(this,this._loadAnimationData,[C$t,C$e,C$i]),null,"atlas"),this},C$vt._loadAnimationData=function(C$a,C$o,C$t){var C$h=this;var C$l;function gd6tc(C$t){if(C$ht.getRes(C$t)&&C$a===C$t){var C$e;if(boqk5.framesMap[C$a+"#"])C$l._setFramesFromCache(C$h._actionName,!0),C$h.index=0,C$h._checkResumePlaying();else{C$t=C$l._parseGraphicAnimation(C$ht.getRes(C$a));if(!C$t)return;var C$i,C$n=C$t.animationList,C$r=0,C$s=C$n.length;for(C$r=0;C$r<C$s;C$r++)C$e=C$n[C$r],boqk5.framesMap[C$a+"#"+C$e.name]=C$e,C$i=C$i||C$e;C$i&&(boqk5.framesMap[C$a+"#"]=C$i,C$l._setFramesFromCache(C$h._actionName,!0),C$h.index=0),C$h._checkResumePlaying()}C$o&&C$o.run()}}!C$t||C$ht.getAtlas(C$t)?(C$l=this,C$ht.getRes(C$a)?gd6tc(C$a):C$b.loader.load(C$a,C$g.create(null,gd6tc,[C$a]),null,"json"),C$ht.clearRes(C$a)):console.warn("atlas load fail:"+C$t)},C$vt._parseGraphicAnimation=function(C$t){return C$bt.parseAnimationData(C$t)},C$vt._parseGraphicAnimationByData=function(C$t){return C$bt.parseAnimationByData(C$t)},C$t(0,C$vt,"frames",function(){return this._frames},function(C$t){(this._frames=C$t)&&(this._count=C$t.length,this._isPlaying?this.play(this._index,this.loop,this._actionName):this.index=this._index)}),C$t(0,C$vt,"autoPlay",null,function(C$t){C$t?this.play():this.stop()}),C$t(0,C$vt,"source",null,function(C$t){-1<C$t.indexOf(".ani")?this.loadAnimation(C$t):-1<C$t.indexOf(".json")||-1<C$t.indexOf("als")||-1<C$t.indexOf("atlas")?this.loadAtlas(C$t):this.loadImages(C$t.split(","))}),C$t(0,C$vt,"autoAnimation",null,function(C$t){this.play(0,!0,C$t,!1)}),boqk5.createFrames=function(C$t,C$e){var C$i,C$n,C$r=0,C$s=0;if("string"==typeof C$t){var C$a=C$ht.getAtlas(C$t);if(C$a&&C$a.length)for(C$i=[],C$r=0,C$s=C$a.length;C$r<C$s;C$r++)(C$n=new C$m.createGraphics).drawTexture(C$ht.getRes(C$a[C$r]),0,0),C$i.push(C$n)}else if(C$t instanceof Array)for(C$i=[],C$r=0,C$s=C$t.length;C$r<C$s;C$r++)(C$n=new C$m.createGraphics).loadImage(C$t[C$r],0,0),C$i.push(C$n);return C$e&&(boqk5.framesMap[C$e]=C$i),C$i},boqk5.clearCache=function(C$t){var C$e,C$i=C$t+"#";for(C$e in boqk5.framesMap)C$e!==C$t&&0!=C$e.indexOf(C$i)||delete boqk5.framesMap[C$e]},boqk5.framesMap={},C$o(dt8c6,"laya.display.FrameAnimation",C$Ct=C$e),(C$n=dt8c6.prototype)._setUp=function(C$t,C$e){this._labels=null,this._animationNewFrames=null,this._targetDic=C$t,this._animationData=C$e,this.interval=1e3/C$e.frameRate,C$e.parsed?(this._count=C$e.count,this._labels=C$e.labels,this._animationNewFrames=C$e.animationNewFrames):(this._animationNewFrames=[],this._calculateDatas()),C$e.parsed=!0,C$e.labels=this._labels,C$e.count=this._count,C$e.animationNewFrames=this._animationNewFrames},C$n.clear=function(){C$Ct.prototype.clear.call(this),this._targetDic=null,this._animationData=null},C$n._displayToIndex=function(C$t){if(this._animationData){(C$t=C$t<0?0:C$t)>this._count&&(C$t=this._count);var C$e=this._animationData.nodes,C$i=0,C$n=C$e.length;for(C$i=0;C$i<C$n;C$i++)this._displayNodeToFrame(C$e[C$i],C$t)}},C$n._displayNodeToFrame=function(C$t,C$e,C$i){var C$n=(C$i=C$i||this._targetDic)[C$t.target];if(C$n){var C$r,C$s,C$a=C$t.frames,C$o=C$t.keys,C$h=0,C$l=C$o.length;for(C$h=0;C$h<C$l;C$h++)C$s=(C$s=C$a[C$r=C$o[C$h]]).length>C$e?C$s[C$e]:C$s[C$s.length-1],C$n[C$r]=C$s}},C$n._calculateDatas=function(){if(this._animationData){var C$t,C$e=this._animationData.nodes,C$i=0,C$n=C$e.length;for(C$i=this._count=0;C$i<C$n;C$i++)C$t=C$e[C$i],this._calculateNodeKeyFrames(C$t);this._count+=1}},C$n._calculateNodeKeyFrames=function(C$t){var C$e,C$i,C$n=C$t.keyframes,C$r=C$t.target;for(C$e in C$t.frames||(C$t.frames={}),C$t.keys?C$t.keys.length=0:C$t.keys=[],C$t.initValues||(C$t.initValues={}),C$n)C$i=C$n[C$e],C$t.frames[C$e]||(C$t.frames[C$e]=[]),this._targetDic&&this._targetDic[C$r]&&(C$t.initValues[C$e]=this._targetDic[C$r][C$e]),C$i.sort(dt8c6._sortIndexFun),C$t.keys.push(C$e),this._calculateNodePropFrames(C$i,C$t.frames[C$e],C$e,C$r)},C$n.resetToInitState=function(){if(this._targetDic&&this._animationData){var C$t,C$e,C$i=this._animationData.nodes,C$n=0,C$r=C$i.length;for(C$n=0;C$n<C$r;C$n++)if(C$e=(C$t=C$i[C$n]).initValues){var C$s,C$a=this._targetDic[C$t.target];if(C$a)for(C$s in C$e)C$a[C$s]=C$e[C$s]}}},C$n._calculateNodePropFrames=function(C$t,C$e,C$i,C$n){var C$r=0,C$s=C$t.length-1;if(0<C$s){for(C$e.length=C$t[C$s].index+1,C$r=0;C$r<C$s;C$r++)this._dealKeyFrame(C$t[C$r]),this._calculateFrameValues(C$t[C$r],C$t[C$r+1],C$e);this._dealKeyFrame(C$t[C$r])}0==C$s&&(C$e[C$t[0].index]=C$t[0].value,this._animationNewFrames&&(this._animationNewFrames[C$t[0].index]=!0))},C$n._dealKeyFrame=function(C$t){C$t.label&&""!=C$t.label&&this.addLabel(C$t.label,C$t.index)},C$n._calculateFrameValues=function(C$t,C$e,C$i){var C$n,C$r=0,C$s=C$t.index,C$a=C$e.index,C$o=C$t.value,C$h=C$e.value-C$t.value,C$l=C$a-C$s;if(C$a>this._count&&(this._count=C$a),C$t.tween)for(null==(C$n=C$G[C$t.tweenMethod])&&(C$n=C$G.linearNone),C$r=C$s;C$r<C$a;C$r++)C$i[C$r]=C$n(C$r-C$s,C$o,C$h,C$l),this._animationNewFrames&&(this._animationNewFrames[C$r]=!0);else for(C$r=C$s;C$r<C$a;C$r++)C$i[C$r]=C$o;this._animationNewFrames&&(this._animationNewFrames[C$t.index]=!0,this._animationNewFrames[C$e.index]=!0),C$i[C$e.index]=C$e.value},dt8c6._sortIndexFun=null,dt8c6),C$xt=(C$o(ehtp_,"laya.display.Input",C$St=C$pt),(C$e=ehtp_.prototype).setSelection=function(C$t,C$e){this.focus=!0,laya.display.Input.inputElement.selectionStart=C$t,laya.display.Input.inputElement.selectionEnd=C$e},C$e._onUnDisplay=function(C$t){this.focus=!1},C$e._onMouseDown=function(C$t){this.focus=!0},C$e._syncInputTransform=function(){var C$t=this.nativeInput,C$e=C$Q.getTransformRelativeToWindow(this,this.padding[3],this.padding[0]),C$i=this._width-this.padding[1]-this.padding[3],C$n=this._height-this.padding[0]-this.padding[2];C$M.isConchApp?(C$t.setScale(C$e.scaleX,C$e.scaleY),C$t.setSize(C$i,C$n),C$t.setPos(C$e.x,C$e.y)):(ehtp_.inputContainer.style.transform=ehtp_.inputContainer.style.webkitTransform="scale("+C$e.scaleX+","+C$e.scaleY+") rotate("+C$b.stage.canvasDegree+"deg)",C$t.style.width=C$i+"px",C$t.style.height=C$n+"px",ehtp_.inputContainer.style.left=C$e.x+"px",ehtp_.inputContainer.style.top=C$e.y+"px")},C$e.select=function(){this.nativeInput&&this.nativeInput.select&&this.nativeInput.select()},C$e._setInputMethod=function(){ehtp_.input.parentElement&&ehtp_.inputContainer.removeChild(ehtp_.input),ehtp_.area.parentElement&&ehtp_.inputContainer.removeChild(ehtp_.area),ehtp_.inputElement=this._multiline?ehtp_.area:ehtp_.input,ehtp_.inputContainer.appendChild(ehtp_.inputElement),C$pt.RightToLeft&&(ehtp_.inputElement.style.direction="rtl")},C$e._focusIn=function(){laya.display.Input.isInputting=!0;var C$t=this.nativeInput;this._focus=!0;var C$e=C$t.style;C$e.whiteSpace=this.wordWrap?"pre-wrap":"nowrap",this._setPromptColor(),C$t.readOnly=!this._editable,C$M.isConchApp&&(C$t.setType(this._type),C$t.setForbidEdit(!this._editable)),C$t.maxLength=this._maxChars,this.padding,C$t.type=this._type,C$t.value=this._content,C$t.placeholder=this._prompt,C$b.stage.off("keydown",this,this._onKeyDown),C$b.stage.on("keydown",this,this._onKeyDown),(C$b.stage.focus=this).event("focus"),C$S.onPC&&C$t.focus(),C$S.onMiniGame||(this._text,this._text=null),this.typeset(),C$t.setColor(this._originColor),C$t.setFontSize(this.fontSize),C$t.setFontFace(C$S.onIPhone&&C$pt._fontFamilyMap[this.font]||this.font),C$M.isConchApp&&C$t.setMultiAble&&C$t.setMultiAble(this._multiline),C$e.lineHeight=this.leading+this.fontSize+"px",C$e.fontStyle=this.italic?"italic":"normal",C$e.fontWeight=this.bold?"bold":"normal",C$e.textAlign=this.align,C$e.padding="0 0",this._syncInputTransform(),!C$M.isConchApp&&C$S.onPC&&C$b.timer.frameLoop(1,this,this._syncInputTransform)},C$e._setPromptColor=function(){(ehtp_.promptStyleDOM=C$S.getElementById("promptStyle"))||((ehtp_.promptStyleDOM=C$S.createElement("style")).setAttribute("id","promptStyle"),C$S.document.head.appendChild(ehtp_.promptStyleDOM)),ehtp_.promptStyleDOM.innerText="input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {color:"+this._promptColor+"}input:-moz-placeholder, textarea:-moz-placeholder {color:"+this._promptColor+"}input::-moz-placeholder, textarea::-moz-placeholder {color:"+this._promptColor+"}input:-ms-input-placeholder, textarea:-ms-input-placeholder {color:"+this._promptColor+"}"},C$e._focusOut=function(){laya.display.Input.isInputting=!1,this._focus=!1,this._text=null,this._content=this.nativeInput.value,this._content?(C$b.superSet(C$pt,this,"text",this._content),C$b.superSet(C$pt,this,"color",this._originColor)):(C$b.superSet(C$pt,this,"text",this._prompt),C$b.superSet(C$pt,this,"color",this._promptColor)),C$b.stage.off("keydown",this,this._onKeyDown),C$b.stage.focus=null,this.event("blur"),C$M.isConchApp&&this.nativeInput.blur(),C$S.onPC&&C$b.timer.clear(this,this._syncInputTransform)},C$e._onKeyDown=function(C$t){13===C$t.keyCode&&(C$S.onMobile&&!this._multiline&&(this.focus=!1),this.event("enter"))},C$e.changeText=function(C$t){this._content=C$t,this._focus?(this.nativeInput.value=C$t||"",this.event("change")):C$St.prototype.changeText.call(this,C$t)},C$t(0,C$e,"color",C$St.prototype._$get_color,function(C$t){this._focus&&this.nativeInput.setColor(C$t),C$b.superSet(C$pt,this,"color",this._content?C$t:this._promptColor),this._originColor=C$t}),C$t(0,C$e,"inputElementYAdjuster",function(){return console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementYAdjuster\u5df2\u5f03\u7528\u3002"),0},function(C$t){console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementYAdjuster\u5df2\u5f03\u7528\u3002")}),C$t(0,C$e,"multiline",function(){return this._multiline},function(C$t){this._multiline=C$t,this.valign=C$t?"top":"middle"}),C$t(0,C$e,"maxChars",function(){return this._maxChars},function(C$t){this._maxChars=C$t=C$t<=0?1e5:C$t}),C$t(0,C$e,"text",function(){return this._focus?this.nativeInput.value:this._content||""},function(C$t){C$b.superSet(C$pt,this,"color",this._originColor),C$t+="",this._focus?(this.nativeInput.value=C$t||"",this.event("change")):(this._multiline||(C$t=C$t.replace(/\r?\n/g,"")),(this._content=C$t)?C$b.superSet(C$pt,this,"text",C$t):(C$b.superSet(C$pt,this,"text",this._prompt),C$b.superSet(C$pt,this,"color",this.promptColor)))}),C$t(0,C$e,"nativeInput",function(){return this._multiline?ehtp_.area:ehtp_.input}),C$t(0,C$e,"prompt",function(){return this._prompt},function(C$t){!this._text&&C$t&&C$b.superSet(C$pt,this,"color",this._promptColor),this.promptColor=this._promptColor,this._text?C$b.superSet(C$pt,this,"text",this._text==this._prompt?C$t:this._text):C$b.superSet(C$pt,this,"text",C$t),this._prompt=C$pt.langPacks&&C$pt.langPacks[C$t]?C$pt.langPacks[C$t]:C$t}),C$t(0,C$e,"focus",function(){return this._focus},function(C$t){var C$e=this.nativeInput;this._focus!==C$t&&(C$t?(C$e.target?C$e.target._focusOut():this._setInputMethod(),(C$e.target=this)._focusIn()):(C$e.target=null,this._focusOut(),C$S.document.body.scrollTop=0,C$e.blur(),C$M.isConchApp?C$e.setPos(-1e4,-1e4):ehtp_.inputContainer.contains(C$e)&&ehtp_.inputContainer.removeChild(C$e)))}),C$t(0,C$e,"restrict",function(){return this._restrictPattern?this._restrictPattern.source:""},function(C$t){C$t?(-1<(C$t="[^"+C$t+"]").indexOf("^^")&&(C$t=C$t.replace("^^","")),this._restrictPattern=new RegExp(C$t,"g")):this._restrictPattern=null}),C$t(0,C$e,"editable",function(){return this._editable},function(C$t){this._editable=C$t,C$M.isConchApp&&ehtp_.input.setForbidEdit(!C$t)}),C$t(0,C$e,"promptColor",function(){return this._promptColor},function(C$t){this._promptColor=C$t,this._content||C$b.superSet(C$pt,this,"color",C$t)}),C$t(0,C$e,"type",function(){return this._type},function(C$t){this._getCSSStyle().password="password"==C$t,this._type=C$t,C$M.isConchApp&&this.nativeInput.setType(C$t)}),C$t(0,C$e,"inputElementXAdjuster",function(){return console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementXAdjuster\u5df2\u5f03\u7528\u3002"),0},function(C$t){console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementXAdjuster\u5df2\u5f03\u7528\u3002")}),C$t(0,C$e,"asPassword",function(){return this._getCSSStyle().password},function(C$t){this._getCSSStyle().password=C$t,this._type="password",console.warn('deprecated: \u4f7f\u7528type="password"\u66ff\u4ee3\u8bbe\u7f6easPassword, asPassword\u5c06\u5728\u4e0b\u6b21\u91cd\u5927\u66f4\u65b0\u65f6\u5220\u53bb'),this.isChanged=!0}),ehtp_.__init__=function(){ehtp_._createInputElement(),C$S.onMobile&&C$M.canvas.addEventListener(!ehtp_.IOS_IFRAME||C$S.onMiniGame?"touchend":"click",ehtp_._popupInputMethod)},ehtp_._popupInputMethod=function(C$t){laya.display.Input.isInputting&&laya.display.Input.inputElement.focus()},ehtp_._createInputElement=function(){ehtp_._initInput(ehtp_.area=C$S.createElement("textarea")),ehtp_._initInput(ehtp_.input=C$S.createElement("input")),(ehtp_.inputContainer=C$S.createElement("div")).style.position="absolute",ehtp_.inputContainer.style.zIndex=1e5,C$S.container.appendChild(ehtp_.inputContainer),ehtp_.inputContainer.setPos=function(C$t,C$e){ehtp_.inputContainer.style.left=C$t+"px",ehtp_.inputContainer.style.top=C$e+"px"}},ehtp_._initInput=function(C$e){var C$t=C$e.style;C$t.cssText="position:absolute;overflow:hidden;resize:none;transform-origin:0 0;-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-o-transform-origin:0 0;",C$t.resize="none",C$t.backgroundColor="transparent",C$t.border="none",C$t.outline="none",C$t.zIndex=1,C$e.addEventListener("input",ehtp_._processInputting),C$e.addEventListener("mousemove",ehtp_._stopEvent),C$e.addEventListener("mousedown",ehtp_._stopEvent),C$e.addEventListener("touchmove",ehtp_._stopEvent),C$e.setFontFace=function(C$t){C$e.style.fontFamily=C$t},C$M.isConchApp||(C$e.setColor=function(C$t){C$e.style.color=C$t},C$e.setFontSize=function(C$t){C$e.style.fontSize=C$t+"px"})},ehtp_._processInputting=function(C$t){var C$e=laya.display.Input.inputElement.target;var C$i;C$e&&(C$i=laya.display.Input.inputElement.value,C$e._restrictPattern&&(C$i=C$i.replace(/\u2006|\x27/g,""),C$e._restrictPattern.test(C$i)&&(C$i=C$i.replace(C$e._restrictPattern,""),laya.display.Input.inputElement.value=C$i)),C$e._text=C$i,C$e.event("input"))},ehtp_._stopEvent=function(C$t){"touchmove"==C$t.type&&C$t.preventDefault(),C$t.stopPropagation&&C$t.stopPropagation()},ehtp_.TYPE_TEXT="text",ehtp_.TYPE_PASSWORD="password",ehtp_.TYPE_EMAIL="email",ehtp_.TYPE_URL="url",ehtp_.TYPE_NUMBER="number",ehtp_.TYPE_RANGE="range",ehtp_.TYPE_DATE="date",ehtp_.TYPE_MONTH="month",ehtp_.TYPE_WEEK="week",ehtp_.TYPE_TIME="time",ehtp_.TYPE_DATE_TIME="datetime",ehtp_.TYPE_DATE_TIME_LOCAL="datetime-local",ehtp_.TYPE_SEARCH="search",ehtp_.input=null,ehtp_.area=null,ehtp_.inputElement=null,ehtp_.inputContainer=null,ehtp_.confirmButton=null,ehtp_.promptStyleDOM=null,ehtp_.inputHeight=45,ehtp_.isInputting=!1,ehtp_.stageMatrix=null,C$a(ehtp_,["IOS_IFRAME",function(){return this.IOS_IFRAME=C$S.onIOS&&C$S.window.top!=C$S.window.self}]),ehtp_),C$yt=(C$o(vq5roy,"laya.resource.HTMLImage",C$i),(C$n=vq5roy.prototype)._init_=function(C$t,C$e){this._src=C$t,this._source=new C$S.window.Image,C$e&&(C$e.onload&&(this.onload=C$e.onload),C$e.onerror&&(this.onerror=C$e.onerror),C$e.onCreate&&C$e.onCreate(this)),0!=C$t.indexOf("data:image")&&(this._source.crossOrigin=""),C$t&&(this._source.src=C$t)},C$n.recreateResource=function(){var C$t=this;if(""===this._src)throw new Error("src no null\uff01");var C$e;this._needReleaseAgain=!1,this._source?this._recreateLock||(this.memorySize=this._w*this._h*4,this._recreateLock=!1,this.completeCreate()):(this._recreateLock=!0,(C$e=this)._source=new C$S.window.Image,this._source.crossOrigin="",this._source.onload=function(){if(C$e._needReleaseAgain)return C$e._needReleaseAgain=!1,C$e._source.onload=null,void(C$e._source=null);C$e._source.onload=null,C$e.memorySize=C$t._w*C$t._h*4,C$e._recreateLock=!1,C$e.completeCreate()},this._source.src=this._src)},C$n.disposeResource=function(){this._recreateLock&&(this._needReleaseAgain=!0),this._source&&(this._source=null,this.memorySize=0)},C$n.onresize=function(){this._w=this._source.width,this._h=this._source.height},C$t(0,C$n,"onload",null,function(C$t){var C$e=this;this._onload=C$t,this._source&&(this._source.onload=null!=this._onload?function(){C$e.onresize(),C$e._onload()}:null)}),C$t(0,C$n,"onerror",null,function(C$t){var C$e=this;this._onerror=C$t,this._source&&(this._source.onerror=null!=this._onerror?function(){C$e._onerror()}:null)}),C$t(0,C$n,"enableMerageInAtlas",function(){return this._enableMerageInAtlas},function(C$t){this._enableMerageInAtlas=C$t,C$M.isConchApp&&this._source&&(this._source.enableMerageInAtlas=C$t)}),vq5roy.create=function(C$t,C$e){return new vq5roy(C$t,C$e)},vq5roy),C$bt=(C$o(xjin7,"laya.display.EffectAnimation",C$Mt=C$vt),(C$e=xjin7.prototype)._onOtherBegin=function(C$t){C$t!=this&&this.stop()},C$e.addEvent=function(){this._target&&this._playEvents&&(this._setControlNode(this._target),this._target.on(this._playEvents,this,this._onPlayAction))},C$e._onPlayAction=function(){this.play(0,!1)},C$e.play=function(C$t,C$e,C$i,C$n){void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=!0),void 0===C$i&&(C$i=""),void 0===C$n&&(C$n=!0),this._target&&(this._target.event("effectanimationbegin",[this]),this._recordInitData(),laya.display.AnimationPlayerBase.prototype.play.call(this,C$t,C$e,C$i,C$n))},C$e._recordInitData=function(){if(this._aniKeys){var C$t,C$e,C$i=0;for(C$t=this._aniKeys.length,C$i=0;C$i<C$t;C$i++)C$e=this._aniKeys[C$i],this._initData[C$e]=this._target[C$e]}},C$e._displayToIndex=function(C$t){if(this._animationData){(C$t=C$t<0?0:C$t)>this._count&&(C$t=this._count);var C$e=this._animationData.nodes,C$i=0,C$n=C$e.length;for(C$n=1<C$n?1:C$n,C$i=0;C$i<C$n;C$i++)this._displayNodeToFrame(C$e[C$i],C$t)}},C$e._displayNodeToFrame=function(C$t,C$e,C$u){if(this._target){var C$i;C$i=this._target;var C$n,C$r,C$s,C$c=C$t.frames,C$a=C$t.keys,C$o=0,C$_=C$a.length;C$s=C$t.secondFrames;var C$h,C$l;for(C$o=0;C$o<C$_;C$o++)C$r=C$c[C$n=C$a[C$o]],C$h=-1==(C$l=C$s[C$n])?this._initData[C$n]:C$e<C$l?(C$h=(C$l=C$t.keyframes[C$n])[0]).tween?(null==(C$h=C$G[C$h.tweenMethod])&&(C$h=C$G.linearNone),C$l=C$l[1],C$h(C$e,this._initData[C$n],C$l.value-this._initData[C$n],C$l.index)):this._initData[C$n]:C$r.length>C$e?C$r[C$e]:C$r[C$r.length-1],C$i[C$n]=C$h}},C$e._calculateNodeKeyFrames=function(C$t){C$Mt.prototype._calculateNodeKeyFrames.call(this,C$t);var C$e,C$i,C$n,C$r=C$t.keyframes;for(C$e in C$t.target,C$t.secondFrames=C$n={},C$r)(C$i=C$r[C$e]).length<=1?C$n[C$e]=-1:C$n[C$e]=C$i[1].index},C$t(0,C$e,"target",function(){return this._target},function(C$t){this._target&&this._target.off("effectanimationbegin",this,this._onOtherBegin),this._target=C$t,this._target&&this._target.on("effectanimationbegin",this,this._onOtherBegin),this.addEvent()}),C$t(0,C$e,"playEvent",null,function(C$t){(this._playEvents=C$t)&&this.addEvent()}),C$t(0,C$e,"effectData",null,function(C$t){var C$e;C$t&&(C$e=C$t.animations)&&C$e[0]&&(this._setUp({},C$e[0]),C$e[0].nodes&&C$e[0].nodes[0]&&(this._aniKeys=C$e[0].nodes[0].keys))}),C$t(0,C$e,"effectClass",null,function(C$t){var C$e,C$i;this._effectClass=C$q.getClass(C$t),this._effectClass&&(C$e=this._effectClass.uiView)&&(C$i=C$e.animations)&&C$i[0]&&(this._setUp({},C$i[0]),C$i[0].nodes&&C$i[0].nodes[0]&&(this._aniKeys=C$i[0].nodes[0].keys))}),xjin7.EffectAnimationBegin="effectanimationbegin",C$o(t8zch,"laya.utils.GraphicAnimation",C$wt=C$vt),(C$i=t8zch.prototype)._parseNodeList=function(C$t){this._nodeList||(this._nodeList=[]),this._nodeDefaultProps[C$t.compId]=C$t.props,C$t.compId&&this._nodeList.push(C$t.compId);var C$e=C$t.child;if(C$e){var C$i=0,C$n=C$e.length;for(C$i=0;C$i<C$n;C$i++)this._parseNodeList(C$e[C$i])}},C$i._calGraphicData=function(C$t){if(this._setUp(null,C$t),this._createGraphicData(),this._nodeIDAniDic)for(var C$e in this._nodeIDAniDic)this._nodeIDAniDic[C$e]=null},C$i._createGraphicData=function(){var C$t,C$e=[],C$i=0,C$n=this.count,C$r=this._animationNewFrames;for(C$r=C$r||[],C$i=0;C$i<C$n;C$i++)!C$r[C$i]&&C$t||(C$t=this._createFrameGraphic(C$i)),C$e.push(C$t);this._gList=C$e},C$i._createFrameGraphic=function(C$t){var C$e=C$m.createGraphics();return t8zch._rootMatrix||(t8zch._rootMatrix=new C$I),this._updateNodeGraphic(this._rootNode,C$t,t8zch._rootMatrix,C$e),C$e},C$i._updateNodeGraphic=function(C$t,C$e,C$u,C$i,C$n){var C$r;void 0===C$n&&(C$n=1);var C$s,C$a,C$o,C$h=(C$r=this._nodeGDic[C$t.compId]=this._getNodeGraphicData(C$t.compId,C$e,this._nodeGDic[C$t.compId])).alpha*C$n;if(!(C$h<.01)&&(C$r.resultTransform||(C$r.resultTransform=C$I.create()),C$s=C$r.resultTransform,C$I.mul(C$r.transform,C$u,C$s),C$r.skin&&(C$a=this._getTextureByUrl(C$r.skin))&&(C$s._checkTransform()?(C$i.drawTexture(C$a,0,0,C$r.width,C$r.height,C$s,C$h),C$r.resultTransform=null):C$i.drawTexture(C$a,C$s.tx,C$s.ty,C$r.width,C$r.height,null,C$h)),C$o=C$t.child)){var C$c,C$l=0;for(C$c=C$o.length,C$l=0;C$l<C$c;C$l++)this._updateNodeGraphic(C$o[C$l],C$e,C$s,C$i,C$h)}},C$i._updateNoChilds=function(C$t,C$e){var C$i,C$n;!C$t.skin||(C$i=this._getTextureByUrl(C$t.skin))&&((C$n=C$t.transform)._checkTransform(),C$n.bTransform?C$e.drawTexture(C$i,0,0,C$t.width,C$t.height,C$n.clone(),C$t.alpha):C$e.drawTexture(C$i,C$n.tx,C$n.ty,C$t.width,C$t.height,null,C$t.alpha))},C$i._updateNodeGraphic2=function(C$t,C$e,C$i){var C$n;if(C$n=this._nodeGDic[C$t.compId]=this._getNodeGraphicData(C$t.compId,C$e,this._nodeGDic[C$t.compId]),C$t.child){var C$r=C$n.transform;var C$s,C$a;var C$o,C$h,C$u;if(C$r._checkTransform(),C$a=(C$s=!C$r.bTransform)&&(0!=C$r.tx||0!=C$r.ty),(C$o=C$r.bTransform||1!=C$n.alpha)&&C$i.save(),1!=C$n.alpha&&C$i.alpha(C$n.alpha),C$s?C$a&&C$i.translate(C$r.tx,C$r.ty):C$i.transform(C$r.clone()),C$h=C$t.child,C$n.skin&&(C$u=this._getTextureByUrl(C$n.skin))&&C$i.drawTexture(C$u,0,0,C$n.width,C$n.height),C$h){var C$c,C$l=0;for(C$c=C$h.length,C$l=0;C$l<C$c;C$l++)this._updateNodeGraphic2(C$h[C$l],C$e,C$i)}C$o?C$i.restore():C$s?C$a&&C$i.translate(-C$r.tx,-C$r.ty):C$i.transform(C$r.clone().invert())}else this._updateNoChilds(C$n,C$i)},C$i._calculateNodeKeyFrames=function(C$t){C$wt.prototype._calculateNodeKeyFrames.call(this,C$t),this._nodeIDAniDic[C$t.target]=C$t},C$i.getNodeDataByID=function(C$t){return this._nodeIDAniDic[C$t]},C$i._getParams=function(C$t,C$e,C$i,C$n){var C$r=t8zch._temParam;C$r.length=C$e.length;var C$s=0,C$a=C$e.length;for(C$s=0;C$s<C$a;C$s++)C$r[C$s]=this._getObjVar(C$t,C$e[C$s][0],C$i,C$e[C$s][1],C$n);return C$r},C$i._getObjVar=function(C$t,C$e,C$i,C$n,C$r){if(C$t.hasOwnProperty(C$e)){var C$s=C$t[C$e];if(C$i>=C$s.length&&(C$i=C$s.length-1),null!=C$t[C$e][C$i])return C$t[C$e][C$i]}return C$r.hasOwnProperty(C$e)?C$r[C$e]:C$n},C$i._getNodeGraphicData=function(C$t,C$e,C$i){(C$i=C$i||C$Tt.create()).transform?C$i.transform.identity():C$i.transform=C$I.create();var C$n=this.getNodeDataByID(C$t);if(!C$n)return C$i;var C$r,C$n=C$n.frames,C$n=this._getParams(C$n,t8zch._drawTextureCmd,C$e,this._nodeDefaultProps[C$t]),C$e=C$n[0],C$t=NaN,C$s=NaN,C$a=C$n[5],C$o=C$n[6],C$h=C$n[13],C$l=C$n[14],C$u=C$n[7],C$c=C$n[8],C$_=C$n[9],C$d=C$n[11],C$f=C$n[12];C$t=C$n[3],C$s=C$n[4],0!=C$t&&0!=C$s||(C$e=null),-1==C$t&&(C$t=0),-1==C$s&&(C$s=0),C$i.skin=C$e,C$i.width=C$t,C$i.height=C$s,C$e&&((C$r=this._getTextureByUrl(C$e))?(C$t=C$t||C$r.sourceWidth,C$s=C$s||C$r.sourceHeight):console.warn("lost skin:",C$e,",you may load pics first")),C$i.alpha=C$n[10],C$r=C$i.transform,0!=C$l&&(C$o=C$l*C$s),0==(C$a=0!=C$h?C$h*C$t:C$a)&&0==C$o||C$r.translate(-C$a,-C$o);C$e=null;return(C$_||1!==C$u||1!==C$c||C$d||C$f)&&((C$e=t8zch._tempMt).identity(),C$e.bTransform=!0,C$l=.0174532922222222*(C$_-C$d),C$s=.0174532922222222*(C$_+C$f),C$h=Math.cos(C$s),C$t=Math.sin(C$s),C$a=Math.sin(C$l),C$o=Math.cos(C$l),C$e.a=C$u*C$h,C$e.b=C$u*C$t,C$e.c=-C$c*C$a,C$e.d=C$c*C$o,C$e.tx=C$e.ty=0),(C$r=C$e?C$I.mul(C$r,C$e,C$r):C$r).translate(C$n[1],C$n[2]),C$i},C$i._getTextureByUrl=function(C$t){return C$ht.getRes(C$t)},C$i.setAniData=function(C$t,C$e){if(C$t.animations){this._nodeDefaultProps={},this._nodeGDic={},this._nodeList&&(this._nodeList.length=0),this._rootNode=C$t,this._parseNodeList(C$t);var C$i,C$n={},C$r=[],C$s=C$t.animations,C$a=0,C$o=C$s.length;for(C$a=0;C$a<C$o;C$a++)if(C$i=C$s[C$a],this._labels=null,(!C$e||C$e==C$i.name)&&C$i){try{this._calGraphicData(C$i)}catch(C$t){console.warn("parse animation fail:"+C$i.name+",empty animation created"),this._gList=[]}var C$h={};C$h.interval=1e3/C$i.frameRate,C$h.frames=this._gList,C$h.labels=this._labels,C$h.name=C$i.name,C$r.push(C$h),C$n[C$i.name]=C$h}this.animationList=C$r,this.animationDic=C$n}t8zch._temParam.length=0},C$i.parseByData=function(C$t){var C$e;C$i=C$t.nodeRoot,C$e=C$t.aniO,delete C$t.nodeRoot,delete C$t.aniO,this._nodeDefaultProps={},this._nodeGDic={},this._nodeList&&(this._nodeList.length=0),this._rootNode=C$i,this._parseNodeList(C$i),this._labels=null;try{this._calGraphicData(C$e)}catch(C$t){console.warn("parse animation fail:"+C$e.name+",empty animation created"),this._gList=[]}var C$i=C$t;return C$i.interval=1e3/C$e.frameRate,C$i.frames=this._gList,C$i.labels=this._labels,C$i.name=C$e.name,C$i},C$i.setUpAniData=function(C$t){if(C$t.animations){var C$e,C$i={},C$n=[],C$r=C$t.animations,C$s=0,C$a=C$r.length;for(C$s=0;C$s<C$a;C$s++){var C$o;(C$e=C$r[C$s])&&((C$o={}).name=C$e.name,C$o.aniO=C$e,C$o.nodeRoot=C$t,C$n.push(C$o),C$i[C$e.name]=C$o)}this.animationList=C$n,this.animationDic=C$i}},C$i._clear=function(){var C$t,C$e;if(this.animationList=null,this.animationDic=null,this._gList=null,this._nodeGDic)for(C$t in this._nodeGDic)(C$e=this._nodeGDic[C$t])&&C$e.recover();this._nodeGDic=null},t8zch.parseAnimationByData=function(C$t){return C$t=(t8zch._I=t8zch._I?t8zch._I:new t8zch).parseByData(C$t),t8zch._I._clear(),C$t},t8zch.parseAnimationData=function(C$t){return(t8zch._I=t8zch._I?t8zch._I:new t8zch).setUpAniData(C$t),(C$t={}).animationList=t8zch._I.animationList,C$t.animationDic=t8zch._I.animationDic,t8zch._I._clear(),C$t},t8zch._drawTextureCmd=[["skin",null],["x",0],["y",0],["width",-1],["height",-1],["pivotX",0],["pivotY",0],["scaleX",1],["scaleY",1],["rotation",0],["alpha",1],["skewX",0],["skewY",0],["anchorX",0],["anchorY",0]],t8zch._temParam=[],t8zch._I=null,t8zch._rootMatrix=null,C$a(t8zch,["_tempMt",function(){return this._tempMt=new C$I}]),t8zch.__init$=function(){function n4i7x(){this.skin=null,this.transform=null,this.resultTransform=null,this.width=NaN,this.height=NaN,this.alpha=1}C$o(n4i7x,""),n4i7x.prototype.recover=function(){this.skin=null,this.width=0,this.height=0,this.alpha=1,this.transform&&(this.transform.destroy(),this.transform=null),this.resultTransform&&(this.resultTransform.destroy(),this.resultTransform=null),C$X.recover("GraphicNode",this)},n4i7x.create=function(){return C$X.getItemByClass("GraphicNode",n4i7x)},C$Tt=n4i7x},t8zch);function t8zch(){this.animationList=null,this.animationDic=null,this._nodeList=null,this._nodeDefaultProps=null,this._gList=null,this._nodeIDAniDic={},this._rootNode=null,this._nodeGDic=null,t8zch.__super.call(this)}var C$wt,C$Tt;function xjin7(){this._target=null,this._playEvents=null,this._initData={},this._aniKeys=null,this._effectClass=null,xjin7.__super.call(this)}var C$Mt;function vq5roy(C$t,C$e){this._recreateLock=!1,this._needReleaseAgain=!1,this._enableMerageInAtlas=!0,vq5roy.__super.call(this),C$t&&this._init_(C$t,C$e)}function ehtp_(){this._focus=!1,this._multiline=!1,this._editable=!0,this._restrictPattern=null,this._type="text",this._prompt="",this._promptColor="#A9A9A9",this._originColor="#000000",this._content="",ehtp_.__super.call(this),this._maxChars=1e5,this._width=100,this._height=20,this.multiline=!1,this.overflow=C$pt.SCROLL,this.on("mousedown",this,this._onMouseDown),this.on("undisplay",this,this._onUnDisplay)}var C$St;function dt8c6(){this._targetDic=null,this._animationData=null,this._animationNewFrames=null,dt8c6.__super.call(this),null==dt8c6._sortIndexFun&&(dt8c6._sortIndexFun=C$A.sortByKey("index",!1,!0))}var C$Ct;function boqk5(){this._frames=null,this._url=null,boqk5.__super.call(this),this._setControlNode(this)}var C$Dt;function qgkdb(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){throw qgkdb.__super.call(this),new Error("\u4e0d\u5141\u8bb8new\uff01")}function zc8teh(C$t,C$e){this._is2D=!1,zc8teh.__super.call(this);var C$i=this;var C$n;this._source=this,"2D"!==C$t&&("AUTO"!==C$t||C$M.isWebGL)||(this._is2D=!0,this._source=C$e||C$S.createElement("canvas"),this._w=this._source.width,this._h=this._source.height,(C$n=this).getContext=function(C$t,C$e){if(C$i._ctx)return C$i._ctx;C$t=C$i._ctx=C$i._source.getContext(C$t,C$e);return C$t&&(C$t._canvas=C$n,C$M.isFlash||C$S.onLimixiu||(C$t.size=function(C$t,C$e){})),C$t}),this.uri="HTMLCanvas_"+this.id,this.lock=!0}var C$vt;function ula143(){this._src=null,this._onload=null,this._onerror=null,ula143.__super.call(this)}function i4n1u(){this.url=null,this._channel=null,this._tar=null,this._playEvents=null,this._stopEvents=null,i4n1u.__super.call(this),this.visible=!1,this.on("added",this,this._onParentChange),this.on("removed",this,this._onParentChange)}function k6dg0b(){this.focus=null,this.designWidth=0,this.designHeight=0,this.canvasRotation=!1,this.canvasDegree=0,this.renderingEnabled=!0,this.screenAdaptationEnabled=!0,this._screenMode="none",this._scaleMode="noscale",this._alignV="top",this._alignH="left",this._bgColor="black",this._mouseMoveTime=0,this._renderCount=0,this._frameStartTime=NaN,this._isFocused=!1,this._isVisibility=!1,this._scenes=null,this._frameRate="fast",k6dg0b.__super.call(this),this.offset=new C$R,this._canvasTransform=new C$I,this._previousOrientation=C$S.window.orientation;var C$e=this;this.transform=C$I.create(),this._scenes=[],this.mouseEnabled=!0,this.hitTestPrior=!0,this.autoSize=!1,this._displayedInStage=!0,this._isFocused=!0,this._isVisibility=!0;var C$t=C$S.window,C$i=this;C$t.addEventListener("focus",function(){C$e._isFocused=!0,C$i.event("focus"),C$i.event("focuschange")}),C$t.addEventListener("blur",function(){C$e._isFocused=!1,C$i.event("blur"),C$i.event("focuschange"),C$i._isInputting()&&(C$xt.inputElement.target.focus=!1)});var C$n="visibilityState",C$r="visibilitychange",C$s=C$t.document;void 0!==C$s.hidden?(C$r="visibilitychange",C$n="visibilityState"):void 0!==C$s.mozHidden?(C$r="mozvisibilitychange",C$n="mozVisibilityState"):void 0!==C$s.msHidden?(C$r="msvisibilitychange",C$n="msVisibilityState"):void 0!==C$s.webkitHidden&&(C$r="webkitvisibilitychange",C$n="webkitVisibilityState"),C$t.document.addEventListener(C$r,function(){"hidden"==C$S.document[C$n]?C$i._setStageVisible(!1):C$i._setStageVisible(!0)}),C$t.document.addEventListener("qbrowserVisibilityChange",function(C$t){C$i._setStageVisible(!C$t.hidden)}),C$t.addEventListener("resize",function(){var C$t=C$S.window.orientation;null!=C$t&&C$t!=C$e._previousOrientation&&C$i._isInputting()&&(C$xt.inputElement.target.focus=!1),C$e._previousOrientation=C$t,C$i._isInputting()||C$i._resetCanvas()}),C$t.addEventListener("orientationchange",function(C$t){C$i._resetCanvas()}),this.on("mousemove",this,this._onmouseMove),C$S.onMobile&&this.on("mousedown",this,this._onmouseMove)}var C$Et;function w9_fp2(){this._clipPoint=null,this._currBitmapFont=null,this._text=null,this._isChanged=!1,this._textWidth=0,this._textHeight=0,this._lines=[],this._lineWidths=[],this._startX=NaN,this._startY=NaN,this._lastVisibleLineIndex=-1,this._words=null,this._charSize={},this.underline=!1,this._underlineColor=null,w9_fp2.__super.call(this),this.overflow=w9_fp2.VISIBLE,this._style=new C$nt(this),this._style.wordWrap=!1}var C$At;function tc68(){this.loop=!1,this.wrapMode=0,this._index=0,this._count=0,this._isPlaying=!1,this._labels=null,this._isReverse=!1,this._frameRateChanged=!1,this._controlNode=null,this._actionName=null,tc68.__super.call(this),this._interval=C$h.animationInterval,this._setUpNoticeType(1)}var C$It;function ix1nj7(){ix1nj7.__super.call(this),this._w=0,this._h=0}function qk5g(){this.audioBuffer=null,this.gain=null,this.bufferSource=null,this._currentTime=0,this._volume=1,this._startTime=0,this._pauseTime=0,this._onPlayEnd=null,this.context=C$at.ctx,qk5g.__super.call(this),this._onPlayEnd=C$Q.bind(this.__onPlayEnd,this),this.context.createGain?this.gain=this.context.createGain():this.gain=this.context.createGainNode()}function ht6c8z(C$t){this._audio=null,this._onEnd=null,this._resumePlay=null,ht6c8z.__super.call(this),this._onEnd=C$Q.bind(this.__onEnd,this),this._resumePlay=C$Q.bind(this.__resumePlay,this),C$t.addEventListener("ended",this._onEnd),this._audio=C$t}function oy5(){this._transform=null,this._tfChanged=!1,this._x=0,this._y=0,this._width=0,this._height=0,this._repaint=1,this._mouseEnableState=0,this._zOrder=0,this._graphics=null,this._renderType=0,this._optimizeScrollRect=!1,this._texture=null,this.mouseThrough=!1,this.autoSize=!1,this.hitTestPrior=!1,this.viewport=null,oy5.__super.call(this),this._style=C$u.EMPTY}var C$Rt,C$n;function j5royv(){this._labelDic=null,this._tweenDic={},this._tweenDataList=[],this._endTweenDataList=null,this._currTime=0,this._lastTime=0,this._startTime=0,this._index=0,this._gidIndex=0,this._firstTweenDic={},this._startTimeSort=!1,this._endTimeSort=!1,this._loopKey=!1,this.scale=1,this._frameRate=60,this._frameIndex=0,this._total=0,j5royv.__super.call(this)}var C$Pt;function fws$9(C$t,C$e){this.offsetX=0,this.offsetY=0,this.sourceWidth=0,this.sourceHeight=0,this._w=0,this._h=0,this._uvID=0,this._atlasID=-1,this.scaleRate=1,fws$9.__super.call(this),C$t&&null!=C$t._addReference&&C$t._addReference(),this.setTo(C$t,C$e)}var C$ct;function $2wf9_(){$2wf9_.__super.call(this),this._$1__id=++$2wf9_._uniqueIDCounter,this.__loaded=!0,this._destroyed=!1,this._referenceCount=0,($2wf9_._idResourcesMap[this.id]=this)._released=!0,this.lock=!1,this._memorySize=0,this._lastUseFrameCount=-1,C$V.currentResourceManager&&C$V.currentResourceManager.addResource(this)}function ov5jry(C$t,C$e,C$i){this._endian=null,this._stamp=NaN,this._socket=null,this._connected=!1,this._addInputPosition=0,this._input=null,this._output=null,this.timeout=0,this.objectEncoding=0,this.disableInput=!1,this._byteClass=null,this.protocols=[],void 0===C$e&&(C$e=0),ov5jry.__super.call(this),this._byteClass=C$i||C$j,this.endian="bigEndian",this.timeout=2e4,this._addInputPosition=0,C$t&&0<C$e&&C$e<65535&&this.connect(C$t,C$e)}function zepthc(C$t){zepthc.__super.call(this),C$t=C$t||[.3,.59,.11,0,0,.3,.59,.11,0,0,.3,.59,.11,0,0,0,0,0,1,0],this._mat=new Float32Array(16),this._alpha=new Float32Array(4);for(var C$e=0,C$i=0,C$n=0;C$n<20;C$n++)C$n%5!=4?this._mat[C$e++]=C$t[C$n]:this._alpha[C$i++]=C$t[C$n];this._action=C$m.createFilterAction(32),this._action.data=this}function tehpzc(){this.retryNum=0,this.retryDelay=10,this.maxLoader=8,this._loaders=[],this._loaderCount=0,this._loaderMap={},this._resInfos=[],this._infoPool=[],this._maxPriority=5,this._failRes={},tehpzc.__super.call(this);for(var C$t=0;C$t<this._maxPriority;C$t++)this._resInfos[C$t]=[]}var C$Lt;function ehzcp(){this._data=null,this._class=null,this._url=null,this._type=null,this._cache=!1,this._http=null,this._customParse=!1,ehzcp.__super.call(this),this._onImageCallback=this._loadImageComplete.bind(this),this._onLoadedCallback=this._loadedComplete.bind(this),this.priority=-1,this.realTime=!1}function kg0bqd(){this._responseType=null,this._data=null,kg0bqd.__super.call(this),this._http=new C$S.window.XMLHttpRequest}function amul43(){this.url=null,this.loaded=!1,this.data=null,this.audioBuffer=null,this.__toPlays=null,this._disposed=!1,amul43.__super.call(this)}function c6zt(){c6zt.__super.call(this)}function epw_2(){this.url=null,this.loops=0,this.startTime=NaN,this.isStopped=!1,this.startHandler=null,this.completeHandler=null,epw_2.__super.call(this)}function n1u43(){this.url=null,this.audio=null,this.loaded=!1,n1u43.__super.call(this)}function wp9f(C$t){this._bgground=null,this._border=null,this._rect=null,this.underLine=0,this.lineHeight=0,wp9f.__super.call(this),this._padding=wp9f._PADDING,this._spacing=wp9f._SPACING,this._aligns=wp9f._ALIGNS,this._font=C$c.EMPTY,this._ower=C$t}var C$i;function zth8ce(){this._bits=0,this._displayedInStage=!1,this._parent=null,this.conchModel=null,this.name="",this._destroyed=!1,zth8ce.__super.call(this),this._childs=zth8ce.ARRAY_EMPTY,this._$P=zth8ce.PROP_EMPTY,this.timer=C$b.scaleTimer,this.conchModel=C$M.isConchNode?this.createConchModel():null}function gkd8c(){this.id=NaN,this.save=[],this.toUpperCase=null,this.changed=!1,this._text=null}function bqk5o0(){this._obj=null,this._obj=bqk5o0.supportWeakMap?new C$S.window.WeakMap:{},bqk5o0.supportWeakMap||bqk5o0._maps.push(this)}function a413ul(){this.useDic={},this.shapeDic={},this.shapeLineDic={},this._id=0,this._checkKey=!1,this._freeIdArray=[],C$M.isWebGL&&C$U.regCacheByFunction(C$Q.bind(this.startDispose,this),C$Q.bind(this.getCacheList,this))}function rvo7j(){}function vijrx7(){this.gid=0}function d068g(){this._delta=0,this.scale=1,this.currFrame=0,this._mid=1,this._map={},this._laters=[],this._handlers=[],this._temp=[],this._count=0,this._errorRecord=!1,this.currTimer=this._now(),this._lastTimer=this._now(),this._init()}var C$Bt;function xjvn7i(){this._strsToID={},this._idToStrs=[],this._length=0}function ez_hpt(){}function ui31n(){}function x7n41(){}function bg(){}function _pzeth(C$t,C$e,C$i,C$n){this.char=C$t,this.charNum=C$t.charCodeAt(0),this._x=this._y=0,this.width=C$e,this.height=C$i,this.style=C$n,this.isWord=!_pzeth._isWordRegExp.test(C$t)}function n43i1u(){this._hit=null,this._unHit=null}function t6d8h(){}function $2f_(){this.ratio=.92,this.maxOffset=60,this._dragging=!1,this._clickOnly=!0}function la3u4(){this._values=[],this._keys=[]}function kqg5b0(C$t){if(this._color=[],"string"==typeof C$t){var C$e=(C$t="#"==(C$t=null===(this.strColor=C$t)?"#000000":C$t).charAt(0)?C$t.substr(1):C$t).length;if(3==C$e||4==C$e){for(var C$i="",C$n=0;C$n<C$e;C$n++)C$i+=C$t[C$n]+C$t[C$n];C$t=C$i}var C$r=this.numColor=parseInt(C$t,16);if(8==C$t.length)return void(this._color=[parseInt(C$t.substr(0,2),16)/255,((16711680&C$r)>>16)/255,((65280&C$r)>>8)/255,(255&C$r)/255])}else C$r=this.numColor=C$t,this.strColor=C$Q.toHexColor(C$r);this._color=[((16711680&C$r)>>16)/255,((65280&C$r)>>8)/255,(255&C$r)/255,1],this._color.__id=++kqg5b0._COLODID}function vyrjx7(){}function i3un14(){}function d0bk6(C$t){this._xd_=!0,this._allocated_=8,this._pos_=0,this._length=0,C$t?(this._u8d_=new Uint8Array(C$t),this._d_=new DataView(this._u8d_.buffer),this._length=this._d_.byteLength):this.___resizeBuffer(this._allocated_)}function ua34n(){}function fsw9$2(){}function k5o0bq(C$t){this._id=0,this._name=null,this._resources=null,this._memorySize=0,this._garbageCollectionRate=NaN,this._isOverflow=!1,this.autoRelease=!1,this.autoReleaseMaxSize=0,this._id=++k5o0bq._uniqueIDCounter,this._name=C$t||"Content Manager",k5o0bq._isResourceManagersSorted=!1,this._memorySize=0,this._isOverflow=!1,this.autoRelease=!1,this.autoReleaseMaxSize=536870912,this._garbageCollectionRate=.2,k5o0bq._resourceManagers.push(this),this._resources=[],this._records={}}function i4un(){this._repaint=!1}function ehpzt_(C$t,C$e){switch(this._next=C$e||ehpzt_.NORENDER,C$t){case 0:return void(this._fun=this._no);case 1:return void(this._fun=this._image);case 2:return void(this._fun=this._alpha);case 4:return void(this._fun=this._transform);case 8:return void(this._fun=this._blend);case 16:return void(this._fun=this._canvas);case 64:return void(this._fun=this._mask);case 128:return void(this._fun=this._clip);case 256:return void(this._fun=this._style);case 512:return void(this._fun=this._graphics);case 2048:return void(this._fun=this._childs);case 1024:return void(this._fun=this._custom);case 513:case 517:return void(this._fun=this._image2);case 32:return void(this._fun=C$T._filter);case 69905:return void(this._fun=ehpzt_._initRenderFun)}this.onCreate(C$t)}function hezcpt(C$t,C$e,C$i){this.x=0,this.y=0,this._drawTexture=function(C$t,C$e,C$i){C$i[0].loaded&&this.ctx.drawTexture(C$i[0],C$i[1],C$i[2],C$i[3],C$i[4],C$t,C$e)},this._fillTexture=function(C$t,C$e,C$i){C$i[0].loaded&&this.ctx.fillTexture(C$i[0],C$i[1]+C$t,C$i[2]+C$e,C$i[3],C$i[4],C$i[5],C$i[6],C$i[7])},this._drawTextureWithTransform=function(C$t,C$e,C$i){C$i[0].loaded&&this.ctx.drawTextureWithTransform(C$i[0],C$i[1],C$i[2],C$i[3],C$i[4],C$i[5],C$t,C$e,C$i[6])},this._fillQuadrangle=function(C$t,C$e,C$i){this.ctx.fillQuadrangle(C$i[0],C$i[1],C$i[2],C$i[3],C$i[4])},this._drawRect=function(C$t,C$e,C$i){var C$n=this.ctx;null!=C$i[4]&&(C$n.fillStyle=C$i[4],C$n.fillRect(C$t+C$i[0],C$e+C$i[1],C$i[2],C$i[3],null)),null!=C$i[5]&&(C$n.strokeStyle=C$i[5],C$n.lineWidth=C$i[6],C$n.strokeRect(C$t+C$i[0],C$e+C$i[1],C$i[2],C$i[3],C$i[6]))},this._drawPie=function(C$t,C$e,C$i){var C$n=this.ctx;C$M.isWebGL&&C$n.setPathId(C$i[8]),C$n.beginPath(),C$M.isWebGL?(C$n.movePath(C$i[0]+C$t,C$i[1]+C$e),C$n.moveTo(0,0)):C$n.moveTo(C$t+C$i[0],C$e+C$i[1]),C$n.arc(C$t+C$i[0],C$e+C$i[1],C$i[2],C$i[3],C$i[4]),C$n.closePath(),this._fillAndStroke(C$i[5],C$i[6],C$i[7],!0)},this._clipRect=function(C$t,C$e,C$i){this.ctx.clipRect(C$t+C$i[0],C$e+C$i[1],C$i[2],C$i[3])},this._fillRect=function(C$t,C$e,C$i){this.ctx.fillRect(C$t+C$i[0],C$e+C$i[1],C$i[2],C$i[3],C$i[4])},this._drawCircle=function(C$t,C$e,C$i){var C$n=this.ctx;C$M.isWebGL&&C$n.setPathId(C$i[6]),C$$.drawCall++,C$n.beginPath(),C$M.isWebGL&&C$n.movePath(C$i[0]+C$t,C$i[1]+C$e),C$n.arc(C$i[0]+C$t,C$i[1]+C$e,C$i[2],0,hezcpt.PI2),C$n.closePath(),this._fillAndStroke(C$i[3],C$i[4],C$i[5],!0)},this._fillCircle=function(C$t,C$e,C$i){C$$.drawCall++;var C$n=this.ctx;C$n.beginPath(),C$n.fillStyle=C$i[3],C$n.arc(C$i[0]+C$t,C$i[1]+C$e,C$i[2],0,hezcpt.PI2),C$n.fill()},this._setShader=function(C$t,C$e,C$i){this.ctx.setShader(C$i[0])},this._drawLine=function(C$t,C$e,C$i){var C$n=this.ctx;C$M.isWebGL&&C$n.setPathId(C$i[6]),C$n.beginPath(),C$n.strokeStyle=C$i[4],C$n.lineWidth=C$i[5],C$M.isWebGL?(C$n.movePath(C$t,C$e),C$n.moveTo(C$i[0],C$i[1]),C$n.lineTo(C$i[2],C$i[3])):(C$n.moveTo(C$t+C$i[0],C$e+C$i[1]),C$n.lineTo(C$t+C$i[2],C$e+C$i[3])),C$n.stroke()},this._drawLines=function(C$t,C$e,C$i){var C$n=this.ctx;C$M.isWebGL&&C$n.setPathId(C$i[5]),C$n.beginPath(),C$t+=C$i[0],C$e+=C$i[1],C$M.isWebGL&&C$n.movePath(C$t,C$e),C$n.strokeStyle=C$i[3],C$n.lineWidth=C$i[4];var C$r=C$i[2],C$s=2,C$a=C$r.length;if(C$M.isWebGL)for(C$n.moveTo(C$r[0],C$r[1]);C$s<C$a;)C$n.lineTo(C$r[C$s++],C$r[C$s++]);else for(C$n.moveTo(C$t+C$r[0],C$e+C$r[1]);C$s<C$a;)C$n.lineTo(C$t+C$r[C$s++],C$e+C$r[C$s++]);C$n.stroke()},this._drawLinesWebGL=function(C$t,C$e,C$i){this.ctx.drawLines(C$t+this.x+C$i[0],C$e+this.y+C$i[1],C$i[2],C$i[3],C$i[4])},this._drawCurves=function(C$t,C$e,C$i){this.ctx.drawCurves(C$t,C$e,C$i)},this._draw=function(C$t,C$e,C$i){C$i[0].call(null,this,C$t,C$e)},this._transformByMatrix=function(C$t,C$e,C$i){this.ctx.transformByMatrix(C$i[0])},this._setTransform=function(C$t,C$e,C$i){this.ctx.setTransform(C$i[0],C$i[1],C$i[2],C$i[3],C$i[4],C$i[5])},this._setTransformByMatrix=function(C$t,C$e,C$i){this.ctx.setTransformByMatrix(C$i[0])},this._save=function(C$t,C$e,C$i){this.ctx.save()},this._restore=function(C$t,C$e,C$i){this.ctx.restore()},this._translate=function(C$t,C$e,C$i){this.ctx.translate(C$i[0],C$i[1])},this._transform=function(C$t,C$e,C$i){this.ctx.translate(C$i[1]+C$t,C$i[2]+C$e);var C$n=C$i[0];this.ctx.transform(C$n.a,C$n.b,C$n.c,C$n.d,C$n.tx,C$n.ty),this.ctx.translate(-C$t-C$i[1],-C$e-C$i[2])},this._rotate=function(C$t,C$e,C$i){this.ctx.translate(C$i[1]+C$t,C$i[2]+C$e),this.ctx.rotate(C$i[0]),this.ctx.translate(-C$t-C$i[1],-C$e-C$i[2])},this._scale=function(C$t,C$e,C$i){this.ctx.translate(C$i[2]+C$t,C$i[3]+C$e),this.ctx.scale(C$i[0],C$i[1]),this.ctx.translate(-C$t-C$i[2],-C$e-C$i[3])},this._alpha=function(C$t,C$e,C$i){this.ctx.globalAlpha*=C$i[0]},this._setAlpha=function(C$t,C$e,C$i){this.ctx.globalAlpha=C$i[0]},this._fillText=function(C$t,C$e,C$i){this.ctx.fillText(C$i[0],C$i[1]+C$t,C$i[2]+C$e,C$i[3],C$i[4],C$i[5])},this._strokeText=function(C$t,C$e,C$i){this.ctx.strokeText(C$i[0],C$i[1]+C$t,C$i[2]+C$e,C$i[3],C$i[4],C$i[5],C$i[6])},this._fillBorderText=function(C$t,C$e,C$i){this.ctx.fillBorderText(C$i[0],C$i[1]+C$t,C$i[2]+C$e,C$i[3],C$i[4],C$i[5],C$i[6],C$i[7])},this._blendMode=function(C$t,C$e,C$i){this.ctx.globalCompositeOperation=C$i[0]},this._beginClip=function(C$t,C$e,C$i){this.ctx.beginClip&&this.ctx.beginClip(C$t+C$i[0],C$e+C$i[1],C$i[2],C$i[3])},this._setIBVB=function(C$t,C$e,C$i){this.ctx.setIBVB(C$i[0]+C$t,C$i[1]+C$e,C$i[2],C$i[3],C$i[4],C$i[5],C$i[6],C$i[7])},this._fillTrangles=function(C$t,C$e,C$i){this.ctx.fillTrangles(C$i[0],C$i[1]+C$t,C$i[2]+C$e,C$i[3],C$i[4])},this._drawPath=function(C$t,C$e,C$i){var C$n=this.ctx;C$M.isWebGL&&C$n.setPathId(-1),C$n.beginPath(),C$t+=C$i[0],C$e+=C$i[1],C$M.isWebGL&&C$n.movePath(C$t,C$e);for(var C$r=C$i[2],C$s=0,C$a=C$r.length;C$s<C$a;C$s++){var C$o=C$r[C$s];switch(C$o[0]){case"moveTo":C$M.isWebGL?C$n.moveTo(C$o[1],C$o[2]):C$n.moveTo(C$t+C$o[1],C$e+C$o[2]);break;case"lineTo":C$M.isWebGL?C$n.lineTo(C$o[1],C$o[2]):C$n.lineTo(C$t+C$o[1],C$e+C$o[2]);break;case"arcTo":C$M.isWebGL?C$n.arcTo(C$o[1],C$o[2],C$o[3],C$o[4],C$o[5]):C$n.arcTo(C$t+C$o[1],C$e+C$o[2],C$t+C$o[3],C$e+C$o[4],C$o[5]);break;case"closePath":C$n.closePath()}}var C$h=C$i[3];null!=C$h&&(C$n.fillStyle=C$h.fillStyle,C$n.fill());C$h=C$i[4];null!=C$h&&(C$n.strokeStyle=C$h.strokeStyle,C$n.lineWidth=C$h.lineWidth||1,C$n.lineJoin=C$h.lineJoin,C$n.lineCap=C$h.lineCap,C$n.miterLimit=C$h.miterLimit,C$n.stroke())},this.drawPoly=function(C$t,C$e,C$i){this.ctx.drawPoly(C$t+this.x+C$i[0],C$e+this.y+C$i[1],C$i[2],C$i[3],C$i[4],C$i[5],C$i[6])},this._drawPoly=function(C$t,C$e,C$i){var C$n=this.ctx,C$r=C$i[2],C$s=2,C$a=C$r.length;if(C$M.isWebGL)for(C$n.setPathId(C$i[6]),C$n.beginPath(),C$t+=C$i[0],C$e+=C$i[1],C$n.movePath(C$t,C$e),C$n.moveTo(C$r[0],C$r[1]);C$s<C$a;)C$n.lineTo(C$r[C$s++],C$r[C$s++]);else for(C$n.beginPath(),C$t+=C$i[0],C$e+=C$i[1],C$n.moveTo(C$t+C$r[0],C$e+C$r[1]);C$s<C$a;)C$n.lineTo(C$t+C$r[C$s++],C$e+C$r[C$s++]);C$n.closePath(),this._fillAndStroke(C$i[3],C$i[4],C$i[5],C$i[7])},this._drawSkin=function(C$t,C$e,C$i){C$i=C$i[0];var C$n;C$i&&(C$n=this.ctx,C$i.render(C$n,C$t,C$e))},this._drawParticle=function(C$t,C$e,C$i){this.ctx.drawParticle(C$t+this.x,C$e+this.y,C$i[0])},this._setFilters=function(C$t,C$e,C$i){this.ctx.setFilters(C$i)},C$i?this.ctx=C$i.getContext("2d"):(C$i=C$gt.create("3D"),this.ctx=C$m.createWebGLContext2D(C$i),C$i._setContext(this.ctx)),C$i.size(C$t,C$e),this.canvas=C$i}function tpczeh(C$t,C$e){this._timeId=0;var C$i=tpczeh._mainCanvas.source.style;C$i.position="absolute",C$i.top=C$i.left="0px",C$i.background="#000000",tpczeh._mainCanvas.source.id="layaCanvas";C$i=laya.renders.Render.isWebGL;tpczeh._mainCanvas.source.width=C$t,tpczeh._mainCanvas.source.height=C$e,C$i&&tpczeh.WebGL.init(tpczeh._mainCanvas,C$t,C$e),C$S.container.appendChild(tpczeh._mainCanvas.source),(tpczeh._context=new C$z(C$t,C$e,C$i?null:tpczeh._mainCanvas)).ctx.setIsMainContext(),C$S.window.requestAnimationFrame(function _thpz(C$t){C$S.window.requestAnimationFrame(_thpz),C$b.stage._loop()}),C$b.stage.on("visibilitychange",this,this._onVisibilitychange)}function $s92fw(C$t){this._url=null,this._path=null,this._url=$s92fw.formatURL(C$t),this._path=$s92fw.getPath(C$t)}function g6dkb0(){this.fontName=null,this.complete=null,this.err=null,this._fontTxt=null,this._url=null,this._div=null,this._txtWidth=NaN,this._http=null}function q5boy(){}function jo5yv(){}var C$kt;function ua34(){}function tzhp_(C$t,C$e,C$i,C$n){void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0),void 0===C$n&&(C$n=0),this.x=C$t=void 0===C$t?0:C$t,this.y=C$e,this.width=C$i,this.height=C$n}function zpeht(C$t,C$e){void 0===C$e&&(C$e=0),this.x=C$t=void 0===C$t?0:C$t,this.y=C$e}function royj7v(C$t,C$e,C$i,C$n,C$r,C$s){this.inPool=!1,this.bTransform=!1,void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0),void 0===C$n&&(C$n=1),void 0===C$r&&(C$r=0),void 0===C$s&&(C$s=0),this.a=C$t=void 0===C$t?1:C$t,this.b=C$e,this.c=C$i,this.d=C$n,this.tx=C$r,this.ty=C$s,this._checkTransform()}function xni17(){}function rx7jvi(){}function x1n43(){this._controlPoints=[new C$R,new C$R,new C$R],this._calFun=this.getPoint2}function hzt6c(){}function qyob50(){this.data=null}function un1a4(){this._action=null}function gc6d8k(){this.preOvers=[],this.preDowns=[],this.preRightDowns=[],this.enable=!0,this._lastClickTime=0,this._event=new C$p}function okq5b0(){this.mouseX=0,this.mouseY=0,this.disableMouseEvent=!1,this.mouseDownTime=0,this.mouseEventTime=C$S.now(),this.mouseMoveAccuracy=2,this._stage=null,this._target=null,this._lastMoveTimer=0,this._isLeftMouse=!1,this._eventList=[],this._touchIDs={},this._id=1,this._tTouchID=0,this._event=new C$p,this._matrix=new C$I,this._point=new C$R,this._rect=new C$P,this._prePoint=new C$R,this._curTouchID=NaN}function roy5bq(){}function y05obq(){}function m3au(){}function nx7vij(){}function dck6g(){this._cacheBoundsType=!1}function tpezch(){this._one=null,this._cmds=null,this._render=this._renderEmpty,C$M.isConchNode&&(this._nativeObj=new C$s._conchGraphics,this.id=this._nativeObj.conchID)}function e_w2pz(){this.translateX=0,this.translateY=0,this.scaleX=1,this.scaleY=1,this.rotate=0,this.skewX=0,this.skewY=0}function qg5k0(C$t){this._type=0,this._weight=0,this._decoration=null,this._text=null,this.indent=0,this._color=C$H.create(qg5k0.defaultColor),this.family=qg5k0.defaultFamily,this.stroke=qg5k0._STROKE,this.size=qg5k0.defaultSize,C$t&&C$t!==qg5k0.EMPTY&&C$t.copyTo(this)}function w92f(){this.alpha=1,this.visible=!0,this.scrollRect=null,this.blendMode=null,this._type=0,this._tf=w92f._TF_EMPTY}function ry5bqo(){this._texture=null,this._fontCharDic={},this._fontWidthMap={},this._complete=null,this._path=null,this._maxWidth=0,this._spaceWidth=10,this._padding=null,this.fontSize=12,this.autoScaleSize=!1,this.letterSpacing=0}function gdtc68(C$t,C$e,C$i,C$n){this.once=!1,void(this._id=0)===C$n&&(C$n=!1),this.setTo(C$t,C$e,C$i,C$n)}function e9pw2_(){this._events=null}var C$e;function n1ua4(){}function by0q5o(){}C$b.__init([C$l,C$lt,C$M,C$S,C$K,C$B,C$ct,C$bt])}(window,document,gvj7xry),function(){gvj7xry.un,gvj7xry.uns,gvj7xry.static;var C$t=gvj7xry.class;function cdg8k6(){}gvj7xry.getset,gvj7xry.__newvec,C$t(cdg8k6,"LayaMain")}((window,document)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$t,C$e){"use strict";for(var C$i in Object.defineProperty(C$e,"__esModule",{value:!0}),gvj7xry){var C$n=gvj7xry[C$i];C$n&&C$n.__isclass&&(C$e[C$i]=C$n)}}),function(C$g){C$g.un,C$g.uns;var C$r=C$g.static,C$e=C$g.class,C$s=C$g.getset,C$a=C$g.__newvec,C$h=laya.maths.Arith,C$c=laya.maths.Bezier,C$o=laya.resource.Bitmap,C$_=laya.utils.Browser,C$d=laya.utils.Byte,C$f=laya.utils.Color,C$m=(laya.filters.ColorFilter,C$g.Config),C$p=laya.resource.Context,C$y=(laya.events.Event,laya.filters.Filter),C$t=laya.display.Graphics,C$v=laya.resource.HTMLCanvas,C$x=(laya.utils.HTMLChar,laya.resource.HTMLImage),C$b=laya.resource.HTMLSubImage,C$w=(laya.utils.Handler,laya.net.Loader,laya.maths.Matrix),C$T=laya.maths.Point,C$M=laya.maths.Rectangle,C$S=laya.renders.Render,C$C=(laya.renders.RenderContext,laya.renders.RenderSprite),C$D=laya.resource.Resource,C$E=laya.resource.ResourceManager,C$A=laya.utils.RunDriver,C$I=laya.display.Sprite,C$R=laya.display.Stage,C$P=laya.utils.Stat,C$L=laya.utils.StringKey,C$B=(laya.display.css.Style,laya.system.System),C$k=laya.display.Text,C$N=laya.resource.Texture,C$z=(laya.display.css.TransformInfo,laya.net.URL,laya.utils.Utils),C$O=laya.utils.VectorGraphManager;laya.utils.WordText,C$g.interface("laya.webgl.shapes.IShape"),C$g.interface("laya.webgl.submit.ISubmit"),C$g.interface("laya.webgl.text.ICharSegment"),C$g.interface("laya.webgl.canvas.save.ISaveData"),C$g.interface("laya.webgl.resource.IMergeAtlasBitmap"),C$g.interface("laya.filters.IFilterActionGL","laya.filters.IFilterAction");C$e(f2$_,"laya.filters.webgl.FilterActionGL"),C$F=f2$_.prototype,C$g.imps(C$F,{"laya.filters.IFilterActionGL":!0}),C$F.setValue=function(C$t){},C$F.setValueMix=function(C$t){},C$F.apply3d=function(C$t,C$e,C$i,C$n,C$r){return null},C$F.apply=function(C$t){return null},C$s(0,C$F,"typeMix",function(){return 0});var C$F=f2$_,C$V=(C$e(g0d86,"laya.webgl.shader.ShaderValue"),g0d86),C$j=(C$e(_$2fw9,"laya.webgl.atlas.AtlasGrid"),(C$j=_$2fw9.prototype).getAltasID=function(){return this._atlasID},C$j.setAltasID=function(C$t){0<=C$t&&(this._atlasID=C$t)},C$j.addTex=function(C$t,C$e,C$i){var C$n=this._get(C$e,C$i);return 0==C$n.ret||(this._fill(C$n.x,C$n.y,C$e,C$i,C$t),this._texCount++),C$n},C$j._release=function(){null!=this._cells&&(this._cells.length=0,this._cells=null),this._rowInfo&&(this._rowInfo.length=0,this._rowInfo=null)},C$j._init=function(C$t,C$e){if(this._width=C$t,this._height=C$e,this._release(),0==this._width)return!1;this._cells=new Uint8Array(this._width*this._height*3),this._rowInfo=C$a(this._height);for(var C$i=0;C$i<this._height;C$i++)this._rowInfo[C$i]=new C$ue;return this._clear(),!0},C$j._get=function(C$t,C$e){var C$i=new C$q;if(C$t>=this._failSize.width&&C$e>=this._failSize.height)return C$i;for(var C$n,C$r=-1,C$u=this._width,C$c=this._height,C$s=this._cells,C$a=0;C$a<C$c;C$a++)if(!(this._rowInfo[C$a].spaceCount<C$t))for(var C$o=0;C$o<C$u;){var C$h=3*(C$a*C$u+C$o);if(0!=C$s[C$h]||C$s[1+C$h]<C$t||C$s[2+C$h]<C$e)C$o+=C$s[1+C$h];else{C$r=C$o,C$n=C$a;for(var C$l=0;C$l<C$t;C$l++)if(C$s[3*C$l+C$h+2]<C$e){C$r=-1;break}if(!(C$r<0))return C$i.ret=!0,C$i.x=C$r,C$i.y=C$n,C$i;C$o+=C$s[1+C$h]}}return C$i},C$j._fill=function(C$t,C$e,C$i,C$n,C$r){var C$s=this._width,C$u=this._height;this._check(C$t+C$i<=C$s&&C$e+C$n<=C$u);for(var C$a=C$e;C$a<C$n+C$e;++C$a){this._check(this._rowInfo[C$a].spaceCount>=C$i),this._rowInfo[C$a].spaceCount-=C$i;for(var C$o=0;C$o<C$i;C$o++){var C$h=3*(C$t+C$a*C$s+C$o);this._check(0==this._cells[C$h]),this._cells[C$h]=C$r,this._cells[1+C$h]=C$i,this._cells[2+C$h]=C$n}}if(0<C$t)for(C$a=0;C$a<C$n;++C$a){var C$l=0;for(C$o=C$t-1;0<=C$o&&0==this._cells[3*((C$e+C$a)*C$s+C$o)];--C$o,++C$l);for(C$o=C$l;0<C$o;--C$o)this._cells[3*((C$e+C$a)*C$s+C$t-C$o)+1]=C$o,this._check(0<C$o)}if(0<C$e)for(C$o=C$t;C$o<C$t+C$i;++C$o){for(C$l=0,C$a=C$e-1;0<=C$a&&0==this._cells[3*(C$o+C$a*C$s)];--C$a,C$l++);for(C$a=C$l;0<C$a;--C$a)this._cells[3*(C$o+(C$e-C$a)*C$s)+2]=C$a,this._check(0<C$a)}},C$j._check=function(C$t){0==C$t&&console.log("xtexMerger \u9519\u8bef\u5566")},C$j._clear=function(){for(var C$t=this._texCount=0;C$t<this._height;C$t++)this._rowInfo[C$t].spaceCount=this._width;for(var C$e=0;C$e<this._height;C$e++)for(var C$i=0;C$i<this._width;C$i++){var C$n=3*(C$e*this._width+C$i);this._cells[C$n]=0,this._cells[1+C$n]=this._width-C$i,this._cells[2+C$n]=this._width-C$e}this._failSize.width=this._width+1,this._failSize.height=this._height+1},_$2fw9.__init$=function(){function vjoy(){this.width=0,this.height=0}function vqory(){this.spaceCount=0}C$e(vqory,""),C$ue=vqory,C$e(vjoy,""),C$ce=vjoy},_$2fw9),C$U=(C$e(ht6c8d,"laya.webgl.atlas.AtlasResourceManager"),(C$i=ht6c8d.prototype).setAtlasParam=function(C$t,C$e,C$i,C$n){if(1==this._setAtlasParam)return ht6c8d._sid_=0,this._width=C$t,this._height=C$e,this._gridSize=C$i,this._maxAtlaserCount=C$n,this._gridNumX=C$t/C$i,this._gridNumY=C$e/C$i,this._curAtlasIndex=0,this.freeAll(),!0;throw console.log("\u8bbe\u7f6e\u5927\u56fe\u5408\u96c6\u53c2\u6570\u9519\u8bef\uff0c\u53ea\u80fd\u5728\u5f00\u59cb\u9875\u9762\u8bbe\u7f6e\u5404\u79cd\u53c2\u6570"),-1},C$i.pushData=function(C$t){var C$e,C$i=C$t.bitmap,C$n=-1,C$r=null,C$s=0,C$a=0;for(C$s=0,C$e=this._atlaserArray.length;C$s<C$e&&(C$a=(this._curAtlasIndex+C$s)%C$e,-1==(C$n=(C$r=this._atlaserArray[C$a]).findBitmapIsExist(C$i)));C$s++);var C$u;if(-1!=C$n)return C$h=(C$u=C$r.InAtlasWebGLImagesOffsetValue[C$n])[0],C$l=C$u[1],C$r.addToAtlas(C$t,C$h,C$l),!0;this._setAtlasParam=!1;for(var C$c=Math.ceil((C$t.bitmap.width+2)/this._gridSize),C$_=Math.ceil((C$t.bitmap.height+2)/this._gridSize),C$o=!1,C$d=0;C$d<2;C$d++){var C$f=this._maxAtlaserCount;for(C$s=0;C$s<C$f;C$s++){C$a=(this._curAtlasIndex+C$s)%C$f,this._atlaserArray.length-1>=C$a||this._atlaserArray.push(new C$St(this._gridNumX,this._gridNumY,this._width,this._height,ht6c8d._sid_++));var C$p=this._atlaserArray[C$a],C$h=0,C$l=0,C$m=C$p.addTex(1,C$c,C$_);if(C$m.ret){C$h=C$m.x*this._gridSize+1,C$l=C$m.y*this._gridSize+1,C$i.lock=!0,C$p.addToAtlasTexture(C$i,C$h,C$l),C$p.addToAtlas(C$t,C$h,C$l),C$o=!0,this._curAtlasIndex=C$a;break}}if(C$o)break;this._atlaserArray.push(new C$St(this._gridNumX,this._gridNumY,this._width,this._height,ht6c8d._sid_++)),this._needGC=!0,this.garbageCollection(),this._curAtlasIndex=this._atlaserArray.length-1}return C$o||console.log(">>>AtlasManager pushData error"),C$o},C$i.addToAtlas=function(C$t){laya.webgl.atlas.AtlasResourceManager.instance.pushData(C$t)},C$i.garbageCollection=function(){if(!0===this._needGC){for(var C$t=this._atlaserArray.length-this._maxAtlaserCount,C$e=0;C$e<C$t;C$e++)this._atlaserArray[C$e].dispose(),console.log("AtlasResourceManager:Dispose the inner Atlas\u3002");console.log(">>>>altas garbageCollection ="+C$t),this._atlaserArray.splice(0,C$t),this._needGC=!1}return!0},C$i.freeAll=function(){for(var C$t=0,C$e=this._atlaserArray.length;C$t<C$e;C$t++)this._atlaserArray[C$t].dispose();this._atlaserArray.length=0,this._curAtlasIndex=0},C$i.getAtlaserCount=function(){return this._atlaserArray.length},C$i.getAtlaserByIndex=function(C$t){return this._atlaserArray[C$t]},C$s(1,ht6c8d,"instance",function(){return ht6c8d._Instance=ht6c8d._Instance?ht6c8d._Instance:new ht6c8d(laya.webgl.atlas.AtlasResourceManager.atlasTextureWidth,laya.webgl.atlas.AtlasResourceManager.atlasTextureHeight,16,laya.webgl.atlas.AtlasResourceManager.maxTextureCount)}),C$s(1,ht6c8d,"enabled",function(){return C$m.atlasEnable}),C$s(1,ht6c8d,"atlasLimitWidth",function(){return ht6c8d._atlasLimitWidth},function(C$t){ht6c8d._atlasLimitWidth=C$t}),C$s(1,ht6c8d,"atlasLimitHeight",function(){return ht6c8d._atlasLimitHeight},function(C$t){ht6c8d._atlasLimitHeight=C$t}),ht6c8d._enable=function(){C$m.atlasEnable=!0},ht6c8d._disable=function(){C$m.atlasEnable=!1},ht6c8d.__init__=function(){ht6c8d.atlasTextureWidth=2048,ht6c8d.atlasTextureHeight=2048,ht6c8d.maxTextureCount=6,ht6c8d.atlasLimitWidth=512,ht6c8d.atlasLimitHeight=512},ht6c8d._atlasLimitWidth=0,ht6c8d._atlasLimitHeight=0,ht6c8d.gridSize=16,ht6c8d.atlasTextureWidth=0,ht6c8d.atlasTextureHeight=0,ht6c8d.maxTextureCount=0,ht6c8d._atlasRestore=0,ht6c8d.BOARDER_TYPE_NO=0,ht6c8d.BOARDER_TYPE_RIGHT=1,ht6c8d.BOARDER_TYPE_LEFT=2,ht6c8d.BOARDER_TYPE_BOTTOM=4,ht6c8d.BOARDER_TYPE_TOP=8,ht6c8d.BOARDER_TYPE_ALL=15,ht6c8d._sid_=0,ht6c8d._Instance=null,ht6c8d),C$q=(C$e(ua31l4,"laya.webgl.atlas.MergeFillInfo"),ua31l4),C$H=(C$e(zh_pe2,"laya.webgl.canvas.BlendMode"),zh_pe2._init_=function(C$t){zh_pe2.fns=[zh_pe2.BlendNormal,zh_pe2.BlendAdd,zh_pe2.BlendMultiply,zh_pe2.BlendScreen,zh_pe2.BlendOverlay,zh_pe2.BlendLight,zh_pe2.BlendMask,zh_pe2.BlendDestinationOut],zh_pe2.targetFns=[zh_pe2.BlendNormalTarget,zh_pe2.BlendAddTarget,zh_pe2.BlendMultiplyTarget,zh_pe2.BlendScreenTarget,zh_pe2.BlendOverlayTarget,zh_pe2.BlendLightTarget,zh_pe2.BlendMask,zh_pe2.BlendDestinationOut]},zh_pe2.BlendNormal=function(C$t){C$t.blendFunc(1,771)},zh_pe2.BlendAdd=function(C$t){C$t.blendFunc(1,772)},zh_pe2.BlendMultiply=function(C$t){C$t.blendFunc(774,771)},zh_pe2.BlendScreen=function(C$t){C$t.blendFunc(1,1)},zh_pe2.BlendOverlay=function(C$t){C$t.blendFunc(1,769)},zh_pe2.BlendLight=function(C$t){C$t.blendFunc(1,1)},zh_pe2.BlendNormalTarget=function(C$t){C$t.blendFunc(1,771)},zh_pe2.BlendAddTarget=function(C$t){C$t.blendFunc(1,772)},zh_pe2.BlendMultiplyTarget=function(C$t){C$t.blendFunc(774,771)},zh_pe2.BlendScreenTarget=function(C$t){C$t.blendFunc(1,1)},zh_pe2.BlendOverlayTarget=function(C$t){C$t.blendFunc(1,769)},zh_pe2.BlendLightTarget=function(C$t){C$t.blendFunc(1,1)},zh_pe2.BlendMask=function(C$t){C$t.blendFunc(0,770)},zh_pe2.BlendDestinationOut=function(C$t){C$t.blendFunc(0,0)},zh_pe2.activeBlendFunction=null,zh_pe2.NAMES=["normal","add","multiply","screen","overlay","light","mask","destination-out"],zh_pe2.TOINT={normal:0,add:1,multiply:2,screen:3,lighter:1,overlay:4,light:5,mask:6,"destination-out":7},zh_pe2.NORMAL="normal",zh_pe2.ADD="add",zh_pe2.MULTIPLY="multiply",zh_pe2.SCREEN="screen",zh_pe2.LIGHT="light",zh_pe2.OVERLAY="overlay",zh_pe2.DESTINATIONOUT="destination-out",zh_pe2.fns=[],zh_pe2.targetFns=[],zh_pe2),C$W=(C$e(a3ul,"laya.webgl.canvas.DrawStyle"),(C$i=a3ul.prototype).setValue=function(C$t){C$t&&("string"!=typeof C$t?C$t instanceof laya.utils.Color&&(this._color=C$t):this._color=C$f.create(C$t))},C$i.reset=function(){this._color=C$f.create("black")},C$i.equal=function(C$t){return"string"==typeof C$t?this._color.strColor===C$t:C$t instanceof laya.utils.Color&&this._color.numColor===C$t.numColor},C$i.toColorStr=function(){return this._color.strColor},a3ul.create=function(C$t){var C$e;return C$t&&("string"==typeof C$t?C$e=C$f.create(C$t):C$t instanceof laya.utils.Color&&(C$e=C$t),C$e)?C$e._drawStyle||(C$e._drawStyle=new a3ul(C$t)):laya.webgl.canvas.DrawStyle.DEFAULT},C$r(a3ul,["DEFAULT",function(){return this.DEFAULT=new a3ul("#000000")}]),a3ul),C$G=(C$e($ws92f,"laya.webgl.canvas.Path"),(C$i=$ws92f.prototype).addPoint=function(C$t,C$e){this.tempArray.push(C$t,C$e)},C$i.getEndPointX=function(){return this.tempArray[this.tempArray.length-2]},C$i.getEndPointY=function(){return this.tempArray[this.tempArray.length-1]},C$i.polygon=function(C$t,C$e,C$i,C$n,C$r,C$s){return this.geomatrys.push(this._curGeomatry=C$t=new C$At(C$t,C$e,C$i,C$n,C$r,C$s)),C$n||(C$t.fill=!1),null==C$s&&(C$t.borderWidth=0),C$t},C$i.setGeomtry=function(C$t){this.geomatrys.push(this._curGeomatry=C$t)},C$i.drawLine=function(C$t,C$e,C$i,C$n,C$r){var C$s;return this.closePath?this.geomatrys.push(this._curGeomatry=C$s=new C$Et(C$t,C$e,C$i,C$n,C$r)):this.geomatrys.push(this._curGeomatry=C$s=new C$Dt(C$t,C$e,C$i,C$n,C$r)),C$s.fill=!1,C$s},C$i.update=function(){var C$t=this.ib._byteLength,C$e=this.geomatrys.length;this.offset=C$t;for(var C$i=this.geoStart;C$i<C$e;C$i++)this.geomatrys[C$i].getData(this.ib,this.vb,this.vb._byteLength/20);this.geoStart=C$e,this.count=(this.ib._byteLength-C$t)/C$mt.BYTES_PIDX},C$i.reset=function(){this.vb.clear(),this.ib.clear(),this.offset=this.count=this.geoStart=0,this.geomatrys.length=0},C$i.recover=function(){this._curGeomatry=null,this.vb.destory(),this.vb=null,this.ib.destory(),this.ib=null},$ws92f),C$Y=(C$e(jo7yvr,"laya.webgl.canvas.save.SaveBase"),C$i=jo7yvr.prototype,C$g.imps(C$i,{"laya.webgl.canvas.save.ISaveData":!0}),C$i.isSaveMark=function(){return!1},C$i.restore=function(C$t){this._dataObj[this._valueName]=this._value,(jo7yvr._cache[jo7yvr._cache._length++]=this)._newSubmit&&(C$t._curSubmit=C$at.RENDERBASE,C$t._renderKey=0)},jo7yvr._createArray=function(){var C$t=[];return C$t._length=0,C$t},jo7yvr._init=function(){var C$t=jo7yvr._namemap={};return C$t[1]="ALPHA",C$t[2]="fillStyle",C$t[8]="font",C$t[256]="lineWidth",C$t[512]="strokeStyle",C$t[8192]="_mergeID",C$t[1024]=C$t[2048]=C$t[4096]=[],C$t[16384]="textBaseline",C$t[32768]="textAlign",C$t[65536]="_nBlendType",C$t[1048576]="shader",C$t[2097152]="filters",C$t},jo7yvr.save=function(C$t,C$e,C$i,C$n){var C$r;(C$t._saveMark._saveuse&C$e)!==C$e&&(C$t._saveMark._saveuse|=C$e,(C$r=0<(C$r=jo7yvr._cache)._length?C$r[--C$r._length]:new jo7yvr)._value=C$i[C$r._valueName=jo7yvr._namemap[C$e]],C$r._dataObj=C$i,C$r._newSubmit=C$n,(C$e=C$t._save)[C$e._length++]=C$r)},jo7yvr._cache=laya.webgl.canvas.save.SaveBase._createArray(),jo7yvr._namemap=jo7yvr._init(),jo7yvr),C$X=(C$e(dgc68t,"laya.webgl.canvas.save.SaveClipRect"),C$i=dgc68t.prototype,C$g.imps(C$i,{"laya.webgl.canvas.save.ISaveData":!0}),C$i.isSaveMark=function(){return!1},C$i.restore=function(C$t){C$t._clipRect=this._clipSaveRect,(dgc68t._cache[dgc68t._cache._length++]=this)._submitScissor.submitLength=C$t._submits._length-this._submitScissor.submitIndex,C$t._curSubmit=C$at.RENDERBASE,C$t._renderKey=0},dgc68t.save=function(C$t,C$e){var C$i;131072!=(131072&C$t._saveMark._saveuse)&&(C$t._saveMark._saveuse|=131072,(C$i=0<(C$i=dgc68t._cache)._length?C$i[--C$i._length]:new dgc68t)._clipSaveRect=C$t._clipRect,C$t._clipRect=C$i._clipRect.copyFrom(C$t._clipRect),C$i._submitScissor=C$e,(C$e=C$t._save)[C$e._length++]=C$i)},C$r(dgc68t,["_cache",function(){return this._cache=C$Y._createArray()}]),dgc68t),C$$=(C$e(gd8ck6,"laya.webgl.canvas.save.SaveClipRectStencil"),C$i=gd8ck6.prototype,C$g.imps(C$i,{"laya.webgl.canvas.save.ISaveData":!0}),C$i.isSaveMark=function(){return!1},C$i.restore=function(C$t){C$ct.restore(C$t,this._rect,this._saveMatrix,this._contextX,this._contextY),C$t._clipRect=this._clipSaveRect,C$t._curMat=this._saveMatrix,C$t._x=this._contextX,C$t._y=this._contextY,gd8ck6._cache[gd8ck6._cache._length++]=this,C$t._curSubmit=C$at.RENDERBASE},gd8ck6.save=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$u){var C$l;262144!=(262144&C$t._saveMark._saveuse)&&(C$t._saveMark._saveuse|=262144,(C$l=0<(C$l=gd8ck6._cache)._length?C$l[--C$l._length]:new gd8ck6)._clipSaveRect=C$t._clipRect,C$l._clipRect.setTo(C$a,C$o,C$h,C$u),C$t._clipRect=C$l._clipRect,C$l._rect.x=C$i,C$l._rect.y=C$n,C$l._rect.width=C$r,C$l._rect.height=C$s,C$l._contextX=C$t._x,C$l._contextY=C$t._y,C$l._saveMatrix=C$t._curMat,C$t._curMat.copyTo(C$l._matrix),C$t._curMat=C$l._matrix,C$l._submitStencil=C$e,(C$a=C$t._save)[C$a._length++]=C$l)},C$r(gd8ck6,["_cache",function(){return this._cache=C$Y._createArray()}]),gd8ck6),C$K=(C$e(hzep_,"laya.webgl.canvas.save.SaveMark"),C$i=hzep_.prototype,C$g.imps(C$i,{"laya.webgl.canvas.save.ISaveData":!0}),C$i.isSaveMark=function(){return!0},C$i.restore=function(C$t){C$t._saveMark=this._preSaveMark,hzep_._no[hzep_._no._length++]=this},hzep_.Create=function(C$t){var C$e=hzep_._no,C$e=0<C$e._length?C$e[--C$e._length]:new hzep_;return C$e._saveuse=0,C$e._preSaveMark=C$t._saveMark,C$t._saveMark=C$e},C$r(hzep_,["_no",function(){return this._no=C$Y._createArray()}]),hzep_),C$Z=(C$e(l3mua4,"laya.webgl.canvas.save.SaveTransform"),C$i=l3mua4.prototype,C$g.imps(C$i,{"laya.webgl.canvas.save.ISaveData":!0}),C$i.isSaveMark=function(){return!1},C$i.restore=function(C$t){C$t._curMat=this._savematrix,l3mua4._no[l3mua4._no._length++]=this},l3mua4.save=function(C$t){var C$e=C$t._saveMark;2048!=(2048&C$e._saveuse)&&(C$e._saveuse|=2048,(C$e=0<(C$e=l3mua4._no)._length?C$e[--C$e._length]:new l3mua4)._savematrix=C$t._curMat,C$t._curMat=C$t._curMat.copyTo(C$e._matrix),(C$t=C$t._save)[C$t._length++]=C$e)},C$r(l3mua4,["_no",function(){return this._no=C$Y._createArray()}]),l3mua4),C$Q=(C$e(ixn7v,"laya.webgl.canvas.save.SaveTranslate"),C$i=ixn7v.prototype,C$g.imps(C$i,{"laya.webgl.canvas.save.ISaveData":!0}),C$i.isSaveMark=function(){return!1},C$i.restore=function(C$t){C$t._curMat,C$t._x=this._x,C$t._y=this._y,ixn7v._no[ixn7v._no._length++]=this},ixn7v.save=function(C$t){var C$e=ixn7v._no,C$e=0<C$e._length?C$e[--C$e._length]:new ixn7v;C$e._x=C$t._x,C$e._y=C$t._y;C$t=C$t._save;C$t[C$t._length++]=C$e},C$r(ixn7v,["_no",function(){return this._no=C$Y._createArray()}]),ixn7v),C$J=(C$e(ni7xvj,"laya.webgl.resource.RenderTargetMAX"),(C$i=ni7xvj.prototype).setSP=function(C$t){this._sp=C$t},C$i.size=function(C$t,C$e){var C$i=this;this._width!==C$t||this._height!==C$e?(this.repaint=!0,this._width=C$t,this._height=C$e,this.target?this.target.size(C$t,C$e):this.target=C$Bt.create(C$t,C$e),this.target.hasListener("recovered")||this.target.on("recovered",this,function(C$t){C$g.timer.callLater(C$i._sp,C$i._sp.repaint)})):this.target.size(C$t,C$e)},C$i._flushToTarget=function(C$t,C$e){var C$i,C$n,C$r,C$s,C$a,C$o,C$h;C$e._destroy||(C$i=C$l.worldScissorTest,C$n=C$l.worldClipRect,C$l.worldClipRect=this._clipRect,this._clipRect.x=this._clipRect.y=0,this._clipRect.width=this._width,this._clipRect.height=this._height,C$l.worldScissorTest=!1,C$u.mainContext.disable(3089),C$r=C$l.worldAlpha,C$s=C$l.worldMatrix4,C$a=C$l.worldMatrix,C$o=C$l.worldFilters,C$h=C$l.worldShaderDefines,C$l.worldMatrix=C$w.EMPTY,C$l.restoreTempArray(),C$l.worldMatrix4=C$l.TEMPMAT4_ARRAY,C$l.worldAlpha=1,C$l.worldFilters=null,C$l.worldShaderDefines=null,C$Lt.activeShader=null,C$e.start(),C$m.showCanvasMark?C$e.clear(0,1,0,.3):C$e.clear(0,0,0,0),C$t.flush(),C$e.end(),C$Lt.activeShader=null,C$l.worldAlpha=C$r,C$l.worldMatrix4=C$s,C$l.worldMatrix=C$a,C$l.worldFilters=C$o,C$l.worldShaderDefines=C$h,(C$l.worldScissorTest=C$i)&&(C$t=C$l.height-C$n.y-C$n.height,C$u.mainContext.scissor(C$n.x,C$t,C$n.width,C$n.height),C$u.mainContext.enable(3089)),C$l.worldClipRect=C$n)},C$i.flush=function(C$t){this.repaint&&(this._flushToTarget(C$t,this.target),this.repaint=!1)},C$i.drawTo=function(C$t,C$e,C$i,C$n,C$r){C$t.drawTexture(this.target.getTexture(),C$e,C$i,C$n,C$r,0,0)},C$i.destroy=function(){this.target&&(this.target.destroy(),this.target=null,this._sp=null)},ni7xvj),C$tt=(C$e(p_eh2z,"laya.webgl.shader.d2.Shader2D"),p_eh2z.prototype.destroy=function(){this.defines=null,this.filters=null,this.glTexture=null,this.strokeStyle=null,this.fillStyle=null},p_eh2z.__init__=function(){C$Gt.addInclude("parts/ColorFilter_ps_uniform.glsl","uniform vec4 colorAlpha;\nuniform mat4 colorMat;"),C$Gt.addInclude("parts/ColorFilter_ps_logic.glsl","mat4 alphaMat =colorMat;\n\nalphaMat[0][3] *= gl_FragColor.a;\nalphaMat[1][3] *= gl_FragColor.a;\nalphaMat[2][3] *= gl_FragColor.a;\n\ngl_FragColor = gl_FragColor * alphaMat;\ngl_FragColor += colorAlpha/255.0*gl_FragColor.a;\n"),C$Gt.addInclude("parts/GlowFilter_ps_uniform.glsl","uniform vec4 u_color;\nuniform float u_strength;\nuniform float u_blurX;\nuniform float u_blurY;\nuniform float u_offsetX;\nuniform float u_offsetY;\nuniform float u_textW;\nuniform float u_textH;"),C$Gt.addInclude("parts/GlowFilter_ps_logic.glsl","const float c_IterationTime = 10.0;\nfloat floatIterationTotalTime = c_IterationTime * c_IterationTime;\nvec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\nvec2 vec2FilterDir = vec2(-(u_offsetX)/u_textW,-(u_offsetY)/u_textH);\nvec2 vec2FilterOff = vec2(u_blurX/u_textW/c_IterationTime * 2.0,u_blurY/u_textH/c_IterationTime * 2.0);\nfloat maxNum = u_blurX * u_blurY;\nvec2 vec2Off = vec2(0.0,0.0);\nfloat floatOff = c_IterationTime/2.0;\nfor(float i = 0.0;i<=c_IterationTime; ++i){\n\tfor(float j = 0.0;j<=c_IterationTime; ++j){\n\t\tvec2Off = vec2(vec2FilterOff.x * (i - floatOff),vec2FilterOff.y * (j - floatOff));\n\t\tvec4 vec4Color2 = texture2D(texture, v_texcoord + vec2FilterDir + vec2Off); \n\n      #ifdef TXTALPHA\n   vec4Color2.a = texture2D(texture1, v_texcoord + vec2FilterDir + vec2Off).a;\n   #endif\n\n    vec4Color += vec4Color2/floatIterationTotalTime;        \n\t}\n}\ngl_FragColor = vec4(u_color.rgb,vec4Color.a * u_strength);\ngl_FragColor.rgb *= gl_FragColor.a;"),C$Gt.addInclude("parts/BlurFilter_ps_logic.glsl","gl_FragColor =   blur();\ngl_FragColor.w*=alpha;"),C$Gt.addInclude("parts/BlurFilter_ps_uniform.glsl","uniform vec4 strength_sig2_2sig2_gauss1;\nuniform vec2 blurInfo;\n\n#define PI 3.141593\n\n//float sigma=strength/3.0;//3\u03c3\u4ee5\u5916\u5f71\u54cd\u5f88\u5c0f\u3002\u5373\u5f53\u03c3=1\u7684\u65f6\u5019\uff0c\u534a\u5f84\u4e3a3\n//float sig2 = sigma*sigma;\n//float _2sig2 = 2.0*sig2;\n//return 1.0/(2*PI*sig2)*exp(-(x*x+y*y)/_2sig2)\n//float gauss1 = 1.0/(2.0*PI*sig2);\n\nfloat getGaussian(float x, float y){\n    return strength_sig2_2sig2_gauss1.w*exp(-(x*x+y*y)/strength_sig2_2sig2_gauss1.z);\n}\n\nvec4 blur(){\n    const float blurw = 9.0;\n    vec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\n    vec2 halfsz=vec2(blurw,blurw)/2.0/blurInfo;    \n    vec2 startpos=v_texcoord-halfsz;\n    vec2 ctexcoord = startpos;\n    vec2 step = 1.0/blurInfo;  //\u6bcf\u4e2a\u50cf\u7d20      \n    \n    for(float y = 0.0;y<=blurw; ++y){\n        ctexcoord.x=startpos.x;\n        for(float x = 0.0;x<=blurw; ++x){\n            //TODO \u7eb9\u7406\u5750\u6807\u7684\u56fa\u5b9a\u504f\u79fb\u5e94\u8be5\u5728vs\u4e2d\u5904\u7406\n            vec4 vec4Color1 = texture2D(texture, ctexcoord); \n\n      #ifdef TXTALPHA\n   vec4Color1.a = texture2D(texture1, ctexcoord).a;\n   #endif\n\n    vec4Color += vec4Color1*getGaussian(x-blurw/2.0,y-blurw/2.0);\n            ctexcoord.x+=step.x;\n        }\n        ctexcoord.y+=step.y;\n    }\n    return vec4Color;\n}"),C$Gt.addInclude("parts/ColorAdd_ps_uniform.glsl","uniform vec4 colorAdd;\n"),C$Gt.addInclude("parts/ColorAdd_ps_logic.glsl","gl_FragColor = vec4(colorAdd.rgb,colorAdd.a*gl_FragColor.a);\ngl_FragColor.xyz *= colorAdd.a;"),C$Gt.preCompile2D(0,1,"attribute vec4 position;\nattribute vec2 texcoord;\nuniform vec2 size;\n\n#ifdef WORLDMAT\nuniform mat4 mmat;\n#endif\nvarying vec2 v_texcoord;\nvoid main() {\n  #ifdef WORLDMAT\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  #else\n  gl_Position =vec4((position.x/size.x-0.5)*2.0,(0.5-position.y/size.y)*2.0,position.z,1.0);\n  #endif\n  \n  v_texcoord = texcoord;\n}",'precision mediump float;\nvarying vec2 v_texcoord;\nuniform sampler2D texture;\n\n#ifdef TXTALPHA\nuniform sampler2D texture1;\n#endif\n\nuniform float alpha;\n#include?BLUR_FILTER  "parts/BlurFilter_ps_uniform.glsl";\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\n#include?GLOW_FILTER "parts/GlowFilter_ps_uniform.glsl";\n#include?COLOR_ADD "parts/ColorAdd_ps_uniform.glsl";\n\nvoid main() {\n   vec4 color= texture2D(texture, v_texcoord);\n\n   #ifdef TXTCOMPRESS\n   color.rgb *= color.a;\n   #endif\n\n   #ifdef TXTALPHA\n   color.rgba *= texture2D(texture1, v_texcoord).a;\n   #endif\n\n   color.a*=alpha;\n   color.rgb*=alpha;\n   gl_FragColor=color;\n   #include?COLOR_ADD "parts/ColorAdd_ps_logic.glsl";   \n   #include?BLUR_FILTER  "parts/BlurFilter_ps_logic.glsl";\n   #include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n   #include?GLOW_FILTER "parts/GlowFilter_ps_logic.glsl";\n}',null),C$Gt.preCompile2D(0,2,"attribute vec4 position;\nuniform vec2 size;\nuniform mat4 mmat;\nvoid main() {\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n}",'precision mediump float;\nuniform vec4 color;\nuniform float alpha;\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\nvoid main() {\n\tvec4 a = vec4(color.r, color.g, color.b, color.a);\n\ta.w = alpha;\n\ta.xyz *= alpha;\n\tgl_FragColor = a;\n\t#include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n}',null),C$Gt.preCompile2D(0,4,"attribute vec4 position;\nattribute vec3 a_color;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\nuniform vec2 u_pos;\nuniform vec2 size;\nvarying vec3 color;\nvoid main(){\n  vec4 tPos = vec4(position.x + u_pos.x,position.y + u_pos.y,position.z,position.w);\n  vec4 pos=mmat*u_mmat2*tPos;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  color=a_color;\n}","precision mediump float;\nvarying vec3 color;\nuniform float alpha;\nvoid main(){\n\t//vec4 a=vec4(color.r, color.g, color.b, 1);\n\t//a.a*=alpha;\n    gl_FragColor=vec4(color.r, color.g, color.b, alpha);\n\tgl_FragColor.rgb*=alpha;\n}",null),C$Gt.preCompile2D(0,256,"attribute vec4 position;\nattribute vec2 texcoord;\nuniform vec2 size;\n\n#ifdef WORLDMAT\nuniform mat4 mmat;\n#endif\nvarying vec2 v_texcoord;\nvoid main() {\n  #ifdef WORLDMAT\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  #else\n  gl_Position =vec4((position.x/size.x-0.5)*2.0,(0.5-position.y/size.y)*2.0,position.z,1.0);\n  #endif\n  \n  v_texcoord = texcoord;\n}",'#ifdef FSHIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n//precision highp float;\nvarying vec2 v_texcoord;\nuniform sampler2D texture;\n\n#ifdef TXTALPHA\nuniform sampler2D texture1;\n#endif\n\nuniform float alpha;\nuniform vec4 u_TexRange;\nuniform vec2 u_offset;\n#include?BLUR_FILTER  "parts/BlurFilter_ps_uniform.glsl";\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\n#include?GLOW_FILTER "parts/GlowFilter_ps_uniform.glsl";\n#include?COLOR_ADD "parts/ColorAdd_ps_uniform.glsl";\n\nvoid main() {\n   vec2 newTexCoord;\n   newTexCoord.x = mod(u_offset.x + v_texcoord.x,u_TexRange.y) + u_TexRange.x;\n   newTexCoord.y = mod(u_offset.y + v_texcoord.y,u_TexRange.w) + u_TexRange.z;\n   vec4 color= texture2D(texture, newTexCoord);\n\n   #ifdef TXTALPHA\n   color.a = texture2D(texture1, newTexCoord).a;\n   #endif\n\n   color.a*=alpha;\n   gl_FragColor=color;\n   #include?COLOR_ADD "parts/ColorAdd_ps_logic.glsl";   \n   #include?BLUR_FILTER  "parts/BlurFilter_ps_logic.glsl";\n   #include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n   #include?GLOW_FILTER "parts/GlowFilter_ps_logic.glsl";\n}',null),C$Gt.preCompile2D(0,512,"attribute vec2 position;\nattribute vec2 texcoord;\nattribute vec4 color;\nuniform vec2 size;\nuniform float offsetX;\nuniform float offsetY;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nvoid main() {\n  vec4 pos=mmat*u_mmat2*vec4(offsetX+position.x,offsetY+position.y,0,1 );\n  gl_Position = vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  v_color = color;\n  v_color.rgb *= v_color.a;\n  v_texcoord = texcoord;  \n}","precision mediump float;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nuniform sampler2D texture;\n\n#ifdef TXTALPHA\nuniform sampler2D texture1;\n#endif\n\nuniform float alpha;\nvoid main() {\n\tvec4 t_color = texture2D(texture, v_texcoord);\n\n   #ifdef TXTALPHA\n   t_color.a = texture2D(texture1, v_texcoord).a;\n   #endif\n\n\tgl_FragColor = t_color.rgba * v_color;\n\tgl_FragColor *= alpha;\n}",null)},p_eh2z),C$et=(C$e(q5ko,"laya.webgl.shader.ShaderDefines"),(C$i=q5ko.prototype).add=function(C$t){return"string"==typeof C$t&&(C$t=this._name2int[C$t]),this._value|=C$t,this._value},C$i.addInt=function(C$t){return this._value|=C$t,this._value},C$i.remove=function(C$t){return"string"==typeof C$t&&(C$t=this._name2int[C$t]),this._value&=~C$t,this._value},C$i.isDefine=function(C$t){return(this._value&C$t)===C$t},C$i.getValue=function(){return this._value},C$i.setValue=function(C$t){this._value=C$t},C$i.toNameDic=function(){return this._int2nameMap[this._value]||q5ko._toText(this._value,this._int2name,this._int2nameMap)},q5ko._reg=function(C$t,C$e,C$i,C$n){C$n[C$i[C$t]=C$e]=C$t},q5ko._toText=function(C$t,C$e,C$i){var C$n=C$i[C$t];if(C$n)return C$n;for(var C$r={},C$s=1,C$a=0;C$a<32&&!(C$t<(C$s=1<<C$a));C$a++){var C$o;C$t&C$s&&((C$o=C$e[C$s])&&(C$r[C$o]=""))}return C$i[C$t]=C$r},q5ko._toInt=function(C$t,C$e){for(var C$i=C$t.split("."),C$n=0,C$r=0,C$s=C$i.length;C$r<C$s;C$r++){var C$a=C$e[C$i[C$r]];if(!C$a)throw new Error("Defines to int err:"+C$t+"/"+C$i[C$r]);C$n|=C$a}return C$n},q5ko),C$it=(C$e(f2w$9,"laya.webgl.shader.d2.skinAnishader.SkinMesh"),(C$i=f2w$9.prototype).init=function(C$t,C$e,C$i){var C$n;C$e?this._vs=C$e:(this._vs=[],C$e=C$t.width,C$n=C$t.height,this._vs.push(0,0,0,0,1,1,1,1),this._vs.push(C$e,0,1,0,1,1,1,1),this._vs.push(C$e,C$n,1,1,1,1,1,1),this._vs.push(0,C$n,0,1,1,1,1,1)),C$i?this._ps=C$i:(f2w$9._defaultPS||(f2w$9._defaultPS=[]).push(0,1,3,3,1,2),this._ps=f2w$9._defaultPS),this.mVBData=new Float32Array(this._vs),this.mIBData=new Uint16Array(this._ps.length),this.mIBData.start=-1,this.mEleNum=this._ps.length,this.mTexture=C$t},C$i.init2=function(C$t,C$e,C$i,C$n,C$r){this.transform&&(this.transform=null),C$i?this._ps=C$i:(this._ps=[],this._ps.push(0,1,3,3,1,2)),this._verticles=C$n,this._uvs=C$r,this.mEleNum=this._ps.length,this.mTexture=C$t,(C$S.isConchNode||C$S.isConchApp)&&(this._initMyData(),this.mVBData=new Float32Array(this._vs))},C$i._initMyData=function(){var C$t=0,C$e=0,C$i=4*this._verticles.length;this._vs=f2w$9._tempVS;var C$n=!1;if((C$S.isConchNode||C$S.isConchApp||this._vs.length<C$i)&&(this._vs.length=C$i,C$n=!0),f2w$9._tVSLen=C$i,C$n)for(;C$t<C$i;)this._vs[C$t]=this._verticles[C$e],this._vs[C$t+1]=this._verticles[C$e+1],this._vs[C$t+2]=this._uvs[C$e],this._vs[C$t+3]=this._uvs[C$e+1],this._vs[C$t+4]=1,this._vs[C$t+5]=1,this._vs[C$t+6]=1,this._vs[C$t+7]=1,C$t+=8,C$e+=2;else for(;C$t<C$i;)this._vs[C$t]=this._verticles[C$e],this._vs[C$t+1]=this._verticles[C$e+1],this._vs[C$t+2]=this._uvs[C$e],this._vs[C$t+3]=this._uvs[C$e+1],C$t+=8,C$e+=2},C$i.getData2=function(C$t,C$e,C$i){var C$n;this.mVBBuffer=C$t,this.mIBBuffer=C$e,this._initMyData(),C$t.appendEx2(this._vs,Float32Array,f2w$9._tVSLen,4),this._indexStart=C$e._byteLength,(C$n=f2w$9._tempIB).length<this._ps.length&&(C$n.length=this._ps.length);for(var C$r=0,C$s=this._ps.length;C$r<C$s;C$r++)C$n[C$r]=this._ps[C$r]+C$i;C$e.appendEx2(C$n,Uint16Array,this._ps.length,2)},C$i.getData=function(C$t,C$e,C$i){if(this.mVBBuffer=C$t,this.mIBBuffer=C$e,C$t.append(this.mVBData),this._indexStart=C$e._byteLength,this.mIBData.start!=C$i){for(var C$n=0,C$r=this._ps.length;C$n<C$r;C$n++)this.mIBData[C$n]=this._ps[C$n]+C$i;this.mIBData.start=C$i}C$e.append(this.mIBData)},C$i.render=function(C$t,C$e,C$i){var C$n,C$r,C$s;C$S.isWebGL&&this.mTexture?(C$t._renderKey=0,C$t._shader2D.glTexture=null,C$nt.getInstance().addSkinMesh(this),C$n=C$at.createShape(C$t,this.mIBBuffer,this.mVBBuffer,this.mEleNum,this._indexStart,C$wt.create(512,0)),this.transform||(this.transform=C$w.EMPTY),this.transform.translate(C$e,C$i),C$w.mul(this.transform,C$t._curMat,this._tempMatrix),this.transform.translate(-C$e,-C$i),C$s=(C$r=C$n.shaderValue).u_mmat2||C$l.getMatrArray(),C$l.mat2MatArray(this._tempMatrix,C$s),C$r.textureHost=this.mTexture,C$r.offsetX=0,C$r.offsetY=0,C$r.u_mmat2=C$s,C$r.ALPHA=C$t._shader2D.ALPHA,C$t._submits[C$t._submits._length++]=C$n):C$S.isConchApp&&this.mTexture&&(this.transform||(this.transform=C$w.EMPTY),C$t.setSkinMesh&&C$t.setSkinMesh(C$e,C$i,this._ps,this.mVBData,this.mEleNum,0,this.mTexture,this.transform))},f2w$9._tempVS=[],f2w$9._tempIB=[],f2w$9._defaultPS=null,f2w$9._tVSLen=0,f2w$9),C$nt=(C$e(i3n41u,"laya.webgl.shader.d2.skinAnishader.SkinMeshBuffer"),(C$i=i3n41u.prototype).addSkinMesh=function(C$t){C$t.getData2(this.vb,this.ib,this.vb._byteLength/32)},C$i.reset=function(){this.vb.clear(),this.ib.clear()},i3n41u.getInstance=function(){return i3n41u.instance=i3n41u.instance||new i3n41u},i3n41u.instance=null,i3n41u),C$i=(C$e(yrvo5q,"laya.webgl.shapes.BasePoly"),C$i=yrvo5q.prototype,C$g.imps(C$i,{"laya.webgl.shapes.IShape":!0}),C$i.getData=function(C$t,C$e,C$i){},C$i.rebuild=function(C$t){},C$i.setMatrix=function(C$t){},C$i.needUpdate=function(C$t){return!0},C$i.sector=function(C$t,C$u,C$e){var C$i=this.x,C$n=this.y,C$r=this.edges,C$s=(this.r1-this.r0)/C$r,C$c=this.width,C$_=this.height,C$a=this.color,C$o=(C$a>>16&255)/255,C$h=(C$a>>8&255)/255,C$d=(255&C$a)/255;C$t.push(C$i,C$n,C$o,C$h,C$d);for(var C$l=0;C$l<C$r+1;C$l++)C$t.push(C$i+Math.sin(C$s*C$l+this.r0)*C$c,C$n+Math.cos(C$s*C$l+this.r0)*C$_),C$t.push(C$o,C$h,C$d);for(C$l=0;C$l<C$r;C$l++)C$u.push(C$e,C$e+C$l+1,C$e+C$l+2)},C$i.createLine2=function(C$u,C$c,C$_,C$d,C$f,C$p){var C$t,C$e,C$i,C$n,C$r,C$s,C$m,C$g,C$v,C$x,C$a,C$y,C$o,C$b,C$h=C$u.concat(),C$w=C$f,C$u=this.borderColor,C$T=(C$u>>16&255)/255,C$M=(C$u>>8&255)/255,C$S=(255&C$u)/255,C$C=C$h.length/2,C$D=C$d,C$E=C$_/2;C$t=C$h[0],C$e=C$h[1],C$s=C$t-(C$i=C$h[2]),C$r=(C$r=-(C$e-(C$n=C$h[3])))/(C$b=Math.sqrt(C$r*C$r+C$s*C$s))*C$E,C$w.push(C$t-C$r+this.x,C$e-(C$s=C$s/C$b*C$E)+this.y,C$T,C$M,C$S,C$t+C$r+this.x,C$e+C$s+this.y,C$T,C$M,C$S);for(var C$l=1;C$l<C$C-1;C$l++)C$t=C$h[2*(C$l-1)],C$e=C$h[2*(C$l-1)+1],C$i=C$h[2*C$l],C$n=C$h[2*C$l+1],C$x=C$h[2*(C$l+1)],C$g=C$h[2*(C$l+1)+1],C$s=C$t-C$i,C$o=C$i-C$x,C$v=(-(C$r=(C$r=-(C$e-C$n))/(C$b=Math.sqrt(C$r*C$r+C$s*C$s))*C$E)+C$t)*(-(C$s=C$s/C$b*C$E)+C$n)-(-C$r+C$i)*(-C$s+C$e),C$y=(-(C$a=(C$a=-(C$n-C$g))/(C$b=Math.sqrt(C$a*C$a+C$o*C$o))*C$E)+C$x)*(-(C$o=C$o/C$b*C$E)+C$n)-(-C$a+C$i)*(-C$o+C$g),C$o=(C$m=-C$s+C$e-(-C$s+C$n))*(C$a=-C$a+C$i-(-C$a+C$x))-(C$x=-C$o+C$g-(-C$o+C$n))*(C$g=-C$r+C$i-(-C$r+C$t)),Math.abs(C$o)<.1?(C$o+=10.1,C$w.push(C$i-C$r+this.x,C$n-C$s+this.y,C$T,C$M,C$S,C$i+C$r+this.x,C$n+C$s+this.y,C$T,C$M,C$S)):C$w.push((C$g=(C$g*C$y-C$a*C$v)/C$o)+this.x,(C$a=(C$x*C$v-C$m*C$y)/C$o)+this.y,C$T,C$M,C$S,C$i-(C$g-C$i)+this.x,C$n-(C$a-C$n)+this.y,C$T,C$M,C$S);C$t=C$h[C$h.length-4],C$e=C$h[C$h.length-3],C$s=C$t-(C$i=C$h[C$h.length-2]),C$r=(C$r=-(C$e-(C$n=C$h[C$h.length-1])))/(C$b=Math.sqrt(C$r*C$r+C$s*C$s))*C$E,C$w.push(C$i-C$r+this.x,C$n-(C$s=C$s/C$b*C$E)+this.y,C$T,C$M,C$S,C$i+C$r+this.x,C$n+C$s+this.y,C$T,C$M,C$S);var C$A=C$p;for(C$l=1;C$l<C$A;C$l++)C$c.push(C$D+2*(C$l-1),C$D+2*(C$l-1)+1,C$D+2*C$l+1,C$D+2*C$l+1,C$D+2*C$l,C$D+2*(C$l-1));return C$w},C$i.createLine=function(C$u,C$c,C$_,C$d){var C$t=C$u.concat(),C$f=C$u,C$u=this.borderColor,C$p=(C$u>>16&255)/255,C$m=(C$u>>8&255)/255,C$g=(255&C$u)/255;C$t.splice(0,5);var C$e,C$i,C$n,C$r,C$s,C$a,C$v,C$x,C$y,C$b,C$o,C$w,C$h,C$T,C$M=C$t.length/5,C$S=C$d,C$C=C$_/2;C$e=C$t[0],C$i=C$t[1],C$a=C$e-(C$n=C$t[5]),C$s=(C$s=-(C$i-(C$r=C$t[6])))/(C$T=Math.sqrt(C$s*C$s+C$a*C$a))*C$C,C$f.push(C$e-C$s,C$i-(C$a=C$a/C$T*C$C),C$p,C$m,C$g,C$e+C$s,C$i+C$a,C$p,C$m,C$g);for(var C$l=1;C$l<C$M-1;C$l++)C$e=C$t[5*(C$l-1)],C$i=C$t[5*(C$l-1)+1],C$n=C$t[5*C$l],C$r=C$t[5*C$l+1],C$b=C$t[5*(C$l+1)],C$x=C$t[5*(C$l+1)+1],C$a=C$e-C$n,C$h=C$n-C$b,C$y=(-(C$s=(C$s=-(C$i-C$r))/(C$T=Math.sqrt(C$s*C$s+C$a*C$a))*C$C)+C$e)*(-(C$a=C$a/C$T*C$C)+C$r)-(-C$s+C$n)*(-C$a+C$i),C$w=(-(C$o=(C$o=-(C$r-C$x))/(C$T=Math.sqrt(C$o*C$o+C$h*C$h))*C$C)+C$b)*(-(C$h=C$h/C$T*C$C)+C$r)-(-C$o+C$n)*(-C$h+C$x),C$h=(C$v=-C$a+C$i-(-C$a+C$r))*(C$o=-C$o+C$n-(-C$o+C$b))-(C$b=-C$h+C$x-(-C$h+C$r))*(C$x=-C$s+C$n-(-C$s+C$e)),Math.abs(C$h)<.1?(C$h+=10.1,C$f.push(C$n-C$s,C$r-C$a,C$p,C$m,C$g,C$n+C$s,C$r+C$a,C$p,C$m,C$g)):C$f.push(C$x=(C$x*C$w-C$o*C$y)/C$h,C$o=(C$b*C$y-C$v*C$w)/C$h,C$p,C$m,C$g,C$n-(C$x-C$n),C$r-(C$o-C$r),C$p,C$m,C$g);C$e=C$t[C$t.length-10],C$i=C$t[C$t.length-9],C$a=C$e-(C$n=C$t[C$t.length-5]),C$s=(C$s=-(C$i-(C$r=C$t[C$t.length-4])))/(C$T=Math.sqrt(C$s*C$s+C$a*C$a))*C$C,C$f.push(C$n-C$s,C$r-(C$a=C$a/C$T*C$C),C$p,C$m,C$g,C$n+C$s,C$r+C$a,C$p,C$m,C$g);var C$D=this.edges+1;for(C$l=1;C$l<C$D;C$l++)C$c.push(C$S+2*(C$l-1),C$S+2*(C$l-1)+1,C$S+2*C$l+1,C$S+2*C$l+1,C$S+2*C$l,C$S+2*(C$l-1));return C$f},C$i.createLoopLine=function(C$u,C$c,C$_,C$d,C$t,C$f){var C$e=C$u.concat(),C$p=C$t||C$u,C$t=this.borderColor,C$m=(C$t>>16&255)/255,C$g=(C$t>>8&255)/255,C$v=(255&C$t)/255;C$e.splice(0,5);var C$u=[C$e[0],C$e[1]],C$t=[C$e[C$e.length-5],C$e[C$e.length-4]],C$x=C$t[0]+.5*(C$u[0]-C$t[0]),C$u=C$t[1]+.5*(C$u[1]-C$t[1]);C$e.unshift(C$x,C$u,0,0,0),C$e.push(C$x,C$u,0,0,0);var C$y,C$b,C$i,C$n,C$r,C$s,C$w,C$T,C$M,C$S,C$a,C$C,C$o,C$D,C$E=C$e.length/5,C$h=C$d,C$A=C$_/2;C$y=C$e[0],C$b=C$e[1],C$s=C$y-C$e[5],C$r=(C$r=-(C$b-C$e[6]))/(C$D=Math.sqrt(C$r*C$r+C$s*C$s))*C$A,C$p.push(C$y-C$r,C$b-(C$s=C$s/C$D*C$A),C$m,C$g,C$v,C$y+C$r,C$b+C$s,C$m,C$g,C$v);for(var C$l=1;C$l<C$E-1;C$l++)C$y=C$e[5*(C$l-1)],C$b=C$e[5*(C$l-1)+1],C$i=C$e[5*C$l],C$n=C$e[5*C$l+1],C$S=C$e[5*(C$l+1)],C$T=C$e[5*(C$l+1)+1],C$s=C$y-C$i,C$o=C$i-C$S,C$M=(-(C$r=(C$r=-(C$b-C$n))/(C$D=Math.sqrt(C$r*C$r+C$s*C$s))*C$A)+C$y)*(-(C$s=C$s/C$D*C$A)+C$n)-(-C$r+C$i)*(-C$s+C$b),C$C=(-(C$a=(C$a=-(C$n-C$T))/(C$D=Math.sqrt(C$a*C$a+C$o*C$o))*C$A)+C$S)*(-(C$o=C$o/C$D*C$A)+C$n)-(-C$a+C$i)*(-C$o+C$T),C$o=(C$w=-C$s+C$b-(-C$s+C$n))*(C$a=-C$a+C$i-(-C$a+C$S))-(C$S=-C$o+C$T-(-C$o+C$n))*(C$T=-C$r+C$i-(-C$r+C$y)),Math.abs(C$o)<.1?(C$o+=10.1,C$p.push(C$i-C$r,C$n-C$s,C$m,C$g,C$v,C$i+C$r,C$n+C$s,C$m,C$g,C$v)):C$p.push(C$T=(C$T*C$C-C$a*C$M)/C$o,C$a=(C$S*C$M-C$w*C$C)/C$o,C$m,C$g,C$v,C$i-(C$T-C$i),C$n-(C$a-C$n),C$m,C$g,C$v);C$f&&(C$c=C$f);var C$I=this.edges+1;for(C$l=1;C$l<C$I;C$l++)C$c.push(C$h+2*(C$l-1),C$h+2*(C$l-1)+1,C$h+2*C$l+1,C$h+2*C$l+1,C$h+2*C$l,C$h+2*(C$l-1));return C$c.push(C$h+2*(C$l-1),C$h+2*(C$l-1)+1,C$h+1,C$h+1,C$h,C$h+2*(C$l-1)),C$p},yrvo5q),C$rt=(C$e($_w29,"laya.webgl.shapes.Earcut"),$_w29.earcut=function(C$t,C$e,C$i){C$i=C$i||2;var C$n,C$r,C$s,C$a,C$o,C$h,C$l,C$u=C$e&&C$e.length,C$c=C$u?C$e[0]*C$i:C$t.length,C$_=$_w29.linkedList(C$t,0,C$c,C$i,!0),C$d=[];if(!C$_)return C$d;if(C$u&&(C$_=$_w29.eliminateHoles(C$t,C$e,C$_,C$i)),C$t.length>80*C$i){C$n=C$s=C$t[0],C$r=C$a=C$t[1];for(var C$f=C$i;C$f<C$c;C$f+=C$i)(C$o=C$t[C$f])<C$n&&(C$n=C$o),(C$h=C$t[C$f+1])<C$r&&(C$r=C$h),C$s<C$o&&(C$s=C$o),C$a<C$h&&(C$a=C$h);C$l=0!==(C$l=Math.max(C$s-C$n,C$a-C$r))?1/C$l:0}return $_w29.earcutLinked(C$_,C$d,C$i,C$n,C$r,C$l),C$d},$_w29.linkedList=function(C$t,C$e,C$i,C$n,C$r){var C$s,C$a;if(C$r===0<$_w29.signedArea(C$t,C$e,C$i,C$n))for(C$s=C$e;C$s<C$i;C$s+=C$n)C$a=$_w29.insertNode(C$s,C$t[C$s],C$t[C$s+1],C$a);else for(C$s=C$i-C$n;C$e<=C$s;C$s-=C$n)C$a=$_w29.insertNode(C$s,C$t[C$s],C$t[C$s+1],C$a);return C$a&&$_w29.equals(C$a,C$a.next)&&($_w29.removeNode(C$a),C$a=C$a.next),C$a},$_w29.filterPoints=function(C$t,C$e){if(!C$t)return C$t;C$e=C$e||C$t;var C$i,C$n=C$t;do{if(C$i=!1,C$n.steiner||!$_w29.equals(C$n,C$n.next)&&0!==$_w29.area(C$n.prev,C$n,C$n.next))C$n=C$n.next;else{if($_w29.removeNode(C$n),(C$n=C$e=C$n.prev)===C$n.next)break;C$i=!0}}while(C$i||C$n!==C$e);return C$e},$_w29.earcutLinked=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){if(C$t){!C$a&&C$s&&$_w29.indexCurve(C$t,C$n,C$r,C$s);for(var C$o,C$h,C$l=C$t;C$t.prev!==C$t.next;)if(C$o=C$t.prev,C$h=C$t.next,C$s?$_w29.isEarHashed(C$t,C$n,C$r,C$s):$_w29.isEar(C$t))C$e.push(C$o.i/C$i),C$e.push(C$t.i/C$i),C$e.push(C$h.i/C$i),$_w29.removeNode(C$t),C$t=C$h.next,C$l=C$h.next;else if((C$t=C$h)===C$l){C$a?1===C$a?(C$t=$_w29.cureLocalIntersections(C$t,C$e,C$i),$_w29.earcutLinked(C$t,C$e,C$i,C$n,C$r,C$s,2)):2===C$a&&$_w29.splitEarcut(C$t,C$e,C$i,C$n,C$r,C$s):$_w29.earcutLinked($_w29.filterPoints(C$t,null),C$e,C$i,C$n,C$r,C$s,1);break}}},$_w29.isEar=function(C$t){var C$e=C$t.prev,C$i=C$t,C$n=C$t.next;if(0<=$_w29.area(C$e,C$i,C$n))return!1;for(var C$r=C$t.next.next;C$r!==C$t.prev;){if($_w29.pointInTriangle(C$e.x,C$e.y,C$i.x,C$i.y,C$n.x,C$n.y,C$r.x,C$r.y)&&0<=$_w29.area(C$r.prev,C$r,C$r.next))return!1;C$r=C$r.next}return!0},$_w29.isEarHashed=function(C$t,C$e,C$i,C$n){var C$r=C$t.prev,C$s=C$t,C$a=C$t.next;if(0<=$_w29.area(C$r,C$s,C$a))return!1;for(var C$o=(C$r.x<C$s.x?C$r.x<C$a.x?C$r:C$a:C$s.x<C$a.x?C$s:C$a).x,C$h=(C$r.y<C$s.y?C$r.y<C$a.y?C$r:C$a:C$s.y<C$a.y?C$s:C$a).y,C$u=(C$r.x>C$s.x?C$r.x>C$a.x?C$r:C$a:C$s.x>C$a.x?C$s:C$a).x,C$c=(C$r.y>C$s.y?C$r.y>C$a.y?C$r:C$a:C$s.y>C$a.y?C$s:C$a).y,C$_=$_w29.zOrder(C$o,C$h,C$e,C$i,C$n),C$d=$_w29.zOrder(C$u,C$c,C$e,C$i,C$n),C$l=C$t.nextZ;C$l&&C$l.z<=C$d;){if(C$l!==C$t.prev&&C$l!==C$t.next&&$_w29.pointInTriangle(C$r.x,C$r.y,C$s.x,C$s.y,C$a.x,C$a.y,C$l.x,C$l.y)&&0<=$_w29.area(C$l.prev,C$l,C$l.next))return!1;C$l=C$l.nextZ}for(C$l=C$t.prevZ;C$l&&C$l.z>=C$_;){if(C$l!==C$t.prev&&C$l!==C$t.next&&$_w29.pointInTriangle(C$r.x,C$r.y,C$s.x,C$s.y,C$a.x,C$a.y,C$l.x,C$l.y)&&0<=$_w29.area(C$l.prev,C$l,C$l.next))return!1;C$l=C$l.prevZ}return!0},$_w29.cureLocalIntersections=function(C$t,C$e,C$i){var C$n=C$t;do{var C$r=C$n.prev,C$s=C$n.next.next}while(!$_w29.equals(C$r,C$s)&&$_w29.intersects(C$r,C$n,C$n.next,C$s)&&$_w29.locallyInside(C$r,C$s)&&$_w29.locallyInside(C$s,C$r)&&(C$e.push(C$r.i/C$i),C$e.push(C$n.i/C$i),C$e.push(C$s.i/C$i),$_w29.removeNode(C$n),$_w29.removeNode(C$n.next),C$n=C$t=C$s),(C$n=C$n.next)!==C$t);return C$n},$_w29.splitEarcut=function(C$t,C$e,C$i,C$n,C$r,C$s){var C$a=C$t;do{for(var C$o=C$a.next.next;C$o!==C$a.prev;){var C$h;if(C$a.i!==C$o.i&&$_w29.isValidDiagonal(C$a,C$o))return C$h=$_w29.splitPolygon(C$a,C$o),C$a=$_w29.filterPoints(C$a,C$a.next),C$h=$_w29.filterPoints(C$h,C$h.next),$_w29.earcutLinked(C$a,C$e,C$i,C$n,C$r,C$s),void $_w29.earcutLinked(C$h,C$e,C$i,C$n,C$r,C$s);C$o=C$o.next}}while((C$a=C$a.next)!==C$t)},$_w29.eliminateHoles=function(C$t,C$e,C$i,C$n){var C$r,C$s,C$a,C$o,C$h=[];for(C$r=0,C$s=C$e.length;C$r<C$s;C$r++)C$o=C$e[C$r]*C$n,C$a=C$r<C$s-1?C$e[C$r+1]*C$n:C$t.length,(C$o=$_w29.linkedList(C$t,C$o,C$a,C$n,!1))===C$o.next&&(C$o.steiner=!0),C$h.push($_w29.getLeftmost(C$o));for(C$h.sort($_w29.compareX),C$r=0;C$r<C$h.length;C$r++)$_w29.eliminateHole(C$h[C$r],C$i),C$i=$_w29.filterPoints(C$i,C$i.next);return C$i},$_w29.compareX=function(C$t,C$e){return C$t.x-C$e.x},$_w29.eliminateHole=function(C$t,C$e){(C$e=$_w29.findHoleBridge(C$t,C$e))&&(C$e=$_w29.splitPolygon(C$e,C$t),$_w29.filterPoints(C$e,C$e.next))},$_w29.findHoleBridge=function(C$t,C$u){var C$e,C$i=C$u,C$n=C$t.x,C$r=C$t.y,C$s=-1/0;do{if(C$r<=C$i.y&&C$r>=C$i.next.y&&C$i.next.y!==C$i.y){var C$a=C$i.x+(C$r-C$i.y)*(C$i.next.x-C$i.x)/(C$i.next.y-C$i.y);if(C$a<=C$n&&C$s<C$a){if((C$s=C$a)===C$n){if(C$r===C$i.y)return C$i;if(C$r===C$i.next.y)return C$i.next}C$e=C$i.x<C$i.next.x?C$i:C$i.next}}}while((C$i=C$i.next)!==C$u);if(!C$e)return null;if(C$n===C$s)return C$e.prev;var C$o,C$c=C$e,C$_=C$e.x,C$h=C$e.y,C$l=1/0;for(C$i=C$e.next;C$i!==C$c;)C$n>=C$i.x&&C$i.x>=C$_&&C$n!==C$i.x&&$_w29.pointInTriangle(C$r<C$h?C$n:C$s,C$r,C$_,C$h,C$r<C$h?C$s:C$n,C$r,C$i.x,C$i.y)&&((C$o=Math.abs(C$r-C$i.y)/(C$n-C$i.x))<C$l||C$o===C$l&&C$i.x>C$e.x)&&$_w29.locallyInside(C$i,C$t)&&(C$e=C$i,C$l=C$o),C$i=C$i.next;return C$e},$_w29.indexCurve=function(C$t,C$e,C$i,C$n){for(var C$r=C$t;null===C$r.z&&(C$r.z=$_w29.zOrder(C$r.x,C$r.y,C$e,C$i,C$n)),C$r.prevZ=C$r.prev,C$r.nextZ=C$r.next,(C$r=C$r.next)!==C$t;);C$r.prevZ.nextZ=null,C$r.prevZ=null,$_w29.sortLinked(C$r)},$_w29.sortLinked=function(C$t){var C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l=1;do{for(C$i=C$t,C$s=C$t=null,C$a=0;C$i;){for(C$a++,C$n=C$i,C$e=C$o=0;C$e<C$l&&(C$o++,C$n=C$n.nextZ);C$e++);for(C$h=C$l;0<C$o||0<C$h&&C$n;)0!==C$o&&(0===C$h||!C$n||C$i.z<=C$n.z)?(C$i=(C$r=C$i).nextZ,C$o--):(C$n=(C$r=C$n).nextZ,C$h--),C$s?C$s.nextZ=C$r:C$t=C$r,C$r.prevZ=C$s,C$s=C$r;C$i=C$n}}while(C$s.nextZ=null,C$l*=2,1<C$a);return C$t},$_w29.zOrder=function(C$t,C$e,C$i,C$n,C$r){return(C$t=1431655765&((C$t=858993459&((C$t=252645135&((C$t=16711935&((C$t=32767*(C$t-C$i)*C$r)|C$t<<8))|C$t<<4))|C$t<<2))|C$t<<1))|(1431655765&((C$e=858993459&((C$e=252645135&((C$e=16711935&((C$e=32767*(C$e-C$n)*C$r)|C$e<<8))|C$e<<4))|C$e<<2))|C$e<<1))<<1},$_w29.getLeftmost=function(C$t){for(var C$e=C$t,C$i=C$t;C$e.x<C$i.x&&(C$i=C$e),(C$e=C$e.next)!==C$t;);return C$i},$_w29.pointInTriangle=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){return 0<=(C$r-C$a)*(C$e-C$o)-(C$t-C$a)*(C$s-C$o)&&0<=(C$t-C$a)*(C$n-C$o)-(C$i-C$a)*(C$e-C$o)&&0<=(C$i-C$a)*(C$s-C$o)-(C$r-C$a)*(C$n-C$o)},$_w29.isValidDiagonal=function(C$t,C$e){return C$t.next.i!==C$e.i&&C$t.prev.i!==C$e.i&&!$_w29.intersectsPolygon(C$t,C$e)&&$_w29.locallyInside(C$t,C$e)&&$_w29.locallyInside(C$e,C$t)&&$_w29.middleInside(C$t,C$e)},$_w29.area=function(C$t,C$e,C$i){return(C$e.y-C$t.y)*(C$i.x-C$e.x)-(C$e.x-C$t.x)*(C$i.y-C$e.y)},$_w29.equals=function(C$t,C$e){return C$t.x===C$e.x&&C$t.y===C$e.y},$_w29.intersects=function(C$t,C$e,C$i,C$n){return!!($_w29.equals(C$t,C$e)&&$_w29.equals(C$i,C$n)||$_w29.equals(C$t,C$n)&&$_w29.equals(C$i,C$e))||0<$_w29.area(C$t,C$e,C$i)!=0<$_w29.area(C$t,C$e,C$n)&&0<$_w29.area(C$i,C$n,C$t)!=0<$_w29.area(C$i,C$n,C$e)},$_w29.intersectsPolygon=function(C$t,C$e){var C$i=C$t;do{if(C$i.i!==C$t.i&&C$i.next.i!==C$t.i&&C$i.i!==C$e.i&&C$i.next.i!==C$e.i&&$_w29.intersects(C$i,C$i.next,C$t,C$e))return!0}while((C$i=C$i.next)!==C$t);return!1},$_w29.locallyInside=function(C$t,C$e){return $_w29.area(C$t.prev,C$t,C$t.next)<0?0<=$_w29.area(C$t,C$e,C$t.next)&&0<=$_w29.area(C$t,C$t.prev,C$e):$_w29.area(C$t,C$e,C$t.prev)<0||$_w29.area(C$t,C$t.next,C$e)<0},$_w29.middleInside=function(C$t,C$e){for(var C$i=C$t,C$n=!1,C$r=(C$t.x+C$e.x)/2,C$s=(C$t.y+C$e.y)/2;C$i.y>C$s!=C$i.next.y>C$s&&C$i.next.y!==C$i.y&&C$r<(C$i.next.x-C$i.x)*(C$s-C$i.y)/(C$i.next.y-C$i.y)+C$i.x&&(C$n=!C$n),(C$i=C$i.next)!==C$t;);return C$n},$_w29.splitPolygon=function(C$t,C$e){var C$i=new C$st(C$t.i,C$t.x,C$t.y),C$n=new C$st(C$e.i,C$e.x,C$e.y),C$r=C$t.next,C$s=C$e.prev;return(C$t.next=C$e).prev=C$t,(C$i.next=C$r).prev=C$i,(C$n.next=C$i).prev=C$n,(C$s.next=C$n).prev=C$s,C$n},$_w29.insertNode=function(C$t,C$e,C$i,C$n){C$t=new C$st(C$t,C$e,C$i);return C$n?(C$t.next=C$n.next,(C$t.prev=C$n).next.prev=C$t,C$n.next=C$t):(C$t.prev=C$t).next=C$t,C$t},$_w29.removeNode=function(C$t){C$t.next.prev=C$t.prev,C$t.prev.next=C$t.next,C$t.prevZ&&(C$t.prevZ.nextZ=C$t.nextZ),C$t.nextZ&&(C$t.nextZ.prevZ=C$t.prevZ)},$_w29.signedArea=function(C$t,C$e,C$i,C$n){for(var C$r=0,C$s=C$e,C$a=C$i-C$n;C$s<C$i;C$s+=C$n)C$r+=(C$t[C$a]-C$t[C$s])*(C$t[C$s+1]+C$t[C$a+1]),C$a=C$s;return C$r},$_w29),C$st=(C$e(jyov,"laya.webgl.shapes.EarcutNode"),jyov),C$at=(C$e(gkc68,"laya.webgl.shapes.GeometryData"),(C$n=gkc68.prototype).clone=function(){return new gkc68(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},C$n.getIndexData=function(){return null},C$n.getVertexData=function(){return null},C$n.destroy=function(){this.shape=null},C$e(ij7xnv,"laya.webgl.shapes.Vertex"),C$n=ij7xnv.prototype,C$g.imps(C$n,{"laya.webgl.shapes.IShape":!0}),C$n.getData=function(C$t,C$e,C$i){},C$n.needUpdate=function(C$t){return!1},C$n.rebuild=function(C$t){},C$n.setMatrix=function(C$t){},C$e(vryo5,"laya.webgl.submit.Submit"),C$n=vryo5.prototype,C$g.imps(C$n,{"laya.webgl.submit.ISubmit":!0}),C$n.releaseRender=function(){var C$t=vryo5._cache;(C$t[C$t._length++]=this).shaderValue.release(),this.shaderValue=null,this._vb=null,this._ib=null},C$n.getRenderType=function(){return this._renderType},C$n.renderSubmit=function(){if(0===this._numEle)return 1;var C$t=this.shaderValue.textureHost;if(C$t){var C$e=C$t.source;if(!C$t.bitmap||!C$e)return 1;this.shaderValue.texture=C$e,C$t.alphaTexture&&C$t.alphaTexture.source&&(this.shaderValue.texture1=C$t.alphaTexture.source)}this._vb.bind_upload(this._ib);C$e=C$u.mainContext;return this.shaderValue.upload(),C$H.activeBlendFunction!==this._blendFn&&(C$e.enable(3042),this._blendFn(C$e),C$H.activeBlendFunction=this._blendFn),C$P.drawCall++,C$P.trianglesFaces+=this._numEle/3,C$e.drawElements(4,this._numEle,5123,this._startIdx),1},vryo5.__init__=function(){var C$t=vryo5.RENDERBASE=new vryo5(-1);C$t.shaderValue=new C$wt(0,0),C$t.shaderValue.ALPHA=-1234},vryo5.createSubmit=function(C$t,C$e,C$i,C$n,C$r){var C$s=vryo5._cache._length?vryo5._cache[--vryo5._cache._length]:new vryo5;null==C$i&&((C$i=C$s._selfVb||(C$s._selfVb=C$Zt.create(-1))).clear(),C$n=0),C$s._ib=C$e,C$s._vb=C$i,C$s._startIdx=C$n*C$mt.BYTES_PIDX,C$s._numEle=0;C$e=C$t._nBlendType;C$s._blendFn=(C$t._targets?C$H.targetFns:C$H.fns)[C$e],C$s.shaderValue=C$r,C$s.shaderValue.setValue(C$t._shader2D);C$i=C$t._shader2D.filters;return C$i&&C$s.shaderValue.setFilters(C$i),C$s},vryo5.createShape=function(C$t,C$e,C$i,C$n,C$r,C$s){var C$a=vryo5._cache._length?vryo5._cache[--vryo5._cache._length]:new vryo5;C$a._ib=C$e,C$a._vb=C$i,C$a._numEle=C$n,C$a._startIdx=C$r,C$a.shaderValue=C$s,C$a.shaderValue.setValue(C$t._shader2D);C$e=C$t._nBlendType;return C$a._blendFn=(C$t._targets?C$H.targetFns:C$H.fns)[C$e],C$a},vryo5.TYPE_2D=1e4,vryo5.TYPE_CANVAS=10003,vryo5.TYPE_CMDSETRT=10004,vryo5.TYPE_CUSTOM=10005,vryo5.TYPE_BLURRT=10006,vryo5.TYPE_CMDDESTORYPRERT=10007,vryo5.TYPE_DISABLESTENCIL=10008,vryo5.TYPE_OTHERIBVB=10009,vryo5.TYPE_PRIMITIVE=10010,vryo5.TYPE_RT=10011,vryo5.TYPE_BLUR_RT=10012,vryo5.TYPE_TARGET=10013,vryo5.TYPE_CHANGE_VALUE=10014,vryo5.TYPE_SHAPE=10015,vryo5.TYPE_TEXTURE=10016,vryo5.TYPE_FILLTEXTURE=10017,vryo5.RENDERBASE=null,vryo5._cache=((vryo5._cache=[])._length=0,vryo5._cache),vryo5),C$ot=(C$e(zhcpt,"laya.webgl.submit.SubmitCMD"),C$n=zhcpt.prototype,C$g.imps(C$n,{"laya.webgl.submit.ISubmit":!0}),C$n.renderSubmit=function(){return this.fun.apply(null,this.args),1},C$n.getRenderType=function(){return 0},C$n.releaseRender=function(){var C$t=zhcpt._cache;C$t[C$t._length++]=this},zhcpt.create=function(C$t,C$e){var C$i=zhcpt._cache._length?zhcpt._cache[--zhcpt._cache._length]:new zhcpt;return C$i.fun=C$e,C$i.args=C$t,C$i},zhcpt._cache=((zhcpt._cache=[])._length=0,zhcpt._cache),zhcpt),C$ht=(C$e(vy7,"laya.webgl.submit.SubmitCMDScope"),(C$n=vy7.prototype).getValue=function(C$t){return this.variables[C$t]},C$n.addValue=function(C$t,C$e){return this.variables[C$t]=C$e},C$n.setValue=function(C$t,C$e){return this.variables.hasOwnProperty(C$t)?this.variables[C$t]=C$e:null},C$n.clear=function(){for(var C$t in this.variables)delete this.variables[C$t]},C$n.recycle=function(){this.clear(),vy7.POOL.push(this)},vy7.create=function(){var C$t=vy7.POOL.pop();return C$t=C$t||new vy7},vy7.POOL=[],vy7),C$lt=(C$e(zwe_p2,"laya.webgl.submit.SubmitOtherIBVB"),C$n=zwe_p2.prototype,C$g.imps(C$n,{"laya.webgl.submit.ISubmit":!0}),C$n.releaseRender=function(){var C$t=zwe_p2._cache;(C$t[C$t._length++]=this).shaderValue.release(),this.shaderValue=null,this._vb=null,this._ib=null},C$n.getRenderType=function(){return 10009},C$n.renderSubmit=function(){var C$t=this._shaderValue.textureHost;if(C$t){var C$e=C$t.source;if(!C$t.bitmap||!C$e)return 1;this._shaderValue.texture=C$e}this._vb.bind_upload(this._ib);C$t=C$l.worldMatrix4,C$e=C$w.TEMP;C$w.mulPre(this._mat,C$t[0],C$t[1],C$t[4],C$t[5],C$t[12],C$t[13],C$e);var C$i=C$l.worldMatrix4=zwe_p2.tempMatrix4;C$i[0]=C$e.a,C$i[1]=C$e.b,C$i[4]=C$e.c,C$i[5]=C$e.d,C$i[12]=C$e.tx,C$i[13]=C$e.ty,this._shader._offset=this.offset,this._shaderValue.refresh(),this._shader.upload(this._shaderValue),this._shader._offset=0;C$i=C$u.mainContext;return C$H.activeBlendFunction!==this._blendFn&&(C$i.enable(3042),this._blendFn(C$i),C$H.activeBlendFunction=this._blendFn),C$P.drawCall++,C$P.trianglesFaces+=this._numEle/3,C$i.drawElements(4,this._numEle,5123,this.startIndex),C$l.worldMatrix4=C$t,C$Lt.activeShader=null,1},zwe_p2.create=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h){void 0===C$h&&(C$h=0);var C$l=zwe_p2._cache._length?zwe_p2._cache[--zwe_p2._cache._length]:new zwe_p2;C$l._ib=C$i,C$l._vb=C$e,C$l._numEle=C$n,C$l._shader=C$r,C$l._shaderValue=C$s;C$i=C$t._nBlendType;switch(C$l._blendFn=(C$t._targets?C$H.targetFns:C$H.fns)[C$i],C$h){case 0:C$l.offset=0,C$l.startIndex=C$o/(C$mt.BYTES_PE*C$e.vertexStride)*1.5,C$l.startIndex*=C$mt.BYTES_PIDX;break;case 1:C$l.startIndex=C$a,C$l.offset=C$o}return C$l},zwe_p2._cache=((zwe_p2._cache=[])._length=0,zwe_p2._cache),zwe_p2.tempMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],zwe_p2),C$ut=(C$e(uni1,"laya.webgl.submit.SubmitScissor"),C$n=uni1.prototype,C$g.imps(C$n,{"laya.webgl.submit.ISubmit":!0}),C$n._scissor=function(C$t,C$e,C$i,C$n){var C$r=C$l.worldMatrix4,C$s=C$r[0],C$a=C$r[5],C$o=C$r[12],C$r=C$r[13];if(C$n*=C$a,(C$i*=C$s)<1||C$n<1)return!1;C$s=(C$t=C$t*C$s+C$o)+C$i,C$o=(C$e=C$e*C$a+C$r)+C$n;C$t<0&&(C$i=C$s-(C$t=0)),C$e<0&&(C$n=C$o-(C$e=0));C$a=C$l.worldClipRect;if(C$t=Math.max(C$t,C$a.x),C$e=Math.max(C$e,C$a.y),C$i=Math.min(C$s,C$a.right)-C$t,C$n=Math.min(C$o,C$a.bottom)-C$e,C$i<1||C$n<1)return!1;C$r=C$l.worldScissorTest;return this.screenRect.copyFrom(C$a),C$a.x=C$t,C$a.y=C$e,C$a.width=C$i,C$a.height=C$n,C$l.worldScissorTest=!0,C$e=C$l.height-C$e-C$n,C$u.mainContext.scissor(C$t,C$e,C$i,C$n),C$u.mainContext.enable(3089),this.context.submitElement(this.submitIndex,this.submitIndex+this.submitLength),C$r?(C$e=C$l.height-this.screenRect.y-this.screenRect.height,C$u.mainContext.scissor(this.screenRect.x,C$e,this.screenRect.width,this.screenRect.height),C$u.mainContext.enable(3089)):(C$u.mainContext.disable(3089),C$l.worldScissorTest=!1),C$a.copyFrom(this.screenRect),!0},C$n._scissorWithTagart=function(C$t,C$e,C$i,C$n){if(C$i<1||C$n<1)return!1;var C$r=C$t+C$i,C$s=C$e+C$n;C$t<0&&(C$i=C$r-(C$t=0)),C$e<0&&(C$n=C$s-(C$e=0));var C$a=C$l.worldClipRect;if(C$t=Math.max(C$t,C$a.x),C$e=Math.max(C$e,C$a.y),C$i=Math.min(C$r,C$a.right)-C$t,C$n=Math.min(C$s,C$a.bottom)-C$e,C$i<1||C$n<1)return!1;C$r=C$l.worldScissorTest;return this.screenRect.copyFrom(C$a),C$l.worldScissorTest=!0,C$a.x=C$t,C$a.y=C$e,C$a.width=C$i,C$a.height=C$n,C$e=C$l.height-C$e-C$n,C$u.mainContext.scissor(C$t,C$e,C$i,C$n),C$u.mainContext.enable(3089),this.context.submitElement(this.submitIndex,this.submitIndex+this.submitLength),C$r?(C$e=C$l.height-this.screenRect.y-this.screenRect.height,C$u.mainContext.scissor(this.screenRect.x,C$e,this.screenRect.width,this.screenRect.height),C$u.mainContext.enable(3089)):(C$u.mainContext.disable(3089),C$l.worldScissorTest=!1),C$a.copyFrom(this.screenRect),!0},C$n.renderSubmit=function(){return this.submitLength=Math.min(this.context._submits._length-1,this.submitLength),this.submitLength<1||this.clipRect.width<1||this.clipRect.height<1||(this.context._targets?this._scissorWithTagart(this.clipRect.x,this.clipRect.y,this.clipRect.width,this.clipRect.height):this._scissor(this.clipRect.x,this.clipRect.y,this.clipRect.width,this.clipRect.height)),this.submitLength+1},C$n.getRenderType=function(){return 0},C$n.releaseRender=function(){var C$t=uni1._cache;(C$t[C$t._length++]=this).context=null},uni1.create=function(C$t){var C$e=uni1._cache._length?uni1._cache[--uni1._cache._length]:new uni1;return C$e.context=C$t,C$e},uni1._cache=((uni1._cache=[])._length=0,uni1._cache),uni1),C$ct=(C$e(vyxr7,"laya.webgl.submit.SubmitStencil"),C$n=vyxr7.prototype,C$g.imps(C$n,{"laya.webgl.submit.ISubmit":!0}),C$n.renderSubmit=function(){switch(this.step){case 1:this.do1();break;case 2:this.do2();break;case 3:this.do3();break;case 4:this.do4();break;case 5:this.do5();break;case 6:this.do6();break;case 7:this.do7();break;case 8:this.do8()}return 1},C$n.getRenderType=function(){return 0},C$n.releaseRender=function(){var C$t=vyxr7._cache;C$t[C$t._length++]=this},C$n.do1=function(){var C$t=C$u.mainContext;C$t.enable(2960),C$t.clear(1024),C$t.colorMask(!1,!1,!1,!1),C$t.stencilFunc(514,this.level,255),C$t.stencilOp(7680,7680,7682)},C$n.do2=function(){var C$t=C$u.mainContext;C$t.stencilFunc(514,this.level+1,255),C$t.colorMask(!0,!0,!0,!0),C$t.stencilOp(7680,7680,7680)},C$n.do3=function(){var C$t=C$u.mainContext;C$t.colorMask(!0,!0,!0,!0),C$t.stencilOp(7680,7680,7680),C$t.clear(1024),C$t.disable(2960)},C$n.do4=function(){var C$t=C$u.mainContext;0==this.level&&(C$t.enable(2960),C$t.clear(1024)),C$t.colorMask(!1,!1,!1,!1),C$t.stencilFunc(519,0,255),C$t.stencilOp(7680,7680,7682)},C$n.do5=function(){var C$t=C$u.mainContext;C$t.stencilFunc(514,this.level,255),C$t.colorMask(!0,!0,!0,!0),C$t.stencilOp(7680,7680,7680)},C$n.do6=function(){var C$t=C$u.mainContext;C$H.targetFns[C$H.TOINT[this.blendMode]](C$t)},C$n.do7=function(){var C$t=C$u.mainContext;C$t.colorMask(!1,!1,!1,!1),C$t.stencilOp(7680,7680,7683)},C$n.do8=function(){var C$t=C$u.mainContext;C$t.colorMask(!0,!0,!0,!0),C$t.stencilFunc(514,this.level,255),C$t.stencilOp(7680,7680,7680)},vyxr7.restore=function(C$t,C$e,C$i,C$n,C$r){var C$s;var C$a;(C$t._renderKey=0)<vyxr7._mask&&vyxr7._mask--,0==vyxr7._mask?(C$s=laya.webgl.submit.SubmitStencil.create(3),C$t.addRenderObject(C$s),C$t._curSubmit=C$at.RENDERBASE):(C$s=laya.webgl.submit.SubmitStencil.create(7),C$t.addRenderObject(C$s),(C$a=C$t._vb)._byteLength,C$gt.fillRectImgVb(C$a,null,C$e.x,C$e.y,C$e.width,C$e.height,C$N.DEF_UV,C$i,C$n,C$r,0,0)?(C$t._shader2D.glTexture=null,(C$e=C$t._curSubmit=C$at.createSubmit(C$t,C$t._ib,C$a,(C$a._byteLength-64)/32*3,C$wt.create(2,0))).shaderValue.ALPHA=1,C$t._submits[C$t._submits._length++]=C$e,C$t._curSubmit._numEle+=6,C$t._curSubmit=C$at.RENDERBASE):alert("clipRect calc stencil rect error"),C$s=laya.webgl.submit.SubmitStencil.create(8),C$t.addRenderObject(C$s))},vyxr7.restore2=function(C$t,C$e){var C$i;(C$t._renderKey=0)<vyxr7._mask&&vyxr7._mask--,0==vyxr7._mask?(C$i=laya.webgl.submit.SubmitStencil.create(3),C$t.addRenderObject(C$i),C$t._curSubmit=C$at.RENDERBASE):(C$i=laya.webgl.submit.SubmitStencil.create(7),C$t.addRenderObject(C$i),C$t._submits[C$t._submits._length++]=C$e,C$i=laya.webgl.submit.SubmitStencil.create(8),C$t.addRenderObject(C$i))},vyxr7.create=function(C$t){var C$e=vyxr7._cache._length?vyxr7._cache[--vyxr7._cache._length]:new vyxr7;return 5==(C$e.step=C$t)&&++vyxr7._mask,C$e.level=vyxr7._mask,C$e},vyxr7._cache=((vyxr7._cache=[])._length=0,vyxr7._cache),vyxr7._mask=0,vyxr7),C$_t=(C$e(ri7jx,"laya.webgl.submit.SubmitTarget"),C$n=ri7jx.prototype,C$g.imps(C$n,{"laya.webgl.submit.ISubmit":!0}),C$n.renderSubmit=function(){this._vb.bind_upload(this._ib);var C$t=this.scope.getValue(this.proName);return C$t&&(this.shaderValue.texture=C$t.source,this.shaderValue.strength&&!this.shaderValue.blurInfo&&(this.shaderValue.blurInfo=[C$t.width,C$t.height]),this.shaderValue.upload(),this.blend(),C$P.drawCall++,C$P.trianglesFaces+=this._numEle/3,C$u.mainContext.drawElements(4,this._numEle,5123,this._startIdx)),1},C$n.blend=function(){var C$t;C$H.activeBlendFunction!==C$H.fns[this.blendType]&&((C$t=C$u.mainContext).enable(3042),C$H.fns[this.blendType](C$t),C$H.activeBlendFunction=C$H.fns[this.blendType])},C$n.getRenderType=function(){return 0},C$n.releaseRender=function(){var C$t=ri7jx._cache;(C$t[C$t._length++]=this).shaderValue.release(),this.shaderValue=null,this._vb=null,this._ib=null},ri7jx.create=function(C$t,C$e,C$i,C$n,C$r,C$s){var C$a=ri7jx._cache._length?ri7jx._cache[--ri7jx._cache._length]:new ri7jx;return C$a._ib=C$e,C$a._vb=C$i,C$a.proName=C$s,C$a._startIdx=C$n*C$mt.BYTES_PIDX,C$a._numEle=0,C$a.blendType=C$t._nBlendType,C$a.shaderValue=C$r,C$a.shaderValue.setValue(C$t._shader2D),C$a},ri7jx._cache=((ri7jx._cache=[])._length=0,ri7jx._cache),ri7jx),C$dt=(C$e(oy5jvr,"laya.webgl.text.CharSegment"),C$n=oy5jvr.prototype,C$g.imps(C$n,{"laya.webgl.text.ICharSegment":!0}),C$n.textToSpit=function(C$t){this._sourceStr=C$t},C$n.getChar=function(C$t){return this._sourceStr.charAt(C$t)},C$n.getCharCode=function(C$t){return this._sourceStr.charCodeAt(C$t)},C$n.length=function(){return this._sourceStr.length},oy5jvr),C$ft=(C$e(gdk0,"laya.webgl.text.DrawText"),gdk0.__init__=function(){gdk0._charsTemp=[],gdk0._drawValue=new C$le,gdk0._charSeg=new C$dt},gdk0.customCharSeg=function(C$t){gdk0._charSeg=C$t},gdk0.getChar=function(C$t,C$e,C$i){C$t=C$qt.createOneChar(C$t,C$i);return-1!=C$e&&(gdk0._charsCache[C$e]=C$t),C$t},gdk0._drawSlow=function(C$t,C$u,C$c,C$e,C$_,C$d,C$f,C$p,C$m,C$g,C$v,C$x,C$y,C$b,C$w){var C$i,C$n,C$T=gdk0._drawValue.value(C$d,C$p,C$m,C$g,C$y,C$b,C$w),C$r=0,C$s=0,C$a=gdk0._charsTemp,C$M=0,C$o=NaN;if(C$e)for(C$a.length=C$e.length,C$r=0,C$s=C$e.length;C$r<C$s;C$r++)(C$n=C$e[C$r])&&(C$o=C$n.charNum+C$T.txtID,C$a[C$r]=C$i=gdk0._charsCache[C$o]||gdk0.getChar(C$n.char,C$o,C$T),C$i.active());else{C$d=C$c instanceof laya.utils.WordText?C$c.toString():C$c;if(C$k.CharacterCache){gdk0._charSeg.textToSpit(C$d);C$p=gdk0._charSeg.length();for(C$r=0,C$s=C$a.length=C$p;C$r<C$s;C$r++)C$o=gdk0._charSeg.getCharCode(C$r)+C$T.txtID,C$a[C$r]=C$i=gdk0._charsCache[C$o]||gdk0.getChar(gdk0._charSeg.getChar(C$r),C$o,C$T),C$i.active(),C$M+=C$i.cw}else C$a.length=0,(C$i=gdk0.getChar(C$d,-1,C$T)).active(),C$M+=C$i.cw,C$a[0]=C$i}var C$S=0;null!==C$f&&"left"!==C$f&&(C$S=-("center"==C$f?C$M/2:C$M));var C$h,C$C,C$l=NaN,C$D=0;if(C$e)for(C$r=0,C$s=C$a.length;C$r<C$s;C$r++)C$i=C$a[C$r],C$n=C$e[C$r],C$i&&C$n&&!C$i.isSpace&&(C$l=C$i.borderSize,C$h=C$i.texture,C$u._drawText(C$h,C$v+C$S+C$n.x*C$y-C$l,C$x+C$n.y*C$b-C$l,C$h.width,C$h.height,C$_,0,0,0,0));else{for(C$r=0,C$s=C$a.length;C$r<C$s;C$r++)(C$i=C$a[C$r])&&!C$i.isSpace&&(C$l=C$i.borderSize,C$h=C$i.texture,C$u._drawText(C$h,C$v+C$S-C$l,C$x-C$l,C$h.width,C$h.height,C$_,0,0,0,0),C$t&&((C$C=(C$C=C$t[C$D++])?C$C:C$t[C$D-1]=[])[0]=C$h,C$C[1]=C$S-C$l,C$C[2]=-C$l)),C$S+=C$i.cw;C$t&&(C$t.length=C$D)}},gdk0._drawFast=function(C$t,C$e,C$i,C$n,C$r){for(var C$s,C$a,C$o=0,C$h=C$t.length;C$o<C$h;C$o++)(C$s=(C$a=C$t[C$o])[0]).active(),C$e._drawText(C$s,C$n+C$a[1],C$r+C$a[2],C$s.width,C$s.height,C$i,0,0,0,0)},gdk0.drawText=function(C$t,C$e,C$i,C$n,C$u,C$c,C$_,C$d,C$f,C$r,C$s,C$p){if(void 0===C$p&&(C$p=0),!(C$e&&0===C$e.length||C$i&&0===C$i.length)){var C$a=C$n.a,C$o=C$n.d;var C$h=1!==(C$a=0===C$n.b&&0===C$n.c?C$a:C$o=1)||1!==C$o;if((C$h=!(!C$h||!C$g.stage.transform)&&((C$l=C$g.stage.transform).a===C$a&&C$l.d===C$o))?(C$l=(C$n=C$n.copyTo(C$bt._tmpMatrix)).tx,C$h=C$n.ty,C$n.scale(1/C$a,1/C$o),C$n._checkTransform(),C$r=C$r*C$a+(C$l-C$n.tx),C$s=C$s*C$o+(C$h-C$n.ty)):C$a=C$o=1,C$i)gdk0._drawSlow(null,C$t,C$e,C$i,C$n,C$u,C$c,C$_,C$d,C$f,C$r,C$s,C$a,C$o,C$p);else{if(null===C$e.toUpperCase)return C$l=C$a+1e5*C$o,void((C$h=C$e).changed||C$h.id!==C$l?(C$h.id=C$l,C$h.changed=!1,gdk0._drawSlow(C$h.save,C$t,C$e,C$i,C$n,C$u,C$c,C$_,C$d,C$f,C$r,C$s,C$a,C$o,C$p)):gdk0._drawFast(C$h.save,C$t,C$n,C$r,C$s));var C$l=C$e+C$u.toString()+C$_+C$d+C$f+C$a+C$o+C$c,C$h=gdk0._textsCache[C$l];C$k.CharacterCache?C$h?gdk0._drawFast(C$h,C$t,C$n,C$r,C$s):(gdk0._textsCache.__length||(gdk0._textsCache.__length=0),gdk0._textsCache.__length>C$m.WebGLTextCacheCount&&((gdk0._textsCache={}).__length=0,gdk0._curPoolIndex=0),gdk0._textCachesPool[gdk0._curPoolIndex]?(C$h=gdk0._textsCache[C$l]=gdk0._textCachesPool[gdk0._curPoolIndex]).length=0:gdk0._textCachesPool[gdk0._curPoolIndex]=C$h=gdk0._textsCache[C$l]=[],gdk0._textsCache.__length++,gdk0._curPoolIndex++,gdk0._drawSlow(C$h,C$t,C$e,C$i,C$n,C$u,C$c,C$_,C$d,C$f,C$r,C$s,C$a,C$o,C$p)):gdk0._drawSlow(C$h,C$t,C$e,C$i,C$n,C$u,C$c,C$_,C$d,C$f,C$r,C$s,C$a,C$o,C$p)}}},gdk0._charsTemp=null,gdk0._textCachesPool=[],gdk0._curPoolIndex=0,gdk0._charsCache={},gdk0._textsCache={},gdk0._drawValue=null,gdk0.d=[],gdk0._charSeg=null,gdk0.__init$=function(){function etcp(){}C$e(etcp,""),etcp.prototype.value=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){this.font=C$t,this.fillColor=C$e,this.borderColor=C$i,this.lineWidth=C$n,this.scaleX=C$r,this.scaleY=C$s,this.underLine=C$a;C$t=C$t.toString()+C$r+C$s+C$n+(C$e?C$e.toLowerCase():" ")+(C$i?C$i.toLowerCase():" ")+C$a;return this.txtID=etcp._keymap[C$t],this.txtID||(this.txtID=1e-7*++etcp._keymapCount,etcp._keymap[C$t]=this.txtID),this},etcp.clear=function(){etcp._keymap={},etcp._keymapCount=1},etcp._keymap={},etcp._keymapCount=1,C$le=etcp},gdk0),C$pt=(C$e(rbqoy5,"laya.webgl.text.FontInContext"),(C$n=rbqoy5.prototype).setFont=function(C$t){var C$e=rbqoy5._cache2[C$t];if(C$e)this._words=C$e[0],this._size=C$e[1];else{this._words=C$t.split(" ");for(var C$i=0,C$n=this._words.length;C$i<C$n;C$i++)if(0<this._words[C$i].indexOf("px")){this._index=C$i;break}this._size=parseInt(this._words[this._index]),rbqoy5._cache2[C$t]=[this._words,this._size]}this._text=null,this._italic=-2},C$n.getItalic=function(){return-2===this._italic&&(this._italic=this.hasType("italic")),this._italic},C$n.hasType=function(C$t){for(var C$e=0,C$i=this._words.length;C$e<C$i;C$e++)if(this._words[C$e]===C$t)return C$e;return-1},C$n.removeType=function(C$t){for(var C$e=0,C$i=this._words.length;C$e<C$i;C$e++)if(this._words[C$e]===C$t){this._words.splice(C$e,1),this._index>C$e&&this._index--;break}this._text=null,this._italic=-2},C$n.copyTo=function(C$t){return C$t._text=this._text,C$t._size=this._size,C$t._index=this._index,C$t._words=this._words.slice(),C$t._italic=-2,C$t},C$n.toString=function(){return this._text||(this._text=this._words.join(" "))},C$s(0,C$n,"size",function(){return this._size},function(C$t){this._size=C$t,this._words[this._index]=C$t+"px",this._text=null}),rbqoy5.create=function(C$t){var C$e=rbqoy5._cache[C$t];return C$e||(rbqoy5._cache[C$t]=new rbqoy5(C$t))},rbqoy5.EMPTY=new rbqoy5,rbqoy5._cache={},rbqoy5._cache2=null,rbqoy5),C$mt=(C$e(d8t6cg,"laya.webgl.utils.CONST3D2D"),d8t6cg.defaultMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],d8t6cg.defaultMinusYMatrix4=[1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1],d8t6cg.uniformMatrix3=[1,0,0,0,0,1,0,0,0,0,1,0],d8t6cg._TMPARRAY=[],d8t6cg._OFFSETX=0,d8t6cg._OFFSETY=0,C$r(d8t6cg,["BYTES_PE",function(){return this.BYTES_PE=Float32Array.BYTES_PER_ELEMENT},"BYTES_PIDX",function(){return this.BYTES_PIDX=Uint16Array.BYTES_PER_ELEMENT}]),d8t6cg),C$gt=(C$e(dgc,"laya.webgl.utils.GlUtils"),dgc.make2DProjection=function(C$t,C$e,C$i){return[2/C$t,0,0,0,0,-2/C$e,0,0,0,0,2/C$i,0,-1,1,0,1]},dgc.fillIBQuadrangle=function(C$t,C$e){if(65535/4<C$e)throw Error("IBQuadrangle count:"+C$e+" must<:"+Math.floor(65535/4));C$e=Math.floor(C$e),C$t._resizeBuffer(6*(C$e+1)*2,!1),C$t.byteLength=C$t.bufferLength;for(var C$i=C$t.getUint16Array(),C$n=0,C$r=0;C$r<C$e;C$r++)C$i[C$n++]=4*C$r,C$i[C$n++]=4*C$r+2,C$i[C$n++]=4*C$r+1,C$i[C$n++]=4*C$r,C$i[C$n++]=4*C$r+3,C$i[C$n++]=4*C$r+2;return C$t.setNeedUpload(),!0},dgc.expandIBQuadrangle=function(C$t,C$e){C$t.bufferLength>=6*C$e*2||dgc.fillIBQuadrangle(C$t,C$e)},dgc.mathCeilPowerOfTwo=function(C$t){return C$t--,C$t=(C$t=(C$t=(C$t=(C$t|=C$t>>1)|C$t>>2)|C$t>>4)|C$t>>8)|C$t>>16,++C$t},dgc.fillQuadrangleImgVb=function(C$u,C$t,C$e,C$i,C$n,C$r,C$c,C$_){var C$s=16+(C$u._byteLength>>2);C$u.byteLength=C$s<<2;var C$a=C$u.getFloat32Array();C$a[2+(C$s-=16)]=C$n[0],C$a[3+C$s]=C$n[1],C$a[6+C$s]=C$n[2],C$a[7+C$s]=C$n[3],C$a[10+C$s]=C$n[4],C$a[11+C$s]=C$n[5],C$a[14+C$s]=C$n[6],C$a[15+C$s]=C$n[7];var C$n=C$r.a,C$o=C$r.b,C$h=C$r.c,C$l=C$r.d;var C$d,C$f;return 1!==C$n||0!==C$o||0!==C$h||1!==C$l?(C$r.bTransform=!0,C$d=C$r.tx+C$c,C$f=C$r.ty+C$_,C$a[C$s]=(C$i[0]+C$t)*C$n+(C$i[1]+C$e)*C$h+C$d,C$a[1+C$s]=(C$i[0]+C$t)*C$o+(C$i[1]+C$e)*C$l+C$f,C$a[4+C$s]=(C$i[2]+C$t)*C$n+(C$i[3]+C$e)*C$h+C$d,C$a[5+C$s]=(C$i[2]+C$t)*C$o+(C$i[3]+C$e)*C$l+C$f,C$a[8+C$s]=(C$i[4]+C$t)*C$n+(C$i[5]+C$e)*C$h+C$d,C$a[9+C$s]=(C$i[4]+C$t)*C$o+(C$i[5]+C$e)*C$l+C$f,C$a[12+C$s]=(C$i[6]+C$t)*C$n+(C$i[7]+C$e)*C$h+C$d,C$a[13+C$s]=(C$i[6]+C$t)*C$o+(C$i[7]+C$e)*C$l+C$f):(C$r.bTransform=!1,C$t+=C$r.tx+C$c,C$e+=C$r.ty+C$_,C$a[C$s]=C$t+C$i[0],C$a[1+C$s]=C$e+C$i[1],C$a[4+C$s]=C$t+C$i[2],C$a[5+C$s]=C$e+C$i[3],C$a[8+C$s]=C$t+C$i[4],C$a[9+C$s]=C$e+C$i[5],C$a[12+C$s]=C$t+C$i[6],C$a[13+C$s]=C$e+C$i[7]),C$u._upload=!0},dgc.fillTranglesVB=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){var C$o=(C$t._byteLength>>2)+C$n.length;C$t.byteLength=C$o<<2;var C$h=C$t.getFloat32Array();C$o-=C$n.length;for(var C$u=C$n.length,C$c=C$r.a,C$_=C$r.b,C$d=C$r.c,C$f=C$r.d,C$l=0;C$l<C$u;C$l+=4){var C$p,C$m;C$h[C$o+C$l+2]=C$n[C$l+2],C$h[C$o+C$l+3]=C$n[C$l+3],1!==C$c||0!==C$_||0!==C$d||1!==C$f?(C$r.bTransform=!0,C$p=C$r.tx+C$s,C$m=C$r.ty+C$a,C$h[C$o+C$l]=(C$n[C$l]+C$e)*C$c+(C$n[C$l+1]+C$i)*C$d+C$p,C$h[C$o+C$l+1]=(C$n[C$l]+C$e)*C$_+(C$n[C$l+1]+C$i)*C$f+C$m):(C$r.bTransform=!1,C$e+=C$r.tx+C$s,C$i+=C$r.ty+C$a,C$h[C$o+C$l]=C$e+C$n[C$l],C$h[C$o+C$l+1]=C$i+C$n[C$l+1])}return C$t._upload=!0},dgc.copyPreImgVb=function(C$t,C$e,C$i){var C$n=C$t._byteLength>>2;C$t.byteLength=C$n+16<<2;for(var C$r=C$t.getFloat32Array(),C$s=0,C$a=C$n-16;C$s<4;C$s++)C$r[C$n]=C$r[C$a]+C$e,C$r[++C$n]=C$r[++C$a]+C$i,C$r[++C$n]=C$r[++C$a],C$r[++C$n]=C$r[++C$a],++C$n,++C$a;C$t._upload=!0},dgc.fillRectImgVb=function(C$u,C$c,C$_,C$d,C$f,C$p,C$t,C$e,C$m,C$g,C$v,C$x,C$y){void 0===C$y&&(C$y=!1);var C$i,C$n,C$b,C$w,C$T,C$M,C$S,C$C,C$D,C$E,C$r,C$s,C$A,C$I,C$a,C$o,C$R=1,C$P=C$e.a,C$L=C$e.b,C$B=C$e.c,C$k=C$e.d,C$N=C$c&&C$c.width<99999999;if(1!==C$P||0!==C$L||0!==C$B||1!==C$k?(C$e.bTransform=!0,0===C$L&&0===C$B&&(C$R=23,C$i=C$P*C$_+(C$r=C$e.tx+C$m),C$b=C$P*(C$D=C$f+C$_)+C$r,C$n=C$k*C$d+(C$s=C$e.ty+C$g),C$w=C$k*(C$E=C$p+C$d)+C$s)):(C$e.bTransform=!(C$R=23),C$b=(C$i=C$_+C$e.tx+C$m)+C$f,C$w=(C$n=C$d+C$e.ty+C$g)+C$p),C$N&&(C$T=C$c.x,C$M=C$c.y,C$S=C$c.width+C$T,C$C=C$c.height+C$M),1!==C$R){if(Math.min(C$i,C$b)>=C$S)return!1;if(Math.min(C$n,C$w)>=C$C)return!1;if(Math.max(C$b,C$i)<=C$T)return!1;if(Math.max(C$w,C$n)<=C$M)return!1}var C$h=C$u._byteLength>>2;C$u.byteLength=16+C$h<<2;var C$l=C$u.getFloat32Array();switch(C$l[2+C$h]=C$t[0],C$l[3+C$h]=C$t[1],C$l[6+C$h]=C$t[2],C$l[7+C$h]=C$t[3],C$l[10+C$h]=C$t[4],C$l[11+C$h]=C$t[5],C$l[14+C$h]=C$t[6],C$l[15+C$h]=C$t[7],C$R){case 1:C$r=C$e.tx+C$m,C$s=C$e.ty+C$g;var C$z=C$P*C$_,C$O=C$B*C$d,C$F=C$k*C$d,C$V=C$L*C$_,C$j=C$P*(C$D=C$f+C$_),C$U=C$B*(C$E=C$p+C$d),C$q=C$k*C$E,C$H=C$L*C$D;C$y?(C$A=C$z+C$O+C$r,C$a=Math.round(C$A)-C$A,C$I=C$F+C$V+C$s,C$o=Math.round(C$I)-C$I,C$l[C$h]=C$A+C$a,C$l[1+C$h]=C$I+C$o,C$l[4+C$h]=C$j+C$O+C$r+C$a,C$l[5+C$h]=C$F+C$H+C$s+C$o,C$l[8+C$h]=C$j+C$U+C$r+C$a,C$l[9+C$h]=C$q+C$H+C$s+C$o,C$l[12+C$h]=C$z+C$U+C$r+C$a,C$l[13+C$h]=C$q+C$V+C$s+C$o):(C$l[C$h]=C$z+C$O+C$r,C$l[1+C$h]=C$F+C$V+C$s,C$l[4+C$h]=C$j+C$O+C$r,C$l[5+C$h]=C$F+C$H+C$s,C$l[8+C$h]=C$j+C$U+C$r,C$l[9+C$h]=C$q+C$H+C$s,C$l[12+C$h]=C$z+C$U+C$r,C$l[13+C$h]=C$q+C$V+C$s);break;case 23:C$y?(C$A=C$i+C$v,C$a=Math.round(C$A)-C$A,C$I=C$n,C$o=Math.round(C$I)-C$I,C$l[C$h]=C$A+C$a,C$l[1+C$h]=C$I+C$o,C$l[4+C$h]=C$b+C$v+C$a,C$l[5+C$h]=C$n+C$o,C$l[8+C$h]=C$b+C$a,C$l[9+C$h]=C$w+C$o,C$l[12+C$h]=C$i+C$a,C$l[13+C$h]=C$w+C$o):(C$l[C$h]=C$i+C$v,C$l[1+C$h]=C$n,C$l[4+C$h]=C$b+C$v,C$l[5+C$h]=C$n,C$l[8+C$h]=C$b,C$l[9+C$h]=C$w,C$l[12+C$h]=C$i,C$l[13+C$h]=C$w)}return C$u._upload=!0},dgc.fillLineVb=function(C$t,C$u,C$e,C$i,C$n,C$r,C$s,C$c){var C$s=.5*C$s,C$a=dgc._fillLineArray,C$o=-(C$i-C$r),C$h=C$e-C$n,C$l=Math.sqrt(C$o*C$o+C$h*C$h);C$h=C$h/C$l*C$s,C$a[0]=C$e-(C$o=C$o/C$l*C$s),C$a[1]=C$i-C$h,C$a[4]=C$e+C$o,C$a[5]=C$i+C$h,C$a[8]=C$n+C$o,C$a[9]=C$r+C$h,C$a[12]=C$n-C$o,C$a[13]=C$r-C$h,C$c&&C$c.transformPointArray(C$a,C$a);C$l=16+(C$t._byteLength>>2);return C$t.byteLength=C$l<<2,C$t.insertData(C$a,C$l-16),!0},dgc._fillLineArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],dgc),C$n=(C$e(z_pteh,"laya.webgl.utils.MatirxArray"),z_pteh.ArrayMul=function(C$t,C$e,C$i){if(C$t)if(C$e)for(var C$n,C$r,C$s,C$a,C$o=0;C$o<4;C$o++)C$n=C$t[C$o],C$r=C$t[C$o+4],C$s=C$t[C$o+8],C$a=C$t[C$o+12],C$i[C$o]=C$n*C$e[0]+C$r*C$e[1]+C$s*C$e[2]+C$a*C$e[3],C$i[C$o+4]=C$n*C$e[4]+C$r*C$e[5]+C$s*C$e[6]+C$a*C$e[7],C$i[C$o+8]=C$n*C$e[8]+C$r*C$e[9]+C$s*C$e[10]+C$a*C$e[11],C$i[C$o+12]=C$n*C$e[12]+C$r*C$e[13]+C$s*C$e[14]+C$a*C$e[15];else z_pteh.copyArray(C$t,C$i);else z_pteh.copyArray(C$e,C$i)},z_pteh.copyArray=function(C$t,C$e){if(C$t&&C$e)for(var C$i=0;C$i<C$t.length;C$i++)C$e[C$i]=C$t[C$i]},C$e(au3l41,"laya.webgl.utils.Mesh2D"),(C$n=au3l41.prototype).cloneWithNewVB=function(){var C$t=new au3l41(this._stride,0,0);return C$t._ib=this._ib,C$t._quadNum=this._quadNum,C$t._attribInfo=this._attribInfo,C$t},C$n.cloneWithNewVBIB=function(){var C$t=new au3l41(this._stride,0,0);return C$t._attribInfo=this._attribInfo,C$t},C$n.getVBW=function(){return this._vb.setNeedUpload(),this._vb},C$n.getVBR=function(){return this._vb},C$n.getIBR=function(){return this._ib},C$n.getIBW=function(){return this._ib.setNeedUpload(),this._ib},C$n.createQuadIB=function(C$t){this._quadNum=C$t,this._ib._resizeBuffer(6*C$t*2,!1),this._ib.byteLength=this._ib.bufferLength;for(var C$e=this._ib.getUint16Array(),C$i=0,C$n=0,C$r=0;C$r<C$t;C$r++)C$e[C$i++]=C$n,C$e[C$i++]=C$n+2,C$e[C$i++]=C$n+1,C$e[C$i++]=C$n,C$e[C$i++]=C$n+3,C$e[C$i++]=C$n+2,C$n+=4;this._ib.setNeedUpload()},C$n.setAttributes=function(C$t){if(this._attribInfo=C$t,this._attribInfo.length%3!=0)throw"Mesh2D setAttributes error!"},C$n.getEleNum=function(){return this._ib.getBuffer().byteLength/2},C$n.releaseMesh=function(){},C$n.destroy=function(){},C$n.clearVB=function(){this._vb.clear()},au3l41._gvaoid=0,au3l41),C$l=(C$e(bkqd0g,"laya.webgl.utils.RenderState2D"),bkqd0g.getMatrArray=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},bkqd0g.mat2MatArray=function(C$t,C$e){var C$i=C$e;return C$i[0]=C$t.a,C$i[1]=C$t.b,C$i[2]=bkqd0g.EMPTYMAT4_ARRAY[2],C$i[3]=bkqd0g.EMPTYMAT4_ARRAY[3],C$i[4]=C$t.c,C$i[5]=C$t.d,C$i[6]=bkqd0g.EMPTYMAT4_ARRAY[6],C$i[7]=bkqd0g.EMPTYMAT4_ARRAY[7],C$i[8]=bkqd0g.EMPTYMAT4_ARRAY[8],C$i[9]=bkqd0g.EMPTYMAT4_ARRAY[9],C$i[10]=bkqd0g.EMPTYMAT4_ARRAY[10],C$i[11]=bkqd0g.EMPTYMAT4_ARRAY[11],C$i[12]=C$t.tx,C$i[13]=C$t.ty,C$i[14]=bkqd0g.EMPTYMAT4_ARRAY[14],C$i[15]=bkqd0g.EMPTYMAT4_ARRAY[15],C$e},bkqd0g.restoreTempArray=function(){bkqd0g.TEMPMAT4_ARRAY[0]=1,bkqd0g.TEMPMAT4_ARRAY[1]=0,bkqd0g.TEMPMAT4_ARRAY[4]=0,bkqd0g.TEMPMAT4_ARRAY[5]=1,bkqd0g.TEMPMAT4_ARRAY[12]=0,bkqd0g.TEMPMAT4_ARRAY[13]=0},bkqd0g.clear=function(){bkqd0g.worldScissorTest=!1,bkqd0g.worldShaderDefines=null,bkqd0g.worldFilters=null,bkqd0g.worldAlpha=1,bkqd0g.worldClipRect.x=bkqd0g.worldClipRect.y=0,bkqd0g.worldClipRect.width=bkqd0g.width,bkqd0g.worldClipRect.height=bkqd0g.height,bkqd0g.curRenderTarget=null},bkqd0g._MAXSIZE=99999999,bkqd0g.EMPTYMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],bkqd0g.worldMatrix4=bkqd0g.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],bkqd0g.worldAlpha=1,bkqd0g.worldScissorTest=!1,bkqd0g.worldFilters=null,bkqd0g.worldShaderDefines=null,bkqd0g.curRenderTarget=null,bkqd0g.width=0,bkqd0g.height=0,C$r(bkqd0g,["worldMatrix",function(){return this.worldMatrix=new C$w},"worldClipRect",function(){return this.worldClipRect=new C$M(0,0,99999999,99999999)}]),bkqd0g),C$vt=(C$e(cpzth,"laya.webgl.utils.ShaderCompile"),(C$he=cpzth.prototype)._compileToTree=function(C$t,C$u,C$c,C$e,C$i){var C$n,C$r,C$s,C$_,C$a,C$d,C$f,C$o=0,C$p=0,C$h=0;for(C$p=C$c;C$p<C$u.length;C$p++)if(!((C$s=C$u[C$p]).length<1)&&0!==(C$o=C$s.indexOf("//"))){if(0<=C$o&&(C$s=C$s.substr(0,C$o)),C$n=C$d||new C$ae(C$e),C$d=null,C$n.text=C$s,C$n.noCompile=!0,0<=(C$o=C$s.indexOf("#"))){for(C$_="#",C$h=C$o+1,C$f=C$s.length;C$h<C$f;C$h++){var C$l=C$s.charAt(C$h);if(" "===C$l||"\t"===C$l||"\r"===C$l||"\n"===C$l||"?"===C$l)break;C$_+=C$l}switch(C$n.name=C$_){case"#ifdef":case"#ifndef":if(C$n.src=C$s,C$n.noCompile=null!=C$s.match(/[!&|()=<>]/),C$n.noCompile?console.log("function():Boolean{return "+C$s.substr(C$o+C$n.name.length)+"}"):(C$a=C$s.replace(/^\s*/,"").split(/\s+/),C$n.setCondition(C$a[1],"#ifdef"===C$_?1:2),C$n.text="//"+C$n.text),C$n.setParent(C$t),C$t=C$n,C$i)for(C$a=C$s.substr(C$h).split(cpzth._splitToWordExps3),C$h=0;C$h<C$a.length;C$h++)(C$s=C$a[C$h]).length&&(C$i[C$s]=!0);continue;case"#if":if(C$n.src=C$s,C$n.noCompile=!0,C$n.setParent(C$t),C$t=C$n,C$i)for(C$a=C$s.substr(C$h).split(cpzth._splitToWordExps3),C$h=0;C$h<C$a.length;C$h++)(C$s=C$a[C$h]).length&&"defined"!=C$s&&(C$i[C$s]=!0);continue;case"#else":C$n.src=C$s,C$r=(C$t=C$t.parent).childs[C$t.childs.length-1],C$n.noCompile=C$r.noCompile,C$n.noCompile||(C$n.condition=C$r.condition,C$n.conditionType=1==C$r.conditionType?2:1,C$n.text="//"+C$n.text+" "+C$r.text+" "+C$n.conditionType),C$n.setParent(C$t),C$t=C$n;continue;case"#endif":C$r=(C$t=C$t.parent).childs[C$t.childs.length-1],C$n.noCompile=C$r.noCompile,C$n.noCompile||(C$n.text="//"+C$n.text),C$n.setParent(C$t);continue;case"#include":C$a=cpzth.splitToWords(C$s,null);var C$m=cpzth.includes[C$a[1]];if(!C$m)throw"ShaderCompile error no this include file:"+C$a[1];if((C$o=C$a[0].indexOf("?"))<0){C$n.setParent(C$t),C$s=C$m.getWith("with"==C$a[2]?C$a[3]:null),this._compileToTree(C$n,C$s.split("\n"),0,C$e,C$i),C$n.text="";continue}C$n.setCondition(C$a[0].substr(C$o+1),1),C$n.text=C$m.getWith("with"==C$a[2]?C$a[3]:null);break;case"#import":C$m=(C$a=cpzth.splitToWords(C$s,null))[1],C$e.push({node:C$n,file:cpzth.includes[C$m],ofs:C$n.text.length});continue}}else{if((C$r=C$t.childs[C$t.childs.length-1])&&!C$r.name){0<C$e.length&&cpzth.splitToWords(C$s,C$r),C$d=C$n,C$r.text+="\n"+C$s;continue}0<C$e.length&&cpzth.splitToWords(C$s,C$n)}C$n.setParent(C$t)}},C$he.createShader=function(C$t,C$e,C$i){var C$n={},C$r="";if(C$t)for(var C$s in C$t)C$r+="#define "+C$s+"\n",C$n[C$s]=!0;var C$t=this._VS.toscript(C$n,[]),C$a=this._PS.toscript(C$n,[]);return(C$i||C$Gt.create)(C$r+C$t.join("\n"),C$r+C$a.join("\n"),C$e,this._nameMap)},cpzth._parseOne=function(C$t,C$e,C$i,C$n,C$r,C$s){var C$a={type:cpzth.shaderParamsMap[C$i[C$n+1]],name:C$i[C$n+2],size:isNaN(parseInt(C$i[C$n+3]))?1:parseInt(C$i[C$n+3])};return C$s&&("attribute"==C$r?C$t:C$e).push(C$a),":"==C$i[C$n+3]&&(C$a.type=C$i[C$n+4],C$n+=2),C$n+2},cpzth.addInclude=function(C$t,C$e){if(!C$e||0===C$e.length)throw new Error("add shader include file err:"+C$t);if(cpzth.includes[C$t])throw new Error("add shader include file err, has add:"+C$t);cpzth.includes[C$t]=new C$oe(C$e)},cpzth.preGetParams=function(C$t,C$u){var C$e=[C$t,C$u],C$t={},C$i=[],C$n=[],C$c={},C$_=[];C$t.attributes=C$i,C$t.uniforms=C$n,C$t.defines=C$c;for(var C$r,C$s=0,C$a=0;C$a<2;C$a++){C$e[C$a]=C$e[C$a].replace(cpzth._removeAnnotation,"");var C$o,C$h=C$e[C$a].match(cpzth._reg);for(C$s=0,C$r=C$h.length;C$s<C$r;C$s++){var C$l=C$h[C$s];if("attribute"==C$l||"uniform"==C$l)C$s=cpzth._parseOne(C$i,C$n,C$h,C$s,C$l,!0);else if("#define"!=C$l){if("#ifdef"==C$l)for(C$c[C$o=C$h[++C$s]]=C$c[C$o]||[],C$s++;C$s<C$r;C$s++)if("attribute"==(C$l=C$h[C$s])||"uniform"==C$l)C$s=cpzth._parseOne(C$i,C$n,C$h,C$s,C$l,C$_[C$o]);else if("#else"==C$l)for(C$s++;C$s<C$r;C$s++)if("attribute"==(C$l=C$h[C$s])||"uniform"==C$l)C$s=cpzth._parseOne(C$i,C$n,C$h,C$s,C$l,!C$_[C$o]);else if("#endif"==C$l)break}else C$_[C$l=C$h[++C$s]]=1}}return C$t},cpzth.splitToWords=function(C$t,C$e){for(var C$i,C$n,C$r=[],C$s=-1,C$a=0,C$o=C$t.length;C$a<C$o;C$a++)if(C$i=C$t.charAt(C$a),0<=" \t=+-*/&%!<>()'\",;".indexOf(C$i)){if(0<=C$s&&1<C$a-C$s&&(C$n=C$t.substr(C$s,C$a-C$s),C$r.push(C$n)),'"'==C$i||"'"==C$i){var C$h=C$t.indexOf(C$i,C$a+1);if(C$h<0)throw"Sharder err:"+C$t;C$r.push(C$t.substr(C$a+1,C$h-C$a-1)),C$a=C$h,C$s=-1;continue}"("==C$i&&C$e&&0<C$r.length&&(C$n=C$r[C$r.length-1]+";","vec4;main;".indexOf(C$n)<0&&(C$e.useFuns+=C$n)),C$s=-1}else C$s<0&&(C$s=C$a);return C$s<C$o&&1<C$o-C$s&&(C$n=C$t.substr(C$s,C$o-C$s),C$r.push(C$n)),C$r},cpzth.IFDEF_NO=0,cpzth.IFDEF_YES=1,cpzth.IFDEF_ELSE=2,cpzth.IFDEF_PARENT=3,cpzth._removeAnnotation=new RegExp("(/\\*([^*]|[\\r\\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+/)|(//.*)","g"),cpzth._reg=new RegExp("(\".*\")|('.*')|([#\\w\\*-\\.+/()=<>{}\\\\]+)|([,;:\\\\])","g"),cpzth._splitToWordExps=new RegExp("[(\".*\")]+|[('.*')]+|([ \\t=\\+\\-*/&%!<>!%(),;])","g"),cpzth.includes={},C$r(cpzth,["shaderParamsMap",function(){return this.shaderParamsMap={float:5126,int:5124,bool:35670,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676,sampler2D:35678,samplerCube:35680}},"_splitToWordExps3",function(){return this._splitToWordExps3=new RegExp("[ \\t=\\+\\-*/&%!<>!%(),;\\|]","g")}]),cpzth.__init$=function(){function kqdg0(C$t){this.script=null,this.codes={},this.funs={},this.curUseID=-1,this.funnames="",this.script=C$t;for(var C$e=0,C$i=0,C$n=0;!((C$e=C$t.indexOf("#begin",C$e))<0);){for(C$n=C$e+5;!((C$n=C$t.indexOf("#end",C$n))<0)&&"i"===C$t.charAt(C$n+4);)C$n+=5;if(C$n<0)throw"add include err,no #end:"+C$t;C$i=C$t.indexOf("\n",C$e);var C$r=cpzth.splitToWords(C$t.substr(C$e,C$i-C$e),null);"code"==C$r[1]?this.codes[C$r[2]]=C$t.substr(C$i+1,C$n-C$i-1):"function"==C$r[1]&&(C$i=C$t.indexOf("function",C$e),C$i+="function".length,this.funs[C$r[3]]=C$t.substr(C$i+1,C$n-C$i-1),this.funnames+=C$r[3]+";"),C$e=C$n+1}}function jixr7(C$t){this.childs=[],this.text="",this.parent=null,this.name=null,this.noCompile=!1,this.includefiles=null,this.condition=null,this.conditionType=0,this.useFuns="",this.z=0,this.src=null,this.includefiles=C$t}var C$t;C$e(jixr7,""),(C$t=jixr7.prototype).setParent=function(C$t){C$t.childs.push(this),this.z=C$t.z+1,this.parent=C$t},C$t.setCondition=function(C$t,C$e){C$t&&(this.conditionType=C$e,C$t=C$t.replace(/(\s*$)/g,""),this.condition=function(){return this[C$t]},this.condition.__condition=C$t)},C$t.toscript=function(C$t,C$e){return this._toscript(C$t,C$e,++jixr7.__id)},C$t._toscript=function(C$n,C$r,C$s){if(this.childs.length<1&&!this.text)return C$r;if(C$r.length,this.condition){var C$t=!!this.condition.call(C$n);if(!(C$t=2===this.conditionType?!C$t:C$t))return C$r}if(this.text&&C$r.push(this.text),0<this.childs.length&&this.childs.forEach(function(C$t,C$e,C$i){C$t._toscript(C$n,C$r,C$s)}),0<this.includefiles.length&&0<this.useFuns.length)for(var C$e,C$i=0,C$a=this.includefiles.length;C$i<C$a;C$i++)this.includefiles[C$i].curUseID!=C$s&&0<(C$e=this.includefiles[C$i].file.getFunsScript(this.useFuns)).length&&(this.includefiles[C$i].curUseID=C$s,C$r[0]=C$e+C$r[0]);return C$r},jixr7.__id=1,C$ae=jixr7,C$e(kqdg0,""),(C$t=kqdg0.prototype).getWith=function(C$t){var C$e=C$t?this.codes[C$t]:this.script;if(!C$e)throw"get with error:"+C$t;return C$e},C$t.getFunsScript=function(C$t){var C$e="";for(var C$i in this.funs)0<=C$t.indexOf(C$i+";")&&(C$e+=this.funs[C$i]);return C$e},C$oe=kqdg0},cpzth),C$u=(C$e(h_ep2z,"laya.webgl.WebGL"),h_ep2z._uint8ArraySlice=function(){for(var C$t=this.length,C$e=new Uint8Array(this.length),C$i=0;C$i<C$t;C$i++)C$e[C$i]=this[C$i];return C$e},h_ep2z._float32ArraySlice=function(){for(var C$t=this.length,C$e=new Float32Array(this.length),C$i=0;C$i<C$t;C$i++)C$e[C$i]=this[C$i];return C$e},h_ep2z._uint16ArraySlice=function(C$t){var C$e,C$i=arguments,C$n=0,C$r=0;if(0===C$i.length)for(C$n=this.length,C$e=new Uint16Array(C$n),C$r=0;C$r<C$n;C$r++)C$e[C$r]=this[C$r];else if(2===C$i.length){var C$s=C$i[0],C$a=C$i[1];if(C$s<C$a)for(C$n=C$a-C$s,C$e=new Uint16Array(C$n),C$r=C$s;C$r<C$a;C$r++)C$e[C$r-C$s]=this[C$r];else C$e=new Uint16Array(0)}return C$e},h_ep2z.expandContext=function(){var C$t=C$p.prototype,C$e=CanvasRenderingContext2D.prototype;C$e.fillTrangles=C$t.fillTrangles,C$Yt.__int__(null),C$e.setIBVB=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l){void 0===C$h&&(C$h=0),void 0===C$l&&(C$l=0),null===C$i&&(this._ib=this._ib||C$Kt.QuadrangleIB,C$i=this._ib,C$gt.expandIBQuadrangle(C$i,C$n._byteLength/64+8)),this._setIBVB(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l)},C$e.fillTrangles=function(C$t,C$e,C$i,C$n,C$r){this._curMat=this._curMat||C$w.create(),this._vb=this._vb||C$Zt.create(),this._ib||(this._ib=C$Kt.create(),C$gt.fillIBQuadrangle(this._ib,C$a/4));var C$s=this._vb,C$a=C$n.length>>4;C$gt.fillTranglesVB(C$s,C$e,C$i,C$n,C$r||this._curMat,0,0),C$gt.expandIBQuadrangle(this._ib,C$s._byteLength/64+8);C$n=new C$wt(1,0);C$n.textureHost=C$t;C$t=new C$$t("attribute vec2 position; attribute vec2 texcoord; uniform vec2 size; uniform mat4 mmat; varying vec2 v_texcoord; void main() { vec4 p=vec4(position.xy,0.0,1.0);vec4 pos=mmat*p; gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0); v_texcoord = texcoord; }","precision mediump float; varying vec2 v_texcoord; uniform sampler2D texture; #ifdef TXTALPHA uniform sampler2D texture1; #endif void main() {vec4 color= texture2D(texture, v_texcoord); #ifdef TXTALPHA color.a = texture2D(texture1, v_texcoord).a; #endif color.a*=1.0; gl_FragColor= color;}");C$s._vertType=3,this._setIBVB(C$e,C$i,this._ib,C$s,6*C$a,C$r,C$t,C$n,0,0)}},h_ep2z.enable=function(){if(C$_.__init__(),C$S.isConchApp&&!C$S.isConchWebGL)return C$A.skinAniSprite=function(){return new C$it},h_ep2z.expandContext(),!1;if(C$A.getWebGLContext=function(C$t){for(var C$e,C$i=["webgl","experimental-webgl","webkit-3d","moz-webgl"],C$n=0;C$n<C$i.length;C$n++){try{C$e=C$t.getContext(C$i[C$n],{stencil:C$m.isStencil,alpha:C$m.isAlpha,antialias:C$m.isAntialias,premultipliedAlpha:C$m.premultipliedAlpha,preserveDrawingBuffer:C$m.preserveDrawingBuffer})}catch(C$t){}if(C$e)return C$e}return null},null==(h_ep2z.mainContext=h_ep2z.mainContext||C$A.getWebGLContext(C$S._mainCanvas)))return!1;if(C$S.isWebGL)return!0;C$x.create=function(C$t,C$e){return new C$Qt(C$t,C$e)},C$b.create=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){return new C$Wt(C$t,C$e,C$i,C$n,C$r,C$s,C$a)},C$S.WebGL=h_ep2z,C$S.isWebGL=!0,C$ft.__init__(),C$A.createRenderSprite=function(C$t,C$e){return new C$Tt(C$t,C$e)},C$A.createWebGLContext2D=function(C$t){return new C$bt(C$t)},C$A.changeWebGLSize=function(C$t,C$e){laya.webgl.WebGL.onStageResize(C$t,C$e)},C$A.createGraphics=function(){return new C$yt};var C$t=C$A.createFilterAction;return C$A.createFilterAction=C$t||function(C$t){return new C$Mt},C$A.clear=function(C$t){C$l.worldScissorTest&&laya.webgl.WebGL.mainContext.disable(3089);var C$e=C$S.context.ctx,C$t=0==C$e._submits._length||C$m.preserveDrawingBuffer?C$f.create(C$t)._color:C$R._wgColor;C$t&&C$e.clearBG(C$t[0],C$t[1],C$t[2],C$t[3]),C$l.clear()},C$A.addToAtlas=function(C$t,C$e){void 0===C$e&&(C$e=!1);C$e=C$t.bitmap;C$S.optimizeTextureMemory(C$t.url,C$t)?C$g.__typeof(C$e,"laya.webgl.resource.IMergeAtlasBitmap")&&C$e.allowMerageInAtlas&&C$e.on("recovered",C$t,C$t.addTextureToAtlas):C$e.enableMerageInAtlas=!1},C$A.isAtlas=function(C$t){return C$t instanceof laya.webgl.atlas.AtlasWebGLCanvas},C$U._enable(),C$A.beginFlush=function(){for(var C$t=C$U.instance,C$e=C$t.getAtlaserCount(),C$i=0;C$i<C$e;C$i++){var C$n=C$t.getAtlaserByIndex(C$i).texture;C$n._flashCacheImageNeedFlush&&C$A.flashFlushImage(C$n)}},C$A.drawToCanvas=function(C$t,C$e,C$i,C$n,C$r,C$s){(C$i<=0||C$n<=0)&&console.log("[error] canvasWidth and canvasHeight should greater than zero"),C$r|=0,C$s|=0;var C$a=C$Bt.create(C$i|=0,C$n|=0,6408,5121,0,!1);C$a.start(),C$a.clear(0,0,0,0),C$S.context.clear(),C$C.renders[C$e]._fun(C$t,C$S.context,C$r,C$l.height-C$n+C$s),C$S.context.flush(),C$a.end();C$e=C$a.getData(0,0,C$i,C$n);if(C$a.recycle(),C$e.byteLength==C$i*C$n*4)return(C$t=new C$Ut)._canvas=C$_.createElement("canvas"),C$t.size(C$i,C$n),C$r=C$t._canvas.getContext("2d"),C$_.canvas.size(C$i,C$n),(C$a=(C$s=C$_.context).createImageData(C$i,C$n)).data.set(new Uint8ClampedArray(C$e.buffer)),C$t._imgData=C$a,C$s.putImageData(C$a,0,0),C$r.save(),C$r.translate(0,C$n),C$r.scale(1,-1),C$r.drawImage(C$_.canvas.source,0,0),C$r.restore(),C$t;console.log("drawToCanvas error: w:"+C$i+",h:"+C$n+",datalen:"+C$e.byteLength)},C$A.createFilterAction=function(C$t){var C$e;return C$e=32===C$t?new C$Mt:C$e},C$A.addTextureToAtlas=function(C$t){C$t._uvID++,C$U._atlasRestore++,C$t.bitmap.enableMerageInAtlas&&C$U.instance.addToAtlas(C$t)},C$A.getTexturePixels=function(C$t,C$e,C$u,C$i,C$n){C$S.context.ctx.clear();var C$r=new C$I;C$r.graphics.drawTexture(C$t,-C$e,-C$u);C$t=C$Bt.create(C$i,C$n);C$t.start(),C$t.clear(0,0,0,0),C$r.render(C$S.context,0,0),C$S.context.ctx.flush(),C$t.end();for(var C$s,C$a=C$t.getData(0,0,C$i,C$n),C$o=[],C$h=C$n-1;0<=C$h;C$h--)for(var C$l=0;C$l<C$i;C$l++)C$o.push(C$a[C$s=4*(C$h*C$i+C$l)]),C$o.push(C$a[1+C$s]),C$o.push(C$a[2+C$s]),C$o.push(C$a[3+C$s]);return C$o},C$A.skinAniSprite=function(){return new C$it},C$v.create=function(C$t,C$e){var C$i=new C$Ut;return C$i._imgData=C$e,C$i.flipY=!1,C$i},C$y._filterStart=function(C$t,C$e,C$i,C$n,C$r){var C$s=C$t.getValue("bounds"),C$s=C$Bt.create(C$s.width,C$s.height);C$s.start(),C$s.clear(0,0,0,0),C$t.addValue("src",C$s),C$t.addValue("ScissorTest",C$l.worldScissorTest),C$l.worldScissorTest&&((C$s=new C$M).copyFrom(C$i.ctx._clipRect),C$t.addValue("clipRect",C$s),C$l.worldScissorTest=!1,laya.webgl.WebGL.mainContext.disable(3089))},C$y._filterEnd=function(C$t,C$e,C$i,C$n,C$r){var C$s=C$t.getValue("bounds");C$t.getValue("src").end();C$s=C$Bt.create(C$s.width,C$s.height);C$s.start(),C$s.clear(0,0,0,0),C$t.addValue("out",C$s),C$e._set$P("_filterCache",C$s),C$e._set$P("_isHaveGlowFilter",C$t.getValue("_isHaveGlowFilter"))},C$y._EndTarget=function(C$t,C$e){C$t.getValue("src").recycle(),C$t.getValue("out").end(),C$t.getValue("ScissorTest")&&(C$l.worldScissorTest=!0,laya.webgl.WebGL.mainContext.enable(3089),C$e.ctx.save(),C$t=C$t.getValue("clipRect"),C$e.ctx.clipRect(C$t.x,C$t.y,C$t.width,C$t.height))},C$y._useSrc=function(C$t){var C$e=C$t.getValue("out");C$e.end(),(C$e=C$t.getValue("src")).start(),C$e.clear(0,0,0,0)},C$y._endSrc=function(C$t){C$t.getValue("src").end()},C$y._useOut=function(C$t){var C$e=C$t.getValue("src");C$e.end(),(C$e=C$t.getValue("out")).start(),C$e.clear(0,0,0,0)},C$y._endOut=function(C$t){C$t.getValue("out").end()},C$y._recycleScope=function(C$t){C$t.recycle()},C$y._filter=function(C$t,C$e,C$i,C$n){var C$u=this._next;if(C$u){var C$c,C$r,C$_=C$t.filters,C$d=C$_.length;if(1==C$d&&32==C$_[0].type)return C$e.ctx.save(),C$e.ctx.setFilters([C$_[0]]),C$u._fun.call(C$u,C$t,C$e,C$i,C$n),void C$e.ctx.restore();var C$s=C$ht.create(),C$a=C$T.TEMP,C$o=C$e.ctx._getTransformMatrix(),C$h=C$w.create();C$o.copyTo(C$h);var C$o=0,C$f=0,C$p=!1,C$m=C$t._$P._filterCache||null;if(!C$m||C$t._repaint){C$p=C$t._isHaveGlowFilter(),C$s.addValue("_isHaveGlowFilter",C$p),C$p&&(C$o=50,C$f=25),(C$r=new C$M).copyFrom(C$t.getSelfBounds()),C$r.x+=C$t.x,C$r.y+=C$t.y,C$r.x-=C$t.pivotX+4,C$r.y-=C$t.pivotY+4;var C$g=C$r.x,C$v=C$r.y;if(C$r.width+=C$o+8,C$r.height+=C$o+8,C$a.x=C$r.x*C$h.a+C$r.y*C$h.c,C$a.y=C$r.y*C$h.d+C$r.x*C$h.b,C$r.x=C$a.x,C$r.y=C$a.y,C$a.x=C$r.width*C$h.a+C$r.height*C$h.c,C$a.y=C$r.height*C$h.d+C$r.width*C$h.b,C$r.width=C$a.x,C$r.height=C$a.y,C$r.width<=0||C$r.height<=0)return;C$m&&C$m.recycle(),C$s.addValue("bounds",C$r);var C$l=C$ot.create([C$s,C$t,C$e,0,0],C$y._filterStart);C$e.addRenderObject(C$l),C$e.ctx._renderKey=0,C$e.ctx._shader2D.glTexture=null;C$g=C$t.x-C$g+C$f,C$v=C$t.y-C$v+C$f;C$u._fun.call(C$u,C$t,C$e,C$g,C$v),C$l=C$ot.create([C$s,C$t,C$e,0,0],C$y._filterEnd),C$e.addRenderObject(C$l);for(var C$x=0;C$x<C$d;C$x++)0!=C$x&&(C$l=C$ot.create([C$s],C$y._useSrc),C$e.addRenderObject(C$l),C$c=C$wt.create(1,0),C$w.TEMP.identity(),C$e.ctx.drawTarget(C$s,0,0,C$r.width,C$r.height,C$w.TEMP,"out",C$c,null,C$H.TOINT.overlay),C$l=C$ot.create([C$s],C$y._useOut),C$e.addRenderObject(C$l)),C$_[C$x].action.apply3d(C$s,C$t,C$e,0,0);C$l=C$ot.create([C$s,C$e],C$y._EndTarget),C$e.addRenderObject(C$l)}else{if((C$p=!!C$t._$P._isHaveGlowFilter&&C$t._$P._isHaveGlowFilter)&&(C$o=50,C$f=25),(C$r=C$t.getBounds()).width<=0||C$r.height<=0)return;C$r.width+=C$o,C$r.height+=C$o,C$a.x=C$r.x*C$h.a+C$r.y*C$h.c,C$a.y=C$r.y*C$h.d+C$r.x*C$h.b,C$r.x=C$a.x,C$r.y=C$a.y,C$a.x=C$r.width*C$h.a+C$r.height*C$h.c,C$a.y=C$r.height*C$h.d+C$r.width*C$h.b,C$r.width=C$a.x,C$r.height=C$a.y,C$s.addValue("out",C$m)}C$i=C$i-C$f-C$t.x,C$n=C$n-C$f-C$t.y,C$a.setTo(C$i,C$n),C$h.transformPoint(C$a),C$i=C$a.x+C$r.x,C$n=C$a.y+C$r.y,C$c=C$wt.create(1,0),C$w.TEMP.identity(),C$e.ctx.drawTarget(C$s,C$i,C$n,C$r.width,C$r.height,C$w.TEMP,"out",C$c,null,C$H.TOINT.overlay),C$l=C$ot.create([C$s],C$y._recycleScope),C$e.addRenderObject(C$l),C$h.destroy()}},Float32Array.prototype.slice||(Float32Array.prototype.slice=h_ep2z._float32ArraySlice),Uint16Array.prototype.slice||(Uint16Array.prototype.slice=h_ep2z._uint16ArraySlice),Uint8Array.prototype.slice||(Uint8Array.prototype.slice=h_ep2z._uint8ArraySlice),!0},h_ep2z.onStageResize=function(C$t,C$e){null!=h_ep2z.mainContext&&(h_ep2z.mainContext.viewport(0,0,C$t,C$e),C$l.width=C$t,C$l.height=C$e)},h_ep2z.onInvalidGLRes=function(){C$U.instance.freeAll(),C$E.releaseContentManagers(!0),h_ep2z.doNodeRepaint(C$g.stage),h_ep2z.mainContext.viewport(0,0,C$l.width,C$l.height),C$g.stage.event("devicelost")},h_ep2z.doNodeRepaint=function(C$t){0==C$t.numChildren&&C$t.repaint();for(var C$e=0;C$e<C$t.numChildren;C$e++)h_ep2z.doNodeRepaint(C$t.getChildAt(C$e))},h_ep2z.init=function(C$t,C$e,C$i){h_ep2z.mainCanvas=C$t,C$v._createContext=function(C$t){return new C$bt(C$t)},C$Ut._createContext=function(C$t){return new C$bt(C$t)};var C$n=laya.webgl.WebGL.mainContext;var C$r;if(null!=C$n.getShaderPrecisionFormat?(C$t=C$n.getShaderPrecisionFormat(35633,36338),C$r=C$n.getShaderPrecisionFormat(35632,36338),h_ep2z.shaderHighPrecision=!(!C$t.precision||!C$r.precision)):h_ep2z.shaderHighPrecision=!1,h_ep2z.compressAstc=C$n.getExtension("WEBGL_compressed_texture_astc"),h_ep2z.compressAtc=C$n.getExtension("WEBGL_compressed_texture_atc"),h_ep2z.compressEtc=C$n.getExtension("WEBGL_compressed_texture_etc"),h_ep2z.compressEtc1=C$n.getExtension("WEBGL_compressed_texture_etc1"),h_ep2z.compressPvrtc=C$n.getExtension("WEBGL_compressed_texture_pvrtc"),h_ep2z.compressS3tc=C$n.getExtension("WEBGL_compressed_texture_s3tc"),h_ep2z.compressS3tc_srgb=C$n.getExtension("WEBGL_compressed_texture_s3tc_srgb"),h_ep2z.compressAstc=h_ep2z.compressAstc||{},h_ep2z.compressAtc=h_ep2z.compressAtc||{},h_ep2z.compressEtc=h_ep2z.compressEtc||{},h_ep2z.compressEtc1=h_ep2z.compressEtc1||{},h_ep2z.compressPvrtc=h_ep2z.compressPvrtc||{},h_ep2z.compressS3tc=h_ep2z.compressS3tc||{},h_ep2z.compressS3tc_srgb=h_ep2z.compressS3tc_srgb||{},C$n.deleteTexture1=C$n.deleteTexture,C$n.deleteTexture=function(C$t){C$t==C$xt.curBindTexValue&&(C$xt.curBindTexValue=null),C$n.deleteTexture1(C$t)},h_ep2z.onStageResize(C$e,C$i),null==h_ep2z.mainContext)throw new Error("webGL getContext err!");C$B.__init__(),C$U.__init__(),C$Ct.__init__(),C$at.__init__(),C$bt.__init__(),C$wt.__init__(),C$tt.__init__(),C$Yt.__int__(C$n),C$H._init_(C$n),C$S.isConchApp&&conch.setOnInvalidGLRes(h_ep2z.onInvalidGLRes)},h_ep2z.mainCanvas=null,h_ep2z.antialias=!0,h_ep2z.shaderHighPrecision=!1,h_ep2z._bg_null=[0,0,0,0],h_ep2z),C$xt=(C$e(rivjx,"laya.webgl.WebGLContext"),rivjx.UseProgram=function(C$t){return rivjx._useProgram!==C$t&&(C$u.mainContext.useProgram(C$t),rivjx._useProgram=C$t,!0)},rivjx.setDepthTest=function(C$t,C$e){C$e!==rivjx._depthTest&&((rivjx._depthTest=C$e)?C$t.enable(2929):C$t.disable(2929))},rivjx.setDepthMask=function(C$t,C$e){C$e!==rivjx._depthMask&&(rivjx._depthMask=C$e,C$t.depthMask(C$e))},rivjx.setDepthFunc=function(C$t,C$e){C$e!==rivjx._depthFunc&&(rivjx._depthFunc=C$e,C$t.depthFunc(C$e))},rivjx.setBlend=function(C$t,C$e){C$e!==rivjx._blend&&((rivjx._blend=C$e)?C$t.enable(3042):C$t.disable(3042))},rivjx.setBlendFunc=function(C$t,C$e,C$i){C$e===rivjx._sFactor&&C$i===rivjx._dFactor||(rivjx._sFactor=C$e,rivjx._dFactor=C$i,C$t.blendFunc(C$e,C$i))},rivjx.setCullFace=function(C$t,C$e){C$e!==rivjx._cullFace&&((rivjx._cullFace=C$e)?C$t.enable(2884):C$t.disable(2884))},rivjx.setFrontFace=function(C$t,C$e){C$e!==rivjx._frontFace&&(rivjx._frontFace=C$e,C$t.frontFace(C$e))},rivjx.bindTexture=function(C$t,C$e,C$i){C$t.bindTexture(C$e,C$i),rivjx.curBindTexTarget=C$e,rivjx.curBindTexValue=C$i},rivjx.DEPTH_BUFFER_BIT=256,rivjx.STENCIL_BUFFER_BIT=1024,rivjx.COLOR_BUFFER_BIT=16384,rivjx.POINTS=0,rivjx.LINES=1,rivjx.LINE_LOOP=2,rivjx.LINE_STRIP=3,rivjx.TRIANGLES=4,rivjx.TRIANGLE_STRIP=5,rivjx.TRIANGLE_FAN=6,rivjx.ZERO=0,rivjx.ONE=1,rivjx.SRC_COLOR=768,rivjx.ONE_MINUS_SRC_COLOR=769,rivjx.SRC_ALPHA=770,rivjx.ONE_MINUS_SRC_ALPHA=771,rivjx.DST_ALPHA=772,rivjx.ONE_MINUS_DST_ALPHA=773,rivjx.DST_COLOR=774,rivjx.ONE_MINUS_DST_COLOR=775,rivjx.SRC_ALPHA_SATURATE=776,rivjx.FUNC_ADD=32774,rivjx.BLEND_EQUATION=32777,rivjx.BLEND_EQUATION_RGB=32777,rivjx.BLEND_EQUATION_ALPHA=34877,rivjx.FUNC_SUBTRACT=32778,rivjx.FUNC_REVERSE_SUBTRACT=32779,rivjx.BLEND_DST_RGB=32968,rivjx.BLEND_SRC_RGB=32969,rivjx.BLEND_DST_ALPHA=32970,rivjx.BLEND_SRC_ALPHA=32971,rivjx.CONSTANT_COLOR=32769,rivjx.ONE_MINUS_CONSTANT_COLOR=32770,rivjx.CONSTANT_ALPHA=32771,rivjx.ONE_MINUS_CONSTANT_ALPHA=32772,rivjx.BLEND_COLOR=32773,rivjx.ARRAY_BUFFER=34962,rivjx.ELEMENT_ARRAY_BUFFER=34963,rivjx.ARRAY_BUFFER_BINDING=34964,rivjx.ELEMENT_ARRAY_BUFFER_BINDING=34965,rivjx.STREAM_DRAW=35040,rivjx.STATIC_DRAW=35044,rivjx.DYNAMIC_DRAW=35048,rivjx.BUFFER_SIZE=34660,rivjx.BUFFER_USAGE=34661,rivjx.CURRENT_VERTEX_ATTRIB=34342,rivjx.FRONT=1028,rivjx.BACK=1029,rivjx.CULL_FACE=2884,rivjx.FRONT_AND_BACK=1032,rivjx.BLEND=3042,rivjx.DITHER=3024,rivjx.STENCIL_TEST=2960,rivjx.DEPTH_TEST=2929,rivjx.SCISSOR_TEST=3089,rivjx.POLYGON_OFFSET_FILL=32823,rivjx.SAMPLE_ALPHA_TO_COVERAGE=32926,rivjx.SAMPLE_COVERAGE=32928,rivjx.NO_ERROR=0,rivjx.INVALID_ENUM=1280,rivjx.INVALID_VALUE=1281,rivjx.INVALID_OPERATION=1282,rivjx.OUT_OF_MEMORY=1285,rivjx.CW=2304,rivjx.CCW=2305,rivjx.LINE_WIDTH=2849,rivjx.ALIASED_POINT_SIZE_RANGE=33901,rivjx.ALIASED_LINE_WIDTH_RANGE=33902,rivjx.CULL_FACE_MODE=2885,rivjx.FRONT_FACE=2886,rivjx.DEPTH_RANGE=2928,rivjx.DEPTH_WRITEMASK=2930,rivjx.DEPTH_CLEAR_VALUE=2931,rivjx.DEPTH_FUNC=2932,rivjx.STENCIL_CLEAR_VALUE=2961,rivjx.STENCIL_FUNC=2962,rivjx.STENCIL_FAIL=2964,rivjx.STENCIL_PASS_DEPTH_FAIL=2965,rivjx.STENCIL_PASS_DEPTH_PASS=2966,rivjx.STENCIL_REF=2967,rivjx.STENCIL_VALUE_MASK=2963,rivjx.STENCIL_WRITEMASK=2968,rivjx.STENCIL_BACK_FUNC=34816,rivjx.STENCIL_BACK_FAIL=34817,rivjx.STENCIL_BACK_PASS_DEPTH_FAIL=34818,rivjx.STENCIL_BACK_PASS_DEPTH_PASS=34819,rivjx.STENCIL_BACK_REF=36003,rivjx.STENCIL_BACK_VALUE_MASK=36004,rivjx.STENCIL_BACK_WRITEMASK=36005,rivjx.VIEWPORT=2978,rivjx.SCISSOR_BOX=3088,rivjx.COLOR_CLEAR_VALUE=3106,rivjx.COLOR_WRITEMASK=3107,rivjx.UNPACK_ALIGNMENT=3317,rivjx.PACK_ALIGNMENT=3333,rivjx.MAX_TEXTURE_SIZE=3379,rivjx.MAX_VIEWPORT_DIMS=3386,rivjx.SUBPIXEL_BITS=3408,rivjx.RED_BITS=3410,rivjx.GREEN_BITS=3411,rivjx.BLUE_BITS=3412,rivjx.ALPHA_BITS=3413,rivjx.DEPTH_BITS=3414,rivjx.STENCIL_BITS=3415,rivjx.POLYGON_OFFSET_UNITS=10752,rivjx.POLYGON_OFFSET_FACTOR=32824,rivjx.TEXTURE_BINDING_2D=32873,rivjx.SAMPLE_BUFFERS=32936,rivjx.SAMPLES=32937,rivjx.SAMPLE_COVERAGE_VALUE=32938,rivjx.SAMPLE_COVERAGE_INVERT=32939,rivjx.NUM_COMPRESSED_TEXTURE_FORMATS=34466,rivjx.COMPRESSED_TEXTURE_FORMATS=34467,rivjx.DONT_CARE=4352,rivjx.FASTEST=4353,rivjx.NICEST=4354,rivjx.GENERATE_MIPMAP_HINT=33170,rivjx.BYTE=5120,rivjx.UNSIGNED_BYTE=5121,rivjx.SHORT=5122,rivjx.UNSIGNED_SHORT=5123,rivjx.INT=5124,rivjx.UNSIGNED_INT=5125,rivjx.FLOAT=5126,rivjx.DEPTH_COMPONENT=6402,rivjx.ALPHA=6406,rivjx.RGB=6407,rivjx.RGBA=6408,rivjx.LUMINANCE=6409,rivjx.LUMINANCE_ALPHA=6410,rivjx.UNSIGNED_SHORT_4_4_4_4=32819,rivjx.UNSIGNED_SHORT_5_5_5_1=32820,rivjx.UNSIGNED_SHORT_5_6_5=33635,rivjx.FRAGMENT_SHADER=35632,rivjx.VERTEX_SHADER=35633,rivjx.MAX_VERTEX_ATTRIBS=34921,rivjx.MAX_VERTEX_UNIFORM_VECTORS=36347,rivjx.MAX_VARYING_VECTORS=36348,rivjx.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,rivjx.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,rivjx.MAX_TEXTURE_IMAGE_UNITS=34930,rivjx.MAX_FRAGMENT_UNIFORM_VECTORS=36349,rivjx.SHADER_TYPE=35663,rivjx.DELETE_STATUS=35712,rivjx.LINK_STATUS=35714,rivjx.VALIDATE_STATUS=35715,rivjx.ATTACHED_SHADERS=35717,rivjx.ACTIVE_UNIFORMS=35718,rivjx.ACTIVE_ATTRIBUTES=35721,rivjx.SHADING_LANGUAGE_VERSION=35724,rivjx.CURRENT_PROGRAM=35725,rivjx.NEVER=512,rivjx.LESS=513,rivjx.EQUAL=514,rivjx.LEQUAL=515,rivjx.GREATER=516,rivjx.NOTEQUAL=517,rivjx.GEQUAL=518,rivjx.ALWAYS=519,rivjx.KEEP=7680,rivjx.REPLACE=7681,rivjx.INCR=7682,rivjx.DECR=7683,rivjx.INVERT=5386,rivjx.INCR_WRAP=34055,rivjx.DECR_WRAP=34056,rivjx.VENDOR=7936,rivjx.RENDERER=7937,rivjx.VERSION=7938,rivjx.NEAREST=9728,rivjx.LINEAR=9729,rivjx.NEAREST_MIPMAP_NEAREST=9984,rivjx.LINEAR_MIPMAP_NEAREST=9985,rivjx.NEAREST_MIPMAP_LINEAR=9986,rivjx.LINEAR_MIPMAP_LINEAR=9987,rivjx.TEXTURE_MAG_FILTER=10240,rivjx.TEXTURE_MIN_FILTER=10241,rivjx.TEXTURE_WRAP_S=10242,rivjx.TEXTURE_WRAP_T=10243,rivjx.TEXTURE_2D=3553,rivjx.TEXTURE=5890,rivjx.TEXTURE_CUBE_MAP=34067,rivjx.TEXTURE_BINDING_CUBE_MAP=34068,rivjx.TEXTURE_CUBE_MAP_POSITIVE_X=34069,rivjx.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,rivjx.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,rivjx.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,rivjx.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,rivjx.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,rivjx.MAX_CUBE_MAP_TEXTURE_SIZE=34076,rivjx.TEXTURE0=33984,rivjx.TEXTURE1=33985,rivjx.TEXTURE2=33986,rivjx.TEXTURE3=33987,rivjx.TEXTURE4=33988,rivjx.TEXTURE5=33989,rivjx.TEXTURE6=33990,rivjx.TEXTURE7=33991,rivjx.TEXTURE8=33992,rivjx.TEXTURE9=33993,rivjx.TEXTURE10=33994,rivjx.TEXTURE11=33995,rivjx.TEXTURE12=33996,rivjx.TEXTURE13=33997,rivjx.TEXTURE14=33998,rivjx.TEXTURE15=33999,rivjx.TEXTURE16=34e3,rivjx.TEXTURE17=34001,rivjx.TEXTURE18=34002,rivjx.TEXTURE19=34003,rivjx.TEXTURE20=34004,rivjx.TEXTURE21=34005,rivjx.TEXTURE22=34006,rivjx.TEXTURE23=34007,rivjx.TEXTURE24=34008,rivjx.TEXTURE25=34009,rivjx.TEXTURE26=34010,rivjx.TEXTURE27=34011,rivjx.TEXTURE28=34012,rivjx.TEXTURE29=34013,rivjx.TEXTURE30=34014,rivjx.TEXTURE31=34015,rivjx.ACTIVE_TEXTURE=34016,rivjx.REPEAT=10497,rivjx.CLAMP_TO_EDGE=33071,rivjx.MIRRORED_REPEAT=33648,rivjx.FLOAT_VEC2=35664,rivjx.FLOAT_VEC3=35665,rivjx.FLOAT_VEC4=35666,rivjx.INT_VEC2=35667,rivjx.INT_VEC3=35668,rivjx.INT_VEC4=35669,rivjx.BOOL=35670,rivjx.BOOL_VEC2=35671,rivjx.BOOL_VEC3=35672,rivjx.BOOL_VEC4=35673,rivjx.FLOAT_MAT2=35674,rivjx.FLOAT_MAT3=35675,rivjx.FLOAT_MAT4=35676,rivjx.SAMPLER_2D=35678,rivjx.SAMPLER_CUBE=35680,rivjx.VERTEX_ATTRIB_ARRAY_ENABLED=34338,rivjx.VERTEX_ATTRIB_ARRAY_SIZE=34339,rivjx.VERTEX_ATTRIB_ARRAY_STRIDE=34340,rivjx.VERTEX_ATTRIB_ARRAY_TYPE=34341,rivjx.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,rivjx.VERTEX_ATTRIB_ARRAY_POINTER=34373,rivjx.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,rivjx.COMPILE_STATUS=35713,rivjx.LOW_FLOAT=36336,rivjx.MEDIUM_FLOAT=36337,rivjx.HIGH_FLOAT=36338,rivjx.LOW_INT=36339,rivjx.MEDIUM_INT=36340,rivjx.HIGH_INT=36341,rivjx.FRAMEBUFFER=36160,rivjx.RENDERBUFFER=36161,rivjx.RGBA4=32854,rivjx.RGB5_A1=32855,rivjx.RGB565=36194,rivjx.DEPTH_COMPONENT16=33189,rivjx.STENCIL_INDEX=6401,rivjx.STENCIL_INDEX8=36168,rivjx.DEPTH_STENCIL=34041,rivjx.RENDERBUFFER_WIDTH=36162,rivjx.RENDERBUFFER_HEIGHT=36163,rivjx.RENDERBUFFER_INTERNAL_FORMAT=36164,rivjx.RENDERBUFFER_RED_SIZE=36176,rivjx.RENDERBUFFER_GREEN_SIZE=36177,rivjx.RENDERBUFFER_BLUE_SIZE=36178,rivjx.RENDERBUFFER_ALPHA_SIZE=36179,rivjx.RENDERBUFFER_DEPTH_SIZE=36180,rivjx.RENDERBUFFER_STENCIL_SIZE=36181,rivjx.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,rivjx.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,rivjx.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,rivjx.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,rivjx.COLOR_ATTACHMENT0=36064,rivjx.DEPTH_ATTACHMENT=36096,rivjx.STENCIL_ATTACHMENT=36128,rivjx.DEPTH_STENCIL_ATTACHMENT=33306,rivjx.NONE=0,rivjx.FRAMEBUFFER_COMPLETE=36053,rivjx.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,rivjx.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,rivjx.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,rivjx.FRAMEBUFFER_UNSUPPORTED=36061,rivjx.FRAMEBUFFER_BINDING=36006,rivjx.RENDERBUFFER_BINDING=36007,rivjx.MAX_RENDERBUFFER_SIZE=34024,rivjx.INVALID_FRAMEBUFFER_OPERATION=1286,rivjx.UNPACK_FLIP_Y_WEBGL=37440,rivjx.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,rivjx.CONTEXT_LOST_WEBGL=37442,rivjx.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,rivjx.BROWSER_DEFAULT_WEBGL=37444,rivjx._useProgram=null,rivjx._depthTest=!0,rivjx._depthMask=!0,rivjx._blend=!1,rivjx._cullFace=!1,rivjx.curBindTexTarget=null,rivjx.curBindTexValue=null,C$r(rivjx,["_depthFunc",function(){return this._depthFunc=513},"_sFactor",function(){return this._sFactor=1},"_dFactor",function(){return this._dFactor=0},"_frontFace",function(){return this._frontFace=2305}]),rivjx),C$yt=(C$e(z6hc8t,"laya.webgl.display.GraphicsGL",C$t),(C$he=z6hc8t.prototype).setShader=function(C$t){this._saveToCmd(C$S.context._setShader,[C$t])},C$he.setIBVB=function(C$t,C$e,C$i,C$n,C$r,C$s){this._saveToCmd(C$S.context._setIBVB,[C$t,C$e,C$i,C$n,C$r,C$s])},C$he.drawParticle=function(C$t,C$e,C$i){C$i=C$A.createParticleTemplate2D(C$i);C$i.x=C$t,C$i.y=C$e,this._saveToCmd(C$S.context._drawParticle,[C$i])},z6hc8t),C$bt=(C$e(z_pe,"laya.webgl.canvas.WebGLContext2D",C$p),(C$t=z_pe.prototype).setIsMainContext=function(){this._isMain=!0},C$t.clearBG=function(C$t,C$e,C$i,C$n){var C$r=C$u.mainContext;C$r.clearColor(C$t,C$e,C$i,C$n),C$r.clear(16384)},C$t._getSubmits=function(){return this._submits},C$t._releaseMem=function(){if(this._submits){this._curMat.destroy(),this._curMat=null,this._shader2D.destroy(),this._shader2D=null;for(var C$t=0,C$e=this._submits._length;C$t<C$e;C$t++)this._submits[C$t].releaseRender();this._submits.length=0,this._submits._length=0,this._submits=null,this._curSubmit=null,this._path&&this._path.recover(),this._path=null,this._other&&(this._other.font=null),this._save=null,this._vb&&(this._vb.releaseResource(),this._vb.destroy(),this._vb.destory(),this._vb=null)}},C$t.destroy=function(){--z_pe._contextcount,this.sprite=null,this._releaseMem(),this._targets&&this._targets.destroy(),this._targets=null,this._canvas&&this._canvas._removeReference(),this._canvas=null,this._ib&&this._ib!=C$Kt.QuadrangleIB&&this._ib.releaseResource()},C$t.clear=function(){this._submits||(this._other=C$se.DEFAULT,this._curMat=C$w.create(),this._vb=C$Zt.create(-1),this._submits=[],this._save=[C$K.Create(this)],this._save.length=10,this._shader2D=new C$tt,this._triangleMesh=C$Pt.getAMesh()),this._vb.clear(),this._targets&&(this._targets.repaint=!0),this._other=C$se.DEFAULT,this._clear=!0,this._repaint=!1,this._drawCount=1,this._renderKey=0,this._other.lineWidth=this._shader2D.ALPHA=1,this._nBlendType=0,this._clipRect=z_pe.MAXCLIPRECT,this._curSubmit=C$at.RENDERBASE,this._shader2D.glTexture=null,this._shader2D.fillStyle=this._shader2D.strokeStyle=C$W.DEFAULT;for(var C$t=0,C$e=this._submits._length;C$t<C$e;C$t++)this._submits[C$t].releaseRender(),this._submits[C$t]=null;this._submits._length=0,this._curMat.identity(),this._other.clear(),this._saveMark=this._save[0],this._save._length=1},C$t.size=function(C$t,C$e){if(this._width!=C$t||this._height!=C$e)if(0==C$t||0==C$e){0!=this._vb._byteLength&&(this._width=C$t,this._height=C$e,this._vb.clear(),this._vb.upload());for(var C$i=0,C$n=this._submits._length;C$i<C$n;C$i++)this._submits[C$i].releaseRender();this._submits.length=0,this._submits._length=0,this._curSubmit=null,this._path&&this._path.recover(),this._path=null,this.sprite=null,this._targets&&this._targets.destroy(),this._targets=null}else this._width=C$t,this._height=C$e,this._targets&&this._targets.size(C$t,C$e),this._canvas.memorySize-=this._canvas.memorySize;0===C$t&&0===C$e&&this._releaseMem()},C$t._getTransformMatrix=function(){return this._curMat},C$t.translate=function(C$t,C$e){0===C$t&&0===C$e||(C$Q.save(this),this._curMat.bTransform&&(C$Z.save(this),this._curMat.transformPointN(C$T.TEMP.setTo(C$t,C$e)),C$t=C$T.TEMP.x,C$e=C$T.TEMP.y),this._x+=C$t,this._y+=C$e)},C$t.save=function(){this._save[this._save._length++]=C$K.Create(this)},C$t.restore=function(){var C$t=this._save._length;if(!(C$t<1))for(var C$e=C$t-1;0<=C$e;C$e--){var C$i=this._save[C$e];if(C$i.restore(this),C$i.isSaveMark())return void(this._save._length=C$e)}},C$t._fillText=function(C$t,C$e,C$i,C$n,C$r,C$s,C$u,C$c,C$_,C$a){void 0===C$a&&(C$a=0);var C$o=this._shader2D,C$h=this._curSubmit.shaderValue,C$r=C$r?C$pt.create(C$r):this._other.font;var C$l;C$U.enabled?C$o.ALPHA!==C$h.ALPHA&&(C$o.glTexture=null):(this._shader2D.defines.getValue(),C$l=C$s?C$f.create(C$s)._color:C$o.colorAdd,C$o.ALPHA===C$h.ALPHA&&C$l===C$o.colorAdd&&C$h.colorAdd===C$o.colorAdd||(C$o.glTexture=null,C$o.colorAdd=C$l)),C$ft.drawText(this,C$t,C$e,this._curMat,C$r,C$_||this._other.textAlign,C$s,C$u,C$c,C$i,C$n,C$a)},C$t.fillWords=function(C$t,C$e,C$i,C$n,C$r,C$s){this._fillText(null,C$t,C$e,C$i,C$n,C$r,null,-1,null,C$s)},C$t.fillBorderWords=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){this._fillBorderText(null,C$t,C$e,C$i,C$n,C$r,C$s,C$a,null)},C$t.fillText=function(C$t,C$e,C$i,C$n,C$r,C$s){this._fillText(C$t,null,C$e,C$i,C$n,C$r,null,-1,C$s)},C$t.strokeText=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){this._fillText(C$t,null,C$e,C$i,C$n,null,C$r,C$s||1,C$a)},C$t.fillBorderText=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){this._fillBorderText(C$t,null,C$e,C$i,C$n,C$r,C$s,C$a,C$o)},C$t._fillBorderText=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h){if(!C$U.enabled)return this._fillText(C$t,C$e,C$i,C$n,C$r,null,C$a,C$o||1,C$h),void this._fillText(C$t,C$e,C$i,C$n,C$r,C$s,null,-1,C$h);var C$u=this._shader2D,C$l=this._curSubmit.shaderValue;C$u.ALPHA!==C$l.ALPHA&&(C$u.glTexture=null);C$l=C$r?(z_pe._fontTemp.setFont(C$r),z_pe._fontTemp):this._other.font;C$ft.drawText(this,C$t,C$e,this._curMat,C$l,C$h||this._other.textAlign,C$s,C$a,C$o||1,C$i,C$n,0)},C$t.fillRect=function(C$t,C$e,C$i,C$n,C$r){var C$s=this._vb;C$gt.fillRectImgVb(C$s,this._clipRect,C$t,C$e,C$i,C$n,C$N.DEF_UV,this._curMat,this._x,this._y,0,0)&&(this._renderKey=0,C$t=this._shader2D.fillStyle,C$r&&(this._shader2D.fillStyle=C$W.create(C$r)),C$e=this._shader2D,C$i=this._curSubmit.shaderValue,C$e.fillStyle===C$i.fillStyle&&C$e.ALPHA===C$i.ALPHA||(C$e.glTexture=null,(C$n=this._curSubmit=C$at.createSubmit(this,this._ib,C$s,(C$s._byteLength-64)/32*3,C$wt.create(2,0))).shaderValue.color=C$e.fillStyle._color._color,C$n.shaderValue.ALPHA=C$e.ALPHA,this._submits[this._submits._length++]=C$n),this._curSubmit._numEle+=6,this._shader2D.fillStyle=C$t)},C$t.fillTexture=function(C$t,C$u,C$c,C$e,C$i,C$n,C$_,C$r){if(C$t.loaded&&C$t.bitmap&&C$t.source){var C$d=this._vb,C$s=C$t.bitmap.width,C$a=C$t.bitmap.height,C$o=C$t.uv,C$h=C$_.x%C$t.width,C$l=C$_.y%C$t.height;if(C$s!=C$r.w||C$a!=C$r.h){if(!C$r.w&&!C$r.h)switch(C$r.oy=C$r.ox=0,C$n){case"repeat":C$r.width=C$e,C$r.height=C$i;break;case"repeat-x":C$r.width=C$e,C$l<0?C$t.height+C$l>C$i?C$r.height=C$i:C$r.height=C$t.height+C$l:(C$r.oy=C$l,C$t.height+C$l>C$i?C$r.height=C$i-C$l:C$r.height=C$t.height);break;case"repeat-y":C$h<0?C$t.width+C$h>C$e?C$r.width=C$e:C$r.width=C$t.width+C$h:(C$r.ox=C$h,C$t.width+C$h>C$e?C$r.width=C$e-C$h:C$r.width=C$t.width),C$r.height=C$i;break;case"no-repeat":C$h<0?C$t.width+C$h>C$e?C$r.width=C$e:C$r.width=C$t.width+C$h:(C$r.ox=C$h,C$t.width+C$h>C$e?C$r.width=C$e-C$h:C$r.width=C$t.width),C$l<0?C$t.height+C$l>C$i?C$r.height=C$i:C$r.height=C$t.height+C$l:(C$r.oy=C$l,C$t.height+C$l>C$i?C$r.height=C$i-C$l:C$r.height=C$t.height);break;default:C$r.width=C$e,C$r.height=C$i}C$r.w=C$s,C$r.h=C$a,C$r.uv=[0,0,C$r.width/C$s,0,C$r.width/C$s,C$r.height/C$a,0,C$r.height/C$a]}var C$f,C$p,C$m;C$u+=C$r.ox,C$c+=C$r.oy,C$h-=C$r.ox,C$l-=C$r.oy,C$gt.fillRectImgVb(C$d,this._clipRect,C$u,C$c,C$r.width,C$r.height,C$r.uv,this._curMat,this._x,this._y,0,0)&&(this._renderKey=0,C$_=C$Rt.create(this,this._ib,C$d,(C$d._byteLength-64)/32*3,C$wt.create(256,0)),(C$n=(this._submits[this._submits._length++]=C$_).shaderValue).textureHost=C$t,C$u=C$o[0]*C$s,C$c=C$o[1]*C$a,C$f=(C$o[2]-C$o[0])*C$s,C$o=(C$o[5]-C$o[3])*C$a,C$p=-C$h/C$s,C$m=-C$l/C$a,C$n.u_TexRange[0]=C$u/C$s,C$n.u_TexRange[1]=C$f/C$s,C$n.u_TexRange[2]=C$c/C$a,C$n.u_TexRange[3]=C$o/C$a,C$n.u_offset[0]=C$p,C$n.u_offset[1]=C$m,C$U.enabled&&!this._isMain&&C$_.addTexture(C$t,(C$d._byteLength>>2)-16),(this._curSubmit=C$_)._renderType=10017,C$_._numEle+=6)}else this.sprite&&C$g.timer.callLater(this,this._repaintSprite)},C$t.setShader=function(C$t){C$Y.save(this,1048576,this._shader2D,!0),this._shader2D.shader=C$t},C$t.setFilters=function(C$t){C$Y.save(this,2097152,this._shader2D,!0),this._shader2D.filters=C$t,this._curSubmit=C$at.RENDERBASE,this._renderKey=0,this._drawCount++},C$t.drawTexture=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){this._drawTextureM(C$t,C$e,C$i,C$n,C$r,C$s,C$a,null,1)},C$t.addTextureVb=function(C$t,C$e,C$i){var C$n=this._curSubmit._vb||this._vb,C$r=C$n._byteLength>>2;C$n.byteLength=C$r+16<<2;for(var C$s=C$n.getFloat32Array(),C$a=0;C$a<16;C$a+=4)C$s[C$r++]=C$t[C$a]+C$e,C$s[C$r++]=C$t[C$a+1]+C$i,C$s[C$r++]=C$t[C$a+2],C$s[C$r++]=C$t[C$a+3];this._curSubmit._numEle+=6,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle),C$n._upload=!0},C$t.willDrawTexture=function(C$t,C$e){if(!(C$t.loaded&&C$t.bitmap&&C$t.source))return this.sprite&&C$g.timer.callLater(this,this._repaintSprite),0;var C$i=C$t.bitmap,C$n=C$i.id+this._shader2D.ALPHA*C$e+10016;if(C$n==this._renderKey)return C$n;var C$r=this._shader2D,C$s=C$r.ALPHA,C$a=this._curSubmit.shaderValue;C$r.ALPHA*=C$e,this._renderKey=C$n,this._drawCount++,C$r.glTexture=C$i;var C$e=this._vb,C$i=null,C$o=C$e._byteLength/32*3,C$h=C$a.textureHost&&C$a.textureHost==C$t&&C$a.textureHost.alphaTexture==C$t.alphaTexture;return C$i=C$Rt.create(this,this._ib,C$e,C$o,C$wt.create(1,0)),(this._submits[this._submits._length++]=C$i).shaderValue.textureHost=C$t,C$i._renderType=10016,C$i._preIsSameTextureShader=10016===this._curSubmit._renderType&&C$r.ALPHA===C$a.ALPHA&&C$h,this._curSubmit=C$i,C$r.ALPHA=C$s,C$n},C$t.drawTextures=function(C$t,C$e,C$i,C$n){if(C$t.loaded&&C$t.bitmap&&C$t.source){var C$r=this._clipRect;if(this._clipRect=z_pe.MAXCLIPRECT,this._drawTextureM(C$t,C$e[0],C$e[1],C$t.width,C$t.height,C$i,C$n,null,1)){if(this._clipRect=C$r,C$P.drawCall++,!(C$e.length<4)){for(var C$s=this._curSubmit._vb||this._vb,C$a=this._curMat.a,C$o=this._curMat.d,C$h=2,C$l=C$e.length;C$h<C$l;C$h+=2)C$gt.copyPreImgVb(C$s,(C$e[C$h]-C$e[C$h-2])*C$a,(C$e[C$h+1]-C$e[C$h-1])*C$o),this._curSubmit._numEle+=6;this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle)}}else alert("drawTextures err")}else this.sprite&&C$g.timer.callLater(this,this._repaintSprite)},C$t._drawTextureM=function(C$t,C$e,C$i,C$u,C$c,C$n,C$r,C$_,C$s){if(!C$t.loaded||!C$t.source)return this.sprite&&C$g.timer.callLater(this,this._repaintSprite),!1;var C$a=this._curSubmit._vb||this._vb,C$o=C$t.bitmap;C$e+=C$n,C$i+=C$r,this._drawCount++;C$n=C$o.id+this._shader2D.ALPHA*C$s+10016;var C$h,C$l,C$d;return C$n!=this._renderKey&&(this._renderKey=C$n,C$r=this._curSubmit.shaderValue,C$h=(C$n=this._shader2D).ALPHA,C$n.ALPHA*=C$s,C$n.glTexture=C$o,C$s=null,C$l=(C$o=this._vb)._byteLength/32*3,C$d=C$r.textureHost&&C$r.textureHost==C$t&&C$r.textureHost.alphaTexture==C$t.alphaTexture,C$s=C$Rt.create(this,this._ib,C$o,C$l,C$wt.create(1,0)),(this._submits[this._submits._length++]=C$s).shaderValue.textureHost=C$t,C$s._renderType=10016,C$s._preIsSameTextureShader=10016===this._curSubmit._renderType&&C$n.ALPHA===C$r.ALPHA&&C$d,this._curSubmit=C$s,C$a=this._curSubmit._vb||this._vb,C$n.ALPHA=C$h),!!C$gt.fillRectImgVb(C$a,this._clipRect,C$e,C$i,C$u||C$t.width,C$c||C$t.height,C$t.uv,C$_||this._curMat,this._x,this._y,0,0)&&(C$U.enabled&&!this._isMain&&this._curSubmit.addTexture(C$t,(C$a._byteLength>>2)-16),this._curSubmit._numEle+=6,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle),!0)},C$t._repaintSprite=function(){this.sprite&&this.sprite.repaint()},C$t._drawText=function(C$t,C$e,C$i,C$n,C$u,C$c,C$_,C$d,C$f,C$p){var C$r=C$t.bitmap;this._drawCount++;var C$s=C$r.id+this._shader2D.ALPHA+10016;var C$a,C$o,C$h;C$s!=this._renderKey&&(this._renderKey=C$s,C$s=this._curSubmit.shaderValue,(C$a=this._shader2D).glTexture=C$r,C$r=null,C$o=(C$l=this._vb)._byteLength/32*3,C$h=C$s.textureHost&&C$s.textureHost==C$t&&C$s.textureHost.alphaTexture==C$t.alphaTexture,(C$r=C$U.enabled?C$Rt.create(this,this._ib,C$l,C$o,C$wt.create(1,0)):C$Rt.create(this,this._ib,C$l,C$o,C$Xt.create()))._preIsSameTextureShader=10016===this._curSubmit._renderType&&C$a.ALPHA===C$s.ALPHA&&C$h,(this._submits[this._submits._length++]=C$r).shaderValue.textureHost=C$t,C$r._renderType=10016,this._curSubmit=C$r),C$t.active();var C$l=this._curSubmit._vb||this._vb;C$gt.fillRectImgVb(C$l,this._clipRect,C$e+C$_,C$i+C$d,C$n||C$t.width,C$u||C$t.height,C$t.uv,C$c||this._curMat,this._x,this._y,C$f,C$p,!0)&&(C$U.enabled&&!this._isMain&&this._curSubmit.addTexture(C$t,(C$l._byteLength>>2)-16),this._curSubmit._numEle+=6,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle))},C$t.drawTextureWithTransform=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h){var C$l,C$u,C$c;C$s?(C$l=this._curMat,C$u=this._x,C$c=this._y,0===C$a&&0===C$o||(this._x=C$a*C$l.a+C$o*C$l.c,this._y=C$o*C$l.d+C$a*C$l.b),C$s&&C$l.bTransform?(C$w.mul(C$s,C$l,z_pe._tmpMatrix),(C$s=z_pe._tmpMatrix)._checkTransform()):(this._x+=C$l.tx,this._y+=C$l.ty),this._drawTextureM(C$t,C$e,C$i,C$n,C$r,0,0,C$s,C$h),this._x=C$u,this._y=C$c):this._drawTextureM(C$t,C$e,C$i,C$n,C$r,C$a,C$o,null,C$h)},C$t.fillQuadrangle=function(C$t,C$e,C$i,C$n,C$r){var C$s=this._curSubmit,C$a=this._vb,C$o=this._shader2D,C$h=C$s.shaderValue;var C$l;this._renderKey=0,C$t.bitmap?(C$l=C$t.bitmap,C$o.glTexture==C$l&&C$o.ALPHA===C$h.ALPHA||(C$o.glTexture=C$l,(C$s=this._curSubmit=C$at.createSubmit(this,this._ib,C$a,C$a._byteLength/32*3,C$wt.create(1,0))).shaderValue.glTexture=C$l,this._submits[this._submits._length++]=C$s),C$gt.fillQuadrangleImgVb(C$a,C$e,C$i,C$n,C$t.uv,C$r||this._curMat,this._x,this._y)):(C$s.shaderValue.fillStyle&&C$s.shaderValue.fillStyle.equal(C$t)&&C$o.ALPHA===C$h.ALPHA||(C$o.glTexture=null,(C$s=this._curSubmit=C$at.createSubmit(this,this._ib,C$a,C$a._byteLength/32*3,C$wt.create(2,0))).shaderValue.defines.add(2),C$s.shaderValue.fillStyle=C$W.create(C$t),this._submits[this._submits._length++]=C$s),C$gt.fillQuadrangleImgVb(C$a,C$e,C$i,C$n,C$N.DEF_UV,C$r||this._curMat,this._x,this._y)),C$s._numEle+=6},C$t.drawTexture2=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){var C$h;0!=C$s&&(C$h=this._curMat,this._x=C$t*C$h.a+C$e*C$h.c,this._y=C$e*C$h.d+C$t*C$h.b,C$r=C$r&&(C$h.bTransform||C$r.bTransform?(C$w.mul(C$r,C$h,z_pe._tmpMatrix),z_pe._tmpMatrix):(this._x+=C$r.tx+C$h.tx,this._y+=C$r.ty+C$h.ty,C$w.EMPTY)),1!==C$s||C$a?(C$e=this._shader2D.ALPHA,C$t=this._nBlendType,this._shader2D.ALPHA=C$s,C$a&&(this._nBlendType=C$H.TOINT(C$a)),this._drawTextureM(C$o[0],C$o[1]-C$i,C$o[2]-C$n,C$o[3],C$o[4],0,0,C$r,1),this._shader2D.ALPHA=C$e,this._nBlendType=C$t):this._drawTextureM(C$o[0],C$o[1]-C$i,C$o[2]-C$n,C$o[3],C$o[4],0,0,C$r,1),this._x=this._y=0)},C$t.drawCanvas=function(C$t,C$e,C$i,C$n,C$r){var C$s=C$t.context;var C$a,C$o;this._renderKey=0,C$s._targets?(this._submits[this._submits._length++]=C$It.create(C$s,0,null),this._curSubmit=C$at.RENDERBASE,C$s._targets.drawTo(this,C$e,C$i,C$n,C$r)):(C$a=this._submits[this._submits._length++]=C$It.create(C$s,this._shader2D.ALPHA,this._shader2D.filters),C$o=C$n/C$t.width,C$t=C$r/C$t.height,C$a=C$a._matrix,this._curMat.copyTo(C$a),1!=C$o&&1!=C$t&&C$a.scale(C$o,C$t),C$o=C$a.tx,C$t=C$a.ty,C$a.tx=C$a.ty=0,C$a.transformPoint(C$T.TEMP.setTo(C$e,C$i)),C$a.translate(C$T.TEMP.x+C$o,C$T.TEMP.y+C$t),this._curSubmit=C$at.RENDERBASE),C$m.showCanvasMark&&(this.save(),this.lineWidth=4,this.strokeStyle=C$s._targets?"yellow":"green",this.strokeRect(C$e-1,C$i-1,C$n+2,C$r+2,1),this.strokeRect(C$e,C$i,C$n,C$r,1),this.restore())},C$t.drawTarget=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$u,C$h){void 0===C$h&&(C$h=-1);var C$l=this._vb;C$gt.fillRectImgVb(C$l,this._clipRect,C$e,C$i,C$n,C$r,C$u||C$N.DEF_UV,C$s||this._curMat,this._x,this._y,0,0)&&(this._renderKey=0,this._shader2D.glTexture=null,this._curSubmit.shaderValue,(C$e=this._curSubmit=C$_t.create(this,this._ib,C$l,(C$l._byteLength-64)/32*3,C$o,C$a)).blendType=-1==C$h?this._nBlendType:C$h,C$e.scope=C$t,this._submits[this._submits._length++]=C$e,this._curSubmit._numEle+=6)},C$t.mixRGBandAlpha=function(C$t){return this._mixRGBandAlpha(C$t,this._shader2D.ALPHA)},C$t._mixRGBandAlpha=function(C$t,C$e){var C$i=(4278190080&C$t)>>>24;return 0!=C$i?C$i*=C$e:C$i=255*C$e,16777215&C$t|C$i<<24},C$t.drawTriangles=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$u,C$c){if(!C$t.loaded||!C$t.source)return this.sprite&&C$g.timer.callLater(this,this._repaintSprite),!1;this._drawCount++,C$t.bitmap;var C$o=this._mixRGBandAlpha(4294967295,C$o),C$h=(C$n.length,C$s.length);this._renderKey=-1;var C$l=this._curSubmit=C$Rt.create(this,this._triangleMesh.getIBR(),this._triangleMesh.getVBR(),this._triangleMesh.indexNum,C$wt.create(1,0));return C$l.shaderValue.textureHost=C$t,C$l._renderType=10016,this._submits[this._submits._length++]=C$l,C$a?(z_pe._tmpMatrix.a=C$a.a,z_pe._tmpMatrix.b=C$a.b,z_pe._tmpMatrix.c=C$a.c,z_pe._tmpMatrix.d=C$a.d,z_pe._tmpMatrix.tx=C$a.tx+C$e,z_pe._tmpMatrix.ty=C$a.ty+C$i,C$w.mul(z_pe._tmpMatrix,this._curMat,z_pe._tmpMatrix)):(z_pe._tmpMatrix.a=this._curMat.a,z_pe._tmpMatrix.b=this._curMat.b,z_pe._tmpMatrix.c=this._curMat.c,z_pe._tmpMatrix.d=this._curMat.d,z_pe._tmpMatrix.tx=this._curMat.tx+C$e,z_pe._tmpMatrix.ty=this._curMat.ty+C$i),this._triangleMesh.addData(C$n,C$r,C$s,z_pe._tmpMatrix,C$o,this),this._curSubmit._numEle+=C$h,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle),!0},C$t.transform=function(C$t,C$e,C$i,C$n,C$r,C$s){C$Z.save(this),C$w.mul(C$w.TEMP.setTo(C$t,C$e,C$i,C$n,C$r,C$s),this._curMat,this._curMat),this._curMat._checkTransform()},C$t.setTransformByMatrix=function(C$t){C$t.copyTo(this._curMat)},C$t.transformByMatrix=function(C$t){C$Z.save(this),C$w.mul(C$t,this._curMat,this._curMat),this._curMat._checkTransform()},C$t.rotate=function(C$t){C$Z.save(this),this._curMat.rotateEx(C$t)},C$t.scale=function(C$t,C$e){C$Z.save(this),this._curMat.scaleEx(C$t,C$e)},C$t.clipRect=function(C$t,C$e,C$i,C$n){var C$r,C$s,C$a,C$o,C$h,C$l;0!=this._curMat.b||0!=this._curMat.c?(this._renderKey=0,C$h=C$ct.create(4),this.addRenderObject(C$h),C$r=(C$h=this._vb)._byteLength>>2,C$gt.fillRectImgVb(C$h,null,C$t,C$e,C$i,C$n,C$N.DEF_UV,this._curMat,this._x,this._y,0,0)?(this._shader2D.glTexture=null,(C$s=this._curSubmit=C$at.createSubmit(this,this._ib,C$h,(C$h._byteLength-64)/32*3,C$wt.create(2,0))).shaderValue.ALPHA=1,this._submits[this._submits._length++]=C$s,this._curSubmit._numEle+=6):alert("clipRect calc stencil rect error"),C$s=C$ct.create(5),this.addRenderObject(C$s),C$h=C$h.getFloat32Array(),C$o=Math.min(Math.min(Math.min(C$h[C$r],C$h[4+C$r]),C$h[8+C$r]),C$h[12+C$r]),C$a=Math.max(Math.max(Math.max(C$h[C$r],C$h[4+C$r]),C$h[8+C$r]),C$h[12+C$r]),C$l=Math.min(Math.min(Math.min(C$h[1+C$r],C$h[5+C$r]),C$h[9+C$r]),C$h[13+C$r]),C$h=Math.max(Math.max(Math.max(C$h[1+C$r],C$h[5+C$r]),C$h[9+C$r]),C$h[13+C$r]),C$$.save(this,C$s,C$t,C$e,C$i,C$n,C$o,C$l,C$a-C$o,C$h-C$l)):(C$i*=this._curMat.a,C$n*=this._curMat.d,C$r=C$T.TEMP,this._curMat.transformPoint(C$r.setTo(C$t,C$e)),C$i<0&&(C$r.x=C$r.x+C$i,C$i=-C$i),C$n<0&&(C$r.y=C$r.y+C$n,C$n=-C$n),this._renderKey=0,C$s=this._curSubmit=C$ut.create(this),(this._submits[this._submits._length++]=C$s).submitIndex=this._submits._length,C$s.submitLength=9999999,C$X.save(this,C$s),C$o=(C$a=this._clipRect).x,C$h=C$a.y,C$l=C$r.x+C$i,C$t=C$r.y+C$n,C$o<C$r.x&&(C$a.x=C$r.x),C$h<C$r.y&&(C$a.y=C$r.y),C$a.width=Math.min(C$l,C$o+C$a.width)-C$a.x,C$a.height=Math.min(C$t,C$h+C$a.height)-C$a.y,this._shader2D.glTexture=null,C$s.clipRect.copyFrom(C$a)),this._curSubmit=C$at.RENDERBASE},C$t.setIBVB=function(C$t,C$e,C$i,C$n,C$u,C$r,C$s,C$c,C$a,C$o,C$h){if(void 0===C$a&&(C$a=0),void 0===C$o&&(C$o=0),void 0===C$h&&(C$h=0),null===C$i&&(C$i=C$S.isFlash?((C$l=C$n)._selfIB||(C$l._selfIB=C$Kt.create(35044)),C$l._selfIB.clear(),C$l._selfIB):this._ib,C$gt.expandIBQuadrangle(C$i,C$n._byteLength/(4*C$n.vertexStride*4))),!C$c||!C$s)throw Error("setIBVB must input:shader shaderValues");var C$l=C$lt.create(this,C$n,C$i,C$u,C$s,C$c,C$a,C$o,C$h);(C$r=C$r||C$w.EMPTY).translate(C$t,C$e),C$w.mul(C$r,this._curMat,C$l._mat),C$r.translate(-C$t,-C$e),this._submits[this._submits._length++]=C$l,this._curSubmit=C$at.RENDERBASE,this._renderKey=0},C$t.addRenderObject=function(C$t){this._submits[this._submits._length++]=C$t},C$t.fillTrangles=function(C$t,C$e,C$i,C$n,C$r){var C$s=this._curSubmit,C$a=this._vb,C$o=this._shader2D,C$h=C$s.shaderValue,C$l=C$n.length>>4,C$u=C$t.bitmap;this._renderKey=0,C$o.glTexture==C$u&&C$o.ALPHA===C$h.ALPHA||((C$s=this._curSubmit=C$at.createSubmit(this,this._ib,C$a,C$a._byteLength/32*3,C$wt.create(1,0))).shaderValue.textureHost=C$t,this._submits[this._submits._length++]=C$s),C$gt.fillTranglesVB(C$a,C$e,C$i,C$n,C$r||this._curMat,this._x,this._y),C$s._numEle+=6*C$l},C$t.submitElement=function(C$t,C$e){var C$i=this._submits;for(C$e<0&&(C$e=C$i._length);C$t<C$e;)C$t+=C$i[C$t].renderSubmit()},C$t.finish=function(){C$u.mainContext.finish()},C$t.flush=function(){var C$t=Math.max(this._vb._byteLength/64,this._maxNumEle/6)+8;if(C$t>this._ib.bufferLength/12&&C$gt.expandIBQuadrangle(this._ib,C$t),!this._isMain&&C$U.enabled&&C$U._atlasRestore>this._atlasResourceChange){this._atlasResourceChange=C$U._atlasRestore;for(var C$e=this._submits,C$i=0,C$n=C$e._length;C$i<C$n;C$i++){var C$r=C$e[C$i];10016===C$r.getRenderType()&&C$r.checkTexture()}}var C$s;for(this.submitElement(0,this._submits._length),this._path&&this._path.reset(),C$nt.instance&&C$nt.getInstance().reset(),C$i=0,C$s=this.meshlist.length;C$i<C$s;C$i++){var C$a=this.meshlist[C$i];C$a.canReuse?C$a.releaseMesh():C$a.destroy()}return this.meshlist.length=0,this._curSubmit=C$at.RENDERBASE,this._renderKey=0,this._triangleMesh=C$Pt.getAMesh(),this.meshlist.push(this._triangleMesh),this._submits._length},C$t.setPathId=function(C$t){this.mId=C$t,-1!=this.mId&&(this.mHaveKey=!1,(C$t=C$O.getInstance()).shapeDic[this.mId]&&(this.mHaveKey=!0),this.mHaveLineKey=!1,C$t.shapeLineDic[this.mId]&&(this.mHaveLineKey=!0))},C$t.movePath=function(C$t,C$e){var C$i=C$t,C$n=C$e;C$t=this._curMat.a*C$i+this._curMat.c*C$n+this._curMat.tx,C$e=this._curMat.b*C$i+this._curMat.d*C$n+this._curMat.ty,this.mX+=C$t,this.mY+=C$e},C$t.beginPath=function(){var C$t=this._getPath();C$t.tempArray.length=0,C$t.closePath=!1,this.mX=0,this.mY=0},C$t.closePath=function(){this._path.closePath=!0},C$t.fill=function(C$t){void 0===C$t&&(C$t=!1);var C$e=this._getPath();this.drawPoly(0,0,C$e.tempArray,this.fillStyle._color.numColor,0,0,C$t)},C$t.stroke=function(){var C$t=this._getPath();var C$e;0<this.lineWidth&&(-1==this.mId?C$t.drawLine(0,0,C$t.tempArray,this.lineWidth,this.strokeStyle._color.numColor):this.mHaveLineKey?((C$e=C$O.getInstance().shapeLineDic[this.mId]).rebuild(C$t.tempArray),C$t.setGeomtry(C$e)):C$O.getInstance().addLine(this.mId,C$t.drawLine(0,0,C$t.tempArray,this.lineWidth,this.strokeStyle._color.numColor)),C$t.update(),C$e=[this.mX,this.mY],(C$t=C$at.createShape(this,C$t.ib,C$t.vb,C$t.count,C$t.offset,C$wt.create(4,0))).shaderValue.ALPHA=this._shader2D.ALPHA,C$t.shaderValue.u_pos=C$e,C$t.shaderValue.u_mmat2=C$l.TEMPMAT4_ARRAY,this._submits[this._submits._length++]=C$t,this._renderKey=-1)},C$t.line=function(C$t,C$e,C$i,C$n,C$r,C$s){var C$a=this._curSubmit,C$o=this._vb;C$gt.fillLineVb(C$o,this._clipRect,C$t,C$e,C$i,C$n,C$r,C$s)&&(this._renderKey=0,C$t=this._shader2D,C$e=C$a.shaderValue,C$t.strokeStyle===C$e.strokeStyle&&C$t.ALPHA===C$e.ALPHA||(C$t.glTexture=null,(C$a=this._curSubmit=C$at.createSubmit(this,this._ib,C$o,(C$o._byteLength-64)/32*3,C$wt.create(2,0))).shaderValue.strokeStyle=C$t.strokeStyle,C$a.shaderValue.mainID=2,C$a.shaderValue.ALPHA=C$t.ALPHA,this._submits[this._submits._length++]=C$a),C$a._numEle+=6)},C$t.moveTo=function(C$t,C$e,C$i){void 0===C$i&&(C$i=!0);var C$n=this._getPath();var C$r;C$i&&(C$i=C$t,C$r=C$e,C$t=this._curMat.a*C$i+this._curMat.c*C$r,C$e=this._curMat.b*C$i+this._curMat.d*C$r),C$n.addPoint(C$t,C$e)},C$t.lineTo=function(C$t,C$e,C$i){void 0===C$i&&(C$i=!0);var C$n=this._getPath();var C$r;C$i&&(C$i=C$t,C$r=C$e,C$t=this._curMat.a*C$i+this._curMat.c*C$r,C$e=this._curMat.b*C$i+this._curMat.d*C$r),C$n.addPoint(C$t,C$e)},C$t.drawCurves=function(C$t,C$e,C$i){this.setPathId(-1),this.beginPath(),this.strokeStyle=C$i[3],this.lineWidth=C$i[4];var C$n=C$i[2];C$t+=C$i[0],C$e+=C$i[1],this.movePath(C$t,C$e),this.moveTo(C$n[0],C$n[1]);for(var C$r=2,C$s=C$n.length;C$r<C$s;)this.quadraticCurveTo(C$n[C$r++],C$n[C$r++],C$n[C$r++],C$n[C$r++]);this.stroke()},C$t.arcTo=function(C$t,C$u,C$e,C$i,C$c){if(-1==this.mId||!this.mHaveKey){var C$_=0,C$n=0,C$r=0,C$d=this._getPath();this._curMat.copyTo(z_pe._tmpMatrix),z_pe._tmpMatrix.tx=z_pe._tmpMatrix.ty=0,z_pe._tempPoint.setTo(C$d.getEndPointX(),C$d.getEndPointY()),z_pe._tmpMatrix.invertTransformPoint(z_pe._tempPoint);var C$s=z_pe._tempPoint.x-C$t,C$a=z_pe._tempPoint.y-C$u,C$o=Math.sqrt(C$s*C$s+C$a*C$a);if(!(C$o<=1e-6)){var C$s=C$s/C$o,C$a=C$a/C$o,C$e=C$e-C$t,C$i=C$i-C$u,C$h=Math.sqrt(C$e*C$e+C$i*C$i);if(!(C$h<=1e-6)){var C$e=C$e/C$h,C$i=C$i/C$h,C$h=C$s+C$e,C$f=C$a+C$i,C$l=Math.sqrt(C$h*C$h+C$f*C$f);if(!(C$l<=1e-6)){var C$h=C$h/C$l,C$f=C$f/C$l,C$l=Math.acos(C$h*C$s+C$f*C$a),C$l=Math.PI/2-C$l,C$p=(C$o=C$c/Math.tan(C$l))*C$s+C$t,C$m=C$o*C$a+C$u,C$o=Math.sqrt(C$o*C$o+C$c*C$c),C$g=C$t+C$h*C$o,C$v=C$u+C$f*C$o,C$x=0,C$y=0;C$y=(C$x=(C$c=0<=C$s*C$i-C$a*C$e?2*C$l/z_pe.SEGNUM:2*-C$l/z_pe.SEGNUM,Math.sin(C$c)),Math.cos(C$c)),C$n=this._curMat.a*C$p+this._curMat.c*C$m,C$r=this._curMat.b*C$p+this._curMat.d*C$m,C$n==this._path.getEndPointX()&&C$r==this._path.getEndPointY()||C$d.addPoint(C$n,C$r);var C$b=C$p-C$g,C$w=C$m-C$v;for(C$_=0;C$_<z_pe.SEGNUM;C$_++){var C$T=C$b*C$y+C$w*C$x,C$M=-C$b*C$x+C$w*C$y;C$t=this._curMat.a*(C$n=C$T+C$g)+this._curMat.c*(C$r=C$M+C$v),C$r=C$u=this._curMat.b*C$n+this._curMat.d*C$r,(C$n=C$t)==this._path.getEndPointX()&&C$r==this._path.getEndPointY()||C$d.addPoint(C$n,C$r),C$b=C$T,C$w=C$M}}}}}},C$t.arc=function(C$t,C$u,C$e,C$c,C$_,C$d,C$i){if(void 0===C$d&&(C$d=!1),void 0===C$i&&(C$i=!0),-1!=this.mId){var C$n=C$O.getInstance().shapeDic[this.mId];if(C$n&&this.mHaveKey&&!C$n.needUpdate(this._curMat))return;C$u=C$t=0}var C$f,C$p,C$r=0,C$s=0,C$a=0,C$o=0;if(C$r=C$_-C$c,C$d)if(Math.abs(C$r)>=2*Math.PI)C$r=2*-Math.PI;else for(;0<C$r;)C$r-=2*Math.PI;else if(Math.abs(C$r)>=2*Math.PI)C$r=2*Math.PI;else for(;C$r<0;)C$r+=2*Math.PI;C$n=C$r/(C$p=C$e<101?Math.max(10,C$r*C$e/5):C$e<201?Math.max(10,C$r*C$e/20):Math.max(10,C$r*C$e/40))/2,Math.abs(4/3*(1-Math.cos(C$n))/Math.sin(C$n));var C$m=this._getPath(),C$h=NaN,C$l=NaN;for(C$o=0;C$o<=C$p;C$o++)C$f=C$c+C$r*(C$o/C$p),C$s=C$t+Math.cos(C$f)*C$e,C$a=C$u+Math.sin(C$f)*C$e,C$i&&(C$h=C$s,C$l=C$a,C$s=this._curMat.a*C$h+this._curMat.c*C$l,C$a=this._curMat.b*C$h+this._curMat.d*C$l),C$s==this._path.getEndPointX()&&C$a==this._path.getEndPointY()||C$m.addPoint(C$s,C$a);C$s=C$t+Math.cos(C$_)*C$e,C$a=C$u+Math.sin(C$_)*C$e,C$i&&(C$h=C$s,C$l=C$a,C$s=this._curMat.a*C$h+this._curMat.c*C$l,C$a=this._curMat.b*C$h+this._curMat.d*C$l),C$s==this._path.getEndPointX()&&C$a==this._path.getEndPointY()||C$m.addPoint(C$s,C$a)},C$t.quadraticCurveTo=function(C$t,C$e,C$i,C$n){var C$r=C$c.I,C$s=C$i,C$a=C$n;C$i=this._curMat.a*C$s+this._curMat.c*C$a,C$n=this._curMat.b*C$s+this._curMat.d*C$a,C$s=C$t,C$a=C$e,C$t=this._curMat.a*C$s+this._curMat.c*C$a,C$e=this._curMat.b*C$s+this._curMat.d*C$a;for(var C$o=C$r.getBezierPoints([this._path.getEndPointX(),this._path.getEndPointY(),C$t,C$e,C$i,C$n],30,2),C$h=0,C$l=C$o.length/2;C$h<C$l;C$h++)this.lineTo(C$o[2*C$h],C$o[2*C$h+1],!1);this.lineTo(C$i,C$n,!1)},C$t.rect=function(C$t,C$e,C$i,C$n){this._other=this._other.make(),this._other.path||(this._other.path=new C$G),this._other.path.rect(C$t,C$e,C$i,C$n)},C$t.strokeRect=function(C$t,C$e,C$i,C$n,C$r){var C$s=.5*C$r;this.line(C$t-C$s,C$e,C$t+C$i+C$s,C$e,C$r,this._curMat),this.line(C$t+C$i,C$e,C$t+C$i,C$e+C$n,C$r,this._curMat),this.line(C$t,C$e,C$t,C$e+C$n,C$r,this._curMat),this.line(C$t-C$s,C$e+C$n,C$t+C$i+C$s,C$e+C$n,C$r,this._curMat)},C$t.clip=function(){},C$t.drawPoly=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){void 0===C$a&&(C$a=!1),this._renderKey=0,this._shader2D.glTexture=null;C$a=this._getPath();-1==this.mId?C$a.polygon(C$t,C$e,C$i,C$n,C$r||1,C$s):this.mHaveKey?((C$o=C$O.getInstance().shapeDic[this.mId]).setMatrix(this._curMat),C$o.rebuild(C$a.tempArray),C$a.setGeomtry(C$o)):(C$o=C$a.polygon(C$t,C$e,C$i,C$n,C$r||1,C$s),C$O.getInstance().addShape(this.mId,C$o),C$o.setMatrix(this._curMat)),C$a.update();var C$o,C$n=[this.mX,this.mY];(C$o=C$at.createShape(this,C$a.ib,C$a.vb,C$a.count,C$a.offset,C$wt.create(4,0))).shaderValue.ALPHA=this._shader2D.ALPHA,C$o.shaderValue.u_pos=C$n,C$o.shaderValue.u_mmat2=C$l.EMPTYMAT4_ARRAY,this._submits[this._submits._length++]=C$o,0<C$r&&(this.mHaveLineKey?((C$n=C$O.getInstance().shapeLineDic[this.mId]).rebuild(C$a.tempArray),C$a.setGeomtry(C$n)):C$O.getInstance().addShape(this.mId,C$a.drawLine(C$t,C$e,C$i,C$r,C$s)),C$a.update(),(C$o=C$at.createShape(this,C$a.ib,C$a.vb,C$a.count,C$a.offset,C$wt.create(4,0))).shaderValue.ALPHA=this._shader2D.ALPHA,C$o.shaderValue.u_mmat2=C$l.EMPTYMAT4_ARRAY,this._submits[this._submits._length++]=C$o)},C$t.drawParticle=function(C$t,C$e,C$i){C$i.x=C$t,C$i.y=C$e,this._submits[this._submits._length++]=C$i},C$t._getPath=function(){return this._path||(this._path=new C$G)},C$s(0,C$t,"globalCompositeOperation",function(){return C$H.NAMES[this._nBlendType]},function(C$t){C$t=C$H.TOINT[C$t];null==C$t||this._nBlendType===C$t||(C$Y.save(this,65536,this,!0),this._curSubmit=C$at.RENDERBASE,this._renderKey=0,this._nBlendType=C$t)}),C$s(0,C$t,"strokeStyle",function(){return this._shader2D.strokeStyle},function(C$t){this._shader2D.strokeStyle.equal(C$t)||(C$Y.save(this,512,this._shader2D,!1),this._shader2D.strokeStyle=C$W.create(C$t))}),C$s(0,C$t,"globalAlpha",function(){return this._shader2D.ALPHA},function(C$t){(C$t=Math.floor(1e3*C$t)/1e3)!=this._shader2D.ALPHA&&(C$Y.save(this,1,this._shader2D,!0),this._shader2D.ALPHA=C$t)}),C$s(0,C$t,"asBitmap",null,function(C$t){if(C$t){if(this._targets||(this._targets=new C$J),this._targets.repaint=!0,!this._width||!this._height)throw Error("asBitmap no size!");this._targets.setSP(this.sprite),this._targets.size(this._width,this._height)}else this._targets=null}),C$s(0,C$t,"fillStyle",function(){return this._shader2D.fillStyle},function(C$t){this._shader2D.fillStyle.equal(C$t)||(C$Y.save(this,2,this._shader2D,!1),this._shader2D.fillStyle=C$W.create(C$t))}),C$s(0,C$t,"textAlign",function(){return this._other.textAlign},function(C$t){this._other.textAlign===C$t||(this._other=this._other.make(),C$Y.save(this,32768,this._other,!1),this._other.textAlign=C$t)}),C$s(0,C$t,"lineWidth",function(){return this._other.lineWidth},function(C$t){this._other.lineWidth===C$t||(this._other=this._other.make(),C$Y.save(this,256,this._other,!1),this._other.lineWidth=C$t)}),C$s(0,C$t,"textBaseline",function(){return this._other.textBaseline},function(C$t){this._other.textBaseline===C$t||(this._other=this._other.make(),C$Y.save(this,16384,this._other,!1),this._other.textBaseline=C$t)}),C$s(0,C$t,"font",null,function(C$t){C$t!=this._other.font.toString()&&(this._other=this._other.make(),C$Y.save(this,8,this._other,!1),this._other.font===C$pt.EMPTY?this._other.font=new C$pt(C$t):this._other.font.setFont(C$t))}),z_pe.__init__=function(){C$se.DEFAULT=new C$se},z_pe._tempPoint=new C$T,z_pe._SUBMITVBSIZE=32e3,z_pe._MAXSIZE=99999999,z_pe._RECTVBSIZE=16,z_pe.MAXCLIPRECT=new C$M(0,0,99999999,99999999),z_pe._COUNT=0,z_pe._tmpMatrix=new C$w,z_pe.SEGNUM=32,z_pe._contextcount=0,C$r(z_pe,["_fontTemp",function(){return this._fontTemp=new C$pt},"_drawStyleTemp",function(){return this._drawStyleTemp=new C$W(null)}]),z_pe.__init$=function(){function qbyor5(){this.lineWidth=1,this.path=null,this.textAlign=null,this.textBaseline=null,this.font=C$pt.EMPTY}var C$t;C$e(qbyor5,""),(C$t=qbyor5.prototype).clear=function(){this.lineWidth=1,this.path&&this.path.clear(),this.textAlign=this.textBaseline=null,this.font=C$pt.EMPTY},C$t.make=function(){return this===qbyor5.DEFAULT?new qbyor5:this},qbyor5.DEFAULT=null,C$se=qbyor5},z_pe),C$wt=(C$e(f$29_,"laya.webgl.shader.d2.value.Value2D",C$V),(C$he=f$29_.prototype).setValue=function(C$t){},C$he.refresh=function(){var C$t=this.size;return C$t[0]=C$l.width,C$t[1]=C$l.height,this.alpha=this.ALPHA*C$l.worldAlpha,this.mmat=C$l.worldMatrix4,this},C$he._ShaderWithCompile=function(){return C$Gt.withCompile2D(0,this.mainID,this.defines.toNameDic(),this.mainID|this.defines._value,C$$t.create)},C$he._withWorldShaderDefines=function(){var C$t=C$l.worldShaderDefines,C$e=C$Gt.sharders[this.mainID|this.defines._value|C$t.getValue()];if(!C$e){var C$i,C$n={};for(C$i in this.defines.toNameDic())C$n[C$i]="";for(C$i in C$t.toNameDic())C$n[C$i]="";C$e=C$Gt.withCompile2D(0,this.mainID,C$n,this.mainID|this.defines._value|C$t.getValue(),C$$t.create)}var C$r=C$l.worldFilters;if(!C$r)return C$e;for(var C$s,C$a=C$r.length,C$o=0;C$o<C$a;C$o++)(C$s=C$r[C$o])&&C$s.action.setValue(this);return C$e},C$he.upload=function(){var C$t=C$l;this.alpha=this.ALPHA*C$t.worldAlpha,C$l.worldMatrix4!==C$l.TEMPMAT4_ARRAY&&this.defines.add(128),this.textureHost&&this.textureHost.alphaTexture?this.defines.add(2048):this.defines.remove(2048),this.textureHost&&this.textureHost.bitmap&&(37815==this.textureHost.bitmap.format||37812==this.textureHost.bitmap.format||37821==this.textureHost.bitmap.format)?this.defines.add(4096):this.defines.remove(4096),C$u.shaderHighPrecision&&this.defines.add(1024);var C$e,C$i=C$t.worldShaderDefines?this._withWorldShaderDefines():C$Gt.sharders[this.mainID|this.defines._value]||this._ShaderWithCompile();this.size[0]=C$t.width,this.size[1]=C$t.height,this.mmat=C$t.worldMatrix4,C$Lt.activeShader!==C$i?C$i._shaderValueWidth!==C$t.width||C$i._shaderValueHeight!==C$t.height?(C$i._shaderValueWidth=C$t.width,C$i._shaderValueHeight=C$t.height):C$e=C$i._params2dQuick2||C$i._make2dQuick2():C$i._shaderValueWidth!==C$t.width||C$i._shaderValueHeight!==C$t.height?(C$i._shaderValueWidth=C$t.width,C$i._shaderValueHeight=C$t.height):C$e=C$i._params2dQuick1||C$i._make2dQuick1(),C$i.upload(this,C$e)},C$he.setFilters=function(C$t){if(this.filters=C$t)for(var C$e,C$i=C$t.length,C$n=0;C$n<C$i;C$n++)(C$e=C$t[C$n])&&(this.defines.add(C$e.type),C$e.action.setValue(this))},C$he.clear=function(){this.defines.setValue(this.subID)},C$he.release=function(){(this._inClassCache[this._inClassCache._length++]=this).fillStyle=null,this.strokeStyle=null,this.textureHost=null,this.mmat=null,this.clear()},f$29_._initone=function(C$t,C$e){f$29_._typeClass[C$t]=C$e,f$29_._cache[C$t]=[],f$29_._cache[C$t]._length=0},f$29_.__init__=function(){f$29_._POSITION=[2,5126,!1,4*C$mt.BYTES_PE,0],f$29_._TEXCOORD=[2,5126,!1,4*C$mt.BYTES_PE,2*C$mt.BYTES_PE],f$29_._initone(2,C$zt),f$29_._initone(4,C$Vt),f$29_._initone(256,C$Ot),f$29_._initone(512,C$Nt),f$29_._initone(1,C$Ft),f$29_._initone(65,C$Xt),f$29_._initone(9,C$Ft)},f$29_.create=function(C$t,C$e){var C$i=f$29_._cache[C$t|C$e];return C$i._length?C$i[--C$i._length]:new f$29_._typeClass[C$t|C$e](C$e)},f$29_._POSITION=null,f$29_._TEXCOORD=null,f$29_._cache=[],f$29_._typeClass=[],f$29_.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],f$29_),C$Tt=(C$e(s$f92,"laya.webgl.utils.RenderSprite3D",C$C),(C$t=s$f92.prototype).onCreate=function(C$t){switch(C$t){case 8:return void(this._fun=this._blend);case 4:return void(this._fun=this._transform)}},C$t._mask=function(C$t,C$e,C$i,C$n){var C$r,C$u=this._next,C$s=C$t.mask;var C$c,C$a,C$o,C$h,C$_,C$l,C$d,C$f;C$s?(C$e.ctx.save(),C$c=C$e.ctx.globalCompositeOperation,(C$a=new C$M).copyFrom(C$s.getBounds()),C$a.width=Math.round(C$a.width),C$a.height=Math.round(C$a.height),C$a.x=Math.round(C$a.x),C$a.y=Math.round(C$a.y),0<C$a.width&&0<C$a.height&&(C$o=C$t._style._tf,(C$h=C$ht.create()).addValue("bounds",C$a),C$r=C$ot.create([C$h,C$e],laya.webgl.utils.RenderSprite3D.tmpTarget),C$e.addRenderObject(C$r),C$s.render(C$e,-C$a.x,-C$a.y),C$r=C$ot.create([C$h],laya.webgl.utils.RenderSprite3D.endTmpTarget),C$e.addRenderObject(C$r),C$e.ctx.save(),C$e.clipRect(C$i-C$o.translateX+C$a.x,C$n-C$o.translateY+C$a.y,C$a.width,C$a.height),C$u._fun.call(C$u,C$t,C$e,C$i,C$n),C$e.ctx.restore(),C$s=C$ct.create(6),C$c=C$e.ctx.globalCompositeOperation,C$s.blendMode="mask",C$e.addRenderObject(C$s),C$w.TEMP.identity(),C$_=C$wt.create(1,0),C$l=C$N.INV_UV,C$d=C$a.width,C$f=C$a.height,(C$a.width<32||C$a.height<32)&&((C$l=s$f92.tempUV)[0]=0,C$l[1]=0,C$l[2]=32<=C$a.width?1:C$a.width/32,C$l[3]=0,C$l[4]=32<=C$a.width?1:C$a.width/32,C$l[5]=32<=C$a.height?1:C$a.height/32,C$l[6]=0,C$l[7]=32<=C$a.height?1:C$a.height/32,C$a.width=32<=C$a.width?C$a.width:32,C$a.height=32<=C$a.height?C$a.height:32,C$l[1]*=-1,C$l[3]*=-1,C$l[5]*=-1,C$l[7]*=-1,C$l[1]+=1,C$l[3]+=1,C$l[5]+=1,C$l[7]+=1),C$e.ctx.drawTarget(C$h,C$i+C$a.x-C$o.translateX,C$n+C$a.y-C$o.translateY,C$d,C$f,C$w.TEMP,"tmpTarget",C$_,C$l,6),C$r=C$ot.create([C$h],laya.webgl.utils.RenderSprite3D.recycleTarget),C$e.addRenderObject(C$r),(C$s=C$ct.create(6)).blendMode=C$c,C$e.addRenderObject(C$s)),C$e.ctx.restore()):C$u._fun.call(C$u,C$t,C$e,C$i,C$n)},C$t._blend=function(C$t,C$e,C$i,C$n){var C$r=C$t._style,C$s=this._next;C$r.blendMode?(C$e.ctx.save(),C$e.ctx.globalCompositeOperation=C$r.blendMode,C$s._fun.call(C$s,C$t,C$e,C$i,C$n),C$e.ctx.restore()):C$s._fun.call(C$s,C$t,C$e,C$i,C$n)},C$t._transform=function(C$t,C$e,C$i,C$n){var C$r=C$t.transform,C$s=this._next;var C$a,C$o;C$r&&C$s!=C$C.NORENDER?(C$a=C$e.ctx,C$t._style,C$r.tx=C$i,C$r.ty=C$n,C$o=(C$a=C$a._getTransformMatrix()).clone(),C$w.mul(C$r,C$a,C$a),C$a._checkTransform(),C$r.tx=C$r.ty=0,C$s._fun.call(C$s,C$t,C$e,0,0),C$o.copyTo(C$a),C$o.destroy()):C$s._fun.call(C$s,C$t,C$e,C$i,C$n)},s$f92.tmpTarget=function(C$t,C$e){var C$i=C$t.getValue("bounds"),C$i=C$Bt.create(C$i.width,C$i.height);C$i.start(),C$i.clear(0,0,0,0),C$t.addValue("tmpTarget",C$i)},s$f92.endTmpTarget=function(C$t){C$t.getValue("tmpTarget").end()},s$f92.recycleTarget=function(C$t){C$t.getValue("tmpTarget").recycle(),C$t.recycle()},C$r(s$f92,["tempUV",function(){return this.tempUV=[]}]),s$f92),C$Mt=(C$e(zw2e,"laya.filters.webgl.ColorFilterActionGL",C$F),C$V=zw2e.prototype,C$g.imps(C$V,{"laya.filters.IFilterActionGL":!0}),C$V.setValue=function(C$t){C$t.colorMat=this.data._mat,C$t.colorAlpha=this.data._alpha},C$V.apply3d=function(C$t,C$e,C$i,C$n,C$r){var C$s=C$t.getValue("bounds"),C$a=C$wt.create(1,0);C$a.setFilters([this.data]);var C$o=C$w.TEMP;C$o.identity(),C$i.ctx.drawTarget(C$t,0,0,C$s.width,C$s.height,C$o,"src",C$a)},zw2e),C$St=(C$e(gd0bk6,"laya.webgl.atlas.Atlaser",C$j),(C$he=gd0bk6.prototype).computeUVinAtlasTexture=function(C$t,C$e,C$i,C$n){var C$r=C$U.atlasTextureWidth,C$s=C$U.atlasTextureHeight,C$a=C$i/C$r,C$o=C$n/C$s,C$i=(C$i+C$t.bitmap.width)/C$r,C$n=(C$n+C$t.bitmap.height)/C$s,C$r=C$t.bitmap.width/C$r,C$s=C$t.bitmap.height/C$s;C$t.uv=[C$a+C$e[0]*C$r,C$o+C$e[1]*C$s,C$i-(1-C$e[2])*C$r,C$o+C$e[3]*C$s,C$i-(1-C$e[4])*C$r,C$n-(1-C$e[5])*C$s,C$a+C$e[6]*C$r,C$n-(1-C$e[7])*C$s]},C$he.findBitmapIsExist=function(C$t){if(C$t instanceof laya.webgl.resource.WebGLImage){var C$e=C$t.url,C$e=this._InAtlasWebGLImagesKey[C$e||C$t.id];if(C$e)return C$e.offsetInfoID}return-1},C$he.addToAtlasTexture=function(C$t,C$e,C$i){var C$n;C$t instanceof laya.webgl.resource.WebGLImage&&(C$n=C$t.url,this._InAtlasWebGLImagesKey[C$n||C$t.id]={bitmap:C$t,offsetInfoID:this._InAtlasWebGLImagesOffsetValue.length},this._InAtlasWebGLImagesOffsetValue.push([C$e,C$i])),this._atlasCanvas.texSubImage2D(C$e,C$i,C$t.atlasSource),C$t.clearAtlasSource()},C$he.addToAtlas=function(C$t,C$e,C$i){C$t._atlasID=this._inAtlasTextureKey.length;var C$n=C$t.uv.slice(),C$r=C$t.bitmap;this._inAtlasTextureKey.push(C$t),this._inAtlasTextureOriUVValue.push(C$n),this._inAtlasTextureBitmapValue.push(C$r),this.computeUVinAtlasTexture(C$t,C$n,C$e,C$i),C$t.bitmap=this._atlasCanvas},C$he.clear=function(){for(var C$t=0,C$e=this._inAtlasTextureKey.length;C$t<C$e;C$t++)this._inAtlasTextureKey[C$t].bitmap=this._inAtlasTextureBitmapValue[C$t],this._inAtlasTextureKey[C$t].uv=this._inAtlasTextureOriUVValue[C$t],this._inAtlasTextureKey[C$t]._atlasID=-1,this._inAtlasTextureKey[C$t].bitmap.lock=!1,this._inAtlasTextureKey[C$t].bitmap.releaseResource();this._inAtlasTextureKey.length=0,this._inAtlasTextureBitmapValue.length=0,this._inAtlasTextureOriUVValue.length=0,this._InAtlasWebGLImagesKey=null,this._InAtlasWebGLImagesOffsetValue.length=0},C$he.dispose=function(){this.clear(),this._atlasCanvas.destroy()},C$s(0,C$he,"InAtlasWebGLImagesOffsetValue",function(){return this._InAtlasWebGLImagesOffsetValue}),C$s(0,C$he,"texture",function(){return this._atlasCanvas}),C$s(0,C$he,"inAtlasWebGLImagesKey",function(){return this._InAtlasWebGLImagesKey}),gd0bk6),C$Ct=(C$e(by5rqo,"laya.webgl.shader.d2.ShaderDefines2D",C$et),by5rqo.__init__=function(){by5rqo.reg("TEXTURE2D",1),by5rqo.reg("COLOR2D",2),by5rqo.reg("PRIMITIVE",4),by5rqo.reg("GLOW_FILTER",8),by5rqo.reg("BLUR_FILTER",16),by5rqo.reg("COLOR_FILTER",32),by5rqo.reg("COLOR_ADD",64),by5rqo.reg("WORLDMAT",128),by5rqo.reg("FILLTEXTURE",256),by5rqo.reg("FSHIGHPRECISION",1024),by5rqo.reg("TXTALPHA",2048),by5rqo.reg("TXTCOMPRESS",4096)},by5rqo.reg=function(C$t,C$e){C$et._reg(C$t,C$e,by5rqo.__name2int,by5rqo.__int2name)},by5rqo.toText=function(C$t,C$e,C$i){return C$et._toText(C$t,C$e,C$i)},by5rqo.toInt=function(C$t){return C$et._toInt(C$t,by5rqo.__name2int)},by5rqo.TEXTURE2D=1,by5rqo.COLOR2D=2,by5rqo.PRIMITIVE=4,by5rqo.FILTERGLOW=8,by5rqo.FILTERBLUR=16,by5rqo.FILTERCOLOR=32,by5rqo.COLORADD=64,by5rqo.WORLDMAT=128,by5rqo.FILLTEXTURE=256,by5rqo.SKINMESH=512,by5rqo.SHADERDEFINE_FSHIGHPRECISION=1024,by5rqo.TXTALPHA=2048,by5rqo.TXTCOMPRESS=4096,by5rqo.__name2int={},by5rqo.__int2name=[],by5rqo.__int2nameMap=[],by5rqo),C$Dt=(C$e(zepc,"laya.webgl.shapes.Ellipse",C$i),C$e(h8ztc,"laya.webgl.shapes.Line",C$i),(C$t=h8ztc.prototype).rebuild=function(C$t){var C$e=C$t.length;C$e!=this._points.length&&(this.mUint16Array=new Uint16Array(6*(C$e/2-1)),this.mFloat32Array=new Float32Array(5*C$e)),this._points.length=0;for(var C$i,C$n,C$r=-1,C$s=-1,C$a=C$t.length/2,C$o=0;C$o<C$a;C$o++)C$i=C$t[2*C$o],C$n=C$t[2*C$o+1],(.01<Math.abs(C$r-C$i)||.01<Math.abs(C$s-C$n))&&this._points.push(C$i,C$n),C$r=C$i,C$s=C$n},C$t.getData=function(C$t,C$e,C$i){var C$n=[],C$r=[];0<this.borderWidth&&this.createLine2(this._points,C$n,this.borderWidth,C$i,C$r,this._points.length/2),this.mUint16Array.set(C$n,0),this.mFloat32Array.set(C$r,0),C$t.append(this.mUint16Array),C$e.append(this.mFloat32Array)},h8ztc),C$Et=(C$e(etpzc,"laya.webgl.shapes.LoopLine",C$i),(C$F=etpzc.prototype).getData=function(C$t,C$e,C$i){if(0<this.borderWidth){for(var C$n,C$r,C$s=this.color,C$a=(C$s>>16&255)/255,C$o=(C$s>>8&255)/255,C$u=(255&C$s)/255,C$h=[],C$s=[],C$c=Math.floor(this._points.length/2),C$l=0;C$l<C$c;C$l++)C$n=this._points[2*C$l],C$r=this._points[2*C$l+1],C$h.push(this.x+C$n,this.y+C$r,C$a,C$o,C$u);this.createLoopLine(C$h,C$s,this.borderWidth,C$i+C$h.length/5),C$t.append(new Uint16Array(C$s)),C$e.append(new Float32Array(C$h))}},C$F.createLoopLine=function(C$u,C$c,C$_,C$d,C$t,C$f){C$u.length;var C$e=C$u.concat(),C$p=C$t||C$u,C$t=this.borderColor,C$m=(C$t>>16&255)/255,C$g=(C$t>>8&255)/255,C$v=(255&C$t)/255,C$u=[C$e[0],C$e[1]],C$t=[C$e[C$e.length-5],C$e[C$e.length-4]],C$x=C$t[0]+.5*(C$u[0]-C$t[0]),C$u=C$t[1]+.5*(C$u[1]-C$t[1]);C$e.unshift(C$x,C$u,0,0,0),C$e.push(C$x,C$u,0,0,0);var C$y,C$b,C$i,C$n,C$r,C$s,C$w,C$T,C$M,C$S,C$a,C$C,C$o,C$D,C$E=C$e.length/5,C$h=C$d,C$A=C$_/2;C$y=C$e[0],C$b=C$e[1],C$s=C$y-C$e[5],C$r=(C$r=-(C$b-C$e[6]))/(C$D=Math.sqrt(C$r*C$r+C$s*C$s))*C$A,C$p.push(C$y-C$r,C$b-(C$s=C$s/C$D*C$A),C$m,C$g,C$v,C$y+C$r,C$b+C$s,C$m,C$g,C$v);for(var C$l=1;C$l<C$E-1;C$l++)C$y=C$e[5*(C$l-1)],C$b=C$e[5*(C$l-1)+1],C$i=C$e[5*C$l],C$n=C$e[5*C$l+1],C$S=C$e[5*(C$l+1)],C$T=C$e[5*(C$l+1)+1],C$s=C$y-C$i,C$o=C$i-C$S,C$M=(-(C$r=(C$r=-(C$b-C$n))/(C$D=Math.sqrt(C$r*C$r+C$s*C$s))*C$A)+C$y)*(-(C$s=C$s/C$D*C$A)+C$n)-(-C$r+C$i)*(-C$s+C$b),C$C=(-(C$a=(C$a=-(C$n-C$T))/(C$D=Math.sqrt(C$a*C$a+C$o*C$o))*C$A)+C$S)*(-(C$o=C$o/C$D*C$A)+C$n)-(-C$a+C$i)*(-C$o+C$T),C$o=(C$w=-C$s+C$b-(-C$s+C$n))*(C$a=-C$a+C$i-(-C$a+C$S))-(C$S=-C$o+C$T-(-C$o+C$n))*(C$T=-C$r+C$i-(-C$r+C$y)),Math.abs(C$o)<.1?(C$o+=10.1,C$p.push(C$i-C$r,C$n-C$s,C$m,C$g,C$v,C$i+C$r,C$n+C$s,C$m,C$g,C$v)):C$p.push(C$T=(C$T*C$C-C$a*C$M)/C$o,C$a=(C$S*C$M-C$w*C$C)/C$o,C$m,C$g,C$v,C$i-(C$T-C$i),C$n-(C$a-C$n),C$m,C$g,C$v);C$f&&(C$c=C$f);var C$I=this.edges+1;for(C$l=1;C$l<C$I;C$l++)C$c.push(C$h+2*(C$l-1),C$h+2*(C$l-1)+1,C$h+2*C$l+1,C$h+2*C$l+1,C$h+2*C$l,C$h+2*(C$l-1));return C$c.push(C$h+2*(C$l-1),C$h+2*(C$l-1)+1,C$h+1,C$h+1,C$h,C$h+2*(C$l-1)),C$p},etpzc),C$At=(C$e(by5rq,"laya.webgl.shapes.Polygon",C$i),(C$V=by5rq.prototype).rebuild=function(C$t){this._repaint||(this._points.length=0,this._points=this._points.concat(C$t))},C$V.setMatrix=function(C$t){C$t.copyTo(this._mat)},C$V.needUpdate=function(C$t){return this._repaint=this._mat.a==C$t.a&&this._mat.b==C$t.b&&this._mat.c==C$t.c&&this._mat.d==C$t.d&&this._mat.tx==C$t.tx&&this._mat.ty==C$t.ty,!this._repaint},C$V.getData=function(C$t,C$e,C$i){var C$n,C$r=0,C$s=this._points,C$a=0;if(this.mUint16Array&&this.mFloat32Array&&this._repaint){if(this._start!=C$i){for(this._start=C$i,C$n=[],C$a=this.earcutTriangles.length,C$r=0;C$r<C$a;C$r++)C$n.push(this.earcutTriangles[C$r]+C$i);this.mUint16Array=new Uint16Array(C$n)}}else{this._start=C$i,C$n=[];var C$o=[],C$h=[],C$l=this.color,C$u=(C$l>>16&255)/255,C$c=(C$l>>8&255)/255,C$_=(255&C$l)/255;for(C$a=Math.floor(C$s.length/2),C$r=0;C$r<C$a;C$r++)C$o.push(this.x+C$s[2*C$r],this.y+C$s[2*C$r+1],C$u,C$c,C$_),C$h.push(this.x+C$s[2*C$r],this.y+C$s[2*C$r+1]);for(this.earcutTriangles=C$rt.earcut(C$h,null,2),C$a=this.earcutTriangles.length,C$r=0;C$r<C$a;C$r++)C$n.push(this.earcutTriangles[C$r]+C$i);this.mUint16Array=new Uint16Array(C$n),this.mFloat32Array=new Float32Array(C$o)}C$t.append(this.mUint16Array),C$e.append(this.mFloat32Array)},by5rq),C$It=(C$e(tecz8h,"laya.webgl.submit.SubmitCanvas",C$at),(C$he=tecz8h.prototype).renderSubmit=function(){if(this._ctx_src._targets)return this._ctx_src._targets.flush(this._ctx_src),1;var C$t=C$l.worldAlpha,C$e=C$l.worldMatrix4,C$i=C$l.worldMatrix,C$n=C$l.worldFilters,C$r=C$l.worldShaderDefines,C$s=this.shaderValue,C$a=this._matrix,C$o=this._matrix4,C$h=C$w.TEMP;return C$w.mul(C$a,C$i,C$h),C$o[0]=C$h.a,C$o[1]=C$h.b,C$o[4]=C$h.c,C$o[5]=C$h.d,C$o[12]=C$h.tx,C$o[13]=C$h.ty,C$l.worldMatrix=C$h.clone(),C$l.worldMatrix4=C$o,C$l.worldAlpha=C$l.worldAlpha*C$s.alpha,C$s.filters&&C$s.filters.length&&(C$l.worldFilters=C$s.filters,C$l.worldShaderDefines=C$s.defines),this._ctx_src.flush(),C$l.worldAlpha=C$t,C$l.worldMatrix4=C$e,C$l.worldMatrix.destroy(),C$l.worldMatrix=C$i,C$l.worldFilters=C$n,C$l.worldShaderDefines=C$r,1},C$he.releaseRender=function(){var C$t=tecz8h._cache;this._ctx_src=null,C$t[C$t._length++]=this},C$he.getRenderType=function(){return 10003},tecz8h.create=function(C$t,C$e,C$i){var C$n=tecz8h._cache._length?tecz8h._cache[--tecz8h._cache._length]:new tecz8h;C$n._ctx_src=C$t;C$t=C$n.shaderValue;return C$t.alpha=C$e,C$t.defines.setValue(0),C$i&&C$i.length&&C$t.setFilters(C$i),C$n},tecz8h._cache=((tecz8h._cache=[])._length=0,tecz8h._cache),tecz8h),C$Rt=(C$e(au34n1,"laya.webgl.submit.SubmitTexture",C$at),(C$t=au34n1.prototype).releaseRender=function(){var C$t=au34n1._cache;(C$t[C$t._length++]=this).shaderValue.release(),this.shaderValue=null,this._preIsSameTextureShader=!1,this._blendFn=null,this._vb=null,this._ib=null,this._texs.length=0,this._vbPos.length=0,this._texsID.length=0,this._isSameTexture=!0},C$t.addTexture=function(C$t,C$e){this._texsID[this._texs.length]=C$t._uvID,this._texs.push(C$t),this._vbPos.push(C$e)},C$t.checkTexture=function(){if(this._texs.length<1)this._isSameTexture=!0;else{var C$t=this.shaderValue.textureHost.bitmap;if(null!==C$t)for(var C$e=this._vb.getFloat32Array(),C$i=0,C$n=this._texs.length;C$i<C$n;C$i++){var C$r=this._texs[C$i];C$r.active();var C$s=C$r.uv;var C$a;this._texsID[C$i]!==C$r._uvID&&(this._texsID[C$i]=C$r._uvID,C$e[(C$a=this._vbPos[C$i])+2]=C$s[0],C$e[C$a+3]=C$s[1],C$e[C$a+6]=C$s[2],C$e[C$a+7]=C$s[3],C$e[C$a+10]=C$s[4],C$e[C$a+11]=C$s[5],C$e[C$a+14]=C$s[6],C$e[C$a+15]=C$s[7],this._vb.setNeedUpload()),C$r.bitmap!==C$t&&(this._isSameTexture=!1)}}},C$t.renderSubmit=function(){if(0===this._numEle)return au34n1._shaderSet=!1,1;var C$t=this.shaderValue.textureHost;if(C$t){var C$e=C$t.source;if(!C$t.bitmap||!C$e)return au34n1._shaderSet=!1,1;this.shaderValue.texture=C$e,C$t.alphaTexture&&C$t.alphaTexture.source&&(this.shaderValue.texture1=C$t.alphaTexture.source)}this._vb.bind_upload(this._ib);var C$i=C$u.mainContext;if(C$H.activeBlendFunction!==this._blendFn&&(C$i.enable(3042),this._blendFn(C$i),C$H.activeBlendFunction=this._blendFn),C$P.drawCall++,C$P.trianglesFaces+=this._numEle/3,this._preIsSameTextureShader&&C$Lt.activeShader&&au34n1._shaderSet?(C$Lt.activeShader.uploadTexture2D(this.shaderValue.texture),this.shaderValue.texture1&&C$Lt.activeShader.uploadTexture2D1(this.shaderValue.texture1)):this.shaderValue.upload(),au34n1._shaderSet=!0,1<this._texs.length&&!this._isSameTexture)for(var C$n=C$t.bitmap,C$r=0,C$s=C$Lt.activeShader,C$a=0,C$o=this._texs.length;C$a<C$o;C$a++){var C$h=this._texs[C$a];C$h.bitmap===C$n&&C$a+1!==C$o||(C$s.uploadTexture2D(C$h.source),C$i.drawElements(4,6*(C$a-C$r+1),5123,this._startIdx+6*C$r*C$mt.BYTES_PIDX),C$n=C$h.bitmap,C$r=C$a)}else C$i.drawElements(4,this._numEle,5123,this._startIdx);return 1},au34n1.create=function(C$t,C$e,C$i,C$n,C$r){var C$s=au34n1._cache._length?au34n1._cache[--au34n1._cache._length]:new au34n1;null==C$i&&((C$i=C$s._selfVb||(C$s._selfVb=C$Zt.create(-1))).clear(),C$n=0),C$s._ib=C$e,C$s._vb=C$i,C$s._startIdx=C$n*C$mt.BYTES_PIDX,C$s._numEle=0;C$e=C$t._nBlendType;C$s._blendFn=(C$t._targets?C$H.targetFns:C$H.fns)[C$e],C$s.shaderValue=C$r,C$s.shaderValue.setValue(C$t._shader2D);C$i=C$t._shader2D.filters;return C$i&&C$s.shaderValue.setFilters(C$i),C$s},au34n1._cache=((au34n1._cache=[])._length=0,au34n1._cache),au34n1._shaderSet=!0,au34n1),C$Pt=(C$e(yvr5oj,"laya.webgl.utils.MeshTexture",C$n),(C$F=yvr5oj.prototype).addData=function(C$t,C$e,C$i,C$n,C$u,C$c){for(var C$r=C$t.length/2,C$s=this._vb.needSize(C$r*yvr5oj.const_stride)>>2,C$a=this._vb.getFloat32Array(),C$o=0,C$_=0;C$_<C$r;C$_++){var C$h=C$t[C$o],C$d=C$t[C$o+1],C$f=C$h*C$n.a+C$d*C$n.c+C$n.tx,C$h=C$h*C$n.b+C$d*C$n.d+C$n.ty;C$a[C$s++]=C$f,C$a[C$s++]=C$h,C$a[C$s++]=C$e[C$o],C$a[C$s++]=C$e[C$o+1],C$o+=2}this._vb.setNeedUpload();var C$p=this.vertNum;if(0<C$p){(C$r=C$i.length)>yvr5oj.tmpIdx.length&&(yvr5oj.tmpIdx=new Uint16Array(C$r));for(var C$l=0;C$l<C$r;C$l++)yvr5oj.tmpIdx[C$l]=C$i[C$l]+C$p;this._ib.appendU16Array(yvr5oj.tmpIdx,C$i.length)}else this._ib.append(C$i);this._ib.setNeedUpload(),this.vertNum+=C$r,this.indexNum+=C$i.length},C$F.releaseMesh=function(){this._vb._byteLength=0,this._ib._byteLength=0,this.vertNum=0,this.indexNum=0,laya.webgl.utils.MeshTexture._POOL.push(this)},C$F.destroy=function(){this._ib.destroy(),this._vb.destroy()},yvr5oj.getAMesh=function(){return laya.webgl.utils.MeshTexture._POOL.length?laya.webgl.utils.MeshTexture._POOL.pop():new yvr5oj},yvr5oj.const_stride=16,yvr5oj._POOL=[],C$r(yvr5oj,["_fixattriInfo",function(){return this._fixattriInfo=[5126,2,0,5126,2,8]},"tmpIdx",function(){return this.tmpIdx=new Uint16Array(4)}]),yvr5oj),C$Lt=(C$e(p29we,"laya.webgl.shader.BaseShader",C$D),p29we.activeShader=null,p29we.bindShader=null,p29we),C$Bt=(C$e(zpeth,"laya.webgl.resource.RenderTarget2D",C$re=C$N),C$i=zpeth.prototype,C$g.imps(C$i,{"laya.resource.IDispose":!0}),C$i.getType=function(){return this._type},C$i.getTexture=function(){return this},C$i.size=function(C$t,C$e){this._w==C$t&&this._h==C$e||(this._w=C$t,this._h=C$e,this.release(),0!=this._w&&0!=this._h&&this._createWebGLRenderTarget())},C$i.release=function(){this.destroy()},C$i.recycle=function(){zpeth.POOL.push(this)},C$i.start=function(){var C$t=C$u.mainContext;return this._preRenderTarget=C$l.curRenderTarget,C$l.curRenderTarget=this,C$t.bindFramebuffer(36160,this.bitmap.frameBuffer),this._alreadyResolved=!1,1==this._type&&(C$t.viewport(0,0,this._w,this._h),this._svWidth=C$l.width,this._svHeight=C$l.height,C$l.width=this._w,C$l.height=this._h,C$Lt.activeShader=null),this},C$i.clear=function(C$t,C$e,C$i,C$n){var C$r=C$u.mainContext;C$r.clearColor(C$t=void 0===C$t?0:C$t,C$e=void 0===C$e?0:C$e,C$i=void 0===C$i?0:C$i,C$n=void 0===C$n?1:C$n);var C$s=16384;switch(this._depthStencilFormat){case 33189:C$s|=256;break;case 36168:C$s|=1024;break;case 34041:C$s=C$s|256|1024}C$r.clear(C$s)},C$i.end=function(){var C$t=C$u.mainContext;C$t.bindFramebuffer(36160,this._preRenderTarget?this._preRenderTarget.bitmap.frameBuffer:null),this._alreadyResolved=!0,C$l.curRenderTarget=this._preRenderTarget,1==this._type?(C$t.viewport(0,0,this._svWidth,this._svHeight),C$l.width=this._svWidth,C$l.height=this._svHeight,C$Lt.activeShader=null):C$t.viewport(0,0,C$g.stage.width,C$g.stage.height)},C$i.getData=function(C$t,C$e,C$i,C$n){var C$r=C$u.mainContext;if(C$r.bindFramebuffer(36160,this.bitmap.frameBuffer),36053!==C$r.checkFramebufferStatus(36160))return C$r.bindFramebuffer(36160,null),null;var C$s=new Uint8Array(this._w*this._h*4);return C$r.readPixels(C$t,C$e,C$i,C$n,this._surfaceFormat,this._surfaceType,C$s),C$r.bindFramebuffer(36160,null),C$s},C$i.destroy=function(C$t){void 0===C$t&&(C$t=!1),this._destroy||(this._loaded=!1,this.bitmap.offAll(),this.bitmap.disposeResource(),this.bitmap.dispose(),this.offAll(),this.bitmap=null,this._alreadyResolved=!1,this._destroy=!0,C$re.prototype.destroy.call(this))},C$i.dispose=function(){},C$i._createWebGLRenderTarget=function(){this.bitmap=new C$Ht(this.width,this.height,this._surfaceFormat,this._surfaceType,this._depthStencilFormat,this._mipMap,this._repeat,this._minFifter,this._magFifter),this.bitmap.activeResource(),this._alreadyResolved=!0,this._destroy=!1,this._loaded=!0,this.bitmap.on("recovered",this,function(C$t){this.event("recovered")})},C$s(0,C$i,"surfaceFormat",function(){return this._surfaceFormat}),C$s(0,C$i,"magFifter",function(){return this._magFifter}),C$s(0,C$i,"surfaceType",function(){return this._surfaceType}),C$s(0,C$i,"mipMap",function(){return this._mipMap}),C$s(0,C$i,"depthStencilFormat",function(){return this._depthStencilFormat}),C$s(0,C$i,"minFifter",function(){return this._minFifter}),C$s(0,C$i,"source",function(){return this._alreadyResolved?C$g.superGet(C$N,this,"source"):null}),zpeth.create=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h){void 0===C$i&&(C$i=6408),void 0===C$n&&(C$n=5121),void 0===C$r&&(C$r=34041),void 0===C$s&&(C$s=!1),void 0===C$a&&(C$a=!1),void 0===C$o&&(C$o=-1),void 0===C$h&&(C$h=-1);var C$l=zpeth.POOL.pop();return(C$l=C$l||new zpeth(C$t,C$e)).bitmap&&C$l._w==C$t&&C$l._h==C$e&&C$l._surfaceFormat==C$i&&C$l._surfaceType==C$n&&C$l._depthStencilFormat==C$r&&C$l._mipMap==C$s&&C$l._repeat==C$a&&C$l._minFifter==C$o&&C$l._magFifter==C$h||(C$l._w=C$t,C$l._h=C$e,C$l._surfaceFormat=C$i,C$l._surfaceType=C$n,C$l._depthStencilFormat=C$r,C$S.isConchWebGL&&34041===C$l._depthStencilFormat&&(C$l._depthStencilFormat=33189),C$l._mipMap=C$s,C$l._repeat=C$a,C$l._minFifter=C$o,C$l._magFifter=C$h,C$l.release(),C$l._createWebGLRenderTarget()),C$l},zpeth.TYPE2D=1,zpeth.TYPE3D=2,zpeth.POOL=[],zpeth),C$kt=(C$e(qo0yb,"laya.webgl.utils.Buffer",C$D),(C$V=qo0yb.prototype)._bind=function(){this.activeResource(),qo0yb._bindActive[this._bufferType]!==this._glBuffer&&(34962===this._bufferType&&(qo0yb._bindVertexBuffer=this._glBuffer),qo0yb._gl.bindBuffer(this._bufferType,qo0yb._bindActive[this._bufferType]=this._glBuffer),C$Lt.activeShader=null)},C$V.recreateResource=function(){this._glBuffer||(this._glBuffer=qo0yb._gl.createBuffer()),this.completeCreate()},C$V.disposeResource=function(){this._glBuffer&&(C$u.mainContext.deleteBuffer(this._glBuffer),this._glBuffer=null),this.memorySize=0},C$s(0,C$V,"bufferUsage",function(){return this._bufferUsage}),qo0yb._gl=null,qo0yb._bindActive={},qo0yb._bindVertexBuffer=null,qo0yb._enableAtributes=[],qo0yb),C$Nt=(C$e(la34u1,"laya.webgl.shader.d2.skinAnishader.SkinSV",C$wt),la34u1),C$zt=(C$e(dk8c6,"laya.webgl.shader.d2.value.Color2dSV",C$wt),dk8c6.prototype.setValue=function(C$t){C$t.fillStyle&&(this.color=C$t.fillStyle._color._color),C$t.strokeStyle&&(this.color=C$t.strokeStyle._color._color)},dk8c6),C$Ot=(C$e(ezpt,"laya.webgl.shader.d2.value.FillTextureSV",C$wt),(C$he=ezpt.prototype).setValue=function(C$t){this.ALPHA=C$t.ALPHA,C$t.filters&&this.setFilters(C$t.filters)},C$he.clear=function(){this.texture=null,this.texture1=null,this.shader=null,this.colorMat=null,this.colorAlpha=null,this.defines.setValue(0)},ezpt),C$Ft=(C$e(r7xvj,"laya.webgl.shader.d2.value.TextureSV",C$wt),(C$t=r7xvj.prototype).setValue=function(C$t){this.ALPHA=C$t.ALPHA,C$t.filters&&this.setFilters(C$t.filters)},C$t.clear=function(){this.texture=null,this.texture1=null,this.shader=null,this.colorMat=null,this.colorAlpha=null,this.defines.setValue(0)},r7xvj),C$Vt=(C$e(xi741,"laya.webgl.shader.d2.value.PrimitiveSV",C$wt),xi741),C$jt=(C$e(rjvoy,"laya.webgl.atlas.AtlasWebGLCanvas",C$n=C$o),(C$F=rjvoy.prototype).recreateResource=function(){var C$t=C$u.mainContext,C$e=this._source=C$t.createTexture(),C$i=C$xt.curBindTexTarget,C$n=C$xt.curBindTexValue;C$xt.bindTexture(C$t,3553,C$e),C$t.texImage2D(3553,0,6408,this._w,this._h,0,6408,5121,null),C$t.texParameteri(3553,10241,9729),C$t.texParameteri(3553,10240,9729),C$t.texParameteri(3553,10242,33071),C$t.texParameteri(3553,10243,33071),C$i&&C$n&&C$xt.bindTexture(C$t,C$i,C$n),this.memorySize=this._w*this._h*4,this.completeCreate()},C$F.disposeResource=function(){this._source&&(C$u.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},C$F.texSubImage2D=function(C$t,C$e,C$i){var C$n,C$r,C$s;C$S.isFlash?(this._flashCacheImage||(this._flashCacheImage=C$x.create(""),this._flashCacheImage._image.createCanvas(this._w,this._h)),C$n=C$i.bitmapdata,this._flashCacheImage._image.copyPixels(C$n,0,0,C$n.width,C$n.height,C$t,C$e),this._flashCacheImageNeedFlush||(this._flashCacheImageNeedFlush=!0)):(C$n=C$u.mainContext,C$r=C$xt.curBindTexTarget,C$s=C$xt.curBindTexValue,C$xt.bindTexture(C$n,3553,this._source),C$n.pixelStorei(37441,!0),0<=C$t-1&&C$n.texSubImage2D(3553,0,C$t-1,C$e,6408,5121,C$i),C$t+1<=this._w&&C$n.texSubImage2D(3553,0,C$t+1,C$e,6408,5121,C$i),0<=C$e-1&&C$n.texSubImage2D(3553,0,C$t,C$e-1,6408,5121,C$i),C$e+1<=this._h&&C$n.texSubImage2D(3553,0,C$t,C$e+1,6408,5121,C$i),C$n.texSubImage2D(3553,0,C$t,C$e,6408,5121,C$i),C$n.pixelStorei(37441,!1),C$r&&C$s&&C$xt.bindTexture(C$n,C$r,C$s))},C$F.texSubImage2DPixel=function(C$t,C$e,C$i,C$n,C$r){var C$s=C$u.mainContext,C$a=C$xt.curBindTexTarget,C$o=C$xt.curBindTexValue;C$xt.bindTexture(C$s,3553,this._source);C$r=new Uint8Array(C$r.data);C$s.pixelStorei(37441,!0),C$s.texSubImage2D(3553,0,C$t,C$e,C$i,C$n,6408,5121,C$r),C$s.pixelStorei(37441,!1),C$a&&C$o&&C$xt.bindTexture(C$s,C$a,C$o)},C$s(0,C$F,"width",C$n.prototype._$get_width,function(C$t){this._w=C$t}),C$s(0,C$F,"height",C$n.prototype._$get_height,function(C$t){this._h=C$t}),rjvoy),C$Ut=(C$e(ryj7o,"laya.webgl.resource.WebGLCanvas",C$o),(C$i=ryj7o.prototype).getCanvas=function(){return this._canvas},C$i.clear=function(){this._ctx&&this._ctx.clear()},C$i.destroy=function(){this._ctx&&this._ctx.destroy(),this._ctx=null,laya.resource.Resource.prototype.destroy.call(this)},C$i._setContext=function(C$t){this._ctx=C$t},C$i.getContext=function(C$t,C$e){return this._ctx||(this._ctx=ryj7o._createContext(this))},C$i.size=function(C$t,C$e){this._w==C$t&&this._h==C$e||(this._w=C$t,this._h=C$e,this._ctx&&this._ctx.size(C$t,C$e),this._canvas&&(this._canvas.height=C$e,this._canvas.width=C$t))},C$i.activeResource=function(C$t){void 0===C$t&&(C$t=!1),this._source||this.recreateResource()},C$i.recreateResource=function(){this.createWebGlTexture(),this.completeCreate()},C$i.disposeResource=function(){this._source&&!this.iscpuSource&&(C$u.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},C$i.createWebGlTexture=function(){var C$t=C$u.mainContext;this._canvas;var C$e=this._source=C$t.createTexture();this.iscpuSource=!1;var C$i=C$xt.curBindTexTarget,C$n=C$xt.curBindTexValue;C$xt.bindTexture(C$t,3553,C$e),C$t.pixelStorei(37440,this.flipY?1:0),ryj7o.premulAlpha&&C$t.pixelStorei(37441,!0),C$t.texImage2D(3553,0,6408,6408,5121,this._imgData),ryj7o.premulAlpha&&C$t.pixelStorei(37441,!1),C$t.texParameteri(3553,10240,9729),C$t.texParameteri(3553,10241,9729),C$t.texParameteri(3553,10242,33071),C$t.texParameteri(3553,10243,33071),C$t.pixelStorei(37440,0),this.memorySize=this._w*this._h*4,C$i&&C$n&&C$xt.bindTexture(C$t,C$i,C$n)},C$i.reloadCanvasData=function(){var C$t=C$u.mainContext;if(!this._source)throw"reloadCanvasData error, gl texture not created!";var C$e=C$xt.curBindTexTarget,C$i=C$xt.curBindTexValue;C$xt.bindTexture(C$t,3553,this._source),ryj7o.premulAlpha&&C$t.pixelStorei(37441,!0),C$t.texImage2D(3553,0,6408,6408,5121,this._imgData),ryj7o.premulAlpha&&C$t.pixelStorei(37441,!1),C$t.pixelStorei(37440,0),C$e&&C$i&&C$xt.bindTexture(C$t,C$e,C$i)},C$i.texSubImage2D=function(C$t,C$e,C$i){var C$n=C$u.mainContext,C$r=C$xt.curBindTexTarget,C$s=C$xt.curBindTexValue;C$xt.bindTexture(C$n,3553,this._source),C$n.pixelStorei(37441,!0),C$n.texSubImage2D(3553,0,C$e,C$i,6408,5121,C$t._source),C$n.pixelStorei(37441,!1),C$r&&C$s&&C$xt.bindTexture(C$n,C$r,C$s)},C$i.toBase64=function(C$t,C$e,C$i){var C$n=null;this._canvas&&(C$n=this._canvas.toDataURL(C$t,C$e)),C$i.call(this,C$n)},C$s(0,C$i,"context",function(){return this._ctx}),C$s(0,C$i,"source",function(){return this.alwaysChange&&this.reloadCanvasData(),this._source}),C$s(0,C$i,"asBitmap",null,function(C$t){this._ctx&&(this._ctx.asBitmap=C$t)}),ryj7o._createContext=null,ryj7o.premulAlpha=!1,ryj7o),C$qt=(C$e(chpt,"laya.webgl.resource.WebGLCharImage",C$o),C$D=chpt.prototype,C$g.imps(C$D,{"laya.webgl.resource.IMergeAtlasBitmap":!0}),C$D.active=function(){this.texture.active()},C$D.recreateResource=function(){var C$t=C$S.isConchApp;var C$e;this.onresize(this.cw+2*this.CborderSize,this.ch+2*this.CborderSize),this.canvas&&(this.canvas.height=this._h,this.canvas.width=this._w),C$t?(C$t=this.fontSize,1==this.xs&&1==this.ys||(C$t=parseInt(C$t*(this.xs>this.ys?this.xs:this.ys)+"")),C$e=(C$e="normal 100 "+this.font).replace(chpt._fontSizeReg,C$t),this.borderColor&&(C$e+=" 1 "+this.borderColor),this._ctx.font=C$e,this._ctx.textBaseline="top",this._ctx.fillStyle=this.fillColor,this._ctx.fillText(this.char,this.CborderSize,this.CborderSize,null,null,null)):(this._ctx.save(),this._ctx.lineJoin="round",this._ctx.clearRect(0,0,this.cw+2*this.CborderSize,this.ch+2*this.CborderSize),this._ctx.font=this.font,C$k.RightToLeft&&(this._ctx.textAlign="end"),this._ctx.textBaseline="top",this._ctx.translate(this.CborderSize,this.CborderSize),1==this.xs&&1==this.ys||this._ctx.scale(this.xs,this.ys),this.fillColor&&this.borderColor?(this._ctx.strokeStyle=this.borderColor,this._ctx.lineWidth=this.lineWidth,this._ctx.strokeText(this.char,0,0,null,null,0,null),this._ctx.fillStyle=this.fillColor,this._ctx.fillText(this.char,0,0,null,null,null)):-1===this.lineWidth?(this._ctx.fillStyle=this.fillColor||"white",this._ctx.fillText(this.char,0,0,null,null,null)):(this._ctx.strokeStyle=this.borderColor||"white",this._ctx.lineWidth=this.lineWidth,this._ctx.strokeText(this.char,0,0,null,null,0,null)),this.underLine&&(this._ctx.lineWidth=1,this._ctx.strokeStyle=this.fillColor,this._ctx.beginPath(),this._ctx.moveTo(0,this.fontSize+1),C$t=(this._ctx.measureText(this.char)||{width:16}).width+1,this._ctx.lineTo(C$t,this.fontSize+1),this._ctx.stroke()),this._ctx.restore()),this.borderSize=this.CborderSize,this.completeCreate()},C$D.onresize=function(C$t,C$e){this._w=C$t,this._h=C$e,this._allowMerageInAtlas=!0},C$D.clearAtlasSource=function(){},C$s(0,C$D,"allowMerageInAtlas",function(){return this._allowMerageInAtlas}),C$s(0,C$D,"atlasSource",function(){return this.canvas}),C$s(0,C$D,"enableMerageInAtlas",function(){return this._enableMerageInAtlas},function(C$t){this._enableMerageInAtlas=C$t}),chpt.createOneChar=function(C$t,C$e){return new chpt(C$t,C$e)},chpt._fontSizeReg=new RegExp("\\d+(?=px)","g"),chpt),C$Ht=(C$e(u4l1a,"laya.webgl.resource.WebGLRenderTarget",C$o),(C$V=u4l1a.prototype).recreateResource=function(){var C$t=C$u.mainContext;this._frameBuffer||(this._frameBuffer=C$t.createFramebuffer()),this._source||(this._source=C$t.createTexture());var C$e=C$xt.curBindTexTarget,C$i=C$xt.curBindTexValue;C$xt.bindTexture(C$t,3553,this._source),C$t.texImage2D(3553,0,6408,this._w,this._h,0,this._surfaceFormat,this._surfaceType,null);var C$n=this._minFifter,C$r=this._magFifter,C$s=this._repeat?10497:33071,C$a=C$h.isPOT(this._w,this._h);if(C$a?(this._mipMap?-1!==C$n||(C$n=9987):-1!==C$n||(C$n=9729),-1!==C$r||(C$r=9729),C$t.texParameteri(3553,10241,C$n),C$t.texParameteri(3553,10240,C$r),C$t.texParameteri(3553,10242,C$s),C$t.texParameteri(3553,10243,C$s),this._mipMap&&C$t.generateMipmap(3553)):(-1!==C$r||(C$r=9729),C$t.texParameteri(3553,10241,C$n=-1!==C$n?C$n:9729),C$t.texParameteri(3553,10240,C$r),C$t.texParameteri(3553,10242,33071),C$t.texParameteri(3553,10243,33071)),C$t.bindFramebuffer(36160,this._frameBuffer),C$t.framebufferTexture2D(36160,36064,3553,this._source,0),this._depthStencilFormat)switch(this._depthStencilBuffer||(this._depthStencilBuffer=C$t.createRenderbuffer()),C$t.bindRenderbuffer(36161,this._depthStencilBuffer),C$t.renderbufferStorage(36161,this._depthStencilFormat,this._w,this._h),this._depthStencilFormat){case 33189:C$t.framebufferRenderbuffer(36160,36096,36161,this._depthStencilBuffer);break;case 36168:C$t.framebufferRenderbuffer(36160,36128,36161,this._depthStencilBuffer);break;case 34041:C$t.framebufferRenderbuffer(36160,33306,36161,this._depthStencilBuffer)}C$t.bindFramebuffer(36160,null),C$e&&C$i&&C$xt.bindTexture(C$t,C$e,C$i),C$t.bindRenderbuffer(36161,null),C$a&&this._mipMap?this.memorySize=this._w*this._h*4*(1+1/3):this.memorySize=this._w*this._h*4,this.completeCreate()},C$V.disposeResource=function(){this._frameBuffer&&(C$u.mainContext.deleteTexture(this._source),C$u.mainContext.deleteFramebuffer(this._frameBuffer),C$u.mainContext.deleteRenderbuffer(this._depthStencilBuffer),this._source=null,this._frameBuffer=null,this._depthStencilBuffer=null,this.memorySize=0,this.uri=null)},C$s(0,C$V,"depthStencilBuffer",function(){return this._depthStencilBuffer}),C$s(0,C$V,"frameBuffer",function(){return this._frameBuffer}),u4l1a),C$Wt=(C$e(a1un3,"laya.webgl.resource.WebGLSubImage",C$o),C$he=a1un3.prototype,C$g.imps(C$he,{"laya.webgl.resource.IMergeAtlasBitmap":!0}),C$he.size=function(C$t,C$e){this._w=C$t,this._h=C$e,this._ctx&&this._ctx.size(C$t,C$e),this.canvas&&(this.canvas.height=C$e,this.canvas.width=C$t)},C$he.recreateResource=function(){this.size(this._w,this._h),this._ctx.drawImage(this.atlasImage,this.offsetX,this.offsetY,this._w,this._h,0,0,this._w,this._h),this._allowMerageInAtlas&&this._enableMerageInAtlas?this.memorySize=0:this.createWebGlTexture(),this.completeCreate()},C$he.createWebGlTexture=function(){var C$t=C$u.mainContext;if(!this.canvas)throw"create GLTextur err:no data:"+this.canvas;var C$e=this._source=C$t.createTexture(),C$i=C$xt.curBindTexTarget,C$n=C$xt.curBindTexValue;C$xt.bindTexture(C$t,3553,C$e),C$t.pixelStorei(37441,!0),C$t.texImage2D(3553,0,6408,6408,5121,this.canvas),C$t.pixelStorei(37441,!1);var C$e=this.minFifter,C$r=this.magFifter,C$s=this.repeat?10497:33071,C$a=C$h.isPOT(this.width,this.height);C$a?(this.mipmap?-1!==C$e||(C$e=9987):-1!==C$e||(C$e=9729),C$t.texParameteri(3553,10240,C$r=-1!==C$r?C$r:9729),C$t.texParameteri(3553,10241,C$e),C$t.texParameteri(3553,10242,C$s),C$t.texParameteri(3553,10243,C$s),this.mipmap&&C$t.generateMipmap(3553)):(-1!==C$r||(C$r=9729),C$t.texParameteri(3553,10241,C$e=-1!==C$e?C$e:9729),C$t.texParameteri(3553,10240,C$r),C$t.texParameteri(3553,10242,33071),C$t.texParameteri(3553,10243,33071)),C$i&&C$n&&C$xt.bindTexture(C$t,C$i,C$n),this.canvas=null,C$a&&this.mipmap?this.memorySize=this._w*this._h*4*(1+1/3):this.memorySize=this._w*this._h*4},C$he.disposeResource=function(){C$U.enabled&&this._allowMerageInAtlas||!this._source||(C$u.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},C$he.clearAtlasSource=function(){},C$s(0,C$he,"allowMerageInAtlas",function(){return this._allowMerageInAtlas}),C$s(0,C$he,"atlasSource",function(){return this.canvas}),C$s(0,C$he,"enableMerageInAtlas",function(){return this._allowMerageInAtlas},function(C$t){this._allowMerageInAtlas=C$t}),a1un3),C$Gt=(C$e(bqo5y,"laya.webgl.shader.Shader",C$Lt),(C$t=bqo5y.prototype).recreateResource=function(){this._compile(),this.completeCreate(),this.memorySize=0},C$t.disposeResource=function(){C$u.mainContext.deleteShader(this._vshader),C$u.mainContext.deleteShader(this._pshader),C$u.mainContext.deleteProgram(this._program),this._vshader=this._pshader=this._program=null,this._params=null,this._paramsMap={},this.memorySize=0,this._curActTexIndex=0},C$t._compile=function(){if(!C$u.mainContext.isContextLost()&&this._vs&&this._ps&&!this._params){this._reCompile=!0,this._params=[];var C$t=[this._vs,this._ps],C$e=C$u.mainContext;if(this._program=C$e.createProgram(),this._vshader=bqo5y._createShader(C$e,C$t[0],35633),this._pshader=bqo5y._createShader(C$e,C$t[1],35632),C$e.attachShader(this._program,this._vshader),C$e.attachShader(this._program,this._pshader),C$e.linkProgram(this._program),!C$S.isConchApp&&!C$e.getProgramParameter(this._program,35714))throw C$e.getProgramInfoLog(this._program);var C$i,C$n,C$r,C$s=0;for(C$r=C$S.isConchApp?C$e.getProgramParameterEx(this._vs,this._ps,"",35721):C$e.getProgramParameter(this._program,35721),C$s=0;C$s<C$r;C$s++){var C$a=null;C$i={vartype:"attribute",glfun:null,ivartype:0,attrib:C$a=C$S.isConchApp?C$e.getActiveAttribEx(this._vs,this._ps,"",C$s):C$e.getActiveAttrib(this._program,C$s),location:C$e.getAttribLocation(this._program,C$a.name),name:C$a.name,type:C$a.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0},this._params.push(C$i)}var C$o;for(C$o=C$S.isConchApp?C$e.getProgramParameterEx(this._vs,this._ps,"",35718):C$e.getProgramParameter(this._program,35718),C$s=0;C$s<C$o;C$s++){var C$h=null;C$h=C$S.isConchApp?C$e.getActiveUniformEx(this._vs,this._ps,"",C$s):C$e.getActiveUniform(this._program,C$s),0<(C$i={vartype:"uniform",glfun:null,ivartype:1,attrib:C$a,location:C$e.getUniformLocation(this._program,C$h.name),name:C$h.name,type:C$h.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0}).name.indexOf("[0]")&&(C$i.name=C$i.name.substr(0,C$i.name.length-3),C$i.isArray=!0,C$i.location=C$e.getUniformLocation(this._program,C$i.name)),this._params.push(C$i)}for(C$s=0,C$n=this._params.length;C$s<C$n;C$s++)if((C$i=this._params[C$s]).indexOfParams=C$s,C$i.index=1,C$i.value=[C$i.location,null],C$i.codename=C$i.name,C$i.name=this._nameMap[C$i.codename]||C$i.codename,(this._paramsMap[C$i.name]=C$i)._this=this,C$i.uploadedValue=[],"attribute"!==C$i.vartype)switch(C$i.type){case 5124:C$i.fun=C$i.isArray?this._uniform1iv:this._uniform1i;break;case 5126:C$i.fun=C$i.isArray?this._uniform1fv:this._uniform1f;break;case 35664:C$i.fun=C$i.isArray?this._uniform_vec2v:this._uniform_vec2;break;case 35665:C$i.fun=C$i.isArray?this._uniform_vec3v:this._uniform_vec3;break;case 35666:C$i.fun=C$i.isArray?this._uniform_vec4v:this._uniform_vec4;break;case 35678:C$i.fun=this._uniform_sampler2D;break;case 35680:C$i.fun=this._uniform_samplerCube;break;case 35676:C$i.glfun=C$e.uniformMatrix4fv,C$i.fun=this._uniformMatrix4fv;break;case 35670:C$i.fun=this._uniform1i;break;default:throw new Error("compile shader err!")}else C$i.fun=this._attribute}},C$t.getUniform=function(C$t){return this._paramsMap[C$t]},C$t._attribute=function(C$t,C$e){var C$i=C$u.mainContext,C$n=C$kt._enableAtributes,C$t=C$t.location;return C$n[C$t]||C$i.enableVertexAttribArray(C$t),C$i.vertexAttribPointer(C$t,C$e[0],C$e[1],C$e[2],C$e[3],C$e[4]+this._offset),C$n[C$t]=C$kt._bindVertexBuffer,1},C$t._uniform1f=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e?(C$u.mainContext.uniform1f(C$t.location,C$i[0]=C$e),1):0},C$t._uniform1fv=function(C$t,C$e){var C$i;return C$e.length<4?(C$i=C$t.uploadedValue)[0]!==C$e[0]||C$i[1]!==C$e[1]||C$i[2]!==C$e[2]||C$i[3]!==C$e[3]?(C$u.mainContext.uniform1fv(C$t.location,C$e),C$i[0]=C$e[0],C$i[1]=C$e[1],C$i[2]=C$e[2],C$i[3]=C$e[3],1):0:(C$u.mainContext.uniform1fv(C$t.location,C$e),1)},C$t._uniform_vec2=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e[0]||C$i[1]!==C$e[1]?(C$u.mainContext.uniform2f(C$t.location,C$i[0]=C$e[0],C$i[1]=C$e[1]),1):0},C$t._uniform_vec2v=function(C$t,C$e){var C$i;return C$e.length<2?(C$i=C$t.uploadedValue)[0]!==C$e[0]||C$i[1]!==C$e[1]||C$i[2]!==C$e[2]||C$i[3]!==C$e[3]?(C$u.mainContext.uniform2fv(C$t.location,C$e),C$i[0]=C$e[0],C$i[1]=C$e[1],C$i[2]=C$e[2],C$i[3]=C$e[3],1):0:(C$u.mainContext.uniform2fv(C$t.location,C$e),1)},C$t._uniform_vec3=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e[0]||C$i[1]!==C$e[1]||C$i[2]!==C$e[2]?(C$u.mainContext.uniform3f(C$t.location,C$i[0]=C$e[0],C$i[1]=C$e[1],C$i[2]=C$e[2]),1):0},C$t._uniform_vec3v=function(C$t,C$e){return C$u.mainContext.uniform3fv(C$t.location,C$e),1},C$t._uniform_vec4=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e[0]||C$i[1]!==C$e[1]||C$i[2]!==C$e[2]||C$i[3]!==C$e[3]?(C$u.mainContext.uniform4f(C$t.location,C$i[0]=C$e[0],C$i[1]=C$e[1],C$i[2]=C$e[2],C$i[3]=C$e[3]),1):0},C$t._uniform_vec4v=function(C$t,C$e){return C$u.mainContext.uniform4fv(C$t.location,C$e),1},C$t._uniformMatrix2fv=function(C$t,C$e){return C$u.mainContext.uniformMatrix2fv(C$t.location,!1,C$e),1},C$t._uniformMatrix3fv=function(C$t,C$e){return C$u.mainContext.uniformMatrix3fv(C$t.location,!1,C$e),1},C$t._uniformMatrix4fv=function(C$t,C$e){return C$u.mainContext.uniformMatrix4fv(C$t.location,!1,C$e),1},C$t._uniform1i=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e?(C$u.mainContext.uniform1i(C$t.location,C$i[0]=C$e),1):0},C$t._uniform1iv=function(C$t,C$e){return C$u.mainContext.uniform1iv(C$t.location,C$e),1},C$t._uniform_ivec2=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e[0]||C$i[1]!==C$e[1]?(C$u.mainContext.uniform2i(C$t.location,C$i[0]=C$e[0],C$i[1]=C$e[1]),1):0},C$t._uniform_ivec2v=function(C$t,C$e){return C$u.mainContext.uniform2iv(C$t.location,C$e),1},C$t._uniform_vec3i=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e[0]||C$i[1]!==C$e[1]||C$i[2]!==C$e[2]?(C$u.mainContext.uniform3i(C$t.location,C$i[0]=C$e[0],C$i[1]=C$e[1],C$i[2]=C$e[2]),1):0},C$t._uniform_vec3vi=function(C$t,C$e){return C$u.mainContext.uniform3iv(C$t.location,C$e),1},C$t._uniform_vec4i=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e[0]||C$i[1]!==C$e[1]||C$i[2]!==C$e[2]||C$i[3]!==C$e[3]?(C$u.mainContext.uniform4i(C$t.location,C$i[0]=C$e[0],C$i[1]=C$e[1],C$i[2]=C$e[2],C$i[3]=C$e[3]),1):0},C$t._uniform_vec4vi=function(C$t,C$e){return C$u.mainContext.uniform4iv(C$t.location,C$e),1},C$t._uniform_sampler2D=function(C$t,C$e){var C$i=C$u.mainContext,C$n=C$t.uploadedValue;return null==C$n[0]?(C$n[0]=this._curActTexIndex,C$i.uniform1i(C$t.location,this._curActTexIndex),C$i.activeTexture(bqo5y._TEXTURES[this._curActTexIndex]),C$xt.bindTexture(C$i,3553,C$e),this._curActTexIndex++,1):(C$i.activeTexture(bqo5y._TEXTURES[C$n[0]]),C$xt.bindTexture(C$i,3553,C$e),0)},C$t._uniform_samplerCube=function(C$t,C$e){var C$i=C$u.mainContext,C$n=C$t.uploadedValue;return null==C$n[0]?(C$n[0]=this._curActTexIndex,C$i.uniform1i(C$t.location,this._curActTexIndex),C$i.activeTexture(bqo5y._TEXTURES[this._curActTexIndex]),C$xt.bindTexture(C$i,34067,C$e),this._curActTexIndex++,1):(C$i.activeTexture(bqo5y._TEXTURES[C$n[0]]),C$xt.bindTexture(C$i,34067,C$e),0)},C$t._noSetValue=function(C$t){console.log("no....:"+C$t.name)},C$t.uploadOne=function(C$t,C$e){this.activeResource(),C$xt.UseProgram(this._program);C$t=this._paramsMap[C$t];C$t.fun.call(this,C$t,C$e)},C$t.uploadTexture2D=function(C$t){C$P.shaderCall++;var C$e=C$u.mainContext;C$e.activeTexture(33984),C$xt.bindTexture(C$e,3553,C$t)},C$t.uploadTexture2D1=function(C$t){C$P.shaderCall++;var C$e=C$u.mainContext;C$e.activeTexture(33985),C$xt.bindTexture(C$e,3553,C$t)},C$t.upload=function(C$t,C$e){(C$Lt.activeShader=C$Lt.bindShader=this)._lastUseFrameCount===C$P.loopCount||this.activeResource(),C$xt.UseProgram(this._program),this._reCompile?(C$e=this._params,this._reCompile=!1):C$e=C$e||this._params,C$u.mainContext;for(var C$i,C$n,C$r=C$e.length,C$s=0,C$a=0;C$a<C$r;C$a++)null!==(C$n=C$t[(C$i=C$e[C$a]).name])&&(C$s+=C$i.fun.call(this,C$i,C$n));C$P.shaderCall+=C$s},C$t.uploadArray=function(C$t,C$e,C$i){C$Lt.activeShader=this,(C$Lt.bindShader=this).activeResource(),C$xt.UseProgram(this._program),this._params;for(var C$n,C$r,C$s=0,C$a=C$e-2;0<=C$a;C$a-=2)(C$r=this._paramsMap[C$t[C$a]])&&null!=(C$n=C$t[C$a+1])&&(C$i&&C$i[C$r.name]&&C$i[C$r.name].bind(),C$s+=C$r.fun.call(this,C$r,C$n));C$P.shaderCall+=C$s},C$t.getParams=function(){return this._params},bqo5y.getShader=function(C$t){return bqo5y.sharders[C$t]},bqo5y.create=function(C$t,C$e,C$i,C$n){return new bqo5y(C$t,C$e,C$i,C$n)},bqo5y.withCompile=function(C$t,C$e,C$i,C$n){if(C$i&&bqo5y.sharders[C$i])return bqo5y.sharders[C$i];var C$r=bqo5y._preCompileShader[2e-4*C$t];if(!C$r)throw new Error("withCompile shader err!"+C$t);return C$r.createShader(C$e,C$i,C$n)},bqo5y.withCompile2D=function(C$t,C$e,C$i,C$n,C$r){if(C$n&&bqo5y.sharders[C$n])return bqo5y.sharders[C$n];var C$s=bqo5y._preCompileShader[2e-4*C$t+C$e];if(!C$s)throw new Error("withCompile shader err!"+C$t+" "+C$e);return C$s.createShader(C$i,C$n,C$r)},bqo5y.addInclude=function(C$t,C$e){C$vt.addInclude(C$t,C$e)},bqo5y.preCompile=function(C$t,C$e,C$i,C$n){C$t*=2e-4;bqo5y._preCompileShader[C$t]=new C$vt(C$t,C$e,C$i,C$n)},bqo5y.preCompile2D=function(C$t,C$e,C$i,C$n,C$r){C$t=2e-4*C$t+C$e;bqo5y._preCompileShader[C$t]=new C$vt(C$t,C$i,C$n,C$r)},bqo5y._createShader=function(C$t,C$e,C$i){C$i=C$t.createShader(C$i);return C$t.shaderSource(C$i,C$e),C$t.compileShader(C$i),C$i},bqo5y._TEXTURES=[33984,33985,33986,33987,33988,33989,33990,,33991,33992],bqo5y._count=0,bqo5y._preCompileShader={},bqo5y.SHADERNAME2ID=2e-4,bqo5y.sharders=((bqo5y.sharders=[]).length=32,bqo5y.sharders),C$r(bqo5y,["nameKey",function(){return this.nameKey=new C$L}]),bqo5y),C$Yt=(C$e(inx43,"laya.webgl.utils.Buffer2D",C$ne=C$kt),(C$F=inx43.prototype).needSize=function(C$t){var C$e=this._byteLength;return C$t&&((C$t=this._byteLength+C$t)<=this._buffer.byteLength||this._resizeBuffer(C$t<<1,!0),this._byteLength=C$t),C$e},C$F._bufferData=function(){this._maxsize=Math.max(this._maxsize,this._byteLength),C$P.loopCount%30==0&&(this._buffer.byteLength>this._maxsize+64&&(this.memorySize=this._buffer.byteLength,this._buffer=this._buffer.slice(0,this._maxsize+64),this._checkArrayUse()),this._maxsize=this._byteLength),this._uploadSize<this._buffer.byteLength&&(this._uploadSize=this._buffer.byteLength,C$kt._gl.bufferData(this._bufferType,this._uploadSize,this._bufferUsage),this.memorySize=this._uploadSize),C$kt._gl.bufferSubData(this._bufferType,0,this._buffer)},C$F._bufferSubData=function(C$t,C$e,C$i){void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0),this._maxsize=Math.max(this._maxsize,this._byteLength),C$P.loopCount%30==0&&(this._buffer.byteLength>this._maxsize+64&&(this.memorySize=this._buffer.byteLength,this._buffer=this._buffer.slice(0,this._maxsize+64),this._checkArrayUse()),this._maxsize=this._byteLength),this._uploadSize<this._buffer.byteLength&&(this._uploadSize=this._buffer.byteLength,C$kt._gl.bufferData(this._bufferType,this._uploadSize,this._bufferUsage),this.memorySize=this._uploadSize),C$e||C$i?(C$e=this._buffer.slice(C$e,C$i),C$kt._gl.bufferSubData(this._bufferType,C$t,C$e)):C$kt._gl.bufferSubData(this._bufferType,C$t,this._buffer)},C$F._checkArrayUse=function(){},C$F._bind_upload=function(){return!!this._upload&&(this._upload=!1,this._bind(),this._bufferData(),!0)},C$F._bind_subUpload=function(C$t,C$e,C$i){return void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0),!!this._upload&&(this._upload=!1,this._bind(),this._bufferSubData(C$t,C$e,C$i),!0)},C$F._resizeBuffer=function(C$t,C$e){return C$t<this._buffer.byteLength||(this.memorySize=C$t,C$e&&this._buffer&&0<this._buffer.byteLength?(C$e=new ArrayBuffer(C$t),new Uint8Array(C$e).set(new Uint8Array(this._buffer),0),this._buffer=C$e):this._buffer=new ArrayBuffer(C$t),this._checkArrayUse(),this._upload=!0),this},C$F.append=function(C$t){var C$e,C$i;this._upload=!0,C$e=C$t.byteLength,C$t instanceof Uint8Array?(this._resizeBuffer(this._byteLength+C$e,!0),C$i=new Uint8Array(this._buffer,this._byteLength)):C$t instanceof Uint16Array?(this._resizeBuffer(this._byteLength+C$e,!0),C$i=new Uint16Array(this._buffer,this._byteLength)):C$t instanceof Float32Array&&(this._resizeBuffer(this._byteLength+C$e,!0),C$i=new Float32Array(this._buffer,this._byteLength)),C$i.set(C$t,0),this._byteLength+=C$e,this._checkArrayUse()},C$F.appendU16Array=function(C$t,C$e){this._resizeBuffer(this._byteLength+2*C$e,!0);for(var C$i=new Uint16Array(this._buffer,this._byteLength,C$e),C$n=0;C$n<C$e;C$n++)C$i[C$n]=C$t[C$n];this._byteLength+=2*C$e,this._checkArrayUse()},C$F.appendEx=function(C$t,C$e){var C$i;this._upload=!0,C$i=C$t.byteLength,this._resizeBuffer(this._byteLength+C$i,!0),new C$e(this._buffer,this._byteLength).set(C$t,0),this._byteLength+=C$i,this._checkArrayUse()},C$F.appendEx2=function(C$t,C$e,C$i,C$n){var C$r;void 0===C$n&&(C$n=1),this._upload=!0,this._resizeBuffer(this._byteLength+(C$n=C$i*C$n),!0),C$r=new C$e(this._buffer,this._byteLength);var C$s=0;for(C$s=0;C$s<C$i;C$s++)C$r[C$s]=C$t[C$s];this._byteLength+=C$n,this._checkArrayUse()},C$F.getBuffer=function(){return this._buffer},C$F.setNeedUpload=function(){this._upload=!0},C$F.getNeedUpload=function(){return this._upload},C$F.upload=function(){var C$t=this._bind_upload();return C$kt._gl.bindBuffer(this._bufferType,null),C$kt._bindActive[this._bufferType]=null,C$Lt.activeShader=null,C$t},C$F.subUpload=function(C$t,C$e,C$i){void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0);C$t=this._bind_subUpload();return C$kt._gl.bindBuffer(this._bufferType,null),C$kt._bindActive[this._bufferType]=null,C$Lt.activeShader=null,C$t},C$F.disposeResource=function(){C$ne.prototype.disposeResource.call(this),this._upload=!0,this._uploadSize=0},C$F.clear=function(){this._byteLength=0,this._upload=!0},C$s(0,C$F,"bufferLength",function(){return this._buffer.byteLength}),C$s(0,C$F,"byteLength",null,function(C$t){this._byteLength!==C$t&&(C$t<=this._buffer.byteLength||this._resizeBuffer(2*C$t+256,!0),this._byteLength=C$t)}),inx43.__int__=function(C$t){C$Kt.QuadrangleIB=C$Kt.create(35044),C$gt.fillIBQuadrangle(C$Kt.QuadrangleIB,16)},inx43.FLOAT32=4,inx43.SHORT=2,inx43),C$Xt=(C$e(p_92f,"laya.webgl.shader.d2.value.GlowSV",C$ie=C$Ft),(C$n=p_92f.prototype).setValue=function(C$t){C$ie.prototype.setValue.call(this,C$t)},C$n.clear=function(){C$ie.prototype.clear.call(this)},C$e(r7vx,"laya.webgl.shader.d2.value.TextSV",C$ee=C$Ft),(C$i=r7vx.prototype).release=function(){(r7vx.pool[r7vx._length++]=this).clear()},C$i.clear=function(){C$ee.prototype.clear.call(this)},r7vx.create=function(){return r7vx._length?r7vx.pool[--r7vx._length]:new r7vx},r7vx.pool=[],r7vx._length=0,r7vx),C$$t=(C$e(ni17jx,"laya.webgl.shader.d2.Shader2X",C$te=C$Gt),(C$D=ni17jx.prototype).upload2dQuick1=function(C$t){this.upload(C$t,this._params2dQuick1||this._make2dQuick1())},C$D._make2dQuick1=function(){if(!this._params2dQuick1){this.activeResource(),this._params2dQuick1=[];for(var C$t,C$e=this._params,C$i=0,C$n=C$e.length;C$i<C$n;C$i++)C$t=C$e[C$i],(C$S.isFlash||"size"!==C$t.name&&"position"!==C$t.name&&"texcoord"!==C$t.name)&&this._params2dQuick1.push(C$t)}return this._params2dQuick1},C$D.disposeResource=function(){C$te.prototype.disposeResource.call(this),this._params2dQuick1=null,this._params2dQuick2=null},C$D.upload2dQuick2=function(C$t){this.upload(C$t,this._params2dQuick2||this._make2dQuick2())},C$D._make2dQuick2=function(){if(!this._params2dQuick2){this.activeResource(),this._params2dQuick2=[];for(var C$t,C$e=this._params,C$i=0,C$n=C$e.length;C$i<C$n;C$i++)C$t=C$e[C$i],!C$S.isFlash&&"size"===C$t.name||this._params2dQuick2.push(C$t)}return this._params2dQuick2},ni17jx.create=function(C$t,C$e,C$i,C$n){return new ni17jx(C$t,C$e,C$i,C$n)},ni17jx),C$Kt=(C$e(i1jn7x,"laya.webgl.utils.IndexBuffer2D",C$Yt),(C$V=i1jn7x.prototype)._checkArrayUse=function(){this._uint8Array&&(this._uint8Array=new Uint8Array(this._buffer)),this._uint16Array&&(this._uint16Array=new Uint16Array(this._buffer))},C$V.getUint8Array=function(){return this._uint8Array||(this._uint8Array=new Uint8Array(this._buffer))},C$V.getUint16Array=function(){return this._uint16Array||(this._uint16Array=new Uint16Array(this._buffer))},C$V.destory=function(){this._uint16Array=null,this._uint8Array=null,this._buffer=null},i1jn7x.QuadrangleIB=null,i1jn7x.create=function(C$t){return new i1jn7x(C$t=void 0===C$t?35044:C$t)},i1jn7x),C$Zt=(C$e(la4u13,"laya.webgl.utils.VertexBuffer2D",C$Jt=C$Yt),(C$o=la4u13.prototype).getFloat32Array=function(){return this._floatArray32||(this._floatArray32=new Float32Array(this._buffer))},C$o.bind=function(C$t){C$t&&C$t._bind(),this._bind()},C$o.insertData=function(C$t,C$e){this.getFloat32Array().set(C$t,C$e),this._upload=!0},C$o.bind_upload=function(C$t){C$t._bind_upload()||C$t._bind(),this._bind_upload()||this._bind()},C$o._checkArrayUse=function(){this._floatArray32&&(this._floatArray32=new Float32Array(this._buffer))},C$o.disposeResource=function(){C$Jt.prototype.disposeResource.call(this)},C$o.destory=function(){this._byteLength=0,this._upload=!0,this._buffer=null,this._floatArray32=null},C$s(0,C$o,"vertexStride",function(){return this._vertexStride}),la4u13.create=function(C$t,C$e){return new la4u13(C$t,C$e=void 0===C$e?35048:C$e)},la4u13),C$Qt=(C$e(_hepzt,"laya.webgl.resource.WebGLImage",C$x),C$he=_hepzt.prototype,C$g.imps(C$he,{"laya.webgl.resource.IMergeAtlasBitmap":!0}),C$he._init_=function(C$t,C$e){},C$he._createWebGlTexture=function(){if(!this._image)throw"create GLTextur err:no data:"+this._image;var C$t=C$u.mainContext,C$e=this._source=C$t.createTexture(),C$i=C$xt.curBindTexTarget,C$n=C$xt.curBindTexValue;C$xt.bindTexture(C$t,3553,C$e);var C$e=this.minFifter,C$r=this.magFifter,C$s=this.repeat?10497:33071,C$a=C$h.isPOT(this._w,this._h),C$o=!1;switch(C$a?(this.mipmap?-1!==C$e||(C$e=9987):-1!==C$e||(C$e=9729),-1!==C$r||(C$r=9729),C$t.texParameteri(3553,10241,C$e),C$t.texParameteri(3553,10240,C$r),C$t.texParameteri(3553,10242,C$s),C$t.texParameteri(3553,10243,C$s),this.mipmap&&C$t.generateMipmap(3553)):(-1!==C$r||(C$r=9729),C$t.texParameteri(3553,10241,C$e=-1!==C$e?C$e:9729),C$t.texParameteri(3553,10240,C$r),C$t.texParameteri(3553,10242,33071),C$t.texParameteri(3553,10243,33071)),C$t.pixelStorei(37441,!0),this._format){case 6407:case 6408:this._image instanceof Uint8Array?(6407==this._format&&C$t.pixelStorei(C$t.UNPACK_ALIGNMENT,1),C$t.texImage2D(3553,0,this._format,this._w,this._h,0,this._format,5121,this._image)):(6407==this._format&&C$t.pixelStorei(C$t.UNPACK_ALIGNMENT,1),C$t.texImage2D(3553,0,this._format,this._format,5121,this._image));break;case 6406:C$o=!0,C$t.texImage2D(3553,0,this._format,this._w,this._h,0,this._format,5121,this._image);break;case 35840:case 35841:case 35842:case 35843:case 33779:case 37815:case 37812:case 37821:case C$u.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:C$o=!0,C$t.compressedTexImage2D(3553,0,this._format,this._w,this._h,0,this._image);break;default:console.error("\u6536\u5230\u5176\u4ed6\u7684\u7eb9\u7406\u7c7b\u578b\uff1a",this._format)}C$t.pixelStorei(37441,!1),C$i&&C$n&&C$xt.bindTexture(C$t,C$i,C$n),this.uri||(this.uri=this._url),C$o?this.memorySize=this._image.length:C$a&&this.mipmap?this.memorySize=this._w*this._h*4*(1+1/3):this.memorySize=this._w*this._h*4,this._image.onload=null,this._image=null,this._recreateLock=!1},C$he.recreateResource=function(){var C$t=this;var C$e;(this._image||null!=this._src&&""!==this._src)&&(this._needReleaseAgain=!1,this._image?this._recreateLock||(this._allowMerageInAtlas&&this._$5__enableMerageInAtlas?(this.memorySize=0,this._recreateLock=!1):this._createWebGlTexture(),this.completeCreate()):(this._recreateLock=!0,(C$e=this)._image=new C$_.window.Image,this._image.crossOrigin=0==this._src.indexOf("data:")?null:"",this._image.onload=function(){if(C$e._needReleaseAgain)return C$e._needReleaseAgain=!1,C$e._image.onload=null,void(C$e._image=null);C$e._allowMerageInAtlas&&C$e._enableMerageInAtlas?(C$t.memorySize=0,C$t._recreateLock=!1):C$e._createWebGlTexture(),C$e.completeCreate()},this._image.src=this._src))},C$he.disposeResource=function(){this._recreateLock&&(this._needReleaseAgain=!0),this._source&&C$u.mainContext.deleteTexture(this._source),this._source=null,this._image=null,this.memorySize=0},C$he.onresize=function(){this._w=this._image.width,this._h=this._image.height,C$U.enabled&&this._w<C$U.atlasLimitWidth&&this._h<C$U.atlasLimitHeight?this._allowMerageInAtlas=!0:this._allowMerageInAtlas=!1},C$he.clearAtlasSource=function(){this._image=null},C$s(0,C$he,"format",function(){return this._format}),C$s(0,C$he,"enableMerageInAtlas",function(){return this._$5__enableMerageInAtlas},function(C$t){this._$5__enableMerageInAtlas=C$t}),C$s(0,C$he,"mipmap",function(){return this._mipmap}),C$s(0,C$he,"allowMerageInAtlas",function(){return this._allowMerageInAtlas}),C$s(0,C$he,"atlasSource",function(){return this._image}),C$s(0,C$he,"onload",null,function(C$t){var C$e=this;this._onload=C$t,this._image&&(this._image.onload=null!=this._onload?function(){C$e.onresize(),C$e._onload()}:null)}),C$s(0,C$he,"onerror",null,function(C$t){var C$e=this;this._onerror=C$t,this._image&&(this._image.onerror=null!=this._onerror?function(){C$e._onerror()}:null)}),_hepzt);function _hepzt(C$t,C$e,C$i,C$n,C$r,C$s){if(this._format=0,this._mipmap=!1,this._allowMerageInAtlas=!1,this._enableMerageInAtlas=!1,this.repeat=!1,this._image=null,this.minFifter=0,void(this.magFifter=0)===C$i&&(C$i=6408),void 0===C$n&&(C$n=!0),_hepzt.__super.call(this,C$t,C$e),C$t){if(this._format=C$i,this._mipmap=C$n,this.repeat=!1,this.minFifter=-1,this.magFifter=-1,"string"==typeof C$t)this._url=C$t,this._src=C$t,this._image=new C$_.window.Image,C$e&&(C$e.onload&&(this.onload=C$e.onload),C$e.onerror&&(this.onerror=C$e.onerror),C$e.onCreate&&C$e.onCreate(this)),this._image.crossOrigin=C$t&&0==C$t.indexOf("data:")?null:"",C$t&&(this._image.src=C$t);else if(C$t instanceof ArrayBuffer){this._src=C$e,this._url=this._src;C$n=new C$d(C$t);C$n.readUTFBytes(4),C$n.readUTFBytes(2),C$n.getInt16(),C$n.endian="bigEndian",this._w=C$n.getInt16(),this._h=C$n.getInt16(),C$n.getInt16(),C$n.getInt16(),this._image=new Uint8Array(C$t,C$n.pos),this._format=C$u.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL,C$U.enabled&&this._w<C$U.atlasLimitWidth&&this._h<C$U.atlasLimitHeight?this._allowMerageInAtlas=!0:this._allowMerageInAtlas=!1}else{if(!(C$t instanceof Uint8Array))return this._src=C$e,this._url=this._src,this._image=C$t.source||C$t,this._$5__enableMerageInAtlas=!1,void this.onresize();this._src=C$e,this._url=this._src,this._w=C$r,this._h=C$s,this._image=C$t,this._format=0===C$i?C$t.byteLength/(C$r*C$s)==4?6408:6407:C$i}this._$5__enableMerageInAtlas=!0}}function la4u13(C$t,C$e){this._floatArray32=null,this._vertexStride=0,la4u13.__super.call(this),this._vertexStride=C$t,this._bufferUsage=C$e,this._bufferType=34962,C$S.isFlash||(this._buffer=new ArrayBuffer(8)),this.getFloat32Array()}var C$Jt;function i1jn7x(C$t){this._uint8Array=null,this._uint16Array=null,void 0===C$t&&(C$t=35044),i1jn7x.__super.call(this),this._bufferUsage=C$t,this._bufferType=34963,C$S.isFlash||(this._buffer=new ArrayBuffer(8))}function ni17jx(C$t,C$e,C$i,C$n){this._params2dQuick1=null,this._params2dQuick2=null,this._shaderValueWidth=NaN,this._shaderValueHeight=NaN,ni17jx.__super.call(this,C$t,C$e,C$i,C$n)}var C$te;function r7vx(C$t){r7vx.__super.call(this,64),this.defines.add(64)}var C$ee;function p_92f(C$t){this.u_blurX=!1,this.u_color=null,this.u_offset=null,this.u_strength=NaN,this.u_texW=0,this.u_texH=0,p_92f.__super.call(this,9)}var C$ie;function inx43(){this._maxsize=0,this._upload=!0,this._uploadSize=0,inx43.__super.call(this),this.lock=!0,this.uri="Buffer2D_"+this.id}var C$ne;function bqo5y(C$t,C$e,C$i,C$n){if(this._curActTexIndex=0,this.tag={},this._program=null,this._params=null,this._paramsMap={},this._offset=0,bqo5y.__super.call(this),!C$t||!C$e)throw"Shader Error";this._id=++bqo5y._count,this._vs=C$t,this._ps=C$e,this._nameMap=C$n||{},null!=C$i&&(bqo5y.sharders[C$i]=this)}function a1un3(C$t,C$e,C$i,C$n,C$r,C$s,C$a){this.offsetX=0,this.offsetY=0,a1un3.__super.call(this),this.repeat=!0,this.mipmap=!1,this.minFifter=-1,this.magFifter=-1,this.atlasImage=C$s,this.canvas=C$t,this._ctx=C$t.getContext("2d",void 0),this._w=C$n,this._h=C$r,this.offsetX=C$e,this.offsetY=C$i,this.src=C$a,this._enableMerageInAtlas=!0,C$U.enabled&&this._w<C$U.atlasLimitWidth&&this._h<C$U.atlasLimitHeight?this._allowMerageInAtlas=!0:this._allowMerageInAtlas=!1}function u4l1a(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h){void 0===C$i&&(C$i=6408),void 0===C$n&&(C$n=5121),void 0===C$r&&(C$r=34041),void 0===C$s&&(C$s=!1),void 0===C$a&&(C$a=!1),void 0===C$o&&(C$o=-1),void 0===C$h&&(C$h=1),u4l1a.__super.call(this),this.uri="WebGLRenderTarget_"+this.id,this._w=C$t,this._h=C$e,this._surfaceFormat=C$i,this._surfaceType=C$n,this._depthStencilFormat=C$r,this._mipMap=C$s,this._repeat=C$a,this._minFifter=C$o,this._magFifter=C$h}function chpt(C$t,C$e){this.CborderSize=12,chpt.__super.call(this),this.char=C$t,this.isSpace=" "===C$t,this.xs=C$e.scaleX,this.ys=C$e.scaleY,this.font=C$e.font.toString(),this.fontSize=C$e.font.size,this.fillColor=C$e.fillColor,this.borderColor=C$e.borderColor,this.lineWidth=C$e.lineWidth,this.underLine=C$e.underLine;var C$i,C$t=C$S.isConchApp;C$t?((C$i=ConchTextCanvas)._source=ConchTextCanvas,C$i._source.canvas=ConchTextCanvas):C$i=C$_.canvas.source,this.canvas=C$i,this._enableMerageInAtlas=!0,this._ctx=C$t?C$i:this.canvas.getContext("2d",void 0);C$e=C$z.measureText(this.char,this.font);this.cw=C$e.width*this.xs,this.ch=(C$e.height||this.fontSize)*this.ys,this.onresize(this.cw+2*this.CborderSize,this.ch+2*this.CborderSize),this.texture=new C$N(this)}function ryj7o(){this.flipY=!0,this.alwaysChange=!1,ryj7o.__super.call(this)}function rjvoy(){this._atlaser=null,this._flashCacheImage=null,this._flashCacheImageNeedFlush=!1,rjvoy.__super.call(this)}function xi741(C$t){this.a_color=null,this.u_pos=[0,0],xi741.__super.call(this,4,0),this.position=[2,5126,!1,5*C$mt.BYTES_PE,0],this.a_color=[3,5126,!1,5*C$mt.BYTES_PE,2*C$mt.BYTES_PE]}function r7xvj(C$t){this.u_colorMatrix=null,this.strength=0,this.blurInfo=null,this.colorMat=null,this.colorAlpha=null,this.texcoord=C$wt._TEXCOORD,r7xvj.__super.call(this,1,C$t=void 0===C$t?0:C$t)}function ezpt(C$t){this.u_colorMatrix=null,this.strength=0,this.colorMat=null,this.colorAlpha=null,this.u_TexRange=[0,1,0,1],this.u_offset=[0,0],this.texcoord=C$wt._TEXCOORD,ezpt.__super.call(this,256,0)}function dk8c6(C$t){dk8c6.__super.call(this,2,0),this.color=[]}function la34u1(C$t){this.texcoord=null,this.offsetX=300,this.offsetY=0,la34u1.__super.call(this,512,0);var C$e=8*C$mt.BYTES_PE;this.position=[2,5126,!1,C$e,0],this.texcoord=[2,5126,!1,C$e,2*C$mt.BYTES_PE],this.color=[4,5126,!1,C$e,4*C$mt.BYTES_PE]}function qo0yb(){this._glBuffer=null,this._buffer=null,this._bufferType=0,this._bufferUsage=0,this._byteLength=0,qo0yb.__super.call(this),qo0yb._gl=C$u.mainContext}function zpeth(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h){this._type=0,this._svWidth=NaN,this._svHeight=NaN,this._preRenderTarget=null,this._alreadyResolved=!1,this._looked=!1,this._surfaceFormat=0,this._surfaceType=0,this._depthStencilFormat=0,this._mipMap=!1,this._repeat=!1,this._minFifter=0,this._magFifter=0,this._destroy=!1,void 0===C$i&&(C$i=6408),void 0===C$n&&(C$n=5121),void 0===C$r&&(C$r=34041),void 0===C$s&&(C$s=!1),void 0===C$a&&(C$a=!1),void 0===C$o&&(C$o=-1),void 0===C$h&&(C$h=-1),this._type=1,this._w=C$t,this._h=C$e,this._surfaceFormat=C$i,this._surfaceType=C$n,this._depthStencilFormat=C$r,C$S.isConchWebGL&&34041===this._depthStencilFormat&&(this._depthStencilFormat=33189),this._mipMap=C$s,this._repeat=C$a,this._minFifter=C$o,this._magFifter=C$h,this._createWebGLRenderTarget(),this.bitmap.lock=!0,zpeth.__super.call(this,this.bitmap,C$N.INV_UV)}var C$re;function p29we(){p29we.__super.call(this),this.lock=!0}function yvr5oj(){yvr5oj.__super.call(this,laya.webgl.utils.MeshTexture.const_stride,0,0),this.canReuse=!0,this.setAttributes(laya.webgl.utils.MeshTexture._fixattriInfo)}function au34n1(C$t){this._preIsSameTextureShader=!1,this._isSameTexture=!0,this._texs=[],this._texsID=[],this._vbPos=[],au34n1.__super.call(this,C$t=void 0===C$t?1e4:C$t)}function tecz8h(){this._matrix=new C$w,this._matrix4=C$mt.defaultMatrix4.concat(),tecz8h.__super.call(this,1e4),this.shaderValue=new C$wt(0,0)}function by5rq(C$t,C$e,C$i,C$n,C$r,C$s){this._points=null,this._start=-1,this._repaint=!1,this.earcutTriangles=null,this._mat=C$w.create(),this._points=C$i.slice(0,C$i.length),by5rq.__super.call(this,C$t,C$e,0,0,this._points.length/2,C$n,C$r,C$s)}function etpzc(C$t,C$e,C$i,C$n,C$u){this._points=[];for(var C$r=NaN,C$s=NaN,C$a=-1,C$o=-1,C$h=C$i.length/2-1,C$l=0;C$l<C$h;C$l++)C$r=C$i[2*C$l],C$s=C$i[2*C$l+1],(.01<Math.abs(C$a-C$r)||.01<Math.abs(C$o-C$s))&&this._points.push(C$r,C$s),C$a=C$r,C$o=C$s;C$r=C$i[2*C$h],C$s=C$i[2*C$h+1],C$a=this._points[0],C$o=this._points[1],(.01<Math.abs(C$a-C$r)||.01<Math.abs(C$o-C$s))&&this._points.push(C$r,C$s),etpzc.__super.call(this,C$t,C$e,0,0,this._points.length/2,0,C$n,C$u)}function h8ztc(C$t,C$e,C$i,C$n,C$r){this._points=[],this.rebuild(C$i),h8ztc.__super.call(this,C$t,C$e,0,0,0,C$r,C$n,C$r,0)}function zepc(C$t,C$e,C$i,C$n,C$r,C$s,C$a){zepc.__super.call(this,C$t,C$e,C$i,C$n,40,C$r,C$s,C$a)}function by5rqo(){by5rqo.__super.call(this,by5rqo.__name2int,by5rqo.__int2name,by5rqo.__int2nameMap)}function gd0bk6(C$t,C$e,C$i,C$n,C$r){this._atlasCanvas=null,this._inAtlasTextureKey=null,this._inAtlasTextureBitmapValue=null,this._inAtlasTextureOriUVValue=null,this._InAtlasWebGLImagesKey=null,this._InAtlasWebGLImagesOffsetValue=null,gd0bk6.__super.call(this,C$t,C$e,C$r),this._inAtlasTextureKey=[],this._inAtlasTextureBitmapValue=[],this._inAtlasTextureOriUVValue=[],this._InAtlasWebGLImagesKey={},this._InAtlasWebGLImagesOffsetValue=[],this._atlasCanvas=new C$jt,this._atlasCanvas.uri="Atlaser.AtlasWebGLCanvas._atlasCanvas",(this._atlasCanvas._atlaser=this)._atlasCanvas.width=C$i,this._atlasCanvas.height=C$n,this._atlasCanvas.activeResource(),this._atlasCanvas.lock=!0}function zw2e(){this.data=null,zw2e.__super.call(this)}function s$f92(C$t,C$e){s$f92.__super.call(this,C$t,C$e)}function f$29_(C$t,C$e){this.size=[0,0],this.alpha=1,this.ALPHA=1,this.subID=0,this._cacheID=0,f$29_.__super.call(this),this.defines=new C$Ct,this.position=f$29_._POSITION,this.mainID=C$t,this.subID=C$e,this.textureHost=null,this.texture=null,this.texture1=null,this.fillStyle=null,this.color=null,this.strokeStyle=null,this.colorAdd=null,this.glTexture=null,this.u_mmat2=null,this._cacheID=C$t|C$e,this._inClassCache=f$29_._cache[this._cacheID],0<C$t&&!this._inClassCache&&(this._inClassCache=f$29_._cache[this._cacheID]=[],this._inClassCache._length=0),this.clear()}function z_pe(C$t){this._x=0,this._y=0,this._id=++z_pe._COUNT,this._path=null,this._drawCount=1,this._maxNumEle=0,this._clear=!1,this._isMain=!1,this._atlasResourceChange=0,this._submits=null,this._curSubmit=null,this._ib=null,this._vb=null,this._nBlendType=0,this._saveMark=null,this._shader2D=null,this.meshlist=[],this.mId=-1,this.mHaveKey=!1,this.mHaveLineKey=!1,this.mX=0,this.mY=0,z_pe.__super.call(this),this._width=99999999,this._height=99999999,this._clipRect=z_pe.MAXCLIPRECT,this.mOutPoint,this._canvas=C$t,this._canvas._addReference(),z_pe._contextcount++,C$S.isFlash?(this._ib=C$Kt.create(35044),C$gt.fillIBQuadrangle(this._ib,16)):this._ib=C$Kt.QuadrangleIB,this.clear()}var C$se;function z6hc8t(){z6hc8t.__super.call(this)}function rivjx(){}function h_ep2z(){}function cpzth(C$t,C$e,C$i,C$n,C$r){var C$s=this;function g0q5b(C$t){var C$e=[],C$i=new C$ae(C$e);return C$s._compileToTree(C$i,C$t.split("\n"),0,C$e,C$r),C$i}var C$a=C$_.now();this._VS=g0q5b(C$e),this._PS=g0q5b(C$i),this._nameMap=C$n,2<C$_.now()-C$a&&console.log("ShaderCompile use time:"+(C$_.now()-C$a)+"  size:"+C$e.length+"/"+C$i.length)}var C$ae,C$oe,C$he;function bkqd0g(){}function au3l41(C$t,C$e,C$i){this._stride=0,this.vertNum=0,this.indexNum=0,this._applied=!1,this._vb=null,this._ib=null,this._vao=null,this._attribInfo=null,this._quadNum=0,this.canReuse=!1,this._stride=C$t,this._vb=new C$Zt(C$t,35048),C$e&&this._vb._resizeBuffer(C$e,!1),this._ib=new C$Kt,C$i&&this._ib._resizeBuffer(C$i,!1)}function z_pteh(){}function dgc(){}function d8t6cg(){}function rbqoy5(C$t){this._index=0,this._size=14,this._italic=-2,rbqoy5._cache2=rbqoy5._cache2||[],this.setFont(C$t||"14px Arial")}function gdk0(){}var C$le;function oy5jvr(){this._sourceStr=null}function ri7jx(){this._renderType=0,this._vb=null,this._ib=null,this._startIdx=0,this._numEle=0,this.shaderValue=null,this.blendType=0,this.proName=null,this.scope=null}function vyxr7(){this.step=0,this.blendMode=null,this.level=0}function uni1(){this.submitIndex=0,this.submitLength=0,this.context=null,this.clipRect=new C$M,this.screenRect=new C$M}function zwe_p2(){this.offset=0,this.startIndex=0,this._mat=C$w.create()}function vy7(){this.variables={}}function zhcpt(){this.fun=null,this.args=null}function vryo5(C$t){this._renderType=C$t=void 0===C$t?1e4:C$t}function ij7xnv(C$t){C$t instanceof Float32Array?this.points=C$t:C$t instanceof Array&&(C$t.length,this.points=new Float32Array(C$t))}function gkc68(C$t,C$e,C$i,C$n,C$r,C$s,C$a){this.lineWidth=C$t,this.lineColor=C$e,this.lineAlpha=C$i,this.fillColor=C$n,this.fillAlpha=C$r,this.shape=C$a,this.fill=C$s}var C$n;function jyov(C$t,C$e,C$i){this.i=null,this.x=null,this.y=null,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=null,this.i=C$t,this.x=C$e,this.y=C$i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $_w29(){}function yrvo5q(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h){this.r0=0,this.fill=!0,this.r1=Math.PI/2,void 0===C$h&&(C$h=0),this.x=C$t,this.y=C$e,this.width=C$i,this.height=C$n,this.edges=C$r,this.color=C$s,this.borderWidth=C$a,this.borderColor=C$o}function i3n41u(){this.ib=null,this.vb=null,C$u.mainContext,this.ib=C$Kt.create(35048),this.vb=C$Zt.create(8)}function f2w$9(){this.mVBBuffer=null,this.mIBBuffer=null,this.mVBData=null,this.mIBData=null,this.mEleNum=0,this.mTexture=null,this.transform=null,this._vs=null,this._ps=null,this._indexStart=-1,this._verticles=null,this._uvs=null,this._tempMatrix=new C$w}function q5ko(C$t,C$e,C$i){this._value=0,this._name2int=C$t,this._int2name=C$e,this._int2nameMap=C$i}function p_eh2z(){this.ALPHA=1,this.shaderType=0,this.defines=new C$Ct}function ni7xvj(){this.target=null,this.repaint=!1,this._width=NaN,this._height=NaN,this._sp=null,this._clipRect=new C$M}function ixn7v(){}function l3mua4(){this._matrix=new C$w}function hzep_(){this._saveuse=0}function gd8ck6(){this._contextX=0,this._contextY=0,this._clipRect=new C$M,this._rect=new C$M,this._matrix=new C$w}function dgc68t(){this._clipRect=new C$M}function jo7yvr(){}function $ws92f(){this._x=0,this._y=0,this.dirty=!1,this.offset=0,this.count=0,this.geoStart=0,this.tempArray=[],this.closePath=!1,this.geomatrys=[],C$u.mainContext,this.ib=C$Kt.create(35048),this.vb=C$Zt.create(5)}function a3ul(C$t){this._color=C$f.create("black"),this.setValue(C$t)}function zh_pe2(){}function ua31l4(){this.x=0,this.y=0,this.ret=!1,this.ret=!1,this.x=0,this.y=0}function ht6c8d(C$t,C$e,C$i,C$n){this._currentAtlasCount=0,this._maxAtlaserCount=0,this._width=0,this._height=0,this._gridSize=0,this._gridNumX=0,this._gridNumY=0,this._init=!1,this._curAtlasIndex=0,this._setAtlasParam=!1,this._atlaserArray=null,this._needGC=!1,this._setAtlasParam=!0,this._width=C$t,this._height=C$e,this._gridSize=C$i,this._maxAtlaserCount=C$n,this._gridNumX=C$t/C$i,this._gridNumY=C$e/C$i,this._curAtlasIndex=0,this._atlaserArray=[]}var C$i;function _$2fw9(C$t,C$e,C$i){this._atlasID=0,this._width=0,this._height=0,this._texCount=0,this._rowInfo=null,this._cells=null,this._failSize=new C$ce,void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0),this._cells=null,this._rowInfo=null,this._init(C$t,C$e),this._atlasID=C$i}var C$ue,C$ce,C$j;function g0d86(){}function f2$_(){}var C$F;C$g.__init([C$ft,C$j,C$bt,C$vt])}((window,document,gvj7xry)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$t,C$e){"use strict";for(var C$i in Object.defineProperty(C$e,"__esModule",{value:!0}),gvj7xry){var C$n=gvj7xry[C$i];C$n&&C$n.__isclass&&(C$e[C$i]=C$n)}}),function(C$o,C$i){C$i.un,C$i.uns;var C$h=C$i.static,C$t=C$i.class,C$e=C$i.getset,C$l=(C$i.__newvec,laya.utils.Browser,laya.display.css.CSSStyle),C$_=laya.utils.ClassUtils,C$u=(laya.events.Event,laya.utils.HTMLChar),C$r=laya.net.Loader,C$c=(laya.display.Node,laya.maths.Rectangle),C$d=laya.renders.Render,C$f=(laya.renders.RenderContext,laya.renders.RenderSprite,laya.display.Sprite),C$p=laya.utils.Stat,C$R=laya.display.Text,C$m=laya.resource.Texture,C$g=laya.net.URL,C$v=laya.utils.Utils,C$x=(C$t(nxjv7,"laya.html.utils.HTMLParse"),nxjv7.parse=function(C$t,C$e,C$i){C$e=(C$e="<root>"+C$e.replace(/<br>/g,"<br/>")+"</root>").replace(nxjv7.spacePattern,nxjv7.char255);C$e=C$v.parseXMLFromString(C$e);nxjv7._parseXML(C$t,C$e.childNodes[0].childNodes,C$i)},nxjv7._parseXML=function(C$t,C$e,C$i,C$n){var C$r=0,C$s=0;var C$a,C$o,C$h;if(C$e.join||C$e.item)for(C$r=0,C$s=C$e.length;C$r<C$s;++C$r)nxjv7._parseXML(C$t,C$e[C$r],C$i,C$n);else if(3!=C$e.nodeType){if("#comment"!=(C$o=C$e.nodeName.toLowerCase()))if(C$a=C$_.getInstance(C$o)){(C$a=C$t.addChild(C$a)).URI=C$i,C$a.href=C$n;var C$l=C$e.attributes;if(C$l&&0<C$l.length)for(C$r=0,C$s=C$l.length;C$r<C$s;++C$r){var C$u=C$l[C$r],C$c=C$u.nodeName,C$u=C$u.value;C$a._setAttributes(C$c,C$u)}nxjv7._parseXML(C$a,C$e.childNodes,C$i,C$a.href)}else nxjv7._parseXML(C$t,C$e.childNodes,C$i,C$n)}else C$t instanceof laya.html.dom.HTMLDivElement?(null==C$e.nodeName&&(C$e.nodeName="#text"),C$o=C$e.nodeName.toLowerCase(),0<(C$h=C$e.textContent.replace(/^\s+|\s+$/g,"")).length&&(C$a=C$_.getInstance(C$o))&&(C$t.addChild(C$a),C$a.innerTEXT=C$h.replace(nxjv7.char255AndOneSpacePattern," "))):0<(C$h=C$e.textContent.replace(/^\s+|\s+$/g,"")).length&&(C$t.innerTEXT=C$h.replace(nxjv7.char255AndOneSpacePattern," "))},nxjv7.char255=String.fromCharCode(255),nxjv7.spacePattern=/&nbsp;|&#160;/g,nxjv7.char255AndOneSpacePattern=new RegExp(String.fromCharCode(255)+"|(\\s+)","g"),nxjv7),C$y=(C$t(o0qb5,"laya.html.utils.Layout"),o0qb5.later=function(C$t){null==o0qb5._will&&(o0qb5._will=[],C$i.stage.frameLoop(1,null,function(){if(!(o0qb5._will.length<1)){for(var C$t=0;C$t<o0qb5._will.length;C$t++)laya.html.utils.Layout.layout(o0qb5._will[C$t]);o0qb5._will.length=0}})),o0qb5._will.push(C$t)},o0qb5.layout=function(C$t){if(!C$t||!C$t._style)return null;if(0==(512&C$t._style._type))return null;C$t.getStyle()._type&=-513;var C$e=o0qb5._multiLineLayout(C$t);return C$d.isConchApp&&C$t.layaoutCallNative&&C$t.layaoutCallNative(),C$e},o0qb5._multiLineLayout=function(C$t){if(C$R.RightToLeft)return o0qb5._multiLineLayout2(C$t);var C$u=[];C$t._addChildsToLayout(C$u);var C$e,C$c,C$i,C$n=0,C$_=C$u.length,C$r=C$t._getCSSStyle(),C$d=C$r.letterSpacing,C$f=C$r.leading,C$p=C$r.lineHeight,C$m=C$r._widthAuto()||!C$r.wordWrap,C$g=C$m?999999:C$t.width,C$v=(C$t.height,0),C$x=C$r.italic?C$r.fontSize/3:0,C$y=C$r._getAlign(),C$b=C$r._getValign(),C$w=0!==C$b||0!==C$y||0!=C$p,C$s=0,C$a=0,C$T=0,C$M=0,C$S=[],C$o=C$S[0]=new C$P,C$h=!1,C$C=!1;C$o.h=0,C$r.italic&&(C$g-=C$r.fontSize/3);var C$D=0,C$E=!0;function o05(){C$o.y=C$a,C$a+=C$o.h+C$f,0==C$o.h&&(C$a+=C$p),C$o.mWidth=C$D,C$D=0,C$o=new C$P,C$S.push(C$o),C$o.h=0,C$h=!(C$E=!(C$s=0))}for(C$n=0;C$n<C$_;C$n++)if(null!=(C$e=C$u[C$n]))if(C$E=!1,C$e instanceof laya.html.dom.HTMLBrElement)o05(),C$o.y=C$a;else{if(C$e._isChar()){if((C$i=C$e).isWord)C$h=C$C||"\n"===C$i.char,C$o.wordStartIndex=C$o.elements.length;else{if(C$T=C$i.width+C$i.style.letterSpacin,0<C$S.length&&C$g<C$s+C$T&&0<C$o.wordStartIndex){var C$l;C$l=C$o.elements.length-C$o.wordStartIndex+1,C$o.elements.length=C$o.wordStartIndex,C$n-=C$l,o05();continue}C$h=!1,C$D+=C$i.width}C$T=C$i.width+C$d,C$M=C$i.height,C$C=!1,(C$h=C$h||C$g<C$s+C$T)&&o05(),C$o.minTextHeight=Math.min(C$o.minTextHeight,C$e.height)}else C$l=C$e._getCSSStyle(),C$i=C$e,C$c=C$l.padding,0===C$l._getCssFloat()||(C$w=!0),C$h=C$C||C$l.lineElement,C$T=C$i.width*C$i._style._tf.scaleX+C$c[1]+C$c[3]+C$d,C$M=C$i.height*C$i._style._tf.scaleY+C$c[0]+C$c[2],C$C=C$l.lineElement,(C$h=C$h||C$g<C$s+C$T&&C$l.wordWrap)&&o05();C$o.elements.push(C$e),C$o.h=Math.max(C$o.h,C$M),C$e.x=C$s,C$e.y=C$a,C$s+=C$T,C$o.w=C$s-C$d,C$o.y=C$a,C$v=Math.max(C$s+C$x,C$v)}else C$E||(C$s+=o0qb5.DIV_ELEMENT_PADDING),C$o.wordStartIndex=C$o.elements.length;if(C$a=C$o.y+C$o.h,C$w){var C$A=0,C$I=C$g;for(C$m&&0<C$t.width&&(C$I=C$t.width),C$n=0,C$_=C$S.length;C$n<C$_;C$n++)C$S[C$n].updatePos(0,C$I,C$n,C$A,C$y,C$b,C$p),C$A+=Math.max(C$p,C$S[C$n].h+C$f);C$a=C$A}return C$m&&(C$t.width=C$v),C$a>C$t.height&&(C$t.height=C$a),[C$v,C$a]},o0qb5._multiLineLayout2=function(C$u){var C$c=[];C$u._addChildsToLayout(C$c);var C$t,C$_,C$e,C$i=0,C$d=C$c.length,C$n=C$u._getCSSStyle(),C$f=C$n.letterSpacing,C$p=C$n.leading,C$m=C$n.lineHeight,C$g=C$n._widthAuto()||!C$n.wordWrap,C$v=C$g?999999:C$u.width,C$x=(C$u.height,0),C$y=C$n.italic?C$n.fontSize/3:0,C$b=2-C$n._getAlign(),C$w=C$n._getValign(),C$T=0!==C$w||0!=C$b||0!=C$m,C$r=0,C$s=0,C$M=0,C$S=0,C$a=[],C$o=C$a[0]=new C$P,C$h=!1,C$C=!1;C$o.h=0,C$n.italic&&(C$v-=C$n.fontSize/3);var C$D=0,C$E=!0;function x41n7i(){C$o.y=C$s,C$s+=C$o.h+C$p,0==C$o.h&&(C$s+=C$m),C$o.mWidth=C$D,C$D=0,C$o=new C$P,C$a.push(C$o),C$o.h=0,C$h=!(C$E=!(C$r=0))}for(C$i=0;C$i<C$d;C$i++)if(null!=(C$t=C$c[C$i]))if(C$E=!1,C$t instanceof laya.html.dom.HTMLBrElement)x41n7i(),C$o.y=C$s;else{if(C$t._isChar()){if((C$e=C$t).isWord)C$h=C$C||"\n"===C$e.char,C$o.wordStartIndex=C$o.elements.length;else{if(0<C$a.length&&C$v<C$r+C$M&&0<C$o.wordStartIndex){var C$l;C$l=C$o.elements.length-C$o.wordStartIndex+1,C$o.elements.length=C$o.wordStartIndex,C$i-=C$l,x41n7i();continue}C$h=!1,C$D+=C$e.width}C$M=C$e.width+C$f,C$S=C$e.height,C$C=!1,(C$h=C$h||C$v<C$r+C$M)&&x41n7i(),C$o.minTextHeight=Math.min(C$o.minTextHeight,C$t.height)}else C$l=C$t._getCSSStyle(),C$e=C$t,C$_=C$l.padding,0===C$l._getCssFloat()||(C$T=!0),C$h=C$C||C$l.lineElement,C$M=C$e.width*C$e._style._tf.scaleX+C$_[1]+C$_[3]+C$f,C$S=C$e.height*C$e._style._tf.scaleY+C$_[0]+C$_[2],C$C=C$l.lineElement,(C$h=C$h||C$v<C$r+C$M&&C$l.wordWrap)&&x41n7i();C$o.elements.push(C$t),C$o.h=Math.max(C$o.h,C$S),C$t.x=C$r,C$t.y=C$s,C$r+=C$M,C$o.w=C$r-C$f,C$o.y=C$s,C$x=Math.max(C$r+C$y,C$x)}else C$E||(C$r+=o0qb5.DIV_ELEMENT_PADDING),C$o.wordStartIndex=C$o.elements.length;if(C$s=C$o.y+C$o.h,C$T){var C$A=0,C$I=C$v;for(C$i=0,C$d=C$a.length;C$i<C$d;C$i++)C$a[C$i].updatePos(0,C$I,C$i,C$A,C$b,C$w,C$m),C$A+=Math.max(C$m,C$a[C$i].h+C$p);C$s=C$A}for(C$g&&(C$u.width=C$x),C$s>C$u.height&&(C$u.height=C$s),C$i=0,C$d=C$a.length;C$i<C$d;C$i++)C$a[C$i].revertOrder(C$v);return[C$x,C$s]},o0qb5._will=null,o0qb5.DIV_ELEMENT_PADDING=0,o0qb5),C$P=(C$t(y7jro,"laya.html.utils.LayoutLine"),(C$s=y7jro.prototype).updatePos=function(C$u,C$t,C$c,C$e,C$i,C$n,C$r){var C$s,C$a=0;0<this.elements.length&&(C$a=(C$s=this.elements[this.elements.length-1]).x+C$s.width-this.elements[0].x);var C$o=0,C$_=NaN;1===C$i&&(C$o=(C$t-C$a)/2),2===C$i&&(C$o=C$t-C$a),0===C$r||0!=C$n||(C$n=1);for(var C$h=0,C$d=this.elements.length;C$h<C$d;C$h++){var C$f=(C$s=this.elements[C$h])._getCSSStyle();switch(0!==C$o&&(C$s.x+=C$o),C$f._getValign()){case 0:C$s.y=C$e;break;case 1:var C$l=0;C$l=((C$l=99999!=this.minTextHeight?this.minTextHeight:C$l)+C$r)/2;C$l=Math.max(C$l,this.h),laya.html.dom.HTMLImageElement,C$_=C$e+C$l-C$s.height,C$s.y=C$_;break;case 2:C$s.y=C$e+(C$r-C$s.height)}}},C$s.revertOrder=function(C$t){var C$e;if(0<this.elements.length){var C$i,C$n=0;for(C$i=this.elements.length,C$n=0;C$n<C$i;C$n++)(C$e=this.elements[C$n]).x=C$t-C$e.x-C$e.width}},y7jro),C$n=(C$t(ryjov,"laya.html.dom.HTMLElement",C$w=C$f),(C$s=ryjov.prototype).layaoutCallNative=function(){var C$t=0;if(this._childs&&0<(C$t=this._childs.length))for(var C$e=0;C$e<C$t;C$e++)this._childs[C$e].layaoutCallNative&&this._childs[C$e].layaoutCallNative();var C$i=this._getWords();C$i?laya.html.dom.HTMLElement.fillWords(this,C$i,0,0,this.style.font,this.style.color,this.style.underLine):this.graphics.clear()},C$s.appendChild=function(C$t){return this.addChild(C$t)},C$s._getWords2=function(){var C$t=this._text.text;if(!C$t||0===C$t.length)return null;var C$e,C$i,C$n=0,C$r=0;if(this._text.drawWords)C$i=this._text.drawWords;else{for(C$r=(C$e=C$t.split(" ")).length-1,C$i=[],C$n=0;C$n<C$r;C$n++)C$i.push(C$e[C$n]," ");0<=C$r&&C$i.push(C$e[C$r]),this._text.drawWords=C$i}var C$s=this._text.words;if(C$s&&C$s.length===C$i.length)return C$s;null===C$s&&(this._text.words=C$s=[]),C$s.length=C$i.length;var C$a=this.style,C$o=C$a.font;for(C$n=0,C$r=C$i.length;C$n<C$r;C$n++){C$h=C$v.measureText(C$i[C$n],C$o);var C$h=C$s[C$n]=new C$u(C$i[C$n],C$h.width,C$h.height||C$a.fontSize,C$a);var C$l;1<C$h.char.length&&(C$h.charNum=C$h.char),this.href&&(C$l=new C$f,this.addChild(C$l),C$h.setSprite(C$l))}return C$s},C$s._getWords=function(){if(!C$R.CharacterCache)return this._getWords2();var C$t=this._text.text;if(!C$t||0===C$t.length)return null;var C$e=this._text.words;if(C$e&&C$e.length===C$t.length)return C$e;null===C$e&&(this._text.words=C$e=[]),C$e.length=C$t.length;for(var C$i=this.style,C$n=C$i.font,C$r=0,C$s=C$t.length;C$r<C$s;C$r++){var C$a,C$o;(C$a=C$v.measureText(C$t.charAt(C$r),C$n))?(C$a=C$e[C$r]=new C$u(C$t.charAt(C$r),C$a.width,C$a.height||C$i.fontSize,C$i),this.href&&(C$o=new C$f,this.addChild(C$o),C$a.setSprite(C$o))):console.warn("_getWords size is null"+C$t.charAt(C$r),C$n)}return C$e},C$s.showLinkSprite=function(){var C$t=this._text.words;if(C$t)for(var C$e,C$i,C$n=[],C$r=0;C$r<C$t.length;C$r++)C$i=C$t[C$r],(C$e=new C$f).graphics.drawRect(0,0,C$i.width,C$i.height,"#ff0000"),C$e.width=C$i.width,C$e.height=C$i.height,this.addChild(C$e),C$n.push(C$e)},C$s._layoutLater=function(){var C$t=this.style;512&C$t._type||(C$t.widthed(this)&&(0<this._childs.length||null!=this._getWords())&&C$t.block?(C$y.later(this),C$t._type|=512):this.parent&&this.parent._layoutLater())},C$s._setAttributes=function(C$t,C$e){switch(C$t){case"style":return void this.style.cssText(C$e);case"class":return void(this.className=C$e)}C$w.prototype._setAttributes.call(this,C$t,C$e)},C$s.updateHref=function(){if(null!=this._href){var C$t=this._getWords();if(C$t)for(var C$e,C$i,C$n=0;C$n<C$t.length;C$n++)(C$i=(C$e=C$t[C$n]).getSprite())&&(C$i.size(C$e.width,C$e.height),C$i.on("click",this,this.onLinkHandler))}},C$s.onLinkHandler=function(C$t){if("click"===C$t.type)for(var C$e=this;C$e;)C$e.event("link",[this.href]),C$e=C$e.parent},C$s.formatURL=function(C$t){return this.URI?C$g.formatURL(C$t,this.URI?this.URI.path:null):C$t},C$e(0,C$s,"href",function(){return this._href},function(C$t){null!=(this._href=C$t)&&(this._getCSSStyle().underLine=1,this.updateHref())}),C$e(0,C$s,"color",null,function(C$t){this.style.color=C$t}),C$e(0,C$s,"onClick",null,function(C$t){C$i._runScript("fn=function(event){"+C$t+";}"),this.on("click",this,void 0)}),C$e(0,C$s,"id",null,function(C$t){C$b.document.setElementById(C$t,this)}),C$e(0,C$s,"innerTEXT",function(){return this._text.text},function(C$t){this.text=C$t}),C$e(0,C$s,"style",function(){return this._style}),C$e(0,C$s,"text",function(){return this._text.text},function(C$t){this._text==ryjov._EMPTYTEXT?this._text={text:C$t,words:null}:(this._text.text=C$t,this._text.words&&(this._text.words.length=0)),C$d.isConchApp&&this.layaoutCallNative(),this._renderType|=2048,this.repaint(),this.updateHref()}),C$e(0,C$s,"parent",C$w.prototype._$get_parent,function(C$t){var C$e;C$t instanceof laya.html.dom.HTMLElement&&(C$e=C$t,this.URI||(this.URI=C$e.URI),this.style.inherit(C$e.style)),C$i.superSet(C$f,this,"parent",C$t)}),C$e(0,C$s,"className",null,function(C$t){this.style.attrs(C$b.document.styleSheets["."+C$t])}),ryjov.fillWords=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){C$t.graphics.clear();for(var C$o=0,C$h=C$e.length;C$o<C$h;C$o++){var C$l=C$e[C$o];C$t.graphics.fillText(C$l.char,C$l.x+C$i,C$l.y+C$n,C$r,C$s,"left",C$a)}},ryjov._EMPTYTEXT={text:null,words:null},ryjov),C$s=(C$t(x7in41,"laya.html.dom.HTMLBrElement",C$n),C$t(kdgc6,"laya.html.dom.HTMLDivElement",C$s=C$n),(C$a=kdgc6.prototype).appendHTML=function(C$t){C$x.parse(this,C$t,this.URI),this.layout()},C$a._addChildsToLayout=function(C$e){var C$t=this._getWords();if(null==C$t&&0==this._childs.length)return!1;C$t&&C$t.forEach(function(C$t){C$e.push(C$t)});for(var C$i=!0,C$n=0,C$r=this._childs.length;C$n<C$r;C$n++){var C$s=this._childs[C$n];C$i?C$i=!1:C$e.push(null),C$s._addToLayout(C$e)}return!0},C$a._addToLayout=function(C$t){this.layout()},C$a.layout=function(){var C$t,C$e;this.style&&(this.style._type|=512,(C$t=C$y.layout(this))&&(this._$P.mHtmlBounds||this._set$P("mHtmlBounds",new C$c),(C$e=this._$P.mHtmlBounds).x=C$e.y=0,C$e.width=this.contextWidth=C$t[0],C$e.height=this.contextHeight=C$t[1],this.setBounds(C$e)))},C$e(0,C$a,"height",function(){return this._height||this.contextHeight},C$s.prototype._$set_height),C$e(0,C$a,"innerHTML",null,function(C$t){this.destroyChildren(),this.appendHTML(C$t)}),C$e(0,C$a,"width",function(){return this._width||this.contextWidth},function(C$t){var C$e;C$e=0===C$t?C$t!=this._width:C$t!=this.width,C$i.superSet(C$n,this,"width",C$t),C$e&&this.layout()}),kdgc6),C$b=(C$t(k68cdg,"laya.html.dom.HTMLDocument",C$n),(C$a=k68cdg.prototype).getElementById=function(C$t){return this.all[C$t]},C$a.setElementById=function(C$t,C$e){this.all[C$t]=C$e},C$h(k68cdg,["document",function(){return this.document=new k68cdg}]),k68cdg);function k68cdg(){this.all=[],this.styleSheets=C$l.styleSheets,k68cdg.__super.call(this)}function kdgc6(){this.contextHeight=NaN,this.contextWidth=NaN,kdgc6.__super.call(this),this.style.block=!0,this.style.lineElement=!0,this.style.width=200,this.style.height=200}function x7in41(){x7in41.__super.call(this),this.style.lineElement=!0,this.style.block=!0}function ryjov(){this.URI=null,this._href=null,ryjov.__super.call(this),this._text=ryjov._EMPTYTEXT,this.setStyle(new C$l(this)),this._getCSSStyle().valign="middle",this.mouseEnabled=!0}var C$w;function y7jro(){this.x=0,this.y=0,this.w=0,this.h=0,this.wordStartIndex=0,this.minTextHeight=99999,this.mWidth=0,this.elements=[]}var C$s;function o0qb5(){}function nxjv7(){}function ijnx7v(){ijnx7v.__super.call(this),this._getCSSStyle().valign="middle"}function $s2w9(){$s2w9.__super.call(this),this.visible=!1}function n74xi1(){this.type=null,n74xi1.__super.call(this),this.visible=!1}function k60dg8(){this._tex=null,this._url=null,this._renderArgs=[],k60dg8.__super.call(this),this.style.block=!0}var C$a;C$t(k60dg8,"laya.html.dom.HTMLImageElement",C$n),(C$a=k60dg8.prototype)._addToLayout=function(C$t){this._style.absolute||C$t.push(this)},C$a.render=function(C$t,C$e,C$i){!this._tex||!this._tex.loaded||!this._tex.loaded||this._width<1||this._height<1||(C$p.spriteCount++,this._renderArgs[0]=this._tex,this._renderArgs[1]=this.x,this._renderArgs[2]=this.y,this._renderArgs[3]=this.width||this._tex.width,this._renderArgs[4]=this.height||this._tex.height,C$t.ctx.drawTexture2(C$e,C$i,this.style.translateX,this.style.translateY,this.transform,this.style.alpha,this.style.blendMode,this._renderArgs))},C$a.layaoutCallNative=function(){var C$t=0;if(this._childs&&0<(C$t=this._childs.length))for(var C$e=0;C$e<C$t;C$e++)this._childs[C$e].layaoutCallNative&&this._childs[C$e].layaoutCallNative()},C$e(0,C$a,"width",function(){return this.autoSize?this.getSelfBounds().width:this._width},function(C$t){this._width!==C$t&&(this._width=C$t,this._style.width=C$t,this.repaint())}),C$e(0,C$a,"height",function(){return this.autoSize?this.getSelfBounds().height:this._height},function(C$t){this._height!==C$t&&(this._height=C$t,this._style.height=C$t,this.repaint())}),C$a.destroy=function(){null!=this._tex&&(this._tex.off("loaded",this,this.onloaded),C$r.clearCache(this,this._url),this._tex=null),C$n.prototype.destroy.call(this)},C$a.onloaded=function(){var C$t=this._style;C$t&&!C$t.widthed(this)&&this._width!=this._tex.width&&(this.width=this._tex.width,this.parent&&this.parent._layoutLater()),C$t&&!C$t.heighted(this)&&this._height!=this._tex.height&&(this.height=this._tex.height,this.parent&&this.parent._layoutLater()),C$d.isConchApp&&(this._renderArgs[0]=this._tex,this._renderArgs[1]=this.x,this._renderArgs[2]=this.y,this._renderArgs[3]=this.width||this._tex.width,this._renderArgs[4]=this.height||this._tex.height,this.graphics.drawTexture(this._tex,0,0,this._renderArgs[3],this._renderArgs[4])),this.repaint(),this.parentRepaint()},C$a._loadImageComplete=function(C$t,C$e,C$i){var C$n;this._destroyed||(null!=C$i?(C$i instanceof ArrayBuffer?(C$n=new DataView(C$i),new laya.webgl.resource.WebGLImage(new Uint8Array(C$i,8),C$t,0,!1,C$n.getUint32(0),C$n.getUint32(4))):C$i instanceof C$m?(C$r.imgMgrSet[C$t]=C$e,C$o.imgMgrLock(C$t,C$r.imgMgrSet[C$t]),this._url=C$t,this._tex=C$i,C$r.keepCache(this,C$t),C$r.cacheRes(C$t,this._tex)):(C$n=-1!=C$t.indexOf(".png",C$t.length-4)?6408:6407,new laya.webgl.resource.WebGLImage(C$i,C$t,C$n,!1,C$i.width,C$i.height)),this.onloaded()):this.event("error","Load image failed"))},C$e(0,C$a,"src",null,function(C$t){C$t=this.formatURL(C$t),this._url!=C$t&&(null!=this._tex&&(C$r.clearCache(this,this._url),this._tex.off("loaded",this,this.onloaded)),this._url=C$t,(this._tex=C$r.getRes(C$t))?(C$r.keepCache(this,C$t),this.onloaded()):C$o.imgMgrLoad(C$t,this._loadImageComplete.bind(this),2,!1))}),C$t(n74xi1,"laya.html.dom.HTMLLinkElement",C$h=C$n),(C$a=n74xi1.prototype)._onload=function(C$t){"text/css"===this.type&&C$l.parseCSS(C$t,this.URI)},C$e(0,C$a,"href",C$h.prototype._$get_href,function(C$t){var C$e=this;C$t=this.formatURL(C$t),this.URI=new C$g(C$t);var C$i=new C$r;C$i.once("complete",null,function(C$t){C$e._onload(C$t)}),C$i.load(C$t,"text")}),n74xi1._cuttingStyle=new RegExp("((@keyframes[\\s\\t]+|)(.+))[\\t\\n\\r\\s]*{","g"),C$t($s2w9,"laya.html.dom.HTMLStyleElement",C$a=C$n),C$e(0,$s2w9.prototype,"text",C$a.prototype._$get_text,function(C$t){C$l.parseCSS(C$t,null)}),C$t(ijnx7v,"laya.html.dom.HTMLIframeElement",C$h=C$s),C$e(0,ijnx7v.prototype,"href",C$h.prototype._$get_href,function(C$i){var C$n=this;C$i=this.formatURL(C$i);var C$t=new C$r;C$t.once("complete",null,function(C$t){var C$e=C$n.URI;C$n.URI=new C$g(C$i),C$n.innerHTML=C$t,C$e&&(C$n.URI=C$e)}),C$t.load(C$i,"text")})}(window,(document,gvj7xry)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$t,C$e){"use strict";for(var C$i in Object.defineProperty(C$e,"__esModule",{value:!0}),gvj7xry){var C$n=gvj7xry[C$i];C$n&&C$n.__isclass&&(C$e[C$i]=C$n)}}),function(C$s,C$f){C$f.un,C$f.uns;var C$a=C$f.static,C$t=C$f.class,C$e=C$f.getset,C$o=(C$f.__newvec,laya.display.Animation),C$m=(laya.utils.Browser,laya.utils.ClassUtils),C$h=laya.filters.ColorFilter,C$l=laya.utils.Ease,C$u=laya.events.Event,C$c=(laya.events.EventDispatcher,laya.display.css.Font),C$_=laya.display.FrameAnimation,C$i=laya.display.Graphics,C$g=laya.utils.Handler,C$v=laya.display.Input,C$p=laya.net.Loader,C$x=(laya.display.Node,laya.maths.Point),C$y=laya.maths.Rectangle,C$b=laya.renders.Render,C$w=laya.display.Sprite,C$T=laya.display.Text,C$M=laya.resource.Texture,C$S=laya.utils.Tween,C$C=laya.utils.Utils,C$D=laya.utils.WeakObject;C$f.interface("laya.ui.IItem"),C$f.interface("laya.ui.ISelect"),C$f.interface("laya.ui.IRender"),C$f.interface("laya.ui.IComponent"),C$f.interface("laya.ui.IBox","IComponent");C$t(b5yoqr,"laya.ui.LayoutStyle"),C$a(b5yoqr,["EMPTY",function(){return this.EMPTY=new b5yoqr}]);var C$E=b5yoqr,C$A=(C$t(tcehzp,"laya.ui.Styles"),tcehzp.labelColor="#000000",tcehzp.buttonStateNum=3,tcehzp.scrollBarMinNum=15,tcehzp.scrollBarDelayTime=500,C$a(tcehzp,["defaultSizeGrid",function(){return this.defaultSizeGrid=[4,4,4,4,0]},"labelPadding",function(){return this.labelPadding=[2,2,2,2]},"inputLabelPadding",function(){return this.inputLabelPadding=[1,1,1,3]},"buttonLabelColors",function(){return this.buttonLabelColors=["#32556b","#32cc6b","#ff0000","#C0C0C0"]},"comboBoxItemColors",function(){return this.comboBoxItemColors=["#5e95b6","#ffffff","#000000","#8fa4b1","#ffffff"]}]),tcehzp),C$I=(C$t(jyo5rv,"laya.ui.UIUtils"),jyo5rv.fillArray=function(C$t,C$e,C$i){var C$n=C$t.concat();if(C$e)for(var C$r=C$e.split(","),C$s=0,C$a=Math.min(C$n.length,C$r.length);C$s<C$a;C$s++){var C$o=C$r[C$s];C$n[C$s]="true"==C$o||"false"!=C$o&&C$o,null!=C$i&&(C$n[C$s]=C$i(C$o))}return C$n},jyo5rv.toColor=function(C$t){return C$C.toHexColor(C$t)},jyo5rv.gray=function(C$t,C$e){(C$e=void 0===C$e?!0:C$e)?jyo5rv.addFilter(C$t,jyo5rv.grayFilter):jyo5rv.clearFilter(C$t,C$h)},jyo5rv.addFilter=function(C$t,C$e){var C$i=C$t.filters||[];C$i.push(C$e),C$t.filters=C$i},jyo5rv.clearFilter=function(C$t,C$e){var C$i=C$t.filters;if(null!=C$i&&0<C$i.length){for(var C$n=C$i.length-1;-1<C$n;C$n--){var C$r=C$i[C$n];C$f.__typeof(C$r,C$e)&&C$i.splice(C$n,1)}C$t.filters=C$i}},jyo5rv._getReplaceStr=function(C$t){return jyo5rv.escapeSequence[C$t]},jyo5rv.adptString=function(C$t){return C$t.replace(/\\(\w)/g,jyo5rv._getReplaceStr)},jyo5rv.getBindFun=function(C$t){var C$e=jyo5rv._funMap.get(C$t);var C$i;return null==C$e&&(C$i="(function(data){if(data==null)return;with(data){try{\nreturn "+('"'+C$t+'"').replace(/^"\${|}"$/g,"").replace(/\${/g,'"+').replace(/}/g,'+"')+"\n}catch(e){}}})",C$e=C$f._runScript(C$i),jyo5rv._funMap.set(C$t,C$e)),C$e},C$a(jyo5rv,["grayFilter",function(){return this.grayFilter=new C$h([.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0])},"escapeSequence",function(){return this.escapeSequence={"\\n":"\n","\\t":"\t"}},"_funMap",function(){return this._funMap=new C$D}]),jyo5rv),C$R=(C$t(k0dbq,"UIConfig"),k0dbq.touchScrollEnable=!0,k0dbq.mouseWheelEnable=!0,k0dbq.showButtons=!0,k0dbq.popupBgColor="#000000",k0dbq.popupBgAlpha=.5,k0dbq.closeDialogOnSide=!0,k0dbq),C$P=(C$t(gkqd,"laya.ui.AutoBitmap",C$Ct=C$i),(C$i=gkqd.prototype).destroy=function(){if(C$p.clearObject(this,this._weakKey),this._weakKeys){for(var C$t=0,C$e=this._weakKeys.length;C$t<C$e;++C$t)C$p.clearObject(this,this._weakKeys[C$t]);this._weakKeys=null}C$Ct.prototype.destroy.call(this),this._source=null,this._sizeGrid=null,this._offset=null},C$i._setChanged=function(){this._isChanged||(this._isChanged=!0,C$f.timer.callLater(this,this.changeSource))},C$i.changeSource=function(){this._isChanged=!1;var C$t=this._source;if(C$t&&C$t.bitmap){var C$e=this.width,C$i=this.height,C$n=this._sizeGrid,C$u=C$t.sourceWidth,C$c=C$t.sourceHeight;if(!C$n||C$u===C$e&&C$c===C$i)this.cleanByTexture(C$t,this._offset?this._offset[0]:0,this._offset?this._offset[1]:0,C$e,C$i);else{C$p.clearObject(this,this._weakKey),C$t.$_GID||(C$t.$_GID=C$C.getGID());var C$_=C$t.$_GID+"."+C$e+"."+C$i+"."+C$n.join("."),C$r=C$p.findObject(C$_);if(C$C.isOKCmdList(C$r))return this._weakKey=C$_,C$p.keepObject(this,this._weakKey),void(this.cmds=C$r);this.clear();var C$s,C$a,C$r=C$n[0],C$o=C$n[1],C$h=C$n[2],C$l=C$n[3],C$n=C$n[4],C$d=!1;var C$f;C$i==C$c&&(C$r=C$h=0),C$e<(C$l=C$e==C$u?C$o=0:C$l)+C$o&&(C$f=C$e,C$d=!0,C$e=C$l+C$o,this.save(),this.clipRect(0,0,C$f,C$i)),C$l&&C$r&&(C$s=gkqd.getTexture(C$t,0,0,C$l,C$r),C$a=this._weakKeys[0],C$s?(C$a!=C$s.weakKey&&(C$p.clearObject(this,C$a),C$p.keepObject(this,C$s.weakKey),this._weakKeys[0]=C$s.weakKey),this.drawTexture(C$s,0,0,C$l,C$r)):(C$p.clearObject(this,C$a),this._weakKeys[0]="")),C$o&&C$r&&(C$s=gkqd.getTexture(C$t,C$u-C$o,0,C$o,C$r),C$a=this._weakKeys[1],C$s?(C$a!=C$s.weakKey&&(C$p.clearObject(this,C$a),C$p.keepObject(this,C$s.weakKey),this._weakKeys[1]=C$s.weakKey),this.drawTexture(C$s,C$e-C$o,0,C$o,C$r)):(C$p.clearObject(this,C$a),this._weakKeys[1]="")),C$l&&C$h&&(C$s=gkqd.getTexture(C$t,0,C$c-C$h,C$l,C$h),C$a=this._weakKeys[2],C$s?(C$a!=C$s.weakKey&&(C$p.clearObject(this,C$a),C$p.keepObject(this,C$s.weakKey),this._weakKeys[2]=C$s.weakKey),this.drawTexture(C$s,0,C$i-C$h,C$l,C$h)):(C$p.clearObject(this,C$a),this._weakKeys[2]="")),C$o&&C$h&&(C$s=gkqd.getTexture(C$t,C$u-C$o,C$c-C$h,C$o,C$h),C$a=this._weakKeys[3],C$s?(C$a!=C$s.weakKey&&(C$p.clearObject(this,C$a),C$p.keepObject(this,C$s.weakKey),this._weakKeys[3]=C$s.weakKey),this.drawTexture(C$s,C$e-C$o,C$i-C$h,C$o,C$h)):(C$p.clearObject(this,C$a),this._weakKeys[3]="")),C$r&&(C$s=gkqd.getTexture(C$t,C$l,0,C$u-C$l-C$o,C$r),C$a=this._weakKeys[4],C$s?(C$a!=C$s.weakKey&&(C$p.clearObject(this,C$a),C$p.keepObject(this,C$s.weakKey),this._weakKeys[4]=C$s.weakKey),this.drawBitmap(C$n,C$s,C$l,0,C$e-C$l-C$o,C$r)):(C$p.clearObject(this,C$a),this._weakKeys[4]="")),C$h&&(C$s=gkqd.getTexture(C$t,C$l,C$c-C$h,C$u-C$l-C$o,C$h),C$a=this._weakKeys[5],C$s?(C$a!=C$s.weakKey&&(C$p.clearObject(this,C$a),C$p.keepObject(this,C$s.weakKey),this._weakKeys[5]=C$s.weakKey),this.drawBitmap(C$n,C$s,C$l,C$i-C$h,C$e-C$l-C$o,C$h)):(C$p.clearObject(this,C$a),this._weakKeys[5]="")),C$l&&(C$s=gkqd.getTexture(C$t,0,C$r,C$l,C$c-C$r-C$h),C$a=this._weakKeys[6],C$s?(C$a!=C$s.weakKey&&(C$p.clearObject(this,C$a),C$p.keepObject(this,C$s.weakKey),this._weakKeys[6]=C$s.weakKey),this.drawBitmap(C$n,C$s,0,C$r,C$l,C$i-C$r-C$h)):(C$p.clearObject(this,C$a),this._weakKeys[6]="")),C$o&&(C$s=gkqd.getTexture(C$t,C$u-C$o,C$r,C$o,C$c-C$r-C$h),C$a=this._weakKeys[7],C$s?(C$a!=C$s.weakKey&&(C$p.clearObject(this,C$a),C$p.keepObject(this,C$s.weakKey),this._weakKeys[7]=C$s.weakKey),this.drawBitmap(C$n,C$s,C$e-C$o,C$r,C$o,C$i-C$r-C$h)):(C$p.clearObject(this,C$a),this._weakKeys[7]="")),C$s=gkqd.getTexture(C$t,C$l,C$r,C$u-C$l-C$o,C$c-C$r-C$h),C$a=this._weakKeys[8],C$s?(C$a!=C$s.weakKey&&(C$p.clearObject(this,C$a),C$p.keepObject(this,C$s.weakKey),this._weakKeys[8]=C$s.weakKey),this.drawBitmap(C$n,C$s,C$l,C$r,C$e-C$l-C$o,C$i-C$r-C$h)):(C$p.clearObject(this,C$a),this._weakKeys[8]=""),C$d&&this.restore(),this.autoCacheCmd&&!C$b.isConchApp&&(C$p.saveObject(C$_,this.cmds,null),this._weakKey=C$_,C$p.keepObject(this,this._weakKey))}this._repaint()}},C$i.drawBitmap=function(C$t,C$e,C$i,C$n,C$r,C$s){void 0===C$s&&(C$s=0),(C$r=void 0===C$r?0:C$r)<.1||C$s<.1||(!C$t||C$e.width==C$r&&C$e.height==C$s?this.drawTexture(C$e,C$i,C$n,C$r,C$s):this.fillTexture(C$e,C$i,C$n,C$r,C$s))},C$i.clear=function(C$t){void 0===C$t&&(C$t=!0),C$Ct.prototype.clear.call(this,!1)},C$e(0,C$i,"sizeGrid",function(){return this._sizeGrid},function(C$t){this._sizeGrid=C$t,this._setChanged()}),C$e(0,C$i,"width",function(){return this._width||(this._source?this._source.sourceWidth:0)},function(C$t){this._width!=C$t&&(this._width=C$t,this._setChanged())}),C$e(0,C$i,"height",function(){return this._height||(this._source?this._source.sourceHeight:0)},function(C$t){this._height!=C$t&&(this._height=C$t,this._setChanged())}),C$e(0,C$i,"source",function(){return this._source},function(C$t){C$t?(this._source=C$t,this._setChanged()):(this._source=null,this.clear())}),gkqd.getTexture=function(C$t,C$e,C$i,C$n,C$r){C$n<=0&&(C$n=1),C$r<=0&&(C$r=1),C$t.$_GID||(C$t.$_GID=C$C.getGID());var C$s=C$t.$_GID+"."+C$e+"."+C$i+"."+C$n+"."+C$r,C$a=C$p.findObject(C$s);var C$o;return C$a&&C$a.source||!(C$a=C$M.createFromTexture(C$t,C$e,C$i,C$n,C$r))||(C$t.alphaTexture&&(C$o=C$t.width/C$t.alphaTexture.width,C$a.alphaTexture=C$M.createFromTexture(C$t.alphaTexture,C$e/C$o,C$i/C$o,C$n/C$o,C$r/C$o)),C$p.saveObject(C$s,C$a),C$a.weakKey=C$s),C$a},gkqd),C$n=(C$t(oy5qrv,"laya.ui.UIEvent",C$u),oy5qrv.SHOW_TIP="showtip",oy5qrv.HIDE_TIP="hidetip",C$t($ws9,"laya.ui.Component",C$St=C$w),C$i=$ws9.prototype,C$f.imps(C$i,{"laya.ui.IComponent":!0}),C$i.destroy=function(C$t){C$St.prototype.destroy.call(this,C$t=void 0===C$t?!0:C$t),this._dataSource=this._layout=null,this._tag=null,this._toolTip=null},C$i.preinitialize=function(){},C$i.createChildren=function(){},C$i.initialize=function(){},C$i.callLater=function(C$t,C$e){C$f.timer.callLater(this,C$t,C$e)},C$i.runCallLater=function(C$t){C$f.timer.runCallLater(this,C$t)},C$i.commitMeasure=function(){},C$i.changeSize=function(){this.event("resize")},C$i.getLayout=function(){return this._layout===C$E.EMPTY&&(this._layout=new C$E),this._layout},C$i._setLayoutEnabled=function(C$t){this._layout&&this._layout.enable!=C$t&&(this._layout.enable=C$t,this.on("added",this,this.onAdded),this.on("removed",this,this.onRemoved),this.parent&&this.onAdded())},C$i.onRemoved=function(){this.parent.off("resize",this,this.onCompResize)},C$i.onAdded=function(){this.parent.on("resize",this,this.onCompResize),this.resetLayoutX(),this.resetLayoutY()},C$i.onCompResize=function(){this._layout&&this._layout.enable&&(this.resetLayoutX(),this.resetLayoutY())},C$i.resetLayoutX=function(){var C$t=this._layout;var C$e;isNaN(C$t.anchorX)||(this.pivotX=C$t.anchorX*this.width),this.layoutEnabled&&(C$e=this.parent)&&(isNaN(C$t.centerX)?isNaN(C$t.left)?isNaN(C$t.right)||(this.x=Math.round(C$e.width-this.displayWidth-C$t.right+this.pivotX*this.scaleX)):(this.x=Math.round(C$t.left+this.pivotX*this.scaleX),isNaN(C$t.right)||(this.width=(C$e._width-C$t.left-C$t.right)/(this.scaleX||.01))):this.x=Math.round(.5*(C$e.width-this.displayWidth)+C$t.centerX+this.pivotX*this.scaleX))},C$i.resetLayoutY=function(){var C$t=this._layout;var C$e;isNaN(C$t.anchorY)||(this.pivotY=C$t.anchorY*this.height),this.layoutEnabled&&(C$e=this.parent)&&(isNaN(C$t.centerY)?isNaN(C$t.top)?isNaN(C$t.bottom)||(this.y=Math.round(C$e.height-this.displayHeight-C$t.bottom+this.pivotY*this.scaleY)):(this.y=Math.round(C$t.top+this.pivotY*this.scaleY),isNaN(C$t.bottom)||(this.height=(C$e._height-C$t.top-C$t.bottom)/(this.scaleY||.01))):this.y=Math.round(.5*(C$e.height-this.displayHeight)+C$t.centerY+this.pivotY*this.scaleY))},C$i.onMouseOver=function(C$t){C$f.stage.event("showtip",this._toolTip)},C$i.onMouseOut=function(C$t){C$f.stage.event("hidetip",this._toolTip)},C$e(0,C$i,"displayWidth",function(){return this.width*this.scaleX}),C$e(0,C$i,"width",function(){return this._width||this.measureWidth},function(C$t){this._width!=C$t&&(this._width=C$t,this.conchModel&&this.conchModel.size(this._width,this._height),this.callLater(this.changeSize),!this._layout.enable||isNaN(this._layout.centerX)&&isNaN(this._layout.right)&&isNaN(this._layout.anchorX)||this.resetLayoutX())}),C$e(0,C$i,"measureWidth",function(){var C$t=0;this.commitMeasure();for(var C$e=this.numChildren-1;-1<C$e;C$e--){var C$i=this.getChildAt(C$e);C$i.visible&&(C$t=Math.max(C$i.x+C$i.width*C$i.scaleX,C$t))}return C$t}),C$e(0,C$i,"displayHeight",function(){return this.height*this.scaleY}),C$e(0,C$i,"height",function(){return this._height||this.measureHeight},function(C$t){this._height!=C$t&&(this._height=C$t,this.conchModel&&this.conchModel.size(this._width,this._height),this.callLater(this.changeSize),!this._layout.enable||isNaN(this._layout.centerY)&&isNaN(this._layout.bottom)&&isNaN(this._layout.anchorY)||this.resetLayoutY())}),C$e(0,C$i,"dataSource",function(){return this._dataSource},function(C$t){for(var C$e in this._dataSource=C$t,this._dataSource)this.hasOwnProperty(C$e)&&"function"!=typeof this[C$e]&&(this[C$e]=this._dataSource[C$e])}),C$e(0,C$i,"scaleY",C$St.prototype._$get_scaleY,function(C$t){C$f.superGet(C$w,this,"scaleY")!=C$t&&(C$f.superSet(C$w,this,"scaleY",C$t),this.callLater(this.changeSize),this._layout.enable&&this.resetLayoutY())}),C$e(0,C$i,"measureHeight",function(){var C$t=0;this.commitMeasure();for(var C$e=this.numChildren-1;-1<C$e;C$e--){var C$i=this.getChildAt(C$e);C$i.visible&&(C$t=Math.max(C$i.y+C$i.height*C$i.scaleY,C$t))}return C$t}),C$e(0,C$i,"scaleX",C$St.prototype._$get_scaleX,function(C$t){C$f.superGet(C$w,this,"scaleX")!=C$t&&(C$f.superSet(C$w,this,"scaleX",C$t),this.callLater(this.changeSize),this._layout.enable&&this.resetLayoutX())}),C$e(0,C$i,"top",function(){return this._layout.top},function(C$t){C$t!=this._layout.top&&(this.getLayout().top=C$t,this._setLayoutEnabled(!0)),this.resetLayoutY()}),C$e(0,C$i,"bottom",function(){return this._layout.bottom},function(C$t){C$t!=this._layout.bottom&&(this.getLayout().bottom=C$t,this._setLayoutEnabled(!0)),this.resetLayoutY()}),C$e(0,C$i,"left",function(){return this._layout.left},function(C$t){C$t!=this._layout.left&&(this.getLayout().left=C$t,this._setLayoutEnabled(!0)),this.resetLayoutX()}),C$e(0,C$i,"right",function(){return this._layout.right},function(C$t){C$t!=this._layout.right&&(this.getLayout().right=C$t,this._setLayoutEnabled(!0)),this.resetLayoutX()}),C$e(0,C$i,"centerX",function(){return this._layout.centerX},function(C$t){C$t!=this._layout.centerX&&(this.getLayout().centerX=C$t,this._setLayoutEnabled(!0)),this.resetLayoutX()}),C$e(0,C$i,"centerY",function(){return this._layout.centerY},function(C$t){C$t!=this._layout.centerY&&(this.getLayout().centerY=C$t,this._setLayoutEnabled(!0)),this.resetLayoutY()}),C$e(0,C$i,"anchorX",function(){return this._layout.anchorX},function(C$t){C$t!=this._layout.anchorX&&(this.getLayout().anchorX=C$t,this._setLayoutEnabled(!0)),this.resetLayoutX()}),C$e(0,C$i,"anchorY",function(){return this._layout.anchorY},function(C$t){C$t!=this._layout.anchorY&&(this.getLayout().anchorY=C$t,this._setLayoutEnabled(!0)),this.resetLayoutY()}),C$e(0,C$i,"tag",function(){return this._tag},function(C$t){this._tag=C$t}),C$e(0,C$i,"toolTip",function(){return this._toolTip},function(C$t){this._toolTip!=C$t&&(null!=(this._toolTip=C$t)?(this.on("mouseover",this,this.onMouseOver),this.on("mouseout",this,this.onMouseOut)):(this.off("mouseover",this,this.onMouseOver),this.off("mouseout",this,this.onMouseOut)))}),C$e(0,C$i,"comXml",function(){return this._comXml},function(C$t){this._comXml=C$t}),C$e(0,C$i,"gray",function(){return this._gray},function(C$t){C$t!==this._gray&&(this._gray=C$t,C$I.gray(this,C$t))}),C$e(0,C$i,"disabled",function(){return this._disabled},function(C$t){C$t!==this._disabled&&(this.gray=this._disabled=C$t,this.mouseEnabled=!C$t)}),$ws9),C$L=(C$t(a34l1u,"laya.ui.DialogManager",C$w),(C$i=a34l1u.prototype)._closeOnSide=function(){var C$t=this.getChildAt(this.numChildren-1);C$t instanceof laya.ui.Dialog&&C$t.close("side")},C$i.setLockView=function(C$t){this.lockLayer||(this.lockLayer=new C$d,this.lockLayer.mouseEnabled=!0,this.lockLayer.size(C$f.stage.width,C$f.stage.height)),this.lockLayer.removeChildren(),C$t&&(C$t.centerX=C$t.centerY=0,this.lockLayer.addChild(C$t))},C$i._onResize=function(C$t){var C$e=this.maskLayer.width=C$f.stage.width,C$i=this.maskLayer.height=C$f.stage.height;this.lockLayer&&this.lockLayer.size(C$e,C$i),this.maskLayer.graphics.clear(),this.maskLayer.graphics.drawRect(0,0,C$e,C$i,C$R.popupBgColor),this.maskLayer.alpha=C$R.popupBgAlpha;for(var C$n=this.numChildren-1;-1<C$n;C$n--){var C$r=this.getChildAt(C$n);C$r.popupCenter&&this._centerDialog(C$r)}},C$i._centerDialog=function(C$t){C$t.x=Math.round((C$f.stage.width-C$t.width>>1)+C$t.pivotX),C$t.y=Math.round((C$f.stage.height-C$t.height>>1)+C$t.pivotY)},C$i.open=function(C$t,C$e,C$i){void 0===C$i&&(C$i=!1),(C$e=void 0===C$e?!1:C$e)&&this._closeAll(),C$t.popupCenter&&this._centerDialog(C$t),this.addChild(C$t),(C$t.isModal||this._$P.hasZorder)&&this.timer.callLater(this,this._checkMask),C$i&&null!=C$t.popupEffect?C$t.popupEffect.runWith(C$t):this.doOpen(C$t),this.event("open")},C$i.doOpen=function(C$t){C$t.onOpened()},C$i.lock=function(C$t){this.lockLayer&&(C$t?this.addChild(this.lockLayer):this.lockLayer.removeSelf())},C$i.close=function(C$t,C$e,C$i){(C$i=void 0===C$i?!1:C$i)&&null!=C$t.closeEffect?C$t.closeEffect.runWith([C$t,C$e]):this.doClose(C$t,C$e),this.event("close")},C$i.doClose=function(C$t,C$e){C$t.removeSelf(),C$t.isModal&&this._checkMask(),C$t.closeHandler&&C$t.closeHandler.runWith(C$e),C$t.onClosed(C$e)},C$i.closeAll=function(){this._closeAll(),this.event("close")},C$i._closeAll=function(){for(var C$t=this.numChildren-1;-1<C$t;C$t--){var C$e=this.getChildAt(C$t);C$e&&null!=C$e.close&&this.doClose(C$e)}},C$i.getDialogsByGroup=function(C$t){for(var C$e=[],C$i=this.numChildren-1;-1<C$i;C$i--){var C$n=this.getChildAt(C$i);C$n&&C$n.group===C$t&&C$e.push(C$n)}return C$e},C$i.closeByGroup=function(C$t){for(var C$e=[],C$i=this.numChildren-1;-1<C$i;C$i--){var C$n=this.getChildAt(C$i);C$n&&C$n.group===C$t&&(C$n.close(),C$e.push(C$n))}return C$e},C$i._checkMask=function(){this.maskLayer.removeSelf();for(var C$t=this.numChildren-1;-1<C$t;C$t--){var C$e=this.getChildAt(C$t);if(C$e&&C$e.isModal)return void this.addChildAt(this.maskLayer,C$t)}},a34l1u),C$d=(C$t(o5vryq,"laya.ui.Box",C$i=C$n),C$r=o5vryq.prototype,C$f.imps(C$r,{"laya.ui.IBox":!0}),C$e(0,C$r,"dataSource",C$i.prototype._$get_dataSource,function(C$t){for(var C$e in this._dataSource=C$t){var C$i=this.getChildByName(C$e);C$i?C$i.dataSource=C$t[C$e]:this.hasOwnProperty(C$e)&&"function"!=typeof this[C$e]&&(this[C$e]=C$t[C$e])}}),o5vryq),C$B=(C$t(lu1a4,"laya.ui.Button",C$Mt=C$n),C$r=lu1a4.prototype,C$f.imps(C$r,{"laya.ui.ISelect":!0}),C$r.destroy=function(C$t){this.clearEvent(),C$p.clearCache(this,this._skin),C$p.clearObject(this,this._weakKey),C$Mt.prototype.destroy.call(this,C$t=void 0===C$t?!0:C$t),this._bitmap&&this._bitmap.destroy(),this._text&&this._text.destroy(C$t),this._bitmap=null,this._text=null,this._clickHandler=null,this._labelColors=this._sources=this._strokeColors=null},C$r.clearEvent=function(){this._skin&&C$s.atalsNotify&&C$s.atalsNotify.off(this._skin,this,this._setBtnSource)},C$r.createChildren=function(){this.graphics=this._bitmap=new C$P},C$r.createText=function(){this._text||(this._text=new C$T,this._text.overflow=C$T.HIDDEN,this._text.align="center",this._text.valign="middle",this._text.width=this._width,this._text.height=this._height)},C$r.initialize=function(){1!==this._mouseEnableState&&(this.mouseEnabled=!0,this._setBit(2,!0)),this._createListener("mouseover",this,this.onMouse,null,!1,!1),this._createListener("mouseout",this,this.onMouse,null,!1,!1),this._createListener("mousedown",this,this.onMouse,null,!1,!1),this._createListener("mouseup",this,this.onMouse,null,!1,!1),this._createListener("click",this,this.onMouse,null,!1,!1)},C$r.onMouse=function(C$t){if(!1!==this.toggle||!this._selected)return"click"===C$t.type?(this.toggle&&(this.selected=!this._selected),void(this._clickHandler&&this._clickHandler.run())):void(this._selected||(this.state=lu1a4.stateMap[C$t.type]))},C$r.changeClips=function(){var C$t=C$p.getRes(this._skin);if(C$t)if(this._skin&&""!=this._skin){C$p.clearObject(this,this._weakKey);var C$e=C$t.sourceWidth,C$i=C$t.sourceHeight/this._stateNum;C$t.$_GID||(C$t.$_GID=C$C.getGID());var C$n=C$t.$_GID+"-"+this._stateNum,C$r=C$p.findObject(C$n);if(C$r=C$C.isOkTextureList(C$r)?C$r:null)this._weakKey=C$n,C$p.keepObject(this,this._weakKey),this._sources=C$r;else{if(this._sources=[],1===this._stateNum)this._sources.push(C$t);else for(var C$s=0;C$s<this._stateNum;C$s++){var C$a=C$M.createFromTexture(C$t,0,C$i*C$s,C$e,C$i);var C$o;C$t.alphaTexture&&(C$o=C$t.width/C$t.alphaTexture.width,C$a.alphaTexture=C$M.createFromTexture(C$t.alphaTexture,0/C$o,C$i*C$s/C$o,C$e/C$o,C$i/C$o)),this._sources.push(C$a)}C$p.saveObject(C$n,this._sources),this._weakKey=C$n,C$p.keepObject(this,this._weakKey)}this._autoSize?(this._bitmap.width=this._width||C$e,this._bitmap.height=this._height||C$i,this._text&&(this._text.width=this._bitmap.width,this._text.height=this._bitmap.height)):this._text&&(this._text.x=C$e)}else console.warn("lose skin ",this._skin,this.name,this.__className)},C$r.changeState=function(){this._stateChanged=!1,this.runCallLater(this.changeClips);var C$t=this._state<this._stateNum?this._state:this._stateNum-1;this._sources&&(this._bitmap.source=this._sources[C$t]),this.label&&(this._text.color=this._labelColors[C$t],this._strokeColors&&(this._text.strokeColor=this._strokeColors[C$t]))},C$r._setStateChanged=function(){this._stateChanged||(this._stateChanged=!0,this.callLater(this.changeState))},C$e(0,C$r,"labelStrokeColor",function(){return this.createText(),this._text.strokeColor},function(C$t){this.createText(),this._text.strokeColor=C$t}),C$e(0,C$r,"measureHeight",function(){return this.runCallLater(this.changeClips),this._text?Math.max(this._bitmap.height,this._text.height):this._bitmap.height}),C$e(0,C$r,"skin",function(){return this._skin},function(C$t){this._skin!=C$t&&(this.clearEvent(),C$p.clearCache(this,this._skin),this._skin=C$t,C$p.keepCache(this,this._skin),C$p.getRes(this._skin)?(this.callLater(this.changeClips),this._setStateChanged()):(C$t=C$s.resAtalsObj&&C$s.resAtalsObj[this._skin])?(C$s.atalsNotify&&C$s.atalsNotify.once(this._skin,this,this._setBtnSource),0==this.width&&(this.width=C$t.sourceW),0==this.height&&(this.height=C$t.sourceH/this._stateNum)):console.warn("lose button skin ",this._skin,this.name,this.__className))}),C$r._setBtnSource=function(C$t,C$e){C$t===this._skin&&C$e&&(this.callLater(this.changeClips),this._setStateChanged(),this.clearEvent())},C$e(0,C$r,"state",function(){return this._state},function(C$t){this._state!=C$t&&(this._state=C$t,this._setStateChanged())}),C$e(0,C$r,"text",function(){return this.createText(),this._text}),C$e(0,C$r,"stateNum",function(){return this._stateNum},function(C$t){"string"==typeof C$t&&(C$t=parseInt(C$t)),this._stateNum!=C$t&&(this._stateNum=C$t<1?1:3<C$t?3:C$t,this.callLater(this.changeClips))}),C$e(0,C$r,"strokeColors",function(){return this._strokeColors?this._strokeColors.join(","):""},function(C$t){this._strokeColors=C$I.fillArray(C$A.buttonLabelColors,C$t,String),this._setStateChanged()}),C$e(0,C$r,"labelColors",function(){return this._labelColors.join(",")},function(C$t){this._labelColors=C$I.fillArray(C$A.buttonLabelColors,C$t,String),this._setStateChanged()}),C$e(0,C$r,"measureWidth",function(){return this.runCallLater(this.changeClips),this._autoSize?this._bitmap.width:(this.runCallLater(this.changeState),this._bitmap.width+(this._text?this._text.width:0))}),C$e(0,C$r,"label",function(){return this._text?this._text.text:null},function(C$t){(this._text||C$t)&&(this.createText(),this._text.text!=C$t&&(C$t&&!this._text.parent&&this.addChild(this._text),this._text.text=(C$t+"").replace(/\\n/g,"\n"),this._setStateChanged()))}),C$e(0,C$r,"selected",function(){return this._selected},function(C$t){this._selected!=C$t&&(this._selected=C$t,this.state=this._selected?2:0,this.event("change"))}),C$e(0,C$r,"labelPadding",function(){return this.createText(),this._text.padding.join(",")},function(C$t){this.createText(),this._text.padding=C$I.fillArray(C$A.labelPadding,C$t,Number)}),C$e(0,C$r,"labelSize",function(){return this.createText(),this._text.fontSize},function(C$t){this.createText(),this._text.fontSize=C$t}),C$e(0,C$r,"labelStroke",function(){return this.createText(),this._text.stroke},function(C$t){this.createText(),this._text.stroke=C$t}),C$e(0,C$r,"labelBold",function(){return this.createText(),this._text.bold},function(C$t){this.createText(),this._text.bold=C$t}),C$e(0,C$r,"labelFont",function(){return this.createText(),this._text.font},function(C$t){this.createText(),this._text.font=C$t}),C$e(0,C$r,"labelAlign",function(){return this.createText(),this._text.align},function(C$t){this.createText(),this._text.align=C$t}),C$e(0,C$r,"clickHandler",function(){return this._clickHandler},function(C$t){this._clickHandler=C$t}),C$e(0,C$r,"sizeGrid",function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null},function(C$t){this._bitmap.sizeGrid=C$I.fillArray(C$A.defaultSizeGrid,C$t,Number)}),C$e(0,C$r,"width",C$Mt.prototype._$get_width,function(C$t){C$f.superSet(C$n,this,"width",C$t),this._autoSize&&(this._bitmap.width=C$t,this._text&&(this._text.width=C$t))}),C$e(0,C$r,"height",C$Mt.prototype._$get_height,function(C$t){C$f.superSet(C$n,this,"height",C$t),this._autoSize&&(this._bitmap.height=C$t,this._text&&(this._text.height=C$t))}),C$e(0,C$r,"dataSource",C$Mt.prototype._$get_dataSource,function(C$t){"number"==typeof(this._dataSource=C$t)||"string"==typeof C$t?this.label=C$t+"":C$f.superSet(C$n,this,"dataSource",C$t)}),C$e(0,C$r,"iconOffset",function(){return this._bitmap._offset?this._bitmap._offset.join(","):null},function(C$t){this._bitmap._offset=C$t?C$I.fillArray([1,1],C$t,Number):[]}),C$a(lu1a4,["stateMap",function(){return this.stateMap={mouseup:0,mouseover:1,mousedown:2,mouseout:0}}]),lu1a4),C$k=(C$t(qkg50b,"laya.ui.Clip",C$Tt=C$n),(C$i=qkg50b.prototype).destroy=function(C$t){this.clearEvent(),this.clearLoad(),C$p.clearCache(this,this._skin),C$p.clearObject(this,this._weakKey),void 0===C$t&&(C$t=!0),C$Tt.prototype.destroy.call(this,!0),this._bitmap&&this._bitmap.destroy(),this._bitmap=null,this._sources=null},C$i.dispose=function(){this.destroy(!0),C$f.loader.clearRes(this._skin)},C$i.createChildren=function(){this.graphics=this._bitmap=new C$P},C$i._onDisplay=function(C$t){this._isPlaying?this._displayedInStage?this.play():this.stop():this._autoPlay&&this.play()},C$i.changeClip=function(){var C$t;this._clipChanged=!1,this._skin&&((C$t=C$p.getRes(this._skin))?this.loadComplete(this._skin,C$t):C$s.resAtalsObj&&C$s.resAtalsObj[this._skin]||(this.clearLoad(),this._complete=C$g.create(this,this.loadComplete,[this._skin]),this._progress=null,C$f.loader.load(this._skin,this._complete,this._progress)))},C$i.loadComplete=function(C$t,C$e){if(C$t===this._skin&&C$e){C$p.clearObject(this,this._weakKey);var C$i=this._clipWidth||Math.ceil(C$e.sourceWidth/this._clipX),C$n=this._clipHeight||Math.ceil(C$e.sourceHeight/this._clipY),C$t=this._skin+C$i+C$n,C$r=C$p.findObject(C$t);if(C$r=C$C.isOkTextureList(C$r)?C$r:null)this._weakKey=C$t,C$p.keepObject(this,this._weakKey),this._sources=C$r;else{this._sources=[];for(var C$s=0;C$s<this._clipY;C$s++)for(var C$a=0;C$a<this._clipX;C$a++){var C$o=C$M.createFromTexture(C$e,C$i*C$a,C$n*C$s,C$i,C$n);var C$h;C$e.alphaTexture&&(C$h=C$e.width/C$e.alphaTexture.width,C$o.alphaTexture=C$M.createFromTexture(C$e.alphaTexture,C$i*C$a/C$h,C$n*C$s/C$h,C$i/C$h,C$n/C$h)),this._sources.push(C$o)}C$p.saveObject(C$t,this._sources),this._weakKey=C$t,C$p.keepObject(this,this._weakKey)}this.index=this._index,this.event("loaded"),this.onCompResize()}},C$i.play=function(C$t,C$e){void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=-1),this._isPlaying=!0,this.index=C$t,this._toIndex=C$e,this._index++,C$f.timer.loop(this.interval,this,this._loop),this.on("display",this,this._onDisplay),this.on("undisplay",this,this._onDisplay)},C$i._loop=function(){this._style.visible&&this._sources&&(this._index++,-1<this._toIndex&&this._index>=this._toIndex?this.stop():this._index>=this._sources.length&&(this._index=0),this.index=this._index)},C$i.stop=function(){this._isPlaying=!1,C$f.timer.clear(this,this._loop),this.event("complete")},C$i._setClipChanged=function(){this._clipChanged||(this._clipChanged=!0,this.callLater(this.changeClip))},C$e(0,C$i,"interval",function(){return this._interval},function(C$t){this._interval!=C$t&&(this._interval=C$t,this._isPlaying&&this.play())}),C$i.clearEvent=function(){this._skin&&C$s.atalsNotify&&C$s.atalsNotify.off(this._skin,this,this._setBtnSource)},C$i.clearLoad=function(){this._skin&&((this._complete||this._progress)&&C$f.loader.cancel(this._skin,this._complete,this._progress),this._complete=this._progress=null)},C$e(0,C$i,"skin",function(){return this._skin},function(C$t){var C$e;this._skin!=C$t&&(this.clearLoad(),this.clearEvent(),C$p.clearCache(this,this._skin),(this._skin=C$t)?(C$p.keepCache(this,this._skin),C$t=C$p.getRes(C$t),C$e=C$s.resAtalsObj&&C$s.resAtalsObj[this._skin],!C$t&&C$e?C$s.atalsNotify&&C$s.atalsNotify.once(this._skin,this,this._setBtnSource):this._setClipChanged()):this._bitmap.source=null)}),C$i._setBtnSource=function(C$t,C$e){C$t===this._skin&&C$e&&(this.loadComplete(C$t,C$e),this.clearEvent())},C$e(0,C$i,"sources",function(){return this._sources},function(C$t){this._sources=C$t,this.index=this._index,this.event("loaded")}),C$e(0,C$i,"clipX",function(){return this._clipX},function(C$t){this._clipX=C$t||1,this._setClipChanged()}),C$e(0,C$i,"clipY",function(){return this._clipY},function(C$t){this._clipY=C$t||1,this._setClipChanged()}),C$e(0,C$i,"total",function(){return this.runCallLater(this.changeClip),this._sources?this._sources.length:0}),C$e(0,C$i,"clipWidth",function(){return this._clipWidth},function(C$t){this._clipWidth=C$t,this._setClipChanged()}),C$e(0,C$i,"sizeGrid",function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null},function(C$t){this._bitmap.sizeGrid=C$I.fillArray(C$A.defaultSizeGrid,C$t,Number)}),C$e(0,C$i,"group",function(){return this._group},function(C$t){C$t&&this._skin&&C$p.setGroup(this._skin,C$t),this._group=C$t}),C$e(0,C$i,"clipHeight",function(){return this._clipHeight},function(C$t){this._clipHeight=C$t,this._setClipChanged()}),C$e(0,C$i,"width",C$Tt.prototype._$get_width,function(C$t){C$f.superSet(C$n,this,"width",C$t),this._bitmap.width=C$t}),C$e(0,C$i,"height",C$Tt.prototype._$get_height,function(C$t){C$f.superSet(C$n,this,"height",C$t),this._bitmap.height=C$t}),C$e(0,C$i,"measureWidth",function(){return this.runCallLater(this.changeClip),this._bitmap.width}),C$e(0,C$i,"measureHeight",function(){return this.runCallLater(this.changeClip),this._bitmap.height}),C$e(0,C$i,"index",function(){return this._index},function(C$t){this._index=C$t,this._bitmap&&this._sources&&(this._bitmap.source=this._sources[C$t]),this.event("change")}),C$e(0,C$i,"autoPlay",function(){return this._autoPlay},function(C$t){this._autoPlay!=C$t&&((this._autoPlay=C$t)?this.play():this.stop())}),C$e(0,C$i,"isPlaying",function(){return this._isPlaying},function(C$t){this._isPlaying=C$t}),C$e(0,C$i,"dataSource",C$Tt.prototype._$get_dataSource,function(C$t){"number"==typeof(this._dataSource=C$t)&&Math.floor(C$t)==C$t||"string"==typeof C$t?this.index=parseInt(C$t):C$f.superSet(C$n,this,"dataSource",C$t)}),C$e(0,C$i,"bitmap",function(){return this._bitmap}),qkg50b),C$N=(C$t(ixn143,"laya.ui.ColorPicker",C$wt=C$n),(C$r=ixn143.prototype).destroy=function(C$t){C$wt.prototype.destroy.call(this,C$t=void 0===C$t?!0:C$t),this._colorPanel&&this._colorPanel.destroy(C$t),this._colorButton&&this._colorButton.destroy(C$t),this._colorPanel=null,this._colorTiles=null,this._colorBlock=null,this._colorInput=null,this._colorButton=null,this._colors=null,this.changeHandler=null},C$r.createChildren=function(){this.addChild(this._colorButton=new C$B),this._colorPanel=new C$d,this._colorPanel.size(230,166),this._colorPanel.addChild(this._colorTiles=new C$w),this._colorPanel.addChild(this._colorBlock=new C$w),this._colorPanel.addChild(this._colorInput=new C$v)},C$r.initialize=function(){this._colorButton.on("click",this,this.onColorButtonClick),this._colorBlock.pos(5,5),this._colorInput.pos(60,5),this._colorInput.size(60,20),this._colorInput.on("change",this,this.onColorInputChange),this._colorInput.on("keydown",this,this.onColorFieldKeyDown),this._colorTiles.pos(5,30),this._colorTiles.on("mousemove",this,this.onColorTilesMouseMove),this._colorTiles.on("click",this,this.onColorTilesClick),this._colorTiles.size(20*this._gridSize,12*this._gridSize),this._colorPanel.on("mousedown",this,this.onPanelMouseDown),this.bgColor=this._bgColor},C$r.onPanelMouseDown=function(C$t){C$t.stopPropagation()},C$r.changePanel=function(){this._panelChanged=!1;var C$t=this._colorPanel.graphics;C$t.clear(),C$t.drawRect(0,0,230,166,this._bgColor,this._borderColor),this.drawBlock(this._selectedColor),this._colorInput.borderColor=this._borderColor,this._colorInput.bgColor=this._inputBgColor,this._colorInput.color=this._inputColor,(C$t=this._colorTiles.graphics).clear();for(var C$e=[0,3355443,6710886,10066329,13421772,16777215,16711680,65280,255,16776960,65535,16711935],C$i=0;C$i<12;C$i++)for(var C$n=0;C$n<20;C$n++){var C$r=C$I.toColor(0===C$n?C$e[C$i]:1===C$n?0:51*(((3*C$i+C$n/6)%3<<0)+3*(C$i/6<<0))<<16|C$n%6*51<<8|(C$i<<0)%6*51);this._colors.push(C$r);var C$s=C$n*this._gridSize,C$a=C$i*this._gridSize;C$t.drawRect(C$s,C$a,this._gridSize,this._gridSize,C$r,"#000000")}},C$r.onColorButtonClick=function(C$t){this._colorPanel.parent?this.close():this.open()},C$r.open=function(){var C$t=this.localToGlobal(new C$x),C$e=C$t.x+this._colorPanel.width<=C$f.stage.width?C$t.x:C$f.stage.width-this._colorPanel.width,C$i=C$t.y+this._colorButton.height;C$i=C$i+this._colorPanel.height<=C$f.stage.height?C$i:C$t.y-this._colorPanel.height,this._colorPanel.pos(C$e,C$i),this._colorPanel.zOrder=1001,C$f._currentStage.addChild(this._colorPanel),C$f.stage.on("mousedown",this,this.removeColorBox)},C$r.close=function(){C$f.stage.off("mousedown",this,this.removeColorBox),this._colorPanel.removeSelf()},C$r.removeColorBox=function(C$t){this.close()},C$r.onColorFieldKeyDown=function(C$t){13==C$t.keyCode&&(this._colorInput.text?this.selectedColor=this._colorInput.text:this.selectedColor=null,this.close(),C$t.stopPropagation())},C$r.onColorInputChange=function(C$t){this._colorInput.text?this.drawBlock(this._colorInput.text):this.drawBlock("#FFFFFF")},C$r.onColorTilesClick=function(C$t){this.selectedColor=this.getColorByMouse(),this.close()},C$r.onColorTilesMouseMove=function(C$t){this._colorInput.focus=!1;var C$e=this.getColorByMouse();this._colorInput.text=C$e,this.drawBlock(C$e)},C$r.getColorByMouse=function(){var C$t=this._colorTiles.getMousePoint(),C$e=Math.floor(C$t.x/this._gridSize),C$t=Math.floor(C$t.y/this._gridSize);return this._colors[20*C$t+C$e]},C$r.drawBlock=function(C$t){var C$e=this._colorBlock.graphics;C$e.clear(),C$e.drawRect(0,0,50,20,C$t||"#ffffff",this._borderColor),C$t||C$e.drawLine(0,0,50,20,"#ff0000")},C$r.changeColor=function(){var C$t=this.graphics;C$t.clear();var C$e=this._selectedColor||"#000000";C$t.drawRect(0,0,this._colorButton.width,this._colorButton.height,C$e)},C$r._setPanelChanged=function(){this._panelChanged||(this._panelChanged=!0,this.callLater(this.changePanel))},C$e(0,C$r,"inputBgColor",function(){return this._inputBgColor},function(C$t){this._inputBgColor=C$t,this._setPanelChanged()}),C$e(0,C$r,"selectedColor",function(){return this._selectedColor},function(C$t){this._selectedColor!=C$t&&(this._selectedColor=this._colorInput.text=C$t,this.drawBlock(C$t),this.changeColor(),this.changeHandler&&this.changeHandler.runWith(this._selectedColor),this.event("change",C$u.EMPTY.setTo("change",this,this)))}),C$e(0,C$r,"skin",function(){return this._colorButton.skin},function(C$t){this._colorButton.skin=C$t,this.changeColor()}),C$e(0,C$r,"bgColor",function(){return this._bgColor},function(C$t){this._bgColor=C$t,this._setPanelChanged()}),C$e(0,C$r,"borderColor",function(){return this._borderColor},function(C$t){this._borderColor=C$t,this._setPanelChanged()}),C$e(0,C$r,"inputColor",function(){return this._inputColor},function(C$t){this._inputColor=C$t,this._setPanelChanged()}),ixn143),C$z=(C$t(g5bq0,"laya.ui.ComboBox",C$bt=C$n),(C$i=g5bq0.prototype).destroy=function(C$t){C$bt.prototype.destroy.call(this,C$t=void 0===C$t?!0:C$t),this._button&&this._button.destroy(C$t),this._list&&this._list.destroy(C$t),this._button=null,this._list=null,this._itemColors=null,this._labels=null,this._selectHandler=null},C$i.createChildren=function(){this.addChild(this._button=new C$B),this._button.text.align="left",this._button.labelPadding="0,0,0,5",this._button.on("mousedown",this,this.onButtonMouseDown)},C$i._createList=function(){this._list=new C$Y,this._scrollBarSkin&&(this._list.vScrollBarSkin=this._scrollBarSkin),this._setListEvent(this._list)},C$i._setListEvent=function(C$t){this._list.selectEnable=!0,this._list.on("mousedown",this,this.onListDown),this._list.mouseHandler=C$g.create(this,this.onlistItemMouse,null,!1),this._list.scrollBar&&this._list.scrollBar.on("mousedown",this,this.onScrollBarDown)},C$i.onListDown=function(C$t){C$t.stopPropagation()},C$i.onScrollBarDown=function(C$t){C$t.stopPropagation()},C$i.onButtonMouseDown=function(C$t){this.callLater(this.switchTo,[!this._isOpen])},C$i.changeList=function(){this._listChanged=!1;var C$t=this.width-2,C$e=this._itemColors[2];this._itemHeight=this._itemSize+6,this._list.itemRender=this.itemRender||{type:"Box",child:[{type:"Label",props:{name:"label",x:1,padding:"3,3,3,3",width:C$t,height:this._itemHeight,fontSize:this._itemSize,color:C$e}}]},this._list.repeatY=this._visibleNum,this._list.refresh()},C$i.onlistItemMouse=function(C$t,C$e){C$t=C$t.type;var C$i;"mouseover"===C$t||"mouseout"===C$t?this._isCustomList||(!(C$i=this._list.getCell(C$e))||(C$i=C$i.getChildByName("label"))&&("mouseover"===C$t?(C$i.bgColor=this._itemColors[0],C$i.color=this._itemColors[1]):(C$i.bgColor=null,C$i.color=this._itemColors[2]))):"click"===C$t&&(this.selectedIndex=C$e,this.isOpen=!1)},C$i.switchTo=function(C$t){this.isOpen=C$t},C$i.changeOpen=function(){this.isOpen=!this._isOpen},C$i.changeItem=function(){var C$t;this._itemChanged=!1,this._listHeight=0<this._labels.length?Math.min(this._visibleNum,this._labels.length)*this._itemHeight:this._itemHeight,this._isCustomList||((C$t=this._list.graphics).clear(),C$t.drawRect(0,0,this.width-1,this._listHeight,this._itemColors[4],this._itemColors[3]));for(var C$e=this._list.array||[],C$i=C$e.length=0,C$n=this._labels.length;C$i<C$n;C$i++)C$e.push({label:this._labels[C$i]});this._list.height=this._listHeight,this._list.array=C$e},C$i.changeSelected=function(){this._button.label=this.selectedLabel},C$i._onStageMouseWheel=function(C$t){this._list&&!this._list.contains(C$t.target)&&this.removeList(null)},C$i.removeList=function(C$t){C$f.stage.off("mousedown",this,this.removeList),C$f.stage.off("mousewheel",this,this._onStageMouseWheel),this.isOpen=!1},C$e(0,C$i,"selectedIndex",function(){return this._selectedIndex},function(C$t){this._selectedIndex!=C$t&&(this._selectedIndex=C$t,0<this._labels.length?this.changeSelected():this.callLater(this.changeSelected),this.event("change",[C$u.EMPTY.setTo("change",this,this)]),this._selectHandler&&this._selectHandler.runWith(this._selectedIndex))}),C$e(0,C$i,"measureHeight",function(){return this._button.height}),C$e(0,C$i,"skin",function(){return this._button.skin},function(C$t){this._button.skin!=C$t&&(this._button.skin=C$t,this._listChanged=!0)}),C$e(0,C$i,"measureWidth",function(){return this._button.width}),C$e(0,C$i,"width",C$bt.prototype._$get_width,function(C$t){C$f.superSet(C$n,this,"width",C$t),this._button.width=this._width,this._itemChanged=!0,this._listChanged=!0}),C$e(0,C$i,"selectedLabel",function(){return-1<this._selectedIndex&&this._selectedIndex<this._labels.length?this._labels[this._selectedIndex]:null},function(C$t){this.selectedIndex=this._labels.indexOf(C$t)}),C$e(0,C$i,"labels",function(){return this._labels.join(",")},function(C$t){0<this._labels.length&&(this.selectedIndex=-1),C$t?this._labels=C$t.split(","):this._labels.length=0,this._itemChanged=!0}),C$e(0,C$i,"height",C$bt.prototype._$get_height,function(C$t){C$f.superSet(C$n,this,"height",C$t),this._button.height=this._height}),C$e(0,C$i,"selectHandler",function(){return this._selectHandler},function(C$t){this._selectHandler=C$t}),C$e(0,C$i,"visibleNum",function(){return this._visibleNum},function(C$t){this._visibleNum=C$t,this._listChanged=!0}),C$e(0,C$i,"labelBold",function(){return this._button.text.bold},function(C$t){this._button.text.bold=C$t}),C$e(0,C$i,"itemColors",function(){return String(this._itemColors)},function(C$t){this._itemColors=C$I.fillArray(this._itemColors,C$t,String),this._listChanged=!0}),C$e(0,C$i,"itemSize",function(){return this._itemSize},function(C$t){this._itemSize=C$t,this._listChanged=!0}),C$e(0,C$i,"scrollBar",function(){return this.list.scrollBar}),C$e(0,C$i,"isOpen",function(){return this._isOpen},function(C$t){var C$e;this._isOpen!=C$t&&(this._isOpen=C$t,this._button.selected=this._isOpen,this._isOpen?(this._list||this._createList(),this._listChanged&&!this._isCustomList&&this.changeList(),this._itemChanged&&this.changeItem(),C$e=(C$e=(C$t=this.localToGlobal(C$x.TEMP.setTo(0,0))).y+this._button.height)+this._listHeight<=C$f.stage.height?C$e:C$t.y-this._listHeight,this._list.pos(C$t.x,C$e),this._list.zOrder=1001,C$f._currentStage.addChild(this._list),C$f.stage.once("mousedown",this,this.removeList),C$f.stage.on("mousewheel",this,this._onStageMouseWheel),this._list.selectedIndex=this._selectedIndex):this._list&&this._list.removeSelf())}),C$e(0,C$i,"scrollBarSkin",function(){return this._scrollBarSkin},function(C$t){this._scrollBarSkin=C$t}),C$e(0,C$i,"sizeGrid",function(){return this._button.sizeGrid},function(C$t){this._button.sizeGrid=C$t}),C$e(0,C$i,"button",function(){return this._button}),C$e(0,C$i,"list",function(){return this._list||this._createList(),this._list},function(C$t){C$t&&(C$t.removeSelf(),this._isCustomList=!0,this._list=C$t,this._setListEvent(C$t),this._itemHeight=C$t.getCell(0).height+C$t.spaceY)}),C$e(0,C$i,"dataSource",C$bt.prototype._$get_dataSource,function(C$t){"number"==typeof(this._dataSource=C$t)&&Math.floor(C$t)==C$t||"string"==typeof C$t?this.selectedIndex=parseInt(C$t):C$t instanceof Array?this.labels=C$t.join(","):C$f.superSet(C$n,this,"dataSource",C$t)}),C$e(0,C$i,"labelColors",function(){return this._button.labelColors},function(C$t){this._button.labelColors!=C$t&&(this._button.labelColors=C$t)}),C$e(0,C$i,"labelPadding",function(){return this._button.text.padding.join(",")},function(C$t){this._button.text.padding=C$I.fillArray(C$A.labelPadding,C$t,Number)}),C$e(0,C$i,"labelSize",function(){return this._button.text.fontSize},function(C$t){this._button.text.fontSize=C$t}),C$e(0,C$i,"labelFont",function(){return this._button.text.font},function(C$t){this._button.text.font=C$t}),C$e(0,C$i,"stateNum",function(){return this._button.stateNum},function(C$t){this._button.stateNum=C$t}),g5bq0),C$O=(C$t(etz8c,"laya.ui.ScrollBar",C$yt=C$n),(C$r=etz8c.prototype).destroy=function(C$t){void 0===C$t&&(C$t=!0),this.stopScroll(),this.target=null,C$yt.prototype.destroy.call(this,C$t),this.upButton&&this.upButton.destroy(C$t),this.downButton&&this.downButton.destroy(C$t),this.slider&&this.slider.destroy(C$t),this.upButton=this.downButton=null,this.slider=null,this.changeHandler=null,this._offsets=null},C$r.createChildren=function(){this.addChild(this.slider=new C$F),this.addChild(this.upButton=new C$B),this.addChild(this.downButton=new C$B)},C$r.initialize=function(){this.slider.showLabel=!1,this.slider.on("change",this,this.onSliderChange),this.slider.setSlider(0,0,0),this.upButton.on("mousedown",this,this.onButtonMouseDown),this.downButton.on("mousedown",this,this.onButtonMouseDown)},C$r.onSliderChange=function(){this._value!=this.slider.value&&(this.value=this.slider.value)},C$r.onButtonMouseDown=function(C$t){C$t=C$t.currentTarget===this.upButton;this.slide(C$t),C$f.timer.once(C$A.scrollBarDelayTime,this,this.startLoop,[C$t]),C$f.stage.once("mouseup",this,this.onStageMouseUp)},C$r.startLoop=function(C$t){C$f.timer.frameLoop(1,this,this.slide,[C$t])},C$r.slide=function(C$t){C$t?this.value-=this._scrollSize:this.value+=this._scrollSize},C$r.onStageMouseUp=function(C$t){C$f.timer.clear(this,this.startLoop),C$f.timer.clear(this,this.slide)},C$r.changeScrollBar=function(){this.upButton.visible=this._showButtons,this.downButton.visible=this._showButtons,this._showButtons&&(this.upButton.skin=this._skin.replace(".png","$up.png"),this.downButton.skin=this._skin.replace(".png","$down.png")),this.slider.isVertical?this.slider.y=this._showButtons?this.upButton.height:0:this.slider.x=this._showButtons?this.upButton.width:0,this.resetPositions(),this.repaint()},C$r.changeSize=function(){C$yt.prototype.changeSize.call(this),this.repaint(),this.resetPositions(),this.event("change"),this.changeHandler&&this.changeHandler.runWith(this.value)},C$r.resetPositions=function(){this.slider.isVertical?this.slider.height=this.height-(this._showButtons?this.upButton.height+this.downButton.height:0):this.slider.width=this.width-(this._showButtons?this.upButton.width+this.downButton.width:0),this.resetButtonPosition()},C$r.resetButtonPosition=function(){this.slider.isVertical?this.downButton.y=this.slider.y+this.slider.height:this.downButton.x=this.slider.x+this.slider.width},C$r.setScroll=function(C$t,C$e,C$i){this.runCallLater(this.changeSize),this.slider.setSlider(C$t,C$e,C$i),this.slider.bar.visible=0<C$e,!this._hide&&this.autoHide&&(this.visible=!1)},C$r.onTargetMouseWheel=function(C$t){this.value-=C$t.delta*this._scrollSize,this.target=this._target},C$r.onTargetMouseDown=function(C$t){this._clickOnly=!0,this._lastOffset=0,this._checkElastic=!1,this._lastPoint||(this._lastPoint=new C$x),this._lastPoint.setTo(C$f.stage.mouseX,C$f.stage.mouseY),C$f.timer.clear(this,this.tweenMove),C$S.clearTween(this),C$f.stage.once("mouseup",this,this.onStageMouseUp2),C$f.stage.once("mouseout",this,this.onStageMouseUp2),C$f.timer.frameLoop(1,this,this.loop)},C$r.loop=function(){var C$t=C$f.stage.mouseY,C$e=C$f.stage.mouseX;if(this._lastOffset=this.isVertical?C$t-this._lastPoint.y:C$e-this._lastPoint.x,this._clickOnly){if(!(1<Math.abs(this._lastOffset*(this.isVertical?C$f.stage._canvasTransform.getScaleY():C$f.stage._canvasTransform.getScaleX()))))return;this._clickOnly=!1,this._offsets||(this._offsets=[]),this._offsets.length=0,this._target.mouseEnabled=!1,!this.hide&&this.autoHide&&(this.alpha=1,this.visible=!0),this.event("start")}this._offsets.push(this._lastOffset),this._lastPoint.x=C$e,this._lastPoint.y=C$t,0!==this._lastOffset&&(this._checkElastic||(0<this.elasticDistance?this._checkElastic||0==this._lastOffset||(0<this._lastOffset&&this._value<=this.min||this._lastOffset<0&&this._value>=this.max?(this._isElastic=!0,this._checkElastic=!0):this._isElastic=!1):this._checkElastic=!0),this._isElastic?this._value<=this.min?this.value-=this._lastOffset*Math.max(0,1-(this.min-this._value)/this.elasticDistance):this._value>=this.max&&(this.value-=this._lastOffset*Math.max(0,1-(this._value-this.max)/this.elasticDistance)):this.value-=this._lastOffset)},C$r.onStageMouseUp2=function(C$t){if(C$f.stage.off("mouseup",this,this.onStageMouseUp2),C$f.stage.off("mouseout",this,this.onStageMouseUp2),C$f.timer.clear(this,this.loop),!(this._clickOnly&&this._value>=this.min&&this._value<=this.max))if(this._target.mouseEnabled=!0,this._isElastic)this._value<this.min?C$S.to(this,{value:this.min},this.elasticBackTime,C$l.sineOut,C$g.create(this,this.elasticOver)):this._value>this.max&&C$S.to(this,{value:this.max},this.elasticBackTime,C$l.sineOut,C$g.create(this,this.elasticOver));else if(this._offsets){this._offsets.length<1&&(this._offsets[0]=this.isVertical?C$f.stage.mouseY-this._lastPoint.y:C$f.stage.mouseX-this._lastPoint.x);for(var C$e=0,C$i=Math.min(this._offsets.length,3),C$n=0;C$n<C$i;C$n++)C$e+=this._offsets[this._offsets.length-1-C$n];var C$r;this._lastOffset=C$e/C$i,(C$e=Math.abs(this._lastOffset))<2?this.event("end"):(60<C$e&&(this._lastOffset=0<this._lastOffset?60:-60),C$r=Math.round(Math.abs(this.elasticDistance*(this._lastOffset/240))),C$f.timer.frameLoop(1,this,this.tweenMove,[C$r]))}},C$r.elasticOver=function(){this._isElastic=!1,!this.hide&&this.autoHide&&C$S.to(this,{alpha:0},500),this.event("end")},C$r.tweenMove=function(C$t){this._lastOffset*=this.rollRatio;var C$e=NaN;0<C$t&&(0<this._lastOffset&&this.value<=this.min?(this._isElastic=!0,C$e=.5*-(this.min-C$t-this.value),this._lastOffset>C$e&&(this._lastOffset=C$e)):this._lastOffset<0&&this.value>=this.max&&(this._isElastic=!0,C$e=.5*-(this.max+C$t-this.value),this._lastOffset<C$e&&(this._lastOffset=C$e))),this.value-=this._lastOffset,Math.abs(this._lastOffset)<1&&(C$f.timer.clear(this,this.tweenMove),this._isElastic?this._value<this.min?C$S.to(this,{value:this.min},this.elasticBackTime,C$l.sineOut,C$g.create(this,this.elasticOver)):this._value>this.max?C$S.to(this,{value:this.max},this.elasticBackTime,C$l.sineOut,C$g.create(this,this.elasticOver)):this.elasticOver():(this.event("end"),!this.hide&&this.autoHide&&C$S.to(this,{alpha:0},500)))},C$r.stopScroll=function(){this.onStageMouseUp2(null),C$f.timer.clear(this,this.tweenMove),C$S.clearTween(this)},C$e(0,C$r,"measureHeight",function(){return this.slider.isVertical?100:this.slider.height}),C$e(0,C$r,"skin",function(){return this._skin},function(C$t){this._skin!=C$t&&(this._skin=C$t,this.slider.skin=this._skin,this.callLater(this.changeScrollBar))}),C$e(0,C$r,"max",function(){return this.slider.max},function(C$t){this.slider.max=C$t}),C$e(0,C$r,"showButtons",function(){return this._showButtons},function(C$t){this._showButtons=C$t,this.callLater(this.changeScrollBar)}),C$e(0,C$r,"measureWidth",function(){return this.slider.isVertical?this.slider.width:100}),C$e(0,C$r,"min",function(){return this.slider.min},function(C$t){this.slider.min=C$t}),C$e(0,C$r,"value",function(){return this._value},function(C$t){C$t!==this._value&&(this._value=C$t,this._isElastic||(this.slider._value!=C$t&&(this.slider._value=C$t,this.slider.changeValue()),this._value=this.slider._value),this.event("change"),this.changeHandler&&this.changeHandler.runWith(this._value))}),C$e(0,C$r,"isVertical",function(){return this.slider.isVertical},function(C$t){this.slider.isVertical=C$t}),C$e(0,C$r,"sizeGrid",function(){return this.slider.sizeGrid},function(C$t){this.slider.sizeGrid=C$t}),C$e(0,C$r,"scrollSize",function(){return this._scrollSize},function(C$t){this._scrollSize=C$t}),C$e(0,C$r,"dataSource",C$yt.prototype._$get_dataSource,function(C$t){"number"==typeof(this._dataSource=C$t)||"string"==typeof C$t?this.value=Number(C$t):C$f.superSet(C$n,this,"dataSource",C$t)}),C$e(0,C$r,"thumbPercent",function(){return this._thumbPercent},function(C$t){this.runCallLater(this.changeScrollBar),this.runCallLater(this.changeSize),this._thumbPercent=C$t=1<=C$t?.99:C$t,this.scaleBar&&(this.slider.isVertical?this.slider.bar.height=Math.max(this.slider.height*C$t,C$A.scrollBarMinNum):this.slider.bar.width=Math.max(this.slider.width*C$t,C$A.scrollBarMinNum))}),C$e(0,C$r,"target",function(){return this._target},function(C$t){this._target&&(this._target.off("mousewheel",this,this.onTargetMouseWheel),this._target.off("mousedown",this,this.onTargetMouseDown)),(this._target=C$t)&&(this._mouseWheelEnable&&this._target.on("mousewheel",this,this.onTargetMouseWheel),this._touchScrollEnable&&this._target.on("mousedown",this,this.onTargetMouseDown))}),C$e(0,C$r,"hide",function(){return this._hide},function(C$t){this._hide=C$t,this.visible=!C$t}),C$e(0,C$r,"touchScrollEnable",function(){return this._touchScrollEnable},function(C$t){this._touchScrollEnable=C$t,this.target=this._target}),C$e(0,C$r,"mouseWheelEnable",function(){return this._mouseWheelEnable},function(C$t){this._mouseWheelEnable=C$t,this.target=this._target}),C$e(0,C$r,"tick",function(){return this.slider.tick},function(C$t){this.slider.tick=C$t}),etz8c),C$F=(C$t(c8tgd6,"laya.ui.Slider",C$xt=C$n),(C$i=c8tgd6.prototype).destroy=function(C$t){C$xt.prototype.destroy.call(this,C$t=void 0===C$t?!0:C$t),this._bg&&this._bg.destroy(C$t),this._bar&&this._bar.destroy(C$t),this._progress&&this._progress.destroy(C$t),this._bg=null,this._bar=null,this._progress=null,this.changeHandler=null},C$i.createChildren=function(){this.addChild(this._bg=new C$V),this.addChild(this._bar=new C$B)},C$i.initialize=function(){this._bar.on("mousedown",this,this.onBarMouseDown),this._bg.sizeGrid=this._bar.sizeGrid="4,4,4,4,0",this._progress&&(this._progress.sizeGrid=this._bar.sizeGrid),this.allowClickBack=!0},C$i.onBarMouseDown=function(C$t){this._globalSacle||(this._globalSacle=new C$x),this._globalSacle.setTo(this.globalScaleX||.01,this.globalScaleY||.01),this._maxMove=this.isVertical?this.height-this._bar.height:this.width-this._bar.width,this._tx=C$f.stage.mouseX,this._ty=C$f.stage.mouseY,C$f.stage.on("mousemove",this,this.mouseMove),C$f.stage.once("mouseup",this,this.mouseUp),C$f.stage.once("mouseout",this,this.mouseUp),this.showValueText()},C$i.showValueText=function(){var C$t;this.showLabel&&(C$t=laya.ui.Slider.label,this.addChild(C$t),C$t.textField.changeText(this._value+""),this.isVertical?(C$t.x=this._bar.x+20,C$t.y=.5*(this._bar.height-C$t.height)+this._bar.y):(C$t.y=this._bar.y-20,C$t.x=.5*(this._bar.width-C$t.width)+this._bar.x))},C$i.hideValueText=function(){laya.ui.Slider.label&&laya.ui.Slider.label.removeSelf()},C$i.mouseUp=function(C$t){C$f.stage.off("mousemove",this,this.mouseMove),C$f.stage.off("mouseup",this,this.mouseUp),C$f.stage.off("mouseout",this,this.mouseUp),this.sendChangeEvent("changed"),this.hideValueText()},C$i.mouseMove=function(C$t){var C$e=this._value;this.isVertical?(this._bar.y+=(C$f.stage.mouseY-this._ty)/this._globalSacle.y,this._bar.y>this._maxMove?this._bar.y=this._maxMove:this._bar.y<0&&(this._bar.y=0),this._value=this._bar.y/this._maxMove*(this._max-this._min)+this._min,this._progress&&(this._progress.height=this._bar.y+.5*this._bar.height)):(this._bar.x+=(C$f.stage.mouseX-this._tx)/this._globalSacle.x,this._bar.x>this._maxMove?this._bar.x=this._maxMove:this._bar.x<0&&(this._bar.x=0),this._value=this._bar.x/this._maxMove*(this._max-this._min)+this._min,this._progress&&(this._progress.width=this._bar.x+.5*this._bar.width)),this._tx=C$f.stage.mouseX,this._ty=C$f.stage.mouseY;var C$i=Math.pow(10,(this._tick+"").length-1);this._value=Math.round(Math.round(this._value/this._tick)*this._tick*C$i)/C$i,this._value!=C$e&&this.sendChangeEvent(),this.showValueText()},C$i.sendChangeEvent=function(C$t){this.event(C$t=void 0===C$t?"change":C$t),this.changeHandler&&this.changeHandler.runWith(this._value)},C$i.setBarPoint=function(){this.isVertical?this._bar.x=Math.round(.5*(this._bg.width-this._bar.width)):this._bar.y=Math.round(.5*(this._bg.height-this._bar.height))},C$i.changeSize=function(){C$xt.prototype.changeSize.call(this),this.isVertical?this._bg.height=this.height:this._bg.width=this.width,this.setBarPoint(),this.changeValue()},C$i.setSlider=function(C$t,C$e,C$i){this._value=-1,this._min=C$t,this._max=C$t<C$e?C$e:C$t,this.value=C$i<C$t?C$t:C$e<C$i?C$e:C$i},C$i.changeValue=function(){var C$t=Math.pow(10,(this._tick+"").length-1);this._value=Math.round(Math.round(this._value/this._tick)*this._tick*C$t)/C$t,this._value=this._value>this._max?this._max:this._value<this._min?this._min:this._value;C$t=this._max-this._min;0===C$t&&(C$t=1),this.isVertical?(this._bar.y=(this._value-this._min)/C$t*(this.height-this._bar.height),this._progress&&(this._progress.height=this._bar.y+.5*this._bar.height)):(this._bar.x=(this._value-this._min)/C$t*(this.width-this._bar.width),this._progress&&(this._progress.width=this._bar.x+.5*this._bar.width))},C$i.onBgMouseDown=function(C$t){var C$e=this._bg.getMousePoint();this.isVertical?this.value=C$e.y/(this.height-this._bar.height)*(this._max-this._min)+this._min:this.value=C$e.x/(this.width-this._bar.width)*(this._max-this._min)+this._min},C$e(0,C$i,"measureHeight",function(){return Math.max(this._bg.height,this._bar.height)}),C$e(0,C$i,"skin",function(){return this._skin},function(C$t){this._skin!=C$t&&(this._skin=C$t,this._bg.skin=this._skin,this._bar.skin=this._skin.replace(".png","$bar.png"),C$t=this._skin.replace(".png","$progress.png"),C$p.getRes(C$t)&&(this._progress||(this.addChild(this._progress=new C$V),this._progress.sizeGrid=this._bar.sizeGrid,this.setChildIndex(this._progress,1)),this._progress.skin=C$t),this.setBarPoint(),this.callLater(this.changeValue))}),C$e(0,C$i,"allowClickBack",function(){return this._allowClickBack},function(C$t){this._allowClickBack!=C$t&&((this._allowClickBack=C$t)?this._bg.on("mousedown",this,this.onBgMouseDown):this._bg.off("mousedown",this,this.onBgMouseDown))}),C$e(0,C$i,"max",function(){return this._max},function(C$t){this._max!=C$t&&(this._max=C$t,this.callLater(this.changeValue))}),C$e(0,C$i,"measureWidth",function(){return Math.max(this._bg.width,this._bar.width)}),C$e(0,C$i,"tick",function(){return this._tick},function(C$t){this._tick!=C$t&&(this._tick=C$t,this.callLater(this.changeValue))}),C$e(0,C$i,"sizeGrid",function(){return this._bg.sizeGrid},function(C$t){this._bg.sizeGrid=C$t,this._bar.sizeGrid=C$t,this._progress&&(this._progress.sizeGrid=this._bar.sizeGrid)}),C$e(0,C$i,"min",function(){return this._min},function(C$t){this._min!=C$t&&(this._min=C$t,this.callLater(this.changeValue))}),C$e(0,C$i,"value",function(){return this._value},function(C$t){var C$e;this._value!=C$t&&(C$e=this._value,this._value=C$t,this.changeValue(),this._value!=C$e&&this.sendChangeEvent())}),C$e(0,C$i,"dataSource",C$xt.prototype._$get_dataSource,function(C$t){"number"==typeof(this._dataSource=C$t)||"string"==typeof C$t?this.value=Number(C$t):C$f.superSet(C$n,this,"dataSource",C$t)}),C$e(0,C$i,"bar",function(){return this._bar}),C$a(c8tgd6,["label",function(){return this.label=new C$j}]),c8tgd6),C$V=(C$t(_zhe,"laya.ui.Image",C$vt=C$n),(C$r=_zhe.prototype).destroy=function(C$t){void 0===C$t&&(C$t=!0),C$vt.prototype.destroy.call(this,!0),this.clearLoad(),this.clearEvent(),this._bitmap&&this._bitmap.destroy(),this._bitmap=null,C$p.clearCache(this,this._skin)},C$r.dispose=function(){this.destroy(!0),C$p.clearCache(this,this._skin),this.clearEvent()},C$r.createChildren=function(){this.graphics=this._bitmap=new C$P},C$r.setSource=function(C$t,C$e){this.destroyed||C$t===this._skin&&C$e&&(this.source=C$e,this.onCompResize(),this.clearEvent())},C$r.clearEvent=function(){this._skin&&C$s.atalsNotify&&C$s.atalsNotify.off(this._skin,this,this.setSource)},C$r.clearLoad=function(){this._skin&&((this._complete||this._progress)&&C$f.loader.cancel(this._skin,this._complete,this._progress),this._complete=this._progress=null)},C$e(0,C$r,"source",function(){return this._bitmap.source},function(C$t){this._bitmap&&(this._bitmap.source=C$t,this.event("loaded"),this.repaint())}),C$e(0,C$r,"dataSource",C$vt.prototype._$get_dataSource,function(C$t){"string"==typeof(this._dataSource=C$t)?this.skin=C$t:C$f.superSet(C$n,this,"dataSource",C$t)}),C$e(0,C$r,"measureHeight",function(){return this._bitmap.height}),C$e(0,C$r,"skin",function(){return this._skin},function(C$t){var C$e;this._skin!=C$t&&(C$p.clearCache(this,this._skin),this.clearEvent(),this.clearLoad(),(this._skin=C$t)?(C$p.keepCache(this,this._skin),C$t=C$p.getRes(C$t),C$e=C$s.resAtalsObj&&C$s.resAtalsObj[this._skin],C$t?(this.source=C$t,this.onCompResize()):C$e?(C$s.atalsNotify&&C$s.atalsNotify.once(this._skin,this,this.setSource),0==this.width&&(this.width=C$e.sourceW),0==this.height&&(this.height=C$e.sourceH)):(this._complete=C$g.create(this,this.setSource,[this._skin]),this._progress=null,C$f.loader.load(this._skin,this._complete,this._progress,"image",1,!0,this._group))):this.source=null)}),C$e(0,C$r,"group",function(){return this._group},function(C$t){C$t&&this._skin&&C$p.setGroup(this._skin,C$t),this._group=C$t}),C$e(0,C$r,"sizeGrid",function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null},function(C$t){this._bitmap.sizeGrid=C$I.fillArray(C$A.defaultSizeGrid,C$t,Number)}),C$e(0,C$r,"measureWidth",function(){return this._bitmap.width}),C$e(0,C$r,"width",C$vt.prototype._$get_width,function(C$t){C$f.superSet(C$n,this,"width",C$t),this._bitmap.width=0==C$t?1e-7:C$t}),C$e(0,C$r,"height",C$vt.prototype._$get_height,function(C$t){C$f.superSet(C$n,this,"height",C$t),this._bitmap.height=0==C$t?1e-7:C$t}),_zhe),C$j=(C$t(_ez2h,"laya.ui.Label",C$gt=C$n),(C$i=_ez2h.prototype).destroy=function(C$t){C$gt.prototype.destroy.call(this,C$t=void 0===C$t?!0:C$t),this._tf=null},C$i.createChildren=function(){this.addChild(this._tf=new C$T)},C$i.changeText=function(C$t){this._tf.changeText(C$t)},C$e(0,C$i,"padding",function(){return this._tf.padding.join(",")},function(C$t){this._tf.padding=C$I.fillArray(C$A.labelPadding,C$t,Number)}),C$e(0,C$i,"bold",function(){return this._tf.bold},function(C$t){this._tf.bold=C$t}),C$e(0,C$i,"align",function(){return this._tf.align},function(C$t){this._tf.align=C$t}),C$e(0,C$i,"text",function(){return this._tf.text},function(C$t){this._tf.text!=C$t&&(C$t=C$t&&C$I.adptString(C$t+""),this._tf.text=C$t,this.event("change"),this._width&&this._height||this.onCompResize())}),C$e(0,C$i,"italic",function(){return this._tf.italic},function(C$t){this._tf.italic=C$t}),C$e(0,C$i,"wordWrap",function(){return this._tf.wordWrap},function(C$t){this._tf.wordWrap=C$t}),C$e(0,C$i,"font",function(){return this._tf.font},function(C$t){this._tf.font=C$t}),C$e(0,C$i,"dataSource",C$gt.prototype._$get_dataSource,function(C$t){"number"==typeof(this._dataSource=C$t)||"string"==typeof C$t?this.text=C$t+"":C$f.superSet(C$n,this,"dataSource",C$t)}),C$e(0,C$i,"color",function(){return this._tf.color},function(C$t){this._tf.color=C$t}),C$e(0,C$i,"valign",function(){return this._tf.valign},function(C$t){this._tf.valign=C$t}),C$e(0,C$i,"leading",function(){return this._tf.leading},function(C$t){this._tf.leading=C$t}),C$e(0,C$i,"fontSize",function(){return this._tf.fontSize},function(C$t){this._tf.fontSize=C$t}),C$e(0,C$i,"bgColor",function(){return this._tf.bgColor},function(C$t){this._tf.bgColor=C$t}),C$e(0,C$i,"borderColor",function(){return this._tf.borderColor},function(C$t){this._tf.borderColor=C$t}),C$e(0,C$i,"stroke",function(){return this._tf.stroke},function(C$t){this._tf.stroke=C$t}),C$e(0,C$i,"strokeColor",function(){return this._tf.strokeColor},function(C$t){this._tf.strokeColor=C$t}),C$e(0,C$i,"textField",function(){return this._tf}),C$e(0,C$i,"measureWidth",function(){return this._tf.width}),C$e(0,C$i,"measureHeight",function(){return this._tf.height}),C$e(0,C$i,"width",function(){return this._width||this._tf.text?C$f.superGet(C$n,this,"width"):0},function(C$t){C$f.superSet(C$n,this,"width",C$t),this._tf.width=C$t}),C$e(0,C$i,"height",function(){return this._height||this._tf.text?C$f.superGet(C$n,this,"height"):0},function(C$t){C$f.superSet(C$n,this,"height",C$t),this._tf.height=C$t}),C$e(0,C$i,"overflow",function(){return this._tf.overflow},function(C$t){this._tf.overflow=C$t}),C$e(0,C$i,"underline",function(){return this._tf.underline},function(C$t){this._tf.underline=C$t}),C$e(0,C$i,"underlineColor",function(){return this._tf.underlineColor},function(C$t){this._tf.underlineColor=C$t}),_ez2h),C$U=(C$t(m3ua,"laya.ui.ProgressBar",C$mt=C$n),(C$r=m3ua.prototype).destroy=function(C$t){C$mt.prototype.destroy.call(this,C$t=void 0===C$t?!0:C$t),this._bg&&this._bg.destroy(C$t),this._bar&&this._bar.destroy(C$t),this._bg=this._bar=null,this.changeHandler=null},C$r.createChildren=function(){this.addChild(this._bg=new C$V),this.addChild(this._bar=new C$V)},C$r.changeValue=function(){var C$t,C$e,C$i;this.sizeGrid?(C$e=this.sizeGrid.split(","),C$t=Number(C$e[3]),C$e=Number(C$e[1]),C$i=(this.width-C$t-C$e)*this._value,this._bar.width=C$t+C$e+C$i,this._bar.visible=this._bar.width>C$t+C$e):this._bar.width=this.width*this._value},C$e(0,C$r,"measureHeight",function(){return this._bg.height}),C$e(0,C$r,"skin",function(){return this._skin},function(C$t){this._skin!=C$t&&(this._skin=C$t,this._bg.skin=this._skin,this._bar.skin=this._skin.replace(".png","$bar.png"),this.callLater(this.changeValue))}),C$e(0,C$r,"measureWidth",function(){return this._bg.width}),C$e(0,C$r,"height",C$mt.prototype._$get_height,function(C$t){C$f.superSet(C$n,this,"height",C$t),this._bg.height=this._height,this._bar.height=this._height}),C$e(0,C$r,"bar",function(){return this._bar}),C$e(0,C$r,"value",function(){return this._value},function(C$t){this._value!=C$t&&(this._value=C$t=1<C$t?1:C$t<0?0:C$t,this.callLater(this.changeValue),this.event("change"),this.changeHandler&&this.changeHandler.runWith(C$t))}),C$e(0,C$r,"bg",function(){return this._bg}),C$e(0,C$r,"sizeGrid",function(){return this._bg.sizeGrid},function(C$t){this._bg.sizeGrid=this._bar.sizeGrid=C$t}),C$e(0,C$r,"width",C$mt.prototype._$get_width,function(C$t){C$f.superSet(C$n,this,"width",C$t),this._bg.width=this._width,this.callLater(this.changeValue)}),C$e(0,C$r,"dataSource",C$mt.prototype._$get_dataSource,function(C$t){"number"==typeof(this._dataSource=C$t)||"string"==typeof C$t?this.value=Number(C$t):C$f.superSet(C$n,this,"dataSource",C$t)}),m3ua),C$q=(C$t(petz_,"laya.ui.TipManager",C$n),(C$i=petz_.prototype)._onStageHideTip=function(C$t){C$f.timer.clear(this,this._showTip),this.closeAll(),this.removeSelf()},C$i._onStageShowTip=function(C$t){C$f.timer.once(petz_.tipDelay,this,this._showTip,[C$t],!0)},C$i._showTip=function(C$t){var C$e;"string"==typeof C$t?(C$e=String(C$t),Boolean(C$e)&&this._defaultTipHandler(C$e)):C$t instanceof laya.utils.Handler?C$t.run():"function"==typeof C$t&&C$t.apply(),C$f.stage.on("mousemove",this,this._onStageMouseMove),C$f.stage.on("mousedown",this,this._onStageMouseDown),this._onStageMouseMove(null)},C$i._onStageMouseDown=function(C$t){this.closeAll()},C$i._onStageMouseMove=function(C$t){this._showToStage(this,petz_.offsetX,petz_.offsetY)},C$i._showToStage=function(C$t,C$e,C$i){void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0);var C$n=C$t.getBounds();C$t.x=C$f.stage.mouseX+C$e,C$t.y=C$f.stage.mouseY+C$i,C$t.x+C$n.width>C$f.stage.width&&(C$t.x-=C$n.width+C$e),C$t.y+C$n.height>C$f.stage.height&&(C$t.y-=C$n.height+C$i)},C$i.closeAll=function(){C$f.timer.clear(this,this._showTip),C$f.stage.off("mousemove",this,this._onStageMouseMove),C$f.stage.off("mousedown",this,this._onStageMouseDown),this.removeChildren()},C$i.showDislayTip=function(C$t){this.addChild(C$t),this._showToStage(this),C$f._currentStage.addChild(this)},C$i._showDefaultTip=function(C$t){this._tipText.text=C$t;C$t=this._tipBox.graphics;C$t.clear(),C$t.drawRect(0,0,this._tipText.width+10,this._tipText.height+10,petz_.tipBackColor),this.addChild(this._tipBox),this._showToStage(this),C$f._currentStage.addChild(this)},C$e(0,C$i,"defaultTipHandler",function(){return this._defaultTipHandler},function(C$t){this._defaultTipHandler=C$t}),petz_.offsetX=10,petz_.offsetY=15,petz_.tipTextColor="#ffffff",petz_.tipBackColor="#111111",petz_.tipDelay=200,C$t(byorq5,"laya.ui.View",C$d),(C$r=byorq5.prototype).createView=function(C$t){if(C$t.animations&&!this._idMap&&(this._idMap={}),byorq5.createComp(C$t,this,this),C$t.animations){var C$e,C$i,C$n=[],C$r=C$t.animations,C$s=0,C$a=C$r.length;for(C$s=0;C$s<C$a;C$s++){switch(C$e=new C$_,C$i=C$r[C$s],C$e._setUp(this._idMap,C$i),(this[C$i.name]=C$e)._setControlNode(this),C$i.action){case 1:C$e.play(0,!1);break;case 2:C$e.play(0,!0)}C$n.push(C$e)}this._aniList=C$n}0<this._width&&null==C$t.props.hitTestPrior&&!this.mouseThrough&&(this.hitTestPrior=!0)},C$r.onEvent=function(C$t,C$e){},C$r.loadUI=function(C$t){C$t=byorq5.uiMap[C$t];C$t&&this.createView(C$t)},C$r.destroy=function(C$t){void 0===C$t&&(C$t=!0),this._aniList&&(this._aniList.length=0),this._idMap=null,this._aniList=null,this._watchMap=null,laya.ui.Component.prototype.destroy.call(this,C$t)},C$r.changeData=function(C$t){var C$e=this._watchMap[C$t];if(C$e){console.log("change",C$t);for(var C$i=0,C$n=C$e.length;C$i<C$n;C$i++)C$e[C$i].exe(this)}},byorq5._regs=function(){for(var C$t in byorq5.uiClassMap)C$m.regClass(C$t,byorq5.uiClassMap[C$t])},byorq5.createComp=function(C$t,C$e,C$i,C$u){if(!(C$e=C$e||byorq5.getCompInstance(C$t)))return console.warn("can not create:"+C$t.type),null;var C$n=C$t.child;if(C$n)for(var C$c=C$e instanceof laya.ui.List,C$r=0,C$_=C$n.length;C$r<C$_;C$r++){var C$s=C$n[C$r];var C$a,C$o;!C$e.hasOwnProperty("itemRender")||"render"!=C$s.props.name&&"render"!==C$s.props.renderType?"Graphic"==C$s.type?C$m.addGraphicsToSprite(C$s,C$e):C$m.isDrawType(C$s.type)?C$m.addGraphicToSprite(C$s,C$e,!0):(C$c?(C$o=byorq5.createComp(C$s,null,C$i,C$a=[]),C$a.length&&(C$o._$bindData=C$a)):C$o=byorq5.createComp(C$s,null,C$i,C$u),"Script"==C$s.type?"owner"in C$o?C$o.owner=C$e:"target"in C$o&&(C$o.target=C$e):"mask"==C$s.props.renderType||"mask"==C$s.props.name?C$e.mask=C$o:C$o instanceof laya.display.Sprite&&C$e.addChild(C$o)):C$e.itemRender=C$s}var C$d=C$t.props;for(var C$h in C$d){var C$l=C$d[C$h];byorq5.eventDic[C$h]?C$l&&C$i&&C$e.on(C$h,C$i,C$i.onEvent,[C$l]):byorq5.setCompValue(C$e,C$h,C$l,C$i,C$u)}return C$f.__typeof(C$e,"laya.ui.IItem")&&C$e.initItems(),C$t.compId&&C$i&&C$i._idMap&&(C$i._idMap[C$t.compId]=C$e),C$e},byorq5.setCompValue=function(C$t,C$e,C$i,C$n,C$r){if("string"==typeof C$i&&-1<C$i.indexOf("${"))if(byorq5._sheet=byorq5._sheet?byorq5._sheet:C$m.getClass("laya.data.Table")){if(C$r)C$r.push(C$t,C$e,C$i);else if(C$n){-1==C$i.indexOf("].")&&(C$i=C$i.replace(".","[0]."));var C$s,C$a=new C$pt(C$t,C$e,C$i);C$a.exe(C$n);for(var C$u=C$i.replace(/\[.*?\]\./g,".");null!=(C$s=byorq5._parseWatchData.exec(C$u));){for(var C$o=C$s[1];null!=(C$h=byorq5._parseKeyWord.exec(C$o));){var C$h=C$h[0],C$l=C$n._watchMap[C$h]||(C$n._watchMap[C$h]=[]);C$l.push(C$a),byorq5._sheet.I.notifer.on(C$h,C$n,C$n.changeData,[C$h])}(C$l=C$n._watchMap[C$o]||(C$n._watchMap[C$o]=[])).push(C$a),byorq5._sheet.I.notifer.on(C$o,C$n,C$n.changeData,[C$o])}}}else console.warn("Can not find class Sheet");else"var"===C$e&&C$n?C$n[C$i]=C$t:"onClick"==C$e?(C$r=C$f._runScript("(function(){"+C$i+"})"),C$t.on("click",C$n,C$r)):C$t[C$e]="true"===C$i||"false"!==C$i&&C$i},byorq5.getCompInstance=function(C$t){var C$e=C$t.props?C$t.props.runtime:null;return C$e=C$e?byorq5.viewClassMap[C$e]||byorq5.uiClassMap[C$e]||C$f.__classmap[C$e]:byorq5.uiClassMap[C$t.type],C$t.props&&C$t.props.hasOwnProperty("renderType")&&"instance"==C$t.props.renderType?C$e.instance:C$e?new C$e:null},byorq5.regComponent=function(C$t,C$e){byorq5.uiClassMap[C$t]=C$e,C$m.regClass(C$t,C$e)},byorq5.regViewRuntime=function(C$t,C$e){byorq5.viewClassMap[C$t]=C$e},byorq5.uiMap={},byorq5.viewClassMap={},byorq5._sheet=null,C$a(byorq5,["uiClassMap",function(){return this.uiClassMap={ViewStack:C$J,LinkButton:C$B,TextArea:C$ht,ColorPicker:C$N,Box:C$d,Button:C$B,CheckBox:C$H,Clip:C$k,ComboBox:C$z,Component:C$n,HScrollBar:C$X,HSlider:C$K,Image:C$V,Label:C$j,List:C$Y,Panel:C$$,ProgressBar:C$U,Radio:C$Z,RadioGroup:C$at,ScrollBar:C$O,Slider:C$F,Tab:C$ot,TextInput:C$et,View:byorq5,VScrollBar:C$tt,VSlider:C$it,Tree:C$Q,HBox:C$rt,VBox:C$st,Sprite:C$w,Animation:C$o,Text:C$T,FontClip:C$G}},"eventDic",function(){return this.eventDic={mousedown:!0,mouseup:!0,mousemove:!0,mouseover:!0,mouseout:!0,click:!0,doubleclick:!0,rightmousedown:!0,rightmouseup:!0,rightclick:!0}},"_parseWatchData",function(){return this._parseWatchData=/\${(.*?)}/g},"_parseKeyWord",function(){return this._parseKeyWord=/[a-zA-Z_][a-zA-Z0-9_]*(?:(?:\.[a-zA-Z_][a-zA-Z0-9_]*)+)/g}]),byorq5.__init$=function(){function _fw2p9(C$t,C$e,C$i){this.comp=null,this.prop=null,this.value=null,this.comp=C$t,this.prop=C$e,this.value=C$i}byorq5._regs(),C$t(_fw2p9,""),_fw2p9.prototype.exe=function(C$t){var C$e=C$I.getBindFun(this.value);this.comp[this.prop]=C$e.call(this,C$t)},C$pt=_fw2p9},byorq5),C$H=(C$t(in3x1,"laya.ui.CheckBox",C$ft=C$B),(C$i=in3x1.prototype).preinitialize=function(){laya.ui.Component.prototype.preinitialize.call(this),this.toggle=!0,this._autoSize=!1},C$i.initialize=function(){C$ft.prototype.initialize.call(this),this.createText(),this._text.align="left",this._text.valign="top",this._text.width=0},C$e(0,C$i,"dataSource",C$ft.prototype._$get_dataSource,function(C$t){"boolean"==typeof(this._dataSource=C$t)?this.selected=C$t:"string"==typeof C$t?this.selected="true"===C$t:C$f.superSet(C$B,this,"dataSource",C$t)}),in3x1),C$W=(C$t(vrjy5,"laya.ui.LayoutBox",C$d),(C$r=vrjy5.prototype).addChild=function(C$t){return C$t.on("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.addChild.call(this,C$t)},C$r.onResize=function(C$t){this._setItemChanged()},C$r.addChildAt=function(C$t,C$e){return C$t.on("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.addChildAt.call(this,C$t,C$e)},C$r.removeChild=function(C$t){return C$t.off("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.removeChild.call(this,C$t)},C$r.removeChildAt=function(C$t){return this.getChildAt(C$t).off("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.removeChildAt.call(this,C$t)},C$r.refresh=function(){this._setItemChanged()},C$r.changeItems=function(){this._itemChanged=!1},C$r.sortItem=function(C$t){C$t&&C$t.sort(function(C$t,C$e){return C$t.y-C$e.y})},C$r._setItemChanged=function(){this._itemChanged||(this._itemChanged=!0,this.callLater(this.changeItems))},C$e(0,C$r,"space",function(){return this._space},function(C$t){this._space=C$t,this._setItemChanged()}),C$e(0,C$r,"align",function(){return this._align},function(C$t){this._align=C$t,this._setItemChanged()}),vrjy5),C$G=(C$t(zteh_,"laya.ui.FontClip",C$dt=C$k),(C$a=zteh_.prototype).createChildren=function(){this._bitmap=new C$P,this.on("loaded",this,this._onClipLoaded)},C$a._onClipLoaded=function(){this.callLater(this.changeValue)},C$a.changeValue=function(){var C$t;if(this._sources&&this._valueArr&&(this.graphics.clear(!0),C$t=this._sources[0])){var C$e="horizontal"===this._direction;C$e?(this._wordsW=this._valueArr.length*(C$t.sourceWidth+this.spaceX),this._wordsH=C$t.sourceHeight):(this._wordsW=C$t.sourceWidth,this._wordsH=(C$t.sourceHeight+this.spaceY)*this._valueArr.length);var C$i=0;if(this._width)switch(this._align){case"center":C$i=.5*(this._width-this._wordsW);break;case"right":C$i=this._width-this._wordsW;break;default:C$i=0}for(var C$n=0,C$r=this._valueArr.length;C$n<C$r;C$n++){var C$s=this._indexMap[this._valueArr.charAt(C$n)];this.sources[C$s]&&(C$t=this.sources[C$s],C$e?this.graphics.drawTexture(C$t,C$i+C$n*(C$t.sourceWidth+this.spaceX),0,C$t.sourceWidth,C$t.sourceHeight):this.graphics.drawTexture(C$t,0+C$i,C$n*(C$t.sourceHeight+this.spaceY),C$t.sourceWidth,C$t.sourceHeight))}this._width||(this.resetLayoutX(),this.callLater(this.changeSize)),this._height||(this.resetLayoutY(),this.callLater(this.changeSize))}},C$a.destroy=function(C$t){void 0===C$t&&(C$t=!0),this._valueArr=null,this._indexMap=null,this.graphics.clear(!0),this.removeSelf(),this.off("loaded",this,this._onClipLoaded),C$dt.prototype.destroy.call(this,C$t)},C$e(0,C$a,"sheet",function(){return this._sheet},function(C$t){var C$e=(this._sheet=C$t+="").split(" ");this._clipX=String(C$e[0]).length,this.clipY=C$e.length,this._indexMap={};for(var C$i=0;C$i<this._clipY;C$i++)for(var C$n=C$e[C$i].split(""),C$r=0,C$s=C$n.length;C$r<C$s;C$r++)this._indexMap[C$n[C$r]]=C$i*this._clipX+C$r}),C$e(0,C$a,"height",C$dt.prototype._$get_height,function(C$t){C$f.superSet(C$k,this,"height",C$t),this.callLater(this.changeValue)}),C$e(0,C$a,"direction",function(){return this._direction},function(C$t){this._direction=C$t,this.callLater(this.changeValue)}),C$e(0,C$a,"value",function(){return this._valueArr||""},function(C$t){this._valueArr=C$t+="",this.callLater(this.changeValue)}),C$e(0,C$a,"width",C$dt.prototype._$get_width,function(C$t){C$f.superSet(C$k,this,"width",C$t),this.callLater(this.changeValue)}),C$e(0,C$a,"spaceX",function(){return this._spaceX},function(C$t){this._spaceX=C$t,"horizontal"===this._direction&&this.callLater(this.changeValue)}),C$e(0,C$a,"spaceY",function(){return this._spaceY},function(C$t){this._spaceY=C$t,"horizontal"!==this._direction&&this.callLater(this.changeValue)}),C$e(0,C$a,"align",function(){return this._align},function(C$t){this._align=C$t,this.callLater(this.changeValue)}),C$e(0,C$a,"measureWidth",function(){return this._wordsW}),C$e(0,C$a,"measureHeight",function(){return this._wordsH}),zteh_),C$Y=(C$t(yvr7j,"laya.ui.List",C$i=C$d),C$r=yvr7j.prototype,C$f.imps(C$r,{"laya.ui.IRender":!0,"laya.ui.IItem":!0}),C$r.destroy=function(C$t){void 0===C$t&&(C$t=!0),this._content&&this._content.destroy(C$t),this._scrollBar&&this._scrollBar.destroy(C$t),laya.ui.Component.prototype.destroy.call(this,C$t),this._content=null,this._scrollBar=null,this._itemRender=null,this._cells=null,this._array=null,this._twSwitch=null,this._twDone=null,this.selectHandler=this.renderHandler=this.mouseHandler=this.renderTwHandler=null},C$r.createChildren=function(){this.addChild(this._content=new C$d)},C$r.onScrollStart=function(){this._$P.cacheAs||(this._$P.cacheAs=C$f.superGet(C$d,this,"cacheAs")),C$f.superSet(C$d,this,"cacheAs","none"),this._scrollBar.once("end",this,this.onScrollEnd)},C$r.onScrollEnd=function(){C$f.superSet(C$d,this,"cacheAs",this._$P.cacheAs)},C$r._removePreScrollBar=function(){var C$t=this.removeChildByName("scrollBar");C$t&&C$t.destroy(!0)},C$r.changeCells=function(){var C$t,C$e,C$i,C$n;this._cellChanged=!1,this._itemRender&&(this.scrollBar=this.getChildByName("scrollBar"),C$n=(C$i=this._getOneCell()).width+this._spaceX||1,C$i=C$i.height+this._spaceY||1,0<this._width&&(this._repeatX2=this._isVertical?Math.round(this._width/C$n):Math.ceil(this._width/C$n)),0<this._height&&(this._repeatY2=this._isVertical?Math.ceil(this._height/C$i):Math.round(this._height/C$i)),C$t=this._width||C$n*this.repeatX-this._spaceX,C$e=this._height||C$i*this.repeatY-this._spaceY,this._cellSize=this._isVertical?C$i:C$n,this._cellOffset=this._isVertical?C$i*Math.max(this._repeatY2,this._repeatY)-C$e-this._spaceY:C$n*Math.max(this._repeatX2,this._repeatX)-C$t-this._spaceX,this._isVertical&&this._scrollBar?this._scrollBar.height=C$e:!this._isVertical&&this._scrollBar&&(this._scrollBar.width=C$t),this.setContentSize(C$t,C$e),C$i=this._isVertical?this.repeatX:this.repeatY,C$n=(this._isVertical?this.repeatY:this.repeatX)+(this._scrollBar?1:0),this._createItems(0,C$i,C$n),this._createdLine=C$n,this._array&&(this.array=this._array,this.runCallLater(this.renderItems)))},C$r._getOneCell=function(){if(0===this._cells.length){var C$t=this.createItem();if(this._offset.setTo(C$t.x,C$t.y),this.cacheContent)return C$t;this._cells.push(C$t)}return this._cells[0]},C$r._createItems=function(C$t,C$e,C$u){var C$i=this._content,C$n=this._getOneCell(),C$r=C$n.width+this._spaceX,C$c=C$n.height+this._spaceY;if(this.cacheContent){var C$s=new C$d;C$s.cacheAsBitmap=!0,C$s.pos((this._isVertical?0:C$t)*C$r,(this._isVertical?C$t:0)*C$c),this._content.addChild(C$s),this._content.optimizeScrollRect=!0,C$i=C$s}else{for(var C$a=[],C$o=this._cells.length-1;-1<C$o;C$o--){var C$_=this._cells[C$o];C$_.removeSelf(),C$a.push(C$_)}this._cells.length=0}for(var C$h=C$t;C$h<C$u;C$h++)for(var C$l=0;C$l<C$e;C$l++)(C$n=C$a&&C$a.length?C$a.pop():this.createItem()).x=(this._isVertical?C$l:C$h)*C$r-C$i.x,C$n.y=(this._isVertical?C$h:C$l)*C$c-C$i.y,C$n.name="item"+(C$h*C$e+C$l),C$i.addChild(C$n),this.addCell(C$n)},C$r.createItem=function(){var C$t=[];var C$e;if(C$e="function"==typeof this._itemRender?new this._itemRender:C$q.createComp(this._itemRender,null,null,C$t),0==C$t.length&&C$e._watchMap){var C$i=C$e._watchMap;for(var C$n in C$i)for(var C$r=C$i[C$n],C$s=0;C$s<C$r.length;C$s++){var C$a=C$r[C$s];C$t.push(C$a.comp,C$a.prop,C$a.value)}}return C$t.length&&(C$e._$bindData=C$t),C$e},C$r.addCell=function(C$t){C$t.on("click",this,this.onCellMouse),C$t.on("rightclick",this,this.onCellMouse),C$t.on("mouseover",this,this.onCellMouse),C$t.on("mouseout",this,this.onCellMouse),C$t.on("mousedown",this,this.onCellMouse),C$t.on("mouseup",this,this.onCellMouse),this._cells.push(C$t)},C$r.initItems=function(){if(!this._itemRender&&null!=this.getChildByName("item0")){this.repeatX=1;for(var C$t=0,C$e=C$t=0;C$e<1e4;C$e++){var C$i=this.getChildByName("item"+C$e);if(!C$i)break;this.addCell(C$i),C$t++}this.repeatY=C$t}},C$r.setContentSize=function(C$t,C$e){this._content.width=C$t,this._content.height=C$e,!this._scrollBar&&0==this._offset.x&&0==this._offset.y||(this._content.scrollRect||(this._content.scrollRect=new C$y),this._content.scrollRect.setTo(-this._offset.x,-this._offset.y,C$t,C$e),this._content.scrollRect=this._content.scrollRect),this.event("resize")},C$r.onCellMouse=function(C$t){"mousedown"===C$t.type&&(this._isMoved=!1);var C$e=C$t.currentTarget,C$i=this._startIndex+this._cells.indexOf(C$e);C$i<0||("click"===C$t.type||"rightclick"===C$t.type?this.selectEnable&&!this._isMoved?this.selectedIndex=C$i:this.changeCellState(C$e,!0,0):"mouseover"!==C$t.type&&"mouseout"!==C$t.type||this._selectedIndex===C$i||this.changeCellState(C$e,"mouseover"===C$t.type,0),this.mouseHandler&&this.mouseHandler.runWith([C$t,C$i]))},C$r.changeCellState=function(C$t,C$e,C$i){C$t=C$t.getChildByName("selectBox");C$t&&(this.selectEnable=!0,C$t.visible=C$e,C$t.index=C$i)},C$r.changeSize=function(){laya.ui.Component.prototype.changeSize.call(this),this.setContentSize(this.width,this.height),this._scrollBar&&this.callLater(this.onScrollBarChange)},C$r.onScrollBarChange=function(C$u){this.runCallLater(this.changeCells);var C$t=this._scrollBar.value,C$e=this._isVertical?this.repeatX:this.repeatY,C$i=this._isVertical?this.repeatY:this.repeatX,C$n=Math.floor(C$t/this._cellSize);if(this.cacheContent)this._createdLine-C$n<(C$r=C$i+1)&&(this._createItems(this._createdLine,C$e,this._createdLine+C$r),this.renderItems(this._createdLine*C$e,0),this._createdLine+=C$r);else{var C$n=C$n*C$e,C$r=0;var C$s,C$a;C$n>this._startIndex?(C$r=C$n-this._startIndex,C$a=this._startIndex+C$e*(C$i+1),this._isMoved=C$s=!0):C$n<this._startIndex&&(C$r=this._startIndex-C$n,C$a=this._startIndex-1,this._isMoved=!(C$s=!1));for(var C$o=0;C$o<C$r;C$o++){var C$h,C$l;C$l=C$s?(C$h=this._cells.shift(),this._cells[this._cells.length]=C$h,C$a+C$o):(C$h=this._cells.pop(),this._cells.unshift(C$h),C$a-C$o);var C$c=Math.floor(C$l/C$e)*this._cellSize;this._isVertical?C$h.y=C$c:C$h.x=C$c,this.renderItem(C$h,C$l)}this._startIndex=C$n,this.changeSelectStatus()}C$i=this._content.scrollRect;this._isVertical?(C$i.y=C$t-this._offset.y,C$i.x=-this._offset.x):(C$i.y=-this._offset.y,C$i.x=C$t-this._offset.x),this._content.scrollRect=C$i},C$r.posCell=function(C$t,C$e){var C$i;this._scrollBar&&(C$i=this._isVertical?this.repeatX:this.repeatY,this._isVertical?this.repeatY:this.repeatX,C$e=Math.floor(C$e/C$i)*this._cellSize,this._isVertical?C$t.y=C$e:C$t.x=C$e)},C$r.changeSelectStatus=function(){for(var C$t=0,C$e=this._cells.length;C$t<C$e;C$t++)this.changeCellState(this._cells[C$t],this._selectedIndex===this._startIndex+C$t,1)},C$r.renderItems=function(C$t,C$e){for(var C$i=C$t=void 0===C$t?0:C$t,C$n=(C$e=void 0===C$e?0:C$e)||this._cells.length;C$i<C$n;C$i++)this.renderItem(this._cells[C$i],this._startIndex+C$i);this.changeSelectStatus(),this._twDone=!0},C$r.renderItem=function(C$t,C$e){this._array&&0<=C$e&&C$e<this._array.length?(C$t.visible=!0,C$t._$bindData?(C$t._dataSource=this._array[C$e],this._bindData(C$t,this._array[C$e])):C$t.dataSource=this._array[C$e],this.cacheContent||this.posCell(C$t,C$e),this.hasListener("render")&&this.event("render",[C$t,C$e]),this.renderHandler&&this.renderHandler.runWith([C$t,C$e]),this.renderTwHandler&&this.renderTwHandler.runWith([C$t,C$e])):(C$t.visible=!1,C$t.dataSource=null)},C$r._bindData=function(C$t,C$e){for(var C$i=C$t._$bindData,C$n=0,C$r=C$i.length;C$n<C$r;C$n++){var C$s=C$i[C$n++],C$a=C$i[C$n++],C$o=C$i[C$n],C$o=C$I.getBindFun(C$o);C$s[C$a]=C$o.call(this,C$e)}},C$r.refresh=function(){this.array=this._array},C$r.getItem=function(C$t){return-1<C$t&&C$t<this._array.length?this._array[C$t]:null},C$r.changeItem=function(C$t,C$e){-1<C$t&&C$t<this._array.length&&(this._array[C$t]=C$e,C$t>=this._startIndex&&C$t<this._startIndex+this._cells.length&&this.renderItem(this.getCell(C$t),C$t))},C$r.setItem=function(C$t,C$e){this.changeItem(C$t,C$e)},C$r.addItem=function(C$t){this._array.push(C$t),this.array=this._array},C$r.addItemAt=function(C$t,C$e){this._array.splice(C$e,0,C$t),this.array=this._array},C$r.deleteItem=function(C$t){this._array.splice(C$t,1),this.array=this._array},C$r.getCell=function(C$t){return this.runCallLater(this.changeCells),-1<C$t&&this._cells?this._cells[(C$t-this._startIndex)%this._cells.length]:null},C$r.scrollTo=function(C$t){var C$e;this._scrollBar?(C$e=this._isVertical?this.repeatX:this.repeatY,this._scrollBar.value=Math.floor(C$t/C$e)*this._cellSize):this.startIndex=C$t},C$r.tweenTo=function(C$t,C$e,C$i){var C$n;void 0===C$e&&(C$e=200),this._scrollBar?(C$n=this._isVertical?this.repeatX:this.repeatY,C$S.to(this._scrollBar,{value:Math.floor(C$t/C$n)*this._cellSize},C$e,null,C$i,0,!0)):(this.startIndex=C$t,C$i&&C$i.run())},C$r._setCellChanged=function(){this._cellChanged||(this._cellChanged=!0,this.callLater(this.changeCells))},C$r.commitMeasure=function(){this.runCallLater(this.changeCells)},C$e(0,C$r,"cacheAs",C$i.prototype._$get_cacheAs,function(C$t){C$f.superSet(C$d,this,"cacheAs",C$t),this._scrollBar&&(this._$P.cacheAs=null,"none"!==C$t?this._scrollBar.on("start",this,this.onScrollStart):this._scrollBar.off("start",this,this.onScrollStart))}),C$e(0,C$r,"content",function(){return this._content}),C$e(0,C$r,"height",C$i.prototype._$get_height,function(C$t){C$t!=this._height&&(C$f.superSet(C$d,this,"height",C$t),this._setCellChanged())}),C$e(0,C$r,"itemRender",function(){return this._itemRender},function(C$t){if(this._itemRender!=C$t){this._itemRender=C$t;for(var C$e=this._cells.length-1;-1<C$e;C$e--)this._cells[C$e].destroy();this._cells.length=0,this._setCellChanged()}}),C$e(0,C$r,"vScrollBarSkin",function(){return this._scrollBar?this._scrollBar.skin:null},function(C$t){this._removePreScrollBar();var C$e=new C$tt;C$e.name="scrollBar",C$e.right=0,C$t&&" "!=C$t&&(C$e.skin=C$t),this.scrollBar=C$e,this.addChild(C$e),this._setCellChanged()}),C$e(0,C$r,"page",function(){return this._page},function(C$t){this._page=C$t,this._array&&(this._page=0<C$t?C$t:0,this._page=this._page<this.totalPage?this._page:this.totalPage-1,this.startIndex=this._page*this.repeatX*this.repeatY)}),C$e(0,C$r,"hScrollBarSkin",function(){return this._scrollBar?this._scrollBar.skin:null},function(C$t){this._removePreScrollBar();var C$e=new C$X;C$e.name="scrollBar",C$e.bottom=0,C$t&&" "!=C$t&&(C$e.skin=C$t),this.scrollBar=C$e,this.addChild(C$e),this._setCellChanged()}),C$e(0,C$r,"repeatX",function(){return 0<this._repeatX?this._repeatX:0<this._repeatX2?this._repeatX2:1},function(C$t){this._repeatX=C$t,this._setCellChanged()}),C$e(0,C$r,"scrollBar",function(){return this._scrollBar},function(C$t){this._scrollBar!=C$t&&(this._scrollBar=C$t)&&(this._isVertical=this._scrollBar.isVertical,this.addChild(this._scrollBar),this._scrollBar.on("change",this,this.onScrollBarChange))}),C$e(0,C$r,"width",C$i.prototype._$get_width,function(C$t){C$t!=this._width&&(C$f.superSet(C$d,this,"width",C$t),this._setCellChanged())}),C$e(0,C$r,"repeatY",function(){return 0<this._repeatY?this._repeatY:0<this._repeatY2?this._repeatY2:1},function(C$t){this._repeatY=C$t,this._setCellChanged()}),C$e(0,C$r,"spaceX",function(){return this._spaceX},function(C$t){this._spaceX=C$t,this._setCellChanged()}),C$e(0,C$r,"spaceY",function(){return this._spaceY},function(C$t){this._spaceY=C$t,this._setCellChanged()}),C$e(0,C$r,"selectedIndex",function(){return this._selectedIndex},function(C$t){this._selectedIndex!=C$t&&(this._selectedIndex=C$t,this.changeSelectStatus(),this.event("change"),this.selectHandler&&this.selectHandler.runWith(C$t),this.startIndex=this._startIndex)}),C$e(0,C$r,"selectedItem",function(){return-1!=this._selectedIndex?this._array[this._selectedIndex]:null},function(C$t){this.selectedIndex=this._array.indexOf(C$t)}),C$e(0,C$r,"length",function(){return this._array?this._array.length:0}),C$e(0,C$r,"selection",function(){return this.getCell(this._selectedIndex)},function(C$t){this.selectedIndex=this._startIndex+this._cells.indexOf(C$t)}),C$e(0,C$r,"startIndex",function(){return this._startIndex},function(C$t){this._startIndex=0<C$t?C$t:0,this.callLater(this.renderItems)}),C$e(0,C$r,"twSwitch",function(){return this._twSwitch},function(C$t){this._twSwitch=C$t}),C$e(0,C$r,"twDone",function(){return this._twDone},function(C$t){this._twDone=C$t}),C$e(0,C$r,"array",function(){return this._array},function(C$t){this.runCallLater(this.changeCells),this._array=C$t||[];C$t=this._array.length;var C$e,C$i;this.totalPage=Math.ceil(C$t/(this.repeatX*this.repeatY)),this._selectedIndex=this._selectedIndex<C$t?this._selectedIndex:C$t-1,this.startIndex=this._startIndex,this._scrollBar&&(this._scrollBar.stopScroll(),C$e=this._isVertical?this.repeatX:this.repeatY,C$i=this._isVertical?this.repeatY:this.repeatX,C$t=Math.ceil(C$t/C$e),1<(0<this._cellOffset?this.totalPage+1:this.totalPage)?(this._scrollBar.scrollSize=this._cellSize,this._scrollBar.thumbPercent=C$i/C$t,this._scrollBar.setScroll(0,(C$t-C$i)*this._cellSize+this._cellOffset,this._scrollBar.value)):this._scrollBar.setScroll(0,0,0),this._scrollBar.target=this._content)}),C$e(0,C$r,"dataSource",C$i.prototype._$get_dataSource,function(C$t){"number"==typeof(this._dataSource=C$t)&&Math.floor(C$t)==C$t||"string"==typeof C$t?this.selectedIndex=parseInt(C$t):C$t instanceof Array?this.array=C$t:C$f.superSet(C$d,this,"dataSource",C$t)}),C$e(0,C$r,"cells",function(){return this.runCallLater(this.changeCells),this._cells}),yvr7j),C$X=(C$t(p2_9fw,"laya.ui.HScrollBar",C$_t=C$O),p2_9fw.prototype.initialize=function(){C$_t.prototype.initialize.call(this),this.slider.isVertical=!1},p2_9fw),C$$=(C$t(vroy5,"laya.ui.Panel",C$a=C$d),(C$i=vroy5.prototype).destroy=function(C$t){void 0===C$t&&(C$t=!0),laya.ui.Component.prototype.destroy.call(this,C$t),this._content&&this._content.destroy(C$t),this._vScrollBar&&this._vScrollBar.destroy(C$t),this._hScrollBar&&this._hScrollBar.destroy(C$t),this._vScrollBar=null,this._hScrollBar=null,this._content=null},C$i.destroyChildren=function(){this._content.destroyChildren()},C$i.createChildren=function(){laya.display.Node.prototype.addChild.call(this,this._content=new C$d)},C$i.addChild=function(C$t){return C$t.on("resize",this,this.onResize),this._setScrollChanged(),this._content.addChild(C$t)},C$i.onResize=function(){this._setScrollChanged()},C$i.addChildAt=function(C$t,C$e){return C$t.on("resize",this,this.onResize),this._setScrollChanged(),this._content.addChildAt(C$t,C$e)},C$i.removeChild=function(C$t){return C$t.off("resize",this,this.onResize),this._setScrollChanged(),this._content.removeChild(C$t)},C$i.removeChildAt=function(C$t){return this.getChildAt(C$t).off("resize",this,this.onResize),this._setScrollChanged(),this._content.removeChildAt(C$t)},C$i.removeChildren=function(C$t,C$e){return this._content.removeChildren(C$t=void 0===C$t?0:C$t,C$e=void 0===C$e?2147483647:C$e),this._setScrollChanged(),this},C$i.getChildAt=function(C$t){return this._content.getChildAt(C$t)},C$i.getChildByName=function(C$t){return this._content.getChildByName(C$t)},C$i.getChildIndex=function(C$t){return this._content.getChildIndex(C$t)},C$i.changeScroll=function(){this._scrollChanged=!1;var C$t=this.contentWidth||1,C$e=this.contentHeight||1,C$i=this._vScrollBar,C$n=this._hScrollBar,C$r=C$i&&C$e>this._height,C$s=C$n&&C$t>this._width,C$a=C$r?this._width-C$i.width:this._width,C$o=C$s?this._height-C$n.height:this._height;C$i&&(C$i.x=this._width-C$i.width,C$i.y=0,C$i.height=this._height-(C$s?C$n.height:0),C$i.scrollSize=Math.max(.033*this._height,1),C$i.thumbPercent=C$o/C$e,C$i.setScroll(0,C$e-C$o,C$i.value)),C$n&&(C$n.x=0,C$n.y=this._height-C$n.height,C$n.width=this._width-(C$r?C$i.width:0),C$n.scrollSize=Math.max(.033*this._width,1),C$n.thumbPercent=C$a/C$t,C$n.setScroll(0,C$t-C$a,C$n.value))},C$i.changeSize=function(){laya.ui.Component.prototype.changeSize.call(this),this.setContentSize(this._width,this._height)},C$i.setContentSize=function(C$t,C$e){var C$i=this._content;C$i.width=C$t,C$i.height=C$e,C$i.scrollRect||(C$i.scrollRect=new C$y),C$i.scrollRect.setTo(0,0,C$t,C$e),C$i.scrollRect=C$i.scrollRect},C$i.onScrollBarChange=function(C$t){var C$e=this._content.scrollRect;var C$i;C$e&&(C$i=Math.round(C$t.value),C$t.isVertical?C$e.y=C$i:C$e.x=C$i,this._content.scrollRect=C$e)},C$i.scrollTo=function(C$t,C$e){void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=0),this.vScrollBar&&(this.vScrollBar.value=C$e),this.hScrollBar&&(this.hScrollBar.value=C$t)},C$i.refresh=function(){this.changeScroll()},C$i.onScrollStart=function(){this._$P.cacheAs||(this._$P.cacheAs=C$f.superGet(C$d,this,"cacheAs")),C$f.superSet(C$d,this,"cacheAs","none"),this._hScrollBar&&this._hScrollBar.once("end",this,this.onScrollEnd),this._vScrollBar&&this._vScrollBar.once("end",this,this.onScrollEnd)},C$i.onScrollEnd=function(){C$f.superSet(C$d,this,"cacheAs",this._$P.cacheAs)},C$i._setScrollChanged=function(){this._scrollChanged||(this._scrollChanged=!0,this.callLater(this.changeScroll))},C$e(0,C$i,"numChildren",function(){return this._content.numChildren}),C$e(0,C$i,"hScrollBarSkin",function(){return this._hScrollBar?this._hScrollBar.skin:null},function(C$t){null==this._hScrollBar&&(laya.display.Node.prototype.addChild.call(this,this._hScrollBar=new C$X),this._hScrollBar.on("change",this,this.onScrollBarChange,[this._hScrollBar]),this._hScrollBar.target=this._content,this._setScrollChanged()),this._hScrollBar.skin=C$t}),C$e(0,C$i,"contentWidth",function(){for(var C$t=0,C$e=this._content.numChildren-1;-1<C$e;C$e--){var C$i=this._content.getChildAt(C$e);C$t=Math.max(C$i.x+C$i.width*C$i.scaleX,C$t)}return C$t}),C$e(0,C$i,"contentHeight",function(){for(var C$t=0,C$e=this._content.numChildren-1;-1<C$e;C$e--){var C$i=this._content.getChildAt(C$e);C$t=Math.max(C$i.y+C$i.height*C$i.scaleY,C$t)}return C$t}),C$e(0,C$i,"width",C$a.prototype._$get_width,function(C$t){C$f.superSet(C$d,this,"width",C$t),this._setScrollChanged()}),C$e(0,C$i,"hScrollBar",function(){return this._hScrollBar}),C$e(0,C$i,"content",function(){return this._content}),C$e(0,C$i,"height",C$a.prototype._$get_height,function(C$t){C$f.superSet(C$d,this,"height",C$t),this._setScrollChanged()}),C$e(0,C$i,"vScrollBarSkin",function(){return this._vScrollBar?this._vScrollBar.skin:null},function(C$t){null==this._vScrollBar&&(laya.display.Node.prototype.addChild.call(this,this._vScrollBar=new C$tt),this._vScrollBar.on("change",this,this.onScrollBarChange,[this._vScrollBar]),this._vScrollBar.target=this._content,this._setScrollChanged()),this._vScrollBar.skin=C$t}),C$e(0,C$i,"vScrollBar",function(){return this._vScrollBar}),C$e(0,C$i,"cacheAs",C$a.prototype._$get_cacheAs,function(C$t){C$f.superSet(C$d,this,"cacheAs",C$t),this._$P.cacheAs=null,"none"!==C$t?(this._hScrollBar&&this._hScrollBar.on("start",this,this.onScrollStart),this._vScrollBar&&this._vScrollBar.on("start",this,this.onScrollStart)):(this._hScrollBar&&this._hScrollBar.off("start",this,this.onScrollStart),this._vScrollBar&&this._vScrollBar.off("start",this,this.onScrollStart))}),vroy5),C$K=(C$t(ni41u,"laya.ui.HSlider",C$F),ni41u),C$a=(C$t(xjvi7,"laya.ui.UIGroup",C$r=C$d),C$i=xjvi7.prototype,C$f.imps(C$i,{"laya.ui.IItem":!0}),C$i.preinitialize=function(){this.mouseEnabled=!0},C$i.destroy=function(C$t){void 0===C$t&&(C$t=!0),laya.ui.Component.prototype.destroy.call(this,C$t),this._items&&(this._items.length=0),this._items=null,this.selectHandler=null},C$i.addItem=function(C$t,C$e){void 0===C$e&&(C$e=!0);var C$i=this._items.length;var C$n;return C$t.name="item"+C$i,this.addChild(C$t),this.initItems(),C$e&&0<C$i?(C$n=this._items[C$i-1],"horizontal"==this._direction?C$t.x=C$n.x+C$n.width+this._space:C$t.y=C$n.y+C$n.height+this._space):C$e&&(C$t.x=0,C$t.y=0),C$i},C$i.delItem=function(C$t,C$e){void 0===C$e&&(C$e=!0);var C$i=this._items.indexOf(C$t);if(-1!=C$i){var C$n=C$t;this.removeChild(C$n);for(var C$r=C$i+1,C$s=this._items.length;C$r<C$s;C$r++){var C$a=this._items[C$r];C$a.name="item"+(C$r-1),C$e&&("horizontal"==this._direction?C$a.x-=C$n.width+this._space:C$a.y-=C$n.height+this._space)}this.initItems(),-1<this._selectedIndex&&(C$t=this._selectedIndex<this._items.length?this._selectedIndex:this._selectedIndex-1,this._selectedIndex=-1,this.selectedIndex=C$t)}},C$i.initItems=function(){this._items||(this._items=[]);for(var C$t=this._items.length=0;C$t<1e4;C$t++){var C$e=this.getChildByName("item"+C$t);if(null==C$e)break;this._items.push(C$e),C$e.selected=C$t===this._selectedIndex,C$e.clickHandler=C$g.create(this,this.itemClick,[C$t],!1)}},C$i.itemClick=function(C$t){this.selectedIndex=C$t},C$i.setSelect=function(C$t,C$e){this._items&&-1<C$t&&C$t<this._items.length&&(this._items[C$t].selected=C$e)},C$i.createItem=function(C$t,C$e){return null},C$i.changeLabels=function(){if(this._labelChanged=!1,this._items)for(var C$t=0,C$e=0,C$i=this._items.length;C$e<C$i;C$e++){var C$n=this._items[C$e];this._skin&&(C$n.skin=this._skin),this._labelColors&&(C$n.labelColors=this._labelColors),this._labelSize&&(C$n.labelSize=this._labelSize),this._labelStroke&&(C$n.labelStroke=this._labelStroke),this._labelStrokeColor&&(C$n.labelStrokeColor=this._labelStrokeColor),this._strokeColors&&(C$n.strokeColors=this._strokeColors),this._labelBold&&(C$n.labelBold=this._labelBold),this._labelPadding&&(C$n.labelPadding=this._labelPadding),this._labelAlign&&(C$n.labelAlign=this._labelAlign),this._stateNum&&(C$n.stateNum=this._stateNum),this._labelFont&&(C$n.labelFont=this._labelFont),"horizontal"===this._direction?(C$n.y=0,C$n.x=C$t,C$t+=C$n.width+this._space):(C$n.x=0,C$n.y=C$t,C$t+=C$n.height+this._space)}this.changeSize()},C$i.commitMeasure=function(){this.runCallLater(this.changeLabels)},C$i._setLabelChanged=function(){this._labelChanged||(this._labelChanged=!0,this.callLater(this.changeLabels))},C$e(0,C$i,"labelStrokeColor",function(){return this._labelStrokeColor},function(C$t){this._labelStrokeColor!=C$t&&(this._labelStrokeColor=C$t,this._setLabelChanged())}),C$e(0,C$i,"skin",function(){return this._skin},function(C$t){this._skin!=C$t&&(this._skin=C$t,this._setLabelChanged())}),C$e(0,C$i,"selectedIndex",function(){return this._selectedIndex},function(C$t){this._selectedIndex!=C$t&&(this.setSelect(this._selectedIndex,!1),this._selectedIndex=C$t,this.setSelect(C$t,!0),this.event("change"),this.selectHandler&&this.selectHandler.runWith(this._selectedIndex))}),C$e(0,C$i,"labels",function(){return this._labels},function(C$t){if(this._labels!=C$t){if(this._labels=C$t,this.removeChildren(),this._setLabelChanged(),this._labels)for(var C$e=this._labels.split(","),C$i=0,C$n=C$e.length;C$i<C$n;C$i++){var C$r=this.createItem(this._skin,C$e[C$i]);C$r.name="item"+C$i,this.addChild(C$r)}this.initItems()}}),C$e(0,C$i,"strokeColors",function(){return this._strokeColors},function(C$t){this._strokeColors!=C$t&&(this._strokeColors=C$t,this._setLabelChanged())}),C$e(0,C$i,"labelColors",function(){return this._labelColors},function(C$t){this._labelColors!=C$t&&(this._labelColors=C$t,this._setLabelChanged())}),C$e(0,C$i,"labelStroke",function(){return this._labelStroke},function(C$t){this._labelStroke!=C$t&&(this._labelStroke=C$t,this._setLabelChanged())}),C$e(0,C$i,"labelSize",function(){return this._labelSize},function(C$t){this._labelSize!=C$t&&(this._labelSize=C$t,this._setLabelChanged())}),C$e(0,C$i,"stateNum",function(){return this._stateNum},function(C$t){this._stateNum!=C$t&&(this._stateNum=C$t,this._setLabelChanged())}),C$e(0,C$i,"labelBold",function(){return this._labelBold},function(C$t){this._labelBold!=C$t&&(this._labelBold=C$t,this._setLabelChanged())}),C$e(0,C$i,"labelFont",function(){return this._labelFont},function(C$t){this._labelFont!=C$t&&(this._labelFont=C$t,this._setLabelChanged())}),C$e(0,C$i,"labelPadding",function(){return this._labelPadding},function(C$t){this._labelPadding!=C$t&&(this._labelPadding=C$t,this._setLabelChanged())}),C$e(0,C$i,"direction",function(){return this._direction},function(C$t){this._direction=C$t,this._setLabelChanged()}),C$e(0,C$i,"space",function(){return this._space},function(C$t){this._space=C$t,this._setLabelChanged()}),C$e(0,C$i,"items",function(){return this._items}),C$e(0,C$i,"selection",function(){return-1<this._selectedIndex&&this._selectedIndex<this._items.length?this._items[this._selectedIndex]:null},function(C$t){this.selectedIndex=this._items.indexOf(C$t)}),C$e(0,C$i,"dataSource",C$r.prototype._$get_dataSource,function(C$t){"number"==typeof(this._dataSource=C$t)&&Math.floor(C$t)==C$t||"string"==typeof C$t?this.selectedIndex=parseInt(C$t):C$t instanceof Array?this.labels=C$t.join(","):C$f.superSet(C$d,this,"dataSource",C$t)}),xjvi7),C$Z=(C$t(dkgq0,"laya.ui.Radio",C$ct=C$B),(C$i=dkgq0.prototype).destroy=function(C$t){C$ct.prototype.destroy.call(this,C$t=void 0===C$t?!0:C$t),this._value=null},C$i.preinitialize=function(){laya.ui.Component.prototype.preinitialize.call(this),this.toggle=!1,this._autoSize=!1},C$i.initialize=function(){C$ct.prototype.initialize.call(this),this.createText(),this._text.align="left",this._text.valign="top",this._text.width=0,this.on("click",this,this.onClick)},C$i.onClick=function(C$t){this.selected=!0},C$e(0,C$i,"value",function(){return null!=this._value?this._value:this.label},function(C$t){this._value=C$t}),dkgq0),C$Q=(C$t(kc86,"laya.ui.Tree",C$r=C$d),C$i=kc86.prototype,C$f.imps(C$i,{"laya.ui.IRender":!0}),C$i.destroy=function(C$t){void 0===C$t&&(C$t=!0),laya.ui.Component.prototype.destroy.call(this,C$t),this._list&&this._list.destroy(C$t),this._list=null,this._source=null,this._renderHandler=null},C$i.createChildren=function(){this.addChild(this._list=new C$Y),this._list.renderHandler=C$g.create(this,this.renderItem,null,!1),this._list.repeatX=1,this._list.on("change",this,this.onListChange)},C$i.onListChange=function(C$t){this.event("change")},C$i.getArray=function(){var C$t=[];for(var C$e in this._source)C$e=this._source[C$e],this.getParentOpenStatus(C$e)&&(C$e.x=this._spaceLeft*this.getDepth(C$e),C$t.push(C$e));return C$t},C$i.getDepth=function(C$t,C$e){return void 0===C$e&&(C$e=0),null==C$t.nodeParent?C$e:this.getDepth(C$t.nodeParent,C$e+1)},C$i.getParentOpenStatus=function(C$t){C$t=C$t.nodeParent;return null==C$t||!!C$t.isOpen&&(null==C$t.nodeParent||this.getParentOpenStatus(C$t))},C$i.renderItem=function(C$t,C$e){var C$i=C$t.dataSource;var C$n;C$i&&(C$t.left=C$i.x,(C$n=C$t.getChildByName("arrow"))&&(C$i.hasChild?(C$n.visible=!0,C$n.index=C$i.isOpen?1:0,C$n.tag=C$e,C$n.off("click",this,this.onArrowClick),C$n.on("click",this,this.onArrowClick)):C$n.visible=!1),(C$n=C$t.getChildByName("folder"))&&(2==C$n.clipY?C$n.index=C$i.isDirectory?0:1:C$n.index=C$i.isDirectory?C$i.isOpen?1:0:2),this._renderHandler&&this._renderHandler.runWith([C$t,C$e]))},C$i.onArrowClick=function(C$t){C$t=C$t.currentTarget.tag;this._list.array[C$t].isOpen=!this._list.array[C$t].isOpen,this.event("open"),this._list.array=this.getArray()},C$i.setItemState=function(C$t,C$e){this._list.array[C$t]&&(this._list.array[C$t].isOpen=C$e,this._list.array=this.getArray())},C$i.fresh=function(){this._list.array=this.getArray(),this.repaint()},C$i.parseXml=function(C$t,C$e,C$i,C$n){var C$r,C$s=C$t.childNodes,C$a=C$s.length;if(!C$n){C$r={};var C$o=C$t.attributes;for(var C$h in C$o){var C$u=(C$h=C$o[C$h]).nodeName,C$h=C$h.nodeValue;C$r[C$u]="true"==C$h||"false"!=C$h&&C$h}C$r.nodeParent=C$i,0<C$a&&(C$r.isDirectory=!0),C$r.hasChild=0<C$a,C$e.push(C$r)}for(var C$l=0;C$l<C$a;C$l++){var C$c=C$s[C$l];this.parseXml(C$c,C$e,C$r,!1)}},C$i.parseOpenStatus=function(C$t,C$e){for(var C$i=0,C$n=C$e.length;C$i<C$n;C$i++){var C$r=C$e[C$i];if(C$r.isDirectory)for(var C$s=0,C$a=C$t.length;C$s<C$a;C$s++){var C$o=C$t[C$s];if(C$o.isDirectory&&this.isSameParent(C$o,C$r)&&C$r.label==C$o.label){C$r.isOpen=C$o.isOpen;break}}}},C$i.isSameParent=function(C$t,C$e){return null==C$t.nodeParent&&null==C$e.nodeParent||null!=C$t.nodeParent&&null!=C$e.nodeParent&&C$t.nodeParent.label==C$e.nodeParent.label&&this.isSameParent(C$t.nodeParent,C$e.nodeParent)},C$i.filter=function(C$t){var C$e;Boolean(C$t)?(this.getFilterSource(this._source,C$e=[],C$t),this._list.array=C$e):this._list.array=this.getArray()},C$i.getFilterSource=function(C$t,C$e,C$i){for(var C$n in C$i=C$i.toLocaleLowerCase(),C$t)!(C$n=C$t[C$n]).isDirectory&&-1<String(C$n.label).toLowerCase().indexOf(C$i)&&(C$n.x=0,C$e.push(C$n)),C$n.child&&0<C$n.child.length&&this.getFilterSource(C$n.child,C$e,C$i)},C$e(0,C$i,"spaceBottom",function(){return this._list.spaceY},function(C$t){this._list.spaceY=C$t}),C$e(0,C$i,"keepStatus",function(){return this._keepStatus},function(C$t){this._keepStatus=C$t}),C$e(0,C$i,"itemRender",function(){return this._list.itemRender},function(C$t){this._list.itemRender=C$t}),C$e(0,C$i,"array",function(){return this._list.array},function(C$t){this._keepStatus&&this._list.array&&C$t&&this.parseOpenStatus(this._list.array,C$t),this._source=C$t,this._list.array=this.getArray()}),C$e(0,C$i,"mouseHandler",function(){return this._list.mouseHandler},function(C$t){this._list.mouseHandler=C$t}),C$e(0,C$i,"dataSource",C$r.prototype._$get_dataSource,function(C$t){this._dataSource=C$t,C$f.superSet(C$d,this,"dataSource",C$t)}),C$e(0,C$i,"source",function(){return this._source}),C$e(0,C$i,"scrollBar",function(){return this._list.scrollBar}),C$e(0,C$i,"list",function(){return this._list}),C$e(0,C$i,"scrollBarSkin",function(){return this._list.vScrollBarSkin},function(C$t){this._list.vScrollBarSkin=C$t}),C$e(0,C$i,"renderHandler",function(){return this._renderHandler},function(C$t){this._renderHandler=C$t}),C$e(0,C$i,"selectedIndex",function(){return this._list.selectedIndex},function(C$t){this._list.selectedIndex=C$t}),C$e(0,C$i,"spaceLeft",function(){return this._spaceLeft},function(C$t){this._spaceLeft=C$t}),C$e(0,C$i,"selectedItem",function(){return this._list.selectedItem},function(C$t){this._list.selectedItem=C$t}),C$e(0,C$i,"width",C$r.prototype._$get_width,function(C$t){C$f.superSet(C$d,this,"width",C$t),this._list.width=C$t}),C$e(0,C$i,"height",C$r.prototype._$get_height,function(C$t){C$f.superSet(C$d,this,"height",C$t),this._list.height=C$t}),C$e(0,C$i,"xml",null,function(C$t){var C$e=[];this.parseXml(C$t.childNodes[0],C$e,null,!0),this.array=C$e}),C$e(0,C$i,"selectedPath",function(){return this._list.selectedItem?this._list.selectedItem.path:null}),kc86),C$J=(C$t(v5qor,"laya.ui.ViewStack",C$r=C$d),C$i=v5qor.prototype,C$f.imps(C$i,{"laya.ui.IItem":!0}),C$i.setItems=function(C$t){this.removeChildren();for(var C$e=0,C$i=0,C$n=C$t.length;C$i<C$n;C$i++){var C$r=C$t[C$i];C$r&&(C$r.name="item"+C$e,this.addChild(C$r),C$e++)}this.initItems()},C$i.addItem=function(C$t){C$t.name="item"+this._items.length,this.addChild(C$t),this.initItems()},C$i.initItems=function(){this._items=[];for(var C$t=0;C$t<1e4;C$t++){var C$e=this.getChildByName("item"+C$t);if(null==C$e)break;this._items.push(C$e),C$e.visible=C$t==this._selectedIndex}},C$i.setSelect=function(C$t,C$e){this._items&&-1<C$t&&C$t<this._items.length&&(this._items[C$t].visible=C$e)},C$i.setIndex=function(C$t){this.selectedIndex=C$t},C$e(0,C$i,"dataSource",C$r.prototype._$get_dataSource,function(C$t){if("number"==typeof(this._dataSource=C$t)&&Math.floor(C$t)==C$t||"string"==typeof C$t)this.selectedIndex=parseInt(C$t);else for(var C$e in this._dataSource)this.hasOwnProperty(C$e)&&(this[C$e]=this._dataSource[C$e])}),C$e(0,C$i,"selectedIndex",function(){return this._selectedIndex},function(C$t){this._selectedIndex!=C$t&&(this.setSelect(this._selectedIndex,!1),this._selectedIndex=C$t,this.setSelect(this._selectedIndex,!0))}),C$e(0,C$i,"selection",function(){return-1<this._selectedIndex&&this._selectedIndex<this._items.length?this._items[this._selectedIndex]:null},function(C$t){this.selectedIndex=this._items.indexOf(C$t)}),C$e(0,C$i,"items",function(){return this._items}),C$e(0,C$i,"setIndexHandler",function(){return this._setIndexHandler},function(C$t){this._setIndexHandler=C$t}),v5qor),C$tt=(C$t(gbdqk,"laya.ui.VScrollBar",C$O),gbdqk),C$et=(C$t(thzce,"laya.ui.TextInput",C$ut=C$j),(C$r=thzce.prototype).preinitialize=function(){this.mouseEnabled=!0},C$r.destroy=function(C$t){C$p.clearCache(this,this._skin),C$ut.prototype.destroy.call(this,C$t=void 0===C$t?!0:C$t),this._bg&&this._bg.destroy(),this._bg=null},C$r.createChildren=function(){this.addChild(this._tf=new C$v),this._tf.padding=C$A.inputLabelPadding,this._tf.on("input",this,this._onInput),this._tf.on("enter",this,this._onEnter),this._tf.on("blur",this,this._onBlur),this._tf.on("focus",this,this._onFocus)},C$r._onFocus=function(){this.event("focus",this)},C$r._onBlur=function(){this.event("blur",this)},C$r._onInput=function(){this.event("input",this)},C$r._onEnter=function(){this.event("enter",this)},C$r.initialize=function(){this.width=128,this.height=22},C$r.select=function(){this._tf.select()},C$r.setSelection=function(C$t,C$e){this._tf.setSelection(C$t,C$e)},C$e(0,C$r,"text",C$ut.prototype._$get_text,function(C$t){this._tf.text!=C$t&&(this._tf.text=C$t+="",this.event("change"))}),C$e(0,C$r,"bg",function(){return this._bg},function(C$t){this.graphics=this._bg=C$t}),C$e(0,C$r,"inputElementYAdjuster",function(){return this._tf.inputElementYAdjuster},function(C$t){this._tf.inputElementYAdjuster=C$t}),C$e(0,C$r,"multiline",function(){return this._tf.multiline},function(C$t){this._tf.multiline=C$t}),C$e(0,C$r,"skin",function(){return this._skin},function(C$t){this._skin!=C$t&&(C$p.clearCache(this,this._skin),this._skin=C$t,this._bg||(this.graphics=this._bg=new C$P),C$p.keepCache(this,this._skin),this._bg.source=C$p.getRes(this._skin),this._width&&(this._bg.width=this._width),this._height&&(this._bg.height=this._height))}),C$e(0,C$r,"sizeGrid",function(){return this._bg&&this._bg.sizeGrid?this._bg.sizeGrid.join(","):null},function(C$t){this._bg||(this.graphics=this._bg=new C$P),this._bg.sizeGrid=C$I.fillArray(C$A.defaultSizeGrid,C$t,Number)}),C$e(0,C$r,"inputElementXAdjuster",function(){return this._tf.inputElementXAdjuster},function(C$t){this._tf.inputElementXAdjuster=C$t}),C$e(0,C$r,"width",C$ut.prototype._$get_width,function(C$t){C$f.superSet(C$j,this,"width",C$t),this._bg&&(this._bg.width=C$t)}),C$e(0,C$r,"height",C$ut.prototype._$get_height,function(C$t){C$f.superSet(C$j,this,"height",C$t),this._bg&&(this._bg.height=C$t)}),C$e(0,C$r,"editable",function(){return this._tf.editable},function(C$t){this._tf.editable=C$t}),C$e(0,C$r,"restrict",function(){return this._tf.restrict},function(C$t){this._tf.restrict=C$t}),C$e(0,C$r,"prompt",function(){return this._tf.prompt},function(C$t){this._tf.prompt=C$t}),C$e(0,C$r,"promptColor",function(){return this._tf.promptColor},function(C$t){this._tf.promptColor=C$t}),C$e(0,C$r,"maxChars",function(){return this._tf.maxChars},function(C$t){this._tf.maxChars=C$t}),C$e(0,C$r,"focus",function(){return this._tf.focus},function(C$t){this._tf.focus=C$t}),C$e(0,C$r,"type",function(){return this._tf.type},function(C$t){this._tf.type=C$t}),C$e(0,C$r,"asPassword",function(){return this._tf.asPassword},function(C$t){this._tf.asPassword=C$t}),thzce),C$it=(C$t(z_the,"laya.ui.VSlider",C$F),z_the),C$nt=(C$t(c86z,"laya.ui.Dialog",C$i=C$q),(C$r=c86z.prototype).initialize=function(){this.popupEffect=c86z.manager.popupEffectHandler,this.closeEffect=c86z.manager.closeEffectHandler,this._dealDragArea(),this.on("click",this,this._onClick)},C$r._dealDragArea=function(){var C$t=this.getChildByName("drag");C$t&&(this.dragArea=C$t.x+","+C$t.y+","+C$t.width+","+C$t.height,C$t.removeSelf())},C$r._onClick=function(C$t){var C$e=C$t.target;if(C$e)switch(C$e.name){case"close":case"cancel":case"sure":case"no":case"ok":case"yes":this.close(C$e.name)}},C$r.show=function(C$t,C$e){this._open(!1,C$t=void 0===C$t?!1:C$t,C$e=void 0===C$e?!0:C$e)},C$r.popup=function(C$t,C$e){this._open(!0,C$t=void 0===C$t?!1:C$t,C$e=void 0===C$e?!0:C$e)},C$r._open=function(C$t,C$e,C$i){c86z.manager.lock(!1),this.isModal=C$t,c86z.manager.open(this,C$e,C$i)},C$r.onOpened=function(){},C$r.close=function(C$t,C$e){c86z.manager.close(this,C$t,C$e=void 0===C$e?!0:C$e)},C$r.onClosed=function(C$t){},C$r._onMouseDown=function(C$t){var C$e=this.getMousePoint();this._dragArea.contains(C$e.x,C$e.y)?this.startDrag():this.stopDrag()},C$e(0,C$r,"dragArea",function(){return this._dragArea?this._dragArea.toString():null},function(C$t){C$t?(C$t=C$I.fillArray([0,0,0,0],C$t,Number),this._dragArea=new C$y(C$t[0],C$t[1],C$t[2],C$t[3]),this.on("mousedown",this,this._onMouseDown)):(this._dragArea=null,this.off("mousedown",this,this._onMouseDown))}),C$e(0,C$r,"isPopup",function(){return null!=this.parent}),C$e(0,C$r,"zOrder",C$i.prototype._$get_zOrder,function(C$t){C$f.superSet(C$q,this,"zOrder",C$t),c86z.manager._checkMask()}),C$e(1,c86z,"manager",function(){return c86z._manager=c86z._manager||new C$L},function(C$t){c86z._manager=C$t}),c86z.setLockView=function(C$t){c86z.manager.setLockView(C$t)},c86z.lock=function(C$t){c86z.manager.lock(C$t)},c86z.closeAll=function(){c86z.manager.closeAll()},c86z.getDialogsByGroup=function(C$t){return c86z.manager.getDialogsByGroup(C$t)},c86z.closeByGroup=function(C$t){return c86z.manager.closeByGroup(C$t)},c86z.CLOSE="close",c86z.CANCEL="cancel",c86z.SURE="sure",c86z.NO="no",c86z.OK="ok",c86z.YES="yes",c86z._manager=null,c86z),C$rt=(C$t(ui41,"laya.ui.HBox",C$r=C$W),(C$i=ui41.prototype).sortItem=function(C$t){C$t&&C$t.sort(function(C$t,C$e){return C$t.x-C$e.x})},C$i.changeItems=function(){this._itemChanged=!1;for(var C$t=[],C$e=0,C$i=0,C$n=this.numChildren;C$i<C$n;C$i++){var C$r=this.getChildAt(C$i);C$r&&C$r.layoutEnabled&&(C$t.push(C$r),C$e=this._height||Math.max(C$e,C$r.height*C$r.scaleY))}this.sortItem(C$t);var C$s=0;for(C$i=0,C$n=C$t.length;C$i<C$n;C$i++)(C$r=C$t[C$i]).x=C$s,C$s+=C$r.width*C$r.scaleX+this._space,"top"==this._align?C$r.y=0:"middle"==this._align?C$r.y=.5*(C$e-C$r.height*C$r.scaleY):"bottom"==this._align&&(C$r.y=C$e-C$r.height*C$r.scaleY);this.changeSize()},C$e(0,C$i,"height",C$r.prototype._$get_height,function(C$t){this._height!=C$t&&(C$f.superSet(C$W,this,"height",C$t),this.callLater(this.changeItems))}),ui41.NONE="none",ui41.TOP="top",ui41.MIDDLE="middle",ui41.BOTTOM="bottom",ui41),C$st=(C$t(vjyx7r,"laya.ui.VBox",C$i=C$W),(C$r=vjyx7r.prototype).changeItems=function(){this._itemChanged=!1;for(var C$t=[],C$e=0,C$i=0,C$n=this.numChildren;C$i<C$n;C$i++){var C$r=this.getChildAt(C$i);C$r&&C$r.layoutEnabled&&(C$t.push(C$r),C$e=this._width||Math.max(C$e,C$r.width*C$r.scaleX))}this.sortItem(C$t);var C$s=0;for(C$i=0,C$n=C$t.length;C$i<C$n;C$i++)(C$r=C$t[C$i]).y=C$s,C$s+=C$r.height*C$r.scaleY+this._space,"left"==this._align?C$r.x=0:"center"==this._align?C$r.x=.5*(C$e-C$r.width*C$r.scaleX):"right"==this._align&&(C$r.x=C$e-C$r.width*C$r.scaleX);this.changeSize()},C$e(0,C$r,"width",C$i.prototype._$get_width,function(C$t){this._width!=C$t&&(C$f.superSet(C$W,this,"width",C$t),this.callLater(this.changeItems))}),vjyx7r.NONE="none",vjyx7r.LEFT="left",vjyx7r.CENTER="center",vjyx7r.RIGHT="right",vjyx7r),C$at=(C$t(am4l3,"laya.ui.RadioGroup",C$a),am4l3.prototype.createItem=function(C$t,C$e){return new C$Z(C$t,C$e)},am4l3),C$ot=(C$t(f$w2_,"laya.ui.Tab",C$a),f$w2_.prototype.createItem=function(C$t,C$e){return new C$B(C$t,C$e)},f$w2_),C$ht=(C$t(q0y5bo,"laya.ui.TextArea",C$lt=C$et),(C$r=q0y5bo.prototype).destroy=function(C$t){C$lt.prototype.destroy.call(this,C$t=void 0===C$t?!0:C$t),this._vScrollBar&&this._vScrollBar.destroy(),this._hScrollBar&&this._hScrollBar.destroy(),this._vScrollBar=null,this._hScrollBar=null},C$r.initialize=function(){this.width=180,this.height=150,this._tf.wordWrap=!0,this.multiline=!0},C$r.onVBarChanged=function(C$t){this._tf.scrollY!=this._vScrollBar.value&&(this._tf.scrollY=this._vScrollBar.value)},C$r.onHBarChanged=function(C$t){this._tf.scrollX!=this._hScrollBar.value&&(this._tf.scrollX=this._hScrollBar.value)},C$r.changeScroll=function(){var C$t=this._vScrollBar&&0<this._tf.maxScrollY,C$e=this._hScrollBar&&0<this._tf.maxScrollX,C$i=C$t?this._width-this._vScrollBar.width:this._width,C$n=C$e?this._height-this._hScrollBar.height:this._height,C$r=this._tf.padding||C$A.labelPadding;this._tf.width=C$i,this._tf.height=C$n,this._vScrollBar&&(this._vScrollBar.x=this._width-this._vScrollBar.width-C$r[2],this._vScrollBar.y=C$r[1],this._vScrollBar.height=this._height-(C$e?this._hScrollBar.height:0)-C$r[1]-C$r[3],this._vScrollBar.scrollSize=1,this._vScrollBar.thumbPercent=C$n/Math.max(this._tf.textHeight,C$n),this._vScrollBar.setScroll(1,this._tf.maxScrollY,this._tf.scrollY),this._vScrollBar.visible=C$t),this._hScrollBar&&(this._hScrollBar.x=C$r[0],this._hScrollBar.y=this._height-this._hScrollBar.height-C$r[3],this._hScrollBar.width=this._width-(C$t?this._vScrollBar.width:0)-C$r[0]-C$r[2],this._hScrollBar.scrollSize=Math.max(.033*C$i,1),this._hScrollBar.thumbPercent=C$i/Math.max(this._tf.textWidth,C$i),this._hScrollBar.setScroll(0,this.maxScrollX,this.scrollX),this._hScrollBar.visible=C$e)},C$r.scrollTo=function(C$t){this.commitMeasure(),this._tf.scrollY=C$t},C$e(0,C$r,"scrollY",function(){return this._tf.scrollY}),C$e(0,C$r,"width",C$lt.prototype._$get_width,function(C$t){C$f.superSet(C$et,this,"width",C$t),this.callLater(this.changeScroll)}),C$e(0,C$r,"hScrollBar",function(){return this._hScrollBar}),C$e(0,C$r,"height",C$lt.prototype._$get_height,function(C$t){C$f.superSet(C$et,this,"height",C$t),this.callLater(this.changeScroll)}),C$e(0,C$r,"maxScrollX",function(){return this._tf.maxScrollX}),C$e(0,C$r,"vScrollBarSkin",function(){return this._vScrollBar?this._vScrollBar.skin:null},function(C$t){null==this._vScrollBar&&(this.addChild(this._vScrollBar=new C$tt),this._vScrollBar.on("change",this,this.onVBarChanged),this._vScrollBar.target=this._tf,this.callLater(this.changeScroll)),this._vScrollBar.skin=C$t}),C$e(0,C$r,"hScrollBarSkin",function(){return this._hScrollBar?this._hScrollBar.skin:null},function(C$t){null==this._hScrollBar&&(this.addChild(this._hScrollBar=new C$X),this._hScrollBar.on("change",this,this.onHBarChanged),this._hScrollBar.mouseWheelEnable=!1,this._hScrollBar.target=this._tf,this.callLater(this.changeScroll)),this._hScrollBar.skin=C$t}),C$e(0,C$r,"vScrollBar",function(){return this._vScrollBar}),C$e(0,C$r,"maxScrollY",function(){return this._tf.maxScrollY}),C$e(0,C$r,"scrollX",function(){return this._tf.scrollX}),q0y5bo);function q0y5bo(C$t){this._vScrollBar=null,this._hScrollBar=null,q0y5bo.__super.call(this,C$t=void 0===C$t?"":C$t)}var C$lt;function f$w2_(){f$w2_.__super.call(this)}function am4l3(){am4l3.__super.call(this)}function vjyx7r(){vjyx7r.__super.call(this)}function ui41(){ui41.__super.call(this)}function c86z(){this.popupCenter=!0,this.closeHandler=null,this.popupEffect=null,this.closeEffect=null,this.group=null,this.isModal=!1,this._dragArea=null,c86z.__super.call(this)}function z_the(){z_the.__super.call(this)}function thzce(C$t){this._bg=null,this._skin=null,thzce.__super.call(this),this.text=C$t=void 0===C$t?"":C$t,this.skin=this.skin}var C$ut;function gbdqk(){gbdqk.__super.call(this)}function v5qor(){this._items=null,this._selectedIndex=0,v5qor.__super.call(this),this._setIndexHandler=C$g.create(this,this.setIndex,null,!1)}function kc86(){this._list=null,this._source=null,this._renderHandler=null,this._spaceLeft=10,this._spaceBottom=0,this._keepStatus=!0,kc86.__super.call(this),this.width=this.height=200}function dkgq0(C$t,C$e){this._value=null,dkgq0.__super.call(this,C$t,C$e=void 0===C$e?"":C$e)}var C$ct;function xjvi7(C$t,C$e){this.selectHandler=null,this._items=null,this._selectedIndex=-1,this._skin=null,this._direction="horizontal",this._space=0,this._labels=null,this._labelColors=null,this._labelFont=null,this._labelStrokeColor=null,this._strokeColors=null,this._labelStroke=NaN,this._labelSize=0,this._labelBold=!1,this._labelPadding=null,this._labelAlign=null,this._stateNum=0,this._labelChanged=!1,xjvi7.__super.call(this),this.skin=C$e,this.labels=C$t}function ni41u(C$t){ni41u.__super.call(this,C$t),this.isVertical=!1}function vroy5(){this._content=null,this._vScrollBar=null,this._hScrollBar=null,this._scrollChanged=!1,vroy5.__super.call(this),this.width=this.height=100}function p2_9fw(){p2_9fw.__super.call(this)}var C$_t;function yvr7j(){this.selectHandler=null,this.renderHandler=null,this.renderTwHandler=null,this.mouseHandler=null,this.selectEnable=!1,this.totalPage=0,this._content=null,this._scrollBar=null,this._itemRender=null,this._repeatX=0,this._repeatY=0,this._repeatX2=0,this._repeatY2=0,this._spaceX=0,this._spaceY=0,this._array=null,this._startIndex=0,this._selectedIndex=-1,this._page=0,this._isVertical=!0,this._cellSize=20,this._cellOffset=0,this._isMoved=!1,this._twSwitch=!0,this._twDone=!0,this.cacheContent=!1,this._createdLine=0,this._cellChanged=!1,this._cells=[],this._offset=new C$x,yvr7j.__super.call(this)}function zteh_(C$t,C$e){this._valueArr=null,this._indexMap=null,this._sheet=null,this._direction="horizontal",this._spaceX=0,this._spaceY=0,this._align="left",this._wordsW=0,this._wordsH=0,zteh_.__super.call(this),C$t&&(this.skin=C$t),C$e&&(this.sheet=C$e)}var C$dt;function vrjy5(){this._space=0,this._align="none",this._itemChanged=!1,vrjy5.__super.call(this)}function in3x1(C$t,C$e){in3x1.__super.call(this,C$t,C$e=void 0===C$e?"":C$e)}var C$ft;function byorq5(){this._idMap=null,this._aniList=null,this._watchMap={},byorq5.__super.call(this)}var C$pt;function petz_(){this._tipBox=null,this._tipText=null,this._defaultTipHandler=null,petz_.__super.call(this),this._tipBox=new C$n,this._tipBox.addChild(this._tipText=new C$T),this._tipText.x=this._tipText.y=5,this._tipText.color=petz_.tipTextColor,this._defaultTipHandler=this._showDefaultTip,C$f.stage.on("showtip",this,this._onStageShowTip),C$f.stage.on("hidetip",this,this._onStageHideTip),this.zOrder=1100}function m3ua(C$t){this.changeHandler=null,this._bg=null,this._bar=null,this._skin=null,this._value=.5,m3ua.__super.call(this),this.skin=C$t}var C$mt;function _ez2h(C$t){this._tf=null,_ez2h.__super.call(this),void 0===C$t&&(C$t=""),C$c.defaultColor=C$A.labelColor,this.text=C$t}var C$gt;function _zhe(C$t){this._bitmap=null,this._skin=null,this._group=null,this._complete=null,this._progress=null,_zhe.__super.call(this),this.skin=C$t}var C$vt;function c8tgd6(C$t){this.changeHandler=null,this.isVertical=!0,this.showLabel=!0,this._allowClickBack=!1,this._max=100,this._min=0,this._tick=1,this._value=0,this._skin=null,this._bg=null,this._progress=null,this._bar=null,this._tx=NaN,this._ty=NaN,this._maxMove=NaN,this._globalSacle=null,c8tgd6.__super.call(this),this.skin=C$t}var C$xt;function etz8c(C$t){this.rollRatio=.95,this.changeHandler=null,this.scaleBar=!0,this.autoHide=!1,this.elasticDistance=0,this.elasticBackTime=500,this.upButton=null,this.downButton=null,this.slider=null,this._scrollSize=1,this._skin=null,this._thumbPercent=1,this._target=null,this._lastPoint=null,this._lastOffset=0,this._checkElastic=!1,this._isElastic=!1,this._value=NaN,this._hide=!1,this._clickOnly=!0,this._offsets=null,etz8c.__super.call(this),this._showButtons=C$R.showButtons,this._touchScrollEnable=C$R.touchScrollEnable,this._mouseWheelEnable=C$R.mouseWheelEnable,this.skin=C$t,this.max=1}var C$yt;function g5bq0(C$t,C$e){this._visibleNum=6,this._button=null,this._list=null,this._isOpen=!1,this._itemSize=12,this._labels=[],this._selectedIndex=-1,this._selectHandler=null,this._itemHeight=NaN,this._listHeight=NaN,this._listChanged=!1,this._itemChanged=!1,this._scrollBarSkin=null,this._isCustomList=!1,this.itemRender=null,g5bq0.__super.call(this),this._itemColors=C$A.comboBoxItemColors,this.skin=C$t,this.labels=C$e}var C$bt;function ixn143(){this.changeHandler=null,this._gridSize=11,this._bgColor="#ffffff",this._borderColor="#000000",this._inputColor="#000000",this._inputBgColor="#efefef",this._colorPanel=null,this._colorTiles=null,this._colorBlock=null,this._colorInput=null,this._colorButton=null,this._colors=[],this._selectedColor="#000000",this._panelChanged=!1,ixn143.__super.call(this)}var C$wt;function qkg50b(C$t,C$e,C$i){this._sources=null,this._bitmap=null,this._skin=null,this._clipX=1,this._clipY=1,this._clipWidth=0,this._clipHeight=0,this._autoPlay=!1,this._interval=50,this._isPlaying=!1,this._index=0,this._clipChanged=!1,this._group=null,this._toIndex=-1,this._complete=null,this._progress=null,qkg50b.__super.call(this),void 0===C$i&&(C$i=1),this._clipX=C$e=void 0===C$e?1:C$e,this._clipY=C$i,this.skin=C$t}var C$Tt;function lu1a4(C$t,C$e){this.toggle=!1,this._bitmap=null,this._text=null,this._strokeColors=null,this._state=0,this._selected=!1,this._skin=null,this._autoSize=!0,this._sources=null,this._clickHandler=null,this._stateChanged=!1,lu1a4.__super.call(this),this._labelColors=C$A.buttonLabelColors,this._stateNum=C$A.buttonStateNum,void 0===C$e&&(C$e=""),this.skin=C$t,this.label=C$e}var C$Mt;function o5vryq(){o5vryq.__super.call(this)}var C$r;function a34l1u(){this.lockLayer=null,this.popupEffect=function(C$t){C$t.scale(1,1),C$S.from(C$t,{x:C$f.stage.width/2,y:C$f.stage.height/2,scaleX:0,scaleY:0},300,C$l.backOut,C$g.create(this,this.doOpen,[C$t]))},this.closeEffect=function(C$t,C$e){C$S.to(C$t,{x:C$f.stage.width/2,y:C$f.stage.height/2,scaleX:0,scaleY:0},300,C$l.strongOut,C$g.create(this,this.doClose,[C$t,C$e]))},a34l1u.__super.call(this),this.maskLayer=new C$w,this.popupEffectHandler=C$g.create(this,this.popupEffect,null,!1),this.closeEffectHandler=C$g.create(this,this.closeEffect,null,!1),this.mouseEnabled=this.maskLayer.mouseEnabled=!0,this.zOrder=1e3,C$f.stage.addChild(this),C$f.stage.on("resize",this,this._onResize),C$R.closeDialogOnSide&&this.maskLayer.on("click",this,this._closeOnSide),this._onResize(null)}function $ws9(){this._comXml=null,this._dataSource=null,this._toolTip=null,this._tag=null,this._disabled=!1,this._gray=!1,this.layoutEnabled=!0,$ws9.__super.call(this),this._layout=C$E.EMPTY,this.preinitialize(),this.createChildren(),this.initialize()}var C$St;function oy5qrv(){oy5qrv.__super.call(this)}function gkqd(){this.autoCacheCmd=!0,this._width=0,this._height=0,this._source=null,this._sizeGrid=null,this._isChanged=!1,this._offset=null,gkqd.__super.call(this),this._weakKeys=[]}var C$Ct;function k0dbq(){}function jyo5rv(){}function tcehzp(){}function b5yoqr(){this.enable=!1,this.top=NaN,this.bottom=NaN,this.left=NaN,this.right=NaN,this.centerX=NaN,this.centerY=NaN,this.anchorX=NaN,this.anchorY=NaN}function t6c8dg(){this._uiView=null,this.isCloseOther=!1,t6c8dg.__super.call(this)}C$t(t6c8dg,"laya.ui.AsynDialog",C$nt),(C$i=t6c8dg.prototype).createView=function(C$t){this._uiView=C$t},C$i._open=function(C$t,C$e,C$i){this.isModal=C$t,this.isCloseOther=C$e,C$nt.manager.lock(!0),this._uiView?this.onCreated():this.onOpen()},C$i.onCreated=function(){this.createUI(),this.onOpen()},C$i.createUI=function(){laya.ui.View.prototype.createView.call(this,this._uiView),this._uiView=null,this._dealDragArea()},C$i.onOpen=function(){C$nt.manager.open(this,this.isCloseOther),C$nt.manager.lock(!1)},C$i.close=function(C$t,C$e){void 0===C$e&&(C$e=!0),C$nt.manager.close(this),this.onClose()},C$i.onClose=function(){},C$i.destroy=function(C$t){void 0===C$t&&(C$t=!0),laya.ui.View.prototype.destroy.call(this,C$t),this._uiView=null,this.onDestroy()},C$i.onDestroy=function(){},C$f.__init([C$q])}(window,(document,gvj7xry)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$t,C$e){"use strict";for(var C$i in Object.defineProperty(C$e,"__esModule",{value:!0}),gvj7xry){var C$n=gvj7xry[C$i];C$n&&C$n.__isclass&&(C$e[C$i]=C$n)}}),function(C$o,C$b){C$b.un,C$b.uns;var C$h=C$b.static,C$t=C$b.class,C$e=C$b.getset,C$l=C$b.__newvec,C$p=laya.maths.Arith,C$u=laya.webgl.atlas.AtlasResourceManager,C$c=laya.webgl.shader.BaseShader,C$M=laya.utils.Browser,C$_=laya.webgl.utils.Buffer,C$x=laya.utils.Byte,C$d=laya.utils.ClassUtils,C$f=C$b.Config,C$m=(laya.events.Event,laya.events.EventDispatcher),C$w=laya.utils.Handler,C$g=laya.net.Loader,C$v=laya.net.LoaderManager,C$y=(laya.maths.MathUtil,laya.display.Node),C$T=laya.renders.Render,C$S=(laya.renders.RenderContext,laya.renders.RenderSprite,laya.webgl.utils.RenderState2D),C$C=laya.resource.Resource,C$D=laya.utils.RunDriver,C$E=(laya.webgl.shader.Shader,laya.webgl.utils.ShaderCompile),C$I=laya.display.Sprite,C$R=laya.utils.Stat,C$P=laya.utils.StringKey,C$L=(laya.display.css.Style,laya.resource.Texture,laya.net.URL),C$B=laya.utils.Utils,C$k=laya.webgl.WebGL,C$N=laya.webgl.WebGLContext;function by0o5(){}function tz(){}laya.webgl.canvas.WebGLContext2D,C$b.interface("laya.d3.core.IClone"),C$b.interface("laya.d3.graphics.IVertex"),C$b.interface("laya.d3.core.render.IUpdate"),C$b.interface("laya.d3.core.scene.ITreeNode"),C$b.interface("laya.d3.core.render.IRenderable"),C$t(tz,"laya.d3.animation.AnimationClipParser01"),tz.READ_DATA=function(){tz._DATA.offset=tz._reader.getUint32(),tz._DATA.size=tz._reader.getUint32()},tz.READ_BLOCK=function(){for(var C$t=tz._BLOCK.count=tz._reader.getUint16(),C$e=tz._BLOCK.blockStarts=[],C$i=tz._BLOCK.blockLengths=[],C$n=0;C$n<C$t;C$n++)C$e.push(tz._reader.getUint32()),C$i.push(tz._reader.getUint32())},tz.READ_STRINGS=function(){var C$t=tz._reader.getUint32(),C$e=tz._reader.getUint16(),C$i=tz._reader.pos;tz._reader.pos=C$t+tz._DATA.offset;for(var C$n=0;C$n<C$e;C$n++)tz._strings[C$n]=tz._reader.readUTFString();tz._reader.pos=C$i},tz.parse=function(C$t,C$e){tz._animationClip=C$t,(tz._reader=C$e).__getBuffer(),tz.READ_DATA(),tz.READ_BLOCK(),tz.READ_STRINGS();for(var C$i=0,C$n=tz._BLOCK.count;C$i<C$n;C$i++){var C$r=C$e.getUint16(),C$s=tz._strings[C$r],C$a=tz["READ_"+C$s];if(null==C$a)throw new Error("model file err,no this function:"+C$r+" "+C$s);C$a.call()}},tz.READ_ANIMATIONS=function(){var C$t,C$e=0,C$i=0,C$n=tz._reader,C$u=C$n.__getBuffer(),C$c=[],C$_=C$n.getUint8();for(C$c.length=C$_,C$e=0;C$e<C$_;C$e++)C$c[C$e]=C$n.getUint16();var C$d=[],C$f=C$n.getUint16();for(C$d.length=C$f,C$e=0;C$e<C$f;C$e++)C$d[C$e]=C$n.getFloat32();var C$r=tz._animationClip;C$r.name=tz._strings[C$n.getUint16()];var C$p=C$r._duration=C$n.getFloat32();C$r.islooping=!!C$n.getByte(),C$r._frameRate=C$n.getInt16();var C$m=C$n.getInt16(),C$g=C$r._nodes=[];C$g.length=C$m,(C$r._publicClipDatas=[]).length=C$m;var C$v=C$r._nodesMap={},C$x=0,C$y=0;for(C$e=0;C$e<C$m;C$e++){C$t=C$g[C$e]=new C$V;var C$b=C$n.getUint16(),C$w=C$t.path=[];for(C$w.length=C$b,C$i=0;C$i<C$b;C$i++)C$w[C$i]=tz._strings[C$n.getUint16()];var C$s=C$w.join("/"),C$a=C$v[C$s];C$a||(C$v[C$s]=C$a=[]),C$a.push(C$t);C$s=C$n.getInt16();-1!==C$s&&(C$t.componentType=tz._strings[C$s]);C$a=C$O._propertyIndexDic[tz._strings[C$n.getUint16()]];if(null==C$a)throw new Error("AnimationClipParser01:unknown property name.");C$s=C$a<4,C$s=!C$s||""===C$w[0];(C$t._cacheProperty=C$s)?C$x++:C$y++,C$t.propertyNameID=C$a;var C$o=C$c[C$n.getUint8()];C$t.keyFrameWidth=C$o/4;var C$T=C$t.keyFrames=[],C$M=C$T.length=C$n.getUint16(),C$S=null,C$C=NaN;for(C$i=0;C$i<C$M;C$i++){var C$h=C$T[C$i]=new C$F;C$C=C$h.startTime=C$d[C$n.getUint16()];var C$l=C$n.pos;C$h.inTangent=new Float32Array(C$u.slice(C$l,C$l+C$o)),C$n.pos+=C$o,C$l=C$n.pos,C$h.outTangent=new Float32Array(C$u.slice(C$l,C$l+C$o)),C$n.pos+=C$o,C$l=C$n.pos,C$h.data=new Float32Array(C$u.slice(C$l,C$l+C$o)),C$n.pos+=C$o,C$S&&(C$S.next=C$h,C$S.duration=C$C-C$S.startTime),C$S=C$h}C$h.next=null,C$h.duration=C$p-C$C}var C$D=C$r._nodeToCachePropertyMap=new Int32Array(C$m),C$E=C$r._cachePropertyMap=new Int32Array(C$x),C$A=C$r._unCachePropertyMap=new Int32Array(C$y);for(C$e=C$x=C$y=0;C$e<C$m;C$e++)(C$t=C$g[C$e])._cacheProperty?(C$D[C$e]=C$x,C$E[C$x++]=C$e):C$A[C$y++]=C$e},tz._animationClip=null,tz._reader=null,tz._strings=[],C$h(tz,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]),C$t(by0o5,"laya.d3.animation.AnimationClipParser02"),by0o5.READ_DATA=function(){by0o5._DATA.offset=by0o5._reader.getUint32(),by0o5._DATA.size=by0o5._reader.getUint32()},by0o5.READ_BLOCK=function(){for(var C$t=by0o5._BLOCK.count=by0o5._reader.getUint16(),C$e=by0o5._BLOCK.blockStarts=[],C$i=by0o5._BLOCK.blockLengths=[],C$n=0;C$n<C$t;C$n++)C$e.push(by0o5._reader.getUint32()),C$i.push(by0o5._reader.getUint32())},by0o5.READ_STRINGS=function(){var C$t=by0o5._reader.getUint32(),C$e=by0o5._reader.getUint16(),C$i=by0o5._reader.pos;by0o5._reader.pos=C$t+by0o5._DATA.offset;for(var C$n=0;C$n<C$e;C$n++)by0o5._strings[C$n]=by0o5._reader.readUTFString();by0o5._reader.pos=C$i},by0o5.parse=function(C$t,C$e){by0o5._animationClip=C$t,(by0o5._reader=C$e).__getBuffer(),by0o5.READ_DATA(),by0o5.READ_BLOCK(),by0o5.READ_STRINGS();for(var C$i=0,C$n=by0o5._BLOCK.count;C$i<C$n;C$i++){var C$r=C$e.getUint16(),C$s=by0o5._strings[C$r],C$a=by0o5["READ_"+C$s];if(null==C$a)throw new Error("model file err,no this function:"+C$r+" "+C$s);C$a.call()}},by0o5.READ_ANIMATIONS=function(){var C$t,C$e=0,C$i=0,C$n=by0o5._reader,C$u=C$n.__getBuffer(),C$c=[],C$_=C$n.getUint8();for(C$c.length=C$_,C$e=0;C$e<C$_;C$e++)C$c[C$e]=C$n.getUint16();var C$d=[],C$f=C$n.getUint16();for(C$d.length=C$f,C$e=0;C$e<C$f;C$e++)C$d[C$e]=C$n.getFloat32();var C$r=by0o5._animationClip;C$r.name=by0o5._strings[C$n.getUint16()];var C$p=C$r._duration=C$n.getFloat32();C$r.islooping=!!C$n.getByte(),C$r._frameRate=C$n.getInt16();var C$m=C$n.getInt16(),C$g=C$r._nodes=[];C$g.length=C$m,(C$r._publicClipDatas=[]).length=C$m;var C$v=C$r._nodesMap={},C$x=0,C$y=0;for(C$e=0;C$e<C$m;C$e++){C$t=C$g[C$e]=new C$V;var C$b=C$n.getUint16(),C$w=C$t.path=[];for(C$w.length=C$b,C$i=0;C$i<C$b;C$i++)C$w[C$i]=by0o5._strings[C$n.getUint16()];var C$s=C$w.join("/"),C$a=C$v[C$s];C$a||(C$v[C$s]=C$a=[]),C$a.push(C$t);C$s=C$n.getInt16();-1!==C$s&&(C$t.componentType=by0o5._strings[C$s]);C$a=C$O._propertyIndexDic[by0o5._strings[C$n.getUint16()]];if(null==C$a)throw new Error("AnimationClipParser02:unknown property name.");C$s=C$a<4,C$s=!C$s||""===C$w[0];(C$t._cacheProperty=C$s)?C$x++:C$y++,C$t.propertyNameID=C$a;var C$o=C$c[C$n.getUint8()];C$t.keyFrameWidth=C$o/4;var C$T=C$t.keyFrames=[],C$M=C$T.length=C$n.getUint16(),C$S=null,C$C=NaN;for(C$i=0;C$i<C$M;C$i++){var C$h=C$T[C$i]=new C$F;C$C=C$h.startTime=C$d[C$n.getUint16()];var C$l=C$n.pos;C$h.inTangent=new Float32Array(C$u.slice(C$l,C$l+C$o)),C$n.pos+=C$o,C$l=C$n.pos,C$h.outTangent=new Float32Array(C$u.slice(C$l,C$l+C$o)),C$n.pos+=C$o,C$l=C$n.pos,C$h.data=new Float32Array(C$u.slice(C$l,C$l+C$o)),C$n.pos+=C$o,C$S&&(C$S.next=C$h,C$S.duration=C$C-C$S.startTime),C$S=C$h}C$h.next=null,C$h.duration=C$p-C$C}var C$D=C$n.getUint16();for(C$e=0;C$e<C$D;C$e++){var C$E,C$A=new C$z;C$A.time=C$n.getFloat32(),C$A.eventName=by0o5._strings[C$n.getUint16()];var C$I=C$n.getUint16();for(0<C$I&&(C$A.params=C$E=[]),C$i=0;C$i<C$I;C$i++)switch(C$n.getByte()){case 0:C$E.push(!!C$n.getByte());break;case 1:C$E.push(C$n.getInt32());break;case 2:C$E.push(C$n.getFloat32());break;case 3:C$E.push(by0o5._strings[C$n.getUint16()]);break;default:throw new Error("unknown type.")}C$r.addEvent(C$A)}var C$R=C$r._nodeToCachePropertyMap=new Int32Array(C$m),C$P=C$r._cachePropertyMap=new Int32Array(C$x),C$L=C$r._unCachePropertyMap=new Int32Array(C$y);for(C$e=C$x=C$y=0;C$e<C$m;C$e++)(C$t=C$g[C$e])._cacheProperty?(C$R[C$e]=C$x,C$P[C$x++]=C$e):C$L[C$y++]=C$e},by0o5._animationClip=null,by0o5._reader=null,by0o5._strings=[],C$h(by0o5,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]);C$t(d06gkb,"laya.d3.animation.AnimationEvent");var C$z=d06gkb,C$O=(C$t(xi3n14,"laya.d3.animation.AnimationNode"),C$i=xi3n14.prototype,C$b.imps(C$i,{"laya.d3.core.IClone":!0}),C$i.addChild=function(C$t){C$t._parent=this,C$t.transform.setParent(this.transform),this._childs.push(C$t)},C$i.removeChild=function(C$t){C$t=this._childs.indexOf(C$t);-1!==C$t&&this._childs.splice(C$t,1)},C$i.getChildByName=function(C$t){for(var C$e=0,C$i=this._childs.length;C$e<C$i;C$e++){var C$n=this._childs[C$e];if(C$n.name===C$t)return C$n}return null},C$i.getChildByIndex=function(C$t){return this._childs[C$t]},C$i.getChildCount=function(){return this._childs.length},C$i.cloneTo=function(C$t){var C$e=C$t;C$e.name=this.name;for(var C$i=0,C$n=this._childs.length;C$i<C$n;C$i++){var C$r=this._childs[C$i],C$s=C$r.clone();C$e.addChild(C$s);C$r=C$r.transform,C$s=C$s.transform;C$s.setLocalPosition(C$r.getLocalPosition()),C$s.setLocalRotation(C$r.getLocalRotation()),C$s.setLocalScale(C$r.getLocalScale()),C$s._localRotationEuler=C$r._localRotationEuler,C$s._setWorldMatrixIgnoreUpdate(C$r.getWorldMatrix())}},C$i.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},xi3n14.__init__=function(){xi3n14.registerAnimationNodeProperty("localPosition",xi3n14._getLocalPosition,xi3n14._setLocalPosition),xi3n14.registerAnimationNodeProperty("localRotation",xi3n14._getLocalRotation,xi3n14._setLocalRotation),xi3n14.registerAnimationNodeProperty("localScale",xi3n14._getLocalScale,xi3n14._setLocalScale),xi3n14.registerAnimationNodeProperty("localRotationEuler",xi3n14._getLocalRotationEuler,xi3n14._setLocalRotationEuler),xi3n14.registerAnimationNodeProperty("particleRender.sharedMaterial.tintColor",xi3n14._getParticleRenderSharedMaterialTintColor,xi3n14._setParticleRenderSharedMaterialTintColor),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.tilingOffset",xi3n14._getMeshRenderSharedMaterialTilingOffset,xi3n14._setMeshRenderSharedMaterialTilingOffset),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.albedoColor",xi3n14._getMeshRenderSharedMaterialAlbedo,xi3n14._setMeshRenderSharedMaterialAlbedo),xi3n14.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.tilingOffset",xi3n14._getSkinnedMeshRenderSharedMaterialTilingOffset,xi3n14._setSkinnedMeshRenderSharedMaterialTilingOffset),xi3n14.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.albedoColor",xi3n14._getSkinnedMeshRenderSharedMaterialAlbedo,xi3n14._setSkinnedMeshRenderSharedMaterialAlbedo),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.albedo",xi3n14._getMeshRenderSharedMaterialAlbedo,xi3n14._setMeshRenderSharedMaterialAlbedo),xi3n14.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.albedo",xi3n14._getSkinnedMeshRenderSharedMaterialAlbedo,xi3n14._setSkinnedMeshRenderSharedMaterialAlbedo),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.intensity",xi3n14._getMeshRenderSharedMaterialIntensity,xi3n14._setMeshRenderSharedMaterialIntensity),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.alpha",xi3n14._getMeshRenderSharedMaterialAlpha,xi3n14._setMeshRenderSharedMaterialAlpha),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.alphaColor",xi3n14._getMeshRenderSharedMaterialAlphaColor,xi3n14._setMeshRenderSharedMaterialAlphaColor),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.baseColor",xi3n14._getMeshRenderSharedMaterialBaseColor,xi3n14._setMeshRenderSharedMaterialBaseColor),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.dissolve",xi3n14._getMeshRenderSharedMaterialDissolve,xi3n14._setMeshRenderSharedMaterialDissolve),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.dissolveSpeed",xi3n14._getMeshRenderSharedMaterialDissolveSpeed,xi3n14._setMeshRenderSharedMaterialDissolveSpeed),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.mMultiplier",xi3n14._getMeshRenderSharedMaterialMMultiplier,xi3n14._setMeshRenderSharedMaterialMMultiplier),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.baseScrollSpeedX",xi3n14._getMeshRenderSharedMaterialBaseScrollSpeedX,xi3n14._setMeshRenderSharedMaterialBaseScrollSpeedX),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.baseScrollSpeedY",xi3n14._getMeshRenderSharedMaterialBaseScrollSpeedY,xi3n14._setMeshRenderSharedMaterialBaseScrollSpeedY),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.secondScrollSpeedX",xi3n14._getMeshRenderSharedMaterialSecondScrollSpeedX,xi3n14._setMeshRenderSharedMaterialSecondScrollSpeedX),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.secondScrollSpeedY",xi3n14._getMeshRenderSharedMaterialSecondScrollSpeedY,xi3n14._setMeshRenderSharedMaterialSecondScrollSpeedY),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.detailTilingOffset",xi3n14._getMeshRenderSharedMaterialDetailTilingOffset,xi3n14._setMeshRenderSharedMaterialDetailTilingOffset),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.dissolveTilingOffset",xi3n14._getMeshRenderSharedMaterialDissolveTilingOffset,xi3n14._setMeshRenderSharedMaterialDissolveTilingOffset),xi3n14.registerAnimationNodeProperty("meshRender.sharedMaterial.maskTilingOffset",xi3n14._getMeshRenderSharedMaterialMaskTilingOffset,xi3n14._setMeshRenderSharedMaterialMaskTilingOffset)},xi3n14.registerAnimationNodeProperty=function(C$t,C$e,C$i){if(xi3n14._propertyIndexDic[C$t])throw new Error("AnimationNode: this propertyName has registered.");xi3n14._propertyIndexDic[C$t]=xi3n14._propertyIDCounter,xi3n14._propertyGetFuncs[xi3n14._propertyIDCounter]=C$e,xi3n14._propertySetFuncs[xi3n14._propertyIDCounter]=C$i,xi3n14._propertyIDCounter++},xi3n14._getLocalPosition=function(C$t,C$e){return C$t?C$t.transform.getLocalPosition():C$e._transform.localPosition.elements},xi3n14._setLocalPosition=function(C$t,C$e,C$i){C$t?C$t.transform.setLocalPosition(C$i):((C$e=(C$t=C$e._transform).localPosition).elements=C$i,C$t.localPosition=C$e)},xi3n14._getLocalRotation=function(C$t,C$e){return C$t?C$t.transform.getLocalRotation():C$e._transform.localRotation.elements},xi3n14._setLocalRotation=function(C$t,C$e,C$i){C$t?C$t.transform.setLocalRotation(C$i):((C$e=(C$t=C$e._transform).localRotation).elements=C$i,C$t.localRotation=C$e)},xi3n14._getLocalScale=function(C$t,C$e){return C$t?C$t.transform.getLocalScale():C$e._transform.localScale.elements},xi3n14._setLocalScale=function(C$t,C$e,C$i){C$t?C$t.transform.setLocalScale(C$i):((C$e=(C$t=C$e._transform).localScale).elements=C$i,C$t.localScale=C$e)},xi3n14._getLocalRotationEuler=function(C$t,C$e){return C$t?C$t.transform.getLocalRotationEuler():C$e._transform.localRotationEuler.elements},xi3n14._setLocalRotationEuler=function(C$t,C$e,C$i){C$t?C$t.transform.setLocalRotationEuler(C$i):((C$e=(C$t=C$e._transform).localRotationEuler).elements=C$i,C$t.localRotationEuler=C$e)},xi3n14._getMeshRenderSharedMaterialTilingOffset=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.tilingOffset.elements:null:C$e.meshRender.sharedMaterial.tilingOffset.elements},xi3n14._setMeshRenderSharedMaterialTilingOffset=function(C$t,C$e,C$i){var C$n,C$r;C$t?(C$t=C$t.transform._entity)&&((C$r=(C$n=C$t.owner.meshRender.material).tilingOffset).elements=C$i,C$n.tilingOffset=C$r):((C$r=(C$n=C$e.meshRender.material).tilingOffset).elements=C$i,C$n.tilingOffset=C$r)},xi3n14._getMeshRenderSharedMaterialAlbedo=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.albedoColor.elements:null:C$e.meshRender.sharedMaterial.albedoColor.elements},xi3n14._setMeshRenderSharedMaterialAlbedo=function(C$t,C$e,C$i){var C$n,C$r;C$t?(C$t=C$t.transform._entity)&&((C$r=(C$n=C$t.owner.meshRender.material).albedoColor).elements=C$i,C$n.albedoColor=C$r):((C$r=(C$n=C$e.meshRender.material).albedoColor).elements=C$i,C$n.albedoColor=C$r)},xi3n14._getSkinnedMeshRenderSharedMaterialTilingOffset=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.skinnedMeshRender.sharedMaterial.tilingOffset.elements:null:C$e.skinnedMeshRender.sharedMaterial.tilingOffset.elements},xi3n14._setSkinnedMeshRenderSharedMaterialTilingOffset=function(C$t,C$e,C$i){var C$n,C$r;C$t?(C$t=C$t.transform._entity)&&((C$r=(C$n=C$t.owner.skinnedMeshRender.material).tilingOffset).elements=C$i,C$n.tilingOffset=C$r):((C$r=(C$n=C$e.skinnedMeshRender.material).tilingOffset).elements=C$i,C$n.tilingOffset=C$r)},xi3n14._getSkinnedMeshRenderSharedMaterialAlbedo=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.skinnedMeshRender.sharedMaterial.albedoColor.elements:null:C$e.skinnedMeshRender.sharedMaterial.albedoColor.elements},xi3n14._setSkinnedMeshRenderSharedMaterialAlbedo=function(C$t,C$e,C$i){var C$n,C$r;C$t?(C$t=C$t.transform._entity)&&((C$r=(C$n=C$t.owner.skinnedMeshRender.material).albedoColor).elements=C$i,C$n.albedoColor=C$r):((C$r=(C$n=C$e.skinnedMeshRender.material).albedoColor).elements=C$i,C$n.albedoColor=C$r)},xi3n14._getParticleRenderSharedMaterialTintColor=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.particleRender.sharedMaterial.tintColor.elements:null:C$e.particleRender.sharedMaterial.tintColor.elements},xi3n14._setParticleRenderSharedMaterialTintColor=function(C$t,C$e,C$i){var C$n,C$r;C$t?(C$t=C$t.transform._entity)&&((C$r=(C$n=C$t.owner.particleRender.material).tintColor).elements=C$i,C$n.tintColor=C$r):((C$r=(C$n=C$e.particleRender.material).tintColor).elements=C$i,C$n.tintColor=C$r)},xi3n14._getMeshRenderSharedMaterialAlphaColor=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.alphaColor.elements:null:C$e.meshRender.sharedMaterial.alphaColor.elements},xi3n14._setMeshRenderSharedMaterialAlphaColor=function(C$t,C$e,C$i){var C$n,C$r;C$t?(C$t=C$t.transform._entity)&&((C$r=(C$n=C$t.owner.meshRender.material).alphaColor).elements=C$i,C$n.alphaColor=C$r):((C$r=(C$n=C$e.meshRender.material).alphaColor).elements=C$i,C$n.alphaColor=C$r)},xi3n14._getMeshRenderSharedMaterialBaseColor=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.baseColor.elements:null:C$e.meshRender.sharedMaterial.baseColor.elements},xi3n14._setMeshRenderSharedMaterialBaseColor=function(C$t,C$e,C$i){var C$n,C$r;C$t?(C$t=C$t.transform._entity)&&((C$r=(C$n=C$t.owner.meshRender.material).baseColor).elements=C$i,C$n.baseColor=C$r):((C$r=(C$n=C$e.meshRender.material).baseColor).elements=C$i,C$n.baseColor=C$r)},xi3n14._getMeshRenderSharedMaterialDissolve=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.dissolve:0:C$e.meshRender.sharedMaterial.dissolve},xi3n14._setMeshRenderSharedMaterialDissolve=function(C$t,C$e,C$i){C$t?(C$t=C$t.transform._entity)&&(C$t.owner.meshRender.material.dissolve=C$i[0]):C$e.meshRender.material.dissolve=C$i[0]},xi3n14._getMeshRenderSharedMaterialDissolveSpeed=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.dissolveSpeed:0:C$e.meshRender.sharedMaterial.dissolveSpeed},xi3n14._setMeshRenderSharedMaterialDissolveSpeed=function(C$t,C$e,C$i){C$t?(C$t=C$t.transform._entity)&&(C$t.owner.meshRender.material.dissolveSpeed=C$i[0]):C$e.meshRender.material.dissolveSpeed=C$i[0]},xi3n14._getMeshRenderSharedMaterialMMultiplier=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.mMultiplier:0:C$e.meshRender.sharedMaterial.mMultiplier},xi3n14._setMeshRenderSharedMaterialMMultiplier=function(C$t,C$e,C$i){C$t?(C$t=C$t.transform._entity)&&(C$t.owner.meshRender.material.mMultiplier=C$i[0]):C$e.meshRender.material.mMultiplier=C$i[0]},xi3n14._getMeshRenderSharedMaterialBaseScrollSpeedX=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.baseScrollSpeedX:0:C$e.meshRender.sharedMaterial.baseScrollSpeedX},xi3n14._setMeshRenderSharedMaterialBaseScrollSpeedX=function(C$t,C$e,C$i){C$t?(C$t=C$t.transform._entity)&&(C$t.owner.meshRender.material.baseScrollSpeedX=C$i[0]):C$e.meshRender.material.baseScrollSpeedX=C$i[0]},xi3n14._getMeshRenderSharedMaterialBaseScrollSpeedY=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.baseScrollSpeedY:0:C$e.meshRender.sharedMaterial.baseScrollSpeedY},xi3n14._setMeshRenderSharedMaterialBaseScrollSpeedY=function(C$t,C$e,C$i){C$t?(C$t=C$t.transform._entity)&&(C$t.owner.meshRender.material.baseScrollSpeedY=C$i[0]):C$e.meshRender.material.baseScrollSpeedY=C$i[0]},xi3n14._getMeshRenderSharedMaterialSecondScrollSpeedX=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.secondScrollSpeedX:0:C$e.meshRender.sharedMaterial.secondScrollSpeedX},xi3n14._setMeshRenderSharedMaterialSecondScrollSpeedX=function(C$t,C$e,C$i){C$t?(C$t=C$t.transform._entity)&&(C$t.owner.meshRender.material.secondScrollSpeedX=C$i[0]):C$e.meshRender.material.secondScrollSpeedX=C$i[0]},xi3n14._getMeshRenderSharedMaterialSecondScrollSpeedY=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.secondScrollSpeedY:0:C$e.meshRender.sharedMaterial.secondScrollSpeedY},xi3n14._setMeshRenderSharedMaterialSecondScrollSpeedY=function(C$t,C$e,C$i){C$t?(C$t=C$t.transform._entity)&&(C$t.owner.meshRender.material.secondScrollSpeedY=C$i[0]):C$e.meshRender.material.secondScrollSpeedY=C$i[0]},xi3n14._getMeshRenderSharedMaterialAlpha=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.alpha:0:C$e.meshRender.sharedMaterial.alpha},xi3n14._setMeshRenderSharedMaterialAlpha=function(C$t,C$e,C$i){C$t?(C$t=C$t.transform._entity)&&(C$t.owner.meshRender.material.alpha=C$i[0]):C$e.meshRender.material.alpha=C$i[0]},xi3n14._getMeshRenderSharedMaterialIntensity=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.intensity:0:C$e.meshRender.sharedMaterial.intensity},xi3n14._setMeshRenderSharedMaterialIntensity=function(C$t,C$e,C$i){C$t?(C$t=C$t.transform._entity)&&(C$t.owner.meshRender.material.intensity=C$i[0]):C$e.meshRender.material.intensity=C$i[0]},xi3n14._getMeshRenderSharedMaterialDetailTilingOffset=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.detailTilingOffset.elements:null:C$e.meshRender.sharedMaterial.detailTilingOffset.elements},xi3n14._setMeshRenderSharedMaterialDetailTilingOffset=function(C$t,C$e,C$i){var C$n,C$r;C$t?(C$t=C$t.transform._entity)&&((C$r=(C$n=C$t.owner.meshRender.material).detailTilingOffset).elements=C$i,C$n.detailTilingOffset=C$r):((C$r=(C$n=C$e.meshRender.material).detailTilingOffset).elements=C$i,C$n.detailTilingOffset=C$r)},xi3n14._getMeshRenderSharedMaterialDissolveTilingOffset=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.dissolveTilingOffset.elements:null:C$e.meshRender.sharedMaterial.dissolveTilingOffset.elements},xi3n14._setMeshRenderSharedMaterialDissolveTilingOffset=function(C$t,C$e,C$i){var C$n,C$r;C$t?(C$t=C$t.transform._entity)&&((C$r=(C$n=C$t.owner.meshRender.material).dissolveTilingOffset).elements=C$i,C$n.dissolveTilingOffset=C$r):((C$r=(C$n=C$e.meshRender.material).dissolveTilingOffset).elements=C$i,C$n.dissolveTilingOffset=C$r)},xi3n14._getMeshRenderSharedMaterialMaskTilingOffset=function(C$t,C$e){return C$t?(C$t=C$t.transform._entity)?C$t.owner.meshRender.sharedMaterial.maskTilingOffset.elements:null:C$e.meshRender.sharedMaterial.maskTilingOffset.elements},xi3n14._setMeshRenderSharedMaterialMaskTilingOffset=function(C$t,C$e,C$i){var C$n,C$r;C$t?(C$t=C$t.transform._entity)&&((C$r=(C$n=C$t.owner.meshRender.material).maskTilingOffset).elements=C$i,C$n.maskTilingOffset=C$r):((C$r=(C$n=C$e.meshRender.material).maskTilingOffset).elements=C$i,C$n.maskTilingOffset=C$r)},xi3n14._propertyIDCounter=0,xi3n14._propertyIndexDic={},xi3n14._propertySetFuncs=[],xi3n14._propertyGetFuncs=[],xi3n14),C$F=(C$t(oy5rv,"laya.d3.animation.Keyframe"),oy5rv),C$V=(C$t(kq0o5,"laya.d3.animation.KeyframeNode"),kq0o5),C$j=(C$t(ephczt,"laya.d3.core.glitter.SplineCurvePositionVelocity"),(C$i=ephczt.prototype).Init=function(C$t,C$e,C$i,C$n){C$t.cloneTo(this._d),C$e.cloneTo(this._c),C$A.scale(C$t,2,this._a),C$A.scale(C$i,2,this._tempVector30),C$A.subtract(this._a,this._tempVector30,this._a),C$A.add(this._a,C$e,this._a),C$A.add(this._a,C$n,this._a),C$A.scale(C$i,3,this._b),C$A.scale(C$t,3,this._tempVector30),C$A.subtract(this._b,this._tempVector30,this._b),C$A.subtract(this._b,C$n,this._b),C$A.scale(C$e,2,this._tempVector30),C$A.subtract(this._b,this._tempVector30,this._b)},C$i.Slerp=function(C$t,C$e){C$A.scale(this._a,C$t*C$t*C$t,this._tempVector30),C$A.scale(this._b,C$t*C$t,this._tempVector31),C$A.scale(this._c,C$t,this._tempVector32),C$A.add(this._tempVector30,this._tempVector31,C$e),C$A.add(C$e,this._tempVector32,C$e),C$A.add(C$e,this._d,C$e)},C$t(qkbgd,"laya.d3.core.HeightMap"),(C$i=qkbgd.prototype)._inBounds=function(C$t,C$e){return 0<=C$t&&C$t<this._h&&0<=C$e&&C$e<this._w},C$i.getHeight=function(C$t,C$e){return this._inBounds(C$t,C$e)?this._datas[C$t][C$e]:NaN},C$e(0,C$i,"width",function(){return this._w}),C$e(0,C$i,"height",function(){return this._h}),C$e(0,C$i,"maxHeight",function(){return this._maxHeight}),C$e(0,C$i,"minHeight",function(){return this._minHeight}),qkbgd.creatFromMesh=function(C$t,C$u,C$c,C$_){for(var C$d=[],C$f=[],C$p=C$t.getSubMeshCount(),C$m=0;C$m<C$p;C$m++){for(var C$e=C$t.getSubMesh(C$m),C$g=C$e._getVertexBuffer(),C$i=C$g.getData(),C$v=[],C$n=0;C$n<C$i.length;C$n+=C$g.vertexDeclaration.vertexStride/4){var C$x=new C$A(C$i[C$n+0],C$i[C$n+1],C$i[C$n+2]);C$v.push(C$x)}C$d.push(C$v);C$e=C$e._getIndexBuffer();C$f.push(C$e.getData())}var C$r=C$t.boundingBox,C$y=C$r.min.x,C$b=C$r.min.z,C$s=C$r.max.x,C$w=C$r.max.z,C$T=C$r.min.y,C$r=C$r.max.y,C$w=C$w-C$b,C$M=C$_.elements[0]=(C$s-C$y)/(C$u-1),C$S=C$_.elements[1]=C$w/(C$c-1),C$C=new qkbgd(C$u,C$c,C$T,C$r),C$a=qkbgd._tempRay,C$s=C$a.direction.elements;C$s[0]=0,C$s[1]=-1,C$s[2]=0;var C$D=C$r+.1;C$a.origin.elements[1]=C$D;for(var C$o=0;C$o<C$c;C$o++){var C$E=C$b+C$o*C$S;C$C._datas[C$o]=[];for(var C$h=0;C$h<C$u;C$h++){var C$l=C$a.origin.elements;C$l[0]=C$y+C$h*C$M,C$l[2]=C$E;C$l=qkbgd._getPosition(C$a,C$d,C$f);C$C._datas[C$o][C$h]=C$l===Number.MAX_VALUE?NaN:C$D-C$l}}return C$C},qkbgd.createFromImage=function(C$t,C$e,C$i){for(var C$n=C$t.width,C$r=C$t.height,C$s=new qkbgd(C$n,C$r,C$e,C$i),C$u=(C$i-C$e)/254,C$a=C$t.getPixels(),C$o=0,C$h=0;C$h<C$r;C$h++)for(var C$c=C$s._datas[C$h]=[],C$l=0;C$l<C$n;C$l++){var C$_=C$a[C$o++],C$d=C$a[C$o++],C$f=C$a[C$o++],C$p=C$a[C$o++];C$c[C$l]=255==C$_&&255==C$d&&255==C$f&&255==C$p?NaN:(C$_+C$d+C$f)/3*C$u+C$e}return C$s},qkbgd._getPosition=function(C$t,C$e,C$i){for(var C$n=Number.MAX_VALUE,C$r=0;C$r<C$e.length;C$r++)for(var C$s=C$e[C$r],C$a=C$i[C$r],C$o=0;C$o<C$a.length;C$o+=3){var C$h=C$s[C$a[C$o+0]],C$l=C$s[C$a[C$o+1]],C$u=C$s[C$a[C$o+2]],C$h=C$pe.rayIntersectsTriangle(C$t,C$h,C$l,C$u);!isNaN(C$h)&&C$h<C$n&&(C$n=C$h)}return C$n},C$h(qkbgd,["_tempRay",function(){return this._tempRay=new C$ae(new C$A,new C$A)}]),C$t(a3mu4l,"laya.d3.core.Layer"),(C$i=a3mu4l.prototype)._binarySearchIndex=function(){for(var C$t,C$e=0,C$i=a3mu4l._collsionTestList.length-1;C$e<=C$i;){C$t=Math.floor((C$e+C$i)/2);var C$n=a3mu4l._collsionTestList[C$t];if(C$n==this._number)return C$t;C$n>this._number?C$i=C$t-1:C$e=C$t+1}return C$e},C$i._addCollider=function(C$t){0===this._colliders.length&&a3mu4l._collsionTestList.splice(this._binarySearchIndex(),0,this._number),C$t._isRigidbody?(this._colliders.unshift(C$t),this._nonRigidbodyOffset++):this._colliders.push(C$t)},C$i._removeCollider=function(C$t){C$t=this._colliders.indexOf(C$t);C$t<this._nonRigidbodyOffset&&this._nonRigidbodyOffset--,this._colliders.splice(C$t,1),0===this._colliders.length&&a3mu4l._collsionTestList.splice(a3mu4l._collsionTestList.indexOf(this._number),1)},C$e(0,C$i,"number",function(){return this._number}),C$e(0,C$i,"visible",function(){return this._visible},function(C$t){this._visible=C$t,a3mu4l._visibleLayers=C$t?a3mu4l._visibleLayers|this.mask:a3mu4l._visibleLayers&~this.mask}),C$e(0,C$i,"mask",function(){return this._mask}),C$e(1,a3mu4l,"visibleLayers",function(){return a3mu4l._visibleLayers},function(C$t){a3mu4l._visibleLayers=C$t;for(var C$e=0,C$i=a3mu4l._layerList.length;C$e<C$i;C$e++){var C$n=a3mu4l._layerList[C$e];C$n._visible=0!=(C$n._mask&a3mu4l._visibleLayers)}}),a3mu4l.__init__=function(){a3mu4l._layerList.length=31;for(var C$t=0;C$t<31;C$t++){var C$e=new a3mu4l;a3mu4l._layerList[C$t]=C$e,0===C$t?(C$e.name="Default Layer",C$e.visible=!0):(C$e.name="Layer-"+C$t,C$e.visible=!1),C$e._number=C$t,C$e._mask=Math.pow(2,C$t)}a3mu4l.currentCreationLayer=a3mu4l._layerList[0]},a3mu4l.getLayerByNumber=function(C$t){if(C$t<0||30<C$t)throw new Error("\u65e0\u6cd5\u8fd4\u56de\u6307\u5b9aLayer\uff0c\u8be5number\u8d85\u51fa\u8303\u56f4\uff01");return a3mu4l._layerList[C$t]},a3mu4l.getLayerByName=function(C$t){for(var C$e=0;C$e<31;C$e++)if(a3mu4l._layerList[C$e].name===C$t)return a3mu4l._layerList[C$e];throw new Error("\u65e0\u6cd5\u8fd4\u56de\u6307\u5b9aLayer,\u8be5name\u4e0d\u5b58\u5728")},a3mu4l.isVisible=function(C$t){return 0!=(C$t&a3mu4l._currentCameraCullingMask&a3mu4l._visibleLayers)},a3mu4l._layerList=[],a3mu4l._visibleLayers=2147483647,a3mu4l._collsionTestList=[],a3mu4l._currentCameraCullingMask=2147483647,a3mu4l.maxCount=31,a3mu4l.currentCreationLayer=null,a3mu4l),C$U=(C$t(njv,"laya.d3.core.particleShuriKen.module.Burst"),C$i=njv.prototype,C$b.imps(C$i,{"laya.d3.core.IClone":!0}),C$i.cloneTo=function(C$t){C$t._time=this._time,C$t._minCount=this._minCount,C$t._maxCount=this._maxCount},C$i.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$e(0,C$i,"time",function(){return this._time}),C$e(0,C$i,"minCount",function(){return this._minCount}),C$e(0,C$i,"maxCount",function(){return this._maxCount}),C$t(r5vqy,"laya.d3.core.particleShuriKen.module.ColorOverLifetime"),(C$i=r5vqy.prototype).cloneTo=function(C$t){this._color.cloneTo(C$t._color),C$t.enbale=this.enbale},C$i.clone=function(){var C$t;switch(this._color.type){case 0:C$t=C$H.createByConstant(this._color.constant.clone());break;case 1:C$t=C$H.createByGradient(this._color.gradient.clone());break;case 2:C$t=C$H.createByRandomTwoConstant(this._color.constantMin.clone(),this._color.constantMax.clone());break;case 3:C$t=C$H.createByRandomTwoGradient(this._color.gradientMin.clone(),this._color.gradientMax.clone())}var C$e=new this.constructor(C$t);return C$e.enbale=this.enbale,C$e},C$e(0,C$i,"color",function(){return this._color}),C$t(rvjoy5,"laya.d3.core.particleShuriKen.module.Emission"),C$i=rvjoy5.prototype,C$b.imps(C$i,{"laya.d3.core.IClone":!0,"laya.resource.IDestroy":!0}),C$i._destroy=function(){this._bursts=null,this._destroyed=!0},C$i.getBurstsCount=function(){return this._bursts.length},C$i.getBurstByIndex=function(C$t){return this._bursts[C$t]},C$i.addBurst=function(C$t){var C$e=this._bursts.length;if(0<C$e)for(var C$i=0;C$i<C$e;C$i++)this._bursts[C$i].time>C$t.time&&this._bursts.splice(C$i,0,C$t);this._bursts.push(C$t)},C$i.removeBurst=function(C$t){C$t=this._bursts.indexOf(C$t);-1!==C$t&&this._bursts.splice(C$t,1)},C$i.removeBurstByIndex=function(C$t){this._bursts.splice(C$t,1)},C$i.clearBurst=function(){this._bursts.length=0},C$i.cloneTo=function(C$t){var C$e=C$t._bursts;C$e.length=this._bursts.length;for(var C$i=0,C$n=this._bursts.length;C$i<C$n;C$i++){var C$r=C$e[C$i];C$r?this._bursts[C$i].cloneTo(C$r):C$e[C$i]=this._bursts[C$i].clone()}C$t._emissionRate=this._emissionRate,C$t.enbale=this.enbale},C$i.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$e(0,C$i,"destroyed",function(){return this._destroyed}),C$e(0,C$i,"emissionRate",function(){return this._emissionRate},function(C$t){if(C$t<0)throw new Error("ParticleBaseShape:emissionRate value must large or equal than 0.");this._emissionRate=C$t}),C$t(u134an,"laya.d3.core.particleShuriKen.module.FrameOverTime"),C$i=u134an.prototype,C$b.imps(C$i,{"laya.d3.core.IClone":!0}),C$i.cloneTo=function(C$t){C$t._type=this._type,C$t._constant=this._constant,this._overTime.cloneTo(C$t._overTime),C$t._constantMin=this._constantMin,C$t._constantMax=this._constantMax,this._overTimeMin.cloneTo(C$t._overTimeMin),this._overTimeMax.cloneTo(C$t._overTimeMax)},C$i.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$e(0,C$i,"frameOverTimeData",function(){return this._overTime}),C$e(0,C$i,"constant",function(){return this._constant}),C$e(0,C$i,"type",function(){return this._type}),C$e(0,C$i,"frameOverTimeDataMin",function(){return this._overTimeMin}),C$e(0,C$i,"constantMin",function(){return this._constantMin}),C$e(0,C$i,"frameOverTimeDataMax",function(){return this._overTimeMax}),C$e(0,C$i,"constantMax",function(){return this._constantMax}),u134an.createByConstant=function(C$t){var C$e=new u134an;return C$e._type=0,C$e._constant=C$t,C$e},u134an.createByOverTime=function(C$t){var C$e=new u134an;return C$e._type=1,C$e._overTime=C$t,C$e},u134an.createByRandomTwoConstant=function(C$t,C$e){var C$i=new u134an;return C$i._type=2,C$i._constantMin=C$t,C$i._constantMax=C$e,C$i},u134an.createByRandomTwoOverTime=function(C$t,C$e){var C$i=new u134an;return C$i._type=3,C$i._overTimeMin=C$t,C$i._overTimeMax=C$e,C$i},u134an),C$q=(C$t(kgc86d,"laya.d3.core.particleShuriKen.module.GradientAngularVelocity"),C$i=kgc86d.prototype,C$b.imps(C$i,{"laya.d3.core.IClone":!0}),C$i.cloneTo=function(C$t){C$t._type=this._type,C$t._separateAxes=this._separateAxes,C$t._constant=this._constant,this._constantSeparate.cloneTo(C$t._constantSeparate),this._gradient.cloneTo(C$t._gradient),this._gradientX.cloneTo(C$t._gradientX),this._gradientY.cloneTo(C$t._gradientY),this._gradientZ.cloneTo(C$t._gradientZ),C$t._constantMin=this._constantMin,C$t._constantMax=this._constantMax,this._constantMinSeparate.cloneTo(C$t._constantMinSeparate),this._constantMaxSeparate.cloneTo(C$t._constantMaxSeparate),this._gradientMin.cloneTo(C$t._gradientMin),this._gradientMax.cloneTo(C$t._gradientMax),this._gradientXMin.cloneTo(C$t._gradientXMin),this._gradientXMax.cloneTo(C$t._gradientXMax),this._gradientYMin.cloneTo(C$t._gradientYMin),this._gradientYMax.cloneTo(C$t._gradientYMax),this._gradientZMin.cloneTo(C$t._gradientZMin),this._gradientZMax.cloneTo(C$t._gradientZMax)},C$i.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$e(0,C$i,"gradientZ",function(){return this._gradientZ}),C$e(0,C$i,"constant",function(){return this._constant}),C$e(0,C$i,"gradient",function(){return this._gradient}),C$e(0,C$i,"separateAxes",function(){return this._separateAxes}),C$e(0,C$i,"type",function(){return this._type}),C$e(0,C$i,"constantSeparate",function(){return this._constantSeparate}),C$e(0,C$i,"gradientX",function(){return this._gradientX}),C$e(0,C$i,"gradientY",function(){return this._gradientY}),C$e(0,C$i,"gradientW",function(){return this._gradientW}),C$e(0,C$i,"gradientMin",function(){return this._gradientMin}),C$e(0,C$i,"constantMin",function(){return this._constantMin}),C$e(0,C$i,"gradientMax",function(){return this._gradientMax}),C$e(0,C$i,"constantMax",function(){return this._constantMax}),C$e(0,C$i,"gradientWMin",function(){return this._gradientWMin}),C$e(0,C$i,"constantMinSeparate",function(){return this._constantMinSeparate}),C$e(0,C$i,"constantMaxSeparate",function(){return this._constantMaxSeparate}),C$e(0,C$i,"gradientXMin",function(){return this._gradientXMin}),C$e(0,C$i,"gradientXMax",function(){return this._gradientXMax}),C$e(0,C$i,"gradientWMax",function(){return this._gradientWMax}),C$e(0,C$i,"gradientYMin",function(){return this._gradientYMin}),C$e(0,C$i,"gradientYMax",function(){return this._gradientYMax}),C$e(0,C$i,"gradientZMin",function(){return this._gradientZMin}),C$e(0,C$i,"gradientZMax",function(){return this._gradientZMax}),kgc86d.createByConstant=function(C$t){var C$e=new kgc86d;return C$e._type=0,C$e._separateAxes=!1,C$e._constant=C$t,C$e},kgc86d.createByConstantSeparate=function(C$t){var C$e=new kgc86d;return C$e._type=0,C$e._separateAxes=!0,C$e._constantSeparate=C$t,C$e},kgc86d.createByGradient=function(C$t){var C$e=new kgc86d;return C$e._type=1,C$e._separateAxes=!1,C$e._gradient=C$t,C$e},kgc86d.createByGradientSeparate=function(C$t,C$e,C$i,C$n){var C$r=new kgc86d;return C$r._type=1,C$r._separateAxes=!0,C$r._gradientX=C$t,C$r._gradientY=C$e,C$r._gradientZ=C$i,C$r._gradientW=C$n,C$r},kgc86d.createByRandomTwoConstant=function(C$t,C$e){var C$i=new kgc86d;return C$i._type=2,C$i._separateAxes=!1,C$i._constantMin=C$t,C$i._constantMax=C$e,C$i},kgc86d.createByRandomTwoConstantSeparate=function(C$t,C$e){var C$i=new kgc86d;return C$i._type=2,C$i._separateAxes=!0,C$i._constantMinSeparate=C$t,C$i._constantMaxSeparate=C$e,C$i},kgc86d.createByRandomTwoGradient=function(C$t,C$e){var C$i=new kgc86d;return C$i._type=3,C$i._separateAxes=!1,C$i._gradientMin=C$t,C$i._gradientMax=C$e,C$i},kgc86d.createByRandomTwoGradientSeparate=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){var C$h=new kgc86d;return C$h._type=3,C$h._separateAxes=!0,C$h._gradientXMin=C$t,C$h._gradientXMax=C$e,C$h._gradientYMin=C$i,C$h._gradientYMax=C$n,C$h._gradientZMin=C$r,C$h._gradientZMax=C$s,C$h._gradientWMin=C$a,C$h._gradientWMax=C$o,C$h},kgc86d),C$H=(C$t(yroj,"laya.d3.core.particleShuriKen.module.GradientColor"),C$i=yroj.prototype,C$b.imps(C$i,{"laya.d3.core.IClone":!0}),C$i.cloneTo=function(C$t){C$t._type=this._type,this._constant.cloneTo(C$t._constant),this._constantMin.cloneTo(C$t._constantMin),this._constantMax.cloneTo(C$t._constantMax),this._gradient.cloneTo(C$t._gradient),this._gradientMin.cloneTo(C$t._gradientMin),this._gradientMax.cloneTo(C$t._gradientMax)},C$i.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$e(0,C$i,"gradient",function(){return this._gradient}),C$e(0,C$i,"constant",function(){return this._constant}),C$e(0,C$i,"type",function(){return this._type}),C$e(0,C$i,"gradientMin",function(){return this._gradientMin}),C$e(0,C$i,"constantMin",function(){return this._constantMin}),C$e(0,C$i,"gradientMax",function(){return this._gradientMax}),C$e(0,C$i,"constantMax",function(){return this._constantMax}),yroj.createByConstant=function(C$t){var C$e=new yroj;return C$e._type=0,C$e._constant=C$t,C$e},yroj.createByGradient=function(C$t){var C$e=new yroj;return C$e._type=1,C$e._gradient=C$t,C$e},yroj.createByRandomTwoConstant=function(C$t,C$e){var C$i=new yroj;return C$i._type=2,C$i._constantMin=C$t,C$i._constantMax=C$e,C$i},yroj.createByRandomTwoGradient=function(C$t,C$e){var C$i=new yroj;return C$i._type=3,C$i._gradientMin=C$t,C$i._gradientMax=C$e,C$i},yroj),C$W=(C$t(a3u14n,"laya.d3.core.particleShuriKen.module.GradientDataColor"),C$i=a3u14n.prototype,C$b.imps(C$i,{"laya.d3.core.IClone":!0}),C$i.addAlpha=function(C$t,C$e){this._alphaCurrentLength<8&&(6===this._alphaCurrentLength&&1!==C$t&&(C$t=1),this._alphaElements[this._alphaCurrentLength++]=C$t,this._alphaElements[this._alphaCurrentLength++]=C$e)},C$i.addRGB=function(C$t,C$e){this._rgbCurrentLength<16&&(12===this._rgbCurrentLength&&1!==C$t&&(C$t=1),this._rgbElements[this._rgbCurrentLength++]=C$t,this._rgbElements[this._rgbCurrentLength++]=C$e.x,this._rgbElements[this._rgbCurrentLength++]=C$e.y,this._rgbElements[this._rgbCurrentLength++]=C$e.z)},C$i.cloneTo=function(C$t){var C$e=0,C$i=0;C$t._alphaCurrentLength=this._alphaCurrentLength;var C$n=C$t._alphaElements;for(C$n.length=this._alphaElements.length,C$e=0,C$i=this._alphaElements.length;C$e<C$i;C$e++)C$n[C$e]=this._alphaElements[C$e];C$t._rgbCurrentLength=this._rgbCurrentLength;var C$r=C$t._rgbElements;for(C$r.length=this._rgbElements.length,C$e=0,C$i=this._rgbElements.length;C$e<C$i;C$e++)C$r[C$e]=this._rgbElements[C$e]},C$i.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$e(0,C$i,"alphaGradientCount",function(){return this._alphaCurrentLength/2}),C$e(0,C$i,"rgbGradientCount",function(){return this._rgbCurrentLength/4}),C$t(tzp_eh,"laya.d3.core.particleShuriKen.module.GradientDataInt"),C$i=tzp_eh.prototype,C$b.imps(C$i,{"laya.d3.core.IClone":!0}),C$i.add=function(C$t,C$e){this._currentLength<8?(6===this._currentLength&&1!==C$t&&(C$t=1,console.log("Warning:the forth key is  be force set to 1.")),this._elements[this._currentLength++]=C$t,this._elements[this._currentLength++]=C$e):console.log("Warning:data count must lessEqual than 4")},C$i.cloneTo=function(C$t){C$t._currentLength=this._currentLength;var C$e=C$t._elements;C$e.length=this._elements.length;for(var C$i=0,C$n=this._elements.length;C$i<C$n;C$i++)C$e[C$i]=this._elements[C$i]},C$i.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$e(0,C$i,"gradientCount",function(){return this._currentLength/2}),C$t(ir7xv,"laya.d3.core.particleShuriKen.module.GradientDataNumber"),C$i=ir7xv.prototype,C$b.imps(C$i,{"laya.d3.core.IClone":!0}),C$i.add=function(C$t,C$e){this._currentLength<8&&(6===this._currentLength&&1!==C$t&&(C$t=1),this._elements[this._currentLength++]=C$t,this._elements[this._currentLength++]=C$e)},C$i.getKeyByIndex=function(C$t){return this._elements[2*C$t]},C$i.getValueByIndex=function(C$t){return this._elements[2*C$t+1]},C$i.getAverageValue=function(){for(var C$t=0,C$e=this._currentLength-2;C$t<C$e;C$t+=2)this._elements[C$t+1],this._elements[C$t+3],this._elements[C$t+2],this._elements[C$t];return 0},C$i.cloneTo=function(C$t){C$t._currentLength=this._currentLength;var C$e=C$t._elements;C$e.length=this._elements.length;for(var C$i=0,C$n=this._elements.length;C$i<C$n;C$i++)C$e[C$i]=this._elements[C$i]},C$i.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$e(0,C$i,"gradientCount",function(){return this._currentLength/2}),C$t(gdc68t,"laya.d3.core.particleShuriKen.module.GradientDataVector2"),C$i=gdc68t.prototype,C$b.imps(C$i,{"laya.d3.core.IClone":!0}),C$i.add=function(C$t,C$e){this._currentLength<8&&(6===this._currentLength&&1!==C$t&&(C$t=1),this._elements[this._currentLength++]=C$t,this._elements[this._currentLength++]=C$e.x,this._elements[this._currentLength++]=C$e.y)},C$i.cloneTo=function(C$t){C$t._currentLength=this._currentLength;var C$e=C$t._elements;C$e.length=this._elements.length;for(var C$i=0,C$n=this._elements.length;C$i<C$n;C$i++)C$e[C$i]=this._elements[C$i]},C$i.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$e(0,C$i,"gradientCount",function(){return this._currentLength/3}),C$t(rvjoy,"laya.d3.core.particleShuriKen.module.GradientSize"),C$i=rvjoy.prototype,C$b.imps(C$i,{"laya.d3.core.IClone":!0}),C$i.getMaxSizeInGradient=function(){var C$t=0,C$e=0,C$i=-Number.MAX_VALUE;switch(this._type){case 0:if(this._separateAxes){for(C$t=0,C$e=this._gradientX.gradientCount;C$t<C$e;C$t++)C$i=Math.max(C$i,this._gradientX.getValueByIndex(C$t));for(C$t=0,C$e=this._gradientY.gradientCount;C$t<C$e;C$t++)C$i=Math.max(C$i,this._gradientY.getValueByIndex(C$t))}else for(C$t=0,C$e=this._gradient.gradientCount;C$t<C$e;C$t++)C$i=Math.max(C$i,this._gradient.getValueByIndex(C$t));break;case 1:C$i=this._separateAxes?(C$i=Math.max(this._constantMinSeparate.x,this._constantMaxSeparate.x),C$i=Math.max(C$i,this._constantMinSeparate.y),Math.max(C$i,this._constantMaxSeparate.y)):Math.max(this._constantMin,this._constantMax);break;case 2:if(this._separateAxes){for(C$t=0,C$e=this._gradientXMin.gradientCount;C$t<C$e;C$t++)C$i=Math.max(C$i,this._gradientXMin.getValueByIndex(C$t));for(C$t=0,C$e=this._gradientXMax.gradientCount;C$t<C$e;C$t++)C$i=Math.max(C$i,this._gradientXMax.getValueByIndex(C$t));for(C$t=0,C$e=this._gradientYMin.gradientCount;C$t<C$e;C$t++)C$i=Math.max(C$i,this._gradientYMin.getValueByIndex(C$t));for(C$t=0,C$e=this._gradientZMax.gradientCount;C$t<C$e;C$t++)C$i=Math.max(C$i,this._gradientZMax.getValueByIndex(C$t))}else{for(C$t=0,C$e=this._gradientMin.gradientCount;C$t<C$e;C$t++)C$i=Math.max(C$i,this._gradientMin.getValueByIndex(C$t));for(C$t=0,C$e=this._gradientMax.gradientCount;C$t<C$e;C$t++)C$i=Math.max(C$i,this._gradientMax.getValueByIndex(C$t))}}return C$i},C$i.cloneTo=function(C$t){C$t._type=this._type,C$t._separateAxes=this._separateAxes,this._gradient.cloneTo(C$t._gradient),this._gradientX.cloneTo(C$t._gradientX),this._gradientY.cloneTo(C$t._gradientY),this._gradientZ.cloneTo(C$t._gradientZ),C$t._constantMin=this._constantMin,C$t._constantMax=this._constantMax,this._constantMinSeparate.cloneTo(C$t._constantMinSeparate),this._constantMaxSeparate.cloneTo(C$t._constantMaxSeparate),this._gradientMin.cloneTo(C$t._gradientMin),this._gradientMax.cloneTo(C$t._gradientMax),this._gradientXMin.cloneTo(C$t._gradientXMin),this._gradientXMax.cloneTo(C$t._gradientXMax),this._gradientYMin.cloneTo(C$t._gradientYMin),this._gradientYMax.cloneTo(C$t._gradientYMax),this._gradientZMin.cloneTo(C$t._gradientZMin),this._gradientZMax.cloneTo(C$t._gradientZMax)},C$i.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$e(0,C$i,"gradientZ",function(){return this._gradientZ}),C$e(0,C$i,"gradient",function(){return this._gradient}),C$e(0,C$i,"separateAxes",function(){return this._separateAxes}),C$e(0,C$i,"type",function(){return this._type}),C$e(0,C$i,"gradientMin",function(){return this._gradientMin}),C$e(0,C$i,"constantMin",function(){return this._constantMin}),C$e(0,C$i,"gradientX",function(){return this._gradientX}),C$e(0,C$i,"gradientY",function(){return this._gradientY}),C$e(0,C$i,"gradientMax",function(){return this._gradientMax}),C$e(0,C$i,"constantMax",function(){return this._constantMax}),C$e(0,C$i,"constantMinSeparate",function(){return this._constantMinSeparate}),C$e(0,C$i,"constantMaxSeparate",function(){return this._constantMaxSeparate}),C$e(0,C$i,"gradientXMin",function(){return this._gradientXMin}),C$e(0,C$i,"gradientXMax",function(){return this._gradientXMax}),C$e(0,C$i,"gradientYMin",function(){return this._gradientYMin}),C$e(0,C$i,"gradientYMax",function(){return this._gradientYMax}),C$e(0,C$i,"gradientZMin",function(){return this._gradientZMin}),C$e(0,C$i,"gradientZMax",function(){return this._gradientZMax}),rvjoy.createByGradient=function(C$t){var C$e=new rvjoy;return C$e._type=0,C$e._separateAxes=!1,C$e._gradient=C$t,C$e},rvjoy.createByGradientSeparate=function(C$t,C$e,C$i){var C$n=new rvjoy;return C$n._type=0,C$n._separateAxes=!0,C$n._gradientX=C$t,C$n._gradientY=C$e,C$n._gradientZ=C$i,C$n},rvjoy.createByRandomTwoConstant=function(C$t,C$e){var C$i=new rvjoy;return C$i._type=1,C$i._separateAxes=!1,C$i._constantMin=C$t,C$i._constantMax=C$e,C$i},rvjoy.createByRandomTwoConstantSeparate=function(C$t,C$e){var C$i=new rvjoy;return C$i._type=1,C$i._separateAxes=!0,C$i._constantMinSeparate=C$t,C$i._constantMaxSeparate=C$e,C$i},rvjoy.createByRandomTwoGradient=function(C$t,C$e){var C$i=new rvjoy;return C$i._type=2,C$i._separateAxes=!1,C$i._gradientMin=C$t,C$i._gradientMax=C$e,C$i},rvjoy.createByRandomTwoGradientSeparate=function(C$t,C$e,C$i,C$n,C$r,C$s){var C$a=new rvjoy;return C$a._type=2,C$a._separateAxes=!0,C$a._gradientXMin=C$t,C$a._gradientXMax=C$e,C$a._gradientYMin=C$i,C$a._gradientYMax=C$n,C$a._gradientZMin=C$r,C$a._gradientZMax=C$s,C$a},rvjoy),C$G=(C$t(x1ni34,"laya.d3.core.particleShuriKen.module.GradientVelocity"),C$i=x1ni34.prototype,C$b.imps(C$i,{"laya.d3.core.IClone":!0}),C$i.cloneTo=function(C$t){C$t._type=this._type,this._constant.cloneTo(C$t._constant),this._gradientX.cloneTo(C$t._gradientX),this._gradientY.cloneTo(C$t._gradientY),this._gradientZ.cloneTo(C$t._gradientZ),this._constantMin.cloneTo(C$t._constantMin),this._constantMax.cloneTo(C$t._constantMax),this._gradientXMin.cloneTo(C$t._gradientXMin),this._gradientXMax.cloneTo(C$t._gradientXMax),this._gradientYMin.cloneTo(C$t._gradientYMin),this._gradientYMax.cloneTo(C$t._gradientYMax),this._gradientZMin.cloneTo(C$t._gradientZMin),this._gradientZMax.cloneTo(C$t._gradientZMax)},C$i.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$e(0,C$i,"gradientZ",function(){return this._gradientZ}),C$e(0,C$i,"constant",function(){return this._constant}),C$e(0,C$i,"type",function(){return this._type}),C$e(0,C$i,"gradientXMax",function(){return this._gradientXMax}),C$e(0,C$i,"constantMin",function(){return this._constantMin}),C$e(0,C$i,"gradientX",function(){return this._gradientX}),C$e(0,C$i,"gradientY",function(){return this._gradientY}),C$e(0,C$i,"gradientXMin",function(){return this._gradientXMin}),C$e(0,C$i,"constantMax",function(){return this._constantMax}),C$e(0,C$i,"gradientYMin",function(){return this._gradientYMin}),C$e(0,C$i,"gradientYMax",function(){return this._gradientYMax}),C$e(0,C$i,"gradientZMin",function(){return this._gradientZMin}),C$e(0,C$i,"gradientZMax",function(){return this._gradientZMax}),x1ni34.createByConstant=function(C$t){var C$e=new x1ni34;return C$e._type=0,C$e._constant=C$t,C$e},x1ni34.createByGradient=function(C$t,C$e,C$i){var C$n=new x1ni34;return C$n._type=1,C$n._gradientX=C$t,C$n._gradientY=C$e,C$n._gradientZ=C$i,C$n},x1ni34.createByRandomTwoConstant=function(C$t,C$e){var C$i=new x1ni34;return C$i._type=2,C$i._constantMin=C$t,C$i._constantMax=C$e,C$i},x1ni34.createByRandomTwoGradient=function(C$t,C$e,C$i,C$n,C$r,C$s){var C$a=new x1ni34;return C$a._type=3,C$a._gradientXMin=C$t,C$a._gradientXMax=C$e,C$a._gradientYMin=C$i,C$a._gradientYMax=C$n,C$a._gradientZMin=C$r,C$a._gradientZMax=C$s,C$a},x1ni34),C$i=(C$t(oq05by,"laya.d3.core.particleShuriKen.module.RotationOverLifetime"),C$i=oq05by.prototype,C$b.imps(C$i,{"laya.d3.core.IClone":!0}),C$i.cloneTo=function(C$t){this._angularVelocity.cloneTo(C$t._angularVelocity),C$t.enbale=this.enbale},C$i.clone=function(){var C$t;switch(this._angularVelocity.type){case 0:C$t=this._angularVelocity.separateAxes?C$q.createByConstantSeparate(this._angularVelocity.constantSeparate.clone()):C$q.createByConstant(this._angularVelocity.constant);break;case 1:C$t=this._angularVelocity.separateAxes?C$q.createByGradientSeparate(this._angularVelocity.gradientX.clone(),this._angularVelocity.gradientY.clone(),this._angularVelocity.gradientZ.clone(),this._angularVelocity.gradientW.clone()):C$q.createByGradient(this._angularVelocity.gradient.clone());break;case 2:C$t=this._angularVelocity.separateAxes?C$q.createByRandomTwoConstantSeparate(this._angularVelocity.constantMinSeparate.clone(),this._angularVelocity.constantMaxSeparate.clone()):C$q.createByRandomTwoConstant(this._angularVelocity.constantMin,this._angularVelocity.constantMax);break;case 3:C$t=this._angularVelocity.separateAxes?C$q.createByRandomTwoGradientSeparate(this._angularVelocity.gradientXMin.clone(),this._angularVelocity.gradientYMin.clone(),this._angularVelocity.gradientZMin.clone(),this._angularVelocity.gradientWMin.clone(),this._angularVelocity.gradientXMax.clone(),this._angularVelocity.gradientYMax.clone(),this._angularVelocity.gradientZMax.clone(),this._angularVelocity.gradientWMax.clone()):C$q.createByRandomTwoGradient(this._angularVelocity.gradientMin.clone(),this._angularVelocity.gradientMax.clone())}var C$e=new this.constructor(C$t);return C$e.enbale=this.enbale,C$e},C$e(0,C$i,"angularVelocity",function(){return this._angularVelocity}),C$t(njvi7,"laya.d3.core.particleShuriKen.module.shape.BaseShape"),C$i=njvi7.prototype,C$b.imps(C$i,{"laya.d3.core.IClone":!0}),C$i._getShapeBoundBox=function(C$t){throw new Error("BaseShape: must override it.")},C$i._getSpeedBoundBox=function(C$t){throw new Error("BaseShape: must override it.")},C$i.generatePositionAndDirection=function(C$t,C$e,C$i,C$n){throw new Error("BaseShape: must override it.")},C$i._calculateProceduralBounds=function(C$t,C$e,C$i){this._getShapeBoundBox(C$t);var C$n=C$t.min,C$r=C$t.max;C$A.multiply(C$n,C$e,C$n),C$A.multiply(C$r,C$e,C$r);C$n=new C$Zt(new C$A,new C$A);this.randomDirection?(C$n.min=new C$A(-1,-1,-1),C$n.max=new C$A(1,1,1)):this._getSpeedBoundBox(C$n);C$e=new C$Zt(new C$A,new C$A),C$r=C$e.min,C$e=C$e.max;C$A.scale(C$n.min,C$i.y,C$r),C$A.scale(C$n.max,C$i.y,C$e),C$A.add(C$t.min,C$r,C$r),C$A.add(C$t.max,C$e,C$e),C$A.min(C$t.min,C$r,C$t.min),C$A.max(C$t.max,C$r,C$t.max);var C$s=new C$Zt(new C$A,new C$A),C$a=C$s.min,C$o=C$s.max;C$A.scale(C$n.min,C$i.x,C$a),C$A.scale(C$n.max,C$i.x,C$o),C$A.min(C$s.min,C$o,C$r),C$A.max(C$s.min,C$o,C$e),C$A.min(C$t.min,C$r,C$t.min),C$A.max(C$t.max,C$r,C$t.max)},C$i.cloneTo=function(C$t){C$t.enable=this.enable},C$i.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},njvi7),C$Y=(C$t(jxvi7,"laya.d3.core.particleShuriKen.module.shape.ShapeUtils"),jxvi7._randomPointUnitArcCircle=function(C$t,C$e,C$i){C$e=C$e.elements;C$i=C$i?C$i.getFloat()*C$t:Math.random()*C$t,C$e[0]=Math.cos(C$i),C$e[1]=Math.sin(C$i)},jxvi7._randomPointInsideUnitArcCircle=function(C$t,C$e,C$i){var C$n=C$e.elements;jxvi7._randomPointUnitArcCircle(C$t,C$e,C$i);C$t=C$i?Math.pow(C$i.getFloat(),.5):Math.pow(Math.random(),.5),C$n[0]=C$n[0]*C$t,C$n[1]=C$n[1]*C$t},jxvi7._randomPointUnitCircle=function(C$t,C$e){C$t=C$t.elements;C$e=C$e?C$e.getFloat()*Math.PI*2:Math.random()*Math.PI*2,C$t[0]=Math.cos(C$e),C$t[1]=Math.sin(C$e)},jxvi7._randomPointInsideUnitCircle=function(C$t,C$e){var C$i=C$t.elements;jxvi7._randomPointUnitCircle(C$t);C$t=C$e?Math.pow(C$e.getFloat(),.5):Math.pow(Math.random(),.5),C$i[0]=C$i[0]*C$t,C$i[1]=C$i[1]*C$t},jxvi7._randomPointUnitSphere=function(C$t,C$e){var C$t=C$t.elements,C$i=NaN;C$e=C$e?(C$i=C$t[2]=2*C$e.getFloat()-1,C$e.getFloat()*Math.PI*2):(C$i=C$t[2]=2*Math.random()-1,Math.random()*Math.PI*2);C$i=Math.sqrt(1-C$i*C$i);C$t[0]=C$i*Math.cos(C$e),C$t[1]=C$i*Math.sin(C$e)},jxvi7._randomPointInsideUnitSphere=function(C$t,C$e){var C$i=C$t.elements;jxvi7._randomPointUnitSphere(C$t);C$t=C$e?Math.pow(C$e.getFloat(),1/3):Math.pow(Math.random(),1/3),C$i[0]=C$i[0]*C$t,C$i[1]=C$i[1]*C$t,C$i[2]=C$i[2]*C$t},jxvi7._randomPointInsideHalfUnitBox=function(C$t,C$e){C$t=C$t.elements;C$e?(C$t[0]=C$e.getFloat()-.5,C$t[1]=C$e.getFloat()-.5,C$t[2]=C$e.getFloat()-.5):(C$t[0]=Math.random()-.5,C$t[1]=Math.random()-.5,C$t[2]=Math.random()-.5)},jxvi7),C$X=(C$t(zc8h6t,"laya.d3.core.particleShuriKen.module.SizeOverLifetime"),C$n=zc8h6t.prototype,C$b.imps(C$n,{"laya.d3.core.IClone":!0}),C$n.cloneTo=function(C$t){this._size.cloneTo(C$t._size),C$t.enbale=this.enbale},C$n.clone=function(){var C$t;switch(this._size.type){case 0:C$t=this._size.separateAxes?C$W.createByGradientSeparate(this._size.gradientX.clone(),this._size.gradientY.clone(),this._size.gradientZ.clone()):C$W.createByGradient(this._size.gradient.clone());break;case 1:C$t=this._size.separateAxes?C$W.createByRandomTwoConstantSeparate(this._size.constantMinSeparate.clone(),this._size.constantMaxSeparate.clone()):C$W.createByRandomTwoConstant(this._size.constantMin,this._size.constantMax);break;case 2:C$t=this._size.separateAxes?C$W.createByRandomTwoGradientSeparate(this._size.gradientXMin.clone(),this._size.gradientYMin.clone(),this._size.gradientZMin.clone(),this._size.gradientXMax.clone(),this._size.gradientYMax.clone(),this._size.gradientZMax.clone()):C$W.createByRandomTwoGradient(this._size.gradientMin.clone(),this._size.gradientMax.clone())}var C$e=new this.constructor(C$t);return C$e.enbale=this.enbale,C$e},C$e(0,C$n,"size",function(){return this._size}),C$t(hzp2,"laya.d3.core.particleShuriKen.module.StartFrame"),C$n=hzp2.prototype,C$b.imps(C$n,{"laya.d3.core.IClone":!0}),C$n.cloneTo=function(C$t){C$t._type=this._type,C$t._constant=this._constant,C$t._constantMin=this._constantMin,C$t._constantMax=this._constantMax},C$n.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$e(0,C$n,"constant",function(){return this._constant}),C$e(0,C$n,"type",function(){return this._type}),C$e(0,C$n,"constantMin",function(){return this._constantMin}),C$e(0,C$n,"constantMax",function(){return this._constantMax}),hzp2.createByConstant=function(C$t){var C$e=new hzp2;return C$e._type=0,C$e._constant=C$t,C$e},hzp2.createByRandomTwoConstant=function(C$t,C$e){var C$i=new hzp2;return C$i._type=1,C$i._constantMin=C$t,C$i._constantMax=C$e,C$i},hzp2),C$$=(C$t(o7vrjy,"laya.d3.core.particleShuriKen.module.TextureSheetAnimation"),C$n=o7vrjy.prototype,C$b.imps(C$n,{"laya.d3.core.IClone":!0}),C$n.cloneTo=function(C$t){this.tiles.cloneTo(C$t.tiles),C$t.type=this.type,C$t.randomRow=this.randomRow,this._frame.cloneTo(C$t._frame),this._startFrame.cloneTo(C$t._startFrame),C$t.cycles=this.cycles,C$t.enableUVChannels=this.enableUVChannels,C$t.enable=this.enable},C$n.clone=function(){var C$t,C$e;switch(this._frame.type){case 0:C$t=C$U.createByConstant(this._frame.constant);break;case 1:C$t=C$U.createByOverTime(this._frame.frameOverTimeData.clone());break;case 2:C$t=C$U.createByRandomTwoConstant(this._frame.constantMin,this._frame.constantMax);break;case 3:C$t=C$U.createByRandomTwoOverTime(this._frame.frameOverTimeDataMin.clone(),this._frame.frameOverTimeDataMax.clone())}switch(this._startFrame.type){case 0:C$e=C$X.createByConstant(this._startFrame.constant);break;case 1:C$e=C$X.createByRandomTwoConstant(this._startFrame.constantMin,this._startFrame.constantMax)}var C$i=new this.constructor(C$t,C$e);return this.tiles.cloneTo(C$i.tiles),C$i.type=this.type,C$i.randomRow=this.randomRow,C$i.cycles=this.cycles,C$i.enableUVChannels=this.enableUVChannels,C$i.enable=this.enable,C$i},C$e(0,C$n,"frame",function(){return this._frame}),C$e(0,C$n,"startFrame",function(){return this._startFrame}),C$t(kq5bg0,"laya.d3.core.particleShuriKen.module.VelocityOverLifetime"),C$n=kq5bg0.prototype,C$b.imps(C$n,{"laya.d3.core.IClone":!0}),C$n.cloneTo=function(C$t){this._velocity.cloneTo(C$t._velocity),C$t.enbale=this.enbale,C$t.space=this.space},C$n.clone=function(){var C$t;switch(this._velocity.type){case 0:C$t=C$G.createByConstant(this._velocity.constant.clone());break;case 1:C$t=C$G.createByGradient(this._velocity.gradientX.clone(),this._velocity.gradientY.clone(),this._velocity.gradientZ.clone());break;case 2:C$t=C$G.createByRandomTwoConstant(this._velocity.constantMin.clone(),this._velocity.constantMax.clone());break;case 3:C$t=C$G.createByRandomTwoGradient(this._velocity.gradientXMin.clone(),this._velocity.gradientYMin.clone(),this._velocity.gradientZMin.clone(),this._velocity.gradientXMax.clone(),this._velocity.gradientYMax.clone(),this._velocity.gradientZMax.clone())}var C$e=new this.constructor(C$t);return C$e.enbale=this.enbale,C$e.space=this.space,C$e},C$e(0,C$n,"velocity",function(){return this._velocity}),C$t(yojr7,"laya.d3.core.PhasorSpriter3D"),(C$n=yojr7.prototype).line=function(C$t,C$e,C$i,C$n){return this._hasBegun&&1===this._primitiveType||this.drawLinesException(),(this._posInVBData+2*this._floatSizePerVer>this._vbData.length||this._posInIBData+2>this._ibData.length)&&this.flush(),this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$t.x,C$t.y,C$t.z,C$e.x,C$e.y,C$e.z,C$e.w),this.addVertex(C$i.x,C$i.y,C$i.z,C$n.x,C$n.y,C$n.z,C$n.w),this.addIndexes(this._tempUint0,this._tempUint0+1),this},C$n.circle=function(C$t,C$e,C$i,C$n,C$r,C$s){for(this._hasBegun&&1===this._primitiveType||this.drawLinesException(),this._tempUint0=2*C$e,(this._posInVBData+this._tempUint0*this._floatSizePerVer>this._vbData.length||this._posInIBData+2*this._tempUint0>this._ibData.length)&&this.flush(),this._tempUint1=this._posInVBData/this._floatSizePerVer,this._tempNumver0=0,this._tempInt0=0;this._tempNumver0<6.2832;this._tempNumver0=this._tempNumver0+3.1416/C$e,this._tempInt0++)this.addVertex(Math.sin(this._tempNumver0)*C$t,Math.cos(this._tempNumver0)*C$t,0,C$i,C$n,C$r,C$s),0===this._tempInt0?this.addIndexes(this._tempUint1):this._tempInt0===this._tempUint0-1?(this._tempUint2=this._tempUint1+this._tempInt0,this.addIndexes(this._tempUint2,this._tempUint2,this._tempUint1)):(this._tempUint2=this._tempUint1+this._tempInt0,this.addIndexes(this._tempUint2,this._tempUint2));return this},C$n.plane=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h){return this._hasBegun&&4===this._primitiveType||this.drawTrianglesException(),(this._posInVBData+4*this._floatSizePerVer>this._vbData.length||this._posInIBData+6>this._ibData.length)&&this.flush(),this._tempNumver0=C$n/2,this._tempNumver1=C$r/2,this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$t-this._tempNumver0,C$e+this._tempNumver1,C$i,C$s,C$a,C$o,C$h),this.addVertex(C$t+this._tempNumver0,C$e+this._tempNumver1,C$i,C$s,C$a,C$o,C$h),this.addVertex(C$t-this._tempNumver0,C$e-this._tempNumver1,C$i,C$s,C$a,C$o,C$h),this.addVertex(C$t+this._tempNumver0,C$e-this._tempNumver1,C$i,C$s,C$a,C$o,C$h),this._tempUint1=this._tempUint0+1,this._tempUint2=this._tempUint0+2,this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint2,this._tempUint2,this._tempUint1,this._tempUint0+3),this},C$n.box=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l){return this._hasBegun&&4===this._primitiveType||this.drawTrianglesException(),(this._posInVBData+8*this._floatSizePerVer>this._vbData.length||this._posInIBData+36>this._ibData.length)&&this.flush(),this._tempNumver0=C$n/2,this._tempNumver1=C$r/2,this._tempNumver2=C$s/2,this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$t-this._tempNumver0,C$e+this._tempNumver1,C$i+this._tempNumver2,C$a,C$o,C$h,C$l),this.addVertex(C$t+this._tempNumver0,C$e+this._tempNumver1,C$i+this._tempNumver2,C$a,C$o,C$h,C$l),this.addVertex(C$t-this._tempNumver0,C$e-this._tempNumver1,C$i+this._tempNumver2,C$a,C$o,C$h,C$l),this.addVertex(C$t+this._tempNumver0,C$e-this._tempNumver1,C$i+this._tempNumver2,C$a,C$o,C$h,C$l),this.addVertex(C$t+this._tempNumver0,C$e+this._tempNumver1,C$i-this._tempNumver2,C$a,C$o,C$h,C$l),this.addVertex(C$t-this._tempNumver0,C$e+this._tempNumver1,C$i-this._tempNumver2,C$a,C$o,C$h,C$l),this.addVertex(C$t+this._tempNumver0,C$e-this._tempNumver1,C$i-this._tempNumver2,C$a,C$o,C$h,C$l),this.addVertex(C$t-this._tempNumver0,C$e-this._tempNumver1,C$i-this._tempNumver2,C$a,C$o,C$h,C$l),this._tempUint1=this._tempUint0+1,this._tempUint2=this._tempUint0+2,this._tempUint3=this._tempUint0+3,this._tempUint4=this._tempUint0+4,this._tempUint5=this._tempUint0+5,this._tempUint6=this._tempUint0+6,this._tempUint7=this._tempUint0+7,this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint2,this._tempUint2,this._tempUint1,this._tempUint3,this._tempUint4,this._tempUint5,this._tempUint6,this._tempUint6,this._tempUint5,this._tempUint7,this._tempUint5,this._tempUint0,this._tempUint7,this._tempUint7,this._tempUint0,this._tempUint2,this._tempUint1,this._tempUint4,this._tempUint3,this._tempUint3,this._tempUint4,this._tempUint6,this._tempUint5,this._tempUint4,this._tempUint0,this._tempUint0,this._tempUint4,this._tempUint1,this._tempUint2,this._tempUint3,this._tempUint7,this._tempUint7,this._tempUint3,this._tempUint6),this},C$n.cone=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){for(this._hasBegun&&4===this._primitiveType||this.drawTrianglesException(),(this._posInVBData+(2*C$i+2)*this._floatSizePerVer>this._vbData.length||this._posInIBData+6*C$i>this._ibData.length)&&this.flush(),this._tempUint0=this._posInVBData,this._tempUint1=this._posInVBData/this._floatSizePerVer,this._tempNumver0=2*Math.PI/C$i,this.addVertexIndex(0,C$e,0,C$n,C$r,C$s,C$a,this._tempUint0),this.addVertexIndex(0,0,0,C$n,C$r,C$s,C$a,this._tempUint0+this._floatSizePerVer),this._tempInt0=2,this._tempNumver1=0,this._tempInt1=0;this._tempInt1<C$i;this._tempInt1++)this._tempNumver2=Math.cos(this._tempNumver1),this._tempNumver3=Math.sin(this._tempNumver1),this.addVertexIndex(C$t*this._tempNumver2,0,C$t*this._tempNumver3,C$n,C$r,C$s,C$a,this._tempUint0+this._tempInt0*this._floatSizePerVer),this.addIndexes(this._tempUint1,this._tempUint1+this._tempInt0),this._tempInt1==C$i-1?this.addIndexes(this._tempUint1+2):this.addIndexes(this._tempUint1+this._tempInt0+1),this.addVertexIndex(C$t*this._tempNumver2,0,C$t*this._tempNumver3,C$n,C$r,C$s,C$a,this._tempUint0+(this._tempInt0+C$i)*this._floatSizePerVer),this.addIndexes(this._tempUint1+1),this._tempInt1==C$i-1?this.addIndexes(this._tempUint1+C$i+2):this.addIndexes(this._tempUint1+this._tempInt0+C$i+1),this.addIndexes(this._tempUint1+this._tempInt0+C$i),this._tempInt0++,this._tempNumver1+=this._tempNumver0;return this},C$n.boundingBoxLine=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l){return this._hasBegun&&1===this._primitiveType||this.drawLinesException(),(this._posInVBData+8*this._floatSizePerVer>this._vbData.length||this._posInIBData+48>this._ibData.length)&&this.flush(),this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$t,C$r,C$s,C$a,C$o,C$h,C$l),this.addVertex(C$n,C$r,C$s,C$a,C$o,C$h,C$l),this.addVertex(C$t,C$e,C$s,C$a,C$o,C$h,C$l),this.addVertex(C$n,C$e,C$s,C$a,C$o,C$h,C$l),this.addVertex(C$n,C$r,C$i,C$a,C$o,C$h,C$l),this.addVertex(C$t,C$r,C$i,C$a,C$o,C$h,C$l),this.addVertex(C$n,C$e,C$i,C$a,C$o,C$h,C$l),this.addVertex(C$t,C$e,C$i,C$a,C$o,C$h,C$l),this._tempUint1=this._tempUint0+1,this._tempUint2=this._tempUint0+2,this._tempUint3=this._tempUint0+3,this._tempUint4=this._tempUint0+4,this._tempUint5=this._tempUint0+5,this._tempUint6=this._tempUint0+6,this._tempUint7=this._tempUint0+7,this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint1,this._tempUint3,this._tempUint3,this._tempUint2,this._tempUint2,this._tempUint0,this._tempUint4,this._tempUint5,this._tempUint5,this._tempUint7,this._tempUint7,this._tempUint6,this._tempUint6,this._tempUint4,this._tempUint5,this._tempUint0,this._tempUint0,this._tempUint2,this._tempUint2,this._tempUint7,this._tempUint7,this._tempUint5,this._tempUint1,this._tempUint4,this._tempUint4,this._tempUint6,this._tempUint6,this._tempUint3,this._tempUint3,this._tempUint1,this._tempUint5,this._tempUint4,this._tempUint4,this._tempUint1,this._tempUint1,this._tempUint0,this._tempUint0,this._tempUint5,this._tempUint2,this._tempUint3,this._tempUint3,this._tempUint6,this._tempUint6,this._tempUint7,this._tempUint7,this._tempUint2),this},C$n.addVertex=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){return this._hasBegun||this.addVertexIndexException(),this._vbData[this._posInVBData]=C$t,this._vbData[this._posInVBData+1]=C$e,this._vbData[this._posInVBData+2]=C$i,this._vbData[this._posInVBData+3]=C$n,this._vbData[this._posInVBData+4]=C$r,this._vbData[this._posInVBData+5]=C$s,this._vbData[this._posInVBData+6]=C$a,this._posInVBData+=this._floatSizePerVer,this},C$n.addVertexIndex=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){return this._hasBegun||this.addVertexIndexException(),this._vbData[C$o]=C$t,this._vbData[C$o+1]=C$e,this._vbData[C$o+2]=C$i,this._vbData[C$o+3]=C$n,this._vbData[C$o+4]=C$r,this._vbData[C$o+5]=C$s,this._vbData[C$o+6]=C$a,(C$o+=this._floatSizePerVer)>this._posInVBData&&(this._posInVBData=C$o),this},C$n.addIndexes=function(C$t){var C$e=arguments;this._hasBegun||this.addVertexIndexException();for(var C$i=0;C$i<C$e.length;C$i++)this._ibData[this._posInIBData]=C$e[C$i],this._posInIBData++;return this},C$n.begin=function(C$t,C$e){return this._hasBegun&&this.beginException0(),1!==C$t&&4!==C$t&&this.beginException1(),this._primitiveType=C$t,this._camera=C$e,this._hasBegun=!0,this},C$n.end=function(){return this._hasBegun||this.endException(),this.flush(),this._hasBegun=!1,this},C$n.flush=function(){0!==this._posInVBData&&(this._ib.setData(this._ibData),this._vb.setData(this._vbData),this._vb._bind(),this._ib._bind(),this._shader=this._shaderCompile.withCompile(0,0,0),this._shader.bind(),this._shader.uploadAttributes(yojr7._vertexDeclaration.shaderValues.data,null),this._spriteShaderValue.setValue(1,this._camera.projectionViewMatrix.elements),this._shader.uploadSpriteUniforms(this._spriteShaderValue.data),C$R.drawCall++,C$k.mainContext.drawElements(this._primitiveType,this._posInIBData,5123,0),this._posInIBData=0,this._posInVBData=0)},C$n.addVertexIndexException=function(){throw new Error("\u8bf7\u5148\u8c03\u7528begin()\u51fd\u6570")},C$n.beginException0=function(){throw new Error("\u8c03\u7528begin()\u524d\u8bf7\u786e\u4fdd\u5df2\u6210\u529f\u8c03\u7528end()\uff01")},C$n.beginException1=function(){throw new Error("\u53ea\u652f\u6301\u201cLINES\u201d\u548c\u201cTRIANGLES\u201d\u4e24\u79cd\u57fa\u5143\uff01")},C$n.endException=function(){throw new Error("\u8c03\u7528end()\u524d\u8bf7\u786e\u4fdd\u5df2\u6210\u529f\u8c03\u7528begin()\uff01")},C$n.drawLinesException=function(){throw new Error("\u60a8\u5fc5\u987b\u786e\u4fdd\u5728\u6b64\u4e4b\u524d\u5df2\u8c03\u7528begin()\u4e14\u4f7f\u7528\u201cLINES\u201d\u57fa\u5143\uff01")},C$n.drawTrianglesException=function(){throw new Error("\u60a8\u5fc5\u987b\u786e\u4fdd\u5728\u6b64\u4e4b\u524d\u5df2\u8c03\u7528begin()\u4e14\u4f7f\u7528\u201cTRIANGLES\u201d\u57fa\u5143\uff01")},C$h(yojr7,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(28,[new C$r(0,"vector3",0),new C$r(12,"vector4",1)])}]),yojr7),C$K=(C$t(d0b6,"laya.d3.core.render.RenderElement"),(C$n=d0b6.prototype).getDynamicBatchBakedVertexs=function(C$t){for(var C$t=this._renderObj._getVertexBuffer(C$t),C$e=C$t.getData().slice(),C$t=C$t.vertexDeclaration,C$i=C$t.getVertexElementByUsage(0).offset/4,C$n=C$t.getVertexElementByUsage(3).offset/4,C$r=this._sprite3D.transform,C$s=C$r.worldMatrix,C$a=C$r.rotation,C$u=C$t.vertexStride/4,C$o=0,C$c=C$e.length;C$o<C$c;C$o+=C$u){var C$h=C$o+C$i,C$l=C$o+C$n;C$ge.transformVector3ArrayToVector3ArrayCoordinate(C$e,C$h,C$s,C$e,C$h),C$ge.transformVector3ArrayByQuat(C$e,C$l,C$a,C$e,C$l)}return C$e},C$n.getBakedIndices=function(){return this._renderObj._getIndexBuffer().getData()},C$n._destroy=function(){this._staticBatch&&this._staticBatch._manager._garbageCollection(this)},C$e(0,C$n,"id",function(){return this._id}),C$e(0,C$n,"renderObj",function(){return this._renderObj},function(C$t){this._renderObj!==C$t&&(this._renderObj=C$t)}),d0b6._uniqueIDCounter=0,d0b6),C$Z=(C$t(o0k,"laya.d3.core.render.RenderQueue"),(C$n=o0k.prototype)._sortOpaqueFunc=function(C$t,C$e){var C$i;return C$t._render&&C$e._render?0==(C$i=C$t._material.renderQueue-C$e._material.renderQueue)?C$t._render._distanceForSort-C$e._render._distanceForSort:C$i:0},C$n._sortAlphaFunc=function(C$t,C$e){var C$i;return C$t._render&&C$e._render?0==(C$i=C$t._material.renderQueue-C$e._material.renderQueue)?C$e._render._distanceForSort-C$t._render._distanceForSort:C$i:0},C$n._begainRenderElement=function(C$t,C$e,C$i){return!!C$e._beforeRender(C$t)},C$n._sortAlpha=function(C$t){o0k._cameraPosition=C$t,this._finalElements.sort(this._sortAlphaFunc)},C$n._sortOpaque=function(C$t){o0k._cameraPosition=C$t,this._finalElements.sort(this._sortOpaqueFunc)},C$n._preRender=function(C$t){this._finalElements=this._renderElements.concat(this._dynamicBatchCombineRenderElements)},C$n._render=function(C$t,C$u){for(var C$c,C$e,C$_,C$i,C$d,C$f,C$p=C$R.loopCount,C$n=this._scene,C$r=C$t.camera,C$s=(C$r.id,!1),C$m=0,C$g=this._finalElements.length;C$m<C$g;C$m++){var C$a,C$o,C$h,C$l=this._finalElements[C$m];if(null!=C$l._onPreRenderFunction&&C$l._onPreRenderFunction.call(C$l._sprite3D,C$t),0===C$l._type){if(C$t.owner=C$h=C$l._sprite3D,C$t.renderElement=C$l,C$h._preRenderUpdateComponents(C$t),C$a=C$l.renderObj,C$o=C$l._material,this._begainRenderElement(C$t,C$a,C$o)){if(C$c=C$a._getVertexBuffers(),!(C$_=(C$e=C$a._getVertexBuffer(0)).vertexDeclaration)){var C$v;this._errorRecord[C$e.id]||(this._errorRecord[C$e.id]=1,C$v="vertexBuffer:("+C$e._destroyed+","+C$e._released+","+C$e._referenceCount+","+C$e._buffer+"), material:"+(C$o?C$o.__className+"("+C$o._destroyed+","+C$o._released+")":"null")+", owner:"+(C$h?C$h.__className+"("+C$h._destroyed+","+C$h._activeInHierarchy+","+C$h._displayedInStage+")":"null")+", renderObj:"+(C$a?C$a.__className+"("+C$a._destroyed+","+C$a._released+","+C$a._referenceCount+")":"")+", parent:, url:"+(C$h?C$h.url:"")+", disposeStack:"+C$e.disposeStack,C$b.recordError("\u62a5\u9519\uff1aunknown vertexDeclaration  "+C$v));continue}if(C$s=(C$i=C$t._shader=C$o._getShader(C$n._shaderDefineValue,C$_.shaderDefineValue,C$h._shaderDefineValue)).bind()||C$p!==C$i._uploadLoopCount,C$c){if(C$i._uploadVertexBuffer!==C$c||C$s){for(var C$x=0;C$x<C$c.length;C$x++){var C$y=C$c[C$x];C$i.uploadAttributesX(C$y.vertexDeclaration.shaderValues.data,C$y)}C$i._uploadVertexBuffer=C$c}}else C$i._uploadVertexBuffer===C$e&&!C$s||(C$i.uploadAttributes(C$_.shaderValues.data,null),C$i._uploadVertexBuffer=C$e);C$i._uploadScene===C$n&&!C$s||(C$i.uploadSceneUniforms(C$n._shaderValues.data),C$i._uploadScene=C$n),C$r===C$i._uploadCamera&&C$i._uploadSprite3D===C$h&&!C$s||(C$i.uploadSpriteUniforms(C$h._shaderValues.data),C$i._uploadSprite3D=C$h),C$r===C$i._uploadCamera&&!C$s||(C$i.uploadCameraUniforms(C$r._shaderValues.data),C$i._uploadCamera=C$r),C$i._uploadMaterial===C$o&&!C$s||(C$o._upload(),C$i._uploadMaterial=C$o),C$d!==C$o?(C$o._setRenderStateBlendDepth(),C$o._setRenderStateFrontFace(C$u,C$h.transform),C$d=C$o,C$f=C$h):C$f!==C$h&&(C$o._setRenderStateFrontFace(C$u,C$h.transform),C$f=C$h),C$a._render(C$t),C$i._uploadLoopCount=C$p}C$h._postRenderUpdateComponents(C$t)}else 2===C$l._type&&(C$l.renderObj,C$t.owner=C$h=C$l._sprite3D,C$t.renderElement=C$l,C$t._batchIndexStart=C$l._tempBatchIndexStart,C$t._batchIndexEnd=C$l._tempBatchIndexEnd,C$a=C$l.renderObj,C$o=C$l._material,this._begainRenderElement(C$t,C$a,C$o)&&(C$_=(C$e=C$a._getVertexBuffer(0)).vertexDeclaration,C$s=(C$i=C$t._shader=C$o._getShader(C$n._shaderDefineValue,C$_.shaderDefineValue,C$h._shaderDefineValue)).bind()||C$p!==C$i._uploadLoopCount,C$i._uploadVertexBuffer===C$e&&!C$s||(C$i.uploadAttributes(C$_.shaderValues.data,null),C$i._uploadVertexBuffer=C$e),C$i._uploadScene===C$n&&!C$s||(C$i.uploadSceneUniforms(C$n._shaderValues.data),C$i._uploadScene=C$n),C$r===C$i._uploadCamera&&C$i._uploadSprite3D===C$h&&!C$s||(C$i.uploadSpriteUniforms(C$h._shaderValues.data),C$i._uploadSprite3D=C$h),C$r===C$i._uploadCamera&&!C$s||(C$i.uploadCameraUniforms(C$r._shaderValues.data),C$i._uploadCamera=C$r),C$i._uploadMaterial===C$o&&!C$s||(C$o._upload(),C$i._uploadMaterial=C$o),C$d!==C$o?(C$o._setRenderStateBlendDepth(),C$o._setRenderStateFrontFace(C$u,C$h.transform),C$d=C$o,C$f=C$h):C$f!==C$h&&(C$o._setRenderStateFrontFace(C$u,C$h.transform),C$f=C$h),C$a._render(C$t),C$i._uploadLoopCount=C$p))}},C$n._renderShadow=function(C$t,C$u){for(var C$e,C$i,C$n,C$c,C$r,C$s,C$_=C$R.loopCount,C$d=this._scene,C$a=C$t.camera,C$f=0,C$p=this._finalElements.length;C$f<C$p;C$f++){var C$o,C$h,C$l=this._finalElements[C$f];0===C$l._type&&(C$t.owner=C$h=C$l._sprite3D,C$u||C$h._projectionViewWorldUpdateCamera===C$a&&C$h._projectionViewWorldUpdateLoopCount===C$R.loopCount||(C$h._render._renderUpdate(C$t._projectionViewMatrix),C$h._projectionViewWorldUpdateLoopCount=C$R.loopCount,C$h._projectionViewWorldUpdateCamera=C$a),C$t.renderElement=C$l,C$h._preRenderUpdateComponents(C$t),C$o=C$l.renderObj,C$l=C$l._material,this._begainRenderElement(C$t,C$o,null)&&(C$i=(C$e=C$o._getVertexBuffer(0)).vertexDeclaration,C$s=(C$n=C$t._shader=C$l._getShader(C$d._shaderDefineValue,C$i.shaderDefineValue,C$h._shaderDefineValue)).bind()||C$_!==C$n._uploadLoopCount,C$n._uploadVertexBuffer===C$e&&!C$s||(C$n.uploadAttributes(C$i.shaderValues.data,null),C$n._uploadVertexBuffer=C$e),C$a===C$n._uploadCamera&&C$n._uploadSprite3D===C$h&&!C$s||(C$n.uploadSpriteUniforms(C$h._shaderValues.data),C$n._uploadSprite3D=C$h),C$a===C$n._uploadCamera&&!C$s||(C$n.uploadCameraUniforms(C$a._shaderValues.data),C$n._uploadCamera=C$a),C$n._uploadMaterial===C$l&&!C$s||(C$l._upload(),C$n._uploadMaterial=C$l),C$n._uploadRenderElement,C$c!==C$l?(C$l._setRenderStateFrontFace(!1,C$h.transform),C$c=C$l,C$r=C$h):C$r!==C$h&&(C$l._setRenderStateFrontFace(!1,C$h.transform),C$r=C$h),C$o._render(C$t),C$n._uploadLoopCount=C$_),C$h._postRenderUpdateComponents(C$t))}},C$n._clearRenderElements=function(){this._dynamicBatchCombineRenderElements.length=0,this._renderElements.length=0,this._needSort=!0},C$n._addRenderElement=function(C$t){this._renderElements.push(C$t),this._needSort=!0},C$n._addDynamicBatchElement=function(C$t){this._dynamicBatchCombineRenderElements.push(C$t)},C$e(0,C$n,"id",function(){return this._id}),o0k._uniqueIDCounter=0,o0k._cameraPosition=null,o0k),C$Q=(C$t(sw2$,"laya.d3.core.render.RenderState"),sw2$.clientWidth=0,sw2$.clientHeight=0,sw2$),C$J=(C$t(czeh,"laya.d3.core.scene.OctreeNode"),C$n=czeh.prototype,C$b.imps(C$n,{"laya.d3.core.scene.ITreeNode":!0}),C$n.init=function(C$t,C$e){var C$i=new C$A,C$n=new C$A;C$A.scale(C$e,-.5,C$i),C$A.scale(C$e,.5,C$n),C$A.add(C$i,C$t,C$i),C$A.add(C$n,C$t,C$n),this.exactBox=new C$Zt(C$i,C$n),this.relaxBox=new C$Zt(C$i,C$n)},C$n.addTreeNode=function(C$t){1===Collision.boxContainsBox(this._relaxBox,C$t.boundingBox)?this.addNodeDown(C$t,0):this.addObject(C$t)},C$n.addChild=function(C$t){var C$e=this._children[C$t];var C$i;return null==C$e&&(C$e=new czeh(this._scene,this._currentDepth+1),(this._children[C$t]=C$e)._parent=this,C$A.subtract(this._exactBox.max,this._exactBox.min,czeh.tempSize),C$A.multiply(czeh.tempSize,czeh._octreeSplit[C$t],czeh.tempCenter),C$A.add(this._exactBox.min,czeh.tempCenter,czeh.tempCenter),C$A.scale(czeh.tempSize,.25,czeh.tempSize),C$t=new C$A,C$i=new C$A,C$A.subtract(czeh.tempCenter,czeh.tempSize,C$t),C$A.add(czeh.tempCenter,czeh.tempSize,C$i),C$e.exactBox=new C$Zt(C$t,C$i),C$A.scale(czeh.tempSize,czeh.relax,czeh.tempSize),C$t=new C$A,C$i=new C$A,C$A.subtract(czeh.tempCenter,czeh.tempSize,C$t),C$A.add(czeh.tempCenter,czeh.tempSize,C$i),C$e.relaxBox=new C$Zt(C$t,C$i)),C$e},C$n.addObject=function(C$t){(C$t._treeNode=this)._objects.push(C$t)},C$n.removeObject=function(C$t){if(C$t._treeNode!=this)return console.log("OctreeNode::removeObject error"),!1;C$t=this._objects.indexOf(C$t);return-1!==C$t&&(this._objects.splice(C$t,1),!0)},C$n.clearObject=function(){this._objects.length=0},C$n.addNodeUp=function(C$t,C$e){this._parent&&1!==Collision.boxContainsBox(this._exactBox,C$t.boundingBox)?this._parent.addNodeUp(C$t,C$e-1):this.addNodeDown(C$t,C$e)},C$n.addNodeDown=function(C$t,C$e){var C$i;C$e<this._scene.treeLevel?(C$i=this.inChildIndex(C$t.boundingBoxCenter),C$i=this.addChild(C$i),1===Collision.boxContainsBox(C$i._relaxBox,C$t.boundingBox)?C$i.addNodeDown(C$t,++C$e):this.addObject(C$t)):this.addObject(C$t)},C$n.inChildIndex=function(C$t){return 4*(C$t.z<this._boundingBoxCenter.z?0:1)+2*(C$t.y<this._boundingBoxCenter.y?0:1)+(C$t.x<this._boundingBoxCenter.x?0:1)},C$n.updateObject=function(C$t){1===Collision.boxContainsBox(this._relaxBox,C$t.boundingBox)?(this.removeObject(C$t),C$t._treeNode=null,this.addNodeDown(C$t,this._currentDepth)):this._parent&&(this.removeObject(C$t),C$t._treeNode=null,this._parent.addNodeUp(C$t,this._currentDepth-1))},C$n.cullingObjects=function(C$t,C$e,C$u,C$i,C$n){var C$c,C$_,C$r=0,C$s=0,C$d=this._scene._dynamicBatchManager;for(C$r=0,C$c=this._objects.length;C$r<C$c;C$r++){var C$a=this._objects[C$r];if(C$j.isVisible(C$a._owner.layer.mask)&&C$a.enable&&(!C$e||(C$R.treeSpriteCollision+=1,0!==C$t.containsBoundSphere(C$a.boundingSphere)))){C$a._renderUpdate(C$n),C$a._distanceForSort=C$A.distance(C$a.boundingSphere.center,C$i)+C$a.sortingFudge;var C$f=C$a._renderElements;for(C$s=0,C$_=C$f.length;C$s<C$_;C$s++){var C$o=C$f[C$s],C$h=C$o._staticBatch;C$h&&C$h._material===C$o._material?C$h._addBatchRenderElement(C$o):(C$h=C$o.renderObj).triangleCount<10&&1===C$h._vertexBufferCount&&C$h._getIndexBuffer()&&C$o._material.renderQueue<2&&C$o._canDynamicBatch&&!C$a._owner.isStatic?C$d._addPrepareRenderElement(C$o):this._scene.getRenderQueue(C$o._material.renderQueue)._addRenderElement(C$o)}}}for(C$r=0;C$r<8;C$r++){var C$l=this._children[C$r];if(null!=C$l){var C$p=C$e;if(C$e){var C$m=C$t.containsBoundBox(C$l._relaxBox);if(C$R.treeNodeCollision+=1,0===C$m)continue;C$p=2===C$m}C$l.cullingObjects(C$t,C$p,C$u,C$i,C$n)}}},C$n.cullingShadowObjects=function(C$t,C$e,C$i,C$u,C$c){var C$n,C$r,C$s=0,C$a=0;for(this._scene._dynamicBatchManager,C$s=0,C$n=this._objects.length;C$s<C$n;C$s++){var C$o=this._objects[C$s];if(C$o.castShadow&&C$j.isVisible(C$o._owner.layer.mask)&&C$o.enable&&(!C$i||0!==C$t[0].containsBoundSphere(C$o.boundingSphere)))for(var C$h=1,C$_=C$t.length;C$h<C$_;C$h++){var C$d=C$e[C$h-1];if(0!==C$t[C$h].containsBoundSphere(C$o.boundingSphere)){var C$f=C$o._renderElements;for(C$a=0,C$r=C$f.length;C$a<C$r;C$a++)C$d._addRenderElement(C$f[C$a])}}}for(C$s=0;C$s<8;C$s++){var C$l=this._children[C$s];if(null!=C$l){var C$p=C$i;if(C$i){var C$m=C$t[0].containsBoundBox(C$l._relaxBox);if(0===C$m)continue;C$p=2===C$m}C$l.cullingShadowObjects(C$t,C$e,C$p,C$u,C$c)}}},C$n.cullingShadowObjectsOnePSSM=function(C$t,C$e,C$i,C$n,C$u,C$c){var C$r,C$s,C$_=C$e[0],C$a=0,C$o=0;for(C$a=0,C$r=this._objects.length;C$a<C$r;C$a++){var C$h=this._objects[C$a];if(C$h.castShadow&&C$j.isVisible(C$h._owner.layer.mask)&&C$h.enable&&(!C$n||0!==C$t.containsBoundSphere(C$h.boundingSphere))){C$h._renderUpdate(C$i);var C$d=C$h._renderElements;for(C$o=0,C$s=C$d.length;C$o<C$s;C$o++)C$_._addRenderElement(C$d[C$o])}}for(C$a=0;C$a<8;C$a++){var C$l=this._children[C$a];if(null!=C$l){var C$f=C$n;if(C$n){var C$p=C$t.containsBoundBox(C$l._relaxBox);if(0===C$p)continue;C$f=2===C$p}C$l.cullingShadowObjectsOnePSSM(C$t,C$e,C$i,C$f,C$u,C$c)}}},C$n.renderBoudingBox=function(C$t){this._renderBoudingBox(C$t);for(var C$e=0;C$e<8;++C$e){var C$i=this._children[C$e];C$i&&C$i.renderBoudingBox(C$t)}},C$n.buildAllChild=function(C$t){if(C$t<this._scene.treeLevel)for(var C$e=0;C$e<8;C$e++)this.addChild(C$e).buildAllChild(C$t+1)},C$n._renderBoudingBox=function(C$t){},C$e(0,C$n,"exactBox",function(){return this._exactBox},function(C$t){this._exactBox=C$t,C$A.add(C$t.min,C$t.max,this._boundingBoxCenter),C$A.scale(this._boundingBoxCenter,.5,this._boundingBoxCenter)}),C$e(0,C$n,"relaxBox",function(){return this._relaxBox},function(C$t){(this._relaxBox=C$t).getCorners(this._corners),C$Jt.createfromPoints(this._corners,this._boundingSphere)}),czeh.debugMode=!1,czeh.relax=1.15,czeh.CHILDNUM=8,C$h(czeh,["tempVector0",function(){return this.tempVector0=new C$A},"tempSize",function(){return this.tempSize=new C$A},"tempCenter",function(){return this.tempCenter=new C$A},"_octreeSplit",function(){return this._octreeSplit=[new C$A(.25,.25,.25),new C$A(.75,.25,.25),new C$A(.25,.75,.25),new C$A(.75,.75,.25),new C$A(.25,.25,.75),new C$A(.75,.25,.75),new C$A(.25,.75,.75),new C$A(.75,.75,.75)]}]),czeh),C$tt=(C$t(function(){},"laya.d3.core.scene.SceneManager"),C$t(tcg8d,"laya.d3.core.trail.module.Color",null,"Color$1"),tcg8d.prototype.cloneTo=function(C$t){C$t._r=this._r,C$t._g=this._g,C$t._b=this._b,C$t._a=this._a},C$h(tcg8d,["RED",function(){return this.RED=new tcg8d(1,0,0,1)},"GREEN",function(){return this.GREEN=new tcg8d(0,1,0,1)},"BLUE",function(){return this.BLUE=new tcg8d(0,0,1,1)},"CYAN",function(){return this.CYAN=new tcg8d(0,1,1,1)},"YELLOW",function(){return this.YELLOW=new tcg8d(1,.92,.016,1)},"MAGENTA",function(){return this.MAGENTA=new tcg8d(1,0,1,1)},"GRAY",function(){return this.GRAY=new tcg8d(.5,.5,.5,1)},"WHITE",function(){return this.WHITE=new tcg8d(1,1,1,1)},"BLACK",function(){return this.BLACK=new tcg8d(0,0,0,1)}]),tcg8d),C$et=(C$t(w2f_p9,"laya.d3.core.trail.module.Gradient"),(C$n=w2f_p9.prototype).setKeys=function(C$t,C$e){var C$i,C$n;this._colorKeys=C$t;for(var C$r=this.index=0;C$r<C$t.length;C$r++){var C$s=(C$i=C$t[C$r]).color;this._colorKeyData[this.index++]=C$s._r,this._colorKeyData[this.index++]=C$s._g,this._colorKeyData[this.index++]=C$s._b,this._colorKeyData[this.index++]=C$i.time}this._alphaKeys=C$e;for(var C$a=this.index=0;C$a<C$e.length;C$a++)C$n=C$e[C$a],this._alphaKeyData[this.index++]=C$n.alpha,this._alphaKeyData[this.index++]=C$n.time},C$n.cloneTo=function(C$t){var C$e=0,C$i=0,C$n=this.colorKeys,C$r=[];for(C$e=0,C$i=C$n.length;C$e<C$i;C$e++){var C$s=new C$it;C$n[C$e].cloneTo(C$s),C$r.push(C$s)}var C$a=this.alphaKeys,C$o=[];for(C$e=0,C$i=C$a.length;C$e<C$i;C$e++){var C$h=new C$et;C$a[C$e].cloneTo(C$h),C$o.push(C$h)}C$t.setKeys(C$r,C$o)},C$e(0,C$n,"mode",function(){return this._mode},function(C$t){this._mode=C$t}),C$e(0,C$n,"colorKeys",function(){return this._colorKeys},function(C$t){this._colorKeys=C$t;for(var C$e=this.index=0;C$e<C$t.length;C$e++){var C$i=C$t[C$e],C$n=C$i.color;this._colorKeyData[this.index++]=C$n._r,this._colorKeyData[this.index++]=C$n._g,this._colorKeyData[this.index++]=C$n._b,this._colorKeyData[this.index++]=C$i.time}}),C$e(0,C$n,"alphaKeys",function(){return this._alphaKeys},function(C$t){this._alphaKeys=C$t;for(var C$e=this.index=0;C$e<C$t.length;C$e++){var C$i=C$t[C$e];this._alphaKeyData[this.index++]=C$i.alpha,this._alphaKeyData[this.index++]=C$i.time}}),C$t(h6d,"laya.d3.core.trail.module.GradientAlphaKey"),(C$n=h6d.prototype).cloneTo=function(C$t){C$t.alpha=this.alpha,C$t.time=this.time},C$e(0,C$n,"alpha",function(){return this._alpha},function(C$t){this._alpha=C$t}),C$e(0,C$n,"time",function(){return this._time},function(C$t){this._time=C$t}),h6d),C$it=(C$t(bd06g,"laya.d3.core.trail.module.GradientColorKey"),(C$n=bd06g.prototype).cloneTo=function(C$t){this.color.cloneTo(C$t.color),C$t.time=this.time},C$e(0,C$n,"color",function(){return this._color},function(C$t){this._color=C$t}),C$e(0,C$n,"time",function(){return this._time},function(C$t){this._time=C$t}),bd06g),C$nt=(C$t(s2f9$,"laya.d3.core.trail.module.GradientMode"),s2f9$.Blend=0,s2f9$.Fixed=1,C$t(_pf29w,"laya.d3.core.trail.module.TextureMode"),_pf29w.Stretch=0,_pf29w.Tile=1,C$t(_wf9$,"laya.d3.core.trail.module.TrailKeyFrame"),_wf9$.prototype.cloneTo=function(C$t){C$t.time=this.time,C$t.inTangent=this.inTangent,C$t.outTangent=this.outTangent,C$t.value=this.value},C$t(mula,"laya.d3.core.trail.TrailRenderElement"),C$n=mula.prototype,C$b.imps(C$n,{"laya.d3.core.render.IRenderable":!0}),C$n._updateTrail=function(){this._everyAddVerticeCount1=0,this._isStart||this._addTrailByFirstPosition(this._lastPosition,this._curPosition),this._addTrailByNextPosition(this._curPosition),this._vertexBuffer1.setData(this._vertices1,this._verticesIndex1,this._verticesIndex1,this._everyAddVerticeCount1),this._verticesIndex1+=this._everyAddVerticeCount1,this._curPosition.cloneTo(this._lastPosition),2==this._virtualVerticesCount&&(this._verticesIndex1-=2*this._floatCountPerVertices1)},C$n._addTrailByFirstPosition=function(C$t,C$e){C$A.subtract(C$e,C$t,this._delVector3),C$A.cross(this._delVector3,this._camera.forward,this._pointAtoBVector3),C$A.normalize(this._pointAtoBVector3,this._pointAtoBVector3),C$A.scale(this._pointAtoBVector3,this._owner.widthMultiplier/2,this._pointAtoBVector3),this._updateVerticesByPosition(C$t),C$t.cloneTo(this._lastFixedVertexPosition),this._verticesCount+=2,this._curtime=this._owner._hasLifeSubTrail?this._owner._curSubTrailFinishCurTime:this._owner._curtime,this._everyGroupVertexBirthTime.push(this._curtime),this._isStart=!0,this._owner._hasLifeSubTrail=!0},C$n._addTrailByNextPosition=function(C$t){C$A.subtract(C$t,this._lastFixedVertexPosition,this._delVector3),C$A.cross(this._delVector3,this._camera.forward,this._pointAtoBVector3),C$A.normalize(this._pointAtoBVector3,this._pointAtoBVector3),C$A.scale(this._pointAtoBVector3,this._owner.widthMultiplier/2,this._pointAtoBVector3),this._delLength=C$A.scalarLength(this._delVector3),this._delLength-this._owner.minVertexDistance>=C$te.zeroTolerance?(this._owner._trailTotalLength+=this._delLength,this._owner._trailSupplementLength=0,this._updateVerticesByPosition(C$t),C$t.cloneTo(this._lastFixedVertexPosition),this._verticesCount+=2,this._virtualVerticesCount=0,this._everyGroupVertexBirthTime.push(this._owner._curtime),this._verticesCount==this._maxVerticesCount&&this._onTrailRenderElementFinish()):(this._owner._trailSupplementLength=this._delLength,this._updateVerticesByPosition(C$t),this._virtualVerticesCount=2)},C$n._updateVerticesByPosition=function(C$t){this._pointe=C$t.elements,this._pointAtoBVector3e=this._pointAtoBVector3.elements,this._curtime=this._owner._curtime,this._owner._hasLifeSubTrail&&0==this._isStart&&(this._pointe=this._owner._curSubTrailFinishPosition.elements,this._pointAtoBVector3e=this._owner._curSubTrailFinishDirection.elements,this._curtime=this._owner._curSubTrailFinishCurTime),this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._curtime,this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=1,this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._curtime,this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=0,this._VerticesToTailLength[this._verticesCount/2]=this._owner._trailTotalLength+this._owner._trailSupplementLength,0==this._owner._trailSupplementLength?this._everyVertexToPreVertexDistance[this._verticesCount/2]=this._delLength:this._everyVertexToPreVertexDistance[this._verticesCount/2]=this._isStart?this._owner._trailSupplementLength:0},C$n._updateVertexBuffer2=function(){var C$t,C$e,C$i=0,C$n=0;for(C$n=0,C$t=(this._verticesCount+this._virtualVerticesCount)/2;C$n<C$t;C$n++)C$e=0==this._owner.textureMode?(this._VerticesToTailLength[C$n]-this._owner._trailDeadLength)/(this._owner._trailTotalLength+this._owner._trailSupplementLength-this._owner._trailDeadLength):this._owner._trailTotalLength+this._owner._trailSupplementLength-this._VerticesToTailLength[C$n],this._vertices2[C$i++]=1-C$e,this._vertices2[C$i++]=1-C$e;this._vertexBuffer2.setData(this._vertices2,0,0,this._verticesCount+this._virtualVerticesCount)},C$n._onTrailRenderElementFinish=function(){this._lastFixedVertexPosition.cloneTo(this._owner._curSubTrailFinishPosition),this._pointAtoBVector3.cloneTo(this._owner._curSubTrailFinishDirection),this._owner._curSubTrailFinishCurTime=this._owner._curtime,this._isFinish=!0},C$n._updateDisappear=function(){var C$t,C$e=0;for(C$e=this._curDisappearIndex,C$t=(this._verticesCount+this._virtualVerticesCount)/2;C$e<C$t;C$e++)this._owner._curtime-this._everyGroupVertexBirthTime[C$e]>=this._owner.time+C$te.zeroTolerance&&(this._curDisappearIndex++,this._owner._trailDeadLength+=this._everyVertexToPreVertexDistance[this._curDisappearIndex],this._curDisappearIndex>=(this._verticesCount+this._virtualVerticesCount)/2&&(this._isDead=!0))},C$n._beforeRender=function(C$t){return this._camera=C$t.camera,null!=this._camera&&(this._owner._owner.transform.position.cloneTo(this._curPosition),!this._isDead&&(this._verticesCount<this._maxVerticesCount?(this._owner._isStart||(this._owner._owner.transform.position.cloneTo(this._lastPosition),this._owner._isStart=!0),C$A.equals(this._lastPosition,this._curPosition)||this._updateTrail()):this._isFinish&&(this._isFinish=!1,this._owner._curSubTrailFinished=!0),0<this._verticesCount)&&(this._updateVertexBuffer2(),this._updateDisappear(),!0))},C$n._render=function(C$t){this._isDead||(C$k.mainContext.drawArrays(5,2*this._curDisappearIndex,this._verticesCount+this._virtualVerticesCount-2*this._curDisappearIndex),console.log(2*this._curDisappearIndex,this._verticesCount+this._virtualVerticesCount-2*this._curDisappearIndex),C$R.drawCall++,C$R.trianglesFaces+=this._verticesCount+this._virtualVerticesCount-2*this._curDisappearIndex-2)},C$n._getVertexBuffer=function(C$t){return 0===(C$t=void 0===C$t?0:C$t)?this._vertexBuffer1:1===C$t?this._vertexBuffer2:null},C$n._getVertexBuffers=function(){return this._vertexBuffers},C$n._getIndexBuffer=function(){return null},C$n.reActivate=function(){this._id=laya.d3.core.trail.TrailRenderElement.renderElementCount++,this._isStart=!1,this._isFinish=!1,this._isDead=!1,this._verticesCount=0,this._virtualVerticesCount=0,this._verticesIndex1=0,this._delLength=0,this._curDisappearIndex=0,this._everyGroupVertexBirthTime=[],this._owner._curSubTrailFinishPosition.cloneTo(this._lastPosition)},C$n._destroy=function(){this._vertexBuffer1.dispose(),this._vertexBuffer2.dispose(),this._vertices1=null,this._vertexBuffer1=null,this._vertices2=null,this._vertexBuffer2=null,this._vertexBuffers=null,this._everyGroupVertexBirthTime=null,this._VerticesToTailLength=null,this._everyVertexToPreVertexDistance=null,this._lastPosition=null,this._curPosition=null,this._delVector3=null,this._lastFixedVertexPosition=null,this._pointAtoBVector3=null,this._pointe=null,this._pointAtoBVector3e=null,this._pointA=null,this._pointB=null},C$e(0,C$n,"_vertexBufferCount",function(){return this._vertexBuffers.length}),C$e(0,C$n,"triangleCount",function(){return 0}),mula.renderElementCount=0,C$t(vij7nx,"laya.d3.core.trail.VertexTrail"),C$n=vij7nx.prototype,C$b.imps(C$n,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$n,"vertexDeclaration",function(){return vij7nx._vertexDeclaration1}),C$e(1,vij7nx,"vertexDeclaration1",function(){return vij7nx._vertexDeclaration1}),C$e(1,vij7nx,"vertexDeclaration2",function(){return vij7nx._vertexDeclaration2}),C$h(vij7nx,["_vertexDeclaration1",function(){return this._vertexDeclaration1=new C$ht(32,[new C$r(0,"vector3",0),new C$r(12,"vector3",41),new C$r(24,"single",33),new C$r(28,"single",40)])},"_vertexDeclaration2",function(){return this._vertexDeclaration2=new C$ht(4,[new C$r(0,"single",38)])}]),vij7nx),C$rt=(C$t(s$w92,"laya.d3.graphics.DynamicBatch"),C$n=s$w92.prototype,C$b.imps(C$n,{"laya.d3.core.render.IRenderable":!0}),C$n._getVertexBuffer=function(C$t){return 0===(C$t=void 0===C$t?0:C$t)?this._vertexBuffer:null},C$n._getIndexBuffer=function(){return this._indexBuffer},C$n._getCombineRenderElementFromPool=function(C$t,C$e,C$i){var C$n=this._combineRenderElementPool[this._combineRenderElementPoolIndex++];return C$n||(this._combineRenderElementPool[this._combineRenderElementPoolIndex-1]=C$n=new C$K,C$n._sprite3D=new C$He),C$n._sprite3D._render._renderUpdate(C$i),C$n},C$n._getRenderElement=function(C$u,C$c,C$_){this._vertexDatas||(this._vertexDatas=new Float32Array(this._vertexDeclaration.vertexStride/4*s$w92.maxVertexCount),this._indexDatas=new Uint16Array(s$w92.maxIndexCount),this._vertexBuffer=C$Ne.create(this._vertexDeclaration,s$w92.maxVertexCount,35048),this._indexBuffer=C$ke.create("ushort",s$w92.maxIndexCount,35048));for(var C$t=this._merageElements.length=0,C$e=0,C$i=0,C$n=this._combineRenderElements.length;C$i<C$n;C$i++){var C$r=this._combineRenderElements[C$i],C$d=C$r.getDynamicBatchBakedVertexs(0),C$s=C$r.getBakedIndices(),C$f=C$r._sprite3D.transform._isFrontFaceInvert,C$a=C$t/(this._vertexDeclaration.vertexStride/4),C$o=C$e,C$p=C$o+C$s.length;C$r._tempBatchIndexStart=C$o,C$r._tempBatchIndexEnd=C$p,this._indexDatas.set(C$s,C$e);var C$h=0;if(C$f)for(C$h=C$o;C$h<C$p;C$h+=3){this._indexDatas[C$h]=C$a+this._indexDatas[C$h];var C$m=this._indexDatas[C$h+1],C$g=this._indexDatas[C$h+2];this._indexDatas[C$h+1]=C$a+C$g,this._indexDatas[C$h+2]=C$a+C$m}else for(C$h=C$o;C$h<C$p;C$h+=3)this._indexDatas[C$h]=C$a+this._indexDatas[C$h],this._indexDatas[C$h+1]=C$a+this._indexDatas[C$h+1],this._indexDatas[C$h+2]=C$a+this._indexDatas[C$h+2];C$e+=C$s.length,this._vertexDatas.set(C$d,C$t),C$t+=C$d.length}for(this._vertexBuffer.setData(this._vertexDatas),this._indexBuffer.setData(this._indexDatas),C$i=this._combineRenderElementPoolIndex=0,C$n=this._materials.length;C$i<C$n;C$i++){var C$l=this._getCombineRenderElementFromPool(C$u,C$c,C$_);C$l._type=2,C$l._staticBatch=null;var C$v=(C$l.renderObj=this)._combineRenderElements[this._materialToRenderElementsOffsets[C$i]]._tempBatchIndexStart,C$x=C$i+1===this._materialToRenderElementsOffsets.length?C$e:this._combineRenderElements[this._materialToRenderElementsOffsets[C$i+1]]._tempBatchIndexStart;C$l._tempBatchIndexStart=C$v,C$l._tempBatchIndexEnd=C$x,C$l._material=this._materials[C$i],this._merageElements.push(C$l)}},C$n._addCombineRenderObjTest=function(C$t){var C$t=C$t.renderObj,C$e=this._currentCombineIndexCount+C$t._getIndexBuffer().indexCount,C$t=this._currentCombineVertexCount+C$t._getVertexBuffer().vertexCount;return!(s$w92.maxVertexCount<C$t||s$w92.maxIndexCount<C$e)},C$n._addCombineRenderObj=function(C$t){var C$e=C$t.renderObj;this._combineRenderElements.push(C$t),this._currentCombineIndexCount=this._currentCombineIndexCount+C$e._getIndexBuffer().indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount+C$e._getVertexBuffer().vertexCount},C$n._addCombineMaterial=function(C$t){this._materials.push(C$t)},C$n._addMaterialToRenderElementOffset=function(C$t){this._materialToRenderElementsOffsets.push(C$t)},C$n._clearRenderElements=function(){this._combineRenderElements.length=0,this._materials.length=0,this._materialToRenderElementsOffsets.length=0,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0},C$n._addToRenderQueue=function(C$t,C$e,C$i,C$n){this._getRenderElement(C$e,C$i,C$n);for(var C$r=0,C$s=this._materials.length;C$r<C$s;C$r++)C$t.getRenderQueue(this._materials[C$r].renderQueue)._addDynamicBatchElement(this._merageElements[C$r])},C$n._beforeRender=function(C$t){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},C$n._render=function(C$t){var C$e=C$t._batchIndexEnd-C$t._batchIndexStart;C$k.mainContext.drawElements(4,C$e,5123,2*C$t._batchIndexStart),C$R.drawCall++,C$R.trianglesFaces+=C$e/3},C$n._getVertexBuffers=function(){return null},C$e(0,C$n,"_vertexBufferCount",function(){return 1}),C$e(0,C$n,"triangleCount",function(){return this._indexBuffer.indexCount/3}),C$e(0,C$n,"combineRenderElementsCount",function(){return this._combineRenderElements.length}),s$w92.maxVertexCount=2e4,s$w92.maxIndexCount=4e4,s$w92.maxCombineTriangleCount=10,s$w92),C$st=(C$t(v7jryx,"laya.d3.graphics.DynamicBatchManager"),(C$n=v7jryx.prototype).getDynamicBatch=function(C$t,C$e){var C$i,C$e=C$t.id.toString()+C$e;return this._dynamicBatches[C$e]?C$i=this._dynamicBatches[C$e]:this._dynamicBatches[C$e]=C$i=new C$rt(C$t),C$i},C$n._garbageCollection=function(){for(var C$t in this._dynamicBatches)0===this._dynamicBatches[C$t].combineRenderElementsCount&&delete this._dynamicBatches[C$t]},C$n._addPrepareRenderElement=function(C$t){this._prepareDynamicBatchCombineElements.push(C$t)},C$n._finishCombineDynamicBatch=function(C$u){var C$t,C$c;this._prepareDynamicBatchCombineElements.sort(v7jryx._sortPrepareDynamicBatch);for(var C$e,C$i,C$n,C$r,C$s,C$_=-1,C$d=!0,C$a=0,C$o=-1,C$f=0,C$p=this._prepareDynamicBatchCombineElements.length;C$f<C$p;C$f++){var C$h=(C$i=this._prepareDynamicBatchCombineElements[C$f]).renderObj._getVertexBuffer(0).vertexDeclaration,C$l=C$c!==C$h;C$l&&(C$a=0,C$c=C$h);var C$m=C$a!==C$_;C$m&&(C$_=C$a),(C$l||C$m)&&(C$n=this.getDynamicBatch(C$h,C$a),C$t=null),C$d?C$d=C$n._addCombineRenderObjTest(C$i)?(C$t!==(C$e=C$i._material)?(C$r&&(C$u.getRenderQueue(C$s._material.renderQueue)._addRenderElement(C$s),C$s=C$r=null,C$o=-1),C$r=C$e,C$o=C$n.combineRenderElementsCount,C$s=C$i,C$t=C$e):C$r?(C$l=C$s.renderObj,C$m=C$i.renderObj,C$l._getVertexBuffer().vertexCount+C$m._getVertexBuffer().vertexCount>C$rt.maxVertexCount||C$l._getIndexBuffer().indexCount+C$m._getIndexBuffer().indexCount>C$rt.maxIndexCount?(C$u.getRenderQueue(C$s._material.renderQueue)._addRenderElement(C$s),C$r=C$e,C$o=C$n.combineRenderElementsCount,C$s=C$i):(C$n._addCombineMaterial(C$r),C$n._addMaterialToRenderElementOffset(C$o),C$n._addCombineRenderObj(C$s),C$s=C$r=null,C$o=-1,C$n._addCombineRenderObj(C$i))):C$n._addCombineRenderObj(C$i),!0):(C$r&&(C$u.getRenderQueue(C$s._material.renderQueue)._addRenderElement(C$s),C$s=C$r=null,C$o=-1),C$a++,!1):(C$h=this._prepareDynamicBatchCombineElements[C$f-1],C$n._addMaterialToRenderElementOffset(C$n.combineRenderElementsCount),C$t=C$h._material,C$n._addCombineMaterial(C$t),C$n._addCombineRenderObj(C$h),C$d=!0,C$t!==(C$e=C$i._material)?(C$r=C$e,C$o=C$n.combineRenderElementsCount,C$s=C$i):C$n._addCombineRenderObj(C$i),C$t=C$e)}C$r&&(C$u.getRenderQueue(C$s._material.renderQueue)._addRenderElement(C$s),C$s=C$r=null,C$o=-1),this._prepareDynamicBatchCombineElements.length=0},C$n._clearRenderElements=function(){for(var C$t in this._dynamicBatches)this._dynamicBatches[C$t]._clearRenderElements()},C$n._addToRenderQueue=function(C$t,C$e,C$i,C$n){for(var C$r in this._dynamicBatches){C$r=this._dynamicBatches[C$r];0<C$r.combineRenderElementsCount&&C$r._addToRenderQueue(C$t,C$e,C$i,C$n)}},C$n.dispose=function(){this._dynamicBatches=null},v7jryx._sortPrepareDynamicBatch=function(C$t,C$e){return C$t._mainSortID-C$e._mainSortID},v7jryx),C$at=(C$t(hztc8e,"laya.d3.graphics.FrustumCulling"),hztc8e.renderShadowObjectCulling=function(C$t,C$u,C$e,C$c,C$_){var C$i=0,C$n=0,C$r=0,C$s=0;for(C$i=0,C$r=C$e.length;C$i<C$r;C$i++){var C$d=C$e[C$i];C$d&&C$d._clearRenderElements()}var C$a,C$o,C$h,C$f=C$t._cullingRenders;if(1<C$_){for(C$i=0,C$r=C$t._cullingRendersLength;C$i<C$r;C$i++)if((C$a=C$f[C$i]).castShadow&&C$j.isVisible(C$a._owner.layer.mask)&&C$a.enable)for(var C$l=1,C$p=C$u.length;C$l<C$p;C$l++)if(C$o=C$e[C$l-1],0!==C$u[C$l].containsBoundSphere(C$a.boundingSphere))for(C$n=0,C$s=(C$h=C$a._renderElements).length;C$n<C$s;C$n++)C$o._addRenderElement(C$h[C$n])}else for(C$i=0,C$r=C$t._cullingRendersLength;C$i<C$r;C$i++)if((C$a=C$f[C$i]).castShadow&&C$j.isVisible(C$a._owner.layer.mask)&&C$a.enable&&0!==C$u[0].containsBoundSphere(C$a.boundingSphere))for(C$a._renderUpdate(C$c),C$o=C$e[0],C$n=0,C$s=(C$h=C$a._renderElements).length;C$n<C$s;C$n++)C$o._addRenderElement(C$h[C$n])},hztc8e.renderShadowObjectCullingOctree=function(C$t,C$e,C$i,C$n,C$r){for(var C$s=0,C$a=C$i.length;C$s<C$a;C$s++){var C$o=C$i[C$s];C$o&&C$o._clearRenderElements()}1<C$r?C$t.treeRoot.cullingShadowObjects(C$e,C$i,!0,0,C$t):C$t.treeRoot.cullingShadowObjectsOnePSSM(C$e[0],C$i,C$n,!0,0,C$t)},hztc8e.renderObjectCulling=function(C$u,C$t,C$c,C$_,C$d,C$e){var C$f,C$i=0,C$n=0,C$r=0,C$p=C$t._quenes,C$s=C$t._dynamicBatchManager,C$m=C$t._cullingRenders;for(C$i=0,C$n=C$p.length;C$i<C$n;C$i++){var C$g=C$p[C$i];C$g&&C$g._clearRenderElements()}var C$a=C$ot._staticBatchManagers;for(C$i=0,C$n=C$a.length;C$i<C$n;C$i++)C$a[C$i]._clearRenderElements();C$s._clearRenderElements();var C$v=C$c.transform.position;for(C$i=0,C$n=C$t._cullingRendersLength;C$i<C$n;C$i++){var C$o=C$m[C$i];if(C$j.isVisible(C$o._owner.layer.mask)&&C$o.enable&&0!==C$u.containsBoundSphere(C$o.boundingSphere)&&C$o._renderUpdate(C$e)){C$o._distanceForSort=C$A.distance(C$o.boundingSphere.center,C$v)+C$o.sortingFudge;var C$x=C$o._renderElements;for(C$r=0,C$f=C$x.length;C$r<C$f;C$r++){var C$h=C$x[C$r],C$l=C$h._staticBatch;C$l&&C$l._material===C$h._material?C$l._addBatchRenderElement(C$h):(C$l=C$h.renderObj).triangleCount<10&&1===C$l._vertexBufferCount&&C$l._getIndexBuffer()&&C$h._material.renderQueue<2&&C$h._canDynamicBatch&&!C$o._owner.isStatic?C$s._addPrepareRenderElement(C$h):C$t.getRenderQueue(C$h._material.renderQueue)._addRenderElement(C$h)}}}for(C$i=0,C$n=C$a.length;C$i<C$n;C$i++)C$a[C$i]._addToRenderQueue(C$t,C$_,C$d,C$e);C$s._finishCombineDynamicBatch(C$t),C$s._addToRenderQueue(C$t,C$_,C$d,C$e)},hztc8e.renderObjectCullingOctree=function(C$u,C$t,C$c,C$e,C$i,C$n){var C$r=0,C$s=0,C$a=C$t._quenes,C$o=C$t._dynamicBatchManager;for(C$r=0,C$s=C$a.length;C$r<C$s;C$r++){var C$h=C$a[C$r];C$h&&C$h._clearRenderElements()}var C$l=C$ot._staticBatchManagers;for(C$r=0,C$s=C$l.length;C$r<C$s;C$r++)C$l[C$r]._clearRenderElements();for(C$o._clearRenderElements(),C$t._cullingRenders.length=0,C$t.treeRoot.cullingObjects(C$u,!0,0,C$c.transform.position,C$n),C$r=0,C$s=C$l.length;C$r<C$s;C$r++)C$l[C$r]._addToRenderQueue(C$t,C$e,C$i,C$n);C$o._finishCombineDynamicBatch(C$t),C$o._addToRenderQueue(C$t,C$e,C$i,C$n)},hztc8e.renderObjectCullingNoBoundFrustum=function(C$t,C$u,C$c,C$_,C$e){var C$d,C$i=0,C$n=0,C$r=0,C$f=C$t._quenes,C$s=C$t._dynamicBatchManager,C$p=C$t._cullingRenders;for(C$i=0,C$n=C$f.length;C$i<C$n;C$i++){var C$m=C$f[C$i];C$m&&C$m._clearRenderElements()}var C$a=C$ot._staticBatchManagers;for(C$i=0,C$n=C$a.length;C$i<C$n;C$i++)C$a[C$i]._clearRenderElements();C$s._clearRenderElements();var C$g=C$u.transform.position;for(C$i=0,C$n=C$t._cullingRendersLength;C$i<C$n;C$i++){var C$o=C$p[C$i];if(C$j.isVisible(C$o._owner.layer.mask)&&C$o.enable){C$o._renderUpdate(C$e),C$o._distanceForSort=C$A.distance(C$o.boundingSphere.center,C$g)+C$o.sortingFudge;var C$v=C$o._renderElements;for(C$r=0,C$d=C$v.length;C$r<C$d;C$r++){var C$h=C$v[C$r],C$l=C$h._staticBatch;C$l&&C$l._material===C$h._material?C$l._addBatchRenderElement(C$h):(C$l=C$h.renderObj).triangleCount<10&&1===C$l._vertexBufferCount&&C$l._getIndexBuffer()&&C$h._material.renderQueue<2&&C$h._canDynamicBatch&&!C$o._owner.isStatic?C$s._addPrepareRenderElement(C$h):C$t.getRenderQueue(C$h._material.renderQueue)._addRenderElement(C$h)}}}for(C$i=0,C$n=C$a.length;C$i<C$n;C$i++)C$a[C$i]._addToRenderQueue(C$t,C$c,C$_,C$e);C$s._finishCombineDynamicBatch(C$t),C$s._addToRenderQueue(C$t,C$c,C$_,C$e)},hztc8e),C$ot=(C$t(vyjro5,"laya.d3.graphics.StaticBatchManager"),(C$n=vyjro5.prototype)._finishInit=function(){for(var C$t in this._staticBatches)this._staticBatches[C$t]._finishInit();this._initBatchRenderElements.length=0},C$n._initStaticBatchs=function(C$t){throw new Error("StaticBatchManager:must override this function.")},C$n._addInitBatchSprite=function(C$t){for(var C$e=C$t._render._renderElements,C$i=0,C$n=C$e.length;C$i<C$n;C$i++)this._initBatchRenderElements.push(C$e[C$i])},C$n._clearRenderElements=function(){for(var C$t in this._staticBatches)this._staticBatches[C$t]._clearRenderElements()},C$n._garbageCollection=function(C$t){var C$e=C$t._staticBatch,C$i=C$e._initBatchRenderElements,C$t=C$i.indexOf(C$t);C$i.splice(C$t,1),0===C$i.length&&(C$e.dispose(),delete this._staticBatches[C$e._key])},C$n._addToRenderQueue=function(C$t,C$e,C$i,C$n){for(var C$r in this._staticBatches){C$r=this._staticBatches[C$r];0<C$r._batchRenderElements.length&&C$r._updateToRenderQueue(C$t,C$n)}},C$n.dispose=function(){this._staticBatches=null},vyjro5._addToStaticBatchQueue=function(C$t){C$t instanceof laya.d3.core.RenderableSprite3D&&C$t._addToInitStaticBatchManager();for(var C$e=0,C$i=C$t.numChildren;C$e<C$i;C$e++)vyjro5._addToStaticBatchQueue(C$t._childs[C$e])},vyjro5.combine=function(C$t,C$e){var C$i,C$n=0,C$r=0;if(C$e)for(C$n=0,C$r=C$e.length;C$n<C$r;C$n++)C$e[C$n]._addToInitStaticBatchManager();else C$t&&vyjro5._addToStaticBatchQueue(C$t);for(C$n=0,C$r=vyjro5._staticBatchManagers.length;C$n<C$r;C$n++)(C$i=vyjro5._staticBatchManagers[C$n])._initStaticBatchs(C$t),C$i._finishInit()},vyjro5._staticBatchManagers=[],vyjro5),C$n=(C$t(hz86ct,"laya.d3.graphics.StaticBatch"),C$n=hz86ct.prototype,C$b.imps(C$n,{"laya.d3.core.render.IRenderable":!0,"laya.resource.IDispose":!0}),C$n._binarySearch=function(C$t){for(var C$e,C$i=0,C$n=this._batchRenderElements.length-1;C$i<=C$n;)C$e=Math.floor((C$i+C$n)/2),this._compareBatchRenderElement(this._batchRenderElements[C$e],C$t)?C$n=C$e-1:C$i=C$e+1;return C$i},C$n._compareBatchRenderElement=function(C$t,C$e){throw new Error("StaticBatch:must override this function.")},C$n._getVertexDecLightMap=function(C$t){return C$t===C$Ft.vertexDeclaration?C$Bt.vertexDeclaration:C$t===C$Ot.vertexDeclaration?C$Lt.vertexDeclaration:C$t===C$Dt.vertexDeclaration?C$wt.vertexDeclaration:C$t===C$qt.vertexDeclaration?null:C$t===C$gt.vertexDeclaration?C$vt.vertexDeclaration:C$t===C$jt.vertexDeclaration?C$Nt.vertexDeclaration:C$t===C$Rt.vertexDeclaration?C$Pt.vertexDeclaration:C$t===C$Vt.vertexDeclaration?C$kt.vertexDeclaration:C$t===C$Ot.vertexDeclaration?C$Lt.vertexDeclaration:C$t===C$Et.vertexDeclaration?C$Tt.vertexDeclaration:C$t===C$qt.vertexDeclaration?null:C$t===C$gt.vertexDeclaration?C$vt.vertexDeclaration:C$t===C$Ut.vertexDeclaration?C$zt.vertexDeclaration:C$t===C$Rt.vertexDeclaration?C$Pt.vertexDeclaration:C$t},C$n._getCombineRenderElementFromPool=function(){throw new Error("StaticBatch:must override this function.")},C$n._addBatchRenderElement=function(C$t){this._batchRenderElements.splice(this._binarySearch(C$t),0,C$t)},C$n._updateToRenderQueue=function(C$t,C$e){this._combineRenderElementPoolIndex=0,this._getRenderElement(C$t.getRenderQueue(this._material.renderQueue)._renderElements,C$t,C$e)},C$n._getRenderElement=function(C$t,C$e,C$i){throw new Error("StaticBatch:must override this function.")},C$n._finishInit=function(){throw new Error("StaticBatch:must override this function.")},C$n._clearRenderElements=function(){this._batchRenderElements.length=0},C$n.dispose=function(){},C$n._getVertexBuffer=function(C$t){return null},C$n._getIndexBuffer=function(){return null},C$n._beforeRender=function(C$t){return!0},C$n._render=function(C$t){},C$n._getVertexBuffers=function(){return null},C$e(0,C$n,"_vertexBufferCount",function(){return 1}),C$e(0,C$n,"triangleCount",function(){return 0}),hz86ct.combine=function(C$t){console.log("StaticBatch: discard property,please use StaticBatchManager.combine() function instead."),C$ot.combine(C$t)},hz86ct.maxBatchVertexCount=65535,hz86ct),C$ht=(C$t(x7jriv,"laya.d3.graphics.VertexDeclaration"),(C$s=x7jriv.prototype)._addShaderDefine=function(C$t){this._shaderDefineValue|=C$t},C$s._removeShaderDefine=function(C$t){this._shaderDefineValue&=~C$t},C$s.getVertexElements=function(){return this._vertexElements.slice()},C$s.getVertexElementByUsage=function(C$t){return this._vertexElementsDic[C$t]},C$s.unBinding=function(){},C$e(0,C$s,"shaderDefineValue",function(){return this._shaderDefineValue}),C$e(0,C$s,"id",function(){return this._id}),C$e(0,C$s,"vertexStride",function(){return this._vertexStride}),C$e(0,C$s,"shaderValues",function(){return this._shaderValues}),x7jriv._getTypeSize=function(C$t){switch(C$t){case"single":return 4;case"vector2":return 8;case"vector3":return 12;case"vector4":return 16;case"color":case"byte4":case"short2":return 4;case"short4":return 8;case"normalizedshort2":return 4;case"normalizedshort4":return 8;case"halfvector2":return 4;case"halfvector4":return 8}return 0},x7jriv.getVertexStride=function(C$t){for(var C$e=0,C$i=0;C$i<C$t.Length;C$i++){var C$n=C$t[C$i],C$n=C$n.offset+x7jriv._getTypeSize(C$n.elementFormat);C$e<C$n&&(C$e=C$n)}return C$e},x7jriv._maxVertexDeclarationBit=1e3,x7jriv._uniqueIDCounter=1,C$h(x7jriv,["maxVertexDeclaration",function(){return this.maxVertexDeclaration=2147483647-1e3*Math.floor(2147483.647)}]),x7jriv),C$r=(C$t(k680d,"laya.d3.graphics.VertexElement"),k680d),C$lt=(C$t(b50qk,"laya.d3.graphics.VertexElementFormat"),b50qk.Single="single",b50qk.Vector2="vector2",b50qk.Vector3="vector3",b50qk.Vector4="vector4",b50qk.Color="color",b50qk.Byte4="byte4",b50qk.Short2="short2",b50qk.Short4="short4",b50qk.NormalizedShort2="normalizedshort2",b50qk.NormalizedShort4="normalizedshort4",b50qk.HalfVector2="halfvector2",b50qk.HalfVector4="halfvector4",C$t(ew2_pz,"laya.d3.graphics.VertexElementUsage"),ew2_pz.POSITION0=0,ew2_pz.COLOR0=1,ew2_pz.TEXTURECOORDINATE0=2,ew2_pz.NORMAL0=3,ew2_pz.BINORMAL0=4,ew2_pz.TANGENT0=5,ew2_pz.BLENDINDICES0=6,ew2_pz.BLENDWEIGHT0=7,ew2_pz.DEPTH0=8,ew2_pz.FOG0=9,ew2_pz.POINTSIZE0=10,ew2_pz.SAMPLE0=11,ew2_pz.TESSELLATEFACTOR0=12,ew2_pz.COLOR1=13,ew2_pz.NEXTTEXTURECOORDINATE0=14,ew2_pz.TEXTURECOORDINATE1=15,ew2_pz.NEXTTEXTURECOORDINATE1=16,ew2_pz.CORNERTEXTURECOORDINATE0=17,ew2_pz.VELOCITY0=18,ew2_pz.STARTCOLOR0=19,ew2_pz.STARTSIZE=20,ew2_pz.AGEADDSCALE0=21,ew2_pz.STARTROTATION=22,ew2_pz.ENDCOLOR0=23,ew2_pz.STARTLIFETIME=24,ew2_pz.TIME0=33,ew2_pz.SHAPEPOSITIONSTARTLIFETIME=30,ew2_pz.DIRECTIONTIME=32,ew2_pz.SIZEROTATION0=27,ew2_pz.RADIUS0=28,ew2_pz.RADIAN0=29,ew2_pz.STARTSPEED=31,ew2_pz.RANDOM0=34,ew2_pz.RANDOM1=35,ew2_pz.SIMULATIONWORLDPOSTION=36,ew2_pz.SIMULATIONWORLDROTATION=37,ew2_pz.TEXTURECOORDINATE0X=38,ew2_pz.TEXTURECOORDINATE0X1=39,ew2_pz.TEXTURECOORDINATE0Y=40,ew2_pz.OFFSETVECTOR=41,C$t(d8t6hc,"laya.d3.graphics.VertexGlitter"),C$s=d8t6hc.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"textureCoordinate",function(){return this._textureCoordinate0}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"time",function(){return this._time}),C$e(0,C$s,"vertexDeclaration",function(){return d8t6hc._vertexDeclaration}),C$e(1,d8t6hc,"vertexDeclaration",function(){return d8t6hc._vertexDeclaration}),C$h(d8t6hc,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(24,[new C$r(0,"vector3",0),new C$r(12,"vector2",2),new C$r(20,"single",33)])}]),C$t(zht68,"laya.d3.graphics.VertexParticle"),C$s=zht68.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"endColor",function(){return this._endColor}),C$e(0,C$s,"cornerTextureCoordinate",function(){return this._cornerTextureCoordinate}),C$e(0,C$s,"sizeRotation",function(){return this._sizeRotation}),C$e(0,C$s,"velocity",function(){return this._velocity}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"startColor",function(){return this._startColor}),C$e(0,C$s,"radius",function(){return this._radius}),C$e(0,C$s,"radian",function(){return this._radian}),C$e(0,C$s,"ageAddScale",function(){return this._ageAddScale}),C$e(0,C$s,"time",function(){return this._time}),C$e(0,C$s,"vertexDeclaration",function(){return zht68._vertexDeclaration}),C$e(1,zht68,"vertexDeclaration",function(){return zht68._vertexDeclaration}),C$h(zht68,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(116,[new C$r(0,"vector4",17),new C$r(16,"vector3",0),new C$r(28,"vector3",18),new C$r(40,"vector4",19),new C$r(56,"vector4",23),new C$r(72,"vector3",27),new C$r(84,"vector2",28),new C$r(92,"vector4",29),new C$r(108,"single",24),new C$r(112,"single",33)])}]),C$t(thp_ze,"laya.d3.graphics.VertexPosition"),C$s=thp_ze.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"vertexDeclaration",function(){return thp_ze._vertexDeclaration}),C$e(1,thp_ze,"vertexDeclaration",function(){return thp_ze._vertexDeclaration}),C$h(thp_ze,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(12,[new C$r(0,"vector3",0)])}]),thp_ze),C$ut=(C$t(pw_92f,"laya.d3.graphics.VertexPositionNormal"),C$s=pw_92f.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"vertexDeclaration",function(){return pw_92f._vertexDeclaration}),C$e(1,pw_92f,"vertexDeclaration",function(){return pw_92f._vertexDeclaration}),C$h(pw_92f,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(24,[new C$r(0,"vector3",0),new C$r(12,"vector3",3)])}]),pw_92f),C$ct=(C$t(n7i1xj,"laya.d3.graphics.VertexPositionNormalColor"),C$s=n7i1xj.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"vertexDeclaration",function(){return n7i1xj._vertexDeclaration}),C$e(1,n7i1xj,"vertexDeclaration",function(){return n7i1xj._vertexDeclaration}),C$h(n7i1xj,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(40,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1)])}]),n7i1xj),C$_t=(C$t(o5vrjy,"laya.d3.graphics.VertexPositionNormalColorSkin"),C$s=o5vrjy.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(0,C$s,"vertexDeclaration",function(){return o5vrjy._vertexDeclaration}),C$e(1,o5vrjy,"vertexDeclaration",function(){return o5vrjy._vertexDeclaration}),C$h(o5vrjy,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(72,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector4",7),new C$r(56,"vector4",6)])}]),o5vrjy),C$dt=(C$t(ua1l3,"laya.d3.graphics.VertexPositionNormalColorSkinSTangent"),C$s=ua1l3.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(0,C$s,"vertexDeclaration",function(){return ua1l3._vertexDeclaration}),C$e(1,ua1l3,"vertexDeclaration",function(){return ua1l3._vertexDeclaration}),C$h(ua1l3,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(88,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector4",7),new C$r(56,"vector4",6),new C$r(72,"vector4",5)])}]),ua1l3),C$ft=(C$t(dtc68h,"laya.d3.graphics.VertexPositionNormalColorSkinTangent"),C$s=dtc68h.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(0,C$s,"vertexDeclaration",function(){return dtc68h._vertexDeclaration}),C$e(1,dtc68h,"vertexDeclaration",function(){return dtc68h._vertexDeclaration}),C$h(dtc68h,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(84,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector4",7),new C$r(56,"vector4",6),new C$r(72,"vector3",5)])}]),dtc68h),C$pt=(C$t(hz2pe_,"laya.d3.graphics.VertexPositionNormalColorSTangent"),C$s=hz2pe_.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"vertexDeclaration",function(){return hz2pe_._vertexDeclaration}),C$e(1,hz2pe_,"vertexDeclaration",function(){return hz2pe_._vertexDeclaration}),C$h(hz2pe_,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(56,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector4",5)])}]),hz2pe_),C$mt=(C$t(ni14u,"laya.d3.graphics.VertexPositionNormalColorTangent"),C$s=ni14u.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"vertexDeclaration",function(){return ni14u._vertexDeclaration}),C$e(1,ni14u,"vertexDeclaration",function(){return ni14u._vertexDeclaration}),C$h(ni14u,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(52,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector3",5)])}]),ni14u),C$gt=(C$t(u34a,"laya.d3.graphics.VertexPositionNormalColorTexture"),C$s=u34a.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"textureCoordinate",function(){return this._textureCoordinate}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"vertexDeclaration",function(){return u34a._vertexDeclaration}),C$e(1,u34a,"vertexDeclaration",function(){return u34a._vertexDeclaration}),C$h(u34a,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(48,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector2",2)])}]),u34a),C$vt=(C$t(nvji7,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1"),C$s=nvji7.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$e(0,C$s,"vertexDeclaration",function(){return nvji7._vertexDeclaration}),C$e(0,C$s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$e(1,nvji7,"vertexDeclaration",function(){return nvji7._vertexDeclaration}),C$h(nvji7,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(56,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector2",2),new C$r(48,"vector2",15)])}]),nvji7),C$xt=(C$t(k6gd8,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1Skin"),C$s=k6gd8.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$e(0,C$s,"vertexDeclaration",function(){return k6gd8._vertexDeclaration}),C$e(0,C$s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(1,k6gd8,"vertexDeclaration",function(){return k6gd8._vertexDeclaration}),C$h(k6gd8,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(88,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector2",2),new C$r(48,"vector2",15),new C$r(56,"vector4",7),new C$r(72,"vector4",6)])}]),k6gd8),C$yt=(C$t(d6t8g,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1SkinSTangent"),C$s=d6t8g.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$e(0,C$s,"vertexDeclaration",function(){return d6t8g._vertexDeclaration}),C$e(0,C$s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(1,d6t8g,"vertexDeclaration",function(){return d6t8g._vertexDeclaration}),C$h(d6t8g,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(104,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector2",2),new C$r(48,"vector2",15),new C$r(56,"vector4",7),new C$r(72,"vector4",6),new C$r(88,"vector4",5)])}]),d6t8g),C$bt=(C$t(jn7xiv,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1SkinTangent"),C$s=jn7xiv.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$s.VertexPositionNormalColorTexture0SkinTangent=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){this._position=C$t,this._normal=C$e,this._color=C$i,this._textureCoordinate0=C$n,this._textureCoordinate1=C$r,this._tangent=C$s,this._blendIndex=C$a,this._blendWeight=C$o},C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$e(0,C$s,"vertexDeclaration",function(){return jn7xiv._vertexDeclaration}),C$e(0,C$s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(1,jn7xiv,"vertexDeclaration",function(){return jn7xiv._vertexDeclaration}),C$h(jn7xiv,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(100,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector2",2),new C$r(48,"vector2",15),new C$r(56,"vector4",7),new C$r(72,"vector4",6),new C$r(88,"vector3",5)])}]),jn7xiv),C$wt=(C$t($w9_2f,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1STangent"),C$s=$w9_2f.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$e(0,C$s,"vertexDeclaration",function(){return $w9_2f._vertexDeclaration}),C$e(0,C$s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$e(1,$w9_2f,"vertexDeclaration",function(){return $w9_2f._vertexDeclaration}),C$h($w9_2f,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(72,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector2",2),new C$r(48,"vector2",15),new C$r(56,"vector4",5)])}]),$w9_2f),C$Tt=(C$t(rqoyb5,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1Tangent"),C$s=rqoyb5.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$s.VertexPositionNormalColorTexture0Tangent=function(C$t,C$e,C$i,C$n,C$r,C$s){this._position=C$t,this._normal=C$e,this._color=C$i,this._textureCoordinate0=C$n,this._textureCoordinate1=C$r,this._tangent=C$s},C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$e(0,C$s,"vertexDeclaration",function(){return rqoyb5._vertexDeclaration}),C$e(0,C$s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$e(1,rqoyb5,"vertexDeclaration",function(){return rqoyb5._vertexDeclaration}),C$h(rqoyb5,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(68,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector2",2),new C$r(48,"vector2",15),new C$r(56,"vector3",5)])}]),rqoyb5),C$Mt=(C$t(t8d6hc,"laya.d3.graphics.VertexPositionNormalColorTextureSkin"),C$s=t8d6hc.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"textureCoordinate",function(){return this._textureCoordinate}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(0,C$s,"vertexDeclaration",function(){return t8d6hc._vertexDeclaration}),C$e(1,t8d6hc,"vertexDeclaration",function(){return t8d6hc._vertexDeclaration}),C$h(t8d6hc,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(80,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector2",2),new C$r(48,"vector4",7),new C$r(64,"vector4",6)])}]),t8d6hc),C$St=(C$t(c86gk,"laya.d3.graphics.VertexPositionNormalColorTextureSkinSTangent"),C$s=c86gk.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"textureCoordinate",function(){return this._textureCoordinate}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(0,C$s,"vertexDeclaration",function(){return c86gk._vertexDeclaration}),C$e(1,c86gk,"vertexDeclaration",function(){return c86gk._vertexDeclaration}),C$h(c86gk,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(96,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector2",2),new C$r(48,"vector4",7),new C$r(64,"vector4",6),new C$r(80,"vector4",5)])}]),c86gk),C$Ct=(C$t(u41i3n,"laya.d3.graphics.VertexPositionNormalColorTextureSkinTangent"),C$s=u41i3n.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"textureCoordinate",function(){return this._textureCoordinate}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(0,C$s,"vertexDeclaration",function(){return u41i3n._vertexDeclaration}),C$e(1,u41i3n,"vertexDeclaration",function(){return u41i3n._vertexDeclaration}),C$h(u41i3n,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(92,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector2",2),new C$r(48,"vector4",7),new C$r(64,"vector4",6),new C$r(80,"vector3",5)])}]),u41i3n),C$Dt=(C$t(r5ovyq,"laya.d3.graphics.VertexPositionNormalColorTextureSTangent"),C$s=r5ovyq.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"textureCoordinate",function(){return this._textureCoordinate}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"vertexDeclaration",function(){return r5ovyq._vertexDeclaration}),C$e(1,r5ovyq,"vertexDeclaration",function(){return r5ovyq._vertexDeclaration}),C$h(r5ovyq,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(64,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector2",2),new C$r(48,"vector4",5)])}]),r5ovyq),C$Et=(C$t(h8c6tz,"laya.d3.graphics.VertexPositionNormalColorTextureTangent"),C$s=h8c6tz.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"textureCoordinate",function(){return this._textureCoordinate}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"color",function(){return this._color}),C$e(0,C$s,"vertexDeclaration",function(){return h8c6tz._vertexDeclaration}),C$e(1,h8c6tz,"vertexDeclaration",function(){return h8c6tz._vertexDeclaration}),C$h(h8c6tz,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(60,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",1),new C$r(40,"vector2",2),new C$r(48,"vector3",5)])}]),h8c6tz),C$At=(C$t(zcehp,"laya.d3.graphics.VertexPositionNormalSTangent"),C$s=zcehp.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"vertexDeclaration",function(){return zcehp._vertexDeclaration}),C$e(1,zcehp,"vertexDeclaration",function(){return zcehp._vertexDeclaration}),C$h(zcehp,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(40,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector4",5)])}]),zcehp),C$It=(C$t(cd8k,"laya.d3.graphics.VertexPositionNormalTangent"),C$s=cd8k.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"vertexDeclaration",function(){return cd8k._vertexDeclaration}),C$e(1,cd8k,"vertexDeclaration",function(){return cd8k._vertexDeclaration}),C$h(cd8k,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(36,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector3",5)])}]),cd8k),C$Rt=(C$t(hc8d6,"laya.d3.graphics.VertexPositionNormalTexture"),C$s=hc8d6.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"textureCoordinate",function(){return this._textureCoordinate}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"vertexDeclaration",function(){return hc8d6._vertexDeclaration}),C$e(1,hc8d6,"vertexDeclaration",function(){return hc8d6._vertexDeclaration}),C$h(hc8d6,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(32,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector2",2)])}]),hc8d6),C$Pt=(C$t(oyjrv7,"laya.d3.graphics.VertexPositionNormalTexture0Texture1"),C$s=oyjrv7.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$e(0,C$s,"vertexDeclaration",function(){return oyjrv7._vertexDeclaration}),C$e(0,C$s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$e(1,oyjrv7,"vertexDeclaration",function(){return oyjrv7._vertexDeclaration}),C$h(oyjrv7,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(40,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector2",2),new C$r(32,"vector2",15)])}]),oyjrv7),C$Lt=(C$t(_ep2zh,"laya.d3.graphics.VertexPositionNormalTexture0Texture1Skin"),C$s=_ep2zh.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$e(0,C$s,"vertexDeclaration",function(){return _ep2zh._vertexDeclaration}),C$e(0,C$s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(1,_ep2zh,"vertexDeclaration",function(){return _ep2zh._vertexDeclaration}),C$h(_ep2zh,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(72,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector2",2),new C$r(32,"vector2",15),new C$r(40,"vector4",7),new C$r(56,"vector4",6)])}]),_ep2zh),C$Bt=(C$t(bdgk0,"laya.d3.graphics.VertexPositionNormalTexture0Texture1SkinSTangent"),C$s=bdgk0.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$e(0,C$s,"vertexDeclaration",function(){return bdgk0._vertexDeclaration}),C$e(0,C$s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(1,bdgk0,"vertexDeclaration",function(){return bdgk0._vertexDeclaration}),C$h(bdgk0,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(88,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector2",2),new C$r(32,"vector2",15),new C$r(40,"vector4",7),new C$r(56,"vector4",6),new C$r(72,"vector4",5)])}]),bdgk0),C$kt=(C$t(or5q,"laya.d3.graphics.VertexPositionNormalTexture0Texture1SkinTangent"),C$s=or5q.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$s.VertexPositionNormalTexture0SkinTangent=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){this._position=C$t,this._normal=C$e,this._textureCoordinate0=C$i,this._textureCoordinate1=C$n,this._tangent=C$r,this._blendIndex=C$s,this._blendWeight=C$a},C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$e(0,C$s,"vertexDeclaration",function(){return or5q._vertexDeclaration}),C$e(0,C$s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(1,or5q,"vertexDeclaration",function(){return or5q._vertexDeclaration}),C$h(or5q,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(84,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector2",2),new C$r(32,"vector2",15),new C$r(40,"vector4",7),new C$r(56,"vector4",6),new C$r(72,"vector3",5)])}]),or5q),C$Nt=(C$t(_zpe2h,"laya.d3.graphics.VertexPositionNormalTexture0Texture1STangent"),C$s=_zpe2h.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$e(0,C$s,"vertexDeclaration",function(){return _zpe2h._vertexDeclaration}),C$e(0,C$s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$e(1,_zpe2h,"vertexDeclaration",function(){return _zpe2h._vertexDeclaration}),C$h(_zpe2h,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(56,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector2",2),new C$r(32,"vector2",15),new C$r(40,"vector4",5)])}]),_zpe2h),C$zt=(C$t(fw_$2,"laya.d3.graphics.VertexPositionNormalTexture0Texture1Tangent"),C$s=fw_$2.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$s.VertexPositionNormalTexture0Tangent=function(C$t,C$e,C$i,C$n,C$r){this._position=C$t,this._normal=C$e,this._textureCoordinate0=C$i,this._textureCoordinate1=C$n,this._tangent=C$r},C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$e(0,C$s,"vertexDeclaration",function(){return fw_$2._vertexDeclaration}),C$e(0,C$s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$e(1,fw_$2,"vertexDeclaration",function(){return fw_$2._vertexDeclaration}),C$h(fw_$2,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(52,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector2",2),new C$r(32,"vector2",15),new C$r(40,"vector3",5)])}]),fw_$2),C$Ot=(C$t(echz8,"laya.d3.graphics.VertexPositionNormalTextureSkin"),C$s=echz8.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"textureCoordinate",function(){return this._textureCoordinate}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(0,C$s,"vertexDeclaration",function(){return echz8._vertexDeclaration}),C$e(1,echz8,"vertexDeclaration",function(){return echz8._vertexDeclaration}),C$h(echz8,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(64,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector2",2),new C$r(32,"vector4",7),new C$r(48,"vector4",6)])}]),echz8),C$Ft=(C$t(dct,"laya.d3.graphics.VertexPositionNormalTextureSkinSTangent"),C$s=dct.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"textureCoordinate",function(){return this._textureCoordinate}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(0,C$s,"vertexDeclaration",function(){return dct._vertexDeclaration}),C$e(1,dct,"vertexDeclaration",function(){return dct._vertexDeclaration}),C$h(dct,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(80,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector2",2),new C$r(32,"vector4",7),new C$r(48,"vector4",6),new C$r(64,"vector4",5)])}]),dct),C$Vt=(C$t(b0oy5q,"laya.d3.graphics.VertexPositionNormalTextureSkinTangent"),C$s=b0oy5q.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"textureCoordinate",function(){return this._textureCoordinate}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(0,C$s,"vertexDeclaration",function(){return b0oy5q._vertexDeclaration}),C$e(1,b0oy5q,"vertexDeclaration",function(){return b0oy5q._vertexDeclaration}),C$h(b0oy5q,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(76,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector2",2),new C$r(32,"vector4",7),new C$r(48,"vector4",6),new C$r(64,"vector3",5)])}]),b0oy5q),C$jt=(C$t(jnvi,"laya.d3.graphics.VertexPositionNormalTextureSTangent"),C$s=jnvi.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"textureCoordinate",function(){return this._textureCoordinate}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"vertexDeclaration",function(){return jnvi._vertexDeclaration}),C$e(1,jnvi,"vertexDeclaration",function(){return jnvi._vertexDeclaration}),C$h(jnvi,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(48,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector2",2),new C$r(32,"vector4",5)])}]),jnvi),C$Ut=(C$t(y5qo0,"laya.d3.graphics.VertexPositionNormalTextureTangent"),C$s=y5qo0.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"textureCoordinate",function(){return this._textureCoordinate}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"vertexDeclaration",function(){return y5qo0._vertexDeclaration}),C$e(1,y5qo0,"vertexDeclaration",function(){return y5qo0._vertexDeclaration}),C$h(y5qo0,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(44,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector2",2),new C$r(32,"vector3",5)])}]),y5qo0),C$qt=(C$t(x74i1,"laya.d3.graphics.VertexPositionNTBTexture"),C$s=x74i1.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"textureCoordinate",function(){return this._textureCoordinate}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"vertexDeclaration",function(){return x74i1._vertexDeclaration}),C$e(1,x74i1,"vertexDeclaration",function(){return x74i1._vertexDeclaration}),C$h(x74i1,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(56,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector3",5),new C$r(36,"vector3",4),new C$r(48,"vector2",2)])}]),x74i1),C$Ht=(C$t(xn1j7i,"laya.d3.graphics.VertexPositionNTBTexture0Texture1Skin"),C$s=xn1j7i.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"tangent",function(){return this._tangent}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$e(0,C$s,"vertexDeclaration",function(){return xn1j7i._vertexDeclaration}),C$e(0,C$s,"textureCoordinate1",function(){return this._textureCoordinate1}),C$e(0,C$s,"blendIndex",function(){return this._blendIndex}),C$e(0,C$s,"blendWeight",function(){return this._blendWeight}),C$e(1,xn1j7i,"vertexDeclaration",function(){return xn1j7i._vertexDeclaration}),C$h(xn1j7i,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(96,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector3",5),new C$r(36,"vector3",4),new C$r(48,"vector2",2),new C$r(56,"vector2",15),new C$r(64,"vector4",7),new C$r(80,"vector4",6)])}]),xn1j7i),C$Wt=(C$t(bkqdg,"laya.d3.graphics.VertexPositionNTBTextureSkin"),C$s=bkqdg.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"textureCoordinate",function(){return this._textureCoordinate}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"vertexDeclaration",function(){return bkqdg._vertexDeclaration}),C$e(1,bkqdg,"vertexDeclaration",function(){return bkqdg._vertexDeclaration}),C$h(bkqdg,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(88,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector3",5),new C$r(36,"vector3",4),new C$r(48,"vector2",2),new C$r(56,"vector4",7),new C$r(72,"vector4",6)])}]),bkqdg),C$Gt=(C$t(bok50,"laya.d3.graphics.VertexPositionTerrain"),C$s=bok50.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"normal",function(){return this._normal}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"textureCoord0",function(){return this._textureCoord0}),C$e(0,C$s,"textureCoord1",function(){return this._textureCoord1}),C$e(0,C$s,"vertexDeclaration",function(){return bok50._vertexDeclaration}),C$e(1,bok50,"vertexDeclaration",function(){return bok50._vertexDeclaration}),C$h(bok50,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(40,[new C$r(0,"vector3",0),new C$r(12,"vector3",3),new C$r(24,"vector2",2),new C$r(32,"vector2",15)])}]),C$t(oyqr5,"laya.d3.graphics.VertexPositionTexture0"),C$s=oyqr5.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"position",function(){return this._position}),C$e(0,C$s,"textureCoordinate0",function(){return this._textureCoordinate0}),C$e(0,C$s,"vertexDeclaration",function(){return oyqr5._vertexDeclaration}),C$e(1,oyqr5,"vertexDeclaration",function(){return oyqr5._vertexDeclaration}),C$h(oyqr5,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(20,[new C$r(0,"vector3",0),new C$r(12,"vector2",2)])}]),oyqr5),C$Yt=(C$t(rqoy,"laya.d3.graphics.VertexShurikenParticleBillboard"),C$s=rqoy.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"cornerTextureCoordinate",function(){return this._cornerTextureCoordinate}),C$e(0,C$s,"random1",function(){return this._randoms1}),C$e(0,C$s,"startRotation2",function(){return this._startRotation2}),C$e(0,C$s,"positionStartLifeTime",function(){return this._positionStartLifeTime}),C$e(0,C$s,"velocity",function(){return this._velocity}),C$e(0,C$s,"random0",function(){return this._randoms0}),C$e(0,C$s,"startSize",function(){return this._startSize}),C$e(0,C$s,"startColor",function(){return this._startColor}),C$e(0,C$s,"startRotation0",function(){return this._startRotation0}),C$e(0,C$s,"startRotation1",function(){return this._startRotation1}),C$e(0,C$s,"startLifeTime",function(){return this._startLifeTime}),C$e(0,C$s,"time",function(){return this._time}),C$e(0,C$s,"startSpeed",function(){return this._startSpeed}),C$e(0,C$s,"simulationWorldPostion",function(){return this._simulationWorldPostion}),C$e(0,C$s,"vertexDeclaration",function(){return rqoy._vertexDeclaration}),C$e(1,rqoy,"vertexDeclaration",function(){return rqoy._vertexDeclaration}),C$h(rqoy,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(152,[new C$r(0,"vector4",17),new C$r(16,"vector4",30),new C$r(32,"vector4",32),new C$r(48,"vector4",19),new C$r(64,"vector3",20),new C$r(76,"vector3",22),new C$r(88,"single",31),new C$r(92,"vector4",34),new C$r(108,"vector4",35),new C$r(124,"vector3",36),new C$r(136,"vector4",37)])}]),C$t(_2w9e,"laya.d3.graphics.VertexShurikenParticleMesh"),C$s=_2w9e.prototype,C$b.imps(C$s,{"laya.d3.graphics.IVertex":!0}),C$e(0,C$s,"cornerTextureCoordinate",function(){return this._cornerTextureCoordinate}),C$e(0,C$s,"velocity",function(){return this._velocity}),C$e(0,C$s,"position",function(){return this._positionStartLifeTime}),C$e(0,C$s,"random0",function(){return this._randoms0}),C$e(0,C$s,"startSize",function(){return this._startSize}),C$e(0,C$s,"startColor",function(){return this._startColor}),C$e(0,C$s,"startRotation0",function(){return this._startRotation0}),C$e(0,C$s,"startRotation1",function(){return this._startRotation1}),C$e(0,C$s,"random1",function(){return this._randoms1}),C$e(0,C$s,"startRotation2",function(){return this._startRotation2}),C$e(0,C$s,"startLifeTime",function(){return this._startLifeTime}),C$e(0,C$s,"time",function(){return this._time}),C$e(0,C$s,"startSpeed",function(){return this._startSpeed}),C$e(0,C$s,"simulationWorldPostion",function(){return this._simulationWorldPostion}),C$e(0,C$s,"vertexDeclaration",function(){return _2w9e._vertexDeclaration}),C$e(1,_2w9e,"vertexDeclaration",function(){return _2w9e._vertexDeclaration}),C$h(_2w9e,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$ht(172,[new C$r(0,"vector3",0),new C$r(12,"vector4",1),new C$r(28,"vector2",2),new C$r(36,"vector4",30),new C$r(52,"vector4",32),new C$r(68,"vector4",19),new C$r(84,"vector3",20),new C$r(96,"vector3",22),new C$r(108,"single",31),new C$r(112,"vector4",34),new C$r(128,"vector4",35),new C$r(144,"vector3",36),new C$r(156,"vector4",37)])}]),C$t(qo5b0,"laya.d3.loaders.LoadModelV01"),(C$s=qo5b0.prototype)._onLoaded=function(C$t){this._readData=C$t,this.READ_BLOCK();for(var C$e=0;C$e<this._BLOCK.count;C$e++){var C$i=this._readData.getUint16(),C$n=this._strings[C$i],C$r=this["READ_"+C$n];if(null==C$r)throw new Error("model file err,no this function:"+C$i+" "+C$n);if(!C$r.call(this))break}return this._mesh},C$s.onError=function(){},C$s._readString=function(){return this._strings[this._readData.getUint16()]},C$s.READ_BLOCK=function(){return this._readData.getUint16(),this._BLOCK.count=this._readData.getUint16(),!0},C$s.READ_DATA=function(){return this._DATA.offset=this._readData.getUint32(),this._DATA.size=this._readData.getUint32(),!0},C$s.READ_STRINGS=function(){this._STRINGS.offset=this._readData.getUint16(),this._STRINGS.size=this._readData.getUint16();var C$t=this._readData.pos;this._readData.pos=this._STRINGS.offset+this._DATA.offset;for(var C$e=0;C$e<this._STRINGS.size;C$e++)this._strings[C$e]=this._readData.readUTFString();return this._readData.pos=C$t,!0},C$s.READ_MATERIAL=function(){var C$t=this._readData.getUint16(),C$e=(this._readString(),this._readString());return this._materials[C$t]="null"!==C$e?C$g.getRes(this._materialMap[C$e]):new C$De,!0},C$s.READ_MESH=function(){switch(this._readString(),this._version){case"LAYAMODEL:01":console.log("Warning: The (.lm) file is converted by old fbxTools,please reConverted it use  lastest fbxTools version,later we will remove the  support of old version (.lm) support.");break;case"LAYASKINANI:01":case"LAYAMODEL:02":var C$t,C$e=this._readData.__getBuffer(),C$i=0,C$n=this._readData.getUint32(),C$r=this._readData.getUint32(),C$n=(new Float32Array(C$e.slice(C$n+this._DATA.offset,C$n+this._DATA.offset+C$r)),this._readData.getUint32()),C$r=this._readData.getUint32(),C$s=new Float32Array(C$e.slice(C$n+this._DATA.offset,C$n+this._DATA.offset+C$r));for(this.mesh._inverseBindPoses=[],C$i=0,C$t=C$s.length;C$i<C$t;C$i+=16){var C$a=new C$ie(C$s[C$i+0],C$s[C$i+1],C$s[C$i+2],C$s[C$i+3],C$s[C$i+4],C$s[C$i+5],C$s[C$i+6],C$s[C$i+7],C$s[C$i+8],C$s[C$i+9],C$s[C$i+10],C$s[C$i+11],C$s[C$i+12],C$s[C$i+13],C$s[C$i+14],C$s[C$i+15]);this.mesh._inverseBindPoses.push(C$a)}break;default:throw new Error("LoadModel:unknown version.")}return!0},C$s.READ_SUBMESH=function(){this._readString(),this._readData.getUint8();var C$t=this._readString();this._shaderAttributes=C$t.match(qo5b0._attrReg);var C$t=this._readData.getUint32(),C$e=this._readData.getUint32(),C$i=(this._readData.getUint32(),this._readData.getUint32(),this._readData.getUint32()),C$n=this._readData.getUint32(),C$r=this._readData.getUint32(),C$u=this._readData.getUint32(),C$s=this._readData.__getBuffer(),C$a=new C$ue(this._mesh),C$o=this._getVertexDeclaration(),C$h=C$Ne.create(C$o,C$n/C$o.vertexStride,35044,!0),C$o=C$i+this._DATA.offset,C$i=C$s.slice(C$o,C$o+C$n);C$h.setData(new Float32Array(C$i));for(var C$c=(C$a._vertexBuffer=C$h).vertexDeclaration.getVertexElements(),C$l=0;C$l<C$c.length;C$l++)C$a._bufferUsage[C$c[C$l].elementUsage]=C$h;C$o=C$ke.create("ushort",C$e/2,35044,!0),C$n=C$t+this._DATA.offset,C$i=C$s.slice(C$n,C$n+C$e);C$o.setData(new Uint16Array(C$i)),C$a._indexBuffer=C$o;C$t=C$s.slice(C$r+this._DATA.offset,C$r+this._DATA.offset+C$u);return C$a._boneIndicesList[0]=new Uint8Array(C$t),this._subMeshes.push(C$a),!0},C$s.READ_DATAAREA=function(){return!1},C$s._getVertexDeclaration=function(){for(var C$t,C$e=!1,C$i=!1,C$n=!1,C$r=!1,C$s=!1,C$a=!1,C$o=!1,C$h=!1,C$l=!1,C$u=0;C$u<this._shaderAttributes.length;C$u+=8)switch(this._shaderAttributes[C$u]){case"POSITION":C$e=!0;break;case"NORMAL":C$i=!0;break;case"COLOR":C$n=!0;break;case"UV":C$r=!0;break;case"UV1":C$s=!0;break;case"BLENDWEIGHT":C$o=!0;break;case"BLENDINDICES":C$h=!0;break;case"TANGENT":C$a=!0;break;case"BINORMAL":C$l=!0}return C$e&&C$i&&C$n&&C$r&&C$s&&C$o&&C$h&&C$a?C$t=C$bt.vertexDeclaration:C$e&&C$i&&C$n&&C$r&&C$s&&C$o&&C$h?C$t=C$xt.vertexDeclaration:C$e&&C$i&&C$r&&C$s&&C$o&&C$h&&C$a?C$t=C$kt.vertexDeclaration:C$e&&C$i&&C$r&&C$s&&C$o&&C$h?C$t=C$Lt.vertexDeclaration:C$e&&C$i&&C$n&&C$r&&C$o&&C$h&&C$a?C$t=C$Ct.vertexDeclaration:C$e&&C$i&&C$n&&C$r&&C$o&&C$h?C$t=C$Mt.vertexDeclaration:C$e&&C$i&&C$a&&C$l&&C$r&&C$o&&C$h?C$t=C$Wt.vertexDeclaration:C$e&&C$i&&C$r&&C$o&&C$h&&C$a?C$t=C$Vt.vertexDeclaration:C$e&&C$i&&C$r&&C$o&&C$h?C$t=C$Ot.vertexDeclaration:C$e&&C$i&&C$n&&C$o&&C$h&&C$a?C$t=C$ft.vertexDeclaration:C$e&&C$i&&C$n&&C$o&&C$h?C$t=C$_t.vertexDeclaration:C$e&&C$i&&C$n&&C$r&&C$s&&C$a?C$t=C$Tt.vertexDeclaration:C$e&&C$i&&C$n&&C$r&&C$s?C$t=C$vt.vertexDeclaration:C$e&&C$i&&C$r&&C$s&&C$a?C$t=C$zt.vertexDeclaration:C$e&&C$i&&C$r&&C$s?C$t=C$Pt.vertexDeclaration:C$e&&C$i&&C$n&&C$r&&C$a?C$t=C$Et.vertexDeclaration:C$e&&C$i&&C$r&&C$a&&C$l?C$t=C$qt.vertexDeclaration:C$e&&C$i&&C$n&&C$r?C$t=C$gt.vertexDeclaration:C$e&&C$i&&C$r&&C$a?C$t=C$Ut.vertexDeclaration:C$e&&C$i&&C$r?C$t=C$Rt.vertexDeclaration:C$e&&C$i&&C$n&&C$a?C$t=C$mt.vertexDeclaration:C$e&&C$i&&C$n&&(C$t=C$ct.vertexDeclaration),C$t},C$e(0,C$s,"mesh",function(){return this._mesh}),qo5b0._attrReg=new RegExp("(\\w+)|([:,;])","g"),qo5b0),C$Xt=(C$t(lm3u4,"laya.d3.loaders.LoadModelV02"),lm3u4.parse=function(C$t,C$e,C$i,C$n,C$r,C$s){lm3u4._mesh=C$i,lm3u4._materials=C$n,lm3u4._subMeshes=C$r,lm3u4._materialMap=C$s,lm3u4._version=C$e,lm3u4._readData=C$t,lm3u4.READ_DATA(),lm3u4.READ_BLOCK(),lm3u4.READ_STRINGS();for(var C$a=0,C$u=lm3u4._BLOCK.count;C$a<C$u;C$a++){lm3u4._readData.pos=lm3u4._BLOCK.blockStarts[C$a];var C$o=lm3u4._readData.getUint16(),C$h=lm3u4._strings[C$o],C$l=lm3u4["READ_"+C$h];if(null==C$l)throw new Error("model file err,no this function:"+C$o+" "+C$h);C$l.call()}lm3u4._strings.length=0,lm3u4._readData=null,lm3u4._version=null,lm3u4._mesh=null,lm3u4._materials=null,lm3u4._subMeshes=null,lm3u4._materialMap=null},lm3u4._readString=function(){return lm3u4._strings[lm3u4._readData.getUint16()]},lm3u4.READ_DATA=function(){lm3u4._DATA.offset=lm3u4._readData.getUint32(),lm3u4._DATA.size=lm3u4._readData.getUint32()},lm3u4.READ_BLOCK=function(){for(var C$t=lm3u4._BLOCK.count=lm3u4._readData.getUint16(),C$e=lm3u4._BLOCK.blockStarts=[],C$i=lm3u4._BLOCK.blockLengths=[],C$n=0;C$n<C$t;C$n++)C$e.push(lm3u4._readData.getUint32()),C$i.push(lm3u4._readData.getUint32())},lm3u4.READ_STRINGS=function(){var C$t=lm3u4._readData.getUint32(),C$e=lm3u4._readData.getUint16(),C$i=lm3u4._readData.pos;lm3u4._readData.pos=C$t+lm3u4._DATA.offset;for(var C$n=0;C$n<C$e;C$n++)lm3u4._strings[C$n]=lm3u4._readData.readUTFString();lm3u4._readData.pos=C$i},lm3u4.READ_MATERIAL=function(){lm3u4._readString(),lm3u4._readString();var C$t=lm3u4._readString();return""!==C$t&&lm3u4._materials.push(C$g.getRes(lm3u4._materialMap[C$t])),!0},lm3u4.READ_MESH=function(){lm3u4._readString();var C$t,C$e=lm3u4._readData.__getBuffer(),C$i=0,C$u=lm3u4._readData.getInt16(),C$n=lm3u4._DATA.offset;for(C$i=0;C$i<C$u;C$i++){var C$r=C$n+lm3u4._readData.getUint32(),C$s=lm3u4._readData.getUint32(),C$r=new Float32Array(C$e.slice(C$r,C$r+C$s)),C$s=lm3u4._readString().match(lm3u4._attrReg),C$s=lm3u4._getVertexDeclaration(C$s),C$s=C$Ne.create(C$s,4*C$r.length/C$s.vertexStride,35044,!0);C$s.setData(C$r),lm3u4._mesh._vertexBuffers.push(C$s)}var C$a=C$n+lm3u4._readData.getUint32(),C$o=lm3u4._readData.getUint32(),C$a=new Uint16Array(C$e.slice(C$a,C$a+C$o)),C$o=C$ke.create("ushort",C$o/2,35044,!0);C$o.setData(C$a),lm3u4._mesh._indexBuffer=C$o;var C$h=lm3u4._mesh._boneNames=[],C$c=lm3u4._readData.getUint16();for(C$h.length=C$c,C$i=0;C$i<C$c;C$i++)C$h[C$i]=lm3u4._strings[lm3u4._readData.getUint16()];var C$a=lm3u4._readData.getUint32(),C$o=lm3u4._readData.getUint32(),C$a=(new Float32Array(C$e.slice(C$n+C$a,C$n+C$a+C$o)),lm3u4._readData.getUint32()),C$o=lm3u4._readData.getUint32(),C$l=new Float32Array(C$e.slice(C$n+C$a,C$n+C$a+C$o));for(lm3u4._mesh._inverseBindPoses=[],C$i=0,C$t=C$l.length;C$i<C$t;C$i+=16){var C$_=new C$ie(C$l[C$i+0],C$l[C$i+1],C$l[C$i+2],C$l[C$i+3],C$l[C$i+4],C$l[C$i+5],C$l[C$i+6],C$l[C$i+7],C$l[C$i+8],C$l[C$i+9],C$l[C$i+10],C$l[C$i+11],C$l[C$i+12],C$l[C$i+13],C$l[C$i+14],C$l[C$i+15]);lm3u4._mesh._inverseBindPoses.push(C$_)}return lm3u4._mesh._skinnedDatas=new Float32Array(16*C$l.length),!0},lm3u4.READ_SUBMESH=function(){var C$u=lm3u4._readData.__getBuffer(),C$t=new C$ue(lm3u4._mesh),C$e=lm3u4._readData.getInt16(),C$i=lm3u4._readData.getUint32(),C$n=lm3u4._readData.getUint32();C$t._vertexBuffer=lm3u4._mesh._vertexBuffers[C$e],C$t._vertexStart=C$i,C$t._vertexCount=C$n;C$e=lm3u4._readData.getUint32(),C$i=lm3u4._readData.getUint32(),C$n=lm3u4._mesh._indexBuffer;C$t._indexBuffer=C$n,C$t._indexStart=C$e,C$t._indexCount=C$i,C$t._indices=new Uint16Array(C$n.getData().buffer,2*C$e,C$i);var C$r=lm3u4._DATA.offset,C$s=C$t._subIndexBufferStart,C$a=C$t._subIndexBufferCount,C$n=C$t._boneIndicesList,C$o=lm3u4._readData.getUint16();C$s.length=C$o,C$a.length=C$o,C$n.length=C$o;for(var C$h=0;C$h<C$o;C$h++){C$s[C$h]=lm3u4._readData.getUint32(),C$a[C$h]=lm3u4._readData.getUint32();var C$l=lm3u4._readData.getUint32(),C$c=lm3u4._readData.getUint32();C$t._boneIndicesList[C$h]=new Uint8Array(C$u.slice(C$r+C$l,C$r+C$l+C$c))}return lm3u4._subMeshes.push(C$t),!0},lm3u4._getVertexDeclaration=function(C$u){for(var C$t,C$e=!1,C$i=!1,C$n=!1,C$r=!1,C$s=!1,C$a=!1,C$o=!1,C$h=!1,C$c=!1,C$l=0;C$l<C$u.length;C$l++)switch(C$u[C$l]){case"POSITION":C$e=!0;break;case"NORMAL":C$i=!0;break;case"COLOR":C$n=!0;break;case"UV":C$r=!0;break;case"UV1":C$s=!0;break;case"BLENDWEIGHT":C$o=!0;break;case"BLENDINDICES":C$h=!0;break;case"TANGENT":C$a=!0;break;case"BINORMAL":C$c=!0}return C$e&&C$i&&C$n&&C$r&&C$s&&C$o&&C$h&&C$a?C$t=C$bt.vertexDeclaration:C$e&&C$i&&C$n&&C$r&&C$s&&C$o&&C$h?C$t=C$xt.vertexDeclaration:C$e&&C$i&&C$r&&C$s&&C$o&&C$h&&C$a?C$t=C$kt.vertexDeclaration:C$e&&C$i&&C$r&&C$s&&C$o&&C$h?C$t=C$Lt.vertexDeclaration:C$e&&C$i&&C$n&&C$r&&C$o&&C$h&&C$a?C$t=C$Ct.vertexDeclaration:C$e&&C$i&&C$n&&C$r&&C$o&&C$h?C$t=C$Mt.vertexDeclaration:C$e&&C$i&&C$r&&C$o&&C$h&&C$a?C$t=C$Vt.vertexDeclaration:C$e&&C$i&&C$r&&C$o&&C$h?C$t=C$Ot.vertexDeclaration:C$e&&C$i&&C$n&&C$o&&C$h&&C$a?C$t=C$ft.vertexDeclaration:C$e&&C$i&&C$n&&C$o&&C$h?C$t=C$_t.vertexDeclaration:C$e&&C$i&&C$n&&C$r&&C$s&&C$a?C$t=C$Tt.vertexDeclaration:C$e&&C$i&&C$n&&C$r&&C$s?C$t=C$vt.vertexDeclaration:C$e&&C$i&&C$r&&C$s&&C$a?C$t=C$zt.vertexDeclaration:C$e&&C$i&&C$r&&C$s?C$t=C$Pt.vertexDeclaration:C$e&&C$i&&C$n&&C$r&&C$a?C$t=C$Et.vertexDeclaration:C$e&&C$i&&C$r&&C$a&&C$c?C$t=C$qt.vertexDeclaration:C$e&&C$i&&C$n&&C$r?C$t=C$gt.vertexDeclaration:C$e&&C$i&&C$r&&C$a?C$t=C$Ut.vertexDeclaration:C$e&&C$i&&C$r?C$t=C$Rt.vertexDeclaration:C$e&&C$i&&C$n&&C$a?C$t=C$mt.vertexDeclaration:C$e&&C$i&&C$n&&(C$t=C$ct.vertexDeclaration),C$t},lm3u4._attrReg=new RegExp("(\\w+)|([:,;])","g"),lm3u4._strings=[],lm3u4._readData=null,lm3u4._version=null,lm3u4._mesh=null,lm3u4._materials=null,lm3u4._subMeshes=null,lm3u4._materialMap=null,C$h(lm3u4,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]),lm3u4),C$$t=(C$t(rqov5y,"laya.d3.loaders.LoadModelV03"),rqov5y.parse=function(C$t,C$e,C$i,C$n,C$r){rqov5y._mesh=C$i,rqov5y._subMeshes=C$n,rqov5y._materialMap=C$r,rqov5y._version=C$e,rqov5y._readData=C$t,rqov5y.READ_DATA(),rqov5y.READ_BLOCK(),rqov5y.READ_STRINGS();for(var C$s=0,C$a=rqov5y._BLOCK.count;C$s<C$a;C$s++){rqov5y._readData.pos=rqov5y._BLOCK.blockStarts[C$s];var C$o=rqov5y._readData.getUint16(),C$h=rqov5y._strings[C$o],C$l=rqov5y["READ_"+C$h];if(null==C$l)throw new Error("model file err,no this function:"+C$o+" "+C$h);C$l.call()}rqov5y._strings.length=0,rqov5y._readData=null,rqov5y._version=null,rqov5y._mesh=null,rqov5y._subMeshes=null,rqov5y._materialMap=null},rqov5y._readString=function(){return rqov5y._strings[rqov5y._readData.getUint16()]},rqov5y.READ_DATA=function(){rqov5y._DATA.offset=rqov5y._readData.getUint32(),rqov5y._DATA.size=rqov5y._readData.getUint32()},rqov5y.READ_BLOCK=function(){for(var C$t=rqov5y._BLOCK.count=rqov5y._readData.getUint16(),C$e=rqov5y._BLOCK.blockStarts=[],C$i=rqov5y._BLOCK.blockLengths=[],C$n=0;C$n<C$t;C$n++)C$e.push(rqov5y._readData.getUint32()),C$i.push(rqov5y._readData.getUint32())},rqov5y.READ_STRINGS=function(){var C$t=rqov5y._readData.getUint32(),C$e=rqov5y._readData.getUint16(),C$i=rqov5y._readData.pos;rqov5y._readData.pos=C$t+rqov5y._DATA.offset;for(var C$n=0;C$n<C$e;C$n++)rqov5y._strings[C$n]=rqov5y._readData.readUTFString();rqov5y._readData.pos=C$i},rqov5y.READ_MESH=function(){var C$u,C$c=rqov5y._readString(),C$t=rqov5y._readData.__getBuffer(),C$e=0,C$_=rqov5y._readData.getInt16(),C$i=rqov5y._DATA.offset;for(C$e=0;C$e<C$_;C$e++){var C$n,C$r=C$i+rqov5y._readData.getUint32(),C$s=rqov5y._readData.getUint32(),C$r=new Float32Array(C$t.slice(C$r,C$r+C$s)),C$a=rqov5y._readString();switch(rqov5y._version){case"LAYAMODEL:03":C$n=rqov5y._vertexDeclarationMap_Discard[C$a];break;case"LAYAMODEL:0301":C$n=rqov5y._vertexDeclarationMap[C$a];break;default:throw new Error("LoadModelV03: unknown version.")}if(!C$n)throw new Error("LoadModelV03: unknown vertexDeclaration.  version="+rqov5y._version+"  bufferAttribute="+C$a+"  name="+C$c+"  url="+(rqov5y._mesh?rqov5y._mesh.url:"null"));C$s=C$Ne.create(C$n,4*C$r.length/C$n.vertexStride,35044,!0,rqov5y._mesh._url+"_"+C$e);C$s.setData(C$r),rqov5y._mesh._vertexBuffers.push(C$s)}var C$o=C$i+rqov5y._readData.getUint32(),C$h=rqov5y._readData.getUint32(),C$o=new Uint16Array(C$t.slice(C$o,C$o+C$h)),C$h=C$ke.create("ushort",C$h/2,35044,!0,rqov5y._mesh._url);C$h.setData(C$o),rqov5y._mesh._indexBuffer=C$h;var C$d=rqov5y._mesh._boneNames=[],C$f=rqov5y._readData.getUint16();for(C$d.length=C$f,C$e=0;C$e<C$f;C$e++)C$d[C$e]=rqov5y._strings[rqov5y._readData.getUint16()];rqov5y._readData.pos+=8;var C$o=rqov5y._readData.getUint32(),C$h=rqov5y._readData.getUint32(),C$l=new Float32Array(C$t.slice(C$i+C$o,C$i+C$o+C$h));for(rqov5y._mesh._inverseBindPoses=[],C$e=0,C$u=C$l.length;C$e<C$u;C$e+=16){var C$p=new C$ie(C$l[C$e+0],C$l[C$e+1],C$l[C$e+2],C$l[C$e+3],C$l[C$e+4],C$l[C$e+5],C$l[C$e+6],C$l[C$e+7],C$l[C$e+8],C$l[C$e+9],C$l[C$e+10],C$l[C$e+11],C$l[C$e+12],C$l[C$e+13],C$l[C$e+14],C$l[C$e+15]);rqov5y._mesh._inverseBindPoses.push(C$p)}return rqov5y._mesh._skinnedDatas=new Float32Array(16*C$l.length),!0},rqov5y.READ_SUBMESH=function(){var C$u=rqov5y._readData.__getBuffer(),C$t=new C$ue(rqov5y._mesh),C$e=rqov5y._readData.getInt16(),C$i=rqov5y._readData.getUint32(),C$n=rqov5y._readData.getUint32();C$t._vertexBuffer=rqov5y._mesh._vertexBuffers[C$e],C$t._vertexStart=C$i,C$t._vertexCount=C$n;C$e=rqov5y._readData.getUint32(),C$i=rqov5y._readData.getUint32(),C$n=rqov5y._mesh._indexBuffer;C$t._indexBuffer=C$n,C$t._indexStart=C$e,C$t._indexCount=C$i,C$t._indices=new Uint16Array(C$n.getData().buffer,2*C$e,C$i);var C$r=rqov5y._DATA.offset,C$s=C$t._subIndexBufferStart,C$a=C$t._subIndexBufferCount,C$o=C$t._boneIndicesList,C$h=rqov5y._readData.getUint16();C$s.length=C$h,C$a.length=C$h,C$o.length=C$h;for(var C$l=0;C$l<C$h;C$l++){C$s[C$l]=rqov5y._readData.getUint32(),C$a[C$l]=rqov5y._readData.getUint32();var C$c=rqov5y._readData.getUint32(),C$_=rqov5y._readData.getUint32();C$o[C$l]=new Uint8Array(C$u.slice(C$r+C$c,C$r+C$c+C$_))}return rqov5y._subMeshes.push(C$t),!0},rqov5y._strings=[],rqov5y._readData=null,rqov5y._version=null,rqov5y._mesh=null,rqov5y._subMeshes=null,rqov5y._materialMap=null,C$h(rqov5y,["_vertexDeclarationMap_Discard",function(){return this._vertexDeclarationMap_Discard={"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$bt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$xt.vertexDeclaration,"POSITION,NORMAL,TANGENT,BINORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,":C$Ht.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$kt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$Lt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$Ct.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES":C$Mt.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$Vt.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES":C$Ot.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES,TANGENT":C$ft.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES":C$_t.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,TANGENT":C$Tt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1":C$vt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,TANGENT":C$zt.vertexDeclaration,"POSITION,NORMAL,UV,UV1":C$Pt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,TANGENT":C$Et.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT,BINORMAL":C$qt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV":C$gt.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT":C$Ut.vertexDeclaration,"POSITION,NORMAL,UV":C$Rt.vertexDeclaration,"POSITION,NORMAL,COLOR,TANGENT":C$mt.vertexDeclaration,"POSITION,NORMAL,COLOR":C$ct.vertexDeclaration,"POSITION,NORMAL,TANGENT":C$It.vertexDeclaration,"POSITION,NORMAL":C$ut.vertexDeclaration,"POSITION,UV":C$Gt.vertexDeclaration,POSITION:C$lt.vertexDeclaration}},"_vertexDeclarationMap",function(){return this._vertexDeclarationMap={"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$yt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$xt.vertexDeclaration,"POSITION,NORMAL,TANGENT,BINORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,":C$Ht.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$Bt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$Lt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$St.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES":C$Mt.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$Ft.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES":C$Ot.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES,TANGENT":C$dt.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES":C$_t.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,TANGENT":C$wt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1":C$vt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,TANGENT":C$Nt.vertexDeclaration,"POSITION,NORMAL,UV,UV1":C$Pt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,TANGENT":C$Dt.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT,BINORMAL":C$qt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV":C$gt.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT":C$jt.vertexDeclaration,"POSITION,NORMAL,UV":C$Rt.vertexDeclaration,"POSITION,NORMAL,COLOR,TANGENT":C$pt.vertexDeclaration,"POSITION,NORMAL,COLOR":C$ct.vertexDeclaration,"POSITION,NORMAL,TANGENT":C$At.vertexDeclaration,"POSITION,NORMAL":C$ut.vertexDeclaration,"POSITION,UV":C$Gt.vertexDeclaration,POSITION:C$lt.vertexDeclaration}},"_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]),rqov5y),C$Kt=(C$t(thpze_,"laya.d3.loaders.MeshReader"),thpze_.read=function(C$t,C$e,C$i,C$n,C$r){var C$s=new C$x(C$t);C$s.pos=0;var C$a=C$s.readUTFString();switch(C$a){case"LAYAMODEL:01":case"LAYASKINANI:01":thpze_._readVersion01(C$s,C$a,C$e,C$i,C$n,C$r);break;case"LAYAMODEL:02":C$Xt.parse(C$s,C$a,C$e,C$i,C$n,C$r);break;case"LAYAMODEL:03":case"LAYAMODEL:0301":C$$t.parse(C$s,C$a,C$e,C$n,C$r);break;default:throw new Error("MeshReader: unknown mesh version.")}C$e._setSubMeshes(C$n)},thpze_._readVersion01=function(C$t,C$e,C$i,C$n,C$r,C$s){new C$Yt(C$t,C$e,C$i,C$n,C$r,C$s)},thpze_),C$Zt=(C$t(by5q,"laya.d3.math.BoundBox"),C$s=by5q.prototype,C$b.imps(C$s,{"laya.d3.core.IClone":!0}),C$s.getCorners=function(C$t){C$t.length=8;var C$e=this.min.elements,C$i=this.max.elements,C$n=C$e[0],C$r=C$e[1],C$e=C$e[2],C$s=C$i[0],C$a=C$i[1],C$i=C$i[2];C$t[0]=new C$A(C$n,C$a,C$i),C$t[1]=new C$A(C$s,C$a,C$i),C$t[2]=new C$A(C$s,C$r,C$i),C$t[3]=new C$A(C$n,C$r,C$i),C$t[4]=new C$A(C$n,C$a,C$e),C$t[5]=new C$A(C$s,C$a,C$e),C$t[6]=new C$A(C$s,C$r,C$e),C$t[7]=new C$A(C$n,C$r,C$e)},C$s.toDefault=function(){this.min.toDefault(),this.max.toDefault()},C$s.cloneTo=function(C$t){this.min.cloneTo(C$t.min),this.max.cloneTo(C$t.max)},C$s.clone=function(){var C$t=new this.constructor(new C$A,new C$A);return this.cloneTo(C$t),C$t},by5q.createfromPoints=function(C$t,C$e){if(null==C$t)throw new Error("points");var C$i=C$e.min,C$n=C$e.max,C$e=C$i.elements;C$e[0]=Number.MAX_VALUE,C$e[1]=Number.MAX_VALUE,C$e[2]=Number.MAX_VALUE;C$e=C$n.elements;C$e[0]=-Number.MAX_VALUE,C$e[1]=-Number.MAX_VALUE,C$e[2]=-Number.MAX_VALUE;for(var C$r=0,C$s=C$t.length;C$r<C$s;++C$r)C$A.min(C$i,C$t[C$r],C$i),C$A.max(C$n,C$t[C$r],C$n)},by5q.merge=function(C$t,C$e,C$i){C$A.min(C$t.min,C$e.min,C$i.min),C$A.max(C$t.max,C$e.max,C$i.max)},by5q),C$Qt=(C$t(p9w_e2,"laya.d3.math.BoundFrustum"),(C$s=p9w_e2.prototype).equalsBoundFrustum=function(C$t){return this._matrix.equalsOtherMatrix(C$t.matrix)},C$s.equalsObj=function(C$t){return C$t instanceof laya.d3.math.BoundFrustum&&this.equalsBoundFrustum(C$t)},C$s.getPlane=function(C$t){switch(C$t){case 0:return this._near;case 1:return this._far;case 2:return this._left;case 3:return this._right;case 4:return this._top;case 5:return this._bottom;default:return null}},C$s.getCorners=function(C$t){p9w_e2._get3PlaneInterPoint(this._near,this._bottom,this._right).cloneTo(C$t[0]),p9w_e2._get3PlaneInterPoint(this._near,this._top,this._right).cloneTo(C$t[1]),p9w_e2._get3PlaneInterPoint(this._near,this._top,this._left).cloneTo(C$t[2]),p9w_e2._get3PlaneInterPoint(this._near,this._bottom,this._left).cloneTo(C$t[3]),p9w_e2._get3PlaneInterPoint(this._far,this._bottom,this._right).cloneTo(C$t[4]),p9w_e2._get3PlaneInterPoint(this._far,this._top,this._right).cloneTo(C$t[5]),p9w_e2._get3PlaneInterPoint(this._far,this._top,this._left).cloneTo(C$t[6]),p9w_e2._get3PlaneInterPoint(this._far,this._bottom,this._left).cloneTo(C$t[7])},C$s.containsPoint=function(C$t){for(var C$e=C$ne.PlaneIntersectionType_Front,C$i=C$ne.PlaneIntersectionType_Front,C$n=0;C$n<6;C$n++){switch(C$n){case 0:C$i=Collision.intersectsPlaneAndPoint(this._near,C$t);break;case 1:C$i=Collision.intersectsPlaneAndPoint(this._far,C$t);break;case 2:C$i=Collision.intersectsPlaneAndPoint(this._left,C$t);break;case 3:C$i=Collision.intersectsPlaneAndPoint(this._right,C$t);break;case 4:C$i=Collision.intersectsPlaneAndPoint(this._top,C$t);break;case 5:C$i=Collision.intersectsPlaneAndPoint(this._bottom,C$t)}switch(C$i){case C$ne.PlaneIntersectionType_Back:return 0;case C$ne.PlaneIntersectionType_Intersecting:C$e=C$ne.PlaneIntersectionType_Intersecting}}return C$e!==C$ne.PlaneIntersectionType_Intersecting?1:2},C$s.containsBoundBox=function(C$t){for(var C$e,C$i=p9w_e2._tempV30,C$n=p9w_e2._tempV31,C$r=1,C$s=0;C$s<6;C$s++){if(C$e=this.getPlane(C$s),this._getBoxToPlanePVertexNVertex(C$t,C$e.normal,C$i,C$n),Collision.intersectsPlaneAndPoint(C$e,C$i)===C$ne.PlaneIntersectionType_Back)return 0;Collision.intersectsPlaneAndPoint(C$e,C$n)===C$ne.PlaneIntersectionType_Back&&(C$r=2)}return C$r},C$s.containsBoundSphere=function(C$t){for(var C$e=C$ne.PlaneIntersectionType_Front,C$i=C$ne.PlaneIntersectionType_Front,C$n=0;C$n<6;C$n++){switch(C$n){case 0:C$i=Collision.intersectsPlaneAndSphere(this._near,C$t);break;case 1:C$i=Collision.intersectsPlaneAndSphere(this._far,C$t);break;case 2:C$i=Collision.intersectsPlaneAndSphere(this._left,C$t);break;case 3:C$i=Collision.intersectsPlaneAndSphere(this._right,C$t);break;case 4:C$i=Collision.intersectsPlaneAndSphere(this._top,C$t);break;case 5:C$i=Collision.intersectsPlaneAndSphere(this._bottom,C$t)}switch(C$i){case C$ne.PlaneIntersectionType_Back:return 0;case C$ne.PlaneIntersectionType_Intersecting:C$e=C$ne.PlaneIntersectionType_Intersecting}}return C$e!==C$ne.PlaneIntersectionType_Intersecting?1:2},C$s._getBoxToPlanePVertexNVertex=function(C$t,C$e,C$i,C$n){var C$r=C$t.min,C$s=C$r.elements,C$t=C$t.max,C$a=C$t.elements,C$e=C$e.elements,C$o=C$e[0],C$h=C$e[1],C$e=C$e[2];C$r.cloneTo(C$i);C$r=C$i.elements;0<=C$o&&(C$r[0]=C$a[0]),0<=C$h&&(C$r[1]=C$a[1]),0<=C$e&&(C$r[2]=C$a[2]),C$t.cloneTo(C$n);C$i=C$n.elements;0<=C$o&&(C$i[0]=C$s[0]),0<=C$h&&(C$i[1]=C$s[1]),0<=C$e&&(C$i[2]=C$s[2])},C$e(0,C$s,"top",function(){return this._top}),C$e(0,C$s,"matrix",function(){return this._matrix},function(C$t){this._matrix=C$t,p9w_e2._getPlanesFromMatrix(this._matrix,this._near,this._far,this._left,this._right,this._top,this._bottom)}),C$e(0,C$s,"near",function(){return this._near}),C$e(0,C$s,"far",function(){return this._far}),C$e(0,C$s,"left",function(){return this._left}),C$e(0,C$s,"right",function(){return this._right}),C$e(0,C$s,"bottom",function(){return this._bottom}),p9w_e2._getPlanesFromMatrix=function(C$t,C$e,C$i,C$n,C$u,C$c,C$_){var C$t=C$t.elements,C$d=C$t[0],C$f=C$t[1],C$r=C$t[2],C$s=C$t[3],C$p=C$t[4],C$m=C$t[5],C$a=C$t[6],C$o=C$t[7],C$g=C$t[8],C$v=C$t[9],C$x=C$t[10],C$h=C$t[11],C$y=C$t[12],C$b=C$t[13],C$w=C$t[14],C$t=C$t[15],C$l=C$e.normal.elements;C$l[0]=C$s+C$r,C$l[1]=C$o+C$a,C$l[2]=C$h+C$x,C$e.distance=C$t+C$w,C$e.normalize();C$l=C$i.normal.elements;C$l[0]=C$s-C$r,C$l[1]=C$o-C$a,C$l[2]=C$h-C$x,C$i.distance=C$t-C$w,C$i.normalize();C$e=C$n.normal.elements;C$e[0]=C$s+C$d,C$e[1]=C$o+C$p,C$e[2]=C$h+C$g,C$n.distance=C$t+C$y,C$n.normalize();C$r=C$u.normal.elements;C$r[0]=C$s-C$d,C$r[1]=C$o-C$p,C$r[2]=C$h-C$g,C$u.distance=C$t-C$y,C$u.normalize();C$a=C$c.normal.elements;C$a[0]=C$s-C$f,C$a[1]=C$o-C$m,C$a[2]=C$h-C$v,C$c.distance=C$t-C$b,C$c.normalize();C$l=C$_.normal.elements;C$l[0]=C$s+C$f,C$l[1]=C$o+C$m,C$l[2]=C$h+C$v,C$_.distance=C$t+C$b,C$_.normalize()},p9w_e2._get3PlaneInterPoint=function(C$t,C$e,C$i){var C$n=C$t.normal,C$r=C$e.normal,C$s=C$i.normal;C$A.cross(C$r,C$s,p9w_e2._tempV30),C$A.cross(C$s,C$n,p9w_e2._tempV31),C$A.cross(C$n,C$r,p9w_e2._tempV32);C$n=C$A.dot(C$n,p9w_e2._tempV30),C$r=C$A.dot(C$r,p9w_e2._tempV31),C$s=C$A.dot(C$s,p9w_e2._tempV32);return C$A.scale(p9w_e2._tempV30,-C$t.distance/C$n,p9w_e2._tempV33),C$A.scale(p9w_e2._tempV31,-C$e.distance/C$r,p9w_e2._tempV34),C$A.scale(p9w_e2._tempV32,-C$i.distance/C$s,p9w_e2._tempV35),C$A.add(p9w_e2._tempV33,p9w_e2._tempV34,p9w_e2._tempV36),C$A.add(p9w_e2._tempV35,p9w_e2._tempV36,p9w_e2._tempV37),p9w_e2._tempV37},C$h(p9w_e2,["_tempV30",function(){return this._tempV30=new C$A},"_tempV31",function(){return this._tempV31=new C$A},"_tempV32",function(){return this._tempV32=new C$A},"_tempV33",function(){return this._tempV33=new C$A},"_tempV34",function(){return this._tempV34=new C$A},"_tempV35",function(){return this._tempV35=new C$A},"_tempV36",function(){return this._tempV36=new C$A},"_tempV37",function(){return this._tempV37=new C$A}]),p9w_e2),C$Jt=(C$t($fw92,"laya.d3.math.BoundSphere"),C$s=$fw92.prototype,C$b.imps(C$s,{"laya.d3.core.IClone":!0}),C$s.toDefault=function(){this.center.toDefault(),this.radius=0},C$s.intersectsRayDistance=function(C$t){return Collision.intersectsRayAndSphereRD(C$t,this)},C$s.intersectsRayPoint=function(C$t,C$e){return Collision.intersectsRayAndSphereRP(C$t,this,C$e)},C$s.cloneTo=function(C$t){this.center.cloneTo(C$t.center),C$t.radius=this.radius},C$s.clone=function(){var C$t=new this.constructor(new C$A,new C$A);return this.cloneTo(C$t),C$t},$fw92.createFromSubPoints=function(C$t,C$e,C$i,C$n){if(null==C$t)throw new Error("points");if(C$e<0||C$e>=C$t.length)throw new Error("start"+C$e+"Must be in the range [0, "+(C$t.length-1)+"]");if(C$i<0||C$e+C$i>C$t.length)throw new Error("count"+C$i+"Must be in the range <= "+C$t.length+"}");var C$r=C$e+C$i,C$s=$fw92._tempVector3;C$s.elements[0]=0,C$s.elements[1]=0,C$s.elements[2]=0;for(var C$a=C$e;C$a<C$r;++C$a)C$A.add(C$t[C$a],C$s,C$s);var C$o=C$n.center;C$A.scale(C$s,1/C$i,C$o);var C$h=0;for(C$a=C$e;C$a<C$r;++C$a){var C$l=C$A.distanceSquared(C$o,C$t[C$a]);C$h<C$l&&(C$h=C$l)}C$n.radius=Math.sqrt(C$h)},$fw92.createfromPoints=function(C$t,C$e){if(null==C$t)throw new Error("points");$fw92.createFromSubPoints(C$t,0,C$t.length,C$e)},C$h($fw92,["_tempVector3",function(){return this._tempVector3=new C$A}]),$fw92),C$te=(C$t(la3u,"laya.d3.math.ContainmentType"),la3u.Disjoint=0,la3u.Contains=1,la3u.Intersects=2,C$t(oy7jv,"laya.d3.math.MathUtils3D"),oy7jv.isZero=function(C$t){return Math.abs(C$t)<oy7jv.zeroTolerance},oy7jv.nearEqual=function(C$t,C$e){return!!oy7jv.isZero(C$t-C$e)},oy7jv.fastInvSqrt=function(C$t){return oy7jv.isZero(C$t)?C$t:1/Math.sqrt(C$t)},C$h(oy7jv,["zeroTolerance",function(){return this.zeroTolerance=1e-6},"MaxValue",function(){return this.MaxValue=340282347e30},"MinValue",function(){return this.MinValue=-340282347e30}]),oy7jv),C$ee=(C$t(c8d6th,"laya.d3.math.Matrix3x3"),C$s=c8d6th.prototype,C$b.imps(C$s,{"laya.d3.core.IClone":!0}),C$s.determinant=function(){var C$t=this.elements,C$e=C$t[0],C$i=C$t[1],C$n=C$t[2],C$r=C$t[3],C$s=C$t[4],C$a=C$t[5],C$o=C$t[6],C$h=C$t[7],C$t=C$t[8];return C$e*(C$t*C$s-C$a*C$h)+C$i*(-C$t*C$r+C$a*C$o)+C$n*(C$h*C$r-C$s*C$o)},C$s.translate=function(C$t,C$e){var C$e=C$e.elements,C$i=this.elements,C$t=C$t.elements,C$n=C$i[0],C$r=C$i[1],C$s=C$i[2],C$a=C$i[3],C$o=C$i[4],C$h=C$i[5],C$u=C$i[6],C$c=C$i[7],C$i=C$i[8],C$l=C$t[0],C$t=C$t[1];C$e[0]=C$n,C$e[1]=C$r,C$e[2]=C$s,C$e[3]=C$a,C$e[4]=C$o,C$e[5]=C$h,C$e[6]=C$l*C$n+C$t*C$a+C$u,C$e[7]=C$l*C$r+C$t*C$o+C$c,C$e[8]=C$l*C$s+C$t*C$h+C$i},C$s.rotate=function(C$t,C$e){var C$e=C$e.elements,C$i=this.elements,C$n=C$i[0],C$r=C$i[1],C$s=C$i[2],C$a=C$i[3],C$o=C$i[4],C$h=C$i[5],C$u=C$i[6],C$c=C$i[7],C$i=C$i[8],C$l=Math.sin(C$t),C$t=Math.cos(C$t);C$e[0]=C$t*C$n+C$l*C$a,C$e[1]=C$t*C$r+C$l*C$o,C$e[2]=C$t*C$s+C$l*C$h,C$e[3]=C$t*C$a-C$l*C$n,C$e[4]=C$t*C$o-C$l*C$r,C$e[5]=C$t*C$h-C$l*C$s,C$e[6]=C$u,C$e[7]=C$c,C$e[8]=C$i},C$s.scale=function(C$t,C$e){var C$e=C$e.elements,C$i=this.elements,C$t=C$t.elements,C$n=C$t[0],C$t=C$t[1];C$e[0]=C$n*C$i[0],C$e[1]=C$n*C$i[1],C$e[2]=C$n*C$i[2],C$e[3]=C$t*C$i[3],C$e[4]=C$t*C$i[4],C$e[5]=C$t*C$i[5],C$e[6]=C$i[6],C$e[7]=C$i[7],C$e[8]=C$i[8]},C$s.invert=function(C$u){var C$t=C$u.elements,C$e=this.elements,C$i=C$e[0],C$n=C$e[1],C$r=C$e[2],C$s=C$e[3],C$a=C$e[4],C$o=C$e[5],C$h=C$e[6],C$c=C$e[7],C$e=C$e[8],C$_=C$e*C$a-C$o*C$c,C$d=-C$e*C$s+C$o*C$h,C$f=C$c*C$s-C$a*C$h,C$l=C$i*C$_+C$n*C$d+C$r*C$f;C$l||(C$u=null),C$t[0]=C$_*(C$l=1/C$l),C$t[1]=(-C$e*C$n+C$r*C$c)*C$l,C$t[2]=(C$o*C$n-C$r*C$a)*C$l,C$t[3]=C$d*C$l,C$t[4]=(C$e*C$i-C$r*C$h)*C$l,C$t[5]=(-C$o*C$i+C$r*C$s)*C$l,C$t[6]=C$f*C$l,C$t[7]=(-C$c*C$i+C$n*C$h)*C$l,C$t[8]=(C$a*C$i-C$n*C$s)*C$l},C$s.transpose=function(C$t){var C$e=C$t.elements,C$i=this.elements;var C$n,C$r;C$t===this?(C$t=C$i[1],C$n=C$i[2],C$r=C$i[5],C$e[1]=C$i[3],C$e[2]=C$i[6],C$e[3]=C$t,C$e[5]=C$i[7],C$e[6]=C$n,C$e[7]=C$r):(C$e[0]=C$i[0],C$e[1]=C$i[3],C$e[2]=C$i[6],C$e[3]=C$i[1],C$e[4]=C$i[4],C$e[5]=C$i[7],C$e[6]=C$i[2],C$e[7]=C$i[5],C$e[8]=C$i[8])},C$s.identity=function(){var C$t=this.elements;C$t[0]=1,C$t[1]=0,C$t[2]=0,C$t[3]=0,C$t[4]=1,C$t[5]=0,C$t[6]=0,C$t[7]=0,C$t[8]=1},C$s.cloneTo=function(C$t){var C$e,C$i,C$n;if((C$i=this.elements)!==(C$n=C$t.elements))for(C$e=0;C$e<9;++C$e)C$n[C$e]=C$i[C$e]},C$s.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},c8d6th.createFromTranslation=function(C$t,C$e){C$e.elements;C$t=C$t.elements;C$e[0]=1,C$e[1]=0,C$e[2]=0,C$e[3]=0,C$e[4]=1,C$e[5]=0,C$e[6]=C$t[0],C$e[7]=C$t[1],C$e[8]=1},c8d6th.createFromRotation=function(C$t,C$e){var C$e=C$e.elements,C$i=Math.sin(C$t),C$t=Math.cos(C$t);C$e[0]=C$t,C$e[1]=C$i,C$e[2]=0,C$e[3]=-C$i,C$e[4]=C$t,C$e[5]=0,C$e[6]=0,C$e[7]=0,C$e[8]=1},c8d6th.createFromScaling=function(C$t,C$e){C$e=C$e.elements,C$t=C$t.elements;C$e[0]=C$t[0],C$e[1]=0,C$e[2]=0,C$e[3]=0,C$e[4]=C$t[1],C$e[5]=0,C$e[6]=0,C$e[7]=0,C$e[8]=1},c8d6th.createFromMatrix4x4=function(C$t,C$e){C$e[0]=C$t[0],C$e[1]=C$t[1],C$e[2]=C$t[2],C$e[3]=C$t[4],C$e[4]=C$t[5],C$e[5]=C$t[6],C$e[6]=C$t[8],C$e[7]=C$t[9],C$e[8]=C$t[10]},c8d6th.multiply=function(C$t,C$e,C$i){var C$i=C$i.elements,C$t=C$t.elements,C$e=C$e.elements,C$n=C$t[0],C$r=C$t[1],C$s=C$t[2],C$a=C$t[3],C$o=C$t[4],C$h=C$t[5],C$l=C$t[6],C$u=C$t[7],C$t=C$t[8],C$c=C$e[0],C$_=C$e[1],C$d=C$e[2],C$f=C$e[3],C$p=C$e[4],C$m=C$e[5],C$g=C$e[6],C$v=C$e[7],C$e=C$e[8];C$i[0]=C$c*C$n+C$_*C$a+C$d*C$l,C$i[1]=C$c*C$r+C$_*C$o+C$d*C$u,C$i[2]=C$c*C$s+C$_*C$h+C$d*C$t,C$i[3]=C$f*C$n+C$p*C$a+C$m*C$l,C$i[4]=C$f*C$r+C$p*C$o+C$m*C$u,C$i[5]=C$f*C$s+C$p*C$h+C$m*C$t,C$i[6]=C$g*C$n+C$v*C$a+C$e*C$l,C$i[7]=C$g*C$r+C$v*C$o+C$e*C$u,C$i[8]=C$g*C$s+C$v*C$h+C$e*C$t},c8d6th.lookAt=function(C$t,C$e,C$i,C$n){C$A.subtract(C$t,C$e,c8d6th._tempV30),C$A.normalize(c8d6th._tempV30,c8d6th._tempV30),C$A.cross(C$i,c8d6th._tempV30,c8d6th._tempV31),C$A.normalize(c8d6th._tempV31,c8d6th._tempV31),C$A.cross(c8d6th._tempV30,c8d6th._tempV31,c8d6th._tempV32);C$t=c8d6th._tempV30.elements,C$e=c8d6th._tempV31.elements,C$i=c8d6th._tempV32.elements,C$n=C$n.elements;C$n[0]=C$e[0],C$n[3]=C$e[1],C$n[6]=C$e[2],C$n[1]=C$i[0],C$n[4]=C$i[1],C$n[7]=C$i[2],C$n[2]=C$t[0],C$n[5]=C$t[1],C$n[8]=C$t[2]},c8d6th.DEFAULT=new c8d6th,C$h(c8d6th,["_tempV30",function(){return this._tempV30=new C$A},"_tempV31",function(){return this._tempV31=new C$A},"_tempV32",function(){return this._tempV32=new C$A}]),c8d6th),C$ie=(C$t(jnix7v,"laya.d3.math.Matrix4x4"),C$s=jnix7v.prototype,C$b.imps(C$s,{"laya.d3.core.IClone":!0}),C$s.getElementByRowColumn=function(C$t,C$e){if(C$t<0||3<C$t)throw new Error("row","Rows and columns for matrices run from 0 to 3, inclusive.");if(C$e<0||3<C$e)throw new Error("column","Rows and columns for matrices run from 0 to 3, inclusive.");return this.elements[4*C$t+C$e]},C$s.setElementByRowColumn=function(C$t,C$e,C$i){if(C$t<0||3<C$t)throw new Error("row","Rows and columns for matrices run from 0 to 3, inclusive.");if(C$e<0||3<C$e)throw new Error("column","Rows and columns for matrices run from 0 to 3, inclusive.");this.elements[4*C$t+C$e]=C$i},C$s.equalsOtherMatrix=function(C$t){var C$e=this.elements,C$t=C$t.elements;return C$te.nearEqual(C$e[0],C$t[0])&&C$te.nearEqual(C$e[1],C$t[1])&&C$te.nearEqual(C$e[2],C$t[2])&&C$te.nearEqual(C$e[3],C$t[3])&&C$te.nearEqual(C$e[4],C$t[4])&&C$te.nearEqual(C$e[5],C$t[5])&&C$te.nearEqual(C$e[6],C$t[6])&&C$te.nearEqual(C$e[7],C$t[7])&&C$te.nearEqual(C$e[8],C$t[8])&&C$te.nearEqual(C$e[9],C$t[9])&&C$te.nearEqual(C$e[10],C$t[10])&&C$te.nearEqual(C$e[11],C$t[11])&&C$te.nearEqual(C$e[12],C$t[12])&&C$te.nearEqual(C$e[13],C$t[13])&&C$te.nearEqual(C$e[14],C$t[14])&&C$te.nearEqual(C$e[15],C$t[15])},C$s.decomposeTransRotScale=function(C$t,C$e,C$i){var C$n=jnix7v._tempMatrix4x4;return this.decomposeTransRotMatScale(C$t,C$n,C$i)?(C$re.createFromMatrix4x4(C$n,C$e),!0):(C$e.identity(),!1)},C$s.decomposeTransRotMatScale=function(C$t,C$e,C$i){var C$n=this.elements,C$t=C$t.elements,C$e=C$e.elements,C$i=C$i.elements;C$t[0]=C$n[12],C$t[1]=C$n[13],C$t[2]=C$n[14];var C$t=C$n[0],C$r=C$n[1],C$u=C$n[2],C$c=C$n[4],C$_=C$n[5],C$d=C$n[6],C$f=C$n[8],C$p=C$n[9],C$n=C$n[10],C$s=C$i[0]=Math.sqrt(C$t*C$t+C$r*C$r+C$u*C$u),C$m=C$i[1]=Math.sqrt(C$c*C$c+C$_*C$_+C$d*C$d),C$a=C$i[2]=Math.sqrt(C$f*C$f+C$p*C$p+C$n*C$n);if(C$te.isZero(C$s)||C$te.isZero(C$m)||C$te.isZero(C$a))return C$e[1]=C$e[2]=C$e[3]=C$e[4]=C$e[6]=C$e[7]=C$e[8]=C$e[9]=C$e[11]=C$e[12]=C$e[13]=C$e[14]=0,!(C$e[0]=C$e[5]=C$e[10]=C$e[15]=1);var C$o=jnix7v._tempVector0,C$h=C$o.elements;C$h[0]=C$f/C$a,C$h[1]=C$p/C$a,C$h[2]=C$n/C$a;var C$h=jnix7v._tempVector1,C$l=C$h.elements;C$l[0]=C$t/C$s,C$l[1]=C$r/C$s,C$l[2]=C$u/C$s;C$l=jnix7v._tempVector2;C$A.cross(C$o,C$h,C$l);C$h=jnix7v._tempVector1;return C$A.cross(C$l,C$o,C$h),C$e[3]=C$e[7]=C$e[11]=C$e[12]=C$e[13]=C$e[14]=0,C$e[15]=1,C$e[0]=C$h.x,C$e[1]=C$h.y,C$e[2]=C$h.z,C$e[4]=C$l.x,C$e[5]=C$l.y,C$e[6]=C$l.z,C$e[8]=C$o.x,C$e[9]=C$o.y,C$e[10]=C$o.z,C$e[0]*C$t+C$e[1]*C$r+C$e[2]*C$u<0&&(C$i[0]=-C$s),C$e[4]*C$c+C$e[5]*C$_+C$e[6]*C$d<0&&(C$i[1]=-C$m),C$e[8]*C$f+C$e[9]*C$p+C$e[10]*C$n<0&&(C$i[2]=-C$a),!0},C$s.decomposeYawPitchRoll=function(C$t){var C$t=C$t.elements,C$e=Math.asin(-this.elements[9]);C$t[1]=C$e,Math.cos(C$e)>C$te.zeroTolerance?(C$t[2]=Math.atan2(this.elements[1],this.elements[5]),C$t[0]=Math.atan2(this.elements[8],this.elements[10])):(C$t[2]=Math.atan2(-this.elements[4],this.elements[0]),C$t[0]=0)},C$s.normalize=function(){var C$t=this.elements,C$e=C$t[0],C$i=C$t[1],C$n=C$t[2],C$r=Math.sqrt(C$e*C$e+C$i*C$i+C$n*C$n);if(!C$r)return C$t[0]=0,C$t[1]=0,void(C$t[2]=0);1!=C$r&&(C$t[0]=C$e*(C$r=1/C$r),C$t[1]=C$i*C$r,C$t[2]=C$n*C$r)},C$s.transpose=function(){var C$t,C$e;return C$e=(C$t=this.elements)[1],C$t[1]=C$t[4],C$t[4]=C$e,C$e=C$t[2],C$t[2]=C$t[8],C$t[8]=C$e,C$e=C$t[3],C$t[3]=C$t[12],C$t[12]=C$e,C$e=C$t[6],C$t[6]=C$t[9],C$t[9]=C$e,C$e=C$t[7],C$t[7]=C$t[13],C$t[13]=C$e,C$e=C$t[11],C$t[11]=C$t[14],C$t[14]=C$e,this},C$s.invert=function(C$t){var C$e=this.elements,C$t=C$t.elements,C$i=C$e[0],C$n=C$e[1],C$r=C$e[2],C$s=C$e[3],C$a=C$e[4],C$o=C$e[5],C$h=C$e[6],C$u=C$e[7],C$c=C$e[8],C$_=C$e[9],C$d=C$e[10],C$f=C$e[11],C$p=C$e[12],C$m=C$e[13],C$g=C$e[14],C$e=C$e[15],C$v=C$i*C$o-C$n*C$a,C$x=C$i*C$h-C$r*C$a,C$y=C$i*C$u-C$s*C$a,C$b=C$n*C$h-C$r*C$o,C$w=C$n*C$u-C$s*C$o,C$T=C$r*C$u-C$s*C$h,C$M=C$c*C$m-C$_*C$p,C$S=C$c*C$g-C$d*C$p,C$C=C$c*C$e-C$f*C$p,C$D=C$_*C$g-C$d*C$m,C$E=C$_*C$e-C$f*C$m,C$A=C$d*C$e-C$f*C$g,C$l=C$v*C$A-C$x*C$E+C$y*C$D+C$b*C$C-C$w*C$S+C$T*C$M;0!==Math.abs(C$l)&&(C$t[0]=(C$o*C$A-C$h*C$E+C$u*C$D)*(C$l=1/C$l),C$t[1]=(C$r*C$E-C$n*C$A-C$s*C$D)*C$l,C$t[2]=(C$m*C$T-C$g*C$w+C$e*C$b)*C$l,C$t[3]=(C$d*C$w-C$_*C$T-C$f*C$b)*C$l,C$t[4]=(C$h*C$C-C$a*C$A-C$u*C$S)*C$l,C$t[5]=(C$i*C$A-C$r*C$C+C$s*C$S)*C$l,C$t[6]=(C$g*C$y-C$p*C$T-C$e*C$x)*C$l,C$t[7]=(C$c*C$T-C$d*C$y+C$f*C$x)*C$l,C$t[8]=(C$a*C$E-C$o*C$C+C$u*C$M)*C$l,C$t[9]=(C$n*C$C-C$i*C$E-C$s*C$M)*C$l,C$t[10]=(C$p*C$w-C$m*C$y+C$e*C$v)*C$l,C$t[11]=(C$_*C$y-C$c*C$w-C$f*C$v)*C$l,C$t[12]=(C$o*C$S-C$a*C$D-C$h*C$M)*C$l,C$t[13]=(C$i*C$D-C$n*C$S+C$r*C$M)*C$l,C$t[14]=(C$m*C$x-C$p*C$b-C$g*C$v)*C$l,C$t[15]=(C$c*C$b-C$_*C$x+C$d*C$v)*C$l)},C$s.identity=function(){var C$t=this.elements;C$t[1]=C$t[2]=C$t[3]=C$t[4]=C$t[6]=C$t[7]=C$t[8]=C$t[9]=C$t[11]=C$t[12]=C$t[13]=C$t[14]=0,C$t[0]=C$t[5]=C$t[10]=C$t[15]=1},C$s.cloneTo=function(C$t){var C$e,C$i,C$n;if((C$i=this.elements)!==(C$n=C$t.elements))for(C$e=0;C$e<16;++C$e)C$n[C$e]=C$i[C$e]},C$s.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$s.getTranslationVector=function(C$t){var C$e=this.elements,C$t=C$t.elements;C$t[0]=C$e[12],C$t[1]=C$e[13],C$t[2]=C$e[14]},C$s.setTranslationVector=function(C$t){var C$e=this.elements,C$t=C$t.elements;C$e[12]=C$t[0],C$e[13]=C$t[1],C$e[14]=C$t[2]},C$s.getForward=function(C$t){var C$e=this.elements,C$t=C$t.elements;C$t[0]=-C$e[8],C$t[1]=-C$e[9],C$t[2]=-C$e[10]},C$s.setForward=function(C$t){var C$e=this.elements,C$t=C$t.elements;C$e[8]=-C$t[0],C$e[9]=-C$t[1],C$e[10]=-C$t[2]},jnix7v.createRotationX=function(C$t,C$e){var C$e=C$e.elements,C$i=Math.sin(C$t),C$t=Math.cos(C$t);C$e[1]=C$e[2]=C$e[3]=C$e[4]=C$e[7]=C$e[8]=C$e[11]=C$e[12]=C$e[13]=C$e[14]=0,C$e[0]=C$e[15]=1,C$e[5]=C$e[10]=C$t,C$e[6]=C$i,C$e[9]=-C$i},jnix7v.createRotationY=function(C$t,C$e){var C$e=C$e.elements,C$i=Math.sin(C$t),C$t=Math.cos(C$t);C$e[1]=C$e[3]=C$e[4]=C$e[6]=C$e[7]=C$e[9]=C$e[11]=C$e[12]=C$e[13]=C$e[14]=0,C$e[5]=C$e[15]=1,C$e[0]=C$e[10]=C$t,C$e[2]=-C$i,C$e[8]=C$i},jnix7v.createRotationZ=function(C$t,C$e){var C$e=C$e.elements,C$i=Math.sin(C$t),C$t=Math.cos(C$t);C$e[2]=C$e[3]=C$e[6]=C$e[7]=C$e[8]=C$e[9]=C$e[11]=C$e[12]=C$e[13]=C$e[14]=0,C$e[10]=C$e[15]=1,C$e[0]=C$e[5]=C$t,C$e[1]=C$i,C$e[4]=-C$i},jnix7v.createRotationYawPitchRoll=function(C$t,C$e,C$i,C$n){C$re.createFromYawPitchRoll(C$t,C$e,C$i,jnix7v._tempQuaternion),jnix7v.createRotationQuaternion(jnix7v._tempQuaternion,C$n)},jnix7v.createRotationAxis=function(C$t,C$e,C$i){var C$t=C$t.elements,C$n=C$t[0],C$r=C$t[1],C$t=C$t[2],C$s=Math.cos(C$e),C$e=Math.sin(C$e),C$a=C$n*C$n,C$u=C$r*C$r,C$c=C$t*C$t,C$o=C$n*C$r,C$h=C$n*C$t,C$l=C$r*C$t,C$i=C$i.elements;C$i[3]=C$i[7]=C$i[11]=C$i[12]=C$i[13]=C$i[14]=0,C$i[15]=1,C$i[0]=C$a+C$s*(1-C$a),C$i[1]=C$o-C$s*C$o+C$e*C$t,C$i[2]=C$h-C$s*C$h-C$e*C$r,C$i[4]=C$o-C$s*C$o-C$e*C$t,C$i[5]=C$u+C$s*(1-C$u),C$i[6]=C$l-C$s*C$l+C$e*C$n,C$i[8]=C$h-C$s*C$h+C$e*C$r,C$i[9]=C$l-C$s*C$l-C$e*C$n,C$i[10]=C$c+C$s*(1-C$c)},jnix7v.createRotationQuaternion=function(C$t,C$e){var C$t=C$t.elements,C$e=C$e.elements,C$i=C$t[0],C$n=C$t[1],C$r=C$t[2],C$t=C$t[3],C$s=C$i*C$i,C$a=C$n*C$n,C$o=C$r*C$r,C$h=C$i*C$n,C$l=C$r*C$t,C$u=C$r*C$i,C$c=C$n*C$t,C$n=C$n*C$r,C$r=C$i*C$t;C$e[3]=C$e[7]=C$e[11]=C$e[12]=C$e[13]=C$e[14]=0,C$e[15]=1,C$e[0]=1-2*(C$a+C$o),C$e[1]=2*(C$h+C$l),C$e[2]=2*(C$u-C$c),C$e[4]=2*(C$h-C$l),C$e[5]=1-2*(C$o+C$s),C$e[6]=2*(C$n+C$r),C$e[8]=2*(C$u+C$c),C$e[9]=2*(C$n-C$r),C$e[10]=1-2*(C$a+C$s)},jnix7v.createTranslate=function(C$t,C$e){C$t=C$t.elements,C$e=C$e.elements;C$e[4]=C$e[8]=C$e[1]=C$e[9]=C$e[2]=C$e[6]=C$e[3]=C$e[7]=C$e[11]=0,C$e[0]=C$e[5]=C$e[10]=C$e[15]=1,C$e[12]=C$t[0],C$e[13]=C$t[1],C$e[14]=C$t[2]},jnix7v.createScaling=function(C$t,C$e){C$t=C$t.elements,C$e=C$e.elements;C$e[0]=C$t[0],C$e[5]=C$t[1],C$e[10]=C$t[2],C$e[1]=C$e[4]=C$e[8]=C$e[12]=C$e[9]=C$e[13]=C$e[2]=C$e[6]=C$e[14]=C$e[3]=C$e[7]=C$e[11]=0,C$e[15]=1},jnix7v.multiply=function(C$t,C$e,C$u){var C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l;for(C$n=C$u.elements,C$r=C$t.elements,C$n===(C$s=C$e.elements)&&(C$s=C$s.slice()),C$i=0;C$i<4;C$i++)C$a=C$r[C$i],C$o=C$r[C$i+4],C$h=C$r[C$i+8],C$l=C$r[C$i+12],C$n[C$i]=C$a*C$s[0]+C$o*C$s[1]+C$h*C$s[2]+C$l*C$s[3],C$n[C$i+4]=C$a*C$s[4]+C$o*C$s[5]+C$h*C$s[6]+C$l*C$s[7],C$n[C$i+8]=C$a*C$s[8]+C$o*C$s[9]+C$h*C$s[10]+C$l*C$s[11],C$n[C$i+12]=C$a*C$s[12]+C$o*C$s[13]+C$h*C$s[14]+C$l*C$s[15]},jnix7v.createFromQuaternion=function(C$t,C$e){var C$e=C$e.elements,C$t=C$t.elements,C$i=C$t[0],C$n=C$t[1],C$r=C$t[2],C$t=C$t[3],C$s=C$i+C$i,C$a=C$n+C$n,C$o=C$r+C$r,C$i=C$i*C$s,C$h=C$n*C$s,C$n=C$n*C$a,C$l=C$r*C$s,C$u=C$r*C$a,C$r=C$r*C$o,C$s=C$t*C$s,C$a=C$t*C$a,C$t=C$t*C$o;C$e[0]=1-C$n-C$r,C$e[1]=C$h+C$t,C$e[2]=C$l-C$a,C$e[3]=0,C$e[4]=C$h-C$t,C$e[5]=1-C$i-C$r,C$e[6]=C$u+C$s,C$e[7]=0,C$e[8]=C$l+C$a,C$e[9]=C$u-C$s,C$e[10]=1-C$i-C$n,C$e[11]=0,C$e[12]=0,C$e[13]=0,C$e[14]=0,C$e[15]=1},jnix7v.createAffineTransformation=function(C$t,C$e,C$i,C$n){var C$t=C$t.elements,C$e=C$e.elements,C$i=C$i.elements,C$n=C$n.elements,C$r=C$e[0],C$s=C$e[1],C$a=C$e[2],C$e=C$e[3],C$o=C$r+C$r,C$h=C$s+C$s,C$l=C$a+C$a,C$u=C$r*C$o,C$c=C$r*C$h,C$r=C$r*C$l,C$_=C$s*C$h,C$s=C$s*C$l,C$a=C$a*C$l,C$o=C$e*C$o,C$h=C$e*C$h,C$e=C$e*C$l,C$l=C$i[0],C$d=C$i[1],C$i=C$i[2];C$n[0]=(1-(C$_+C$a))*C$l,C$n[1]=(C$c+C$e)*C$l,C$n[2]=(C$r-C$h)*C$l,C$n[3]=0,C$n[4]=(C$c-C$e)*C$d,C$n[5]=(1-(C$u+C$a))*C$d,C$n[6]=(C$s+C$o)*C$d,C$n[7]=0,C$n[8]=(C$r+C$h)*C$i,C$n[9]=(C$s-C$o)*C$i,C$n[10]=(1-(C$u+C$_))*C$i,C$n[11]=0,C$n[12]=C$t[0],C$n[13]=C$t[1],C$n[14]=C$t[2],C$n[15]=1},jnix7v.createLookAt=function(C$t,C$e,C$i,C$n){var C$r=C$n.elements,C$s=jnix7v._tempVector0,C$a=jnix7v._tempVector1,C$o=jnix7v._tempVector2;C$A.subtract(C$t,C$e,C$o),C$A.normalize(C$o,C$o),C$A.cross(C$i,C$o,C$s),C$A.normalize(C$s,C$s),C$A.cross(C$o,C$s,C$a),C$n.identity(),C$r[0]=C$s.x,C$r[4]=C$s.y,C$r[8]=C$s.z,C$r[1]=C$a.x,C$r[5]=C$a.y,C$r[9]=C$a.z,C$r[2]=C$o.x,C$r[6]=C$o.y,C$r[10]=C$o.z,C$r[12]=-C$A.dot(C$s,C$t),C$r[13]=-C$A.dot(C$a,C$t),C$r[14]=-C$A.dot(C$o,C$t)},jnix7v.createPerspective=function(C$t,C$e,C$i,C$n,C$r){var C$r=C$r.elements,C$t=1/Math.tan(C$t/2),C$s=1/(C$i-C$n);C$r[0]=C$t/C$e,C$r[5]=C$t,C$r[10]=(C$n+C$i)*C$s,C$r[11]=-1,C$r[14]=2*C$n*C$i*C$s,C$r[1]=C$r[2]=C$r[3]=C$r[4]=C$r[6]=C$r[7]=C$r[8]=C$r[9]=C$r[12]=C$r[13]=C$r[15]=0},jnix7v.createOrthoOffCenterRH=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){var C$a=C$a.elements,C$o=1/(C$t-C$e),C$h=1/(C$i-C$n),C$l=1/(C$r-C$s);C$a[1]=C$a[2]=C$a[3]=C$a[4]=C$a[6]=C$a[7]=C$a[8]=C$a[9]=C$a[11]=0,C$a[15]=1,C$a[0]=-2*C$o,C$a[5]=-2*C$h,C$a[10]=2*C$l,C$a[12]=(C$t+C$e)*C$o,C$a[13]=(C$n+C$i)*C$h,C$a[14]=(C$s+C$r)*C$l},jnix7v.translation=function(C$t,C$e){C$t=C$t.elements,C$e=C$e.elements;C$e[0]=C$e[5]=C$e[10]=C$e[15]=1,C$e[12]=C$t[0],C$e[13]=C$t[1],C$e[14]=C$t[2]},C$h(jnix7v,["_tempMatrix4x4",function(){return this._tempMatrix4x4=new jnix7v},"_tempVector0",function(){return this._tempVector0=new C$A},"_tempVector1",function(){return this._tempVector1=new C$A},"_tempVector2",function(){return this._tempVector2=new C$A},"_tempQuaternion",function(){return this._tempQuaternion=new C$re},"DEFAULT",function(){return this.DEFAULT=new jnix7v},"ZERO",function(){return this.ZERO=new jnix7v(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}]),jnix7v),C$ne=(C$t(xvryj,"laya.d3.math.OrientedBoundBox"),(C$s=xvryj.prototype).getCorners=function(C$t){var C$e=xvryj._tempV30.elements,C$i=xvryj._tempV31.elements,C$n=xvryj._tempV32.elements,C$r=this.extents.elements;C$e[0]=C$r[0],C$e[1]=C$e[2]=0,C$i[1]=C$r[1],C$i[0]=C$i[2]=0,C$n[2]=C$r[2],C$n[0]=C$n[1]=0,C$A.TransformNormal(xvryj._tempV30,this.transformation,xvryj._tempV30),C$A.TransformNormal(xvryj._tempV31,this.transformation,xvryj._tempV31),C$A.TransformNormal(xvryj._tempV32,this.transformation,xvryj._tempV32);C$e=xvryj._tempV33;this.transformation.getTranslationVector(C$e),C$t.length=8,C$A.add(C$e,xvryj._tempV30,xvryj._tempV34),C$A.add(xvryj._tempV34,xvryj._tempV31,xvryj._tempV34),C$A.add(xvryj._tempV34,xvryj._tempV32,C$t[0]),C$A.add(C$e,xvryj._tempV30,xvryj._tempV34),C$A.add(xvryj._tempV34,xvryj._tempV31,xvryj._tempV34),C$A.subtract(xvryj._tempV34,xvryj._tempV32,C$t[1]),C$A.subtract(C$e,xvryj._tempV30,xvryj._tempV34),C$A.add(xvryj._tempV34,xvryj._tempV31,xvryj._tempV34),C$A.subtract(xvryj._tempV34,xvryj._tempV32,C$t[2]),C$A.subtract(C$e,xvryj._tempV30,xvryj._tempV34),C$A.add(xvryj._tempV34,xvryj._tempV31,xvryj._tempV34),C$A.add(xvryj._tempV34,xvryj._tempV32,C$t[3]),C$A.add(C$e,xvryj._tempV30,xvryj._tempV34),C$A.subtract(xvryj._tempV34,xvryj._tempV31,xvryj._tempV34),C$A.add(xvryj._tempV34,xvryj._tempV32,C$t[4]),C$A.add(C$e,xvryj._tempV30,xvryj._tempV34),C$A.subtract(xvryj._tempV34,xvryj._tempV31,xvryj._tempV34),C$A.subtract(xvryj._tempV34,xvryj._tempV32,C$t[5]),C$A.subtract(C$e,xvryj._tempV30,xvryj._tempV34),C$A.subtract(xvryj._tempV34,xvryj._tempV31,xvryj._tempV34),C$A.subtract(xvryj._tempV34,xvryj._tempV32,C$t[6]),C$A.subtract(C$e,xvryj._tempV30,xvryj._tempV34),C$A.subtract(xvryj._tempV34,xvryj._tempV31,xvryj._tempV34),C$A.add(xvryj._tempV34,xvryj._tempV32,C$t[7])},C$s.transform=function(C$t){C$ie.multiply(this.transformation,C$t,this.transformation)},C$s.scale=function(C$t){C$A.multiply(this.extents,C$t,this.extents)},C$s.translate=function(C$t){this.transformation.getTranslationVector(xvryj._tempV30),C$A.add(xvryj._tempV30,C$t,xvryj._tempV31),this.transformation.setTranslationVector(xvryj._tempV31)},C$s.Size=function(C$t){C$A.scale(this.extents,2,C$t)},C$s.getSize=function(C$t){var C$e=this.extents.elements;xvryj._tempV30.x=C$e[0],xvryj._tempV31.y=C$e[1],xvryj._tempV32.z=C$e[2],C$A.TransformNormal(xvryj._tempV30,this.transformation,xvryj._tempV30),C$A.TransformNormal(xvryj._tempV31,this.transformation,xvryj._tempV31),C$A.TransformNormal(xvryj._tempV31,this.transformation,xvryj._tempV32);C$e=C$t.elements;C$e[0]=C$A.scalarLength(xvryj._tempV30),C$e[1]=C$A.scalarLength(xvryj._tempV31),C$e[2]=C$A.scalarLength(xvryj._tempV32)},C$s.getSizeSquared=function(C$t){var C$e=this.extents.elements;xvryj._tempV30.x=C$e[0],xvryj._tempV31.y=C$e[1],xvryj._tempV32.z=C$e[2],C$A.TransformNormal(xvryj._tempV30,this.transformation,xvryj._tempV30),C$A.TransformNormal(xvryj._tempV31,this.transformation,xvryj._tempV31),C$A.TransformNormal(xvryj._tempV31,this.transformation,xvryj._tempV32);C$e=C$t.elements;C$e[0]=C$A.scalarLengthSquared(xvryj._tempV30),C$e[1]=C$A.scalarLengthSquared(xvryj._tempV31),C$e[2]=C$A.scalarLengthSquared(xvryj._tempV32)},C$s.getCenter=function(C$t){this.transformation.getTranslationVector(C$t)},C$s.containsPoint=function(C$t){var C$e=this.extents.elements,C$i=C$e[0],C$n=C$e[1],C$e=C$e[2];this.transformation.invert(xvryj._tempM0),C$A.transformCoordinate(C$t,xvryj._tempM0,xvryj._tempV30);var C$t=xvryj._tempV30.elements,C$r=Math.abs(C$t[0]),C$s=Math.abs(C$t[1]),C$t=Math.abs(C$t[2]);return C$te.nearEqual(C$r,C$i)&&C$te.nearEqual(C$s,C$n)&&C$te.nearEqual(C$t,C$e)?2:C$r<C$i&&C$s<C$n&&C$t<C$e?1:0},C$s.containsPoints=function(C$t){var C$e=this.extents.elements,C$i=C$e[0],C$n=C$e[1],C$r=C$e[2];this.transformation.invert(xvryj._tempM0);for(var C$s=!0,C$a=!1,C$o=0;C$o<C$t.length;C$o++){C$A.transformCoordinate(C$t[C$o],xvryj._tempM0,xvryj._tempV30);var C$h=xvryj._tempV30.elements,C$l=Math.abs(C$h[0]),C$u=Math.abs(C$h[1]),C$h=Math.abs(C$h[2]);C$te.nearEqual(C$l,C$i)&&C$te.nearEqual(C$u,C$n)&&C$te.nearEqual(C$h,C$r)&&(C$a=!0),C$l<C$i&&C$u<C$n&&C$h<C$r?C$a=!0:C$s=!1}return C$s?1:C$a?2:0},C$s.containsSphere=function(C$t,C$e){void 0===C$e&&(C$e=!1);var C$i=this.extents.elements,C$n=C$i[0],C$r=C$i[1],C$i=C$i[2],C$s=C$t.radius;this.transformation.invert(xvryj._tempM0),C$A.transformCoordinate(C$t.center,xvryj._tempM0,xvryj._tempV30);if(C$t=C$e?C$s:(C$A.scale(C$A.UnitX,C$s,xvryj._tempV31),C$A.TransformNormal(xvryj._tempV31,xvryj._tempM0,xvryj._tempV31),C$A.scalarLength(xvryj._tempV31)),C$A.scale(this.extents,-1,xvryj._tempV32),C$A.Clamp(xvryj._tempV30,xvryj._tempV32,this.extents,xvryj._tempV33),C$t*C$t<C$A.distanceSquared(xvryj._tempV30,xvryj._tempV33))return 0;var C$e=xvryj._tempV30.elements,C$s=C$e[0],C$a=C$e[1],C$e=C$e[2],C$o=xvryj._tempV32.elements,C$h=C$o[0],C$l=C$o[1],C$o=C$o[2];return C$h+C$t<=C$s&&C$s<=C$n-C$t&&C$t<C$n-C$h&&C$l+C$t<=C$a&&C$a<=C$r-C$t&&C$t<C$r-C$l&&C$o+C$t<=C$e&&C$e<=C$i-C$t&&C$t<C$i-C$o?1:2},C$s.containsOrientedBoundBox=function(C$t){var C$e=0,C$i=0;C$t.getCorners(xvryj._corners);var C$u=this.containsPoints(xvryj._corners);if(0!=C$u)return C$u;var C$n=this.extents.elements;C$t.extents.cloneTo(xvryj._tempV35);var C$r=xvryj._tempV35.elements;xvryj._getRows(this.transformation,xvryj._rows1),xvryj._getRows(C$t.transformation,xvryj._rows2);var C$s;for(C$e=0;C$e<4;C$e++)for(C$i=0;C$i<4;C$i++)3==C$e||3==C$i?(xvryj._tempM0.setElementByRowColumn(C$e,C$i,0),xvryj._tempM1.setElementByRowColumn(C$e,C$i,0)):(C$s=C$A.dot(xvryj._rows1[C$e],xvryj._rows2[C$i]),xvryj._tempM0.setElementByRowColumn(C$e,C$i,C$s),xvryj._tempM1.setElementByRowColumn(C$e,C$i,Math.abs(C$s)));C$t.getCenter(xvryj._tempV34),this.getCenter(xvryj._tempV36),C$A.subtract(xvryj._tempV34,xvryj._tempV36,xvryj._tempV30);var C$a=xvryj._tempV31.elements;C$a[0]=C$A.dot(xvryj._tempV30,xvryj._rows1[0]),C$a[1]=C$A.dot(xvryj._tempV30,xvryj._rows1[1]),C$a[2]=C$A.dot(xvryj._tempV30,xvryj._rows1[2]);var C$o=xvryj._tempV32.elements,C$c=xvryj._tempV33.elements;for(C$e=0;C$e<3;C$e++)if(C$o[0]=xvryj._tempM1.getElementByRowColumn(C$e,0),C$o[1]=xvryj._tempM1.getElementByRowColumn(C$e,1),C$o[2]=xvryj._tempM1.getElementByRowColumn(C$e,2),C$n[C$e]+C$A.dot(xvryj._tempV35,xvryj._tempV32)<Math.abs(C$a[C$e]))return 0;for(C$i=0;C$i<3;C$i++)if(C$o[0]=xvryj._tempM1.getElementByRowColumn(0,C$i),C$o[1]=xvryj._tempM1.getElementByRowColumn(1,C$i),C$o[2]=xvryj._tempM1.getElementByRowColumn(2,C$i),C$c[0]=xvryj._tempM0.getElementByRowColumn(0,C$i),C$c[1]=xvryj._tempM0.getElementByRowColumn(1,C$i),C$c[2]=xvryj._tempM0.getElementByRowColumn(2,C$i),C$A.dot(this.extents,xvryj._tempV32)+C$r[C$i]<Math.abs(C$A.dot(xvryj._tempV31,xvryj._tempV33)))return 0;for(C$e=0;C$e<3;C$e++)for(C$i=0;C$i<3;C$i++){var C$h=(C$e+1)%3,C$l=(C$e+2)%3,C$_=(C$i+1)%3,C$d=(C$i+2)%3;if(C$n[C$h]*xvryj._tempM1.getElementByRowColumn(C$l,C$i)+C$n[C$l]*xvryj._tempM1.getElementByRowColumn(C$h,C$i)+(C$r[C$_]*xvryj._tempM1.getElementByRowColumn(C$e,C$d)+C$r[C$d]*xvryj._tempM1.getElementByRowColumn(C$e,C$_))<Math.abs(C$a[C$l]*xvryj._tempM0.getElementByRowColumn(C$h,C$i)-C$a[C$h]*xvryj._tempM0.getElementByRowColumn(C$l,C$i)))return 0}return 2},C$s.containsLine=function(C$t,C$e){xvryj._corners[0]=C$t,xvryj._corners[1]=C$e;var C$i=this.containsPoints(xvryj._corners);if(0!=C$i)return C$i;var C$i=this.extents.elements,C$n=C$i[0],C$r=C$i[1],C$i=C$i[2];this.transformation.invert(xvryj._tempM0),C$A.transformCoordinate(C$t,xvryj._tempM0,xvryj._tempV30),C$A.transformCoordinate(C$e,xvryj._tempM0,xvryj._tempV31),C$A.add(xvryj._tempV30,xvryj._tempV31,xvryj._tempV32),C$A.scale(xvryj._tempV32,.5,xvryj._tempV32),C$A.subtract(xvryj._tempV30,xvryj._tempV32,xvryj._tempV33);var C$t=xvryj._tempV33.elements,C$e=C$t[0],C$u=C$t[1],C$c=C$t[2],C$s=xvryj._tempV34.elements,C$a=C$s[0]=Math.abs(C$t[0]),C$o=C$s[1]=Math.abs(C$t[1]),C$s=C$s[2]=Math.abs(C$t[2]),C$t=xvryj._tempV32.elements,C$h=C$t[0],C$l=C$t[1],C$t=C$t[2];return Math.abs(C$h)>C$n+C$a||Math.abs(C$l)>C$r+C$o||Math.abs(C$t)>C$i+C$s||Math.abs(C$l*C$c-C$t*C$u)>C$r*C$s+C$i*C$o||Math.abs(C$h*C$c-C$t*C$e)>C$n*C$s+C$i*C$a||Math.abs(C$h*C$u-C$l*C$e)>C$n*C$o+C$r*C$a?0:2},C$s.containsBoundBox=function(C$t){var C$e=0,C$i=0,C$u=C$t.min,C$c=C$t.max;C$t.getCorners(xvryj._corners);C$t=this.containsPoints(xvryj._corners);if(0!=C$t)return C$t;C$A.subtract(C$c,C$u,xvryj._tempV30),C$A.scale(xvryj._tempV30,.5,xvryj._tempV30),C$A.add(C$u,xvryj._tempV30,xvryj._tempV30),C$A.subtract(C$c,xvryj._tempV30,xvryj._tempV31);var C$n=this.extents.elements,C$r=xvryj._tempV31.elements;for(xvryj._getRows(this.transformation,xvryj._rows1),this.transformation.invert(xvryj._tempM0),C$e=0;C$e<3;C$e++)for(C$i=0;C$i<3;C$i++)xvryj._tempM1.setElementByRowColumn(C$e,C$i,Math.abs(xvryj._tempM0.getElementByRowColumn(C$e,C$i)));this.getCenter(xvryj._tempV35),C$A.subtract(xvryj._tempV30,xvryj._tempV35,xvryj._tempV32);var C$s=xvryj._tempV31.elements;C$s[0]=C$A.dot(xvryj._tempV32,xvryj._rows1[0]),C$s[1]=C$A.dot(xvryj._tempV32,xvryj._rows1[1]),C$s[2]=C$A.dot(xvryj._tempV32,xvryj._rows1[2]);var C$a=xvryj._tempV33.elements,C$o=xvryj._tempV34.elements;for(C$e=0;C$e<3;C$e++)if(C$a[0]=xvryj._tempM1.getElementByRowColumn(C$e,0),C$a[1]=xvryj._tempM1.getElementByRowColumn(C$e,1),C$a[2]=xvryj._tempM1.getElementByRowColumn(C$e,2),C$n[C$e]+C$A.dot(xvryj._tempV31,xvryj._tempV33)<Math.abs(C$s[C$e]))return 0;for(C$i=0;C$i<3;C$i++)if(C$a[0]=xvryj._tempM1.getElementByRowColumn(0,C$i),C$a[1]=xvryj._tempM1.getElementByRowColumn(1,C$i),C$a[2]=xvryj._tempM1.getElementByRowColumn(2,C$i),C$o[0]=xvryj._tempM0.getElementByRowColumn(0,C$i),C$o[1]=xvryj._tempM0.getElementByRowColumn(1,C$i),C$o[2]=xvryj._tempM0.getElementByRowColumn(2,C$i),C$A.dot(this.extents,xvryj._tempV33)+C$r[C$i]<Math.abs(C$A.dot(xvryj._tempV31,xvryj._tempV34)))return 0;for(C$e=0;C$e<3;C$e++)for(C$i=0;C$i<3;C$i++){var C$h=(C$e+1)%3,C$l=(C$e+2)%3,C$_=(C$i+1)%3,C$d=(C$i+2)%3;if(C$n[C$h]*xvryj._tempM1.getElementByRowColumn(C$l,C$i)+C$n[C$l]*xvryj._tempM1.getElementByRowColumn(C$h,C$i)+(C$r[C$_]*xvryj._tempM1.getElementByRowColumn(C$e,C$d)+C$r[C$d]*xvryj._tempM1.getElementByRowColumn(C$e,C$_))<Math.abs(C$s[C$l]*xvryj._tempM0.getElementByRowColumn(C$h,C$i)-C$s[C$h]*xvryj._tempM0.getElementByRowColumn(C$l,C$i)))return 0}return 2},C$s.intersectsRay=function(C$t,C$e){C$A.scale(this.extents,-1,xvryj._tempV30),this.transformation.invert(xvryj._tempM0),C$A.TransformNormal(C$t.direction,xvryj._tempM0,xvryj._ray.direction),C$A.transformCoordinate(C$t.origin,xvryj._tempM0,xvryj._ray.origin),xvryj._boxBound1.min=xvryj._tempV30,xvryj._boxBound1.max=this.extents;C$t=Collision.intersectsRayAndBoxRP(xvryj._ray,xvryj._boxBound1,C$e);return-1!==C$t&&C$A.transformCoordinate(C$e,this.transformation,C$e),C$t},C$s._getLocalCorners=function(C$t){C$t.length=8;var C$e=this.extents.elements;xvryj._tempV30.x=C$e[0],xvryj._tempV31.y=C$e[1],xvryj._tempV32.z=C$e[2],C$A.add(xvryj._tempV30,xvryj._tempV31,xvryj._tempV33),C$A.add(xvryj._tempV33,xvryj._tempV32,C$t[0]),C$A.add(xvryj._tempV30,xvryj._tempV31,xvryj._tempV33),C$A.subtract(xvryj._tempV33,xvryj._tempV32,C$t[1]),C$A.subtract(xvryj._tempV31,xvryj._tempV30,xvryj._tempV33),C$A.subtract(xvryj._tempV33,xvryj._tempV30,C$t[2]),C$A.subtract(xvryj._tempV31,xvryj._tempV30,xvryj._tempV33),C$A.add(xvryj._tempV33,xvryj._tempV32,C$t[3]),C$A.subtract(xvryj._tempV30,xvryj._tempV31,xvryj._tempV33),C$A.add(xvryj._tempV33,xvryj._tempV32,C$t[4]),C$A.subtract(xvryj._tempV30,xvryj._tempV31,xvryj._tempV33),C$A.subtract(xvryj._tempV33,xvryj._tempV32,C$t[5]),C$A.scale(C$t[0],-1,C$t[6]),C$A.subtract(xvryj._tempV32,xvryj._tempV30,xvryj._tempV33),C$A.subtract(xvryj._tempV33,xvryj._tempV31,C$t[7])},C$s.equals=function(C$t){return this.extents==C$t.extents&&this.transformation==C$t.transformation},C$s.cloneTo=function(C$t){this.extents.cloneTo(C$t.extents),this.transformation.cloneTo(C$t.transformation)},xvryj.createByBoundBox=function(C$t,C$e){var C$i=C$t.min,C$t=C$t.max;C$A.subtract(C$t,C$i,xvryj._tempV30),C$A.scale(xvryj._tempV30,.5,xvryj._tempV30),C$A.add(C$i,xvryj._tempV30,xvryj._tempV31),C$A.subtract(C$t,xvryj._tempV31,xvryj._tempV32),C$ie.translation(xvryj._tempV31,xvryj._tempM0);C$i=xvryj._tempV32.clone(),C$t=xvryj._tempM0.clone();C$e.extents=C$i,C$e.transformation=C$t},xvryj.createByMinAndMaxVertex=function(C$t,C$e){return C$A.subtract(C$e,C$t,xvryj._tempV30),C$A.scale(xvryj._tempV30,.5,xvryj._tempV30),C$A.add(C$t,xvryj._tempV30,xvryj._tempV31),C$A.subtract(C$e,xvryj._tempV31,xvryj._tempV32),C$ie.translation(xvryj._tempV31,xvryj._tempM0),new xvryj(xvryj._tempV32,xvryj._tempM0)},xvryj._getRows=function(C$t,C$e){C$e.length=3;var C$t=C$t.elements,C$i=C$e[0].elements;C$i[0]=C$t[0],C$i[1]=C$t[1],C$i[2]=C$t[2];C$i=C$e[1].elements;C$i[0]=C$t[4],C$i[1]=C$t[5],C$i[2]=C$t[6];C$i=C$e[2].elements;C$i[0]=C$t[8],C$i[1]=C$t[9],C$i[2]=C$t[10]},xvryj.getObbtoObbMatrix4x4=function(C$t,C$e,C$i,C$n){var C$r=C$t.transformation,C$s=C$e.transformation;if(C$i){xvryj._getRows(C$r,xvryj._rows1),xvryj._getRows(C$s,xvryj._rows2);for(var C$a=0;C$a<3;C$a++)for(var C$o=0;C$o<3;C$o++)C$n.setElementByRowColumn(C$a,C$o,C$A.dot(xvryj._rows2[C$a],xvryj._rows1[C$o]));C$e.getCenter(xvryj._tempV30),C$t.getCenter(xvryj._tempV31),C$A.subtract(xvryj._tempV30,xvryj._tempV31,xvryj._tempV32);C$i=C$n.elements;C$i[12]=C$A.dot(xvryj._tempV32,xvryj._rows1[0]),C$i[13]=C$A.dot(xvryj._tempV32,xvryj._rows1[1]),C$i[14]=C$A.dot(xvryj._tempV32,xvryj._rows1[2]),C$i[15]=1}else C$r.invert(xvryj._tempM0),C$ie.multiply(C$s,xvryj._tempM0,C$n)},xvryj.merge=function(C$t,C$e,C$i){var C$n=C$t.extents,C$r=C$t.transformation;xvryj.getObbtoObbMatrix4x4(C$t,C$e,C$i,xvryj._tempM0),C$e._getLocalCorners(xvryj._corners),C$A.transformCoordinate(xvryj._corners[0],xvryj._tempM0,xvryj._corners[0]),C$A.transformCoordinate(xvryj._corners[1],xvryj._tempM0,xvryj._corners[1]),C$A.transformCoordinate(xvryj._corners[2],xvryj._tempM0,xvryj._corners[2]),C$A.transformCoordinate(xvryj._corners[3],xvryj._tempM0,xvryj._corners[3]),C$A.transformCoordinate(xvryj._corners[4],xvryj._tempM0,xvryj._corners[4]),C$A.transformCoordinate(xvryj._corners[5],xvryj._tempM0,xvryj._corners[5]),C$A.transformCoordinate(xvryj._corners[6],xvryj._tempM0,xvryj._corners[6]),C$A.transformCoordinate(xvryj._corners[7],xvryj._tempM0,xvryj._corners[7]),C$A.scale(C$n,-1,xvryj._boxBound1.min),C$n.cloneTo(xvryj._boxBound1.max),C$Zt.createfromPoints(xvryj._corners,xvryj._boxBound2),C$Zt.merge(xvryj._boxBound2,xvryj._boxBound1,xvryj._boxBound3);C$t=xvryj._boxBound3.min,C$i=xvryj._boxBound3.max;C$A.subtract(C$i,C$t,xvryj._tempV30),C$A.scale(xvryj._tempV30,.5,xvryj._tempV30),C$A.add(C$t,xvryj._tempV30,xvryj._tempV32),C$A.subtract(C$i,xvryj._tempV32,C$n),C$A.transformCoordinate(xvryj._tempV32,C$r,xvryj._tempV33)},C$h(xvryj,["_tempV30",function(){return this._tempV30=new C$A},"_tempV31",function(){return this._tempV31=new C$A},"_tempV32",function(){return this._tempV32=new C$A},"_tempV33",function(){return this._tempV33=new C$A},"_tempV34",function(){return this._tempV34=new C$A},"_tempV35",function(){return this._tempV35=new C$A},"_tempV36",function(){return this._tempV36=new C$A},"_tempM0",function(){return this._tempM0=new C$ie},"_tempM1",function(){return this._tempM1=new C$ie},"_corners",function(){return this._corners=[new C$A,new C$A,new C$A,new C$A,new C$A,new C$A,new C$A,new C$A]},"_rows1",function(){return this._rows1=[new C$A,new C$A,new C$A]},"_rows2",function(){return this._rows2=[new C$A,new C$A,new C$A]},"_ray",function(){return this._ray=new C$ae(new C$A,new C$A)},"_boxBound1",function(){return this._boxBound1=new C$Zt(new C$A,new C$A)},"_boxBound2",function(){return this._boxBound2=new C$Zt(new C$A,new C$A)},"_boxBound3",function(){return this._boxBound3=new C$Zt(new C$A,new C$A)}]),C$t(qobr,"laya.d3.math.Plane"),qobr.prototype.normalize=function(){var C$t=this.normal.elements,C$e=C$t[0],C$i=C$t[1],C$n=C$t[2],C$r=1/Math.sqrt(C$e*C$e+C$i*C$i+C$n*C$n);C$t[0]=C$e*C$r,C$t[1]=C$i*C$r,C$t[2]=C$n*C$r,this.distance*=C$r},qobr.createPlaneBy3P=function(C$t,C$e,C$i){var C$t=C$t.elements,C$e=C$e.elements,C$i=C$i.elements,C$n=C$e[0]-C$t[0],C$r=C$e[1]-C$t[1],C$e=C$e[2]-C$t[2],C$s=C$i[0]-C$t[0],C$a=C$i[1]-C$t[1],C$i=C$i[2]-C$t[2],C$o=C$r*C$i-C$e*C$a,C$e=C$e*C$s-C$n*C$i,C$i=C$n*C$a-C$r*C$s,C$n=1/Math.sqrt(C$o*C$o+C$e*C$e+C$i*C$i),C$a=C$o*C$n,C$r=C$e*C$n,C$s=C$i*C$n,C$o=qobr._TEMPVec3.elements;C$o[0]=C$a,C$o[1]=C$r,C$o[2]=C$s;C$e=-(C$a*C$t[0]+C$r*C$t[1]+C$s*C$t[2]);return new qobr(qobr._TEMPVec3,C$e)},qobr.PlaneIntersectionType_Back=0,qobr.PlaneIntersectionType_Front=1,qobr.PlaneIntersectionType_Intersecting=2,C$h(qobr,["_TEMPVec3",function(){return this._TEMPVec3=new C$A}]),qobr),C$re=(C$t(j7ryx,"laya.d3.math.Quaternion"),C$s=j7ryx.prototype,C$b.imps(C$s,{"laya.d3.core.IClone":!0}),C$s.scaling=function(C$t,C$e){var C$e=C$e.elements,C$i=this.elements;C$e[0]=C$i[0]*C$t,C$e[1]=C$i[1]*C$t,C$e[2]=C$i[2]*C$t,C$e[3]=C$i[3]*C$t},C$s.normalize=function(C$t){var C$t=C$t.elements,C$e=this.elements,C$i=C$e[0],C$n=C$e[1],C$r=C$e[2],C$e=C$e[3],C$s=C$i*C$i+C$n*C$n+C$r*C$r+C$e*C$e;0<C$s&&(C$s=1/Math.sqrt(C$s),C$t[0]=C$i*C$s,C$t[1]=C$n*C$s,C$t[2]=C$r*C$s,C$t[3]=C$e*C$s)},C$s.length=function(){var C$t=this.elements,C$e=C$t[0],C$i=C$t[1],C$n=C$t[2],C$t=C$t[3];return Math.sqrt(C$e*C$e+C$i*C$i+C$n*C$n+C$t*C$t)},C$s.rotateX=function(C$t,C$e){var C$e=C$e.elements,C$i=this.elements;C$t*=.5;var C$n=C$i[0],C$r=C$i[1],C$s=C$i[2],C$i=C$i[3],C$a=Math.sin(C$t),C$t=Math.cos(C$t);C$e[0]=C$n*C$t+C$i*C$a,C$e[1]=C$r*C$t+C$s*C$a,C$e[2]=C$s*C$t-C$r*C$a,C$e[3]=C$i*C$t-C$n*C$a},C$s.rotateY=function(C$t,C$e){var C$e=C$e.elements,C$i=this.elements;C$t*=.5;var C$n=C$i[0],C$r=C$i[1],C$s=C$i[2],C$i=C$i[3],C$a=Math.sin(C$t),C$t=Math.cos(C$t);C$e[0]=C$n*C$t-C$s*C$a,C$e[1]=C$r*C$t+C$i*C$a,C$e[2]=C$s*C$t+C$n*C$a,C$e[3]=C$i*C$t-C$r*C$a},C$s.rotateZ=function(C$t,C$e){var C$e=C$e.elements,C$i=this.elements;C$t*=.5;var C$n=C$i[0],C$r=C$i[1],C$s=C$i[2],C$i=C$i[3],C$a=Math.sin(C$t),C$t=Math.cos(C$t);C$e[0]=C$n*C$t+C$r*C$a,C$e[1]=C$r*C$t-C$n*C$a,C$e[2]=C$s*C$t+C$i*C$a,C$e[3]=C$i*C$t-C$s*C$a},C$s.getYawPitchRoll=function(C$t){C$A.transformQuat(C$A.ForwardRH,this,j7ryx.TEMPVector31),C$A.transformQuat(C$A.Up,this,j7ryx.TEMPVector32);var C$e=j7ryx.TEMPVector32.elements;j7ryx.angleTo(C$A.ZERO,j7ryx.TEMPVector31,j7ryx.TEMPVector33);var C$i=j7ryx.TEMPVector33.elements;C$i[0]==Math.PI/2?(C$i[1]=j7ryx.arcTanAngle(C$e[2],C$e[0]),C$i[2]=0):C$i[0]==-Math.PI/2?(C$i[1]=j7ryx.arcTanAngle(-C$e[2],-C$e[0]),C$i[2]=0):(C$ie.createRotationY(-C$i[1],j7ryx.TEMPMatrix0),C$ie.createRotationX(-C$i[0],j7ryx.TEMPMatrix1),C$A.transformCoordinate(j7ryx.TEMPVector32,j7ryx.TEMPMatrix0,j7ryx.TEMPVector32),C$A.transformCoordinate(j7ryx.TEMPVector32,j7ryx.TEMPMatrix1,j7ryx.TEMPVector32),C$i[2]=j7ryx.arcTanAngle(C$e[1],-C$e[0])),C$i[1]<=-Math.PI&&(C$i[1]=Math.PI),C$i[2]<=-Math.PI&&(C$i[2]=Math.PI),C$i[1]>=Math.PI&&C$i[2]>=Math.PI&&(C$i[1]=0,C$i[2]=0,C$i[0]=Math.PI-C$i[0]);C$e=C$t.elements;C$e[0]=C$i[1],C$e[1]=C$i[0],C$e[2]=C$i[2]},C$s.invert=function(C$t){var C$t=C$t.elements,C$e=this.elements,C$i=C$e[0],C$n=C$e[1],C$r=C$e[2],C$e=C$e[3],C$s=C$i*C$i+C$n*C$n+C$r*C$r+C$e*C$e,C$s=C$s?1/C$s:0;C$t[0]=-C$i*C$s,C$t[1]=-C$n*C$s,C$t[2]=-C$r*C$s,C$t[3]=C$e*C$s},C$s.identity=function(){var C$t=this.elements;C$t[0]=0,C$t[1]=0,C$t[2]=0,C$t[3]=1},C$s.fromArray=function(C$t,C$e){this.elements[0]=C$t[(C$e=void 0===C$e?0:C$e)+0],this.elements[1]=C$t[C$e+1],this.elements[2]=C$t[C$e+2],this.elements[3]=C$t[C$e+3]},C$s.cloneTo=function(C$t){var C$e,C$i,C$n;if((C$i=this.elements)!==(C$n=C$t.elements))for(C$e=0;C$e<4;++C$e)C$n[C$e]=C$i[C$e]},C$s.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$s.equals=function(C$t){var C$e=this.elements,C$t=C$t.elements;return C$te.nearEqual(C$e[0],C$t[0])&&C$te.nearEqual(C$e[1],C$t[1])&&C$te.nearEqual(C$e[2],C$t[2])&&C$te.nearEqual(C$e[3],C$t[3])},C$s.lengthSquared=function(){var C$t=this.elements[0],C$e=this.elements[1],C$i=this.elements[2],C$n=this.elements[3];return C$t*C$t+C$e*C$e+C$i*C$i+C$n*C$n},C$e(0,C$s,"x",function(){return this.elements[0]}),C$e(0,C$s,"y",function(){return this.elements[1]}),C$e(0,C$s,"z",function(){return this.elements[2]}),C$e(0,C$s,"w",function(){return this.elements[3]}),j7ryx.createFromYawPitchRoll=function(C$t,C$e,C$i,C$n){var C$i=.5*C$i,C$e=.5*C$e,C$t=.5*C$t,C$r=Math.sin(C$i),C$i=Math.cos(C$i),C$s=Math.sin(C$e),C$e=Math.cos(C$e),C$a=Math.sin(C$t),C$t=Math.cos(C$t),C$n=C$n.elements;C$n[0]=C$t*C$s*C$i+C$a*C$e*C$r,C$n[1]=C$a*C$e*C$i-C$t*C$s*C$r,C$n[2]=C$t*C$e*C$r-C$a*C$s*C$i,C$n[3]=C$t*C$e*C$i+C$a*C$s*C$r},j7ryx.multiply=function(C$t,C$e,C$i){var C$t=C$t.elements,C$e=C$e.elements,C$i=C$i.elements,C$n=C$t[0],C$r=C$t[1],C$s=C$t[2],C$t=C$t[3],C$a=C$e[0],C$o=C$e[1],C$h=C$e[2],C$e=C$e[3],C$l=C$s*C$a-C$n*C$h,C$u=C$n*C$o-C$r*C$a,C$c=C$n*C$a+C$r*C$o+C$s*C$h;C$i[0]=C$n*C$e+C$a*C$t+(C$r*C$h-C$s*C$o),C$i[1]=C$r*C$e+C$o*C$t+C$l,C$i[2]=C$s*C$e+C$h*C$t+C$u,C$i[3]=C$t*C$e-C$c},j7ryx.arcTanAngle=function(C$t,C$e){return 0==C$t?1==C$e?Math.PI/2:-Math.PI/2:0<C$t?Math.atan(C$e/C$t):C$t<0?0<C$e?Math.atan(C$e/C$t)+Math.PI:Math.atan(C$e/C$t)-Math.PI:0},j7ryx.angleTo=function(C$t,C$e,C$i){C$A.subtract(C$e,C$t,j7ryx.TEMPVector30),C$A.normalize(j7ryx.TEMPVector30,j7ryx.TEMPVector30),C$i.elements[0]=Math.asin(j7ryx.TEMPVector30.y),C$i.elements[1]=j7ryx.arcTanAngle(-j7ryx.TEMPVector30.z,-j7ryx.TEMPVector30.x)},j7ryx.createFromAxisAngle=function(C$t,C$e,C$i){C$i=C$i.elements,C$t=C$t.elements;C$e*=.5;var C$n=Math.sin(C$e);C$i[0]=C$n*C$t[0],C$i[1]=C$n*C$t[1],C$i[2]=C$n*C$t[2],C$i[3]=Math.cos(C$e)},j7ryx.createFromMatrix3x3=function(C$t,C$e){var C$i,C$e=C$e.elements,C$t=C$t.elements,C$n=C$t[0]+C$t[4]+C$t[8];var C$r,C$s;0<C$n?(C$i=Math.sqrt(C$n+1),C$e[3]=.5*C$i,C$e[0]=(C$t[5]-C$t[7])*(C$i=.5/C$i),C$e[1]=(C$t[6]-C$t[2])*C$i,C$e[2]=(C$t[1]-C$t[3])*C$i):(C$t[4]>C$t[C$n=0]&&(C$n=1),C$r=((C$n=C$t[8]>C$t[3*C$n+C$n]?2:C$n)+1)%3,C$s=(C$n+2)%3,C$i=Math.sqrt(C$t[3*C$n+C$n]-C$t[3*C$r+C$r]-C$t[3*C$s+C$s]+1),C$e[C$n]=.5*C$i,C$e[3]=(C$t[3*C$r+C$s]-C$t[3*C$s+C$r])*(C$i=.5/C$i),C$e[C$r]=(C$t[3*C$r+C$n]+C$t[3*C$n+C$r])*C$i,C$e[C$s]=(C$t[3*C$s+C$n]+C$t[3*C$n+C$s])*C$i)},j7ryx.createFromMatrix4x4=function(C$t,C$e){var C$i,C$n,C$t=C$t.elements,C$e=C$e.elements,C$r=C$t[0]+C$t[5]+C$t[10];0<C$r?(C$i=Math.sqrt(C$r+1),C$e[3]=.5*C$i,C$e[0]=(C$t[6]-C$t[9])*(C$i=.5/C$i),C$e[1]=(C$t[8]-C$t[2])*C$i,C$e[2]=(C$t[1]-C$t[4])*C$i):C$t[0]>=C$t[5]&&C$t[0]>=C$t[10]?(C$n=.5/(C$i=Math.sqrt(1+C$t[0]-C$t[5]-C$t[10])),C$e[0]=.5*C$i,C$e[1]=(C$t[1]+C$t[4])*C$n,C$e[2]=(C$t[2]+C$t[8])*C$n,C$e[3]=(C$t[6]-C$t[9])*C$n):C$t[5]>C$t[10]?(C$n=.5/(C$i=Math.sqrt(1+C$t[5]-C$t[0]-C$t[10])),C$e[0]=(C$t[4]+C$t[1])*C$n,C$e[1]=.5*C$i,C$e[2]=(C$t[9]+C$t[6])*C$n,C$e[3]=(C$t[8]-C$t[2])*C$n):(C$n=.5/(C$i=Math.sqrt(1+C$t[10]-C$t[0]-C$t[5])),C$e[0]=(C$t[8]+C$t[2])*C$n,C$e[1]=(C$t[9]+C$t[6])*C$n,C$e[2]=.5*C$i,C$e[3]=(C$t[1]-C$t[4])*C$n)},j7ryx.slerp=function(C$t,C$e,C$i,C$n){var C$r,C$s,C$a,C$t=C$t.elements,C$e=C$e.elements,C$n=C$n.elements,C$u=C$t[0],C$c=C$t[1],C$_=C$t[2],C$t=C$t[3],C$o=C$e[0],C$h=C$e[1],C$l=C$e[2],C$e=C$e[3];return(C$a=C$u*C$o+C$c*C$h+C$_*C$l+C$t*C$e)<0&&(C$a=-C$a,C$o=-C$o,C$h=-C$h,C$l=-C$l,C$e=-C$e),C$a=1e-6<1-C$a?(C$a=Math.acos(C$a),C$r=Math.sin(C$a),C$s=Math.sin((1-C$i)*C$a)/C$r,Math.sin(C$i*C$a)/C$r):(C$s=1-C$i,C$i),C$n[0]=C$s*C$u+C$a*C$o,C$n[1]=C$s*C$c+C$a*C$h,C$n[2]=C$s*C$_+C$a*C$l,C$n[3]=C$s*C$t+C$a*C$e,C$n},j7ryx.lerp=function(C$t,C$e,C$i,C$n){var C$n=C$n.elements,C$t=C$t.elements,C$e=C$e.elements,C$r=C$t[0],C$s=C$t[1],C$a=C$t[2],C$t=C$t[3];C$n[0]=C$r+C$i*(C$e[0]-C$r),C$n[1]=C$s+C$i*(C$e[1]-C$s),C$n[2]=C$a+C$i*(C$e[2]-C$a),C$n[3]=C$t+C$i*(C$e[3]-C$t)},j7ryx.add=function(C$t,C$e,C$i){C$i=C$i.elements,C$t=C$t.elements,C$e=C$e.elements;C$i[0]=C$t[0]+C$e[0],C$i[1]=C$t[1]+C$e[1],C$i[2]=C$t[2]+C$e[2],C$i[3]=C$t[3]+C$e[3]},j7ryx.dot=function(C$t,C$e){C$t=C$t.elements,C$e=C$e.elements;return C$t[0]*C$e[0]+C$t[1]*C$e[1]+C$t[2]*C$e[2]+C$t[3]*C$e[3]},j7ryx.rotationLookAt=function(C$t,C$e,C$i){j7ryx.lookAt(C$A.ZERO,C$t,C$e,C$i)},j7ryx.lookAt=function(C$t,C$e,C$i,C$n){C$ee.lookAt(C$t,C$e,C$i,j7ryx._tempMatrix3x3),j7ryx.rotationMatrix(j7ryx._tempMatrix3x3,C$n)},j7ryx.invert=function(C$t,C$e){var C$i=C$t.elements,C$e=C$e.elements,C$t=C$t.lengthSquared();C$te.isZero(C$t)||(C$e[0]=-C$i[0]*(C$t=1/C$t),C$e[1]=-C$i[1]*C$t,C$e[2]=-C$i[2]*C$t,C$e[3]=C$i[3]*C$t)},j7ryx.rotationMatrix=function(C$t,C$e){var C$t=C$t.elements,C$i=C$t[0],C$n=C$t[1],C$r=C$t[2],C$s=C$t[3],C$a=C$t[4],C$o=C$t[5],C$u=C$t[6],C$c=C$t[7],C$t=C$t[8],C$e=C$e.elements,C$h=NaN,C$l=NaN,C$_=C$i+C$a+C$t;0<C$_?(C$h=Math.sqrt(C$_+1),C$e[3]=.5*C$h,C$e[0]=(C$o-C$c)*(C$h=.5/C$h),C$e[1]=(C$u-C$r)*C$h,C$e[2]=(C$n-C$s)*C$h):C$a<=C$i&&C$t<=C$i?(C$l=.5/(C$h=Math.sqrt(1+C$i-C$a-C$t)),C$e[0]=.5*C$h,C$e[1]=(C$n+C$s)*C$l,C$e[2]=(C$r+C$u)*C$l,C$e[3]=(C$o-C$c)*C$l):C$t<C$a?(C$l=.5/(C$h=Math.sqrt(1+C$a-C$i-C$t)),C$e[0]=(C$s+C$n)*C$l,C$e[1]=.5*C$h,C$e[2]=(C$c+C$o)*C$l,C$e[3]=(C$u-C$r)*C$l):(C$l=.5/(C$h=Math.sqrt(1+C$t-C$i-C$a)),C$e[0]=(C$u+C$r)*C$l,C$e[1]=(C$c+C$o)*C$l,C$e[2]=.5*C$h,C$e[3]=(C$n-C$s)*C$l)},j7ryx.DEFAULT=new j7ryx,C$h(j7ryx,["TEMPVector30",function(){return this.TEMPVector30=new C$A},"TEMPVector31",function(){return this.TEMPVector31=new C$A},"TEMPVector32",function(){return this.TEMPVector32=new C$A},"TEMPVector33",function(){return this.TEMPVector33=new C$A},"TEMPMatrix0",function(){return this.TEMPMatrix0=new C$ie},"TEMPMatrix1",function(){return this.TEMPMatrix1=new C$ie},"_tempMatrix3x3",function(){return this._tempMatrix3x3=new C$ee},"NAN",function(){return this.NAN=new j7ryx(NaN,NaN,NaN,NaN)}]),j7ryx),C$se=(C$t(e2_zph,"laya.d3.math.Rand"),(C$s=e2_zph.prototype).getUint=function(){return this._temp[0]=this.seeds[0]^this.seeds[0]<<11,this.seeds[0]=this.seeds[1],this.seeds[1]=this.seeds[2],this.seeds[2]=this.seeds[3],this.seeds[3]=this.seeds[3]^this.seeds[3]>>>19^this._temp[0]^this._temp[0]>>>8,this.seeds[3]},C$s.getFloat=function(){return this.getUint(),(8388607&this.seeds[3])*(1/8388607)},C$s.getSignedFloat=function(){return 2*this.getFloat()-1},C$e(0,C$s,"seed",function(){return this.seeds[0]},function(C$t){this.seeds[0]=C$t,this.seeds[1]=1812433253*this.seeds[0]+1,this.seeds[2]=1812433253*this.seeds[1]+1,this.seeds[3]=1812433253*this.seeds[2]+1}),e2_zph.getFloatFromInt=function(C$t){return 1/8388607*(8388607&C$t)},e2_zph.getByteFromInt=function(C$t){return(8388607&C$t)>>>15},e2_zph),C$ae=(C$t(e_9w,"laya.d3.math.RandX"),(C$s=e_9w.prototype).randomint=function(){var C$t,C$e=this._state0U,C$i=this._state0L,C$n=this._state1U,C$r=this._state1L,C$s=(C$r>>>0)+(C$i>>>0),C$a=C$n+C$e+(C$s/2>>>31)>>>0,C$s=C$s>>>0,C$o=0;return C$t=(C$e^=C$e<<23|(-512&C$i)>>>9)^(this._state0U=C$n),C$o=(C$o=(C$i^=C$o=C$i<<23)^(this._state0L=C$r))^(C$i>>>18|(262143&C$e)<<14)^(C$r>>>5|(31&C$n)<<27),this._state1U=C$t^C$e>>>18^C$n>>>5,this._state1L=C$o,[C$a,C$s]},C$s.random=function(){var C$t=this.randomint(),C$e=C$t[0],C$t=C$t[1]>>>12|(4095&C$e)<<20|0;return e_9w._CONVERTION_BUFFER.setUint32(0,1023<<20|C$e>>>12,!1),e_9w._CONVERTION_BUFFER.setUint32(4,C$t,!1),C$se._CONVERTION_BUFFER.getFloat64(0,!1)-1},C$h(e_9w,["_CONVERTION_BUFFER",function(){return this._CONVERTION_BUFFER=new DataView(new ArrayBuffer(8))},"defaultRand",function(){return this.defaultRand=new C$se([0,Date.now()/65536,0,Date.now()%65536])}]),C$t(ws$f92,"laya.d3.math.Ray"),ws$f92),C$oe=(C$t(z8tceh,"laya.d3.math.Vector2"),C$s=z8tceh.prototype,C$b.imps(C$s,{"laya.d3.core.IClone":!0}),C$s.fromArray=function(C$t,C$e){this.elements[0]=C$t[(C$e=void 0===C$e?0:C$e)+0],this.elements[1]=C$t[C$e+1]},C$s.cloneTo=function(C$t){var C$t=C$t.elements,C$e=this.elements;C$t[0]=C$e[0],C$t[1]=C$e[1]},C$s.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$e(0,C$s,"x",function(){return this.elements[0]},function(C$t){this.elements[0]=C$t}),C$e(0,C$s,"y",function(){return this.elements[1]},function(C$t){this.elements[1]=C$t}),z8tceh.scale=function(C$t,C$e,C$i){C$i=C$i.elements,C$t=C$t.elements;C$i[0]=C$t[0]*C$e,C$i[1]=C$t[1]*C$e},C$h(z8tceh,["ZERO",function(){return this.ZERO=new z8tceh(0,0)},"ONE",function(){return this.ONE=new z8tceh(1,1)}]),z8tceh),C$A=(C$t(_zh2p,"laya.d3.math.Vector3"),C$s=_zh2p.prototype,C$b.imps(C$s,{"laya.d3.core.IClone":!0}),C$s.fromArray=function(C$t,C$e){this.elements[0]=C$t[(C$e=void 0===C$e?0:C$e)+0],this.elements[1]=C$t[C$e+1],this.elements[2]=C$t[C$e+2]},C$s.cloneTo=function(C$t){var C$t=C$t.elements,C$e=this.elements;C$t[0]=C$e[0],C$t[1]=C$e[1],C$t[2]=C$e[2]},C$s.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$s.toDefault=function(){this.elements[0]=0,this.elements[1]=0,this.elements[2]=0},C$s.reset=function(C$t,C$e,C$i){this.elements[0]=C$t,this.elements[1]=C$e,this.elements[2]=C$i},C$e(0,C$s,"x",function(){return this.elements[0]},function(C$t){this.elements[0]=C$t}),C$e(0,C$s,"y",function(){return this.elements[1]},function(C$t){this.elements[1]=C$t}),C$e(0,C$s,"z",function(){return this.elements[2]},function(C$t){this.elements[2]=C$t}),_zh2p.distanceSquared=function(C$t,C$e){var C$t=C$t.elements,C$e=C$e.elements,C$i=C$t[0]-C$e[0],C$n=C$t[1]-C$e[1],C$t=C$t[2]-C$e[2];return C$i*C$i+C$n*C$n+C$t*C$t},_zh2p.distance=function(C$t,C$e){var C$t=C$t.elements,C$e=C$e.elements,C$i=C$t[0]-C$e[0],C$n=C$t[1]-C$e[1],C$t=C$t[2]-C$e[2];return Math.sqrt(C$i*C$i+C$n*C$n+C$t*C$t)},_zh2p.min=function(C$t,C$e,C$i){C$i=C$i.elements,C$t=C$t.elements,C$e=C$e.elements;C$i[0]=Math.min(C$t[0],C$e[0]),C$i[1]=Math.min(C$t[1],C$e[1]),C$i[2]=Math.min(C$t[2],C$e[2])},_zh2p.max=function(C$t,C$e,C$i){C$i=C$i.elements,C$t=C$t.elements,C$e=C$e.elements;C$i[0]=Math.max(C$t[0],C$e[0]),C$i[1]=Math.max(C$t[1],C$e[1]),C$i[2]=Math.max(C$t[2],C$e[2])},_zh2p.transformQuat=function(C$t,C$e,C$i){var C$i=C$i.elements,C$t=C$t.elements,C$e=C$e.elements,C$n=C$t[0],C$r=C$t[1],C$t=C$t[2],C$s=C$e[0],C$a=C$e[1],C$o=C$e[2],C$e=C$e[3],C$h=C$e*C$n+C$a*C$t-C$o*C$r,C$l=C$e*C$r+C$o*C$n-C$s*C$t,C$u=C$e*C$t+C$s*C$r-C$a*C$n,C$n=-C$s*C$n-C$a*C$r-C$o*C$t;C$i[0]=C$h*C$e+C$n*-C$s+C$l*-C$o-C$u*-C$a,C$i[1]=C$l*C$e+C$n*-C$a+C$u*-C$s-C$h*-C$o,C$i[2]=C$u*C$e+C$n*-C$o+C$h*-C$a-C$l*-C$s},_zh2p.scalarLength=function(C$t){var C$t=C$t.elements,C$e=C$t[0],C$i=C$t[1],C$t=C$t[2];return Math.sqrt(C$e*C$e+C$i*C$i+C$t*C$t)},_zh2p.scalarLengthSquared=function(C$t){var C$t=C$t.elements,C$e=C$t[0],C$i=C$t[1],C$t=C$t[2];return C$e*C$e+C$i*C$i+C$t*C$t},_zh2p.normalize=function(C$t,C$e){var C$t=C$t.elements,C$e=C$e.elements,C$i=C$t[0],C$n=C$t[1],C$r=C$t[2],C$i=C$i*C$i+C$n*C$n+C$r*C$r;0<C$i&&(C$i=1/Math.sqrt(C$i),C$e[0]=C$t[0]*C$i,C$e[1]=C$t[1]*C$i,C$e[2]=C$t[2]*C$i)},_zh2p.multiply=function(C$t,C$e,C$i){C$i=C$i.elements,C$t=C$t.elements,C$e=C$e.elements;C$i[0]=C$t[0]*C$e[0],C$i[1]=C$t[1]*C$e[1],C$i[2]=C$t[2]*C$e[2]},_zh2p.scale=function(C$t,C$e,C$i){C$i=C$i.elements,C$t=C$t.elements;C$i[0]=C$t[0]*C$e,C$i[1]=C$t[1]*C$e,C$i[2]=C$t[2]*C$e},_zh2p.lerp=function(C$t,C$e,C$i,C$n){var C$n=C$n.elements,C$t=C$t.elements,C$e=C$e.elements,C$r=C$t[0],C$s=C$t[1],C$t=C$t[2];C$n[0]=C$r+C$i*(C$e[0]-C$r),C$n[1]=C$s+C$i*(C$e[1]-C$s),C$n[2]=C$t+C$i*(C$e[2]-C$t)},_zh2p.transformV3ToV3=function(C$t,C$e,C$i){var C$n=_zh2p._tempVector4;_zh2p.transformV3ToV4(C$t,C$e,C$n);C$t=C$n.elements,C$e=C$i.elements;C$e[0]=C$t[0],C$e[1]=C$t[1],C$e[2]=C$t[2]},_zh2p.transformV3ToV4=function(C$t,C$e,C$i){var C$t=C$t.elements,C$n=C$t[0],C$r=C$t[1],C$t=C$t[2],C$e=C$e.elements,C$i=C$i.elements;C$i[0]=C$n*C$e[0]+C$r*C$e[4]+C$t*C$e[8]+C$e[12],C$i[1]=C$n*C$e[1]+C$r*C$e[5]+C$t*C$e[9]+C$e[13],C$i[2]=C$n*C$e[2]+C$r*C$e[6]+C$t*C$e[10]+C$e[14],C$i[3]=C$n*C$e[3]+C$r*C$e[7]+C$t*C$e[11]+C$e[15]},_zh2p.TransformNormal=function(C$t,C$e,C$i){var C$t=C$t.elements,C$n=C$t[0],C$r=C$t[1],C$t=C$t[2],C$e=C$e.elements,C$i=C$i.elements;C$i[0]=C$n*C$e[0]+C$r*C$e[4]+C$t*C$e[8],C$i[1]=C$n*C$e[1]+C$r*C$e[5]+C$t*C$e[9],C$i[2]=C$n*C$e[2]+C$r*C$e[6]+C$t*C$e[10]},_zh2p.transformCoordinate=function(C$t,C$e,C$i){var C$n=_zh2p._tempVector4.elements,C$t=C$t.elements,C$r=C$t[0],C$s=C$t[1],C$t=C$t[2],C$e=C$e.elements;C$n[0]=C$r*C$e[0]+C$s*C$e[4]+C$t*C$e[8]+C$e[12],C$n[1]=C$r*C$e[1]+C$s*C$e[5]+C$t*C$e[9]+C$e[13],C$n[2]=C$r*C$e[2]+C$s*C$e[6]+C$t*C$e[10]+C$e[14],C$n[3]=1/(C$r*C$e[3]+C$s*C$e[7]+C$t*C$e[11]+C$e[15]);C$r=C$i.elements;C$r[0]=C$n[0]*C$n[3],C$r[1]=C$n[1]*C$n[3],C$r[2]=C$n[2]*C$n[3]},_zh2p.Clamp=function(C$t,C$e,C$i,C$n){var C$t=C$t.elements,C$r=C$t[0],C$s=C$t[1],C$t=C$t[2],C$e=C$e.elements,C$a=C$e[0],C$o=C$e[1],C$e=C$e[2],C$i=C$i.elements,C$h=C$i[0],C$l=C$i[1],C$i=C$i[2],C$n=C$n.elements;C$r=(C$r=C$h<C$r?C$h:C$r)<C$a?C$a:C$r,C$s=(C$s=C$l<C$s?C$l:C$s)<C$o?C$o:C$s,C$t=(C$t=C$i<C$t?C$i:C$t)<C$e?C$e:C$t,C$n[0]=C$r,C$n[1]=C$s,C$n[2]=C$t},_zh2p.add=function(C$t,C$e,C$i){C$i=C$i.elements,C$t=C$t.elements,C$e=C$e.elements;C$i[0]=C$t[0]+C$e[0],C$i[1]=C$t[1]+C$e[1],C$i[2]=C$t[2]+C$e[2]},_zh2p.subtract=function(C$t,C$e,C$i){C$i=C$i.elements,C$t=C$t.elements,C$e=C$e.elements;C$i[0]=C$t[0]-C$e[0],C$i[1]=C$t[1]-C$e[1],C$i[2]=C$t[2]-C$e[2]},_zh2p.cross=function(C$t,C$e,C$i){var C$t=C$t.elements,C$e=C$e.elements,C$i=C$i.elements,C$n=C$t[0],C$r=C$t[1],C$t=C$t[2],C$s=C$e[0],C$a=C$e[1],C$e=C$e[2];C$i[0]=C$r*C$e-C$t*C$a,C$i[1]=C$t*C$s-C$n*C$e,C$i[2]=C$n*C$a-C$r*C$s},_zh2p.dot=function(C$t,C$e){C$t=C$t.elements,C$e=C$e.elements;return C$t[0]*C$e[0]+C$t[1]*C$e[1]+C$t[2]*C$e[2]},_zh2p.equals=function(C$t,C$e){C$t=C$t.elements,C$e=C$e.elements;return C$te.nearEqual(Math.abs(C$t[0]),Math.abs(C$e[0]))&&C$te.nearEqual(Math.abs(C$t[1]),Math.abs(C$e[1]))&&C$te.nearEqual(Math.abs(C$t[2]),Math.abs(C$e[2]))},_zh2p.ZERO=new _zh2p(0,0,0),_zh2p.ONE=new _zh2p(1,1,1),_zh2p.NegativeUnitX=new _zh2p(-1,0,0),_zh2p.UnitX=new _zh2p(1,0,0),_zh2p.UnitY=new _zh2p(0,1,0),_zh2p.UnitZ=new _zh2p(0,0,1),_zh2p.ForwardRH=new _zh2p(0,0,-1),_zh2p.ForwardLH=new _zh2p(0,0,1),_zh2p.Up=new _zh2p(0,1,0),_zh2p.NAN=new _zh2p(NaN,NaN,NaN),C$h(_zh2p,["_tempVector4",function(){return this._tempVector4=new C$he}]),_zh2p),C$he=(C$t(yr5j,"laya.d3.math.Vector4"),C$s=yr5j.prototype,C$b.imps(C$s,{"laya.d3.core.IClone":!0}),C$s.fromArray=function(C$t,C$e){this.elements[0]=C$t[(C$e=void 0===C$e?0:C$e)+0],this.elements[1]=C$t[C$e+1],this.elements[2]=C$t[C$e+2],this.elements[3]=C$t[C$e+3]},C$s.cloneTo=function(C$t){var C$t=C$t.elements,C$e=this.elements;C$t[0]=C$e[0],C$t[1]=C$e[1],C$t[2]=C$e[2],C$t[3]=C$e[3]},C$s.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$s.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},C$s.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},C$e(0,C$s,"x",function(){return this.elements[0]},function(C$t){this.elements[0]=C$t}),C$e(0,C$s,"y",function(){return this.elements[1]},function(C$t){this.elements[1]=C$t}),C$e(0,C$s,"z",function(){return this.elements[2]},function(C$t){this.elements[2]=C$t}),C$e(0,C$s,"w",function(){return this.elements[3]},function(C$t){this.elements[3]=C$t}),yr5j.lerp=function(C$t,C$e,C$i,C$n){var C$n=C$n.elements,C$t=C$t.elements,C$e=C$e.elements,C$r=C$t[0],C$s=C$t[1],C$a=C$t[2],C$t=C$t[3];C$n[0]=C$r+C$i*(C$e[0]-C$r),C$n[1]=C$s+C$i*(C$e[1]-C$s),C$n[2]=C$a+C$i*(C$e[2]-C$a),C$n[3]=C$t+C$i*(C$e[3]-C$t)},yr5j.transformByM4x4=function(C$t,C$e,C$i){var C$t=C$t.elements,C$n=C$t[0],C$r=C$t[1],C$s=C$t[2],C$t=C$t[3],C$e=C$e.elements,C$i=C$i.elements;C$i[0]=C$n*C$e[0]+C$r*C$e[4]+C$s*C$e[8]+C$t*C$e[12],C$i[1]=C$n*C$e[1]+C$r*C$e[5]+C$s*C$e[9]+C$t*C$e[13],C$i[2]=C$n*C$e[2]+C$r*C$e[6]+C$s*C$e[10]+C$t*C$e[14],C$i[3]=C$n*C$e[3]+C$r*C$e[7]+C$s*C$e[11]+C$t*C$e[15]},yr5j.equals=function(C$t,C$e){C$t=C$t.elements,C$e=C$e.elements;return C$te.nearEqual(Math.abs(C$t[0]),Math.abs(C$e[0]))&&C$te.nearEqual(Math.abs(C$t[1]),Math.abs(C$e[1]))&&C$te.nearEqual(Math.abs(C$t[2]),Math.abs(C$e[2]))&&C$te.nearEqual(Math.abs(C$t[3]),Math.abs(C$e[3]))},yr5j.normalize=function(C$t,C$e){var C$i=C$t.elements,C$e=C$e.elements,C$t=C$t.length();0<C$t&&(C$e[0]=C$i[0]*C$t,C$e[1]=C$i[1]*C$t,C$e[2]=C$i[2]*C$t,C$e[3]=C$i[3]*C$t)},yr5j.add=function(C$t,C$e,C$i){C$i=C$i.elements,C$t=C$t.elements,C$e=C$e.elements;C$i[0]=C$t[0]+C$e[0],C$i[1]=C$t[1]+C$e[1],C$i[2]=C$t[2]+C$e[2],C$i[3]=C$t[3]+C$e[3]},yr5j.subtract=function(C$t,C$e,C$i){C$i=C$i.elements,C$t=C$t.elements,C$e=C$e.elements;C$i[0]=C$t[0]-C$e[0],C$i[1]=C$t[1]-C$e[1],C$i[2]=C$t[2]-C$e[2],C$i[3]=C$t[3]-C$e[3]},yr5j.multiply=function(C$t,C$e,C$i){C$i=C$i.elements,C$t=C$t.elements,C$e=C$e.elements;C$i[0]=C$t[0]*C$e[0],C$i[1]=C$t[1]*C$e[1],C$i[2]=C$t[2]*C$e[2],C$i[3]=C$t[3]*C$e[3]},yr5j.scale=function(C$t,C$e,C$i){C$i=C$i.elements,C$t=C$t.elements;C$i[0]=C$t[0]*C$e,C$i[1]=C$t[1]*C$e,C$i[2]=C$t[2]*C$e,C$i[3]=C$t[3]*C$e},yr5j.Clamp=function(C$t,C$e,C$i,C$n){var C$t=C$t.elements,C$r=C$t[0],C$s=C$t[1],C$a=C$t[2],C$t=C$t[3],C$e=C$e.elements,C$o=C$e[0],C$h=C$e[1],C$l=C$e[2],C$e=C$e[3],C$i=C$i.elements,C$u=C$i[0],C$c=C$i[1],C$_=C$i[2],C$i=C$i[3],C$n=C$n.elements;C$r=(C$r=C$u<C$r?C$u:C$r)<C$o?C$o:C$r,C$s=(C$s=C$c<C$s?C$c:C$s)<C$h?C$h:C$s,C$a=(C$a=C$_<C$a?C$_:C$a)<C$l?C$l:C$a,C$t=(C$t=C$i<C$t?C$i:C$t)<C$e?C$e:C$t,C$n[0]=C$r,C$n[1]=C$s,C$n[2]=C$a,C$n[3]=C$t},yr5j.distanceSquared=function(C$t,C$e){var C$t=C$t.elements,C$e=C$e.elements,C$i=C$t[0]-C$e[0],C$n=C$t[1]-C$e[1],C$r=C$t[2]-C$e[2],C$t=C$t[3]-C$e[3];return C$i*C$i+C$n*C$n+C$r*C$r+C$t*C$t},yr5j.distance=function(C$t,C$e){var C$t=C$t.elements,C$e=C$e.elements,C$i=C$t[0]-C$e[0],C$n=C$t[1]-C$e[1],C$r=C$t[2]-C$e[2],C$t=C$t[3]-C$e[3];return Math.sqrt(C$i*C$i+C$n*C$n+C$r*C$r+C$t*C$t)},yr5j.dot=function(C$t,C$e){C$t=C$t.elements,C$e=C$e.elements;return C$t[0]*C$e[0]+C$t[1]*C$e[1]+C$t[2]*C$e[2]+C$t[3]*C$e[3]},yr5j.min=function(C$t,C$e,C$i){C$i=C$i.elements,C$t=C$t.elements,C$e=C$e.elements;C$i[0]=Math.min(C$t[0],C$e[0]),C$i[1]=Math.min(C$t[1],C$e[1]),C$i[2]=Math.min(C$t[2],C$e[2]),C$i[3]=Math.min(C$t[3],C$e[3])},yr5j.max=function(C$t,C$e,C$i){C$i=C$i.elements,C$t=C$t.elements,C$e=C$e.elements;C$i[0]=Math.max(C$t[0],C$e[0]),C$i[1]=Math.max(C$t[1],C$e[1]),C$i[2]=Math.max(C$t[2],C$e[2]),C$i[3]=Math.max(C$t[3],C$e[3])},C$h(yr5j,["ZERO",function(){return this.ZERO=new yr5j},"ONE",function(){return this.ONE=new yr5j(1,1,1,1)},"UnitX",function(){return this.UnitX=new yr5j(1,0,0,0)},"UnitY",function(){return this.UnitY=new yr5j(0,1,0,0)},"UnitZ",function(){return this.UnitZ=new yr5j(0,0,1,0)},"UnitW",function(){return this.UnitW=new yr5j(0,0,0,1)}]),yr5j),C$le=(C$t(rvyo7j,"laya.d3.math.Viewport"),(C$s=rvyo7j.prototype).project=function(C$t,C$e,C$i){C$A.transformV3ToV3(C$t,C$e,C$i);C$t=C$t.elements,C$e=C$e.elements,C$i=C$i.elements,C$t=C$t[0]*C$e[3]+C$t[1]*C$e[7]+C$t[2]*C$e[11]+C$e[15];1!==C$t&&(C$i[0]=C$i[0]/C$t,C$i[1]=C$i[1]/C$t,C$i[2]=C$i[2]/C$t),C$i[0]=.5*(C$i[0]+1)*this.width+this.x,C$i[1]=.5*(1-C$i[1])*this.height+this.y,C$i[2]=C$i[2]*(this.maxDepth-this.minDepth)+this.minDepth},C$s.unprojectFromMat=function(C$t,C$e,C$i){var C$t=C$t.elements,C$n=C$e.elements,C$r=C$i.elements;C$r[0]=(C$t[0]-this.x)/this.width*2-1,C$r[1]=-((C$t[1]-this.y)/this.height*2-1);var C$s=(this.maxDepth-this.minDepth)/2;C$r[2]=(C$t[2]-this.minDepth-C$s)/C$s;C$t=C$r[0]*C$n[3]+C$r[1]*C$n[7]+C$r[2]*C$n[11]+C$n[15];C$A.transformV3ToV3(C$i,C$e,C$i),1!==C$t&&(C$r[0]=C$r[0]/C$t,C$r[1]=C$r[1]/C$t,C$r[2]=C$r[2]/C$t)},C$s.unprojectFromWVP=function(C$t,C$e,C$i,C$n,C$r){C$ie.multiply(C$e,C$i,rvyo7j._tempMatrix4x4),C$n&&C$ie.multiply(rvyo7j._tempMatrix4x4,C$n,rvyo7j._tempMatrix4x4),rvyo7j._tempMatrix4x4.invert(rvyo7j._tempMatrix4x4),this.unprojectFromMat(C$t,rvyo7j._tempMatrix4x4,C$r)},C$h(rvyo7j,["_tempMatrix4x4",function(){return this._tempMatrix4x4=new C$ie}]),rvyo7j),C$ue=(C$t(ovy7jr,"laya.d3.resource.models.SubMesh"),C$s=ovy7jr.prototype,C$b.imps(C$s,{"laya.d3.core.render.IRenderable":!0,"laya.resource.IDispose":!0}),C$s._getVertexBuffer=function(C$t){return 0===(C$t=void 0===C$t?0:C$t)?this._vertexBuffer:null},C$s._getIndexBuffer=function(){return this._indexBuffer},C$s._getStaticBatchBakedVertexs=function(C$u,C$c){var C$t,C$_,C$e=this._vertexBuffer,C$i=C$e.vertexDeclaration,C$d=C$i.getVertexElementByUsage(0).offset/4,C$f=C$i.getVertexElementByUsage(3).offset/4,C$n=C$c.meshRender.lightmapScaleOffset,C$r=0,C$p=0,C$s=0,C$a=0,C$m=0,C$o=0;if(C$n)if(C$_=C$i.getVertexElementByUsage(15))C$s=C$i.vertexStride/4,C$t=0<this._vertexCount?C$e.getData().slice(this._vertexStart*C$s,(this._vertexStart+this._vertexCount)*C$s):C$e.getData().slice(),C$a=C$_.offset/4;else{C$s=2+(C$o=C$i.vertexStride/4),C$t=this._vertexCount?new Float32Array(this._vertexCount*(C$e.vertexDeclaration.vertexStride/4+2)):new Float32Array(C$e.vertexCount*(C$e.vertexDeclaration.vertexStride/4+2)),C$a=2+(C$m=C$i.getVertexElementByUsage(2).offset/4);var C$g=C$e.getData();for(C$r=0,C$p=C$g.length/C$o;C$r<C$p;C$r++){var C$v;C$v=0<this._vertexCount?(this._vertexStart+C$r)*C$o:C$r*C$o;var C$x=C$r*C$s,C$h=0;for(C$h=0;C$h<C$a;C$h++)C$t[C$x+C$h]=C$g[C$v+C$h];for(C$h=C$a;C$h<C$o;C$h++)C$t[C$x+C$h+2]=C$g[C$v+C$h]}}else C$s=C$i.vertexStride/4,C$t=this._vertexCount?C$e.getData().slice(this._vertexStart*C$s,(this._vertexStart+this._vertexCount)*C$s):C$e.getData().slice();var C$y;C$u?(C$u.worldMatrix.invert(C$i=ovy7jr._tempMatrix4x40),C$e=C$c.transform.worldMatrix,C$ie.multiply(C$i,C$e,C$y=ovy7jr._tempMatrix4x41)):C$y=C$c.transform.worldMatrix;var C$b=ovy7jr._tempQuaternion0;for(C$y.decomposeTransRotScale(ovy7jr._tempVector30,C$b,ovy7jr._tempVector31),C$r=0,C$p=C$t.length/C$s;C$r<C$p;C$r++){var C$l=C$r*C$s+C$d,C$w=C$r*C$s+C$f;C$ge.transformVector3ArrayToVector3ArrayCoordinate(C$t,C$l,C$y,C$t,C$l),C$ge.transformVector3ArrayByQuat(C$t,C$w,C$b,C$t,C$w),C$n&&(C$l=C$r*C$s+C$a,C$_?C$ge.transformLightingMapTexcoordByUV1Array(C$t,C$l,C$n,C$t,C$l):C$ge.transformLightingMapTexcoordByUV0Array(C$g,C$r*C$o+C$m,C$n,C$t,C$l))}return C$t},C$s._getVertexBuffers=function(){return null},C$s._beforeRender=function(C$t){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},C$s._render=function(C$t){var C$e,C$i=0,C$n=C$t.renderElement;if(1<this._indexCount){var C$r=this._boneIndicesList.length;if(1<C$r){for(var C$s=0;C$s<C$r;C$s++)(C$e=C$n._skinAnimationDatas||this._skinAnimationDatas)&&(C$n._shaderValue.setValue(0,C$e[C$s]),C$t._shader.uploadRenderElementUniforms(C$n._shaderValue.data)),C$k.mainContext.drawElements(4,this._subIndexBufferCount[C$s],5123,2*this._subIndexBufferStart[C$s]);C$R.drawCall+=C$r}else(C$e=C$n._skinAnimationDatas||this._skinAnimationDatas)&&(C$n._shaderValue.setValue(0,C$e[0]),C$t._shader.uploadRenderElementUniforms(C$n._shaderValue.data)),C$k.mainContext.drawElements(4,this._indexCount,5123,2*this._indexStart),C$R.drawCall++;C$i=this._indexCount}else C$i=this._indexBuffer.indexCount,(C$e=C$n._skinAnimationDatas||this._skinAnimationDatas)&&(C$n._shaderValue.setValue(0,C$e[0]),C$t._shader.uploadRenderElementUniforms(C$n._shaderValue.data)),C$k.mainContext.drawElements(4,C$i,5123,0),C$R.drawCall++;C$R.trianglesFaces+=C$i/3},C$s.getIndices=function(){return 0<this._indexCount?this._indices:this._indexBuffer.getData()},C$s.dispose=function(){this._indexBuffer.destroy(),this._vertexBuffer.destroy(),this._mesh=null,this._boneIndicesList=null,this._subIndexBufferStart=null,this._subIndexBufferCount=null,this._skinAnimationDatas=null,this._bufferUsage=null,this._vertexBuffer=null,this._indexBuffer=null},C$e(0,C$s,"_vertexBufferCount",function(){return 1}),C$e(0,C$s,"triangleCount",function(){return this._indexBuffer.indexCount/3}),C$h(ovy7jr,["_tempVector30",function(){return this._tempVector30=new C$A},"_tempVector31",function(){return this._tempVector31=new C$A},"_tempQuaternion0",function(){return this._tempQuaternion0=new C$re},"_tempMatrix4x40",function(){return this._tempMatrix4x40=new C$ie},"_tempMatrix4x41",function(){return this._tempMatrix4x41=new C$ie}]),ovy7jr),C$ce=(C$t(am4u,"laya.d3.shader.ShaderDefines",null,"ShaderDefines$1"),am4u.prototype.registerDefine=function(C$t){var C$e=Math.pow(2,this.defineCounter++);return this.defines[C$e]=C$t,C$e},am4u),C$_e=(C$t(ze8h,"laya.d3.shader.ShaderInit3D"),ze8h.__init__=function(){var C$t,C$e;C$Me._globalRegDefine("HIGHPRECISION",C$Me.SHADERDEFINE_HIGHPRECISION),C$Me._globalRegDefine("FOG",C$Me.SHADERDEFINE_FOG),C$Me._globalRegDefine("DIRECTIONLIGHT",C$Me.SHADERDEFINE_DIRECTIONLIGHT),C$Me._globalRegDefine("POINTLIGHT",C$Me.SHADERDEFINE_POINTLIGHT),C$Me._globalRegDefine("SPOTLIGHT",C$Me.SHADERDEFINE_SPOTLIGHT),C$Me._globalRegDefine("UV",C$Me.SHADERDEFINE_UV0),C$Me._globalRegDefine("COLOR",C$Me.SHADERDEFINE_COLOR),C$Me._globalRegDefine("UV1",C$Me.SHADERDEFINE_UV1),C$Me._globalRegDefine("CASTSHADOW",C$fe.SHADERDEFINE_CAST_SHADOW),C$Me._globalRegDefine("SHADOWMAP_PSSM1",C$fe.SHADERDEFINE_SHADOW_PSSM1),C$Me._globalRegDefine("SHADOWMAP_PSSM2",C$fe.SHADERDEFINE_SHADOW_PSSM2),C$Me._globalRegDefine("SHADOWMAP_PSSM3",C$fe.SHADERDEFINE_SHADOW_PSSM3),C$Me._globalRegDefine("SHADOWMAP_PCF_NO",C$fe.SHADERDEFINE_SHADOW_PCF_NO),C$Me._globalRegDefine("SHADOWMAP_PCF1",C$fe.SHADERDEFINE_SHADOW_PCF1),C$Me._globalRegDefine("SHADOWMAP_PCF2",C$fe.SHADERDEFINE_SHADOW_PCF2),C$Me._globalRegDefine("SHADOWMAP_PCF3",C$fe.SHADERDEFINE_SHADOW_PCF3),C$Me._globalRegDefine("DEPTHFOG",C$Me.SAHDERDEFINE_DEPTHFOG),C$Le.addInclude("LightHelper.glsl","\nstruct DirectionLight\n{\n vec3 Direction;\n vec3 Diffuse;\n};\n\nstruct PointLight\n{\n vec3 Diffuse;\n vec3 Attenuation;\n vec3 Position;\n float Range;\n};\n\nstruct SpotLight\n{\n vec3 Diffuse;\n vec3 Attenuation;\n vec3 Position;\n vec3 Direction;\n float Spot;\n float Range;\n};\n\n\nvec3 NormalSampleToWorldSpace(vec3 normalMapSample, vec3 unitNormal, vec3 tangent)\n{\n\tvec3 normalT = 2.0*normalMapSample - 1.0;\n\n\t// Build orthonormal basis.\n\tvec3 N = normalize(unitNormal);\n\tvec3 T = normalize(tangent- dot(tangent, N)*N);\n\tvec3 B = cross(T, N);\n\n\tmat3 TBN = mat3(T, B, N);\n\n\t// Transform from tangent space to world space.\n\tvec3 bumpedNormal = TBN*normalT;\n\n\treturn bumpedNormal;\n}\n\n\nvoid  computeDirectionLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in DirectionLight dirLight,in vec3 ambinentColor,in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n\tdif=vec3(0.0);//\u4e0d\u521d\u59cb\u5316\u5728IOS\u4e2d\u95ea\u70c1\uff0cPC\u4e2d\u4e0d\u4f1a\u95ea\u70c1\n\tamb=vec3(0.0);\n\tspec=vec3(0.0);\n\tvec3 lightVec=-normalize(dirLight.Direction);\n\t\n\tamb=matAmb*ambinentColor;\n\t\n\tfloat  diffuseFactor=dot(lightVec, normal);\n\t\n\tif(diffuseFactor>0.0)\n\t{\n\t   vec3 v = reflect(-lightVec, normal);\n\t   float specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n\t   \n\t   dif = diffuseFactor * matDif * dirLight.Diffuse;\n\t   spec = specFactor * matSpe.rgb;\n\t}\n\t\n}\n\nvoid computePointLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in PointLight poiLight,in vec3 ambinentColor, in vec3 pos,in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n\tdif=vec3(0.0);\n\tamb=vec3(0.0);\n\tspec=vec3(0.0);\n\tvec3 lightVec = poiLight.Position - pos;\n\t\t\n\tfloat d = length(lightVec);\n\t\n\tif( d > poiLight.Range )\n\t\treturn;\n\t\t\n\tlightVec /= d; \n\t\n\tamb = matAmb*ambinentColor;\t\n\n\tfloat diffuseFactor = dot(lightVec, normal);\n\n\tif( diffuseFactor > 0.0 )\n\t{\n\t\tvec3 v= reflect(-lightVec, normal);\n\t\tfloat specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n\t\t\t\t\t\n\t\tdif = diffuseFactor * matDif * poiLight.Diffuse;\n\t\tspec = specFactor * matSpe.rgb;\n\t}\n\n\tfloat attenuate = 1.0 / dot(poiLight.Attenuation, vec3(1.0, d, d*d));\n\n\tdif *= attenuate;\n\tspec*= attenuate;\n}\n\nvoid ComputeSpotLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in SpotLight spoLight,in vec3 ambinentColor,in vec3 pos, in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n\tamb = vec3(0.0);\n\tdif =vec3(0.0);\n\tspec= vec3(0.0);\n\tvec3 lightVec = spoLight.Position - pos;\n\t\t\n\tfloat d = length(lightVec);\n\t\n\tif( d > spoLight.Range)\n\t\treturn;\n\t\t\n\tlightVec /= d; \n\t\n\tamb = matAmb*ambinentColor;\t\n\n\tfloat diffuseFactor = dot(lightVec, normal);\n\n\tif(diffuseFactor > 0.0)\n\t{\n\t\tvec3 v= reflect(-lightVec, normal);\n\t\tfloat specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n\t\t\t\t\t\n\t\tdif = diffuseFactor * matDif * spoLight.Diffuse;\n\t\tspec = specFactor * matSpe.rgb;\n\t}\n\t\n\tfloat spot = pow(max(dot(-lightVec, normalize(spoLight.Direction)), 0.0), spoLight.Spot);\n\n\tfloat attenuate = spot/dot(spoLight.Attenuation, vec3(1.0, d, d*d));\n\n\tamb *= spot;\n\tdif *= attenuate;\n\tspec*= attenuate;\n}\n\n"),C$Le.addInclude("ShadowHelper.glsl","uniform sampler2D u_shadowMap1;\nuniform sampler2D u_shadowMap2;\nuniform sampler2D u_shadowMap3;\nuniform vec2\t  u_shadowPCFoffset;\nuniform vec4     u_shadowPSSMDistance;\nvec4 packDepth(const in float depth)\n{\n\tconst vec4 bitShift = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n\tconst vec4 bitMask\t= vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n\tvec4 res = mod(depth*bitShift*vec4(255), vec4(256))/vec4(255);\n\tres -= res.xxyz * bitMask;\n\treturn res;\n}\nfloat unpackDepth(const in vec4 rgbaDepth)\n{\n\tconst vec4 bitShift = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n\tfloat depth = dot(rgbaDepth, bitShift);\n\treturn depth;\n}\nfloat tex2DPCF( sampler2D shadowMap,vec2 texcoord,vec2 invsize,float zRef )\n{\n\tvec2 texelpos =texcoord / invsize;\n\tvec2 lerps = fract( texelpos );\n\tfloat sourcevals[4];\n\tsourcevals[0] = float( unpackDepth(texture2D(shadowMap,texcoord)) > zRef );\n\tsourcevals[1] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(invsize.x,0))) > zRef );\n\tsourcevals[2] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(0,invsize.y))) > zRef );\n\tsourcevals[3] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(invsize.x, invsize.y) )) > zRef );\n\treturn mix( mix(sourcevals[0],sourcevals[2],lerps.y),mix(sourcevals[1],sourcevals[3],lerps.y),lerps.x );\n}\nfloat getShadowPSSM3( sampler2D shadowMap1,sampler2D shadowMap2,sampler2D shadowMap3,mat4 lightShadowVP[4],vec4 pssmDistance,vec2 shadowPCFOffset,vec3 worldPos,float posViewZ,float zBias )\n{\n\tfloat value = 1.0;\n\tint nPSNum = int(posViewZ>pssmDistance.x);\n\tnPSNum += int(posViewZ>pssmDistance.y);\n\tnPSNum += int(posViewZ>pssmDistance.z);\n\t//\u771fSB,webgl\u4e0d\u652f\u6301\u5728PS\u4e2d\u76f4\u63a5\u8bbf\u95ee\u6570\u7ec4\n\tmat4 lightVP;\n\tif( nPSNum == 0 )\n\t{\n\t\tlightVP = lightShadowVP[1];\n\t}\n\telse if( nPSNum == 1 )\n\t{\n\t\tlightVP = lightShadowVP[2];\n\t}\n\telse if( nPSNum == 2 )\n\t{\n\t\tlightVP = lightShadowVP[3];\n\t}\n\tvec4 vLightMVPPos = lightVP * vec4(worldPos,1.0);\n\t//\u4e3a\u4e86\u6548\u7387\uff0c\u5728CPU\u8ba1\u7b97/2.0 + 0.5\n\t//vec3 vText = (vLightMVPPos.xyz / vLightMVPPos.w)/2.0 + 0.5;\n\tvec3 vText = vLightMVPPos.xyz / vLightMVPPos.w;\n\tfloat fMyZ = vText.z - zBias;\n\t/*\n\tbvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n\tbool bInFrustum = all( bInFrustumVec );\n\tbvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n\tbool bFrustumTest = all( bFrustumTestVec );\n\tif ( bFrustumTest ) \n\t*/\n\tif( fMyZ <= 1.0 )\n\t{\n\t\tfloat zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue = value/4.0;\n\t\t} \n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap3,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF2\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap3,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n\n#endif\n#ifdef SHADOWMAP_PCF1\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap2,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap3,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF_NO\n\t\tvec4 color;\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap1,vText.xy );\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap2,vText.xy );\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap3,vText.xy );\n\t\t}\n\t\tzdepth = unpackDepth(color);\n\t\tvalue = float(fMyZ < zdepth);\n#endif\n\t}\n\treturn value;\n}\nfloat getShadowPSSM2( sampler2D shadowMap1,sampler2D shadowMap2,mat4 lightShadowVP[4],vec4 pssmDistance,vec2 shadowPCFOffset,vec3 worldPos,float posViewZ,float zBias )\n{\n\tfloat value = 1.0;\n\tint nPSNum = int(posViewZ>pssmDistance.x);\n\tnPSNum += int(posViewZ>pssmDistance.y);\n\t//\u771fSB,webgl\u4e0d\u652f\u6301\u5728PS\u4e2d\u76f4\u63a5\u8bbf\u95ee\u6570\u7ec4\n\tmat4 lightVP;\n\tif( nPSNum == 0 )\n\t{\n\t\tlightVP = lightShadowVP[1];\n\t}\n\telse if( nPSNum == 1 )\n\t{\n\t\tlightVP = lightShadowVP[2];\n\t}\n\tvec4 vLightMVPPos = lightVP * vec4(worldPos,1.0);\n\t//\u4e3a\u4e86\u6548\u7387\uff0c\u5728CPU\u8ba1\u7b97/2.0 + 0.5\n\t//vec3 vText = (vLightMVPPos.xyz / vLightMVPPos.w)/2.0 + 0.5;\n\tvec3 vText = vLightMVPPos.xyz / vLightMVPPos.w;\n\tfloat fMyZ = vText.z - zBias;\n\t/*\n\tbvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n\tbool bInFrustum = all( bInFrustumVec );\n\tbvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n\tbool bFrustumTest = all( bFrustumTestVec );\n\tif ( bFrustumTest ) \n\t*/\n\tif( fMyZ <= 1.0 )\n\t{\n\t\tfloat zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue = value/4.0;\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF2\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF1\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap2,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF_NO\n\t\tvec4 color;\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap1,vText.xy );\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap2,vText.xy );\n\t\t}\n\t\tzdepth = unpackDepth(color);\n\t\tvalue = float(fMyZ < zdepth);\n#endif\n\t}\n\treturn value;\n}\nfloat getShadowPSSM1( sampler2D shadowMap1,vec4 lightMVPPos,vec4 pssmDistance,vec2 shadowPCFOffset,float posViewZ,float zBias )\n{\n\tfloat value = 1.0;\n\tif( posViewZ < pssmDistance.x )\n\t{\n\t\tvec3 vText = lightMVPPos.xyz / lightMVPPos.w;\n\t\tfloat fMyZ = vText.z - zBias;\n\t\t/*\n\t\tbvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n\t\tbool bInFrustum = all( bInFrustumVec );\n\t\tbvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n\t\tbool bFrustumTest = all( bFrustumTestVec );\n\t\t*/\n\t\tif ( fMyZ <= 1.0 ) \n\t\t{\n\t\t\tfloat zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n\t\t\tvalue =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,fMyZ );\n\t\t\tvalue = value/4.0;\n#endif\n#ifdef SHADOWMAP_PCF2\t\t\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n#endif\n#ifdef SHADOWMAP_PCF1\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n#endif\n#ifdef SHADOWMAP_PCF_NO\t\t\n\t\t\tvec4 color = texture2D( shadowMap1,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n#endif\n\t\t}\n\t}\n\treturn value;\n}"),C$t={a_Position:0,a_Color:1,a_Normal:3,a_Texcoord0:2,a_Texcoord1:15,a_TexcoordNext0:14,a_BoneWeights:7,a_BoneIndices:6,a_Tangent0:5},C$e={u_Bones:[0,0],u_DiffuseTexture:[1,1],u_SpecularTexture:[3,1],u_NormalTexture:[2,1],u_AmbientTexture:[5,1],u_ReflectTexture:[6,1],u_AlphaTestValue:[0,1],u_Albedo:[7,1],u_UVMatrix:[13,1],u_UVAge:[14,1],u_UVAniAge:[8,1],u_MaterialDiffuse:[10,1],u_MaterialAmbient:[9,1],u_MaterialSpecular:[11,1],u_MaterialReflect:[12,1],u_TilingOffset:[15,1],u_WorldMat:[0,2],u_MvpMatrix:[1,2],u_LightmapScaleOffset:[2,2],u_LightMap:[3,2],u_CameraPos:[0,3],u_FogStart:[1,4],u_FogRange:[2,4],u_FogColor:[0,4],"u_DirectionLight.Direction":[3,4],"u_DirectionLight.Diffuse":[4,4],"u_PointLight.Position":[5,4],"u_PointLight.Range":[6,4],"u_PointLight.Attenuation":[7,4],"u_PointLight.Diffuse":[8,4],"u_SpotLight.Position":[9,4],"u_SpotLight.Direction":[10,4],"u_SpotLight.Range":[12,4],"u_SpotLight.Spot":[11,4],"u_SpotLight.Attenuation":[13,4],"u_SpotLight.Diffuse":[14,4],u_AmbientColor:[21,4],u_shadowMap1:[18,4],u_shadowMap2:[19,4],u_shadowMap3:[20,4],u_shadowPSSMDistance:[15,4],u_lightShadowVP:[16,4],u_shadowPCFoffset:[17,4]};var C$i=C$Le.nameKey.add("SIMPLE");shaderCompile=C$Me.add(C$i,"attribute vec4 a_Position;\nuniform mat4 u_MvpMatrix;\n\n\n\n#if defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(COLOR)&&defined(SPECULARMAP)||defined(NORMALMAP)))||(defined(LIGHTMAP)&&defined(UV))\nattribute vec2 a_Texcoord0;\nvarying vec2 v_Texcoord0;\n  #ifdef UVTRANSFORM \n  uniform mat4 u_UVMatrix;\n  #endif\n#endif\n\n#if defined(AMBIENTMAP)||(defined(LIGHTMAP)&&defined(UV1))\nattribute vec2 a_Texcoord1;\n#endif\n\n#if defined(AMBIENTMAP)||defined(LIGHTMAP)\nuniform vec4 u_LightmapScaleOffset;\nvarying vec2 v_LightMapUV;\n#endif\n\n\n#ifdef COLOR\nattribute vec4 a_Color;\nvarying vec4 v_Color;\n#endif\n\n#ifdef BONE\nattribute vec4 a_BoneIndices;\nattribute vec4 a_BoneWeights;\nconst int c_MaxBoneCount = 24;\nuniform mat4 u_Bones[c_MaxBoneCount];\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\nattribute vec3 a_Normal;\nvarying vec3 v_Normal;\n#endif\n\n#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP))&&defined(NORMALMAP)\nattribute vec3 a_Tangent0;\nvarying vec3 v_Tangent0;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)||defined(RECEIVESHADOW)\nuniform mat4 u_WorldMat;\nvarying vec3 v_PositionWorld;\n#endif\n\nvarying float v_posViewZ;\n#ifdef RECEIVESHADOW\n  #ifdef SHADOWMAP_PSSM1 \n  varying vec4 v_lightMVPPos;\n  uniform mat4 u_lightShadowVP[4];\n  #endif\n#endif\n\n#ifdef TILINGOFFSET\n\tuniform vec4 u_TilingOffset;\n#endif\n\nvoid main_castShadow()\n{\n#ifdef BONE\n\tmat4 skinTransform=mat4(0.0);\n\tskinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n\tskinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n\tskinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n\tskinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n\tvec4 position=skinTransform*a_Position;\n\tgl_Position = u_MvpMatrix * position;\n#else\n\tgl_Position = u_MvpMatrix * a_Position;\n#endif\n \n//TODO\u6ca1\u8003\u8651UV\u52a8\u753b\u5462\n#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n\tv_Texcoord0=a_Texcoord0;\n#endif\n\tv_posViewZ = gl_Position.z;\n}\n\nvoid main_normal()\n{\n#ifdef BONE\n\tmat4 skinTransform=mat4(0.0);\n\tskinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n\tskinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n\tskinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n\tskinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n\tvec4 position=skinTransform*a_Position;\n\tgl_Position = u_MvpMatrix * position;\n#else\n\tgl_Position = u_MvpMatrix * a_Position;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n\tmat3 worldMat;\n\t#ifdef BONE\n\t\tworldMat=mat3(u_WorldMat*skinTransform);\n\t#else\n\t\tworldMat=mat3(u_WorldMat);\n\t#endif  \n\tv_Normal=worldMat*a_Normal;\n\t#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\n\t\tv_Tangent0=worldMat*a_Tangent0;\n\t#endif\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)||defined(RECEIVESHADOW)\n\t#ifdef BONE\n\t\tv_PositionWorld=(u_WorldMat*position).xyz;\n\t#else\n\t\tv_PositionWorld=(u_WorldMat*a_Position).xyz;\n\t#endif\n#endif\n\n#if defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(COLOR)&&defined(SPECULARMAP)||defined(NORMALMAP)))\n\tv_Texcoord0=a_Texcoord0;\n\t#ifdef TILINGOFFSET\n\t\tv_Texcoord0=(vec2(v_Texcoord0.x,v_Texcoord0.y-1.0)*u_TilingOffset.xy)+u_TilingOffset.zw;\n\t\tv_Texcoord0=vec2(v_Texcoord0.x,v_Texcoord0.y+1.0);\n\t#endif\n\t#ifdef UVTRANSFORM\n\t\tv_Texcoord0=(u_UVMatrix*vec4(v_Texcoord0,0.0,1.0)).xy;\n\t#endif\n#endif\n\n#if defined(AMBIENTMAP)||defined(LIGHTMAP)\n\t#ifdef SCALEOFFSETLIGHTINGMAPUV\n\t\t#ifdef UV1\n\t\t\tv_LightMapUV=vec2(a_Texcoord1.x*u_LightmapScaleOffset.x+u_LightmapScaleOffset.z,1.0+a_Texcoord1.y*u_LightmapScaleOffset.y+u_LightmapScaleOffset.w);\n\t\t#else\n\t\t\tv_LightMapUV=vec2(a_Texcoord0.x,a_Texcoord0.y-1.0)*u_LightmapScaleOffset.xy+u_LightmapScaleOffset.zw;\n\t\t#endif \n\t#else\n\t\t#ifdef UV1\n\t\t\tv_LightMapUV=a_Texcoord1;\n\t\t#else\n\t\t\tv_LightMapUV=a_Texcoord0;\n\t\t#endif \n\t#endif \n#endif\n\n#ifdef COLOR\n\tv_Color=a_Color;\n#endif\n\n#ifdef RECEIVESHADOW\n\tv_posViewZ = gl_Position.w;\n\t#ifdef SHADOWMAP_PSSM1 \n\t\tv_lightMVPPos = u_lightShadowVP[0] * vec4(v_PositionWorld,1.0);\n\t#endif\n#endif\n}\n\nvoid main()\n{\n#ifdef CASTSHADOW\n\tmain_castShadow();\n#else\n\tmain_normal();\n#endif\n}",'#ifdef HIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\n#include "LightHelper.glsl";\n\nuniform vec4 u_Albedo;\n\n#ifdef ALPHATEST\nuniform float u_AlphaTestValue;\n#endif\n\n#ifdef DIFFUSEMAP\nuniform sampler2D u_DiffuseTexture;\n#endif\n\n#ifdef REFLECTMAP\nuniform samplerCube u_ReflectTexture;\nuniform vec3 u_MaterialReflect;\n#endif\n\n#if   defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(COLOR)&&defined(SPECULARMAP)||defined(NORMALMAP)))\nvarying vec2 v_Texcoord0;\n#endif\n\n#if defined(AMBIENTMAP)||defined(LIGHTMAP)\nvarying vec2 v_LightMapUV;\n#endif\n#ifdef AMBIENTMAP\nuniform sampler2D u_AmbientTexture;\n#endif\n#ifdef LIGHTMAP\nuniform sampler2D u_LightMap;\n#endif\n\n#ifdef COLOR\nvarying vec4 v_Color;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\nuniform vec3 u_MaterialDiffuse;\nuniform vec4 u_MaterialSpecular;\n  #if (defined(DIFFUSEMAP)||defined(COLOR))&&defined(SPECULARMAP) \n  uniform sampler2D u_SpecularTexture;\n  #endif\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(AMBIENTMAP)||defined(LIGHTMAP)\nuniform vec3 u_MaterialAmbient;\n#endif\n\n#if defined(FOG)||defined(DEPTHFOG)\n\tuniform float u_FogStart;\n\tuniform float u_FogRange;\n\t#ifdef ADDTIVEFOG\n\t#else\n\t\tuniform vec3 u_FogColor;\n\t#endif\n#endif\n\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\nvarying vec3 v_Normal;\n#endif\n\n#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\nuniform sampler2D u_NormalTexture;\nvarying vec3 v_Tangent0;\n#endif\n\n#ifdef DIRECTIONLIGHT\nuniform DirectionLight u_DirectionLight;\n#endif\n\n#ifdef POINTLIGHT\nuniform PointLight u_PointLight;\n#endif\n\n#ifdef SPOTLIGHT\nuniform SpotLight u_SpotLight;\n#endif\n\nuniform vec3 u_AmbientColor;\n\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)||(defined(RECEIVESHADOW)&&(defined(SHADOWMAP_PSM2)||defined(SHADOWMAP_PSM3)))\nuniform vec3 u_CameraPos;\n#endif\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)\nvarying vec3 v_PositionWorld;\n#endif\n\n#include "ShadowHelper.glsl"\n#ifdef RECEIVESHADOW\n\t#if defined(SHADOWMAP_PSSM2)||defined(SHADOWMAP_PSSM3)\n\tuniform mat4 u_lightShadowVP[4];\n\t#endif\n\t#ifdef SHADOWMAP_PSSM1 \n\tvarying vec4 v_lightMVPPos;\n\t#endif\n#endif\nvarying float v_posViewZ;\n\n\n\nvoid main_castShadow()\n{\n\t//gl_FragColor=vec4(v_posViewZ,0.0,0.0,1.0);\n\tgl_FragColor=packDepth(v_posViewZ);\n\t#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n\t\tfloat alpha = texture2D(u_DiffuseTexture,v_Texcoord0).w;\n\t\tif( alpha < u_AlphaTestValue )\n\t\t{\n\t\t\tdiscard;\n\t\t}\n\t#endif\n}\nvoid main_normal()\n{\n#if defined(DIFFUSEMAP)&&!defined(COLOR)\n\tgl_FragColor=texture2D(u_DiffuseTexture, v_Texcoord0);\n#endif \n  \n#if defined(COLOR)&&!defined(DIFFUSEMAP)\n\tgl_FragColor=v_Color;\n#endif \n  \n#if defined(DIFFUSEMAP)&&defined(COLOR)\n\tvec4 texColor=texture2D(u_DiffuseTexture, v_Texcoord0);\n\tgl_FragColor=texColor*v_Color;\n#endif\n  \n#if !defined(DIFFUSEMAP)&&!defined(COLOR)\n\tgl_FragColor=vec4(1.0,1.0,1.0,1.0);\n#endif \n    \n#ifdef ALPHATEST\n\tif(gl_FragColor.a-u_AlphaTestValue<0.0)\n\t\tdiscard;\n#endif\n  \n  \n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n\tvec3 normal;\n    #if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\n\t\tvec3 normalMapSample = texture2D(u_NormalTexture, v_Texcoord0).rgb;\n\t\tnormal = normalize(NormalSampleToWorldSpace(normalMapSample, v_Normal, v_Tangent0));\n\t#else\n\t\tnormal = normalize(v_Normal);\n    #endif\n#endif\n\t\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\tvec3 diffuse = vec3(0.0);\n\tvec3 ambient = vec3(0.0);\n\tvec3 specular= vec3(0.0);\n\tvec3 dif, amb, spe;\n#endif\n  \n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(REFLECTMAP)\n\tvec3 toEye;\n\t#ifdef FOG\n\t\ttoEye=u_CameraPos-v_PositionWorld;\n\t\tfloat toEyeLength=length(toEye);\n\t\ttoEye/=toEyeLength;\n\t#else\n\t\ttoEye=normalize(u_CameraPos-v_PositionWorld);\n\t#endif\n#endif\n\t\n#ifdef DIRECTIONLIGHT\n\tcomputeDirectionLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_DirectionLight,u_AmbientColor,normal,toEye, dif, amb, spe);\n\tdiffuse+=dif;\n\tambient+=amb;\n\tspecular+=spe;\n#endif\n \n#ifdef POINTLIGHT\n\tcomputePointLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_PointLight,u_AmbientColor,v_PositionWorld,normal,toEye, dif, amb, spe);\n\tdiffuse+=dif;\n\tambient+=amb;\n\tspecular+=spe;\n#endif\n\n#ifdef SPOTLIGHT\n\tComputeSpotLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_SpotLight,u_AmbientColor,v_PositionWorld,normal,toEye, dif, amb, spe);\n\tdiffuse+=dif;\n\tambient+=amb;\n\tspecular+=spe;\n#endif\n\n#ifdef RECEIVESHADOW\n\tfloat shadowValue = 1.0;\n\t#ifdef SHADOWMAP_PSSM3\n\t\tshadowValue = getShadowPSSM3( u_shadowMap1,u_shadowMap2,u_shadowMap3,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n\t#endif\n\t#ifdef SHADOWMAP_PSSM2\n\t\tshadowValue = getShadowPSSM2( u_shadowMap1,u_shadowMap2,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n\t#endif \n\t#ifdef SHADOWMAP_PSSM1\n\t\tshadowValue = getShadowPSSM1( u_shadowMap1,v_lightMVPPos,u_shadowPSSMDistance,u_shadowPCFoffset,v_posViewZ,0.001);\n\t#endif\n#endif\n\n#ifdef AMBIENTMAP\n\t#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_AmbientTexture, v_LightMapUV).rgb); \n\t#else\n\t\t#if defined(RECEIVESHADOW)\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_AmbientTexture, v_LightMapUV).rgb * shadowValue);\n\t\t#else\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_AmbientTexture, v_LightMapUV).rgb); \n\t\t#endif\n\t#endif\n#endif\n\n#ifdef LIGHTMAP\n\t#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb); \n\t#else\n\t\t#if defined(RECEIVESHADOW)\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb * shadowValue);\n\t\t#else\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb); \n\t\t#endif\n\t#endif\n#endif\n\ngl_FragColor=gl_FragColor*u_Albedo;\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\t#if (defined(DIFFUSEMAP)||defined(COLOR))&&defined(SPECULARMAP)\n\t\tspecular =specular*texture2D(u_SpecularTexture, v_Texcoord0).rgb;\n    #endif\n\t#ifdef RECEIVESHADOW\n\t\tgl_FragColor =vec4( gl_FragColor.rgb*(ambient + diffuse*shadowValue) + specular*shadowValue,gl_FragColor.a);\n\t#else\n\t\tgl_FragColor =vec4( gl_FragColor.rgb*(ambient + diffuse) + specular,gl_FragColor.a);\n\t#endif\n#endif\n  \n#ifdef REFLECTMAP\n\tvec3 incident = -toEye;\n\tvec3 reflectionVector = reflect(incident,normal);\n\tvec3 reflectionColor  = textureCube(u_ReflectTexture,reflectionVector).rgb;\n\tgl_FragColor.rgb += u_MaterialReflect*reflectionColor;\n#endif\n  \n#ifdef FOG\n\tfloat lerpFact=clamp((toEyeLength-u_FogStart)/u_FogRange,0.0,1.0);\n\t#ifdef ADDTIVEFOG\n\t\tgl_FragColor.rgb=mix(gl_FragColor.rgb,vec3(0.0,0.0,0.0),lerpFact);\n\t#else\n\t\tgl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor,lerpFact);\n\t#endif\n#endif\n#ifdef DEPTHFOG\n\tfloat lerpFact = (-v_PositionWorld.y-u_FogStart)/u_FogRange;\n\tgl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor,lerpFact);\n#endif\n}\n\nvoid main()\n{\n#ifdef CASTSHADOW\t\t\n\tmain_castShadow();\n#else\n  main_normal();\n#endif  \n}\n\n',C$t,C$e),C$Be.SHADERDEFINE_DIFFUSEMAP=shaderCompile.registerMaterialDefine("DIFFUSEMAP"),C$Be.SHADERDEFINE_NORMALMAP=shaderCompile.registerMaterialDefine("NORMALMAP"),C$Be.SHADERDEFINE_SPECULARMAP=shaderCompile.registerMaterialDefine("SPECULARMAP"),C$Be.SHADERDEFINE_EMISSIVEMAP=shaderCompile.registerMaterialDefine("EMISSIVEMAP"),C$Be.SHADERDEFINE_AMBIENTMAP=shaderCompile.registerMaterialDefine("AMBIENTMAP"),C$Be.SHADERDEFINE_REFLECTMAP=shaderCompile.registerMaterialDefine("REFLECTMAP"),C$Be.SHADERDEFINE_UVTRANSFORM=shaderCompile.registerMaterialDefine("UVTRANSFORM"),C$Be.SHADERDEFINE_TILINGOFFSET=shaderCompile.registerMaterialDefine("TILINGOFFSET"),C$Be.SHADERDEFINE_ADDTIVEFOG=shaderCompile.registerMaterialDefine("ADDTIVEFOG")},ze8h),C$de=(C$t(xj7v,"laya.d3.shader.ValusArray"),(C$s=xj7v.prototype).setValue=function(C$t,C$e){this._data[C$t]=C$e},C$e(0,C$s,"data",function(){return this._data}),xj7v),C$fe=(ehcpt.SHADERDEFINE_RECEIVE_SHADOW=1,ehcpt.SHADERDEFINE_CAST_SHADOW=512,ehcpt.SHADERDEFINE_SHADOW_PSSM1=1024,ehcpt.SHADERDEFINE_SHADOW_PSSM2=2048,ehcpt.SHADERDEFINE_SHADOW_PSSM3=4096,ehcpt.SHADERDEFINE_SHADOW_PCF_NO=8192,ehcpt.SHADERDEFINE_SHADOW_PCF1=16384,ehcpt.SHADERDEFINE_SHADOW_PCF2=32768,ehcpt.SHADERDEFINE_SHADOW_PCF3=65536,ehcpt.MAX_PSSM_COUNT=3,ehcpt),C$pe=(C$t(kd8cg6,"laya.d3.utils.Picker"),kd8cg6.calculateCursorRay=function(C$t,C$e,C$i,C$n,C$r,C$s){var C$a=C$t.elements[0],C$t=C$t.elements[1],C$o=kd8cg6._tempVector30,C$h=C$o.elements;C$h[0]=C$a,C$h[1]=C$t,C$h[2]=C$e.minDepth;var C$h=kd8cg6._tempVector31,C$l=C$h.elements;C$l[0]=C$a,C$l[1]=C$t,C$l[2]=C$e.maxDepth;C$a=C$s.origin,C$t=kd8cg6._tempVector32;C$e.unprojectFromWVP(C$o,C$i,C$n,C$r,C$a),C$e.unprojectFromWVP(C$h,C$i,C$n,C$r,C$t);C$l=C$s.direction.elements;C$l[0]=C$t.x-C$a.x,C$l[1]=C$t.y-C$a.y,C$l[2]=C$t.z-C$a.z,C$A.normalize(C$s.direction,C$s.direction)},kd8cg6.rayIntersectsPositionsAndIndices=function(C$u,C$t,C$e,C$c,C$i){for(var C$_=C$e.vertexStride/4,C$n=C$e.getVertexElementByUsage(0).offset/4,C$d=Number.MAX_VALUE,C$f=-1,C$p=-1,C$m=-1,C$g=0;C$g<C$c.length;C$g+=3){var C$v=kd8cg6._tempVector35,C$x=C$v.elements,C$y=C$c[C$g]*C$_,C$r=C$y+C$n;C$x[0]=C$t[C$r],C$x[1]=C$t[1+C$r],C$x[2]=C$t[2+C$r];var C$x=kd8cg6._tempVector36,C$r=C$x.elements,C$b=C$c[C$g+1]*C$_,C$s=C$b+C$n;C$r[0]=C$t[C$s],C$r[1]=C$t[1+C$s],C$r[2]=C$t[2+C$s];var C$r=kd8cg6._tempVector37,C$s=C$r.elements,C$w=C$c[C$g+2]*C$_,C$T=C$w+C$n;C$s[0]=C$t[C$T],C$s[1]=C$t[1+C$T],C$s[2]=C$t[2+C$T];C$s=laya.d3.utils.Picker.rayIntersectsTriangle(C$u,C$v,C$x,C$r);!isNaN(C$s)&&C$s<C$d&&(C$d=C$s,C$f=C$y,C$p=C$b,C$m=C$w)}if(C$d===Number.MAX_VALUE)return C$i.position.toDefault(),C$i.distance=Number.MAX_VALUE,C$i.trianglePositions[0].toDefault(),C$i.trianglePositions[1].toDefault(),C$i.trianglePositions[2].toDefault(),C$i.triangleNormals[0].toDefault(),C$i.triangleNormals[1].toDefault(),C$i.triangleNormals[2].toDefault(),!1;C$i.distance=C$d,C$A.scale(C$u.direction,C$d,C$i.position),C$A.add(C$u.origin,C$i.position,C$i.position);var C$a=C$i.trianglePositions,C$o=C$a[0],C$h=C$a[1],C$a=C$a[2],C$o=C$o.elements,C$h=C$h.elements,C$a=C$a.elements,C$l=C$f+C$n;C$o[0]=C$t[C$l],C$o[1]=C$t[C$l+1],C$o[2]=C$t[C$l+2];C$o=C$p+C$n;C$h[0]=C$t[C$o],C$h[1]=C$t[C$o+1],C$h[2]=C$t[C$o+2];C$l=C$m+C$n;C$a[0]=C$t[C$l],C$a[1]=C$t[C$l+1],C$a[2]=C$t[C$l+2];C$h=C$e.getVertexElementByUsage(3);return C$h&&(C$o=C$h.offset/4,C$l=(C$a=C$i.triangleNormals)[0],C$e=C$a[1],C$h=C$a[2],C$i=C$l.elements,C$a=C$e.elements,C$l=C$h.elements,C$i[0]=C$t[C$e=C$f+C$o],C$i[1]=C$t[C$e+1],C$i[2]=C$t[C$e+2],C$a[0]=C$t[C$h=C$p+C$o],C$a[1]=C$t[C$h+1],C$a[2]=C$t[C$h+2],C$l[0]=C$t[C$i=C$m+C$o],C$l[1]=C$t[C$i+1],C$l[2]=C$t[C$i+2]),!0},kd8cg6.rayIntersectsTriangle=function(C$t,C$e,C$i,C$n){var C$r=kd8cg6._tempVector30,C$s=kd8cg6._tempVector31;C$A.subtract(C$i,C$e,C$r),C$A.subtract(C$n,C$e,C$s);C$i=kd8cg6._tempVector32;if(C$A.cross(C$t.direction,C$s,C$i),(C$n=C$A.dot(C$r,C$i))>-Number.MIN_VALUE&&C$n<Number.MIN_VALUE)return Number.NaN;var C$n=1/C$n,C$a=kd8cg6._tempVector33;if(C$A.subtract(C$t.origin,C$e,C$a),C$e=C$A.dot(C$a,C$i),(C$e*=C$n)<0||1<C$e)return Number.NaN;C$i=kd8cg6._tempVector34;return C$A.cross(C$a,C$r,C$i),C$a=C$A.dot(C$t.direction,C$i),(C$a*=C$n)<0||1<C$e+C$a?Number.NaN:(C$r=C$A.dot(C$s,C$i),(C$r*=C$n)<0?Number.NaN:C$r)},C$h(kd8cg6,["_tempVector30",function(){return this._tempVector30=new C$A},"_tempVector31",function(){return this._tempVector31=new C$A},"_tempVector32",function(){return this._tempVector32=new C$A},"_tempVector33",function(){return this._tempVector33=new C$A},"_tempVector34",function(){return this._tempVector34=new C$A},"_tempVector35",function(){return this._tempVector35=new C$A},"_tempVector36",function(){return this._tempVector36=new C$A},"_tempVector37",function(){return this._tempVector37=new C$A}]),kd8cg6),C$me=(C$t(_w2,"laya.d3.utils.RaycastHit"),_w2.prototype.cloneTo=function(C$t){C$t.distance=this.distance,this.trianglePositions[0].cloneTo(C$t.trianglePositions[0]),this.trianglePositions[1].cloneTo(C$t.trianglePositions[1]),this.trianglePositions[2].cloneTo(C$t.trianglePositions[2]),this.triangleNormals[0].cloneTo(C$t.triangleNormals[0]),this.triangleNormals[1].cloneTo(C$t.triangleNormals[1]),this.triangleNormals[2].cloneTo(C$t.triangleNormals[2]),this.position.cloneTo(C$t.position),C$t.sprite3D=this.sprite3D},C$t(vyr5o,"laya.d3.utils.Size"),C$e(0,C$s=vyr5o.prototype,"width",function(){return-1===this._width?C$Q.clientWidth:this._width}),C$e(0,C$s,"height",function(){return-1===this._height?C$Q.clientHeight:this._height}),C$e(1,vyr5o,"fullScreen",function(){return new vyr5o(-1,-1)}),vyr5o),C$ge=(C$t(thzep_,"laya.d3.utils.Utils3D"),thzep_._rotationTransformScaleSkinAnimation=function(C$u,C$c,C$_,C$d,C$t,C$e,C$f,C$p,C$m,C$g,C$v,C$x){var C$i,C$n,C$r,C$s,C$a,C$o=thzep_._tempArray16_0,C$h=thzep_._tempArray16_1,C$l=thzep_._tempArray16_2,C$y=C$d+C$d,C$b=C$t+C$t,C$w=C$e+C$e,C$d=C$d*C$y,C$T=C$t*C$y,C$t=C$t*C$b,C$M=C$e*C$y,C$S=C$e*C$b,C$e=C$e*C$w,C$y=C$f*C$y,C$b=C$f*C$b,C$f=C$f*C$w;for(C$o[15]=1,C$o[0]=1-C$t-C$e,C$o[1]=C$T+C$f,C$o[2]=C$M-C$b,C$o[4]=C$T-C$f,C$o[5]=1-C$d-C$e,C$o[6]=C$S+C$y,C$o[8]=C$M+C$b,C$o[9]=C$S-C$y,C$o[10]=1-C$d-C$t,C$h[15]=1,C$h[0]=C$p,C$h[5]=C$m,C$h[10]=C$g,C$i=0;C$i<4;C$i++)C$n=C$o[C$i],C$r=C$o[C$i+4],C$s=C$o[C$i+8],C$a=C$o[C$i+12],C$l[C$i]=C$n,C$l[C$i+4]=C$r,C$l[C$i+8]=C$s,C$l[C$i+12]=C$n*C$u+C$r*C$c+C$s*C$_+C$a;for(C$i=0;C$i<4;C$i++)C$n=C$l[C$i],C$r=C$l[C$i+4],C$s=C$l[C$i+8],C$a=C$l[C$i+12],C$v[C$i+C$x]=C$n*C$h[0]+C$r*C$h[1]+C$s*C$h[2]+C$a*C$h[3],C$v[C$i+C$x+4]=C$n*C$h[4]+C$r*C$h[5]+C$s*C$h[6]+C$a*C$h[7],C$v[C$i+C$x+8]=C$n*C$h[8]+C$r*C$h[9]+C$s*C$h[10]+C$a*C$h[11],C$v[C$i+C$x+12]=C$n*C$h[12]+C$r*C$h[13]+C$s*C$h[14]+C$a*C$h[15]},thzep_._createNodeByJson=function(C$t,C$e,C$i,C$n){if(!C$i)switch(C$e.type){case"Sprite3D":C$i=new C$Pe;break;case"MeshSprite3D":C$i=new C$He;break;case"SkinnedMeshSprite3D":C$i=new SkinnedMeshSprite3D;break;case"ShuriKenParticle3D":case"MyShuriKenParticle3D":C$i=new ShuriKenParticle3D;break;case"TrailSprite3D":C$i=new TrailSprite3D;break;case"Terrain":C$i=new Terrain;break;case"Camera":C$i=new C$qe;break;case"DirectionLight":C$i=new DirectionLight;break;default:throw new Error("Utils3D:unidentified class type in (.lh) file.")}var C$r=C$e.props;if(C$r)for(var C$s in C$r)C$i[C$s]=C$r[C$s];var C$a=C$e.customProps;C$a&&(C$i instanceof laya.d3.core.Sprite3D?(C$i._parseBaseCustomProps(C$a),C$i._parseCustomProps(C$t,C$n,C$a,C$e),C$i._parseCustomComponent(C$t,C$n,C$e.components)):C$i._parseCustomProps(C$t,C$n,C$a,C$e));var C$o=C$e.child;if(C$o)for(var C$h=0,C$l=C$o.length;C$h<C$l;C$h++){var C$u=thzep_._createNodeByJson(C$t,C$o[C$h],null,C$n);C$i.addChild(C$u)}return C$i},thzep_._computeBoneAndAnimationDatasByBindPoseMatrxix=function(C$t,C$e,C$i,C$n,C$r,C$s){var C$a,C$o,C$h=0,C$l=0,C$u=C$t.length;for(C$a=0;C$a<C$u;C$h+=C$t[C$a].keyframeWidth,C$l+=16,C$a++)laya.d3.utils.Utils3D._rotationTransformScaleSkinAnimation(C$e[C$h+0],C$e[C$h+1],C$e[C$h+2],C$e[C$h+3],C$e[C$h+4],C$e[C$h+5],C$e[C$h+6],C$e[C$h+7],C$e[C$h+8],C$e[C$h+9],C$n,C$l),0!=C$a&&(C$o=16*C$t[C$a].parentIndex,laya.d3.utils.Utils3D.mulMatrixByArray(C$n,C$o,C$n,C$l,C$n,C$l));var C$c=C$i.length;for(C$a=0;C$a<C$c;C$a++)laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$n,16*C$s[C$a],C$i[C$a],C$r,16*C$a)},thzep_._computeAnimationDatasByArrayAndMatrixFast=function(C$t,C$e,C$i,C$n){for(var C$r=0,C$s=C$t.length;C$r<C$s;C$r++)laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$e,16*C$n[C$r],C$t[C$r],C$i,16*C$r)},thzep_._computeBoneAndAnimationDatasByBindPoseMatrxixOld=function(C$t,C$e,C$i,C$n,C$r){var C$s,C$a,C$o=0,C$h=0,C$u=C$t.length;for(C$s=0;C$s<C$u;C$o+=C$t[C$s].keyframeWidth,C$h+=16,C$s++)laya.d3.utils.Utils3D._rotationTransformScaleSkinAnimation(C$e[C$o+7],C$e[C$o+8],C$e[C$o+9],C$e[C$o+3],C$e[C$o+4],C$e[C$o+5],C$e[C$o+6],C$e[C$o+0],C$e[C$o+1],C$e[C$o+2],C$n,C$h),0!=C$s&&(C$a=16*C$t[C$s].parentIndex,laya.d3.utils.Utils3D.mulMatrixByArray(C$n,C$a,C$n,C$h,C$n,C$h));var C$c=C$i.length;for(C$s=0;C$s<C$c;C$s++){var C$l=16*C$s;laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$n,C$l,C$i[C$s],C$r,C$l)}},thzep_._computeAnimationDatasByArrayAndMatrixFastOld=function(C$t,C$e,C$i){for(var C$n=C$t.length,C$r=0;C$r<C$n;C$r++){var C$s=16*C$r;laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$e,C$s,C$t[C$r],C$i,C$s)}},thzep_._computeRootAnimationData=function(C$t,C$e,C$i){for(var C$n=0,C$r=0,C$s=0,C$a=C$t.length;C$n<C$a;C$r+=C$t[C$n].keyframeWidth,C$s+=16,C$n++)laya.d3.utils.Utils3D.createAffineTransformationArray(C$e[C$r+0],C$e[C$r+1],C$e[C$r+2],C$e[C$r+3],C$e[C$r+4],C$e[C$r+5],C$e[C$r+6],C$e[C$r+7],C$e[C$r+8],C$e[C$r+9],C$i,C$s)},thzep_.transformVector3ArrayByQuat=function(C$t,C$e,C$i,C$n,C$r){var C$i=C$i.elements,C$s=C$t[C$e],C$a=C$t[C$e+1],C$t=C$t[C$e+2],C$e=C$i[0],C$o=C$i[1],C$h=C$i[2],C$i=C$i[3],C$l=C$i*C$s+C$o*C$t-C$h*C$a,C$u=C$i*C$a+C$h*C$s-C$e*C$t,C$c=C$i*C$t+C$e*C$a-C$o*C$s,C$s=-C$e*C$s-C$o*C$a-C$h*C$t;C$n[C$r]=C$l*C$i+C$s*-C$e+C$u*-C$h-C$c*-C$o,C$n[C$r+1]=C$u*C$i+C$s*-C$o+C$c*-C$e-C$l*-C$h,C$n[C$r+2]=C$c*C$i+C$s*-C$h+C$l*-C$o-C$u*-C$e},thzep_.mulMatrixByArray=function(C$t,C$u,C$e,C$i,C$n,C$r){var C$s,C$a,C$o,C$h,C$l;if(C$n===C$e){for(C$e=thzep_._tempArray16_3,C$s=0;C$s<16;++C$s)C$e[C$s]=C$n[C$r+C$s];C$i=0}for(C$s=0;C$s<4;C$s++)C$a=C$t[C$u+C$s],C$o=C$t[C$u+C$s+4],C$h=C$t[C$u+C$s+8],C$l=C$t[C$u+C$s+12],C$n[C$r+C$s]=C$a*C$e[C$i+0]+C$o*C$e[C$i+1]+C$h*C$e[C$i+2]+C$l*C$e[C$i+3],C$n[C$r+C$s+4]=C$a*C$e[C$i+4]+C$o*C$e[C$i+5]+C$h*C$e[C$i+6]+C$l*C$e[C$i+7],C$n[C$r+C$s+8]=C$a*C$e[C$i+8]+C$o*C$e[C$i+9]+C$h*C$e[C$i+10]+C$l*C$e[C$i+11],C$n[C$r+C$s+12]=C$a*C$e[C$i+12]+C$o*C$e[C$i+13]+C$h*C$e[C$i+14]+C$l*C$e[C$i+15]},thzep_.mulMatrixByArrayFast=function(C$t,C$e,C$i,C$n,C$r,C$u){var C$s,C$a,C$o,C$h,C$l;for(C$s=0;C$s<4;C$s++)C$a=C$t[C$e+C$s],C$o=C$t[C$e+C$s+4],C$h=C$t[C$e+C$s+8],C$l=C$t[C$e+C$s+12],C$r[C$u+C$s]=C$a*C$i[C$n+0]+C$o*C$i[C$n+1]+C$h*C$i[C$n+2]+C$l*C$i[C$n+3],C$r[C$u+C$s+4]=C$a*C$i[C$n+4]+C$o*C$i[C$n+5]+C$h*C$i[C$n+6]+C$l*C$i[C$n+7],C$r[C$u+C$s+8]=C$a*C$i[C$n+8]+C$o*C$i[C$n+9]+C$h*C$i[C$n+10]+C$l*C$i[C$n+11],C$r[C$u+C$s+12]=C$a*C$i[C$n+12]+C$o*C$i[C$n+13]+C$h*C$i[C$n+14]+C$l*C$i[C$n+15]},thzep_.mulMatrixByArrayAndMatrixFast=function(C$t,C$e,C$i,C$n,C$r){var C$s,C$a,C$o,C$h,C$l,C$i=C$i.elements,C$u=C$i[0],C$c=C$i[1],C$_=C$i[2],C$d=C$i[3],C$f=C$i[4],C$p=C$i[5],C$m=C$i[6],C$g=C$i[7],C$v=C$i[8],C$x=C$i[9],C$y=C$i[10],C$b=C$i[11],C$w=C$i[12],C$T=C$i[13],C$M=C$i[14],C$S=C$i[15],C$C=C$e,C$D=C$e+4,C$E=C$e+8,C$A=C$e+12,C$I=C$r,C$R=C$r+4,C$P=C$r+8,C$L=C$r+12;for(C$s=0;C$s<4;C$s++)C$a=C$t[C$C+C$s],C$o=C$t[C$D+C$s],C$h=C$t[C$E+C$s],C$l=C$t[C$A+C$s],C$n[C$I+C$s]=C$a*C$u+C$o*C$c+C$h*C$_+C$l*C$d,C$n[C$R+C$s]=C$a*C$f+C$o*C$p+C$h*C$m+C$l*C$g,C$n[C$P+C$s]=C$a*C$v+C$o*C$x+C$h*C$y+C$l*C$b,C$n[C$L+C$s]=C$a*C$w+C$o*C$T+C$h*C$M+C$l*C$S},thzep_.createAffineTransformationArray=function(C$u,C$c,C$_,C$t,C$e,C$i,C$n,C$r,C$d,C$f,C$s,C$a){var C$o=C$t+C$t,C$h=C$e+C$e,C$l=C$i+C$i,C$p=C$t*C$o,C$m=C$t*C$h,C$t=C$t*C$l,C$g=C$e*C$h,C$e=C$e*C$l,C$i=C$i*C$l,C$o=C$n*C$o,C$h=C$n*C$h,C$n=C$n*C$l;C$s[C$a+0]=(1-(C$g+C$i))*C$r,C$s[C$a+1]=(C$m+C$n)*C$r,C$s[C$a+2]=(C$t-C$h)*C$r,C$s[C$a+3]=0,C$s[C$a+4]=(C$m-C$n)*C$d,C$s[C$a+5]=(1-(C$p+C$i))*C$d,C$s[C$a+6]=(C$e+C$o)*C$d,C$s[C$a+7]=0,C$s[C$a+8]=(C$t+C$h)*C$f,C$s[C$a+9]=(C$e-C$o)*C$f,C$s[C$a+10]=(1-(C$p+C$g))*C$f,C$s[C$a+11]=0,C$s[C$a+12]=C$u,C$s[C$a+13]=C$c,C$s[C$a+14]=C$_,C$s[C$a+15]=1},thzep_.transformVector3ArrayToVector3ArrayCoordinate=function(C$t,C$e,C$i,C$n,C$r){var C$s=thzep_._tempArray4_0,C$a=C$t[C$e+0],C$o=C$t[C$e+1],C$t=C$t[C$e+2],C$e=C$i.elements;C$s[0]=C$a*C$e[0]+C$o*C$e[4]+C$t*C$e[8]+C$e[12],C$s[1]=C$a*C$e[1]+C$o*C$e[5]+C$t*C$e[9]+C$e[13],C$s[2]=C$a*C$e[2]+C$o*C$e[6]+C$t*C$e[10]+C$e[14],C$s[3]=1/(C$a*C$e[3]+C$o*C$e[7]+C$t*C$e[11]+C$e[15]),C$n[C$r+0]=C$s[0]*C$s[3],C$n[C$r+1]=C$s[1]*C$s[3],C$n[C$r+2]=C$s[2]*C$s[3]},thzep_.transformLightingMapTexcoordByUV0Array=function(C$t,C$e,C$i,C$n,C$r){C$i=C$i.elements;C$n[C$r+0]=C$t[C$e+0]*C$i[0]+C$i[2],C$n[C$r+1]=(C$t[C$e+1]-1)*C$i[1]+C$i[3]},thzep_.transformLightingMapTexcoordByUV1Array=function(C$t,C$e,C$i,C$n,C$r){C$i=C$i.elements;C$n[C$r+0]=C$t[C$e+0]*C$i[0]+C$i[2],C$n[C$r+1]=1+C$t[C$e+1]*C$i[1]+C$i[3]},thzep_.getURLVerion=function(C$t){var C$e=C$t.indexOf("?");return 0<=C$e?C$t.substr(C$e):null},thzep_._quaternionCreateFromYawPitchRollArray=function(C$t,C$e,C$i,C$n){var C$i=.5*C$i,C$e=.5*C$e,C$t=.5*C$t,C$r=Math.sin(C$i),C$i=Math.cos(C$i),C$s=Math.sin(C$e),C$e=Math.cos(C$e),C$a=Math.sin(C$t),C$t=Math.cos(C$t);C$n[0]=C$t*C$s*C$i+C$a*C$e*C$r,C$n[1]=C$a*C$e*C$i-C$t*C$s*C$r,C$n[2]=C$t*C$e*C$r-C$a*C$s*C$i,C$n[3]=C$t*C$e*C$i+C$a*C$s*C$r},thzep_._createAffineTransformationArray=function(C$t,C$e,C$i,C$n){var C$r=C$e[0],C$s=C$e[1],C$a=C$e[2],C$e=C$e[3],C$o=C$r+C$r,C$h=C$s+C$s,C$l=C$a+C$a,C$u=C$r*C$o,C$c=C$r*C$h,C$r=C$r*C$l,C$_=C$s*C$h,C$s=C$s*C$l,C$a=C$a*C$l,C$o=C$e*C$o,C$h=C$e*C$h,C$e=C$e*C$l,C$l=C$i[0],C$d=C$i[1],C$i=C$i[2];C$n[0]=(1-(C$_+C$a))*C$l,C$n[1]=(C$c+C$e)*C$l,C$n[2]=(C$r-C$h)*C$l,C$n[3]=0,C$n[4]=(C$c-C$e)*C$d,C$n[5]=(1-(C$u+C$a))*C$d,C$n[6]=(C$s+C$o)*C$d,C$n[7]=0,C$n[8]=(C$r+C$h)*C$i,C$n[9]=(C$s-C$o)*C$i,C$n[10]=(1-(C$u+C$_))*C$i,C$n[11]=0,C$n[12]=C$t[0],C$n[13]=C$t[1],C$n[14]=C$t[2],C$n[15]=1},thzep_._mulMatrixArray=function(C$t,C$e,C$i,C$n){var C$r,C$s,C$a,C$o,C$h,C$e=C$e.elements,C$l=C$e[0],C$u=C$e[1],C$c=C$e[2],C$_=C$e[3],C$d=C$e[4],C$f=C$e[5],C$p=C$e[6],C$m=C$e[7],C$g=C$e[8],C$v=C$e[9],C$x=C$e[10],C$y=C$e[11],C$b=C$e[12],C$w=C$e[13],C$T=C$e[14],C$M=C$e[15],C$S=C$n,C$C=C$n+4,C$D=C$n+8,C$E=C$n+12;for(C$r=0;C$r<4;C$r++)C$s=C$t[C$r],C$a=C$t[C$r+4],C$o=C$t[C$r+8],C$h=C$t[C$r+12],C$i[C$S+C$r]=C$s*C$l+C$a*C$u+C$o*C$c+C$h*C$_,C$i[C$C+C$r]=C$s*C$d+C$a*C$f+C$o*C$p+C$h*C$m,C$i[C$D+C$r]=C$s*C$g+C$a*C$v+C$o*C$x+C$h*C$y,C$i[C$E+C$r]=C$s*C$b+C$a*C$w+C$o*C$T+C$h*C$M},thzep_.getYawPitchRoll=function(C$t,C$e){thzep_.transformQuat(C$A.ForwardRH,C$t,C$re.TEMPVector31),thzep_.transformQuat(C$A.Up,C$t,C$re.TEMPVector32);C$t=C$re.TEMPVector32.elements;thzep_.angleTo(C$A.ZERO,C$re.TEMPVector31,C$re.TEMPVector33);var C$i=C$re.TEMPVector33.elements;C$i[0]==Math.PI/2?(C$i[1]=thzep_.arcTanAngle(C$t[2],C$t[0]),C$i[2]=0):C$i[0]==-Math.PI/2?(C$i[1]=thzep_.arcTanAngle(-C$t[2],-C$t[0]),C$i[2]=0):(C$ie.createRotationY(-C$i[1],C$re.TEMPMatrix0),C$ie.createRotationX(-C$i[0],C$re.TEMPMatrix1),C$A.transformCoordinate(C$re.TEMPVector32,C$re.TEMPMatrix0,C$re.TEMPVector32),C$A.transformCoordinate(C$re.TEMPVector32,C$re.TEMPMatrix1,C$re.TEMPVector32),C$i[2]=thzep_.arcTanAngle(C$t[1],-C$t[0])),C$i[1]<=-Math.PI&&(C$i[1]=Math.PI),C$i[2]<=-Math.PI&&(C$i[2]=Math.PI),C$i[1]>=Math.PI&&C$i[2]>=Math.PI&&(C$i[1]=0,C$i[2]=0,C$i[0]=Math.PI-C$i[0]),C$e[0]=C$i[1],C$e[1]=C$i[0],C$e[2]=C$i[2]},thzep_.arcTanAngle=function(C$t,C$e){return 0==C$t?1==C$e?Math.PI/2:-Math.PI/2:0<C$t?Math.atan(C$e/C$t):C$t<0?0<C$e?Math.atan(C$e/C$t)+Math.PI:Math.atan(C$e/C$t)-Math.PI:0},thzep_.angleTo=function(C$t,C$e,C$i){C$A.subtract(C$e,C$t,C$re.TEMPVector30),C$A.normalize(C$re.TEMPVector30,C$re.TEMPVector30),C$i.elements[0]=Math.asin(C$re.TEMPVector30.y),C$i.elements[1]=thzep_.arcTanAngle(-C$re.TEMPVector30.z,-C$re.TEMPVector30.x)},thzep_.transformQuat=function(C$t,C$e,C$i){var C$i=C$i.elements,C$t=C$t.elements,C$n=C$t[0],C$r=C$t[1],C$t=C$t[2],C$s=C$e[0],C$a=C$e[1],C$o=C$e[2],C$e=C$e[3],C$h=C$e*C$n+C$a*C$t-C$o*C$r,C$l=C$e*C$r+C$o*C$n-C$s*C$t,C$u=C$e*C$t+C$s*C$r-C$a*C$n,C$n=-C$s*C$n-C$a*C$r-C$o*C$t;C$i[0]=C$h*C$e+C$n*-C$s+C$l*-C$o-C$u*-C$a,C$i[1]=C$l*C$e+C$n*-C$a+C$u*-C$s-C$h*-C$o,C$i[2]=C$u*C$e+C$n*-C$o+C$h*-C$a-C$l*-C$s},thzep_.quaterionNormalize=function(C$t,C$e){var C$i=C$t[0],C$n=C$t[1],C$r=C$t[2],C$t=C$t[3],C$s=C$i*C$i+C$n*C$n+C$r*C$r+C$t*C$t;0<C$s&&(C$s=1/Math.sqrt(C$s),C$e[0]=C$i*C$s,C$e[1]=C$n*C$s,C$e[2]=C$r*C$s,C$e[3]=C$t*C$s)},thzep_.matrix4x4MultiplyFFF=function(C$t,C$e,C$i){var C$n,C$r,C$s,C$a,C$o;if(C$i===C$e)for(C$e=new Float32Array(16),C$n=0;C$n<16;++C$n)C$e[C$n]=C$i[C$n];for(C$n=0;C$n<4;C$n++)C$r=C$t[C$n],C$s=C$t[C$n+4],C$a=C$t[C$n+8],C$o=C$t[C$n+12],C$i[C$n]=C$r*C$e[0]+C$s*C$e[1]+C$a*C$e[2]+C$o*C$e[3],C$i[C$n+4]=C$r*C$e[4]+C$s*C$e[5]+C$a*C$e[6]+C$o*C$e[7],C$i[C$n+8]=C$r*C$e[8]+C$s*C$e[9]+C$a*C$e[10]+C$o*C$e[11],C$i[C$n+12]=C$r*C$e[12]+C$s*C$e[13]+C$a*C$e[14]+C$o*C$e[15]},thzep_.matrix4x4MultiplyMFM=function(C$t,C$e,C$i){thzep_.matrix4x4MultiplyFFF(C$t.elements,C$e,C$i.elements)},C$h(thzep_,["_typeToFunO",function(){return this._typeToFunO={INT16:"writeInt16",SHORT:"writeInt16",UINT16:"writeUint16",UINT32:"writeUint32",FLOAT32:"writeFloat32",INT:"writeInt32",UINT:"writeUint32",BYTE:"writeByte",STRING:"writeUTFString"}},"_tempVector3_0",function(){return this._tempVector3_0=new C$A},"_tempVector3_1",function(){return this._tempVector3_1=new C$A},"_tempVector3_2",function(){return this._tempVector3_2=new C$A},"_tempVector3_3",function(){return this._tempVector3_3=new C$A},"_tempVector3_4",function(){return this._tempVector3_4=new C$A},"_tempVector3_5",function(){return this._tempVector3_5=new C$A},"_tempVector3_6",function(){return this._tempVector3_6=new C$A},"_tempArray4_0",function(){return this._tempArray4_0=new Float32Array(4)},"_tempArray16_0",function(){return this._tempArray16_0=new Float32Array(16)},"_tempArray16_1",function(){return this._tempArray16_1=new Float32Array(16)},"_tempArray16_2",function(){return this._tempArray16_2=new Float32Array(16)},"_tempArray16_3",function(){return this._tempArray16_3=new Float32Array(16)}]),thzep_),C$ve=(C$t(anu41,"Laya3D"),anu41._cancelLoadByUrl=function(C$t){C$b.loader.cancelLoadByUrl(C$t),anu41._innerFirstLevelLoaderManager.cancelLoadByUrl(C$t),anu41._innerSecondLevelLoaderManager.cancelLoadByUrl(C$t),anu41._innerThirdLevelLoaderManager.cancelLoadByUrl(C$t),anu41._innerFourthLevelLoaderManager.cancelLoadByUrl(C$t)},anu41._changeWebGLSize=function(C$t,C$e){C$k.onStageResize(C$t,C$e),C$Q.clientWidth=C$t,C$Q.clientHeight=C$e},anu41.__init__=function(){var C$t=C$v.createMap;C$t.lh=[C$Pe,"SPRITE3DHIERARCHY"],C$t.ls=[C$Re,"SPRITE3DHIERARCHY"],C$t.lm=[C$Oe,"MESH"],C$t.lmat=[C$Be,"MATERIAL"],C$t.jpg=[C$Ve,"nativeimage"],C$t.jpeg=[C$Ve,"nativeimage"],C$t.png=[C$Ve,"nativeimage"],C$t.pkm=[C$Ve,"arraybuffer"],C$t.raw=[C$ze,"arraybuffer"],C$t.mipmaps=[C$ze,"arraybuffer"],C$g.parserMap.SPRITE3DHIERARCHY=anu41._loadHierarchy,C$g.parserMap.MESH=anu41._loadMesh,C$g.parserMap.MATERIAL=anu41._loadMaterial,C$g.parserMap.TEXTURECUBE=anu41._loadTextureCube,C$g.parserMap.TERRAIN=anu41._loadTerrain,anu41._innerFirstLevelLoaderManager.on("error",null,anu41._eventLoadManagerError),anu41._innerSecondLevelLoaderManager.on("error",null,anu41._eventLoadManagerError),anu41._innerThirdLevelLoaderManager.on("error",null,anu41._eventLoadManagerError),anu41._innerFourthLevelLoaderManager.on("error",null,anu41._eventLoadManagerError)},anu41.READ_BLOCK=function(){return anu41._readData.pos+=4,!0},anu41.READ_DATA=function(){return anu41._DATA.offset=anu41._readData.getUint32(),anu41._DATA.size=anu41._readData.getUint32(),!0},anu41.READ_STRINGS=function(){var C$t=[],C$e={offset:0,size:0};C$e.offset=anu41._readData.getUint16(),C$e.size=anu41._readData.getUint16(),anu41._readData.pos,anu41._readData.pos=C$e.offset+anu41._DATA.offset;for(var C$i=0;C$i<C$e.size;C$i++){var C$n=anu41._readData.readUTFString();-1===C$n.lastIndexOf(".lmat")&&-1===C$n.lastIndexOf(".lpbr")||C$t.push(C$n)}return C$t},anu41.formatRelativePath=function(C$t,C$e){var C$i;if("."===C$e.charAt(0)){for(var C$n=(C$t+C$e).split("/"),C$r=0,C$s=C$n.length;C$r<C$s;C$r++){var C$a;".."!=C$n[C$r]||0<(C$a=C$r-1)&&".."!==C$n[C$a]&&(C$n.splice(C$a,2),C$r-=2)}C$i=C$n.join("/")}else C$i=C$t+C$e;return C$i=null!=C$L.customFormat?C$L.customFormat(C$i,null):C$i},anu41._eventLoadManagerError=function(C$t){C$b.loader.event("error",C$t)},anu41._addHierarchyInnerUrls=function(C$t,C$e,C$i,C$n,C$r,C$s){C$n=anu41.formatRelativePath(C$n,C$r);C$i&&(C$n+=C$i),C$t.push({url:C$n,clas:C$s}),C$e[C$r]=C$n},anu41._getSprite3DHierarchyInnerUrls=function(C$t,C$u,C$c,C$e,C$i,C$n,C$r){var C$_,C$s=0,C$a=0;switch(C$t.type){case"Scene":var C$d=C$t.customProps.lightmaps;for(C$s=0,C$a=C$d.length;C$s<C$a;C$s++){var C$f=C$d[C$s].replace(".exr",".png");anu41._addHierarchyInnerUrls(C$e,C$i,C$n,C$r,C$f,C$Ve)}break;case"MeshSprite3D":case"TrailSprite3D":case"LineSprite3D":case"SkinnedMeshSprite3D":if(C$t.instanceParams)(C$l=C$t.instanceParams.loadPath)&&anu41._addHierarchyInnerUrls(C$u,C$i,C$n,C$r,C$l,C$Oe);else{(C$l=(C$_=C$t.customProps).meshPath)&&anu41._addHierarchyInnerUrls(C$u,C$i,C$n,C$r,C$l,C$Oe);var C$p=C$_.materials;if(C$p)for(C$s=0,C$a=C$p.length;C$s<C$a;C$s++){for(var C$m=C$p[C$s],C$g=C$m.type.split("."),C$o=C$M.window,C$h=0,C$v=C$g.length;C$h<C$v;++C$h)C$o=C$o[this.clasPaths[C$h]];if("function"!=typeof C$o)throw"_getSprite3DHierarchyInnerUrls \u9519\u8bef: "+C$m.type+" \u4e0d\u662f\u7c7b";anu41._addHierarchyInnerUrls(C$c,C$i,C$n,C$r,C$m.path,C$o)}}break;case"ShuriKenParticle3D":case"MyShuriKenParticle3D":var C$l=(C$_=C$t.customProps).meshPath;C$l&&anu41._addHierarchyInnerUrls(C$u,C$i,C$n,C$r,C$l,C$Oe);C$l=C$_.material;if(C$l){for(C$g=C$l.type.split("."),C$o=C$M.window,C$h=0,C$v=C$g.length;C$h<C$v;++C$h)C$o=C$o[this.clasPaths[C$h]];anu41._addHierarchyInnerUrls(C$c,C$i,C$n,C$r,C$l.path,C$o)}else{C$l=C$_.materialPath;C$l?anu41._addHierarchyInnerUrls(C$c,C$i,C$n,C$r,C$l,ShurikenParticleMaterial):(C$l=C$_.texturePath)&&anu41._addHierarchyInnerUrls(C$e,C$i,C$n,C$r,C$l,C$Ve)}break;case"Terrain":anu41._addHierarchyInnerUrls(C$e,C$i,C$n,C$r,C$t.customProps.dataPath,TerrainRes)}var C$x=C$t.components;for(var C$y in C$x){var C$b=C$x[C$y];if("Animator"===C$y){C$y=C$b.avatarPath;C$y?anu41._addHierarchyInnerUrls(C$e,C$i,C$n,C$r,C$y,Avatar):(C$y=C$b.avatar)&&anu41._addHierarchyInnerUrls(C$e,C$i,C$n,C$r,C$y.path,Avatar);var C$w=C$b.clipPaths;for(C$s=0,C$a=C$w.length;C$s<C$a;C$s++)anu41._addHierarchyInnerUrls(C$e,C$i,C$n,C$r,C$w[C$s],AnimationClip)}}var C$T=C$t.child;for(C$s=0,C$a=C$T.length;C$s<C$a;C$s++)anu41._getSprite3DHierarchyInnerUrls(C$T[C$s],C$u,C$c,C$e,C$i,C$n,C$r)},anu41._loadHierarchy=function(C$t){C$t.on("loaded",null,anu41._onHierarchylhLoaded,[C$t,C$t._class._getGroup()]),C$t.load(C$t.url,"json",!1,null,!0)},anu41._onHierarchylhLoaded=function(C$t,C$e,C$i){var C$n,C$r,C$s,C$u,C$a,C$o,C$h,C$l;C$t._class.destroyed?C$t.endLoad():(C$a=C$t.url,C$l=C$ge.getURLVerion(C$a),C$a=C$L.getPath(C$a),anu41._getSprite3DHierarchyInnerUrls(C$i,C$n=[],C$r=[],C$s=[],C$u={},C$l,C$a),anu41._onProcessChange(C$t,0,C$o=1/(C$a=(C$l=C$n.length+C$r.length+C$s.length)+1),1),0<C$s.length?(C$l=C$w.create(null,anu41._onProcessChange,[C$t,C$o,C$h=C$l/C$a],!1),anu41._innerFourthLevelLoaderManager.create(C$s,C$w.create(null,anu41._onHierarchyInnerForthLevResouLoaded,[C$t,C$e,C$l,C$i,C$u,C$n,C$r,C$o+C$h*C$s.length,C$h]),C$l,null,null,1,!0,C$e)):anu41._onHierarchyInnerForthLevResouLoaded(C$t,C$e,null,C$i,C$u,C$n,C$r,C$o,C$h))},anu41._onHierarchyInnerForthLevResouLoaded=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h){var C$l;C$t._class.destroyed?C$t.endLoad():(C$i&&C$i.recover(),0<C$a.length?(C$l=C$w.create(null,anu41._onProcessChange,[C$t,C$o,C$h],!1),anu41._innerSecondLevelLoaderManager.create(C$a,C$w.create(null,anu41._onHierarchyInnerSecondLevResouLoaded,[C$t,C$e,C$l,C$n,C$r,C$s,C$o+C$h*C$a.length,C$h]),C$i,null,null,1,!0,C$e)):anu41._onHierarchyInnerSecondLevResouLoaded(C$t,C$e,null,C$n,C$r,C$s,C$o,C$h))},anu41._onHierarchyInnerSecondLevResouLoaded=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){C$t._class.destroyed?C$t.endLoad():(C$i&&C$i.recover(),0<C$s.length?(C$a=C$w.create(null,anu41._onProcessChange,[C$t,C$a,C$o],!1),anu41._innerFirstLevelLoaderManager.create(C$s,C$w.create(null,anu41._onHierarchyInnerFirstLevResouLoaded,[C$t,C$a,C$n,C$r]),C$i,null,null,1,!0,C$e)):anu41._onHierarchyInnerFirstLevResouLoaded(C$t,null,C$n,C$r))},anu41._onHierarchyInnerFirstLevResouLoaded=function(C$t,C$e,C$i,C$n){C$e&&C$e.recover(),C$t.endLoad([C$i,C$n])},anu41._loadTerrain=function(C$t){C$t.on("loaded",null,anu41._onTerrainLtLoaded,[C$t,C$t._class._getGroup()]),C$t.load(C$t.url,"json",!1,null,!0)},anu41._onTerrainLtLoaded=function(C$t,C$u,C$e){if(C$t._class.destroyed)C$t.endLoad();else{var C$i,C$n=C$t.url,C$r=C$ge.getURLVerion(C$n),C$c=C$L.getPath(C$n),C$s=[],C$a={},C$o=0,C$h=0,C$n=C$e.heightData;C$l=C$n.url,C$i=anu41.formatRelativePath(C$c,C$l),C$r&&(C$i+=C$r),C$l=C$a[C$l]=C$i;var C$_=C$e.detailTexture;for(C$o=0,C$h=C$_.length;C$o<C$h;C$o++)C$s.push({url:C$_[C$o].diffuse});var C$d=C$e.normalMap;for(C$o=0,C$h=C$d.length;C$o<C$h;C$o++)C$s.push({url:C$d[C$o]});var C$f=C$e.alphaMap;for(C$o=0,C$h=C$f.length;C$o<C$h;C$o++)C$s.push({url:C$f[C$o],params:[!1,!1,6408,!0]});for(C$o=0,C$h=C$s.length;C$o<C$h;C$o++){var C$p=C$s[C$o].url;C$i=anu41.formatRelativePath(C$c,C$p),C$r&&(C$i+=C$r),C$s[C$o].url=C$i,C$a[C$p]=C$i}var C$m=C$s.length,C$g=C$m+2,C$v=1/C$g;anu41._onProcessChange(C$t,0,C$v,1);var C$x={heightMapLoaded:!1,texturesLoaded:!1},C$y=C$w.create(null,anu41._onProcessChange,[C$t,C$v,C$v],!1);anu41._innerFourthLevelLoaderManager.create(C$l,C$w.create(null,anu41._onTerrainHeightMapLoaded,[C$t,C$y,C$e,C$a,C$x]),C$y,null,[C$n.numX,C$n.numZ,C$n.bitType,C$n.value],1,!0,C$u);var C$l=C$w.create(null,anu41._onProcessChange,[C$t,2*C$v,C$m/C$g],!1);anu41._innerFourthLevelLoaderManager.create(C$s,C$w.create(null,anu41._onTerrainTexturesLoaded,[C$t,C$l,C$e,C$a,C$x]),C$l,null,null,1,!0,C$u)}},anu41._onTerrainHeightMapLoaded=function(C$t,C$e,C$i,C$n,C$r){C$r.heightMapLoaded=!0,C$r.texturesLoaded&&(C$t.endLoad([C$i,C$n]),C$e.recover())},anu41._onTerrainTexturesLoaded=function(C$t,C$e,C$i,C$n,C$r){C$r.texturesLoaded=!0,C$r.heightMapLoaded&&(C$t.endLoad([C$i,C$n]),C$e.recover())},anu41._loadMesh=function(C$t){C$t.on("loaded",null,anu41._onMeshLmLoaded,[C$t,C$t._class._getGroup()]),C$t.load(C$t.url,"arraybuffer",!1,null,!0)},anu41._onMeshLmLoaded=function(C$t,C$u,C$e){if(C$t._class.destroyed)C$t.endLoad();else{var C$i,C$n,C$r,C$s,C$a=C$t.url,C$c=C$ge.getURLVerion(C$a),C$_=C$L.getPath(C$a),C$o={},C$h=0;switch((anu41._readData=new C$x(C$e)).pos=0,anu41._readData.readUTFString()){case"LAYAMODEL:02":case"LAYAMODEL:03":case"LAYAMODEL:0301":var C$d=anu41._readData.getUint32();anu41._readData.pos=anu41._readData.pos+4,C$s=anu41._readData.getUint16(),anu41._readData.pos=anu41._readData.pos+8*C$s;var C$f=anu41._readData.getUint32();for(C$s=anu41._readData.getUint16(),anu41._readData.pos=C$d+C$f,C$i=[],C$h=0;C$h<C$s;C$h++){var C$p=anu41._readData.readUTFString();-1!==C$p.lastIndexOf(".lmat")&&C$i.push(C$p)}break;default:for(anu41.READ_BLOCK(),C$h=0;C$h<2;C$h++){var C$m=anu41._readData.getUint16(),C$g=anu41._strings[C$m],C$l=anu41["READ_"+C$g];if(null==C$l)throw new Error("model file err,no this function:"+C$m+" "+C$g);1===C$h?C$i=C$l.call():C$l.call()}}for(C$h=0,C$r=C$i.length;C$h<C$r;C$h++){var C$v=C$i[C$h];C$n=anu41.formatRelativePath(C$_,C$v),C$c&&(C$n+=C$c),C$i[C$h]=C$n,C$o[C$v]=C$n}0<C$i.length?(anu41._onProcessChange(C$t,0,.5,1),C$a=C$w.create(null,anu41._onProcessChange,[C$t,.5,.5],!1),anu41._innerSecondLevelLoaderManager.create(C$i,C$w.create(null,anu41._onMeshMateialLoaded,[C$t,C$a,C$e,C$o]),C$a,null,null,1,!0,C$u)):C$t.endLoad([C$e,C$o])}},anu41._onMeshMateialLoaded=function(C$t,C$e,C$i,C$n){C$t.endLoad([C$i,C$n]),C$e.recover()},anu41._getMaterialTexturePath=function(C$t,C$e,C$i){var C$n=C$t.length-4;return C$t.indexOf(".dds")!=C$n&&C$t.indexOf(".tga")!=C$n&&C$t.indexOf(".exr")!=C$n&&C$t.indexOf(".DDS")!=C$n&&C$t.indexOf(".TGA")!=C$n&&C$t.indexOf(".EXR")!=C$n||(C$t=C$t.substr(0,C$n)+".png"),C$t=anu41.formatRelativePath(C$i,C$t),C$e&&(C$t+=C$e),C$t},anu41._loadMaterial=function(C$t){C$t.on("loaded",null,anu41._onMaterilLmatLoaded,[C$t,C$t._class._getGroup()]),C$t.load(C$t.url,"json",!1,null,!0)},anu41._onMaterilLmatLoaded=function(C$t,C$u,C$c){if(C$t._class.destroyed)C$t.endLoad();else{var C$e,C$i=C$t.url,C$n=C$ge.getURLVerion(C$i),C$r=C$L.getPath(C$i),C$s=[],C$a={},C$i=C$c.customProps,C$o=C$c.version;if(C$o)switch(C$o){case"LAYAMATERIAL:01":case"LAYAMATERIAL:02":for(var C$_=C$c.props.textures,C$d=0,C$f=C$_.length;C$d<C$f;C$d++){var C$p=C$_[C$d],C$h=C$p.path;var C$m;C$h&&(C$m=C$h.length-4,C$h.indexOf(".exr")!=C$m&&C$h.indexOf(".EXR")!=C$m||(C$h=C$h.substr(0,C$m)+".png"),C$e=anu41.formatRelativePath(C$r,C$h),C$n&&(C$e+=C$n),C$s.push({url:C$e,params:C$p.params}),C$a[C$h]=C$e)}break;default:throw new Error("Laya3D:unkonwn version.")}else{C$o=C$i.diffuseTexture.texture2D;C$o&&(C$e=anu41._getMaterialTexturePath(C$o,C$n,C$r),C$s.push(C$e),C$a[C$o]=C$e),C$i.normalTexture&&(C$l=C$i.normalTexture.texture2D)&&(C$e=anu41._getMaterialTexturePath(C$l,C$n,C$r),C$s.push(C$e),C$a[C$l]=C$e),!C$i.specularTexture||(C$o=C$i.specularTexture.texture2D)&&(C$e=anu41._getMaterialTexturePath(C$o,C$n,C$r),C$s.push(C$e),C$a[C$o]=C$e),!C$i.emissiveTexture||(C$l=C$i.emissiveTexture.texture2D)&&(C$e=anu41._getMaterialTexturePath(C$l,C$n,C$r),C$s.push(C$e),C$a[C$l]=C$e),!C$i.ambientTexture||(C$o=C$i.ambientTexture.texture2D)&&(C$e=anu41._getMaterialTexturePath(C$o,C$n,C$r),C$s.push(C$e),C$a[C$o]=C$e),!C$i.reflectTexture||(C$l=C$i.reflectTexture.texture2D)&&(C$e=anu41._getMaterialTexturePath(C$l,C$n,C$r),C$s.push(C$e),C$a[C$l]=C$e)}var C$o=C$s.length,C$i=C$o+1,C$l=1/C$i;anu41._onProcessChange(C$t,0,C$l,1),0<C$o?(C$l=C$w.create(null,anu41._onProcessChange,[C$t,C$l,C$o/C$i],!1),anu41._innerFourthLevelLoaderManager.create(C$s,C$w.create(null,anu41._onMateialTexturesLoaded,[C$t,C$l,C$c,C$a]),C$l,C$Ve,null,1,!0,C$u)):anu41._onMateialTexturesLoaded(C$t,null,C$c,null)}},anu41._onMateialTexturesLoaded=function(C$t,C$e,C$i,C$n){C$t.endLoad([C$i,C$n]),C$e&&C$e.recover()},anu41._loadTextureCube=function(C$t){C$t.on("loaded",null,anu41._onTextureCubeLtcLoaded,[C$t]),C$t.load(C$t.url,"json",!1,null,!0)},anu41._onTextureCubeLtcLoaded=function(C$t,C$e){var C$i;C$t._class.destroyed?C$t.endLoad():(C$i=C$L.getPath(C$t.url),C$i=[anu41.formatRelativePath(C$i,C$e.px),anu41.formatRelativePath(C$i,C$e.nx),anu41.formatRelativePath(C$i,C$e.py),anu41.formatRelativePath(C$i,C$e.ny),anu41.formatRelativePath(C$i,C$e.pz),anu41.formatRelativePath(C$i,C$e.nz)],anu41._onProcessChange(C$t,0,1/7,1),C$e=C$w.create(null,anu41._onProcessChange,[C$t,1/7,6/7],!1),anu41._innerFourthLevelLoaderManager.load(C$i,C$w.create(null,anu41._onTextureCubeImagesLoaded,[C$t,C$i,C$e]),C$e,"nativeimage"))},anu41._onTextureCubeImagesLoaded=function(C$t,C$e,C$i){var C$n=[];C$n.length=6;for(var C$r=0;C$r<6;C$r++){var C$s=C$e[C$r];C$n[C$r]=C$g.getRes(C$s),C$g.clearRes(C$s)}C$t.endLoad(C$n),C$i.recover()},anu41._onProcessChange=function(C$t,C$e,C$i,C$n){(C$n=C$e+C$n*C$i)<1&&C$t.event("progress",C$n)},anu41.init=function(C$t,C$e,C$i,C$n,C$r,C$s){if(void 0===C$i&&(C$i=!1),void 0===C$n&&(C$n=!1),void 0===C$r&&(C$r=!0),void 0===C$s&&(C$s=!0),C$D.update3DLoop=function(){},C$D.cancelLoadByUrl=function(C$t){anu41._cancelLoadByUrl(C$t)},C$f.isAntialias=C$i,C$f.isAlpha=C$n,C$f.premultipliedAlpha=C$r,C$f.isStencil=C$s,!C$k.enable())throw new Error("Laya3D\u542f\u52a8\u5931\u8d25\uff01\n\u6a21\u62df\u5668\uff1a\u8bf7\u5c1d\u8bd5\u4f7f\u7528\u300a\u96f7\u7535\u6a21\u62df\u5668\u300b\u6700\u65b0\u7248\u672c\uff01\n\u6d4f\u89c8\u5668\uff1a\u8bf7\u5c1d\u8bd5\u5173\u95ed\u6d4f\u89c8\u5668\uff0c\u786e\u4fdd\u6d4f\u89c8\u5668\u8fdb\u7a0b\u5168\u90e8\u7ed3\u675f\u540e\u518d\u8fdb\u6e38\u620f\uff01");C$D.changeWebGLSize=anu41._changeWebGLSize,C$T.is3DMode=!0,C$b.init(C$t,C$e),C$j.__init__(),C$_e.__init__(),C$He.__init__(),C$O.__init__(),anu41.__init__(),C$u.maxTextureCount=2,(anu41.debugMode||C$J.debugMode)&&(anu41._debugPhasorSprite=new C$$)},anu41.HIERARCHY="SPRITE3DHIERARCHY",anu41.MESH="MESH",anu41.MATERIAL="MATERIAL",anu41.PBRMATERIAL="PBRMTL",anu41.TEXTURECUBE="TEXTURECUBE",anu41.TERRAIN="TERRAIN",anu41._readData=null,anu41._debugPhasorSprite=null,anu41.debugMode=!1,C$h(anu41,["_DATA",function(){return this._DATA={offset:0,size:0}},"_strings",function(){return this._strings=["BLOCK","DATA","STRINGS"]},"_innerFirstLevelLoaderManager",function(){return this._innerFirstLevelLoaderManager=new C$v},"_innerSecondLevelLoaderManager",function(){return this._innerSecondLevelLoaderManager=new C$v},"_innerThirdLevelLoaderManager",function(){return this._innerThirdLevelLoaderManager=new C$v},"_innerFourthLevelLoaderManager",function(){return this._innerFourthLevelLoaderManager=new C$v}]),anu41),C$xe=(C$t(n7xij1,"laya.d3.animation.AnimationTransform3D",C$m),(C$s=n7xij1.prototype)._getlocalMatrix=function(){return this._localUpdate&&(C$ge._createAffineTransformationArray(this._localPosition,this._localRotation,this._localScale,this._localMatrix),this._localUpdate=!1),this._localMatrix},C$s._onWorldTransform=function(){if(!this._worldUpdate){this._worldUpdate=!0;for(var C$t=0,C$e=this._childs.length;C$t<C$e;C$t++)this._childs[C$t]._onWorldTransform()}},C$s._setWorldMatrixAndUpdate=function(C$t){if(this._worldMatrix=C$t,null==this._parent)throw new Error("don't need to set worldMatrix to root Node.");if(null==this._parent._parent)for(var C$e=this._getlocalMatrix(),C$i=0;C$i<16;++C$i)this._worldMatrix[C$i]=C$e[C$i];else C$ge.matrix4x4MultiplyFFF(this._parent.getWorldMatrix(),this._getlocalMatrix(),this._worldMatrix);this._worldUpdate=!1},C$s._setWorldMatrixNoUpdate=function(C$t){this._worldMatrix=C$t},C$s._setWorldMatrixIgnoreUpdate=function(C$t){this._worldMatrix=C$t,this._worldUpdate=!1},C$s.getLocalPosition=function(){return this._localPosition},C$s.setLocalPosition=function(C$t){var C$e,C$i,C$n;this._parent?(this._localPosition=C$t,this._localUpdate=!0,this._onWorldTransform()):(C$e=this._entity.owner._transform,(C$n=(C$i=this._entity.localPosition).elements)[0]=C$t[0],C$n[1]=C$t[1],C$n[2]=C$t[2],C$e.localPosition=C$i)},C$s.getLocalRotation=function(){var C$t;return this._localQuaternionUpdate&&(C$t=this._localRotationEuler,C$ge._quaternionCreateFromYawPitchRollArray(C$t[1]/n7xij1._angleToRandin,C$t[0]/n7xij1._angleToRandin,C$t[2]/n7xij1._angleToRandin,this._localRotation),this._localQuaternionUpdate=!1),this._localRotation},C$s.setLocalRotation=function(C$t){var C$e,C$i,C$n;this._parent?(this._localRotation=C$t,C$ge.quaterionNormalize(this._localRotation,this._localRotation),this._locaEulerlUpdate=!0,this._localQuaternionUpdate=!1,this._localUpdate=!0,this._onWorldTransform()):(C$e=this._entity.owner._transform,(C$n=(C$i=this._entity.localRotation).elements)[0]=C$t[0],C$n[1]=C$t[1],C$n[2]=C$t[2],C$n[3]=C$t[3],C$e.localRotation=C$i)},C$s.getLocalScale=function(){return this._localScale},C$s.setLocalScale=function(C$t){var C$e,C$i,C$n;this._parent?(this._localScale=C$t,this._localUpdate=!0,this._onWorldTransform()):(C$e=this._entity.owner._transform,(C$n=(C$i=this._entity.localScale).elements)[0]=C$t[0],C$n[1]=C$t[1],C$n[2]=C$t[2],C$e.localScale=C$i)},C$s.getLocalRotationEuler=function(){var C$t,C$e;return this._locaEulerlUpdate&&(C$ge.getYawPitchRoll(this._localRotation,n7xij1._tempVector3),(C$e=this._localRotationEuler)[0]=(C$t=n7xij1._tempVector3)[1]*n7xij1._angleToRandin,C$e[1]=C$t[0]*n7xij1._angleToRandin,C$e[2]=C$t[2]*n7xij1._angleToRandin,this._locaEulerlUpdate=!1),this._localRotationEuler},C$s.setLocalRotationEuler=function(C$t){var C$e,C$i,C$n;this._parent?(C$ge._quaternionCreateFromYawPitchRollArray(C$t[1]/n7xij1._angleToRandin,C$t[0]/n7xij1._angleToRandin,C$t[2]/n7xij1._angleToRandin,this._localRotation),this._localRotationEuler=C$t,this._locaEulerlUpdate=!1,this._localQuaternionUpdate=!1,this._localUpdate=!0,this._onWorldTransform()):(C$e=this._entity.owner._transform,(C$n=(C$i=this._entity.localRotationEuler).elements)[0]=C$t[0],C$n[1]=C$t[1],C$n[2]=C$t[2],C$e.localRotationEuler=C$i)},C$s.getWorldMatrix=function(){if(this._worldUpdate){if(null!=this._parent._parent)C$ge.matrix4x4MultiplyFFF(this._parent.getWorldMatrix(),this._getlocalMatrix(),this._worldMatrix);else for(var C$t=this._getlocalMatrix(),C$e=0;C$e<16;++C$e)this._worldMatrix[C$e]=C$t[C$e];this._worldUpdate=!1}return this._worldMatrix},C$s.setParent=function(C$t){var C$e,C$i;this._parent!==C$t&&(this._parent&&(C$i=(C$e=this._parent._childs).indexOf(this),C$e.splice(C$i,1)),C$t&&(C$t._childs.push(this),C$t&&this._onWorldTransform()),this._parent=C$t)},C$h(n7xij1,["_tempVector3",function(){return this._tempVector3=new Float32Array(3)},"_angleToRandin",function(){return this._angleToRandin=180/Math.PI}]),n7xij1),C$s=(C$t(c6dg8t,"laya.d3.component.Component3D",C$m),C$s=c6dg8t.prototype,C$b.imps(C$s,{"laya.d3.core.render.IUpdate":!0,"laya.resource.IDestroy":!0}),C$s._initialize=function(C$t){this._owner=C$t,this._enable=!0,this.started=!1,this._load(C$t)},C$s._destroy=function(){this._unload(this._owner),this._owner=null,this._destroyed=!0},C$s._load=function(C$t){},C$s._start=function(C$t){},C$s._update=function(C$t){},C$s._lateUpdate=function(C$t){},C$s._preRenderUpdate=function(C$t){},C$s._postRenderUpdate=function(C$t){},C$s._unload=function(C$t){this.offAll()},C$s._cloneTo=function(C$t){},C$e(0,C$s,"id",function(){return this._id}),C$e(0,C$s,"destroyed",function(){return this._destroyed}),C$e(0,C$s,"owner",function(){return this._owner}),C$e(0,C$s,"enable",function(){return this._enable},function(C$t){this._enable!==C$t&&(this._enable=C$t,this.event("enablechanged",this._enable))}),C$e(0,C$s,"isSingleton",function(){return c6dg8t._isSingleton}),c6dg8t._isSingleton=!0,c6dg8t._uniqueIDCounter=1,c6dg8t),C$ye=(C$t(xn341i,"laya.d3.core.GeometryFilter",C$m),C$ye=xn341i.prototype,C$b.imps(C$ye,{"laya.resource.IDestroy":!0}),C$ye._destroy=function(){this.offAll(),this._destroyed=!0},C$e(0,C$ye,"_isAsyncLoaded",function(){return!0}),C$e(0,C$ye,"_originalBoundingBoxCorners",function(){throw new Error("BaseRender: must override it.")}),C$e(0,C$ye,"_originalBoundingSphere",function(){throw new Error("BaseRender: must override it.")}),C$e(0,C$ye,"_originalBoundingBox",function(){throw new Error("BaseRender: must override it.")}),C$e(0,C$ye,"destroyed",function(){return this._destroyed}),xn341i),C$be=(C$t(koq0b5,"laya.d3.core.render.BaseRender",C$m),C$a=koq0b5.prototype,C$b.imps(C$a,{"laya.resource.IDestroy":!0}),C$a._changeMaterialReference=function(C$t,C$e){C$t&&C$t._removeReference(),C$e._addReference()},C$a._getInstanceMaterial=function(C$t,C$e){var C$i=new C$t.constructor;return C$t.cloneTo(C$i),C$i.name=C$i.name+"(Instance)",this._materialsInstance[C$e]=!0,this._changeMaterialReference(this._materials[C$e],C$i),this._materials[C$e]=C$i},C$a._setShaderValuelightMap=function(C$t){this._setShaderValueTexture(3,C$t)},C$a._onWorldMatNeedChange=function(){this._boundingSphereNeedChange=!0,this._boundingBoxNeedChange=!0,this._boundingBoxCenterNeedChange=!0,this._octreeNodeNeedChange=!0},C$a._renderRenderableBoundBox=function(){var C$t=C$ve._debugPhasorSprite,C$e=this.boundingBox,C$i=koq0b5._tempBoundBoxCorners;C$e.getCorners(C$i),C$t.line(C$i[0],koq0b5._greenColor,C$i[1],koq0b5._greenColor),C$t.line(C$i[2],koq0b5._greenColor,C$i[3],koq0b5._greenColor),C$t.line(C$i[4],koq0b5._greenColor,C$i[5],koq0b5._greenColor),C$t.line(C$i[6],koq0b5._greenColor,C$i[7],koq0b5._greenColor),C$t.line(C$i[0],koq0b5._greenColor,C$i[3],koq0b5._greenColor),C$t.line(C$i[1],koq0b5._greenColor,C$i[2],koq0b5._greenColor),C$t.line(C$i[2],koq0b5._greenColor,C$i[6],koq0b5._greenColor),C$t.line(C$i[3],koq0b5._greenColor,C$i[7],koq0b5._greenColor),C$t.line(C$i[0],koq0b5._greenColor,C$i[4],koq0b5._greenColor),C$t.line(C$i[1],koq0b5._greenColor,C$i[5],koq0b5._greenColor),C$t.line(C$i[4],koq0b5._greenColor,C$i[7],koq0b5._greenColor),C$t.line(C$i[5],koq0b5._greenColor,C$i[6],koq0b5._greenColor)},C$a._calculateBoundingSphere=function(){throw"BaseRender: must override it."},C$a._calculateBoundingBox=function(){throw"BaseRender: must override it."},C$a._setShaderValueTexture=function(C$t,C$e){this._owner._shaderValues.setValue(C$t,C$e)},C$a._setShaderValueMatrix4x4=function(C$t,C$e){this._owner._shaderValues.setValue(C$t,C$e?C$e.elements:null)},C$a._setShaderValueColor=function(C$t,C$e){this._owner._shaderValues.setValue(C$t,C$e?C$e.elements:null)},C$a._setShaderValueBuffer=function(C$t,C$e){this._owner._shaderValues.setValue(C$t,C$e)},C$a._setShaderValueInt=function(C$t,C$e){this._owner._shaderValues.setValue(C$t,C$e)},C$a._setShaderValueBool=function(C$t,C$e){this._owner._shaderValues.setValue(C$t,C$e)},C$a._setShaderValueNumber=function(C$t,C$e){this._owner._shaderValues.setValue(C$t,C$e)},C$a._setShaderValueVector2=function(C$t,C$e){this._owner._shaderValues.setValue(C$t,C$e?C$e.elements:null)},C$a._addShaderDefine=function(C$t){this._owner._shaderDefineValue|=C$t},C$a._removeShaderDefine=function(C$t){this._owner._shaderDefineValue&=~C$t},C$a._renderUpdate=function(C$t){return!0},C$a._applyLightMapParams=function(){var C$t,C$e;0<=this._lightmapIndex&&(C$t=this._owner.scene)&&(C$e=C$t.getlightmaps()[this._lightmapIndex])?(this._addShaderDefine(C$Ue.SAHDERDEFINE_LIGHTMAP),C$e.loaded?this._setShaderValuelightMap(C$e):C$e.once("loaded",this,this._setShaderValuelightMap)):this._removeShaderDefine(C$Ue.SAHDERDEFINE_LIGHTMAP)},C$a._updateOctreeNode=function(){var C$t=this._treeNode;C$t&&this._octreeNodeNeedChange&&(C$t.updateObject(this),this._octreeNodeNeedChange=!1)},C$a._destroy=function(){this.offAll();var C$t=0,C$e=0;for(C$t=0,C$e=this._renderElements.length;C$t<C$e;C$t++)this._renderElements[C$t]._destroy();for(C$t=0,C$e=this._materials.length;C$t<C$e;C$t++)this._materials[C$t]._removeReference();this._renderElements=null,this._owner=null,this._materials=null,this._boundingBox=null,this._boundingBoxCenter=null,this._boundingSphere=null,this._lightmapScaleOffset=null,this._destroyed=!0},C$e(0,C$a,"boundingSphere",function(){return this._boundingSphereNeedChange&&(this._calculateBoundingSphere(),this._boundingSphereNeedChange=!1),this._boundingSphere}),C$e(0,C$a,"id",function(){return this._id}),C$e(0,C$a,"material",function(){var C$t=this._materials[0];return C$t&&!this._materialsInstance[0]&&(C$t=this._getInstanceMaterial(C$t,0),this.event("materialchanged",[this,0,C$t])),this._materials[0]},function(C$t){this.sharedMaterial=C$t}),C$e(0,C$a,"sharedMaterial",function(){return this._materials[0]},function(C$t){var C$e=this._materials[0];C$e!==C$t&&(this._materials[0]=C$t,this._materialsInstance[0]=!1,this._changeMaterialReference(C$e,C$t),this.event("materialchanged",[this,0,C$t]))}),C$e(0,C$a,"lightmapIndex",function(){return this._lightmapIndex},function(C$t){this._lightmapIndex=C$t,this._applyLightMapParams()}),C$e(0,C$a,"lightmapScaleOffset",function(){return this._lightmapScaleOffset},function(C$t){this._lightmapScaleOffset=C$t,this._setShaderValueColor(2,C$t),this._addShaderDefine(C$Ue.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV)}),C$e(0,C$a,"enable",function(){return this._enable},function(C$t){this._enable=C$t,this.event("enablechanged",[this,C$t])}),C$e(0,C$a,"materials",function(){for(var C$t=0,C$e=this._materials.length;C$t<C$e;C$t++){var C$i;this._materialsInstance[C$t]||(C$i=this._getInstanceMaterial(this._materials[C$t],C$t),this.event("materialchanged",[this,C$t,C$i]))}return this._materials.slice()},function(C$t){this.sharedMaterials=C$t}),C$e(0,C$a,"sharedMaterials",function(){return this._materials.slice()},function(C$t){if(!C$t)throw new Error("MeshRender: shadredMaterials value can't be null.");var C$e=C$t.length;this._materialsInstance.length=C$e;for(var C$i=0;C$i<C$e;C$i++){var C$n=this._materials[C$i];C$n!==C$t[C$i]&&(this._materialsInstance[C$i]=!1,this._changeMaterialReference(C$n,C$t[C$i]),this.event("materialchanged",[this,C$i,C$t[C$i]]))}this._materials=C$t}),C$e(0,C$a,"boundingBox",function(){return this._boundingBoxNeedChange&&(this._calculateBoundingBox(),this._boundingBoxNeedChange=!1),this._boundingBox}),C$e(0,C$a,"boundingBoxCenter",function(){var C$t;return this._boundingBoxCenterNeedChange&&(C$t=this.boundingBox,C$A.add(C$t.min,C$t.max,this._boundingBoxCenter),C$A.scale(this._boundingBoxCenter,.5,this._boundingBoxCenter),this._boundingBoxCenterNeedChange=!1),this._boundingBoxCenter}),C$e(0,C$a,"receiveShadow",function(){return this._receiveShadow},function(C$t){this._receiveShadow!==C$t&&((this._receiveShadow=C$t)?this._addShaderDefine(C$fe.SHADERDEFINE_RECEIVE_SHADOW):this._removeShaderDefine(C$fe.SHADERDEFINE_RECEIVE_SHADOW))}),C$e(0,C$a,"destroyed",function(){return this._destroyed}),koq0b5._uniqueIDCounter=0,C$h(koq0b5,["_tempBoundBoxCorners",function(){return this._tempBoundBoxCorners=[new C$A,new C$A,new C$A,new C$A,new C$A,new C$A,new C$A,new C$A]},"_greenColor",function(){return this._greenColor=new C$he(0,1,0,1)}]),koq0b5),C$we=(C$t(i17jn,"laya.d3.core.Transform3D",C$m),(C$a=i17jn.prototype)._updateLocalMatrix=function(){var C$t,C$e,C$i,C$n;!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?C$ie.createAffineTransformation(this._localPosition,this.localRotation,this._localScale,this._localMatrix):(C$A.multiply(this.pivot,this._localScale,C$n=i17jn._tempVector30),C$A.subtract(C$n,this.pivot,C$t=i17jn._tempVector31),C$i=this.localRotation,C$A.transformQuat(C$n,C$i,C$e=i17jn._tempVector32),C$A.subtract(C$e,C$n,C$e),C$A.subtract(this._localPosition,C$t,C$n=i17jn._tempVector33),C$A.subtract(C$n,C$e,C$n),C$ie.createAffineTransformation(C$n,C$i,this._localScale,this._localMatrix))},C$a._onWorldPositionRotationTransform=function(){if(!this._worldUpdate||!this._positionUpdate||!this._rotationUpdate){this._worldUpdate=this._positionUpdate=this._rotationUpdate=!0,this.event("worldmatrixneedchanged");for(var C$t=0,C$e=this._childs.length;C$t<C$e;C$t++)this._childs[C$t]._onWorldPositionRotationTransform()}},C$a._onWorldPositionScaleTransform=function(){if(!this._worldUpdate||!this._positionUpdate||!this._scaleUpdate){this._worldUpdate=this._positionUpdate=this._scaleUpdate=!0,this.event("worldmatrixneedchanged");for(var C$t=0,C$e=this._childs.length;C$t<C$e;C$t++)this._childs[C$t]._onWorldPositionScaleTransform()}},C$a._onWorldPositionTransform=function(){if(!this._worldUpdate||!this._positionUpdate){this._worldUpdate=this._positionUpdate=!0,this.event("worldmatrixneedchanged");for(var C$t=0,C$e=this._childs.length;C$t<C$e;C$t++)this._childs[C$t]._onWorldPositionTransform()}},C$a._onWorldRotationTransform=function(){if(!this._worldUpdate||!this._rotationUpdate){this._worldUpdate=this._rotationUpdate=!0,this.event("worldmatrixneedchanged");for(var C$t=0,C$e=this._childs.length;C$t<C$e;C$t++)this._childs[C$t]._onWorldPositionRotationTransform()}},C$a._onWorldScaleTransform=function(){if(!this._worldUpdate||!this._scaleUpdate){this._worldUpdate=this._scaleUpdate=!0,this.event("worldmatrixneedchanged");for(var C$t=0,C$e=this._childs.length;C$t<C$e;C$t++)this._childs[C$t]._onWorldPositionScaleTransform()}},C$a._onWorldTransform=function(){if(!(this._worldUpdate&&this._positionUpdate&&this._rotationUpdate&&this._scaleUpdate)){this._worldUpdate=this._positionUpdate=this._rotationUpdate=this._scaleUpdate=!0,this.event("worldmatrixneedchanged");for(var C$t=0,C$e=this._childs.length;C$t<C$e;C$t++)this._childs[C$t]._onWorldTransform()}},C$a.translate=function(C$t,C$e){(C$e=void 0===C$e?!0:C$e)?(C$ie.createFromQuaternion(this.localRotation,i17jn._tempMatrix0),C$A.transformCoordinate(C$t,i17jn._tempMatrix0,i17jn._tempVector30),C$A.add(this.localPosition,i17jn._tempVector30,this._localPosition),this.localPosition=this._localPosition):(C$A.add(this.position,C$t,this._position),this.position=this._position)},C$a.rotate=function(C$t,C$e,C$i){void 0===C$e&&(C$e=!0),C$i=(C$i=void 0===C$i?!0:C$i)?C$t:(C$A.scale(C$t,Math.PI/180,i17jn._tempVector30),i17jn._tempVector30),C$re.createFromYawPitchRoll(C$i.y,C$i.x,C$i.z,i17jn._tempQuaternion0),C$e?(C$re.multiply(this._localRotation,i17jn._tempQuaternion0,this._localRotation),this.localRotation=this._localRotation):(C$re.multiply(i17jn._tempQuaternion0,this.rotation,this._rotation),this.rotation=this._rotation)},C$a.lookAt=function(C$t,C$e,C$i){var C$n,C$r=C$t.elements;(C$i=void 0===C$i?!1:C$i)?(C$n=this._localPosition.elements,Math.abs(C$n[0]-C$r[0])<C$te.zeroTolerance&&Math.abs(C$n[1]-C$r[1])<C$te.zeroTolerance&&Math.abs(C$n[2]-C$r[2])<C$te.zeroTolerance||(C$re.lookAt(this._localPosition,C$t,C$e,this._localRotation),this._localRotation.invert(this._localRotation),this.localRotation=this._localRotation)):(C$n=(C$i=this.position).elements,Math.abs(C$n[0]-C$r[0])<C$te.zeroTolerance&&Math.abs(C$n[1]-C$r[1])<C$te.zeroTolerance&&Math.abs(C$n[2]-C$r[2])<C$te.zeroTolerance||(C$re.lookAt(C$i,C$t,C$e,this._rotation),this._rotation.invert(this._rotation),this.rotation=this._rotation))},C$e(0,C$a,"_isFrontFaceInvert",function(){var C$t=this.scale,C$e=C$t.x<0;return C$t.y<0&&(C$e=!C$e),C$e=C$t.z<0?!C$e:C$e}),C$e(0,C$a,"owner",function(){return this._owner}),C$e(0,C$a,"localRotation",function(){var C$t;return this._localQuaternionUpdate&&(C$t=this._localRotationEuler.elements,C$re.createFromYawPitchRoll(C$t[1]/i17jn._angleToRandin,C$t[0]/i17jn._angleToRandin,C$t[2]/i17jn._angleToRandin,this._localRotation)),this._localRotation},function(C$t){this._localRotation=C$t,this._localRotation.normalize(this._localRotation),this._locaEulerlUpdate=!0,this._localQuaternionUpdate=!1,this._localUpdate=!0,!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?this._onWorldRotationTransform():this._onWorldPositionRotationTransform()}),C$e(0,C$a,"worldMatrix",function(){return this._worldUpdate&&(null!=this._parent?C$ie.multiply(this._parent.worldMatrix,this.localMatrix,this._worldMatrix):this.localMatrix.cloneTo(this._worldMatrix),this._worldUpdate=!1),this._worldMatrix},function(C$t){null===this._parent?C$t.cloneTo(this._localMatrix):(this._parent.worldMatrix.invert(this._localMatrix),C$ie.multiply(this._localMatrix,C$t,this._localMatrix)),this.localMatrix=this._localMatrix,this._worldMatrix=C$t,this._worldUpdate=!1}),C$e(0,C$a,"worldNeedUpdate",function(){return this._worldUpdate}),C$e(0,C$a,"localMatrix",function(){return this._localUpdate&&(this._updateLocalMatrix(),this._localUpdate=!1),this._localMatrix},function(C$t){this._localMatrix=C$t,this._localMatrix.decomposeTransRotScale(this._localPosition,this._localRotation,this._localScale),this._localUpdate=!1,this._onWorldTransform()}),C$e(0,C$a,"dummy",function(){return this._dummy},function(C$t){this._dummy!==C$t&&(this._dummy&&(this._dummy._entity=null),C$t&&(C$t._entity=this),this._dummy=C$t)}),C$e(0,C$a,"localPosition",function(){return this._localPosition},function(C$t){this._localPosition=C$t,this._localUpdate=!0,this._onWorldPositionTransform()}),C$e(0,C$a,"position",function(){var C$t;return this._positionUpdate&&(null!=this._parent?(C$t=this._parent.position,C$A.multiply(this._localPosition,this._parent.scale,i17jn._tempVector30),C$A.transformQuat(i17jn._tempVector30,this._parent.rotation,i17jn._tempVector30),C$A.add(C$t,i17jn._tempVector30,this._position)):this._localPosition.cloneTo(this._position),this._positionUpdate=!1),this._position},function(C$t){var C$e,C$i,C$n,C$r,C$s;null!=this._parent?(C$A.subtract(C$t,this._parent.position,this._localPosition),C$e=(C$n=this._parent.scale.elements)[0],C$i=C$n[1],C$n=C$n[2],1===C$e&&1===C$i&&1===C$n||((C$s=(C$r=i17jn._tempVector30).elements)[0]=1/C$e,C$s[1]=1/C$i,C$s[2]=1/C$n,C$A.multiply(this._localPosition,C$r,this._localPosition)),this._parent.rotation.invert(i17jn._tempQuaternion0),C$A.transformQuat(this._localPosition,i17jn._tempQuaternion0,this._localPosition)):C$t.cloneTo(this._localPosition),this.localPosition=this._localPosition,this._position=C$t,this._positionUpdate=!1}),C$e(0,C$a,"localScale",function(){return this._localScale},function(C$t){this._localScale=C$t,this._localUpdate=!0,!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?this._onWorldScaleTransform():this._onWorldPositionScaleTransform()}),C$e(0,C$a,"localRotationEuler",function(){var C$t,C$e;return this._locaEulerlUpdate&&(this._localRotation.getYawPitchRoll(i17jn._tempVector30),C$t=i17jn._tempVector30.elements,(C$e=this._localRotationEuler.elements)[0]=C$t[1]*i17jn._angleToRandin,C$e[1]=C$t[0]*i17jn._angleToRandin,C$e[2]=C$t[2]*i17jn._angleToRandin),this._localRotationEuler},function(C$t){this._localRotationEuler=C$t,this._locaEulerlUpdate=!1,this._localQuaternionUpdate=!0,this._localUpdate=!0,!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?this._onWorldRotationTransform():this._onWorldPositionRotationTransform()}),C$e(0,C$a,"rotation",function(){return this._rotationUpdate&&(null!=this._parent?C$re.multiply(this._parent.rotation,this.localRotation,this._rotation):this.localRotation.cloneTo(this._rotation),this._rotationUpdate=!1),this._rotation},function(C$t){null!=this._parent?(this._parent.rotation.invert(i17jn._tempQuaternion0),C$re.multiply(C$t,i17jn._tempQuaternion0,this._localRotation)):C$t.cloneTo(this._localRotation),this.localRotation=this._localRotation,this._rotation=C$t,this._rotationUpdate=!1}),C$e(0,C$a,"scale",function(){return this._scaleUpdate&&(null!==this._parent?C$A.multiply(this._parent.scale,this._localScale,this._scale):this._localScale.cloneTo(this._scale),this._scaleUpdate=!1),this._scale},function(C$t){var C$e,C$i;null!==this._parent?(C$e=this._parent.scale.elements,(C$i=i17jn._tempVector30.elements)[0]=1/C$e[0],C$i[1]=1/C$e[1],C$i[2]=1/C$e[2],C$A.multiply(C$t,i17jn._tempVector30,this._localScale)):C$t.cloneTo(this._localScale),this.localScale=this._localScale,this._scale=C$t,this._scaleUpdate=!1}),C$e(0,C$a,"rotationEuler",null,function(C$t){C$re.createFromYawPitchRoll(C$t.y,C$t.x,C$t.z,this._rotation),this.rotation=this._rotation}),C$e(0,C$a,"forward",function(){var C$t=this.worldMatrix.elements;return this._forward.elements[0]=-C$t[8],this._forward.elements[1]=-C$t[9],this._forward.elements[2]=-C$t[10],this._forward}),C$e(0,C$a,"up",function(){var C$t=this.worldMatrix.elements;return this._up.elements[0]=C$t[4],this._up.elements[1]=C$t[5],this._up.elements[2]=C$t[6],this._up}),C$e(0,C$a,"right",function(){var C$t=this.worldMatrix.elements;return this._right.elements[0]=C$t[0],this._right.elements[1]=C$t[1],this._right.elements[2]=C$t[2],this._right}),C$e(0,C$a,"parent",function(){return this._parent},function(C$t){var C$e,C$i;this._parent!==C$t&&(this._parent&&(C$i=(C$e=this._parent._childs).indexOf(this),C$e.splice(C$i,1)),C$t&&(C$t._childs.push(this),C$t&&this._onWorldTransform()),this._parent=C$t)}),C$h(i17jn,["_tempVector30",function(){return this._tempVector30=new C$A},"_tempVector31",function(){return this._tempVector31=new C$A},"_tempVector32",function(){return this._tempVector32=new C$A},"_tempVector33",function(){return this._tempVector33=new C$A},"_tempQuaternion0",function(){return this._tempQuaternion0=new C$re},"_tempMatrix0",function(){return this._tempMatrix0=new C$ie},"_angleToRandin",function(){return this._angleToRandin=180/Math.PI}]),i17jn),C$Te=(C$t(l1a3,"laya.d3.core.TransformUV",C$m),C$a=l1a3.prototype,C$b.imps(C$a,{"laya.d3.core.IClone":!0}),C$a._updateMatrix=function(){l1a3._tempOffsetV3.elements[0]=this._offset.x,l1a3._tempOffsetV3.elements[1]=this._offset.y,C$re.createFromYawPitchRoll(0,0,this._rotation,l1a3._tempRotationQua),l1a3._tempTitlingV3.elements[0]=this._tiling.x,l1a3._tempTitlingV3.elements[1]=this._tiling.y,C$ie.createAffineTransformation(l1a3._tempOffsetV3,l1a3._tempRotationQua,l1a3._tempTitlingV3,this._matrix)},C$a.cloneTo=function(C$t){C$t._matrix=this._matrix.clone(),C$t._offset=this._offset.clone(),C$t._rotation=this._rotation,C$t._tiling=this._tiling.clone()},C$a.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$e(0,C$a,"matrix",function(){return this._matNeedUpdte&&(this._updateMatrix(),this._matNeedUpdte=!1),this._matrix}),C$e(0,C$a,"tiling",function(){return this._tiling},function(C$t){this._tiling=C$t,this._matNeedUpdte=!0}),C$e(0,C$a,"offset",function(){return this._offset},function(C$t){this._offset=C$t,this._matNeedUpdte=!0}),C$e(0,C$a,"rotation",function(){return this._rotation},function(C$t){this._rotation=C$t,this._matNeedUpdte=!0}),C$h(l1a3,["_tempOffsetV3",function(){return this._tempOffsetV3=new C$A(0,0,0)},"_tempRotationQua",function(){return this._tempRotationQua=new C$re},"_tempTitlingV3",function(){return this._tempTitlingV3=new C$A(1,1,1)}]),C$t(_epzth,"laya.d3.core.particleShuriKen.module.shape.BoxShape",C$ri=C$i),(C$m=_epzth.prototype)._getShapeBoundBox=function(C$t){var C$e=C$t.min.elements;C$e[0]=.5*-this.x,C$e[1]=.5*-this.y,C$e[2]=.5*-this.z;C$e=C$t.max.elements;C$e[0]=.5*this.x,C$e[1]=.5*this.y,C$e[2]=.5*this.z},C$m._getSpeedBoundBox=function(C$t){var C$e=C$t.min.elements;C$e[0]=0,C$e[1]=0,C$e[2]=0;C$e=C$t.max.elements;C$e[0]=0,C$e[1]=1,C$e[2]=0},C$m.generatePositionAndDirection=function(C$t,C$e,C$i,C$n){var C$r=C$t.elements,C$s=C$e.elements;C$i?(C$i.seed=C$n[16],C$Y._randomPointInsideHalfUnitBox(C$t,C$i),C$n[16]=C$i.seed):C$Y._randomPointInsideHalfUnitBox(C$t),C$r[0]=this.x*C$r[0],C$r[1]=this.y*C$r[1],C$r[2]=this.z*C$r[2],this.randomDirection?C$i?(C$i.seed=C$n[17],C$Y._randomPointUnitSphere(C$e,C$i),C$n[17]=C$i.seed):C$Y._randomPointUnitSphere(C$e):(C$s[0]=0,C$s[1]=0,C$s[2]=1)},C$m.cloneTo=function(C$t){C$ri.prototype.cloneTo.call(this,C$t);C$t.x=this.x,C$t.y=this.y,C$t.z=this.z,C$t.randomDirection=this.randomDirection},C$t(nx7iv,"laya.d3.core.particleShuriKen.module.shape.CircleShape",C$ni=C$i),(C$a=nx7iv.prototype)._getShapeBoundBox=function(C$t){var C$e=C$t.min.elements;C$e[0]=C$e[2]=-this.radius,C$e[1]=0;C$e=C$t.max.elements;C$e[0]=C$e[2]=this.radius,C$e[1]=0},C$a._getSpeedBoundBox=function(C$t){var C$e=C$t.min.elements;C$e[0]=C$e[1]=-1,C$e[2]=0;C$e=C$t.max.elements;C$e[0]=C$e[1]=1,C$e[2]=0},C$a.generatePositionAndDirection=function(C$t,C$e,C$i,C$n){var C$r=C$t.elements,C$s=nx7iv._tempPositionPoint.elements;C$i?(C$i.seed=C$n[16],this.emitFromEdge?C$Y._randomPointUnitArcCircle(this.arc,nx7iv._tempPositionPoint,C$i):C$Y._randomPointInsideUnitArcCircle(this.arc,nx7iv._tempPositionPoint,C$i),C$n[16]=C$i.seed):this.emitFromEdge?C$Y._randomPointUnitArcCircle(this.arc,nx7iv._tempPositionPoint):C$Y._randomPointInsideUnitArcCircle(this.arc,nx7iv._tempPositionPoint),C$r[0]=-C$s[0],C$r[1]=C$s[1],C$r[2]=0,C$A.scale(C$t,this.radius,C$t),this.randomDirection?C$i?(C$i.seed=C$n[17],C$Y._randomPointUnitSphere(C$e,C$i),C$n[17]=C$i.seed):C$Y._randomPointUnitSphere(C$e):C$t.cloneTo(C$e)},C$a.cloneTo=function(C$t){C$ni.prototype.cloneTo.call(this,C$t);C$t.radius=this.radius,C$t.arc=this.arc,C$t.emitFromEdge=this.emitFromEdge,C$t.randomDirection=this.randomDirection},C$h(nx7iv,["_tempPositionPoint",function(){return this._tempPositionPoint=new C$oe}]),C$t(oqyr5b,"laya.d3.core.particleShuriKen.module.shape.ConeShape",C$ii=C$i),(C$m=oqyr5b.prototype)._getShapeBoundBox=function(C$t){var C$e=this.radius+this.length*Math.sin(this.angle),C$i=this.length*Math.cos(this.angle),C$n=C$t.min.elements;C$n[0]=C$n[1]=-C$e,C$n[2]=0;C$n=C$t.max.elements;C$n[0]=C$n[1]=C$e,C$n[2]=C$i},C$m._getSpeedBoundBox=function(C$t){var C$e=Math.sin(this.angle),C$i=C$t.min.elements;C$i[0]=C$i[1]=-C$e,C$i[2]=0;C$t=C$t.max.elements;C$t[0]=C$i[1]=C$e,C$t[2]=1},C$m.generatePositionAndDirection=function(C$u,C$t,C$e,C$i){var C$n,C$r=C$u.elements,C$s=C$t.elements,C$a=oqyr5b._tempPositionPoint.elements,C$o=NaN,C$h=NaN,C$c=Math.cos(this.angle),C$l=Math.sin(this.angle);switch(this.emitType){case 0:C$e?(C$e.seed=C$i[16],C$Y._randomPointInsideUnitCircle(oqyr5b._tempPositionPoint,C$e),C$i[16]=C$e.seed):C$Y._randomPointInsideUnitCircle(oqyr5b._tempPositionPoint),C$o=C$a[0],C$h=C$a[1],C$r[0]=C$o*this.radius,C$r[1]=C$h*this.radius,C$r[2]=0,this.randomDirection?(C$e?(C$e.seed=C$i[17],C$Y._randomPointInsideUnitCircle(oqyr5b._tempDirectionPoint,C$e),C$i[17]=C$e.seed):C$Y._randomPointInsideUnitCircle(oqyr5b._tempDirectionPoint),C$n=oqyr5b._tempDirectionPoint.elements,C$s[0]=C$n[0]*C$l,C$s[1]=C$n[1]*C$l):(C$s[0]=C$o*C$l,C$s[1]=C$h*C$l),C$s[2]=C$c;break;case 1:C$e?(C$e.seed=C$i[16],C$Y._randomPointUnitCircle(oqyr5b._tempPositionPoint,C$e),C$i[16]=C$e.seed):C$Y._randomPointUnitCircle(oqyr5b._tempPositionPoint),C$o=C$a[0],C$h=C$a[1],C$r[0]=C$o*this.radius,C$r[1]=C$h*this.radius,C$r[2]=0,this.randomDirection?(C$e?(C$e.seed=C$i[17],C$Y._randomPointInsideUnitCircle(oqyr5b._tempDirectionPoint,C$e),C$i[17]=C$e.seed):C$Y._randomPointInsideUnitCircle(oqyr5b._tempDirectionPoint),C$n=oqyr5b._tempDirectionPoint.elements,C$s[0]=C$n[0]*C$l,C$s[1]=C$n[1]*C$l):(C$s[0]=C$o*C$l,C$s[1]=C$h*C$l),C$s[2]=C$c;break;case 2:C$e?(C$e.seed=C$i[16],C$Y._randomPointInsideUnitCircle(oqyr5b._tempPositionPoint,C$e)):C$Y._randomPointInsideUnitCircle(oqyr5b._tempPositionPoint),C$o=C$a[0],C$h=C$a[1],C$r[0]=C$o*this.radius,C$r[1]=C$h*this.radius,C$s[C$r[2]=0]=C$o*C$l,C$s[1]=C$h*C$l,C$s[2]=C$c,C$A.normalize(C$t,C$t),C$e?(C$A.scale(C$t,this.length*C$e.getFloat(),C$t),C$i[16]=C$e.seed):C$A.scale(C$t,this.length*Math.random(),C$t),C$A.add(C$u,C$t,C$u),this.randomDirection&&(C$e?(C$e.seed=C$i[17],C$Y._randomPointUnitSphere(C$t,C$e),C$i[17]=C$e.seed):C$Y._randomPointUnitSphere(C$t));break;case 3:C$e?(C$e.seed=C$i[16],C$Y._randomPointUnitCircle(oqyr5b._tempPositionPoint,C$e)):C$Y._randomPointUnitCircle(oqyr5b._tempPositionPoint),C$o=C$a[0],C$h=C$a[1],C$r[0]=C$o*this.radius,C$r[1]=C$h*this.radius,C$s[C$r[2]=0]=C$o*C$l,C$s[1]=C$h*C$l,C$s[2]=C$c,C$A.normalize(C$t,C$t),C$e?(C$A.scale(C$t,this.length*C$e.getFloat(),C$t),C$i[16]=C$e.seed):C$A.scale(C$t,this.length*Math.random(),C$t),C$A.add(C$u,C$t,C$u),this.randomDirection&&(C$e?(C$e.seed=C$i[17],C$Y._randomPointUnitSphere(C$t,C$e),C$i[17]=C$e.seed):C$Y._randomPointUnitSphere(C$t));break;default:throw new Error("ConeShape:emitType is invalid.")}},C$m.cloneTo=function(C$t){C$ii.prototype.cloneTo.call(this,C$t);C$t.angle=this.angle,C$t.radius=this.radius,C$t.length=this.length,C$t.emitType=this.emitType,C$t.randomDirection=this.randomDirection},C$h(oqyr5b,["_tempPositionPoint",function(){return this._tempPositionPoint=new C$oe},"_tempDirectionPoint",function(){return this._tempDirectionPoint=new C$oe}]),C$t(r5qvy,"laya.d3.core.particleShuriKen.module.shape.HemisphereShape",C$ei=C$i),(C$a=r5qvy.prototype)._getShapeBoundBox=function(C$t){var C$e=C$t.min.elements;C$e[0]=C$e[1]=C$e[2]=-this.radius;C$e=C$t.max.elements;C$e[0]=C$e[1]=this.radius,C$e[2]=0},C$a._getSpeedBoundBox=function(C$t){var C$e=C$t.min.elements;C$e[0]=C$e[1]=-1,C$e[2]=0;C$e=C$t.max.elements;C$e[0]=C$e[1]=C$e[2]=1},C$a.generatePositionAndDirection=function(C$t,C$e,C$i,C$n){var C$r=C$t.elements;C$i?(C$i.seed=C$n[16],this.emitFromShell?C$Y._randomPointUnitSphere(C$t,C$i):C$Y._randomPointInsideUnitSphere(C$t,C$i),C$n[16]=C$i.seed):this.emitFromShell?C$Y._randomPointUnitSphere(C$t):C$Y._randomPointInsideUnitSphere(C$t),C$A.scale(C$t,this.radius,C$t);var C$s=C$r[2];C$s<0&&(C$r[2]=-1*C$s),this.randomDirection?C$i?(C$i.seed=C$n[17],C$Y._randomPointUnitSphere(C$e,C$i),C$n[17]=C$i.seed):C$Y._randomPointUnitSphere(C$e):C$t.cloneTo(C$e)},C$a.cloneTo=function(C$t){C$ei.prototype.cloneTo.call(this,C$t);C$t.radius=this.radius,C$t.emitFromShell=this.emitFromShell,C$t.randomDirection=this.randomDirection},C$t(_f2p,"laya.d3.core.particleShuriKen.module.shape.SphereShape",C$ti=C$i),(C$m=_f2p.prototype)._getShapeBoundBox=function(C$t){var C$e=C$t.min.elements;C$e[0]=C$e[1]=C$e[2]=-this.radius;C$e=C$t.max.elements;C$e[0]=C$e[1]=C$e[2]=this.radius},C$m._getSpeedBoundBox=function(C$t){var C$e=C$t.min.elements;C$e[0]=C$e[1]=C$e[2]=-1;C$e=C$t.max.elements;C$e[0]=C$e[1]=C$e[2]=1},C$m.generatePositionAndDirection=function(C$t,C$e,C$i,C$n){C$i?(C$i.seed=C$n[16],this.emitFromShell?C$Y._randomPointUnitSphere(C$t,C$i):C$Y._randomPointInsideUnitSphere(C$t,C$i),C$n[16]=C$i.seed):this.emitFromShell?C$Y._randomPointUnitSphere(C$t):C$Y._randomPointInsideUnitSphere(C$t),C$A.scale(C$t,this.radius,C$t),this.randomDirection?C$i?(C$i.seed=C$n[17],C$Y._randomPointUnitSphere(C$e,C$i),C$n[17]=C$i.seed):C$Y._randomPointUnitSphere(C$e):C$t.cloneTo(C$e)},C$m.cloneTo=function(C$t){C$ti.prototype.cloneTo.call(this,C$t);C$t.radius=this.radius,C$t.emitFromShell=this.emitFromShell,C$t.randomDirection=this.randomDirection},C$t(xi1n7,"laya.d3.core.render.SubMeshRenderElement",C$K),xi1n7),C$Me=(C$t(i7rx,"laya.d3.shader.ShaderCompile3D",C$E),(C$a=i7rx.prototype)._definesToNameDic=function(C$t,C$e){for(var C$i={},C$n=1,C$r=0;C$r<32&&!(C$t<(C$n=1<<C$r));C$r++){var C$s;C$t&C$n&&((C$s=C$e[C$n])&&(C$i[C$s]=""))}return C$i},C$a.withCompile=function(C$t,C$e,C$i,C$u){var C$n,C$r;if(C$a=this.sharders[C$t])if(C$r=C$a[C$e]){if(C$n=C$r[C$i])return C$n}else C$r=C$a[C$e]=[];else C$r=(C$a=this.sharders[C$t]=[])[C$e]=[];var C$s,C$a=this._definesToNameDic(C$t,i7rx._globalInt2name),C$o=this._definesToNameDic(C$e,this._spriteInt2name),C$c=this._definesToNameDic(C$i,this._materialInt2name),C$h={},C$l="";if(C$a)for(C$s in C$a)C$l+="#define "+C$s+"\n",C$h[C$s]=!0;if(C$o)for(C$s in C$o)C$l+="#define "+C$s+"\n",C$h[C$s]=!0;if(C$c)for(C$s in C$c)C$l+="#define "+C$s+"\n",C$h[C$s]=!0;C$a=C$Le.nameKey.getName(this._name)+" compile ("+C$t+","+C$e+","+C$i+")",C$o=this._VS.toscript(C$h,[]),C$c=this._PS.toscript(C$h,[]);return C$M.now(),C$n=C$Le.create(C$l+C$o.join("\n"),C$l+C$c.join("\n"),this._attributeMap,this._sceneUniformMap,this._cameraUniformMap,this._spriteUniformMap,this._materialUniformMap,this._renderElementUniformMap,C$u,C$a),C$r[C$i]=C$n,laya.d3.shader.ShaderCompile3D.debugMode&&C$M.now(),C$n},C$a.precompileShaderWithShaderDefine=function(C$t,C$e,C$i){this.withCompile(C$t,C$e,C$i,!0)},C$a.addMaterialDefines=function(C$t){var C$e=C$t.defines;for(var C$i in C$e){var C$n=C$e[C$i],C$i=parseInt(C$i);this._materialInt2name[C$i]=C$n,this._materialName2Int[C$n]=C$i}},C$a.addSpriteDefines=function(C$t){var C$e=C$t.defines;for(var C$i in C$e){var C$n=C$e[C$i],C$i=parseInt(C$i);this._spriteInt2name[C$i]=C$n,this._spriteName2Int[C$n]=C$i}},C$a.getMaterialDefineByName=function(C$t){return this._materialName2Int[C$t]},C$a.registerMaterialDefine=function(C$t){var C$e=Math.pow(2,this._materialDefineCounter++);return this._materialInt2name[C$e]=C$t,this._materialName2Int[C$t]=C$e},C$a.registerSpriteDefine=function(C$t){var C$e=Math.pow(2,this._spriteDefineCounter++);return this._spriteInt2name[C$e]=C$t,this._spriteName2Int[C$t]=C$e},i7rx._globalRegDefine=function(C$t,C$e){i7rx._globalInt2name[C$e]=C$t},i7rx.add=function(C$t,C$e,C$i,C$n,C$r){return laya.d3.shader.ShaderCompile3D._preCompileShader[C$t]=new i7rx(C$t,C$e,C$i,C$n,C$r,C$E.includes)},i7rx.get=function(C$t){return laya.d3.shader.ShaderCompile3D._preCompileShader[C$Le.nameKey.getID(C$t)]},i7rx._preCompileShader={},i7rx._globalInt2name=[],i7rx.debugMode=!1,i7rx.SHADERDEFINE_HIGHPRECISION=1,i7rx.SHADERDEFINE_FOG=4,i7rx.SHADERDEFINE_DIRECTIONLIGHT=8,i7rx.SHADERDEFINE_POINTLIGHT=16,i7rx.SHADERDEFINE_SPOTLIGHT=32,i7rx.SHADERDEFINE_UV0=64,i7rx.SHADERDEFINE_COLOR=128,i7rx.SHADERDEFINE_UV1=256,i7rx.SAHDERDEFINE_DEPTHFOG=131072,i7rx),C$Se=(C$t(zh_,"laya.d3.graphics.MeshSprite3DStaticBatchManager",C$ot),(C$i=zh_.prototype)._getStaticBatch=function(C$t,C$e,C$i,C$n){var C$r;return C$n=C$t?C$t.id.toString()+C$i.id.toString()+C$e.id.toString()+C$n.toString():C$i.id.toString()+C$e.id.toString()+C$n.toString(),this._staticBatches[C$n]?C$r=this._staticBatches[C$n]:this._staticBatches[C$n]=C$r=new C$Ce(C$n,this,C$t,C$e,C$i),C$r},C$i._initStaticBatchs=function(C$u){var C$t,C$e;this._initBatchRenderElements.sort(zh_._sortPrepareStaticBatch);for(var C$i,C$n=!1,C$r=0,C$s=0,C$c=this._initBatchRenderElements.length;C$s<C$c;C$s++){var C$a,C$o=this._initBatchRenderElements[C$s],C$h=C$o.renderObj._getVertexBuffer(0);var C$l,C$_,C$d;C$o._sprite3D,C$e===C$h.vertexDeclaration&&C$t===C$o._material?C$n?C$i._addCombineBatchRenderObjTest(C$o)?(C$a=C$o._staticBatch)!==C$i&&(C$a&&C$a._deleteCombineBatchRenderObj(C$o),C$i._addCombineBatchRenderObj(C$o)):(C$n=!1,C$r++):(C$_=(C$l=this._initBatchRenderElements[C$s-1]).renderObj,C$d=C$o.renderObj,C$n=!(65535<C$_._getVertexBuffer().vertexCount+C$d._getVertexBuffer().vertexCount||(C$i=this._getStaticBatch(C$u,C$e,C$t,C$r),(C$a=C$l._staticBatch)!==C$i&&(C$a&&C$a._deleteCombineBatchRenderObj(C$l),C$i._addCombineBatchRenderObj(C$l)),(C$a=C$o._staticBatch)!==C$i&&(C$a&&C$a._deleteCombineBatchRenderObj(C$o),C$i._addCombineBatchRenderObj(C$o)),0))):(C$n=!1,C$r=0),C$t=C$o._material,C$e=C$h.vertexDeclaration}},zh_._sortPrepareStaticBatch=function(C$t,C$e){var C$i=C$t._render,C$n=C$e._render,C$r=C$i.lightmapIndex-C$n.lightmapIndex;if(0!=C$r)return C$r;C$r=C$i.receiveShadow-C$n.receiveShadow;if(0!=C$r)return C$r;C$i=C$t._mainSortID-C$e._mainSortID;return 0==C$i?C$t.renderObj.triangleCount-C$e.renderObj.triangleCount:C$i},zh_),C$Ce=(C$t(jxn7i,"laya.d3.graphics.SubMeshStaticBatch",C$n),(C$m=jxn7i.prototype)._compareBatchRenderElement=function(C$t,C$e){return C$t._batchIndexStart>C$e._batchIndexStart},C$m._addCombineBatchRenderObjTest=function(C$t){var C$e=C$t.renderObj._vertexCount;return!(65535<(0<C$e?this._currentCombineVertexCount+C$e:this._currentCombineVertexCount+C$t.renderObj._getVertexBuffer().vertexCount))},C$m._addCombineBatchRenderObj=function(C$t){var C$e=C$t.renderObj,C$i=C$e._vertexCount;this._initBatchRenderElements.push(C$t),C$t._staticBatch=this,0<C$i?(this._currentCombineIndexCount+=C$e._indexCount,this._currentCombineVertexCount+=C$i):(this._currentCombineIndexCount=this._currentCombineIndexCount+C$e._getIndexBuffer().indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount+C$e._getVertexBuffer().vertexCount),this._needFinishCombine=!0},C$m._deleteCombineBatchRenderObj=function(C$t){var C$e=C$t.renderObj,C$i=this._initBatchRenderElements.indexOf(C$t);-1!==C$i&&(this._initBatchRenderElements.splice(C$i,1),C$t._staticBatch=null,0<(C$i=C$e._vertexCount)?(this._currentCombineIndexCount=this._currentCombineIndexCount-C$e._indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount-C$i):(this._currentCombineIndexCount=this._currentCombineIndexCount-C$e._getIndexBuffer().indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount-C$e._getVertexBuffer().vertexCount),this._needFinishCombine=!0)},C$m._finishInit=function(){if(this._needFinishCombine){var C$t=0,C$e=0;(0<=this._initBatchRenderElements[0]._sprite3D._render.lightmapIndex||this._material instanceof laya.d3.core.material.StandardMaterial&&this._material.ambientTexture)&&(this._vertexDeclaration=this._getVertexDecLightMap(this._vertexDeclaration));var C$u=new Float32Array(this._vertexDeclaration.vertexStride/4*this._currentCombineVertexCount),C$i=new Uint16Array(this._currentCombineIndexCount);this._vertexBuffer&&(this._vertexBuffer.destroy(),this._indexBuffer.destroy()),this._vertexBuffer=C$Ne.create(this._vertexDeclaration,this._currentCombineVertexCount,35044),this._indexBuffer=C$ke.create("ushort",this._currentCombineIndexCount,35044);for(var C$n=0,C$c=this._initBatchRenderElements.length;C$n<C$c;C$n++){var C$r=this._initBatchRenderElements[C$n],C$s=C$r.renderObj,C$_=C$s._getStaticBatchBakedVertexs(this._rootOwner?this._rootOwner._transform:null,C$r._sprite3D),C$a=C$s.getIndices(),C$d=C$r._sprite3D.transform._isFrontFaceInvert,C$o=C$t/(this._vertexDeclaration.vertexStride/4)-C$s._vertexStart,C$s=C$e,C$h=C$s+C$a.length;C$r._batchIndexStart=C$s,C$r._batchIndexEnd=C$h,C$i.set(C$a,C$e);var C$l=0;if(C$d)for(C$l=C$s;C$l<C$h;C$l+=3){C$i[C$l]=C$o+C$i[C$l];var C$f=C$i[C$l+1],C$p=C$i[C$l+2];C$i[C$l+1]=C$o+C$p,C$i[C$l+2]=C$o+C$f}else for(C$l=C$s;C$l<C$h;C$l+=3)C$i[C$l]=C$o+C$i[C$l],C$i[C$l+1]=C$o+C$i[C$l+1],C$i[C$l+2]=C$o+C$i[C$l+2];C$e+=C$a.length,C$u.set(C$_,C$t),C$t+=C$_.length}this._vertexBuffer.setData(C$u),this._indexBuffer.setData(C$i),this._needFinishCombine=!1}},C$m._getCombineRenderElementFromPool=function(){return this._combineRenderElementPool[this._combineRenderElementPoolIndex++]||(this._combineRenderElementPool[this._combineRenderElementPoolIndex-1]=new C$Te)},C$m._getRenderElement=function(C$u,C$c,C$_){for(var C$t,C$d=this._batchRenderElements.length,C$e=!0,C$i=0;C$i<C$d;C$i++){var C$n,C$r=(C$t=this._batchRenderElements[C$i])._sprite3D._render;var C$s,C$a,C$o,C$h,C$l;(C$e=0!==C$i?(C$s=(C$a=this._batchRenderElements[C$i-1])._sprite3D._render).lightmapIndex!==C$r.lightmapIndex||C$s.receiveShadow!==C$r.receiveShadow||C$a._batchIndexEnd!==C$t._batchIndexStart:C$e)?((C$n=this._getCombineRenderElementFromPool()).renderObj=this,C$n._material=this._material,C$n._batchIndexStart=C$t._batchIndexStart,C$n._batchIndexEnd=C$t._batchIndexEnd,C$s=C$r.lightmapIndex,void 0===(C$l=(C$o=(C$o=this._batchOwnerIndices[C$a=C$s+1])||(this._batchOwnerIndices[C$a]=[]))[C$t._render.receiveShadow?1:0])?(C$o[C$r.receiveShadow?1:0]=this._batchOwners.length,(C$h=new C$He(null,"StaticBatchMeshSprite3D"))._scene=C$c,C$h._transform=this._rootOwner?this._rootOwner._transform:null,C$h._render.lightmapIndex=C$s,C$h._render.receiveShadow=C$t._render.receiveShadow,this._batchOwners.push(C$h)):C$h=this._batchOwners[C$l],C$h._render._renderUpdate(C$_),C$n._sprite3D=C$h,C$u.push(C$n)):C$n._batchIndexEnd=C$t._batchIndexEnd}},C$m._beforeRender=function(C$t){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},C$m._render=function(C$t){var C$t=C$t.renderElement,C$e=C$t._batchIndexStart,C$t=C$t._batchIndexEnd-C$e;C$k.mainContext.drawElements(4,C$t,5123,2*C$e),C$R.drawCall++,C$R.trianglesFaces+=C$t/3},C$m.dispose=function(){this._batchOwnerIndices=null,this._batchOwners=null,this._vertexDeclaration=null,this._vertexBuffer.destroy(),this._indexBuffer.destroy()},C$m._getVertexBuffer=function(C$t){return void 0===C$t&&(C$t=0),this._vertexBuffer},jxn7i),C$i=(C$t(b0ok5,"laya.d3.core.ComponentNode",C$y),(C$a=b0ok5.prototype).addComponent=function(C$t){var C$e,C$i=this._componentsMap.indexOf(C$t);if(-1===C$i)C$e=[],this._componentsMap.push(C$t),this._typeComponentsIndices.push(C$e);else if(C$e=this._typeComponentsIndices[C$i],this._components[C$e[0]].isSingleton)throw new Error("\u65e0\u6cd5\u5355\u5b9e\u4f8b\u521b\u5efa"+C$t+"\u7ec4\u4ef6\uff0c"+C$t+"\u7ec4\u4ef6\u5df2\u5b58\u5728\uff01");C$i=C$d.getInstance(C$t);return C$e.push(this._components.length),this._components.push(C$i),C$i instanceof laya.d3.component.Script&&this._scripts.push(C$i),C$i._initialize(this),C$i},C$a._removeComponent=function(C$t,C$e){var C$i=this._typeComponentsIndices[C$t],C$n=C$i[C$e],C$r=this._components[C$n];this._components.splice(C$n,1),C$r instanceof laya.d3.component.Script&&this._scripts.splice(this._scripts.indexOf(C$r),1),C$i.splice(C$e,1),0===C$i.length&&(this._typeComponentsIndices.splice(C$t,1),this._componentsMap.splice(C$t,1));for(var C$s=0,C$a=this._componentsMap.length;C$s<C$a;C$s++)for(var C$o=(C$i=this._typeComponentsIndices[C$s]).length-1;0<=C$o;C$o--){var C$h=C$i[C$o];if(!(C$n<C$h))break;C$i[C$o]=--C$h}C$r._destroy()},C$a.getComponentByType=function(C$t,C$e){void 0===C$e&&(C$e=0);C$t=this._componentsMap.indexOf(C$t);return-1===C$t?null:this._components[this._typeComponentsIndices[C$t][C$e]]},C$a.getComponentsByType=function(C$t,C$e){C$t=this._componentsMap.indexOf(C$t);if(-1!==C$t){var C$i=this._typeComponentsIndices[C$t],C$n=C$i.length;C$e.length=C$n;for(var C$r=0;C$r<C$n;C$r++)C$e[C$r]=this._components[C$i[C$r]]}else C$e.length=0},C$a.getComponentByIndex=function(C$t){return this._components[C$t]},C$a.removeComponentByType=function(C$t,C$e){void 0===C$e&&(C$e=0);C$t=this._componentsMap.indexOf(C$t);-1!==C$t&&this._removeComponent(C$t,C$e)},C$a.removeComponentsByType=function(C$t){var C$e=this._componentsMap.indexOf(C$t);if(-1!==C$e)for(var C$i=this._typeComponentsIndices[C$e],C$n=0,C$r=C$i.length;C$n<C$r;C$i.length<C$r?C$r--:C$n++)this._removeComponent(C$e,C$n)},C$a.removeAllComponent=function(){for(var C$t=0,C$e=this._componentsMap.length;C$t<C$e;this._componentsMap.length<C$e?C$e--:C$t++)this.removeComponentsByType(this._componentsMap[C$t])},C$a._updateComponents=function(C$t){for(var C$e=0,C$i=this._components.length;C$e<C$i;C$e++){var C$n=this._components[C$e];C$n.started||(C$n._start(C$t),C$n.started=!0),C$n.enable&&C$n._update(C$t)}},C$a._lateUpdateComponents=function(C$t){for(var C$e=0;C$e<this._components.length;C$e++){var C$i=this._components[C$e];C$i.started||(C$i._start(C$t),C$i.started=!0),C$i.enable&&C$i._lateUpdate(C$t)}},C$a._preRenderUpdateComponents=function(C$t){for(var C$e=0;C$e<this._components.length;C$e++){var C$i=this._components[C$e];C$i.started||(C$i._start(C$t),C$i.started=!0),C$i.enable&&C$i._preRenderUpdate(C$t)}},C$a._postRenderUpdateComponents=function(C$t){for(var C$e=0;C$e<this._components.length;C$e++){var C$i=this._components[C$e];C$i.started||(C$i._start(C$t),C$i.started=!0),C$i.enable&&C$i._postRenderUpdate(C$t)}},b0ok5),C$De=(C$t(ew9_p,"laya.d3.core.material.BaseMaterial",C$Je=C$C),C$n=ew9_p.prototype,C$b.imps(C$n,{"laya.d3.core.IClone":!0}),C$n._addShaderDefine=function(C$t){this._shaderDefineValue|=C$t},C$n._removeShaderDefine=function(C$t){this._shaderDefineValue&=~C$t},C$n._addDisablePublicShaderDefine=function(C$t){this._disablePublicShaderDefine|=C$t},C$n._removeDisablePublicShaderDefine=function(C$t){this._disablePublicShaderDefine&=~C$t},C$n._setBuffer=function(C$t,C$e){this._shaderValues.setValue(C$t,C$e),this._values[C$t]=C$e},C$n._getBuffer=function(C$t){return this._values[C$t]},C$n._setMatrix4x4=function(C$t,C$e){this._shaderValues.setValue(C$t,C$e?C$e.elements:null),this._values[C$t]=C$e},C$n._getMatrix4x4=function(C$t){return this._values[C$t]},C$n._setInt=function(C$t,C$e){this._shaderValues.setValue(C$t,C$e),this._values[C$t]=C$e},C$n._getInt=function(C$t){return this._values[C$t]},C$n._setNumber=function(C$t,C$e){this._shaderValues.setValue(C$t,C$e),this._values[C$t]=C$e},C$n._getNumber=function(C$t){return this._values[C$t]},C$n._setBool=function(C$t,C$e){this._shaderValues.setValue(C$t,C$e),this._values[C$t]=C$e},C$n._getBool=function(C$t){return this._values[C$t]},C$n._setVector2=function(C$t,C$e){this._shaderValues.setValue(C$t,C$e?C$e.elements:null),this._values[C$t]=C$e},C$n._getVector2=function(C$t){return this._values[C$t]},C$n._setColor=function(C$t,C$e){this._shaderValues.setValue(C$t,C$e?C$e.elements:null),this._values[C$t]=C$e},C$n._getColor=function(C$t){return this._values[C$t]},C$n._setTexture=function(C$t,C$e){var C$i=this._values[C$t];this._values[C$t]=C$e,this._shaderValues.setValue(C$t,C$e),0<this.referenceCount&&(C$i&&C$i._removeReference(),C$e&&C$e._addReference())},C$n._getTexture=function(C$t){return this._values[C$t]},C$n._upload=function(){this._shader.uploadMaterialUniforms(this._shaderValues.data)},C$n._getShader=function(C$t,C$e,C$i){C$t=(C$t|C$e)&~this._disablePublicShaderDefine;return this._shader=this._shaderCompile.withCompile(C$t,C$i,this._shaderDefineValue),this._shader},C$n._setRenderStateBlendDepth=function(){var C$t=C$k.mainContext;switch(C$N.setDepthMask(C$t,this.depthWrite),0===this.depthTest?C$N.setDepthTest(C$t,!1):(C$N.setDepthTest(C$t,!0),C$N.setDepthFunc(C$t,this.depthTest)),this.blend){case 0:C$N.setBlend(C$t,!1);break;case 1:C$N.setBlend(C$t,!0),C$N.setBlendFunc(C$t,this.srcBlend,this.dstBlend);break;case 2:C$N.setBlend(C$t,!0)}},C$n._setRenderStateFrontFace=function(C$t,C$e){var C$i=C$k.mainContext,C$n=0;switch(this.cull){case 0:C$N.setCullFace(C$i,!1);break;case 1:C$N.setCullFace(C$i,!0),C$n=C$t?C$e&&C$e._isFrontFaceInvert?2305:2304:C$e&&C$e._isFrontFaceInvert?2304:2305,C$N.setFrontFace(C$i,C$n);break;case 2:C$N.setCullFace(C$i,!0),C$n=C$t?C$e&&C$e._isFrontFaceInvert?2304:2305:C$e&&C$e._isFrontFaceInvert?2305:2304,C$N.setFrontFace(C$i,C$n)}},C$n.onAsynLoaded=function(C$u,C$c,C$_){var C$d=C$c[0],C$f=C$c[1];switch(C$d.version){case"LAYAMATERIAL:01":var C$t=0,C$e=0,C$i=C$d.props;for(var C$n in C$i)switch(C$n){case"vectors":var C$r=C$i[C$n];for(C$t=0,C$e=C$r.length;C$t<C$e;C$t++){var C$s=C$r[C$t],C$a=C$s.value;switch(C$a.length){case 2:this[C$s.name]=new C$oe(C$a[0],C$a[1]);break;case 3:this[C$s.name]=new C$A(C$a[0],C$a[1],C$a[2]);break;case 4:this[C$s.name]=new C$he(C$a[0],C$a[1],C$a[2],C$a[3]);break;default:throw new Error("BaseMaterial:unkonwn color length.")}}break;case"textures":var C$o=C$i[C$n];for(C$t=0,C$e=C$o.length;C$t<C$e;C$t++){var C$h=C$o[C$t],C$l=C$h.path;C$l&&(this[C$h.name]=C$g.getRes(C$f[C$l]))}break;case"defines":var C$p=C$i[C$n];for(C$t=0,C$e=C$p.length;C$t<C$e;C$t++){var C$m=this._shaderCompile.getMaterialDefineByName(C$p[C$t]);this._addShaderDefine(C$m)}break;case"cull":case"blend":case"srcBlend":case"dstBlend":case"depthWrite":this[C$n]=C$i[C$n];break;case"renderQueue":switch(C$i[C$n]){case 1:this.renderQueue=2e3;break;case 2:this.renderQueue=3e3}break;default:this[C$n]=C$i[C$n]}break;case"LAYAMATERIAL:02":for(C$n in C$i=C$d.props)switch(C$n){case"vectors":for(C$t=0,C$e=(C$r=C$i[C$n]).length;C$t<C$e;C$t++)switch((C$a=(C$s=C$r[C$t]).value).length){case 2:this[C$s.name]=new C$oe(C$a[0],C$a[1]);break;case 3:this[C$s.name]=new C$A(C$a[0],C$a[1],C$a[2]);break;case 4:this[C$s.name]=new C$he(C$a[0],C$a[1],C$a[2],C$a[3]);break;default:throw new Error("BaseMaterial:unkonwn color length.")}break;case"textures":for(C$t=0,C$e=(C$o=C$i[C$n]).length;C$t<C$e;C$t++)(C$l=(C$h=C$o[C$t]).path)&&(this[C$h.name]=C$g.getRes(C$f[C$l]));break;case"defines":for(C$t=0,C$e=(C$p=C$i[C$n]).length;C$t<C$e;C$t++)C$m=this._shaderCompile.getMaterialDefineByName(C$p[C$t]),this._addShaderDefine(C$m);break;default:this[C$n]=C$i[C$n]}break;default:throw new Error("BaseMaterial:unkonwn version.")}this._endLoaded()},C$n._addReference=function(){C$Je.prototype._addReference.call(this);for(var C$t=0,C$e=this._values.length;C$t<C$e;C$t++){var C$i=this._values[C$t];C$i&&C$i instanceof laya.d3.resource.BaseTexture&&C$i._addReference()}},C$n._removeReference=function(){C$Je.prototype._removeReference.call(this);for(var C$t=0,C$e=this._values.length;C$t<C$e;C$t++){var C$i=this._values[C$t];C$i&&C$i instanceof laya.d3.resource.BaseTexture&&C$i._removeReference()}},C$n.disposeResource=function(){this.blendConstColor=null,this._shader=null,this._shaderValues=null,this._values=null},C$n.setShaderName=function(C$t){C$t=C$Le.nameKey.getID(C$t);if(-1===C$t)throw new Error("BaseMaterial: unknown shader name.");this._shaderCompile=C$Me._preCompileShader[C$t]},C$n.cloneTo=function(C$t){C$t.name=this.name,C$t.cull=this.cull,C$t.blend=this.blend,C$t.srcBlend=this.srcBlend,C$t.dstBlend=this.dstBlend,C$t.srcBlendRGB=this.srcBlendRGB,C$t.dstBlendRGB=this.dstBlendRGB,C$t.srcBlendAlpha=this.srcBlendAlpha,C$t.dstBlendAlpha=this.dstBlendAlpha,this.blendConstColor.cloneTo(C$t.blendConstColor),C$t.blendEquation=this.blendEquation,C$t.blendEquationRGB=this.blendEquationRGB,C$t.blendEquationAlpha=this.blendEquationAlpha,C$t.depthTest=this.depthTest,C$t.depthWrite=this.depthWrite,C$t.renderQueue=this.renderQueue,C$t._shader=this._shader,C$t._disablePublicShaderDefine=this._disablePublicShaderDefine,C$t._shaderDefineValue=this._shaderDefineValue;var C$e,C$i=0,C$n=C$t._shaderValues;C$t._shaderValues.data.length=this._shaderValues.data.length;var C$r=this._values.length,C$s=C$t._values;for(C$i=0,C$e=C$s.length=C$r;C$i<C$e;C$i++){var C$a=this._values[C$i];var C$o,C$h;C$a&&("number"==typeof C$a||"boolean"==typeof C$a?(C$s[C$i]=C$a,C$n.data[C$i]=C$a):C$a instanceof laya.d3.math.Vector2?(C$o=C$s[C$i]||(C$s[C$i]=new C$oe),C$a.cloneTo(C$o),C$n.data[C$i]=C$o.elements):C$a instanceof laya.d3.math.Vector3?(C$o=C$s[C$i]||(C$s[C$i]=new C$A),C$a.cloneTo(C$o),C$n.data[C$i]=C$o.elements):C$a instanceof laya.d3.math.Vector4?(C$h=C$s[C$i]||(C$s[C$i]=new C$he),C$a.cloneTo(C$h),C$n.data[C$i]=C$h.elements):C$a instanceof laya.d3.math.Matrix4x4?(C$h=C$s[C$i]||(C$s[C$i]=new C$ie),C$a.cloneTo(C$h),C$n.data[C$i]=C$h.elements):C$a instanceof laya.d3.resource.BaseTexture&&(C$s[C$i]=C$a,C$n.data[C$i]=C$a))}},C$n.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$e(0,C$n,"alphaTestValue",function(){return this._getNumber(0)},function(C$t){this._setNumber(0,C$t)}),C$e(0,C$n,"alphaTest",function(){return this._alphaTest},function(C$t){(this._alphaTest=C$t)?this._addShaderDefine(laya.d3.core.material.BaseMaterial.SHADERDEFINE_ALPHATEST):this._removeShaderDefine(laya.d3.core.material.BaseMaterial.SHADERDEFINE_ALPHATEST)}),ew9_p.__init__=function(){ew9_p.SHADERDEFINE_ALPHATEST=ew9_p.shaderDefines.registerDefine("ALPHATEST")},ew9_p.RENDERQUEUE_OPAQUE=2e3,ew9_p.RENDERQUEUE_ALPHATEST=2450,ew9_p.RENDERQUEUE_TRANSPARENT=3e3,ew9_p.CULL_NONE=0,ew9_p.CULL_FRONT=1,ew9_p.CULL_BACK=2,ew9_p.BLEND_DISABLE=0,ew9_p.BLEND_ENABLE_ALL=1,ew9_p.BLEND_ENABLE_SEPERATE=2,ew9_p.BLENDPARAM_ZERO=0,ew9_p.BLENDPARAM_ONE=1,ew9_p.BLENDPARAM_SRC_COLOR=768,ew9_p.BLENDPARAM_ONE_MINUS_SRC_COLOR=769,ew9_p.BLENDPARAM_DST_COLOR=774,ew9_p.BLENDPARAM_ONE_MINUS_DST_COLOR=775,ew9_p.BLENDPARAM_SRC_ALPHA=770,ew9_p.BLENDPARAM_ONE_MINUS_SRC_ALPHA=771,ew9_p.BLENDPARAM_DST_ALPHA=772,ew9_p.BLENDPARAM_ONE_MINUS_DST_ALPHA=773,ew9_p.BLENDPARAM_SRC_ALPHA_SATURATE=776,ew9_p.BLENDEQUATION_ADD=0,ew9_p.BLENDEQUATION_SUBTRACT=1,ew9_p.BLENDEQUATION_REVERSE_SUBTRACT=2,ew9_p.DEPTHTEST_OFF=0,ew9_p.DEPTHTEST_NEVER=512,ew9_p.DEPTHTEST_LESS=513,ew9_p.DEPTHTEST_EQUAL=514,ew9_p.DEPTHTEST_LEQUAL=515,ew9_p.DEPTHTEST_GREATER=516,ew9_p.DEPTHTEST_NOTEQUAL=517,ew9_p.DEPTHTEST_GEQUAL=518,ew9_p.DEPTHTEST_ALWAYS=519,ew9_p.SHADERDEFINE_ALPHATEST=1,ew9_p.ALPHATESTVALUE=0,C$h(ew9_p,["shaderDefines",function(){return this.shaderDefines=new C$ce}]),ew9_p),C$Ee=(C$t(p29w,"laya.d3.resource.BaseTexture",C$C),C$e(0,C$m=p29w.prototype,"width",function(){return this._width}),C$e(0,C$m,"repeat",function(){return this._repeat},function(C$t){this._repeat!==C$t&&(this._repeat=C$t,this._source)&&(C$t=C$k.mainContext,C$N.bindTexture(C$t,this._type,this._source),C$p.isPOT(this._width,this._height)&&this._repeat?(C$t.texParameteri(this._type,10242,10497),C$t.texParameteri(this._type,10243,10497)):(C$t.texParameteri(this._type,10242,33071),C$t.texParameteri(this._type,10243,33071)))}),C$e(0,C$m,"height",function(){return this._height}),C$e(0,C$m,"magFifter",function(){return this._magFifter},function(C$t){(this._magFifter=C$t)!=this._magFifter&&this._conchTexture&&this._conchTexture.setMaxFifter(C$t)}),C$e(0,C$m,"wrapModeV",function(){return this._wrapModeV}),C$e(0,C$m,"size",function(){return this._size}),C$e(0,C$m,"wrapModeU",function(){return this._wrapModeU}),C$e(0,C$m,"mipmap",function(){return this._mipmap},function(C$t){this._mipmap=C$t,this._mipmap!=C$t&&this._conchTexture&&this._conchTexture.setMipMap(C$t)}),C$e(0,C$m,"minFifter",function(){return this._minFifter},function(C$t){this._minFifter=C$t,this._minFifter!=C$t&&this._conchTexture&&this._conchTexture.setMinFifter(C$t)}),C$e(0,C$m,"format",function(){return this._format}),C$e(0,C$m,"source",function(){return this.activeResource(),this._source}),C$e(0,C$m,"defaulteTexture",function(){return C$Fe.grayTexture}),p29w.WARPMODE_REPEAT=0,p29w.WARPMODE_CLAMP=1,p29w),C$n=(C$t(jxrv,"laya.d3.resource.models.BaseMesh",C$C),(C$a=jxrv.prototype)._getPositions=function(){throw new Error("\u672aOverride,\u8bf7\u91cd\u8f7d\u8be5\u5c5e\u6027\uff01")},C$a._generateBoundingObject=function(){this._boundingSphere=new C$Jt(new C$A,0),C$Jt.createfromPoints(this._positions,this._boundingSphere),this._boundingBox=new C$Zt(new C$A,new C$A),C$Zt.createfromPoints(this._positions,this._boundingBox),this._boundingBox.getCorners(this._boundingBoxCorners)},C$a.getRenderElementsCount=function(){throw new Error("\u672aOverride,\u8bf7\u91cd\u8f7d\u8be5\u5c5e\u6027\uff01")},C$a.getRenderElement=function(C$t){throw new Error("\u672aOverride,\u8bf7\u91cd\u8f7d\u8be5\u5c5e\u6027\uff01")},C$e(0,C$a,"subMeshCount",function(){return this._subMeshCount}),C$e(0,C$a,"boundingBox",function(){return this._boundingBox}),C$e(0,C$a,"boundingBoxCorners",function(){return this._boundingBoxCorners}),C$e(0,C$a,"boundingSphere",function(){return this._boundingSphere}),jxrv),C$Ae=(C$t(e2_pw9,"laya.d3.component.Script",C$s),(C$m=e2_pw9.prototype).onTriggerEnter=function(C$t){},C$m.onTriggerExit=function(C$t){},C$m.onTriggerStay=function(C$t){},C$e(0,C$m,"isSingleton",function(){return e2_pw9._isSingleton}),e2_pw9._isSingleton=!1,C$t(f29s$w,"laya.d3.core.MeshFilter",C$Qe=C$ye),(C$C=f29s$w.prototype)._sharedMeshLoaded=function(){this.event("loaded")},C$C._destroy=function(){C$Qe.prototype._destroy.call(this),this._owner=null,this._sharedMesh&&(this._sharedMesh._removeReference(),this._sharedMesh=null)},C$e(0,C$C,"sharedMesh",function(){return this._sharedMesh},function(C$t){var C$e=this._sharedMesh;C$e&&C$e._removeReference(),(this._sharedMesh=C$t)._addReference(),this.event("meshchanged",[this,C$e,C$t]),C$t.loaded||this._sharedMesh.once("loaded",this,this._sharedMeshLoaded)}),C$e(0,C$C,"_isAsyncLoaded",function(){return this._sharedMesh.loaded}),C$e(0,C$C,"_originalBoundingBoxCorners",function(){return this._sharedMesh.boundingBoxCorners}),C$e(0,C$C,"_originalBoundingSphere",function(){return this._sharedMesh.boundingSphere}),C$e(0,C$C,"_originalBoundingBox",function(){return this._sharedMesh.boundingBox}),f29s$w),C$Ie=(C$t(ivnj7x,"laya.d3.core.MeshRender",C$be),(C$a=ivnj7x.prototype)._onMeshChanged=function(C$t,C$e,C$i){C$i.loaded?this._boundingSphereNeedChange=this._boundingBoxNeedChange=this._boundingBoxCenterNeedChange=this._octreeNodeNeedChange=!0:C$i.once("loaded",this,this._onMeshLoaed)},C$a._onMeshLoaed=function(C$t,C$e){this._boundingSphereNeedChange=this._boundingBoxNeedChange=this._boundingBoxCenterNeedChange=this._octreeNodeNeedChange=!0},C$a._calculateBoundingSphereByInitSphere=function(C$t){var C$e=this._owner.transform,C$i=C$e.scale.elements,C$n=Math.abs(C$i[0]),C$r=Math.abs(C$i[1]),C$i=Math.abs(C$i[2]);C$n=C$r<=C$n&&C$i<=C$n?C$n:C$i<=C$r?C$r:C$i,C$A.transformCoordinate(C$t.center,C$e.worldMatrix,this._boundingSphere.center),this._boundingSphere.radius=C$t.radius*C$n},C$a._calculateBoundBoxByInitCorners=function(C$t){for(var C$e=this._owner.transform.worldMatrix,C$i=0;C$i<8;C$i++)C$A.transformCoordinate(C$t[C$i],C$e,C$be._tempBoundBoxCorners[C$i]);C$Zt.createfromPoints(C$be._tempBoundBoxCorners,this._boundingBox)},C$a._calculateBoundingSphere=function(){var C$t=this._owner.meshFilter.sharedMesh;null==C$t||null==C$t.boundingSphere?this._boundingSphere.toDefault():this._calculateBoundingSphereByInitSphere(C$t.boundingSphere)},C$a._calculateBoundingBox=function(){var C$t=this._owner.meshFilter.sharedMesh;null==C$t||null==C$t.boundingBox?this._boundingBox.toDefault():this._calculateBoundBoxByInitCorners(C$t.boundingBoxCorners)},C$a._renderUpdate=function(C$t){var C$e=this._owner.transform;return C$e?(this._setShaderValueMatrix4x4(0,C$e.worldMatrix),C$e=this._owner.getProjectionViewWorldMatrix(C$t),this._setShaderValueMatrix4x4(1,C$e)):(this._setShaderValueMatrix4x4(0,C$ie.DEFAULT),this._setShaderValueMatrix4x4(1,C$t)),C$ve.debugMode&&this._renderRenderableBoundBox(),!0},ivnj7x),C$Re=(C$t(_hpetz,"laya.d3.core.scene.Scene",C$Ze=C$I),C$s=_hpetz.prototype,C$b.imps(C$s,{"laya.webgl.submit.ISubmit":!0,"laya.resource.ICreateResource":!0}),C$s._setUrl=function(C$t){this._url=C$t},C$s._getGroup=function(){return this._group},C$s._setGroup=function(C$t){this._group=C$t},C$s._display=function(){C$b.stage._scenes.push(this),C$b.stage._scenes.sort(_hpetz._sortScenes);for(var C$t=0,C$e=this._childs.length;C$t<C$e;C$t++){var C$i=this._childs[C$t];C$i.active&&C$i._activeHierarchy()}},C$s._unDisplay=function(){var C$t=C$b.stage._scenes;C$t.splice(C$t.indexOf(this),1);for(var C$e=0,C$i=this._childs.length;C$e<C$i;C$e++){var C$n=this._childs[C$e];C$n.active&&C$n._inActiveHierarchy()}},C$s._addChild3D=function(C$t){C$t.transform._onWorldTransform(),C$t._setBelongScene(this),this.displayedInStage&&C$t.active&&C$t._activeHierarchy()},C$s._removeChild3D=function(C$t){C$t.transform.parent=null,this.displayedInStage&&C$t.active&&C$t._inActiveHierarchy(),C$t._setUnBelongScene()},C$s.initOctree=function(C$t,C$e,C$i,C$n,C$r){void 0===C$r&&(C$r=6),this.treeSize=new C$A(C$t,C$e,C$i),this.treeLevel=C$r,this.treeRoot=new C$J(this,0),this.treeRoot.init(C$n,this.treeSize)},C$s._prepareUpdateToRenderState=function(C$t,C$e){C$e.elapsedTime=this._lastCurrentTime?this.timer.currTimer-this._lastCurrentTime:0,this._lastCurrentTime=this.timer.currTimer,C$e.scene=this},C$s._prepareSceneToRender=function(C$t){var C$e=this._lights.length;if(0<C$e)for(var C$i=0,C$n=0;C$n<C$e&&!(this._lights[C$n]._prepareToScene(C$t)&&++C$i>=this._enableLightCount);C$n++);},C$s._updateChilds=function(C$t){for(var C$e=0,C$i=this._childs.length;C$e<C$i;++C$e)this._childs[C$e]._update(C$t)},C$s._preRenderScene=function(C$t,C$e,C$i){var C$n,C$r=C$e._viewMatrix,C$s=C$e._projectionMatrix,C$a=C$e._projectionViewMatrix,C$o=0,C$h=C$e.camera;for(C$h.useOcclusionCulling?this.treeRoot?C$at.renderObjectCullingOctree(C$i,this,C$h,C$r,C$s,C$a):C$at.renderObjectCulling(C$i,this,C$h,C$r,C$s,C$a):C$at.renderObjectCullingNoBoundFrustum(this,C$h,C$r,C$s,C$a),C$o=0,C$n=this._quenes.length;C$o<C$n;C$o++)this._quenes[C$o]&&this._quenes[C$o]._preRender(C$e)},C$s._clear=function(C$t,C$e){var C$i=C$e._viewport,C$n=C$e.camera,C$r=C$i.x,C$s=C$n.renderTargetSize.height-C$i.y-C$i.height,C$u=C$i.width,C$c=C$i.height;C$t.viewport(C$r,C$s,C$u,C$c);var C$a=256,C$o=C$n.renderTarget;switch(C$n.clearFlag){case 0:var C$h=C$n.clearColor;var C$l;if(C$h&&(C$t.enable(3089),C$t.scissor(C$r,C$s,C$u,C$c),C$l=C$h.elements,C$t.clearColor(C$l[0],C$l[1],C$l[2],C$l[3]),C$a|=16384),C$o)switch(C$h||(C$a=16384),C$o.depthStencilFormat){case 33189:C$a|=256;break;case 36168:C$a|=1024;break;case 34041:C$a=C$a|256|1024}C$t.clear(C$a),C$h&&C$t.disable(3089);break;case 1:case 2:if(C$o)switch(C$a=16384,C$o.depthStencilFormat){case 33189:C$a|=256;break;case 36168:C$a|=1024;break;case 34041:C$a=C$a|256|1024}C$t.clear(C$a);break;case 3:break;default:throw new Error("BaseScene:camera clearFlag invalid.")}},C$s._renderScene=function(C$t,C$e){var C$i,C$n,C$r=C$e.camera,C$s=0;for(C$s=0;C$s<2;C$s++)(C$n=this._quenes[C$s])&&(C$r.renderTarget?C$n._render(C$e,!0):C$n._render(C$e,!1));var C$a;for(1!==C$r.clearFlag||(C$a=C$r.sky)&&(C$N.setCullFace(C$t,!1),C$N.setDepthFunc(C$t,515),C$N.setDepthMask(C$t,!1),C$a._render(C$e),C$N.setDepthFunc(C$t,513),C$N.setDepthMask(C$t,!0)),C$s=2,C$i=this._quenes.length;C$s<C$i;C$s++)(C$n=this._quenes[C$s])&&(C$n._sortAlpha(C$e.camera.transform.position),C$r.renderTarget?C$n._render(C$e,!0):C$n._render(C$e,!1))},C$s._set3DRenderConfig=function(C$t){C$t.disable(3042),C$N._blend=!1,C$t.blendFunc(770,771),C$N._sFactor=770,C$N._dFactor=771,C$t.disable(2929),C$N._depthTest=!1,C$t.enable(2884),C$N._cullFace=!0,C$t.depthMask(1),C$N._depthMask=!0,C$t.frontFace(2304),C$N._frontFace=2304},C$s._set2DRenderConfig=function(C$t){C$N.setBlend(C$t,!0),C$N.setBlendFunc(C$t,1,771),C$N.setDepthTest(C$t,!1),C$N.setCullFace(C$t,!1),C$N.setDepthMask(C$t,!0),C$N.setFrontFace(C$t,2305),C$t.viewport(0,0,C$S.width,C$S.height)},C$s._parseCustomProps=function(C$t,C$e,C$i,C$n){var C$r=C$n.customProps.lightmaps,C$s=C$r.length,C$a=this._lightmaps;C$a.length=C$s;for(var C$o=0;C$o<C$s;C$o++)C$a[C$o]=C$g.getRes(C$e[C$r[C$o].replace(".exr",".png")]);this.setlightmaps(C$a);var C$h=C$n.customProps.ambientColor;C$h&&(this.ambientColor=new C$A(C$h[0],C$h[1],C$h[2]));C$h=C$n.customProps.fogColor;C$h&&(this.fogColor=new C$A(C$h[0],C$h[1],C$h[2]))},C$s._addLight=function(C$t){this._lights.indexOf(C$t)<0&&this._lights.push(C$t)},C$s._removeLight=function(C$t){C$t=this._lights.indexOf(C$t);0<=C$t&&this._lights.splice(C$t,1)},C$s._updateScene=function(){var C$t=this._renderState;this._prepareUpdateToRenderState(C$k.mainContext,C$t),this._updateComponents(C$t),this._updateChilds(C$t),this._lateUpdateComponents(C$t),this._time+=C$t.elapsedTime/1e3,this._shaderValues.setValue(22,this._time)},C$s._updateSceneConch=function(){var C$t=this._renderState;this._prepareUpdateToRenderState(C$k.mainContext,C$t),this._updateComponents(C$t),this._lateUpdateComponents(C$t),this._prepareSceneToRender(C$t);for(var C$e=0,C$i=this._cameraPool.length;C$e<C$i;C$e++){var C$n=this._cameraPool[C$e];(C$t.camera=C$n)._prepareCameraToRender()}},C$s._preRenderShadow=function(C$t,C$e,C$i,C$n,C$r){this.treeRoot?C$at.renderShadowObjectCullingOctree(this,C$e,C$i,C$n,C$r):C$at.renderShadowObjectCulling(this,C$e,C$i,C$n,C$r);for(var C$s=0,C$a=C$i.length;C$s<C$a;C$s++)C$i[C$s]&&C$i[C$s]._preRender(C$t)},C$s._renderShadowMap=function(C$t,C$e,C$i){var C$n=this.parallelSplitShadowMaps[0];C$n._calcAllLightCameraInfo(C$i);var C$r,C$s,C$a,C$o=C$n.PSSMNum;if(this._preRenderShadow(C$e,C$n._lightCulling,C$n._shadowQuenes,C$n._lightVPMatrix[0],C$o),this.addShaderDefine(C$fe.SHADERDEFINE_CAST_SHADOW),1<C$o)for(var C$h=0;C$h<C$o;C$h++)C$r=C$n.getRenderTarget(C$h+1),C$n.beginRenderTarget(C$h+1),C$t.clearColor(1,1,1,1),C$t.clear(16640),C$t.viewport(0,0,C$r.width,C$r.height),C$e.camera=C$a=C$n.getLightCamera(C$h),C$a._prepareCameraToRender(),C$a._prepareCameraViewProject(C$a.viewMatrix,C$a.projectionMatrix),C$e._projectionViewMatrix=C$n._lightVPMatrix[C$h+1],(C$s=C$n._shadowQuenes[C$h])._preRender(C$e),C$s._renderShadow(C$e,!1),C$n.endRenderTarget(C$h+1);else C$r=C$n.getRenderTarget(1),C$n.beginRenderTarget(1),C$t.clearColor(1,1,1,1),C$t.clear(16640),C$t.viewport(0,0,C$r.width,C$r.height),C$e.camera=C$a=C$n.getLightCamera(0),C$a._prepareCameraToRender(),C$a._prepareCameraViewProject(C$a.viewMatrix,C$a.projectionMatrix),C$e._projectionViewMatrix=C$n._lightVPMatrix[0],(C$s=C$n._shadowQuenes[0])._preRender(C$e),C$s._renderShadow(C$e,!0),C$n.endRenderTarget(1);this.removeShaderDefine(C$fe.SHADERDEFINE_CAST_SHADOW)},C$s.addTreeNode=function(C$t){this.treeRoot.addTreeNode(C$t)},C$s.removeTreeNode=function(C$t){this.treeSize&&C$t._treeNode&&C$t._treeNode.removeObject(C$t)},C$s.setlightmaps=function(C$t){this._lightmaps=C$t;for(var C$e=0,C$i=this._renderableSprite3Ds.length;C$e<C$i;C$e++)this._renderableSprite3Ds[C$e]._render._applyLightMapParams()},C$s.getlightmaps=function(){return this._lightmaps},C$s.addChildAt=function(C$t,C$e){if(!(C$t instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.  className="+(C$t&&C$t.__className));if(!C$t||this.destroyed||C$t===this)return C$t;var C$i;if(C$t.zOrder&&this._set$P("hasZorder",!0),0<=C$e&&C$e<=this._childs.length)return C$t._parent===this?(C$i=this.getChildIndex(C$t),this._childs.splice(C$i,1),this._childs.splice(C$e,0,C$t),this.conchModel&&(this.conchModel.removeChild(C$t.conchModel),this.conchModel.addChildAt(C$t.conchModel,C$e)),this._childChanged()):(C$t.parent&&C$t.parent.removeChild(C$t),this._childs===C$y.ARRAY_EMPTY&&(this._childs=[]),this._childs.splice(C$e,0,C$t),this.conchModel&&this.conchModel.addChildAt(C$t.conchModel,C$e),(C$t.parent=this)._addChild3D(C$t)),C$t;throw new Error("appendChildAt:The index is out of bounds")},C$s.addChild=function(C$t){if(!(C$t instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");return!C$t||this.destroyed||C$t===this||(C$t.zOrder&&this._set$P("hasZorder",!0),C$t._parent===this?(C$e=this.getChildIndex(C$t))!==this._childs.length-1&&(this._childs.splice(C$e,1),this._childs.push(C$t),this.conchModel&&(this.conchModel.removeChild(C$t.conchModel),this.conchModel.addChildAt(C$t.conchModel,this._childs.length-1)),this._childChanged()):(C$t.parent&&C$t.parent.removeChild(C$t),this._childs===C$y.ARRAY_EMPTY&&(this._childs=[]),this._childs.push(C$t),this.conchModel&&this.conchModel.addChildAt(C$t.conchModel,this._childs.length-1),(C$t.parent=this)._childChanged(),this._addChild3D(C$t))),C$t;var C$e},C$s.removeChildAt=function(C$t){var C$e=this.getChildAt(C$t);return C$e&&(this._removeChild3D(C$e),this._childs.splice(C$t,1),this.conchModel&&this.conchModel.removeChild(C$e.conchModel),C$e.parent=null),C$e},C$s.removeChildren=function(C$t,C$e){if(void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=2147483647),this._childs&&0<this._childs.length){var C$i=this._childs;var C$n;0===C$t&&C$s<=C$e?(C$n=C$i,this._childs=C$y.ARRAY_EMPTY):C$n=C$i.splice(C$t,C$e-C$t);for(var C$r=0,C$s=C$n.length;C$r<C$s;C$r++)this._removeChild3D(C$n[C$r]),C$n[C$r].parent=null,this.conchModel&&this.conchModel.removeChild(C$n[C$r].conchModel)}return this},C$s.addFrustumCullingObject=function(C$t){this.treeRoot?this.addTreeNode(C$t):(this._cullingRendersLength===this._cullingRenders.length?this._cullingRenders.push(C$t):this._cullingRenders[this._cullingRendersLength]=C$t,C$t._indexInSceneFrustumCullingObjects=this._cullingRendersLength++)},C$s.removeFrustumCullingObject=function(C$t){var C$e,C$i;this.treeRoot?this.removeTreeNode(C$t):(this._cullingRendersLength--,(C$e=C$t._indexInSceneFrustumCullingObjects)!==this._cullingRendersLength&&(C$i=this._cullingRenders[this._cullingRendersLength],(this._cullingRenders[C$e]=C$i)._indexInSceneFrustumCullingObjects=C$e,C$t._indexInSceneFrustumCullingObjects=-1))},C$s.getRenderQueue=function(C$t){return C$t<3e3?this._quenes[1]||(this._quenes[1]=new C$Z(this)):this._quenes[2]||(this._quenes[2]=new C$Z(this))},C$s.addRenderQuene=function(){this._quenes[this._customRenderQueneIndex++]=new C$Z(this)},C$s.addShaderDefine=function(C$t){this._shaderDefineValue|=C$t},C$s.removeShaderDefine=function(C$t){this._shaderDefineValue&=~C$t},C$s.addScript=function(C$t){return this._addComponent(C$t)},C$s.getScriptByType=function(C$t,C$e){return this._getComponentByType(C$t,C$e=void 0===C$e?0:C$e)},C$s.getScriptsByType=function(C$t,C$e){this._getComponentsByType(C$t,C$e)},C$s.getScriptByIndex=function(C$t){return this._getComponentByIndex(C$t)},C$s.removeScriptByType=function(C$t,C$e){this._removeComponentByType(C$t,C$e=void 0===C$e?0:C$e)},C$s.removeScriptsByType=function(C$t){this._removeComponentByType(C$t)},C$s.removeAllScript=function(){this._removeAllComponent()},C$s.render=function(C$t,C$e,C$i){(C$T._context.ctx._renderKey=0)<this._childs.length&&C$t.addRenderObject(this)},C$s.renderSubmit=function(){var C$t=C$k.mainContext,C$e=this._renderState;this._set3DRenderConfig(C$t),this._prepareSceneToRender(this._renderState);var C$i,C$n=0,C$r=0;if(C$ve.debugMode||C$J.debugMode)for(C$n=0,C$r=this._cameraPool.length;C$n<C$r;C$n++)C$i=this._cameraPool[C$n],C$ve._debugPhasorSprite.begin(1,C$i),C$i.activeInHierarchy&&C$i._renderCamera(C$t,C$e,this),C$ve._debugPhasorSprite.end();else for(C$n=0,C$r=this._cameraPool.length;C$n<C$r;C$n++)(C$i=this._cameraPool[C$n]).activeInHierarchy&&C$i._renderCamera(C$t,C$e,this);return this._set2DRenderConfig(C$t),1},C$s.onAsynLoaded=function(C$t,C$e,C$i){var C$n=C$e[0];if("Scene"!==C$n.type)throw new Error("Scene: the .lh file root type must be Scene,please use other function to  load  this file.");C$e=C$e[1];C$ge._createNodeByJson(this,C$n,this,C$e),this.event("hierarchyloaded",[this]),this.__loaded=!0},C$s.destroy=function(C$t){void 0===C$t&&(C$t=!0),this.destroyed||(C$Ze.prototype.destroy.call(this,C$t),this._renderState=null,this._lights=null,this._lightmaps=null,this._renderTargetTexture=null,this._shaderValues=null,this._cullingRenders=null,this._dynamicBatchManager=null,this._quenes=null,this._cameraPool=null,this._renderableSprite3Ds=null,this.treeRoot=null,this.treeSize=null,this.parallelSplitShadowMaps=null,this._typeComponentsIndices=null,this._components=null,C$g.clearRes(this.url),this.loaded||C$ve._cancelLoadByUrl(this.url))},C$s.getRenderType=function(){return 0},C$s.releaseRender=function(){},C$s._addComponent=function(C$t){var C$e,C$i=this._componentsMap.indexOf(C$t);if(-1===C$i)C$e=[],this._componentsMap.push(C$t),this._typeComponentsIndices.push(C$e);else if(C$e=this._typeComponentsIndices[C$i],this._components[C$e[0]].isSingleton)throw new Error("\u65e0\u6cd5\u5355\u5b9e\u4f8b\u521b\u5efa"+C$t+"\u7ec4\u4ef6\uff0c"+C$t+"\u7ec4\u4ef6\u5df2\u5b58\u5728\uff01");C$i=C$d.getInstance(C$t);return C$e.push(this._components.length),this._components.push(C$i),C$i._initialize(this),C$i},C$s._removeComponent=function(C$t,C$e){var C$i=this._typeComponentsIndices[C$t],C$n=C$i[C$e],C$r=this._components[C$n];this._components.splice(C$n,1),C$i.splice(C$e,1),0===C$i.length&&(this._typeComponentsIndices.splice(C$t,1),this._componentsMap.splice(C$t,1));for(var C$s=0,C$a=this._componentsMap.length;C$s<C$a;C$s++)for(var C$o=(C$i=this._typeComponentsIndices[C$s]).length-1;0<=C$o;C$o--){var C$h=C$i[C$o];if(!(C$n<C$h))break;C$i[C$o]=--C$h}C$r._destroy()},C$s._getComponentByType=function(C$t,C$e){void 0===C$e&&(C$e=0);C$t=this._componentsMap.indexOf(C$t);return-1===C$t?null:this._components[this._typeComponentsIndices[C$t][C$e]]},C$s._getComponentsByType=function(C$t,C$e){C$t=this._componentsMap.indexOf(C$t);if(-1!==C$t){var C$i=this._typeComponentsIndices[C$t],C$n=C$i.length;C$e.length=C$n;for(var C$r=0;C$r<C$n;C$r++)C$e[C$r]=this._components[C$i[C$r]]}else C$e.length=0},C$s._getComponentByIndex=function(C$t){return this._components[C$t]},C$s._removeComponentByType=function(C$t,C$e){void 0===C$e&&(C$e=0);C$t=this._componentsMap.indexOf(C$t);-1!==C$t&&this._removeComponent(C$t,C$e)},C$s._removeComponentsByType=function(C$t){var C$e=this._componentsMap.indexOf(C$t);if(-1!==C$e)for(var C$i=this._typeComponentsIndices[C$e],C$n=0,C$r=C$i.length;C$n<C$r;C$i.length<C$r?C$r--:C$n++)this._removeComponent(C$e,C$n)},C$s._removeAllComponent=function(){for(var C$t=0,C$e=this._componentsMap.length;C$t<C$e;this._componentsMap.length<C$e?C$e--:C$t++)this._removeComponentsByType(this._componentsMap[C$t])},C$s._updateComponents=function(C$t){for(var C$e=0,C$i=this._components.length;C$e<C$i;C$e++){var C$n=this._components[C$e];C$n.started||(C$n._start(C$t),C$n.started=!0),C$n.enable&&C$n._update(C$t)}},C$s._lateUpdateComponents=function(C$t){for(var C$e=0;C$e<this._components.length;C$e++){var C$i=this._components[C$e];C$i.started||(C$i._start(C$t),C$i.started=!0),C$i.enable&&C$i._lateUpdate(C$t)}},C$s._preRenderUpdateComponents=function(C$t){for(var C$e=0;C$e<this._components.length;C$e++){var C$i=this._components[C$e];C$i.started||(C$i._start(C$t),C$i.started=!0),C$i.enable&&C$i._preRenderUpdate(C$t)}},C$s._postRenderUpdateComponents=function(C$t){for(var C$e=0;C$e<this._components.length;C$e++){var C$i=this._components[C$e];C$i.started||(C$i._start(C$t),C$i.started=!0),C$i.enable&&C$i._postRenderUpdate(C$t)}},C$e(0,C$s,"_loaded",null,function(C$t){this.__loaded=C$t}),C$e(0,C$s,"fogColor",function(){return this._fogColor},function(C$t){this._fogColor=C$t,this._shaderValues.setValue(0,C$t.elements)}),C$e(0,C$s,"enableFog",function(){return this._enableFog},function(C$t){this._enableFog!==C$t&&((this._enableFog=C$t)?(this.addShaderDefine(C$Me.SHADERDEFINE_FOG),this.removeShaderDefine(C$Me.SAHDERDEFINE_DEPTHFOG)):this.removeShaderDefine(C$Me.SHADERDEFINE_FOG))}),C$e(0,C$s,"url",function(){return this._url}),C$e(0,C$s,"loaded",function(){return this.__loaded}),C$e(0,C$s,"enableDepthFog",function(){return this._enableDepthFog},function(C$t){this._enableDepthFog!=C$t&&((this._enableDepthFog=C$t)?(this.addShaderDefine(C$Me.SAHDERDEFINE_DEPTHFOG),this.removeShaderDefine(C$Me.SHADERDEFINE_FOG)):this.removeShaderDefine(C$Me.SAHDERDEFINE_DEPTHFOG))}),C$e(0,C$s,"fogStart",function(){return this._fogStart},function(C$t){this._fogStart=C$t,this._shaderValues.setValue(1,C$t)}),C$e(0,C$s,"fogRange",function(){return this._fogRange},function(C$t){this._fogRange=C$t,this._shaderValues.setValue(2,C$t)}),C$e(0,C$s,"ambientColor",function(){return this._ambientColor},function(C$t){this._ambientColor=C$t,this._shaderValues.setValue(21,C$t.elements)}),C$e(0,C$s,"scene",function(){return this}),C$e(0,C$s,"renderableSprite3Ds",function(){return this._renderableSprite3Ds.slice()}),_hpetz._sortScenes=function(C$t,C$e){if(C$t.parent!==C$b.stage||C$e.parent!==C$b.stage)return C$t.parent!==C$b.stage&&C$e.parent!==C$b.stage?_hpetz._sortScenes(C$t.parent,C$e.parent):C$t.parent===C$b.stage?-1:1;var C$i=C$b.stage._childs;return C$i.indexOf(C$t)-C$i.indexOf(C$e)},_hpetz.load=function(C$t){return C$b.loader.create(C$t,null,null,_hpetz)},_hpetz.FOGCOLOR=0,_hpetz.FOGSTART=1,_hpetz.FOGRANGE=2,_hpetz.LIGHTDIRECTION=3,_hpetz.LIGHTDIRCOLOR=4,_hpetz.POINTLIGHTPOS=5,_hpetz.POINTLIGHTRANGE=6,_hpetz.POINTLIGHTATTENUATION=7,_hpetz.POINTLIGHTCOLOR=8,_hpetz.SPOTLIGHTPOS=9,_hpetz.SPOTLIGHTDIRECTION=10,_hpetz.SPOTLIGHTSPOT=11,_hpetz.SPOTLIGHTRANGE=12,_hpetz.SPOTLIGHTATTENUATION=13,_hpetz.SPOTLIGHTCOLOR=14,_hpetz.SHADOWDISTANCE=15,_hpetz.SHADOWLIGHTVIEWPROJECT=16,_hpetz.SHADOWMAPPCFOFFSET=17,_hpetz.SHADOWMAPTEXTURE1=18,_hpetz.SHADOWMAPTEXTURE2=19,_hpetz.SHADOWMAPTEXTURE3=20,_hpetz.AMBIENTCOLOR=21,_hpetz.TIME=22,_hpetz),C$Pe=(C$t(c6htd8,"laya.d3.core.Sprite3D",C$i),C$m=c6htd8.prototype,C$b.imps(C$m,{"laya.d3.core.render.IUpdate":!0,"laya.resource.ICreateResource":!0,"laya.d3.core.IClone":!0}),C$m._setUrl=function(C$t){this._url=C$t},C$m._getGroup=function(){return this._group},C$m._setGroup=function(C$t){this._group=C$t},C$m._addChild3D=function(C$t){C$t.transform.parent=this.transform,this._hierarchyAnimator&&(C$t._hierarchyAnimator||C$t._setHierarchyAnimator(this._hierarchyAnimator,null),this._getAnimatorToLinkSprite3D(C$t,!0,[C$t.name])),this._scene&&(C$t._setBelongScene(this._scene),this._activeInHierarchy&&C$t._active&&C$t._activeHierarchy())},C$m._removeChild3D=function(C$t){C$t.transform.parent=null,this._scene&&(this._activeInHierarchy&&C$t._active&&C$t._inActiveHierarchy(),C$t._setUnBelongScene()),this._hierarchyAnimator&&(C$t._hierarchyAnimator==this._hierarchyAnimator&&C$t._clearHierarchyAnimator(this._hierarchyAnimator,null),this._getAnimatorToLinkSprite3D(C$t,!1,[C$t.name]))},C$m._parseBaseCustomProps=function(C$t){var C$e=this.transform.localPosition;C$t.translate?(C$e.fromArray(C$t.translate),C$e.x*=100,C$e.y*=100,C$e.z*=100):C$e.elements.fill(0),this.transform.localPosition=C$e;C$e=this.transform.localRotation;C$t.rotation?C$e.fromArray(C$t.rotation):C$e.fromArray([0,0,0,-1]),this.transform.localRotation=C$e;C$e=this.transform.localScale;C$t.scale?C$e.fromArray(C$t.scale):C$e.elements.fill(1),this.transform.localScale=C$e;C$e=C$t.layer;null!=C$e&&(this.layer=C$j.getLayerByNumber(C$e))},C$m._parseCustomComponent=function(C$u,C$t,C$e){for(var C$i in C$e){var C$n=C$e[C$i];switch(C$i){case"Animator":var C$r=this.addComponent(Animator);C$n.avatarPath?C$r.avatar=C$g.getRes(C$t[C$n.avatarPath]):(C$o=C$n.avatar)&&(C$r.avatar=C$g.getRes(C$t[C$o.path]),(C$o=C$o.linkSprites)&&C$u.once("hierarchyloaded",this,this._onRootNodeHierarchyLoaded,[C$r,C$o]));for(var C$s=C$n.clipPaths,C$c=C$s.length,C$a=0;C$a<C$c;C$a++)C$r.addClip(C$g.getRes(C$t[C$s[C$a]]));C$r.clip=C$g.getRes(C$t[C$s[0]]);var C$o=C$n.playOnWake;void 0!==C$o&&(C$r.playOnWake=C$o);break;case"Rigidbody":this.addComponent(Rigidbody);break;case"SphereCollider":var C$h=this.addComponent(SphereCollider);C$h.isTrigger=C$n.isTrigger;var C$l=C$h.center;C$l.fromArray(C$n.center),C$h.center=C$l,C$h.radius=C$n.radius;break;case"BoxCollider":C$l=this.addComponent(BoxCollider);C$l.isTrigger=C$n.isTrigger,C$l.center.fromArray(C$n.center);C$h=C$l.size;C$h.fromArray(C$n.size),C$l.size=C$h;break;case"MeshCollider":this.addComponent(MeshCollider)}}},C$m._onRootNodeHierarchyLoaded=function(C$t,C$e){for(var C$i in C$e){for(var C$n=this,C$r=C$e[C$i],C$s=0,C$a=C$r.length;C$s<C$a;C$s++){var C$o=C$r[C$s];if(""===C$o)break;if(!(C$n=C$n.getChildByName(C$o)))break}C$n&&C$t.linkSprite3DToAvatarNode(C$i,C$n)}},C$m._setHierarchyAnimator=function(C$t,C$e){this._changeHierarchyAnimator(C$t);for(var C$i=0,C$n=this._childs.length;C$i<C$n;C$i++){var C$r=this._childs[C$i];C$r._hierarchyAnimator==C$e&&C$r._setHierarchyAnimator(C$t,C$e)}},C$m._clearHierarchyAnimator=function(C$t,C$e){this._changeHierarchyAnimator(C$e);for(var C$i=0,C$n=this._childs.length;C$i<C$n;C$i++){var C$r=this._childs[C$i];C$r._hierarchyAnimator==C$t&&C$r._clearHierarchyAnimator(C$t,C$e)}},C$m._getAnimatorToLinkSprite3D=function(C$t,C$e,C$i){var C$n=this.getComponentByType(Animator);C$n&&(C$n.avatar?C$n.avatar._version||C$t._setAnimatorToLinkAvatar(C$n,C$e):C$t._setAnimatorToLinkSprite3DNoAvatar(C$n,C$e,C$i)),this._parent&&this._parent instanceof laya.d3.core.Sprite3D&&(C$i.unshift(this._parent.name),(C$n=this._parent)._hierarchyAnimator&&C$n._getAnimatorToLinkSprite3D(C$t,C$e,C$i))},C$m._setAnimatorToLinkSprite3DNoAvatar=function(C$t,C$e,C$i){var C$n=0,C$r=0;for(C$n=0,C$r=C$t.getClipCount();C$n<C$r;C$n++)C$t._handleSpriteOwnersBySprite(C$n,C$e,C$i,this);for(C$n=0,C$r=this._childs.length;C$n<C$r;C$n++){var C$s=this._childs[C$n],C$a=C$i.length;C$i.push(C$s.name),C$s._setAnimatorToLinkSprite3DNoAvatar(C$t,C$e,C$i),C$i.splice(C$a,1)}},C$m._changeHierarchyAnimator=function(C$t){this._hierarchyAnimator=C$t},C$m._isLinkSpriteToAnimationNode=function(C$t,C$e,C$i){var C$n=C$t._avatarNodes.indexOf(C$e),C$r=C$t._cacheSpriteToNodesMap;C$i?(this._transform.dummy=C$e.transform,C$t._cacheNodesToSpriteMap[C$n]=C$r.length,C$r.push(C$n)):(this._transform.dummy=null,C$i=C$t._cacheNodesToSpriteMap[C$n],C$t._cacheNodesToSpriteMap[C$n]=null,C$r.splice(C$i,1))},C$m._setBelongScene=function(C$t){this._scene=C$t;for(var C$e=0,C$i=this._childs.length;C$e<C$i;C$e++)this._childs[C$e]._setBelongScene(C$t)},C$m._setUnBelongScene=function(){this._scene=null;for(var C$t=0,C$e=this._childs.length;C$t<C$e;C$t++)this._childs[C$t]._setUnBelongScene()},C$m._activeHierarchy=function(){var C$t=0,C$e=0;for(this._activeInHierarchy=!0,this._addSelfRenderObjects(),C$t=0,C$e=this._colliders.length;C$t<C$e;C$t++)this._layer._addCollider(this._colliders[C$t]);for(this.event("activeinhierarchychanged",!0),C$t=0,C$e=this._childs.length;C$t<C$e;C$t++){var C$i=this._childs[C$t];C$i._active&&C$i._activeHierarchy()}},C$m._inActiveHierarchy=function(){var C$t=0,C$e=0;for(this._activeInHierarchy=!1,this._clearSelfRenderObjects(),C$t=0,C$e=this._colliders.length;C$t<C$e;C$t++){var C$i=this._colliders[C$t];C$i._clearCollsionMap(),this._layer._removeCollider(C$i)}for(this.event("activeinhierarchychanged",!1),C$t=0,C$e=this._childs.length;C$t<C$e;C$t++){var C$n=this._childs[C$t];C$n._active&&C$n._inActiveHierarchy()}},C$m.addComponent=function(C$t){var C$e,C$i=this._componentsMap.indexOf(C$t);if(-1===C$i)C$e=[],this._componentsMap.push(C$t),this._typeComponentsIndices.push(C$e);else if(C$e=this._typeComponentsIndices[C$i],this._components[C$e[0]].isSingleton)throw new Error("\u65e0\u6cd5\u5355\u5b9e\u4f8b\u521b\u5efa"+C$t+"\u7ec4\u4ef6\uff0c"+C$t+"\u7ec4\u4ef6\u5df2\u5b58\u5728\uff01");C$i=C$d.getInstance(C$t);return C$e.push(this._components.length),this._components.push(C$i),C$i instanceof laya.d3.component.Script&&this._scripts.push(C$i),C$i._initialize(this),C$i},C$m._removeComponent=function(C$t,C$e){var C$i,C$n=0,C$r=this._typeComponentsIndices[C$t],C$s=C$r[C$e],C$a=this._components[C$s];for(C$a instanceof laya.d3.component.Script&&this._scripts.splice(this._scripts.indexOf(C$a),1),C$r.splice(C$e,1),0===C$r.length&&(this._typeComponentsIndices.splice(C$t,1),this._componentsMap.splice(C$t,1)),C$n=0,C$i=this._componentsMap.length;C$n<C$i;C$n++)for(var C$o=(C$r=this._typeComponentsIndices[C$n]).length-1;0<=C$o;C$o--){var C$h=C$r[C$o];if(!(C$s<C$h))break;C$r[C$o]=--C$h}C$a._destroy()},C$m._clearSelfRenderObjects=function(){},C$m._addSelfRenderObjects=function(){},C$m._parseCustomProps=function(C$t,C$e,C$i,C$n){},C$m._updateChilds=function(C$t){var C$e=this._childs.length;if(0!==C$e)for(var C$i=0;C$i<C$e;++C$i)this._childs[C$i]._update(C$t)},C$m._getSortID=function(C$t,C$e){return 1e3*C$e.id+C$t._getVertexBuffer().vertexDeclaration.id},C$m._update=function(C$t){(C$t.owner=this)._activeInHierarchy&&(this._updateComponents(C$t),this._lateUpdateComponents(C$t),C$R.spriteCount++,this._childs.length&&this._updateChilds(C$t))},C$m.getProjectionViewWorldMatrix=function(C$t){return C$ie.multiply(C$t,this.transform.worldMatrix,this._projectionViewWorldMatrix),this._projectionViewWorldMatrix},C$m.loadHierarchy=function(C$t){this.addChild(laya.d3.core.Sprite3D.load(C$t))},C$m.addChildAt=function(C$t,C$e){if(!(C$t instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");if(!C$t||this.destroyed||C$t===this)return C$t;var C$i;if(C$t.zOrder&&this._set$P("hasZorder",!0),0<=C$e&&C$e<=this._childs.length)return C$t._parent===this?(C$i=this.getChildIndex(C$t),this._childs.splice(C$i,1),this._childs.splice(C$e,0,C$t),this.conchModel&&(this.conchModel.removeChild(C$t.conchModel),this.conchModel.addChildAt(C$t.conchModel,C$e)),this._childChanged()):(C$t.parent&&C$t.parent.removeChild(C$t),this._childs===C$y.ARRAY_EMPTY&&(this._childs=[]),this._childs.splice(C$e,0,C$t),this.conchModel&&this.conchModel.addChildAt(C$t.conchModel,C$e),(C$t.parent=this)._addChild3D(C$t)),C$t;throw new Error("appendChildAt:The index is out of bounds")},C$m.addChild=function(C$t){if(!(C$t instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");return!C$t||this.destroyed||C$t===this||(C$t.zOrder&&this._set$P("hasZorder",!0),C$t._parent===this?(C$e=this.getChildIndex(C$t))!==this._childs.length-1&&(this._childs.splice(C$e,1),this._childs.push(C$t),this.conchModel&&(this.conchModel.removeChild(C$t.conchModel),this.conchModel.addChildAt(C$t.conchModel,this._childs.length-1)),this._childChanged()):(C$t.parent&&C$t.parent.removeChild(C$t),this._childs===C$y.ARRAY_EMPTY&&(this._childs=[]),this._childs.push(C$t),this.conchModel&&this.conchModel.addChildAt(C$t.conchModel,this._childs.length-1),(C$t.parent=this)._childChanged(),this._addChild3D(C$t))),C$t;var C$e},C$m.removeChildAt=function(C$t){var C$e=this.getChildAt(C$t);return C$e&&(this._removeChild3D(C$e),this._childs.splice(C$t,1),this.conchModel&&this.conchModel.removeChild(C$e.conchModel),C$e.parent=null),C$e},C$m.removeChildren=function(C$t,C$e){if(void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=2147483647),this._childs&&0<this._childs.length){var C$i=this._childs;var C$n;0===C$t&&C$s<=C$e?(C$n=C$i,this._childs=C$y.ARRAY_EMPTY):C$n=C$i.splice(C$t,C$e-C$t);for(var C$r=0,C$s=C$n.length;C$r<C$s;C$r++)this._removeChild3D(C$n[C$r]),C$n[C$r].parent=null,this.conchModel&&this.conchModel.removeChild(C$n[C$r].conchModel)}return this},C$m.onAsynLoaded=function(C$t,C$e,C$i){var C$n=C$e[0];if("Sprite3D"!==C$n.type)throw new Error("Sprite3D: The .lh file root type must be Sprite3D,please use other function to  load  this file.");C$e=C$e[1];C$ge._createNodeByJson(this,C$n,this,C$e),this.event("hierarchyloaded",[this]),this.__loaded=!0},C$m.cloneTo=function(C$t){if(this.destroyed)throw new Error("Sprite3D: Can't be cloned if the Sprite3D has destroyed.");var C$e=C$t;C$e.name=this.name,C$e._destroyed=this._destroyed,C$e.timer=this.timer,C$e._$P=this._$P,C$e.active=this._active;C$t=C$e.transform.localPosition;this.transform.localPosition.cloneTo(C$t),C$e.transform.localPosition=C$t;C$t=C$e.transform.localRotation;this.transform.localRotation.cloneTo(C$t),C$e.transform.localRotation=C$t;C$t=C$e.transform.localScale;this.transform.localScale.cloneTo(C$t),C$e.transform.localScale=C$t,C$e.isStatic=this.isStatic;var C$i=0,C$n=0;for(C$i=0,C$n=this._componentsMap.length;C$i<C$n;C$i++){var C$u=C$e.addComponent(this._componentsMap[C$i]);this._components[C$i]._cloneTo(C$u)}for(C$i=0,C$n=this._childs.length;C$i<C$n;C$i++)C$e.addChild(this._childs[C$i].clone());var C$r=C$e.getComponentByType(Animator);if(C$r){var C$s=C$r._linkSpritesData;if(C$s)for(var C$a in C$s){for(var C$o=C$s[C$a],C$h=C$e,C$l=0,C$c=C$o.length;C$l<C$c&&(C$h=C$h.getChildByName(C$o[C$l]));C$l++);C$h&&(C$a=C$r._avatarNodeMap[C$a],C$h._isLinkSpriteToAnimationNode(C$r,C$a,!0))}}},C$m.clone=function(){var C$t=new this.constructor;return this.cloneTo(C$t),C$t},C$m.destroy=function(C$t){if(void 0===C$t&&(C$t=!0),!this.destroyed){laya.display.Node.prototype.destroy.call(this,C$t);var C$e,C$i=0;for(C$i=0,C$e=this._components.length;C$i<C$e;C$i++)this._components[C$i]._destroy();this._components=null,this._componentsMap=null,this._typeComponentsIndices=null,this._transform=null,this._colliders=null,C$g.clearRes(this.url),this.loaded||C$ve._cancelLoadByUrl(this.url)}},C$m._handleSpriteToAvatar=function(C$t,C$e){C$t._avatarNodes;var C$i=C$t._avatarNodeMap[this.name];C$i&&C$i.name===this.name&&!this._transform.dummy&&this._isLinkSpriteToAnimationNode(C$t,C$i,C$e)},C$m._setAnimatorToLinkAvatar=function(C$t,C$e){this._handleSpriteToAvatar(C$t,C$e);for(var C$i=0,C$n=this._childs.length;C$i<C$n;C$i++)this._childs[C$i]._setAnimatorToLinkAvatar(C$t,C$e)},C$e(0,C$m,"activeInHierarchy",function(){return this._activeInHierarchy}),C$e(0,C$m,"_loaded",null,function(C$t){this.__loaded=C$t}),C$e(0,C$m,"active",function(){return this._active},function(C$t){this._active!==C$t&&(this._active=C$t,this._parent&&(this._parent===this._scene&&this._parent.displayedInStage||this._parent._activeInHierarchy)&&(C$t?this._activeHierarchy():this._inActiveHierarchy()))}),C$e(0,C$m,"componentsCount",function(){return this._components.length}),C$e(0,C$m,"loaded",function(){return this.__loaded}),C$e(0,C$m,"id",function(){return this._id}),C$e(0,C$m,"url",function(){return this._url}),C$e(0,C$m,"layer",function(){return this._layer},function(C$t){if(this._layer!==C$t){if(!C$t)throw new Error("Layer value can be null.");if(this._activeInHierarchy){var C$e=0,C$i=this._colliders.length;if(this._layer)for(C$e=0;C$e<C$i;C$e++)this._layer._removeCollider(this._colliders[C$e]);for(C$e=0;C$e<C$i;C$e++)C$t._addCollider(this._colliders[C$e])}this._layer=C$t,this.event("layerchanged",C$t)}}),C$e(0,C$m,"scene",function(){return this._scene}),C$e(0,C$m,"transform",function(){return this._transform}),c6htd8.instantiate=function(C$t,C$e,C$i,C$n,C$r){void 0===C$i&&(C$i=!0);var C$s=C$t.clone();C$e&&C$e.addChild(C$s);C$e=C$s.transform;return C$i?(C$i=C$e.worldMatrix,C$t.transform.worldMatrix.cloneTo(C$i),C$e.worldMatrix=C$i):(C$n&&(C$e.position=C$n),C$r&&(C$e.rotation=C$r)),C$s},c6htd8.load=function(C$t){return C$b.loader.create(C$t,null,null,c6htd8)},c6htd8.WORLDMATRIX=0,c6htd8.MVPMATRIX=1,c6htd8._uniqueIDCounter=0,c6htd8._nameNumberCounter=0,c6htd8),C$Le=(C$t(d6cgk,"laya.d3.shader.Shader3D",C$c),(C$ye=d6cgk.prototype).recreateResource=function(){C$M.now(),this._compile(),this.completeCreate(),this.memorySize=0},C$ye.disposeResource=function(){C$k.mainContext.deleteShader(this._vshader),C$k.mainContext.deleteShader(this._pshader),C$k.mainContext.deleteProgram(this._program),this._vshader=this._pshader=this._program=null,this._attributeParams=null,this._uniformParams=null,this.memorySize=0,this._curActTexIndex=0},C$ye._compile=function(){if(!C$k.mainContext.isContextLost()&&this._vs&&this._ps&&!this._attributeParams&&!this._uniformParams){this._reCompile=!0,this._attributeParams=[],this._uniformParams=[];var C$t=[this._vs,this._ps],C$e=C$k.mainContext;if(this._program=C$e.createProgram(),this._vshader=d6cgk._createShader(C$e,C$t[0],35633),this._pshader=d6cgk._createShader(C$e,C$t[1],35632),C$e.attachShader(this._program,this._vshader),C$e.attachShader(this._program,this._pshader),C$e.linkProgram(this._program),!C$T.isConchApp&&C$Me.debugMode&&!C$e.getProgramParameter(this._program,35714))throw C$e.getProgramInfoLog(this._program);var C$i,C$n,C$r=0,C$s=0;for(C$n=C$T.isConchApp?C$e.getProgramParameterEx(this._vs,this._ps,"",35721):C$e.getProgramParameter(this._program,35721),C$r=0;C$r<C$n;C$r++){var C$a=null;C$i={vartype:"attribute",ivartype:0,attrib:C$a=C$T.isConchApp?C$e.getActiveAttribEx(this._vs,this._ps,"",C$r):C$e.getActiveAttrib(this._program,C$r),location:C$e.getAttribLocation(this._program,C$a.name),name:C$a.name,type:C$a.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0},this._attributeParams.push(C$i)}var C$o;for(C$o=C$T.isConchApp?C$e.getProgramParameterEx(this._vs,this._ps,"",35718):C$e.getProgramParameter(this._program,35718),C$r=0;C$r<C$o;C$r++){var C$h=null;C$h=C$T.isConchApp?C$e.getActiveUniformEx(this._vs,this._ps,"",C$r):C$e.getActiveUniform(this._program,C$r),0<(C$i={vartype:"uniform",ivartype:1,attrib:C$a,location:C$e.getUniformLocation(this._program,C$h.name),name:C$h.name,type:C$h.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0}).name.indexOf("[0]")&&(C$i.name=C$i.name.substr(0,C$i.name.length-3),C$i.isArray=!0,C$i.location=C$e.getUniformLocation(this._program,C$i.name)),this._uniformParams.push(C$i)}for(C$r=0,C$s=this._attributeParams.length;C$r<C$s;C$r++)(C$i=this._attributeParams[C$r]).indexOfParams=C$r,C$i.index=1,C$i.value=[C$i.location,null],C$i.codename=C$i.name,C$i.name=null!=this._attributeMap[C$i.codename]?this._attributeMap[C$i.codename]:C$i.codename,this._attributeParamsMap.push(C$i.name),this._attributeParamsMap.push(C$i),C$i._this=this,C$i.uploadedValue=[],C$i.fun=this._attribute;for(C$r=0,C$s=this._uniformParams.length;C$r<C$s;C$r++)switch((C$i=this._uniformParams[C$r]).indexOfParams=C$r,C$i.index=1,C$i.value=[C$i.location,null],C$i.codename=C$i.name,null!=this._sceneUniformMap[C$i.codename]?(C$i.name=this._sceneUniformMap[C$i.codename],this._sceneUniformParamsMap.push(C$i.name),this._sceneUniformParamsMap.push(C$i)):null!=this._cameraUniformMap[C$i.codename]?(C$i.name=this._cameraUniformMap[C$i.codename],this._cameraUniformParamsMap.push(C$i.name),this._cameraUniformParamsMap.push(C$i)):null!=this._spriteUniformMap[C$i.codename]?(C$i.name=this._spriteUniformMap[C$i.codename],this._spriteUniformParamsMap.push(C$i.name),this._spriteUniformParamsMap.push(C$i)):null!=this._materialUniformMap[C$i.codename]?(C$i.name=this._materialUniformMap[C$i.codename],this._materialUniformParamsMap.push(C$i.name),this._materialUniformParamsMap.push(C$i)):null!=this._renderElementUniformMap[C$i.codename]?(C$i.name=this._renderElementUniformMap[C$i.codename],this._renderElementUniformParamsMap.push(C$i.name),this._renderElementUniformParamsMap.push(C$i)):console.log("Shader:can't find uinform name:"+C$i.codename+" in shader file."),C$i._this=this,C$i.uploadedValue=[],C$i.type){case 5124:C$i.fun=C$i.isArray?this._uniform1iv:this._uniform1i;break;case 5126:C$i.fun=C$i.isArray?this._uniform1fv:this._uniform1f;break;case 35664:C$i.fun=C$i.isArray?this._uniform_vec2v:this._uniform_vec2;break;case 35665:C$i.fun=C$i.isArray?this._uniform_vec3v:this._uniform_vec3;break;case 35666:C$i.fun=C$i.isArray?this._uniform_vec4v:this._uniform_vec4;break;case 35678:C$i.fun=this._uniform_sampler2D;break;case 35680:C$i.fun=this._uniform_samplerCube;break;case 35676:C$i.fun=this._uniformMatrix4fv;break;case 35670:C$i.fun=this._uniform1i;break;case 35674:C$i.fun=this._uinformMatrix2fv;break;case 35675:C$i.fun=this._uinformMatrix3fv;break;default:throw new Error("compile shader err!")}}},C$ye._attribute=function(C$t,C$e){var C$i=C$k.mainContext,C$n=C$_._enableAtributes,C$t=C$t.location;return C$n[C$t]||C$i.enableVertexAttribArray(C$t),C$i.vertexAttribPointer(C$t,C$e[0],C$e[1],C$e[2],C$e[3],C$e[4]),C$n[C$t]=C$_._bindVertexBuffer,1},C$ye._uniform1f=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e?(C$k.mainContext.uniform1f(C$t.location,C$i[0]=C$e),1):0},C$ye._uniform1fv=function(C$t,C$e){var C$i;return C$e.length<4?(C$i=C$t.uploadedValue)[0]!==C$e[0]||C$i[1]!==C$e[1]||C$i[2]!==C$e[2]||C$i[3]!==C$e[3]?(C$k.mainContext.uniform1fv(C$t.location,C$e),C$i[0]=C$e[0],C$i[1]=C$e[1],C$i[2]=C$e[2],C$i[3]=C$e[3],1):0:(C$k.mainContext.uniform1fv(C$t.location,C$e),1)},C$ye._uniform_vec2=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e[0]||C$i[1]!==C$e[1]?(C$k.mainContext.uniform2f(C$t.location,C$i[0]=C$e[0],C$i[1]=C$e[1]),1):0},C$ye._uniform_vec2v=function(C$t,C$e){var C$i;return C$e.length<2?(C$i=C$t.uploadedValue)[0]!==C$e[0]||C$i[1]!==C$e[1]||C$i[2]!==C$e[2]||C$i[3]!==C$e[3]?(C$k.mainContext.uniform2fv(C$t.location,C$e),C$i[0]=C$e[0],C$i[1]=C$e[1],C$i[2]=C$e[2],C$i[3]=C$e[3],1):0:(C$k.mainContext.uniform2fv(C$t.location,C$e),1)},C$ye._uniform_vec3=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e[0]||C$i[1]!==C$e[1]||C$i[2]!==C$e[2]?(C$k.mainContext.uniform3f(C$t.location,C$i[0]=C$e[0],C$i[1]=C$e[1],C$i[2]=C$e[2]),1):0},C$ye._uniform_vec3v=function(C$t,C$e){return C$k.mainContext.uniform3fv(C$t.location,C$e),1},C$ye._uniform_vec4=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e[0]||C$i[1]!==C$e[1]||C$i[2]!==C$e[2]||C$i[3]!==C$e[3]?(C$k.mainContext.uniform4f(C$t.location,C$i[0]=C$e[0],C$i[1]=C$e[1],C$i[2]=C$e[2],C$i[3]=C$e[3]),1):0},C$ye._uniform_vec4v=function(C$t,C$e){return C$k.mainContext.uniform4fv(C$t.location,C$e),1},C$ye._uniformMatrix2fv=function(C$t,C$e){return C$k.mainContext.uniformMatrix2fv(C$t.location,!1,C$e),1},C$ye._uniformMatrix3fv=function(C$t,C$e){return C$k.mainContext.uniformMatrix3fv(C$t.location,!1,C$e),1},C$ye._uniformMatrix4fv=function(C$t,C$e){return C$k.mainContext.uniformMatrix4fv(C$t.location,!1,C$e),1},C$ye._uinformMatrix2fv=function(C$t,C$e){return C$k.mainContext.uniformMatrix2fv(C$t.location,!1,C$e),1},C$ye._uinformMatrix3fv=function(C$t,C$e){return C$k.mainContext.uniformMatrix3fv(C$t.location,!1,C$e),1},C$ye._uniform1i=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e?(C$k.mainContext.uniform1i(C$t.location,C$i[0]=C$e),1):0},C$ye._uniform1iv=function(C$t,C$e){return C$k.mainContext.uniform1iv(C$t.location,C$e),1},C$ye._uniform_ivec2=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e[0]||C$i[1]!==C$e[1]?(C$k.mainContext.uniform2i(C$t.location,C$i[0]=C$e[0],C$i[1]=C$e[1]),1):0},C$ye._uniform_ivec2v=function(C$t,C$e){return C$k.mainContext.uniform2iv(C$t.location,C$e),1},C$ye._uniform_vec3i=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e[0]||C$i[1]!==C$e[1]||C$i[2]!==C$e[2]?(C$k.mainContext.uniform3i(C$t.location,C$i[0]=C$e[0],C$i[1]=C$e[1],C$i[2]=C$e[2]),1):0},C$ye._uniform_vec3vi=function(C$t,C$e){return C$k.mainContext.uniform3iv(C$t.location,C$e),1},C$ye._uniform_vec4i=function(C$t,C$e){var C$i=C$t.uploadedValue;return C$i[0]!==C$e[0]||C$i[1]!==C$e[1]||C$i[2]!==C$e[2]||C$i[3]!==C$e[3]?(C$k.mainContext.uniform4i(C$t.location,C$i[0]=C$e[0],C$i[1]=C$e[1],C$i[2]=C$e[2],C$i[3]=C$e[3]),1):0},C$ye._uniform_vec4vi=function(C$t,C$e){return C$k.mainContext.uniform4iv(C$t.location,C$e),1},C$ye._uniform_sampler2D=function(C$t,C$e){var C$e=C$e.source||C$e.defaulteTexture.source,C$i=C$k.mainContext,C$n=C$t.uploadedValue;if(null!=C$n[0])return C$i.activeTexture(d6cgk._TEXTURES[C$n[0]]),C$e&&C$N.bindTexture(C$i,3553,C$e),0;if(7<this._curActTexIndex)throw new Error("Shader3D: shader support textures max count is 8,can't large than it.");return C$n[0]=this._curActTexIndex,C$i.uniform1i(C$t.location,this._curActTexIndex),C$i.activeTexture(d6cgk._TEXTURES[this._curActTexIndex]),C$e&&C$N.bindTexture(C$i,3553,C$e),this._curActTexIndex++,1},C$ye._uniform_samplerCube=function(C$t,C$e){var C$e=C$e.source||C$e.defaulteTexture.source,C$i=C$k.mainContext,C$n=C$t.uploadedValue;if(null!=C$n[0])return C$i.activeTexture(d6cgk._TEXTURES[C$n[0]]),C$e?C$N.bindTexture(C$i,34067,C$e):C$N.bindTexture(C$i,34067,SolidColorTextureCube.grayTexture.source),0;if(7<this._curActTexIndex)throw new Error("Shader3D: shader support textures max count is 8,can't large than it.");return C$n[0]=this._curActTexIndex,C$i.uniform1i(C$t.location,this._curActTexIndex),C$i.activeTexture(d6cgk._TEXTURES[this._curActTexIndex]),C$e?C$N.bindTexture(C$i,34067,C$e):C$N.bindTexture(C$i,34067,SolidColorTextureCube.grayTexture.source),this._curActTexIndex++,1},C$ye._noSetValue=function(C$t){console.log("no....:"+C$t.name)},C$ye.bind=function(){return C$c.activeShader=this,(C$c.bindShader=this).activeResource(),C$N.UseProgram(this._program)},C$ye.uploadAttributes=function(C$t,C$e){for(var C$i,C$n,C$r=0,C$s=0,C$a=this._attributeParamsMap.length;C$s<C$a;C$s+=2)C$n=this._attributeParamsMap[C$s+1],null!=(C$i=C$t[this._attributeParamsMap[C$s]])&&(C$e&&C$e[C$n.name]&&C$e[C$n.name].bind(),C$r+=C$n.fun.call(this,C$n,C$i));C$R.shaderCall+=C$r},C$ye.uploadAttributesX=function(C$t,C$e){for(var C$i,C$n,C$r=0,C$s=0,C$a=this._attributeParamsMap.length;C$s<C$a;C$s+=2)C$n=this._attributeParamsMap[C$s+1],null!=(C$i=C$t[this._attributeParamsMap[C$s]])&&(C$e._bind(),C$r+=C$n.fun.call(this,C$n,C$i));C$R.shaderCall+=C$r},C$ye.uploadSceneUniforms=function(C$t){for(var C$e,C$i,C$n=0,C$r=0,C$s=this._sceneUniformParamsMap.length;C$r<C$s;C$r+=2)C$i=this._sceneUniformParamsMap[C$r+1],null!=(C$e=C$t[this._sceneUniformParamsMap[C$r]])&&(C$n+=C$i.fun.call(this,C$i,C$e));C$R.shaderCall+=C$n},C$ye.uploadCameraUniforms=function(C$t){for(var C$e,C$i,C$n=0,C$r=0,C$s=this._cameraUniformParamsMap.length;C$r<C$s;C$r+=2)C$i=this._cameraUniformParamsMap[C$r+1],null!=(C$e=C$t[this._cameraUniformParamsMap[C$r]])&&(C$n+=C$i.fun.call(this,C$i,C$e));C$R.shaderCall+=C$n},C$ye.uploadSpriteUniforms=function(C$t){for(var C$e,C$i,C$n=0,C$r=0,C$s=this._spriteUniformParamsMap.length;C$r<C$s;C$r+=2)C$i=this._spriteUniformParamsMap[C$r+1],null!=(C$e=C$t[this._spriteUniformParamsMap[C$r]])&&(C$n+=C$i.fun.call(this,C$i,C$e));C$R.shaderCall+=C$n},C$ye.uploadMaterialUniforms=function(C$t){for(var C$e,C$i,C$n=0,C$r=0,C$s=this._materialUniformParamsMap.length;C$r<C$s;C$r+=2)C$i=this._materialUniformParamsMap[C$r+1],null!=(C$e=C$t[this._materialUniformParamsMap[C$r]])&&(C$n+=C$i.fun.call(this,C$i,C$e));C$R.shaderCall+=C$n},C$ye.uploadRenderElementUniforms=function(C$t){for(var C$e,C$i,C$n=0,C$r=0,C$s=this._renderElementUniformParamsMap.length;C$r<C$s;C$r+=2)C$i=this._renderElementUniformParamsMap[C$r+1],null!=(C$e=C$t[this._renderElementUniformParamsMap[C$r]])&&(C$n+=C$i.fun.call(this,C$i,C$e));C$R.shaderCall+=C$n},d6cgk.create=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l){return new d6cgk(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l)},d6cgk.addInclude=function(C$t,C$e){C$E.addInclude(C$t,C$e)},d6cgk._createShader=function(C$t,C$e,C$i){C$i=C$t.createShader(C$i);if(C$t.shaderSource(C$i,C$e),C$t.compileShader(C$i),C$Me.debugMode&&!C$t.getShaderParameter(C$i,35713))throw C$t.getShaderInfoLog(C$i);return C$i},d6cgk.PERIOD_RENDERELEMENT=0,d6cgk.PERIOD_MATERIAL=1,d6cgk.PERIOD_SPRITE=2,d6cgk.PERIOD_CAMERA=3,d6cgk.PERIOD_SCENE=4,d6cgk._TEXTURES=[33984,33985,33986,33987,33988,33989,33990,33991],d6cgk._count=0,d6cgk._preCompile=!1,d6cgk.extCompileFunc=null,d6cgk.extCompileObj=null,C$h(d6cgk,["shaderParamsMap",function(){return this.shaderParamsMap={float:5126,int:5124,bool:35670,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676,sampler2D:35678,samplerCube:35680}},"nameKey",function(){return this.nameKey=new C$P}]),d6cgk),C$Be=(C$t(yqrb5o,"laya.d3.core.material.StandardMaterial",C$Ke=C$De),(C$C=yqrb5o.prototype).disableLight=function(){this._addDisablePublicShaderDefine(C$Me.SHADERDEFINE_POINTLIGHT|C$Me.SHADERDEFINE_SPOTLIGHT|C$Me.SHADERDEFINE_DIRECTIONLIGHT)},C$C.disableFog=function(){this._addDisablePublicShaderDefine(C$Me.SHADERDEFINE_FOG)},C$C.onAsynLoaded=function(C$t,C$e,C$i){var C$n=C$e[0];if(C$n.version)C$Ke.prototype.onAsynLoaded.call(this,C$t,C$e,C$i);else{var C$t=C$e[1],C$r=C$n.props;for(var C$s in C$r)this[C$s]=C$r[C$s];yqrb5o._parseStandardMaterial(C$t,this,C$n),this._endLoaded()}},C$C.cloneTo=function(C$t){C$Ke.prototype.cloneTo.call(this,C$t);this._transformUV&&(C$t._transformUV=this._transformUV.clone())},C$e(0,C$C,"ambientColor",function(){return this._getColor(9)},function(C$t){this._setColor(9,C$t)}),C$e(0,C$C,"ambientTexture",function(){return this._getTexture(5)},function(C$t){C$t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_AMBIENTMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_AMBIENTMAP),this._setTexture(5,C$t)}),C$e(0,C$C,"renderMode",null,function(C$t){switch(C$t){case 1:this.renderQueue=2e3,this.depthWrite=!0,this.cull=2,this.blend=0,this.alphaTest=!1,this._removeShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;case 2:this.renderQueue=2e3,this.depthWrite=!0,this.cull=0,this.blend=0,this.alphaTest=!1,this._removeShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;case 3:this.depthWrite=!0,this.cull=2,this.blend=0,this.renderQueue=2e3,this.alphaTest=!0,this._removeShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;case 4:this.renderQueue=2e3,this.depthWrite=!0,this.cull=0,this.blend=0,this.alphaTest=!0,this._removeShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;case 13:this.renderQueue=3e3,this.depthWrite=!0,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;case 14:this.renderQueue=3e3,this.depthWrite=!0,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;case 15:this.renderQueue=3e3,this.depthWrite=!0,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;case 16:this.renderQueue=3e3,this.depthWrite=!0,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;case 5:this.renderQueue=3e3,this.depthWrite=!1,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;case 6:this.renderQueue=3e3,this.depthWrite=!1,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;case 7:this.renderQueue=3e3,this.depthWrite=!1,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;case 8:this.renderQueue=3e3,this.depthWrite=!1,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;case 9:this.renderQueue=3e3,this.depthTest=513,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;case 10:this.renderQueue=3e3,this.depthTest=513,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;case 11:this.renderQueue=3e3,this.depthTest=513,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;case 12:this.renderQueue=3e3,this.depthTest=513,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(yqrb5o.SHADERDEFINE_ADDTIVEFOG);break;default:throw new Error("Material:renderMode value error.")}this._conchMaterial&&this._conchMaterial.setRenderMode(C$t)}),C$e(0,C$C,"reflectColor",function(){return this._getColor(12)},function(C$t){this._setColor(12,C$t)}),C$e(0,C$C,"tilingOffset",function(){return this._getColor(15)},function(C$t){var C$e;C$t&&(1!=(C$e=C$t.elements)[0]||1!=C$e[1]||0!=C$e[2]||0!=C$e[3])?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_TILINGOFFSET):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_TILINGOFFSET),this._setColor(15,C$t)}),C$e(0,C$C,"albedo",function(){return this._getColor(7)},function(C$t){this._setColor(7,C$t)}),C$e(0,C$C,"diffuseColor",function(){return this._getColor(10)},function(C$t){this._setColor(10,C$t)}),C$e(0,C$C,"albedoColor",function(){return this._getColor(7)},function(C$t){this._setColor(7,C$t)}),C$e(0,C$C,"specularColor",function(){return this._getColor(11)},function(C$t){this._setColor(11,C$t)}),C$e(0,C$C,"diffuseTexture",function(){return this._getTexture(1)},function(C$t){C$t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_DIFFUSEMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_DIFFUSEMAP),this._setTexture(1,C$t)}),C$e(0,C$C,"normalTexture",function(){return this._getTexture(2)},function(C$t){C$t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_NORMALMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_NORMALMAP),this._setTexture(2,C$t)}),C$e(0,C$C,"specularTexture",function(){return this._getTexture(3)},function(C$t){C$t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_SPECULARMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_SPECULARMAP),this._setTexture(3,C$t)}),C$e(0,C$C,"emissiveTexture",function(){return this._getTexture(4)},function(C$t){C$t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_EMISSIVEMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_EMISSIVEMAP),this._setTexture(4,C$t)}),C$e(0,C$C,"reflectTexture",function(){return this._getTexture(6)},function(C$t){C$t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_REFLECTMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_REFLECTMAP),this._setTexture(6,C$t)}),C$e(0,C$C,"transformUV",function(){return this._transformUV},function(C$t){this._transformUV=C$t,this._setMatrix4x4(13,C$t.matrix),C$t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_UVTRANSFORM):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_UVTRANSFORM),this._conchMaterial&&this._conchMaterial.setShaderValue(13,C$t.matrix.elements,0)}),yqrb5o.__init__=function(){yqrb5o.SHADERDEFINE_DIFFUSEMAP=yqrb5o.shaderDefines.registerDefine("DIFFUSEMAP"),yqrb5o.SHADERDEFINE_NORMALMAP=yqrb5o.shaderDefines.registerDefine("NORMALMAP"),yqrb5o.SHADERDEFINE_SPECULARMAP=yqrb5o.shaderDefines.registerDefine("SPECULARMAP"),yqrb5o.SHADERDEFINE_EMISSIVEMAP=yqrb5o.shaderDefines.registerDefine("EMISSIVEMAP"),yqrb5o.SHADERDEFINE_AMBIENTMAP=yqrb5o.shaderDefines.registerDefine("AMBIENTMAP"),yqrb5o.SHADERDEFINE_REFLECTMAP=yqrb5o.shaderDefines.registerDefine("REFLECTMAP"),yqrb5o.SHADERDEFINE_UVTRANSFORM=yqrb5o.shaderDefines.registerDefine("UVTRANSFORM"),yqrb5o.SHADERDEFINE_TILINGOFFSET=yqrb5o.shaderDefines.registerDefine("TILINGOFFSET"),yqrb5o.SHADERDEFINE_ADDTIVEFOG=yqrb5o.shaderDefines.registerDefine("ADDTIVEFOG")},yqrb5o.load=function(C$t){return C$b.loader.create(C$t,null,null,yqrb5o)},yqrb5o._parseStandardMaterial=function(C$t,C$e,C$i){var C$i=C$i.customProps,C$n=C$i.ambientColor;C$e.ambientColor=new C$A(C$n[0],C$n[1],C$n[2]);C$n=C$i.diffuseColor;C$e.diffuseColor=new C$A(C$n[0],C$n[1],C$n[2]);C$n=C$i.specularColor;C$e.specularColor=new C$he(C$n[0],C$n[1],C$n[2],C$n[3]);C$n=C$i.reflectColor;C$e.reflectColor=new C$A(C$n[0],C$n[1],C$n[2]);C$n=C$i.albedoColor;C$n&&(C$e.albedo=new C$he(C$n[0],C$n[1],C$n[2],C$n[3]));C$n=C$i.diffuseTexture.texture2D;C$n&&(C$e.diffuseTexture=C$g.getRes(C$t[C$n]));C$n=C$i.normalTexture.texture2D;C$n&&(C$e.normalTexture=C$g.getRes(C$t[C$n]));C$n=C$i.specularTexture.texture2D;C$n&&(C$e.specularTexture=C$g.getRes(C$t[C$n]));C$n=C$i.emissiveTexture.texture2D;C$n&&(C$e.emissiveTexture=C$g.getRes(C$t[C$n]));C$n=C$i.ambientTexture.texture2D;C$n&&(C$e.ambientTexture=C$g.getRes(C$t[C$n]));C$n=C$i.reflectTexture.texture2D;C$n&&(C$e.reflectTexture=C$g.getRes(C$t[C$n]))},yqrb5o.RENDERMODE_OPAQUE=1,yqrb5o.RENDERMODE_OPAQUEDOUBLEFACE=2,yqrb5o.RENDERMODE_CUTOUT=3,yqrb5o.RENDERMODE_CUTOUTDOUBLEFACE=4,yqrb5o.RENDERMODE_TRANSPARENT=13,yqrb5o.RENDERMODE_TRANSPARENTDOUBLEFACE=14,yqrb5o.RENDERMODE_ADDTIVE=15,yqrb5o.RENDERMODE_ADDTIVEDOUBLEFACE=16,yqrb5o.RENDERMODE_DEPTHREAD_TRANSPARENT=5,yqrb5o.RENDERMODE_DEPTHREAD_TRANSPARENTDOUBLEFACE=6,yqrb5o.RENDERMODE_DEPTHREAD_ADDTIVE=7,yqrb5o.RENDERMODE_DEPTHREAD_ADDTIVEDOUBLEFACE=8,yqrb5o.RENDERMODE_NONDEPTH_TRANSPARENT=9,yqrb5o.RENDERMODE_NONDEPTH_TRANSPARENTDOUBLEFACE=10,yqrb5o.RENDERMODE_NONDEPTH_ADDTIVE=11,yqrb5o.RENDERMODE_NONDEPTH_ADDTIVEDOUBLEFACE=12,yqrb5o.SHADERDEFINE_DIFFUSEMAP=0,yqrb5o.SHADERDEFINE_NORMALMAP=0,yqrb5o.SHADERDEFINE_SPECULARMAP=0,yqrb5o.SHADERDEFINE_EMISSIVEMAP=0,yqrb5o.SHADERDEFINE_AMBIENTMAP=0,yqrb5o.SHADERDEFINE_REFLECTMAP=0,yqrb5o.SHADERDEFINE_UVTRANSFORM=0,yqrb5o.SHADERDEFINE_TILINGOFFSET=0,yqrb5o.SHADERDEFINE_ADDTIVEFOG=0,yqrb5o.DIFFUSETEXTURE=1,yqrb5o.NORMALTEXTURE=2,yqrb5o.SPECULARTEXTURE=3,yqrb5o.EMISSIVETEXTURE=4,yqrb5o.AMBIENTTEXTURE=5,yqrb5o.REFLECTTEXTURE=6,yqrb5o.ALBEDO=7,yqrb5o.UVANIAGE=8,yqrb5o.MATERIALAMBIENT=9,yqrb5o.MATERIALDIFFUSE=10,yqrb5o.MATERIALSPECULAR=11,yqrb5o.MATERIALREFLECT=12,yqrb5o.UVMATRIX=13,yqrb5o.UVAGE=14,yqrb5o.TILINGOFFSET=15,C$h(yqrb5o,["defaultMaterial",function(){var C$t=new yqrb5o;return C$t.lock=!0,this.defaultMaterial=C$t},"shaderDefines",function(){return this.shaderDefines=new C$ce(C$De.shaderDefines)}]),yqrb5o),C$ke=(C$t(o50kq,"laya.d3.graphics.IndexBuffer3D",C$$e=C$_),(C$a=o50kq.prototype).setData=function(C$t,C$e,C$i,C$n){void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0),void 0===C$n&&(C$n=4294967295);var C$r=0;if("ushort"==this._indexType?(C$r=2,0===C$i&&4294967295===C$n||(C$t=new Uint16Array(C$t.buffer,C$i*C$r,C$n))):"ubyte"==this._indexType&&(C$r=1,0===C$i&&4294967295===C$n||(C$t=new Uint8Array(C$t.buffer,C$i*C$r,C$n))),this._bind(),C$_._gl.bufferSubData(this._bufferType,C$e*C$r,C$t),this._canRead)if(0!==C$e||0!==C$i||4294967295!==C$n){C$r=this._buffer.length-C$e;C$r<C$n&&(C$n=C$r);for(var C$s=0;C$s<C$n;C$s++)this._buffer[C$e+C$s]=C$t[C$s]}else this._buffer=C$t},C$a.getData=function(){if(this._canRead)return this._buffer;throw new Error("Can't read data from VertexBuffer with only write flag!")},C$a.disposeResource=function(){C$$e.prototype.disposeResource.call(this),this._buffer=null,this.memorySize=0},C$e(0,C$a,"indexType",function(){return this._indexType}),C$e(0,C$a,"indexTypeByteCount",function(){return this._indexTypeByteCount}),C$e(0,C$a,"indexCount",function(){return this._indexCount}),C$e(0,C$a,"canRead",function(){return this._canRead}),o50kq.INDEXTYPE_UBYTE="ubyte",o50kq.INDEXTYPE_USHORT="ushort",o50kq.create=function(C$t,C$e,C$i,C$n,C$r){return new o50kq(C$t,C$e,C$i=void 0===C$i?35044:C$i,C$n=void 0===C$n?!1:C$n,C$r)},o50kq),C$Ne=(C$t(d8tch,"laya.d3.graphics.VertexBuffer3D",C$Xe=C$_),(C$I=d8tch.prototype).bindWithIndexBuffer=function(C$t){C$t&&C$t._bind(),this._bind()},C$I.setData=function(C$t,C$e,C$i,C$n){if(void 0===C$e&&(C$e=0),void 0===C$n&&(C$n=4294967295),0===(C$i=void 0===C$i?0:C$i)&&4294967295===C$n||(C$t=new Float32Array(C$t.buffer,4*C$i,C$n)),this._bind(),C$_._gl.bufferSubData(this._bufferType,4*C$e,C$t),this._canRead)if(0!==C$e||0!==C$i||4294967295!==C$n){C$i=this._buffer.length-C$e;C$i<C$n&&(C$n=C$i);for(var C$r=0;C$r<C$n;C$r++)this._buffer[C$e+C$r]=C$t[C$r]}else this._buffer=C$t},C$I.getData=function(){if(this._canRead)return this._buffer;throw new Error("Can't read data from VertexBuffer with only write flag!")},C$I.disposeResource=function(){for(var C$t=C$k.mainContext,C$e=this._vertexDeclaration.getVertexElements(),C$i=C$_._enableAtributes,C$n=0,C$r=C$e.length;C$n<C$r;C$n++)C$i[C$n]===this._glBuffer&&(C$t.disableVertexAttribArray(C$n),C$i[C$n]=null);C$Xe.prototype.disposeResource.call(this),this._buffer=null,this._vertexDeclaration=null,this.memorySize=0},C$e(0,C$I,"vertexDeclaration",function(){return this._vertexDeclaration}),C$e(0,C$I,"vertexCount",function(){return this._vertexCount}),C$e(0,C$I,"canRead",function(){return this._canRead}),d8tch.create=function(C$t,C$e,C$i,C$n,C$r){return new d8tch(C$t,C$e,C$i=void 0===C$i?35044:C$i,C$n=void 0===C$n?!1:C$n,C$r)},d8tch),C$ze=(C$t(rvxi,"laya.d3.resource.DataTexture2D",C$Ee),(C$s=rvxi.prototype).genDebugMipmaps=function(){var C$t=[];return C$t.push(new Uint8Array(new Uint32Array(131072).fill(4278190335).buffer)),C$t.push(new Uint8Array(new Uint32Array(32768).fill(4278223103).buffer)),C$t.push(new Uint8Array(new Uint32Array(8192).fill(4278255615).buffer)),C$t.push(new Uint8Array(new Uint32Array(2048).fill(4278255360).buffer)),C$t.push(new Uint8Array(new Uint32Array(512).fill(4286595072).buffer)),C$t.push(new Uint8Array(new Uint32Array(128).fill(4294901760).buffer)),C$t.push(new Uint8Array(new Uint32Array(32).fill(4294901888).buffer)),C$t.push(new Uint8Array(new Uint32Array(8).fill(0).buffer)),C$t.push(new Uint8Array(new Uint32Array(2).fill(4286611584).buffer)),C$t.push(new Uint8Array(new Uint32Array(1).fill(4294967295).buffer)),C$t},C$s._onTextureLoaded=function(C$t){},C$s._createWebGlTexture=function(){if(!this._buffer&&!this._image&&!this._mipmaps)throw"create GLTextur err:no data";var C$t=C$k.mainContext,C$e=this._source=C$t.createTexture(),C$i=this._width,C$n=this._height,C$u=C$N.curBindTexTarget,C$c=C$N.curBindTexValue,C$_=!1;if(C$N.bindTexture(C$t,this._type,C$e),this._mipmaps){if(laya.d3.resource.DataTexture2D.lodasatlas){var C$r=0;C$t.texImage2D(this._type,0,6408,this._width,this._height,0,6408,5121,null);for(var C$s=0;C$s<this._mipmaps.length;C$s++){if(this._mipmaps[C$s].byteLength!=C$a*C$o*4)throw"mipmap size error  level:"+C$s;C$t.texSubImage2D(this._type,0,rvxi.simLodRect[C$r++],rvxi.simLodRect[C$r++],rvxi.simLodRect[C$r++],rvxi.simLodRect[C$r++],6408,5121,new Uint8Array(this._mipmaps[C$s]))}this.minFifter=9729,this.magFifter=9729}else{var C$a=this._width,C$o=this._height;for(C$t.texImage2D(this._type,C$r=0,6408,this._width,this._height,0,6408,5121,null),C$s=0;C$s<this._mipmaps.length;C$s++){if(this._mipmaps[C$s].byteLength!=C$a*C$o*4)throw"mipmap size error  level:"+C$s;C$t.texImage2D(this._type,C$s,6408,C$a,C$o,0,6408,5121,new Uint8Array(this._mipmaps[C$s])),(C$a/=2)<1&&(C$a=1),(C$o/=2)<1&&(C$o=1),this.minFifter=9987,this.magFifter=9729}}this.mipmap=!1}else this._image?(6407==this._format&&C$t.pixelStorei(C$t.UNPACK_ALIGNMENT,1),C$t.texImage2D(this._type,0,this._format,this._format,5121,this._image)):this._buffer&&(C$e=0,C$l=C$h=!1,this._buffer.byteLength==4*C$i*C$n?(C$e=6408,C$h=!0):this._buffer.byteLength==3*C$i*C$n?(C$e=6407,C$l=!0):C$e=this._format,C$h||C$l?(this._buffer instanceof Uint8Array||(this._buffer=new Uint8Array(this._buffer)),C$l&&C$t.pixelStorei(C$t.UNPACK_ALIGNMENT,1),C$t.texImage2D(this._type,0,C$e,C$i,C$n,0,C$e,5121,this._buffer)):C$t&&C$e==C$t.ALPHA?(C$t.texImage2D(3553,0,C$e,C$i,C$n,0,C$e,C$t.UNSIGNED_BYTE,this._buffer),C$_=!0):0!=C$e&&(C$t.compressedTexImage2D(3553,0,C$e,C$i,C$n,0,this._buffer),C$_=!0));var C$h=this._minFifter,C$l=this._magFifter,C$e=0==this._wrapModeU?10497:33071,C$d=0==this._wrapModeV?10497:33071,C$f=C$p.isPOT(C$i,C$n);C$f?(this._mipmap||this._mipmaps?-1!==C$h||(C$h=9987):-1!==C$h||(C$h=9729),-1!==C$l||(C$l=9729),C$t.texParameteri(this._type,10241,C$h),C$t.texParameteri(this._type,10240,C$l),C$t.texParameteri(this._type,10242,C$e),C$t.texParameteri(this._type,10243,C$d),this._mipmap&&C$t.generateMipmap(this._type)):(-1!==C$l||(C$l=9729),C$t.texParameteri(this._type,10241,C$h=-1!==C$h?C$h:9729),C$t.texParameteri(this._type,10240,C$l),C$t.texParameteri(this._type,10242,33071),C$t.texParameteri(this._type,10243,33071)),C$u&&C$c&&C$N.bindTexture(C$t,C$u,C$c),this.memorySize=C$_?this._buffer.length:C$f?C$i*C$n*4*(1+1/3):C$i*C$n*4,this.src&&0<this.src.length&&(this._buffer=null,this._image=null),this._recreateLock=!1},C$s.recreateResource=function(){(this._buffer||this._image||null!=this._src&&""!==this._src)&&(this._needReleaseAgain=!1,this._buffer||this._image||this._mipmaps?this._recreateLock||(this._createWebGlTexture(),this.completeCreate()):this._recreateLock=!0)},C$s.onAsynLoaded=function(C$t,C$e,C$i){var C$n;(C$n=C$i?C$i[0].call(this,C$e):C$n)&&(this._width=C$n.width,this._height=C$n.height,this._buffer=C$n.data),this._src=C$t,this._size=new C$me(this._width,this._height),this._conchTexture?alert("\u600e\u4e48\u7ed9runtime\u4f20\u9012datatexture\u6570\u636e"):this.activeResource(),this._endLoaded()},C$s.getPixels=function(){return new Uint8Array(this._buffer)},C$s.disposeResource=function(){this._recreateLock&&(this._needReleaseAgain=!0),this._source&&(C$k.mainContext.deleteTexture(this._source),this._source=null,this._buffer=null,this._image=null,this.memorySize=0)},C$e(0,C$s,"src",function(){return this._src}),rvxi.create=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a){if(void 0===C$n&&(C$n=9729),void 0===C$r&&(C$r=9729),void 0===C$s&&(C$s=!0),!C$t||C$t.byteLength<C$e*C$i*4)throw"DataTexture2D create error";var C$o=new rvxi;return C$o.uri=C$a,C$o._buffer=C$t,C$o._width=C$e,C$o._height=C$i,C$o._mipmap=C$s,C$o._magFifter=C$n,C$o._minFifter=C$r,C$o._size=new C$me(C$o._width,C$o._height),C$o._conchTexture?alert("\u600e\u4e48\u7ed9runtime\u4f20\u9012datatexture\u6570\u636e"):C$o.activeResource(),C$o},rvxi.load=function(C$t,C$e,C$i,C$n,C$r){if(void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0),void 0===C$n&&(C$n=9729),void 0===C$r&&(C$r=9729),"mipmaps"===C$B.getFileExtension(C$t)){var C$s=C$b.loader.create(C$t,null,null,rvxi,[function(C$t){this._mipmaps=[];var C$e=new Uint32Array(C$t);this._width=C$e[0];var C$i=512;if(laya.d3.resource.DataTexture2D.lodasatlas&&(this._width*=2,C$i=1024),this._width!=C$i)throw"\u73b0\u5728\u53ea\u652f\u6301512x256\u7684\u73af\u5883\u8d34\u56fe\u3002\u5f53\u524d\u7684\u662f"+C$e[0];this._height=C$e[1];for(var C$n=laya.d3.resource.DataTexture2D.lodasatlas?this._width/2:this._width,C$r=this._height,C$s=8;;){var C$a=C$n*C$r*4;if(C$s+C$a>C$t.byteLength)throw"load mipmaps data size error ";var C$o=new Uint8Array(C$t,C$s,C$a);if(this._mipmaps.push(C$o),C$s+=C$a,1==C$n&&1==C$r)break;(C$n/=2)<1&&(C$n=1),(C$r/=2)<1&&(C$r=1)}return null}]);if(laya.d3.resource.DataTexture2D.lodasatlas){C$s.simLodInfo=new Float32Array(40);for(var C$a=0;C$a<C$s.simLodInfo.length;)C$s.simLodInfo[C$a]=(rvxi.simLodRect[C$a]+.5)/1024,C$s.simLodInfo[++C$a]=(rvxi.simLodRect[C$a]+.5)/256,C$s.simLodInfo[++C$a]=Math.max(rvxi.simLodRect[C$a]-1,.1)/1024,C$s.simLodInfo[++C$a]=Math.max(rvxi.simLodRect[C$a]-1.5,.1)/256,C$a++}return C$s}if("number"==typeof C$e)return C$b.loader.create(C$t,null,null,rvxi,[function(C$t){return this._width=C$e,this._height=C$i,this._buffer=C$t,null}]);if("function"==typeof C$e)return C$b.loader.create(C$t,null,null,rvxi,[C$e]);throw new Error("unknown params.")},rvxi.lodasatlas=!1,C$h(rvxi,["simLodRect",function(){return this.simLodRect=new Uint32Array([0,0,512,256,512,0,256,128,768,0,128,64,896,0,64,32,960,0,32,16,992,0,16,8,1008,0,8,4,1016,0,4,2,1020,0,2,1,1022,0,1,1])}]),rvxi),C$m=(C$t(hd8t6c,"laya.d3.resource.models.PrimitiveMesh",C$n),C$i=hd8t6c.prototype,C$b.imps(C$i,{"laya.d3.core.render.IRenderable":!0}),C$i._getVertexBuffer=function(C$t){return 0===(C$t=void 0===C$t?0:C$t)?this._vertexBuffer:null},C$i._getVertexBuffers=function(){return null},C$i._getIndexBuffer=function(){return this._indexBuffer},C$i._getPositions=function(){var C$t,C$e=[],C$i=this._vertexBuffer.vertexDeclaration.getVertexElements(),C$n=0;for(C$n=0;C$n<C$i.length;C$n++){var C$r=C$i[C$n];if("vector3"===C$r.elementFormat&&0===C$r.elementUsage){C$t=C$r;break}}var C$s=this._vertexBuffer.getData();for(C$n=0;C$n<C$s.length;C$n+=this._vertexBuffer.vertexDeclaration.vertexStride/4){var C$a=C$n+C$t.offset/4,C$a=new C$A(C$s[C$a+0],C$s[C$a+1],C$s[C$a+2]);C$e.push(C$a)}return C$e},C$i.getRenderElement=function(C$t){return this},C$i.getRenderElementsCount=function(){return 1},C$i.disposeResource=function(){this._vertexBuffer&&(this._vertexBuffer._removeReference(),this._vertexBuffer=null),this._indexBuffer&&(this._indexBuffer._removeReference(),this._indexBuffer=null),this.memorySize=0},C$i._beforeRender=function(C$t){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},C$i._render=function(C$t){C$k.mainContext.drawElements(4,this._numberIndices,5123,0),C$R.drawCall++,C$R.trianglesFaces+=this._numberIndices/3},C$e(0,C$i,"_vertexBufferCount",function(){return 1}),C$e(0,C$i,"triangleCount",function(){return this._indexBuffer.indexCount/3}),hd8t6c),C$Oe=(C$t(kb50qg,"laya.d3.resource.models.Mesh",C$n),(C$ye=kb50qg.prototype)._getPositions=function(){var C$t,C$e,C$i,C$n,C$r,C$s=[],C$a=0,C$o=0,C$h=0;if(0!==this._vertexBuffers.length){var C$l=this._vertexBuffers.length;for(C$a=0;C$a<C$l;C$a++){for(C$i=(C$t=this._vertexBuffers[C$a]).vertexDeclaration.getVertexElements(),C$o=0;C$o<C$i.length;C$o++)if("vector3"===(C$n=C$i[C$o]).elementFormat&&0===C$n.elementUsage){C$e=C$n;break}for(C$r=C$t.getData(),C$o=0;C$o<C$r.length;C$o+=C$t.vertexDeclaration.vertexStride/4)C$h=C$o+C$e.offset/4,C$s.push(new C$A(C$r[C$h+0],C$r[C$h+1],C$r[C$h+2]))}}else{var C$u=this._subMeshes.length;for(C$a=0;C$a<C$u;C$a++){for(C$i=(C$t=this._subMeshes[C$a]._getVertexBuffer()).vertexDeclaration.getVertexElements(),C$o=0;C$o<C$i.length;C$o++)if("vector3"===(C$n=C$i[C$o]).elementFormat&&0===C$n.elementUsage){C$e=C$n;break}for(C$r=C$t.getData(),C$o=0;C$o<C$r.length;C$o+=C$t.vertexDeclaration.vertexStride/4)C$h=C$o+C$e.offset/4,C$s.push(new C$A(C$r[C$h+0],C$r[C$h+1],C$r[C$h+2]))}}return C$s},C$ye._setSubMeshes=function(C$t){this._subMeshes=C$t,this._subMeshCount=C$t.length;for(var C$e=0;C$e<this._subMeshCount;C$e++)C$t[C$e]._indexInMesh=C$e;this._positions=this._getPositions(),this._generateBoundingObject()},C$ye.onAsynLoaded=function(C$t,C$e,C$i){var C$n=C$e[0],C$e=C$e[1];C$Kt.read(C$n,this,this._materials,this._subMeshes,C$e),this.completeCreate(),this._endLoaded()},C$ye.getSubMesh=function(C$t){return this._subMeshes[C$t]},C$ye.getSubMeshCount=function(){return this._subMeshes.length},C$ye.getRenderElementsCount=function(){return this._subMeshes.length},C$ye.getRenderElement=function(C$t){return this._subMeshes[C$t]},C$ye.disposeResource=function(){for(var C$t=0;C$t<this._subMeshes.length;C$t++)this._subMeshes[C$t].dispose();this._materials=null,this._subMeshes=null,this._vertexBuffers=null,this._indexBuffer=null,this._boneNames=null,this._inverseBindPoses=null},C$e(0,C$ye,"materials",function(){return this._materials.slice()}),C$e(0,C$ye,"InverseAbsoluteBindPoses",function(){return this._inverseBindPoses}),kb50qg.load=function(C$t){return C$b.loader.create(C$t,null,null,kb50qg)},kb50qg),C$Fe=(C$t(nxij7v,"laya.d3.resource.RenderTexture",C$Ee),(C$C=nxij7v.prototype).recreateResource=function(){var C$t=C$k.mainContext;this._frameBuffer=C$t.createFramebuffer(),this._source=C$t.createTexture();var C$e=C$N.curBindTexTarget,C$i=C$N.curBindTexValue;C$N.bindTexture(C$t,this._type,this._source),C$t.texImage2D(this._type,0,6408,this._width,this._height,0,this._surfaceFormat,this._surfaceType,null);var C$n=this._minFifter,C$r=this._magFifter,C$s=this._repeat?10497:33071;if(C$p.isPOT(this._width,this._height)?(this._mipmap?-1!==C$n||(C$n=9987):-1!==C$n||(C$n=9729),-1!==C$r||(C$r=9729),C$t.texParameteri(this._type,10241,C$n),C$t.texParameteri(this._type,10240,C$r),C$t.texParameteri(this._type,10242,C$s),C$t.texParameteri(this._type,10243,C$s),this._mipmap&&C$t.generateMipmap(this._type)):(-1!==C$r||(C$r=9729),C$t.texParameteri(this._type,10241,C$n=-1!==C$n?C$n:9729),C$t.texParameteri(this._type,10240,C$r),C$t.texParameteri(this._type,10242,33071),C$t.texParameteri(this._type,10243,33071)),C$e&&C$i&&C$N.bindTexture(C$t,C$e,C$i),C$t.bindFramebuffer(36160,this._frameBuffer),this._depthStencilFormat)switch(this._depthStencilBuffer=C$t.createRenderbuffer(),C$t.bindRenderbuffer(36161,this._depthStencilBuffer),C$t.renderbufferStorage(36161,this._depthStencilFormat,this._width,this._height),C$t.bindRenderbuffer(36161,null),this._depthStencilFormat){case 33189:C$t.framebufferRenderbuffer(36160,36096,36161,this._depthStencilBuffer);break;case 36168:C$t.framebufferRenderbuffer(36160,36128,36161,this._depthStencilBuffer);break;case 34041:C$t.framebufferRenderbuffer(36160,33306,36161,this._depthStencilBuffer)}C$t.framebufferTexture2D(36160,36064,3553,this._source,0),C$t.bindFramebuffer(36160,null),this.memorySize=this._width*this._height*4,this.completeCreate()},C$C.start=function(){C$k.mainContext.bindFramebuffer(36160,this.frameBuffer),(nxij7v._currentRenderTarget=this)._alreadyResolved=!1},C$C.end=function(){C$k.mainContext.bindFramebuffer(36160,null),nxij7v._currentRenderTarget=null,this._alreadyResolved=!0},C$C.getData=function(C$t,C$e,C$i,C$n){var C$r=C$k.mainContext;if(C$r.bindFramebuffer(36160,this._frameBuffer),36053!==C$r.checkFramebufferStatus(36160))return C$r.bindFramebuffer(36160,null),null;var C$s=new Uint8Array(this._width*this._height*4);return C$r.readPixels(C$t,C$e,C$i,C$n,this._surfaceFormat,this._surfaceType,C$s),C$r.bindFramebuffer(36160,null),C$s},C$C.disposeResource=function(){var C$t;this._frameBuffer&&((C$t=C$k.mainContext).deleteTexture(this._source),C$t.deleteFramebuffer(this._frameBuffer),C$t.deleteRenderbuffer(this._depthStencilBuffer),this._source=null,this._frameBuffer=null,this._depthStencilBuffer=null,this.memorySize=0)},C$e(0,C$C,"surfaceFormat",function(){return this._surfaceFormat}),C$e(0,C$C,"surfaceType",function(){return this._surfaceType}),C$e(0,C$C,"depthStencilFormat",function(){return this._depthStencilFormat}),C$e(0,C$C,"source",function(){return this._alreadyResolved?C$b.superGet(C$Ee,this,"source"):null}),C$e(0,C$C,"depthStencilBuffer",function(){return this._depthStencilBuffer}),C$e(0,C$C,"frameBuffer",function(){return this._frameBuffer}),nxij7v._currentRenderTarget=null,C$t(kdbgq0,"laya.d3.resource.SolidColorTexture2D",C$Ee),(C$a=kdbgq0.prototype)._createWebGlTexture=function(){var C$t=C$k.mainContext,C$e=this._source=C$t.createTexture(),C$i=this._width,C$n=this._height,C$r=C$N.curBindTexTarget,C$s=C$N.curBindTexValue;C$N.bindTexture(C$t,this._type,C$e),C$t.texImage2D(this._type,0,6408,C$i,C$n,0,6408,5121,this._pixels);var C$e=this._minFifter,C$a=this._magFifter,C$o=this._repeat?10497:33071,C$h=C$p.isPOT(C$i,C$n);C$h?(this._mipmap?-1!==C$e||(C$e=9987):-1!==C$e||(C$e=9729),-1!==C$a||(C$a=9729),C$t.texParameteri(this._type,10241,C$e),C$t.texParameteri(this._type,10240,C$a),C$t.texParameteri(this._type,10242,C$o),C$t.texParameteri(this._type,10243,C$o),this._mipmap&&C$t.generateMipmap(this._type)):(-1!==C$a||(C$a=9729),C$t.texParameteri(this._type,10241,C$e=-1!==C$e?C$e:9729),C$t.texParameteri(this._type,10240,C$a),C$t.texParameteri(this._type,10242,33071),C$t.texParameteri(this._type,10243,33071)),C$r&&C$s&&C$N.bindTexture(C$t,C$r,C$s),this.memorySize=C$h?C$i*C$n*4*(1+1/3):C$i*C$n*4},C$a.recreateResource=function(){this._createWebGlTexture(),this.completeCreate()},C$a.disposeResource=function(){this._source&&(C$k.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},C$h(kdbgq0,["magentaTexture",function(){var C$t=new kdbgq0(new C$he(1,0,1,1));return C$t.lock=!0,this.magentaTexture=C$t},"grayTexture",function(){var C$t=new kdbgq0(new C$he(.5,.5,.5,1));return C$t.lock=!0,this.grayTexture=C$t}]),kdbgq0),C$Ve=(C$t(d68kg,"laya.d3.resource.Texture2D",C$Ee),(C$I=d68kg.prototype)._createWebGlTexture=function(){if(!this._image)throw"create GLTextur err:no data:"+this._image;var C$t=C$k.mainContext,C$e=this._source=C$t.createTexture(),C$i=this._width,C$n=this._height,C$r=C$N.curBindTexTarget,C$s=C$N.curBindTexValue;switch(C$N.bindTexture(C$t,this._type,C$e),this._format){case 6407:case 6408:this._canRead?C$t.texImage2D(this._type,0,this._format,C$i,C$n,0,this._format,5121,this._pixels):this._image&&this._image instanceof laya.webgl.resource.WebGLImage?C$t.texImage2D(this._type,0,this._image._format,C$i,C$n,0,this._image._format,5121,this._image.atlasSource):C$t.texImage2D(this._type,0,this._format,this._format,5121,this._image);break;case C$k.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:C$t.compressedTexImage2D(this._type,0,this._format,this._width,this._height,0,this._image);break;default:console.error("\u6536\u5230\u5176\u4ed6\u7684\u7eb9\u7406\u7c7b\u578b\uff1a",this._format)}var C$e=this._minFifter,C$a=this._magFifter,C$o=this._repeat?10497:33071,C$h=0==this._wrapModeU?10497:33071,C$u=0==this._wrapModeV?10497:33071,C$l=C$p.isPOT(C$i,C$n);C$l?(this._mipmap?-1!==C$e||(C$e=9987):-1!==C$e||(C$e=9729),-1!==C$a||(C$a=9729),C$t.texParameteri(this._type,10241,C$e),C$t.texParameteri(this._type,10240,C$a),C$t.texParameteri(this._type,10242,C$o),C$t.texParameteri(this._type,10243,C$o),C$t.texParameteri(this._type,10242,C$h),C$t.texParameteri(this._type,10243,C$u),this._mipmap&&C$t.generateMipmap(this._type)):(-1!==C$a||(C$a=9729),C$t.texParameteri(this._type,10241,C$e=-1!==C$e?C$e:9729),C$t.texParameteri(this._type,10240,C$a),C$t.texParameteri(this._type,10242,33071),C$t.texParameteri(this._type,10243,33071)),C$r&&C$s&&C$N.bindTexture(C$t,C$r,C$s),this._image.onload=null,this._image=null,this.memorySize=C$l?C$i*C$n*4*(1+1/3):C$i*C$n*4},C$I.recreateResource=function(){this._createWebGlTexture(),this.completeCreate()},C$I.onAsynLoaded=function(C$t,C$e,C$i){var C$n;switch(C$i&&(void 0!==(C$n=C$i[0])&&(this._canRead=C$n),void 0!==(C$n=C$i[1])&&(this._repeat=C$n),void 0!==(C$n=C$i[2])&&(this._format=C$n),void 0!==(C$n=C$i[3])&&(this._mipmap=C$n),void 0!==(C$n=C$i.wrapModeU)&&(this._wrapModeU=C$n),void 0!==(C$n=C$i.wrapModeV)&&(this._wrapModeV=C$n)),this._format){case 6407:case 6408:var C$r=(this._image=C$e).width,C$s=C$e.height;this._width=C$r,this._height=C$s,this._size=new C$me(C$r,C$s),this._canRead&&(C$T.isConchApp?C$e instanceof C$o.HTMLElement&&(this._pixels=new Uint8Array(C$e.getImageData(0,0,C$r,C$s))):(C$M.canvas.size(C$r,C$s),C$M.canvas.clear(),C$M.context.drawImage(C$e,0,0,C$r,C$s),this._pixels=new Uint8Array(C$M.context.getImageData(0,0,C$r,C$s).data.buffer)));break;case C$k.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:C$r=new C$x(C$e);C$r.readUTFBytes(4),C$r.readUTFBytes(2),C$r.getInt16(),C$r.endian="bigEndian",this._width=C$r.getInt16(),this._height=C$r.getInt16(),this._size=new C$me(this._width,this._height),C$r.getInt16(),C$r.getInt16(),this._image=new Uint8Array(C$e,C$r.pos)}this.recreateResource(),this._endLoaded()},C$I.getPixels=function(){if(this._canRead)return this._pixels;throw new Error("Texture2D: must set texture canRead is true.")},C$I.disposeResource=function(){this._source&&(C$k.mainContext.deleteTexture(this._source),this._source=null,this._image=null,this.memorySize=0)},C$e(0,C$I,"_src",function(){return this.url}),C$e(0,C$I,"src",function(){return this.url}),d68kg.load=function(C$t){return C$b.loader.create(C$t,null,null,d68kg)},d68kg),C$je=(C$t(jn1x,"laya.d3.core.BaseCamera",C$Ye=C$Pe),(C$s=jn1x.prototype)._sortCamerasByRenderingOrder=function(){if(this._displayedInStage)for(var C$t=this.scene._cameraPool,C$e=C$t.length-1,C$i=0;C$i<C$e;C$i++){var C$n;C$t[C$i].renderingOrder>C$t[C$e].renderingOrder&&(C$n=C$t[C$i],C$t[C$i]=C$t[C$e],C$t[C$e]=C$n)}},C$s._calculateProjectionMatrix=function(){},C$s._onScreenSizeChanged=function(){this._calculateProjectionMatrix()},C$s._prepareCameraToRender=function(){C$j._currentCameraCullingMask=this.cullingMask;var C$t=this._shaderValues;C$t.setValue(0,this.transform.position.elements),C$t.setValue(5,this.forward.elements),C$t.setValue(6,this.up.elements)},C$s._prepareCameraViewProject=function(C$t,C$e){var C$i=this._shaderValues;C$i.setValue(1,C$t.elements),C$i.setValue(2,C$e.elements)},C$s._renderCamera=function(C$t,C$e,C$i){},C$s.addLayer=function(C$t){29!==C$t.number&&30!=C$t.number&&(this.cullingMask=this.cullingMask|C$t.mask)},C$s.removeLayer=function(C$t){29!==C$t.number&&30!=C$t.number&&(this.cullingMask=this.cullingMask&~C$t.mask)},C$s.addAllLayers=function(){this.cullingMask=2147483647},C$s.removeAllLayers=function(){this.cullingMask=0|C$j.getLayerByNumber(29).mask|C$j.getLayerByNumber(30).mask},C$s.ResetProjectionMatrix=function(){this._useUserProjectionMatrix=!1,this._calculateProjectionMatrix()},C$s.moveForward=function(C$t){this._tempVector3.elements[0]=this._tempVector3.elements[1]=0,this._tempVector3.elements[2]=C$t,this.transform.translate(this._tempVector3)},C$s.moveRight=function(C$t){this._tempVector3.elements[1]=this._tempVector3.elements[2]=0,this._tempVector3.elements[0]=C$t,this.transform.translate(this._tempVector3)},C$s.moveVertical=function(C$t){this._tempVector3.elements[0]=this._tempVector3.elements[2]=0,this._tempVector3.elements[1]=C$t,this.transform.translate(this._tempVector3,!1)},C$s._addSelfRenderObjects=function(){var C$t=this.scene._cameraPool,C$e=C$t.length;if(0<C$e){for(var C$i=C$e-1;0<=C$i;C$i--)if(this.renderingOrder<=C$t[C$i].renderingOrder){C$t.splice(C$i+1,0,this);break}}else C$t.push(this),this.scene.conchModel&&this.scene.conchModel.setCurrentCamera(this.conchModel)},C$s._clearSelfRenderObjects=function(){var C$t=this.scene._cameraPool;C$t.splice(C$t.indexOf(this),1)},C$s.destroy=function(C$t){void 0===C$t&&(C$t=!0),this._sky&&this._sky.destroy(),this.renderTarget=null,C$b.stage.off("resize",this,this._onScreenSizeChanged),C$Ye.prototype.destroy.call(this,C$t)},C$e(0,C$s,"sky",function(){return this._sky},function(C$t){(this._sky=C$t)._ownerCamera=this}),C$e(0,C$s,"forward",function(){var C$t=this.transform.worldMatrix.elements,C$e=this._forward.elements;return C$e[0]=-C$t[8],C$e[1]=-C$t[9],C$e[2]=-C$t[10],this._forward}),C$e(0,C$s,"position",function(){var C$t=this.transform.worldMatrix.elements,C$e=this._position.elements;return C$e[0]=C$t[12],C$e[1]=C$t[13],C$e[2]=C$t[14],this._position}),C$e(0,C$s,"renderTarget",function(){return this._renderTarget},function(C$t){null!=(this._renderTarget=C$t)&&(this._renderTargetSize=C$t.size)}),C$e(0,C$s,"up",function(){var C$t=this.transform.worldMatrix.elements,C$e=this._up.elements;return C$e[0]=C$t[4],C$e[1]=C$t[5],C$e[2]=C$t[6],this._up}),C$e(0,C$s,"right",function(){var C$t=this.transform.worldMatrix.elements,C$e=this._right.elements;return C$e[0]=C$t[0],C$e[1]=C$t[1],C$e[2]=C$t[2],this._right}),C$e(0,C$s,"renderTargetSize",function(){return this._renderTargetSize},function(C$t){null!=this.renderTarget&&this._renderTargetSize,this._renderTargetSize=C$t,this._calculateProjectionMatrix()}),C$e(0,C$s,"fieldOfView",function(){return this._fieldOfView},function(C$t){this._fieldOfView=C$t,this._calculateProjectionMatrix()}),C$e(0,C$s,"nearPlane",function(){return this._nearPlane},function(C$t){this._nearPlane=C$t,this._calculateProjectionMatrix()}),C$e(0,C$s,"farPlane",function(){return this._farPlane},function(C$t){this._farPlane=C$t,this._calculateProjectionMatrix()}),C$e(0,C$s,"orthographic",function(){return this._orthographic},function(C$t){this._orthographic=C$t,this._calculateProjectionMatrix()}),C$e(0,C$s,"orthographicVerticalSize",function(){return this._orthographicVerticalSize},function(C$t){this._orthographicVerticalSize=C$t,this._calculateProjectionMatrix()}),C$e(0,C$s,"renderingOrder",function(){return this._renderingOrder},function(C$t){this._renderingOrder=C$t,this._sortCamerasByRenderingOrder()}),jn1x.CAMERAPOS=0,jn1x.VIEWMATRIX=1,jn1x.PROJECTMATRIX=2,jn1x.VPMATRIX=3,jn1x.VPMATRIX_NO_TRANSLATE=4,jn1x.CAMERADIRECTION=5,jn1x.CAMERAUP=6,jn1x.ENVIRONMENTDIFFUSE=7,jn1x.ENVIRONMENTSPECULAR=8,jn1x.SIMLODINFO=9,jn1x.DIFFUSEIRRADMATR=10,jn1x.DIFFUSEIRRADMATG=11,jn1x.DIFFUSEIRRADMATB=12,jn1x.HDREXPOSURE=13,jn1x.RENDERINGTYPE_DEFERREDLIGHTING="DEFERREDLIGHTING",jn1x.RENDERINGTYPE_FORWARDRENDERING="FORWARDRENDERING",jn1x.CLEARFLAG_SOLIDCOLOR=0,jn1x.CLEARFLAG_SKY=1,jn1x.CLEARFLAG_DEPTHONLY=2,jn1x.CLEARFLAG_NONE=3,C$h(jn1x,["_invertYScaleMatrix",function(){return this._invertYScaleMatrix=new C$ie(1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1)},"_invertYProjectionMatrix",function(){return this._invertYProjectionMatrix=new C$ie},"_invertYProjectionViewMatrix",function(){return this._invertYProjectionViewMatrix=new C$ie}]),jn1x),C$Ue=(C$t(pzhe_t,"laya.d3.core.RenderableSprite3D",C$Ge=C$Pe),(C$i=pzhe_t.prototype)._addToInitStaticBatchManager=function(){},C$i._setBelongScene=function(C$t){C$Ge.prototype._setBelongScene.call(this,C$t),C$t._renderableSprite3Ds.push(this),this._render._applyLightMapParams()},C$i._setUnBelongScene=function(){var C$t=this._scene._renderableSprite3Ds,C$e=C$t.indexOf(this);C$t.splice(C$e,1),this._render._removeShaderDefine(laya.d3.core.RenderableSprite3D.SAHDERDEFINE_LIGHTMAP),C$Ge.prototype._setUnBelongScene.call(this)},C$i._update=function(C$t){(C$t.owner=this)._activeInHierarchy&&(this._updateComponents(C$t),this._render._updateOctreeNode(),this._lateUpdateComponents(C$t),C$R.spriteCount++,this._childs.length&&this._updateChilds(C$t))},C$i.destroy=function(C$t){C$Ge.prototype.destroy.call(this,C$t=void 0===C$t?!0:C$t),this._render._destroy(),this._render=null},pzhe_t.__init__=function(){pzhe_t.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV=pzhe_t.shaderDefines.registerDefine("SCALEOFFSETLIGHTINGMAPUV"),pzhe_t.SAHDERDEFINE_LIGHTMAP=pzhe_t.shaderDefines.registerDefine("LIGHTMAP")},pzhe_t.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV=2,pzhe_t.SAHDERDEFINE_LIGHTMAP=4,pzhe_t.LIGHTMAPSCALEOFFSET=2,pzhe_t.LIGHTMAP=3,C$h(pzhe_t,["shaderDefines",function(){return this.shaderDefines=new C$ce}]),pzhe_t),C$qe=(C$t(gk6,"laya.d3.resource.models.BoxMesh",C$m),(C$n=gk6.prototype).recreateResource=function(){this.disposeResource(),this._numberVertices=24,this._numberIndices=36;var C$t=C$Rt.vertexDeclaration,C$e=(C$t.vertexStride,this._long/2),C$i=this._height/2,C$n=this._width/2,C$e=new Float32Array([-C$e,C$i,-C$n,0,1,0,0,0,C$e,C$i,-C$n,0,1,0,1,0,C$e,C$i,C$n,0,1,0,1,1,-C$e,C$i,C$n,0,1,0,0,1,-C$e,-C$i,-C$n,0,-1,0,0,1,C$e,-C$i,-C$n,0,-1,0,1,1,C$e,-C$i,C$n,0,-1,0,1,0,-C$e,-C$i,C$n,0,-1,0,0,0,-C$e,C$i,-C$n,-1,0,0,0,0,-C$e,C$i,C$n,-1,0,0,1,0,-C$e,-C$i,C$n,-1,0,0,1,1,-C$e,-C$i,-C$n,-1,0,0,0,1,C$e,C$i,-C$n,1,0,0,1,0,C$e,C$i,C$n,1,0,0,0,0,C$e,-C$i,C$n,1,0,0,0,1,C$e,-C$i,-C$n,1,0,0,1,1,-C$e,C$i,C$n,0,0,1,0,0,C$e,C$i,C$n,0,0,1,1,0,C$e,-C$i,C$n,0,0,1,1,1,-C$e,-C$i,C$n,0,0,1,0,1,-C$e,C$i,-C$n,0,0,-1,1,0,C$e,C$i,-C$n,0,0,-1,0,0,C$e,-C$i,-C$n,0,0,-1,0,1,-C$e,-C$i,-C$n,0,0,-1,1,1]),C$i=new Uint16Array([0,1,2,2,3,0,4,7,6,6,5,4,8,9,10,10,11,8,12,15,14,14,13,12,16,17,18,18,19,16,20,23,22,22,21,20]);this._vertexBuffer=new C$Ne(C$t,this._numberVertices,35044,!0),this._indexBuffer=new C$ke("ushort",this._numberIndices,35044,!0),this._vertexBuffer._addReference(),this._indexBuffer._addReference(),this._vertexBuffer.setData(C$e),this._indexBuffer.setData(C$i),this.memorySize=2*(this._vertexBuffer._byteLength+this._indexBuffer._byteLength),this.completeCreate()},C$e(0,C$n,"long",function(){return this._long},function(C$t){this._long!==C$t&&(this._long=C$t,this.releaseResource(),this.activeResource())}),C$e(0,C$n,"width",function(){return this._width},function(C$t){this._width!==C$t&&(this._width=C$t,this.releaseResource(),this.activeResource())}),C$e(0,C$n,"height",function(){return this._height},function(C$t){this._height!==C$t&&(this._height=C$t,this.releaseResource(),this.activeResource())}),C$t(b50gkq,"laya.d3.resource.models.PlaneMesh",C$m),(C$ye=b50gkq.prototype).recreateResource=function(){this.disposeResource(),this._numberVertices=(this._stacks+1)*(this._slices+1),this._numberIndices=this._stacks*this._slices*2*3;for(var C$t=new Uint16Array(this._numberIndices),C$e=C$Rt.vertexDeclaration,C$i=C$e.vertexStride/4,C$n=new Float32Array(this._numberVertices*C$i),C$r=this._long/2,C$s=this._width/2,C$u=this._long/this._stacks,C$c=this._width/this._slices,C$a=0,C$o=0;C$o<=this._slices;C$o++)for(var C$h=0;C$h<=this._stacks;C$h++)C$n[C$a++]=C$h*C$u-C$r,C$n[C$a++]=0,C$n[C$a++]=C$o*C$c-C$s,C$n[C$a++]=0,C$n[C$a++]=1,C$n[C$a++]=0,C$n[C$a++]=+C$h/this._stacks,C$n[C$a++]=+C$o/this._slices;var C$l=0;for(C$o=0;C$o<this._slices;C$o++)for(C$h=0;C$h<this._stacks;C$h++)C$t[C$l++]=(C$o+1)*(this._stacks+1)+C$h,C$t[C$l++]=C$o*(this._stacks+1)+C$h,C$t[C$l++]=(C$o+1)*(this._stacks+1)+C$h+1,C$t[C$l++]=C$o*(this._stacks+1)+C$h,C$t[C$l++]=C$o*(this._stacks+1)+C$h+1,C$t[C$l++]=(C$o+1)*(this._stacks+1)+C$h+1;this._vertexBuffer=new C$Ne(C$e,this._numberVertices,35044,!0),this._vertexBuffer._addReference(),this._indexBuffer=new C$ke("ushort",this._numberIndices,35044,!0),this._indexBuffer._addReference(),this._vertexBuffer.setData(C$n),this._indexBuffer.setData(C$t),this.memorySize=2*(this._vertexBuffer._byteLength+this._indexBuffer._byteLength),this.completeCreate()},C$e(0,C$ye,"long",function(){return this._long},function(C$t){this._long!==C$t&&(this._long=C$t,this.releaseResource(),this.activeResource())}),C$e(0,C$ye,"width",function(){return this._width},function(C$t){this._width!==C$t&&(this._width=C$t,this.releaseResource(),this.activeResource())}),C$e(0,C$ye,"stacks",function(){return this._stacks},function(C$t){this._stacks!==C$t&&(this._stacks=C$t,this.releaseResource(),this.activeResource())}),C$e(0,C$ye,"slices",function(){return this._slices},function(C$t){this._slices!==C$t&&(this._slices=C$t,this.releaseResource(),this.activeResource())}),C$t(f_9pw,"laya.d3.core.Camera",C$je),(C$C=f_9pw.prototype)._onWorldMatrixChanged=function(){this._boundFrustumUpdate=!0},C$C._parseCustomProps=function(C$t,C$e,C$i,C$n){var C$r=C$i.clearColor;this.clearColor=new C$he(C$r[0],C$r[1],C$r[2],C$r[3]);C$r=C$i.viewport;this.normalizedViewport=new C$le(C$r[0],C$r[1],C$r[2],C$r[3])},C$C._calculateProjectionMatrix=function(){var C$t,C$e;this._useUserProjectionMatrix||(this._orthographic?(C$t=this.orthographicVerticalSize*this.aspectRatio*.5,C$e=.5*this.orthographicVerticalSize,C$ie.createOrthoOffCenterRH(-C$t,C$t,-C$e,C$e,this.nearPlane,this.farPlane,this._projectionMatrix)):C$ie.createPerspective(3.1416*this.fieldOfView/180,this.aspectRatio,this.nearPlane,this.farPlane,this._projectionMatrix)),this._boundFrustumUpdate=!0},C$C._update=function(C$t){this.conchModel&&(this.conchModel.setViewMatrix(this.viewMatrix.elements),this.conchModel.setProjectMatrix(this.projectionMatrix.elements)),laya.d3.core.Sprite3D.prototype._update.call(this,C$t)},C$C._renderCamera=function(C$t,C$e,C$i){var C$n,C$r;C$i.parallelSplitShadowMaps[0]&&C$i._renderShadowMap(C$t,C$e,this),(C$e.camera=this)._prepareCameraToRender(),C$i._preRenderUpdateComponents(C$e),C$n=C$e._viewMatrix=this.viewMatrix;var C$s=this._renderTarget;C$s?(C$s.start(),C$ie.multiply(C$je._invertYScaleMatrix,this._projectionMatrix,C$je._invertYProjectionMatrix),C$ie.multiply(C$je._invertYScaleMatrix,this.projectionViewMatrix,C$je._invertYProjectionViewMatrix),C$r=C$e._projectionMatrix=C$je._invertYProjectionMatrix,C$e._projectionViewMatrix=C$je._invertYProjectionViewMatrix):(C$r=C$e._projectionMatrix=this._projectionMatrix,C$e._projectionViewMatrix=this.projectionViewMatrix),this._prepareCameraViewProject(C$n,C$r),C$e._viewport=this.viewport,C$i._preRenderScene(C$t,C$e,this.boundFrustum),C$i._clear(C$t,C$e),C$i._renderScene(C$t,C$e),C$i._postRenderUpdateComponents(C$e),C$s&&C$s.end()},C$C.viewportPointToRay=function(C$t,C$e){C$pe.calculateCursorRay(C$t,this.viewport,this._projectionMatrix,this.viewMatrix,null,C$e)},C$C.normalizedViewportPointToRay=function(C$t,C$e){var C$i=f_9pw._tempVector20,C$n=this.viewport,C$t=C$t.elements,C$r=C$i.elements;C$r[0]=C$t[0]*C$n.width,C$r[1]=C$t[1]*C$n.height,C$pe.calculateCursorRay(C$i,this.viewport,this._projectionMatrix,this.viewMatrix,null,C$e)},C$C.worldToViewportPoint=function(C$t,C$e){C$ie.multiply(this._projectionMatrix,this._viewMatrix,this._projectionViewMatrix),this.viewport.project(C$t,this._projectionViewMatrix,C$e);C$t=C$e.elements;C$t[0]=C$t[0]/C$b.stage.clientScaleX,C$t[1]=C$t[1]/C$b.stage.clientScaleY},C$C.worldToNormalizedViewportPoint=function(C$t,C$e){C$ie.multiply(this._projectionMatrix,this._viewMatrix,this._projectionViewMatrix),this.normalizedViewport.project(C$t,this._projectionViewMatrix,C$e);C$t=C$e.elements;C$t[0]=C$t[0]/C$b.stage.clientScaleX,C$t[1]=C$t[1]/C$b.stage.clientScaleY},C$C.convertScreenCoordToOrthographicCoord=function(C$t,C$e){var C$i,C$n,C$r,C$s,C$a;return!!this._orthographic&&(C$i=C$Q.clientWidth,C$n=C$Q.clientHeight,C$r=this.orthographicVerticalSize*this.aspectRatio/C$i,C$s=this.orthographicVerticalSize/C$n,C$t=C$t.elements,(C$a=C$e.elements)[0]=(-C$i/2+C$t[0])*C$r,C$a[1]=(C$n/2-C$t[1])*C$s,C$a[2]=(this.nearPlane-this.farPlane)*(C$t[2]+1)/2-this.nearPlane,C$A.transformCoordinate(C$e,this.transform.worldMatrix,C$e),!0)},C$e(0,C$C,"projectionViewMatrix",function(){return C$ie.multiply(this.projectionMatrix,this.viewMatrix,this._projectionViewMatrix),this._projectionViewMatrix}),C$e(0,C$C,"aspectRatio",function(){if(0!==this._aspectRatio)return this._aspectRatio;var C$t=this.viewport;return C$t.width/C$t.height},function(C$t){if(C$t<0)throw new Error("Camera: the aspect ratio has to be a positive real number.");this._aspectRatio=C$t,this._calculateProjectionMatrix()}),C$e(0,C$C,"boundFrustum",function(){return this._boundFrustumUpdate&&(this._boundFrustum.matrix=this.projectionViewMatrix),this._boundFrustum}),C$e(0,C$C,"needViewport",function(){var C$t=this.normalizedViewport;return 0===C$t.x&&0===C$t.y&&1===C$t.width&&1===C$t.height}),C$e(0,C$C,"viewport",function(){var C$t,C$e,C$i;return this._viewportExpressedInClipSpace&&(C$t=this._normalizedViewport,C$e=(C$i=this.renderTargetSize).width,C$i=C$i.height,this._viewport.x=C$t.x*C$e,this._viewport.y=C$t.y*C$i,this._viewport.width=C$t.width*C$e,this._viewport.height=C$t.height*C$i),this._viewport},function(C$t){if(null!=this.renderTarget&&(C$t.x<0||C$t.y<0||0==C$t.width||0==C$t.height))throw new Error("Camera: viewport size invalid.","value");this._viewportExpressedInClipSpace=!1,this._viewport=C$t,this._calculateProjectionMatrix()}),C$e(0,C$C,"normalizedViewport",function(){var C$t,C$e,C$i;return this._viewportExpressedInClipSpace||(C$t=this._viewport,C$e=(C$i=this.renderTargetSize).width,C$i=C$i.height,this._normalizedViewport.x=C$t.x/C$e,this._normalizedViewport.y=C$t.y/C$i,this._normalizedViewport.width=C$t.width/C$e,this._normalizedViewport.height=C$t.height/C$i),this._normalizedViewport},function(C$t){C$t.x<0&&(C$t.x=0,console.warn("Camera: viewport.x must large than 0.0.")),C$t.y<0&&(C$t.y=0,console.warn("Camera: viewport.y must large than 0.0.")),1<C$t.x+C$t.width&&(C$t.width=1-C$t.x,console.warn("Camera: viewport.width + viewport.x must less than 1.0.")),1<C$t.y+C$t.height&&(C$t.height=1-C$t.y,console.warn("Camera: viewport.height + viewport.y must less than 1.0.")),this._viewportExpressedInClipSpace=!0,this._normalizedViewport=C$t,this._calculateProjectionMatrix()}),C$e(0,C$C,"projectionMatrix",function(){return this._projectionMatrix},function(C$t){this._projectionMatrix=C$t,this._useUserProjectionMatrix=!0}),C$e(0,C$C,"viewMatrix",function(){return this.transform.worldMatrix.invert(this._viewMatrix),this._viewMatrix}),C$h(f_9pw,["_tempVector20",function(){return this._tempVector20=new C$oe}]),f_9pw),C$He=(C$t(yvrj7o,"laya.d3.core.MeshSprite3D",C$We=C$Ue),(C$a=yvrj7o.prototype)._changeRenderObjectByMesh=function(C$t){var C$e=this._render._renderElements,C$i=C$e[C$t];(C$i=C$i||(C$e[C$t]=new C$Te))._render=this._render;C$e=this._render.sharedMaterials[C$t];C$e=C$e||C$Be.defaultMaterial;C$t=this._geometryFilter.sharedMesh.getRenderElement(C$t);return C$i._mainSortID=this._getSortID(C$t,C$e),C$i._sprite3D=this,C$i.renderObj=C$t,C$i._material=C$e,C$i},C$a._changeRenderObjectByMaterial=function(C$t,C$e){var C$i=this._render._renderElements[C$t];C$e=C$e||C$Be.defaultMaterial;C$t=this._geometryFilter.sharedMesh.getRenderElement(C$t);return C$i._mainSortID=this._getSortID(C$t,C$e),C$i._sprite3D=this,C$i.renderObj=C$t,C$i._material=C$e,C$i},C$a._changeRenderObjectsByMesh=function(){var C$t=this._geometryFilter.sharedMesh.getRenderElementsCount();this._render._renderElements.length=C$t;for(var C$e=0;C$e<C$t;C$e++)this._changeRenderObjectByMesh(C$e)},C$a._onMeshChanged=function(C$t){C$t=C$t.sharedMesh;C$t.loaded?this._changeRenderObjectsByMesh():C$t.once("loaded",this,this._onMeshLoaded)},C$a._onMeshLoaded=function(C$t){C$t===this.meshFilter.sharedMesh&&this._changeRenderObjectsByMesh()},C$a._onMaterialChanged=function(C$t,C$e,C$i){C$e<this._render._renderElements.length&&this._changeRenderObjectByMaterial(C$e,C$i)},C$a._clearSelfRenderObjects=function(){this.scene.removeFrustumCullingObject(this._render)},C$a._addSelfRenderObjects=function(){this.scene.addFrustumCullingObject(this._render)},C$a._parseCustomProps=function(C$u,C$t,C$e,C$i){var C$n=this.meshRender,C$r=C$e.lightmapIndex;null!=C$r&&(C$n.lightmapIndex=C$r);var C$s,C$a,C$r=C$e.lightmapScaleOffset;if(C$r&&(C$n.lightmapScaleOffset=new C$he(C$r[0],C$r[1],C$r[2],C$r[3])),C$i.instanceParams)(C$s=C$i.instanceParams.loadPath)&&(C$a=C$g.getRes(C$t[C$s]),(this.meshFilter.sharedMesh=C$a).loaded?C$n.sharedMaterials=C$a.materials:C$a.once("loaded",this,this._applyMeshMaterials));else{(C$s=C$e.meshPath)&&(C$a=C$g.getRes(C$t[C$s]),this.meshFilter.sharedMesh=C$a);var C$o=C$e.materials;if(C$o){var C$h=C$n.sharedMaterials,C$c=C$o.length;C$h.length=C$c;for(var C$l=0;C$l<C$c;C$l++)C$h[C$l]=C$g.getRes(C$t[C$o[C$l].path]);C$n.sharedMaterials=C$h}}},C$a._applyMeshMaterials=function(C$t){for(var C$e=this._render.sharedMaterials,C$i=C$t.materials,C$n=0,C$r=C$i.length;C$n<C$r;C$n++)C$e[C$n]||(C$e[C$n]=C$i[C$n]);this._render.sharedMaterials=C$e},C$a._addToInitStaticBatchManager=function(){yvrj7o._staticBatchManager._addInitBatchSprite(this)},C$a.cloneTo=function(C$t){var C$e=C$t;C$e._geometryFilter.sharedMesh=this._geometryFilter.sharedMesh;var C$i=this._render,C$e=C$e._render;C$e.enable=C$i.enable,C$e.sharedMaterials=C$i.sharedMaterials,C$e.castShadow=C$i.castShadow;var C$n=C$i.lightmapScaleOffset;C$n&&(C$e.lightmapScaleOffset=C$n.clone()),C$e.lightmapIndex=C$i.lightmapIndex,C$e.receiveShadow=C$i.receiveShadow,C$e.sortingFudge=C$i.sortingFudge,laya.d3.core.Sprite3D.prototype.cloneTo.call(this,C$t)},C$a.destroy=function(C$t){var C$e;void 0===C$t&&(C$t=!0),this.destroyed||(null!=(C$e=this.meshFilter.sharedMesh)&&(C$e.loaded||C$e.off("loaded",this,this._applyMeshMaterials)),C$We.prototype.destroy.call(this,C$t),this._geometryFilter._destroy())},C$e(0,C$a,"meshFilter",function(){return this._geometryFilter}),C$e(0,C$a,"meshRender",function(){return this._render}),yvrj7o.__init__=function(){C$ot._staticBatchManagers.push(yvrj7o._staticBatchManager)},yvrj7o.load=function(C$t){return C$b.loader.create(C$t,null,null,yvrj7o)},C$h(yvrj7o,["_staticBatchManager",function(){return this._staticBatchManager=new C$Se}]),yvrj7o);function yvrj7o(C$t,C$e){yvrj7o.__super.call(this,C$e),this._geometryFilter=new C$Ae(this),this._render=new C$Ie(this),this._geometryFilter.on("meshchanged",this,this._onMeshChanged),this._render.on("materialchanged",this,this._onMaterialChanged),C$t&&(this._geometryFilter.sharedMesh=C$t)instanceof laya.d3.resource.models.Mesh&&(C$t.loaded?this._render.sharedMaterials=C$t.materials:C$t.once("loaded",this,this._applyMeshMaterials))}var C$We;function f_9pw(C$t,C$e,C$i){void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=.3),void 0===C$i&&(C$i=1e3),this._viewMatrix=new C$ie,this._projectionMatrix=new C$ie,this._projectionViewMatrix=new C$ie,this._viewport=new C$le(0,0,0,0),this._normalizedViewport=new C$le(0,0,1,1),this._aspectRatio=C$t,this._boundFrustumUpdate=!0,this._boundFrustum=new C$Qt(C$ie.DEFAULT),f_9pw.__super.call(this,C$e,C$i),this.transform.on("worldmatrixneedchanged",this,this._onWorldMatrixChanged)}function b50gkq(C$t,C$e,C$i,C$n){this._long=NaN,this._width=NaN,this._stacks=0,void(this._slices=0)===C$t&&(C$t=10),void 0===C$e&&(C$e=10),void 0===C$i&&(C$i=10),void 0===C$n&&(C$n=10),b50gkq.__super.call(this),this._long=C$t,this._width=C$e,this._stacks=C$i,this._slices=C$n,this.activeResource(),this._positions=this._getPositions(),this._generateBoundingObject()}function gk6(C$t,C$e,C$i){this._long=NaN,this._width=NaN,this._height=NaN,void 0===C$t&&(C$t=1),void 0===C$e&&(C$e=1),void 0===C$i&&(C$i=1),gk6.__super.call(this),this._long=C$t,this._width=C$e,this._height=C$i,this.activeResource(),this._positions=this._getPositions(),this._generateBoundingObject()}function pzhe_t(C$t){this._render=null,this._geometryFilter=null,pzhe_t.__super.call(this,C$t)}var C$Ge;function jn1x(C$t,C$e){jn1x.__super.call(this),void 0===C$t&&(C$t=.3),void 0===C$e&&(C$e=1e3),this._tempVector3=new C$A,this._position=new C$A,this._up=new C$A,this._forward=new C$A,this._right=new C$A,this._fieldOfView=60,this._useUserProjectionMatrix=!1,this._orthographic=!1,this._viewportExpressedInClipSpace=!0,this._renderTargetSize=C$me.fullScreen,this._orthographicVerticalSize=10,this.renderingOrder=0,this._nearPlane=C$t,this._farPlane=C$e,this.cullingMask=2147483647,this.clearFlag=0,this.useOcclusionCulling=!0,this._calculateProjectionMatrix(),C$b.stage.on("resize",this,this._onScreenSizeChanged)}var C$Ye;function d68kg(C$t,C$e,C$i,C$n){this._canRead=!1,this._image=null,this._pixels=null,void 0===C$t&&(C$t=!1),void 0===C$e&&(C$e=!0),void 0===C$i&&(C$i=6408),void 0===C$n&&(C$n=!0),d68kg.__super.call(this),this._type=3553,this._repeat=C$e,this._canRead=C$t,this._format=C$i,this._mipmap=C$n}function kdbgq0(C$t){this._color=null,this._pixels=null,kdbgq0.__super.call(this),this._type=3553,this._width=1,this._height=1,this._size=new C$me(this.width,this.height),this._color=C$t,this._pixels=new Uint8Array([255*C$t.x,255*C$t.y,255*C$t.z,255*C$t.w]),this.uri="SolidColorTexture2D_"+this.id}function nxij7v(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h){this._alreadyResolved=!1,this._surfaceFormat=0,this._surfaceType=0,this._depthStencilFormat=0,this._frameBuffer=null,this._depthStencilBuffer=null,void 0===C$i&&(C$i=6408),void 0===C$n&&(C$n=5121),void 0===C$r&&(C$r=33189),void 0===C$s&&(C$s=!1),void 0===C$a&&(C$a=!1),void 0===C$o&&(C$o=-1),void 0===C$h&&(C$h=-1),nxij7v.__super.call(this),this._type=3553,this._width=C$t,this._height=C$e,this._size=new C$me(C$t,C$e),this._surfaceFormat=C$i,this._surfaceType=C$n,this._depthStencilFormat=C$r,C$T.isConchWebGL&&34041===this._depthStencilFormat&&(this._depthStencilFormat=33189),this._mipmap=C$s,this._repeat=C$a,this._minFifter=C$o,this._magFifter=C$h,this.activeResource(),this._alreadyResolved=!0}function kb50qg(){this._materials=null,this._subMeshes=null,this._vertexBuffers=null,this._indexBuffer=null,this._boneNames=null,this._inverseBindPoses=null,this._skinnedDatas=null,kb50qg.__super.call(this),this._subMeshes=[],this._materials=[],this._vertexBuffers=[]}function hd8t6c(){this._numberVertices=0,this._numberIndices=0,this._vertexBuffer=null,this._indexBuffer=null,hd8t6c.__super.call(this)}function rvxi(){this.simLodInfo=null,this._src=null,this._buffer=null,this._image=null,this._mipmaps=null,this._recreateLock=!1,this._needReleaseAgain=!1,rvxi.__super.call(this),this._type=3553}function d8tch(C$t,C$e,C$i,C$n,C$r){this._vertexDeclaration=null,this._vertexCount=0,this._canRead=!1,void 0===C$n&&(C$n=!1),d8tch.__super.call(this),this._vertexDeclaration=C$t,this._vertexCount=C$e,this._bufferUsage=C$i,this._bufferType=34962,this._canRead=C$n,this.uri=C$r,this.memorySize=this._byteLength=this._vertexDeclaration.vertexStride*C$e,this._bind(),C$_._gl.bufferData(this._bufferType,this._byteLength,this._bufferUsage),C$n&&(this._buffer=new Float32Array(this._byteLength/4))}var C$Xe;function o50kq(C$t,C$e,C$i,C$n,C$r){if(this._indexType=null,this._indexTypeByteCount=0,this._indexCount=0,this._canRead=!1,void 0===C$i&&(C$i=35044),void 0===C$n&&(C$n=!1),o50kq.__super.call(this),this._indexType=C$t,this._indexCount=C$e,this._bufferUsage=C$i,this._bufferType=34963,this._canRead=C$n,"ushort"==C$t)this._indexTypeByteCount=2;else{if("ubyte"!=C$t)throw new Error("unidentification index type.");this._indexTypeByteCount=1}C$i=this._indexTypeByteCount*C$e,this._byteLength=C$i,this._bind(),C$_._gl.bufferData(this._bufferType,C$i,this._bufferUsage),this.uri=C$r,C$n?("ushort"==C$t?this._buffer=new Uint16Array(C$e):"ubyte"==C$t&&(this._buffer=new Uint8Array(C$e)),this.memorySize=2*C$i):this.memorySize=C$i}var C$$e;function yqrb5o(){this._transformUV=null,yqrb5o.__super.call(this),this.setShaderName("SIMPLE"),this._setColor(9,new C$A(.6,.6,.6)),this._setColor(10,new C$A(1,1,1)),this._setColor(11,new C$he(1,1,1,8)),this._setColor(12,new C$A(1,1,1)),this._setColor(7,new C$he(1,1,1,1)),this._setNumber(0,.5),this._setColor(15,new C$he(1,1,0,0)),this.renderMode=1}var C$Ke;function d6cgk(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l){if(this._curActTexIndex=0,this._program=null,this._attributeParams=null,this._uniformParams=null,this._attributeParamsMap=[],this._sceneUniformParamsMap=[],this._cameraUniformParamsMap=[],this._spriteUniformParamsMap=[],this._materialUniformParamsMap=[],this._renderElementUniformParamsMap=[],d6cgk.__super.call(this),!C$t||!C$e)throw"Shader Error";this._id=++d6cgk._count,this._vs=C$t,this._ps=C$e,this._attributeMap=C$i,this._sceneUniformMap=C$n,this._cameraUniformMap=C$r,this._spriteUniformMap=C$s,this._materialUniformMap=C$a,this._renderElementUniformMap=C$o,this._precompile=C$h,this._define=C$l,this._precompile&&d6cgk.extCompileObj&&d6cgk.extCompileFunc?d6cgk.extCompileFunc.call(d6cgk.extCompileObj,C$t,C$e,C$l):this.recreateResource()}function c6htd8(C$t){c6htd8.__super.call(this),this.__loaded=!0,this._projectionViewWorldUpdateLoopCount=-1,this._activeInHierarchy=!1,this._projectionViewWorldMatrix=new C$ie,this._shaderValues=new C$de,this._colliders=[],this._id=++c6htd8._uniqueIDCounter,this._transform=new C$we(this),this.name=C$t||"Sprite3D-"+c6htd8._nameNumberCounter++,this.layer=C$j.currentCreationLayer,this.active=!0}function _hpetz(){this._time=0,this._enableLightCount=3,this._customRenderQueneIndex=11,this.enableLight=!0,_hpetz.__super.call(this),this._renderState=new C$Q,this._lights=[],this._quenes=[],this._cameraPool=[],this._renderableSprite3Ds=[],this.__loaded=!0,this._lightmaps=[],this._shaderValues=new C$de,this.parallelSplitShadowMaps=[],this._dynamicBatchManager=new C$st,this._cullingRenders=[],this._cullingRendersLength=0,this.enableFog=!1,this.fogStart=300,this.fogRange=1e3,this.fogColor=new C$A(.7,.7,.7),this.ambientColor=new C$A(.212,.227,.259),C$k.shaderHighPrecision&&this.addShaderDefine(C$Me.SHADERDEFINE_HIGHPRECISION),this.on("display",this,this._display),this.on("undisplay",this,this._unDisplay),this._componentsMap=[],this._typeComponentsIndices=[],this._components=[]}var C$Ze;function ivnj7x(C$t){ivnj7x.__super.call(this,C$t),C$t.meshFilter.on("meshchanged",this,this._onMeshChanged)}function f29s$w(C$t){this._owner=null,this._sharedMesh=null,f29s$w.__super.call(this),this._owner=C$t}var C$Qe;function e2_pw9(){e2_pw9.__super.call(this)}function jxrv(){this._subMeshCount=0,this._boundingBox=null,this._boundingSphere=null,this._boundingBoxCorners=null,this._positions=null,jxrv.__super.call(this),this._boundingBoxCorners=C$l(8,null)}function p29w(){this._type=0,this._width=0,this._height=0,this._size=null,this._repeat=!1,this._mipmap=!1,this._minFifter=0,this._magFifter=0,this._format=0,this._source=null,this._conchTexture=null,this._wrapModeU=0,this._wrapModeV=0,p29w.__super.call(this),this._repeat=!0,this.mipmap=!0,this.minFifter=-1,this.magFifter=-1}function ew9_p(){ew9_p.__super.call(this),this._shaderDefineValue=0,this._disablePublicShaderDefine=0,this._shaderValues=new C$de,this._values=[],this.renderQueue=2e3,this._alphaTest=!1,this.cull=2,this.blend=0,this.srcBlend=1,this.dstBlend=0,this.srcBlendRGB=1,this.dstBlendRGB=0,this.srcBlendAlpha=1,this.dstBlendAlpha=0,this.blendConstColor=new C$he(1,1,1,1),this.blendEquation=0,this.blendEquationRGB=0,this.blendEquationAlpha=0,this.depthTest=513,this.depthWrite=!0}var C$Je;function b0ok5(){this._componentsMap=null,this._typeComponentsIndices=null,this._components=null,this._scripts=null,b0ok5.__super.call(this),this._componentsMap=[],this._typeComponentsIndices=[],this._components=[],this._scripts=[]}function jxn7i(C$t,C$e,C$i,C$n,C$r){this._batchOwnerIndices=null,this._batchOwners=null,this._needFinishCombine=!1,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._vertexDeclaration=null,this._vertexBuffer=null,this._indexBuffer=null,jxn7i.__super.call(this,C$t,C$e,C$i),this._batchOwnerIndices=[],this._batchOwners=[],this._needFinishCombine=!1,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._vertexDeclaration=C$n,this._material=C$r}function zh_(){zh_.__super.call(this)}function i7rx(C$t,C$e,C$i,C$n,C$r,C$s){for(var C$a in this._name=NaN,this._attributeMap=null,this._renderElementUniformMap=null,this._materialUniformMap=null,this._spriteUniformMap=null,this._cameraUniformMap=null,this._sceneUniformMap=null,this.sharders=null,this._spriteDefineCounter=3,this._spriteInt2name=[],this._spriteName2Int={},this._materialDefineCounter=1,this._materialInt2name=[],this._materialName2Int={},this._conchShader=null,this._name=C$t,this._renderElementUniformMap={},this._materialUniformMap={},this._spriteUniformMap={},this._cameraUniformMap={},this._sceneUniformMap={},this.sharders=[],this._spriteInt2name[C$fe.SHADERDEFINE_RECEIVE_SHADOW]="RECEIVESHADOW",this._spriteInt2name[C$Ue.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV]="SCALEOFFSETLIGHTINGMAPUV",this._spriteInt2name[C$Ue.SAHDERDEFINE_LIGHTMAP]="LIGHTMAP",this._spriteInt2name[0]="BONE",this._materialInt2name[C$De.SHADERDEFINE_ALPHATEST]="ALPHATEST",i7rx.__super.call(this,C$t,C$e,C$i,null,{}),this._attributeMap=C$n,C$r){var C$o=C$r[C$a];switch(C$o[1]){case 0:this._renderElementUniformMap[C$a]=C$o[0];break;case 1:this._materialUniformMap[C$a]=C$o[0];break;case 2:this._spriteUniformMap[C$a]=C$o[0];break;case 3:this._cameraUniformMap[C$a]=C$o[0];break;case 4:this._sceneUniformMap[C$a]=C$o[0];break;default:throw new Error("ShaderCompile3D: period is unkonw.")}}}function xi1n7(){this._batchIndexStart=0,this._batchIndexEnd=0,this._skinAnimationDatas=null,xi1n7.__super.call(this)}function _f2p(){this.radius=NaN,this.emitFromShell=!1,_f2p.__super.call(this),this.radius=1,this.emitFromShell=!1,this.randomDirection=!1}var C$ti;function r5qvy(){this.radius=NaN,this.emitFromShell=!1,r5qvy.__super.call(this),this.radius=1,this.emitFromShell=!1,this.randomDirection=!1}var C$ei;function oqyr5b(){this.angle=NaN,this.radius=NaN,this.length=NaN,this.emitType=0,oqyr5b.__super.call(this),this.angle=25/180*Math.PI,this.radius=1,this.length=5,this.emitType=0,this.randomDirection=!1}var C$ii;function nx7iv(){this.radius=NaN,this.arc=NaN,this.emitFromEdge=!1,nx7iv.__super.call(this),this.radius=1,this.arc=2*Math.PI,this.emitFromEdge=!1,this.randomDirection=!1}var C$ni;function _epzth(){this.x=NaN,this.y=NaN,this.z=NaN,_epzth.__super.call(this),this.x=1,this.y=1,this.z=1,this.randomDirection=!1}var C$ri;function l1a3(){this._rotation=0,this._matNeedUpdte=!1,l1a3.__super.call(this),this._matrix=new C$ie,this._offset=new C$oe,this._tiling=new C$oe(1,1)}function i17jn(C$t){this._owner=null,this._localQuaternionUpdate=!1,this._locaEulerlUpdate=!1,this._localUpdate=!1,this._worldUpdate=!0,this._positionUpdate=!0,this._rotationUpdate=!0,this._scaleUpdate=!0,this._parent=null,this._childs=null,this._dummy=null,this.pivot=null,i17jn.__super.call(this),this._localPosition=new C$A,this._localRotation=new C$re(0,0,0,1),this._localScale=new C$A(1,1,1),this._localRotationEuler=new C$A,this._localMatrix=new C$ie,this._position=new C$A,this._rotation=new C$re(0,0,0,1),this._scale=new C$A(1,1,1),this._worldMatrix=new C$ie,this._forward=new C$A,this._up=new C$A,this._right=new C$A,this._owner=C$t,this._childs=[]}function koq0b5(C$t){koq0b5.__super.call(this),this._id=++koq0b5._uniqueIDCounter,this._indexInSceneFrustumCullingObjects=-1,this._boundingBox=new C$Zt(new C$A,new C$A),this._boundingBoxCenter=new C$A,this._boundingSphere=new C$Jt(new C$A,0),this._boundingSphereNeedChange=!0,this._boundingBoxNeedChange=!0,this._boundingBoxCenterNeedChange=!0,this._octreeNodeNeedChange=!0,this._materials=[],this._renderElements=[],this._isPartOfStaticBatch=!1,this._destroyed=!1,this._owner=C$t,this._enable=!0,this._materialsInstance=[],this.lightmapIndex=-1,this.castShadow=!1,this.receiveShadow=!1,this.sortingFudge=0,this._owner.transform.on("worldmatrixneedchanged",this,this._onWorldMatNeedChange)}var C$a;function xn341i(){this._destroyed=!1,xn341i.__super.call(this),this._destroyed=!1}var C$ye;function c6dg8t(){this._destroyed=!1,this._id=0,this._enable=!1,this._owner=null,this.started=!1,c6dg8t.__super.call(this),this._destroyed=!1,this._id=c6dg8t._uniqueIDCounter,c6dg8t._uniqueIDCounter++}function n7xij1(C$t){n7xij1.__super.call(this),this._owner=C$t,this._childs=[],this._localMatrix=new Float32Array(16),this._localQuaternionUpdate=!1,this._locaEulerlUpdate=!1,this._localUpdate=!1,this._worldUpdate=!0}function anu41(){}function thzep_(){}function vyr5o(C$t,C$e){this._width=0,this._height=0,this._width=C$t,this._height=C$e}function _w2(){this.distance=NaN,this.trianglePositions=null,this.triangleNormals=null,this.position=null,this.sprite3D=null,this.distance=-1,this.trianglePositions=[new C$A,new C$A,new C$A],this.trianglePositions.length=3,this.triangleNormals=[new C$A,new C$A,new C$A],this.triangleNormals.length=3,this.position=new C$A}function kd8cg6(){}function ehcpt(){}function xj7v(){this._data=null,this._data=[]}function ze8h(){}function am4u(C$t){this.defineCounter=0,this.defines=null,C$t?(this.defineCounter=C$t.defineCounter,this.defines=C$t.defines.slice()):(this.defineCounter=0,this.defines=[])}function ovy7jr(C$t){this._mesh=null,this._boneIndicesList=null,this._subIndexBufferStart=null,this._subIndexBufferCount=null,this._skinAnimationDatas=null,this._bufferUsage=null,this._indexInMesh=0,this._vertexBuffer=null,this._vertexStart=0,this._vertexCount=0,this._indexBuffer=null,this._indexStart=0,this._indexCount=0,this._indices=null,this._bufferUsage={},this._mesh=C$t,this._boneIndicesList=[],this._subIndexBufferStart=[],this._subIndexBufferCount=[]}function rvyo7j(C$t,C$e,C$i,C$n){this.minDepth=0,this.maxDepth=1,this.x=C$t,this.y=C$e,this.width=C$i,this.height=C$n}function yr5j(C$t,C$e,C$i,C$n){this.elements=new Float32Array(4),void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0),void 0===C$n&&(C$n=0);var C$r=this.elements;C$r[0]=C$t=void 0===C$t?0:C$t,C$r[1]=C$e,C$r[2]=C$i,C$r[3]=C$n}function _zh2p(C$t,C$e,C$i){this.elements=new Float32Array(3),void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0);var C$n=this.elements;C$n[0]=C$t=void 0===C$t?0:C$t,C$n[1]=C$e,C$n[2]=C$i}function z8tceh(C$t,C$e){this.elements=new Float32Array(2),void 0===C$e&&(C$e=0);var C$i=this.elements;C$i[0]=C$t=void 0===C$t?0:C$t,C$i[1]=C$e}function ws$f92(C$t,C$e){this.origin=null,this.direction=null,this.origin=C$t,this.direction=C$e}function e_9w(C$t){if(this._state0U=NaN,this._state0L=NaN,this._state1U=NaN,this._state1L=NaN,!(C$t instanceof Array)||4!==C$t.length)throw new Error("Rand:Seed must be an array with 4 numbers");this._state0U=0|C$t[0],this._state0L=0|C$t[1],this._state1U=0|C$t[2],this._state1L=0|C$t[3]}function e2_zph(C$t){this._temp=new Uint32Array(1),this.seeds=new Uint32Array(4),this.seeds[0]=C$t,this.seeds[1]=1812433253*this.seeds[0]+1,this.seeds[2]=1812433253*this.seeds[1]+1,this.seeds[3]=1812433253*this.seeds[2]+1}function j7ryx(C$t,C$e,C$i,C$n){this.elements=new Float32Array(4),void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0),void 0===C$n&&(C$n=1),this.elements[0]=C$t=void 0===C$t?0:C$t,this.elements[1]=C$e,this.elements[2]=C$i,this.elements[3]=C$n}function qobr(C$t,C$e){this.normal=null,this.distance=NaN,void 0===C$e&&(C$e=0),this.normal=C$t,this.distance=C$e}function xvryj(C$t,C$e){this.extents=null,this.transformation=null,this.extents=C$t,this.transformation=C$e}function jnix7v(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$u,C$c,C$_,C$d,C$f,C$p,C$m){void 0===C$t&&(C$t=1),void 0===C$e&&(C$e=0),void 0===C$i&&(C$i=0),void 0===C$n&&(C$n=0),void 0===C$r&&(C$r=0),void 0===C$s&&(C$s=1),void 0===C$a&&(C$a=0),void 0===C$o&&(C$o=0),void 0===C$h&&(C$h=0),void 0===C$u&&(C$u=0),void 0===C$c&&(C$c=1),void 0===C$_&&(C$_=0),void 0===C$d&&(C$d=0),void 0===C$f&&(C$f=0),void 0===C$p&&(C$p=0),void 0===C$m&&(C$m=1);var C$l=this.elements=new Float32Array(16);C$l[0]=C$t,C$l[1]=C$e,C$l[2]=C$i,C$l[3]=C$n,C$l[4]=C$r,C$l[5]=C$s,C$l[6]=C$a,C$l[7]=C$o,C$l[8]=C$h,C$l[9]=C$u,C$l[10]=C$c,C$l[11]=C$_,C$l[12]=C$d,C$l[13]=C$f,C$l[14]=C$p,C$l[15]=C$m}function c8d6th(){var C$t=this.elements=new Float32Array(9);C$t[0]=1,C$t[1]=0,C$t[2]=0,C$t[3]=0,C$t[4]=1,C$t[5]=0,C$t[6]=0,C$t[7]=0,C$t[8]=1}function oy7jv(){}function la3u(){}function $fw92(C$t,C$e){this.center=null,this.radius=NaN,this.center=C$t,this.radius=C$e}function p9w_e2(C$t){this._matrix=null,this._near=null,this._far=null,this._left=null,this._right=null,this._top=null,this._bottom=null,this._matrix=C$t,this._near=new C$ne(new C$A),this._far=new C$ne(new C$A),this._left=new C$ne(new C$A),this._right=new C$ne(new C$A),this._top=new C$ne(new C$A),this._bottom=new C$ne(new C$A),p9w_e2._getPlanesFromMatrix(this._matrix,this._near,this._far,this._left,this._right,this._top,this._bottom)}function by5q(C$t,C$e){this.min=null,this.max=null,this.min=C$t,this.max=C$e}function thpze_(){}function rqov5y(){}function lm3u4(){}function qo5b0(C$t,C$e,C$i,C$n,C$r,C$s){this._version=null,this._strings=["BLOCK","DATA","STRINGS"],this._materials=null,this._subMeshes=null,this._materialMap=null,this._readData=null,this._mesh=null,this._BLOCK={count:0},this._DATA={offset:0,size:0},this._STRINGS={offset:0,size:0},this._shaderAttributes=null,this._mesh=C$i,this._materials=C$n,this._subMeshes=C$r,this._materialMap=C$s,this._version=C$e,this._onLoaded(C$t)}function _2w9e(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l,C$u,C$c,C$_,C$d){this._cornerTextureCoordinate=null,this._positionStartLifeTime=null,this._velocity=null,this._startColor=null,this._startSize=null,this._startRotation0=null,this._startRotation1=null,this._startRotation2=null,this._startLifeTime=NaN,this._time=NaN,this._startSpeed=NaN,this._randoms0=null,this._randoms1=null,this._simulationWorldPostion=null,this._cornerTextureCoordinate=C$t,this._positionStartLifeTime=C$e,this._velocity=C$i,this._startColor=C$n,this._startSize=C$r,this._startRotation0=C$s,this._startRotation1=C$a,this._startRotation2=C$o,this._startLifeTime=C$h,this._time=C$l,this._startSpeed=C$u,this._randoms0=this.random0,this._randoms1=this.random1,this._simulationWorldPostion=C$d}function rqoy(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l,C$u,C$c,C$_,C$d){this._cornerTextureCoordinate=null,this._positionStartLifeTime=null,this._velocity=null,this._startColor=null,this._startSize=null,this._startRotation0=null,this._startRotation1=null,this._startRotation2=null,this._startLifeTime=NaN,this._time=NaN,this._startSpeed=NaN,this._randoms0=null,this._randoms1=null,this._simulationWorldPostion=null,this._cornerTextureCoordinate=C$t,this._positionStartLifeTime=C$e,this._velocity=C$i,this._startColor=C$n,this._startSize=C$r,this._startRotation0=C$s,this._startRotation1=C$a,this._startRotation2=C$o,this._startLifeTime=C$h,this._time=C$l,this._startSpeed=C$u,this._randoms0=this.random0,this._randoms1=this.random1,this._simulationWorldPostion=C$d}function oyqr5(C$t,C$e){this._position=null,this._textureCoordinate0=null,this._position=C$t,this._textureCoordinate0=C$e}function bok50(C$t,C$e,C$i,C$n){this._position=null,this._normal=null,this._textureCoord0=null,this._textureCoord1=null,this._position=C$t,this._normal=C$e,this._textureCoord0=C$i,this._textureCoord1=C$n}function bkqdg(C$t,C$e,C$i){this._position=null,this._normal=null,this._textureCoordinate=null,this._position=C$t,this._normal=C$e,this._textureCoordinate=C$i}function xn1j7i(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this.binormal=null,this._position=C$t,this._normal=C$e,this._textureCoordinate0=C$n,this._textureCoordinate1=C$r,this._tangent=C$s,this._blendIndex=C$a,this._blendWeight=C$o}function x74i1(C$t,C$e,C$i){this._position=null,this._normal=null,this._textureCoordinate=null,this._position=C$t,this._normal=C$e,this._textureCoordinate=C$i}function y5qo0(C$t,C$e,C$i,C$n){this._position=null,this._normal=null,this._textureCoordinate=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._textureCoordinate=C$i,this._tangent=C$n}function jnvi(C$t,C$e,C$i,C$n){this._position=null,this._normal=null,this._textureCoordinate=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._textureCoordinate=C$i,this._tangent=C$n}function b0oy5q(C$t,C$e,C$i,C$n,C$r,C$s){this._position=null,this._normal=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._textureCoordinate=C$i,this._tangent=C$n,this._blendIndex=C$r,this._blendWeight=C$s}function dct(C$t,C$e,C$i,C$n,C$r,C$s){this._position=null,this._normal=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._textureCoordinate=C$i,this._tangent=C$n,this._blendIndex=C$r,this._blendWeight=C$s}function echz8(C$t,C$e,C$i,C$n,C$r){this._position=null,this._normal=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._position=C$t,this._normal=C$e,this._textureCoordinate=C$i,this._blendIndex=C$n,this._blendWeight=C$r}function fw_$2(){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null}function _zpe2h(C$t,C$e,C$i,C$n,C$r){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._textureCoordinate0=C$i,this._textureCoordinate1=C$n,this._tangent=C$r}function or5q(){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null}function bdgk0(C$t,C$e,C$i,C$n,C$r,C$s,C$a){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._textureCoordinate0=C$i,this._textureCoordinate1=C$n,this._tangent=C$r,this._blendIndex=C$s,this._blendWeight=C$a}function _ep2zh(C$t,C$e,C$i,C$n,C$r,C$s){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._position=C$t,this._normal=C$e,this._textureCoordinate0=C$i,this._textureCoordinate1=C$n,this._blendIndex=C$r,this._blendWeight=C$s}function oyjrv7(C$t,C$e,C$i,C$n){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._position=C$t,this._normal=C$e,this._textureCoordinate0=C$i,this._textureCoordinate1=C$n}function hc8d6(C$t,C$e,C$i){this._position=null,this._normal=null,this._textureCoordinate=null,this._position=C$t,this._normal=C$e,this._textureCoordinate=C$i}function cd8k(C$t,C$e,C$i){this._position=null,this._normal=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._tangent=C$i}function zcehp(C$t,C$e,C$i){this._position=null,this._normal=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._tangent=C$i}function h8c6tz(C$t,C$e,C$i,C$n,C$r){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._color=C$i,this._textureCoordinate=C$n,this._tangent=C$r}function r5ovyq(C$t,C$e,C$i,C$n,C$r){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._color=C$i,this._textureCoordinate=C$n,this._tangent=C$r}function u41i3n(C$t,C$e,C$i,C$n,C$r,C$s,C$a){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._color=C$i,this._textureCoordinate=C$n,this._tangent=C$r,this._blendIndex=C$s,this._blendWeight=C$a}function c86gk(C$t,C$e,C$i,C$n,C$r,C$s,C$a){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._color=C$i,this._textureCoordinate=C$n,this._tangent=C$r,this._blendIndex=C$s,this._blendWeight=C$a}function t8d6hc(C$t,C$e,C$i,C$n,C$r,C$s){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._position=C$t,this._normal=C$e,this._color=C$i,this._textureCoordinate=C$n,this._blendIndex=C$r,this._blendWeight=C$s}function rqoyb5(){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null}function $w9_2f(C$t,C$e,C$i,C$n,C$r,C$s){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._color=C$i,this._textureCoordinate0=C$n,this._textureCoordinate1=C$r,this._tangent=C$s}function jn7xiv(){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null}function d6t8g(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._color=C$i,this._textureCoordinate0=C$n,this._textureCoordinate1=C$r,this._tangent=C$s,this._blendIndex=C$a,this._blendWeight=C$o}function k6gd8(C$t,C$e,C$i,C$n,C$r,C$s,C$a){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._position=C$t,this._normal=C$e,this._color=C$i,this._textureCoordinate0=C$n,this._textureCoordinate1=C$r,this._blendIndex=C$s,this._blendWeight=C$a}function nvji7(C$t,C$e,C$i,C$n,C$r){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._position=C$t,this._normal=C$e,this._color=C$i,this._textureCoordinate0=C$n,this._textureCoordinate1=C$r}function u34a(C$t,C$e,C$i,C$n){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._position=C$t,this._normal=C$e,this._color=C$i,this._textureCoordinate=C$n}function ni14u(C$t,C$e,C$i,C$n){this._position=null,this._normal=null,this._color=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._color=C$i,this._tangent=C$n}function hz2pe_(C$t,C$e,C$i,C$n){this._position=null,this._normal=null,this._color=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._color=C$i,this._tangent=C$n}function dtc68h(C$t,C$e,C$i,C$n,C$r,C$s){this._position=null,this._normal=null,this._color=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._color=C$i,this._tangent=C$n,this._blendIndex=C$r,this._blendWeight=C$s}function ua1l3(C$t,C$e,C$i,C$n,C$r,C$s){this._position=null,this._normal=null,this._color=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$t,this._normal=C$e,this._color=C$i,this._tangent=C$n,this._blendIndex=C$r,this._blendWeight=C$s}function o5vrjy(C$t,C$e,C$i,C$n,C$r){this._position=null,this._normal=null,this._color=null,this._blendIndex=null,this._blendWeight=null,this._position=C$t,this._normal=C$e,this._color=C$i,this._blendIndex=C$n,this._blendWeight=C$r}function n7i1xj(C$t,C$e,C$i){this._position=null,this._normal=null,this._color=null,this._position=C$t,this._normal=C$e,this._color=C$i}function pw_92f(C$t,C$e){this._position=null,this._normal=null,this._position=C$t,this._normal=C$e}function thp_ze(C$t){this._position=null,this._position=C$t}function zht68(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l){this._cornerTextureCoordinate=null,this._position=null,this._velocity=null,this._startColor=null,this._endColor=null,this._sizeRotation=null,this._radius=null,this._radian=null,this._ageAddScale=NaN,this._time=NaN,this._cornerTextureCoordinate=C$t,this._position=C$e,this._velocity=C$i,this._startColor=C$n,this._endColor=C$r,this._sizeRotation=C$s,this._radius=C$a,this._radian=C$o,this._ageAddScale=C$h,this._time=C$l}function d8t6hc(C$t,C$e,C$i){this._position=null,this._textureCoordinate0=null,this._time=NaN,this._position=C$t,this._textureCoordinate0=C$e,this._time=C$i}function ew2_pz(){}function b50qk(){}function k680d(C$t,C$e,C$i){this.offset=0,this.elementFormat=null,this.elementUsage=0,this.offset=C$t,this.elementFormat=C$e,this.elementUsage=C$i}function x7jriv(C$t,C$e){if(this._id=0,this._shaderValues=null,this._shaderDefineValue=0,this._vertexStride=0,this._vertexElements=null,this._vertexElementsDic=null,this._id=++x7jriv._uniqueIDCounter,this._id>x7jriv.maxVertexDeclaration)throw new Error("VertexDeclaration: VertexDeclaration count should not large than ",x7jriv.maxVertexDeclaration);this._shaderValues=new C$de,this._vertexElementsDic={},this._vertexStride=C$t,this._vertexElements=C$e;for(var C$i=0;C$i<C$e.length;C$i++){var C$n=C$e[C$i],C$r=C$n.elementUsage;this._vertexElementsDic[C$r]=C$n;C$n=[x7jriv._getTypeSize(C$n.elementFormat)/4,5126,!1,this._vertexStride,C$n.offset];switch(this._shaderValues.setValue(C$r,C$n),C$r){case 1:this._addShaderDefine(C$Me.SHADERDEFINE_COLOR);break;case 2:this._addShaderDefine(C$Me.SHADERDEFINE_UV0);break;case 15:this._addShaderDefine(C$Me.SHADERDEFINE_UV1)}}}var C$s;function hz86ct(C$t,C$e,C$i){this._combineRenderElementPoolIndex=0,this._combineRenderElementPool=null,this._initBatchRenderElements=null,this._batchRenderElements=null,this._material=null,this._rootOwner=null,this._key=null,this._manager=null,this._key=C$t,this._manager=C$e,this._combineRenderElementPoolIndex=0,this._combineRenderElementPool=[],this._initBatchRenderElements=[],this._batchRenderElements=[],this._rootOwner=C$i}function vyjro5(){this._initBatchRenderElements=null,this._staticBatches=null,this._initBatchRenderElements=[],this._staticBatches={}}function hztc8e(){}function v7jryx(){this._dynamicBatches=null,this._prepareDynamicBatchCombineElements=null,this._dynamicBatches={},this._prepareDynamicBatchCombineElements=[]}function s$w92(C$t){this._vertexDeclaration=null,this._vertexDatas=null,this._indexDatas=null,this._vertexBuffer=null,this._indexBuffer=null,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._combineRenderElements=null,this._materials=null,this._materialToRenderElementsOffsets=null,this._merageElements=null,this._combineRenderElementPool=null,this._combineRenderElementPoolIndex=0,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._combineRenderElements=[],this._materialToRenderElementsOffsets=[],this._materials=[],this._merageElements=[],this._combineRenderElementPool=[],this._combineRenderElementPoolIndex=0,this._vertexDeclaration=C$t}function vij7nx(){}function mula(C$t){this._id=0,this._owner=null,this._camera=null,this._vertexBuffers=null,this._verticesCount=0,this._virtualVerticesCount=0,this._maxVerticesCount=256,this._vertices1=null,this._vertexBuffer1=null,this._floatCountPerVertices1=8,this._verticesIndex1=0,this._everyAddVerticeCount1=0,this._delLength=0,this._vertices2=null,this._vertexBuffer2=null,this._floatCountPerVertices2=1,this._everyGroupVertexBirthTime=null,this._VerticesToTailLength=null,this._everyVertexToPreVertexDistance=null,this._pointe=null,this._pointAtoBVector3e=null,this._isStart=!1,this._isFinish=!1,this._isDead=!1,this._curtime=NaN,this._curDisappearIndex=0,this._lastPosition=new C$A,this._curPosition=new C$A,this._delVector3=new C$A,this._lastFixedVertexPosition=new C$A,this._pointAtoBVector3=new C$A,this._pointA=new C$A,this._pointB=new C$A,this._owner=C$t,this._id=mula.renderElementCount++,(0==this._id?C$t._owner.transform.position:C$t._curSubTrailFinishPosition).cloneTo(this._lastPosition),this._everyGroupVertexBirthTime=[],this._VerticesToTailLength=new Float32Array(this._maxVerticesCount),this._everyVertexToPreVertexDistance=new Float32Array(this._maxVerticesCount),this._vertices1=new Float32Array(this._maxVerticesCount*this._floatCountPerVertices1),this._vertices2=new Float32Array(this._maxVerticesCount*this._floatCountPerVertices2),this._vertexBuffer1=new C$Ne(C$nt.vertexDeclaration1,this._maxVerticesCount,35044,!0),this._vertexBuffer2=new C$Ne(C$nt.vertexDeclaration2,this._maxVerticesCount,35044,!0),this._vertexBuffers=[],this._vertexBuffers.push(this._vertexBuffer1),this._vertexBuffers.push(this._vertexBuffer2)}function _wf9$(){this.time=NaN,this.inTangent=NaN,this.outTangent=NaN,this.value=NaN}function _pf29w(){}function s2f9$(){}function bd06g(C$t,C$e){this._color=null,this._time=NaN,void 0===C$e&&(C$e=0),this._color=C$t||new C$tt,this._time=C$e}function h6d(C$t,C$e){this._alpha=NaN,this._time=NaN,void 0===C$e&&(C$e=0),this._alpha=C$t=void 0===C$t?0:C$t,this._time=C$e}function w2f_p9(){this._mode=0,this._colorKeys=null,this._alphaKeys=null,this.index=0,this._colorKeyData=new Float32Array(40),this._alphaKeyData=new Float32Array(20),this._colorKeys=[],this._alphaKeys=[]}function tcg8d(C$t,C$e,C$i,C$n){this._r=NaN,this._g=NaN,this._b=NaN,this._a=NaN,void 0===C$e&&(C$e=1),void 0===C$i&&(C$i=1),void 0===C$n&&(C$n=1),this._r=C$t=void 0===C$t?1:C$t,this._g=C$e,this._b=C$i,this._a=C$n}function czeh(C$t,C$e){this._exactBox=null,this._relaxBox=null,this._scene=null,this._parent=null,this._currentDepth=0,this._boundingSphere=new C$Jt(new C$A,0),this._corners=[new C$A,new C$A,new C$A,new C$A,new C$A,new C$A,new C$A,new C$A],this._boundingBoxCenter=new C$A,this._children=C$l(8),this._objects=[],this._tempBoundBoxCorners=[new C$A,new C$A,new C$A,new C$A,new C$A,new C$A,new C$A,new C$A],this._scene=C$t,this._currentDepth=C$e}function sw2$(){this._staticBatch=null,this._batchIndexStart=0,this._batchIndexEnd=0,this._viewMatrix=null,this._projectionMatrix=null,this._projectionViewMatrix=null,this._viewport=null,this._shader=null,this.elapsedTime=NaN,this.scene=null,this.owner=null,this.renderElement=null,this.camera=null}function o0k(C$t){this._id=0,this._needSort=!1,this._renderElements=null,this._renderableRenderObjects=null,this._dynamicBatchCombineRenderElements=null,this._finalElements=null,this._scene=null,this._id=++o0k._uniqueIDCounter,this._needSort=!1,this._scene=C$t,this._renderElements=[],this._renderableRenderObjects=[],this._dynamicBatchCombineRenderElements=[],this._errorRecord={}}function d0b6(){this._id=0,this._type=0,this._mainSortID=0,this._render=null,this._sprite3D=null,this._material=null,this._renderObj=null,this._staticBatch=null,this._tempBatchIndexStart=0,this._tempBatchIndexEnd=0,this._canDynamicBatch=!1,this._shaderValue=null,this._onPreRenderFunction=null,this._id=++d0b6._uniqueIDCounter,this._canDynamicBatch=!0,this._shaderValue=new C$de}function yojr7(){this._tempInt0=0,this._tempInt1=0,this._tempUint0=0,this._tempUint1=0,this._tempUint2=0,this._tempUint3=0,this._tempUint4=0,this._tempUint5=0,this._tempUint6=0,this._tempUint7=0,this._tempNumver0=NaN,this._tempNumver1=NaN,this._tempNumver2=NaN,this._tempNumver3=NaN,this._floatSizePerVer=7,this._defaultBufferSize=600*this._floatSizePerVer,this._vb=null,this._posInVBData=0,this._ib=null,this._posInIBData=0,this._primitiveType=NaN,this._hasBegun=!1,this._numVertsPerPrimitive=0,this._camera=null,this._sharderNameID=0,this._shader=null,this._shaderCompile=null,this._vbData=new Float32Array(this._defaultBufferSize),this._ibData=new Uint16Array(this._defaultBufferSize),this._spriteShaderValue=new C$de,this._vb=C$Ne.create(yojr7._vertexDeclaration,this._defaultBufferSize/this._floatSizePerVer,35048),this._ib=C$ke.create("ushort",this._defaultBufferSize,35048),this._sharderNameID=C$Le.nameKey.getID("LINE"),this._shaderCompile=C$Me._preCompileShader[this._sharderNameID]}function kq5bg0(C$t){this._velocity=null,this.enbale=!1,this.space=0,this._velocity=C$t}function o7vrjy(C$t,C$e){this._frame=null,this._startFrame=null,this.tiles=null,this.type=0,this.randomRow=!1,this.rowIndex=0,this.cycles=0,this.enableUVChannels=0,this.enable=!1,this.tiles=new C$oe(1,1),this.type=0,this.randomRow=!0,this.rowIndex=0,this.cycles=1,this.enableUVChannels=1,this._frame=C$t,this._startFrame=C$e}function hzp2(){this._type=0,this._constant=NaN,this._constantMin=NaN,this._constantMax=NaN}function zc8h6t(C$t){this._size=null,this.enbale=!1,this._size=C$t}var C$n;function jxvi7(){}function njvi7(){this.enable=!1,this.randomDirection=!1}function oq05by(C$t){this._angularVelocity=null,this.enbale=!1,this._angularVelocity=C$t}function x1ni34(){this._type=0,this._constant=null,this._gradientX=null,this._gradientY=null,this._gradientZ=null,this._constantMin=null,this._constantMax=null,this._gradientXMin=null,this._gradientXMax=null,this._gradientYMin=null,this._gradientYMax=null,this._gradientZMin=null,this._gradientZMax=null}function rvjoy(){this._type=0,this._separateAxes=!1,this._gradient=null,this._gradientX=null,this._gradientY=null,this._gradientZ=null,this._constantMin=NaN,this._constantMax=NaN,this._constantMinSeparate=null,this._constantMaxSeparate=null,this._gradientMin=null,this._gradientMax=null,this._gradientXMin=null,this._gradientXMax=null,this._gradientYMin=null,this._gradientYMax=null,this._gradientZMin=null,this._gradientZMax=null}function gdc68t(){this._currentLength=0,this._elements=null,this._elements=new Float32Array(12)}function ir7xv(){this._currentLength=0,this._elements=null,this._elements=new Float32Array(8)}function tzp_eh(){this._currentLength=0,this._elements=null,this._elements=new Float32Array(8)}function a3u14n(){this._alphaCurrentLength=0,this._rgbCurrentLength=0,this._alphaElements=null,this._rgbElements=null,this._alphaElements=new Float32Array(8),this._rgbElements=new Float32Array(16)}function yroj(){this._type=0,this._constant=null,this._constantMin=null,this._constantMax=null,this._gradient=null,this._gradientMin=null,this._gradientMax=null}function kgc86d(){this._type=0,this._separateAxes=!1,this._constant=NaN,this._constantSeparate=null,this._gradient=null,this._gradientX=null,this._gradientY=null,this._gradientZ=null,this._gradientW=null,this._constantMin=NaN,this._constantMax=NaN,this._constantMinSeparate=null,this._constantMaxSeparate=null,this._gradientMin=null,this._gradientMax=null,this._gradientXMin=null,this._gradientXMax=null,this._gradientYMin=null,this._gradientYMax=null,this._gradientZMin=null,this._gradientZMax=null,this._gradientWMin=null,this._gradientWMax=null}function u134an(){this._type=0,this._constant=0,this._overTime=null,this._constantMin=0,this._constantMax=0,this._overTimeMin=null,this._overTimeMax=null}function rvjoy5(){this._destroyed=!1,this._emissionRate=0,this._bursts=null,this.enbale=!1,this._destroyed=!1,this.emissionRate=10,this._bursts=[]}function r5vqy(C$t){this._color=null,this.enbale=!1,this._color=C$t}function njv(C$t,C$e,C$i){this._time=NaN,this._minCount=0,this._maxCount=0,this._time=C$t,this._minCount=C$e,this._maxCount=C$i}function a3mu4l(){this._visible=!0,this._nonRigidbodyOffset=0,this._colliders=[]}function qkbgd(C$t,C$e,C$i,C$n){this._datas=null,this._w=0,this._h=0,this._minHeight=NaN,this._maxHeight=NaN,this._datas=[],this._w=C$t,this._h=C$e,this._minHeight=C$i,this._maxHeight=C$n}function ephczt(){this._tempVector30=new C$A,this._tempVector31=new C$A,this._tempVector32=new C$A,this._a=new C$A,this._b=new C$A,this._c=new C$A,this._d=new C$A}function kq0o5(){this._cacheProperty=!1,this.path=null,this.componentType=null,this.propertyNameID=0,this.keyFrameWidth=0,this.defaultData=null,this.keyFrames=null}function oy5rv(){this.startTime=NaN,this.inTangent=null,this.outTangent=null,this.data=null,this.duration=NaN,this.next=null}function xi3n14(){this._childs=[],this.transform=new C$xe(this)}var C$i;function d06gkb(){this.time=NaN,this.eventName=null,this.params=null}}(window,(document,gvj7xry)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$t,C$e){"use strict";for(var C$i in Object.defineProperty(C$e,"__esModule",{value:!0}),gvj7xry){var C$n=gvj7xry[C$i];C$n&&C$n.__isclass&&(C$e[C$i]=C$n)}}),function(C$R){C$R.un,C$R.uns;var C$t=C$R.static,C$e=C$R.class,C$i=C$R.getset,C$p=C$R.__newvec,C$s=laya.maths.Bezier,C$u=laya.utils.Browser,C$Et=laya.utils.Byte,C$n=(laya.events.Event,laya.events.EventDispatcher),C$a=laya.display.Graphics,C$o=(laya.resource.HTMLCanvas,laya.utils.Handler),C$h=laya.net.Loader,C$c=laya.maths.MathUtil,C$Dt=laya.maths.Matrix,C$l=(laya.display.Node,laya.maths.Point,laya.maths.Rectangle,laya.renders.Render),C$_=(laya.renders.RenderContext,laya.resource.Resource),C$d=laya.utils.RunDriver,C$P=laya.display.Sprite,C$f=laya.utils.Stat,C$At=laya.resource.Texture,C$m=(laya.net.URL,laya.utils.Utils),C$C=(C$e(ctgd8,"laya.ani.AnimationContent"),ctgd8),C$D=(C$e(ua14,"laya.ani.AnimationNodeContent"),ua14),C$g=(C$e(n3u1,"laya.ani.AnimationParser01"),n3u1.parse=function(C$t,C$e){var C$u,C$c=C$e.__getBuffer(),C$_=0,C$d=0,C$i=0,C$n=0,C$f=0,C$r=0,C$p=C$e.readUTFString();C$t._aniClassName=C$p;var C$m,C$g=C$e.readUTFString().split("\n"),C$v=C$e.getUint8(),C$p=C$e.getUint32(),C$x=C$e.getUint32();0<C$p&&(C$m=C$c.slice(C$p,C$x));var C$y=new C$Et(C$m);for(0<C$x&&(C$t._publicExtData=C$c.slice(C$x,C$c.byteLength)),C$t._useParent=!!C$e.getUint8(),C$t._anis.length=C$v,C$_=0;C$_<C$v;C$_++){var C$s=C$t._anis[C$_]=new C$C;C$s.nodes=[];var C$b=C$s.name=C$g[C$e.getUint16()];C$t._aniMap[C$b]=C$_,C$s.bone3DMap={},C$s.playTime=C$e.getFloat32(),C$s.playTime<=0&&console.error("\u64ad\u653e\u65f6\u95f4\u4e0d\u80fd\u4e3a0  url="+C$t.url+" name="+C$s.name);var C$w=C$s.nodes.length=C$e.getUint8();for(C$d=C$s.totalKeyframeDatasLength=0;C$d<C$w;C$d++){var C$a=C$s.nodes[C$d]=new C$D;C$a.childs=[];var C$o=C$e.getInt16();0<=C$o&&(C$a.name=C$g[C$o],C$s.bone3DMap[C$a.name]=C$d),C$a.keyFrame=[],C$a.parentIndex=C$e.getInt16(),-1==C$a.parentIndex?C$a.parent=null:C$a.parent=C$s.nodes[C$a.parentIndex],C$a.lerpType=C$e.getUint8();C$o=C$e.getUint32();C$y.pos=C$o;var C$h=C$a.keyframeWidth=C$y.getUint16();if(C$s.totalKeyframeDatasLength+=C$h,0===C$a.lerpType||1===C$a.lerpType)for(C$a.interpolationMethod=[],C$a.interpolationMethod.length=C$h,C$i=0;C$i<C$h;C$i++)C$a.interpolationMethod[C$i]=C$A.interpolation[C$y.getUint8()];null!=C$a.parent&&C$a.parent.childs.push(C$a);C$o=C$e.getUint16();0<C$o&&(C$a.extenData=C$c.slice(C$e.pos,C$e.pos+C$o),C$e.pos+=C$o);var C$l,C$o=C$e.getUint16(),C$T=0;for(C$i=0,C$u=C$a.keyFrame.length=C$o;C$i<C$u;C$i++){if((C$l=C$a.keyFrame[C$i]=new C$E).duration=C$e.getFloat32(),C$l.startTime=C$T,2===C$a.lerpType){C$l.interpolationData=[];var C$M,C$S=C$e.getUint8();switch(C$M=C$e.getFloat32()){case 254:for(C$l.interpolationData.length=C$h,C$r=0;C$r<C$h;C$r++)C$l.interpolationData[C$r]=0;break;case 255:for(C$l.interpolationData.length=C$h,C$r=0;C$r<C$h;C$r++)C$l.interpolationData[C$r]=5;break;default:for(C$l.interpolationData.push(C$M),C$f=1;C$f<C$S;C$f++)C$l.interpolationData.push(C$e.getFloat32())}}for(C$l.data=new Float32Array(C$h),C$n=0;C$n<C$h;C$n++)C$l.data[C$n]=C$e.getFloat32(),-1e-8<C$l.data[C$n]&&C$l.data[C$n]<1e-8&&(C$l.data[C$n]=0);C$T+=C$l.duration}C$l.startTime=C$s.playTime,C$a.playTime=C$s.playTime,C$t._calculateKeyFrame(C$a,C$o,C$h)}}},n3u1),C$v=(C$e(w9s2,"laya.ani.AnimationParser02"),w9s2.READ_DATA=function(){w9s2._DATA.offset=w9s2._reader.getUint32(),w9s2._DATA.size=w9s2._reader.getUint32()},w9s2.READ_BLOCK=function(){for(var C$t=w9s2._BLOCK.count=w9s2._reader.getUint16(),C$e=w9s2._BLOCK.blockStarts=[],C$i=w9s2._BLOCK.blockLengths=[],C$n=0;C$n<C$t;C$n++)C$e.push(w9s2._reader.getUint32()),C$i.push(w9s2._reader.getUint32())},w9s2.READ_STRINGS=function(){var C$t=w9s2._reader.getUint32(),C$e=w9s2._reader.getUint16(),C$i=w9s2._reader.pos;w9s2._reader.pos=C$t+w9s2._DATA.offset;for(var C$n=0;C$n<C$e;C$n++)w9s2._strings[C$n]=w9s2._reader.readUTFString();w9s2._reader.pos=C$i},w9s2.parse=function(C$t,C$e){w9s2._templet=C$t,(w9s2._reader=C$e).__getBuffer(),w9s2.READ_DATA(),w9s2.READ_BLOCK(),w9s2.READ_STRINGS();for(var C$i=0,C$n=w9s2._BLOCK.count;C$i<C$n;C$i++){var C$r=C$e.getUint16(),C$s=w9s2._strings[C$r],C$a=w9s2["READ_"+C$s];if(null==C$a)throw new Error("model file err,no this function:"+C$r+" "+C$s);C$a.call()}},w9s2.READ_ANIMATIONS=function(){var C$u,C$t=w9s2._reader,C$c=C$t.__getBuffer(),C$e=0,C$i=0,C$n=0,C$r=C$t.getUint16(),C$_=[];for(C$_.length=C$r,C$e=0;C$e<C$r;C$e++)C$_[C$e]=C$A.interpolation[C$t.getByte()];var C$d=C$t.getUint8();for(w9s2._templet._anis.length=C$d,C$e=0;C$e<C$d;C$e++){var C$s=w9s2._templet._anis[C$e]={};C$s.nodes=[];var C$f=C$s.name=w9s2._strings[C$t.getUint16()];w9s2._templet._aniMap[C$f]=C$e,C$s.bone3DMap={},C$s.playTime=C$t.getFloat32();var C$p=C$s.nodes.length=C$t.getInt16();for(C$i=C$s.totalKeyframeDatasLength=0;C$i<C$p;C$i++){var C$a=C$s.nodes[C$i]={};C$a.keyframeWidth=C$r,C$a.childs=[];var C$o=C$t.getUint16();0<=C$o&&(C$a.name=w9s2._strings[C$o],C$s.bone3DMap[C$a.name]=C$i),C$a.keyFrame=[],C$a.parentIndex=C$t.getInt16(),-1==C$a.parentIndex?C$a.parent=null:C$a.parent=C$s.nodes[C$a.parentIndex],C$s.totalKeyframeDatasLength+=C$r,C$a.interpolationMethod=C$_,null!=C$a.parent&&C$a.parent.childs.push(C$a);var C$o=C$t.getUint16(),C$h=null,C$l=null;for(C$n=0,C$u=C$a.keyFrame.length=C$o;C$n<C$u;C$n++){(C$h=C$a.keyFrame[C$n]={}).startTime=C$t.getFloat32(),C$l&&(C$l.duration=C$h.startTime-C$l.startTime);var C$m=w9s2._DATA.offset,C$g=C$t.getUint32(),C$m=C$c.slice(C$m+C$g,C$m+C$g+4*C$r);C$h.data=new Float32Array(C$m),C$l=C$h}C$h.duration=0,C$a.playTime=C$s.playTime,w9s2._templet._calculateKeyFrame(C$a,C$o,C$r)}}},w9s2._templet=null,w9s2._reader=null,w9s2._strings=[],C$t(w9s2,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]),w9s2),C$It=(C$e(jir7x,"laya.ani.AnimationState"),jir7x.stopped=0,jir7x.paused=1,jir7x.playing=2,C$e(r7vyoj,"laya.ani.bone.Bone"),(C$r=r7vyoj.prototype).setTempMatrix=function(C$t){this._tempMatrix=C$t;var C$e,C$i=0;for(C$i=0,C$e=this._children.length;C$i<C$e;C$i++)this._children[C$i].setTempMatrix(this._tempMatrix)},C$r.update=function(C$t){var C$e;var C$i,C$n,C$r,C$s,C$a,C$o;this.rotation=this.transform.skX,C$t?(C$e=this.resultTransform.getMatrix(),C$Dt.mul(C$e,C$t,this.resultMatrix),this.resultRotation=this.rotation):(this.resultRotation=this.rotation+this.parentBone.resultRotation,this.parentBone?this.inheritRotation&&this.inheritScale?(C$e=this.resultTransform.getMatrix(),C$Dt.mul(C$e,this.parentBone.resultMatrix,this.resultMatrix)):(C$t=this.parentBone,C$r=C$n=C$i=NaN,C$a=this.parentBone.resultMatrix,C$e=this.resultTransform.getMatrix(),C$s=C$a.a*C$e.tx+C$a.c*C$e.ty+C$a.tx,C$a=C$a.b*C$e.tx+C$a.d*C$e.ty+C$a.ty,C$o=new C$Dt,this.inheritRotation?(C$i=Math.atan2(C$t.resultMatrix.b,C$t.resultMatrix.a),C$n=Math.cos(C$i),C$r=Math.sin(C$i),C$o.setTo(C$n,C$r,-C$r,C$n,0,0),C$Dt.mul(this._tempMatrix,C$o,C$Dt.TEMP),C$Dt.TEMP.copyTo(C$o),C$e=this.resultTransform.getMatrix(),C$Dt.mul(C$e,C$o,this.resultMatrix),this.resultTransform.scX*this.resultTransform.scY<0&&this.resultMatrix.rotate(.5*Math.PI)):(this.inheritScale,C$e=this.resultTransform.getMatrix(),C$Dt.TEMP.identity(),C$Dt.TEMP.d=this.d,C$Dt.mul(C$e,C$Dt.TEMP,this.resultMatrix)),this.resultMatrix.tx=C$s,this.resultMatrix.ty=C$a):(C$e=this.resultTransform.getMatrix()).copyTo(this.resultMatrix));var C$h,C$l=0;for(C$l=0,C$h=this._children.length;C$l<C$h;C$l++)this._children[C$l].update()},C$r.updateChild=function(){var C$t,C$e=0;for(C$e=0,C$t=this._children.length;C$e<C$t;C$e++)this._children[C$e].update()},C$r.setRotation=function(C$t){this._sprite&&(this._sprite.rotation=180*C$t/Math.PI)},C$r.updateDraw=function(C$t,C$e){r7vyoj.ShowBones&&!r7vyoj.ShowBones[this.name]||(this._sprite||(this._sprite=new C$P,this._sprite.graphics.drawCircle(0,0,5,"#ff0000"),this._sprite.graphics.drawLine(0,0,this.length,0,"#00ff00"),this._sprite.graphics.fillText(this.name,0,0,"20px Arial","#00ff00","center"),C$R.stage.addChild(this._sprite)),this._sprite.x=C$t+this.resultMatrix.tx,this._sprite.y=C$e+this.resultMatrix.ty);var C$i,C$n=0;for(C$n=0,C$i=this._children.length;C$n<C$i;C$n++)this._children[C$n].updateDraw(C$t,C$e)},C$r.addChild=function(C$t){this._children.push(C$t),C$t.parentBone=this},C$r.findBone=function(C$t){if(this.name==C$t)return this;var C$e,C$i,C$n=0;for(C$n=0,C$e=this._children.length;C$n<C$e;C$n++)if(C$i=this._children[C$n].findBone(C$t))return C$i;return null},C$r.localToWorld=function(C$t){var C$e=C$t[0],C$i=C$t[1];C$t[0]=C$e*this.resultMatrix.a+C$i*this.resultMatrix.c+this.resultMatrix.tx,C$t[1]=C$e*this.resultMatrix.b+C$i*this.resultMatrix.d+this.resultMatrix.ty},r7vyoj.ShowBones={},r7vyoj),C$Rt=(C$e(pezht,"laya.ani.bone.BoneSlot"),(C$r=pezht.prototype).showSlotData=function(C$t,C$e){void 0===C$e&&(C$e=!0),this.currSlotData=C$t,C$e&&(this.displayIndex=this.srcDisplayIndex),this.currDisplayData=null,this.currTexture=null},C$r.showDisplayByName=function(C$t){this.currSlotData&&this.showDisplayByIndex(this.currSlotData.getDisplayByName(C$t))},C$r.replaceDisplayByName=function(C$t,C$e){this.currSlotData&&(C$t=this.currSlotData.getDisplayByName(C$t),C$e=this.currSlotData.getDisplayByName(C$e),this.replaceDisplayByIndex(C$t,C$e))},C$r.replaceDisplayByIndex=function(C$t,C$e){this.currSlotData&&(this._replaceDic[C$t]=C$e,this.displayIndex==C$t&&this.showDisplayByIndex(C$t))},C$r.showDisplayByIndex=function(C$t){null!=this._replaceDic[C$t]&&(C$t=this._replaceDic[C$t]),this.currSlotData&&-1<C$t&&C$t<this.currSlotData.displayArr.length?(this.displayIndex=C$t,this.currDisplayData=this.currSlotData.displayArr[C$t],this.currDisplayData&&(C$t=this.currDisplayData.name,this.currTexture=this.templet.getTexture(C$t),this.currTexture&&0==this.currDisplayData.type&&this.currDisplayData.uvs&&(!C$l.isConchApp||C$l.isConchApp&&"0.9.15"<C$P.RUNTIMEVERION)&&(this.currTexture=this.currDisplayData.createTexture(this.currTexture)))):(this.displayIndex=-1,this.currDisplayData=null,this.currTexture=null)},C$r.replaceSkin=function(C$t){this._diyTexture=C$t,this._curDiyUV&&(this._curDiyUV.length=0),this.currDisplayData&&this._diyTexture==this.currDisplayData.texture&&(this._diyTexture=null)},C$r.setParentMatrix=function(C$t){this._parentMatrix=C$t},C$r.draw=function(C$t,C$e,C$i,C$n){if(void 0===C$i&&(C$i=!1),void 0===C$n&&(C$n=1),(null!=this._diyTexture||null!=this.currTexture)&&null!=this.currDisplayData||this.currDisplayData&&3==this.currDisplayData.type){var C$r,C$s=this.currTexture;switch(this._diyTexture&&(C$s=this._diyTexture),this.currDisplayData.type){case 0:C$t&&(C$o=this.getDisplayMatrix(),this._parentMatrix&&(C$a=!1,C$o&&(C$Dt.mul(C$o,this._parentMatrix,C$Dt.TEMP),C$o=C$i?(null==this._resultMatrix&&(this._resultMatrix=new C$Dt),this._resultMatrix):new C$Dt,!C$l.isWebGL&&this.currDisplayData.uvs||C$l.isWebGL&&this._diyTexture&&this.currDisplayData.uvs?((C$h=pezht._tempMatrix).identity(),this.currDisplayData.uvs[1]>this.currDisplayData.uvs[5]&&(C$h.d=-1),this.currDisplayData.uvs[0]>this.currDisplayData.uvs[4]&&this.currDisplayData.uvs[1]>this.currDisplayData.uvs[5]&&(C$a=!0,C$h.rotate(-Math.PI/2)),C$Dt.mul(C$h,C$Dt.TEMP,C$o)):C$Dt.TEMP.copyTo(C$o),C$a?C$t.drawTexture(C$s,-this.currDisplayData.height/2,-this.currDisplayData.width/2,this.currDisplayData.height,this.currDisplayData.width,C$o):C$t.drawTexture(C$s,-this.currDisplayData.width/2,-this.currDisplayData.height/2,this.currDisplayData.width,this.currDisplayData.height,C$o))));break;case 1:if(null==(C$r=C$i?(null==this._skinSprite&&(this._skinSprite=pezht.createSkinMesh()),this._skinSprite):pezht.createSkinMesh()))return;var C$a,C$o,C$h;null==this.currDisplayData.bones?(C$h=this.currDisplayData.weights,this.deformData&&(C$h=this.deformData),C$a=this._diyTexture?(this._curDiyUV||(this._curDiyUV=[]),0==this._curDiyUV.length&&(this._curDiyUV=C$w.getRelativeUV(this.currTexture.uv,this.currDisplayData.uvs,this._curDiyUV),this._curDiyUV=C$w.getAbsoluteUV(this._diyTexture.uv,this._curDiyUV,this._curDiyUV)),this._curDiyUV):this.currDisplayData.uvs,this._mVerticleArr=C$h,this.currDisplayData.triangles.length,C$o=this.currDisplayData.triangles,C$r.init2(C$s,null,C$o,this._mVerticleArr,C$a),C$h=this.getDisplayMatrix(),this._parentMatrix&&C$h&&(C$Dt.mul(C$h,this._parentMatrix,C$Dt.TEMP),C$o=C$i?(null==this._resultMatrix&&(this._resultMatrix=new C$Dt),this._resultMatrix):new C$Dt,C$Dt.TEMP.copyTo(C$o),C$r.transform=C$o)):this.skinMesh(C$e,C$r,C$n),C$t.drawSkin(C$r);break;case 2:if(null==(C$r=C$i?(null==this._skinSprite&&(this._skinSprite=pezht.createSkinMesh()),this._skinSprite):pezht.createSkinMesh()))return;this.skinMesh(C$e,C$r,C$n),C$t.drawSkin(C$r)}}},C$r.skinMesh=function(C$u,C$c,C$_){var C$d,C$f=this.currTexture,C$t=this.currDisplayData.bones;C$d=this._diyTexture?(C$f=this._diyTexture,this._curDiyUV||(this._curDiyUV=[]),0==this._curDiyUV.length&&(this._curDiyUV=C$w.getRelativeUV(this.currTexture.uv,this.currDisplayData.uvs,this._curDiyUV),this._curDiyUV=C$w.getAbsoluteUV(this._diyTexture.uv,this._curDiyUV,this._curDiyUV)),this._curDiyUV):this.currDisplayData.uvs;var C$e,C$i=this.currDisplayData.weights,C$p=this.currDisplayData.triangles,C$n=0,C$r=0,C$m=0,C$s=NaN,C$a=NaN,C$o=0,C$h=0,C$g=[],C$l=0,C$v=0;if(this.deformData&&0<this.deformData.length){var C$x=0;for(C$l=0,C$v=C$t.length;C$l<C$v;){for(C$m=C$t[C$l++]+C$l,C$r=C$n=0;C$l<C$m;C$l++)C$e=C$u[C$t[C$l]],C$s=C$i[C$o]+this.deformData[C$x++],C$a=C$i[C$o+1]+this.deformData[C$x++],C$h=C$i[C$o+2],C$n+=(C$s*C$e.a+C$a*C$e.c+C$e.tx)*C$h,C$r+=(C$s*C$e.b+C$a*C$e.d+C$e.ty)*C$h,C$o+=3;C$g.push(C$n,C$r)}}else for(C$l=0,C$v=C$t.length;C$l<C$v;){for(C$m=C$t[C$l++]+C$l,C$r=C$n=0;C$l<C$m;C$l++)C$e=C$u[C$t[C$l]],C$s=C$i[C$o],C$a=C$i[C$o+1],C$h=C$i[C$o+2],C$n+=(C$s*C$e.a+C$a*C$e.c+C$e.tx)*C$h,C$r+=(C$s*C$e.b+C$a*C$e.d+C$e.ty)*C$h,C$o+=3;C$g.push(C$n,C$r)}this._mVerticleArr=C$g,C$c.init2(C$f,null,C$p,this._mVerticleArr,C$d)},C$r.drawBonePoint=function(C$t){C$t&&this._parentMatrix&&C$t.drawCircle(this._parentMatrix.tx,this._parentMatrix.ty,5,"#ff0000")},C$r.getDisplayMatrix=function(){return this.currDisplayData?this.currDisplayData.transform.getMatrix():null},C$r.getMatrix=function(){return this._resultMatrix},C$r.copy=function(){var C$t=new pezht;return C$t.type="copy",C$t.name=this.name,C$t.attachmentName=this.attachmentName,C$t.srcDisplayIndex=this.srcDisplayIndex,C$t.parent=this.parent,C$t.displayIndex=this.displayIndex,C$t.templet=this.templet,C$t.currSlotData=this.currSlotData,C$t.currTexture=this.currTexture,C$t.currDisplayData=this.currDisplayData,C$t},pezht.createSkinMesh=function(){return C$l.isWebGL||C$l.isConchApp?C$d.skinAniSprite():(C$l.isWebGL,null)},C$t(pezht,["_tempMatrix",function(){return this._tempMatrix=new C$Dt}]),pezht),C$Pt=(C$e(x74in1,"laya.ani.bone.DeformAniData"),x74in1),C$Lt=(C$e(pf9_2,"laya.ani.bone.DeformSlotData"),pf9_2),C$Bt=(C$e(zhpce,"laya.ani.bone.DeformSlotDisplayData"),(C$r=zhpce.prototype).binarySearch1=function(C$t,C$e){var C$i=0,C$n=C$t.length-2;if(0==C$n)return 1;for(var C$r=C$n>>>1;;){if(C$t[Math.floor(C$r+1)]<=C$e?C$i=C$r+1:C$n=C$r,C$i==C$n)return C$i+1;C$r=C$i+C$n>>>1}return 0},C$r.apply=function(C$t,C$u,C$e){if(void 0===C$e&&(C$e=1),C$t+=.05,!(this.timeList.length<=0)){var C$i=0;if(!(C$t<this.timeList[0])){var C$n=this.vectices[0].length,C$r=[],C$s=this.binarySearch1(this.timeList,C$t);if(this.frameIndex=C$s,C$t>=this.timeList[this.timeList.length-1]){var C$a=this.vectices[this.vectices.length-1];if(C$e<1)for(C$i=0;C$i<C$n;C$i++)C$r[C$i]+=(C$a[C$i]-C$r[C$i])*C$e;else for(C$i=0;C$i<C$n;C$i++)C$r[C$i]=C$a[C$i];this.deformData=C$r}else{this.tweenKeyList[this.frameIndex];var C$o=this.vectices[this.frameIndex-1],C$c=this.vectices[this.frameIndex],C$h=this.timeList[this.frameIndex-1],C$_=this.timeList[this.frameIndex];C$e=this.tweenKeyList[C$s-1]?(C$t-C$h)/(C$_-C$h):0;var C$l;for(C$i=0;C$i<C$n;C$i++)C$l=C$o[C$i],C$r[C$i]=C$l+(C$c[C$i]-C$l)*C$e;this.deformData=C$r}}}},zhpce),C$kt=(C$e(h6cd8,"laya.ani.bone.DrawOrderData"),h6cd8),C$Nt=(C$e(nx3i14,"laya.ani.bone.EventData"),nx3i14),C$x=(C$e(_w92ep,"laya.ani.bone.IkConstraint"),(C$r=_w92ep.prototype).apply=function(){switch(this._bones.length){case 1:this._applyIk1(this._bones[0],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.mix);break;case 2:this.isSpine?this._applyIk2(this._bones[0],this._bones[1],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.bendDirection,this.mix):this._applyIk3(this._bones[0],this._bones[1],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.bendDirection,this.mix)}},C$r._applyIk1=function(C$t,C$e,C$i,C$n){var C$r=C$t.parentBone,C$s=1/(C$r.resultMatrix.a*C$r.resultMatrix.d-C$r.resultMatrix.b*C$r.resultMatrix.c),C$e=C$e-C$r.resultMatrix.tx,C$i=C$i-C$r.resultMatrix.ty,C$a=(C$e*C$r.resultMatrix.d-C$i*C$r.resultMatrix.c)*C$s-C$t.transform.x,C$i=(C$i*C$r.resultMatrix.a-C$e*C$r.resultMatrix.b)*C$s-C$t.transform.y,C$e=Math.atan2(C$i,C$a)*_w92ep.radDeg-C$t.transform.skX;C$t.transform.scX<0&&(C$e+=180),180<C$e?C$e-=360:C$e<-180&&(C$e+=360),C$t.transform.skX=C$t.transform.skY=C$t.transform.skX+C$e*C$n,C$t.update()},C$r.updatePos=function(C$t,C$e){this._sp&&this._sp.pos(C$t,C$e)},C$r._applyIk2=function(C$t,C$u,C$e,C$c,C$_,C$d){var C$f,C$p,C$m,C$g,C$v,C$x,C$y,C$b,C$w,C$i,C$n,C$r,C$s,C$T,C$M,C$S,C$a,C$C,C$D,C$o,C$E,C$A,C$I,C$h,C$l;0!=C$d&&(C$f=C$t.resultTransform.x,C$p=C$t.resultTransform.y,C$v=(C$E=C$t.transform.scX)<(C$v=C$g=C$m=0)?(C$E=-C$E,C$m=180,-1):(C$m=0,1),(C$D=C$t.transform.scY)<0&&(C$D=-C$D,C$v=-C$v),C$g=(C$h=C$u.transform.scX)<0?(C$h=-C$h,180):0,C$x=C$u.resultTransform.x,C$r=C$n=C$y=NaN,C$l=C$t.resultMatrix.a,C$b=C$t.resultMatrix.c,C$o=C$t.resultMatrix.b,C$w=C$t.resultMatrix.d,C$r=(C$I=Math.abs(C$E-C$D)<=1e-4)?(C$n=C$l*C$x+C$b*(C$y=C$u.resultTransform.y)+C$t.resultMatrix.tx,C$o*C$x+C$w*C$y+C$t.resultMatrix.ty):(C$y=0,C$n=C$l*C$x+C$t.resultMatrix.tx,C$o*C$x+C$t.resultMatrix.ty),this.isDebug&&(this._sp||(this._sp=new C$P,C$R.stage.addChild(this._sp)),this._sp.graphics.clear(),this._sp.graphics.drawCircle(C$e,C$c,15,"#ffff00"),this._sp.graphics.drawCircle(C$n,C$r,15,"#ff00ff")),C$t.setRotation(Math.atan2(C$r-C$t.resultMatrix.ty,C$n-C$t.resultMatrix.tx)),C$l=(C$i=C$t.parentBone).resultMatrix.a,C$b=C$i.resultMatrix.c,C$o=C$i.resultMatrix.b,C$s=1/(C$l*(C$w=C$i.resultMatrix.d)-C$b*C$o),C$a=((C$e=C$e-C$i.resultMatrix.tx)*C$w-(C$c=C$c-C$i.resultMatrix.ty)*C$b)*C$s-C$f,C$T=(C$c*C$l-C$e*C$o)*C$s-C$p,C$n=((C$e=C$n-C$i.resultMatrix.tx)*C$w-(C$c=C$r-C$i.resultMatrix.ty)*C$b)*C$s-C$f,C$r=(C$c*C$l-C$e*C$o)*C$s-C$p,C$i=Math.sqrt(C$n*C$n+C$r*C$r),C$s=C$u.length*C$h,C$r=C$n=NaN,C$I?((C$h=(C$a*C$a+C$T*C$T-C$i*C$i-(C$s*=C$E)*C$s)/(2*C$i*C$s))<-1?C$h=-1:1<C$h&&(C$h=1),C$r=Math.acos(C$h)*C$_,C$l=C$i+C$s*C$h,C$b=C$s*Math.sin(C$r),C$n=Math.atan2(C$T*C$l-C$a*C$b,C$a*C$l+C$T*C$b)):(C$I=(C$l=C$E*C$s)*C$l,C$h=(C$b=C$D*C$s)*C$b,C$s=C$a*C$a+C$T*C$T,C$T=Math.atan2(C$T,C$a),0<(C$w=(C$a=-2*C$h*C$i)*C$a-4*(C$C=C$h-C$I)*(C$o=C$h*C$i*C$i+C$I*C$s-C$I*C$h))&&(C$M=Math.sqrt(C$w),C$a=(C$M=-(C$a+(C$M=C$a<0?-C$M:C$M))/2)/C$C,C$C=C$o/C$M,(C$o=Math.abs(C$a)<Math.abs(C$C)?C$a:C$C)*C$o<=C$s&&(C$c=Math.sqrt(C$s-C$o*C$o)*C$_,C$n=C$T-Math.atan2(C$c,C$o),C$r=Math.atan2(C$c/C$D,(C$o-C$i)/C$E))),C$A=C$E=C$o=C$D=C$C=C$a=C$M=0,C$o<(C$w=(C$e=C$i+C$l)*C$e)&&(C$D=0,C$o=C$w,C$E=C$e),(C$w=(C$e=C$i-C$l)*C$e)<(C$S=Number.MAX_VALUE)&&(C$M=Math.PI,C$S=C$w,C$a=C$e),C$I=Math.acos(-C$l*C$i/(C$I-C$h)),(C$w=(C$e=C$l*Math.cos(C$I)+C$i)*C$e+(C$c=C$b*Math.sin(C$I))*C$c)<C$S&&(C$M=C$I,C$S=C$w,C$a=C$e,C$C=C$c),C$o<C$w&&(C$D=C$I,C$o=C$w,C$E=C$e,C$A=C$c),C$r=C$s<=(C$S+C$o)/2?(C$n=C$T-Math.atan2(C$C*C$_,C$a),C$M*C$_):(C$n=C$T-Math.atan2(C$A*C$_,C$E),C$D*C$_)),C$h=Math.atan2(C$y,C$x)*C$v,C$l=C$t.resultTransform.skX,180<(C$n=(C$n-C$h)*_w92ep.radDeg+C$m-C$l)?C$n-=360:C$n<-180&&(C$n+=360),C$t.resultTransform.x=C$f,C$t.resultTransform.y=C$p,C$t.resultTransform.skX=C$t.resultTransform.skY=C$l+C$n*C$d,C$l=C$u.resultTransform.skX,180<(C$r=(C$r+C$h)*_w92ep.radDeg*C$v+C$g-(C$l%=360))?C$r-=360:C$r<-180&&(C$r+=360),C$u.resultTransform.x=C$x,C$u.resultTransform.y=C$y,C$u.resultTransform.skX=C$u.resultTransform.skY=C$u.resultTransform.skY+C$r*C$d,C$t.update())},C$r._applyIk3=function(C$t,C$e,C$u,C$c,C$_,C$i){var C$d,C$f,C$p,C$m,C$n,C$r,C$g,C$s,C$a,C$o,C$h,C$l;0!=C$i&&(C$i=(C$i=C$e.resultMatrix.a*C$e.length)*C$i+(C$i=C$e.resultMatrix.b*C$e.length)*C$i,C$r=Math.sqrt(C$i),C$d=C$t.resultMatrix.tx,C$f=C$t.resultMatrix.ty,C$o=(C$l=(C$p=C$e.resultMatrix.tx)-C$d)*C$l+(C$a=(C$m=C$e.resultMatrix.ty)-C$f)*C$a,C$s=Math.sqrt(C$o),C$n=(C$l=C$u-C$t.resultMatrix.tx)*C$l+(C$a=C$c-C$t.resultMatrix.ty)*C$a,C$m=C$r+C$s<=(C$h=Math.sqrt(C$n))||C$h+C$r<=C$s||C$h+C$s<=C$r?(C$g=NaN,C$p=C$d+(C$g=C$r+C$s<=C$h?1:-1)*(C$u-C$d)*C$s/C$h,C$f+C$g*(C$c-C$f)*C$s/C$h):(C$g=C$d+C$l*(C$r=(C$o-C$i+C$n)/(2*C$n)),C$s=C$f+C$a*C$r,C$a=-C$a*(C$i=Math.sqrt(C$o-C$r*C$r*C$n)/C$h),C$o=C$l*C$i,0<C$_?(C$p=C$g-C$a,C$s-C$o):(C$p=C$g+C$a,C$s+C$o)),C$r=C$p,C$n=C$m,this.isDebug&&(this._sp||(this._sp=new C$P,C$R.stage.addChild(this._sp)),this._sp.graphics.clear(),this._sp.graphics.drawCircle(C$d,C$f,15,"#ff00ff"),this._sp.graphics.drawCircle(C$u,C$c,15,"#ffff00"),this._sp.graphics.drawCircle(C$r,C$n,15,"#ff00ff")),C$h=Math.atan2(C$n-C$t.resultMatrix.ty,C$r-C$t.resultMatrix.tx),C$t.setRotation(C$h),(C$l=_w92ep._tempMatrix).identity(),C$l.rotate(C$h),C$l.scale(C$t.resultMatrix.getScaleX(),C$t.resultMatrix.getScaleY()),C$l.translate(C$t.resultMatrix.tx,C$t.resultMatrix.ty),C$l.copyTo(C$t.resultMatrix),C$t.updateChild(),C$i=Math.atan2(C$c-C$n,C$u-C$r),C$e.setRotation(C$i),(C$_=_w92ep._tempMatrix).identity(),C$_.rotate(C$i),C$_.scale(C$e.resultMatrix.getScaleX(),C$e.resultMatrix.getScaleY()),C$_.translate(C$r,C$n),C$l.copyTo(C$e.resultMatrix),C$e.updateChild())},C$t(_w92ep,["radDeg",function(){return this.radDeg=180/Math.PI},"degRad",function(){return this.degRad=Math.PI/180},"_tempMatrix",function(){return this._tempMatrix=new C$Dt}]),_w92ep),C$zt=(C$e(hpzec,"laya.ani.bone.IkConstraintData"),hpzec),C$y=(C$e(yb5q,"laya.ani.bone.PathConstraint"),(C$r=yb5q.prototype).apply=function(C$u,C$c){if(this.target){var C$_=this.translateMix,C$d=this.translateMix,C$f=0<C$d,C$p=this.data.spacingMode,C$m="length"==C$p,C$g=this.data.rotateMode,C$v="tangent"==C$g,C$x="chainScale"==C$g,C$y=[],C$b=this.bones.length,C$w=C$v?C$b:C$b+1,C$T=[];(this._spaces=C$T)[0]=this.position;var C$M=this.spacing;if(C$x||C$m)for(var C$t=0,C$S=C$w-1;C$t<C$S;){var C$e=this.bones[C$t],C$i=C$e.length,C$C=C$i*C$e.resultMatrix.a,C$D=C$i*C$e.resultMatrix.b;C$i=Math.sqrt(C$C*C$C+C$D*C$D),C$x&&(C$y[C$t]=C$i),C$T[++C$t]=C$m?Math.max(0,C$i+C$M):C$M}else for(C$t=1;C$t<C$w;C$t++)C$T[C$t]=C$M;var C$n=this.computeWorldPositions(this.target,C$u,C$c,C$w,C$v,"percent"==this.data.positionMode,"percent"==C$p);if(this._debugKey){for(C$t=0;C$t<C$n.length;C$t++)C$c.drawCircle(C$n[C$t++],C$n[C$t++],5,"#00ff00");var C$E=[];for(C$t=0;C$t<C$n.length;C$t++)C$E.push(C$n[C$t++],C$n[C$t++]);C$c.drawLines(0,0,C$E,"#ff0000")}var C$A=C$n[0],C$I=C$n[1],C$R=this.data.offsetRotation,C$P="chain"==C$g&&0==C$R,C$r=NaN;for(C$t=0,C$r=3;C$t<C$b;C$t++,C$r+=3){(C$e=this.bones[C$t]).resultMatrix.tx+=(C$A-C$e.resultMatrix.tx)*C$_,C$e.resultMatrix.ty+=(C$I-C$e.resultMatrix.ty)*C$_;var C$L=(C$C=C$n[C$r])-C$A,C$B=(C$D=C$n[C$r+1])-C$I;var C$s,C$k,C$a,C$N,C$o,C$h,C$l;C$x&&0!=(C$i=C$y[C$t])&&(C$s=(Math.sqrt(C$L*C$L+C$B*C$B)/C$i-1)*C$d+1,C$e.resultMatrix.a*=C$s,C$e.resultMatrix.c*=C$s),C$A=C$C,C$I=C$D,C$f&&(C$s=C$e.resultMatrix.a,C$k=C$e.resultMatrix.c,C$a=C$e.resultMatrix.b,C$N=C$e.resultMatrix.d,C$l=C$h=C$o=NaN,C$o=C$v?C$n[C$r-1]:0==C$T[C$t+1]?C$n[C$r+2]:Math.atan2(C$B,C$L),C$o-=Math.atan2(C$a,C$s)-C$R/180*Math.PI,C$P&&(C$h=Math.cos(C$o),C$l=Math.sin(C$o),C$A+=((C$i=C$e.length)*(C$h*C$s-C$l*C$a)-C$L)*C$d,C$I+=(C$i*(C$l*C$s+C$h*C$a)-C$B)*C$d),C$o>Math.PI?C$o-=2*Math.PI:C$o<-Math.PI&&(C$o+=2*Math.PI),C$o*=C$d,C$h=Math.cos(C$o),C$l=Math.sin(C$o),C$e.resultMatrix.a=C$h*C$s-C$l*C$a,C$e.resultMatrix.c=C$h*C$k-C$l*C$N,C$e.resultMatrix.b=C$l*C$s+C$h*C$a,C$e.resultMatrix.d=C$l*C$k+C$h*C$N)}}},C$r.computeWorldVertices2=function(C$t,C$e,C$u,C$c,C$_,C$d){var C$i,C$n,C$f,C$p=C$t.currDisplayData.bones,C$m=C$t.currDisplayData.weights,C$g=C$t.currDisplayData.triangles,C$r=0,C$s=0,C$v=0,C$x=0,C$a=0,C$y=0,C$b=0,C$w=0,C$o=0,C$h=0;if(null!=C$p){for(C$r=0;C$r<C$u;C$r+=2)C$s+=(C$x=C$p[C$s])+1,C$v+=C$x;var C$T=C$e;for(C$a=C$d,C$y=3*C$v;C$a<C$c;C$a+=2){for(C$w=C$b=0,C$x=C$p[C$s++],C$x+=C$s;C$s<C$x;C$s++,C$y+=3){C$i=C$T[C$p[C$s]].resultMatrix,C$o=C$m[C$y],C$h=C$m[C$y+1];var C$M=C$m[C$y+2];C$b+=(C$o*C$i.a+C$h*C$i.c+C$i.tx)*C$M,C$w+=(C$o*C$i.b+C$h*C$i.d+C$i.ty)*C$M}C$_[C$a]=C$b,C$_[C$a+1]=C$w}}else{var C$S,C$l;if(C$g=C$g||C$m,C$t.deformData&&(C$g=C$t.deformData),C$S=C$t.parent,C$e)for(C$f=C$e.length,C$r=0;C$r<C$f;C$r++)if(C$e[C$r].name==C$S){C$n=C$e[C$r];break}var C$C=(C$l=(C$l=C$n?C$n.resultMatrix:C$l)||yb5q._tempMt).tx,C$D=C$l.ty,C$E=C$l.a,C$A=C$l.b,C$I=C$l.c,C$R=C$l.d;for(C$n&&(C$R*=C$n.d),C$s=C$u,C$a=C$d;C$a<C$c;C$s+=2,C$a+=2)C$o=C$g[C$s],C$h=C$g[C$s+1],C$_[C$a]=C$o*C$E+C$h*C$A+C$C,C$_[C$a+1]=-(C$o*C$I+C$h*C$R+C$D)}},C$r.computeWorldPositions=function(C$u,C$c,C$_,C$d,C$f,C$p,C$m){C$u.currDisplayData.bones,C$u.currDisplayData.weights,C$u.currDisplayData.triangles;var C$t,C$g,C$v=[],C$e=0,C$x=C$u.currDisplayData.verLen,C$y=this.position,C$b=this._spaces,C$w=[],C$T=C$x/6,C$M=-1,C$i=NaN,C$S=0,C$C=0,C$n=NaN,C$D=NaN,C$E=NaN;if(C$T--,this.computeWorldVertices2(C$u,C$c,2,C$x-=4,C$v,0),this._debugKey)for(C$e=0;C$e<C$v.length;)C$_.drawCircle(C$v[C$e++],C$v[C$e++],10,"#ff0000");C$t=C$v,this._curves.length=C$T;var C$A=this._curves,C$I=C$t[C$i=0],C$R=C$t[1],C$P=0,C$L=0,C$B=0,C$k=0,C$N=0,C$z=0,C$O=NaN,C$F=NaN,C$V=NaN,C$j=NaN,C$r=NaN,C$s=NaN,C$a=NaN,C$o=NaN,C$U=0;for(C$e=0,C$U=2;C$e<C$T;C$e++,C$U+=6)C$r=2*(C$O=.1875*(C$I-2*(C$P=C$t[C$U])+(C$B=C$t[C$U+2])))+(C$V=.09375*(3*(C$P-C$B)-C$I+(C$N=C$t[C$U+4]))),C$s=2*(C$F=.1875*(C$R-2*(C$L=C$t[C$U+1])+(C$k=C$t[C$U+3])))+(C$j=.09375*(3*(C$L-C$k)-C$R+(C$z=C$t[C$U+5]))),C$a=.75*(C$P-C$I)+C$O+.16666667*C$V,C$o=.75*(C$L-C$R)+C$F+.16666667*C$j,C$i+=Math.sqrt(C$a*C$a+C$o*C$o),C$a+=C$r,C$o+=C$s,C$r+=C$V,C$s+=C$j,C$i+=Math.sqrt(C$a*C$a+C$o*C$o),C$a+=C$r,C$o+=C$s,C$i+=Math.sqrt(C$a*C$a+C$o*C$o),C$a+=C$r+C$V,C$o+=C$s+C$j,C$i+=Math.sqrt(C$a*C$a+C$o*C$o),C$A[C$e]=C$i,C$I=C$N,C$R=C$z;if(C$p&&(C$y*=C$i),C$m)for(C$e=0;C$e<C$d;C$e++)C$b[C$e]*=C$i;var C$q=this._segments,C$h=0,C$H=0;for(C$H=C$C=C$S=C$e=0;C$e<C$d;C$e++,C$S+=3)if((C$n=C$y+=C$g=C$b[C$e])<0)this.addBeforePosition(C$n,C$t,0,C$w,C$S);else if(C$i<C$n)this.addAfterPosition(C$n-C$i,C$t,C$x-4,C$w,C$S);else{for(;;C$C++)if(!((C$E=C$A[C$C])<C$n)){0==C$C?C$n/=C$E:C$n=(C$n-(C$D=C$A[C$C-1]))/(C$E-C$D);break}if(C$C!=C$M){var C$l=6*(C$M=C$C);for(C$r=2*(C$O=.03*((C$I=C$t[C$l])-2*(C$P=C$t[C$l+2])+(C$B=C$t[C$l+4])))+(C$V=.006*(3*(C$P-C$B)-C$I+(C$N=C$t[C$l+6]))),C$s=2*(C$F=.03*((C$R=C$t[C$l+1])-2*(C$L=C$t[C$l+3])+(C$k=C$t[C$l+5])))+(C$j=.006*(3*(C$L-C$k)-C$R+(C$z=C$t[C$l+7]))),C$a=.3*(C$P-C$I)+C$O+.16666667*C$V,C$o=.3*(C$L-C$R)+C$F+.16666667*C$j,C$h=Math.sqrt(C$a*C$a+C$o*C$o),C$q[0]=C$h,C$l=1;C$l<8;C$l++)C$a+=C$r,C$o+=C$s,C$r+=C$V,C$s+=C$j,C$h+=Math.sqrt(C$a*C$a+C$o*C$o),C$q[C$l]=C$h;C$a+=C$r,C$o+=C$s,C$h+=Math.sqrt(C$a*C$a+C$o*C$o),C$q[8]=C$h,C$a+=C$r+C$V,C$o+=C$s+C$j,C$h+=Math.sqrt(C$a*C$a+C$o*C$o),C$q[9]=C$h,C$H=0}for(C$n*=C$h;;C$H++)if(!((C$E=C$q[C$H])<C$n)){0==C$H?C$n/=C$E:C$n=C$H+(C$n-(C$D=C$q[C$H-1]))/(C$E-C$D);break}this.addCurvePosition(.1*C$n,C$I,C$R,C$P,C$L,C$B,C$k,C$N,C$z,C$w,C$S,C$f||0<C$e&&0==C$g)}return C$w},C$r.addBeforePosition=function(C$t,C$e,C$i,C$n,C$r){var C$s=C$e[C$i],C$a=C$e[C$i+1],C$o=C$e[C$i+2]-C$s,C$e=C$e[C$i+3]-C$a,C$i=Math.atan2(C$e,C$o);C$n[C$r]=C$s+C$t*Math.cos(C$i),C$n[C$r+1]=C$a+C$t*Math.sin(C$i),C$n[C$r+2]=C$i},C$r.addAfterPosition=function(C$t,C$e,C$i,C$n,C$r){var C$s=C$e[C$i+2],C$a=C$e[C$i+3],C$o=C$s-C$e[C$i],C$e=C$a-C$e[C$i+1],C$i=Math.atan2(C$e,C$o);C$n[C$r]=C$s+C$t*Math.cos(C$i),C$n[C$r+1]=C$a+C$t*Math.sin(C$i),C$n[C$r+2]=C$i},C$r.addCurvePosition=function(C$t,C$e,C$u,C$c,C$_,C$d,C$f,C$i,C$p,C$n,C$r,C$m){var C$s=(C$t=0==C$t?1e-4:C$t)*C$t,C$g=C$s*C$t,C$a=1-C$t,C$o=C$a*C$a,C$v=C$o*C$a,C$h=C$a*C$t,C$l=3*C$h,C$a=C$a*C$l,C$l=C$l*C$t,C$t=C$e*C$v+C$c*C$a+C$d*C$l+C$i*C$g,C$i=C$u*C$v+C$_*C$a+C$f*C$l+C$p*C$g;C$n[C$r]=C$t,C$n[C$r+1]=C$i,C$n[C$r+2]=C$m?Math.atan2(C$i-(C$u*C$o+C$_*C$h*2+C$f*C$s),C$t-(C$e*C$o+C$c*C$h*2+C$d*C$s)):0},yb5q.NONE=-1,yb5q.BEFORE=-2,yb5q.AFTER=-3,C$t(yb5q,["_tempMt",function(){return this._tempMt=new C$Dt}]),yb5q),C$Ot=(C$e(zh_pt,"laya.ani.bone.PathConstraintData"),zh_pt),C$Ft=(C$e(dg6tc8,"laya.ani.bone.SkinData"),dg6tc8),C$Vt=(C$e(qboy5r,"laya.ani.bone.SkinSlotDisplayData"),(C$r=qboy5r.prototype).createTexture=function(C$t){return this.texture||(this.texture=new C$At(C$t.bitmap,this.uvs),C$t.bitmap.alphaTexture&&(this.texture.alphaTexture=new C$At(C$t.bitmap.alphaTexture,this.uvs)),this.uvs[0]>this.uvs[4]&&this.uvs[1]>this.uvs[5]?(this.texture.width=C$t.height,this.texture.height=C$t.width,this.texture.offsetX=-C$t.offsetX,this.texture.offsetY=-C$t.offsetY,this.texture.sourceWidth=C$t.sourceHeight,this.texture.sourceHeight=C$t.sourceWidth):(this.texture.width=C$t.width,this.texture.height=C$t.height,this.texture.offsetX=-C$t.offsetX,this.texture.offsetY=-C$t.offsetY,this.texture.sourceWidth=C$t.sourceWidth,this.texture.sourceHeight=C$t.sourceHeight),C$l.isWebGL||this.uvs[1]>this.uvs[5]&&(this.texture.offsetY=this.texture.sourceHeight-this.texture.height-this.texture.offsetY)),this.texture},C$r.destory=function(){this.texture&&this.texture.destroy()},qboy5r),C$jt=(C$e(h_2p,"laya.ani.bone.SlotData"),h_2p.prototype.getDisplayByName=function(C$t){for(var C$e=0,C$i=this.displayArr.length;C$e<C$i;C$e++)if(this.displayArr[C$e].attachmentName==C$t)return C$e;return-1},h_2p),C$b=(C$e(nxij17,"laya.ani.bone.TfConstraint"),nxij17.prototype.apply=function(){for(var C$t,C$e=this.target.resultMatrix.a,C$u=this.target.resultMatrix.b,C$c=this.target.resultMatrix.c,C$_=this.target.resultMatrix.d,C$d=0,C$f=this._bones.length;C$d<C$f;C$d++){var C$i,C$n,C$r,C$s;var C$a,C$o,C$h;var C$l;C$t=this._bones[C$d],0<this.rotateMix&&(C$a=C$t.resultMatrix.a,C$i=C$t.resultMatrix.b,C$o=C$t.resultMatrix.c,C$n=C$t.resultMatrix.d,(C$r=Math.atan2(C$c,C$e)-Math.atan2(C$o,C$a)+this._data.offsetRotation*Math.PI/180)>Math.PI?C$r-=2*Math.PI:C$r<-Math.PI&&(C$r+=2*Math.PI),C$r*=this.rotateMix,C$s=Math.cos(C$r),C$l=Math.sin(C$r),C$t.resultMatrix.a=C$s*C$a-C$l*C$o,C$t.resultMatrix.b=C$s*C$i-C$l*C$n,C$t.resultMatrix.c=C$l*C$a+C$s*C$o,C$t.resultMatrix.d=C$l*C$i+C$s*C$n),this.translateMix&&(this._temp[0]=this._data.offsetX,this._temp[1]=this._data.offsetY,this.target.localToWorld(this._temp),C$t.resultMatrix.tx+=(this._temp[0]-C$t.resultMatrix.tx)*this.translateMix,C$t.resultMatrix.ty+=(this._temp[1]-C$t.resultMatrix.ty)*this.translateMix,C$t.updateChild()),0<this.scaleMix&&(C$a=Math.sqrt(C$t.resultMatrix.a*C$t.resultMatrix.a+C$t.resultMatrix.c*C$t.resultMatrix.c),C$o=Math.sqrt(C$e*C$e+C$c*C$c),C$h=1e-5<C$a?(C$a+(C$o-C$a+this._data.offsetScaleX)*this.scaleMix)/C$a:0,C$t.resultMatrix.a*=C$h,C$t.resultMatrix.c*=C$h,C$a=Math.sqrt(C$t.resultMatrix.b*C$t.resultMatrix.b+C$t.resultMatrix.d*C$t.resultMatrix.d),C$o=Math.sqrt(C$u*C$u+C$_*C$_),C$h=1e-5<C$a?(C$a+(C$o-C$a+this._data.offsetScaleY)*this.scaleMix)/C$a:0,C$t.resultMatrix.b*=C$h,C$t.resultMatrix.d*=C$h),0<this.shearMix&&(C$i=C$t.resultMatrix.b,C$n=C$t.resultMatrix.d,C$l=Math.atan2(C$n,C$i),(C$r=Math.atan2(C$_,C$u)-Math.atan2(C$c,C$e)-(C$l-Math.atan2(C$t.resultMatrix.c,C$t.resultMatrix.a)))>Math.PI?C$r-=2*Math.PI:C$r<-Math.PI&&(C$r+=2*Math.PI),C$r=C$l+(C$r+this._data.offsetShearY*Math.PI/180)*this.shearMix,C$h=Math.sqrt(C$i*C$i+C$n*C$n),C$t.resultMatrix.b=Math.cos(C$r)*C$h,C$t.resultMatrix.d=Math.sin(C$r)*C$h)}},nxij17),C$Ut=(C$e(zeph_,"laya.ani.bone.TfConstraintData"),zeph_),C$qt=(C$e(zh8et,"laya.ani.bone.Transform"),(C$t=zh8et.prototype).initData=function(C$t){null!=C$t.x&&(this.x=C$t.x),null!=C$t.y&&(this.y=C$t.y),null!=C$t.skX&&(this.skX=C$t.skX),null!=C$t.skY&&(this.skY=C$t.skY),null!=C$t.scX&&(this.scX=C$t.scX),null!=C$t.scY&&(this.scY=C$t.scY)},C$t.getMatrix=function(){var C$t;return(C$t=this.mMatrix||(this.mMatrix=new C$Dt)).identity(),C$t.scale(this.scX,this.scY),(this.skewX||this.skewY)&&this.skew(C$t,this.skewX*Math.PI/180,this.skewY*Math.PI/180),C$t.rotate(this.skX*Math.PI/180),C$t.translate(this.x,this.y),C$t},C$t.skew=function(C$t,C$e,C$i){var C$n=Math.sin(C$i),C$i=Math.cos(C$i),C$r=Math.sin(C$e),C$e=Math.cos(C$e);return C$t.setTo(C$t.a*C$e-C$t.b*C$n,C$t.a*C$r+C$t.b*C$i,C$t.c*C$e-C$t.d*C$n,C$t.c*C$r+C$t.d*C$i,C$t.tx*C$e-C$t.ty*C$n,C$t.tx*C$r+C$t.ty*C$i),C$t},zh8et),C$w=(C$e(o50kb,"laya.ani.bone.UVTools"),o50kb.getRelativeUV=function(C$t,C$e,C$i){var C$n=C$t[0],C$r=C$t[2]-C$t[0],C$s=C$t[1],C$t=C$t[5]-C$t[1];(C$i=C$i||[]).length=C$e.length;var C$a,C$o=0;C$a=C$i.length;var C$h=1/C$r,C$l=1/C$t;for(C$o=0;C$o<C$a;C$o+=2)C$i[C$o]=(C$e[C$o]-C$n)*C$h,C$i[C$o+1]=(C$e[C$o+1]-C$s)*C$l;return C$i},o50kb.getAbsoluteUV=function(C$t,C$e,C$i){if(0==C$t[0]&&0==C$t[1]&&1==C$t[4]&&1==C$t[5])return C$i?(C$m.copyArray(C$i,C$e),C$i):C$e;var C$n=C$t[0],C$r=C$t[2]-C$t[0],C$s=C$t[1],C$a=C$t[5]-C$t[1];(C$i=C$i||[]).length=C$e.length;var C$o,C$h=0;for(C$o=C$i.length,C$h=0;C$h<C$o;C$h+=2)C$i[C$h]=C$e[C$h]*C$r+C$n,C$i[C$h+1]=C$e[C$h+1]*C$a+C$s;return C$i},o50kb),C$E=(C$e(ma34l,"laya.ani.KeyFramesContent"),ma34l),C$T=(C$e(q0ok5,"laya.ani.math.BezierLerp"),q0ok5.getBezierRate=function(C$t,C$e,C$i,C$n,C$r){var C$s=q0ok5._getBezierParamKey(C$e,C$i,C$n,C$r),C$a=100*C$s+C$t;if(q0ok5._bezierResultCache[C$a])return q0ok5._bezierResultCache[C$a];var C$o,C$h=q0ok5._getBezierPoints(C$e,C$i,C$n,C$r,C$s),C$l=0;for(C$o=C$h.length,C$l=0;C$l<C$o;C$l+=2)if(C$t<=C$h[C$l])return q0ok5._bezierResultCache[C$a]=C$h[C$l+1],C$h[C$l+1];return q0ok5._bezierResultCache[C$a]=1},q0ok5._getBezierParamKey=function(C$t,C$e,C$i,C$n){return 100*(100*(100*(100*C$t+C$e)+C$i)+C$n)},q0ok5._getBezierPoints=function(C$t,C$e,C$i,C$n,C$r){return q0ok5._bezierPointsCache[C$r]||(C$t=[0,0,C$t,C$e,C$i,C$n,1,1],C$e=(new C$s).getBezierPoints(C$t,100,3),q0ok5._bezierPointsCache[C$r]=C$e)},q0ok5._bezierResultCache={},q0ok5._bezierPointsCache={},q0ok5),C$M=(C$e(j5voyr,"laya.ani.AnimationPlayer",C$n),C$r=j5voyr.prototype,C$R.imps(C$r,{"laya.resource.IDestroy":!0}),C$r._onTempletLoadedComputeFullKeyframeIndices=function(C$t,C$e,C$i){this._templet===C$i&&this._cachePlayRate===C$t&&this._cacheFrameRate===C$e&&this._computeFullKeyframeIndices()},C$r._computeFullKeyframeIndices=function(){for(var C$u=this._fullFrames=[],C$t=this._templet,C$e=this._cacheFrameRateInterval*this._cachePlayRate,C$i=0,C$c=C$t.getAnimationCount();C$i<C$c;C$i++){for(var C$n=[],C$r=0,C$_=C$t.getAnimation(C$i).nodes.length;C$r<C$_;C$r++){for(var C$s=C$t.getAnimation(C$i).nodes[C$r],C$d=Math.floor(C$s.playTime/C$e+.01),C$a=new Uint16Array(C$d+1),C$f=-1,C$o=0,C$p=C$s.keyFrame.length;C$o<C$p;C$o++){var C$m=C$s.keyFrame[C$o],C$h=C$m.startTime,C$g=C$h+C$m.duration+C$e;do{for(var C$v=Math.floor(C$h/C$e+.5),C$l=C$f+1;C$l<C$v;C$l++)C$a[C$l]=C$o}while(C$a[C$f=C$v]=C$o,(C$h+=C$e)<=C$g)}C$n.push(C$a)}C$u.push(C$n)}},C$r._onAnimationTempletLoaded=function(){this.destroyed||this._calculatePlayDuration()},C$r._calculatePlayDuration=function(){var C$t;0!==this.state&&(C$t=this._templet.getAniDuration(this._currentAnimationClipIndex),0===this._playEnd&&(this._playEnd=C$t),this._playEnd>C$t&&(this._playEnd=C$t),this._playDuration=this._playEnd-this._playStart)},C$r._setPlayParams=function(C$t,C$e){this._currentTime=C$t,this._currentKeyframeIndex=Math.max(Math.floor(this.currentPlayTime/C$e+.01),0),this._currentFrameTime=this._currentKeyframeIndex*C$e},C$r._setPlayParamsWhenStop=function(C$t,C$e){this._currentTime=C$t,this._currentKeyframeIndex=Math.max(Math.floor(C$t/C$e+.01),0),this._currentFrameTime=this._currentKeyframeIndex*C$e,this._currentAnimationClipIndex=-1},C$r._update=function(C$t){if(-1!==this._currentAnimationClipIndex&&!this._paused&&this._templet&&this._templet.loaded){var C$e=this._cacheFrameRateInterval*this._cachePlayRate,C$i=0;this._startUpdateLoopCount!==C$f.loopCount&&(C$i=C$t*this.playbackRate,this._elapsedPlaybackTime+=C$i);var C$n=this.playDuration;if(0!==this._overallDuration&&this._elapsedPlaybackTime>=this._overallDuration||0===this._overallDuration&&this._elapsedPlaybackTime>=C$n)return this._setPlayParamsWhenStop(C$n,C$e),void this.event("stopped");if(C$i+=this._currentTime,0<C$n)if(C$n<=C$i){do{if(C$i-=C$n,this._stopWhenCircleFinish)return this._setPlayParamsWhenStop(C$n,C$e),this._stopWhenCircleFinish=!1,void this.event("stopped")}while(C$i<C$n&&(this._setPlayParams(C$i,C$e),this.event("complete")),C$n<=C$i)}else this._setPlayParams(C$i,C$e);else{if(this._stopWhenCircleFinish)return this._setPlayParamsWhenStop(C$n,C$e),this._stopWhenCircleFinish=!1,void this.event("stopped");this._currentTime=this._currentFrameTime=this._currentKeyframeIndex=0,this.event("complete")}}},C$r._destroy=function(){this.offAll(),this._templet=null,this._fullFrames=null,this._destroyed=!0},C$r.play=function(C$t,C$e,C$i,C$n,C$r){if(void 0===C$t&&(C$t=0),void 0===C$e&&(C$e=1),void 0===C$i&&(C$i=2147483647),void 0===C$n&&(C$n=0),void 0===C$r&&(C$r=0),!this._templet)throw new Error("AnimationPlayer:templet must not be null,maybe you need to set url.");if(C$i<0||C$n<0||C$r<0)throw new Error("AnimationPlayer:overallDuration,playStart and playEnd must large than zero.");if(0!==C$r&&C$r<C$n)throw new Error("AnimationPlayer:start must less than end.");this._currentTime=0,this._currentFrameTime=0,this._elapsedPlaybackTime=0,this.playbackRate=C$e,this._overallDuration=C$i,this._playStart=C$n,this._playEnd=C$r,this._paused=!1,this._currentAnimationClipIndex=C$t,this._currentKeyframeIndex=0,this._startUpdateLoopCount=C$f.loopCount,this.event("played"),this._templet.loaded?this._calculatePlayDuration():this._templet.once("loaded",this,this._onAnimationTempletLoaded),this._update(0)},C$r.playByFrame=function(C$t,C$e,C$i,C$n,C$r,C$s){C$s=1e3/(C$s=void 0===C$s?30:C$s);this.play(C$t=void 0===C$t?0:C$t,C$e=void 0===C$e?1:C$e,C$i=void 0===C$i?2147483647:C$i,(C$n=void 0===C$n?0:C$n)*C$s,(C$r=void 0===C$r?0:C$r)*C$s)},C$r.stop=function(C$t){(C$t=void 0===C$t?!0:C$t)?(this._currentTime=this._currentFrameTime=this._currentKeyframeIndex=0,this._currentAnimationClipIndex=-1,this.event("stopped")):this._stopWhenCircleFinish=!0},C$i(0,C$r,"playEnd",function(){return this._playEnd}),C$i(0,C$r,"templet",function(){return this._templet},function(C$t){0===!this.state&&this.stop(!0),this._templet!==C$t&&((this._templet=C$t).loaded?this._computeFullKeyframeIndices():C$t.once("loaded",this,this._onTempletLoadedComputeFullKeyframeIndices,[this._cachePlayRate,this._cacheFrameRate]))}),C$i(0,C$r,"playStart",function(){return this._playStart}),C$i(0,C$r,"playDuration",function(){return this._playDuration}),C$i(0,C$r,"state",function(){return-1===this._currentAnimationClipIndex?0:this._paused?1:2}),C$i(0,C$r,"currentKeyframeIndex",function(){return this._currentKeyframeIndex}),C$i(0,C$r,"overallDuration",function(){return this._overallDuration}),C$i(0,C$r,"currentFrameTime",function(){return this._currentFrameTime}),C$i(0,C$r,"currentAnimationClipIndex",function(){return this._currentAnimationClipIndex}),C$i(0,C$r,"currentPlayTime",function(){return this._currentTime+this._playStart}),C$i(0,C$r,"cachePlayRate",function(){return this._cachePlayRate},function(C$t){this._cachePlayRate!==C$t&&(this._cachePlayRate=C$t,this._templet&&(this._templet.loaded?this._computeFullKeyframeIndices():this._templet.once("loaded",this,this._onTempletLoadedComputeFullKeyframeIndices,[C$t,this._cacheFrameRate])))}),C$i(0,C$r,"cacheFrameRate",function(){return this._cacheFrameRate},function(C$t){this._cacheFrameRate!==C$t&&(this._cacheFrameRate=C$t,this._cacheFrameRateInterval=1e3/this._cacheFrameRate,this._templet&&(this._templet.loaded?this._computeFullKeyframeIndices():this._templet.once("loaded",this,this._onTempletLoadedComputeFullKeyframeIndices,[this._cachePlayRate,C$t])))}),C$i(0,C$r,"currentTime",null,function(C$t){if(-1!==this._currentAnimationClipIndex&&this._templet&&this._templet.loaded){if(C$t<this._playStart||C$t>this._playEnd)throw new Error("AnimationPlayer:value must large than playStartTime,small than playEndTime.");this._startUpdateLoopCount=C$f.loopCount;var C$e=this._cacheFrameRateInterval*this._cachePlayRate;this._currentTime=C$t,this._currentKeyframeIndex=Math.max(Math.floor(this.currentPlayTime/C$e),0),this._currentFrameTime=this._currentKeyframeIndex*C$e}}),C$i(0,C$r,"paused",function(){return this._paused},function(C$t){(this._paused=C$t)&&this.event("paused")}),C$i(0,C$r,"cacheFrameRateInterval",function(){return this._cacheFrameRateInterval}),C$i(0,C$r,"destroyed",function(){return this._destroyed}),j5voyr),C$L=(C$e(bk50,"laya.ani.GraphicsAni",C$a),bk50.prototype.drawSkin=function(C$t){this._saveToCmd(C$l._context._drawSkin,[C$t])},bk50.create=function(){return bk50._caches.pop()||new bk50},bk50.recycle=function(C$t){C$t.clear(),bk50._caches.push(C$t)},bk50._caches=[],bk50),C$A=(C$e(orq5b,"laya.ani.AnimationTemplet",C$_),(C$t=orq5b.prototype).parse=function(C$t){C$t=new C$Et(C$t);this._aniVersion=C$t.readUTFString(),C$g.parse(this,C$t)},C$t._calculateKeyFrame=function(C$t,C$e,C$i){var C$n=C$t.keyFrame;C$n[C$e]=C$n[0];for(var C$r=0;C$r<C$e;C$r++){var C$s=C$n[C$r];C$s.nextData=(0===C$s.duration?C$s:C$n[C$r+1]).data}C$n.length--},C$t.onAsynLoaded=function(C$t,C$e,C$i){C$e=new C$Et(C$e);("LAYAANIMATION:02"===(this._aniVersion=C$e.readUTFString(),this._aniVersion)?C$v:C$g).parse(this,C$e),this._endLoaded()},C$t.disposeResource=function(){this._aniVersion=null,this._anis=null,this._aniMap=null,this._publicExtData=null,this.unfixedCurrentFrameIndexes=null,this.unfixedCurrentTimes=null,this.unfixedKeyframes=null,this._aniClassName=null,this._animationDatasCache=null},C$t.getAnimationCount=function(){return this._anis.length},C$t.getAnimation=function(C$t){return this._anis[C$t]},C$t.getAniDuration=function(C$t){return this._anis[C$t].playTime},C$t.getNodes=function(C$t){return this._anis[C$t].nodes},C$t.getNodeIndexWithName=function(C$t,C$e){return this._anis[C$t].bone3DMap[C$e]},C$t.getNodeCount=function(C$t){return this._anis[C$t].nodes.length},C$t.getTotalkeyframesLength=function(C$t){return this._anis[C$t].totalKeyframeDatasLength},C$t.getPublicExtData=function(){return this._publicExtData},C$t.getAnimationDataWithCache=function(C$t,C$e,C$i,C$n){C$e=C$e[C$i];return C$e&&(C$i=C$e[C$t])?C$i[C$n]:null},C$t.setAnimationDataWithCache=function(C$t,C$e,C$i,C$n,C$r){C$e=C$e[C$i]||(C$e[C$i]={});(C$e[C$t]||(C$e[C$t]=[]))[C$n]=C$r},C$t.getOriginalData=function(C$u,C$t,C$c,C$_,C$d){for(var C$f=this._anis[C$u].nodes,C$e=0,C$i=0,C$p=C$f.length,C$n=0;C$i<C$p;C$i++){var C$r,C$s=C$f[C$i];C$r=C$s.keyFrame[C$c[C$i][C$_]],C$s.dataOffset=C$n;var C$a=C$d-C$r.startTime,C$m=C$s.lerpType;if(C$m)switch(C$m){case 0:case 1:for(C$e=0;C$e<C$s.keyframeWidth;)C$e+=C$s.interpolationMethod[C$e](C$s,C$e,C$t,C$n+C$e,C$r.data,C$a,null,C$r.duration,C$r.nextData);break;case 2:var C$o=C$r.interpolationData,C$g=C$o.length,C$h=0;for(C$e=0;C$e<C$g;){var C$l=C$o[C$e];switch(C$l){case 6:case 7:C$e+=orq5b.interpolation[C$l](C$s,C$h,C$t,C$n+C$h,C$r.data,C$a,null,C$r.duration,C$r.nextData,C$o,C$e+1);break;default:C$e+=orq5b.interpolation[C$l](C$s,C$h,C$t,C$n+C$h,C$r.data,C$a,null,C$r.duration,C$r.nextData)}C$h++}}else for(C$e=0;C$e<C$s.keyframeWidth;)C$e+=C$s.interpolationMethod[C$e](C$s,C$e,C$t,C$n+C$e,C$r.data,C$a,null,C$r.duration,C$r.nextData);C$n+=C$s.keyframeWidth}},C$t.getNodesCurrentFrameIndex=function(C$t,C$e){var C$i=this._anis[C$t].nodes;C$t!==this.unfixedLastAniIndex&&(this.unfixedCurrentFrameIndexes=new Uint32Array(C$i.length),this.unfixedCurrentTimes=new Float32Array(C$i.length),this.unfixedLastAniIndex=C$t);for(var C$n=0,C$r=C$i.length;C$n<C$r;C$n++){var C$s=C$i[C$n];for(C$e<this.unfixedCurrentTimes[C$n]&&(this.unfixedCurrentFrameIndexes[C$n]=0),this.unfixedCurrentTimes[C$n]=C$e;this.unfixedCurrentFrameIndexes[C$n]<C$s.keyFrame.length&&!(C$s.keyFrame[this.unfixedCurrentFrameIndexes[C$n]].startTime>this.unfixedCurrentTimes[C$n]);)this.unfixedCurrentFrameIndexes[C$n]++;this.unfixedCurrentFrameIndexes[C$n]--}return this.unfixedCurrentFrameIndexes},C$t.getOriginalDataUnfixedRate=function(C$t,C$e,C$u){var C$i=this._anis[C$t].nodes;C$t!==this.unfixedLastAniIndex&&(this.unfixedCurrentFrameIndexes=new Uint32Array(C$i.length),this.unfixedCurrentTimes=new Float32Array(C$i.length),this.unfixedKeyframes=C$p(C$i.length),this.unfixedLastAniIndex=C$t);for(var C$n=0,C$r=0,C$c=C$i.length,C$s=0;C$r<C$c;C$r++){var C$a=C$i[C$r];for(C$u<this.unfixedCurrentTimes[C$r]&&(this.unfixedCurrentFrameIndexes[C$r]=0),this.unfixedCurrentTimes[C$r]=C$u;this.unfixedCurrentFrameIndexes[C$r]<C$a.keyFrame.length&&!(C$a.keyFrame[this.unfixedCurrentFrameIndexes[C$r]].startTime>this.unfixedCurrentTimes[C$r]);)this.unfixedKeyframes[C$r]=C$a.keyFrame[this.unfixedCurrentFrameIndexes[C$r]],this.unfixedCurrentFrameIndexes[C$r]++;var C$o=this.unfixedKeyframes[C$r];C$a.dataOffset=C$s;var C$h=C$u-C$o.startTime;if(C$a.lerpType)switch(C$a.lerpType){case 0:case 1:for(C$n=0;C$n<C$a.keyframeWidth;)C$n+=C$a.interpolationMethod[C$n](C$a,C$n,C$e,C$s+C$n,C$o.data,C$h,null,C$o.duration,C$o.nextData);break;case 2:var C$_=C$o.interpolationData,C$d=C$_.length,C$l=0;for(C$n=0;C$n<C$d;){var C$f=C$_[C$n];switch(C$f){case 6:case 7:C$n+=orq5b.interpolation[C$f](C$a,C$l,C$e,C$s+C$l,C$o.data,C$h,null,C$o.duration,C$o.nextData,C$_,C$n+1);break;default:C$n+=orq5b.interpolation[C$f](C$a,C$l,C$e,C$s+C$l,C$o.data,C$h,null,C$o.duration,C$o.nextData)}C$l++}}else for(C$n=0;C$n<C$a.keyframeWidth;)C$n+=C$a.interpolationMethod[C$n](C$a,C$n,C$e,C$s+C$n,C$o.data,C$h,null,C$o.duration,C$o.nextData);C$s+=C$a.keyframeWidth}},orq5b._LinearInterpolation_0=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l){C$s=0===C$o?0:C$s/C$o;return C$i[C$n]=(1-C$s)*C$r[C$e]+C$s*C$h[C$e],1},orq5b._QuaternionInterpolation_1=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l){return C$c.slerpQuaternionArray(C$r,C$e,C$h,C$e,0===C$o?0:C$s/C$o,C$i,C$n),4},orq5b._AngleInterpolation_2=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l){return 0},orq5b._RadiansInterpolation_3=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l){return 0},orq5b._Matrix4x4Interpolation_4=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$l,C$u){for(var C$h=0;C$h<16;C$h++,C$e++)C$i[C$n+C$h]=C$r[C$e]+C$s*C$a[C$e];return 16},orq5b._NoInterpolation_5=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$o,C$h,C$l){return C$i[C$n]=C$r[C$e],1},orq5b._BezierInterpolation_6=function(C$l,C$t,C$e,C$i,C$n,C$r,C$u,C$s,C$a,C$o,C$h){return C$e[C$i]=C$n[C$t]+(C$a[C$t]-C$n[C$t])*C$T.getBezierRate(C$r/C$s,C$o[C$h=void 0===C$h?0:C$h],C$o[C$h+1],C$o[C$h+2],C$o[C$h+3]),5},orq5b._BezierInterpolation_7=function(C$t,C$e,C$i,C$n,C$r,C$s,C$a,C$l,C$u,C$o,C$h){return C$i[C$n]=C$o[(C$h=void 0===C$h?0:C$h)+4]+C$o[C$h+5]*C$T.getBezierRate((.001*C$s+C$o[C$h+6])/C$o[C$h+7],C$o[C$h],C$o[C$h+1],C$o[C$h+2],C$o[C$h+3]),9},orq5b.load=function(C$t){return C$R.loader.create(C$t,null,null,orq5b)},orq5b.interpolation=[orq5b._LinearInterpolation_0,orq5b._QuaternionInterpolation_1,orq5b._AngleInterpolation_2,orq5b._RadiansInterpolation_3,orq5b._Matrix4x4Interpolation_4,orq5b._NoInterpolation_5,orq5b._BezierInterpolation_6,orq5b._BezierInterpolation_7],orq5b),C$S=(C$e(jirvx7,"laya.ani.bone.Skeleton",C$k=C$P),(C$n=jirvx7.prototype).init=function(C$t,C$e){var C$i,C$n,C$r,C$s=0,C$a=0;if(1==(C$e=void 0===C$e?0:C$e))for(this._graphicsCache=[],C$s=0,C$a=C$t.getAnimationCount();C$s<C$a;C$s++)this._graphicsCache.push([]);if(this._yReverseMatrix=C$t.yReverseMatrix,this._aniMode=C$e,this._templet=C$t,this._player=new C$M,this._player.cacheFrameRate=C$t.rate,this._player.templet=C$t,this._player.play(),this._parseSrcBoneMatrix(),this._boneList=C$t.mBoneArr,this._rootBone=C$t.mRootBone,this._aniSectionDic=C$t.aniSectionDic,0<C$t.ikArr.length)for(this._ikArr=[],C$s=0,C$a=C$t.ikArr.length;C$s<C$a;C$s++)this._ikArr.push(new C$x(C$t.ikArr[C$s],this._boneList));if(0<C$t.pathArr.length)for(null==this._pathDic&&(this._pathDic={}),C$s=0,C$a=C$t.pathArr.length;C$s<C$a;C$s++)C$i=C$t.pathArr[C$s],C$n=new C$y(C$i,this._boneList),(C$r=this._boneSlotDic[C$i.name])&&((C$n=new C$y(C$i,this._boneList)).target=C$r),this._pathDic[C$i.name]=C$n;if(0<C$t.tfArr.length)for(this._tfArr=[],C$s=0,C$a=C$t.tfArr.length;C$s<C$a;C$s++)this._tfArr.push(new C$b(C$t.tfArr[C$s],this._boneList));0<C$t.skinDataArray.length&&(C$e=this._templet.skinDataArray[this._skinIndex],this._skinName=C$e.name),this._player.on("played",this,this._onPlay),this._player.on("stopped",this,this._onStop),this._player.on("paused",this,this._onPause)},C$n.load=function(C$t,C$e,C$i){},C$n._onLoaded=function(){},C$n._parseComplete=function(){var C$t=C$I.TEMPLET_DICTIONARY[this._aniPath];C$t&&(this.init(C$t,this._loadAniMode),this.play(0,!0)),this._complete&&this._complete.runWith(this)},C$n._parseFail=function(){console.error("[Error]:"+this._aniPath+"\u89e3\u6790\u5931\u8d25")},C$n._onPlay=function(){this.event("played")},C$n._onStop=function(){var C$t,C$e=this._templet.eventAniArr[this._aniClipIndex];if(C$e&&this._eventIndex<C$e.length)for(;this._eventIndex<C$e.length;this._eventIndex++)(C$t=C$e[this._eventIndex]).time>=this._player.playStart&&C$t.time<=this._player.playEnd&&this.event("label",C$t);this._eventIndex=0,this._drawOrder=null,this.event("stopped")},C$n._onPause=function(){this.event("paused")},C$n._parseSrcBoneMatrix=function(){var C$t=0,C$e=0;for(C$e=this._templet.srcBoneMatrixArr.length,C$t=0;C$t<C$e;C$t++)this._boneMatrixArray.push(new C$Dt);if(0==this._aniMode)this._boneSlotDic=this._templet.boneSlotDic,this._bindBoneBoneSlotDic=this._templet.bindBoneBoneSlotDic,this._boneSlotArray=this._templet.boneSlotArray;else{null==this._boneSlotDic&&(this._boneSlotDic={}),null==this._bindBoneBoneSlotDic&&(this._bindBoneBoneSlotDic={}),null==this._boneSlotArray&&(this._boneSlotArray=[]);var C$i,C$n,C$r=this._templet.boneSlotArray;for(C$t=0,C$e=C$r.length;C$t<C$e;C$t++)C$i=C$r[C$t],null==(C$n=this._bindBoneBoneSlotDic[C$i.parent])&&(this._bindBoneBoneSlotDic[C$i.parent]=C$n=[]),this._boneSlotDic[C$i.name]=C$i=C$i.copy(),C$n.push(C$i),this._boneSlotArray.push(C$i)}},C$n._emitMissedEvents=function(C$t,C$e,C$i){void 0===C$i&&(C$i=0);var C$n=this._templet.eventAniArr[this._player.currentAnimationClipIndex];if(C$n){var C$r,C$s,C$a=0;for(C$r=C$n.length,C$a=C$i;C$a<C$r;C$a++)(C$s=C$n[C$a]).time>=this._player.playStart&&C$s.time<=this._player.playEnd&&this.event("label",C$s)}},C$n._update=function(C$t){if(void 0===C$t&&(C$t=!0),!(this._pause||C$t&&this._indexControl)){var C$e=this.timer.currTimer,C$i=this._player.currentKeyframeIndex,C$n=C$e-this._lastTime;if(C$t?this._player._update(C$n):C$i=-1,this._lastTime=C$e,this._player&&(this._index=this._clipIndex=this._player.currentKeyframeIndex,!(this._index<0||0<C$n&&this._clipIndex==C$i&&this._lastUpdateAniClipIndex==this._aniClipIndex))){this._lastUpdateAniClipIndex=this._aniClipIndex,C$i>this._clipIndex&&0!=this._eventIndex&&(this._emitMissedEvents(this._player.playStart,this._player.playEnd,this._eventIndex),this._eventIndex=0);var C$r,C$t=this._templet.eventAniArr[this._aniClipIndex];if(C$t&&this._eventIndex<C$t.length&&((C$e=C$t[this._eventIndex]).time>=this._player.playStart&&C$e.time<=this._player.playEnd?this._player.currentPlayTime>=C$e.time&&(this.event("label",C$e),this._eventIndex++):this._eventIndex++),0==this._aniMode){if(C$r=this._templet.getGrahicsDataWithCache(this._aniClipIndex,this._clipIndex))return void(this.graphics!=C$r&&(this.graphics=C$r));var C$s=0,C$a=0;for(C$a=this._clipIndex;!this._templet.getGrahicsDataWithCache(this._aniClipIndex,C$a-1)&&0<C$a;)C$a--;if(C$a<this._clipIndex)for(C$s=C$a;C$s<this._clipIndex;C$s++)this._createGraphics(C$s)}else if(1==this._aniMode){if(C$r=this._getGrahicsDataWithCache(this._aniClipIndex,this._clipIndex))return void(this.graphics!=C$r&&(this.graphics=C$r));for(C$a=this._clipIndex;!this._getGrahicsDataWithCache(this._aniClipIndex,C$a-1)&&0<C$a;)C$a--;if(C$a<this._clipIndex)for(C$s=C$a;C$s<this._clipIndex;C$s++)this._createGraphics(C$s)}this._createGraphics()}}},C$n._createGraphics=function(C$t){var C$u,C$e,C$c=(C$t=-1==(C$t=void 0===C$t?-1:C$t)?this._clipIndex:C$t)*this._player.cacheFrameRateInterval,C$_=this._templet.drawOrderAniArr[this._aniClipIndex];if(C$_&&0<C$_.length)for(this._drawOrderIndex=0,C$u=C$_[this._drawOrderIndex];C$c>=C$u.time&&(this._drawOrder=C$u.drawOrder,this._drawOrderIndex++,!(this._drawOrderIndex>=C$_.length));)C$u=C$_[this._drawOrderIndex];0!=this._aniMode&&1!=this._aniMode&&this.graphics instanceof laya.ani.GraphicsAni?this.graphics.clear():this.graphics=C$L.create(),C$e=this.graphics;var C$d=this._templet.getNodes(this._aniClipIndex);this._templet.getOriginalData(this._aniClipIndex,this._curOriginalData,this._player._fullFrames[this._aniClipIndex],C$t,C$c);var C$i,C$f,C$n,C$r,C$p=this._aniSectionDic[this._aniClipIndex],C$s=0,C$a=0,C$m=0,C$g=0,C$o=0,C$v=this._templet.srcBoneMatrixArr.length;for(C$o=C$p[C$a=0];C$a<C$v;C$a++)C$r=this._boneList[C$a],C$n=this._templet.srcBoneMatrixArr[C$a],C$r.resultTransform.scX=C$n.scX*this._curOriginalData[C$s++],C$r.resultTransform.skX=C$n.skX+this._curOriginalData[C$s++],C$r.resultTransform.skY=C$n.skY+this._curOriginalData[C$s++],C$r.resultTransform.scY=C$n.scY*this._curOriginalData[C$s++],C$r.resultTransform.x=C$n.x+this._curOriginalData[C$s++],C$r.resultTransform.y=C$n.y+this._curOriginalData[C$s++],8===this._templet.tMatrixDataLen&&(C$r.resultTransform.skewX=C$n.skewX+this._curOriginalData[C$s++],C$r.resultTransform.skewY=C$n.skewY+this._curOriginalData[C$s++]);var C$x,C$y={},C$b={};for(C$o+=C$p[1];C$a<C$o;C$a++)C$y[(C$x=C$d[C$a]).name]=this._curOriginalData[C$s++],C$b[C$x.name]=this._curOriginalData[C$s++],this._curOriginalData[C$s++],this._curOriginalData[C$s++],this._curOriginalData[C$s++],this._curOriginalData[C$s++];var C$w,C$T,C$M={},C$S={};for(C$o+=C$p[2];C$a<C$o;C$a++)C$M[(C$x=C$d[C$a]).name]=this._curOriginalData[C$s++],C$S[C$x.name]=this._curOriginalData[C$s++],this._curOriginalData[C$s++],this._curOriginalData[C$s++],this._curOriginalData[C$s++],this._curOriginalData[C$s++];if(this._pathDic)for(C$o+=C$p[3];C$a<C$o;C$a++)if(C$x=C$d[C$a],C$w=this._pathDic[C$x.name])switch(new C$Et(C$x.extenData).getByte()){case 1:C$w.position=this._curOriginalData[C$s++];break;case 2:C$w.spacing=this._curOriginalData[C$s++];break;case 3:C$w.rotateMix=this._curOriginalData[C$s++],C$w.translateMix=this._curOriginalData[C$s++]}if(this._yReverseMatrix?this._rootBone.update(this._yReverseMatrix):this._rootBone.update(C$Dt.TEMP.identity()),this._ikArr)for(C$a=0,C$o=this._ikArr.length;C$a<C$o;C$a++)C$T=this._ikArr[C$a],C$M.hasOwnProperty(C$T.name)&&(C$T.bendDirection=C$M[C$T.name]),C$S.hasOwnProperty(C$T.name)&&(C$T.mix=C$S[C$T.name]),C$T.apply();if(this._pathDic)for(var C$C in this._pathDic)(C$w=this._pathDic[C$C]).apply(this._boneList,C$e);if(this._tfArr)for(C$a=0,C$g=this._tfArr.length;C$a<C$g;C$a++)this._tfArr[C$a].apply();for(C$a=0,C$g=this._boneList.length;C$a<C$g;C$a++)if(C$r=this._boneList[C$a],C$f=this._bindBoneBoneSlotDic[C$r.name],C$r.resultMatrix.copyTo(this._boneMatrixArray[C$a]),C$f)for(C$m=0,C$o=C$f.length;C$m<C$o;C$m++)(C$i=C$f[C$m])&&C$i.setParentMatrix(C$r.resultMatrix);var C$D,C$h,C$l,C$E,C$A={},C$p=this._templet.deformAniArr;if(C$p&&0<C$p.length){if(this._lastAniClipIndex!=this._aniClipIndex)for(this._lastAniClipIndex=this._aniClipIndex,C$a=0,C$o=this._boneSlotArray.length;C$a<C$o;C$a++)(C$i=this._boneSlotArray[C$a]).deformData=null;var C$I,C$R=C$p[this._aniClipIndex];for(C$I in C$D=C$R.default,this._setDeform(C$D,C$A,this._boneSlotArray,C$c),C$R)"default"!=C$I&&C$I!=this._skinName&&(C$D=C$R[C$I],this._setDeform(C$D,C$A,this._boneSlotArray,C$c));C$D=C$R[this._skinName],this._setDeform(C$D,C$A,this._boneSlotArray,C$c)}if(this._drawOrder)for(C$a=0,C$o=this._drawOrder.length;C$a<C$o;C$a++)C$h=C$y[(C$i=this._boneSlotArray[this._drawOrder[C$a]]).name],C$l=C$b[C$i.name],isNaN(C$l)||(C$e.save(),C$e.alpha(C$l)),isNaN(C$h)||-2==C$h||(this._templet.attachmentNames?C$i.showDisplayByName(this._templet.attachmentNames[C$h]):C$i.showDisplayByIndex(C$h)),C$A[this._drawOrder[C$a]]?(C$E=C$A[this._drawOrder[C$a]],C$i.currDisplayData&&C$E[C$i.currDisplayData.attachmentName]?C$i.deformData=C$E[C$i.currDisplayData.attachmentName]:C$i.deformData=null):C$i.deformData=null,isNaN(C$l)?C$i.draw(C$e,this._boneMatrixArray,2==this._aniMode):C$i.draw(C$e,this._boneMatrixArray,2==this._aniMode,C$l),isNaN(C$l)||C$e.restore();else for(C$a=0,C$o=this._boneSlotArray.length;C$a<C$o;C$a++)C$h=C$y[(C$i=this._boneSlotArray[C$a]).name],C$l=C$b[C$i.name],isNaN(C$l)||(C$e.save(),C$e.alpha(C$l)),isNaN(C$h)||-2==C$h||(this._templet.attachmentNames?C$i.showDisplayByName(this._templet.attachmentNames[C$h]):C$i.showDisplayByIndex(C$h)),C$A[C$a]?(C$E=C$A[C$a],C$i.currDisplayData&&C$E[C$i.currDisplayData.attachmentName]?C$i.deformData=C$E[C$i.currDisplayData.attachmentName]:C$i.deformData=null):C$i.deformData=null,isNaN(C$l)?C$i.draw(C$e,this._boneMatrixArray,2==this._aniMode):C$i.draw(C$e,this._boneMatrixArray,2==this._aniMode,C$l),isNaN(C$l)||C$e.restore();0==this._aniMode?this._templet.setGrahicsDataWithCache(this._aniClipIndex,C$t,C$e):1==this._aniMode&&this._setGrahicsDataWithCache(this._aniClipIndex,C$t,C$e)},C$n._setDeform=function(C$t,C$e,C$i,C$n){if(C$t){var C$r,C$s,C$a,C$o,C$h=0,C$l=0;if(C$t)for(C$h=0,C$o=C$t.deformSlotDataList.length;C$h<C$o;C$h++)for(C$r=C$t.deformSlotDataList[C$h],C$l=0;C$l<C$r.deformSlotDisplayList.length;C$l++)C$a=C$i[(C$s=C$r.deformSlotDisplayList[C$l]).slotIndex],C$s.apply(C$n,C$a),C$e[C$s.slotIndex]||(C$e[C$s.slotIndex]={}),C$e[C$s.slotIndex][C$s.attachment]=C$s.deformData}},C$n.getAnimNum=function(){return this._templet.getAnimationCount()},C$n.getAniNameByIndex=function(C$t){return this._templet.getAniNameByIndex(C$t)},C$n.getSlotByName=function(C$t){return this._boneSlotDic[C$t]},C$n.showSkinByName=function(C$t,C$e){void 0===C$e&&(C$e=!0),this.showSkinByIndex(this._templet.getSkinIndexByName(C$t),C$e)},C$n.showSkinByIndex=function(C$t,C$e){void 0===C$e&&(C$e=!0);for(var C$i=0;C$i<this._boneSlotArray.length;C$i++)this._boneSlotArray[C$i].showSlotData(null,C$e);var C$n;this._templet.showSkinByIndex(this._boneSlotDic,C$t,C$e)&&(C$n=this._templet.skinDataArray[C$t],this._skinIndex=C$t,this._skinName=C$n.name),this._clearCache()},C$n.showSlotSkinByIndex=function(C$t,C$e){0!=this._aniMode&&((C$t=this.getSlotByName(C$t))&&C$t.showDisplayByIndex(C$e),this._clearCache())},C$n.showSlotSkinByName=function(C$t,C$e){0!=this._aniMode&&((C$t=this.getSlotByName(C$t))&&C$t.showDisplayByName(C$e),this._clearCache())},C$n.replaceSlotSkinName=function(C$t,C$e,C$i){0!=this._aniMode&&((C$t=this.getSlotByName(C$t))&&C$t.replaceDisplayByName(C$e,C$i),this._clearCache())},C$n.replaceSlotSkinByIndex=function(C$t,C$e,C$i){0!=this._aniMode&&((C$t=this.getSlotByName(C$t))&&C$t.replaceDisplayByIndex(C$e,C$i),this._clearCache())},C$n.setSlotSkin=function(C$t,C$e){0!=this._aniMode&&((C$t=this.getSlotByName(C$t))&&C$t.replaceSkin(C$e),this._clearCache())},C$n._clearCache=function(){if(1==this._aniMode)for(var C$t=0,C$e=this._graphicsCache.length;C$t<C$e;C$t++){for(var C$i=0,C$n=this._graphicsCache[C$t].length;C$i<C$n;C$i++){var C$r=this._graphicsCache[C$t][C$i];C$r!=this.graphics&&C$L.recycle(C$r)}this._graphicsCache[C$t].length=0}},C$n.play=function(C$t,C$e,C$i,C$n,C$r,C$s){void 0===C$i&&(C$i=!0),void 0===C$n&&(C$n=0),void 0===C$r&&(C$r=0),void 0===C$s&&(C$s=!0),this._indexControl=!1;var C$a=-1;if(C$e=C$e?2147483647:0,"string"==typeof C$t)for(var C$o=0,C$h=this._templet.getAnimationCount();C$o<C$h;C$o++){var C$l=this._templet.getAnimation(C$o);if(C$l&&C$t==C$l.name){C$a=C$o;break}}else C$a=C$t;-1<C$a&&C$a<this.getAnimNum()&&(this._aniClipIndex=C$a,(C$i||this._pause||this._currAniIndex!=C$a)&&(this._currAniIndex=C$a,this._curOriginalData=new Float32Array(this._templet.getTotalkeyframesLength(C$a)),this._drawOrder=null,this._eventIndex=0,this._player.play(C$a,this._player.playbackRate,C$e,C$n,C$r),C$s&&this._templet.showSkinByIndex(this._boneSlotDic,this._skinIndex),this._pause&&(this._pause=!1,this._lastTime=C$u.now(),this.timer.frameLoop(1,this,this._update,null,!0)),this._update()))},C$n.stop=function(){this._pause||(this._pause=!0,this._player&&this._player.stop(!0),this.timer.clear(this,this._update))},C$n.playbackRate=function(C$t){this._player&&(this._player.playbackRate=C$t)},C$n.paused=function(){this._pause||(this._pause=!0,this._player&&(this._player.paused=!0),this.timer.clear(this,this._update))},C$n.resume=function(){this._indexControl=!1,this._pause&&(this._pause=!1,this._player&&(this._player.paused=!1),this._lastTime=C$u.now(),this.timer.frameLoop(1,this,this._update,null,!0))},C$n._getGrahicsDataWithCache=function(C$t,C$e){return this._graphicsCache[C$t][C$e]},C$n._setGrahicsDataWithCache=function(C$t,C$e,C$i){this._graphicsCache[C$t][C$e]=C$i},C$n.destroy=function(C$t){C$k.prototype.destroy.call(this,C$t=void 0===C$t?!0:C$t),this._templet=null,this._player&&this._player.offAll(),this._player=null,this._curOriginalData=null,this._boneMatrixArray.length=0,this._lastTime=0,this.timer.clear(this,this._update)},C$i(0,C$n,"url",function(){return this._aniPath},function(C$t){this.load(C$t)}),C$i(0,C$n,"index",function(){return this._index},function(C$t){this.player&&(this._index=C$t,this._player.currentTime=1e3*this._index/this._player.cacheFrameRate,this._indexControl=!0,this._update(!1))}),C$i(0,C$n,"total",function(){return this._templet&&this._player?this._total=Math.floor(this._templet.getAniDuration(this._player.currentAnimationClipIndex)/1e3*this._player.cacheFrameRate):this._total=-1,this._total}),C$i(0,C$n,"templet",function(){return this._templet}),C$i(0,C$n,"player",function(){return this._player}),jirvx7.useSimpleMeshInCanvas=!1,jirvx7),C$I=(C$e(ht_pe,"laya.ani.bone.Templet",C$B=C$A),(C$r=ht_pe.prototype).getLoadList=function(){return this._loadList},C$r.loadAni=function(C$t){this._skBufferUrl=C$t,C$R.loader.load(C$t,C$o.create(this,this.onComplete),null,"arraybuffer")},C$r.onComplete=function(C$t){var C$e;this._isDestroyed?this.destroy():(C$e=C$h.getRes(this._skBufferUrl))?(this._path=this._skBufferUrl.slice(0,this._skBufferUrl.lastIndexOf("/"))+"/",this.parseData(null,C$e)):this.event("error","load failed:"+this._skBufferUrl)},C$r.parseData=function(C$t,C$e,C$i){void 0===C$i&&(C$i=30),!this._path&&this.url&&(this._path=this.url.slice(0,this.url.lastIndexOf("/"))+"/"),this._mainTexture=C$t,this._mainTexture&&C$l.isWebGL&&C$t.bitmap&&(C$t.bitmap.enableMerageInAtlas=!1),this._rate=C$i,this.parse(C$e)},C$r.buildArmature=function(C$t){return new C$S(this,C$t=void 0===C$t?0:C$t)},C$r.parse=function(C$t){C$B.prototype.parse.call(this,C$t),this._endLoaded(),this._aniVersion!=ht_pe.LAYA_ANIMATION_VISION&&(console.error("[Error] \u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u8bf7\u4f7f\u7528IDE\u7248\u672c\u914d\u5957\u7684\u91cd\u65b0\u5bfc\u51fa"+this._aniVersion+"->"+ht_pe.LAYA_ANIMATION_VISION),this._loaded=!1),this.loaded?this._mainTexture?this._parsePublicExtData():this._parseTexturePath():(this.event("error",this),this.isParseFail=!0)},C$r._parseTexturePath=function(){if(this._isDestroyed)this.destroy();else{var C$t=0;this._loadList=[];var C$e,C$i=new C$Et(this.getPublicExtData()),C$n=0,C$r=C$i.getInt32(),C$s=C$i.readUTFString().split("\n");for(C$t=0;C$t<C$r;C$t++)C$e=this._path+C$s[2*C$t],C$s[2*C$t+1],C$i.getFloat32(),C$i.getFloat32(),C$i.getFloat32(),C$i.getFloat32(),C$n=C$i.getFloat32(),isNaN(C$n),C$n=C$i.getFloat32(),isNaN(C$n),C$n=C$i.getFloat32(),isNaN(C$n),C$n=C$i.getFloat32(),isNaN(C$n),-1==this._loadList.indexOf(C$e)&&this._loadList.push(C$e);this.event("inited",this)}},C$r._textureComplete=function(){for(var C$t,C$e=0,C$i=this._loadList.length;C$e<C$i;C$e++)C$t=this._loadList[C$e],C$t=this._textureDic[C$t]=C$h.getRes(C$t),C$l.isWebGL&&C$t&&C$t.bitmap&&(C$t.bitmap.enableMerageInAtlas=!1);this._parsePublicExtData()},C$r._parsePublicExtData=function(){var C$t=0,C$e=0,C$u=0,C$i=0,C$c=0;for(C$t=0,C$c=this.getAnimationCount();C$t<C$c;C$t++)this._graphicsCache.push([]);var C$_;C$_="Dragon"!=this._aniClassName;var C$d,C$f,C$p,C$m,C$g,C$v,C$x,C$y,C$b,C$n=new C$Et(this.getPublicExtData()),C$r=0,C$w=C$n.getInt32(),C$T=C$n.readUTFString(),C$M=C$T.split("\n");for(C$t=0;C$t<C$w;C$t++){if(C$d=this._mainTexture,C$f=this._path+C$M[2*C$t],C$T=C$M[2*C$t+1],!(C$d=null==this._mainTexture?this._textureDic[C$f]:C$d))return this.event("error",this),void(this.isParseFail=!0);C$f=C$n.getFloat32(),C$p=C$n.getFloat32(),C$m=C$n.getFloat32(),C$g=C$n.getFloat32(),C$r=C$n.getFloat32(),C$v=isNaN(C$r)?0:C$r,C$r=C$n.getFloat32(),C$x=isNaN(C$r)?0:C$r,C$r=C$n.getFloat32(),C$y=isNaN(C$r)?C$m:C$r,C$r=C$n.getFloat32(),C$b=isNaN(C$r)?C$g:C$r,this.subTextureDic[C$T]=C$At.create(C$d,C$f,C$p,C$m,C$g,-C$v,-C$x,C$y,C$b),C$d.alphaTexture&&(this.subTextureDic[C$T].alphaTexture=C$At.create(C$d.alphaTexture,C$f,C$p,C$m,C$g,-C$v,-C$x,C$y,C$b))}this._mainTexture=C$d;var C$S,C$s,C$C,C$D,C$E=C$n.getUint16();for(C$t=0;C$t<C$E;C$t++)(C$S=[]).push(C$n.getUint16()),C$S.push(C$n.getUint16()),C$S.push(C$n.getUint16()),C$S.push(C$n.getUint16()),this.aniSectionDic[C$t]=C$S;var C$A,C$I=C$n.getInt16(),C$R={};for(C$t=0;C$t<C$I;C$t++)C$s=new C$It,0==C$t?C$A=C$s:C$s.root=C$A,C$s.d=C$_?-1:1,C$C=C$n.readUTFString(),C$D=C$n.readUTFString(),C$s.length=C$n.getFloat32(),1==C$n.getByte()&&(C$s.inheritRotation=!1),1==C$n.getByte()&&(C$s.inheritScale=!1),C$s.name=C$C,C$D&&((C$D=C$R[C$D])?C$D.addChild(C$s):this.mRootBone=C$s),C$R[C$C]=C$s,this.mBoneArr.push(C$s);this.tMatrixDataLen=C$n.getUint16();var C$P,C$L,C$B=C$n.getUint16(),C$k=Math.floor(C$B/this.tMatrixDataLen),C$N=this.srcBoneMatrixArr;for(C$t=0;C$t<C$k;C$t++)(C$P=new C$qt).scX=C$n.getFloat32(),C$P.skX=C$n.getFloat32(),C$P.skY=C$n.getFloat32(),C$P.scY=C$n.getFloat32(),C$P.x=C$n.getFloat32(),C$P.y=C$n.getFloat32(),8===this.tMatrixDataLen&&(C$P.skewX=C$n.getFloat32(),C$P.skewY=C$n.getFloat32()),C$N.push(C$P),(C$s=this.mBoneArr[C$t]).transform=C$P;var C$a,C$z,C$O=C$n.getUint16();for(C$t=0;C$t<C$O;C$t++){for(C$L=new C$zt,C$z=C$n.getUint16(),C$e=0;C$e<C$z;C$e++)C$L.boneNames.push(C$n.readUTFString()),C$L.boneIndexs.push(C$n.getInt16());C$L.name=C$n.readUTFString(),C$L.targetBoneName=C$n.readUTFString(),C$L.targetBoneIndex=C$n.getInt16(),C$L.bendDirection=C$n.getFloat32(),C$L.mix=C$n.getFloat32(),C$L.isSpine=C$_,this.ikArr.push(C$L)}var C$o,C$F,C$V=C$n.getUint16();for(C$t=0;C$t<C$V;C$t++){for(C$a=new C$Ut,C$F=C$n.getUint16(),C$e=0;C$e<C$F;C$e++)C$a.boneIndexs.push(C$n.getInt16());C$a.name=C$n.getUTFString(),C$a.targetIndex=C$n.getInt16(),C$a.rotateMix=C$n.getFloat32(),C$a.translateMix=C$n.getFloat32(),C$a.scaleMix=C$n.getFloat32(),C$a.shearMix=C$n.getFloat32(),C$a.offsetRotation=C$n.getFloat32(),C$a.offsetX=C$n.getFloat32(),C$a.offsetY=C$n.getFloat32(),C$a.offsetScaleX=C$n.getFloat32(),C$a.offsetScaleY=C$n.getFloat32(),C$a.offsetShearY=C$n.getFloat32(),this.tfArr.push(C$a)}var C$j,C$U=C$n.getUint16();for(C$t=0;C$t<C$U;C$t++){for((C$o=new C$Ot).name=C$n.readUTFString(),C$j=C$n.getUint16(),C$e=0;C$e<C$j;C$e++)C$o.bones.push(C$n.getInt16());C$o.target=C$n.readUTFString(),C$o.positionMode=C$n.readUTFString(),C$o.spacingMode=C$n.readUTFString(),C$o.rotateMode=C$n.readUTFString(),C$o.offsetRotation=C$n.getFloat32(),C$o.position=C$n.getFloat32(),C$o.spacing=C$n.getFloat32(),C$o.rotateMix=C$n.getFloat32(),C$o.translateMix=C$n.getFloat32(),this.pathArr.push(C$o)}var C$q,C$H,C$W,C$G,C$Y,C$X,C$$,C$K,C$Z,C$Q,C$J=C$n.getInt16();for(C$t=0;C$t<C$J;C$t++){var C$tt=C$n.getUint8(),C$et={};this.deformAniArr.push(C$et);for(var C$it=0;C$it<C$tt;C$it++)for((C$q=new C$Pt).skinName=C$n.getUTFString(),C$et[C$q.skinName]=C$q,C$X=C$n.getInt16(),C$e=0;C$e<C$X;C$e++)for(C$H=new C$Lt,C$q.deformSlotDataList.push(C$H),C$$=C$n.getInt16(),C$u=0;C$u<C$$;C$u++)for(C$W=new C$Bt,C$H.deformSlotDisplayList.push(C$W),C$W.slotIndex=C$n.getInt16(),C$W.attachment=C$n.getUTFString(),C$K=C$n.getInt16(),C$i=0;C$i<C$K;C$i++)for(1==C$n.getByte()?C$W.tweenKeyList.push(!0):C$W.tweenKeyList.push(!1),C$Z=C$n.getFloat32(),C$W.timeList.push(C$Z),C$W.vectices.push(C$G=[]),C$Q=C$n.getInt16(),C$c=0;C$c<C$Q;C$c++)C$G.push(C$n.getFloat32())}var C$nt,C$rt,C$st,C$at,C$ot=C$n.getInt16();for(C$t=0;C$t<C$ot;C$t++){for(C$st=C$n.getInt16(),C$Y=[],C$e=0;C$e<C$st;C$e++){for((C$nt=new C$kt).time=C$n.getFloat32(),C$at=C$n.getInt16(),C$u=0;C$u<C$at;C$u++)C$nt.drawOrder.push(C$n.getInt16());C$Y.push(C$nt)}this.drawOrderAniArr.push(C$Y)}var C$ht,C$lt,C$ut=C$n.getInt16();for(C$t=0;C$t<C$ut;C$t++){for(C$lt=C$n.getInt16(),C$rt=[],C$e=0;C$e<C$lt;C$e++)(C$ht=new C$Nt).name=C$n.getUTFString(),C$ht.intValue=C$n.getInt32(),C$ht.floatValue=C$n.getFloat32(),C$ht.stringValue=C$n.getUTFString(),C$ht.time=C$n.getFloat32(),C$rt.push(C$ht);this.eventAniArr.push(C$rt)}var C$ct=C$n.getInt16();if(0<C$ct)for(this.attachmentNames=[],C$t=0;C$t<C$ct;C$t++)this.attachmentNames.push(C$n.getUTFString());var C$h,C$_t,C$dt=C$n.getInt16();for(C$t=0;C$t<C$dt;C$t++)(C$h=new C$Rt).name=C$n.readUTFString(),C$h.parent=C$n.readUTFString(),C$h.attachmentName=C$n.readUTFString(),C$h.srcDisplayIndex=C$h.displayIndex=C$n.getInt16(),(C$h.templet=this).boneSlotDic[C$h.name]=C$h,null==(C$_t=this.bindBoneBoneSlotDic[C$h.parent])&&(this.bindBoneBoneSlotDic[C$h.parent]=C$_t=[]),C$_t.push(C$h),this.boneSlotArray.push(C$h);var C$ft,C$pt,C$l,C$mt,C$gt,C$vt,C$xt,C$yt,C$bt,C$wt,C$Tt=C$n.readUTFString().split("\n"),C$Mt=0,C$St=C$n.getUint8();for(C$t=0;C$t<C$St;C$t++){for((C$ft=new C$Ft).name=C$Tt[C$Mt++],C$mt=C$n.getUint8(),C$e=0;C$e<C$mt;C$e++){for((C$pt=new C$jt).name=C$Tt[C$Mt++],C$h=this.boneSlotDic[C$pt.name],C$gt=C$n.getUint8(),C$u=0;C$u<C$gt;C$u++){if(C$l=new C$Vt,this.skinSlotDisplayDataArr.push(C$l),C$l.name=C$Tt[C$Mt++],C$l.attachmentName=C$Tt[C$Mt++],C$l.transform=new C$qt,C$l.transform.scX=C$n.getFloat32(),C$l.transform.skX=C$n.getFloat32(),C$l.transform.skY=C$n.getFloat32(),C$l.transform.scY=C$n.getFloat32(),C$l.transform.x=C$n.getFloat32(),C$l.transform.y=C$n.getFloat32(),C$pt.displayArr.push(C$l),C$l.width=C$n.getFloat32(),C$l.height=C$n.getFloat32(),C$l.type=C$n.getUint8(),C$l.verLen=C$n.getUint16(),0<(C$I=C$n.getUint16()))for(C$l.bones=[],C$i=0;C$i<C$I;C$i++){var C$Ct=C$n.getUint16();C$l.bones.push(C$Ct)}if(0<(C$vt=C$n.getUint16()))for(C$l.uvs=[],C$i=0;C$i<C$vt;C$i++)C$l.uvs.push(C$n.getFloat32());if(0<(C$xt=C$n.getUint16()))for(C$l.weights=[],C$i=0;C$i<C$xt;C$i++)C$l.weights.push(C$n.getFloat32());if(0<(C$yt=C$n.getUint16()))for(C$l.triangles=[],C$i=0;C$i<C$yt;C$i++)C$l.triangles.push(C$n.getUint16());if(0<(C$bt=C$n.getUint16()))for(C$l.vertices=[],C$i=0;C$i<C$bt;C$i++)C$l.vertices.push(C$n.getFloat32());if(0<(C$wt=C$n.getUint16()))for(C$l.lengths=[],C$i=0;C$i<C$wt;C$i++)C$l.lengths.push(C$n.getFloat32())}C$ft.slotArr.push(C$pt)}this.skinDic[C$ft.name]=C$ft,this.skinDataArray.push(C$ft)}1==C$n.getUint8()?(this.yReverseMatrix=new C$Dt(1,0,0,-1,0,0),C$A&&C$A.setTempMatrix(this.yReverseMatrix)):C$A&&C$A.setTempMatrix(new C$Dt),this.showSkinByIndex(this.boneSlotDic,0),this.isParserComplete=!0,this.event("complete",this)},C$r.getTexture=function(C$t){var C$e=this.subTextureDic[C$t];return null==(C$e=C$e||this.subTextureDic[C$t.substr(0,C$t.length-1)])?this._mainTexture:C$e},C$r.showSkinByIndex=function(C$t,C$e,C$i){if(void 0===C$i&&(C$i=!0),C$e<0&&C$e>=this.skinDataArray.length)return!1;var C$n,C$r,C$s,C$a=0,C$o=this.skinDataArray[C$e];if(C$o){for(C$a=0,C$s=C$o.slotArr.length;C$a<C$s;C$a++)(C$r=C$o.slotArr[C$a])&&(C$n=C$t[C$r.name])&&(C$n.showSlotData(C$r,C$i),C$i&&"undefined"!=C$n.attachmentName&&"null"!=C$n.attachmentName?C$n.showDisplayByName(C$n.attachmentName):C$n.showDisplayByIndex(C$n.displayIndex));return!0}return!1},C$r.getSkinIndexByName=function(C$t){for(var C$e=0,C$i=this.skinDataArray.length;C$e<C$i;C$e++)if(this.skinDataArray[C$e].name==C$t)return C$e;return-1},C$r.getGrahicsDataWithCache=function(C$t,C$e){return this._graphicsCache[C$t][C$e]},C$r.setGrahicsDataWithCache=function(C$t,C$e,C$i){this._graphicsCache[C$t][C$e]=C$i},C$r.destroy=function(){var C$t;for(var C$e in this._isDestroyed=!0,this.subTextureDic)(C$t=this.subTextureDic[C$e])&&C$t.destroy();for(C$e in this._textureDic)(C$t=this._textureDic[C$e])&&C$t.destroy();for(var C$i=0,C$n=this.skinSlotDisplayDataArr.length;C$i<C$n;C$i++)this.skinSlotDisplayDataArr[C$i].destory();this.skinSlotDisplayDataArr.length=0,this.url&&delete ht_pe.TEMPLET_DICTIONARY[this.url],laya.resource.Resource.prototype.destroy.call(this)},C$r.getAniNameByIndex=function(C$t){C$t=this.getAnimation(C$t);return C$t?C$t.name:null},C$i(0,C$r,"rate",function(){return this._rate},function(C$t){this._rate=C$t}),ht_pe.LAYA_ANIMATION_VISION="LAYAANIMATION:1.6.0",ht_pe.TEMPLET_DICTIONARY=null,ht_pe);function ht_pe(){this._mainTexture=null,this._textureJson=null,this._graphicsCache=[],this.srcBoneMatrixArr=[],this.ikArr=[],this.tfArr=[],this.pathArr=[],this.boneSlotDic={},this.bindBoneBoneSlotDic={},this.boneSlotArray=[],this.skinDataArray=[],this.skinDic={},this.subTextureDic={},this.isParseFail=!1,this.yReverseMatrix=null,this.drawOrderAniArr=[],this.eventAniArr=[],this.attachmentNames=null,this.deformAniArr=[],this._isDestroyed=!1,this._rate=30,this.isParserComplete=!1,this.aniSectionDic={},this._skBufferUrl=null,this._textureDic={},this._loadList=null,this._path=null,this.tMatrixDataLen=0,this.mRootBone=null,ht_pe.__super.call(this),this.skinSlotDisplayDataArr=[],this.mBoneArr=[]}var C$B;function jirvx7(C$t,C$e){this._templet=null,this._player=null,this._curOriginalData=null,this._boneMatrixArray=[],this._lastTime=0,this._currAniName=null,this._currAniIndex=-1,this._pause=!0,this._aniClipIndex=-1,this._clipIndex=-1,this._skinIndex=0,this._skinName="default",this._aniMode=0,this._graphicsCache=null,this._boneSlotDic=null,this._bindBoneBoneSlotDic=null,this._boneSlotArray=null,this._index=-1,this._total=-1,this._indexControl=!1,this._aniPath=null,this._texturePath=null,this._complete=null,this._loadAniMode=0,this._yReverseMatrix=null,this._ikArr=null,this._tfArr=null,this._pathDic=null,this._rootBone=null,this._boneList=null,this._aniSectionDic=null,this._eventIndex=0,this._drawOrderIndex=0,this._drawOrder=null,this._lastAniClipIndex=-1,this._lastUpdateAniClipIndex=-1,jirvx7.__super.call(this),void 0===C$e&&(C$e=0),C$t&&this.init(C$t,C$e)}var C$k;function orq5b(){this._aniMap={},this.unfixedLastAniIndex=-1,orq5b.__super.call(this),this._anis=[]}function bk50(){bk50.__super.call(this),C$l.isConchNode&&(this.drawSkin=function(C$t){C$t.transform||(C$t.transform=C$Dt.EMPTY),this._addCmd([C$t]),this.setSkinMesh&&this.setSkinMesh(C$t._ps,C$t.mVBData,C$t.mEleNum,0,C$t.mTexture,C$t.transform)})}function j5voyr(){this._destroyed=!1,this._templet=null,this._currentTime=NaN,this._currentFrameTime=NaN,this._playStart=NaN,this._playEnd=NaN,this._playDuration=NaN,this._overallDuration=NaN,this._stopWhenCircleFinish=!1,this._elapsedPlaybackTime=NaN,this._startUpdateLoopCount=NaN,this._currentAnimationClipIndex=0,this._currentKeyframeIndex=0,this._paused=!1,this._cacheFrameRate=0,this._cacheFrameRateInterval=NaN,this._cachePlayRate=NaN,this._fullFrames=null,this.isCache=!0,this.playbackRate=1,this.returnToZeroStopped=!1,j5voyr.__super.call(this),this._destroyed=!1,this._currentAnimationClipIndex=-1,this._currentKeyframeIndex=-1,this._currentTime=0,this._overallDuration=Number.MAX_VALUE,this._stopWhenCircleFinish=!1,this._elapsedPlaybackTime=0,this._startUpdateLoopCount=-1,this._cachePlayRate=1,this.cacheFrameRate=60,this.returnToZeroStopped=!1}function q0ok5(){}function ma34l(){this.startTime=NaN,this.duration=NaN,this.interpolationData=null,this.data=null,this.nextData=null}function o50kb(){}function zh8et(){this.skX=0,this.skY=0,this.scX=1,this.scY=1,this.x=0,this.y=0,this.skewX=0,this.skewY=0,this.mMatrix=null}function zeph_(){this.name=null,this.targetIndex=0,this.rotateMix=NaN,this.translateMix=NaN,this.scaleMix=NaN,this.shearMix=NaN,this.offsetRotation=NaN,this.offsetX=NaN,this.offsetY=NaN,this.offsetScaleX=NaN,this.offsetScaleY=NaN,this.offsetShearY=NaN,this.boneIndexs=[]}function nxij17(C$t,C$e){this._data=null,this._bones=null,this.target=null,this.rotateMix=NaN,this.translateMix=NaN,this.scaleMix=NaN,this.shearMix=NaN,this._temp=C$p(2,0),this._data=C$t,null==this._bones&&(this._bones=[]),this.target=C$e[C$t.targetIndex];var C$i,C$n=0;for(C$n=0,C$i=C$t.boneIndexs.length;C$n<C$i;C$n++)this._bones.push(C$e[C$t.boneIndexs[C$n]]);this.rotateMix=C$t.rotateMix,this.translateMix=C$t.translateMix,this.scaleMix=C$t.scaleMix,this.shearMix=C$t.shearMix}function h_2p(){this.name=null,this.displayArr=[]}function qboy5r(){this.name=null,this.attachmentName=null,this.type=0,this.transform=null,this.width=NaN,this.height=NaN,this.texture=null,this.bones=null,this.uvs=null,this.weights=null,this.triangles=null,this.vertices=null,this.lengths=null,this.verLen=0}function dg6tc8(){this.name=null,this.slotArr=[]}function zh_pt(){this.name=null,this.target=null,this.positionMode=null,this.spacingMode=null,this.rotateMode=null,this.offsetRotation=NaN,this.position=NaN,this.spacing=NaN,this.rotateMix=NaN,this.translateMix=NaN,this.bones=[]}function yb5q(C$t,C$e){this.target=null,this.data=null,this.bones=null,this.position=NaN,this.spacing=NaN,this.rotateMix=NaN,this.translateMix=NaN,this._debugKey=!1,this._spaces=null,this._segments=[],this._curves=[],this.data=C$t,this.position=C$t.position,this.spacing=C$t.spacing,this.rotateMix=C$t.rotateMix,this.translateMix=C$t.translateMix,this.bones=[];for(var C$i=this.data.bones,C$n=0,C$r=C$i.length;C$n<C$r;C$n++)this.bones.push(C$e[C$i[C$n]])}function hpzec(){this.name=null,this.targetBoneName=null,this.bendDirection=1,this.mix=1,this.isSpine=!0,this.targetBoneIndex=-1,this.boneNames=[],this.boneIndexs=[]}function _w92ep(C$t,C$e){this._targetBone=null,this._bones=null,this._data=null,this.name=null,this.mix=NaN,this.bendDirection=NaN,this.isSpine=!0,this._sp=null,this.isDebug=!1,this._data=C$t,this._targetBone=C$e[C$t.targetBoneIndex],this.isSpine=C$t.isSpine,null==this._bones&&(this._bones=[]);for(var C$i=this._bones.length=0,C$n=C$t.boneIndexs.length;C$i<C$n;C$i++)this._bones.push(C$e[C$t.boneIndexs[C$i]]);this.name=C$t.name,this.mix=C$t.mix,this.bendDirection=C$t.bendDirection}function nx3i14(){this.name=null,this.intValue=0,this.floatValue=NaN,this.stringValue=null,this.time=NaN}function h6cd8(){this.time=NaN,this.drawOrder=[]}function zhpce(){this.boneSlot=null,this.slotIndex=-1,this.attachment=null,this.deformData=null,this.frameIndex=0,this.timeList=[],this.vectices=[],this.tweenKeyList=[]}function pf9_2(){this.deformSlotDisplayList=[]}function x74in1(){this.skinName=null,this.deformSlotDataList=[]}function pezht(){this.name=null,this.parent=null,this.attachmentName=null,this.srcDisplayIndex=-1,this.type="src",this.templet=null,this.currSlotData=null,this.currTexture=null,this.currDisplayData=null,this.displayIndex=-1,this._diyTexture=null,this._parentMatrix=null,this._resultMatrix=null,this._replaceDic={},this._curDiyUV=null,this._curDiyVS=null,this._skinSprite=null,this.deformData=null,this._mVerticleArr=null}function r7vyoj(){this.name=null,this.root=null,this.parentBone=null,this.length=10,this.transform=null,this.inheritScale=!0,this.inheritRotation=!0,this.rotation=NaN,this.resultRotation=NaN,this.d=-1,this._tempMatrix=null,this._sprite=null,this.resultTransform=new C$qt,this.resultMatrix=new C$Dt,this._children=[]}var C$r;function jir7x(){}function w9s2(){}function n3u1(){}function ua14(){this.name=null,this.parentIndex=0,this.parent=null,this.keyframeWidth=0,this.lerpType=0,this.interpolationMethod=null,this.childs=null,this.keyFrame=null,this.playTime=NaN,this.extenData=null,this.dataOffset=0}function ctgd8(){this.nodes=null,this.name=null,this.playTime=NaN,this.bone3DMap=null,this.totalKeyframeDatasLength=0}}((window,document,gvj7xry)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$t,C$e){"use strict";for(var C$i in Object.defineProperty(C$e,"__esModule",{value:!0}),gvj7xry){var C$n=gvj7xry[C$i];C$n&&C$n.__isclass&&(C$e[C$i]=C$n)}});