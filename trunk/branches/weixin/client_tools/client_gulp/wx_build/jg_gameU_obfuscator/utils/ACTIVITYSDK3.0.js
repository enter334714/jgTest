var p1=require("md5Encryp");const ACTIVITYCONFIG={getInfoNewUrl:"https://act-api.39ej7e.com/Cash/GetInfoNew",itemExchangeUrl:"https://act-api.39ej7e.com/Cash/ItemExchange",finishTaskUrl:"https://act-api.39ej7e.com/Cash/FinishTask",bindNewUrl:"https://act-api.39ej7e.com/Cash/BindNew",bindOpenidByUidUrl:"https://act-api.39ej7e.com/Cash/BindOpenIdByUid",directWithdrawUrl:"https://act-api.39ej7e.com/Cash/DirectWithdraw",withdrawNewUrl:"https://act-api.39ej7e.com/Cash/WithdrawNew",rewardUrl:"https://act-api.39ej7e.com/backflow/reward",tokenExchangeCashUrl:"https://act-api.39ej7e.com/Cash/TokenExchangeCash",cashDirectWithdrawUrl:"https://act-api.39ej7e.com/Cash/CashDirectWithdraw",key:"e902c51bced686c3da63cc069a68d731"};const ACTIVITYUtils={getTime:()=>window.Date.parse(new window.Date)/1e3,getSign:(t,e)=>{var i="";return t=ACTIVITYUtils.sortObject(t),window.Object.keys(t).forEach(function(e){e=e+"="+t[e];i+=e}),p1(i+=e)},sortObject:t=>{var e,i={},a=[];for(window.Object.keys(t).forEach(function(e){t.hasOwnProperty(e)&&a.push(e)}),a.sort(),e=0;e<a.length;e++)i[a[e]]=t[a[e]];return i},getKeys:t=>{var i=[];return window.Object.keys(t).forEach(function(e){t.hasOwnProperty(e)&&i.push(e)}),i}};var Ch$mbaMM10={};module.exports={init:(e,t)=>{Ch$mbaMM10.pid=e.pid,Ch$mbaMM10.gid=e.gid,Ch$mbaMM10.token=e.token,Ch$mbaMM10.refer=e.refer,Ch$mbaMM10.cid=e.cid,t&&t()},getInfoNew:(e,t)=>{Ch$mbaMM10.drid=e.drid,Ch$mbaMM10.dsid=e.dsid,Ch$mbaMM10.actid=e.actid,ourselfMid.getInfoNew(e,function(e){t&&t(e)})},itemExchange:(e,t)=>{ourselfMid.itemExchange(e,function(e){t&&t(e)})},tokenExchangeCash:(e,t)=>{ourselfMid.tokenExchangeCash(e,function(e){t&&t(e)})},cashDirectWithdraw:(e,t)=>{ourselfMid.cashDirectWithdraw(e,function(e){t&&t(e)})},finishTask:(e,t)=>{ourselfMid.finishTask(e,function(e){t&&t(e)})},directWithdraw:(e,t)=>{ourselfMid.directWithdraw(e,function(e){t&&t(e)})},withdrawNew:(e,t)=>{ourselfMid.withdrawNew(e,function(e){t&&t(e)})}};const ourselfMid={getInfoNew:(e,t)=>{let i=JSON.parse(JSON.stringify(e));i.time=ACTIVITYUtils.getTime(),i.token=Ch$mbaMM10.token,i.sign=ACTIVITYUtils.getSign(i,ACTIVITYCONFIG.key),wx.request({url:ACTIVITYCONFIG.getInfoNewUrl,data:i,header:{"content-type":"application/json"},method:"get",success(e){t&&t(e.data),1===e.data.state&&(e.data.data.hasBind1||ourselfMid.bindNew(e.data.data),e.data.data.hasBind1&&!e.data.data.hasBind2&&ourselfMid.bindOpenidByUid({}))},fail(e){console.log("\u8bf7\u6c42\u5931\u8d25:"+JSON.stringify(e))}})},itemExchange:(e,t)=>{let i=JSON.parse(JSON.stringify(e));i.time=ACTIVITYUtils.getTime(),i.token=Ch$mbaMM10.token,i.itemlist=JSON.stringify(i.itemlist),i.sign=ACTIVITYUtils.getSign(i,ACTIVITYCONFIG.key),wx.request({url:ACTIVITYCONFIG.itemExchangeUrl,data:i,header:{"content-type":"application/json"},method:"get",success(e){t&&t(e.data)},fail(e){console.log("\u8bf7\u6c42\u5931\u8d25:"+JSON.stringify(e))}})},finishTask:(e,t)=>{let i=JSON.parse(JSON.stringify(e));i.time=ACTIVITYUtils.getTime(),i.token=Ch$mbaMM10.token,i.sign=ACTIVITYUtils.getSign(i,ACTIVITYCONFIG.key),wx.request({url:ACTIVITYCONFIG.finishTaskUrl,data:i,header:{"content-type":"application/json"},method:"get",success(e){t&&t(e.data)},fail(e){console.log("\u8bf7\u6c42\u5931\u8d25:"+JSON.stringify(e))}})},directWithdraw:(e,t)=>{let i=JSON.parse(JSON.stringify(e));i.time=ACTIVITYUtils.getTime(),i.token=Ch$mbaMM10.token,i.sign=ACTIVITYUtils.getSign(i,ACTIVITYCONFIG.key),wx.request({url:ACTIVITYCONFIG.directWithdrawUrl,data:i,header:{"content-type":"application/json"},method:"get",success(e){t&&t(e.data)},fail(e){console.log("\u8bf7\u6c42\u5931\u8d25:"+JSON.stringify(e))}})},withdrawNew:(e,t)=>{let i=JSON.parse(JSON.stringify(e));i.time=ACTIVITYUtils.getTime(),i.token=Ch$mbaMM10.token,i.sign=ACTIVITYUtils.getSign(i,ACTIVITYCONFIG.key),wx.request({url:ACTIVITYCONFIG.withdrawNewUrl,data:i,header:{"content-type":"application/json"},method:"get",success(e){t&&t(e.data)},fail(e){console.log("\u8bf7\u6c42\u5931\u8d25:"+JSON.stringify(e))}})},bindNew:(t,i)=>{let e=JSON.parse(JSON.stringify({}));e.pid=Ch$mbaMM10.pid,e.gid=Ch$mbaMM10.gid,e.actid=Ch$mbaMM10.actid,e.dsid=Ch$mbaMM10.dsid,e.drid=Ch$mbaMM10.drid,e.time=ACTIVITYUtils.getTime(),e.token=Ch$mbaMM10.token,e.sign=ACTIVITYUtils.getSign(e,ACTIVITYCONFIG.key),wx.request({url:ACTIVITYCONFIG.bindNewUrl,data:e,header:{"content-type":"application/json"},method:"get",success(e){1===e.data.state&&(t.hasBind2||ourselfMid.bindOpenidByUid({})),i&&i(e.data)},fail(e){console.log("\u8bf7\u6c42\u5931\u8d25:"+JSON.stringify(e))}})},bindOpenidByUid:(e,t)=>{let i=JSON.parse(JSON.stringify(e));i.pid=Ch$mbaMM10.pid,i.gid=Ch$mbaMM10.gid,i.actid=Ch$mbaMM10.actid,i.dsid=Ch$mbaMM10.dsid,i.drid=Ch$mbaMM10.drid,i.time=ACTIVITYUtils.getTime(),i.token=Ch$mbaMM10.token,i.sign=ACTIVITYUtils.getSign(i,ACTIVITYCONFIG.key),wx.request({url:ACTIVITYCONFIG.bindOpenidByUidUrl,data:i,header:{"content-type":"application/json"},method:"get",success(e){t&&t(e.data)},fail(e){console.log("\u8bf7\u6c42\u5931\u8d25:"+JSON.stringify(e))}})},tokenExchangeCash:(e,t)=>{console.log("\u4ee3\u5e01\u66ff\u6362\u73b0\u91d1\u4f59\u989d3\u671f\u63a5\u53e3");let i=JSON.parse(JSON.stringify(e));i.time=ACTIVITYUtils.getTime(),i.token=Ch$mbaMM10.token,i.sign=ACTIVITYUtils.getSign(i,ACTIVITYCONFIG.key),wx.request({url:ACTIVITYCONFIG.tokenExchangeCashUrl,data:i,header:{"content-type":"application/json"},method:"get",success(e){t&&t(e.data)},fail(e){console.log("\u8bf7\u6c42\u5931\u8d25:"+JSON.stringify(e))}})},cashDirectWithdraw:(e,t)=>{let i=JSON.parse(JSON.stringify(e));i.time=ACTIVITYUtils.getTime(),i.token=Ch$mbaMM10.token,i.sign=ACTIVITYUtils.getSign(i,ACTIVITYCONFIG.key),wx.request({url:ACTIVITYCONFIG.cashDirectWithdrawUrl,data:i,header:{"content-type":"application/json"},method:"get",success(e){t&&t(e.data)},fail(e){console.log("\u8bf7\u6c42\u5931\u8d25:"+JSON.stringify(e))}})}};