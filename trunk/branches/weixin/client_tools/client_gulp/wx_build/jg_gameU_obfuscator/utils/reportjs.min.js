var _this=this;var sXyUG1=require("md5Encryp");let initData={};const doReportLoop=(e,o)=>{3<(o+=1)||(e.report_time=dataReportUtil.getNowDateFormat(),e.sign=dataReportUtil.getSign(e,"xYIdHxsvk8n8zB8T"),wx.request({url:"https://track.39ej7e.com/api/event/",data:e,header:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",success:function(t){console.log(t.data)},fail:function(t){t&&doReportLoop(e,o)}}))};module.exports={dataReportInit:t=>{initData=dataReportUtil.mixin({},t)},dataReportSend:t=>{let e=dataReportUtil.mixin({},initData);(e=dataReportUtil.mixin(e,t)).cdate=dataReportUtil.getNowDateFormat(),e.session_id=dataReportUtil.getSessionId(),doReportLoop(e,0)}};let dataReportUtil={mixin:(e,o)=>(window.Object.keys(o).forEach(function(t){e[t]=o[t]}),e),getNowDateFormat:()=>{let t=new window.Date;var e=[t.getFullYear()+"-",(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",t.getDate()<10?"0"+t.getDate():t.getDate()," "+(t.getHours()<10?"0"+t.getHours():t.getHours()),":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()),":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())];let o=[];for(let t=0;t<e.length;t++)o.push(e[t]);return o.join("")},getSessionId:t=>{var e=window.parseInt((new window.Date).getTime()/1e3);return sXyUG1(t+e)},sortObject:e=>{let t={},o,a=[];for(window.Object.keys(e).forEach(function(t){e.hasOwnProperty(t)&&a.push(t)}),a.sort(),o=0;o<a.length;o++)t[a[o]]=e[a[o]];return t},getSign:(e,t)=>{let o="";return e=dataReportUtil.sortObject(e),window.Object.keys(e).forEach(function(t){t=t+"="+e[t];o+=t}),o+=t,sXyUG1(o)}};