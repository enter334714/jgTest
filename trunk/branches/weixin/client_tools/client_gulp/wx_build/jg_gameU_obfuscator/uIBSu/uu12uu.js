var o=wx.$U;function uwq7gx(){}function ua_k6n(t,l,f,a,u){function ckr0a(e){var r=e.slice(1,-1);return r in f?f[r]:"#"===r.charAt(0)?65535<(r=parseInt(r.substr(1).replace("x","0x")))?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(1023&r))):String.fromCharCode(r):(u.error("entity not found:"+e),e)}function ac0r(e){var r;s<e&&(r=t.substring(s,e).replace(/&#?\w+;/g,ckr0a),n&&xqlow(s),a.characters(r,0,e-s),s=e)}function xqlow(e,r){for(;d<=e&&(r=g.exec(t));)m=r.index,d=m+r[0].length,n.lineNumber++;n.columnNumber=e-m+1}for(var m=0,d=0,g=/.*(?:\r\n?|\n)|.*$/g,n=a.locator,p=[{currentNSMap:l}],w={},s=0;;){try{var e=t.indexOf("<",s);var x,h;if(e<0)return void(t.substr(s).match(/^\s*$/)||(h=(x=a.doc).createTextNode(t.substr(s)),x.appendChild(h),a.currentElement=h));switch(s<e&&ac0r(e),t.charAt(e+1)){case"/":var r=t.indexOf(">",e+3),c=t.substring(e+2,r),i=p.pop();r<0?(c=t.substring(e+2).replace(/[\s<].*/,""),u.error("end tag name: "+c+" is not complete:"+i.tagName),r=e+1+c.length):c.match(/\s</)&&(c=c.replace(/[\s<].*/,""),u.error("end tag name: "+c+" maybe not complete"),r=e+1+c.length);var v=i.localNSMap,b=i.tagName==c;if(b||i.tagName&&i.tagName.toLowerCase()==c.toLowerCase()){if(a.endElement(i.uri,i.localName,c),v)for(var k in v)a.endPrefixMapping(k);b||u.fatalError("end tag name: "+c+" is not match the current start tagName:"+i.tagName)}else p.push(i);r++;break;case"?":n&&xqlow(e),r=udt2z(t,e,a);break;case"!":n&&xqlow(e),r=ukva(t,e,a,u);break;default:n&&xqlow(e);var o=new ur86a0c,N=p[p.length-1].currentNSMap,r=umoixq(t,e,o,N,ckr0a,u),$=o.length;if(!o.closed&&ubr810(t,r,o.tagName,w)&&(o.closed=!0,f.nbsp||u.warning("unclosed xml attribute")),n&&$){for(var q=uu$ep4f(n,{}),F=0;F<$;F++){var D=o[F];xqlow(D.offset),D.locator=uu$ep4f(n,{})}a.locator=q,uxw79(o,a,N)&&p.push(o),a.locator=n}else uxw79(o,a,N)&&p.push(o);"http://www.w3.org/1999/xhtml"!==o.uri||o.closed?r++:r=usv_k$n(t,r,o.tagName,ckr0a,a)}}catch(e){u.error("element parse error: "+e),r=-1}s<r?s=r:ac0r(Math.max(e,s)+1)}}function uu$ep4f(e,r){return r.lineNumber=e.lineNumber,r.columnNumber=e.columnNumber,r}function umoixq(e,r,t,l,a,u){for(var n,s=++r,c=uox7li;;){var i=e.charAt(s);switch(i){case"=":if(c===up4f3h)n=e.slice(r,s),c=urb1y80;else{if(c!==uk6n)throw new Error("attribute equal must after attrName");c=urb1y80}break;case"'":case'"':if(c===urb1y80||c===up4f3h){if(c===up4f3h&&(u.warning('attribute value must after "="'),n=e.slice(r,s)),!(0<(s=e.indexOf(i,r=s+1))))throw new Error("attribute value no end '"+i+"' match");o=e.slice(r,s).replace(/&#?\w+;/g,a),t.add(n,o,r-1),c=ufpue4}else{if(c!=uixolqm)throw new Error('attribute value must after "="');o=e.slice(r,s).replace(/&#?\w+;/g,a),t.add(n,o,r),u.warning('attribute "'+n+'" missed start quot('+i+")!!"),r=s+1,c=ufpue4}break;case"/":switch(c){case uox7li:t.setTagName(e.slice(r,s));case ufpue4:case uvs$uen:case uwgl9x7:c=uwgl9x7,t.closed=!0;case uixolqm:case up4f3h:case uk6n:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return u.error("unexpected end of input"),c==uox7li&&t.setTagName(e.slice(r,s)),s;case">":switch(c){case uox7li:t.setTagName(e.slice(r,s));case ufpue4:case uvs$uen:case uwgl9x7:break;case uixolqm:case up4f3h:"/"===(o=e.slice(r,s)).slice(-1)&&(t.closed=!0,o=o.slice(0,-1));case uk6n:c===uk6n&&(o=n),c==uixolqm?(u.warning('attribute "'+o+'" missed quot(")!!'),t.add(n,o.replace(/&#?\w+;/g,a),r)):("http://www.w3.org/1999/xhtml"===l[""]&&o.match(/^(?:disabled|checked|selected)$/i)||u.warning('attribute "'+o+'" missed value!! "'+o+'" instead!!'),t.add(o,o,r));break;case urb1y80:throw new Error("attribute value missed!!")}return s;case"\x80":i=" ";default:if(i<=" ")switch(c){case uox7li:t.setTagName(e.slice(r,s)),c=uvs$uen;break;case up4f3h:n=e.slice(r,s),c=uk6n;break;case uixolqm:var o=e.slice(r,s).replace(/&#?\w+;/g,a);u.warning('attribute "'+o+'" missed quot(")!!'),t.add(n,o,r);case ufpue4:c=uvs$uen}else switch(c){case uk6n:t.tagName,"http://www.w3.org/1999/xhtml"===l[""]&&n.match(/^(?:disabled|checked|selected)$/i)||u.warning('attribute "'+n+'" missed value!! "'+n+'" instead2!!'),t.add(n,n,r),r=s,c=up4f3h;break;case ufpue4:u.warning('attribute space is required"'+n+'"!!');case uvs$uen:c=up4f3h,r=s;break;case urb1y80:c=uixolqm,r=s;break;case uwgl9x7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function uxw79(e,l,r){for(var t=e.tagName,a=null,u=e.length;u--;){var n=e[u],s=n.qName,f=n.value;var c;s=0<(i=s.indexOf(":"))?(o=n.prefix=s.slice(0,i),c=s.slice(i+1),"xmlns"===o&&c):(o=null,"xmlns"===(c=s)&&""),n.localName=c,!1!==s&&(null==a&&(a={},uu4p3fe(r,r={})),r[s]=a[s]=f,n.uri="http://www.w3.org/2000/xmlns/",l.startPrefixMapping(s,f))}for(u=e.length;u--;)(o=(n=e[u]).prefix)&&("xml"===o&&(n.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==o&&(n.uri=r[o||""]));var i;c=0<(i=t.indexOf(":"))?(o=e.prefix=t.slice(0,i),e.localName=t.slice(i+1)):(o=null,e.localName=t);var m=e.uri=r[o||""];if(l.startElement(m,c,t,e),!e.closed)return e.currentNSMap=r,e.localNSMap=a,!0;if(l.endElement(m,c,t),a)for(var o in a)l.endPrefixMapping(o)}function usv_k$n(e,r,t,a,u){if(/^(?:script|textarea)$/i.test(t)){var n=e.indexOf("</"+t+">",r),e=e.substring(r+1,n);if(/[&<]/.test(e))return/^script$/i.test(t)||(e=e.replace(/&#?\w+;/g,a)),u.characters(e,0,e.length),n}return r+1}function ubr810(e,r,t,a){var u=a[t];return null==u&&((u=e.lastIndexOf("</"+t+">"))<r&&(u=e.lastIndexOf("</"+t)),a[t]=u),u<r}function uu4p3fe(e,r){for(var t in e)r[t]=e[t]}function ukva(e,r,t,a){var u=e.charAt(r+2);if("-"===u)return"-"!==e.charAt(r+3)?-1:r<(n=e.indexOf("--\x3e",r+4))?(t.comment(e,r+4,n-r-4),n+3):(a.error("Unclosed comment"),-1);if("CDATA["==e.substr(r+3,6))return n=e.indexOf("]]>",r+9),t.startCDATA(),t.characters(e,r+9,n-r-9),t.endCDATA(),n+3;u=uz7x9g(e,r),a=u.length;var n;return 1<a&&/!doctype/i.test(u[0][0])?(n=u[1][0],e=3<a&&/^public$/i.test(u[2][0])&&u[3][0],r=4<a&&u[4][0],u=u[a-1],t.startDTD(n,e&&e.replace(/^(['"])(.*?)\1$/,"$2"),r&&r.replace(/^(['"])(.*?)\1$/,"$2")),t.endDTD(),u.index+u[0].length):-1}function udt2z(e,r,t){var a=e.indexOf("?>",r);return a&&(e=e.substring(r,a).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/))?(e[0].length,t.processingInstruction(e[1],e[2]),a+2):-1}function ur86a0c(){}function u_esv$(e,r){return e.__proto__=r,e}function uz7x9g(e,r){var t,a=[],u=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(u.lastIndex=r,u.exec(e);t=u.exec(e);)if(a.push(t),t[1])return a}var uxzgw=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,u_6kac=new RegExp("[\\-\\.0-9"+uxzgw.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),udwg9z=new RegExp("^"+uxzgw.source+u_6kac.source+"*(?::"+uxzgw.source+u_6kac.source+"*)?$"),uox7li=0,up4f3h=1,uk6n=2,urb1y80=3,uixolqm=4,ufpue4=5,uvs$uen=6,uwgl9x7=7;uwq7gx.prototype={parse:function(e,r,t){var a=this.domBuilder;a.startDocument(),uu4p3fe(r,r={}),ua_k6n(e,r,t,a,this.errorHandler),a.endDocument()}},ur86a0c.prototype={setTagName:function(e){if(!udwg9z.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,r,t){if(!udwg9z.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:r,offset:t}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},u_esv$({},u_esv$.prototype)instanceof u_esv$||(u_esv$=function(e,r){function ar06ck(){}for(r in ar06ck.prototype=r,ar06ck=new ar06ck,e)ar06ck[r]=e[r];return ar06ck}),exports.XMLReader=uwq7gx;