import zjpvm from'../ttkttt/t6ktgt.js';window['versions']={'wxVersion':window['config']['game_ver']},window['DEBUG']=![],window['D$$5']=0x1,window['ENV']=0x1,window['D$45$']=!![],window['WSS']=!![],window['D$HQ45$']='',window['D$5$']={'base_cdn':'https://cdn-tjqy.shzbkj.com/weixin_0/','cdn':'https://cdn-tjqy.shzbkj.com/weixin_0/'},D$5$['pay_infos']={},D$5$['package']='0',D$5$['version']=window['versions']['wxVersion'],D$5$['mac']='',D$5$['os']='1',D$5$['sdk_name']='9130',D$5$['apiurl']='https://api-tjqytest.shzbkj.com',D$5$['logurl']='https://log-tjqytest.shzbkj.com',D$5$['payurl']='https://pay-tjqytest.shzbkj.com',D$5$['apikey']='MQx0mYlUWO5XYKvgAIPKWgK1w722GKih',D$5$['partnerId']='1',D$5$['pkgName']='',D$5$['device_id']='',D$5$['from_scene']=0x0,D$5$['serverList']={},D$5$['channelNum']=parseInt(D$5$['partnerId']),D$5$['channel']=D$5$['partnerId'],D$5$['selectedServer']={},D$5$['D$Q5']='https://jgcenter.sh9130.com/clientlog/',D$5$['showLogo']=![],D$5$['debugUsers']='39927500|58163716|74597555',D$5$['tick']=Date['now'](),D$5$['configType']='_weixin',D$5$['exposeType']='_a',D$5$['loadingType']=0x2,D$5$['lastVersion']=0x7c1,D$5$['wxVersion']=window['versions']['wxVersion'],D$5$['wxShield']=![],D$5$['wxIOS']=![],D$5$['wxAndroid']=![],D$5$['wxPC']=![],window['D$4$5']=0x5,window['D$4$']=![],window['D$$4']=![],window['D$54$']=![],window['loadServerRes']=![],window['loadLoadingRes']=![],window['D$5$4']=![],window['D$45']=![],window['D$54']=![],window['D$$45']=![],window['sdkInitRes']=null,window['alert']=function(pv60a){console['log']('alert',pv60a),wx['hideLoading']({}),wx['showModal']({'title':'提示','content':pv60a,'success'(luthk){if(luthk['confirm'])console['log']('用户点击确定');else luthk['cancel']&&console['log']('用户点击取消');}});},window['D$Q45$']=function(f97_5$){console['log']('loginAlert',f97_5$),D$Q5$4(),wx['showModal']({'title':'提示','content':f97_5$,'confirmText':'重试','cancelText':'退出','success'(c3824d){if(c3824d['confirm'])window['D$5Q']();else c3824d['cancel']&&(console['log']('退出游戏'),wx['exitMiniProgram']({}));}});},window['exitAlert']=function(odq2c8){console['log']('exitAlert',odq2c8),wx['showModal']({'title':'提示','content':odq2c8,'confirmText':'重登','showCancel':![],'complete'(fx$_7){console['log']('退出游戏'),wx['exitMiniProgram']({});}});},window['D$Q4$5']=![],window['D$Q54$']=function(egnab){window['D$Q4$5']=!![],wx['showLoading'](egnab);},window['D$Q5$4']=function(){window['D$Q4$5']&&(window['D$Q4$5']=![],wx['hideLoading']({}));},window['D$Q$45']=function(kul43){window['ServerLoading']['instance']['D$Q$45'](kul43);},window['msgCheck']=function(qd84,uzkr){zjpvm['msgCheck'](qd84,function(kyulht){kyulht&&kyulht['data']?kyulht['data']['state']==0x1?uzkr(!![]):(uzkr(![]),console['info']('存在敏感词：\x20'+kyulht['data']['msg'])):console['log']('msgCheck',kyulht);});},window['D$Q$54']=function(hd43ul){console['log']('getJsURL',hd43ul);},window['D$Q5$']=function(uh3d4){},window['D$Q$5']=function($f975_,anp0gb,nbe){},window['D$Q$']=function(lyukt){console['log']('toEnterGame',lyukt),window['ServerLoading']['instance']['closeAuthor'](),window['ServerLoading']['instance']['closeServer'](),window['ServerLoading']['instance']['closeLoading']();},window['D$$Q']=function($_f975){window['toErrorAlarm'](0xe,'onApiError '+$_f975),window['D$Q45$']('on api error');var hlyk={'id':window['D$5$']['roleId'],'role':window['D$5$']['roleName'],'level':window['D$5$']['roleLevel'],'account':window['D$5$']['account'],'version':window['D$5$']['lastVersion'],'cdn':window['D$5$']['cdn'],'pkgName':window['D$5$']['pkgName'],'gamever':window['config']['game_ver'],'serverid':window['D$5$']['selectedServer']?window['D$5$']['selectedServer']['server_id']:0x0,'systemInfo':window['systemInfo'],'error':'onApiError','stack':$_f975?$_f975:'on api error'},ltyu=JSON['stringify'](hlyk);console['error']('API错误\uFF1A'+ltyu),window['D$Q5'](ltyu);},window['toErrorAlarm']=function(q28d,vj$x69){sendApi(D$5$['logurl'],'log.client_error',{'game_pkg':D$5$['pkgName'],'partner_id':D$5$['partnerId'],'server_id':D$5$['selectedServer']&&D$5$['selectedServer']['server_id']>0x0?D$5$['selectedServer']['server_id']:0x0,'uid':D$5$['account']>0x0?D$5$['account']:0x0,'type':q28d,'info':vj$x69});},window['D$5Q$']=function(ykz){var z5y1r=JSON['parse'](ykz);z5y1r['gamever']=window['config']['game_ver'],z5y1r['serverid']=window['D$5$']['selectedServer']?window['D$5$']['selectedServer']['server_id']:0x0,z5y1r['systemInfo']=window['systemInfo'];var krutly=JSON['stringify'](z5y1r);console['error']('上报错误：'+krutly),window['D$Q5'](krutly);},window['D$5$Q']=function(tlkryu,r51_f){var ylrktu={'id':window['D$5$']['roleId'],'role':window['D$5$']['roleName'],'level':window['D$5$']['roleLevel'],'account':window['D$5$']['account'],'version':window['D$5$']['lastVersion'],'cdn':window['D$5$']['cdn'],'pkgName':window['D$5$']['pkgName'],'gamever':window['config']['game_ver'],'serverid':window['D$5$']['selectedServer']?window['D$5$']['selectedServer']['server_id']:0x0,'systemInfo':window['systemInfo'],'error':tlkryu,'stack':r51_f},cd3428=JSON['stringify'](ylrktu);console['warn']('上报信息：'+cd3428),window['D$Q5'](cd3428);},window['D$Q5']=function(huklt){if(window['D$5$']['wxPlatform']=='devtools')return;var xmvp=D$5$['D$Q5']+'?account='+D$5$['account'];wx['request']({'url':xmvp,'method':'POST','data':huklt,'header':{'content-type':'application/json','cache-control':'no-cache'},'success':function(kul4h){DEBUG&&console['log']('clientlog:',xmvp,huklt,kul4h);},'fail':function(aebn0g){DEBUG&&console['log']('clientlog:',xmvp,huklt,aebn0g);},'complete':function(){}});},window['guild']=function(){function $vjx7(){return((0x1+Math['random']())*0x10000|0x0)['toString'](0x10)['substring'](0x1);}return $vjx7()+$vjx7()+'-'+$vjx7()+'-'+$vjx7()+'-'+$vjx7()+'+'+$vjx7()+$vjx7()+$vjx7();},window['D$5Q']=function(){console['log']('#SDK 初始化\uFF1A');var ul4h3=zjpvm['getConfig']();D$5$['channel']=ul4h3['partner_id'],D$5$['channelNum']=ul4h3['partner_id'],D$5$['partnerId']=ul4h3['partner_id'],D$5$['pkgName']=ul4h3['game_pkg'];var r5tz1f={'game_ver':D$5$['version']};D$5$['device_id']=this['guild'](),D$Q54$({'title':'正在初始化'}),zjpvm['init'](r5tz1f,this['D$$Q5']['bind'](this));},window['D$$Q5']=function(l3hud4){var xv7$=l3hud4['develop'];sdkInitRes=l3hud4,console['log']('#初始化成功\x20\x20\x20提审状态:'+xv7$+'\x20\x20\x20是否提审:'+(xv7$==0x1)+'\x20\x20\x20提审版本号:'+l3hud4['game_ver']+'\x20\x20\x20当前版本号:'+window['versions']['wxVersion']);if(!l3hud4['game_ver']||window['D$H4$Q5'](window['versions']['wxVersion'],l3hud4['game_ver'])<0x0)console['log']('#正式版============================='),D$5$['apiurl']='https://api-tjqy.shzbkj.com',D$5$['logurl']='https://log-tjqy.shzbkj.com',D$5$['payurl']='https://pay-tjqy.shzbkj.com',D$5$['cdn']='https://cdn-tjqy-sj.shzbkj.com/weixin_1/',D$5$['spareCdn']='https://cdn-tjqy-ali.shzbkj.com/weixin_1/',D$5$['version_name']='sj',D$5$['wxShield']=![];else window['D$H4$Q5'](window['versions']['wxVersion'],l3hud4['game_ver'])==0x0?(console['log']('#审核版============================='),D$5$['apiurl']='https://api-tjqytest.shzbkj.com',D$5$['logurl']='https://log-tjqytest.shzbkj.com',D$5$['payurl']='https://pay-tjqytest.shzbkj.com',D$5$['cdn']='https://cdn-tjqy-sj.shzbkj.com/weixin_0/',D$5$['spareCdn']='https://cdn-tjqy-ali.shzbkj.com/weixin_1/',D$5$['version_name']='weixin',D$5$['wxShield']=!![]):(console['log']('#开发版============================='),D$5$['apiurl']='https://api-tjqytest.shzbkj.com',D$5$['logurl']='https://log-tjqytest.shzbkj.com',D$5$['payurl']='https://pay-tjqytest.shzbkj.com',D$5$['cdn']='https://cdn-tjqy-sq.shzbkj.com/weixin_0/',D$5$['spareCdn']='https://cdn-tjqy-ali.shzbkj.com/weixin_1/',D$5$['version_name']='weixin',D$5$['wxShield']=![]);D$5$['from_scene']=config['from']?config['from']:0x0,this['D$45Q$'](),this['D$45$Q'](),window['sdkLoginRetry']=0x5,D$Q54$({'title':'正在登录账号'}),zjpvm['login'](this['D$$5Q']['bind'](this));},window['sdkLoginRetry']=0x5,window['D$$5Q']=function(zyr51,g0bnp){if(zyr51==0x0&&g0bnp&&g0bnp['token']){D$5$['sdk_token']=g0bnp['token'];var _j9x$7=this;D$Q54$({'title':'正在验证账号'}),sendApi(D$5$['apiurl'],'User.login',{'platform':D$5$['sdk_name'],'partner_id':D$5$['partnerId'],'token':g0bnp['token'],'game_pkg':D$5$['pkgName'],'deviceId':D$5$['device_id'],'scene':'WX_'+D$5$['from_scene']},this['D$4Q5$']['bind'](this),D$4$5,D$$Q);}else g0bnp&&g0bnp['errMsg']&&window['sdkLoginRetry']>0x0&&(g0bnp['errMsg']['indexOf']('fail interrupted')!=-0x1||g0bnp['errMsg']['indexOf']('network api interrupted')!=-0x1||g0bnp['errMsg']['indexOf']('Network Error')!=-0x1||g0bnp['errMsg']['indexOf']('ERR_TIMED_OUT')!=-0x1||g0bnp['errMsg']['indexOf']('ERR_CONNECTION_ABORTED')!=-0x1||g0bnp['errMsg']['indexOf']('ERR_CONNECTION_RESET')!=-0x1)?(window['sdkLoginRetry']--,zjpvm['login'](this['D$$5Q']['bind'](this))):(window['toErrorAlarm'](0x1,'AKSDK.login fail: status='+zyr51+',errMsg='+(g0bnp?g0bnp['errMsg']:'')),window['D$5$Q']('sdkOnLoginError',JSON['stringify']({'status':zyr51,'data':g0bnp})),window['D$Q45$']('登录/注册失败'+(g0bnp&&g0bnp['errMsg']?'，'+g0bnp['errMsg']:'')));},window['D$4Q5$']=function(k4uh3){if(!k4uh3){window['toErrorAlarm'](0x2,'User.login fail: response is null'),window['D$5$Q']('userLoginError','response is null'),window['D$Q45$']('User.login failed');return;}if(k4uh3['state']!='success'){window['toErrorAlarm'](0x2,'User.login fail: state='+k4uh3['state']),window['D$5$Q']('userLoginError',JSON['stringify'](k4uh3)),window['D$Q45$']('User.login failed: '+k4uh3['state']);return;}D$5$['userId']=String(k4uh3['account']),D$5$['account']=String(k4uh3['account']),D$5$['platform']=String(k4uh3['platform']),D$5$['channel']=String(k4uh3['platform']),D$5$['platform_uid']=String(k4uh3['platform_uid']),D$5$['php_sign']=String(k4uh3['sign']),D$5$['php_signtime']=String(k4uh3['time']),D$5$['sign']='';var $j9x=this;D$Q54$({'title':'请求服务器'});var zrtuky=localStorage['getItem']('LastSer_'+D$5$['pkgName']+D$5$['account']);if(zrtuky&&zrtuky!=''){var $_f79=Number(zrtuky);$j9x['getCheckServers']($_f79);}else $j9x['getDefaultServers']();},window['getDefaultServers']=function(){var d82q4=this;sendApi(D$5$['apiurl'],'Server.defaultServer',{'partner_id':D$5$['partnerId'],'uid':D$5$['account'],'version':D$5$['version'],'game_pkg':D$5$['pkgName'],'device':D$5$['device_id']},d82q4['D$4Q$5']['bind'](d82q4),D$4$5,D$$Q);},window['D$4Q$5']=function(tzrf1){if(!tzrf1){window['toErrorAlarm'](0x3,'Server.defaultServer failed'),window['D$Q45$']('Server.defaultServer failed');return;}if(tzrf1['state']!='success'){window['toErrorAlarm'](0x3,'Server.defaultServer failed: '+tzrf1['state']),window['D$Q45$']('Server.defaultServer failed: '+tzrf1['state']);return;}if(!tzrf1['data']||tzrf1['data']['length']==0x0){window['toErrorAlarm'](0x3,'Server.defaultServer failed: data null'),window['D$Q45$']('服务器尚未开启');return;}this['updCurServer'](tzrf1);},window['getCheckServers']=function(h3yulk){var c2od8q=this;sendApi(D$5$['apiurl'],'Server.check_server',{'server_id':h3yulk,'time':Date['now']()/0x3e8},c2od8q['onUserLoginCheckServers']['bind'](c2od8q),D$4$5,D$$Q);},window['onUserLoginCheckServers']=function(klythu){if(!klythu){window['toErrorAlarm'](0x4,'Server.check_server failed'),this['getDefaultServers']();return;}if(klythu['state']!='success'){window['toErrorAlarm'](0x4,'Server.check_server failed: '+klythu['state']),this['getDefaultServers']();return;}if(!klythu['data']||klythu['data']['length']==0x0){window['toErrorAlarm'](0x4,'Server.check_server failed: data null'),this['getDefaultServers']();return;}this['updCurServer'](klythu),window['ServerLoading']&&window['ServerLoading']['instance']['openJumpTipsBtn']&&window['ServerLoading']['instance']['openJumpTipsBtn'](sdkInitRes['isShowSdkAge'],sdkInitRes['sdk_age_adaptation_icon'],sdkInitRes['sdk_age_adaptation_content'],sdkInitRes['coordinate_x'],sdkInitRes['coordinate_y']);},window['updCurServer']=function(pma06){D$5$['newRegister']=pma06['is_new']!=undefined?pma06['is_new']:0x0,D$5$['selectedServer']={'server_id':String(pma06['data'][0x0]['server_id']),'server_name':String(pma06['data'][0x0]['server_name']),'entry_ip':pma06['data'][0x0]['entry_ip'],'entry_port':parseInt(pma06['data'][0x0]['entry_port']),'status':D$54Q(pma06['data'][0x0]),'start_time':pma06['data'][0x0]['start_time'],'cdn':D$5$['cdn']},this['D$$54Q']();},window['D$$54Q']=function(){var ibnge0=this;if(D$5$['newRegister']==0x1){var $j6mxv=D$5$['selectedServer']['status'];if($j6mxv===-0x1||$j6mxv===0x0){window['toErrorAlarm'](0xf,'new register selectedServer status error: id='+D$5$['selectedServer']['id']+',status='+D$5$['selectedServer']['status']),window['D$Q45$']($j6mxv===-0x1?'当前服务器在维护中':'当前服务器尚未开启，敬请期待');return;}D$$Q45(0x0,D$5$['selectedServer']['server_id']),window['ServerLoading']['instance']['openLoading'](D$5$['newRegister']);}else window['ServerLoading']['instance']['openServer'](),D$Q5$4();window['D$54']=!![],window['D$$45Q'](),window['D$$5Q4']();},window['forceJumpMiniGame']=function(){zjpvm['switchGame'](function(f_1z57){console['log']('跳转小游戏'+JSON['stringify'](f_1z57));});},window['D$45Q$']=function(){sendApi(D$5$['apiurl'],'User.getCdnVersion',{'game_pkg':D$5$['pkgName'],'version_name':D$5$['version_name']},this['reqVersionConfigCallBack']['bind'](this),D$4$5,D$$Q);},window['reqVersionConfigCallBack']=function($57f_9){if(!$57f_9){window['toErrorAlarm'](0x5,'User.getCdnVersion failed'),window['D$Q45$']('User.getCdnVersion failed');return;}if($57f_9['state']!='success'){window['toErrorAlarm'](0x5,'User.getCdnVersion failed: state='+$57f_9['state']),window['D$Q45$']('User.getCdnVersion failed: state='+$57f_9['state']);return;}if(!$57f_9['data']||!$57f_9['data']['version']){window['toErrorAlarm'](0x5,'User.getCdnVersion failed: version='+($57f_9['data']&&$57f_9['data']['version'])),window['D$Q45$']('User.getCdnVersion failed: version='+($57f_9['data']&&$57f_9['data']['version']));return;}$57f_9['data']['cdn_url']&&$57f_9['data']['cdn_url']['length']>0xa&&(D$5$['base_cdn']=$57f_9['data']['cdn_url'],D$5$['cdn']=$57f_9['data']['cdn_url']),$57f_9['data']['version']&&(D$5$['lastVersion']=$57f_9['data']['version']),console['info']('lastVersion:'+D$5$['lastVersion']+', version_name:'+D$5$['version_name']),window['D$5$4']=!![],window['D$$45Q'](),window['D$$5Q4']();},window['pkgOptions'],window['D$45$Q']=function(){sendApi(D$5$['apiurl'],'Common.get_option_pkg',{'game_pkg':D$5$['pkgName']},this['D$4$Q5']['bind'](this),D$4$5,D$$Q);},window['D$4$Q5']=function(bena0){if(bena0&&bena0['state']==='success'&&bena0['data']){window['pkgOptions']=bena0['data'];for(var t5fr1 in bena0['data']){D$5$[t5fr1]=bena0['data'][t5fr1];}}else window['toErrorAlarm'](0xb,'Common.get_option_pkg failed'),console['info']('reqPkgOptionsCallBack '+bena0['state']);window['D$45']=!![],window['D$$5Q4']();},window['toPay']=function(f$9_7,zt1,neg0ab,mvp6x,$79f_5,abne0,w28o,zfrt51,q8w,h3k4u){$79f_5=String($79f_5);var z7f5_1=w28o,vjmp6a=zfrt51;D$5$['pay_infos'][$79f_5]={'productid':$79f_5,'productname':z7f5_1,'productdesc':vjmp6a,'roleid':f$9_7,'rolename':zt1,'rolelevel':neg0ab,'price':abne0,'callback':q8w},sendApi(D$5$['payurl'],'Order.order',{'game_pkg':D$5$['pkgName'],'server_id':D$5$['selectedServer']['server_id'],'server_name':D$5$['selectedServer']['server_name'],'level':neg0ab,'uid':D$5$['account'],'role_id':f$9_7,'role_name':zt1,'product_id':$79f_5,'product_name':z7f5_1,'product_desc':vjmp6a,'money':abne0,'partner_id':D$5$['partnerId']},toPayCallBack,D$4$5,D$$Q);},window['toPayCallBack']=function(t5y1zr){if(t5y1zr&&(t5y1zr['errCode']===0xc8||t5y1zr['state']=='success')){var n0ebag=D$5$['pay_infos'][String(t5y1zr['product_id'])];if(n0ebag['callback'])n0ebag['callback'](t5y1zr['product_id'],t5y1zr['cp_order_id'],-0x1);zjpvm['pay']({'cpbill':t5y1zr['cp_order_id'],'productid':t5y1zr['product_id'],'productname':n0ebag['productname'],'productdesc':n0ebag['productdesc'],'serverid':D$5$['selectedServer']['server_id'],'servername':D$5$['selectedServer']['server_name'],'roleid':n0ebag['roleid'],'rolename':n0ebag['rolename'],'rolelevel':n0ebag['rolelevel'],'price':n0ebag['price'],'extension':JSON['stringify']({'cp_order_id':t5y1zr['cp_order_id']})},function(ganp0b,_zr1f){n0ebag['callback']&&ganp0b==0x0&&n0ebag['callback'](t5y1zr['product_id'],t5y1zr['cp_order_id'],ganp0b);console['info'](JSON['stringify']({'type':'paycallback','status':ganp0b,'data':t5y1zr,'role_name':n0ebag['rolename']}));if(ganp0b===0x0){}else{if(ganp0b===0x1){}else{if(ganp0b===0x2){}}}});}else{var xvm6=t5y1zr?'errCode='+t5y1zr['errCode']+',state='+t5y1zr['state']+',info='+t5y1zr['info']:'获取订单失败';window['toErrorAlarm'](0xd,'Order.order fail: '+xvm6),alert(xvm6);}},window['D$4$5Q']=function(){},window['D$Q4$']=function(b0npm,lyh3u,trf51z,x6j$m,rktul){zjpvm['logCreateRole'](D$5$['selectedServer']['server_id'],D$5$['selectedServer']['server_name']||D$5$['selectedServer']['server_id'],b0npm,lyh3u,trf51z),sendApi(D$5$['apiurl'],'User.create_role',{'game_pkg':D$5$['pkgName'],'server_id':D$5$['selectedServer']['server_id'],'role_id':b0npm,'uid':D$5$['account'],'role_name':lyh3u,'role_type':x6j$m,'level':trf51z});},window['D$Q$4']=function(ienb,g0be,p6vamj,cw28q,$7x_j,coq28,z5f1r,na6m,ag0n,zr51_f){D$5$['roleId']=ienb,D$5$['roleName']=g0be,D$5$['roleLevel']=p6vamj,zjpvm['logEnterGame'](D$5$['selectedServer']['server_id'],D$5$['selectedServer']['server_name']||D$5$['selectedServer']['server_id'],ienb,g0be,p6vamj),sendApi(D$5$['apiurl'],'User.update_role',{'game_pkg':D$5$['pkgName'],'server_id':D$5$['selectedServer']['server_id'],'role_id':ienb,'uid':D$5$['account'],'role_name':g0be,'role_type':cw28q,'level':p6vamj,'evolution':$7x_j});},window['D$4Q$']=function(hk3l,p6majv,eban,frt51z,j7x,tlykur,lhuty,ajm6pv,yk3h,c28wq){D$5$['roleId']=hk3l,D$5$['roleName']=p6majv,D$5$['roleLevel']=eban,zjpvm['logRoleUpLevel'](D$5$['selectedServer']['server_id'],D$5$['selectedServer']['server_name']||D$5$['selectedServer']['server_id'],hk3l,p6majv,eban),sendApi(D$5$['apiurl'],'User.update_role',{'game_pkg':D$5$['pkgName'],'server_id':D$5$['selectedServer']['server_id'],'role_id':hk3l,'uid':D$5$['account'],'role_name':p6majv,'role_type':frt51z,'level':eban,'evolution':j7x});},window['D$4$Q']=function(jmvp6){},window['D$Q4']=function(j$xm6){zjpvm['share']('share',function(ampjv6){j$xm6&&j$xm6(ampjv6);});},window['openService']=function(){zjpvm['openService']();},window['microPortGuide']=function(){zjpvm['weiduanHelper']();},window['reqSMSCode']=function(nga0bp,jap,n0bage,$vjx69,$j6vm,ukyrt,abneg,pvam6j){pvam6j=pvam6j||D$5$['selectedServer']['server_id'],sendApi(D$5$['apiurl'],'User.get_code',{'phone':nga0bp,'role_id':jap,'uid':D$5$['account'],'game_pkg':D$5$['pkgName'],'partner_id':D$5$['partnerId'],'server_id':pvam6j},abneg,0x2,null,function(){return!![];});},window['onShow']=function(kthuyl){window['D$$Q4']=kthuyl,window['D$$Q4']&&window['D$4Q']&&(console['info']('小游戏切前台事件，场景值：'+window['D$4Q']['scene']),window['D$$Q4'](window['D$4Q']),window['D$4Q']=null);},window['D$$4Q']=function(bg0,ft,f95_$7,ft1rz5){window['send']('https://sdk.sh9130.com/game/?ct=min&ac=getInviter',{'game_pkg':window['D$5$']['pkgName'],'role_id':ft,'server_id':f95_$7},ft1rz5);},window['D$5Q4$']=function(j79_x,qc284d){function zty1(v6mjx$){var a0vp=[],a0pbng=[],duh4=window['config']['tmpId'];for(var x79f$ in duh4){var bgnae0=Number(x79f$);(!j79_x||!j79_x['length']||j79_x['indexOf'](bgnae0)!=-0x1)&&(a0pbng['push'](duh4[x79f$]),a0vp['push']([bgnae0,0x3]));}window['D$H4$Q5'](window['SDKVersion'],'2.4.4')>=0x0?(console['log']('调用订阅'),zjpvm['subscribeMessage']&&zjpvm['subscribeMessage'](a0pbng,function(z_71){console['log']('订阅回调：'),console['log'](z_71);if(z_71&&z_71['errMsg']=='requestSubscribeMessage:ok')for(var vj7$9x in duh4){if(z_71[duh4[vj7$9x]]=='accept'){var oqc82d=Number(vj7$9x);for(var x97j_$=0x0;x97j_$<a0vp['length'];x97j_$++){if(a0vp[x97j_$][0x0]==oqc82d){a0vp[x97j_$][0x1]=0x1;break;}}}}window['D$H4$Q5'](window['SDKVersion'],'2.10.1')>=0x0?wx['getSetting']({'withSubscriptions':!![],'success':function(dl438h){var ena0b=dl438h['subscriptionsSetting']['itemSettings'];if(ena0b){console['log']('获得订阅设置：'),console['log'](ena0b);for(var n0pgab in duh4){if(ena0b[duh4[n0pgab]]=='accept'){var m6$jx=Number(n0pgab);for(var _7x9$=0x0;_7x9$<a0vp['length'];_7x9$++){if(a0vp[_7x9$][0x0]==m6$jx){a0vp[_7x9$][0x1]=0x2;break;}}}}console['log'](a0vp),qc284d&&qc284d(a0vp);}else console['log']('获得订阅设置：没有长期订阅消息'),console['log'](dl438h),console['log'](a0vp),qc284d&&qc284d(a0vp);},'fail':function(){console['log']('获得订阅设置：失败'),console['log'](a0vp),qc284d&&qc284d(a0vp);}}):(console['log']('版本过低，获得订阅设置：失败\x20'+window['SDKVersion']),console['log'](a0vp),qc284d&&qc284d(a0vp));})):(console['log']('版本过低，不支持订阅\x20'+window['SDKVersion']),console['log'](a0vp),qc284d&&qc284d(a0vp)),wx['offTouchEnd'](zty1);}wx['onTouchEnd'](zty1);},window['D$5Q$4']={'isSuccess':![],'level':'100','isCharging':![]},window['D$54Q$']=function(mvap0){wx['getBatteryInfo']({'success':function(j7$9xv){var p0mn=window['D$5Q$4'];p0mn['isSuccess']=!![],p0mn['level']=Number(j7$9xv['level'])['toFixed'](0x0),p0mn['isCharging']=j7$9xv['isCharging'],mvap0&&mvap0(p0mn['isSuccess'],p0mn['level'],p0mn['isCharging']);},'fail':function(ngbie0){console['log']('调用获取电池信息失败',ngbie0['errMsg']);var x$jmv=window['D$5Q$4'];mvap0&&mvap0(x$jmv['isSuccess'],x$jmv['level'],x$jmv['isCharging']);}});},window['getNetworkType']=function(_f9157){wx['getNetworkType']({'success':function(tzy1kr){_f9157&&_f9157(!![],tzy1kr);},'fail':function(kzr1t){_f9157&&_f9157(![],kzr1t);}});},window['onNetworkStatusChange']=function(f7_95$){if(f7_95$)wx['onNetworkStatusChange'](f7_95$);},window['offNetworkStatusChange']=function(nbmp0a){wx['offNetworkStatusChange'](nbmp0a);},window['send']=function(_1,u3dlh4,tr1zf5,rkzuy,k43luh,fr1zt5,khu3ly,pabgn){if(rkzuy==undefined)rkzuy=0x1;wx['request']({'url':_1,'method':khu3ly||'GET','responseType':'text','data':u3dlh4,'header':{'content-type':pabgn||'application/json'},'success':function(z1f5_7){DEBUG&&console['log']('send.success:',_1,info,z1f5_7);if(z1f5_7&&z1f5_7['statusCode']==0xc8){var geibn0=z1f5_7['data'];!fr1zt5||fr1zt5(geibn0)?tr1zf5&&tr1zf5(geibn0):window['sendFail'](_1,u3dlh4,tr1zf5,rkzuy,k43luh,fr1zt5,z1f5_7);}else window['sendFail'](_1,u3dlh4,tr1zf5,rkzuy,k43luh,fr1zt5,z1f5_7);},'fail':function(yh3lk){DEBUG&&console['log']('send.fail:',_1,info,yh3lk),window['sendFail'](_1,u3dlh4,tr1zf5,rkzuy,k43luh,fr1zt5,yh3lk);},'complete':function(){}});},window['sendFail']=function(xj$79_,lkyrt,x$_j97,dul3h,xvj6m$,j9xv$,gbeni){dul3h-0x1>0x0?setTimeout(function(){window['send'](xj$79_,lkyrt,x$_j97,dul3h-0x1,xvj6m$,j9xv$);},0x3e8):xvj6m$&&xvj6m$(JSON['stringify']({'url':xj$79_,'response':gbeni}));},window['sendApi']=function(tuhykl,mv$6x,pvajm,ba0mp,ry1tzk,ukyhlt,yklrut){!pvajm&&(pvajm={});var kr1yz=Math['floor'](Date['now']()/0x3e8);pvajm['time']=kr1yz,pvajm['method']=mv$6x;var f5_7z1=Object['keys'](pvajm)['sort'](),ngeb='',lrkt='';for(var v7$9xj=0x0;v7$9xj<f5_7z1['length'];v7$9xj++){ngeb=ngeb+(v7$9xj==0x0?'':'&')+f5_7z1[v7$9xj]+pvajm[f5_7z1[v7$9xj]],lrkt=lrkt+(v7$9xj==0x0?'':'&')+f5_7z1[v7$9xj]+'='+encodeURIComponent(pvajm[f5_7z1[v7$9xj]]);}ngeb=ngeb+D$5$['apikey'];var ktyrz='sign='+md5(ngeb);send(tuhykl+'?'+lrkt+(lrkt==''?'':'&')+ktyrz,null,ba0mp,ry1tzk,ukyhlt,yklrut||function(_159){return _159['state']=='success';},null,'application/x-www-form-urlencoded');},window['D$54$Q']=function(kyz1,kyh3l){var bmna0=0x0;D$5$['selectedServer']&&(bmna0=D$5$['selectedServer']['server_id']),sendApi(D$5$['logurl'],'UserLog.reportUidStep',{'partnerId':D$5$['partnerId'],'gamePkg':D$5$['pkgName'],'logTime':Math['floor'](Date['now']()/0x3e8),'platformUid':D$5$['platform_uid'],'type':kyz1,'serverId':bmna0},null,0x2,null,function(){return!![];});},window['D$5$Q4']=function(a6nm0){sendApi(D$5$['apiurl'],'Server.getServerGroup',{'partner_id':D$5$['partnerId'],'uid':D$5$['account'],'version':D$5$['version'],'game_pkg':D$5$['pkgName'],'device':D$5$['device_id']},D$5$4Q,D$4$5,D$$Q);},window['D$5$4Q']=function(f97x){if(f97x&&f97x['state']==='success'&&f97x['data']){f97x['data']['unshift']({'id':-0x2,'name':'最新服'}),f97x['data']['unshift']({'id':-0x1,'name':'已有角色'}),D$5$['groupList']=f97x['data'];if(window['initPanel'])window['initPanel']['showGroupList']();}else{D$5$['hasGroupReq']=![];var hlu=f97x?f97x['state']:'';window['toErrorAlarm'](0x7,'Server.getServerGroup fail: '+hlu),window['D$Q45$']('reqServerGroupCallBack '+hlu);}},window['D$Q45']=function(tzuy){sendApi(D$5$['apiurl'],'Server.getServerByUid',{'partner_id':D$5$['partnerId'],'uid':D$5$['account'],'version':D$5$['version'],'game_pkg':D$5$['pkgName'],'device':D$5$['device_id']},D$Q54,D$4$5,D$$Q);},window['D$Q54']=function(o8wc2){D$5$['hasServerReq']=![];if(o8wc2&&o8wc2['state']==='success'&&o8wc2['data']){for(var hlk3yu=0x0;hlk3yu<o8wc2['data']['length'];hlk3yu++){o8wc2['data'][hlk3yu]['status']=D$54Q(o8wc2['data'][hlk3yu]);}D$5$['serverList'][-0x1]=window['changeServerName'](o8wc2['data']),window['initPanel']['showServerList'](-0x1);}else{var av6mp0=o8wc2?o8wc2['state']:'';window['toErrorAlarm'](0x8,'Server.getServerByUid fail: '+av6mp0),window['D$Q45$']('reqServerOwnerCallBack '+av6mp0);}},window['req_server_owner_status']=function(z1_r5){sendApi(D$5$['apiurl'],'Server.getServerByUid',{'partner_id':D$5$['partnerId'],'uid':D$5$['account'],'version':D$5$['version'],'game_pkg':D$5$['pkgName'],'device':D$5$['device_id']},z1_r5,D$4$5,D$$Q);},window['D$4Q5']=function(yhkltu,fz175){sendApi(D$5$['apiurl'],'Server.getServerByGroup',{'partner_id':D$5$['partnerId'],'uid':D$5$['account'],'version':D$5$['version'],'game_pkg':D$5$['pkgName'],'device':D$5$['device_id'],'server_group_id':fz175},D$45Q,D$4$5,D$$Q);},window['D$45Q']=function(dh3l){D$5$['hasServerReq']=![];if(dh3l&&dh3l['state']==='success'&&dh3l['data']&&dh3l['data']['data']){var doq28=dh3l['data']['server_group_id'],ty5r1z=[];for(var yulhkt=0x0;yulhkt<dh3l['data']['data']['length'];yulhkt++){dh3l['data']['data'][yulhkt]['status']=D$54Q(dh3l['data']['data'][yulhkt]),(ty5r1z['length']==0x0||dh3l['data']['data'][yulhkt]['status']!=0x0)&&(ty5r1z[ty5r1z['length']]=dh3l['data']['data'][yulhkt]);}D$5$['serverList'][doq28]=window['changeServerName'](ty5r1z),window['initPanel']['showServerList'](doq28);}else{var _79=dh3l?dh3l['state']:'';window['toErrorAlarm'](0x9,'Server.getServerByGroup fail: '+_79),window['D$Q45$']('reqServerListCallBack '+_79);}},window['D$H4$5']=function(klyht){sendApi(D$5$['apiurl'],'Server.getRecommendServerList',{'partner_id':D$5$['partnerId'],'uid':D$5$['account'],'version':D$5$['version'],'game_pkg':D$5$['pkgName'],'device':D$5$['device_id']},reqServerRecommendCallBack,D$4$5,D$$Q);},window['reqServerRecommendCallBack']=function(tuyklr){D$5$['hasServerReq']=![];if(tuyklr&&tuyklr['state']==='success'&&tuyklr['data']){for(var yulk3h=0x0;yulk3h<tuyklr['data']['length'];yulk3h++){tuyklr['data'][yulk3h]['status']=D$54Q(tuyklr['data'][yulk3h]);}D$5$['serverList'][-0x2]=window['changeServerName'](tuyklr['data']),window['initPanel']['showServerList'](-0x2);}else{var $_j=tuyklr?tuyklr['state']:'';window['toErrorAlarm'](0xa,'Server.getRecommendServerList fail: '+$_j),alert('reqServerRecommendCallBack '+$_j);}},window['changeServerName']=function(hld){return hld;},window['D$5Q4']=function(ytkrl,_r1z5f){ytkrl=ytkrl||D$5$['selectedServer']['server_id'],sendApi(D$5$['apiurl'],'Common.get_anno',{'type':'4','game_pkg':D$5$['pkgName'],'server_id':ytkrl},_r1z5f);},window['req_multi_server_notice']=function(m0pn6,nm0pba,bnga,jpmva){bnga=bnga||D$5$['selectedServer']['server_id'],sendApi(D$5$['apiurl'],'Common.get_new_anno',{'type':m0pn6,'game_pkg':nm0pba,'server_id':bnga},jpmva);},window['req_privacy']=function(apmbn,oc28qw){sendApi(D$5$['apiurl'],'Common.get_option_pkg_detail',{'game_pkg':apmbn},oc28qw);},window['D$54Q']=function(gben0a){if(gben0a){if(gben0a['status']==0x1){if(gben0a['online_status']==0x1)return 0x2;else return 0x1;}else return gben0a['status']==0x0?0x0:-0x1;}return-0x1;},window['D$$Q45']=function(l8hd34,pga0bn){D$5$['last_check_ban']={'step':l8hd34,'server_id':pga0bn},D$Q54$({'title':'正在验证角色'}),sendApi(D$5$['apiurl'],'User.checkInfo',{'partner_id':D$5$['partnerId'],'uid':D$5$['account'],'game_pkg':D$5$['pkgName'],'server_id':pga0bn,'platform':D$5$['platform'],'platform_uid':D$5$['platform_uid'],'check_login_time':D$5$['php_signtime'],'check_login_sign':D$5$['php_sign'],'version_name':D$5$['version_name']},D$$Q54,D$4$5,D$$Q,function(c8dq24){return c8dq24['state']=='success'||c8dq24['info']=='time_err'||c8dq24['info']=='sign_err';});},window['D$$Q54']=function(ma0p6){var n0ap6m=this;if(ma0p6&&ma0p6['state']==='success'&&ma0p6['data']){var y3ukh=D$5$['selectedServer'];y3ukh['channel_num']=D$5$['channelNum'],y3ukh['sign']=String(ma0p6['data']['login_sign']),y3ukh['tick']=parseInt(ma0p6['data']['time']);if(ma0p6['data']['server_num'])y3ukh['server_num']=parseInt(ma0p6['data']['server_num']);else y3ukh['server_num']=parseInt(ma0p6['data']['server_id']);y3ukh['is_domain']=0x0,y3ukh['cdn']=D$5$['base_cdn'],y3ukh['resver']=ma0p6['data']['cdn_version'],y3ukh['server_options']=ma0p6['data']['server_options'];if(ma0p6['data']['max_create'])y3ukh['max_create']=parseInt(ma0p6['data']['max_create']);console['log']('server_options\uFF1A'+JSON['stringify'](y3ukh['server_options'])),D$5$['newRegister']==0x1&&y3ukh['server_options']&&y3ukh['server_options']['show_btn']==0x1&&(D$5$['showGetBtn']=0x1,window['ServerLoading']['instance']['D$H$5']()),D$$4Q5();}else{if(D$5$['last_check_ban']['step']>=0x3){var _7x9f$=ma0p6?ma0p6['state']:'';window['toErrorAlarm'](0xc,'User.checkInfo fail: '+_7x9f$),D$$Q(JSON['stringify'](ma0p6)),window['D$Q45$']('User.checkInfo failed: '+_7x9f$);}else sendApi(D$5$['apiurl'],'User.login',{'platform':D$5$['sdk_name'],'partner_id':D$5$['partnerId'],'token':D$5$['sdk_token'],'game_pkg':D$5$['pkgName'],'deviceId':D$5$['device_id'],'scene':'WX_'+D$5$['from_scene']},function(hu43){if(!hu43||hu43['state']!='success'){window['D$Q45$']('User.login failed: '+hu43&&hu43['state']);return;}D$5$['php_sign']=String(hu43['sign']),D$5$['php_signtime']=String(hu43['time']),setTimeout(function(){D$$Q45(D$5$['last_check_ban']['step']+0x1,D$5$['last_check_ban']['server_id']);},0x5dc);},D$4$5,D$$Q,function(x$69jv){return x$69jv['state']=='success'||x$69jv['state']=='failed';});}},window['D$$4Q5']=function(){ServerLoading['instance']['openLoading'](D$5$['newRegister']),window['D$4$']=!![],window['D$$5Q4']();},window['D$$45Q']=function(){if(window['D$$4']&&window['D$54$']&&window['loadServerRes']&&window['loadLoadingRes']&&window['D$5$4']&&window['D$54']){if(!window['MainWX']['instance']){console['log']('Main 初始化'+window['MainWX']['instance']);var hktylu=wx['getLaunchOptionsSync'](),v$mxj6=hktylu['scene']?hktylu['scene']:0x0,neg={'cdn':window['D$5$']['cdn'],'spareCdn':window['D$5$']['spareCdn'],'newRegister':window['D$5$']['newRegister'],'wxPC':window['D$5$']['wxPC'],'wxIOS':window['D$5$']['wxIOS'],'wxAndroid':window['D$5$']['wxAndroid'],'wxParam':{'limitLoad':window['D$5$']['D$HQ4$5'],'benchmarkLevel':window['D$5$']['D$HQ54$'],'wxFrom':window['config']['from']=='txcps'?0x1:0x0,'wxSDKVersion':window['SDKVersion']},'configType':window['D$5$']['configType'],'exposeType':window['D$5$']['exposeType'],'scene':v$mxj6};new window['MainWX'](neg,window['D$5$']['lastVersion'],window['D$HQ45$']);}}},window['D$$5Q4']=function(){if(window['D$$4']&&window['D$54$']&&window['loadServerRes']&&window['loadLoadingRes']&&window['D$5$4']&&window['D$54']&&window['D$4$']&&window['D$45']){D$Q5$4();if(!D$$45){D$$45=!![];if(!window['MainWX']['instance'])window['D$$45Q']();var mpj6xv=0x0,x9jv$=wx['getMenuButtonBoundingClientRect']();x9jv$&&(window['D$5$']['wxPhone']&&(mpj6xv=x9jv$['top']),console['info']('MenuButton  top:'+x9jv$['top']+',bottom:'+x9jv$['bottom']+',left:'+x9jv$['left']+',right:'+x9jv$['right']+',width:'+x9jv$['width']+',height:'+x9jv$['height']));var c4d38={};for(const tluhk in D$5$['selectedServer']){c4d38[tluhk]=D$5$['selectedServer'][tluhk];}var o2d8={'channel':window['D$5$']['channel'],'account':window['D$5$']['account'],'userId':window['D$5$']['userId'],'cdn':window['D$5$']['cdn'],'data':window['D$5$']['data'],'package':window['D$5$']['package'],'newRegister':window['D$5$']['newRegister'],'pkgName':window['D$5$']['pkgName'],'partnerId':window['D$5$']['partnerId'],'platform_uid':window['D$5$']['platform_uid'],'deviceId':window['D$5$']['device_id'],'selectedServer':c4d38,'configType':window['D$5$']['configType'],'exposeType':window['D$5$']['exposeType'],'debugUsers':window['D$5$']['debugUsers'],'wxMenuTop':mpj6xv,'wxShield':window['D$5$']['wxShield']};if(window['pkgOptions'])for(var ktlry in window['pkgOptions']){o2d8[ktlry]=window['pkgOptions'][ktlry];}window['MainWX']['instance']['D$$5H'](o2d8);if(D$5$['selectedServer']&&D$5$['selectedServer']['server_id'])localStorage['setItem']('LastSer_'+D$5$['pkgName']+D$5$['account'],D$5$['selectedServer']['server_id']);}}else console['info']('\u3010登录\u3011loadProbPkg:'+window['D$$4']+',loadMainPkg:'+window['D$54$']+',loadServerRes:'+window['loadServerRes']+',loadLoadingRes:'+window['loadLoadingRes']+',loadVersion:'+window['D$5$4']+',loadServer:'+window['D$54']+',isCheckBan:'+window['D$4$']+',loadOption:'+window['D$45']);};