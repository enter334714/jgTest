var H=wx.$F;!function(C$Tzs,C$Tzo,C$Tzt){function C$Tza(C$Tzt,C$Tze){if(!(C$Tzr=C$Tzo[C$Tzt])){var C$Tzi=C$Tzs[C$Tzt];if(!C$Tzi)return;var C$Tzn={},C$Tzr=C$Tzo[C$Tzt]={exports:C$Tzn};C$Tzi[0](function(C$Tzt){return C$Tza(C$Tzi[1][C$Tzt]||C$Tzt);},C$Tzr,C$Tzn);}return C$Tzr.exports;}for(var C$Tze=0;C$Tze<C$Tzt.length;C$Tze++)C$Tza(C$Tzt[C$Tze]);}({1:[function(C$Tzt,C$Tze,C$Tzi){C$Tze.exports={1001:H[4],1002:H[5],1003:H[6],1004:H[7],1005:H[8],1006:H[9],1007:H[10],1008:H[11],1009:H[12],1010:H[13],1011:H[14],1012:H[15],1013:H[16],1014:H[17],1015:H[18],1016:H[19],1019:H[20],1020:H[21],1021:H[22],1022:H[23],1023:H[24],1024:H[25],1025:H[26],1026:H[27],1027:H[28],1028:H[29],1029:H[30],1030:H[31],1031:H[32],1100:H[33],1101:H[34],1200:H[35],1201:H[36],1203:H[35],1204:H[37],1205:H[38],1206:H[39],1207:H[40],1208:H[41],1209:H[42],1210:H[43],1211:H[39],1212:H[40],1213:H[44],1214:H[42],1215:H[43],1216:H[45],1300:H[46],1400:H[47],1404:H[48],1405:H[49],1406:H[50],1408:H[51],1502:H[52],1503:H[53],1504:H[54],1505:H[55],1506:H[56],1507:H[57],1508:H[58],1509:H[59],1510:H[60],1511:H[61],1513:H[62],1605:H[63],1606:H[64],1610:H[65],1612:H[66],1613:H[67],1617:H[64],1618:H[68],1619:H[69],1620:H[70],1623:H[71],1624:H[72],1625:H[73],1626:H[74],1627:H[75],1632:H[76],1633:H[77],1634:H[78],1635:H[79],1636:H[80],1637:H[81],1638:H[82],1639:H[83],1800:H[84],1801:H[85],1802:H[86],1803:H[87],1900:H[88],2e3:H[89],2200:H[90],2201:H[91],2300:H[92],2400:H[93],2602:H[94],2603:H[95],2606:H[96],2607:H[97],2608:H[98],2609:H[99],2610:H[100],2614:H[101],2616:H[102],2617:H[103],2618:H[104],2619:H[105],2623:H[106],2625:H[107],2626:H[108],2627:H[109],2628:H[110],2712:H[111],3005:H[112],3006:H[113],3007:H[114],3103:H[115],3112:H[115],3113:H[116],3116:H[117],3117:H[118],3119:H[119],3120:H[120],3300:H[121],3400:H[122],3500:H[123],3501:H[124],3502:H[125],3503:H[126],3504:H[127],3505:H[128],3506:H[129],3507:H[130],3508:H[131],3509:H[132],3510:H[133],3511:H[134],3600:H[135],3601:H[136],3602:H[137],3603:H[138],3604:H[139],3605:H[140],3606:H[141],3607:H[142],3608:H[143],3609:H[144],3610:H[145],3611:H[146],3612:H[147],3613:H[148],3614:H[149],3615:H[150],3616:H[151],3617:H[152],3618:H[153],3619:H[154],3620:H[155],3621:H[156],3622:H[157],3623:H[158],3624:H[159],3625:H[160],3626:H[161],3627:H[162],3628:H[163],3633:H[164],3634:H[165],3635:H[166],3636:H[167],3637:H[168],3638:H[169],3639:H[170],3640:H[171],3641:H[172],3642:H[173],3643:H[174],3644:H[175],3645:H[176],3646:H[177],3647:H[178],3648:H[179],3649:H[180],3651:H[181],3652:"Failed to `new %s()` under the hood, %s\nIt is used for getting default values declared in TypeScript in the first place.\nPlease ensure the constructor can be called during the script's initialization.",3653:'Please do not specifiy "default" attribute in decorator of "%s" property in "%s" class.  \nDefault value must be initialized at their declaration:\n \n// Before:\n@property({\n  type: cc.Integer\n  default: 0  // <--\n})\nmyProp;\n// After:\n@property({\n  type: cc.Integer\n})\nmyProp = 0;   // <--',3654:'Please specifiy a default value for "%s.%s" at its declaration:\n \n// Before:\n@property(...)\nmyProp;\n// After:\n@property(...)\nmyProp = 0;',3655:'Can not specifiy "get" or "set"  attribute in decorator for "%s" property in "%s" class.  \nPlease use:\n \n@property(...)\nget %s () {\n    ...\n}\n@property\nset %s (value) {\n    ...\n}',3656:H[182],3700:H[183],3701:H[184],3800:H[185],3801:H[186],3802:H[187],3803:H[185],3804:H[188],3805:H[189],3806:H[190],3807:H[191],3808:H[192],3809:H[193],3810:H[194],3811:H[195],3812:H[196],3813:H[197],3814:H[198],3815:H[199],3816:H[200],3817:H[201],3818:H[202],3819:H[203],3820:H[204],3821:H[205],3900:H[206],3901:H[207],3902:H[208],3903:H[209],3904:H[210],3905:H[211],3906:H[212],3907:H[213],3912:H[214],4e3:H[215],4003:H[216],4004:H[217],4011:H[218],4012:H[219],4013:H[220],4200:H[221],4201:H[222],4202:H[223],4300:H[224],4400:H[225],4600:H[226],4700:H[227],4800:H[228],4901:H[229],4902:H[230],4903:H[231],4914:H[232],4915:H[233],4916:H[234],4920:H[235],4921:H[236],4922:H[237],4923:H[238],4924:H[239],4925:H[240],4926:H[241],4927:H[242],4928:H[243],4929:H[244],4930:H[245],4931:H[246],4932:H[247],4933:H[248],5e3:H[249],5001:H[250],5100:H[251],5200:H[252],5201:H[253],5202:H[254],5300:H[255],5301:H[256],5302:H[257],5402:H[258],5403:H[259],5404:H[260],5405:H[261],5406:H[262],5500:H[263],5501:H[264],5502:H[265],5503:H[266],5504:H[267],5505:H[268],5506:H[269],5507:H[270],5508:H[271],5509:H[272],5510:H[273],5511:H[274],5512:H[275],5513:H[276],5514:H[277],5515:H[278],5516:H[279],5517:H[280],5601:H[281],5602:H[282],5603:H[283],5700:H[284],5800:H[285],5801:H[286],5802:H[287],5900:H[288],5901:H[289],5902:H[290],6e3:H[291],6001:H[292],6017:H[293],6018:H[294],6019:H[295],6020:H[296],6021:H[297],6022:H[298],6023:H[299],6024:H[300],6025:H[301],6026:H[302],6027:H[303],6028:H[304],6029:H[305],6030:H[306],6031:H[307],6032:H[308],6400:H[309],6402:H[310],6500:H[311],6600:H[312],6601:"Can't find testFunc for (%s, $s).",6700:H[313],6800:H[314],6801:H[315],6900:H[316],6901:H[317],6902:H[318],6903:H[319],6904:H[320],6905:H[321],7e3:H[322],7001:H[323],7002:H[324],7003:H[325],7100:H[326],7101:H[327],7200:H[328],7201:H[329],7202:H[330],7203:H[331],7210:H[332],7211:H[333],7215:H[334],7216:H[335],7217:H[336],7218:H[337],7219:H[338],7221:H[339],7222:H[340],7236:H[341],7237:H[342],7238:H[343],7239:H[344],7240:H[345],7241:H[346],7401:H[347],7402:H[348],7501:H[349],7502:H[350],7503:H[348],7504:H[351],7505:H[352],7506:"Failed to load spine atlas '$s'",7507:H[353],7508:H[354],7509:H[355],7510:H[355],7600:H[356],7601:H[357],7602:H[358],7603:H[359],7604:H[360],7605:H[361],7700:H[362],7701:H[363],7702:H[364],7800:H[365],7801:H[366],7802:H[366],7803:H[367],7804:H[368],7805:H[369],7900:H[370],7901:H[371],7902:H[372],7903:H[373],7904:H[374],7905:H[371],7906:H[372],7907:H[375],7908:H[376],7909:H[377],8e3:H[378],8001:H[379],8002:H[380],8003:H[381],8103:H[382],8104:H[383],8105:H[384],8106:H[385],8107:H[386],8108:H[387],8109:H[388],8200:H[389],8300:H[390],8301:H[391],8400:H[392],8401:H[393],9e3:H[394],9001:H[395],9100:H[396],9101:H[397],9102:H[398],9103:H[399],9104:H[400],9105:H[401],9106:H[402],9107:H[403],9200:H[404],"0100":H[405]};},{}],2:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[406]);var C$Tzn=C$Tzt(H[407]);cc.Action=cc.Class({name:H[408],ctor:function(){this.originalTarget=null,this.target=null,this.tag=cc.Action.TAG_INVALID;},clone:function(){var C$Tzt=new cc.Action();return C$Tzt.originalTarget=null,C$Tzt.target=null,C$Tzt.tag=this.tag,C$Tzt;},isDone:function(){return!0;},startWithTarget:function(C$Tzt){this.originalTarget=C$Tzt,this.target=C$Tzt;},stop:function(){this.target=null;},step:function(C$Tzt){cc.logID(1006);},update:function(C$Tzt){cc.logID(1007);},getTarget:function(){return this.target;},setTarget:function(C$Tzt){this.target=C$Tzt;},getOriginalTarget:function(){return this.originalTarget;},setOriginalTarget:function(C$Tzt){this.originalTarget=C$Tzt;},getTag:function(){return this.tag;},setTag:function(C$Tzt){this.tag=C$Tzt;},retain:function(){},release:function(){}}),cc.Action.TAG_INVALID=-1,cc.FiniteTimeAction=cc.Class({name:H[409],extends:cc.Action,ctor:function(){this._duration=0;},getDuration:function(){return this._duration*(this._timesForRepeat||1);},setDuration:function(C$Tzt){this._duration=C$Tzt;},reverse:function(){return cc.logID(1008),null;},clone:function(){return new cc.FiniteTimeAction();}}),cc.Speed=cc.Class({name:H[410],extends:cc.Action,ctor:function(C$Tzt,C$Tze){this._speed=0,this._innerAction=null,C$Tzt&&this.initWithAction(C$Tzt,C$Tze);},getSpeed:function(){return this._speed;},setSpeed:function(C$Tzt){this._speed=C$Tzt;},initWithAction:function(C$Tzt,C$Tze){return C$Tzt?(this._innerAction=C$Tzt,this._speed=C$Tze,!0):(cc.errorID(1021),!1);},clone:function(){var C$Tzt=new cc.Speed();return C$Tzt.initWithAction(this._innerAction.clone(),this._speed),C$Tzt;},startWithTarget:function(C$Tzt){cc.Action.prototype.startWithTarget.call(this,C$Tzt),this._innerAction.startWithTarget(C$Tzt);},stop:function(){this._innerAction.stop(),cc.Action.prototype.stop.call(this);},step:function(C$Tzt){this._innerAction.step(C$Tzt*this._speed);},isDone:function(){return this._innerAction.isDone();},reverse:function(){return new cc.Speed(this._innerAction.reverse(),this._speed);},setInnerAction:function(C$Tzt){this._innerAction!==C$Tzt&&(this._innerAction=C$Tzt);},getInnerAction:function(){return this._innerAction;}}),cc.speed=function(C$Tzt,C$Tze){return new cc.Speed(C$Tzt,C$Tze);},cc.Follow=cc.Class({name:H[411],extends:cc.Action,ctor:function(C$Tzt,C$Tze){this._followedNode=null,this._boundarySet=!1,this._boundaryFullyCovered=!1,this._halfScreenSize=null,this._fullScreenSize=null,this.leftBoundary=0,this.rightBoundary=0,this.topBoundary=0,this.bottomBoundary=0,this._worldRect=cc.rect(0,0,0,0),C$Tzt&&(C$Tze?this.initWithTarget(C$Tzt,C$Tze):this.initWithTarget(C$Tzt));},clone:function(){var C$Tzt=new cc.Follow(),C$Tze=this._worldRect,C$Tze=new cc.Rect(C$Tze.x,C$Tze.y,C$Tze.width,C$Tze.height);return C$Tzt.initWithTarget(this._followedNode,C$Tze),C$Tzt;},isBoundarySet:function(){return this._boundarySet;},setBoudarySet:function(C$Tzt){this._boundarySet=C$Tzt;},initWithTarget:function(C$Tzt,C$Tze){if(!C$Tzt)return cc.errorID(1022),!1;C$Tze=C$Tze||cc.rect(0,0,0,0),this._followedNode=C$Tzt,this._worldRect=C$Tze,this._boundarySet=!(0===C$Tze.width&&0===C$Tze.height),this._boundaryFullyCovered=!1;C$Tzt=cc.winSize;return this._fullScreenSize=cc.v2(C$Tzt.width,C$Tzt.height),this._halfScreenSize=this._fullScreenSize.mul(.5),this._boundarySet&&(this.leftBoundary=-(C$Tze.x+C$Tze.width-this._fullScreenSize.x),this.rightBoundary=-C$Tze.x,this.topBoundary=-C$Tze.y,this.bottomBoundary=-(C$Tze.y+C$Tze.height-this._fullScreenSize.y),this.rightBoundary<this.leftBoundary&&(this.rightBoundary=this.leftBoundary=(this.leftBoundary+this.rightBoundary)/2),this.topBoundary<this.bottomBoundary&&(this.topBoundary=this.bottomBoundary=(this.topBoundary+this.bottomBoundary)/2),this.topBoundary===this.bottomBoundary&&this.leftBoundary===this.rightBoundary&&(this._boundaryFullyCovered=!0)),!0;},step:function(C$Tzt){var C$Tze=this.target.convertToWorldSpaceAR(cc.Vec2.ZERO),C$Tzi=this._followedNode.convertToWorldSpaceAR(cc.Vec2.ZERO),C$Tze=C$Tze.sub(C$Tzi),C$Tzi=this.target.parent.convertToNodeSpaceAR(C$Tze.add(this._halfScreenSize));this._boundarySet?this._boundaryFullyCovered||this.target.setPosition(C$Tzn.clampf(C$Tzi.x,this.leftBoundary,this.rightBoundary),C$Tzn.clampf(C$Tzi.y,this.bottomBoundary,this.topBoundary)):this.target.setPosition(C$Tzi.x,C$Tzi.y);},isDone:function(){return!this._followedNode.activeInHierarchy;},stop:function(){this.target=null,cc.Action.prototype.stop.call(this);}}),cc.follow=function(C$Tzt,C$Tze){return new cc.Follow(C$Tzt,C$Tze);};},{"../core/platform/CCClass":189,"../core/utils/misc":264}],3:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzh(C$Tzt,C$Tze){return C$Tzt[Math.min(C$Tzt.length-1,Math.max(C$Tze,0))];}function C$Tzs(C$Tzt){for(var C$Tze=[],C$Tzi=C$Tzt.length-1;0<=C$Tzi;C$Tzi--)C$Tze.push(cc.v2(C$Tzt[C$Tzi].x,C$Tzt[C$Tzi].y));return C$Tze;}function C$Tzn(C$Tzt){for(var C$Tze=[],C$Tzi=0;C$Tzi<C$Tzt.length;C$Tzi++)C$Tze.push(cc.v2(C$Tzt[C$Tzi].x,C$Tzt[C$Tzi].y));return C$Tze;}cc.CardinalSplineTo=cc.Class({name:H[412],extends:cc.ActionInterval,ctor:function(C$Tzt,C$Tze,C$Tzi){this._points=[],this._deltaT=0,this._tension=0,this._previousPosition=null,this._accumulatedDiff=null,void 0!==C$Tzi&&cc.CardinalSplineTo.prototype.initWithDuration.call(this,C$Tzt,C$Tze,C$Tzi);},initWithDuration:function(C$Tzt,C$Tze,C$Tzi){return C$Tze&&0!==C$Tze.length?!!cc.ActionInterval.prototype.initWithDuration.call(this,C$Tzt)&&(this.setPoints(C$Tze),this._tension=C$Tzi,!0):(cc.errorID(1024),!1);},clone:function(){var C$Tzt=new cc.CardinalSplineTo();return C$Tzt.initWithDuration(this._duration,C$Tzn(this._points),this._tension),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt),this._deltaT=1/(this._points.length-1),this._previousPosition=cc.v2(this.target.x,this.target.y),this._accumulatedDiff=cc.v2(0,0);},update:function(C$Tzt){C$Tzt=this._computeEaseTime(C$Tzt);var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc=this._points,C$Tzl=(C$Tzt=1===C$Tzt?(C$Tzi=C$Tzc.length-1,1):(C$Tzt-(C$Tze=this._deltaT)*(C$Tzi=0|C$Tzt/C$Tze))/C$Tze,C$Tze=C$Tzh(C$Tzc,C$Tzi-1),C$Tzo=C$Tzh(C$Tzc,+C$Tzi),C$Tzs=C$Tzh(C$Tzc,C$Tzi+1),C$Tzc=C$Tzh(C$Tzc,C$Tzi+2),C$Tzi=this._tension,C$Tzl=(C$Tzi=(1-C$Tzi)/2)*(2*(C$Tzr=(C$Tzt=C$Tzt)*C$Tzt)-(C$Tzn=C$Tzr*C$Tzt)-C$Tzt),C$Tza=C$Tzi*(C$Tzr-C$Tzn)+(2*C$Tzn-3*C$Tzr+1),C$Tzt=C$Tzi*(C$Tzn-2*C$Tzr+C$Tzt)+(-2*C$Tzn+3*C$Tzr),C$Tzi*=C$Tzn-C$Tzr,C$Tzn=C$Tze.x*C$Tzl+C$Tzo.x*C$Tza+C$Tzs.x*C$Tzt+C$Tzc.x*C$Tzi,C$Tzr=C$Tze.y*C$Tzl+C$Tzo.y*C$Tza+C$Tzs.y*C$Tzt+C$Tzc.y*C$Tzi,cc.v2(C$Tzn,C$Tzr));cc.macro.ENABLE_STACKABLE_ACTIONS&&(C$Tzo=this.target.x-this._previousPosition.x,C$Tza=this.target.y-this._previousPosition.y,0==C$Tzo&&0===C$Tza||(C$Tzo=(C$Tzs=this._accumulatedDiff).x+C$Tzo,C$Tza=C$Tzs.y+C$Tza,C$Tzs.x=C$Tzo,C$Tzs.y=C$Tza,C$Tzl.x+=C$Tzo,C$Tzl.y+=C$Tza)),this.updatePosition(C$Tzl);},reverse:function(){var C$Tzt=C$Tzs(this._points);return cc.cardinalSplineTo(this._duration,C$Tzt,this._tension);},updatePosition:function(C$Tzt){this.target.setPosition(C$Tzt),this._previousPosition=C$Tzt;},getPoints:function(){return this._points;},setPoints:function(C$Tzt){this._points=C$Tzt;}}),cc.cardinalSplineTo=function(C$Tzt,C$Tze,C$Tzi){return new cc.CardinalSplineTo(C$Tzt,C$Tze,C$Tzi);},cc.CardinalSplineBy=cc.Class({name:H[413],extends:cc.CardinalSplineTo,ctor:function(C$Tzt,C$Tze,C$Tzi){this._startPosition=cc.v2(0,0),void 0!==C$Tzi&&this.initWithDuration(C$Tzt,C$Tze,C$Tzi);},startWithTarget:function(C$Tzt){cc.CardinalSplineTo.prototype.startWithTarget.call(this,C$Tzt),this._startPosition.x=C$Tzt.x,this._startPosition.y=C$Tzt.y;},reverse:function(){for(var C$Tzt,C$Tze=this._points.slice(),C$Tzi=C$Tze[0],C$Tzn=1;C$Tzn<C$Tze.length;++C$Tzn)C$Tzt=C$Tze[C$Tzn],C$Tze[C$Tzn]=C$Tzt.sub(C$Tzi),C$Tzi=C$Tzt;var C$Tzr=C$Tzs(C$Tze),C$Tzi=C$Tzr[C$Tzr.length-1];C$Tzr.pop(),C$Tzi.x=-C$Tzi.x,C$Tzi.y=-C$Tzi.y,C$Tzr.unshift(C$Tzi);for(C$Tzn=1;C$Tzn<C$Tzr.length;++C$Tzn)(C$Tzt=C$Tzr[C$Tzn]).x=-C$Tzt.x,C$Tzt.y=-C$Tzt.y,C$Tzt.x+=C$Tzi.x,C$Tzt.y+=C$Tzi.y,C$Tzi=C$Tzr[C$Tzn]=C$Tzt;return cc.cardinalSplineBy(this._duration,C$Tzr,this._tension);},updatePosition:function(C$Tzt){var C$Tze=this._startPosition,C$Tzi=C$Tzt.x+C$Tze.x,C$Tzt=C$Tzt.y+C$Tze.y;this._previousPosition.x=C$Tzi,this._previousPosition.y=C$Tzt,this.target.setPosition(C$Tzi,C$Tzt);},clone:function(){var C$Tzt=new cc.CardinalSplineBy();return C$Tzt.initWithDuration(this._duration,C$Tzn(this._points),this._tension),C$Tzt;}}),cc.cardinalSplineBy=function(C$Tzt,C$Tze,C$Tzi){return new cc.CardinalSplineBy(C$Tzt,C$Tze,C$Tzi);},cc.CatmullRomTo=cc.Class({name:H[414],extends:cc.CardinalSplineTo,ctor:function(C$Tzt,C$Tze){C$Tze&&this.initWithDuration(C$Tzt,C$Tze);},initWithDuration:function(C$Tzt,C$Tze){return cc.CardinalSplineTo.prototype.initWithDuration.call(this,C$Tzt,C$Tze,.5);},clone:function(){var C$Tzt=new cc.CatmullRomTo();return C$Tzt.initWithDuration(this._duration,C$Tzn(this._points)),C$Tzt;}}),cc.catmullRomTo=function(C$Tzt,C$Tze){return new cc.CatmullRomTo(C$Tzt,C$Tze);},cc.CatmullRomBy=cc.Class({name:H[415],extends:cc.CardinalSplineBy,ctor:function(C$Tzt,C$Tze){C$Tze&&this.initWithDuration(C$Tzt,C$Tze);},initWithDuration:function(C$Tzt,C$Tze){return cc.CardinalSplineTo.prototype.initWithDuration.call(this,C$Tzt,C$Tze,.5);},clone:function(){var C$Tzt=new cc.CatmullRomBy();return C$Tzt.initWithDuration(this._duration,C$Tzn(this._points)),C$Tzt;}}),cc.catmullRomBy=function(C$Tzt,C$Tze){return new cc.CatmullRomBy(C$Tzt,C$Tze);};},{}],4:[function(C$Tzh,C$Tzu,C$Tz_){"use strict";cc.easeIn=function(C$Tzt){return{_rate:C$Tzt,easing:function(C$Tzt){return Math.pow(C$Tzt,this._rate);},reverse:function(){return cc.easeIn(1/this._rate);}};},cc.easeOut=function(C$Tzt){return{_rate:C$Tzt,easing:function(C$Tzt){return Math.pow(C$Tzt,1/this._rate);},reverse:function(){return cc.easeOut(1/this._rate);}};},cc.easeInOut=function(C$Tzt){return{_rate:C$Tzt,easing:function(C$Tzt){return(C$Tzt*=2)<1?.5*Math.pow(C$Tzt,this._rate):1-.5*Math.pow(2-C$Tzt,this._rate);},reverse:function(){return cc.easeInOut(this._rate);}};};var C$Tzt={easing:function(C$Tzt){return 0===C$Tzt?0:Math.pow(2,10*(C$Tzt-1));},reverse:function(){return C$Tze;}},C$Tze=(cc.easeExponentialIn=function(){return C$Tzt;},{easing:function(C$Tzt){return 1===C$Tzt?1:1-Math.pow(2,-10*C$Tzt);},reverse:function(){return C$Tzt;}}),C$Tzi=(cc.easeExponentialOut=function(){return C$Tze;},{easing:function(C$Tzt){return 1!==C$Tzt&&0!==C$Tzt?(C$Tzt*=2)<1?.5*Math.pow(2,10*(C$Tzt-1)):.5*(2-Math.pow(2,-10*(C$Tzt-1))):C$Tzt;},reverse:function(){return C$Tzi;}}),C$Tzn=(cc.easeExponentialInOut=function(){return C$Tzi;},{easing:function(C$Tzt){return 0===C$Tzt||1===C$Tzt?C$Tzt:-1*Math.cos(C$Tzt*Math.PI/2)+1;},reverse:function(){return C$Tzr;}}),C$Tzr=(cc.easeSineIn=function(){return C$Tzn;},{easing:function(C$Tzt){return 0===C$Tzt||1===C$Tzt?C$Tzt:Math.sin(C$Tzt*Math.PI/2);},reverse:function(){return C$Tzn;}}),C$Tzs=(cc.easeSineOut=function(){return C$Tzr;},{easing:function(C$Tzt){return 0===C$Tzt||1===C$Tzt?C$Tzt:-.5*(Math.cos(Math.PI*C$Tzt)-1);},reverse:function(){return C$Tzs;}}),C$Tzo=(cc.easeSineInOut=function(){return C$Tzs;},{easing:function(C$Tzt){return 0===C$Tzt||1===C$Tzt?C$Tzt:(--C$Tzt,-Math.pow(2,10*C$Tzt)*Math.sin((C$Tzt-.075)*Math.PI*2/.3));},reverse:function(){return C$Tza;}}),C$Tza=(cc.easeElasticIn=function(C$Tzt){return C$Tzt&&.3!==C$Tzt?{_period:C$Tzt,easing:function(C$Tzt){return 0===C$Tzt||1===C$Tzt?C$Tzt:(--C$Tzt,-Math.pow(2,10*C$Tzt)*Math.sin((C$Tzt-this._period/4)*Math.PI*2/this._period));},reverse:function(){return cc.easeElasticOut(this._period);}}:C$Tzo;},{easing:function(C$Tzt){return 0===C$Tzt||1===C$Tzt?C$Tzt:Math.pow(2,-10*C$Tzt)*Math.sin((C$Tzt-.075)*Math.PI*2/.3)+1;},reverse:function(){return C$Tzo;}});function C$Tzc(C$Tzt){return C$Tzt<1/2.75?7.5625*C$Tzt*C$Tzt:C$Tzt<2/2.75?7.5625*(C$Tzt-=1.5/2.75)*C$Tzt+.75:C$Tzt<2.5/2.75?7.5625*(C$Tzt-=2.25/2.75)*C$Tzt+.9375:7.5625*(C$Tzt-=2.625/2.75)*C$Tzt+.984375;}cc.easeElasticOut=function(C$Tzt){return C$Tzt&&.3!==C$Tzt?{_period:C$Tzt,easing:function(C$Tzt){return 0===C$Tzt||1===C$Tzt?C$Tzt:Math.pow(2,-10*C$Tzt)*Math.sin((C$Tzt-this._period/4)*Math.PI*2/this._period)+1;},reverse:function(){return cc.easeElasticIn(this._period);}}:C$Tza;},cc.easeElasticInOut=function(C$Tzt){return{_period:C$Tzt=C$Tzt||.3,easing:function(C$Tzt){var C$Tze,C$Tzi=this._period;return 0===C$Tzt||1===C$Tzt?C$Tzt:(C$Tzt*=2,C$Tze=(C$Tzi=C$Tzi||(this._period=.3*1.5))/4,--C$Tzt<0?-.5*Math.pow(2,10*C$Tzt)*Math.sin((C$Tzt-C$Tze)*Math.PI*2/C$Tzi):Math.pow(2,-10*C$Tzt)*Math.sin((C$Tzt-C$Tze)*Math.PI*2/C$Tzi)*.5+1);},reverse:function(){return cc.easeElasticInOut(this._period);}};};var C$Tzl={easing:function(C$Tzt){return 1-C$Tzc(1-C$Tzt);},reverse:function(){return C$Tzd;}},C$Tzd=(cc.easeBounceIn=function(){return C$Tzl;},{easing:C$Tzc,reverse:function(){return C$Tzl;}}),C$Tzf=(cc.easeBounceOut=function(){return C$Tzd;},{easing:function(C$Tzt){C$Tzt=C$Tzt<.5?.5*(1-C$Tzc(1-(C$Tzt*=2))):.5*C$Tzc(2*C$Tzt-1)+.5;return C$Tzt;},reverse:function(){return C$Tzf;}}),C$Tzp=(cc.easeBounceInOut=function(){return C$Tzf;},{easing:function(C$Tzt){return 0===C$Tzt||1===C$Tzt?C$Tzt:C$Tzt*C$Tzt*(2.70158*C$Tzt-1.70158);},reverse:function(){return C$Tzm;}}),C$Tzm=(cc.easeBackIn=function(){return C$Tzp;},{easing:function(C$Tzt){return--C$Tzt*C$Tzt*(2.70158*C$Tzt+1.70158)+1;},reverse:function(){return C$Tzp;}}),C$Tzy=(cc.easeBackOut=function(){return C$Tzm;},{easing:function(C$Tzt){return(C$Tzt*=2)<1?C$Tzt*C$Tzt*(3.5949095*C$Tzt-2.5949095)/2:(C$Tzt-=2)*C$Tzt*(3.5949095*C$Tzt+2.5949095)/2+1;},reverse:function(){return C$Tzy;}}),C$Tzg=(cc.easeBackInOut=function(){return C$Tzy;},cc.easeBezierAction=function(C$Tze,C$Tzi,C$Tzn,C$Tzr){return{easing:function(C$Tzt){return Math.pow(1-C$Tzt,3)*C$Tze+3*C$Tzt*Math.pow(1-C$Tzt,2)*C$Tzi+3*Math.pow(C$Tzt,2)*(1-C$Tzt)*C$Tzn+Math.pow(C$Tzt,3)*C$Tzr;},reverse:function(){return cc.easeBezierAction(C$Tzr,C$Tzn,C$Tzi,C$Tze);}};},{easing:function(C$Tzt){return Math.pow(C$Tzt,2);},reverse:function(){return C$Tzg;}}),C$Tzv=(cc.easeQuadraticActionIn=function(){return C$Tzg;},{easing:function(C$Tzt){return-C$Tzt*(C$Tzt-2);},reverse:function(){return C$Tzv;}}),C$Tzx=(cc.easeQuadraticActionOut=function(){return C$Tzv;},{easing:function(C$Tzt){return(C$Tzt*=2)<1?C$Tzt*C$Tzt*.5:-.5*(--C$Tzt*(C$Tzt-2)-1);},reverse:function(){return C$Tzx;}}),C$Tzb=(cc.easeQuadraticActionInOut=function(){return C$Tzx;},{easing:function(C$Tzt){return C$Tzt*C$Tzt*C$Tzt*C$Tzt;},reverse:function(){return C$Tzb;}}),C$TzA=(cc.easeQuarticActionIn=function(){return C$Tzb;},{easing:function(C$Tzt){return-(--C$Tzt*C$Tzt*C$Tzt*C$Tzt-1);},reverse:function(){return C$TzA;}}),C$TzC=(cc.easeQuarticActionOut=function(){return C$TzA;},{easing:function(C$Tzt){return(C$Tzt*=2)<1?.5*C$Tzt*C$Tzt*C$Tzt*C$Tzt:-.5*((C$Tzt-=2)*C$Tzt*C$Tzt*C$Tzt-2);},reverse:function(){return C$TzC;}}),C$TzS=(cc.easeQuarticActionInOut=function(){return C$TzC;},{easing:function(C$Tzt){return C$Tzt*C$Tzt*C$Tzt*C$Tzt*C$Tzt;},reverse:function(){return C$TzS;}}),C$TzT=(cc.easeQuinticActionIn=function(){return C$TzS;},{easing:function(C$Tzt){return--C$Tzt*C$Tzt*C$Tzt*C$Tzt*C$Tzt+1;},reverse:function(){return C$TzT;}}),C$Tzw=(cc.easeQuinticActionOut=function(){return C$TzT;},{easing:function(C$Tzt){return(C$Tzt*=2)<1?.5*C$Tzt*C$Tzt*C$Tzt*C$Tzt*C$Tzt:.5*((C$Tzt-=2)*C$Tzt*C$Tzt*C$Tzt*C$Tzt+2);},reverse:function(){return C$Tzw;}}),C$TzE=(cc.easeQuinticActionInOut=function(){return C$Tzw;},{easing:function(C$Tzt){return-1*(Math.sqrt(1-C$Tzt*C$Tzt)-1);},reverse:function(){return C$TzE;}}),C$TzM=(cc.easeCircleActionIn=function(){return C$TzE;},{easing:function(C$Tzt){return--C$Tzt,Math.sqrt(1-C$Tzt*C$Tzt);},reverse:function(){return C$TzM;}}),C$TzI=(cc.easeCircleActionOut=function(){return C$TzM;},{easing:function(C$Tzt){return(C$Tzt*=2)<1?-.5*(Math.sqrt(1-C$Tzt*C$Tzt)-1):(C$Tzt-=2,.5*(Math.sqrt(1-C$Tzt*C$Tzt)+1));},reverse:function(){return C$TzI;}}),C$TzB=(cc.easeCircleActionInOut=function(){return C$TzI;},{easing:function(C$Tzt){return C$Tzt*C$Tzt*C$Tzt;},reverse:function(){return C$TzB;}}),C$TzR=(cc.easeCubicActionIn=function(){return C$TzB;},{easing:function(C$Tzt){return--C$Tzt*C$Tzt*C$Tzt+1;},reverse:function(){return C$TzR;}}),C$TzP=(cc.easeCubicActionOut=function(){return C$TzR;},{easing:function(C$Tzt){return(C$Tzt*=2)<1?.5*C$Tzt*C$Tzt*C$Tzt:.5*((C$Tzt-=2)*C$Tzt*C$Tzt+2);},reverse:function(){return C$TzP;}});cc.easeCubicActionInOut=function(){return C$TzP;};},{}],5:[function(C$Tzt,C$Tze,C$Tzi){"use strict";cc.ActionInstant=cc.Class({name:H[416],extends:cc.FiniteTimeAction,isDone:function(){return!0;},step:function(C$Tzt){this.update(1);},update:function(C$Tzt){},reverse:function(){return this.clone();},clone:function(){return new cc.ActionInstant();}}),cc.Show=cc.Class({name:H[417],extends:cc.ActionInstant,update:function(C$Tzt){for(var C$Tze=this.target.getComponentsInChildren(cc.RenderComponent),C$Tzi=0;C$Tzi<C$Tze.length;++C$Tzi)C$Tze[C$Tzi].enabled=!0;},reverse:function(){return new cc.Hide();},clone:function(){return new cc.Show();}}),cc.show=function(){return new cc.Show();},cc.Hide=cc.Class({name:H[418],extends:cc.ActionInstant,update:function(C$Tzt){for(var C$Tze=this.target.getComponentsInChildren(cc.RenderComponent),C$Tzi=0;C$Tzi<C$Tze.length;++C$Tzi)C$Tze[C$Tzi].enabled=!1;},reverse:function(){return new cc.Show();},clone:function(){return new cc.Hide();}}),cc.hide=function(){return new cc.Hide();},cc.ToggleVisibility=cc.Class({name:H[419],extends:cc.ActionInstant,update:function(C$Tzt){for(var C$Tze=this.target.getComponentsInChildren(cc.RenderComponent),C$Tzi=0;C$Tzi<C$Tze.length;++C$Tzi){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enabled=!C$Tzn.enabled;}},reverse:function(){return new cc.ToggleVisibility();},clone:function(){return new cc.ToggleVisibility();}}),cc.toggleVisibility=function(){return new cc.ToggleVisibility();},cc.RemoveSelf=cc.Class({name:H[420],extends:cc.ActionInstant,ctor:function(C$Tzt){this._isNeedCleanUp=!0,void 0!==C$Tzt&&this.init(C$Tzt);},update:function(C$Tzt){this.target.removeFromParent(this._isNeedCleanUp);},init:function(C$Tzt){return this._isNeedCleanUp=C$Tzt,!0;},reverse:function(){return new cc.RemoveSelf(this._isNeedCleanUp);},clone:function(){return new cc.RemoveSelf(this._isNeedCleanUp);}}),cc.removeSelf=function(C$Tzt){return new cc.RemoveSelf(C$Tzt);},cc.DestroySelf=cc.Class({name:H[421],extends:cc.ActionInstant,update:function(){this.target.destroy();},reverse:function(){return new cc.DestroySelf();},clone:function(){return new cc.DestroySelf();}}),cc.destroySelf=function(){return new cc.DestroySelf();},cc.FlipX=cc.Class({name:H[422],extends:cc.ActionInstant,ctor:function(C$Tzt){this._flippedX=!1,void 0!==C$Tzt&&this.initWithFlipX(C$Tzt);},initWithFlipX:function(C$Tzt){return this._flippedX=C$Tzt,!0;},update:function(C$Tzt){this.target.scaleX=Math.abs(this.target.scaleX)*(this._flippedX?-1:1);},reverse:function(){return new cc.FlipX(!this._flippedX);},clone:function(){var C$Tzt=new cc.FlipX();return C$Tzt.initWithFlipX(this._flippedX),C$Tzt;}}),cc.flipX=function(C$Tzt){return new cc.FlipX(C$Tzt);},cc.FlipY=cc.Class({name:H[423],extends:cc.ActionInstant,ctor:function(C$Tzt){this._flippedY=!1,void 0!==C$Tzt&&this.initWithFlipY(C$Tzt);},initWithFlipY:function(C$Tzt){return this._flippedY=C$Tzt,!0;},update:function(C$Tzt){this.target.scaleY=Math.abs(this.target.scaleY)*(this._flippedY?-1:1);},reverse:function(){return new cc.FlipY(!this._flippedY);},clone:function(){var C$Tzt=new cc.FlipY();return C$Tzt.initWithFlipY(this._flippedY),C$Tzt;}}),cc.flipY=function(C$Tzt){return new cc.FlipY(C$Tzt);},cc.Place=cc.Class({name:H[424],extends:cc.ActionInstant,ctor:function(C$Tzt,C$Tze){this._x=0,void(this._y=0)!==C$Tzt&&(void 0!==C$Tzt.x&&(C$Tze=C$Tzt.y,C$Tzt=C$Tzt.x),this.initWithPosition(C$Tzt,C$Tze));},initWithPosition:function(C$Tzt,C$Tze){return this._x=C$Tzt,this._y=C$Tze,!0;},update:function(C$Tzt){this.target.setPosition(this._x,this._y);},clone:function(){var C$Tzt=new cc.Place();return C$Tzt.initWithPosition(this._x,this._y),C$Tzt;}}),cc.place=function(C$Tzt,C$Tze){return new cc.Place(C$Tzt,C$Tze);},cc.CallFunc=cc.Class({name:H[425],extends:cc.ActionInstant,ctor:function(C$Tzt,C$Tze,C$Tzi){this._selectorTarget=null,this._function=null,this._data=null,this.initWithFunction(C$Tzt,C$Tze,C$Tzi);},initWithFunction:function(C$Tzt,C$Tze,C$Tzi){return C$Tzt&&(this._function=C$Tzt),C$Tze&&(this._selectorTarget=C$Tze),void 0!==C$Tzi&&(this._data=C$Tzi),!0;},execute:function(){this._function&&this._function.call(this._selectorTarget,this.target,this._data);},update:function(C$Tzt){this.execute();},getTargetCallback:function(){return this._selectorTarget;},setTargetCallback:function(C$Tzt){C$Tzt!==this._selectorTarget&&(this._selectorTarget&&(this._selectorTarget=null),this._selectorTarget=C$Tzt);},clone:function(){var C$Tzt=new cc.CallFunc();return C$Tzt.initWithFunction(this._function,this._selectorTarget,this._data),C$Tzt;}}),cc.callFunc=function(C$Tzt,C$Tze,C$Tzi){return new cc.CallFunc(C$Tzt,C$Tze,C$Tzi);};},{}],6:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tza(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return Math.pow(1-C$Tzr,3)*C$Tzt+3*C$Tzr*Math.pow(1-C$Tzr,2)*C$Tze+3*Math.pow(C$Tzr,2)*(1-C$Tzr)*C$Tzi+Math.pow(C$Tzr,3)*C$Tzn;}cc.ActionInterval=cc.Class({name:H[426],extends:cc.FiniteTimeAction,ctor:function(C$Tzt){this.MAX_VALUE=2,this._elapsed=0,this._firstTick=!1,this._easeList=null,this._speed=1,this._timesForRepeat=1,this._repeatForever=!1,this._repeatMethod=!1,this._speedMethod=!1,void 0!==C$Tzt&&cc.ActionInterval.prototype.initWithDuration.call(this,C$Tzt);},getElapsed:function(){return this._elapsed;},initWithDuration:function(C$Tzt){return this._duration=0===C$Tzt?cc.macro.FLT_EPSILON:C$Tzt,this._elapsed=0,this._firstTick=!0;},isDone:function(){return this._elapsed>=this._duration;},_cloneDecoration:function(C$Tzt){C$Tzt._repeatForever=this._repeatForever,C$Tzt._speed=this._speed,C$Tzt._timesForRepeat=this._timesForRepeat,C$Tzt._easeList=this._easeList,C$Tzt._speedMethod=this._speedMethod,C$Tzt._repeatMethod=this._repeatMethod;},_reverseEaseList:function(C$Tzt){if(this._easeList){C$Tzt._easeList=[];for(var C$Tze=0;C$Tze<this._easeList.length;C$Tze++)C$Tzt._easeList.push(this._easeList[C$Tze].reverse());}},clone:function(){var C$Tzt=new cc.ActionInterval(this._duration);return this._cloneDecoration(C$Tzt),C$Tzt;},easing:function(C$Tzt){this._easeList?this._easeList.length=0:this._easeList=[];for(var C$Tze=0;C$Tze<arguments.length;C$Tze++)this._easeList.push(arguments[C$Tze]);return this;},_computeEaseTime:function(C$Tzt){var C$Tze=this._easeList;if(!C$Tze||0===C$Tze.length)return C$Tzt;for(var C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++)C$Tzt=C$Tze[C$Tzi].easing(C$Tzt);return C$Tzt;},step:function(C$Tzt){this._firstTick?(this._firstTick=!1,this._elapsed=0):this._elapsed+=C$Tzt;C$Tzt=(C$Tzt=this._elapsed/(1.192092896e-7<this._duration?this._duration:1.192092896e-7))<1?C$Tzt:1;this.update(0<C$Tzt?C$Tzt:0),this._repeatMethod&&1<this._timesForRepeat&&this.isDone()&&(this._repeatForever||this._timesForRepeat--,this.startWithTarget(this.target),this.step(this._elapsed-this._duration));},startWithTarget:function(C$Tzt){cc.Action.prototype.startWithTarget.call(this,C$Tzt),this._elapsed=0,this._firstTick=!0;},reverse:function(){return cc.logID(1010),null;},setAmplitudeRate:function(C$Tzt){cc.logID(1011);},getAmplitudeRate:function(){return cc.logID(1012),0;},speed:function(C$Tzt){return C$Tzt<=0?cc.logID(1013):(this._speedMethod=!0,this._speed*=C$Tzt),this;},getSpeed:function(){return this._speed;},setSpeed:function(C$Tzt){return this._speed=C$Tzt,this;},repeat:function(C$Tzt){return C$Tzt=Math.round(C$Tzt),isNaN(C$Tzt)||C$Tzt<1?cc.logID(1014):(this._repeatMethod=!0,this._timesForRepeat*=C$Tzt),this;},repeatForever:function(){return this._repeatMethod=!0,this._timesForRepeat=this.MAX_VALUE,this._repeatForever=!0,this;}}),cc.actionInterval=function(C$Tzt){return new cc.ActionInterval(C$Tzt);},cc.Sequence=cc.Class({name:H[427],extends:cc.ActionInterval,ctor:function(C$Tzt){this._actions=[],this._split=null,this._last=0,this._reversed=!1;var C$Tze=C$Tzt instanceof Array?C$Tzt:arguments;if(1!==C$Tze.length){var C$Tzi=C$Tze.length-1;if(0<=C$Tzi&&null==C$Tze[C$Tzi]&&cc.logID(1015),0<=C$Tzi){for(var C$Tzn,C$Tzr=C$Tze[0],C$Tzs=1;C$Tzs<C$Tzi;C$Tzs++)C$Tze[C$Tzs]&&(C$Tzn=C$Tzr,C$Tzr=cc.Sequence._actionOneTwo(C$Tzn,C$Tze[C$Tzs]));this.initWithTwoActions(C$Tzr,C$Tze[C$Tzi]);}}else cc.errorID(1019);},initWithTwoActions:function(C$Tzt,C$Tze){if(!C$Tzt||!C$Tze)return cc.errorID(1025),!1;var C$Tzi=C$Tzt._duration,C$Tzn=C$Tze._duration,C$Tzi=(C$Tzi*=C$Tzt._repeatMethod?C$Tzt._timesForRepeat:1)+(C$Tzn*=C$Tze._repeatMethod?C$Tze._timesForRepeat:1);return this.initWithDuration(C$Tzi),this._actions[0]=C$Tzt,this._actions[1]=C$Tze,!0;},clone:function(){var C$Tzt=new cc.Sequence();return this._cloneDecoration(C$Tzt),C$Tzt.initWithTwoActions(this._actions[0].clone(),this._actions[1].clone()),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt),this._split=this._actions[0]._duration/this._duration,this._split*=this._actions[0]._repeatMethod?this._actions[0]._timesForRepeat:1,this._last=-1;},stop:function(){-1!==this._last&&this._actions[this._last].stop(),cc.Action.prototype.stop.call(this);},update:function(C$Tzt){var C$Tze,C$Tzi=0,C$Tzn=this._split,C$Tzr=this._actions,C$Tzs=this._last;(C$Tzt=this._computeEaseTime(C$Tzt))<C$Tzn?(C$Tze=0!==C$Tzn?C$Tzt/C$Tzn:1,0===C$Tzi&&1===C$Tzs&&this._reversed&&(C$Tzr[1].update(0),C$Tzr[1].stop())):(C$Tze=(C$Tzi=1)===C$Tzn?1:(C$Tzt-C$Tzn)/(1-C$Tzn),-1===C$Tzs&&(C$Tzr[0].startWithTarget(this.target),C$Tzr[0].update(1),C$Tzr[0].stop()),0===C$Tzs&&(C$Tzr[0].update(1),C$Tzr[0].stop())),C$Tzt=C$Tzr[C$Tzi],C$Tzs===C$Tzi&&C$Tzt.isDone()||(C$Tzs!==C$Tzi&&C$Tzt.startWithTarget(this.target),C$Tze*=C$Tzt._timesForRepeat,C$Tzt.update(1<C$Tze?C$Tze%1:C$Tze),this._last=C$Tzi);},reverse:function(){var C$Tzt=cc.Sequence._actionOneTwo(this._actions[1].reverse(),this._actions[0].reverse());return this._cloneDecoration(C$Tzt),this._reverseEaseList(C$Tzt),C$Tzt._reversed=!0,C$Tzt;}}),cc.sequence=function(C$Tzt){var C$Tze=C$Tzt instanceof Array?C$Tzt:arguments;if(1===C$Tze.length)return cc.errorID(1019),null;var C$Tzi=C$Tze.length-1,C$Tzn=(0<=C$Tzi&&null==C$Tze[C$Tzi]&&cc.logID(1015),null);if(0<=C$Tzi)for(var C$Tzn=C$Tze[0],C$Tzr=1;C$Tzr<=C$Tzi;C$Tzr++)C$Tze[C$Tzr]&&(C$Tzn=cc.Sequence._actionOneTwo(C$Tzn,C$Tze[C$Tzr]));return C$Tzn;},cc.Sequence._actionOneTwo=function(C$Tzt,C$Tze){var C$Tzi=new cc.Sequence();return C$Tzi.initWithTwoActions(C$Tzt,C$Tze),C$Tzi;},cc.Repeat=cc.Class({name:H[428],extends:cc.ActionInterval,ctor:function(C$Tzt,C$Tze){this._times=0,this._total=0,this._nextDt=0,this._actionInstant=!1,this._innerAction=null,void 0!==C$Tze&&this.initWithAction(C$Tzt,C$Tze);},initWithAction:function(C$Tzt,C$Tze){var C$Tzi=C$Tzt._duration*C$Tze;return!!this.initWithDuration(C$Tzi)&&(this._times=C$Tze,(this._innerAction=C$Tzt)instanceof cc.ActionInstant&&(this._actionInstant=!0,--this._times),!(this._total=0));},clone:function(){var C$Tzt=new cc.Repeat();return this._cloneDecoration(C$Tzt),C$Tzt.initWithAction(this._innerAction.clone(),this._times),C$Tzt;},startWithTarget:function(C$Tzt){this._total=0,this._nextDt=this._innerAction._duration/this._duration,cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt),this._innerAction.startWithTarget(C$Tzt);},stop:function(){this._innerAction.stop(),cc.Action.prototype.stop.call(this);},update:function(C$Tzt){C$Tzt=this._computeEaseTime(C$Tzt);var C$Tze=this._innerAction,C$Tzi=this._duration,C$Tzn=this._times,C$Tzr=this._nextDt;if(C$Tzr<=C$Tzt){for(;C$Tzr<C$Tzt&&this._total<C$Tzn;)C$Tze.update(1),this._total++,C$Tze.stop(),C$Tze.startWithTarget(this.target),C$Tzr+=C$Tze._duration/C$Tzi,this._nextDt=1<C$Tzr?1:C$Tzr;1<=C$Tzt&&this._total<C$Tzn&&(C$Tze.update(1),this._total++),this._actionInstant||(this._total===C$Tzn?C$Tze.stop():C$Tze.update(C$Tzt-(C$Tzr-C$Tze._duration/C$Tzi)));}else C$Tze.update(C$Tzt*C$Tzn%1);},isDone:function(){return this._total===this._times;},reverse:function(){var C$Tzt=new cc.Repeat(this._innerAction.reverse(),this._times);return this._cloneDecoration(C$Tzt),this._reverseEaseList(C$Tzt),C$Tzt;},setInnerAction:function(C$Tzt){this._innerAction!==C$Tzt&&(this._innerAction=C$Tzt);},getInnerAction:function(){return this._innerAction;}}),cc.repeat=function(C$Tzt,C$Tze){return new cc.Repeat(C$Tzt,C$Tze);},cc.RepeatForever=cc.Class({name:H[429],extends:cc.ActionInterval,ctor:function(C$Tzt){this._innerAction=null,C$Tzt&&this.initWithAction(C$Tzt);},initWithAction:function(C$Tzt){return C$Tzt?(this._innerAction=C$Tzt,!0):(cc.errorID(1026),!1);},clone:function(){var C$Tzt=new cc.RepeatForever();return this._cloneDecoration(C$Tzt),C$Tzt.initWithAction(this._innerAction.clone()),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt),this._innerAction.startWithTarget(C$Tzt);},step:function(C$Tzt){var C$Tze=this._innerAction;C$Tze.step(C$Tzt),C$Tze.isDone()&&(C$Tze.startWithTarget(this.target),C$Tze.step(C$Tze.getElapsed()-C$Tze._duration));},isDone:function(){return!1;},reverse:function(){var C$Tzt=new cc.RepeatForever(this._innerAction.reverse());return this._cloneDecoration(C$Tzt),this._reverseEaseList(C$Tzt),C$Tzt;},setInnerAction:function(C$Tzt){this._innerAction!==C$Tzt&&(this._innerAction=C$Tzt);},getInnerAction:function(){return this._innerAction;}}),cc.repeatForever=function(C$Tzt){return new cc.RepeatForever(C$Tzt);},cc.Spawn=cc.Class({name:H[430],extends:cc.ActionInterval,ctor:function(C$Tzt){this._one=null,this._two=null;var C$Tze=C$Tzt instanceof Array?C$Tzt:arguments;if(1!==C$Tze.length){var C$Tzi=C$Tze.length-1;if(0<=C$Tzi&&null==C$Tze[C$Tzi]&&cc.logID(1015),0<=C$Tzi){for(var C$Tzn,C$Tzr=C$Tze[0],C$Tzs=1;C$Tzs<C$Tzi;C$Tzs++)C$Tze[C$Tzs]&&(C$Tzn=C$Tzr,C$Tzr=cc.Spawn._actionOneTwo(C$Tzn,C$Tze[C$Tzs]));this.initWithTwoActions(C$Tzr,C$Tze[C$Tzi]);}}else cc.errorID(1020);},initWithTwoActions:function(C$Tzt,C$Tze){if(!C$Tzt||!C$Tze)return cc.errorID(1027),!1;var C$Tzi=!1,C$Tzn=C$Tzt._duration,C$Tzr=C$Tze._duration;return this.initWithDuration(Math.max(C$Tzn,C$Tzr))&&(this._one=C$Tzt,this._two=C$Tze,C$Tzr<C$Tzn?this._two=cc.Sequence._actionOneTwo(C$Tze,cc.delayTime(C$Tzn-C$Tzr)):C$Tzn<C$Tzr&&(this._one=cc.Sequence._actionOneTwo(C$Tzt,cc.delayTime(C$Tzr-C$Tzn))),C$Tzi=!0),C$Tzi;},clone:function(){var C$Tzt=new cc.Spawn();return this._cloneDecoration(C$Tzt),C$Tzt.initWithTwoActions(this._one.clone(),this._two.clone()),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt),this._one.startWithTarget(C$Tzt),this._two.startWithTarget(C$Tzt);},stop:function(){this._one.stop(),this._two.stop(),cc.Action.prototype.stop.call(this);},update:function(C$Tzt){C$Tzt=this._computeEaseTime(C$Tzt),this._one&&this._one.update(C$Tzt),this._two&&this._two.update(C$Tzt);},reverse:function(){var C$Tzt=cc.Spawn._actionOneTwo(this._one.reverse(),this._two.reverse());return this._cloneDecoration(C$Tzt),this._reverseEaseList(C$Tzt),C$Tzt;}}),cc.spawn=function(C$Tzt){var C$Tze=C$Tzt instanceof Array?C$Tzt:arguments;if(1===C$Tze.length)return cc.errorID(1020),null;0<C$Tze.length&&null==C$Tze[C$Tze.length-1]&&cc.logID(1015);for(var C$Tzi=C$Tze[0],C$Tzn=1;C$Tzn<C$Tze.length;C$Tzn++)null!=C$Tze[C$Tzn]&&(C$Tzi=cc.Spawn._actionOneTwo(C$Tzi,C$Tze[C$Tzn]));return C$Tzi;},cc.Spawn._actionOneTwo=function(C$Tzt,C$Tze){var C$Tzi=new cc.Spawn();return C$Tzi.initWithTwoActions(C$Tzt,C$Tze),C$Tzi;},cc.RotateTo=cc.Class({name:H[431],extends:cc.ActionInterval,statics:{_reverse:!1},ctor:function(C$Tzt,C$Tze){this._startAngle=0,this._dstAngle=0,void(this._angle=0)!==C$Tze&&this.initWithDuration(C$Tzt,C$Tze);},initWithDuration:function(C$Tzt,C$Tze){return!!cc.ActionInterval.prototype.initWithDuration.call(this,C$Tzt)&&(this._dstAngle=C$Tze,!0);},clone:function(){var C$Tzt=new cc.RotateTo();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._dstAngle),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt);var C$Tzt=C$Tzt.angle%360,C$Tze=cc.RotateTo._reverse?this._dstAngle-C$Tzt:this._dstAngle+C$Tzt;180<C$Tze&&(C$Tze-=360),C$Tze<-180&&(C$Tze+=360),this._startAngle=C$Tzt,this._angle=cc.RotateTo._reverse?C$Tze:-C$Tze;},reverse:function(){cc.logID(1016);},update:function(C$Tzt){C$Tzt=this._computeEaseTime(C$Tzt),this.target&&(this.target.angle=this._startAngle+this._angle*C$Tzt);}}),cc.rotateTo=function(C$Tzt,C$Tze){return new cc.RotateTo(C$Tzt,C$Tze);},cc.RotateBy=cc.Class({name:H[432],extends:cc.ActionInterval,statics:{_reverse:!1},ctor:function(C$Tzt,C$Tze){C$Tze*=cc.RotateBy._reverse?1:-1,this._deltaAngle=0,void(this._startAngle=0)!==C$Tze&&this.initWithDuration(C$Tzt,C$Tze);},initWithDuration:function(C$Tzt,C$Tze){return!!cc.ActionInterval.prototype.initWithDuration.call(this,C$Tzt)&&(this._deltaAngle=C$Tze,!0);},clone:function(){var C$Tzt=new cc.RotateBy();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._deltaAngle),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt),this._startAngle=C$Tzt.angle;},update:function(C$Tzt){C$Tzt=this._computeEaseTime(C$Tzt),this.target&&(this.target.angle=this._startAngle+this._deltaAngle*C$Tzt);},reverse:function(){var C$Tzt=new cc.RotateBy();return C$Tzt.initWithDuration(this._duration,-this._deltaAngle),this._cloneDecoration(C$Tzt),this._reverseEaseList(C$Tzt),C$Tzt;}}),cc.rotateBy=function(C$Tzt,C$Tze){return new cc.RotateBy(C$Tzt,C$Tze);},cc.MoveBy=cc.Class({name:H[433],extends:cc.ActionInterval,ctor:function(C$Tzt,C$Tze,C$Tzi){this._positionDelta=cc.v2(0,0),this._startPosition=cc.v2(0,0),this._previousPosition=cc.v2(0,0),void 0!==C$Tze&&cc.MoveBy.prototype.initWithDuration.call(this,C$Tzt,C$Tze,C$Tzi);},initWithDuration:function(C$Tzt,C$Tze,C$Tzi){return!!cc.ActionInterval.prototype.initWithDuration.call(this,C$Tzt)&&(void 0!==C$Tze.x&&(C$Tzi=C$Tze.y,C$Tze=C$Tze.x),this._positionDelta.x=C$Tze,this._positionDelta.y=C$Tzi,!0);},clone:function(){var C$Tzt=new cc.MoveBy();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._positionDelta),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt);var C$Tze=C$Tzt.x,C$Tzt=C$Tzt.y;this._previousPosition.x=C$Tze,this._previousPosition.y=C$Tzt,this._startPosition.x=C$Tze,this._startPosition.y=C$Tzt;},update:function(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs;C$Tzt=this._computeEaseTime(C$Tzt),this.target&&(C$Tze=this._positionDelta.x*C$Tzt,C$Tzt=this._positionDelta.y*C$Tzt,C$Tzi=this._startPosition,cc.macro.ENABLE_STACKABLE_ACTIONS?(C$Tzn=this.target.x,C$Tzr=this.target.y,C$Tzs=this._previousPosition,C$Tzi.x=C$Tzi.x+C$Tzn-C$Tzs.x,C$Tzi.y=C$Tzi.y+C$Tzr-C$Tzs.y,C$Tze+=C$Tzi.x,C$Tzt+=C$Tzi.y,C$Tzs.x=C$Tze,C$Tzs.y=C$Tzt,this.target.setPosition(C$Tze,C$Tzt)):this.target.setPosition(C$Tzi.x+C$Tze,C$Tzi.y+C$Tzt));},reverse:function(){var C$Tzt=new cc.MoveBy(this._duration,cc.v2(-this._positionDelta.x,-this._positionDelta.y));return this._cloneDecoration(C$Tzt),this._reverseEaseList(C$Tzt),C$Tzt;}}),cc.moveBy=function(C$Tzt,C$Tze,C$Tzi){return new cc.MoveBy(C$Tzt,C$Tze,C$Tzi);},cc.MoveTo=cc.Class({name:H[434],extends:cc.MoveBy,ctor:function(C$Tzt,C$Tze,C$Tzi){this._endPosition=cc.v2(0,0),void 0!==C$Tze&&this.initWithDuration(C$Tzt,C$Tze,C$Tzi);},initWithDuration:function(C$Tzt,C$Tze,C$Tzi){return!!cc.MoveBy.prototype.initWithDuration.call(this,C$Tzt,C$Tze,C$Tzi)&&(void 0!==C$Tze.x&&(C$Tzi=C$Tze.y,C$Tze=C$Tze.x),this._endPosition.x=C$Tze,this._endPosition.y=C$Tzi,!0);},clone:function(){var C$Tzt=new cc.MoveTo();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._endPosition),C$Tzt;},startWithTarget:function(C$Tzt){cc.MoveBy.prototype.startWithTarget.call(this,C$Tzt),this._positionDelta.x=this._endPosition.x-C$Tzt.x,this._positionDelta.y=this._endPosition.y-C$Tzt.y;}}),cc.moveTo=function(C$Tzt,C$Tze,C$Tzi){return new cc.MoveTo(C$Tzt,C$Tze,C$Tzi);},cc.SkewTo=cc.Class({name:H[435],extends:cc.ActionInterval,ctor:function(C$Tzt,C$Tze,C$Tzi){this._skewX=0,this._skewY=0,this._startSkewX=0,this._startSkewY=0,this._endSkewX=0,this._endSkewY=0,this._deltaX=0,void(this._deltaY=0)!==C$Tzi&&cc.SkewTo.prototype.initWithDuration.call(this,C$Tzt,C$Tze,C$Tzi);},initWithDuration:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=!1;return cc.ActionInterval.prototype.initWithDuration.call(this,C$Tzt)&&(this._endSkewX=C$Tze,this._endSkewY=C$Tzi,C$Tzn=!0),C$Tzn;},clone:function(){var C$Tzt=new cc.SkewTo();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._endSkewX,this._endSkewY),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt),this._startSkewX=C$Tzt.skewX%180,this._deltaX=this._endSkewX-this._startSkewX,180<this._deltaX&&(this._deltaX-=360),this._deltaX<-180&&(this._deltaX+=360),this._startSkewY=C$Tzt.skewY%360,this._deltaY=this._endSkewY-this._startSkewY,180<this._deltaY&&(this._deltaY-=360),this._deltaY<-180&&(this._deltaY+=360);},update:function(C$Tzt){C$Tzt=this._computeEaseTime(C$Tzt),this.target.skewX=this._startSkewX+this._deltaX*C$Tzt,this.target.skewY=this._startSkewY+this._deltaY*C$Tzt;}}),cc.skewTo=function(C$Tzt,C$Tze,C$Tzi){return new cc.SkewTo(C$Tzt,C$Tze,C$Tzi);},cc.SkewBy=cc.Class({name:H[436],extends:cc.SkewTo,ctor:function(C$Tzt,C$Tze,C$Tzi){void 0!==C$Tzi&&this.initWithDuration(C$Tzt,C$Tze,C$Tzi);},initWithDuration:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=!1;return cc.SkewTo.prototype.initWithDuration.call(this,C$Tzt,C$Tze,C$Tzi)&&(this._skewX=C$Tze,this._skewY=C$Tzi,C$Tzn=!0),C$Tzn;},clone:function(){var C$Tzt=new cc.SkewBy();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._skewX,this._skewY),C$Tzt;},startWithTarget:function(C$Tzt){cc.SkewTo.prototype.startWithTarget.call(this,C$Tzt),this._deltaX=this._skewX,this._deltaY=this._skewY,this._endSkewX=this._startSkewX+this._deltaX,this._endSkewY=this._startSkewY+this._deltaY;},reverse:function(){var C$Tzt=new cc.SkewBy(this._duration,-this._skewX,-this._skewY);return this._cloneDecoration(C$Tzt),this._reverseEaseList(C$Tzt),C$Tzt;}}),cc.skewBy=function(C$Tzt,C$Tze,C$Tzi){return new cc.SkewBy(C$Tzt,C$Tze,C$Tzi);},cc.JumpBy=cc.Class({name:H[437],extends:cc.ActionInterval,ctor:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){this._startPosition=cc.v2(0,0),this._previousPosition=cc.v2(0,0),this._delta=cc.v2(0,0),this._height=0,void(this._jumps=0)!==C$Tzn&&cc.JumpBy.prototype.initWithDuration.call(this,C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr);},initWithDuration:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return!!cc.ActionInterval.prototype.initWithDuration.call(this,C$Tzt)&&(void 0===C$Tzr&&(C$Tzr=C$Tzn,C$Tzn=C$Tzi,C$Tzi=C$Tze.y,C$Tze=C$Tze.x),this._delta.x=C$Tze,this._delta.y=C$Tzi,this._height=C$Tzn,this._jumps=C$Tzr,!0);},clone:function(){var C$Tzt=new cc.JumpBy();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._delta,this._height,this._jumps),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt);var C$Tze=C$Tzt.x,C$Tzt=C$Tzt.y;this._previousPosition.x=C$Tze,this._previousPosition.y=C$Tzt,this._startPosition.x=C$Tze,this._startPosition.y=C$Tzt;},update:function(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs;C$Tzt=this._computeEaseTime(C$Tzt),this.target&&(C$Tze=C$Tzt*this._jumps%1,C$Tze=4*this._height*C$Tze*(1-C$Tze),C$Tze+=this._delta.y*C$Tzt,C$Tzt=this._delta.x*C$Tzt,C$Tzi=this._startPosition,cc.macro.ENABLE_STACKABLE_ACTIONS?(C$Tzn=this.target.x,C$Tzr=this.target.y,C$Tzs=this._previousPosition,C$Tzi.x=C$Tzi.x+C$Tzn-C$Tzs.x,C$Tzi.y=C$Tzi.y+C$Tzr-C$Tzs.y,C$Tzt+=C$Tzi.x,C$Tze+=C$Tzi.y,C$Tzs.x=C$Tzt,C$Tzs.y=C$Tze,this.target.setPosition(C$Tzt,C$Tze)):this.target.setPosition(C$Tzi.x+C$Tzt,C$Tzi.y+C$Tze));},reverse:function(){var C$Tzt=new cc.JumpBy(this._duration,cc.v2(-this._delta.x,-this._delta.y),this._height,this._jumps);return this._cloneDecoration(C$Tzt),this._reverseEaseList(C$Tzt),C$Tzt;}}),cc.jumpBy=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return new cc.JumpBy(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr);},cc.JumpTo=cc.Class({name:H[438],extends:cc.JumpBy,ctor:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){this._endPosition=cc.v2(0,0),void 0!==C$Tzn&&this.initWithDuration(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr);},initWithDuration:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return!!cc.JumpBy.prototype.initWithDuration.call(this,C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr)&&(void 0===C$Tzr&&(C$Tzi=C$Tze.y,C$Tze=C$Tze.x),this._endPosition.x=C$Tze,this._endPosition.y=C$Tzi,!0);},startWithTarget:function(C$Tzt){cc.JumpBy.prototype.startWithTarget.call(this,C$Tzt),this._delta.x=this._endPosition.x-this._startPosition.x,this._delta.y=this._endPosition.y-this._startPosition.y;},clone:function(){var C$Tzt=new cc.JumpTo();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._endPosition,this._height,this._jumps),C$Tzt;}}),cc.jumpTo=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return new cc.JumpTo(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr);},cc.BezierBy=cc.Class({name:H[439],extends:cc.ActionInterval,ctor:function(C$Tzt,C$Tze){this._config=[],this._startPosition=cc.v2(0,0),this._previousPosition=cc.v2(0,0),C$Tze&&cc.BezierBy.prototype.initWithDuration.call(this,C$Tzt,C$Tze);},initWithDuration:function(C$Tzt,C$Tze){return!!cc.ActionInterval.prototype.initWithDuration.call(this,C$Tzt)&&(this._config=C$Tze,!0);},clone:function(){for(var C$Tzt=new cc.BezierBy(),C$Tze=(this._cloneDecoration(C$Tzt),[]),C$Tzi=0;C$Tzi<this._config.length;C$Tzi++){var C$Tzn=this._config[C$Tzi];C$Tze.push(cc.v2(C$Tzn.x,C$Tzn.y));}return C$Tzt.initWithDuration(this._duration,C$Tze),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt);var C$Tze=C$Tzt.x,C$Tzt=C$Tzt.y;this._previousPosition.x=C$Tze,this._previousPosition.y=C$Tzt,this._startPosition.x=C$Tze,this._startPosition.y=C$Tzt;},update:function(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo;C$Tzt=this._computeEaseTime(C$Tzt),this.target&&(C$Tze=(C$Tzo=this._config)[0].x,C$Tzi=C$Tzo[1].x,C$Tzn=C$Tzo[2].x,C$Tzr=C$Tzo[0].y,C$Tzs=C$Tzo[1].y,C$Tzo=C$Tzo[2].y,C$Tze=C$Tza(0,C$Tze,C$Tzi,C$Tzn,C$Tzt),C$Tzi=C$Tza(0,C$Tzr,C$Tzs,C$Tzo,C$Tzt),C$Tzn=this._startPosition,cc.macro.ENABLE_STACKABLE_ACTIONS?(C$Tzr=this.target.x,C$Tzs=this.target.y,C$Tzo=this._previousPosition,C$Tzn.x=C$Tzn.x+C$Tzr-C$Tzo.x,C$Tzn.y=C$Tzn.y+C$Tzs-C$Tzo.y,C$Tze+=C$Tzn.x,C$Tzi+=C$Tzn.y,C$Tzo.x=C$Tze,C$Tzo.y=C$Tzi,this.target.setPosition(C$Tze,C$Tzi)):this.target.setPosition(C$Tzn.x+C$Tze,C$Tzn.y+C$Tzi));},reverse:function(){var C$Tzt=this._config,C$Tze=C$Tzt[0].x,C$Tzi=C$Tzt[0].y,C$Tzn=C$Tzt[1].x,C$Tzr=C$Tzt[1].y,C$Tzs=C$Tzt[2].x,C$Tzt=C$Tzt[2].y,C$Tzn=[cc.v2(C$Tzn-C$Tzs,C$Tzr-C$Tzt),cc.v2(C$Tze-C$Tzs,C$Tzi-C$Tzt),cc.v2(-C$Tzs,-C$Tzt)],C$Tzr=new cc.BezierBy(this._duration,C$Tzn);return this._cloneDecoration(C$Tzr),this._reverseEaseList(C$Tzr),C$Tzr;}}),cc.bezierBy=function(C$Tzt,C$Tze){return new cc.BezierBy(C$Tzt,C$Tze);},cc.BezierTo=cc.Class({name:H[440],extends:cc.BezierBy,ctor:function(C$Tzt,C$Tze){this._toConfig=[],C$Tze&&this.initWithDuration(C$Tzt,C$Tze);},initWithDuration:function(C$Tzt,C$Tze){return!!cc.ActionInterval.prototype.initWithDuration.call(this,C$Tzt)&&(this._toConfig=C$Tze,!0);},clone:function(){var C$Tzt=new cc.BezierTo();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._toConfig),C$Tzt;},startWithTarget:function(C$Tzt){cc.BezierBy.prototype.startWithTarget.call(this,C$Tzt);var C$Tzt=this._startPosition,C$Tze=this._toConfig,C$Tzi=this._config;C$Tzi[0]=C$Tze[0].sub(C$Tzt),C$Tzi[1]=C$Tze[1].sub(C$Tzt),C$Tzi[2]=C$Tze[2].sub(C$Tzt);}}),cc.bezierTo=function(C$Tzt,C$Tze){return new cc.BezierTo(C$Tzt,C$Tze);},cc.ScaleTo=cc.Class({name:H[441],extends:cc.ActionInterval,ctor:function(C$Tzt,C$Tze,C$Tzi){this._scaleX=1,this._scaleY=1,this._startScaleX=1,this._startScaleY=1,this._endScaleX=0,this._endScaleY=0,this._deltaX=0,void(this._deltaY=0)!==C$Tze&&cc.ScaleTo.prototype.initWithDuration.call(this,C$Tzt,C$Tze,C$Tzi);},initWithDuration:function(C$Tzt,C$Tze,C$Tzi){return!!cc.ActionInterval.prototype.initWithDuration.call(this,C$Tzt)&&(this._endScaleX=C$Tze,this._endScaleY=null!=C$Tzi?C$Tzi:C$Tze,!0);},clone:function(){var C$Tzt=new cc.ScaleTo();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._endScaleX,this._endScaleY),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt),this._startScaleX=C$Tzt.scaleX,this._startScaleY=C$Tzt.scaleY,this._deltaX=this._endScaleX-this._startScaleX,this._deltaY=this._endScaleY-this._startScaleY;},update:function(C$Tzt){C$Tzt=this._computeEaseTime(C$Tzt),this.target&&(this.target.scaleX=this._startScaleX+this._deltaX*C$Tzt,this.target.scaleY=this._startScaleY+this._deltaY*C$Tzt);}}),cc.scaleTo=function(C$Tzt,C$Tze,C$Tzi){return new cc.ScaleTo(C$Tzt,C$Tze,C$Tzi);},cc.ScaleBy=cc.Class({name:H[442],extends:cc.ScaleTo,startWithTarget:function(C$Tzt){cc.ScaleTo.prototype.startWithTarget.call(this,C$Tzt),this._deltaX=this._startScaleX*this._endScaleX-this._startScaleX,this._deltaY=this._startScaleY*this._endScaleY-this._startScaleY;},reverse:function(){var C$Tzt=new cc.ScaleBy(this._duration,1/this._endScaleX,1/this._endScaleY);return this._cloneDecoration(C$Tzt),this._reverseEaseList(C$Tzt),C$Tzt;},clone:function(){var C$Tzt=new cc.ScaleBy();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._endScaleX,this._endScaleY),C$Tzt;}}),cc.scaleBy=function(C$Tzt,C$Tze,C$Tzi){return new cc.ScaleBy(C$Tzt,C$Tze,C$Tzi);},cc.Blink=cc.Class({name:H[443],extends:cc.ActionInterval,ctor:function(C$Tzt,C$Tze){this._times=0,this._originalState=!1,void 0!==C$Tze&&this.initWithDuration(C$Tzt,C$Tze);},initWithDuration:function(C$Tzt,C$Tze){return!!cc.ActionInterval.prototype.initWithDuration.call(this,C$Tzt)&&(this._times=C$Tze,!0);},clone:function(){var C$Tzt=new cc.Blink();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._times),C$Tzt;},update:function(C$Tzt){var C$Tze;C$Tzt=this._computeEaseTime(C$Tzt),this.target&&!this.isDone()&&(C$Tze=1/this._times,this.target.opacity=C$Tze/2<C$Tzt%C$Tze?255:0);},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt),this._originalState=C$Tzt.opacity;},stop:function(){this.target.opacity=this._originalState,cc.ActionInterval.prototype.stop.call(this);},reverse:function(){var C$Tzt=new cc.Blink(this._duration,this._times);return this._cloneDecoration(C$Tzt),this._reverseEaseList(C$Tzt),C$Tzt;}}),cc.blink=function(C$Tzt,C$Tze){return new cc.Blink(C$Tzt,C$Tze);},cc.FadeTo=cc.Class({name:H[444],extends:cc.ActionInterval,ctor:function(C$Tzt,C$Tze){this._toOpacity=0,void(this._fromOpacity=0)!==C$Tze&&cc.FadeTo.prototype.initWithDuration.call(this,C$Tzt,C$Tze);},initWithDuration:function(C$Tzt,C$Tze){return!!cc.ActionInterval.prototype.initWithDuration.call(this,C$Tzt)&&(this._toOpacity=C$Tze,!0);},clone:function(){var C$Tzt=new cc.FadeTo();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._toOpacity),C$Tzt;},update:function(C$Tzt){C$Tzt=this._computeEaseTime(C$Tzt);var C$Tze=void 0!==this._fromOpacity?this._fromOpacity:255;this.target.opacity=C$Tze+(this._toOpacity-C$Tze)*C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt),this._fromOpacity=C$Tzt.opacity;}}),cc.fadeTo=function(C$Tzt,C$Tze){return new cc.FadeTo(C$Tzt,C$Tze);},cc.FadeIn=cc.Class({name:H[445],extends:cc.FadeTo,ctor:function(C$Tzt){null==C$Tzt&&(C$Tzt=0),this._reverseAction=null,this.initWithDuration(C$Tzt,255);},reverse:function(){var C$Tzt=new cc.FadeOut();return C$Tzt.initWithDuration(this._duration,0),this._cloneDecoration(C$Tzt),this._reverseEaseList(C$Tzt),C$Tzt;},clone:function(){var C$Tzt=new cc.FadeIn();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._toOpacity),C$Tzt;},startWithTarget:function(C$Tzt){this._reverseAction&&(this._toOpacity=this._reverseAction._fromOpacity),cc.FadeTo.prototype.startWithTarget.call(this,C$Tzt);}}),cc.fadeIn=function(C$Tzt){return new cc.FadeIn(C$Tzt);},cc.FadeOut=cc.Class({name:H[446],extends:cc.FadeTo,ctor:function(C$Tzt){null==C$Tzt&&(C$Tzt=0),this._reverseAction=null,this.initWithDuration(C$Tzt,0);},reverse:function(){var C$Tzt=new cc.FadeIn();return C$Tzt._reverseAction=this,C$Tzt.initWithDuration(this._duration,255),this._cloneDecoration(C$Tzt),this._reverseEaseList(C$Tzt),C$Tzt;},clone:function(){var C$Tzt=new cc.FadeOut();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._toOpacity),C$Tzt;}}),cc.fadeOut=function(C$Tzt){return new cc.FadeOut(C$Tzt);},cc.TintTo=cc.Class({name:H[447],extends:cc.ActionInterval,ctor:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._to=cc.color(0,0,0),this._from=cc.color(0,0,0),C$Tze instanceof cc.Color&&(C$Tzn=C$Tze.b,C$Tzi=C$Tze.g,C$Tze=C$Tze.r),void 0!==C$Tzn&&this.initWithDuration(C$Tzt,C$Tze,C$Tzi,C$Tzn);},initWithDuration:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return!!cc.ActionInterval.prototype.initWithDuration.call(this,C$Tzt)&&(this._to=cc.color(C$Tze,C$Tzi,C$Tzn),!0);},clone:function(){var C$Tzt=new cc.TintTo(),C$Tze=(this._cloneDecoration(C$Tzt),this._to);return C$Tzt.initWithDuration(this._duration,C$Tze.r,C$Tze.g,C$Tze.b),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt),this._from=this.target.color;},update:function(C$Tzt){C$Tzt=this._computeEaseTime(C$Tzt);var C$Tze=this._from,C$Tzi=this._to;C$Tze&&(this.target.color=cc.color(C$Tze.r+(C$Tzi.r-C$Tze.r)*C$Tzt,C$Tze.g+(C$Tzi.g-C$Tze.g)*C$Tzt,C$Tze.b+(C$Tzi.b-C$Tze.b)*C$Tzt));}}),cc.tintTo=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return new cc.TintTo(C$Tzt,C$Tze,C$Tzi,C$Tzn);},cc.TintBy=cc.Class({name:H[448],extends:cc.ActionInterval,ctor:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._deltaR=0,this._deltaG=0,this._deltaB=0,this._fromR=0,this._fromG=0,void(this._fromB=0)!==C$Tzn&&this.initWithDuration(C$Tzt,C$Tze,C$Tzi,C$Tzn);},initWithDuration:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return!!cc.ActionInterval.prototype.initWithDuration.call(this,C$Tzt)&&(this._deltaR=C$Tze,this._deltaG=C$Tzi,this._deltaB=C$Tzn,!0);},clone:function(){var C$Tzt=new cc.TintBy();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration,this._deltaR,this._deltaG,this._deltaB),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt);C$Tzt=C$Tzt.color;this._fromR=C$Tzt.r,this._fromG=C$Tzt.g,this._fromB=C$Tzt.b;},update:function(C$Tzt){C$Tzt=this._computeEaseTime(C$Tzt),this.target.color=cc.color(this._fromR+this._deltaR*C$Tzt,this._fromG+this._deltaG*C$Tzt,this._fromB+this._deltaB*C$Tzt);},reverse:function(){var C$Tzt=new cc.TintBy(this._duration,-this._deltaR,-this._deltaG,-this._deltaB);return this._cloneDecoration(C$Tzt),this._reverseEaseList(C$Tzt),C$Tzt;}}),cc.tintBy=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return new cc.TintBy(C$Tzt,C$Tze,C$Tzi,C$Tzn);},cc.DelayTime=cc.Class({name:H[449],extends:cc.ActionInterval,update:function(C$Tzt){},reverse:function(){var C$Tzt=new cc.DelayTime(this._duration);return this._cloneDecoration(C$Tzt),this._reverseEaseList(C$Tzt),C$Tzt;},clone:function(){var C$Tzt=new cc.DelayTime();return this._cloneDecoration(C$Tzt),C$Tzt.initWithDuration(this._duration),C$Tzt;}}),cc.delayTime=function(C$Tzt){return new cc.DelayTime(C$Tzt);},cc.ReverseTime=cc.Class({name:H[450],extends:cc.ActionInterval,ctor:function(C$Tzt){this._other=null,C$Tzt&&this.initWithAction(C$Tzt);},initWithAction:function(C$Tzt){return C$Tzt?C$Tzt===this._other?(cc.errorID(1029),!1):!!cc.ActionInterval.prototype.initWithDuration.call(this,C$Tzt._duration)&&(this._other=C$Tzt,!0):(cc.errorID(1028),!1);},clone:function(){var C$Tzt=new cc.ReverseTime();return this._cloneDecoration(C$Tzt),C$Tzt.initWithAction(this._other.clone()),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt),this._other.startWithTarget(C$Tzt);},update:function(C$Tzt){C$Tzt=this._computeEaseTime(C$Tzt),this._other&&this._other.update(1-C$Tzt);},reverse:function(){return this._other.clone();},stop:function(){this._other.stop(),cc.Action.prototype.stop.call(this);}}),cc.reverseTime=function(C$Tzt){return new cc.ReverseTime(C$Tzt);},cc.TargetedAction=cc.Class({name:H[451],extends:cc.ActionInterval,ctor:function(C$Tzt,C$Tze){this._action=null,this._forcedTarget=null,C$Tze&&this.initWithTarget(C$Tzt,C$Tze);},initWithTarget:function(C$Tzt,C$Tze){return!!this.initWithDuration(C$Tze._duration)&&(this._forcedTarget=C$Tzt,this._action=C$Tze,!0);},clone:function(){var C$Tzt=new cc.TargetedAction();return this._cloneDecoration(C$Tzt),C$Tzt.initWithTarget(this._forcedTarget,this._action.clone()),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt),this._action.startWithTarget(this._forcedTarget);},stop:function(){this._action.stop();},update:function(C$Tzt){C$Tzt=this._computeEaseTime(C$Tzt),this._action.update(C$Tzt);},getForcedTarget:function(){return this._forcedTarget;},setForcedTarget:function(C$Tzt){this._forcedTarget!==C$Tzt&&(this._forcedTarget=C$Tzt);}}),cc.targetedAction=function(C$Tzt,C$Tze){return new cc.TargetedAction(C$Tzt,C$Tze);};},{}],7:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[406]);function C$Tzn(){this.actions=[],this.target=null,this.actionIndex=0,this.currentAction=null,this.paused=!1,this.lock=!1;}var C$Tzr=C$Tzt(H[452]);cc.ActionManager=function(){this._hashTargets=C$Tzr.createMap(!0),this._arrayTargets=[],this._currentTarget=null,cc.director._scheduler&&cc.director._scheduler.enableForTarget(this);},cc.ActionManager.prototype={constructor:cc.ActionManager,_elementPool:[],_searchElementByTarget:function(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tzt.length;C$Tzi++)if(C$Tze===C$Tzt[C$Tzi].target)return C$Tzt[C$Tzi];return null;},_getElement:function(C$Tzt,C$Tze){var C$Tzi=this._elementPool.pop();return(C$Tzi=C$Tzi||new C$Tzn()).target=C$Tzt,C$Tzi.paused=!!C$Tze,C$Tzi;},_putElement:function(C$Tzt){C$Tzt.actions.length=0,C$Tzt.actionIndex=0,C$Tzt.currentAction=null,C$Tzt.paused=!1,C$Tzt.target=null,C$Tzt.lock=!1,this._elementPool.push(C$Tzt);},addAction:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn;C$Tzt&&C$Tze?((C$Tzn=this._hashTargets[C$Tze._id])?C$Tzn.actions||(C$Tzn.actions=[]):(C$Tzn=this._getElement(C$Tze,C$Tzi),this._hashTargets[C$Tze._id]=C$Tzn,this._arrayTargets.push(C$Tzn)),C$Tzn.actions.push(C$Tzt),C$Tzt.startWithTarget(C$Tze)):cc.errorID(1e3);},removeAllActions:function(){for(var C$Tzt=this._arrayTargets,C$Tze=0;C$Tze<C$Tzt.length;C$Tze++){var C$Tzi=C$Tzt[C$Tze];C$Tzi&&this._putElement(C$Tzi);}this._arrayTargets.length=0,this._hashTargets=C$Tzr.createMap(!0);},removeAllActionsFromTarget:function(C$Tzt,C$Tze){null==C$Tzt||(C$Tzt=this._hashTargets[C$Tzt._id])&&(C$Tzt.actions.length=0,this._deleteHashElement(C$Tzt));},removeAction:function(C$Tzt){if(null!=C$Tzt){var C$Tze=C$Tzt.getOriginalTarget(),C$Tzi=this._hashTargets[C$Tze._id];if(C$Tzi){for(var C$Tzn=0;C$Tzn<C$Tzi.actions.length;C$Tzn++)if(C$Tzi.actions[C$Tzn]===C$Tzt){C$Tzi.actions.splice(C$Tzn,1),C$Tzi.actionIndex>=C$Tzn&&C$Tzi.actionIndex--;break;}}else cc.logID(1001);}},_removeActionByTag:function(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn=0,C$Tzr=C$Tze.actions.length;C$Tzn<C$Tzr;++C$Tzn){var C$Tzs=C$Tze.actions[C$Tzn];if(C$Tzs&&C$Tzs.getTag()===C$Tzt&&(!C$Tzi||C$Tzs.getOriginalTarget()===C$Tzi)){this._removeActionAtIndex(C$Tzn,C$Tze);break;}}},removeActionByTag:function(C$Tzt,C$Tze){C$Tzt===cc.Action.TAG_INVALID&&cc.logID(1002);var C$Tzi=this._hashTargets;if(C$Tze){var C$Tzn=C$Tzi[C$Tze._id];C$Tzn&&this._removeActionByTag(C$Tzt,C$Tzn,C$Tze);}else for(var C$Tzr in C$Tzi){C$Tzr=C$Tzi[C$Tzr];this._removeActionByTag(C$Tzt,C$Tzr);}},getActionByTag:function(C$Tzt,C$Tze){C$Tzt===cc.Action.TAG_INVALID&&cc.logID(1004);var C$Tzi=this._hashTargets[C$Tze._id];if(C$Tzi){if(null!=C$Tzi.actions)for(var C$Tzn=0;C$Tzn<C$Tzi.actions.length;++C$Tzn){var C$Tzr=C$Tzi.actions[C$Tzn];if(C$Tzr&&C$Tzr.getTag()===C$Tzt)return C$Tzr;}cc.logID(1005,C$Tzt);}return null;},getNumberOfRunningActionsInTarget:function(C$Tzt){C$Tzt=this._hashTargets[C$Tzt._id];return C$Tzt&&C$Tzt.actions?C$Tzt.actions.length:0;},pauseTarget:function(C$Tzt){C$Tzt=this._hashTargets[C$Tzt._id];C$Tzt&&(C$Tzt.paused=!0);},resumeTarget:function(C$Tzt){C$Tzt=this._hashTargets[C$Tzt._id];C$Tzt&&(C$Tzt.paused=!1);},pauseAllRunningActions:function(){for(var C$Tzt=[],C$Tze=this._arrayTargets,C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn&&!C$Tzn.paused&&(C$Tzn.paused=!0,C$Tzt.push(C$Tzn.target));}return C$Tzt;},resumeTargets:function(C$Tzt){if(C$Tzt)for(var C$Tze=0;C$Tze<C$Tzt.length;C$Tze++)C$Tzt[C$Tze]&&this.resumeTarget(C$Tzt[C$Tze]);},pauseTargets:function(C$Tzt){if(C$Tzt)for(var C$Tze=0;C$Tze<C$Tzt.length;C$Tze++)C$Tzt[C$Tze]&&this.pauseTarget(C$Tzt[C$Tze]);},purgeSharedManager:function(){cc.director.getScheduler().unscheduleUpdate(this);},_removeActionAtIndex:function(C$Tzt,C$Tze){C$Tze.actions[C$Tzt];C$Tze.actions.splice(C$Tzt,1),C$Tze.actionIndex>=C$Tzt&&C$Tze.actionIndex--,0===C$Tze.actions.length&&this._deleteHashElement(C$Tze);},_deleteHashElement:function(C$Tzt){var C$Tze=!1;if(C$Tzt&&!C$Tzt.lock&&this._hashTargets[C$Tzt.target._id]){delete this._hashTargets[C$Tzt.target._id];for(var C$Tzi=this._arrayTargets,C$Tzn=0,C$Tzr=C$Tzi.length;C$Tzn<C$Tzr;C$Tzn++)if(C$Tzi[C$Tzn]===C$Tzt){C$Tzi.splice(C$Tzn,1);break;}this._putElement(C$Tzt),C$Tze=!0;}return C$Tze;},update:function(C$Tzt){for(var C$Tze,C$Tzi,C$Tzn=this._arrayTargets,C$Tzr=0;C$Tzr<C$Tzn.length;C$Tzr++){if(this._currentTarget=C$Tzn[C$Tzr],!(C$Tze=this._currentTarget).paused&&C$Tze.actions){for(C$Tze.lock=!0,C$Tze.actionIndex=0;C$Tze.actionIndex<C$Tze.actions.length;C$Tze.actionIndex++)C$Tze.currentAction=C$Tze.actions[C$Tze.actionIndex],C$Tze.currentAction&&(C$Tze.currentAction.step(C$Tzt*(C$Tze.currentAction._speedMethod?C$Tze.currentAction._speed:1)),C$Tze.currentAction&&C$Tze.currentAction.isDone()&&(C$Tze.currentAction.stop(),C$Tzi=C$Tze.currentAction,C$Tze.currentAction=null,this.removeAction(C$Tzi)),C$Tze.currentAction=null);C$Tze.lock=!1;}0===C$Tze.actions.length&&this._deleteHashElement(C$Tze)&&C$Tzr--;}}};},{"../core/platform/CCClass":189,"../core/platform/js":209}],8:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[453]),C$Tzt(H[454]),C$Tzt(H[455]),C$Tzt(H[456]),C$Tzt(H[457]),C$Tzt(H[458]),C$Tzt(H[459]);},{"./CCAction":2,"./CCActionCatmullRom":3,"./CCActionEase":4,"./CCActionInstant":5,"./CCActionInterval":6,"./CCActionManager":7,"./tween":9}],9:[function(C$Tzh,C$Tzu,C$Tz_){"use strict";var C$Tzl=C$Tzh(H[460]),C$Tzd=0,C$Tzn=cc.Class({name:H[461],extends:cc.ActionInterval,ctor:function(C$Tzt,C$Tze,C$Tzi){this._opts=C$Tzi=C$Tzi||Object.create(null),this._props=Object.create(null),C$Tzi.progress=C$Tzi.progress||this.progress,C$Tzi.easing&&H[462]==typeof C$Tzi.easing&&(C$Tzn=C$Tzi.easing,C$Tzi.easing=cc.easing[C$Tzn],C$Tzi.easing||cc.warnID(1031,C$Tzn));var C$Tzn,C$Tzr,C$Tzs=this._opts.relative;for(C$Tzr in C$Tze){var C$Tzo,C$Tza=C$Tze[C$Tzr],C$Tzc=void 0,C$Tzl=void 0;void 0!==C$Tza.value&&(C$Tza.easing||C$Tza.progress)&&(H[462]==typeof C$Tza.easing?(C$Tzc=cc.easing[C$Tza.easing])||cc.warnID(1031,C$Tza.easing):C$Tzc=C$Tza.easing,C$Tzl=C$Tza.progress,C$Tza=C$Tza.value),H[463]==typeof C$Tza||C$Tza.lerp&&(!C$Tzs||C$Tza.add||C$Tza.mul)&&C$Tza.clone?((C$Tzo=Object.create(null)).value=C$Tza,C$Tzo.easing=C$Tzc,C$Tzo.progress=C$Tzl,this._props[C$Tzr]=C$Tzo):cc.warn(H[464]+C$Tzr+H[465]);}this._originProps=C$Tze,this.initWithDuration(C$Tzt);},clone:function(){var C$Tzt=new C$Tzn(this._duration,this._originProps,this._opts);return this._cloneDecoration(C$Tzt),C$Tzt;},startWithTarget:function(C$Tzt){cc.ActionInterval.prototype.startWithTarget.call(this,C$Tzt);var C$Tze,C$Tzi=!!this._opts.relative,C$Tzn=this._props;for(C$Tze in C$Tzn){var C$Tzr=C$Tzt[C$Tze],C$Tzs=C$Tzn[C$Tze];H[463]==typeof C$Tzr?(C$Tzs.start=C$Tzr,C$Tzs.current=C$Tzr,C$Tzs.end=C$Tzi?C$Tzr+C$Tzs.value:C$Tzs.value):(C$Tzs.start=C$Tzr.clone(),C$Tzs.current=C$Tzr.clone(),C$Tzs.end=C$Tzi?(C$Tzr.add||C$Tzr.mul).call(C$Tzr,C$Tzs.value):C$Tzs.value);}},update:function(C$Tzt){var C$Tze=this._opts,C$Tzi=C$Tzt,C$Tzn=(C$Tze.easing&&(C$Tzi=C$Tze.easing(C$Tzt)),this.target);if(C$Tzn){var C$Tzr,C$Tzs=this._props,C$Tzo=this._opts.progress;for(C$Tzr in C$Tzs){var C$Tza=C$Tzs[C$Tzr],C$Tzc=C$Tza.easing?C$Tza.easing(C$Tzt):C$Tzi,C$Tza=C$Tza.current=(C$Tza.progress||C$Tzo)(C$Tza.start,C$Tza.end,C$Tza.current,C$Tzc);C$Tzn[C$Tzr]=C$Tza;}}},progress:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return H[463]==typeof C$Tzt?C$Tzi=C$Tzt+(C$Tze-C$Tzt)*C$Tzn:C$Tzt.lerp(C$Tze,C$Tzn,C$Tzi),C$Tzi;}}),C$Tze=cc.Class({name:H[466],extends:cc.ActionInstant,ctor:function(C$Tzt){this._props={},void 0!==C$Tzt&&this.init(C$Tzt);},init:function(C$Tzt){for(var C$Tze in C$Tzt)this._props[C$Tze]=C$Tzt[C$Tze];return!0;},update:function(){var C$Tzt,C$Tze=this._props,C$Tzi=this.target;for(C$Tzt in C$Tze)C$Tzi[C$Tzt]=C$Tze[C$Tzt];},clone:function(){var C$Tzt=new C$Tze();return C$Tzt.init(this._props),C$Tzt;}});function C$Tzr(C$Tzt){this._actions=[],this._finalAction=null,this._target=C$Tzt,this._tag=cc.Action.TAG_INVALID;}C$Tzr.stopAll=function(){cc.director.getActionManager().removeAllActions();},C$Tzr.stopAllByTag=function(C$Tzt){cc.director.getActionManager().removeActionByTag(C$Tzt);},C$Tzr.stopAllByTarget=function(C$Tzt){cc.director.getActionManager().removeAllActionsFromTarget(C$Tzt);},C$Tzr.prototype.then=function(C$Tzt){return C$Tzt instanceof cc.Action?this._actions.push(C$Tzt.clone()):this._actions.push(C$Tzt._union()),this;},C$Tzr.prototype.target=function(C$Tzt){return this._target=C$Tzt,this;},C$Tzr.prototype.start=function(){var C$Tzt=this._target;return C$Tzt?C$Tzt instanceof cc.Object&&!C$Tzt.isValid?void 0:(this._finalAction&&cc.director.getActionManager().removeAction(this._finalAction),this._finalAction=this._union(),void 0===C$Tzt._id&&(C$Tzt._id=++C$Tzd),this._finalAction.setTag(this._tag),cc.director.getActionManager().addAction(this._finalAction,C$Tzt,!1),this):(cc.warn(H[467]),this);},C$Tzr.prototype.stop=function(){return this._finalAction&&cc.director.getActionManager().removeAction(this._finalAction),this;},C$Tzr.prototype.tag=function(C$Tzt){return this._tag=C$Tzt,this;},C$Tzr.prototype.clone=function(C$Tzt){var C$Tze=this._union();return cc.tween(C$Tzt).then(C$Tze.clone());},C$Tzr.prototype.union=function(){var C$Tzt=this._union();return this._actions.length=0,this._actions.push(C$Tzt),this;},C$Tzr.prototype._union=function(){var C$Tzt=this._actions;return C$Tzt=1===C$Tzt.length?C$Tzt[0]:cc.sequence(C$Tzt);},Object.assign(C$Tzr.prototype,{bezierTo:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs=C$Tze.x,C$Tzo=C$Tze.y,C$Tza=C$Tzi.x,C$Tzc=C$Tzi.y;return(C$Tzr=C$Tzr||Object.create(null)).progress=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzi.x=(0,C$Tzl.bezier)(C$Tzt.x,C$Tzs,C$Tza,C$Tze.x,C$Tzn),C$Tzi.y=(0,C$Tzl.bezier)(C$Tzt.y,C$Tzo,C$Tzc,C$Tze.y,C$Tzn),C$Tzi;},this.to(C$Tzt,{position:C$Tzn},C$Tzr);},bezierBy:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs=C$Tze.x,C$Tzo=C$Tze.y,C$Tza=C$Tzi.x,C$Tzc=C$Tzi.y;return(C$Tzr=C$Tzr||Object.create(null)).progress=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tzt.x,C$Tzt=C$Tzt.y;return C$Tzi.x=(0,C$Tzl.bezier)(C$Tzr,C$Tzs+C$Tzr,C$Tza+C$Tzr,C$Tze.x,C$Tzn),C$Tzi.y=(0,C$Tzl.bezier)(C$Tzt,C$Tzo+C$Tzt,C$Tzc+C$Tzt,C$Tze.y,C$Tzn),C$Tzi;},this.by(C$Tzt,{position:C$Tzn},C$Tzr);},flipX:function(){var C$Tzt=this;return this.call(function(){C$Tzt._target.scaleX*=-1;},this);},flipY:function(){var C$Tzt=this;return this.call(function(){C$Tzt._target.scaleY*=-1;},this);},blink:function(C$Tzt,C$Tze,C$Tzi){var C$Tzr=1/C$Tze;return(C$Tzi=C$Tzi||Object.create(null)).progress=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return 1<=C$Tzn?C$Tzt:C$Tzr/2<C$Tzn%C$Tzr?255:0;},this.to(C$Tzt,{opacity:1},C$Tzi);}});var C$Tzs=[];function C$Tzt(C$Tzn){return function(){C$Tzs.length=0;for(var C$Tzt=arguments.length,C$Tze=0;C$Tze<C$Tzt;C$Tze++){var C$Tzi=C$Tzs[C$Tze]=arguments[C$Tze];C$Tzi instanceof C$Tzr&&(C$Tzs[C$Tze]=C$Tzi._union());}return C$Tzn.apply(this,C$Tzs);};}for(var C$Tzi={to:function(C$Tzt,C$Tze,C$Tzi){return(C$Tzi=C$Tzi||Object.create(null)).relative=!1,new C$Tzn(C$Tzt,C$Tze,C$Tzi);},by:function(C$Tzt,C$Tze,C$Tzi){return(C$Tzi=C$Tzi||Object.create(null)).relative=!0,new C$Tzn(C$Tzt,C$Tze,C$Tzi);},set:function(C$Tzt){return new C$Tze(C$Tzt);},delay:cc.delayTime,call:cc.callFunc,hide:cc.hide,show:cc.show,removeSelf:cc.removeSelf,sequence:C$Tzt(cc.sequence),parallel:C$Tzt(cc.spawn)},C$Tzf={repeat:cc.repeat,repeatForever:function(C$Tzt){return cc.repeat(C$Tzt,1e9);},reverseTime:cc.reverseTime},C$Tzo=Object.keys(C$Tzi),C$Tza=0;C$Tza<C$Tzo.length;C$Tza++)!function(C$Tzt){var C$Tze=C$Tzo[C$Tzt];C$Tzr.prototype[C$Tze]=function(){var C$Tzt=C$Tzi[C$Tze].apply(this,arguments);return this._actions.push(C$Tzt),this;};}(C$Tza);for(var C$Tzo=Object.keys(C$Tzf),C$Tzc=0;C$Tzc<C$Tzo.length;C$Tzc++)!function(C$Tzt){var C$Tzs=C$Tzo[C$Tzt];C$Tzr.prototype[C$Tzs]=function(){for(var C$Tzt=this._actions,C$Tze=arguments[arguments.length-1],C$Tzi=arguments.length-1,C$Tzn=(C$Tze instanceof cc.Tween?C$Tze=C$Tze._union():C$Tze instanceof cc.Action||(C$Tze=C$Tzt[C$Tzt.length-1],--C$Tzt.length,C$Tzi+=1),[C$Tze]),C$Tzr=0;C$Tzr<C$Tzi;C$Tzr++)C$Tzn.push(arguments[C$Tzr]);return C$Tze=C$Tzf[C$Tzs].apply(this,C$Tzn),C$Tzt.push(C$Tze),this;};}(C$Tzc);cc.tween=function(C$Tzt){return new C$Tzr(C$Tzt);},cc.Tween=C$Tzr;},{"../animation/bezier":15}],10:[function(C$Tzt,C$Tze,C$Tza){"use strict";var C$Tzi=cc.js,C$Tzn=C$Tzt(H[468]),C$Tzr=C$Tzt(H[469]),C$Tz_=C$Tzr.EventAnimCurve,C$Tzd=C$Tzr.EventInfo,C$Tzf=C$Tzt(H[470]).WrapModeMask,C$Tzp=C$Tzt(H[471]).binarySearchEpsilon;function C$Tzs(C$Tzt,C$Tze){C$Tzn.call(this),this.target=C$Tzt,this.animation=C$Tze,this._anims=new C$Tzi.array.MutableForwardIterator([]);}C$Tzi.extend(C$Tzs,C$Tzn);C$Tzr=C$Tzs.prototype;function C$Tzo(C$Tzt,C$Tze){var C$Tzi=C$Tze.clip,C$Tzh=(C$Tze.duration=C$Tzi.duration,C$Tze.speed=C$Tzi.speed,C$Tze.wrapMode=C$Tzi.wrapMode,C$Tze.frameRate=C$Tzi.sample,(C$Tze.wrapMode&C$Tzf.Loop)===C$Tzf.Loop?C$Tze.repeatCount=1/0:C$Tze.repeatCount=1,C$Tze.curves=C$Tzi.createCurves(C$Tze,C$Tzt)),C$Tzn=C$Tzi.events;if(C$Tzn)for(var C$Tzr,C$Tzs=0,C$Tzu=C$Tzn.length;C$Tzs<C$Tzu;C$Tzs++){C$Tzr||((C$Tzr=new C$Tz_()).target=C$Tzt,C$Tzh.push(C$Tzr));var C$Tzo=C$Tzn[C$Tzs],C$Tza=C$Tzo.frame/C$Tze.duration,C$Tzc=void 0,C$Tzl=C$Tzp(C$Tzr.ratios,C$Tza);0<=C$Tzl?C$Tzc=C$Tzr.events[C$Tzl]:(C$Tzc=new C$Tzd(),C$Tzr.ratios.push(C$Tza),C$Tzr.events.push(C$Tzc)),C$Tzc.add(C$Tzo.func,C$Tzo.params);}}C$Tzr.playState=function(C$Tzt,C$Tze){C$Tzt.clip&&(C$Tzt.curveLoaded||C$Tzo(this.target,C$Tzt),C$Tzt.animator=this,C$Tzt.play(),H[463]==typeof C$Tze&&C$Tzt.setTime(C$Tze),this.play());},C$Tzr.stopStatesExcept=function(C$Tzt){var C$Tze=this._anims,C$Tzi=C$Tze.array;for(C$Tze.i=0;C$Tze.i<C$Tzi.length;++C$Tze.i){var C$Tzn=C$Tzi[C$Tze.i];C$Tzn!==C$Tzt&&this.stopState(C$Tzn);}},C$Tzr.addAnimation=function(C$Tzt){-1===this._anims.array.indexOf(C$Tzt)&&this._anims.push(C$Tzt),C$Tzt._setEventTarget(this.animation);},C$Tzr.removeAnimation=function(C$Tzt){var C$Tze=this._anims.array.indexOf(C$Tzt);0<=C$Tze?(this._anims.fastRemoveAt(C$Tze),0===this._anims.array.length&&this.stop()):cc.errorID(3907),C$Tzt.animator=null;},C$Tzr.sample=function(){var C$Tzt=this._anims,C$Tze=C$Tzt.array;for(C$Tzt.i=0;C$Tzt.i<C$Tze.length;++C$Tzt.i)C$Tze[C$Tzt.i].sample();},C$Tzr.stopState=function(C$Tzt){C$Tzt&&C$Tzt.stop();},C$Tzr.pauseState=function(C$Tzt){C$Tzt&&C$Tzt.pause();},C$Tzr.resumeState=function(C$Tzt){C$Tzt&&C$Tzt.resume(),this.isPaused&&this.resume();},C$Tzr.setStateTime=function(C$Tzt,C$Tze){if(void 0!==C$Tze)C$Tzt&&(C$Tzt.setTime(C$Tze),C$Tzt.sample());else{C$Tze=C$Tzt;for(var C$Tzi=this._anims.array,C$Tzn=0;C$Tzn<C$Tzi.length;++C$Tzn){var C$Tzr=C$Tzi[C$Tzn];C$Tzr.setTime(C$Tze),C$Tzr.sample();}}},C$Tzr.onStop=function(){var C$Tzt=this._anims,C$Tze=C$Tzt.array;for(C$Tzt.i=0;C$Tzt.i<C$Tze.length;++C$Tzt.i)C$Tze[C$Tzt.i].stop();},C$Tzr.onPause=function(){for(var C$Tzt=this._anims.array,C$Tze=0;C$Tze<C$Tzt.length;++C$Tze){var C$Tzi=C$Tzt[C$Tze];C$Tzi.pause(),C$Tzi.animator=null;}},C$Tzr.onResume=function(){for(var C$Tzt=this._anims.array,C$Tze=0;C$Tze<C$Tzt.length;++C$Tze){var C$Tzi=C$Tzt[C$Tze];C$Tzi.animator=this,C$Tzi.resume();}},C$Tzr._reloadClip=function(C$Tzt){C$Tzo(this.target,C$Tzt);},C$Tze.exports=C$Tzs;},{"../core/utils/binary-search":256,"./animation-curves":12,"./playable":19,"./types":20}],11:[function(C$Tzt,C$Tze,C$Tzr){"use strict";var C$Tzi=C$Tzt(H[470]).WrapMode,C$Tzn=C$Tzt(H[469]),C$Tzm=C$Tzn.DynamicAnimCurve,C$Tzy=C$Tzn.quickFindIndex,C$Tzg=C$Tzt(H[472]).sampleMotionPaths,C$Tzv=C$Tzt(H[471]).binarySearchEpsilon,C$Tza=cc.Class({name:H[473],extends:cc.Asset,properties:{_duration:{default:0,type:cc.Float},duration:{get:function(){return this._duration;}},sample:{default:60},speed:{default:1},wrapMode:{default:C$Tzi.Normal},curveData:{default:{},visible:!1},events:{default:[],visible:!1}},statics:{createWithSpriteFrames:function(C$Tzt,C$Tze){if(!Array.isArray(C$Tzt))return cc.errorID(3905),null;for(var C$Tzi=new C$Tza(),C$Tzn=(C$Tzi.sample=C$Tze||C$Tzi.sample,C$Tzi._duration=C$Tzt.length/C$Tzi.sample,[]),C$Tzr=1/C$Tzi.sample,C$Tzs=0,C$Tzo=C$Tzt.length;C$Tzs<C$Tzo;C$Tzs++)C$Tzn[C$Tzs]={frame:C$Tzs*C$Tzr,value:C$Tzt[C$Tzs]};return C$Tzi.curveData={comps:{"cc.Sprite":{spriteFrame:C$Tzn}}},C$Tzi;}},onLoad:function(){this._duration=Number.parseFloat(this.duration),this.speed=Number.parseFloat(this.speed),this.wrapMode=Number.parseInt(this.wrapMode),this.frameRate=Number.parseFloat(this.sample);},createPropCurve:function(C$Tzt,C$Tze,C$Tzi){var C$Tzh=[],C$Tzu=C$Tzt instanceof cc.Node&&H[474]===C$Tze,C$Tzn=new C$Tzm();C$Tzn.target=C$Tzt,C$Tzn.prop=C$Tze;for(var C$Tzr=0,C$Tz_=C$Tzi.length;C$Tzr<C$Tz_;C$Tzr++){var C$Tzs=C$Tzi[C$Tzr],C$Tzo=C$Tzs.frame/this.duration,C$Tzo=(C$Tzn.ratios.push(C$Tzo),C$Tzu&&C$Tzh.push(C$Tzs.motionPath),C$Tzs.value),C$Tzo=(C$Tzn.values.push(C$Tzo),C$Tzs.curve);if(C$Tzo){if(H[462]==typeof C$Tzo){C$Tzn.types.push(C$Tzo);continue;}if(Array.isArray(C$Tzo)){C$Tzo[0]===C$Tzo[1]&&C$Tzo[2]===C$Tzo[3]?C$Tzn.types.push(C$Tzm.Linear):C$Tzn.types.push(C$Tzm.Bezier(C$Tzo));continue;}}C$Tzn.types.push(C$Tzm.Linear);}C$Tzu&&C$Tzg(C$Tzh,C$Tzn,this.duration,this.sample,C$Tzt);for(var C$Tza,C$Tzd,C$Tzc=C$Tzn.ratios,C$Tzf=!0,C$Tzl=1,C$Tzp=C$Tzc.length;C$Tzl<C$Tzp;C$Tzl++)if(C$Tza=C$Tzc[C$Tzl]-C$Tzc[C$Tzl-1],1===C$Tzl)C$Tzd=C$Tza;else if(1e-6<Math.abs(C$Tza-C$Tzd)){C$Tzf=!1;break;}C$Tzn._findFrameIndex=C$Tzf?C$Tzy:C$Tzv;C$Tze=C$Tzn.values[0];return null==C$Tze||C$Tzn._lerp||(H[463]==typeof C$Tze?C$Tzn._lerp=C$Tzm.prototype._lerpNumber:C$Tze instanceof cc.Quat?C$Tzn._lerp=C$Tzm.prototype._lerpQuat:C$Tze instanceof cc.Vec2||C$Tze instanceof cc.Vec3?C$Tzn._lerp=C$Tzm.prototype._lerpVector:C$Tze.lerp&&(C$Tzn._lerp=C$Tzm.prototype._lerpObject)),C$Tzn;},createTargetCurves:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tze.props,C$Tzr=C$Tze.comps;if(C$Tzn)for(var C$Tzs in C$Tzn){var C$Tzh=C$Tzn[C$Tzs],C$Tzs=this.createPropCurve(C$Tzt,C$Tzs,C$Tzh);C$Tzi.push(C$Tzs);}if(C$Tzr)for(var C$Tzo in C$Tzr){var C$Tza=C$Tzt.getComponent(C$Tzo);if(C$Tza){var C$Tzc,C$Tzl=C$Tzr[C$Tzo];for(C$Tzc in C$Tzl){var C$Tzu=C$Tzl[C$Tzc],C$Tzu=this.createPropCurve(C$Tza,C$Tzc,C$Tzu);C$Tzi.push(C$Tzu);}}}},createCurves:function(C$Tzt,C$Tze){var C$Tzi,C$Tzn=this.curveData,C$Tzr=C$Tzn.paths,C$Tzs=[];for(C$Tzi in this.createTargetCurves(C$Tze,C$Tzn,C$Tzs),C$Tzr){var C$Tzo,C$Tza=cc.find(C$Tzi,C$Tze);C$Tza&&(C$Tzo=C$Tzr[C$Tzi],this.createTargetCurves(C$Tza,C$Tzo,C$Tzs));}return C$Tzs;}});cc.AnimationClip=C$Tze.exports=C$Tza;},{"../core/utils/binary-search":256,"./animation-curves":12,"./motion-path-helper":18,"./types":20}],12:[function(C$Tzt,C$Tze,C$Tzo){"use strict";var C$Tza=C$Tzt(H[475]).bezierByTime,C$Tz_=C$Tzt(H[471]).binarySearchEpsilon,C$Tzd=C$Tzt(H[470]).WrapModeMask,C$Tzf=C$Tzt(H[470]).WrappedInfo;function C$Tzl(C$Tzt,C$Tze){var C$Tzi;return H[462]==typeof C$Tze?(C$Tzi=cc.easing[C$Tze])?C$Tzt=C$Tzi(C$Tzt):cc.errorID(3906,C$Tze):Array.isArray(C$Tze)&&(C$Tzt=C$Tza(C$Tze,C$Tzt)),C$Tzt;}C$Tzt=cc.Class({name:H[476],sample:function(C$Tzt,C$Tze,C$Tzi){},onTimeChangedManually:void 0});function C$Tzi(){this.events=[];}var C$Tzn,C$Tzr,C$Tzs=cc.Class({name:H[477],extends:C$Tzt,ctor:function(){this._cachedIndex=0;},properties:{target:null,prop:"",values:[],ratios:[],types:[]},_findFrameIndex:C$Tz_,_lerp:void 0,_lerpNumber:function(C$Tzt,C$Tze,C$Tzi){return C$Tzt+(C$Tze-C$Tzt)*C$Tzi;},_lerpObject:function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.lerp(C$Tze,C$Tzi);},_lerpQuat:(C$Tzr=cc.quat(),function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.lerp(C$Tze,C$Tzi,C$Tzr);}),_lerpVector:(C$Tzn=cc.v3(),function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.lerp(C$Tze,C$Tzi,C$Tzn);}),sample:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr,C$Tzs,C$Tzo=this.values,C$Tza=this.ratios,C$Tzc=C$Tza.length;0!==C$Tzc&&(C$Tzr=!0,(C$Tzn=this._cachedIndex)<0&&0<(C$Tzn=~C$Tzn)&&C$Tzn<C$Tza.length&&(C$Tzs=C$Tza[C$Tzn-1],C$Tzn=C$Tza[C$Tzn],C$Tzs<C$Tze&&C$Tze<C$Tzn&&(C$Tzr=!1)),C$Tzr&&(this._cachedIndex=this._findFrameIndex(C$Tza,C$Tze)),C$Tzr=(C$Tzs=this._cachedIndex)<0?(C$Tzs=~C$Tzs)<=0?C$Tzo[0]:C$Tzc<=C$Tzs?C$Tzo[C$Tzc-1]:(C$Tzn=C$Tzo[C$Tzs-1],this._lerp?(C$Tzc=(C$Tze-(C$Tzr=C$Tza[C$Tzs-1]))/(C$Tza[C$Tzs]-C$Tzr),(C$Tze=this.types[C$Tzs-1])&&(C$Tzc=C$Tzl(C$Tzc,C$Tze)),C$Tza=C$Tzo[C$Tzs],this._lerp(C$Tzn,C$Tza,C$Tzc)):C$Tzn):C$Tzo[C$Tzs],this.target[this.prop]=C$Tzr);}}),C$Tzc=(C$Tzs.Linear=null,C$Tzs.Bezier=function(C$Tzt){return C$Tzt;},C$Tzi.prototype.add=function(C$Tzt,C$Tze){this.events.push({func:C$Tzt||"",params:C$Tze||[]});},cc.Class({name:H[478],extends:C$Tzt,properties:{target:null,ratios:[],events:[],_wrappedInfo:{default:function(){return new C$Tzf();}},_lastWrappedInfo:null,_ignoreIndex:NaN},_wrapIterations:function(C$Tzt){return C$Tzt-(0|C$Tzt)==0&&--C$Tzt,0|C$Tzt;},sample:function(C$Tzh,C$Tzu,C$Tzt){var C$Tze=this.ratios.length,C$Tzi=C$Tzt.getWrappedInfo(C$Tzt.time,this._wrappedInfo),C$Tzn=C$Tzi.direction,C$Tzr=C$Tz_(this.ratios,C$Tzi.ratio);if(C$Tzr<0&&(C$Tzr=~C$Tzr-1,C$Tzn<0&&(C$Tzr+=1)),this._ignoreIndex!==C$Tzr&&(this._ignoreIndex=NaN),C$Tzi.frameIndex=C$Tzr,!this._lastWrappedInfo)return this._fireEvent(C$Tzr),void(this._lastWrappedInfo=new C$Tzf(C$Tzi));var C$Tzs=C$Tzt.wrapMode,C$Tzo=this._wrapIterations(C$Tzi.iterations),C$Tzt=this._lastWrappedInfo,C$Tza=this._wrapIterations(C$Tzt.iterations),C$Tzc=C$Tzt.frameIndex,C$Tzt=C$Tzt.direction,C$Tzl=-1!==C$Tza&&C$Tzo!==C$Tza;if(C$Tzc===C$Tzr&&C$Tzl&&1===C$Tze)this._fireEvent(0);else if(C$Tzc!==C$Tzr||C$Tzl){C$Tzn=C$Tzt;do{if(C$Tzc!==C$Tzr){if(-1===C$Tzn&&0===C$Tzc&&0<C$Tzr?((C$Tzs&C$Tzd.PingPong)===C$Tzd.PingPong?C$Tzn*=-1:C$Tzc=C$Tze,C$Tza++):1===C$Tzn&&C$Tzc===C$Tze-1&&C$Tzr<C$Tze-1&&((C$Tzs&C$Tzd.PingPong)===C$Tzd.PingPong?C$Tzn*=-1:C$Tzc=-1,C$Tza++),C$Tzc===C$Tzr)break;if(C$Tzo<C$Tza)break;}}while((C$Tzc+=C$Tzn,cc.director.getAnimationManager().pushDelayEvent(this,H[479],[C$Tzc]),C$Tzc!==C$Tzr&&-1<C$Tzc&&C$Tzc<C$Tze));}this._lastWrappedInfo.set(C$Tzi);},_fireEvent:function(C$Tzt){if(!(C$Tzt<0||C$Tzt>=this.events.length||this._ignoreIndex===C$Tzt)){var C$Tze=this.events[C$Tzt].events;if(this.target.isValid)for(var C$Tzi=this.target._components,C$Tzn=0;C$Tzn<C$Tze.length;C$Tzn++)for(var C$Tzr=C$Tze[C$Tzn],C$Tzs=C$Tzr.func,C$Tzo=0;C$Tzo<C$Tzi.length;C$Tzo++){var C$Tza=C$Tzi[C$Tzo],C$Tzc=C$Tza[C$Tzs];C$Tzc&&C$Tzc.apply(C$Tza,C$Tzr.params);}}},onTimeChangedManually:function(C$Tzt,C$Tze){this._lastWrappedInfo=null,this._ignoreIndex=NaN;C$Tze=C$Tze.getWrappedInfo(C$Tzt,this._wrappedInfo),C$Tzt=C$Tze.direction,C$Tze=C$Tz_(this.ratios,C$Tze.ratio);C$Tze<0&&(C$Tze=~C$Tze-1,C$Tzt<0&&(C$Tze+=1),this._ignoreIndex=C$Tze);}}));C$Tze.exports={AnimCurve:C$Tzt,DynamicAnimCurve:C$Tzs,EventAnimCurve:C$Tzc,EventInfo:C$Tzi,computeRatioByType:C$Tzl,quickFindIndex:function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.length-1;if(0==C$Tzi)return 0;var C$Tzn=C$Tzt[0];if(C$Tze<C$Tzn)return 0;var C$Tzr=C$Tzt[C$Tzi];return C$Tzr<C$Tze?~C$Tzt.length:(C$Tzt=(C$Tze=(C$Tze-C$Tzn)/(C$Tzr-C$Tzn))/(1/C$Tzi))-(C$Tzr=0|C$Tzt)<1e-6?C$Tzr:1+C$Tzr-C$Tzt<1e-6?1+C$Tzr:~(1+C$Tzr);}};},{"../core/utils/binary-search":256,"./bezier":15,"./types":20}],13:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.js,C$Tzr=cc.Class({ctor:function(){this._anims=new C$Tzn.array.MutableForwardIterator([]),this._delayEvents=[],cc.director._scheduler&&cc.director._scheduler.enableForTarget(this);},update:function(C$Tzt){var C$Tze=this._anims,C$Tzi=C$Tze.array;for(C$Tze.i=0;C$Tze.i<C$Tzi.length;++C$Tze.i){var C$Tzn=C$Tzi[C$Tze.i];C$Tzn._isPlaying&&!C$Tzn._isPaused&&C$Tzn.update(C$Tzt);}for(var C$Tzr=this._delayEvents,C$Tzs=0;C$Tzs<C$Tzr.length;C$Tzs++){var C$Tzo=C$Tzr[C$Tzs];C$Tzo.target[C$Tzo.func].apply(C$Tzo.target,C$Tzo.args);}C$Tzr.length=0;},destruct:function(){},addAnimation:function(C$Tzt){-1===this._anims.array.indexOf(C$Tzt)&&this._anims.push(C$Tzt);},removeAnimation:function(C$Tzt){C$Tzt=this._anims.array.indexOf(C$Tzt);0<=C$Tzt?this._anims.fastRemoveAt(C$Tzt):cc.errorID(3907);},pushDelayEvent:function(C$Tzt,C$Tze,C$Tzi){this._delayEvents.push({target:C$Tzt,func:C$Tze,args:C$Tzi});}});cc.AnimationManager=C$Tze.exports=C$Tzr;},{}],14:[function(C$Tzt,C$Tze,C$Tzh){"use strict";var C$Tzi=cc.js,C$Tzn=C$Tzt(H[468]),C$Tzt=C$Tzt(H[470]),C$Tzc=C$Tzt.WrappedInfo,C$Tzr=C$Tzt.WrapMode,C$Tzl=C$Tzt.WrapModeMask;function C$Tzs(C$Tzt,C$Tze){C$Tzn.call(this),this._currentFramePlayed=!1,this._delay=0,this._delayTime=0,this._wrappedInfo=new C$Tzc(),this._lastWrappedInfo=null,this._process=C$Tzo,this._clip=C$Tzt,this._name=C$Tze||C$Tzt&&C$Tzt.name,this.animator=null,this.curves=[],this.delay=0,this.repeatCount=1,this.duration=1,this.speed=1,this.wrapMode=C$Tzr.Normal,this.time=0,this._target=null,this._lastframeEventOn=!1,this.emit=function(){for(var C$Tzt=new Array(arguments.length),C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++)C$Tzt[C$Tze]=arguments[C$Tze];cc.director.getAnimationManager().pushDelayEvent(this,H[480],C$Tzt);};}C$Tzi.extend(C$Tzs,C$Tzn);C$Tzt=C$Tzs.prototype;function C$Tzo(){var C$Tzt,C$Tze=this.sample();this._lastframeEventOn&&(C$Tzt=this._lastWrappedInfo||(this._lastWrappedInfo=new C$Tzc(C$Tze)),1<this.repeatCount&&(0|C$Tze.iterations)>(0|C$Tzt.iterations)&&this.emit(H[481],this),C$Tzt.set(C$Tze)),C$Tze.stopped&&(this.stop(),this.emit(H[482],this));}function C$Tza(){for(var C$Tzt=this.time,C$Tze=this.duration,C$Tzi=(C$Tze<C$Tzt?0===(C$Tzt%=C$Tze)&&(C$Tzt=C$Tze):C$Tzt<0&&0!==(C$Tzt%=C$Tze)&&(C$Tzt+=C$Tze),C$Tzt/C$Tze),C$Tzn=this.curves,C$Tzr=0,C$Tzs=C$Tzn.length;C$Tzr<C$Tzs;C$Tzr++)C$Tzn[C$Tzr].sample(C$Tzt,C$Tzi,this);this._lastframeEventOn&&(void 0===this._lastIterations&&(this._lastIterations=C$Tzi),(0<this.time&&this._lastIterations>C$Tzi||this.time<0&&this._lastIterations<C$Tzi)&&this.emit(H[481],this),this._lastIterations=C$Tzi);}C$Tzt._emit=function(C$Tzt,C$Tze){this._target&&this._target.isValid&&this._target.emit(C$Tzt,C$Tzt,C$Tze);},C$Tzt.on=function(C$Tzt,C$Tze,C$Tzi){return this._target&&this._target.isValid?(H[481]===C$Tzt&&(this._lastframeEventOn=!0),this._target.on(C$Tzt,C$Tze,C$Tzi)):null;},C$Tzt.once=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn;return this._target&&this._target.isValid?(H[481]===C$Tzt&&(this._lastframeEventOn=!0),(C$Tzn=this)._target.once(C$Tzt,function(C$Tzt){C$Tze.call(C$Tzi,C$Tzt),C$Tzn._lastframeEventOn=!1;})):null;},C$Tzt.off=function(C$Tzt,C$Tze,C$Tzi){this._target&&this._target.isValid&&(H[481]===C$Tzt&&(this._target.hasEventListener(C$Tzt)||(this._lastframeEventOn=!1)),this._target.off(C$Tzt,C$Tze,C$Tzi));},C$Tzt._setEventTarget=function(C$Tzt){this._target=C$Tzt;},C$Tzt.onPlay=function(){this.setTime(0),this._delayTime=this._delay,cc.director.getAnimationManager().addAnimation(this),this.animator&&this.animator.addAnimation(this),this.emit(H[483],this);},C$Tzt.onStop=function(){this.isPaused||cc.director.getAnimationManager().removeAnimation(this),this.animator&&this.animator.removeAnimation(this),this.emit(H[484],this);},C$Tzt.onResume=function(){cc.director.getAnimationManager().addAnimation(this),this.emit(H[485],this);},C$Tzt.onPause=function(){cc.director.getAnimationManager().removeAnimation(this),this.emit(H[486],this);},C$Tzt.setTime=function(C$Tzt){this._currentFramePlayed=!1,this.time=C$Tzt||0;for(var C$Tze=this.curves,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];C$Tzr.onTimeChangedManually&&C$Tzr.onTimeChangedManually(C$Tzt,this);}},C$Tzt.update=function(C$Tzt){0<this._delayTime&&(this._delayTime-=C$Tzt,0<this._delayTime)||(this._currentFramePlayed?this.time+=C$Tzt*this.speed:this._currentFramePlayed=!0,this._process());},C$Tzt._needRevers=function(C$Tzt){var C$Tze=this.wrapMode,C$Tzi=!1;return(C$Tze&C$Tzl.PingPong)===C$Tzl.PingPong&&(C$Tzt-(0|C$Tzt)==0&&0<C$Tzt&&--C$Tzt,1&C$Tzt&&(C$Tzi=!C$Tzi)),C$Tzi=(C$Tze&C$Tzl.Reverse)===C$Tzl.Reverse?!C$Tzi:C$Tzi;},C$Tzt.getWrappedInfo=function(C$Tzt,C$Tze){C$Tze=C$Tze||new C$Tzc();var C$Tzi=!1,C$Tzn=this.duration,C$Tzr=this.repeatCount,C$Tzs=0<C$Tzt?C$Tzt/C$Tzn:-C$Tzt/C$Tzn,C$Tzr=(C$Tzr<=C$Tzs&&(C$Tzi=!0,C$Tzt=(C$Tzr=0===(C$Tzr=(C$Tzs=C$Tzr)-(0|C$Tzr))?1:C$Tzr)*C$Tzn*(0<C$Tzt?1:-1)),C$Tzn<C$Tzt?C$Tzt=0==(C$Tzr=C$Tzt%C$Tzn)?C$Tzn:C$Tzr:C$Tzt<0&&0!==(C$Tzt%=C$Tzn)&&(C$Tzt+=C$Tzn),!1),C$Tzo=this._wrapMode&C$Tzl.ShouldWrap,C$Tza=(C$Tzr=C$Tzo?this._needRevers(C$Tzs):C$Tzr)?-1:1;return this.speed<0&&(C$Tza*=-1),C$Tze.ratio=(C$Tzt=C$Tzo&&C$Tzr?C$Tzn-C$Tzt:C$Tzt)/C$Tzn,C$Tze.time=C$Tzt,C$Tze.direction=C$Tza,C$Tze.stopped=C$Tzi,C$Tze.iterations=C$Tzs,C$Tze;},C$Tzt.sample=function(){for(var C$Tzt=this.getWrappedInfo(this.time,this._wrappedInfo),C$Tze=this.curves,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++)C$Tze[C$Tzi].sample(C$Tzt.time,C$Tzt.ratio,this);return C$Tzt;},C$Tzi.get(C$Tzt,H[487],function(){return this._clip;}),C$Tzi.get(C$Tzt,H[488],function(){return this._name;}),C$Tzi.obsolete(C$Tzt,H[489],H[490]),C$Tzi.getset(C$Tzt,H[491],function(){return 0<this.curves.length;},function(){this.curves.length=0;}),C$Tzi.getset(C$Tzt,H[492],function(){return this._wrapMode;},function(C$Tzt){this._wrapMode=C$Tzt,this.time=0,C$Tzt&C$Tzl.Loop?this.repeatCount=1/0:this.repeatCount=1;}),C$Tzi.getset(C$Tzt,H[493],function(){return this._repeatCount;},function(C$Tzt){this._repeatCount=C$Tzt;var C$Tze=this._wrapMode&C$Tzl.ShouldWrap,C$Tzi=(this.wrapMode&C$Tzl.Reverse)===C$Tzl.Reverse;this._process=1/0!==C$Tzt||C$Tze||C$Tzi?C$Tzo:C$Tza;}),C$Tzi.getset(C$Tzt,H[494],function(){return this._delay;},function(C$Tzt){this._delayTime=this._delay=C$Tzt;}),cc.AnimationState=C$Tze.exports=C$Tzs;},{"./playable":19,"./types":20}],15:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzh=Math.cos,C$Tzu=Math.acos,C$Tz_=Math.max,C$Tzd=2*Math.PI,C$Tzf=Math.sqrt;function C$Tzp(C$Tzt){return C$Tzt<0?-Math.pow(-C$Tzt,1/3):Math.pow(C$Tzt,1/3);}C$Tze.exports={bezier:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs=1-C$Tzr;return C$Tzs*(C$Tzs*(C$Tzt+(3*C$Tze-C$Tzt)*C$Tzr)+3*C$Tzi*C$Tzr*C$Tzr)+C$Tzn*C$Tzr*C$Tzr*C$Tzr;},bezierByTime:function(C$Tzt,C$Tze){var C$Tze=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn,C$Tzr=+C$Tze,C$Tzs=C$Tze-C$Tzt[0],C$Tzo=3*C$Tzr,C$Tza=3*C$Tzs,C$Tzt=3*(C$Tze-C$Tzt[2]),C$Tzt=1/3*(C$Tzs=(C$Tzo-6*C$Tzs+C$Tzt)*(C$Tze=1/(C$Tza-C$Tzr-C$Tzt+(C$Tze-1)))),C$Tzo=1/3*(3*(C$Tza=(C$Tza-C$Tzo)*C$Tze)-C$Tzs*C$Tzs);if((C$Tzr=(C$Tza=(C$Tzs=(2*C$Tzs*C$Tzs*C$Tzs-9*C$Tzs*C$Tza+27*(C$Tzr*C$Tze))/27)/2)*C$Tza+(C$Tzl=1/3*C$Tzo)*C$Tzl*C$Tzl)<0)return C$Tzl=C$Tzf((C$Tze=1/3*-C$Tzo)*C$Tze*C$Tze),C$Tze=C$Tzu((C$Tzo=-C$Tzs/(2*C$Tzl))<-1?-1:1<C$Tzo?1:C$Tzo),C$Tzi=(C$Tzs=2*C$Tzp(C$Tzl))*C$Tzh(C$Tze*(1/3))-C$Tzt,C$Tzn=C$Tzs*C$Tzh((C$Tze+C$Tzd)*(1/3))-C$Tzt,C$Tzo=C$Tzs*C$Tzh((C$Tze+2*C$Tzd)*(1/3))-C$Tzt,0<=C$Tzi&&C$Tzi<=1?0<=C$Tzn&&C$Tzn<=1?0<=C$Tzo&&C$Tzo<=1?C$Tz_(C$Tzi,C$Tzn,C$Tzo):C$Tz_(C$Tzi,C$Tzn):0<=C$Tzo&&C$Tzo<=1?C$Tz_(C$Tzi,C$Tzo):C$Tzi:0<=C$Tzn&&C$Tzn<=1?0<=C$Tzo&&C$Tzo<=1?C$Tz_(C$Tzn,C$Tzo):C$Tzn:C$Tzo;if(0==C$Tzr)return C$Tzn=-(C$Tzc=C$Tza<0?C$Tzp(-C$Tza):-C$Tzp(C$Tza))-C$Tzt,0<=(C$Tzi=2*C$Tzc-C$Tzt)&&C$Tzi<=1?0<=C$Tzn&&C$Tzn<=1?C$Tz_(C$Tzi,C$Tzn):C$Tzi:C$Tzn;var C$Tzc,C$Tzl=C$Tzf(C$Tzr);return C$Tzi=(C$Tzc=C$Tzp(-C$Tza+C$Tzl))-C$Tzp(C$Tza+C$Tzl)-C$Tzt;}(C$Tzt,C$Tze),C$Tzi=C$Tzt[1];return((1-C$Tze)*(C$Tzi+(C$Tzt[3]-C$Tzi)*C$Tze)*3+C$Tze*C$Tze)*C$Tze;}};},{}],16:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn={constant:function(){return 0;},linear:function(C$Tzt){return C$Tzt;},quadIn:function(C$Tzt){return C$Tzt*C$Tzt;},quadOut:function(C$Tzt){return C$Tzt*(2-C$Tzt);},quadInOut:function(C$Tzt){return(C$Tzt*=2)<1?.5*C$Tzt*C$Tzt:-.5*(--C$Tzt*(C$Tzt-2)-1);},cubicIn:function(C$Tzt){return C$Tzt*C$Tzt*C$Tzt;},cubicOut:function(C$Tzt){return--C$Tzt*C$Tzt*C$Tzt+1;},cubicInOut:function(C$Tzt){return(C$Tzt*=2)<1?.5*C$Tzt*C$Tzt*C$Tzt:.5*((C$Tzt-=2)*C$Tzt*C$Tzt+2);},quartIn:function(C$Tzt){return C$Tzt*C$Tzt*C$Tzt*C$Tzt;},quartOut:function(C$Tzt){return 1- --C$Tzt*C$Tzt*C$Tzt*C$Tzt;},quartInOut:function(C$Tzt){return(C$Tzt*=2)<1?.5*C$Tzt*C$Tzt*C$Tzt*C$Tzt:-.5*((C$Tzt-=2)*C$Tzt*C$Tzt*C$Tzt-2);},quintIn:function(C$Tzt){return C$Tzt*C$Tzt*C$Tzt*C$Tzt*C$Tzt;},quintOut:function(C$Tzt){return--C$Tzt*C$Tzt*C$Tzt*C$Tzt*C$Tzt+1;},quintInOut:function(C$Tzt){return(C$Tzt*=2)<1?.5*C$Tzt*C$Tzt*C$Tzt*C$Tzt*C$Tzt:.5*((C$Tzt-=2)*C$Tzt*C$Tzt*C$Tzt*C$Tzt+2);},sineIn:function(C$Tzt){return 1-Math.cos(C$Tzt*Math.PI/2);},sineOut:function(C$Tzt){return Math.sin(C$Tzt*Math.PI/2);},sineInOut:function(C$Tzt){return .5*(1-Math.cos(Math.PI*C$Tzt));},expoIn:function(C$Tzt){return 0===C$Tzt?0:Math.pow(1024,C$Tzt-1);},expoOut:function(C$Tzt){return 1===C$Tzt?1:1-Math.pow(2,-10*C$Tzt);},expoInOut:function(C$Tzt){return 0===C$Tzt?0:1===C$Tzt?1:(C$Tzt*=2)<1?.5*Math.pow(1024,C$Tzt-1):.5*(2-Math.pow(2,-10*(C$Tzt-1)));},circIn:function(C$Tzt){return 1-Math.sqrt(1-C$Tzt*C$Tzt);},circOut:function(C$Tzt){return Math.sqrt(1- --C$Tzt*C$Tzt);},circInOut:function(C$Tzt){return(C$Tzt*=2)<1?-.5*(Math.sqrt(1-C$Tzt*C$Tzt)-1):.5*(Math.sqrt(1-(C$Tzt-=2)*C$Tzt)+1);},elasticIn:function(C$Tzt){var C$Tze,C$Tzi=.1;return 0===C$Tzt?0:1===C$Tzt?1:(C$Tze=!C$Tzi||C$Tzi<1?(C$Tzi=1,.1):.4*Math.asin(1/C$Tzi)/(2*Math.PI),-C$Tzi*Math.pow(2,10*--C$Tzt)*Math.sin((C$Tzt-C$Tze)*(2*Math.PI)/.4));},elasticOut:function(C$Tzt){var C$Tze,C$Tzi=.1;return 0===C$Tzt?0:1===C$Tzt?1:(C$Tze=!C$Tzi||C$Tzi<1?(C$Tzi=1,.1):.4*Math.asin(1/C$Tzi)/(2*Math.PI),C$Tzi*Math.pow(2,-10*C$Tzt)*Math.sin((C$Tzt-C$Tze)*(2*Math.PI)/.4)+1);},elasticInOut:function(C$Tzt){var C$Tze,C$Tzi=.1;return 0===C$Tzt?0:1===C$Tzt?1:(C$Tze=!C$Tzi||C$Tzi<1?(C$Tzi=1,.1):.4*Math.asin(1/C$Tzi)/(2*Math.PI),(C$Tzt*=2)<1?C$Tzi*Math.pow(2,10*--C$Tzt)*Math.sin((C$Tzt-C$Tze)*(2*Math.PI)/.4)*-.5:C$Tzi*Math.pow(2,-10*--C$Tzt)*Math.sin((C$Tzt-C$Tze)*(2*Math.PI)/.4)*.5+1);},backIn:function(C$Tzt){return C$Tzt*C$Tzt*(2.70158*C$Tzt-1.70158);},backOut:function(C$Tzt){return--C$Tzt*C$Tzt*(2.70158*C$Tzt+1.70158)+1;},backInOut:function(C$Tzt){return(C$Tzt*=2)<1?C$Tzt*C$Tzt*(3.5949095*C$Tzt-2.5949095)*.5:.5*((C$Tzt-=2)*C$Tzt*(3.5949095*C$Tzt+2.5949095)+2);},bounceIn:function(C$Tzt){return 1-C$Tzn.bounceOut(1-C$Tzt);},bounceOut:function(C$Tzt){return C$Tzt<1/2.75?7.5625*C$Tzt*C$Tzt:C$Tzt<2/2.75?7.5625*(C$Tzt-=1.5/2.75)*C$Tzt+.75:C$Tzt<2.5/2.75?7.5625*(C$Tzt-=2.25/2.75)*C$Tzt+.9375:7.5625*(C$Tzt-=2.625/2.75)*C$Tzt+.984375;},bounceInOut:function(C$Tzt){return C$Tzt<.5?.5*C$Tzn.bounceIn(2*C$Tzt):.5*C$Tzn.bounceOut(2*C$Tzt-1)+.5;},smooth:function(C$Tzt){return C$Tzt<=0?0:1<=C$Tzt?1:C$Tzt*C$Tzt*(3-2*C$Tzt);},fade:function(C$Tzt){return C$Tzt<=0?0:1<=C$Tzt?1:C$Tzt*C$Tzt*C$Tzt*(C$Tzt*(6*C$Tzt-15)+10);}};function C$Tzr(C$Tze,C$Tzi){return function(C$Tzt){return C$Tzt<.5?C$Tzi(2*C$Tzt)/2:C$Tze(2*C$Tzt-1)/2+.5;};}C$Tzn.quadOutIn=C$Tzr(C$Tzn.quadIn,C$Tzn.quadOut),C$Tzn.cubicOutIn=C$Tzr(C$Tzn.cubicIn,C$Tzn.cubicOut),C$Tzn.quartOutIn=C$Tzr(C$Tzn.quartIn,C$Tzn.quartOut),C$Tzn.quintOutIn=C$Tzr(C$Tzn.quintIn,C$Tzn.quintOut),C$Tzn.sineOutIn=C$Tzr(C$Tzn.sineIn,C$Tzn.sineOut),C$Tzn.expoOutIn=C$Tzr(C$Tzn.expoIn,C$Tzn.expoOut),C$Tzn.circOutIn=C$Tzr(C$Tzn.circIn,C$Tzn.circOut),C$Tzn.backOutIn=C$Tzr(C$Tzn.backIn,C$Tzn.backOut),C$Tzn.bounceIn=function(C$Tzt){return 1-C$Tzn.bounceOut(1-C$Tzt);},C$Tzn.bounceInOut=function(C$Tzt){return C$Tzt<.5?.5*C$Tzn.bounceIn(2*C$Tzt):.5*C$Tzn.bounceOut(2*C$Tzt-1)+.5;},C$Tzn.bounceOutIn=C$Tzr(C$Tzn.bounceIn,C$Tzn.bounceOut),cc.easing=C$Tze.exports=C$Tzn;},{}],17:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[475]),C$Tzt(H[495]),C$Tzt(H[470]),C$Tzt(H[472]),C$Tzt(H[469]),C$Tzt(H[496]),C$Tzt(H[497]),C$Tzt(H[498]),C$Tzt(H[499]);},{"./animation-animator":10,"./animation-clip":11,"./animation-curves":12,"./animation-manager":13,"./animation-state":14,"./bezier":15,"./easing":16,"./motion-path-helper":18,"./types":20}],18:[function(C$Tzt,C$Tze,C$Tzn){"use strict";var C$TzG=C$Tzt(H[469]).DynamicAnimCurve,C$Tzz=C$Tzt(H[469]).computeRatioByType,C$Tzi=C$Tzt(H[475]).bezier,C$TzU=C$Tzt(H[471]).binarySearchEpsilon,C$TzW=cc.v2;function C$TzH(C$Tzt){this.points=C$Tzt||[],this.beziers=[],this.ratios=[],this.progresses=[],this.length=0,this.computeBeziers();}function C$Tzs(){this.start=C$TzW(),this.end=C$TzW(),this.startCtrlPoint=C$TzW(),this.endCtrlPoint=C$TzW();}C$TzH.prototype.computeBeziers=function(){this.beziers.length=0,this.ratios.length=0,this.progresses.length=0,this.length=0;for(var C$Tzt=1;C$Tzt<this.points.length;C$Tzt++){var C$Tze,C$Tzi=this.points[C$Tzt-1],C$Tzn=this.points[C$Tzt];(C$Tze=new C$Tzs()).start=C$Tzi.pos,C$Tze.startCtrlPoint=C$Tzi.out,C$Tze.end=C$Tzn.pos,C$Tze.endCtrlPoint=C$Tzn.in,this.beziers.push(C$Tze),this.length+=C$Tze.getLength();}for(var C$Tzr=0,C$Tzt=0;C$Tzt<this.beziers.length;C$Tzt++)C$Tze=this.beziers[C$Tzt],this.ratios[C$Tzt]=C$Tze.getLength()/this.length,this.progresses[C$Tzt]=C$Tzr+=this.ratios[C$Tzt];return this.beziers;},C$Tzs.prototype.getPointAt=function(C$Tzt){C$Tzt=this.getUtoTmapping(C$Tzt);return this.getPoint(C$Tzt);},C$Tzs.prototype.getPoint=function(C$Tzt){var C$Tze=C$Tzi(this.start.x,this.startCtrlPoint.x,this.endCtrlPoint.x,this.end.x,C$Tzt),C$Tzt=C$Tzi(this.start.y,this.startCtrlPoint.y,this.endCtrlPoint.y,this.end.y,C$Tzt);return new C$TzW(C$Tze,C$Tzt);},C$Tzs.prototype.getLength=function(){var C$Tzt=this.getLengths();return C$Tzt[C$Tzt.length-1];},C$Tzs.prototype.getLengths=function(C$Tzt){if(C$Tzt=C$Tzt||this.__arcLengthDivisions||200,this.cacheArcLengths&&this.cacheArcLengths.length===C$Tzt+1)return this.cacheArcLengths;var C$Tze,C$Tzi,C$Tzn=[],C$Tzr=this.getPoint(0),C$Tzs=C$TzW(),C$Tzo=0;for(C$Tzn.push(0),C$Tzi=1;C$Tzi<=C$Tzt;C$Tzi++)C$Tze=this.getPoint(C$Tzi/C$Tzt),C$Tzs.x=C$Tzr.x-C$Tze.x,C$Tzs.y=C$Tzr.y-C$Tze.y,C$Tzo+=C$Tzs.mag(),C$Tzn.push(C$Tzo),C$Tzr=C$Tze;return this.cacheArcLengths=C$Tzn;},C$Tzs.prototype.getUtoTmapping=function(C$Tzt,C$Tze){for(var C$Tzi,C$Tzn=this.getLengths(),C$Tzr=0,C$Tzs=C$Tzn.length,C$Tzo=C$Tze||C$Tzt*C$Tzn[C$Tzs-1],C$Tza=0,C$Tzc=C$Tzs-1;C$Tza<=C$Tzc;)if((C$Tzi=C$Tzn[C$Tzr=Math.floor(C$Tza+(C$Tzc-C$Tza)/2)]-C$Tzo)<0)C$Tza=C$Tzr+1;else{if(!(0<C$Tzi)){C$Tzc=C$Tzr;break;}C$Tzc=C$Tzr-1;}if(C$Tzn[C$Tzr=C$Tzc]===C$Tzo)return C$Tzr/(C$Tzs-1);C$Tze=C$Tzn[C$Tzr];return(C$Tzr+(C$Tzo-C$Tze)/(C$Tzn[C$Tzr+1]-C$Tze))/(C$Tzs-1);},C$Tze.exports={sampleMotionPaths:function(C$Tzh,C$Tzt,C$Tzu,C$Tz_,C$Tzd){function C$Tzf(C$Tzt){return C$Tzt instanceof cc.Vec2?{in:C$Tzt,pos:C$Tzt,out:C$Tzt}:Array.isArray(C$Tzt)&&6===C$Tzt.length?{in:C$TzW(C$Tzt[2],C$Tzt[3]),pos:C$TzW(C$Tzt[0],C$Tzt[1]),out:C$TzW(C$Tzt[4],C$Tzt[5])}:{in:cc.Vec2.ZERO,pos:cc.Vec2.ZERO,out:cc.Vec2.ZERO};}var C$Tze=C$Tzt.values=C$Tzt.values.map(function(C$Tzt){return C$Tzt=Array.isArray(C$Tzt)?2===C$Tzt.length?cc.v2(C$Tzt[0],C$Tzt[1]):cc.v3(C$Tzt[0],C$Tzt[1],C$Tzt[2]):C$Tzt;});if(0!==C$Tzh.length&&0!==C$Tze.length){for(var C$Tzp=!1,C$Tzm=0;C$Tzm<C$Tzh.length;C$Tzm++){var C$Tzy=C$Tzh[C$Tzm];if(C$Tzy&&!function(C$Tzt){if(Array.isArray(C$Tzt)){for(var C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++){var C$Tzn=C$Tzt[C$Tze];if(!Array.isArray(C$Tzn)||6!==C$Tzn.length)return;}return 1;}}(C$Tzy)&&(cc.errorID(3904,C$Tzd?C$Tzd.name:"",H[474],C$Tzm),C$Tzy=null),C$Tzy&&0<C$Tzy.length){C$Tzp=!0;break;}}if(C$Tzp&&1!==C$Tze.length){for(var C$Tzg=C$Tzt.types,C$Tzi=C$Tzt.ratios,C$Tzv=C$Tzt.values=[],C$Tzx=C$Tzt.types=[],C$Tzb=C$Tzt.ratios=[],C$TzA=0,C$TzC=C$TzG.Linear,C$Tzn=0,C$TzS=C$Tzh.length;C$Tzn<C$TzS-1;C$Tzn++){var C$TzT=C$Tzh[C$Tzn],C$Tzw=C$Tzi[C$Tzn],C$TzE=C$Tzi[C$Tzn+1]-C$Tzw,C$TzM=C$Tze[C$Tzn],C$TzI=C$Tze[C$Tzn+1],C$TzB=C$Tzg[C$Tzn],C$TzR=[],C$Tzr=C$TzA/C$TzE,C$TzP=1/(C$TzE*C$Tzu*C$Tz_);if(C$TzT&&0<C$TzT.length){var C$TzD=[];C$TzD.push(C$Tzf(C$TzM));for(var C$Tzs=0,C$TzL=C$TzT.length;C$Tzs<C$TzL;C$Tzs++){var C$TzV=C$Tzf(C$TzT[C$Tzs]);C$TzD.push(C$TzV);}C$TzD.push(C$Tzf(C$TzI));for(var C$Tzo,C$TzO,C$TzF,C$Tza,C$Tzc,C$Tzl=new C$TzH(C$TzD),C$TzN=(C$Tzl.computeBeziers(),C$Tzl.progresses);1e-6<1-C$Tzr;)C$Tzc=(C$Tza=C$Tzz(C$Tza=C$Tzr,C$TzB))<0?(C$TzF=(0-C$Tza)*(C$Tzo=C$Tzl.beziers[0]).getLength(),C$TzO=C$Tzo.start.sub(C$Tzo.endCtrlPoint).normalize(),C$Tzo.start.add(C$TzO.mul(C$TzF))):1<C$Tza?(C$TzF=(C$Tza-1)*(C$Tzo=C$Tzl.beziers[C$Tzl.beziers.length-1]).getLength(),C$TzO=C$Tzo.end.sub(C$Tzo.startCtrlPoint).normalize(),C$Tzo.end.add(C$TzO.mul(C$TzF))):(C$Tza=(C$Tza-=0<(C$Tzc=(C$Tzc=C$TzU(C$TzN,C$Tza))<0?~C$Tzc:C$Tzc)?C$TzN[C$Tzc-1]:0)/C$Tzl.ratios[C$Tzc],C$Tzl.beziers[C$Tzc].getPointAt(C$Tza)),C$TzR.push(C$Tzc),C$Tzr+=C$TzP;}else for(;1e-6<1-C$Tzr;)C$Tza=C$Tzz(C$Tza=C$Tzr,C$TzB),C$TzR.push(C$TzM.lerp(C$TzI,C$Tza)),C$Tzr+=C$TzP;for(C$TzC=H[500]===C$TzB?C$TzB:C$TzG.Linear,C$Tzs=0,C$TzL=C$TzR.length;C$Tzs<C$TzL;C$Tzs++)C$Tzk(C$TzR[C$Tzs],C$TzC,C$Tzw+C$TzA+C$TzP*C$Tzs*C$TzE);C$TzA=1e-6<Math.abs(C$Tzr-1)?(C$Tzr-1)*C$TzE:0;}C$Tzi[C$Tzi.length-1]!==C$Tzb[C$Tzb.length-1]&&C$Tzk(C$Tze[C$Tze.length-1],C$TzC,C$Tzi[C$Tzi.length-1]);}}function C$Tzk(C$Tzt,C$Tze,C$Tzi){C$Tzv.push(C$Tzt),C$Tzx.push(C$Tze),C$Tzb.push(C$Tzi);}},Curve:C$TzH,Bezier:C$Tzs};},{"../core/utils/binary-search":256,"./animation-curves":12,"./bezier":15}],19:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.js,C$Tzr=C$Tzt(H[501]);function C$Tzs(){this._isPlaying=!1,this._isPaused=!1,this._stepOnce=!1;}function C$Tzo(){}C$Tzt=C$Tzs.prototype;C$Tzn.get(C$Tzt,H[502],function(){return this._isPlaying;},!0),C$Tzn.get(C$Tzt,H[503],function(){return this._isPaused;},!0);C$Tzt.onPlay=C$Tzo,C$Tzt.onPause=C$Tzo,C$Tzt.onResume=C$Tzo,C$Tzt.onStop=C$Tzo,C$Tzt.onError=C$Tzo,C$Tzt.play=function(){this._isPlaying?this._isPaused?(this._isPaused=!1,this.onResume()):this.onError(C$Tzr.getError(3912)):(this._isPlaying=!0,this.onPlay());},C$Tzt.stop=function(){this._isPlaying&&(this._isPlaying=!1,this.onStop(),this._isPaused=!1);},C$Tzt.pause=function(){this._isPlaying&&!this._isPaused&&(this._isPaused=!0,this.onPause());},C$Tzt.resume=function(){this._isPlaying&&this._isPaused&&(this._isPaused=!1,this.onResume());},C$Tzt.step=function(){this.pause(),this._stepOnce=!0,this._isPlaying||this.play();},C$Tze.exports=C$Tzs;},{"../core/CCDebug":27}],20:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn={Loop:2,ShouldWrap:4,PingPong:22,Reverse:36},C$Tzr=cc.Enum({Default:0,Normal:1,Reverse:C$Tzn.Reverse,Loop:C$Tzn.Loop,LoopReverse:C$Tzn.Loop|C$Tzn.Reverse,PingPong:C$Tzn.PingPong,PingPongReverse:C$Tzn.PingPong|C$Tzn.Reverse});function C$Tzs(C$Tzt){C$Tzt?this.set(C$Tzt):(this.ratio=0,this.time=0,this.direction=1,this.stopped=!0,this.iterations=0,this.frameIndex=void 0);}cc.WrapMode=C$Tzr,C$Tzs.prototype.set=function(C$Tzt){this.ratio=C$Tzt.ratio,this.time=C$Tzt.time,this.direction=C$Tzt.direction,this.stopped=C$Tzt.stopped,this.iterations=C$Tzt.iterations,this.frameIndex=C$Tzt.frameIndex;},C$Tze.exports={WrapModeMask:C$Tzn,WrapMode:C$Tzr,WrappedInfo:C$Tzs};},{}],21:[function(C$Tzt,C$Tze,C$Tzh){"use strict";function C$Tzn(C$Tzt){C$Tzr.call(this),this._shouldRecycleOnEnded=!1,this._src=C$Tzt,this._element=null,this.id=0,this._volume=1,this._loop=!1,this._nextTime=0,this._state=C$Tzn.State.INITIALZING,this._onended=function(){this._state=C$Tzn.State.STOPPED,this.emit(H[504]);}.bind(this);}var C$Tzi,C$Tzr=C$Tzt(H[505]),C$Tzs=C$Tzt(H[506]),C$Tzo=C$Tzt(H[507]).LoadMode,C$Tza=!1,C$Tzc=[],C$Tzl=(cc.js.extend(C$Tzn,C$Tzr),C$Tzn.State={ERROR:-1,INITIALZING:0,PLAYING:1,PAUSED:2,STOPPED:3},(C$Tzt=C$Tzn.prototype)._bindEnded=function(C$Tzt){C$Tzt=C$Tzt||this._onended;var C$Tze=this._element;this._src&&C$Tze instanceof HTMLAudioElement?C$Tze.addEventListener(H[504],C$Tzt):C$Tze.onended=C$Tzt;},C$Tzt._unbindEnded=function(){var C$Tzt=this._element;C$Tzt instanceof HTMLAudioElement?C$Tzt.removeEventListener(H[504],this._onended):C$Tzt&&(C$Tzt.onended=null);},C$Tzt._onLoaded=function(){this._createElement(),this.setVolume(this._volume),this.setLoop(this._loop),0!==this._nextTime&&this.setCurrentTime(this._nextTime),this.getState(!1)===C$Tzn.State.PLAYING?this.play():this._state=C$Tzn.State.INITIALZING;},C$Tzt._createElement=function(){var C$Tzt=this._src._nativeAsset;C$Tzt instanceof HTMLAudioElement?(this._element||(this._element=document.createElement(H[508])),this._element.src=C$Tzt.src):this._element=new C$Tzl(C$Tzt,this);},C$Tzt.play=function(){this._state=C$Tzn.State.PLAYING,this._element&&(this._bindEnded(),this._element.play(),this._touchToPlay());},C$Tzt._touchToPlay=function(){var C$Tzt;this._src&&this._src.loadMode===C$Tzo.DOM_AUDIO&&this._element.paused&&C$Tzc.push({instance:this,offset:0,audio:this._element}),C$Tza||(C$Tza=!0,C$Tzt=H[509]in window?H[510]:H[511],cc.game.canvas.addEventListener(C$Tzt,function(){for(var C$Tzt;C$Tzt=C$Tzc.pop();)C$Tzt.audio.play(C$Tzt.offset);}));},C$Tzt.destroy=function(){this._element=null;},C$Tzt.pause=function(){this._element&&this.getState()===C$Tzn.State.PLAYING&&(this._unbindEnded(),this._element.pause(),this._state=C$Tzn.State.PAUSED);},C$Tzt.resume=function(){this._element&&this.getState()===C$Tzn.State.PAUSED&&(this._bindEnded(),this._element.play(),this._state=C$Tzn.State.PLAYING);},C$Tzt.stop=function(){if(this._element){this._element.pause();try{this._element.currentTime=0;}catch(C$Tzt){}for(var C$Tzt=0;C$Tzt<C$Tzc.length;C$Tzt++)if(C$Tzc[C$Tzt].instance===this){C$Tzc.splice(C$Tzt,1);break;}this._unbindEnded(),this.emit(H[484]),this._state=C$Tzn.State.STOPPED;}},C$Tzt.setLoop=function(C$Tzt){this._loop=C$Tzt,this._element&&(this._element.loop=C$Tzt);},C$Tzt.getLoop=function(){return this._loop;},C$Tzt.setVolume=function(C$Tzt){this._volume=C$Tzt,this._element&&(this._element.volume=C$Tzt);},C$Tzt.getVolume=function(){return this._volume;},C$Tzt.setCurrentTime=function(C$Tze){if(this._element){this._nextTime=0,this._unbindEnded(),this._bindEnded(function(){this._bindEnded();}.bind(this));try{this._element.currentTime=C$Tze;}catch(C$Tzt){var C$Tzi=this._element;C$Tzi.addEventListener&&C$Tzi.addEventListener(H[512],function C$Tzt(){C$Tzi.removeEventListener(H[512],C$Tzt),C$Tzi.currentTime=C$Tze;});}}else this._nextTime=C$Tze;},C$Tzt.getCurrentTime=function(){return this._element?this._element.currentTime:0;},C$Tzt.getDuration=function(){return this._element?this._element.duration:0;},C$Tzt.getState=function(C$Tzt){return(C$Tzt=void 0===C$Tzt?!0:C$Tzt)&&this._forceUpdatingState(),this._state;},C$Tzt._forceUpdatingState=function(){var C$Tzt=this._element;C$Tzt&&(C$Tzn.State.PLAYING===this._state&&C$Tzt.paused?this._state=C$Tzn.State.STOPPED:C$Tzn.State.STOPPED!==this._state||C$Tzt.paused||(this._state=C$Tzn.State.PLAYING));},Object.defineProperty(C$Tzt,H[513],{get:function(){return this._src;},set:function(C$Tzi){var C$Tzt;return this._unbindEnded(),C$Tzi?(this._src=C$Tzi).loaded?this._onLoaded():(C$Tzt=this,C$Tzi.once(H[514],function(){C$Tzi===C$Tzt._src&&C$Tzt._onLoaded();}),cc.loader.load({url:C$Tzi.nativeUrl,skips:[H[515]]},function(C$Tzt,C$Tze){C$Tzt?cc.error(C$Tzt):C$Tzi.loaded||(C$Tzi._nativeAsset=C$Tze);})):(this._src=null,this._element instanceof C$Tzl?this._element=null:this._element&&(this._element.src=""),this._state=C$Tzn.State.INITIALZING),C$Tzi;},enumerable:!0,configurable:!0}),Object.defineProperty(C$Tzt,H[516],{get:function(){return!this._element||this._element.paused;},enumerable:!0,configurable:!0}),C$Tzi=cc.sys.browserType===cc.sys.BROWSER_TYPE_EDGE||cc.sys.browserType===cc.sys.BROWSER_TYPE_BAIDU||cc.sys.browserType===cc.sys.BROWSER_TYPE_UC?.01:0,function(C$Tzt,C$Tze){this._audio=C$Tze,this._context=C$Tzs.__audioSupport.context,this._buffer=C$Tzt,this._gainObj=this._context.createGain(),this.volume=1,this._gainObj.connect(this._context.destination),this._loop=!1,this._startTime=-1,this._currentSource=null,this.playedLength=0,this._currentTimer=null,this._endCallback=function(){this.onended&&this.onended(this);}.bind(this);});(C$Tzt=C$Tzl.prototype).play=function(C$Tzt){this._currentSource&&!this.paused&&(this._currentSource.onended=null,this._currentSource.stop(0),this.playedLength=0);var C$Tze,C$Tzi=this._context.createBufferSource(),C$Tzn=(C$Tzi.buffer=this._buffer,C$Tzi.connect(this._gainObj),C$Tzi.loop=this._loop,this._startTime=this._context.currentTime,(C$Tzt=C$Tzt||this.playedLength)&&(this._startTime-=C$Tzt),this._buffer.duration),C$Tzr=C$Tzt;this._loop?C$Tzi.start?C$Tzi.start(0,C$Tzr):C$Tzi.notoGrainOn?C$Tzi.noteGrainOn(0,C$Tzr):C$Tzi.noteOn(0,C$Tzr):(C$Tzn=C$Tzn-C$Tzt,C$Tzi.start?C$Tzi.start(0,C$Tzr,C$Tzn):C$Tzi.noteGrainOn?C$Tzi.noteGrainOn(0,C$Tzr,C$Tzn):C$Tzi.noteOn(0,C$Tzr,C$Tzn)),(this._currentSource=C$Tzi).onended=this._endCallback,C$Tzi.context.state&&H[517]!==C$Tzi.context.state||0!==this._context.currentTime||(C$Tze=this,clearTimeout(this._currentTimer),this._currentTimer=setTimeout(function(){0===C$Tze._context.currentTime&&C$Tzc.push({instance:C$Tze._audio,offset:C$Tzt,audio:C$Tze});},10)),cc.sys.browserType===cc.sys.BROWSER_TYPE_SAFARI&&cc.sys.isMobile&&H[518]===C$Tzi.context.state&&C$Tzi.context.resume();},C$Tzt.pause=function(){var C$Tzt;clearTimeout(this._currentTimer),this.paused||(this.playedLength=this._context.currentTime-this._startTime,this.playedLength%=this._buffer.duration,C$Tzt=this._currentSource,this._currentSource=null,this._startTime=-1,C$Tzt&&C$Tzt.stop(0));},Object.defineProperty(C$Tzt,H[516],{get:function(){return(!this._currentSource||!this._currentSource.loop)&&(-1===this._startTime||this._context.currentTime-this._startTime>this._buffer.duration);},enumerable:!0,configurable:!0}),Object.defineProperty(C$Tzt,H[519],{get:function(){return this._loop;},set:function(C$Tzt){return this._currentSource&&(this._currentSource.loop=C$Tzt),this._loop=C$Tzt;},enumerable:!0,configurable:!0}),Object.defineProperty(C$Tzt,H[520],{get:function(){return this._volume;},set:function(C$Tze){if(this._volume=C$Tze,this._gainObj.gain.setTargetAtTime)try{this._gainObj.gain.setTargetAtTime(C$Tze,this._context.currentTime,C$Tzi);}catch(C$Tzt){this._gainObj.gain.setTargetAtTime(C$Tze,this._context.currentTime,.01);}else this._gainObj.gain.value=C$Tze;C$Tzs.os===C$Tzs.OS_IOS&&!this.paused&&this._currentSource&&(this._currentSource.onended=null,this.pause(),this.play());},enumerable:!0,configurable:!0}),Object.defineProperty(C$Tzt,H[521],{get:function(){return this.paused||(this.playedLength=this._context.currentTime-this._startTime,this.playedLength%=this._buffer.duration),this.playedLength;},set:function(C$Tzt){return this.paused?this.playedLength=C$Tzt:(this.pause(),this.playedLength=C$Tzt,this.play()),C$Tzt;},enumerable:!0,configurable:!0}),Object.defineProperty(C$Tzt,H[490],{get:function(){return this._buffer.duration;},enumerable:!0,configurable:!0}),C$Tze.exports=cc.Audio=C$Tzn;},{"../core/assets/CCAudioClip":35,"../core/event/event-target":115,"../core/platform/CCSys":198}],22:[function(C$Tzt,C$Tze,C$Tzn){"use strict";function C$Tzs(C$Tzt){function C$Tze(){var C$Tzt;C$Tzr(this.id)&&(delete C$Tzc[this.id],C$Tzt=C$Tzn.indexOf(this.id),cc.js.array.fastRemoveAt(C$Tzn,C$Tzt)),(C$Tzt=this)._shouldRecycleOnEnded&&(C$Tzt._finishCallback=null,C$Tzt.off(H[504]),C$Tzt.off(H[484]),C$Tzt.src=null,C$Tzh.includes(C$Tzt)||(C$Tzh.length<32?C$Tzh.push(C$Tzt):C$Tzt.destroy()),C$Tzt._shouldRecycleOnEnded=!1);}var C$Tzi=C$Tzd++,C$Tzn=(C$Tzn=C$Tzl[C$Tzt])||(C$Tzl[C$Tzt]=[]);return C$Tzu._maxAudioInstance<=C$Tzn.length&&(C$Tzt=C$Tzn.shift(),C$Tzr(C$Tzt).stop()),(C$Tzt=C$Tzh.pop()||new C$Tza()).on(H[504],function(){this._finishCallback&&this._finishCallback(),C$Tze.call(this);},C$Tzt),C$Tzt.on(H[484],C$Tze,C$Tzt),C$Tzt.id=C$Tzi,C$Tzc[C$Tzi]=C$Tzt,C$Tzn.push(C$Tzi),C$Tzt;}function C$Tzr(C$Tzt){return C$Tzc[C$Tzt];}function C$Tzo(C$Tzt){return void 0===C$Tzt?C$Tzt=1:H[462]==typeof C$Tzt&&(C$Tzt=Number.parseFloat(C$Tzt)),C$Tzt;}var C$Tza=C$Tzt(H[522]),C$Tz_=C$Tzt(H[507]),C$Tzi=cc.js,C$Tzd=0,C$Tzc=C$Tzi.createMap(!0),C$Tzl={},C$Tzh=[],C$Tzu={AudioState:C$Tza.State,_maxWebAudioSize:2097152,_maxAudioInstance:24,_id2audio:C$Tzc,play:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr=C$Tzt;if(H[462]==typeof C$Tzt)cc.warnID(8401,H[523],H[524],H[525],H[524],H[508]),C$Tzn=C$Tzs(C$Tzr=C$Tzt),C$Tz_._loadByUrl(C$Tzr,function(C$Tzt,C$Tze){C$Tze&&(C$Tzn.src=C$Tze);});else{if(!C$Tzt)return;C$Tzr=C$Tzt.nativeUrl,(C$Tzn=C$Tzs(C$Tzr)).src=C$Tzt;}return C$Tzn._shouldRecycleOnEnded=!0,C$Tzn.setLoop(C$Tze||!1),C$Tzi=C$Tzo(C$Tzi),C$Tzn.setVolume(C$Tzi),C$Tzn.play(),C$Tzn.id;},setLoop:function(C$Tzt,C$Tze){C$Tzt=C$Tzr(C$Tzt);C$Tzt&&C$Tzt.setLoop&&C$Tzt.setLoop(C$Tze);},isLoop:function(C$Tzt){C$Tzt=C$Tzr(C$Tzt);return!(!C$Tzt||!C$Tzt.getLoop)&&C$Tzt.getLoop();},setVolume:function(C$Tzt,C$Tze){C$Tzt=C$Tzr(C$Tzt);C$Tzt&&C$Tzt.setVolume(C$Tze);},getVolume:function(C$Tzt){C$Tzt=C$Tzr(C$Tzt);return C$Tzt?C$Tzt.getVolume():1;},setCurrentTime:function(C$Tzt,C$Tze){C$Tzt=C$Tzr(C$Tzt);return!!C$Tzt&&(C$Tzt.setCurrentTime(C$Tze),!0);},getCurrentTime:function(C$Tzt){C$Tzt=C$Tzr(C$Tzt);return C$Tzt?C$Tzt.getCurrentTime():0;},getDuration:function(C$Tzt){C$Tzt=C$Tzr(C$Tzt);return C$Tzt?C$Tzt.getDuration():0;},getState:function(C$Tzt){C$Tzt=C$Tzr(C$Tzt);return C$Tzt?C$Tzt.getState():this.AudioState.ERROR;},setFinishCallback:function(C$Tzt,C$Tze){C$Tzt=C$Tzr(C$Tzt);C$Tzt&&(C$Tzt._finishCallback=C$Tze);},pause:function(C$Tzt){C$Tzt=C$Tzr(C$Tzt);return!!C$Tzt&&(C$Tzt.pause(),!0);},_pauseIDCache:[],pauseAll:function(){for(var C$Tzt in C$Tzc){var C$Tze=C$Tzc[C$Tzt];C$Tze.getState()===C$Tza.State.PLAYING&&(this._pauseIDCache.push(C$Tzt),C$Tze.pause());}},resume:function(C$Tzt){C$Tzt=C$Tzr(C$Tzt);C$Tzt&&C$Tzt.resume();},resumeAll:function(){for(var C$Tzt=0;C$Tzt<this._pauseIDCache.length;++C$Tzt){var C$Tze=this._pauseIDCache[C$Tzt],C$Tze=C$Tzr(C$Tze);C$Tze&&C$Tze.resume();}this._pauseIDCache.length=0;},stop:function(C$Tzt){C$Tzt=C$Tzr(C$Tzt);return!!C$Tzt&&(C$Tzt.stop(),!0);},stopAll:function(){for(var C$Tzt in C$Tzc){C$Tzt=C$Tzc[C$Tzt];C$Tzt&&C$Tzt.stop();}},setMaxAudioInstance:function(C$Tzt){this._maxAudioInstance=C$Tzt;},getMaxAudioInstance:function(){return this._maxAudioInstance;},uncache:function(C$Tzt){var C$Tze=C$Tzt;if(H[462]==typeof C$Tzt)cc.warnID(8401,H[523],H[524],H[525],H[524],H[508]),C$Tze=C$Tzt;else{if(!C$Tzt)return;C$Tze=C$Tzt.nativeUrl;}var C$Tzi=C$Tzl[C$Tze];if(C$Tzi)for(;0<C$Tzi.length;){var C$Tzn=C$Tzi.pop(),C$Tzr=C$Tzc[C$Tzn];C$Tzr&&(C$Tzr.stop(),delete C$Tzc[C$Tzn]);}},uncacheAll:function(){var C$Tzt,C$Tze;for(C$Tze in this.stopAll(),C$Tzc)(C$Tzt=C$Tzc[C$Tze])&&C$Tzt.destroy();for(;C$Tzt=C$Tzh.pop();)C$Tzt.destroy();C$Tzc=C$Tzi.createMap(!0),C$Tzl={};},getProfile:function(C$Tzt){},preload:function(C$Tzt,C$Tze){cc.warn(H[526]),cc.loader.load(C$Tzt,C$Tze&&function(C$Tzt){C$Tzt||C$Tze();});},setMaxWebAudioSize:function(C$Tzt){this._maxWebAudioSize=1024*C$Tzt;},_breakCache:null,_break:function(){for(var C$Tzt in this._breakCache=[],C$Tzc){var C$Tze=C$Tzc[C$Tzt];C$Tze.getState()===C$Tza.State.PLAYING&&(this._breakCache.push(C$Tzt),C$Tze.pause());}},_restore:function(){if(this._breakCache){for(;0<this._breakCache.length;){var C$Tzt=this._breakCache.pop(),C$Tzt=C$Tzr(C$Tzt);C$Tzt&&C$Tzt.resume&&C$Tzt.resume();}this._breakCache=null;}},_music:{id:-1,loop:!1,volume:1},_effect:{volume:1,pauseCache:[]},playMusic:function(C$Tzt,C$Tze){var C$Tzi=this._music;return this.stop(C$Tzi.id),C$Tzi.id=this.play(C$Tzt,C$Tze,C$Tzi.volume),C$Tzi.loop=C$Tze,C$Tzi.id;},stopMusic:function(){this.stop(this._music.id);},pauseMusic:function(){return this.pause(this._music.id),this._music.id;},resumeMusic:function(){return this.resume(this._music.id),this._music.id;},getMusicVolume:function(){return this._music.volume;},setMusicVolume:function(C$Tzt){C$Tzt=C$Tzo(C$Tzt);var C$Tze=this._music;return C$Tze.volume=C$Tzt,this.setVolume(C$Tze.id,C$Tze.volume),C$Tze.volume;},isMusicPlaying:function(){return this.getState(this._music.id)===this.AudioState.PLAYING;},playEffect:function(C$Tzt,C$Tze){return this.play(C$Tzt,C$Tze||!1,this._effect.volume);},setEffectsVolume:function(C$Tzt){C$Tzt=C$Tzo(C$Tzt);var C$Tze,C$Tzi=this._music.id;for(C$Tze in this._effect.volume=C$Tzt,C$Tzc){var C$Tzn=C$Tzc[C$Tze];C$Tzn&&C$Tzn.id!==C$Tzi&&C$Tzu.setVolume(C$Tze,C$Tzt);}},getEffectsVolume:function(){return this._effect.volume;},pauseEffect:function(C$Tzt){return this.pause(C$Tzt);},pauseAllEffects:function(){var C$Tzt,C$Tze=this._music.id,C$Tzi=this._effect;for(C$Tzt in C$Tzi.pauseCache.length=0,C$Tzc){var C$Tzn=C$Tzc[C$Tzt];C$Tzn&&C$Tzn.id!==C$Tze&&C$Tzn.getState()===this.AudioState.PLAYING&&(C$Tzi.pauseCache.push(C$Tzt),C$Tzn.pause());}},resumeEffect:function(C$Tzt){this.resume(C$Tzt);},resumeAllEffects:function(){for(var C$Tzt=this._effect.pauseCache,C$Tze=0;C$Tze<C$Tzt.length;++C$Tze){var C$Tzi=C$Tzt[C$Tze],C$Tzi=C$Tzc[C$Tzi];C$Tzi&&C$Tzi.resume();}},stopEffect:function(C$Tzt){return this.stop(C$Tzt);},stopAllEffects:function(){var C$Tzt,C$Tze=this._music.id;for(C$Tzt in C$Tzc){var C$Tzi=C$Tzc[C$Tzt];C$Tzi&&C$Tzi.id!==C$Tze&&C$Tzi.getState()===C$Tzu.AudioState.PLAYING&&C$Tzi.stop();}}};C$Tze.exports=cc.audioEngine=C$Tzu;},{"../core/assets/CCAudioClip":35,"./CCAudio":21}],23:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn={name:H[527]};C$Tzn.Base64=C$Tzt(H[528]),C$Tzn.GZip=C$Tzt(H[529]),C$Tzn.unzip=function(){return C$Tzn.GZip.gunzip.apply(C$Tzn.GZip,arguments);},C$Tzn.unzipBase64=function(){var C$Tze=C$Tzn.Base64.decode.apply(C$Tzn.Base64,arguments);try{return C$Tzn.GZip.gunzip.call(C$Tzn.GZip,C$Tze);}catch(C$Tzt){return C$Tze.slice(7);}},C$Tzn.unzipBase64AsArray=function(C$Tzt,C$Tze){C$Tze=C$Tze||1;for(var C$Tzi,C$Tzn=this.unzipBase64(C$Tzt),C$Tzr=[],C$Tzs=0,C$Tzo=C$Tzn.length/C$Tze;C$Tzs<C$Tzo;C$Tzs++)for(C$Tzr[C$Tzs]=0,C$Tzi=C$Tze-1;0<=C$Tzi;--C$Tzi)C$Tzr[C$Tzs]+=C$Tzn.charCodeAt(C$Tzs*C$Tze+C$Tzi)<<8*C$Tzi;return C$Tzr;},C$Tzn.unzipAsArray=function(C$Tzt,C$Tze){C$Tze=C$Tze||1;for(var C$Tzi,C$Tzn=this.unzip(C$Tzt),C$Tzr=[],C$Tzs=0,C$Tzo=C$Tzn.length/C$Tze;C$Tzs<C$Tzo;C$Tzs++)for(C$Tzr[C$Tzs]=0,C$Tzi=C$Tze-1;0<=C$Tzi;--C$Tzi)C$Tzr[C$Tzs]+=C$Tzn.charCodeAt(C$Tzs*C$Tze+C$Tzi)<<8*C$Tzi;return C$Tzr;},cc.codec=C$Tze.exports=C$Tzn;},{"./base64":24,"./gzip":25}],24:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzl=C$Tzt(H[407]).BASE64_VALUES,C$Tzt={name:H[530],decode:function(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza=[],C$Tzc=0;for(C$Tzt=C$Tzt.replace(/[^A-Za-z0-9\+\/\=]/g,"");C$Tzc<C$Tzt.length;)C$Tzn=C$Tzl[C$Tzt.charCodeAt(C$Tzc++)],C$Tze=(15&(C$Tzr=C$Tzl[C$Tzt.charCodeAt(C$Tzc++)]))<<4|(C$Tzs=C$Tzl[C$Tzt.charCodeAt(C$Tzc++)])>>2,C$Tzi=(3&C$Tzs)<<6|(C$Tzo=C$Tzl[C$Tzt.charCodeAt(C$Tzc++)]),C$Tza.push(String.fromCharCode(C$Tzn<<2|C$Tzr>>4)),64!==C$Tzs&&C$Tza.push(String.fromCharCode(C$Tze)),64!==C$Tzo&&C$Tza.push(String.fromCharCode(C$Tzi));return C$Tza=C$Tza.join("");},decodeAsArray:function(C$Tzt,C$Tze){for(var C$Tzi,C$Tzn=this.decode(C$Tzt),C$Tzr=[],C$Tzs=0,C$Tzo=C$Tzn.length/C$Tze;C$Tzs<C$Tzo;C$Tzs++)for(C$Tzr[C$Tzs]=0,C$Tzi=C$Tze-1;0<=C$Tzi;--C$Tzi)C$Tzr[C$Tzs]+=C$Tzn.charCodeAt(C$Tzs*C$Tze+C$Tzi)<<8*C$Tzi;return C$Tzr;}};C$Tze.exports=C$Tzt;},{"../core/utils/misc":264}],25:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzp(C$Tzt){this.data=C$Tzt,this.debug=!1,this.gpflags=void 0,this.files=0,this.unzipped=[],this.buf32k=[],this.bIdx=0,this.modeZIP=!1,this.bytepos=0,this.bb=1,this.bits=0,this.nameBuf=[],this.fileout=void 0,this.literalTree=new Array(C$Tzp.LITERALS),this.distanceTree=[],this.treepos=0,this.Places=null,this.len=0,this.fpos=[],this.fpos[0]=0,this.flens=void 0,this.fmax=void 0;}C$Tzp.gunzip=function(C$Tzt){return C$Tzt.constructor===Array||(C$Tzt.constructor,String),new C$Tzp(C$Tzt).gunzip()[0][0];},C$Tzp.HufNode=function(){this.b0=0,this.b1=0,this.jump=null,this.jumppos=-1;},C$Tzp.LITERALS=288,C$Tzp.NAMEMAX=256,C$Tzp.bitReverse=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255],C$Tzp.cplens=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],C$Tzp.cplext=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],C$Tzp.cpdist=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],C$Tzp.cpdext=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C$Tzp.border=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C$Tzp.prototype.gunzip=function(){return this.outputArr=[],this.nextFile(),this.unzipped;},C$Tzp.prototype.readByte=function(){return this.bits+=8,this.bytepos<this.data.length?this.data.charCodeAt(this.bytepos++):-1;},C$Tzp.prototype.byteAlign=function(){this.bb=1;},C$Tzp.prototype.readBit=function(){var C$Tzt;return this.bits++,C$Tzt=1&this.bb,this.bb>>=1,0===this.bb&&(this.bb=this.readByte(),C$Tzt=1&this.bb,this.bb=this.bb>>1|128),C$Tzt;},C$Tzp.prototype.readBits=function(C$Tzt){for(var C$Tze=0,C$Tzi=C$Tzt;C$Tzi--;)C$Tze=C$Tze<<1|this.readBit();return C$Tze=C$Tzt?C$Tzp.bitReverse[C$Tze]>>8-C$Tzt:C$Tze;},C$Tzp.prototype.flushBuffer=function(){this.bIdx=0;},C$Tzp.prototype.addBuffer=function(C$Tzt){this.buf32k[this.bIdx++]=C$Tzt,this.outputArr.push(String.fromCharCode(C$Tzt)),32768===this.bIdx&&(this.bIdx=0);},C$Tzp.prototype.IsPat=function(){for(;;){if(this.fpos[this.len]>=this.fmax)return-1;if(this.flens[this.fpos[this.len]]===this.len)return this.fpos[this.len]++;this.fpos[this.len]++;}},C$Tzp.prototype.Rec=function(){var C$Tzt,C$Tze=this.Places[this.treepos];if(17===this.len)return-1;if(this.treepos++,this.len++,0<=(C$Tzt=this.IsPat()))C$Tze.b0=C$Tzt;else if(C$Tze.b0=32768,this.Rec())return-1;if(0<=(C$Tzt=this.IsPat()))C$Tze.b1=C$Tzt,C$Tze.jump=null;else if(C$Tze.b1=32768,C$Tze.jump=this.Places[this.treepos],C$Tze.jumppos=this.treepos,this.Rec())return-1;return this.len--,0;},C$Tzp.prototype.CreateTree=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr;for(this.Places=C$Tzt,this.treepos=0,this.flens=C$Tzi,this.fmax=C$Tze,C$Tzr=0;C$Tzr<17;C$Tzr++)this.fpos[C$Tzr]=0;return this.len=0,this.Rec()?-1:0;},C$Tzp.prototype.DecodeValue=function(C$Tzt){for(var C$Tze,C$Tzi,C$Tzn=0,C$Tzr=C$Tzt[C$Tzn];;)if(this.readBit()){if(!(32768&C$Tzr.b1))return C$Tzr.b1;for(C$Tzr=C$Tzr.jump,C$Tze=C$Tzt.length,C$Tzi=0;C$Tzi<C$Tze;C$Tzi++)if(C$Tzt[C$Tzi]===C$Tzr){C$Tzn=C$Tzi;break;}}else{if(!(32768&C$Tzr.b0))return C$Tzr.b0;C$Tzr=C$Tzt[++C$Tzn];}return-1;},C$Tzp.prototype.DeflateLoop=function(){do{var C$Tzt,C$Tzh=this.readBit(),C$Tze=this.readBits(2);if(0===C$Tze)for(this.byteAlign(),C$Tzt=this.readByte(),C$Tzt|=this.readByte()<<8,C$Tzo=this.readByte(),65535&(C$Tzt^~(C$Tzo|=this.readByte()<<8))&&document.write("BlockLen checksum mismatch\n");C$Tzt--;)C$Tzi=this.readByte(),this.addBuffer(C$Tzi);else if(1===C$Tze){for(;;)if(23<(C$Tzn=C$Tzp.bitReverse[this.readBits(7)]>>1)?199<(C$Tzn=C$Tzn<<1|this.readBit())?C$Tzn=(C$Tzn-=128)<<1|this.readBit():143<(C$Tzn-=48)&&(C$Tzn+=136):C$Tzn+=256,C$Tzn<256)this.addBuffer(C$Tzn);else{if(256===C$Tzn)break;for(C$Tzn-=257,C$Tzc=this.readBits(C$Tzp.cplext[C$Tzn])+C$Tzp.cplens[C$Tzn],C$Tzn=C$Tzp.bitReverse[this.readBits(5)]>>3,8<C$Tzp.cpdext[C$Tzn]?(C$Tzl=this.readBits(8),C$Tzl|=this.readBits(C$Tzp.cpdext[C$Tzn]-8)<<8):C$Tzl=this.readBits(C$Tzp.cpdext[C$Tzn]),C$Tzl+=C$Tzp.cpdist[C$Tzn],C$Tzn=0;C$Tzn<C$Tzc;C$Tzn++){var C$Tzi=this.buf32k[this.bIdx-C$Tzl&32767];this.addBuffer(C$Tzi);}}}else if(2===C$Tze){var C$Tzn,C$Tzr=[],C$Tzs=257+this.readBits(5),C$Tzo=1+this.readBits(5),C$Tzu=4+this.readBits(4);for(C$Tzn=0;C$Tzn<19;C$Tzn++)C$Tzr[C$Tzn]=0;for(C$Tzn=0;C$Tzn<C$Tzu;C$Tzn++)C$Tzr[C$Tzp.border[C$Tzn]]=this.readBits(3);for(C$Tzc=this.distanceTree.length,C$Tza=0;C$Tza<C$Tzc;C$Tza++)this.distanceTree[C$Tza]=new C$Tzp.HufNode();if(this.CreateTree(this.distanceTree,19,C$Tzr,0))return this.flushBuffer(),1;for(var C$Tz_,C$Tzd=C$Tzs+C$Tzo,C$Tza=0;C$Tza<C$Tzd;)if((C$Tzn=this.DecodeValue(this.distanceTree))<16)C$Tzr[C$Tza++]=C$Tzn;else if(16===C$Tzn){if(C$Tzd<C$Tza+(C$Tzn=3+this.readBits(2)))return this.flushBuffer(),1;for(C$Tz_=C$Tza?C$Tzr[C$Tza-1]:0;C$Tzn--;)C$Tzr[C$Tza++]=C$Tz_;}else{if(C$Tzd<C$Tza+(C$Tzn=17===C$Tzn?3+this.readBits(3):11+this.readBits(7)))return this.flushBuffer(),1;for(;C$Tzn--;)C$Tzr[C$Tza++]=0;}for(C$Tzc=this.literalTree.length,C$Tza=0;C$Tza<C$Tzc;C$Tza++)this.literalTree[C$Tza]=new C$Tzp.HufNode();if(this.CreateTree(this.literalTree,C$Tzs,C$Tzr,0))return this.flushBuffer(),1;for(C$Tzc=this.literalTree.length,C$Tza=0;C$Tza<C$Tzc;C$Tza++)this.distanceTree[C$Tza]=new C$Tzp.HufNode();var C$Tzc,C$Tzl,C$Tzf=[];for(C$Tza=C$Tzs;C$Tza<C$Tzr.length;C$Tza++)C$Tzf[C$Tza-C$Tzs]=C$Tzr[C$Tza];if(this.CreateTree(this.distanceTree,C$Tzo,C$Tzf,0))return this.flushBuffer(),1;for(;;)if(256<=(C$Tzn=this.DecodeValue(this.literalTree))){if(0===(C$Tzn-=256))break;for(C$Tzn--,C$Tzc=this.readBits(C$Tzp.cplext[C$Tzn])+C$Tzp.cplens[C$Tzn],C$Tzn=this.DecodeValue(this.distanceTree),8<C$Tzp.cpdext[C$Tzn]?(C$Tzl=this.readBits(8),C$Tzl|=this.readBits(C$Tzp.cpdext[C$Tzn]-8)<<8):C$Tzl=this.readBits(C$Tzp.cpdext[C$Tzn]),C$Tzl+=C$Tzp.cpdist[C$Tzn];C$Tzc--;){C$Tzi=this.buf32k[this.bIdx-C$Tzl&32767];this.addBuffer(C$Tzi);}}else this.addBuffer(C$Tzn);}}while(!C$Tzh);return this.flushBuffer(),this.byteAlign(),0;},C$Tzp.prototype.unzipFile=function(C$Tzt){var C$Tze;for(this.gunzip(),C$Tze=0;C$Tze<this.unzipped.length;C$Tze++)if(this.unzipped[C$Tze][1]===C$Tzt)return this.unzipped[C$Tze][0];},C$Tzp.prototype.nextFile=function(){this.outputArr=[],this.modeZIP=!1;var C$Tzt=[];if(C$Tzt[0]=this.readByte(),C$Tzt[1]=this.readByte(),120===C$Tzt[0]&&218===C$Tzt[1]&&(this.DeflateLoop(),this.unzipped[this.files]=[this.outputArr.join(""),H[531]],this.files++),31===C$Tzt[0]&&139===C$Tzt[1]&&(this.skipdir(),this.unzipped[this.files]=[this.outputArr.join(""),H[532]],this.files++),80===C$Tzt[0]&&75===C$Tzt[1]&&(this.modeZIP=!0,C$Tzt[2]=this.readByte(),C$Tzt[3]=this.readByte(),3===C$Tzt[2]&&4===C$Tzt[3])){C$Tzt[0]=this.readByte(),C$Tzt[1]=this.readByte(),this.gpflags=this.readByte(),this.gpflags|=this.readByte()<<8;var C$Tzt=this.readByte(),C$Tze=(C$Tzt|=this.readByte()<<8,this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte()),C$Tze=((C$Tze|=this.readByte()<<8)|this.readByte()<<16|this.readByte()<<24,this.readByte()),C$Tzi=((C$Tze|=this.readByte()<<8)|this.readByte()<<16|this.readByte()<<24,this.readByte()),C$Tzn=(C$Tzi|=this.readByte()<<8,this.readByte());for(C$Tzn|=this.readByte()<<8,C$Tzs=0,this.nameBuf=[];C$Tzi--;){var C$Tzr=this.readByte();"/"===C$Tzr|":"===C$Tzr?C$Tzs=0:C$Tzs<C$Tzp.NAMEMAX-1&&(this.nameBuf[C$Tzs++]=String.fromCharCode(C$Tzr));}this.fileout||(this.fileout=this.nameBuf);for(var C$Tzs=0;C$Tzs<C$Tzn;)C$Tzr=this.readByte(),C$Tzs++;8==C$Tzt&&(this.DeflateLoop(),this.unzipped[this.files]=[this.outputArr.join(""),this.nameBuf.join("")],this.files++),this.skipdir();}},C$Tzp.prototype.skipdir=function(){var C$Tzt,C$Tze,C$Tzi,C$Tzn=[];if(8&this.gpflags&&(C$Tzn[0]=this.readByte(),C$Tzn[1]=this.readByte(),C$Tzn[2]=this.readByte(),C$Tzn[3]=this.readByte(),C$Tzt=this.readByte(),C$Tzt|=this.readByte()<<8,this.readByte(),this.readByte(),C$Tzt=this.readByte(),C$Tzt=(C$Tzt=(C$Tzt|=this.readByte()<<8)|this.readByte()<<16)|this.readByte()<<24),this.modeZIP&&this.nextFile(),C$Tzn[0]=this.readByte(),8!==C$Tzn[0])return 0;if(this.gpflags=this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),4&this.gpflags)for(C$Tzn[0]=this.readByte(),C$Tzn[2]=this.readByte(),this.len=C$Tzn[0]+256*C$Tzn[1],C$Tze=0;C$Tze<this.len;C$Tze++)this.readByte();if(8&this.gpflags)for(C$Tze=0,this.nameBuf=[];C$Tzi=this.readByte();)(C$Tze="7"!==C$Tzi&&":"!==C$Tzi?C$Tze:0)<C$Tzp.NAMEMAX-1&&(this.nameBuf[C$Tze++]=C$Tzi);if(16&this.gpflags)for(;C$Tzi=this.readByte(););2&this.gpflags&&(this.readByte(),this.readByte()),this.DeflateLoop(),C$Tzt=this.readByte(),C$Tzt=(C$Tzt=(C$Tzt|=this.readByte()<<8)|this.readByte()<<16)|this.readByte()<<24,this.modeZIP&&this.nextFile();},C$Tze.exports=C$Tzp;},{}],26:[function(C$Tzt,C$Tze,C$Tzi){"use strict";!function(){function C$TzQ(C$Tzt){throw C$Tzt;}var C$Tz$=void 0,C$Tztt=!0,C$Tzo=this;function C$Tzt(C$Tzt,C$Tze){var C$Tzi,C$Tzn=C$Tzt.split("."),C$Tzr=C$Tzo;C$Tzn[0]in C$Tzr||!C$Tzr.execScript||C$Tzr.execScript(H[533]+C$Tzn[0]);for(;C$Tzn.length&&(C$Tzi=C$Tzn.shift());)C$Tzn.length||C$Tze===C$Tz$?C$Tzr=C$Tzr[C$Tzi]||(C$Tzr[C$Tzi]={}):C$Tzr[C$Tzi]=C$Tze;}var C$Tzet=H[534]!=typeof Uint8Array&&H[534]!=typeof Uint16Array&&H[534]!=typeof Uint32Array;function C$Tza(C$Tzt){if(H[462]==typeof C$Tzt){for(var C$Tze=C$Tzt.split(""),C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++)C$Tze[C$Tzi]=(255&C$Tze[C$Tzi].charCodeAt(0))>>>0;C$Tzt=C$Tze;}for(var C$Tzr,C$Tzs=1,C$Tzo=0,C$Tza=C$Tzt.length,C$Tzc=0;0<C$Tza;){for(C$Tza-=C$Tzr=1024<C$Tza?1024:C$Tza;C$Tzo+=C$Tzs+=C$Tzt[C$Tzc++],--C$Tzr;);C$Tzs%=65521,C$Tzo%=65521;}return(C$Tzo<<16|C$Tzs)>>>0;}function C$Tzit(C$Tzt,C$Tze){this.index=H[463]==typeof C$Tze?C$Tze:0,this.i=0,this.buffer=C$Tzt instanceof(C$Tzet?Uint8Array:Array)?C$Tzt:new(C$Tzet?Uint8Array:Array)(32768),2*this.buffer.length<=this.index&&C$TzQ(Error(H[535])),this.buffer.length<=this.index&&this.f();}C$Tzit.prototype.f=function(){var C$Tzt,C$Tze=this.buffer,C$Tzi=C$Tze.length,C$Tzn=new(C$Tzet?Uint8Array:Array)(C$Tzi<<1);if(C$Tzet)C$Tzn.set(C$Tze);else for(C$Tzt=0;C$Tzt<C$Tzi;++C$Tzt)C$Tzn[C$Tzt]=C$Tze[C$Tzt];return this.buffer=C$Tzn;},C$Tzit.prototype.d=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr=this.buffer,C$Tzs=this.index,C$Tzo=this.i,C$Tza=C$Tzr[C$Tzs];if(C$Tzi&&1<C$Tze&&(C$Tzt=8<C$Tze?(C$Tz_[255&C$Tzt]<<24|C$Tz_[C$Tzt>>>8&255]<<16|C$Tz_[C$Tzt>>>16&255]<<8|C$Tz_[C$Tzt>>>24&255])>>32-C$Tze:C$Tz_[C$Tzt]>>8-C$Tze),C$Tze+C$Tzo<8)C$Tza=C$Tza<<C$Tze|C$Tzt,C$Tzo+=C$Tze;else for(C$Tzn=0;C$Tzn<C$Tze;++C$Tzn)C$Tza=C$Tza<<1|C$Tzt>>C$Tze-C$Tzn-1&1,8==++C$Tzo&&(C$Tzo=0,C$Tzr[C$Tzs++]=C$Tz_[C$Tza],C$Tza=0,C$Tzs===C$Tzr.length&&(C$Tzr=this.f()));C$Tzr[C$Tzs]=C$Tza,this.buffer=C$Tzr,this.i=C$Tzo,this.index=C$Tzs;},C$Tzit.prototype.finish=function(){var C$Tzt=this.buffer,C$Tze=this.index;return 0<this.i&&(C$Tzt[C$Tze]<<=8-this.i,C$Tzt[C$Tze]=C$Tz_[C$Tzt[C$Tze]],C$Tze++),C$Tzet?C$Tzt.subarray(0,C$Tze):(C$Tzt.length=C$Tze,C$Tzt);};for(var C$Tzn=new(C$Tzet?Uint8Array:Array)(256),C$Tzc=0;C$Tzc<256;++C$Tzc){for(var C$Tzl=C$Tzu=C$Tzc,C$Tzh=7,C$Tzu=C$Tzu>>>1;C$Tzu;C$Tzu>>>=1)C$Tzl=C$Tzl<<1|1&C$Tzu,--C$Tzh;C$Tzn[C$Tzc]=(C$Tzl<<C$Tzh&255)>>>0;}var C$Tz_=C$Tzn;function C$TzS(C$Tzt){this.buffer=new(C$Tzet?Uint16Array:Array)(2*C$Tzt),this.length=0;}function C$Tzv(C$Tzt){for(var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tzh,C$Tza,C$Tzu=C$Tzt.length,C$Tzc=0,C$Tz_=Number.POSITIVE_INFINITY,C$Tzl=0;C$Tzl<C$Tzu;++C$Tzl)C$Tzt[C$Tzl]>C$Tzc&&(C$Tzc=C$Tzt[C$Tzl]),C$Tzt[C$Tzl]<C$Tz_&&(C$Tz_=C$Tzt[C$Tzl]);for(C$Tze=1<<C$Tzc,C$Tzi=new(C$Tzet?Uint32Array:Array)(C$Tze),C$Tzn=1,C$Tzr=0,C$Tzs=2;C$Tzn<=C$Tzc;){for(C$Tzl=0;C$Tzl<C$Tzu;++C$Tzl)if(C$Tzt[C$Tzl]===C$Tzn){for(C$Tzh=C$Tzr,C$Tza=C$Tzo=0;C$Tza<C$Tzn;++C$Tza)C$Tzo=C$Tzo<<1|1&C$Tzh,C$Tzh>>=1;for(C$Tza=C$Tzo;C$Tza<C$Tze;C$Tza+=C$Tzs)C$Tzi[C$Tza]=C$Tzn<<16|C$Tzl;++C$Tzr;}++C$Tzn,C$Tzr<<=1,C$Tzs<<=1;}return[C$Tzi,C$Tzc,C$Tz_];}function C$Tzd(C$Tzt,C$Tze){this.h=C$Tznt,this.w=0,this.input=C$Tzt,this.b=0,C$Tze&&(C$Tze.lazy&&(this.w=C$Tze.lazy),H[463]==typeof C$Tze.compressionType&&(this.h=C$Tze.compressionType),C$Tze.outputBuffer&&(this.a=C$Tzet&&C$Tze.outputBuffer instanceof Array?new Uint8Array(C$Tze.outputBuffer):C$Tze.outputBuffer),H[463]==typeof C$Tze.outputIndex&&(this.b=C$Tze.outputIndex)),this.a||(this.a=new(C$Tzet?Uint8Array:Array)(32768));}C$Tzet&&new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),C$TzS.prototype.getParent=function(C$Tzt){return 2*((C$Tzt-2)/4|0);},C$TzS.prototype.push=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn,C$Tzr=this.buffer,C$Tzs=this.length;for(C$Tzr[this.length++]=C$Tze,C$Tzr[this.length++]=C$Tzt;0<C$Tzs&&(C$Tzi=this.getParent(C$Tzs),C$Tzr[C$Tzs]>C$Tzr[C$Tzi]);)C$Tzn=C$Tzr[C$Tzs],C$Tzr[C$Tzs]=C$Tzr[C$Tzi],C$Tzr[C$Tzi]=C$Tzn,C$Tzn=C$Tzr[C$Tzs+1],C$Tzr[C$Tzs+1]=C$Tzr[C$Tzi+1],C$Tzr[C$Tzi+1]=C$Tzn,C$Tzs=C$Tzi;return this.length;},C$TzS.prototype.pop=function(){var C$Tzt,C$Tze,C$Tzi,C$Tzn=this.buffer,C$Tzr=C$Tzn[0],C$Tzs=C$Tzn[1];for(this.length-=2,C$Tzn[0]=C$Tzn[this.length],C$Tzn[1]=C$Tzn[this.length+1],C$Tzi=0;!((C$Tze=2*C$Tzi+2)>=this.length)&&(C$Tze+2<this.length&&C$Tzn[C$Tze+2]>C$Tzn[C$Tze]&&(C$Tze+=2),C$Tzn[C$Tze]>C$Tzn[C$Tzi]);)C$Tzt=C$Tzn[C$Tzi],C$Tzn[C$Tzi]=C$Tzn[C$Tze],C$Tzn[C$Tze]=C$Tzt,C$Tzt=C$Tzn[C$Tzi+1],C$Tzn[C$Tzi+1]=C$Tzn[C$Tze+1],C$Tzn[C$Tze+1]=C$Tzt,C$Tzi=C$Tze;return{index:C$Tzs,value:C$Tzr,length:this.length};};for(var C$Tznt=2,C$Tzf={NONE:0,r:1,j:C$Tznt,N:3},C$Tzrt=[],C$Tze=0;C$Tze<288;C$Tze++)switch(C$Tztt){case C$Tze<=143:C$Tzrt.push([C$Tze+48,8]);break;case C$Tze<=255:C$Tzrt.push([C$Tze-144+400,9]);break;case C$Tze<=279:C$Tzrt.push([C$Tze-256,7]);break;case C$Tze<=287:C$Tzrt.push([C$Tze-280+192,8]);break;default:C$TzQ(H[536]+C$Tze);}function C$TzE(C$Tzt,C$Tze){this.length=C$Tzt,this.G=C$Tze;}C$Tzd.prototype.n=function(){var C$Tzh,C$Tzu,C$Tz_,C$Tzd=this.input;switch(this.h){case 0:for(C$Tzu=0,C$Tz_=C$Tzd.length;C$Tzu<C$Tz_;){var C$Tzf,C$Tzp,C$Tzm=C$Tzy=C$Tzet?C$Tzd.subarray(C$Tzu,C$Tzu+65535):C$Tzd.slice(C$Tzu,C$Tzu+65535),C$Tzy=(C$Tzu+=C$Tzy.length)===C$Tz_,C$Tzg=C$Tz$,C$Tzt=this.a,C$Tze=this.b;if(C$Tzet){for(C$Tzt=new Uint8Array(this.a.buffer);C$Tzt.length<=C$Tze+C$Tzm.length+5;)C$Tzt=new Uint8Array(C$Tzt.length<<1);C$Tzt.set(this.a);}if(C$Tzt[C$Tze++]=0|(C$Tzy?1:0),C$Tzf=65536+~(C$Tzy=C$Tzm.length)&65535,C$Tzt[C$Tze++]=255&C$Tzy,C$Tzt[C$Tze++]=C$Tzy>>>8&255,C$Tzt[C$Tze++]=255&C$Tzf,C$Tzt[C$Tze++]=C$Tzf>>>8&255,C$Tzet)C$Tzt.set(C$Tzm,C$Tze),C$Tze+=C$Tzm.length,C$Tzt=C$Tzt.subarray(0,C$Tze);else{for(C$Tzg=0,C$Tzp=C$Tzm.length;C$Tzg<C$Tzp;++C$Tzg)C$Tzt[C$Tze++]=C$Tzm[C$Tzg];C$Tzt.length=C$Tze;}this.b=C$Tze,this.a=C$Tzt;}break;case 1:for(var C$Tzv,C$Tzx=new C$Tzit(new Uint8Array(this.a.buffer),this.b),C$Tzb=(C$Tzx.d(1,1,C$Tztt),C$Tzx.d(1,2,C$Tztt),C$Tzst(this,C$Tzd)),C$TzA=0,C$TzC=C$Tzb.length;C$TzA<C$TzC;C$TzA++)if(C$Tzv=C$Tzb[C$TzA],C$Tzit.prototype.d.apply(C$Tzx,C$Tzrt[C$Tzv]),256<C$Tzv)C$Tzx.d(C$Tzb[++C$TzA],C$Tzb[++C$TzA],C$Tztt),C$Tzx.d(C$Tzb[++C$TzA],5),C$Tzx.d(C$Tzb[++C$TzA],C$Tzb[++C$TzA],C$Tztt);else if(256===C$Tzv)break;this.a=C$Tzx.finish(),this.b=this.a.length;break;case C$Tznt:var C$TzS,C$TzT,C$Tzw,C$TzE,C$TzM,C$TzI,C$TzB,C$TzR,C$TzP,C$TzD,C$Tzi,C$TzL,C$Tzn=new C$Tzit(new Uint8Array(this.a),this.b),C$TzV=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C$TzO=Array(19),C$TzF=C$Tznt;for(C$Tzn.d(1,1,C$Tztt),C$Tzn.d(C$TzF,2,C$Tztt),C$TzS=C$Tzst(this,C$Tzd),C$TzF=C$Tzat(C$TzM=C$Tzot(this.L,15)),C$Tzj=C$Tzat(C$TzI=C$Tzot(this.K,7)),C$TzT=286;257<C$TzT&&0===C$TzM[C$TzT-1];C$TzT--);for(C$Tzw=30;1<C$Tzw&&0===C$TzI[C$Tzw-1];C$Tzw--);for(var C$TzN,C$Tzr,C$Tzk,C$Tzs,C$Tzo,C$TzG=C$TzT,C$Tzz=C$Tzw,C$Tza=new(C$Tzet?Uint32Array:Array)(C$TzG+C$Tzz),C$Tzc=new(C$Tzet?Uint32Array:Array)(316),C$TzU=new(C$Tzet?Uint8Array:Array)(19),C$Tzl=C$TzN=0;C$Tzl<C$TzG;C$Tzl++)C$Tza[C$TzN++]=C$TzM[C$Tzl];for(C$Tzl=0;C$Tzl<C$Tzz;C$Tzl++)C$Tza[C$TzN++]=C$TzI[C$Tzl];if(!C$Tzet)for(C$Tzl=0,C$Tzk=C$TzU.length;C$Tzl<C$Tzk;++C$Tzl)C$TzU[C$Tzl]=0;for(C$Tzl=C$Tzs=0,C$Tzk=C$Tza.length;C$Tzl<C$Tzk;C$Tzl+=C$TzN){for(C$TzN=1;C$Tzl+C$TzN<C$Tzk&&C$Tza[C$Tzl+C$TzN]===C$Tza[C$Tzl];++C$TzN);if(C$Tzr=C$TzN,0===C$Tza[C$Tzl]){if(C$Tzr<3)for(;0<C$Tzr--;)C$TzU[C$Tzc[C$Tzs++]=0]++;else for(;0<C$Tzr;)(C$Tzo=C$Tzr-3<(C$Tzo=C$Tzr<138?C$Tzr:138)&&C$Tzo<C$Tzr?C$Tzr-3:C$Tzo)<=10?(C$Tzc[C$Tzs++]=17,C$Tzc[C$Tzs++]=C$Tzo-3,C$TzU[17]++):(C$Tzc[C$Tzs++]=18,C$Tzc[C$Tzs++]=C$Tzo-11,C$TzU[18]++),C$Tzr-=C$Tzo;}else if(C$Tzc[C$Tzs++]=C$Tza[C$Tzl],C$TzU[C$Tza[C$Tzl]]++,--C$Tzr<3)for(;0<C$Tzr--;)C$Tzc[C$Tzs++]=C$Tza[C$Tzl],C$TzU[C$Tza[C$Tzl]]++;else for(;0<C$Tzr;)C$Tzr-3<(C$Tzo=C$Tzr<6?C$Tzr:6)&&C$Tzo<C$Tzr&&(C$Tzo=C$Tzr-3),C$Tzc[C$Tzs++]=16,C$Tzc[C$Tzs++]=C$Tzo-3,C$TzU[16]++,C$Tzr-=C$Tzo;}for(C$Tzh=C$Tzet?C$Tzc.subarray(0,C$Tzs):C$Tzc.slice(0,C$Tzs),C$TzB=C$Tzot(C$TzU,7),C$Tzi=0;C$Tzi<19;C$Tzi++)C$TzO[C$Tzi]=C$TzB[C$TzV[C$Tzi]];for(C$TzE=19;4<C$TzE&&0===C$TzO[C$TzE-1];C$TzE--);for(C$TzR=C$Tzat(C$TzB),C$Tzn.d(C$TzT-257,5,C$Tztt),C$Tzn.d(C$Tzw-1,5,C$Tztt),C$Tzn.d(C$TzE-4,4,C$Tztt),C$Tzi=0;C$Tzi<C$TzE;C$Tzi++)C$Tzn.d(C$TzO[C$Tzi],3,C$Tztt);for(C$Tzi=0,C$TzL=C$Tzh.length;C$Tzi<C$TzL;C$Tzi++)if(C$TzP=C$Tzh[C$Tzi],C$Tzn.d(C$TzR[C$TzP],C$TzB[C$TzP],C$Tztt),16<=C$TzP){switch(C$Tzi++,C$TzP){case 16:C$TzD=2;break;case 17:C$TzD=3;break;case 18:C$TzD=7;break;default:C$TzQ(H[537]+C$TzP);}C$Tzn.d(C$Tzh[C$Tzi],C$TzD,C$Tztt);}for(var C$TzW,C$TzH,C$TzF=[C$TzF,C$TzM],C$Tzj=[C$Tzj,C$TzI],C$TzX=C$TzF[0],C$TzY=C$TzF[1],C$Tzq=C$Tzj[0],C$TzJ=C$Tzj[1],C$TzZ=0,C$TzK=C$TzS.length;C$TzZ<C$TzK;++C$TzZ)if(C$TzW=C$TzS[C$TzZ],C$Tzn.d(C$TzX[C$TzW],C$TzY[C$TzW],C$Tztt),256<C$TzW)C$Tzn.d(C$TzS[++C$TzZ],C$TzS[++C$TzZ],C$Tztt),C$TzH=C$TzS[++C$TzZ],C$Tzn.d(C$Tzq[C$TzH],C$TzJ[C$TzH],C$Tztt),C$Tzn.d(C$TzS[++C$TzZ],C$TzS[++C$TzZ],C$Tztt);else if(256===C$TzW)break;this.a=C$Tzn.finish(),this.b=this.a.length;break;default:C$TzQ(H[538]);}return this.a;};for(var C$Tzp,C$Tzm=[],C$Tzy=3;C$Tzy<=258;C$Tzy++)C$Tzp=function(){var C$Tzt=C$Tzy;switch(C$Tztt){case 3===C$Tzt:return[257,C$Tzt-3,0];case 4===C$Tzt:return[258,C$Tzt-4,0];case 5===C$Tzt:return[259,C$Tzt-5,0];case 6===C$Tzt:return[260,C$Tzt-6,0];case 7===C$Tzt:return[261,C$Tzt-7,0];case 8===C$Tzt:return[262,C$Tzt-8,0];case 9===C$Tzt:return[263,C$Tzt-9,0];case 10===C$Tzt:return[264,C$Tzt-10,0];case C$Tzt<=12:return[265,C$Tzt-11,1];case C$Tzt<=14:return[266,C$Tzt-13,1];case C$Tzt<=16:return[267,C$Tzt-15,1];case C$Tzt<=18:return[268,C$Tzt-17,1];case C$Tzt<=22:return[269,C$Tzt-19,2];case C$Tzt<=26:return[270,C$Tzt-23,2];case C$Tzt<=30:return[271,C$Tzt-27,2];case C$Tzt<=34:return[272,C$Tzt-31,2];case C$Tzt<=42:return[273,C$Tzt-35,3];case C$Tzt<=50:return[274,C$Tzt-43,3];case C$Tzt<=58:return[275,C$Tzt-51,3];case C$Tzt<=66:return[276,C$Tzt-59,3];case C$Tzt<=82:return[277,C$Tzt-67,4];case C$Tzt<=98:return[278,C$Tzt-83,4];case C$Tzt<=114:return[279,C$Tzt-99,4];case C$Tzt<=130:return[280,C$Tzt-115,4];case C$Tzt<=162:return[281,C$Tzt-131,5];case C$Tzt<=194:return[282,C$Tzt-163,5];case C$Tzt<=226:return[283,C$Tzt-195,5];case C$Tzt<=257:return[284,C$Tzt-227,5];case 258===C$Tzt:return[285,C$Tzt-258,0];default:C$TzQ(H[539]+C$Tzt);}}(),C$Tzm[C$Tzy]=C$Tzp[2]<<24|C$Tzp[1]<<16|C$Tzp[0];var C$TzM=C$Tzet?new Uint32Array(C$Tzm):C$Tzm;function C$Tzst(C$Tza,C$Tzt){function C$Tzc(C$Tzt,C$Tze){var C$Tzi,C$Tzn,C$Tzr,C$Tzs=C$Tzt.G,C$Tzo=[],C$Tza=0,C$Tzc=C$TzM[C$Tzt.length];switch(C$Tzo[C$Tza++]=65535&C$Tzc,C$Tzo[C$Tza++]=C$Tzc>>16&255,C$Tzo[C$Tza++]=C$Tzc>>24,C$Tztt){case 1===C$Tzs:C$Tzi=[0,C$Tzs-1,0];break;case 2===C$Tzs:C$Tzi=[1,C$Tzs-2,0];break;case 3===C$Tzs:C$Tzi=[2,C$Tzs-3,0];break;case 4===C$Tzs:C$Tzi=[3,C$Tzs-4,0];break;case C$Tzs<=6:C$Tzi=[4,C$Tzs-5,1];break;case C$Tzs<=8:C$Tzi=[5,C$Tzs-7,1];break;case C$Tzs<=12:C$Tzi=[6,C$Tzs-9,2];break;case C$Tzs<=16:C$Tzi=[7,C$Tzs-13,2];break;case C$Tzs<=24:C$Tzi=[8,C$Tzs-17,3];break;case C$Tzs<=32:C$Tzi=[9,C$Tzs-25,3];break;case C$Tzs<=48:C$Tzi=[10,C$Tzs-33,4];break;case C$Tzs<=64:C$Tzi=[11,C$Tzs-49,4];break;case C$Tzs<=96:C$Tzi=[12,C$Tzs-65,5];break;case C$Tzs<=128:C$Tzi=[13,C$Tzs-97,5];break;case C$Tzs<=192:C$Tzi=[14,C$Tzs-129,6];break;case C$Tzs<=256:C$Tzi=[15,C$Tzs-193,6];break;case C$Tzs<=384:C$Tzi=[16,C$Tzs-257,7];break;case C$Tzs<=512:C$Tzi=[17,C$Tzs-385,7];break;case C$Tzs<=768:C$Tzi=[18,C$Tzs-513,8];break;case C$Tzs<=1024:C$Tzi=[19,C$Tzs-769,8];break;case C$Tzs<=1536:C$Tzi=[20,C$Tzs-1025,9];break;case C$Tzs<=2048:C$Tzi=[21,C$Tzs-1537,9];break;case C$Tzs<=3072:C$Tzi=[22,C$Tzs-2049,10];break;case C$Tzs<=4096:C$Tzi=[23,C$Tzs-3073,10];break;case C$Tzs<=6144:C$Tzi=[24,C$Tzs-4097,11];break;case C$Tzs<=8192:C$Tzi=[25,C$Tzs-6145,11];break;case C$Tzs<=12288:C$Tzi=[26,C$Tzs-8193,12];break;case C$Tzs<=16384:C$Tzi=[27,C$Tzs-12289,12];break;case C$Tzs<=24576:C$Tzi=[28,C$Tzs-16385,13];break;case C$Tzs<=32768:C$Tzi=[29,C$Tzs-24577,13];break;default:C$TzQ(H[540]);}for(C$Tzc=C$Tzi,C$Tzo[C$Tza++]=C$Tzc[0],C$Tzo[+C$Tza]=C$Tzc[1],C$Tzo[5]=C$Tzc[2],C$Tzn=0,C$Tzr=C$Tzo.length;C$Tzn<C$Tzr;++C$Tzn)C$Tzh[C$Tzm++]=C$Tzo[C$Tzn];C$Tzu[C$Tzo[0]]++,C$Tzg[C$Tzo[3]]++,C$Tzy=C$Tzt.length+C$Tze-1,C$Tzl=null;}var C$Tze,C$Tz_,C$Tzi,C$Tzd,C$Tzn,C$Tzr,C$Tzf,C$Tzl,C$Tzs,C$Tzp={},C$Tzh=C$Tzet?new Uint16Array(2*C$Tzt.length):[],C$Tzm=0,C$Tzy=0,C$Tzu=new(C$Tzet?Uint32Array:Array)(286),C$Tzg=new(C$Tzet?Uint32Array:Array)(30),C$Tzv=C$Tza.w;if(!C$Tzet){for(C$Tzi=0;C$Tzi<=285;)C$Tzu[C$Tzi++]=0;for(C$Tzi=0;C$Tzi<=29;)C$Tzg[C$Tzi++]=0;}for(C$Tzu[256]=1,C$Tze=0,C$Tz_=C$Tzt.length;C$Tze<C$Tz_;++C$Tze){for(C$Tzi=C$Tzn=0,C$Tzd=3;C$Tzi<C$Tzd&&C$Tze+C$Tzi!==C$Tz_;++C$Tzi)C$Tzn=C$Tzn<<8|C$Tzt[C$Tze+C$Tzi];if(C$Tzp[C$Tzn]===C$Tz$&&(C$Tzp[C$Tzn]=[]),C$Tzr=C$Tzp[C$Tzn],!(0<C$Tzy--)){for(;0<C$Tzr.length&&32768<C$Tze-C$Tzr[0];)C$Tzr.shift();if(C$Tz_<=C$Tze+3){for(C$Tzl&&C$Tzc(C$Tzl,-1),C$Tzi=0,C$Tzd=C$Tz_-C$Tze;C$Tzi<C$Tzd;++C$Tzi)C$Tzs=C$Tzt[C$Tze+C$Tzi],C$Tzh[C$Tzm++]=C$Tzs,++C$Tzu[C$Tzs];break;}if(0<C$Tzr.length){var C$Tzx,C$Tzb=C$Tz$,C$TzA=0,C$Tzo=C$Tz$,C$TzC=C$Tz$,C$TzS=C$Tz$,C$TzT=C$Tzt.length,C$TzC=0,C$Tzw=C$Tzr.length;C$Tzt:for(;C$TzC<C$Tzw;C$TzC++){if(C$Tzx=C$Tzr[C$Tzw-C$TzC-1],(C$Tzo=3)<C$TzA){for(C$TzS=C$TzA;3<C$TzS;C$TzS--)if(C$Tzt[C$Tzx+C$TzS-1]!==C$Tzt[C$Tze+C$TzS-1])continue C$Tzt;C$Tzo=C$TzA;}for(;C$Tzo<258&&C$Tze+C$Tzo<C$TzT&&C$Tzt[C$Tzx+C$Tzo]===C$Tzt[C$Tze+C$Tzo];)++C$Tzo;if(C$TzA<C$Tzo&&(C$Tzb=C$Tzx,C$TzA=C$Tzo),258===C$Tzo)break;}C$Tzf=new C$TzE(C$TzA,C$Tze-C$Tzb),C$Tzl?C$Tzl.length<C$Tzf.length?(C$Tzs=C$Tzt[C$Tze-1],C$Tzh[C$Tzm++]=C$Tzs,++C$Tzu[C$Tzs],C$Tzc(C$Tzf,0)):C$Tzc(C$Tzl,-1):C$Tzf.length<C$Tzv?C$Tzl=C$Tzf:C$Tzc(C$Tzf,0);}else C$Tzl?C$Tzc(C$Tzl,-1):(C$Tzs=C$Tzt[C$Tze],C$Tzh[C$Tzm++]=C$Tzs,++C$Tzu[C$Tzs]);}C$Tzr.push(C$Tze);}return C$Tzh[C$Tzm++]=256,C$Tzu[256]++,C$Tza.L=C$Tzu,C$Tza.K=C$Tzg,C$Tzet?C$Tzh.subarray(0,C$Tzm):C$Tzh;}function C$Tzot(C$Tzh,C$Tzt){var C$Tze,C$Tzu,C$Tz_,C$Tzi,C$Tzd,C$Tzf=C$Tzh.length,C$Tzp=new C$TzS(572),C$Tzm=new(C$Tzet?Uint8Array:Array)(C$Tzf);if(!C$Tzet)for(C$Tzi=0;C$Tzi<C$Tzf;C$Tzi++)C$Tzm[C$Tzi]=0;for(C$Tzi=0;C$Tzi<C$Tzf;++C$Tzi)0<C$Tzh[C$Tzi]&&C$Tzp.push(C$Tzi,C$Tzh[C$Tzi]);if(C$Tze=Array(C$Tzp.length/2),C$Tzu=new(C$Tzet?Uint32Array:Array)(C$Tzp.length/2),1===C$Tze.length)return C$Tzm[C$Tzp.pop().index]=1,C$Tzm;for(C$Tzi=0,C$Tzd=C$Tzp.length/2;C$Tzi<C$Tzd;++C$Tzi)C$Tze[C$Tzi]=C$Tzp.pop(),C$Tzu[C$Tzi]=C$Tze[C$Tzi].value;var C$Tzn,C$Tzr,C$Tzs,C$Tzy,C$Tzg,C$Tzo=C$Tzu.length,C$Tza=new(C$Tzet?Uint16Array:Array)(C$Tzt),C$Tzc=new(C$Tzet?Uint8Array:Array)(C$Tzt),C$Tzv=new(C$Tzet?Uint8Array:Array)(C$Tzo),C$Tzl=Array(C$Tzt),C$Tzx=Array(C$Tzt),C$Tzb=Array(C$Tzt),C$TzA=(1<<C$Tzt)-C$Tzo,C$TzC=1<<C$Tzt-1;for(C$Tza[C$Tzt-1]=C$Tzo,C$Tzr=0;C$Tzr<C$Tzt;++C$Tzr)C$TzA<C$TzC?C$Tzc[C$Tzr]=0:(C$Tzc[C$Tzr]=1,C$TzA-=C$TzC),C$TzA<<=1,C$Tza[C$Tzt-2-C$Tzr]=(C$Tza[C$Tzt-1-C$Tzr]/2|0)+C$Tzo;for(C$Tza[0]=C$Tzc[0],C$Tzl[0]=Array(C$Tza[0]),C$Tzx[0]=Array(C$Tza[0]),C$Tzr=1;C$Tzr<C$Tzt;++C$Tzr)C$Tza[C$Tzr]>2*C$Tza[C$Tzr-1]+C$Tzc[C$Tzr]&&(C$Tza[C$Tzr]=2*C$Tza[C$Tzr-1]+C$Tzc[C$Tzr]),C$Tzl[C$Tzr]=Array(C$Tza[C$Tzr]),C$Tzx[C$Tzr]=Array(C$Tza[C$Tzr]);for(C$Tzn=0;C$Tzn<C$Tzo;++C$Tzn)C$Tzv[C$Tzn]=C$Tzt;for(C$Tzs=0;C$Tzs<C$Tza[C$Tzt-1];++C$Tzs)C$Tzl[C$Tzt-1][C$Tzs]=C$Tzu[C$Tzs],C$Tzx[C$Tzt-1][C$Tzs]=C$Tzs;for(C$Tzn=0;C$Tzn<C$Tzt;++C$Tzn)C$Tzb[C$Tzn]=0;for(1===C$Tzc[C$Tzt-1]&&(--C$Tzv[0],++C$Tzb[C$Tzt-1]),C$Tzr=C$Tzt-2;0<=C$Tzr;--C$Tzr){for(C$Tzn=0,C$Tzg=C$Tzb[C$Tzr+1],C$Tzs=0;C$Tzs<C$Tza[C$Tzr];C$Tzs++)(C$Tzy=C$Tzl[C$Tzr+1][C$Tzg]+C$Tzl[C$Tzr+1][C$Tzg+1])>C$Tzu[C$Tzn]?(C$Tzl[C$Tzr][C$Tzs]=C$Tzy,C$Tzx[C$Tzr][C$Tzs]=C$Tzo,C$Tzg+=2):(C$Tzl[C$Tzr][C$Tzs]=C$Tzu[C$Tzn],C$Tzx[C$Tzr][C$Tzs]=C$Tzn,++C$Tzn);C$Tzb[C$Tzr]=0,1===C$Tzc[C$Tzr]&&function C$Tzt(C$Tze){var C$Tzi=C$Tzx[C$Tze][C$Tzb[C$Tze]];C$Tzi===C$Tzo?(C$Tzt(C$Tze+1),C$Tzt(C$Tze+1)):--C$Tzv[C$Tzi],++C$Tzb[C$Tze];}(C$Tzr);}for(C$Tz_=C$Tzv,C$Tzi=0,C$Tzd=C$Tze.length;C$Tzi<C$Tzd;++C$Tzi)C$Tzm[C$Tze[C$Tzi].index]=C$Tz_[C$Tzi];return C$Tzm;}function C$Tzat(C$Tzt){for(var C$Tze,C$Tzi,C$Tzn=new(C$Tzet?Uint16Array:Array)(C$Tzt.length),C$Tzr=[],C$Tzs=[],C$Tzo=0,C$Tza=0,C$Tzc=C$Tzt.length;C$Tza<C$Tzc;C$Tza++)C$Tzr[C$Tzt[C$Tza]]=1+(0|C$Tzr[C$Tzt[C$Tza]]);for(C$Tza=1,C$Tzc=16;C$Tza<=C$Tzc;C$Tza++)C$Tzs[C$Tza]=C$Tzo,1<<C$Tza<(C$Tzo+=0|C$Tzr[C$Tza])&&C$TzQ(H[541]),C$Tzo<<=1;for(C$Tzo<65536&&C$TzQ(H[542]),C$Tza=0,C$Tzc=C$Tzt.length;C$Tza<C$Tzc;C$Tza++)for(C$Tzo=C$Tzs[C$Tzt[C$Tza]],C$Tzs[C$Tzt[C$Tza]]+=1,C$Tze=C$Tzn[C$Tza]=0,C$Tzi=C$Tzt[C$Tza];C$Tze<C$Tzi;C$Tze++)C$Tzn[C$Tza]=C$Tzn[C$Tza]<<1|1&C$Tzo,C$Tzo>>>=1;return C$Tzn;}function C$Tzx(C$Tzt,C$Tze){this.input=C$Tzt,this.a=new(C$Tzet?Uint8Array:Array)(32768),this.h=C$Tzs.j;var C$Tzi,C$Tzn={};for(C$Tzi in(C$Tze?H[463]!=typeof C$Tze.compressionType:C$Tze={})||(this.h=C$Tze.compressionType),C$Tze)C$Tzn[C$Tzi]=C$Tze[C$Tzi];C$Tzn.outputBuffer=this.a,this.z=new C$Tzd(this.input,C$Tzn);}var C$Tzs=C$Tzf;function C$Tzr(C$Tzt,C$Tze){switch(this.k=[],this.l=32768,this.e=this.g=this.c=this.q=0,this.input=C$Tzet?new Uint8Array(C$Tzt):C$Tzt,this.s=!1,this.m=C$TzA,this.B=!1,C$Tze?(C$Tze.index&&(this.c=C$Tze.index),C$Tze.bufferSize&&(this.l=C$Tze.bufferSize),C$Tze.bufferType&&(this.m=C$Tze.bufferType),C$Tze.resize&&(this.B=C$Tze.resize)):C$Tze={},this.m){case C$Tzb:this.b=32768,this.a=new(C$Tzet?Uint8Array:Array)(32768+this.l+258);break;case C$TzA:this.b=0,this.a=new(C$Tzet?Uint8Array:Array)(this.l),this.f=this.J,this.t=this.H,this.o=this.I;break;default:C$TzQ(Error(H[543]));}}C$Tzx.prototype.n=function(){var C$Tzt,C$Tze,C$Tzi=0,C$Tzn=this.a,C$Tzr=C$TzY;if(C$Tzr===C$TzY?C$Tze=Math.LOG2E*Math.log(32768)-8:C$TzQ(Error(H[544])),C$Tzn[C$Tzi++]=C$Tze=C$Tze<<4|C$Tzr,C$Tzr===C$TzY)switch(this.h){case C$Tzs.NONE:C$Tzt=0;break;case C$Tzs.r:C$Tzt=1;break;case C$Tzs.j:C$Tzt=2;break;default:C$TzQ(Error(H[545]));}else C$TzQ(Error(H[544]));return C$Tzn[C$Tzi++]=(C$Tzr=C$Tzt<<6|0)|31-(256*C$Tze+C$Tzr)%31,C$Tze=C$Tza(this.input),this.z.b=C$Tzi,C$Tzi=(C$Tzn=this.z.n()).length,C$Tzet&&((C$Tzn=new Uint8Array(C$Tzn.buffer)).length<=C$Tzi+4&&(this.a=new Uint8Array(C$Tzn.length+4),this.a.set(C$Tzn),C$Tzn=this.a),C$Tzn=C$Tzn.subarray(0,C$Tzi+4)),C$Tzn[C$Tzi++]=C$Tze>>24&255,C$Tzn[C$Tzi++]=C$Tze>>16&255,C$Tzn[C$Tzi++]=C$Tze>>8&255,C$Tzn[C$Tzi++]=255&C$Tze,C$Tzn;},C$Tzt(H[546],C$Tzx),C$Tzt(H[547],function(C$Tzt,C$Tze){return new C$Tzx(C$Tzt,C$Tze).n();}),C$Tzt(H[548],C$Tzs),C$Tzt(H[549],C$Tzs.NONE),C$Tzt(H[550],C$Tzs.r),C$Tzt(H[551],C$Tzs.j);for(var C$Tzb=0,C$TzA=1,C$Tzf={D:C$Tzb,C:C$TzA},C$Tzi=(C$Tzr.prototype.p=function(){for(;!this.s;){var C$Tzh=C$Tzg(this,3);switch(1&C$Tzh&&(this.s=C$Tztt),C$Tzh>>>=1){case 0:var C$Tzt=this.input,C$Tze=this.c,C$Tzi=this.a,C$Tzn=this.b,C$Tzr=C$Tz$,C$Tzu=C$Tzi.length,C$Tzs=C$Tz$;switch(this.e=this.g=0,(C$Tzc=C$Tzt[C$Tze++])===C$Tz$&&C$TzQ(Error(H[552])),C$Tzr=C$Tzc,(C$Tzc=C$Tzt[C$Tze++])===C$Tz$&&C$TzQ(Error(H[553])),C$Tzr|=C$Tzc<<8,(C$Tzc=C$Tzt[C$Tze++])===C$Tz$&&C$TzQ(Error(H[554])),C$Tzl=C$Tzc,(C$Tzc=C$Tzt[C$Tze++])===C$Tz$&&C$TzQ(Error(H[555])),C$Tzr===~(C$Tzl|=C$Tzc<<8)&&C$TzQ(Error(H[556])),C$Tze+C$Tzr>C$Tzt.length&&C$TzQ(Error(H[557])),this.m){case C$Tzb:for(;C$Tzn+C$Tzr>C$Tzi.length;){if(C$Tzr-=C$Tzs=C$Tzu-C$Tzn,C$Tzet)C$Tzi.set(C$Tzt.subarray(C$Tze,C$Tze+C$Tzs),C$Tzn),C$Tzn+=C$Tzs,C$Tze+=C$Tzs;else for(;C$Tzs--;)C$Tzi[C$Tzn++]=C$Tzt[C$Tze++];this.b=C$Tzn,C$Tzi=this.f(),C$Tzn=this.b;}break;case C$TzA:for(;C$Tzn+C$Tzr>C$Tzi.length;)C$Tzi=this.f({v:2});break;default:C$TzQ(Error(H[543]));}if(C$Tzet)C$Tzi.set(C$Tzt.subarray(C$Tze,C$Tze+C$Tzr),C$Tzn),C$Tzn+=C$Tzr,C$Tze+=C$Tzr;else for(;C$Tzr--;)C$Tzi[C$Tzn++]=C$Tzt[C$Tze++];this.c=C$Tze,this.b=C$Tzn,this.a=C$Tzi;break;case 1:this.o(C$TzL,C$TzN);break;case 2:C$Tzo=C$Tzf=C$Tzd=C$Tz_=C$Tzy=C$Tzm=C$Tzl=C$Tzc=C$Tza=void 0;var C$Tz_,C$Tzd,C$Tzf,C$Tzo,C$Tza=this,C$Tzp=function(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn,C$Tzr,C$Tzs,C$Tzo=0;C$Tzo<C$Tzt;)switch(C$Tzn=C$Tzk(this,C$Tze),C$Tzn){case 16:for(C$Tzs=3+C$Tzg(this,2);C$Tzs--;)C$Tzi[C$Tzo++]=C$Tzr;break;case 17:for(C$Tzs=3+C$Tzg(this,3);C$Tzs--;)C$Tzi[C$Tzo++]=0;C$Tzr=0;break;case 18:for(C$Tzs=11+C$Tzg(this,7);C$Tzs--;)C$Tzi[C$Tzo++]=0;C$Tzr=0;break;default:C$Tzr=C$Tzi[C$Tzo++]=C$Tzn;}return C$Tzi;},C$Tzc=C$Tzg(C$Tza,5)+257,C$Tzl=C$Tzg(C$Tza,5)+1,C$Tzm=C$Tzg(C$Tza,4)+4,C$Tzy=new(C$Tzet?Uint8Array:Array)(C$TzC.length);for(C$Tzo=0;C$Tzo<C$Tzm;++C$Tzo)C$Tzy[C$TzC[C$Tzo]]=C$Tzg(C$Tza,3);C$Tz_=C$Tzv(C$Tzy),C$Tzd=new(C$Tzet?Uint8Array:Array)(C$Tzc),C$Tzf=new(C$Tzet?Uint8Array:Array)(C$Tzl),C$Tza.o(C$Tzv(C$Tzp.call(C$Tza,C$Tzc,C$Tz_,C$Tzd)),C$Tzv(C$Tzp.call(C$Tza,C$Tzl,C$Tz_,C$Tzf)));break;default:C$TzQ(Error(H[558]+C$Tzh));}}return this.t();},[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C$TzC=C$Tzet?new Uint16Array(C$Tzi):C$Tzi,C$Tzi=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],C$TzT=C$Tzet?new Uint16Array(C$Tzi):C$Tzi,C$Tzi=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],C$Tzw=C$Tzet?new Uint8Array(C$Tzi):C$Tzi,C$Tzi=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],C$TzI=C$Tzet?new Uint16Array(C$Tzi):C$Tzi,C$Tzi=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C$TzB=C$Tzet?new Uint8Array(C$Tzi):C$Tzi,C$TzR=new(C$Tzet?Uint8Array:Array)(288),C$TzP=0,C$TzD=C$TzR.length;C$TzP<C$TzD;++C$TzP)C$TzR[C$TzP]=C$TzP<=143?8:C$TzP<=255?9:C$TzP<=279?7:8;for(var C$TzL=C$Tzv(C$TzR),C$TzV=new(C$Tzet?Uint8Array:Array)(30),C$TzO=0,C$TzF=C$TzV.length;C$TzO<C$TzF;++C$TzO)C$TzV[C$TzO]=5;var C$TzN=C$Tzv(C$TzV);function C$Tzg(C$Tzt,C$Tze){for(var C$Tzi,C$Tzn=C$Tzt.g,C$Tzr=C$Tzt.e,C$Tzs=C$Tzt.input,C$Tzo=C$Tzt.c;C$Tzr<C$Tze;)(C$Tzi=C$Tzs[C$Tzo++])===C$Tz$&&C$TzQ(Error(H[557])),C$Tzn|=C$Tzi<<C$Tzr,C$Tzr+=8;return C$Tzi=C$Tzn&(1<<C$Tze)-1,C$Tzt.g=C$Tzn>>>C$Tze,C$Tzt.e=C$Tzr-C$Tze,C$Tzt.c=C$Tzo,C$Tzi;}function C$Tzk(C$Tzt,C$Tze){for(var C$Tzi,C$Tzn=C$Tzt.g,C$Tzr=C$Tzt.e,C$Tzs=C$Tzt.input,C$Tzo=C$Tzt.c,C$Tza=C$Tze[0],C$Tzc=C$Tze[1];C$Tzr<C$Tzc;)(C$Tzi=C$Tzs[C$Tzo++])===C$Tz$&&C$TzQ(Error(H[557])),C$Tzn|=C$Tzi<<C$Tzr,C$Tzr+=8;return C$Tze=C$Tza[C$Tzn&(1<<C$Tzc)-1],C$Tzt.g=C$Tzn>>(C$Tza=C$Tze>>>16),C$Tzt.e=C$Tzr-C$Tza,C$Tzt.c=C$Tzo,65535&C$Tze;}function C$TzG(C$Tzt,C$Tze){var C$Tzi,C$Tzn;this.input=C$Tzt,this.c=0,C$Tze?(C$Tze.index&&(this.c=C$Tze.index),C$Tze.verify&&(this.M=C$Tze.verify)):C$Tze={},C$Tzi=C$Tzt[this.c++],C$Tzn=C$Tzt[this.c++],(15&C$Tzi)===C$TzY?this.method=C$TzY:C$TzQ(Error(H[559])),0!=((C$Tzi<<8)+C$Tzn)%31&&C$TzQ(Error(H[560]+((C$Tzi<<8)+C$Tzn)%31)),32&C$Tzn&&C$TzQ(Error(H[561])),this.A=new C$Tzr(C$Tzt,{index:this.c,bufferSize:C$Tze.bufferSize,bufferType:C$Tze.bufferType,resize:C$Tze.resize});}C$Tzr.prototype.o=function(C$Tzt,C$Tze){var C$Tzi=this.a,C$Tzn=this.b;this.u=C$Tzt;for(var C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc=C$Tzi.length-258;256!==(C$Tzr=C$Tzk(this,C$Tzt));)if(C$Tzr<256)C$Tzc<=C$Tzn&&(this.b=C$Tzn,C$Tzi=this.f(),C$Tzn=this.b),C$Tzi[C$Tzn++]=C$Tzr;else for(C$Tza=C$TzT[C$Tzs=C$Tzr-257],0<C$Tzw[C$Tzs]&&(C$Tza+=C$Tzg(this,C$Tzw[C$Tzs])),C$Tzr=C$Tzk(this,C$Tze),C$Tzo=C$TzI[C$Tzr],0<C$TzB[C$Tzr]&&(C$Tzo+=C$Tzg(this,C$TzB[C$Tzr])),C$Tzc<=C$Tzn&&(this.b=C$Tzn,C$Tzi=this.f(),C$Tzn=this.b);C$Tza--;)C$Tzi[C$Tzn]=C$Tzi[C$Tzn++-C$Tzo];for(;8<=this.e;)this.e-=8,this.c--;this.b=C$Tzn;},C$Tzr.prototype.I=function(C$Tzt,C$Tze){var C$Tzi=this.a,C$Tzn=this.b;this.u=C$Tzt;for(var C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc=C$Tzi.length;256!==(C$Tzr=C$Tzk(this,C$Tzt));)if(C$Tzr<256)C$Tzc<=C$Tzn&&(C$Tzc=(C$Tzi=this.f()).length),C$Tzi[C$Tzn++]=C$Tzr;else for(C$Tza=C$TzT[C$Tzs=C$Tzr-257],0<C$Tzw[C$Tzs]&&(C$Tza+=C$Tzg(this,C$Tzw[C$Tzs])),C$Tzr=C$Tzk(this,C$Tze),C$Tzo=C$TzI[C$Tzr],0<C$TzB[C$Tzr]&&(C$Tzo+=C$Tzg(this,C$TzB[C$Tzr])),C$Tzc<C$Tzn+C$Tza&&(C$Tzc=(C$Tzi=this.f()).length);C$Tza--;)C$Tzi[C$Tzn]=C$Tzi[C$Tzn++-C$Tzo];for(;8<=this.e;)this.e-=8,this.c--;this.b=C$Tzn;},C$Tzr.prototype.f=function(){var C$Tzt,C$Tze,C$Tzi=new(C$Tzet?Uint8Array:Array)(this.b-32768),C$Tzn=this.b-32768,C$Tzr=this.a;if(C$Tzet)C$Tzi.set(C$Tzr.subarray(32768,C$Tzi.length));else for(C$Tzt=0,C$Tze=C$Tzi.length;C$Tzt<C$Tze;++C$Tzt)C$Tzi[C$Tzt]=C$Tzr[C$Tzt+32768];if(this.k.push(C$Tzi),this.q+=C$Tzi.length,C$Tzet)C$Tzr.set(C$Tzr.subarray(C$Tzn,32768+C$Tzn));else for(C$Tzt=0;C$Tzt<32768;++C$Tzt)C$Tzr[C$Tzt]=C$Tzr[C$Tzn+C$Tzt];return this.b=32768,C$Tzr;},C$Tzr.prototype.J=function(C$Tzt){var C$Tze,C$Tzi=this.input.length/this.c+1|0,C$Tzn=this.input,C$Tzr=this.a;return C$Tzt&&(H[463]==typeof C$Tzt.v&&(C$Tzi=C$Tzt.v),H[463]==typeof C$Tzt.F&&(C$Tzi+=C$Tzt.F)),C$Tzn=C$Tzi<2?(C$Tzt=(C$Tzn.length-this.c)/this.u[2]/2*258|0)<C$Tzr.length?C$Tzr.length+C$Tzt:C$Tzr.length<<1:C$Tzr.length*C$Tzi,C$Tzet?(C$Tze=new Uint8Array(C$Tzn)).set(C$Tzr):C$Tze=C$Tzr,this.a=C$Tze;},C$Tzr.prototype.t=function(){var C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs=0,C$Tzo=this.a,C$Tza=this.k,C$Tzc=new(C$Tzet?Uint8Array:Array)(this.q+(this.b-32768));if(0===C$Tza.length)return C$Tzet?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);for(C$Tze=0,C$Tzi=C$Tza.length;C$Tze<C$Tzi;++C$Tze)for(C$Tzn=0,C$Tzr=(C$Tzt=C$Tza[C$Tze]).length;C$Tzn<C$Tzr;++C$Tzn)C$Tzc[C$Tzs++]=C$Tzt[C$Tzn];for(C$Tze=32768,C$Tzi=this.b;C$Tze<C$Tzi;++C$Tze)C$Tzc[C$Tzs++]=C$Tzo[C$Tze];return this.k=[],this.buffer=C$Tzc;},C$Tzr.prototype.H=function(){var C$Tzt,C$Tze=this.b;return C$Tzet?this.B?(C$Tzt=new Uint8Array(C$Tze)).set(this.a.subarray(0,C$Tze)):C$Tzt=this.a.subarray(0,C$Tze):(this.a.length>C$Tze&&(this.a.length=C$Tze),C$Tzt=this.a),this.buffer=C$Tzt;},C$TzG.prototype.p=function(){var C$Tzt=this.input,C$Tze=this.A.p();return this.c=this.A.c,this.M&&(C$Tzt[this.c++]<<24|C$Tzt[this.c++]<<16|C$Tzt[this.c++]<<8|C$Tzt[this.c++])>>>0!==C$Tza(C$Tze)&&C$TzQ(Error(H[562])),C$Tze;},C$Tzt(H[563],C$TzG),C$Tzt(H[564],C$Tzf),C$Tzf.ADAPTIVE=C$Tzf.C,C$Tzf.BLOCK=C$Tzf.D,C$Tzt(H[565],C$TzG.prototype.p);C$Tzet&&new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C$Tzet&&new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),C$Tzet&&new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),C$Tzet&&new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]);C$Tzet&&new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]);for(var C$Tzz=new(C$Tzet?Uint8Array:Array)(288),C$TzU=0,C$TzW=C$Tzz.length;C$TzU<C$TzW;++C$TzU)C$Tzz[C$TzU]=C$TzU<=143?8:C$TzU<=255?9:C$TzU<=279?7:8;C$Tzv(C$Tzz);for(var C$TzH=new(C$Tzet?Uint8Array:Array)(30),C$Tzj=0,C$TzX=C$TzH.length;C$Tzj<C$TzX;++C$Tzj)C$TzH[C$Tzj]=5;C$Tzv(C$TzH);var C$TzY=8;}.call(window);var C$Tzn=window.Zlib;C$Tzn.Deflate=C$Tzn.Deflate,C$Tzn.Deflate.compress=C$Tzn.Deflate.compress,C$Tzn.Inflate=C$Tzn.Inflate,C$Tzn.Inflate.BufferType=C$Tzn.Inflate.BufferType,C$Tzn.Inflate.prototype.decompress=C$Tzn.Inflate.prototype.decompress,C$Tze.exports=C$Tzn;},{}],27:[function(C$Tzt,C$Tze,C$Tzh){"use strict";var C$Tzn,C$Tzi=C$Tzt(H[566]),C$Tzr=C$Tzt(H[567])||{};cc.log=cc.warn=cc.error=cc.assert=console.log.bind?console.log.bind(console):console.log;function C$Tzs(){return function(){var C$Tzt=C$Tzr[arguments[0]]||H[568];if(1===arguments.length)return C$Tzt;if(2===arguments.length)return cc.js.formatStr(C$Tzt,arguments[1]);var C$Tze=cc.js.shiftArguments.apply(null,arguments);return cc.js.formatStr.apply(null,[C$Tzt].concat(C$Tze));};}cc._throw=function(C$Tzt){C$Tzi.callInNextTick(function(){throw C$Tzt;});};var C$Tzo=C$Tzs(),C$Tza=(cc.logID=function(){cc.log(C$Tzo.apply(null,arguments));},C$Tzs()),C$Tzc=(cc.warnID=function(){cc.warn(C$Tza.apply(null,arguments));},C$Tzs()),C$Tzu=(cc.errorID=function(){cc.error(C$Tzc.apply(null,arguments));},C$Tzs()),C$Tzl=(cc.assertID=function(C$Tzt){C$Tzt||cc.assert(!1,C$Tzu.apply(null,cc.js.shiftArguments.apply(null,arguments)));},cc.Enum({NONE:0,INFO:1,WARN:2,ERROR:3,INFO_FOR_WEB_PAGE:4,WARN_FOR_WEB_PAGE:5,ERROR_FOR_WEB_PAGE:6}));C$Tze.exports=cc.debug={DebugMode:C$Tzl,_resetDebugSetting:function(C$Tzt){var C$Tzi;cc.log=cc.warn=cc.error=cc.assert=function(){},C$Tzt!==C$Tzl.NONE&&(C$Tzt>C$Tzl.ERROR?(C$Tzi=function(C$Tzt){var C$Tze,C$Tzi;cc.game.canvas&&(C$Tzn||((C$Tze=document.createElement(H[569])).setAttribute(H[570],H[571]),C$Tze.setAttribute(H[572],H[573]),C$Tze.setAttribute(H[574],cc.game.canvas.height),(C$Tzi=C$Tze.style).zIndex=H[575],C$Tzi.position=H[576],C$Tzi.top=C$Tzi.left="0",(C$Tzn=document.createElement(H[577])).setAttribute(H[578],H[579]),C$Tzn.setAttribute(H[580],H[581]),C$Tzn.setAttribute(H[582],H[583]),(C$Tzi=C$Tzn.style).backgroundColor=H[584],C$Tzi.borderBottom=H[585],C$Tzi.borderTopWidth=C$Tzi.borderLeftWidth=C$Tzi.borderRightWidth=H[586],C$Tzi.borderTopStyle=C$Tzi.borderLeftStyle=C$Tzi.borderRightStyle=H[587],C$Tzi.padding=H[586],C$Tzi.margin=0,C$Tze.appendChild(C$Tzn),cc.game.canvas.parentNode.appendChild(C$Tze)),C$Tzn.value=C$Tzn.value+C$Tzt+"\r\n",C$Tzn.scrollTop=C$Tzn.scrollHeight);},cc.error=function(){C$Tzi(H[588]+cc.js.formatStr.apply(null,arguments));},cc.assert=function(C$Tzt,C$Tze){!C$Tzt&&C$Tze&&(C$Tze=cc.js.formatStr.apply(null,cc.js.shiftArguments.apply(null,arguments)),C$Tzi(H[589]+C$Tze));},C$Tzt!==C$Tzl.ERROR_FOR_WEB_PAGE&&(cc.warn=function(){C$Tzi(H[590]+cc.js.formatStr.apply(null,arguments));}),C$Tzt===C$Tzl.INFO_FOR_WEB_PAGE&&(cc.log=function(){C$Tzi(cc.js.formatStr.apply(null,arguments));})):console&&console.log.apply&&(console.error||(console.error=console.log),console.warn||(console.warn=console.log),console.error.bind?cc.error=console.error.bind(console):cc.error=function(){return console.error.apply(console,arguments);},cc.assert=function(C$Tzt,C$Tze){if(!C$Tzt)throw C$Tze=C$Tze&&cc.js.formatStr.apply(null,cc.js.shiftArguments.apply(null,arguments)),new Error(C$Tze);}),C$Tzt!==C$Tzl.ERROR&&(console.warn.bind?cc.warn=console.warn.bind(console):cc.warn=function(){return console.warn.apply(console,arguments);}),C$Tzt===C$Tzl.INFO&&(console.log.bind?cc.log=console.log.bind(console):cc.log=function(){return console.log.apply(console,arguments);}));},getError:C$Tzs(),isDisplayStats:function(){return!!cc.profiler&&cc.profiler.isShowingStats();},setDisplayStats:function(C$Tzt){cc.profiler&&cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS&&(C$Tzt?cc.profiler.showStats():cc.profiler.hideStats(),cc.game.config.showFPS=!!C$Tzt);}};},{"../../DebugInfos":1,"./platform/utils":213}],28:[function(C$Tzt,C$Tze,C$Tza){"use strict";var C$Tzi=C$Tzt(H[591]),C$Tzh=C$Tzt(H[592]),C$Tzn=C$Tzt(H[593]),C$Tzr=C$Tzt(H[594]),C$Tzu=C$Tzt(H[595]),C$Tz_=C$Tzt(H[596]),C$Tzc=C$Tzt(H[597]),C$Tzs=C$Tzt(H[598]),C$Tzo=C$Tzt(H[599]);cc.Director=function(){C$Tzi.call(this),this._paused=!1,this._purgeDirectorInNextLoop=!1,this._winSizeInPoints=null,this._loadingScene="",this._scene=null,this._totalFrames=0,this._lastUpdate=0,this._deltaTime=0,this._startTime=0,this._maxParticleDeltaTime=0,this._scheduler=null,this._compScheduler=null,this._nodeActivator=null,this._actionManager=null;var C$Tzt=this;C$Tz_.on(C$Tz_.EVENT_SHOW,function(){C$Tzt._lastUpdate=performance.now();}),C$Tz_.once(C$Tz_.EVENT_ENGINE_INITED,this.init,this);},cc.Director.prototype={constructor:cc.Director,init:function(){return this._totalFrames=0,this._lastUpdate=performance.now(),this._startTime=this._lastUpdate,this._paused=!1,this._purgeDirectorInNextLoop=!1,this._winSizeInPoints=cc.size(0,0),this._scheduler=new C$Tzo(),cc.ActionManager?(this._actionManager=new cc.ActionManager(),this._scheduler.scheduleUpdate(this._actionManager,C$Tzo.PRIORITY_SYSTEM,!1)):this._actionManager=null,this.sharedInit(),!0;},sharedInit:function(){this._compScheduler=new C$Tzn(),this._nodeActivator=new C$Tzr(),C$Tzs&&C$Tzs.setEnabled(!0),cc.AnimationManager?(this._animationManager=new cc.AnimationManager(),this._scheduler.scheduleUpdate(this._animationManager,C$Tzo.PRIORITY_SYSTEM,!1)):this._animationManager=null,cc.CollisionManager?(this._collisionManager=new cc.CollisionManager(),this._scheduler.scheduleUpdate(this._collisionManager,C$Tzo.PRIORITY_SYSTEM,!1)):this._collisionManager=null,cc.PhysicsManager?(this._physicsManager=new cc.PhysicsManager(),this._scheduler.scheduleUpdate(this._physicsManager,C$Tzo.PRIORITY_SYSTEM,!1)):this._physicsManager=null,cc.Physics3DManager?(this._physics3DManager=new cc.Physics3DManager(),this._scheduler.scheduleUpdate(this._physics3DManager,C$Tzo.PRIORITY_SYSTEM,!1)):this._physics3DManager=null,cc._widgetManager&&cc._widgetManager.init(this),cc.loader.init(this);},calculateDeltaTime:function(C$Tzt){C$Tzt=C$Tzt||performance.now(),this._deltaTime=C$Tzt>this._lastUpdate?(C$Tzt-this._lastUpdate)/1e3:0,1<this._deltaTime&&(this._deltaTime=1/60),this._lastUpdate=C$Tzt;},convertToGL:function(C$Tzt){var C$Tze=C$Tz_.container,C$Tzi=cc.view,C$Tzn=C$Tze.getBoundingClientRect(),C$Tzr=C$Tzn.left+window.pageXOffset-C$Tze.clientLeft,C$Tze=C$Tzn.top+window.pageYOffset-C$Tze.clientTop,C$Tzr=C$Tzi._devicePixelRatio*(C$Tzt.x-C$Tzr),C$Tze=C$Tzi._devicePixelRatio*(C$Tze+C$Tzn.height-C$Tzt.y);return C$Tzi._isRotated?cc.v2(C$Tzi._viewportRect.width-C$Tze,C$Tzr):cc.v2(C$Tzr,C$Tze);},convertToUI:function(C$Tzt){var C$Tze=C$Tz_.container,C$Tzi=cc.view,C$Tzn=C$Tze.getBoundingClientRect(),C$Tzr=C$Tzn.left+window.pageXOffset-C$Tze.clientLeft,C$Tze=C$Tzn.top+window.pageYOffset-C$Tze.clientTop,C$Tzs=cc.v2(0,0);return C$Tzi._isRotated?(C$Tzs.x=C$Tzr+C$Tzt.y/C$Tzi._devicePixelRatio,C$Tzs.y=C$Tze+C$Tzn.height-(C$Tzi._viewportRect.width-C$Tzt.x)/C$Tzi._devicePixelRatio):(C$Tzs.x=C$Tzr+C$Tzt.x*C$Tzi._devicePixelRatio,C$Tzs.y=C$Tze+C$Tzn.height-C$Tzt.y*C$Tzi._devicePixelRatio),C$Tzs;},end:function(){this._purgeDirectorInNextLoop=!0;},getWinSize:function(){return cc.size(cc.winSize);},getWinSizeInPixels:function(){return cc.size(cc.winSize);},pause:function(){this._paused||(this._paused=!0);},purgeCachedData:function(){cc.loader.releaseAll();},purgeDirector:function(){this._scheduler.unscheduleAll(),this._compScheduler.unscheduleAll(),this._nodeActivator.reset(),C$Tzs&&C$Tzs.setEnabled(!1),cc.isValid(this._scene)&&this._scene.destroy(),this._scene=null,cc.renderer.clear(),cc.AssetLibrary.resetBuiltins(),cc.game.pause(),cc.loader.releaseAll();},reset:function(){this.purgeDirector(),C$Tzs&&C$Tzs.setEnabled(!0),this._actionManager&&this._scheduler.scheduleUpdate(this._actionManager,cc.Scheduler.PRIORITY_SYSTEM,!1),this._animationManager&&this._scheduler.scheduleUpdate(this._animationManager,cc.Scheduler.PRIORITY_SYSTEM,!1),this._collisionManager&&this._scheduler.scheduleUpdate(this._collisionManager,cc.Scheduler.PRIORITY_SYSTEM,!1),this._physicsManager&&this._scheduler.scheduleUpdate(this._physicsManager,cc.Scheduler.PRIORITY_SYSTEM,!1),cc.game.resume();},runSceneImmediate:function(C$Tzt,C$Tze,C$Tzi){cc.assertID(C$Tzt instanceof cc.Scene,1216),console.time(H[600]),C$Tzt._load(),console.timeEnd(H[600]),console.time(H[601]);for(var C$Tzn=Object.keys(C$Tz_._persistRootNodes).map(function(C$Tzt){return C$Tz_._persistRootNodes[C$Tzt];}),C$Tzr=0;C$Tzr<C$Tzn.length;C$Tzr++){var C$Tzs,C$Tzo=C$Tzn[C$Tzr],C$Tza=C$Tzt.getChildByUuid(C$Tzo.uuid);C$Tza?(C$Tzs=C$Tza.getSiblingIndex(),C$Tza._destroyImmediate(),C$Tzt.insertChild(C$Tzo,C$Tzs)):C$Tzo.parent=C$Tzt;}console.timeEnd(H[601]);var C$Tzc=this._scene,C$Tzl=(console.time(H[602]),C$Tzc&&C$Tzc.autoReleaseAssets&&C$Tzc.dependAssets);C$Tzh.autoRelease(C$Tzl,C$Tzt.dependAssets,C$Tzn),console.timeEnd(H[602]),console.time(H[603]),cc.isValid(C$Tzc)&&C$Tzc.destroy(),this._scene=null,C$Tzu._deferredDestroy(),console.timeEnd(H[603]),C$Tze&&C$Tze(),this.emit(cc.Director.EVENT_BEFORE_SCENE_LAUNCH,C$Tzt),this._scene=C$Tzt,console.time(H[604]),C$Tzt._activate(),console.timeEnd(H[604]),cc.game.resume(),C$Tzi&&C$Tzi(null,C$Tzt),this.emit(cc.Director.EVENT_AFTER_SCENE_LAUNCH,C$Tzt);},runScene:function(C$Tzt,C$Tze,C$Tzi){cc.assertID(C$Tzt,1205),cc.assertID(C$Tzt instanceof cc.Scene,1216),C$Tzt._load(),this.once(cc.Director.EVENT_AFTER_UPDATE,function(){this.runSceneImmediate(C$Tzt,C$Tze,C$Tzi);},this);},_getSceneUuid:function(C$Tzt){var C$Tze=C$Tz_._sceneInfos;if(H[462]==typeof C$Tzt){C$Tzt.endsWith(H[605])||(C$Tzt+=H[605]),"/"===C$Tzt[0]||C$Tzt.startsWith(H[606])||(C$Tzt="/"+C$Tzt);for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];if(C$Tzn.url.endsWith(C$Tzt))return C$Tzn;}}else if(H[463]==typeof C$Tzt){if(0<=C$Tzt&&C$Tzt<C$Tze.length)return C$Tze[C$Tzt];cc.errorID(1206,C$Tzt);}else cc.errorID(1207,C$Tzt);return null;},loadScene:function(C$Tzt,C$Tze,C$Tzi){if(this._loadingScene)return cc.warnID(1208,C$Tzt,this._loadingScene),!1;var C$Tzn=this._getSceneUuid(C$Tzt);return C$Tzn?(C$Tzn=C$Tzn.uuid,this.emit(cc.Director.EVENT_BEFORE_SCENE_LOADING,C$Tzt),this._loadingScene=C$Tzt,this._loadSceneByUuid(C$Tzn,C$Tze,C$Tzi),!0):(cc.errorID(1209,C$Tzt),!1);},preloadScene:function(C$Tzi,C$Tzt,C$Tzn){void 0===C$Tzn&&(C$Tzn=C$Tzt,C$Tzt=null);var C$Tze=this._getSceneUuid(C$Tzi);C$Tze?(this.emit(cc.Director.EVENT_BEFORE_SCENE_LOADING,C$Tzi),cc.loader.load({uuid:C$Tze.uuid,type:H[607]},C$Tzt,function(C$Tzt,C$Tze){C$Tzt&&cc.errorID(1210,C$Tzi,C$Tzt.message),C$Tzn&&C$Tzn(C$Tzt,C$Tze);})):(C$Tze=H[608]+C$Tzi+H[609],C$Tzn(new Error(C$Tze)),cc.error(H[610]+C$Tze));},_loadSceneByUuid:function(C$Tzr,C$Tzs,C$Tzo,C$Tzt){console.time(H[611]+C$Tzr),cc.AssetLibrary.loadAsset(C$Tzr,function(C$Tzt,C$Tze){console.timeEnd(H[611]+C$Tzr);var C$Tzi,C$Tzn=cc.director;if(C$Tzn._loadingScene="",C$Tzt)C$Tzt=H[612]+C$Tzt,cc.error(C$Tzt);else{if(C$Tze instanceof cc.SceneAsset)return(C$Tzi=C$Tze.scene)._id=C$Tze._uuid,C$Tzi._name=C$Tze._name,void C$Tzn.runSceneImmediate(C$Tzi,C$Tzo,C$Tzs);C$Tzt=H[613]+C$Tzr+H[614],cc.error(C$Tzt);}C$Tzs&&C$Tzs(C$Tzt);});},resume:function(){this._paused&&(this._lastUpdate=performance.now(),this._lastUpdate||cc.logID(1200),this._paused=!1,this._deltaTime=0);},setDepthTest:function(C$Tzt){cc.Camera.main&&(cc.Camera.main.depth=!!C$Tzt);},setClearColor:function(C$Tzt){cc.Camera.main&&(cc.Camera.main.backgroundColor=C$Tzt);},getRunningScene:function(){return this._scene;},getScene:function(){return this._scene;},getAnimationInterval:function(){return 1e3/C$Tz_.getFrameRate();},setAnimationInterval:function(C$Tzt){C$Tz_.setFrameRate(Math.round(1e3/C$Tzt));},getDeltaTime:function(){return this._deltaTime;},getTotalTime:function(){return performance.now()-this._startTime;},getTotalFrames:function(){return this._totalFrames;},isPaused:function(){return this._paused;},getScheduler:function(){return this._scheduler;},setScheduler:function(C$Tzt){this._scheduler!==C$Tzt&&(this._scheduler=C$Tzt);},getActionManager:function(){return this._actionManager;},setActionManager:function(C$Tzt){this._actionManager!==C$Tzt&&(this._actionManager&&this._scheduler.unscheduleUpdate(this._actionManager),this._actionManager=C$Tzt,this._scheduler.scheduleUpdate(this._actionManager,cc.Scheduler.PRIORITY_SYSTEM,!1));},getAnimationManager:function(){return this._animationManager;},getCollisionManager:function(){return this._collisionManager;},getPhysicsManager:function(){return this._physicsManager;},getPhysics3DManager:function(){return this._physics3DManager;},startAnimation:function(){cc.game.resume();},stopAnimation:function(){cc.game.pause();},_resetDeltaTime:function(){this._lastUpdate=performance.now(),this._deltaTime=0;},mainLoop:function(C$Tzt){this._purgeDirectorInNextLoop?(this._purgeDirectorInNextLoop=!1,this.purgeDirector()):(this.calculateDeltaTime(C$Tzt),this._paused||(this.emit(cc.Director.EVENT_BEFORE_UPDATE),this._compScheduler.startPhase(),this._compScheduler.updatePhase(this._deltaTime),this._scheduler.update(this._deltaTime),this._compScheduler.lateUpdatePhase(this._deltaTime),this._compScheduler.clearup(),this.emit(cc.Director.EVENT_AFTER_UPDATE),C$Tzu._deferredDestroy()),this.emit(cc.Director.EVENT_BEFORE_DRAW),C$Tzc.render(this._scene,this._deltaTime),this.emit(cc.Director.EVENT_AFTER_DRAW),C$Tzs.frameUpdateListeners(),this._totalFrames++);},__fastOn:function(C$Tzt,C$Tze,C$Tzi){this.on(C$Tzt,C$Tze,C$Tzi);},__fastOff:function(C$Tzt,C$Tze,C$Tzi){this.off(C$Tzt,C$Tze,C$Tzi);}},cc.js.addon(cc.Director.prototype,C$Tzi.prototype),cc.Director.EVENT_PROJECTION_CHANGED=H[615],cc.Director.EVENT_BEFORE_SCENE_LOADING=H[616],cc.Director.EVENT_BEFORE_SCENE_LAUNCH=H[617],cc.Director.EVENT_AFTER_SCENE_LAUNCH=H[618],cc.Director.EVENT_BEFORE_UPDATE=H[619],cc.Director.EVENT_AFTER_UPDATE=H[620],cc.Director.EVENT_BEFORE_VISIT=H[621],cc.Director.EVENT_AFTER_VISIT=H[621],cc.Director.EVENT_BEFORE_DRAW=H[621],cc.Director.EVENT_AFTER_DRAW=H[622],cc.Director.PROJECTION_2D=0,cc.Director.PROJECTION_3D=1,cc.Director.PROJECTION_CUSTOM=3,cc.Director.PROJECTION_DEFAULT=cc.Director.PROJECTION_2D,cc.Director.EVENT_BEFORE_PHYSICS=H[623],cc.Director.EVENT_AFTER_PHYSICS=H[624],cc.director=new cc.Director(),C$Tze.exports=cc.director;},{"./CCGame":29,"./CCScheduler":33,"./component-scheduler":72,"./event-manager":113,"./event/event-target":115,"./load-pipeline/auto-release-utils":140,"./node-activator":161,"./platform/CCObject":195,"./renderer":220}],29:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[591]),C$Tzo=(C$Tzt(H[625]),C$Tzt(H[626])),C$Tzs=C$Tzt(H[627]),C$Tza=C$Tzt(H[628]),C$Tzc={EVENT_HIDE:H[629],EVENT_SHOW:H[630],EVENT_RESTART:H[631],EVENT_GAME_INITED:H[632],EVENT_ENGINE_INITED:H[633],EVENT_RENDERER_INITED:H[633],RENDER_TYPE_CANVAS:0,RENDER_TYPE_WEBGL:1,RENDER_TYPE_OPENGL:2,_persistRootNodes:{},_paused:!0,_configLoaded:!1,_isCloning:!1,_prepared:!1,_rendererInitialized:!1,_renderContext:null,_intervalId:null,_lastTime:null,_frameTime:null,_sceneInfos:[],frame:null,container:null,canvas:null,renderType:-1,config:null,onStart:null,setFrameRate:function(C$Tzt){this.config.frameRate=C$Tzt,this._intervalId&&window.cancelAnimFrame(this._intervalId),this._intervalId=0,this._paused=!0,this._setAnimFrame(),this._runMainLoop();},getFrameRate:function(){return this.config.frameRate;},step:function(){cc.director.mainLoop();},pause:function(){this._paused||(this._paused=!0,cc.audioEngine&&cc.audioEngine._break(),this._intervalId&&window.cancelAnimFrame(this._intervalId),this._intervalId=0);},resume:function(){this._paused&&(this._paused=!1,cc.audioEngine&&cc.audioEngine._restore(),cc.director._resetDeltaTime(),this._runMainLoop());},isPaused:function(){return this._paused;},restart:function(){cc.director.once(cc.Director.EVENT_AFTER_DRAW,function(){for(var C$Tzt in C$Tzc._persistRootNodes)C$Tzc.removePersistRootNode(C$Tzc._persistRootNodes[C$Tzt]);cc.director.getScene().destroy(),cc.Object._deferredDestroy(),cc.audioEngine&&cc.audioEngine.uncacheAll(),cc.director.reset(),C$Tzc.pause(),cc.AssetLibrary._loadBuiltins(function(){C$Tzc.onStart(),C$Tzc.emit(C$Tzc.EVENT_RESTART);});});},end:function(){close();},_initEngine:function(){this._rendererInitialized||(this._initRenderer(),this._initEvents(),this.emit(this.EVENT_ENGINE_INITED));},_loadPreviewScript:function(C$Tzt){C$Tzt();},_prepareFinished:function(C$Tzt){var C$Tze=this;this._initEngine(),this._setAnimFrame(),cc.AssetLibrary._loadBuiltins(function(){console.log(H[634]+cc.ENGINE_VERSION),C$Tze._prepared=!0,C$Tze._runMainLoop(),C$Tze.emit(C$Tze.EVENT_GAME_INITED),C$Tzt&&C$Tzt();});},eventTargetOn:C$Tzn.prototype.on,eventTargetOnce:C$Tzn.prototype.once,on:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._prepared&&C$Tzt===this.EVENT_ENGINE_INITED||!this._paused&&C$Tzt===this.EVENT_GAME_INITED?C$Tze.call(C$Tzi):this.eventTargetOn(C$Tzt,C$Tze,C$Tzi,C$Tzn);},once:function(C$Tzt,C$Tze,C$Tzi){this._prepared&&C$Tzt===this.EVENT_ENGINE_INITED||!this._paused&&C$Tzt===this.EVENT_GAME_INITED?C$Tze.call(C$Tzi):this.eventTargetOnce(C$Tzt,C$Tze,C$Tzi);},prepare:function(C$Tze){var C$Tzt,C$Tzi=this;this._prepared?C$Tze&&C$Tze():(C$Tzt=this.config.jsList)&&0<C$Tzt.length?cc.loader.load(C$Tzt,function(C$Tzt){if(C$Tzt)throw new Error(JSON.stringify(C$Tzt));C$Tzi._loadPreviewScript(function(){C$Tzi._prepareFinished(C$Tze);});}):this._loadPreviewScript(function(){C$Tzi._prepareFinished(C$Tze);});},run:function(C$Tzt,C$Tze){this._initConfig(C$Tzt),this.onStart=C$Tze,this.prepare(C$Tzc.onStart&&C$Tzc.onStart.bind(C$Tzc));},addPersistRootNode:function(C$Tzt){if(cc.Node.isNode(C$Tzt)&&C$Tzt.uuid){var C$Tze=C$Tzt.uuid;if(!this._persistRootNodes[C$Tze]){var C$Tzi=cc.director._scene;if(cc.isValid(C$Tzi))if(C$Tzt.parent){if(!(C$Tzt.parent instanceof cc.Scene))return void cc.warnID(3801);if(C$Tzt.parent!==C$Tzi)return void cc.warnID(3802);}else C$Tzt.parent=C$Tzi;(this._persistRootNodes[C$Tze]=C$Tzt)._persistNode=!0;}}else cc.warnID(3800);},removePersistRootNode:function(C$Tzt){var C$Tze=C$Tzt.uuid||"";C$Tzt===this._persistRootNodes[C$Tze]&&(delete this._persistRootNodes[C$Tze],C$Tzt._persistNode=!1);},isPersistRootNode:function(C$Tzt){return C$Tzt._persistNode;},_setAnimFrame:function(){this._lastTime=performance.now();var C$Tzt=C$Tzc.config.frameRate;this._frameTime=1e3/C$Tzt,cc.director._maxParticleDeltaTime=this._frameTime/1e3*2,60!==C$Tzt&&30!==C$Tzt?(window.requestAnimFrame=this._stTime,window.cancelAnimFrame=this._ctTime):(window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||this._stTime,window.cancelAnimFrame=window.cancelAnimationFrame||window.cancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.oCancelAnimationFrame||this._ctTime);},_stTime:function(C$Tzt){var C$Tze=performance.now(),C$Tzi=Math.max(0,C$Tzc._frameTime-(C$Tze-C$Tzc._lastTime)),C$Tzn=window.setTimeout(function(){C$Tzt();},C$Tzi);return C$Tzc._lastTime=C$Tze+C$Tzi,C$Tzn;},_ctTime:function(C$Tzt){window.clearTimeout(C$Tzt);},_runMainLoop:function(){var C$Tze,C$Tzi,C$Tzt,C$Tzn,C$Tzr,C$Tzs;this._prepared&&(C$Tzt=(C$Tze=this).config,C$Tzn=cc.director,C$Tzr=!0,C$Tzs=C$Tzt.frameRate,C$Tzo.setDisplayStats(C$Tzt.showFPS),C$Tzi=function(C$Tzt){C$Tze._paused||(C$Tze._intervalId=window.requestAnimFrame(C$Tzi),30===C$Tzs&&(C$Tzr=!C$Tzr)||C$Tzn.mainLoop(C$Tzt));},C$Tze._intervalId=window.requestAnimFrame(C$Tzi),C$Tze._paused=!1);},_initConfig:function(C$Tzt){H[463]!=typeof C$Tzt.debugMode&&(C$Tzt.debugMode=0),C$Tzt.exposeClassName=!!C$Tzt.exposeClassName,H[463]!=typeof C$Tzt.frameRate&&(C$Tzt.frameRate=60);var C$Tze=C$Tzt.renderMode;(H[463]!=typeof C$Tze||2<C$Tze||C$Tze<0)&&(C$Tzt.renderMode=0),H[635]!=typeof C$Tzt.registerSystemEvent&&(C$Tzt.registerSystemEvent=!0),C$Tzt.showFPS=1!==C$Tze&&!!C$Tzt.showFPS,this._sceneInfos=C$Tzt.scenes||[],this.collisionMatrix=C$Tzt.collisionMatrix||[],this.groupList=C$Tzt.groupList||[],C$Tzo._resetDebugSetting(C$Tzt.debugMode),this.config=C$Tzt,this._configLoaded=!0;},_determineRenderType:function(){var C$Tzt=this.config,C$Tzt=parseInt(C$Tzt.renderMode)||0,C$Tze=(this.renderType=this.RENDER_TYPE_CANVAS,!1);if(0===C$Tzt?cc.sys.capabilities.opengl?(this.renderType=this.RENDER_TYPE_WEBGL,C$Tze=!0):cc.sys.capabilities.canvas&&(this.renderType=this.RENDER_TYPE_CANVAS,C$Tze=!0):1===C$Tzt&&cc.sys.capabilities.canvas?(this.renderType=this.RENDER_TYPE_CANVAS,C$Tze=!0):2===C$Tzt&&cc.sys.capabilities.opengl&&(this.renderType=this.RENDER_TYPE_WEBGL,C$Tze=!0),!C$Tze)throw new Error(C$Tzo.getError(3820,C$Tzt));},_initRenderer:function(){var C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr;this._rendererInitialized||(H[636]===(C$Tzr=(C$Tzr=this.config.id)instanceof HTMLElement?C$Tzr:document.querySelector(C$Tzr)||document.querySelector("#"+C$Tzr)).tagName?(C$Tzt=C$Tzr.width,C$Tze=C$Tzr.height,this.canvas=C$Tzi=C$Tzr,this.container=C$Tzn=document.createElement(H[637]),C$Tzi.parentNode&&C$Tzi.parentNode.insertBefore(C$Tzn,C$Tzi)):(H[637]!==C$Tzr.tagName&&cc.warnID(3819),C$Tzt=C$Tzr.clientWidth,C$Tze=C$Tzr.clientHeight,this.canvas=C$Tzi=document.createElement(H[636]),this.container=C$Tzn=document.createElement(H[637]),C$Tzr.appendChild(C$Tzn)),C$Tzn.setAttribute(H[570],H[638]),C$Tzn.appendChild(C$Tzi),this.frame=C$Tzn.parentNode===document.body?document.documentElement:C$Tzn.parentNode,C$Tzr=H[639],-1<(" "+(C$Tzn=C$Tzi).className+" ").indexOf(" "+C$Tzr+" ")||(C$Tzn.className&&(C$Tzn.className+=" "),C$Tzn.className+=C$Tzr),C$Tzi.setAttribute(H[572],C$Tzt||480),C$Tzi.setAttribute(H[574],C$Tze||320),C$Tzi.setAttribute(H[640],99),this._determineRenderType(),this.renderType===this.RENDER_TYPE_WEBGL&&(C$Tzr={stencil:!0,antialias:cc.macro.ENABLE_WEBGL_ANTIALIAS,alpha:cc.macro.ENABLE_TRANSPARENT_CANVAS},C$Tzs.initWebGL(C$Tzi,C$Tzr),this._renderContext=C$Tzs.device._gl,!cc.macro.CLEANUP_IMAGE_CACHE&&C$Tza&&(C$Tza.enabled=!0)),this._renderContext||(this.renderType=this.RENDER_TYPE_CANVAS,C$Tzs.initCanvas(C$Tzi),this._renderContext=C$Tzs.device._ctx),this.canvas.oncontextmenu=function(){if(!cc._isContextMenuEnable)return!1;},this._rendererInitialized=!0);},_initEvents:function(){var C$Tze,C$Tzt=window,C$Tzs=(this.config.registerSystemEvent&&cc.internal.inputManager.registerSystemEvent(this.canvas),void 0!==document.hidden?C$Tze=H[641]:void 0!==document.mozHidden?C$Tze=H[642]:void 0!==document.msHidden?C$Tze=H[643]:void 0!==document.webkitHidden&&(C$Tze=H[644]),!1);function C$Tzi(){C$Tzs||(C$Tzs=!0,C$Tzc.emit(C$Tzc.EVENT_HIDE));}function C$Tzn(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){C$Tzs&&(C$Tzs=!1,C$Tzc.emit(C$Tzc.EVENT_SHOW,C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr));}if(C$Tze)for(var C$Tzr=[H[645],H[646],H[647],H[648],H[649]],C$Tzo=0;C$Tzo<C$Tzr.length;C$Tzo++)document.addEventListener(C$Tzr[C$Tzo],function(C$Tzt){(document[C$Tze]||C$Tzt.hidden?C$Tzi:C$Tzn)();});else C$Tzt.addEventListener(H[650],C$Tzi),C$Tzt.addEventListener(H[651],C$Tzn);-1<navigator.userAgent.indexOf(H[652])&&(C$Tzt.onfocus=C$Tzn),H[653]in window&&H[654]in window&&(C$Tzt.addEventListener(H[655],C$Tzi),C$Tzt.addEventListener(H[656],C$Tzn),document.addEventListener(H[655],C$Tzi),document.addEventListener(H[656],C$Tzn)),this.on(C$Tzc.EVENT_HIDE,function(){C$Tzc.pause();}),this.on(C$Tzc.EVENT_SHOW,function(){C$Tzc.resume();});}};C$Tzn.call(C$Tzc),cc.js.addon(C$Tzc,C$Tzn.prototype),cc.game=C$Tze.exports=C$Tzc;},{"../audio/CCAudioEngine":22,"../core/renderer/utils/dynamic-atlas/manager":223,"./CCDebug":27,"./event/event-target":115,"./renderer/index.js":220}],30:[function(C$Tzt,C$Tze,C$Tzn){"use strict";function C$Tzl(){}function C$Tzu(C$Tzt,C$Tze){0!==C$Tzt&&(C$Tztt&&cc.warn(H[657],""),C$Tztt=!1);}function C$Tz_(C$Tzt,C$Tze){var C$Tzi=C$Tzt.getLocation(),C$Tzn=this.owner;return!!C$Tzn._hitTest(C$Tzi,this)&&(C$Tze.type=C$Tzc.TOUCH_START,C$Tze.touch=C$Tzt,C$Tze.bubbles=!0,C$Tzn.dispatchEvent(C$Tze),!0);}function C$Tzd(C$Tzt,C$Tze){var C$Tzi=this.owner;C$Tze.type=C$Tzc.TOUCH_MOVE,C$Tze.touch=C$Tzt,C$Tze.bubbles=!0,C$Tzi.dispatchEvent(C$Tze);}function C$Tzf(C$Tzt,C$Tze){var C$Tzi=C$Tzt.getLocation(),C$Tzn=this.owner;C$Tzn._hitTest(C$Tzi,this)?C$Tze.type=C$Tzc.TOUCH_END:C$Tze.type=C$Tzc.TOUCH_CANCEL,C$Tze.touch=C$Tzt,C$Tze.bubbles=!0,C$Tzn.dispatchEvent(C$Tze);}function C$Tzy(C$Tzt,C$Tze){C$Tzt.getLocation();var C$Tzi=this.owner;C$Tze.type=C$Tzc.TOUCH_CANCEL,C$Tze.touch=C$Tzt,C$Tze.bubbles=!0,C$Tzi.dispatchEvent(C$Tze);}function C$Tzg(C$Tzt){var C$Tze=C$Tzt.getLocation(),C$Tzi=this.owner;C$Tzi._hitTest(C$Tze,this)&&(C$Tzt.type=C$Tzc.MOUSE_DOWN,C$Tzt.bubbles=!0,C$Tzi.dispatchEvent(C$Tzt));}function C$Tzv(C$Tzt){var C$Tze=C$Tzt.getLocation(),C$Tzi=this.owner;if(C$Tzi._hitTest(C$Tze,this))this._previousIn||(C$Tzet&&C$Tzet._mouseListener&&(C$Tzt.type=C$Tzc.MOUSE_LEAVE,C$Tzet.dispatchEvent(C$Tzt),C$Tzet._mouseListener._previousIn=!1),C$Tzet=this.owner,C$Tzt.type=C$Tzc.MOUSE_ENTER,C$Tzi.dispatchEvent(C$Tzt),this._previousIn=!0),C$Tzt.type=C$Tzc.MOUSE_MOVE,C$Tzt.bubbles=!0,C$Tzi.dispatchEvent(C$Tzt);else{if(!this._previousIn)return;C$Tzt.type=C$Tzc.MOUSE_LEAVE,C$Tzi.dispatchEvent(C$Tzt),this._previousIn=!1,C$Tzet=null;}C$Tzt.stopPropagation();}function C$Tzx(C$Tzt){var C$Tze=C$Tzt.getLocation(),C$Tzi=this.owner;C$Tzi._hitTest(C$Tze,this)&&(C$Tzt.type=C$Tzc.MOUSE_UP,C$Tzt.bubbles=!0,C$Tzi.dispatchEvent(C$Tzt),C$Tzt.stopPropagation());}function C$Tzb(C$Tzt){var C$Tze=C$Tzt.getLocation(),C$Tzi=this.owner;C$Tzi._hitTest(C$Tze,this)&&(C$Tzt.type=C$Tzc.MOUSE_WHEEL,C$Tzt.bubbles=!0,C$Tzi.dispatchEvent(C$Tzt),C$Tzt.stopPropagation());}var C$Tzp=C$Tzt(H[658]),C$TzA=C$Tzt(H[659]),C$TzC=C$Tzt(H[660]),C$TzS=C$Tzt(H[661]).NodeMemPool,C$Tzi=C$Tzt(H[662]),C$Tza=C$Tzt(H[598]),C$TzT=C$Tzt(H[663]),C$Tzw=C$Tzt(H[664]),C$TzE=(C$Tzt(H[665]),C$Tzt(H[591])),C$Tzr=C$Tzt(H[666]),C$TzM=cc.Object.Flags.Destroying,C$TzI=Math.PI/180,C$Tzs=!!cc.ActionManager,C$TzB=new C$Tzp.Vec3(),C$TzR=new C$Tzp.Quat(),C$TzP=new C$Tzp.Vec3(),C$TzD=new C$Tzp.Vec3(),C$TzL=new C$Tzp.Quat(),C$TzV=new C$Tzp.Quat(),C$TzO=new C$Tzp.Vec3(),C$TzF=new C$Tzp.Vec3(),C$TzN=new C$Tzp.Vec3(),C$Tzk=new C$Tzp.Vec3(),C$TzG=new C$Tzp.Vec3(),C$Tzz=new C$Tzp.Quat(),C$TzU=new C$Tzp.Quat(),C$TzW=new C$Tzp.Vec3(),C$TzH=new C$Tzp.Quat(),C$Tzj=new C$Tzp.Vec3(),C$TzX=new C$Tzp.Quat(),C$TzY=new C$Tzp.Vec3(),C$Tzq=new C$Tzp.Vec3(),C$TzJ=new C$Tzp.Quat(),C$TzZ=new C$Tzp.Quat(),C$Tzm=(new C$Tzp.Quat(),cc.mat4()),C$TzK=new C$Tzp.Vec3(),C$Tzo=[],C$Tzt=(C$Tzo.length=0,cc.Enum({DEBUG:31})),C$Tzh=cc.Enum({POSITION:1,SCALE:2,ROTATION:4,SKEW:8,TRS:7,RS:6,TRSS:15,PHYSICS_POSITION:16,PHYSICS_SCALE:32,PHYSICS_ROTATION:64,PHYSICS_TRS:112,PHYSICS_RS:96,ALL_POSITION:17,ALL_SCALE:34,ALL_ROTATION:68,ALL_TRS:119,ALL:65535}),C$Tzc=cc.Enum({TOUCH_START:H[667],TOUCH_MOVE:H[668],TOUCH_END:H[510],TOUCH_CANCEL:H[669],MOUSE_DOWN:H[511],MOUSE_MOVE:H[670],MOUSE_ENTER:H[671],MOUSE_LEAVE:H[672],MOUSE_UP:H[673],MOUSE_WHEEL:H[674],POSITION_CHANGED:H[675],ROTATION_CHANGED:H[676],SCALE_CHANGED:H[677],SIZE_CHANGED:H[678],ANCHOR_CHANGED:H[679],COLOR_CHANGED:H[680],CHILD_ADDED:H[681],CHILD_REMOVED:H[682],CHILD_REORDER:H[683],GROUP_CHANGED:H[684],SIBLING_ORDER_CHANGED:H[685]}),C$TzQ=[C$Tzc.TOUCH_START,C$Tzc.TOUCH_MOVE,C$Tzc.TOUCH_END,C$Tzc.TOUCH_CANCEL],C$Tz$=[C$Tzc.MOUSE_DOWN,C$Tzc.MOUSE_ENTER,C$Tzc.MOUSE_MOVE,C$Tzc.MOUSE_LEAVE,C$Tzc.MOUSE_UP,C$Tzc.MOUSE_WHEEL],C$Tztt=!0,C$Tzet=null;function C$Tzit(C$Tzt,C$Tze){if(C$Tze){for(var C$Tzi,C$Tzn=0,C$Tzr=null,C$Tzs=C$Tzt;C$Tzs&&cc.Node.isNode(C$Tzs);C$Tzs=C$Tzs._parent,++C$Tzn)C$Tzs.getComponent(C$Tze)&&(C$Tzi={index:C$Tzn,node:C$Tzs},C$Tzr?C$Tzr.push(C$Tzi):C$Tzr=[C$Tzi]);return C$Tzr;}return null;}function C$Tznt(C$Tzt,C$Tze){if(C$Tzt._objFlags&C$TzM)return 1;var C$Tzi=0;if(C$Tzt._bubblingListeners)for(;C$Tzi<C$Tze.length;++C$Tzi)if(C$Tzt._bubblingListeners.hasEventListener(C$Tze[C$Tzi]))return 1;if(C$Tzt._capturingListeners)for(;C$Tzi<C$Tze.length;++C$Tzi)if(C$Tzt._capturingListeners.hasEventListener(C$Tze[C$Tzi]))return 1;}function C$Tzrt(C$Tzt){var C$Tze=C$Tzt.groupIndex;return C$Tze=0===C$Tze&&C$Tzt.parent?C$Tzrt(C$Tzt.parent):C$Tze;}function C$Tzst(C$Tzt){var C$Tze=C$Tzrt(C$Tzt);C$Tzt._cullingMask=1<<C$Tze;for(var C$Tzi=0;C$Tzi<C$Tzt._children.length;C$Tzi++)C$Tzst(C$Tzt._children[C$Tzi]);}function C$Tzot(){var C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo;this._localMatDirty&C$Tzh.TRSS&&(C$Tzt=(C$Tze=this._matrix).m,C$Tzp.Trs.toMat4(C$Tze,this._trs),(this._skewX||this._skewY)&&(C$Tze=C$Tzt[0],C$Tzi=C$Tzt[1],C$Tzn=C$Tzt[4],C$Tzr=C$Tzt[5],C$Tzs=Math.tan(this._skewX*C$TzI),C$Tzo=Math.tan(this._skewY*C$TzI),1/0===C$Tzs&&(C$Tzs=99999999),C$Tzt[0]=C$Tze+C$Tzn*(C$Tzo=1/0===C$Tzo?99999999:C$Tzo),C$Tzt[1]=C$Tzi+C$Tzr*C$Tzo,C$Tzt[4]=C$Tzn+C$Tze*C$Tzs,C$Tzt[5]=C$Tzr+C$Tzi*C$Tzs),this._localMatDirty&=~C$Tzh.TRSS,this._worldMatDirty=!0);}function C$Tzat(){var C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl=this._localMatDirty;C$Tzl&C$Tzh.TRSS&&(C$Tzt=this._matrix.m,C$Tze=this._trs,C$Tzl&(C$Tzh.RS|C$Tzh.SKEW)&&(C$Tzl=-this._eulerAngles.z,C$Tzc=this._skewX||this._skewY,C$Tzi=C$Tze[7],C$Tzn=C$Tze[8],C$Tzl||C$Tzc?(C$Tzo=C$Tzs=0,C$Tza=C$Tzr=1,C$Tzl&&(C$Tzl=C$Tzl*C$TzI,C$Tzo=Math.sin(C$Tzl),C$Tzr=C$Tza=Math.cos(C$Tzl),C$Tzs=-C$Tzo),C$Tzt[0]=C$Tzr*=C$Tzi,C$Tzt[1]=C$Tzs*=C$Tzi,C$Tzt[4]=C$Tzo*=C$Tzn,C$Tzt[5]=C$Tza*=C$Tzn,C$Tzc&&(C$Tzl=C$Tzt[0],C$Tzr=C$Tzt[1],C$Tzs=C$Tzt[4],C$Tzo=C$Tzt[5],C$Tza=Math.tan(this._skewX*C$TzI),C$Tzc=Math.tan(this._skewY*C$TzI),1/0===C$Tza&&(C$Tza=99999999),C$Tzt[0]=C$Tzl+C$Tzs*(C$Tzc=1/0===C$Tzc?99999999:C$Tzc),C$Tzt[1]=C$Tzr+C$Tzo*C$Tzc,C$Tzt[4]=C$Tzs+C$Tzl*C$Tza,C$Tzt[5]=C$Tzo+C$Tzr*C$Tza)):(C$Tzt[0]=C$Tzi,C$Tzt[1]=0,C$Tzt[4]=0,C$Tzt[5]=C$Tzn)),C$Tzt[12]=C$Tze[0],C$Tzt[13]=C$Tze[1],this._localMatDirty&=~C$Tzh.TRSS,this._worldMatDirty=!0);}function C$Tzct(){var C$Tzt;this._localMatDirty&C$Tzh.TRSS&&this._updateLocalMatrix(),this._parent?(C$Tzt=this._parent._worldMatrix,C$Tzp.Mat4.mul(this._worldMatrix,C$Tzt,this._matrix)):C$Tzp.Mat4.copy(this._worldMatrix,this._matrix),this._worldMatDirty=!1;}function C$Tzlt(){this._localMatDirty&C$Tzh.TRSS&&this._updateLocalMatrix();var C$Tzt=this._parent;C$Tzt?this._mulMat(this._worldMatrix,C$Tzt._worldMatrix,this._matrix):C$Tzp.Mat4.copy(this._worldMatrix,this._matrix),this._worldMatDirty=!1;}function C$Tzht(C$Tzt,C$Tze,C$Tzi){var C$Tze=C$Tze.m,C$Tzi=C$Tzi.m,C$Tzt=C$Tzt.m,C$Tzn=C$Tze[0],C$Tzr=C$Tze[1],C$Tzs=C$Tze[4],C$Tzo=C$Tze[5],C$Tzh=C$Tze[12],C$Tze=C$Tze[13],C$Tza=C$Tzi[0],C$Tzc=C$Tzi[1],C$Tzl=C$Tzi[4],C$Tzu=C$Tzi[5],C$Tz_=C$Tzi[12],C$Tzi=C$Tzi[13];0!==C$Tzr||0!==C$Tzs?(C$Tzt[0]=C$Tza*C$Tzn+C$Tzc*C$Tzs,C$Tzt[1]=C$Tza*C$Tzr+C$Tzc*C$Tzo,C$Tzt[4]=C$Tzl*C$Tzn+C$Tzu*C$Tzs,C$Tzt[5]=C$Tzl*C$Tzr+C$Tzu*C$Tzo,C$Tzt[12]=C$Tzn*C$Tz_+C$Tzs*C$Tzi+C$Tzh,C$Tzt[13]=C$Tzr*C$Tz_+C$Tzo*C$Tzi+C$Tze):(C$Tzt[0]=C$Tza*C$Tzn,C$Tzt[1]=C$Tzc*C$Tzo,C$Tzt[4]=C$Tzl*C$Tzn,C$Tzt[5]=C$Tzu*C$Tzo,C$Tzt[12]=C$Tzn*C$Tz_+C$Tzh,C$Tzt[13]=C$Tzo*C$Tzi+C$Tze);}var C$Tzut=C$Tzp.Mat4.mul,C$TzA={name:H[686],extends:C$TzA,properties:{_opacity:255,_color:cc.Color.WHITE,_contentSize:cc.Size,_anchorPoint:cc.v2(.5,.5),_position:void 0,_scale:void 0,_trs:null,_eulerAngles:cc.Vec3,_skewX:0,_skewY:0,_zIndex:{default:void 0,type:cc.Integer},_localZOrder:{default:0,serializable:!1},_is3DNode:!1,_groupIndex:{default:0,formerlySerializedAs:H[687]},groupIndex:{get:function(){return this._groupIndex;},set:function(C$Tzt){this._groupIndex=C$Tzt,C$Tzst(this),this.emit(C$Tzc.GROUP_CHANGED,this);}},group:{get:function(){return cc.game.groupList[this.groupIndex]||"";},set:function(C$Tzt){this.groupIndex=cc.game.groupList.indexOf(C$Tzt);}},x:{get:function(){return this._trs[0];},set:function(C$Tzt){var C$Tze=this._trs;C$Tzt!==C$Tze[0]&&(C$Tze[0]=C$Tzt,this.setLocalDirty(C$Tzh.ALL_POSITION),1&this._eventMask&&this.emit(C$Tzc.POSITION_CHANGED));}},y:{get:function(){return this._trs[1];},set:function(C$Tzt){var C$Tze=this._trs;C$Tzt!==C$Tze[1]&&(C$Tze[1]=C$Tzt,this.setLocalDirty(C$Tzh.ALL_POSITION),1&this._eventMask&&this.emit(C$Tzc.POSITION_CHANGED));}},z:{get:function(){return this._trs[2];},set:function(C$Tzt){var C$Tze=this._trs;C$Tzt!==C$Tze[2]&&(C$Tze[2]=C$Tzt,this.setLocalDirty(C$Tzh.ALL_POSITION),this._renderFlag|=C$Tzr.FLAG_WORLD_TRANSFORM,1&this._eventMask&&this.emit(C$Tzc.POSITION_CHANGED));}},rotation:{get:function(){return cc.warn(H[688]),-this.angle;},set:function(C$Tzt){cc.warn(H[689]),this.angle=-C$Tzt;}},angle:{get:function(){return this._eulerAngles.z;},set:function(C$Tzt){C$Tzp.Vec3.set(this._eulerAngles,0,0,C$Tzt),C$Tzp.Trs.fromAngleZ(this._trs,C$Tzt),this.setLocalDirty(C$Tzh.ALL_ROTATION),4&this._eventMask&&this.emit(C$Tzc.ROTATION_CHANGED);}},rotationX:{get:function(){return cc.warn(H[690]),this._eulerAngles.x;},set:function(C$Tzt){cc.warn(H[691]),this._eulerAngles.x!==C$Tzt&&(this._eulerAngles.x=C$Tzt,this._eulerAngles.x===this._eulerAngles.y?C$Tzp.Trs.fromAngleZ(this._trs,-C$Tzt):C$Tzp.Trs.fromEulerNumber(this._trs,C$Tzt,this._eulerAngles.y,0),this.setLocalDirty(C$Tzh.ALL_ROTATION),4&this._eventMask&&this.emit(C$Tzc.ROTATION_CHANGED));}},rotationY:{get:function(){return cc.warn(H[692]),this._eulerAngles.y;},set:function(C$Tzt){cc.warn(H[693]),this._eulerAngles.y!==C$Tzt&&(this._eulerAngles.y=C$Tzt,this._eulerAngles.x===this._eulerAngles.y?C$Tzp.Trs.fromAngleZ(this._trs,-C$Tzt):C$Tzp.Trs.fromEulerNumber(this._trs,this._eulerAngles.x,C$Tzt,0),this.setLocalDirty(C$Tzh.ALL_ROTATION),4&this._eventMask&&this.emit(C$Tzc.ROTATION_CHANGED));}},eulerAngles:{get:function(){return C$Tzp.Trs.toEuler(this._eulerAngles,this._trs);},set:function(C$Tzt){C$Tzp.Trs.fromEuler(this._trs,C$Tzt),this.setLocalDirty(C$Tzh.ALL_ROTATION),this._renderFlag|=C$Tzr.FLAG_TRANSFORM,4&this._eventMask&&this.emit(C$Tzc.ROTATION_CHANGED);}},quat:{get:function(){var C$Tzt=this._trs;return new C$Tzp.Quat(C$Tzt[3],C$Tzt[4],C$Tzt[5],C$Tzt[6]);},set:function(C$Tzt){this.setRotation(C$Tzt);}},scale:{get:function(){return this._trs[7];},set:function(C$Tzt){this.setScale(C$Tzt);}},scaleX:{get:function(){return this._trs[7];},set:function(C$Tzt){this._trs[7]!==C$Tzt&&(this._trs[7]=C$Tzt,this.setLocalDirty(C$Tzh.ALL_SCALE),2&this._eventMask&&this.emit(C$Tzc.SCALE_CHANGED));}},scaleY:{get:function(){return this._trs[8];},set:function(C$Tzt){this._trs[8]!==C$Tzt&&(this._trs[8]=C$Tzt,this.setLocalDirty(C$Tzh.ALL_SCALE),2&this._eventMask&&this.emit(C$Tzc.SCALE_CHANGED));}},scaleZ:{get:function(){return this._trs[9];},set:function(C$Tzt){this._trs[9]!==C$Tzt&&(this._trs[9]=C$Tzt,this.setLocalDirty(C$Tzh.ALL_SCALE),this._renderFlag|=C$Tzr.FLAG_TRANSFORM,2&this._eventMask&&this.emit(C$Tzc.SCALE_CHANGED));}},skewX:{get:function(){return this._skewX;},set:function(C$Tzt){C$Tzu(C$Tzt),this._skewX=C$Tzt,this.setLocalDirty(C$Tzh.SKEW);}},skewY:{get:function(){return this._skewY;},set:function(C$Tzt){C$Tzu(C$Tzt),this._skewY=C$Tzt,this.setLocalDirty(C$Tzh.SKEW);}},opacity:{get:function(){return this._opacity;},set:function(C$Tzt){C$Tzt=cc.misc.clampf(C$Tzt,0,255),this._opacity!==C$Tzt&&(this._opacity=C$Tzt,this._renderFlag|=C$Tzr.FLAG_OPACITY_COLOR);},range:[0,255]},color:{get:function(){return this._color.clone();},set:function(C$Tzt){this._color.equals(C$Tzt)||(this._color.set(C$Tzt),this._renderFlag|=C$Tzr.FLAG_COLOR,32&this._eventMask&&this.emit(C$Tzc.COLOR_CHANGED,C$Tzt));}},anchorX:{get:function(){return this._anchorPoint.x;},set:function(C$Tzt){var C$Tze=this._anchorPoint;C$Tze.x!==C$Tzt&&(C$Tze.x=C$Tzt,16&this._eventMask&&this.emit(C$Tzc.ANCHOR_CHANGED));}},anchorY:{get:function(){return this._anchorPoint.y;},set:function(C$Tzt){var C$Tze=this._anchorPoint;C$Tze.y!==C$Tzt&&(C$Tze.y=C$Tzt,16&this._eventMask&&this.emit(C$Tzc.ANCHOR_CHANGED));}},width:{get:function(){return this._contentSize.width;},set:function(C$Tzt){C$Tzt!==this._contentSize.width&&(this._contentSize.width=C$Tzt,8&this._eventMask&&this.emit(C$Tzc.SIZE_CHANGED));}},height:{get:function(){return this._contentSize.height;},set:function(C$Tzt){C$Tzt!==this._contentSize.height&&(this._contentSize.height=C$Tzt,8&this._eventMask&&this.emit(C$Tzc.SIZE_CHANGED));}},zIndex:{get:function(){return this._localZOrder>>16;},set:function(C$Tzt){C$Tzt>C$TzT.MAX_ZINDEX?(cc.warnID(1636),C$Tzt=C$TzT.MAX_ZINDEX):C$Tzt<C$TzT.MIN_ZINDEX&&(cc.warnID(1637),C$Tzt=C$TzT.MIN_ZINDEX),this.zIndex!==C$Tzt&&(this._localZOrder=65535&this._localZOrder|C$Tzt<<16,this.emit(C$Tzc.SIBLING_ORDER_CHANGED),this._onSiblingIndexChanged());}},is3DNode:{get:function(){return this._is3DNode;},set:function(C$Tzt){this._is3DNode=C$Tzt,this._update3DFunction();}},up:{get:function(){return C$Tzp.Vec3.transformQuat(C$Tzj,C$Tzp.Vec3.UP,this.getWorldRotation(C$TzX)).clone();}},right:{get:function(){return C$Tzp.Vec3.transformQuat(C$Tzj,C$Tzp.Vec3.RIGHT,this.getWorldRotation(C$TzX)).clone();}},forward:{get:function(){return C$Tzp.Vec3.transformQuat(C$Tzj,C$Tzp.Vec3.FORWARD,this.getWorldRotation(C$TzX)).clone();}}},ctor:function(){this._reorderChildDirty=!1,this._widget=null,this._renderComponent=null,this._capturingListeners=null,this._bubblingListeners=null,this._touchListener=null,this._mouseListener=null,this._initDataFromPool(),this._eventMask=0,this._cullingMask=1,this._childArrivalOrder=1,this._renderFlag=C$Tzr.FLAG_TRANSFORM|C$Tzr.FLAG_OPACITY_COLOR;},statics:{EventType:C$Tzc,_LocalDirtyFlag:C$Tzh,isNode:function(C$Tzt){return C$Tzt instanceof C$Tz_t&&(C$Tzt.constructor===C$Tz_t||!(C$Tzt instanceof cc.Scene));},BuiltinGroupIndex:C$Tzt},_onSiblingIndexChanged:function(){this._parent&&this._parent._delaySort();},_onPreDestroy:function(){this._onPreDestroyBase();C$Tzs&&cc.director.getActionManager().removeAllActionsFromTarget(this),C$Tzet===this&&(C$Tzet=null),(this._touchListener||this._mouseListener)&&(C$Tza.removeListeners(this),this._touchListener&&(this._touchListener.owner=null,this._touchListener.mask=null,this._touchListener=null),this._mouseListener&&(this._mouseListener.owner=null,this._mouseListener.mask=null,this._mouseListener=null)),this._backDataIntoPool(),this._reorderChildDirty&&cc.director.__fastOff(cc.Director.EVENT_AFTER_UPDATE,this.sortAllChildren,this);},_onPostActivated:function(C$Tzt){var C$Tze=C$Tzs?cc.director.getActionManager():null;C$Tzt?(this._renderFlag|=C$Tzr.FLAG_WORLD_TRANSFORM,C$Tze&&C$Tze.resumeTarget(this),C$Tza.resumeTarget(this),this._checkListenerMask()):(C$Tze&&C$Tze.pauseTarget(this),C$Tza.pauseTarget(this));},_onHierarchyChanged:function(C$Tzt){this._updateOrderOfArrival(),C$Tzst(this),this._parent&&this._parent._delaySort(),this._renderFlag|=C$Tzr.FLAG_WORLD_TRANSFORM,this._onHierarchyChangedBase(C$Tzt),cc._widgetManager&&(cc._widgetManager._nodesOrderDirty=!0),C$Tzt&&this._activeInHierarchy&&this._checkListenerMask();},_update3DFunction:function(){this._is3DNode?(this._updateLocalMatrix=C$Tzot,this._calculWorldMatrix=C$Tzct,this._mulMat=C$Tzut):(this._updateLocalMatrix=C$Tzat,this._calculWorldMatrix=C$Tzlt,this._mulMat=C$Tzht),this._renderComponent&&this._renderComponent._on3DNodeChanged&&this._renderComponent._on3DNodeChanged(),this._renderFlag|=C$Tzr.FLAG_TRANSFORM,this._localMatDirty=C$Tzh.ALL;},_initDataFromPool:function(){this._spaceInfo||(this._spaceInfo=C$TzS.pop());var C$Tzt=this._spaceInfo,C$Tzt=(this._matrix=cc.mat4(C$Tzt.localMat),C$Tzp.Mat4.identity(this._matrix),this._worldMatrix=cc.mat4(C$Tzt.worldMat),C$Tzp.Mat4.identity(this._worldMatrix),this._localMatDirty=C$Tzh.ALL,this._worldMatDirty=!0,this._trs=this._spaceInfo.trs);C$Tzt[0]=0,C$Tzt[1]=0,C$Tzt[2]=0,C$Tzt[3]=0,C$Tzt[4]=0,C$Tzt[5]=0,C$Tzt[6]=1,C$Tzt[7]=1,C$Tzt[8]=1,C$Tzt[9]=1;},_backDataIntoPool:function(){C$TzS.push(this._spaceInfo),this._matrix=null,this._worldMatrix=null,this._trs=null,this._spaceInfo=null;},_toEuler:function(){var C$Tzt;this.is3DNode?C$Tzp.Trs.toEuler(this._eulerAngles,this._trs):(C$Tzt=Math.asin(this._trs[5])/C$TzI*2,C$Tzp.Vec3.set(this._eulerAngles,0,0,C$Tzt));},_fromEuler:function(){this.is3DNode?C$Tzp.Trs.fromEuler(this._trs,this._eulerAngles):C$Tzp.Trs.fromAngleZ(this._trs,this._eulerAngles.z);},_upgrade_1x_to_2x:function(){this._is3DNode&&this._update3DFunction();var C$Tzt,C$Tze=this._trs;C$Tze?(C$Tzt=C$Tze,C$Tze=this._trs=this._spaceInfo.trs,11===C$Tzt.length?C$Tze.set(C$Tzt.subarray(1)):C$Tze.set(C$Tzt)):C$Tze=this._trs=this._spaceInfo.trs,void 0!==this._zIndex&&(this._localZOrder=this._zIndex<<16,this._zIndex=void 0),this._fromEuler(),0!==this._localZOrder&&(this._zIndex=(4294901760&this._localZOrder)>>16),this._color.a<255&&255===this._opacity&&(this._opacity=this._color.a,this._color.a=255);},_onBatchCreated:function(){for(var C$Tzt=this._prefab,C$Tze=(C$Tzt&&C$Tzt.sync&&C$Tzt.root===this&&C$TzC.syncWithPrefab(this),this._upgrade_1x_to_2x(),this._updateOrderOfArrival(),this._cullingMask=1<<C$Tzrt(this),this._activeInHierarchy||(C$Tzs&&cc.director.getActionManager().pauseTarget(this),C$Tza.pauseTarget(this)),this._children),C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++)C$Tze[C$Tzi]._onBatchCreated();0<C$Tze.length&&(this._renderFlag|=C$Tzr.FLAG_CHILDREN);},_onBatchRestored:function(){this._upgrade_1x_to_2x(),this._cullingMask=1<<C$Tzrt(this),this._activeInHierarchy||((C$Tzt=cc.director.getActionManager())&&C$Tzt.pauseTarget(this),C$Tza.pauseTarget(this));for(var C$Tzt,C$Tze=this._children,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++)C$Tze[C$Tzi]._onBatchRestored();0<C$Tze.length&&(this._renderFlag|=C$Tzr.FLAG_CHILDREN);},_checkListenerMask:function(){var C$Tzt;this._touchListener?(C$Tzt=this._touchListener.mask=C$Tzit(this,cc.Mask),this._mouseListener&&(this._mouseListener.mask=C$Tzt)):this._mouseListener&&(this._mouseListener.mask=C$Tzit(this,cc.Mask));},_checknSetupSysEvent:function(C$Tzt){var C$Tze=!1,C$Tzi=!1;return-1!==C$TzQ.indexOf(C$Tzt)?(this._touchListener||(this._touchListener=cc.EventListener.create({event:cc.EventListener.TOUCH_ONE_BY_ONE,swallowTouches:!0,owner:this,mask:C$Tzit(this,cc.Mask),onTouchBegan:C$Tz_,onTouchMoved:C$Tzd,onTouchEnded:C$Tzf,onTouchCancelled:C$Tzy}),C$Tza.addListener(this._touchListener,this),C$Tze=!0),C$Tzi=!0):-1!==C$Tz$.indexOf(C$Tzt)&&(this._mouseListener||(this._mouseListener=cc.EventListener.create({event:cc.EventListener.MOUSE,_previousIn:!1,owner:this,mask:C$Tzit(this,cc.Mask),onMouseDown:C$Tzg,onMouseMove:C$Tzv,onMouseUp:C$Tzx,onMouseScroll:C$Tzb}),C$Tza.addListener(this._mouseListener,this),C$Tze=!0),C$Tzi=!0),C$Tze&&!this._activeInHierarchy&&cc.director.getScheduler().schedule(function(){this._activeInHierarchy||C$Tza.pauseTarget(this);},this,0,0,0,!1),C$Tzi;},on:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){if(this._checknSetupSysEvent(C$Tzt))return this._onDispatch(C$Tzt,C$Tze,C$Tzi,C$Tzn);switch(C$Tzt){case C$Tzc.POSITION_CHANGED:this._eventMask|=1;break;case C$Tzc.SCALE_CHANGED:this._eventMask|=2;break;case C$Tzc.ROTATION_CHANGED:this._eventMask|=4;break;case C$Tzc.SIZE_CHANGED:this._eventMask|=8;break;case C$Tzc.ANCHOR_CHANGED:this._eventMask|=16;break;case C$Tzc.COLOR_CHANGED:this._eventMask|=32;}return this._bubblingListeners||(this._bubblingListeners=new C$TzE()),this._bubblingListeners.on(C$Tzt,C$Tze,C$Tzi);},once:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){(this._checknSetupSysEvent(C$Tzt)&&C$Tzn?this._capturingListeners=this._capturingListeners||new C$TzE():this._bubblingListeners=this._bubblingListeners||new C$TzE()).once(C$Tzt,C$Tze,C$Tzi);},_onDispatch:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr;{if(H[635]==typeof C$Tzi?(C$Tzn=C$Tzi,C$Tzi=void 0):C$Tzn=!!C$Tzn,C$Tze)return C$Tzr=null,(C$Tzr=C$Tzn?this._capturingListeners=this._capturingListeners||new C$TzE():this._bubblingListeners=this._bubblingListeners||new C$TzE()).hasEventListener(C$Tzt,C$Tze,C$Tzi)||(C$Tzr.on(C$Tzt,C$Tze,C$Tzi),C$Tzi&&C$Tzi.__eventTargets&&C$Tzi.__eventTargets.push(this)),C$Tze;cc.errorID(6800);}},off:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=-1!==C$TzQ.indexOf(C$Tzt),C$Tzs=!C$Tzr&&-1!==C$Tz$.indexOf(C$Tzt);if(C$Tzr||C$Tzs)this._offDispatch(C$Tzt,C$Tze,C$Tzi,C$Tzn),C$Tzr?this._touchListener&&!C$Tznt(this,C$TzQ)&&(C$Tza.removeListener(this._touchListener),this._touchListener=null):C$Tzs&&this._mouseListener&&!C$Tznt(this,C$Tz$)&&(C$Tza.removeListener(this._mouseListener),this._mouseListener=null);else if(this._bubblingListeners)if(this._bubblingListeners.off(C$Tzt,C$Tze,C$Tzi),!this._bubblingListeners.hasEventListener(C$Tzt))switch(C$Tzt){case C$Tzc.POSITION_CHANGED:this._eventMask&=-2;break;case C$Tzc.SCALE_CHANGED:this._eventMask&=-3;break;case C$Tzc.ROTATION_CHANGED:this._eventMask&=-5;break;case C$Tzc.SIZE_CHANGED:this._eventMask&=-9;break;case C$Tzc.ANCHOR_CHANGED:this._eventMask&=-17;break;case C$Tzc.COLOR_CHANGED:this._eventMask&=-33;}},_offDispatch:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){H[635]==typeof C$Tzi?(C$Tzn=C$Tzi,C$Tzi=void 0):C$Tzn=!!C$Tzn,C$Tze?(C$Tzn=C$Tzn?this._capturingListeners:this._bubblingListeners)&&(C$Tzn.off(C$Tzt,C$Tze,C$Tzi),C$Tzi&&C$Tzi.__eventTargets&&C$Tzw.array.fastRemove(C$Tzi.__eventTargets,this)):(this._capturingListeners&&this._capturingListeners.removeAll(C$Tzt),this._bubblingListeners&&this._bubblingListeners.removeAll(C$Tzt));},targetOff:function(C$Tzt){var C$Tze=this._bubblingListeners;C$Tze&&(C$Tze.targetOff(C$Tzt),1&this._eventMask&&!C$Tze.hasEventListener(C$Tzc.POSITION_CHANGED)&&(this._eventMask&=-2),2&this._eventMask&&!C$Tze.hasEventListener(C$Tzc.SCALE_CHANGED)&&(this._eventMask&=-3),4&this._eventMask&&!C$Tze.hasEventListener(C$Tzc.ROTATION_CHANGED)&&(this._eventMask&=-5),8&this._eventMask&&!C$Tze.hasEventListener(C$Tzc.SIZE_CHANGED)&&(this._eventMask&=-9),16&this._eventMask&&!C$Tze.hasEventListener(C$Tzc.ANCHOR_CHANGED)&&(this._eventMask&=-17),32&this._eventMask&&!C$Tze.hasEventListener(C$Tzc.COLOR_CHANGED)&&(this._eventMask&=-33)),this._capturingListeners&&this._capturingListeners.targetOff(C$Tzt),C$Tzt&&C$Tzt.__eventTargets&&C$Tzw.array.fastRemove(C$Tzt.__eventTargets,this),this._touchListener&&!C$Tznt(this,C$TzQ)&&(C$Tza.removeListener(this._touchListener),this._touchListener=null),this._mouseListener&&!C$Tznt(this,C$Tz$)&&(C$Tza.removeListener(this._mouseListener),this._mouseListener=null);},hasEventListener:function(C$Tzt){var C$Tze=!1;return C$Tze=!(C$Tze=this._bubblingListeners?this._bubblingListeners.hasEventListener(C$Tzt):C$Tze)&&this._capturingListeners?this._capturingListeners.hasEventListener(C$Tzt):C$Tze;},emit:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){this._bubblingListeners&&this._bubblingListeners.emit(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs);},dispatchEvent:function(C$Tzt){!function(C$Tzt,C$Tze){var C$Tzi,C$Tzn;for(C$Tze.target=C$Tzt,C$Tzo.length=0,C$Tzt._getCapturingTargets(C$Tze.type,C$Tzo),C$Tze.eventPhase=1,C$Tzn=C$Tzo.length-1;0<=C$Tzn;--C$Tzn)if((C$Tzi=C$Tzo[C$Tzn])._capturingListeners&&((C$Tze.currentTarget=C$Tzi)._capturingListeners.emit(C$Tze.type,C$Tze,C$Tzo),C$Tze._propagationStopped))return C$Tzo.length=0;if(C$Tzo.length=0,C$Tze.eventPhase=2,(C$Tze.currentTarget=C$Tzt)._capturingListeners&&C$Tzt._capturingListeners.emit(C$Tze.type,C$Tze),!C$Tze._propagationImmediateStopped&&C$Tzt._bubblingListeners&&C$Tzt._bubblingListeners.emit(C$Tze.type,C$Tze),!C$Tze._propagationStopped&&C$Tze.bubbles)for(C$Tzt._getBubblingTargets(C$Tze.type,C$Tzo),C$Tze.eventPhase=3,C$Tzn=0;C$Tzn<C$Tzo.length;++C$Tzn)if((C$Tzi=C$Tzo[C$Tzn])._bubblingListeners&&((C$Tze.currentTarget=C$Tzi)._bubblingListeners.emit(C$Tze.type,C$Tze),C$Tze._propagationStopped))return C$Tzo.length=0;C$Tzo.length=0;}(this,C$Tzt),C$Tzo.length=0;},pauseSystemEvents:function(C$Tzt){C$Tza.pauseTarget(this,C$Tzt);},resumeSystemEvents:function(C$Tzt){C$Tza.resumeTarget(this,C$Tzt);},_hitTest:function(C$Tzh,C$Tzt){var C$Tzu=this._contentSize.width,C$Tz_=this._contentSize.height,C$Tze=C$TzY,C$Tzi=C$Tzq,C$Tzd=cc.Camera.findCamera(this);if(C$Tzd?C$Tzd.getScreenToWorldPoint(C$Tzh,C$Tze):C$Tze.set(C$Tzh),this._updateWorldMatrix(),!C$Tzp.Mat4.invert(C$Tzm,this._worldMatrix))return!1;C$Tzp.Vec2.transformMat4(C$Tzi,C$Tze,C$Tzm),C$Tzi.x+=this._anchorPoint.x*C$Tzu,C$Tzi.y+=this._anchorPoint.y*C$Tz_;var C$Tzn=!1;if(0<=C$Tzi.x&&0<=C$Tzi.y&&C$Tzi.x<=C$Tzu&&C$Tzi.y<=C$Tz_&&(C$Tzn=!0,C$Tzt&&C$Tzt.mask))for(var C$Tzr=C$Tzt.mask,C$Tzs=this,C$Tzf=C$Tzr?C$Tzr.length:0,C$Tzo=0,C$Tza=0;C$Tzs&&C$Tza<C$Tzf;++C$Tzo,C$Tzs=C$Tzs.parent){var C$Tzc=C$Tzr[C$Tza];if(C$Tzo===C$Tzc.index){if(C$Tzs!==C$Tzc.node){C$Tzr.length=C$Tza;break;}var C$Tzl=C$Tzs.getComponent(cc.Mask);if(C$Tzl&&C$Tzl._enabled&&!C$Tzl._hitTest(C$Tze)){C$Tzn=!1;break;}C$Tza++;}else if(C$Tzo>C$Tzc.index){C$Tzr.length=C$Tza;break;}}return C$Tzn;},_getCapturingTargets:function(C$Tzt,C$Tze){for(var C$Tzi=this.parent;C$Tzi;)C$Tzi._capturingListeners&&C$Tzi._capturingListeners.hasEventListener(C$Tzt)&&C$Tze.push(C$Tzi),C$Tzi=C$Tzi.parent;},_getBubblingTargets:function(C$Tzt,C$Tze){for(var C$Tzi=this.parent;C$Tzi;)C$Tzi._bubblingListeners&&C$Tzi._bubblingListeners.hasEventListener(C$Tzt)&&C$Tze.push(C$Tzi),C$Tzi=C$Tzi.parent;},runAction:C$Tzs?function(C$Tzt){var C$Tze;if(this.active)return cc.assertID(C$Tzt,1618),C$Tze=cc.director.getActionManager(),C$Tze._suppressDeprecation||(C$Tze._suppressDeprecation=!0,cc.warnID(1639)),C$Tze.addAction(C$Tzt,this,!1),C$Tzt;}:C$Tzl,pauseAllActions:C$Tzs?function(){cc.director.getActionManager().pauseTarget(this);}:C$Tzl,resumeAllActions:C$Tzs?function(){cc.director.getActionManager().resumeTarget(this);}:C$Tzl,stopAllActions:C$Tzs?function(){cc.director.getActionManager().removeAllActionsFromTarget(this);}:C$Tzl,stopAction:C$Tzs?function(C$Tzt){cc.director.getActionManager().removeAction(C$Tzt);}:C$Tzl,stopActionByTag:C$Tzs?function(C$Tzt){C$Tzt!==cc.Action.TAG_INVALID?cc.director.getActionManager().removeActionByTag(C$Tzt,this):cc.logID(1612);}:C$Tzl,getActionByTag:C$Tzs?function(C$Tzt){return C$Tzt===cc.Action.TAG_INVALID?(cc.logID(1613),null):cc.director.getActionManager().getActionByTag(C$Tzt,this);}:function(){return null;},getNumberOfRunningActions:C$Tzs?function(){return cc.director.getActionManager().getNumberOfRunningActionsInTarget(this);}:function(){return 0;},getPosition:function(C$Tzt){return C$Tzt=C$Tzt||new C$Tzp.Vec3(),C$Tzp.Trs.toPosition(C$Tzt,this._trs);},setPosition:function(C$Tzt,C$Tze,C$Tzi){C$Tzi=void 0===C$Tze?(C$Tzn=C$Tzt.x,C$Tze=C$Tzt.y,C$Tzt.z||0):(C$Tzn=C$Tzt,C$Tzi||0);var C$Tzn,C$Tzt=this._trs;C$Tzt[0]===C$Tzn&&C$Tzt[1]===C$Tze&&C$Tzt[2]===C$Tzi||(C$Tzt[0]=C$Tzn,C$Tzt[1]=C$Tze,C$Tzt[2]=C$Tzi,this.setLocalDirty(C$Tzh.ALL_POSITION),this._renderFlag|=C$Tzr.FLAG_WORLD_TRANSFORM,1&this._eventMask&&this.emit(C$Tzc.POSITION_CHANGED));},getScale:function(C$Tzt){return void 0!==C$Tzt?C$Tzp.Trs.toScale(C$Tzt,this._trs):(cc.errorID(1400,H[694],H[695]),this._trs[7]);},setScale:function(C$Tzt,C$Tze,C$Tzi){C$Tzt&&H[463]!=typeof C$Tzt?(C$Tze=C$Tzt.y,C$Tzi=void 0===C$Tzt.z?1:C$Tzt.z,C$Tzt=C$Tzt.x):void 0!==C$Tzt&&void 0===C$Tze?C$Tzi=C$Tze=C$Tzt:void 0===C$Tzi&&(C$Tzi=1);var C$Tzn=this._trs;C$Tzn[7]===C$Tzt&&C$Tzn[8]===C$Tze&&C$Tzn[9]===C$Tzi||(C$Tzn[7]=C$Tzt,C$Tzn[8]=C$Tze,C$Tzn[9]=C$Tzi,this.setLocalDirty(C$Tzh.ALL_SCALE),this._renderFlag|=C$Tzr.FLAG_TRANSFORM,2&this._eventMask&&this.emit(C$Tzc.SCALE_CHANGED));},getRotation:function(C$Tzt){return C$Tzt instanceof C$Tzp.Quat?C$Tzp.Trs.toRotation(C$Tzt,this._trs):(cc.warn(H[696]),-this.angle);},setRotation:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr;H[463]==typeof C$Tzt&&void 0===C$Tze?(cc.warn(H[697]),this.angle=-C$Tzt):(C$Tzr=C$Tzt,void 0===C$Tze&&(C$Tzr=C$Tzt.x,C$Tze=C$Tzt.y,C$Tzi=C$Tzt.z,C$Tzn=C$Tzt.w),(C$Tzt=this._trs)[3]===C$Tzr&&C$Tzt[4]===C$Tze&&C$Tzt[5]===C$Tzi&&C$Tzt[6]===C$Tzn||(C$Tzt[3]=C$Tzr,C$Tzt[4]=C$Tze,C$Tzt[5]=C$Tzi,C$Tzt[6]=C$Tzn,this.setLocalDirty(C$Tzh.ALL_ROTATION),4&this._eventMask&&this.emit(C$Tzc.ROTATION_CHANGED)));},getContentSize:function(){return cc.size(this._contentSize.width,this._contentSize.height);},setContentSize:function(C$Tzt,C$Tze){var C$Tzi=this._contentSize;if(void 0===C$Tze){if(C$Tzt.width===C$Tzi.width&&C$Tzt.height===C$Tzi.height)return;C$Tzi.width=C$Tzt.width,C$Tzi.height=C$Tzt.height;}else{if(C$Tzt===C$Tzi.width&&C$Tze===C$Tzi.height)return;C$Tzi.width=C$Tzt,C$Tzi.height=C$Tze;}8&this._eventMask&&this.emit(C$Tzc.SIZE_CHANGED);},getAnchorPoint:function(){return cc.v2(this._anchorPoint);},setAnchorPoint:function(C$Tzt,C$Tze){var C$Tzi=this._anchorPoint;if(void 0===C$Tze){if(C$Tzt.x===C$Tzi.x&&C$Tzt.y===C$Tzi.y)return;C$Tzi.x=C$Tzt.x,C$Tzi.y=C$Tzt.y;}else{if(C$Tzt===C$Tzi.x&&C$Tze===C$Tzi.y)return;C$Tzi.x=C$Tzt,C$Tzi.y=C$Tze;}this.setLocalDirty(C$Tzh.ALL_POSITION),16&this._eventMask&&this.emit(C$Tzc.ANCHOR_CHANGED);},_invTransformPoint:function(C$Tzt,C$Tze){this._parent?this._parent._invTransformPoint(C$Tzt,C$Tze):C$Tzp.Vec3.copy(C$Tzt,C$Tze);C$Tze=this._trs;return C$Tzp.Trs.toPosition(C$TzP,C$Tze),C$Tzp.Vec3.sub(C$Tzt,C$Tzt,C$TzP),C$Tzp.Trs.toRotation(C$TzL,C$Tze),C$Tzp.Quat.conjugate(C$TzV,C$TzL),C$Tzp.Vec3.transformQuat(C$Tzt,C$Tzt,C$TzV),C$Tzp.Trs.toScale(C$TzP,C$Tze),C$Tzp.Vec3.inverseSafe(C$TzD,C$TzP),C$Tzp.Vec3.mul(C$Tzt,C$Tzt,C$TzD),C$Tzt;},getWorldPosition:function(C$Tzt){C$Tzp.Trs.toPosition(C$Tzt,this._trs);for(var C$Tze,C$Tzi=this._parent;C$Tzi;)C$Tze=C$Tzi._trs,C$Tzp.Trs.toScale(C$TzB,C$Tze),C$Tzp.Vec3.mul(C$Tzt,C$Tzt,C$TzB),C$Tzp.Trs.toRotation(C$TzR,C$Tze),C$Tzp.Vec3.transformQuat(C$Tzt,C$Tzt,C$TzR),C$Tzp.Trs.toPosition(C$TzB,C$Tze),C$Tzp.Vec3.add(C$Tzt,C$Tzt,C$TzB),C$Tzi=C$Tzi._parent;return C$Tzt;},setWorldPosition:function(C$Tzt){var C$Tze=this._trs;this._parent?this._parent._invTransformPoint(C$TzO,C$Tzt):C$Tzp.Vec3.copy(C$TzO,C$Tzt),C$Tzp.Trs.fromPosition(C$Tze,C$TzO),this.setLocalDirty(C$Tzh.ALL_POSITION),1&this._eventMask&&this.emit(C$Tzc.POSITION_CHANGED);},getWorldRotation:function(C$Tzt){C$Tzp.Trs.toRotation(C$TzJ,this._trs),C$Tzp.Quat.copy(C$Tzt,C$TzJ);for(var C$Tze=this._parent;C$Tze;)C$Tzp.Trs.toRotation(C$TzJ,C$Tze._trs),C$Tzp.Quat.mul(C$Tzt,C$TzJ,C$Tzt),C$Tze=C$Tze._parent;return C$Tzt;},setWorldRotation:function(C$Tzt){this._parent?(this._parent.getWorldRotation(C$TzZ),C$Tzp.Quat.conjugate(C$TzZ,C$TzZ),C$Tzp.Quat.mul(C$TzZ,C$TzZ,C$Tzt)):C$Tzp.Quat.copy(C$TzZ,C$Tzt),C$Tzp.Trs.fromRotation(this._trs,C$TzZ),this.setLocalDirty(C$Tzh.ALL_ROTATION);},getWorldScale:function(C$Tzt){C$Tzp.Trs.toScale(C$TzF,this._trs),C$Tzp.Vec3.copy(C$Tzt,C$TzF);for(var C$Tze=this._parent;C$Tze;)C$Tzp.Trs.toScale(C$TzF,C$Tze._trs),C$Tzp.Vec3.mul(C$Tzt,C$Tzt,C$TzF),C$Tze=C$Tze._parent;return C$Tzt;},setWorldScale:function(C$Tzt){this._parent?(this._parent.getWorldScale(C$TzN),C$Tzp.Vec3.div(C$TzN,C$Tzt,C$TzN)):C$Tzp.Vec3.copy(C$TzN,C$Tzt),C$Tzp.Trs.fromScale(this._trs,C$TzN),this.setLocalDirty(C$Tzh.ALL_SCALE);},getWorldRT:function(C$Tzt){for(var C$Tze=C$Tzk,C$Tzi=C$Tzz,C$Tzn=this._trs,C$Tzr=(C$Tzp.Trs.toPosition(C$Tze,C$Tzn),C$Tzp.Trs.toRotation(C$Tzi,C$Tzn),this._parent);C$Tzr;)C$Tzn=C$Tzr._trs,C$Tzp.Trs.toScale(C$TzG,C$Tzn),C$Tzp.Vec3.mul(C$Tze,C$Tze,C$TzG),C$Tzp.Trs.toRotation(C$TzU,C$Tzn),C$Tzp.Vec3.transformQuat(C$Tze,C$Tze,C$TzU),C$Tzp.Trs.toPosition(C$TzG,C$Tzn),C$Tzp.Vec3.add(C$Tze,C$Tze,C$TzG),C$Tzp.Quat.mul(C$Tzi,C$TzU,C$Tzi),C$Tzr=C$Tzr._parent;return C$Tzp.Mat4.fromRT(C$Tzt,C$Tzi,C$Tze),C$Tzt;},lookAt:function(C$Tzt,C$Tze){this.getWorldPosition(C$TzW),C$Tzp.Vec3.sub(C$TzW,C$TzW,C$Tzt),C$Tzp.Vec3.normalize(C$TzW,C$TzW),C$Tzp.Quat.fromViewUp(C$TzH,C$TzW,C$Tze),this.setWorldRotation(C$TzH);},_updateLocalMatrix:C$Tzat,_calculWorldMatrix:function(){this._localMatDirty&C$Tzh.TRSS&&this._updateLocalMatrix();var C$Tzt=this._parent;C$Tzt?this._mulMat(this._worldMatrix,C$Tzt._worldMatrix,this._matrix):C$Tzp.Mat4.copy(this._worldMatrix,this._matrix),this._worldMatDirty=!1;},_mulMat:C$Tzht,_updateWorldMatrix:function(){if(this._parent&&this._parent._updateWorldMatrix(),this._worldMatDirty){this._calculWorldMatrix();for(var C$Tzt=this._children,C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++)C$Tzt[C$Tze]._worldMatDirty=!0;}},setLocalDirty:function(C$Tzt){this._localMatDirty|=C$Tzt,this._worldMatDirty=!0,C$Tzt===C$Tzh.ALL_POSITION||C$Tzt===C$Tzh.POSITION?this._renderFlag|=C$Tzr.FLAG_WORLD_TRANSFORM:this._renderFlag|=C$Tzr.FLAG_TRANSFORM;},setWorldDirty:function(){this._worldMatDirty=!0;},getLocalMatrix:function(C$Tzt){return this._updateLocalMatrix(),C$Tzp.Mat4.copy(C$Tzt,this._matrix);},getWorldMatrix:function(C$Tzt){return this._updateWorldMatrix(),C$Tzp.Mat4.copy(C$Tzt,this._worldMatrix);},convertToNodeSpaceAR:function(C$Tzt,C$Tze){return this._updateWorldMatrix(),C$Tzp.Mat4.invert(C$Tzm,this._worldMatrix),C$Tzt instanceof cc.Vec2?(C$Tze=C$Tze||new cc.Vec2(),C$Tzp.Vec2.transformMat4(C$Tze,C$Tzt,C$Tzm)):(C$Tze=C$Tze||new cc.Vec3(),C$Tzp.Vec3.transformMat4(C$Tze,C$Tzt,C$Tzm));},convertToWorldSpaceAR:function(C$Tzt,C$Tze){return this._updateWorldMatrix(),C$Tzt instanceof cc.Vec2?(C$Tze=C$Tze||new cc.Vec2(),C$Tzp.Vec2.transformMat4(C$Tze,C$Tzt,this._worldMatrix)):(C$Tze=C$Tze||new cc.Vec3(),C$Tzp.Vec3.transformMat4(C$Tze,C$Tzt,this._worldMatrix));},convertToNodeSpace:function(C$Tzt){this._updateWorldMatrix(),C$Tzp.Mat4.invert(C$Tzm,this._worldMatrix);var C$Tze=new cc.Vec2();return C$Tzp.Vec2.transformMat4(C$Tze,C$Tzt,C$Tzm),C$Tze.x+=this._anchorPoint.x*this._contentSize.width,C$Tze.y+=this._anchorPoint.y*this._contentSize.height,C$Tze;},convertToWorldSpace:function(C$Tzt){this._updateWorldMatrix();C$Tzt=new cc.Vec2(C$Tzt.x-this._anchorPoint.x*this._contentSize.width,C$Tzt.y-this._anchorPoint.y*this._contentSize.height);return C$Tzp.Vec2.transformMat4(C$Tzt,C$Tzt,this._worldMatrix);},getNodeToParentTransform:function(C$Tzt){C$Tzt=C$Tzt||C$Tzi.identity(),this._updateLocalMatrix();var C$Tze=this._contentSize;return C$TzK.x=-this._anchorPoint.x*C$Tze.width,C$TzK.y=-this._anchorPoint.y*C$Tze.height,C$Tzp.Mat4.copy(C$Tzm,this._matrix),C$Tzp.Mat4.transform(C$Tzm,C$Tzm,C$TzK),C$Tzi.fromMat4(C$Tzt,C$Tzm);},getNodeToParentTransformAR:function(C$Tzt){return C$Tzt=C$Tzt||C$Tzi.identity(),this._updateLocalMatrix(),C$Tzi.fromMat4(C$Tzt,this._matrix);},getNodeToWorldTransform:function(C$Tzt){C$Tzt=C$Tzt||C$Tzi.identity(),this._updateWorldMatrix();var C$Tze=this._contentSize;return C$TzK.x=-this._anchorPoint.x*C$Tze.width,C$TzK.y=-this._anchorPoint.y*C$Tze.height,C$Tzp.Mat4.copy(C$Tzm,this._worldMatrix),C$Tzp.Mat4.transform(C$Tzm,C$Tzm,C$TzK),C$Tzi.fromMat4(C$Tzt,C$Tzm);},getNodeToWorldTransformAR:function(C$Tzt){return C$Tzt=C$Tzt||C$Tzi.identity(),this._updateWorldMatrix(),C$Tzi.fromMat4(C$Tzt,this._worldMatrix);},getParentToNodeTransform:function(C$Tzt){return C$Tzt=C$Tzt||C$Tzi.identity(),this._updateLocalMatrix(),C$Tzp.Mat4.invert(C$Tzm,this._matrix),C$Tzi.fromMat4(C$Tzt,C$Tzm);},getWorldToNodeTransform:function(C$Tzt){return C$Tzt=C$Tzt||C$Tzi.identity(),this._updateWorldMatrix(),C$Tzp.Mat4.invert(C$Tzm,this._worldMatrix),C$Tzi.fromMat4(C$Tzt,C$Tzm);},convertTouchToNodeSpace:function(C$Tzt){return this.convertToNodeSpace(C$Tzt.getLocation());},convertTouchToNodeSpaceAR:function(C$Tzt){return this.convertToNodeSpaceAR(C$Tzt.getLocation());},getBoundingBox:function(){this._updateLocalMatrix();var C$Tzt=this._contentSize.width,C$Tze=this._contentSize.height,C$Tzt=cc.rect(-this._anchorPoint.x*C$Tzt,-this._anchorPoint.y*C$Tze,C$Tzt,C$Tze);return C$Tzt.transformMat4(C$Tzt,this._matrix);},getBoundingBoxToWorld:function(){return this._parent?(this._parent._updateWorldMatrix(),this._getBoundingBoxTo()):this.getBoundingBox();},_getBoundingBoxTo:function(){var C$Tzt=this._contentSize.width,C$Tze=this._contentSize.height,C$Tzi=cc.rect(-this._anchorPoint.x*C$Tzt,-this._anchorPoint.y*C$Tze,C$Tzt,C$Tze);if(this._calculWorldMatrix(),C$Tzi.transformMat4(C$Tzi,this._worldMatrix),!this._children)return C$Tzi;for(var C$Tzn=this._children,C$Tzr=0;C$Tzr<C$Tzn.length;C$Tzr++){var C$Tzs=C$Tzn[C$Tzr];C$Tzs&&C$Tzs.active&&(C$Tzs=C$Tzs._getBoundingBoxTo())&&C$Tzi.union(C$Tzi,C$Tzs);}return C$Tzi;},_updateOrderOfArrival:function(){var C$Tzt=this._parent?++this._parent._childArrivalOrder:0;this._localZOrder=4294901760&this._localZOrder|C$Tzt,this.emit(C$Tzc.SIBLING_ORDER_CHANGED);},addChild:function(C$Tzt,C$Tze,C$Tzi){cc.assertID(C$Tzt,1606),cc.assertID(null===C$Tzt._parent,1605),C$Tzt.parent=this,void 0!==C$Tze&&(C$Tzt.zIndex=C$Tze),void 0!==C$Tzi&&(C$Tzt.name=C$Tzi);},cleanup:function(){C$Tzs&&cc.director.getActionManager().removeAllActionsFromTarget(this),C$Tza.removeListeners(this);for(var C$Tzt,C$Tze=this._children.length,C$Tzi=0;C$Tzi<C$Tze;++C$Tzi)(C$Tzt=this._children[C$Tzi])&&C$Tzt.cleanup();},sortAllChildren:function(){if(this._reorderChildDirty){this._reorderChildDirty=!1;var C$Tzt=this._children;this._childArrivalOrder=1;for(var C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++)(C$Tzr=C$Tzt[C$Tze])._updateOrderOfArrival();if(C$Tza._setDirtyForNode(this),1<C$Tzt.length){for(var C$Tzn,C$Tzr,C$Tzs=1,C$Tzo=C$Tzt.length;C$Tzs<C$Tzo;C$Tzs++){for(C$Tzr=C$Tzt[C$Tzs],C$Tzn=C$Tzs-1;0<=C$Tzn&&C$Tzr._localZOrder<C$Tzt[C$Tzn]._localZOrder;)C$Tzt[C$Tzn+1]=C$Tzt[C$Tzn],C$Tzn--;C$Tzt[C$Tzn+1]=C$Tzr;}this.emit(C$Tzc.CHILD_REORDER,this);}cc.director.__fastOff(cc.Director.EVENT_AFTER_UPDATE,this.sortAllChildren,this);}},_delaySort:function(){this._reorderChildDirty||(this._reorderChildDirty=!0,cc.director.__fastOn(cc.Director.EVENT_AFTER_UPDATE,this.sortAllChildren,this));},_restoreProperties:!1,onRestore:!1},C$Tz_t=cc.Class(C$TzA),C$Tzt=C$Tz_t.prototype;C$Tzw.getset(C$Tzt,H[474],C$Tzt.getPosition,C$Tzt.setPosition,!1,!0),cc.Node=C$Tze.exports=C$Tz_t;},{"./event-manager":113,"./event/event":116,"./event/event-target":115,"./platform/CCMacro":194,"./platform/js":209,"./renderer/render-flow":221,"./utils/affine-transform":254,"./utils/base-node":255,"./utils/prefab-helper":267,"./utils/trans-pool":273,"./value-types":279}],31:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[698]),C$Tzr=C$Tzt(H[666]),C$Tzs=(cc.Object.Flags.HideInHierarchy,C$Tzn._LocalDirtyFlag),C$Tzt=cc.Class({name:H[699],extends:C$Tzn,properties:{x:{get:function(){return this._originPos.x;},set:function(C$Tzt){var C$Tze=this._originPos;C$Tzt!==C$Tze.x&&(C$Tze.x=C$Tzt,this._posDirty(!0));},override:!0},y:{get:function(){return this._originPos.y;},set:function(C$Tzt){var C$Tze=this._originPos;C$Tzt!==C$Tze.y&&(C$Tze.y=C$Tzt,this._posDirty(!0));},override:!0},zIndex:{get:function(){return cc.macro.MIN_ZINDEX;},set:function(){cc.warnID(1638);},override:!0},showInEditor:{default:!1,editorOnly:!0,override:!0}},ctor:function(C$Tzt){this._localZOrder=cc.macro.MIN_ZINDEX<<16,this._originPos=cc.v2();},_posDirty:function(C$Tzt){this.setLocalDirty(C$Tzs.POSITION),this._renderFlag|=C$Tzr.FLAG_TRANSFORM,!0===C$Tzt&&1&this._eventMask&&this.emit(C$Tzn.EventType.POSITION_CHANGED);},_updateLocalMatrix:function(){var C$Tzt;this._localMatDirty&&((C$Tzt=this.parent)&&(this._trs[0]=this._originPos.x-(C$Tzt._anchorPoint.x-.5)*C$Tzt._contentSize.width,this._trs[1]=this._originPos.y-(C$Tzt._anchorPoint.y-.5)*C$Tzt._contentSize.height),this._super());},getPosition:function(){return new cc.Vec2(this._originPos);},setPosition:function(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=(C$Tzt=C$Tzt.x).y);var C$Tzi=this._originPos;C$Tzi.x===C$Tzt&&C$Tzi.y===C$Tze||(C$Tzi.x=C$Tzt,C$Tzi.y=C$Tze,this._posDirty(!0));},setParent:function(C$Tzt){var C$Tze=this._parent;this._super(C$Tzt),C$Tze!==C$Tzt&&(C$Tze&&C$Tze.off(C$Tzn.EventType.ANCHOR_CHANGED,this._posDirty,this),C$Tzt&&C$Tzt.on(C$Tzn.EventType.ANCHOR_CHANGED,this._posDirty,this));},_updateOrderOfArrival:function(){}});cc.js.getset(C$Tzt.prototype,H[700],C$Tzt.prototype.getParent,C$Tzt.prototype.setParent),cc.js.getset(C$Tzt.prototype,H[474],C$Tzt.prototype.getPosition,C$Tzt.prototype.setPosition),cc.PrivateNode=C$Tze.exports=C$Tzt;},{"./CCNode":30,"./renderer/render-flow":221}],32:[function(C$Tzt,C$Tze,C$Tzi){"use strict";cc.Scene=cc.Class({name:H[701],extends:C$Tzt(H[698]),properties:{_is3DNode:{default:!0,override:!0},autoReleaseAssets:{default:void 0,type:cc.Boolean}},ctor:function(){this._anchorPoint.x=0,this._anchorPoint.y=0,this._activeInHierarchy=!1,this._inited=!cc.game._isCloning,this.dependAssets=null;},destroy:function(){if(cc.Object.prototype.destroy.call(this))for(var C$Tzt=this._children,C$Tze=0;C$Tze<C$Tzt.length;++C$Tze)C$Tzt[C$Tze].active=!1;this._active=!1,this._activeInHierarchy=!1;},_onHierarchyChanged:function(){},_instantiate:null,_load:function(){this._inited||(this._onBatchCreated(),this._inited=!0);},_activate:function(C$Tzt){C$Tzt=!1!==C$Tzt,cc.director._nodeActivator.activateNode(this,C$Tzt);}}),C$Tze.exports=cc.Scene;},{"./CCNode":30}],33:[function(C$Tzt,C$Tzn,C$Tzr){"use strict";function C$Tzo(C$Tzt,C$Tze,C$Tzi,C$Tzn){this.target=C$Tzt,this.priority=C$Tze,this.paused=C$Tzi,this.markedForDeletion=C$Tzn;}function C$Tza(C$Tzt,C$Tze,C$Tzi,C$Tzn){this.list=C$Tzt,this.entry=C$Tze,this.target=C$Tzi,this.callback=C$Tzn;}function C$Tzh(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){this.timers=C$Tzt,this.target=C$Tze,this.timerIndex=C$Tzi,this.currentTimer=C$Tzn,this.currentTimerSalvaged=C$Tzr,this.paused=C$Tzs;}var C$Tze=C$Tzt(H[664]),C$Tzt=C$Tzt(H[702]),C$Tz_=new C$Tzt(H[703]),C$Tzs=[],C$Tzc=(C$Tzo.get=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tzs.pop();return C$Tzr?(C$Tzr.target=C$Tzt,C$Tzr.priority=C$Tze,C$Tzr.paused=C$Tzi,C$Tzr.markedForDeletion=C$Tzn):C$Tzr=new C$Tzo(C$Tzt,C$Tze,C$Tzi,C$Tzn),C$Tzr;},C$Tzo.put=function(C$Tzt){C$Tzs.length<20&&(C$Tzt.target=null,C$Tzs.push(C$Tzt));},[]),C$Tzl=(C$Tza.get=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tzc.pop();return C$Tzr?(C$Tzr.list=C$Tzt,C$Tzr.entry=C$Tze,C$Tzr.target=C$Tzi,C$Tzr.callback=C$Tzn):C$Tzr=new C$Tza(C$Tzt,C$Tze,C$Tzi,C$Tzn),C$Tzr;},C$Tza.put=function(C$Tzt){C$Tzc.length<20&&(C$Tzt.list=C$Tzt.entry=C$Tzt.target=C$Tzt.callback=null,C$Tzc.push(C$Tzt));},[]);function C$Tzu(){this._lock=!1,this._scheduler=null,this._elapsed=-1,this._runForever=!1,this._useDelay=!1,this._timesExecuted=0,this._repeat=0,this._delay=0,this._interval=0,this._target=null,this._callback=null;}C$Tzh.get=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){var C$Tzo=C$Tzl.pop();return C$Tzo?(C$Tzo.timers=C$Tzt,C$Tzo.target=C$Tze,C$Tzo.timerIndex=C$Tzi,C$Tzo.currentTimer=C$Tzn,C$Tzo.currentTimerSalvaged=C$Tzr,C$Tzo.paused=C$Tzs):C$Tzo=new C$Tzh(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs),C$Tzo;},C$Tzh.put=function(C$Tzt){C$Tzl.length<20&&(C$Tzt.timers=C$Tzt.target=C$Tzt.currentTimer=null,C$Tzl.push(C$Tzt));};var C$Tzt=C$Tzu.prototype,C$Tzi=(C$Tzt.initWithCallback=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){return this._lock=!1,this._scheduler=C$Tzt,this._target=C$Tzi,this._callback=C$Tze,this._elapsed=-1,this._interval=C$Tzn,this._delay=C$Tzs,this._useDelay=0<this._delay,this._repeat=C$Tzr,this._runForever=this._repeat===cc.macro.REPEAT_FOREVER,!0;},C$Tzt.getInterval=function(){return this._interval;},C$Tzt.setInterval=function(C$Tzt){this._interval=C$Tzt;},C$Tzt.update=function(C$Tzt){-1===this._elapsed?(this._elapsed=0,this._timesExecuted=0):(this._elapsed+=C$Tzt,this._runForever&&!this._useDelay?this._elapsed>=this._interval&&(this.trigger(),this._elapsed=0):(this._useDelay?this._elapsed>=this._delay&&(this.trigger(),this._elapsed-=this._delay,this._timesExecuted+=1,this._useDelay=!1):this._elapsed>=this._interval&&(this.trigger(),this._elapsed=0,this._timesExecuted+=1),this._callback&&!this._runForever&&this._timesExecuted>this._repeat&&this.cancel()));},C$Tzt.getCallback=function(){return this._callback;},C$Tzt.trigger=function(){this._target&&this._callback&&(this._lock=!0,this._callback.call(this._target,this._elapsed),this._lock=!1);},C$Tzt.cancel=function(){this._scheduler.unschedule(this._callback,this._target);},[]);C$Tzu.get=function(){return C$Tzi.pop()||new C$Tzu();},C$Tzu.put=function(C$Tzt){C$Tzi.length<20&&!C$Tzt._lock&&(C$Tzt._scheduler=C$Tzt._target=C$Tzt._callback=null,C$Tzi.push(C$Tzt));},cc.Scheduler=function(){this._timeScale=1,this._updatesNegList=[],this._updates0List=[],this._updatesPosList=[],this._hashForUpdates=C$Tze.createMap(!0),this._hashForTimers=C$Tze.createMap(!0),this._currentTarget=null,this._currentTargetSalvaged=!1,this._updateHashLocked=!1,this._arrayForTimers=[];},cc.Scheduler.prototype={constructor:cc.Scheduler,_removeHashElement:function(C$Tzt){delete this._hashForTimers[C$Tzt.target._id];for(var C$Tze=this._arrayForTimers,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++)if(C$Tze[C$Tzi]===C$Tzt){C$Tze.splice(C$Tzi,1);break;}C$Tzh.put(C$Tzt);},_removeUpdateFromHash:function(C$Tzt){var C$Tzt=C$Tzt.target._id,C$Tze=this._hashForUpdates[C$Tzt];if(C$Tze){for(var C$Tzi=C$Tze.list,C$Tzn=C$Tze.entry,C$Tzr=0,C$Tzs=C$Tzi.length;C$Tzr<C$Tzs;C$Tzr++)if(C$Tzi[C$Tzr]===C$Tzn){C$Tzi.splice(C$Tzr,1);break;}delete this._hashForUpdates[C$Tzt],C$Tzo.put(C$Tzn),C$Tza.put(C$Tze);}},_priorityIn:function(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn=0;C$Tzn<C$Tzt.length;C$Tzn++)if(C$Tzi<C$Tzt[C$Tzn].priority)return void C$Tzt.splice(C$Tzn,0,C$Tze);C$Tzt.push(C$Tze);},_appendIn:function(C$Tzt,C$Tze){C$Tzt.push(C$Tze);},enableForTarget:function(C$Tzt){C$Tzt._id||(C$Tzt.__instanceId?cc.warnID(1513):C$Tzt._id=C$Tz_.getNewId());},setTimeScale:function(C$Tzt){this._timeScale=C$Tzt;},getTimeScale:function(){return this._timeScale;},update:function(C$Tzt){var C$Tze,C$Tzi,C$Tzn;for(this._updateHashLocked=!0,1!==this._timeScale&&(C$Tzt*=this._timeScale),C$Tzo=0,C$Tzi=(C$Tze=this._updatesNegList).length;C$Tzo<C$Tzi;C$Tzo++)(C$Tzn=C$Tze[C$Tzo]).paused||C$Tzn.markedForDeletion||C$Tzn.target.update(C$Tzt);for(C$Tzo=0,C$Tzi=(C$Tze=this._updates0List).length;C$Tzo<C$Tzi;C$Tzo++)(C$Tzn=C$Tze[C$Tzo]).paused||C$Tzn.markedForDeletion||C$Tzn.target.update(C$Tzt);for(C$Tzo=0,C$Tzi=(C$Tze=this._updatesPosList).length;C$Tzo<C$Tzi;C$Tzo++)(C$Tzn=C$Tze[C$Tzo]).paused||C$Tzn.markedForDeletion||C$Tzn.target.update(C$Tzt);for(var C$Tzr,C$Tzs=this._arrayForTimers,C$Tzo=0;C$Tzo<C$Tzs.length;C$Tzo++){if(C$Tzr=C$Tzs[C$Tzo],this._currentTarget=C$Tzr,this._currentTargetSalvaged=!1,!C$Tzr.paused)for(C$Tzr.timerIndex=0;C$Tzr.timerIndex<C$Tzr.timers.length;++C$Tzr.timerIndex)C$Tzr.currentTimer=C$Tzr.timers[C$Tzr.timerIndex],C$Tzr.currentTimerSalvaged=!1,C$Tzr.currentTimer.update(C$Tzt),C$Tzr.currentTimer=null;this._currentTargetSalvaged&&0===this._currentTarget.timers.length&&(this._removeHashElement(this._currentTarget),--C$Tzo);}for(C$Tzo=0,C$Tze=this._updatesNegList;C$Tzo<C$Tze.length;)(C$Tzn=C$Tze[C$Tzo]).markedForDeletion?this._removeUpdateFromHash(C$Tzn):C$Tzo++;for(C$Tzo=0,C$Tze=this._updates0List;C$Tzo<C$Tze.length;)(C$Tzn=C$Tze[C$Tzo]).markedForDeletion?this._removeUpdateFromHash(C$Tzn):C$Tzo++;for(C$Tzo=0,C$Tze=this._updatesPosList;C$Tzo<C$Tze.length;)(C$Tzn=C$Tze[C$Tzo]).markedForDeletion?this._removeUpdateFromHash(C$Tzn):C$Tzo++;this._updateHashLocked=!1,this._currentTarget=null;},schedule:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzl,C$Tzr){H[704]!=typeof C$Tzt&&(C$Tza=C$Tzt,C$Tzt=C$Tze,C$Tze=C$Tza),4!==arguments.length&&5!==arguments.length||(C$Tzr=!!C$Tzn,C$Tzn=cc.macro.REPEAT_FOREVER,C$Tzl=0),cc.assertID(C$Tze,1502);var C$Tzs,C$Tzo,C$Tza=C$Tze._id,C$Tzc=(C$Tza||(C$Tze.__instanceId?(cc.warnID(1513),C$Tza=C$Tze._id=C$Tze.__instanceId):cc.errorID(1510)),this._hashForTimers[C$Tza]);if(C$Tzc?C$Tzc.paused!==C$Tzr&&cc.warnID(1511):(C$Tzc=C$Tzh.get(null,C$Tze,0,null,null,C$Tzr),this._arrayForTimers.push(C$Tzc),this._hashForTimers[C$Tza]=C$Tzc),null==C$Tzc.timers)C$Tzc.timers=[];else for(C$Tzo=0;C$Tzo<C$Tzc.timers.length;++C$Tzo)if((C$Tzs=C$Tzc.timers[C$Tzo])&&C$Tzt===C$Tzs._callback)return cc.logID(1507,C$Tzs.getInterval(),C$Tzi),void(C$Tzs._interval=C$Tzi);(C$Tzs=C$Tzu.get()).initWithCallback(this,C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzl),C$Tzc.timers.push(C$Tzs),this._currentTarget===C$Tzc&&this._currentTargetSalvaged&&(this._currentTargetSalvaged=!1);},scheduleUpdate:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt._id,C$Tzr=(C$Tzn||(C$Tzt.__instanceId?(cc.warnID(1513),C$Tzn=C$Tzt._id=C$Tzt.__instanceId):cc.errorID(1510)),this._hashForUpdates[C$Tzn]);if(C$Tzr&&C$Tzr.entry){if(C$Tzr.entry.priority===C$Tze)return C$Tzr.entry.markedForDeletion=!1,void(C$Tzr.entry.paused=C$Tzi);if(this._updateHashLocked)return cc.logID(1506),C$Tzr.entry.markedForDeletion=!1,void(C$Tzr.entry.paused=C$Tzi);this.unscheduleUpdate(C$Tzt);}var C$Tzs,C$Tzr=C$Tzo.get(C$Tzt,C$Tze,C$Tzi,!1);0===C$Tze?(C$Tzs=this._updates0List,this._appendIn(C$Tzs,C$Tzr)):(C$Tzs=C$Tze<0?this._updatesNegList:this._updatesPosList,this._priorityIn(C$Tzs,C$Tzr,C$Tze)),this._hashForUpdates[C$Tzn]=C$Tza.get(C$Tzs,C$Tzr,C$Tzt,null);},unschedule:function(C$Tzt,C$Tze){if(C$Tze&&C$Tzt){var C$Tzi=C$Tze._id,C$Tzn=(C$Tzi||(C$Tze.__instanceId?(cc.warnID(1513),C$Tzi=C$Tze._id=C$Tze.__instanceId):cc.errorID(1510)),this._hashForTimers[C$Tzi]);if(C$Tzn)for(var C$Tzr=C$Tzn.timers,C$Tzs=0,C$Tzo=C$Tzr.length;C$Tzs<C$Tzo;C$Tzs++){var C$Tza=C$Tzr[C$Tzs];if(C$Tzt===C$Tza._callback)return C$Tza!==C$Tzn.currentTimer||C$Tzn.currentTimerSalvaged||(C$Tzn.currentTimerSalvaged=!0),C$Tzr.splice(C$Tzs,1),C$Tzu.put(C$Tza),C$Tzn.timerIndex>=C$Tzs&&C$Tzn.timerIndex--,void(0===C$Tzr.length&&(this._currentTarget===C$Tzn?this._currentTargetSalvaged=!0:this._removeHashElement(C$Tzn)));}}},unscheduleUpdate:function(C$Tzt){var C$Tze;C$Tzt&&((C$Tze=C$Tzt._id)||(C$Tzt.__instanceId?(cc.warnID(1513),C$Tze=C$Tzt._id=C$Tzt.__instanceId):cc.errorID(1510)),(C$Tzt=this._hashForUpdates[C$Tze])&&(this._updateHashLocked?C$Tzt.entry.markedForDeletion=!0:this._removeUpdateFromHash(C$Tzt.entry)));},unscheduleAllForTarget:function(C$Tzt){if(C$Tzt){var C$Tze=C$Tzt._id,C$Tze=(C$Tze||(C$Tzt.__instanceId?(cc.warnID(1513),C$Tze=C$Tzt._id=C$Tzt.__instanceId):cc.errorID(1510)),this._hashForTimers[C$Tze]);if(C$Tze){var C$Tzi=C$Tze.timers;-1<C$Tzi.indexOf(C$Tze.currentTimer)&&!C$Tze.currentTimerSalvaged&&(C$Tze.currentTimerSalvaged=!0);for(var C$Tzn=0,C$Tzr=C$Tzi.length;C$Tzn<C$Tzr;C$Tzn++)C$Tzu.put(C$Tzi[C$Tzn]);C$Tzi.length=0,this._currentTarget===C$Tze?this._currentTargetSalvaged=!0:this._removeHashElement(C$Tze);}this.unscheduleUpdate(C$Tzt);}},unscheduleAll:function(){this.unscheduleAllWithMinPriority(cc.Scheduler.PRIORITY_SYSTEM);},unscheduleAllWithMinPriority:function(C$Tzt){for(var C$Tze,C$Tzi,C$Tzn=this._arrayForTimers,C$Tzr=C$Tzn.length-1;0<=C$Tzr;C$Tzr--)C$Tze=C$Tzn[C$Tzr],this.unscheduleAllForTarget(C$Tze.target);var C$Tzs=0;if(C$Tzt<0)for(C$Tzr=0;C$Tzr<this._updatesNegList.length;)C$Tzs=this._updatesNegList.length,(C$Tzi=this._updatesNegList[C$Tzr])&&C$Tzi.priority>=C$Tzt&&this.unscheduleUpdate(C$Tzi.target),C$Tzs==this._updatesNegList.length&&C$Tzr++;if(C$Tzt<=0)for(C$Tzr=0;C$Tzr<this._updates0List.length;)C$Tzs=this._updates0List.length,(C$Tzi=this._updates0List[C$Tzr])&&this.unscheduleUpdate(C$Tzi.target),C$Tzs==this._updates0List.length&&C$Tzr++;for(C$Tzr=0;C$Tzr<this._updatesPosList.length;)C$Tzs=this._updatesPosList.length,(C$Tzi=this._updatesPosList[C$Tzr])&&C$Tzi.priority>=C$Tzt&&this.unscheduleUpdate(C$Tzi.target),C$Tzs==this._updatesPosList.length&&C$Tzr++;},isScheduled:function(C$Tzt,C$Tze){cc.assertID(C$Tzt,1508),cc.assertID(C$Tze,1509);var C$Tzi=C$Tze._id,C$Tze=(C$Tzi||(C$Tze.__instanceId?(cc.warnID(1513),C$Tzi=C$Tze._id=C$Tze.__instanceId):cc.errorID(1510)),this._hashForTimers[C$Tzi]);if(!C$Tze)return!1;if(null==C$Tze.timers)return!1;for(var C$Tzn=C$Tze.timers,C$Tzr=0;C$Tzr<C$Tzn.length;++C$Tzr)if(C$Tzt===C$Tzn[C$Tzr]._callback)return!0;return!1;},pauseAllTargets:function(){return this.pauseAllTargetsWithMinPriority(cc.Scheduler.PRIORITY_SYSTEM);},pauseAllTargetsWithMinPriority:function(C$Tzt){for(var C$Tze,C$Tzi,C$Tzn=[],C$Tzr=this._arrayForTimers,C$Tzs=0,C$Tzo=C$Tzr.length;C$Tzs<C$Tzo;C$Tzs++)(C$Tze=C$Tzr[C$Tzs])&&(C$Tze.paused=!0,C$Tzn.push(C$Tze.target));if(C$Tzt<0)for(C$Tzs=0;C$Tzs<this._updatesNegList.length;C$Tzs++)(C$Tzi=this._updatesNegList[C$Tzs])&&C$Tzi.priority>=C$Tzt&&(C$Tzi.paused=!0,C$Tzn.push(C$Tzi.target));if(C$Tzt<=0)for(C$Tzs=0;C$Tzs<this._updates0List.length;C$Tzs++)(C$Tzi=this._updates0List[C$Tzs])&&(C$Tzi.paused=!0,C$Tzn.push(C$Tzi.target));for(C$Tzs=0;C$Tzs<this._updatesPosList.length;C$Tzs++)(C$Tzi=this._updatesPosList[C$Tzs])&&C$Tzi.priority>=C$Tzt&&(C$Tzi.paused=!0,C$Tzn.push(C$Tzi.target));return C$Tzn;},resumeTargets:function(C$Tzt){if(C$Tzt)for(var C$Tze=0;C$Tze<C$Tzt.length;C$Tze++)this.resumeTarget(C$Tzt[C$Tze]);},pauseTarget:function(C$Tzt){cc.assertID(C$Tzt,1503);var C$Tze=C$Tzt._id,C$Tzt=(C$Tze||(C$Tzt.__instanceId?(cc.warnID(1513),C$Tze=C$Tzt._id=C$Tzt.__instanceId):cc.errorID(1510)),this._hashForTimers[C$Tze]),C$Tzt=(C$Tzt&&(C$Tzt.paused=!0),this._hashForUpdates[C$Tze]);C$Tzt&&(C$Tzt.entry.paused=!0);},resumeTarget:function(C$Tzt){cc.assertID(C$Tzt,1504);var C$Tze=C$Tzt._id,C$Tzt=(C$Tze||(C$Tzt.__instanceId?(cc.warnID(1513),C$Tze=C$Tzt._id=C$Tzt.__instanceId):cc.errorID(1510)),this._hashForTimers[C$Tze]),C$Tzt=(C$Tzt&&(C$Tzt.paused=!1),this._hashForUpdates[C$Tze]);C$Tzt&&(C$Tzt.entry.paused=!1);},isTargetPaused:function(C$Tzt){cc.assertID(C$Tzt,1505);var C$Tze=C$Tzt._id,C$Tzt=(C$Tze||(C$Tzt.__instanceId?(cc.warnID(1513),C$Tze=C$Tzt._id=C$Tzt.__instanceId):cc.errorID(1510)),this._hashForTimers[C$Tze]);if(C$Tzt)return C$Tzt.paused;C$Tzt=this._hashForUpdates[C$Tze];return!!C$Tzt&&C$Tzt.entry.paused;}},cc.Scheduler.PRIORITY_SYSTEM=1<<31,cc.Scheduler.PRIORITY_NON_SYSTEM=cc.Scheduler.PRIORITY_SYSTEM+1,C$Tzn.exports=cc.Scheduler;},{"./platform/id-generater":205,"./platform/js":209}],34:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt=C$Tzt(H[705]);cc.Asset=cc.Class({name:H[706],extends:C$Tzt,ctor:function(){this.loaded=!0,this.url="";},properties:{nativeUrl:{get:function(){if(this._native){var C$Tzt,C$Tze=this._native;if(47===C$Tze.charCodeAt(0))return C$Tze.slice(1);if(cc.AssetLibrary)return C$Tzt=cc.AssetLibrary.getLibUrlNoExt(this._uuid,!0),46===C$Tze.charCodeAt(0)?C$Tzt+C$Tze:C$Tzt+"/"+C$Tze;cc.errorID(6400);}return"";},visible:!1},_native:"",_nativeAsset:{get:function(){return this._$nativeAsset;},set:function(C$Tzt){this._$nativeAsset=C$Tzt;}}},statics:{deserialize:!1,preventDeferredLoadDependents:!1,preventPreloadNativeObject:!1},toString:function(){return this.nativeUrl;},serialize:!1,createNode:null,_setRawAsset:function(C$Tzt,C$Tze){this._native=!1!==C$Tze?C$Tzt||void 0:"/"+C$Tzt;}}),C$Tze.exports=cc.Asset;},{"./CCRawAsset":42}],35:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[707]),C$Tzt=C$Tzt(H[708]),C$Tzr=cc.Enum({WEB_AUDIO:0,DOM_AUDIO:1}),C$Tzs=cc.Class({name:H[524],extends:C$Tzn,mixins:[C$Tzt],ctor:function(){this.loaded=!1,this._audio=null;},properties:{loadMode:{default:C$Tzr.WEB_AUDIO,type:C$Tzr},_nativeAsset:{get:function(){return this._audio;},set:function(C$Tzt){C$Tzt instanceof cc.AudioClip?this._audio=C$Tzt._nativeAsset:this._audio=C$Tzt,this._audio&&(this.loaded=!0,this.emit(H[514]));},override:!0}},statics:{LoadMode:C$Tzr,_loadByUrl:function(C$Tzi,C$Tzn){var C$Tzr=cc.loader.getItem(C$Tzi)||cc.loader.getItem(C$Tzi+H[709]);C$Tzr&&C$Tzr.complete?C$Tzr._owner instanceof C$Tzs?C$Tzn(null,C$Tzr._owner):C$Tzn(null,C$Tzr.content):cc.loader.load(C$Tzi,function(C$Tzt,C$Tze){if(C$Tzt)return C$Tzn(C$Tzt);C$Tzr=cc.loader.getItem(C$Tzi)||cc.loader.getItem(C$Tzi+H[709]),C$Tzn(null,C$Tzr.content);});}},destroy:function(){cc.audioEngine.uncache(this),this._super();}});cc.AudioClip=C$Tzs,C$Tze.exports=C$Tzs;},{"../event/event-target":115,"./CCAsset":34}],36:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzs(){this.u=0,this.v=0,this.w=0,this.h=0,this.offsetX=0,this.offsetY=0,this.textureID=0,this.valid=!1,this.xAdvance=0;}function C$Tzo(C$Tzt){this._letterDefinitions={},this._texture=C$Tzt;}C$Tzo.prototype={constructor:C$Tzo,addLetterDefinitions:function(C$Tzt,C$Tze){this._letterDefinitions[C$Tzt]=C$Tze;},cloneLetterDefinition:function(){var C$Tzt,C$Tze={};for(C$Tzt in this._letterDefinitions){var C$Tzi=new C$Tzs();cc.js.mixin(C$Tzi,this._letterDefinitions[C$Tzt]),C$Tze[C$Tzt]=C$Tzi;}return C$Tze;},getTexture:function(){return this._texture;},getLetter:function(C$Tzt){return this._letterDefinitions[C$Tzt];},getLetterDefinitionForChar:function(C$Tzt){C$Tzt=C$Tzt.charCodeAt(0);return this._letterDefinitions.hasOwnProperty(C$Tzt)?this._letterDefinitions[C$Tzt]:null;},clear:function(){this._letterDefinitions={};}};var C$Tzn=cc.Class({name:H[710],extends:cc.Font,properties:{fntDataStr:{default:""},spriteFrame:{default:null,type:cc.SpriteFrame},fontSize:{default:-1},_fntConfig:null,_fontDefDictionary:null},onLoad:function(){var C$Tzt=this.spriteFrame,C$Tzt=(!this._fontDefDictionary&&C$Tzt&&(this._fontDefDictionary=new C$Tzo(C$Tzt._texture)),this._fntConfig);if(C$Tzt){var C$Tze,C$Tzi=C$Tzt.fontDefDictionary;for(C$Tze in C$Tzi){var C$Tzn=new C$Tzs(),C$Tzr=C$Tzi[C$Tze].rect;C$Tzn.offsetX=C$Tzi[C$Tze].xOffset,C$Tzn.offsetY=C$Tzi[C$Tze].yOffset,C$Tzn.w=C$Tzr.width,C$Tzn.h=C$Tzr.height,C$Tzn.u=C$Tzr.x,C$Tzn.v=C$Tzr.y,C$Tzn.textureID=0,C$Tzn.valid=!0,C$Tzn.xAdvance=C$Tzi[C$Tze].xAdvance,this._fontDefDictionary.addLetterDefinitions(C$Tze,C$Tzn);}}}});cc.BitmapFont=C$Tzn,cc.BitmapFont.FontLetterDefinition=C$Tzs,cc.BitmapFont.FontAtlas=C$Tzo,C$Tze.exports=C$Tzn;},{}],37:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({name:H[711],extends:cc.Asset,ctor:function(){this._buffer=null;},properties:{_nativeAsset:{get:function(){return this._buffer;},set:function(C$Tzt){this._buffer=C$Tzt.buffer||C$Tzt;},override:!0},buffer:function(){return this._buffer;}}});cc.BufferAsset=C$Tze.exports=C$Tzn;},{}],38:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({name:H[712],extends:cc.Asset});cc.Font=C$Tze.exports=C$Tzn;},{}],39:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({name:H[713],extends:cc.Asset,properties:{json:null}});C$Tze.exports=cc.JsonAsset=C$Tzn;},{}],40:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({name:H[714],extends:cc.BitmapFont,onLoad:function(){this.spriteFrame?this._fntConfig?this._super():cc.warnID(9101,this.name):cc.warnID(9100,this.name);}});cc.LabelAtlas=C$Tzn,C$Tze.exports=C$Tzn;},{}],41:[function(C$Tze,C$Tzt,C$Tzi){"use strict";var C$Tzn=cc.Enum({AUTO:0,SINGLE_INSTANCE:1,MULTI_INSTANCE:2}),C$Tzn=cc.Class({name:H[715],extends:cc.Asset,ctor:function(){this._createFunction=null,this._instantiatedTimes=0;},properties:{data:null,optimizationPolicy:C$Tzn.AUTO,asyncLoadAssets:!1,readonly:{default:!1,editorOnly:!0}},statics:{OptimizationPolicy:C$Tzn,OptimizationPolicyThreshold:3},createNode:!1,compileCreateFunction:function(){var C$Tzt=C$Tze(H[716]);this._createFunction=C$Tzt.compile(this.data);},_doInstantiate:function(C$Tzt){return this.data._prefab?this.data._prefab._synced=!0:cc.warnID(3700),this._createFunction||this.compileCreateFunction(),this._createFunction(C$Tzt);},_instantiate:function(){var C$Tzt;return this.data._prefab._synced=!0,C$Tzt=this.data._instantiate(),++this._instantiatedTimes,C$Tzt;},destroy:function(){this.data&&this.data.destroy(),this._super();}});cc.Prefab=C$Tzt.exports=C$Tzn,cc.js.obsolete(cc,H[717],H[718]);},{"../platform/instantiate-jit":207}],42:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[719]),C$Tzr=C$Tzt(H[720]);cc.RawAsset=cc.Class({name:H[721],extends:C$Tzn,ctor:function(){Object.defineProperty(this,H[722],{value:"",writable:!0});}}),C$Tzr.value(cc.RawAsset,H[723],function(C$Tzt){return C$Tzr.isChildClassOf(C$Tzt,cc.RawAsset)&&!C$Tzr.isChildClassOf(C$Tzt,cc.Asset);}),C$Tzr.value(cc.RawAsset,H[724],function(C$Tzt){return C$Tzt===cc.Texture2D||C$Tzt===cc.AudioClip||C$Tzt===cc.ParticleAsset||C$Tzt===cc.Asset;}),C$Tze.exports=cc.RawAsset;},{"../platform/CCObject":195,"../platform/js":209}],43:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzs=(C$Tzn=C$Tzt(H[725]))&&C$Tzn.__esModule?C$Tzn:{default:C$Tzn};var C$Tzo=C$Tzt(H[726]),C$Tzn=C$Tzt(H[727]),C$Tzt=cc.Enum({RB_FMT_D24S8:C$Tzs.default.RB_FMT_D24S8,RB_FMT_S8:C$Tzs.default.RB_FMT_S8,RB_FMT_D16:C$Tzs.default.RB_FMT_D16}),C$Tzn=cc.Class({name:H[728],extends:C$Tzn,statics:{DepthStencilFormat:C$Tzt},ctor:function(){this._framebuffer=null;},initWithSize:function(C$Tzt,C$Tze,C$Tzi){this.width=Math.floor(C$Tzt||cc.visibleRect.width),this.height=Math.floor(C$Tze||cc.visibleRect.height),this._resetUnderlyingMipmaps();var C$Tzn,C$Tzr={colors:[this._texture]};this._depthStencilBuffer&&this._depthStencilBuffer.destroy(),C$Tzi&&(C$Tzn=new C$Tzs.default.RenderBuffer(C$Tzo.device,C$Tzi,C$Tzt,C$Tze),C$Tzi===C$Tzs.default.RB_FMT_D24S8?C$Tzr.depthStencil=C$Tzn:C$Tzi===C$Tzs.default.RB_FMT_S8?C$Tzr.stencil=C$Tzn:C$Tzi===C$Tzs.default.RB_FMT_D16&&(C$Tzr.depth=C$Tzn)),this._depthStencilBuffer=C$Tzn,this._framebuffer&&this._framebuffer.destroy(),this._framebuffer=new C$Tzs.default.FrameBuffer(C$Tzo.device,C$Tzt,C$Tze,C$Tzr),this._packable=!1,this.loaded=!0,this.emit(H[514]);},updateSize:function(C$Tzt,C$Tze){this.width=Math.floor(C$Tzt||cc.visibleRect.width),this.height=Math.floor(C$Tze||cc.visibleRect.height),this._resetUnderlyingMipmaps();var C$Tzi=this._depthStencilBuffer;C$Tzi&&C$Tzi.update(this.width,this.height),this._framebuffer._width=C$Tzt,this._framebuffer._height=C$Tze;},drawTextureAt:function(C$Tzt,C$Tze,C$Tzi){C$Tzt._image&&0!==C$Tzt._image.width&&this._texture.updateSubImage({x:C$Tze,y:C$Tzi,image:C$Tzt._image,width:C$Tzt.width,height:C$Tzt.height,level:0,flipY:!1,premultiplyAlpha:C$Tzt._premultiplyAlpha});},readPixels:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){if(!this._framebuffer||!this._texture)return C$Tzt;C$Tze=C$Tze||0,C$Tzi=C$Tzi||0;var C$Tzn=C$Tzn||this.width,C$Tzr=C$Tzr||this.height,C$Tzs=(C$Tzt=C$Tzt||new Uint8Array(C$Tzn*C$Tzr*4),cc.game._renderContext),C$Tzo=C$Tzs.getParameter(C$Tzs.FRAMEBUFFER_BINDING);return C$Tzs.bindFramebuffer(C$Tzs.FRAMEBUFFER,this._framebuffer.getHandle()),C$Tzs.readPixels(C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs.RGBA,C$Tzs.UNSIGNED_BYTE,C$Tzt),C$Tzs.bindFramebuffer(C$Tzs.FRAMEBUFFER,C$Tzo),C$Tzt;},destroy:function(){this._super(),this._framebuffer&&(this._framebuffer.destroy(),this._framebuffer=null);}});cc.RenderTexture=C$Tze.exports=C$Tzn;},{"../../renderer/gfx":312,"../renderer":220,"./CCTexture2D":50}],44:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({name:H[729],extends:cc.Asset,properties:{scene:null,asyncLoadAssets:void 0}});cc.SceneAsset=C$Tzn,C$Tze.exports=C$Tzn;},{}],45:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({name:H[730],extends:cc.Asset}),C$Tzr=(cc._Script=C$Tzn,cc.Class({name:H[731],extends:C$Tzn})),C$Tzr=(cc._JavaScript=C$Tzr,cc.Class({name:H[732],extends:C$Tzn})),C$Tzr=(cc._CoffeeScript=C$Tzr,cc.Class({name:H[733],extends:C$Tzn}));cc._TypeScript=C$Tzr;},{}],46:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({name:H[734],extends:cc.Asset,properties:{_spriteFrames:{default:{}}},getTexture:function(){var C$Tzt=Object.keys(this._spriteFrames);return 0<C$Tzt.length&&(C$Tzt=this._spriteFrames[C$Tzt[0]])?C$Tzt.getTexture():null;},getSpriteFrame:function(C$Tzt){var C$Tze=this._spriteFrames[C$Tzt];return C$Tze?(C$Tze.name||(C$Tze.name=C$Tzt),C$Tze):null;},getSpriteFrames:function(){var C$Tzt,C$Tze=[];for(C$Tzt in this._spriteFrames)C$Tze.push(this.getSpriteFrame(C$Tzt));return C$Tze;}});cc.SpriteAtlas=C$Tzn,C$Tze.exports=C$Tzn;},{}],47:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzs=C$Tzt(H[708]),C$Tzn=C$Tzt(H[735]),C$Tzy=[{u:0,v:0},{u:0,v:0},{u:0,v:0},{u:0,v:0}],C$Tzr=cc.Class({name:H[736],extends:C$Tzt(H[737]),mixins:[C$Tzs],properties:{_textureSetter:{set:function(C$Tzt){C$Tzt&&(this._texture!==C$Tzt&&this._refreshTexture(C$Tzt),this._textureFilename=C$Tzt.url);}},insetTop:{get:function(){return this._capInsets[1];},set:function(C$Tzt){this._capInsets[1]=C$Tzt,this._texture&&this._calculateSlicedUV();}},insetBottom:{get:function(){return this._capInsets[3];},set:function(C$Tzt){this._capInsets[3]=C$Tzt,this._texture&&this._calculateSlicedUV();}},insetLeft:{get:function(){return this._capInsets[0];},set:function(C$Tzt){this._capInsets[0]=C$Tzt,this._texture&&this._calculateSlicedUV();}},insetRight:{get:function(){return this._capInsets[2];},set:function(C$Tzt){this._capInsets[2]=C$Tzt,this._texture&&this._calculateSlicedUV();}}},ctor:function(){C$Tzs.call(this);var C$Tzt=arguments[0],C$Tze=arguments[1],C$Tzi=arguments[2],C$Tzn=arguments[3],C$Tzr=arguments[4];this._rect=null,this.uv=[],this._texture=null,this._original=null,this._offset=null,this._originalSize=null,this._rotated=!1,this._flipX=!1,this._flipY=!1,this.vertices=null,this._capInsets=[0,0,0,0],this.uvSliced=[],this._textureFilename="",void 0!==C$Tzt&&this.setTexture(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr);},textureLoaded:function(){return this._texture&&this._texture.loaded;},onTextureLoaded:function(C$Tzt,C$Tze){return this.textureLoaded()?(C$Tzt.call(C$Tze),!0):(this.once(H[514],C$Tzt,C$Tze),this.ensureLoadTexture(),!1);},isRotated:function(){return this._rotated;},setRotated:function(C$Tzt){this._rotated=C$Tzt,this._texture&&this._calculateUV();},isFlipX:function(){return this._flipX;},isFlipY:function(){return this._flipY;},setFlipX:function(C$Tzt){this._flipX=C$Tzt,this._texture&&this._calculateUV();},setFlipY:function(C$Tzt){this._flipY=C$Tzt,this._texture&&this._calculateUV();},getRect:function(){return cc.rect(this._rect);},setRect:function(C$Tzt){this._rect=C$Tzt,this._texture&&this._calculateUV();},getOriginalSize:function(){return cc.size(this._originalSize);},setOriginalSize:function(C$Tzt){this._originalSize?(this._originalSize.width=C$Tzt.width,this._originalSize.height=C$Tzt.height):this._originalSize=cc.size(C$Tzt);},getTexture:function(){return this._texture;},_textureLoadedCallback:function(){var C$Tzt,C$Tze=this._texture;C$Tze&&(C$Tzt=C$Tze.width,C$Tze=C$Tze.height,this._rect?this._checkRect(this._texture):this._rect=cc.rect(0,0,C$Tzt,C$Tze),this._originalSize||this.setOriginalSize(cc.size(C$Tzt,C$Tze)),this._offset||this.setOffset(cc.v2(0,0)),this._calculateUV(),this.emit(H[514]));},_refreshTexture:function(C$Tzt){(this._texture=C$Tzt).loaded?this._textureLoadedCallback():C$Tzt.once(H[514],this._textureLoadedCallback,this);},getOffset:function(){return cc.v2(this._offset);},setOffset:function(C$Tzt){this._offset=cc.v2(C$Tzt);},clone:function(){return new C$Tzr(this._texture||this._textureFilename,this._rect,this._rotated,this._offset,this._originalSize);},setTexture:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){this._rect=C$Tze||null,C$Tzn?this.setOffset(C$Tzn):this._offset=null,C$Tzr?this.setOriginalSize(C$Tzr):this._originalSize=null,this._rotated=C$Tzi||!1;C$Tze=C$Tzt;return H[462]==typeof C$Tze&&C$Tze&&(this._textureFilename=C$Tze,this._loadTexture()),C$Tze instanceof cc.Texture2D&&this._texture!==C$Tze&&this._refreshTexture(C$Tze),!0;},_loadTexture:function(){var C$Tzt;this._textureFilename&&(C$Tzt=C$Tzn.loadImage(this._textureFilename),this._refreshTexture(C$Tzt));},ensureLoadTexture:function(){this._texture?this._texture.loaded||(this._refreshTexture(this._texture),C$Tzn.postLoadTexture(this._texture)):this._textureFilename&&this._loadTexture();},_checkRect:function(C$Tzt){var C$Tze=this._rect,C$Tzi=C$Tze.x,C$Tzn=C$Tze.y;this._rotated?(C$Tzi+=C$Tze.height,C$Tzn+=C$Tze.width):(C$Tzi+=C$Tze.width,C$Tzn+=C$Tze.height),C$Tzi>C$Tzt.width&&cc.errorID(3300,C$Tzt.url+"/"+this.name,C$Tzi,C$Tzt.width),C$Tzn>C$Tzt.height&&cc.errorID(3400,C$Tzt.url+"/"+this.name,C$Tzn,C$Tzt.height);},_flipXY:function(C$Tzt){var C$Tze;this._flipX&&(C$Tze=C$Tzt[0],C$Tzt[0]=C$Tzt[1],C$Tzt[1]=C$Tze,C$Tze=C$Tzt[2],C$Tzt[2]=C$Tzt[3],C$Tzt[3]=C$Tze),this._flipY&&(C$Tze=C$Tzt[0],C$Tzt[0]=C$Tzt[2],C$Tzt[2]=C$Tze,C$Tze=C$Tzt[1],C$Tzt[1]=C$Tzt[3],C$Tzt[3]=C$Tze);},_calculateSlicedUV:function(){var C$Tzt=this._rect,C$Tze=this._texture.width,C$Tzi=this._texture.height,C$Tzn=this._capInsets[0],C$Tzr=this._capInsets[2],C$Tzr=C$Tzt.width-C$Tzn-C$Tzr,C$Tzs=this._capInsets[1],C$Tzo=this._capInsets[3],C$Tzh=C$Tzt.height-C$Tzs-C$Tzo,C$Tza=this.uvSliced;if(C$Tza.length=0,this._rotated){C$Tzy[0].u=C$Tzt.x/C$Tze,C$Tzy[1].u=(C$Tzt.x+C$Tzo)/C$Tze,C$Tzy[2].u=(C$Tzt.x+C$Tzo+C$Tzh)/C$Tze,C$Tzy[3].u=(C$Tzt.x+C$Tzt.height)/C$Tze,C$Tzy[3].v=C$Tzt.y/C$Tzi,C$Tzy[2].v=(C$Tzt.y+C$Tzn)/C$Tzi,C$Tzy[1].v=(C$Tzt.y+C$Tzn+C$Tzr)/C$Tzi,C$Tzy[0].v=(C$Tzt.y+C$Tzt.width)/C$Tzi,this._flipXY(C$Tzy);for(var C$Tzc=0;C$Tzc<4;++C$Tzc)for(var C$Tzu=C$Tzy[C$Tzc],C$Tzl=0;C$Tzl<4;++C$Tzl){var C$Tz_=C$Tzy[3-C$Tzl];C$Tza.push({u:C$Tzu.u,v:C$Tz_.v});}}else{C$Tzy[0].u=C$Tzt.x/C$Tze,C$Tzy[1].u=(C$Tzt.x+C$Tzn)/C$Tze,C$Tzy[2].u=(C$Tzt.x+C$Tzn+C$Tzr)/C$Tze,C$Tzy[3].u=(C$Tzt.x+C$Tzt.width)/C$Tze,C$Tzy[3].v=C$Tzt.y/C$Tzi,C$Tzy[2].v=(C$Tzt.y+C$Tzs)/C$Tzi,C$Tzy[1].v=(C$Tzt.y+C$Tzs+C$Tzh)/C$Tzi,C$Tzy[0].v=(C$Tzt.y+C$Tzt.height)/C$Tzi,this._flipXY(C$Tzy);for(var C$Tzd=0;C$Tzd<4;++C$Tzd)for(var C$Tzf=C$Tzy[C$Tzd],C$Tzp=0;C$Tzp<4;++C$Tzp){var C$Tzm=C$Tzy[C$Tzp];C$Tza.push({u:C$Tzm.u,v:C$Tzf.v});}}},_setDynamicAtlasFrame:function(C$Tzt){C$Tzt&&(this._original={_texture:this._texture,_x:this._rect.x,_y:this._rect.y},this._texture=C$Tzt.texture,this._rect.x=C$Tzt.x,this._rect.y=C$Tzt.y,this._calculateUV());},_resetDynamicAtlasFrame:function(){this._original&&(this._rect.x=this._original._x,this._rect.y=this._original._y,this._texture=this._original._texture,this._original=null,this._calculateUV());},_calculateUV:function(){var C$Tzt,C$Tze,C$Tzi,C$Tzn=this._rect,C$Tzr=this._texture,C$Tzs=this.uv,C$Tzo=C$Tzr.width,C$Tza=C$Tzr.height,C$Tzc=(this._rotated?(C$Tzr=0===C$Tzo?0:C$Tzn.x/C$Tzo,C$Tzi=0===C$Tzo?0:(C$Tzn.x+C$Tzn.height)/C$Tzo,C$Tze=0===C$Tza?0:(C$Tzn.y+C$Tzn.width)/C$Tza,C$Tzt=0===C$Tza?0:C$Tzn.y/C$Tza,C$Tzs[0]=C$Tzr,C$Tzs[1]=C$Tzt,C$Tzs[2]=C$Tzr,C$Tzs[3]=C$Tze,C$Tzs[4]=C$Tzi,C$Tzs[5]=C$Tzt,C$Tzs[6]=C$Tzi,C$Tzs[7]=C$Tze):(C$Tzr=0===C$Tzo?0:C$Tzn.x/C$Tzo,C$Tzt=0===C$Tzo?0:(C$Tzn.x+C$Tzn.width)/C$Tzo,C$Tzi=0===C$Tza?0:(C$Tzn.y+C$Tzn.height)/C$Tza,C$Tze=0===C$Tza?0:C$Tzn.y/C$Tza,C$Tzs[0]=C$Tzr,C$Tzs[1]=C$Tzi,C$Tzs[2]=C$Tzt,C$Tzs[3]=C$Tzi,C$Tzs[4]=C$Tzr,C$Tzs[5]=C$Tze,C$Tzs[6]=C$Tzt,C$Tzs[7]=C$Tze),this._flipX&&(C$Tzn=C$Tzs[0],C$Tzs[0]=C$Tzs[2],C$Tzs[2]=C$Tzn,C$Tzn=C$Tzs[1],C$Tzs[1]=C$Tzs[3],C$Tzs[3]=C$Tzn,C$Tzn=C$Tzs[4],C$Tzs[4]=C$Tzs[6],C$Tzs[6]=C$Tzn,C$Tzn=C$Tzs[5],C$Tzs[5]=C$Tzs[7],C$Tzs[7]=C$Tzn),this._flipY&&(C$Tzi=C$Tzs[0],C$Tzs[0]=C$Tzs[4],C$Tzs[4]=C$Tzi,C$Tzi=C$Tzs[1],C$Tzs[1]=C$Tzs[5],C$Tzs[5]=C$Tzi,C$Tzi=C$Tzs[2],C$Tzs[2]=C$Tzs[6],C$Tzs[6]=C$Tzi,C$Tzi=C$Tzs[3],C$Tzs[3]=C$Tzs[7],C$Tzs[7]=C$Tzi),this.vertices);if(C$Tzc){C$Tzc.nu.length=0;for(var C$Tzl=C$Tzc.nv.length=0;C$Tzl<C$Tzc.u.length;C$Tzl++)C$Tzc.nu[C$Tzl]=C$Tzc.u[C$Tzl]/C$Tzo,C$Tzc.nv[C$Tzl]=C$Tzc.v[C$Tzl]/C$Tza;}this._calculateSlicedUV();},_serialize:!1,_deserialize:function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.rect,C$Tzi=(C$Tzi&&(this._rect=new cc.Rect(C$Tzi[0],C$Tzi[1],C$Tzi[2],C$Tzi[3])),C$Tzt.offset&&this.setOffset(new cc.Vec2(C$Tzt.offset[0],C$Tzt.offset[1])),C$Tzt.originalSize&&this.setOriginalSize(new cc.Size(C$Tzt.originalSize[0],C$Tzt.originalSize[1])),this._rotated=1===C$Tzt.rotated,this._name=C$Tzt.name,C$Tzt.capInsets),C$Tzi=(C$Tzi&&(this._capInsets[0]=C$Tzi[0],this._capInsets[1]=C$Tzi[1],this._capInsets[2]=C$Tzi[2],this._capInsets[3]=C$Tzi[3]),this.vertices=C$Tzt.vertices,this.vertices&&(this.vertices.nu=[],this.vertices.nv=[]),C$Tzt.texture);C$Tzi&&C$Tze.result.push(this,H[738],C$Tzi);}}),C$Tzt=C$Tzr.prototype;C$Tzt.copyWithZone=C$Tzt.clone,C$Tzt.copy=C$Tzt.clone,C$Tzt.initWithTexture=C$Tzt.setTexture,cc.SpriteFrame=C$Tzr,C$Tze.exports=C$Tzr;},{"../assets/CCAsset":34,"../event/event-target":115,"../utils/texture-util":272}],48:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt=C$Tzt(H[739]),C$Tzt=cc.Class({name:H[740],extends:C$Tzt,properties:{_fontFamily:null,_nativeAsset:{type:cc.String,get:function(){return this._fontFamily;},set:function(C$Tzt){this._fontFamily=C$Tzt||H[741];},override:!0}}});cc.TTFFont=C$Tze.exports=C$Tzt;},{"./CCFont":38}],49:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({name:H[742],extends:cc.Asset,properties:{text:""},toString:function(){return this.text;}});C$Tze.exports=cc.TextAsset=C$Tzn;},{}],50:[function(C$Tzt,C$Tzr,C$Tzh){"use strict";var C$Tze=(C$Tze=C$Tzt(H[725]))&&C$Tze.__esModule?C$Tze:{default:C$Tze};var C$Tzu=C$Tzt(H[708]),C$Tzs=C$Tzt(H[726]),C$Tz_=(C$Tzt(H[743]),new(C$Tzt(H[744]))(H[745])),C$Tzd=1024,C$Tzf=cc.Enum({RGB565:C$Tze.default.TEXTURE_FMT_R5_G6_B5,RGB5A1:C$Tze.default.TEXTURE_FMT_R5_G5_B5_A1,RGBA4444:C$Tze.default.TEXTURE_FMT_R4_G4_B4_A4,RGB888:C$Tze.default.TEXTURE_FMT_RGB8,RGBA8888:C$Tze.default.TEXTURE_FMT_RGBA8,RGBA32F:C$Tze.default.TEXTURE_FMT_RGBA32F,A8:C$Tze.default.TEXTURE_FMT_A8,I8:C$Tze.default.TEXTURE_FMT_L8,AI8:C$Tze.default.TEXTURE_FMT_L8_A8,RGB_PVRTC_2BPPV1:C$Tze.default.TEXTURE_FMT_RGB_PVRTC_2BPPV1,RGBA_PVRTC_2BPPV1:C$Tze.default.TEXTURE_FMT_RGBA_PVRTC_2BPPV1,RGB_A_PVRTC_2BPPV1:C$Tzd++,RGB_PVRTC_4BPPV1:C$Tze.default.TEXTURE_FMT_RGB_PVRTC_4BPPV1,RGBA_PVRTC_4BPPV1:C$Tze.default.TEXTURE_FMT_RGBA_PVRTC_4BPPV1,RGB_A_PVRTC_4BPPV1:+C$Tzd,RGB_ETC1:C$Tze.default.TEXTURE_FMT_RGB_ETC1,RGBA_ETC1:1026,RGB_ETC2:C$Tze.default.TEXTURE_FMT_RGB_ETC2,RGBA_ETC2:C$Tze.default.TEXTURE_FMT_RGBA_ETC2}),C$Tzc=cc.Enum({REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648}),C$Tzl=cc.Enum({LINEAR:9729,NEAREST:9728}),C$Tzo={9728:0,9729:1},C$Tzi=[],C$Tzn={width:void 0,height:void 0,minFilter:void 0,magFilter:void 0,wrapS:void 0,wrapT:void 0,format:void 0,genMipmaps:void 0,images:void 0,image:void 0,flipY:void 0,premultiplyAlpha:void 0};function C$Tza(){for(var C$Tzt in C$Tzn)C$Tzn[C$Tzt]=void 0;return C$Tzi.length=0,C$Tzn.images=C$Tzi,C$Tzn;}var C$Tzp=cc.Class({name:H[746],extends:C$Tzt(H[737]),mixins:[C$Tzu],properties:{_nativeAsset:{get:function(){return this._image;},set:function(C$Tzt){C$Tzt._compressed&&C$Tzt._data?this.initWithData(C$Tzt._data,this._format,C$Tzt.width,C$Tzt.height):this.initWithElement(C$Tzt);},override:!0},_format:C$Tzf.RGBA8888,_premultiplyAlpha:!1,_flipY:!1,_minFilter:C$Tzl.LINEAR,_magFilter:C$Tzl.LINEAR,_mipFilter:C$Tzl.LINEAR,_wrapS:C$Tzc.CLAMP_TO_EDGE,_wrapT:C$Tzc.CLAMP_TO_EDGE,_genMipmaps:!1,genMipmaps:{get:function(){return this._genMipmaps;},set:function(C$Tzt){var C$Tze;this._genMipmaps!==C$Tzt&&((C$Tze=C$Tza()).genMipmaps=C$Tzt,this.update(C$Tze));}},_packable:!0,packable:{get:function(){return this._packable;},set:function(C$Tzt){this._packable=C$Tzt;}}},statics:{PixelFormat:C$Tzf,WrapMode:C$Tzc,Filter:C$Tzl,_FilterIndex:C$Tzo,extnames:[H[747],H[748],H[749],H[750],H[751],H[752],H[753]]},ctor:function(){this._id=C$Tz_.getNewId(),this.loaded=!1,this.width=0,this.height=0,this._hashDirty=!0,this._hash=0,this._texture=null;},getImpl:function(){return this._texture;},getId:function(){return this._id;},toString:function(){return this.url||"";},update:function(C$Tzt){var C$Tze;C$Tzt&&(C$Tze=!1,void 0!==C$Tzt.width&&(this.width=C$Tzt.width),void 0!==C$Tzt.height&&(this.height=C$Tzt.height),void 0!==C$Tzt.minFilter&&(this._minFilter=C$Tzt.minFilter,C$Tzt.minFilter=C$Tzo[C$Tzt.minFilter]),void 0!==C$Tzt.magFilter&&(this._magFilter=C$Tzt.magFilter,C$Tzt.magFilter=C$Tzo[C$Tzt.magFilter]),void 0!==C$Tzt.mipFilter&&(this._mipFilter=C$Tzt.mipFilter,C$Tzt.mipFilter=C$Tzo[C$Tzt.mipFilter]),void 0!==C$Tzt.wrapS&&(this._wrapS=C$Tzt.wrapS),void 0!==C$Tzt.wrapT&&(this._wrapT=C$Tzt.wrapT),void 0!==C$Tzt.format&&(this._format=C$Tzt.format),void 0!==C$Tzt.flipY&&(this._flipY=C$Tzt.flipY,C$Tze=!0),void 0!==C$Tzt.premultiplyAlpha&&(this._premultiplyAlpha=C$Tzt.premultiplyAlpha,C$Tze=!0),void 0!==C$Tzt.genMipmaps&&(this._genMipmaps=C$Tzt.genMipmaps),C$Tze&&this._image&&(C$Tzt.image=this._image),C$Tzt.images&&0<C$Tzt.images.length?this._image=C$Tzt.images[0]:void 0!==C$Tzt.image&&(this._image=C$Tzt.image,C$Tzt.images||(C$Tzi.length=0,C$Tzt.images=C$Tzi),C$Tzt.images.push(C$Tzt.image)),this._texture&&this._texture.update(C$Tzt),this._hashDirty=!0);},initWithElement:function(C$Tzt){var C$Tze;C$Tzt&&((this._image=C$Tzt).complete||C$Tzt instanceof HTMLCanvasElement?this.handleLoadedTexture():(C$Tze=this,C$Tzt.addEventListener(H[514],function(){C$Tze.handleLoadedTexture();}),C$Tzt.addEventListener(H[754],function(C$Tzt){cc.warnID(3119,C$Tzt.message);})));},initWithData:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tza();return C$Tzr.image=C$Tzt,C$Tzr.images=[C$Tzr.image],C$Tzr.genMipmaps=this._genMipmaps,C$Tzr.premultiplyAlpha=this._premultiplyAlpha,C$Tzr.flipY=this._flipY,C$Tzr.minFilter=C$Tzo[this._minFilter],C$Tzr.magFilter=C$Tzo[this._magFilter],C$Tzr.wrapS=this._wrapS,C$Tzr.wrapT=this._wrapT,C$Tzr.format=this._getGFXPixelFormat(C$Tze),C$Tzr.width=C$Tzi,C$Tzr.height=C$Tzn,this._texture?this._texture.update(C$Tzr):this._texture=new C$Tzs.Texture2D(C$Tzs.device,C$Tzr),this.width=C$Tzi,this.height=C$Tzn,this._checkPackable(),this.loaded=!0,this.emit(H[514]),!0;},getHtmlElementObj:function(){return this._image;},destroy:function(){this._packable&&cc.dynamicAtlasManager&&cc.dynamicAtlasManager.deleteAtlasTexture(this),this._image=null,this._texture&&this._texture.destroy(),this._super();},getPixelFormat:function(){return this._format;},hasPremultipliedAlpha:function(){return this._premultiplyAlpha||!1;},handleLoadedTexture:function(){var C$Tzt;this._image&&this._image.width&&this._image.height&&(this.width=this._image.width,this.height=this._image.height,(C$Tzt=C$Tza()).image=this._image,C$Tzt.images=[C$Tzt.image],C$Tzt.width=this.width,C$Tzt.height=this.height,C$Tzt.genMipmaps=this._genMipmaps,C$Tzt.format=this._getGFXPixelFormat(this._format),C$Tzt.premultiplyAlpha=this._premultiplyAlpha,C$Tzt.flipY=this._flipY,C$Tzt.minFilter=C$Tzo[this._minFilter],C$Tzt.magFilter=C$Tzo[this._magFilter],C$Tzt.wrapS=this._wrapS,C$Tzt.wrapT=this._wrapT,this._texture?this._texture.update(C$Tzt):this._texture=new C$Tzs.Texture2D(C$Tzs.device,C$Tzt),this._checkPackable(),this.loaded=!0,this.emit(H[514]),cc.macro.CLEANUP_IMAGE_CACHE&&this._image instanceof HTMLImageElement&&this._clearImage());},description:function(){return H[755]+this.url+H[756]+this.width+H[757]+this.height+">";},releaseTexture:function(){this._image=null,this._texture&&this._texture.destroy();},setWrapMode:function(C$Tzt,C$Tze){var C$Tzi;this._wrapS===C$Tzt&&this._wrapT===C$Tze||((C$Tzi=C$Tza()).wrapS=C$Tzt,C$Tzi.wrapT=C$Tze,this.update(C$Tzi));},setFilters:function(C$Tzt,C$Tze){var C$Tzi;this._minFilter===C$Tzt&&this._magFilter===C$Tze||((C$Tzi=C$Tza()).minFilter=C$Tzt,C$Tzi.magFilter=C$Tze,this.update(C$Tzi));},setFlipY:function(C$Tzt){var C$Tze;this._flipY!==C$Tzt&&((C$Tze=C$Tza()).flipY=C$Tzt,this.update(C$Tze));},setPremultiplyAlpha:function(C$Tzt){var C$Tze;this._premultiplyAlpha!==C$Tzt&&((C$Tze=C$Tza()).premultiplyAlpha=C$Tzt,this.update(C$Tze));},_checkPackable:function(){var C$Tzt,C$Tze,C$Tzi=cc.dynamicAtlasManager;C$Tzi&&(this._isCompressed()?this._packable=!1:(C$Tzt=this.width,C$Tze=this.height,!this._image||C$Tzt>C$Tzi.maxFrameSize||C$Tze>C$Tzi.maxFrameSize||this._getHash()!==C$Tzi.Atlas.DEFAULT_HASH?this._packable=!1:this._image&&this._image instanceof HTMLCanvasElement&&(this._packable=!0)));},_getOpts:function(){var C$Tzt=C$Tza();return C$Tzt.width=this.width,C$Tzt.height=this.height,C$Tzt.genMipmaps=this._genMipmaps,C$Tzt.format=this._format,C$Tzt.premultiplyAlpha=this._premultiplyAlpha,C$Tzt.anisotropy=this._anisotropy,C$Tzt.flipY=this._flipY,C$Tzt.minFilter=C$Tzo[this._minFilter],C$Tzt.magFilter=C$Tzo[this._magFilter],C$Tzt.mipFilter=C$Tzo[this._mipFilter],C$Tzt.wrapS=this._wrapS,C$Tzt.wrapT=this._wrapT,C$Tzt;},_getGFXPixelFormat:function(C$Tzt){return C$Tzt===C$Tzf.RGBA_ETC1?C$Tzt=C$Tzf.RGB_ETC1:C$Tzt===C$Tzf.RGB_A_PVRTC_4BPPV1?C$Tzt=C$Tzf.RGB_PVRTC_4BPPV1:C$Tzt===C$Tzf.RGB_A_PVRTC_2BPPV1&&(C$Tzt=C$Tzf.RGB_PVRTC_2BPPV1),C$Tzt;},_resetUnderlyingMipmaps:function(C$Tzt){var C$Tze=this._getOpts();C$Tze.images=C$Tzt||[null],this._texture?this._texture.update(C$Tze):this._texture=new C$Tzs.Texture2D(C$Tzs.device,C$Tze);},_serialize:!1,_deserialize:function(C$Tzt,C$Tzh){var C$Tze=cc.renderer.device,C$Tzt=C$Tzt.split(","),C$Tzi=C$Tzt[0];if(C$Tzi){for(var C$Tzn=C$Tzi.split("_"),C$Tzr="",C$Tzs="",C$Tzu=999,C$Tz_=this._format,C$Tzd=cc.macro.SUPPORT_TEXTURE_FORMATS,C$Tzo=0;C$Tzo<C$Tzn.length;C$Tzo++){var C$Tza=C$Tzn[C$Tzo].split("@"),C$Tzc=C$Tza[0],C$Tzc=C$Tzp.extnames[C$Tzc.charCodeAt(0)-48]||C$Tzc,C$Tzl=C$Tzd.indexOf(C$Tzc);-1!==C$Tzl&&C$Tzl<C$Tzu?(C$Tza=C$Tza[1]?parseInt(C$Tza[1]):this._format,(H[752]!==C$Tzc||C$Tze.ext(H[758]))&&(C$Tza!==C$Tzf.RGB_ETC1&&C$Tza!==C$Tzf.RGBA_ETC1||C$Tze.ext(H[759]))&&(C$Tza!==C$Tzf.RGB_ETC2&&C$Tza!==C$Tzf.RGBA_ETC2||C$Tze.ext(H[760]))&&(H[751]===C$Tzc&&!cc.sys.capabilities.webp||(C$Tzu=C$Tzl,C$Tzs=C$Tzc,C$Tz_=C$Tza))):C$Tzr=C$Tzr||C$Tzc;}C$Tzs?(this._setRawAsset(C$Tzs),this._format=C$Tz_):(this._setRawAsset(C$Tzr),cc.warnID(3120,C$Tzh.customEnv.url,C$Tzr,C$Tzr));}8===C$Tzt.length&&(this._minFilter=parseInt(C$Tzt[1]),this._magFilter=parseInt(C$Tzt[2]),this._wrapS=parseInt(C$Tzt[3]),this._wrapT=parseInt(C$Tzt[4]),this._premultiplyAlpha=49===C$Tzt[5].charCodeAt(0),this._genMipmaps=49===C$Tzt[6].charCodeAt(0),this._packable=49===C$Tzt[7].charCodeAt(0));},_getHash:function(){if(!this._hashDirty)return this._hash;var C$Tzt=this._genMipmaps?1:0,C$Tze=this._premultiplyAlpha?1:0,C$Tzi=this._flipY?1:0,C$Tzn=this._minFilter===C$Tzl.LINEAR?1:2,C$Tzr=this._magFilter===C$Tzl.LINEAR?1:2,C$Tzs=this._wrapS===C$Tzc.REPEAT?1:this._wrapS===C$Tzc.CLAMP_TO_EDGE?2:3,C$Tzo=this._wrapT===C$Tzc.REPEAT?1:this._wrapT===C$Tzc.CLAMP_TO_EDGE?2:3,C$Tza=this._format;this._image;return this._hash=Number(""+C$Tzn+C$Tzr+C$Tza+C$Tzs+C$Tzo+C$Tzt+C$Tze+C$Tzi),this._hashDirty=!1,this._hash;},_isCompressed:function(){return this._format<C$Tzf.A8||this._format>C$Tzf.RGBA32F;},_clearImage:function(){cc.loader.removeItem(this._image.id||this._image.src),this._image.src="";}});cc.Texture2D=C$Tzr.exports=C$Tzp;},{"../../renderer/gfx":312,"../assets/CCAsset":34,"../event/event-target":115,"../platform/CCClass":189,"../platform/id-generater":205,"../renderer":220}],51:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[705]),C$Tzt(H[707]),C$Tzt(H[739]),C$Tzt(H[761]),C$Tzt(H[762]),C$Tzt(H[763]),C$Tzt(H[764]),C$Tzt(H[765]),C$Tzt(H[727]),C$Tzt(H[766]),C$Tzt(H[767]),C$Tzt(H[768]),C$Tzt(H[769]),C$Tzt(H[770]),C$Tzt(H[771]),C$Tzt(H[772]),C$Tzt(H[773]),C$Tzt(H[774]);},{"./CCAsset":34,"./CCAudioClip":35,"./CCBitmapFont":36,"./CCBufferAsset":37,"./CCFont":38,"./CCJsonAsset":39,"./CCLabelAtlas":40,"./CCPrefab":41,"./CCRawAsset":42,"./CCRenderTexture":43,"./CCSceneAsset":44,"./CCScripts":45,"./CCSpriteAtlas":46,"./CCSpriteFrame":47,"./CCTTFFont":48,"./CCTextAsset":49,"./CCTexture2D":50,"./material":58}],52:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=(C$Tzn=C$Tzt(H[775]))&&C$Tzn.__esModule?C$Tzn:{default:C$Tzn},C$Tzr=C$Tzt(H[776]);C$Tzt=cc.Class({name:H[777],extends:C$Tzn.default,ctor:function(){this._effect=null;},properties:{properties:Object,techniques:[],shaders:[]},onLoad:function(){if(cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS){for(var C$Tzt=cc.renderer._forward._programLib,C$Tze=0;C$Tze<this.shaders.length;C$Tze++)C$Tzt.define(this.shaders[C$Tze]);this._initEffect();}},_initEffect:function(){this._effect||(this._effect=(0,C$Tzr.parseEffect)(this),Object.freeze(this._effect));},getInstantiatedEffect:function(){return this._initEffect(),this._effect.clone();},getEffect:function(){return this._initEffect(),this._effect;}});C$Tze.exports=cc.EffectAsset=C$Tzt;},{"../CCAsset":34,"./effect-parser":55}],53:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=C$Tzt(H[775]),C$Tza=C$Tzt(H[778]),C$Tzc=C$Tza.PixelFormat,C$Tzr=C$Tzt(H[779]),C$Tzl=C$Tzt(H[780]),C$Tzh=cc.gfx,C$Tzt=cc.Enum({SPRITE:H[781],GRAY_SPRITE:H[782],UNLIT:H[783]}),C$Tzs=cc.Class({name:H[784],extends:C$Tzn,ctor:function(){this._manualHash=!1,this._dirty=!0,this._effect=null;},properties:{_defines:{default:void 0,type:Object},_props:{default:void 0,type:Object},_effectAsset:{type:C$Tzr,default:null},_techniqueIndex:0,_techniqueData:Object,effectName:void 0,effectAsset:{get:function(){return this._effectAsset;},set:function(C$Tzt){cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS&&((this._effectAsset=C$Tzt)?this._effect=this._effectAsset.getInstantiatedEffect():cc.error(H[785]));}},effect:{get:function(){return this._effect;}},techniqueIndex:{get:function(){return this._techniqueIndex;},set:function(C$Tzt){this._techniqueIndex=C$Tzt,this._effect.switchTechnique(C$Tzt);}}},statics:{getBuiltinMaterial:function(C$Tzt){return cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?new cc.Material():cc.AssetLibrary.getBuiltin(H[786],H[787]+C$Tzt);},BUILTIN_NAME:C$Tzt,createWithBuiltin:function(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=0);C$Tzt=cc.AssetLibrary.getBuiltin(H[788],H[787]+C$Tzt);return C$Tzs.create(C$Tzt,C$Tze);},create:function(C$Tzt,C$Tze){if(void 0===C$Tze&&(C$Tze=0),!C$Tzt)return null;var C$Tzi=new C$Tzs();return C$Tzi.effectAsset=C$Tzt,C$Tzi.techniqueIndex=C$Tze,C$Tzi;}},setProperty:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){if(cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS){if(H[462]==typeof C$Tzi&&(C$Tzi=parseInt(C$Tzi)),C$Tze instanceof C$Tza){var C$Tzr=C$Tze.getPixelFormat(),C$Tzr=C$Tzr===C$Tzc.RGBA_ETC1||C$Tzr===C$Tzc.RGB_A_PVRTC_4BPPV1||C$Tzr===C$Tzc.RGB_A_PVRTC_2BPPV1,C$Tzs=H[789]+C$Tzt,C$Tzo=this.getDefine(C$Tzs,C$Tzi);if((C$Tzr||C$Tzo)&&this.define(C$Tzs,C$Tzr),!C$Tze.loaded)return C$Tze.once(H[514],function(){this._effect.setProperty(C$Tzt,C$Tze,C$Tzi);},this),void C$Tzl.postLoadTexture(C$Tze);}this._effect.setProperty(C$Tzt,C$Tze,C$Tzi,C$Tzn);}},getProperty:function(C$Tzt,C$Tze){return H[462]==typeof C$Tze&&(C$Tze=parseInt(C$Tze)),this._effect.getProperty(C$Tzt,C$Tze);},define:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS&&(H[462]==typeof C$Tzi&&(C$Tzi=parseInt(C$Tzi)),this._effect.define(C$Tzt,C$Tze,C$Tzi,C$Tzn));},getDefine:function(C$Tzt,C$Tze){return H[462]==typeof C$Tze&&(C$Tze=parseInt(C$Tze)),this._effect.getDefine(C$Tzt,C$Tze);},setCullMode:function(C$Tzt,C$Tze){void 0===C$Tzt&&(C$Tzt=C$Tzh.CULL_BACK),this._effect.setCullMode(C$Tzt,C$Tze);},setDepth:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){void 0===C$Tzi&&(C$Tzi=C$Tzh.DS_FUNC_LESS),this._effect.setDepth(C$Tzt=void 0===C$Tzt?!1:C$Tzt,C$Tze=void 0===C$Tze?!1:C$Tze,C$Tzi,C$Tzn);},setBlend:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc){void 0===C$Tze&&(C$Tze=C$Tzh.BLEND_FUNC_ADD),void 0===C$Tzi&&(C$Tzi=C$Tzh.BLEND_SRC_ALPHA),void 0===C$Tzn&&(C$Tzn=C$Tzh.BLEND_ONE_MINUS_SRC_ALPHA),void 0===C$Tzr&&(C$Tzr=C$Tzh.BLEND_FUNC_ADD),void 0===C$Tzs&&(C$Tzs=C$Tzh.BLEND_SRC_ALPHA),void 0===C$Tzo&&(C$Tzo=C$Tzh.BLEND_ONE_MINUS_SRC_ALPHA),this._effect.setBlend(C$Tzt=void 0===C$Tzt?!1:C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza=void 0===C$Tza?4294967295:C$Tza,C$Tzc);},setStencilEnabled:function(C$Tzt,C$Tze){void 0===C$Tzt&&(C$Tzt=C$Tzh.STENCIL_INHERIT),this._effect.setStencilEnabled(C$Tzt,C$Tze);},setStencil:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc){void 0===C$Tzt&&(C$Tzt=C$Tzh.STENCIL_INHERIT),void 0===C$Tze&&(C$Tze=C$Tzh.DS_FUNC_ALWAYS),void 0===C$Tzr&&(C$Tzr=C$Tzh.STENCIL_OP_KEEP),void 0===C$Tzs&&(C$Tzs=C$Tzh.STENCIL_OP_KEEP),void 0===C$Tzo&&(C$Tzo=C$Tzh.STENCIL_OP_KEEP),this._effect.setStencil(C$Tzt,C$Tze,C$Tzi=void 0===C$Tzi?0:C$Tzi,C$Tzn=void 0===C$Tzn?255:C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza=void 0===C$Tza?255:C$Tza,C$Tzc);},updateHash:function(C$Tzt){this._manualHash=C$Tzt,this._effect&&this._effect.updateHash(C$Tzt);},getHash:function(){return this._manualHash||this._effect&&this._effect.getHash();},onLoad:function(){if(this.effectAsset=this._effectAsset,this._effect){this._techniqueIndex&&this._effect.switchTechnique(this._techniqueIndex),this._techniqueData=this._techniqueData||{};var C$Tzt=this._techniqueData;for(C$Tze in C$Tzt){var C$Tze,C$Tzi=C$Tzt[C$Tze=parseInt(C$Tze)];if(C$Tzi){for(var C$Tzn in C$Tzi.defines)this.define(C$Tzn,C$Tzi.defines[C$Tzn],C$Tze);for(var C$Tzr in C$Tzi.props)this.setProperty(C$Tzr,C$Tzi.props[C$Tzr],C$Tze);}}}}});C$Tzi.default=C$Tzs,cc.Material=C$Tzs,C$Tze.exports=C$Tzi.default;},{"../../utils/texture-util":272,"../CCAsset":34,"../CCTexture2D":50,"./CCEffectAsset":52}],54:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzs=(C$Tzt=C$Tzt(H[790]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzn(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}var C$Tzr,C$Tzo=cc.gfx,C$Tza=((C$Tzt=C$Tzc.prototype)._createPassProp=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn=C$Tze._properties[C$Tzt];if(C$Tzn)return C$Tzi=Object.create(null),C$Tzi.name=C$Tzt,C$Tzi.type=C$Tzn.type,C$Tzn.value instanceof Float32Array?C$Tzi.value=new Float32Array(C$Tzn.value):C$Tzi.value=C$Tzn.value,C$Tze._properties[C$Tzt]=C$Tzi;},C$Tzt._setPassProperty=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tzi._properties.hasOwnProperty(C$Tzt);if(C$Tzr){if(C$Tzr.value===C$Tze)return;}else C$Tzr=this._createPassProp(C$Tzt,C$Tzi);return this._dirty=!0,C$Tzs.default.prototype.setProperty.call(C$Tzi,C$Tzt,C$Tze,C$Tzn);},C$Tzt.setProperty=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=!1,C$Tzs=this.passes,C$Tzo=0,C$Tza=C$Tzs.length;void 0!==C$Tzi&&(C$Tza=(C$Tzo=C$Tzi)+1);for(var C$Tzc=C$Tzo;C$Tzc<C$Tza;C$Tzc++)this._setPassProperty(C$Tzt,C$Tze,C$Tzs[C$Tzc],C$Tzn)&&(C$Tzr=!0);C$Tzr||cc.warnID(9103,this.name,C$Tzt);},C$Tzt.getProperty=function(C$Tzt,C$Tze){var C$Tzi=this.passes;if(!(C$Tze>=C$Tzi.length)){var C$Tzn=0,C$Tzr=C$Tzi.length;void 0!==C$Tze&&(C$Tzr=(C$Tzn=C$Tze)+1);for(var C$Tzs=C$Tzn;C$Tzs<C$Tzr;C$Tzs++){var C$Tzo=C$Tzi[C$Tzs].getProperty(C$Tzt);if(void 0!==C$Tzo)return C$Tzo;}}},C$Tzt.define=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=!1,C$Tzs=this.passes,C$Tzo=0,C$Tza=C$Tzs.length;void 0!==C$Tzi&&(C$Tza=(C$Tzo=C$Tzi)+1);for(var C$Tzc=C$Tzo;C$Tzc<C$Tza;C$Tzc++)C$Tzs[C$Tzc].define(C$Tzt,C$Tze,C$Tzn)&&(C$Tzr=!0);C$Tzr||cc.warnID(9104,this.name,C$Tzt);},C$Tzt.getDefine=function(C$Tzt,C$Tze){var C$Tzi=this.passes;if(!(C$Tze>=C$Tzi.length)){var C$Tzn=0,C$Tzr=C$Tzi.length;void 0!==C$Tze&&(C$Tzr=(C$Tzn=C$Tze)+1);for(var C$Tzs=C$Tzn;C$Tzs<C$Tzr;C$Tzs++){var C$Tzo=C$Tzi[C$Tzs].getDefine(C$Tzt);if(void 0!==C$Tzo)return C$Tzo;}}},C$Tzt.setCullMode=function(C$Tzt,C$Tze){void 0===C$Tzt&&(C$Tzt=C$Tzo.CULL_BACK);var C$Tzi=this.passes,C$Tzn=0,C$Tzr=C$Tzi.length;void 0!==C$Tze&&(C$Tzr=(C$Tzn=C$Tze)+1);for(var C$Tzs=C$Tzn;C$Tzs<C$Tzr;C$Tzs++)C$Tzi[C$Tzs].setCullMode(C$Tzt);this._dirty=!0;},C$Tzt.setDepth=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=this.passes,C$Tzs=0,C$Tzo=C$Tzr.length;void 0!==C$Tzn&&(C$Tzo=(C$Tzs=C$Tzn)+1);for(var C$Tza=C$Tzs;C$Tza<C$Tzo;C$Tza++)C$Tzr[C$Tza].setDepth(C$Tzt,C$Tze,C$Tzi);this._dirty=!0;},C$Tzt.setBlend=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzh,C$Tzu,C$Tz_,C$Tzs){var C$Tzo=this.passes,C$Tza=0,C$Tzc=C$Tzo.length;void 0!==C$Tzs&&(C$Tzc=(C$Tza=C$Tzs)+1);for(var C$Tzl=C$Tza;C$Tzl<C$Tzc;C$Tzl++)C$Tzo[C$Tzl].setBlend(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzh,C$Tzu,C$Tz_);this._dirty=!0;},C$Tzt.setStencilEnabled=function(C$Tzt,C$Tze){void 0===C$Tzt&&(C$Tzt=C$Tzo.STENCIL_INHERIT);var C$Tzi=this.passes,C$Tzn=0,C$Tzr=C$Tzi.length;void 0!==C$Tze&&(C$Tzr=(C$Tzn=C$Tze)+1);for(var C$Tzs=C$Tzn;C$Tzs<C$Tzr;C$Tzs++)C$Tzi[C$Tzs].setStencilEnabled(C$Tzt);this._dirty=!0;},C$Tzt.setStencil=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc){var C$Tzh=this.passes,C$Tzu=0,C$Tz_=C$Tzh.length;void 0!==C$Tzc&&(C$Tz_=(C$Tzu=C$Tzc)+1);for(var C$Tzl=C$Tzu;C$Tzl<C$Tz_;C$Tzl++){var C$Tzd=C$Tzh[C$Tzl];C$Tzd.setStencilFront(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza),C$Tzd.setStencilBack(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza);}this._dirty=!0;},C$Tzt=C$Tzc,(C$Tza=[{key:H[488],get:function(){return this._name;}},{key:H[792],get:function(){return this._technique;}},{key:H[793],get:function(){return[];}}])&&C$Tzn(C$Tzt.prototype,C$Tza),C$Tzr&&C$Tzn(C$Tzt,C$Tzr),C$Tzc);function C$Tzc(){this._dirty=!0,this._name="",this._technique=null;}C$Tzi.default=C$Tza,cc.EffectBase=C$Tza,C$Tze.exports=C$Tzi.default;},{"../../../renderer/core/pass":303}],55:[function(C$Tzt,C$Tzr,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.parseEffect=function(C$Tzt){var C$Tze=function(C$Tzt){for(var C$Tze=C$Tzt.techniques.length,C$Tzi=new Array(C$Tze),C$Tzn=0;C$Tzn<C$Tze;++C$Tzn){for(var C$Tzr=C$Tzt.techniques[C$Tzn],C$Tzh=C$Tzr.name||C$Tzn,C$Tzu=C$Tzr.passes.length,C$Tz_=new Array(C$Tzu),C$Tzs=0;C$Tzs<C$Tzu;++C$Tzs){var C$Tzo=C$Tzr.passes[C$Tzs],C$Tza=C$Tzo.name||C$Tzs,C$Tzc=C$Tzt.name+"-"+C$Tzh+"-"+C$Tza,C$Tzl=C$Tzo.stage||H[794],C$Tzd=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn=C$Tze.properties||{},C$Tzr=C$Tzv(C$Tze.program);for(C$Tzi in C$Tzn)(function(C$Tze){if(!C$Tzr.uniforms.find(function(C$Tzt){return C$Tzt.name===C$Tze;}))cc.warnID(9107,C$Tzt.name,C$Tze);})(C$Tzi);var C$Tzs={};return C$Tzr.uniforms.forEach(function(C$Tzt){var C$Tze=C$Tzt.name,C$Tzi=C$Tzs[C$Tze]=Object.assign({},C$Tzt),C$Tze=C$Tzn[C$Tze],C$Tze=(C$Tzm.enums2default[C$Tzt.type],C$Tze?C$Tze.type===C$Tzy.default.PARAM_TEXTURE_2D?null:C$Tze.type===C$Tzy.default.PARAM_INT||C$Tze.type===C$Tzy.default.PARAM_FLOAT?Array.isArray(C$Tze.value)?C$Tze.value[0]:C$Tze.value:new Float32Array(C$Tze.value):C$Tzm.enums2default[C$Tzt.type]);C$Tzi.value=C$Tze;}),C$Tzs;}(C$Tzt,C$Tzo),C$Tzf=function(C$Tzt){var C$Tze={};return C$Tzv(C$Tzt.program).defines.forEach(function(C$Tzt){C$Tze[C$Tzt.name]=C$Tzm.enums2default[C$Tzt.type];}),C$Tze;}(C$Tzo),C$Tza=C$Tz_[C$Tzs]=new C$Tzp.default(C$Tza,C$Tzc,C$Tzo.program,C$Tzl,C$Tzd,C$Tzf),C$Tzc=(C$Tzo.rasterizerState&&C$Tza.setCullMode(C$Tzo.rasterizerState.cullMode),C$Tzo.blendState&&C$Tzo.blendState.targets[0]),C$Tzl=(C$Tzc&&C$Tza.setBlend(C$Tzc.blend,C$Tzc.blendEq,C$Tzc.blendSrc,C$Tzc.blendDst,C$Tzc.blendAlphaEq,C$Tzc.blendSrcAlpha,C$Tzc.blendDstAlpha,C$Tzc.blendColor),C$Tzo.depthStencilState);C$Tzl&&(C$Tza.setDepth(C$Tzl.depthTest,C$Tzl.depthWrite,C$Tzl.depthFunc),C$Tza.setStencilFront(C$Tzl.stencilTest,C$Tzl.stencilFuncFront,C$Tzl.stencilRefFront,C$Tzl.stencilMaskFront,C$Tzl.stencilFailOpFront,C$Tzl.stencilZFailOpFront,C$Tzl.stencilZPassOpFront,C$Tzl.stencilWriteMaskFront),C$Tza.setStencilBack(C$Tzl.stencilTest,C$Tzl.stencilFuncBack,C$Tzl.stencilRefBack,C$Tzl.stencilMaskBack,C$Tzl.stencilFailOpBack,C$Tzl.stencilZFailOpBack,C$Tzl.stencilZPassOpBack,C$Tzl.stencilWriteMaskBack));}C$Tzi[C$Tzn]=new C$Tzg.default(C$Tzh,C$Tz_);}return C$Tzi;}(C$Tzt);return new C$Tzi.default(C$Tzt.name,C$Tze,0,C$Tzt);};var C$Tzp=C$Tzn(C$Tzt(H[790])),C$Tzm=C$Tzt(H[795]),C$Tzy=C$Tzn(C$Tzt(H[796])),C$Tzi=C$Tzn(C$Tzt(H[797])),C$Tzg=C$Tzn(C$Tzt(H[798]));function C$Tzn(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzv(C$Tzt){return cc.renderer._forward._programLib.getTemplate(C$Tzt);}},{"../../../renderer/core/pass":303,"../../../renderer/core/technique":305,"../../../renderer/enums":307,"../../../renderer/types":335,"./effect":57}],56:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzr=C$Tzn(C$Tzt(H[799])),C$Tzs=C$Tzn(C$Tzt(H[800])),C$Tzt=C$Tzn(C$Tzt(H[801]));function C$Tzn(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tza(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}function C$Tzc(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzo(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzo(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzo(C$Tzt){return(C$Tzo=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}cc.gfx;C$Tzt=function(C$Tzi){var C$Tzt,C$Tze;C$Tzn=C$Tzi,(C$Tzt=C$Tzo).prototype=Object.create(C$Tzn.prototype),(C$Tzt.prototype.constructor=C$Tzt).__proto__=C$Tzn,C$Tzc(C$Tzo);function C$Tzo(C$Tzt){var C$Tze=C$Tzi.call(this)||this;return C$Tze._effect=void 0,C$Tze._passes=[],C$Tze._stagePasses={},C$Tze._hash=0,C$Tze.init(C$Tzt),C$Tze;}C$Tzt=C$Tzo,(C$Tzn=[{key:H[788],get:function(){return this._effect;}},{key:H[488],get:function(){return this._effect&&this._effect.name+H[804];}},{key:H[793],get:function(){return this._passes;}},{key:H[805],get:function(){return this._stagePasses;}}])&&C$Tza(C$Tzt.prototype,C$Tzn),C$Tze&&C$Tza(C$Tzt,C$Tze);var C$Tzn=C$Tzo.prototype;return C$Tzn._onEffectChanged=function(){},C$Tzn.init=function(C$Tzt){if(C$Tzt instanceof C$Tzo&&(C$Tzt=C$Tzt.effect),this._effect=C$Tzt,this._dirty=!0,C$Tzt)for(var C$Tze=C$Tzt.passes,C$Tzi=this._passes,C$Tzn=(C$Tzi.length=0,this._stagePasses={}),C$Tzr=0;C$Tzr<C$Tze.length;C$Tzr++){var C$Tzs=C$Tzi[C$Tzr]=Object.setPrototypeOf({},C$Tze[C$Tzr]);C$Tzs._properties=Object.setPrototypeOf({},C$Tze[C$Tzr]._properties),C$Tzs._defines=Object.setPrototypeOf({},C$Tze[C$Tzr]._defines),C$Tzn[C$Tzs._stage]||(C$Tzn[C$Tzs._stage]=[]),C$Tzn[C$Tzs._stage].push(C$Tzs);}},C$Tzn.updateHash=function(C$Tzt){},C$Tzn.getHash=function(){if(!this._dirty)return this._hash;this._dirty=!1;var C$Tzt="",C$Tze=(C$Tzt+=C$Tzs.default.serializePasses(this._passes),this._effect);return C$Tze&&(C$Tzt+=C$Tzs.default.serializePasses(C$Tze.passes)),this._hash=(0,C$Tzr.default)(C$Tzt,666),this.updateHash(this._hash),this._hash;},C$Tzo;}(C$Tzt.default);C$Tzi.default=C$Tzt,cc.EffectVariant=C$Tzt,C$Tze.exports=C$Tzi.default;},{"../../../renderer/murmurhash2_gc":330,"./effect-base":54,"./utils":61}],57:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzr(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}function C$Tzo(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzn(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzn(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzn(C$Tzt){return(C$Tzn=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}C$Tzi.__esModule=!0,C$Tzi.default=void 0;C$Tzt=function(C$Tzs){var C$Tzt,C$Tze;C$Tzi=C$Tzs,(C$Tzt=C$Tzn).prototype=Object.create(C$Tzi.prototype),(C$Tzt.prototype.constructor=C$Tzt).__proto__=C$Tzi,C$Tzo(C$Tzn);function C$Tzn(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tzs.call(this)||this;return C$Tzr._techniques=[],C$Tzr._asset=null,C$Tzr.init(C$Tzt,C$Tze,C$Tzi,C$Tzn,!0),C$Tzr;}C$Tzt=C$Tzn,(C$Tzi=[{key:H[792],get:function(){return this._technique;}},{key:H[793],get:function(){return this._technique.passes;}}])&&C$Tzr(C$Tzt.prototype,C$Tzi),C$Tze&&C$Tzr(C$Tzt,C$Tze);var C$Tzi=C$Tzn.prototype;return C$Tzi.init=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){this._name=C$Tzt,this._techniques=C$Tze,this._technique=C$Tze[C$Tzi],this._asset=C$Tzn;},C$Tzi.switchTechnique=function(C$Tzt){C$Tzt>=this._techniques.length?cc.warn(H[806]+C$Tzt+"]"):this._technique=this._techniques[C$Tzt];},C$Tzi.clear=function(){this._techniques=[];},C$Tzi.clone=function(){for(var C$Tzt=[],C$Tze=0;C$Tze<this._techniques.length;C$Tze++)C$Tzt.push(this._techniques[C$Tze].clone());var C$Tzi=this._techniques.indexOf(this._technique);return new C$Tzn(this._name,C$Tzt,C$Tzi,this._asset);},C$Tzn;}(((C$Tzt=C$Tzt(H[801]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt}).default);C$Tzi.default=C$Tzt,cc.Effect=C$Tzt,C$Tze.exports=C$Tzi.default;},{"./effect-base":54}],58:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[779]),C$Tzt(H[807]),C$Tzt(H[808]);},{"./CCEffectAsset":52,"./CCMaterial":53,"./material-variant":60}],59:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzr,C$Tzn,C$Tzs=C$Tzo(C$Tzt(H[800])),C$Tzt=C$Tzo(C$Tzt(H[809]));function C$Tzo(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzh(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tza(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tza(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tza(C$Tzt){return(C$Tza=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}function C$Tzc(){for(var C$Tzt,C$Tze=arguments.length,C$Tzi=new Array(C$Tze),C$Tzn=0;C$Tzn<C$Tze;C$Tzn++)C$Tzi[C$Tzn]=arguments[C$Tzn];return(C$Tzt=C$Tzr.call.apply(C$Tzr,[this].concat(C$Tzi))||this).enabled=!1,C$Tzt._pool={},C$Tzt;}C$Tzr=C$Tzt.default,C$Tzl=C$Tzr,(C$Tzn=C$Tzc).prototype=Object.create(C$Tzl.prototype),(C$Tzn.prototype.constructor=C$Tzn).__proto__=C$Tzl,C$Tzh(C$Tzc),(C$Tzn=C$Tzc.prototype).get=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn,C$Tzr=this._pool;if(C$Tzt instanceof cc.MaterialVariant){if(!C$Tzt._owner)return C$Tzt._owner=C$Tze,C$Tzt;if(C$Tzt._owner===C$Tze)return C$Tzt;C$Tzt=C$Tzt.material;}return!this.enabled||C$Tzr[C$Tzi=C$Tzt.effectAsset._uuid]&&(C$Tzn=C$Tzs.default.serializeDefines(C$Tzt._effect._defines)+C$Tzs.default.serializeTechniques(C$Tzt._effect._techniques),C$Tzn=C$Tzr[C$Tzi][C$Tzn]&&C$Tzr[C$Tzi][C$Tzn].pop()),C$Tzn?this.count--:((C$Tzn=new cc.MaterialVariant(C$Tzt))._name=C$Tzt._name+H[810],C$Tzn._uuid=C$Tzt._uuid),C$Tzn._owner=C$Tze,C$Tzn;},C$Tzn.put=function(C$Tzt){var C$Tze,C$Tzi,C$Tzn;this.enabled&&C$Tzt._owner&&((C$Tze=this._pool)[C$Tzi=C$Tzt.effectAsset._uuid]||(C$Tze[C$Tzi]={}),C$Tzn=C$Tzs.default.serializeDefines(C$Tzt._effect._defines)+C$Tzs.default.serializeTechniques(C$Tzt._effect._techniques),C$Tze[C$Tzi][C$Tzn]||(C$Tze[C$Tzi][C$Tzn]=[]),this.count>this.maxSize||(this._clean(C$Tzt),C$Tze[C$Tzi][C$Tzn].push(C$Tzt),this.count++));},C$Tzn.clear=function(){this._pool={},this.count=0;},C$Tzn._clean=function(C$Tzt){C$Tzt._owner=null;};var C$Tzl=new C$Tzc();C$Tzt.default.register(H[786],C$Tzl),C$Tzi.default=C$Tzl,C$Tze.exports=C$Tzi.default;},{"../../utils/pool":266,"./utils":61}],60:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzs=C$Tzn(C$Tzt(H[807])),C$Tzo=C$Tzn(C$Tzt(H[811])),C$Tza=C$Tzn(C$Tzt(H[812]));function C$Tzn(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzc(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}function C$Tzl(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzr(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzr(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzr(C$Tzt){return(C$Tzr=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}C$Tzt=(0,cc._decorator.ccclass)(H[813])(C$Tzt=function(C$Tzi){var C$Tzt,C$Tze,C$Tzn;C$Tze=C$Tzi,(C$Tzt=C$Tzr).prototype=Object.create(C$Tze.prototype),(C$Tzt.prototype.constructor=C$Tzt).__proto__=C$Tze,C$Tzl(C$Tzr);function C$Tzr(C$Tzt){var C$Tze=C$Tzi.call(this)||this;return C$Tze._owner=null,C$Tze._material=null,C$Tze.init(C$Tzt),C$Tze;}return C$Tzr.createWithBuiltin=function(C$Tzt,C$Tze){return C$Tzr.create(C$Tzs.default.getBuiltinMaterial(C$Tzt),C$Tze);},C$Tzr.create=function(C$Tzt,C$Tze){return C$Tzt?C$Tza.default.get(C$Tzt,C$Tze):null;},C$Tzt=C$Tzr,(C$Tze=[{key:H[607],get:function(){return this._material.uuid;}},{key:H[814],get:function(){return this._owner;}},{key:H[786],get:function(){return this._material;}}])&&C$Tzc(C$Tzt.prototype,C$Tze),C$Tzn&&C$Tzc(C$Tzt,C$Tzn),C$Tzr.prototype.init=function(C$Tzt){this._effect=new C$Tzo.default(C$Tzt.effect),this._effectAsset=C$Tzt._effectAsset,this._material=C$Tzt;},C$Tzr;}(C$Tzs.default))||C$Tzt;C$Tzi.default=C$Tzt,cc.MaterialVariant=C$Tzt,C$Tze.exports=C$Tzi.default;},{"./CCMaterial":53,"./effect-variant":56,"./material-pool":59}],61:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzs=(C$Tzt=C$Tzt(H[796]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzo(C$Tzt){var C$Tze,C$Tzi="";for(C$Tze in C$Tzt)C$Tzi+=C$Tze+C$Tzt[C$Tze];return C$Tzi;}function C$Tza(C$Tzt){var C$Tze,C$Tzi="";for(C$Tze in C$Tzt){var C$Tzn=C$Tzt[C$Tze],C$Tzr=C$Tzn.value;C$Tzr&&(C$Tzn.type===C$Tzs.default.PARAM_TEXTURE_2D||C$Tzn.type===C$Tzs.default.PARAM_TEXTURE_CUBE?C$Tzi+=C$Tzr._id+";":C$Tzi+=C$Tzr.toString()+";");}return C$Tzi;}C$Tzi.default={serializeDefines:C$Tzo,serializePasses:function(C$Tzt){for(var C$Tze,C$Tzi,C$Tzn,C$Tzr="",C$Tzs=0;C$Tzs<C$Tzt.length;C$Tzs++)C$Tzr+=(C$Tze=C$Tzt[C$Tzs],C$Tzn=C$Tzi=void 0,C$Tzn=C$Tze._programName+C$Tze._cullMode,C$Tze._blend&&(C$Tzn+=C$Tze._blendEq+C$Tze._blendAlphaEq+C$Tze._blendSrc+C$Tze._blendDst+C$Tze._blendSrcAlpha+C$Tze._blendDstAlpha+C$Tze._blendColor),C$Tze._depthTest&&(C$Tzn+=C$Tze._depthWrite+C$Tze._depthFunc),C$Tze._stencilTest&&(C$Tzn+=C$Tze._stencilFuncFront+C$Tze._stencilRefFront+C$Tze._stencilMaskFront+C$Tze._stencilFailOpFront+C$Tze._stencilZFailOpFront+C$Tze._stencilZPassOpFront+C$Tze._stencilWriteMaskFront+C$Tze._stencilFuncBack+C$Tze._stencilRefBack+C$Tze._stencilMaskBack+C$Tze._stencilFailOpBack+C$Tze._stencilZFailOpBack+C$Tze._stencilZPassOpBack+C$Tze._stencilWriteMaskBack),C$Tzi||(C$Tzn+=C$Tza(C$Tze._properties)),C$Tzn+=C$Tzo(C$Tze._defines));return C$Tzr;},serializeUniforms:C$Tza},C$Tze.exports=C$Tzi.default;},{"../../../renderer/enums":307}],62:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[815]).EventType;var C$Tzx=56,C$Tzb=7,C$Tzo=cc.Enum({ONCE:0,ON_WINDOW_RESIZE:1,ALWAYS:2});var C$TzA=cc.Vec2.ZERO,C$TzC=cc.Vec2.ONE;function C$Tza(C$Tzt,C$Tze){var C$Tzh,C$Tzu,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl,C$Tz_,C$Tzd=C$Tze._target,C$Tzf=(C$Tzd?function(C$Tzt,C$Tzh,C$Tze,C$Tzi){for(var C$Tzn=C$Tzt._parent.scaleX,C$Tzr=C$Tzt._parent.scaleY,C$Tzs=0,C$Tzo=0,C$Tza=C$Tzt._parent;;){if(C$Tzs+=C$Tza.x,C$Tzo+=C$Tza.y,!(C$Tza=C$Tza._parent))return C$Tze.x=C$Tze.y=0,C$Tzi.x=C$Tzi.y=1;if(C$Tza===C$Tzh)break;var C$Tzc=C$Tza.scaleX,C$Tzl=C$Tza.scaleY;C$Tzs*=C$Tzc,C$Tzo*=C$Tzl,C$Tzn*=C$Tzc,C$Tzr*=C$Tzl;}C$Tzi.x=0!==C$Tzn?1/C$Tzn:1,C$Tzi.y=0!==C$Tzr?1/C$Tzr:1,C$Tze.x=-C$Tzs,C$Tze.y=-C$Tzo;}(C$Tzt,C$Tzh=C$Tzd,C$Tzu=C$TzA,C$Tzi=C$TzC):C$Tzh=C$Tzt._parent,(C$Tzf=C$Tzh)instanceof cc.Scene?cc.visibleRect:C$Tzf._contentSize),C$Tzp=C$Tzh._anchorPoint,C$Tzm=C$Tzh instanceof cc.Scene,C$Tzy=C$Tzt.x,C$Tzg=C$Tzt.y,C$Tzv=C$Tzt._anchorPoint;C$Tze._alignFlags&C$Tzx&&(C$Tzr=C$Tzf.width,C$Tza=C$Tzm?(C$Tzo=cc.visibleRect.left.x,cc.visibleRect.right.x):(C$Tzo=-C$Tzp.x*C$Tzr)+C$Tzr,C$Tzo+=C$Tze._isAbsLeft?C$Tze._left:C$Tze._left*C$Tzr,C$Tza-=C$Tze._isAbsRight?C$Tze._right:C$Tze._right*C$Tzr,C$Tzd&&(C$Tzo=(C$Tzo+=C$Tzu.x)*C$Tzi.x,C$Tza=(C$Tza+=C$Tzu.x)*C$Tzi.x),C$Tzc=C$Tzv.x,(C$Tzs=C$Tzt.scaleX)<0&&(C$Tzc=1-C$Tzc,C$Tzs=-C$Tzs),C$Tzy=C$Tze.isStretchWidth?(C$Tzl=C$Tza-C$Tzo,0!==C$Tzs&&(C$Tzt.width=C$Tzl/C$Tzs),C$Tzo+C$Tzc*C$Tzl):(C$Tzl=C$Tzt.width*C$Tzs,C$Tze.isAlignHorizontalCenter?(C$Tzs=C$Tze._isAbsHorizontalCenter?C$Tze._horizontalCenter:C$Tze._horizontalCenter*C$Tzr,C$Tzr=(.5-C$Tzp.x)*C$Tzf.width,C$Tzd&&(C$Tzs*=C$Tzi.x,C$Tzr=(C$Tzr+=C$Tzu.x)*C$Tzi.x),C$Tzr+(C$Tzc-.5)*C$Tzl+C$Tzs):C$Tze.isAlignLeft?C$Tzo+C$Tzc*C$Tzl:C$Tza+(C$Tzc-1)*C$Tzl)),C$Tze._alignFlags&C$Tzb&&(C$Tzr=C$Tzf.height,C$Tzs=C$Tzm?(C$Tzn=cc.visibleRect.bottom.y,cc.visibleRect.top.y):(C$Tzn=-C$Tzp.y*C$Tzr)+C$Tzr,C$Tzn+=C$Tze._isAbsBottom?C$Tze._bottom:C$Tze._bottom*C$Tzr,C$Tzs-=C$Tze._isAbsTop?C$Tze._top:C$Tze._top*C$Tzr,C$Tzd&&(C$Tzn=(C$Tzn+=C$Tzu.y)*C$Tzi.y,C$Tzs=(C$Tzs+=C$Tzu.y)*C$Tzi.y),C$Tzo=C$Tzv.y,(C$Tza=C$Tzt.scaleY)<0&&(C$Tzo=1-C$Tzo,C$Tza=-C$Tza),C$Tzg=C$Tze.isStretchHeight?(C$Tz_=C$Tzs-C$Tzn,0!==C$Tza&&(C$Tzt.height=C$Tz_/C$Tza),C$Tzn+C$Tzo*C$Tz_):(C$Tz_=C$Tzt.height*C$Tza,C$Tze.isAlignVerticalCenter?(C$Tzc=C$Tze._isAbsVerticalCenter?C$Tze._verticalCenter:C$Tze._verticalCenter*C$Tzr,C$Tzl=(.5-C$Tzp.y)*C$Tzf.height,C$Tzd&&(C$Tzc*=C$Tzi.y,C$Tzl=(C$Tzl+=C$Tzu.y)*C$Tzi.y),C$Tzl+(C$Tzo-.5)*C$Tz_+C$Tzc):C$Tze.isAlignBottom?C$Tzn+C$Tzo*C$Tz_:C$Tzs+(C$Tzo-1)*C$Tz_)),C$Tzt.setPosition(C$Tzy,C$Tzg);}function C$Tzr(){var C$Tzt=cc.director.getScene();if(C$Tzt){if(C$Tzn.isAligning=!0,C$Tzn._nodesOrderDirty)C$Tzc.length=0,function C$Tzt(C$Tze){for(var C$Tzi=C$Tze._widget,C$Tzn=(C$Tzi&&(C$Tza(C$Tze,C$Tzi),C$Tzi.alignMode!==C$Tzo.ALWAYS?C$Tzi.enabled=!1:C$Tzc.push(C$Tzi)),C$Tze._children),C$Tzr=0;C$Tzr<C$Tzn.length;C$Tzr++){var C$Tzs=C$Tzn[C$Tzr];C$Tzs._active&&C$Tzt(C$Tzs);}}(C$Tzt),C$Tzn._nodesOrderDirty=!1;else{var C$Tze,C$Tzi=C$Tzn._activeWidgetsIterator;for(C$Tzi.i=0;C$Tzi.i<C$Tzc.length;++C$Tzi.i)C$Tza((C$Tze=C$Tzc[C$Tzi.i]).node,C$Tze);}C$Tzn.isAligning=!1;}}var C$Tzc=[];var C$Tzn=cc._widgetManager=C$Tze.exports={_AlignFlags:{TOP:1,MID:2,BOT:4,LEFT:8,CENTER:16,RIGHT:32},isAligning:!1,_nodesOrderDirty:!1,_activeWidgetsIterator:new cc.js.array.MutableForwardIterator(C$Tzc),init:function(C$Tzt){C$Tzt.on(cc.Director.EVENT_AFTER_UPDATE,C$Tzr);C$Tzt=this.onResized.bind(this);window.addEventListener(H[816],C$Tzt),window.addEventListener(H[817],C$Tzt);},add:function(C$Tzt){C$Tzt.node._widget=C$Tzt,this._nodesOrderDirty=!0;},remove:function(C$Tzt){C$Tzt.node._widget=null,this._activeWidgetsIterator.remove(C$Tzt);},onResized:function(){var C$Tzt=cc.director.getScene();C$Tzt&&this.refreshWidgetOnResized(C$Tzt);},refreshWidgetOnResized:function(C$Tzt){for(var C$Tze=cc.Node.isNode(C$Tzt)&&C$Tzt.getComponent(cc.Widget),C$Tzi=(C$Tze&&C$Tze.alignMode===C$Tzo.ON_WINDOW_RESIZE&&(C$Tze.enabled=!0),C$Tzt._children),C$Tzn=0;C$Tzn<C$Tzi.length;C$Tzn++){var C$Tzr=C$Tzi[C$Tzn];this.refreshWidgetOnResized(C$Tzr);}},updateAlignment:function C$Tzt(C$Tze){var C$Tzi=C$Tze._parent,C$Tzn=(cc.Node.isNode(C$Tzi)&&C$Tzt(C$Tzi),C$Tze._widget||C$Tze.getComponent(cc.Widget));C$Tzn&&C$Tzi&&C$Tza(C$Tze,C$Tzn);},AlignMode:C$Tzo};},{"../CCNode":30}],63:[function(C$Tzt,C$Tzh,C$Tzu){"use strict";var C$Tzs=C$Tzt(H[818]),C$Tz_=C$Tzt(H[819]),C$Tzd=C$Tzt(H[820]),C$Tzn=C$Tzt(H[821]),C$Tzf=C$Tzt(H[822]),C$Tzi=C$Tzt(H[823]),C$Tzp=null,C$Tzp=C$Tzt(H[824]),C$Tzo=cc.mat4(),C$Tzr=cc.mat4(),C$Tze=cc.v3(),C$Tzm=cc.v3(),C$Tza=cc.v3(),C$Tzc=[],C$Tzl=null;function C$Tzy(){var C$Tzt,C$Tze;C$Tzl&&(C$Tzt=C$Tzl.getNode(),C$Tze=cc.game.canvas,C$Tzt.z=C$Tze.height/1.1566,C$Tzt.x=C$Tze.width/2,C$Tzt.y=C$Tze.height/2);}var C$Tzt=cc.Enum({COLOR:1,DEPTH:2,STENCIL:4}),C$Tzg=cc.Enum({OPAQUE:1,TRANSPARENT:2}),C$Tzt=cc.Class({name:H[825],extends:cc.Component,ctor:function(){var C$Tzt;C$Tzi.renderType!==C$Tzi.RENDER_TYPE_CANVAS?((C$Tzt=new C$Tzp()).setStages([H[794]]),C$Tzt.dirty=!0,this._inited=!1,this._camera=C$Tzt):this._inited=!0;},editor:!1,properties:{_cullingMask:4294967295,_clearFlags:C$Tzt.DEPTH|C$Tzt.STENCIL,_backgroundColor:cc.color(0,0,0,255),_depth:0,_zoomRatio:1,_targetTexture:null,_fov:60,_orthoSize:10,_nearClip:1,_farClip:4096,_ortho:!0,_rect:cc.rect(0,0,1,1),_renderStages:1,_alignWithScreen:!0,zoomRatio:{get:function(){return this._zoomRatio;},set:function(C$Tzt){this._zoomRatio=C$Tzt;},tooltip:!1},fov:{get:function(){return this._fov;},set:function(C$Tzt){this._fov=C$Tzt;},tooltip:!1},orthoSize:{get:function(){return this._orthoSize;},set:function(C$Tzt){this._orthoSize=C$Tzt;},tooltip:!1},nearClip:{get:function(){return this._nearClip;},set:function(C$Tzt){this._nearClip=C$Tzt,this._updateClippingpPlanes();},tooltip:!1},farClip:{get:function(){return this._farClip;},set:function(C$Tzt){this._farClip=C$Tzt,this._updateClippingpPlanes();},tooltip:!1},ortho:{get:function(){return this._ortho;},set:function(C$Tzt){this._ortho=C$Tzt,this._updateProjection();},tooltip:!1},rect:{get:function(){return this._rect;},set:function(C$Tzt){this._rect=C$Tzt,this._updateRect();},tooltip:!1},cullingMask:{get:function(){return this._cullingMask;},set:function(C$Tzt){this._cullingMask=C$Tzt,this._updateCameraMask();},tooltip:!1},clearFlags:{get:function(){return this._clearFlags;},set:function(C$Tzt){this._clearFlags=C$Tzt,this._camera&&this._camera.setClearFlags(C$Tzt);},tooltip:!1},backgroundColor:{get:function(){return this._backgroundColor;},set:function(C$Tzt){this._backgroundColor.equals(C$Tzt)||(this._backgroundColor.set(C$Tzt),this._updateBackgroundColor());},tooltip:!1},depth:{get:function(){return this._depth;},set:function(C$Tzt){this._depth=C$Tzt,this._camera&&this._camera.setPriority(C$Tzt);},tooltip:!1},targetTexture:{get:function(){return this._targetTexture;},set:function(C$Tzt){this._targetTexture=C$Tzt,this._updateTargetTexture();},tooltip:!1},renderStages:{get:function(){return this._renderStages;},set:function(C$Tzt){this._renderStages=C$Tzt,this._updateStages();},tooltip:!1},alignWithScreen:{get:function(){return this._alignWithScreen;},set:function(C$Tzt){this._alignWithScreen=C$Tzt;}},_is3D:{get:function(){return this.node&&this.node._is3DNode;}}},statics:{main:null,cameras:C$Tzc,ClearFlags:C$Tzt,findCamera:function(C$Tzt){for(var C$Tze=0,C$Tzi=C$Tzc.length;C$Tze<C$Tzi;C$Tze++){var C$Tzn=C$Tzc[C$Tze];if(C$Tzn.containsNode(C$Tzt))return C$Tzn;}return null;},_findRendererCamera:function(C$Tzt){for(var C$Tze=C$Tzn.scene._cameras,C$Tzi=0;C$Tzi<C$Tze._count;C$Tzi++)if(C$Tze._data[C$Tzi]._cullingMask&C$Tzt._cullingMask)return C$Tze._data[C$Tzi];return null;},_setupDebugCamera:function(){var C$Tzt,C$Tze;C$Tzl||C$Tzi.renderType!==C$Tzi.RENDER_TYPE_CANVAS&&(C$Tzt=new C$Tzp(),(C$Tzl=C$Tzt).setStages([H[794]]),C$Tzt.setFov(60*Math.PI/180),C$Tzt.setNear(.1),C$Tzt.setFar(4096),C$Tzt.dirty=!0,C$Tzt.cullingMask=1<<cc.Node.BuiltinGroupIndex.DEBUG,C$Tzt.setPriority(cc.macro.MAX_ZINDEX),C$Tzt.setClearFlags(0),C$Tzt.setColor(0,0,0,0),C$Tze=new cc.Node(),C$Tzt.setNode(C$Tze),C$Tzy(),cc.view.on(H[826],C$Tzy),C$Tzn.scene.addCamera(C$Tzt));}},_updateCameraMask:function(){var C$Tzt;this._camera&&(C$Tzt=this._cullingMask&~(1<<cc.Node.BuiltinGroupIndex.DEBUG),this._camera.cullingMask=C$Tzt);},_updateBackgroundColor:function(){var C$Tzt;this._camera&&(C$Tzt=this._backgroundColor,this._camera.setColor(C$Tzt.r/255,C$Tzt.g/255,C$Tzt.b/255,C$Tzt.a/255));},_updateTargetTexture:function(){var C$Tzt;this._camera&&(C$Tzt=this._targetTexture,this._camera.setFrameBuffer(C$Tzt?C$Tzt._framebuffer:null));},_updateClippingpPlanes:function(){this._camera&&(this._camera.setNear(this._nearClip),this._camera.setFar(this._farClip));},_updateProjection:function(){var C$Tzt;this._camera&&(C$Tzt=this._ortho?1:0,this._camera.setType(C$Tzt));},_updateRect:function(){var C$Tzt;this._camera&&(C$Tzt=this._rect,this._camera.setRect(C$Tzt.x,C$Tzt.y,C$Tzt.width,C$Tzt.height));},_updateStages:function(){var C$Tzt=this._renderStages,C$Tze=[];C$Tzt&C$Tzg.OPAQUE&&C$Tze.push(H[794]),C$Tzt&C$Tzg.TRANSPARENT&&C$Tze.push(H[584]),this._camera.setStages(C$Tze);},_init:function(){var C$Tzt;this._inited||(this._inited=!0,(C$Tzt=this._camera)&&(C$Tzt.setNode(this.node),C$Tzt.setClearFlags(this._clearFlags),C$Tzt.setPriority(this._depth),this._updateBackgroundColor(),this._updateCameraMask(),this._updateTargetTexture(),this._updateClippingpPlanes(),this._updateProjection(),this._updateStages(),this._updateRect(),this.beforeDraw()));},onLoad:function(){this._init();},onEnable:function(){C$Tzi.renderType!==C$Tzi.RENDER_TYPE_CANVAS&&(cc.director.on(cc.Director.EVENT_BEFORE_DRAW,this.beforeDraw,this),C$Tzn.scene.addCamera(this._camera)),C$Tzc.push(this);},onDisable:function(){C$Tzi.renderType!==C$Tzi.RENDER_TYPE_CANVAS&&(cc.director.off(cc.Director.EVENT_BEFORE_DRAW,this.beforeDraw,this),C$Tzn.scene.removeCamera(this._camera)),cc.js.array.remove(C$Tzc,this);},getScreenToWorldMatrix2D:function(C$Tzt){return this.getWorldToScreenMatrix2D(C$Tzt),C$Tzs.Mat4.invert(C$Tzt,C$Tzt),C$Tzt;},getWorldToScreenMatrix2D:function(C$Tzt){this.node.getWorldRT(C$Tzo);var C$Tze=this.zoomRatio,C$Tzi=C$Tzo.m,C$Tze=(C$Tzi[0]*=C$Tze,C$Tzi[1]*=C$Tze,C$Tzi[4]*=C$Tze,C$Tzi[5]*=C$Tze,C$Tzi[12]),C$Tzn=C$Tzi[13],C$Tzr=cc.visibleRect.center;return C$Tzi[12]=C$Tzr.x-(C$Tzi[0]*C$Tze+C$Tzi[4]*C$Tzn),C$Tzi[13]=C$Tzr.y-(C$Tzi[1]*C$Tze+C$Tzi[5]*C$Tzn),C$Tzt!==C$Tzo&&C$Tzs.Mat4.copy(C$Tzt,C$Tzo),C$Tzt;},getScreenToWorldPoint:function(C$Tzt,C$Tze){return this.node.is3DNode?(C$Tze=C$Tze||new cc.Vec3(),this._camera.screenToWorld(C$Tze,C$Tzt,cc.visibleRect.width,cc.visibleRect.height)):(C$Tze=C$Tze||new cc.Vec2(),this.getScreenToWorldMatrix2D(C$Tzo),C$Tzs.Vec2.transformMat4(C$Tze,C$Tzt,C$Tzo)),C$Tze;},getWorldToScreenPoint:function(C$Tzt,C$Tze){return this.node.is3DNode?(C$Tze=C$Tze||new cc.Vec3(),this._camera.worldToScreen(C$Tze,C$Tzt,cc.visibleRect.width,cc.visibleRect.height)):(C$Tze=C$Tze||new cc.Vec2(),this.getWorldToScreenMatrix2D(C$Tzo),C$Tzs.Vec2.transformMat4(C$Tze,C$Tzt,C$Tzo)),C$Tze;},getRay:function(C$Tzt){return cc.geomUtils?(C$Tzs.Vec3.set(C$Tza,C$Tzt.x,C$Tzt.y,1),this._camera.screenToWorld(C$Tzm,C$Tza,cc.visibleRect.width,cc.visibleRect.height),this.ortho?(C$Tzs.Vec3.set(C$Tza,C$Tzt.x,C$Tzt.y,-1),this._camera.screenToWorld(C$Tze,C$Tza,cc.visibleRect.width,cc.visibleRect.height)):this.node.getWorldPosition(C$Tze),C$Tz_.Ray.fromPoints(new C$Tz_.Ray(),C$Tze,C$Tzm)):C$Tzt;},containsNode:function(C$Tzt){return C$Tzt._cullingMask&this.cullingMask;},render:function(C$Tzt){if(!(C$Tzt=C$Tzt||cc.director.getScene()))return null;this.node.getWorldMatrix(C$Tzo),this.beforeDraw(),C$Tzf.render(C$Tzt),C$Tzn._forward.renderCamera(this._camera,C$Tzn.scene);},_onAlignWithScreen:function(){var C$Tzt=cc.game.canvas.height/cc.view._scaleY,C$Tze=(this._targetTexture&&(C$Tzt=cc.visibleRect.height),this._fov*cc.macro.RAD);this.node.z=C$Tzt/(2*Math.tan(C$Tze/2)),C$Tze=2*Math.atan(Math.tan(C$Tze/2)/this.zoomRatio),this._camera.setFov(C$Tze),this._camera.setOrthoHeight(C$Tzt/2/this.zoomRatio),this.node.setRotation(0,0,0,1);},beforeDraw:function(){var C$Tzt;this._camera&&(this._alignWithScreen?this._onAlignWithScreen():(C$Tzt=this._fov*cc.macro.RAD,C$Tzt=2*Math.atan(Math.tan(C$Tzt/2)/this.zoomRatio),this._camera.setFov(C$Tzt),this._camera.setOrthoHeight(this._orthoSize/this.zoomRatio)),this._camera.dirty=!0);}});cc.js.mixin(C$Tzt.prototype,{getNodeToCameraTransform:function(C$Tzt){var C$Tze=C$Tzd.identity();return C$Tzt.getWorldMatrix(C$Tzr),this.containsNode(C$Tzt)&&(this.getWorldToCameraMatrix(C$Tzo),C$Tzs.Mat4.mul(C$Tzr,C$Tzr,C$Tzo)),C$Tzd.fromMat4(C$Tze,C$Tzr),C$Tze;},getCameraToWorldPoint:function(C$Tzt,C$Tze){return this.getScreenToWorldPoint(C$Tzt,C$Tze);},getWorldToCameraPoint:function(C$Tzt,C$Tze){return this.getWorldToScreenPoint(C$Tzt,C$Tze);},getCameraToWorldMatrix:function(C$Tzt){return this.getScreenToWorldMatrix2D(C$Tzt);},getWorldToCameraMatrix:function(C$Tzt){return this.getWorldToScreenMatrix2D(C$Tzt);}}),C$Tzh.exports=cc.Camera=C$Tzt;},{"../../renderer/scene/camera":332,"../CCGame":29,"../geom-utils":123,"../renderer/index":220,"../renderer/render-flow":221,"../utils/affine-transform":254,"../value-types":279}],64:[function(C$Tzt,C$Tze,C$Tzi){"use strict";cc.Collider.Box=cc.Class({properties:{_offset:cc.v2(0,0),_size:cc.size(100,100),offset:{tooltip:!1,get:function(){return this._offset;},set:function(C$Tzt){this._offset=C$Tzt;},type:cc.Vec2},size:{tooltip:!1,get:function(){return this._size;},set:function(C$Tzt){this._size.width=C$Tzt.width<0?0:C$Tzt.width,this._size.height=C$Tzt.height<0?0:C$Tzt.height;},type:cc.Size}},resetInEditor:!1});var C$Tzn=cc.Class({name:H[827],extends:cc.Collider,mixins:[cc.Collider.Box],editor:!1});cc.BoxCollider=C$Tze.exports=C$Tzn;},{}],65:[function(C$Tzt,C$Tze,C$Tzi){"use strict";cc.Collider.Circle=cc.Class({properties:{_offset:cc.v2(0,0),_radius:50,offset:{get:function(){return this._offset;},set:function(C$Tzt){this._offset=C$Tzt;},type:cc.Vec2},radius:{tooltip:!1,get:function(){return this._radius;},set:function(C$Tzt){this._radius=C$Tzt<0?0:C$Tzt;}}},resetInEditor:!1});var C$Tzn=cc.Class({name:H[828],extends:cc.Collider,mixins:[cc.Collider.Circle],editor:!1});cc.CircleCollider=C$Tze.exports=C$Tzn;},{}],66:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({name:H[829],extends:cc.Component,properties:{editing:{default:!1,serializable:!1,tooltip:!1},tag:{tooltip:!1,default:0,range:[0,1e7],type:cc.Integer}},onDisable:function(){cc.director.getCollisionManager().removeCollider(this);},onEnable:function(){cc.director.getCollisionManager().addCollider(this);}});cc.Collider=C$Tze.exports=C$Tzn;},{}],67:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$TzD=(C$Tzn=C$Tzt(H[830]))&&C$Tzn.__esModule?C$Tzn:{default:C$Tzn};var C$Tzs=C$Tzt(H[831]),C$Tzh=C$Tzs.CollisionType,C$Tzo=C$Tzt(H[815]).EventType,C$TzL=new C$TzD.default();var C$Tzn=cc.Class({mixins:[cc.EventTarget],properties:{enabled:!1,enabledDrawBoundingBox:!1},ctor:function(){this._contacts=[],this._colliders=[],this._debugDrawer=null,this._enabledDebugDraw=!1,cc.director._scheduler&&cc.director._scheduler.enableForTarget(this);},update:function(C$Tzt){if(this.enabled){for(var C$Tze=this._colliders,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++)this.updateCollider(C$Tze[C$Tzi]);var C$Tzr=this._contacts,C$Tzs=[];for(C$Tzi=0,C$Tzn=C$Tzr.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzo=C$Tzr[C$Tzi].updateState();C$Tzo!==C$Tzh.None&&C$Tzs.push([C$Tzo,C$Tzr[C$Tzi]]);}for(C$Tzi=0,C$Tzn=C$Tzs.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tza=C$Tzs[C$Tzi];this._doCollide(C$Tza[0],C$Tza[1]);}this.drawColliders();}},_doCollide:function(C$Tzt,C$Tze){var C$Tzi;switch(C$Tzt){case C$Tzh.CollisionEnter:C$Tzi=H[832];break;case C$Tzh.CollisionStay:C$Tzi=H[833];break;case C$Tzh.CollisionExit:C$Tzi=H[834];}for(var C$Tzn,C$Tzr=C$Tze.collider1,C$Tzs=C$Tze.collider2,C$Tzo=C$Tzr.node._components,C$Tza=C$Tzs.node._components,C$Tzc=0,C$Tzl=C$Tzo.length;C$Tzc<C$Tzl;C$Tzc++)(C$Tzn=C$Tzo[C$Tzc])[C$Tzi]&&C$Tzn[C$Tzi](C$Tzs,C$Tzr);for(C$Tzc=0,C$Tzl=C$Tza.length;C$Tzc<C$Tzl;C$Tzc++)(C$Tzn=C$Tza[C$Tzc])[C$Tzi]&&C$Tzn[C$Tzi](C$Tzr,C$Tzs);},shouldCollide:function(C$Tzt,C$Tze){var C$Tzt=C$Tzt.node,C$Tze=C$Tze.node,C$Tzi=cc.game.collisionMatrix;return C$Tzt!==C$Tze&&C$Tzi[C$Tzt.groupIndex][C$Tze.groupIndex];},initCollider:function(C$Tzt){var C$Tze;C$Tzt.world||((C$Tze=C$Tzt.world={}).aabb=cc.rect(),C$Tze.preAabb=cc.rect(),C$Tze.matrix=cc.mat4(),C$Tze.radius=0,C$Tzt instanceof cc.BoxCollider?(C$Tze.position=null,C$Tze.points=[cc.v2(),cc.v2(),cc.v2(),cc.v2()]):C$Tzt instanceof cc.PolygonCollider?(C$Tze.position=null,C$Tze.points=C$Tzt.points.map(function(C$Tzt){return cc.v2(C$Tzt.x,C$Tzt.y);})):C$Tzt instanceof cc.CircleCollider&&(C$Tze.position=cc.v2(),C$Tze.points=null));},updateCollider:function(C$Tzt){var C$Tze,C$Tzh,C$Tzi,C$Tzu,C$Tz_,C$Tzd,C$Tzf=C$Tzt.offset,C$Tzn=C$Tzt.world,C$Tzr=C$Tzn.aabb,C$Tzp=C$Tzn.matrix,C$Tzs=(C$Tzt.node.getWorldMatrix(C$Tzp),C$Tzn.preAabb);if(C$Tzs.x=C$Tzr.x,C$Tzs.y=C$Tzr.y,C$Tzs.width=C$Tzr.width,C$Tzs.height=C$Tzr.height,C$Tzt instanceof cc.BoxCollider){var C$Tzs=C$Tzt.size,C$Tzs=(C$Tzr.x=C$Tzf.x-C$Tzs.width/2,C$Tzr.y=C$Tzf.y-C$Tzs.height/2,C$Tzr.width=C$Tzs.width,C$Tzr.height=C$Tzs.height,C$Tzn.points),C$Tzm=C$Tzs[0],C$Tzy=C$Tzs[1],C$Tzg=C$Tzs[2],C$Tzs=C$Tzs[3],C$Tzv=(C$Tze=C$Tzp,C$TzC=C$Tzm,C$Tza=C$Tzy,C$TzA=C$Tzg,C$Tzh=C$Tzs,C$Tzi=(C$Tzo=C$Tzr).x,C$Tzc=C$Tzo.y,C$Tzv=C$Tzo.width,C$Tzo=C$Tzo.height,C$Tzu=(C$Tze=C$Tze.m)[0],C$Tz_=C$Tze[1],C$Tzx=C$Tze[4],C$Tzb=C$Tze[5],C$Tzd=C$Tzu*C$Tzi+C$Tzx*C$Tzc+C$Tze[12],C$Tzi=C$Tz_*C$Tzi+C$Tzb*C$Tzc+C$Tze[13],C$Tzc=C$Tzu*C$Tzv,C$Tze=C$Tz_*C$Tzv,C$Tzu=C$Tzx*C$Tzo,C$Tz_=C$Tzb*C$Tzo,C$Tza.x=C$Tzd,C$Tza.y=C$Tzi,C$TzA.x=C$Tzc+C$Tzd,C$TzA.y=C$Tze+C$Tzi,C$TzC.x=C$Tzu+C$Tzd,C$TzC.y=C$Tz_+C$Tzi,C$Tzh.x=C$Tzc+C$Tzu+C$Tzd,C$Tzh.y=C$Tze+C$Tz_+C$Tzi,Math.min(C$Tzm.x,C$Tzy.x,C$Tzg.x,C$Tzs.x)),C$Tzx=Math.min(C$Tzm.y,C$Tzy.y,C$Tzg.y,C$Tzs.y),C$Tzb=Math.max(C$Tzm.x,C$Tzy.x,C$Tzg.x,C$Tzs.x),C$Tzo=Math.max(C$Tzm.y,C$Tzy.y,C$Tzg.y,C$Tzs.y);C$Tzr.x=C$Tzv,C$Tzr.y=C$Tzx,C$Tzr.width=C$Tzb-C$Tzv,C$Tzr.height=C$Tzo-C$Tzx;}else if(C$Tzt instanceof cc.CircleCollider){C$TzD.default.transformMat4(C$TzL,C$Tzt.offset,C$Tzp),C$Tzn.position.x=C$TzL.x,C$Tzn.position.y=C$TzL.y;var C$Tza=C$Tzp.m,C$TzA=C$Tza[12],C$TzC=C$Tza[13],C$Tzc=(C$Tza[12]=C$Tza[13]=0,C$TzL.x=C$Tzt.radius,C$TzL.y=0,C$TzD.default.transformMat4(C$TzL,C$TzL,C$Tzp),Math.sqrt(C$TzL.x*C$TzL.x+C$TzL.y*C$TzL.y));C$Tzn.radius=C$Tzc,C$Tzr.x=C$Tzn.position.x-C$Tzc,C$Tzr.y=C$Tzn.position.y-C$Tzc,C$Tzr.width=2*C$Tzc,C$Tzr.height=2*C$Tzc,C$Tza[12]=C$TzA,C$Tza[13]=C$TzC;}else if(C$Tzt instanceof cc.PolygonCollider){for(var C$TzS=C$Tzt.points,C$TzT=C$Tzn.points,C$Tzw=(C$TzT.length=C$TzS.length,1e6),C$TzE=1e6,C$TzM=-1e6,C$TzI=-1e6,C$Tzl=0,C$TzB=C$TzS.length;C$Tzl<C$TzB;C$Tzl++){C$TzT[C$Tzl]||(C$TzT[C$Tzl]=cc.v2()),C$TzL.x=C$TzS[C$Tzl].x+C$Tzf.x,C$TzL.y=C$TzS[C$Tzl].y+C$Tzf.y,C$TzD.default.transformMat4(C$TzL,C$TzL,C$Tzp);var C$TzR=C$TzL.x,C$TzP=C$TzL.y;C$TzM<(C$TzT[C$Tzl].x=C$TzR)&&(C$TzM=C$TzR),C$TzR<C$Tzw&&(C$Tzw=C$TzR),C$TzI<(C$TzT[C$Tzl].y=C$TzP)&&(C$TzI=C$TzP),C$TzP<C$TzE&&(C$TzE=C$TzP);}C$Tzr.x=C$Tzw,C$Tzr.y=C$TzE,C$Tzr.width=C$TzM-C$Tzw,C$Tzr.height=C$TzI-C$TzE;}},addCollider:function(C$Tzt){var C$Tze=this._colliders;if(-1===C$Tze.indexOf(C$Tzt)){for(var C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];this.shouldCollide(C$Tzt,C$Tzr)&&(C$Tzr=new C$Tzs(C$Tzt,C$Tzr),this._contacts.push(C$Tzr));}C$Tze.push(C$Tzt),this.initCollider(C$Tzt);}C$Tzt.node.on(C$Tzo.GROUP_CHANGED,this.onNodeGroupChanged,this);},removeCollider:function(C$Tzt){var C$Tze=this._colliders,C$Tzi=C$Tze.indexOf(C$Tzt);if(0<=C$Tzi){C$Tze.splice(C$Tzi,1);for(var C$Tzn=this._contacts,C$Tzr=C$Tzn.length-1;0<=C$Tzr;C$Tzr--){var C$Tzs=C$Tzn[C$Tzr];C$Tzs.collider1!==C$Tzt&&C$Tzs.collider2!==C$Tzt||(C$Tzs.touching&&this._doCollide(C$Tzh.CollisionExit,C$Tzs),C$Tzn.splice(C$Tzr,1));}C$Tzt.node.off(C$Tzo.GROUP_CHANGED,this.onNodeGroupChanged,this);}else cc.errorID(6600);},onNodeGroupChanged:function(C$Tzt){for(var C$Tze=C$Tzt.getComponents(cc.Collider),C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];cc.PhysicsCollider&&C$Tzr instanceof cc.PhysicsCollider||(this.removeCollider(C$Tzr),this.addCollider(C$Tzr));}},drawColliders:function(){if(this._enabledDebugDraw){this._checkDebugDrawValid();for(var C$Tzt=this._debugDrawer,C$Tze=(C$Tzt.clear(),this._colliders),C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzt.strokeColor=cc.Color.WHITE,C$Tzr instanceof cc.BoxCollider||C$Tzr instanceof cc.PolygonCollider){var C$Tzs=C$Tzr.world.points;if(0<C$Tzs.length){C$Tzt.moveTo(C$Tzs[0].x,C$Tzs[0].y);for(var C$Tzo=1;C$Tzo<C$Tzs.length;C$Tzo++)C$Tzt.lineTo(C$Tzs[C$Tzo].x,C$Tzs[C$Tzo].y);C$Tzt.close(),C$Tzt.stroke();}}else C$Tzr instanceof cc.CircleCollider&&(C$Tzt.circle(C$Tzr.world.position.x,C$Tzr.world.position.y,C$Tzr.world.radius),C$Tzt.stroke());this.enabledDrawBoundingBox&&(C$Tzr=C$Tzr.world.aabb,C$Tzt.strokeColor=cc.Color.BLUE,C$Tzt.moveTo(C$Tzr.xMin,C$Tzr.yMin),C$Tzt.lineTo(C$Tzr.xMin,C$Tzr.yMax),C$Tzt.lineTo(C$Tzr.xMax,C$Tzr.yMax),C$Tzt.lineTo(C$Tzr.xMax,C$Tzr.yMin),C$Tzt.close(),C$Tzt.stroke());}}},_checkDebugDrawValid:function(){var C$Tzt;this._debugDrawer&&this._debugDrawer.isValid||((C$Tzt=new cc.Node(H[835])).zIndex=cc.macro.MAX_ZINDEX,cc.game.addPersistRootNode(C$Tzt),this._debugDrawer=C$Tzt.addComponent(cc.Graphics));}});cc.js.getset(C$Tzn.prototype,H[836],function(){return this._enabledDebugDraw;},function(C$Tzt){C$Tzt&&!this._enabledDebugDraw?(this._checkDebugDrawValid(),this._debugDrawer.node.active=!0):!C$Tzt&&this._enabledDebugDraw&&(this._debugDrawer.clear(!0),this._debugDrawer.node.active=!1),this._enabledDebugDraw=C$Tzt;}),cc.CollisionManager=C$Tze.exports=C$Tzn;},{"../CCNode":30,"../value-types/vec2":288,"./CCContact":68}],68:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzo=C$Tzt(H[837]),C$Tzn=cc.Enum({None:0,CollisionEnter:1,CollisionStay:2,CollisionExit:3});function C$Tzr(C$Tzt,C$Tze){this.collider1=C$Tzt,this.collider2=C$Tze,this.touching=!1;var C$Tzi=C$Tzt instanceof cc.BoxCollider||C$Tzt instanceof cc.PolygonCollider,C$Tzn=C$Tze instanceof cc.BoxCollider||C$Tze instanceof cc.PolygonCollider,C$Tzr=C$Tzt instanceof cc.CircleCollider,C$Tzs=C$Tze instanceof cc.CircleCollider;C$Tzi&&C$Tzn?this.testFunc=C$Tzo.polygonPolygon:C$Tzr&&C$Tzs?this.testFunc=C$Tzo.circleCircle:C$Tzi&&C$Tzs?this.testFunc=C$Tzo.polygonCircle:C$Tzr&&C$Tzn?(this.testFunc=C$Tzo.polygonCircle,this.collider1=C$Tze,this.collider2=C$Tzt):cc.errorID(6601,cc.js.getClassName(C$Tzt),cc.js.getClassName(C$Tze));}C$Tzr.prototype.test=function(){var C$Tzt=this.collider1.world,C$Tze=this.collider2.world;return!!C$Tzt.aabb.intersects(C$Tze.aabb)&&(this.testFunc===C$Tzo.polygonPolygon?this.testFunc(C$Tzt.points,C$Tze.points):this.testFunc===C$Tzo.circleCircle?this.testFunc(C$Tzt,C$Tze):this.testFunc===C$Tzo.polygonCircle&&this.testFunc(C$Tzt.points,C$Tze));},C$Tzr.prototype.updateState=function(){var C$Tzt=this.test(),C$Tze=C$Tzn.None;return C$Tzt&&!this.touching?(this.touching=!0,C$Tze=C$Tzn.CollisionEnter):C$Tzt&&this.touching?C$Tze=C$Tzn.CollisionStay:!C$Tzt&&this.touching&&(this.touching=!1,C$Tze=C$Tzn.CollisionExit),C$Tze;},C$Tzr.CollisionType=C$Tzn,C$Tze.exports=C$Tzr;},{"./CCIntersection":69}],69:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn={};function C$Tzo(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=(C$Tzn.x-C$Tzi.x)*(C$Tzt.y-C$Tzi.y)-(C$Tzn.y-C$Tzi.y)*(C$Tzt.x-C$Tzi.x),C$Tzs=(C$Tze.x-C$Tzt.x)*(C$Tzt.y-C$Tzi.y)-(C$Tze.y-C$Tzt.y)*(C$Tzt.x-C$Tzi.x),C$Tzn=(C$Tzn.y-C$Tzi.y)*(C$Tze.x-C$Tzt.x)-(C$Tzn.x-C$Tzi.x)*(C$Tze.y-C$Tzt.y);if(0!=C$Tzn){C$Tzi=C$Tzr/C$Tzn,C$Tze=C$Tzs/C$Tzn;if(0<=C$Tzi&&C$Tzi<=1&&0<=C$Tze&&C$Tze<=1)return!0;}return!1;}function C$Tzc(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn=C$Tzi.length,C$Tzr=0;C$Tzr<C$Tzn;++C$Tzr)if(C$Tzo(C$Tzt,C$Tze,C$Tzi[C$Tzr],C$Tzi[(C$Tzr+1)%C$Tzn]))return!0;return!1;}function C$Tzl(C$Tzt,C$Tze){for(var C$Tzi=!1,C$Tzh=C$Tzt.x,C$Tzn=C$Tzt.y,C$Tzr=C$Tze.length,C$Tzs=0,C$Tzo=C$Tzr-1;C$Tzs<C$Tzr;C$Tzo=C$Tzs++){var C$Tza=C$Tze[C$Tzs].x,C$Tzc=C$Tze[C$Tzs].y,C$Tzu=C$Tze[C$Tzo].x,C$Tzl=C$Tze[C$Tzo].y;C$Tzn<C$Tzc!=C$Tzn<C$Tzl&&C$Tzh<(C$Tzu-C$Tza)*(C$Tzn-C$Tzc)/(C$Tzl-C$Tzc)+C$Tza&&(C$Tzi=!C$Tzi);}return C$Tzi;}function C$Tzs(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=(C$Tzo=C$Tzi.x-C$Tze.x)*C$Tzo+(C$Tza=C$Tzi.y-C$Tze.y)*C$Tza,C$Tzs=((C$Tzt.x-C$Tze.x)*C$Tzo+(C$Tzt.y-C$Tze.y)*C$Tza)/C$Tzr,C$Tzn=C$Tzn?!C$Tzr||C$Tzs<0?C$Tze:1<C$Tzs?C$Tzi:cc.v2(C$Tze.x+C$Tzs*C$Tzo,C$Tze.y+C$Tzs*C$Tza):cc.v2(C$Tze.x+C$Tzs*C$Tzo,C$Tze.y+C$Tzs*C$Tza),C$Tzo=C$Tzt.x-C$Tzn.x,C$Tza=C$Tzt.y-C$Tzn.y;return Math.sqrt(C$Tzo*C$Tzo+C$Tza*C$Tza);}C$Tzn.lineLine=C$Tzo,C$Tzn.lineRect=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=new cc.Vec2(C$Tzi.x,C$Tzi.y),C$Tzr=new cc.Vec2(C$Tzi.x,C$Tzi.yMax),C$Tzs=new cc.Vec2(C$Tzi.xMax,C$Tzi.yMax),C$Tzi=new cc.Vec2(C$Tzi.xMax,C$Tzi.y);return!!C$Tzo(C$Tzt,C$Tze,C$Tzn,C$Tzr)||!!C$Tzo(C$Tzt,C$Tze,C$Tzr,C$Tzs)||!!C$Tzo(C$Tzt,C$Tze,C$Tzs,C$Tzi)||!!C$Tzo(C$Tzt,C$Tze,C$Tzi,C$Tzn);},C$Tzn.linePolygon=C$Tzc,C$Tzn.rectRect=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.x,C$Tzn=C$Tzt.y,C$Tzr=C$Tzt.x+C$Tzt.width,C$Tzt=C$Tzt.y+C$Tzt.height,C$Tzs=C$Tze.x,C$Tzo=C$Tze.y,C$Tza=C$Tze.x+C$Tze.width,C$Tze=C$Tze.y+C$Tze.height;return C$Tzi<=C$Tza&&C$Tzs<=C$Tzr&&C$Tzn<=C$Tze&&C$Tzo<=C$Tzt;},C$Tzn.rectPolygon=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn,C$Tzr=new cc.Vec2(C$Tzt.x,C$Tzt.y),C$Tzs=new cc.Vec2(C$Tzt.x,C$Tzt.yMax),C$Tzo=new cc.Vec2(C$Tzt.xMax,C$Tzt.yMax),C$Tza=new cc.Vec2(C$Tzt.xMax,C$Tzt.y);if(C$Tzc(C$Tzr,C$Tzs,C$Tze))return!0;if(C$Tzc(C$Tzs,C$Tzo,C$Tze))return!0;if(C$Tzc(C$Tzo,C$Tza,C$Tze))return!0;if(C$Tzc(C$Tza,C$Tzr,C$Tze))return!0;for(C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;++C$Tzi)if(C$Tzl(C$Tze[C$Tzi],C$Tzt))return!0;return!!C$Tzl(C$Tzr,C$Tze)||!!C$Tzl(C$Tzs,C$Tze)||!!C$Tzl(C$Tzo,C$Tze)||!!C$Tzl(C$Tza,C$Tze);},C$Tzn.polygonPolygon=function(C$Tzt,C$Tze){for(var C$Tzi=0,C$Tzn=C$Tzt.length;C$Tzi<C$Tzn;++C$Tzi)if(C$Tzc(C$Tzt[C$Tzi],C$Tzt[(C$Tzi+1)%C$Tzn],C$Tze))return!0;for(C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;++C$Tzi)if(C$Tzl(C$Tze[C$Tzi],C$Tzt))return!0;for(C$Tzi=0,C$Tzn=C$Tzt.length;C$Tzi<C$Tzn;++C$Tzi)if(C$Tzl(C$Tzt[C$Tzi],C$Tze))return!0;return!1;},C$Tzn.circleCircle=function(C$Tzt,C$Tze){return C$Tzt.position.sub(C$Tze.position).mag()<C$Tzt.radius+C$Tze.radius;},C$Tzn.polygonCircle=function(C$Tzt,C$Tze){var C$Tzi=C$Tze.position;if(C$Tzl(C$Tzi,C$Tzt))return!0;for(var C$Tzn=0,C$Tzr=C$Tzt.length;C$Tzn<C$Tzr;C$Tzn++)if(C$Tzs(C$Tzi,0===C$Tzn?C$Tzt[C$Tzt.length-1]:C$Tzt[C$Tzn-1],C$Tzt[C$Tzn],!0)<C$Tze.radius)return!0;return!1;},C$Tzn.pointInPolygon=C$Tzl,C$Tzn.pointLineDistance=C$Tzs,cc.Intersection=C$Tze.exports=C$Tzn;},{}],70:[function(C$Tzt,C$Tze,C$Tzi){"use strict";cc.Collider.Polygon=cc.Class({properties:{threshold:{default:1,serializable:!1,visible:!1},_offset:cc.v2(0,0),offset:{get:function(){return this._offset;},set:function(C$Tzt){this._offset=C$Tzt;},type:cc.Vec2},points:{tooltip:!1,default:function(){return[cc.v2(-50,-50),cc.v2(50,-50),cc.v2(50,50),cc.v2(-50,50)];},type:[cc.Vec2]}},resetPointsByContour:!1});var C$Tzn=cc.Class({name:H[838],extends:cc.Collider,mixins:[cc.Collider.Polygon],editor:!1});cc.PolygonCollider=C$Tze.exports=C$Tzn;},{}],71:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[839]),C$Tzt(H[840]),C$Tzt(H[841]),C$Tzt(H[842]),C$Tzt(H[843]);},{"./CCBoxCollider":64,"./CCCircleCollider":65,"./CCCollider":66,"./CCCollisionManager":67,"./CCPolygonCollider":70}],72:[function(C$Tzt,C$Tzh,C$Tzu){"use strict";C$Tzt(H[844]);var C$Tze=C$Tzt(H[595]).Flags,C$Tzi=C$Tzt(H[664]).array,C$Tzn=C$Tze.IsStartCalled,C$Tzr=C$Tze.IsOnEnableCalled;C$Tze.IsEditorOnEnableCalled;function C$Tzs(C$Tzt,C$Tze){for(var C$Tzi=C$Tze.constructor._executionOrder,C$Tzn=C$Tze._id,C$Tzr=0,C$Tzs=C$Tzt.length-1,C$Tzo=C$Tzs>>>1;C$Tzr<=C$Tzs;C$Tzo=C$Tzr+C$Tzs>>>1){var C$Tza=C$Tzt[C$Tzo],C$Tzc=C$Tza.constructor._executionOrder;if(C$Tzi<C$Tzc)C$Tzs=C$Tzo-1;else if(C$Tzc<C$Tzi)C$Tzr=C$Tzo+1;else{C$Tzc=C$Tza._id;if(C$Tzn<C$Tzc)C$Tzs=C$Tzo-1;else{if(!(C$Tzc<C$Tzn))return C$Tzo;C$Tzr=C$Tzo+1;}}}return~C$Tzr;}function C$Tzo(C$Tzt,C$Tze){for(var C$Tzi=C$Tzt.array,C$Tzn=C$Tzt.i+1;C$Tzn<C$Tzi.length;){var C$Tzr=C$Tzi[C$Tzn];C$Tzr._enabled&&C$Tzr.node._activeInHierarchy?++C$Tzn:(C$Tzt.removeAt(C$Tzn),C$Tze&&(C$Tzr._objFlags&=~C$Tze));}}C$Tzt=cc.Class({__ctor__:function(C$Tzt){var C$Tze=C$Tzi.MutableForwardIterator;this._zero=new C$Tze([]),this._neg=new C$Tze([]),this._pos=new C$Tze([]),this._invoke=C$Tzt;},statics:{stableRemoveInactive:C$Tzo},add:null,remove:null,invoke:null});function C$Tza(C$Tzt,C$Tze){return C$Tzt.constructor._executionOrder-C$Tze.constructor._executionOrder;}var C$Tzc=cc.Class({extends:C$Tzt,add:function(C$Tzt){var C$Tze=C$Tzt.constructor._executionOrder;(0===C$Tze?this._zero:C$Tze<0?this._neg:this._pos).array.push(C$Tzt);},remove:function(C$Tzt){var C$Tze=C$Tzt.constructor._executionOrder;(0===C$Tze?this._zero:C$Tze<0?this._neg:this._pos).fastRemove(C$Tzt);},cancelInactive:function(C$Tzt){C$Tzo(this._zero,C$Tzt),C$Tzo(this._neg,C$Tzt),C$Tzo(this._pos,C$Tzt);},invoke:function(){var C$Tzt=this._neg,C$Tzt=(0<C$Tzt.array.length&&(C$Tzt.array.sort(C$Tza),this._invoke(C$Tzt),C$Tzt.array.length=0),this._invoke(this._zero),this._zero.array.length=0,this._pos);0<C$Tzt.array.length&&(C$Tzt.array.sort(C$Tza),this._invoke(C$Tzt),C$Tzt.array.length=0);}}),C$Tz_=cc.Class({extends:C$Tzt,add:function(C$Tzt){var C$Tze,C$Tzi=C$Tzt.constructor._executionOrder;0===C$Tzi?this._zero.array.push(C$Tzt):(C$Tze=C$Tzs(C$Tzi=(C$Tzi<0?this._neg:this._pos).array,C$Tzt))<0&&C$Tzi.splice(~C$Tze,0,C$Tzt);},remove:function(C$Tzt){var C$Tze=C$Tzt.constructor._executionOrder;0===C$Tze?this._zero.fastRemove(C$Tzt):0<=(C$Tzt=C$Tzs((C$Tze=C$Tze<0?this._neg:this._pos).array,C$Tzt))&&C$Tze.removeAt(C$Tzt);},invoke:function(C$Tzt){0<this._neg.array.length&&this._invoke(this._neg,C$Tzt),this._invoke(this._zero,C$Tzt),0<this._pos.array.length&&this._invoke(this._pos,C$Tzt);}});function C$Tzl(C$Tzr,C$Tzt,C$Tzs,C$Tzo){return function(C$Tze,C$Tzi){try{C$Tzo(C$Tze,C$Tzi);}catch(C$Tzt){cc._throw(C$Tzt);var C$Tzn=C$Tze.array;for(C$Tzs&&(C$Tzn[C$Tze.i]._objFlags|=C$Tzs),++C$Tze.i;C$Tze.i<C$Tzn.length;++C$Tze.i)try{C$Tzr(C$Tzn[C$Tze.i],C$Tzi);}catch(C$Tzt){cc._throw(C$Tzt),C$Tzs&&(C$Tzn[C$Tze.i]._objFlags|=C$Tzs);}}};}var C$Tzd=C$Tzl(function(C$Tzt){C$Tzt.start(),C$Tzt._objFlags|=C$Tzn;},0,C$Tzn,function(C$Tzt){var C$Tze=C$Tzt.array;for(C$Tzt.i=0;C$Tzt.i<C$Tze.length;++C$Tzt.i){var C$Tzi=C$Tze[C$Tzt.i];C$Tzi.start(),C$Tzi._objFlags|=C$Tzn;}}),C$Tzf=C$Tzl(function(C$Tzt,C$Tze){C$Tzt.update(C$Tze);},0,void 0,function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.array;for(C$Tzt.i=0;C$Tzt.i<C$Tzi.length;++C$Tzt.i)C$Tzi[C$Tzt.i].update(C$Tze);}),C$Tzp=C$Tzl(function(C$Tzt,C$Tze){C$Tzt.lateUpdate(C$Tze);},0,void 0,function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.array;for(C$Tzt.i=0;C$Tzt.i<C$Tzi.length;++C$Tzt.i)C$Tzi[C$Tzt.i].lateUpdate(C$Tze);});function C$Tzm(){this.startInvoker=new C$Tzc(C$Tzd),this.updateInvoker=new C$Tz_(C$Tzf),this.lateUpdateInvoker=new C$Tz_(C$Tzp),this.scheduleInNextFrame=[],this._updating=!1;}C$Tze=cc.Class({ctor:C$Tzm,unscheduleAll:C$Tzm,statics:{LifeCycleInvoker:C$Tzt,OneOffInvoker:C$Tzc,createInvokeImpl:C$Tzl,invokeOnEnable:function(C$Tzt){var C$Tze=cc.director._compScheduler,C$Tzi=C$Tzt.array;for(C$Tzt.i=0;C$Tzt.i<C$Tzi.length;++C$Tzt.i){var C$Tzn=C$Tzi[C$Tzt.i];C$Tzn._enabled&&(C$Tzn.onEnable(),C$Tzn.node._activeInHierarchy&&C$Tze._onEnabled(C$Tzn));}}},_onEnabled:function(C$Tzt){cc.director.getScheduler().resumeTarget(C$Tzt),C$Tzt._objFlags|=C$Tzr,this._updating?this.scheduleInNextFrame.push(C$Tzt):this._scheduleImmediate(C$Tzt);},_onDisabled:function(C$Tzt){cc.director.getScheduler().pauseTarget(C$Tzt),C$Tzt._objFlags&=~C$Tzr;var C$Tze=this.scheduleInNextFrame.indexOf(C$Tzt);0<=C$Tze?C$Tzi.fastRemoveAt(this.scheduleInNextFrame,C$Tze):(!C$Tzt.start||C$Tzt._objFlags&C$Tzn||this.startInvoker.remove(C$Tzt),C$Tzt.update&&this.updateInvoker.remove(C$Tzt),C$Tzt.lateUpdate&&this.lateUpdateInvoker.remove(C$Tzt));},enableComp:function(C$Tzt,C$Tze){if(!(C$Tzt._objFlags&C$Tzr)){if(C$Tzt.onEnable){if(C$Tze)return void C$Tze.add(C$Tzt);if(C$Tzt.onEnable(),!C$Tzt.node._activeInHierarchy)return;}this._onEnabled(C$Tzt);}},disableComp:function(C$Tzt){C$Tzt._objFlags&C$Tzr&&(C$Tzt.onDisable&&C$Tzt.onDisable(),this._onDisabled(C$Tzt));},_scheduleImmediate:function(C$Tzt){!C$Tzt.start||C$Tzt._objFlags&C$Tzn||this.startInvoker.add(C$Tzt),C$Tzt.update&&this.updateInvoker.add(C$Tzt),C$Tzt.lateUpdate&&this.lateUpdateInvoker.add(C$Tzt);},_deferredSchedule:function(){for(var C$Tzt=this.scheduleInNextFrame,C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++){var C$Tzn=C$Tzt[C$Tze];this._scheduleImmediate(C$Tzn);}C$Tzt.length=0;},_earlyStartForNewComps:function(){0<this.scheduleInNextFrame.length&&(this._deferredSchedule(),this.startInvoker.invoke());},startPhase:function(){this._updating=!0,0<this.scheduleInNextFrame.length&&this._deferredSchedule(),this.startInvoker.invoke(),this._earlyStartForNewComps();},updatePhase:function(C$Tzt){this.updateInvoker.invoke(C$Tzt);},lateUpdatePhase:function(C$Tzt){this.lateUpdateInvoker.invoke(C$Tzt),this._updating=!1;},clearup:function(){this._earlyStartForNewComps();}});C$Tzh.exports=C$Tze;},{"./platform/CCClass":189,"./platform/CCObject":195,"./platform/js":209,"./utils/misc":264}],73:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[845]),C$Tzr=C$Tzt(H[846]),C$Tzs=C$Tzt(H[708]),C$Tzo=C$Tzt(H[720]),C$Tza=cc.Enum({PLAY:H[483],STOP:H[484],PAUSE:H[486],RESUME:H[485],LASTFRAME:H[481],FINISHED:H[482]}),C$Tzt=cc.Class({name:H[847],extends:C$Tzt(H[848]),mixins:[C$Tzs],editor:!1,statics:{EventType:C$Tza},ctor:function(){cc.EventTarget.call(this),this._animator=null,this._nameToState=C$Tzo.createMap(!0),this._didInit=!1,this._currentClip=null;},properties:{_defaultClip:{default:null,type:C$Tzr},defaultClip:{type:C$Tzr,get:function(){return this._defaultClip;},set:function(C$Tzt){},tooltip:!1},currentClip:{get:function(){return this._currentClip;},set:function(C$Tzt){this._currentClip=C$Tzt;},type:C$Tzr,visible:!1},_writableClips:{get:function(){return this._clips;},set:function(C$Tzt){this._didInit=!1,this._clips=C$Tzt,this._init();},type:[C$Tzr]},_clips:{default:[],type:[C$Tzr],tooltip:!1,visible:!0},playOnLoad:{default:!1,tooltip:!1}},start:function(){var C$Tzt;this.playOnLoad&&this._defaultClip&&(this._animator&&this._animator.isPlaying||(C$Tzt=this.getAnimationState(this._defaultClip.name),this._animator.playState(C$Tzt)));},onEnable:function(){this._animator&&this._animator.resume();},onDisable:function(){this._animator&&this._animator.pause();},onDestroy:function(){this.stop();},getClips:function(){return this._clips;},play:function(C$Tzt,C$Tze){C$Tzt=this.playAdditive(C$Tzt,C$Tze);return this._animator.stopStatesExcept(C$Tzt),C$Tzt;},playAdditive:function(C$Tzt,C$Tze){this._init();var C$Tzi,C$Tzt=this.getAnimationState(C$Tzt||this._defaultClip&&this._defaultClip.name);return C$Tzt&&(this.enabled=!0,(C$Tzi=this._animator).isPlaying&&C$Tzt.isPlaying?C$Tzt.isPaused?C$Tzi.resumeState(C$Tzt):(C$Tzi.stopState(C$Tzt),C$Tzi.playState(C$Tzt,C$Tze)):C$Tzi.playState(C$Tzt,C$Tze),this.enabledInHierarchy||C$Tzi.pause(),this.currentClip=C$Tzt.clip),C$Tzt;},stop:function(C$Tzt){this._didInit&&(C$Tzt?(C$Tzt=this._nameToState[C$Tzt])&&this._animator.stopState(C$Tzt):this._animator.stop());},pause:function(C$Tzt){this._didInit&&(C$Tzt?(C$Tzt=this._nameToState[C$Tzt])&&this._animator.pauseState(C$Tzt):this.enabled=!1);},resume:function(C$Tzt){this._didInit&&(C$Tzt?(C$Tzt=this._nameToState[C$Tzt])&&this._animator.resumeState(C$Tzt):this.enabled=!0);},setCurrentTime:function(C$Tzt,C$Tze){this._init(),C$Tze?(C$Tze=this._nameToState[C$Tze])&&this._animator.setStateTime(C$Tze,C$Tzt):this._animator.setStateTime(C$Tzt);},getAnimationState:function(C$Tzt){this._init();C$Tzt=this._nameToState[C$Tzt];return C$Tzt&&!C$Tzt.curveLoaded&&this._animator._reloadClip(C$Tzt),C$Tzt||null;},addClip:function(C$Tzt,C$Tze){if(C$Tzt){this._init(),cc.js.array.contains(this._clips,C$Tzt)||this._clips.push(C$Tzt),C$Tze=C$Tze||C$Tzt.name;var C$Tzi=this._nameToState[C$Tze];if(C$Tzi){if(C$Tzi.clip===C$Tzt)return C$Tzi;C$Tzi=this._clips.indexOf(C$Tzi.clip);-1!==C$Tzi&&this._clips.splice(C$Tzi,1);}C$Tzi=new cc.AnimationState(C$Tzt,C$Tze);return this._nameToState[C$Tze]=C$Tzi;}cc.warnID(3900);},removeClip:function(C$Tze,C$Tzt){if(C$Tze){var C$Tzi,C$Tzn;for(C$Tzn in this._init(),this._nameToState)if((C$Tzi=this._nameToState[C$Tzn]).clip===C$Tze)break;if(C$Tze===this._defaultClip){if(!C$Tzt)return void cc.warnID(3902);this._defaultClip=null;}if(C$Tzi&&C$Tzi.isPlaying){if(!C$Tzt)return void cc.warnID(3903);this.stop(C$Tzi.name);}this._clips=this._clips.filter(function(C$Tzt){return!(C$Tzt===C$Tze);}),C$Tzi&&delete this._nameToState[C$Tzi.name];}else cc.warnID(3901);},sample:function(C$Tzt){this._init(),C$Tzt?(C$Tzt=this._nameToState[C$Tzt])&&C$Tzt.sample():this._animator.sample();},on:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._init();C$Tze=this._EventTargetOn(C$Tzt,C$Tze,C$Tzi,C$Tzn);if(H[481]===C$Tzt){var C$Tzr,C$Tzs=this._nameToState;for(C$Tzr in C$Tzs)C$Tzs[C$Tzr]._lastframeEventOn=!0;}return C$Tze;},off:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){if(this._init(),H[481]===C$Tzt){var C$Tzr,C$Tzs=this._nameToState;for(C$Tzr in C$Tzs)C$Tzs[C$Tzr]._lastframeEventOn=!1;}this._EventTargetOff(C$Tzt,C$Tze,C$Tzi,C$Tzn);},_init:function(){this._didInit||(this._didInit=!0,this._animator=new C$Tzn(this.node,this),this._createStates());},_createStates:function(){this._nameToState=C$Tzo.createMap(!0);for(var C$Tzt=null,C$Tze=!1,C$Tzi=0;C$Tzi<this._clips.length;++C$Tzi){var C$Tzn=this._clips[C$Tzi];C$Tzn&&(C$Tzt=new cc.AnimationState(C$Tzn),this._nameToState[C$Tzt.name]=C$Tzt,this._defaultClip===C$Tzn&&(C$Tze=C$Tzt));}this._defaultClip&&!C$Tze&&(C$Tzt=new cc.AnimationState(this._defaultClip),this._nameToState[C$Tzt.name]=C$Tzt);}});C$Tzt.prototype._EventTargetOn=C$Tzs.prototype.on,C$Tzt.prototype._EventTargetOff=C$Tzs.prototype.off,cc.Animation=C$Tze.exports=C$Tzt;},{"../../animation/animation-animator":10,"../../animation/animation-clip":11,"../event/event-target":115,"../platform/js":209,"./CCComponent":78}],74:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[849]),C$Tzr=C$Tzt(H[848]),C$Tzs=C$Tzt(H[850]),C$Tzt=cc.Class({name:H[851],extends:C$Tzr,editor:!1,ctor:function(){this.audio=new cc.Audio();},properties:{_clip:{default:null,type:C$Tzs},_volume:1,_mute:!1,_loop:!1,_pausedFlag:{default:!1,serializable:!1},isPlaying:{get:function(){return this.audio.getState()===cc.Audio.State.PLAYING;},visible:!1},clip:{get:function(){return this._clip;},set:function(C$Tzt){var C$Tzi;if(H[462]==typeof C$Tzt)return cc.warnID(8401,H[851],H[524],H[525],H[524],H[508]),C$Tzi=this,void C$Tzs._loadByUrl(C$Tzt,function(C$Tzt,C$Tze){C$Tze&&(C$Tzi.clip=C$Tze);});C$Tzt!==this._clip&&(this._clip=C$Tzt,this.audio.stop(),this.preload&&(this.audio.src=this._clip));},type:C$Tzs,tooltip:!1,animatable:!1},volume:{get:function(){return this._volume;},set:function(C$Tzt){return C$Tzt=C$Tzn.clamp01(C$Tzt),this._volume=C$Tzt,this._mute||this.audio.setVolume(C$Tzt),C$Tzt;},tooltip:!1},mute:{get:function(){return this._mute;},set:function(C$Tzt){return this._mute=C$Tzt,this.audio.setVolume(C$Tzt?0:this._volume),C$Tzt;},animatable:!1,tooltip:!1},loop:{get:function(){return this._loop;},set:function(C$Tzt){return this._loop=C$Tzt,this.audio.setLoop(C$Tzt),C$Tzt;},animatable:!1,tooltip:!1},playOnLoad:{default:!1,tooltip:!1,animatable:!1},preload:{default:!1,animatable:!1}},_ensureDataLoaded:function(){this.audio.src!==this._clip&&(this.audio.src=this._clip);},_pausedCallback:function(){this.audio.getState()===cc.Audio.State.PLAYING&&(this.audio.pause(),this._pausedFlag=!0);},_restoreCallback:function(){this._pausedFlag&&this.audio.resume(),this._pausedFlag=!1;},onLoad:function(){this.audio.setVolume(this._mute?0:this._volume),this.audio.setLoop(this._loop);},onEnable:function(){this.preload&&(this.audio.src=this._clip),this.playOnLoad&&this.play(),cc.game.on(cc.game.EVENT_HIDE,this._pausedCallback,this),cc.game.on(cc.game.EVENT_SHOW,this._restoreCallback,this);},onDisable:function(){this.stop(),cc.game.off(cc.game.EVENT_HIDE,this._pausedCallback,this),cc.game.off(cc.game.EVENT_SHOW,this._restoreCallback,this);},onDestroy:function(){this.stop(),this.audio.destroy(),cc.audioEngine.uncache(this._clip);},play:function(){var C$Tzt;this._clip&&(C$Tzt=this.audio,this._clip.loaded&&C$Tzt.stop(),this._ensureDataLoaded(),C$Tzt.setCurrentTime(0),C$Tzt.play());},stop:function(){this.audio.stop();},pause:function(){this.audio.pause();},resume:function(){this._ensureDataLoaded(),this.audio.resume();},rewind:function(){this.audio.setCurrentTime(0);},getCurrentTime:function(){return this.audio.getCurrentTime();},setCurrentTime:function(C$Tzt){return this.audio.setCurrentTime(C$Tzt),C$Tzt;},getDuration:function(){return this.audio.getDuration();}});cc.AudioSource=C$Tze.exports=C$Tzt;},{"../assets/CCAudioClip":35,"../utils/misc":264,"./CCComponent":78}],75:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=[H[667],H[668],H[510],H[511],H[670],H[673],H[671],H[672],H[674]];function C$Tzr(C$Tzt){C$Tzt.stopPropagation();}C$Tzt=cc.Class({name:H[852],extends:C$Tzt(H[848]),editor:{menu:H[853],inspector:H[854],help:H[855]},onEnable:function(){for(var C$Tzt=0;C$Tzt<C$Tzn.length;C$Tzt++)this.node.on(C$Tzn[C$Tzt],C$Tzr,this);},onDisable:function(){for(var C$Tzt=0;C$Tzt<C$Tzn.length;C$Tzt++)this.node.off(C$Tzn[C$Tzt],C$Tzr,this);}});cc.BlockInputEvents=C$Tze.exports=C$Tzt;},{"./CCComponent":78}],76:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[848]),C$Tzt=C$Tzt(H[856]),C$Tzr=cc.Enum({NONE:0,COLOR:1,SPRITE:2,SCALE:3}),C$Tzs=cc.Enum({NORMAL:0,HOVER:1,PRESSED:2,DISABLED:3}),C$Tzn=cc.Class({name:H[857],extends:C$Tzn,mixins:[C$Tzt],ctor:function(){this._pressed=!1,this._hovered=!1,this._fromColor=null,this._toColor=null,this._time=0,this._transitionFinished=!0,this._fromScale=cc.Vec2.ZERO,this._toScale=cc.Vec2.ZERO,this._originalScale=null,this._graySpriteMaterial=null,this._spriteMaterial=null,this._sprite=null;},editor:!1,properties:{interactable:{default:!0,tooltip:!1,notify:function(){this._updateState(),this.interactable||this._resetState();},animatable:!1},_resizeToTarget:{animatable:!1,set:function(C$Tzt){C$Tzt&&this._resizeNodeToTargetNode();}},enableAutoGrayEffect:{default:!1,tooltip:!1,notify:function(){this._updateDisabledState();}},transition:{default:C$Tzr.NONE,tooltip:!1,type:C$Tzr,animatable:!1,notify:function(C$Tzt){this._updateTransition(C$Tzt);},formerlySerializedAs:H[858]},normalColor:{default:cc.Color.WHITE,displayName:H[859],tooltip:!1,notify:function(){this.transition===C$Tzr.Color&&this._getButtonState()===C$Tzs.NORMAL&&(this._getTarget().opacity=this.normalColor.a),this._updateState();}},pressedColor:{default:cc.color(211,211,211),displayName:H[860],tooltip:!1,notify:function(){this.transition===C$Tzr.Color&&this._getButtonState()===C$Tzs.PRESSED&&(this._getTarget().opacity=this.pressedColor.a),this._updateState();},formerlySerializedAs:H[861]},hoverColor:{default:cc.Color.WHITE,displayName:H[862],tooltip:!1,notify:function(){this.transition===C$Tzr.Color&&this._getButtonState()===C$Tzs.HOVER&&(this._getTarget().opacity=this.hoverColor.a),this._updateState();},formerlySerializedAs:H[863]},disabledColor:{default:cc.color(124,124,124),displayName:H[864],tooltip:!1,notify:function(){this.transition===C$Tzr.Color&&this._getButtonState()===C$Tzs.DISABLED&&(this._getTarget().opacity=this.disabledColor.a),this._updateState();}},duration:{default:.1,range:[0,10],tooltip:!1},zoomScale:{default:1.2,tooltip:!1},normalSprite:{default:null,type:cc.SpriteFrame,displayName:H[859],tooltip:!1,notify:function(){this._updateState();}},pressedSprite:{default:null,type:cc.SpriteFrame,displayName:H[860],tooltip:!1,formerlySerializedAs:H[865],notify:function(){this._updateState();}},hoverSprite:{default:null,type:cc.SpriteFrame,displayName:H[862],tooltip:!1,formerlySerializedAs:H[866],notify:function(){this._updateState();}},disabledSprite:{default:null,type:cc.SpriteFrame,displayName:H[864],tooltip:!1,notify:function(){this._updateState();}},target:{default:null,type:cc.Node,tooltip:!1,notify:function(C$Tzt){this._applyTarget(),C$Tzt&&this.target!==C$Tzt&&this._unregisterTargetEvent(C$Tzt);}},clickEvents:{default:[],type:cc.Component.EventHandler,tooltip:!1}},statics:{Transition:C$Tzr},__preload:function(){this._applyTarget(),this._resetState();},_resetState:function(){this._pressed=!1,this._hovered=!1;var C$Tzt=this._getTarget(),C$Tze=this.transition,C$Tzi=this._originalScale;C$Tze===C$Tzr.COLOR&&this.interactable?this._setTargetColor(this.normalColor):C$Tze===C$Tzr.SCALE&&C$Tzi&&C$Tzt.setScale(C$Tzi.x,C$Tzi.y),this._transitionFinished=!0;},onEnable:function(){this.normalSprite&&this.normalSprite.ensureLoadTexture(),this.hoverSprite&&this.hoverSprite.ensureLoadTexture(),this.pressedSprite&&this.pressedSprite.ensureLoadTexture(),this.disabledSprite&&this.disabledSprite.ensureLoadTexture(),this._registerNodeEvent();},onDisable:function(){this._resetState(),this._unregisterNodeEvent();},_getTarget:function(){return this.target||this.node;},_onTargetSpriteFrameChanged:function(C$Tzt){this.transition===C$Tzr.SPRITE&&this._setCurrentStateSprite(C$Tzt.spriteFrame);},_onTargetColorChanged:function(C$Tzt){this.transition===C$Tzr.COLOR&&this._setCurrentStateColor(C$Tzt);},_onTargetScaleChanged:function(){var C$Tzt=this._getTarget();this._originalScale&&(this.transition!==C$Tzr.SCALE||this._transitionFinished)&&(this._originalScale.x=C$Tzt.scaleX,this._originalScale.y=C$Tzt.scaleY);},_setTargetColor:function(C$Tzt){var C$Tze=this._getTarget();C$Tze.color=C$Tzt,C$Tze.opacity=C$Tzt.a;},_getStateColor:function(C$Tzt){switch(C$Tzt){case C$Tzs.NORMAL:return this.normalColor;case C$Tzs.HOVER:return this.hoverColor;case C$Tzs.PRESSED:return this.pressedColor;case C$Tzs.DISABLED:return this.disabledColor;}},_getStateSprite:function(C$Tzt){switch(C$Tzt){case C$Tzs.NORMAL:return this.normalSprite;case C$Tzs.HOVER:return this.hoverSprite;case C$Tzs.PRESSED:return this.pressedSprite;case C$Tzs.DISABLED:return this.disabledSprite;}},_setCurrentStateColor:function(C$Tzt){switch(this._getButtonState()){case C$Tzs.NORMAL:this.normalColor=C$Tzt;break;case C$Tzs.HOVER:this.hoverColor=C$Tzt;break;case C$Tzs.PRESSED:this.pressedColor=C$Tzt;break;case C$Tzs.DISABLED:this.disabledColor=C$Tzt;}},_setCurrentStateSprite:function(C$Tzt){switch(this._getButtonState()){case C$Tzs.NORMAL:this.normalSprite=C$Tzt;break;case C$Tzs.HOVER:this.hoverSprite=C$Tzt;break;case C$Tzs.PRESSED:this.pressedSprite=C$Tzt;break;case C$Tzs.DISABLED:this.disabledSprite=C$Tzt;}},update:function(C$Tzt){var C$Tze,C$Tzi=this._getTarget();this._transitionFinished||this.transition!==C$Tzr.COLOR&&this.transition!==C$Tzr.SCALE||(this.time+=C$Tzt,(C$Tzt=1)<=(C$Tzt=0<this.duration?this.time/this.duration:C$Tzt)&&(C$Tzt=1),this.transition===C$Tzr.COLOR?(C$Tze=this._fromColor.lerp(this._toColor,C$Tzt),this._setTargetColor(C$Tze)):this.transition===C$Tzr.SCALE&&this._originalScale&&(C$Tzi.scale=this._fromScale.lerp(this._toScale,C$Tzt)),1===C$Tzt&&(this._transitionFinished=!0));},_registerNodeEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchBegan,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this),this.node.on(cc.Node.EventType.MOUSE_ENTER,this._onMouseMoveIn,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this._onMouseMoveOut,this);},_unregisterNodeEvent:function(){this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchBegan,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this),this.node.off(cc.Node.EventType.MOUSE_ENTER,this._onMouseMoveIn,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this._onMouseMoveOut,this);},_registerTargetEvent:function(C$Tzt){C$Tzt.on(cc.Node.EventType.SCALE_CHANGED,this._onTargetScaleChanged,this);},_unregisterTargetEvent:function(C$Tzt){C$Tzt.off(cc.Node.EventType.SCALE_CHANGED,this._onTargetScaleChanged,this);},_getTargetSprite:function(C$Tzt){var C$Tze=null;return C$Tze=C$Tzt?C$Tzt.getComponent(cc.Sprite):C$Tze;},_applyTarget:function(){var C$Tzt=this._getTarget();this._sprite=this._getTargetSprite(C$Tzt),this._originalScale||(this._originalScale=cc.Vec2.ZERO),this._originalScale.x=C$Tzt.scaleX,this._originalScale.y=C$Tzt.scaleY,this._registerTargetEvent(C$Tzt);},_onTouchBegan:function(C$Tzt){this.interactable&&this.enabledInHierarchy&&(this._pressed=!0,this._updateState(),C$Tzt.stopPropagation());},_onTouchMove:function(C$Tzt){var C$Tze,C$Tzi,C$Tzn;this.interactable&&this.enabledInHierarchy&&this._pressed&&(C$Tze=C$Tzt.touch,C$Tze=this.node._hitTest(C$Tze.getLocation()),C$Tzn=this._getTarget(),C$Tzi=this._originalScale,this.transition===C$Tzr.SCALE&&C$Tzi?C$Tze?(this._fromScale.x=C$Tzi.x,this._fromScale.y=C$Tzi.y,this._toScale.x=C$Tzi.x*this.zoomScale,this._toScale.y=C$Tzi.y*this.zoomScale,this._transitionFinished=!1):(this.time=0,this._transitionFinished=!0,C$Tzn.setScale(C$Tzi.x,C$Tzi.y)):(C$Tzn=C$Tze?C$Tzs.PRESSED:C$Tzs.NORMAL,this._applyTransition(C$Tzn)),C$Tzt.stopPropagation());},_onTouchEnded:function(C$Tzt){this.interactable&&this.enabledInHierarchy&&(this._pressed&&(cc.Component.EventHandler.emitEvents(this.clickEvents,C$Tzt),this.node.emit(H[867],this)),this._pressed=!1,this._updateState(),C$Tzt.stopPropagation());},_onTouchCancel:function(){this.interactable&&this.enabledInHierarchy&&(this._pressed=!1,this._updateState());},_onMouseMoveIn:function(){!this._pressed&&this.interactable&&this.enabledInHierarchy&&(this.transition===C$Tzr.SPRITE&&!this.hoverSprite||this._hovered||(this._hovered=!0,this._updateState()));},_onMouseMoveOut:function(){this._hovered&&(this._hovered=!1,this._updateState());},_updateState:function(){var C$Tzt=this._getButtonState();this._applyTransition(C$Tzt),this._updateDisabledState();},_getButtonState:function(){return this.interactable?this._pressed?C$Tzs.PRESSED:this._hovered?C$Tzs.HOVER:C$Tzs.NORMAL:C$Tzs.DISABLED;},_updateColorTransitionImmediately:function(C$Tzt){C$Tzt=this._getStateColor(C$Tzt);this._setTargetColor(C$Tzt),this._fromColor=C$Tzt.clone(),this._toColor=C$Tzt;},_updateColorTransition:function(C$Tzt){var C$Tze;C$Tzt===C$Tzs.DISABLED?this._updateColorTransitionImmediately(C$Tzt):(C$Tze=this._getTarget(),C$Tzt=this._getStateColor(C$Tzt),this._fromColor=C$Tze.color.clone(),this._toColor=C$Tzt,this.time=0,this._transitionFinished=!1);},_updateSpriteTransition:function(C$Tzt){C$Tzt=this._getStateSprite(C$Tzt);this._sprite&&C$Tzt&&(this._sprite.spriteFrame=C$Tzt);},_updateScaleTransition:function(C$Tzt){C$Tzt===C$Tzs.PRESSED?this._zoomUp():this._zoomBack();},_zoomUp:function(){this._originalScale&&(this._fromScale.x=this._originalScale.x,this._fromScale.y=this._originalScale.y,this._toScale.x=this._originalScale.x*this.zoomScale,this._toScale.y=this._originalScale.y*this.zoomScale,this.time=0,this._transitionFinished=!1);},_zoomBack:function(){var C$Tzt;this._originalScale&&(C$Tzt=this._getTarget(),this._fromScale.x=C$Tzt.scaleX,this._fromScale.y=C$Tzt.scaleY,this._toScale.x=this._originalScale.x,this._toScale.y=this._originalScale.y,this.time=0,this._transitionFinished=!1);},_updateTransition:function(C$Tzt){C$Tzt===C$Tzr.COLOR?this._updateColorTransitionImmediately(C$Tzs.NORMAL):C$Tzt===C$Tzr.SPRITE&&this._updateSpriteTransition(C$Tzs.NORMAL),this._updateState();},_applyTransition:function(C$Tzt){var C$Tze=this.transition;C$Tze===C$Tzr.COLOR?this._updateColorTransition(C$Tzt):C$Tze===C$Tzr.SPRITE?this._updateSpriteTransition(C$Tzt):C$Tze===C$Tzr.SCALE&&this._updateScaleTransition(C$Tzt);},_resizeNodeToTargetNode:!1,_updateDisabledState:function(){var C$Tzt;this._sprite&&(C$Tzt=!1,this.enableAutoGrayEffect&&(this.transition===C$Tzr.SPRITE&&this.disabledSprite||this.interactable||(C$Tzt=!0)),this._switchGrayMaterial(C$Tzt,this._sprite));}});cc.Button=C$Tze.exports=C$Tzn;},{"../utils/gray-sprite-state":260,"./CCComponent":78}],77:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[868]),C$Tzt=C$Tzt(H[848]);var C$Tzr=cc.Class({name:H[869],extends:C$Tzt,editor:!1,resetInEditor:!1,statics:{instance:null},properties:{_designResolution:cc.size(960,640),designResolution:{get:function(){return cc.size(this._designResolution);},set:function(C$Tzt){this._designResolution.width=C$Tzt.width,this._designResolution.height=C$Tzt.height,this.applySettings();},tooltip:!1},_fitWidth:!1,_fitHeight:!0,fitHeight:{get:function(){return this._fitHeight;},set:function(C$Tzt){this._fitHeight!==C$Tzt&&(this._fitHeight=C$Tzt,this.applySettings());},tooltip:!1},fitWidth:{get:function(){return this._fitWidth;},set:function(C$Tzt){this._fitWidth!==C$Tzt&&(this._fitWidth=C$Tzt,this.applySettings());},tooltip:!1}},_fitDesignResolution:!1,__preload:function(){if(C$Tzr.instance)return cc.warnID(6700,this.node.name,C$Tzr.instance.node.name);(C$Tzr.instance=this).applySettings();var C$Tzt=this.getComponent(cc.Widget),C$Tzt=(C$Tzt&&C$Tzt.updateAlignment(),cc.find(H[870],this.node)),C$Tze=(C$Tzt||((C$Tzt=new cc.Node(H[870])).parent=this.node,C$Tzt.setSiblingIndex(0)),C$Tzt.getComponent(C$Tzn));C$Tze||(C$Tze=C$Tzt.addComponent(C$Tzn),C$Tzt=C$Tzn.ClearFlags,C$Tze.clearFlags=C$Tzt.COLOR|C$Tzt.DEPTH|C$Tzt.STENCIL,C$Tze.depth=-1),C$Tzn.main=C$Tze;},onDestroy:function(){C$Tzr.instance===this&&(C$Tzr.instance=null);},applySettings:function(){var C$Tzt=cc.ResolutionPolicy,C$Tzt=this.fitHeight&&this.fitWidth?C$Tzt.SHOW_ALL:this.fitHeight||this.fitWidth?this.fitWidth?C$Tzt.FIXED_WIDTH:C$Tzt.FIXED_HEIGHT:C$Tzt.NO_BORDER,C$Tze=this._designResolution;cc.view.setDesignResolutionSize(C$Tze.width,C$Tze.height,C$Tzt);}});cc.Canvas=C$Tze.exports=C$Tzr;},{"../camera/CCCamera":63,"./CCComponent":78}],78:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[719]),C$Tzr=C$Tzt(H[720]),C$Tzs=new(C$Tzt(H[744]))(H[871]),C$Tzo=(C$Tzn.Flags.IsOnEnableCalled,C$Tzn.Flags.IsOnLoadCalled),C$Tza=!!cc.ActionManager,C$Tzt=cc.Class({name:H[872],extends:C$Tzn,ctor:function(){this._id=C$Tzs.getNewId(),this.__eventTargets=[];},properties:{node:{default:null,visible:!1},name:{get:function(){if(this._name)return this._name;var C$Tzt=cc.js.getClassName(this),C$Tze=C$Tzt.lastIndexOf(".");return 0<=C$Tze&&(C$Tzt=C$Tzt.slice(C$Tze+1)),this.node.name+"<"+C$Tzt+">";},set:function(C$Tzt){this._name=C$Tzt;},visible:!1},uuid:{get:function(){return this._id;},visible:!1},__scriptAsset:!1,_enabled:!0,enabled:{get:function(){return this._enabled;},set:function(C$Tzt){var C$Tze;this._enabled!==C$Tzt&&(this._enabled=C$Tzt,this.node._activeInHierarchy&&(C$Tze=cc.director._compScheduler,C$Tzt?C$Tze.enableComp(this):C$Tze.disableComp(this)));},visible:!1,animatable:!0},enabledInHierarchy:{get:function(){return this._enabled&&this.node._activeInHierarchy;},visible:!1},_isOnLoadCalled:{get:function(){return this._objFlags&C$Tzo;}}},update:null,lateUpdate:null,__preload:null,onLoad:null,start:null,onEnable:null,onDisable:null,onDestroy:null,onFocusInEditor:null,onLostFocusInEditor:null,resetInEditor:null,addComponent:function(C$Tzt){return this.node.addComponent(C$Tzt);},getComponent:function(C$Tzt){return this.node.getComponent(C$Tzt);},getComponents:function(C$Tzt){return this.node.getComponents(C$Tzt);},getComponentInChildren:function(C$Tzt){return this.node.getComponentInChildren(C$Tzt);},getComponentsInChildren:function(C$Tzt){return this.node.getComponentsInChildren(C$Tzt);},_getLocalBounds:null,onRestore:null,destroy:function(){this._super()&&this._enabled&&this.node._activeInHierarchy&&cc.director._compScheduler.disableComp(this);},_onPreDestroy:function(){C$Tza&&cc.director.getActionManager().removeAllActionsFromTarget(this),this.unscheduleAllCallbacks();for(var C$Tzt=this.__eventTargets,C$Tze=C$Tzt.length-1;0<=C$Tze;--C$Tze){var C$Tzi=C$Tzt[C$Tze];C$Tzi&&C$Tzi.targetOff(this);}C$Tzt.length=0,cc.director._nodeActivator.destroyComp(this),this.node._removeComponent(this);},_instantiate:function(C$Tzt){return(C$Tzt=C$Tzt||cc.instantiate._clone(this,this)).node=null,C$Tzt;},schedule:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){cc.assertID(C$Tzt,1619),C$Tze=C$Tze||0,cc.assertID(0<=C$Tze,1620),C$Tzi=isNaN(C$Tzi)?cc.macro.REPEAT_FOREVER:C$Tzi,C$Tzn=C$Tzn||0;var C$Tzr=cc.director.getScheduler(),C$Tzs=C$Tzr.isTargetPaused(this);C$Tzr.schedule(C$Tzt,this,C$Tze,C$Tzi,C$Tzn,C$Tzs);},scheduleOnce:function(C$Tzt,C$Tze){this.schedule(C$Tzt,0,0,C$Tze);},unschedule:function(C$Tzt){C$Tzt&&cc.director.getScheduler().unschedule(C$Tzt,this);},unscheduleAllCallbacks:function(){cc.director.getScheduler().unscheduleAllForTarget(this);}});C$Tzt._requireComponent=null,C$Tzt._executionOrder=0,C$Tzr.value(C$Tzt,H[873],function(C$Tzt,C$Tze){var C$Tzi=C$Tze.requireComponent,C$Tzi=(C$Tzi&&(C$Tzt._requireComponent=C$Tzi),C$Tze.executionOrder);C$Tzi&&H[463]==typeof C$Tzi&&(C$Tzt._executionOrder=C$Tzi);}),C$Tzt.prototype.__scriptUuid="",cc.Component=C$Tze.exports=C$Tzt;},{"../platform/CCObject":195,"../platform/id-generater":205,"../platform/js":209}],79:[function(C$Tzt,C$Tze,C$Tzi){"use strict";cc.Component.EventHandler=cc.Class({name:H[874],properties:{target:{default:null,type:cc.Node},component:"",_componentId:"",_componentName:{get:function(){return this._genCompIdIfNeeded(),this._compId2Name(this._componentId);},set:function(C$Tzt){this._componentId=this._compName2Id(C$Tzt);}},handler:{default:""},customEventData:{default:""}},statics:{emitEvents:function(C$Tzt){if(0<arguments.length)for(var C$Tze,C$Tzi=0,C$Tzn=(C$Tze=new Array(arguments.length-1)).length;C$Tzi<C$Tzn;C$Tzi++)C$Tze[C$Tzi]=arguments[C$Tzi+1];for(var C$Tzr=0,C$Tzs=C$Tzt.length;C$Tzr<C$Tzs;C$Tzr++){var C$Tzo=C$Tzt[C$Tzr];C$Tzo instanceof cc.Component.EventHandler&&C$Tzo.emit(C$Tze);}}},emit:function(C$Tzt){var C$Tze,C$Tzi=this.target;cc.isValid(C$Tzi)&&(this._genCompIdIfNeeded(),C$Tze=cc.js._getClassById(this._componentId),C$Tzi=C$Tzi.getComponent(C$Tze),!cc.isValid(C$Tzi)||H[704]==typeof(C$Tze=C$Tzi[this.handler])&&(null!=this.customEventData&&""!==this.customEventData&&(C$Tzt=C$Tzt.slice()).push(this.customEventData),C$Tze.apply(C$Tzi,C$Tzt)));},_compName2Id:function(C$Tzt){C$Tzt=cc.js.getClassByName(C$Tzt);return cc.js._getClassId(C$Tzt);},_compId2Name:function(C$Tzt){C$Tzt=cc.js._getClassById(C$Tzt);return cc.js.getClassName(C$Tzt);},_genCompIdIfNeeded:function(){this._componentId||(this._componentName=this.component,this.component="");}});},{}],80:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[875]),C$Tzr=C$Tzt(H[876]),C$Tzs=(C$Tzt(H[877]),C$Tzt(H[878])),C$Tzt=C$Tzn.TextAlignment,C$Tzn=C$Tzn.VerticalTextAlignment,C$Tzo=cc.Enum({NONE:0,CLAMP:1,SHRINK:2,RESIZE_HEIGHT:3}),C$Tza=cc.Enum({NONE:0,BITMAP:1,CHAR:2}),C$Tzc=cc.Class({name:H[879],extends:C$Tzr,ctor:function(){this._actualFontSize=0,this._assemblerData=null,this._frame=null,this._ttfTexture=null,this._letterTexture=null,cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?this._updateMaterial=this._updateMaterialCanvas:this._updateMaterial=this._updateMaterialWebgl;},editor:!1,properties:{_useOriginalSize:!0,_string:{default:"",formerlySerializedAs:"_N$string"},string:{get:function(){return this._string;},set:function(C$Tzt){var C$Tze=this._string;this._string=""+C$Tzt,this.string!==C$Tze&&this.setVertsDirty(),this._checkStringEmpty();},multiline:!0,tooltip:!1},horizontalAlign:{default:C$Tzt.LEFT,type:C$Tzt,tooltip:!1,notify:function(C$Tzt){this.horizontalAlign!==C$Tzt&&this.setVertsDirty();},animatable:!1},verticalAlign:{default:C$Tzn.TOP,type:C$Tzn,tooltip:!1,notify:function(C$Tzt){this.verticalAlign!==C$Tzt&&this.setVertsDirty();},animatable:!1},actualFontSize:{displayName:H[880],animatable:!1,readonly:!0,get:function(){return this._actualFontSize;},tooltip:!1},_fontSize:40,fontSize:{get:function(){return this._fontSize;},set:function(C$Tzt){this._fontSize!==C$Tzt&&(this._fontSize=C$Tzt,this.setVertsDirty());},range:[0,512],tooltip:!1},fontFamily:{default:H[741],tooltip:!1,notify:function(C$Tzt){this.fontFamily!==C$Tzt&&this.setVertsDirty();},animatable:!1},_lineHeight:40,lineHeight:{get:function(){return this._lineHeight;},set:function(C$Tzt){this._lineHeight!==C$Tzt&&(this._lineHeight=C$Tzt,this.setVertsDirty());},tooltip:!1},overflow:{default:C$Tzo.NONE,type:C$Tzo,tooltip:!1,notify:function(C$Tzt){this.overflow!==C$Tzt&&this.setVertsDirty();},animatable:!1},_enableWrapText:!0,enableWrapText:{get:function(){return this._enableWrapText;},set:function(C$Tzt){this._enableWrapText!==C$Tzt&&(this._enableWrapText=C$Tzt,this.setVertsDirty());},animatable:!1,tooltip:!1},_N$file:null,font:{get:function(){return this._N$file;},set:function(C$Tzt){this.font!==C$Tzt&&(C$Tzt||(this._isSystemFontUsed=!0),(this._N$file=C$Tzt)&&this._isSystemFontUsed&&(this._isSystemFontUsed=!1),H[462]==typeof C$Tzt&&cc.warnID(4e3),this.enabledInHierarchy&&this._forceUpdateRenderData());},type:cc.Font,tooltip:!1,animatable:!1},_isSystemFontUsed:!0,useSystemFont:{get:function(){return this._isSystemFontUsed;},set:function(C$Tzt){if(this._isSystemFontUsed!==C$Tzt){if(this._isSystemFontUsed=!!C$Tzt,C$Tzt){if(this.font=null,!this.enabledInHierarchy)return;this._forceUpdateRenderData();}this.markForValidate();}},animatable:!1,tooltip:!1},_bmFontOriginalSize:{displayName:H[881],get:function(){return this._N$file instanceof cc.BitmapFont?this._N$file.fontSize:-1;},visible:!0,animatable:!1},_spacingX:0,spacingX:{get:function(){return this._spacingX;},set:function(C$Tzt){this._spacingX=C$Tzt,this.setVertsDirty();},tooltip:!1},_batchAsBitmap:!1,cacheMode:{default:C$Tza.NONE,type:C$Tza,tooltip:!1,notify:function(C$Tzt){this.cacheMode!==C$Tzt&&(C$Tzt!==C$Tza.BITMAP||this.font instanceof cc.BitmapFont||this._frame&&this._frame._resetDynamicAtlasFrame(),C$Tzt===C$Tza.CHAR&&(this._ttfTexture=null),this.enabledInHierarchy&&this._forceUpdateRenderData());},animatable:!1},_styleFlags:0,enableBold:{get:function(){return!!(1&this._styleFlags);},set:function(C$Tzt){C$Tzt?this._styleFlags|=1:this._styleFlags&=-2,this.setVertsDirty();},animatable:!1,tooltip:!1},enableItalic:{get:function(){return!!(2&this._styleFlags);},set:function(C$Tzt){C$Tzt?this._styleFlags|=2:this._styleFlags&=-3,this.setVertsDirty();},animatable:!1,tooltip:!1},enableUnderline:{get:function(){return!!(4&this._styleFlags);},set:function(C$Tzt){C$Tzt?this._styleFlags|=4:this._styleFlags&=-5,this.setVertsDirty();},animatable:!1,tooltip:!1},_underlineHeight:0,underlineHeight:{get:function(){return this._underlineHeight;},set:function(C$Tzt){this._underlineHeight!==C$Tzt&&(this._underlineHeight=C$Tzt,this.setVertsDirty());},tooltip:!1}},statics:{HorizontalAlign:C$Tzt,VerticalAlign:C$Tzn,Overflow:C$Tzo,CacheMode:C$Tza,_shareAtlas:null,clearCharCache:function(){C$Tzc._shareAtlas&&C$Tzc._shareAtlas.clearAllCache();}},onLoad:function(){this._batchAsBitmap&&this.cacheMode===C$Tza.NONE&&(this.cacheMode=C$Tza.BITMAP,this._batchAsBitmap=!1),cc.game.renderType===cc.game.RENDER_TYPE_CANVAS&&(this.cacheMode=C$Tza.NONE);},onEnable:function(){this._super(),this.node.on(cc.Node.EventType.SIZE_CHANGED,this._nodeSizeChanged,this),this.node.on(cc.Node.EventType.ANCHOR_CHANGED,this.setVertsDirty,this),this._forceUpdateRenderData();},onDisable:function(){this._super(),this.node.off(cc.Node.EventType.SIZE_CHANGED,this._nodeSizeChanged,this),this.node.off(cc.Node.EventType.ANCHOR_CHANGED,this.setVertsDirty,this);},onDestroy:function(){this._assembler&&this._assembler._resetAssemblerData&&this._assembler._resetAssemblerData(this._assemblerData),this._assemblerData=null,this._letterTexture=null,this._ttfTexture&&(this._ttfTexture.destroy(),this._ttfTexture=null),this._super();},_nodeSizeChanged:function(){this.overflow!==C$Tzo.NONE&&this.setVertsDirty();},_updateColor:function(){this.font instanceof cc.BitmapFont||this.setVertsDirty(),C$Tzr.prototype._updateColor.call(this);},_validateRender:function(){if(this.string){if(this._materials[0]){var C$Tzt=this.font;if(!(C$Tzt instanceof cc.BitmapFont))return;var C$Tze=C$Tzt.spriteFrame;if(C$Tze&&C$Tze.textureLoaded()&&C$Tzt._fntConfig)return;}this.disableRender();}else this.disableRender();},_resetAssembler:function(){this._frame=null,C$Tzr.prototype._resetAssembler.call(this);},_checkStringEmpty:function(){this.markForRender(!!this.string);},_on3DNodeChanged:function(){this._resetAssembler(),this._applyFontTexture();},_onBMFontTextureLoaded:function(){this._frame._texture=this.font.spriteFrame._texture,this.markForRender(!0),this._updateMaterial(),this._assembler&&this._assembler.updateRenderData(this);},_applyFontTexture:function(){var C$Tzt=this.font;C$Tzt instanceof cc.BitmapFont?(C$Tzt=C$Tzt.spriteFrame,(this._frame=C$Tzt)&&C$Tzt.onTextureLoaded(this._onBMFontTextureLoaded,this)):(this._frame||(this._frame=new C$Tzs()),this.cacheMode===C$Tza.CHAR?(this._letterTexture=this._assembler._getAssemblerData(),this._frame._refreshTexture(this._letterTexture)):this._ttfTexture||(this._ttfTexture=new cc.Texture2D(),this._assemblerData=this._assembler._getAssemblerData(),this._ttfTexture.initWithElement(this._assemblerData.canvas)),this.cacheMode!==C$Tza.CHAR&&(this._frame._resetDynamicAtlasFrame(),this._frame._refreshTexture(this._ttfTexture)),this._updateMaterial(),this._assembler&&this._assembler.updateRenderData(this)),this.markForValidate();},_updateMaterialCanvas:function(){this._frame&&(this._frame._texture.url=this.uuid+H[882]);},_updateMaterialWebgl:function(){var C$Tzt;!this._frame||(C$Tzt=this.getMaterial(0))&&C$Tzt.setProperty(H[883],this._frame._texture);},_forceUpdateRenderData:function(){this.setVertsDirty(),this._resetAssembler(),this._applyFontTexture();},_enableBold:function(C$Tzt){cc.warn(H[884]),this.enableBold=!!C$Tzt;},_enableItalics:function(C$Tzt){cc.warn(H[885]),this.enableItalic=!!C$Tzt;},_enableUnderline:function(C$Tzt){cc.warn(H[886]),this.enableUnderline=!!C$Tzt;}});cc.Label=C$Tze.exports=C$Tzc;},{"../assets/material/CCMaterial":53,"../platform/CCMacro":194,"../renderer/utils/label/label-frame":225,"./CCRenderComponent":89}],81:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt=cc.Class({name:H[887],extends:C$Tzt(H[848]),editor:!1,properties:{_color:cc.Color.WHITE,_width:1,color:{tooltip:!1,get:function(){return this._color;},set:function(C$Tzt){this._color=C$Tzt,this._updateRenderData();}},width:{tooltip:!1,get:function(){return this._width;},set:function(C$Tzt){this._width!==C$Tzt&&(this._width=C$Tzt,this._updateRenderData());},range:[0,512]}},onEnable:function(){this._updateRenderData();},onDisable:function(){this._updateRenderData();},_updateRenderData:function(){var C$Tzt=this.node.getComponent(cc.Label);C$Tzt&&C$Tzt.setVertsDirty();}});cc.LabelOutline=C$Tze.exports=C$Tzt;},{"./CCComponent":78}],82:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt=cc.Class({name:H[888],extends:C$Tzt(H[848]),editor:!1,properties:{_color:cc.Color.WHITE,_offset:cc.v2(2,2),_blur:2,color:{tooltip:!1,get:function(){return this._color;},set:function(C$Tzt){this._color=C$Tzt,this._updateRenderData();}},offset:{tooltip:!1,get:function(){return this._offset;},set:function(C$Tzt){this._offset=C$Tzt,this._updateRenderData();}},blur:{tooltip:!1,get:function(){return this._blur;},set:function(C$Tzt){this._blur=C$Tzt,this._updateRenderData();},range:[0,1024]}},onEnable:function(){this._updateRenderData();},onDisable:function(){this._updateRenderData();},_updateRenderData:function(){var C$Tzt=this.node.getComponent(cc.Label);C$Tzt&&C$Tzt.markForRender(!0);}});cc.LabelShadow=C$Tze.exports=C$Tzt;},{"./CCComponent":78}],83:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[815]).EventType,C$TzE=cc.Enum({NONE:0,HORIZONTAL:1,VERTICAL:2,GRID:3}),C$TzM=cc.Enum({NONE:0,CONTAINER:1,CHILDREN:2}),C$Tzr=cc.Enum({HORIZONTAL:0,VERTICAL:1}),C$TzI=cc.Enum({BOTTOM_TO_TOP:0,TOP_TO_BOTTOM:1}),C$TzB=cc.Enum({LEFT_TO_RIGHT:0,RIGHT_TO_LEFT:1}),C$Tzt=cc.Class({name:H[889],extends:C$Tzt(H[848]),editor:!1,properties:{_layoutSize:cc.size(300,200),_layoutDirty:{default:!0,serializable:!1},_resize:C$TzM.NONE,_N$layoutType:C$TzE.NONE,type:{type:C$TzE,get:function(){return this._N$layoutType;},set:function(C$Tzt){this._N$layoutType=C$Tzt,this._doLayoutDirty();},tooltip:!1,animatable:!1},resizeMode:{type:C$TzM,tooltip:!1,animatable:!1,get:function(){return this._resize;},set:function(C$Tzt){this.type===C$TzE.NONE&&C$Tzt===C$TzM.CHILDREN||(this._resize=C$Tzt,this._doLayoutDirty());}},cellSize:{default:cc.size(40,40),tooltip:!1,type:cc.Size,notify:function(){this._doLayoutDirty();}},startAxis:{default:C$Tzr.HORIZONTAL,tooltip:!1,type:C$Tzr,notify:function(){this._doLayoutDirty();},animatable:!1},paddingLeft:{default:0,tooltip:!1,notify:function(){this._doLayoutDirty();}},paddingRight:{default:0,tooltip:!1,notify:function(){this._doLayoutDirty();}},paddingTop:{default:0,tooltip:!1,notify:function(){this._doLayoutDirty();}},paddingBottom:{default:0,tooltip:!1,notify:function(){this._doLayoutDirty();}},spacingX:{default:0,notify:function(){this._doLayoutDirty();},tooltip:!1},spacingY:{default:0,notify:function(){this._doLayoutDirty();},tooltip:!1},verticalDirection:{default:C$TzI.TOP_TO_BOTTOM,type:C$TzI,notify:function(){this._doLayoutDirty();},tooltip:!1,animatable:!1},horizontalDirection:{default:C$TzB.LEFT_TO_RIGHT,type:C$TzB,notify:function(){this._doLayoutDirty();},tooltip:!1,animatable:!1},affectedByScale:{default:!1,notify:function(){this._doLayoutDirty();},animatable:!1,tooltip:!1}},statics:{Type:C$TzE,VerticalDirection:C$TzI,HorizontalDirection:C$TzB,ResizeMode:C$TzM,AxisDirection:C$Tzr},onEnable:function(){this._addEventListeners(),this.node.getContentSize().equals(cc.size(0,0))&&this.node.setContentSize(this._layoutSize),this._doLayoutDirty();},onDisable:function(){this._removeEventListeners();},_doLayoutDirty:function(){this._layoutDirty=!0;},_doScaleDirty:function(){this._layoutDirty=this._layoutDirty||this.affectedByScale;},_addEventListeners:function(){cc.director.on(cc.Director.EVENT_AFTER_UPDATE,this.updateLayout,this),this.node.on(C$Tzn.SIZE_CHANGED,this._resized,this),this.node.on(C$Tzn.ANCHOR_CHANGED,this._doLayoutDirty,this),this.node.on(C$Tzn.CHILD_ADDED,this._childAdded,this),this.node.on(C$Tzn.CHILD_REMOVED,this._childRemoved,this),this.node.on(C$Tzn.CHILD_REORDER,this._doLayoutDirty,this),this._addChildrenEventListeners();},_removeEventListeners:function(){cc.director.off(cc.Director.EVENT_AFTER_UPDATE,this.updateLayout,this),this.node.off(C$Tzn.SIZE_CHANGED,this._resized,this),this.node.off(C$Tzn.ANCHOR_CHANGED,this._doLayoutDirty,this),this.node.off(C$Tzn.CHILD_ADDED,this._childAdded,this),this.node.off(C$Tzn.CHILD_REMOVED,this._childRemoved,this),this.node.off(C$Tzn.CHILD_REORDER,this._doLayoutDirty,this),this._removeChildrenEventListeners();},_addChildrenEventListeners:function(){for(var C$Tzt=this.node.children,C$Tze=0;C$Tze<C$Tzt.length;++C$Tze){var C$Tzi=C$Tzt[C$Tze];C$Tzi.on(C$Tzn.SCALE_CHANGED,this._doScaleDirty,this),C$Tzi.on(C$Tzn.SIZE_CHANGED,this._doLayoutDirty,this),C$Tzi.on(C$Tzn.POSITION_CHANGED,this._doLayoutDirty,this),C$Tzi.on(C$Tzn.ANCHOR_CHANGED,this._doLayoutDirty,this),C$Tzi.on(H[890],this._doLayoutDirty,this);}},_removeChildrenEventListeners:function(){for(var C$Tzt=this.node.children,C$Tze=0;C$Tze<C$Tzt.length;++C$Tze){var C$Tzi=C$Tzt[C$Tze];C$Tzi.off(C$Tzn.SCALE_CHANGED,this._doScaleDirty,this),C$Tzi.off(C$Tzn.SIZE_CHANGED,this._doLayoutDirty,this),C$Tzi.off(C$Tzn.POSITION_CHANGED,this._doLayoutDirty,this),C$Tzi.off(C$Tzn.ANCHOR_CHANGED,this._doLayoutDirty,this),C$Tzi.off(H[890],this._doLayoutDirty,this);}},_childAdded:function(C$Tzt){C$Tzt.on(C$Tzn.SCALE_CHANGED,this._doScaleDirty,this),C$Tzt.on(C$Tzn.SIZE_CHANGED,this._doLayoutDirty,this),C$Tzt.on(C$Tzn.POSITION_CHANGED,this._doLayoutDirty,this),C$Tzt.on(C$Tzn.ANCHOR_CHANGED,this._doLayoutDirty,this),C$Tzt.on(H[890],this._doLayoutDirty,this),this._doLayoutDirty();},_childRemoved:function(C$Tzt){C$Tzt.off(C$Tzn.SCALE_CHANGED,this._doScaleDirty,this),C$Tzt.off(C$Tzn.SIZE_CHANGED,this._doLayoutDirty,this),C$Tzt.off(C$Tzn.POSITION_CHANGED,this._doLayoutDirty,this),C$Tzt.off(C$Tzn.ANCHOR_CHANGED,this._doLayoutDirty,this),C$Tzt.off(H[890],this._doLayoutDirty,this),this._doLayoutDirty();},_resized:function(){this._layoutSize=this.node.getContentSize(),this._doLayoutDirty();},_doLayoutHorizontally:function(C$Tzh,C$Tzu,C$Tz_,C$Tzd){for(var C$Tzf=this.node.getAnchorPoint(),C$Tzp=this.node.children,C$Tzt=1,C$Tzm=this.paddingLeft,C$Tzy=-C$Tzf.x*C$Tzh,C$Tzg=(this.horizontalDirection===C$TzB.RIGHT_TO_LEFT&&(C$Tzt=-1,C$Tzy=(1-C$Tzf.x)*C$Tzh,C$Tzm=this.paddingRight),C$Tzy+C$Tzt*C$Tzm-C$Tzt*this.spacingX),C$Tzv=0,C$Tze=0,C$Tzi=0,C$Tzx=0,C$Tzn=0,C$Tzb=0,C$TzA=0,C$Tzr=0;C$Tzr<C$Tzp.length;++C$Tzr)(C$Tza=C$Tzp[C$Tzr]).activeInHierarchy&&C$TzA++;var C$TzC=this.cellSize.width;this.type!==C$TzE.GRID&&this.resizeMode===C$TzM.CHILDREN&&(C$TzC=(C$Tzh-(this.paddingLeft+this.paddingRight)-(C$TzA-1)*this.spacingX)/C$TzA);for(C$Tzr=0;C$Tzr<C$Tzp.length;++C$Tzr){var C$TzS,C$TzT,C$Tzs,C$Tzw,C$Tzo,C$Tza=C$Tzp[C$Tzr],C$Tzc=this._getUsedScaleValue(C$Tza.scaleX),C$Tzl=this._getUsedScaleValue(C$Tza.scaleY);C$Tza.activeInHierarchy&&(this._resize===C$TzM.CHILDREN&&(C$Tza.width=C$TzC/C$Tzc,this.type===C$TzE.GRID&&(C$Tza.height=this.cellSize.height/C$Tzl)),C$Tzo=C$Tza.anchorX,C$Tzc=C$Tza.width*C$Tzc,(C$Tze=C$Tze<C$Tzi?C$Tzi:C$Tze)<=(C$Tzl=C$Tza.height*C$Tzl)&&(C$Tzi=C$Tze,C$Tze=C$Tzl,C$Tzb=C$Tza.getAnchorPoint().y),C$Tzg=C$Tzg+C$Tzt*(C$Tzo=this.horizontalDirection===C$TzB.RIGHT_TO_LEFT?1-C$Tza.anchorX:C$Tzo)*C$Tzc+C$Tzt*this.spacingX,C$TzS=C$Tzt*(1-C$Tzo)*C$Tzc,C$Tzu&&(C$Tzs=C$Tzg+C$TzS+C$Tzt*(0<C$Tzt?this.paddingRight:this.paddingLeft),C$TzT=this.horizontalDirection===C$TzB.LEFT_TO_RIGHT&&C$Tzs>(1-C$Tzf.x)*C$Tzh,C$Tzs=this.horizontalDirection===C$TzB.RIGHT_TO_LEFT&&C$Tzs<-C$Tzf.x*C$Tzh,(C$TzT||C$Tzs)&&(C$Tze<=C$Tzl?(C$Tzv+=C$Tzi=0===C$Tzi?C$Tze:C$Tzi,C$Tzi=C$Tze):(C$Tzv+=C$Tze,C$Tzi=C$Tzl,C$Tze=0),C$Tzg=C$Tzy+C$Tzt*(C$Tzm+C$Tzo*C$Tzc),C$Tzx++)),C$TzT=C$Tz_(C$Tza,C$Tzv,C$Tzx),C$Tzh>=C$Tzc+this.paddingLeft+this.paddingRight&&C$Tzd&&C$Tza.setPosition(cc.v2(C$Tzg,C$TzT)),C$Tzs=1,C$Tzo=0===C$Tze?C$Tzl:C$Tze,this.verticalDirection===C$TzI.TOP_TO_BOTTOM?(C$Tzn=C$Tzn||this.node._contentSize.height,(C$Tzw=C$TzT+(C$Tzs=-1)*(C$Tzo*C$Tzb+this.paddingBottom))<C$Tzn&&(C$Tzn=C$Tzw)):(C$Tzn=C$Tzn||-this.node._contentSize.height)<(C$Tzw=C$TzT+C$Tzs*(C$Tzo*C$Tzb+this.paddingTop))&&(C$Tzn=C$Tzw),C$Tzg+=C$TzS);}return C$Tzn;},_getVerticalBaseHeight:function(C$Tzt){var C$Tze=0,C$Tzi=0;if(this.resizeMode===C$TzM.CONTAINER){for(var C$Tzn=0;C$Tzn<C$Tzt.length;++C$Tzn){var C$Tzr=C$Tzt[C$Tzn];C$Tzr.activeInHierarchy&&(C$Tzi++,C$Tze+=C$Tzr.height*this._getUsedScaleValue(C$Tzr.scaleY));}C$Tze+=(C$Tzi-1)*this.spacingY+this.paddingBottom+this.paddingTop;}else C$Tze=this.node.getContentSize().height;return C$Tze;},_doLayoutVertically:function(C$Tzh,C$Tzu,C$Tz_,C$Tzd){for(var C$Tzf=this.node.getAnchorPoint(),C$Tzp=this.node.children,C$Tzt=1,C$Tzm=this.paddingBottom,C$Tzy=-C$Tzf.y*C$Tzh,C$Tzg=(this.verticalDirection===C$TzI.TOP_TO_BOTTOM&&(C$Tzt=-1,C$Tzy=(1-C$Tzf.y)*C$Tzh,C$Tzm=this.paddingTop),C$Tzy+C$Tzt*C$Tzm-C$Tzt*this.spacingY),C$Tzv=0,C$Tze=0,C$Tzi=0,C$Tzx=0,C$Tzn=0,C$Tzb=0,C$TzA=0,C$Tzr=0;C$Tzr<C$Tzp.length;++C$Tzr)(C$Tza=C$Tzp[C$Tzr]).activeInHierarchy&&C$TzA++;var C$TzC=this.cellSize.height;this.type!==C$TzE.GRID&&this.resizeMode===C$TzM.CHILDREN&&(C$TzC=(C$Tzh-(this.paddingTop+this.paddingBottom)-(C$TzA-1)*this.spacingY)/C$TzA);for(C$Tzr=0;C$Tzr<C$Tzp.length;++C$Tzr){var C$TzS,C$TzT,C$Tzs,C$Tzw,C$Tzo,C$Tza=C$Tzp[C$Tzr],C$Tzc=this._getUsedScaleValue(C$Tza.scaleX),C$Tzl=this._getUsedScaleValue(C$Tza.scaleY);C$Tza.activeInHierarchy&&(this.resizeMode===C$TzM.CHILDREN&&(C$Tza.height=C$TzC/C$Tzl,this.type===C$TzE.GRID&&(C$Tza.width=this.cellSize.width/C$Tzc)),C$Tzo=C$Tza.anchorY,C$Tzc=C$Tza.width*C$Tzc,C$Tzl=C$Tza.height*C$Tzl,(C$Tze=C$Tze<C$Tzi?C$Tzi:C$Tze)<=C$Tzc&&(C$Tzi=C$Tze,C$Tze=C$Tzc,C$Tzb=C$Tza.getAnchorPoint().x),C$Tzg=C$Tzg+C$Tzt*(C$Tzo=this.verticalDirection===C$TzI.TOP_TO_BOTTOM?1-C$Tza.anchorY:C$Tzo)*C$Tzl+C$Tzt*this.spacingY,C$TzS=C$Tzt*(1-C$Tzo)*C$Tzl,C$Tzu&&(C$Tzs=C$Tzg+C$TzS+C$Tzt*(0<C$Tzt?this.paddingTop:this.paddingBottom),C$TzT=this.verticalDirection===C$TzI.BOTTOM_TO_TOP&&C$Tzs>(1-C$Tzf.y)*C$Tzh,C$Tzs=this.verticalDirection===C$TzI.TOP_TO_BOTTOM&&C$Tzs<-C$Tzf.y*C$Tzh,(C$TzT||C$Tzs)&&(C$Tze<=C$Tzc?(C$Tzv+=C$Tzi=0===C$Tzi?C$Tze:C$Tzi,C$Tzi=C$Tze):(C$Tzv+=C$Tze,C$Tzi=C$Tzc,C$Tze=0),C$Tzg=C$Tzy+C$Tzt*(C$Tzm+C$Tzo*C$Tzl),C$Tzx++)),C$TzT=C$Tz_(C$Tza,C$Tzv,C$Tzx),C$Tzh>=C$Tzl+(this.paddingTop+this.paddingBottom)&&C$Tzd&&C$Tza.setPosition(cc.v2(C$TzT,C$Tzg)),C$Tzs=1,C$Tzo=0===C$Tze?C$Tzc:C$Tze,this.horizontalDirection===C$TzB.RIGHT_TO_LEFT?(C$Tzn=C$Tzn||this.node._contentSize.width,(C$Tzw=C$TzT+(C$Tzs=-1)*(C$Tzo*C$Tzb+this.paddingLeft))<C$Tzn&&(C$Tzn=C$Tzw)):(C$Tzn=C$Tzn||-this.node._contentSize.width)<(C$Tzw=C$TzT+C$Tzs*(C$Tzo*C$Tzb+this.paddingRight))&&(C$Tzn=C$Tzw),C$Tzg+=C$TzS);}return C$Tzn;},_doLayoutBasic:function(){for(var C$Tzt,C$Tze,C$Tzi,C$Tzn=this.node.children,C$Tzr=null,C$Tzs=0;C$Tzs<C$Tzn.length;++C$Tzs){var C$Tzo=C$Tzn[C$Tzs];C$Tzo.activeInHierarchy&&(C$Tzr?C$Tzr.union(C$Tzr,C$Tzo.getBoundingBoxToWorld()):C$Tzr=C$Tzo.getBoundingBoxToWorld());}C$Tzr&&(C$Tzt=this.node.convertToNodeSpaceAR(cc.v2(C$Tzr.x,C$Tzr.y)),C$Tzt=cc.v2(C$Tzt.x-this.paddingLeft,C$Tzt.y-this.paddingBottom),C$Tzi=this.node.convertToNodeSpaceAR(cc.v2(C$Tzr.xMax,C$Tzr.yMax)),C$Tzi=(C$Tzi=cc.v2(C$Tzi.x+this.paddingRight,C$Tzi.y+this.paddingTop)).sub(C$Tzt),0!==(C$Tzi=cc.size(parseFloat(C$Tzi.x.toFixed(2)),parseFloat(C$Tzi.y.toFixed(2)))).width&&(C$Tze=-C$Tzt.x/C$Tzi.width,this.node.anchorX=parseFloat(C$Tze.toFixed(2))),0!==C$Tzi.height&&(C$Tze=-C$Tzt.y/C$Tzi.height,this.node.anchorY=parseFloat(C$Tze.toFixed(2))),this.node.setContentSize(C$Tzi));},_doLayoutGridAxisHorizontal:function(C$Tzt,C$Tze){var C$Tzi,C$Tzn=C$Tze.width,C$Tzr=1,C$Tzs=-C$Tzt.y*C$Tze.height,C$Tzo=this.paddingBottom,C$Tze=(this.verticalDirection===C$TzI.TOP_TO_BOTTOM&&(C$Tzr=-1,C$Tzs=(1-C$Tzt.y)*C$Tze.height,C$Tzo=this.paddingTop),function(C$Tzt,C$Tze,C$Tzi){return C$Tzs+C$Tzr*(C$Tze+C$Tzt.anchorY*C$Tzt.height*this._getUsedScaleValue(C$Tzt.scaleY)+C$Tzo+C$Tzi*this.spacingY);}.bind(this)),C$Tza=0;this.resizeMode===C$TzM.CONTAINER&&(C$Tzi=this._doLayoutHorizontally(C$Tzn,!0,C$Tze,!1),(C$Tza=C$Tzs-C$Tzi)<0&&(C$Tza*=-1),C$Tzs=-C$Tzt.y*C$Tza,this.verticalDirection===C$TzI.TOP_TO_BOTTOM&&(C$Tzr=-1,C$Tzs=(1-C$Tzt.y)*C$Tza)),this._doLayoutHorizontally(C$Tzn,!0,C$Tze,!0),this.resizeMode===C$TzM.CONTAINER&&this.node.setContentSize(C$Tzn,C$Tza);},_doLayoutGridAxisVertical:function(C$Tzt,C$Tze){var C$Tzi,C$Tzn=C$Tze.height,C$Tzr=1,C$Tzs=-C$Tzt.x*C$Tze.width,C$Tzo=this.paddingLeft,C$Tze=(this.horizontalDirection===C$TzB.RIGHT_TO_LEFT&&(C$Tzr=-1,C$Tzs=(1-C$Tzt.x)*C$Tze.width,C$Tzo=this.paddingRight),function(C$Tzt,C$Tze,C$Tzi){return C$Tzs+C$Tzr*(C$Tze+C$Tzt.anchorX*C$Tzt.width*this._getUsedScaleValue(C$Tzt.scaleX)+C$Tzo+C$Tzi*this.spacingX);}.bind(this)),C$Tza=0;this.resizeMode===C$TzM.CONTAINER&&(C$Tzi=this._doLayoutVertically(C$Tzn,!0,C$Tze,!1),(C$Tza=C$Tzs-C$Tzi)<0&&(C$Tza*=-1),C$Tzs=-C$Tzt.x*C$Tza,this.horizontalDirection===C$TzB.RIGHT_TO_LEFT&&(C$Tzr=-1,C$Tzs=(1-C$Tzt.x)*C$Tza)),this._doLayoutVertically(C$Tzn,!0,C$Tze,!0),this.resizeMode===C$TzM.CONTAINER&&this.node.setContentSize(C$Tza,C$Tzn);},_doLayoutGrid:function(){var C$Tzt=this.node.getAnchorPoint(),C$Tze=this.node.getContentSize();this.startAxis===C$Tzr.HORIZONTAL?this._doLayoutGridAxisHorizontal(C$Tzt,C$Tze):this.startAxis===C$Tzr.VERTICAL&&this._doLayoutGridAxisVertical(C$Tzt,C$Tze);},_getHorizontalBaseWidth:function(C$Tzt){var C$Tze=0,C$Tzi=0;if(this.resizeMode===C$TzM.CONTAINER){for(var C$Tzn=0;C$Tzn<C$Tzt.length;++C$Tzn){var C$Tzr=C$Tzt[C$Tzn];C$Tzr.activeInHierarchy&&(C$Tzi++,C$Tze+=C$Tzr.width*this._getUsedScaleValue(C$Tzr.scaleX));}C$Tze+=(C$Tzi-1)*this.spacingX+this.paddingLeft+this.paddingRight;}else C$Tze=this.node.getContentSize().width;return C$Tze;},_doLayout:function(){var C$Tzt;this.type===C$TzE.HORIZONTAL?(C$Tzt=this._getHorizontalBaseWidth(this.node.children),this._doLayoutHorizontally(C$Tzt,!1,function(C$Tzt){return C$Tzt.y;},!0),this.node.width=C$Tzt):this.type===C$TzE.VERTICAL?(C$Tzt=this._getVerticalBaseHeight(this.node.children),this._doLayoutVertically(C$Tzt,!1,function(C$Tzt){return C$Tzt.x;},!0),this.node.height=C$Tzt):this.type===C$TzE.NONE?this.resizeMode===C$TzM.CONTAINER&&this._doLayoutBasic():this.type===C$TzE.GRID&&this._doLayoutGrid();},_getUsedScaleValue:function(C$Tzt){return this.affectedByScale?Math.abs(C$Tzt):1;},updateLayout:function(){this._layoutDirty&&0<this.node.children.length&&(this._doLayout(),this._layoutDirty=!1);}});cc.Layout=C$Tze.exports=C$Tzt;},{"../CCNode":30,"./CCComponent":78}],84:[function(C$Tzt,C$Tze,C$Tzh){"use strict";var C$Tzu=C$Tzn(C$Tzt(H[725])),C$Tzs=C$Tzn(C$Tzt(H[891])),C$Tzo=C$Tzn(C$Tzt(H[830])),C$Tzi=C$Tzn(C$Tzt(H[892]));function C$Tzn(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}var C$Tz_=C$Tzt(H[849]),C$Tzd=C$Tzt(H[876]),C$Tzr=C$Tzt(H[822]),C$Tzf=C$Tzt(H[893]),C$Tzp=new C$Tzo.default(),C$Tza=new C$Tzs.default(),C$Tzc=[];var C$Tzl=cc.Enum({RECT:0,ELLIPSE:1,IMAGE_STENCIL:2}),C$Tzt=cc.Class({name:H[894],extends:C$Tzd,editor:!1,ctor:function(){this._graphics=null,this._enableMaterial=null,this._exitMaterial=null,this._clearMaterial=null;},properties:{_spriteFrame:{default:null,type:cc.SpriteFrame},_type:C$Tzl.RECT,type:{get:function(){return this._type;},set:function(C$Tzt){this._type!==C$Tzt&&this._resetAssembler(),this._type=C$Tzt,this._type!==C$Tzl.IMAGE_STENCIL&&(this.spriteFrame=null,this.alphaThreshold=0,this._updateGraphics()),this._activateMaterial();},type:C$Tzl,tooltip:!1},spriteFrame:{type:cc.SpriteFrame,tooltip:!1,get:function(){return this._spriteFrame;},set:function(C$Tzt){this._spriteFrame!==C$Tzt&&(this._spriteFrame=C$Tzt,this.setVertsDirty(),this._updateMaterial());}},alphaThreshold:{default:.1,type:cc.Float,range:[0,1,.1],slide:!0,tooltip:!1,notify:function(){cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS?this._updateMaterial():cc.warnID(4201);}},inverted:{default:!1,type:cc.Boolean,tooltip:!1,notify:function(){cc.game.renderType===cc.game.RENDER_TYPE_CANVAS&&cc.warnID(4202);}},_segments:64,segements:{get:function(){return this._segments;},set:function(C$Tzt){this._segments=C$Tz_.clampf(C$Tzt,3,1e4),this._updateGraphics();},type:cc.Integer,tooltip:!1},_resizeToTarget:{animatable:!1,set:function(C$Tzt){C$Tzt&&this._resizeNodeToTargetNode();}}},statics:{Type:C$Tzl},onRestore:function(){this._activateMaterial();},onEnable:function(){this._super(),this._type!==C$Tzl.IMAGE_STENCIL&&this._updateGraphics(),this.node.on(cc.Node.EventType.POSITION_CHANGED,this._updateGraphics,this),this.node.on(cc.Node.EventType.ROTATION_CHANGED,this._updateGraphics,this),this.node.on(cc.Node.EventType.SCALE_CHANGED,this._updateGraphics,this),this.node.on(cc.Node.EventType.SIZE_CHANGED,this._updateGraphics,this),this.node.on(cc.Node.EventType.ANCHOR_CHANGED,this._updateGraphics,this);},onDisable:function(){this._super(),this.node.off(cc.Node.EventType.POSITION_CHANGED,this._updateGraphics,this),this.node.off(cc.Node.EventType.ROTATION_CHANGED,this._updateGraphics,this),this.node.off(cc.Node.EventType.SCALE_CHANGED,this._updateGraphics,this),this.node.off(cc.Node.EventType.SIZE_CHANGED,this._updateGraphics,this),this.node.off(cc.Node.EventType.ANCHOR_CHANGED,this._updateGraphics,this),this.node._renderFlag&=~C$Tzr.FLAG_POST_RENDER;},onDestroy:function(){this._super(),this._removeGraphics();},_resizeNodeToTargetNode:!1,_validateRender:function(){var C$Tzt;this._type===C$Tzl.IMAGE_STENCIL&&((C$Tzt=this._spriteFrame)&&C$Tzt.textureLoaded()||this.disableRender());},_activateMaterial:function(){this._createGraphics();var C$Tzt=this._materials[0];(C$Tzt=C$Tzt?C$Tzi.default.create(C$Tzt,this):C$Tzi.default.createWithBuiltin(H[781],this)).define(H[895],!0),this._type===C$Tzl.IMAGE_STENCIL?(C$Tzt.define(H[896],!1),C$Tzt.define(H[897],!0)):(C$Tzt.define(H[896],!0),C$Tzt.define(H[897],!1)),this._enableMaterial||(this._enableMaterial=C$Tzi.default.createWithBuiltin(H[781],this)),this._exitMaterial||(this._exitMaterial=C$Tzi.default.createWithBuiltin(H[781],this),this._exitMaterial.setStencilEnabled(C$Tzu.default.STENCIL_DISABLE)),this._clearMaterial||(this._clearMaterial=C$Tzi.default.createWithBuiltin(H[898],this)),this.setMaterial(0,C$Tzt),this._graphics._materials[0]=C$Tzt,this._updateMaterial();},_updateMaterial:function(){var C$Tzt,C$Tze=this._materials[0];C$Tze&&(this._type===C$Tzl.IMAGE_STENCIL&&this.spriteFrame&&(C$Tzt=this.spriteFrame.getTexture(),C$Tze.setProperty(H[883],C$Tzt)),C$Tze.setProperty(H[899],this.alphaThreshold));},_createGraphics:function(){this._graphics||(this._graphics=new C$Tzf(),cc.Assembler.init(this._graphics),this._graphics.node=this.node,this._graphics.lineWidth=0,this._graphics.strokeColor=cc.color(0,0,0,0));},_updateGraphics:function(){var C$Tzt=this.node,C$Tze=this._graphics,C$Tzi=(C$Tze.clear(!1),C$Tzt._contentSize.width),C$Tzn=C$Tzt._contentSize.height,C$Tzr=-C$Tzi*C$Tzt._anchorPoint.x,C$Tzt=-C$Tzn*C$Tzt._anchorPoint.y;if(this._type===C$Tzl.RECT)C$Tze.rect(C$Tzr,C$Tzt,C$Tzi,C$Tzn);else if(this._type===C$Tzl.ELLIPSE){for(var C$Tzs=function(C$Tzt,C$Tze,C$Tzi){C$Tzc.length=0;for(var C$Tzn=2*Math.PI/C$Tzi,C$Tzr=0;C$Tzr<C$Tzi;++C$Tzr)C$Tzc.push(cc.v2(C$Tze.x*Math.cos(C$Tzn*C$Tzr)+C$Tzt.x,C$Tze.y*Math.sin(C$Tzn*C$Tzr)+C$Tzt.y));return C$Tzc;}(cc.v2(C$Tzr+C$Tzi/2,C$Tzt+C$Tzn/2),{x:C$Tzi/2,y:C$Tzn/2},this._segments),C$Tzo=0;C$Tzo<C$Tzs.length;++C$Tzo){var C$Tza=C$Tzs[C$Tzo];0===C$Tzo?C$Tze.moveTo(C$Tza.x,C$Tza.y):C$Tze.lineTo(C$Tza.x,C$Tza.y);}C$Tze.close();}cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?C$Tze.stroke():C$Tze.fill();},_removeGraphics:function(){this._graphics&&(this._graphics.destroy(),this._graphics._destroyImmediate(),this._graphics=null);},_hitTest:function(C$Tzt){var C$Tze=this.node,C$Tzi=C$Tze.getContentSize(),C$Tzn=C$Tzi.width,C$Tzi=C$Tzi.height,C$Tzr=C$Tzp;if(C$Tze._updateWorldMatrix(),!C$Tzs.default.invert(C$Tza,C$Tze._worldMatrix))return!1;C$Tzo.default.transformMat4(C$Tzr,C$Tzt,C$Tza),C$Tzr.x+=C$Tze._anchorPoint.x*C$Tzn,C$Tzr.y+=C$Tze._anchorPoint.y*C$Tzi;C$Tzt=!1;return this.type===C$Tzl.RECT||this.type===C$Tzl.IMAGE_STENCIL?C$Tzt=0<=C$Tzr.x&&0<=C$Tzr.y&&C$Tzr.x<=C$Tzn&&C$Tzr.y<=C$Tzi:this.type===C$Tzl.ELLIPSE&&(C$Tzt=(C$Tze=C$Tzr.x-.5*C$Tzn)*C$Tze/((C$Tze=C$Tzn/2)*C$Tze)+(C$Tzn=C$Tzr.y-.5*C$Tzi)*C$Tzn/((C$Tze=C$Tzi/2)*C$Tze)<1),C$Tzt=this.inverted?!C$Tzt:C$Tzt;},markForRender:function(C$Tzt){var C$Tze=C$Tzr.FLAG_RENDER|C$Tzr.FLAG_UPDATE_RENDER_DATA|C$Tzr.FLAG_POST_RENDER;C$Tzt?(this.node._renderFlag|=C$Tze,this.markForValidate()):this.node._renderFlag&=~C$Tze;},disableRender:function(){this.node._renderFlag&=~(C$Tzr.FLAG_RENDER|C$Tzr.FLAG_UPDATE_RENDER_DATA|C$Tzr.FLAG_POST_RENDER);}});cc.Mask=C$Tze.exports=C$Tzt;},{"../../renderer/gfx":312,"../assets/material/material-variant":60,"../graphics/graphics":131,"../renderer/render-flow":221,"../utils/misc":264,"../value-types/mat4":281,"../value-types/vec2":288,"./CCRenderComponent":89}],85:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[900]),C$Tzr=C$Tzt(H[901]),C$Tzt=cc.Class({name:H[902],extends:C$Tzn,mixins:[C$Tzr],editor:!1,ctor:function(){this._points=[];},properties:{preview:{default:!1,editorOnly:!0,notify:!1,animatable:!1},_fadeTime:1,fadeTime:{get:function(){return this._fadeTime;},set:function(C$Tzt){this._fadeTime=C$Tzt,this.reset();},animatable:!1,tooltip:!1},_minSeg:1,minSeg:{get:function(){return this._minSeg;},set:function(C$Tzt){this._minSeg=C$Tzt;},animatable:!1,tooltip:!1},_stroke:64,stroke:{get:function(){return this._stroke;},set:function(C$Tzt){this._stroke=C$Tzt;},animatable:!1,tooltip:!1},_texture:{default:null,type:cc.Texture2D},texture:{get:function(){return this._texture;},set:function(C$Tzt){this._texture!==C$Tzt&&(this._texture=C$Tzt,this._updateMaterial());},type:cc.Texture2D,animatable:!1,tooltip:!1},_color:cc.Color.WHITE,color:{get:function(){return this._color;},set:function(C$Tzt){this._color=C$Tzt;},type:cc.Color,tooltip:!1},_fastMode:!1,fastMode:{get:function(){return this._fastMode;},set:function(C$Tzt){this._fastMode=C$Tzt;},animatable:!1,tooltip:!1}},onEnable:function(){this._super(),this.reset();},_updateMaterial:function(){var C$Tzt=this.getMaterial(0);C$Tzt&&C$Tzt.setProperty(H[883],this._texture),C$Tzr.prototype._updateMaterial.call(this);},onFocusInEditor:!1,onLostFocusInEditor:!1,reset:function(){this._points.length=0,this._assembler&&this._assembler._renderData.clear();},lateUpdate:function(C$Tzt){this._assembler&&this._assembler.update(this,C$Tzt);}});cc.MotionStreak=C$Tze.exports=C$Tzt;},{"../../core/utils/blend-func":257,"../components/CCRenderComponent":89}],86:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzs=cc.Enum({Unified:0,Free:1}),C$Tzo=cc.Enum({Horizontal:0,Vertical:1}),C$Tzn=cc.Enum({PAGE_TURNING:0}),C$Tzr=cc.Class({name:H[903],extends:cc.ScrollView,editor:!1,ctor:function(){this._curPageIdx=0,this._lastPageIdx=0,this._pages=[],this._initContentPos=cc.v2(),this._scrollCenterOffsetX=[],this._scrollCenterOffsetY=[];},properties:{sizeMode:{default:C$Tzs.Unified,type:C$Tzs,tooltip:!1,notify:function(){this._syncSizeMode();}},direction:{default:C$Tzo.Horizontal,type:C$Tzo,tooltip:!1,notify:function(){this._syncScrollDirection();}},scrollThreshold:{default:.5,type:cc.Float,slide:!0,range:[0,1,.01],tooltip:!1},autoPageTurningThreshold:{default:100,type:cc.Float,tooltip:!1},pageTurningEventTiming:{default:.1,type:cc.Float,range:[0,1,.01],tooltip:!1},indicator:{default:null,type:cc.PageViewIndicator,tooltip:!1,notify:function(){this.indicator&&this.indicator.setPageView(this);}},pageTurningSpeed:{default:.3,type:cc.Float,tooltip:!1},pageEvents:{default:[],type:cc.Component.EventHandler,tooltip:!1}},statics:{SizeMode:C$Tzs,Direction:C$Tzo,EventType:C$Tzn},__preload:function(){this.node.on(cc.Node.EventType.SIZE_CHANGED,this._updateAllPagesSize,this);},onEnable:function(){this._super(),this.node.on(H[904],this._dispatchPageTurningEvent,this);},onDisable:function(){this._super(),this.node.off(H[904],this._dispatchPageTurningEvent,this);},onLoad:function(){this._initPages(),this.indicator&&this.indicator.setPageView(this);},onDestroy:function(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._updateAllPagesSize,this);},getCurrentPageIndex:function(){return this._curPageIdx;},setCurrentPageIndex:function(C$Tzt){this.scrollToPage(C$Tzt,!0);},getPages:function(){return this._pages;},addPage:function(C$Tzt){C$Tzt&&-1===this._pages.indexOf(C$Tzt)&&this.content&&(this.content.addChild(C$Tzt),this._pages.push(C$Tzt),this._updatePageView());},insertPage:function(C$Tzt,C$Tze){C$Tze<0||!C$Tzt||-1!==this._pages.indexOf(C$Tzt)||!this.content||(this._pages.length<=C$Tze?this.addPage(C$Tzt):(this._pages.splice(C$Tze,0,C$Tzt),this.content.addChild(C$Tzt),this._updatePageView()));},removePage:function(C$Tzt){var C$Tze;C$Tzt&&this.content&&(-1!==(C$Tze=this._pages.indexOf(C$Tzt))?this.removePageAtIndex(C$Tze):cc.warnID(4300,C$Tzt.name));},removePageAtIndex:function(C$Tzt){var C$Tze,C$Tzi=this._pages;C$Tzt<0||C$Tzt>=C$Tzi.length||(C$Tze=C$Tzi[C$Tzt])&&(this.content.removeChild(C$Tze),C$Tzi.splice(C$Tzt,1),this._updatePageView());},removeAllPages:function(){if(this.content){for(var C$Tzt=this._pages,C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++)this.content.removeChild(C$Tzt[C$Tze]);this._pages.length=0,this._updatePageView();}},scrollToPage:function(C$Tzt,C$Tze){C$Tzt<0||C$Tzt>=this._pages.length||(C$Tze=void 0!==C$Tze?C$Tze:.3,this._curPageIdx=C$Tzt,this.scrollToOffset(this._moveOffsetValue(C$Tzt),C$Tze,!0),this.indicator&&this.indicator._changedState());},getScrollEndedEventTiming:function(){return this.pageTurningEventTiming;},_syncScrollDirection:function(){this.horizontal=this.direction===C$Tzo.Horizontal,this.vertical=this.direction===C$Tzo.Vertical;},_syncSizeMode:function(){var C$Tzt,C$Tze;!this.content||(C$Tzt=this.content.getComponent(cc.Layout))&&(this.sizeMode===C$Tzs.Free&&0<this._pages.length&&(C$Tze=this._pages[this._pages.length-1],this.direction===C$Tzo.Horizontal?(C$Tzt.paddingLeft=(this._view.width-this._pages[0].width)/2,C$Tzt.paddingRight=(this._view.width-C$Tze.width)/2):this.direction===C$Tzo.Vertical&&(C$Tzt.paddingTop=(this._view.height-this._pages[0].height)/2,C$Tzt.paddingBottom=(this._view.height-C$Tze.height)/2)),C$Tzt.updateLayout());},_updatePageView:function(){for(var C$Tzt=this.content.getComponent(cc.Layout),C$Tze=(C$Tzt&&C$Tzt.enabled&&C$Tzt.updateLayout(),this._pages.length),C$Tzi=(this._curPageIdx>=C$Tze&&(this._curPageIdx=0===C$Tze?0:C$Tze-1,this._lastPageIdx=this._curPageIdx),this._initContentPos),C$Tzn=0;C$Tzn<C$Tze;++C$Tzn){var C$Tzr=this._pages[C$Tzn];C$Tzr.setSiblingIndex(C$Tzn),this.direction===C$Tzo.Horizontal?this._scrollCenterOffsetX[C$Tzn]=Math.abs(C$Tzi.x+C$Tzr.x):this._scrollCenterOffsetY[C$Tzn]=Math.abs(C$Tzi.y+C$Tzr.y);}this.indicator&&this.indicator._refresh();},_updateAllPagesSize:function(){if(this.sizeMode===C$Tzs.Unified)for(var C$Tzt=this._pages,C$Tze=this._view.getContentSize(),C$Tzi=0,C$Tzn=C$Tzt.length;C$Tzi<C$Tzn;C$Tzi++)C$Tzt[C$Tzi].setContentSize(C$Tze);},_initPages:function(){if(this.content){this._initContentPos=this.content.position;for(var C$Tzt=this.content.children,C$Tze=0;C$Tze<C$Tzt.length;++C$Tze){var C$Tzi=C$Tzt[C$Tze];0<=this._pages.indexOf(C$Tzi)||this._pages.push(C$Tzi);}this._syncScrollDirection(),this._syncSizeMode(),this._updatePageView();}},_dispatchPageTurningEvent:function(){this._lastPageIdx!==this._curPageIdx&&(this._lastPageIdx=this._curPageIdx,cc.Component.EventHandler.emitEvents(this.pageEvents,this,C$Tzn.PAGE_TURNING),this.node.emit(H[905],this));},_isScrollable:function(C$Tzt,C$Tze,C$Tzi){return this.sizeMode!==C$Tzs.Free?this.direction===C$Tzo.Horizontal?Math.abs(C$Tzt.x)>=this._view.width*this.scrollThreshold:this.direction===C$Tzo.Vertical?Math.abs(C$Tzt.y)>=this._view.height*this.scrollThreshold:void 0:this.direction===C$Tzo.Horizontal?(C$Tzn=this._scrollCenterOffsetX[C$Tze],C$Tzr=this._scrollCenterOffsetX[C$Tzi],Math.abs(C$Tzt.x)>=Math.abs(C$Tzn-C$Tzr)*this.scrollThreshold):this.direction===C$Tzo.Vertical?(C$Tzn=this._scrollCenterOffsetY[C$Tze],C$Tzr=this._scrollCenterOffsetY[C$Tzi],Math.abs(C$Tzt.y)>=Math.abs(C$Tzn-C$Tzr)*this.scrollThreshold):void 0;var C$Tzn,C$Tzr;},_isQuicklyScrollable:function(C$Tzt){if(this.direction===C$Tzo.Horizontal){if(Math.abs(C$Tzt.x)>this.autoPageTurningThreshold)return!0;}else if(this.direction===C$Tzo.Vertical&&Math.abs(C$Tzt.y)>this.autoPageTurningThreshold)return!0;return!1;},_moveOffsetValue:function(C$Tzt){var C$Tze=cc.v2(0,0);return this.sizeMode===C$Tzs.Free?this.direction===C$Tzo.Horizontal?C$Tze.x=this._scrollCenterOffsetX[C$Tzt]:this.direction===C$Tzo.Vertical&&(C$Tze.y=this._scrollCenterOffsetY[C$Tzt]):this.direction===C$Tzo.Horizontal?C$Tze.x=C$Tzt*this._view.width:this.direction===C$Tzo.Vertical&&(C$Tze.y=C$Tzt*this._view.height),C$Tze;},_getDragDirection:function(C$Tzt){return this.direction===C$Tzo.Horizontal?0===C$Tzt.x?0:0<C$Tzt.x?1:-1:this.direction===C$Tzo.Vertical?0===C$Tzt.y?0:C$Tzt.y<0?1:-1:void 0;},_handleReleaseLogic:function(C$Tzt){this._autoScrollToPage(),this._scrolling&&(this._scrolling=!1,this._autoScrolling||this._dispatchEvent(H[906]));},_autoScrollToPage:function(){if(this._startBounceBackIfNeeded()){var C$Tzt=this._getHowMuchOutOfBoundary();(0<(C$Tzt=this._clampDelta(C$Tzt)).x||C$Tzt.y<0)&&(this._curPageIdx=0===this._pages.length?0:this._pages.length-1),(C$Tzt.x<0||0<C$Tzt.y)&&(this._curPageIdx=0),this.indicator&&this.indicator._changedState();}else{var C$Tzt=this._touchBeganPosition.sub(this._touchEndPosition),C$Tze=this._curPageIdx,C$Tzi=C$Tze+this._getDragDirection(C$Tzt),C$Tzn=this.pageTurningSpeed*Math.abs(C$Tze-C$Tzi);if(C$Tzi<this._pages.length){if(this._isScrollable(C$Tzt,C$Tze,C$Tzi))return void this.scrollToPage(C$Tzi,C$Tzn);C$Tzt=this._calculateTouchMoveVelocity();if(this._isQuicklyScrollable(C$Tzt))return void this.scrollToPage(C$Tzi,C$Tzn);}this.scrollToPage(C$Tze,C$Tzn);}},_onTouchBegan:function(C$Tzt,C$Tze){this._touchBeganPosition=C$Tzt.touch.getLocation(),this._super(C$Tzt,C$Tze);},_onTouchMoved:function(C$Tzt,C$Tze){this._super(C$Tzt,C$Tze);},_onTouchEnded:function(C$Tzt,C$Tze){this._touchEndPosition=C$Tzt.touch.getLocation(),this._super(C$Tzt,C$Tze);},_onTouchCancelled:function(C$Tzt,C$Tze){this._touchEndPosition=C$Tzt.touch.getLocation(),this._super(C$Tzt,C$Tze);},_onMouseWheel:function(){}});cc.PageView=C$Tze.exports=C$Tzr;},{}],87:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Enum({HORIZONTAL:0,VERTICAL:1}),C$Tzt=cc.Class({name:H[907],extends:C$Tzt(H[848]),editor:!1,properties:{_layout:null,_pageView:null,_indicators:[],spriteFrame:{default:null,type:cc.SpriteFrame,tooltip:!1},direction:{default:C$Tzn.HORIZONTAL,type:C$Tzn,tooltip:!1},cellSize:{default:cc.size(20,20),tooltip:!1},spacing:{default:0,tooltip:!1}},statics:{Direction:C$Tzn},onLoad:function(){this._updateLayout();},setPageView:function(C$Tzt){this._pageView=C$Tzt,this._refresh();},_updateLayout:function(){this._layout=this.getComponent(cc.Layout),this._layout||(this._layout=this.addComponent(cc.Layout)),this.direction===C$Tzn.HORIZONTAL?(this._layout.type=cc.Layout.Type.HORIZONTAL,this._layout.spacingX=this.spacing):this.direction===C$Tzn.VERTICAL&&(this._layout.type=cc.Layout.Type.VERTICAL,this._layout.spacingY=this.spacing),this._layout.resizeMode=cc.Layout.ResizeMode.CONTAINER;},_createIndicator:function(){var C$Tzt=new cc.Node(),C$Tze=C$Tzt.addComponent(cc.Sprite);return C$Tze.spriteFrame=this.spriteFrame,C$Tze.sizeMode=cc.Sprite.SizeMode.CUSTOM,C$Tzt.parent=this.node,C$Tzt.width=this.cellSize.width,C$Tzt.height=this.cellSize.height,C$Tzt;},_changedState:function(){var C$Tzt=this._indicators;if(0!==C$Tzt.length){var C$Tze=this._pageView._curPageIdx;if(!(C$Tze>=C$Tzt.length)){for(var C$Tzi=0;C$Tzi<C$Tzt.length;++C$Tzi)C$Tzt[C$Tzi].opacity=127.5;C$Tzt[C$Tze].opacity=255;}}},_refresh:function(){if(this._pageView){var C$Tzt=this._indicators,C$Tze=this._pageView.getPages();if(C$Tze.length!==C$Tzt.length){var C$Tzi=0;if(C$Tze.length>C$Tzt.length)for(C$Tzi=0;C$Tzi<C$Tze.length;++C$Tzi)C$Tzt[C$Tzi]||(C$Tzt[C$Tzi]=this._createIndicator());else for(C$Tzi=C$Tzt.length-C$Tze.length;0<C$Tzi;--C$Tzi){var C$Tzn=C$Tzt[C$Tzi-1];this.node.removeChild(C$Tzn),C$Tzt.splice(C$Tzi-1,1);}this._layout&&this._layout.enabledInHierarchy&&this._layout.updateLayout(),this._changedState();}}}});cc.PageViewIndicator=C$Tze.exports=C$Tzt;},{"./CCComponent":78}],88:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzh=C$Tzt(H[849]),C$Tzt=C$Tzt(H[848]),C$Tzu=cc.Enum({HORIZONTAL:0,VERTICAL:1,FILLED:2}),C$Tzt=cc.Class({name:H[908],extends:C$Tzt,editor:!1,_initBarSprite:function(){var C$Tzt,C$Tze,C$Tzi,C$Tzn;!this.barSprite||(C$Tzt=this.barSprite.node)&&(C$Tze=this.node.getContentSize(),C$Tzi=this.node.getAnchorPoint(),C$Tzn=C$Tzt.getContentSize(),C$Tzt.parent===this.node&&this.node.setContentSize(C$Tzn),this.barSprite.fillType===cc.Sprite.FillType.RADIAL&&(this.mode=C$Tzu.FILLED),C$Tzn=C$Tzt.getContentSize(),this.mode===C$Tzu.HORIZONTAL?this.totalLength=C$Tzn.width:this.mode===C$Tzu.VERTICAL?this.totalLength=C$Tzn.height:this.totalLength=this.barSprite.fillRange,C$Tzt.parent===this.node&&(C$Tzn=-C$Tze.width*C$Tzi.x,C$Tzt.setPosition(cc.v2(C$Tzn,0))));},_updateBarStatus:function(){if(this.barSprite){var C$Tzt=this.barSprite.node;if(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr=C$Tzt.getAnchorPoint(),C$Tzs=C$Tzt.getContentSize(),C$Tzo=C$Tzt.getPosition(),C$Tza=cc.v2(0,.5),C$Tzc=C$Tzh.clamp01(this.progress),C$Tzl=this.totalLength*C$Tzc;switch(this.mode){case C$Tzu.HORIZONTAL:this.reverse&&(C$Tza=cc.v2(1,.5)),C$Tze=cc.size(C$Tzl,C$Tzs.height),C$Tzi=this.totalLength,C$Tzn=C$Tzs.height;break;case C$Tzu.VERTICAL:C$Tza=this.reverse?cc.v2(.5,1):cc.v2(.5,0),C$Tze=cc.size(C$Tzs.width,C$Tzl),C$Tzi=C$Tzs.width,C$Tzn=this.totalLength;}this.mode===C$Tzu.FILLED?this.barSprite.type!==cc.Sprite.Type.FILLED?cc.warn(H[909]):(this.reverse&&(C$Tzl*=-1),this.barSprite.fillRange=C$Tzl):this.barSprite.type!==cc.Sprite.Type.FILLED?(C$Tzc=C$Tza.x-C$Tzr.x,C$Tzr=C$Tza.y-C$Tzr.y,C$Tzc=cc.v2(C$Tzi*C$Tzc,C$Tzn*C$Tzr),C$Tzt.setPosition(C$Tzo.x+C$Tzc.x,C$Tzo.y+C$Tzc.y),C$Tzt.setAnchorPoint(C$Tza),C$Tzt.setContentSize(C$Tze)):cc.warn(H[910]);}}},properties:{barSprite:{default:null,type:cc.Sprite,tooltip:!1,notify:function(){this._initBarSprite();},animatable:!1},mode:{default:C$Tzu.HORIZONTAL,type:C$Tzu,tooltip:!1,notify:function(){var C$Tzt;!this.barSprite||(C$Tzt=this.barSprite.node)&&(C$Tzt=C$Tzt.getContentSize(),this.mode===C$Tzu.HORIZONTAL?this.totalLength=C$Tzt.width:this.mode===C$Tzu.VERTICAL?this.totalLength=C$Tzt.height:this.mode===C$Tzu.FILLED&&(this.totalLength=this.barSprite.fillRange));},animatable:!1},_N$totalLength:1,totalLength:{range:[0,Number.MAX_VALUE],tooltip:!1,get:function(){return this._N$totalLength;},set:function(C$Tzt){this.mode===C$Tzu.FILLED&&(C$Tzt=C$Tzh.clamp01(C$Tzt)),this._N$totalLength=C$Tzt,this._updateBarStatus();}},progress:{default:1,type:cc.Float,range:[0,1,.1],slide:!0,tooltip:!1,notify:function(){this._updateBarStatus();}},reverse:{default:!1,tooltip:!1,notify:function(){this.barSprite&&(this.barSprite.fillStart=1-this.barSprite.fillStart),this._updateBarStatus();},animatable:!1}},statics:{Mode:C$Tzu}});cc.ProgressBar=C$Tze.exports=C$Tzt;},{"../utils/misc":264,"./CCComponent":78}],89:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzs(C$Tzt(H[911])),C$Tzr=C$Tzs(C$Tzt(H[892]));function C$Tzs(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}var C$Tzo=C$Tzt(H[848]),C$Tza=C$Tzt(H[822]),C$Tzc=C$Tzt(H[877]),C$Tzt=cc.Class({name:H[912],extends:C$Tzo,editor:!1,properties:{_materials:{default:[],type:C$Tzc},materials:{get:function(){return this._materials;},set:function(C$Tzt){this._materials=C$Tzt,this._activateMaterial();},type:[C$Tzc],displayName:H[913],animatable:!1}},ctor:function(){this._vertsDirty=!0,this._assembler=null;},_resetAssembler:function(){C$Tzn.default.init(this),this._updateColor(),this.setVertsDirty();},__preload:function(){this._resetAssembler(),this._activateMaterial();},onEnable:function(){this.node._renderComponent&&(this.node._renderComponent.enabled=!1),(this.node._renderComponent=this).node._renderFlag|=C$Tza.FLAG_OPACITY_COLOR,this.setVertsDirty();},onDisable:function(){this.node._renderComponent=null,this.disableRender();},onDestroy:function(){for(var C$Tzt=this._materials,C$Tze=0;C$Tze<C$Tzt.length;C$Tze++)cc.pool.material.put(C$Tzt[C$Tze]);C$Tzt.length=0,cc.pool.assembler.put(this._assembler);},setVertsDirty:function(){this._vertsDirty=!0,this.markForRender(!0);},_on3DNodeChanged:function(){this._resetAssembler();},_validateRender:function(){},markForValidate:function(){cc.RenderFlow.registerValidate(this);},markForRender:function(C$Tzt){var C$Tze=C$Tza.FLAG_RENDER|C$Tza.FLAG_UPDATE_RENDER_DATA;C$Tzt?(this.node._renderFlag|=C$Tze,this.markForValidate()):this.node._renderFlag&=~C$Tze;},disableRender:function(){this.node._renderFlag&=~(C$Tza.FLAG_RENDER|C$Tza.FLAG_UPDATE_RENDER_DATA);},getMaterial:function(C$Tzt){if(C$Tzt<0||C$Tzt>=this._materials.length)return null;var C$Tze=this._materials[C$Tzt];if(!C$Tze)return null;var C$Tzi=C$Tzr.default.create(C$Tze,this);return C$Tzi!==C$Tze&&this.setMaterial(C$Tzt,C$Tzi),C$Tzi;},getMaterials:function(){for(var C$Tzt=this._materials,C$Tze=0;C$Tze<C$Tzt.length;C$Tze++)C$Tzt[C$Tze]=C$Tzr.default.create(C$Tzt[C$Tze],this);return C$Tzt;},setMaterial:function(C$Tzt,C$Tze){return C$Tze!==this._materials[C$Tzt]&&(C$Tze=C$Tzr.default.create(C$Tze,this),this._materials[C$Tzt]=C$Tze),this._updateMaterial(),this.markForRender(!0),C$Tze;},_getDefaultMaterial:function(){return C$Tzc.getBuiltinMaterial(H[781]);},_activateMaterial:function(){var C$Tzt,C$Tze=this._materials;C$Tze[0]||(C$Tzt=this._getDefaultMaterial(),C$Tze[0]=C$Tzt);for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++)C$Tze[C$Tzi]=C$Tzr.default.create(C$Tze[C$Tzi],this);this._updateMaterial();},_updateMaterial:function(){},_updateColor:function(){this._assembler.updateColor&&this._assembler.updateColor(this);},_checkBacth:function(C$Tzt,C$Tze){var C$Tzi=this._materials[0];(C$Tzi&&C$Tzi.getHash()!==C$Tzt.material.getHash()||C$Tzt.cullingMask!==C$Tze)&&(C$Tzt._flush(),C$Tzt.node=C$Tzi.getDefine(H[896])?this.node:C$Tzt._dummyNode,C$Tzt.material=C$Tzi,C$Tzt.cullingMask=C$Tze);}});cc.RenderComponent=C$Tze.exports=C$Tzt;},{"../assets/material/CCMaterial":53,"../assets/material/material-variant":60,"../renderer/assembler":217,"../renderer/render-flow":221,"./CCComponent":78}],90:[function(C$Tzt,C$Tze,C$Tza){"use strict";var C$Tzi=C$Tzt(H[720]),C$Tzn=C$Tzt(H[875]),C$Tzu=C$Tzt(H[914]),C$Tzh=new(C$Tzt(H[915]))(),C$Tz_=C$Tzn.TextAlignment,C$Tzr=C$Tzn.VerticalTextAlignment,C$Tzs=H[916],C$Tzl=H[917],C$Tzt=cc.Label.CacheMode;var C$Tzo=new C$Tzi.Pool(function(C$Tzt){if(!cc.isValid(C$Tzt))return!1;C$Tzt=C$Tzt.getComponent(cc.LabelOutline);return C$Tzt&&(C$Tzt.width=0),!0;},20),C$Tzn=(C$Tzo.get=function(C$Tzt,C$Tze){var C$Tzi=this._get(),C$Tzn=((C$Tzi=C$Tzi||new cc.PrivateNode(C$Tzs)).setPosition(0,0),C$Tzi.setAnchorPoint(.5,.5),C$Tzi.skewX=0,C$Tzi.getComponent(cc.Label));return(C$Tzn=C$Tzn||C$Tzi.addComponent(cc.Label)).string="",C$Tzn.horizontalAlign=C$Tz_.LEFT,C$Tzn.verticalAlign=C$Tzr.CENTER,C$Tzi;},cc.Class({name:H[918],extends:cc.Component,ctor:function(){this._textArray=null,this._labelSegments=[],this._labelSegmentsCache=[],this._linesWidth=[],this._updateRichTextStatus=this._updateRichText;},editor:!1,properties:{string:{default:H[919],multiline:!0,tooltip:!1,notify:function(){this._updateRichTextStatus();}},horizontalAlign:{default:C$Tz_.LEFT,type:C$Tz_,tooltip:!1,animatable:!1,notify:function(C$Tzt){this.horizontalAlign!==C$Tzt&&(this._layoutDirty=!0,this._updateRichTextStatus());}},fontSize:{default:40,tooltip:!1,notify:function(C$Tzt){this.fontSize!==C$Tzt&&(this._layoutDirty=!0,this._updateRichTextStatus());}},_fontFamily:H[741],fontFamily:{tooltip:!1,get:function(){return this._fontFamily;},set:function(C$Tzt){this._fontFamily!==C$Tzt&&(this._fontFamily=C$Tzt,this._layoutDirty=!0,this._updateRichTextStatus());},animatable:!1},font:{default:null,type:cc.TTFFont,tooltip:!1,notify:function(C$Tzt){this.font!==C$Tzt&&(this._layoutDirty=!0,this.font?(this.useSystemFont=!1,this._onTTFLoaded()):this.useSystemFont=!0,this._updateRichTextStatus());}},_isSystemFontUsed:!0,useSystemFont:{get:function(){return this._isSystemFontUsed;},set:function(C$Tzt){this._isSystemFontUsed!==C$Tzt&&(this._isSystemFontUsed=C$Tzt,this._layoutDirty=!0,this._updateRichTextStatus());},animatable:!1,tooltip:!1},cacheMode:{default:C$Tzt.NONE,type:C$Tzt,tooltip:!1,notify:function(C$Tzt){this.cacheMode!==C$Tzt&&this._updateRichTextStatus();},animatable:!1},maxWidth:{default:0,tooltip:!1,notify:function(C$Tzt){this.maxWidth!==C$Tzt&&(this._layoutDirty=!0,this._updateRichTextStatus());}},lineHeight:{default:40,tooltip:!1,notify:function(C$Tzt){this.lineHeight!==C$Tzt&&(this._layoutDirty=!0,this._updateRichTextStatus());}},imageAtlas:{default:null,type:cc.SpriteAtlas,tooltip:!1,notify:function(C$Tzt){this.imageAtlas!==C$Tzt&&(this._layoutDirty=!0,this._updateRichTextStatus());}},handleTouchEvent:{default:!0,tooltip:!1,notify:function(C$Tzt){this.handleTouchEvent!==C$Tzt&&this.enabledInHierarchy&&(this.handleTouchEvent?this._addEventListeners():this._removeEventListeners());}}},statics:{HorizontalAlign:C$Tz_,VerticalAlign:C$Tzr},onEnable:function(){this.handleTouchEvent&&this._addEventListeners(),this._updateRichText(),this._activateChildren(!0);},onDisable:function(){this.handleTouchEvent&&this._removeEventListeners(),this._activateChildren(!1);},start:function(){this._onTTFLoaded();},_onColorChanged:function(C$Tze){this.node.children.forEach(function(C$Tzt){C$Tzt.color=C$Tze;});},_addEventListeners:function(){this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this),this.node.on(cc.Node.EventType.COLOR_CHANGED,this._onColorChanged,this);},_removeEventListeners:function(){this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this),this.node.off(cc.Node.EventType.COLOR_CHANGED,this._onColorChanged,this);},_updateLabelSegmentTextAttributes:function(){this._labelSegments.forEach(function(C$Tzt){this._applyTextAttribute(C$Tzt,null,!0);}.bind(this));},_createFontLabel:function(C$Tzt){return C$Tzo.get(C$Tzt,this);},_onTTFLoaded:function(){var C$Tzi;!(this.font instanceof cc.TTFFont)||this.font._nativeAsset?(this._layoutDirty=!0,this._updateRichText()):(C$Tzi=this,cc.loader.load(this.font.nativeUrl,function(C$Tzt,C$Tze){C$Tzi._layoutDirty=!0,C$Tzi._updateRichText();}));},_measureText:function(C$Tzi,C$Tzt){function C$Tze(C$Tzt){var C$Tze;return 0===C$Tzn._labelSegmentsCache.length?(C$Tze=C$Tzn._createFontLabel(C$Tzt),C$Tzn._labelSegmentsCache.push(C$Tze)):C$Tze=C$Tzn._labelSegmentsCache[0],C$Tze._styleIndex=C$Tzi,C$Tzn._applyTextAttribute(C$Tze,C$Tzt,!0),C$Tze.getContentSize().width;}var C$Tzn=this;return C$Tzt?C$Tze(C$Tzt):C$Tze;},_onTouchEnded:function(C$Tzn){for(var C$Tzr=this,C$Tzs=this.node.getComponents(cc.Component),C$Tzt=0;C$Tzt<this._labelSegments.length;++C$Tzt)!function(C$Tzt){var C$Tzt=C$Tzr._labelSegments[C$Tzt],C$Tze=C$Tzt._clickHandler,C$Tzi=C$Tzt._clickParam;C$Tze&&C$Tzr._containsTouchLocation(C$Tzt,C$Tzn.touch.getLocation())&&(C$Tzs.forEach(function(C$Tzt){C$Tzt.enabledInHierarchy&&C$Tzt[C$Tze]&&C$Tzt[C$Tze](C$Tzn,C$Tzi);}),C$Tzn.stopPropagation());}(C$Tzt);},_containsTouchLocation:function(C$Tzt,C$Tze){return C$Tzt.getBoundingBoxToWorld().contains(C$Tze);},_resetState:function(){for(var C$Tzt=this.node.children,C$Tze=C$Tzt.length-1;0<=C$Tze;C$Tze--){var C$Tzi=C$Tzt[C$Tze];C$Tzi.name!==C$Tzs&&C$Tzi.name!==C$Tzl||(C$Tzi.parent===this.node?C$Tzi.parent=null:C$Tzt.splice(C$Tze,1),C$Tzi.name===C$Tzs&&C$Tzo.put(C$Tzi));}this._labelSegments.length=0,this._labelSegmentsCache.length=0,this._linesWidth.length=0,this._lineOffsetX=0,this._lineCount=1,this._labelWidth=0,this._labelHeight=0,this._layoutDirty=!0;},onRestore:!1,_activateChildren:function(C$Tzt){for(var C$Tze=this.node.children.length-1;0<=C$Tze;C$Tze--){var C$Tzi=this.node.children[C$Tze];C$Tzi.name!==C$Tzs&&C$Tzi.name!==C$Tzl||(C$Tzi.active=C$Tzt);}},_addLabelSegment:function(C$Tzt,C$Tze){var C$Tzi=0===this._labelSegmentsCache.length?this._createFontLabel(C$Tzt):this._labelSegmentsCache.pop();return C$Tzi._styleIndex=C$Tze,C$Tzi._lineCount=this._lineCount,C$Tzi.active=this.node.active,C$Tzi.setAnchorPoint(0,0),this._applyTextAttribute(C$Tzi,C$Tzt),this.node.addChild(C$Tzi),this._labelSegments.push(C$Tzi),C$Tzi;},_updateRichTextWithMaxWidth:function(C$Tzt,C$Tzh,C$Tze){var C$Tzi=C$Tzh;if(0<this._lineOffsetX&&C$Tzi+this._lineOffsetX>this.maxWidth)for(var C$Tzn=0;this._lineOffsetX<=this.maxWidth;){var C$Tzr,C$Tzs=this._getFirstWordLen(C$Tzt,C$Tzn,C$Tzt.length),C$Tzo=C$Tzt.substr(C$Tzn,C$Tzs),C$Tzo=this._measureText(C$Tze,C$Tzo);if(!(this._lineOffsetX+C$Tzo<=this.maxWidth)){0<C$Tzn&&(C$Tzr=C$Tzt.substr(0,C$Tzn),this._addLabelSegment(C$Tzr,C$Tze),C$Tzt=C$Tzt.substr(C$Tzn,C$Tzt.length),C$Tzi=this._measureText(C$Tze,C$Tzt)),this._updateLineInfo();break;}this._lineOffsetX+=C$Tzo,C$Tzn+=C$Tzs;}if(C$Tzi>this.maxWidth)for(var C$Tza=C$Tzu.fragmentText(C$Tzt,C$Tzi,this.maxWidth,this._measureText(C$Tze)),C$Tzc=0;C$Tzc<C$Tza.length;++C$Tzc){var C$Tzl=C$Tza[C$Tzc],C$Tzl=this._addLabelSegment(C$Tzl,C$Tze).getContentSize();this._lineOffsetX+=C$Tzl.width,1<C$Tza.length&&C$Tzc<C$Tza.length-1&&this._updateLineInfo();}else this._lineOffsetX+=C$Tzi,this._addLabelSegment(C$Tzt,C$Tze);},_isLastComponentCR:function(C$Tzt){return C$Tzt.length-1===C$Tzt.lastIndexOf("\n");},_updateLineInfo:function(){this._linesWidth.push(this._lineOffsetX),this._lineOffsetX=0,this._lineCount++;},_needsUpdateTextLayout:function(C$Tzt){if(this._layoutDirty||!this._textArray||!C$Tzt)return!0;if(this._textArray.length!==C$Tzt.length)return!0;for(var C$Tze=0;C$Tze<this._textArray.length;++C$Tze){var C$Tzi=this._textArray[C$Tze],C$Tzn=C$Tzt[C$Tze];if(C$Tzi.text!==C$Tzn.text)return!0;C$Tzi=C$Tzi.style,C$Tzn=C$Tzn.style;if(C$Tzi){if(C$Tzn){if(!C$Tzi.outline!=!C$Tzn.outline)return!0;if(C$Tzi.size!==C$Tzn.size||!C$Tzi.italic!=!C$Tzn.italic||C$Tzi.isImage!==C$Tzn.isImage)return!0;if(C$Tzi.src!==C$Tzn.src||C$Tzi.imageAlign!==C$Tzn.imageAlign||C$Tzi.imageHeight!==C$Tzn.imageHeight||C$Tzi.imageWidth!==C$Tzn.imageWidth||C$Tzi.imageOffset!==C$Tzn.imageOffset)return!0;}else if(C$Tzi.size||C$Tzi.italic||C$Tzi.isImage||C$Tzi.outline)return!0;}else if(C$Tzn&&(C$Tzn.size||C$Tzn.italic||C$Tzn.isImage||C$Tzn.outline))return!0;}return!1;},_addRichTextImageElement:function(C$Tzt){var C$Tze=C$Tzt.style.src,C$Tze=this.imageAtlas.getSpriteFrame(C$Tze);if(C$Tze){var C$Tzi=new cc.PrivateNode(C$Tzl),C$Tzn=C$Tzi.addComponent(cc.Sprite);switch(C$Tzt.style.imageAlign){case H[920]:C$Tzi.setAnchorPoint(0,1);break;case H[921]:C$Tzi.setAnchorPoint(0,.5);break;default:C$Tzi.setAnchorPoint(0,0);}C$Tzt.style.imageOffset&&(C$Tzi._imageOffset=C$Tzt.style.imageOffset),C$Tzn.type=cc.Sprite.Type.SLICED,C$Tzn.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.node.addChild(C$Tzi),this._labelSegments.push(C$Tzi);var C$Tzr=C$Tze.getRect(),C$Tzs=1,C$Tzo=C$Tzr.width,C$Tzr=C$Tzr.height,C$Tza=C$Tzt.style.imageWidth,C$Tzc=C$Tzt.style.imageHeight;C$Tzo*=C$Tzs=0<C$Tzc?C$Tzc/C$Tzr:this.lineHeight/C$Tzr,C$Tzr*=C$Tzs,0<C$Tza&&(C$Tzo=C$Tza),0<this.maxWidth?(this._lineOffsetX+C$Tzo>this.maxWidth&&this._updateLineInfo(),this._lineOffsetX+=C$Tzo):(this._lineOffsetX+=C$Tzo,this._lineOffsetX>this._labelWidth&&(this._labelWidth=this._lineOffsetX)),C$Tzn.spriteFrame=C$Tze,C$Tzi.setContentSize(C$Tzo,C$Tzr),C$Tzi._lineCount=this._lineCount,C$Tzt.style.event?(C$Tzt.style.event.click&&(C$Tzi._clickHandler=C$Tzt.style.event.click),C$Tzt.style.event.param?C$Tzi._clickParam=C$Tzt.style.event.param:C$Tzi._clickParam=""):C$Tzi._clickHandler=null;}else cc.warnID(4400);},_updateRichText:function(){if(this.enabledInHierarchy){var C$Tzt=C$Tzh.parse(this.string);if(!this._needsUpdateTextLayout(C$Tzt))return this._textArray=C$Tzt,void this._updateLabelSegmentTextAttributes();this._textArray=C$Tzt,this._resetState();for(var C$Tze=!1,C$Tzi=0;C$Tzi<this._textArray.length;++C$Tzi){var C$Tzn=this._textArray[C$Tzi],C$Tzr=C$Tzn.text;if(""===C$Tzr){if(C$Tzn.style&&C$Tzn.style.newline){this._updateLineInfo();continue;}if(C$Tzn.style&&C$Tzn.style.isImage&&this.imageAtlas){this._addRichTextImageElement(C$Tzn);continue;}}for(var C$Tzs=C$Tzr.split("\n"),C$Tzo=0;C$Tzo<C$Tzs.length;++C$Tzo){var C$Tza,C$Tzc=C$Tzs[C$Tzo];""!==C$Tzc?(C$Tze=!1,0<this.maxWidth?(C$Tza=this._measureText(C$Tzi,C$Tzc),this._updateRichTextWithMaxWidth(C$Tzc,C$Tza,C$Tzi)):(C$Tza=this._addLabelSegment(C$Tzc,C$Tzi).getContentSize(),this._lineOffsetX+=C$Tza.width,this._lineOffsetX>this._labelWidth&&(this._labelWidth=this._lineOffsetX)),1<C$Tzs.length&&C$Tzo<C$Tzs.length-1&&this._updateLineInfo()):this._isLastComponentCR(C$Tzr)&&C$Tzo===C$Tzs.length-1||(this._updateLineInfo(),C$Tze=!0);}}C$Tze||this._linesWidth.push(this._lineOffsetX),0<this.maxWidth&&(this._labelWidth=this.maxWidth),this._labelHeight=(this._lineCount+C$Tzu.BASELINE_RATIO)*this.lineHeight,this.node.setContentSize(this._labelWidth,this._labelHeight),this._updateRichTextPosition(),this._layoutDirty=!1;}},_getFirstWordLen:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.charAt(C$Tze);if(C$Tzu.isUnicodeCJK(C$Tzn)||C$Tzu.isUnicodeSpace(C$Tzn))return 1;for(var C$Tzr=1,C$Tzs=C$Tze+1;C$Tzs<C$Tzi&&(C$Tzn=C$Tzt.charAt(C$Tzs),!C$Tzu.isUnicodeSpace(C$Tzn)&&!C$Tzu.isUnicodeCJK(C$Tzn));++C$Tzs)C$Tzr++;return C$Tzr;},_updateRichTextPosition:function(){for(var C$Tzt=0,C$Tze=1,C$Tzh=this._lineCount,C$Tzi=0;C$Tzi<this._labelSegments.length;++C$Tzi){var C$Tzn=this._labelSegments[C$Tzi],C$Tzr=C$Tzn._lineCount,C$Tzs=(C$Tze<C$Tzr&&(C$Tzt=0,C$Tze=C$Tzr),0);switch(this.horizontalAlign){case C$Tz_.LEFT:C$Tzs=-this._labelWidth/2;break;case C$Tz_.CENTER:C$Tzs=-this._linesWidth[C$Tzr-1]/2;break;case C$Tz_.RIGHT:C$Tzs=this._labelWidth/2-this._linesWidth[C$Tzr-1];}C$Tzn.x=C$Tzt+C$Tzs;var C$Tzo=C$Tzn.getContentSize();if(C$Tzn.y=this.lineHeight*(C$Tzh-C$Tzr)-this._labelHeight/2,C$Tzr===C$Tze&&(C$Tzt+=C$Tzo.width),C$Tzn.getComponent(cc.Sprite)){var C$Tza,C$Tzc=this.lineHeight,C$Tzl=this.lineHeight*(1+C$Tzu.BASELINE_RATIO);switch(C$Tzn.anchorY){case 1:C$Tzn.y+=C$Tzc+(C$Tzl-C$Tzc)/2;break;case .5:C$Tzn.y+=C$Tzl/2;break;default:C$Tzn.y+=(C$Tzl-C$Tzc)/2;}C$Tzn._imageOffset&&(1===(C$Tzo=C$Tzn._imageOffset.split(",")).length&&C$Tzo[0]?(C$Tza=parseFloat(C$Tzo[0]),Number.isInteger(C$Tza)&&(C$Tzn.y+=C$Tza)):2===C$Tzo.length&&(C$Tza=parseFloat(C$Tzo[0]),C$Tzo=parseFloat(C$Tzo[1]),Number.isInteger(C$Tza)&&(C$Tzn.x+=C$Tza),Number.isInteger(C$Tzo)&&(C$Tzn.y+=C$Tzo)));}C$Tzo=C$Tzn.getComponent(cc.LabelOutline);C$Tzo&&C$Tzo.width&&(C$Tzn.y=C$Tzn.y-C$Tzo.width);}},_convertLiteralColorValue:function(C$Tzt){var C$Tze=C$Tzt.toUpperCase();return cc.Color[C$Tze]||cc.color().fromHEX(C$Tzt);},_applyTextAttribute:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr,C$Tzs=C$Tzt.getComponent(cc.Label);C$Tzs&&(C$Tzr=C$Tzt._styleIndex,C$Tzn=null,(C$Tzn=this._textArray[C$Tzr]?this._textArray[C$Tzr].style:C$Tzn)&&C$Tzn.color?C$Tzt.color=this._convertLiteralColorValue(C$Tzn.color):C$Tzt.color=this.node.color,C$Tzs.cacheMode=this.cacheMode,this.font instanceof cc.Font&&!this._isSystemFontUsed?C$Tzs.font=this.font:C$Tzs.fontFamily=this.fontFamily,C$Tzs.useSystemFont=this._isSystemFontUsed,C$Tzs.lineHeight=this.lineHeight,C$Tzs.enableBold=C$Tzn&&C$Tzn.bold,C$Tzs.enableItalics=C$Tzn&&C$Tzn.italic,C$Tzn&&C$Tzn.italic&&(C$Tzt.skewX=12),C$Tzs.enableUnderline=C$Tzn&&C$Tzn.underline,C$Tzn&&C$Tzn.outline&&((C$Tzr=(C$Tzr=C$Tzt.getComponent(cc.LabelOutline))||C$Tzt.addComponent(cc.LabelOutline)).color=this._convertLiteralColorValue(C$Tzn.outline.color),C$Tzr.width=C$Tzn.outline.width),C$Tzn&&C$Tzn.size?C$Tzs.fontSize=C$Tzn.size:C$Tzs.fontSize=this.fontSize,null!==C$Tze&&(C$Tzs.string=C$Tze=H[462]!=typeof C$Tze?""+C$Tze:C$Tze),C$Tzi&&C$Tzs._forceUpdateRenderData(),C$Tzn&&C$Tzn.event?(C$Tzn.event.click&&(C$Tzt._clickHandler=C$Tzn.event.click),C$Tzn.event.param?C$Tzt._clickParam=C$Tzn.event.param:C$Tzt._clickParam=""):C$Tzt._clickHandler=null);},onDestroy:function(){for(var C$Tzt=0;C$Tzt<this._labelSegments.length;++C$Tzt)this._labelSegments[C$Tzt].removeFromParent(),C$Tzo.put(this._labelSegments[C$Tzt]);}}));cc.RichText=C$Tze.exports=C$Tzn;},{"../platform/CCMacro":194,"../platform/js":209,"../utils/html-text-parser":261,"../utils/text-utils":271}],91:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzo=C$Tzt(H[849]),C$Tzh=(C$Tzt(H[848]),cc.Enum({HORIZONTAL:0,VERTICAL:1})),C$Tzt=cc.Class({name:H[922],extends:C$Tzt(H[848]),editor:!1,properties:{_scrollView:null,_touching:!1,_autoHideRemainingTime:{default:0,serializable:!1},_opacity:255,handle:{default:null,type:cc.Sprite,tooltip:!1,notify:function(){this._onScroll(cc.v2(0,0));},animatable:!1},direction:{default:C$Tzh.HORIZONTAL,type:C$Tzh,tooltip:!1,notify:function(){this._onScroll(cc.v2(0,0));},animatable:!1},enableAutoHide:{default:!0,animatable:!1,tooltip:!1},autoHideTime:{default:1,animatable:!1,tooltip:!1}},statics:{Direction:C$Tzh},setTargetScrollView:function(C$Tzt){this._scrollView=C$Tzt;},_convertToScrollViewSpace:function(C$Tzt){var C$Tze=this._scrollView.node,C$Tzt=C$Tzt.convertToWorldSpaceAR(cc.v2(-C$Tzt.anchorX*C$Tzt.width,-C$Tzt.anchorY*C$Tzt.height)),C$Tzt=C$Tze.convertToNodeSpaceAR(C$Tzt);return C$Tzt.x+=C$Tze.anchorX*C$Tze.width,C$Tzt.y+=C$Tze.anchorY*C$Tze.height,C$Tzt;},_setOpacity:function(C$Tzt){this.handle&&(this.node.opacity=C$Tzt,this.handle.node.opacity=C$Tzt);},_onScroll:function(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl;!this._scrollView||(C$Tze=this._scrollView.content)&&(C$Tzc=C$Tze.getContentSize(),C$Tzl=this._scrollView.node.getContentSize(),C$Tzi=this.node.getContentSize(),this._conditionalDisableScrollBar(C$Tzc,C$Tzl)||(this.enableAutoHide&&(this._autoHideRemainingTime=this.autoHideTime,this._setOpacity(this._opacity)),C$Tza=C$Tzo=C$Tzs=C$Tzr=C$Tzn=0,this.direction===C$Tzh.HORIZONTAL?(C$Tzn=C$Tzc.width,C$Tzr=C$Tzl.width,C$Tza=C$Tzi.width,C$Tzs=C$Tzt.x,C$Tzo=-this._convertToScrollViewSpace(C$Tze).x):this.direction===C$Tzh.VERTICAL&&(C$Tzn=C$Tzc.height,C$Tzr=C$Tzl.height,C$Tza=C$Tzi.height,C$Tzs=C$Tzt.y,C$Tzo=-this._convertToScrollViewSpace(C$Tze).y),C$Tzc=this._calculateLength(C$Tzn,C$Tzr,C$Tza,C$Tzs),C$Tzl=this._calculatePosition(C$Tzn,C$Tzr,C$Tza,C$Tzo,C$Tzs,C$Tzc),this._updateLength(C$Tzc),this._updateHanlderPosition(C$Tzl)));},_updateHanlderPosition:function(C$Tzt){var C$Tze;this.handle&&(C$Tze=this._fixupHandlerPosition(),this.handle.node.setPosition(C$Tzt.x+C$Tze.x,C$Tzt.y+C$Tze.y));},_fixupHandlerPosition:function(){var C$Tzt=this.node.getContentSize(),C$Tze=this.node.getAnchorPoint(),C$Tzi=this.handle.node.getContentSize(),C$Tzn=this.handle.node.parent,C$Tze=this.node.convertToWorldSpaceAR(cc.v2(-C$Tzt.width*C$Tze.x,-C$Tzt.height*C$Tze.y)),C$Tzn=C$Tzn.convertToNodeSpaceAR(C$Tze);return this.direction===C$Tzh.HORIZONTAL?C$Tzn=cc.v2(C$Tzn.x,C$Tzn.y+(C$Tzt.height-C$Tzi.height)/2):this.direction===C$Tzh.VERTICAL&&(C$Tzn=cc.v2(C$Tzn.x+(C$Tzt.width-C$Tzi.width)/2,C$Tzn.y)),this.handle.node.setPosition(C$Tzn),C$Tzn;},_onTouchBegan:function(){this.enableAutoHide&&(this._touching=!0);},_conditionalDisableScrollBar:function(C$Tzt,C$Tze){return C$Tzt.width<=C$Tze.width&&this.direction===C$Tzh.HORIZONTAL||C$Tzt.height<=C$Tze.height&&this.direction===C$Tzh.VERTICAL;},_onTouchEnded:function(){if(this.enableAutoHide&&(this._touching=!1,!(this.autoHideTime<=0))){if(this._scrollView){var C$Tzt=this._scrollView.content;if(C$Tzt){var C$Tzt=C$Tzt.getContentSize(),C$Tze=this._scrollView.node.getContentSize();if(this._conditionalDisableScrollBar(C$Tzt,C$Tze))return;}}this._autoHideRemainingTime=this.autoHideTime;}},_calculateLength:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzn&&(C$Tzt+=20*(0<C$Tzn?C$Tzn:-C$Tzn)),C$Tzi*(C$Tze/C$Tzt);},_calculatePosition:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){C$Tzt-=C$Tze,C$Tzr&&(C$Tzt+=Math.abs(C$Tzr)),C$Tze=0,C$Tzr=(C$Tzi-C$Tzs)*(C$Tze=C$Tzt?C$Tzo.clamp01(C$Tze=C$Tzn/C$Tzt):C$Tze);return this.direction===C$Tzh.VERTICAL?cc.v2(0,C$Tzr):cc.v2(C$Tzr,0);},_updateLength:function(C$Tzt){var C$Tze,C$Tzi;this.handle&&(C$Tzi=(C$Tze=this.handle.node).getContentSize(),C$Tze.setAnchorPoint(cc.v2(0,0)),this.direction===C$Tzh.HORIZONTAL?C$Tze.setContentSize(C$Tzt,C$Tzi.height):C$Tze.setContentSize(C$Tzi.width,C$Tzt));},_processAutoHide:function(C$Tzt){!this.enableAutoHide||this._autoHideRemainingTime<=0||this._touching||(this._autoHideRemainingTime-=C$Tzt,this._autoHideRemainingTime<=this.autoHideTime&&(this._autoHideRemainingTime=Math.max(0,this._autoHideRemainingTime),C$Tzt=this._opacity*(this._autoHideRemainingTime/this.autoHideTime),this._setOpacity(C$Tzt)));},start:function(){this.enableAutoHide&&this._setOpacity(0);},hide:function(){this._autoHideRemainingTime=0,this._setOpacity(0);},show:function(){this._autoHideRemainingTime=this.autoHideTime,this._setOpacity(this._opacity);},update:function(C$Tzt){this._processAutoHide(C$Tzt);}});cc.Scrollbar=C$Tze.exports=C$Tzt;},{"../utils/misc":264,"./CCComponent":78}],92:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(){return new Date().getMilliseconds();}var C$Tzr=C$Tzt(H[815]).EventType,C$Tzs=cc.v2(),C$Tzo=cc.v2(),C$Tza=cc.Enum({SCROLL_TO_TOP:0,SCROLL_TO_BOTTOM:1,SCROLL_TO_LEFT:2,SCROLL_TO_RIGHT:3,SCROLLING:4,BOUNCE_TOP:5,BOUNCE_BOTTOM:6,BOUNCE_LEFT:7,BOUNCE_RIGHT:8,SCROLL_ENDED:9,TOUCH_UP:10,AUTOSCROLL_ENDED_WITH_THRESHOLD:11,SCROLL_BEGAN:12}),C$Tzc={"scroll-to-top":C$Tza.SCROLL_TO_TOP,"scroll-to-bottom":C$Tza.SCROLL_TO_BOTTOM,"scroll-to-left":C$Tza.SCROLL_TO_LEFT,"scroll-to-right":C$Tza.SCROLL_TO_RIGHT,scrolling:C$Tza.SCROLLING,"bounce-bottom":C$Tza.BOUNCE_BOTTOM,"bounce-left":C$Tza.BOUNCE_LEFT,"bounce-right":C$Tza.BOUNCE_RIGHT,"bounce-top":C$Tza.BOUNCE_TOP,"scroll-ended":C$Tza.SCROLL_ENDED,"touch-up":C$Tza.TOUCH_UP,"scroll-ended-with-threshold":C$Tza.AUTOSCROLL_ENDED_WITH_THRESHOLD,"scroll-began":C$Tza.SCROLL_BEGAN},C$Tzt=cc.Class({name:H[923],extends:C$Tzt(H[924]),editor:!1,ctor:function(){this._topBoundary=0,this._bottomBoundary=0,this._leftBoundary=0,this._rightBoundary=0,this._touchMoveDisplacements=[],this._touchMoveTimeDeltas=[],this._touchMovePreviousTimestamp=0,this._touchMoved=!1,this._autoScrolling=!1,this._autoScrollAttenuate=!1,this._autoScrollStartPosition=cc.v2(0,0),this._autoScrollTargetDelta=cc.v2(0,0),this._autoScrollTotalTime=0,this._autoScrollAccumulatedTime=0,this._autoScrollCurrentlyOutOfBoundary=!1,this._autoScrollBraking=!1,this._autoScrollBrakingStartPosition=cc.v2(0,0),this._outOfBoundaryAmount=cc.v2(0,0),this._outOfBoundaryAmountDirty=!0,this._stopMouseWheel=!1,this._mouseWheelEventElapsedTime=0,this._isScrollEndedWithThresholdEventFired=!1,this._scrollEventEmitMask=0,this._isBouncing=!1,this._scrolling=!1;},properties:{content:{default:void 0,type:cc.Node,tooltip:!1,formerlySerializedAs:H[925],notify:function(C$Tzt){this._calculateBoundary();}},horizontal:{default:!0,animatable:!1,tooltip:!1},vertical:{default:!0,animatable:!1,tooltip:!1},inertia:{default:!0,tooltip:!1},brake:{default:.5,type:cc.Float,range:[0,1,.1],tooltip:!1},elastic:{default:!0,animatable:!1,tooltip:!1},bounceDuration:{default:1,range:[0,10],tooltip:!1},horizontalScrollBar:{default:void 0,type:cc.Scrollbar,tooltip:!1,notify:function(){this.horizontalScrollBar&&(this.horizontalScrollBar.setTargetScrollView(this),this._updateScrollBar(0));},animatable:!1},verticalScrollBar:{default:void 0,type:cc.Scrollbar,tooltip:!1,notify:function(){this.verticalScrollBar&&(this.verticalScrollBar.setTargetScrollView(this),this._updateScrollBar(0));},animatable:!1},scrollEvents:{default:[],type:cc.Component.EventHandler,tooltip:!1},cancelInnerEvents:{default:!0,animatable:!1,tooltip:!1},_view:{get:function(){if(this.content)return this.content.parent;}}},statics:{EventType:C$Tza},scrollToBottom:function(C$Tzt,C$Tze){var C$Tzi=this._calculateMovePercentDelta({anchor:cc.v2(0,0),applyToHorizontal:!1,applyToVertical:!0});C$Tzt?this._startAutoScroll(C$Tzi,C$Tzt,!1!==C$Tze):this._moveContent(C$Tzi,!0);},scrollToTop:function(C$Tzt,C$Tze){var C$Tzi=this._calculateMovePercentDelta({anchor:cc.v2(0,1),applyToHorizontal:!1,applyToVertical:!0});C$Tzt?this._startAutoScroll(C$Tzi,C$Tzt,!1!==C$Tze):this._moveContent(C$Tzi);},scrollToLeft:function(C$Tzt,C$Tze){var C$Tzi=this._calculateMovePercentDelta({anchor:cc.v2(0,0),applyToHorizontal:!0,applyToVertical:!1});C$Tzt?this._startAutoScroll(C$Tzi,C$Tzt,!1!==C$Tze):this._moveContent(C$Tzi);},scrollToRight:function(C$Tzt,C$Tze){var C$Tzi=this._calculateMovePercentDelta({anchor:cc.v2(1,0),applyToHorizontal:!0,applyToVertical:!1});C$Tzt?this._startAutoScroll(C$Tzi,C$Tzt,!1!==C$Tze):this._moveContent(C$Tzi);},scrollToTopLeft:function(C$Tzt,C$Tze){var C$Tzi=this._calculateMovePercentDelta({anchor:cc.v2(0,1),applyToHorizontal:!0,applyToVertical:!0});C$Tzt?this._startAutoScroll(C$Tzi,C$Tzt,!1!==C$Tze):this._moveContent(C$Tzi);},scrollToTopRight:function(C$Tzt,C$Tze){var C$Tzi=this._calculateMovePercentDelta({anchor:cc.v2(1,1),applyToHorizontal:!0,applyToVertical:!0});C$Tzt?this._startAutoScroll(C$Tzi,C$Tzt,!1!==C$Tze):this._moveContent(C$Tzi);},scrollToBottomLeft:function(C$Tzt,C$Tze){var C$Tzi=this._calculateMovePercentDelta({anchor:cc.v2(0,0),applyToHorizontal:!0,applyToVertical:!0});C$Tzt?this._startAutoScroll(C$Tzi,C$Tzt,!1!==C$Tze):this._moveContent(C$Tzi);},scrollToBottomRight:function(C$Tzt,C$Tze){var C$Tzi=this._calculateMovePercentDelta({anchor:cc.v2(1,0),applyToHorizontal:!0,applyToVertical:!0});C$Tzt?this._startAutoScroll(C$Tzi,C$Tzt,!1!==C$Tze):this._moveContent(C$Tzi);},scrollToOffset:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this.getMaxScrollOffset(),C$Tzr=cc.v2(0,0);0===C$Tzn.x?C$Tzr.x=0:C$Tzr.x=C$Tzt.x/C$Tzn.x,0===C$Tzn.y?C$Tzr.y=1:C$Tzr.y=(C$Tzn.y-C$Tzt.y)/C$Tzn.y,this.scrollTo(C$Tzr,C$Tze,C$Tzi);},getScrollOffset:function(){var C$Tzt=this._getContentTopBoundary()-this._topBoundary,C$Tze=this._getContentLeftBoundary()-this._leftBoundary;return cc.v2(C$Tze,C$Tzt);},getMaxScrollOffset:function(){var C$Tzt=this._view.getContentSize(),C$Tze=this.content.getContentSize(),C$Tzi=0<=(C$Tzi=C$Tze.width-C$Tzt.width)?C$Tzi:0,C$Tze=0<=(C$Tze=C$Tze.height-C$Tzt.height)?C$Tze:0;return cc.v2(C$Tzi,C$Tze);},scrollToPercentHorizontal:function(C$Tzt,C$Tze,C$Tzi){C$Tzt=this._calculateMovePercentDelta({anchor:cc.v2(C$Tzt,0),applyToHorizontal:!0,applyToVertical:!1});C$Tze?this._startAutoScroll(C$Tzt,C$Tze,!1!==C$Tzi):this._moveContent(C$Tzt);},scrollTo:function(C$Tzt,C$Tze,C$Tzi){C$Tzt=this._calculateMovePercentDelta({anchor:cc.v2(C$Tzt),applyToHorizontal:!0,applyToVertical:!0});C$Tze?this._startAutoScroll(C$Tzt,C$Tze,!1!==C$Tzi):this._moveContent(C$Tzt);},scrollToPercentVertical:function(C$Tzt,C$Tze,C$Tzi){C$Tzt=this._calculateMovePercentDelta({anchor:cc.v2(0,C$Tzt),applyToHorizontal:!1,applyToVertical:!0});C$Tze?this._startAutoScroll(C$Tzt,C$Tze,!1!==C$Tzi):this._moveContent(C$Tzt);},stopAutoScroll:function(){this._autoScrolling=!1,this._autoScrollAccumulatedTime=this._autoScrollTotalTime;},setContentPosition:function(C$Tzt){C$Tzt.fuzzyEquals(this.getContentPosition(),1e-4)||(this.content.setPosition(C$Tzt),this._outOfBoundaryAmountDirty=!0);},getContentPosition:function(){return this.content.getPosition();},isScrolling:function(){return this._scrolling;},isAutoScrolling:function(){return this._autoScrolling;},_registerEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchBegan,this,!0),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMoved,this,!0),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this,!0),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancelled,this,!0),this.node.on(cc.Node.EventType.MOUSE_WHEEL,this._onMouseWheel,this,!0);},_unregisterEvent:function(){this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchBegan,this,!0),this.node.off(cc.Node.EventType.TOUCH_MOVE,this._onTouchMoved,this,!0),this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this,!0),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancelled,this,!0),this.node.off(cc.Node.EventType.MOUSE_WHEEL,this._onMouseWheel,this,!0);},_onMouseWheel:function(C$Tzt,C$Tze){this.enabledInHierarchy&&(this._hasNestedViewGroup(C$Tzt,C$Tze)||(C$Tze=cc.v2(0,0),this.vertical?C$Tze=cc.v2(0,-.1*C$Tzt.getScrollY()):this.horizontal&&(C$Tze=cc.v2(-.1*C$Tzt.getScrollY(),0)),this._mouseWheelEventElapsedTime=0,this._processDeltaMove(C$Tze),this._stopMouseWheel||(this._handlePressLogic(),this.schedule(this._checkMouseWheel,1/60),this._stopMouseWheel=!0),this._stopPropagationIfTargetIsMe(C$Tzt)));},_checkMouseWheel:function(C$Tzt){if(!this._getHowMuchOutOfBoundary().fuzzyEquals(cc.v2(0,0),1e-4))return this._processInertiaScroll(),this.unschedule(this._checkMouseWheel),this._dispatchEvent(H[906]),void(this._stopMouseWheel=!1);this._mouseWheelEventElapsedTime+=C$Tzt,.1<this._mouseWheelEventElapsedTime&&(this._onScrollBarTouchEnded(),this.unschedule(this._checkMouseWheel),this._dispatchEvent(H[906]),this._stopMouseWheel=!1);},_calculateMovePercentDelta:function(C$Tzt){var C$Tze=C$Tzt.anchor,C$Tzi=C$Tzt.applyToHorizontal,C$Tzt=C$Tzt.applyToVertical,C$Tzn=(this._calculateBoundary(),C$Tze=C$Tze.clampf(cc.v2(0,0),cc.v2(1,1)),this._view.getContentSize()),C$Tzr=this.content.getContentSize(),C$Tzs=-(this._getContentBottomBoundary()-this._bottomBoundary),C$Tzo=-(this._getContentLeftBoundary()-this._leftBoundary),C$Tza=cc.v2(0,0),C$Tzc=0;return C$Tzi&&(C$Tzc=C$Tzr.width-C$Tzn.width,C$Tza.x=C$Tzo-C$Tzc*C$Tze.x),C$Tzt&&(C$Tzc=C$Tzr.height-C$Tzn.height,C$Tza.y=C$Tzs-C$Tzc*C$Tze.y),C$Tza;},_moveContentToTopLeft:function(C$Tzt){var C$Tze=this.content.getContentSize(),C$Tzi=-(this._getContentBottomBoundary()-this._bottomBoundary),C$Tzn=cc.v2(0,0),C$Tzr=0,C$Tzs=-(this._getContentLeftBoundary()-this._leftBoundary);C$Tze.height<C$Tzt.height&&(C$Tzr=C$Tze.height-C$Tzt.height,C$Tzn.y=C$Tzi-C$Tzr),C$Tze.width<C$Tzt.width&&(C$Tzr=C$Tze.width-C$Tzt.width,C$Tzn.x=C$Tzs),this._updateScrollBarState(),this._moveContent(C$Tzn),this._adjustContentOutOfBoundary();},_calculateBoundary:function(){var C$Tzt,C$Tze,C$Tzi;this.content&&((C$Tzt=this.content.getComponent(cc.Layout))&&C$Tzt.enabledInHierarchy&&C$Tzt.updateLayout(),C$Tze=(C$Tzt=this._view.getContentSize()).width*this._view.anchorX,C$Tzi=C$Tzt.height*this._view.anchorY,this._leftBoundary=-C$Tze,this._bottomBoundary=-C$Tzi,this._rightBoundary=this._leftBoundary+C$Tzt.width,this._topBoundary=this._bottomBoundary+C$Tzt.height,this._moveContentToTopLeft(C$Tzt));},_hasNestedViewGroup:function(C$Tzt,C$Tze){if(C$Tzt.eventPhase===cc.Event.CAPTURING_PHASE){if(C$Tze)for(var C$Tzi=0;C$Tzi<C$Tze.length;++C$Tzi){var C$Tzn=C$Tze[C$Tzi];if(this.node===C$Tzn)return!!C$Tzt.target.getComponent(cc.ViewGroup);if(C$Tzn.getComponent(cc.ViewGroup))return!0;}return!1;}},_stopPropagationIfTargetIsMe:function(C$Tzt){C$Tzt.eventPhase===cc.Event.AT_TARGET&&C$Tzt.target===this.node&&C$Tzt.stopPropagation();},_onTouchBegan:function(C$Tzt,C$Tze){this.enabledInHierarchy&&(this._hasNestedViewGroup(C$Tzt,C$Tze)||(C$Tze=C$Tzt.touch,this.content&&this._handlePressLogic(C$Tze),this._touchMoved=!1,this._stopPropagationIfTargetIsMe(C$Tzt)));},_onTouchMoved:function(C$Tzt,C$Tze){this.enabledInHierarchy&&(this._hasNestedViewGroup(C$Tzt,C$Tze)||(C$Tze=C$Tzt.touch,this.content&&this._handleMoveLogic(C$Tze),this.cancelInnerEvents&&(7<C$Tze.getLocation().sub(C$Tze.getStartLocation()).mag()&&!this._touchMoved&&C$Tzt.target!==this.node&&((C$Tze=new cc.Event.EventTouch(C$Tzt.getTouches(),C$Tzt.bubbles)).type=cc.Node.EventType.TOUCH_CANCEL,C$Tze.touch=C$Tzt.touch,C$Tze.simulate=!0,C$Tzt.target.dispatchEvent(C$Tze),this._touchMoved=!0),this._stopPropagationIfTargetIsMe(C$Tzt))));},_onTouchEnded:function(C$Tzt,C$Tze){this.enabledInHierarchy&&(this._hasNestedViewGroup(C$Tzt,C$Tze)||(this._dispatchEvent(H[926]),C$Tze=C$Tzt.touch,this.content&&this._handleReleaseLogic(C$Tze),this._touchMoved?C$Tzt.stopPropagation():this._stopPropagationIfTargetIsMe(C$Tzt)));},_onTouchCancelled:function(C$Tzt,C$Tze){this.enabledInHierarchy&&(this._hasNestedViewGroup(C$Tzt,C$Tze)||(C$Tzt.simulate||(C$Tze=C$Tzt.touch,this.content&&this._handleReleaseLogic(C$Tze)),this._stopPropagationIfTargetIsMe(C$Tzt)));},_processDeltaMove:function(C$Tzt){this._scrollChildren(C$Tzt),this._gatherTouchMove(C$Tzt);},_getLocalAxisAlignDelta:function(C$Tzt){return this.node.convertToNodeSpaceAR(C$Tzt.getLocation(),C$Tzs),this.node.convertToNodeSpaceAR(C$Tzt.getPreviousLocation(),C$Tzo),C$Tzs.sub(C$Tzo);},_handleMoveLogic:function(C$Tzt){C$Tzt=this._getLocalAxisAlignDelta(C$Tzt);this._processDeltaMove(C$Tzt);},_scrollChildren:function(C$Tzt){var C$Tzt=C$Tzt=this._clampDelta(C$Tzt),C$Tze=(this.elastic&&(C$Tze=this._getHowMuchOutOfBoundary(),C$Tzt.x*=0===C$Tze.x?1:.5,C$Tzt.y*=0===C$Tze.y?1:.5),this.elastic||(C$Tze=this._getHowMuchOutOfBoundary(C$Tzt),C$Tzt=C$Tzt.add(C$Tze)),-1);0<C$Tzt.y?this.content.y-this.content.anchorY*this.content.height+C$Tzt.y>=this._bottomBoundary&&(C$Tze=H[927]):C$Tzt.y<0&&this.content.y-this.content.anchorY*this.content.height+this.content.height+C$Tzt.y<=this._topBoundary&&(C$Tze=H[928]),C$Tzt.x<0?this.content.x-this.content.anchorX*this.content.width+this.content.width+C$Tzt.x<=this._rightBoundary&&(C$Tze=H[929]):0<C$Tzt.x&&this.content.x-this.content.anchorX*this.content.width+C$Tzt.x>=this._leftBoundary&&(C$Tze=H[930]),this._moveContent(C$Tzt,!1),0===C$Tzt.x&&0===C$Tzt.y||(this._scrolling||(this._scrolling=!0,this._dispatchEvent(H[931])),this._dispatchEvent(H[932])),-1!==C$Tze&&this._dispatchEvent(C$Tze);},_handlePressLogic:function(){this._autoScrolling&&this._dispatchEvent(H[906]),this._autoScrolling=!1,this._isBouncing=!1,this._touchMovePreviousTimestamp=C$Tzn(),this._touchMoveDisplacements.length=0,this._touchMoveTimeDeltas.length=0,this._onScrollBarTouchBegan();},_clampDelta:function(C$Tzt){var C$Tze=this.content.getContentSize(),C$Tzi=this._view.getContentSize();return C$Tze.width<C$Tzi.width&&(C$Tzt.x=0),C$Tze.height<C$Tzi.height&&(C$Tzt.y=0),C$Tzt;},_gatherTouchMove:function(C$Tzt){for(C$Tzt=this._clampDelta(C$Tzt);5<=this._touchMoveDisplacements.length;)this._touchMoveDisplacements.shift(),this._touchMoveTimeDeltas.shift();this._touchMoveDisplacements.push(C$Tzt);C$Tzt=C$Tzn();this._touchMoveTimeDeltas.push((C$Tzt-this._touchMovePreviousTimestamp)/1e3),this._touchMovePreviousTimestamp=C$Tzt;},_startBounceBackIfNeeded:function(){if(!this.elastic)return!1;var C$Tzt=this._getHowMuchOutOfBoundary();if((C$Tzt=this._clampDelta(C$Tzt)).fuzzyEquals(cc.v2(0,0),1e-4))return!1;var C$Tze=Math.max(this.bounceDuration,0);return this._startAutoScroll(C$Tzt,C$Tze,!0),this._isBouncing||(0<C$Tzt.y&&this._dispatchEvent(H[933]),C$Tzt.y<0&&this._dispatchEvent(H[934]),0<C$Tzt.x&&this._dispatchEvent(H[935]),C$Tzt.x<0&&this._dispatchEvent(H[936]),this._isBouncing=!0),!0;},_processInertiaScroll:function(){var C$Tzt;this._startBounceBackIfNeeded()||!this.inertia||!(C$Tzt=this._calculateTouchMoveVelocity()).fuzzyEquals(cc.v2(0,0),1e-4)&&this.brake<1&&this._startInertiaScroll(C$Tzt),this._onScrollBarTouchEnded();},_handleReleaseLogic:function(C$Tzt){C$Tzt=this._getLocalAxisAlignDelta(C$Tzt);this._gatherTouchMove(C$Tzt),this._processInertiaScroll(),this._scrolling&&(this._scrolling=!1,this._autoScrolling||this._dispatchEvent(H[906]));},_isOutOfBoundary:function(){return!this._getHowMuchOutOfBoundary().fuzzyEquals(cc.v2(0,0),1e-4);},_isNecessaryAutoScrollBrake:function(){if(this._autoScrollBraking)return!0;if(this._isOutOfBoundary()){if(!this._autoScrollCurrentlyOutOfBoundary)return this._autoScrollCurrentlyOutOfBoundary=!0,this._autoScrollBraking=!0,this._autoScrollBrakingStartPosition=this.getContentPosition(),!0;}else this._autoScrollCurrentlyOutOfBoundary=!1;return!1;},getScrollEndedEventTiming:function(){return 1e-4;},_processAutoScrolling:function(C$Tzt){var C$Tze=this._isNecessaryAutoScrollBrake(),C$Tzi=C$Tze?.05:1,C$Tzt=(this._autoScrollAccumulatedTime+=C$Tzt*(1/C$Tzi),Math.min(1,this._autoScrollAccumulatedTime/this._autoScrollTotalTime)),C$Tzn=(this._autoScrollAttenuate&&(C$Tzn=C$Tzt,C$Tzt=--C$Tzn*C$Tzn*C$Tzn*C$Tzn*C$Tzn+1),this._autoScrollStartPosition.add(this._autoScrollTargetDelta.mul(C$Tzt))),C$Tzr=Math.abs(C$Tzt-1)<=1e-4,C$Tzt=(Math.abs(C$Tzt-1)<=this.getScrollEndedEventTiming()&&!this._isScrollEndedWithThresholdEventFired&&(this._dispatchEvent(H[904]),this._isScrollEndedWithThresholdEventFired=!0),this.elastic?(C$Tzt=C$Tzn.sub(this._autoScrollBrakingStartPosition),C$Tze&&(C$Tzt=C$Tzt.mul(C$Tzi)),C$Tzn=this._autoScrollBrakingStartPosition.add(C$Tzt)):(C$Tze=C$Tzn.sub(this.getContentPosition()),(C$Tzi=this._getHowMuchOutOfBoundary(C$Tze)).fuzzyEquals(cc.v2(0,0),1e-4)||(C$Tzn=C$Tzn.add(C$Tzi),C$Tzr=!0)),C$Tzr&&(this._autoScrolling=!1),C$Tzn.sub(this.getContentPosition()));this._moveContent(this._clampDelta(C$Tzt),C$Tzr),this._dispatchEvent(H[932]),this._autoScrolling||(this._isBouncing=!1,this._scrolling=!1,this._dispatchEvent(H[906]));},_startInertiaScroll:function(C$Tzt){var C$Tze=C$Tzt.mul(.7);this._startAttenuatingAutoScroll(C$Tze,C$Tzt);},_calculateAttenuatedFactor:function(C$Tzt){return this.brake<=0?1-this.brake:(1-this.brake)*(1/(1+14e-6*C$Tzt+C$Tzt*C$Tzt*8e-9));},_startAttenuatingAutoScroll:function(C$Tzt,C$Tze){var C$Tze=this._calculateAutoScrollTimeByInitalSpeed(C$Tze.mag()),C$Tzi=C$Tzt.normalize(),C$Tzn=this.content.getContentSize(),C$Tzr=this._view.getContentSize(),C$Tzs=C$Tzn.width-C$Tzr.width,C$Tzn=C$Tzn.height-C$Tzr.height,C$Tzr=this._calculateAttenuatedFactor(C$Tzs),C$Tzo=this._calculateAttenuatedFactor(C$Tzn),C$Tzi=cc.v2(C$Tzi.x*C$Tzs*(1-this.brake)*C$Tzr,C$Tzi.y*C$Tzn*C$Tzo*(1-this.brake)),C$Tzs=C$Tzt.mag(),C$Tzr=C$Tzi.mag()/C$Tzs;C$Tzi=C$Tzi.add(C$Tzt),0<this.brake&&7<C$Tzr&&(C$Tzr=Math.sqrt(C$Tzr),C$Tzi=C$Tzt.mul(C$Tzr).add(C$Tzt)),0<this.brake&&3<C$Tzr&&(C$Tze*=C$Tzr=3),0===this.brake&&1<C$Tzr&&(C$Tze*=C$Tzr),this._startAutoScroll(C$Tzi,C$Tze,!0);},_calculateAutoScrollTimeByInitalSpeed:function(C$Tzt){return Math.sqrt(Math.sqrt(C$Tzt/5));},_startAutoScroll:function(C$Tzt,C$Tze,C$Tzi){C$Tzt=this._flattenVectorByDirection(C$Tzt);this._autoScrolling=!0,this._autoScrollTargetDelta=C$Tzt,this._autoScrollAttenuate=C$Tzi,this._autoScrollStartPosition=this.getContentPosition(),this._autoScrollTotalTime=C$Tze,this._autoScrollAccumulatedTime=0,this._autoScrollBraking=!1,this._isScrollEndedWithThresholdEventFired=!1,this._autoScrollBrakingStartPosition=cc.v2(0,0),this._getHowMuchOutOfBoundary().fuzzyEquals(cc.v2(0,0),1e-4)||(this._autoScrollCurrentlyOutOfBoundary=!0);},_calculateTouchMoveVelocity:function(){var C$Tzt;if((C$Tzt=this._touchMoveTimeDeltas.reduce(function(C$Tzt,C$Tze){return C$Tzt+C$Tze;},0))<=0||.5<=C$Tzt)return cc.v2(0,0);var C$Tze=cc.v2(0,0),C$Tze=this._touchMoveDisplacements.reduce(function(C$Tzt,C$Tze){return C$Tzt.add(C$Tze);},C$Tze);return cc.v2(C$Tze.x*(1-this.brake)/C$Tzt,C$Tze.y*(1-this.brake)/C$Tzt);},_flattenVectorByDirection:function(C$Tzt){return C$Tzt.x=this.horizontal?C$Tzt.x:0,C$Tzt.y=this.vertical?C$Tzt.y:0,C$Tzt;},_moveContent:function(C$Tzt,C$Tze){C$Tzt=this._flattenVectorByDirection(C$Tzt),C$Tzt=this.getContentPosition().add(C$Tzt),this.setContentPosition(C$Tzt),C$Tzt=this._getHowMuchOutOfBoundary();this._updateScrollBar(C$Tzt),this.elastic&&C$Tze&&this._startBounceBackIfNeeded();},_getContentLeftBoundary:function(){return this.getContentPosition().x-this.content.getAnchorPoint().x*this.content.getContentSize().width;},_getContentRightBoundary:function(){var C$Tzt=this.content.getContentSize();return this._getContentLeftBoundary()+C$Tzt.width;},_getContentTopBoundary:function(){var C$Tzt=this.content.getContentSize();return this._getContentBottomBoundary()+C$Tzt.height;},_getContentBottomBoundary:function(){return this.getContentPosition().y-this.content.getAnchorPoint().y*this.content.getContentSize().height;},_getHowMuchOutOfBoundary:function(C$Tzt){if((C$Tzt=C$Tzt||cc.v2(0,0)).fuzzyEquals(cc.v2(0,0),1e-4)&&!this._outOfBoundaryAmountDirty)return this._outOfBoundaryAmount;var C$Tze=cc.v2(0,0);return this._getContentLeftBoundary()+C$Tzt.x>this._leftBoundary?C$Tze.x=this._leftBoundary-(this._getContentLeftBoundary()+C$Tzt.x):this._getContentRightBoundary()+C$Tzt.x<this._rightBoundary&&(C$Tze.x=this._rightBoundary-(this._getContentRightBoundary()+C$Tzt.x)),this._getContentTopBoundary()+C$Tzt.y<this._topBoundary?C$Tze.y=this._topBoundary-(this._getContentTopBoundary()+C$Tzt.y):this._getContentBottomBoundary()+C$Tzt.y>this._bottomBoundary&&(C$Tze.y=this._bottomBoundary-(this._getContentBottomBoundary()+C$Tzt.y)),C$Tzt.fuzzyEquals(cc.v2(0,0),1e-4)&&(this._outOfBoundaryAmount=C$Tze,this._outOfBoundaryAmountDirty=!1),C$Tze=this._clampDelta(C$Tze);},_updateScrollBarState:function(){var C$Tzt,C$Tze;this.content&&(C$Tzt=this.content.getContentSize(),C$Tze=this._view.getContentSize(),this.verticalScrollBar&&(C$Tzt.height<C$Tze.height?this.verticalScrollBar.hide():this.verticalScrollBar.show()),this.horizontalScrollBar&&(C$Tzt.width<C$Tze.width?this.horizontalScrollBar.hide():this.horizontalScrollBar.show()));},_updateScrollBar:function(C$Tzt){this.horizontalScrollBar&&this.horizontalScrollBar._onScroll(C$Tzt),this.verticalScrollBar&&this.verticalScrollBar._onScroll(C$Tzt);},_onScrollBarTouchBegan:function(){this.horizontalScrollBar&&this.horizontalScrollBar._onTouchBegan(),this.verticalScrollBar&&this.verticalScrollBar._onTouchBegan();},_onScrollBarTouchEnded:function(){this.horizontalScrollBar&&this.horizontalScrollBar._onTouchEnded(),this.verticalScrollBar&&this.verticalScrollBar._onTouchEnded();},_dispatchEvent:function(C$Tzt){if(H[906]===C$Tzt)this._scrollEventEmitMask=0;else if(H[928]===C$Tzt||H[927]===C$Tzt||H[930]===C$Tzt||H[929]===C$Tzt){var C$Tze=1<<C$Tzc[C$Tzt];if(this._scrollEventEmitMask&C$Tze)return;this._scrollEventEmitMask|=C$Tze;}cc.Component.EventHandler.emitEvents(this.scrollEvents,this,C$Tzc[C$Tzt]),this.node.emit(C$Tzt,this);},_adjustContentOutOfBoundary:function(){var C$Tzt;this._outOfBoundaryAmountDirty=!0,this._isOutOfBoundary()&&(C$Tzt=this._getHowMuchOutOfBoundary(cc.v2(0,0)),C$Tzt=this.getContentPosition().add(C$Tzt),this.content&&(this.content.setPosition(C$Tzt),this._updateScrollBar(0)));},start:function(){this._calculateBoundary(),this.content&&cc.director.once(cc.Director.EVENT_BEFORE_DRAW,this._adjustContentOutOfBoundary,this);},_hideScrollbar:function(){this.horizontalScrollBar&&this.horizontalScrollBar.hide(),this.verticalScrollBar&&this.verticalScrollBar.hide();},onDisable:function(){this._unregisterEvent(),this.content&&(this.content.off(C$Tzr.SIZE_CHANGED,this._calculateBoundary,this),this.content.off(C$Tzr.SCALE_CHANGED,this._calculateBoundary,this),this._view&&(this._view.off(C$Tzr.POSITION_CHANGED,this._calculateBoundary,this),this._view.off(C$Tzr.SCALE_CHANGED,this._calculateBoundary,this),this._view.off(C$Tzr.SIZE_CHANGED,this._calculateBoundary,this))),this._hideScrollbar(),this.stopAutoScroll();},onEnable:function(){this._registerEvent(),this.content&&(this.content.on(C$Tzr.SIZE_CHANGED,this._calculateBoundary,this),this.content.on(C$Tzr.SCALE_CHANGED,this._calculateBoundary,this),this._view&&(this._view.on(C$Tzr.POSITION_CHANGED,this._calculateBoundary,this),this._view.on(C$Tzr.SCALE_CHANGED,this._calculateBoundary,this),this._view.on(C$Tzr.SIZE_CHANGED,this._calculateBoundary,this))),this._updateScrollBarState();},update:function(C$Tzt){this._autoScrolling&&this._processAutoScrolling(C$Tzt);}});cc.ScrollView=C$Tze.exports=C$Tzt;},{"../CCNode":30,"./CCViewGroup":99}],93:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[849]),C$Tzt=C$Tzt(H[848]),C$Tzr=cc.Enum({Horizontal:0,Vertical:1}),C$Tzt=cc.Class({name:H[937],extends:C$Tzt,editor:!1,ctor:function(){this._offset=cc.v2(),this._touchHandle=!1,this._dragging=!1;},properties:{handle:{default:null,type:cc.Button,tooltip:!1,notify:function(){}},direction:{default:C$Tzr.Horizontal,type:C$Tzr,tooltip:!1},progress:{default:.5,type:cc.Float,range:[0,1,.1],slide:!0,tooltip:!1,notify:function(){this._updateHandlePosition();}},slideEvents:{default:[],type:cc.Component.EventHandler,tooltip:!1}},statics:{Direction:C$Tzr},__preload:function(){this._updateHandlePosition();},onEnable:function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchBegan,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMoved,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancelled,this),this.handle&&this.handle.isValid&&(this.handle.node.on(cc.Node.EventType.TOUCH_START,this._onHandleDragStart,this),this.handle.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMoved,this),this.handle.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this));},onDisable:function(){this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchBegan,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this._onTouchMoved,this),this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancelled,this),this.handle&&this.handle.isValid&&(this.handle.node.off(cc.Node.EventType.TOUCH_START,this._onHandleDragStart,this),this.handle.node.off(cc.Node.EventType.TOUCH_MOVE,this._onTouchMoved,this),this.handle.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this));},_onHandleDragStart:function(C$Tzt){this._dragging=!0,this._touchHandle=!0,this._offset=this.handle.node.convertToNodeSpaceAR(C$Tzt.touch.getLocation()),C$Tzt.stopPropagation();},_onTouchBegan:function(C$Tzt){this.handle&&(this._dragging=!0,this._touchHandle||this._handleSliderLogic(C$Tzt.touch),C$Tzt.stopPropagation());},_onTouchMoved:function(C$Tzt){this._dragging&&(this._handleSliderLogic(C$Tzt.touch),C$Tzt.stopPropagation());},_onTouchEnded:function(C$Tzt){this._dragging=!1,this._touchHandle=!1,this._offset=cc.v2(),C$Tzt.stopPropagation();},_onTouchCancelled:function(C$Tzt){this._dragging=!1,C$Tzt.stopPropagation();},_handleSliderLogic:function(C$Tzt){this._updateProgress(C$Tzt),this._emitSlideEvent();},_emitSlideEvent:function(){cc.Component.EventHandler.emitEvents(this.slideEvents,this),this.node.emit(H[938],this);},_updateProgress:function(C$Tzt){var C$Tze;this.handle&&(C$Tzt=(C$Tze=this.node).convertToNodeSpaceAR(C$Tzt.getLocation()),this.direction===C$Tzr.Horizontal?this.progress=C$Tzn.clamp01((C$Tzt.x-this._offset.x+C$Tze.anchorX*C$Tze.width)/C$Tze.width):this.progress=C$Tzn.clamp01((C$Tzt.y-this._offset.y+C$Tze.anchorY*C$Tze.height)/C$Tze.height));},_updateHandlePosition:function(){var C$Tzt;this.handle&&(C$Tzt=this.direction===C$Tzr.Horizontal?cc.v2(-this.node.width*this.node.anchorX+this.progress*this.node.width,0):cc.v2(0,-this.node.height*this.node.anchorY+this.progress*this.node.height),C$Tzt=this.node.convertToWorldSpaceAR(C$Tzt),this.handle.node.position=this.handle.node.parent.convertToNodeSpaceAR(C$Tzt));}});cc.Slider=C$Tze.exports=C$Tzt;},{"../utils/misc":264,"./CCComponent":78}],94:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[849]),C$Tzr=(C$Tzt(H[815]).EventType,C$Tzt(H[876])),C$Tzs=C$Tzt(H[939]),C$Tzo=cc.Enum({SIMPLE:0,SLICED:1,TILED:2,FILLED:3,MESH:4}),C$Tzt=cc.Enum({HORIZONTAL:0,VERTICAL:1,RADIAL:2}),C$Tza=cc.Enum({CUSTOM:0,TRIMMED:1,RAW:2}),C$Tzc=cc.Enum({NORMAL:0,GRAY:1}),C$Tzr=cc.Class({name:H[940],extends:C$Tzr,mixins:[C$Tzs],editor:!1,properties:{_spriteFrame:{default:null,type:cc.SpriteFrame},_type:C$Tzo.SIMPLE,_sizeMode:C$Tza.TRIMMED,_fillType:0,_fillCenter:cc.v2(0,0),_fillStart:0,_fillRange:0,_isTrimmedMode:!0,_atlas:{default:null,type:cc.SpriteAtlas,tooltip:!1,editorOnly:!0,visible:!0,animatable:!1},spriteFrame:{get:function(){return this._spriteFrame;},set:function(C$Tzt,C$Tze){var C$Tzi=this._spriteFrame;C$Tzi!==C$Tzt&&(this._spriteFrame=C$Tzt,this._applySpriteFrame(C$Tzi));},type:cc.SpriteFrame},type:{get:function(){return this._type;},set:function(C$Tzt){this._type!==C$Tzt&&(this._type=C$Tzt,this.setVertsDirty(),this._resetAssembler());},type:C$Tzo,animatable:!1,tooltip:!1},fillType:{get:function(){return this._fillType;},set:function(C$Tzt){C$Tzt!==this._fillType&&(this._fillType=C$Tzt,this.setVertsDirty(),this._resetAssembler());},type:C$Tzt,tooltip:!1},fillCenter:{get:function(){return this._fillCenter;},set:function(C$Tzt){this._fillCenter.x=C$Tzt.x,this._fillCenter.y=C$Tzt.y,this._type===C$Tzo.FILLED&&this.setVertsDirty();},tooltip:!1},fillStart:{get:function(){return this._fillStart;},set:function(C$Tzt){this._fillStart=C$Tzn.clampf(C$Tzt,-1,1),this._type===C$Tzo.FILLED&&this.setVertsDirty();},tooltip:!1},fillRange:{get:function(){return this._fillRange;},set:function(C$Tzt){this._fillRange=C$Tzn.clampf(C$Tzt,-1,1),this._type===C$Tzo.FILLED&&this.setVertsDirty();},tooltip:!1},trim:{get:function(){return this._isTrimmedMode;},set:function(C$Tzt){this._isTrimmedMode!==C$Tzt&&(this._isTrimmedMode=C$Tzt,this._type!==C$Tzo.SIMPLE&&this._type!==C$Tzo.MESH||this.setVertsDirty());},animatable:!1,tooltip:!1},sizeMode:{get:function(){return this._sizeMode;},set:function(C$Tzt){(this._sizeMode=C$Tzt)!==C$Tza.CUSTOM&&this._applySpriteSize();},animatable:!1,type:C$Tza,tooltip:!1}},statics:{FillType:C$Tzt,Type:C$Tzo,SizeMode:C$Tza,State:C$Tzc},setVisible:function(C$Tzt){this.enabled=C$Tzt;},setState:function(){},getState:function(){},onEnable:function(){this._super(),this._applySpriteFrame(),this.node.on(cc.Node.EventType.SIZE_CHANGED,this.setVertsDirty,this),this.node.on(cc.Node.EventType.ANCHOR_CHANGED,this.setVertsDirty,this);},onDisable:function(){this._super(),this.node.off(cc.Node.EventType.SIZE_CHANGED,this.setVertsDirty,this),this.node.off(cc.Node.EventType.ANCHOR_CHANGED,this.setVertsDirty,this);},_updateMaterial:function(){var C$Tzt=this._spriteFrame&&this._spriteFrame.getTexture(),C$Tze=this.getMaterial(0);C$Tze&&C$Tze.setProperty(H[883],C$Tzt),C$Tzs.prototype._updateMaterial.call(this);},_applyAtlas:!1,_validateRender:function(){var C$Tzt=this._spriteFrame;this._materials[0]&&C$Tzt&&C$Tzt.textureLoaded()||this.disableRender();},_applySpriteSize:function(){var C$Tzt;this._spriteFrame&&this.isValid&&(C$Tza.RAW===this._sizeMode?(C$Tzt=this._spriteFrame._originalSize,this.node.setContentSize(C$Tzt)):C$Tza.TRIMMED===this._sizeMode&&(C$Tzt=this._spriteFrame._rect,this.node.setContentSize(C$Tzt.width,C$Tzt.height)),this.setVertsDirty());},_applySpriteFrame:function(C$Tzt){var C$Tze=C$Tzt&&C$Tzt.getTexture(),C$Tzt=(C$Tze&&!C$Tze.loaded&&C$Tzt.off(H[514],this._applySpriteSize,this),this._spriteFrame);C$Tzt?(this._updateMaterial(),C$Tze===(C$Tze=C$Tzt.getTexture())&&C$Tze&&C$Tze.loaded?this._applySpriteSize():(this.disableRender(),C$Tzt.onTextureLoaded(this._applySpriteSize,this))):this.disableRender();}});cc.Sprite=C$Tze.exports=C$Tzr;},{"../CCNode":30,"../utils/blend-func":257,"../utils/misc":264,"./CCRenderComponent":89}],95:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Enum({NONE:0,CHECKBOX:1,TEXT_ATLAS:2,SLIDER_BAR:3,LIST_VIEW:4,PAGE_VIEW:5}),C$Tzr=cc.Enum({VERTICAL:0,HORIZONTAL:1}),C$Tzs=cc.Enum({TOP:0,CENTER:1,BOTTOM:2}),C$Tzo=cc.Enum({LEFT:0,CENTER:1,RIGHT:2}),C$Tzn=cc.Class({name:H[941],extends:cc.Component,editor:!1,properties:!1,statics:{ComponentType:C$Tzn,ListDirection:C$Tzr,VerticalAlign:C$Tzs,HorizontalAlign:C$Tzo}}),C$Tza=C$Tzt(H[942]),C$Tzr=(C$Tzn.PlaceHolder=cc.Class({name:H[943],extends:cc.Component,properties:{_baseUrl:"",nestedPrefab:cc.Prefab},onLoad:function(){this.nestedPrefab&&this._replaceWithNestedPrefab();},_replaceWithNestedPrefab:function(){var C$Tzt=this.node,C$Tze=C$Tzt._prefab;C$Tze.root=C$Tzt,C$Tze.asset=this.nestedPrefab,C$Tza.syncWithPrefab(C$Tzt);}}),cc.StudioComponent=C$Tze.exports=C$Tzn,cc.Class({name:H[944],extends:cc.Widget,editor:!1,_validateTargetInDEV:function(){}}));cc.StudioWidget=C$Tze.exports=C$Tzr;},{"../utils/prefab-helper":267}],96:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[856]),C$Tzn=cc.Class({name:H[945],extends:C$Tzt(H[946]),mixins:[C$Tzn],editor:!1,properties:{_N$isChecked:!0,isChecked:{get:function(){return this._N$isChecked;},set:function(C$Tzt){var C$Tze;C$Tzt!==this._N$isChecked&&((C$Tze=this.toggleGroup||this._toggleContainer)&&C$Tze.enabled&&this._N$isChecked&&!C$Tze.allowSwitchOff||(this._N$isChecked=C$Tzt,this._updateCheckMark(),C$Tze&&C$Tze.enabled&&C$Tze.updateToggles(this),cc.Toggle._triggerEventInScript_isChecked&&this._emitToggleEvents()));},tooltip:!1},toggleGroup:{default:null,tooltip:!1,type:C$Tzt(H[947])},checkMark:{default:null,type:cc.Sprite,tooltip:!1},checkEvents:{default:[],type:cc.Component.EventHandler},_resizeToTarget:{animatable:!1,set:function(C$Tzt){C$Tzt&&this._resizeNodeToTargetNode();}}},statics:{_triggerEventInScript_check:!1,_triggerEventInScript_isChecked:!1},onEnable:function(){this._super(),this._registerToggleEvent(),this.toggleGroup&&this.toggleGroup.enabledInHierarchy&&this.toggleGroup.addToggle(this);},onDisable:function(){this._super(),this._unregisterToggleEvent(),this.toggleGroup&&this.toggleGroup.enabledInHierarchy&&this.toggleGroup.removeToggle(this);},_hideCheckMark:function(){this._N$isChecked=!1,this._updateCheckMark();},toggle:function(C$Tzt){this.isChecked=!this.isChecked,cc.Toggle._triggerEventInScript_isChecked||!cc.Toggle._triggerEventInScript_check&&!C$Tzt||this._emitToggleEvents();},check:function(){this.isChecked=!0,!cc.Toggle._triggerEventInScript_isChecked&&cc.Toggle._triggerEventInScript_check&&this._emitToggleEvents();},uncheck:function(){this.isChecked=!1,!cc.Toggle._triggerEventInScript_isChecked&&cc.Toggle._triggerEventInScript_check&&this._emitToggleEvents();},_updateCheckMark:function(){this.checkMark&&(this.checkMark.node.active=!!this.isChecked);},_updateDisabledState:function(){var C$Tzt;this._super(),this.enableAutoGrayEffect&&this.checkMark&&(C$Tzt=!this.interactable,this._switchGrayMaterial(C$Tzt,this.checkMark));},_registerToggleEvent:function(){this.node.on(H[867],this.toggle,this);},_unregisterToggleEvent:function(){this.node.off(H[867],this.toggle,this);},_emitToggleEvents:function(){this.node.emit(H[948],this),this.checkEvents&&cc.Component.EventHandler.emitEvents(this.checkEvents,this);}});cc.Toggle=C$Tze.exports=C$Tzn,C$Tzt(H[720]).get(C$Tzn.prototype,H[949],function(){var C$Tzt=this.node.parent;return cc.Node.isNode(C$Tzt)?C$Tzt.getComponent(cc.ToggleContainer):null;});},{"../platform/js":209,"../utils/gray-sprite-state":260,"./CCButton":76,"./CCToggleGroup":98}],97:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({name:H[950],extends:cc.Component,editor:!1,properties:{allowSwitchOff:{tooltip:!1,default:!1},checkEvents:{default:[],type:cc.Component.EventHandler}},updateToggles:function(C$Tze){this.enabledInHierarchy&&C$Tze.isChecked&&(this.toggleItems.forEach(function(C$Tzt){C$Tzt!==C$Tze&&C$Tzt.isChecked&&C$Tzt.enabled&&C$Tzt._hideCheckMark();}),this.checkEvents&&cc.Component.EventHandler.emitEvents(this.checkEvents,C$Tze));},_allowOnlyOneToggleChecked:function(){var C$Tze=!1;return this.toggleItems.forEach(function(C$Tzt){C$Tze?C$Tzt._hideCheckMark():C$Tzt.isChecked&&(C$Tze=!0);}),C$Tze;},_makeAtLeastOneToggleChecked:function(){var C$Tzt;this._allowOnlyOneToggleChecked()||this.allowSwitchOff||0<(C$Tzt=this.toggleItems).length&&C$Tzt[0].check();},onEnable:function(){this.node.on(H[681],this._allowOnlyOneToggleChecked,this),this.node.on(H[682],this._makeAtLeastOneToggleChecked,this);},onDisable:function(){this.node.off(H[681],this._allowOnlyOneToggleChecked,this),this.node.off(H[682],this._makeAtLeastOneToggleChecked,this);},start:function(){this._makeAtLeastOneToggleChecked();}});C$Tzt(H[720]).get(C$Tzn.prototype,H[951],function(){return this.node.getComponentsInChildren(cc.Toggle);}),cc.ToggleContainer=C$Tze.exports=C$Tzn;},{"../platform/js":209}],98:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({name:H[952],extends:cc.Component,ctor:function(){this._toggleItems=[];},editor:!1,properties:{allowSwitchOff:{tooltip:!1,default:!1},toggleItems:{get:function(){return this._toggleItems;}}},updateToggles:function(C$Tze){this.enabledInHierarchy&&this._toggleItems.forEach(function(C$Tzt){C$Tze.isChecked&&C$Tzt!==C$Tze&&C$Tzt.isChecked&&C$Tzt.enabled&&C$Tzt._hideCheckMark();});},addToggle:function(C$Tzt){-1===this._toggleItems.indexOf(C$Tzt)&&this._toggleItems.push(C$Tzt),this._allowOnlyOneToggleChecked();},removeToggle:function(C$Tzt){C$Tzt=this._toggleItems.indexOf(C$Tzt);-1<C$Tzt&&this._toggleItems.splice(C$Tzt,1),this._makeAtLeastOneToggleChecked();},_allowOnlyOneToggleChecked:function(){var C$Tze=!1;return this._toggleItems.forEach(function(C$Tzt){C$Tze&&C$Tzt.enabled&&C$Tzt._hideCheckMark(),C$Tzt.isChecked&&C$Tzt.enabled&&(C$Tze=!0);}),C$Tze;},_makeAtLeastOneToggleChecked:function(){this._allowOnlyOneToggleChecked()||this.allowSwitchOff||0<this._toggleItems.length&&(this._toggleItems[0].isChecked=!0);},start:function(){this._makeAtLeastOneToggleChecked();}}),C$Tzt=C$Tzt(H[720]),C$Tzr=!1;C$Tzt.get(cc,H[953],function(){return C$Tzr||(cc.errorID(1405,H[952],H[950]),C$Tzr=!0),C$Tzn;}),C$Tze.exports=C$Tzn;},{"../platform/js":209}],99:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt=cc.Class({name:H[954],extends:C$Tzt(H[848])});cc.ViewGroup=C$Tze.exports=C$Tzt;},{"./CCComponent":78}],100:[function(C$Tzh,C$Tzu,C$Tz_){"use strict";var C$Tzt=C$Tzh(H[955]),C$Tze=C$Tzt.AlignMode,C$Tzi=C$Tzt._AlignFlags,C$Tzn=C$Tzi.TOP,C$Tzr=C$Tzi.MID,C$Tzs=C$Tzi.BOT,C$Tzo=C$Tzi.LEFT,C$Tza=C$Tzi.CENTER,C$Tzc=C$Tzi.RIGHT,C$Tzd=C$Tzn|C$Tzs,C$Tzl=C$Tzo|C$Tzc,C$Tzi=cc.Class({name:H[956],extends:C$Tzh(H[848]),editor:!1,properties:{target:{get:function(){return this._target;},set:function(C$Tzt){this._target=C$Tzt;},type:cc.Node,tooltip:!1},isAlignTop:{get:function(){return 0<(this._alignFlags&C$Tzn);},set:function(C$Tzt){this._setAlign(C$Tzn,C$Tzt);},animatable:!1,tooltip:!1},isAlignVerticalCenter:{get:function(){return 0<(this._alignFlags&C$Tzr);},set:function(C$Tzt){C$Tzt?(this.isAlignTop=!1,this.isAlignBottom=!1,this._alignFlags|=C$Tzr):this._alignFlags&=~C$Tzr;},animatable:!1,tooltip:!1},isAlignBottom:{get:function(){return 0<(this._alignFlags&C$Tzs);},set:function(C$Tzt){this._setAlign(C$Tzs,C$Tzt);},animatable:!1,tooltip:!1},isAlignLeft:{get:function(){return 0<(this._alignFlags&C$Tzo);},set:function(C$Tzt){this._setAlign(C$Tzo,C$Tzt);},animatable:!1,tooltip:!1},isAlignHorizontalCenter:{get:function(){return 0<(this._alignFlags&C$Tza);},set:function(C$Tzt){C$Tzt?(this.isAlignLeft=!1,this.isAlignRight=!1,this._alignFlags|=C$Tza):this._alignFlags&=~C$Tza;},animatable:!1,tooltip:!1},isAlignRight:{get:function(){return 0<(this._alignFlags&C$Tzc);},set:function(C$Tzt){this._setAlign(C$Tzc,C$Tzt);},animatable:!1,tooltip:!1},isStretchWidth:{get:function(){return(this._alignFlags&C$Tzl)==C$Tzl;},visible:!1},isStretchHeight:{get:function(){return(this._alignFlags&C$Tzd)==C$Tzd;},visible:!1},top:{get:function(){return this._top;},set:function(C$Tzt){this._top=C$Tzt;},tooltip:!1},bottom:{get:function(){return this._bottom;},set:function(C$Tzt){this._bottom=C$Tzt;},tooltip:!1},left:{get:function(){return this._left;},set:function(C$Tzt){this._left=C$Tzt;},tooltip:!1},right:{get:function(){return this._right;},set:function(C$Tzt){this._right=C$Tzt;},tooltip:!1},horizontalCenter:{get:function(){return this._horizontalCenter;},set:function(C$Tzt){this._horizontalCenter=C$Tzt;},tooltip:!1},verticalCenter:{get:function(){return this._verticalCenter;},set:function(C$Tzt){this._verticalCenter=C$Tzt;},tooltip:!1},isAbsoluteHorizontalCenter:{get:function(){return this._isAbsHorizontalCenter;},set:function(C$Tzt){this._isAbsHorizontalCenter=C$Tzt;},animatable:!1},isAbsoluteVerticalCenter:{get:function(){return this._isAbsVerticalCenter;},set:function(C$Tzt){this._isAbsVerticalCenter=C$Tzt;},animatable:!1},isAbsoluteTop:{get:function(){return this._isAbsTop;},set:function(C$Tzt){this._isAbsTop=C$Tzt;},animatable:!1},isAbsoluteBottom:{get:function(){return this._isAbsBottom;},set:function(C$Tzt){this._isAbsBottom=C$Tzt;},animatable:!1},isAbsoluteLeft:{get:function(){return this._isAbsLeft;},set:function(C$Tzt){this._isAbsLeft=C$Tzt;},animatable:!1},isAbsoluteRight:{get:function(){return this._isAbsRight;},set:function(C$Tzt){this._isAbsRight=C$Tzt;},animatable:!1},alignMode:{default:C$Tze.ON_WINDOW_RESIZE,type:C$Tze,tooltip:!1},_wasAlignOnce:{default:void 0,formerlySerializedAs:H[957]},_target:null,_alignFlags:0,_left:0,_right:0,_top:0,_bottom:0,_verticalCenter:0,_horizontalCenter:0,_isAbsLeft:!0,_isAbsRight:!0,_isAbsTop:!0,_isAbsBottom:!0,_isAbsHorizontalCenter:!0,_isAbsVerticalCenter:!0,_originalWidth:0,_originalHeight:0},statics:{AlignMode:C$Tze},onLoad:function(){void 0!==this._wasAlignOnce&&(this.alignMode=this._wasAlignOnce?C$Tze.ONCE:C$Tze.ALWAYS,this._wasAlignOnce=void 0);},onEnable:function(){C$Tzt.add(this);},onDisable:function(){C$Tzt.remove(this);},_validateTargetInDEV:!1,_setAlign:function(C$Tzt,C$Tze){var C$Tzi;C$Tze!==0<(this._alignFlags&C$Tzt)&&(C$Tzi=0<(C$Tzt&C$Tzl),C$Tze?(this._alignFlags|=C$Tzt,C$Tzi?(this.isAlignHorizontalCenter=!1,this.isStretchWidth&&(this._originalWidth=this.node.width)):(this.isAlignVerticalCenter=!1,this.isStretchHeight&&(this._originalHeight=this.node.height))):(C$Tzi?this.isStretchWidth&&(this.node.width=this._originalWidth):this.isStretchHeight&&(this.node.height=this._originalHeight),this._alignFlags&=~C$Tzt));},updateAlignment:function(){C$Tzt.updateAlignment(this.node);}});Object.defineProperty(C$Tzi.prototype,H[957],{get:function(){return cc.warn(H[958]),this.alignMode===C$Tze.ONCE;},set:function(C$Tzt){cc.warn(H[959]),this.alignMode=C$Tzt?C$Tze.ONCE:C$Tze.ALWAYS;}}),cc.Widget=C$Tzu.exports=C$Tzi;},{"../base-ui/CCWidgetManager":62,"./CCComponent":78}],101:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt=C$Tzt(H[848]),C$Tzt=cc.Class({name:H[960],extends:C$Tzt,editor:!1,properties:{_fps:60,fps:{get:function(){return this._fps;},set:function(C$Tzt){this._fps!==C$Tzt&&(this._fps=C$Tzt,this._updateInterval=1/C$Tzt,this._updateSubContextFrameRate());},tooltip:!1}},ctor:function(){this._sprite=null,this._tex=new cc.Texture2D(),this._context=null,this._updatedTime=performance.now(),this._updateInterval=0;},onLoad:function(){wx.getOpenDataContext?(this._updateInterval=1e3/this._fps,this._context=wx.getOpenDataContext(),this.reset(),this._tex.setPremultiplyAlpha(!0),this._tex.initWithElement(sharedCanvas),this._sprite=this.node.getComponent(cc.Sprite),this._sprite||(this._sprite=this.node.addComponent(cc.Sprite),this._sprite.srcBlendFactor=cc.macro.BlendFactor.ONE),this._sprite.spriteFrame=new cc.SpriteFrame(this._tex)):this.enabled=!1;},reset:function(){var C$Tzt;this._context&&(this.updateSubContextViewport(),(C$Tzt=this._context.canvas)&&(C$Tzt.width=this.node.width,C$Tzt.height=this.node.height));},onEnable:function(){this._runSubContextMainLoop(),this._registerNodeEvent(),this._updateSubContextFrameRate(),this.updateSubContextViewport();},onDisable:function(){this._unregisterNodeEvent(),this._stopSubContextMainLoop();},update:function(C$Tzt){if(void 0===C$Tzt)return this._context&&this._context.postMessage({fromEngine:!0,event:H[961]}),void this._updateSubContextTexture();performance.now()-this._updatedTime>=this._updateInterval&&(this._updatedTime+=this._updateInterval,this._updateSubContextTexture());},_updateSubContextTexture:function(){this._tex&&this._context&&(this._tex.initWithElement(this._context.canvas),this._sprite._activateMaterial());},updateSubContextViewport:function(){var C$Tzt,C$Tze,C$Tzi;this._context&&(C$Tzt=this.node.getBoundingBoxToWorld(),C$Tze=cc.view._scaleX,C$Tzi=cc.view._scaleY,this._context.postMessage({fromEngine:!0,event:H[962],x:C$Tzt.x*C$Tze+cc.view._viewportRect.x,y:C$Tzt.y*C$Tzi+cc.view._viewportRect.y,width:C$Tzt.width*C$Tze,height:C$Tzt.height*C$Tzi}));},_registerNodeEvent:function(){this.node.on(H[675],this.updateSubContextViewport,this),this.node.on(H[677],this.updateSubContextViewport,this),this.node.on(H[678],this.updateSubContextViewport,this);},_unregisterNodeEvent:function(){this.node.off(H[675],this.updateSubContextViewport,this),this.node.off(H[677],this.updateSubContextViewport,this),this.node.off(H[678],this.updateSubContextViewport,this);},_runSubContextMainLoop:function(){this._context&&this._context.postMessage({fromEngine:!0,event:H[963],value:!0});},_stopSubContextMainLoop:function(){this._context&&this._context.postMessage({fromEngine:!0,event:H[963],value:!1});},_updateSubContextFrameRate:function(){this._context&&this._context.postMessage({fromEngine:!0,event:H[964],value:this._fps});}});cc.WXSubContextView=C$Tze.exports=C$Tzt;},{"./CCComponent":78}],102:[function(C$Tzt,C$Tze,C$Tzl){"use strict";var C$Tzi=C$Tzt(H[965]),C$Tzn=C$Tzt(H[966]),C$Tzr=C$Tzt(H[967]),C$Tzs=C$Tzt(H[470]),C$Tzo=C$Tzs.InputMode,C$Tza=C$Tzs.InputFlag,C$Tzs=C$Tzs.KeyboardReturnType;var C$Tzc=cc.Class({name:H[968],extends:cc.Component,editor:!1,properties:{_useOriginalSize:!0,_string:"",string:{tooltip:!1,get:function(){return this._string;},set:function(C$Tzt){C$Tzt=""+C$Tzt,0<=this.maxLength&&C$Tzt.length>=this.maxLength&&(C$Tzt=C$Tzt.slice(0,this.maxLength)),this._string=C$Tzt,this._updateString(C$Tzt);}},textLabel:{tooltip:!1,default:null,type:C$Tzr,notify:function(C$Tzt){this.textLabel&&this.textLabel!==C$Tzt&&(this._updateTextLabel(),this._updateLabels());}},placeholderLabel:{tooltip:!1,default:null,type:C$Tzr,notify:function(C$Tzt){this.placeholderLabel&&this.placeholderLabel!==C$Tzt&&(this._updatePlaceholderLabel(),this._updateLabels());}},background:{tooltip:!1,default:null,type:cc.Sprite,notify:function(C$Tzt){this.background&&this.background!==C$Tzt&&this._updateBackgroundSprite();}},_N$backgroundImage:{default:void 0,type:cc.SpriteFrame},backgroundImage:{get:function(){return this.background?this.background.spriteFrame:null;},set:function(C$Tzt){this.background&&(this.background.spriteFrame=C$Tzt);}},returnType:{default:C$Tzs.DEFAULT,tooltip:!1,displayName:H[969],type:C$Tzs},_N$returnType:{default:void 0,type:cc.Float},inputFlag:{tooltip:!1,default:C$Tza.DEFAULT,type:C$Tza,notify:function(){this._updateString(this._string);}},inputMode:{tooltip:!1,default:C$Tzo.ANY,type:C$Tzo,notify:function(C$Tzt){this.inputMode!==C$Tzt&&(this._updateTextLabel(),this._updatePlaceholderLabel());}},fontSize:{get:function(){return this.textLabel?this.textLabel.fontSize:0;},set:function(C$Tzt){this.textLabel&&(this.textLabel.fontSize=C$Tzt);}},_N$fontSize:{default:void 0,type:cc.Float},lineHeight:{get:function(){return this.textLabel?this.textLabel.lineHeight:0;},set:function(C$Tzt){this.textLabel&&(this.textLabel.lineHeight=C$Tzt);}},_N$lineHeight:{default:void 0,type:cc.Float},fontColor:{get:function(){return this.textLabel?this.textLabel.node.color:cc.Color.BLACK;},set:function(C$Tzt){this.textLabel&&(this.textLabel.node.color=C$Tzt,this.textLabel.node.opacity=C$Tzt.a);}},_N$fontColor:void 0,placeholder:{tooltip:!1,get:function(){return this.placeholderLabel?this.placeholderLabel.string:"";},set:function(C$Tzt){this.placeholderLabel&&(this.placeholderLabel.string=C$Tzt);}},_N$placeholder:{default:void 0,type:cc.String},placeholderFontSize:{get:function(){return this.placeholderLabel?this.placeholderLabel.fontSize:0;},set:function(C$Tzt){this.placeholderLabel&&(this.placeholderLabel.fontSize=C$Tzt);}},_N$placeholderFontSize:{default:void 0,type:cc.Float},placeholderFontColor:{get:function(){return this.placeholderLabel?this.placeholderLabel.node.color:cc.Color.BLACK;},set:function(C$Tzt){this.placeholderLabel&&(this.placeholderLabel.node.color=C$Tzt,this.placeholderLabel.node.opacity=C$Tzt.a);}},_N$placeholderFontColor:void 0,maxLength:{tooltip:!1,default:20},_N$maxLength:{default:void 0,type:cc.Float},stayOnTop:{default:!1,notify:function(){cc.warn(H[970]);}},_tabIndex:0,tabIndex:{tooltip:!1,get:function(){return this._tabIndex;},set:function(C$Tzt){this._tabIndex!==C$Tzt&&(this._tabIndex=C$Tzt,this._impl&&this._impl.setTabIndex(C$Tzt));}},editingDidBegan:{default:[],type:cc.Component.EventHandler},textChanged:{default:[],type:cc.Component.EventHandler},editingDidEnded:{default:[],type:cc.Component.EventHandler},editingReturn:{default:[],type:cc.Component.EventHandler}},statics:{_ImplClass:C$Tzn,KeyboardReturnType:C$Tzs,InputFlag:C$Tza,InputMode:C$Tzo},_init:function(){this._upgradeComp(),this._isLabelVisible=!0,this.node.on(cc.Node.EventType.SIZE_CHANGED,this._syncSize,this),(this._impl=new C$Tzc._ImplClass()).init(this),this._updateString(this._string),this._syncSize();},_updateBackgroundSprite:function(){var C$Tzt,C$Tze=this.background;C$Tze||(C$Tze=(C$Tze=(C$Tzt=(C$Tzt=this.node.getChildByName(H[971]))||new cc.Node(H[971])).getComponent(cc.Sprite))||C$Tzt.addComponent(cc.Sprite),C$Tzt.parent=this.node,this.background=C$Tze),C$Tze.type=cc.Sprite.Type.SLICED,void 0!==this._N$backgroundImage&&(C$Tze.spriteFrame=this._N$backgroundImage,this._N$backgroundImage=void 0);},_updateTextLabel:function(){var C$Tzt,C$Tze=this.textLabel;C$Tze||(C$Tze=(C$Tze=(C$Tzt=(C$Tzt=this.node.getChildByName(H[972]))||new cc.Node(H[972])).getComponent(C$Tzr))||C$Tzt.addComponent(C$Tzr),C$Tzt.parent=this.node,this.textLabel=C$Tze),C$Tze.node.setAnchorPoint(0,1),C$Tze.overflow=C$Tzr.Overflow.CLAMP,this.inputMode===C$Tzo.ANY?(C$Tze.verticalAlign=C$Tzi.VerticalTextAlignment.TOP,C$Tze.enableWrapText=!0):(C$Tze.verticalAlign=C$Tzi.VerticalTextAlignment.CENTER,C$Tze.enableWrapText=!1),C$Tze.string=this._updateLabelStringStyle(this._string),void 0!==this._N$fontColor&&(C$Tze.node.color=this._N$fontColor,C$Tze.node.opacity=this._N$fontColor.a,this._N$fontColor=void 0),void 0!==this._N$fontSize&&(C$Tze.fontSize=this._N$fontSize,this._N$fontSize=void 0),void 0!==this._N$lineHeight&&(C$Tze.lineHeight=this._N$lineHeight,this._N$lineHeight=void 0);},_updatePlaceholderLabel:function(){var C$Tzt,C$Tze=this.placeholderLabel;C$Tze||(C$Tze=(C$Tze=(C$Tzt=(C$Tzt=this.node.getChildByName(H[973]))||new cc.Node(H[973])).getComponent(C$Tzr))||C$Tzt.addComponent(C$Tzr),C$Tzt.parent=this.node,this.placeholderLabel=C$Tze),C$Tze.node.setAnchorPoint(0,1),C$Tze.overflow=C$Tzr.Overflow.CLAMP,this.inputMode===C$Tzo.ANY?(C$Tze.verticalAlign=C$Tzi.VerticalTextAlignment.TOP,C$Tze.enableWrapText=!0):(C$Tze.verticalAlign=C$Tzi.VerticalTextAlignment.CENTER,C$Tze.enableWrapText=!1),C$Tze.string=this.placeholder,void 0!==this._N$placeholderFontColor&&(C$Tze.node.color=this._N$placeholderFontColor,C$Tze.node.opacity=this._N$placeholderFontColor.a,this._N$placeholderFontColor=void 0),void 0!==this._N$placeholderFontSize&&(C$Tze.fontSize=this._N$placeholderFontSize,this._N$placeholderFontSize=void 0);},_upgradeComp:function(){void 0!==this._N$returnType&&(this.returnType=this._N$returnType,this._N$returnType=void 0),void 0!==this._N$maxLength&&(this.maxLength=this._N$maxLength,this._N$maxLength=void 0),void 0!==this._N$backgroundImage&&this._updateBackgroundSprite(),void 0===this._N$fontColor&&void 0===this._N$fontSize&&void 0===this._N$lineHeight||this._updateTextLabel(),void 0===this._N$placeholderFontColor&&void 0===this._N$placeholderFontSize||this._updatePlaceholderLabel(),void 0!==this._N$placeholder&&(this.placeholder=this._N$placeholder,this._N$placeholder=void 0);},_syncSize:function(){var C$Tzt;this._impl&&(C$Tzt=this.node.getContentSize(),this._impl.setSize(C$Tzt.width,C$Tzt.height));},_showLabels:function(){this._isLabelVisible=!0,this._updateLabels();},_hideLabels:function(){this._isLabelVisible=!1,this.textLabel&&(this.textLabel.node.active=!1),this.placeholderLabel&&(this.placeholderLabel.node.active=!1);},_updateLabels:function(){var C$Tzt;this._isLabelVisible&&(C$Tzt=this._string,this.textLabel&&(this.textLabel.node.active=""!==C$Tzt),this.placeholderLabel&&(this.placeholderLabel.node.active=""===C$Tzt));},_updateString:function(C$Tzt){var C$Tze=this.textLabel;C$Tze&&(C$Tzt=(C$Tzt=C$Tzt)&&this._updateLabelStringStyle(C$Tzt),C$Tze.string=C$Tzt,this._updateLabels());},_updateLabelStringStyle:function(C$Tzt,C$Tze){var C$Tzi=this.inputFlag;if(C$Tze||C$Tzi!==C$Tza.PASSWORD)C$Tzi===C$Tza.INITIAL_CAPS_ALL_CHARACTERS?C$Tzt=C$Tzt.toUpperCase():C$Tzi===C$Tza.INITIAL_CAPS_WORD?C$Tzt=C$Tzt.replace(/(?:^|\s)\S/g,function(C$Tzt){return C$Tzt.toUpperCase();}):C$Tzi===C$Tza.INITIAL_CAPS_SENTENCE&&(C$Tzt=(C$Tze=C$Tzt).charAt(0).toUpperCase()+C$Tze.slice(1));else{for(var C$Tzn="",C$Tzr=C$Tzt.length,C$Tzs=0;C$Tzs<C$Tzr;++C$Tzs)C$Tzn+="";C$Tzt=C$Tzn;}return C$Tzt;},editBoxEditingDidBegan:function(){cc.Component.EventHandler.emitEvents(this.editingDidBegan,this),this.node.emit(H[974],this);},editBoxEditingDidEnded:function(){cc.Component.EventHandler.emitEvents(this.editingDidEnded,this),this.node.emit(H[975],this);},editBoxTextChanged:function(C$Tzt){C$Tzt=this._updateLabelStringStyle(C$Tzt,!0),this.string=C$Tzt,cc.Component.EventHandler.emitEvents(this.textChanged,C$Tzt,this),this.node.emit(H[976],this);},editBoxEditingReturn:function(){cc.Component.EventHandler.emitEvents(this.editingReturn,this),this.node.emit(H[977],this);},onEnable:function(){this._registerEvent(),this._impl&&this._impl.enable();},onDisable:function(){this._unregisterEvent(),this._impl&&this._impl.disable();},onDestroy:function(){this._impl&&this._impl.clear();},__preload:function(){this._init();},_registerEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchBegan,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this);},_unregisterEvent:function(){this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchBegan,this),this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this);},_onTouchBegan:function(C$Tzt){C$Tzt.stopPropagation();},_onTouchCancel:function(C$Tzt){C$Tzt.stopPropagation();},_onTouchEnded:function(C$Tzt){this._impl&&this._impl.beginEditing(),C$Tzt.stopPropagation();},setFocus:function(){cc.errorID(1400,H[978],H[979]),this._impl&&this._impl.setFocus(!0);},focus:function(){this._impl&&this._impl.setFocus(!0);},blur:function(){this._impl&&this._impl.setFocus(!1);},isFocused:function(){return!!this._impl&&this._impl.isFocused();},update:function(){this._impl&&this._impl.update();}});cc.EditBox=C$Tze.exports=C$Tzc,cc.sys.isBrowser&&C$Tzt(H[980]);},{"../../platform/CCMacro":194,"../CCLabel":80,"../editbox/EditBoxImplBase":103,"./WebEditBoxImpl":104,"./types":106}],103:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({ctor:function(){this._delegate=null,this._editing=!1;},init:function(C$Tzt){},enable:function(){},disable:function(){this._editing&&this.endEditing();},clear:function(){},update:function(){},setTabIndex:function(C$Tzt){},setSize:function(C$Tzt,C$Tze){},setFocus:function(C$Tzt){C$Tzt?this.beginEditing():this.endEditing();},isFocused:function(){return this._editing;},beginEditing:function(){},endEditing:function(){}});C$Tze.exports=C$Tzn;},{}],104:[function(C$Tzt,C$Tzn,C$Tzl){"use strict";var C$Tz_=(C$Tze=C$Tzt(H[981]))&&C$Tze.__esModule?C$Tze:{default:C$Tze};var C$Tzh=C$Tzt(H[982]),C$Tzu=C$Tzt(H[965]),C$Tze=C$Tzt(H[470]),C$Tza=C$Tzt(H[967]),C$Tzr=C$Tzt(H[983]),C$Tzt=cc.EditBox,C$Tzf=cc.js,C$Tzs=C$Tze.InputMode,C$Tzo=C$Tze.InputFlag,C$Tzp=C$Tze.KeyboardReturnType,C$Tzm={zoomInvalid:!1},C$Tzy=(cc.sys.OS_ANDROID!==cc.sys.os||cc.sys.browserType!==cc.sys.BROWSER_TYPE_SOUGOU&&cc.sys.browserType!==cc.sys.BROWSER_TYPE_360||(C$Tzm.zoomInvalid=!0),0),C$Tzd=cc.v3(),C$Tzc=null,C$Tzi=!1,C$Tzg=!1,C$Tzv=C$Tzt._ImplClass;function C$Tzx(){C$Tzv.call(this),this._domId=H[984]+ ++C$Tzy,this._placeholderStyleSheet=null,this._elem=null,this._isTextArea=!1,this._worldMat=new C$Tz_.default(),this._cameraMat=new C$Tz_.default(),this._m00=0,this._m01=0,this._m04=0,this._m05=0,this._m12=0,this._m13=0,this._w=0,this._h=0,this._cacheViewportRect=cc.rect(0,0,0,0),this._inputMode=null,this._inputFlag=null,this._returnType=null,this._eventListeners={},this._textLabelFont=null,this._textLabelFontSize=null,this._textLabelFontColor=null,this._textLabelAlign=null,this._placeholderLabelFont=null,this._placeholderLabelFontSize=null,this._placeholderLabelFontColor=null,this._placeholderLabelAlign=null,this._placeholderLineHeight=null;}C$Tzf.extend(C$Tzx,C$Tzv),C$Tzt._ImplClass=C$Tzx,Object.assign(C$Tzx.prototype,{init:function(C$Tzt){C$Tzt&&((this._delegate=C$Tzt).inputMode===C$Tzs.ANY?this._createTextArea():this._createInput(),C$Tzr.add(this),this.setTabIndex(C$Tzt.tabIndex),this._initStyleSheet(),this._registerEventListeners(),this._addDomToGameContainer(),C$Tzi=cc.view.isAutoFullScreenEnabled(),C$Tzg=cc.view._resizeWithBrowserSize);},clear:function(){this._removeEventListeners(),this._removeDomFromGameContainer(),C$Tzr.remove(this),C$Tzc===this&&(C$Tzc=null);},update:function(){},setTabIndex:function(C$Tzt){this._elem.tabIndex=C$Tzt,C$Tzr.resort();},setSize:function(C$Tzt,C$Tze){var C$Tzi=this._elem;C$Tzi.style.width=C$Tzt+H[985],C$Tzi.style.height=C$Tze+H[985];},beginEditing:function(){C$Tzc&&C$Tzc!==this&&C$Tzc.setFocus(!1),this._editing=!0,(C$Tzc=this)._delegate.editBoxEditingDidBegan(),this._showDom(),this._elem.focus();},endEditing:function(){this._elem&&this._elem.blur();},_createInput:function(){this._isTextArea=!1,this._elem=document.createElement(H[986]);},_createTextArea:function(){this._isTextArea=!0,this._elem=document.createElement(H[577]);},_addDomToGameContainer:function(){cc.game.container.appendChild(this._elem),document.head.appendChild(this._placeholderStyleSheet);},_removeDomFromGameContainer:function(){C$Tzh.contains(cc.game.container,this._elem)&&cc.game.container.removeChild(this._elem),C$Tzh.contains(document.head,this._placeholderStyleSheet)&&document.head.removeChild(this._placeholderStyleSheet),delete this._elem,delete this._placeholderStyleSheet;},_showDom:function(){this._updateMatrix(),this._updateMaxLength(),this._updateInputType(),this._updateStyleSheet(),this._elem.style.display="",this._delegate._hideLabels(),cc.sys.isMobile&&this._showDomOnMobile();},_hideDom:function(){this._elem.style.display=H[587],this._delegate._showLabels(),cc.sys.isMobile&&this._hideDomOnMobile();},_showDomOnMobile:function(){cc.sys.os===cc.sys.OS_ANDROID&&(C$Tzi&&(cc.view.enableAutoFullScreen(!1),cc.screen.exitFullScreen()),C$Tzg&&cc.view.resizeWithBrowserSize(!1),this._adjustWindowScroll());},_hideDomOnMobile:function(){cc.sys.os===cc.sys.OS_ANDROID&&(C$Tzg&&cc.view.resizeWithBrowserSize(!0),setTimeout(function(){C$Tzc||C$Tzi&&cc.view.enableAutoFullScreen(!0);},800)),this._scrollBackWindow();},_adjustWindowScroll:function(){var C$Tzt=this;setTimeout(function(){window.scrollY<100&&C$Tzt._elem.scrollIntoView({block:H[987],inline:H[988],behavior:H[989]});},800);},_scrollBackWindow:function(){setTimeout(function(){var C$Tzt=cc.sys;C$Tzt.browserType!==C$Tzt.BROWSER_TYPE_WECHAT||C$Tzt.os!==C$Tzt.OS_IOS?window.scrollTo(0,0):window.top&&window.top.scrollTo(0,0);},800);},_updateMatrix:function(){var C$Tzt,C$Tze,C$Tzi,C$Tzh,C$Tzu,C$Tzn,C$Tzr,C$Tzs,C$Tzo=this._delegate.node,C$Tza=(C$Tzo.getWorldMatrix(this._worldMat),this._worldMat),C$Tzc=C$Tza.m,C$Tzl=cc.view;this._m00===C$Tzc[0]&&this._m01===C$Tzc[1]&&this._m04===C$Tzc[4]&&this._m05===C$Tzc[5]&&this._m12===C$Tzc[12]&&this._m13===C$Tzc[13]&&this._w===C$Tzo._contentSize.width&&this._h===C$Tzo._contentSize.height&&this._cacheViewportRect.equals(C$Tzl._viewportRect)||(this._m00=C$Tzc[0],this._m01=C$Tzc[1],this._m04=C$Tzc[4],this._m05=C$Tzc[5],this._m12=C$Tzc[12],this._m13=C$Tzc[13],this._w=C$Tzo._contentSize.width,this._h=C$Tzo._contentSize.height,this._cacheViewportRect.set(C$Tzl._viewportRect),C$Tzc=C$Tzl._scaleX,C$Tzt=C$Tzl._scaleY,C$Tzr=C$Tzl._viewportRect,C$Tzl=C$Tzl._devicePixelRatio,C$Tzd.x=-C$Tzo._anchorPoint.x*this._w,C$Tzd.y=-C$Tzo._anchorPoint.y*this._h,C$Tz_.default.transform(C$Tza,C$Tza,C$Tzd),cc.Camera.findCamera(C$Tzo).getWorldToScreenMatrix2D(this._cameraMat),C$Tze=this._cameraMat,C$Tz_.default.mul(C$Tze,C$Tze,C$Tza),C$Tzc/=C$Tzl,C$Tzt/=C$Tzl,C$Tza=cc.game.container,C$Tzi=(C$Tze=C$Tze.m)[0]*C$Tzc,C$Tzh=C$Tze[1],C$Tzu=C$Tze[4],C$Tzn=C$Tze[5]*C$Tzt,C$Tzs=C$Tza&&C$Tza.style.paddingLeft&&parseInt(C$Tza.style.paddingLeft),C$Tzs+=C$Tzr.x/C$Tzl,C$Tza=C$Tza&&C$Tza.style.paddingBottom&&parseInt(C$Tza.style.paddingBottom),C$Tza+=C$Tzr.y/C$Tzl,C$Tzr=C$Tze[12]*C$Tzc+C$Tzs,C$Tzl=C$Tze[13]*C$Tzt+C$Tza,C$Tzm.zoomInvalid&&(this.setSize(C$Tzo.width*C$Tzi,C$Tzo.height*C$Tzn),C$Tzn=C$Tzi=1),(C$Tzc=this._elem).style.transform=C$Tzs=H[990]+C$Tzi+","+-C$Tzh+","+-C$Tzu+","+C$Tzn+","+C$Tzr+","+-C$Tzl+")",C$Tzc.style[H[991]]=C$Tzs,C$Tzc.style[H[992]]=H[993],C$Tzc.style[H[994]]=H[993]);},_updateInputType:function(){var C$Tzt,C$Tze=this._delegate,C$Tzi=C$Tze.inputMode,C$Tzn=C$Tze.inputFlag,C$Tze=C$Tze.returnType,C$Tzr=this._elem;if(this._inputMode!==C$Tzi||this._inputFlag!==C$Tzn||this._returnType!==C$Tze){if(this._inputMode=C$Tzi,this._inputFlag=C$Tzn,this._returnType=C$Tze,this._isTextArea)return C$Tzt=H[587],C$Tzn===C$Tzo.INITIAL_CAPS_ALL_CHARACTERS?C$Tzt=H[995]:C$Tzn===C$Tzo.INITIAL_CAPS_WORD&&(C$Tzt=H[996]),void(C$Tzr.style.textTransform=C$Tzt);C$Tzn!==C$Tzo.PASSWORD?(C$Tzt=C$Tzr.type,C$Tzi===C$Tzs.EMAIL_ADDR?C$Tzt=H[997]:C$Tzi===C$Tzs.NUMERIC||C$Tzi===C$Tzs.DECIMAL?C$Tzt=H[463]:C$Tzi===C$Tzs.PHONE_NUMBER?(C$Tzt=H[463],C$Tzr.pattern=H[998]):C$Tzi===C$Tzs.URL?C$Tzt=H[999]:(C$Tzt=H[1000],C$Tze===C$Tzp.SEARCH&&(C$Tzt=H[1001])),C$Tzr.type=C$Tzt,C$Tzi=H[587],C$Tzn===C$Tzo.INITIAL_CAPS_ALL_CHARACTERS?C$Tzi=H[995]:C$Tzn===C$Tzo.INITIAL_CAPS_WORD&&(C$Tzi=H[996]),C$Tzr.style.textTransform=C$Tzi):C$Tzr.type=H[1002];}},_updateMaxLength:function(){var C$Tzt=this._delegate.maxLength;this._elem.maxLength=C$Tzt=C$Tzt<0?65535:C$Tzt;},_initStyleSheet:function(){var C$Tzt=this._elem;C$Tzt.style.display=H[587],C$Tzt.style.border=0,C$Tzt.style.background=H[584],C$Tzt.style.width=H[1003],C$Tzt.style.height=H[1003],C$Tzt.style.active=0,C$Tzt.style.outline=H[1004],C$Tzt.style.padding="0",C$Tzt.style.textTransform=H[995],C$Tzt.style.position=H[576],C$Tzt.style.bottom=H[586],C$Tzt.style.left=H[1005],C$Tzt.className=H[1006],C$Tzt.id=this._domId,this._isTextArea?(C$Tzt.style.resize=H[587],C$Tzt.style.overflow_y=H[1007]):(C$Tzt.type=H[1000],C$Tzt.style[H[1008]]=H[1009]),this._placeholderStyleSheet=document.createElement(H[1010]);},_updateStyleSheet:function(){var C$Tzt=this._delegate,C$Tze=this._elem;C$Tze.value=C$Tzt.string,C$Tze.placeholder=C$Tzt.placeholder,this._updateTextLabel(C$Tzt.textLabel),this._updatePlaceholderLabel(C$Tzt.placeholderLabel);},_updateTextLabel:function(C$Tzt){if(C$Tzt){var C$Tze=!(C$Tze=C$Tzt.font)||C$Tze instanceof cc.BitmapFont?C$Tzt.fontFamily:C$Tze._fontFamily,C$Tzi=C$Tzt.fontSize*C$Tzt.node.scaleY;if(this._textLabelFont!==C$Tze||this._textLabelFontSize!==C$Tzi||this._textLabelFontColor!==C$Tzt.fontColor||this._textLabelAlign!==C$Tzt.horizontalAlign){this._textLabelFont=C$Tze,this._textLabelFontSize=C$Tzi,this._textLabelFontColor=C$Tzt.fontColor,this._textLabelAlign=C$Tzt.horizontalAlign;var C$Tzn=this._elem;switch(C$Tzn.style.fontSize=C$Tzi+H[985],C$Tzn.style.color=C$Tzt.node.color.toCSS(),C$Tzn.style.fontFamily=C$Tze,C$Tzt.horizontalAlign){case C$Tza.HorizontalAlign.LEFT:C$Tzn.style.textAlign=H[1011];break;case C$Tza.HorizontalAlign.CENTER:C$Tzn.style.textAlign=H[921];break;case C$Tza.HorizontalAlign.RIGHT:C$Tzn.style.textAlign=H[1012];}}}},_updatePlaceholderLabel:function(C$Tzt){if(C$Tzt){var C$Tze=!(C$Tze=C$Tzt.font)||C$Tze instanceof cc.BitmapFont?C$Tzt.fontFamily:C$Tzt.font._fontFamily,C$Tzi=C$Tzt.fontSize*C$Tzt.node.scaleY;if(this._placeholderLabelFont!==C$Tze||this._placeholderLabelFontSize!==C$Tzi||this._placeholderLabelFontColor!==C$Tzt.fontColor||this._placeholderLabelAlign!==C$Tzt.horizontalAlign||this._placeholderLineHeight!==C$Tzt.fontSize){this._placeholderLabelFont=C$Tze,this._placeholderLabelFontSize=C$Tzi,this._placeholderLabelFontColor=C$Tzt.fontColor,this._placeholderLabelAlign=C$Tzt.horizontalAlign,this._placeholderLineHeight=C$Tzt.fontSize;var C$Tzn,C$Tzr=this._placeholderStyleSheet,C$Tzs=C$Tzt.node.color.toCSS(),C$Tzo=C$Tzt.fontSize;switch(C$Tzt.horizontalAlign){case C$Tza.HorizontalAlign.LEFT:C$Tzn=H[1011];break;case C$Tza.HorizontalAlign.CENTER:C$Tzn=H[921];break;case C$Tza.HorizontalAlign.RIGHT:C$Tzn=H[1012];}C$Tzr.innerHTML="#"+this._domId+H[1013]+this._domId+H[1014]+this._domId+H[1015]+C$Tze+H[1016]+C$Tzi+H[1017]+C$Tzs+H[1018]+C$Tzo+H[1019]+C$Tzn+H[1020],cc.sys.browserType===cc.sys.BROWSER_TYPE_EDGE&&(C$Tzr.innerHTML+="#"+this._domId+H[1021]);}}},_registerEventListeners:function(){var C$Tze=this,C$Tzi=this._elem,C$Tzt=!1,C$Tzn=this._eventListeners;C$Tzn.compositionStart=function(){C$Tzt=!0;},C$Tzn.compositionEnd=function(){C$Tzt=!1,C$Tze._delegate.editBoxTextChanged(C$Tzi.value);},C$Tzn.onInput=function(){C$Tzt||C$Tze._delegate.editBoxTextChanged(C$Tzi.value);},C$Tzn.onClick=function(C$Tzt){C$Tze._editing&&cc.sys.isMobile&&C$Tze._adjustWindowScroll();},C$Tzn.onKeydown=function(C$Tzt){C$Tzt.keyCode===C$Tzu.KEY.enter?(C$Tzt.stopPropagation(),C$Tze._delegate.editBoxEditingReturn(),C$Tze._isTextArea||C$Tzi.blur()):C$Tzt.keyCode===C$Tzu.KEY.tab&&(C$Tzt.stopPropagation(),C$Tzt.preventDefault(),C$Tzr.next(C$Tze));},C$Tzn.onBlur=function(){C$Tze._editing=!1,C$Tzc=null,C$Tze._hideDom(),C$Tze._delegate.editBoxEditingDidEnded();},C$Tzn.onResize=function(){C$Tze._updateMatrix();},C$Tzi.addEventListener(H[1022],C$Tzn.compositionStart),C$Tzi.addEventListener(H[1023],C$Tzn.compositionEnd),C$Tzi.addEventListener(H[986],C$Tzn.onInput),C$Tzi.addEventListener(H[1024],C$Tzn.onKeydown),C$Tzi.addEventListener(H[650],C$Tzn.onBlur),C$Tzi.addEventListener(H[667],C$Tzn.onClick),window.addEventListener(H[816],C$Tzn.onResize),window.addEventListener(H[817],C$Tzn.onResize);},_removeEventListeners:function(){var C$Tzt=this._elem,C$Tze=this._eventListeners;C$Tzt.removeEventListener(H[1022],C$Tze.compositionStart),C$Tzt.removeEventListener(H[1023],C$Tze.compositionEnd),C$Tzt.removeEventListener(H[986],C$Tze.onInput),C$Tzt.removeEventListener(H[1024],C$Tze.onKeydown),C$Tzt.removeEventListener(H[650],C$Tze.onBlur),C$Tzt.removeEventListener(H[667],C$Tze.onClick),window.removeEventListener(H[816],C$Tze.onResize),window.removeEventListener(H[817],C$Tze.onResize),C$Tze.compositionStart=null,C$Tze.compositionEnd=null,C$Tze.onInput=null,C$Tze.onKeydown=null,C$Tze.onBlur=null,C$Tze.onClick=null,C$Tze.onResize=null;}});},{"../../platform/CCMacro":194,"../../platform/utils":213,"../../value-types/mat4":281,"../CCLabel":80,"./tabIndexUtil":105,"./types":106}],105:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tze.exports={_tabIndexList:[],add:function(C$Tzt){var C$Tze=this._tabIndexList;-1===C$Tze.indexOf(C$Tzt)&&C$Tze.push(C$Tzt);},remove:function(C$Tzt){var C$Tze=this._tabIndexList,C$Tzt=C$Tze.indexOf(C$Tzt);-1!==C$Tzt&&C$Tze.splice(C$Tzt,1);},resort:function(){this._tabIndexList.sort(function(C$Tzt,C$Tze){return C$Tzt._delegate._tabIndex-C$Tze._delegate._tabIndex;});},next:function(C$Tzt){var C$Tze=this._tabIndexList,C$Tzi=C$Tze.indexOf(C$Tzt);C$Tzt.setFocus(!1),-1===C$Tzi||(C$Tzt=C$Tze[C$Tzi+1])&&0<=C$Tzt._delegate._tabIndex&&C$Tzt.setFocus(!0);}};},{}],106:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Enum({DEFAULT:0,DONE:1,SEND:2,SEARCH:3,GO:4,NEXT:5}),C$Tzr=cc.Enum({ANY:0,EMAIL_ADDR:1,NUMERIC:2,PHONE_NUMBER:3,URL:4,DECIMAL:5,SINGLE_LINE:6}),C$Tzs=cc.Enum({PASSWORD:0,SENSITIVE:1,INITIAL_CAPS_WORD:2,INITIAL_CAPS_SENTENCE:3,INITIAL_CAPS_ALL_CHARACTERS:4,DEFAULT:5});C$Tze.exports={KeyboardReturnType:C$Tzn,InputMode:C$Tzr,InputFlag:C$Tzs};},{}],107:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[848]),C$Tzt(H[1025]),C$Tzt(H[1026]);var C$Tzn=C$Tzt(H[1027]),C$Tzr=C$Tzt(H[1028]),C$Tzn=C$Tzn||cc.Class({name:H[960],extends:cc.Component}),C$Tzr=C$Tzr||cc.Class({name:H[1029],extends:cc.Component}),C$Tzt=[C$Tzt(H[1030]),C$Tzt(H[1031]),C$Tzt(H[1032]),C$Tzt(H[1033]),C$Tzt(H[1034]),C$Tzt(H[946]),C$Tzt(H[1035]),C$Tzt(H[1036]),C$Tzt(H[1037]),C$Tzt(H[1038]),C$Tzt(H[1039]),C$Tzt(H[1040]),C$Tzt(H[1041]),C$Tzt(H[1042]),C$Tzt(H[1043]),C$Tzt(H[1044]),C$Tzt(H[1045]),C$Tzt(H[1046]),C$Tzt(H[1047]),C$Tzt(H[1048]),C$Tzt(H[947]),C$Tzt(H[1049]),C$Tzt(H[1050]),C$Tzt(H[1051]),C$Tzn,C$Tzr];C$Tze.exports=C$Tzt;},{"./CCAnimation":73,"./CCAudioSource":74,"./CCBlockInputEvents":75,"./CCButton":76,"./CCCanvas":77,"./CCComponent":78,"./CCComponentEventHandler":79,"./CCLabel":80,"./CCLabelOutline":81,"./CCLabelShadow":82,"./CCLayout":83,"./CCMask":84,"./CCMotionStreak":85,"./CCPageView":86,"./CCPageViewIndicator":87,"./CCProgressBar":88,"./CCRichText":90,"./CCScrollBar":91,"./CCScrollView":92,"./CCSlider":93,"./CCSprite":94,"./CCToggle":96,"./CCToggleContainer":97,"./CCToggleGroup":98,"./CCWidget":100,"./SwanSubContextView":void 0,"./WXSubContextView":101,"./editbox/CCEditBox":102,"./missing-script":108}],108:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.js,C$Tzr=C$Tzt(H[849]).BUILTIN_CLASSID_RE,C$Tzs=cc.Class({name:H[1052],properties:{_$erialized:{default:null,visible:!1,editorOnly:!0}}}),C$Tzo=cc.Class({name:H[1053],extends:cc.Component,editor:{inspector:H[1054]},properties:{compiled:{default:!1,serializable:!1},_$erialized:{default:null,visible:!1,editorOnly:!0}},ctor:!1,statics:{safeFindClass:function(C$Tzt,C$Tze){var C$Tzi=C$Tzn._getClassById(C$Tzt);return C$Tzi||(C$Tzt?(cc.deserialize.reportMissingClass(C$Tzt),C$Tzo.getMissingWrapper(C$Tzt,C$Tze)):null);},getMissingWrapper:function(C$Tzt,C$Tze){return C$Tze.node&&(/^[0-9a-zA-Z+/]{23}$/.test(C$Tzt)||C$Tzr.test(C$Tzt))?C$Tzo:C$Tzs;}},onLoad:function(){cc.warnID(4600,this.node.name);}});cc._MissingScript=C$Tze.exports=C$Tzo;},{"../utils/misc":264}],109:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzt,C$Tze){cc.Event.call(this,cc.Event.MOUSE,C$Tze),this._eventType=C$Tzt,this._button=0,this._x=0,this._y=0,this._prevX=0,this._prevY=0,this._scrollX=0,this._scrollY=0;}function C$Tzr(C$Tzt,C$Tze){cc.Event.call(this,cc.Event.TOUCH,C$Tze),this._eventCode=0,this._touches=C$Tzt||[],this.touch=null,this.currentTouch=null;}function C$Tzs(C$Tzt,C$Tze){cc.Event.call(this,cc.Event.ACCELERATION,C$Tze),this.acc=C$Tzt;}function C$Tzo(C$Tzt,C$Tze,C$Tzi){cc.Event.call(this,cc.Event.KEYBOARD,C$Tzi),this.keyCode=C$Tzt,this.isPressed=C$Tze;}var C$Tza=cc.js,C$Tzt=(C$Tzt(H[1055]),C$Tza.extend(C$Tzn,cc.Event),C$Tzn.prototype);C$Tzt.setScrollData=function(C$Tzt,C$Tze){this._scrollX=C$Tzt,this._scrollY=C$Tze;},C$Tzt.getScrollX=function(){return this._scrollX;},C$Tzt.getScrollY=function(){return this._scrollY;},C$Tzt.setLocation=function(C$Tzt,C$Tze){this._x=C$Tzt,this._y=C$Tze;},C$Tzt.getLocation=function(){return cc.v2(this._x,this._y);},C$Tzt.getLocationInView=function(){return cc.v2(this._x,cc.view._designResolutionSize.height-this._y);},C$Tzt._setPrevCursor=function(C$Tzt,C$Tze){this._prevX=C$Tzt,this._prevY=C$Tze;},C$Tzt.getPreviousLocation=function(){return cc.v2(this._prevX,this._prevY);},C$Tzt.getDelta=function(){return cc.v2(this._x-this._prevX,this._y-this._prevY);},C$Tzt.getDeltaX=function(){return this._x-this._prevX;},C$Tzt.getDeltaY=function(){return this._y-this._prevY;},C$Tzt.setButton=function(C$Tzt){this._button=C$Tzt;},C$Tzt.getButton=function(){return this._button;},C$Tzt.getLocationX=function(){return this._x;},C$Tzt.getLocationY=function(){return this._y;},C$Tzn.NONE=0,C$Tzn.DOWN=1,C$Tzn.UP=2,C$Tzn.MOVE=3,C$Tzn.SCROLL=4,C$Tzn.BUTTON_LEFT=0,C$Tzn.BUTTON_RIGHT=2,C$Tzn.BUTTON_MIDDLE=1,C$Tzn.BUTTON_4=3,C$Tzn.BUTTON_5=4,C$Tzn.BUTTON_6=5,C$Tzn.BUTTON_7=6,C$Tzn.BUTTON_8=7,C$Tza.extend(C$Tzr,cc.Event),(C$Tzt=C$Tzr.prototype).getEventCode=function(){return this._eventCode;},C$Tzt.getTouches=function(){return this._touches;},C$Tzt._setEventCode=function(C$Tzt){this._eventCode=C$Tzt;},C$Tzt._setTouches=function(C$Tzt){this._touches=C$Tzt;},C$Tzt.setLocation=function(C$Tzt,C$Tze){this.touch&&this.touch.setTouchInfo(this.touch.getID(),C$Tzt,C$Tze);},C$Tzt.getLocation=function(){return this.touch?this.touch.getLocation():cc.v2();},C$Tzt.getLocationInView=function(){return this.touch?this.touch.getLocationInView():cc.v2();},C$Tzt.getPreviousLocation=function(){return this.touch?this.touch.getPreviousLocation():cc.v2();},C$Tzt.getStartLocation=function(){return this.touch?this.touch.getStartLocation():cc.v2();},C$Tzt.getID=function(){return this.touch?this.touch.getID():null;},C$Tzt.getDelta=function(){return this.touch?this.touch.getDelta():cc.v2();},C$Tzt.getDeltaX=function(){return this.touch?this.touch.getDelta().x:0;},C$Tzt.getDeltaY=function(){return this.touch?this.touch.getDelta().y:0;},C$Tzt.getLocationX=function(){return this.touch?this.touch.getLocationX():0;},C$Tzt.getLocationY=function(){return this.touch?this.touch.getLocationY():0;},C$Tzr.MAX_TOUCHES=5,C$Tzr.BEGAN=0,C$Tzr.MOVED=1,C$Tzr.ENDED=2,C$Tzr.CANCELED=3,C$Tza.extend(C$Tzs,cc.Event);C$Tza.extend(C$Tzo,cc.Event),cc.Event.EventMouse=C$Tzn,cc.Event.EventTouch=C$Tzr,cc.Event.EventAcceleration=C$Tzs,cc.Event.EventKeyboard=C$Tzo,C$Tze.exports=cc.Event;},{"../event/event":116}],110:[function(C$Tzt,C$Tze,C$Tzn){"use strict";function C$Tzr(C$Tzt,C$Tze){this._onCustomEvent=C$Tze,cc.EventListener.call(this,cc.EventListener.CUSTOM,C$Tzt,this._callback);}function C$Tzs(){cc.EventListener.call(this,cc.EventListener.MOUSE,C$Tzi.MOUSE,this._callback);}function C$Tzo(){cc.EventListener.call(this,cc.EventListener.TOUCH_ONE_BY_ONE,C$Tzi.TOUCH_ONE_BY_ONE,null),this._claimedTouches=[];}function C$Tza(){cc.EventListener.call(this,cc.EventListener.TOUCH_ALL_AT_ONCE,C$Tzi.TOUCH_ALL_AT_ONCE,null);}function C$Tzc(C$Tzt){this._onAccelerationEvent=C$Tzt,cc.EventListener.call(this,cc.EventListener.ACCELERATION,C$Tzi.ACCELERATION,this._callback);}function C$Tzl(){cc.EventListener.call(this,cc.EventListener.KEYBOARD,C$Tzi.KEYBOARD,this._callback);}var C$Tzt=C$Tzt(H[720]),C$Tzi=(cc.EventListener=function(C$Tzt,C$Tze,C$Tzi){this._onEvent=C$Tzi,this._type=C$Tzt||0,this._listenerID=C$Tze||"",this._registered=!1,this._fixedPriority=0,this._node=null,this._target=null,this._paused=!0,this._isEnabled=!0;},cc.EventListener.prototype={constructor:cc.EventListener,_setPaused:function(C$Tzt){this._paused=C$Tzt;},_isPaused:function(){return this._paused;},_setRegistered:function(C$Tzt){this._registered=C$Tzt;},_isRegistered:function(){return this._registered;},_getType:function(){return this._type;},_getListenerID:function(){return this._listenerID;},_setFixedPriority:function(C$Tzt){this._fixedPriority=C$Tzt;},_getFixedPriority:function(){return this._fixedPriority;},_setSceneGraphPriority:function(C$Tzt){this._target=C$Tzt,this._node=C$Tzt;},_getSceneGraphPriority:function(){return this._node;},checkAvailable:function(){return null!==this._onEvent;},clone:function(){return null;},setEnabled:function(C$Tzt){this._isEnabled=C$Tzt;},isEnabled:function(){return this._isEnabled;},retain:function(){},release:function(){}},cc.EventListener.UNKNOWN=0,cc.EventListener.TOUCH_ONE_BY_ONE=1,cc.EventListener.TOUCH_ALL_AT_ONCE=2,cc.EventListener.KEYBOARD=3,cc.EventListener.MOUSE=4,cc.EventListener.ACCELERATION=6,cc.EventListener.CUSTOM=8,cc.EventListener.ListenerID={MOUSE:H[1056],TOUCH_ONE_BY_ONE:H[1057],TOUCH_ALL_AT_ONCE:H[1058],KEYBOARD:H[1059],ACCELERATION:H[1060]});C$Tzt.extend(C$Tzr,cc.EventListener),C$Tzt.mixin(C$Tzr.prototype,{_onCustomEvent:null,_callback:function(C$Tzt){null!==this._onCustomEvent&&this._onCustomEvent(C$Tzt);},checkAvailable:function(){return cc.EventListener.prototype.checkAvailable.call(this)&&null!==this._onCustomEvent;},clone:function(){return new C$Tzr(this._listenerID,this._onCustomEvent);}}),C$Tzt.extend(C$Tzs,cc.EventListener),C$Tzt.mixin(C$Tzs.prototype,{onMouseDown:null,onMouseUp:null,onMouseMove:null,onMouseScroll:null,_callback:function(C$Tzt){var C$Tze=cc.Event.EventMouse;switch(C$Tzt._eventType){case C$Tze.DOWN:this.onMouseDown&&this.onMouseDown(C$Tzt);break;case C$Tze.UP:this.onMouseUp&&this.onMouseUp(C$Tzt);break;case C$Tze.MOVE:this.onMouseMove&&this.onMouseMove(C$Tzt);break;case C$Tze.SCROLL:this.onMouseScroll&&this.onMouseScroll(C$Tzt);}},clone:function(){var C$Tzt=new C$Tzs();return C$Tzt.onMouseDown=this.onMouseDown,C$Tzt.onMouseUp=this.onMouseUp,C$Tzt.onMouseMove=this.onMouseMove,C$Tzt.onMouseScroll=this.onMouseScroll,C$Tzt;},checkAvailable:function(){return!0;}}),C$Tzt.extend(C$Tzo,cc.EventListener),C$Tzt.mixin(C$Tzo.prototype,{constructor:C$Tzo,_claimedTouches:null,swallowTouches:!1,onTouchBegan:null,onTouchMoved:null,onTouchEnded:null,onTouchCancelled:null,setSwallowTouches:function(C$Tzt){this.swallowTouches=C$Tzt;},isSwallowTouches:function(){return this.swallowTouches;},clone:function(){var C$Tzt=new C$Tzo();return C$Tzt.onTouchBegan=this.onTouchBegan,C$Tzt.onTouchMoved=this.onTouchMoved,C$Tzt.onTouchEnded=this.onTouchEnded,C$Tzt.onTouchCancelled=this.onTouchCancelled,C$Tzt.swallowTouches=this.swallowTouches,C$Tzt;},checkAvailable:function(){return!!this.onTouchBegan||(cc.logID(1801),!1);}}),C$Tzt.extend(C$Tza,cc.EventListener),C$Tzt.mixin(C$Tza.prototype,{constructor:C$Tza,onTouchesBegan:null,onTouchesMoved:null,onTouchesEnded:null,onTouchesCancelled:null,clone:function(){var C$Tzt=new C$Tza();return C$Tzt.onTouchesBegan=this.onTouchesBegan,C$Tzt.onTouchesMoved=this.onTouchesMoved,C$Tzt.onTouchesEnded=this.onTouchesEnded,C$Tzt.onTouchesCancelled=this.onTouchesCancelled,C$Tzt;},checkAvailable:function(){return null!==this.onTouchesBegan||null!==this.onTouchesMoved||null!==this.onTouchesEnded||null!==this.onTouchesCancelled||(cc.logID(1802),!1);}}),C$Tzt.extend(C$Tzc,cc.EventListener),C$Tzt.mixin(C$Tzc.prototype,{constructor:C$Tzc,_onAccelerationEvent:null,_callback:function(C$Tzt){this._onAccelerationEvent(C$Tzt.acc,C$Tzt);},checkAvailable:function(){return cc.assertID(this._onAccelerationEvent,1803),!0;},clone:function(){return new C$Tzc(this._onAccelerationEvent);}});C$Tzt.extend(C$Tzl,cc.EventListener),C$Tzt.mixin(C$Tzl.prototype,{constructor:C$Tzl,onKeyPressed:null,onKeyReleased:null,_callback:function(C$Tzt){C$Tzt.isPressed?this.onKeyPressed&&this.onKeyPressed(C$Tzt.keyCode,C$Tzt):this.onKeyReleased&&this.onKeyReleased(C$Tzt.keyCode,C$Tzt);},clone:function(){var C$Tzt=new C$Tzl();return C$Tzt.onKeyPressed=this.onKeyPressed,C$Tzt.onKeyReleased=this.onKeyReleased,C$Tzt;},checkAvailable:function(){return null!==this.onKeyPressed||null!==this.onKeyReleased||(cc.logID(1800),!1);}}),cc.EventListener.create=function(C$Tzt){cc.assertID(C$Tzt&&C$Tzt.event,1900);var C$Tze,C$Tzi=C$Tzt.event,C$Tzn=(delete C$Tzt.event,null);for(C$Tze in C$Tzi===cc.EventListener.TOUCH_ONE_BY_ONE?C$Tzn=new C$Tzo():C$Tzi===cc.EventListener.TOUCH_ALL_AT_ONCE?C$Tzn=new C$Tza():C$Tzi===cc.EventListener.MOUSE?C$Tzn=new C$Tzs():C$Tzi===cc.EventListener.CUSTOM?(C$Tzn=new C$Tzr(C$Tzt.eventName,C$Tzt.callback),delete C$Tzt.eventName,delete C$Tzt.callback):C$Tzi===cc.EventListener.KEYBOARD?C$Tzn=new C$Tzl():C$Tzi===cc.EventListener.ACCELERATION&&(C$Tzn=new C$Tzc(C$Tzt.callback),delete C$Tzt.callback),C$Tzt)C$Tzn[C$Tze]=C$Tzt[C$Tze];return C$Tzn;},C$Tze.exports=cc.EventListener;},{"../platform/js":209}],111:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(){this._fixedListeners=[],this._sceneGraphListeners=[],this.gt0Index=0;}var C$Tzr=C$Tzt(H[720]),C$Tzl=(C$Tzt(H[1061]),cc.EventListener.ListenerID),C$Tzh={DIRTY_NONE:0,DIRTY_FIXED_PRIORITY:1,DIRTY_SCENE_GRAPH_PRIORITY:2,DIRTY_ALL:3,_listenersMap:{},_priorityDirtyFlagMap:{},_nodeListenersMap:{},_toAddedListeners:[],_toRemovedListeners:[],_dirtyListeners:{},_inDispatch:0,_isEnabled:!(C$Tzn.prototype={constructor:C$Tzn,size:function(){return this._fixedListeners.length+this._sceneGraphListeners.length;},empty:function(){return 0===this._fixedListeners.length&&0===this._sceneGraphListeners.length;},push:function(C$Tzt){(0===C$Tzt._getFixedPriority()?this._sceneGraphListeners:this._fixedListeners).push(C$Tzt);},clearSceneGraphListeners:function(){this._sceneGraphListeners.length=0;},clearFixedListeners:function(){this._fixedListeners.length=0;},clear:function(){this._sceneGraphListeners.length=0,this._fixedListeners.length=0;},getFixedPriorityListeners:function(){return this._fixedListeners;},getSceneGraphPriorityListeners:function(){return this._sceneGraphListeners;}}),_currentTouch:null,_currentTouchListener:null,_internalCustomListenerIDs:[],_setDirtyForNode:function(C$Tzt){var C$Tze=this._nodeListenersMap[C$Tzt._id];if(void 0!==C$Tze)for(var C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi]._getListenerID();null==this._dirtyListeners[C$Tzr]&&(this._dirtyListeners[C$Tzr]=!0);}if(0<C$Tzt.childrenCount)for(var C$Tzs=C$Tzt._children,C$Tzo=0,C$Tza=C$Tzs.length;C$Tzo<C$Tza;C$Tzo++)this._setDirtyForNode(C$Tzs[C$Tzo]);},pauseTarget:function(C$Tzt,C$Tze){if(C$Tzt instanceof cc._BaseNode){var C$Tzi=this._nodeListenersMap[C$Tzt._id];if(C$Tzi)for(C$Tzr=0,C$Tzs=C$Tzi.length;C$Tzr<C$Tzs;C$Tzr++)C$Tzi[C$Tzr]._setPaused(!0);if(!0===C$Tze)for(var C$Tzn=C$Tzt._children,C$Tzr=0,C$Tzs=C$Tzn?C$Tzn.length:0;C$Tzr<C$Tzs;C$Tzr++)this.pauseTarget(C$Tzn[C$Tzr],!0);}else cc.warnID(3506);},resumeTarget:function(C$Tzt,C$Tze){if(C$Tzt instanceof cc._BaseNode){var C$Tzi=this._nodeListenersMap[C$Tzt._id];if(C$Tzi)for(C$Tzr=0,C$Tzs=C$Tzi.length;C$Tzr<C$Tzs;C$Tzr++)C$Tzi[C$Tzr]._setPaused(!1);if(this._setDirtyForNode(C$Tzt),!0===C$Tze)for(var C$Tzn=C$Tzt._children,C$Tzr=0,C$Tzs=C$Tzn?C$Tzn.length:0;C$Tzr<C$Tzs;C$Tzr++)this.resumeTarget(C$Tzn[C$Tzr],!0);}else cc.warnID(3506);},_addListener:function(C$Tzt){0===this._inDispatch?this._forceAddEventListener(C$Tzt):this._toAddedListeners.push(C$Tzt);},_forceAddEventListener:function(C$Tzt){var C$Tze=C$Tzt._getListenerID(),C$Tzi=this._listenersMap[C$Tze];C$Tzi||(C$Tzi=new C$Tzn(),this._listenersMap[C$Tze]=C$Tzi),C$Tzi.push(C$Tzt),0===C$Tzt._getFixedPriority()?(this._setDirty(C$Tze,this.DIRTY_SCENE_GRAPH_PRIORITY),null===(C$Tzi=C$Tzt._getSceneGraphPriority())&&cc.logID(3507),this._associateNodeAndEventListener(C$Tzi,C$Tzt),C$Tzi.activeInHierarchy&&this.resumeTarget(C$Tzi)):this._setDirty(C$Tze,this.DIRTY_FIXED_PRIORITY);},_getListeners:function(C$Tzt){return this._listenersMap[C$Tzt];},_updateDirtyFlagForSceneGraph:function(){for(var C$Tzt in this._dirtyListeners)this._setDirty(C$Tzt,this.DIRTY_SCENE_GRAPH_PRIORITY);this._dirtyListeners={};},_removeAllListenersInVector:function(C$Tzt){if(C$Tzt)for(var C$Tze,C$Tzi=C$Tzt.length-1;0<=C$Tzi;C$Tzi--)(C$Tze=C$Tzt[C$Tzi])._setRegistered(!1),null!=C$Tze._getSceneGraphPriority()&&(this._dissociateNodeAndEventListener(C$Tze._getSceneGraphPriority(),C$Tze),C$Tze._setSceneGraphPriority(null)),0===this._inDispatch&&cc.js.array.removeAt(C$Tzt,C$Tzi);},_removeListenersForListenerID:function(C$Tzt){for(var C$Tze,C$Tzi,C$Tzn,C$Tzr=this._listenersMap[C$Tzt],C$Tzs=(C$Tzr&&(C$Tze=C$Tzr.getFixedPriorityListeners(),C$Tzi=C$Tzr.getSceneGraphPriorityListeners(),this._removeAllListenersInVector(C$Tzi),this._removeAllListenersInVector(C$Tze),delete this._priorityDirtyFlagMap[C$Tzt],this._inDispatch||(C$Tzr.clear(),delete this._listenersMap[C$Tzt])),this._toAddedListeners),C$Tzo=C$Tzs.length-1;0<=C$Tzo;C$Tzo--)(C$Tzn=C$Tzs[C$Tzo])&&C$Tzn._getListenerID()===C$Tzt&&cc.js.array.removeAt(C$Tzs,C$Tzo);},_sortEventListeners:function(C$Tzt){var C$Tze=this.DIRTY_NONE,C$Tzi=this._priorityDirtyFlagMap;(C$Tze=C$Tzi[C$Tzt]?C$Tzi[C$Tzt]:C$Tze)!==this.DIRTY_NONE&&(C$Tzi[C$Tzt]=this.DIRTY_NONE,C$Tze&this.DIRTY_FIXED_PRIORITY&&this._sortListenersOfFixedPriority(C$Tzt),C$Tze&this.DIRTY_SCENE_GRAPH_PRIORITY&&cc.director.getScene()&&this._sortListenersOfSceneGraphPriority(C$Tzt));},_sortListenersOfSceneGraphPriority:function(C$Tzt){var C$Tze,C$Tzt=this._getListeners(C$Tzt);!C$Tzt||(C$Tze=C$Tzt.getSceneGraphPriorityListeners())&&0!==C$Tze.length&&C$Tzt.getSceneGraphPriorityListeners().sort(this._sortEventListenersOfSceneGraphPriorityDes);},_sortEventListenersOfSceneGraphPriorityDes:function(C$Tzt,C$Tze){var C$Tzi=C$Tzt._getSceneGraphPriority(),C$Tzn=C$Tze._getSceneGraphPriority();if(!(C$Tze&&C$Tzn&&C$Tzn._activeInHierarchy&&null!==C$Tzn._parent))return-1;if(!C$Tzt||!C$Tzi||!C$Tzi._activeInHierarchy||null===C$Tzi._parent)return 1;for(var C$Tzr=C$Tzi,C$Tzs=C$Tzn,C$Tzo=!1;C$Tzr._parent._id!==C$Tzs._parent._id;)C$Tzr=null===C$Tzr._parent._parent?(C$Tzo=!0,C$Tzn):C$Tzr._parent,C$Tzs=null===C$Tzs._parent._parent?(C$Tzo=!0,C$Tzi):C$Tzs._parent;if(C$Tzr._id===C$Tzs._id){if(C$Tzr._id===C$Tzn._id)return-1;if(C$Tzr._id===C$Tzi._id)return 1;}return C$Tzo?C$Tzr._localZOrder-C$Tzs._localZOrder:C$Tzs._localZOrder-C$Tzr._localZOrder;},_sortListenersOfFixedPriority:function(C$Tzt){C$Tzt=this._listenersMap[C$Tzt];if(C$Tzt){var C$Tze=C$Tzt.getFixedPriorityListeners();if(C$Tze&&0!==C$Tze.length){C$Tze.sort(this._sortListenersOfFixedPriorityAsc);for(var C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn&&!(0<=C$Tze[C$Tzi]._getFixedPriority());)++C$Tzi;C$Tzt.gt0Index=C$Tzi;}}},_sortListenersOfFixedPriorityAsc:function(C$Tzt,C$Tze){return C$Tzt._getFixedPriority()-C$Tze._getFixedPriority();},_onUpdateListeners:function(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr=C$Tzt.getFixedPriorityListeners(),C$Tzs=C$Tzt.getSceneGraphPriorityListeners(),C$Tzo=this._toRemovedListeners;if(C$Tzs)for(C$Tze=C$Tzs.length-1;0<=C$Tze;C$Tze--)(C$Tzi=C$Tzs[C$Tze])._isRegistered()||(cc.js.array.removeAt(C$Tzs,C$Tze),-1!==(C$Tzn=C$Tzo.indexOf(C$Tzi))&&C$Tzo.splice(C$Tzn,1));if(C$Tzr)for(C$Tze=C$Tzr.length-1;0<=C$Tze;C$Tze--)(C$Tzi=C$Tzr[C$Tze])._isRegistered()||(cc.js.array.removeAt(C$Tzr,C$Tze),-1!==(C$Tzn=C$Tzo.indexOf(C$Tzi))&&C$Tzo.splice(C$Tzn,1));C$Tzs&&0===C$Tzs.length&&C$Tzt.clearSceneGraphListeners(),C$Tzr&&0===C$Tzr.length&&C$Tzt.clearFixedListeners();},frameUpdateListeners:function(){var C$Tzt,C$Tze=this._listenersMap,C$Tzi=this._priorityDirtyFlagMap;for(C$Tzt in C$Tze)C$Tze[C$Tzt].empty()&&(delete C$Tzi[C$Tzt],delete C$Tze[C$Tzt]);var C$Tzn=this._toAddedListeners;if(0!==C$Tzn.length){for(var C$Tzr=0,C$Tzs=C$Tzn.length;C$Tzr<C$Tzs;C$Tzr++)this._forceAddEventListener(C$Tzn[C$Tzr]);C$Tzn.length=0;}0!==this._toRemovedListeners.length&&this._cleanToRemovedListeners();},_updateTouchListeners:function(C$Tzt){var C$Tze=this._inDispatch;if(cc.assertID(0<C$Tze,3508),!(1<C$Tze)){var C$Tzi=this._listenersMap[C$Tzl.TOUCH_ONE_BY_ONE],C$Tzn=(C$Tzi&&this._onUpdateListeners(C$Tzi),(C$Tzi=this._listenersMap[C$Tzl.TOUCH_ALL_AT_ONCE])&&this._onUpdateListeners(C$Tzi),cc.assertID(1===C$Tze,3509),this._toAddedListeners);if(0!==C$Tzn.length){for(var C$Tzr=0,C$Tzs=C$Tzn.length;C$Tzr<C$Tzs;C$Tzr++)this._forceAddEventListener(C$Tzn[C$Tzr]);this._toAddedListeners.length=0;}0!==this._toRemovedListeners.length&&this._cleanToRemovedListeners();}},_cleanToRemovedListeners:function(){for(var C$Tzt=this._toRemovedListeners,C$Tze=0;C$Tze<C$Tzt.length;C$Tze++){var C$Tzi,C$Tzn,C$Tzr=C$Tzt[C$Tze],C$Tzs=this._listenersMap[C$Tzr._getListenerID()];C$Tzs&&(C$Tzn=C$Tzs.getFixedPriorityListeners(),(C$Tzs=C$Tzs.getSceneGraphPriorityListeners())&&-1!==(C$Tzi=C$Tzs.indexOf(C$Tzr))&&C$Tzs.splice(C$Tzi,1),C$Tzn&&-1!==(C$Tzi=C$Tzn.indexOf(C$Tzr))&&C$Tzn.splice(C$Tzi,1));}C$Tzt.length=0;},_onTouchEventCallback:function(C$Tzt,C$Tze){if(!C$Tzt._isRegistered())return!1;var C$Tzi,C$Tzn=C$Tze.event,C$Tzr=C$Tzn.currentTouch,C$Tzs=(C$Tzn.currentTarget=C$Tzt._node,!1),C$Tzo=C$Tzn.getEventCode(),C$Tza=cc.Event.EventTouch;if(C$Tzo===C$Tza.BEGAN){if(!cc.macro.ENABLE_MULTI_TOUCH&&C$Tzh._currentTouch){var C$Tzc=C$Tzh._currentTouchListener._node;if(C$Tzc&&C$Tzc.activeInHierarchy)return!1;}C$Tzt.onTouchBegan&&(C$Tzs=C$Tzt.onTouchBegan(C$Tzr,C$Tzn))&&C$Tzt._registered&&(C$Tzt._claimedTouches.push(C$Tzr),C$Tzh._currentTouchListener=C$Tzt,C$Tzh._currentTouch=C$Tzr);}else if(0<C$Tzt._claimedTouches.length&&-1!==(C$Tzi=C$Tzt._claimedTouches.indexOf(C$Tzr))){if(C$Tzs=!0,!cc.macro.ENABLE_MULTI_TOUCH&&C$Tzh._currentTouch&&C$Tzh._currentTouch!==C$Tzr)return!1;C$Tzo===C$Tza.MOVED&&C$Tzt.onTouchMoved?C$Tzt.onTouchMoved(C$Tzr,C$Tzn):C$Tzo===C$Tza.ENDED?(C$Tzt.onTouchEnded&&C$Tzt.onTouchEnded(C$Tzr,C$Tzn),C$Tzt._registered&&C$Tzt._claimedTouches.splice(C$Tzi,1),C$Tzh._clearCurTouch()):C$Tzo===C$Tza.CANCELED&&(C$Tzt.onTouchCancelled&&C$Tzt.onTouchCancelled(C$Tzr,C$Tzn),C$Tzt._registered&&C$Tzt._claimedTouches.splice(C$Tzi,1),C$Tzh._clearCurTouch());}return C$Tzn.isStopped()?(C$Tzh._updateTouchListeners(C$Tzn),!0):!(!C$Tzs||!C$Tzt.swallowTouches)&&(C$Tze.needsMutableSet&&C$Tze.touches.splice(C$Tzr,1),!0);},_dispatchTouchEvent:function(C$Tzt){this._sortEventListeners(C$Tzl.TOUCH_ONE_BY_ONE),this._sortEventListeners(C$Tzl.TOUCH_ALL_AT_ONCE);var C$Tze=this._getListeners(C$Tzl.TOUCH_ONE_BY_ONE),C$Tzi=this._getListeners(C$Tzl.TOUCH_ALL_AT_ONCE);if(null!==C$Tze||null!==C$Tzi){var C$Tzn=C$Tzt.getTouches(),C$Tzr=cc.js.array.copy(C$Tzn),C$Tzs={event:C$Tzt,needsMutableSet:C$Tze&&C$Tzi,touches:C$Tzr,selTouch:null};if(C$Tze)for(var C$Tzo=0;C$Tzo<C$Tzn.length;C$Tzo++)C$Tzt.currentTouch=C$Tzn[C$Tzo],C$Tzt._propagationStopped=C$Tzt._propagationImmediateStopped=!1,this._dispatchEventToListeners(C$Tze,this._onTouchEventCallback,C$Tzs);C$Tzi&&0<C$Tzr.length&&(this._dispatchEventToListeners(C$Tzi,this._onTouchesEventCallback,{event:C$Tzt,touches:C$Tzr}),C$Tzt.isStopped())||this._updateTouchListeners(C$Tzt);}},_onTouchesEventCallback:function(C$Tzt,C$Tze){if(!C$Tzt._registered)return!1;var C$Tzi=cc.Event.EventTouch,C$Tzn=C$Tze.event,C$Tze=C$Tze.touches,C$Tzr=C$Tzn.getEventCode();return C$Tzn.currentTarget=C$Tzt._node,C$Tzr===C$Tzi.BEGAN&&C$Tzt.onTouchesBegan?C$Tzt.onTouchesBegan(C$Tze,C$Tzn):C$Tzr===C$Tzi.MOVED&&C$Tzt.onTouchesMoved?C$Tzt.onTouchesMoved(C$Tze,C$Tzn):C$Tzr===C$Tzi.ENDED&&C$Tzt.onTouchesEnded?C$Tzt.onTouchesEnded(C$Tze,C$Tzn):C$Tzr===C$Tzi.CANCELED&&C$Tzt.onTouchesCancelled&&C$Tzt.onTouchesCancelled(C$Tze,C$Tzn),!!C$Tzn.isStopped()&&(C$Tzh._updateTouchListeners(C$Tzn),!0);},_associateNodeAndEventListener:function(C$Tzt,C$Tze){var C$Tzi=this._nodeListenersMap[C$Tzt._id];C$Tzi||(this._nodeListenersMap[C$Tzt._id]=C$Tzi=[]),C$Tzi.push(C$Tze);},_dissociateNodeAndEventListener:function(C$Tzt,C$Tze){var C$Tzi=this._nodeListenersMap[C$Tzt._id];C$Tzi&&(cc.js.array.remove(C$Tzi,C$Tze),0===C$Tzi.length&&delete this._nodeListenersMap[C$Tzt._id]);},_dispatchEventToListeners:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr,C$Tzs=!1,C$Tzo=C$Tzt.getFixedPriorityListeners(),C$Tza=C$Tzt.getSceneGraphPriorityListeners(),C$Tzc=0;if(C$Tzo&&0!==C$Tzo.length)for(;C$Tzc<C$Tzt.gt0Index;++C$Tzc)if((C$Tzr=C$Tzo[C$Tzc]).isEnabled()&&!C$Tzr._isPaused()&&C$Tzr._isRegistered()&&C$Tze(C$Tzr,C$Tzi)){C$Tzs=!0;break;}if(C$Tza&&!C$Tzs)for(C$Tzn=0;C$Tzn<C$Tza.length;C$Tzn++)if((C$Tzr=C$Tza[C$Tzn]).isEnabled()&&!C$Tzr._isPaused()&&C$Tzr._isRegistered()&&C$Tze(C$Tzr,C$Tzi)){C$Tzs=!0;break;}if(C$Tzo&&!C$Tzs)for(;C$Tzc<C$Tzo.length;++C$Tzc)if((C$Tzr=C$Tzo[C$Tzc]).isEnabled()&&!C$Tzr._isPaused()&&C$Tzr._isRegistered()&&C$Tze(C$Tzr,C$Tzi)){C$Tzs=!0;break;}},_setDirty:function(C$Tzt,C$Tze){var C$Tzi=this._priorityDirtyFlagMap;null==C$Tzi[C$Tzt]?C$Tzi[C$Tzt]=C$Tze:C$Tzi[C$Tzt]=C$Tze|C$Tzi[C$Tzt];},_sortNumberAsc:function(C$Tzt,C$Tze){return C$Tzt-C$Tze;},hasEventListener:function(C$Tzt){return!!this._getListeners(C$Tzt);},addListener:function(C$Tzt,C$Tze){if(cc.assertID(C$Tzt&&C$Tze,3503),cc.js.isNumber(C$Tze)||C$Tze instanceof cc._BaseNode){if(C$Tzt instanceof cc.EventListener){if(C$Tzt._isRegistered())return void cc.logID(3505);}else cc.assertID(!cc.js.isNumber(C$Tze),3504),C$Tzt=cc.EventListener.create(C$Tzt);if(C$Tzt.checkAvailable()){if(cc.js.isNumber(C$Tze)){if(0===C$Tze)return void cc.logID(3500);C$Tzt._setSceneGraphPriority(null),C$Tzt._setFixedPriority(C$Tze),C$Tzt._setRegistered(!0),C$Tzt._setPaused(!1),this._addListener(C$Tzt);}else C$Tzt._setSceneGraphPriority(C$Tze),C$Tzt._setFixedPriority(0),C$Tzt._setRegistered(!0),this._addListener(C$Tzt);return C$Tzt;}}else cc.warnID(3506);},addCustomListener:function(C$Tzt,C$Tze){C$Tzt=new cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:C$Tzt,callback:C$Tze});return this.addListener(C$Tzt,1),C$Tzt;},removeListener:function(C$Tzt){if(null!=C$Tzt){var C$Tze,C$Tzi=this._listenersMap;for(C$Tze in C$Tzi){var C$Tzn,C$Tzr=C$Tzi[C$Tze],C$Tzs=C$Tzr.getFixedPriorityListeners(),C$Tzo=C$Tzr.getSceneGraphPriorityListeners();if((C$Tzn=this._removeListenerInVector(C$Tzo,C$Tzt))?this._setDirty(C$Tzt._getListenerID(),this.DIRTY_SCENE_GRAPH_PRIORITY):(C$Tzn=this._removeListenerInVector(C$Tzs,C$Tzt))&&this._setDirty(C$Tzt._getListenerID(),this.DIRTY_FIXED_PRIORITY),C$Tzr.empty()&&(delete this._priorityDirtyFlagMap[C$Tzt._getListenerID()],delete C$Tzi[C$Tze]),C$Tzn)break;}if(!C$Tzn)for(var C$Tza=this._toAddedListeners,C$Tzc=C$Tza.length-1;0<=C$Tzc;C$Tzc--){var C$Tzl=C$Tza[C$Tzc];if(C$Tzl===C$Tzt){cc.js.array.removeAt(C$Tza,C$Tzc),C$Tzl._setRegistered(!1);break;}}this._currentTouchListener===C$Tzt&&this._clearCurTouch();}},_clearCurTouch:function(){this._currentTouchListener=null,this._currentTouch=null;},_removeListenerInCallback:function(C$Tzt,C$Tze){if(null==C$Tzt)return!1;for(var C$Tzi=C$Tzt.length-1;0<=C$Tzi;C$Tzi--){var C$Tzn=C$Tzt[C$Tzi];if(C$Tzn._onCustomEvent===C$Tze||C$Tzn._onEvent===C$Tze)return C$Tzn._setRegistered(!1),null!=C$Tzn._getSceneGraphPriority()&&(this._dissociateNodeAndEventListener(C$Tzn._getSceneGraphPriority(),C$Tzn),C$Tzn._setSceneGraphPriority(null)),0===this._inDispatch?cc.js.array.removeAt(C$Tzt,C$Tzi):this._toRemovedListeners.push(C$Tzn),!0;}return!1;},_removeListenerInVector:function(C$Tzt,C$Tze){if(null==C$Tzt)return!1;for(var C$Tzi=C$Tzt.length-1;0<=C$Tzi;C$Tzi--){var C$Tzn=C$Tzt[C$Tzi];if(C$Tzn===C$Tze)return C$Tzn._setRegistered(!1),null!=C$Tzn._getSceneGraphPriority()&&(this._dissociateNodeAndEventListener(C$Tzn._getSceneGraphPriority(),C$Tzn),C$Tzn._setSceneGraphPriority(null)),0===this._inDispatch?cc.js.array.removeAt(C$Tzt,C$Tzi):this._toRemovedListeners.push(C$Tzn),!0;}return!1;},removeListeners:function(C$Tzt,C$Tze){if(cc.js.isNumber(C$Tzt)||C$Tzt instanceof cc._BaseNode){if(void 0!==C$Tzt._id){var C$Tzi,C$Tzn=this._nodeListenersMap[C$Tzt._id];if(C$Tzn){var C$Tzr=cc.js.array.copy(C$Tzn);for(C$Tzi=0;C$Tzi<C$Tzr.length;C$Tzi++)this.removeListener(C$Tzr[C$Tzi]);delete this._nodeListenersMap[C$Tzt._id];}var C$Tzs=this._toAddedListeners;for(C$Tzi=0;C$Tzi<C$Tzs.length;){var C$Tzo=C$Tzs[C$Tzi];C$Tzo._getSceneGraphPriority()===C$Tzt?(C$Tzo._setSceneGraphPriority(null),C$Tzo._setRegistered(!1),C$Tzs.splice(C$Tzi,1)):++C$Tzi;}if(!0===C$Tze){var C$Tza,C$Tzc=C$Tzt.children;for(C$Tzi=0,C$Tza=C$Tzc.length;C$Tzi<C$Tza;C$Tzi++)this.removeListeners(C$Tzc[C$Tzi],!0);}}else C$Tzt===cc.EventListener.TOUCH_ONE_BY_ONE?this._removeListenersForListenerID(C$Tzl.TOUCH_ONE_BY_ONE):C$Tzt===cc.EventListener.TOUCH_ALL_AT_ONCE?this._removeListenersForListenerID(C$Tzl.TOUCH_ALL_AT_ONCE):C$Tzt===cc.EventListener.MOUSE?this._removeListenersForListenerID(C$Tzl.MOUSE):C$Tzt===cc.EventListener.ACCELERATION?this._removeListenersForListenerID(C$Tzl.ACCELERATION):C$Tzt===cc.EventListener.KEYBOARD?this._removeListenersForListenerID(C$Tzl.KEYBOARD):cc.logID(3501);}else cc.warnID(3506);},removeCustomListeners:function(C$Tzt){this._removeListenersForListenerID(C$Tzt);},removeAllListeners:function(){var C$Tzt,C$Tze=this._listenersMap,C$Tzi=this._internalCustomListenerIDs;for(C$Tzt in C$Tze)-1===C$Tzi.indexOf(C$Tzt)&&this._removeListenersForListenerID(C$Tzt);},setPriority:function(C$Tzt,C$Tze){if(null!=C$Tzt){var C$Tzi,C$Tzn=this._listenersMap;for(C$Tzi in C$Tzn){var C$Tzr=C$Tzn[C$Tzi].getFixedPriorityListeners();if(C$Tzr)if(-1!==C$Tzr.indexOf(C$Tzt))return null!=C$Tzt._getSceneGraphPriority()&&cc.logID(3502),void(C$Tzt._getFixedPriority()!==C$Tze&&(C$Tzt._setFixedPriority(C$Tze),this._setDirty(C$Tzt._getListenerID(),this.DIRTY_FIXED_PRIORITY)));}}},setEnabled:function(C$Tzt){this._isEnabled=C$Tzt;},isEnabled:function(){return this._isEnabled;},dispatchEvent:function(C$Tzt){if(this._isEnabled)if(this._updateDirtyFlagForSceneGraph(),this._inDispatch++,C$Tzt&&C$Tzt.getType){if(C$Tzt.getType().startsWith(cc.Event.TOUCH))return this._dispatchTouchEvent(C$Tzt),void this._inDispatch--;C$Tze=C$Tzt,C$Tzi=cc.Event;var C$Tze=(C$Tze=C$Tze.type)===C$Tzi.ACCELERATION?C$Tzl.ACCELERATION:C$Tze===C$Tzi.KEYBOARD?C$Tzl.KEYBOARD:C$Tze.startsWith(C$Tzi.MOUSE)?C$Tzl.MOUSE:(C$Tze.startsWith(C$Tzi.TOUCH)&&cc.logID(2e3),""),C$Tzi=(this._sortEventListeners(C$Tze),this._listenersMap[C$Tze]);null!=C$Tzi&&(this._dispatchEventToListeners(C$Tzi,this._onListenerCallback,C$Tzt),this._onUpdateListeners(C$Tzi)),this._inDispatch--;}else cc.errorID(3511);},_onListenerCallback:function(C$Tzt,C$Tze){return C$Tze.currentTarget=C$Tzt._target,C$Tzt._onEvent(C$Tze),C$Tze.isStopped();},dispatchCustomEvent:function(C$Tzt,C$Tze){C$Tzt=new cc.Event.EventCustom(C$Tzt);C$Tzt.setUserData(C$Tze),this.dispatchEvent(C$Tzt);}};C$Tzr.get(cc,H[1062],function(){return cc.errorID(1405,H[1063],H[1064]),C$Tzh;}),C$Tze.exports=cc.internal.eventManager=C$Tzh;},{"../platform/js":209,"./CCEventListener":110}],112:[function(C$Tzt,C$Tze,C$Tzi){"use strict";cc.Touch=function(C$Tzt,C$Tze,C$Tzi){this._lastModified=0,this.setTouchInfo(C$Tzi,C$Tzt,C$Tze);},cc.Touch.prototype={constructor:cc.Touch,getLocation:function(){return cc.v2(this._point.x,this._point.y);},getLocationX:function(){return this._point.x;},getLocationY:function(){return this._point.y;},getPreviousLocation:function(){return cc.v2(this._prevPoint.x,this._prevPoint.y);},getStartLocation:function(){return cc.v2(this._startPoint.x,this._startPoint.y);},getDelta:function(){return this._point.sub(this._prevPoint);},getLocationInView:function(){return cc.v2(this._point.x,cc.view._designResolutionSize.height-this._point.y);},getPreviousLocationInView:function(){return cc.v2(this._prevPoint.x,cc.view._designResolutionSize.height-this._prevPoint.y);},getStartLocationInView:function(){return cc.v2(this._startPoint.x,cc.view._designResolutionSize.height-this._startPoint.y);},getID:function(){return this._id;},setTouchInfo:function(C$Tzt,C$Tze,C$Tzi){this._prevPoint=this._point,this._point=cc.v2(C$Tze||0,C$Tzi||0),this._id=C$Tzt,this._startPointCaptured||(this._startPoint=cc.v2(this._point),cc.view._convertPointWithScale(this._startPoint),this._startPointCaptured=!0);},_setPoint:function(C$Tzt,C$Tze){void 0===C$Tze?(this._point.x=C$Tzt.x,this._point.y=C$Tzt.y):(this._point.x=C$Tzt,this._point.y=C$Tze);},_setPrevPoint:function(C$Tzt,C$Tze){this._prevPoint=void 0===C$Tze?cc.v2(C$Tzt.x,C$Tzt.y):cc.v2(C$Tzt||0,C$Tze||0);}};},{}],113:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[1065]),C$Tzt(H[1066]),C$Tzt(H[1061]);C$Tzt=C$Tzt(H[1067]);C$Tze.exports=C$Tzt;},{"./CCEvent":109,"./CCEventListener":110,"./CCEventManager":111,"./CCTouch":112}],114:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.js,C$Tzr=C$Tzt(H[1068]);function C$Tzs(){C$Tzr.call(this);}C$Tzn.extend(C$Tzs,C$Tzr),C$Tzs.prototype.emit=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.type,C$Tzi=this._callbackTable[C$Tzi];if(C$Tzi){for(var C$Tzn=!C$Tzi.isInvoking,C$Tzr=(C$Tzi.isInvoking=!0,C$Tzi.callbackInfos),C$Tzs=0,C$Tzo=C$Tzr.length;C$Tzs<C$Tzo;++C$Tzs){var C$Tza=C$Tzr[C$Tzs];if(C$Tza&&C$Tza.callback&&(C$Tza.callback.call(C$Tza.target,C$Tzt,C$Tze),C$Tzt._propagationImmediateStopped))break;}C$Tzn&&(C$Tzi.isInvoking=!1,C$Tzi.containCanceled&&C$Tzi.purgeCanceled());}},C$Tze.exports=C$Tzs;},{"../platform/callbacks-invoker":202}],115:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[720]),C$Tzr=C$Tzt(H[1068]),C$Tzo=C$Tzn.array.fastRemove;function C$Tzs(){C$Tzr.call(this);}C$Tzn.extend(C$Tzs,C$Tzr);C$Tzt=C$Tzs.prototype;C$Tzt.__on=C$Tzt.on,C$Tzt.on=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){if(C$Tze)return this.hasEventListener(C$Tzt,C$Tze,C$Tzi)||(this.__on(C$Tzt,C$Tze,C$Tzi,C$Tzn),C$Tzi&&C$Tzi.__eventTargets&&C$Tzi.__eventTargets.push(this)),C$Tze;cc.errorID(6800);},C$Tzt.__off=C$Tzt.off,C$Tzt.off=function(C$Tzt,C$Tze,C$Tzi){if(C$Tze)this.__off(C$Tzt,C$Tze,C$Tzi),C$Tzi&&C$Tzi.__eventTargets&&C$Tzo(C$Tzi.__eventTargets,this);else{C$Tze=this._callbackTable[C$Tzt];if(C$Tze){for(var C$Tzn=C$Tze.callbackInfos,C$Tzr=0;C$Tzr<C$Tzn.length;++C$Tzr){var C$Tzs=C$Tzn[C$Tzr]&&C$Tzn[C$Tzr].target;C$Tzs&&C$Tzs.__eventTargets&&C$Tzo(C$Tzs.__eventTargets,this);}this.removeAll(C$Tzt);}}},C$Tzt.targetOff=function(C$Tzt){this.removeAll(C$Tzt),C$Tzt&&C$Tzt.__eventTargets&&C$Tzo(C$Tzt.__eventTargets,this);},C$Tzt.once=function(C$Tzt,C$Tze,C$Tzi){this.on(C$Tzt,C$Tze,C$Tzi,!0);},C$Tzt.dispatchEvent=function(C$Tzt){this.emit(C$Tzt.type,C$Tzt);},cc.EventTarget=C$Tze.exports=C$Tzs;},{"../platform/callbacks-invoker":202,"../platform/js":209}],116:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzt,C$Tze){cc.Event.call(this,C$Tzt,C$Tze),this.detail=null;}var C$Tzt=C$Tzt(H[720]),C$Tzr=(cc.Event=function(C$Tzt,C$Tze){this.type=C$Tzt,this.bubbles=!!C$Tze,this.target=null,this.currentTarget=null,this.eventPhase=0,this._propagationStopped=!1,this._propagationImmediateStopped=!1;},cc.Event.prototype={constructor:cc.Event,unuse:function(){this.type=cc.Event.NO_TYPE,this.target=null,this.currentTarget=null,this.eventPhase=cc.Event.NONE,this._propagationStopped=!1,this._propagationImmediateStopped=!1;},reuse:function(C$Tzt,C$Tze){this.type=C$Tzt,this.bubbles=C$Tze||!1;},stopPropagation:function(){this._propagationStopped=!0;},stopPropagationImmediate:function(){this._propagationImmediateStopped=!0;},isStopped:function(){return this._propagationStopped||this._propagationImmediateStopped;},getCurrentTarget:function(){return this.currentTarget;},getType:function(){return this.type;}},cc.Event.NO_TYPE=H[1069],cc.Event.TOUCH=H[1070],cc.Event.MOUSE=H[1071],cc.Event.KEYBOARD=H[1072],cc.Event.ACCELERATION=H[1073],cc.Event.NONE=0,cc.Event.CAPTURING_PHASE=1,cc.Event.AT_TARGET=2,cc.Event.BUBBLING_PHASE=3,C$Tzt.extend(C$Tzn,cc.Event),(C$Tzn.prototype.reset=C$Tzn).prototype.setUserData=function(C$Tzt){this.detail=C$Tzt;},C$Tzn.prototype.getUserData=function(){return this.detail;},C$Tzn.prototype.getEventName=cc.Event.prototype.getType,new C$Tzt.Pool(10));C$Tzn.put=function(C$Tzt){C$Tzr.put(C$Tzt);},C$Tzn.get=function(C$Tzt,C$Tze){var C$Tzi=C$Tzr._get();return C$Tzi?C$Tzi.reset(C$Tzt,C$Tze):C$Tzi=new C$Tzn(C$Tzt,C$Tze),C$Tzi;},cc.Event.EventCustom=C$Tzn,C$Tze.exports=cc.Event;},{"../platform/js":209}],117:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[1074]),C$Tzt(H[1075]),C$Tzt(H[1076]),C$Tzt(H[1077]);},{"./event":116,"./event-listeners":114,"./event-target":115,"./system-event":118}],118:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[708]),C$Tzr=C$Tzt(H[1078]),C$Tzs=C$Tzt(H[1079]),C$Tzo=cc.Enum({KEY_DOWN:H[1024],KEY_UP:H[1080],DEVICEMOTION:H[1081]}),C$Tza=null,C$Tzc=null,C$Tzt=cc.Class({name:H[1082],extends:C$Tzn,statics:{EventType:C$Tzo},setAccelerometerEnabled:function(C$Tzt){C$Tzt&&window.DeviceMotionEvent&&H[704]==typeof DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then(function(C$Tzt){console.log(H[1083]+C$Tzt),C$Tzs.setAccelerometerEnabled(H[1084]===C$Tzt);}):C$Tzs.setAccelerometerEnabled(C$Tzt);},setAccelerometerInterval:function(C$Tzt){C$Tzs.setAccelerometerInterval(C$Tzt);},on:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._super(C$Tzt,C$Tze,C$Tzi,C$Tzn),C$Tzt!==C$Tzo.KEY_DOWN&&C$Tzt!==C$Tzo.KEY_UP||(C$Tza=C$Tza||cc.EventListener.create({event:cc.EventListener.KEYBOARD,onKeyPressed:function(C$Tzt,C$Tze){C$Tze.type=C$Tzo.KEY_DOWN,cc.systemEvent.dispatchEvent(C$Tze);},onKeyReleased:function(C$Tzt,C$Tze){C$Tze.type=C$Tzo.KEY_UP,cc.systemEvent.dispatchEvent(C$Tze);}}),C$Tzr.hasEventListener(cc.EventListener.ListenerID.KEYBOARD)||C$Tzr.addListener(C$Tza,1)),C$Tzt===C$Tzo.DEVICEMOTION&&(C$Tzc=C$Tzc||cc.EventListener.create({event:cc.EventListener.ACCELERATION,callback:function(C$Tzt,C$Tze){C$Tze.type=C$Tzo.DEVICEMOTION,cc.systemEvent.dispatchEvent(C$Tze);}}),C$Tzr.hasEventListener(cc.EventListener.ListenerID.ACCELERATION)||C$Tzr.addListener(C$Tzc,1));},off:function(C$Tzt,C$Tze,C$Tzi){this._super(C$Tzt,C$Tze,C$Tzi),!C$Tza||C$Tzt!==C$Tzo.KEY_DOWN&&C$Tzt!==C$Tzo.KEY_UP||(C$Tze=this.hasEventListener(C$Tzo.KEY_DOWN),C$Tzi=this.hasEventListener(C$Tzo.KEY_UP),C$Tze||C$Tzi||C$Tzr.removeListener(C$Tza)),C$Tzc&&C$Tzt===C$Tzo.DEVICEMOTION&&C$Tzr.removeListener(C$Tzc);}});cc.SystemEvent=C$Tze.exports=C$Tzt,cc.systemEvent=new cc.SystemEvent();},{"../event-manager":113,"../event/event-target":115,"../platform/CCInputManager":193}],119:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tza=C$Tzr(C$Tzt(H[1085])),C$Tzn=C$Tzr(C$Tzt(H[1086])),C$Tzo=C$Tzr(C$Tzt(H[1087]));function C$Tzr(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}var C$Tzs=new C$Tza.default(),C$Tzh=new C$Tza.default(),C$Tzc=new C$Tzn.default();function C$Tzl(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){this.center=void 0,this.halfExtents=void 0,this._type=void 0,this._type=C$Tzo.default.SHAPE_AABB,this.center=new C$Tza.default(C$Tzt,C$Tze,C$Tzi),this.halfExtents=new C$Tza.default(C$Tzn,C$Tzr,C$Tzs);}C$Tzl.create=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){return new C$Tzl(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs);},C$Tzl.clone=function(C$Tzt){return new C$Tzl(C$Tzt.center.x,C$Tzt.center.y,C$Tzt.center.z,C$Tzt.halfExtents.x,C$Tzt.halfExtents.y,C$Tzt.halfExtents.z);},C$Tzl.copy=function(C$Tzt,C$Tze){return C$Tza.default.copy(C$Tzt.center,C$Tze.center),C$Tza.default.copy(C$Tzt.halfExtents,C$Tze.halfExtents),C$Tzt;},C$Tzl.fromPoints=function(C$Tzt,C$Tze,C$Tzi){return C$Tza.default.scale(C$Tzt.center,C$Tza.default.add(C$Tzs,C$Tze,C$Tzi),.5),C$Tza.default.scale(C$Tzt.halfExtents,C$Tza.default.sub(C$Tzh,C$Tzi,C$Tze),.5),C$Tzt;},C$Tzl.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo){return C$Tza.default.set(C$Tzt.center,C$Tze,C$Tzi,C$Tzn),C$Tza.default.set(C$Tzt.halfExtents,C$Tzr,C$Tzs,C$Tzo),C$Tzt;},(C$Tzt=C$Tzl.prototype).getBoundary=function(C$Tzt,C$Tze){C$Tza.default.sub(C$Tzt,this.center,this.halfExtents),C$Tza.default.add(C$Tze,this.center,this.halfExtents);},C$Tzt.transform=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs,C$Tzo;C$Tza.default.transformMat4((C$Tzr=C$Tzr||this).center,this.center,C$Tzt),C$Tzr=C$Tzr.halfExtents,C$Tzs=this.halfExtents,C$Tzt=C$Tzt,C$Tzo=C$Tzc.m,C$Tzt=C$Tzt.m,C$Tzo[0]=Math.abs(C$Tzt[0]),C$Tzo[1]=Math.abs(C$Tzt[1]),C$Tzo[2]=Math.abs(C$Tzt[2]),C$Tzo[3]=Math.abs(C$Tzt[4]),C$Tzo[4]=Math.abs(C$Tzt[5]),C$Tzo[5]=Math.abs(C$Tzt[6]),C$Tzo[6]=Math.abs(C$Tzt[8]),C$Tzo[7]=Math.abs(C$Tzt[9]),C$Tzo[8]=Math.abs(C$Tzt[10]),C$Tza.default.transformMat3(C$Tzr,C$Tzs,C$Tzc);},C$Tzi.default=C$Tzl,C$Tze.exports=C$Tzi.default;},{"../value-types/mat3":280,"../value-types/vec3":289,"./enums":121}],120:[function(C$Tze,C$Tzi,C$Tzt){"use strict";C$Tzt.__esModule=!0,C$Tzt.point_plane=C$Tzs,C$Tzt.pt_point_plane=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzs(C$Tze,C$Tzi);return C$Tzo.Vec3.subtract(C$Tzt,C$Tze,C$Tzo.Vec3.multiplyScalar(C$Tzt,C$Tzi.n,C$Tzn));},C$Tzt.pt_point_aabb=function(C$Tzt,C$Tze,C$Tzi){return C$Tzo.Vec3.copy(C$Tzt,C$Tze),C$Tzo.Vec3.subtract(C$Tzn,C$Tzi.center,C$Tzi.halfExtents),C$Tzo.Vec3.add(C$Tzr,C$Tzi.center,C$Tzi.halfExtents),C$Tzt.x=(C$Tzt.x<C$Tzn.x?C$Tzn:C$Tzt).x,C$Tzt.y=(C$Tzt.y<C$Tzn.x?C$Tzn:C$Tzt).y,C$Tzt.z=(C$Tzt.z<C$Tzn.x?C$Tzn:C$Tzt).z,C$Tzt.x=(C$Tzt.x>C$Tzr.x?C$Tzr:C$Tzt).x,C$Tzt.y=(C$Tzt.y>C$Tzr.x?C$Tzr:C$Tzt).y,C$Tzt.z=(C$Tzt.z>C$Tzr.x?C$Tzr:C$Tzt).z,C$Tzt;},C$Tzt.pt_point_obb=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzi.orientation.m;C$Tzo.Vec3.set(C$Tza,C$Tzn[0],C$Tzn[1],C$Tzn[2]),C$Tzo.Vec3.set(C$Tzc,C$Tzn[3],C$Tzn[4],C$Tzn[5]),C$Tzo.Vec3.set(C$Tzl,C$Tzn[6],C$Tzn[7],C$Tzn[8]),C$Tzu[0]=C$Tza,C$Tzu[1]=C$Tzc,C$Tzu[2]=C$Tzl,C$Tz_[0]=C$Tzi.halfExtents.x,C$Tz_[1]=C$Tzi.halfExtents.y,C$Tz_[2]=C$Tzi.halfExtents.z,C$Tzo.Vec3.subtract(C$Tzh,C$Tze,C$Tzi.center),C$Tzo.Vec3.set(C$Tzt,C$Tzi.center.x,C$Tzi.center.y,C$Tzi.center.z);for(var C$Tzr=0;C$Tzr<3;C$Tzr++){var C$Tzs=C$Tzo.Vec3.dot(C$Tzh,C$Tzu[C$Tzr]);(C$Tzs=C$Tzs>C$Tz_[C$Tzr]?C$Tz_[C$Tzr]:C$Tzs)<-C$Tz_[C$Tzr]&&(C$Tzs=-C$Tz_[C$Tzr]),C$Tzt.x+=C$Tzs*C$Tzu[C$Tzr].x,C$Tzt.y+=C$Tzs*C$Tzu[C$Tzr].y,C$Tzt.z+=C$Tzs*C$Tzu[C$Tzr].z;}return C$Tzt;};var C$Tzo=C$Tze(H[818]),C$Tza=new C$Tzo.Vec3(),C$Tzc=new C$Tzo.Vec3(),C$Tzl=new C$Tzo.Vec3(),C$Tzh=new C$Tzo.Vec3(),C$Tzn=new C$Tzo.Vec3(),C$Tzr=new C$Tzo.Vec3(),C$Tzu=[],C$Tz_=[];function C$Tzs(C$Tzt,C$Tze){return C$Tzo.Vec3.dot(C$Tze.n,C$Tzt)-C$Tze.d;}},{"../value-types":279}],121:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;C$Tzi.default={SHAPE_RAY:1,SHAPE_LINE:2,SHAPE_SPHERE:4,SHAPE_AABB:8,SHAPE_OBB:16,SHAPE_PLANE:32,SHAPE_TRIANGLE:64,SHAPE_FRUSTUM:128,SHAPE_FRUSTUM_ACCURATE:256},C$Tze.exports=C$Tzi.default;},{}],122:[function(C$Tzt,C$Tzs,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.frustum=void 0;var C$Tzo=C$Tzt(H[818]),C$Tza=C$Tzi(C$Tzt(H[1087])),C$Tzc=C$Tzi(C$Tzt(H[1088]));function C$Tzi(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzu(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}var C$Tz_,C$Tzn,C$Tzl,C$Tzh=[],C$Tzt=(C$Tzh[0]=new C$Tzo.Vec3(1,1,1),C$Tzh[1]=new C$Tzo.Vec3(-1,1,1),C$Tzh[2]=new C$Tzo.Vec3(-1,-1,1),C$Tzh[3]=new C$Tzo.Vec3(1,-1,1),C$Tzh[4]=new C$Tzo.Vec3(1,1,-1),C$Tzh[5]=new C$Tzo.Vec3(-1,1,-1),C$Tzh[6]=new C$Tzo.Vec3(-1,-1,-1),C$Tzh[7]=new C$Tzo.Vec3(1,-1,-1),C$Tzr.create=function(){return new C$Tzr();},C$Tzr.clone=function(C$Tzt){return C$Tzr.copy(new C$Tzr(),C$Tzt);},C$Tzr.copy=function(C$Tzt,C$Tze){C$Tzt._type=C$Tze._type;for(var C$Tzi=0;C$Tzi<6;++C$Tzi)C$Tzc.default.copy(C$Tzt.planes[C$Tzi],C$Tze.planes[C$Tzi]);for(var C$Tzn=0;C$Tzn<8;++C$Tzn)C$Tzo.Vec3.copy(C$Tzt.vertices[C$Tzn],C$Tze.vertices[C$Tzn]);return C$Tzt;},C$Tzt=C$Tzr,(C$Tzn=[{key:H[1089],set:function(C$Tzt){this._type=C$Tzt?C$Tza.default.SHAPE_FRUSTUM_ACCURATE:C$Tza.default.SHAPE_FRUSTUM;}}])&&C$Tzu(C$Tzt.prototype,C$Tzn),C$Tz_&&C$Tzu(C$Tzt,C$Tz_),(C$Tzn=C$Tzr.prototype).update=function(C$Tzt,C$Tze){C$Tzt=C$Tzt.m;if(C$Tzo.Vec3.set(this.planes[0].n,C$Tzt[3]+C$Tzt[0],C$Tzt[7]+C$Tzt[4],C$Tzt[11]+C$Tzt[8]),this.planes[0].d=-(C$Tzt[15]+C$Tzt[12]),C$Tzo.Vec3.set(this.planes[1].n,C$Tzt[3]-C$Tzt[0],C$Tzt[7]-C$Tzt[4],C$Tzt[11]-C$Tzt[8]),this.planes[1].d=-(C$Tzt[15]-C$Tzt[12]),C$Tzo.Vec3.set(this.planes[2].n,C$Tzt[3]+C$Tzt[1],C$Tzt[7]+C$Tzt[5],C$Tzt[11]+C$Tzt[9]),this.planes[2].d=-(C$Tzt[15]+C$Tzt[13]),C$Tzo.Vec3.set(this.planes[3].n,C$Tzt[3]-C$Tzt[1],C$Tzt[7]-C$Tzt[5],C$Tzt[11]-C$Tzt[9]),this.planes[3].d=-(C$Tzt[15]-C$Tzt[13]),C$Tzo.Vec3.set(this.planes[4].n,C$Tzt[3]+C$Tzt[2],C$Tzt[7]+C$Tzt[6],C$Tzt[11]+C$Tzt[10]),this.planes[4].d=-(C$Tzt[15]+C$Tzt[14]),C$Tzo.Vec3.set(this.planes[5].n,C$Tzt[3]-C$Tzt[2],C$Tzt[7]-C$Tzt[6],C$Tzt[11]-C$Tzt[10]),this.planes[5].d=-(C$Tzt[15]-C$Tzt[14]),this._type===C$Tza.default.SHAPE_FRUSTUM_ACCURATE){for(var C$Tzi=0;C$Tzi<6;C$Tzi++){var C$Tzn=this.planes[C$Tzi],C$Tzr=1/C$Tzn.n.length();C$Tzo.Vec3.multiplyScalar(C$Tzn.n,C$Tzn.n,C$Tzr),C$Tzn.d*=C$Tzr;}for(var C$Tzs=0;C$Tzs<8;C$Tzs++)C$Tzo.Vec3.transformMat4(this.vertices[C$Tzs],C$Tzh[C$Tzs],C$Tze);}},C$Tzn.transform=function(C$Tzt){if(this._type===C$Tza.default.SHAPE_FRUSTUM_ACCURATE){for(var C$Tze=0;C$Tze<8;C$Tze++)C$Tzo.Vec3.transformMat4(this.vertices[C$Tze],this.vertices[C$Tze],C$Tzt);C$Tzc.default.fromPoints(this.planes[0],this.vertices[1],this.vertices[5],this.vertices[6]),C$Tzc.default.fromPoints(this.planes[1],this.vertices[3],this.vertices[7],this.vertices[4]),C$Tzc.default.fromPoints(this.planes[2],this.vertices[6],this.vertices[7],this.vertices[3]),C$Tzc.default.fromPoints(this.planes[3],this.vertices[0],this.vertices[4],this.vertices[5]),C$Tzc.default.fromPoints(this.planes[4],this.vertices[2],this.vertices[3],this.vertices[0]),C$Tzc.default.fromPoints(this.planes[0],this.vertices[7],this.vertices[6],this.vertices[5]);}},C$Tzr);function C$Tzr(){this.planes=void 0,this.vertices=void 0,this._type=void 0,this._type=C$Tza.default.SHAPE_FRUSTUM,this.planes=[];for(var C$Tzt=0;C$Tzt<6;++C$Tzt)this.planes[C$Tzt]=C$Tzc.default.create(0,0,0,0);this.vertices=[];for(var C$Tze=0;C$Tze<8;++C$Tze)this.vertices[C$Tze]=new C$Tzo.Vec3();}(C$Tze.frustum=C$Tzt).createOrtho=(C$Tzl=new C$Tzo.Vec3(),function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){C$Tze/=2,C$Tzi/=2;C$Tzo.Vec3.set(C$Tzl,C$Tze,C$Tzi,C$Tzn),C$Tzo.Vec3.transformMat4(C$Tzt.vertices[0],C$Tzl,C$Tzs),C$Tzo.Vec3.set(C$Tzl,-C$Tze,C$Tzi,C$Tzn),C$Tzo.Vec3.transformMat4(C$Tzt.vertices[1],C$Tzl,C$Tzs),C$Tzo.Vec3.set(C$Tzl,-C$Tze,-C$Tzi,C$Tzn),C$Tzo.Vec3.transformMat4(C$Tzt.vertices[2],C$Tzl,C$Tzs),C$Tzo.Vec3.set(C$Tzl,C$Tze,-C$Tzi,C$Tzn),C$Tzo.Vec3.transformMat4(C$Tzt.vertices[3],C$Tzl,C$Tzs),C$Tzo.Vec3.set(C$Tzl,C$Tze,C$Tzi,C$Tzr),C$Tzo.Vec3.transformMat4(C$Tzt.vertices[4],C$Tzl,C$Tzs),C$Tzo.Vec3.set(C$Tzl,-C$Tze,C$Tzi,C$Tzr),C$Tzo.Vec3.transformMat4(C$Tzt.vertices[5],C$Tzl,C$Tzs),C$Tzo.Vec3.set(C$Tzl,-C$Tze,-C$Tzi,C$Tzr),C$Tzo.Vec3.transformMat4(C$Tzt.vertices[6],C$Tzl,C$Tzs),C$Tzo.Vec3.set(C$Tzl,C$Tze,-C$Tzi,C$Tzr),C$Tzo.Vec3.transformMat4(C$Tzt.vertices[7],C$Tzl,C$Tzs),C$Tzc.default.fromPoints(C$Tzt.planes[0],C$Tzt.vertices[1],C$Tzt.vertices[6],C$Tzt.vertices[5]),C$Tzc.default.fromPoints(C$Tzt.planes[1],C$Tzt.vertices[3],C$Tzt.vertices[4],C$Tzt.vertices[7]),C$Tzc.default.fromPoints(C$Tzt.planes[2],C$Tzt.vertices[6],C$Tzt.vertices[3],C$Tzt.vertices[7]),C$Tzc.default.fromPoints(C$Tzt.planes[3],C$Tzt.vertices[0],C$Tzt.vertices[5],C$Tzt.vertices[4]),C$Tzc.default.fromPoints(C$Tzt.planes[4],C$Tzt.vertices[2],C$Tzt.vertices[0],C$Tzt.vertices[3]),C$Tzc.default.fromPoints(C$Tzt.planes[0],C$Tzt.vertices[7],C$Tzt.vertices[5],C$Tzt.vertices[6]);});},{"../value-types":279,"./enums":121,"./plane":127}],123:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn={enums:C$Tzi.__esModule=!0,Triangle:!0,Aabb:!0,Ray:!0,intersect:!0,Sphere:!0,Obb:!0,Frustum:!0,Line:!0,Plane:!0},C$Tzr=(C$Tzi.Plane=C$Tzi.Line=C$Tzi.Frustum=C$Tzi.Obb=C$Tzi.Sphere=C$Tzi.intersect=C$Tzi.Ray=C$Tzi.Aabb=C$Tzi.Triangle=C$Tzi.enums=void 0,C$Tzo(C$Tzt(H[1087]))),C$Tzr=(C$Tzi.enums=C$Tzr.default,C$Tzo(C$Tzt(H[1090]))),C$Tzr=(C$Tzi.Triangle=C$Tzr.default,C$Tzo(C$Tzt(H[1091]))),C$Tzr=(C$Tzi.Aabb=C$Tzr.default,C$Tzo(C$Tzt(H[1092]))),C$Tzr=(C$Tzi.Ray=C$Tzr.default,C$Tzo(C$Tzt(H[1093]))),C$Tzr=(C$Tzi.intersect=C$Tzr.default,C$Tzo(C$Tzt(H[1094]))),C$Tzr=(C$Tzi.Sphere=C$Tzr.default,C$Tzo(C$Tzt(H[1095]))),C$Tzr=(C$Tzi.Obb=C$Tzr.default,C$Tzo(C$Tzt(H[1096]))),C$Tzr=(C$Tzi.Frustum=C$Tzr.default,C$Tzo(C$Tzt(H[1097]))),C$Tzr=(C$Tzi.Line=C$Tzr.default,C$Tzo(C$Tzt(H[1088]))),C$Tzs=(C$Tzi.Plane=C$Tzr.default,C$Tzt(H[1098]));function C$Tzo(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}Object.keys(C$Tzs).forEach(function(C$Tzt){H[1099]!==C$Tzt&&H[1100]!==C$Tzt&&(Object.prototype.hasOwnProperty.call(C$Tzn,C$Tzt)||(C$Tzi[C$Tzt]=C$Tzs[C$Tzt]));}),cc.geomUtils=C$Tze.exports;},{"./aabb":119,"./distance":120,"./enums":121,"./frustum":122,"./intersect":124,"./line":125,"./obb":126,"./plane":127,"./ray":128,"./sphere":129,"./triangle":130}],124:[function(C$Tzt,C$Tzl,C$Tzh){"use strict";C$Tzh.__esModule=!0,C$Tzh.default=void 0;var C$Tzu,C$Tz_,C$Tzd=C$Tzn(C$Tzt(H[725])),C$Tze=C$Tzn(C$Tzt(H[1101])),C$Tzp=C$Tzt(H[818]),C$Tzf=C$Tzn(C$Tzt(H[1091])),C$Tzm=function(C$Tzt){if(C$Tzt&&C$Tzt.__esModule)return C$Tzt;if(null===C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt)return{default:C$Tzt};var C$Tze=C$Tzg();if(C$Tze&&C$Tze.has(C$Tzt))return C$Tze.get(C$Tzt);var C$Tzi,C$Tzn={},C$Tzr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C$Tzi in C$Tzt){var C$Tzs;Object.prototype.hasOwnProperty.call(C$Tzt,C$Tzi)&&((C$Tzs=C$Tzr?Object.getOwnPropertyDescriptor(C$Tzt,C$Tzi):null)&&(C$Tzs.get||C$Tzs.set)?Object.defineProperty(C$Tzn,C$Tzi,C$Tzs):C$Tzn[C$Tzi]=C$Tzt[C$Tzi]);}return C$Tzn.default=C$Tzt,C$Tze&&C$Tze.set(C$Tzt,C$Tzn),C$Tzn;}(C$Tzt(H[1098])),C$Tzi=C$Tzn(C$Tzt(H[1087])),C$Tzy=C$Tzn(C$Tzt(H[1092])),C$Tzt=C$Tzn(C$Tzt(H[1090]));function C$Tzg(){if(H[704]!=typeof WeakMap)return null;var C$Tzt=new WeakMap();return C$Tzg=function(){return C$Tzt;},C$Tzt;}function C$Tzn(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzv(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzp.Vec3.set(C$Tzt,C$Tze[C$Tzi*C$Tzn],C$Tze[C$Tzi*C$Tzn+1],C$Tze[C$Tzi*C$Tzn+2]);}C$Tzu=C$Tzt.default.create(),C$Tz_=1/0;function C$Tzx(C$Tzt,C$Tze){C$Tz_=1/0;for(var C$Tzi=C$Tze._subMeshes,C$Tzn=0;C$Tzn<C$Tzi.length;C$Tzn++)if(C$Tzi[C$Tzn]._primitiveType===C$Tzd.default.PT_TRIANGLES)for(var C$Tzr=C$Tze._subDatas[C$Tzn]||C$Tze._subDatas[0],C$Tzs=C$Tze._getAttrMeshData(C$Tzn,C$Tzd.default.ATTR_POSITION),C$Tzo=C$Tzr.getIData(Uint16Array),C$Tza=C$Tzr.vfm.element(C$Tzd.default.ATTR_POSITION).num,C$Tzc=0;C$Tzc<C$Tzo.length;C$Tzc+=3){C$Tzv(C$Tzu.a,C$Tzs,C$Tzo[C$Tzc],C$Tza),C$Tzv(C$Tzu.b,C$Tzs,C$Tzo[C$Tzc+1],C$Tza),C$Tzv(C$Tzu.c,C$Tzs,C$Tzo[C$Tzc+2],C$Tza);var C$Tzl=C$Tzxt(C$Tzt,C$Tzu);0<C$Tzl&&C$Tzl<C$Tz_&&(C$Tz_=C$Tzl);}return C$Tz_;}var C$Tzb,C$TzA,C$TzC,C$TzS,C$TzT,C$Tzo,C$Tzw,C$TzE,C$TzM;function C$TzI(C$Tzt,C$Tze){return C$Tzt.distance-C$Tze.distance;}function C$TzB(C$Tzt,C$Tze,C$Tzi){var C$Tzi=C$Tzi.m,C$Tzn=C$Tze.x,C$Tzr=C$Tze.y,C$Tze=C$Tze.z,C$Tzs=(C$Tzs=C$Tzi[3]*C$Tzn+C$Tzi[7]*C$Tzr+C$Tzi[11]*C$Tze)?1/C$Tzs:1;return C$Tzt.x=(C$Tzi[0]*C$Tzn+C$Tzi[4]*C$Tzr+C$Tzi[8]*C$Tze)*C$Tzs,C$Tzt.y=(C$Tzi[1]*C$Tzn+C$Tzi[5]*C$Tzr+C$Tzi[9]*C$Tze)*C$Tzs,C$Tzt.z=(C$Tzi[2]*C$Tzn+C$Tzi[6]*C$Tzr+C$Tzi[10]*C$Tze)*C$Tzs,C$Tzt;}function C$TzR(C$Tzt){return 0<C$Tzt&&C$Tzt<1/0;}C$Tzb=new C$Tze.default(function(){return{distance:0,node:null};},1),C$TzA=[],C$TzC=C$Tzf.default.create(),C$TzS=new C$Tzp.Vec3(),C$TzT=new C$Tzp.Vec3(),C$Tzo=new C$Tzy.default(),C$Tzw=cc.mat4(),C$TzE=cc.mat4(),C$TzM=new C$Tzp.Vec3();function C$TzP(C$Tzt,C$Tzn,C$Tzr,C$Tzs){return C$Tzb.reset(),C$TzA.length=0,function C$Tzt(C$Tze,C$Tzi){for(var C$Tzn=C$Tze.children,C$Tzr=C$Tzn.length-1;0<=C$Tzr;C$Tzr--)C$Tzt(C$Tzn[C$Tzr],C$Tzi);C$Tzi(C$Tze);}(C$Tzt=C$Tzt||cc.director.getScene(),function(C$Tzt){var C$Tze,C$Tzi;C$Tzs&&!C$Tzs(C$Tzt)||(C$Tzp.Mat4.invert(C$TzE,C$Tzt.getWorldMatrix(C$Tzw)),C$Tzp.Vec3.transformMat4(C$Tzo.o,C$Tzn.o,C$TzE),C$Tzp.Vec3.normalize(C$Tzo.d,C$TzB(C$Tzo.d,C$Tzn.d,C$TzE)),C$Tze=1/0,(C$Tzi=C$Tzt._renderComponent)instanceof cc.MeshRenderer?C$Tze=C$Tzbt(C$Tzo,C$Tzi._boundingBox):C$Tzt.width&&C$Tzt.height&&(C$Tzp.Vec3.set(C$TzS,-C$Tzt.width*C$Tzt.anchorX,-C$Tzt.height*C$Tzt.anchorY,C$Tzt.z),C$Tzp.Vec3.set(C$TzT,C$Tzt.width*(1-C$Tzt.anchorX),C$Tzt.height*(1-C$Tzt.anchorY),C$Tzt.z),C$Tzf.default.fromPoints(C$TzC,C$TzS,C$TzT),C$Tze=C$Tzbt(C$Tzo,C$TzC)),C$TzR(C$Tze)&&C$TzR(C$Tze=C$Tzr?C$Tzr(C$Tzo,C$Tzt,C$Tze):C$Tze)&&(C$Tzp.Vec3.scale(C$TzM,C$Tzo.d,C$Tze),C$TzB(C$TzM,C$TzM,C$Tzw),(C$Tzi=C$Tzb.add()).node=C$Tzt,C$Tzi.distance=C$Tzp.Vec3.mag(C$TzM),C$TzA.push(C$Tzi)));}),C$TzA.sort(C$TzI),C$TzA;}function C$TzD(C$Tzt,C$Tze){var C$Tzi=C$Tzp.Vec3.dot(C$Tzt.d,C$Tze.n);return Math.abs(C$Tzi)<Number.EPSILON?0:(C$Tzp.Vec3.multiplyScalar(C$TzG,C$Tze.n,C$Tze.d),(C$Tzt=C$Tzp.Vec3.dot(C$Tzp.Vec3.subtract(C$TzG,C$TzG,C$Tzt.o),C$Tze.n)/C$Tzi)<0?0:C$Tzt);}function C$TzL(C$Tzt,C$Tze){return C$Tzp.Vec3.subtract(C$Tzz,C$Tzt.e,C$Tzt.s),(C$Tzt=(C$Tze.d-C$Tzp.Vec3.dot(C$Tzt.s,C$Tze.n))/C$Tzp.Vec3.dot(C$Tzz,C$Tze.n))<0||1<C$Tzt?0:C$Tzt;}C$TzG=new C$Tzp.Vec3(0,0,0),C$Tzz=new C$Tzp.Vec3(0,0,0);function C$TzV(C$Tzt,C$Tze,C$Tzi){C$Tzp.Vec3.subtract(C$TzY,C$Tze.b,C$Tze.a),C$Tzp.Vec3.subtract(C$Tzq,C$Tze.c,C$Tze.a),C$Tzp.Vec3.subtract(C$TzJ,C$Tzt.s,C$Tzt.e),C$Tzp.Vec3.cross(C$TzK,C$TzY,C$Tzq);var C$Tzn=C$Tzp.Vec3.dot(C$TzJ,C$TzK);if(C$Tzn<=0)return 0;if(C$Tzp.Vec3.subtract(C$TzZ,C$Tzt.s,C$Tze.a),(C$Tzt=C$Tzp.Vec3.dot(C$TzZ,C$TzK))<0||C$Tzn<C$Tzt)return 0;if(C$Tzp.Vec3.cross(C$TzQ,C$TzJ,C$TzZ),(C$Tzt=C$Tzp.Vec3.dot(C$Tzq,C$TzQ))<0||C$Tzn<C$Tzt)return 0;var C$Tzr=-C$Tzp.Vec3.dot(C$TzY,C$TzQ);return C$Tzr<0||C$Tzn<C$Tzt+C$Tzr?0:(C$Tzi&&(C$Tzn=1-(C$Tzt*=C$Tzn=1/C$Tzn)-(C$Tzr*=C$Tzn),C$Tzp.Vec3.set(C$Tzi,C$Tze.a.x*C$Tzn+C$Tze.b.x*C$Tzt+C$Tze.c.x*C$Tzr,C$Tze.a.y*C$Tzn+C$Tze.b.y*C$Tzt+C$Tze.c.y*C$Tzr,C$Tze.a.z*C$Tzn+C$Tze.b.z*C$Tzt+C$Tze.c.z*C$Tzr)),1);}function C$TzO(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo){if(C$Tzp.Vec3.subtract(C$Tz$,C$Tze,C$Tzt),C$Tzp.Vec3.subtract(C$Tztt,C$Tzi,C$Tzt),C$Tzp.Vec3.subtract(C$Tzet,C$Tzn,C$Tzt),C$Tzp.Vec3.subtract(C$Tzit,C$Tzr,C$Tzt),C$Tzp.Vec3.cross(C$Tzrt,C$Tzit,C$Tz$),0<=(C$Tze=C$Tzp.Vec3.dot(C$Tztt,C$Tzrt))){var C$Tza=-C$Tzp.Vec3.dot(C$Tzet,C$Tzrt);if(C$Tza<0)return 0;var C$Tzc=C$Tzp.Vec3.dot(C$Tzp.Vec3.cross(C$Tzst,C$Tz$,C$Tzet),C$Tztt);if(C$Tzc<0)return 0;C$Tzo&&C$Tzp.Vec3.set(C$Tzo,C$Tzi.x*(C$Tza*=C$Tzl=1/(C$Tza+C$Tze+C$Tzc))+C$Tzn.x*(C$Tze*=C$Tzl)+C$Tzr.x*(C$Tzc*=C$Tzl),C$Tzi.y*C$Tza+C$Tzn.y*C$Tze+C$Tzr.y*C$Tzc,C$Tzi.z*C$Tza+C$Tzn.z*C$Tze+C$Tzr.z*C$Tzc);}else{C$Tzp.Vec3.subtract(C$Tznt,C$Tzs,C$Tzt);var C$Tzl=C$Tzp.Vec3.dot(C$Tznt,C$Tzrt);if(C$Tzl<0)return 0;C$Tza=C$Tzp.Vec3.dot(C$Tzp.Vec3.cross(C$Tzst,C$Tz$,C$Tztt),C$Tznt);if(C$Tza<0)return 0;C$Tzo&&(C$Tzn=1/(C$Tzl+(C$Tze=-C$Tze)+C$Tza),C$Tzp.Vec3.set(C$Tzo,C$Tzi.x*(C$Tzl*=C$Tzn)+C$Tzs.x*(C$Tze*=C$Tzn)+C$Tzr.x*(C$Tza*=C$Tzn),C$Tzi.y*C$Tzl+C$Tzs.y*C$Tze+C$Tzr.y*C$Tza,C$Tzi.z*C$Tzl+C$Tzs.z*C$Tze+C$Tzr.z*C$Tza));}return 1;}function C$TzF(C$Tzt,C$Tze){var C$Tzi=C$Tze.radius,C$Tze=C$Tze.center,C$Tzn=C$Tzt.o,C$Tzt=C$Tzt.d,C$Tzi=C$Tzi*C$Tzi,C$Tze=(C$Tzp.Vec3.subtract(C$Tzot,C$Tze,C$Tzn),C$Tzot.lengthSqr()),C$Tzn=C$Tzp.Vec3.dot(C$Tzot,C$Tzt);return(C$Tzt=C$Tzi-(C$Tze-C$Tzn*C$Tzn))<0?0:(C$Tzt=Math.sqrt(C$Tzt),(C$Tze=C$Tze<C$Tzi?C$Tzn+C$Tzt:C$Tzn-C$Tzt)<0?0:C$Tze);}function C$TzN(C$Tzt,C$Tze){C$Tzr[0]=C$Tze.halfExtents.x,C$Tzr[1]=C$Tze.halfExtents.y,C$Tzr[2]=C$Tze.halfExtents.z,C$Tzlt=C$Tze.center,C$Tzht=C$Tzt.o,C$Tzut=C$Tzt.d,C$Tzt=C$Tze.orientation.m,C$Tzp.Vec3.set(C$Tz_t,C$Tzt[0],C$Tzt[1],C$Tzt[2]),C$Tzp.Vec3.set(C$Tzdt,C$Tzt[3],C$Tzt[4],C$Tzt[5]),C$Tzp.Vec3.set(C$Tzft,C$Tzt[6],C$Tzt[7],C$Tzt[8]),C$Tzp.Vec3.subtract(C$Tzpt,C$Tzlt,C$Tzht),C$Tzs[0]=C$Tzp.Vec3.dot(C$Tz_t,C$Tzut),C$Tzs[1]=C$Tzp.Vec3.dot(C$Tzdt,C$Tzut),C$Tzs[2]=C$Tzp.Vec3.dot(C$Tzft,C$Tzut),C$Tza[0]=C$Tzp.Vec3.dot(C$Tz_t,C$Tzpt),C$Tza[1]=C$Tzp.Vec3.dot(C$Tzdt,C$Tzpt),C$Tza[2]=C$Tzp.Vec3.dot(C$Tzft,C$Tzpt);for(var C$Tzi=0;C$Tzi<3;++C$Tzi){if(0===C$Tzs[C$Tzi]){if(0<-C$Tza[C$Tzi]-C$Tzr[C$Tzi]||-C$Tza[C$Tzi]+C$Tzr[C$Tzi]<0)return 0;C$Tzs[C$Tzi]=1e-7;}C$Tzc[2*C$Tzi+0]=(C$Tza[C$Tzi]+C$Tzr[C$Tzi])/C$Tzs[C$Tzi],C$Tzc[2*C$Tzi+1]=(C$Tza[C$Tzi]-C$Tzr[C$Tzi])/C$Tzs[C$Tzi];}return C$Tze=Math.max(Math.max(Math.min(C$Tzc[0],C$Tzc[1]),Math.min(C$Tzc[2],C$Tzc[3])),Math.min(C$Tzc[4],C$Tzc[5])),(C$Tzt=Math.min(Math.min(Math.max(C$Tzc[0],C$Tzc[1]),Math.max(C$Tzc[2],C$Tzc[3])),Math.max(C$Tzc[4],C$Tzc[5])))<0||C$Tzt<C$Tze||C$Tze<0?0:C$Tze;}function C$Tzk(C$Tzt,C$Tze){return C$Tzp.Vec3.subtract(C$Tzmt,C$Tzt.center,C$Tzt.halfExtents),C$Tzp.Vec3.add(C$Tzyt,C$Tzt.center,C$Tzt.halfExtents),C$Tzp.Vec3.subtract(C$Tzgt,C$Tze.center,C$Tze.halfExtents),C$Tzp.Vec3.add(C$Tzvt,C$Tze.center,C$Tze.halfExtents),C$Tzmt.x<=C$Tzvt.x&&C$Tzyt.x>=C$Tzgt.x&&C$Tzmt.y<=C$Tzvt.y&&C$Tzyt.y>=C$Tzgt.y&&C$Tzmt.z<=C$Tzvt.z&&C$Tzyt.z>=C$Tzgt.z;}C$TzU=new C$Tzp.Vec3(0,0,0),C$TzW=new C$Tzp.Vec3(0,0,0),C$TzH=new C$Tzp.Vec3(0,0,0),C$Tzj=new C$Tzp.Vec3(0,0,0),C$TzX=new C$Tzp.Vec3(0,0,0);var C$TzG,C$Tzz,C$TzU,C$TzW,C$TzH,C$Tzj,C$TzX,C$TzY,C$Tzq,C$TzJ,C$TzZ,C$TzK,C$TzQ,C$Tz$,C$Tztt,C$Tzet,C$Tzit,C$Tznt,C$Tzrt,C$Tzst,C$Tzot,C$Tzat,C$Tzct,C$Tzlt,C$Tzht,C$Tzut,C$Tz_t,C$Tzdt,C$Tzft,C$Tzpt,C$Tzr,C$Tzs,C$Tza,C$Tzc,C$Tzmt,C$Tzyt,C$Tzgt,C$Tzvt,C$Tzxt=function(C$Tzt,C$Tze,C$Tzi){C$Tzp.Vec3.subtract(C$TzU,C$Tze.b,C$Tze.a),C$Tzp.Vec3.subtract(C$TzW,C$Tze.c,C$Tze.a),C$Tzp.Vec3.cross(C$TzH,C$Tzt.d,C$TzW);var C$Tzn=C$Tzp.Vec3.dot(C$TzU,C$TzH);if(C$Tzn<Number.EPSILON&&(!C$Tzi||C$Tzn>-Number.EPSILON))return 0;C$Tzi=1/C$Tzn,C$Tzp.Vec3.subtract(C$Tzj,C$Tzt.o,C$Tze.a),C$Tzn=C$Tzp.Vec3.dot(C$Tzj,C$TzH)*C$Tzi;if(C$Tzn<0||1<C$Tzn)return 0;C$Tzp.Vec3.cross(C$TzX,C$Tzj,C$TzU);C$Tze=C$Tzp.Vec3.dot(C$Tzt.d,C$TzX)*C$Tzi;if(C$Tze<0||1<C$Tzn+C$Tze)return 0;C$Tzt=C$Tzp.Vec3.dot(C$TzW,C$TzX)*C$Tzi;return C$Tzt<0?0:C$Tzt;},C$Tzt=C$Tzxt,C$Tzbt=(C$TzY=new C$Tzp.Vec3(0,0,0),C$Tzq=new C$Tzp.Vec3(0,0,0),C$TzJ=new C$Tzp.Vec3(0,0,0),C$TzZ=new C$Tzp.Vec3(0,0,0),C$TzK=new C$Tzp.Vec3(0,0,0),C$TzQ=new C$Tzp.Vec3(0,0,0),C$Tz$=new C$Tzp.Vec3(0,0,0),C$Tztt=new C$Tzp.Vec3(0,0,0),C$Tzet=new C$Tzp.Vec3(0,0,0),C$Tzit=new C$Tzp.Vec3(0,0,0),C$Tznt=new C$Tzp.Vec3(0,0,0),C$Tzrt=new C$Tzp.Vec3(0,0,0),C$Tzst=new C$Tzp.Vec3(0,0,0),C$Tzot=new C$Tzp.Vec3(0,0,0),C$Tzat=new C$Tzp.Vec3(),C$Tzct=new C$Tzp.Vec3(),function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.o,C$Tzt=C$Tzt.d,C$Tzn=1/C$Tzt.x,C$Tzr=1/C$Tzt.y,C$Tzt=1/C$Tzt.z,C$Tze=(C$Tzp.Vec3.subtract(C$Tzat,C$Tze.center,C$Tze.halfExtents),C$Tzp.Vec3.add(C$Tzct,C$Tze.center,C$Tze.halfExtents),(C$Tzat.x-C$Tzi.x)*C$Tzn),C$Tzn=(C$Tzct.x-C$Tzi.x)*C$Tzn,C$Tzs=(C$Tzat.y-C$Tzi.y)*C$Tzr,C$Tzr=(C$Tzct.y-C$Tzi.y)*C$Tzr,C$Tzo=(C$Tzat.z-C$Tzi.z)*C$Tzt,C$Tzi=(C$Tzct.z-C$Tzi.z)*C$Tzt,C$Tzt=Math.max(Math.max(Math.min(C$Tze,C$Tzn),Math.min(C$Tzs,C$Tzr)),Math.min(C$Tzo,C$Tzi)),C$Tze=Math.min(Math.min(Math.max(C$Tze,C$Tzn),Math.max(C$Tzs,C$Tzr)),Math.max(C$Tzo,C$Tzi));return C$Tze<0||C$Tze<C$Tzt?0:C$Tzt;}),C$Tze=C$Tzbt;new C$Tzp.Vec3(),new C$Tzp.Vec3(),new C$Tzp.Vec3(),C$Tz_t=new C$Tzp.Vec3(),C$Tzdt=new C$Tzp.Vec3(),C$Tzft=new C$Tzp.Vec3(),C$Tzpt=new C$Tzp.Vec3(),C$Tzr=[],C$Tzs=[],C$Tza=[],C$Tzc=[],C$Tzmt=new C$Tzp.Vec3(),C$Tzyt=new C$Tzp.Vec3(),C$Tzgt=new C$Tzp.Vec3(),C$Tzvt=new C$Tzp.Vec3();function C$TzAt(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){C$Tzp.Vec3.set(C$Tzs[0],C$Tzt.x+C$Tzi.x*C$Tze.x+C$Tzn.x*C$Tze.y+C$Tzr.x*C$Tze.z,C$Tzt.y+C$Tzi.y*C$Tze.x+C$Tzn.y*C$Tze.y+C$Tzr.y*C$Tze.z,C$Tzt.z+C$Tzi.z*C$Tze.x+C$Tzn.z*C$Tze.y+C$Tzr.z*C$Tze.z),C$Tzp.Vec3.set(C$Tzs[1],C$Tzt.x-C$Tzi.x*C$Tze.x+C$Tzn.x*C$Tze.y+C$Tzr.x*C$Tze.z,C$Tzt.y-C$Tzi.y*C$Tze.x+C$Tzn.y*C$Tze.y+C$Tzr.y*C$Tze.z,C$Tzt.z-C$Tzi.z*C$Tze.x+C$Tzn.z*C$Tze.y+C$Tzr.z*C$Tze.z),C$Tzp.Vec3.set(C$Tzs[2],C$Tzt.x+C$Tzi.x*C$Tze.x-C$Tzn.x*C$Tze.y+C$Tzr.x*C$Tze.z,C$Tzt.y+C$Tzi.y*C$Tze.x-C$Tzn.y*C$Tze.y+C$Tzr.y*C$Tze.z,C$Tzt.z+C$Tzi.z*C$Tze.x-C$Tzn.z*C$Tze.y+C$Tzr.z*C$Tze.z),C$Tzp.Vec3.set(C$Tzs[3],C$Tzt.x+C$Tzi.x*C$Tze.x+C$Tzn.x*C$Tze.y-C$Tzr.x*C$Tze.z,C$Tzt.y+C$Tzi.y*C$Tze.x+C$Tzn.y*C$Tze.y-C$Tzr.y*C$Tze.z,C$Tzt.z+C$Tzi.z*C$Tze.x+C$Tzn.z*C$Tze.y-C$Tzr.z*C$Tze.z),C$Tzp.Vec3.set(C$Tzs[4],C$Tzt.x-C$Tzi.x*C$Tze.x-C$Tzn.x*C$Tze.y-C$Tzr.x*C$Tze.z,C$Tzt.y-C$Tzi.y*C$Tze.x-C$Tzn.y*C$Tze.y-C$Tzr.y*C$Tze.z,C$Tzt.z-C$Tzi.z*C$Tze.x-C$Tzn.z*C$Tze.y-C$Tzr.z*C$Tze.z),C$Tzp.Vec3.set(C$Tzs[5],C$Tzt.x+C$Tzi.x*C$Tze.x-C$Tzn.x*C$Tze.y-C$Tzr.x*C$Tze.z,C$Tzt.y+C$Tzi.y*C$Tze.x-C$Tzn.y*C$Tze.y-C$Tzr.y*C$Tze.z,C$Tzt.z+C$Tzi.z*C$Tze.x-C$Tzn.z*C$Tze.y-C$Tzr.z*C$Tze.z),C$Tzp.Vec3.set(C$Tzs[6],C$Tzt.x-C$Tzi.x*C$Tze.x+C$Tzn.x*C$Tze.y-C$Tzr.x*C$Tze.z,C$Tzt.y-C$Tzi.y*C$Tze.x+C$Tzn.y*C$Tze.y-C$Tzr.y*C$Tze.z,C$Tzt.z-C$Tzi.z*C$Tze.x+C$Tzn.z*C$Tze.y-C$Tzr.z*C$Tze.z),C$Tzp.Vec3.set(C$Tzs[7],C$Tzt.x-C$Tzi.x*C$Tze.x-C$Tzn.x*C$Tze.y+C$Tzr.x*C$Tze.z,C$Tzt.y-C$Tzi.y*C$Tze.x-C$Tzn.y*C$Tze.y+C$Tzr.y*C$Tze.z,C$Tzt.z-C$Tzi.z*C$Tze.x-C$Tzn.z*C$Tze.y+C$Tzr.z*C$Tze.z);}function C$TzCt(C$Tzt,C$Tze){for(var C$Tzi=C$Tzs=C$Tzp.Vec3.dot(C$Tze,C$Tzt[0]),C$Tzn=1;C$Tzn<8;++C$Tzn)var C$Tzr=C$Tzp.Vec3.dot(C$Tze,C$Tzt[C$Tzn]),C$Tzs=C$Tzr<C$Tzs?C$Tzr:C$Tzs,C$Tzi=C$Tzi<C$Tzr?C$Tzr:C$Tzi;return[C$Tzs,C$Tzi];}function C$TzSt(C$Tzt,C$Tze){var C$Tzi=C$Tzt.halfExtents.x*Math.abs(C$Tze.n.x)+C$Tzt.halfExtents.y*Math.abs(C$Tze.n.y)+C$Tzt.halfExtents.z*Math.abs(C$Tze.n.z);return(C$Tzt=C$Tzp.Vec3.dot(C$Tze.n,C$Tzt.center))+C$Tzi<C$Tze.d?-1:C$Tzt-C$Tzi>C$Tze.d?0:1;}function C$TzTt(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.planes.length;C$Tzi++)if(-1===C$TzSt(C$Tzt,C$Tze.planes[C$Tzi]))return 0;return 1;}function C$Tzwt(C$Tzt,C$Tze){return C$Tzp.Vec3.subtract(C$TzEt,C$Tze,C$Tzt.center),C$Tzp.Vec3.transformMat3(C$TzEt,C$TzEt,C$Tzp.Mat3.transpose(C$TzMt,C$Tzt.orientation)),C$Tze=C$TzEt,C$Tzt=C$Tzt.halfExtents,Math.abs(C$Tze.x)<C$Tzt.x&&Math.abs(C$Tze.y)<C$Tzt.y&&Math.abs(C$Tze.z)<C$Tzt.z;}var C$TzEt,C$TzMt,C$Tzy=function(){for(var C$Tzc=[],C$Tzt=0;C$Tzt<15;C$Tzt++)C$Tzc[C$Tzt]=new C$Tzp.Vec3(0,0,0);for(var C$Tzl=[],C$Tzh=[],C$Tze=0;C$Tze<8;C$Tze++)C$Tzl[C$Tze]=new C$Tzp.Vec3(0,0,0),C$Tzh[C$Tze]=new C$Tzp.Vec3(0,0,0);var C$Tzu=new C$Tzp.Vec3(),C$Tz_=new C$Tzp.Vec3();return function(C$Tzt,C$Tze){var C$Tzi=C$Tze.orientation.m;C$Tzp.Vec3.set(C$Tzc[0],1,0,0),C$Tzp.Vec3.set(C$Tzc[1],0,1,0),C$Tzp.Vec3.set(C$Tzc[2],0,0,1),C$Tzp.Vec3.set(C$Tzc[3],C$Tzi[0],C$Tzi[1],C$Tzi[2]),C$Tzp.Vec3.set(C$Tzc[4],C$Tzi[3],C$Tzi[4],C$Tzi[5]),C$Tzp.Vec3.set(C$Tzc[5],C$Tzi[6],C$Tzi[7],C$Tzi[8]);for(var C$Tzn,C$Tzr=0;C$Tzr<3;++C$Tzr)C$Tzp.Vec3.cross(C$Tzc[6+3*C$Tzr],C$Tzc[C$Tzr],C$Tzc[0]),C$Tzp.Vec3.cross(C$Tzc[6+3*C$Tzr+1],C$Tzc[C$Tzr],C$Tzc[1]),C$Tzp.Vec3.cross(C$Tzc[6+3*C$Tzr+1],C$Tzc[C$Tzr],C$Tzc[2]);C$Tzp.Vec3.subtract(C$Tzu,C$Tzt.center,C$Tzt.halfExtents),C$Tzp.Vec3.add(C$Tz_,C$Tzt.center,C$Tzt.halfExtents),C$Tzi=C$Tzu,C$Tzt=C$Tz_,C$Tzn=C$Tzl,C$Tzp.Vec3.set(C$Tzn[0],C$Tzi.x,C$Tzt.y,C$Tzt.z),C$Tzp.Vec3.set(C$Tzn[1],C$Tzi.x,C$Tzt.y,C$Tzi.z),C$Tzp.Vec3.set(C$Tzn[2],C$Tzi.x,C$Tzi.y,C$Tzt.z),C$Tzp.Vec3.set(C$Tzn[3],C$Tzi.x,C$Tzi.y,C$Tzi.z),C$Tzp.Vec3.set(C$Tzn[4],C$Tzt.x,C$Tzt.y,C$Tzt.z),C$Tzp.Vec3.set(C$Tzn[5],C$Tzt.x,C$Tzt.y,C$Tzi.z),C$Tzp.Vec3.set(C$Tzn[6],C$Tzt.x,C$Tzi.y,C$Tzt.z),C$Tzp.Vec3.set(C$Tzn[7],C$Tzt.x,C$Tzi.y,C$Tzi.z),C$TzAt(C$Tze.center,C$Tze.halfExtents,C$Tzc[3],C$Tzc[4],C$Tzc[5],C$Tzh);for(var C$Tzs=0;C$Tzs<15;++C$Tzs){var C$Tzo=C$TzCt(C$Tzl,C$Tzc[C$Tzs]),C$Tza=C$TzCt(C$Tzh,C$Tzc[C$Tzs]);if(C$Tza[0]>C$Tzo[1]||C$Tzo[0]>C$Tza[1])return 0;}return 1;};}(),C$TzIt=function(){for(var C$Tzl=[],C$Tzh=0,C$Tzu=0,C$Tzt=0;C$Tzt<C$Tzl.length;C$Tzt++)C$Tzl[C$Tzt]=new C$Tzp.Vec3(0,0,0);return function(C$Tzt,C$Tze){for(var C$Tzi,C$Tzn=!1,C$Tzr=0;C$Tzr<C$Tze.planes.length;C$Tzr++){if(-1===(C$Tzi=C$TzSt(C$Tzt,C$Tze.planes[C$Tzr])))return 0;1===C$Tzi&&(C$Tzn=!0);}if(!C$Tzn)return 1;for(var C$Tzs=0;C$Tzs<C$Tze.vertices.length;C$Tzs++)C$Tzp.Vec3.subtract(C$Tzl[C$Tzs],C$Tze.vertices[C$Tzs],C$Tzt.center);for(var C$Tzo=C$Tzu=C$Tzh=0;C$Tzo<C$Tze.vertices.length;C$Tzo++)C$Tzl[C$Tzo].x>C$Tzt.halfExtents.x?C$Tzh++:C$Tzl[C$Tzo].x<-C$Tzt.halfExtents.x&&C$Tzu++;if(C$Tzh===C$Tze.vertices.length||C$Tzu===C$Tze.vertices.length)return 0;for(var C$Tza=C$Tzu=C$Tzh=0;C$Tza<C$Tze.vertices.length;C$Tza++)C$Tzl[C$Tza].y>C$Tzt.halfExtents.y?C$Tzh++:C$Tzl[C$Tza].y<-C$Tzt.halfExtents.y&&C$Tzu++;if(C$Tzh===C$Tze.vertices.length||C$Tzu===C$Tze.vertices.length)return 0;for(var C$Tzc=C$Tzu=C$Tzh=0;C$Tzc<C$Tze.vertices.length;C$Tzc++)C$Tzl[C$Tzc].z>C$Tzt.halfExtents.z?C$Tzh++:C$Tzl[C$Tzc].z<-C$Tzt.halfExtents.z&&C$Tzu++;return C$Tzh===C$Tze.vertices.length||C$Tzu===C$Tze.vertices.length?0:1;};}(),C$TzBt=(C$TzEt=new C$Tzp.Vec3(0,0,0),C$TzMt=new C$Tzp.Mat3(),function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.orientation.m,C$Tzi=C$Tzt.halfExtents.x*C$TzRt(C$Tze.n,C$Tzi[0],C$Tzi[1],C$Tzi[2])+C$Tzt.halfExtents.y*C$TzRt(C$Tze.n,C$Tzi[3],C$Tzi[4],C$Tzi[5])+C$Tzt.halfExtents.z*C$TzRt(C$Tze.n,C$Tzi[6],C$Tzi[7],C$Tzi[8]),C$Tzt=C$Tzp.Vec3.dot(C$Tze.n,C$Tzt.center);return C$Tzt+C$Tzi<C$Tze.d?-1:C$Tzt-C$Tzi>C$Tze.d?0:1;});function C$TzRt(C$Tzt,C$Tze,C$Tzi,C$Tzn){return Math.abs(C$Tzt.x*C$Tze+C$Tzt.y*C$Tzi+C$Tzt.z*C$Tzn);}function C$TzPt(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.planes.length;C$Tzi++)if(-1===C$TzBt(C$Tzt,C$Tze.planes[C$Tzi]))return 0;return 1;}function C$TzDt(C$Tzt,C$Tze){var C$Tzi=C$Tzp.Vec3.dot(C$Tze.n,C$Tzt.center),C$Tzt=C$Tzt.radius*C$Tze.n.length();return C$Tzi+C$Tzt<C$Tze.d?-1:C$Tzi-C$Tzt>C$Tze.d?0:1;}function C$TzLt(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.planes.length;C$Tzi++)if(-1===C$TzDt(C$Tzt,C$Tze.planes[C$Tzi]))return 0;return 1;}function C$TzVt(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<6;C$Tzi++){var C$Tzn=C$Tze.planes[C$Tzi],C$Tzr=C$Tzt.radius,C$Tzs=C$Tzt.center,C$Tzo=C$Tzn.n,C$Tzn=C$Tzn.d,C$Tza=C$Tzp.Vec3.dot(C$Tzo,C$Tzs);if(C$Tza+C$Tzr<C$Tzn)return 0;if(!(C$Tzn<C$Tza-C$Tzr)){C$Tzp.Vec3.add(C$Tzkt,C$Tzs,C$Tzp.Vec3.multiplyScalar(C$Tzkt,C$Tzo,C$Tzr));for(var C$Tzc=0;C$Tzc<6;C$Tzc++)if(C$Tzc!==C$Tzi&&C$Tzc!==C$Tzi+C$TzGt[C$Tzi]){var C$Tzl=C$Tze.planes[C$Tzc];if(C$Tzp.Vec3.dot(C$Tzl.n,C$Tzkt)<C$Tzl.d)return 0;}}}return 1;}function C$TzOt(C$Tzt,C$Tze){var C$Tzi=C$Tzt.radius+C$Tze.radius;return C$Tzp.Vec3.squaredDistance(C$Tzt.center,C$Tze.center)<C$Tzi*C$Tzi;}function C$TzFt(C$Tzt,C$Tze){return C$Tzm.pt_point_aabb(C$Tzzt,C$Tzt.center,C$Tze),C$Tzp.Vec3.squaredDistance(C$Tzt.center,C$Tzzt)<C$Tzt.radius*C$Tzt.radius;}function C$TzNt(C$Tzt,C$Tze){return C$Tzm.pt_point_obb(C$TzUt,C$Tzt.center,C$Tze),C$Tzp.Vec3.squaredDistance(C$Tzt.center,C$TzUt)<C$Tzt.radius*C$Tzt.radius;}var C$Tzkt,C$TzGt,C$Tzzt,C$TzUt,C$TzWt=function(){for(var C$Tzh=[],C$Tzu=0,C$Tz_=0,C$Tzd=0,C$Tzt=0;C$Tzt<C$Tzh.length;C$Tzt++)C$Tzh[C$Tzt]=new C$Tzp.Vec3(0,0,0);function C$Tzf(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzt.x*C$Tze+C$Tzt.y*C$Tzi+C$Tzt.z*C$Tzn;}return function(C$Tzt,C$Tze){for(var C$Tzi,C$Tzn=!1,C$Tzr=0;C$Tzr<C$Tze.planes.length;C$Tzr++){if(-1===(C$Tzi=C$TzBt(C$Tzt,C$Tze.planes[C$Tzr])))return 0;1===C$Tzi&&(C$Tzn=!0);}if(!C$Tzn)return 1;for(var C$Tzs=0;C$Tzs<C$Tze.vertices.length;C$Tzs++)C$Tzp.Vec3.subtract(C$Tzh[C$Tzs],C$Tze.vertices[C$Tzs],C$Tzt.center);C$Tzd=C$Tz_=0;for(var C$Tzo=C$Tzt.orientation.m,C$Tza=0;C$Tza<C$Tze.vertices.length;C$Tza++)(C$Tzu=C$Tzf(C$Tzh[C$Tza],C$Tzo[0],C$Tzo[1],C$Tzo[2]))>C$Tzt.halfExtents.x?C$Tz_++:C$Tzu<-C$Tzt.halfExtents.x&&C$Tzd++;if(C$Tz_===C$Tze.vertices.length||C$Tzd===C$Tze.vertices.length)return 0;for(var C$Tzc=C$Tzd=C$Tz_=0;C$Tzc<C$Tze.vertices.length;C$Tzc++)(C$Tzu=C$Tzf(C$Tzh[C$Tzc],C$Tzo[3],C$Tzo[4],C$Tzo[5]))>C$Tzt.halfExtents.y?C$Tz_++:C$Tzu<-C$Tzt.halfExtents.y&&C$Tzd++;if(C$Tz_===C$Tze.vertices.length||C$Tzd===C$Tze.vertices.length)return 0;for(var C$Tzl=C$Tzd=C$Tz_=0;C$Tzl<C$Tze.vertices.length;C$Tzl++)(C$Tzu=C$Tzf(C$Tzh[C$Tzl],C$Tzo[6],C$Tzo[7],C$Tzo[8]))>C$Tzt.halfExtents.z?C$Tz_++:C$Tzu<-C$Tzt.halfExtents.z&&C$Tzd++;return C$Tz_===C$Tze.vertices.length||C$Tzd===C$Tze.vertices.length?0:1;};}(),C$TzHt=function(){for(var C$Tzc=[],C$Tzt=0;C$Tzt<15;C$Tzt++)C$Tzc[C$Tzt]=new C$Tzp.Vec3(0,0,0);for(var C$Tzl=[],C$Tzh=[],C$Tze=0;C$Tze<8;C$Tze++)C$Tzl[C$Tze]=new C$Tzp.Vec3(0,0,0),C$Tzh[C$Tze]=new C$Tzp.Vec3(0,0,0);return function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.orientation.m,C$Tzn=C$Tze.orientation.m;C$Tzp.Vec3.set(C$Tzc[0],C$Tzi[0],C$Tzi[1],C$Tzi[2]),C$Tzp.Vec3.set(C$Tzc[1],C$Tzi[3],C$Tzi[4],C$Tzi[5]),C$Tzp.Vec3.set(C$Tzc[2],C$Tzi[6],C$Tzi[7],C$Tzi[8]),C$Tzp.Vec3.set(C$Tzc[3],C$Tzn[0],C$Tzn[1],C$Tzn[2]),C$Tzp.Vec3.set(C$Tzc[4],C$Tzn[3],C$Tzn[4],C$Tzn[5]),C$Tzp.Vec3.set(C$Tzc[5],C$Tzn[6],C$Tzn[7],C$Tzn[8]);for(var C$Tzr=0;C$Tzr<3;++C$Tzr)C$Tzp.Vec3.cross(C$Tzc[6+3*C$Tzr],C$Tzc[C$Tzr],C$Tzc[0]),C$Tzp.Vec3.cross(C$Tzc[6+3*C$Tzr+1],C$Tzc[C$Tzr],C$Tzc[1]),C$Tzp.Vec3.cross(C$Tzc[6+3*C$Tzr+1],C$Tzc[C$Tzr],C$Tzc[2]);C$TzAt(C$Tzt.center,C$Tzt.halfExtents,C$Tzc[0],C$Tzc[1],C$Tzc[2],C$Tzl),C$TzAt(C$Tze.center,C$Tze.halfExtents,C$Tzc[3],C$Tzc[4],C$Tzc[5],C$Tzh);for(var C$Tzs=0;C$Tzs<15;++C$Tzs){var C$Tzo=C$TzCt(C$Tzl,C$Tzc[C$Tzs]),C$Tza=C$TzCt(C$Tzh,C$Tzc[C$Tzs]);if(C$Tza[0]>C$Tzo[1]||C$Tzo[0]>C$Tza[1])return 0;}return 1;};}(),C$Tze=(C$Tzkt=new C$Tzp.Vec3(0,0,0),C$TzGt=[1,-1,1,-1,1,-1],C$Tzzt=new C$Tzp.Vec3(),C$TzUt=new C$Tzp.Vec3(),{rayAabb:C$Tze,rayMesh:C$Tzx,raycast:C$TzP,rayTriangle:C$Tzt,ray_sphere:C$TzF,ray_aabb:C$Tzbt,ray_obb:C$TzN,ray_plane:C$TzD,ray_triangle:C$Tzxt,line_plane:C$TzL,line_triangle:C$TzV,line_quad:C$TzO,sphere_sphere:C$TzOt,sphere_aabb:C$TzFt,sphere_obb:C$TzNt,sphere_plane:C$TzDt,sphere_frustum:C$TzLt,sphere_frustum_accurate:C$TzVt,aabb_aabb:C$Tzk,aabb_obb:C$Tzy,aabb_plane:C$TzSt,aabb_frustum:C$TzTt,aabb_frustum_accurate:C$TzIt,obb_obb:C$TzHt,obb_plane:C$TzBt,obb_frustum:C$TzPt,obb_frustum_accurate:C$TzWt,obb_point:C$Tzwt,resolve:function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=null);var C$Tzn=C$Tzt._type,C$Tzr=C$Tze._type,C$Tzs=this[C$Tzn|C$Tzr];return C$Tzn<C$Tzr?C$Tzs(C$Tzt,C$Tze,C$Tzi):C$Tzs(C$Tze,C$Tzt,C$Tzi);}});C$Tze[C$Tzi.default.SHAPE_RAY|C$Tzi.default.SHAPE_SPHERE]=C$TzF,C$Tze[C$Tzi.default.SHAPE_RAY|C$Tzi.default.SHAPE_AABB]=C$Tzbt,C$Tze[C$Tzi.default.SHAPE_RAY|C$Tzi.default.SHAPE_OBB]=C$TzN,C$Tze[C$Tzi.default.SHAPE_RAY|C$Tzi.default.SHAPE_PLANE]=C$TzD,C$Tze[C$Tzi.default.SHAPE_RAY|C$Tzi.default.SHAPE_TRIANGLE]=C$Tzxt,C$Tze[C$Tzi.default.SHAPE_LINE|C$Tzi.default.SHAPE_PLANE]=C$TzL,C$Tze[C$Tzi.default.SHAPE_LINE|C$Tzi.default.SHAPE_TRIANGLE]=C$TzV,C$Tze[C$Tzi.default.SHAPE_SPHERE]=C$TzOt,C$Tze[C$Tzi.default.SHAPE_SPHERE|C$Tzi.default.SHAPE_AABB]=C$TzFt,C$Tze[C$Tzi.default.SHAPE_SPHERE|C$Tzi.default.SHAPE_OBB]=C$TzNt,C$Tze[C$Tzi.default.SHAPE_SPHERE|C$Tzi.default.SHAPE_PLANE]=C$TzDt,C$Tze[C$Tzi.default.SHAPE_SPHERE|C$Tzi.default.SHAPE_FRUSTUM]=C$TzLt,C$Tze[C$Tzi.default.SHAPE_SPHERE|C$Tzi.default.SHAPE_FRUSTUM_ACCURATE]=C$TzVt,C$Tze[C$Tzi.default.SHAPE_AABB]=C$Tzk,C$Tze[C$Tzi.default.SHAPE_AABB|C$Tzi.default.SHAPE_OBB]=C$Tzy,C$Tze[C$Tzi.default.SHAPE_AABB|C$Tzi.default.SHAPE_PLANE]=C$TzSt,C$Tze[C$Tzi.default.SHAPE_AABB|C$Tzi.default.SHAPE_FRUSTUM]=C$TzTt,C$Tze[C$Tzi.default.SHAPE_AABB|C$Tzi.default.SHAPE_FRUSTUM_ACCURATE]=C$TzIt,C$Tze[C$Tzi.default.SHAPE_OBB]=C$TzHt,C$Tze[C$Tzi.default.SHAPE_OBB|C$Tzi.default.SHAPE_PLANE]=C$TzBt,C$Tze[C$Tzi.default.SHAPE_OBB|C$Tzi.default.SHAPE_FRUSTUM]=C$TzPt,C$Tze[C$Tzi.default.SHAPE_OBB|C$Tzi.default.SHAPE_FRUSTUM_ACCURATE]=C$TzWt,C$Tzh.default=C$Tze,C$Tzl.exports=C$Tzh.default;},{"../../renderer/gfx":312,"../../renderer/memop/recycle-pool":327,"../value-types":279,"./aabb":119,"./distance":120,"./enums":121,"./ray":128,"./triangle":130}],125:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzo=C$Tzt(H[818]),C$Tza=(C$Tzt=C$Tzt(H[1087]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzc(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){void 0===C$Tzt&&(C$Tzt=0),void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=0),void 0===C$Tzn&&(C$Tzn=0),void 0===C$Tzr&&(C$Tzr=0),void 0===C$Tzs&&(C$Tzs=-1),this.s=void 0,this.e=void 0,this._type=void 0,this._type=C$Tza.default.SHAPE_LINE,this.s=new C$Tzo.Vec3(C$Tzt,C$Tze,C$Tzi),this.e=new C$Tzo.Vec3(C$Tzn,C$Tzr,C$Tzs);}C$Tzc.create=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){return new C$Tzc(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs);},C$Tzc.clone=function(C$Tzt){return new C$Tzc(C$Tzt.s.x,C$Tzt.s.y,C$Tzt.s.z,C$Tzt.e.x,C$Tzt.e.y,C$Tzt.e.z);},C$Tzc.copy=function(C$Tzt,C$Tze){return C$Tzo.Vec3.copy(C$Tzt.s,C$Tze.s),C$Tzo.Vec3.copy(C$Tzt.e,C$Tze.e),C$Tzt;},C$Tzc.fromPoints=function(C$Tzt,C$Tze,C$Tzi){return C$Tzo.Vec3.copy(C$Tzt.s,C$Tze),C$Tzo.Vec3.copy(C$Tzt.e,C$Tzi),C$Tzt;},C$Tzc.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo){return C$Tzt.s.x=C$Tze,C$Tzt.s.y=C$Tzi,C$Tzt.s.z=C$Tzn,C$Tzt.e.x=C$Tzr,C$Tzt.e.y=C$Tzs,C$Tzt.e.z=C$Tzo,C$Tzt;},C$Tzc.len=function(C$Tzt){return C$Tzo.Vec3.distance(C$Tzt.s,C$Tzt.e);},C$Tzc.prototype.length=function(){return C$Tzo.Vec3.distance(this.s,this.e);},C$Tzi.default=C$Tzc,C$Tze.exports=C$Tzi.default;},{"../value-types":279,"./enums":121}],126:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzm=C$Tzt(H[818]),C$Tzy=(C$Tzt=C$Tzt(H[1087]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzn(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}var C$Tzr,C$Tzs,C$Tzo=new C$Tzm.Vec3(),C$Tzc=new C$Tzm.Vec3(),C$Tza=new C$Tzm.Mat3(),C$Tzt=(C$Tzp.create=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl,C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$Tzf){return new C$Tzp(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl,C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$Tzf);},C$Tzp.clone=function(C$Tzt){var C$Tze=C$Tzt.orientation.m;return new C$Tzp(C$Tzt.center.x,C$Tzt.center.y,C$Tzt.center.z,C$Tzt.halfExtents.x,C$Tzt.halfExtents.y,C$Tzt.halfExtents.z,C$Tze[0],C$Tze[1],C$Tze[2],C$Tze[3],C$Tze[4],C$Tze[5],C$Tze[6],C$Tze[7],C$Tze[8]);},C$Tzp.copy=function(C$Tzt,C$Tze){return C$Tzm.Vec3.copy(C$Tzt.center,C$Tze.center),C$Tzm.Vec3.copy(C$Tzt.halfExtents,C$Tze.halfExtents),C$Tzm.Mat3.copy(C$Tzt.orientation,C$Tze.orientation),C$Tzt;},C$Tzp.fromPoints=function(C$Tzt,C$Tze,C$Tzi){return C$Tzm.Vec3.multiplyScalar(C$Tzt.center,C$Tzm.Vec3.add(C$Tzo,C$Tze,C$Tzi),.5),C$Tzm.Vec3.multiplyScalar(C$Tzt.halfExtents,C$Tzm.Vec3.subtract(C$Tzc,C$Tzi,C$Tze),.5),C$Tzm.Mat3.identity(C$Tzt.orientation),C$Tzt;},C$Tzp.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl,C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$Tzf,C$Tzp){return C$Tzm.Vec3.set(C$Tzt.center,C$Tze,C$Tzi,C$Tzn),C$Tzm.Vec3.set(C$Tzt.halfExtents,C$Tzr,C$Tzs,C$Tzo),C$Tzm.Mat3.set(C$Tzt.orientation,C$Tza,C$Tzc,C$Tzl,C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$Tzf,C$Tzp),C$Tzt;},C$Tzt=C$Tzp,(C$Tzs=[{key:H[1102],get:function(){return this._type;}}])&&C$Tzn(C$Tzt.prototype,C$Tzs),C$Tzr&&C$Tzn(C$Tzt,C$Tzr),(C$Tzs=C$Tzp.prototype).getBoundary=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn,C$Tzr,C$Tzs;C$Tzi=C$Tzo,C$Tzn=this.halfExtents,C$Tzr=this.orientation,C$Tzs=C$Tza.m,C$Tzr=C$Tzr.m,C$Tzs[0]=Math.abs(C$Tzr[0]),C$Tzs[1]=Math.abs(C$Tzr[1]),C$Tzs[2]=Math.abs(C$Tzr[2]),C$Tzs[3]=Math.abs(C$Tzr[3]),C$Tzs[4]=Math.abs(C$Tzr[4]),C$Tzs[5]=Math.abs(C$Tzr[5]),C$Tzs[6]=Math.abs(C$Tzr[6]),C$Tzs[7]=Math.abs(C$Tzr[7]),C$Tzs[8]=Math.abs(C$Tzr[8]),C$Tzm.Vec3.transformMat3(C$Tzi,C$Tzn,C$Tza),C$Tzm.Vec3.subtract(C$Tzt,this.center,C$Tzo),C$Tzm.Vec3.add(C$Tze,this.center,C$Tzo);},C$Tzs.transform=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){C$Tzm.Vec3.transformMat4(C$Tzr.center,this.center,C$Tzt),C$Tzm.Mat3.fromQuat(C$Tzr.orientation,C$Tzi),C$Tzm.Vec3.multiply(C$Tzr.halfExtents,this.halfExtents,C$Tzn);},C$Tzs.translateAndRotate=function(C$Tzt,C$Tze,C$Tzi){C$Tzm.Vec3.transformMat4(C$Tzi.center,this.center,C$Tzt),C$Tzm.Mat3.fromQuat(C$Tzi.orientation,C$Tze);},C$Tzs.setScale=function(C$Tzt,C$Tze){C$Tzm.Vec3.multiply(C$Tze.halfExtents,this.halfExtents,C$Tzt);},C$Tzp);function C$Tzp(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl,C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$Tzf){void 0===C$Tzt&&(C$Tzt=0),void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=0),void 0===C$Tzn&&(C$Tzn=1),void 0===C$Tzr&&(C$Tzr=1),void 0===C$Tzs&&(C$Tzs=1),void 0===C$Tzo&&(C$Tzo=1),void 0===C$Tza&&(C$Tza=0),void 0===C$Tzc&&(C$Tzc=0),void 0===C$Tzl&&(C$Tzl=0),void 0===C$Tzh&&(C$Tzh=1),void 0===C$Tzu&&(C$Tzu=0),void 0===C$Tz_&&(C$Tz_=0),void 0===C$Tzd&&(C$Tzd=0),void 0===C$Tzf&&(C$Tzf=1),this.center=void 0,this.halfExtents=void 0,this.orientation=void 0,this._type=void 0,this._type=C$Tzy.default.SHAPE_OBB,this.center=new C$Tzm.Vec3(C$Tzt,C$Tze,C$Tzi),this.halfExtents=new C$Tzm.Vec3(C$Tzn,C$Tzr,C$Tzs),this.orientation=new C$Tzm.Mat3(C$Tzo,C$Tza,C$Tzc,C$Tzl,C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$Tzf);}C$Tzi.default=C$Tzt,C$Tze.exports=C$Tzi.default;},{"../value-types":279,"./enums":121}],127:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzr=C$Tzt(H[818]),C$Tzs=(C$Tzt=C$Tzt(H[1087]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};var C$Tzo=new C$Tzr.Vec3(0,0,0),C$Tza=new C$Tzr.Vec3(0,0,0),C$Tzn=cc.mat4(),C$Tzc=cc.v4();function C$Tzl(C$Tzt,C$Tze,C$Tzi,C$Tzn){void 0===C$Tzt&&(C$Tzt=0),void 0===C$Tze&&(C$Tze=1),void 0===C$Tzi&&(C$Tzi=0),void 0===C$Tzn&&(C$Tzn=0),this.n=void 0,this.d=void 0,this._type=void 0,this._type=C$Tzs.default.SHAPE_PLANE,this.n=new C$Tzr.Vec3(C$Tzt,C$Tze,C$Tzi),this.d=C$Tzn;}C$Tzl.create=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return new C$Tzl(C$Tzt,C$Tze,C$Tzi,C$Tzn);},C$Tzl.clone=function(C$Tzt){return new C$Tzl(C$Tzt.n.x,C$Tzt.n.y,C$Tzt.n.z,C$Tzt.d);},C$Tzl.copy=function(C$Tzt,C$Tze){return C$Tzr.Vec3.copy(C$Tzt.n,C$Tze.n),C$Tzt.d=C$Tze.d,C$Tzt;},C$Tzl.fromPoints=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzr.Vec3.subtract(C$Tzo,C$Tzi,C$Tze),C$Tzr.Vec3.subtract(C$Tza,C$Tzn,C$Tze),C$Tzr.Vec3.normalize(C$Tzt.n,C$Tzr.Vec3.cross(C$Tzt.n,C$Tzo,C$Tza)),C$Tzt.d=C$Tzr.Vec3.dot(C$Tzt.n,C$Tze),C$Tzt;},C$Tzl.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return C$Tzt.n.x=C$Tze,C$Tzt.n.y=C$Tzi,C$Tzt.n.z=C$Tzn,C$Tzt.d=C$Tzr,C$Tzt;},C$Tzl.fromNormalAndPoint=function(C$Tzt,C$Tze,C$Tzi){return C$Tzr.Vec3.copy(C$Tzt.n,C$Tze),C$Tzt.d=C$Tzr.Vec3.dot(C$Tze,C$Tzi),C$Tzt;},C$Tzl.normalize=function(C$Tzt,C$Tze){var C$Tzi=C$Tze.n.len();return C$Tzr.Vec3.normalize(C$Tzt.n,C$Tze.n),0<C$Tzi&&(C$Tzt.d=C$Tze.d/C$Tzi),C$Tzt;},C$Tzl.prototype.transform=function(C$Tzt){C$Tzr.Mat4.invert(C$Tzn,C$Tzt),C$Tzr.Mat4.transpose(C$Tzn,C$Tzn),C$Tzr.Vec4.set(C$Tzc,this.n.x,this.n.y,this.n.z,this.d),C$Tzr.Vec4.transformMat4(C$Tzc,C$Tzc,C$Tzn),C$Tzr.Vec3.set(this.n,C$Tzc.x,C$Tzc.y,C$Tzc.z),this.d=C$Tzc.w;},C$Tzi.default=C$Tzl,C$Tze.exports=C$Tzi.default;},{"../value-types":279,"./enums":121}],128:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzo=C$Tzt(H[818]),C$Tza=(C$Tzt=C$Tzt(H[1087]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzc(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){void 0===C$Tzt&&(C$Tzt=0),void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=0),void 0===C$Tzn&&(C$Tzn=0),void 0===C$Tzr&&(C$Tzr=0),void 0===C$Tzs&&(C$Tzs=-1),this.o=void 0,this.d=void 0,this._type=void 0,this._type=C$Tza.default.SHAPE_RAY,this.o=new C$Tzo.Vec3(C$Tzt,C$Tze,C$Tzi),this.d=new C$Tzo.Vec3(C$Tzn,C$Tzr,C$Tzs);}C$Tzc.create=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){return new C$Tzc(C$Tzt=void 0===C$Tzt?0:C$Tzt,C$Tze=void 0===C$Tze?0:C$Tze,C$Tzi=void 0===C$Tzi?0:C$Tzi,C$Tzn=void 0===C$Tzn?0:C$Tzn,C$Tzr=void 0===C$Tzr?0:C$Tzr,C$Tzs=void 0===C$Tzs?1:C$Tzs);},C$Tzc.clone=function(C$Tzt){return new C$Tzc(C$Tzt.o.x,C$Tzt.o.y,C$Tzt.o.z,C$Tzt.d.x,C$Tzt.d.y,C$Tzt.d.z);},C$Tzc.copy=function(C$Tzt,C$Tze){return C$Tzo.Vec3.copy(C$Tzt.o,C$Tze.o),C$Tzo.Vec3.copy(C$Tzt.d,C$Tze.d),C$Tzt;},C$Tzc.fromPoints=function(C$Tzt,C$Tze,C$Tzi){return C$Tzo.Vec3.copy(C$Tzt.o,C$Tze),C$Tzo.Vec3.normalize(C$Tzt.d,C$Tzo.Vec3.subtract(C$Tzt.d,C$Tzi,C$Tze)),C$Tzt;},C$Tzc.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo){return C$Tzt.o.x=C$Tze,C$Tzt.o.y=C$Tzi,C$Tzt.o.z=C$Tzn,C$Tzt.d.x=C$Tzr,C$Tzt.d.y=C$Tzs,C$Tzt.d.z=C$Tzo,C$Tzt;},C$Tzc.prototype.computeHit=function(C$Tzt,C$Tze){C$Tzo.Vec3.normalize(C$Tzt,this.d),C$Tzo.Vec3.scaleAndAdd(C$Tzt,this.o,C$Tzt,C$Tze);},C$Tzi.default=C$Tzc,C$Tze.exports=C$Tzi.default;},{"../value-types":279,"./enums":121}],129:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzs=C$Tzt(H[818]),C$Tzr=(C$Tzt=C$Tzt(H[1087]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};var C$Tzn=new C$Tzs.Vec3();function C$Tzo(C$Tzt,C$Tze,C$Tzi,C$Tzn){void 0===C$Tzt&&(C$Tzt=0),void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=0),void 0===C$Tzn&&(C$Tzn=1),this.center=void 0,this.radius=void 0,this._type=void 0,this._type=C$Tzr.default.SHAPE_SPHERE,this.center=new C$Tzs.Vec3(C$Tzt,C$Tze,C$Tzi),this.radius=C$Tzn;}C$Tzo.create=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return new C$Tzo(C$Tzt,C$Tze,C$Tzi,C$Tzn);},C$Tzo.clone=function(C$Tzt){return new C$Tzo(C$Tzt.center.x,C$Tzt.center.y,C$Tzt.center.z,C$Tzt.radius);},C$Tzo.copy=function(C$Tzt,C$Tze){return C$Tzs.Vec3.copy(C$Tzt.center,C$Tze.center),C$Tzt.radius=C$Tze.radius,C$Tzt;},C$Tzo.fromPoints=function(C$Tzt,C$Tze,C$Tzi){return C$Tzs.Vec3.multiplyScalar(C$Tzt.center,C$Tzs.Vec3.add(C$Tzn,C$Tze,C$Tzi),.5),C$Tzt.radius=.5*C$Tzs.Vec3.subtract(C$Tzn,C$Tzi,C$Tze).len(),C$Tzt;},C$Tzo.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return C$Tzt.center.x=C$Tze,C$Tzt.center.y=C$Tzi,C$Tzt.center.z=C$Tzn,C$Tzt.radius=C$Tzr,C$Tzt;},(C$Tzt=C$Tzo.prototype).clone=function(){return C$Tzo.clone(this);},C$Tzt.copy=function(C$Tzt){return C$Tzo.copy(this,C$Tzt);},C$Tzt.getBoundary=function(C$Tzt,C$Tze){C$Tzs.Vec3.set(C$Tzt,this.center.x-this.radius,this.center.y-this.radius,this.center.z-this.radius),C$Tzs.Vec3.set(C$Tze,this.center.x+this.radius,this.center.y+this.radius,this.center.z+this.radius);},C$Tzt.transform=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){C$Tzs.Vec3.transformMat4(C$Tzr.center,this.center,C$Tzt),C$Tzr.radius=this.radius*C$Tzn.maxAxis();},C$Tzt.translateAndRotate=function(C$Tzt,C$Tze,C$Tzi){C$Tzs.Vec3.transformMat4(C$Tzi.center,this.center,C$Tzt);},C$Tzt.setScale=function(C$Tzt,C$Tze){C$Tze.radius=this.radius*C$Tzt.maxAxis();},C$Tzi.default=C$Tzo,C$Tze.exports=C$Tzi.default;},{"../value-types":279,"./enums":121}],130:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzl=C$Tzn(C$Tzt(H[1085])),C$Tzh=C$Tzn(C$Tzt(H[1087]));function C$Tzn(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzu(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc){this.a=void 0,this.b=void 0,this.c=void 0,this._type=void 0,this.a=new C$Tzl.default(C$Tzt,C$Tze,C$Tzi),this.b=new C$Tzl.default(C$Tzn,C$Tzr,C$Tzs),this.c=new C$Tzl.default(C$Tzo,C$Tza,C$Tzc),this._type=C$Tzh.default.SHAPE_TRIANGLE;}C$Tzu.create=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc){return new C$Tzu(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc);},C$Tzu.clone=function(C$Tzt){return new C$Tzu(C$Tzt.a.x,C$Tzt.a.y,C$Tzt.a.z,C$Tzt.b.x,C$Tzt.b.y,C$Tzt.b.z,C$Tzt.c.x,C$Tzt.c.y,C$Tzt.c.z);},C$Tzu.copy=function(C$Tzt,C$Tze){return C$Tzl.default.copy(C$Tzt.a,C$Tze.a),C$Tzl.default.copy(C$Tzt.b,C$Tze.b),C$Tzl.default.copy(C$Tzt.c,C$Tze.c),C$Tzt;},C$Tzu.fromPoints=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzl.default.copy(C$Tzt.a,C$Tze),C$Tzl.default.copy(C$Tzt.b,C$Tzi),C$Tzl.default.copy(C$Tzt.c,C$Tzn),C$Tzt;},C$Tzu.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl){return C$Tzt.a.x=C$Tze,C$Tzt.a.y=C$Tzi,C$Tzt.a.z=C$Tzn,C$Tzt.b.x=C$Tzr,C$Tzt.b.y=C$Tzs,C$Tzt.b.z=C$Tzo,C$Tzt.c.x=C$Tza,C$Tzt.c.y=C$Tzc,C$Tzt.c.z=C$Tzl,C$Tzt;},C$Tzi.default=C$Tzu,C$Tze.exports=C$Tzi.default;},{"../value-types/vec3":289,"./enums":121}],131:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[900]),C$Tzr=C$Tzt(H[877]),C$Tzs=C$Tzt(H[470]),C$Tzo=C$Tzs.LineCap,C$Tza=C$Tzs.LineJoin,C$Tzc=cc.Class({name:H[1103],extends:C$Tzn,editor:!1,ctor:function(){this._impl=new C$Tzc._Impl(this);},properties:{_lineWidth:1,_strokeColor:cc.Color.BLACK,_lineJoin:C$Tza.MITER,_lineCap:C$Tzo.BUTT,_fillColor:cc.Color.WHITE,_miterLimit:10,lineWidth:{get:function(){return this._lineWidth;},set:function(C$Tzt){this._lineWidth=C$Tzt,this._impl.lineWidth=C$Tzt;}},lineJoin:{get:function(){return this._lineJoin;},set:function(C$Tzt){this._lineJoin=C$Tzt,this._impl.lineJoin=C$Tzt;},type:C$Tza},lineCap:{get:function(){return this._lineCap;},set:function(C$Tzt){this._lineCap=C$Tzt,this._impl.lineCap=C$Tzt;},type:C$Tzo},strokeColor:{get:function(){return this._strokeColor;},set:function(C$Tzt){this._impl.strokeColor=this._strokeColor=cc.color(C$Tzt);}},fillColor:{get:function(){return this._fillColor;},set:function(C$Tzt){this._impl.fillColor=this._fillColor=cc.color(C$Tzt);}},miterLimit:{get:function(){return this._miterLimit;},set:function(C$Tzt){this._miterLimit=C$Tzt,this._impl.miterLimit=C$Tzt;}}},statics:{LineJoin:C$Tza,LineCap:C$Tzo},onRestore:function(){this._impl||(this._impl=new C$Tzc._Impl(this));},onDestroy:function(){this.clear(!0),this._super(),this._impl=null;},_getDefaultMaterial:function(){return C$Tzr.getBuiltinMaterial(H[1104]);},_updateMaterial:function(){var C$Tzt=this._materials[0];C$Tzt&&C$Tzt.define(H[896],!0);},moveTo:function(C$Tzt,C$Tze){C$Tzt instanceof cc.Vec2?cc.warn(H[1105]):this._impl.moveTo(C$Tzt,C$Tze);},lineTo:function(C$Tzt,C$Tze){C$Tzt instanceof cc.Vec2?cc.warn(H[1105]):this._impl.lineTo(C$Tzt,C$Tze);},bezierCurveTo:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){this._impl.bezierCurveTo(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs);},quadraticCurveTo:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._impl.quadraticCurveTo(C$Tzt,C$Tze,C$Tzi,C$Tzn);},arc:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){this._impl.arc(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs);},ellipse:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._impl.ellipse(C$Tzt,C$Tze,C$Tzi,C$Tzn);},circle:function(C$Tzt,C$Tze,C$Tzi){this._impl.circle(C$Tzt,C$Tze,C$Tzi);},rect:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._impl.rect(C$Tzt,C$Tze,C$Tzi,C$Tzn);},roundRect:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){this._impl.roundRect(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr);},fillRect:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this.rect(C$Tzt,C$Tze,C$Tzi,C$Tzn),this.fill();},clear:function(C$Tzt){this._impl.clear(C$Tzt),this._assembler&&this._assembler.clear(C$Tzt);},close:function(){this._impl.close();},stroke:function(){this._assembler||this._resetAssembler(),this._assembler.stroke(this);},fill:function(){this._assembler||this._resetAssembler(),this._assembler.fill(this);}});cc.Graphics=C$Tze.exports=C$Tzc,cc.Graphics.Types=C$Tzs,cc.Graphics.Helper=C$Tzt(H[534]);},{"../assets/material/CCMaterial":53,"../components/CCRenderComponent":89,"undefined":132,"./types":134}],132:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzb=C$Tzt(H[470]).PointFlags,C$Tzv=Math.PI,C$Tzx=Math.min,C$TzT=Math.max,C$TzA=Math.cos,C$TzC=Math.sin,C$TzS=Math.abs,C$Tza=Math.sign,C$Tzc=.5522847493;C$Tze.exports={arc:function(C$Tzh,C$Tzu,C$Tz_,C$Tzt,C$Tzd,C$Tze,C$Tzf){var C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc=0,C$Tzl=0,C$Tzp=0,C$Tzm=0,C$Tzy=0,C$Tzg=0,C$Tzc=C$Tze-C$Tzd;if(C$Tzf=C$Tzf||!1){if(C$TzS(C$Tzc)>=2*C$Tzv)C$Tzc=2*C$Tzv;else for(;C$Tzc<0;)C$Tzc+=2*C$Tzv;}else if(C$TzS(C$Tzc)>=2*C$Tzv)C$Tzc=2*-C$Tzv;else for(;0<C$Tzc;)C$Tzc-=2*C$Tzv;for(C$Tza=0|C$TzT(1,C$Tzx(C$TzS(C$Tzc)/(.5*C$Tzv)+.5,5)),C$Tzl=C$TzS(4/3*(1-C$TzA(C$Tze=C$Tzc/C$Tza/2))/C$TzC(C$Tze)),C$Tzf||(C$Tzl=-C$Tzl),C$Tzo=0;C$Tzo<=C$Tza;C$Tzo++)C$Tzi=C$Tzu+(C$Tzs=C$TzA(C$Tzr=C$Tzd+C$Tzc*(C$Tzo/C$Tza)))*C$Tzt,C$Tzn=C$Tz_+(C$Tzr=C$TzC(C$Tzr))*C$Tzt,C$Tzr=-C$Tzr*C$Tzt*C$Tzl,C$Tzs=C$Tzs*C$Tzt*C$Tzl,0===C$Tzo?C$Tzh.moveTo(C$Tzi,C$Tzn):C$Tzh.bezierCurveTo(C$Tzp+C$Tzy,C$Tzm+C$Tzg,C$Tzi-C$Tzr,C$Tzn-C$Tzs,C$Tzi,C$Tzn),C$Tzp=C$Tzi,C$Tzm=C$Tzn,C$Tzy=C$Tzr,C$Tzg=C$Tzs;},ellipse:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){C$Tzt.moveTo(C$Tze-C$Tzn,C$Tzi),C$Tzt.bezierCurveTo(C$Tze-C$Tzn,C$Tzi+C$Tzr*C$Tzc,C$Tze-C$Tzn*C$Tzc,C$Tzi+C$Tzr,C$Tze,C$Tzi+C$Tzr),C$Tzt.bezierCurveTo(C$Tze+C$Tzn*C$Tzc,C$Tzi+C$Tzr,C$Tze+C$Tzn,C$Tzi+C$Tzr*C$Tzc,C$Tze+C$Tzn,C$Tzi),C$Tzt.bezierCurveTo(C$Tze+C$Tzn,C$Tzi-C$Tzr*C$Tzc,C$Tze+C$Tzn*C$Tzc,C$Tzi-C$Tzr,C$Tze,C$Tzi-C$Tzr),C$Tzt.bezierCurveTo(C$Tze-C$Tzn*C$Tzc,C$Tzi-C$Tzr,C$Tze-C$Tzn,C$Tzi-C$Tzr*C$Tzc,C$Tze-C$Tzn,C$Tzi),C$Tzt.close();},roundRect:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){var C$Tzo;C$Tzs<.1?C$Tzt.rect(C$Tze,C$Tzi,C$Tzn,C$Tzr):(C$Tzo=C$Tzx(C$Tzs,.5*C$TzS(C$Tzn))*C$Tza(C$Tzn),C$Tzs=C$Tzx(C$Tzs,.5*C$TzS(C$Tzr))*C$Tza(C$Tzr),C$Tzt.moveTo(C$Tze,C$Tzi+C$Tzs),C$Tzt.lineTo(C$Tze,C$Tzi+C$Tzr-C$Tzs),C$Tzt.bezierCurveTo(C$Tze,C$Tzi+C$Tzr-C$Tzs*(1-C$Tzc),C$Tze+C$Tzo*(1-C$Tzc),C$Tzi+C$Tzr,C$Tze+C$Tzo,C$Tzi+C$Tzr),C$Tzt.lineTo(C$Tze+C$Tzn-C$Tzo,C$Tzi+C$Tzr),C$Tzt.bezierCurveTo(C$Tze+C$Tzn-C$Tzo*(1-C$Tzc),C$Tzi+C$Tzr,C$Tze+C$Tzn,C$Tzi+C$Tzr-C$Tzs*(1-C$Tzc),C$Tze+C$Tzn,C$Tzi+C$Tzr-C$Tzs),C$Tzt.lineTo(C$Tze+C$Tzn,C$Tzi+C$Tzs),C$Tzt.bezierCurveTo(C$Tze+C$Tzn,C$Tzi+C$Tzs*(1-C$Tzc),C$Tze+C$Tzn-C$Tzo*(1-C$Tzc),C$Tzi,C$Tze+C$Tzn-C$Tzo,C$Tzi),C$Tzt.lineTo(C$Tze+C$Tzo,C$Tzi),C$Tzt.bezierCurveTo(C$Tze+C$Tzo*(1-C$Tzc),C$Tzi,C$Tze,C$Tzi+C$Tzs*(1-C$Tzc),C$Tze,C$Tzi+C$Tzs),C$Tzt.close());},tesselateBezier:function C$Tzh(C$Tzt,C$Tze,C$Tzu,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tz_,C$Tzc){var C$Tzd,C$Tzf,C$Tzp,C$Tzm,C$Tzy,C$Tzg,C$Tzv,C$Tzx,C$Tzl;10<C$Tz_||(C$Tzy=.5*(C$Tzr+C$Tzo),C$Tzg=.5*(C$Tzs+C$Tza),C$Tzv=.5*((C$Tzd=.5*(C$Tze+C$Tzi))+(C$Tzp=.5*(C$Tzi+C$Tzr))),C$Tzx=.5*((C$Tzf=.5*(C$Tzu+C$Tzn))+(C$Tzm=.5*(C$Tzn+C$Tzs))),((C$Tzl=C$TzS((C$Tzi-C$Tzo)*(C$Tzi=C$Tza-C$Tzu)-(C$Tzn-C$Tza)*(C$Tzn=C$Tzo-C$Tze)))+(C$Tzr=C$TzS((C$Tzr-C$Tzo)*C$Tzi-(C$Tzs-C$Tza)*C$Tzn)))*(C$Tzl+C$Tzr)<C$Tzt._tessTol*(C$Tzn*C$Tzn+C$Tzi*C$Tzi)?C$Tzt._addPoint(C$Tzo,C$Tza,0===C$Tzc?C$Tzc|C$Tzb.PT_BEVEL:C$Tzc):(C$Tzh(C$Tzt,C$Tze,C$Tzu,C$Tzd,C$Tzf,C$Tzv,C$Tzx,C$Tzl=.5*(C$Tzv+(C$Tzs=.5*(C$Tzp+C$Tzy))),C$Tzn=.5*(C$Tzx+(C$Tzr=.5*(C$Tzm+C$Tzg))),C$Tz_+1,0),C$Tzh(C$Tzt,C$Tzl,C$Tzn,C$Tzs,C$Tzr,C$Tzy,C$Tzg,C$Tzo,C$Tza,C$Tz_+1,C$Tzc)));}};},{"./types":134}],133:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[1106]);},{"./graphics":131}],134:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Enum({BUTT:0,ROUND:1,SQUARE:2}),C$Tzr=cc.Enum({BEVEL:0,ROUND:1,MITER:2}),C$Tzs=cc.Enum({PT_CORNER:1,PT_LEFT:2,PT_BEVEL:4,PT_INNERBEVEL:8});C$Tze.exports={LineCap:C$Tzn,LineJoin:C$Tzr,PointFlags:C$Tzs};},{}],135:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[1107]),C$Tzt(H[1108]),C$Tzt(H[698]),C$Tzt(H[1109]),C$Tzt(H[1110]),C$Tzt(H[1111]),C$Tzt(H[1106]),C$Tzt(H[1112]),C$Tzt(H[1113]),C$Tzt(H[1114]),C$Tzt(H[1115]),C$Tzt(H[1116]),C$Tzt(H[1117]),C$Tzt(H[1118]),C$Tzt(H[1119]);},{"./3d":void 0,"./CCNode":30,"./CCPrivateNode":31,"./CCScene":32,"./assets":51,"./base-ui/CCWidgetManager":62,"./camera/CCCamera":63,"./collider":71,"./collider/CCIntersection":69,"./components":107,"./geom-utils":123,"./graphics":133,"./mesh":158,"./physics":173,"./platform":206}],136:[function(C$Tzt,C$Tzi,C$Tza){"use strict";var C$Tzr=C$Tzt(H[720]),C$Tzn=C$Tzt(H[1120]),C$Tzc=C$Tzt(H[1121]),C$Tz_=C$Tzt(H[1122]),C$Tzd=C$Tzt(H[1123]),C$Tzf=C$Tzt(H[1124]),C$Tzp=C$Tzt(H[1125]),C$Tzu=C$Tzt(H[1126]).callInNextTick,C$Tzm=C$Tzt(H[1127]),C$Tzy=C$Tzt(H[1128]),C$Tzo=Object.create(null);C$Tzo.assets=new C$Tzp(),C$Tzo.internal=new C$Tzp();var C$Tzs={url:null,raw:!1};function C$Tzg(C$Tzt){var C$Tze,C$Tzi;if(H[802]==typeof C$Tzt){if((C$Tzi=C$Tzt).url)return C$Tzi;C$Tze=C$Tzt.uuid;}else C$Tzi={},C$Tze=C$Tzt;return C$Tzt=C$Tzi.type?H[607]===C$Tzi.type:cc.AssetLibrary._uuidInSettings(C$Tze),cc.AssetLibrary._getAssetInfoInRuntime(C$Tze,C$Tzs),C$Tzi.url=C$Tzt?C$Tzs.url:C$Tze,C$Tzs.url&&H[607]===C$Tzi.type&&C$Tzs.raw?(C$Tzi.type=null,C$Tzi.isRawAsset=!0):C$Tzt||(C$Tzi.isRawAsset=!0),C$Tzi;}var C$Tzl=[],C$Tzh=[];function C$Tze(){var C$Tzt=new C$Tz_(),C$Tze=new C$Tzd(),C$Tzi=new C$Tzf();C$Tzn.call(this,[C$Tzt,C$Tze,C$Tzi]),this.assetLoader=C$Tzt,this.md5Pipe=null,this.downloader=C$Tze,this.loader=C$Tzi,this.onProgress=null,this._autoReleaseSetting=C$Tzr.createMap(!0),this._releasedAssetChecker_DEBUG=new C$Tzy();}C$Tzr.extend(C$Tze,C$Tzn);C$Tzt=C$Tze.prototype;C$Tzt.init=function(C$Tzt){var C$Tze=this;C$Tzt.on(cc.Director.EVENT_AFTER_UPDATE,function(){C$Tze._releasedAssetChecker_DEBUG.checkCouldRelease(C$Tze._cache);});},C$Tzt.getXMLHttpRequest=function(){return window.XMLHttpRequest?new window.XMLHttpRequest():new ActiveXObject(H[1129]);},C$Tzt.addDownloadHandlers=function(C$Tzt){this.downloader.addHandlers(C$Tzt);},C$Tzt.addLoadHandlers=function(C$Tzt){this.loader.addHandlers(C$Tzt);},C$Tzt.load=function(C$Tzt,C$Tze,C$Tzn){void 0===C$Tzn&&(C$Tzn=C$Tze,C$Tze=this.onProgress||null);var C$Tzr,C$Tzs=this,C$Tzo=!1;C$Tzt instanceof Array||(C$Tzt=C$Tzt?(C$Tzo=!0,[C$Tzt]):[]);for(var C$Tzi=C$Tzl.length=0;C$Tzi<C$Tzt.length;++C$Tzi){var C$Tza=C$Tzt[C$Tzi];C$Tza&&C$Tza.id&&(cc.warnID(4920,C$Tza.id),C$Tza.uuid||C$Tza.url||(C$Tza.url=C$Tza.id)),((C$Tzr=C$Tzg(C$Tza)).url||C$Tzr.uuid)&&(C$Tza=this._cache[C$Tzr.url],C$Tzl.push(C$Tza||C$Tzr));}C$Tze=C$Tzc.create(this,C$Tze,function(C$Tze,C$Tzi){C$Tzu(function(){var C$Tzt;C$Tzn&&(C$Tzo?(C$Tzt=C$Tzr.url,C$Tzn.call(C$Tzs,C$Tze,C$Tzi.getContent(C$Tzt))):C$Tzn.call(C$Tzs,C$Tze,C$Tzi),C$Tzn=null),C$Tzi.destroy();});});C$Tzc.initQueueDeps(C$Tze),C$Tze.append(C$Tzl),C$Tzl.length=0;},C$Tzt.flowInDeps=function(C$Tzi,C$Tzt,C$Tzn){for(var C$Tze=C$Tzh.length=0;C$Tze<C$Tzt.length;++C$Tze){var C$Tzr,C$Tzs=C$Tzg(C$Tzt[C$Tze]);(C$Tzs.url||C$Tzs.uuid)&&((C$Tzr=this._cache[C$Tzs.url])?C$Tzh.push(C$Tzr):C$Tzh.push(C$Tzs));}var C$Tzo=C$Tzc.create(this,C$Tzi?function(C$Tzt,C$Tze,C$Tzi){this._ownerQueue&&this._ownerQueue.onProgress&&this._ownerQueue._childOnProgress(C$Tzi);}:null,function(C$Tzt,C$Tze){C$Tzn(C$Tzt,C$Tze),C$Tzi&&C$Tzi.deps&&(C$Tzi.deps.length=0),C$Tze.destroy();}),C$Tza=(C$Tzi&&(C$Tza=C$Tzc.getQueue(C$Tzi),C$Tzo._ownerQueue=C$Tza._ownerQueue||C$Tza),C$Tzo.append(C$Tzh,C$Tzi));return C$Tzh.length=0,C$Tza;},C$Tzt._assetTables=C$Tzo,C$Tzt._getResUuid=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzi=C$Tzo[C$Tzi=C$Tzi||H[1130]];if(!C$Tzt||!C$Tzi)return null;var C$Tzr,C$Tzs=C$Tzt.indexOf("?"),C$Tzs=(-1!==C$Tzs&&(C$Tzt=C$Tzt.substr(0,C$Tzs)),C$Tzi.getUuid(C$Tzt,C$Tze));return C$Tzs||(C$Tzr=cc.path.extname(C$Tzt))&&(C$Tzt=C$Tzt.slice(0,-C$Tzr.length),(C$Tzs=C$Tzi.getUuid(C$Tzt,C$Tze))&&!C$Tzn&&cc.warnID(4901,C$Tzt,C$Tzr)),C$Tzs;},C$Tzt._getReferenceKey=function(C$Tzt){var C$Tze;return H[802]==typeof C$Tzt?C$Tze=C$Tzt._uuid||null:H[462]==typeof C$Tzt&&(C$Tze=this._getResUuid(C$Tzt,null,null,!0)||C$Tzt),C$Tze?(cc.AssetLibrary._getAssetInfoInRuntime(C$Tze,C$Tzs),this._cache[C$Tzs.url]?C$Tzs.url:C$Tze):(cc.warnID(4800,C$Tzt),C$Tze);},C$Tzt._urlNotFound=function(C$Tze,C$Tzi,C$Tzn){C$Tzu(function(){C$Tze=cc.url.normalize(C$Tze);var C$Tzt=(C$Tzi?C$Tzr.getClassName(C$Tzi):H[1131])+H[1132]+C$Tze+H[1133];C$Tzn&&C$Tzn(new Error(C$Tzt),[]);});},C$Tzt._parseLoadResArgs=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn;return void 0===C$Tzi&&(C$Tzn=C$Tzt instanceof Array||C$Tzr.isChildClassOf(C$Tzt,cc.RawAsset),C$Tze?(C$Tzi=C$Tze,C$Tzn&&(C$Tze=this.onProgress||null)):void 0!==C$Tze||C$Tzn||(C$Tzi=C$Tzt,C$Tze=this.onProgress||null,C$Tzt=null),void 0===C$Tze||C$Tzn||(C$Tze=C$Tzt,C$Tzt=null)),{type:C$Tzt,onProgress:C$Tze,onComplete:C$Tzi};},C$Tzt.loadRes=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){5!==arguments.length&&(C$Tzr=C$Tzn,C$Tzn=C$Tzi,C$Tzi=H[1130]);var C$Tzs=this._parseLoadResArgs(C$Tze,C$Tzn,C$Tzr),C$Tzo=(C$Tze=C$Tzs.type,C$Tzn=C$Tzs.onProgress,C$Tzr=C$Tzs.onComplete,this),C$Tza=C$Tzo._getResUuid(C$Tzt,C$Tze,C$Tzi);C$Tza?this.load({type:H[607],uuid:C$Tza},C$Tzn,function(C$Tzt,C$Tze){C$Tze&&C$Tzo.setAutoReleaseRecursively(C$Tza,!1),C$Tzr&&C$Tzr(C$Tzt,C$Tze);}):C$Tzo._urlNotFound(C$Tzt,C$Tze,C$Tzr);},C$Tzt._loadResUuids=function(C$Tzt,C$Tze,C$Tza,C$Tzc){var C$Tzl,C$Tzh;0<C$Tzt.length?(C$Tzl=this,C$Tzh=C$Tzt.map(function(C$Tzt){return{type:H[607],uuid:C$Tzt};}),this.load(C$Tzh,C$Tze,function(C$Tzt,C$Tze){if(C$Tza){for(var C$Tzi=[],C$Tzn=C$Tzc&&[],C$Tzr=0;C$Tzr<C$Tzh.length;++C$Tzr){var C$Tzs=C$Tzh[C$Tzr].uuid,C$Tzo=this._getReferenceKey(C$Tzs),C$Tzo=C$Tze.getContent(C$Tzo);C$Tzo&&(C$Tzl.setAutoReleaseRecursively(C$Tzs,!1),C$Tzi.push(C$Tzo),C$Tzn&&C$Tzn.push(C$Tzc[C$Tzr]));}C$Tzc?C$Tza(C$Tzt,C$Tzi,C$Tzn):C$Tza(C$Tzt,C$Tzi);}})):C$Tza&&C$Tzu(function(){C$Tzc?C$Tza(null,[],[]):C$Tza(null,[]);});},C$Tzt.loadResArray=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){5!==arguments.length&&(C$Tzr=C$Tzn,C$Tzn=C$Tzi,C$Tzi=H[1130]);for(var C$Tzs=this._parseLoadResArgs(C$Tze,C$Tzn,C$Tzr),C$Tzo=(C$Tze=C$Tzs.type,C$Tzn=C$Tzs.onProgress,C$Tzr=C$Tzs.onComplete,[]),C$Tzh=C$Tze instanceof Array,C$Tza=0;C$Tza<C$Tzt.length;C$Tza++){var C$Tzc=C$Tzt[C$Tza],C$Tzl=C$Tzh?C$Tze[C$Tza]:C$Tze,C$Tzu=this._getResUuid(C$Tzc,C$Tzl,C$Tzi);if(!C$Tzu)return void this._urlNotFound(C$Tzc,C$Tzl,C$Tzr);C$Tzo.push(C$Tzu);}this._loadResUuids(C$Tzo,C$Tzn,C$Tzr);},C$Tzt.loadResDir=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs;5!==arguments.length&&(C$Tzr=C$Tzn,C$Tzn=C$Tzi,C$Tzi=H[1130]),C$Tzo[C$Tzi]&&(C$Tze=(C$Tzs=this._parseLoadResArgs(C$Tze,C$Tzn,C$Tzr)).type,C$Tzn=C$Tzs.onProgress,C$Tzr=C$Tzs.onComplete,C$Tzi=C$Tzo[C$Tzi].getUuidArray(C$Tzt,C$Tze,C$Tzs=[]),this._loadResUuids(C$Tzi,C$Tzn,C$Tzr,C$Tzs));},C$Tzt.getRes=function(C$Tzt,C$Tze){if(!(C$Tzi=this._cache[C$Tzt])){C$Tzt=this._getResUuid(C$Tzt,C$Tze,null,!0);if(!C$Tzt)return null;var C$Tze=this._getReferenceKey(C$Tzt),C$Tzi=this._cache[C$Tze];}return(C$Tzi=C$Tzi&&C$Tzi.alias?C$Tzi.alias:C$Tzi)&&C$Tzi.complete?C$Tzi.content:null;},C$Tzt.getResCount=function(){return Object.keys(this._cache).length;},C$Tzt.getDependsRecursively=function(C$Tzt){var C$Tze;return C$Tzt?(C$Tzt=this._getReferenceKey(C$Tzt),(C$Tze=C$Tzm.getDependsRecursively(C$Tzt)).push(C$Tzt),C$Tze):[];},C$Tzt.release=function(C$Tzt){var C$Tze,C$Tzi,C$Tzn;if(Array.isArray(C$Tzt))for(var C$Tzr=0;C$Tzr<C$Tzt.length;C$Tzr++){var C$Tzs=C$Tzt[C$Tzr];this.release(C$Tzs);}else C$Tzt&&((C$Tze=this._getReferenceKey(C$Tzt))&&C$Tze in cc.AssetLibrary.getBuiltinDeps()||((C$Tzi=this.getItem(C$Tze))&&(C$Tzn=this.removeItem(C$Tze),C$Tzt=C$Tzi.content,C$Tzn&&this._releasedAssetChecker_DEBUG.setReleased(C$Tzi,C$Tze)),C$Tzt instanceof cc.Asset&&((C$Tzn=C$Tzt.nativeUrl)&&this.release(C$Tzn),C$Tzt.destroy())));},C$Tzt.releaseAsset=function(C$Tzt){C$Tzt=C$Tzt._uuid;C$Tzt&&this.release(C$Tzt);},C$Tzt.releaseRes=function(C$Tzt,C$Tze,C$Tzi){C$Tze=this._getResUuid(C$Tzt,C$Tze,C$Tzi);C$Tze?this.release(C$Tze):cc.errorID(4914,C$Tzt);},C$Tzt.releaseResDir=function(C$Tzt,C$Tze,C$Tzi){if(C$Tzo[C$Tzi=C$Tzi||H[1130]])for(var C$Tzn=C$Tzo[C$Tzi].getUuidArray(C$Tzt,C$Tze),C$Tzr=0;C$Tzr<C$Tzn.length;C$Tzr++){var C$Tzs=C$Tzn[C$Tzr];this.release(C$Tzs);}},C$Tzt.releaseAll=function(){for(var C$Tzt in this._cache)this.release(C$Tzt);},C$Tzt.removeItem=function(C$Tzt){var C$Tze=C$Tzn.prototype.removeItem.call(this,C$Tzt);return delete this._autoReleaseSetting[C$Tzt],C$Tze;},C$Tzt.setAutoRelease=function(C$Tzt,C$Tze){C$Tzt=this._getReferenceKey(C$Tzt);C$Tzt&&(this._autoReleaseSetting[C$Tzt]=!!C$Tze);},C$Tzt.setAutoReleaseRecursively=function(C$Tzt,C$Tze){C$Tze=!!C$Tze;C$Tzt=this._getReferenceKey(C$Tzt);if(C$Tzt){this._autoReleaseSetting[C$Tzt]=C$Tze;for(var C$Tzi=C$Tzm.getDependsRecursively(C$Tzt),C$Tzn=0;C$Tzn<C$Tzi.length;C$Tzn++){var C$Tzr=C$Tzi[C$Tzn];this._autoReleaseSetting[C$Tzr]=C$Tze;}}},C$Tzt.isAutoRelease=function(C$Tzt){C$Tzt=this._getReferenceKey(C$Tzt);return!!C$Tzt&&!!this._autoReleaseSetting[C$Tzt];},cc.loader=new C$Tze(),C$Tzi.exports=cc.loader;},{"../platform/js":209,"../platform/utils":213,"./asset-loader":137,"./asset-table":138,"./auto-release-utils":140,"./downloader":142,"./loader":145,"./loading-items":146,"./pipeline":149,"./released-asset-checker":150}],137:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[1134]);function C$Tzn(C$Tzt){this.id=H[1135],this.async=!0,this.pipeline=null;}var C$Tzo=C$Tzt(H[1136]),C$Tzr=C$Tzt(H[1120]),C$Tza=C$Tzt(H[1121]),C$Tzc=(C$Tzn.ID=H[1135],[]);C$Tzn.prototype.handle=function(C$Tzn,C$Tzr){var C$Tzs=C$Tzn.uuid;if(!C$Tzs)return C$Tzn.content||null;cc.AssetLibrary.queryAssetInfo(C$Tzs,function(C$Tzt,C$Tze,C$Tzi){C$Tzt?C$Tzr(C$Tzt):(C$Tzn.url=C$Tzn.rawUrl=C$Tze,(C$Tzn.isRawAsset=C$Tzi)?(C$Tzt=cc.path.extname(C$Tze).toLowerCase())?(C$Tzt=C$Tzt.substr(1),C$Tzi=C$Tza.getQueue(C$Tzn),C$Tzc[0]={queueId:C$Tzn.queueId,id:C$Tze,url:C$Tze,type:C$Tzt,error:null,alias:C$Tzn,complete:!0},C$Tzi.append(C$Tzc),C$Tzn.type=C$Tzt,C$Tzr(null,C$Tzn.content)):C$Tzr(new Error(C$Tzo.getError(4931,C$Tzs,C$Tze))):(C$Tzn.type=H[607],C$Tzr(null,C$Tzn.content)));});},C$Tzr.AssetLoader=C$Tze.exports=C$Tzn;},{"../CCDebug":27,"../utils/CCPath":253,"./loading-items":146,"./pipeline":149}],138:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzr=C$Tzt(H[849]).pushToMap,C$Tzd=C$Tzt(H[720]);function C$Tzs(C$Tzt,C$Tze){this.uuid=C$Tzt,this.type=C$Tze;}function C$Tzn(){this._pathToUuid=C$Tzd.createMap(!0);}C$Tzt=C$Tzn.prototype;C$Tzt.getUuid=function(C$Tzt,C$Tze){C$Tzt=cc.url.normalize(C$Tzt);var C$Tzi=this._pathToUuid[C$Tzt];if(C$Tzi)if(Array.isArray(C$Tzi)){if(!C$Tze)return C$Tzi[0].uuid;for(var C$Tzn=0;C$Tzn<C$Tzi.length;C$Tzn++){var C$Tzr=C$Tzi[C$Tzn];if(C$Tzd.isChildClassOf(C$Tzr.type,C$Tze))return C$Tzr.uuid;}if(C$Tzd.isChildClassOf(C$Tze,cc.SpriteFrame))for(var C$Tzs=0;C$Tzs<C$Tzi.length;C$Tzs++){var C$Tzo=C$Tzi[C$Tzs];if(C$Tzd.isChildClassOf(C$Tzo.type,cc.SpriteAtlas)){cc.errorID(4932,C$Tzt);break;}}}else{if(!C$Tze||C$Tzd.isChildClassOf(C$Tzi.type,C$Tze))return C$Tzi.uuid;C$Tzd.isChildClassOf(C$Tze,cc.SpriteFrame)&&C$Tzd.isChildClassOf(C$Tzi.type,cc.SpriteAtlas)&&cc.errorID(4932,C$Tzt);}return"";},C$Tzt.getUuidArray=function(C$Tzt,C$Tze,C$Tzi){"/"===(C$Tzt=cc.url.normalize(C$Tzt))[C$Tzt.length-1]&&(C$Tzt=C$Tzt.slice(0,-1));var C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tzh=this._pathToUuid,C$Tza=[],C$Tzu=C$Tzd.isChildClassOf;for(C$Tzr in C$Tzh)if(C$Tzr.startsWith(C$Tzt)&&(C$Tzs=C$Tzr,C$Tzo=C$Tzt,!(C$Tzs.length>C$Tzo.length)||46===(C$Tzs=C$Tzs.charCodeAt(C$Tzo.length))||47===C$Tzs)||!C$Tzt){var C$Tzc=C$Tzh[C$Tzr];if(Array.isArray(C$Tzc))for(var C$Tzl=0;C$Tzl<C$Tzc.length;C$Tzl++){var C$Tz_=C$Tzc[C$Tzl];!C$Tze||C$Tzu(C$Tz_.type,C$Tze)?(C$Tza.push(C$Tz_.uuid),C$Tzi&&C$Tzi.push(C$Tzr)):C$Tz_.type===cc.SpriteAtlas&&(C$Tzn=C$Tzr);}else!C$Tze||C$Tzu(C$Tzc.type,C$Tze)?(C$Tza.push(C$Tzc.uuid),C$Tzi&&C$Tzi.push(C$Tzr)):C$Tzc.type===cc.SpriteAtlas&&(C$Tzn=C$Tzr);}return 0===C$Tza.length&&C$Tzn&&C$Tzd.isChildClassOf(C$Tze,cc.SpriteFrame)&&cc.errorID(4932,C$Tzn),C$Tza;},C$Tzt.add=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzt=C$Tzt.substring(0,C$Tzt.length-cc.path.extname(C$Tzt).length);C$Tze=new C$Tzs(C$Tze,C$Tzi);C$Tzr(this._pathToUuid,C$Tzt,C$Tze,C$Tzn);},C$Tzt._getInfo_DEBUG=function(C$Tzt,C$Tze){for(var C$Tzi=this._pathToUuid,C$Tzn=Object.keys(C$Tzi),C$Tzr=0;C$Tzr<C$Tzn.length;++C$Tzr){var C$Tzs=C$Tzn[C$Tzr],C$Tzo=C$Tzi[C$Tzs];if(Array.isArray(C$Tzo))for(var C$Tza=0;C$Tza<C$Tzo.length;C$Tza++){var C$Tzc=C$Tzo[C$Tza];if(C$Tzc.uuid===C$Tzt)return C$Tze.path=C$Tzs,C$Tze.type=C$Tzc.type,!0;}else if(C$Tzo.uuid===C$Tzt)return C$Tze.path=C$Tzs,C$Tze.type=C$Tzo.type,!0;}return!1;},C$Tzt.reset=function(){this._pathToUuid=C$Tzd.createMap(!0);},C$Tze.exports=C$Tzn;},{"../platform/js":209,"../utils/misc":264}],139:[function(C$Tzt,C$Tze,C$Tzl){"use strict";var C$Tzi=C$Tzt(H[1137]),C$Tzn=C$Tzt(H[1136]),C$Tza=C$Tzi.__audioSupport,C$Tzr=C$Tza.format,C$Tzs=C$Tza.context;function C$Tzo(C$Tze,C$Tzi){function C$Tzn(){clearTimeout(C$Tzr),C$Tzt.removeEventListener(H[1138],C$Tzs,!1),C$Tzt.removeEventListener(H[754],C$Tzo,!1),C$Tza.USE_LOADER_EVENT&&C$Tzt.removeEventListener(C$Tza.USE_LOADER_EVENT,C$Tzs,!1);}var C$Tzt=document.createElement(H[508]),C$Tzr=(C$Tzt.src=C$Tze.url,setTimeout(function(){(0===C$Tzt.readyState?C$Tzo:C$Tzs)();},8e3)),C$Tzs=function(){C$Tzn(),C$Tzi(null,C$Tzt);},C$Tzo=function(){C$Tzn();var C$Tzt=H[1139]+C$Tze.url;cc.log(C$Tzt),C$Tzi(C$Tzt);};C$Tzt.addEventListener(H[1138],C$Tzs,!1),C$Tzt.addEventListener(H[754],C$Tzo,!1),C$Tza.USE_LOADER_EVENT&&C$Tzt.addEventListener(C$Tza.USE_LOADER_EVENT,C$Tzs,!1);}function C$Tzc(C$Tzt,C$Tze){C$Tzs||C$Tze(new Error(C$Tzn.getError(4926)));var C$Tzi=cc.loader.getXMLHttpRequest();C$Tzi.open(H[1140],C$Tzt.url,!0),C$Tzi.responseType=H[1141],C$Tzi.onload=function(){C$Tzs.decodeAudioData(C$Tzi.response,function(C$Tzt){C$Tze(null,C$Tzt);},function(){C$Tze(H[1142]+C$Tzt.id,null);});},C$Tzi.onerror=function(){C$Tze(H[1143]+C$Tzt.id,null);},C$Tzi.send();}C$Tze.exports=function(C$Tzt,C$Tze){if(0===C$Tzr.length)return new Error(C$Tzn.getError(4927));(C$Tza.WEB_AUDIO?C$Tzt._owner instanceof cc.AudioClip?C$Tzt._owner.loadMode===cc.AudioClip.LoadMode.WEB_AUDIO?C$Tzc:C$Tzo:C$Tzt.urlParam&&C$Tzt.urlParam.useDom?C$Tzo:C$Tzc:C$Tzo)(C$Tzt,C$Tze);};},{"../CCDebug":27,"../platform/CCSys":198}],140:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tz_=C$Tzt(H[720]);function C$Tzs(C$Tzt,C$Tze){C$Tzt=cc.loader.getItem(C$Tzt);if(C$Tzt){var C$Tzi=C$Tzt.dependKeys;if(C$Tzi)for(var C$Tzn=0;C$Tzn<C$Tzi.length;C$Tzn++){var C$Tzr=C$Tzi[C$Tzn];C$Tze[C$Tzr]||(C$Tze[C$Tzr]=!0,C$Tzs(C$Tzr,C$Tze));}}}function C$Tzf(C$Tzt,C$Tze){C$Tzt._uuid&&(C$Tze[C$Tzt=cc.loader._getReferenceKey(C$Tzt)]||(C$Tze[C$Tzt]=!0,C$Tzs(C$Tzt,C$Tze)));}function C$Tzp(C$Tzt,C$Tzh){for(var C$Tze=0;C$Tze<C$Tzt._components.length;C$Tze++){C$Tzi=void 0;C$Tzn=void 0;C$Tzr=void 0;C$Tzs=void 0;C$Tzo=void 0;C$Tza=void 0;C$Tzc=void 0;C$Tzu=void 0;C$Tzl=void 0;C$Tz_=void 0;var C$Tzi=C$Tzt._components[C$Tze];var C$Tzn=C$Tzh;for(var C$Tzr=Object.getOwnPropertyNames(C$Tzi),C$Tzs=0;C$Tzs<C$Tzr.length;C$Tzs++){var C$Tzo=C$Tzi[C$Tzr[C$Tzs]];if(H[802]==typeof C$Tzo&&C$Tzo)if(Array.isArray(C$Tzo))for(var C$Tza=0;C$Tza<C$Tzo.length;C$Tza++){var C$Tzc=C$Tzo[C$Tza];C$Tzc instanceof cc.RawAsset&&C$Tzf(C$Tzc,C$Tzn);}else if(C$Tzo.constructor&&C$Tzo.constructor!==Object)C$Tzo instanceof cc.RawAsset&&C$Tzf(C$Tzo,C$Tzn);else for(var C$Tzu=Object.getOwnPropertyNames(C$Tzo),C$Tzl=0;C$Tzl<C$Tzu.length;C$Tzl++){var C$Tz_=C$Tzo[C$Tzu[C$Tzl]];C$Tz_ instanceof cc.RawAsset&&C$Tzf(C$Tz_,C$Tzn);}}}for(var C$Tzd=0;C$Tzd<C$Tzt._children.length;C$Tzd++)C$Tzp(C$Tzt._children[C$Tzd],C$Tzh);}C$Tze.exports={autoRelease:function(C$Tzt,C$Tze,C$Tzh){var C$Tzi=cc.loader._autoReleaseSetting,C$Tzn=C$Tz_.createMap();if(C$Tze)for(var C$Tzr=0;C$Tzr<C$Tze.length;C$Tzr++)C$Tzn[C$Tze[C$Tzr]]=!0;for(var C$Tzs=0;C$Tzs<C$Tzh.length;C$Tzs++)C$Tzp(C$Tzh[C$Tzs],C$Tzn);if(C$Tzt)for(var C$Tzo=0;C$Tzo<C$Tzt.length;C$Tzo++){var C$Tza=C$Tzt[C$Tzo];!1===C$Tzi[C$Tza]||C$Tzn[C$Tza]||cc.loader.release(C$Tza);}for(var C$Tzu=Object.keys(C$Tzi),C$Tzc=0;C$Tzc<C$Tzu.length;C$Tzc++){var C$Tzl=C$Tzu[C$Tzc];!0!==C$Tzi[C$Tzl]||C$Tzn[C$Tzl]||cc.loader.release(C$Tzl);}},getDependsRecursively:function(C$Tzt){var C$Tze={};return C$Tzs(C$Tzt,C$Tze),Object.keys(C$Tze);}};},{"../platform/js":209}],141:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tze.exports=function(C$Tzt,C$Tze){var C$Tzt=C$Tzt.url,C$Tzi=cc.loader.getXMLHttpRequest(),C$Tzn=H[1144]+C$Tzt;C$Tzi.open(H[1140],C$Tzt,!0),C$Tzi.responseType=H[1141],C$Tzi.onload=function(){var C$Tzt=C$Tzi.response;C$Tzt?(C$Tzt=new Uint8Array(C$Tzt),C$Tze(null,C$Tzt)):C$Tze({status:C$Tzi.status,errorMessage:C$Tzn+H[1145]});},C$Tzi.onerror=function(){C$Tze({status:C$Tzi.status,errorMessage:C$Tzn+H[1146]});},C$Tzi.ontimeout=function(){C$Tze({status:C$Tzi.status,errorMessage:C$Tzn+H[1147]});},C$Tzi.send(null);};},{}],142:[function(C$Tzt,C$Tzh,C$Tzu){"use strict";var C$Tze=C$Tzt(H[720]),C$Tza=C$Tzt(H[1136]),C$Tz_=(C$Tzt(H[1134]),C$Tzt(H[1120])),C$Tzn=C$Tzt(H[1148]),C$Tzi=C$Tzt(H[1149]),C$Tzr=C$Tzt(H[1150]),C$Tzd=C$Tzt(H[800]).urlAppendTimestamp;function C$Tzs(){return null;}function C$Tzf(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.url,C$Tzt=document,C$Tzr=document.createElement(H[1151]);function C$Tzs(){C$Tzr.parentNode.removeChild(C$Tzr),C$Tzr.removeEventListener(H[514],C$Tzs,!1),C$Tzr.removeEventListener(H[754],C$Tzo,!1),C$Tze(null,C$Tzn);}function C$Tzo(){C$Tzr.parentNode.removeChild(C$Tzr),C$Tzr.removeEventListener(H[514],C$Tzs,!1),C$Tzr.removeEventListener(H[754],C$Tzo,!1),C$Tze(new Error(C$Tza.getError(4928,C$Tzn)));}H[1152]!==window.location.protocol&&(C$Tzr.crossOrigin=H[1153]),C$Tzr.async=C$Tzi,C$Tzr.src=C$Tzd(C$Tzn),C$Tzr.addEventListener(H[514],C$Tzs,!1),C$Tzr.addEventListener(H[754],C$Tzo,!1),C$Tzt.body.appendChild(C$Tzr);}function C$Tzc(C$Tze,C$Tzi,C$Tzt,C$Tzn){void 0===C$Tzt&&(C$Tzt=!0);var C$Tzr=C$Tzd(C$Tze.url);if(C$Tzn=C$Tzn||new Image(),C$Tzt&&H[1152]!==window.location.protocol?C$Tzn.crossOrigin=H[1153]:C$Tzn.crossOrigin=null,C$Tzn.complete&&0<C$Tzn.naturalWidth&&C$Tzn.src===C$Tzr)return C$Tzn;function C$Tzs(){C$Tzn.removeEventListener(H[514],C$Tzo),C$Tzn.removeEventListener(H[754],C$Tzs),H[1154]!==window.location.protocol&&C$Tzn.crossOrigin&&H[1153]===C$Tzn.crossOrigin.toLowerCase()?C$Tzc(C$Tze,C$Tzi,!1,C$Tzn):C$Tzi(new Error(C$Tza.getError(4930,C$Tzr)));}var C$Tzo=function C$Tzt(){C$Tzn.removeEventListener(H[514],C$Tzt),C$Tzn.removeEventListener(H[754],C$Tzs),C$Tzn.id=C$Tze.id,C$Tzi(null,C$Tzn);};C$Tzn.addEventListener(H[514],C$Tzo),C$Tzn.addEventListener(H[754],C$Tzs),C$Tzn.src=C$Tzr;}function C$Tzo(C$Tzt,C$Tze){C$Tze(null,C$Tzt.url);}function C$Tzl(C$Tzt){this.id=H[1155],this.async=!0,this.pipeline=null,this._curConcurrent=0,this._loadQueue=[],this._subpackages={},this.extMap=C$Tze.mixin(C$Tzt,C$Tzp);}var C$Tzp={js:C$Tzf,png:C$Tzc,jpg:C$Tzc,bmp:C$Tzc,jpeg:C$Tzc,gif:C$Tzc,ico:C$Tzc,tiff:C$Tzc,webp:C$Tzc,image:C$Tzc,pvr:C$Tzi,pkm:C$Tzi,mp3:C$Tzt=C$Tzt(H[1156]),ogg:C$Tzt,wav:C$Tzt,m4a:C$Tzt,txt:C$Tzr,xml:C$Tzr,vsh:C$Tzr,fsh:C$Tzr,atlas:C$Tzr,tmx:C$Tzr,tsx:C$Tzr,json:C$Tzr,ExportJson:C$Tzr,plist:C$Tzr,fnt:C$Tzr,font:C$Tzs,eot:C$Tzs,ttf:C$Tzs,woff:C$Tzs,svg:C$Tzs,ttc:C$Tzs,uuid:function(C$Tzt,C$Tze){var C$Tzi=C$Tzn.load(C$Tzt,C$Tze);return void 0===C$Tzi?this.extMap.json(C$Tzt,C$Tze):C$Tzi||void 0;},binary:C$Tzi,bin:C$Tzi,dbbin:C$Tzi,skel:C$Tzi,mp4:C$Tzo,avi:C$Tzo,mov:C$Tzo,mpg:C$Tzo,mpeg:C$Tzo,rm:C$Tzo,rmvb:C$Tzo,default:C$Tzr};C$Tzl.ID=H[1155],C$Tzl.PackDownloader=C$Tzn,C$Tzl.prototype.addHandlers=function(C$Tzt){C$Tze.mixin(this.extMap,C$Tzt);},C$Tzl.prototype._handleLoadQueue=function(){for(;this._curConcurrent<cc.macro.DOWNLOAD_MAX_CONCURRENT;){var C$Tzt=this._loadQueue.shift();if(!C$Tzt)break;var C$Tze=this.handle(C$Tzt.item,C$Tzt.callback);void 0!==C$Tze&&(C$Tze instanceof Error?C$Tzt.callback(C$Tze):C$Tzt.callback(null,C$Tze));}},C$Tzl.prototype.handle=function(C$Tzt,C$Tzi){var C$Tzn=this,C$Tze=this.extMap[C$Tzt.type]||this.extMap.default,C$Tzr=void 0;if(this._curConcurrent<cc.macro.DOWNLOAD_MAX_CONCURRENT){if(this._curConcurrent++,void 0!==(C$Tzr=C$Tze.call(this,C$Tzt,function(C$Tzt,C$Tze){C$Tzn._curConcurrent=Math.max(0,C$Tzn._curConcurrent-1),C$Tzn._handleLoadQueue(),C$Tzi&&C$Tzi(C$Tzt,C$Tze);})))return this._curConcurrent=Math.max(0,this._curConcurrent-1),this._handleLoadQueue(),C$Tzr;}else if(C$Tzt.ignoreMaxConcurrency){if(void 0!==(C$Tzr=C$Tze.call(this,C$Tzt,C$Tzi)))return C$Tzr;}else this._loadQueue.push({item:C$Tzt,callback:C$Tzi});},C$Tzl.prototype.loadSubpackage=function(C$Tzt,C$Tze,C$Tzi){!C$Tzi&&C$Tze&&(C$Tzi=C$Tze,C$Tze=null);var C$Tzn=this._subpackages[C$Tzt];C$Tzn?C$Tzn.loaded?C$Tzi&&C$Tzi():C$Tzf({url:C$Tzn.path+H[1157]},function(C$Tzt){C$Tzt||(C$Tzn.loaded=!0),C$Tzi&&C$Tzi(C$Tzt);}):C$Tzi&&C$Tzi(new Error(H[1158]+C$Tzt));},C$Tz_.Downloader=C$Tzh.exports=C$Tzl;},{"../CCDebug":27,"../platform/js":209,"../utils/CCPath":253,"./audio-downloader":139,"./binary-downloader":141,"./pack-downloader":148,"./pipeline":149,"./text-downloader":152,"./utils":154}],143:[function(C$Tzt,C$Tze,C$Tzn){"use strict";var C$Tzi,C$Tzh=C$Tzt(H[914]),C$Tzu=null,C$Tz_={},C$Tzd=-1,C$Tzf=[],C$Tzp=(C$Tzi=void 0,function(){var C$Tzt,C$Tze;return C$Tzi=void 0===C$Tzi?!!window.FontFace&&(C$Tzt=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),C$Tze=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor),C$Tzt?42<parseInt(C$Tzt[1],10):!C$Tze):C$Tzi;});function C$Tzy(){for(var C$Tzt=!0,C$Tze=Date.now(),C$Tzi=C$Tzf.length-1;0<=C$Tzi;C$Tzi--){var C$Tzn,C$Tzr,C$Tzs=C$Tzf[C$Tzi],C$Tzo=C$Tzs.fontFamilyName;3e3<C$Tze-C$Tzs.startTime?(cc.warnID(4933,C$Tzo),C$Tzs.callback(null,C$Tzo),C$Tzf.splice(C$Tzi,1)):(C$Tzn=C$Tzs.refWidth,C$Tzu.font=C$Tzr=H[1159]+C$Tzo,C$Tzn!==C$Tzh.safeMeasureText(C$Tzu,H[1160],C$Tzr)?(C$Tzf.splice(C$Tzi,1),C$Tzs.callback(null,C$Tzo)):C$Tzt=!1);}C$Tzt&&(clearInterval(C$Tzd),C$Tzd=-1);}var C$Tzm={loadFont:function(C$Tzt,C$Tze){var C$Tzt=C$Tzt.url,C$Tzi=C$Tzm._getFontFamily(C$Tzt);if(C$Tz_[C$Tzi])return C$Tzi;C$Tzu||((C$Tza=document.createElement(H[1161])).width=100,C$Tza.height=100,C$Tzu=C$Tza.getContext(H[1162]));var C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza=H[1159]+C$Tzi,C$Tza=(C$Tzu.font=C$Tza,C$Tzh.safeMeasureText(C$Tzu,H[1160],C$Tza)),C$Tzc=document.createElement(H[1010]),C$Tzl=(C$Tzc.type=H[1163],""),C$Tzt=(isNaN(+C$Tzi)?C$Tzl+=H[1164]+C$Tzi+H[1165]:C$Tzl+=H[1166]+C$Tzi+H[1167],C$Tzc.textContent=(C$Tzl+=H[1168]+C$Tzt+H[1169])+"}",document.body.appendChild(C$Tzc),document.createElement(H[1170])),C$Tzl=C$Tzt.style;C$Tzl.fontFamily=C$Tzi,C$Tzt.innerHTML=".",C$Tzl.position=H[576],C$Tzl.left=H[1171],C$Tzl.top=H[1171],document.body.appendChild(C$Tzt),C$Tzp()?(C$Tzn=Date.now(),C$Tzr=C$Tzi,C$Tzs=C$Tze,C$Tzl=new Promise(function(C$Tzi,C$Tzt){(function C$Tze(){3e3<=Date.now()-C$Tzn?C$Tzt():document.fonts.load(H[1159]+C$Tzr).then(function(C$Tzt){1<=C$Tzt.length?C$Tzi():setTimeout(C$Tze,100);},function(){C$Tzt();});})();}),C$Tzo=null,C$Tzt=new Promise(function(C$Tzt,C$Tze){C$Tzo=setTimeout(C$Tze,3e3);}),Promise.race([C$Tzt,C$Tzl]).then(function(){C$Tzo&&(clearTimeout(C$Tzo),C$Tzo=null),C$Tzs(null,C$Tzr);},function(){cc.warnID(4933,C$Tzr),C$Tzs(null,C$Tzr);})):(C$Tzt={fontFamilyName:C$Tzi,refWidth:C$Tza,callback:C$Tze,startTime:Date.now()},C$Tzf.push(C$Tzt),-1===C$Tzd&&(C$Tzd=setInterval(C$Tzy,100))),C$Tz_[C$Tzi]=C$Tzc;},_getFontFamily:function(C$Tzt){var C$Tze=C$Tzt.lastIndexOf(H[1172]);if(-1===C$Tze)return C$Tzt;var C$Tzi=C$Tzt.lastIndexOf("/"),C$Tzt=-1===C$Tzi?C$Tzt.substring(0,C$Tze)+H[1173]:C$Tzt.substring(C$Tzi+1,C$Tze)+H[1173];return C$Tzt=-1!==C$Tzt.indexOf(" ")?'"'+C$Tzt+'"':C$Tzt;}};C$Tze.exports=C$Tzm;},{"../utils/text-utils":271}],144:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[1123]),C$Tzt(H[1124]),C$Tzt(H[1121]),C$Tzt(H[1120]),C$Tzt(H[1174]);},{"./CCLoader":136,"./downloader":142,"./loader":145,"./loading-items":146,"./pipeline":149}],145:[function(C$Tzt,C$Tze,C$Tzh){"use strict";var C$Tzi=C$Tzt(H[720]),C$Tzu=C$Tzt(H[1175]).plistParser,C$Tz_=C$Tzt(H[1120]),C$Tzd=C$Tzt(H[1176]),C$Tzn=C$Tzt(H[1177]),C$Tzt=C$Tzt(H[1178]);function C$Tzr(C$Tze){if(H[462]!=typeof C$Tze.content)return new Error(H[239]);try{return JSON.parse(C$Tze.content);}catch(C$Tzt){return new Error(H[1179]+C$Tze.id+H[1180]+C$Tzt);}}function C$Tzs(C$Tzt){if(C$Tzt._owner instanceof cc.Asset)return null;var C$Tze=C$Tzt.content;if(cc.sys.platform!==cc.sys.FB_PLAYABLE_ADS&&!(C$Tze instanceof Image))return new Error(H[1181]);var C$Tzi=C$Tzt.texture||new C$Tzd();return C$Tzi._uuid=C$Tzt.uuid,C$Tzi.url=C$Tzt.url,C$Tzi._setRawAsset(C$Tzt.rawUrl,!1),C$Tzi._nativeAsset=C$Tze,C$Tzi;}function C$Tzo(C$Tzt,C$Tze){if(C$Tzt._owner instanceof cc.Asset)return null;var C$Tzi=new cc.AudioClip();return C$Tzi._setRawAsset(C$Tzt.rawUrl,!1),C$Tzi._nativeAsset=C$Tzt.content,C$Tzi.url=C$Tzt.url,C$Tzi;}function C$Tza(C$Tzt){return C$Tzt.load?C$Tzt.load(C$Tzt.content):null;}function C$Tzc(C$Tzt,C$Tze){return C$Tzt[C$Tze]<<8|C$Tzt[C$Tze+1];}function C$Tzl(C$Tzt){this.id=H[515],this.async=!0,this.pipeline=null,this.extMap=C$Tzi.mixin(C$Tzt,C$Tzf);}var C$Tzf={png:C$Tzs,jpg:C$Tzs,bmp:C$Tzs,jpeg:C$Tzs,gif:C$Tzs,ico:C$Tzs,tiff:C$Tzs,webp:C$Tzs,image:C$Tzs,pvr:function(C$Tzt){C$Tzt=C$Tzt.content instanceof ArrayBuffer?C$Tzt.content:C$Tzt.content.buffer;if(55727696!=(C$Tzn=new Int32Array(C$Tzt,0,13))[0])return new Error(H[1182]);var C$Tze=C$Tzn[7],C$Tzi=C$Tzn[6],C$Tzn=C$Tzn[12]+52;return{_data:new Uint8Array(C$Tzt,C$Tzn),_compressed:!0,width:C$Tze,height:C$Tzi};},pkm:function(C$Tzt){var C$Tzt=C$Tzt.content instanceof ArrayBuffer?C$Tzt.content:C$Tzt.content.buffer,C$Tze=new Uint8Array(C$Tzt);if(0!==(C$Tzi=C$Tzc(C$Tze,6))&&1!==C$Tzi&&3!==C$Tzi)return new Error(H[1183]);var C$Tzi=C$Tzc(C$Tze,12),C$Tzn=C$Tzc(C$Tze,14);return C$Tzc(C$Tze,8),C$Tzc(C$Tze,10),{_data:new Uint8Array(C$Tzt,16),_compressed:!0,width:C$Tzi,height:C$Tzn};},mp3:C$Tzo,ogg:C$Tzo,wav:C$Tzo,m4a:C$Tzo,json:C$Tzr,ExportJson:C$Tzr,plist:function(C$Tzt){return H[462]!=typeof C$Tzt.content?new Error(H[1184]):C$Tzu.parse(C$Tzt.content)||new Error(H[1185]+C$Tzt.id+H[1186]);},uuid:C$Tzn,prefab:C$Tzn,fire:C$Tzn,scene:C$Tzn,binary:C$Tza,dbbin:C$Tza,bin:C$Tza,skel:C$Tza,font:C$Tzt.loadFont,eot:C$Tzt.loadFont,ttf:C$Tzt.loadFont,woff:C$Tzt.loadFont,svg:C$Tzt.loadFont,ttc:C$Tzt.loadFont,default:function(){return null;}};C$Tzl.ID=H[515],C$Tzl.prototype.addHandlers=function(C$Tzt){this.extMap=C$Tzi.mixin(this.extMap,C$Tzt);},C$Tzl.prototype.handle=function(C$Tzt,C$Tze){return(this.extMap[C$Tzt.type]||this.extMap.default).call(this,C$Tzt,C$Tze);},C$Tz_.Loader=C$Tze.exports=C$Tzl;},{"../assets/CCTexture2D":50,"../platform/CCSAXParser":196,"../platform/js":209,"./font-loader":143,"./pipeline":149,"./uuid-loader":155}],146:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzr=C$Tzt(H[1068]),C$Tzo=(C$Tzt(H[1134]),C$Tzt(H[720])),C$Tz_=0|998*Math.random(),C$Tzc=C$Tzo.createMap(!0),C$Tzs=[],C$Tza={WORKING:1,COMPLETE:2,ERROR:3},C$Tzl=C$Tzo.createMap(!0);function C$Tzd(C$Tzt,C$Tze){var C$Tzi=H[802]==typeof C$Tzt?C$Tzt.url:C$Tzt,C$Tzn={queueId:C$Tze,id:C$Tzi,url:C$Tzi,rawUrl:void 0,urlParam:function(C$Tzt){if(C$Tzt){var C$Tze,C$Tzt=C$Tzt.split("?");if(C$Tzt&&C$Tzt[0]&&C$Tzt[1])return C$Tze={},C$Tzt[1].split("&").forEach(function(C$Tzt){C$Tzt=C$Tzt.split("=");C$Tze[C$Tzt[0]]=C$Tzt[1];}),C$Tze;}}(C$Tzi),type:"",error:null,content:null,complete:!1,states:{},deps:null};if(H[802]==typeof C$Tzt&&(C$Tzo.mixin(C$Tzn,C$Tzt),C$Tzt.skips))for(var C$Tzr=0;C$Tzr<C$Tzt.skips.length;C$Tzr++){var C$Tzs=C$Tzt.skips[C$Tzr];C$Tzn.states[C$Tzs]=C$Tza.COMPLETE;}return C$Tzn.rawUrl=C$Tzn.url,C$Tzi&&!C$Tzn.type&&(C$Tzn.type=cc.path.extname(C$Tzi).toLowerCase().substr(1)),C$Tzn;}var C$Tzh=[];function C$Tzu(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzr.call(this),this._id=++C$Tz_,(C$Tzc[this._id]=this)._pipeline=C$Tzt,this._errorUrls=C$Tzo.createMap(!0),this._appending=!1,this._ownerQueue=null,this.onProgress=C$Tzi,this.onComplete=C$Tzn,this.map=C$Tzo.createMap(!0),this.completed={},this.totalCount=0,this.completedCount=0,this._pipeline?this.active=!0:this.active=!1,C$Tze&&(0<C$Tze.length?this.append(C$Tze):this.allComplete());}C$Tzu.ItemState=new cc.Enum(C$Tza),C$Tzu.create=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){void 0===C$Tzi?H[704]==typeof C$Tze&&(C$Tzn=C$Tze,C$Tze=C$Tzi=null):void 0===C$Tzn&&(H[704]==typeof C$Tze?(C$Tzn=C$Tzi,C$Tzi=C$Tze,C$Tze=null):(C$Tzn=C$Tzi,C$Tzi=null));var C$Tzr=C$Tzs.pop();return C$Tzr?(C$Tzr._pipeline=C$Tzt,C$Tzr.onProgress=C$Tzi,C$Tzr.onComplete=C$Tzn,(C$Tzc[C$Tzr._id]=C$Tzr)._pipeline&&(C$Tzr.active=!0),C$Tze&&C$Tzr.append(C$Tze)):C$Tzr=new C$Tzu(C$Tzt,C$Tze,C$Tzi,C$Tzn),C$Tzr;},C$Tzu.getQueue=function(C$Tzt){return C$Tzt.queueId?C$Tzc[C$Tzt.queueId]:null;},C$Tzu.itemComplete=function(C$Tzt){var C$Tze=C$Tzc[C$Tzt.queueId];C$Tze&&C$Tze.itemComplete(C$Tzt.id);},C$Tzu.initQueueDeps=function(C$Tzt){var C$Tze=C$Tzl[C$Tzt._id];C$Tze?(C$Tze.completed.length=0,C$Tze.deps.length=0):C$Tzl[C$Tzt._id]={completed:[],deps:[]};},C$Tzu.registerQueueDep=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.queueId||C$Tzt;if(!C$Tzi)return!1;C$Tzi=C$Tzl[C$Tzi];if(C$Tzi)-1===C$Tzi.deps.indexOf(C$Tze)&&C$Tzi.deps.push(C$Tze);else if(C$Tzt.id)for(var C$Tzn in C$Tzl){C$Tzn=C$Tzl[C$Tzn];-1!==C$Tzn.deps.indexOf(C$Tzt.id)&&-1===C$Tzn.deps.indexOf(C$Tze)&&C$Tzn.deps.push(C$Tze);}},C$Tzu.finishDep=function(C$Tzt){for(var C$Tze in C$Tzl){C$Tze=C$Tzl[C$Tze];-1!==C$Tze.deps.indexOf(C$Tzt)&&-1===C$Tze.completed.indexOf(C$Tzt)&&C$Tze.completed.push(C$Tzt);}};C$Tzt=C$Tzu.prototype;C$Tzo.mixin(C$Tzt,C$Tzr.prototype),C$Tzt.append=function(C$Tzt,C$Tze){if(!this.active)return[];C$Tze&&!C$Tze.deps&&(C$Tze.deps=[]),this._appending=!0;for(var C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo=[],C$Tza=0;C$Tza<C$Tzt.length;++C$Tza)!(C$Tzr=C$Tzt[C$Tza]).queueId||this.map[C$Tzr.id]?H[462]==typeof((C$Tzs=C$Tzr).url||C$Tzs)&&(C$Tzn=(C$Tzs=C$Tzd(C$Tzr,this._id)).id,this.map[C$Tzn]||(this.map[C$Tzn]=C$Tzs,this.totalCount++,C$Tze&&C$Tze.deps.push(C$Tzs),C$Tzu.registerQueueDep(C$Tze||this._id,C$Tzn),C$Tzo.push(C$Tzs))):(this.map[C$Tzr.id]=C$Tzr,C$Tze&&C$Tze.deps.push(C$Tzr),C$Tzr.complete||function C$Tzt(C$Tze,C$Tzi,C$Tzn){if(C$Tze&&C$Tzi){var C$Tzr=!1;if(C$Tzh.push(C$Tzi.id),C$Tzi.deps)for(var C$Tzs,C$Tzo=C$Tzi.deps,C$Tza=0;C$Tza<C$Tzo.length;C$Tza++){if((C$Tzs=C$Tzo[C$Tza]).id===C$Tze.id){C$Tzr=!0;break;}if(!(0<=C$Tzh.indexOf(C$Tzs.id))&&C$Tzs.deps&&C$Tzt(C$Tze,C$Tzs,!0)){C$Tzr=!0;break;}}return C$Tzn||(C$Tzh.length=0),C$Tzr;}}(C$Tze,C$Tzr)?(this.totalCount++,this.itemComplete(C$Tzr.id)):(C$Tzi=this,(C$Tzn=C$Tzc[C$Tzr.queueId])&&(this.totalCount++,C$Tzu.registerQueueDep(C$Tze||this._id,C$Tzr.id),C$Tzn.addListener(C$Tzr.id,function(C$Tzt){C$Tzi.itemComplete(C$Tzt.id);}))));return this._appending=!1,this.completedCount===this.totalCount?this.allComplete():this._pipeline.flowIn(C$Tzo),C$Tzo;},C$Tzt._childOnProgress=function(C$Tzt){var C$Tze;this.onProgress&&(C$Tze=C$Tzl[this._id],this.onProgress(C$Tze?C$Tze.completed.length:this.completedCount,C$Tze?C$Tze.deps.length:this.totalCount,C$Tzt));},C$Tzt.allComplete=function(){var C$Tzt=C$Tzo.isEmptyObject(this._errorUrls)?null:this._errorUrls;this.onComplete&&this.onComplete(C$Tzt,this);},C$Tzt.isCompleted=function(){return this.completedCount>=this.totalCount;},C$Tzt.isItemCompleted=function(C$Tzt){return!!this.completed[C$Tzt];},C$Tzt.exists=function(C$Tzt){return!!this.map[C$Tzt];},C$Tzt.getContent=function(C$Tzt){var C$Tzt=this.map[C$Tzt],C$Tze=null;return C$Tzt&&(C$Tzt.content?C$Tze=C$Tzt.content:C$Tzt.alias&&(C$Tze=C$Tzt.alias.content)),C$Tze;},C$Tzt.getError=function(C$Tzt){var C$Tzt=this.map[C$Tzt],C$Tze=null;return C$Tzt&&(C$Tzt.error?C$Tze=C$Tzt.error:C$Tzt.alias&&(C$Tze=C$Tzt.alias.error)),C$Tze;},C$Tzt.addListener=C$Tzr.prototype.on,C$Tzt.hasListener=C$Tzr.prototype.hasEventListener,C$Tzt.removeListener=C$Tzr.prototype.off,C$Tzt.removeAllListeners=C$Tzr.prototype.removeAll,C$Tzt.removeItem=function(C$Tzt){var C$Tze=this.map[C$Tzt];C$Tze&&this.completed[C$Tze.alias||C$Tzt]&&(delete this.completed[C$Tzt],delete this.map[C$Tzt],C$Tze.alias&&(delete this.completed[C$Tze.alias.id],delete this.map[C$Tze.alias.id]),this.completedCount--,this.totalCount--);},C$Tzt.itemComplete=function(C$Tzt){var C$Tze,C$Tzi=this.map[C$Tzt];C$Tzi&&(C$Tze=C$Tzt in this._errorUrls,C$Tzi.error instanceof Error||C$Tzo.isString(C$Tzi.error)?this._errorUrls[C$Tzt]=C$Tzi.error:C$Tzi.error?C$Tzo.mixin(this._errorUrls,C$Tzi.error):!C$Tzi.error&&C$Tze&&delete this._errorUrls[C$Tzt],this.completed[C$Tzt]=C$Tzi,this.completedCount++,C$Tzu.finishDep(C$Tzi.id),this.onProgress&&(C$Tze=C$Tzl[this._id],this.onProgress(C$Tze?C$Tze.completed.length:this.completedCount,C$Tze?C$Tze.deps.length:this.totalCount,C$Tzi)),this.emit(C$Tzt,C$Tzi),this.removeAll(C$Tzt),!this._appending&&this.completedCount>=this.totalCount&&this.allComplete());},C$Tzt.destroy=function(){this.active=!1,this._appending=!1,this._pipeline=null,this._ownerQueue=null,C$Tzo.clear(this._errorUrls),this.onProgress=null,this.onComplete=null,this.map=C$Tzo.createMap(!0),this.completed={},this.totalCount=0,this.completedCount=0,C$Tzr.call(this),C$Tzl[this._id]&&(C$Tzl[this._id].completed.length=0,C$Tzl[this._id].deps.length=0),delete C$Tzc[this._id],delete C$Tzl[this._id],-1===C$Tzs.indexOf(this)&&C$Tzs.length<10&&C$Tzs.push(this);},cc.LoadingItems=C$Tze.exports=C$Tzu;},{"../platform/callbacks-invoker":202,"../platform/js":209,"../utils/CCPath":253}],147:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzt,C$Tze,C$Tzi){this.id=H[1187],this.async=!1,this.pipeline=null,this.md5AssetsMap=C$Tzt,this.md5NativeAssetsMap=C$Tze,this.libraryBase=C$Tzi;}var C$Tzt=C$Tzt(H[1120]),C$Tzr=/.*[/\\][0-9a-fA-F]{2}[/\\]([0-9a-fA-F-]{8,})/;C$Tzn.ID=H[1187],C$Tzn.prototype.handle=function(C$Tzt){return C$Tzt.url=this.transformURL(C$Tzt.url),null;},C$Tzn.prototype.transformURL=function(C$Tzt){var C$Tzi=!C$Tzt.startsWith(this.libraryBase)?this.md5NativeAssetsMap:this.md5AssetsMap;return C$Tzt=C$Tzt.replace(C$Tzr,function(C$Tzt,C$Tze){C$Tze=C$Tzi[C$Tze];return C$Tze?C$Tzt+"."+C$Tze:C$Tzt;});},C$Tzt.MD5Pipe=C$Tze.exports=C$Tzn;},{"./pipeline":149}],148:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzs=C$Tzt(H[1188]),C$Tzd=C$Tzt(H[849]).pushToMap,C$Tzo=0,C$Tzr=2,C$Tza=3;function C$Tzf(){this.unpacker=null,this.state=C$Tzo,this.duration=0;}var C$Tzc={},C$Tzl={},C$Tzh={},C$Tzu=[],C$Tz_=null;function C$Tzp(C$Tzt,C$Tze){return new Error(H[1189]+C$Tzt+H[1190]+C$Tze);}C$Tze.exports={msToRelease:12e4,initPacks:function(C$Tzt){for(var C$Tze in C$Tzc={},C$Tzl=C$Tzt)for(var C$Tzi=C$Tzt[C$Tze],C$Tzn=0;C$Tzn<C$Tzi.length;C$Tzn++){var C$Tzr=C$Tzi[C$Tzn],C$Tzs=1===C$Tzi.length;C$Tzd(C$Tzc,C$Tzr,C$Tze,C$Tzs);}},_loadNewPack:function(C$Tzi,C$Tzn,C$Tzr){var C$Tzs=this,C$Tzo=cc.AssetLibrary.getLibUrlNoExt(C$Tzn)+H[1191];cc.loader.load({url:C$Tzo,ignoreMaxConcurrency:!0},function(C$Tzt,C$Tze){if(C$Tzt)return cc.errorID(4916,C$Tzi),C$Tzr(C$Tzt);C$Tzh[C$Tzn].url=C$Tzo;C$Tzt=C$Tzs._doLoadNewPack(C$Tzi,C$Tzn,C$Tze);C$Tzt?C$Tzr(null,C$Tzt):C$Tzr(C$Tzp(C$Tzi,C$Tzn));});},_doPreload:function(C$Tzt,C$Tze){var C$Tzi=C$Tzh[C$Tzt];C$Tzi||((C$Tzi=C$Tzh[C$Tzt]=new C$Tzf()).state=C$Tzr),C$Tzi.state!==C$Tza&&(C$Tzi.unpacker=new C$Tzs.JsonUnpacker(),C$Tzi.unpacker.load(C$Tzl[C$Tzt],C$Tze),C$Tzi.state=C$Tza);},_doLoadNewPack:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr=C$Tzh[C$Tze];return C$Tzr.state!==C$Tza&&(H[462]==typeof C$Tzi&&(C$Tzi=JSON.parse(C$Tzi)),Array.isArray(C$Tzi)?C$Tzr.unpacker=new C$Tzs.JsonUnpacker():C$Tzi.type===C$Tzs.TextureUnpacker.ID&&(C$Tzr.unpacker=new C$Tzs.TextureUnpacker()),C$Tzr.unpacker.load(C$Tzl[C$Tze],C$Tzi),C$Tzr.state=C$Tza,C$Tzr.duration=0,C$Tzu.push(C$Tze),C$Tzn=this,C$Tz_=C$Tz_||setInterval(function(){for(var C$Tzt=C$Tzn.msToRelease/5e3,C$Tze=C$Tzu.length-1;0<=C$Tze;C$Tze--){var C$Tzi=C$Tzu[C$Tze];++C$Tzh[C$Tzi].duration>C$Tzt&&C$Tzn.release(C$Tzi);}0===C$Tzu.length&&(clearInterval(C$Tz_),C$Tz_=null);},5e3)),C$Tzr.unpacker.retrieve(C$Tzt);},_selectLoadedPack:function(C$Tzt){for(var C$Tze=C$Tzo,C$Tzi="",C$Tzn=0;C$Tzn<C$Tzt.length;C$Tzn++){var C$Tzr=C$Tzt[C$Tzn],C$Tzs=C$Tzh[C$Tzr];if(C$Tzs){C$Tzs=C$Tzs.state;if(C$Tzs===C$Tza)return C$Tzr;C$Tze<C$Tzs&&(C$Tze=C$Tzs,C$Tzi=C$Tzr);}}return C$Tze!==C$Tzo?C$Tzi:C$Tzt[0];},load:function(C$Tzt,C$Tze){var C$Tzi,C$Tzt=C$Tzt.uuid,C$Tzn=C$Tzc[C$Tzt];if(C$Tzn)return Array.isArray(C$Tzn)&&(C$Tzn=this._selectLoadedPack(C$Tzn)),C$Tzi=C$Tzh[C$Tzn],C$Tzi&&C$Tzi.state===C$Tza?(C$Tzi.duration=0,C$Tzi.unpacker.retrieve(C$Tzt)||C$Tzp(C$Tzt,C$Tzn)):(C$Tzi||(console.log(H[1192],C$Tzn,C$Tzt),(C$Tzi=C$Tzh[C$Tzn]=new C$Tzf()).state=C$Tzr),this._loadNewPack(C$Tzt,C$Tzn,C$Tze),null);},release:function(C$Tzt){var C$Tze=C$Tzh[C$Tzt];C$Tze&&(cc.loader.release(C$Tze.url),delete C$Tzh[C$Tzt],cc.js.array.fastRemove(C$Tzu,C$Tzt));}};},{"../utils/misc":264,"./unpackers":153}],149:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[720]),C$Tzr=C$Tzt(H[1121]),C$Tza=C$Tzr.ItemState;function C$Tzs(C$Tzt){this._pipes=C$Tzt,this._cache=C$Tzn.createMap(!0);for(var C$Tze=0;C$Tze<C$Tzt.length;++C$Tze){var C$Tzi=C$Tzt[C$Tze];C$Tzi.handle&&C$Tzi.id&&(C$Tzi.pipeline=this,C$Tzi.next=C$Tze<C$Tzt.length-1?C$Tzt[C$Tze+1]:null);}}C$Tzs.ItemState=C$Tza;C$Tzt=C$Tzs.prototype;C$Tzt.insertPipe=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn;!C$Tzt.handle||!C$Tzt.id||C$Tze>this._pipes.length?cc.warnID(4921):0<this._pipes.indexOf(C$Tzt)?cc.warnID(4922):(C$Tzi=null,C$Tze<(C$Tzt.pipeline=this)._pipes.length&&(C$Tzi=this._pipes[C$Tze]),C$Tzn=null,(C$Tzn=0<C$Tze?this._pipes[C$Tze-1]:C$Tzn)&&(C$Tzn.next=C$Tzt),C$Tzt.next=C$Tzi,this._pipes.splice(C$Tze,0,C$Tzt));},C$Tzt.insertPipeAfter=function(C$Tzt,C$Tze){C$Tzt=this._pipes.indexOf(C$Tzt);C$Tzt<0||this.insertPipe(C$Tze,C$Tzt+1);},C$Tzt.appendPipe=function(C$Tzt){C$Tzt.handle&&C$Tzt.id&&(C$Tzt.pipeline=this,C$Tzt.next=null,0<this._pipes.length&&(this._pipes[this._pipes.length-1].next=C$Tzt),this._pipes.push(C$Tzt));},C$Tzt.flowIn=function(C$Tzt){var C$Tze,C$Tzi,C$Tzn=this._pipes[0];if(C$Tzn){for(C$Tze=0;C$Tze<C$Tzt.length;C$Tze++)C$Tzi=C$Tzt[C$Tze],this._cache[C$Tzi.id]=C$Tzi;for(C$Tze=0;C$Tze<C$Tzt.length;C$Tze++)(function C$Tzi(C$Tzt,C$Tzn){var C$Tzr=C$Tzt.id,C$Tze=C$Tzn.states[C$Tzr],C$Tzs=C$Tzt.next,C$Tzo=C$Tzt.pipeline;C$Tzn.error||C$Tze===C$Tza.WORKING||C$Tze===C$Tza.ERROR||(C$Tze===C$Tza.COMPLETE?C$Tzs?C$Tzi(C$Tzs,C$Tzn):C$Tzo.flowOut(C$Tzn):(C$Tzn.states[C$Tzr]=C$Tza.WORKING,(C$Tze=C$Tzt.handle(C$Tzn,function(C$Tzt,C$Tze){C$Tzt?(C$Tzn.error=C$Tzt,C$Tzn.states[C$Tzr]=C$Tza.ERROR,C$Tzo.flowOut(C$Tzn)):(C$Tze&&(C$Tzn.content=C$Tze),C$Tzn.states[C$Tzr]=C$Tza.COMPLETE,C$Tzs?C$Tzi(C$Tzs,C$Tzn):C$Tzo.flowOut(C$Tzn));}))instanceof Error?(C$Tzn.error=C$Tze,C$Tzn.states[C$Tzr]=C$Tza.ERROR,C$Tzo.flowOut(C$Tzn)):void 0!==C$Tze&&(null!==C$Tze&&(C$Tzn.content=C$Tze),C$Tzn.states[C$Tzr]=C$Tza.COMPLETE,C$Tzs?C$Tzi(C$Tzs,C$Tzn):C$Tzo.flowOut(C$Tzn))));})(C$Tzn,C$Tzi=C$Tzt[C$Tze]);}else for(C$Tze=0;C$Tze<C$Tzt.length;C$Tze++)this.flowOut(C$Tzt[C$Tze]);},C$Tzt.flowInDeps=function(C$Tzt,C$Tze,C$Tzi){return C$Tzr.create(this,function(C$Tzt,C$Tze){C$Tzi(C$Tzt,C$Tze),C$Tze.destroy();}).append(C$Tze,C$Tzt);},C$Tzt.flowOut=function(C$Tzt){C$Tzt.error?delete this._cache[C$Tzt.id]:this._cache[C$Tzt.id]||(this._cache[C$Tzt.id]=C$Tzt),C$Tzt.complete=!0,C$Tzr.itemComplete(C$Tzt);},C$Tzt.copyItemStates=function(C$Tzt,C$Tze){if(C$Tze instanceof Array)for(var C$Tzi=0;C$Tzi<C$Tze.length;++C$Tzi)C$Tze[C$Tzi].states=C$Tzt.states;else C$Tze.states=C$Tzt.states;},C$Tzt.getItem=function(C$Tzt){C$Tzt=this._cache[C$Tzt];return C$Tzt&&(C$Tzt.alias||C$Tzt);},C$Tzt.removeItem=function(C$Tzt){var C$Tze=this._cache[C$Tzt];return C$Tze&&C$Tze.complete&&delete this._cache[C$Tzt],C$Tze;},C$Tzt.clear=function(){for(var C$Tzt in this._cache){var C$Tze=this._cache[C$Tzt];delete this._cache[C$Tzt],C$Tze.complete||(C$Tze.error=new Error(H[1193]),this.flowOut(C$Tze));}},cc.Pipeline=C$Tze.exports=C$Tzs;},{"../platform/js":209,"./loading-items":146}],150:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(){this._releasedKeys=C$Tzc.createMap(!0),this._dirty=!1;}function C$Tza(C$Tzt,C$Tze,C$Tzi){C$Tzi[C$Tzt]||cc.log('"'+C$Tzt+H[1194]+((C$Tzi=C$Tze).uuid?(C$Tzr=C$Tzr||{path:"",type:null},cc.loader._assetTables.assets._getInfo_DEBUG(C$Tzi.uuid,C$Tzr)?(C$Tzr.path=H[1195]+C$Tzr.path,'"'+C$Tzr.path+H[1196]+C$Tzc.getClassName(C$Tzr.type)+H[1197]+C$Tzi.uuid+")"):'"'+C$Tzi.rawUrl+H[1198]+C$Tzi.uuid+")"):'"'+C$Tzi.rawUrl+'"'));}var C$Tzc=C$Tzt(H[720]),C$Tzr=(C$Tzn.prototype.setReleased=function(C$Tzt,C$Tze){this._releasedKeys[C$Tze]=!0,this._dirty=!0;},null);C$Tzn.prototype.checkCouldRelease=function(C$Tzt){if(this._dirty){this._dirty=!1;var C$Tze,C$Tzi=this._releasedKeys;for(C$Tze in C$Tzt){var C$Tzn=C$Tzt[C$Tze],C$Tzr=(C$Tzn=C$Tzn.alias?C$Tzn.alias:C$Tzn).dependKeys;if(C$Tzr)for(var C$Tzs=0;C$Tzs<C$Tzr.length;++C$Tzs){var C$Tzo=C$Tzr[C$Tzs];C$Tzi[C$Tzo]&&(C$Tza(C$Tzo,C$Tzn,C$Tzt),delete C$Tzi[C$Tzo]);}}C$Tzc.clear(C$Tzi);}},C$Tze.exports=C$Tzn;},{"../platform/js":209}],151:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzt=C$Tzt(H[1120]),C$Tzn=/.*[/\\][0-9a-fA-F]{2}[/\\]([0-9a-fA-F-]{8,})/;function C$Tzr(C$Tzt){for(var C$Tze in this.id=H[1199],this.async=!1,this.pipeline=null,C$Tzt){var C$Tzi=C$Tzt[C$Tze];C$Tzi.uuids&&C$Tzi.uuids.forEach(function(C$Tzt){C$Tzs[C$Tzt]=C$Tzi.path;});}}var C$Tzs=Object.create(null);C$Tzr.ID=H[1199],C$Tzr.prototype.handle=function(C$Tzt){return C$Tzt.url=this.transformURL(C$Tzt.url),null;},C$Tzr.prototype.transformURL=function(C$Tzt){var C$Tze=(C$Tze=(C$Tze=C$Tzt).match(C$Tzn))?C$Tze[1]:"";if(C$Tze){C$Tze=C$Tzs[C$Tze];if(C$Tze)return C$Tzt.replace(H[1200],C$Tze+H[1201]);}return C$Tzt;},C$Tzt.SubPackPipe=C$Tze.exports=C$Tzr;},{"./pipeline":149}],152:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzr=C$Tzt(H[800]).urlAppendTimestamp;C$Tze.exports=function(C$Tzt,C$Tze){var C$Tzt=C$Tzt.url,C$Tzt=C$Tzr(C$Tzt),C$Tzi=cc.loader.getXMLHttpRequest(),C$Tzn=H[1202]+C$Tzt;C$Tzi.open(H[1140],C$Tzt,!0),C$Tzi.overrideMimeType&&C$Tzi.overrideMimeType(H[1203]),C$Tzi.onload=function(){4===C$Tzi.readyState?200===C$Tzi.status||0===C$Tzi.status?C$Tze(null,C$Tzi.responseText):C$Tze({status:C$Tzi.status,errorMessage:C$Tzn+H[1204]}):C$Tze({status:C$Tzi.status,errorMessage:C$Tzn+H[1205]});},C$Tzi.onerror=function(){C$Tze({status:C$Tzi.status,errorMessage:C$Tzn+H[1146]});},C$Tzi.ontimeout=function(){C$Tze({status:C$Tzi.status,errorMessage:C$Tzn+H[1147]});},C$Tzi.send(null);};},{"./utils":154}],153:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1176]),C$Tzt=C$Tzt(H[720]);function C$Tzr(){this.jsons={};}function C$Tzs(){this.contents={};}C$Tzr.prototype.load=function(C$Tzt,C$Tze){C$Tze.length!==C$Tzt.length&&cc.errorID(4915);for(var C$Tzi=0;C$Tzi<C$Tzt.length;C$Tzi++){var C$Tzn=C$Tzt[C$Tzi],C$Tzr=C$Tze[C$Tzi];this.jsons[C$Tzn]=C$Tzr;}},C$Tzr.prototype.retrieve=function(C$Tzt){return this.jsons[C$Tzt]||null;},C$Tzs.ID=C$Tzt._getClassId(C$Tzn),C$Tzs.prototype.load=function(C$Tzt,C$Tze){var C$Tzi=C$Tze.data.split("|");C$Tzi.length!==C$Tzt.length&&cc.errorID(4915);for(var C$Tzn=0;C$Tzn<C$Tzt.length;C$Tzn++)this.contents[C$Tzt[C$Tzn]]=C$Tzi[C$Tzn];},C$Tzs.prototype.retrieve=function(C$Tzt){C$Tzt=this.contents[C$Tzt];return C$Tzt?{__type__:C$Tzs.ID,content:C$Tzt}:null;},C$Tze.exports={JsonUnpacker:C$Tzr,TextureUnpacker:C$Tzs};},{"../assets/CCTexture2D":50,"../platform/js":209}],154:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=/\?/;C$Tze.exports={urlAppendTimestamp:function(C$Tzt){return cc.game.config.noCache&&H[462]==typeof C$Tzt&&(C$Tzn.test(C$Tzt)?C$Tzt+=H[1206]+ +new Date():C$Tzt+=H[1207]+ +new Date()),C$Tzt;}};},{}],155:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tza=C$Tzt(H[720]),C$Tzc=C$Tzt(H[1136]),C$Tzp=(C$Tzt(H[1208]),C$Tzt(H[1121]));function C$Tzl(C$Tzt){return C$Tzt&&(C$Tzt[0]&&H[701]===C$Tzt[0].__type__||C$Tzt[1]&&H[701]===C$Tzt[1].__type__||C$Tzt[0]&&H[715]===C$Tzt[0].__type__);}function C$Tzn(C$Tze,C$Tzt){if(H[462]==typeof C$Tze.content)try{C$Tzo=JSON.parse(C$Tze.content);}catch(C$Tzt){return new Error(C$Tzc.getError(4923,C$Tze.id,C$Tzt.stack));}else{if(H[802]!=typeof C$Tze.content)return new Error(C$Tzc.getError(4924));C$Tzo=C$Tze.content;}var C$Tzi,C$Tzn=C$Tzl(C$Tzo),C$Tzr=C$Tzn?cc._MissingScript.safeFindClass:function(C$Tzt){var C$Tze=C$Tza._getClassById(C$Tzt);return C$Tze||(cc.warnID(4903,C$Tzt),Object);},C$Tzs=cc.deserialize.Details.pool.get();try{C$Tzi=cc.deserialize(C$Tzo,C$Tzs,{classFinder:C$Tzr,target:C$Tze.existingAsset,customEnv:C$Tze});}catch(C$Tzt){cc.deserialize.Details.pool.put(C$Tzs);var C$Tzo=C$Tzt.stack;return new Error(C$Tzc.getError(4925,C$Tze.id,C$Tzo));}C$Tzi._uuid=C$Tze.uuid,C$Tzi.url=C$Tzi.nativeUrl,C$Tzr=C$Tzi,C$Tzo=C$Tzn,(C$Tzn=(C$Tzn=C$Tze).deferredLoadRaw)?C$Tzr instanceof cc.Asset&&C$Tzr.constructor.preventDeferredLoadDependents&&(C$Tzn=!1):C$Tzo&&(C$Tzr instanceof cc.SceneAsset||C$Tzr instanceof cc.Prefab)&&(C$Tzn=C$Tzr.asyncLoadAssets);var C$Tzu,C$Tz_,C$Tzf,C$Tzd,C$Tzr=function(C$Tzh,C$Tzt,C$Tze,C$Tzu){var C$Tzi,C$Tzn,C$Tzr=C$Tze.uuidList,C$Tzs=C$Tze.uuidObjList,C$Tzo=C$Tze.uuidPropList,C$Tza=C$Tze._stillUseUrl,C$Tz_=C$Tzh.dependKeys=[];if(C$Tzu)for(C$Tzi=[],C$Tzn=0;C$Tzn<C$Tzr.length;C$Tzn++){var C$Tzc=C$Tzr[C$Tzn],C$Tzd=C$Tzs[C$Tzn],C$Tzf=C$Tzo[C$Tzn],C$Tzl=cc.AssetLibrary._getAssetInfoInRuntime(C$Tzc);C$Tzl.raw?(C$Tzl=C$Tzl.url,C$Tzd[C$Tzf]=C$Tzl,C$Tz_.push(C$Tzl)):C$Tzi.push({type:H[607],uuid:C$Tzc,deferredLoadRaw:!0,_owner:C$Tzd,_ownerProp:C$Tzf,_stillUseUrl:C$Tza[C$Tzn]});}else{for(C$Tzi=new Array(C$Tzr.length),C$Tzn=0;C$Tzn<C$Tzr.length;C$Tzn++)C$Tzc=C$Tzr[C$Tzn],C$Tzi[C$Tzn]={type:H[607],uuid:C$Tzc,_owner:C$Tzs[C$Tzn],_ownerProp:C$Tzo[C$Tzn],_stillUseUrl:C$Tza[C$Tzn]};C$Tzt._native&&!C$Tzt.constructor.preventPreloadNativeObject&&C$Tzi.push({url:C$Tzt.nativeUrl,_owner:C$Tzt,_ownerProp:H[1209]});}return C$Tzi;}(C$Tze,C$Tzi,C$Tzs,C$Tzn);if(cc.deserialize.Details.pool.put(C$Tzs),0===C$Tzr.length)return C$Tzi.onLoad&&C$Tzi.onLoad(),C$Tzt(null,C$Tzi);C$Tzn=this.pipeline,C$Tzu=C$Tzi,C$Tz_=C$Tzr,C$Tzf=C$Tzt,(C$Tzs=C$Tze).content=C$Tzu,C$Tzd=C$Tzs.dependKeys,C$Tzn.flowInDeps(C$Tzs,C$Tz_,function(C$Tzt,C$Tzh){var C$Tze,C$Tzi=C$Tzh.map;for(C$Tze in C$Tzi)(C$Tzs=C$Tzi[C$Tze]).uuid&&C$Tzs.content&&(C$Tzs.content._uuid=C$Tzs.uuid);function C$Tzn(C$Tzt){var C$Tze=C$Tzt.content;this._stillUseUrl&&(C$Tze=C$Tze&&cc.RawAsset.wasRawAssetType(C$Tze.constructor)?C$Tze.nativeUrl:C$Tzt.rawUrl),H[1209]===this._ownerProp&&(this._owner.url=C$Tzt.url),this._owner[this._ownerProp]=C$Tze,C$Tzt.uuid!==C$Tzu._uuid&&C$Tzd.indexOf(C$Tzt.id)<0&&C$Tzd.push(C$Tzt.id);}for(var C$Tzr=0;C$Tzr<C$Tz_.length;C$Tzr++){var C$Tzs,C$Tzo,C$Tza=C$Tz_[C$Tzr],C$Tzc=C$Tza.uuid,C$Tzl=C$Tza.url;C$Tza._owner,C$Tza._ownerProp;(C$Tzs=C$Tzi[C$Tzl])&&(C$Tzl=C$Tza,C$Tzs.complete||C$Tzs.content?C$Tzs.error?cc._throw(C$Tzs.error.message||C$Tzs.error.errorMessage||C$Tzs.error):C$Tzn.call(C$Tzl,C$Tzs):(C$Tzo=(C$Tza=C$Tzp.getQueue(C$Tzs))._callbackTable[C$Tzc])?C$Tzo.unshift(C$Tzn,C$Tzl):C$Tza.addListener(C$Tzc,C$Tzn,C$Tzl));}if(!C$Tzt&&C$Tzu.onLoad)try{C$Tzu.onLoad();}catch(C$Tzt){cc._throw(C$Tzt);}C$Tzf(C$Tzt,C$Tzu);});}(C$Tze.exports=C$Tzn).isSceneObj=C$Tzl;},{"../CCDebug":27,"../platform/deserialize":204,"../platform/js":209,"./loading-items":146}],156:[function(C$Tzt,C$Tze,C$Tzr){"use strict";var C$Tzl=C$Tzi(C$Tzt(H[1210])),C$Tzg=C$Tzi(C$Tzt(H[725])),C$Tzh=C$Tzt(H[1211]);function C$Tzi(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}var C$Tzu=C$Tzt(H[726]),C$Tzt=C$Tzt(H[708]);function C$Tzx(C$Tzt,C$Tze,C$Tzi){C$Tzt[C$Tze]=C$Tzi._val;}function C$Tzb(C$Tzt,C$Tze,C$Tzi){C$Tzt[C$Tze]=C$Tzi.x,C$Tzt[C$Tze+1]=C$Tzi.y;}function C$TzA(C$Tzt,C$Tze,C$Tzi){C$Tzt[C$Tze]=C$Tzi.x,C$Tzt[C$Tze+1]=C$Tzi.y,C$Tzt[C$Tze+2]=C$Tzi.z;}var C$Tzy={5120:H[1212],5121:H[1213],5122:H[1214],5123:H[1215],5124:H[1216],5125:H[1217],5126:H[1218]},C$TzC={5120:H[1219],5121:H[1220],5122:H[1221],5123:H[1222],5124:H[1223],5125:H[1224],5126:H[1225]},C$Tzv=(C$Tzn=new ArrayBuffer(2),new DataView(C$Tzn).setInt16(0,256,!0),256===new Int16Array(C$Tzn)[0]),C$Tzn=cc.Class({name:H[1226],extends:cc.Asset,mixins:[C$Tzt],properties:{_nativeAsset:{override:!0,get:function(){return this._buffer;},set:function(C$Tzt){this._buffer=ArrayBuffer.isView(C$Tzt)?C$Tzt.buffer:C$Tzt,this.initWithBuffer();}},_vertexBundles:{default:null,type:C$Tzh.VertexBundle},_primitives:{default:null,Primitive:C$Tzh.Primitive},_minPos:cc.v3(),_maxPos:cc.v3(),subMeshes:{get:function(){return this._subMeshes;},set:function(C$Tzt){this._subMeshes=C$Tzt;}},subDatas:{get:function(){return this._subDatas;}}},ctor:function(){this._subMeshes=[],this.loaded=!1,this._subDatas=[];},initWithBuffer:function(){this._subMeshes.length=0;for(var C$Tzt=this._primitives,C$Tze=0;C$Tze<C$Tzt.length;C$Tze++){var C$Tzi=C$Tzt[C$Tze],C$Tzn=C$Tzi.data,C$Tzn=new Uint8Array(this._buffer,C$Tzn.offset,C$Tzn.length),C$Tzr=this._vertexBundles[C$Tzi.vertexBundleIndices[0]],C$Tzs=C$Tzr.data,C$Tzr=new C$Tzg.default.VertexFormat(C$Tzr.formats),C$Tzo=new Uint8Array(this._buffer,C$Tzs.offset,C$Tzs.length),C$Tza=this._canVertexFormatBatch(C$Tzr),C$Tzc=new C$Tzh.MeshData(),C$Tzs=(C$Tzc.vData=C$Tzo,C$Tzc.iData=C$Tzn,C$Tzc.vfm=C$Tzr,C$Tzc.offset=C$Tzs.offset,C$Tzc.canBatch=C$Tza,this._subDatas.push(C$Tzc),new C$Tzg.default.VertexBuffer(C$Tzu.device,C$Tzr,C$Tzg.default.USAGE_STATIC,C$Tzo)),C$Tza=new C$Tzg.default.IndexBuffer(C$Tzu.device,C$Tzi.indexUnit,C$Tzg.default.USAGE_STATIC,C$Tzn);this._subMeshes.push(new C$Tzl.default(C$Tzs,C$Tza));}this.loaded=!0,this.emit(H[514]);},_canVertexFormatBatch:function(C$Tzt){var C$Tze=C$Tzt._attr2el[C$Tzg.default.ATTR_POSITION];return!C$Tze||C$Tze.type===C$Tzg.default.ATTR_TYPE_FLOAT32&&C$Tzt._bytes%4==0;},init:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){void 0===C$Tzi&&(C$Tzi=!1),void 0===C$Tzn&&(C$Tzn=0);var C$Tze=new Uint8Array(C$Tzt._bytes*C$Tze),C$Tzr=new C$Tzh.MeshData(),C$Tzt=(C$Tzr.vData=C$Tze,C$Tzr.vfm=C$Tzt,C$Tzr.vDirty=!0,C$Tzr.canBatch=this._canVertexFormatBatch(C$Tzt),new C$Tzg.default.VertexBuffer(C$Tzu.device,C$Tzt,C$Tzi?C$Tzg.default.USAGE_DYNAMIC:C$Tzg.default.USAGE_STATIC,C$Tze)),C$Tzi=(C$Tzr.vb=C$Tzt,this._subMeshes[C$Tzn]=new C$Tzl.default(C$Tzr.vb),this._subDatas[C$Tzn]);C$Tzi&&(C$Tzi.vb&&C$Tzi.vb.destroy(),C$Tzi.ib&&C$Tzi.ib.destroy()),this._subDatas[C$Tzn]=C$Tzr,this.loaded=!0,this.emit(H[514]),this.emit(H[1227]);},setVertices:function(C$Tzt,C$Tze,C$Tzi){var C$Tzi=this._subDatas[C$Tzi=C$Tzi||0],C$Tzn=C$Tzi.vfm.element(C$Tzt);if(!C$Tzn)return cc.warn(H[1228]+C$Tzt+H[1229]);var C$Tzr,C$Tzh=H[463]==typeof C$Tze[0],C$Tzs=C$Tzn.num,C$Tzo=C$Tzh?C$Tze.length/C$Tzs|0:C$Tze.length,C$Tzo=(C$Tzi.vData.byteLength<C$Tzo*C$Tzn.stride&&C$Tzi.setVData(new Uint8Array(C$Tzo*C$Tzi.vfm._bytes)),4),C$Tzu=(C$Tzt===C$Tzg.default.ATTR_COLOR?C$Tzh?(C$Tzr=C$Tzi.getVData(),C$Tzo=1):C$Tzr=C$Tzi.getVData(Uint32Array):C$Tzr=C$Tzi.getVData(Float32Array),C$Tzn.stride/C$Tzo),C$Tz_=C$Tzn.offset/C$Tzo;if(C$Tzh)for(var C$Tza=0,C$Tzd=C$Tze.length/C$Tzs;C$Tza<C$Tzd;C$Tza++)for(var C$Tzf=C$Tza*C$Tzs,C$Tzp=C$Tza*C$Tzu+C$Tz_,C$Tzc=0;C$Tzc<C$Tzs;C$Tzc++)C$Tzr[C$Tzp+C$Tzc]=C$Tze[C$Tzf+C$Tzc];else for(var C$Tzm=C$Tzt===C$Tzg.default.ATTR_COLOR?C$Tzx:2===C$Tzs?C$Tzb:C$TzA,C$Tzl=0,C$Tzy=C$Tze.length;C$Tzl<C$Tzy;C$Tzl++)C$Tzm(C$Tzr,C$Tzl*C$Tzu+C$Tz_,C$Tze[C$Tzl]);C$Tzi.vDirty=!0;},setIndices:function(C$Tzt,C$Tze,C$Tzi){C$Tze=C$Tze||0;var C$Tzn=C$Tzt,C$Tzt=(C$Tzt instanceof Uint16Array?C$Tzn=new Uint8Array(C$Tzt.buffer,C$Tzt.byteOffset,C$Tzt.byteLength):Array.isArray(C$Tzt)&&(C$Tzn=new Uint16Array(C$Tzt),C$Tzn=new Uint8Array(C$Tzn.buffer,C$Tzn.byteOffset,C$Tzn.byteLength)),C$Tzi?C$Tzg.default.USAGE_DYNAMIC:C$Tzg.default.USAGE_STATIC),C$Tzi=this._subDatas[C$Tze];C$Tzi.ib?(C$Tzi.iData=C$Tzn,C$Tzi.iDirty=!0):(C$Tzi.iData=C$Tzn,C$Tzt=new C$Tzg.default.IndexBuffer(C$Tzu.device,C$Tzg.default.INDEX_FMT_UINT16,C$Tzt,C$Tzn,C$Tzn.byteLength/C$Tzg.default.IndexBuffer.BYTES_PER_INDEX[C$Tzg.default.INDEX_FMT_UINT16]),C$Tzi.ib=C$Tzt,this._subMeshes[C$Tze]._indexBuffer=C$Tzi.ib);},setPrimitiveType:function(C$Tzt,C$Tze){this._subMeshes[C$Tze=C$Tze||0]?this._subMeshes[C$Tze]._primitiveType=C$Tzt:cc.warn(H[1230]+C$Tze);},clear:function(){this._subMeshes.length=0;for(var C$Tzt=this._subDatas,C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++){var C$Tzn=C$Tzt[C$Tze].vb,C$Tzn=(C$Tzn&&C$Tzn.destroy(),C$Tzt[C$Tze].ib);C$Tzn&&C$Tzn.destroy();}C$Tzt.length=0;},setBoundingBox:function(C$Tzt,C$Tze){this._minPos=C$Tzt,this._maxPos=C$Tze;},destroy:function(){this.clear();},_uploadData:function(){for(var C$Tzt=this._subDatas,C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++){var C$Tzn,C$Tzr,C$Tzs=C$Tzt[C$Tze];C$Tzs.vDirty&&(C$Tzn=C$Tzs.vb,C$Tzr=C$Tzs.vData,C$Tzn.update(0,C$Tzr),C$Tzs.vDirty=!1),C$Tzs.iDirty&&(C$Tzn=C$Tzs.ib,C$Tzr=C$Tzs.iData,C$Tzn.update(0,C$Tzr),C$Tzs.iDirty=!1);}},_getAttrMeshData:function(C$Tzt,C$Tze){C$Tzt=this._subDatas[C$Tzt];if(!C$Tzt)return[];var C$Tzi=C$Tzt.vfm,C$Tzn=C$Tzi.element(C$Tze);if(!C$Tzn)return[];C$Tzt.attrDatas||(C$Tzt.attrDatas={});var C$Tzr=C$Tzt.attrDatas;if(C$Tzs=C$Tzr[C$Tze])return C$Tzs;for(var C$Tzs=C$Tzr[C$Tze]=[],C$Tzr=C$Tzt.vData,C$Tzo=new DataView(C$Tzr.buffer,C$Tzr.byteOffset,C$Tzr.byteLength),C$Tzh=C$Tzn.stride,C$Tzu=C$Tzn.offset,C$Tza=C$Tzn.num,C$Tz_=C$Tzn.bytes/C$Tza,C$Tzd=C$Tzy[C$Tzn.type],C$Tzf=C$Tzr.byteLength/C$Tzi._bytes,C$Tzc=0;C$Tzc<C$Tzf;C$Tzc++)for(var C$Tzp=C$Tzc*C$Tzh+C$Tzu,C$Tzl=0;C$Tzl<C$Tza;C$Tzl++){var C$Tzm=C$Tzo[C$Tzd](C$Tzp+C$Tzl*C$Tz_,C$Tzv);C$Tzs.push(C$Tzm);}return C$Tzs;},copyAttribute:function(C$Tzt,C$Tze,C$Tzh,C$Tzu,C$Tz_){var C$Tzi=!1,C$Tzn=this._subDatas[C$Tzt];if(!C$Tzn)return C$Tzi;var C$Tzr=C$Tzn.vfm,C$Tzs=C$Tzr.element(C$Tze);if(!C$Tzs)return C$Tzi;var C$Tzo=C$TzC[C$Tzs.type];if(!C$Tzo)return C$Tzi;var C$Tza=this._getAttrMeshData(C$Tzt,C$Tze),C$Tzd=C$Tzn.vData.byteLength/C$Tzr._bytes,C$Tzf=C$Tzs.bytes/C$Tzs.num;if(0<C$Tza.length){for(var C$Tzp=new DataView(C$Tzh,C$Tz_),C$Tzm=C$Tzu,C$Tzy=C$Tzs.num,C$Tzc=0;C$Tzc<C$Tzd;++C$Tzc)for(var C$Tzg=C$Tzc*C$Tzy,C$Tzl=0;C$Tzl<C$Tzy;++C$Tzl)C$Tzp[C$Tzo](C$Tzm*C$Tzc+C$Tzf*C$Tzl,C$Tza[C$Tzg+C$Tzl],C$Tzv);C$Tzi=!0;}return C$Tzi;},copyIndices:function(C$Tzt,C$Tze){C$Tzt=this._subDatas[C$Tzt];if(!C$Tzt)return!1;for(var C$Tzt=C$Tzt.iData,C$Tzi=C$Tzt.length/2,C$Tzn=new DataView(C$Tzt.buffer,C$Tzt.byteOffset,C$Tzt.byteLength),C$Tzr=C$Tzy[C$Tzg.default.INDEX_FMT_UINT8],C$Tzs=0;C$Tzs<C$Tzi;++C$Tzs)C$Tze[C$Tzs]=C$Tzn[C$Tzr](2*C$Tzs);return!0;}});cc.Mesh=C$Tze.exports=C$Tzn;},{"../../renderer/core/input-assembler":302,"../../renderer/gfx":312,"../event/event-target":115,"../renderer":220,"./mesh-data":159}],157:[function(C$Tzt,C$Tzr,C$Tzs){"use strict";var C$TzS=C$Tzi(C$Tzt(H[725])),C$TzT=C$Tzi(C$Tzt(H[1210])),C$Tze=C$Tzi(C$Tzt(H[1231])),C$Tzo=C$Tzt(H[1232]),C$Tzw=C$Tzi(C$Tzt(H[1085])),C$TzB=C$Tzi(C$Tzt(H[891])),C$TzE=C$Tzi(C$Tzt(H[892]));function C$Tzi(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}var C$Tza=C$Tzt(H[900]),C$Tzc=C$Tzt(H[1233]),C$Tzl=C$Tzt(H[822]),C$TzM=C$Tzt(H[726]),C$Tzh=C$Tzt(H[877]),C$Tzn=cc.Enum({OFF:0,ON:1}),C$Tzt=cc.Class({name:H[1234],extends:C$Tza,editor:!1,properties:{_mesh:{default:null,type:C$Tzc},_receiveShadows:!1,_shadowCastingMode:C$Tzn.OFF,_enableAutoBatch:!1,mesh:{get:function(){return this._mesh;},set:function(C$Tzt){this._mesh!==C$Tzt&&(this._setMesh(C$Tzt),C$Tzt?(this.markForRender(!0),this.node._renderFlag|=C$Tzl.FLAG_TRANSFORM):this.disableRender());},type:C$Tzc,animatable:!1},textures:{default:[],type:cc.Texture2D,visible:!1},receiveShadows:{get:function(){return this._receiveShadows;},set:function(C$Tzt){this._receiveShadows=C$Tzt,this._updateReceiveShadow();},animatable:!1},shadowCastingMode:{get:function(){return this._shadowCastingMode;},set:function(C$Tzt){this._shadowCastingMode=C$Tzt,this._updateCastShadow();},type:C$Tzn,animatable:!1},enableAutoBatch:{get:function(){return this._enableAutoBatch;},set:function(C$Tzt){this._enableAutoBatch=C$Tzt;}}},statics:{ShadowCastingMode:C$Tzn},ctor:function(){this._boundingBox=cc.geomUtils&&new C$Tze.default(),this._debugDatas={wireFrame:[],normal:[]};},onEnable:function(){var C$Tzt=this;this._super(),this._mesh&&!this._mesh.loaded?(this.disableRender(),this._mesh.once(H[514],function(){C$Tzt.isValid&&(C$Tzt._setMesh(C$Tzt._mesh),C$Tzt.markForRender(!0));}),(0,C$Tzo.postLoadMesh)(this._mesh)):this._setMesh(this._mesh),this._updateRenderNode(),this._updateMaterial();},onDestroy:function(){this._setMesh(null),cc.pool.assembler.put(this._assembler);},_updateRenderNode:function(){this._assembler.setRenderNode(this.node);},_setMesh:function(C$Tzt){cc.geomUtils&&C$Tzt&&C$Tze.default.fromPoints(this._boundingBox,C$Tzt._minPos,C$Tzt._maxPos),this._mesh&&this._mesh.off(H[1227],this._updateMeshAttribute,this),C$Tzt&&C$Tzt.on(H[1227],this._updateMeshAttribute,this),this._mesh=C$Tzt,this._updateMeshAttribute();},_getDefaultMaterial:function(){return C$Tzh.getBuiltinMaterial(H[783]);},_validateRender:function(){var C$Tzt=this._mesh;C$Tzt&&0<C$Tzt._subDatas.length||this.disableRender();},_updateMaterial:function(){var C$Tzt=this.textures;if(C$Tzt&&0<C$Tzt.length)for(var C$Tze=this._getDefaultMaterial(),C$Tzi=0;C$Tzi<C$Tzt.length;C$Tzi++){var C$Tzn=this._materials[C$Tzi];C$Tzn&&C$Tzn._uuid!==C$Tze._uuid||(C$Tzn||(C$Tzn=C$TzE.default.create(C$Tze,this),this.setMaterial(C$Tzi,C$Tzn)),C$Tzn.setProperty(H[1235],C$Tzt[C$Tzi]));}this._updateReceiveShadow(),this._updateCastShadow(),this._updateMeshAttribute();},_updateReceiveShadow:function(){for(var C$Tzt=this.getMaterials(),C$Tze=0;C$Tze<C$Tzt.length;C$Tze++)C$Tzt[C$Tze].define(H[1236],this._receiveShadows,void 0,!0);},_updateCastShadow:function(){for(var C$Tzt=this.getMaterials(),C$Tze=0;C$Tze<C$Tzt.length;C$Tze++)C$Tzt[C$Tze].define(H[1237],this._shadowCastingMode===C$Tzn.ON,void 0,!0);},_updateMeshAttribute:function(){var C$Tzt=this._mesh&&this._mesh.subDatas;if(C$Tzt){for(var C$Tze,C$Tzi=this.getMaterials(),C$Tzn=0;C$Tzn<C$Tzi.length&&C$Tzt[C$Tzn];C$Tzn++){var C$Tzr=C$Tzt[C$Tzn].vfm,C$Tzs=C$Tzi[C$Tzn];C$Tzs.define(H[1238],!!C$Tzr.element(C$TzS.default.ATTR_COLOR),void 0,!0),C$Tzs.define(H[1239],!!C$Tzr.element(C$TzS.default.ATTR_UV0),void 0,!0),C$Tzs.define(H[1240],!!C$Tzr.element(C$TzS.default.ATTR_NORMAL),void 0,!0),C$Tzs.define(H[1241],!!C$Tzr.element(C$TzS.default.ATTR_TANGENT),void 0,!0);}for(C$Tze in this._debugDatas)this._debugDatas[C$Tze].length=0;}},_checkBacth:function(){}}),C$Tzu=cc.Color.BLACK,C$TzR=cc.Color.RED,C$TzI=[cc.v3(),cc.v3()],C$TzP=cc.mat4(),C$Tz_={normal:function(C$Tzt,C$Tzh,C$Tze,C$Tzi){var C$Tze=C$Tze.vfm,C$Tzu=C$Tze.element(C$TzS.default.ATTR_NORMAL),C$Tzn=C$Tze.element(C$TzS.default.ATTR_POSITION),C$Tzr=C$Tze.element(C$TzS.default.ATTR_JOINTS),C$Tzs=C$Tze.element(C$TzS.default.ATTR_WEIGHTS);if(C$Tzu&&C$Tzn){for(var C$Tz_,C$Tzd=[],C$Tzo=[],C$Tze=(C$Tzw.default.set(C$TzI[0],5,0,0),C$TzB.default.invert(C$TzP,C$Tzt.node._worldMatrix),C$Tzw.default.transformMat4Normal(C$TzI[0],C$TzI[0],C$TzP),C$Tz_=C$TzI[0].mag(),C$Tzt.mesh),C$Tza=C$Tze._getAttrMeshData(C$Tzi,C$TzS.default.ATTR_POSITION),C$Tzf=C$Tze._getAttrMeshData(C$Tzi,C$TzS.default.ATTR_NORMAL),C$Tzp=C$Tze._getAttrMeshData(C$Tzi,C$TzS.default.ATTR_JOINTS),C$Tzm=C$Tze._getAttrMeshData(C$Tzi,C$TzS.default.ATTR_WEIGHTS),C$Tzy=C$Tza.length/C$Tzn.num,C$Tzc=0;C$Tzc<C$Tzy;C$Tzc++){var C$Tzg=C$Tzc*C$Tzu.num,C$Tzv=C$Tzc*C$Tzn.num;C$Tzw.default.set(C$TzI[0],C$Tzf[C$Tzg],C$Tzf[1+C$Tzg],C$Tzf[2+C$Tzg]),C$Tzw.default.set(C$TzI[1],C$Tza[C$Tzv],C$Tza[1+C$Tzv],C$Tza[2+C$Tzv]),C$Tzw.default.scaleAndAdd(C$TzI[0],C$TzI[1],C$TzI[0],C$Tz_);for(var C$Tzl=0;C$Tzl<2;C$Tzl++){if(C$Tzo.push(C$TzI[C$Tzl].x,C$TzI[C$Tzl].y,C$TzI[C$Tzl].z),C$Tzr)for(var C$Tzx=C$Tzc*C$Tzr.num,C$Tzb=0;C$Tzb<C$Tzr.num;C$Tzb++)C$Tzo.push(C$Tzp[C$Tzx+C$Tzb]);if(C$Tzs)for(var C$TzA=C$Tzc*C$Tzs.num,C$TzC=0;C$TzC<C$Tzs.num;C$TzC++)C$Tzo.push(C$Tzm[C$TzA+C$TzC]);}C$Tzd.push(2*C$Tzc,2*C$Tzc+1);}C$Tzt=[{name:C$TzS.default.ATTR_POSITION,type:C$TzS.default.ATTR_TYPE_FLOAT32,num:3}],C$Tze=(C$Tzr&&C$Tzt.push({name:C$TzS.default.ATTR_JOINTS,type:C$TzS.default.ATTR_TYPE_FLOAT32,num:C$Tzr.num}),C$Tzs&&C$Tzt.push({name:C$TzS.default.ATTR_WEIGHTS,type:C$TzS.default.ATTR_TYPE_FLOAT32,num:C$Tzs.num}),new C$TzS.default.VertexFormat(C$Tzt)),C$Tzi=new C$TzS.default.VertexBuffer(C$TzM.device,C$Tze,C$TzS.default.USAGE_STATIC,new Float32Array(C$Tzo)),C$Tzt=new Uint16Array(C$Tzd),C$Tze=new C$TzS.default.IndexBuffer(C$TzM.device,C$TzS.default.INDEX_FMT_UINT16,C$TzS.default.USAGE_STATIC,C$Tzt,C$Tzt.length),C$Tzt=C$TzE.default.createWithBuiltin(H[783]);return C$Tzt.setProperty(H[1242],C$TzR),{material:C$Tzt,ia:new C$TzT.default(C$Tzi,C$Tze,C$TzS.default.PT_LINES)};}},wireFrame:function(C$Tzl,C$Tzt,C$Tze){for(var C$Tzi=C$Tze.getIData(Uint16Array),C$Tze=C$TzE.default.createWithBuiltin(H[783]),C$Tzn=(C$Tze.setProperty(H[1242],C$Tzu),[]),C$Tzr=0;C$Tzr<C$Tzi.length;C$Tzr+=3){var C$Tzs=C$Tzi[C$Tzr+0],C$Tzo=C$Tzi[C$Tzr+1],C$Tza=C$Tzi[C$Tzr+2];C$Tzn.push(C$Tzs,C$Tzo,C$Tzo,C$Tza,C$Tza,C$Tzs);}var C$Tzc=new Uint16Array(C$Tzn),C$Tzc=new C$TzS.default.IndexBuffer(C$TzM.device,C$TzS.default.INDEX_FMT_UINT16,C$TzS.default.USAGE_STATIC,C$Tzc,C$Tzc.length);return{material:C$Tze,ia:new C$TzT.default(C$Tzt._vertexBuffer,C$Tzc,C$TzS.default.PT_LINES)};}};C$Tzt.prototype._updateDebugDatas=function(){var C$Tzt,C$Tze=this._debugDatas,C$Tzi=this._mesh.subMeshes,C$Tzn=this._mesh._subDatas;for(C$Tzt in C$Tze){var C$Tzr=C$Tze[C$Tzt];if(C$Tzr.length!==C$Tzi.length&&cc.macro[H[1243]+C$Tzt.toUpperCase()]){C$Tzr.length=C$Tzi.length;for(var C$Tzs=0;C$Tzs<C$Tzi.length;C$Tzs++)C$Tzr[C$Tzs]=C$Tz_[C$Tzt](this,C$Tzi[C$Tzs],C$Tzn[C$Tzs],C$Tzs);}}},cc.MeshRenderer=C$Tzr.exports=C$Tzt;},{"../../renderer/core/input-assembler":302,"../../renderer/gfx":312,"../assets/material/CCMaterial":53,"../assets/material/material-variant":60,"../components/CCRenderComponent":89,"../geom-utils/aabb":119,"../renderer":220,"../renderer/render-flow":221,"../utils/mesh-util":263,"../value-types/mat4":281,"../value-types/vec3":289,"./CCMesh":156}],158:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[1233]),C$Tzt(H[1244]),C$Tzt(H[1245]);},{"./CCMesh":156,"./CCMeshRenderer":157,"./mesh-renderer":160}],159:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.MeshData=C$Tzs,C$Tzi.Primitive=C$Tzi.VertexBundle=C$Tzi.VertexFormat=C$Tzi.BufferRange=void 0;C$Tzt=(C$Tzt=C$Tzt(H[725]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};var C$Tzn=cc.Class({name:H[1246],properties:{offset:0,length:0}}),C$Tzr=(C$Tzi.BufferRange=C$Tzn,cc.Class({name:H[1247],properties:{name:"",type:-1,num:-1,normalize:!1}})),C$Tzr=(C$Tzi.VertexFormat=C$Tzr,cc.Class({name:H[1248],properties:{data:{default:null,type:C$Tzn},formats:{default:[],type:C$Tzr},verticesCount:0}})),C$Tzr=(C$Tzi.VertexBundle=C$Tzr,cc.Class({name:H[1249],properties:{vertexBundleIndices:{default:[],type:cc.Float},data:{default:null,type:C$Tzn},indexUnit:C$Tzt.default.INDEX_FMT_UINT16,topology:C$Tzt.default.PT_TRIANGLES}}));function C$Tzs(){this.vData=null,this.float32VData=null,this.uint32VData=null,this.iData=null,this.uint16IData=null,this.vfm=null,this.offset=0,this.vb=null,this.ib=null,this.vDirty=!1,this.iDirty=!1,this.enable=!0;}C$Tzi.Primitive=C$Tzr,C$Tzs.prototype.setVData=function(C$Tzt){this.vData=C$Tzt,this.float32VData=null,this.uint32VData=null;},C$Tzs.prototype.getVData=function(C$Tzt){return C$Tzt===Float32Array?(this.float32VData||(this.float32VData=new Float32Array(this.vData.buffer,this.vData.byteOffset,this.vData.byteLength/4)),this.float32VData):C$Tzt===Uint32Array?(this.uint32VData||(this.uint32VData=new Uint32Array(this.vData.buffer,this.vData.byteOffset,this.vData.byteLength/4)),this.uint32VData):this.vData;},C$Tzs.prototype.getIData=function(C$Tzt){return C$Tzt===Uint16Array?(this.uint16IData||(this.uint16IData=new Uint16Array(this.iData.buffer,this.iData.byteOffset,this.iData.byteLength/2)),this.uint16IData):this.iData;};},{"../../renderer/gfx":312}],160:[function(C$Tzt,C$Tza,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.default=void 0;var C$Tzc=C$Tzi(C$Tzt(H[911])),C$Tzp=C$Tzi(C$Tzt(H[725])),C$Tzm=C$Tzi(C$Tzt(H[1085]));function C$Tzi(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzl(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzh(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzh(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzh(C$Tzt){return(C$Tzh=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzn,C$Tzr,C$Tzt=C$Tzt(H[1244]),C$Tzy=new C$Tzm.default(),C$Tzs=(C$Tzn=C$Tzc.default,C$Tzs=C$Tzn,(C$Tzr=C$Tzo).prototype=Object.create(C$Tzs.prototype),(C$Tzr.prototype.constructor=C$Tzr).__proto__=C$Tzs,C$Tzl(C$Tzo),(C$Tzr=C$Tzo.prototype).init=function(C$Tzt){C$Tzn.prototype.init.call(this,C$Tzt),this._worldDatas={},this._renderNode=null;},C$Tzr.setRenderNode=function(C$Tzt){this._renderNode=C$Tzt;},C$Tzr.fillBuffers=function(C$Tzt,C$Tze){if(C$Tzt.mesh){C$Tzt.mesh._uploadData();for(var C$Tzi=C$Tze.cullingMask===C$Tzt.node._cullingMask,C$Tzn=C$Tzt.enableAutoBatch,C$Tzr=C$Tzt._materials,C$Tzs=C$Tzt.mesh._subMeshes,C$Tzh=C$Tzt.mesh.subDatas,C$Tzo=0;C$Tzo<C$Tzs.length;C$Tzo++){var C$Tza=C$Tzs[C$Tzo],C$Tzc=C$Tzh[C$Tzo],C$Tzl=C$Tzr[C$Tzo]||C$Tzr[0];C$Tzn&&C$Tzc.canBatch&&C$Tza._primitiveType===C$Tzp.default.PT_TRIANGLES?(C$Tzi&&C$Tzl.getHash()===C$Tze.material.getHash()||C$Tze._flush(),C$Tze.material=C$Tzl,C$Tze.cullingMask=C$Tzt.node._cullingMask,C$Tze.node=C$Tze._dummyNode,this._fillBuffer(C$Tzt,C$Tzc,C$Tze,C$Tzo)):(C$Tze._flush(),C$Tze.material=C$Tzl,C$Tze.cullingMask=C$Tzt.node._cullingMask,C$Tze.node=this._renderNode,C$Tze._flushIA(C$Tza));}!cc.macro.SHOW_MESH_WIREFRAME&&!cc.macro.SHOW_MESH_NORMAL||C$Tzt.node._cullingMask&1<<cc.Node.BuiltinGroupIndex.DEBUG||(C$Tze._flush(),C$Tze.node=this._renderNode,C$Tzt._updateDebugDatas(),cc.macro.SHOW_MESH_WIREFRAME&&this._drawDebugDatas(C$Tzt,C$Tze,H[1250]),cc.macro.SHOW_MESH_NORMAL&&this._drawDebugDatas(C$Tzt,C$Tze,H[1251]));}},C$Tzr._fillBuffer=function(C$Tzh,C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.getVData(Float32Array),C$Tzr=C$Tzt.vfm,C$Tzs=C$Tzn.byteLength/C$Tzr._bytes|0,C$Tzo=C$Tzt.getIData(Uint16Array),C$Tza=C$Tzo.length,C$Tzt=C$Tze.getBuffer(H[1252],C$Tzr),C$Tzc=C$Tzt.request(C$Tzs,C$Tza),C$Tzu=C$Tzc.indiceOffset,C$Tz_=C$Tzc.byteOffset>>2,C$Tzd=C$Tzc.vertexOffset,C$Tzc=C$Tzt._vData,C$Tzf=C$Tzt._iData;!C$Tze.worldMatDirty&&this._worldDatas[C$Tzi]||this._updateWorldVertices(C$Tzi,C$Tzs,C$Tzn,C$Tzr,C$Tzh.node._worldMatrix),C$Tzc.set(this._worldDatas[C$Tzi],C$Tz_);for(var C$Tzl=0;C$Tzl<C$Tza;C$Tzl++)C$Tzf[C$Tzu+C$Tzl]=C$Tzd+C$Tzo[C$Tzl];},C$Tzr._updateWorldVertices=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzh){for(var C$Tzr=this._worldDatas[C$Tzt],C$Tzu=(C$Tzr||(C$Tzr=this._worldDatas[C$Tzt]=new Float32Array(C$Tzi.length)).set(C$Tzi),C$Tzn._bytes/4),C$Tzs=C$Tzn._elements,C$Tzo=0,C$Tz_=C$Tzs.length;C$Tzo<C$Tz_;C$Tzo++){var C$Tza=C$Tzs[C$Tzo],C$Tzd=C$Tza.offset/4;if(C$Tza.name===C$Tzp.default.ATTR_POSITION||C$Tza.name===C$Tzp.default.ATTR_NORMAL)for(var C$Tzf=C$Tza.name===C$Tzp.default.ATTR_NORMAL?C$Tzm.default.transformMat4Normal:C$Tzm.default.transformMat4,C$Tzc=0;C$Tzc<C$Tze;C$Tzc++){var C$Tzl=C$Tzc*C$Tzu+C$Tzd;C$Tzy.x=C$Tzi[C$Tzl],C$Tzy.y=C$Tzi[1+C$Tzl],C$Tzy.z=C$Tzi[2+C$Tzl],C$Tzf(C$Tzy,C$Tzy,C$Tzh),C$Tzr[C$Tzl]=C$Tzy.x,C$Tzr[1+C$Tzl]=C$Tzy.y,C$Tzr[2+C$Tzl]=C$Tzy.z;}}},C$Tzr._drawDebugDatas=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt._debugDatas[C$Tzi];if(C$Tzn)for(var C$Tzr=0;C$Tzr<C$Tzn.length;C$Tzr++){var C$Tzs,C$Tzo=C$Tzn[C$Tzr];C$Tzo&&(C$Tzs=C$Tzo.material,C$Tze.material=C$Tzs,C$Tze._flushIA(C$Tzo.ia));}},C$Tzo);function C$Tzo(){return C$Tzn.apply(this,arguments)||this;}C$Tze.default=C$Tzs,C$Tzc.default.register(C$Tzt,C$Tzs),C$Tza.exports=C$Tze.default;},{"../../renderer/gfx":312,"../renderer/assembler":217,"../value-types/vec3":289,"./CCMeshRenderer":157}],161:[function(C$Tzt,C$Tzc,C$Tzl){"use strict";var C$Tzi=C$Tzt(H[593]),C$Tze=C$Tzt(H[595]).Flags,C$Tz_=C$Tzt(H[664]),C$Tzs=C$Tze.IsPreloadStarted,C$Tzo=C$Tze.IsOnLoadStarted,C$Tzr=C$Tze.IsOnLoadCalled,C$Tzd=C$Tze.Deactivating,C$Tzh=cc.Class({extends:C$Tzi.LifeCycleInvoker,add:function(C$Tzt){this._zero.array.push(C$Tzt);},remove:function(C$Tzt){this._zero.fastRemove(C$Tzt);},cancelInactive:function(C$Tzt){C$Tzi.LifeCycleInvoker.stableRemoveInactive(this._zero,C$Tzt);},invoke:function(){this._invoke(this._zero),this._zero.array.length=0;}}),C$Tzu=C$Tzi.createInvokeImpl(function(C$Tzt){C$Tzt.__preload();},!1,void 0,function(C$Tzt){var C$Tze=C$Tzt.array;for(C$Tzt.i=0;C$Tzt.i<C$Tze.length;++C$Tzt.i)C$Tze[C$Tzt.i].__preload();}),C$Tzf=C$Tzi.createInvokeImpl(function(C$Tzt){C$Tzt.onLoad(),C$Tzt._objFlags|=C$Tzr;},!1,C$Tzr,function(C$Tzt){var C$Tze=C$Tzt.array;for(C$Tzt.i=0;C$Tzt.i<C$Tze.length;++C$Tzt.i){var C$Tzi=C$Tze[C$Tzt.i];C$Tzi.onLoad(),C$Tzi._objFlags|=C$Tzr;}}),C$Tza=new C$Tz_.Pool(4);function C$Tzn(){this._activatingStack=[];}C$Tza.get=function(){var C$Tzt=this._get()||{preload:new C$Tzh(C$Tzu),onLoad:new C$Tzi.OneOffInvoker(C$Tzf),onEnable:new C$Tzi.OneOffInvoker(C$Tzi.invokeOnEnable)},C$Tze=(C$Tzt.preload._zero.i=-1,C$Tzt.onLoad);return C$Tze._zero.i=-1,C$Tze._neg.i=-1,C$Tze._pos.i=-1,(C$Tze=C$Tzt.onEnable)._zero.i=-1,C$Tze._neg.i=-1,C$Tze._pos.i=-1,C$Tzt;};C$Tzt=cc.Class({ctor:C$Tzn,reset:C$Tzn,_activateNodeRecursively:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){if(C$Tzt._objFlags&C$Tzd)cc.errorID(3816,C$Tzt.name);else{C$Tzt._activeInHierarchy=!0;for(var C$Tzr,C$Tzs,C$Tzh=C$Tzt._components.length,C$Tzo=0;C$Tzo<C$Tzh;++C$Tzo){var C$Tza=C$Tzt._components[C$Tzo];C$Tza instanceof cc.Component?this.activateComp(C$Tza,C$Tze,C$Tzi,C$Tzn):(C$Tzr=C$Tzt,C$Tzs=C$Tzo,(C$Tza=C$Tza)?C$Tzr._removeComponent(C$Tza):C$Tz_.array.removeAt(C$Tzr._components,C$Tzs),--C$Tzo,--C$Tzh);}C$Tzt._childArrivalOrder=C$Tzt._children.length;for(var C$Tzc=0,C$Tzu=C$Tzt._children.length;C$Tzc<C$Tzu;++C$Tzc){var C$Tzl=C$Tzt._children[C$Tzc];C$Tzl._localZOrder=4294901760&C$Tzl._localZOrder|C$Tzc+1,C$Tzl._active&&this._activateNodeRecursively(C$Tzl,C$Tze,C$Tzi,C$Tzn);}C$Tzt._onPostActivated(!0);}},_deactivateNodeRecursively:function(C$Tzt){C$Tzt._objFlags|=C$Tzd,C$Tzt._activeInHierarchy=!1;for(var C$Tze=C$Tzt._components.length,C$Tzi=0;C$Tzi<C$Tze;++C$Tzi){var C$Tzn=C$Tzt._components[C$Tzi];if(C$Tzn._enabled&&(cc.director._compScheduler.disableComp(C$Tzn),C$Tzt._activeInHierarchy))return void(C$Tzt._objFlags&=~C$Tzd);}for(var C$Tzr=0,C$Tzs=C$Tzt._children.length;C$Tzr<C$Tzs;++C$Tzr){var C$Tzo=C$Tzt._children[C$Tzr];if(C$Tzo._activeInHierarchy&&(this._deactivateNodeRecursively(C$Tzo),C$Tzt._activeInHierarchy))return void(C$Tzt._objFlags&=~C$Tzd);}C$Tzt._onPostActivated(!1),C$Tzt._objFlags&=~C$Tzd;},activateNode:function(C$Tzt,C$Tze){if(C$Tze){C$Tze=C$Tza.get();this._activatingStack.push(C$Tze),this._activateNodeRecursively(C$Tzt,C$Tze.preload,C$Tze.onLoad,C$Tze.onEnable),C$Tze.preload.invoke(),C$Tze.onLoad.invoke(),C$Tze.onEnable.invoke(),this._activatingStack.pop(),C$Tza.put(C$Tze);}else{this._deactivateNodeRecursively(C$Tzt);for(var C$Tzi=this._activatingStack,C$Tzn=0;C$Tzn<C$Tzi.length;C$Tzn++){var C$Tzr=C$Tzi[C$Tzn];C$Tzr.preload.cancelInactive(C$Tzs),C$Tzr.onLoad.cancelInactive(C$Tzo),C$Tzr.onEnable.cancelInactive();}}C$Tzt.emit(H[890],C$Tzt);},activateComp:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){cc.isValid(C$Tzt,!0)&&(C$Tzt._objFlags&C$Tzs||(C$Tzt._objFlags|=C$Tzs,C$Tzt.__preload&&(C$Tze?C$Tze.add(C$Tzt):C$Tzt.__preload())),C$Tzt._objFlags&C$Tzo||(C$Tzt._objFlags|=C$Tzo,C$Tzt.onLoad?C$Tzi?C$Tzi.add(C$Tzt):(C$Tzt.onLoad(),C$Tzt._objFlags|=C$Tzr):C$Tzt._objFlags|=C$Tzr),!C$Tzt._enabled||C$Tzt.node._activeInHierarchy&&cc.director._compScheduler.enableComp(C$Tzt,C$Tzn));},destroyComp:function(C$Tzt){cc.director._compScheduler.disableComp(C$Tzt),C$Tzt.onDestroy&&C$Tzt._objFlags&C$Tzr&&C$Tzt.onDestroy();},resetComp:!1});C$Tzc.exports=C$Tzt;},{"./component-scheduler":72,"./platform/CCObject":195,"./platform/js":209,"./utils/misc":264}],162:[function(C$Tzt,C$Tzr,C$Tzo){"use strict";var C$Tzl=C$Tzt(H[1253]).PTM_RATIO,C$Tzh=C$Tzt(H[1253]).ContactType,C$Tzi=[],C$Tzd=[cc.v2(),cc.v2()],C$Tzc=new b2.WorldManifold(),C$Tzu={points:[],separations:[],normal:cc.v2()};function C$Tze(){this.localPoint=cc.v2(),this.normalImpulse=0,this.tangentImpulse=0;}var C$Tzf=[new C$Tze(),new C$Tze()],C$Tz_=(new b2.Manifold(),{type:0,localPoint:cc.v2(),localNormal:cc.v2(),points:[]}),C$Tzs={normalImpulses:[],tangentImpulses:[]};function C$Tzn(){}C$Tzn.prototype.init=function(C$Tzt){this.colliderA=C$Tzt.GetFixtureA().collider,this.colliderB=C$Tzt.GetFixtureB().collider,this.disabled=!1,this.disabledOnce=!1,this._impulse=null,this._inverted=!1,(this._b2contact=C$Tzt)._contact=this;},C$Tzn.prototype.reset=function(){this.setTangentSpeed(0),this.resetFriction(),this.resetRestitution(),this.colliderA=null,this.colliderB=null,this.disabled=!1,this._impulse=null,this._b2contact._contact=null,this._b2contact=null;},C$Tzn.prototype.getWorldManifold=function(){var C$Tzt=C$Tzu.points,C$Tze=C$Tzu.separations,C$Tzi=C$Tzu.normal,C$Tzn=(this._b2contact.GetWorldManifold(C$Tzc),C$Tzc.points),C$Tzr=C$Tzc.separations,C$Tzs=this._b2contact.GetManifold().pointCount;C$Tzt.length=C$Tze.length=C$Tzs;for(var C$Tzo=0;C$Tzo<C$Tzs;C$Tzo++){var C$Tza=C$Tzd[C$Tzo];C$Tza.x=C$Tzn[C$Tzo].x*C$Tzl,C$Tza.y=C$Tzn[C$Tzo].y*C$Tzl,C$Tzt[C$Tzo]=C$Tza,C$Tze[C$Tzo]=C$Tzr[C$Tzo]*C$Tzl;}return C$Tzi.x=C$Tzc.normal.x,C$Tzi.y=C$Tzc.normal.y,this._inverted&&(C$Tzi.x*=-1,C$Tzi.y*=-1),C$Tzu;},C$Tzn.prototype.getManifold=function(){for(var C$Tzt=C$Tz_.points,C$Tze=C$Tz_.localNormal,C$Tzi=C$Tz_.localPoint,C$Tzn=this._b2contact.GetManifold(),C$Tzr=C$Tzn.points,C$Tzs=C$Tzt.length=C$Tzn.pointCount,C$Tzo=0;C$Tzo<C$Tzs;C$Tzo++){var C$Tza=C$Tzf[C$Tzo],C$Tzc=C$Tzr[C$Tzo];C$Tza.localPoint.x=C$Tzc.localPoint.x*C$Tzl,C$Tza.localPoint.Y=C$Tzc.localPoint.Y*C$Tzl,C$Tza.normalImpulse=C$Tzc.normalImpulse*C$Tzl,C$Tza.tangentImpulse=C$Tzc.tangentImpulse,C$Tzt[C$Tzo]=C$Tza;}return C$Tzi.x=C$Tzn.localPoint.x*C$Tzl,C$Tzi.y=C$Tzn.localPoint.y*C$Tzl,C$Tze.x=C$Tzn.localNormal.x,C$Tze.y=C$Tzn.localNormal.y,C$Tz_.type=C$Tzn.type,this._inverted&&(C$Tze.x*=-1,C$Tze.y*=-1),C$Tz_;},C$Tzn.prototype.getImpulse=function(){var C$Tzt=this._impulse;if(!C$Tzt)return null;for(var C$Tze=C$Tzs.normalImpulses,C$Tzi=C$Tzs.tangentImpulses,C$Tzn=C$Tzt.count,C$Tzr=0;C$Tzr<C$Tzn;C$Tzr++)C$Tze[C$Tzr]=C$Tzt.normalImpulses[C$Tzr]*C$Tzl,C$Tzi[C$Tzr]=C$Tzt.tangentImpulses[C$Tzr];return C$Tzi.length=C$Tze.length=C$Tzn,C$Tzs;},C$Tzn.prototype.emit=function(C$Tzt){var C$Tze;switch(C$Tzt){case C$Tzh.BEGIN_CONTACT:C$Tze=H[1254];break;case C$Tzh.END_CONTACT:C$Tze=H[1255];break;case C$Tzh.PRE_SOLVE:C$Tze=H[1256];break;case C$Tzh.POST_SOLVE:C$Tze=H[1257];}var C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo=this.colliderA,C$Tza=this.colliderB,C$Tzt=C$Tzo.body,C$Tzc=C$Tza.body;if(C$Tzt.enabledContactListener)for(C$Tzi=C$Tzt.node._components,this._inverted=!1,C$Tzn=0,C$Tzr=C$Tzi.length;C$Tzn<C$Tzr;C$Tzn++)(C$Tzs=C$Tzi[C$Tzn])[C$Tze]&&C$Tzs[C$Tze](this,C$Tzo,C$Tza);if(C$Tzc.enabledContactListener)for(C$Tzi=C$Tzc.node._components,this._inverted=!0,C$Tzn=0,C$Tzr=C$Tzi.length;C$Tzn<C$Tzr;C$Tzn++)(C$Tzs=C$Tzi[C$Tzn])[C$Tze]&&C$Tzs[C$Tze](this,C$Tza,C$Tzo);(this.disabled||this.disabledOnce)&&(this.setEnabled(!1),this.disabledOnce=!1);},C$Tzn.get=function(C$Tzt){var C$Tze=0===C$Tzi.length?new cc.PhysicsContact():C$Tzi.pop();return C$Tze.init(C$Tzt),C$Tze;},C$Tzn.put=function(C$Tzt){C$Tzt=C$Tzt._contact;C$Tzt&&(C$Tzi.push(C$Tzt),C$Tzt.reset());};C$Tzt=C$Tzn.prototype;C$Tzt.setEnabled=function(C$Tzt){this._b2contact.SetEnabled(C$Tzt);},C$Tzt.isTouching=function(){return this._b2contact.IsTouching();},C$Tzt.setTangentSpeed=function(C$Tzt){this._b2contact.SetTangentSpeed(C$Tzt/C$Tzl);},C$Tzt.getTangentSpeed=function(){return this._b2contact.GetTangentSpeed()*C$Tzl;},C$Tzt.setFriction=function(C$Tzt){this._b2contact.SetFriction(C$Tzt);},C$Tzt.getFriction=function(){return this._b2contact.GetFriction();},C$Tzt.resetFriction=function(){return this._b2contact.ResetFriction();},C$Tzt.setRestitution=function(C$Tzt){this._b2contact.SetRestitution(C$Tzt);},C$Tzt.getRestitution=function(){return this._b2contact.GetRestitution();},C$Tzt.resetRestitution=function(){return this._b2contact.ResetRestitution();},C$Tzn.ContactType=C$Tzh,cc.PhysicsContact=C$Tzr.exports=C$Tzn;},{"./CCPhysicsTypes":164}],163:[function(C$Tzt,C$Tzr,C$Tzs){"use strict";var C$Tze=C$Tzt(H[1253]),C$Tzi=C$Tze.ContactType,C$Tzc=C$Tze.BodyType,C$Tzd=C$Tze.RayCastType,C$Tzo=C$Tze.DrawBits,C$Tzf=C$Tze.PTM_RATIO,C$Tzh=(C$Tze.ANGLE_TO_PHYSICS_ANGLE,C$Tze.PHYSICS_ANGLE_TO_ANGLE),C$Tzu=C$Tzt(H[800]).convertToNodeRotation,C$Tz_=C$Tzt(H[1258]),C$Tzn=new b2.AABB(),C$Tzp=new b2.Vec2(),C$Tzm=new b2.Vec2(),C$Tza=cc.v2(),C$Tzl=cc.Class({mixins:[cc.EventTarget],statics:{DrawBits:C$Tzo,PTM_RATIO:C$Tzf,VELOCITY_ITERATIONS:10,POSITION_ITERATIONS:10,FIXED_TIME_STEP:1/60,MAX_ACCUMULATOR:.2},ctor:function(){this._debugDrawFlags=0,this._debugDrawer=null,this._world=null,this._bodies=[],this._joints=[],this._contactMap={},this._contactID=0,this._delayEvents=[],this._accumulator=0,cc.director._scheduler&&cc.director._scheduler.enableForTarget(this),this.enabledAccumulator=!1;},pushDelayEvent:function(C$Tzt,C$Tze,C$Tzi){this._steping?this._delayEvents.push({target:C$Tzt,func:C$Tze,args:C$Tzi}):C$Tzt[C$Tze].apply(C$Tzt,C$Tzi);},update:function(C$Tzt){var C$Tze=this._world;if(C$Tze&&this.enabled){this.emit(H[1259]),this._steping=!0;var C$Tzi=C$Tzl.VELOCITY_ITERATIONS,C$Tzn=C$Tzl.POSITION_ITERATIONS;if(this.enabledAccumulator){this._accumulator+=C$Tzt;var C$Tzr=C$Tzl.FIXED_TIME_STEP,C$Tzt=C$Tzl.MAX_ACCUMULATOR;for(this._accumulator>C$Tzt&&(this._accumulator=C$Tzt);this._accumulator>C$Tzr;)C$Tze.Step(C$Tzr,C$Tzi,C$Tzn),this._accumulator-=C$Tzr;}else{C$Tzt=1/cc.game.config.frameRate;C$Tze.Step(C$Tzt,C$Tzi,C$Tzn);}this.debugDrawFlags&&(this._checkDebugDrawValid(),this._debugDrawer.clear(),C$Tze.DrawDebugData()),this._steping=!1;for(var C$Tzs=this._delayEvents,C$Tzo=0,C$Tza=C$Tzs.length;C$Tzo<C$Tza;C$Tzo++){var C$Tzc=C$Tzs[C$Tzo];C$Tzc.target[C$Tzc.func].apply(C$Tzc.target,C$Tzc.args);}C$Tzs.length=0,this._syncNode();}},testPoint:function(C$Tzt){var C$Tze=C$Tzp.x=C$Tzt.x/C$Tzf,C$Tzt=C$Tzp.y=C$Tzt.y/C$Tzf,C$Tzi=.2/C$Tzf,C$Tze=(C$Tzn.lowerBound.x=C$Tze-C$Tzi,C$Tzn.lowerBound.y=C$Tzt-C$Tzi,C$Tzn.upperBound.x=C$Tze+C$Tzi,C$Tzn.upperBound.y=C$Tzt+C$Tzi,this._aabbQueryCallback),C$Tzt=(C$Tze.init(C$Tzp),this._world.QueryAABB(C$Tze,C$Tzn),C$Tze.getFixture());return C$Tzt?C$Tzt.collider:null;},testAABB:function(C$Tzt){C$Tzn.lowerBound.x=C$Tzt.xMin/C$Tzf,C$Tzn.lowerBound.y=C$Tzt.yMin/C$Tzf,C$Tzn.upperBound.x=C$Tzt.xMax/C$Tzf,C$Tzn.upperBound.y=C$Tzt.yMax/C$Tzf;C$Tzt=this._aabbQueryCallback;return C$Tzt.init(),this._world.QueryAABB(C$Tzt,C$Tzn),C$Tzt.getFixtures().map(function(C$Tzt){return C$Tzt.collider;});},rayCast:function(C$Tzt,C$Tze,C$Tzi){if(C$Tzt.equals(C$Tze))return[];C$Tzi=C$Tzi||C$Tzd.Closest,C$Tzp.x=C$Tzt.x/C$Tzf,C$Tzp.y=C$Tzt.y/C$Tzf,C$Tzm.x=C$Tze.x/C$Tzf,C$Tzm.y=C$Tze.y/C$Tzf;var C$Tzt=this._raycastQueryCallback,C$Tzn=(C$Tzt.init(C$Tzi),this._world.RayCast(C$Tzt,C$Tzp,C$Tzm),C$Tzt.getFixtures());if(0<C$Tzn.length){for(var C$Tzr=C$Tzt.getPoints(),C$Tzs=C$Tzt.getNormals(),C$Tzo=C$Tzt.getFractions(),C$Tzh=[],C$Tza=0,C$Tzu=C$Tzn.length;C$Tza<C$Tzu;C$Tza++){var C$Tz_=C$Tzn[C$Tza],C$Tzc=C$Tz_.collider;if(C$Tzi===C$Tzd.AllClosest){var C$Tzl=C$Tzh.find(function(C$Tzt){return C$Tzt.collider===C$Tzc;});if(C$Tzl){C$Tzo[C$Tza]<C$Tzl.fraction&&(C$Tzl.fixtureIndex=C$Tzc._getFixtureIndex(C$Tz_),C$Tzl.point.x=C$Tzr[C$Tza].x*C$Tzf,C$Tzl.point.y=C$Tzr[C$Tza].y*C$Tzf,C$Tzl.normal.x=C$Tzs[C$Tza].x,C$Tzl.normal.y=C$Tzs[C$Tza].y,C$Tzl.fraction=C$Tzo[C$Tza]);continue;}}C$Tzh.push({collider:C$Tzc,fixtureIndex:C$Tzc._getFixtureIndex(C$Tz_),point:cc.v2(C$Tzr[C$Tza].x*C$Tzf,C$Tzr[C$Tza].y*C$Tzf),normal:cc.v2(C$Tzs[C$Tza]),fraction:C$Tzo[C$Tza]});}return C$Tzh;}return[];},syncPosition:function(){for(var C$Tzt=this._bodies,C$Tze=0;C$Tze<C$Tzt.length;C$Tze++)C$Tzt[C$Tze].syncPosition();},syncRotation:function(){for(var C$Tzt=this._bodies,C$Tze=0;C$Tze<C$Tzt.length;C$Tze++)C$Tzt[C$Tze].syncRotation();},_registerContactFixture:function(C$Tzt){this._contactListener.registerContactFixture(C$Tzt);},_unregisterContactFixture:function(C$Tzt){this._contactListener.unregisterContactFixture(C$Tzt);},_addBody:function(C$Tzt,C$Tze){var C$Tzi=this._world,C$Tzn=C$Tzt.node;C$Tzi&&C$Tzn&&(C$Tzt._b2Body=C$Tzi.CreateBody(C$Tze),C$Tzt._b2Body.body=C$Tzt,this._bodies.push(C$Tzt));},_removeBody:function(C$Tzt){var C$Tze=this._world;C$Tze&&(C$Tzt._b2Body.body=null,C$Tze.DestroyBody(C$Tzt._b2Body),C$Tzt._b2Body=null,cc.js.array.remove(this._bodies,C$Tzt));},_addJoint:function(C$Tzt,C$Tze){C$Tze=this._world.CreateJoint(C$Tze);C$Tze&&((C$Tze._joint=C$Tzt)._joint=C$Tze,this._joints.push(C$Tzt));},_removeJoint:function(C$Tzt){C$Tzt._isValid()&&this._world.DestroyJoint(C$Tzt._joint),C$Tzt._joint&&(C$Tzt._joint._joint=null),cc.js.array.remove(this._joints,C$Tzt);},_initCallback:function(){var C$Tzt;this._world?this._contactListener||((C$Tzt=new cc.PhysicsContactListener()).setBeginContact(this._onBeginContact),C$Tzt.setEndContact(this._onEndContact),C$Tzt.setPreSolve(this._onPreSolve),C$Tzt.setPostSolve(this._onPostSolve),this._world.SetContactListener(C$Tzt),this._contactListener=C$Tzt,this._aabbQueryCallback=new cc.PhysicsAABBQueryCallback(),this._raycastQueryCallback=new cc.PhysicsRayCastCallback()):cc.warn(H[1260]);},_init:function(){this.enabled=!0,this.debugDrawFlags=C$Tzo.e_shapeBit;},_getWorld:function(){return this._world;},_syncNode:function(){for(var C$Tzt=this._bodies,C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++){var C$Tzn=C$Tzt[C$Tze],C$Tzr=C$Tzn.node,C$Tzs=C$Tzn._b2Body,C$Tzo=C$Tzs.GetPosition(),C$Tzo=(C$Tza.x=C$Tzo.x*C$Tzf,C$Tza.y=C$Tzo.y*C$Tzf,C$Tzs.GetAngle()*C$Tzh),C$Tzs=(null!==C$Tzr.parent.parent&&(C$Tza=C$Tzr.parent.convertToNodeSpaceAR(C$Tza),C$Tzo=C$Tzu(C$Tzr.parent,C$Tzo)),C$Tzr._eventMask);C$Tzr._eventMask=0,C$Tzr.position=C$Tza,C$Tzr.angle=-C$Tzo,C$Tzr._eventMask=C$Tzs,C$Tzn.type===C$Tzc.Animated&&C$Tzn.resetVelocity();}},_onBeginContact:function(C$Tzt){cc.PhysicsContact.get(C$Tzt).emit(C$Tzi.BEGIN_CONTACT);},_onEndContact:function(C$Tzt){var C$Tze=C$Tzt._contact;C$Tze&&(C$Tze.emit(C$Tzi.END_CONTACT),cc.PhysicsContact.put(C$Tzt));},_onPreSolve:function(C$Tzt){C$Tzt=C$Tzt._contact;C$Tzt&&C$Tzt.emit(C$Tzi.PRE_SOLVE);},_onPostSolve:function(C$Tzt,C$Tze){C$Tzt=C$Tzt._contact;C$Tzt&&(C$Tzt._impulse=C$Tze,C$Tzt.emit(C$Tzi.POST_SOLVE),C$Tzt._impulse=null);},_checkDebugDrawValid:function(){var C$Tzt;this._debugDrawer&&this._debugDrawer.isValid||((C$Tzt=new cc.Node(H[1261])).zIndex=cc.macro.MAX_ZINDEX,cc.game.addPersistRootNode(C$Tzt),this._debugDrawer=C$Tzt.addComponent(cc.Graphics),(C$Tzt=new C$Tz_(this._debugDrawer)).SetFlags(this.debugDrawFlags),this._world.SetDebugDraw(C$Tzt));}});cc.js.getset(C$Tzl.prototype,H[1262],function(){return this._enabled;},function(C$Tzt){var C$Tze;C$Tzt&&!this._world&&((C$Tze=new b2.World(new b2.Vec2(0,-10))).SetAllowSleeping(!0),this._world=C$Tze,this._initCallback()),this._enabled=C$Tzt;}),cc.js.getset(C$Tzl.prototype,H[1263],function(){return this._debugDrawFlags;},function(C$Tzt){C$Tzt&&!this._debugDrawFlags?this._debugDrawer&&this._debugDrawer.node&&(this._debugDrawer.node.active=!0):!C$Tzt&&this._debugDrawFlags&&this._debugDrawer&&this._debugDrawer.node&&(this._debugDrawer.node.active=!1),C$Tzt&&(this._checkDebugDrawValid(),this._world.m_debugDraw.SetFlags(C$Tzt)),(this._debugDrawFlags=C$Tzt)&&(this._checkDebugDrawValid(),this._world.m_debugDraw.SetFlags(C$Tzt));}),cc.js.getset(C$Tzl.prototype,H[1264],function(){var C$Tzt;return this._world?(C$Tzt=this._world.GetGravity(),cc.v2(C$Tzt.x*C$Tzf,C$Tzt.y*C$Tzf)):cc.v2();},function(C$Tzt){this._world&&this._world.SetGravity(new b2.Vec2(C$Tzt.x/C$Tzf,C$Tzt.y/C$Tzf));}),cc.PhysicsManager=C$Tzr.exports=C$Tzl;},{"./CCPhysicsTypes":164,"./platform/CCPhysicsDebugDraw":185,"./utils":187}],164:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Enum({Static:0,Kinematic:1,Dynamic:2,Animated:3}),C$Tzr=(cc.RigidBodyType=C$Tzn,cc.Enum({Closest:0,Any:1,AllClosest:2,All:3}));cc.RayCastType=C$Tzr,C$Tze.exports={BodyType:C$Tzn,ContactType:{BEGIN_CONTACT:H[1265],END_CONTACT:H[1266],PRE_SOLVE:H[1267],POST_SOLVE:H[1268]},RayCastType:C$Tzr,DrawBits:b2.DrawFlags,PTM_RATIO:32,ANGLE_TO_PHYSICS_ANGLE:-Math.PI/180,PHYSICS_ANGLE_TO_ANGLE:-180/Math.PI};},{}],165:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzv(C$Tzt,C$Tze){var C$Tzi=C$Tze.length;return C$Tze[C$Tzt<0?C$Tzi- -C$Tzt%C$Tzi:C$Tzt%C$Tzi];}function C$Tzx(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn=[];C$Tze<C$Tzt;)C$Tze+=C$Tzi.length;for(;C$Tzt<=C$Tze;++C$Tzt)C$Tzn.push(C$Tzv(C$Tzt,C$Tzi));return C$Tzn;}function C$Tzb(C$Tzt,C$Tze){return C$TzA(C$Tzt,C$Tze);}function C$TzA(C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr;return void 0===C$Tzi&&(C$Tzt=C$Tzv((C$Tzn=C$Tzt)-1,C$Tzr=C$Tze),C$Tze=C$Tzv(C$Tzn,C$Tzr),C$Tzi=C$Tzv(C$Tzn+1,C$Tzr)),C$Tzs(C$Tzt,C$Tze,C$Tzi)<0;}function C$TzC(C$Tzt,C$Tze,C$Tzi){return 0<C$Tzs(C$Tzt,C$Tze,C$Tzi);}function C$TzS(C$Tzt,C$Tze,C$Tzi){return 0<=C$Tzs(C$Tzt,C$Tze,C$Tzi);}function C$TzT(C$Tzt,C$Tze,C$Tzi){return C$Tzs(C$Tzt,C$Tze,C$Tzi)<=0;}function C$Tzw(C$Tzt,C$Tze){var C$Tzi=C$Tze.x-C$Tzt.x,C$Tze=C$Tze.y-C$Tzt.y;return C$Tzi*C$Tzi+C$Tze*C$Tze;}function C$TzE(C$Tzt){C$Tzn(C$Tzt)||C$Tzt.reverse();}function C$Tzn(C$Tzt){return C$Tzt.length<3||0<function(C$Tzt){var C$Tze,C$Tzi=0;for(C$Tze=0;C$Tze<C$Tzt.length;C$Tze++){var C$Tzn=(C$Tze+1)%C$Tzt.length;C$Tzi=(C$Tzi+=C$Tzt[C$Tze].x*C$Tzt[C$Tzn].y)-C$Tzt[C$Tze].y*C$Tzt[C$Tzn].x;}return C$Tzi/=2;}(C$Tzt);}function C$TzM(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr,C$Tzs=cc.v2(),C$Tzo=C$Tze.y-C$Tzt.y,C$Tze=C$Tzt.x-C$Tze.x,C$Tzt=C$Tzo*C$Tzt.x+C$Tze*C$Tzt.y,C$Tza=C$Tzn.y-C$Tzi.y,C$Tzn=C$Tzi.x-C$Tzn.x,C$Tzi=C$Tza*C$Tzi.x+C$Tzn*C$Tzi.y,C$Tzc=C$Tzo*C$Tzn-C$Tza*C$Tze;return C$Tzr=0,Math.abs(C$Tzc-C$Tzr)<=1e-6||(C$Tzs.x=(C$Tzn*C$Tzt-C$Tze*C$Tzi)/C$Tzc,C$Tzs.y=(C$Tzo*C$Tzi-C$Tza*C$Tzt)/C$Tzc),C$Tzs;}function C$Tzs(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x*(C$Tze.y-C$Tzi.y)+C$Tze.x*(C$Tzi.y-C$Tzt.y)+C$Tzi.x*(C$Tzt.y-C$Tze.y);}C$Tze.exports={ConvexPartition:function C$Tzh(C$Tzt){C$TzE(C$Tzt);for(var C$Tze,C$Tzi,C$Tzn,C$Tzu,C$Tzr=[],C$Tz_=cc.v2(),C$Tzd=cc.v2(),C$Tzs=0,C$Tzo=0,C$Tza=0;C$Tza<C$Tzt.length;++C$Tza)if(C$Tzb(C$Tza,C$Tzt)){for(var C$Tzf=C$Tzi=1e8,C$Tzc=0;C$Tzc<C$Tzt.length;++C$Tzc)C$TzC(C$Tzv(C$Tza-1,C$Tzt),C$Tzv(C$Tza,C$Tzt),C$Tzv(C$Tzc,C$Tzt))&&C$TzT(C$Tzv(C$Tza-1,C$Tzt),C$Tzv(C$Tza,C$Tzt),C$Tzv(C$Tzc-1,C$Tzt))&&(C$Tzn=C$TzM(C$Tzv(C$Tza-1,C$Tzt),C$Tzv(C$Tza,C$Tzt),C$Tzv(C$Tzc,C$Tzt),C$Tzv(C$Tzc-1,C$Tzt)),C$TzA(C$Tzv(C$Tza+1,C$Tzt),C$Tzv(C$Tza,C$Tzt),C$Tzn)&&(C$Tze=C$Tzw(C$Tzv(C$Tza,C$Tzt),C$Tzn))<C$Tzf&&(C$Tzf=C$Tze,C$Tz_=C$Tzn,C$Tzs=C$Tzc)),C$TzC(C$Tzv(C$Tza+1,C$Tzt),C$Tzv(C$Tza,C$Tzt),C$Tzv(C$Tzc+1,C$Tzt))&&C$TzT(C$Tzv(C$Tza+1,C$Tzt),C$Tzv(C$Tza,C$Tzt),C$Tzv(C$Tzc,C$Tzt))&&(C$Tzn=C$TzM(C$Tzv(C$Tza+1,C$Tzt),C$Tzv(C$Tza,C$Tzt),C$Tzv(C$Tzc,C$Tzt),C$Tzv(C$Tzc+1,C$Tzt)),C$TzC(C$Tzv(C$Tza-1,C$Tzt),C$Tzv(C$Tza,C$Tzt),C$Tzn)&&(C$Tze=C$Tzw(C$Tzv(C$Tza,C$Tzt),C$Tzn))<C$Tzi&&(C$Tzi=C$Tze,C$Tzo=C$Tzc,C$Tzd=C$Tzn));if(C$Tzs==(C$Tzo+1)%C$Tzt.length){var C$Tzp,C$Tzm=C$Tz_.add(C$Tzd).div(2);(C$Tzp=C$Tzx(C$Tza,C$Tzo,C$Tzt)).push(C$Tzm),(C$Tzu=C$Tzx(C$Tzs,C$Tza,C$Tzt)).push(C$Tzm);}else{for(var C$Tzy=0,C$Tzg=C$Tzs;C$Tzo<C$Tzs;)C$Tzo+=C$Tzt.length;for(var C$Tzl,C$Tzc=C$Tzs;C$Tzc<=C$Tzo;++C$Tzc)!function(C$Tzt,C$Tze,C$Tzi){if(C$Tzb(C$Tzt,C$Tzi)){if(C$TzS(C$Tzv(C$Tzt,C$Tzi),C$Tzv(C$Tzt-1,C$Tzi),C$Tzv(C$Tze,C$Tzi))&&C$TzT(C$Tzv(C$Tzt,C$Tzi),C$Tzv(C$Tzt+1,C$Tzi),C$Tzv(C$Tze,C$Tzi)))return;}else if(C$TzT(C$Tzv(C$Tzt,C$Tzi),C$Tzv(C$Tzt+1,C$Tzi),C$Tzv(C$Tze,C$Tzi))||C$TzS(C$Tzv(C$Tzt,C$Tzi),C$Tzv(C$Tzt-1,C$Tzi),C$Tzv(C$Tze,C$Tzi)))return;if(C$Tzb(C$Tze,C$Tzi)){if(C$TzS(C$Tzv(C$Tze,C$Tzi),C$Tzv(C$Tze-1,C$Tzi),C$Tzv(C$Tzt,C$Tzi))&&C$TzT(C$Tzv(C$Tze,C$Tzi),C$Tzv(C$Tze+1,C$Tzi),C$Tzv(C$Tzt,C$Tzi)))return;}else if(C$TzT(C$Tzv(C$Tze,C$Tzi),C$Tzv(C$Tze+1,C$Tzi),C$Tzv(C$Tzt,C$Tzi))||C$TzS(C$Tzv(C$Tze,C$Tzi),C$Tzv(C$Tze-1,C$Tzi),C$Tzv(C$Tzt,C$Tzi)))return;for(var C$Tzn=0;C$Tzn<C$Tzi.length;++C$Tzn)if((C$Tzn+1)%C$Tzi.length!=C$Tzt&&C$Tzn!=C$Tzt&&(C$Tzn+1)%C$Tzi.length!=C$Tze&&C$Tzn!=C$Tze){var C$Tzr=cc.v2();if(function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzh){if(C$Tzt!=C$Tzi&&C$Tzt!=C$Tzn&&C$Tze!=C$Tzi&&C$Tze!=C$Tzn){var C$Tzr,C$Tzs,C$Tzo=C$Tzt.x,C$Tzt=C$Tzt.y,C$Tza=C$Tze.x,C$Tze=C$Tze.y,C$Tzc=C$Tzi.x,C$Tzi=C$Tzi.y,C$Tzl=C$Tzn.x,C$Tzn=C$Tzn.y;if(!(Math.max(C$Tzo,C$Tza)<Math.min(C$Tzc,C$Tzl)||Math.max(C$Tzc,C$Tzl)<Math.min(C$Tzo,C$Tza)))if(!(Math.max(C$Tzt,C$Tze)<Math.min(C$Tzi,C$Tzn)||Math.max(C$Tzi,C$Tzn)<Math.min(C$Tzt,C$Tze)))return C$Tzr=(C$Tzl-C$Tzc)*(C$Tzt-C$Tzi)-(C$Tzn-C$Tzi)*(C$Tzo-C$Tzc),C$Tzs=(C$Tza-C$Tzo)*(C$Tzt-C$Tzi)-(C$Tze-C$Tzt)*(C$Tzo-C$Tzc),C$Tzn=(C$Tzn-C$Tzi)*(C$Tza-C$Tzo)-(C$Tzl-C$Tzc)*(C$Tze-C$Tzt),Math.abs(C$Tzn)<1e-6?void 0:(C$Tzs/=C$Tzn,0<(C$Tzr/=C$Tzn)&&C$Tzr<1&&0<C$Tzs&&C$Tzs<1&&(C$Tzh.x=C$Tzo+C$Tzr*(C$Tza-C$Tzo),C$Tzh.y=C$Tzt+C$Tzr*(C$Tze-C$Tzt),1));}}(C$Tzv(C$Tzt,C$Tzi),C$Tzv(C$Tze,C$Tzi),C$Tzv(C$Tzn,C$Tzi),C$Tzv(C$Tzn+1,C$Tzi),C$Tzr))return;}return 1;}(C$Tza,C$Tzc,C$Tzt)||(C$Tzl=1/(C$Tzw(C$Tzv(C$Tza,C$Tzt),C$Tzv(C$Tzc,C$Tzt))+1),C$Tzb(C$Tzc,C$Tzt)?C$TzT(C$Tzv(C$Tzc-1,C$Tzt),C$Tzv(C$Tzc,C$Tzt),C$Tzv(C$Tza,C$Tzt))&&C$TzS(C$Tzv(C$Tzc+1,C$Tzt),C$Tzv(C$Tzc,C$Tzt),C$Tzv(C$Tza,C$Tzt))?C$Tzl+=3:C$Tzl+=2:C$Tzl+=1,C$Tzy<C$Tzl&&(C$Tzg=C$Tzc,C$Tzy=C$Tzl));C$Tzp=C$Tzx(C$Tza,C$Tzg,C$Tzt),C$Tzu=C$Tzx(C$Tzg,C$Tza,C$Tzt);}return C$Tzr=(C$Tzr=C$Tzr.concat(C$Tzh(C$Tzp))).concat(C$Tzh(C$Tzu));}C$Tzr.push(C$Tzt);for(C$Tza=C$Tzr.length-1;0<=C$Tza;C$Tza--)0==C$Tzr[C$Tza].length&&C$Tzr.splice(C$Tza,0);return C$Tzr;},ForceCounterClockWise:C$TzE,IsCounterClockWise:C$Tzn};},{}],166:[function(C$Tzt,C$Tzh,C$Tzu){"use strict";var C$Tze=C$Tzt(H[815]).EventType,C$Tzr=C$Tzt(H[1253]).PTM_RATIO,C$Tzs=C$Tzt(H[1253]).ANGLE_TO_PHYSICS_ANGLE,C$Tzi=C$Tzt(H[1253]).PHYSICS_ANGLE_TO_ANGLE,C$Tzo=C$Tzt(H[800]).getWorldRotation,C$Tza=C$Tzt(H[1253]).BodyType,C$Tzn=new b2.Vec2(),C$Tzc=new b2.Vec2(),C$Tzl=cc.Vec2.ZERO,C$Tzt=cc.Class({name:H[1269],extends:cc.Component,editor:!1,properties:{_type:C$Tza.Dynamic,_allowSleep:!0,_gravityScale:1,_linearDamping:0,_angularDamping:0,_linearVelocity:cc.v2(0,0),_angularVelocity:0,_fixedRotation:!1,enabled:{get:function(){return this._enabled;},set:function(){cc.warnID(8200);},visible:!1,override:!0},enabledContactListener:{default:!1,tooltip:!1},bullet:{default:!1,tooltip:!1},type:{type:C$Tza,tooltip:!1,get:function(){return this._type;},set:function(C$Tzt){this._type=C$Tzt,this._b2Body&&(C$Tzt===C$Tza.Animated?this._b2Body.SetType(C$Tza.Kinematic):this._b2Body.SetType(C$Tzt));}},allowSleep:{tooltip:!1,get:function(){return this._b2Body?this._b2Body.IsSleepingAllowed():this._allowSleep;},set:function(C$Tzt){this._allowSleep=C$Tzt,this._b2Body&&this._b2Body.SetSleepingAllowed(C$Tzt);}},gravityScale:{tooltip:!1,get:function(){return this._gravityScale;},set:function(C$Tzt){this._gravityScale=C$Tzt,this._b2Body&&this._b2Body.SetGravityScale(C$Tzt);}},linearDamping:{tooltip:!1,get:function(){return this._linearDamping;},set:function(C$Tzt){this._linearDamping=C$Tzt,this._b2Body&&this._b2Body.SetLinearDamping(this._linearDamping);}},angularDamping:{tooltip:!1,get:function(){return this._angularDamping;},set:function(C$Tzt){this._angularDamping=C$Tzt,this._b2Body&&this._b2Body.SetAngularDamping(C$Tzt);}},linearVelocity:{tooltip:!1,type:cc.Vec2,get:function(){var C$Tzt,C$Tze=this._linearVelocity;return this._b2Body&&(C$Tzt=this._b2Body.GetLinearVelocity(),C$Tze.x=C$Tzt.x*C$Tzr,C$Tze.y=C$Tzt.y*C$Tzr),C$Tze;},set:function(C$Tzt){this._linearVelocity=C$Tzt;var C$Tze,C$Tzi=this._b2Body;C$Tzi&&((C$Tze=C$Tzi.m_linearVelocity).Set(C$Tzt.x/C$Tzr,C$Tzt.y/C$Tzr),C$Tzi.SetLinearVelocity(C$Tze));}},angularVelocity:{tooltip:!1,get:function(){return this._b2Body?this._b2Body.GetAngularVelocity()*C$Tzi:this._angularVelocity;},set:function(C$Tzt){this._angularVelocity=C$Tzt,this._b2Body&&this._b2Body.SetAngularVelocity(C$Tzt*C$Tzs);}},fixedRotation:{tooltip:!1,get:function(){return this._fixedRotation;},set:function(C$Tzt){this._fixedRotation=C$Tzt,this._b2Body&&this._b2Body.SetFixedRotation(C$Tzt);}},awake:{visible:!1,tooltip:!1,get:function(){return!!this._b2Body&&this._b2Body.IsAwake();},set:function(C$Tzt){this._b2Body&&this._b2Body.SetAwake(C$Tzt);}},awakeOnLoad:{default:!0,tooltip:!1,animatable:!1},active:{visible:!1,get:function(){return!!this._b2Body&&this._b2Body.IsActive();},set:function(C$Tzt){this._b2Body&&this._b2Body.SetActive(C$Tzt);}}},getLocalPoint:function(C$Tzt,C$Tze){return C$Tze=C$Tze||cc.v2(),this._b2Body&&(C$Tzn.Set(C$Tzt.x/C$Tzr,C$Tzt.y/C$Tzr),C$Tzt=this._b2Body.GetLocalPoint(C$Tzn,C$Tze),C$Tze.x=C$Tzt.x*C$Tzr,C$Tze.y=C$Tzt.y*C$Tzr),C$Tze;},getWorldPoint:function(C$Tzt,C$Tze){return C$Tze=C$Tze||cc.v2(),this._b2Body&&(C$Tzn.Set(C$Tzt.x/C$Tzr,C$Tzt.y/C$Tzr),C$Tzt=this._b2Body.GetWorldPoint(C$Tzn,C$Tze),C$Tze.x=C$Tzt.x*C$Tzr,C$Tze.y=C$Tzt.y*C$Tzr),C$Tze;},getWorldVector:function(C$Tzt,C$Tze){return C$Tze=C$Tze||cc.v2(),this._b2Body&&(C$Tzn.Set(C$Tzt.x/C$Tzr,C$Tzt.y/C$Tzr),C$Tzt=this._b2Body.GetWorldVector(C$Tzn,C$Tze),C$Tze.x=C$Tzt.x*C$Tzr,C$Tze.y=C$Tzt.y*C$Tzr),C$Tze;},getLocalVector:function(C$Tzt,C$Tze){return C$Tze=C$Tze||cc.v2(),this._b2Body&&(C$Tzn.Set(C$Tzt.x/C$Tzr,C$Tzt.y/C$Tzr),C$Tzt=this._b2Body.GetLocalVector(C$Tzn,C$Tze),C$Tze.x=C$Tzt.x*C$Tzr,C$Tze.y=C$Tzt.y*C$Tzr),C$Tze;},getWorldPosition:function(C$Tzt){var C$Tze;return C$Tzt=C$Tzt||cc.v2(),this._b2Body&&(C$Tze=this._b2Body.GetPosition(),C$Tzt.x=C$Tze.x*C$Tzr,C$Tzt.y=C$Tze.y*C$Tzr),C$Tzt;},getWorldRotation:function(){return this._b2Body?this._b2Body.GetAngle()*C$Tzi:0;},getLocalCenter:function(C$Tzt){var C$Tze;return C$Tzt=C$Tzt||cc.v2(),this._b2Body&&(C$Tze=this._b2Body.GetLocalCenter(),C$Tzt.x=C$Tze.x*C$Tzr,C$Tzt.y=C$Tze.y*C$Tzr),C$Tzt;},getWorldCenter:function(C$Tzt){var C$Tze;return C$Tzt=C$Tzt||cc.v2(),this._b2Body&&(C$Tze=this._b2Body.GetWorldCenter(),C$Tzt.x=C$Tze.x*C$Tzr,C$Tzt.y=C$Tze.y*C$Tzr),C$Tzt;},getLinearVelocityFromWorldPoint:function(C$Tzt,C$Tze){return C$Tze=C$Tze||cc.v2(),this._b2Body&&(C$Tzn.Set(C$Tzt.x/C$Tzr,C$Tzt.y/C$Tzr),C$Tzt=this._b2Body.GetLinearVelocityFromWorldPoint(C$Tzn,C$Tze),C$Tze.x=C$Tzt.x*C$Tzr,C$Tze.y=C$Tzt.y*C$Tzr),C$Tze;},getMass:function(){return this._b2Body?this._b2Body.GetMass():0;},getInertia:function(){return this._b2Body?this._b2Body.GetInertia()*C$Tzr*C$Tzr:0;},getJointList:function(){if(!this._b2Body)return[];var C$Tzt=[],C$Tze=this._b2Body.GetJointList();if(!C$Tze)return[];C$Tzt.push(C$Tze.joint._joint);for(var C$Tzi=C$Tze.prev;C$Tzi;)C$Tzt.push(C$Tzi.joint._joint),C$Tzi=C$Tzi.prev;for(var C$Tzn=C$Tze.next;C$Tzn;)C$Tzt.push(C$Tzn.joint._joint),C$Tzn=C$Tzn.next;return C$Tzt;},applyForce:function(C$Tzt,C$Tze,C$Tzi){this._b2Body&&(C$Tzn.Set(C$Tzt.x/C$Tzr,C$Tzt.y/C$Tzr),C$Tzc.Set(C$Tze.x/C$Tzr,C$Tze.y/C$Tzr),this._b2Body.ApplyForce(C$Tzn,C$Tzc,C$Tzi));},applyForceToCenter:function(C$Tzt,C$Tze){this._b2Body&&(C$Tzn.Set(C$Tzt.x/C$Tzr,C$Tzt.y/C$Tzr),this._b2Body.ApplyForceToCenter(C$Tzn,C$Tze));},applyTorque:function(C$Tzt,C$Tze){this._b2Body&&this._b2Body.ApplyTorque(C$Tzt/C$Tzr,C$Tze);},applyLinearImpulse:function(C$Tzt,C$Tze,C$Tzi){this._b2Body&&(C$Tzn.Set(C$Tzt.x/C$Tzr,C$Tzt.y/C$Tzr),C$Tzc.Set(C$Tze.x/C$Tzr,C$Tze.y/C$Tzr),this._b2Body.ApplyLinearImpulse(C$Tzn,C$Tzc,C$Tzi));},applyAngularImpulse:function(C$Tzt,C$Tze){this._b2Body&&this._b2Body.ApplyAngularImpulse(C$Tzt/C$Tzr/C$Tzr,C$Tze);},syncPosition:function(C$Tzt){var C$Tze,C$Tzi,C$Tzn=this._b2Body;C$Tzn&&(C$Tze=this.node.convertToWorldSpaceAR(C$Tzl),(C$Tzi=this.type===C$Tza.Animated?C$Tzn.GetLinearVelocity():C$Tzn.GetPosition()).x=C$Tze.x/C$Tzr,C$Tzi.y=C$Tze.y/C$Tzr,this.type===C$Tza.Animated&&C$Tzt?(C$Tze=C$Tzn.GetPosition(),C$Tzt=cc.game.config.frameRate,C$Tzi.x=(C$Tzi.x-C$Tze.x)*C$Tzt,C$Tzi.y=(C$Tzi.y-C$Tze.y)*C$Tzt,C$Tzn.SetAwake(!0),C$Tzn.SetLinearVelocity(C$Tzi)):C$Tzn.SetTransformVec(C$Tzi,C$Tzn.GetAngle()));},syncRotation:function(C$Tzt){var C$Tze,C$Tzi,C$Tzn=this._b2Body;C$Tzn&&(C$Tze=C$Tzs*C$Tzo(this.node),this.type===C$Tza.Animated&&C$Tzt?(C$Tzt=C$Tzn.GetAngle(),C$Tzi=cc.game.config.frameRate,C$Tzn.SetAwake(!0),C$Tzn.SetAngularVelocity((C$Tze-C$Tzt)*C$Tzi)):C$Tzn.SetTransformVec(C$Tzn.GetPosition(),C$Tze));},resetVelocity:function(){var C$Tzt,C$Tze=this._b2Body;C$Tze&&((C$Tzt=C$Tze.m_linearVelocity).Set(0,0),C$Tze.SetLinearVelocity(C$Tzt),C$Tze.SetAngularVelocity(0));},onEnable:function(){this._init();},onDisable:function(){this._destroy();},_registerNodeEvents:function(){var C$Tzt=this.node;C$Tzt.on(C$Tze.POSITION_CHANGED,this._onNodePositionChanged,this),C$Tzt.on(C$Tze.ROTATION_CHANGED,this._onNodeRotationChanged,this),C$Tzt.on(C$Tze.SCALE_CHANGED,this._onNodeScaleChanged,this);},_unregisterNodeEvents:function(){var C$Tzt=this.node;C$Tzt.off(C$Tze.POSITION_CHANGED,this._onNodePositionChanged,this),C$Tzt.off(C$Tze.ROTATION_CHANGED,this._onNodeRotationChanged,this),C$Tzt.off(C$Tze.SCALE_CHANGED,this._onNodeScaleChanged,this);},_onNodePositionChanged:function(){this.syncPosition(!0);},_onNodeRotationChanged:function(C$Tzt){this.syncRotation(!0);},_onNodeScaleChanged:function(C$Tzt){if(this._b2Body)for(var C$Tze=this.getComponents(cc.PhysicsCollider),C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++)C$Tze[C$Tzi].apply();},_init:function(){cc.director.getPhysicsManager().pushDelayEvent(this,H[1270],[]);},_destroy:function(){cc.director.getPhysicsManager().pushDelayEvent(this,H[1271],[]);},__init:function(){var C$Tzt,C$Tze,C$Tzi;this._inited||(this._registerNodeEvents(),C$Tzt=new b2.BodyDef(),this.type===C$Tza.Animated?C$Tzt.type=C$Tza.Kinematic:C$Tzt.type=this.type,C$Tzt.allowSleep=this.allowSleep,C$Tzt.gravityScale=this.gravityScale,C$Tzt.linearDamping=this.linearDamping,C$Tzt.angularDamping=this.angularDamping,C$Tze=this.linearVelocity,C$Tzt.linearVelocity=new b2.Vec2(C$Tze.x/C$Tzr,C$Tze.y/C$Tzr),C$Tzt.angularVelocity=this.angularVelocity*C$Tzs,C$Tzt.fixedRotation=this.fixedRotation,C$Tzt.bullet=this.bullet,C$Tzi=(C$Tze=this.node).convertToWorldSpaceAR(C$Tzl),C$Tzt.position=new b2.Vec2(C$Tzi.x/C$Tzr,C$Tzi.y/C$Tzr),C$Tzt.angle=-Math.PI/180*C$Tzo(C$Tze),C$Tzt.awake=this.awakeOnLoad,cc.director.getPhysicsManager()._addBody(this,C$Tzt),this._inited=!0);},__destroy:function(){this._inited&&(cc.director.getPhysicsManager()._removeBody(this),this._unregisterNodeEvents(),this._inited=!1);},_getBody:function(){return this._b2Body;}});cc.RigidBody=C$Tzh.exports=C$Tzt;},{"../CCNode":30,"./CCPhysicsTypes":164,"./utils":187}],167:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn,C$Tzr,C$Tzs=C$Tzt(H[1272]);for(C$Tzn in window.b2={},C$Tzs)-1===C$Tzn.indexOf(H[1273])&&(C$Tzr=C$Tzn.replace(H[1274],""),b2[C$Tzr]=C$Tzs[C$Tzn]);b2.maxPolygonVertices=8;},{"../../../external/box2d/box2d":362}],168:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzs=C$Tzt(H[1275]).PTM_RATIO,C$Tzt=cc.Class({name:H[1276],extends:cc.PhysicsCollider,mixins:[cc.Collider.Box],editor:{menu:!1,requireComponent:cc.RigidBody},_createShape:function(C$Tzt){var C$Tze=Math.abs(C$Tzt.x),C$Tzt=Math.abs(C$Tzt.y),C$Tzi=this.size.width/2/C$Tzs*C$Tze,C$Tzn=this.size.height/2/C$Tzs*C$Tzt,C$Tze=this.offset.x/C$Tzs*C$Tze,C$Tzt=this.offset.y/C$Tzs*C$Tzt,C$Tzr=new b2.PolygonShape();return C$Tzr.SetAsBox(C$Tzi,C$Tzn,new b2.Vec2(C$Tze,C$Tzt),0),C$Tzr;}});cc.PhysicsBoxCollider=C$Tze.exports=C$Tzt;},{"../CCPhysicsTypes":164}],169:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzo=C$Tzt(H[1275]).PTM_RATIO,C$Tzt=cc.Class({name:H[1277],extends:cc.PhysicsCollider,editor:{menu:!1,inspector:!1,requireComponent:cc.RigidBody},properties:{loop:!1,points:{default:function(){return[cc.v2(-50,0),cc.v2(50,0)];},type:[cc.Vec2]},threshold:{default:1,serializable:!1,visible:!1}},_createShape:function(C$Tzt){for(var C$Tze=new b2.ChainShape(),C$Tzi=this.points,C$Tzn=[],C$Tzr=0;C$Tzr<C$Tzi.length;C$Tzr++){var C$Tzs=C$Tzi[C$Tzr];C$Tzn.push(new b2.Vec2(C$Tzs.x/C$Tzo*C$Tzt.x,C$Tzs.y/C$Tzo*C$Tzt.y));}return this.loop?C$Tze.CreateLoop(C$Tzn,C$Tzn.length):C$Tze.CreateChain(C$Tzn,C$Tzn.length),C$Tze;},resetInEditor:!1,resetPointsByContour:!1});cc.PhysicsChainCollider=C$Tze.exports=C$Tzt;},{"../CCPhysicsTypes":164}],170:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzr=C$Tzt(H[1275]).PTM_RATIO,C$Tzt=cc.Class({name:H[1278],extends:cc.PhysicsCollider,mixins:[cc.Collider.Circle],editor:{menu:!1,requireComponent:cc.RigidBody},_createShape:function(C$Tzt){var C$Tze=Math.abs(C$Tzt.x),C$Tzt=Math.abs(C$Tzt.y),C$Tzi=this.offset.x/C$Tzr*C$Tze,C$Tzt=this.offset.y/C$Tzr*C$Tzt,C$Tzn=new b2.CircleShape();return C$Tzn.m_radius=this.radius/C$Tzr*C$Tze,C$Tzn.m_p=new b2.Vec2(C$Tzi,C$Tzt),C$Tzn;}});cc.PhysicsCircleCollider=C$Tze.exports=C$Tzt;},{"../CCPhysicsTypes":164}],171:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzu=C$Tzt(H[1275]).PTM_RATIO,C$Tzd=C$Tzt(H[1279]).getWorldScale,C$Tzt=cc.Class({name:H[1280],extends:cc.Collider,ctor:function(){this._fixtures=[],this._shapes=[],this._inited=!1,this._rect=cc.rect();},properties:{_density:1,_sensor:!1,_friction:.2,_restitution:0,density:{tooltip:!1,get:function(){return this._density;},set:function(C$Tzt){this._density=C$Tzt;}},sensor:{tooltip:!1,get:function(){return this._sensor;},set:function(C$Tzt){this._sensor=C$Tzt;}},friction:{tooltip:!1,get:function(){return this._friction;},set:function(C$Tzt){this._friction=C$Tzt;}},restitution:{tooltip:!1,get:function(){return this._restitution;},set:function(C$Tzt){this._restitution=C$Tzt;}},body:{default:null,type:cc.RigidBody,visible:!1}},onDisable:function(){this._destroy();},onEnable:function(){this._init();},start:function(){this._init();},_getFixtureIndex:function(C$Tzt){return this._fixtures.indexOf(C$Tzt);},_init:function(){cc.director.getPhysicsManager().pushDelayEvent(this,H[1270],[]);},_destroy:function(){cc.director.getPhysicsManager().pushDelayEvent(this,H[1271],[]);},__init:function(){if(!this._inited){var C$Tzt=this.body||this.getComponent(cc.RigidBody);if(C$Tzt){var C$Tze=C$Tzt._getBody();if(C$Tze){for(var C$Tzi=C$Tzt.node,C$Tzn=C$Tzd(C$Tzi),C$Tzr=0===(this._scale=C$Tzn).x&&0===C$Tzn.y?[]:this._createShape(C$Tzn),C$Tzn=(C$Tzr instanceof Array||(C$Tzr=[C$Tzr]),1<<C$Tzi.groupIndex),C$Tzs=0,C$Tzo=cc.game.collisionMatrix[C$Tzi.groupIndex],C$Tza=0;C$Tza<C$Tzo.length;C$Tza++)C$Tzo[C$Tza]&&(C$Tzs|=1<<C$Tza);for(var C$Tzh={categoryBits:C$Tzn,maskBits:C$Tzs,groupIndex:0},C$Tzu=cc.director.getPhysicsManager(),C$Tzc=0;C$Tzc<C$Tzr.length;C$Tzc++){var C$Tz_=C$Tzr[C$Tzc],C$Tzl=new b2.FixtureDef(),C$Tzl=(C$Tzl.density=this.density,C$Tzl.isSensor=this.sensor,C$Tzl.friction=this.friction,C$Tzl.restitution=this.restitution,C$Tzl.shape=C$Tz_,C$Tzl.filter=C$Tzh,C$Tze.CreateFixture(C$Tzl));C$Tzl.collider=this,C$Tzt.enabledContactListener&&C$Tzu._registerContactFixture(C$Tzl),this._shapes.push(C$Tz_),this._fixtures.push(C$Tzl);}this.body=C$Tzt,this._inited=!0;}}}},__destroy:function(){if(this._inited){for(var C$Tzt=this._fixtures,C$Tze=this.body._getBody(),C$Tzi=cc.director.getPhysicsManager(),C$Tzn=C$Tzt.length-1;0<=C$Tzn;C$Tzn--){var C$Tzr=C$Tzt[C$Tzn];C$Tzr.collider=null,C$Tzi._unregisterContactFixture(C$Tzr),C$Tze&&C$Tze.DestroyFixture(C$Tzr);}this.body=null,this._fixtures.length=0,this._shapes.length=0,this._inited=!1;}},_createShape:function(){},apply:function(){this._destroy(),this._init();},getAABB:function(){for(var C$Tzt=1e7,C$Tze=1e7,C$Tzi=-1e7,C$Tzn=-1e7,C$Tzr=this._fixtures,C$Tzs=0;C$Tzs<C$Tzr.length;C$Tzs++)for(var C$Tzo=C$Tzr[C$Tzs],C$Tzh=C$Tzo.GetShape().GetChildCount(),C$Tza=0;C$Tza<C$Tzh;C$Tza++){var C$Tzc=C$Tzo.GetAABB(C$Tza);C$Tzc.lowerBound.x<C$Tzt&&(C$Tzt=C$Tzc.lowerBound.x),C$Tzc.lowerBound.y<C$Tze&&(C$Tze=C$Tzc.lowerBound.y),C$Tzc.upperBound.x>C$Tzi&&(C$Tzi=C$Tzc.upperBound.x),C$Tzc.upperBound.y>C$Tzn&&(C$Tzn=C$Tzc.upperBound.y);}C$Tze*=C$Tzu,C$Tzi*=C$Tzu,C$Tzn*=C$Tzu;var C$Tzl=this._rect;return C$Tzl.x=C$Tzt*=C$Tzu,C$Tzl.y=C$Tze,C$Tzl.width=C$Tzi-C$Tzt,C$Tzl.height=C$Tzn-C$Tze,C$Tzl;}});cc.PhysicsCollider=C$Tze.exports=C$Tzt;},{"../CCPhysicsTypes":164,"../utils":187}],172:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzf=C$Tzt(H[1275]).PTM_RATIO,C$Tzp=C$Tzt(H[1281]),C$Tzt=cc.Class({name:H[1282],extends:cc.PhysicsCollider,mixins:[cc.Collider.Polygon],editor:{menu:!1,inspector:!1,requireComponent:cc.RigidBody},_createShape:function(C$Tzt){for(var C$Tze=[],C$Tzi=this.points,C$Tzh=(0<C$Tzi.length&&C$Tzi[0].equals(C$Tzi[C$Tzi.length-1])&&--C$Tzi.length,C$Tzp.ConvexPartition(C$Tzi)),C$Tzu=this.offset,C$Tzn=0;C$Tzn<C$Tzh.length;C$Tzn++){for(var C$Tz_=C$Tzh[C$Tzn],C$Tzr=null,C$Tzs=[],C$Tzo=null,C$Tza=0,C$Tzd=C$Tz_.length;C$Tza<C$Tzd;C$Tza++){var C$Tzr=C$Tzr||new b2.PolygonShape(),C$Tzc=C$Tz_[C$Tza],C$Tzl=(C$Tzc.x+C$Tzu.x)/C$Tzf*C$Tzt.x,C$Tzc=(C$Tzc.y+C$Tzu.y)/C$Tzf*C$Tzt.y,C$Tzl=new b2.Vec2(C$Tzl,C$Tzc);C$Tzs.push(C$Tzl),C$Tzo=C$Tzo||C$Tzl,C$Tzs.length===b2.maxPolygonVertices&&(C$Tzr.Set(C$Tzs,C$Tzs.length),C$Tze.push(C$Tzr),C$Tzr=null,C$Tza<C$Tzd-1&&(C$Tzs=[C$Tzo,C$Tzs[C$Tzs.length-1]]));}C$Tzr&&(C$Tzr.Set(C$Tzs,C$Tzs.length),C$Tze.push(C$Tzr));}return C$Tze;}});cc.PhysicsPolygonCollider=C$Tze.exports=C$Tzt;},{"../CCPhysicsTypes":164,"../CCPolygonSeparator":165}],173:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[1283]),C$Tzt(H[1284]),C$Tzt(H[1285]),C$Tzt(H[1286]),C$Tzt(H[1287]),C$Tzt(H[1288]),C$Tzt(H[1289]),C$Tzt(H[1290]),C$Tzt(H[1291]),C$Tzt(H[1292]),C$Tzt(H[1293]),C$Tzt(H[1294]),C$Tzt(H[1295]),C$Tzt(H[1296]),C$Tzt(H[1297]),C$Tzt(H[1298]),C$Tzt(H[1299]),C$Tzt(H[1300]),C$Tzt(H[1301]),C$Tzt(H[1302]),C$Tzt(H[1303]);},{"./CCPhysicsContact":162,"./CCPhysicsManager":163,"./CCRigidBody":166,"./box2d-adapter":167,"./collider/CCPhysicsBoxCollider":168,"./collider/CCPhysicsChainCollider":169,"./collider/CCPhysicsCircleCollider":170,"./collider/CCPhysicsCollider":171,"./collider/CCPhysicsPolygonCollider":172,"./joint/CCDistanceJoint":174,"./joint/CCJoint":175,"./joint/CCMotorJoint":176,"./joint/CCMouseJoint":177,"./joint/CCPrismaticJoint":178,"./joint/CCRevoluteJoint":179,"./joint/CCRopeJoint":180,"./joint/CCWeldJoint":181,"./joint/CCWheelJoint":182,"./platform/CCPhysicsAABBQueryCallback":183,"./platform/CCPhysicsContactListner":184,"./platform/CCPhysicsRayCastCallback":186}],174:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1275]).PTM_RATIO,C$Tzt=cc.Class({name:H[1304],extends:cc.Joint,editor:!1,properties:{_distance:1,_frequency:0,_dampingRatio:0,distance:{tooltip:!1,get:function(){return this._distance;},set:function(C$Tzt){this._distance=C$Tzt,this._joint&&this._joint.SetLength(C$Tzt);}},frequency:{tooltip:!1,get:function(){return this._frequency;},set:function(C$Tzt){this._frequency=C$Tzt,this._joint&&this._joint.SetFrequency(C$Tzt);}},dampingRatio:{tooltip:!1,get:function(){return this._dampingRatio;},set:function(C$Tzt){this._dampingRatio=C$Tzt,this._joint&&this._joint.SetDampingRatio(C$Tzt);}}},_createJointDef:function(){var C$Tzt=new b2.DistanceJointDef();return C$Tzt.localAnchorA=new b2.Vec2(this.anchor.x/C$Tzn,this.anchor.y/C$Tzn),C$Tzt.localAnchorB=new b2.Vec2(this.connectedAnchor.x/C$Tzn,this.connectedAnchor.y/C$Tzn),C$Tzt.length=this.distance/C$Tzn,C$Tzt.dampingRatio=this.dampingRatio,C$Tzt.frequencyHz=this.frequency,C$Tzt;}});cc.DistanceJoint=C$Tze.exports=C$Tzt;},{"../CCPhysicsTypes":164}],175:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1275]).PTM_RATIO,C$Tzt=cc.Class({name:H[1305],extends:cc.Component,editor:{requireComponent:cc.RigidBody},properties:{anchor:{default:cc.v2(0,0),tooltip:!1},connectedAnchor:{default:cc.v2(0,0),tooltip:!1},connectedBody:{default:null,type:cc.RigidBody,tooltip:!1},collideConnected:{default:!1,tooltip:!1}},onDisable:function(){this._destroy();},onEnable:function(){this._init();},start:function(){this._init();},apply:function(){this._destroy(),this._init();},getWorldAnchor:function(){var C$Tzt;return this._joint?(C$Tzt=this._joint.GetAnchorA(),cc.v2(C$Tzt.x*C$Tzn,C$Tzt.y*C$Tzn)):cc.Vec2.ZERO;},getWorldConnectedAnchor:function(){var C$Tzt;return this._joint?(C$Tzt=this._joint.GetAnchorB(),cc.v2(C$Tzt.x*C$Tzn,C$Tzt.y*C$Tzn)):cc.Vec2.ZERO;},getReactionForce:function(C$Tzt){var C$Tze=cc.v2();return this._joint?this._joint.GetReactionForce(C$Tzt,C$Tze):C$Tze;},getReactionTorque:function(C$Tzt){return this._joint?this._joint.GetReactionTorque(C$Tzt):0;},_init:function(){cc.director.getPhysicsManager().pushDelayEvent(this,H[1270],[]);},_destroy:function(){cc.director.getPhysicsManager().pushDelayEvent(this,H[1271],[]);},__init:function(){var C$Tzt;this._inited||(this.body=this.getComponent(cc.RigidBody),!this._isValid()||(C$Tzt=this._createJointDef())&&(C$Tzt.bodyA=this.body._getBody(),C$Tzt.bodyB=this.connectedBody._getBody(),C$Tzt.collideConnected=this.collideConnected,cc.director.getPhysicsManager()._addJoint(this,C$Tzt),this._inited=!0));},__destroy:function(){this._inited&&(cc.director.getPhysicsManager()._removeJoint(this),this._joint=null,this._inited=!1);},_createJointDef:function(){return null;},_isValid:function(){return this.body&&this.body._getBody()&&this.connectedBody&&this.connectedBody._getBody();}});cc.Joint=C$Tze.exports=C$Tzt;},{"../CCPhysicsTypes":164}],176:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1275]).PTM_RATIO,C$Tzr=C$Tzt(H[1275]).ANGLE_TO_PHYSICS_ANGLE,C$Tzt=cc.Class({name:H[1306],extends:cc.Joint,editor:!1,properties:{_linearOffset:cc.v2(0,0),_angularOffset:0,_maxForce:1,_maxTorque:1,_correctionFactor:.3,anchor:{tooltip:!1,default:cc.v2(0,0),override:!0,visible:!1},connectedAnchor:{tooltip:!1,default:cc.v2(0,0),override:!0,visible:!1},linearOffset:{tooltip:!1,get:function(){return this._linearOffset;},set:function(C$Tzt){this._linearOffset=C$Tzt,this._joint&&this._joint.SetLinearOffset(new b2.Vec2(C$Tzt.x/C$Tzn,C$Tzt.y/C$Tzn));}},angularOffset:{tooltip:!1,get:function(){return this._angularOffset;},set:function(C$Tzt){this._angularOffset=C$Tzt,this._joint&&this._joint.SetAngularOffset(C$Tzt);}},maxForce:{tooltip:!1,get:function(){return this._maxForce;},set:function(C$Tzt){this._maxForce=C$Tzt,this._joint&&this._joint.SetMaxForce(C$Tzt);}},maxTorque:{tooltip:!1,get:function(){return this._maxTorque;},set:function(C$Tzt){this._maxTorque=C$Tzt,this._joint&&this._joint.SetMaxTorque(C$Tzt);}},correctionFactor:{tooltip:!1,get:function(){return this._correctionFactor;},set:function(C$Tzt){this._correctionFactor=C$Tzt,this._joint&&this._joint.SetCorrectionFactor(C$Tzt);}}},_createJointDef:function(){var C$Tzt=new b2.MotorJointDef();return C$Tzt.linearOffset=new b2.Vec2(this.linearOffset.x/C$Tzn,this.linearOffset.y/C$Tzn),C$Tzt.angularOffset=this.angularOffset*C$Tzr,C$Tzt.maxForce=this.maxForce,C$Tzt.maxTorque=this.maxTorque,C$Tzt.correctionFactor=this.correctionFactor,C$Tzt;}});cc.MotorJoint=C$Tze.exports=C$Tzt;},{"../CCPhysicsTypes":164}],177:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1275]).PTM_RATIO,C$Tzr=new b2.Vec2(),C$Tzt=cc.Class({name:H[1307],extends:cc.Joint,editor:!1,properties:{_target:1,_frequency:5,_dampingRatio:.7,_maxForce:0,connectedBody:{default:null,type:cc.RigidBody,visible:!1,override:!0},collideConnected:{default:!0,visible:!1,override:!0},anchor:{tooltip:!1,default:cc.v2(0,0),override:!0,visible:!1},connectedAnchor:{tooltip:!1,default:cc.v2(0,0),override:!0,visible:!1},mouseRegion:{tooltip:!1,default:null,type:cc.Node},target:{tooltip:!1,visible:!1,get:function(){return this._target;},set:function(C$Tzt){this._target=C$Tzt,this._joint&&(C$Tzr.x=C$Tzt.x/C$Tzn,C$Tzr.y=C$Tzt.y/C$Tzn,this._joint.SetTarget(C$Tzr));}},frequency:{tooltip:!1,get:function(){return this._frequency;},set:function(C$Tzt){this._frequency=C$Tzt,this._joint&&this._joint.SetFrequency(C$Tzt);}},dampingRatio:{tooltip:!1,get:function(){return this._dampingRatio;},set:function(C$Tzt){this._dampingRatio=C$Tzt,this._joint&&this._joint.SetDampingRatio(C$Tzt);}},maxForce:{tooltip:!1,visible:!1,get:function(){return this._maxForce;},set:function(C$Tzt){this._maxForce=C$Tzt,this._joint&&this._joint.SetMaxForce(C$Tzt);}}},onLoad:function(){var C$Tzt=this.mouseRegion||this.node;C$Tzt.on(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this),C$Tzt.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),C$Tzt.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),C$Tzt.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this);},onEnable:function(){},start:function(){},onTouchBegan:function(C$Tzt){var C$Tze=cc.director.getPhysicsManager(),C$Tzt=this._pressPoint=C$Tzt.touch.getLocation(),C$Tze=(cc.Camera&&cc.Camera.main&&(C$Tzt=cc.Camera.main.getScreenToWorldPoint(C$Tzt)),C$Tze.testPoint(C$Tzt));C$Tze&&((this.connectedBody=C$Tze.body).awake=!0,this.maxForce=1e3*this.connectedBody.getMass(),this.target=C$Tzt,this._init());},onTouchMove:function(C$Tzt){this._pressPoint=C$Tzt.touch.getLocation();},onTouchEnd:function(C$Tzt){this._destroy(),this._pressPoint=null;},_createJointDef:function(){var C$Tzt=new b2.MouseJointDef();return C$Tzr.x=this.target.x/C$Tzn,C$Tzr.y=this.target.y/C$Tzn,C$Tzt.target=C$Tzr,C$Tzt.maxForce=this.maxForce,C$Tzt.dampingRatio=this.dampingRatio,C$Tzt.frequencyHz=this.frequency,C$Tzt;},update:function(){var C$Tzt;this._pressPoint&&this._isValid()&&(C$Tzt=cc.Camera.findCamera(this.node),this.target=C$Tzt?C$Tzt.getScreenToWorldPoint(this._pressPoint):this._pressPoint);}});cc.MouseJoint=C$Tze.exports=C$Tzt;},{"../CCPhysicsTypes":164}],178:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1275]).PTM_RATIO,C$Tzr=C$Tzt(H[1275]).ANGLE_TO_PHYSICS_ANGLE,C$Tzt=cc.Class({name:H[1308],extends:cc.Joint,editor:!1,properties:{localAxisA:{default:cc.v2(1,0),tooltip:!1},referenceAngle:{default:0,tooltip:!1},enableLimit:{default:!1,tooltip:!1},enableMotor:{default:!1,tooltip:!1},lowerLimit:{default:0,tooltip:!1},upperLimit:{default:0,tooltip:!1},_maxMotorForce:0,_motorSpeed:0,maxMotorForce:{tooltip:!1,get:function(){return this._maxMotorForce;},set:function(C$Tzt){this._maxMotorForce=C$Tzt,this._joint&&this._joint.SetMaxMotorForce(C$Tzt);}},motorSpeed:{tooltip:!1,get:function(){return this._motorSpeed;},set:function(C$Tzt){this._motorSpeed=C$Tzt,this._joint&&this._joint.SetMotorSpeed(C$Tzt);}}},_createJointDef:function(){var C$Tzt=new b2.PrismaticJointDef();return C$Tzt.localAnchorA=new b2.Vec2(this.anchor.x/C$Tzn,this.anchor.y/C$Tzn),C$Tzt.localAnchorB=new b2.Vec2(this.connectedAnchor.x/C$Tzn,this.connectedAnchor.y/C$Tzn),C$Tzt.localAxisA=new b2.Vec2(this.localAxisA.x,this.localAxisA.y),C$Tzt.referenceAngle=this.referenceAngle*C$Tzr,C$Tzt.enableLimit=this.enableLimit,C$Tzt.lowerTranslation=this.lowerLimit/C$Tzn,C$Tzt.upperTranslation=this.upperLimit/C$Tzn,C$Tzt.enableMotor=this.enableMotor,C$Tzt.maxMotorForce=this.maxMotorForce,C$Tzt.motorSpeed=this.motorSpeed,C$Tzt;}});cc.PrismaticJoint=C$Tze.exports=C$Tzt;},{"../CCPhysicsTypes":164}],179:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1275]).PTM_RATIO,C$Tzr=C$Tzt(H[1275]).ANGLE_TO_PHYSICS_ANGLE,C$Tzs=C$Tzt(H[1275]).PHYSICS_ANGLE_TO_ANGLE,C$Tzt=cc.Class({name:H[1309],extends:cc.Joint,editor:!1,properties:{_maxMotorTorque:0,_motorSpeed:0,_enableLimit:!1,_enableMotor:!1,referenceAngle:{default:0,tooltip:!1},lowerAngle:{default:0,tooltip:!1},upperAngle:{default:0,tooltip:!1},maxMotorTorque:{tooltip:!1,get:function(){return this._maxMotorTorque;},set:function(C$Tzt){this._maxMotorTorque=C$Tzt,this._joint&&this._joint.SetMaxMotorTorque(C$Tzt);}},motorSpeed:{tooltip:!1,get:function(){return this._motorSpeed;},set:function(C$Tzt){this._motorSpeed=C$Tzt,this._joint&&this._joint.SetMotorSpeed(C$Tzt*C$Tzr);}},enableLimit:{tooltip:!1,get:function(){return this._enableLimit;},set:function(C$Tzt){this._enableLimit=C$Tzt,this._joint&&this._joint.EnableLimit(C$Tzt);}},enableMotor:{tooltip:!1,get:function(){return this._enableMotor;},set:function(C$Tzt){this._enableMotor=C$Tzt,this._joint&&this._joint.EnableMotor(C$Tzt);}}},getJointAngle:function(){return this._joint?this._joint.GetJointAngle()*C$Tzs:0;},setLimits:function(C$Tzt,C$Tze){if(this._joint)return this._joint.SetLimits(C$Tzt*C$Tzr,C$Tze*C$Tzr);},_createJointDef:function(){var C$Tzt=new b2.RevoluteJointDef();return C$Tzt.localAnchorA=new b2.Vec2(this.anchor.x/C$Tzn,this.anchor.y/C$Tzn),C$Tzt.localAnchorB=new b2.Vec2(this.connectedAnchor.x/C$Tzn,this.connectedAnchor.y/C$Tzn),C$Tzt.lowerAngle=this.upperAngle*C$Tzr,C$Tzt.upperAngle=this.lowerAngle*C$Tzr,C$Tzt.maxMotorTorque=this.maxMotorTorque,C$Tzt.motorSpeed=this.motorSpeed*C$Tzr,C$Tzt.enableLimit=this.enableLimit,C$Tzt.enableMotor=this.enableMotor,C$Tzt.referenceAngle=this.referenceAngle*C$Tzr,C$Tzt;}});cc.RevoluteJoint=C$Tze.exports=C$Tzt;},{"../CCPhysicsTypes":164}],180:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1275]).PTM_RATIO,C$Tzt=cc.Class({name:H[1310],extends:cc.Joint,editor:!1,properties:{_maxLength:1,maxLength:{tooltip:!1,get:function(){return this._maxLength;},set:function(C$Tzt){this._maxLength=C$Tzt,this._joint&&this._joint.SetMaxLength(C$Tzt);}}},_createJointDef:function(){var C$Tzt=new b2.RopeJointDef();return C$Tzt.localAnchorA=new b2.Vec2(this.anchor.x/C$Tzn,this.anchor.y/C$Tzn),C$Tzt.localAnchorB=new b2.Vec2(this.connectedAnchor.x/C$Tzn,this.connectedAnchor.y/C$Tzn),C$Tzt.maxLength=this.maxLength/C$Tzn,C$Tzt;}});cc.RopeJoint=C$Tze.exports=C$Tzt;},{"../CCPhysicsTypes":164}],181:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1275]).PTM_RATIO,C$Tzr=C$Tzt(H[1275]).ANGLE_TO_PHYSICS_ANGLE,C$Tzt=cc.Class({name:H[1311],extends:cc.Joint,editor:!1,properties:{referenceAngle:{default:0,tooltip:!1},_frequency:0,_dampingRatio:0,frequency:{tooltip:!1,get:function(){return this._frequency;},set:function(C$Tzt){this._frequency=C$Tzt,this._joint&&this._joint.SetFrequency(C$Tzt);}},dampingRatio:{tooltip:!1,get:function(){return this._dampingRatio;},set:function(C$Tzt){this._dampingRatio=C$Tzt,this._joint&&this._joint.SetDampingRatio(C$Tzt);}}},_createJointDef:function(){var C$Tzt=new b2.WeldJointDef();return C$Tzt.localAnchorA=new b2.Vec2(this.anchor.x/C$Tzn,this.anchor.y/C$Tzn),C$Tzt.localAnchorB=new b2.Vec2(this.connectedAnchor.x/C$Tzn,this.connectedAnchor.y/C$Tzn),C$Tzt.referenceAngle=this.referenceAngle*C$Tzr,C$Tzt.frequencyHz=this.frequency,C$Tzt.dampingRatio=this.dampingRatio,C$Tzt;}});cc.WeldJoint=C$Tze.exports=C$Tzt;},{"../CCPhysicsTypes":164}],182:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1275]).PTM_RATIO,C$Tzr=C$Tzt(H[1275]).ANGLE_TO_PHYSICS_ANGLE,C$Tzt=cc.Class({name:H[1312],extends:cc.Joint,editor:!1,properties:{_maxMotorTorque:0,_motorSpeed:0,_enableMotor:!1,_frequency:2,_dampingRatio:.7,localAxisA:{default:cc.v2(1,0),tooltip:!1},maxMotorTorque:{tooltip:!1,get:function(){return this._maxMotorTorque;},set:function(C$Tzt){this._maxMotorTorque=C$Tzt,this._joint&&this._joint.SetMaxMotorTorque(C$Tzt);}},motorSpeed:{tooltip:!1,get:function(){return this._motorSpeed;},set:function(C$Tzt){this._motorSpeed=C$Tzt,this._joint&&this._joint.SetMotorSpeed(C$Tzt*C$Tzr);}},enableMotor:{tooltip:!1,get:function(){return this._enableMotor;},set:function(C$Tzt){this._enableMotor=C$Tzt,this._joint&&this._joint.EnableMotor(C$Tzt);}},frequency:{tooltip:!1,get:function(){return this._frequency;},set:function(C$Tzt){this._frequency=C$Tzt,this._joint&&this._joint.SetSpringFrequencyHz(C$Tzt);}},dampingRatio:{tooltip:!1,get:function(){return this._dampingRatio;},set:function(C$Tzt){this._dampingRatio=C$Tzt,this._joint&&this._joint.SetDampingRatio(C$Tzt);}}},_createJointDef:function(){var C$Tzt=new b2.WheelJointDef();return C$Tzt.localAnchorA=new b2.Vec2(this.anchor.x/C$Tzn,this.anchor.y/C$Tzn),C$Tzt.localAnchorB=new b2.Vec2(this.connectedAnchor.x/C$Tzn,this.connectedAnchor.y/C$Tzn),C$Tzt.localAxisA=new b2.Vec2(this.localAxisA.x,this.localAxisA.y),C$Tzt.maxMotorTorque=this.maxMotorTorque,C$Tzt.motorSpeed=this.motorSpeed*C$Tzr,C$Tzt.enableMotor=this.enableMotor,C$Tzt.dampingRatio=this.dampingRatio,C$Tzt.frequencyHz=this.frequency,C$Tzt;}});cc.WheelJoint=C$Tze.exports=C$Tzt;},{"../CCPhysicsTypes":164}],183:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1275]).BodyType;function C$Tzr(){this._point=new b2.Vec2(),this._isPoint=!1,this._fixtures=[];}C$Tzr.prototype.init=function(C$Tzt){C$Tzt?(this._isPoint=!0,this._point.x=C$Tzt.x,this._point.y=C$Tzt.y):this._isPoint=!1,this._fixtures.length=0;},C$Tzr.prototype.ReportFixture=function(C$Tzt){if(C$Tzt.GetBody().GetType()===C$Tzn.Dynamic)if(this._isPoint){if(C$Tzt.TestPoint(this._point))return this._fixtures.push(C$Tzt),!1;}else this._fixtures.push(C$Tzt);return!0;},C$Tzr.prototype.getFixture=function(){return this._fixtures[0];},C$Tzr.prototype.getFixtures=function(){return this._fixtures;},cc.PhysicsAABBQueryCallback=C$Tze.exports=C$Tzr;},{"../CCPhysicsTypes":164}],184:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(){this._contactFixtures=[];}C$Tzn.prototype.setBeginContact=function(C$Tzt){this._BeginContact=C$Tzt;},C$Tzn.prototype.setEndContact=function(C$Tzt){this._EndContact=C$Tzt;},C$Tzn.prototype.setPreSolve=function(C$Tzt){this._PreSolve=C$Tzt;},C$Tzn.prototype.setPostSolve=function(C$Tzt){this._PostSolve=C$Tzt;},C$Tzn.prototype.BeginContact=function(C$Tzt){var C$Tze,C$Tzi,C$Tzn;this._BeginContact&&(C$Tze=C$Tzt.GetFixtureA(),C$Tzi=C$Tzt.GetFixtureB(),C$Tzn=this._contactFixtures,C$Tzt._shouldReport=!1,-1===C$Tzn.indexOf(C$Tze)&&-1===C$Tzn.indexOf(C$Tzi)||(C$Tzt._shouldReport=!0,this._BeginContact(C$Tzt)));},C$Tzn.prototype.EndContact=function(C$Tzt){this._EndContact&&C$Tzt._shouldReport&&(C$Tzt._shouldReport=!1,this._EndContact(C$Tzt));},C$Tzn.prototype.PreSolve=function(C$Tzt,C$Tze){this._PreSolve&&C$Tzt._shouldReport&&this._PreSolve(C$Tzt,C$Tze);},C$Tzn.prototype.PostSolve=function(C$Tzt,C$Tze){this._PostSolve&&C$Tzt._shouldReport&&this._PostSolve(C$Tzt,C$Tze);},C$Tzn.prototype.registerContactFixture=function(C$Tzt){this._contactFixtures.push(C$Tzt);},C$Tzn.prototype.unregisterContactFixture=function(C$Tzt){cc.js.array.remove(this._contactFixtures,C$Tzt);},cc.PhysicsContactListener=C$Tze.exports=C$Tzn;},{}],185:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzo=C$Tzt(H[1275]).PTM_RATIO,C$Tza=cc.v2(),C$Tzn=cc.Color.GREEN,C$Tzr=cc.Color.RED;function C$Tzs(C$Tzt){b2.Draw.call(this),this._drawer=C$Tzt,this._xf=this._dxf=new b2.Transform();}cc.js.extend(C$Tzs,b2.Draw),cc.js.mixin(C$Tzs.prototype,{_DrawPolygon:function(C$Tzt,C$Tze){for(var C$Tzi=this._drawer,C$Tzn=0;C$Tzn<C$Tze;C$Tzn++){b2.Transform.MulXV(this._xf,C$Tzt[C$Tzn],C$Tza);var C$Tzr=C$Tza.x*C$Tzo,C$Tzs=C$Tza.y*C$Tzo;0===C$Tzn?C$Tzi.moveTo(C$Tzr,C$Tzs):C$Tzi.lineTo(C$Tzr,C$Tzs);}C$Tzi.close();},DrawPolygon:function(C$Tzt,C$Tze,C$Tzi){this._applyStrokeColor(C$Tzi),this._DrawPolygon(C$Tzt,C$Tze),this._drawer.stroke();},DrawSolidPolygon:function(C$Tzt,C$Tze,C$Tzi){this._applyFillColor(C$Tzi),this._DrawPolygon(C$Tzt,C$Tze),this._drawer.fill(),this._drawer.stroke();},_DrawCircle:function(C$Tzt,C$Tze){var C$Tzi=this._xf.p;this._drawer.circle((C$Tzt.x+C$Tzi.x)*C$Tzo,(C$Tzt.y+C$Tzi.y)*C$Tzo,C$Tze*C$Tzo);},DrawCircle:function(C$Tzt,C$Tze,C$Tzi){this._applyStrokeColor(C$Tzi),this._DrawCircle(C$Tzt,C$Tze),this._drawer.stroke();},DrawSolidCircle:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._applyFillColor(C$Tzn),this._DrawCircle(C$Tzt,C$Tze),this._drawer.fill();},DrawSegment:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this._drawer;if(C$Tzt.x===C$Tze.x&&C$Tzt.y===C$Tze.y)return this._applyFillColor(C$Tzi),this._DrawCircle(C$Tzt,2/C$Tzo),void C$Tzn.fill();this._applyStrokeColor(C$Tzi),b2.Transform.MulXV(this._xf,C$Tzt,C$Tza),C$Tzn.moveTo(C$Tza.x*C$Tzo,C$Tza.y*C$Tzo),b2.Transform.MulXV(this._xf,C$Tze,C$Tza),C$Tzn.lineTo(C$Tza.x*C$Tzo,C$Tza.y*C$Tzo),C$Tzn.stroke();},DrawTransform:function(C$Tzt){var C$Tze=this._drawer;C$Tze.strokeColor=C$Tzr,C$Tza.x=C$Tza.y=0,b2.Transform.MulXV(C$Tzt,C$Tza,C$Tza),C$Tze.moveTo(C$Tza.x*C$Tzo,C$Tza.y*C$Tzo),C$Tza.x=1,C$Tza.y=0,b2.Transform.MulXV(C$Tzt,C$Tza,C$Tza),C$Tze.lineTo(C$Tza.x*C$Tzo,C$Tza.y*C$Tzo),C$Tze.stroke(),C$Tze.strokeColor=C$Tzn,C$Tza.x=C$Tza.y=0,b2.Transform.MulXV(C$Tzt,C$Tza,C$Tza),C$Tze.moveTo(C$Tza.x*C$Tzo,C$Tza.y*C$Tzo),C$Tza.x=0,C$Tza.y=1,b2.Transform.MulXV(C$Tzt,C$Tza,C$Tza),C$Tze.lineTo(C$Tza.x*C$Tzo,C$Tza.y*C$Tzo),C$Tze.stroke();},DrawPoint:function(C$Tzt,C$Tze,C$Tzi){},_applyStrokeColor:function(C$Tzt){var C$Tze=this._drawer.strokeColor;C$Tze.r=255*C$Tzt.r,C$Tze.g=255*C$Tzt.g,C$Tze.b=255*C$Tzt.b,C$Tze.a=150,this._drawer.strokeColor=C$Tze;},_applyFillColor:function(C$Tzt){var C$Tze=this._drawer.fillColor;C$Tze.r=255*C$Tzt.r,C$Tze.g=255*C$Tzt.g,C$Tze.b=255*C$Tzt.b,C$Tze.a=150,this._drawer.fillColor=C$Tze;},PushTransform:function(C$Tzt){this._xf=C$Tzt;},PopTransform:function(){this._xf=this._dxf;}}),C$Tze.exports=C$Tzs;},{"../CCPhysicsTypes":164}],186:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(){this._type=0,this._fixtures=[],this._points=[],this._normals=[],this._fractions=[];}C$Tzn.prototype.init=function(C$Tzt){this._type=C$Tzt,this._fixtures.length=0,this._points.length=0,this._normals.length=0,this._fractions.length=0;},C$Tzn.prototype.ReportFixture=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return 0===this._type?(this._fixtures[0]=C$Tzt,this._points[0]=C$Tze,this._normals[0]=C$Tzi,this._fractions[0]=C$Tzn):(this._fixtures.push(C$Tzt),this._points.push(cc.v2(C$Tze)),this._normals.push(cc.v2(C$Tzi)),this._fractions.push(C$Tzn),1===this._type?0:2<=this._type?1:C$Tzn);},C$Tzn.prototype.getFixtures=function(){return this._fixtures;},C$Tzn.prototype.getPoints=function(){return this._points;},C$Tzn.prototype.getNormals=function(){return this._normals;},C$Tzn.prototype.getFractions=function(){return this._fractions;},cc.PhysicsRayCastCallback=C$Tze.exports=C$Tzn;},{}],187:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tze.exports={getWorldRotation:function(C$Tzt){for(var C$Tze=C$Tzt.angle,C$Tzi=C$Tzt.parent;C$Tzi.parent;)C$Tze+=C$Tzi.angle,C$Tzi=C$Tzi.parent;return-C$Tze;},getWorldScale:function(C$Tzt){for(var C$Tze=C$Tzt.scaleX,C$Tzi=C$Tzt.scaleY,C$Tzn=C$Tzt.parent;C$Tzn.parent;)C$Tze*=C$Tzn.scaleX,C$Tzi*=C$Tzn.scaleY,C$Tzn=C$Tzn.parent;return cc.v2(C$Tze,C$Tzi);},convertToNodeRotation:function(C$Tzt,C$Tze){C$Tze-=-C$Tzt.angle;for(var C$Tzi=C$Tzt.parent;C$Tzi.parent;)C$Tze-=-C$Tzi.angle,C$Tzi=C$Tzi.parent;return C$Tze;}};},{}],188:[function(C$Tzt,C$Tzi,C$Tzr){"use strict";C$Tzt(H[737]);var C$Tzs=C$Tzt(H[800]).callInNextTick,C$Tzy=C$Tzt(H[1313]),C$TzC=C$Tzt(H[1314]),C$TzS=C$Tzt(H[1315]),C$Tza=C$Tzt(H[1316]),C$Tzg=C$Tzt(H[1317]),C$TzT=C$Tzt(H[1318]),C$Tzw=C$Tzt(H[1319]),C$Tzv=C$Tzt(H[1320]),C$Tzx="",C$Tzb="",C$TzA=C$Tzv.createMap(!0);function C$Tzc(C$Tzt){return C$Tzt&&(C$Tzt.constructor===cc.SceneAsset||C$Tzt instanceof cc.Scene);}function C$TzE(C$Tzt,C$Tze){this.url=C$Tzt,this.type=C$Tze;}var C$Tze={loadAsset:function(C$Tzn,C$Tzr,C$Tzt){if(H[462]!=typeof C$Tzn)return C$Tzs(C$Tzr,new Error(H[1321]),null);var C$Tze={uuid:C$Tzn,type:H[607]};C$Tzt&&C$Tzt.existingAsset&&(C$Tze.existingAsset=C$Tzt.existingAsset),C$Tzy.load(C$Tze,function(C$Tzt,C$Tze){var C$Tzi;C$Tzt||!C$Tze?(C$Tzi=H[462]==typeof C$Tzt?C$Tzt:C$Tzt?C$Tzt.message||C$Tzt.errorMessage||JSON.stringify(C$Tzt):H[1322],C$Tzt=new Error(H[1323]+C$Tzi)):(C$Tze.constructor===cc.SceneAsset&&(C$Tzi=cc.loader._getReferenceKey(C$Tzn),C$Tze.scene.dependAssets=C$Tza.getDependsRecursively(C$Tzi)),C$Tzc(C$Tze)&&(C$Tzi=cc.loader._getReferenceKey(C$Tzn),C$Tzy.removeItem(C$Tzi))),C$Tzr&&C$Tzr(C$Tzt,C$Tze);});},getLibUrlNoExt:function(C$Tzt,C$Tze){return C$Tzt=C$Tzg(C$Tzt),(C$Tze?C$Tzb+H[1324]:C$Tzx)+C$Tzt.slice(0,2)+"/"+C$Tzt;},_queryAssetInfoInEditor:function(C$Tzt,C$Tze){},_getAssetInfoInRuntime:function(C$Tzt,C$Tze){C$Tze=C$Tze||{url:null,raw:!1};var C$Tzi=C$TzA[C$Tzt];return C$Tzi&&!C$Tzv.isChildClassOf(C$Tzi.type,cc.Asset)?(C$Tze.url=C$Tzb+C$Tzi.url,C$Tze.raw=!0):(C$Tze.url=this.getLibUrlNoExt(C$Tzt)+H[1191],C$Tze.raw=!1),C$Tze;},_uuidInSettings:function(C$Tzt){return C$Tzt in C$TzA;},queryAssetInfo:function(C$Tzt,C$Tze){C$Tzt=this._getAssetInfoInRuntime(C$Tzt);C$Tze(null,C$Tzt.url,C$Tzt.raw);},parseUuidInEditor:function(C$Tzt){},loadJson:function(C$Tzt,C$Tzn){var C$Tzr=""+(new Date().getTime()+Math.random()),C$Tzt={uuid:C$Tzr,type:H[607],content:C$Tzt,skips:[C$Tzy.assetLoader.id,C$Tzy.downloader.id]};C$Tzy.load(C$Tzt,function(C$Tzt,C$Tze){var C$Tzi;C$Tzt?C$Tzt=new Error(H[1325]+C$Tzt.message):(C$Tze.constructor===cc.SceneAsset&&(C$Tzi=cc.loader._getReferenceKey(C$Tzr),C$Tze.scene.dependAssets=C$Tza.getDependsRecursively(C$Tzi)),C$Tzc(C$Tze)&&(C$Tzi=cc.loader._getReferenceKey(C$Tzr),C$Tzy.removeItem(C$Tzi))),C$Tze._uuid="",C$Tzn&&C$Tzn(C$Tzt,C$Tze);});},getAssetByUuid:function(C$Tzt){return C$Tze._uuidToAsset[C$Tzt]||null;},init:function(C$Tzt){var C$Tze=(C$Tze=C$Tzt.libraryPath).replace(/\\/g,"/"),C$Tze=(C$Tzx=cc.path.stripSep(C$Tze)+"/",C$Tzb=C$Tzt.rawAssetsBase,C$Tzt.subpackages&&(C$Tze=new C$Tzw(C$Tzt.subpackages),cc.loader.insertPipeAfter(cc.loader.assetLoader,C$Tze),cc.loader.subPackPipe=C$Tze),C$Tzt.md5AssetsMap);if(C$Tze&&C$Tze.import){for(var C$Tzi=0,C$Tzn=0,C$Tzh=C$Tzv.createMap(!0),C$Tzr=C$Tze.import,C$Tzi=0;C$Tzi<C$Tzr.length;C$Tzi+=2)C$Tzh[C$Tzn=C$Tzg(C$Tzr[C$Tzi])]=C$Tzr[C$Tzi+1];var C$Tzu=C$Tzv.createMap(!0),C$Tzr=C$Tze[H[1326]];for(C$Tzi=0;C$Tzi<C$Tzr.length;C$Tzi+=2)C$Tzu[C$Tzn=C$Tzg(C$Tzr[C$Tzi])]=C$Tzr[C$Tzi+1];C$Tze=new C$TzT(C$Tzh,C$Tzu,C$Tzx);cc.loader.insertPipeAfter(cc.loader.assetLoader,C$Tze),cc.loader.md5Pipe=C$Tze;}var C$Tz_,C$Tzs=C$Tzy._assetTables;for(C$Tz_ in C$Tzs)C$Tzs[C$Tz_].reset();var C$Tzo=C$Tzt.rawAssets;if(C$Tzo)for(var C$Tza in C$Tzo){var C$Tzd=C$Tzo[C$Tza];for(C$Tzn in C$Tzd){var C$Tzc,C$Tzf=C$Tzd[C$Tzn],C$Tzl=C$Tzf[0],C$Tzp=C$Tzf[1],C$Tzm=cc.js._getClassById(C$Tzp);C$Tzm?(C$TzA[C$Tzn]=new C$TzE(C$Tza+"/"+C$Tzl,C$Tzm),C$Tzc=((C$Tzc=cc.path.extname(C$Tzl))&&(C$Tzl=C$Tzl.slice(0,-C$Tzc.length)),1===C$Tzf[2]),C$Tzs[C$Tza]||(C$Tzs[C$Tza]=new C$TzC()),C$Tzs[C$Tza].add(C$Tzl,C$Tzn,C$Tzm,!C$Tzc)):cc.error(H[1327],C$Tzp);}}C$Tzt.packedAssets&&C$TzS.initPacks(C$Tzt.packedAssets),cc.url._init(C$Tzt.mountPaths&&C$Tzt.mountPaths.assets||C$Tzb+H[1130]);},_uuidToAsset:{}},C$Tzn={effect:{},material:{}},C$Tzo={};function C$Tzl(C$Tzt,C$Tze,C$Tzr){var C$Tzi=C$Tzt+"s",C$Tzs=C$Tzn[C$Tzt]={};cc.loader.loadResDir(C$Tzi,C$Tze,H[1328],function(){},function(C$Tzt,C$Tze){if(C$Tzt)cc.error(C$Tzt);else for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];cc.loader.getDependsRecursively(C$Tzn).forEach(function(C$Tzt){return C$Tzo[C$Tzt]=!0;}),C$Tzs[""+C$Tzn.name]=C$Tzn;}C$Tzr();});}C$Tze._loadBuiltins=function(C$Tzt){if(cc.game.renderType===cc.game.RENDER_TYPE_CANVAS)return C$Tzt&&C$Tzt();C$Tzl(H[788],cc.EffectAsset,function(){C$Tzl(H[786],cc.Material,C$Tzt);});},C$Tze.getBuiltin=function(C$Tzt,C$Tze){return C$Tzn[C$Tzt][C$Tze];},C$Tze.getBuiltins=function(C$Tzt){return C$Tzt?C$Tzn[C$Tzt]:C$Tzn;},C$Tze.resetBuiltins=function(){C$Tzn={effect:{},material:{}},C$Tzo={};},C$Tze.getBuiltinDeps=function(){return C$Tzo;},C$Tzi.exports=cc.AssetLibrary=C$Tze;},{"../assets/CCAsset":34,"../load-pipeline/CCLoader":136,"../load-pipeline/asset-table":138,"../load-pipeline/auto-release-utils":140,"../load-pipeline/md5-pipe":147,"../load-pipeline/pack-downloader":148,"../load-pipeline/subpackage-pipe":151,"../utils/decode-uuid":258,"./js":209,"./utils":213}],189:[function(C$Tzt,C$Tzi,C$Tzn){"use strict";var C$Tzg=C$Tzt(H[1320]),C$Tzl=C$Tzt(H[1329]),C$Tze=C$Tzt(H[800]),C$Tzv=(C$Tze.isPlainEmptyObj_DEV,C$Tze.cloneable_DEV,C$Tzt(H[1330])),C$Tzx=C$Tzv.DELIMETER,C$Tzb=C$Tzt(H[1331]),C$Tzh=(C$Tzt(H[1332]),[H[488],H[1333],H[1334],H[1335],H[1336],H[1337],H[1338],H[1339],H[1340]]);function C$Tzf(C$Tzt,C$Tze){C$Tzt.indexOf(C$Tze)<0&&C$Tzt.push(C$Tze);}var C$Tzu={datas:null,push:function(C$Tzt){var C$Tze;this.datas?this.datas.push(C$Tzt):(this.datas=[C$Tzt],C$Tze=this,setTimeout(function(){C$Tze.init();},0));},init:function(){var C$Tzt=this.datas;if(C$Tzt){for(var C$Tze=0;C$Tze<C$Tzt.length;++C$Tze){var C$Tzi=C$Tzt[C$Tze],C$Tzn=C$Tzi.cls,C$Tzr=C$Tzi.props,C$Tzs=(H[704]==typeof C$Tzr&&(C$Tzr=C$Tzr()),C$Tzg.getClassName(C$Tzn));C$Tzr?C$TzC(C$Tzn,C$Tzs,C$Tzr,C$Tzn.$super,C$Tzi.mixins):cc.errorID(3633,C$Tzs);}this.datas=null;}}};function C$TzA(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tzn.default;C$Tzv.setClassAttr(C$Tzt,C$Tzi,H[1099],C$Tzr),C$Tzf(C$Tzt.__props__,C$Tzi),C$TzT(C$Tzt,C$Tzn,0,C$Tzi);}function C$Tzr(C$Tzt){return H[704]==typeof C$Tzt?C$Tzt():C$Tzt;}function C$Tz_(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn in C$Tze)C$Tzt.hasOwnProperty(C$Tzn)||C$Tzi&&!C$Tzi(C$Tzn)||Object.defineProperty(C$Tzt,C$Tzn,C$Tzg.getPropertyDescriptor(C$Tze,C$Tzn));}function C$Tzp(C$Tzh,C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr,C$Tzs=C$Tzi.__ctor__,C$Tzu=C$Tzi.ctor,C$Tzo=C$Tzi.__ES6__,C$Tza=(C$Tzo?(C$Tzn=[C$Tzu],C$Tzr=C$Tzu):(C$Tzn=C$Tzs?[C$Tzs]:function(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn=[],C$Tzr=[C$Tzt].concat(C$Tze),C$Tzs=0;C$Tzs<C$Tzr.length;C$Tzs++){var C$Tzo=C$Tzr[C$Tzs];if(C$Tzo)for(var C$Tza=function(C$Tzt){return C$Tzd._isCCClass(C$Tzt)?C$Tzt.__ctors__||[]:[C$Tzt];}(C$Tzo),C$Tzc=0;C$Tzc<C$Tza.length;C$Tzc++)C$Tzf(C$Tzn,C$Tza[C$Tzc]);}C$Tzt=C$Tzi.ctor;return C$Tzt&&C$Tzn.push(C$Tzt),C$Tzn;}(C$Tzt,C$Tze,C$Tzi),C$Tzr=C$Tzy(C$Tzn,C$Tzt,0,C$Tzi),C$Tzg.value(C$Tzr,H[1341],function(C$Tzt){return C$Tzt.extends=this,C$Tzd(C$Tzt);},!0)),C$Tzg.value(C$Tzr,H[1342],0<C$Tzn.length?C$Tzn:null,!0),C$Tzr.prototype);if(C$Tzt&&(C$Tzo||(C$Tzg.extend(C$Tzr,C$Tzt),C$Tza=C$Tzr.prototype),C$Tzr.$super=C$Tzt),C$Tze){for(var C$Tzc=C$Tze.length-1;0<=C$Tzc;C$Tzc--){var C$Tzl=C$Tze[C$Tzc];C$Tz_(C$Tza,C$Tzl.prototype),C$Tz_(C$Tzr,C$Tzl,function(C$Tzt){return C$Tzl.hasOwnProperty(C$Tzt)&&!0;}),C$Tzd._isCCClass(C$Tzl)&&C$Tz_(C$Tzv.getClassAttrs(C$Tzr),C$Tzv.getClassAttrs(C$Tzl));}C$Tza.constructor=C$Tzr;}return C$Tzo||(C$Tza.__initProps__=C$Tzm),C$Tzg.setClassName(C$Tzh,C$Tzr),C$Tzr;}function C$Tzs(C$Tzt){return JSON.stringify(C$Tzt).replace(/\u2028/g,H[1343]).replace(/\u2029/g,H[1344]);}C$Tze=/^[A-Za-z_$][0-9A-Za-z_$]*$/;function C$Tzm(C$Tzt){var C$Tze=C$Tzv.getClassAttrs(C$Tzt),C$Tzi=C$Tzt.__props__,C$Tze=(null===C$Tzi&&(C$Tzu.init(),C$Tzi=C$Tzt.__props__),function(C$Tzt,C$Tze){for(var C$Tzr=[],C$Tzs=[],C$Tzo=[],C$Tza=[],C$Tzi=0;C$Tzi<C$Tze.length;++C$Tzi){var C$Tzn=C$Tze[C$Tzi],C$Tzc=C$Tzn+C$Tzx+H[1099];C$Tzc in C$Tzt&&(H[802]==typeof(C$Tzc=C$Tzt[C$Tzc])&&C$Tzc||H[704]==typeof C$Tzc?(C$Tzr.push(C$Tzn),C$Tzs.push(C$Tzc)):(C$Tzo.push(C$Tzn),C$Tza.push(C$Tzc)));}return function(){for(var C$Tzt=0;C$Tzt<C$Tzo.length;++C$Tzt)this[C$Tzo[C$Tzt]]=C$Tza[C$Tzt];for(var C$Tze=0;C$Tze<C$Tzr.length;C$Tze++){var C$Tzi=C$Tzr[C$Tze],C$Tzn=C$Tzs[C$Tze],C$Tzn=H[802]==typeof C$Tzn?C$Tzn instanceof cc.ValueType?C$Tzn.clone():Array.isArray(C$Tzn)?[]:{}:C$Tzn();this[C$Tzi]=C$Tzn;}};}(C$Tze,C$Tzi));(C$Tzt.prototype.__initProps__=C$Tze).call(this);}function C$Tzy(C$Tze,C$Tzt,C$Tzi,C$Tzn){var C$Tzr=C$Tzt&&function(C$Tzt,C$Tze){var C$Tzi,C$Tzn=!1;for(C$Tzi in C$Tze)if(!(0<=C$Tzh.indexOf(C$Tzi))){var C$Tzr=C$Tze[C$Tzi];if(H[704]==typeof C$Tzr){var C$Tzs=C$Tzg.getPropertyDescriptor(C$Tzt.prototype,C$Tzi);if(C$Tzs){C$Tzs=C$Tzs.value;if(H[704]==typeof C$Tzs){C$Tzo.test(C$Tzr)&&(C$Tzn=!0,C$Tze[C$Tzi]=function(C$Tzi,C$Tzn){return function(){var C$Tzt=this._super,C$Tze=(this._super=C$Tzi,C$Tzn.apply(this,arguments));return this._super=C$Tzt,C$Tze;};}(C$Tzs,C$Tzr));continue;}}}}return C$Tzn;}(C$Tzt,C$Tzn),C$Tzs=0<(C$Tzt=C$Tze.length)?C$Tzr?2===C$Tzt?function(){this._super=null,this.__initProps__(C$Tzs),C$Tze[0].apply(this,arguments),C$Tze[1].apply(this,arguments);}:function(){this._super=null,this.__initProps__(C$Tzs);for(var C$Tzt=0;C$Tzt<C$Tze.length;++C$Tzt)C$Tze[C$Tzt].apply(this,arguments);}:3===C$Tzt?function(){this.__initProps__(C$Tzs),C$Tze[0].apply(this,arguments),C$Tze[1].apply(this,arguments),C$Tze[2].apply(this,arguments);}:function(){this.__initProps__(C$Tzs);for(var C$Tzt=C$Tzs.__ctors__,C$Tze=0;C$Tze<C$Tzt.length;++C$Tze)C$Tzt[C$Tze].apply(this,arguments);}:function(){C$Tzr&&(this._super=null),this.__initProps__(C$Tzs);};return C$Tzs;}var C$Tzo=/xyz/.test(function(){xyz;})?/\b\._super\b/:/.*/;/xyz/.test(function(){xyz;});function C$TzC(C$Tze,C$Tzh,C$Tzt,C$Tzi,C$Tzu,C$Tz_){if(C$Tze.__props__=[],C$Tzi&&C$Tzi.__props__&&(C$Tze.__props__=C$Tzi.__props__.slice()),C$Tzu)for(var C$Tzd=0;C$Tzd<C$Tzu.length;++C$Tzd){var C$Tzf=C$Tzu[C$Tzd];C$Tzf.__props__&&(C$Tze.__props__=C$Tze.__props__.concat(C$Tzf.__props__.filter(function(C$Tzt){return C$Tze.__props__.indexOf(C$Tzt)<0;})));}if(C$Tzt)for(var C$Tzn in C$Tzb.preprocessAttrs(C$Tzt,C$Tzh,C$Tze,C$Tz_),C$Tzt){var C$Tzr=C$Tzt[C$Tzn];H[1099]in C$Tzr?C$TzA(C$Tze,0,C$Tzn,C$Tzr):(C$Tzs=C$Tze,C$Tzp=C$Tzh,C$Tzn=C$Tzn,C$Tzm=C$Tz_,C$Tzl=C$Tzc=C$Tza=C$Tzo=void 0,C$Tzo=(C$Tzr=C$Tzr).get,C$Tza=C$Tzr.set,C$Tzc=C$Tzs.prototype,C$Tzl=!Object.getOwnPropertyDescriptor(C$Tzc,C$Tzn),C$Tzo&&(C$TzT(C$Tzs,C$Tzr,0,C$Tzn),C$Tzv.setClassAttr(C$Tzs,C$Tzn,H[1345],!1),C$Tzm||C$Tzg.get(C$Tzc,C$Tzn,C$Tzo,C$Tzl,C$Tzl)),C$Tza&&(C$Tzm||C$Tzg.set(C$Tzc,C$Tzn,C$Tza,C$Tzl,C$Tzl)));}var C$Tzs,C$Tzp,C$Tzm,C$Tzo,C$Tza,C$Tzc,C$Tzl,C$Tzy=C$Tzv.getClassAttrs(C$Tze);C$Tze.__values__=C$Tze.__props__.filter(function(C$Tzt){return!1!==C$Tzy[C$Tzt+C$Tzx+H[1345]];});}function C$Tzd(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr=(C$Tzt=C$Tzt||{}).name,C$Tzs=C$Tzt.extends,C$Tzo=C$Tzt.mixins,C$Tza=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=cc.Component,C$Tzs=cc._RF.peek();if(C$Tzs&&C$Tzg.isChildClassOf(C$Tze,C$Tzr)){if(C$Tzg.isChildClassOf(C$Tzs.cls,C$Tzr))return cc.errorID(3615),null;C$Tzt=C$Tzt||C$Tzs.script;}return C$Tzt=C$Tzp(C$Tzt,C$Tze,C$Tzi,C$Tzn),C$Tzs&&(C$Tzg.isChildClassOf(C$Tze,C$Tzr)?((C$Tzi=C$Tzs.uuid)&&C$Tzg._setClassId(C$Tzi,C$Tzt),C$Tzs.cls=C$Tzt):C$Tzg.isChildClassOf(C$Tzs.cls,C$Tzr)||(C$Tzs.cls=C$Tzt)),C$Tzt;}(C$Tzr,C$Tzs,C$Tzo,C$Tzt),C$Tzr=C$Tzr||cc.js.getClassName(C$Tza),C$Tzc=(C$Tza._sealed=!0,C$Tzs&&(C$Tzs._sealed=!1),C$Tzt.properties),C$Tzl=(H[704]==typeof C$Tzc||C$Tzs&&null===C$Tzs.__props__||C$Tzo&&C$Tzo.some(function(C$Tzt){return null===C$Tzt.__props__;})?(C$Tzu.push({cls:C$Tza,props:C$Tzc,mixins:C$Tzo}),C$Tza.__props__=C$Tza.__values__=null):C$TzC(C$Tza,C$Tzr,C$Tzc,C$Tzs,C$Tzt.mixins,C$Tzt.__ES6__),C$Tzt.statics);if(C$Tzl)for(C$Tze in C$Tzl)C$Tza[C$Tze]=C$Tzl[C$Tze];for(C$Tzi in C$Tzt)0<=C$Tzh.indexOf(C$Tzi)||(C$Tzn=C$Tzt[C$Tzi],C$Tzb.validateMethodWithProps(C$Tzn,C$Tzi,C$Tzr,C$Tza,C$Tzs)&&C$Tzg.value(C$Tza.prototype,C$Tzi,C$Tzn,!0,!0));C$Tzo=C$Tzt.editor;return C$Tzo&&C$Tzg.isChildClassOf(C$Tzs,cc.Component)&&cc.Component._registerEditorProps(C$Tza,C$Tzo),C$Tza;}C$Tzd._isCCClass=function(C$Tzt){return C$Tzt&&C$Tzt.hasOwnProperty(H[1342]);},C$Tzd._fastDefine=function(C$Tzt,C$Tze,C$Tzi){C$Tzg.setClassName(C$Tzt,C$Tze);for(var C$Tzn=C$Tze.__props__=C$Tze.__values__=Object.keys(C$Tzi),C$Tzr=C$Tzv.getClassAttrs(C$Tze),C$Tzs=0;C$Tzs<C$Tzn.length;C$Tzs++){var C$Tzo=C$Tzn[C$Tzs];C$Tzr[C$Tzo+C$Tzx+H[1346]]=!1,C$Tzr[C$Tzo+C$Tzx+H[1099]]=C$Tzi[C$Tzo];}},C$Tzd.Attr=C$Tzv,C$Tzd.attr=C$Tzv.attr,C$Tzd.getInheritanceChain=function(C$Tzt){for(var C$Tze=[];C$Tzt=C$Tzg.getSuper(C$Tzt);)C$Tzt!==Object&&C$Tze.push(C$Tzt);return C$Tze;};var C$TzS={Integer:H[1347],Float:H[1347],Boolean:H[1348],String:H[1349]};function C$TzT(C$Tzt,C$Tzn,C$Tze,C$Tzi){var C$Tzr=null,C$Tzs="";function C$Tzo(){return C$Tzs=C$Tzi+C$Tzx,C$Tzr=C$Tzv.getClassAttrs(C$Tzt);}var C$Tza=C$Tzn.type;function C$Tzc(C$Tzt,C$Tze){var C$Tzi;C$Tzt in C$Tzn&&typeof(C$Tzi=C$Tzn[C$Tzt])===C$Tze&&((C$Tzr||C$Tzo())[C$Tzs+C$Tzt]=C$Tzi);}C$Tza&&(C$TzS[C$Tza]?(C$Tzr||C$Tzo())[C$Tzs+H[1102]]=C$Tza:H[1350]===C$Tza||(C$Tza===C$Tzv.ScriptUuid?((C$Tzr||C$Tzo())[C$Tzs+H[1102]]=H[1351],C$Tzr[C$Tzs+H[1335]]=cc.ScriptAsset):H[802]==typeof C$Tza?C$Tzl.isEnum(C$Tza)&&((C$Tzr||C$Tzo())[C$Tzs+H[1102]]=H[1352],C$Tzr[C$Tzs+H[1353]]=C$Tzl.getList(C$Tza)):H[704]==typeof C$Tza&&((C$Tzr||C$Tzo())[C$Tzs+H[1102]]=H[1350],C$Tzr[C$Tzs+H[1335]]=C$Tza))),C$Tzn.editorOnly&&((C$Tzr||C$Tzo())[C$Tzs+H[1354]]=!0),C$Tzn.url&&((C$Tzr||C$Tzo())[C$Tzs+H[1355]]=!0),!1===C$Tzn.serializable&&((C$Tzr||C$Tzo())[C$Tzs+H[1345]]=!1),C$Tzc(H[1356],H[462]);C$Tza=C$Tzn.range;C$Tza&&Array.isArray(C$Tza)&&2<=C$Tza.length&&((C$Tzr||C$Tzo())[C$Tzs+H[1357]]=C$Tza[0],C$Tzr[C$Tzs+H[1358]]=C$Tza[1],2<C$Tza.length&&(C$Tzr[C$Tzs+H[961]]=C$Tza[2])),C$Tzc(H[1357],H[463]),C$Tzc(H[1358],H[463]),C$Tzc(H[961],H[463]);}cc.Class=C$Tzd,C$Tzi.exports={isArray:function(C$Tzt){return C$Tzt=C$Tzr(C$Tzt),Array.isArray(C$Tzt);},fastDefine:C$Tzd._fastDefine,getNewValueTypeCode:!1,IDENTIFIER_RE:C$Tze,escapeForJS:C$Tzs,getDefault:C$Tzr};},{"./CCEnum":191,"./attribute":201,"./js":209,"./preprocess-class":210,"./requiring-frame":211,"./utils":213}],190:[function(C$Tzt,C$Tzh,C$Tzu){"use strict";C$Tzt(H[1359]);var C$Tz_=C$Tzt(H[1331]),C$Tzl=C$Tzt(H[1320]),C$Tzn=H[1360];function C$Tzd(C$Tzt){return C$Tzt;}function C$Tzo(C$Tzt,C$Tze){return C$Tzt[C$Tze]||(C$Tzt[C$Tze]={});}function C$Tze(C$Tzi){return function(C$Tze){return H[704]==typeof C$Tze?C$Tzi(C$Tze):function(C$Tzt){return C$Tzi(C$Tzt,C$Tze);};};}function C$Tzi(C$Tzt,C$Tzi,C$Tze){return function(C$Tze){return function(C$Tzt){return C$Tzi(C$Tzt,C$Tze);};};}C$Tzt=C$Tzi.bind(null,!1);function C$Tzr(){return C$Tzi.bind(null,!1);}var C$Tzs=C$Tzr(),C$Tzf=C$Tzr();function C$Tza(C$Tzt){return C$Tzo(C$Tzt,C$Tzn);}function C$Tzp(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){var C$Tzo,C$Tza=C$Tzr&&(C$Tzr.get||C$Tzr.set),C$Tzc=(C$Tzn&&(C$Tzo=C$Tz_.getFullFormOfProperty(C$Tzn,C$Tza)),C$Tze[C$Tzi]),C$Tzc=C$Tzl.mixin(C$Tzc||{},C$Tzo||C$Tzn||{});C$Tza?(C$Tzr.get&&(C$Tzc.get=C$Tzr.get),C$Tzr.set&&(C$Tzc.set=C$Tzr.set)):(C$Tzo=void 0,C$Tzr?C$Tzr.initializer&&(C$Tzo=function(C$Tze){var C$Tzt;try{C$Tzt=C$Tze();}catch(C$Tzt){return C$Tze;}return H[802]!=typeof C$Tzt||null===C$Tzt?C$Tzt:C$Tze;}(C$Tzr.initializer)):(C$Tzn=C$Tzs.default||(C$Tzs.default=function(C$Tzt){var C$Tze;try{C$Tze=new C$Tzt();}catch(C$Tzt){return{};}return C$Tze;}(C$Tzt))).hasOwnProperty(C$Tzi)&&(C$Tzo=C$Tzn[C$Tzi]),C$Tzc.default=C$Tzo),C$Tze[C$Tzi]=C$Tzc;}var C$Tzm=C$Tze(function(C$Tzt,C$Tze){var C$Tzi=C$Tzl.getSuper(C$Tzt),C$Tze={name:C$Tze,extends:C$Tzi=C$Tzi===Object?null:C$Tzi,ctor:C$Tzt,__ES6__:!0},C$Tzi=C$Tzt[C$Tzn];return C$Tzi&&((C$Tzi=C$Tzi.proto)&&C$Tzl.mixin(C$Tze,C$Tzi),C$Tzt[C$Tzn]=void 0),cc.Class(C$Tze);});function C$Tzy(C$Tzt,C$Tzi,C$Tzn){return C$Tzt(function(C$Tzt,C$Tze){var C$Tzt=C$Tza(C$Tzt);C$Tzt&&(C$Tze=void 0!==C$Tzn?C$Tzn:C$Tze,C$Tzt=C$Tzo(C$Tzt,H[1361]),C$Tzo(C$Tzt,H[1339])[C$Tzi]=C$Tze);},C$Tzi);}function C$Tzc(C$Tzt){return C$Tzt(C$Tzd);}var C$Tzg=C$Tzc(C$Tze),C$Tzt=C$Tzy(C$Tzt,H[1362]),C$Tzv=C$Tzc(C$Tzs),C$Tzf=C$Tzy(C$Tzf,H[1363]),C$Tzx=C$Tzc(C$Tze),C$Tzb=C$Tzc(C$Tze),C$TzA=C$Tzc(C$Tzs),C$TzC=C$Tzc(C$Tzs),C$Tzs=C$Tzc(C$Tzs);cc._decorator=C$Tzh.exports={ccclass:C$Tzm,property:function(C$Tzt,C$Tze,C$Tzi){var C$Tzs=null;function C$Tzn(C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr=C$Tza(C$Tzt.constructor);C$Tzr&&(C$Tzn=C$Tzo(C$Tzr,H[1361]),C$Tzn=C$Tzo(C$Tzn,H[1337]),C$Tzp(C$Tzt.constructor,C$Tzn,C$Tze,C$Tzs,C$Tzi,C$Tzr));}if(void 0===C$Tze)return C$Tzs=C$Tzt,C$Tzn;C$Tzn(C$Tzt,C$Tze,C$Tzi);},executeInEditMode:C$Tzg,requireComponent:C$Tzt,menu:C$Tzv,executionOrder:C$Tzf,disallowMultiple:C$Tzx,playOnFocus:C$Tzb,inspector:C$TzA,icon:C$TzC,help:C$Tzs,mixins:function(){for(var C$Tze=[],C$Tzt=0;C$Tzt<arguments.length;C$Tzt++)C$Tze[C$Tzt]=arguments[C$Tzt];return function(C$Tzt){C$Tzt=C$Tza(C$Tzt);C$Tzt&&(C$Tzo(C$Tzt,H[1361]).mixins=C$Tze);};}};},{"./CCClass":189,"./js":209,"./preprocess-class":210,"./utils":213}],191:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzo=C$Tzt(H[1320]);function C$Tzn(C$Tzt){if(H[1364]in C$Tzt)return C$Tzt;C$Tzo.value(C$Tzt,H[1364],null,!0);for(var C$Tze=-1,C$Tzi=Object.keys(C$Tzt),C$Tzn=0;C$Tzn<C$Tzi.length;C$Tzn++){var C$Tzr=C$Tzi[C$Tzn],C$Tzs=C$Tzt[C$Tzr];if(-1===C$Tzs)C$Tzs=++C$Tze,C$Tzt[C$Tzr]=C$Tzs;else if(H[463]==typeof C$Tzs)C$Tze=C$Tzs;else if(H[462]==typeof C$Tzs&&Number.isInteger(parseFloat(C$Tzr)))continue;C$Tzs=""+C$Tzs;C$Tzr!==C$Tzs&&C$Tzo.value(C$Tzt,C$Tzs,C$Tzr);}return C$Tzt;}C$Tzn.isEnum=function(C$Tzt){return C$Tzt&&C$Tzt.hasOwnProperty(H[1364]);},C$Tzn.getList=function(C$Tzt){if(C$Tzt.__enums__)return C$Tzt.__enums__;var C$Tze,C$Tzi=C$Tzt.__enums__=[];for(C$Tze in C$Tzt){var C$Tzn=C$Tzt[C$Tze];Number.isInteger(C$Tzn)&&C$Tzi.push({name:C$Tze,value:C$Tzn});}return C$Tzi.sort(function(C$Tzt,C$Tze){return C$Tzt.value-C$Tze.value;}),C$Tzi;},C$Tze.exports=cc.Enum=C$Tzn;},{"./js":209}],192:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn,C$Tzr=C$Tzt(H[1078]),C$Tzt=C$Tzt(H[1365]);cc.Acceleration=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this.x=C$Tzt||0,this.y=C$Tze||0,this.z=C$Tzi||0,this.timestamp=C$Tzn||0;},C$Tzt.setAccelerometerEnabled=function(C$Tzt){this._accelEnabled!==C$Tzt&&(this._accelEnabled=C$Tzt,(C$Tzt=cc.director.getScheduler()).enableForTarget(this),this._accelEnabled?(this._registerAccelerometerEvent(),this._accelCurTime=0,C$Tzt.scheduleUpdate(this)):(this._unregisterAccelerometerEvent(),this._accelCurTime=0,C$Tzt.unscheduleUpdate(this)));},C$Tzt.setAccelerometerInterval=function(C$Tzt){this._accelInterval!==C$Tzt&&(this._accelInterval=C$Tzt);},C$Tzt._registerKeyboardEvent=function(){cc.game.canvas.addEventListener(H[1024],function(C$Tzt){C$Tzr.dispatchEvent(new cc.Event.EventKeyboard(C$Tzt.keyCode,!0)),C$Tzt.stopPropagation(),C$Tzt.preventDefault();},!1),cc.game.canvas.addEventListener(H[1080],function(C$Tzt){C$Tzr.dispatchEvent(new cc.Event.EventKeyboard(C$Tzt.keyCode,!1)),C$Tzt.stopPropagation(),C$Tzt.preventDefault();},!1);},C$Tzt._registerAccelerometerEvent=function(){var C$Tzt=window,C$Tze=(this._acceleration=new cc.Acceleration(),this._accelDeviceEvent=C$Tzt.DeviceMotionEvent||C$Tzt.DeviceOrientationEvent,cc.sys.browserType===cc.sys.BROWSER_TYPE_MOBILE_QQ&&(this._accelDeviceEvent=window.DeviceOrientationEvent),this._accelDeviceEvent===C$Tzt.DeviceMotionEvent?H[1081]:H[1366]),C$Tzi=navigator.userAgent;(/Android/.test(C$Tzi)||/Adr/.test(C$Tzi)&&cc.sys.browserType===cc.BROWSER_TYPE_UC)&&(this._minus=-1),C$Tzn=this.didAccelerate.bind(this),C$Tzt.addEventListener(C$Tze,C$Tzn,!1);},C$Tzt._unregisterAccelerometerEvent=function(){var C$Tzt=window,C$Tze=this._accelDeviceEvent===C$Tzt.DeviceMotionEvent?H[1081]:H[1366];C$Tzn&&C$Tzt.removeEventListener(C$Tze,C$Tzn,!1);},C$Tzt.didAccelerate=function(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo=window;this._accelEnabled&&(C$Tze=this._acceleration,C$Tzr=this._accelDeviceEvent===window.DeviceMotionEvent?(C$Tzr=C$Tzt.accelerationIncludingGravity,C$Tzi=this._accelMinus*C$Tzr.x*.1,C$Tzn=this._accelMinus*C$Tzr.y*.1,.1*C$Tzr.z):(C$Tzi=C$Tzt.gamma/90*.981,C$Tzn=-C$Tzt.beta/90*.981,C$Tzt.alpha/90*.981),cc.view._isRotated&&(C$Tzs=C$Tzi,C$Tzi=-C$Tzn,C$Tzn=C$Tzs),C$Tze.x=C$Tzi,C$Tze.y=C$Tzn,C$Tze.z=C$Tzr,C$Tze.timestamp=C$Tzt.timeStamp||Date.now(),C$Tzs=C$Tze.x,90===C$Tzo.orientation?(C$Tze.x=-C$Tze.y,C$Tze.y=C$Tzs):-90===C$Tzo.orientation?(C$Tze.x=C$Tze.y,C$Tze.y=-C$Tzs):180===C$Tzo.orientation&&(C$Tze.x=-C$Tze.x,C$Tze.y=-C$Tze.y),cc.sys.os===cc.sys.OS_ANDROID&&cc.sys.browserType!==cc.sys.BROWSER_TYPE_MOBILE_QQ&&(C$Tze.x=-C$Tze.x,C$Tze.y=-C$Tze.y));};},{"../event-manager":113,"./CCInputManager":193}],193:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1367]),C$Tzd=C$Tzt(H[1368]),C$Tzf=C$Tzt(H[1078]),C$Tzr=C$Tzn.TOUCH_TIMEOUT,C$Tzh=cc.v2(),C$Tzt={_mousePressed:!1,_isRegisterEvent:!1,_preTouchPoint:cc.v2(0,0),_prevMousePoint:cc.v2(0,0),_preTouchPool:[],_preTouchPoolPointer:0,_touches:[],_touchesIntegerDict:{},_indexBitsUsed:0,_maxTouches:8,_accelEnabled:!1,_accelInterval:.2,_accelMinus:1,_accelCurTime:0,_acceleration:null,_accelDeviceEvent:null,_canvasBoundingRect:{left:0,top:0,adjustedLeft:0,adjustedTop:0,width:0,height:0},_getUnUsedIndex:function(){for(var C$Tzt=this._indexBitsUsed,C$Tze=cc.sys.now(),C$Tzi=0;C$Tzi<this._maxTouches;C$Tzi++){if(!(1&C$Tzt))return this._indexBitsUsed|=1<<C$Tzi,C$Tzi;var C$Tzn=this._touches[C$Tzi];if(C$Tze-C$Tzn._lastModified>C$Tzr)return this._removeUsedIndexBit(C$Tzi),delete this._touchesIntegerDict[C$Tzn.getID()],C$Tzi;C$Tzt>>=1;}return-1;},_removeUsedIndexBit:function(C$Tzt){C$Tzt<0||C$Tzt>=this._maxTouches||(this._indexBitsUsed&=~(1<<C$Tzt));},_glView:null,_updateCanvasBoundingRect:function(){var C$Tzt,C$Tze=cc.game.canvas,C$Tzi=this._canvasBoundingRect,C$Tzn=document.documentElement,C$Tzr=window.pageXOffset-C$Tzn.clientLeft,C$Tzn=window.pageYOffset-C$Tzn.clientTop;C$Tze.getBoundingClientRect?(C$Tzt=C$Tze.getBoundingClientRect(),C$Tzi.left=C$Tzt.left+C$Tzr,C$Tzi.top=C$Tzt.top+C$Tzn,C$Tzi.width=C$Tzt.width,C$Tzi.height=C$Tzt.height):C$Tze instanceof HTMLCanvasElement?(C$Tzi.left=C$Tzr,C$Tzi.top=C$Tzn,C$Tzi.width=C$Tze.width,C$Tzi.height=C$Tze.height):(C$Tzi.left=C$Tzr,C$Tzi.top=C$Tzn,C$Tzi.width=parseInt(C$Tze.style.width),C$Tzi.height=parseInt(C$Tze.style.height));},handleTouchesBegin:function(C$Tzt){for(var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo=[],C$Tza=this._touchesIntegerDict,C$Tzc=C$Tzd.now(),C$Tzl=0,C$Tzh=C$Tzt.length;C$Tzl<C$Tzh;C$Tzl++)null==C$Tza[C$Tzr=(C$Tzn=C$Tzt[C$Tzl]).getID()]&&(-1!==(C$Tzi=this._getUnUsedIndex())?((C$Tze=this._touches[C$Tzi]=new cc.Touch(C$Tzn._point.x,C$Tzn._point.y,C$Tzn.getID()))._lastModified=C$Tzc,C$Tze._setPrevPoint(C$Tzn._prevPoint),C$Tza[C$Tzr]=C$Tzi,C$Tzo.push(C$Tze)):cc.logID(2300,C$Tzi));0<C$Tzo.length&&(this._glView._convertTouchesWithScale(C$Tzo),(C$Tzs=new cc.Event.EventTouch(C$Tzo))._eventCode=cc.Event.EventTouch.BEGAN,C$Tzf.dispatchEvent(C$Tzs));},handleTouchesMove:function(C$Tzt){for(var C$Tze,C$Tzi,C$Tzn,C$Tzr=[],C$Tzs=this._touches,C$Tzo=C$Tzd.now(),C$Tza=0,C$Tzc=C$Tzt.length;C$Tza<C$Tzc;C$Tza++)C$Tzi=(C$Tze=C$Tzt[C$Tza]).getID(),null!=(C$Tzi=this._touchesIntegerDict[C$Tzi])&&C$Tzs[C$Tzi]&&(C$Tzs[C$Tzi]._setPoint(C$Tze._point),C$Tzs[C$Tzi]._setPrevPoint(C$Tze._prevPoint),C$Tzs[C$Tzi]._lastModified=C$Tzo,C$Tzr.push(C$Tzs[C$Tzi]));0<C$Tzr.length&&(this._glView._convertTouchesWithScale(C$Tzr),(C$Tzn=new cc.Event.EventTouch(C$Tzr))._eventCode=cc.Event.EventTouch.MOVED,C$Tzf.dispatchEvent(C$Tzn));},handleTouchesEnd:function(C$Tzt){var C$Tzt=this.getSetOfTouchesEndOrCancel(C$Tzt);0<C$Tzt.length&&(this._glView._convertTouchesWithScale(C$Tzt),(C$Tzt=new cc.Event.EventTouch(C$Tzt))._eventCode=cc.Event.EventTouch.ENDED,C$Tzf.dispatchEvent(C$Tzt)),this._preTouchPool.length=0;},handleTouchesCancel:function(C$Tzt){var C$Tzt=this.getSetOfTouchesEndOrCancel(C$Tzt);0<C$Tzt.length&&(this._glView._convertTouchesWithScale(C$Tzt),(C$Tzt=new cc.Event.EventTouch(C$Tzt))._eventCode=cc.Event.EventTouch.CANCELED,C$Tzf.dispatchEvent(C$Tzt)),this._preTouchPool.length=0;},getSetOfTouchesEndOrCancel:function(C$Tzt){for(var C$Tze,C$Tzi,C$Tzn,C$Tzr=[],C$Tzs=this._touches,C$Tzo=this._touchesIntegerDict,C$Tza=0,C$Tzc=C$Tzt.length;C$Tza<C$Tzc;C$Tza++)null!=(C$Tzi=C$Tzo[C$Tzn=(C$Tze=C$Tzt[C$Tza]).getID()])&&C$Tzs[C$Tzi]&&(C$Tzs[C$Tzi]._setPoint(C$Tze._point),C$Tzs[C$Tzi]._setPrevPoint(C$Tze._prevPoint),C$Tzr.push(C$Tzs[C$Tzi]),this._removeUsedIndexBit(C$Tzi),delete C$Tzo[C$Tzn]);return C$Tzr;},getPreTouch:function(C$Tzt){for(var C$Tze=null,C$Tzi=this._preTouchPool,C$Tzn=C$Tzt.getID(),C$Tzr=C$Tzi.length-1;0<=C$Tzr;C$Tzr--)if(C$Tzi[C$Tzr].getID()===C$Tzn){C$Tze=C$Tzi[C$Tzr];break;}return C$Tze=C$Tze||C$Tzt;},setPreTouch:function(C$Tzt){for(var C$Tze=!1,C$Tzi=this._preTouchPool,C$Tzn=C$Tzt.getID(),C$Tzr=C$Tzi.length-1;0<=C$Tzr;C$Tzr--)if(C$Tzi[C$Tzr].getID()===C$Tzn){C$Tzi[C$Tzr]=C$Tzt,C$Tze=!0;break;}C$Tze||(C$Tzi.length<=50?C$Tzi.push(C$Tzt):(C$Tzi[this._preTouchPoolPointer]=C$Tzt,this._preTouchPoolPointer=(this._preTouchPoolPointer+1)%50));},getTouchByXY:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this._preTouchPoint,C$Tzt=this._glView.convertToLocationInView(C$Tzt,C$Tze,C$Tzi),C$Tze=new cc.Touch(C$Tzt.x,C$Tzt.y,0);return C$Tze._setPrevPoint(C$Tzn.x,C$Tzn.y),C$Tzn.x=C$Tzt.x,C$Tzn.y=C$Tzt.y,C$Tze;},getMouseEvent:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this._prevMousePoint,C$Tzi=new cc.Event.EventMouse(C$Tzi);return C$Tzi._setPrevCursor(C$Tzn.x,C$Tzn.y),C$Tzn.x=C$Tzt.x,C$Tzn.y=C$Tzt.y,this._glView._convertMouseToLocationInView(C$Tzn,C$Tze),C$Tzi.setLocation(C$Tzn.x,C$Tzn.y),C$Tzi;},getPointByEvent:function(C$Tzt,C$Tze){return cc.sys.browserType!==cc.sys.BROWSER_TYPE_QQ&&cc.sys.browserType!==cc.sys.BROWSER_TYPE_UC&&cc.sys.browserType!==cc.sys.BROWSER_TYPE_SAFARI||this._updateCanvasBoundingRect(),null!=C$Tzt.pageX?{x:C$Tzt.pageX,y:C$Tzt.pageY}:(C$Tze.left-=document.body.scrollLeft,C$Tze.top-=document.body.scrollTop,{x:C$Tzt.clientX,y:C$Tzt.clientY});},getTouchesByEvent:function(C$Tzt,C$Tze){for(var C$Tzi,C$Tzn,C$Tzr,C$Tzs=[],C$Tzo=this._glView,C$Tza=this._preTouchPoint,C$Tzc=C$Tzt.changedTouches.length,C$Tzl=0;C$Tzl<C$Tzc;C$Tzl++)(C$Tzr=C$Tzt.changedTouches[C$Tzl])&&(C$Tzn=void 0,C$Tzn=C$Tzd.BROWSER_TYPE_FIREFOX===C$Tzd.browserType?C$Tzo.convertToLocationInView(C$Tzr.pageX,C$Tzr.pageY,C$Tze,C$Tzh):C$Tzo.convertToLocationInView(C$Tzr.clientX,C$Tzr.clientY,C$Tze,C$Tzh),null!=C$Tzr.identifier?(C$Tzi=new cc.Touch(C$Tzn.x,C$Tzn.y,C$Tzr.identifier),C$Tzr=this.getPreTouch(C$Tzi).getLocation(),C$Tzi._setPrevPoint(C$Tzr.x,C$Tzr.y),this.setPreTouch(C$Tzi)):(C$Tzi=new cc.Touch(C$Tzn.x,C$Tzn.y))._setPrevPoint(C$Tza.x,C$Tza.y),C$Tza.x=C$Tzn.x,C$Tza.y=C$Tzn.y,C$Tzs.push(C$Tzi));return C$Tzs;},registerSystemEvent:function(C$Tzs){if(!this._isRegisterEvent){this._glView=cc.view;var C$Tzo=this,C$Tza=this._canvasBoundingRect,C$Tzt=(window.addEventListener(H[816],this._updateCanvasBoundingRect.bind(this)),C$Tzd.isMobile),C$Tze=H[1071]in C$Tzd.capabilities,C$Tzh=H[1369]in C$Tzd.capabilities;if(C$Tze){C$Tzt||(window.addEventListener(H[511],function(){C$Tzo._mousePressed=!0;},!1),window.addEventListener(H[673],function(C$Tzt){var C$Tze;C$Tzo._mousePressed&&(C$Tzo._mousePressed=!1,C$Tze=C$Tzo.getPointByEvent(C$Tzt,C$Tza),cc.rect(C$Tza.left,C$Tza.top,C$Tza.width,C$Tza.height).contains(C$Tze)||(C$Tzo.handleTouchesEnd([C$Tzo.getTouchByXY(C$Tze.x,C$Tze.y,C$Tza)]),(C$Tze=C$Tzo.getMouseEvent(C$Tze,C$Tza,cc.Event.EventMouse.UP)).setButton(C$Tzt.button),C$Tzf.dispatchEvent(C$Tze)));},!1));for(var C$Tze=cc.Event.EventMouse,C$Tzi=[!C$Tzt&&[H[511],C$Tze.DOWN,function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzo._mousePressed=!0,C$Tzo.handleTouchesBegin([C$Tzo.getTouchByXY(C$Tzi.x,C$Tzi.y,C$Tzn)]),C$Tzs.focus();}],!C$Tzt&&[H[673],C$Tze.UP,function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzo._mousePressed=!1,C$Tzo.handleTouchesEnd([C$Tzo.getTouchByXY(C$Tzi.x,C$Tzi.y,C$Tzn)]);}],!C$Tzt&&[H[670],C$Tze.MOVE,function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzo.handleTouchesMove([C$Tzo.getTouchByXY(C$Tzi.x,C$Tzi.y,C$Tzn)]),C$Tzo._mousePressed||C$Tze.setButton(null);}],[H[674],C$Tze.SCROLL,function(C$Tzt,C$Tze){C$Tze.setScrollData(0,C$Tzt.wheelDelta);}],[H[1370],C$Tze.SCROLL,function(C$Tzt,C$Tze){C$Tze.setScrollData(0,-120*C$Tzt.detail);}]],C$Tzn=0;C$Tzn<C$Tzi.length;++C$Tzn){var C$Tzc=C$Tzi[C$Tzn];C$Tzc&&function(){var C$Tzt=C$Tzc[0],C$Tzn=C$Tzc[1],C$Tzr=C$Tzc[2];C$Tzs.addEventListener(C$Tzt,function(C$Tzt){var C$Tze=C$Tzo.getPointByEvent(C$Tzt,C$Tza),C$Tzi=C$Tzo.getMouseEvent(C$Tze,C$Tza,C$Tzn);C$Tzi.setButton(C$Tzt.button),C$Tzr(C$Tzt,C$Tzi,C$Tze,C$Tza),C$Tzf.dispatchEvent(C$Tzi),C$Tzt.stopPropagation(),C$Tzt.preventDefault();},!1);}();}}if(window.navigator.msPointerEnabled){var C$Tzr,C$Tzl={MSPointerDown:C$Tzo.handleTouchesBegin,MSPointerMove:C$Tzo.handleTouchesMove,MSPointerUp:C$Tzo.handleTouchesEnd,MSPointerCancel:C$Tzo.handleTouchesCancel};for(C$Tzr in C$Tzl)!function(C$Tzt){var C$Tzi=C$Tzl[C$Tzt];C$Tzs.addEventListener(C$Tzt,function(C$Tzt){var C$Tze=document.documentElement;C$Tza.adjustedLeft=C$Tza.left-C$Tze.scrollLeft,C$Tza.adjustedTop=C$Tza.top-C$Tze.scrollTop,C$Tzi.call(C$Tzo,[C$Tzo.getTouchByXY(C$Tzt.clientX,C$Tzt.clientY,C$Tza)]),C$Tzt.stopPropagation();},!1);}(C$Tzr);}if(C$Tzh){var C$Tzu,C$Tz_={touchstart:function(C$Tzt){C$Tzo.handleTouchesBegin(C$Tzt),C$Tzs.focus();},touchmove:function(C$Tzt){C$Tzo.handleTouchesMove(C$Tzt);},touchend:function(C$Tzt){C$Tzo.handleTouchesEnd(C$Tzt);},touchcancel:function(C$Tzt){C$Tzo.handleTouchesCancel(C$Tzt);}};for(C$Tzu in C$Tz_)!function(C$Tzt){var C$Tzi=C$Tz_[C$Tzt];C$Tzs.addEventListener(C$Tzt,function(C$Tzt){var C$Tze;C$Tzt.changedTouches&&(C$Tze=document.body,C$Tza.adjustedLeft=C$Tza.left-(C$Tze.scrollLeft||window.scrollX||0),C$Tza.adjustedTop=C$Tza.top-(C$Tze.scrollTop||window.scrollY||0),C$Tzi(C$Tzo.getTouchesByEvent(C$Tzt,C$Tza)),C$Tzt.stopPropagation(),C$Tzt.preventDefault());},!1);}(C$Tzu);}this._registerKeyboardEvent(),this._isRegisterEvent=!0;}},_registerKeyboardEvent:function(){},_registerAccelerometerEvent:function(){},update:function(C$Tzt){this._accelCurTime>this._accelInterval&&(this._accelCurTime-=this._accelInterval,C$Tzf.dispatchEvent(new cc.Event.EventAcceleration(this._acceleration))),this._accelCurTime+=C$Tzt;}};C$Tze.exports=cc.internal.inputManager=C$Tzt;},{"../event-manager":113,"./CCMacro":194,"./CCSys":198}],194:[function(C$Tzt,C$Tze,C$Tzi){"use strict";cc.macro={RAD:Math.PI/180,DEG:180/Math.PI,REPEAT_FOREVER:Number.MAX_VALUE-1,FLT_EPSILON:1.192092896e-7,MIN_ZINDEX:-Math.pow(2,15),MAX_ZINDEX:Math.pow(2,15)-1,ONE:1,ZERO:0,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,DST_ALPHA:772,DST_COLOR:774,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ORIENTATION_PORTRAIT:1,ORIENTATION_LANDSCAPE:2,ORIENTATION_AUTO:3,DENSITYDPI_DEVICE:H[1371],DENSITYDPI_HIGH:H[1372],DENSITYDPI_MEDIUM:H[1373],DENSITYDPI_LOW:H[1374],FIX_ARTIFACTS_BY_STRECHING_TEXEL_TMX:!0,DIRECTOR_STATS_POSITION:cc.v2(0,0),ENABLE_STACKABLE_ACTIONS:!0,TOUCH_TIMEOUT:5e3,BATCH_VERTEX_COUNT:2e4,ENABLE_TILEDMAP_CULLING:!0,DOWNLOAD_MAX_CONCURRENT:64,ENABLE_TRANSPARENT_CANVAS:!1,ENABLE_WEBGL_ANTIALIAS:!1,ENABLE_CULLING:!1,CLEANUP_IMAGE_CACHE:!1,SHOW_MESH_WIREFRAME:!1,SHOW_MESH_NORMAL:!1,ENABLE_MULTI_TOUCH:!0},Object.defineProperty(cc.macro,H[1375],{set:function(C$Tzt){cc.RotateTo&&cc.RotateBy&&(cc.RotateTo._reverse=cc.RotateBy._reverse=C$Tzt);}});cc.macro.SUPPORT_TEXTURE_FORMATS=[H[753],H[752],H[751],H[748],H[749],H[750],H[747]],cc.macro.KEY={none:0,back:6,menu:18,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,select:41,insert:45,Delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,num0:96,num1:97,num2:98,num3:99,num4:100,num5:101,num6:102,num7:103,num8:104,num9:105,"*":106,"+":107,"-":109,numdel:110,"/":111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,";":186,semicolon:186,equal:187,"=":187,",":188,comma:188,dash:189,".":190,period:190,forwardslash:191,grave:192,"[":219,openbracket:219,backslash:220,"]":221,closebracket:221,quote:222,dpadLeft:1e3,dpadRight:1001,dpadUp:1003,dpadDown:1004,dpadCenter:1005},cc.macro.ImageFormat=cc.Enum({JPG:0,PNG:1,TIFF:2,WEBP:3,PVR:4,ETC:5,S3TC:6,ATITC:7,TGA:8,RAWDATA:9,UNKNOWN:10}),cc.macro.BlendFactor=cc.Enum({ONE:1,ZERO:0,SRC_ALPHA:770,SRC_COLOR:768,DST_ALPHA:772,DST_COLOR:774,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775}),cc.macro.TextAlignment=cc.Enum({LEFT:0,CENTER:1,RIGHT:2}),cc.macro.VerticalTextAlignment=cc.Enum({TOP:0,CENTER:1,BOTTOM:2}),C$Tze.exports=cc.macro;},{}],195:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1320]),C$Tzt=C$Tzt(H[1359]);function C$Tzr(){this._name="",this._objFlags=0;}C$Tzt.fastDefine(H[1376],C$Tzr,{_name:"",_objFlags:0}),C$Tzn.value(C$Tzr,H[1377],{Destroyed:1,DontSave:8,EditorOnly:16,Dirty:32,DontDestroy:64,PersistentMask:-4192741,Destroying:128,Deactivating:256,LockedInEditor:512,HideInHierarchy:1024,IsPreloadStarted:8192,IsOnLoadStarted:32768,IsOnLoadCalled:16384,IsOnEnableCalled:2048,IsStartCalled:65536,IsEditorOnEnableCalled:4096,IsPositionLocked:1<<21,IsRotationLocked:1<<17,IsScaleLocked:1<<18,IsAnchorLocked:1<<19,IsSizeLocked:1<<20});var C$Tzs=[];C$Tzn.value(C$Tzr,H[1378],function(){for(var C$Tzt=C$Tzs.length,C$Tze=0;C$Tze<C$Tzt;++C$Tze){var C$Tzi=C$Tzs[C$Tze];1&C$Tzi._objFlags||C$Tzi._destroyImmediate();}C$Tzt===C$Tzs.length?C$Tzs.length=0:C$Tzs.splice(0,C$Tzt);});C$Tzt=C$Tzr.prototype;C$Tzn.getset(C$Tzt,H[488],function(){return this._name;},function(C$Tzt){this._name=C$Tzt;},!0),C$Tzn.get(C$Tzt,H[1379],function(){return!(1&this._objFlags);},!0);C$Tzt.destroy=function(){return 1&this._objFlags?(cc.warnID(5e3),!1):!(4&this._objFlags)&&(this._objFlags|=4,C$Tzs.push(this),!0);},C$Tzt._destruct=function(){var C$Tzt=this.constructor,C$Tze=C$Tzt.__destruct__;C$Tze||(C$Tze=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt instanceof cc._BaseNode||C$Tzt instanceof cc.Component,C$Tzn=C$Tzi?H[1380]:null,C$Tzr={};for(C$Tzc in C$Tzt)if(C$Tzt.hasOwnProperty(C$Tzc)){if(C$Tzc===C$Tzn)continue;switch(typeof C$Tzt[C$Tzc]){case H[462]:C$Tzr[C$Tzc]="";break;case H[802]:case H[704]:C$Tzr[C$Tzc]=null;}}if(cc.Class._isCCClass(C$Tze))for(var C$Tzs=cc.Class.Attr.getClassAttrs(C$Tze),C$Tzo=C$Tze.__props__,C$Tza=0;C$Tza<C$Tzo.length;C$Tza++){var C$Tzc,C$Tzl=(C$Tzc=C$Tzo[C$Tza])+cc.Class.Attr.DELIMETER+H[1099];if(C$Tzl in C$Tzs&&(!C$Tzi||H[1380]!==C$Tzc))switch(typeof C$Tzs[C$Tzl]){case H[462]:C$Tzr[C$Tzc]="";break;case H[802]:case H[704]:C$Tzr[C$Tzc]=null;break;case H[534]:C$Tzr[C$Tzc]=void 0;}}return function(C$Tzt){for(var C$Tze in C$Tzr)C$Tzt[C$Tze]=C$Tzr[C$Tze];};}(this,C$Tzt),C$Tzn.value(C$Tzt,H[1381],C$Tze,!0)),C$Tze(this);},C$Tzt._onPreDestroy=null,C$Tzt._destroyImmediate=function(){1&this._objFlags?cc.errorID(5e3):(this._onPreDestroy&&this._onPreDestroy(),this._destruct(),this._objFlags|=1);},C$Tzt._deserialize=null,cc.isValid=function(C$Tzt,C$Tze){return H[802]==typeof C$Tzt?!(!C$Tzt||C$Tzt._objFlags&(C$Tze?5:1)):void 0!==C$Tzt;},cc.Object=C$Tze.exports=C$Tzr;},{"./CCClass":189,"./js":209}],196:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt=C$Tzt(H[720]);cc.SAXParser=function(){window.DOMParser?(this._isSupportDOMParser=!0,this._parser=new DOMParser()):(this._isSupportDOMParser=!1,this._parser=null);},cc.SAXParser.prototype={constructor:cc.SAXParser,parse:function(C$Tzt){return this._parseXML(C$Tzt);},_parseXML:function(C$Tzt){var C$Tze;return this._isSupportDOMParser?C$Tze=this._parser.parseFromString(C$Tzt,H[1382]):((C$Tze=new ActiveXObject(H[1383])).async=H[1384],C$Tze.loadXML(C$Tzt)),C$Tze;}},cc.PlistParser=function(){cc.SAXParser.call(this);},C$Tzt.extend(cc.PlistParser,cc.SAXParser),C$Tzt.mixin(cc.PlistParser.prototype,{parse:function(C$Tzt){var C$Tze=this._parseXML(C$Tzt).documentElement;if(H[1385]!==C$Tze.tagName)return cc.warnID(5100),{};for(var C$Tzi=null,C$Tzn=0,C$Tzr=C$Tze.childNodes.length;C$Tzn<C$Tzr&&1!==(C$Tzi=C$Tze.childNodes[C$Tzn]).nodeType;C$Tzn++);return this._parseNode(C$Tzi);},_parseNode:function(C$Tzt){var C$Tze=null,C$Tzi=C$Tzt.tagName;if(H[1386]===C$Tzi)C$Tze=this._parseDict(C$Tzt);else if(H[1387]===C$Tzi)C$Tze=this._parseArray(C$Tzt);else if(H[462]===C$Tzi){if(1===C$Tzt.childNodes.length)C$Tze=C$Tzt.firstChild.nodeValue;else for(var C$Tze="",C$Tzn=0;C$Tzn<C$Tzt.childNodes.length;C$Tzn++)C$Tze+=C$Tzt.childNodes[C$Tzn].nodeValue;}else H[1384]===C$Tzi?C$Tze=!1:H[583]===C$Tzi?C$Tze=!0:H[1388]===C$Tzi?C$Tze=parseFloat(C$Tzt.firstChild.nodeValue):H[1389]===C$Tzi&&(C$Tze=parseInt(C$Tzt.firstChild.nodeValue,10));return C$Tze;},_parseArray:function(C$Tzt){for(var C$Tze=[],C$Tzi=0,C$Tzn=C$Tzt.childNodes.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tzt.childNodes[C$Tzi];1===C$Tzr.nodeType&&C$Tze.push(this._parseNode(C$Tzr));}return C$Tze;},_parseDict:function(C$Tzt){for(var C$Tze={},C$Tzi=null,C$Tzn=0,C$Tzr=C$Tzt.childNodes.length;C$Tzn<C$Tzr;C$Tzn++){var C$Tzs=C$Tzt.childNodes[C$Tzn];1===C$Tzs.nodeType&&(H[1390]===C$Tzs.tagName?C$Tzi=C$Tzs.firstChild.nodeValue:C$Tze[C$Tzi]=this._parseNode(C$Tzs));}return C$Tze;}}),cc.saxParser=new cc.SAXParser(),cc.plistParser=new cc.PlistParser(),C$Tze.exports={saxParser:cc.saxParser,plistParser:cc.plistParser};},{"../platform/js":209}],197:[function(C$Tzt,C$Tze,C$Tzi){"use strict";cc.screen={_supportsFullScreen:!1,_onfullscreenchange:null,_onfullscreenerror:null,_preOnFullScreenChange:null,_preOnFullScreenError:null,_preOnTouch:null,_touchEvent:"",_fn:null,_fnMap:[[H[1391],H[1392],H[1393],H[1394],H[1395],H[1396]],[H[1397],H[1398],H[1399],H[1400],H[1401],H[1396]],[H[1402],H[1403],H[1404],H[1405],H[1406],H[1407]],[H[1408],H[1409],H[1410],H[1411],H[1412],H[1413]],[H[1414],H[1415],H[1416],H[1417],H[1418],H[1419]]],init:function(){this._fn={};for(var C$Tzt,C$Tze,C$Tzi=this._fnMap,C$Tzn=0,C$Tzr=C$Tzi.length;C$Tzn<C$Tzr;C$Tzn++)if((C$Tzt=C$Tzi[C$Tzn])&&void 0!==document[C$Tzt[1]]){for(C$Tzn=0,C$Tze=C$Tzt.length;C$Tzn<C$Tze;C$Tzn++)this._fn[C$Tzi[0][C$Tzn]]=C$Tzt[C$Tzn];break;}this._supportsFullScreen=void 0!==this._fn.requestFullscreen,this._touchEvent=H[509]in window?H[510]:H[511];},fullScreen:function(){return!!this._supportsFullScreen&&!!(document[this._fn.fullscreenElement]||document[this._fn.webkitFullscreenElement]||document[this._fn.mozFullScreenElement]);},requestFullScreen:function(C$Tzt,C$Tze,C$Tzi){if(C$Tzt&&H[1420]===C$Tzt.tagName.toLowerCase()){if(cc.sys.os===cc.sys.OS_IOS&&cc.sys.isBrowser&&0<C$Tzt.readyState)return void(C$Tzt.webkitEnterFullscreen&&C$Tzt.webkitEnterFullscreen());C$Tzt.setAttribute(H[1421],H[583]);}var C$Tzn;this._supportsFullScreen&&(C$Tzt=C$Tzt||document.documentElement,C$Tze&&(C$Tzn=this._fn.fullscreenchange,this._onfullscreenchange&&document.removeEventListener(C$Tzn,this._onfullscreenchange),this._onfullscreenchange=C$Tze,document.addEventListener(C$Tzn,C$Tze,!1)),C$Tzi&&(C$Tzn=this._fn.fullscreenerror,this._onfullscreenerror&&document.removeEventListener(C$Tzn,this._onfullscreenerror),this._onfullscreenerror=C$Tzi,document.addEventListener(C$Tzn,C$Tzi,{once:!0})),C$Tzt[this._fn.requestFullscreen]());},exitFullScreen:function(C$Tzt){if(C$Tzt&&H[1420]===C$Tzt.tagName.toLowerCase()){if(cc.sys.os===cc.sys.OS_IOS&&cc.sys.isBrowser)return void(C$Tzt.webkitExitFullscreen&&C$Tzt.webkitExitFullscreen());C$Tzt.setAttribute(H[1421],H[1384]);}return!this._supportsFullScreen||document[this._fn.exitFullscreen]();},autoFullScreen:function(C$Tzt,C$Tze){C$Tzt=C$Tzt||document.body,this._ensureFullScreen(C$Tzt,C$Tze),this.requestFullScreen(C$Tzt,C$Tze);},disableAutoFullScreen:function(C$Tzt){var C$Tzt=cc.game.canvas||C$Tzt,C$Tze=this._touchEvent;this._preOnTouch&&(C$Tzt.removeEventListener(C$Tze,this._preOnTouch),this._preOnTouch=null);},_ensureFullScreen:function(C$Tzt,C$Tze){var C$Tzi,C$Tzn=this,C$Tzr=cc.game.canvas||C$Tzt,C$Tzs=this._fn.fullscreenerror;function C$Tzo(){C$Tzn._preOnFullScreenError=null,C$Tzn._preOnTouch&&C$Tzr.removeEventListener(C$Tzi,C$Tzn._preOnTouch),C$Tzn._preOnTouch=function(){C$Tzn._preOnTouch=null,C$Tzn.requestFullScreen(C$Tzt,C$Tze);},C$Tzr.addEventListener(C$Tzi,C$Tzn._preOnTouch,{once:!0});}void 0!==document[C$Tzs]&&(C$Tzi=this._touchEvent,this._preOnFullScreenError&&C$Tzt.removeEventListener(C$Tzs,this._preOnFullScreenError),this._preOnFullScreenError=C$Tzo,C$Tzt.addEventListener(C$Tzs,C$Tzo,{once:!0}));}},cc.screen.init();},{}],198:[function(C$Tzt,C$Tze,C$Tzi){"use strict";window._CCSettings&&_CCSettings.platform;var C$Tzd=H[534]==typeof window?global:window;var C$Tzn=cc&&cc.sys?cc.sys:function(){cc.sys={};var C$Tze=cc.sys;if(C$Tze.LANGUAGE_ENGLISH=H[1422],C$Tze.LANGUAGE_CHINESE=H[1423],C$Tze.LANGUAGE_FRENCH=H[1424],C$Tze.LANGUAGE_ITALIAN=H[1425],C$Tze.LANGUAGE_GERMAN=H[1426],C$Tze.LANGUAGE_SPANISH=H[1427],C$Tze.LANGUAGE_DUTCH=H[1428],C$Tze.LANGUAGE_RUSSIAN=H[1429],C$Tze.LANGUAGE_KOREAN=H[1430],C$Tze.LANGUAGE_JAPANESE=H[1431],C$Tze.LANGUAGE_HUNGARIAN=H[1432],C$Tze.LANGUAGE_PORTUGUESE=H[1433],C$Tze.LANGUAGE_ARABIC=H[1434],C$Tze.LANGUAGE_NORWEGIAN=H[1435],C$Tze.LANGUAGE_POLISH=H[1436],C$Tze.LANGUAGE_TURKISH=H[1437],C$Tze.LANGUAGE_UKRAINIAN=H[1438],C$Tze.LANGUAGE_ROMANIAN=H[1439],C$Tze.LANGUAGE_BULGARIAN=H[1440],C$Tze.LANGUAGE_UNKNOWN=H[1441],C$Tze.OS_IOS=H[1442],C$Tze.OS_ANDROID=H[1443],C$Tze.OS_WINDOWS=H[1444],C$Tze.OS_MARMALADE=H[1445],C$Tze.OS_LINUX=H[1446],C$Tze.OS_BADA=H[1447],C$Tze.OS_BLACKBERRY=H[1448],C$Tze.OS_OSX=H[1449],C$Tze.OS_WP8=H[1450],C$Tze.OS_WINRT=H[1451],C$Tze.OS_UNKNOWN=H[1452],C$Tze.UNKNOWN=-1,C$Tze.WIN32=0,C$Tze.LINUX=1,C$Tze.MACOS=2,C$Tze.ANDROID=3,C$Tze.IPHONE=4,C$Tze.IPAD=5,C$Tze.BLACKBERRY=6,C$Tze.NACL=7,C$Tze.EMSCRIPTEN=8,C$Tze.TIZEN=9,C$Tze.WINRT=10,C$Tze.WP8=11,C$Tze.MOBILE_BROWSER=100,C$Tze.DESKTOP_BROWSER=101,C$Tze.EDITOR_PAGE=102,C$Tze.EDITOR_CORE=103,C$Tze.WECHAT_GAME=104,C$Tze.QQ_PLAY=105,C$Tze.FB_PLAYABLE_ADS=106,C$Tze.BAIDU_GAME=107,C$Tze.VIVO_GAME=108,C$Tze.OPPO_GAME=109,C$Tze.HUAWEI_GAME=110,C$Tze.XIAOMI_GAME=111,C$Tze.JKW_GAME=112,C$Tze.ALIPAY_GAME=113,C$Tze.WECHAT_GAME_SUB=114,C$Tze.BAIDU_GAME_SUB=115,C$Tze.QTT_GAME=116,C$Tze.BROWSER_TYPE_WECHAT=H[1453],C$Tze.BROWSER_TYPE_WECHAT_GAME=H[1454],C$Tze.BROWSER_TYPE_WECHAT_GAME_SUB=H[1455],C$Tze.BROWSER_TYPE_BAIDU_GAME=H[1456],C$Tze.BROWSER_TYPE_BAIDU_GAME_SUB=H[1457],C$Tze.BROWSER_TYPE_XIAOMI_GAME=H[1458],C$Tze.BROWSER_TYPE_ALIPAY_GAME=H[1459],C$Tze.BROWSER_TYPE_QQ_PLAY=H[1460],C$Tze.BROWSER_TYPE_ANDROID=H[1461],C$Tze.BROWSER_TYPE_IE=H[1462],C$Tze.BROWSER_TYPE_EDGE=H[1463],C$Tze.BROWSER_TYPE_QQ=H[1464],C$Tze.BROWSER_TYPE_MOBILE_QQ=H[1465],C$Tze.BROWSER_TYPE_UC=H[1466],C$Tze.BROWSER_TYPE_UCBS=H[1467],C$Tze.BROWSER_TYPE_360=H[1468],C$Tze.BROWSER_TYPE_BAIDU_APP=H[1469],C$Tze.BROWSER_TYPE_BAIDU=H[1470],C$Tze.BROWSER_TYPE_MAXTHON=H[1471],C$Tze.BROWSER_TYPE_OPERA=H[1472],C$Tze.BROWSER_TYPE_OUPENG=H[1473],C$Tze.BROWSER_TYPE_MIUI=H[1474],C$Tze.BROWSER_TYPE_FIREFOX=H[1475],C$Tze.BROWSER_TYPE_SAFARI=H[1476],C$Tze.BROWSER_TYPE_CHROME=H[1477],C$Tze.BROWSER_TYPE_LIEBAO=H[1478],C$Tze.BROWSER_TYPE_QZONE=H[1479],C$Tze.BROWSER_TYPE_SOUGOU=H[1480],C$Tze.BROWSER_TYPE_UNKNOWN=H[1441],C$Tze.isNative=!1,C$Tze.isBrowser=H[802]==typeof window&&H[802]==typeof document&&!0,C$Tze.glExtension=function(C$Tzt){return!!cc.renderer.device.ext(C$Tzt);},C$Tze.getMaxJointMatrixSize=function(){var C$Tzt;return C$Tze._maxJointMatrixSize||(C$Tzt=cc.game._renderContext,C$Tzt=Math.floor(C$Tzt.getParameter(C$Tzt.MAX_VERTEX_UNIFORM_VECTORS)/4)-10,C$Tze._maxJointMatrixSize=C$Tzt<50?0:50),C$Tze._maxJointMatrixSize;},C$Tzd.__globalAdapter&&C$Tzd.__globalAdapter.adaptSys)C$Tzd.__globalAdapter.adaptSys(C$Tze);else{var C$Tzt=window,C$Tzi=C$Tzt.navigator,C$Tzh=document,C$Tzu=C$Tzh.documentElement,C$Tzn=C$Tzi.userAgent.toLowerCase();C$Tze.isMobile=/mobile|android|iphone|ipad/.test(C$Tzn),H[534]!=typeof FbPlayableAd?C$Tze.platform=C$Tze.FB_PLAYABLE_ADS:C$Tze.platform=C$Tze.isMobile?C$Tze.MOBILE_BROWSER:C$Tze.DESKTOP_BROWSER;var C$Tzr=(C$Tzr=C$Tzi.language)||C$Tzi.browserLanguage,C$Tzr=(C$Tze.languageCode=C$Tzr.toLowerCase(),C$Tzr=C$Tzr?C$Tzr.split("-")[0]:C$Tze.LANGUAGE_ENGLISH,C$Tze.language=C$Tzr,!1),C$Tzs=!1,C$Tzo="",C$Tza=0,C$Tzc=/android (\d+(?:\.\d+)*)/i.exec(C$Tzn)||/android (\d+(?:\.\d+)*)/i.exec(C$Tzi.platform),C$Tzc=(C$Tzc&&(C$Tzr=!0,C$Tzo=C$Tzc[1]||"",C$Tza=parseInt(C$Tzo)||0),(C$Tzc=/(iPad|iPhone|iPod).*OS ((\d+_?){2,3})/i.exec(C$Tzn))?(C$Tzs=!0,C$Tzo=C$Tzc[2]||"",C$Tza=parseInt(C$Tzo)||0):(/(iPhone|iPad|iPod)/.exec(C$Tzi.platform)||H[1481]===C$Tzi.platform&&C$Tzi.maxTouchPoints&&1<C$Tzi.maxTouchPoints)&&(C$Tzs=!0,C$Tzo="",C$Tza=0),C$Tze.OS_UNKNOWN),C$Tza=(-1!==C$Tzi.appVersion.indexOf(H[1482])?C$Tzc=C$Tze.OS_WINDOWS:C$Tzs?C$Tzc=C$Tze.OS_IOS:-1!==C$Tzi.appVersion.indexOf(H[1483])?C$Tzc=C$Tze.OS_OSX:-1!==C$Tzi.appVersion.indexOf(H[1484])&&-1===C$Tzi.appVersion.indexOf(H[1446])?C$Tzc=C$Tze.OS_UNIX:C$Tzr?C$Tzc=C$Tze.OS_ANDROID:-1===C$Tzi.appVersion.indexOf(H[1446])&&-1===C$Tzn.indexOf(H[1485])||(C$Tzc=C$Tze.OS_LINUX),C$Tze.os=C$Tzc,C$Tze.osVersion=C$Tzo,C$Tze.osMainVersion=C$Tza,C$Tze.browserType=C$Tze.BROWSER_TYPE_UNKNOWN,(H[1476]===(C$Tzs=(C$Tzs=/mqqbrowser|micromessenger|qqbrowser|sogou|qzone|liebao|maxthon|ucbs|360 aphone|360browser|baiduboxapp|baidubrowser|maxthon|mxbrowser|miuibrowser/i.exec(C$Tzn)||/qq|ucbrowser|ubrowser|edge/i.exec(C$Tzn)||/chrome|safari|firefox|trident|opera|opr\/|oupeng/i.exec(C$Tzn))?C$Tzs[0].toLowerCase():C$Tze.BROWSER_TYPE_UNKNOWN)&&C$Tzr||H[1486]===C$Tzs&&C$Tzn.match(/android.*applewebkit/i))&&(C$Tzs=C$Tze.BROWSER_TYPE_ANDROID),C$Tzc={micromessenger:C$Tze.BROWSER_TYPE_WECHAT,trident:C$Tze.BROWSER_TYPE_IE,edge:C$Tze.BROWSER_TYPE_EDGE,"360 aphone":C$Tze.BROWSER_TYPE_360,mxbrowser:C$Tze.BROWSER_TYPE_MAXTHON,"opr/":C$Tze.BROWSER_TYPE_OPERA,ubrowser:C$Tze.BROWSER_TYPE_UC},C$Tze.browserType=C$Tzc[C$Tzs]||C$Tzs,C$Tze.browserVersion="",C$Tzo=(C$Tzo=C$Tzn.match(/(mqqbrowser|micromessenger|qqbrowser|sogou|qzone|liebao|maxthon|uc|ucbs|360 aphone|360|baiduboxapp|baidu|maxthon|mxbrowser|miui(?:.hybrid)?)(mobile)?(browser)?\/?([\d.]+)/i))||C$Tzn.match(/(qq|chrome|safari|firefox|trident|opera|opr\/|oupeng)(mobile)?(browser)?\/?([\d.]+)/i),C$Tze.browserVersion=C$Tzo?C$Tzo[4]:"",window.innerWidth||document.documentElement.clientWidth),C$Tzr=window.innerHeight||document.documentElement.clientHeight,C$Tzc=window.devicePixelRatio||1,C$Tzs=(C$Tze.windowPixelResolution={width:C$Tzc*C$Tza,height:C$Tzc*C$Tzr},C$Tze._checkWebGLRenderMode=function(){if(cc.game.renderType!==cc.game.RENDER_TYPE_WEBGL)throw new Error(H[254]);},document.createElement(H[1161]));try{var C$Tz_=C$Tze.localStorage=C$Tzt.localStorage;C$Tz_.setItem(H[1487],""),C$Tz_.removeItem(H[1487]),C$Tz_=null;}catch(C$Tzt){C$Tzn=function(){cc.warnID(5200);};C$Tze.localStorage={getItem:C$Tzn,setItem:C$Tzn,removeItem:C$Tzn,clear:C$Tzn};}var C$Tzl,C$Tzo=C$Tzs.toDataURL(H[1488]).startsWith(H[1489]),C$Tza=!!C$Tzs.getContext(H[1162]),C$Tzc=!1,C$Tzr=(C$Tzt.WebGLRenderingContext&&(C$Tzc=!0),C$Tze.capabilities={canvas:C$Tza,opengl:C$Tzc,webp:C$Tzo});void 0===C$Tzu.ontouchstart&&void 0===C$Tzh.ontouchstart&&!C$Tzi.msPointerEnabled||(C$Tzr.touches=!0),void 0!==C$Tzu.onmouseup&&(C$Tzr.mouse=!0),void 0!==C$Tzu.onkeyup&&(C$Tzr.keyboard=!0),(C$Tzt.DeviceMotionEvent||C$Tzt.DeviceOrientationEvent)&&(C$Tzr.accelerometer=!0),C$Tze.browserVersion,C$Tz_=!!(window.AudioContext||window.webkitAudioContext||window.mozAudioContext),C$Tzl={ONLY_ONE:!1,WEB_AUDIO:C$Tz_,DELAY_CREATE_CTX:!1},C$Tze.os===C$Tze.OS_IOS&&(C$Tzl.USE_LOADER_EVENT=H[512]),C$Tze.browserType===C$Tze.BROWSER_TYPE_FIREFOX&&(C$Tzl.DELAY_CREATE_CTX=!0,C$Tzl.USE_LOADER_EVENT=H[1490]),C$Tze.os===C$Tze.OS_ANDROID&&C$Tze.browserType===C$Tze.BROWSER_TYPE_UC&&(C$Tzl.ONE_SOURCE=!0);try{C$Tzl.WEB_AUDIO&&(C$Tzl.context=new(window.AudioContext||window.webkitAudioContext||window.mozAudioContext)(),C$Tzl.DELAY_CREATE_CTX&&setTimeout(function(){C$Tzl.context=new(window.AudioContext||window.webkitAudioContext||window.mozAudioContext)();},0));}catch(C$Tzt){C$Tzl.WEB_AUDIO=!1,cc.logID(5201);}C$Tzn=[];(C$Tzs=document.createElement(H[508])).canPlayType&&(C$Tzs.canPlayType(H[1491])&&C$Tzn.push(H[1492]),C$Tzs.canPlayType(H[1493])&&C$Tzn.push(H[1494]),C$Tzs.canPlayType(H[1495])&&C$Tzn.push(H[1496]),C$Tzs.canPlayType(H[1497])&&C$Tzn.push(H[1498]),C$Tzs.canPlayType(H[1499])&&C$Tzn.push(H[1500])),C$Tzl.format=C$Tzn,C$Tze.__audioSupport=C$Tzl;}return C$Tze.NetworkType={NONE:0,LAN:1,WWAN:2},C$Tze.getNetworkType=function(){return C$Tze.NetworkType.LAN;},C$Tze.getBatteryLevel=function(){return 1;},C$Tze.garbageCollect=function(){},C$Tze.restartVM=function(){},C$Tze.getSafeAreaRect=function(){var C$Tzt=cc.view.getVisibleSize();return cc.rect(0,0,C$Tzt.width,C$Tzt.height);},C$Tze.isObjectValid=function(C$Tzt){return!!C$Tzt;},C$Tze.dump=function(){var C$Tzt="",C$Tzt=(C$Tzt=(C$Tzt=(C$Tzt=(C$Tzt=(C$Tzt=(C$Tzt=(C$Tzt=(C$Tzt+=H[1501]+this.isMobile+"\r\n")+(H[1502]+this.language+"\r\n"))+(H[1503]+this.browserType+"\r\n"))+(H[1504]+this.browserVersion+"\r\n"))+(H[1505]+JSON.stringify(this.capabilities)+"\r\n"))+(H[1506]+this.os+"\r\n"))+(H[1507]+this.osVersion+"\r\n"))+(H[1508]+this.platform+"\r\n"))+(H[1509]+(cc.game.renderType===cc.game.RENDER_TYPE_WEBGL?H[1510]:H[636])+" renderer.\r\n");cc.log(C$Tzt);},C$Tze.openURL=function(C$Tzt){window.open(C$Tzt);},C$Tze.now=function(){return Date.now?Date.now():+new Date();},C$Tze;}();C$Tze.exports=C$Tzn;},{}],199:[function(C$Tzt,C$Tze,C$Tzh){"use strict";var C$Tzi=C$Tzt(H[708]),C$Tzu=C$Tzt(H[720]),C$Tz_=C$Tzt(H[726]),C$Tzr=(C$Tzt(H[743]),{init:function(){this.html=document.getElementsByTagName(H[1511])[0];},availWidth:function(C$Tzt){return C$Tzt&&C$Tzt!==this.html?C$Tzt.clientWidth:window.innerWidth;},availHeight:function(C$Tzt){return C$Tzt&&C$Tzt!==this.html?C$Tzt.clientHeight:window.innerHeight;},meta:{width:H[1512]},adaptationType:cc.sys.browserType});switch(cc.sys.os===cc.sys.OS_IOS&&(C$Tzr.adaptationType=cc.sys.BROWSER_TYPE_SAFARI),C$Tzr.adaptationType){case cc.sys.BROWSER_TYPE_SAFARI:C$Tzr.meta[H[1513]]=H[583],C$Tzr.availWidth=cc.sys.isMobile?function(C$Tzt){return window.innerWidth;}:function(C$Tzt){return C$Tzt.clientWidth;},C$Tzr.availHeight=cc.sys.isMobile?function(C$Tzt){return window.innerHeight;}:function(C$Tzt){return C$Tzt.clientHeight;};break;case cc.sys.BROWSER_TYPE_SOUGOU:case cc.sys.BROWSER_TYPE_UC:C$Tzr.meta[H[1513]]=H[583],C$Tzr.availWidth=function(C$Tzt){return C$Tzt.clientWidth;},C$Tzr.availHeight=function(C$Tzt){return C$Tzt.clientHeight;};}function C$Tzn(){C$Tzi.call(this);var C$Tzt=cc.ContainerStrategy,C$Tze=cc.ContentStrategy;C$Tzr.init(this),this._frameSize=cc.size(0,0),this._designResolutionSize=cc.size(0,0),this._originalDesignResolutionSize=cc.size(0,0),this._scaleX=1,this._scaleY=1,this._viewportRect=cc.rect(0,0,0,0),this._visibleRect=cc.rect(0,0,0,0),this._autoFullScreen=!1,this._devicePixelRatio=1,this._maxPixelRatio=2,this._retinaEnabled=!1,this._resizeCallback=null,this._resizing=!1,this._resizeWithBrowserSize=!1,this._orientationChanging=!0,this._isRotated=!1,this._orientation=cc.macro.ORIENTATION_AUTO,this._isAdjustViewport=!0,this._antiAliasEnabled=!1,this._resolutionPolicy=null,this._rpExactFit=new cc.ResolutionPolicy(C$Tzt.EQUAL_TO_FRAME,C$Tze.EXACT_FIT),this._rpShowAll=new cc.ResolutionPolicy(C$Tzt.EQUAL_TO_FRAME,C$Tze.SHOW_ALL),this._rpNoBorder=new cc.ResolutionPolicy(C$Tzt.EQUAL_TO_FRAME,C$Tze.NO_BORDER),this._rpFixedHeight=new cc.ResolutionPolicy(C$Tzt.EQUAL_TO_FRAME,C$Tze.FIXED_HEIGHT),this._rpFixedWidth=new cc.ResolutionPolicy(C$Tzt.EQUAL_TO_FRAME,C$Tze.FIXED_WIDTH),cc.game.once(cc.game.EVENT_ENGINE_INITED,this.init,this);}var C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl=null;cc.js.extend(C$Tzn,C$Tzi),cc.js.mixin(C$Tzn.prototype,{init:function(){this._initFrameSize();var C$Tzt=cc.game.canvas.width,C$Tze=cc.game.canvas.height;this._designResolutionSize.width=C$Tzt,this._designResolutionSize.height=C$Tze,this._originalDesignResolutionSize.width=C$Tzt,this._originalDesignResolutionSize.height=C$Tze,this._viewportRect.width=C$Tzt,this._viewportRect.height=C$Tze,this._visibleRect.width=C$Tzt,this._visibleRect.height=C$Tze,cc.winSize.width=this._visibleRect.width,cc.winSize.height=this._visibleRect.height,cc.visibleRect&&cc.visibleRect.init(this._visibleRect);},_resizeEvent:function(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs=this.setDesignResolutionSize?this:cc.view,C$Tzo=cc.sys;C$Tzo.browserType!==C$Tzo.BROWSER_TYPE_UC||C$Tzo.os!==C$Tzo.OS_IOS?(C$Tzo=C$Tzs._frameSize.width,C$Tze=C$Tzs._frameSize.height,C$Tzi=C$Tzs._isRotated,cc.sys.isMobile?(C$Tzn=(C$Tzr=cc.game.container.style).margin,C$Tzr.margin="0",C$Tzr.display=H[587],C$Tzs._initFrameSize(),C$Tzr.margin=C$Tzn,C$Tzr.display=H[1514]):C$Tzs._initFrameSize(),!0!==C$Tzt&&C$Tzs._isRotated===C$Tzi&&C$Tzs._frameSize.width===C$Tzo&&C$Tzs._frameSize.height===C$Tze||(C$Tzn=C$Tzs._originalDesignResolutionSize.width,C$Tzr=C$Tzs._originalDesignResolutionSize.height,C$Tzs._resizing=!0,0<C$Tzn&&C$Tzs.setDesignResolutionSize(C$Tzn,C$Tzr,C$Tzs._resolutionPolicy),C$Tzs._resizing=!1,C$Tzs.emit(H[1515]),C$Tzs._resizeCallback&&C$Tzs._resizeCallback.call())):setTimeout(function(){C$Tzs._resizeEvent(C$Tzt);},0);},_orientationChange:function(){cc.view._orientationChanging=!0,cc.view._resizeEvent(),cc.sys.browserType===cc.sys.BROWSER_TYPE_SAFARI&&cc.sys.isMobile&&setTimeout(function(){window.innerHeight>window.innerWidth&&window.scrollTo(0,1);},500);},resizeWithBrowserSize:function(C$Tzt){C$Tzt?this._resizeWithBrowserSize||(this._resizeWithBrowserSize=!0,window.addEventListener(H[816],this._resizeEvent),window.addEventListener(H[817],this._orientationChange)):this._resizeWithBrowserSize&&(this._resizeWithBrowserSize=!1,window.removeEventListener(H[816],this._resizeEvent),window.removeEventListener(H[817],this._orientationChange));},setResizeCallback:function(C$Tzt){H[704]!=typeof C$Tzt&&null!=C$Tzt||(this._resizeCallback=C$Tzt);},setOrientation:function(C$Tzt){var C$Tze;(C$Tzt&=cc.macro.ORIENTATION_AUTO)&&this._orientation!==C$Tzt&&(this._orientation=C$Tzt,C$Tzt=this._originalDesignResolutionSize.width,C$Tze=this._originalDesignResolutionSize.height,this.setDesignResolutionSize(C$Tzt,C$Tze,this._resolutionPolicy));},_initFrameSize:function(){var C$Tzt=this._frameSize,C$Tze=C$Tzr.availWidth(cc.game.frame),C$Tzi=C$Tzr.availHeight(cc.game.frame),C$Tzn=C$Tzi<=C$Tze;!cc.sys.isMobile||C$Tzn&&this._orientation&cc.macro.ORIENTATION_LANDSCAPE||!C$Tzn&&this._orientation&cc.macro.ORIENTATION_PORTRAIT?(C$Tzt.width=C$Tze,C$Tzt.height=C$Tzi,cc.game.container.style[H[991]]=H[1516],cc.game.container.style.transform=H[1516],this._isRotated=!1):(C$Tzt.width=C$Tzi,C$Tzt.height=C$Tze,cc.game.container.style[H[991]]=H[1517],cc.game.container.style.transform=H[1517],cc.game.container.style[H[994]]=H[1518],cc.game.container.style.transformOrigin=H[1518],this._isRotated=!0),this._orientationChanging&&setTimeout(function(){cc.view._orientationChanging=!1;},1e3);},_setViewportMeta:function(C$Tzt,C$Tze){var C$Tzi,C$Tzn,C$Tzr=document.getElementById(H[1519]),C$Tzs=(C$Tzr&&C$Tze&&document.head.removeChild(C$Tzr),document.getElementsByName(H[962])),C$Tzs=C$Tzs?C$Tzs[0]:null,C$Tzo=C$Tzs?C$Tzs.content:"";for(C$Tzi in(C$Tzr=C$Tzr||document.createElement(H[1520])).id=H[1519],C$Tzr.name=H[962],C$Tzr.content="",C$Tzt)-1==C$Tzo.indexOf(C$Tzi)?C$Tzo+=","+C$Tzi+"="+C$Tzt[C$Tzi]:C$Tze&&(C$Tzn=new RegExp(C$Tzi+H[1521]),C$Tzo.replace(C$Tzn,C$Tzi+"="+C$Tzt[C$Tzi]));/^,/.test(C$Tzo)&&(C$Tzo=C$Tzo.substr(1)),C$Tzr.content=C$Tzo,C$Tzs&&(C$Tzs.content=C$Tzo),document.head.appendChild(C$Tzr);},_adjustViewportMeta:function(){this._isAdjustViewport&&(this._setViewportMeta(C$Tzr.meta,!1),this._isAdjustViewport=!1);},adjustViewportMeta:function(C$Tzt){this._isAdjustViewport=C$Tzt;},enableRetina:function(C$Tzt){this._retinaEnabled=!!C$Tzt;},isRetinaEnabled:function(){return this._retinaEnabled;},enableAntiAlias:function(C$Tzt){if(cc.warnID(9200),this._antiAliasEnabled!==C$Tzt)if(this._antiAliasEnabled=C$Tzt,cc.game.renderType===cc.game.RENDER_TYPE_WEBGL){var C$Tze,C$Tzi=cc.loader._cache;for(C$Tze in C$Tzi){var C$Tzn,C$Tzr=C$Tzi[C$Tze],C$Tzr=C$Tzr&&C$Tzr.content instanceof cc.Texture2D?C$Tzr.content:null;C$Tzr&&(C$Tzn=cc.Texture2D.Filter,C$Tzt?C$Tzr.setFilters(C$Tzn.LINEAR,C$Tzn.LINEAR):C$Tzr.setFilters(C$Tzn.NEAREST,C$Tzn.NEAREST));}}else{var C$Tzs;cc.game.renderType===cc.game.RENDER_TYPE_CANVAS&&((C$Tzs=cc.game.canvas.getContext(H[1162])).imageSmoothingEnabled=C$Tzt,C$Tzs.mozImageSmoothingEnabled=C$Tzt);}},isAntiAliasEnabled:function(){return this._antiAliasEnabled;},enableAutoFullScreen:function(C$Tzt){C$Tzt&&C$Tzt!==this._autoFullScreen&&cc.sys.isMobile?(this._autoFullScreen=!0,cc.screen.autoFullScreen(cc.game.frame)):(this._autoFullScreen=!1,cc.screen.disableAutoFullScreen(cc.game.frame));},isAutoFullScreenEnabled:function(){return this._autoFullScreen;},setCanvasSize:function(C$Tzt,C$Tze){var C$Tzi=cc.game.canvas,C$Tzn=cc.game.container;C$Tzi.width=C$Tzt*this._devicePixelRatio,C$Tzi.height=C$Tze*this._devicePixelRatio,C$Tzi.style.width=C$Tzt+H[985],C$Tzi.style.height=C$Tze+H[985],C$Tzn.style.width=C$Tzt+H[985],C$Tzn.style.height=C$Tze+H[985],this._resizeEvent();},getCanvasSize:function(){return cc.size(cc.game.canvas.width,cc.game.canvas.height);},getFrameSize:function(){return cc.size(this._frameSize.width,this._frameSize.height);},setFrameSize:function(C$Tzt,C$Tze){this._frameSize.width=C$Tzt,this._frameSize.height=C$Tze,cc.game.frame.style.width=C$Tzt+H[985],cc.game.frame.style.height=C$Tze+H[985],this._resizeEvent(!0);},getVisibleSize:function(){return cc.size(this._visibleRect.width,this._visibleRect.height);},getVisibleSizeInPixel:function(){return cc.size(this._visibleRect.width*this._scaleX,this._visibleRect.height*this._scaleY);},getVisibleOrigin:function(){return cc.v2(this._visibleRect.x,this._visibleRect.y);},getVisibleOriginInPixel:function(){return cc.v2(this._visibleRect.x*this._scaleX,this._visibleRect.y*this._scaleY);},getResolutionPolicy:function(){return this._resolutionPolicy;},setResolutionPolicy:function(C$Tzt){var C$Tze;C$Tzt instanceof cc.ResolutionPolicy?this._resolutionPolicy=C$Tzt:(C$Tzt===(C$Tze=cc.ResolutionPolicy).EXACT_FIT&&(this._resolutionPolicy=this._rpExactFit),C$Tzt===C$Tze.SHOW_ALL&&(this._resolutionPolicy=this._rpShowAll),C$Tzt===C$Tze.NO_BORDER&&(this._resolutionPolicy=this._rpNoBorder),C$Tzt===C$Tze.FIXED_HEIGHT&&(this._resolutionPolicy=this._rpFixedHeight),C$Tzt===C$Tze.FIXED_WIDTH&&(this._resolutionPolicy=this._rpFixedWidth));},setDesignResolutionSize:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn;0<C$Tzt||0<C$Tze?(this.setResolutionPolicy(C$Tzi),(C$Tzi=this._resolutionPolicy)&&C$Tzi.preApply(this),cc.sys.isMobile&&this._adjustViewportMeta(),this._orientationChanging=!0,this._resizing||this._initFrameSize(),C$Tzi?(this._originalDesignResolutionSize.width=this._designResolutionSize.width=C$Tzt,this._originalDesignResolutionSize.height=this._designResolutionSize.height=C$Tze,(C$Tzt=C$Tzi.apply(this,this._designResolutionSize)).scale&&2===C$Tzt.scale.length&&(this._scaleX=C$Tzt.scale[0],this._scaleY=C$Tzt.scale[1]),C$Tzt.viewport&&(C$Tze=this._viewportRect,C$Tzn=this._visibleRect,C$Tzt=C$Tzt.viewport,C$Tze.x=C$Tzt.x,C$Tze.y=C$Tzt.y,C$Tze.width=C$Tzt.width,C$Tze.height=C$Tzt.height,C$Tzn.x=0,C$Tzn.y=0,C$Tzn.width=C$Tzt.width/this._scaleX,C$Tzn.height=C$Tzt.height/this._scaleY),C$Tzi.postApply(this),cc.winSize.width=this._visibleRect.width,cc.winSize.height=this._visibleRect.height,cc.visibleRect&&cc.visibleRect.init(this._visibleRect),C$Tz_.updateCameraViewport(),cc.internal.inputManager._updateCanvasBoundingRect(),this.emit(H[826])):cc.logID(2201)):cc.logID(2200);},getDesignResolutionSize:function(){return cc.size(this._designResolutionSize.width,this._designResolutionSize.height);},setRealPixelResolution:function(C$Tzt,C$Tze,C$Tzi){this._setViewportMeta({width:C$Tzt},!0),document.documentElement.style.width=C$Tzt+H[985],document.body.style.width=C$Tzt+H[985],document.body.style.left=H[586],document.body.style.top=H[586],this.setDesignResolutionSize(C$Tzt,C$Tze,C$Tzi);},setViewportInPoints:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=this._scaleX,C$Tzs=this._scaleY;cc.game._renderContext.viewport(C$Tzt*C$Tzr+this._viewportRect.x,C$Tze*C$Tzs+this._viewportRect.y,C$Tzi*C$Tzr,C$Tzn*C$Tzs);},setScissorInPoints:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=this._scaleX,C$Tzs=this._scaleY,C$Tzt=Math.ceil(C$Tzt*C$Tzr+this._viewportRect.x),C$Tze=Math.ceil(C$Tze*C$Tzs+this._viewportRect.y),C$Tzi=Math.ceil(C$Tzi*C$Tzr),C$Tzr=Math.ceil(C$Tzn*C$Tzs),C$Tzn=cc.game._renderContext;C$Tzl||(C$Tzs=C$Tzn.getParameter(C$Tzn.SCISSOR_BOX),C$Tzl=cc.rect(C$Tzs[0],C$Tzs[1],C$Tzs[2],C$Tzs[3])),C$Tzl.x===C$Tzt&&C$Tzl.y===C$Tze&&C$Tzl.width===C$Tzi&&C$Tzl.height===C$Tzr||(C$Tzl.x=C$Tzt,C$Tzl.y=C$Tze,C$Tzl.width=C$Tzi,C$Tzl.height=C$Tzr,C$Tzn.scissor(C$Tzt,C$Tze,C$Tzi,C$Tzr));},isScissorEnabled:function(){return cc.game._renderContext.isEnabled(gl.SCISSOR_TEST);},getScissorRect:function(){C$Tzl||(C$Tzt=gl.getParameter(gl.SCISSOR_BOX),C$Tzl=cc.rect(C$Tzt[0],C$Tzt[1],C$Tzt[2],C$Tzt[3]));var C$Tzt=1/this._scaleX,C$Tze=1/this._scaleY;return cc.rect((C$Tzl.x-this._viewportRect.x)*C$Tzt,(C$Tzl.y-this._viewportRect.y)*C$Tze,C$Tzl.width*C$Tzt,C$Tzl.height*C$Tze);},getViewportRect:function(){return this._viewportRect;},getScaleX:function(){return this._scaleX;},getScaleY:function(){return this._scaleY;},getDevicePixelRatio:function(){return this._devicePixelRatio;},convertToLocationInView:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzn=C$Tzn||cc.v2(),C$Tzr=C$Tzi.adjustedLeft||C$Tzi.left,C$Tzs=C$Tzi.adjustedTop||C$Tzi.top,C$Tzt=this._devicePixelRatio*(C$Tzt-C$Tzr),C$Tzr=this._devicePixelRatio*(C$Tzs+C$Tzi.height-C$Tze);return this._isRotated?(C$Tzn.x=cc.game.canvas.width-C$Tzr,C$Tzn.y=C$Tzt):(C$Tzn.x=C$Tzt,C$Tzn.y=C$Tzr),C$Tzn;},_convertMouseToLocationInView:function(C$Tzt,C$Tze){var C$Tzi=this._viewportRect;C$Tzt.x=(this._devicePixelRatio*(C$Tzt.x-C$Tze.left)-C$Tzi.x)/this._scaleX,C$Tzt.y=(this._devicePixelRatio*(C$Tze.top+C$Tze.height-C$Tzt.y)-C$Tzi.y)/this._scaleY;},_convertPointWithScale:function(C$Tzt){var C$Tze=this._viewportRect;C$Tzt.x=(C$Tzt.x-C$Tze.x)/this._scaleX,C$Tzt.y=(C$Tzt.y-C$Tze.y)/this._scaleY;},_convertTouchesWithScale:function(C$Tzt){for(var C$Tze,C$Tzi,C$Tzn=this._viewportRect,C$Tzr=this._scaleX,C$Tzs=this._scaleY,C$Tzo=0;C$Tzo<C$Tzt.length;C$Tzo++)C$Tze=(C$Tzi=C$Tzt[C$Tzo])._point,C$Tzi=C$Tzi._prevPoint,C$Tze.x=(C$Tze.x-C$Tzn.x)/C$Tzr,C$Tze.y=(C$Tze.y-C$Tzn.y)/C$Tzs,C$Tzi.x=(C$Tzi.x-C$Tzn.x)/C$Tzr,C$Tzi.y=(C$Tzi.y-C$Tzn.y)/C$Tzs;}}),cc.ContainerStrategy=cc.Class({name:H[1522],preApply:function(C$Tzt){},apply:function(C$Tzt,C$Tze){},postApply:function(C$Tzt){},_setupContainer:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=cc.game.canvas,C$Tzr=(this._setupStyle(C$Tzt,C$Tze,C$Tzi),C$Tzt._devicePixelRatio=1);C$Tzt.isRetinaEnabled()&&(C$Tzr=C$Tzt._devicePixelRatio=Math.min(C$Tzt._maxPixelRatio,window.devicePixelRatio||1)),C$Tzn.width=C$Tze*C$Tzr,C$Tzn.height=C$Tzi*C$Tzr;},_setupStyle:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=cc.game.canvas,C$Tzr=cc.game.container;cc.sys.os===cc.sys.OS_ANDROID&&(document.body.style.width=(C$Tzt._isRotated?C$Tzi:C$Tze)+H[985],document.body.style.height=(C$Tzt._isRotated?C$Tze:C$Tzi)+H[985]),C$Tzr.style.width=C$Tzn.style.width=C$Tze+H[985],C$Tzr.style.height=C$Tzn.style.height=C$Tzi+H[985];},_fixContainer:function(){document.body.insertBefore(cc.game.container,document.body.firstChild);var C$Tzt=document.body.style,C$Tzt=(C$Tzt.width=window.innerWidth+H[985],C$Tzt.height=window.innerHeight+H[985],C$Tzt.overflow=H[641],cc.game.container.style);C$Tzt.position=H[1523],C$Tzt.left=C$Tzt.top=H[586],document.body.scrollTop=0;}}),cc.ContentStrategy=cc.Class({name:H[1524],ctor:function(){this._result={scale:[1,1],viewport:null};},_buildResult:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){Math.abs(C$Tzt-C$Tzi)<2&&(C$Tzi=C$Tzt),Math.abs(C$Tze-C$Tzn)<2&&(C$Tzn=C$Tze);C$Tzt=cc.rect((C$Tzt-C$Tzi)/2,(C$Tze-C$Tzn)/2,C$Tzi,C$Tzn);return cc.game.renderType,cc.game.RENDER_TYPE_CANVAS,this._result.scale=[C$Tzr,C$Tzs],this._result.viewport=C$Tzt,this._result;},preApply:function(C$Tzt){},apply:function(C$Tzt,C$Tze){return{scale:[1,1]};},postApply:function(C$Tzt){}}),C$Tzt=cc.Class({name:H[1525],extends:cc.ContainerStrategy,apply:function(C$Tzt){var C$Tze=C$Tzt._frameSize.height,C$Tzi=cc.game.container.style;this._setupContainer(C$Tzt,C$Tzt._frameSize.width,C$Tzt._frameSize.height),C$Tzt._isRotated?C$Tzi.margin=H[1526]+C$Tze+H[985]:C$Tzi.margin=H[586],C$Tzi.padding=H[586];}}),C$Tzs=cc.Class({name:H[1527],extends:cc.ContainerStrategy,apply:function(C$Tzt,C$Tze){var C$Tzi=C$Tzt._frameSize.width,C$Tzn=C$Tzt._frameSize.height,C$Tzr=cc.game.container.style,C$Tzs=C$Tze.width,C$Tze=C$Tze.height,C$Tzo=C$Tzi/C$Tzs,C$Tza=C$Tzn/C$Tze,C$Tze=C$Tzo<C$Tza?(C$Tzc=C$Tzi,C$Tze*C$Tzo):(C$Tzc=C$Tzs*C$Tza,C$Tzn),C$Tzo=Math.round((C$Tzi-C$Tzc)/2),C$Tzs=Math.round((C$Tzn-C$Tze)/2),C$Tzc=C$Tzi-2*C$Tzo;this._setupContainer(C$Tzt,C$Tzc,C$Tze=C$Tzn-2*C$Tzs),C$Tzt._isRotated?C$Tzr.margin=H[1526]+C$Tzn+H[985]:C$Tzr.margin=H[586],C$Tzr.paddingLeft=C$Tzo+H[985],C$Tzr.paddingRight=C$Tzo+H[985],C$Tzr.paddingTop=C$Tzs+H[985],C$Tzr.paddingBottom=C$Tzs+H[985];}}),cc.Class({name:H[1528],extends:C$Tzt,preApply:function(C$Tzt){this._super(C$Tzt),cc.game.frame=document.documentElement;},apply:function(C$Tzt){this._super(C$Tzt),this._fixContainer();}}),cc.Class({name:H[1529],extends:C$Tzs,preApply:function(C$Tzt){this._super(C$Tzt),cc.game.frame=document.documentElement;},apply:function(C$Tzt,C$Tze){this._super(C$Tzt,C$Tze),this._fixContainer();}}),C$Tzo=cc.Class({name:H[1530],extends:cc.ContainerStrategy,apply:function(C$Tzt){this._setupContainer(C$Tzt,cc.game.canvas.width,cc.game.canvas.height);}}),(C$Tza=(H[534]==typeof window?global:window).__globalAdapter)&&(C$Tza.adaptContainerStrategy&&C$Tza.adaptContainerStrategy(cc.ContainerStrategy.prototype),C$Tza.adaptView&&C$Tza.adaptView(C$Tzn.prototype)),cc.ContainerStrategy.EQUAL_TO_FRAME=new C$Tzt(),cc.ContainerStrategy.PROPORTION_TO_FRAME=new C$Tzs(),cc.ContainerStrategy.ORIGINAL_CONTAINER=new C$Tzo(),C$Tza=cc.Class({name:H[1531],extends:cc.ContentStrategy,apply:function(C$Tzt,C$Tze){var C$Tzi=cc.game.canvas.width,C$Tzn=cc.game.canvas.height,C$Tzr=C$Tzi/C$Tze.width,C$Tze=C$Tzn/C$Tze.height;return this._buildResult(C$Tzi,C$Tzn,C$Tzi,C$Tzn,C$Tzr,C$Tze);}}),C$Tzt=cc.Class({name:H[1532],extends:cc.ContentStrategy,apply:function(C$Tzt,C$Tze){var C$Tzi,C$Tzn=cc.game.canvas.width,C$Tzr=cc.game.canvas.height,C$Tzs=C$Tze.width,C$Tze=C$Tze.height,C$Tzo=C$Tzn/C$Tzs,C$Tza=C$Tzr/C$Tze,C$Tzc=0,C$Tze=C$Tzo<C$Tza?(C$Tzi=C$Tzn,C$Tze*(C$Tzc=C$Tzo)):(C$Tzi=C$Tzs*(C$Tzc=C$Tza),C$Tzr);return this._buildResult(C$Tzn,C$Tzr,C$Tzi,C$Tze,C$Tzc,C$Tzc);}}),C$Tzs=cc.Class({name:H[1533],extends:cc.ContentStrategy,apply:function(C$Tzt,C$Tze){var C$Tzi,C$Tzn,C$Tzr=cc.game.canvas.width,C$Tzs=cc.game.canvas.height,C$Tzo=C$Tze.width,C$Tze=C$Tze.height,C$Tza=C$Tzr/C$Tzo,C$Tzc=C$Tzs/C$Tze,C$Tzo=C$Tza<C$Tzc?(C$Tzn=C$Tzo*(C$Tzi=C$Tzc),C$Tzs):(C$Tzn=C$Tzr,C$Tze*(C$Tzi=C$Tza));return this._buildResult(C$Tzr,C$Tzs,C$Tzn,C$Tzo,C$Tzi,C$Tzi);}}),C$Tzo=cc.Class({name:H[1534],extends:cc.ContentStrategy,apply:function(C$Tzt,C$Tze){var C$Tzi=cc.game.canvas.width,C$Tzn=cc.game.canvas.height,C$Tze=C$Tzn/C$Tze.height;return this._buildResult(C$Tzi,C$Tzn,C$Tzi,C$Tzn,C$Tze,C$Tze);}}),C$Tzc=cc.Class({name:H[1535],extends:cc.ContentStrategy,apply:function(C$Tzt,C$Tze){var C$Tzi=cc.game.canvas.width,C$Tzn=cc.game.canvas.height,C$Tze=C$Tzi/C$Tze.width;return this._buildResult(C$Tzi,C$Tzn,C$Tzi,C$Tzn,C$Tze,C$Tze);}}),cc.ContentStrategy.EXACT_FIT=new C$Tza(),cc.ContentStrategy.SHOW_ALL=new C$Tzt(),cc.ContentStrategy.NO_BORDER=new C$Tzs(),cc.ContentStrategy.FIXED_HEIGHT=new C$Tzo(),cc.ContentStrategy.FIXED_WIDTH=new C$Tzc(),cc.ResolutionPolicy=cc.Class({name:H[1536],ctor:function(C$Tzt,C$Tze){this._containerStrategy=null,this._contentStrategy=null,this.setContainerStrategy(C$Tzt),this.setContentStrategy(C$Tze);},preApply:function(C$Tzt){this._containerStrategy.preApply(C$Tzt),this._contentStrategy.preApply(C$Tzt);},apply:function(C$Tzt,C$Tze){return this._containerStrategy.apply(C$Tzt,C$Tze),this._contentStrategy.apply(C$Tzt,C$Tze);},postApply:function(C$Tzt){this._containerStrategy.postApply(C$Tzt),this._contentStrategy.postApply(C$Tzt);},setContainerStrategy:function(C$Tzt){C$Tzt instanceof cc.ContainerStrategy&&(this._containerStrategy=C$Tzt);},setContentStrategy:function(C$Tzt){C$Tzt instanceof cc.ContentStrategy&&(this._contentStrategy=C$Tzt);}}),C$Tzu.get(cc.ResolutionPolicy.prototype,H[1537],function(){return cc.v2(cc.game.canvas.width,cc.game.canvas.height);}),cc.ResolutionPolicy.EXACT_FIT=0,cc.ResolutionPolicy.NO_BORDER=1,cc.ResolutionPolicy.SHOW_ALL=2,cc.ResolutionPolicy.FIXED_HEIGHT=3,cc.ResolutionPolicy.FIXED_WIDTH=4,cc.ResolutionPolicy.UNKNOWN=5,cc.view=new C$Tzn(),cc.winSize=cc.size(),C$Tze.exports=cc.view;},{"../event/event-target":115,"../platform/CCClass":189,"../platform/js":209,"../renderer":220}],200:[function(C$Tzt,C$Tze,C$Tzi){"use strict";cc.visibleRect={topLeft:cc.v2(0,0),topRight:cc.v2(0,0),top:cc.v2(0,0),bottomLeft:cc.v2(0,0),bottomRight:cc.v2(0,0),bottom:cc.v2(0,0),center:cc.v2(0,0),left:cc.v2(0,0),right:cc.v2(0,0),width:0,height:0,init:function(C$Tzt){var C$Tze=this.width=C$Tzt.width,C$Tzi=this.height=C$Tzt.height,C$Tzn=C$Tzt.x,C$Tzt=C$Tzt.y,C$Tzr=C$Tzt+C$Tzi,C$Tzs=C$Tzn+C$Tze;this.topLeft.x=C$Tzn,this.topLeft.y=C$Tzr,this.topRight.x=C$Tzs,this.topRight.y=C$Tzr,this.top.x=C$Tzn+C$Tze/2,this.top.y=C$Tzr,this.bottomLeft.x=C$Tzn,this.bottomLeft.y=C$Tzt,this.bottomRight.x=C$Tzs,this.bottomRight.y=C$Tzt,this.bottom.x=C$Tzn+C$Tze/2,this.bottom.y=C$Tzt,this.center.x=C$Tzn+C$Tze/2,this.center.y=C$Tzt+C$Tzi/2,this.left.x=C$Tzn,this.left.y=C$Tzt+C$Tzi/2,this.right.x=C$Tzs,this.right.y=C$Tzt+C$Tzi/2;}};},{}],201:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1320]);C$Tzt(H[800]).isPlainEmptyObj_DEV;function C$Tzs(C$Tzt,C$Tze){C$Tze=C$Tze?Object.create(C$Tze):{};return C$Tzn.value(C$Tzt,H[1538],C$Tze),C$Tze;}function C$Tzr(C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr=C$Tza(C$Tzt),C$Tzs=C$Tze+"$_$",C$Tzo={};for(C$Tzn in C$Tzr)C$Tzn.startsWith(C$Tzs)&&(C$Tzo[C$Tzn.slice(C$Tzs.length)]=C$Tzr[C$Tzn]);return C$Tzo;}function C$Tza(C$Tzt){return C$Tzt.hasOwnProperty(H[1538])&&C$Tzt.__attrs__||function(C$Tzt){var C$Tze;if(H[704]!=typeof C$Tzt)return C$Tzs(C$Tzt,C$Tza(C$Tzt.constructor));for(var C$Tzi=cc.Class.getInheritanceChain(C$Tzt),C$Tzn=C$Tzi.length-1;0<=C$Tzn;C$Tzn--){var C$Tzr=C$Tzi[C$Tzn];C$Tzr.hasOwnProperty(H[1538])&&C$Tzr.__attrs__||C$Tzs(C$Tzr,(C$Tze=C$Tzi[C$Tzn+1])&&C$Tze.__attrs__);}return C$Tzs(C$Tzt,(C$Tze=C$Tzi[0])&&C$Tze.__attrs__),C$Tzt.__attrs__;}(C$Tzt);}function C$Tzo(C$Tzt,C$Tze){this.name=C$Tzt,this.default=C$Tze;}C$Tzo.prototype.toString=function(){return this.name;},cc.Integer=new C$Tzo(H[1539],0),cc.Float=new C$Tzo(H[1540],0),cc.Boolean=new C$Tzo(H[1348],!1),cc.String=new C$Tzo(H[1349],""),C$Tze.exports={PrimitiveType:C$Tzo,attr:C$Tzr,getClassAttrs:C$Tza,setClassAttr:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tza(C$Tzt)[C$Tze+"$_$"+C$Tzi]=C$Tzn;},DELIMETER:"$_$",getTypeChecker_ET:!1,getObjTypeChecker_ET:!1,ScriptUuid:{}};},{"./CCClass":189,"./js":209,"./utils":213}],202:[function(C$Tzt,C$Tze,C$Tzh){"use strict";var C$Tzi=C$Tzt(H[1320]),C$Tza=C$Tzi.array.fastRemoveAt;function C$Tzn(){}function C$Tzr(){this.callback=C$Tzn,this.target=void 0,this.once=!1;}C$Tzr.prototype.set=function(C$Tzt,C$Tze,C$Tzi){this.callback=C$Tzt,this.target=C$Tze,this.once=!!C$Tzi;};var C$Tzc=new C$Tzi.Pool(function(C$Tzt){return C$Tzt.callback=C$Tzn,C$Tzt.target=void 0,!(C$Tzt.once=!1);},32);function C$Tzs(){this.callbackInfos=[],this.isInvoking=!1,this.containCanceled=!1;}C$Tzc.get=function(){return this._get()||new C$Tzr();};var C$Tzt=C$Tzs.prototype,C$Tzl=(C$Tzt.removeByCallback=function(C$Tzt){for(var C$Tze=0;C$Tze<this.callbackInfos.length;++C$Tze){var C$Tzi=this.callbackInfos[C$Tze];C$Tzi&&C$Tzi.callback===C$Tzt&&(C$Tzc.put(C$Tzi),C$Tza(this.callbackInfos,C$Tze),--C$Tze);}},C$Tzt.removeByTarget=function(C$Tzt){for(var C$Tze=0;C$Tze<this.callbackInfos.length;++C$Tze){var C$Tzi=this.callbackInfos[C$Tze];C$Tzi&&C$Tzi.target===C$Tzt&&(C$Tzc.put(C$Tzi),C$Tza(this.callbackInfos,C$Tze),--C$Tze);}},C$Tzt.cancel=function(C$Tzt){var C$Tze=this.callbackInfos[C$Tzt];C$Tze&&(C$Tzc.put(C$Tze),this.callbackInfos[C$Tzt]=null),this.containCanceled=!0;},C$Tzt.cancelAll=function(){for(var C$Tzt=0;C$Tzt<this.callbackInfos.length;C$Tzt++){var C$Tze=this.callbackInfos[C$Tzt];C$Tze&&(C$Tzc.put(C$Tze),this.callbackInfos[C$Tzt]=null);}this.containCanceled=!0;},C$Tzt.purgeCanceled=function(){for(var C$Tzt=this.callbackInfos.length-1;0<=C$Tzt;--C$Tzt)this.callbackInfos[C$Tzt]||C$Tza(this.callbackInfos,C$Tzt);this.containCanceled=!1;},C$Tzt.clear=function(){this.cancelAll(),this.callbackInfos.length=0,this.isInvoking=!1,this.containCanceled=!1;},new C$Tzi.Pool(function(C$Tzt){return C$Tzt.callbackInfos=[],C$Tzt.isInvoking=!1,!(C$Tzt.containCanceled=!1);},16));function C$Tzo(){this._callbackTable=C$Tzi.createMap(!0);}C$Tzl.get=function(){return this._get()||new C$Tzs();},(C$Tzt=C$Tzo.prototype).on=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=(C$Tzr=this._callbackTable[C$Tzt])||(this._callbackTable[C$Tzt]=C$Tzl.get()),C$Tzt=C$Tzc.get();C$Tzt.set(C$Tze,C$Tzi,C$Tzn),C$Tzr.callbackInfos.push(C$Tzt);},C$Tzt.hasEventListener=function(C$Tzt,C$Tze,C$Tzi){C$Tzt=this._callbackTable[C$Tzt];if(!C$Tzt)return!1;var C$Tzn=C$Tzt.callbackInfos;if(!C$Tze){if(C$Tzt.isInvoking){for(var C$Tzr=0;C$Tzr<C$Tzn.length;++C$Tzr)if(C$Tzn[C$Tzr])return!0;return!1;}return 0<C$Tzn.length;}for(var C$Tzs=0;C$Tzs<C$Tzn.length;++C$Tzs){var C$Tzo=C$Tzn[C$Tzs];if(C$Tzo&&C$Tzo.callback===C$Tze&&C$Tzo.target===C$Tzi)return!0;}return!1;},C$Tzt.removeAll=function(C$Tzt){if(H[462]==typeof C$Tzt){var C$Tze=this._callbackTable[C$Tzt];C$Tze&&(C$Tze.isInvoking?C$Tze.cancelAll():(C$Tze.clear(),C$Tzl.put(C$Tze),delete this._callbackTable[C$Tzt]));}else if(C$Tzt)for(var C$Tzi in this._callbackTable){var C$Tzn=this._callbackTable[C$Tzi];if(C$Tzn.isInvoking)for(var C$Tzr=C$Tzn.callbackInfos,C$Tzs=0;C$Tzs<C$Tzr.length;++C$Tzs){var C$Tzo=C$Tzr[C$Tzs];C$Tzo&&C$Tzo.target===C$Tzt&&C$Tzn.cancel(C$Tzs);}else C$Tzn.removeByTarget(C$Tzt);}},C$Tzt.off=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this._callbackTable[C$Tzt];if(C$Tzn)for(var C$Tzr=C$Tzn.callbackInfos,C$Tzs=0;C$Tzs<C$Tzr.length;++C$Tzs){var C$Tzo=C$Tzr[C$Tzs];if(C$Tzo&&C$Tzo.callback===C$Tze&&C$Tzo.target===C$Tzi){C$Tzn.isInvoking?C$Tzn.cancel(C$Tzs):(C$Tza(C$Tzr,C$Tzs),C$Tzc.put(C$Tzo));break;}}},C$Tzt.emit=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzh){var C$Tzs=this._callbackTable[C$Tzt];if(C$Tzs){for(var C$Tzu=!C$Tzs.isInvoking,C$Tz_=(C$Tzs.isInvoking=!0,C$Tzs.callbackInfos),C$Tzo=0,C$Tzd=C$Tz_.length;C$Tzo<C$Tzd;++C$Tzo){var C$Tza,C$Tzc,C$Tzl=C$Tz_[C$Tzo];C$Tzl&&(C$Tza=C$Tzl.target,C$Tzc=C$Tzl.callback,C$Tzl.once&&this.off(C$Tzt,C$Tzc,C$Tza),C$Tza?C$Tzc.call(C$Tza,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzh):C$Tzc(C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzh));}C$Tzu&&(C$Tzs.isInvoking=!1,C$Tzs.containCanceled&&C$Tzs.purgeCanceled());}},C$Tze.exports=C$Tzo;},{"./js":209}],203:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tze.exports={flattenCodeArray:function(C$Tzt){var C$Tze=[];return function C$Tzt(C$Tze,C$Tzi){for(var C$Tzn=0;C$Tzn<C$Tzi.length;C$Tzn++){var C$Tzr=C$Tzi[C$Tzn];Array.isArray(C$Tzr)?C$Tzt(C$Tze,C$Tzr):C$Tze.push(C$Tzr);}}(C$Tze,C$Tzt),C$Tze.join("");}};},{}],204:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tza(){this.uuidList=[],this.uuidObjList=[],this.uuidPropList=[],this._stillUseUrl=C$TzS.createMap(!0);}var C$Tzf,C$TzS=C$Tzt(H[1320]),C$TzT=C$Tzt(H[1330]),C$Tzw=C$Tzt(H[1359]),C$TzE=C$Tzt(H[849]),C$Tzc=(C$Tza.prototype.reset=function(){this.uuidList.length=0,this.uuidObjList.length=0,this.uuidPropList.length=0,C$TzS.clear(this._stillUseUrl);},C$Tza.prototype.push=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzn&&(this._stillUseUrl[this.uuidList.length]=!0),this.uuidList.push(C$Tzi),this.uuidObjList.push(C$Tzt),this.uuidPropList.push(C$Tze);},(C$Tza.pool=new C$TzS.Pool(function(C$Tzt){C$Tzt.reset();},10)).get=function(){return this._get()||new C$Tza();},(C$Tzt=C$Tzo.prototype).deserialize=function(C$Tzt){if(Array.isArray(C$Tzt)){var C$Tze=C$Tzt,C$Tzi=C$Tze.length;this.deserializedList.length=C$Tzi;for(var C$Tzn=0;C$Tzn<C$Tzi;C$Tzn++)C$Tze[C$Tzn]&&(this.deserializedList[C$Tzn]=this._deserializeObject(C$Tze[C$Tzn],!1));this.deserializedData=0<C$Tzi?this.deserializedList[0]:[];}else this.deserializedList.length=1,this.deserializedData=C$Tzt?this._deserializeObject(C$Tzt,!1):null,this.deserializedList[0]=this.deserializedData;for(var C$Tzr,C$Tzs,C$Tzt=this,C$Tzo=C$Tzt.deserializedList,C$Tza=C$Tzt._idPropList,C$Tzc=C$Tzt._idList,C$Tzh=C$Tzt._idObjList,C$Tzl=(C$Tzt._classFinder&&C$Tzt._classFinder.onDereferenced,0);C$Tzl<C$Tzc.length;C$Tzl++)C$Tzr=C$Tza[C$Tzl],C$Tzs=C$Tzc[C$Tzl],C$Tzh[C$Tzl][C$Tzr]=C$Tzo[C$Tzs];return this.deserializedData;},C$Tzt._deserializeObject=function(C$Tzt,C$Tzh,C$Tzu,C$Tze,C$Tz_){var C$Tzi,C$Tzn=null,C$Tzr=null,C$Tzs=C$Tzt.__type__;if(H[1541]===C$Tzs){for(var C$Tzd=C$Tzt.array,C$Tzn=new window[C$Tzt.ctor](C$Tzd.length),C$Tzo=0;C$Tzo<C$Tzd.length;++C$Tzo)C$Tzn[C$Tzo]=C$Tzd[C$Tzo];return C$Tzn;}if(C$Tzs){var C$Tza,C$Tzr=this._classFinder(C$Tzs,C$Tzt,C$Tze,C$Tz_);if(!C$Tzr)return this._classFinder===C$TzS._getClassById&&cc.deserialize.reportMissingClass(C$Tzs),null;if((C$Tzn=new C$Tzr())._deserialize)return C$Tzn._deserialize(C$Tzt.content,this),C$Tzn;if(cc.Class._isCCClass(C$Tzr)){C$Tze=this;C$Tz_=C$Tzn;C$Tzs=C$Tzt;var C$Tzc=C$Tzr;C$Tzc.hasOwnProperty(H[1542])?C$Tza=C$Tzc.__deserialize__:(C$Tza=C$Tzf(C$Tze,C$Tzc),C$TzS.value(C$Tzc,H[1542],C$Tza,!0));C$Tza(C$Tze,C$Tz_,C$Tzs,C$Tzc,C$Tzu);}else this._deserializeTypedObject(C$Tzn,C$Tzt,C$Tzr);}else if(Array.isArray(C$Tzt)){C$Tzn=new Array(C$Tzt.length);for(var C$Tzl=0;C$Tzl<C$Tzt.length;C$Tzl++)H[802]==typeof(C$Tzi=C$Tzt[C$Tzl])&&C$Tzi?this._deserializeObjField(C$Tzn,C$Tzi,""+C$Tzl,null,C$Tzh):C$Tzn[C$Tzl]=C$Tzi;}else this._deserializePrimitiveObject(C$Tzn={},C$Tzt);return C$Tzn;},C$Tzt._deserializeObjField=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs,C$Tzo=C$Tze.__id__;void 0===C$Tzo?(C$Tzs=C$Tze.__uuid__)?this.result.push(C$Tzt,C$Tzi,C$Tzs,C$Tzr):C$Tzt[C$Tzi]=this._deserializeObject(C$Tze,C$Tzr):(C$Tzs=this.deserializedList[C$Tzo])?C$Tzt[C$Tzi]=C$Tzs:(this._idList.push(C$Tzo),this._idObjList.push(C$Tzt),this._idPropList.push(C$Tzi));},C$Tzt._deserializePrimitiveObject=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn;for(C$Tzi in C$Tze)C$Tze.hasOwnProperty(C$Tzi)&&(H[802]!=typeof(C$Tzn=C$Tze[C$Tzi])?H[1543]!==C$Tzi&&(C$Tzt[C$Tzi]=C$Tzn):C$Tzn?this._deserializeObjField(C$Tzt,C$Tzn,C$Tzi):C$Tzt[C$Tzi]=null);},C$Tzt._deserializeTypedObject=function(C$Tzt,C$Tze,C$Tzi){if(C$Tzi===cc.Vec2)return C$Tzt.x=C$Tze.x||0,void(C$Tzt.y=C$Tze.y||0);if(C$Tzi===cc.Vec3)return C$Tzt.x=C$Tze.x||0,C$Tzt.y=C$Tze.y||0,void(C$Tzt.z=C$Tze.z||0);var C$Tzn;if(C$Tzi===cc.Color)return C$Tzt.r=C$Tze.r||0,C$Tzt.g=C$Tze.g||0,C$Tzt.b=C$Tze.b||0,C$Tzn=C$Tze.a,void(C$Tzt.a=void 0===C$Tzn?255:C$Tzn);if(C$Tzi===cc.Size)return C$Tzt.width=C$Tze.width||0,void(C$Tzt.height=C$Tze.height||0);for(var C$Tzr=C$TzT.DELIMETER+H[1099],C$Tzs=C$TzT.getClassAttrs(C$Tzi),C$Tzo=C$Tzi.__props__||Object.keys(C$Tzt),C$Tza=0;C$Tza<C$Tzo.length;C$Tza++){var C$Tzc=C$Tzo[C$Tza],C$Tzl=C$Tze[C$Tzc];H[802]!=typeof(C$Tzl=void 0!==C$Tzl&&C$Tze.hasOwnProperty(C$Tzc)?C$Tzl:C$Tzw.getDefault(C$Tzs[C$Tzc+C$Tzr]))?C$Tzt[C$Tzc]=C$Tzl:C$Tzl?this._deserializeObjField(C$Tzt,C$Tzl,C$Tzc):C$Tzt[C$Tzc]=null;}},C$Tzf=function(C$Tzs,C$Tzt){for(var C$Tzm,C$Tzu=C$TzE.BUILTIN_CLASSID_RE.test(C$TzS._getClassId(C$Tzt)),C$Tzy=cc.js.isChildClassOf(C$Tzt,cc._BaseNode)||cc.js.isChildClassOf(C$Tzt,cc.Component),C$Tz_=[],C$Tzd=C$Tz_,C$Tzf=[],C$Tzp=C$Tzf,C$Tzg=[],C$Tzv=[],C$Tzo=C$Tzt.__values__,C$Tze=(C$Tzm="_$erialized"===C$Tzo[C$Tzo.length-1],C$TzT.getClassAttrs(C$Tzt)),C$Tza=C$TzT.DELIMETER+H[1102],C$Tzc=C$TzT.DELIMETER+H[1099],C$Tzl=C$TzT.DELIMETER+H[1355],C$Tzh=C$TzT.DELIMETER+H[1356],C$Tzx=0;C$Tzx<C$Tzo.length;C$Tzx++){var C$Tzi,C$Tzn=C$Tzo[C$Tzx],C$Tzr=C$Tzn,C$Tzb=(C$Tze[C$Tzn+C$Tzh]&&(C$Tzr=C$Tze[C$Tzn+C$Tzh]),C$Tze[C$Tzn+C$Tzl]),C$TzA=C$Tzw.getDefault(C$Tze[C$Tzn+C$Tzc]),C$TzC=!1;C$Tzu&&(C$Tzi=C$Tze[C$Tzn+C$Tza],C$TzC=void 0===C$TzA&&C$Tzi?C$Tzi instanceof C$TzT.PrimitiveType:H[462]==(C$Tzi=typeof C$TzA)&&!C$Tzb||H[463]==C$Tzi||H[635]==C$Tzi),C$Tzu&&C$TzC?(C$Tzr!==C$Tzn&&C$Tzd===C$Tz_&&(C$Tzd=C$Tz_.slice()),C$Tz_.push(C$Tzn),C$Tzd!==C$Tz_&&C$Tzd.push(C$Tzr)):(C$Tzr!==C$Tzn&&C$Tzp===C$Tzf&&(C$Tzp=C$Tzf.slice()),C$Tzf.push(C$Tzn),C$Tzp!==C$Tzf&&C$Tzp.push(C$Tzr),C$Tzg.push(C$Tzb),C$Tzv.push(C$TzA instanceof cc.ValueType&&C$TzA.constructor));}return function(C$Tzt,C$Tze,C$Tzi,C$Tzl,C$Tzh){for(var C$Tzn=0;C$Tzn<C$Tz_.length;++C$Tzn){var C$Tzr=C$Tzi[C$Tzd[C$Tzn]];void 0!==C$Tzr&&(C$Tze[C$Tz_[C$Tzn]]=C$Tzr);}for(var C$Tzs=0;C$Tzs<C$Tzf.length;++C$Tzs){var C$Tzo,C$Tza=C$Tzf[C$Tzs],C$Tzc=C$Tzi[C$Tzp[C$Tzs]];void 0!==C$Tzc&&(C$Tzu||H[802]==typeof C$Tzc?(C$Tzo=C$Tzv[C$Tzs])?C$Tzu||C$Tzc?C$Tzt._deserializeTypedObject(C$Tze[C$Tza],C$Tzc,C$Tzo):C$Tze[C$Tza]=null:C$Tzc?C$Tzt._deserializeObjField(C$Tze,C$Tzc,C$Tza,null,C$Tzg[C$Tzs]):C$Tze[C$Tza]=null:C$Tze[C$Tza]=C$Tzc);}C$Tzy&&C$Tzi._id&&(C$Tze._id=C$Tzi._id),C$Tzm&&(C$Tze._$erialized=JSON.parse(JSON.stringify(C$Tzi)),C$Tzt._deserializePrimitiveObject(C$Tze._$erialized,C$Tzi));};},(C$Tzo.pool=new C$TzS.Pool(function(C$Tzt){C$Tzt.result=null,C$Tzt.customEnv=null,C$Tzt.deserializedList.length=0,C$Tzt.deserializedData=null,C$Tzt._classFinder=null,C$Tzt._idList.length=0,C$Tzt._idObjList.length=0,C$Tzt._idPropList.length=0;},1)).get=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs=this._get();return C$Tzs?(C$Tzs.result=C$Tzt,C$Tzs.customEnv=C$Tzn,C$Tzs._classFinder=C$Tzi,C$Tzs):new C$Tzo(C$Tzt,0,C$Tzi,C$Tzn);},C$Tzo);function C$Tzo(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){this.result=C$Tzt,this.customEnv=C$Tzn,this.deserializedList=[],this.deserializedData=null,this._classFinder=C$Tzi,this._idList=[],this._idObjList=[],this._idPropList=[];}cc.deserialize=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=(C$Tzi=C$Tzi||{}).classFinder||C$TzS._getClassById,C$Tzr=C$Tzi.createAssetRefs||cc.sys.platform===cc.sys.EDITOR_CORE,C$Tzs=C$Tzi.customEnv,C$Tzi=C$Tzi.ignoreEditorOnly,C$Tzo=(H[462]==typeof C$Tzt&&(C$Tzt=JSON.parse(C$Tzt)),!C$Tze),C$Tzn=(C$Tze=C$Tze||C$Tza.pool.get(),C$Tzc.pool.get(C$Tze,!1,C$Tzn,C$Tzs,C$Tzi)),C$Tzs=(cc.game._isCloning=!0,C$Tzn.deserialize(C$Tzt));return cc.game._isCloning=!1,C$Tzc.pool.put(C$Tzn),C$Tzr&&C$Tze.assignAssetsBy(Editor.serialize.asAsset),C$Tzo&&C$Tza.pool.put(C$Tze),C$Tzs;},cc.deserialize.Details=C$Tza,cc.deserialize.reportMissingClass=function(C$Tzt){cc.warnID(5302,C$Tzt);};},{"../utils/misc":264,"./CCClass":189,"./attribute":201,"./js":209}],205:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzt){this.id=0|998*Math.random(),this.prefix=C$Tzt?C$Tzt+".":"";}C$Tzn.prototype.getNewId=function(){return this.prefix+ ++this.id;},C$Tzn.global=new C$Tzn(H[1544]),C$Tze.exports=C$Tzn;},{}],206:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[1320]),C$Tzt(H[1359]),C$Tzt(H[1545]),C$Tzt(H[1329]),C$Tzt(H[1546]),C$Tzt(H[1547]),C$Tzt(H[1548]),C$Tzt(H[1549]),C$Tzt(H[1550]),C$Tzt(H[1551]),C$Tzt(H[1332]),C$Tzt(H[1368]),C$Tzt(H[1367]),C$Tzt(H[1552]),C$Tzt(H[1553]);},{"./CCAssetLibrary":188,"./CCClass":189,"./CCClassDecorator":190,"./CCEnum":191,"./CCMacro":194,"./CCObject":195,"./CCSys":198,"./CCVisibleRect":200,"./callbacks-invoker":202,"./deserialize":204,"./instantiate":208,"./instantiate-jit":207,"./js":209,"./requiring-frame":211,"./url":212}],207:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzo=C$Tzt(H[1546]),C$Tzn=C$Tzo.Flags.Destroyed,C$Tzf=C$Tzo.Flags.PersistentMask,C$Tzh=C$Tzt(H[1330]),C$Tzs=C$Tzt(H[1320]),C$Tzu=C$Tzt(H[1359]),C$Tzp=C$Tzt(H[1554]),C$Tzm=C$Tzh.DELIMETER+H[1099],C$Tzr=C$Tzu.IDENTIFIER_RE,C$Tzy=C$Tzu.escapeForJS,C$Tzg={"cc.Node":H[686],"cc.Sprite":H[940],"cc.Label":H[879],"cc.Button":H[857],"cc.Widget":H[956],"cc.Animation":H[847],"cc.ClickEvent":!1,"cc.PrefabInfo":!1};try{Float32Array.name||(Float32Array.name=H[1555]),Float64Array.name||(Float64Array.name=H[1556]),Int8Array.name||(Int8Array.name=H[1557]),Int16Array.name||(Int16Array.name=H[1558]),Int32Array.name||(Int32Array.name=H[1559]),Uint8Array.name||(Uint8Array.name=H[1560]),Uint16Array.name||(Uint16Array.name=H[1561]),Uint32Array.name||(Uint32Array.name=H[1562]);}catch(C$Tzt){}function C$Tza(C$Tzt,C$Tze){this.varName=C$Tzt,this.expression=C$Tze;}function C$Tzc(C$Tzt,C$Tze){return C$Tze instanceof C$Tza?new C$Tza(C$Tze.varName,C$Tzt+C$Tze.expression):C$Tzt+C$Tze;}function C$Tzl(C$Tzt,C$Tze,C$Tzi){Array.isArray(C$Tzi)?(C$Tzi[0]=C$Tzc(C$Tze,C$Tzi[0]),C$Tzt.push(C$Tzi)):C$Tzt.push(C$Tzc(C$Tze,C$Tzi)+";");}function C$Tz_(C$Tzt){this._exps=[],this._targetExp=C$Tzt;}function C$Tzv(C$Tzt,C$Tze){if(H[704]==typeof C$Tzt)try{C$Tzt=C$Tzt();}catch(C$Tzt){return!1;}if(C$Tzt===C$Tze)return!0;if(C$Tzt&&C$Tze){if(C$Tzt instanceof cc.ValueType&&C$Tzt.equals(C$Tze))return!0;if(Array.isArray(C$Tzt)&&Array.isArray(C$Tze)||C$Tzt.constructor===Object&&C$Tze.constructor===Object)try{return Array.isArray(C$Tzt)&&Array.isArray(C$Tze)&&0===C$Tzt.length&&0===C$Tze.length;}catch(C$Tzt){}}return!1;}function C$Tzd(C$Tzt){return C$Tzr.test(C$Tzt)?"."+C$Tzt:"["+C$Tzy(C$Tzt)+"]";}function C$Tzx(C$Tzt,C$Tze){this.parent=C$Tze,this.objsToClear_iN$t=[],this.codeArray=[],this.objs=[],this.funcs=[],this.funcModuleCache=C$Tzs.createMap(),C$Tzs.mixin(this.funcModuleCache,C$Tzg),this.globalVariables=[],this.globalVariableId=0,this.localVariableId=0,this.codeArray.push(H[1563],H[1564],H[1565],H[1566],H[1567]+this.getFuncModule(C$Tzt.constructor,!0)+H[1568],"}"),C$Tzs.value(C$Tzt,"_iN$t",{globalVar:"R"},!0),this.objsToClear_iN$t.push(C$Tzt),this.enumerateObject(this.codeArray,C$Tzt),0<this.globalVariables.length&&(C$Tzi=H[533]+this.globalVariables.join(",")+";");var C$Tzi,C$Tze=C$Tzp.flattenCodeArray([H[1569],C$Tzi||[],this.codeArray,H[1570],H[1571]]);this.result=Function("O","F",C$Tze)(this.objs,this.funcs);for(var C$Tzn=0,C$Tzr=this.objsToClear_iN$t.length;C$Tzn<C$Tzr;++C$Tzn)this.objsToClear_iN$t[C$Tzn]._iN$t=null;this.objsToClear_iN$t.length=0;}C$Tza.prototype.toString=function(){return H[533]+this.varName+"="+this.expression+";";},C$Tz_.prototype.append=function(C$Tzt,C$Tze){this._exps.push([C$Tzt,C$Tze]);},C$Tz_.prototype.writeCode=function(C$Tzt){var C$Tze;if(1<this._exps.length)C$Tzt.push(H[1572]+this._targetExp+";"),C$Tze="t";else{if(1!==this._exps.length)return;C$Tze=this._targetExp;}for(var C$Tzi=0;C$Tzi<this._exps.length;C$Tzi++){var C$Tzn=this._exps[C$Tzi];C$Tzl(C$Tzt,C$Tze+C$Tzd(C$Tzn[0])+"=",C$Tzn[1]);}},(C$Tz_.pool=new C$Tzs.Pool(function(C$Tzt){C$Tzt._exps.length=0,C$Tzt._targetExp=null;},1)).get=function(C$Tzt){var C$Tze=this._get()||new C$Tz_();return C$Tze._targetExp=C$Tzt,C$Tze;};C$Tzt=C$Tzx.prototype;C$Tzt.getFuncModule=function(C$Tzt,C$Tze){var C$Tzi=C$Tzs.getClassName(C$Tzt);if(C$Tzi){var C$Tzn=this.funcModuleCache[C$Tzi];if(C$Tzn)return C$Tzn;if(void 0===C$Tzn)if(-1!==C$Tzi.indexOf("."))try{if(C$Tzt===Function(H[1573]+C$Tzi)())return this.funcModuleCache[C$Tzi]=C$Tzi;}catch(C$Tzt){}}C$Tzn=this.funcs.indexOf(C$Tzt),C$Tzn<0&&(C$Tzn=this.funcs.length,this.funcs.push(C$Tzt)),C$Tzt=H[1574]+C$Tzn+"]";return this.funcModuleCache[C$Tzi]=C$Tzt=C$Tze?"("+C$Tzt+")":C$Tzt;},C$Tzt.getObjRef=function(C$Tzt){var C$Tze=this.objs.indexOf(C$Tzt);return C$Tze<0&&(C$Tze=this.objs.length,this.objs.push(C$Tzt)),H[1575]+C$Tze+"]";},C$Tzt.setValueType=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){for(var C$Tzr=C$Tz_.pool.get(C$Tzn),C$Tzs=(C$Tzs=C$Tze.constructor.__props__)||Object.keys(C$Tze),C$Tzo=0;C$Tzo<C$Tzs.length;C$Tzo++){var C$Tza=C$Tzs[C$Tzo],C$Tzc=C$Tzi[C$Tza];C$Tze[C$Tza]!==C$Tzc&&(C$Tzc=this.enumerateField(C$Tzi,C$Tza,C$Tzc),C$Tzr.append(C$Tza,C$Tzc));}C$Tzr.writeCode(C$Tzt),C$Tz_.pool.put(C$Tzr);},C$Tzt.enumerateCCClass=function(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn=C$Tzi.__values__,C$Tzr=C$Tzh.getClassAttrs(C$Tzi),C$Tzs=0;C$Tzs<C$Tzn.length;C$Tzs++){var C$Tzo,C$Tza=C$Tzn[C$Tzs],C$Tzc=C$Tze[C$Tza],C$Tzl=C$Tzr[C$Tza+C$Tzm];C$Tzv(C$Tzl,C$Tzc)||(H[802]==typeof C$Tzc&&C$Tzc instanceof cc.ValueType&&(C$Tzl=C$Tzu.getDefault(C$Tzl))&&C$Tzl.constructor===C$Tzc.constructor?(C$Tzo="o"+C$Tzd(C$Tza),this.setValueType(C$Tzt,C$Tzl,C$Tzc,C$Tzo)):this.setObjProp(C$Tzt,C$Tze,C$Tza,C$Tzc));}},C$Tzt.instantiateArray=function(C$Tzt){if(0===C$Tzt.length)return H[1576];var C$Tze="a"+ ++this.localVariableId,C$Tzi=[new C$Tza(C$Tze,H[1577]+C$Tzt.length+")")];C$Tzs.value(C$Tzt,"_iN$t",{globalVar:"",source:C$Tzi},!0),this.objsToClear_iN$t.push(C$Tzt);for(var C$Tzn=0;C$Tzn<C$Tzt.length;++C$Tzn)C$Tzl(C$Tzi,C$Tze+"["+C$Tzn+H[1578],this.enumerateField(C$Tzt,C$Tzn,C$Tzt[C$Tzn]));return C$Tzi;},C$Tzt.instantiateTypedArray=function(C$Tzt){var C$Tze=C$Tzt.constructor.name||function(C$Tzt){if(C$Tzt===Float32Array)return H[1555];if(C$Tzt===Float64Array)return H[1556];if(C$Tzt===Int8Array)return H[1557];if(C$Tzt===Int16Array)return H[1558];if(C$Tzt===Int32Array)return H[1559];if(C$Tzt===Uint8Array)return H[1560];if(C$Tzt===Uint16Array)return H[1561];if(C$Tzt===Uint32Array)return H[1562];throw new Error(H[1579]+C$Tzt);}(C$Tzt.constructor);if(0===C$Tzt.length)return H[1580]+C$Tze;var C$Tzi="a"+ ++this.localVariableId,C$Tzn=[new C$Tza(C$Tzi,H[1580]+C$Tze+"("+C$Tzt.length+")")];C$Tzt._iN$t={globalVar:"",source:C$Tzn},this.objsToClear_iN$t.push(C$Tzt);for(var C$Tzr=0;C$Tzr<C$Tzt.length;++C$Tzr)0!==C$Tzt[C$Tzr]&&C$Tzl(C$Tzn,C$Tzi+"["+C$Tzr+H[1578],C$Tzt[C$Tzr]);return C$Tzn;},C$Tzt.enumerateField=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr,C$Tzs;return H[802]==typeof C$Tzi&&C$Tzi?(C$Tzn=C$Tzi._iN$t)?((C$Tzr=C$Tzn.globalVar)||(C$Tzr=C$Tzn.globalVar="v"+ ++this.globalVariableId,this.globalVariables.push(C$Tzr),C$Tzs=C$Tzn.source[0],C$Tzn.source[0]=C$Tzc(C$Tzr+"=",C$Tzs)),C$Tzr):ArrayBuffer.isView(C$Tzi)?this.instantiateTypedArray(C$Tzi):Array.isArray(C$Tzi)?this.instantiateArray(C$Tzi):this.instantiateObj(C$Tzi):H[704]==typeof C$Tzi?this.getFuncModule(C$Tzi):H[462]==typeof C$Tzi?C$Tzy(C$Tzi):(H[1581]===C$Tze&&C$Tzt instanceof C$Tzo&&(C$Tzi&=C$Tzf),C$Tzi);},C$Tzt.setObjProp=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzl(C$Tzt,"o"+C$Tzd(C$Tzi)+"=",this.enumerateField(C$Tze,C$Tzi,C$Tzn));},C$Tzt.enumerateObject=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn=C$Tze.constructor;if(cc.Class._isCCClass(C$Tzn))this.enumerateCCClass(C$Tzt,C$Tze,C$Tzn);else for(var C$Tzr in C$Tze)!C$Tze.hasOwnProperty(C$Tzr)||95===C$Tzr.charCodeAt(0)&&95===C$Tzr.charCodeAt(1)&&H[1543]!==C$Tzr||H[802]==typeof(C$Tzi=C$Tze[C$Tzr])&&C$Tzi&&C$Tzi===C$Tze._iN$t||this.setObjProp(C$Tzt,C$Tze,C$Tzr,C$Tzi);},C$Tzt.instantiateObj=function(C$Tzt){if(C$Tzt instanceof cc.ValueType)return C$Tzu.getNewValueTypeCode(C$Tzt);if(C$Tzt instanceof cc.Asset)return this.getObjRef(C$Tzt);if(C$Tzt._objFlags&C$Tzn)return null;var C$Tze,C$Tzi=C$Tzt.constructor;if(cc.Class._isCCClass(C$Tzi)){if(this.parent)if(this.parent instanceof cc.Component){if(C$Tzt instanceof cc._BaseNode||C$Tzt instanceof cc.Component)return this.getObjRef(C$Tzt);}else if(this.parent instanceof cc._BaseNode)if(C$Tzt instanceof cc._BaseNode){if(!C$Tzt.isChildOf(this.parent))return this.getObjRef(C$Tzt);}else if(C$Tzt instanceof cc.Component&&!C$Tzt.node.isChildOf(this.parent))return this.getObjRef(C$Tzt);C$Tze=new C$Tza("o",H[1580]+this.getFuncModule(C$Tzi,!0)+H[1582]);}else if(C$Tzi===Object)C$Tze=new C$Tza("o",H[1583]);else{if(C$Tzi)return this.getObjRef(C$Tzt);C$Tze=new C$Tza("o",H[1584]);}C$Tzi=[C$Tze];return C$Tzs.value(C$Tzt,"_iN$t",{globalVar:"",source:C$Tzi},!0),this.objsToClear_iN$t.push(C$Tzt),this.enumerateObject(C$Tzi,C$Tzt),[H[1585],C$Tzi,H[1586]];},C$Tze.exports={compile:function(C$Tzt){return new C$Tzx(C$Tzt,C$Tzt instanceof cc._BaseNode&&C$Tzt).result;},equalsToDefault:C$Tzv};},{"./CCClass":189,"./CCObject":195,"./attribute":201,"./compiler":203,"./js":209}],208:[function(C$Tzt,C$Tzi,C$Tzr){"use strict";var C$Tzf=C$Tzt(H[1546]),C$Tzp=C$Tzt(H[1587]),C$Tzh=C$Tzf.Flags.Destroyed,C$Tzv=C$Tzf.Flags.PersistentMask,C$Tzs=C$Tzt(H[800]).isDomNode,C$Tzm=C$Tzt(H[1320]);function C$Tze(C$Tzt,C$Tze){if(!C$Tze){if(H[802]!=typeof C$Tzt||Array.isArray(C$Tzt))return null;if(!C$Tzt)return null;if(!cc.isValid(C$Tzt))return null;}var C$Tzi;if(C$Tzt instanceof C$Tzf){if(C$Tzt._instantiate)return cc.game._isCloning=!0,C$Tzi=C$Tzt._instantiate(),cc.game._isCloning=!1,C$Tzi;if(C$Tzt instanceof cc.Asset)return null;}return cc.game._isCloning=!0,C$Tzi=C$Tzn(C$Tzt),cc.game._isCloning=!1,C$Tzi;}var C$Tzy=[];function C$Tzn(C$Tzt,C$Tze){if(Array.isArray(C$Tzt))return null;if(C$Tzs&&C$Tzs(C$Tzt))return null;var C$Tzi;C$Tzi=C$Tzt._iN$t||(C$Tzt.constructor?new C$Tzt.constructor():Object.create(null)),C$Tzl(C$Tzt,C$Tzi,C$Tze);for(var C$Tzn=0,C$Tzr=C$Tzy.length;C$Tzn<C$Tzr;++C$Tzn)C$Tzy[C$Tzn]._iN$t=null;return C$Tzy.length=0,C$Tzi;}function C$Tzl(C$Tzt,C$Tze,C$Tzi){C$Tzm.value(C$Tzt,"_iN$t",C$Tze,!0),C$Tzy.push(C$Tzt);var C$Tzn,C$Tzh=C$Tzt.constructor;if(cc.Class._isCCClass(C$Tzh)){var C$Tzu=C$Tzt;var C$Tzr=C$Tze;var C$Tz_=C$Tzi;for(var C$Tzd=C$Tzh.__values__,C$Tzs=0;C$Tzs<C$Tzd.length;C$Tzs++){var C$Tzo,C$Tza=C$Tzd[C$Tzs],C$Tzc=C$Tzu[C$Tza];H[802]==typeof C$Tzc&&C$Tzc?(C$Tzo=C$Tzr[C$Tza])instanceof C$Tzp&&C$Tzo.constructor===C$Tzc.constructor?C$Tzo.set(C$Tzc):C$Tzr[C$Tza]=C$Tzc._iN$t||C$Tzg(C$Tzc,C$Tz_):C$Tzr[C$Tza]=C$Tzc;}}else for(var C$Tzl in C$Tzt)!C$Tzt.hasOwnProperty(C$Tzl)||95===C$Tzl.charCodeAt(0)&&95===C$Tzl.charCodeAt(1)&&H[1543]!==C$Tzl||(H[802]==typeof(C$Tzn=C$Tzt[C$Tzl])&&C$Tzn?C$Tzn!==C$Tze&&(C$Tze[C$Tzl]=C$Tzn._iN$t||C$Tzg(C$Tzn,C$Tzi)):C$Tze[C$Tzl]=C$Tzn);C$Tzt instanceof C$Tzf&&(C$Tze._objFlags&=C$Tzv);}function C$Tzg(C$Tzt,C$Tze){if(C$Tzt instanceof C$Tzp)return C$Tzt.clone();if(C$Tzt instanceof cc.Asset)return C$Tzt;if(ArrayBuffer.isView(C$Tzt)){var C$Tzi=C$Tzt.length,C$Tzn=new C$Tzt.constructor(C$Tzi);C$Tzt._iN$t=C$Tzn,C$Tzy.push(C$Tzt);for(var C$Tzr=0;C$Tzr<C$Tzi;++C$Tzr)C$Tzn[C$Tzr]=C$Tzt[C$Tzr];return C$Tzn;}if(Array.isArray(C$Tzt)){var C$Tzs=C$Tzt.length;C$Tzn=new Array(C$Tzs),C$Tzm.value(C$Tzt,"_iN$t",C$Tzn,!0),C$Tzy.push(C$Tzt);for(var C$Tzo=0;C$Tzo<C$Tzs;++C$Tzo){var C$Tza=C$Tzt[C$Tzo];C$Tzn[C$Tzo]=H[802]==typeof C$Tza&&C$Tza?C$Tza._iN$t||C$Tzg(C$Tza,C$Tze):C$Tza;}return C$Tzn;}if(C$Tzt._objFlags&C$Tzh)return null;var C$Tzc=C$Tzt.constructor;if(cc.Class._isCCClass(C$Tzc)){if(C$Tze)if(C$Tze instanceof cc.Component){if(C$Tzt instanceof cc._BaseNode||C$Tzt instanceof cc.Component)return C$Tzt;}else if(C$Tze instanceof cc._BaseNode)if(C$Tzt instanceof cc._BaseNode){if(!C$Tzt.isChildOf(C$Tze))return C$Tzt;}else if(C$Tzt instanceof cc.Component&&!C$Tzt.node.isChildOf(C$Tze))return C$Tzt;C$Tzn=new C$Tzc();}else if(C$Tzc===Object)C$Tzn={};else{if(C$Tzc)return C$Tzt;C$Tzn=Object.create(null);}return C$Tzl(C$Tzt,C$Tzn,C$Tze),C$Tzn;}C$Tze._clone=C$Tzn,cc.instantiate=C$Tze,C$Tzi.exports=C$Tze;},{"../value-types/value-type":287,"./CCObject":195,"./js":209,"./utils":213}],209:[function(C$Tzt,C$Tzi,C$Tzu){"use strict";var C$Tz_=new(C$Tzt(H[1588]))(H[1589]);function C$Tzn(C$Tzt,C$Tze){for(;C$Tzt;){var C$Tzi=Object.getOwnPropertyDescriptor(C$Tzt,C$Tze);if(C$Tzi)return C$Tzi;C$Tzt=Object.getPrototypeOf(C$Tzt);}return null;}function C$Tzd(C$Tzt,C$Tze,C$Tzi){C$Tze=C$Tzn(C$Tze,C$Tzt);Object.defineProperty(C$Tzi,C$Tzt,C$Tze);}var C$Tzr,C$Tzs,C$Tzf,C$Tza={isNumber:function(C$Tzt){return H[463]==typeof C$Tzt||C$Tzt instanceof Number;},isString:function(C$Tzt){return H[462]==typeof C$Tzt||C$Tzt instanceof String;},addon:function(C$Tzt){C$Tzt=C$Tzt||{};for(var C$Tze=1,C$Tzi=arguments.length;C$Tze<C$Tzi;C$Tze++){var C$Tzn=arguments[C$Tze];if(C$Tzn)if(H[802]==typeof C$Tzn)for(var C$Tzr in C$Tzn)C$Tzr in C$Tzt||C$Tzd(C$Tzr,C$Tzn,C$Tzt);else cc.errorID(5402,C$Tzn);}return C$Tzt;},mixin:function(C$Tzt){C$Tzt=C$Tzt||{};for(var C$Tze=1,C$Tzi=arguments.length;C$Tze<C$Tzi;C$Tze++){var C$Tzn=arguments[C$Tze];if(C$Tzn)if(H[802]==typeof C$Tzn)for(var C$Tzr in C$Tzn)C$Tzd(C$Tzr,C$Tzn,C$Tzt);else cc.errorID(5403,C$Tzn);}return C$Tzt;},extend:function(C$Tzt,C$Tze){for(var C$Tzi in C$Tze)C$Tze.hasOwnProperty(C$Tzi)&&(C$Tzt[C$Tzi]=C$Tze[C$Tzi]);return C$Tzt.prototype=Object.create(C$Tze.prototype,{constructor:{value:C$Tzt,writable:!0,configurable:!0}}),C$Tzt;},getSuper:function(C$Tzt){C$Tzt=C$Tzt.prototype,C$Tzt=C$Tzt&&Object.getPrototypeOf(C$Tzt);return C$Tzt&&C$Tzt.constructor;},isChildClassOf:function(C$Tzt,C$Tze){if(C$Tzt&&C$Tze){if(H[704]!=typeof C$Tzt)return!1;if(H[704]!=typeof C$Tze)return!1;if(C$Tzt===C$Tze)return!0;for(;;){if(!(C$Tzt=C$Tza.getSuper(C$Tzt)))return!1;if(C$Tzt===C$Tze)return!0;}}return!1;},clear:function(C$Tzt){for(var C$Tze=Object.keys(C$Tzt),C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++)delete C$Tzt[C$Tze[C$Tzi]];},isEmptyObject:function(C$Tzt){for(var C$Tze in C$Tzt)return!1;return!0;},getPropertyDescriptor:C$Tzn},C$Tzo={value:void 0,enumerable:!1,writable:!1,configurable:!0},C$Tzc={get:null,set:null,enumerable:!(C$Tza.value=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){C$Tzo.value=C$Tzi,C$Tzo.writable=C$Tzn,C$Tzo.enumerable=C$Tzr,Object.defineProperty(C$Tzt,C$Tze,C$Tzo),C$Tzo.value=void 0;})},C$Tzl={get:null,enumerable:!(C$Tza.getset=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){H[704]!=typeof C$Tzn&&(C$Tzr=C$Tzn,C$Tzn=void 0),C$Tzc.get=C$Tzi,C$Tzc.set=C$Tzn,C$Tzc.enumerable=C$Tzr,C$Tzc.configurable=C$Tzs,Object.defineProperty(C$Tzt,C$Tze,C$Tzc),C$Tzc.get=null,C$Tzc.set=null;}),configurable:!1},C$Tzh={set:null,enumerable:!(C$Tza.get=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){C$Tzl.get=C$Tzi,C$Tzl.enumerable=C$Tzn,C$Tzl.configurable=C$Tzr,Object.defineProperty(C$Tzt,C$Tze,C$Tzl),C$Tzl.get=null;}),configurable:!1};function C$Tzp(C$Tzn,C$Tzt,C$Tzr){return C$Tza.getset(C$Tza,C$Tzt,function(){return Object.assign({},C$Tzr);},function(C$Tzt){C$Tza.clear(C$Tzr),Object.assign(C$Tzr,C$Tzt);}),function(C$Tzt,C$Tze){var C$Tzi;C$Tze.prototype.hasOwnProperty(C$Tzn)&&delete C$Tzr[C$Tze.prototype[C$Tzn]],C$Tza.value(C$Tze.prototype,C$Tzn,C$Tzt),C$Tzt&&((C$Tzi=C$Tzr[C$Tzt])&&C$Tzi!==C$Tze?cc.error(H[1590]+C$Tzn+H[1591]+C$Tzt+H[1592]):C$Tzr[C$Tzt]=C$Tze);};}C$Tza.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){C$Tzh.set=C$Tzi,C$Tzh.enumerable=C$Tzn,C$Tzh.configurable=C$Tzr,Object.defineProperty(C$Tzt,C$Tze,C$Tzh),C$Tzh.set=null;},C$Tza.getClassName=function(C$Tzt){if(H[704]!=typeof C$Tzt)return C$Tzt&&C$Tzt.constructor?C$Tza.getClassName(C$Tzt.constructor):"";var C$Tze=C$Tzt.prototype;if(C$Tze&&C$Tze.hasOwnProperty(H[1593])&&C$Tze.__classname__)return C$Tze.__classname__;C$Tze="";return C$Tzt.name&&(C$Tze=C$Tzt.name),!C$Tzt.toString||(C$Tzt="["===(C$Tzt=C$Tzt.toString()).charAt(0)?C$Tzt.match(/\[\w+\s*(\w+)\]/):C$Tzt.match(/function\s*(\w+)/))&&2===C$Tzt.length&&(C$Tze=C$Tzt[1]),H[1350]!==C$Tze?C$Tze:"";},C$Tzr={},C$Tzs={},C$Tza._setClassId=C$Tzp(H[1594],H[1595],C$Tzr),C$Tzf=C$Tzp(H[1593],H[1596],C$Tzs),C$Tza.setClassName=function(C$Tzt,C$Tze){C$Tzf(C$Tzt,C$Tze),C$Tze.prototype.hasOwnProperty(H[1594])||(C$Tzt=C$Tzt||C$Tz_.getNewId())&&C$Tza._setClassId(C$Tzt,C$Tze);},C$Tza.unregisterClass=function(){for(var C$Tzt=0;C$Tzt<arguments.length;C$Tzt++){var C$Tze=arguments[C$Tzt].prototype,C$Tzi=C$Tze.__cid__,C$Tzi=(C$Tzi&&delete C$Tzr[C$Tzi],C$Tze.__classname__);C$Tzi&&delete C$Tzs[C$Tzi];}},C$Tza._getClassById=function(C$Tzt){return C$Tzr[C$Tzt];},C$Tza.getClassByName=function(C$Tzt){return C$Tzs[C$Tzt];},C$Tza._getClassId=function(C$Tzt,C$Tze){if(H[704]==typeof C$Tzt&&C$Tzt.prototype.hasOwnProperty(H[1594]))return C$Tzt.prototype.__cid__;if(C$Tzt&&C$Tzt.constructor){var C$Tzi=C$Tzt.constructor.prototype;if(C$Tzi&&C$Tzi.hasOwnProperty(H[1594]))return C$Tzt.__cid__;}return"";},C$Tza.obsolete=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=/([^.]+)$/,C$Tze=C$Tzr.exec(C$Tze)[0],C$Tzs=C$Tzr.exec(C$Tzi)[0];function C$Tzo(){return this[C$Tzs];}C$Tzn?C$Tza.getset(C$Tzt,C$Tze,C$Tzo,function(C$Tzt){this[C$Tzs]=C$Tzt;}):C$Tza.get(C$Tzt,C$Tze,C$Tzo);},C$Tza.obsoletes=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){for(var C$Tzr in C$Tzi){var C$Tzs=C$Tzi[C$Tzr];C$Tza.obsolete(C$Tzt,C$Tze+"."+C$Tzr,C$Tzs,C$Tzn);}};var C$Tzm=/(%d)|(%s)/,C$Tzy=/%s/;function C$Tzg(C$Tzt,C$Tze){C$Tzt.splice(C$Tze,1);}function C$Tzv(C$Tzt,C$Tze){C$Tze=C$Tzt.indexOf(C$Tze);return 0<=C$Tze&&(C$Tzg(C$Tzt,C$Tze),!0);}C$Tza.formatStr=function(){var C$Tzt=arguments.length;if(0===C$Tzt)return"";var C$Tze=arguments[0];if(1===C$Tzt)return""+C$Tze;if(H[462]==typeof C$Tze&&C$Tzm.test(C$Tze))for(var C$Tzi=1;C$Tzi<C$Tzt;++C$Tzi){var C$Tzn=arguments[C$Tzi],C$Tzr=H[463]==typeof C$Tzn?C$Tzm:C$Tzy;C$Tzr.test(C$Tze)?C$Tze=C$Tze.replace(C$Tzr,C$Tzn):C$Tze+=" "+C$Tzn;}else for(var C$Tzs=1;C$Tzs<C$Tzt;++C$Tzs)C$Tze+=" "+arguments[C$Tzs];return C$Tze;},C$Tza.shiftArguments=function(){for(var C$Tzt=arguments.length-1,C$Tze=new Array(C$Tzt),C$Tzi=0;C$Tzi<C$Tzt;++C$Tzi)C$Tze[C$Tzi]=arguments[C$Tzi+1];return C$Tze;},C$Tza.createMap=function(C$Tzt){var C$Tze=Object.create(null);return C$Tzt&&(C$Tze["."]=!0,C$Tze["/"]=!0,delete C$Tze["."],delete C$Tze["/"]),C$Tze;};var C$Tzx=Array.prototype.indexOf;function C$Tze(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=C$Tzt,C$Tzt=null),this.get=null,this.count=0,this._pool=new Array(C$Tze),this._cleanup=C$Tzt;}C$Tza.array={remove:C$Tzv,fastRemove:function(C$Tzt,C$Tze){0<=(C$Tze=C$Tzt.indexOf(C$Tze))&&(C$Tzt[C$Tze]=C$Tzt[C$Tzt.length-1],--C$Tzt.length);},removeAt:C$Tzg,fastRemoveAt:function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.length;C$Tze<0||C$Tzi<=C$Tze||(C$Tzt[C$Tze]=C$Tzt[C$Tzi-1],C$Tzt.length=C$Tzi-1);},contains:function(C$Tzt,C$Tze){return 0<=C$Tzt.indexOf(C$Tze);},verifyType:function(C$Tzt,C$Tze){if(C$Tzt&&0<C$Tzt.length)for(var C$Tzi=0;C$Tzi<C$Tzt.length;C$Tzi++)if(!(C$Tzt[C$Tzi]instanceof C$Tze))return cc.logID(1300),!1;return!0;},removeArray:function(C$Tzt,C$Tze){for(var C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++)C$Tzv(C$Tzt,C$Tze[C$Tzi]);},appendObjectsAt:function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.splice.apply(C$Tzt,[C$Tzi,0].concat(C$Tze)),C$Tzt;},copy:function(C$Tzt){for(var C$Tze=C$Tzt.length,C$Tzi=new Array(C$Tze),C$Tzn=0;C$Tzn<C$Tze;C$Tzn+=1)C$Tzi[C$Tzn]=C$Tzt[C$Tzn];return C$Tzi;},indexOf:C$Tzx,MutableForwardIterator:C$Tzt(H[1597])},C$Tze.prototype._get=function(){var C$Tzt;return 0<this.count?(--this.count,C$Tzt=this._pool[this.count],this._pool[this.count]=null,C$Tzt):null;},C$Tze.prototype.put=function(C$Tzt){var C$Tze=this._pool;this.count<C$Tze.length&&(this._cleanup&&!1===this._cleanup(C$Tzt)||(C$Tze[this.count]=C$Tzt,++this.count));},C$Tze.prototype.resize=function(C$Tzt){0<=C$Tzt&&(this._pool.length=C$Tzt,this.count>C$Tzt&&(this.count=C$Tzt));},C$Tza.Pool=C$Tze,cc.js=C$Tza,C$Tzi.exports=C$Tza;},{"../utils/mutable-forward-iterator":265,"./id-generater":205}],210:[function(C$Tzt,C$Tze,C$Tza){"use strict";var C$Tzs=C$Tzt(H[1320]),C$Tzo=C$Tzt(H[1330]),C$Tzc={url:{canUsedInGet:!0},default:{},serializable:{},editorOnly:{},formerlySerializedAs:{}};function C$Tzl(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzt=C$Tzt?{_short:!0}:{_short:!0,default:C$Tze};return C$Tzi&&(C$Tzn?C$Tzt.url=C$Tzi:C$Tzt.type=C$Tzi),C$Tzt;}C$Tza.getFullFormOfProperty=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr;return C$Tzt&&C$Tzt.constructor===Object?null:Array.isArray(C$Tzt)&&0<C$Tzt.length?(C$Tzt[0],C$Tzl(C$Tze,[],C$Tzt)):H[704]==typeof C$Tzt?(C$Tzr=C$Tzt,cc.RawAsset.isRawAssetType(C$Tzr)||cc.RawAsset.wasRawAssetType(C$Tzr)?C$Tzl(C$Tze,"",C$Tzr,!0):C$Tzl(C$Tze,C$Tzs.isChildClassOf(C$Tzr,cc.ValueType)?new C$Tzr():null,C$Tzr)):C$Tzt instanceof C$Tzo.PrimitiveType?C$Tzl(C$Tze,C$Tzt.default):C$Tzl(C$Tze,C$Tzt);},C$Tza.preprocessAttrs=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){for(var C$Tzr in C$Tzt){var C$Tzs=C$Tzt[C$Tzr],C$Tzo=C$Tza.getFullFormOfProperty(C$Tzs,!1,C$Tzr,C$Tze);(C$Tzs=C$Tzo?C$Tzt[C$Tzr]=C$Tzo:C$Tzs)&&((C$Tzo=C$Tzs.notify)&&function(C$Tzt,C$Tze,C$Tzi,C$Tzn){if(!C$Tzt.get&&!C$Tzt.set&&C$Tzt.hasOwnProperty(H[1099])){var C$Tzr,C$Tzs="_N$"+C$Tze,C$Tzo=(C$Tzt.get=function(){return this[C$Tzs];},C$Tzt.set=function(C$Tzt){var C$Tze=this[C$Tzs];this[C$Tzs]=C$Tzt,C$Tzi.call(this,C$Tze);},{});for(C$Tzr in C$Tzn[C$Tzs]=C$Tzo,C$Tzc){var C$Tza=C$Tzc[C$Tzr];C$Tzt.hasOwnProperty(C$Tzr)&&(C$Tzo[C$Tzr]=C$Tzt[C$Tzr],C$Tza.canUsedInGet||delete C$Tzt[C$Tzr]);}}}(C$Tzs,C$Tzr,C$Tzo,C$Tzt),H[1102]in C$Tzs&&function(C$Tzt,C$Tze,C$Tzi,C$Tzn){if(Array.isArray(C$Tze)){if(!(0<C$Tze.length))return cc.errorID(5508,C$Tzi,C$Tzn);if(cc.RawAsset.isRawAssetType(C$Tze[0]))return C$Tzt.url=C$Tze[0],delete C$Tzt.type;C$Tzt.type=C$Tze=C$Tze[0];}H[704]==typeof C$Tze&&(C$Tze===String?C$Tzt.type=cc.String:C$Tze===Boolean?C$Tzt.type=cc.Boolean:C$Tze===Number&&(C$Tzt.type=cc.Float));}(C$Tzs,C$Tzs.type,C$Tze,C$Tzr),H[999]in C$Tzs&&(C$Tzr=(C$Tzo=C$Tzs).url,Array.isArray(C$Tzr)&&0<C$Tzr.length&&(C$Tzr=C$Tzr[0]),C$Tzo.type=C$Tzr),H[1102]in C$Tzs&&C$Tzs.type);}},C$Tza.validateMethodWithProps=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return H[704]==typeof C$Tzt||null===C$Tzt;};},{"./CCClass":189,"./attribute":201,"./js":209}],211:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzr=[];cc._RF={push:function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=C$Tze,C$Tze=""),C$Tzr.push({uuid:C$Tze,script:C$Tzi,module:C$Tzt,exports:C$Tzt.exports,beh:null});},pop:function(){var C$Tzt=C$Tzr.pop(),C$Tze=C$Tzt.module,C$Tzi=C$Tze.exports;if(C$Tzi===C$Tzt.exports){for(var C$Tzn in C$Tzi)return;C$Tze.exports=C$Tzt.cls;}},peek:function(){return C$Tzr[C$Tzr.length-1];}};},{}],212:[function(C$Tzt,C$Tze,C$Tzi){"use strict";cc.url={_rawAssets:"",normalize:function(C$Tzt){return C$Tzt&&(46===C$Tzt.charCodeAt(0)&&47===C$Tzt.charCodeAt(1)?C$Tzt=C$Tzt.slice(2):47===C$Tzt.charCodeAt(0)&&(C$Tzt=C$Tzt.slice(1))),C$Tzt;},raw:function(C$Tzt){if((C$Tzt=this.normalize(C$Tzt)).startsWith(H[1195])){var C$Tze=cc.loader._getResUuid(C$Tzt.slice(10),cc.Asset,null,!0);if(C$Tze)return cc.AssetLibrary.getLibUrlNoExt(C$Tze,!0)+cc.path.extname(C$Tzt);}else cc.errorID(7002,C$Tzt);return this._rawAssets+C$Tzt;},_init:function(C$Tzt){this._rawAssets=cc.path.stripSep(C$Tzt)+"/";}},C$Tze.exports=cc.url;},{}],213:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[1320]);C$Tze.exports={contains:function(C$Tzt,C$Tze){if(H[704]==typeof C$Tzt.contains)return C$Tzt.contains(C$Tze);if(H[704]==typeof C$Tzt.compareDocumentPosition)return!!(16&C$Tzt.compareDocumentPosition(C$Tze));var C$Tzi=C$Tze.parentNode;if(C$Tzi)do{if(C$Tzi===C$Tzt)return!0;}while(null!==(C$Tzi=C$Tzi.parentNode));return!1;},isDomNode:H[802]==typeof window&&(H[704]==typeof Node?function(C$Tzt){return C$Tzt instanceof Node;}:function(C$Tzt){return C$Tzt&&H[802]==typeof C$Tzt&&H[463]==typeof C$Tzt.nodeType&&H[462]==typeof C$Tzt.nodeName;}),callInNextTick:function(C$Tzt,C$Tze,C$Tzi){C$Tzt&&setTimeout(function(){C$Tzt(C$Tze,C$Tzi);},0);}};},{"./js":209}],214:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[664]),C$Tzt(H[658]),C$Tzt(H[800]),C$Tzt(H[1598]),C$Tzt(H[1599]),C$Tzt(H[1074]),C$Tzt(H[1600]),C$Tzt(H[663]),C$Tzt(H[1601]),C$Tzt(H[1602]),C$Tzt(H[597]),C$Tzt(H[1603]),C$Tzt(H[1604]),C$Tzt(H[599]),C$Tzt(H[598]);},{"./CCDirector":28,"./CCScheduler":33,"./event":117,"./event-manager":113,"./load-pipeline":144,"./platform/CCInputExtension":192,"./platform/CCInputManager":193,"./platform/CCMacro":194,"./platform/CCScreen":197,"./platform/CCSys":198,"./platform/CCView":199,"./platform/js":209,"./renderer":220,"./utils":262,"./value-types":279}],215:[function(C$Tzt,C$Tzh,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.default=void 0;var C$Tzi=C$Tzr(C$Tzt(H[1605])),C$Tzn=C$Tzr(C$Tzt(H[1606])),C$Tzu=C$Tzr(C$Tzt(H[1607]));function C$Tzr(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzs(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}function C$Tz_(C$Tzn){return function(){var C$Tzt,C$Tze,C$Tzi=C$Tza(C$Tzn);return C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tza(this).constructor,Reflect.construct(C$Tzi,arguments,C$Tzt)):C$Tzi.apply(this,arguments),C$Tzi=this,!(C$Tze=C$Tzt)||H[802]!=typeof C$Tze&&H[704]!=typeof C$Tze?C$Tzo(C$Tzi):C$Tze;};}function C$Tzo(C$Tzt){if(void 0===C$Tzt)throw new ReferenceError(H[803]);return C$Tzt;}function C$Tza(C$Tzt){return(C$Tza=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}C$Tzc=C$Tzi.default,C$Tzt=C$Tzc,(C$Tzi=C$Tzl).prototype=Object.create(C$Tzt.prototype),(C$Tzi.prototype.constructor=C$Tzi).__proto__=C$Tzt,C$Tz_(C$Tzl),(C$Tzi=C$Tzl.prototype).initData=function(){this._renderData.createQuadData(0,this.verticesFloats,this.indicesCount);},C$Tzi.initLocal=function(){this._local=[],this._local.length=4;},C$Tzi.updateColor=function(C$Tzt,C$Tze){var C$Tzi=this._renderData.uintVDatas[0];if(C$Tzi){C$Tze=C$Tze||C$Tzt.node.color._val;for(var C$Tzn=this.floatsPerVert,C$Tzr=this.colorOffset,C$Tzs=C$Tzi.length;C$Tzr<C$Tzs;C$Tzr+=C$Tzn)C$Tzi[C$Tzr]=C$Tze;}},C$Tzi.getBuffer=function(){return cc.renderer._handle._meshBuffer;},C$Tzi.updateWorldVerts=function(C$Tzt){var C$Tzh,C$Tzu,C$Tz_,C$Tze=this._local,C$Tzi=this._renderData.vDatas[0],C$Tzt=C$Tzt.node._worldMatrix.m,C$Tzn=C$Tzt[0],C$Tzr=C$Tzt[1],C$Tzd=C$Tzt[4],C$Tzs=C$Tzt[5],C$Tzo=C$Tzt[12],C$Tzt=C$Tzt[13],C$Tza=C$Tze[0],C$Tzc=C$Tze[2],C$Tzl=C$Tze[1],C$Tze=C$Tze[3];1===C$Tzn&&0===C$Tzr&&0===C$Tzd&&1===C$Tzs?(C$Tzi[0]=C$Tza+C$Tzo,C$Tzi[1]=C$Tzl+C$Tzt,C$Tzi[5]=C$Tzc+C$Tzo,C$Tzi[6]=C$Tzl+C$Tzt,C$Tzi[10]=C$Tza+C$Tzo,C$Tzi[11]=C$Tze+C$Tzt,C$Tzi[15]=C$Tzc+C$Tzo,C$Tzi[16]=C$Tze+C$Tzt):(C$Tzh=C$Tzn*C$Tzc,C$Tzu=C$Tzr*C$Tza,C$Tzr=C$Tzr*C$Tzc,C$Tzc=C$Tzd*C$Tze,C$Tz_=C$Tzs*C$Tzl,C$Tzs=C$Tzs*C$Tze,C$Tzi[0]=(C$Tze=C$Tzn*C$Tza)+(C$Tzn=C$Tzd*C$Tzl)+C$Tzo,C$Tzi[1]=C$Tzu+C$Tz_+C$Tzt,C$Tzi[5]=C$Tzh+C$Tzn+C$Tzo,C$Tzi[6]=C$Tzr+C$Tz_+C$Tzt,C$Tzi[10]=C$Tze+C$Tzc+C$Tzo,C$Tzi[11]=C$Tzu+C$Tzs+C$Tzt,C$Tzi[15]=C$Tzh+C$Tzc+C$Tzo,C$Tzi[16]=C$Tzr+C$Tzs+C$Tzt);},C$Tzi.fillBuffers=function(C$Tzt,C$Tze){C$Tze.worldMatDirty&&this.updateWorldVerts(C$Tzt);for(var C$Tzt=this._renderData,C$Tzi=C$Tzt.vDatas[0],C$Tzn=C$Tzt.iDatas[0],C$Tzt=this.getBuffer(C$Tze),C$Tze=C$Tzt.request(this.verticesCount,this.indicesCount),C$Tzr=C$Tze.byteOffset>>2,C$Tzs=C$Tzt._vData,C$Tzo=(C$Tzi.length+C$Tzr>C$Tzs.length?C$Tzs.set(C$Tzi.subarray(0,C$Tzs.length-C$Tzr),C$Tzr):C$Tzs.set(C$Tzi,C$Tzr),C$Tzt._iData),C$Tza=C$Tze.indiceOffset,C$Tzc=C$Tze.vertexOffset,C$Tzl=0,C$Tzh=C$Tzn.length;C$Tzl<C$Tzh;C$Tzl++)C$Tzo[C$Tza++]=C$Tzc+C$Tzn[C$Tzl];},C$Tzi.packToDynamicAtlas=function(C$Tzt,C$Tze){C$Tze._original||!C$Tzn.default||!C$Tze._texture.packable||(C$Tzi=C$Tzn.default.insertSpriteFrame(C$Tze))&&C$Tze._setDynamicAtlasFrame(C$Tzi);var C$Tzi=C$Tzt._materials[0];C$Tzi&&C$Tzi.getProperty(H[883])!==C$Tze._texture&&(C$Tzt._vertsDirty=!0,C$Tzt._updateMaterial());},C$Tzt=C$Tzl,(C$Tzi=[{key:H[1608],get:function(){return this.verticesCount*this.floatsPerVert;}}])&&C$Tzs(C$Tzt.prototype,C$Tzi),C$Tzd&&C$Tzs(C$Tzt,C$Tzd);var C$Tzc,C$Tzd,C$Tzi=C$Tzl;function C$Tzl(){var C$Tzt=C$Tzc.call(this)||this;return C$Tzt._renderData=new C$Tzu.default(),C$Tzt._renderData.init(C$Tzo(C$Tzt)),C$Tzt.initData(),C$Tzt.initLocal(),C$Tzt;}C$Tze.default=C$Tzi,cc.js.addon(C$Tzi.prototype,{floatsPerVert:5,verticesCount:4,indicesCount:6,uvOffset:2,colorOffset:4}),cc.Assembler2D=C$Tzi,C$Tzh.exports=C$Tze.default;},{"./assembler":217,"./utils/dynamic-atlas/manager":223,"./webgl/render-data":250}],216:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;C$Tzt=(C$Tzt=C$Tzt(H[1609]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzn(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzr(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzr(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzr(C$Tzt){return(C$Tzr=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzs,C$Tzo,C$Tzh=0;function C$Tza(C$Tzt){return Object.getOwnPropertyDescriptor(C$Tzt,H[1610])||(C$Tzt.__assemblerId__=++C$Tzh),C$Tzt.__assemblerId__;}function C$Tzc(){for(var C$Tzt,C$Tze=arguments.length,C$Tzi=new Array(C$Tze),C$Tzn=0;C$Tzn<C$Tze;C$Tzn++)C$Tzi[C$Tzn]=arguments[C$Tzn];return(C$Tzt=C$Tzs.call.apply(C$Tzs,[this].concat(C$Tzi))||this)._pool={},C$Tzt;}C$Tzs=C$Tzt.default,C$Tzl=C$Tzs,(C$Tzo=C$Tzc).prototype=Object.create(C$Tzl.prototype),(C$Tzo.prototype.constructor=C$Tzo).__proto__=C$Tzl,C$Tzn(C$Tzc),(C$Tzo=C$Tzc.prototype).put=function(C$Tzt){var C$Tze,C$Tzi;C$Tzt&&this.enabled&&(C$Tze=C$Tza(C$Tzt.constructor),(C$Tzi=this._pool)[C$Tze]||(C$Tzi[C$Tze]=[]),this.count>this.maxSize||(this._clean(C$Tzt),C$Tzi[C$Tze].push(C$Tzt),this.count++));},C$Tzo.get=function(C$Tzt){var C$Tze,C$Tzi,C$Tzn;return(C$Tzn=this.enabled?(C$Tze=this._pool)[C$Tzi=C$Tza(C$Tzt)]&&C$Tze[C$Tzi].pop():C$Tzn)?this.count--:C$Tzn=new C$Tzt(),C$Tzn;},C$Tzo.clear=function(){this._pool={},this.count=0;},C$Tzo._clean=function(C$Tzt){C$Tzt._renderComp=null;};var C$Tzl=new C$Tzc();C$Tzt.default.register(H[1611],C$Tzl),C$Tzi.default=C$Tzl,C$Tze.exports=C$Tzi.default;},{"../utils/pool":266}],217:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=C$Tzt(H[1612]),C$Tzr=(C$Tzt=C$Tzt(H[1613]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};(C$Tzt=C$Tzs.prototype).init=function(C$Tzt){this._renderComp=C$Tzt;},C$Tzt.updateRenderData=function(C$Tzt){},C$Tzt.fillBuffers=function(C$Tzt,C$Tze){},C$Tzt.getVfmt=function(){return C$Tzn.vfmtPosUvColor;};C$Tzt=C$Tzs;function C$Tzs(){this._extendNative&&this._extendNative();}(C$Tzi.default=C$Tzt).register=function(C$Tzt,C$Tze){C$Tzt.__assembler__=C$Tze;},C$Tzt.init=function(C$Tzt){for(var C$Tze,C$Tzi=C$Tzt.constructor,C$Tzn=C$Tzi.__assembler__;!C$Tzn;){if(!(C$Tzi=C$Tzi.$super))return void cc.warn(H[1614]+cc.js.getClassName(C$Tzt)+"]");C$Tzn=C$Tzi.__assembler__;}C$Tzn.getConstructor&&(C$Tzn=C$Tzn.getConstructor(C$Tzt)),C$Tzt._assembler&&C$Tzt._assembler.constructor===C$Tzn||((C$Tze=C$Tzr.default.get(C$Tzn)).init(C$Tzt),C$Tzt._assembler=C$Tze);},cc.Assembler=C$Tzt,C$Tze.exports=C$Tzi.default;},{"./assembler-pool":216,"./webgl/vertex-format":252}],218:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzt){var C$Tze;try{C$Tze=C$Tzt.getContext(H[1162]);}catch(C$Tzt){return void console.error(C$Tzt);}this._canvas=C$Tzt,this._ctx=C$Tze,this._caps={},this._stats={drawcalls:0},this._vx=this._vy=this._vw=this._vh=0,this._sx=this._sy=this._sw=this._sh=0;}C$Tzn.prototype._restoreTexture=function(C$Tzt){},C$Tzn.prototype.setViewport=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._vx===C$Tzt&&this._vy===C$Tze&&this._vw===C$Tzi&&this._vh===C$Tzn||(this._vx=C$Tzt,this._vy=C$Tze,this._vw=C$Tzi,this._vh=C$Tzn);},C$Tzn.prototype.setScissor=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._sx===C$Tzt&&this._sy===C$Tze&&this._sw===C$Tzi&&this._sh===C$Tzn||(this._sx=C$Tzt,this._sy=C$Tze,this._sw=C$Tzi,this._sh=C$Tzn);},C$Tzn.prototype.clear=function(C$Tzt){var C$Tze=this._ctx;C$Tze.clearRect(this._vx,this._vy,this._vw,this._vh),!C$Tzt||0===C$Tzt[0]&&0===C$Tzt[1]&&0===C$Tzt[2]||(C$Tze.fillStyle=H[1615]+C$Tzt[0]+","+C$Tzt[1]+","+C$Tzt[2]+")",C$Tze.globalAlpha=C$Tzt[3],C$Tze.fillRect(this._vx,this._vy,this._vw,this._vh));},C$Tzn.prototype.resetDrawCalls=function(){this._stats.drawcalls=0;},C$Tzn.prototype.getDrawCalls=function(){return this._stats.drawcalls;},C$Tze.exports=C$Tzn;},{}],219:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzt,C$Tze){this._device=C$Tzt,this._width=4,this._height=4,this._image=null,C$Tze&&(void 0!==C$Tze.width&&(this._width=C$Tze.width),void 0!==C$Tze.height&&(this._height=C$Tze.height),this.updateImage(C$Tze));}C$Tzn.prototype.update=function(C$Tzt){this.updateImage(C$Tzt);},C$Tzn.prototype.updateImage=function(C$Tzt){C$Tzt.images&&C$Tzt.images[0]&&(C$Tzt=C$Tzt.images[0])&&C$Tzt!==this._image&&(this._image=C$Tzt);},C$Tzn.prototype.destroy=function(){this._image=null;},C$Tze.exports=C$Tzn;},{}],220:[function(C$Tzs,C$Tzt,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.default=void 0;var C$Tzo=C$Tzr(C$Tzs(H[725])),C$Tzi=C$Tzr(C$Tzs(H[1210])),C$Tzn=C$Tzr(C$Tzs(H[1616]));function C$Tzr(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}C$Tzi=cc.renderer={Texture2D:null,InputAssembler:C$Tzi.default,Pass:C$Tzn.default,renderEngine:null,canvas:null,device:null,scene:null,drawCalls:0,_handle:null,_cameraNode:null,_camera:null,_forward:null,_flow:null,initWebGL:function(C$Tzt,C$Tze){C$Tzs(H[1617]);var C$Tzi=C$Tzs(H[1618]),C$Tzn=(this.Texture2D=C$Tzo.default.Texture2D,this.canvas=C$Tzt,this._flow=cc.RenderFlow,C$Tzs(H[1619])),C$Tzr=C$Tzs(H[1620]),C$Tze=(this.device=new C$Tzo.default.Device(C$Tzt,C$Tze),this.scene=new C$Tzn(),C$Tzt=this.device,{defaultTexture:new C$Tzo.default.Texture2D(C$Tzt,{images:[],width:128,height:128,wrapS:C$Tzo.default.WRAP_REPEAT,wrapT:C$Tzo.default.WRAP_REPEAT,format:C$Tzo.default.TEXTURE_FMT_RGB8,mipmap:!1}),programTemplates:[],programChunks:{}});this._forward=new C$Tzr(this.device,C$Tze),this._handle=new C$Tzi(this.device,this.scene),this._flow.init(this._handle,this._forward);},initCanvas:function(C$Tzt){var C$Tze=C$Tzs(H[1621]),C$Tzi=C$Tzs(H[1622]),C$Tzn=C$Tzs(H[1623]);this.Device=C$Tzn,this.Texture2D=C$Tzi,this.canvas=C$Tzt,this.device=new C$Tzn(C$Tzt),this._camera={a:1,b:0,c:0,d:1,tx:0,ty:0},this._handle=new C$Tze.RenderComponentHandle(this.device,this._camera),this._forward=new C$Tze.ForwardRenderer(),this._flow=cc.RenderFlow,this._flow.init(this._handle,this._forward);},updateCameraViewport:function(){var C$Tzt;!cc.director||(C$Tzt=cc.director.getScene())&&C$Tzt.setScale(1,1,1),cc.game.renderType===cc.game.RENDER_TYPE_CANVAS&&(C$Tzt=cc.view.getViewportRect(),this.device.setViewport(C$Tzt.x,C$Tzt.y,C$Tzt.width,C$Tzt.height),this._camera.a=cc.view.getScaleX(),this._camera.d=cc.view.getScaleY(),this._camera.tx=C$Tzt.x,this._camera.ty=C$Tzt.y+C$Tzt.height);},render:function(C$Tzt,C$Tze){this.device.resetDrawCalls(),C$Tzt&&(this._flow.render(C$Tzt,C$Tze),this.drawCalls=this.device.getDrawCalls());},clear:function(){this._handle.reset(),this._forward.clear();}};C$Tze.default=C$Tzi,C$Tzt.exports=C$Tze.default;},{"../../renderer/core/input-assembler":302,"../../renderer/core/pass":303,"../../renderer/gfx":312,"../../renderer/renderers/forward-renderer":331,"../../renderer/scene/scene":334,"./canvas":void 0,"./canvas/Device":218,"./canvas/Texture2D":219,"./webgl/assemblers":232,"./webgl/model-batcher":248}],221:[function(C$Tze,C$Tzi,C$Tzl){"use strict";var C$Tzu,C$Tzn,C$Tzt=0,C$Tzr=(C$Tzt++,C$Tzt++,C$Tzt++,C$Tzt++,C$Tzt++,C$Tzt++,C$Tzt++,C$Tzt++,C$Tzt++,1024),C$Tz_=0;function C$Tzs(){this._func=C$Tzh,this._next=null;}var C$Tzt=C$Tzs.prototype,C$Tzo=(C$Tzt._doNothing=function(){},C$Tzt._localTransform=function(C$Tzt){C$Tzt._updateLocalMatrix(),C$Tzt._renderFlag&=-5,this._next._func(C$Tzt);},C$Tzt._worldTransform=function(C$Tzt){C$Tzu.worldMatDirty++;var C$Tze=C$Tzt._matrix,C$Tzi=C$Tzt._trs,C$Tzn=C$Tze.m;C$Tzn[12]=C$Tzi[0],C$Tzn[13]=C$Tzi[1],C$Tzn[14]=C$Tzi[2],C$Tzt._mulMat(C$Tzt._worldMatrix,C$Tzt._parent._worldMatrix,C$Tze),C$Tzt._renderFlag&=-9,this._next._func(C$Tzt),C$Tzu.worldMatDirty--;},C$Tzt._opacity=function(C$Tzt){C$Tzu.parentOpacityDirty++,C$Tzt._renderFlag&=-33,this._next._func(C$Tzt),C$Tzu.parentOpacityDirty--;},C$Tzt._color=function(C$Tzt){var C$Tze=C$Tzt._renderComponent;C$Tze&&C$Tze._updateColor(),C$Tzt._renderFlag&=-65,this._next._func(C$Tzt);},C$Tzt._updateRenderData=function(C$Tzt){var C$Tze=C$Tzt._renderComponent;C$Tze._assembler.updateRenderData(C$Tze),C$Tzt._renderFlag&=-17,this._next._func(C$Tzt);},C$Tzt._render=function(C$Tzt){var C$Tze=C$Tzt._renderComponent;C$Tze._checkBacth(C$Tzu,C$Tzt._cullingMask),C$Tze._assembler.fillBuffers(C$Tze,C$Tzu),this._next._func(C$Tzt);},C$Tzt._children=function(C$Tzt){for(var C$Tze=C$Tz_,C$Tzi=C$Tzu,C$Tzn=C$Tzi.parentOpacity,C$Tzr=C$Tzi.parentOpacity*=C$Tzt._opacity/255,C$Tzs=(C$Tzi.worldMatDirty?8:0)|(C$Tzi.parentOpacityDirty?96:0),C$Tzo=C$Tzt._children,C$Tza=0,C$Tzh=C$Tzo.length;C$Tza<C$Tzh;C$Tza++){var C$Tzc,C$Tzl=C$Tzo[C$Tza];C$Tzl._renderFlag|=C$Tzs,C$Tzl._activeInHierarchy&&0!==C$Tzl._opacity&&(C$Tz_=C$Tzl._cullingMask=0===C$Tzl.groupIndex?C$Tze:1<<C$Tzl.groupIndex,C$Tzc=C$Tzl._color._val,C$Tzl._color._fastSetA(C$Tzl._opacity*C$Tzr),C$Tzd[C$Tzl._renderFlag]._func(C$Tzl),C$Tzl._color._val=C$Tzc);}C$Tzi.parentOpacity=C$Tzn,this._next._func(C$Tzt);},C$Tzt._postRender=function(C$Tzt){var C$Tze=C$Tzt._renderComponent;C$Tze._checkBacth(C$Tzu,C$Tzt._cullingMask),C$Tze._assembler.postFillBuffers(C$Tze,C$Tzu),this._next._func(C$Tzt);},new C$Tzs()),C$Tzd=(C$Tzo._func=C$Tzo._doNothing,C$Tzo._next=C$Tzo,{});function C$Tza(C$Tzt,C$Tze){var C$Tzi=new C$Tzs();switch(C$Tzi._next=C$Tze||C$Tzo,C$Tzt){case 1:case 2:C$Tzi._func=C$Tzi._doNothing;break;case 4:C$Tzi._func=C$Tzi._localTransform;break;case 8:C$Tzi._func=C$Tzi._worldTransform;break;case 32:C$Tzi._func=C$Tzi._opacity;break;case 64:C$Tzi._func=C$Tzi._color;break;case 16:C$Tzi._func=C$Tzi._updateRenderData;break;case 128:C$Tzi._func=C$Tzi._render;break;case 256:C$Tzi._func=C$Tzi._children;break;case 512:C$Tzi._func=C$Tzi._postRender;}return C$Tzi;}function C$Tzh(C$Tzt){var C$Tze=C$Tzt._renderFlag;(C$Tzd[C$Tze]=function(C$Tzt){for(var C$Tze=null,C$Tzi=C$Tzr;0<C$Tzi;)C$Tzi&C$Tzt&&(C$Tze=C$Tza(C$Tzi,C$Tze)),C$Tzi>>=1;return C$Tze;}(C$Tze))._func(C$Tzt);}C$Tzs.flows=C$Tzd,C$Tzs.createFlow=C$Tza;var C$Tzc=[];C$Tzs.registerValidate=function(C$Tzt){C$Tzt._inValidateList||(C$Tzc.push(C$Tzt),C$Tzt._inValidateList=!0);},C$Tzs.validateRenderers=function(){for(var C$Tzt=0,C$Tze=C$Tzc.length;C$Tzt<C$Tze;C$Tzt++){var C$Tzi=C$Tzc[C$Tzt];C$Tzi.isValid&&(C$Tzi.enabledInHierarchy?C$Tzi._validateRender():C$Tzi.disableRender(),C$Tzi._inValidateList=!1);}C$Tzc.length=0;},C$Tzs.visitRootNode=function(C$Tzt){C$Tzs.validateRenderers(),C$Tz_=1<<C$Tzt.groupIndex,8&C$Tzt._renderFlag?(C$Tzu.worldMatDirty++,C$Tzt._calculWorldMatrix(),C$Tzt._renderFlag&=-9,C$Tzd[C$Tzt._renderFlag]._func(C$Tzt),C$Tzu.worldMatDirty--):C$Tzd[C$Tzt._renderFlag]._func(C$Tzt);},C$Tzs.render=function(C$Tzt,C$Tze){C$Tzu.reset(),C$Tzu.walking=!0,C$Tzs.visitRootNode(C$Tzt),C$Tzu.terminate(),C$Tzu.walking=!1,C$Tzn.render(C$Tzu._renderScene,C$Tze);},C$Tzs.init=function(C$Tzt,C$Tze){C$Tzu=C$Tzt,C$Tzn=C$Tze,C$Tzd[0]=C$Tzo;for(var C$Tzi=1;C$Tzi<C$Tzr;C$Tzi++)C$Tzd[C$Tzi]=new C$Tzs();},C$Tzs.getBachther=function(){return C$Tzu;},C$Tzs.FLAG_DONOTHING=1,C$Tzs.FLAG_BREAK_FLOW=2,C$Tzs.FLAG_LOCAL_TRANSFORM=4,C$Tzs.FLAG_WORLD_TRANSFORM=8,C$Tzs.FLAG_TRANSFORM=12,C$Tzs.FLAG_OPACITY=32,C$Tzs.FLAG_COLOR=64,C$Tzs.FLAG_OPACITY_COLOR=96,C$Tzs.FLAG_UPDATE_RENDER_DATA=16,C$Tzs.FLAG_RENDER=128,C$Tzs.FLAG_CHILDREN=256,C$Tzs.FLAG_POST_RENDER=512,C$Tzs.FLAG_FINAL=C$Tzr,C$Tzi.exports=cc.RenderFlow=C$Tzs;},{}],222:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1624]);function C$Tzr(C$Tzt,C$Tze){var C$Tzi=new C$Tzn();C$Tzi.initWithSize(C$Tzt,C$Tze),C$Tzi.update(),this._texture=C$Tzi,this._x=2,this._y=2,this._nexty=2,this._width=C$Tzt,this._height=C$Tze,this._innerTextureInfos={},this._innerSpriteFrames=[],this._count=0;}C$Tzr.DEFAULT_HASH=new C$Tzn()._getHash(),cc.js.mixin(C$Tzr.prototype,{insertSpriteFrame:function(C$Tzt){var C$Tze=C$Tzt._rect,C$Tzi=C$Tzt._texture,C$Tzn=this._innerTextureInfos[C$Tzi._id],C$Tzr=C$Tze.x,C$Tze=C$Tze.y;if(C$Tzn)C$Tzr+=C$Tzn.x,C$Tze+=C$Tzn.y;else{var C$Tzn=C$Tzi.width,C$Tzs=C$Tzi.height;if(this._x+C$Tzn+2>this._width&&(this._x=2,this._y=this._nexty),this._y+C$Tzs+2>this._nexty&&(this._nexty=this._y+C$Tzs+2),this._nexty>this._height)return null;cc.dynamicAtlasManager.textureBleeding&&((C$Tzn<=8||C$Tzs<=8)&&(this._texture.drawTextureAt(C$Tzi,this._x-1,this._y-1),this._texture.drawTextureAt(C$Tzi,this._x-1,this._y+1),this._texture.drawTextureAt(C$Tzi,this._x+1,this._y-1),this._texture.drawTextureAt(C$Tzi,this._x+1,this._y+1)),this._texture.drawTextureAt(C$Tzi,this._x-1,this._y),this._texture.drawTextureAt(C$Tzi,this._x+1,this._y),this._texture.drawTextureAt(C$Tzi,this._x,this._y-1),this._texture.drawTextureAt(C$Tzi,this._x,this._y+1)),this._texture.drawTextureAt(C$Tzi,this._x,this._y),this._innerTextureInfos[C$Tzi._id]={x:this._x,y:this._y,texture:C$Tzi},this._count++,C$Tzr+=this._x,C$Tze+=this._y,this._x+=C$Tzn+2,this._dirty=!0;}C$Tzs={x:C$Tzr,y:C$Tze,texture:this._texture};return this._innerSpriteFrames.push(C$Tzt),C$Tzs;},update:function(){this._dirty&&(this._texture.update(),this._dirty=!1);},deleteInnerTexture:function(C$Tzt){C$Tzt&&this._innerTextureInfos[C$Tzt._id]&&(delete this._innerTextureInfos[C$Tzt._id],this._count--);},isEmpty:function(){return this._count<=0;},reset:function(){this._x=2,this._y=2,this._nexty=2;for(var C$Tzt=this._innerSpriteFrames,C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++){var C$Tzn=C$Tzt[C$Tze];C$Tzn.isValid&&C$Tzn._resetDynamicAtlasFrame();}this._innerSpriteFrames.length=0,this._innerTextureInfos={};},destroy:function(){this.reset(),this._texture.destroy();}}),C$Tze.exports=C$Tzr;},{"../../../assets/CCRenderTexture":43}],223:[function(C$Tzt,C$Tzu,C$Tz_){"use strict";var C$Tze=C$Tzt(H[1625]),C$Tzn=[],C$Tzr=-1,C$Tzs=5,C$Tzi=2048,C$Tzo=512,C$Tza=!0;function C$Tzc(){var C$Tzt=C$Tzn[++C$Tzr];return C$Tzt||(C$Tzt=new C$Tze(C$Tzi,C$Tzi),C$Tzn.push(C$Tzt)),C$Tzt;}function C$Tzl(){C$Tzd.reset();}var C$Tzh=!1,C$Tzd={Atlas:C$Tze,get enabled(){return C$Tzh;},set enabled(C$Tzt){C$Tzh!==C$Tzt&&(C$Tzt?(this.reset(),cc.director.on(cc.Director.EVENT_BEFORE_SCENE_LAUNCH,C$Tzl)):cc.director.off(cc.Director.EVENT_BEFORE_SCENE_LAUNCH,C$Tzl),C$Tzh=C$Tzt);},get maxAtlasCount(){return C$Tzs;},set maxAtlasCount(C$Tzt){C$Tzs=C$Tzt;},get textureBleeding(){return C$Tza;},set textureBleeding(C$Tzt){C$Tza=C$Tzt;},get textureSize(){return C$Tzi;},set textureSize(C$Tzt){C$Tzi=C$Tzt;},get maxFrameSize(){return C$Tzo;},set maxFrameSize(C$Tzt){C$Tzo=C$Tzt;},insertSpriteFrame:function(C$Tzt){if(!C$Tzh||C$Tzr===C$Tzs||!C$Tzt||C$Tzt._original)return null;if(!C$Tzt._texture.packable)return null;var C$Tze=C$Tzn[C$Tzr],C$Tzi=(C$Tze=C$Tze||C$Tzc()).insertSpriteFrame(C$Tzt);return C$Tzi||C$Tzr===C$Tzs?C$Tzi:(C$Tze=C$Tzc()).insertSpriteFrame(C$Tzt);},reset:function(){for(var C$Tzt=0,C$Tze=C$Tzn.length;C$Tzt<C$Tze;C$Tzt++)C$Tzn[C$Tzt].destroy();C$Tzn.length=0,C$Tzr=-1;},deleteAtlasSpriteFrame:function(C$Tzt){C$Tzt._original&&(C$Tzt=C$Tzt._original._texture,this.deleteAtlasTexture(C$Tzt));},deleteAtlasTexture:function(C$Tzt){if(C$Tzt)for(var C$Tze=C$Tzn.length-1;0<=C$Tze;C$Tze--)C$Tzn[C$Tze].deleteInnerTexture(C$Tzt),C$Tzn[C$Tze].isEmpty()&&(C$Tzn[C$Tze].destroy(),C$Tzn.splice(C$Tze,1),C$Tzr--);},showDebug:!1,update:function(){if(this.enabled)for(var C$Tzt=0;C$Tzt<=C$Tzr;C$Tzt++)C$Tzn[C$Tzt].update();}};C$Tzu.exports=cc.dynamicAtlasManager=C$Tzd;},{"./atlas":222}],224:[function(C$Tzt,C$Tzi,C$Tzn){"use strict";C$Tzn.__esModule=!0,C$Tzn.default=void 0;var C$Tze=(C$Tze=C$Tzt(H[1626]))&&C$Tze.__esModule?C$Tze:{default:C$Tze};function C$Tzr(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzs(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzs(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzs(C$Tzt){return(C$Tzs=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}function C$Tzo(){this.char="",this.valid=!0,this.x=0,this.y=0,this.line=0,this.hash="";}var C$Tza,C$TzM=C$Tzt(H[1627]),C$Tzc=C$Tzt(H[1628]),C$TzA=C$Tzt(H[1629]).Overflow,C$TzC=C$Tzt(H[1279]).shareLabelInfo,C$Tzd=cc.rect(),C$Tzp=null,C$TzI=[],C$Tzf=[],C$TzS=[],C$Tzm=[],C$TzB=null,C$TzR=0,C$TzP=0,C$Tzy=0,C$TzD=0,C$TzL=0,C$TzT=1,C$Tzg=null,C$Tzw=cc.size(),C$TzV="",C$Tzl=0,C$Tzh=0,C$Tzu=0,C$Tz_=0,C$TzO=0,C$TzF=0,C$TzE=0,C$TzN=!1,C$Tzk=0,C$TzG=0,C$Tzz=0,C$Tzt=(C$Tza=C$Tze.default,C$Tzt=C$Tza,(C$Tze=C$Tzv).prototype=Object.create(C$Tzt.prototype),(C$Tze.prototype.constructor=C$Tze).__proto__=C$Tzt,C$Tzr(C$Tzv),(C$Tze=C$Tzv.prototype).updateRenderData=function(C$Tzt){C$Tzt._vertsDirty&&C$Tzp!==C$Tzt&&(C$Tzp=C$Tzt,this._reserveQuads(C$Tzt,C$Tzt.string.toString().length),this._updateFontFamily(C$Tzt),this._updateProperties(C$Tzt),this._updateLabelInfo(C$Tzt),this._updateContent(),this.updateWorldVerts(C$Tzt),C$Tzp._actualFontSize=C$Tzl,C$Tzp.node.setContentSize(C$Tzw),C$Tzp._vertsDirty=!1,C$Tzp=null,this._resetProperties());},C$Tze._updateFontScale=function(){C$TzT=C$Tzl/C$Tzh;},C$Tze._updateFontFamily=function(C$Tzt){var C$Tze=C$Tzt.font;C$Tzg=C$Tze.spriteFrame,C$TzB=C$Tze._fntConfig,C$TzC.fontAtlas=C$Tze._fontDefDictionary,this.packToDynamicAtlas(C$Tzt,C$Tzg);},C$Tze._updateLabelInfo=function(){C$TzC.hash="",C$TzC.margin=0;},C$Tze._updateProperties=function(C$Tzt){C$TzV=C$Tzt.string.toString(),C$Tzl=C$Tzt.fontSize,C$Tzh=(C$TzB||C$Tzt).fontSize,C$Tzu=C$Tzt.horizontalAlign,C$Tz_=C$Tzt.verticalAlign,C$TzO=C$Tzt.spacingX,C$TzE=C$Tzt.overflow,C$TzF=C$Tzt._lineHeight,C$Tzw.width=C$Tzt.node.width,C$Tzw.height=C$Tzt.node.height,C$TzE===C$TzA.NONE?(C$TzN=!1,C$Tzw.width+=2*C$TzC.margin,C$Tzw.height+=2*C$TzC.margin):C$TzE===C$TzA.RESIZE_HEIGHT?(C$TzN=!0,C$Tzw.height+=2*C$TzC.margin):C$TzN=C$Tzt.enableWrapText,C$TzC.lineHeight=C$TzF,C$TzC.fontSize=C$Tzl,this._setupBMFontOverflowMetrics();},C$Tze._resetProperties=function(){C$Tzg=C$TzB=null,C$TzC.hash="",C$TzC.margin=0;},C$Tze._updateContent=function(){this._updateFontScale(),this._computeHorizontalKerningForText(),this._alignText();},C$Tze._computeHorizontalKerningForText=function(){for(var C$Tzt=C$TzV,C$Tze=C$Tzt.length,C$Tzi=C$TzB.kerningDict,C$Tzn=C$TzI,C$Tzr=-1,C$Tzs=0;C$Tzs<C$Tze;++C$Tzs){var C$Tzo=C$Tzt.charCodeAt(C$Tzs),C$Tza=C$Tzi[C$Tzr<<16|65535&C$Tzo]||0;C$Tzn[C$Tzs]=C$Tzs<C$Tze-1?C$Tza:0,C$Tzr=C$Tzo;}},C$Tze._multilineTextWrap=function(C$Tzh){for(var C$Tzt,C$Tzu=C$TzV.length,C$Tze=0,C$Tzi=0,C$Tz_=0,C$Tzd=0,C$Tzn=0,C$Tzr=0,C$Tzs=0,C$Tzo=cc.v2(0,0),C$Tza=0;C$Tza<C$Tzu;)if("\n"!==(C$Tzc=C$TzV.charAt(C$Tza))){for(var C$Tzf=C$Tzh(C$TzV,C$Tza,C$Tzu),C$Tzp=C$Tzr,C$Tzm=C$Tzs,C$Tzy=C$Tzn,C$Tzg=C$Tzi,C$Tzv=!1,C$Tzx=0;C$Tzx<C$Tzf;++C$Tzx){var C$Tzc,C$Tzl=C$Tza+C$Tzx;if("\r"!==(C$Tzc=C$TzV.charAt(C$Tzl))){if(C$Tzt=C$TzC.fontAtlas.getLetterDefinitionForChar(C$Tzc,C$TzC)){var C$Tzb=C$Tzg+C$Tzt.offsetX*C$TzT-C$TzC.margin;if(C$TzN&&0<C$Tzz&&0<C$Tzi&&C$Tzb+C$Tzt.w*C$TzT>C$Tzz&&!C$TzM.isUnicodeSpace(C$Tzc)){C$TzS.push(C$Tzn),C$Tze++,C$Tzi=C$Tzn=0,C$Tz_-=C$TzF*this._getFontScale()+0,C$Tzv=!0;break;}C$Tzo.x=C$Tzb,C$Tzo.y=C$Tz_-C$Tzt.offsetY*C$TzT+C$TzC.margin,this._recordLetterInfo(C$Tzo,C$Tzc,C$Tzl,C$Tze),C$Tzl+1<C$TzI.length&&C$Tzl<C$Tzu-1&&(C$Tzg+=C$TzI[C$Tzl+1]),C$Tzg+=C$Tzt.xAdvance*C$TzT+C$TzO-2*C$TzC.margin,C$Tzy=C$Tzo.x+C$Tzt.w*C$TzT-C$TzC.margin,C$Tzp<C$Tzo.y&&(C$Tzp=C$Tzo.y),C$Tzm>C$Tzo.y-C$Tzt.h*C$TzT&&(C$Tzm=C$Tzo.y-C$Tzt.h*C$TzT);}else this._recordPlaceholderInfo(C$Tzl,C$Tzc),console.log(H[1630]+C$TzB.atlasName+H[1631]+C$Tzc);}else this._recordPlaceholderInfo(C$Tzl,C$Tzc);}C$Tzv||(C$Tzi=C$Tzg,C$Tzr<C$Tzp&&(C$Tzr=C$Tzp),C$Tzm<C$Tzs&&(C$Tzs=C$Tzm),C$Tzd<(C$Tzn=C$Tzy)&&(C$Tzd=C$Tzn),C$Tza+=C$Tzf);}else C$TzS.push(C$Tzn),C$Tze++,C$Tzi=C$Tzn=0,C$Tz_-=C$TzF*this._getFontScale()+0,this._recordPlaceholderInfo(C$Tza,C$Tzc),C$Tza++;return C$TzS.push(C$Tzn),C$TzP=(C$TzR=C$Tze+1)*C$TzF*this._getFontScale(),1<C$TzR&&(C$TzP+=0*(C$TzR-1)),C$Tzw.width=C$Tzk,C$Tzw.height=C$TzG,C$Tzk<=0&&(C$Tzw.width=parseFloat(C$Tzd.toFixed(2))+2*C$TzC.margin),C$TzG<=0&&(C$Tzw.height=parseFloat(C$TzP.toFixed(2))+2*C$TzC.margin),C$TzD=C$Tzw.height,C$TzL=0,C$TzE!==C$TzA.CLAMP&&(0<C$Tzr&&(C$TzD=C$Tzw.height+C$Tzr),C$Tzs<-C$TzP&&(C$TzL=C$TzP+C$Tzs)),!0;},C$Tze._getFirstCharLen=function(){return 1;},C$Tze._getFontScale=function(){return C$TzE===C$TzA.SHRINK?C$TzT:1;},C$Tze._getFirstWordLen=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.charAt(C$Tze);if(C$TzM.isUnicodeCJK(C$Tzn)||"\n"===C$Tzn||C$TzM.isUnicodeSpace(C$Tzn))return 1;var C$Tzr=1,C$Tzs=C$TzC.fontAtlas.getLetterDefinitionForChar(C$Tzn,C$TzC);if(!C$Tzs)return C$Tzr;for(var C$Tzo=C$Tzs.xAdvance*C$TzT+C$TzO,C$Tza=C$Tze+1;C$Tza<C$Tzi&&(C$Tzn=C$Tzt.charAt(C$Tza),C$Tzs=C$TzC.fontAtlas.getLetterDefinitionForChar(C$Tzn,C$TzC));++C$Tza){if(C$Tzo+C$Tzs.offsetX*C$TzT+C$Tzs.w*C$TzT>C$Tzz&&!C$TzM.isUnicodeSpace(C$Tzn)&&0<C$Tzz)return C$Tzr;if(C$Tzo+=C$Tzs.xAdvance*C$TzT+C$TzO,"\n"===C$Tzn||C$TzM.isUnicodeSpace(C$Tzn)||C$TzM.isUnicodeCJK(C$Tzn))break;C$Tzr++;}return C$Tzr;},C$Tze._multilineTextWrapByWord=function(){return this._multilineTextWrap(this._getFirstWordLen);},C$Tze._multilineTextWrapByChar=function(){return this._multilineTextWrap(this._getFirstCharLen);},C$Tze._recordPlaceholderInfo=function(C$Tzt,C$Tze){var C$Tzi;C$Tzt>=C$Tzf.length&&(C$Tzi=new C$Tzo(),C$Tzf.push(C$Tzi)),C$Tzf[C$Tzt].char=C$Tze,C$Tzf[C$Tzt].hash=C$Tze.charCodeAt(0)+C$TzC.hash,C$Tzf[C$Tzt].valid=!1;},C$Tze._recordLetterInfo=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzi>=C$Tzf.length&&(C$Tzr=new C$Tzo(),C$Tzf.push(C$Tzr));var C$Tzr=C$Tze.charCodeAt(0)+C$TzC.hash;C$Tzf[C$Tzi].line=C$Tzn,C$Tzf[C$Tzi].char=C$Tze,C$Tzf[C$Tzi].hash=C$Tzr,C$Tzf[C$Tzi].valid=C$TzC.fontAtlas.getLetter(C$Tzr).valid,C$Tzf[C$Tzi].x=C$Tzt.x,C$Tzf[C$Tzi].y=C$Tzt.y;},C$Tze._alignText=function(){C$TzP=0,C$TzS.length=0,this._multilineTextWrapByWord(),this._computeAlignmentOffset(),C$TzE===C$TzA.SHRINK&&0<C$Tzl&&this._isVerticalClamp()&&this._shrinkLabelToContentSize(this._isVerticalClamp),this._updateQuads()||C$TzE===C$TzA.SHRINK&&this._shrinkLabelToContentSize(this._isHorizontalClamp);},C$Tze._scaleFontSizeDown=function(C$Tzt){var C$Tze=!0;C$Tzt||(C$Tze=!(C$Tzt=.1)),C$Tzl=C$Tzt,C$Tze&&this._updateContent();},C$Tze._shrinkLabelToContentSize=function(C$Tzt){for(var C$Tze=0,C$Tzi=0|C$Tzl;C$Tze<C$Tzi;){var C$Tzn,C$Tzr=C$Tzn=C$Tze+C$Tzi+1>>1;if(C$Tzr<=0)break;C$TzT=C$Tzr/C$Tzh,this._multilineTextWrapByWord(),this._computeAlignmentOffset(),C$Tzt()?C$Tzi=C$Tzn-1:C$Tze=C$Tzn;}var C$Tzs=C$Tze;0<=C$Tzs&&this._scaleFontSizeDown(C$Tzs);},C$Tze._isVerticalClamp=function(){return C$TzP>C$Tzw.height;},C$Tze._isHorizontalClamp=function(){for(var C$Tzt=!1,C$Tze=0,C$Tzi=C$TzV.length;C$Tze<C$Tzi;++C$Tze){var C$Tzn=C$Tzf[C$Tze];if(C$Tzn.valid){var C$Tzr=C$TzC.fontAtlas.getLetter(C$Tzn.hash),C$Tzr=C$Tzn.x+C$Tzr.w*C$TzT,C$Tzn=C$Tzn.line;if(0<C$Tzk)if(C$TzN){if(C$TzS[C$Tzn]>C$Tzw.width&&(C$Tzr>C$Tzw.width||C$Tzr<0)){C$Tzt=!0;break;}}else if(C$Tzr>C$Tzw.width){C$Tzt=!0;break;}}}return C$Tzt;},C$Tze._isHorizontalClamped=function(C$Tzt,C$Tze){C$Tze=C$TzS[C$Tze],C$Tzt=C$Tzt>C$Tzw.width||C$Tzt<0;return(!C$TzN||C$Tze>C$Tzw.width)&&C$Tzt;},C$Tze._updateQuads=function(){for(var C$Tzt=C$Tzg?C$Tzg._texture:C$TzC.fontAtlas.getTexture(),C$Tze=C$Tzp.node,C$Tzi=(this.verticesCount=this.indicesCount=0,this._renderData&&(this._renderData.dataLength=0),C$Tzw),C$Tzh=C$Tze._anchorPoint.x*C$Tzi.width,C$Tzu=C$Tze._anchorPoint.y*C$Tzi.height,C$Tzn=!0,C$Tzr=0,C$Tz_=C$TzV.length;C$Tzr<C$Tz_;++C$Tzr){var C$Tzs=C$Tzf[C$Tzr];if(C$Tzs.valid){var C$Tzo=C$TzC.fontAtlas.getLetter(C$Tzs.hash),C$Tza=(C$Tzd.height=C$Tzo.h,C$Tzd.width=C$Tzo.w,C$Tzd.x=C$Tzo.u,C$Tzd.y=C$Tzo.v,C$Tzs.y+C$Tzy),C$Tzc=(0<C$TzG&&(C$TzD<C$Tza&&(C$Tzc=C$Tza-C$TzD,C$Tzd.y+=C$Tzc,C$Tzd.height-=C$Tzc,C$Tza-=C$Tzc),C$Tza-C$Tzo.h*C$TzT<C$TzL&&C$TzE===C$TzA.CLAMP&&(C$Tzd.height=C$Tza<C$TzL?0:(C$Tza-C$TzL)/C$TzT)),C$Tzs.line),C$Tzl=C$Tzs.x+C$Tzo.w/2*C$TzT+C$Tzm[C$Tzc];if(0<C$Tzk&&this._isHorizontalClamped(C$Tzl,C$Tzc))if(C$TzE===C$TzA.CLAMP)C$Tzd.width=0;else if(C$TzE===C$TzA.SHRINK){if(C$Tzw.width>C$Tzo.w){C$Tzn=!1;break;}C$Tzd.width=0;}0<C$Tzd.height&&0<C$Tzd.width&&(C$Tzl=this._determineRect(C$Tzd),C$Tzo=C$Tzs.x+C$Tzm[C$Tzs.line],this.appendQuad(C$Tzp,C$Tzt,C$Tzd,C$Tzl,C$Tzo-C$Tzh,C$Tza-C$Tzu,C$TzT));}}return this._quadsUpdated(C$Tzp),C$Tzn;},C$Tze._determineRect=function(C$Tzt){var C$Tze=C$Tzg.isRotated(),C$Tzi=C$Tzg._originalSize,C$Tzn=C$Tzg._rect,C$Tzr=C$Tzg._offset,C$Tzs=C$Tzr.x+(C$Tzi.width-C$Tzn.width)/2,C$Tzr=C$Tzr.y-(C$Tzi.height-C$Tzn.height)/2;return C$Tze?(C$Tzi=C$Tzt.x,C$Tzt.x=C$Tzn.x+C$Tzn.height-C$Tzt.y-C$Tzt.height-C$Tzr,C$Tzt.y=C$Tzi+C$Tzn.y-C$Tzs,C$Tzt.y<0&&(C$Tzt.height=C$Tzt.height+C$Tzr)):(C$Tzt.x+=C$Tzn.x-C$Tzs,C$Tzt.y+=C$Tzn.y+C$Tzr),C$Tze;},C$Tze._computeAlignmentOffset=function(){switch(C$Tzm.length=0,C$Tzu){case C$Tzc.TextAlignment.LEFT:for(var C$Tzt=0;C$Tzt<C$TzR;++C$Tzt)C$Tzm.push(0);break;case C$Tzc.TextAlignment.CENTER:for(var C$Tze=0,C$Tzi=C$TzS.length;C$Tze<C$Tzi;C$Tze++)C$Tzm.push((C$Tzw.width-C$TzS[C$Tze])/2);break;case C$Tzc.TextAlignment.RIGHT:for(var C$Tzn=0,C$Tzr=C$TzS.length;C$Tzn<C$Tzr;C$Tzn++)C$Tzm.push(C$Tzw.width-C$TzS[C$Tzn]);}var C$Tzs;C$Tzy=C$Tzw.height,C$Tz_!==C$Tzc.VerticalTextAlignment.TOP&&(C$Tzs=C$Tzw.height-C$TzP+C$TzF*this._getFontScale()-C$Tzh*C$TzT,C$Tz_===C$Tzc.VerticalTextAlignment.BOTTOM?C$Tzy-=C$Tzs:C$Tzy-=C$Tzs/2);},C$Tze._setupBMFontOverflowMetrics=function(){var C$Tzt=C$Tzw.width,C$Tze=C$Tzw.height;C$TzE===C$TzA.RESIZE_HEIGHT&&(C$Tze=0),C$TzE===C$TzA.NONE&&(C$Tze=C$Tzt=0),C$TzG=C$Tze,C$Tzz=C$Tzk=C$Tzt;},C$Tze.updateWorldVerts=function(){},C$Tze.appendQuad=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo){},C$Tze._quadsUpdated=function(C$Tzt){},C$Tze._reserveQuads=function(){},C$Tzv);function C$Tzv(){return C$Tza.apply(this,arguments)||this;}C$Tzn.default=C$Tzt,C$Tzi.exports=C$Tzn.default;},{"../../../components/CCLabel":80,"../../../platform/CCMacro":194,"../../../utils/text-utils":271,"../../assembler-2d":215,"../utils":228}],225:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(){this._rect=null,this.uv=[],this._texture=null,this._original=null;}C$Tzn.prototype={constructor:C$Tzn,getRect:function(){return cc.rect(this._rect);},setRect:function(C$Tzt){this._rect=C$Tzt,this._texture&&this._calculateUV();},_setDynamicAtlasFrame:function(C$Tzt){C$Tzt&&(this._original={_texture:this._texture,_x:this._rect.x,_y:this._rect.y},this._texture=C$Tzt.texture,this._rect.x=C$Tzt.x,this._rect.y=C$Tzt.y,this._calculateUV());},_resetDynamicAtlasFrame:function(){this._original&&(this._rect.x=this._original._x,this._rect.y=this._original._y,this._texture=this._original._texture,this._original=null,this._calculateUV());},_refreshTexture:function(C$Tzt){this._texture=C$Tzt,this._rect=cc.rect(0,0,C$Tzt.width,C$Tzt.height),this._calculateUV();},_calculateUV:function(){var C$Tzt=this._rect,C$Tze=this._texture,C$Tzi=this.uv,C$Tzn=C$Tze.width,C$Tze=C$Tze.height,C$Tzr=0===C$Tzn?0:C$Tzt.x/C$Tzn,C$Tzn=0===C$Tzn?0:(C$Tzt.x+C$Tzt.width)/C$Tzn,C$Tzs=0===C$Tze?0:(C$Tzt.y+C$Tzt.height)/C$Tze,C$Tzt=0===C$Tze?0:C$Tzt.y/C$Tze;C$Tzi[0]=C$Tzr,C$Tzi[1]=C$Tzs,C$Tzi[2]=C$Tzn,C$Tzi[3]=C$Tzs,C$Tzi[4]=C$Tzr,C$Tzi[5]=C$Tzt,C$Tzi[6]=C$Tzn,C$Tzi[7]=C$Tzt;}},C$Tze.exports=C$Tzn;},{}],226:[function(C$Tzt,C$Tzh,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.default=void 0;var C$Tzi=(C$Tzi=C$Tzt(H[1632]))&&C$Tzi.__esModule?C$Tzi:{default:C$Tzi};function C$Tzu(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzn(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzn(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzn(C$Tzt){return(C$Tzn=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tz_=C$Tzt(H[1629]),C$Tzd=C$Tzt(H[1633]),C$Tza=C$Tzt(H[1627]),C$Tzr=C$Tzt(H[1634]),C$Tzf=C$Tzt(H[1624]),C$Tzp=cc.js.isChildClassOf(C$Tzd,C$Tzr),C$Tzm=C$Tzt(H[1279]).getFontFamily,C$Tzs=C$Tzt(H[1279]).shareLabelInfo,C$Tzy=cc.BitmapFont.FontLetterDefinition,C$Tzg=cc.BitmapFont.FontAtlas,C$Tzv=cc.Color.WHITE,C$Tzx=(1/255).toFixed(3);function C$Tzo(C$Tzt,C$Tze){this._texture=null,this._labelInfo=C$Tze,this._char=C$Tzt,this._hash=null,this._data=null,this._canvas=null,this._context=null,this._width=0,this._height=0,this._offsetY=0,this._hash=C$Tzt.charCodeAt(0)+C$Tze.hash;}function C$Tzb(C$Tzt,C$Tze){var C$Tzi=new C$Tzf();C$Tzi.initWithSize(C$Tzt,C$Tze),C$Tzi.update(),this._fontDefDictionary=new C$Tzg(C$Tzi),this._x=0,this._y=0,this._nexty=0,this._width=C$Tzt,this._height=C$Tze,cc.director.on(cc.Director.EVENT_BEFORE_SCENE_LAUNCH,this.beforeSceneLoad,this);}C$Tzo.prototype={constructor:C$Tzo,updateRenderData:function(){this._updateProperties(),this._updateTexture();},_updateProperties:function(){this._texture=new cc.Texture2D(),this._data=C$Tz_._canvasPool.get(),this._canvas=this._data.canvas,this._context=this._data.context,this._context.font=this._labelInfo.fontDesc;var C$Tzt=C$Tza.safeMeasureText(this._context,this._char,this._labelInfo.fontDesc),C$Tze=2*this._labelInfo.margin+2;this._width=parseFloat(C$Tzt.toFixed(2))+C$Tze,this._height=(1+C$Tza.BASELINE_RATIO)*this._labelInfo.fontSize+C$Tze,this._offsetY=-this._labelInfo.fontSize*C$Tza.BASELINE_RATIO/2,this._canvas.width!==this._width&&(this._canvas.width=this._width),this._canvas.height!==this._height&&(this._canvas.height=this._height),this._texture.initWithElement(this._canvas);},_updateTexture:function(){var C$Tzt=this._context,C$Tze=this._labelInfo,C$Tzi=this._canvas.width,C$Tzn=this._canvas.height,C$Tzr=C$Tzi/2,C$Tzs=C$Tzn/2+this._labelInfo.fontSize*C$Tza.MIDDLE_RATIO,C$Tzo=C$Tze.color;C$Tzt.textAlign=H[921],C$Tzt.textBaseline=H[1635],C$Tzt.clearRect(0,0,C$Tzi,C$Tzn),C$Tzt.fillStyle=H[1636]+C$Tzo.r+H[1637]+C$Tzo.g+H[1637]+C$Tzo.b+H[1637]+C$Tzx+")",C$Tzt.fillRect(0,0,C$Tzi,C$Tzn),C$Tzt.font=C$Tze.fontDesc,C$Tzt.lineJoin=H[1638],C$Tzt.fillStyle=H[1636]+C$Tzo.r+H[1637]+C$Tzo.g+H[1637]+C$Tzo.b+H[1639],C$Tze.isOutlined&&0<C$Tze.margin&&(C$Tzi=C$Tze.out||C$Tzv,C$Tzt.strokeStyle=H[1636]+C$Tzi.r+H[1637]+C$Tzi.g+H[1637]+C$Tzi.b+H[1637]+C$Tzi.a/255+")",C$Tzt.lineWidth=2*C$Tze.margin,C$Tzt.strokeText(this._char,C$Tzr,C$Tzs)),C$Tzt.fillText(this._char,C$Tzr,C$Tzs),this._texture.handleLoadedTexture();},destroy:function(){this._texture.destroy(),this._texture=null,C$Tz_._canvasPool.put(this._data);}},cc.js.mixin(C$Tzb.prototype,{insertLetterTexture:function(C$Tzt){var C$Tze=C$Tzt._texture,C$Tzi=C$Tze.width,C$Tzn=C$Tze.height;if(this._x+C$Tzi+0>this._width&&(this._x=0,this._y=this._nexty),this._y+C$Tzn>this._nexty&&(this._nexty=this._y+C$Tzn+0),this._nexty>this._height)return null;this._fontDefDictionary._texture.drawTextureAt(C$Tze,this._x,this._y),this._dirty=!0;C$Tzn=new C$Tzy();return C$Tzn.u=this._x+1,C$Tzn.v=this._y+1,C$Tzn.texture=this._fontDefDictionary._texture,C$Tzn.valid=!0,C$Tzn.w=C$Tzt._width-2,C$Tzn.h=C$Tzt._height-2,C$Tzn.xAdvance=C$Tzn.w,C$Tzn.offsetY=C$Tzt._offsetY,this._x+=C$Tzi+0,this._fontDefDictionary.addLetterDefinitions(C$Tzt._hash,C$Tzn),C$Tzn;},update:function(){this._dirty&&(this._fontDefDictionary._texture.update(),this._dirty=!1);},reset:function(){this._x=0,this._y=0,this._nexty=0;for(var C$Tzt=this._fontDefDictionary._letterDefinitions,C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++){var C$Tzn=C$Tzt[C$Tze];C$Tzn.isValid&&C$Tzn.destroy();}this._fontDefDictionary.clear();},destroy:function(){this.reset(),this._fontDefDictionary._texture.destroy(),this._fontDefDictionary._texture=null;},beforeSceneLoad:function(){this.clearAllCache();},clearAllCache:function(){this.destroy();var C$Tzt=new C$Tzf();C$Tzt.initWithSize(this._width,this._height),C$Tzt.update(),this._fontDefDictionary._texture=C$Tzt;},getLetter:function(C$Tzt){return this._fontDefDictionary._letterDefinitions[C$Tzt];},getTexture:function(){return this._fontDefDictionary.getTexture();},getLetterDefinitionForChar:function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.charCodeAt(0)+C$Tze.hash,C$Tzi=this._fontDefDictionary._letterDefinitions[C$Tzi];return C$Tzi||((C$Tzt=new C$Tzo(C$Tzt,C$Tze)).updateRenderData(),C$Tzi=this.insertLetterTexture(C$Tzt),C$Tzt.destroy()),C$Tzi;}});var C$TzA,C$Tzc=null,C$Tzi=(C$TzA=C$Tzi.default,C$Tzr=C$TzA,(C$Tzt=C$Tzl).prototype=Object.create(C$Tzr.prototype),(C$Tzt.prototype.constructor=C$Tzt).__proto__=C$Tzr,C$Tzu(C$Tzl),(C$Tzt=C$Tzl.prototype)._getAssemblerData=function(){return C$Tzc||(C$Tzc=new C$Tzb(2048,2048),cc.Label._shareAtlas=C$Tzc),C$Tzc.getTexture();},C$Tzt._updateFontFamily=function(C$Tzt){C$Tzs.fontAtlas=C$Tzc,C$Tzs.fontFamily=C$Tzm(C$Tzt);var C$Tze=C$Tzp&&C$Tzt.getComponent(C$Tzd);C$Tze&&C$Tze.enabled?(C$Tzs.isOutlined=!0,C$Tzs.margin=C$Tze.width,C$Tzs.out=C$Tze.color.clone(),C$Tzs.out.a=C$Tze.color.a*C$Tzt.node.color.a/255):(C$Tzs.isOutlined=!1,C$Tzs.margin=0);},C$Tzt._updateLabelInfo=function(C$Tzt){var C$Tze,C$Tzi;C$Tzs.fontDesc=this._getFontDesc(),C$Tzs.color=C$Tzt.node.color,C$Tzs.hash=(C$Tze=(C$Tzt=C$Tzs).color.toHEX(H[1640]),C$Tzi="",C$Tzt.isOutlined&&0<C$Tzt.margin&&(C$Tzi=C$Tzi+C$Tzt.margin+C$Tzt.out.toHEX(H[1640])),""+C$Tzt.fontSize+C$Tzt.fontFamily+C$Tze+C$Tzi);},C$Tzt._getFontDesc=function(){var C$Tzt=C$Tzs.fontSize.toString()+H[1641];return C$Tzt+=C$Tzs.fontFamily;},C$Tzt._computeHorizontalKerningForText=function(){},C$Tzt._determineRect=function(C$Tzt){return!1;},C$Tzl);function C$Tzl(){return C$TzA.apply(this,arguments)||this;}C$Tze.default=C$Tzi,C$Tzh.exports=C$Tze.default;},{"../../../assets/CCRenderTexture":43,"../../../components/CCComponent":78,"../../../components/CCLabel":80,"../../../components/CCLabelOutline":81,"../../../utils/text-utils":271,"../../webgl/assemblers/label/2d/bmfont":233,"../utils":228}],227:[function(C$Tze,C$Tzi,C$Tzn){"use strict";C$Tzn.__esModule=!0,C$Tzn.default=void 0;var C$Tzt=(C$Tzt=C$Tze(H[1626]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzr(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzs(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzs(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzs(C$Tzt){return(C$Tzs=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tz_,C$Tzo,C$Tza,C$Tzp=C$Tze(H[1627]),C$Tzd=C$Tze(H[1628]),C$Tzc=C$Tze(H[1629]),C$Tzf=C$Tze(H[1633]),C$Tzb=C$Tze(H[1642]),C$TzA=C$Tzc.Overflow,C$TzC=C$Tze(H[1279]).deleteFromDynamicAtlas,C$TzS=C$Tze(H[1279]).getFontFamily,C$TzT=(1/255).toFixed(3),C$Tzm=null,C$Tzw=null,C$TzE=null,C$Tzy="",C$TzM="",C$Tzg=0,C$TzI=0,C$Tzl=[],C$Tzv=cc.Size.ZERO,C$TzB=0,C$TzR=0,C$TzP=0,C$TzD=null,C$TzL="",C$TzV=C$TzA.NONE,C$TzO=!1,C$Tzh=null,C$TzF=cc.Color.WHITE,C$Tzu=null,C$TzN=cc.Color.BLACK,C$Tzx=cc.rect(),C$Tzk=cc.Size.ZERO,C$TzG=cc.Size.ZERO,C$Tzz=!1,C$TzU=!1,C$TzW=!1,C$TzH=0,C$Tzj=cc.Vec2.ZERO,C$Tze=(C$Tza=C$Tzt.default,C$Tze=C$Tza,(C$Tzt=C$TzX).prototype=Object.create(C$Tze.prototype),(C$Tzt.prototype.constructor=C$Tzt).__proto__=C$Tze,C$Tzr(C$TzX),(C$Tzt=C$TzX.prototype)._getAssemblerData=function(){return(C$Tzo=C$Tzc._canvasPool.get()).canvas.width=C$Tzo.canvas.height=1,C$Tzo;},C$Tzt._resetAssemblerData=function(C$Tzt){C$Tzt&&C$Tzc._canvasPool.put(C$Tzt);},C$Tzt.updateRenderData=function(C$Tzt){C$Tza.prototype.updateRenderData.call(this,C$Tzt),C$Tzt._vertsDirty&&(this._updateFontFamily(C$Tzt),this._updateProperties(C$Tzt),this._calculateLabelFont(),this._calculateSplitedStrings(),this._updateLabelDimensions(),this._calculateTextBaseline(),this._updateTexture(C$Tzt),this._calDynamicAtlas(C$Tzt),C$Tzt._actualFontSize=C$Tzg,C$Tzt.node.setContentSize(C$TzG),this.updateVerts(C$Tzt),C$Tzt._vertsDirty=!1,C$TzE=C$Tzw=C$Tzm=null);},C$Tzt.updateVerts=function(){},C$Tzt._updatePaddingRect=function(){var C$Tzt=0,C$Tze=0,C$Tzi=0,C$Tzn=0,C$Tzr=0;C$Tzk.width=C$Tzk.height=0,C$Tzh&&(C$Tzt=C$Tze=C$Tzi=C$Tzn=C$Tzr=C$Tzh.width,C$Tzk.width=C$Tzk.height=2*C$Tzr),C$Tzu&&(C$Tzr=C$Tzu.blur+C$Tzr,C$Tzi=Math.max(C$Tzi,-C$Tzu._offset.x+C$Tzr),C$Tzn=Math.max(C$Tzn,C$Tzu._offset.x+C$Tzr),C$Tzt=Math.max(C$Tzt,C$Tzu._offset.y+C$Tzr),C$Tze=Math.max(C$Tze,-C$Tzu._offset.y+C$Tzr)),C$TzU&&(C$Tzn+=C$Tzr=C$TzI*Math.tan(.20943951),C$Tzk.width+=C$Tzr),C$Tzx.x=C$Tzi,C$Tzx.y=C$Tzt,C$Tzx.width=C$Tzi+C$Tzn,C$Tzx.height=C$Tzt+C$Tze;},C$Tzt._updateFontFamily=function(C$Tzt){C$TzL=C$TzS(C$Tzt);},C$Tzt._updateProperties=function(C$Tzt){var C$Tze=C$Tzt._assemblerData;C$Tzm=C$Tze.context,C$Tzw=C$Tze.canvas,C$TzE=(C$Tzt._frame._original||C$Tzt._frame)._texture,C$TzM=C$Tzt.string.toString(),C$Tzg=C$Tzt._fontSize,C$TzI=C$Tzg,C$TzH=C$Tzt.underlineHeight||C$TzI/8,C$TzV=C$Tzt.overflow,C$Tzv.width=C$Tzt.node.width,C$Tzv.height=C$Tzt.node.height,C$TzG=C$Tzt.node.getContentSize(),C$TzB=C$Tzt._lineHeight,C$TzR=C$Tzt.horizontalAlign,C$TzP=C$Tzt.verticalAlign,C$TzD=C$Tzt.node.color,C$Tzz=C$Tzt.enableBold,C$TzU=C$Tzt.enableItalic,C$TzW=C$Tzt.enableUnderline,C$TzO=C$TzV!==C$TzA.NONE&&(C$TzV===C$TzA.RESIZE_HEIGHT||C$Tzt.enableWrapText),(C$Tzh=(C$Tzh=C$Tzf&&C$Tzt.getComponent(C$Tzf))&&C$Tzh.enabled&&0<C$Tzh.width?C$Tzh:null)&&C$TzF.set(C$Tzh.color),(C$Tzu=(C$Tzu=C$Tzb&&C$Tzt.getComponent(C$Tzb))&&C$Tzu.enabled?C$Tzu:null)&&(C$TzN.set(C$Tzu.color),C$TzN.a=C$TzN.a*C$Tzt.node.color.a/255),this._updatePaddingRect();},C$Tzt._calculateFillTextStartPosition=function(){var C$Tzt=0;C$TzR===C$Tzd.TextAlignment.RIGHT?C$Tzt=C$Tzv.width-C$Tzx.width:C$TzR===C$Tzd.TextAlignment.CENTER&&(C$Tzt=(C$Tzv.width-C$Tzx.width)/2);var C$Tze=this._getLineHeight()*(C$Tzl.length-1),C$Tzi=C$Tzg*(1-C$Tzp.BASELINE_RATIO/2);return C$TzP!==C$Tzd.VerticalTextAlignment.TOP&&(C$Tze=C$Tze+C$Tzx.height+C$Tzg-C$Tzv.height,C$TzP===C$Tzd.VerticalTextAlignment.BOTTOM?C$Tzi-=C$Tze+=C$Tzp.BASELINE_RATIO/2*C$Tzg:C$Tzi-=C$Tze/2),C$Tzi+=C$Tzp.BASELINE_OFFSET*C$Tzg,cc.v2(C$Tzt+C$Tzx.x,C$Tzi+C$Tzx.y);},C$Tzt._setupOutline=function(){C$Tzm.strokeStyle=H[1636]+C$TzF.r+H[1637]+C$TzF.g+H[1637]+C$TzF.b+H[1637]+C$TzF.a/255+")",C$Tzm.lineWidth=2*C$Tzh.width;},C$Tzt._setupShadow=function(){C$Tzm.shadowColor=H[1636]+C$TzN.r+H[1637]+C$TzN.g+H[1637]+C$TzN.b+H[1637]+C$TzN.a/255+")",C$Tzm.shadowBlur=C$Tzu.blur,C$Tzm.shadowOffsetX=C$Tzu.offset.x,C$Tzm.shadowOffsetY=-C$Tzu.offset.y;},C$Tzt._drawUnderline=function(C$Tzt){C$Tzh&&(this._setupOutline(),C$Tzm.strokeRect(C$Tzj.x,C$Tzj.y,C$Tzt,C$TzH)),C$Tzm.lineWidth=C$TzH,C$Tzm.fillStyle=H[1636]+C$TzD.r+H[1637]+C$TzD.g+H[1637]+C$TzD.b+H[1637]+C$TzD.a/255+")",C$Tzm.fillRect(C$Tzj.x,C$Tzj.y,C$Tzt,C$TzH);},C$Tzt._updateTexture=function(){C$Tzm.clearRect(0,0,C$Tzw.width,C$Tzw.height);var C$Tzt=C$Tzh?C$TzF:C$TzD,C$Tze=(C$Tzm.fillStyle=H[1636]+C$Tzt.r+H[1637]+C$Tzt.g+H[1637]+C$Tzt.b+H[1637]+C$TzT+")",C$Tzm.fillRect(0,0,C$Tzw.width,C$Tzw.height),C$Tzm.font=C$Tzy,this._calculateFillTextStartPosition()),C$Tzi=this._getLineHeight(),C$Tzn=(C$Tzm.lineJoin=H[1638],C$Tzm.fillStyle=H[1636]+C$TzD.r+H[1637]+C$TzD.g+H[1637]+C$TzD.b+H[1639],1<C$Tzl.length),C$Tzr=this._measureText(C$Tzm,C$Tzy),C$Tzs=0,C$Tzo=0;C$Tzu&&this._setupShadow(),C$Tzh&&0<C$Tzh.width&&this._setupOutline();for(var C$Tza=0;C$Tza<C$Tzl.length;++C$Tza)C$Tzs=C$Tze.x,C$Tzo=C$Tze.y+C$Tza*C$Tzi,C$Tzu&&C$Tzn&&(C$Tzh&&0<C$Tzh.width&&C$Tzm.strokeText(C$Tzl[C$Tza],C$Tzs,C$Tzo),C$Tzm.fillText(C$Tzl[C$Tza],C$Tzs,C$Tzo)),C$TzW&&(C$Tz_=C$Tzr(C$Tzl[C$Tza]),C$TzR===C$Tzd.TextAlignment.RIGHT?C$Tzj.x=C$Tze.x-C$Tz_:C$TzR===C$Tzd.TextAlignment.CENTER?C$Tzj.x=C$Tze.x-C$Tz_/2:C$Tzj.x=C$Tze.x,C$Tzj.y=C$Tzo+C$TzI/8,this._drawUnderline(C$Tz_));C$Tzu&&C$Tzn&&(C$Tzm.shadowColor=H[584]);for(var C$Tzc=0;C$Tzc<C$Tzl.length;++C$Tzc)C$Tzs=C$Tze.x,C$Tzo=C$Tze.y+C$Tzc*C$Tzi,C$Tzh&&0<C$Tzh.width&&C$Tzm.strokeText(C$Tzl[C$Tzc],C$Tzs,C$Tzo),C$Tzm.fillText(C$Tzl[C$Tzc],C$Tzs,C$Tzo);C$Tzu&&(C$Tzm.shadowColor=H[584]),C$TzE.handleLoadedTexture();},C$Tzt._calDynamicAtlas=function(C$Tzt){var C$Tze;C$Tzt.cacheMode===C$Tzc.CacheMode.BITMAP&&(C$Tze=C$Tzt._frame,C$TzC(C$Tzt,C$Tze),C$Tze._original||C$Tze.setRect(cc.rect(0,0,C$Tzw.width,C$Tzw.height)),this.packToDynamicAtlas(C$Tzt,C$Tze));},C$Tzt._updateLabelDimensions=function(){var C$Tzt=C$TzM.split("\n");if(C$TzV===C$TzA.RESIZE_HEIGHT){var C$Tze=(C$Tzl.length+C$Tzp.BASELINE_RATIO)*this._getLineHeight();C$Tzv.height=C$Tze+C$Tzx.height,C$TzG.height=C$Tze+C$Tzk.height;}else if(C$TzV===C$TzA.NONE){C$Tzl=C$Tzt;for(var C$Tzi=0,C$Tze=0,C$Tzn=0;C$Tzn<C$Tzt.length;++C$Tzn)var C$Tzr=C$Tzp.safeMeasureText(C$Tzm,C$Tzt[C$Tzn],C$Tzy),C$Tzi=C$Tzr<C$Tzi?C$Tzi:C$Tzr;var C$Tze=(C$Tzl.length+C$Tzp.BASELINE_RATIO)*this._getLineHeight(),C$Tzs=parseFloat(C$Tzi.toFixed(2)),C$Tze=parseFloat(C$Tze.toFixed(2));C$Tzv.width=C$Tzs+C$Tzx.width,C$Tzv.height=C$Tze+C$Tzx.height,C$TzG.width=C$Tzs+C$Tzk.width,C$TzG.height=C$Tze+C$Tzk.height;}C$Tzv.width=Math.min(C$Tzv.width,2048),C$Tzv.height=Math.min(C$Tzv.height,2048),C$Tzw.width!==C$Tzv.width&&(C$Tzw.width=C$Tzv.width),C$Tzw.height!==C$Tzv.height&&(C$Tzw.height=C$Tzv.height);},C$Tzt._calculateTextBaseline=function(){var C$Tzt=C$TzR===C$Tzd.TextAlignment.RIGHT?H[1012]:C$TzR===C$Tzd.TextAlignment.CENTER?H[921]:H[1011];C$Tzm.textAlign=C$Tzt,C$Tzm.textBaseline=H[1635];},C$Tzt._calculateSplitedStrings=function(){var C$Tzt=C$TzM.split("\n");if(C$TzO){C$Tzl=[];for(var C$Tze=C$TzG.width,C$Tzi=0;C$Tzi<C$Tzt.length;++C$Tzi){var C$Tzn=C$Tzp.safeMeasureText(C$Tzm,C$Tzt[C$Tzi],C$Tzy),C$Tzn=C$Tzp.fragmentText(C$Tzt[C$Tzi],C$Tzn,C$Tze,this._measureText(C$Tzm,C$Tzy));C$Tzl=C$Tzl.concat(C$Tzn);}}else C$Tzl=C$Tzt;},C$Tzt._getFontDesc=function(){var C$Tzt=C$Tzg.toString()+H[1641];return C$Tzt+=C$TzL,C$Tzz&&(C$Tzt=H[1643]+C$Tzt),C$Tzt=C$TzU?H[1644]+C$Tzt:C$Tzt;},C$Tzt._getLineHeight=function(){return 0|(0===C$TzB?C$Tzg:C$TzB*C$Tzg/C$TzI);},C$Tzt._calculateParagraphLength=function(C$Tzt,C$Tze){for(var C$Tzi=[],C$Tzn=0;C$Tzn<C$Tzt.length;++C$Tzn){var C$Tzr=C$Tzp.safeMeasureText(C$Tze,C$Tzt[C$Tzn],C$Tzy);C$Tzi.push(C$Tzr);}return C$Tzi;},C$Tzt._measureText=function(C$Tze,C$Tzi){return function(C$Tzt){return C$Tzp.safeMeasureText(C$Tze,C$Tzt,C$Tzi);};},C$Tzt._calculateLabelFont=function(){if(C$Tzy=this._getFontDesc(),C$Tzm.font=C$Tzy,C$TzV===C$TzA.SHRINK){var C$Tzt=C$TzM.split("\n"),C$Tzh=this._calculateParagraphLength(C$Tzt,C$Tzm),C$Tze=0,C$Tzi=0,C$Tzn=0;if(C$TzO){var C$Tzr=C$TzG.width,C$Tzs=C$TzG.height;if(C$Tzr<0||C$Tzs<0)return C$Tzy=this._getFontDesc(),void(C$Tzm.font=C$Tzy);for(var C$Tzo,C$Tzi=C$Tzs+1,C$Tzn=C$Tzr+1,C$Tza=0,C$Tzc=0|C$Tzg+1;C$Tza<C$Tzc;){if((C$Tzo=C$Tza+C$Tzc+1>>1)<=0){cc.logID(4003);break;}for(C$Tzg=C$Tzo,C$Tzy=this._getFontDesc(),C$Tzm.font=C$Tzy,C$Tze=C$Tzi=0;C$Tze<C$Tzt.length;++C$Tze)for(var C$Tzl=0,C$Tzu=C$Tzp.safeMeasureText(C$Tzm,C$Tzt[C$Tze],C$Tzy),C$Tz_=C$Tzp.fragmentText(C$Tzt[C$Tze],C$Tzu,C$Tzr,this._measureText(C$Tzm,C$Tzy));C$Tzl<C$Tz_.length;)C$Tzn=C$Tzp.safeMeasureText(C$Tzm,C$Tz_[C$Tzl],C$Tzy),C$Tzi+=this._getLineHeight(),++C$Tzl;C$Tzs<C$Tzi?C$Tzc=C$Tzo-1:C$Tza=C$Tzo;}0===C$Tza?cc.logID(4003):(C$Tzg=C$Tza,C$Tzy=this._getFontDesc(),C$Tzm.font=C$Tzy);}else{for(C$Tzi=C$Tzt.length*this._getLineHeight(),C$Tze=0;C$Tze<C$Tzt.length;++C$Tze)C$Tzn<C$Tzh[C$Tze]&&(C$Tzn=C$Tzh[C$Tze]);var C$Tzd=(C$Tzv.width-C$Tzx.width)/C$Tzn,C$Tzf=C$Tzv.height/C$Tzi;C$Tzg=C$TzI*Math.min(1,C$Tzd,C$Tzf)|0,C$Tzy=this._getFontDesc(),C$Tzm.font=C$Tzy;}}},C$TzX);function C$TzX(){return C$Tza.apply(this,arguments)||this;}C$Tzn.default=C$Tze,C$Tzi.exports=C$Tzn.default;},{"../../../components/CCLabel":80,"../../../components/CCLabelOutline":81,"../../../components/CCLabelShadow":82,"../../../platform/CCMacro":194,"../../../utils/text-utils":271,"../../assembler-2d":215,"../utils":228}],228:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1645]),C$Tzt=cc.Color.WHITE;C$Tze.exports={deleteFromDynamicAtlas:function(C$Tzt,C$Tze){C$Tze&&C$Tze._original&&C$Tzn&&(C$Tzn.deleteAtlasSpriteFrame(C$Tze),C$Tze._resetDynamicAtlasFrame());},getFontFamily:function(C$Tzi){return C$Tzi.useSystemFont?C$Tzi.fontFamily||H[741]:C$Tzi.font?C$Tzi.font._nativeAsset||(cc.loader.load(C$Tzi.font.nativeUrl,function(C$Tzt,C$Tze){C$Tzi.font._nativeAsset=C$Tze,C$Tzi.setVertsDirty();}),H[741]):H[741];},shareLabelInfo:{fontAtlas:null,fontSize:0,lineHeight:0,hAlign:0,vAlign:0,hash:"",fontFamily:"",fontDesc:H[741],color:C$Tzt,isOutlined:!1,out:C$Tzt,margin:0}};},{"./dynamic-atlas/manager":223}],229:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzt,C$Tze,C$Tzi){C$Tzi=C$Tzi||2;var C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tzh,C$Tzu=C$Tze&&C$Tze.length,C$Tz_=C$Tzu?C$Tze[0]*C$Tzi:C$Tzt.length,C$Tza=C$TzS(C$Tzt,0,C$Tz_,C$Tzi,!0),C$Tzd=[];if(!C$Tza)return C$Tzd;if(C$Tzu&&(C$Tza=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc=[];for(C$Tzr=0,C$Tzs=C$Tze.length;C$Tzr<C$Tzs;C$Tzr++)C$Tza=C$Tze[C$Tzr]*C$Tzn,C$Tzo=C$Tzr<C$Tzs-1?C$Tze[C$Tzr+1]*C$Tzn:C$Tzt.length,(C$Tza=C$TzS(C$Tzt,C$Tza,C$Tzo,C$Tzn,!1))===C$Tza.next&&(C$Tza.steiner=!0),C$Tzc.push(function(C$Tzt){var C$Tze=C$Tzt,C$Tzi=C$Tzt;for(;C$Tze.x<C$Tzi.x&&(C$Tzi=C$Tze),C$Tze=C$Tze.next,C$Tze!==C$Tzt;);return C$Tzi;}(C$Tza));for(C$Tzc.sort(C$TzT),C$Tzr=0;C$Tzr<C$Tzc.length;C$Tzr++)!function(C$Tzt,C$Tze){(C$Tze=function(C$Tzt,C$Tzh){var C$Tze,C$Tzi=C$Tzh,C$Tzn=C$Tzt.x,C$Tzr=C$Tzt.y,C$Tzs=-1/0;do{if(C$Tzr<=C$Tzi.y&&C$Tzr>=C$Tzi.next.y){var C$Tzo=C$Tzi.x+(C$Tzr-C$Tzi.y)*(C$Tzi.next.x-C$Tzi.x)/(C$Tzi.next.y-C$Tzi.y);if(C$Tzo<=C$Tzn&&C$Tzs<C$Tzo){if((C$Tzs=C$Tzo)===C$Tzn){if(C$Tzr===C$Tzi.y)return C$Tzi;if(C$Tzr===C$Tzi.next.y)return C$Tzi.next;}C$Tze=C$Tzi.x<C$Tzi.next.x?C$Tzi:C$Tzi.next;}}}while((C$Tzi=C$Tzi.next,C$Tzi!==C$Tzh));if(!C$Tze)return null;if(C$Tzn===C$Tzs)return C$Tze.prev;var C$Tza,C$Tzu=C$Tze,C$Tz_=C$Tze.x,C$Tzc=C$Tze.y,C$Tzl=1/0;C$Tzi=C$Tze.next;for(;C$Tzi!==C$Tzu;)C$Tzn>=C$Tzi.x&&C$Tzi.x>=C$Tz_&&C$Tzg(C$Tzr<C$Tzc?C$Tzn:C$Tzs,C$Tzr,C$Tz_,C$Tzc,C$Tzr<C$Tzc?C$Tzs:C$Tzn,C$Tzr,C$Tzi.x,C$Tzi.y)&&((C$Tza=Math.abs(C$Tzr-C$Tzi.y)/(C$Tzn-C$Tzi.x))<C$Tzl||C$Tza===C$Tzl&&C$Tzi.x>C$Tze.x)&&C$Tzb(C$Tzi,C$Tzt)&&(C$Tze=C$Tzi,C$Tzl=C$Tza),C$Tzi=C$Tzi.next;return C$Tze;}(C$Tzt,C$Tze))&&C$Tzp(C$Tze=C$TzE(C$Tze,C$Tzt),C$Tze.next);}(C$Tzc[C$Tzr],C$Tzi),C$Tzi=C$Tzp(C$Tzi,C$Tzi.next);return C$Tzi;}(C$Tzt,C$Tze,C$Tza,C$Tzi)),C$Tzt.length>80*C$Tzi){for(var C$Tzc=C$Tzn=C$Tzt[0],C$Tzl=C$Tzr=C$Tzt[1],C$Tzf=C$Tzi;C$Tzf<C$Tz_;C$Tzf+=C$Tzi)(C$Tzs=C$Tzt[C$Tzf])<C$Tzc&&(C$Tzc=C$Tzs),(C$Tzo=C$Tzt[C$Tzf+1])<C$Tzl&&(C$Tzl=C$Tzo),C$Tzn<C$Tzs&&(C$Tzn=C$Tzs),C$Tzr<C$Tzo&&(C$Tzr=C$Tzo);C$Tzh=Math.max(C$Tzn-C$Tzc,C$Tzr-C$Tzl);}return C$Tzm(C$Tza,C$Tzd,C$Tzi,C$Tzc,C$Tzl,C$Tzh),C$Tzd;}function C$TzS(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs,C$Tzo;if(C$Tzr===0<C$TzC(C$Tzt,C$Tze,C$Tzi,C$Tzn))for(C$Tzs=C$Tze;C$Tzs<C$Tzi;C$Tzs+=C$Tzn)C$Tzo=C$Tza(C$Tzs,C$Tzt[C$Tzs],C$Tzt[C$Tzs+1],C$Tzo);else for(C$Tzs=C$Tzi-C$Tzn;C$Tze<=C$Tzs;C$Tzs-=C$Tzn)C$Tzo=C$Tza(C$Tzs,C$Tzt[C$Tzs],C$Tzt[C$Tzs+1],C$Tzo);return C$Tzo&&C$Tzx(C$Tzo,C$Tzo.next)&&(C$TzA(C$Tzo),C$Tzo=C$Tzo.next),C$Tzo;}function C$Tzp(C$Tzt,C$Tze){if(!C$Tzt)return C$Tzt;C$Tze=C$Tze||C$Tzt;var C$Tzi,C$Tzn=C$Tzt;do{if(C$Tzi=!1,C$Tzn.steiner||!C$Tzx(C$Tzn,C$Tzn.next)&&0!==C$Tzv(C$Tzn.prev,C$Tzn,C$Tzn.next))C$Tzn=C$Tzn.next;else{if(C$TzA(C$Tzn),(C$Tzn=C$Tze=C$Tzn.prev)===C$Tzn.next)return null;C$Tzi=!0;}}while(C$Tzi||C$Tzn!==C$Tze);return C$Tze;}function C$Tzm(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo){if(C$Tzt){if(!C$Tzo&&C$Tzs){var C$Tza=C$Tzt;var C$Tzh=C$Tzn;var C$Tzu=C$Tzr;var C$Tz_=C$Tzs;var C$Tzc=C$Tza;for(;null===C$Tzc.z&&(C$Tzc.z=C$Tzy(C$Tzc.x,C$Tzc.y,C$Tzh,C$Tzu,C$Tz_)),C$Tzc.prevZ=C$Tzc.prev,C$Tzc.nextZ=C$Tzc.next,C$Tzc=C$Tzc.next,C$Tzc!==C$Tza;);C$Tzc.prevZ.nextZ=null,C$Tzc.prevZ=null,function(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl=1;do{for(C$Tzi=C$Tzt,C$Tzs=C$Tzt=null,C$Tzo=0;C$Tzi;){for(C$Tzo++,C$Tzn=C$Tzi,C$Tze=C$Tza=0;C$Tze<C$Tzl&&(C$Tza++,C$Tzn=C$Tzn.nextZ);C$Tze++);for(C$Tzc=C$Tzl;0<C$Tza||0<C$Tzc&&C$Tzn;)0!==C$Tza&&(0===C$Tzc||!C$Tzn||C$Tzi.z<=C$Tzn.z)?(C$Tzi=(C$Tzr=C$Tzi).nextZ,C$Tza--):(C$Tzn=(C$Tzr=C$Tzn).nextZ,C$Tzc--),C$Tzs?C$Tzs.nextZ=C$Tzr:C$Tzt=C$Tzr,C$Tzr.prevZ=C$Tzs,C$Tzs=C$Tzr;C$Tzi=C$Tzn;}}while((C$Tzs.nextZ=null,C$Tzl*=2,1<C$Tzo));}(C$Tzc);}for(var C$Tzd,C$Tzl,C$Tzf=C$Tzt;C$Tzt.prev!==C$Tzt.next;)if(C$Tzd=C$Tzt.prev,C$Tzl=C$Tzt.next,C$Tzs?function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tzt.prev,C$Tzs=C$Tzt,C$Tzo=C$Tzt.next;if(0<=C$Tzv(C$Tzr,C$Tzs,C$Tzo))return!1;var C$Tza=(C$Tzr.x<C$Tzs.x?C$Tzr.x<C$Tzo.x?C$Tzr:C$Tzo:C$Tzs.x<C$Tzo.x?C$Tzs:C$Tzo).x,C$Tzc=(C$Tzr.y<C$Tzs.y?C$Tzr.y<C$Tzo.y?C$Tzr:C$Tzo:C$Tzs.y<C$Tzo.y?C$Tzs:C$Tzo).y,C$Tzh=(C$Tzr.x>C$Tzs.x?C$Tzr.x>C$Tzo.x?C$Tzr:C$Tzo:C$Tzs.x>C$Tzo.x?C$Tzs:C$Tzo).x,C$Tzu=(C$Tzr.y>C$Tzs.y?C$Tzr.y>C$Tzo.y?C$Tzr:C$Tzo:C$Tzs.y>C$Tzo.y?C$Tzs:C$Tzo).y,C$Tz_=C$Tzy(C$Tza,C$Tzc,C$Tze,C$Tzi,C$Tzn),C$Tzd=C$Tzy(C$Tzh,C$Tzu,C$Tze,C$Tzi,C$Tzn),C$Tzl=C$Tzt.nextZ;for(;C$Tzl&&C$Tzl.z<=C$Tzd;){if(C$Tzl!==C$Tzt.prev&&C$Tzl!==C$Tzt.next&&C$Tzg(C$Tzr.x,C$Tzr.y,C$Tzs.x,C$Tzs.y,C$Tzo.x,C$Tzo.y,C$Tzl.x,C$Tzl.y)&&0<=C$Tzv(C$Tzl.prev,C$Tzl,C$Tzl.next))return!1;C$Tzl=C$Tzl.nextZ;}C$Tzl=C$Tzt.prevZ;for(;C$Tzl&&C$Tzl.z>=C$Tz_;){if(C$Tzl!==C$Tzt.prev&&C$Tzl!==C$Tzt.next&&C$Tzg(C$Tzr.x,C$Tzr.y,C$Tzs.x,C$Tzs.y,C$Tzo.x,C$Tzo.y,C$Tzl.x,C$Tzl.y)&&0<=C$Tzv(C$Tzl.prev,C$Tzl,C$Tzl.next))return!1;C$Tzl=C$Tzl.prevZ;}return!0;}(C$Tzt,C$Tzn,C$Tzr,C$Tzs):function(C$Tzt){var C$Tze=C$Tzt.prev,C$Tzi=C$Tzt,C$Tzn=C$Tzt.next;if(0<=C$Tzv(C$Tze,C$Tzi,C$Tzn))return!1;var C$Tzr=C$Tzt.next.next;for(;C$Tzr!==C$Tzt.prev;){if(C$Tzg(C$Tze.x,C$Tze.y,C$Tzi.x,C$Tzi.y,C$Tzn.x,C$Tzn.y,C$Tzr.x,C$Tzr.y)&&0<=C$Tzv(C$Tzr.prev,C$Tzr,C$Tzr.next))return!1;C$Tzr=C$Tzr.next;}return!0;}(C$Tzt))C$Tze.push(C$Tzd.i/C$Tzi),C$Tze.push(C$Tzt.i/C$Tzi),C$Tze.push(C$Tzl.i/C$Tzi),C$TzA(C$Tzt),C$Tzt=C$Tzl.next,C$Tzf=C$Tzl.next;else if((C$Tzt=C$Tzl)===C$Tzf){C$Tzo?1===C$Tzo?C$Tzm(C$Tzt=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt;do{var C$Tzr=C$Tzn.prev,C$Tzs=C$Tzn.next.next;}while((!C$Tzx(C$Tzr,C$Tzs)&&C$Tzw(C$Tzr,C$Tzn,C$Tzn.next,C$Tzs)&&C$Tzb(C$Tzr,C$Tzs)&&C$Tzb(C$Tzs,C$Tzr)&&(C$Tze.push(C$Tzr.i/C$Tzi),C$Tze.push(C$Tzn.i/C$Tzi),C$Tze.push(C$Tzs.i/C$Tzi),C$TzA(C$Tzn),C$TzA(C$Tzn.next),C$Tzn=C$Tzt=C$Tzs),C$Tzn=C$Tzn.next,C$Tzn!==C$Tzt));return C$Tzn;}(C$Tzt,C$Tze,C$Tzi),C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,2):2===C$Tzo&&function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){var C$Tzo=C$Tzt;do{for(var C$Tza,C$Tzc=C$Tzo.next.next;C$Tzc!==C$Tzo.prev;){if(C$Tzo.i!==C$Tzc.i&&function(C$Tzt,C$Tze){return C$Tzt.next.i!==C$Tze.i&&C$Tzt.prev.i!==C$Tze.i&&!function(C$Tzt,C$Tze){var C$Tzi=C$Tzt;do{if(C$Tzi.i!==C$Tzt.i&&C$Tzi.next.i!==C$Tzt.i&&C$Tzi.i!==C$Tze.i&&C$Tzi.next.i!==C$Tze.i&&C$Tzw(C$Tzi,C$Tzi.next,C$Tzt,C$Tze))return!0;}while((C$Tzi=C$Tzi.next,C$Tzi!==C$Tzt));return!1;}(C$Tzt,C$Tze)&&C$Tzb(C$Tzt,C$Tze)&&C$Tzb(C$Tze,C$Tzt)&&function(C$Tzt,C$Tze){var C$Tzi=C$Tzt,C$Tzn=!1,C$Tzr=(C$Tzt.x+C$Tze.x)/2,C$Tzs=(C$Tzt.y+C$Tze.y)/2;for(;C$Tzi.y>C$Tzs!=C$Tzi.next.y>C$Tzs&&C$Tzr<(C$Tzi.next.x-C$Tzi.x)*(C$Tzs-C$Tzi.y)/(C$Tzi.next.y-C$Tzi.y)+C$Tzi.x&&(C$Tzn=!C$Tzn),C$Tzi=C$Tzi.next,C$Tzi!==C$Tzt;);return C$Tzn;}(C$Tzt,C$Tze);}(C$Tzo,C$Tzc))return C$Tza=C$TzE(C$Tzo,C$Tzc),C$Tzo=C$Tzp(C$Tzo,C$Tzo.next),C$Tza=C$Tzp(C$Tza,C$Tza.next),C$Tzm(C$Tzo,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs),C$Tzm(C$Tza,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs);C$Tzc=C$Tzc.next;}}while((C$Tzo=C$Tzo.next,C$Tzo!==C$Tzt));}(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs):C$Tzm(C$Tzp(C$Tzt),C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,1);break;}}}function C$TzT(C$Tzt,C$Tze){return C$Tzt.x-C$Tze.x;}function C$Tzy(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return(C$Tzt=1431655765&((C$Tzt=858993459&((C$Tzt=252645135&((C$Tzt=16711935&((C$Tzt=32767*(C$Tzt-C$Tzi)/C$Tzr)|C$Tzt<<8))|C$Tzt<<4))|C$Tzt<<2))|C$Tzt<<1))|(C$Tze=1431655765&((C$Tze=858993459&((C$Tze=252645135&((C$Tze=16711935&((C$Tze=32767*(C$Tze-C$Tzn)/C$Tzr)|C$Tze<<8))|C$Tze<<4))|C$Tze<<2))|C$Tze<<1))<<1;}function C$Tzg(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza){return 0<=(C$Tzr-C$Tzo)*(C$Tze-C$Tza)-(C$Tzt-C$Tzo)*(C$Tzs-C$Tza)&&0<=(C$Tzt-C$Tzo)*(C$Tzn-C$Tza)-(C$Tzi-C$Tzo)*(C$Tze-C$Tza)&&0<=(C$Tzi-C$Tzo)*(C$Tzs-C$Tza)-(C$Tzr-C$Tzo)*(C$Tzn-C$Tza);}function C$Tzv(C$Tzt,C$Tze,C$Tzi){return(C$Tze.y-C$Tzt.y)*(C$Tzi.x-C$Tze.x)-(C$Tze.x-C$Tzt.x)*(C$Tzi.y-C$Tze.y);}function C$Tzx(C$Tzt,C$Tze){return C$Tzt.x===C$Tze.x&&C$Tzt.y===C$Tze.y;}function C$Tzw(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzx(C$Tzt,C$Tze)&&C$Tzx(C$Tzi,C$Tzn)||C$Tzx(C$Tzt,C$Tzn)&&C$Tzx(C$Tzi,C$Tze)||0<C$Tzv(C$Tzt,C$Tze,C$Tzi)!=0<C$Tzv(C$Tzt,C$Tze,C$Tzn)&&0<C$Tzv(C$Tzi,C$Tzn,C$Tzt)!=0<C$Tzv(C$Tzi,C$Tzn,C$Tze);}function C$Tzb(C$Tzt,C$Tze){return C$Tzv(C$Tzt.prev,C$Tzt,C$Tzt.next)<0?0<=C$Tzv(C$Tzt,C$Tze,C$Tzt.next)&&0<=C$Tzv(C$Tzt,C$Tzt.prev,C$Tze):C$Tzv(C$Tzt,C$Tze,C$Tzt.prev)<0||C$Tzv(C$Tzt,C$Tzt.next,C$Tze)<0;}function C$TzE(C$Tzt,C$Tze){var C$Tzi=new C$Tzo(C$Tzt.i,C$Tzt.x,C$Tzt.y),C$Tzn=new C$Tzo(C$Tze.i,C$Tze.x,C$Tze.y),C$Tzr=C$Tzt.next,C$Tzs=C$Tze.prev;return(C$Tzt.next=C$Tze).prev=C$Tzt,(C$Tzi.next=C$Tzr).prev=C$Tzi,(C$Tzn.next=C$Tzi).prev=C$Tzn,(C$Tzs.next=C$Tzn).prev=C$Tzs,C$Tzn;}function C$Tza(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzt=new C$Tzo(C$Tzt,C$Tze,C$Tzi);return C$Tzn?(C$Tzt.next=C$Tzn.next,(C$Tzt.prev=C$Tzn).next.prev=C$Tzt,C$Tzn.next=C$Tzt):(C$Tzt.prev=C$Tzt).next=C$Tzt,C$Tzt;}function C$TzA(C$Tzt){C$Tzt.next.prev=C$Tzt.prev,C$Tzt.prev.next=C$Tzt.next,C$Tzt.prevZ&&(C$Tzt.prevZ.nextZ=C$Tzt.nextZ),C$Tzt.nextZ&&(C$Tzt.nextZ.prevZ=C$Tzt.prevZ);}function C$Tzo(C$Tzt,C$Tze,C$Tzi){this.i=C$Tzt,this.x=C$Tze,this.y=C$Tzi,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1;}function C$TzC(C$Tzt,C$Tze,C$Tzi,C$Tzn){for(var C$Tzr=0,C$Tzs=C$Tze,C$Tzo=C$Tzi-C$Tzn;C$Tzs<C$Tzi;C$Tzs+=C$Tzn)C$Tzr+=(C$Tzt[C$Tzo]-C$Tzt[C$Tzs])*(C$Tzt[C$Tzs+1]+C$Tzt[C$Tzo+1]),C$Tzo=C$Tzs;return C$Tzr;}(cc.Graphics.earcut=C$Tze.exports=C$Tzn).deviation=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tze&&C$Tze.length,C$Tzh=C$Tzr?C$Tze[0]*C$Tzi:C$Tzt.length,C$Tzs=Math.abs(C$TzC(C$Tzt,0,C$Tzh,C$Tzi));if(C$Tzr)for(var C$Tzo=0,C$Tza=C$Tze.length;C$Tzo<C$Tza;C$Tzo++){var C$Tzu=C$Tze[C$Tzo]*C$Tzi,C$Tz_=C$Tzo<C$Tza-1?C$Tze[C$Tzo+1]*C$Tzi:C$Tzt.length;C$Tzs-=Math.abs(C$TzC(C$Tzt,C$Tzu,C$Tz_,C$Tzi));}for(var C$Tzc=0,C$Tzo=0;C$Tzo<C$Tzn.length;C$Tzo+=3){var C$Tzl=C$Tzn[C$Tzo]*C$Tzi,C$Tzd=C$Tzn[C$Tzo+1]*C$Tzi,C$Tzf=C$Tzn[C$Tzo+2]*C$Tzi;C$Tzc+=Math.abs((C$Tzt[C$Tzl]-C$Tzt[C$Tzf])*(C$Tzt[1+C$Tzd]-C$Tzt[1+C$Tzl])-(C$Tzt[C$Tzl]-C$Tzt[C$Tzd])*(C$Tzt[1+C$Tzf]-C$Tzt[1+C$Tzl]));}return 0===C$Tzs&&0===C$Tzc?0:Math.abs((C$Tzc-C$Tzs)/C$Tzs);},C$Tzn.flatten=function(C$Tzt){for(var C$Tze=C$Tzt[0][0].length,C$Tzi={vertices:[],holes:[],dimensions:C$Tze},C$Tzn=0,C$Tzr=0;C$Tzr<C$Tzt.length;C$Tzr++){for(var C$Tzs=0;C$Tzs<C$Tzt[C$Tzr].length;C$Tzs++)for(var C$Tzo=0;C$Tzo<C$Tze;C$Tzo++)C$Tzi.vertices.push(C$Tzt[C$Tzr][C$Tzs][C$Tzo]);0<C$Tzr&&(C$Tzn+=C$Tzt[C$Tzr-1].length,C$Tzi.holes.push(C$Tzn));}return C$Tzi;};},{}],230:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tza=C$Tzt(H[1646]),C$Tzc=C$Tzt(H[1647]).PointFlags,C$Tzo=cc.Graphics.Point=cc.Class({name:H[1648],extends:cc.Vec2,ctor:function(C$Tzt,C$Tze){this.reset();},reset:function(){this.dx=0,this.dy=0,this.dmx=0,this.dmy=0,this.flags=0,this.len=0;}});function C$Tzn(){this.reset();}function C$Tzr(C$Tzt){this._tessTol=.25,this._distTol=.01,this._updatePathOffset=!1,this._paths=null,this._pathLength=0,this._pathOffset=0,this._points=null,this._pointsOffset=0,this._commandx=0,this._commandy=0,this._paths=[],this._points=[];}cc.js.mixin(C$Tzn.prototype,{reset:function(){this.closed=!1,this.nbevel=0,this.complex=!0,this.points?this.points.length=0:this.points=[];}}),cc.js.mixin(C$Tzr.prototype,{moveTo:function(C$Tzt,C$Tze){this._updatePathOffset&&(this._pathOffset=this._pathLength,this._updatePathOffset=!1),this._addPath(),this._addPoint(C$Tzt,C$Tze,C$Tzc.PT_CORNER),this._commandx=C$Tzt,this._commandy=C$Tze;},lineTo:function(C$Tzt,C$Tze){this._addPoint(C$Tzt,C$Tze,C$Tzc.PT_CORNER),this._commandx=C$Tzt,this._commandy=C$Tze;},bezierCurveTo:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){var C$Tzo=this._curPath,C$Tzo=C$Tzo.points[C$Tzo.points.length-1];C$Tzo.x!==C$Tzt||C$Tzo.y!==C$Tze||C$Tzi!==C$Tzr||C$Tzn!==C$Tzs?(C$Tza.tesselateBezier(this,C$Tzo.x,C$Tzo.y,C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,0,C$Tzc.PT_CORNER),this._commandx=C$Tzr,this._commandy=C$Tzs):this.lineTo(C$Tzr,C$Tzs);},quadraticCurveTo:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=this._commandx,C$Tzs=this._commandy;this.bezierCurveTo(C$Tzr+2/3*(C$Tzt-C$Tzr),C$Tzs+2/3*(C$Tze-C$Tzs),C$Tzi+2/3*(C$Tzt-C$Tzi),C$Tzn+2/3*(C$Tze-C$Tzn),C$Tzi,C$Tzn);},arc:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){C$Tza.arc(this,C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs);},ellipse:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tza.ellipse(this,C$Tzt,C$Tze,C$Tzi,C$Tzn),this._curPath.complex=!1;},circle:function(C$Tzt,C$Tze,C$Tzi){C$Tza.ellipse(this,C$Tzt,C$Tze,C$Tzi,C$Tzi),this._curPath.complex=!1;},rect:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this.moveTo(C$Tzt,C$Tze),this.lineTo(C$Tzt,C$Tze+C$Tzn),this.lineTo(C$Tzt+C$Tzi,C$Tze+C$Tzn),this.lineTo(C$Tzt+C$Tzi,C$Tze),this.close(),this._curPath.complex=!1;},roundRect:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){C$Tza.roundRect(this,C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr),this._curPath.complex=!1;},clear:function(C$Tzt){this._pathLength=0,this._pathOffset=0,this._pointsOffset=0,this._curPath=null,C$Tzt&&(this._paths.length=0,this._points.length=0);},close:function(){this._curPath.closed=!0;},_addPath:function(){var C$Tzt=this._pathLength,C$Tzt=this._paths[C$Tzt];return C$Tzt?C$Tzt.reset():(C$Tzt=new C$Tzn(),this._paths.push(C$Tzt)),this._pathLength++,this._curPath=C$Tzt;},_addPoint:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr,C$Tzs=this._curPath;C$Tzs&&(C$Tzn=this._points,C$Tzs=C$Tzs.points,(C$Tzr=C$Tzn[this._pointsOffset++])?(C$Tzr.x=C$Tzt,C$Tzr.y=C$Tze):(C$Tzr=new C$Tzo(C$Tzt,C$Tze),C$Tzn.push(C$Tzr)),C$Tzr.flags=C$Tzi,C$Tzs.push(C$Tzr));}}),cc.Graphics._Impl=C$Tzr,C$Tze.exports=C$Tzr;},{"../../../../graphicundefined":132,"../../../../graphics/types":134}],231:[function(C$Tzt,C$Tzn,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.default=void 0;var C$Tzr=C$Tzo(C$Tzt(H[1649])),C$Tzs=C$Tzo(C$Tzt(H[1650]));function C$Tzo(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tza(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzc(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzc(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzc(C$Tzt){return(C$Tzc=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzl=C$Tzt(H[1651]),C$Tzh=C$Tzt(H[1652]).vfmtPosColor,C$Tzu=C$Tzt(H[1653]),C$Tzi=C$Tzt(H[1654]),C$TzL=C$Tzt(H[1647]).PointFlags,C$TzV=C$Tzi.LineJoin,C$TzO=C$Tzi.LineCap,C$TzB=C$Tzt(H[1655]),C$TzF=(C$Tzt(H[1656]),Math.PI),C$Tzg=Math.min,C$TzN=Math.max,C$Tzk=Math.ceil,C$TzG=Math.acos,C$TzE=Math.cos,C$TzM=Math.sin,C$TzI=Math.atan2;function C$TzR(C$Tzt,C$Tze,C$Tzi){return C$Tzt<C$Tze?C$Tze:C$Tzi<C$Tzt?C$Tzi:C$Tzt;}C$Tz_=C$Tzr.default,C$Tzi=C$Tz_,(C$Tzt=C$Tzd).prototype=Object.create(C$Tzi.prototype),(C$Tzt.prototype.constructor=C$Tzt).__proto__=C$Tzi,C$Tza(C$Tzd),(C$Tzt=C$Tzd.prototype).getVfmt=function(){return C$Tzh;},C$Tzt.requestBuffer=function(){var C$Tzt={indiceStart:0,vertexStart:0},C$Tze=new C$Tzl(C$Tzu._handle,C$Tzh),C$Tze=(C$Tzt.meshbuffer=C$Tze,new C$Tzs.default(C$Tze._vb,C$Tze._ib));return C$Tzt.ia=C$Tze,this._buffers.push(C$Tzt),C$Tzt;},C$Tzt.getBuffers=function(){return 0===this._buffers.length&&this.requestBuffer(),this._buffers;},C$Tzt.clear=function(C$Tzt){this._bufferOffset=0;var C$Tze=this._buffers;if(C$Tzt){for(var C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];C$Tzr.meshbuffer.destroy(),C$Tzr.meshbuffer=null;}C$Tze.length=0;}else for(var C$Tzs=0,C$Tzo=C$Tze.length;C$Tzs<C$Tzo;C$Tzs++){var C$Tza=C$Tze[C$Tzs];C$Tza.indiceStart=0,C$Tza.vertexStart=0,C$Tza.meshbuffer.reset();}},C$Tzt.fillBuffers=function(C$Tzt,C$Tze){C$Tze._flush(),C$Tze.node=C$Tzt.node,C$Tze.material=C$Tzt._materials[0];for(var C$Tzi=this.getBuffers(),C$Tzn=0,C$Tzr=C$Tzi.length;C$Tzn<C$Tzr;C$Tzn++){var C$Tzs=C$Tzi[C$Tzn],C$Tzo=C$Tzs.meshbuffer;C$Tzs.ia._count=C$Tzs.indiceStart,C$Tze._flushIA(C$Tzs.ia),C$Tzo.uploadData();}},C$Tzt.genBuffer=function(C$Tzt,C$Tze){var C$Tzi=this.getBuffers(),C$Tzn=C$Tzi[this._bufferOffset],C$Tzr=C$Tzn.meshbuffer,C$Tzs=C$Tzn.vertexStart+C$Tze;return(65535<C$Tzs||131070<3*C$Tzs)&&(++this._bufferOffset,C$Tzs=C$Tze,this._bufferOffset<C$Tzi.length?C$Tzn=C$Tzi[this._bufferOffset]:(C$Tzn=this.requestBuffer(C$Tzt),C$Tzi[this._bufferOffset]=C$Tzn),C$Tzr=C$Tzn.meshbuffer),C$Tzs>C$Tzr.vertexOffset&&C$Tzr.requestStatic(C$Tze,3*C$Tze),this._buffer=C$Tzn;},C$Tzt.stroke=function(C$Tzt){this._curColor=C$Tzt._strokeColor._val,this._flattenPaths(C$Tzt._impl),this._expandStroke(C$Tzt),C$Tzt._impl._updatePathOffset=!0;},C$Tzt.fill=function(C$Tzt){this._curColor=C$Tzt._fillColor._val,this._expandFill(C$Tzt),C$Tzt._impl._updatePathOffset=!0;},C$Tzt._expandStroke=function(C$Tzt){for(var C$Tzh,C$Tzu,C$Tze=.5*C$Tzt.lineWidth,C$Tzi=C$Tzt.lineCap,C$Tz_=C$Tzt.lineJoin,C$Tzd=C$Tzt.miterLimit,C$Tzn=C$Tzt._impl,C$Tzf=(C$Tzh=C$Tze,C$Tzu=C$TzF,C$TzA=C$Tzn._tessTol,C$Tzh=2*C$TzG(C$Tze/(C$Tze+C$TzA)),C$TzN(2,C$Tzk(C$Tzu/C$Tzh))),C$Tzp=(this._calculateJoins(C$Tzn,C$Tze,C$Tz_,C$Tzd),C$Tzn._paths),C$Tzm=0,C$Tzy=C$Tzn._pathOffset,C$Tzg=C$Tzn._pathLength;C$Tzy<C$Tzg;C$Tzy++){var C$Tzv=C$Tzp[C$Tzy],C$Tzx=C$Tzv.points.length;C$Tz_===C$TzV.ROUND?C$Tzm+=2*(C$Tzx+C$Tzv.nbevel*(C$Tzf+2)+1):C$Tzm+=2*(C$Tzx+5*C$Tzv.nbevel+1),C$Tzv.closed||(C$Tzi===C$TzO.ROUND?C$Tzm+=2*(2*C$Tzf+2):C$Tzm+=12);}for(var C$Tzb=this.genBuffer(C$Tzt,C$Tzm),C$TzA=C$Tzb.meshbuffer,C$TzC=C$TzA._vData,C$TzS=C$TzA._iData,C$TzT=C$Tzn._pathOffset,C$Tzw=C$Tzn._pathLength;C$TzT<C$Tzw;C$TzT++){var C$Tzr=C$Tzp[C$TzT],C$TzE=C$Tzr.points,C$Tzs=C$TzE.length,C$TzM=C$Tzb.vertexStart,C$Tzo=void 0,C$Tza=void 0,C$Tzc=void 0,C$TzI=void 0,C$TzI=(C$Tzr=C$Tzr.closed)?(C$Tzo=C$TzE[C$Tzs-1],C$Tza=C$TzE[0],C$Tzc=0,C$Tzs):(C$Tzo=C$TzE[0],C$Tza=C$TzE[1],C$Tzs-(C$Tzc=1)),C$Tza=C$Tza||C$Tzo;C$Tzr||((C$Tzs=C$Tza.sub(C$Tzo)).normalizeSelf(),C$Tzl=C$Tzs.x,C$Tzs=C$Tzs.y,C$Tzi===C$TzO.BUTT?this._buttCapStart(C$Tzo,C$Tzl,C$Tzs,C$Tze,0):C$Tzi===C$TzO.SQUARE?this._buttCapStart(C$Tzo,C$Tzl,C$Tzs,C$Tze,C$Tze):C$Tzi===C$TzO.ROUND&&this._roundCapStart(C$Tzo,C$Tzl,C$Tzs,C$Tze,C$Tzf));for(var C$Tzl,C$TzB=C$Tzc;C$TzB<C$TzI;++C$TzB)C$Tz_===C$TzV.ROUND?this._roundJoin(C$Tzo,C$Tza,C$Tze,C$Tze,C$Tzf):0!=(C$Tza.flags&(C$TzL.PT_BEVEL|C$TzL.PT_INNERBEVEL))?this._bevelJoin(C$Tzo,C$Tza,C$Tze,C$Tze):(this._vset(C$Tza.x+C$Tza.dmx*C$Tze,C$Tza.y+C$Tza.dmy*C$Tze),this._vset(C$Tza.x-C$Tza.dmx*C$Tze,C$Tza.y-C$Tza.dmy*C$Tze)),C$Tzo=C$Tza,C$Tza=C$TzE[C$TzB+1];C$Tzr?(this._vset(C$TzC[C$Tzl=3*C$TzM],C$TzC[1+C$Tzl]),this._vset(C$TzC[3+C$Tzl],C$TzC[4+C$Tzl])):((C$Tzs=C$Tza.sub(C$Tzo)).normalizeSelf(),C$Tzc=C$Tzs.x,C$Tzr=C$Tzs.y,C$Tzi===C$TzO.BUTT?this._buttCapEnd(C$Tza,C$Tzc,C$Tzr,C$Tze,0):C$Tzi===C$TzO.SQUARE?this._buttCapEnd(C$Tza,C$Tzc,C$Tzr,C$Tze,C$Tze):C$Tzi===C$TzO.ROUND&&this._roundCapEnd(C$Tza,C$Tzc,C$Tzr,C$Tze,C$Tzf));for(var C$TzR=C$Tzb.indiceStart,C$TzP=C$TzM+2,C$TzD=C$Tzb.vertexStart;C$TzP<C$TzD;C$TzP++)C$TzS[C$TzR++]=C$TzP-2,C$TzS[C$TzR++]=C$TzP-1,C$TzS[C$TzR++]=C$TzP;C$Tzb.indiceStart=C$TzR;}},C$Tzt._expandFill=function(C$Tzt){for(var C$Tze=C$Tzt._impl,C$Tzh=C$Tze._paths,C$Tzu=0,C$Tzi=C$Tze._pathOffset,C$Tz_=C$Tze._pathLength;C$Tzi<C$Tz_;C$Tzi++)C$Tzu+=C$Tzh[C$Tzi].points.length;for(var C$Tzn=this.genBuffer(C$Tzt,C$Tzu),C$Tzt=C$Tzn.meshbuffer,C$Tzd=C$Tzt._vData,C$Tzr=C$Tzt._iData,C$Tzf=C$Tze._pathOffset,C$Tzp=C$Tze._pathLength;C$Tzf<C$Tzp;C$Tzf++){var C$Tzm=C$Tzh[C$Tzf],C$Tzy=C$Tzm.points,C$Tzg=C$Tzy.length;if(0!==C$Tzg){for(var C$Tzs=C$Tzn.vertexStart,C$Tzo=0;C$Tzo<C$Tzg;++C$Tzo)this._vset(C$Tzy[C$Tzo].x,C$Tzy[C$Tzo].y);var C$Tza=C$Tzn.indiceStart;if(C$Tzm.complex){for(var C$Tzv=[],C$Tzx=C$Tzs,C$Tzb=C$Tzn.vertexStart;C$Tzx<C$Tzb;C$Tzx++){var C$TzA=3*C$Tzx;C$Tzv.push(C$Tzd[C$TzA]),C$Tzv.push(C$Tzd[1+C$TzA]);}var C$Tzc=C$TzB(C$Tzv,null,2);if(!C$Tzc||0===C$Tzc.length)continue;for(var C$TzC=0,C$TzS=C$Tzc.length;C$TzC<C$TzS;C$TzC++)C$Tzr[C$Tza++]=C$Tzc[C$TzC]+C$Tzs;}else for(var C$TzT=C$Tzs,C$Tzl=C$Tzs+2,C$Tzw=C$Tzn.vertexStart;C$Tzl<C$Tzw;C$Tzl++)C$Tzr[C$Tza++]=C$TzT,C$Tzr[C$Tza++]=C$Tzl-1,C$Tzr[C$Tza++]=C$Tzl;C$Tzn.indiceStart=C$Tza;}}},C$Tzt._calculateJoins=function(C$Tzt,C$Tzh,C$Tzu,C$Tz_){for(var C$Tzd=0,C$Tzf=(0<C$Tzh&&(C$Tzd=1/C$Tzh),C$Tzt._paths),C$Tze=C$Tzt._pathOffset,C$Tzp=C$Tzt._pathLength;C$Tze<C$Tzp;C$Tze++)for(var C$Tzi=C$Tzf[C$Tze],C$Tzn=C$Tzi.points,C$Tzm=C$Tzn.length,C$Tzr=C$Tzn[C$Tzm-1],C$Tzs=C$Tzn[0],C$Tzo=C$Tzi.nbevel=0;C$Tzo<C$Tzm;C$Tzo++){var C$Tza=C$Tzr.dy,C$Tzc=-C$Tzr.dx,C$Tzl=C$Tzs.dy,C$Tzy=-C$Tzs.dx;C$Tzs.dmx=.5*(C$Tza+C$Tzl),C$Tzs.dmy=.5*(C$Tzc+C$Tzy),1e-6<(C$Tza=C$Tzs.dmx*C$Tzs.dmx+C$Tzs.dmy*C$Tzs.dmy)&&(600<(C$Tzl=1/C$Tza)&&(C$Tzl=600),C$Tzs.dmx*=C$Tzl,C$Tzs.dmy*=C$Tzl),0<C$Tzs.dx*C$Tzr.dy-C$Tzr.dx*C$Tzs.dy&&(C$Tzs.flags|=C$TzL.PT_LEFT),C$Tza*(C$Tzc=C$TzN(11,C$Tzg(C$Tzr.len,C$Tzs.len)*C$Tzd))*C$Tzc<1&&(C$Tzs.flags|=C$TzL.PT_INNERBEVEL),C$Tzs.flags&C$TzL.PT_CORNER&&(C$Tza*C$Tz_*C$Tz_<1||C$Tzu===C$TzV.BEVEL||C$Tzu===C$TzV.ROUND)&&(C$Tzs.flags|=C$TzL.PT_BEVEL),0!=(C$Tzs.flags&(C$TzL.PT_BEVEL|C$TzL.PT_INNERBEVEL))&&C$Tzi.nbevel++,C$Tzr=C$Tzs,C$Tzs=C$Tzn[C$Tzo+1];}},C$Tzt._flattenPaths=function(C$Tzt){for(var C$Tze=C$Tzt._paths,C$Tzi=C$Tzt._pathOffset,C$Tzn=C$Tzt._pathLength;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi],C$Tzs=C$Tzr.points,C$Tzo=C$Tzs[C$Tzs.length-1],C$Tza=C$Tzs[0];2<C$Tzs.length&&C$Tzo.equals(C$Tza)&&(C$Tzr.closed=!0,C$Tzs.pop(),C$Tzo=C$Tzs[C$Tzs.length-1]);for(var C$Tzc=0,C$Tzh=C$Tzs.length;C$Tzc<C$Tzh;C$Tzc++){var C$Tzl=C$Tza.sub(C$Tzo);C$Tzo.len=C$Tzl.mag(),(C$Tzl.x||C$Tzl.y)&&C$Tzl.normalizeSelf(),C$Tzo.dx=C$Tzl.x,C$Tzo.dy=C$Tzl.y,C$Tzo=C$Tza,C$Tza=C$Tzs[C$Tzc+1];}}},C$Tzt._chooseBevel=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc=C$Tzi.x,C$Tzl=C$Tzi.y;return 0!==C$Tzt?(C$Tzr=C$Tzc+C$Tze.dy*C$Tzn,C$Tzs=C$Tzl-C$Tze.dx*C$Tzn,C$Tzo=C$Tzc+C$Tzi.dy*C$Tzn,C$Tza=C$Tzl-C$Tzi.dx*C$Tzn):(C$Tzr=C$Tzo=C$Tzc+C$Tzi.dmx*C$Tzn,C$Tzs=C$Tza=C$Tzl+C$Tzi.dmy*C$Tzn),[C$Tzr,C$Tzs,C$Tzo,C$Tza];},C$Tzt._buttCapStart=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs=C$Tzt.x-C$Tze*C$Tzr,C$Tzt=C$Tzt.y-C$Tzi*C$Tzr,C$Tzr=C$Tzi,C$Tzi=-C$Tze;this._vset(C$Tzs+C$Tzr*C$Tzn,C$Tzt+C$Tzi*C$Tzn),this._vset(C$Tzs-C$Tzr*C$Tzn,C$Tzt-C$Tzi*C$Tzn);},C$Tzt._buttCapEnd=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs=C$Tzt.x+C$Tze*C$Tzr,C$Tzt=C$Tzt.y+C$Tzi*C$Tzr,C$Tzr=C$Tzi,C$Tzi=-C$Tze;this._vset(C$Tzs+C$Tzr*C$Tzn,C$Tzt+C$Tzi*C$Tzn),this._vset(C$Tzs-C$Tzr*C$Tzn,C$Tzt-C$Tzi*C$Tzn);},C$Tzt._roundCapStart=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzh){for(var C$Tzr=C$Tzt.x,C$Tzs=C$Tzt.y,C$Tzo=C$Tzi,C$Tza=-C$Tze,C$Tzc=0;C$Tzc<C$Tzh;C$Tzc++){var C$Tzl=C$Tzc/(C$Tzh-1)*C$TzF,C$Tzu=C$TzE(C$Tzl)*C$Tzn,C$Tzl=C$TzM(C$Tzl)*C$Tzn;this._vset(C$Tzr-C$Tzo*C$Tzu-C$Tze*C$Tzl,C$Tzs-C$Tza*C$Tzu-C$Tzi*C$Tzl),this._vset(C$Tzr,C$Tzs);}this._vset(C$Tzr+C$Tzo*C$Tzn,C$Tzs+C$Tza*C$Tzn),this._vset(C$Tzr-C$Tzo*C$Tzn,C$Tzs-C$Tza*C$Tzn);},C$Tzt._roundCapEnd=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzh){var C$Tzr=C$Tzt.x,C$Tzs=C$Tzt.y,C$Tzo=C$Tzi,C$Tza=-C$Tze;this._vset(C$Tzr+C$Tzo*C$Tzn,C$Tzs+C$Tza*C$Tzn),this._vset(C$Tzr-C$Tzo*C$Tzn,C$Tzs-C$Tza*C$Tzn);for(var C$Tzc=0;C$Tzc<C$Tzh;C$Tzc++){var C$Tzl=C$Tzc/(C$Tzh-1)*C$TzF,C$Tzu=C$TzE(C$Tzl)*C$Tzn,C$Tzl=C$TzM(C$Tzl)*C$Tzn;this._vset(C$Tzr,C$Tzs),this._vset(C$Tzr-C$Tzo*C$Tzu+C$Tze*C$Tzl,C$Tzs-C$Tza*C$Tzu+C$Tzi*C$Tzl);}},C$Tzt._roundJoin=function(C$Tzt,C$Tze,C$Tzh,C$Tzi,C$Tzn){var C$Tzr=C$Tzt.dy,C$Tzs=-C$Tzt.dx,C$Tzu=C$Tze.dy,C$Tz_=-C$Tze.dx,C$Tzo=C$Tze.x,C$Tza=C$Tze.y;if(0!=(C$Tze.flags&C$TzL.PT_LEFT)){for(var C$Tzc=this._chooseBevel(C$Tze.flags&C$TzL.PT_INNERBEVEL,C$Tzt,C$Tze,C$Tzh),C$Tzl=C$Tzc[0],C$Tzd=C$Tzc[1],C$Tzf=C$Tzc[2],C$Tzc=C$Tzc[3],C$Tzp=C$TzI(-C$Tzs,-C$Tzr),C$Tzm=C$TzI(-C$Tz_,-C$Tzu),C$Tzy=(C$Tzp<C$Tzm&&(C$Tzm-=2*C$TzF),this._vset(C$Tzl,C$Tzd),this._vset(C$Tzo-C$Tzr*C$Tzi,C$Tze.y-C$Tzs*C$Tzi),C$TzR(C$Tzk((C$Tzp-C$Tzm)/C$TzF)*C$Tzn,2,C$Tzn)),C$Tzg=0;C$Tzg<C$Tzy;C$Tzg++){var C$Tzv=C$Tzp+C$Tzg/(C$Tzy-1)*(C$Tzm-C$Tzp),C$Tzx=C$Tzo+C$TzE(C$Tzv)*C$Tzi,C$Tzv=C$Tza+C$TzM(C$Tzv)*C$Tzi;this._vset(C$Tzo,C$Tza),this._vset(C$Tzx,C$Tzv);}this._vset(C$Tzf,C$Tzc),this._vset(C$Tzo-C$Tzu*C$Tzi,C$Tza-C$Tz_*C$Tzi);}else{for(var C$Tzl=this._chooseBevel(C$Tze.flags&C$TzL.PT_INNERBEVEL,C$Tzt,C$Tze,-C$Tzi),C$Tzd=C$Tzl[0],C$Tzf=C$Tzl[1],C$Tzc=C$Tzl[2],C$Tzt=C$Tzl[3],C$Tzb=C$TzI(C$Tzs,C$Tzr),C$TzA=C$TzI(C$Tz_,C$Tzu),C$TzC=(C$TzA<C$Tzb&&(C$TzA+=2*C$TzF),this._vset(C$Tzo+C$Tzr*C$Tzi,C$Tza+C$Tzs*C$Tzi),this._vset(C$Tzd,C$Tzf),C$TzR(C$Tzk((C$TzA-C$Tzb)/C$TzF)*C$Tzn,2,C$Tzn)),C$TzS=0;C$TzS<C$TzC;C$TzS++){var C$TzT=C$Tzb+C$TzS/(C$TzC-1)*(C$TzA-C$Tzb),C$Tzw=C$Tzo+C$TzE(C$TzT)*C$Tzh,C$TzT=C$Tza+C$TzM(C$TzT)*C$Tzh;this._vset(C$Tzw,C$TzT),this._vset(C$Tzo,C$Tza);}this._vset(C$Tzo+C$Tzu*C$Tzi,C$Tza+C$Tz_*C$Tzi),this._vset(C$Tzc,C$Tzt);}},C$Tzt._bevelJoin=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc=C$Tzt.dy,C$Tzl=-C$Tzt.dx,C$Tzh=C$Tze.dy,C$Tzu=-C$Tze.dx;C$Tze.flags&C$TzL.PT_LEFT?(C$Tzr=(C$Tza=this._chooseBevel(C$Tze.flags&C$TzL.PT_INNERBEVEL,C$Tzt,C$Tze,C$Tzi))[0],C$Tzs=C$Tza[1],C$Tzo=C$Tza[2],C$Tza=C$Tza[3],this._vset(C$Tzr,C$Tzs),this._vset(C$Tze.x-C$Tzc*C$Tzn,C$Tze.y-C$Tzl*C$Tzn),this._vset(C$Tzo,C$Tza),this._vset(C$Tze.x-C$Tzh*C$Tzn,C$Tze.y-C$Tzu*C$Tzn)):(C$Tzs=(C$Tzr=this._chooseBevel(C$Tze.flags&C$TzL.PT_INNERBEVEL,C$Tzt,C$Tze,-C$Tzn))[0],C$Tzo=C$Tzr[1],C$Tza=C$Tzr[2],C$Tzt=C$Tzr[3],this._vset(C$Tze.x+C$Tzc*C$Tzi,C$Tze.y+C$Tzl*C$Tzi),this._vset(C$Tzs,C$Tzo),this._vset(C$Tze.x+C$Tzh*C$Tzi,C$Tze.y+C$Tzu*C$Tzi),this._vset(C$Tza,C$Tzt));},C$Tzt._vset=function(C$Tzt,C$Tze){var C$Tzi=this._buffer,C$Tzn=C$Tzi.meshbuffer,C$Tzr=3*C$Tzi.vertexStart,C$Tzs=C$Tzn._vData,C$Tzo=C$Tzn._uintVData;C$Tzs[C$Tzr]=C$Tzt,C$Tzs[1+C$Tzr]=C$Tze,C$Tzo[2+C$Tzr]=this._curColor,C$Tzi.vertexStart++,C$Tzn._dirty=!0;};var C$Tz_,C$Tzi=C$Tzd;function C$Tzd(C$Tzt){C$Tzt=C$Tz_.call(this,C$Tzt)||this;return C$Tzt._buffer=null,C$Tzt._buffers=[],C$Tzt._bufferOffset=0,C$Tzt;}C$Tze.default=C$Tzi,C$Tzr.default.register(cc.Graphics,C$Tzi),C$Tzn.exports=C$Tze.default;},{"../../../../../renderer/core/input-assembler":302,"../../../../graphics/graphics":131,"../../../../graphics/types":134,"../../../assembler":217,"../../../index":220,"../../mesh-buffer":247,"../../vertex-format":252,"./earcut":229,"./impl":230}],232:[function(C$Tzt,C$Tze,C$Tzi){"use strict";cc.assemblers={},C$Tzt(H[1657]),C$Tzt(H[1658]),C$Tzt(H[1106]),C$Tzt(H[1659]),C$Tzt(H[1660]);},{"./graphics":231,"./label":236,"./mask-assembler":237,"./motion-streak":238,"./sprite":245}],233:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;C$Tzt=(C$Tzt=C$Tzt(H[1661]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzn(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzr(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzr(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzr(C$Tzt){return(C$Tzr=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzs,C$Tzo,C$Tzb=0,C$Tzt=(C$Tzs=C$Tzt.default,C$Tzt=C$Tzs,(C$Tzo=C$Tza).prototype=Object.create(C$Tzt.prototype),(C$Tzo.prototype.constructor=C$Tzo).__proto__=C$Tzt,C$Tzn(C$Tza),(C$Tzo=C$Tza.prototype).initData=function(){this._renderData.createFlexData(0,4,6,this.getVfmt());},C$Tzo._reserveQuads=function(C$Tzt,C$Tze){for(var C$Tzi=4*C$Tze,C$Tze=6*C$Tze,C$Tzn=this._renderData._flexBuffer,C$Tzr=(C$Tzn.reserve(C$Tzi,C$Tze),C$Tzn.used(C$Tzi,C$Tze),this._renderData.iDatas[0]),C$Tzs=0,C$Tzo=0,C$Tza=C$Tze;C$Tzs<C$Tza;C$Tzs+=6,C$Tzo+=4)C$Tzr[C$Tzs]=C$Tzo,C$Tzr[C$Tzs+1]=C$Tzo+1,C$Tzr[C$Tzs+2]=C$Tzo+2,C$Tzr[C$Tzs+3]=C$Tzo+1,C$Tzr[C$Tzs+4]=C$Tzo+3,C$Tzr[C$Tzs+5]=C$Tzo+2;C$Tzb=0;},C$Tzo._quadsUpdated=function(C$Tzt){C$Tzb=0,this._renderData._flexBuffer.used(this.verticesCount,this.indicesCount);},C$Tzo._getColor=function(C$Tzt){return C$Tzt.node._color._val;},C$Tzo.appendQuad=function(C$Tzh,C$Tzt,C$Tze,C$Tzu,C$Tz_,C$Tzd,C$Tzf){for(var C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo=this._renderData,C$Tza=C$Tzo.vDatas[0],C$Tzp=C$Tzo.uintVDatas[0],C$Tzo=(this.verticesCount+=4,this.indicesCount=this.verticesCount/2*3,C$Tzt.width),C$Tzt=C$Tzt.height,C$Tzm=C$Tze.width,C$Tzy=C$Tze.height,C$Tzg=this._getColor(C$Tzh),C$Tzc=this.floatsPerVert,C$Tzl=C$Tzb+this.uvOffset,C$Tzv=(C$Tzu?(C$Tzi=C$Tze.x/C$Tzo,C$Tzr=(C$Tze.x+C$Tzy)/C$Tzo,C$Tzn=(C$Tze.y+C$Tzm)/C$Tzt,C$Tzs=C$Tze.y/C$Tzt,C$Tza[C$Tzl]=C$Tzi,C$Tza[C$Tzl+1]=C$Tzs,C$Tza[C$Tzl+=C$Tzc]=C$Tzi,C$Tza[C$Tzl+1]=C$Tzn,C$Tza[C$Tzl+=C$Tzc]=C$Tzr,C$Tza[C$Tzl+1]=C$Tzs,C$Tza[C$Tzl+=C$Tzc]=C$Tzr,C$Tza[C$Tzl+1]=C$Tzn):(C$Tzi=C$Tze.x/C$Tzo,C$Tzr=(C$Tze.x+C$Tzm)/C$Tzo,C$Tzn=(C$Tze.y+C$Tzy)/C$Tzt,C$Tzs=C$Tze.y/C$Tzt,C$Tza[C$Tzl]=C$Tzi,C$Tza[C$Tzl+1]=C$Tzn,C$Tza[C$Tzl+=C$Tzc]=C$Tzr,C$Tza[C$Tzl+1]=C$Tzn,C$Tza[C$Tzl+=C$Tzc]=C$Tzi,C$Tza[C$Tzl+1]=C$Tzs,C$Tza[C$Tzl+=C$Tzc]=C$Tzr,C$Tza[C$Tzl+1]=C$Tzs),this.appendVerts(C$Tzh,C$Tzb,C$Tzi=C$Tz_,C$Tzr=C$Tz_+C$Tzm*C$Tzf,C$Tzn=C$Tzd-C$Tzy*C$Tzf,C$Tzs=C$Tzd),C$Tzb+this.colorOffset),C$Tzx=0;C$Tzx<4;C$Tzx++)C$Tzp[C$Tzv]=C$Tzg,C$Tzv+=C$Tzc;C$Tzb+=4*this.floatsPerVert;},C$Tzo.appendVerts=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){var C$Tzo=this._local,C$Tza=this.floatsPerVert;C$Tzo[C$Tze]=C$Tzi,C$Tzo[C$Tze+1]=C$Tzr,C$Tzo[C$Tze+=C$Tza]=C$Tzn,C$Tzo[C$Tze+1]=C$Tzr,C$Tzo[C$Tze+=C$Tza]=C$Tzi,C$Tzo[C$Tze+1]=C$Tzs,C$Tzo[C$Tze+=C$Tza]=C$Tzn,C$Tzo[C$Tze+1]=C$Tzs;},C$Tzo.updateWorldVerts=function(C$Tzt){for(var C$Tzt=C$Tzt.node._worldMatrix.m,C$Tze=C$Tzt[0],C$Tzi=C$Tzt[1],C$Tzn=C$Tzt[4],C$Tzr=C$Tzt[5],C$Tzh=C$Tzt[12],C$Tzu=C$Tzt[13],C$Tzs=this._local,C$Tzo=this._renderData.vDatas[0],C$Tz_=this.floatsPerVert,C$Tza=0;C$Tza<C$Tzs.length;C$Tza+=C$Tz_){var C$Tzc=C$Tzs[C$Tza],C$Tzl=C$Tzs[C$Tza+1];C$Tzo[C$Tza]=C$Tzc*C$Tze+C$Tzl*C$Tzn+C$Tzh,C$Tzo[C$Tza+1]=C$Tzc*C$Tzi+C$Tzl*C$Tzr+C$Tzu;}},C$Tza);function C$Tza(){return C$Tzs.apply(this,arguments)||this;}C$Tzi.default=C$Tzt,C$Tze.exports=C$Tzi.default;},{"../../../../utils/label/bmfont":224}],234:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzr(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzr(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzr(C$Tzt){return(C$Tzr=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}C$Tzi.__esModule=!0,C$Tzi.default=void 0;C$Tzt(H[1662]),C$Tzt(H[1663]);var C$Tzs,C$Tzo,C$Tzt=C$Tzt(H[1664]),C$Tza=cc.color(255,255,255,255),C$Tzt=(C$Tzt=C$Tzs=C$Tzt,(C$Tzo=C$Tzc).prototype=Object.create(C$Tzt.prototype),(C$Tzo.prototype.constructor=C$Tzo).__proto__=C$Tzt,C$Tzn(C$Tzc),(C$Tzo=C$Tzc.prototype).createData=function(C$Tzt){return C$Tzt.requestRenderData();},C$Tzo._getColor=function(C$Tzt){return C$Tza._fastSetA(C$Tzt.node._color.a),C$Tza._val;},C$Tzo.updateColor=function(C$Tzt){var C$Tze=this._getColor(C$Tzt);C$Tzs.prototype.updateColor.call(this,C$Tzt,C$Tze);},C$Tzc);function C$Tzc(){return C$Tzs.apply(this,arguments)||this;}C$Tzi.default=C$Tzt,C$Tze.exports=C$Tzi.default;},{"../../../../../platform/js":209,"../../../../utils/label/letter-font":226,"./bmfont":233}],235:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=(C$Tzn=C$Tzt(H[1665]))&&C$Tzn.__esModule?C$Tzn:{default:C$Tzn};function C$Tzr(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzs(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzs(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzs(C$Tzt){return(C$Tzs=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzo,C$Tzl=C$Tzt(H[1666]),C$Tza=cc.color(255,255,255,255),C$Tzt=(C$Tzo=C$Tzn.default,C$Tzt=C$Tzo,(C$Tzn=C$Tzc).prototype=Object.create(C$Tzt.prototype),(C$Tzn.prototype.constructor=C$Tzn).__proto__=C$Tzt,C$Tzr(C$Tzc),(C$Tzn=C$Tzc.prototype).updateUVs=function(C$Tzt){for(var C$Tze=this._renderData.vDatas[0],C$Tzi=C$Tzt._frame.uv,C$Tzn=this.uvOffset,C$Tzr=this.floatsPerVert,C$Tzs=0;C$Tzs<4;C$Tzs++){var C$Tzo=2*C$Tzs,C$Tza=C$Tzr*C$Tzs+C$Tzn;C$Tze[C$Tza]=C$Tzi[C$Tzo],C$Tze[C$Tza+1]=C$Tzi[1+C$Tzo];}},C$Tzn.updateColor=function(C$Tzt){C$Tza._fastSetA(C$Tzt.node._color.a);var C$Tze=C$Tza._val;C$Tzo.prototype.updateColor.call(this,C$Tzt,C$Tze);},C$Tzn.updateVerts=function(C$Tzt){var C$Tze,C$Tzi=C$Tzt.node,C$Tzn=C$Tzt._ttfTexture.width,C$Tzr=C$Tzt._ttfTexture.height,C$Tzs=C$Tzi.anchorX*C$Tzi.width,C$Tzo=C$Tzi.anchorY*C$Tzi.height,C$Tza=C$Tzl&&C$Tzt.getComponent(C$Tzl),C$Tzc=(C$Tza&&C$Tza._enabled&&(C$Tzc=(C$Tzn-C$Tzi.width)/2,C$Tze=(C$Tzr-C$Tzi.height)/2,-(C$Tza=C$Tza.offset).x>C$Tzc?C$Tzs+=C$Tzn-C$Tzi.width:C$Tzc>C$Tza.x&&(C$Tzs+=C$Tzc-C$Tza.x),-C$Tza.y>C$Tze?C$Tzo+=C$Tzr-C$Tzi.height:C$Tze>C$Tza.y&&(C$Tzo+=C$Tze-C$Tza.y)),this._local);C$Tzc[0]=-C$Tzs,C$Tzc[1]=-C$Tzo,C$Tzc[2]=C$Tzn-C$Tzs,C$Tzc[3]=C$Tzr-C$Tzo,this.updateUVs(C$Tzt),this.updateWorldVerts(C$Tzt);},C$Tzc);function C$Tzc(){return C$Tzo.apply(this,arguments)||this;}C$Tzi.default=C$Tzt,C$Tze.exports=C$Tzi.default;},{"../../../../../components/CCLabelShadow":82,"../../../../utils/label/ttf":227}],236:[function(C$Tzt,C$Tzh,C$Tzu){"use strict";var C$Tze=C$Tzi(C$Tzt(H[1649])),C$Tzn=C$Tzi(C$Tzt(H[1667])),C$Tzr=C$Tzi(C$Tzt(H[1668])),C$Tzs=C$Tzi(C$Tzt(H[1669])),C$Tzo=C$Tzi(C$Tzt(H[1670])),C$Tza=C$Tzi(C$Tzt(H[1671])),C$Tzc=C$Tzi(C$Tzt(H[1672])),C$Tzl=C$Tzi(C$Tzt(H[1673]));function C$Tzi(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}C$Tzn.default._canvasPool={pool:[],get:function(){var C$Tzt,C$Tze,C$Tzi=this.pool.pop();return C$Tzi||(C$Tze=(C$Tzt=document.createElement(H[1161])).getContext(H[1162]),C$Tzi={canvas:C$Tzt,context:C$Tze}),C$Tzi;},put:function(C$Tzt){32<=this.pool.length||this.pool.push(C$Tzt);}},C$Tze.default.register(cc.Label,{getConstructor:function(C$Tzt){var C$Tze=C$Tzt.node.is3DNode,C$Tzi=(C$Tze?C$Tza:C$Tzr).default;return C$Tzt.font instanceof cc.BitmapFont?C$Tzi=(C$Tze?C$Tzc:C$Tzs).default:C$Tzt.cacheMode===C$Tzn.default.CacheMode.CHAR&&(cc.sys.browserType===cc.sys.BROWSER_TYPE_WECHAT_GAME_SUB?cc.warn(H[1674]):C$Tzi=(C$Tze?C$Tzl:C$Tzo).default),C$Tzi;},TTF:C$Tzr.default,Bmfont:C$Tzs.default,Letter:C$Tzo.default,TTF3D:C$Tza.default,Bmfont3D:C$Tzc.default,Letter3D:C$Tzl.default});},{"../../../../components/CCLabel":80,"../../../assembler":217,"./2d/bmfont":233,"./2d/letter":234,"./2d/ttf":235,"./3d/bmfont":void 0,"./3d/letter":void 0,"./3d/ttf":void 0}],237:[function(C$Tzt,C$Tzo,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.MaskAssembler=void 0;var C$Tzi=(C$Tzi=C$Tzt(H[1675]))&&C$Tzi.__esModule?C$Tzi:{default:C$Tzi};function C$Tza(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzn(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzn(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzn(C$Tzt){return(C$Tzn=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzl=C$Tzt(H[1676]),C$Tzd=C$Tzt(H[1677]),C$Tzh=C$Tzt(H[1678]),C$Tzf=C$Tzt(H[1106]),C$Tzu=C$Tzt(H[1679]),C$Tzp=C$Tzt(H[1680]).vfmtPos,C$Tz_=[];function C$Tzm(){return 1<<C$Tz_.length-1;}function C$Tzy(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){var C$Tzt=C$Tzt.effect,C$Tzo=C$Tzu.STENCIL_OP_KEEP,C$Tza=C$Tzu.STENCIL_OP_KEEP;C$Tzt.setStencil(C$Tzu.STENCIL_ENABLE,C$Tze,C$Tzn,C$Tzr,C$Tzi,C$Tzo,C$Tza,C$Tzs);}function C$Tzg(C$Tzt){var C$Tze=C$Tzu.DS_FUNC_EQUAL,C$Tzi=C$Tzu.STENCIL_OP_KEEP,C$Tzn=function(){for(var C$Tzt=0,C$Tze=0;C$Tze<C$Tz_.length;++C$Tze)C$Tzt+=1<<C$Tze;return C$Tzt;}(),C$Tzr=C$Tzm(),C$Tzs=C$Tz_[C$Tz_.length-1];C$Tzy(C$Tzs._enableMaterial,C$Tze,C$Tzi,C$Tzn,C$Tzn,C$Tzr),C$Tzt._flushMaterial(C$Tzs._enableMaterial);}C$Tzt=C$Tzc=C$Tzh,(C$Tzr=C$Tzs).prototype=Object.create(C$Tzt.prototype),(C$Tzr.prototype.constructor=C$Tzr).__proto__=C$Tzt,C$Tza(C$Tzs),(C$Tzr=C$Tzs.prototype).updateRenderData=function(C$Tzt){C$Tzt._type===C$Tzl.Type.IMAGE_STENCIL?C$Tzt.spriteFrame?C$Tzh.prototype.updateRenderData.call(this,C$Tzt):C$Tzt.setMaterial(0,null):(C$Tzt._graphics.setMaterial(0,C$Tzt._materials[0]),C$Tzf.prototype.updateRenderData.call(C$Tzt._graphics._assembler,C$Tzt._graphics,C$Tzt._graphics));},C$Tzr.fillBuffers=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc;C$Tzt._type===C$Tzl.Type.IMAGE_STENCIL&&!C$Tzt.spriteFrame||(C$Tzc=C$Tzt,8<C$Tz_.length+1&&cc.errorID(9e3,8),C$Tz_.push(C$Tzc),C$Tzc=C$Tzt,C$Tzi=C$Tze,C$Tzn=C$Tzu.DS_FUNC_NEVER,C$Tzr=C$Tzm(),C$Tzs=C$Tzc.inverted?C$Tzu.STENCIL_OP_REPLACE:C$Tzu.STENCIL_OP_ZERO,C$Tzy(C$Tzc._clearMaterial,C$Tzn,C$Tzs,C$Tzr,C$Tzr,C$Tzr),C$Tzn=C$Tzi.getBuffer(H[1252],C$Tzp),C$Tzr=(C$Tzs=C$Tzn.request(4,6)).indiceOffset,C$Tzo=C$Tzs.byteOffset>>2,C$Tzs=C$Tzs.vertexOffset,C$Tza=C$Tzn._vData,C$Tzn=C$Tzn._iData,C$Tza[C$Tzo++]=-1,C$Tza[C$Tzo++]=-1,C$Tza[C$Tzo++]=-1,C$Tza[C$Tzo++]=1,C$Tza[C$Tzo++]=1,C$Tza[C$Tzo++]=1,C$Tza[C$Tzo++]=1,C$Tza[+C$Tzo]=-1,C$Tzn[C$Tzr++]=C$Tzs,C$Tzn[C$Tzr++]=C$Tzs+3,C$Tzn[C$Tzr++]=C$Tzs+1,C$Tzn[C$Tzr++]=C$Tzs+1,C$Tzn[C$Tzr++]=C$Tzs+3,C$Tzn[+C$Tzr]=C$Tzs+2,C$Tzi.node=C$Tzi._dummyNode,C$Tzi.material=C$Tzc._clearMaterial,C$Tzi._flush(),C$Tza=C$Tzt,C$Tzo=C$Tze,C$Tzn=C$Tzu.DS_FUNC_NEVER,C$Tzr=C$Tzm(),C$Tzs=C$Tza.inverted?C$Tzu.STENCIL_OP_ZERO:C$Tzu.STENCIL_OP_REPLACE,C$Tzy(C$Tza._materials[0],C$Tzn,C$Tzs,C$Tzr,C$Tzr,C$Tzr),C$Tzo.material=C$Tza._materials[0],C$Tza._type===C$Tzl.Type.IMAGE_STENCIL?(C$Tzo.node=C$Tzo._dummyNode,C$Tzh.prototype.fillBuffers.call(C$Tza._assembler,C$Tza,C$Tzo),C$Tzo._flush()):(C$Tzo.node=C$Tza.node,C$Tzf.prototype.fillBuffers.call(C$Tza._graphics._assembler,C$Tza._graphics,C$Tzo)),C$Tzg(C$Tze)),C$Tzt.node._renderFlag|=C$Tzd.FLAG_UPDATE_RENDER_DATA;},C$Tzr.postFillBuffers=function(C$Tzt,C$Tze){var C$Tzi;C$Tzt._type===C$Tzl.Type.IMAGE_STENCIL&&!C$Tzt.spriteFrame||(C$Tzi=C$Tzt,C$Tze=C$Tze,0===C$Tz_.length&&cc.errorID(9001),C$Tz_.pop(),0===C$Tz_.length?C$Tze._flushMaterial(C$Tzi._exitMaterial):C$Tzg(C$Tze)),C$Tzt.node._renderFlag|=C$Tzd.FLAG_UPDATE_RENDER_DATA;};var C$Tzc,C$Tzr,C$Tzt=C$Tzs;function C$Tzs(){return C$Tzc.apply(this,arguments)||this;}C$Tze.MaskAssembler=C$Tzt,C$Tzi.default.register(C$Tzl,C$Tzt);},{"../../../../renderer/gfx":312,"../../../components/CCMask":84,"../../assembler":217,"../../render-flow":221,"../vertex-format":252,"./graphics":231,"./sprite/2d/simple":242}],238:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=(C$Tzn=C$Tzt(H[1626]))&&C$Tzn.__esModule?C$Tzn:{default:C$Tzn};function C$Tza(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzr(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzr(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzr(C$Tzt){return(C$Tzr=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzc=C$Tzt(H[1681]),C$Tzf=C$Tzt(H[1677]);function C$TzA(C$Tzt,C$Tze){this.point=C$Tzt||cc.v2(),this.dir=C$Tze||cc.v2(),this.distance=0,this.time=0;}C$TzA.prototype.setPoint=function(C$Tzt,C$Tze){this.point.x=C$Tzt,this.point.y=C$Tze;},C$TzA.prototype.setDir=function(C$Tzt,C$Tze){this.dir.x=C$Tzt,this.dir.y=C$Tze;};cc.v2(),cc.v2();var C$TzC=cc.v2(),C$TzS=cc.v2();C$Tzs=C$Tzn.default,C$Tzt=C$Tzs,(C$Tzn=C$Tzo).prototype=Object.create(C$Tzt.prototype),(C$Tzn.prototype.constructor=C$Tzn).__proto__=C$Tzt,C$Tza(C$Tzo),(C$Tzn=C$Tzo.prototype).initData=function(){this._renderData.createFlexData(0,16,42);},C$Tzn.update=function(C$Tzt,C$Tzh){var C$Tze,C$Tzu=C$Tzt._stroke/2,C$Tzi=C$Tzt.node._worldMatrix.m,C$Tz_=C$Tzi[12],C$Tzi=C$Tzi[13],C$Tzn=C$Tzt._points,C$Tzd=(1<C$Tzn.length&&(C$Tzr=C$Tzn[0].point.x-C$Tz_)*C$Tzr+(C$Tzr=C$Tzn[0].point.y-C$Tzi)*C$Tzr<C$Tzt.minSeg&&(C$Tze=C$Tzn[0]),C$Tze||(C$Tze=new C$TzA(),C$Tzn.splice(0,0,C$Tze)),C$Tze.setPoint(C$Tz_,C$Tzi),C$Tze.time=C$Tzt._fadeTime+C$Tzh,0);if(!(C$Tzn.length<2)){for(var C$Tzr=C$Tzt._color,C$Tzf=C$Tzr.r,C$Tzp=C$Tzr.g,C$Tzm=C$Tzr.b,C$Tzy=C$Tzr.a,C$Tz_=C$Tzn[1],C$Tzi=(C$Tz_.distance=C$Tze.point.sub(C$Tz_.point,C$TzS).mag(),C$TzS.normalizeSelf(),C$Tz_.setDir(C$TzS.x,C$TzS.y),C$Tze.setDir(C$TzS.x,C$TzS.y),this._renderData._flexBuffer),C$Tzs=(C$Tzi.reserve(2*C$Tzn.length,6*(C$Tzn.length-1)),C$Tzi.vData),C$Tzg=C$Tzi.uintVData,C$Tzv=C$Tzt._fadeTime,C$Tzx=!1,C$Tzo=C$Tzn.length-1;0<=C$Tzo;C$Tzo--){var C$Tza=C$Tzn[C$Tzo],C$Tzb=C$Tza.point,C$Tzc=C$Tza.dir;if(C$Tza.time-=C$Tzh,C$Tza.time<0)C$Tzn.splice(C$Tzo,1);else{var C$Tza=C$Tza.time/C$Tzv,C$Tzl=C$Tzn[C$Tzo-1];if(!C$Tzx){if(!C$Tzl){C$Tzn.splice(C$Tzo,1);continue;}C$Tzb.x=C$Tzl.point.x-C$Tzc.x*C$Tza,C$Tzb.y=C$Tzl.point.y-C$Tzc.y*C$Tza;}C$Tzx=!0,C$Tzl=C$Tzc,(C$Tzc=C$TzC).x=-C$Tzl.y,C$Tzc.y=C$Tzl.x;C$Tzc=(C$Tza*C$Tzy<<24>>>0)+(C$Tzm<<16)+(C$Tzp<<8)+C$Tzf,C$Tzl=5*C$Tzd;C$Tzs[C$Tzl]=C$Tzb.x+C$TzC.x*C$Tzu,C$Tzs[1+C$Tzl]=C$Tzb.y+C$TzC.y*C$Tzu,C$Tzs[2+C$Tzl]=1,C$Tzs[3+C$Tzl]=C$Tza,C$Tzg[4+C$Tzl]=C$Tzc,C$Tzs[C$Tzl+=5]=C$Tzb.x-C$TzC.x*C$Tzu,C$Tzs[1+C$Tzl]=C$Tzb.y-C$TzC.y*C$Tzu,C$Tzs[2+C$Tzl]=0,C$Tzs[3+C$Tzl]=C$Tza,C$Tzg[4+C$Tzl]=C$Tzc,C$Tzd+=2;}}C$Tzi.used(C$Tzd,C$Tzd<=2?0:3*(C$Tzd-2));}},C$Tzn.fillBuffers=function(C$Tzh,C$Tzt){for(var C$Tze=this._renderData._flexBuffer,C$Tzi=C$Tze.vData,C$Tzu=C$Tze.usedVertices,C$Tzn=C$Tze.usedIndices,C$Tze=C$Tze.usedVerticesFloats,C$Tzt=C$Tzt._meshBuffer,C$Tzn=C$Tzt.request(C$Tzu,C$Tzn),C$Tzr=C$Tzn.byteOffset>>2,C$Tzs=C$Tzt._vData,C$Tzo=(C$Tzi.length+C$Tzr>C$Tzs.length?C$Tzs.set(C$Tzi.subarray(0,C$Tze),C$Tzr):C$Tzs.set(C$Tzi,C$Tzr),C$Tzt._iData),C$Tza=C$Tzn.indiceOffset,C$Tz_=C$Tzn.vertexOffset,C$Tzc=0,C$Tzd=C$Tzu;C$Tzc<C$Tzd;C$Tzc+=2){var C$Tzl=C$Tz_+C$Tzc;C$Tzo[C$Tza++]=C$Tzl,C$Tzo[C$Tza++]=C$Tzl+2,C$Tzo[C$Tza++]=C$Tzl+1,C$Tzo[C$Tza++]=C$Tzl+1,C$Tzo[C$Tza++]=C$Tzl+2,C$Tzo[C$Tza++]=C$Tzl+3;}C$Tzh.node._renderFlag|=C$Tzf.FLAG_UPDATE_RENDER_DATA;};var C$Tzs,C$Tzt=C$Tzo;function C$Tzo(){return C$Tzs.apply(this,arguments)||this;}(C$Tzi.default=C$Tzt).register(C$Tzc,C$Tzt),C$Tze.exports=C$Tzi.default;},{"../../../components/CCMotionStreak":85,"../../assembler-2d":215,"../../render-flow":221}],239:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=(C$Tzn=C$Tzt(H[1682]))&&C$Tzn.__esModule?C$Tzn:{default:C$Tzn};function C$Tzr(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzs(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzs(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzs(C$Tzt){return(C$Tzs=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzo,C$Tzx=C$Tzt(H[1683]).FillType,C$Tzt=(C$Tzo=C$Tzn.default,C$Tzt=C$Tzo,(C$Tzn=C$Tza).prototype=Object.create(C$Tzt.prototype),(C$Tzn.prototype.constructor=C$Tzn).__proto__=C$Tzt,C$Tzr(C$Tza),(C$Tzn=C$Tza.prototype).updateRenderData=function(C$Tzt){var C$Tze,C$Tzi=C$Tzt._spriteFrame;this.packToDynamicAtlas(C$Tzt,C$Tzi),C$Tzt._vertsDirty&&(C$Tzi=C$Tzt._fillStart,(C$Tze=C$Tzt._fillRange)<0&&(C$Tzi+=C$Tze,C$Tze=-C$Tze),C$Tze=(C$Tze=1<(C$Tze=C$Tzi+C$Tze)?1:C$Tze)<0?0:C$Tze,C$Tze=1<(C$Tze=(C$Tzi=(C$Tzi=1<C$Tzi?1:C$Tzi)<0?0:C$Tzi)+(C$Tze=(C$Tze-=C$Tzi)<0?0:C$Tze))?1:C$Tze,this.updateUVs(C$Tzt,C$Tzi,C$Tze),this.updateVerts(C$Tzt,C$Tzi,C$Tze),C$Tzt._vertsDirty=!1);},C$Tzn.updateUVs=function(C$Tzh,C$Tzt,C$Tze){var C$Tzu,C$Tz_,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzd,C$Tzf,C$Tzp,C$Tzm,C$Tzy=C$Tzh._spriteFrame,C$Tzg=C$Tzy._texture.width,C$Tzv=C$Tzy._texture.height,C$Tzo=C$Tzy._rect,C$Tza=(C$Tzy._rotated?(C$Tzu=C$Tzo.x/C$Tzg,C$Tz_=(C$Tzo.y+C$Tzo.width)/C$Tzv,C$Tzi=C$Tzr=C$Tzu,C$Tzd=C$Tzp=(C$Tzo.x+C$Tzo.height)/C$Tzg,C$Tzs=C$Tzm=C$Tz_,C$Tzn=C$Tzf=C$Tzo.y/C$Tzv):(C$Tzu=C$Tzo.x/C$Tzg,C$Tz_=(C$Tzo.y+C$Tzo.height)/C$Tzv,C$Tzi=C$Tzd=C$Tzu,C$Tzr=C$Tzp=(C$Tzo.x+C$Tzo.width)/C$Tzg,C$Tzn=C$Tzs=C$Tz_,C$Tzf=C$Tzm=C$Tzo.y/C$Tzv),this._renderData.vDatas[0]),C$Tzc=this.uvOffset,C$Tzl=this.floatsPerVert;switch(C$Tzh._fillType){case C$Tzx.HORIZONTAL:C$Tza[C$Tzc]=C$Tzi+(C$Tzr-C$Tzi)*C$Tzt,C$Tza[C$Tzc+1]=C$Tzn+(C$Tzs-C$Tzn)*C$Tzt,C$Tza[C$Tzc+C$Tzl]=C$Tzi+(C$Tzr-C$Tzi)*C$Tze,C$Tza[C$Tzc+C$Tzl+1]=C$Tzn+(C$Tzs-C$Tzn)*C$Tze,C$Tza[C$Tzc+2*C$Tzl]=C$Tzd+(C$Tzp-C$Tzd)*C$Tzt,C$Tza[C$Tzc+2*C$Tzl+1]=C$Tzf+(C$Tzm-C$Tzf)*C$Tzt,C$Tza[C$Tzc+3*C$Tzl]=C$Tzd+(C$Tzp-C$Tzd)*C$Tze,C$Tza[C$Tzc+3*C$Tzl+1]=C$Tzf+(C$Tzm-C$Tzf)*C$Tze;break;case C$Tzx.VERTICAL:C$Tza[C$Tzc]=C$Tzi+(C$Tzd-C$Tzi)*C$Tzt,C$Tza[C$Tzc+1]=C$Tzn+(C$Tzf-C$Tzn)*C$Tzt,C$Tza[C$Tzc+C$Tzl]=C$Tzr+(C$Tzp-C$Tzr)*C$Tzt,C$Tza[C$Tzc+C$Tzl+1]=C$Tzs+(C$Tzm-C$Tzs)*C$Tzt,C$Tza[C$Tzc+2*C$Tzl]=C$Tzi+(C$Tzd-C$Tzi)*C$Tze,C$Tza[C$Tzc+2*C$Tzl+1]=C$Tzn+(C$Tzf-C$Tzn)*C$Tze,C$Tza[C$Tzc+3*C$Tzl]=C$Tzr+(C$Tzp-C$Tzr)*C$Tze,C$Tza[C$Tzc+3*C$Tzl+1]=C$Tzs+(C$Tzm-C$Tzs)*C$Tze;break;default:cc.errorID(2626);}},C$Tzn.updateVerts=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr=C$Tzt.node,C$Tzs=C$Tzr.width,C$Tzh=C$Tzr.height,C$Tzu=C$Tzr.anchorX*C$Tzs,C$Tzr=C$Tzr.anchorY*C$Tzh,C$Tzo=-C$Tzu,C$Tza=-C$Tzr,C$Tzc=C$Tzs-C$Tzu,C$Tzl=C$Tzh-C$Tzr;switch(C$Tzt._fillType){case C$Tzx.HORIZONTAL:C$Tzn=C$Tzo+(C$Tzc-C$Tzo)*C$Tzi,C$Tzo=C$Tzo+(C$Tzc-C$Tzo)*C$Tze,C$Tzc=C$Tzn;break;case C$Tzx.VERTICAL:C$Tzn=C$Tza+(C$Tzl-C$Tza)*C$Tzi,C$Tza=C$Tza+(C$Tzl-C$Tza)*C$Tze,C$Tzl=C$Tzn;break;default:cc.errorID(2626);}C$Tzs=this._local;C$Tzs[0]=C$Tzo,C$Tzs[1]=C$Tza,C$Tzs[2]=C$Tzc,C$Tzs[3]=C$Tzl,this.updateWorldVerts(C$Tzt);},C$Tza);function C$Tza(){return C$Tzo.apply(this,arguments)||this;}C$Tzi.default=C$Tzt,C$Tze.exports=C$Tzi.default;},{"../../../../../components/CCSprite":94,"../../../../assembler-2d":215}],240:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;C$Tzt=(C$Tzt=C$Tzt(H[1682]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzn(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzr(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzr(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzr(C$Tzt){return(C$Tzr=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}C$Tzs=C$Tzt.default,C$Tzt=C$Tzs,(C$Tzo=C$Tza).prototype=Object.create(C$Tzt.prototype),(C$Tzo.prototype.constructor=C$Tzo).__proto__=C$Tzt,C$Tzn(C$Tza),(C$Tzo=C$Tza.prototype).initData=function(C$Tzt){this._renderData.createFlexData(0,4,6,this.getVfmt());},C$Tzo.updateRenderData=function(C$Tzt){this.packToDynamicAtlas(C$Tzt,C$Tzt._spriteFrame);var C$Tze,C$Tzi=C$Tzt.spriteFrame;!C$Tzi||(C$Tzi=C$Tzi.vertices)&&(this.verticesCount=C$Tzi.x.length,this.indicesCount=C$Tzi.triangles.length,(C$Tze=this._renderData._flexBuffer).reserve(this.verticesCount,this.indicesCount)&&(this.updateColor(C$Tzt),C$Tzt._vertsDirty=!0),C$Tze.used(this.verticesCount,this.indicesCount),this.updateIndices(C$Tzi.triangles),C$Tzt._vertsDirty&&(this.updateUVs(C$Tzt),this.updateVerts(C$Tzt),this.updateWorldVerts(C$Tzt),C$Tzt._vertsDirty=!1));},C$Tzo.updateIndices=function(C$Tzt){this._renderData.iDatas[0].set(C$Tzt);},C$Tzo.updateUVs=function(C$Tzt){for(var C$Tzt=C$Tzt.spriteFrame.vertices,C$Tze=C$Tzt.nu,C$Tzi=C$Tzt.nv,C$Tzn=this.uvOffset,C$Tzr=this.floatsPerVert,C$Tzs=this._renderData.vDatas[0],C$Tzo=0;C$Tzo<C$Tze.length;C$Tzo++){var C$Tza=C$Tzr*C$Tzo+C$Tzn;C$Tzs[C$Tza]=C$Tze[C$Tzo],C$Tzs[C$Tza+1]=C$Tzi[C$Tzo];}},C$Tzo.updateVerts=function(C$Tzt){var C$Tze=C$Tzt.node,C$Tzi=Math.abs(C$Tze.width),C$Tzn=Math.abs(C$Tze.height),C$Tzh=C$Tze.anchorX*C$Tzi,C$Tzu=C$Tze.anchorY*C$Tzn,C$Tze=C$Tzt.spriteFrame,C$Tzr=C$Tze.vertices,C$Tzs=C$Tzr.x,C$Tz_=C$Tzr.y,C$Tzr=C$Tze._originalSize.width,C$Tzo=C$Tze._originalSize.height,C$Tzd=C$Tze._rect.width,C$Tzf=C$Tze._rect.height,C$Tzp=C$Tze._offset.x+(C$Tzr-C$Tzd)/2,C$Tzm=C$Tze._offset.y+(C$Tzo-C$Tzf)/2,C$Tzy=C$Tzi/(C$Tzt.trim?C$Tzd:C$Tzr),C$Tzg=C$Tzn/(C$Tzt.trim?C$Tzf:C$Tzo),C$Tza=this._local;if(C$Tzt.trim)for(var C$Tzc=0,C$Tzv=C$Tzs.length;C$Tzc<C$Tzv;C$Tzc++){var C$Tzx=2*C$Tzc;C$Tza[C$Tzx]=(C$Tzs[C$Tzc]-C$Tzp)*C$Tzy-C$Tzh,C$Tza[1+C$Tzx]=(C$Tzo-C$Tz_[C$Tzc]-C$Tzm)*C$Tzg-C$Tzu;}else for(var C$Tzl=0,C$Tzb=C$Tzs.length;C$Tzl<C$Tzb;C$Tzl++){var C$TzA=2*C$Tzl;C$Tza[C$TzA]=C$Tzs[C$Tzl]*C$Tzy-C$Tzh,C$Tza[1+C$TzA]=(C$Tzo-C$Tz_[C$Tzl])*C$Tzg-C$Tzu;}},C$Tzo.updateWorldVerts=function(C$Tzt){for(var C$Tzt=C$Tzt.node._worldMatrix.m,C$Tze=C$Tzt[0],C$Tzi=C$Tzt[1],C$Tzn=C$Tzt[4],C$Tzh=C$Tzt[5],C$Tzu=C$Tzt[12],C$Tz_=C$Tzt[13],C$Tzr=this._local,C$Tzs=this._renderData.vDatas[0],C$Tzo=this.floatsPerVert,C$Tza=0,C$Tzd=this.verticesCount;C$Tza<C$Tzd;C$Tza++){var C$Tzc=C$Tzr[2*C$Tza],C$Tzl=C$Tzr[2*C$Tza+1];C$Tzs[C$Tzo*C$Tza]=C$Tzc*C$Tze+C$Tzl*C$Tzn+C$Tzu,C$Tzs[C$Tzo*C$Tza+1]=C$Tzc*C$Tzi+C$Tzl*C$Tzh+C$Tz_;}};var C$Tzs,C$Tzo,C$Tzt=C$Tza;function C$Tza(){return C$Tzs.apply(this,arguments)||this;}C$Tzi.default=C$Tzt,C$Tze.exports=C$Tzi.default;},{"../../../../assembler-2d":215}],241:[function(C$Tzt,C$Tzn,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.default=void 0;C$Tzt=(C$Tzt=C$Tzt(H[1682]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzr(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzs(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzs(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzs(C$Tzt){return(C$Tzs=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzp=2*Math.PI,C$Tzm=[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)],C$Tzy=[0,0,0,0],C$Tzg=[0,0,0,0,0,0,0,0],C$TzA=[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)],C$TzC=[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)],C$Tzv=cc.v2(0,0),C$Tzx=[];function C$TzS(C$Tzt,C$Tze,C$Tzi,C$Tzh,C$Tzn,C$Tzr,C$Tzs){var C$Tzo,C$Tza,C$Tzc=Math.sin(C$Tzr),C$Tzl=Math.cos(C$Tzr);0!==Math.cos(C$Tzr)&&(C$Tzo=C$Tzc/C$Tzl,0<(C$Tzt-C$Tzn.x)*C$Tzl&&(C$Tza=C$Tzn.y+C$Tzo*(C$Tzt-C$Tzn.x),C$Tzs[0].x=C$Tzt,C$Tzs[0].y=C$Tza),0<(C$Tze-C$Tzn.x)*C$Tzl&&(C$Tzt=C$Tzn.y+C$Tzo*(C$Tze-C$Tzn.x),C$Tzs[2].x=C$Tze,C$Tzs[2].y=C$Tzt)),0!==Math.sin(C$Tzr)&&(C$Tza=C$Tzl/C$Tzc,0<(C$Tzh-C$Tzn.y)*C$Tzc&&(C$Tzo=C$Tzn.x+C$Tza*(C$Tzh-C$Tzn.y),C$Tzs[3].x=C$Tzo,C$Tzs[3].y=C$Tzh),0<(C$Tzi-C$Tzn.y)*C$Tzc&&(C$Tze=C$Tzn.x+C$Tza*(C$Tzi-C$Tzn.y),C$Tzs[1].x=C$Tze,C$Tzs[1].y=C$Tzi));}function C$Tz_(C$Tzt,C$Tze){var C$Tzi=C$Tze.x-C$Tzt.x,C$Tze=C$Tze.y-C$Tzt.y;if(0!=C$Tzi||0!=C$Tze){if(0==C$Tzi)return 0<C$Tze?.5*Math.PI:1.5*Math.PI;C$Tzt=Math.atan(C$Tze/C$Tzi);return C$Tzi<0&&(C$Tzt+=Math.PI),C$Tzt;}}C$Tzb=C$Tzt.default,C$Tzt=C$Tzb,(C$Tzi=C$Tzo).prototype=Object.create(C$Tzt.prototype),(C$Tzi.prototype.constructor=C$Tzi).__proto__=C$Tzt,C$Tzr(C$Tzo),(C$Tzi=C$Tzo.prototype).initData=function(C$Tzt){this._renderData.createFlexData(0,4,6,this.getVfmt()),this.updateIndices();},C$Tzi.updateRenderData=function(C$Tzt){C$Tzb.prototype.updateRenderData.call(this,C$Tzt);var C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzf=C$Tzt.spriteFrame;if(this.packToDynamicAtlas(C$Tzt,C$Tzf),C$Tzt._vertsDirty){var C$Tzc=C$Tzt._fillStart,C$Tzl=C$Tzt._fillRange;for(C$Tzl<0&&(C$Tzc+=C$Tzl,C$Tzl=-C$Tzl);1<=C$Tzc;)--C$Tzc;for(;C$Tzc<0;)C$Tzc+=1;C$Tzc*=C$Tzp,C$Tzl*=C$Tzp,C$Tzi=(C$Tzs=(C$Tze=C$Tzt).node).width,C$Tzn=C$Tzs.height,C$Tzr=C$Tzs.anchorX*C$Tzi,C$Tzs=C$Tzs.anchorY*C$Tzn,C$Tzo=-C$Tzr,C$Tza=-C$Tzs,C$Tzi-=C$Tzr,C$Tzr=C$Tzn-C$Tzs,(C$Tzn=C$Tzy)[0]=C$Tzo,C$Tzn[1]=C$Tza,C$Tzn[2]=C$Tzi,C$Tzn[3]=C$Tzr,C$Tzs=C$Tze._fillCenter,C$Tze=C$Tzv.x=Math.min(Math.max(0,C$Tzs.x),1)*(C$Tzi-C$Tzo)+C$Tzo,C$Tzs=C$Tzv.y=Math.min(Math.max(0,C$Tzs.y),1)*(C$Tzr-C$Tza)+C$Tza,C$Tzm[0].x=C$Tzm[3].x=C$Tzo,C$Tzm[1].x=C$Tzm[2].x=C$Tzi,C$Tzm[0].y=C$Tzm[1].y=C$Tza,C$Tzm[2].y=C$Tzm[3].y=C$Tzr,C$Tze!==C$Tzn[C$Tzx.length=0]&&(C$Tzx[0]=[3,0]),C$Tze!==C$Tzn[2]&&(C$Tzx[2]=[1,2]),C$Tzs!==C$Tzn[1]&&(C$Tzx[1]=[0,1]),C$Tzs!==C$Tzn[3]&&(C$Tzx[3]=[2,3]),C$Tzo=C$Tzf._texture.width,C$Tzi=C$Tzf._texture.height,C$Tza=C$Tzf._rect,C$Tzr=C$Tzg,C$Tzf._rotated?(C$Tzh=C$Tza.x/C$Tzo,C$Tzu=(C$Tza.x+C$Tza.height)/C$Tzo,C$Tz_=C$Tza.y/C$Tzi,C$Tzd=(C$Tza.y+C$Tza.width)/C$Tzi,C$Tzr[0]=C$Tzr[2]=C$Tzh,C$Tzr[4]=C$Tzr[6]=C$Tzu,C$Tzr[3]=C$Tzr[7]=C$Tzd,C$Tzr[1]=C$Tzr[5]=C$Tz_):(C$Tzh=C$Tza.x/C$Tzo,C$Tzu=(C$Tza.x+C$Tza.width)/C$Tzo,C$Tz_=C$Tza.y/C$Tzi,C$Tzd=(C$Tza.y+C$Tza.height)/C$Tzi,C$Tzr[0]=C$Tzr[4]=C$Tzh,C$Tzr[2]=C$Tzr[6]=C$Tzu,C$Tzr[1]=C$Tzr[3]=C$Tzd,C$Tzr[5]=C$Tzr[7]=C$Tz_),C$TzS(C$Tzy[0],C$Tzy[2],C$Tzy[1],C$Tzy[3],C$Tzv,C$Tzc,C$TzA),C$TzS(C$Tzy[0],C$Tzy[2],C$Tzy[1],C$Tzy[3],C$Tzv,C$Tzc+C$Tzl,C$TzC),this.updateVerts(C$Tzt,C$Tzc,C$Tzl),C$Tzt._vertsDirty=!1;}},C$Tzi.updateVerts=function(C$Tzt,C$Tze,C$Tzh){for(var C$Tzi=C$Tze+C$Tzh,C$Tzn=this._local,C$Tzr=C$Tzn.length=0,C$Tzs=3*this.floatsPerVert,C$Tzo=0;C$Tzo<4;++C$Tzo){var C$Tza=C$Tzx[C$Tzo];if(C$Tza)if(C$Tzp<=C$Tzh)C$Tzn.length=C$Tzr+C$Tzs,this._generateTriangle(C$Tzn,C$Tzr,C$Tzv,C$Tzm[C$Tza[0]],C$Tzm[C$Tza[1]]),C$Tzr+=C$Tzs;else{var C$Tzc=C$Tz_(C$Tzv,C$Tzm[C$Tza[0]]),C$Tzl=C$Tz_(C$Tzv,C$Tzm[C$Tza[1]]);C$Tzl<C$Tzc&&(C$Tzl+=C$Tzp),C$Tzc-=C$Tzp,C$Tzl-=C$Tzp;for(var C$Tzu=0;C$Tzu<3;++C$Tzu)C$Tzi<=C$Tzc||(C$Tze<=C$Tzc?(C$Tzn.length=C$Tzr+C$Tzs,C$Tzi<=C$Tzl?this._generateTriangle(C$Tzn,C$Tzr,C$Tzv,C$Tzm[C$Tza[0]],C$TzC[C$Tzo]):this._generateTriangle(C$Tzn,C$Tzr,C$Tzv,C$Tzm[C$Tza[0]],C$Tzm[C$Tza[1]]),C$Tzr+=C$Tzs):C$Tzl<=C$Tze||(C$Tzl<=C$Tzi?(C$Tzn.length=C$Tzr+C$Tzs,this._generateTriangle(C$Tzn,C$Tzr,C$Tzv,C$TzA[C$Tzo],C$Tzm[C$Tza[1]])):(C$Tzn.length=C$Tzr+C$Tzs,this._generateTriangle(C$Tzn,C$Tzr,C$Tzv,C$TzA[C$Tzo],C$TzC[C$Tzo])),C$Tzr+=C$Tzs)),C$Tzc+=C$Tzp,C$Tzl+=C$Tzp;}}this.allocWorldVerts(C$Tzt),this.updateWorldVerts(C$Tzt);},C$Tzi.allocWorldVerts=function(C$Tzt){for(var C$Tze=C$Tzt.node._color._val,C$Tzt=this._renderData,C$Tzi=this.floatsPerVert,C$Tzn=this._local,C$Tzr=C$Tzn.length/C$Tzi,C$Tzs=(this.verticesCount=this.indicesCount=C$Tzr,C$Tzt._flexBuffer),C$Tzo=(C$Tzs.reserve(C$Tzr,C$Tzr)&&this.updateIndices(),C$Tzs.used(this.verticesCount,this.indicesCount),C$Tzt.vDatas[0]),C$Tza=C$Tzt.uintVDatas[0],C$Tzh=this.uvOffset,C$Tzc=0;C$Tzc<C$Tzn.length;C$Tzc+=C$Tzi){var C$Tzl=C$Tzc+C$Tzh;C$Tzo[C$Tzl]=C$Tzn[C$Tzl],C$Tzo[C$Tzl+1]=C$Tzn[C$Tzl+1],C$Tza[C$Tzl+2]=C$Tze;}},C$Tzi.updateIndices=function(){for(var C$Tzt=this._renderData.iDatas[0],C$Tze=0;C$Tze<C$Tzt.length;C$Tze++)C$Tzt[C$Tze]=C$Tze;},C$Tzi.updateWorldVerts=function(C$Tzt){for(var C$Tzt=C$Tzt.node._worldMatrix.m,C$Tze=C$Tzt[0],C$Tzi=C$Tzt[1],C$Tzn=C$Tzt[4],C$Tzr=C$Tzt[5],C$Tzh=C$Tzt[12],C$Tzu=C$Tzt[13],C$Tzs=this._local,C$Tzo=this._renderData.vDatas[0],C$Tz_=this.floatsPerVert,C$Tza=0;C$Tza<C$Tzs.length;C$Tza+=C$Tz_){var C$Tzc=C$Tzs[C$Tza],C$Tzl=C$Tzs[C$Tza+1];C$Tzo[C$Tza]=C$Tzc*C$Tze+C$Tzl*C$Tzn+C$Tzh,C$Tzo[C$Tza+1]=C$Tzc*C$Tzi+C$Tzl*C$Tzr+C$Tzu;}},C$Tzi._generateTriangle=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs=C$Tzy[0],C$Tzo=C$Tzy[1],C$Tza=C$Tzy[2],C$Tzh=C$Tzy[3],C$Tzc=this.floatsPerVert,C$Tzu=(C$Tzt[C$Tze]=C$Tzi.x,C$Tzt[C$Tze+1]=C$Tzi.y,C$Tzt[C$Tze+C$Tzc]=C$Tzn.x,C$Tzt[C$Tze+C$Tzc+1]=C$Tzn.y,C$Tzt[C$Tze+2*C$Tzc]=C$Tzr.x,C$Tzt[C$Tze+2*C$Tzc+1]=C$Tzr.y,this.uvOffset),C$Tzl=(C$Tzi.x-C$Tzs)/(C$Tza-C$Tzs),C$Tzi=(C$Tzi.y-C$Tzo)/(C$Tzh-C$Tzo);this._generateUV(C$Tzl,C$Tzi,C$Tzt,C$Tze+C$Tzu),C$Tzl=(C$Tzn.x-C$Tzs)/(C$Tza-C$Tzs),C$Tzi=(C$Tzn.y-C$Tzo)/(C$Tzh-C$Tzo),this._generateUV(C$Tzl,C$Tzi,C$Tzt,C$Tze+C$Tzc+C$Tzu),C$Tzl=(C$Tzr.x-C$Tzs)/(C$Tza-C$Tzs),C$Tzi=(C$Tzr.y-C$Tzo)/(C$Tzh-C$Tzo),this._generateUV(C$Tzl,C$Tzi,C$Tzt,C$Tze+2*C$Tzc+C$Tzu);},C$Tzi._generateUV=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tzg[0]+(C$Tzg[2]-C$Tzg[0])*C$Tzt,C$Tzs=C$Tzg[1]+(C$Tzg[3]-C$Tzg[1])*C$Tzt,C$Tzo=C$Tzg[5]+(C$Tzg[7]-C$Tzg[5])*C$Tzt;C$Tzi[C$Tzn]=C$Tzr+(C$Tzg[4]+(C$Tzg[6]-C$Tzg[4])*C$Tzt-C$Tzr)*C$Tze,C$Tzi[C$Tzn+1]=C$Tzs+(C$Tzo-C$Tzs)*C$Tze;};var C$Tzb,C$Tzi,C$Tzt=C$Tzo;function C$Tzo(){return C$Tzb.apply(this,arguments)||this;}C$Tze.default=C$Tzt,C$Tzn.exports=C$Tze.default;},{"../../../../assembler-2d":215}],242:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;C$Tzt=(C$Tzt=C$Tzt(H[1682]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzn(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzr(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzr(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzr(C$Tzt){return(C$Tzr=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}C$Tzs=C$Tzt.default,C$Tzt=C$Tzs,(C$Tzo=C$Tza).prototype=Object.create(C$Tzt.prototype),(C$Tzo.prototype.constructor=C$Tzo).__proto__=C$Tzt,C$Tzn(C$Tza),(C$Tzo=C$Tza.prototype).updateRenderData=function(C$Tzt){this.packToDynamicAtlas(C$Tzt,C$Tzt._spriteFrame),C$Tzt._vertsDirty&&(this.updateUVs(C$Tzt),this.updateVerts(C$Tzt),C$Tzt._vertsDirty=!1);},C$Tzo.updateUVs=function(C$Tzt){for(var C$Tze=C$Tzt._spriteFrame.uv,C$Tzi=this.uvOffset,C$Tzn=this.floatsPerVert,C$Tzr=this._renderData.vDatas[0],C$Tzs=0;C$Tzs<4;C$Tzs++){var C$Tzo=2*C$Tzs,C$Tza=C$Tzn*C$Tzs+C$Tzi;C$Tzr[C$Tza]=C$Tze[C$Tzo],C$Tzr[C$Tza+1]=C$Tze[1+C$Tzo];}},C$Tzo.updateVerts=function(C$Tzt){var C$Tze,C$Tzh,C$Tzi,C$Tzn,C$Tzr,C$Tzu,C$Tz_,C$Tzd,C$Tzs=C$Tzt.node,C$Tzo=C$Tzs.width,C$Tza=C$Tzs.height,C$Tzc=C$Tzs.anchorX*C$Tzo,C$Tzs=C$Tzs.anchorY*C$Tza,C$Tzl=(C$Tzo=C$Tzt.trim?(C$Tzu=-C$Tzc,C$Tz_=-C$Tzs,C$Tzd=C$Tzo-C$Tzc,C$Tza-C$Tzs):(C$Tzn=(C$Tzi=C$Tzt.spriteFrame)._originalSize.width,C$Tze=C$Tzi._originalSize.height,C$Tzl=C$Tzi._rect.width,C$Tzh=C$Tzi._rect.height,C$Tzr=(C$Tzi=C$Tzi._offset).x+(C$Tzn-C$Tzl)/2,C$Tzl=C$Tzi.x-(C$Tzn-C$Tzl)/2,C$Tzu=C$Tzr*(C$Tzr=C$Tzo/C$Tzn)-C$Tzc,C$Tz_=(C$Tzi.y+(C$Tze-C$Tzh)/2)*(C$Tzn=C$Tza/C$Tze)-C$Tzs,C$Tzd=C$Tzo+C$Tzl*C$Tzr-C$Tzc,C$Tza+(C$Tzi.y-(C$Tze-C$Tzh)/2)*C$Tzn-C$Tzs),this._local);C$Tzl[0]=C$Tzu,C$Tzl[1]=C$Tz_,C$Tzl[2]=C$Tzd,C$Tzl[3]=C$Tzo,this.updateWorldVerts(C$Tzt);};var C$Tzs,C$Tzo,C$Tzt=C$Tza;function C$Tza(){return C$Tzs.apply(this,arguments)||this;}C$Tzi.default=C$Tzt,C$Tze.exports=C$Tzi.default;},{"../../../../assembler-2d":215}],243:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;C$Tzt=(C$Tzt=C$Tzt(H[1682]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzn(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzr(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzr(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzr(C$Tzt){return(C$Tzr=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}C$Tzs=C$Tzt.default,C$Tzt=C$Tzs,(C$Tzo=C$Tza).prototype=Object.create(C$Tzt.prototype),(C$Tzo.prototype.constructor=C$Tzo).__proto__=C$Tzt,C$Tzn(C$Tza),(C$Tzo=C$Tza.prototype).initData=function(C$Tzt){if(!(0<this._renderData.meshCount)){this._renderData.createData(0,this.verticesFloats,this.indicesCount);for(var C$Tze=this._renderData.iDatas[0],C$Tzi=0,C$Tzn=0;C$Tzn<3;++C$Tzn)for(var C$Tzr=0;C$Tzr<3;++C$Tzr){var C$Tzs=4*C$Tzn+C$Tzr;C$Tze[C$Tzi++]=C$Tzs,C$Tze[C$Tzi++]=C$Tzs+1,C$Tze[C$Tzi++]=C$Tzs+4,C$Tze[C$Tzi++]=C$Tzs+1,C$Tze[C$Tzi++]=C$Tzs+5,C$Tze[C$Tzi++]=C$Tzs+4;}}},C$Tzo.initLocal=function(){this._local=[],this._local.length=8;},C$Tzo.updateRenderData=function(C$Tzt){var C$Tze=C$Tzt._spriteFrame;this.packToDynamicAtlas(C$Tzt,C$Tze),C$Tzt._vertsDirty&&(this.updateUVs(C$Tzt),this.updateVerts(C$Tzt),C$Tzt._vertsDirty=!1);},C$Tzo.updateVerts=function(C$Tzt){var C$Tze=C$Tzt.node,C$Tzi=C$Tze.width,C$Tzn=C$Tze.height,C$Tzr=C$Tze.anchorX*C$Tzi,C$Tze=C$Tze.anchorY*C$Tzn,C$Tzs=C$Tzt.spriteFrame,C$Tzo=C$Tzs.insetLeft,C$Tza=C$Tzs.insetRight,C$Tzc=C$Tzs.insetTop,C$Tzs=C$Tzs.insetBottom,C$Tzh=C$Tzi-C$Tzo-C$Tza,C$Tzu=C$Tzn-C$Tzc-C$Tzs,C$Tza=C$Tzi/(C$Tzo+C$Tza),C$Tzc=C$Tzn/(C$Tzc+C$Tzs),C$Tza=isNaN(C$Tza)||1<C$Tza?1:C$Tza,C$Tzc=isNaN(C$Tzc)||1<C$Tzc?1:C$Tzc,C$Tzh=C$Tzh<0?0:C$Tzh,C$Tzu=C$Tzu<0?0:C$Tzu,C$Tzl=this._local;C$Tzl[0]=-C$Tzr,C$Tzl[1]=-C$Tze,C$Tzl[2]=C$Tzo*C$Tza-C$Tzr,C$Tzl[3]=C$Tzs*C$Tzc-C$Tze,C$Tzl[4]=C$Tzl[2]+C$Tzh,C$Tzl[5]=C$Tzl[3]+C$Tzu,C$Tzl[6]=C$Tzi-C$Tzr,C$Tzl[7]=C$Tzn-C$Tze,this.updateWorldVerts(C$Tzt);},C$Tzo.updateUVs=function(C$Tzt){for(var C$Tze=this._renderData.vDatas[0],C$Tzi=C$Tzt.spriteFrame.uvSliced,C$Tzn=this.uvOffset,C$Tzr=this.floatsPerVert,C$Tzs=0;C$Tzs<4;++C$Tzs)for(var C$Tzo=0;C$Tzo<4;++C$Tzo){var C$Tza=4*C$Tzs+C$Tzo,C$Tzc=C$Tzi[C$Tza],C$Tza=C$Tza*C$Tzr;C$Tze[C$Tza+C$Tzn]=C$Tzc.u,C$Tze[C$Tza+C$Tzn+1]=C$Tzc.v;}},C$Tzo.updateWorldVerts=function(C$Tzt){for(var C$Tzt=C$Tzt.node._worldMatrix.m,C$Tze=C$Tzt[0],C$Tzi=C$Tzt[1],C$Tzh=C$Tzt[4],C$Tzu=C$Tzt[5],C$Tz_=C$Tzt[12],C$Tzd=C$Tzt[13],C$Tzn=this._local,C$Tzr=this._renderData.vDatas[0],C$Tzf=this.floatsPerVert,C$Tzs=0;C$Tzs<4;++C$Tzs)for(var C$Tzo=C$Tzn[2*C$Tzs+1],C$Tza=0;C$Tza<4;++C$Tza){var C$Tzc=C$Tzn[2*C$Tza],C$Tzl=(4*C$Tzs+C$Tza)*C$Tzf;C$Tzr[C$Tzl]=C$Tzc*C$Tze+C$Tzo*C$Tzh+C$Tz_,C$Tzr[1+C$Tzl]=C$Tzc*C$Tzi+C$Tzo*C$Tzu+C$Tzd;}};var C$Tzs,C$Tzo,C$Tzt=C$Tza;function C$Tza(){return C$Tzs.apply(this,arguments)||this;}C$Tzi.default=C$Tzt,Object.assign(C$Tzt.prototype,{verticesCount:16,indicesCount:54}),C$Tze.exports=C$Tzi.default;},{"../../../../assembler-2d":215}],244:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;C$Tzt=(C$Tzt=C$Tzt(H[1682]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzn(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzr(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzr(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzr(C$Tzt){return(C$Tzr=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}C$Tzs=C$Tzt.default,C$Tzt=C$Tzs,(C$Tzo=C$Tza).prototype=Object.create(C$Tzt.prototype),(C$Tzo.prototype.constructor=C$Tzo).__proto__=C$Tzt,C$Tzn(C$Tza),(C$Tzo=C$Tza.prototype).initData=function(C$Tzt){this.verticesCount=0,this.contentWidth=0,this.contentHeight=0,this.rectWidth=0,this.rectHeight=0,this.hRepeat=0,this.vRepeat=0,this.row=0,this.col=0,this._renderData.createFlexData(0,4,6,this.getVfmt()),this._updateIndices();},C$Tzo.initLocal=function(){this._local={x:[],y:[]};},C$Tzo._updateIndices=function(){for(var C$Tzt=this._renderData.iDatas[0],C$Tze=0,C$Tzi=0,C$Tzn=C$Tzt.length;C$Tze<C$Tzn;C$Tze+=6,C$Tzi+=4)C$Tzt[C$Tze]=C$Tzi,C$Tzt[C$Tze+1]=C$Tzi+1,C$Tzt[C$Tze+2]=C$Tzi+2,C$Tzt[C$Tze+3]=C$Tzi+1,C$Tzt[C$Tze+4]=C$Tzi+3,C$Tzt[C$Tze+5]=C$Tzi+2;},C$Tzo.updateRenderData=function(C$Tzt){var C$Tze=C$Tzt._spriteFrame,C$Tzi=(this.packToDynamicAtlas(C$Tzt,C$Tze),C$Tzt.node),C$Tzn=this.contentWidth=Math.abs(C$Tzi.width),C$Tzi=this.contentHeight=Math.abs(C$Tzi.height),C$Tzr=C$Tze._rect,C$Tzs=C$Tze.insetLeft,C$Tzo=C$Tze.insetRight,C$Tza=C$Tzr.width-C$Tzs-C$Tzo,C$Tzc=C$Tze.insetTop,C$Tze=C$Tze.insetBottom,C$Tzr=C$Tzr.height-C$Tzc-C$Tze,C$Tzn=(this.sizableWidth=C$Tzn-C$Tzs-C$Tzo,this.sizableHeight=C$Tzi-C$Tzc-C$Tze,this.sizableWidth=0<this.sizableWidth?this.sizableWidth:0,this.sizableHeight=0<this.sizableHeight?this.sizableHeight:0,this.hRepeat=0==C$Tza?this.sizableWidth:this.sizableWidth/C$Tza),C$Tzs=this.vRepeat=0==C$Tzr?this.sizableHeight:this.sizableHeight/C$Tzr,C$Tzo=(this.row=Math.ceil(C$Tzs+2))*(this.col=Math.ceil(C$Tzn+2));this.verticesCount=4*C$Tzo,this.indicesCount=6*C$Tzo;C$Tzi=this._renderData._flexBuffer;C$Tzi.reserve(this.verticesCount,this.indicesCount)&&(this._updateIndices(),this.updateColor(C$Tzt)),C$Tzi.used(this.verticesCount,this.indicesCount),C$Tzt._vertsDirty&&(this.updateUVs(C$Tzt),this.updateVerts(C$Tzt),C$Tzt._vertsDirty=!1);},C$Tzo.updateVerts=function(C$Tzh){for(var C$Tzt=C$Tzh._spriteFrame,C$Tzu=C$Tzt._rect,C$Tze=C$Tzh.node,C$Tzi=C$Tze.anchorX*C$Tze.width,C$Tzn=C$Tze.anchorY*C$Tze.height,C$Tz_=this.row,C$Tzd=this.col,C$Tzf=this.contentWidth,C$Tzp=this.contentHeight,C$Tzm=this._local,C$Tzy=C$Tzm.x,C$Tzg=C$Tzm.y,C$Tzr=(C$Tzy.length=C$Tzg.length=0,C$Tzt.insetLeft),C$Tzv=C$Tzt.insetRight,C$Tzs=C$Tzu.width-C$Tzr-C$Tzv,C$Tzx=C$Tzt.insetTop,C$Tzo=C$Tzt.insetBottom,C$Tza=C$Tzu.height-C$Tzx-C$Tzo,C$Tzb=1<C$Tze.width/(C$Tzr+C$Tzv)?1:C$Tze.width/(C$Tzr+C$Tzv),C$TzA=1<C$Tze.height/(C$Tzx+C$Tzo)?1:C$Tze.height/(C$Tzx+C$Tzo),C$TzC=0<C$Tzs?Math.floor(1e3*this.sizableWidth)/1e3%C$Tzs==0?C$Tzs:this.sizableWidth%C$Tzs:this.sizableWidth,C$TzS=0<C$Tza?Math.floor(1e3*this.sizableHeight)/1e3%C$Tza==0?C$Tza:this.sizableHeight%C$Tza:this.sizableHeight,C$Tzc=0;C$Tzc<=C$Tzd;C$Tzc++)0===C$Tzc?C$Tzy[C$Tzc]=-C$Tzi:0<C$Tzc&&C$Tzc<C$Tzd?C$Tzy[C$Tzc]=1===C$Tzc?C$Tzr*C$Tzb+Math.min(C$Tzs,this.sizableWidth)-C$Tzi:0<C$Tzs?C$Tzc===C$Tzd-1?C$Tzr+C$TzC+C$Tzs*(C$Tzc-2)-C$Tzi:C$Tzr+Math.min(C$Tzs,this.sizableWidth)+C$Tzs*(C$Tzc-2)-C$Tzi:C$Tzr+this.sizableWidth-C$Tzi:C$Tzc===C$Tzd&&(C$Tzy[C$Tzc]=Math.min(C$Tzr+this.sizableWidth+C$Tzv,C$Tzf)-C$Tzi);for(var C$Tzl=0;C$Tzl<=C$Tz_;C$Tzl++)0===C$Tzl?C$Tzg[C$Tzl]=-C$Tzn:0<C$Tzl&&C$Tzl<C$Tz_?C$Tzg[C$Tzl]=1===C$Tzl?C$Tzo*C$TzA+Math.min(C$Tza,this.sizableHeight)-C$Tzn:0<C$Tza?C$Tzl===C$Tz_-1?C$Tzo+C$TzS+(C$Tzl-2)*C$Tza-C$Tzn:C$Tzo+Math.min(C$Tza,this.sizableHeight)+(C$Tzl-2)*C$Tza-C$Tzn:C$Tzo+this.sizableHeight-C$Tzn:C$Tzl===C$Tz_&&(C$Tzg[C$Tzl]=Math.min(C$Tzo+this.sizableHeight+C$Tzx,C$Tzp)-C$Tzn);this.updateWorldVerts(C$Tzh);},C$Tzo.updateWorldVerts=function(C$Tzh){for(var C$Tzt,C$Tze,C$Tzi=this._renderData,C$Tzu=this._local,C$Tz_=C$Tzu.x,C$Tzd=C$Tzu.y,C$Tzn=C$Tzi.vDatas[0],C$Tzu=this.row,C$Tzf=this.col,C$Tzi=C$Tzh.node._worldMatrix.m,C$Tzr=C$Tzi[0],C$Tzs=C$Tzi[1],C$Tzo=C$Tzi[4],C$Tza=C$Tzi[5],C$Tzc=C$Tzi[12],C$Tzp=C$Tzi[13],C$Tzm=this.floatsPerVert,C$Tzl=0,C$Tzy=0,C$Tzg=C$Tzu;C$Tzy<C$Tzg;++C$Tzy)for(var C$Tzv=C$Tzd[C$Tzy],C$Tzx=C$Tzd[C$Tzy+1],C$Tzb=0,C$TzA=C$Tzf;C$Tzb<C$TzA;++C$Tzb)C$Tzt=C$Tz_[C$Tzb],C$Tze=C$Tz_[C$Tzb+1],C$Tzn[C$Tzl]=C$Tzt*C$Tzr+C$Tzv*C$Tzo+C$Tzc,C$Tzn[C$Tzl+1]=C$Tzt*C$Tzs+C$Tzv*C$Tza+C$Tzp,C$Tzn[C$Tzl+=C$Tzm]=C$Tze*C$Tzr+C$Tzv*C$Tzo+C$Tzc,C$Tzn[C$Tzl+1]=C$Tze*C$Tzs+C$Tzv*C$Tza+C$Tzp,C$Tzn[C$Tzl+=C$Tzm]=C$Tzt*C$Tzr+C$Tzx*C$Tzo+C$Tzc,C$Tzn[C$Tzl+1]=C$Tzt*C$Tzs+C$Tzx*C$Tza+C$Tzp,C$Tzn[C$Tzl+=C$Tzm]=C$Tze*C$Tzr+C$Tzx*C$Tzo+C$Tzc,C$Tzn[C$Tzl+1]=C$Tze*C$Tzs+C$Tzx*C$Tza+C$Tzp,C$Tzl+=C$Tzm;},C$Tzo.updateUVs=function(C$Tzh){var C$Tzt=this._renderData.vDatas[0];if(C$Tzt)for(var C$Tzu,C$Tze=C$Tzh._spriteFrame,C$Tz_=C$Tze._rect,C$Tzd=C$Tze.insetLeft,C$Tzf=C$Tze.insetRight,C$Tzp=C$Tz_.width-C$Tzd-C$Tzf,C$Tzd=C$Tze.insetTop,C$Tzf=C$Tze.insetBottom,C$Tzm=C$Tz_.height-C$Tzd-C$Tzf,C$Tzi=this.row,C$Tzn=this.col,C$Tzy=this.hRepeat,C$Tzg=this.vRepeat,C$Tzr=C$Tzh.spriteFrame.uv,C$Tzs=C$Tzh.spriteFrame.uvSliced,C$Tzv=C$Tzh.spriteFrame._rotated,C$Tzo=this.floatsPerVert,C$Tza=this.uvOffset,C$Tzc=0,C$Tzx=C$Tzi;C$Tzc<C$Tzx;++C$Tzc)for(var C$Tzb=this.sizableHeight>C$Tzm?this.sizableHeight>=C$Tzc*C$Tzm?1:C$Tzg%1:C$Tzg,C$Tzl=0,C$TzA=C$Tzn;C$Tzl<C$TzA;++C$Tzl)C$Tzu=this.sizableWidth>C$Tzp?this.sizableWidth>=C$Tzl*C$Tzp?1:C$Tzy%1:C$Tzy,C$Tzv?(C$Tzt[C$Tza]=C$Tzr[0],C$Tzt[C$Tza+1]=C$Tzr[1],C$Tzt[C$Tza+=C$Tzo]=C$Tzr[0],C$Tzt[C$Tza+1]=C$Tzr[1]+(C$Tzr[7]-C$Tzr[1])*C$Tzu,C$Tzt[C$Tza+=C$Tzo]=C$Tzr[0]+(C$Tzr[6]-C$Tzr[0])*C$Tzb,C$Tzt[C$Tza+1]=C$Tzr[1],C$Tzt[C$Tza+=C$Tzo]=C$Tzt[C$Tza-C$Tzo],C$Tzt[C$Tza+1]=C$Tzt[C$Tza+1-2*C$Tzo]):(0===C$Tzl?C$Tzt[C$Tza]=C$Tzr[0]:0<C$Tzl&&C$Tzl<C$Tzn-1?C$Tzt[C$Tza]=C$Tzs[1].u:C$Tzl===C$Tzn-1&&(C$Tzt[C$Tza]=C$Tzs[2].u),0===C$Tzc?C$Tzt[C$Tza+1]=C$Tzs[0].v:0<C$Tzc&&C$Tzc<C$Tzi-1?C$Tzt[C$Tza+1]=C$Tzs[4].v:C$Tzc===C$Tzi-1&&(C$Tzt[C$Tza+1]=C$Tzs[8].v),C$Tza+=C$Tzo,0===C$Tzl||0<C$Tzl&&C$Tzl<C$Tzn-1?C$Tzt[C$Tza]=C$Tzs[1].u+(C$Tzs[2].u-C$Tzs[1].u)*C$Tzu:C$Tzl===C$Tzn-1&&(C$Tzt[C$Tza]=C$Tzs[3].u),0===C$Tzc?C$Tzt[C$Tza+1]=C$Tzs[0].v:0<C$Tzc&&C$Tzc<C$Tzi-1?C$Tzt[C$Tza+1]=C$Tzs[4].v:C$Tzc===C$Tzi-1&&(C$Tzt[C$Tza+1]=C$Tzs[8].v),C$Tza+=C$Tzo,0===C$Tzl?C$Tzt[C$Tza]=C$Tzr[0]:0<C$Tzl&&C$Tzl<C$Tzn-1?C$Tzt[C$Tza]=C$Tzs[1].u:C$Tzl===C$Tzn-1&&(C$Tzt[C$Tza]=C$Tzs[2].u),0===C$Tzc||0<C$Tzc&&C$Tzc<C$Tzi-1?C$Tzt[C$Tza+1]=C$Tzs[4].v+(C$Tzs[8].v-C$Tzs[4].v)*C$Tzb:C$Tzc===C$Tzi-1&&(C$Tzt[C$Tza+1]=C$Tzs[12].v),C$Tzt[C$Tza+=C$Tzo]=C$Tzt[C$Tza-2*C$Tzo],C$Tzt[C$Tza+1]=C$Tzt[C$Tza+1-C$Tzo]),C$Tza+=C$Tzo;};var C$Tzs,C$Tzo,C$Tzt=C$Tza;function C$Tza(){return C$Tzs.apply(this,arguments)||this;}C$Tzi.default=C$Tzt,C$Tze.exports=C$Tzi.default;},{"../../../../assembler-2d":215}],245:[function(C$Tzt,C$Tzi,C$Tzu){"use strict";var C$Tz_=C$Tze(C$Tzt(H[1649])),C$Tzn=C$Tzt(H[1684]),C$Tzr=C$Tze(C$Tzt(H[1685])),C$Tzs=C$Tze(C$Tzt(H[1686])),C$Tzo=C$Tze(C$Tzt(H[1687])),C$Tza=C$Tze(C$Tzt(H[1688])),C$Tzc=C$Tze(C$Tzt(H[1689])),C$Tzl=C$Tze(C$Tzt(H[1690])),C$Tzh=C$Tze(C$Tzt(H[1691])),C$Tzd=C$Tze(C$Tzt(H[1692])),C$Tzf=C$Tze(C$Tzt(H[1693])),C$Tzp=C$Tze(C$Tzt(H[1694])),C$Tzm=C$Tze(C$Tzt(H[1695])),C$Tzy=C$Tze(C$Tzt(H[1696]));function C$Tze(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}C$Tzt={getConstructor:function(C$Tzt){var C$Tze=C$Tzt.node.is3DNode,C$Tzi=(C$Tze?C$Tzh:C$Tzr).default;switch(C$Tzt.type){case C$Tzn.Type.SLICED:C$Tzi=(C$Tze?C$Tzd:C$Tzs).default;break;case C$Tzn.Type.TILED:C$Tzi=(C$Tze?C$Tzf:C$Tzo).default;break;case C$Tzn.Type.FILLED:C$Tzi=(C$Tzt._fillType===C$Tzn.FillType.RADIAL?C$Tze?C$Tzp:C$Tza:C$Tze?C$Tzm:C$Tzc).default;break;case C$Tzn.Type.MESH:C$Tzi=(C$Tze?C$Tzy:C$Tzl).default;}return C$Tzi;},Simple:C$Tzr.default,Sliced:C$Tzs.default,Tiled:C$Tzo.default,RadialFilled:C$Tza.default,BarFilled:C$Tzc.default,Mesh:C$Tzl.default,Simple3D:C$Tzh.default,Sliced3D:C$Tzd.default,Tiled3D:C$Tzf.default,RadialFilled3D:C$Tzp.default,BarFilled3D:C$Tzm.default,Mesh3D:C$Tzy.default};C$Tz_.default.register(cc.Sprite,C$Tzt);},{"../../../../components/CCSprite":94,"../../../assembler":217,"./2d/bar-filled":239,"./2d/mesh":240,"./2d/radial-filled":241,"./2d/simple":242,"./2d/sliced":243,"./2d/tiled":244,"./3d/bar-filled":void 0,"./3d/mesh":void 0,"./3d/radial-filled":void 0,"./3d/simple":void 0,"./3d/sliced":void 0,"./3d/tiled":void 0}],246:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;(C$Tzn=C$Tzr.prototype)._reallocVData=function(C$Tzt,C$Tze){this.vData=new Float32Array(C$Tzt),this.uintVData=new Uint32Array(this.vData.buffer),C$Tze&&this.vData.set(C$Tze),this._handler.updateMesh(this._index,this.vData,this.iData);},C$Tzn._reallocIData=function(C$Tzt,C$Tze){this.iData=new Uint16Array(C$Tzt),C$Tze&&this.iData.set(C$Tze),this._handler.updateMesh(this._index,this.vData,this.iData);},C$Tzn.reserve=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt*this._verticesBytes>>2,C$Tzn=this.vData.length,C$Tzt=!1;if(C$Tzn<C$Tzi){for(;C$Tzn<C$Tzi;)C$Tzn*=2;this._reallocVData(C$Tzn,this.vData),C$Tzt=!0;}var C$Tzr=this.iData.length;if(C$Tzr<C$Tze){for(;C$Tzr<C$Tze;)C$Tzr*=2;this._reallocIData(C$Tze,this.iData),C$Tzt=!0;}return C$Tzt;},C$Tzn.used=function(C$Tzt,C$Tze){this.usedVertices=C$Tzt,this.usedIndices=C$Tze,this.usedVerticesFloats=C$Tzt*this._verticesBytes>>2,this._handler.updateMeshRange(C$Tzt,C$Tze);},C$Tzn.reset=function(){var C$Tzt=this._initVerticesCount*this._verticesBytes>>2;this._reallocVData(C$Tzt),this._reallocIData(this._initIndicesCount),this.usedVertices=0,this.usedVerticesFloats=0,this.usedIndices=0;};var C$Tzn=C$Tzr;function C$Tzr(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){this._handler=C$Tzt,this._index=C$Tze,this._vfmt=C$Tzr,this._verticesBytes=C$Tzr._bytes,this._initVerticesCount=C$Tzi,this._initIndicesCount=C$Tzn,this.reset();}C$Tzi.default=C$Tzn,cc.FlexBuffer=C$Tzn,C$Tze.exports=C$Tzi.default;},{}],247:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=(C$Tzt=C$Tzt(H[1697]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};C$Tzt=cc.Class({name:H[1698],ctor:function(C$Tzt,C$Tze){this.init(C$Tzt,C$Tze);},init:function(C$Tzt,C$Tze){this.byteOffset=0,this.indiceOffset=0,this.vertexOffset=0,this.indiceStart=0,this._dirty=!1,this._vertexFormat=C$Tze,this._vertexBytes=this._vertexFormat._bytes,this._arrOffset=0,this._vbArr=[],this._vb=new C$Tzn.default.VertexBuffer(C$Tzt._device,C$Tze,C$Tzn.default.USAGE_DYNAMIC,new ArrayBuffer(),0),this._vbArr[0]=this._vb,this._ibArr=[],this._ib=new C$Tzn.default.IndexBuffer(C$Tzt._device,C$Tzn.default.INDEX_FMT_UINT16,C$Tzn.default.USAGE_STATIC,new ArrayBuffer(),0),this._ibArr[0]=this._ib,this._vData=null,this._uintVData=null,this._iData=null,this._batcher=C$Tzt,this._initVDataCount=256*C$Tze._bytes,this._initIDataCount=1536,this._offsetInfo={byteOffset:0,vertexOffset:0,indiceOffset:0},this._reallocBuffer();},uploadData:function(){var C$Tzt,C$Tze;0!==this.byteOffset&&this._dirty&&(C$Tzt=new Float32Array(this._vData.buffer,0,this.byteOffset>>2),C$Tze=new Uint16Array(this._iData.buffer,0,this.indiceOffset),this._vb.update(0,C$Tzt),this._ib.update(0,C$Tze),this._dirty=!1);},switchBuffer:function(){var C$Tzt=++this._arrOffset;this.byteOffset=0,this.vertexOffset=0,this.indiceOffset=0,this.indiceStart=0,C$Tzt<this._vbArr.length?(this._vb=this._vbArr[C$Tzt],this._ib=this._ibArr[C$Tzt]):(this._vb=new C$Tzn.default.VertexBuffer(this._batcher._device,this._vertexFormat,C$Tzn.default.USAGE_DYNAMIC,new ArrayBuffer(),0),this._vbArr[C$Tzt]=this._vb,this._ib=new C$Tzn.default.IndexBuffer(this._batcher._device,C$Tzn.default.INDEX_FMT_UINT16,C$Tzn.default.USAGE_STATIC,new ArrayBuffer(),0),this._ibArr[C$Tzt]=this._ib);},checkAndSwitchBuffer:function(C$Tzt){65535<this.vertexOffset+C$Tzt&&(this.uploadData(),this._batcher._flush(),this.switchBuffer());},requestStatic:function(C$Tzt,C$Tze){this.checkAndSwitchBuffer(C$Tzt);var C$Tzi=this.byteOffset+C$Tzt*this._vertexBytes,C$Tzn=this.indiceOffset+C$Tze,C$Tzr=this._vData.byteLength,C$Tzs=this._iData.length;if(C$Tzr<C$Tzi||C$Tzs<C$Tzn){for(;C$Tzr<C$Tzi||C$Tzs<C$Tzn;)this._initVDataCount*=2,this._initIDataCount*=2,C$Tzr=4*this._initVDataCount,C$Tzs=this._initIDataCount;this._reallocBuffer();}this._updateOffset(C$Tzt,C$Tze,C$Tzi);},_updateOffset:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this._offsetInfo;C$Tzn.vertexOffset=this.vertexOffset,this.vertexOffset+=C$Tzt,C$Tzn.indiceOffset=this.indiceOffset,this.indiceOffset+=C$Tze,C$Tzn.byteOffset=this.byteOffset,this.byteOffset=C$Tzi,this._dirty=!0;},request:function(C$Tzt,C$Tze){return this._batcher._buffer!==this&&(this._batcher._flush(),this._batcher._buffer=this),this.requestStatic(C$Tzt,C$Tze),this._offsetInfo;},_reallocBuffer:function(){this._reallocVData(!0),this._reallocIData(!0);},_reallocVData:function(C$Tzt){this._vData&&(C$Tze=new Uint8Array(this._vData.buffer)),this._vData=new Float32Array(this._initVDataCount),this._uintVData=new Uint32Array(this._vData.buffer);var C$Tze,C$Tzi=new Uint8Array(this._uintVData.buffer);if(C$Tze&&C$Tzt)for(var C$Tzn=0,C$Tzr=C$Tze.length;C$Tzn<C$Tzr;C$Tzn++)C$Tzi[C$Tzn]=C$Tze[C$Tzn];},_reallocIData:function(C$Tzt){var C$Tze=this._iData;if(this._iData=new Uint16Array(this._initIDataCount),C$Tze&&C$Tzt)for(var C$Tzi=this._iData,C$Tzn=0,C$Tzr=C$Tze.length;C$Tzn<C$Tzr;C$Tzn++)C$Tzi[C$Tzn]=C$Tze[C$Tzn];},reset:function(){this._arrOffset=0,this._vb=this._vbArr[0],this._ib=this._ibArr[0],this.byteOffset=0,this.indiceOffset=0,this.vertexOffset=0,this.indiceStart=0,this._dirty=!1;},destroy:function(){this.reset();for(var C$Tzt=0;C$Tzt<this._vbArr.length;C$Tzt++)this._vbArr[C$Tzt].destroy();this._vbArr=null;for(var C$Tze=0;C$Tze<this._ibArr.length;C$Tze++)this._ibArr[C$Tze].destroy();this._ibArr=null,this._ib=null,this._vb=null;},forwardIndiceStartToOffset:function(){this.indiceStart=this.indiceOffset;}});cc.MeshBuffer=C$Tze.exports=C$Tzt;},{"../../../renderer/gfx":312}],248:[function(C$Tzt,C$Tzh,C$Tzu){"use strict";var C$Tzi=C$Tze(C$Tzt(H[1699])),C$Tzn=C$Tze(C$Tzt(H[1700])),C$Tz_=C$Tze(C$Tzt(H[1701]));function C$Tze(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzr(C$Tzt,C$Tze){this._renderScene=C$Tze,this._device=C$Tzt,this.walking=!1,this.material=C$Tzl,this.cullingMask=1,this._iaPool=new C$Tzn.default(function(){return new C$Tzi.default();},16),this._modelPool=new C$Tzn.default(function(){return new C$Tz_.default();},16),this._quadBuffer=this.getBuffer(H[1702],C$Tzo),this._meshBuffer=this.getBuffer(H[1252],C$Tzo),this._quadBuffer3D=this.getBuffer(H[1702],C$Tza),this._meshBuffer3D=this.getBuffer(H[1252],C$Tza),this._buffer=this._meshBuffer,this._batchedModels=[],this._dummyNode=new cc.Node(),this._sortKey=0,this.node=this._dummyNode,this.parentOpacity=1,this.parentOpacityDirty=0,this.worldMatDirty=0;}var C$Tzs=C$Tzt(H[1703]),C$Tzo=C$Tzs.vfmtPosUvColor,C$Tza=C$Tzs.vfmt3D,C$Tzd=C$Tzt(H[1704]),C$Tzf=C$Tzt(H[1705]),C$Tzp=C$Tzt(H[1706]),C$Tzs=C$Tzt(H[1707]),C$Tzc=(new(C$Tzt(H[1708]))(H[1709]),{}),C$Tzl=new C$Tzs(),C$Tzm=new C$Tzi.default();C$Tzm._count=0;C$Tzr.prototype={constructor:C$Tzr,reset:function(){this._iaPool.reset();for(var C$Tzt,C$Tze=this._renderScene,C$Tzi=this._batchedModels,C$Tzn=0;C$Tzn<C$Tzi.length;++C$Tzn)C$Tzi[C$Tzn].setInputAssembler(null),C$Tzi[C$Tzn].setEffect(null),C$Tze.removeModel(C$Tzi[C$Tzn]);for(C$Tzt in this._modelPool.reset(),C$Tzi.length=0,this._sortKey=0,C$Tzc)C$Tzc[C$Tzt].reset();this._buffer=this._meshBuffer,this.node=this._dummyNode,this.material=C$Tzl,this.cullingMask=1,this.parentOpacity=1,this.parentOpacityDirty=0,this.worldMatDirty=0;},_flushMaterial:function(C$Tzt){var C$Tze;!C$Tzt||(C$Tzt=(this.material=C$Tzt).effect)&&(C$Tze=this._modelPool.add(),this._batchedModels.push(C$Tze),C$Tze.sortKey=this._sortKey++,C$Tze._cullingMask=this.cullingMask,C$Tze.setNode(this.node),C$Tze.setEffect(C$Tzt,null),C$Tze.setInputAssembler(C$Tzm),this._renderScene.addModel(C$Tze));},_flush:function(){var C$Tzt,C$Tze=this.material,C$Tzi=this._buffer,C$Tzn=C$Tzi.indiceOffset-C$Tzi.indiceStart;!this.walking||!C$Tze||C$Tzn<=0||(C$Tze=C$Tze.effect)&&((C$Tzt=this._iaPool.add())._vertexBuffer=C$Tzi._vb,C$Tzt._indexBuffer=C$Tzi._ib,C$Tzt._start=C$Tzi.indiceStart,C$Tzt._count=C$Tzn,C$Tzn=this._modelPool.add(),this._batchedModels.push(C$Tzn),C$Tzn.sortKey=this._sortKey++,C$Tzn._cullingMask=this.cullingMask,C$Tzn.setNode(this.node),C$Tzn.setEffect(C$Tze),C$Tzn.setInputAssembler(C$Tzt),this._renderScene.addModel(C$Tzn),C$Tzi.forwardIndiceStartToOffset());},_flushIA:function(C$Tzt){var C$Tze,C$Tzi;!C$Tzt||(C$Tze=this.material.effect)&&(C$Tzi=this._modelPool.add(),this._batchedModels.push(C$Tzi),C$Tzi.sortKey=this._sortKey++,C$Tzi._cullingMask=this.cullingMask,C$Tzi.setNode(this.node),C$Tzi.setEffect(C$Tze),C$Tzi.setInputAssembler(C$Tzt),this._renderScene.addModel(C$Tzi));},terminate:function(){for(var C$Tzt in cc.dynamicAtlasManager&&cc.dynamicAtlasManager.enabled&&cc.dynamicAtlasManager.update(),this._flush(),C$Tzc)C$Tzc[C$Tzt].uploadData();this.walking=!1;},getBuffer:function(C$Tzt,C$Tze){var C$Tzi=C$Tzt+C$Tze.getHash(),C$Tzn=C$Tzc[C$Tzi];if(!C$Tzn){if(H[1252]===C$Tzt)C$Tzn=new C$Tzf(this,C$Tze);else if(H[1702]===C$Tzt)C$Tzn=new C$Tzd(this,C$Tze);else{if(H[1710]!==C$Tzt)return cc.error(H[1711]+C$Tzt+"]"),null;C$Tzn=new C$Tzp(this,C$Tze);}C$Tzc[C$Tzi]=C$Tzn;}return C$Tzn;}},C$Tzh.exports=C$Tzr;},{"../../../renderer/core/input-assembler":302,"../../../renderer/memop/recycle-pool":327,"../../../renderer/scene/model":333,"../../assets/material/CCMaterial":53,"../../platform/id-generater":205,"./mesh-buffer":247,"./quad-buffer":249,"./spine-buffer":251,"./vertex-format":252}],249:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt=C$Tzt(H[1705]),C$Tzt=cc.Class({name:H[1712],extends:C$Tzt,_fillQuadBuffer:function(){for(var C$Tzt=this._initIDataCount/6,C$Tze=this._iData,C$Tzi=0,C$Tzn=0;C$Tzi<C$Tzt;C$Tzi++){var C$Tzr=4*C$Tzi;C$Tze[C$Tzn++]=C$Tzr,C$Tze[C$Tzn++]=1+C$Tzr,C$Tze[C$Tzn++]=2+C$Tzr,C$Tze[C$Tzn++]=1+C$Tzr,C$Tze[C$Tzn++]=3+C$Tzr,C$Tze[C$Tzn++]=2+C$Tzr;}var C$Tzs=new Uint16Array(this._iData.buffer,0,6*C$Tzt);this._ib.update(0,C$Tzs);},uploadData:function(){var C$Tzt;0!==this.byteOffset&&this._dirty&&(C$Tzt=new Float32Array(this._vData.buffer,0,this.byteOffset>>2),this._vb.update(0,C$Tzt),this._dirty=!1);},switchBuffer:function(){this._super();var C$Tzt=new Uint16Array(this._iData.buffer,0,this._initIDataCount);this._ib.update(0,C$Tzt);},_reallocBuffer:function(){this._reallocVData(!0),this._reallocIData(),this._fillQuadBuffer();}});cc.QuadBuffer=C$Tze.exports=C$Tzt;},{"./mesh-buffer":247}],250:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=C$Tzo;var C$Tzn,C$Tzr=(C$Tzn=C$Tzt(H[1713]))&&C$Tzn.__esModule?C$Tzn:{default:C$Tzn},C$Tzs=C$Tzt(H[1703]);function C$Tzo(){this.vDatas=[],this.uintVDatas=[],this.iDatas=[],this.meshCount=0,this._infos=null,this._flexBuffer=null;}cc.js.mixin(C$Tzo.prototype,{init:function(C$Tzt){},clear:function(){this.vDatas.length=0,this.iDatas.length=0,this.uintVDatas.length=0,this.meshCount=0,this._infos=null,this._flexBuffer&&this._flexBuffer.reset();},updateMesh:function(C$Tzt,C$Tze,C$Tzi){this.vDatas[C$Tzt]=C$Tze,this.uintVDatas[C$Tzt]=new Uint32Array(C$Tze.buffer,0,C$Tze.length),this.iDatas[C$Tzt]=C$Tzi,this.meshCount=this.vDatas.length;},updateMeshRange:function(C$Tzt,C$Tze){},createData:function(C$Tzt,C$Tze,C$Tzi){C$Tze=new Float32Array(C$Tze),C$Tzi=new Uint16Array(C$Tzi);this.updateMesh(C$Tzt,C$Tze,C$Tzi);},createQuadData:function(C$Tzt,C$Tze,C$Tzi){this.createData(C$Tzt,C$Tze,C$Tzi),this.initQuadIndices(this.iDatas[C$Tzt]);},createFlexData:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzn=C$Tzn||C$Tzs.vfmtPosUvColor,this._flexBuffer=new C$Tzr.default(this,C$Tzt,C$Tze,C$Tzi,C$Tzn);},initQuadIndices:function(C$Tzt){for(var C$Tze=C$Tzt.length/6,C$Tzi=0,C$Tzn=0;C$Tzi<C$Tze;C$Tzi++){var C$Tzr=4*C$Tzi;C$Tzt[C$Tzn++]=C$Tzr,C$Tzt[C$Tzn++]=1+C$Tzr,C$Tzt[C$Tzn++]=2+C$Tzr,C$Tzt[C$Tzn++]=1+C$Tzr,C$Tzt[C$Tzn++]=3+C$Tzr,C$Tzt[C$Tzn++]=2+C$Tzr;}}}),cc.RenderData=C$Tzo,C$Tze.exports=C$Tzi.default;},{"./flex-buffer":246,"./vertex-format":252}],251:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt=cc.Class({name:H[1714],extends:C$Tzt(H[1705]),requestStatic:function(C$Tzt,C$Tze){this.checkAndSwitchBuffer(C$Tzt);var C$Tzi=this.byteOffset+C$Tzt*this._vertexBytes,C$Tzn=this.indiceOffset+C$Tze,C$Tzr=this._vData.byteLength,C$Tzs=this._iData.length;if(C$Tzr<C$Tzi||C$Tzs<C$Tzn){for(;C$Tzr<C$Tzi||C$Tzs<C$Tzn;)this._initVDataCount*=2,this._initIDataCount*=2,C$Tzr=4*this._initVDataCount,C$Tzs=this._initIDataCount;this._reallocBuffer();}C$Tzt=this._offsetInfo;C$Tzt.vertexOffset=this.vertexOffset,C$Tzt.indiceOffset=this.indiceOffset,C$Tzt.byteOffset=this.byteOffset;},adjust:function(C$Tzt,C$Tze){this.vertexOffset+=C$Tzt,this.indiceOffset+=C$Tze,this.byteOffset=this.byteOffset+C$Tzt*this._vertexBytes,this._dirty=!0;}});cc.SpineBuffer=C$Tze.exports=C$Tzt;},{"./mesh-buffer":247}],252:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt=(C$Tzt=C$Tzt(H[1697]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};var C$Tzn=new C$Tzt.default.VertexFormat([{name:C$Tzt.default.ATTR_POSITION,type:C$Tzt.default.ATTR_TYPE_FLOAT32,num:3},{name:C$Tzt.default.ATTR_UV0,type:C$Tzt.default.ATTR_TYPE_FLOAT32,num:2},{name:C$Tzt.default.ATTR_COLOR,type:C$Tzt.default.ATTR_TYPE_UINT8,num:4,normalize:!0}]),C$Tzr=(C$Tzn.name=H[1715],C$Tzt.default.VertexFormat.XYZ_UV_Color=C$Tzn,new C$Tzt.default.VertexFormat([{name:C$Tzt.default.ATTR_POSITION,type:C$Tzt.default.ATTR_TYPE_FLOAT32,num:2},{name:C$Tzt.default.ATTR_UV0,type:C$Tzt.default.ATTR_TYPE_FLOAT32,num:2},{name:C$Tzt.default.ATTR_COLOR,type:C$Tzt.default.ATTR_TYPE_UINT8,num:4,normalize:!0}])),C$Tzs=(C$Tzr.name=H[1716],C$Tzt.default.VertexFormat.XY_UV_Color=C$Tzr,new C$Tzt.default.VertexFormat([{name:C$Tzt.default.ATTR_POSITION,type:C$Tzt.default.ATTR_TYPE_FLOAT32,num:2},{name:C$Tzt.default.ATTR_UV0,type:C$Tzt.default.ATTR_TYPE_FLOAT32,num:2},{name:C$Tzt.default.ATTR_COLOR,type:C$Tzt.default.ATTR_TYPE_UINT8,num:4,normalize:!0},{name:C$Tzt.default.ATTR_COLOR0,type:C$Tzt.default.ATTR_TYPE_UINT8,num:4,normalize:!0}])),C$Tzo=(C$Tzs.name=H[1717],C$Tzt.default.VertexFormat.XY_UV_Two_Color=C$Tzs,new C$Tzt.default.VertexFormat([{name:C$Tzt.default.ATTR_POSITION,type:C$Tzt.default.ATTR_TYPE_FLOAT32,num:2},{name:C$Tzt.default.ATTR_UV0,type:C$Tzt.default.ATTR_TYPE_FLOAT32,num:2}])),C$Tza=(C$Tzo.name=H[1718],C$Tzt.default.VertexFormat.XY_UV=C$Tzo,new C$Tzt.default.VertexFormat([{name:C$Tzt.default.ATTR_POSITION,type:C$Tzt.default.ATTR_TYPE_FLOAT32,num:2},{name:C$Tzt.default.ATTR_COLOR,type:C$Tzt.default.ATTR_TYPE_UINT8,num:4,normalize:!0}])),C$Tzc=(C$Tza.name=H[1719],C$Tzt.default.VertexFormat.XY_Color=C$Tza,new C$Tzt.default.VertexFormat([{name:C$Tzt.default.ATTR_POSITION,type:C$Tzt.default.ATTR_TYPE_FLOAT32,num:2}]));C$Tzc.name=H[1720],C$Tzt.default.VertexFormat.XY=C$Tzc,C$Tze.exports={vfmt3D:C$Tzn,vfmtPosUvColor:C$Tzr,vfmtPosUvTwoColor:C$Tzs,vfmtPosUv:C$Tzo,vfmtPosColor:C$Tza,vfmtPos:C$Tzc};},{"../../../renderer/gfx":312}],253:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[1137]);var C$Tzn=/(\.[^\.\/\?\\]*)(\?.*)?$/,C$Tzr=/((.*)(\/|\\|\\\\))?(.*?\..*$)?/,C$Tzs=/[^\.\/]+\/\.\.\//;cc.path={join:function(){for(var C$Tzt=arguments.length,C$Tze="",C$Tzi=0;C$Tzi<C$Tzt;C$Tzi++)C$Tze=(C$Tze+(""===C$Tze?"":"/")+arguments[C$Tzi]).replace(/(\/|\\\\)$/,"");return C$Tze;},extname:function(C$Tzt){C$Tzt=C$Tzn.exec(C$Tzt);return C$Tzt?C$Tzt[1]:"";},mainFileName:function(C$Tzt){if(C$Tzt){var C$Tze=C$Tzt.lastIndexOf(".");if(-1!==C$Tze)return C$Tzt.substring(0,C$Tze);}return C$Tzt;},basename:function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.indexOf("?"),C$Tzi=(0<C$Tzi&&(C$Tzt=C$Tzt.substring(0,C$Tzi)),/(\/|\\)([^\/\\]+)$/g.exec(C$Tzt.replace(/(\/|\\)$/,"")));if(!C$Tzi)return null;C$Tzi=C$Tzi[2];return C$Tze&&C$Tzt.substring(C$Tzt.length-C$Tze.length).toLowerCase()===C$Tze.toLowerCase()?C$Tzi.substring(0,C$Tzi.length-C$Tze.length):C$Tzi;},dirname:function(C$Tzt){C$Tzt=C$Tzr.exec(C$Tzt);return C$Tzt?C$Tzt[2]:"";},changeExtname:function(C$Tzt,C$Tze){C$Tze=C$Tze||"";var C$Tzi=C$Tzt.indexOf("?"),C$Tzn="";return 0<C$Tzi&&(C$Tzn=C$Tzt.substring(C$Tzi),C$Tzt=C$Tzt.substring(0,C$Tzi)),(C$Tzi=C$Tzt.lastIndexOf("."))<0?C$Tzt+C$Tze+C$Tzn:C$Tzt.substring(0,C$Tzi)+C$Tze+C$Tzn;},changeBasename:function(C$Tzt,C$Tze,C$Tzi){if(0===C$Tze.indexOf("."))return this.changeExtname(C$Tzt,C$Tze);var C$Tzn=C$Tzt.indexOf("?"),C$Tzr="",C$Tzi=C$Tzi?this.extname(C$Tzt):"";return 0<C$Tzn&&(C$Tzr=C$Tzt.substring(C$Tzn),C$Tzt=C$Tzt.substring(0,C$Tzn)),C$Tzn=C$Tzt.lastIndexOf("/"),C$Tzt.substring(0,C$Tzn=C$Tzn<=0?0:C$Tzn+1)+C$Tze+C$Tzi+C$Tzr;},_normalize:function(C$Tzt){var C$Tze;for(C$Tzt=String(C$Tzt);C$Tzt=(C$Tze=C$Tzt).replace(C$Tzs,""),C$Tze.length!==C$Tzt.length;);return C$Tzt;},sep:cc.sys.os===cc.sys.OS_WINDOWS?"\\":"/",stripSep:function(C$Tzt){return C$Tzt.replace(/[\/\\]$/,"");}},C$Tze.exports=cc.path;},{"../platform/CCSys":198}],254:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){this.a=C$Tzt,this.b=C$Tze,this.c=C$Tzi,this.d=C$Tzn,this.tx=C$Tzr,this.ty=C$Tzs;}C$Tzn.create=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){return{a:C$Tzt,b:C$Tze,c:C$Tzi,d:C$Tzn,tx:C$Tzr,ty:C$Tzs};},C$Tzn.identity=function(){return{a:1,b:0,c:0,d:1,tx:0,ty:0};},C$Tzn.clone=function(C$Tzt){return{a:C$Tzt.a,b:C$Tzt.b,c:C$Tzt.c,d:C$Tzt.d,tx:C$Tzt.tx,ty:C$Tzt.ty};},C$Tzn.concat=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tze.a,C$Tzr=C$Tze.b,C$Tzs=C$Tze.c,C$Tzo=C$Tze.d,C$Tza=C$Tze.tx,C$Tze=C$Tze.ty;return C$Tzt.a=C$Tzn*C$Tzi.a+C$Tzr*C$Tzi.c,C$Tzt.b=C$Tzn*C$Tzi.b+C$Tzr*C$Tzi.d,C$Tzt.c=C$Tzs*C$Tzi.a+C$Tzo*C$Tzi.c,C$Tzt.d=C$Tzs*C$Tzi.b+C$Tzo*C$Tzi.d,C$Tzt.tx=C$Tza*C$Tzi.a+C$Tze*C$Tzi.c+C$Tzi.tx,C$Tzt.ty=C$Tza*C$Tzi.b+C$Tze*C$Tzi.d+C$Tzi.ty,C$Tzt;},C$Tzn.invert=function(C$Tzt,C$Tze){var C$Tzi=C$Tze.a,C$Tzn=C$Tze.b,C$Tzr=C$Tze.c,C$Tzs=C$Tze.d,C$Tzo=1/(C$Tzi*C$Tzs-C$Tzn*C$Tzr),C$Tza=C$Tze.tx,C$Tze=C$Tze.ty;return C$Tzt.a=C$Tzo*C$Tzs,C$Tzt.b=-C$Tzo*C$Tzn,C$Tzt.c=-C$Tzo*C$Tzr,C$Tzt.d=C$Tzo*C$Tzi,C$Tzt.tx=C$Tzo*(C$Tzr*C$Tze-C$Tzs*C$Tza),C$Tzt.ty=C$Tzo*(C$Tzn*C$Tza-C$Tzi*C$Tze),C$Tzt;},C$Tzn.fromMat4=function(C$Tzt,C$Tze){C$Tze=C$Tze.m;return C$Tzt.a=C$Tze[0],C$Tzt.b=C$Tze[1],C$Tzt.c=C$Tze[4],C$Tzt.d=C$Tze[5],C$Tzt.tx=C$Tze[12],C$Tzt.ty=C$Tze[13],C$Tzt;},C$Tzn.transformVec2=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr,C$Tze=void 0===C$Tzn?(C$Tzn=C$Tzi,C$Tzr=C$Tze.x,C$Tze.y):(C$Tzr=C$Tze,C$Tzi);return C$Tzt.x=C$Tzn.a*C$Tzr+C$Tzn.c*C$Tze+C$Tzn.tx,C$Tzt.y=C$Tzn.b*C$Tzr+C$Tzn.d*C$Tze+C$Tzn.ty,C$Tzt;},C$Tzn.transformSize=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.width=C$Tzi.a*C$Tze.width+C$Tzi.c*C$Tze.height,C$Tzt.height=C$Tzi.b*C$Tze.width+C$Tzi.d*C$Tze.height,C$Tzt;},C$Tzn.transformRect=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tze.x,C$Tzr=C$Tze.y,C$Tzs=C$Tzn+C$Tze.width,C$Tze=C$Tzr+C$Tze.height,C$Tzo=C$Tzi.a*C$Tzn+C$Tzi.c*C$Tzr+C$Tzi.tx,C$Tza=C$Tzi.b*C$Tzn+C$Tzi.d*C$Tzr+C$Tzi.ty,C$Tzc=C$Tzi.a*C$Tzs+C$Tzi.c*C$Tzr+C$Tzi.tx,C$Tzr=C$Tzi.b*C$Tzs+C$Tzi.d*C$Tzr+C$Tzi.ty,C$Tzl=C$Tzi.a*C$Tzn+C$Tzi.c*C$Tze+C$Tzi.tx,C$Tzn=C$Tzi.b*C$Tzn+C$Tzi.d*C$Tze+C$Tzi.ty,C$Tzh=C$Tzi.a*C$Tzs+C$Tzi.c*C$Tze+C$Tzi.tx,C$Tzs=C$Tzi.b*C$Tzs+C$Tzi.d*C$Tze+C$Tzi.ty,C$Tze=Math.min(C$Tzo,C$Tzc,C$Tzl,C$Tzh),C$Tzi=Math.max(C$Tzo,C$Tzc,C$Tzl,C$Tzh),C$Tzo=Math.min(C$Tza,C$Tzr,C$Tzn,C$Tzs),C$Tzc=Math.max(C$Tza,C$Tzr,C$Tzn,C$Tzs);return C$Tzt.x=C$Tze,C$Tzt.y=C$Tzo,C$Tzt.width=C$Tzi-C$Tze,C$Tzt.height=C$Tzc-C$Tzo,C$Tzt;},C$Tzn.transformObb=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){var C$Tzo=C$Tzr.x,C$Tza=C$Tzr.y,C$Tzc=C$Tzr.width,C$Tzr=C$Tzr.height,C$Tzl=C$Tzs.a*C$Tzo+C$Tzs.c*C$Tza+C$Tzs.tx,C$Tzo=C$Tzs.b*C$Tzo+C$Tzs.d*C$Tza+C$Tzs.ty,C$Tza=C$Tzs.a*C$Tzc,C$Tzc=C$Tzs.b*C$Tzc,C$Tzh=C$Tzs.c*C$Tzr,C$Tzs=C$Tzs.d*C$Tzr;C$Tze.x=C$Tzl,C$Tze.y=C$Tzo,C$Tzi.x=C$Tza+C$Tzl,C$Tzi.y=C$Tzc+C$Tzo,C$Tzt.x=C$Tzh+C$Tzl,C$Tzt.y=C$Tzs+C$Tzo,C$Tzn.x=C$Tza+C$Tzh+C$Tzl,C$Tzn.y=C$Tzc+C$Tzs+C$Tzo;},cc.AffineTransform=C$Tze.exports=C$Tzn;},{}],255:[function(C$Tzt,C$Tzh,C$Tzu){"use strict";var C$Tze=C$Tzt(H[719]).Flags,C$Tz_=C$Tzt(H[1721]),C$Tzi=C$Tzt(H[720]),C$Tzd=C$Tzt(H[744]),C$Tzf=C$Tzt(H[1078]),C$Tzn=C$Tzt(H[822]),C$Tzc=C$Tze.Destroying,C$Tzr=C$Tze.DontDestroy,C$Tzs=C$Tze.Deactivating,C$Tzo=new C$Tzd(H[1722]);function C$Tza(C$Tzt){return C$Tzt?H[462]==typeof C$Tzt?C$Tzi.getClassByName(C$Tzt):C$Tzt:(cc.errorID(3804),null);}function C$Tzp(C$Tzt,C$Tze){if(C$Tze._sealed)for(var C$Tzi=0;C$Tzi<C$Tzt._components.length;++C$Tzi){var C$Tzn=C$Tzt._components[C$Tzi];if(C$Tzn.constructor===C$Tze)return C$Tzn;}else for(var C$Tzr=0;C$Tzr<C$Tzt._components.length;++C$Tzr){var C$Tzs=C$Tzt._components[C$Tzr];if(C$Tzs instanceof C$Tze)return C$Tzs;}return null;}function C$Tzl(C$Tzt,C$Tze,C$Tzi){if(C$Tze._sealed)for(var C$Tzn=0;C$Tzn<C$Tzt._components.length;++C$Tzn){var C$Tzr=C$Tzt._components[C$Tzn];C$Tzr.constructor===C$Tze&&C$Tzi.push(C$Tzr);}else for(var C$Tzs=0;C$Tzs<C$Tzt._components.length;++C$Tzs){var C$Tzo=C$Tzt._components[C$Tzs];C$Tzo instanceof C$Tze&&C$Tzi.push(C$Tzo);}}C$Tzt=cc.Class({name:H[1723],extends:cc.Object,properties:{_parent:null,_children:[],_active:!0,_components:[],_prefab:null,_persistNode:{get:function(){return 0<(this._objFlags&C$Tzr);},set:function(C$Tzt){C$Tzt?this._objFlags|=C$Tzr:this._objFlags&=~C$Tzr;}},name:{get:function(){return this._name;},set:function(C$Tzt){this._name=C$Tzt;}},uuid:{get:function(){return this._id;}},children:{get:function(){return this._children;}},childrenCount:{get:function(){return this._children.length;}},active:{get:function(){return this._active;},set:function(C$Tzt){var C$Tze;this._active!==(C$Tzt=!!C$Tzt)&&(this._active=C$Tzt,(C$Tze=this._parent)&&C$Tze._activeInHierarchy&&cc.director._nodeActivator.activateNode(this,C$Tzt));}},activeInHierarchy:{get:function(){return this._activeInHierarchy;}}},ctor:function(C$Tzt){this._name=void 0!==C$Tzt?C$Tzt:H[1724],this._activeInHierarchy=!1,this._id=C$Tzo.getNewId(),cc.director._scheduler&&cc.director._scheduler.enableForTarget(this),this.__eventTargets=[];},getParent:function(){return this._parent;},setParent:function(C$Tzt){var C$Tze,C$Tzi;this._parent!==C$Tzt&&((C$Tze=this._parent)&&C$Tze._objFlags&C$Tzs&&cc.errorID(3821),this._parent=C$Tzt||null,this._onSetParent(C$Tzt),C$Tzt&&(C$Tzt._objFlags&C$Tzs&&cc.errorID(3821),C$Tzf._setDirtyForNode(this),C$Tzt._children.push(this),C$Tzt.emit&&C$Tzt.emit(H[681],this),C$Tzt._renderFlag|=C$Tzn.FLAG_CHILDREN),C$Tze?C$Tze._objFlags&C$Tzc||(C$Tzi=C$Tze._children.indexOf(this),C$Tze._children.splice(C$Tzi,1),C$Tze.emit&&C$Tze.emit(H[682],this),this._onHierarchyChanged(C$Tze),0===C$Tze._children.length&&(C$Tze._renderFlag&=~C$Tzn.FLAG_CHILDREN)):C$Tzt&&this._onHierarchyChanged(null));},attr:function(C$Tzt){C$Tzi.mixin(this,C$Tzt);},getChildByUuid:function(C$Tzt){if(!C$Tzt)return cc.log(H[1725]),null;for(var C$Tze=this._children,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++)if(C$Tze[C$Tzi]._id===C$Tzt)return C$Tze[C$Tzi];return null;},getChildByName:function(C$Tzt){if(!C$Tzt)return cc.log(H[1726]),null;for(var C$Tze=this._children,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++)if(C$Tze[C$Tzi]._name===C$Tzt)return C$Tze[C$Tzi];return null;},addChild:function(C$Tzt){cc.assertID(C$Tzt,1606),cc.assertID(null===C$Tzt._parent,1605),C$Tzt.setParent(this);},insertChild:function(C$Tzt,C$Tze){C$Tzt.parent=this,C$Tzt.setSiblingIndex(C$Tze);},getSiblingIndex:function(){return this._parent?this._parent._children.indexOf(this):0;},setSiblingIndex:function(C$Tzt){var C$Tze,C$Tzi;this._parent&&(this._parent._objFlags&C$Tzs?cc.errorID(3821):(C$Tze=this._parent._children,(C$Tzt=-1!==C$Tzt?C$Tzt:C$Tze.length-1)!==(C$Tzi=C$Tze.indexOf(this))&&(C$Tze.splice(C$Tzi,1),C$Tzt<C$Tze.length?C$Tze.splice(C$Tzt,0,this):C$Tze.push(this),this._onSiblingIndexChanged&&this._onSiblingIndexChanged(C$Tzt))));},walk:function(C$Tzt,C$Tze){for(var C$Tzi,C$Tzn,C$Tzr,C$Tzs=cc._BaseNode,C$Tzo=1,C$Tza=C$Tzs._stacks[C$Tzs._stackId],C$Tzc=(C$Tza||C$Tzs._stacks.push(C$Tza=[]),C$Tzs._stackId++,C$Tza.length=0,C$Tza[0]=this,null),C$Tzl=!1;C$Tzo;)if(C$Tzn=C$Tza[--C$Tzo])if(!C$Tzl&&C$Tzt?C$Tzt(C$Tzn):C$Tzl&&C$Tze&&C$Tze(C$Tzn),C$Tza[C$Tzo]=null,C$Tzl){if(C$Tzl=!1,C$Tzi)if(C$Tzi[++C$Tzr])C$Tza[C$Tzo]=C$Tzi[C$Tzr],C$Tzo++;else if(C$Tzc&&(C$Tza[C$Tzo]=C$Tzc,C$Tzo++,C$Tzl=!0,C$Tzc._parent?(C$Tzr=(C$Tzi=C$Tzc._parent._children).indexOf(C$Tzc),C$Tzc=C$Tzc._parent):C$Tzi=C$Tzc=null,C$Tzr<0))break;}else 0<C$Tzn._children.length?(C$Tzi=(C$Tzc=C$Tzn)._children,C$Tza[C$Tzo]=C$Tzi[C$Tzr=0],C$Tzo++):(C$Tza[C$Tzo]=C$Tzn,C$Tzo++,C$Tzl=!0);C$Tza.length=0,C$Tzs._stackId--;},cleanup:function(){},removeFromParent:function(C$Tzt){this._parent&&this._parent.removeChild(this,C$Tzt=void 0===C$Tzt?!0:C$Tzt);},removeChild:function(C$Tzt,C$Tze){-1<this._children.indexOf(C$Tzt)&&(!C$Tze&&void 0!==C$Tze||C$Tzt.cleanup(),C$Tzt.parent=null);},removeAllChildren:function(C$Tzt){var C$Tze=this._children;void 0===C$Tzt&&(C$Tzt=!0);for(var C$Tzi=C$Tze.length-1;0<=C$Tzi;C$Tzi--){var C$Tzn=C$Tze[C$Tzi];C$Tzn&&(C$Tzt&&C$Tzn.cleanup(),C$Tzn.parent=null);}this._children.length=0;},isChildOf:function(C$Tzt){var C$Tze=this;do{if(C$Tze===C$Tzt)return!0;}while(C$Tze=C$Tze._parent);return!1;},getComponent:function(C$Tzt){C$Tzt=C$Tza(C$Tzt);return C$Tzt?C$Tzp(this,C$Tzt):null;},getComponents:function(C$Tzt){var C$Tzt=C$Tza(C$Tzt),C$Tze=[];return C$Tzt&&C$Tzl(this,C$Tzt,C$Tze),C$Tze;},getComponentInChildren:function(C$Tzt){C$Tzt=C$Tza(C$Tzt);return C$Tzt?function C$Tzt(C$Tze,C$Tzi){for(var C$Tzn=0;C$Tzn<C$Tze.length;++C$Tzn){var C$Tzr=C$Tze[C$Tzn],C$Tzs=C$Tzp(C$Tzr,C$Tzi);if(C$Tzs)return C$Tzs;if(0<C$Tzr._children.length&&(C$Tzs=C$Tzt(C$Tzr._children,C$Tzi)))return C$Tzs;}return null;}(this._children,C$Tzt):null;},getComponentsInChildren:function(C$Tzt){var C$Tzt=C$Tza(C$Tzt),C$Tze=[];return C$Tzt&&(C$Tzl(this,C$Tzt,C$Tze),function C$Tzt(C$Tze,C$Tzi,C$Tzn){for(var C$Tzr=0;C$Tzr<C$Tze.length;++C$Tzr){var C$Tzs=C$Tze[C$Tzr];C$Tzl(C$Tzs,C$Tzi,C$Tzn),0<C$Tzs._children.length&&C$Tzt(C$Tzs._children,C$Tzi,C$Tzn);}}(this._children,C$Tzt,C$Tze)),C$Tze;},_checkMultipleComp:!1,addComponent:function(C$Tzt){var C$Tze;if(H[462]==typeof C$Tzt){if(!(C$Tze=C$Tzi.getClassByName(C$Tzt)))return cc.errorID(3807,C$Tzt),cc._RFpeek()&&cc.errorID(3808,C$Tzt),null;}else{if(!C$Tzt)return cc.errorID(3804),null;C$Tze=C$Tzt;}if(H[704]!=typeof C$Tze)return cc.errorID(3809),null;if(!C$Tzi.isChildClassOf(C$Tze,cc.Component))return cc.errorID(3810),null;C$Tzt=C$Tze._requireComponent;if(C$Tzt&&!this.getComponent(C$Tzt)&&!this.addComponent(C$Tzt))return null;C$Tzt=new C$Tze();return(C$Tzt.node=this)._components.push(C$Tzt),this._activeInHierarchy&&cc.director._nodeActivator.activateComp(C$Tzt),C$Tzt;},_addComponentAt:!1,removeComponent:function(C$Tzt){C$Tzt?(C$Tzt=C$Tzt instanceof cc.Component?C$Tzt:this.getComponent(C$Tzt))&&C$Tzt.destroy():cc.errorID(3813);},_getDependComponent:!1,_removeComponent:function(C$Tzt){var C$Tze;C$Tzt?this._objFlags&C$Tzc||(-1!==(C$Tze=this._components.indexOf(C$Tzt))?this._components.splice(C$Tze,1):C$Tzt.node!==this&&cc.errorID(3815)):cc.errorID(3814);},destroy:function(){cc.Object.prototype.destroy.call(this)&&(this.active=!1);},destroyAllChildren:function(){for(var C$Tzt=this._children,C$Tze=0;C$Tze<C$Tzt.length;++C$Tze)C$Tzt[C$Tze].destroy();},_onSetParent:function(C$Tzt){},_onPostActivated:function(){},_onBatchRestored:function(){},_onBatchCreated:function(){},_onHierarchyChanged:function(C$Tzt){var C$Tze=this._parent,C$Tze=(!this._persistNode||C$Tze instanceof cc.Scene||cc.game.removePersistRootNode(this),this._active&&!(!C$Tze||!C$Tze._activeInHierarchy));this._activeInHierarchy!==C$Tze&&cc.director._nodeActivator.activateNode(this,C$Tze);},_instantiate:function(C$Tzt){C$Tzt=C$Tzt||cc.instantiate._clone(this,this);var C$Tze=this._prefab;C$Tze&&this===C$Tze.root&&C$Tze.sync;return C$Tzt._parent=null,C$Tzt._onBatchRestored(),C$Tzt;},_registerIfAttached:!1,_onPreDestroy:function(){this._objFlags|=C$Tzc;for(var C$Tzt=this._parent,C$Tze=C$Tzt&&C$Tzt._objFlags&C$Tzc,C$Tzi=this._children,C$Tzn=0,C$Tzr=C$Tzi.length;C$Tzn<C$Tzr;++C$Tzn)C$Tzi[C$Tzn]._destroyImmediate();for(C$Tzn=0,C$Tzr=this._components.length;C$Tzn<C$Tzr;++C$Tzn)this._components[C$Tzn]._destroyImmediate();var C$Tzs,C$Tzo=this.__eventTargets;for(C$Tzn=0,C$Tzr=C$Tzo.length;C$Tzn<C$Tzr;++C$Tzn){var C$Tza=C$Tzo[C$Tzn];C$Tza&&C$Tza.targetOff(this);}return C$Tzo.length=0,this._persistNode&&cc.game.removePersistRootNode(this),!C$Tze&&C$Tzt&&(C$Tzs=C$Tzt._children.indexOf(this),C$Tzt._children.splice(C$Tzs,1),C$Tzt.emit&&C$Tzt.emit(H[682],this)),C$Tze;},onRestore:!1});C$Tzt.idGenerater=C$Tzo,C$Tzt._stacks=[[]],C$Tzt._stackId=0,C$Tzt.prototype._onPreDestroyBase=C$Tzt.prototype._onPreDestroy,C$Tzt.prototype._onHierarchyChangedBase=C$Tzt.prototype._onHierarchyChanged;C$Tz_.propertyDefine(C$Tzt,[H[700],H[488],H[1727],H[1728]],{}),cc._BaseNode=C$Tzh.exports=C$Tzt;},{"../event-manager":113,"../platform/CCObject":195,"../platform/id-generater":205,"../platform/js":209,"../renderer/render-flow":221,"./misc":264}],256:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tze.exports={binarySearchEpsilon:function(C$Tzt,C$Tze){for(var C$Tzi=0,C$Tzn=C$Tzt.length-1,C$Tzr=C$Tzn>>>1;C$Tzi<=C$Tzn;C$Tzr=C$Tzi+C$Tzn>>>1){var C$Tzs=C$Tzt[C$Tzr];if(C$Tze+1e-6<C$Tzs)C$Tzn=C$Tzr-1;else{if(!(C$Tzs<C$Tze-1e-6))return C$Tzr;C$Tzi=C$Tzr+1;}}return~C$Tzi;}};},{}],257:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[900]),C$Tzr=C$Tzt(H[875]).BlendFactor,C$Tzs=C$Tzt(H[725]),C$Tzt=cc.Class({properties:{_srcBlendFactor:C$Tzr.SRC_ALPHA,_dstBlendFactor:C$Tzr.ONE_MINUS_SRC_ALPHA,srcBlendFactor:{get:function(){return this._srcBlendFactor;},set:function(C$Tzt){this._srcBlendFactor!==C$Tzt&&(this._srcBlendFactor=C$Tzt,this._updateBlendFunc());},animatable:!1,type:C$Tzr,tooltip:!1,visible:!0},dstBlendFactor:{get:function(){return this._dstBlendFactor;},set:function(C$Tzt){this._dstBlendFactor!==C$Tzt&&(this._dstBlendFactor=C$Tzt,this._updateBlendFunc());},animatable:!1,type:C$Tzr,tooltip:!1,visible:!0}},setMaterial:function(C$Tzt,C$Tze){C$Tzt=C$Tzn.prototype.setMaterial.call(this,C$Tzt,C$Tze);return this._srcBlendFactor===C$Tzr.SRC_ALPHA&&this._dstBlendFactor===C$Tzr.ONE_MINUS_SRC_ALPHA||this._updateMaterialBlendFunc(C$Tzt),C$Tzt;},_updateMaterial:function(){this._updateBlendFunc();},_updateBlendFunc:function(){if(this._srcBlendFactor!==C$Tzr.SRC_ALPHA||this._dstBlendFactor!==C$Tzr.ONE_MINUS_SRC_ALPHA)for(var C$Tzt=this.getMaterials(),C$Tze=0;C$Tze<C$Tzt.length;C$Tze++){var C$Tzi=C$Tzt[C$Tze];this._updateMaterialBlendFunc(C$Tzi);}},_updateMaterialBlendFunc:function(C$Tzt){C$Tzt.setBlend(!0,C$Tzs.BLEND_FUNC_ADD,this._srcBlendFactor,this._dstBlendFactor,C$Tzs.BLEND_FUNC_ADD,this._srcBlendFactor,this._dstBlendFactor);}});C$Tze.exports=cc.BlendFunc=C$Tzt;},{"../../renderer/gfx":312,"../components/CCRenderComponent":89,"../platform/CCMacro":194}],258:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzs=C$Tzt(H[1721]).BASE64_VALUES,C$Tzo=H[1729].split(""),C$Tzt=["","","",""],C$Tza=C$Tzt.concat(C$Tzt,"-",C$Tzt,"-",C$Tzt,"-",C$Tzt,"-",C$Tzt,C$Tzt,C$Tzt),C$Tzc=C$Tza.map(function(C$Tzt,C$Tze){return"-"===C$Tzt?NaN:C$Tze;}).filter(isFinite);C$Tze.exports=function(C$Tzt){if(22!==C$Tzt.length)return C$Tzt;C$Tza[0]=C$Tzt[0],C$Tza[1]=C$Tzt[1];for(var C$Tze=2,C$Tzi=2;C$Tze<22;C$Tze+=2){var C$Tzn=C$Tzs[C$Tzt.charCodeAt(C$Tze)],C$Tzr=C$Tzs[C$Tzt.charCodeAt(C$Tze+1)];C$Tza[C$Tzc[C$Tzi++]]=C$Tzo[C$Tzn>>2],C$Tza[C$Tzc[C$Tzi++]]=C$Tzo[(3&C$Tzn)<<2|C$Tzr>>4],C$Tza[C$Tzc[C$Tzi++]]=C$Tzo[15&C$Tzr];}return C$Tza.join("");};},{"./misc":264}],259:[function(C$Tzt,C$Tze,C$Tzi){"use strict";cc.find=C$Tze.exports=function(C$Tzt,C$Tze){if(null==C$Tzt)return cc.errorID(3814),null;if(!C$Tze){var C$Tzi=cc.director.getScene();if(!C$Tzi)return null;C$Tze=C$Tzi;}for(var C$Tzn=C$Tze,C$Tzi="/"!==C$Tzt[0]?0:1,C$Tzr=C$Tzt.split("/"),C$Tzs=C$Tzi;C$Tzs<C$Tzr.length;C$Tzs++){for(var C$Tzo=C$Tzr[C$Tzs],C$Tza=C$Tzn._children,C$Tzn=null,C$Tzc=0,C$Tzh=C$Tza.length;C$Tzc<C$Tzh;++C$Tzc){var C$Tzl=C$Tza[C$Tzc];if(C$Tzl.name===C$Tzo){C$Tzn=C$Tzl;break;}}if(!C$Tzn)return null;}return C$Tzn;};},{}],260:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=(C$Tzs=C$Tzt(H[892]))&&C$Tzs.__esModule?C$Tzs:{default:C$Tzs};var C$Tzr=C$Tzt(H[877]),C$Tzs=cc.Class({properties:{_normalMaterial:null,normalMaterial:{get:function(){return this._normalMaterial;},set:function(C$Tzt){this._normalMaterial=C$Tzt,this._updateDisabledState&&this._updateDisabledState();},type:C$Tzr,tooltip:!1,animatable:!1},_grayMaterial:null,grayMaterial:{get:function(){return this._grayMaterial;},set:function(C$Tzt){this._grayMaterial=C$Tzt,this._updateDisabledState&&this._updateDisabledState();},type:C$Tzr,tooltip:!1,animatable:!1}},_switchGrayMaterial:function(C$Tzt,C$Tze){var C$Tzi=C$Tzt?(C$Tzi=(C$Tzi=this._grayMaterial)||C$Tzr.getBuiltinMaterial(H[782]),this._grayMaterial=C$Tzn.default.create(C$Tzi,C$Tze)):(C$Tzi=(C$Tzi=this._normalMaterial)||C$Tzr.getBuiltinMaterial(H[781],C$Tze),this._normalMaterial=C$Tzn.default.create(C$Tzi,C$Tze));C$Tze.setMaterial(0,C$Tzi);}});C$Tze.exports=C$Tzs;},{"../assets/material/CCMaterial":53,"../assets/material/material-variant":60}],261:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(){this._parsedObject={},this._specialSymbolArray=[],this._specialSymbolArray.push([/&lt;/g,"<"]),this._specialSymbolArray.push([/&gt;/g,">"]),this._specialSymbolArray.push([/&amp;/g,"&"]),this._specialSymbolArray.push([/&quot;/g,'"']),this._specialSymbolArray.push([/&apos;/g,"'"]),this._specialSymbolArray.push([/&nbsp;/g," "]);}var C$Tzc=/^(click)(\s)*=|(param)(\s)*=/,C$Tzu=/(\s)*src(\s)*=|(\s)*height(\s)*=|(\s)*width(\s)*=|(\s)*align(\s)*=|(\s)*offset(\s)*=|(\s)*click(\s)*=|(\s)*param(\s)*=/;C$Tzn.prototype={constructor:C$Tzn,parse:function(C$Tzt){this._resultObjectArray=[],this._stack=[];for(var C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;){var C$Tzn,C$Tzr,C$Tzs=C$Tzt.indexOf(">",C$Tze),C$Tzo=-1;0<=C$Tzs&&(C$Tzo=C$Tzt.lastIndexOf("<",C$Tzs))<C$Tze-1&&(C$Tzo=C$Tzt.indexOf("<",C$Tzs+1),C$Tzs=C$Tzt.indexOf(">",C$Tzo+1)),C$Tze=C$Tzo<0?(this._stack.pop(),this._processResult(C$Tzt.substring(C$Tze)),C$Tzi):(C$Tzn=C$Tzt.substring(C$Tze,C$Tzo),""===(C$Tzr=C$Tzt.substring(C$Tzo+1,C$Tzs))&&(C$Tzn=C$Tzt.substring(C$Tze,C$Tzs+1)),this._processResult(C$Tzn),-1===C$Tzs?C$Tzs=C$Tzo:"/"===C$Tzt.charAt(C$Tzo+1)?this._stack.pop():this._addToStack(C$Tzr),C$Tzs+1);}return this._resultObjectArray;},_attributeToObject:function(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr={};if(C$Tzo=(C$Tzt=C$Tzt.trim()).match(/^(color|size)(\s)*=/)){if(C$Tze=C$Tzo[0],""===(C$Tzt=C$Tzt.substring(C$Tze.length).trim()))return C$Tzr;switch(C$Tzi=C$Tzt.indexOf(" "),C$Tze[0]){case"c":C$Tzr.color=-1<C$Tzi?C$Tzt.substring(0,C$Tzi).trim():C$Tzt;break;case"s":C$Tzr.size=parseInt(C$Tzt);}return-1<C$Tzi&&(C$Tzn=C$Tzt.substring(C$Tzi+1).trim(),C$Tzn=this._processEventHandler(C$Tzn),C$Tzr.event=C$Tzn),C$Tzr;}if((C$Tzo=C$Tzt.match(/^(br(\s)*\/)/))&&0<C$Tzo[0].length&&(C$Tze=C$Tzo[0].trim()).startsWith(H[1730])&&"/"===C$Tze[C$Tze.length-1])return C$Tzr.isNewLine=!0,this._resultObjectArray.push({text:"",style:{newline:!0}}),C$Tzr;if((C$Tzo=C$Tzt.match(/^(img(\s)*src(\s)*=[^>]+\/)/))&&0<C$Tzo[0].length&&(C$Tze=C$Tzo[0].trim()).startsWith(H[1731])&&"/"===C$Tze[C$Tze.length-1]){for(var C$Tzs,C$Tzo=C$Tzt.match(C$Tzu),C$Tza=!1;C$Tzo;){if(C$Tze=(C$Tzt=C$Tzt.substring(C$Tzt.indexOf(C$Tzo[0]))).substr(0,C$Tzo[0].length),C$Tzl=-1<(C$Tzi=(C$Tzs=C$Tzt.substring(C$Tze.length).trim()).indexOf(" "))?C$Tzs.substr(0,C$Tzi):C$Tzs,C$Tze=(C$Tze=C$Tze.replace(/[^a-zA-Z]/g,"").trim()).toLocaleLowerCase(),C$Tzt=C$Tzs.substring(C$Tzi).trim(),C$Tzl.endsWith("/")&&(C$Tzl=C$Tzl.slice(0,-1)),H[513]===C$Tze){switch(C$Tzl.charCodeAt(0)){case 34:case 39:C$Tza=!0,C$Tzl=C$Tzl.slice(1,-1);}C$Tzr.isImage=!0,C$Tzr.src=C$Tzl;}else if(H[574]===C$Tze)C$Tzr.imageHeight=parseInt(C$Tzl);else if(H[572]===C$Tze)C$Tzr.imageWidth=parseInt(C$Tzl);else if(H[1732]===C$Tze){switch(C$Tzl.charCodeAt(0)){case 34:case 39:C$Tzl=C$Tzl.slice(1,-1);}C$Tzr.imageAlign=C$Tzl.toLocaleLowerCase();}else H[1733]===C$Tze?C$Tzr.imageOffset=C$Tzl:H[867]===C$Tze&&(C$Tzr.event=this._processEventHandler(C$Tze+"="+C$Tzl));C$Tzr.event&&H[1734]===C$Tze&&(C$Tzr.event.param=C$Tzl.replace(/^\"|\"$/g,"")),C$Tzo=C$Tzt.match(C$Tzu);}return C$Tza&&C$Tzr.isImage&&this._resultObjectArray.push({text:"",style:C$Tzr}),{};}if(C$Tzo=C$Tzt.match(/^(outline(\s)*[^>]*)/)){var C$Tzc={color:H[1735],width:1};if(C$Tzt=C$Tzo[0].substring(H[1736].length).trim()){var C$Tzl,C$Tzh=/(\s)*color(\s)*=|(\s)*width(\s)*=|(\s)*click(\s)*=|(\s)*param(\s)*=/;for(C$Tzo=C$Tzt.match(C$Tzh);C$Tzo;)C$Tze=(C$Tzt=C$Tzt.substring(C$Tzt.indexOf(C$Tzo[0]))).substr(0,C$Tzo[0].length),C$Tzl=-1<(C$Tzi=(C$Tzs=C$Tzt.substring(C$Tze.length).trim()).indexOf(" "))?C$Tzs.substr(0,C$Tzi):C$Tzs,C$Tze=(C$Tze=C$Tze.replace(/[^a-zA-Z]/g,"").trim()).toLocaleLowerCase(),C$Tzt=C$Tzs.substring(C$Tzi).trim(),H[867]===C$Tze?C$Tzr.event=this._processEventHandler(C$Tze+"="+C$Tzl):H[1737]===C$Tze?C$Tzc.color=C$Tzl:H[572]===C$Tze&&(C$Tzc.width=parseInt(C$Tzl)),C$Tzr.event&&H[1734]===C$Tze&&(C$Tzr.event.param=C$Tzl.replace(/^\"|\"$/g,"")),C$Tzo=C$Tzt.match(C$Tzh);}C$Tzr.outline=C$Tzc;}if((C$Tzo=C$Tzt.match(/^(on|u|b|i)(\s)*/))&&0<C$Tzo[0].length){switch(C$Tze=C$Tzo[0],C$Tzt=C$Tzt.substring(C$Tze.length).trim(),C$Tze[0]){case"u":C$Tzr.underline=!0;break;case"i":C$Tzr.italic=!0;break;case"b":C$Tzr.bold=!0;}if(""===C$Tzt)return C$Tzr;C$Tzn=this._processEventHandler(C$Tzt),C$Tzr.event=C$Tzn;}return C$Tzr;},_processEventHandler:function(C$Tzt){for(var C$Tze=0,C$Tzi={},C$Tzn=C$Tzt.match(C$Tzc),C$Tzr=!1;C$Tzn;){var C$Tzs,C$Tzo=C$Tzn[0],C$Tza="",C$Tzr=!1;'"'===(C$Tzt=C$Tzt.substring(C$Tzo.length).trim()).charAt(0)?(-1<(C$Tze=C$Tzt.indexOf('"',1))&&(C$Tza=C$Tzt.substring(1,C$Tze).trim(),C$Tzr=!0),C$Tze++):"'"===C$Tzt.charAt(0)?(-1<(C$Tze=C$Tzt.indexOf("'",1))&&(C$Tza=C$Tzt.substring(1,C$Tze).trim(),C$Tzr=!0),C$Tze++):C$Tze=(C$Tza=(C$Tzs=C$Tzt.match(/(\S)+/))?C$Tzs[0]:"").length,C$Tzr&&(C$Tzi[C$Tzo=C$Tzo.substring(0,C$Tzo.length-1).trim()]=C$Tza),C$Tzn=(C$Tzt=C$Tzt.substring(C$Tze).trim()).match(C$Tzc);}return C$Tzi;},_addToStack:function(C$Tzt){var C$Tze=this._attributeToObject(C$Tzt);if(0===this._stack.length)this._stack.push(C$Tze);else if(!C$Tze.isNewLine&&!C$Tze.isImage){var C$Tzi,C$Tzn=this._stack[this._stack.length-1];for(C$Tzi in C$Tzn)C$Tze[C$Tzi]||(C$Tze[C$Tzi]=C$Tzn[C$Tzi]);this._stack.push(C$Tze);}},_processResult:function(C$Tzt){""!==C$Tzt&&(C$Tzt=this._escapeSpecialSymbol(C$Tzt),0<this._stack.length?this._resultObjectArray.push({text:C$Tzt,style:this._stack[this._stack.length-1]}):this._resultObjectArray.push({text:C$Tzt}));},_escapeSpecialSymbol:function(C$Tzt){for(var C$Tze=0;C$Tze<this._specialSymbolArray.length;++C$Tze){var C$Tzi=this._specialSymbolArray[C$Tze][0],C$Tzn=this._specialSymbolArray[C$Tze][1];C$Tzt=C$Tzt.replace(C$Tzi,C$Tzn);}return C$Tzt;}},C$Tze.exports=C$Tzn;},{}],262:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[1738]),C$Tzt(H[1739]),C$Tzt(H[1740]),C$Tzt(H[1741]);},{"./CCPath":253,"./find":259,"./mutable-forward-iterator":265,"./profiler/CCProfiler":268}],263:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.postLoadMesh=function(C$Tzi,C$Tzn){!C$Tzi.loaded&&C$Tzi.nativeUrl?cc.loader.load(C$Tzi.nativeUrl,function(C$Tzt,C$Tze){C$Tze&&(C$Tzi._nativeAsset=C$Tze),C$Tzn&&C$Tzn(C$Tzt);}):C$Tzn&&C$Tzn();};},{}],264:[function(C$Tzt,C$Tze,C$Tzi){"use strict";for(var C$Tzl=C$Tzt(H[720]),C$Tzt={propertyDefine:function(C$Tzt,C$Tze,C$Tzi){function C$Tzn(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=Object.getOwnPropertyDescriptor(C$Tzt,C$Tze);C$Tzr?(C$Tzr.get&&(C$Tzt[C$Tzi]=C$Tzr.get),C$Tzr.set&&C$Tzn&&(C$Tzt[C$Tzn]=C$Tzr.set)):(C$Tzr=C$Tzt[C$Tzi],C$Tzl.getset(C$Tzt,C$Tze,C$Tzr,C$Tzt[C$Tzn]));}for(var C$Tzr=C$Tzt.prototype,C$Tzs=0;C$Tzs<C$Tze.length;C$Tzs++){var C$Tzo,C$Tza=(C$Tzo=C$Tze[C$Tzs])[0].toUpperCase()+C$Tzo.slice(1);C$Tzn(C$Tzr,C$Tzo,H[1742]+C$Tza,H[1743]+C$Tza);}for(C$Tzo in C$Tzi){var C$Tzc=C$Tzi[C$Tzo];C$Tzn(C$Tzr,C$Tzo,C$Tzc[0],C$Tzc[1]);}},NextPOT:function(C$Tzt){return--C$Tzt,(C$Tzt=(C$Tzt=(C$Tzt=(C$Tzt=(C$Tzt|=C$Tzt>>1)|C$Tzt>>2)|C$Tzt>>4)|C$Tzt>>8)|C$Tzt>>16)+1;},BUILTIN_CLASSID_RE:/^(?:cc|dragonBones|sp|ccsg)\..+/},C$Tzn=[],C$Tzr=0;C$Tzr<123;++C$Tzr)C$Tzn[C$Tzr]=64;for(var C$Tzs=0;C$Tzs<64;++C$Tzs)C$Tzn[H[1744].charCodeAt(C$Tzs)]=C$Tzs;C$Tzt.BASE64_VALUES=C$Tzn,C$Tzt.pushToMap=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tzt[C$Tze];C$Tzr?Array.isArray(C$Tzr)?C$Tzn?(C$Tzr.push(C$Tzr[0]),C$Tzr[0]=C$Tzi):C$Tzr.push(C$Tzi):C$Tzt[C$Tze]=C$Tzn?[C$Tzi,C$Tzr]:[C$Tzr,C$Tzi]:C$Tzt[C$Tze]=C$Tzi;},C$Tzt.clampf=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn;return C$Tzi<C$Tze&&(C$Tzn=C$Tze,C$Tze=C$Tzi,C$Tzi=C$Tzn),C$Tzt<C$Tze?C$Tze:C$Tzt<C$Tzi?C$Tzt:C$Tzi;},C$Tzt.clamp01=function(C$Tzt){return C$Tzt<0?0:C$Tzt<1?C$Tzt:1;},C$Tzt.lerp=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt+(C$Tze-C$Tzt)*C$Tzi;},C$Tzt.degreesToRadians=function(C$Tzt){return C$Tzt*cc.macro.RAD;},C$Tzt.radiansToDegrees=function(C$Tzt){return C$Tzt*cc.macro.DEG;},cc.misc=C$Tze.exports=C$Tzt;},{"../platform/js":209}],265:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzt){this.i=0,this.array=C$Tzt;}var C$Tzr=C$Tzn.prototype;C$Tzr.remove=function(C$Tzt){C$Tzt=this.array.indexOf(C$Tzt);0<=C$Tzt&&this.removeAt(C$Tzt);},C$Tzr.removeAt=function(C$Tzt){this.array.splice(C$Tzt,1),C$Tzt<=this.i&&--this.i;},C$Tzr.fastRemove=function(C$Tzt){C$Tzt=this.array.indexOf(C$Tzt);0<=C$Tzt&&this.fastRemoveAt(C$Tzt);},C$Tzr.fastRemoveAt=function(C$Tzt){var C$Tze=this.array;C$Tze[C$Tzt]=C$Tze[C$Tze.length-1],--C$Tze.length,C$Tzt<=this.i&&--this.i;},C$Tzr.push=function(C$Tzt){this.array.push(C$Tzt);},C$Tze.exports=C$Tzn;},{}],266:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;(C$Tzn=C$Tzr.prototype).get=function(){},C$Tzn.put=function(){},C$Tzn.clear=function(){};var C$Tzn=C$Tzr;function C$Tzr(){this.enabled=!1,this.count=0,this.maxSize=1024;}C$Tzi.default=C$Tzn,cc.pool={},C$Tzn.register=function(C$Tzt,C$Tze){cc.pool[C$Tzt]=C$Tze;},C$Tze.exports=C$Tzi.default;},{}],267:[function(C$Tzt,C$Tze,C$Tzi){"use strict";cc._PrefabInfo=cc.Class({name:H[1745],properties:{root:null,asset:null,fileId:"",sync:!1,_synced:{default:!1,serializable:!1}}}),C$Tze.exports={syncWithPrefab:function(C$Tzt){var C$Tze=C$Tzt._prefab;if(C$Tze._synced=!0,!C$Tze.asset)return cc.errorID(3701,C$Tzt.name),void(C$Tzt._prefab=null);var C$Tzi=C$Tzt._objFlags,C$Tzn=C$Tzt._parent,C$Tzr=C$Tzt._id,C$Tzs=C$Tzt._name,C$Tzo=C$Tzt._active,C$Tza=C$Tzt._eulerAngles.x,C$Tzh=C$Tzt._eulerAngles.y,C$Tzu=C$Tzt._eulerAngles.z,C$Tz_=C$Tzt._localZOrder,C$Tzd=C$Tzt._globalZOrder,C$Tzc=C$Tzt._trs,C$Tzf=C$Tzc[0],C$Tzp=C$Tzc[1],C$Tzm=C$Tzc[2],C$Tzl=(cc.game._isCloning=!0,C$Tze.asset.data);C$Tzl._prefab._synced=!0,C$Tzl._iN$t=C$Tzt,cc.instantiate._clone(C$Tzl,C$Tzl),cc.game._isCloning=!1,C$Tzt._objFlags=C$Tzi,C$Tzt._parent=C$Tzn,C$Tzt._id=C$Tzr,C$Tzt._prefab=C$Tze,C$Tzt._name=C$Tzs,C$Tzt._active=C$Tzo,C$Tzt._localZOrder=C$Tz_,C$Tzt._globalZOrder=C$Tzd,(C$Tzc=C$Tzt._trs)[0]=C$Tzf,C$Tzc[1]=C$Tzp,C$Tzc[2]=C$Tzm,C$Tzt._eulerAngles.x=C$Tza,C$Tzt._eulerAngles.y=C$Tzh,C$Tzt._eulerAngles.z=C$Tzu;}};},{}],268:[function(C$Tzt,C$Tze,C$Tzh){"use strict";var C$Tzu=C$Tzt(H[965]),C$Tz_=C$Tzt(H[1746]),C$Tzi=!1,C$Tzn=15,C$Tzs=null,C$Tzr=null,C$Tzo=null;function C$Tza(){C$Tzr&&C$Tzr.isValid||((C$Tzr=new cc.Node(H[1747])).x=C$Tzr.y=10,C$Tzr.groupIndex=cc.Node.BuiltinGroupIndex.DEBUG,cc.Camera._setupDebugCamera(),C$Tzr.zIndex=C$Tzu.MAX_ZINDEX,cc.game.addPersistRootNode(C$Tzr),(C$Tzi=new cc.Node(H[1748])).anchorX=C$Tzi.anchorY=0,(C$Tzt=C$Tzi.addComponent(cc.Label)).fontSize=C$Tzn,C$Tzt.lineHeight=C$Tzn,C$Tzi.parent=C$Tzr,(C$Tzi=new cc.Node(H[1749])).anchorX=1,C$Tzi.anchorY=0,C$Tzi.x=200,(C$Tze=C$Tzi.addComponent(cc.Label)).horizontalAlign=cc.Label.HorizontalAlign.RIGHT,C$Tze.fontSize=C$Tzn,C$Tze.lineHeight=C$Tzn,C$Tzi.parent=C$Tzr,cc.sys.browserType!==cc.sys.BROWSER_TYPE_BAIDU_GAME_SUB&&cc.sys.browserType!==cc.sys.BROWSER_TYPE_WECHAT_GAME_SUB&&(C$Tzt.cacheMode=cc.Label.CacheMode.CHAR,C$Tze.cacheMode=cc.Label.CacheMode.CHAR),C$Tzo={left:C$Tzt,right:C$Tze});var C$Tzt,C$Tze,C$Tzi=cc.director._lastUpdate;C$Tzs.frame._counter.start(C$Tzi),C$Tzs.logic._counter.start(C$Tzi);}function C$Tzc(){var C$Tzt=performance.now();cc.director.isPaused()?C$Tzs.frame._counter.start(C$Tzt):C$Tzs.logic._counter.end(C$Tzt),C$Tzs.render._counter.start(C$Tzt);}function C$Tzl(){var C$Tzt,C$Tze=performance.now(),C$Tzi=(C$Tzs.render._counter.end(C$Tze),C$Tzs.draws._counter.value=cc.renderer.drawCalls,C$Tzs.frame._counter.end(C$Tze),C$Tzs.fps._counter.frame(C$Tze),""),C$Tzn="";for(C$Tzt in C$Tzs){var C$Tzr=C$Tzs[C$Tzt];C$Tzr._counter.sample(C$Tze),C$Tzi+=C$Tzr.desc+"\n",C$Tzn+=C$Tzr._counter.human()+"\n";}C$Tzo&&(C$Tzo.left.string=C$Tzi,C$Tzo.right.string=C$Tzn);}cc.profiler=C$Tze.exports={isShowingStats:function(){return C$Tzi;},hideStats:function(){C$Tzi&&(C$Tzr&&(C$Tzr.active=!1),cc.director.off(cc.Director.EVENT_BEFORE_UPDATE,C$Tza),cc.director.off(cc.Director.EVENT_AFTER_UPDATE,C$Tzc),cc.director.off(cc.Director.EVENT_AFTER_DRAW,C$Tzl),C$Tzi=!1);},showStats:function(){if(!C$Tzi){if(!C$Tzs){C$Tzs={frame:{desc:H[1750],min:0,max:50,average:500},fps:{desc:H[1751],below:30,average:500},draws:{desc:H[1752]},logic:{desc:H[1753],min:0,max:50,average:500,color:H[1754]},render:{desc:H[1755],min:0,max:50,average:500,color:H[1756]},mode:{desc:cc.game.renderType===cc.game.RENDER_TYPE_WEBGL?H[1757]:H[1758],min:1}};var C$Tzt,C$Tze=performance.now();for(C$Tzt in C$Tzs)C$Tzs[C$Tzt]._counter=new C$Tz_(C$Tzt,C$Tzs[C$Tzt],C$Tze);}C$Tzr&&(C$Tzr.active=!0),cc.director.on(cc.Director.EVENT_BEFORE_UPDATE,C$Tza),cc.director.on(cc.Director.EVENT_AFTER_UPDATE,C$Tzc),cc.director.on(cc.Director.EVENT_AFTER_DRAW,C$Tzl),C$Tzi=!0;}}};},{"../../platform/CCMacro":194,"./perf-counter":270}],269:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({name:H[1759],ctor:function(C$Tzt,C$Tze,C$Tzi){this._id=C$Tzt,this._opts=C$Tze||{},this._value=0,this._total=0,this._averageValue=0,this._accumValue=0,this._accumSamples=0,this._accumStart=C$Tzi;},properties:{value:{get:function(){return this._value;},set:function(C$Tzt){this._value=C$Tzt;}}},_average:function(C$Tzt,C$Tze){this._opts.average&&(this._accumValue+=C$Tzt,++this._accumSamples,(C$Tzt=C$Tze)-this._accumStart>=this._opts.average&&(this._averageValue=this._accumValue/this._accumSamples,this._accumValue=0,this._accumStart=C$Tzt,this._accumSamples=0));},sample:function(C$Tzt){this._average(this._value,C$Tzt);},human:function(){var C$Tzt=this._opts.average?this._averageValue:this._value;return Math.round(100*C$Tzt)/100;},alarm:function(){return this._opts.below&&this._value<this._opts.below||this._opts.over&&this._value>this._opts.over;}});C$Tze.exports=C$Tzn;},{}],270:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt=C$Tzt(H[1760]),C$Tzt=cc.Class({name:H[1761],extends:C$Tzt,ctor:function(C$Tzt,C$Tze,C$Tzi){this._time=C$Tzi;},start:function(C$Tzt){this._time=C$Tzt;},end:function(C$Tzt){this._value=C$Tzt-this._time,this._average(this._value);},tick:function(){this.end(),this.start();},frame:function(C$Tzt){var C$Tze=C$Tzt-this._time;this._total++,(this._opts.average||1e3)<C$Tze&&(this._value=1e3*this._total/C$Tze,this._total=0,this._time=C$Tzt,this._average(this._value));}});C$Tze.exports=C$Tzt;},{"./counter":269}],271:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=new((C$Tzt=C$Tzt(H[720]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt}).default.Pool(2);function C$Tzr(C$Tzt){this.count=0,this.limit=C$Tzt,this.datas={},this.head=null,this.tail=null;}C$Tzn.get=function(){return this._get()||{key:null,value:null,prev:null,next:null};},C$Tzr.prototype.moveToHead=function(C$Tzt){C$Tzt.next=this.head,(C$Tzt.prev=null)!==this.head&&(this.head.prev=C$Tzt),this.head=C$Tzt,null===this.tail&&(this.tail=C$Tzt),this.count++,this.datas[C$Tzt.key]=C$Tzt;},C$Tzr.prototype.put=function(C$Tzt,C$Tze){var C$Tzi=C$Tzn.get();C$Tzi.key=C$Tzt,C$Tzi.value=C$Tze,this.count>=this.limit&&(C$Tzt=this.tail,delete this.datas[C$Tzt.key],this.count--,this.tail=C$Tzt.prev,this.tail.next=null,C$Tzt.prev=null,C$Tzt.next=null,C$Tzn.put(C$Tzt)),this.moveToHead(C$Tzi);},C$Tzr.prototype.remove=function(C$Tzt){null!==C$Tzt.prev?C$Tzt.prev.next=C$Tzt.next:this.head=C$Tzt.next,null!==C$Tzt.next?C$Tzt.next.prev=C$Tzt.prev:this.tail=C$Tzt.prev,delete this.datas[C$Tzt.key],this.count--;},C$Tzr.prototype.get=function(C$Tzt){C$Tzt=this.datas[C$Tzt];return C$Tzt?(this.remove(C$Tzt),this.moveToHead(C$Tzt),C$Tzt.value):null;},C$Tzr.prototype.clear=function(){this.count=0,this.datas={},this.head=null,this.tail=null;},C$Tzr.prototype.has=function(C$Tzt){return!!this.datas[C$Tzt];},C$Tzr.prototype.delete=function(C$Tzt){C$Tzt=this.datas[C$Tzt];this.remove(C$Tzt);};var C$Tzs=new C$Tzr(100);cc.textUtils=C$Tze.exports={BASELINE_RATIO:.26,MIDDLE_RATIO:.37,BASELINE_OFFSET:0,label_wordRex:/([a-zA-Z0-9\xc4\xd6\xdc\xe4\xf6\xfc\xdf\xe9\xe8\xe7\xe0\xf9\xea\xe2\xee\xf4\xfb\u0430-\u044f\u0410-\u042f\u0401\u0451]+|\S)/,label_symbolRex:/^[!,.:;'}\]%\?>\u3001\u2018\u201c\u300b\uff1f\u3002\uff0c\uff01]/,label_lastWordRex:/([a-zA-Z0-9\xc4\xd6\xdc\xe4\xf6\xfc\xdf\xe9\xe8\xe7\xe0\xf9\xea\xe2\xee\xf4\xfb\u0430\xed\xec\xcd\xcc\xef\xc1\xc0\xe1\xe0\xc9\xc8\xd2\xd3\xf2\xf3\u0150\u0151\xd9\xda\u0170\xfa\u0171\xf1\xd1\xe6\xc6\u0153\u0152\xc3\xc2\xe3\xd4\xf5\u011b\u0161\u010d\u0159\u017e\xfd\xe1\xed\xe9\xf3\xfa\u016f\u0165\u010f\u0148\u011a\u0160\u010c\u0158\u017d\xc1\xcd\xc9\xd3\xda\u0164\u017c\u017a\u015b\xf3\u0144\u0142\u0119\u0107\u0105\u017b\u0179\u015a\xd3\u0143\u0141\u0118\u0106\u0104-\u044f\u0410-\u042f\u0401\u0451]+|\S)$/,label_lastEnglish:/[a-zA-Z0-9\xc4\xd6\xdc\xe4\xf6\xfc\xdf\xe9\xe8\xe7\xe0\xf9\xea\xe2\xee\xf4\xfb\u0430\xed\xec\xcd\xcc\xef\xc1\xc0\xe1\xe0\xc9\xc8\xd2\xd3\xf2\xf3\u0150\u0151\xd9\xda\u0170\xfa\u0171\xf1\xd1\xe6\xc6\u0153\u0152\xc3\xc2\xe3\xd4\xf5\u011b\u0161\u010d\u0159\u017e\xfd\xe1\xed\xe9\xf3\xfa\u016f\u0165\u010f\u0148\u011a\u0160\u010c\u0158\u017d\xc1\xcd\xc9\xd3\xda\u0164\u017c\u017a\u015b\xf3\u0144\u0142\u0119\u0107\u0105\u017b\u0179\u015a\xd3\u0143\u0141\u0118\u0106\u0104-\u044f\u0410-\u042f\u0401\u0451]+$/,label_firstEnglish:/^[a-zA-Z0-9\xc4\xd6\xdc\xe4\xf6\xfc\xdf\xe9\xe8\xe7\xe0\xf9\xea\xe2\xee\xf4\xfb\u0430\xed\xec\xcd\xcc\xef\xc1\xc0\xe1\xe0\xc9\xc8\xd2\xd3\xf2\xf3\u0150\u0151\xd9\xda\u0170\xfa\u0171\xf1\xd1\xe6\xc6\u0153\u0152\xc3\xc2\xe3\xd4\xf5\u011b\u0161\u010d\u0159\u017e\xfd\xe1\xed\xe9\xf3\xfa\u016f\u0165\u010f\u0148\u011a\u0160\u010c\u0158\u017d\xc1\xcd\xc9\xd3\xda\u0164\u017c\u017a\u015b\xf3\u0144\u0142\u0119\u0107\u0105\u017b\u0179\u015a\xd3\u0143\u0141\u0118\u0106\u0104-\u044f\u0410-\u042f\u0401\u0451]/,highSurrogateRex:/[\uD800-\uDBFF]/,lowSurrogateRex:/[\uDC00-\uDFFF]/,label_wrapinspection:!0,__CHINESE_REG:/^[\u4E00-\u9FFF\u3400-\u4DFF]+$/,__JAPANESE_REG:/[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]|[\u4E00-\u9FAF]|[\u2605-\u2606]|[\u2190-\u2195]|\u203B/g,__KOREAN_REG:/^[\u1100-\u11FF]|[\u3130-\u318F]|[\uA960-\uA97F]|[\uAC00-\uD7AF]|[\uD7B0-\uD7FF]+$/,isUnicodeCJK:function(C$Tzt){return this.__CHINESE_REG.test(C$Tzt)||this.__JAPANESE_REG.test(C$Tzt)||this.__KOREAN_REG.test(C$Tzt);},isUnicodeSpace:function(C$Tzt){return 9<=(C$Tzt=C$Tzt.charCodeAt(0))&&C$Tzt<=13||32===C$Tzt||133===C$Tzt||160===C$Tzt||5760===C$Tzt||8192<=C$Tzt&&C$Tzt<=8202||8232===C$Tzt||8233===C$Tzt||8239===C$Tzt||8287===C$Tzt||12288===C$Tzt;},safeMeasureText:function(C$Tzt,C$Tze,C$Tzi){var C$Tzi=(C$Tzi||C$Tzt.font)+H[1762]+C$Tze,C$Tzn=C$Tzs.get(C$Tzi);if(null!==C$Tzn)return C$Tzn;C$Tzn=C$Tzt.measureText(C$Tze),C$Tzt=C$Tzn&&C$Tzn.width||0;return C$Tzs.put(C$Tzi,C$Tzt),C$Tzt;},_safeSubstring:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tze,C$Tzr=C$Tzi,C$Tzs=C$Tzt[C$Tze];return this.lowSurrogateRex.test(C$Tzs)&&C$Tzn--,void 0!==C$Tzi&&(C$Tzi-1!==C$Tze?(C$Tze=C$Tzt[C$Tzi-1],this.highSurrogateRex.test(C$Tze)&&C$Tzr--):this.highSurrogateRex.test(C$Tzs)&&C$Tzr++),C$Tzt.substring(C$Tzn,C$Tzr);},fragmentText:function(C$Tzh,C$Tzt,C$Tze,C$Tzu){var C$Tzi=[];if(0===C$Tzh.length||C$Tze<0)return C$Tzi.push(""),C$Tzi;for(var C$Tzn=C$Tzh;C$Tze<C$Tzt&&1<C$Tzn.length;){for(var C$Tz_,C$Tzr=C$Tzn.length*(C$Tze/C$Tzt)|0,C$Tzs=this._safeSubstring(C$Tzn,C$Tzr),C$Tzo=C$Tzt-C$Tzu(C$Tzs),C$Tza=C$Tzs,C$Tzd=0,C$Tzf=0;C$Tze<C$Tzo&&C$Tzf++<10;)C$Tzo=C$Tzt-C$Tzu(C$Tzs=this._safeSubstring(C$Tzn,C$Tzr=C$Tzr*(C$Tze/C$Tzo)|0));for(C$Tzf=0;C$Tzo<=C$Tze&&C$Tzf++<10;)C$Tzs&&(C$Tzd=(C$Tz_=this.label_wordRex.exec(C$Tzs))?C$Tz_[0].length:1,C$Tza=C$Tzs),C$Tzr+=C$Tzd,C$Tzo=C$Tzt-C$Tzu(C$Tzs=this._safeSubstring(C$Tzn,C$Tzr));0===(C$Tzr-=C$Tzd)?C$Tza=this._safeSubstring(C$Tzn,C$Tzr=1):1===C$Tzr&&this.highSurrogateRex.test(C$Tzn[0])&&(C$Tza=this._safeSubstring(C$Tzn,C$Tzr=2));var C$Tzc,C$Tzl=this._safeSubstring(C$Tzn,0,C$Tzr);this.label_wrapinspection&&this.label_symbolRex.test(C$Tza||C$Tzs)&&(0===(C$Tzr-=(C$Tzc=this.label_lastWordRex.exec(C$Tzl))?C$Tzc[0].length:0)&&(C$Tzr=1),C$Tza=this._safeSubstring(C$Tzn,C$Tzr),C$Tzl=this._safeSubstring(C$Tzn,0,C$Tzr)),this.label_firstEnglish.test(C$Tza)&&(C$Tzc=this.label_lastEnglish.exec(C$Tzl))&&C$Tzl!==C$Tzc[0]&&(C$Tzr-=C$Tzc[0].length,C$Tza=this._safeSubstring(C$Tzn,C$Tzr),C$Tzl=this._safeSubstring(C$Tzn,0,C$Tzr)),(0===C$Tzi.length||0<(C$Tzl=C$Tzl.trimLeft()).length)&&C$Tzi.push(C$Tzl),C$Tzt=C$Tzu(C$Tzn=C$Tza||C$Tzs);}return(0===C$Tzi.length||0<(C$Tzn=C$Tzn.trimLeft()).length)&&C$Tzi.push(C$Tzn),C$Tzi;}};},{"../platform/js":209}],272:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzr=C$Tzt(H[1176]);cc.textureUtil=C$Tze.exports={loadImage:function(C$Tzt,C$Tzi,C$Tzn){cc.assertID(C$Tzt,3103);var C$Tze=cc.loader.getRes(C$Tzt);return C$Tze?C$Tze.loaded?C$Tzi&&C$Tzi.call(C$Tzn,null,C$Tze):C$Tze.once(H[514],function(){C$Tzi&&C$Tzi.call(C$Tzn,null,C$Tze);},C$Tzn):((C$Tze=new C$Tzr()).url=C$Tzt,cc.loader.load({url:C$Tzt,texture:C$Tze},function(C$Tzt,C$Tze){if(C$Tzt)return C$Tzi&&C$Tzi.call(C$Tzn,C$Tzt||new Error(H[1322]));C$Tze.handleLoadedTexture(),C$Tzi&&C$Tzi.call(C$Tzn,null,C$Tze);})),C$Tze;},cacheImage:function(C$Tzt,C$Tze){var C$Tzi;if(C$Tzt&&C$Tze)return(C$Tzi=new C$Tzr()).initWithElement(C$Tze),cc.loader.flowOut({id:C$Tzt,url:C$Tzt,error:null,content:C$Tzi,complete:!1}),C$Tzi;},postLoadTexture:function(C$Tzi,C$Tzn){!C$Tzi.loaded&&C$Tzi.url?cc.loader.load({url:C$Tzi.url,skips:C$Tzi._isCompressed()?void 0:[H[515]]},function(C$Tzt,C$Tze){if(C$Tze){if(C$Tze instanceof cc.Texture2D)return cc.error(H[1763]);C$Tzi.loaded||(C$Tzi._nativeAsset=C$Tze);}C$Tzn&&C$Tzn(C$Tzt);}):C$Tzn&&C$Tzn();}};},{"../assets/CCTexture2D":50}],273:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[1764]),C$Tzt=C$Tzt(H[1765]);C$Tze.exports={NodeMemPool:new C$Tzt(C$Tzn)};},{"./node-mem-pool":275,"./node-unit":276}],274:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzt){this._unitClass=C$Tzt,this._pool=[],this._findOrder=[];}var C$Tzr=C$Tzn.prototype;C$Tzr._initNative=function(){this._nativeMemPool=new renderer.MemPool();},C$Tzr._buildUnit=function(C$Tzt){return new this._unitClass(C$Tzt,this);},C$Tzr._destroyUnit=function(C$Tzt){this._pool[C$Tzt]=null;for(var C$Tze=0,C$Tzi=this._findOrder.length;C$Tze<C$Tzi;C$Tze++){var C$Tzn=this._findOrder[C$Tze];if(C$Tzn&&C$Tzn.unitID==C$Tzt){this._findOrder.splice(C$Tze,1);break;}}},C$Tzr._findUnitID=function(){for(var C$Tzt=0,C$Tze=this._pool;C$Tze[C$Tzt];)C$Tzt++;return C$Tzt;},C$Tzr.pop=function(){for(var C$Tzt,C$Tze=null,C$Tzi=0,C$Tzn=this._findOrder,C$Tzr=this._pool,C$Tzs=C$Tzn.length;C$Tzi<C$Tzs;C$Tzi++){var C$Tzo=C$Tzn[C$Tzi];if(C$Tzo&&C$Tzo.hasSpace()){C$Tze=C$Tzo;break;}}C$Tze||(C$Tzt=this._findUnitID(),C$Tze=this._buildUnit(C$Tzt),C$Tzr[C$Tzt]=C$Tze,C$Tzn.push(C$Tze),C$Tzi=C$Tzn.length-1);C$Tzr=C$Tzn[0];return C$Tzr!==C$Tze&&(C$Tzn[0]=C$Tze,C$Tzn[C$Tzi]=C$Tzr),C$Tze.pop();},C$Tzr.push=function(C$Tzt){var C$Tze=this._pool[C$Tzt.unitID];return C$Tze.push(C$Tzt.index),1<this._findOrder.length&&C$Tze.isAllFree()&&this._destroyUnit(C$Tzt.unitID),C$Tze;},C$Tze.exports=C$Tzn;},{}],275:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzt){C$Tzr.call(this,C$Tzt);}var C$Tzr=C$Tzt(H[1766]);function C$Tzs(){}C$Tzs.prototype=C$Tzr.prototype;C$Tzt=C$Tzn.prototype=new C$Tzs();C$Tzt._initNative=function(){this._nativeMemPool=new renderer.NodeMemPool();},C$Tzt._destroyUnit=function(C$Tzt){C$Tzr.prototype._destroyUnit.call(this,C$Tzt);},C$Tze.exports=C$Tzn;},{"./mem-pool":274}],276:[function(C$Tzt,C$Tze,C$Tzr){"use strict";function C$Tzi(C$Tzt,C$Tze){C$Tzl.call(this,C$Tzt,C$Tze);var C$Tzi=this._contentNum;this.trsList=new C$Tzs.FLOAT_ARRAY_TYPE(10*C$Tzi),this.localMatList=new C$Tzs.FLOAT_ARRAY_TYPE(16*C$Tzi),this.worldMatList=new C$Tzs.FLOAT_ARRAY_TYPE(16*C$Tzi);for(var C$Tzn=0;C$Tzn<C$Tzi;C$Tzn++){var C$Tzr=this._spacesData[C$Tzn];C$Tzr.trs=new C$Tzs.FLOAT_ARRAY_TYPE(this.trsList.buffer,C$Tzn*C$Tzo,10),C$Tzr.localMat=new C$Tzs.FLOAT_ARRAY_TYPE(this.localMatList.buffer,C$Tzn*C$Tza,16),C$Tzr.worldMat=new C$Tzs.FLOAT_ARRAY_TYPE(this.worldMatList.buffer,C$Tzn*C$Tzc,16);}}var C$Tzs=C$Tzt(H[1767]),C$Tzo=(Uint32Array,10*C$Tzs.FLOAT_BYTES),C$Tza=16*C$Tzs.FLOAT_BYTES,C$Tzc=16*C$Tzs.FLOAT_BYTES,C$Tzl=(Uint32Array,Uint32Array,Int32Array,Uint8Array,Uint8Array,Uint32Array,C$Tzs.FLOAT_BYTES,C$Tzt(H[1768]));function C$Tzn(){}C$Tzn.prototype=C$Tzl.prototype,C$Tzi.prototype=new C$Tzn(),C$Tze.exports=C$Tzi;},{"../../value-types/utils":286,"./unit-base":277}],277:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzt,C$Tze,C$Tzi){C$Tzi=C$Tzi||128,this.unitID=C$Tzt,this._memPool=C$Tze,this._data=new Uint16Array(2),this._data[0]=0,this._data[1]=0,this._contentNum=C$Tzi,this._signData=new Uint16Array(2*this._contentNum),this._spacesData=[];for(var C$Tzn=0;C$Tzn<C$Tzi;C$Tzn++){var C$Tzr=2*C$Tzn;this._signData[0+C$Tzr]=C$Tzn+1,this._signData[1+C$Tzr]=0,this._spacesData[C$Tzn]={index:C$Tzn,unitID:C$Tzt};}this._signData[2*(C$Tzi-1)]=65535;}var C$Tzr=C$Tzn.prototype;C$Tzr.hasSpace=function(){return 65535!==this._data[0];},C$Tzr.isAllFree=function(){return 0==this._data[1];},C$Tzr.pop=function(){var C$Tzt=this._data[0];if(65535===C$Tzt)return null;var C$Tze=2*C$Tzt,C$Tzt=this._spacesData[C$Tzt];return this._signData[1+C$Tze]=1,this._data[0]=this._signData[0+C$Tze],this._data[1]++,C$Tzt;},C$Tzr.push=function(C$Tzt){var C$Tze=2*C$Tzt;this._signData[1+C$Tze]=0,this._signData[0+C$Tze]=this._data[0],this._data[0]=C$Tzt,this._data[1]--;},C$Tzr.dump=function(){for(var C$Tzt=0,C$Tze=this._data[0],C$Tzi="";65535!=C$Tze;)C$Tzt++,C$Tzi+=C$Tze+H[1769],C$Tze=this._signData[2*C$Tze+0];for(var C$Tzn=0,C$Tzr="",C$Tzs=this._contentNum,C$Tzo=0;C$Tzo<C$Tzs;C$Tzo++)1==this._signData[2*C$Tzo+1]&&(C$Tzn++,C$Tzr+=C$Tzo+H[1769]);var C$Tza=C$Tzt+C$Tzn;console.log(H[1770],this.unitID,H[1771],C$Tzt,H[1772],C$Tzn,H[1773],this._data[1],H[1774],C$Tza,H[1775],this._contentNum),console.log(H[1776],C$Tzi),console.log(H[1777],C$Tzr),C$Tzn!=this._data[1]&&cc.error(H[1778],H[1772],C$Tzn,H[1773],this._data[1]),C$Tzt+C$Tzn!=this._contentNum&&cc.error(H[1779],H[1774],C$Tza,H[1775],this._contentNum);},C$Tze.exports=C$Tzn;},{}],278:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=C$Tzs(C$Tzt(H[1780])),C$Tzh=C$Tzs(C$Tzt(H[743])),C$Tzr=C$Tzs(C$Tzt(H[849]));function C$Tzs(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzo(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}function C$Tzc(C$Tzt,C$Tze,C$Tzi){return C$Tze&&C$Tzo(C$Tzt.prototype,C$Tze),C$Tzi&&C$Tzo(C$Tzt,C$Tzi),C$Tzt;}function C$Tzu(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tza(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tza(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tza(C$Tzt){return(C$Tza=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzl=function(C$Tzs){var C$Tzt;C$Tzt=C$Tzs,(C$Tze=C$Tza).prototype=Object.create(C$Tzt.prototype),(C$Tze.prototype.constructor=C$Tze).__proto__=C$Tzt,C$Tzu(C$Tza);function C$Tza(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr;return void 0===C$Tzt&&(C$Tzt=0),void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=0),void 0===C$Tzn&&(C$Tzn=255),(C$Tzr=C$Tzs.call(this)||this)._val=0,H[802]==typeof C$Tzt&&(C$Tze=C$Tzt.g,C$Tzi=C$Tzt.b,C$Tzn=C$Tzt.a,C$Tzt=C$Tzt.r),C$Tzr._val=(C$Tzn<<24>>>0)+(C$Tzi<<16)+(C$Tze<<8)+C$Tzt,C$Tzr;}C$Tza.copy=function(C$Tzt,C$Tze){return C$Tzt.r=C$Tze.r,C$Tzt.g=C$Tze.g,C$Tzt.b=C$Tze.b,C$Tzt.a=C$Tze.a,C$Tzt;},C$Tza.clone=function(C$Tzt){return new C$Tza(C$Tzt.r,C$Tzt.g,C$Tzt.b,C$Tzt.a);},C$Tza.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return void 0===C$Tzi&&(C$Tzi=255),void 0===C$Tzn&&(C$Tzn=255),void 0===C$Tzr&&(C$Tzr=255),C$Tzt.r=C$Tze=void 0===C$Tze?255:C$Tze,C$Tzt.g=C$Tzi,C$Tzt.b=C$Tzn,C$Tzt.a=C$Tzr,C$Tzt;},C$Tza.fromHex=function(C$Tzt,C$Tze){var C$Tzi=(C$Tze>>16&255)/255,C$Tzn=(C$Tze>>8&255)/255,C$Tzr=(255&C$Tze)/255;return C$Tzt.r=(C$Tze>>24)/255,C$Tzt.g=C$Tzi,C$Tzt.b=C$Tzn,C$Tzt.a=C$Tzr,C$Tzt;},C$Tza.add=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.r=C$Tze.r+C$Tzi.r,C$Tzt.g=C$Tze.g+C$Tzi.g,C$Tzt.b=C$Tze.b+C$Tzi.b,C$Tzt.a=C$Tze.a+C$Tzi.a,C$Tzt;},C$Tza.subtract=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.r=C$Tze.r-C$Tzi.r,C$Tzt.g=C$Tze.g-C$Tzi.g,C$Tzt.b=C$Tze.b-C$Tzi.b,C$Tzt.a=C$Tze.a-C$Tzi.a,C$Tzt;},C$Tza.multiply=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.r=C$Tze.r*C$Tzi.r,C$Tzt.g=C$Tze.g*C$Tzi.g,C$Tzt.b=C$Tze.b*C$Tzi.b,C$Tzt.a=C$Tze.a*C$Tzi.a,C$Tzt;},C$Tza.divide=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.r=C$Tze.r/C$Tzi.r,C$Tzt.g=C$Tze.g/C$Tzi.g,C$Tzt.b=C$Tze.b/C$Tzi.b,C$Tzt.a=C$Tze.a/C$Tzi.a,C$Tzt;},C$Tza.scale=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.r=C$Tze.r*C$Tzi,C$Tzt.g=C$Tze.g*C$Tzi,C$Tzt.b=C$Tze.b*C$Tzi,C$Tzt.a=C$Tze.a*C$Tzi,C$Tzt;},C$Tza.lerp=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tze.r,C$Tzs=C$Tze.g,C$Tzo=C$Tze.b,C$Tze=C$Tze.a;return C$Tzt.r=C$Tzr+C$Tzn*(C$Tzi.r-C$Tzr),C$Tzt.g=C$Tzs+C$Tzn*(C$Tzi.g-C$Tzs),C$Tzt.b=C$Tzo+C$Tzn*(C$Tzi.b-C$Tzo),C$Tzt.a=C$Tze+C$Tzn*(C$Tzi.a-C$Tze),C$Tzt;},C$Tza.toArray=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tze instanceof C$Tza||1<C$Tze.a?1/255:1;return C$Tzt[(C$Tzi=void 0===C$Tzi?0:C$Tzi)+0]=C$Tze.r*C$Tzn,C$Tzt[C$Tzi+1]=C$Tze.g*C$Tzn,C$Tzt[C$Tzi+2]=C$Tze.b*C$Tzn,C$Tzt[C$Tzi+3]=C$Tze.a*C$Tzn,C$Tzt;},C$Tza.fromArray=function(C$Tzt,C$Tze,C$Tzi){return C$Tze.r=255*C$Tzt[(C$Tzi=void 0===C$Tzi?0:C$Tzi)+0],C$Tze.g=255*C$Tzt[C$Tzi+1],C$Tze.b=255*C$Tzt[C$Tzi+2],C$Tze.a=255*C$Tzt[C$Tzi+3],C$Tze;},C$Tzc(C$Tza,null,[{key:H[1781],get:function(){return new C$Tza(255,255,255,255);}},{key:H[1782],get:function(){return new C$Tza(0,0,0,255);}},{key:H[1783],get:function(){return new C$Tza(0,0,0,0);}},{key:H[1784],get:function(){return new C$Tza(127.5,127.5,127.5);}},{key:H[1785],get:function(){return new C$Tza(255,0,0);}},{key:H[1786],get:function(){return new C$Tza(0,255,0);}},{key:H[1787],get:function(){return new C$Tza(0,0,255);}},{key:H[1788],get:function(){return new C$Tza(255,235,4);}},{key:H[1789],get:function(){return new C$Tza(255,127,0);}},{key:H[1790],get:function(){return new C$Tza(0,255,255);}},{key:H[1791],get:function(){return new C$Tza(255,0,255);}}]);var C$Tze=C$Tza.prototype;return C$Tze.clone=function(){var C$Tzt=new C$Tza();return C$Tzt._val=this._val,C$Tzt;},C$Tze.equals=function(C$Tzt){return C$Tzt&&this._val===C$Tzt._val;},C$Tze.lerp=function(C$Tzt,C$Tze,C$Tzi){C$Tzi=C$Tzi||new C$Tza();var C$Tzn=this.r,C$Tzr=this.g,C$Tzs=this.b,C$Tzo=this.a;return C$Tzi.r=C$Tzn+(C$Tzt.r-C$Tzn)*C$Tze,C$Tzi.g=C$Tzr+(C$Tzt.g-C$Tzr)*C$Tze,C$Tzi.b=C$Tzs+(C$Tzt.b-C$Tzs)*C$Tze,C$Tzi.a=C$Tzo+(C$Tzt.a-C$Tzo)*C$Tze,C$Tzi;},C$Tze.toString=function(){return H[1636]+this.r.toFixed()+H[1637]+this.g.toFixed()+H[1637]+this.b.toFixed()+H[1637]+this.a.toFixed()+")";},C$Tze.getR=function(){return 255&this._val;},C$Tze.setR=function(C$Tzt){return C$Tzt=~~C$Tzr.default.clampf(C$Tzt,0,255),this._val=(4294967040&this._val|C$Tzt)>>>0,this;},C$Tze.getG=function(){return(65280&this._val)>>8;},C$Tze.setG=function(C$Tzt){return C$Tzt=~~C$Tzr.default.clampf(C$Tzt,0,255),this._val=(4294902015&this._val|C$Tzt<<8)>>>0,this;},C$Tze.getB=function(){return(16711680&this._val)>>16;},C$Tze.setB=function(C$Tzt){return C$Tzt=~~C$Tzr.default.clampf(C$Tzt,0,255),this._val=(4278255615&this._val|C$Tzt<<16)>>>0,this;},C$Tze.getA=function(){return(4278190080&this._val)>>>24;},C$Tze.setA=function(C$Tzt){return C$Tzt=~~C$Tzr.default.clampf(C$Tzt,0,255),this._val=(16777215&this._val|C$Tzt<<24)>>>0,this;},C$Tze.toCSS=function(C$Tzt){return C$Tzt&&H[1792]!==C$Tzt?H[1793]===C$Tzt?H[1615]+(0|this.r)+","+(0|this.g)+","+(0|this.b)+")":"#"+this.toHEX(C$Tzt):H[1636]+(0|this.r)+","+(0|this.g)+","+(0|this.b)+","+(this.a/255).toFixed(2)+")";},C$Tze.fromHEX=function(C$Tzt){C$Tzt=0===C$Tzt.indexOf("#")?C$Tzt.substring(1):C$Tzt;var C$Tze=parseInt(C$Tzt.substr(0,2),16)||0,C$Tzi=parseInt(C$Tzt.substr(2,2),16)||0,C$Tzn=parseInt(C$Tzt.substr(4,2),16)||0,C$Tzt=parseInt(C$Tzt.substr(6,2),16)||255;return this._val=(C$Tzt<<24>>>0)+(C$Tzn<<16)+(C$Tzi<<8)+C$Tze,this;},C$Tze.toHEX=function(C$Tzt){var C$Tze=[(this.r<16?"0":"")+(0|this.r).toString(16),(this.g<16?"0":"")+(0|this.g).toString(16),(this.b<16?"0":"")+(0|this.b).toString(16)],C$Tzi=-1;if(H[1794]===C$Tzt)for(C$Tzi=0;C$Tzi<C$Tze.length;++C$Tzi)1<C$Tze[C$Tzi].length&&(C$Tze[C$Tzi]=C$Tze[C$Tzi][0]);else if(H[1640]===C$Tzt)for(C$Tzi=0;C$Tzi<C$Tze.length;++C$Tzi)1===C$Tze[C$Tzi].length&&(C$Tze[C$Tzi]="0"+C$Tze[C$Tzi]);else H[1795]===C$Tzt&&C$Tze.push((this.a<16?"0":"")+(0|this.a).toString(16));return C$Tze.join("");},C$Tze.toRGBValue=function(){return 16777215&this._val;},C$Tze.fromHSV=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr,C$Tzs;if(0===C$Tze)C$Tzn=C$Tzr=C$Tzs=C$Tzi;else if(0===C$Tzi)C$Tzn=C$Tzr=C$Tzs=0;else{1===C$Tzt&&(C$Tzt=0),C$Tzt*=6;var C$Tzo=Math.floor(C$Tzt),C$Tzt=C$Tzt-C$Tzo,C$Tza=C$Tzi*(1-C$Tze),C$Tzc=C$Tzi*(1-C$Tze*C$Tzt),C$Tzl=C$Tzi*(1-C$Tze*(1-C$Tzt));switch(C$Tzo){case 0:C$Tzn=C$Tzi,C$Tzr=C$Tzl,C$Tzs=C$Tza;break;case 1:C$Tzn=C$Tzc,C$Tzr=C$Tzi,C$Tzs=C$Tza;break;case 2:C$Tzn=C$Tza,C$Tzr=C$Tzi,C$Tzs=C$Tzl;break;case 3:C$Tzn=C$Tza,C$Tzr=C$Tzc,C$Tzs=C$Tzi;break;case 4:C$Tzn=C$Tzl,C$Tzr=C$Tza,C$Tzs=C$Tzi;break;case 5:C$Tzn=C$Tzi,C$Tzr=C$Tza,C$Tzs=C$Tzc;}}return this._val=(this.a<<24>>>0)+((C$Tzs*=255)<<16)+((C$Tzr*=255)<<8)+(C$Tzn*=255),this;},C$Tze.toHSV=function(){var C$Tzt=this.r/255,C$Tze=this.g/255,C$Tzi=this.b/255,C$Tzn={h:0,s:0,v:0},C$Tzr=Math.max(C$Tzt,C$Tze,C$Tzi),C$Tzs=Math.min(C$Tzt,C$Tze,C$Tzi);return C$Tzn.v=C$Tzr,C$Tzn.s=C$Tzr?(C$Tzr-C$Tzs)/C$Tzr:0,C$Tzn.s?(C$Tzs=C$Tzr-C$Tzs,C$Tzn.h=C$Tzt===C$Tzr?(C$Tze-C$Tzi)/C$Tzs:C$Tze===C$Tzr?2+(C$Tzi-C$Tzt)/C$Tzs:4+(C$Tzt-C$Tze)/C$Tzs,C$Tzn.h/=6,C$Tzn.h<0&&(C$Tzn.h+=1)):C$Tzn.h=0,C$Tzn;},C$Tze.set=function(C$Tzt){return C$Tzt._val?this._val=C$Tzt._val:(this.r=C$Tzt.r,this.g=C$Tzt.g,this.b=C$Tzt.b,this.a=C$Tzt.a),this;},C$Tze._fastSetA=function(C$Tzt){this._val=(16777215&this._val|C$Tzt<<24)>>>0;},C$Tze.multiply=function(C$Tzt){var C$Tze=(255&this._val)*C$Tzt.r>>8,C$Tzi=(65280&this._val)*C$Tzt.g>>8,C$Tzn=(16711680&this._val)*C$Tzt.b>>8,C$Tzt=((4278190080&this._val)>>>8)*C$Tzt.a;return this._val=4278190080&C$Tzt|16711680&C$Tzn|65280&C$Tzi|255&C$Tze,this;},C$Tzc(C$Tza,[{key:"r",get:function(){return this.getR();},set:function(C$Tzt){this.setR(C$Tzt);}},{key:"g",get:function(){return this.getG();},set:function(C$Tzt){this.setG(C$Tzt);}},{key:"b",get:function(){return this.getB();},set:function(C$Tzt){this.setB(C$Tzt);}},{key:"a",get:function(){return this.getA();},set:function(C$Tzt){this.setA(C$Tzt);}}]),C$Tza;}(C$Tzn.default);(C$Tzi.default=C$Tzl).div=C$Tzl.divide,C$Tzl.sub=C$Tzl.subtract,C$Tzl.mul=C$Tzl.multiply,C$Tzl.WHITE_R=C$Tzl.WHITE,C$Tzl.BLACK_R=C$Tzl.BLACK,C$Tzl.TRANSPARENT_R=C$Tzl.TRANSPARENT,C$Tzl.GRAY_R=C$Tzl.GRAY,C$Tzl.RED_R=C$Tzl.RED,C$Tzl.GREEN_R=C$Tzl.GREEN,C$Tzl.BLUE_R=C$Tzl.BLUE,C$Tzl.YELLOW_R=C$Tzl.YELLOW,C$Tzl.ORANGE_R=C$Tzl.ORANGE,C$Tzl.CYAN_R=C$Tzl.CYAN,C$Tzl.MAGENTA_R=C$Tzl.MAGENTA,C$Tzh.default.fastDefine(H[1796],C$Tzl,{r:0,g:0,b:0,a:255}),cc.Color=C$Tzl,cc.color=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return H[462]!=typeof C$Tzt?H[802]==typeof C$Tzt?new C$Tzl(C$Tzt.r,C$Tzt.g,C$Tzt.b,C$Tzt.a):new C$Tzl(C$Tzt,C$Tze,C$Tzi,C$Tzn):new C$Tzl().fromHEX(C$Tzt);},C$Tze.exports=C$Tzi.default;},{"../platform/CCClass":189,"../utils/misc":264,"./value-type":287}],279:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn={Vec2:C$Tzi.__esModule=!0,Vec3:!0,Vec4:!0,Mat4:!0,Mat3:!0,Rect:!0,Size:!0,Color:!0,Quat:!0,Trs:!0},C$Tzr=(C$Tzi.Trs=C$Tzi.Quat=C$Tzi.Color=C$Tzi.Size=C$Tzi.Rect=C$Tzi.Mat3=C$Tzi.Mat4=C$Tzi.Vec4=C$Tzi.Vec3=C$Tzi.Vec2=void 0,C$Tzo(C$Tzt(H[1797]))),C$Tzr=(C$Tzi.Vec2=C$Tzr.default,C$Tzo(C$Tzt(H[1798]))),C$Tzr=(C$Tzi.Vec3=C$Tzr.default,C$Tzo(C$Tzt(H[1799]))),C$Tzr=(C$Tzi.Vec4=C$Tzr.default,C$Tzo(C$Tzt(H[1800]))),C$Tzr=(C$Tzi.Mat4=C$Tzr.default,C$Tzo(C$Tzt(H[1801]))),C$Tzr=(C$Tzi.Mat3=C$Tzr.default,C$Tzo(C$Tzt(H[1802]))),C$Tzr=(C$Tzi.Rect=C$Tzr.default,C$Tzo(C$Tzt(H[1803]))),C$Tzr=(C$Tzi.Size=C$Tzr.default,C$Tzo(C$Tzt(H[1804]))),C$Tzr=(C$Tzi.Color=C$Tzr.default,C$Tzo(C$Tzt(H[1805]))),C$Tzr=(C$Tzi.Quat=C$Tzr.default,C$Tzo(C$Tzt(H[1806]))),C$Tzs=(C$Tzi.Trs=C$Tzr.default,C$Tzt(H[800]));function C$Tzo(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}Object.keys(C$Tzs).forEach(function(C$Tzt){H[1099]!==C$Tzt&&H[1100]!==C$Tzt&&(Object.prototype.hasOwnProperty.call(C$Tzn,C$Tzt)||(C$Tzi[C$Tzt]=C$Tzs[C$Tzt]));}),cc.math=C$Tze.exports;},{"./color":278,"./mat3":280,"./mat4":281,"./quat":282,"./rect":283,"./size":284,"./trs":285,"./utils":286,"./vec2":288,"./vec3":289,"./vec4":290}],280:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzg=C$Tzt(H[1807]),C$Tzo=(C$Tzt=C$Tzt(H[1798]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};C$Tzl.create=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc){return new C$Tzl(C$Tzt=void 0===C$Tzt?1:C$Tzt,C$Tze=void 0===C$Tze?0:C$Tze,C$Tzi=void 0===C$Tzi?0:C$Tzi,C$Tzn=void 0===C$Tzn?0:C$Tzn,C$Tzr=void 0===C$Tzr?1:C$Tzr,C$Tzs=void 0===C$Tzs?0:C$Tzs,C$Tzo=void 0===C$Tzo?0:C$Tzo,C$Tza=void 0===C$Tza?0:C$Tza,C$Tzc=void 0===C$Tzc?1:C$Tzc);},C$Tzl.clone=function(C$Tzt){C$Tzt=C$Tzt.m;return new C$Tzl(C$Tzt[0],C$Tzt[1],C$Tzt[2],C$Tzt[3],C$Tzt[4],C$Tzt[5],C$Tzt[6],C$Tzt[7],C$Tzt[8]);},C$Tzl.copy=function(C$Tzt,C$Tze){return C$Tzt.m.set(C$Tze.m),C$Tzt;},C$Tzl.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzh){var C$Tzl=C$Tzt.m;return C$Tzl[0]=C$Tze,C$Tzl[1]=C$Tzi,C$Tzl[2]=C$Tzn,C$Tzl[3]=C$Tzr,C$Tzl[4]=C$Tzs,C$Tzl[5]=C$Tzo,C$Tzl[6]=C$Tza,C$Tzl[7]=C$Tzc,C$Tzl[8]=C$Tzh,C$Tzt;},C$Tzl.identity=function(C$Tzt){var C$Tze=C$Tzt.m;return C$Tze[0]=1,C$Tze[1]=0,C$Tze[2]=0,C$Tze[3]=0,C$Tze[4]=1,C$Tze[5]=0,C$Tze[6]=0,C$Tze[7]=0,C$Tze[8]=1,C$Tzt;},C$Tzl.transpose=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn,C$Tzr=C$Tze.m,C$Tzs=C$Tzt.m;return C$Tzt===C$Tze?(C$Tze=C$Tzr[1],C$Tzi=C$Tzr[2],C$Tzn=C$Tzr[5],C$Tzs[1]=C$Tzr[3],C$Tzs[2]=C$Tzr[6],C$Tzs[3]=C$Tze,C$Tzs[5]=C$Tzr[7],C$Tzs[6]=C$Tzi,C$Tzs[7]=C$Tzn):(C$Tzs[0]=C$Tzr[0],C$Tzs[1]=C$Tzr[3],C$Tzs[2]=C$Tzr[6],C$Tzs[3]=C$Tzr[1],C$Tzs[4]=C$Tzr[4],C$Tzs[5]=C$Tzr[7],C$Tzs[6]=C$Tzr[2],C$Tzs[7]=C$Tzr[5],C$Tzs[8]=C$Tzr[8]),C$Tzt;},C$Tzl.invert=function(C$Tzh,C$Tzt){var C$Tzt=C$Tzt.m,C$Tze=C$Tzh.m,C$Tzi=C$Tzt[0],C$Tzn=C$Tzt[1],C$Tzr=C$Tzt[2],C$Tzs=C$Tzt[3],C$Tzo=C$Tzt[4],C$Tza=C$Tzt[5],C$Tzc=C$Tzt[6],C$Tzu=C$Tzt[7],C$Tzt=C$Tzt[8],C$Tz_=C$Tzt*C$Tzo-C$Tza*C$Tzu,C$Tzd=-C$Tzt*C$Tzs+C$Tza*C$Tzc,C$Tzf=C$Tzu*C$Tzs-C$Tzo*C$Tzc,C$Tzl=C$Tzi*C$Tz_+C$Tzn*C$Tzd+C$Tzr*C$Tzf;return C$Tzl&&(C$Tze[0]=C$Tz_*(C$Tzl=1/C$Tzl),C$Tze[1]=(-C$Tzt*C$Tzn+C$Tzr*C$Tzu)*C$Tzl,C$Tze[2]=(C$Tza*C$Tzn-C$Tzr*C$Tzo)*C$Tzl,C$Tze[3]=C$Tzd*C$Tzl,C$Tze[4]=(C$Tzt*C$Tzi-C$Tzr*C$Tzc)*C$Tzl,C$Tze[5]=(-C$Tza*C$Tzi+C$Tzr*C$Tzs)*C$Tzl,C$Tze[6]=C$Tzf*C$Tzl,C$Tze[7]=(-C$Tzu*C$Tzi+C$Tzn*C$Tzc)*C$Tzl,C$Tze[8]=(C$Tzo*C$Tzi-C$Tzn*C$Tzs)*C$Tzl),C$Tzh;},C$Tzl.adjoint=function(C$Tzh,C$Tzt){var C$Tzt=C$Tzt.m,C$Tze=C$Tzh.m,C$Tzi=C$Tzt[0],C$Tzn=C$Tzt[1],C$Tzr=C$Tzt[2],C$Tzs=C$Tzt[3],C$Tzo=C$Tzt[4],C$Tza=C$Tzt[5],C$Tzc=C$Tzt[6],C$Tzl=C$Tzt[7],C$Tzt=C$Tzt[8];return C$Tze[0]=C$Tzo*C$Tzt-C$Tza*C$Tzl,C$Tze[1]=C$Tzr*C$Tzl-C$Tzn*C$Tzt,C$Tze[2]=C$Tzn*C$Tza-C$Tzr*C$Tzo,C$Tze[3]=C$Tza*C$Tzc-C$Tzs*C$Tzt,C$Tze[4]=C$Tzi*C$Tzt-C$Tzr*C$Tzc,C$Tze[5]=C$Tzr*C$Tzs-C$Tzi*C$Tza,C$Tze[6]=C$Tzs*C$Tzl-C$Tzo*C$Tzc,C$Tze[7]=C$Tzn*C$Tzc-C$Tzi*C$Tzl,C$Tze[8]=C$Tzi*C$Tzo-C$Tzn*C$Tzs,C$Tzh;},C$Tzl.determinant=function(C$Tzt){var C$Tzt=C$Tzt.m,C$Tze=C$Tzt[0],C$Tzi=C$Tzt[1],C$Tzn=C$Tzt[2],C$Tzr=C$Tzt[3],C$Tzs=C$Tzt[4],C$Tzo=C$Tzt[5],C$Tza=C$Tzt[6],C$Tzc=C$Tzt[7],C$Tzt=C$Tzt[8];return C$Tze*(C$Tzt*C$Tzs-C$Tzo*C$Tzc)+C$Tzi*(-C$Tzt*C$Tzr+C$Tzo*C$Tza)+C$Tzn*(C$Tzc*C$Tzr-C$Tzs*C$Tza);},C$Tzl.multiply=function(C$Tzh,C$Tzt,C$Tze){var C$Tzt=C$Tzt.m,C$Tze=C$Tze.m,C$Tzi=C$Tzh.m,C$Tzn=C$Tzt[0],C$Tzr=C$Tzt[1],C$Tzs=C$Tzt[2],C$Tzo=C$Tzt[3],C$Tza=C$Tzt[4],C$Tzc=C$Tzt[5],C$Tzl=C$Tzt[6],C$Tzu=C$Tzt[7],C$Tzt=C$Tzt[8],C$Tz_=C$Tze[0],C$Tzd=C$Tze[1],C$Tzf=C$Tze[2],C$Tzp=C$Tze[3],C$Tzm=C$Tze[4],C$Tzy=C$Tze[5],C$Tzg=C$Tze[6],C$Tzv=C$Tze[7],C$Tze=C$Tze[8];return C$Tzi[0]=C$Tz_*C$Tzn+C$Tzd*C$Tzo+C$Tzf*C$Tzl,C$Tzi[1]=C$Tz_*C$Tzr+C$Tzd*C$Tza+C$Tzf*C$Tzu,C$Tzi[2]=C$Tz_*C$Tzs+C$Tzd*C$Tzc+C$Tzf*C$Tzt,C$Tzi[3]=C$Tzp*C$Tzn+C$Tzm*C$Tzo+C$Tzy*C$Tzl,C$Tzi[4]=C$Tzp*C$Tzr+C$Tzm*C$Tza+C$Tzy*C$Tzu,C$Tzi[5]=C$Tzp*C$Tzs+C$Tzm*C$Tzc+C$Tzy*C$Tzt,C$Tzi[6]=C$Tzg*C$Tzn+C$Tzv*C$Tzo+C$Tze*C$Tzl,C$Tzi[7]=C$Tzg*C$Tzr+C$Tzv*C$Tza+C$Tze*C$Tzu,C$Tzi[8]=C$Tzg*C$Tzs+C$Tzv*C$Tzc+C$Tze*C$Tzt,C$Tzh;},C$Tzl.multiplyMat4=function(C$Tzh,C$Tzt,C$Tze){var C$Tzt=C$Tzt.m,C$Tze=C$Tze.m,C$Tzi=C$Tzh.m,C$Tzn=C$Tzt[0],C$Tzr=C$Tzt[1],C$Tzs=C$Tzt[2],C$Tzo=C$Tzt[3],C$Tza=C$Tzt[4],C$Tzc=C$Tzt[5],C$Tzl=C$Tzt[6],C$Tzu=C$Tzt[7],C$Tzt=C$Tzt[8],C$Tz_=C$Tze[0],C$Tzd=C$Tze[1],C$Tzf=C$Tze[2],C$Tzp=C$Tze[4],C$Tzm=C$Tze[5],C$Tzy=C$Tze[6],C$Tzg=C$Tze[8],C$Tzv=C$Tze[9],C$Tze=C$Tze[10];return C$Tzi[0]=C$Tz_*C$Tzn+C$Tzd*C$Tzo+C$Tzf*C$Tzl,C$Tzi[1]=C$Tz_*C$Tzr+C$Tzd*C$Tza+C$Tzf*C$Tzu,C$Tzi[2]=C$Tz_*C$Tzs+C$Tzd*C$Tzc+C$Tzf*C$Tzt,C$Tzi[3]=C$Tzp*C$Tzn+C$Tzm*C$Tzo+C$Tzy*C$Tzl,C$Tzi[4]=C$Tzp*C$Tzr+C$Tzm*C$Tza+C$Tzy*C$Tzu,C$Tzi[5]=C$Tzp*C$Tzs+C$Tzm*C$Tzc+C$Tzy*C$Tzt,C$Tzi[6]=C$Tzg*C$Tzn+C$Tzv*C$Tzo+C$Tze*C$Tzl,C$Tzi[7]=C$Tzg*C$Tzr+C$Tzv*C$Tza+C$Tze*C$Tzu,C$Tzi[8]=C$Tzg*C$Tzs+C$Tzv*C$Tzc+C$Tze*C$Tzt,C$Tzh;},C$Tzl.translate=function(C$Tzt,C$Tze,C$Tzi){var C$Tze=C$Tze.m,C$Tzn=C$Tzt.m,C$Tzr=C$Tze[0],C$Tzs=C$Tze[1],C$Tzo=C$Tze[2],C$Tza=C$Tze[3],C$Tzc=C$Tze[4],C$Tzh=C$Tze[5],C$Tzu=C$Tze[6],C$Tz_=C$Tze[7],C$Tze=C$Tze[8],C$Tzl=C$Tzi.x,C$Tzi=C$Tzi.y;return C$Tzn[0]=C$Tzr,C$Tzn[1]=C$Tzs,C$Tzn[2]=C$Tzo,C$Tzn[3]=C$Tza,C$Tzn[4]=C$Tzc,C$Tzn[5]=C$Tzh,C$Tzn[6]=C$Tzl*C$Tzr+C$Tzi*C$Tza+C$Tzu,C$Tzn[7]=C$Tzl*C$Tzs+C$Tzi*C$Tzc+C$Tz_,C$Tzn[8]=C$Tzl*C$Tzo+C$Tzi*C$Tzh+C$Tze,C$Tzt;},C$Tzl.rotate=function(C$Tzt,C$Tze,C$Tzi){var C$Tze=C$Tze.m,C$Tzn=C$Tzt.m,C$Tzr=C$Tze[0],C$Tzs=C$Tze[1],C$Tzo=C$Tze[2],C$Tza=C$Tze[3],C$Tzc=C$Tze[4],C$Tzh=C$Tze[5],C$Tzu=C$Tze[6],C$Tz_=C$Tze[7],C$Tze=C$Tze[8],C$Tzl=Math.sin(C$Tzi),C$Tzi=Math.cos(C$Tzi);return C$Tzn[0]=C$Tzi*C$Tzr+C$Tzl*C$Tza,C$Tzn[1]=C$Tzi*C$Tzs+C$Tzl*C$Tzc,C$Tzn[2]=C$Tzi*C$Tzo+C$Tzl*C$Tzh,C$Tzn[3]=C$Tzi*C$Tza-C$Tzl*C$Tzr,C$Tzn[4]=C$Tzi*C$Tzc-C$Tzl*C$Tzs,C$Tzn[5]=C$Tzi*C$Tzh-C$Tzl*C$Tzo,C$Tzn[6]=C$Tzu,C$Tzn[7]=C$Tz_,C$Tzn[8]=C$Tze,C$Tzt;},C$Tzl.scale=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzi.x,C$Tzi=C$Tzi.y,C$Tze=C$Tze.m,C$Tzr=C$Tzt.m;return C$Tzr[0]=C$Tzn*C$Tze[0],C$Tzr[1]=C$Tzn*C$Tze[1],C$Tzr[2]=C$Tzn*C$Tze[2],C$Tzr[3]=C$Tzi*C$Tze[3],C$Tzr[4]=C$Tzi*C$Tze[4],C$Tzr[5]=C$Tzi*C$Tze[5],C$Tzr[6]=C$Tze[6],C$Tzr[7]=C$Tze[7],C$Tzr[8]=C$Tze[8],C$Tzt;},C$Tzl.fromMat4=function(C$Tzt,C$Tze){var C$Tze=C$Tze.m,C$Tzi=C$Tzt.m;return C$Tzi[0]=C$Tze[0],C$Tzi[1]=C$Tze[1],C$Tzi[2]=C$Tze[2],C$Tzi[3]=C$Tze[4],C$Tzi[4]=C$Tze[5],C$Tzi[5]=C$Tze[6],C$Tzi[6]=C$Tze[8],C$Tzi[7]=C$Tze[9],C$Tzi[8]=C$Tze[10],C$Tzt;},C$Tzl.fromTranslation=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.m;return C$Tzi[0]=1,C$Tzi[1]=0,C$Tzi[2]=0,C$Tzi[3]=0,C$Tzi[4]=1,C$Tzi[5]=0,C$Tzi[6]=C$Tze.x,C$Tzi[7]=C$Tze.y,C$Tzi[8]=1,C$Tzt;},C$Tzl.fromRotation=function(C$Tzt,C$Tze){var C$Tzi=Math.sin(C$Tze),C$Tze=Math.cos(C$Tze),C$Tzn=C$Tzt.m;return C$Tzn[0]=C$Tze,C$Tzn[1]=C$Tzi,C$Tzn[2]=0,C$Tzn[3]=-C$Tzi,C$Tzn[4]=C$Tze,C$Tzn[5]=0,C$Tzn[6]=0,C$Tzn[7]=0,C$Tzn[8]=1,C$Tzt;},C$Tzl.fromScaling=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.m;return C$Tzi[0]=C$Tze.x,C$Tzi[1]=0,C$Tzi[2]=0,C$Tzi[3]=0,C$Tzi[4]=C$Tze.y,C$Tzi[5]=0,C$Tzi[6]=0,C$Tzi[7]=0,C$Tzi[8]=1,C$Tzt;},C$Tzl.fromQuat=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.m,C$Tzn=C$Tze.x,C$Tzr=C$Tze.y,C$Tzs=C$Tze.z,C$Tze=C$Tze.w,C$Tzo=C$Tzn+C$Tzn,C$Tza=C$Tzr+C$Tzr,C$Tzc=C$Tzs+C$Tzs,C$Tzn=C$Tzn*C$Tzo,C$Tzl=C$Tzr*C$Tzo,C$Tzr=C$Tzr*C$Tza,C$Tzh=C$Tzs*C$Tzo,C$Tzu=C$Tzs*C$Tza,C$Tzs=C$Tzs*C$Tzc,C$Tzo=C$Tze*C$Tzo,C$Tza=C$Tze*C$Tza,C$Tze=C$Tze*C$Tzc;return C$Tzi[0]=1-C$Tzr-C$Tzs,C$Tzi[3]=C$Tzl-C$Tze,C$Tzi[6]=C$Tzh+C$Tza,C$Tzi[1]=C$Tzl+C$Tze,C$Tzi[4]=1-C$Tzn-C$Tzs,C$Tzi[7]=C$Tzu-C$Tzo,C$Tzi[2]=C$Tzh-C$Tza,C$Tzi[5]=C$Tzu+C$Tzo,C$Tzi[8]=1-C$Tzn-C$Tzr,C$Tzt;},C$Tzl.fromViewUp=function(C$Tzt,C$Tze,C$Tzi){C$Tzn=new C$Tzo.default(0,1,0),C$Tzr=new C$Tzo.default(),C$Tzs=new C$Tzo.default();var C$Tzn,C$Tzr,C$Tzs;return C$Tzo.default.lengthSqr(C$Tze)<C$Tzg.EPSILON*C$Tzg.EPSILON?(C$Tzl.identity(C$Tzt),C$Tzt):(C$Tzo.default.normalize(C$Tzr,C$Tzo.default.cross(C$Tzr,C$Tzi=C$Tzi||C$Tzn,C$Tze)),C$Tzo.default.lengthSqr(C$Tzr)<C$Tzg.EPSILON*C$Tzg.EPSILON?C$Tzl.identity(C$Tzt):(C$Tzo.default.cross(C$Tzs,C$Tze,C$Tzr),C$Tzl.set(C$Tzt,C$Tzr.x,C$Tzr.y,C$Tzr.z,C$Tzs.x,C$Tzs.y,C$Tzs.z,C$Tze.x,C$Tze.y,C$Tze.z)),C$Tzt);},C$Tzl.normalFromMat4=function(C$Tzh,C$Tzt){var C$Tzt=C$Tzt.m,C$Tze=C$Tzh.m,C$Tzi=C$Tzt[0],C$Tzn=C$Tzt[1],C$Tzu=C$Tzt[2],C$Tzr=C$Tzt[3],C$Tz_=C$Tzt[4],C$Tzd=C$Tzt[5],C$Tzf=C$Tzt[6],C$Tzs=C$Tzt[7],C$Tzo=C$Tzt[8],C$Tza=C$Tzt[9],C$Tzc=C$Tzt[10],C$Tzl=C$Tzt[11],C$Tzp=C$Tzt[12],C$Tzm=C$Tzt[13],C$Tzy=C$Tzt[14],C$Tzt=C$Tzt[15],C$Tzg=C$Tzi*C$Tzd-C$Tzn*C$Tz_,C$Tzv=C$Tzi*C$Tzf-C$Tzu*C$Tz_,C$Tzx=C$Tzi*C$Tzs-C$Tzr*C$Tz_,C$Tzb=C$Tzn*C$Tzf-C$Tzu*C$Tzd,C$TzA=C$Tzn*C$Tzs-C$Tzr*C$Tzd,C$TzC=C$Tzu*C$Tzs-C$Tzr*C$Tzf,C$TzS=C$Tzo*C$Tzm-C$Tza*C$Tzp,C$TzT=C$Tzo*C$Tzy-C$Tzc*C$Tzp,C$Tzo=C$Tzo*C$Tzt-C$Tzl*C$Tzp,C$Tzw=C$Tza*C$Tzy-C$Tzc*C$Tzm,C$Tza=C$Tza*C$Tzt-C$Tzl*C$Tzm,C$Tzc=C$Tzc*C$Tzt-C$Tzl*C$Tzy,C$Tzl=C$Tzg*C$Tzc-C$Tzv*C$Tza+C$Tzx*C$Tzw+C$Tzb*C$Tzo-C$TzA*C$TzT+C$TzC*C$TzS;return C$Tzl&&(C$Tze[0]=(C$Tzd*C$Tzc-C$Tzf*C$Tza+C$Tzs*C$Tzw)*(C$Tzl=1/C$Tzl),C$Tze[1]=(C$Tzf*C$Tzo-C$Tz_*C$Tzc-C$Tzs*C$TzT)*C$Tzl,C$Tze[2]=(C$Tz_*C$Tza-C$Tzd*C$Tzo+C$Tzs*C$TzS)*C$Tzl,C$Tze[3]=(C$Tzu*C$Tza-C$Tzn*C$Tzc-C$Tzr*C$Tzw)*C$Tzl,C$Tze[4]=(C$Tzi*C$Tzc-C$Tzu*C$Tzo+C$Tzr*C$TzT)*C$Tzl,C$Tze[5]=(C$Tzn*C$Tzo-C$Tzi*C$Tza-C$Tzr*C$TzS)*C$Tzl,C$Tze[6]=(C$Tzm*C$TzC-C$Tzy*C$TzA+C$Tzt*C$Tzb)*C$Tzl,C$Tze[7]=(C$Tzy*C$Tzx-C$Tzp*C$TzC-C$Tzt*C$Tzv)*C$Tzl,C$Tze[8]=(C$Tzp*C$TzA-C$Tzm*C$Tzx+C$Tzt*C$Tzg)*C$Tzl),C$Tzh;},C$Tzl.frob=function(C$Tzt){C$Tzt=C$Tzt.m;return Math.sqrt(Math.pow(C$Tzt[0],2)+Math.pow(C$Tzt[1],2)+Math.pow(C$Tzt[2],2)+Math.pow(C$Tzt[3],2)+Math.pow(C$Tzt[4],2)+Math.pow(C$Tzt[5],2)+Math.pow(C$Tzt[6],2)+Math.pow(C$Tzt[7],2)+Math.pow(C$Tzt[8],2));},C$Tzl.add=function(C$Tzt,C$Tze,C$Tzi){var C$Tze=C$Tze.m,C$Tzi=C$Tzi.m,C$Tzn=C$Tzt.m;return C$Tzn[0]=C$Tze[0]+C$Tzi[0],C$Tzn[1]=C$Tze[1]+C$Tzi[1],C$Tzn[2]=C$Tze[2]+C$Tzi[2],C$Tzn[3]=C$Tze[3]+C$Tzi[3],C$Tzn[4]=C$Tze[4]+C$Tzi[4],C$Tzn[5]=C$Tze[5]+C$Tzi[5],C$Tzn[6]=C$Tze[6]+C$Tzi[6],C$Tzn[7]=C$Tze[7]+C$Tzi[7],C$Tzn[8]=C$Tze[8]+C$Tzi[8],C$Tzt;},C$Tzl.subtract=function(C$Tzt,C$Tze,C$Tzi){var C$Tze=C$Tze.m,C$Tzi=C$Tzi.m,C$Tzn=C$Tzt.m;return C$Tzn[0]=C$Tze[0]-C$Tzi[0],C$Tzn[1]=C$Tze[1]-C$Tzi[1],C$Tzn[2]=C$Tze[2]-C$Tzi[2],C$Tzn[3]=C$Tze[3]-C$Tzi[3],C$Tzn[4]=C$Tze[4]-C$Tzi[4],C$Tzn[5]=C$Tze[5]-C$Tzi[5],C$Tzn[6]=C$Tze[6]-C$Tzi[6],C$Tzn[7]=C$Tze[7]-C$Tzi[7],C$Tzn[8]=C$Tze[8]-C$Tzi[8],C$Tzt;},C$Tzl.multiplyScalar=function(C$Tzt,C$Tze,C$Tzi){var C$Tze=C$Tze.m,C$Tzn=C$Tzt.m;return C$Tzn[0]=C$Tze[0]*C$Tzi,C$Tzn[1]=C$Tze[1]*C$Tzi,C$Tzn[2]=C$Tze[2]*C$Tzi,C$Tzn[3]=C$Tze[3]*C$Tzi,C$Tzn[4]=C$Tze[4]*C$Tzi,C$Tzn[5]=C$Tze[5]*C$Tzi,C$Tzn[6]=C$Tze[6]*C$Tzi,C$Tzn[7]=C$Tze[7]*C$Tzi,C$Tzn[8]=C$Tze[8]*C$Tzi,C$Tzt;},C$Tzl.multiplyScalarAndAdd=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tze=C$Tze.m,C$Tzi=C$Tzi.m,C$Tzr=C$Tzt.m;return C$Tzr[0]=C$Tze[0]+C$Tzi[0]*C$Tzn,C$Tzr[1]=C$Tze[1]+C$Tzi[1]*C$Tzn,C$Tzr[2]=C$Tze[2]+C$Tzi[2]*C$Tzn,C$Tzr[3]=C$Tze[3]+C$Tzi[3]*C$Tzn,C$Tzr[4]=C$Tze[4]+C$Tzi[4]*C$Tzn,C$Tzr[5]=C$Tze[5]+C$Tzi[5]*C$Tzn,C$Tzr[6]=C$Tze[6]+C$Tzi[6]*C$Tzn,C$Tzr[7]=C$Tze[7]+C$Tzi[7]*C$Tzn,C$Tzr[8]=C$Tze[8]+C$Tzi[8]*C$Tzn,C$Tzt;},C$Tzl.exactEquals=function(C$Tzt,C$Tze){C$Tzt=C$Tzt.m,C$Tze=C$Tze.m;return C$Tzt[0]===C$Tze[0]&&C$Tzt[1]===C$Tze[1]&&C$Tzt[2]===C$Tze[2]&&C$Tzt[3]===C$Tze[3]&&C$Tzt[4]===C$Tze[4]&&C$Tzt[5]===C$Tze[5]&&C$Tzt[6]===C$Tze[6]&&C$Tzt[7]===C$Tze[7]&&C$Tzt[8]===C$Tze[8];},C$Tzl.equals=function(C$Tzt,C$Tze){var C$Tzt=C$Tzt.m,C$Tze=C$Tze.m,C$Tzi=C$Tzt[0],C$Tzn=C$Tzt[1],C$Tzr=C$Tzt[2],C$Tzs=C$Tzt[3],C$Tzo=C$Tzt[4],C$Tza=C$Tzt[5],C$Tzc=C$Tzt[6],C$Tzl=C$Tzt[7],C$Tzt=C$Tzt[8],C$Tzh=C$Tze[0],C$Tzu=C$Tze[1],C$Tz_=C$Tze[2],C$Tzd=C$Tze[3],C$Tzf=C$Tze[4],C$Tzp=C$Tze[5],C$Tzm=C$Tze[6],C$Tzy=C$Tze[7],C$Tze=C$Tze[8];return Math.abs(C$Tzi-C$Tzh)<=C$Tzg.EPSILON*Math.max(1,Math.abs(C$Tzi),Math.abs(C$Tzh))&&Math.abs(C$Tzn-C$Tzu)<=C$Tzg.EPSILON*Math.max(1,Math.abs(C$Tzn),Math.abs(C$Tzu))&&Math.abs(C$Tzr-C$Tz_)<=C$Tzg.EPSILON*Math.max(1,Math.abs(C$Tzr),Math.abs(C$Tz_))&&Math.abs(C$Tzs-C$Tzd)<=C$Tzg.EPSILON*Math.max(1,Math.abs(C$Tzs),Math.abs(C$Tzd))&&Math.abs(C$Tzo-C$Tzf)<=C$Tzg.EPSILON*Math.max(1,Math.abs(C$Tzo),Math.abs(C$Tzf))&&Math.abs(C$Tza-C$Tzp)<=C$Tzg.EPSILON*Math.max(1,Math.abs(C$Tza),Math.abs(C$Tzp))&&Math.abs(C$Tzc-C$Tzm)<=C$Tzg.EPSILON*Math.max(1,Math.abs(C$Tzc),Math.abs(C$Tzm))&&Math.abs(C$Tzl-C$Tzy)<=C$Tzg.EPSILON*Math.max(1,Math.abs(C$Tzl),Math.abs(C$Tzy))&&Math.abs(C$Tzt-C$Tze)<=C$Tzg.EPSILON*Math.max(1,Math.abs(C$Tzt),Math.abs(C$Tze));},C$Tzl.toArray=function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=0);for(var C$Tzn=C$Tze.m,C$Tzr=0;C$Tzr<9;C$Tzr++)C$Tzt[C$Tzi+C$Tzr]=C$Tzn[C$Tzr];return C$Tzt;},C$Tzl.fromArray=function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=0);for(var C$Tzn=C$Tzt.m,C$Tzr=0;C$Tzr<9;C$Tzr++)C$Tzn[C$Tzr]=C$Tze[C$Tzi+C$Tzr];return C$Tzt;},C$Tzl.prototype.toString=function(){var C$Tzt=this.m;return H[1808]+C$Tzt[0]+H[1637]+C$Tzt[1]+H[1637]+C$Tzt[2]+H[1637]+C$Tzt[3]+H[1637]+C$Tzt[4]+H[1637]+C$Tzt[5]+H[1637]+C$Tzt[6]+H[1637]+C$Tzt[7]+H[1637]+C$Tzt[8]+")";};C$Tzt=C$Tzl;function C$Tzl(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc){var C$Tzl;void 0===C$Tzt&&(C$Tzt=1),void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=0),void 0===C$Tzn&&(C$Tzn=0),void 0===C$Tzr&&(C$Tzr=1),void 0===C$Tzs&&(C$Tzs=0),void 0===C$Tzo&&(C$Tzo=0),void 0===C$Tza&&(C$Tza=0),void 0===C$Tzc&&(C$Tzc=1),this.m=void 0,C$Tzt instanceof C$Tzg.FLOAT_ARRAY_TYPE?this.m=C$Tzt:(this.m=new C$Tzg.FLOAT_ARRAY_TYPE(9),(C$Tzl=this.m)[0]=C$Tzt,C$Tzl[1]=C$Tze,C$Tzl[2]=C$Tzi,C$Tzl[3]=C$Tzn,C$Tzl[4]=C$Tzr,C$Tzl[5]=C$Tzs,C$Tzl[6]=C$Tzo,C$Tzl[7]=C$Tza,C$Tzl[8]=C$Tzc);}(C$Tzi.default=C$Tzt).sub=C$Tzt.subtract,C$Tzt.mul=C$Tzt.multiply,C$Tzt.IDENTITY=Object.freeze(new C$Tzt()),cc.Mat3=C$Tzt,C$Tze.exports=C$Tzi.default;},{"../value-types/utils":286,"./vec3":289}],281:[function(C$Tze,C$Tzi,C$Tzr){"use strict";C$Tzr.__esModule=!0,C$Tzr.default=void 0;var C$Tzt=C$Tzc(C$Tze(H[1780])),C$Tzs=C$Tzc(C$Tze(H[743])),C$Tzo=C$Tzc(C$Tze(H[1798])),C$Tza=C$Tzc(C$Tze(H[1805])),C$TzS=C$Tze(H[800]),C$Tzu=C$Tzc(C$Tze(H[1801]));function C$Tzc(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzl(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzh(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzh(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzh(C$Tzt){return(C$Tzh=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$TzT,C$Tzm=0,C$Tzy=0,C$Tzg=0,C$Tzv=0,C$Tzx=0,C$Tzb=0,C$TzA=0,C$TzC=0,C$Tzw=0,C$TzE=0,C$TzM=0,C$TzI=0,C$Tzp=0,C$TzB=0,C$TzR=0,C$TzP=0,C$TzD=(C$TzT=C$Tzt.default,C$Tze=C$TzT,(C$Tzt=C$Tzn).prototype=Object.create(C$Tze.prototype),(C$Tzt.prototype.constructor=C$Tzt).__proto__=C$Tze,C$Tzl(C$Tzn),(C$Tzt=C$Tzn.prototype).mul=function(C$Tzt,C$Tze){return C$Tzn.multiply(C$Tze||new C$Tzn(),this,C$Tzt);},C$Tzt.mulScalar=function(C$Tzt,C$Tze){C$Tzn.multiplyScalar(C$Tze||new C$Tzn(),this,C$Tzt);},C$Tzt.sub=function(C$Tzt,C$Tze){C$Tzn.subtract(C$Tze||new C$Tzn(),this,C$Tzt);},C$Tzn.clone=function(C$Tzt){C$Tzt=C$Tzt.m;return new C$Tzn(C$Tzt[0],C$Tzt[1],C$Tzt[2],C$Tzt[3],C$Tzt[4],C$Tzt[5],C$Tzt[6],C$Tzt[7],C$Tzt[8],C$Tzt[9],C$Tzt[10],C$Tzt[11],C$Tzt[12],C$Tzt[13],C$Tzt[14],C$Tzt[15]);},C$Tzn.copy=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.m,C$Tze=C$Tze.m;return C$Tzi[0]=C$Tze[0],C$Tzi[1]=C$Tze[1],C$Tzi[2]=C$Tze[2],C$Tzi[3]=C$Tze[3],C$Tzi[4]=C$Tze[4],C$Tzi[5]=C$Tze[5],C$Tzi[6]=C$Tze[6],C$Tzi[7]=C$Tze[7],C$Tzi[8]=C$Tze[8],C$Tzi[9]=C$Tze[9],C$Tzi[10]=C$Tze[10],C$Tzi[11]=C$Tze[11],C$Tzi[12]=C$Tze[12],C$Tzi[13]=C$Tze[13],C$Tzi[14]=C$Tze[14],C$Tzi[15]=C$Tze[15],C$Tzt;},C$Tzn.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$Tzf,C$Tzp,C$Tzm,C$Tzy){var C$Tzl=C$Tzt.m;return C$Tzl[0]=C$Tze,C$Tzl[1]=C$Tzi,C$Tzl[2]=C$Tzn,C$Tzl[3]=C$Tzr,C$Tzl[4]=C$Tzs,C$Tzl[5]=C$Tzo,C$Tzl[6]=C$Tza,C$Tzl[7]=C$Tzc,C$Tzl[8]=C$Tzh,C$Tzl[9]=C$Tzu,C$Tzl[10]=C$Tz_,C$Tzl[11]=C$Tzd,C$Tzl[12]=C$Tzf,C$Tzl[13]=C$Tzp,C$Tzl[14]=C$Tzm,C$Tzl[15]=C$Tzy,C$Tzt;},C$Tzn.identity=function(C$Tzt){var C$Tze=C$Tzt.m;return C$Tze[0]=1,C$Tze[1]=0,C$Tze[2]=0,C$Tze[3]=0,C$Tze[4]=0,C$Tze[5]=1,C$Tze[6]=0,C$Tze[7]=0,C$Tze[8]=0,C$Tze[9]=0,C$Tze[10]=1,C$Tze[11]=0,C$Tze[12]=0,C$Tze[13]=0,C$Tze[14]=0,C$Tze[15]=1,C$Tzt;},C$Tzn.transpose=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza=C$Tzt.m,C$Tzc=C$Tze.m;return C$Tzt===C$Tze?(C$Tze=C$Tzc[1],C$Tzi=C$Tzc[2],C$Tzn=C$Tzc[3],C$Tzr=C$Tzc[6],C$Tzs=C$Tzc[7],C$Tzo=C$Tzc[11],C$Tza[1]=C$Tzc[4],C$Tza[2]=C$Tzc[8],C$Tza[3]=C$Tzc[12],C$Tza[4]=C$Tze,C$Tza[6]=C$Tzc[9],C$Tza[7]=C$Tzc[13],C$Tza[8]=C$Tzi,C$Tza[9]=C$Tzr,C$Tza[11]=C$Tzc[14],C$Tza[12]=C$Tzn,C$Tza[13]=C$Tzs,C$Tza[14]=C$Tzo):(C$Tza[0]=C$Tzc[0],C$Tza[1]=C$Tzc[4],C$Tza[2]=C$Tzc[8],C$Tza[3]=C$Tzc[12],C$Tza[4]=C$Tzc[1],C$Tza[5]=C$Tzc[5],C$Tza[6]=C$Tzc[9],C$Tza[7]=C$Tzc[13],C$Tza[8]=C$Tzc[2],C$Tza[9]=C$Tzc[6],C$Tza[10]=C$Tzc[10],C$Tza[11]=C$Tzc[14],C$Tza[12]=C$Tzc[3],C$Tza[13]=C$Tzc[7],C$Tza[14]=C$Tzc[11],C$Tza[15]=C$Tzc[15]),C$Tzt;},C$Tzn.invert=function(C$Tzh,C$Tzt){var C$Tzt=C$Tzt.m,C$Tzt=(C$Tzm=C$Tzt[0],C$Tzy=C$Tzt[1],C$Tzg=C$Tzt[2],C$Tzv=C$Tzt[3],C$Tzx=C$Tzt[4],C$Tzb=C$Tzt[5],C$TzA=C$Tzt[6],C$TzC=C$Tzt[7],C$Tzw=C$Tzt[8],C$TzE=C$Tzt[9],C$TzM=C$Tzt[10],C$TzI=C$Tzt[11],C$Tzp=C$Tzt[12],C$TzB=C$Tzt[13],C$TzR=C$Tzt[14],C$TzP=C$Tzt[15],C$Tzm*C$Tzb-C$Tzy*C$Tzx),C$Tze=C$Tzm*C$TzA-C$Tzg*C$Tzx,C$Tzi=C$Tzm*C$TzC-C$Tzv*C$Tzx,C$Tzn=C$Tzy*C$TzA-C$Tzg*C$Tzb,C$Tzr=C$Tzy*C$TzC-C$Tzv*C$Tzb,C$Tzs=C$Tzg*C$TzC-C$Tzv*C$TzA,C$Tzo=C$Tzw*C$TzB-C$TzE*C$Tzp,C$Tza=C$Tzw*C$TzR-C$TzM*C$Tzp,C$Tzu=C$Tzw*C$TzP-C$TzI*C$Tzp,C$Tz_=C$TzE*C$TzR-C$TzM*C$TzB,C$Tzd=C$TzE*C$TzP-C$TzI*C$TzB,C$Tzf=C$TzM*C$TzP-C$TzI*C$TzR,C$Tzc=C$Tzt*C$Tzf-C$Tze*C$Tzd+C$Tzi*C$Tz_+C$Tzn*C$Tzu-C$Tzr*C$Tza+C$Tzs*C$Tzo;if(0==C$Tzc)return null;var C$Tzl=C$Tzh.m;return C$Tzl[0]=(C$Tzb*C$Tzf-C$TzA*C$Tzd+C$TzC*C$Tz_)*(C$Tzc=1/C$Tzc),C$Tzl[1]=(C$Tzg*C$Tzd-C$Tzy*C$Tzf-C$Tzv*C$Tz_)*C$Tzc,C$Tzl[2]=(C$TzB*C$Tzs-C$TzR*C$Tzr+C$TzP*C$Tzn)*C$Tzc,C$Tzl[3]=(C$TzM*C$Tzr-C$TzE*C$Tzs-C$TzI*C$Tzn)*C$Tzc,C$Tzl[4]=(C$TzA*C$Tzu-C$Tzx*C$Tzf-C$TzC*C$Tza)*C$Tzc,C$Tzl[5]=(C$Tzm*C$Tzf-C$Tzg*C$Tzu+C$Tzv*C$Tza)*C$Tzc,C$Tzl[6]=(C$TzR*C$Tzi-C$Tzp*C$Tzs-C$TzP*C$Tze)*C$Tzc,C$Tzl[7]=(C$Tzw*C$Tzs-C$TzM*C$Tzi+C$TzI*C$Tze)*C$Tzc,C$Tzl[8]=(C$Tzx*C$Tzd-C$Tzb*C$Tzu+C$TzC*C$Tzo)*C$Tzc,C$Tzl[9]=(C$Tzy*C$Tzu-C$Tzm*C$Tzd-C$Tzv*C$Tzo)*C$Tzc,C$Tzl[10]=(C$Tzp*C$Tzr-C$TzB*C$Tzi+C$TzP*C$Tzt)*C$Tzc,C$Tzl[11]=(C$TzE*C$Tzi-C$Tzw*C$Tzr-C$TzI*C$Tzt)*C$Tzc,C$Tzl[12]=(C$Tzb*C$Tza-C$Tzx*C$Tz_-C$TzA*C$Tzo)*C$Tzc,C$Tzl[13]=(C$Tzm*C$Tz_-C$Tzy*C$Tza+C$Tzg*C$Tzo)*C$Tzc,C$Tzl[14]=(C$TzB*C$Tze-C$Tzp*C$Tzn-C$TzR*C$Tzt)*C$Tzc,C$Tzl[15]=(C$Tzw*C$Tzn-C$TzE*C$Tze+C$TzM*C$Tzt)*C$Tzc,C$Tzh;},C$Tzn.determinant=function(C$Tzt){C$Tzt=C$Tzt.m;return C$Tzm=C$Tzt[0],C$Tzy=C$Tzt[1],C$Tzg=C$Tzt[2],C$Tzv=C$Tzt[3],C$Tzx=C$Tzt[4],C$Tzb=C$Tzt[5],C$TzA=C$Tzt[6],C$TzC=C$Tzt[7],C$Tzw=C$Tzt[8],C$TzE=C$Tzt[9],C$TzM=C$Tzt[10],C$TzI=C$Tzt[11],C$Tzp=C$Tzt[12],C$TzB=C$Tzt[13],C$TzR=C$Tzt[14],C$TzP=C$Tzt[15],(C$Tzm*C$Tzb-C$Tzy*C$Tzx)*(C$TzM*C$TzP-C$TzI*C$TzR)-(C$Tzm*C$TzA-C$Tzg*C$Tzx)*(C$TzE*C$TzP-C$TzI*C$TzB)+(C$Tzm*C$TzC-C$Tzv*C$Tzx)*(C$TzE*C$TzR-C$TzM*C$TzB)+(C$Tzy*C$TzA-C$Tzg*C$Tzb)*(C$Tzw*C$TzP-C$TzI*C$Tzp)-(C$Tzy*C$TzC-C$Tzv*C$Tzb)*(C$Tzw*C$TzR-C$TzM*C$Tzp)+(C$Tzg*C$TzC-C$Tzv*C$TzA)*(C$Tzw*C$TzB-C$TzE*C$Tzp);},C$Tzn.multiply=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.m,C$Tze=C$Tze.m,C$Tzi=C$Tzi.m,C$Tze=(C$Tzm=C$Tze[0],C$Tzy=C$Tze[1],C$Tzg=C$Tze[2],C$Tzv=C$Tze[3],C$Tzx=C$Tze[4],C$Tzb=C$Tze[5],C$TzA=C$Tze[6],C$TzC=C$Tze[7],C$Tzw=C$Tze[8],C$TzE=C$Tze[9],C$TzM=C$Tze[10],C$TzI=C$Tze[11],C$Tzp=C$Tze[12],C$TzB=C$Tze[13],C$TzR=C$Tze[14],C$TzP=C$Tze[15],C$Tzi[0]),C$Tzr=C$Tzi[1],C$Tzs=C$Tzi[2],C$Tzo=C$Tzi[3];return C$Tzn[0]=C$Tze*C$Tzm+C$Tzr*C$Tzx+C$Tzs*C$Tzw+C$Tzo*C$Tzp,C$Tzn[1]=C$Tze*C$Tzy+C$Tzr*C$Tzb+C$Tzs*C$TzE+C$Tzo*C$TzB,C$Tzn[2]=C$Tze*C$Tzg+C$Tzr*C$TzA+C$Tzs*C$TzM+C$Tzo*C$TzR,C$Tzn[3]=C$Tze*C$Tzv+C$Tzr*C$TzC+C$Tzs*C$TzI+C$Tzo*C$TzP,C$Tze=C$Tzi[4],C$Tzr=C$Tzi[5],C$Tzs=C$Tzi[6],C$Tzo=C$Tzi[7],C$Tzn[4]=C$Tze*C$Tzm+C$Tzr*C$Tzx+C$Tzs*C$Tzw+C$Tzo*C$Tzp,C$Tzn[5]=C$Tze*C$Tzy+C$Tzr*C$Tzb+C$Tzs*C$TzE+C$Tzo*C$TzB,C$Tzn[6]=C$Tze*C$Tzg+C$Tzr*C$TzA+C$Tzs*C$TzM+C$Tzo*C$TzR,C$Tzn[7]=C$Tze*C$Tzv+C$Tzr*C$TzC+C$Tzs*C$TzI+C$Tzo*C$TzP,C$Tze=C$Tzi[8],C$Tzr=C$Tzi[9],C$Tzs=C$Tzi[10],C$Tzo=C$Tzi[11],C$Tzn[8]=C$Tze*C$Tzm+C$Tzr*C$Tzx+C$Tzs*C$Tzw+C$Tzo*C$Tzp,C$Tzn[9]=C$Tze*C$Tzy+C$Tzr*C$Tzb+C$Tzs*C$TzE+C$Tzo*C$TzB,C$Tzn[10]=C$Tze*C$Tzg+C$Tzr*C$TzA+C$Tzs*C$TzM+C$Tzo*C$TzR,C$Tzn[11]=C$Tze*C$Tzv+C$Tzr*C$TzC+C$Tzs*C$TzI+C$Tzo*C$TzP,C$Tze=C$Tzi[12],C$Tzr=C$Tzi[13],C$Tzs=C$Tzi[14],C$Tzo=C$Tzi[15],C$Tzn[12]=C$Tze*C$Tzm+C$Tzr*C$Tzx+C$Tzs*C$Tzw+C$Tzo*C$Tzp,C$Tzn[13]=C$Tze*C$Tzy+C$Tzr*C$Tzb+C$Tzs*C$TzE+C$Tzo*C$TzB,C$Tzn[14]=C$Tze*C$Tzg+C$Tzr*C$TzA+C$Tzs*C$TzM+C$Tzo*C$TzR,C$Tzn[15]=C$Tze*C$Tzv+C$Tzr*C$TzC+C$Tzs*C$TzI+C$Tzo*C$TzP,C$Tzt;},C$Tzn.transform=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzi.x,C$Tzr=C$Tzi.y,C$Tzi=C$Tzi.z,C$Tzs=C$Tzt.m,C$Tzo=C$Tze.m;return C$Tze===C$Tzt?(C$Tzs[12]=C$Tzo[0]*C$Tzn+C$Tzo[4]*C$Tzr+C$Tzo[8]*C$Tzi+C$Tzo[12],C$Tzs[13]=C$Tzo[1]*C$Tzn+C$Tzo[5]*C$Tzr+C$Tzo[9]*C$Tzi+C$Tzo[13],C$Tzs[14]=C$Tzo[2]*C$Tzn+C$Tzo[6]*C$Tzr+C$Tzo[10]*C$Tzi+C$Tzo[14],C$Tzs[15]=C$Tzo[3]*C$Tzn+C$Tzo[7]*C$Tzr+C$Tzo[11]*C$Tzi+C$Tzo[15]):(C$Tzm=C$Tzo[0],C$Tzy=C$Tzo[1],C$Tzg=C$Tzo[2],C$Tzv=C$Tzo[3],C$Tzx=C$Tzo[4],C$Tzb=C$Tzo[5],C$TzA=C$Tzo[6],C$TzC=C$Tzo[7],C$Tzw=C$Tzo[8],C$TzE=C$Tzo[9],C$TzM=C$Tzo[10],C$TzI=C$Tzo[11],C$Tzp=C$Tzo[12],C$TzB=C$Tzo[13],C$TzR=C$Tzo[14],C$TzP=C$Tzo[15],C$Tzs[0]=C$Tzm,C$Tzs[1]=C$Tzy,C$Tzs[2]=C$Tzg,C$Tzs[3]=C$Tzv,C$Tzs[4]=C$Tzx,C$Tzs[5]=C$Tzb,C$Tzs[6]=C$TzA,C$Tzs[7]=C$TzC,C$Tzs[8]=C$Tzw,C$Tzs[9]=C$TzE,C$Tzs[10]=C$TzM,C$Tzs[11]=C$TzI,C$Tzs[12]=C$Tzm*C$Tzn+C$Tzx*C$Tzr+C$Tzw*C$Tzi+C$Tzo[12],C$Tzs[13]=C$Tzy*C$Tzn+C$Tzb*C$Tzr+C$TzE*C$Tzi+C$Tzo[13],C$Tzs[14]=C$Tzg*C$Tzn+C$TzA*C$Tzr+C$TzM*C$Tzi+C$Tzo[14],C$Tzs[15]=C$Tzv*C$Tzn+C$TzC*C$Tzr+C$TzI*C$Tzi+C$Tzo[15]),C$Tzt;},C$Tzn.translate=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.m,C$Tzr=C$Tze.m;return C$Tze===C$Tzt?(C$Tzn[12]+=C$Tzi.x,C$Tzn[13]+=C$Tzi.y,C$Tzn[14]+=C$Tzi.z):(C$Tzn[0]=C$Tzr[0],C$Tzn[1]=C$Tzr[1],C$Tzn[2]=C$Tzr[2],C$Tzn[3]=C$Tzr[3],C$Tzn[4]=C$Tzr[4],C$Tzn[5]=C$Tzr[5],C$Tzn[6]=C$Tzr[6],C$Tzn[7]=C$Tzr[7],C$Tzn[8]=C$Tzr[8],C$Tzn[9]=C$Tzr[9],C$Tzn[10]=C$Tzr[10],C$Tzn[11]=C$Tzr[11],C$Tzn[12]+=C$Tzi.x,C$Tzn[13]+=C$Tzi.y,C$Tzn[14]+=C$Tzi.z,C$Tzn[15]=C$Tzr[15]),C$Tzt;},C$Tzn.scale=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzi.x,C$Tzr=C$Tzi.y,C$Tzi=C$Tzi.z,C$Tzs=C$Tzt.m,C$Tze=C$Tze.m;return C$Tzs[0]=C$Tze[0]*C$Tzn,C$Tzs[1]=C$Tze[1]*C$Tzn,C$Tzs[2]=C$Tze[2]*C$Tzn,C$Tzs[3]=C$Tze[3]*C$Tzn,C$Tzs[4]=C$Tze[4]*C$Tzr,C$Tzs[5]=C$Tze[5]*C$Tzr,C$Tzs[6]=C$Tze[6]*C$Tzr,C$Tzs[7]=C$Tze[7]*C$Tzr,C$Tzs[8]=C$Tze[8]*C$Tzi,C$Tzs[9]=C$Tze[9]*C$Tzi,C$Tzs[10]=C$Tze[10]*C$Tzi,C$Tzs[11]=C$Tze[11]*C$Tzi,C$Tzs[12]=C$Tze[12],C$Tzs[13]=C$Tze[13],C$Tzs[14]=C$Tze[14],C$Tzs[15]=C$Tze[15],C$Tzt;},C$Tzn.rotate=function(C$Tzh,C$Tzu,C$Tzt,C$Tze){var C$Tzi=C$Tze.x,C$Tzn=C$Tze.y,C$Tze=C$Tze.z,C$Tzr=Math.sqrt(C$Tzi*C$Tzi+C$Tzn*C$Tzn+C$Tze*C$Tze);if(Math.abs(C$Tzr)<C$TzS.EPSILON)return null;C$Tzi*=C$Tzr=1/C$Tzr,C$Tzn*=C$Tzr,C$Tze*=C$Tzr;var C$Tzr=Math.sin(C$Tzt),C$Tzt=Math.cos(C$Tzt),C$Tzs=1-C$Tzt,C$Tzo=C$Tzu.m,C$Tza=(C$Tzm=C$Tzo[0],C$Tzy=C$Tzo[1],C$Tzg=C$Tzo[2],C$Tzv=C$Tzo[3],C$Tzx=C$Tzo[4],C$Tzb=C$Tzo[5],C$TzA=C$Tzo[6],C$TzC=C$Tzo[7],C$Tzw=C$Tzo[8],C$TzE=C$Tzo[9],C$TzM=C$Tzo[10],C$TzI=C$Tzo[11],C$Tzi*C$Tzi*C$Tzs+C$Tzt),C$Tzc=C$Tzn*C$Tzi*C$Tzs+C$Tze*C$Tzr,C$Tzl=C$Tze*C$Tzi*C$Tzs-C$Tzn*C$Tzr,C$Tz_=C$Tzi*C$Tzn*C$Tzs-C$Tze*C$Tzr,C$Tzd=C$Tzn*C$Tzn*C$Tzs+C$Tzt,C$Tzf=C$Tze*C$Tzn*C$Tzs+C$Tzi*C$Tzr,C$Tzp=C$Tzi*C$Tze*C$Tzs+C$Tzn*C$Tzr,C$Tzn=C$Tzn*C$Tze*C$Tzs-C$Tzi*C$Tzr,C$Tzi=C$Tze*C$Tze*C$Tzs+C$Tzt,C$Tzr=C$Tzh.m;return C$Tzr[0]=C$Tzm*C$Tza+C$Tzx*C$Tzc+C$Tzw*C$Tzl,C$Tzr[1]=C$Tzy*C$Tza+C$Tzb*C$Tzc+C$TzE*C$Tzl,C$Tzr[2]=C$Tzg*C$Tza+C$TzA*C$Tzc+C$TzM*C$Tzl,C$Tzr[3]=C$Tzv*C$Tza+C$TzC*C$Tzc+C$TzI*C$Tzl,C$Tzr[4]=C$Tzm*C$Tz_+C$Tzx*C$Tzd+C$Tzw*C$Tzf,C$Tzr[5]=C$Tzy*C$Tz_+C$Tzb*C$Tzd+C$TzE*C$Tzf,C$Tzr[6]=C$Tzg*C$Tz_+C$TzA*C$Tzd+C$TzM*C$Tzf,C$Tzr[7]=C$Tzv*C$Tz_+C$TzC*C$Tzd+C$TzI*C$Tzf,C$Tzr[8]=C$Tzm*C$Tzp+C$Tzx*C$Tzn+C$Tzw*C$Tzi,C$Tzr[9]=C$Tzy*C$Tzp+C$Tzb*C$Tzn+C$TzE*C$Tzi,C$Tzr[10]=C$Tzg*C$Tzp+C$TzA*C$Tzn+C$TzM*C$Tzi,C$Tzr[11]=C$Tzv*C$Tzp+C$TzC*C$Tzn+C$TzI*C$Tzi,C$Tzu!==C$Tzh&&(C$Tzr[12]=C$Tzo[12],C$Tzr[13]=C$Tzo[13],C$Tzr[14]=C$Tzo[14],C$Tzr[15]=C$Tzo[15]),C$Tzh;},C$Tzn.rotateX=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.m,C$Tzr=C$Tze.m,C$Tzs=Math.sin(C$Tzi),C$Tzi=Math.cos(C$Tzi),C$Tzo=C$Tzr[4],C$Tza=C$Tzr[5],C$Tzc=C$Tzr[6],C$Tzl=C$Tzr[7],C$Tzh=C$Tzr[8],C$Tzu=C$Tzr[9],C$Tz_=C$Tzr[10],C$Tzd=C$Tzr[11];return C$Tze!==C$Tzt&&(C$Tzn[0]=C$Tzr[0],C$Tzn[1]=C$Tzr[1],C$Tzn[2]=C$Tzr[2],C$Tzn[3]=C$Tzr[3],C$Tzn[12]=C$Tzr[12],C$Tzn[13]=C$Tzr[13],C$Tzn[14]=C$Tzr[14],C$Tzn[15]=C$Tzr[15]),C$Tzn[4]=C$Tzo*C$Tzi+C$Tzh*C$Tzs,C$Tzn[5]=C$Tza*C$Tzi+C$Tzu*C$Tzs,C$Tzn[6]=C$Tzc*C$Tzi+C$Tz_*C$Tzs,C$Tzn[7]=C$Tzl*C$Tzi+C$Tzd*C$Tzs,C$Tzn[8]=C$Tzh*C$Tzi-C$Tzo*C$Tzs,C$Tzn[9]=C$Tzu*C$Tzi-C$Tza*C$Tzs,C$Tzn[10]=C$Tz_*C$Tzi-C$Tzc*C$Tzs,C$Tzn[11]=C$Tzd*C$Tzi-C$Tzl*C$Tzs,C$Tzt;},C$Tzn.rotateY=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.m,C$Tzr=C$Tze.m,C$Tzs=Math.sin(C$Tzi),C$Tzi=Math.cos(C$Tzi),C$Tzo=C$Tzr[0],C$Tza=C$Tzr[1],C$Tzc=C$Tzr[2],C$Tzl=C$Tzr[3],C$Tzh=C$Tzr[8],C$Tzu=C$Tzr[9],C$Tz_=C$Tzr[10],C$Tzd=C$Tzr[11];return C$Tze!==C$Tzt&&(C$Tzn[4]=C$Tzr[4],C$Tzn[5]=C$Tzr[5],C$Tzn[6]=C$Tzr[6],C$Tzn[7]=C$Tzr[7],C$Tzn[12]=C$Tzr[12],C$Tzn[13]=C$Tzr[13],C$Tzn[14]=C$Tzr[14],C$Tzn[15]=C$Tzr[15]),C$Tzn[0]=C$Tzo*C$Tzi-C$Tzh*C$Tzs,C$Tzn[1]=C$Tza*C$Tzi-C$Tzu*C$Tzs,C$Tzn[2]=C$Tzc*C$Tzi-C$Tz_*C$Tzs,C$Tzn[3]=C$Tzl*C$Tzi-C$Tzd*C$Tzs,C$Tzn[8]=C$Tzo*C$Tzs+C$Tzh*C$Tzi,C$Tzn[9]=C$Tza*C$Tzs+C$Tzu*C$Tzi,C$Tzn[10]=C$Tzc*C$Tzs+C$Tz_*C$Tzi,C$Tzn[11]=C$Tzl*C$Tzs+C$Tzd*C$Tzi,C$Tzt;},C$Tzn.rotateZ=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tze.m,C$Tzr=C$Tzt.m,C$Tzs=Math.sin(C$Tzi),C$Tzi=Math.cos(C$Tzi),C$Tzo=C$Tze.m[0],C$Tza=C$Tze.m[1],C$Tzc=C$Tze.m[2],C$Tzl=C$Tze.m[3],C$Tzh=C$Tze.m[4],C$Tzu=C$Tze.m[5],C$Tz_=C$Tze.m[6],C$Tzd=C$Tze.m[7];return C$Tze!==C$Tzt&&(C$Tzr[8]=C$Tzn[8],C$Tzr[9]=C$Tzn[9],C$Tzr[10]=C$Tzn[10],C$Tzr[11]=C$Tzn[11],C$Tzr[12]=C$Tzn[12],C$Tzr[13]=C$Tzn[13],C$Tzr[14]=C$Tzn[14],C$Tzr[15]=C$Tzn[15]),C$Tzr[0]=C$Tzo*C$Tzi+C$Tzh*C$Tzs,C$Tzr[1]=C$Tza*C$Tzi+C$Tzu*C$Tzs,C$Tzr[2]=C$Tzc*C$Tzi+C$Tz_*C$Tzs,C$Tzr[3]=C$Tzl*C$Tzi+C$Tzd*C$Tzs,C$Tzr[4]=C$Tzh*C$Tzi-C$Tzo*C$Tzs,C$Tzr[5]=C$Tzu*C$Tzi-C$Tza*C$Tzs,C$Tzr[6]=C$Tz_*C$Tzi-C$Tzc*C$Tzs,C$Tzr[7]=C$Tzd*C$Tzi-C$Tzl*C$Tzs,C$Tzt;},C$Tzn.fromTranslation=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.m;return C$Tzi[0]=1,C$Tzi[1]=0,C$Tzi[2]=0,C$Tzi[3]=0,C$Tzi[4]=0,C$Tzi[5]=1,C$Tzi[6]=0,C$Tzi[7]=0,C$Tzi[8]=0,C$Tzi[9]=0,C$Tzi[10]=1,C$Tzi[11]=0,C$Tzi[12]=C$Tze.x,C$Tzi[13]=C$Tze.y,C$Tzi[14]=C$Tze.z,C$Tzi[15]=1,C$Tzt;},C$Tzn.fromScaling=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.m;return C$Tzi[0]=C$Tze.x,C$Tzi[1]=0,C$Tzi[2]=0,C$Tzi[3]=0,C$Tzi[4]=0,C$Tzi[5]=C$Tze.y,C$Tzi[6]=0,C$Tzi[7]=0,C$Tzi[8]=0,C$Tzi[9]=0,C$Tzi[10]=C$Tze.z,C$Tzi[11]=0,C$Tzi[12]=0,C$Tzi[13]=0,C$Tzi[14]=0,C$Tzi[15]=1,C$Tzt;},C$Tzn.fromRotation=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzi.x,C$Tzr=C$Tzi.y,C$Tzi=C$Tzi.z,C$Tzs=Math.sqrt(C$Tzn*C$Tzn+C$Tzr*C$Tzr+C$Tzi*C$Tzi);if(Math.abs(C$Tzs)<C$TzS.EPSILON)return null;C$Tzn*=C$Tzs=1/C$Tzs,C$Tzr*=C$Tzs,C$Tzi*=C$Tzs;var C$Tzs=Math.sin(C$Tze),C$Tze=Math.cos(C$Tze),C$Tzo=1-C$Tze,C$Tza=C$Tzt.m;return C$Tza[0]=C$Tzn*C$Tzn*C$Tzo+C$Tze,C$Tza[1]=C$Tzr*C$Tzn*C$Tzo+C$Tzi*C$Tzs,C$Tza[2]=C$Tzi*C$Tzn*C$Tzo-C$Tzr*C$Tzs,C$Tza[3]=0,C$Tza[4]=C$Tzn*C$Tzr*C$Tzo-C$Tzi*C$Tzs,C$Tza[5]=C$Tzr*C$Tzr*C$Tzo+C$Tze,C$Tza[6]=C$Tzi*C$Tzr*C$Tzo+C$Tzn*C$Tzs,C$Tza[7]=0,C$Tza[8]=C$Tzn*C$Tzi*C$Tzo+C$Tzr*C$Tzs,C$Tza[9]=C$Tzr*C$Tzi*C$Tzo-C$Tzn*C$Tzs,C$Tza[10]=C$Tzi*C$Tzi*C$Tzo+C$Tze,C$Tza[11]=0,C$Tza[12]=0,C$Tza[13]=0,C$Tza[14]=0,C$Tza[15]=1,C$Tzt;},C$Tzn.fromXRotation=function(C$Tzt,C$Tze){var C$Tzi=Math.sin(C$Tze),C$Tze=Math.cos(C$Tze),C$Tzn=C$Tzt.m;return C$Tzn[0]=1,C$Tzn[1]=0,C$Tzn[2]=0,C$Tzn[3]=0,C$Tzn[4]=0,C$Tzn[5]=C$Tze,C$Tzn[6]=C$Tzi,C$Tzn[7]=0,C$Tzn[8]=0,C$Tzn[9]=-C$Tzi,C$Tzn[10]=C$Tze,C$Tzn[11]=0,C$Tzn[12]=0,C$Tzn[13]=0,C$Tzn[14]=0,C$Tzn[15]=1,C$Tzt;},C$Tzn.fromYRotation=function(C$Tzt,C$Tze){var C$Tzi=Math.sin(C$Tze),C$Tze=Math.cos(C$Tze),C$Tzn=C$Tzt.m;return C$Tzn[0]=C$Tze,C$Tzn[1]=0,C$Tzn[2]=-C$Tzi,C$Tzn[3]=0,C$Tzn[4]=0,C$Tzn[5]=1,C$Tzn[6]=0,C$Tzn[7]=0,C$Tzn[8]=C$Tzi,C$Tzn[9]=0,C$Tzn[10]=C$Tze,C$Tzn[11]=0,C$Tzn[12]=0,C$Tzn[13]=0,C$Tzn[14]=0,C$Tzn[15]=1,C$Tzt;},C$Tzn.fromZRotation=function(C$Tzt,C$Tze){var C$Tzi=Math.sin(C$Tze),C$Tze=Math.cos(C$Tze),C$Tzn=C$Tzt.m;return C$Tzn[0]=C$Tze,C$Tzn[1]=C$Tzi,C$Tzn[2]=0,C$Tzn[3]=0,C$Tzn[4]=-C$Tzi,C$Tzn[5]=C$Tze,C$Tzn[6]=0,C$Tzn[7]=0,C$Tzn[8]=0,C$Tzn[9]=0,C$Tzn[10]=1,C$Tzn[11]=0,C$Tzn[12]=0,C$Tzn[13]=0,C$Tzn[14]=0,C$Tzn[15]=1,C$Tzt;},C$Tzn.fromRT=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tze.x,C$Tzr=C$Tze.y,C$Tzs=C$Tze.z,C$Tze=C$Tze.w,C$Tzo=C$Tzn+C$Tzn,C$Tza=C$Tzr+C$Tzr,C$Tzc=C$Tzs+C$Tzs,C$Tzl=C$Tzn*C$Tzo,C$Tzh=C$Tzn*C$Tza,C$Tzn=C$Tzn*C$Tzc,C$Tzu=C$Tzr*C$Tza,C$Tzr=C$Tzr*C$Tzc,C$Tzs=C$Tzs*C$Tzc,C$Tzo=C$Tze*C$Tzo,C$Tza=C$Tze*C$Tza,C$Tze=C$Tze*C$Tzc,C$Tzc=C$Tzt.m;return C$Tzc[0]=1-(C$Tzu+C$Tzs),C$Tzc[1]=C$Tzh+C$Tze,C$Tzc[2]=C$Tzn-C$Tza,C$Tzc[3]=0,C$Tzc[4]=C$Tzh-C$Tze,C$Tzc[5]=1-(C$Tzl+C$Tzs),C$Tzc[6]=C$Tzr+C$Tzo,C$Tzc[7]=0,C$Tzc[8]=C$Tzn+C$Tza,C$Tzc[9]=C$Tzr-C$Tzo,C$Tzc[10]=1-(C$Tzl+C$Tzu),C$Tzc[11]=0,C$Tzc[12]=C$Tzi.x,C$Tzc[13]=C$Tzi.y,C$Tzc[14]=C$Tzi.z,C$Tzc[15]=1,C$Tzt;},C$Tzn.getTranslation=function(C$Tzt,C$Tze){C$Tze=C$Tze.m;return C$Tzt.x=C$Tze[12],C$Tzt.y=C$Tze[13],C$Tzt.z=C$Tze[14],C$Tzt;},C$Tzn.getScaling=function(C$Tzt,C$Tze){var C$Tze=C$Tze.m,C$Tzi=C$Tzd.m,C$Tzn=C$Tzi[0]=C$Tze[0],C$Tzr=C$Tzi[1]=C$Tze[1],C$Tzs=C$Tzi[2]=C$Tze[2],C$Tzo=C$Tzi[3]=C$Tze[4],C$Tza=C$Tzi[4]=C$Tze[5],C$Tzc=C$Tzi[5]=C$Tze[6],C$Tzl=C$Tzi[6]=C$Tze[8],C$Tzh=C$Tzi[7]=C$Tze[9],C$Tzi=C$Tzi[8]=C$Tze[10];return C$Tzt.x=Math.sqrt(C$Tzn*C$Tzn+C$Tzr*C$Tzr+C$Tzs*C$Tzs),C$Tzt.y=Math.sqrt(C$Tzo*C$Tzo+C$Tza*C$Tza+C$Tzc*C$Tzc),C$Tzt.z=Math.sqrt(C$Tzl*C$Tzl+C$Tzh*C$Tzh+C$Tzi*C$Tzi),C$Tzu.default.determinant(C$Tzd)<0&&(C$Tzt.x*=-1),C$Tzt;},C$Tzn.getRotation=function(C$Tzt,C$Tze){var C$Tze=C$Tze.m,C$Tzi=C$Tze[0]+C$Tze[5]+C$Tze[10],C$Tzn=0;return 0<C$Tzi?(C$Tzn=2*Math.sqrt(C$Tzi+1),C$Tzt.w=.25*C$Tzn,C$Tzt.x=(C$Tze[6]-C$Tze[9])/C$Tzn,C$Tzt.y=(C$Tze[8]-C$Tze[2])/C$Tzn,C$Tzt.z=(C$Tze[1]-C$Tze[4])/C$Tzn):C$Tze[0]>C$Tze[5]&&C$Tze[0]>C$Tze[10]?(C$Tzn=2*Math.sqrt(1+C$Tze[0]-C$Tze[5]-C$Tze[10]),C$Tzt.w=(C$Tze[6]-C$Tze[9])/C$Tzn,C$Tzt.x=.25*C$Tzn,C$Tzt.y=(C$Tze[1]+C$Tze[4])/C$Tzn,C$Tzt.z=(C$Tze[8]+C$Tze[2])/C$Tzn):C$Tze[5]>C$Tze[10]?(C$Tzn=2*Math.sqrt(1+C$Tze[5]-C$Tze[0]-C$Tze[10]),C$Tzt.w=(C$Tze[8]-C$Tze[2])/C$Tzn,C$Tzt.x=(C$Tze[1]+C$Tze[4])/C$Tzn,C$Tzt.y=.25*C$Tzn,C$Tzt.z=(C$Tze[6]+C$Tze[9])/C$Tzn):(C$Tzn=2*Math.sqrt(1+C$Tze[10]-C$Tze[0]-C$Tze[5]),C$Tzt.w=(C$Tze[1]-C$Tze[4])/C$Tzn,C$Tzt.x=(C$Tze[8]+C$Tze[2])/C$Tzn,C$Tzt.y=(C$Tze[6]+C$Tze[9])/C$Tzn,C$Tzt.z=.25*C$Tzn),C$Tzt;},C$Tzn.toRTS=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzt=C$Tzt.m,C$Tzr=C$Tzd.m;C$Tzn.x=C$Tzo.default.set(C$Tz_,C$Tzt[0],C$Tzt[1],C$Tzt[2]).mag(),C$Tzr[0]=C$Tzt[0]/C$Tzn.x,C$Tzr[1]=C$Tzt[1]/C$Tzn.x,C$Tzr[2]=C$Tzt[2]/C$Tzn.x,C$Tzn.y=C$Tzo.default.set(C$Tz_,C$Tzt[4],C$Tzt[5],C$Tzt[6]).mag(),C$Tzr[3]=C$Tzt[4]/C$Tzn.y,C$Tzr[4]=C$Tzt[5]/C$Tzn.y,C$Tzr[5]=C$Tzt[6]/C$Tzn.y,C$Tzn.z=C$Tzo.default.set(C$Tz_,C$Tzt[8],C$Tzt[9],C$Tzt[10]).mag(),C$Tzr[6]=C$Tzt[8]/C$Tzn.z,C$Tzr[7]=C$Tzt[9]/C$Tzn.z,C$Tzr[8]=C$Tzt[10]/C$Tzn.z,C$Tzu.default.determinant(C$Tzd)<0&&(C$Tzn.x*=-1,C$Tzr[0]*=-1,C$Tzr[1]*=-1,C$Tzr[2]*=-1),C$Tza.default.fromMat3(C$Tze,C$Tzd),C$Tzo.default.set(C$Tzi,C$Tzt[12],C$Tzt[13],C$Tzt[14]);},C$Tzn.fromRTS=function(C$Tzh,C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.x,C$Tzr=C$Tzt.y,C$Tzs=C$Tzt.z,C$Tzt=C$Tzt.w,C$Tzo=C$Tzn+C$Tzn,C$Tza=C$Tzr+C$Tzr,C$Tzc=C$Tzs+C$Tzs,C$Tzu=C$Tzn*C$Tzo,C$Tz_=C$Tzn*C$Tza,C$Tzn=C$Tzn*C$Tzc,C$Tzd=C$Tzr*C$Tza,C$Tzr=C$Tzr*C$Tzc,C$Tzs=C$Tzs*C$Tzc,C$Tzo=C$Tzt*C$Tzo,C$Tza=C$Tzt*C$Tza,C$Tzt=C$Tzt*C$Tzc,C$Tzc=C$Tzi.x,C$Tzf=C$Tzi.y,C$Tzi=C$Tzi.z,C$Tzl=C$Tzh.m;return C$Tzl[0]=(1-(C$Tzd+C$Tzs))*C$Tzc,C$Tzl[1]=(C$Tz_+C$Tzt)*C$Tzc,C$Tzl[2]=(C$Tzn-C$Tza)*C$Tzc,C$Tzl[3]=0,C$Tzl[4]=(C$Tz_-C$Tzt)*C$Tzf,C$Tzl[5]=(1-(C$Tzu+C$Tzs))*C$Tzf,C$Tzl[6]=(C$Tzr+C$Tzo)*C$Tzf,C$Tzl[7]=0,C$Tzl[8]=(C$Tzn+C$Tza)*C$Tzi,C$Tzl[9]=(C$Tzr-C$Tzo)*C$Tzi,C$Tzl[10]=(1-(C$Tzu+C$Tzd))*C$Tzi,C$Tzl[11]=0,C$Tzl[12]=C$Tze.x,C$Tzl[13]=C$Tze.y,C$Tzl[14]=C$Tze.z,C$Tzl[15]=1,C$Tzh;},C$Tzn.fromRTSOrigin=function(C$Tzh,C$Tzt,C$Tzu,C$Tze,C$Tzi){var C$Tzn=C$Tzt.x,C$Tzr=C$Tzt.y,C$Tzs=C$Tzt.z,C$Tzt=C$Tzt.w,C$Tzo=C$Tzn+C$Tzn,C$Tza=C$Tzr+C$Tzr,C$Tzc=C$Tzs+C$Tzs,C$Tz_=C$Tzn*C$Tzo,C$Tzd=C$Tzn*C$Tza,C$Tzn=C$Tzn*C$Tzc,C$Tzf=C$Tzr*C$Tza,C$Tzr=C$Tzr*C$Tzc,C$Tzs=C$Tzs*C$Tzc,C$Tzo=C$Tzt*C$Tzo,C$Tza=C$Tzt*C$Tza,C$Tzt=C$Tzt*C$Tzc,C$Tzc=C$Tze.x,C$Tzp=C$Tze.y,C$Tze=C$Tze.z,C$Tzm=C$Tzi.x,C$Tzy=C$Tzi.y,C$Tzi=C$Tzi.z,C$Tzl=C$Tzh.m;return C$Tzl[0]=(1-(C$Tzf+C$Tzs))*C$Tzc,C$Tzl[1]=(C$Tzd+C$Tzt)*C$Tzc,C$Tzl[2]=(C$Tzn-C$Tza)*C$Tzc,C$Tzl[3]=0,C$Tzl[4]=(C$Tzd-C$Tzt)*C$Tzp,C$Tzl[5]=(1-(C$Tz_+C$Tzs))*C$Tzp,C$Tzl[6]=(C$Tzr+C$Tzo)*C$Tzp,C$Tzl[7]=0,C$Tzl[8]=(C$Tzn+C$Tza)*C$Tze,C$Tzl[9]=(C$Tzr-C$Tzo)*C$Tze,C$Tzl[10]=(1-(C$Tz_+C$Tzf))*C$Tze,C$Tzl[11]=0,C$Tzl[12]=C$Tzu.x+C$Tzm-(C$Tzl[0]*C$Tzm+C$Tzl[4]*C$Tzy+C$Tzl[8]*C$Tzi),C$Tzl[13]=C$Tzu.y+C$Tzy-(C$Tzl[1]*C$Tzm+C$Tzl[5]*C$Tzy+C$Tzl[9]*C$Tzi),C$Tzl[14]=C$Tzu.z+C$Tzi-(C$Tzl[2]*C$Tzm+C$Tzl[6]*C$Tzy+C$Tzl[10]*C$Tzi),C$Tzl[15]=1,C$Tzh;},C$Tzn.fromQuat=function(C$Tzt,C$Tze){var C$Tzi=C$Tze.x,C$Tzn=C$Tze.y,C$Tzr=C$Tze.z,C$Tze=C$Tze.w,C$Tzs=C$Tzi+C$Tzi,C$Tzo=C$Tzn+C$Tzn,C$Tza=C$Tzr+C$Tzr,C$Tzi=C$Tzi*C$Tzs,C$Tzc=C$Tzn*C$Tzs,C$Tzn=C$Tzn*C$Tzo,C$Tzl=C$Tzr*C$Tzs,C$Tzh=C$Tzr*C$Tzo,C$Tzr=C$Tzr*C$Tza,C$Tzs=C$Tze*C$Tzs,C$Tzo=C$Tze*C$Tzo,C$Tze=C$Tze*C$Tza,C$Tza=C$Tzt.m;return C$Tza[0]=1-C$Tzn-C$Tzr,C$Tza[1]=C$Tzc+C$Tze,C$Tza[2]=C$Tzl-C$Tzo,C$Tza[3]=0,C$Tza[4]=C$Tzc-C$Tze,C$Tza[5]=1-C$Tzi-C$Tzr,C$Tza[6]=C$Tzh+C$Tzs,C$Tza[7]=0,C$Tza[8]=C$Tzl+C$Tzo,C$Tza[9]=C$Tzh-C$Tzs,C$Tza[10]=1-C$Tzi-C$Tzn,C$Tza[11]=0,C$Tza[12]=0,C$Tza[13]=0,C$Tza[14]=0,C$Tza[15]=1,C$Tzt;},C$Tzn.frustum=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo){var C$Tza=1/(C$Tzi-C$Tze),C$Tzc=1/(C$Tzr-C$Tzn),C$Tzh=1/(C$Tzs-C$Tzo),C$Tzl=C$Tzt.m;return C$Tzl[0]=2*C$Tzs*C$Tza,C$Tzl[1]=0,C$Tzl[2]=0,C$Tzl[3]=0,C$Tzl[4]=0,C$Tzl[5]=2*C$Tzs*C$Tzc,C$Tzl[6]=0,C$Tzl[7]=0,C$Tzl[8]=(C$Tzi+C$Tze)*C$Tza,C$Tzl[9]=(C$Tzr+C$Tzn)*C$Tzc,C$Tzl[10]=(C$Tzo+C$Tzs)*C$Tzh,C$Tzl[11]=-1,C$Tzl[12]=0,C$Tzl[13]=0,C$Tzl[14]=C$Tzo*C$Tzs*2*C$Tzh,C$Tzl[15]=0,C$Tzt;},C$Tzn.perspective=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tze=1/Math.tan(C$Tze/2),C$Tzs=1/(C$Tzn-C$Tzr),C$Tzo=C$Tzt.m;return C$Tzo[0]=C$Tze/C$Tzi,C$Tzo[1]=0,C$Tzo[2]=0,C$Tzo[3]=0,C$Tzo[4]=0,C$Tzo[5]=C$Tze,C$Tzo[6]=0,C$Tzo[7]=0,C$Tzo[8]=0,C$Tzo[9]=0,C$Tzo[10]=(C$Tzr+C$Tzn)*C$Tzs,C$Tzo[11]=-1,C$Tzo[12]=0,C$Tzo[13]=0,C$Tzo[14]=2*C$Tzr*C$Tzn*C$Tzs,C$Tzo[15]=0,C$Tzt;},C$Tzn.ortho=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo){var C$Tza=1/(C$Tze-C$Tzi),C$Tzc=1/(C$Tzn-C$Tzr),C$Tzh=1/(C$Tzs-C$Tzo),C$Tzl=C$Tzt.m;return C$Tzl[0]=-2*C$Tza,C$Tzl[1]=0,C$Tzl[2]=0,C$Tzl[3]=0,C$Tzl[4]=0,C$Tzl[5]=-2*C$Tzc,C$Tzl[6]=0,C$Tzl[7]=0,C$Tzl[8]=0,C$Tzl[9]=0,C$Tzl[10]=2*C$Tzh,C$Tzl[11]=0,C$Tzl[12]=(C$Tze+C$Tzi)*C$Tza,C$Tzl[13]=(C$Tzr+C$Tzn)*C$Tzc,C$Tzl[14]=(C$Tzo+C$Tzs)*C$Tzh,C$Tzl[15]=1,C$Tzt;},C$Tzn.lookAt=function(C$Tzh,C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.x,C$Tzu=C$Tzt.y,C$Tzt=C$Tzt.z,C$Tzr=C$Tzi.x,C$Tz_=C$Tzi.y,C$Tzi=C$Tzi.z,C$Tzs=C$Tzn-C$Tze.x,C$Tzo=C$Tzu-C$Tze.y,C$Tze=C$Tzt-C$Tze.z,C$Tza=1/Math.sqrt(C$Tzs*C$Tzs+C$Tzo*C$Tzo+C$Tze*C$Tze),C$Tzc=C$Tz_*(C$Tze*=C$Tza)-C$Tzi*(C$Tzo*=C$Tza),C$Tzi=C$Tzi*(C$Tzs*=C$Tza)-C$Tzr*C$Tze,C$Tzr=C$Tzr*C$Tzo-C$Tz_*C$Tzs,C$Tz_=(C$Tzc*=C$Tza=1/Math.sqrt(C$Tzc*C$Tzc+C$Tzi*C$Tzi+C$Tzr*C$Tzr),C$Tzo*(C$Tzr*=C$Tza)-C$Tze*(C$Tzi*=C$Tza)),C$Tza=C$Tze*C$Tzc-C$Tzs*C$Tzr,C$Tzd=C$Tzs*C$Tzi-C$Tzo*C$Tzc,C$Tzl=C$Tzh.m;return C$Tzl[0]=C$Tzc,C$Tzl[1]=C$Tz_,C$Tzl[2]=C$Tzs,C$Tzl[3]=0,C$Tzl[4]=C$Tzi,C$Tzl[5]=C$Tza,C$Tzl[6]=C$Tzo,C$Tzl[7]=0,C$Tzl[8]=C$Tzr,C$Tzl[9]=C$Tzd,C$Tzl[10]=C$Tze,C$Tzl[11]=0,C$Tzl[12]=-(C$Tzc*C$Tzn+C$Tzi*C$Tzu+C$Tzr*C$Tzt),C$Tzl[13]=-(C$Tz_*C$Tzn+C$Tza*C$Tzu+C$Tzd*C$Tzt),C$Tzl[14]=-(C$Tzs*C$Tzn+C$Tzo*C$Tzu+C$Tze*C$Tzt),C$Tzl[15]=1,C$Tzh;},C$Tzn.inverseTranspose=function(C$Tzh,C$Tzt){var C$Tzt=C$Tzt.m,C$Tzu=(C$Tzm=C$Tzt[0],C$Tzy=C$Tzt[1],C$Tzg=C$Tzt[2],C$Tzv=C$Tzt[3],C$Tzx=C$Tzt[4],C$Tzb=C$Tzt[5],C$TzA=C$Tzt[6],C$TzC=C$Tzt[7],C$Tzw=C$Tzt[8],C$TzE=C$Tzt[9],C$TzM=C$Tzt[10],C$TzI=C$Tzt[11],C$Tzp=C$Tzt[12],C$TzB=C$Tzt[13],C$TzR=C$Tzt[14],C$TzP=C$Tzt[15],C$Tzm*C$Tzb-C$Tzy*C$Tzx),C$Tz_=C$Tzm*C$TzA-C$Tzg*C$Tzx,C$Tze=C$Tzm*C$TzC-C$Tzv*C$Tzx,C$Tzd=C$Tzy*C$TzA-C$Tzg*C$Tzb,C$Tzi=C$Tzy*C$TzC-C$Tzv*C$Tzb,C$Tzn=C$Tzg*C$TzC-C$Tzv*C$TzA,C$Tzr=C$Tzw*C$TzB-C$TzE*C$Tzp,C$Tzs=C$Tzw*C$TzR-C$TzM*C$Tzp,C$Tzo=C$Tzw*C$TzP-C$TzI*C$Tzp,C$Tzf=C$TzE*C$TzR-C$TzM*C$TzB,C$Tza=C$TzE*C$TzP-C$TzI*C$TzB,C$Tzc=C$TzM*C$TzP-C$TzI*C$TzR,C$Tzl=C$Tzu*C$Tzc-C$Tz_*C$Tza+C$Tze*C$Tzf+C$Tzd*C$Tzo-C$Tzi*C$Tzs+C$Tzn*C$Tzr;return C$Tzl?((C$Tzt=C$Tzh.m)[0]=(C$Tzb*C$Tzc-C$TzA*C$Tza+C$TzC*C$Tzf)*(C$Tzl=1/C$Tzl),C$Tzt[1]=(C$TzA*C$Tzo-C$Tzx*C$Tzc-C$TzC*C$Tzs)*C$Tzl,C$Tzt[2]=(C$Tzx*C$Tza-C$Tzb*C$Tzo+C$TzC*C$Tzr)*C$Tzl,C$Tzt[3]=0,C$Tzt[4]=(C$Tzg*C$Tza-C$Tzy*C$Tzc-C$Tzv*C$Tzf)*C$Tzl,C$Tzt[5]=(C$Tzm*C$Tzc-C$Tzg*C$Tzo+C$Tzv*C$Tzs)*C$Tzl,C$Tzt[6]=(C$Tzy*C$Tzo-C$Tzm*C$Tza-C$Tzv*C$Tzr)*C$Tzl,C$Tzt[7]=0,C$Tzt[8]=(C$TzB*C$Tzn-C$TzR*C$Tzi+C$TzP*C$Tzd)*C$Tzl,C$Tzt[9]=(C$TzR*C$Tze-C$Tzp*C$Tzn-C$TzP*C$Tz_)*C$Tzl,C$Tzt[10]=(C$Tzp*C$Tzi-C$TzB*C$Tze+C$TzP*C$Tzu)*C$Tzl,C$Tzt[11]=0,C$Tzt[12]=0,C$Tzt[13]=0,C$Tzt[14]=0,C$Tzt[15]=1,C$Tzh):null;},C$Tzn.add=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.m,C$Tze=C$Tze.m,C$Tzi=C$Tzi.m;return C$Tzn[0]=C$Tze[0]+C$Tzi[0],C$Tzn[1]=C$Tze[1]+C$Tzi[1],C$Tzn[2]=C$Tze[2]+C$Tzi[2],C$Tzn[3]=C$Tze[3]+C$Tzi[3],C$Tzn[4]=C$Tze[4]+C$Tzi[4],C$Tzn[5]=C$Tze[5]+C$Tzi[5],C$Tzn[6]=C$Tze[6]+C$Tzi[6],C$Tzn[7]=C$Tze[7]+C$Tzi[7],C$Tzn[8]=C$Tze[8]+C$Tzi[8],C$Tzn[9]=C$Tze[9]+C$Tzi[9],C$Tzn[10]=C$Tze[10]+C$Tzi[10],C$Tzn[11]=C$Tze[11]+C$Tzi[11],C$Tzn[12]=C$Tze[12]+C$Tzi[12],C$Tzn[13]=C$Tze[13]+C$Tzi[13],C$Tzn[14]=C$Tze[14]+C$Tzi[14],C$Tzn[15]=C$Tze[15]+C$Tzi[15],C$Tzt;},C$Tzn.subtract=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.m,C$Tze=C$Tze.m,C$Tzi=C$Tzi.m;return C$Tzn[0]=C$Tze[0]-C$Tzi[0],C$Tzn[1]=C$Tze[1]-C$Tzi[1],C$Tzn[2]=C$Tze[2]-C$Tzi[2],C$Tzn[3]=C$Tze[3]-C$Tzi[3],C$Tzn[4]=C$Tze[4]-C$Tzi[4],C$Tzn[5]=C$Tze[5]-C$Tzi[5],C$Tzn[6]=C$Tze[6]-C$Tzi[6],C$Tzn[7]=C$Tze[7]-C$Tzi[7],C$Tzn[8]=C$Tze[8]-C$Tzi[8],C$Tzn[9]=C$Tze[9]-C$Tzi[9],C$Tzn[10]=C$Tze[10]-C$Tzi[10],C$Tzn[11]=C$Tze[11]-C$Tzi[11],C$Tzn[12]=C$Tze[12]-C$Tzi[12],C$Tzn[13]=C$Tze[13]-C$Tzi[13],C$Tzn[14]=C$Tze[14]-C$Tzi[14],C$Tzn[15]=C$Tze[15]-C$Tzi[15],C$Tzt;},C$Tzn.multiplyScalar=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.m,C$Tze=C$Tze.m;return C$Tzn[0]=C$Tze[0]*C$Tzi,C$Tzn[1]=C$Tze[1]*C$Tzi,C$Tzn[2]=C$Tze[2]*C$Tzi,C$Tzn[3]=C$Tze[3]*C$Tzi,C$Tzn[4]=C$Tze[4]*C$Tzi,C$Tzn[5]=C$Tze[5]*C$Tzi,C$Tzn[6]=C$Tze[6]*C$Tzi,C$Tzn[7]=C$Tze[7]*C$Tzi,C$Tzn[8]=C$Tze[8]*C$Tzi,C$Tzn[9]=C$Tze[9]*C$Tzi,C$Tzn[10]=C$Tze[10]*C$Tzi,C$Tzn[11]=C$Tze[11]*C$Tzi,C$Tzn[12]=C$Tze[12]*C$Tzi,C$Tzn[13]=C$Tze[13]*C$Tzi,C$Tzn[14]=C$Tze[14]*C$Tzi,C$Tzn[15]=C$Tze[15]*C$Tzi,C$Tzt;},C$Tzn.multiplyScalarAndAdd=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tzt.m,C$Tze=C$Tze.m,C$Tzi=C$Tzi.m;return C$Tzr[0]=C$Tze[0]+C$Tzi[0]*C$Tzn,C$Tzr[1]=C$Tze[1]+C$Tzi[1]*C$Tzn,C$Tzr[2]=C$Tze[2]+C$Tzi[2]*C$Tzn,C$Tzr[3]=C$Tze[3]+C$Tzi[3]*C$Tzn,C$Tzr[4]=C$Tze[4]+C$Tzi[4]*C$Tzn,C$Tzr[5]=C$Tze[5]+C$Tzi[5]*C$Tzn,C$Tzr[6]=C$Tze[6]+C$Tzi[6]*C$Tzn,C$Tzr[7]=C$Tze[7]+C$Tzi[7]*C$Tzn,C$Tzr[8]=C$Tze[8]+C$Tzi[8]*C$Tzn,C$Tzr[9]=C$Tze[9]+C$Tzi[9]*C$Tzn,C$Tzr[10]=C$Tze[10]+C$Tzi[10]*C$Tzn,C$Tzr[11]=C$Tze[11]+C$Tzi[11]*C$Tzn,C$Tzr[12]=C$Tze[12]+C$Tzi[12]*C$Tzn,C$Tzr[13]=C$Tze[13]+C$Tzi[13]*C$Tzn,C$Tzr[14]=C$Tze[14]+C$Tzi[14]*C$Tzn,C$Tzr[15]=C$Tze[15]+C$Tzi[15]*C$Tzn,C$Tzt;},C$Tzn.strictEquals=function(C$Tzt,C$Tze){C$Tzt=C$Tzt.m,C$Tze=C$Tze.m;return C$Tzt[0]===C$Tze[0]&&C$Tzt[1]===C$Tze[1]&&C$Tzt[2]===C$Tze[2]&&C$Tzt[3]===C$Tze[3]&&C$Tzt[4]===C$Tze[4]&&C$Tzt[5]===C$Tze[5]&&C$Tzt[6]===C$Tze[6]&&C$Tzt[7]===C$Tze[7]&&C$Tzt[8]===C$Tze[8]&&C$Tzt[9]===C$Tze[9]&&C$Tzt[10]===C$Tze[10]&&C$Tzt[11]===C$Tze[11]&&C$Tzt[12]===C$Tze[12]&&C$Tzt[13]===C$Tze[13]&&C$Tzt[14]===C$Tze[14]&&C$Tzt[15]===C$Tze[15];},C$Tzn.equals=function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=C$TzS.EPSILON);C$Tzt=C$Tzt.m,C$Tze=C$Tze.m;return Math.abs(C$Tzt[0]-C$Tze[0])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[0]),Math.abs(C$Tze[0]))&&Math.abs(C$Tzt[1]-C$Tze[1])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[1]),Math.abs(C$Tze[1]))&&Math.abs(C$Tzt[2]-C$Tze[2])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[2]),Math.abs(C$Tze[2]))&&Math.abs(C$Tzt[3]-C$Tze[3])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[3]),Math.abs(C$Tze[3]))&&Math.abs(C$Tzt[4]-C$Tze[4])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[4]),Math.abs(C$Tze[4]))&&Math.abs(C$Tzt[5]-C$Tze[5])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[5]),Math.abs(C$Tze[5]))&&Math.abs(C$Tzt[6]-C$Tze[6])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[6]),Math.abs(C$Tze[6]))&&Math.abs(C$Tzt[7]-C$Tze[7])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[7]),Math.abs(C$Tze[7]))&&Math.abs(C$Tzt[8]-C$Tze[8])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[8]),Math.abs(C$Tze[8]))&&Math.abs(C$Tzt[9]-C$Tze[9])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[9]),Math.abs(C$Tze[9]))&&Math.abs(C$Tzt[10]-C$Tze[10])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[10]),Math.abs(C$Tze[10]))&&Math.abs(C$Tzt[11]-C$Tze[11])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[11]),Math.abs(C$Tze[11]))&&Math.abs(C$Tzt[12]-C$Tze[12])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[12]),Math.abs(C$Tze[12]))&&Math.abs(C$Tzt[13]-C$Tze[13])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[13]),Math.abs(C$Tze[13]))&&Math.abs(C$Tzt[14]-C$Tze[14])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[14]),Math.abs(C$Tze[14]))&&Math.abs(C$Tzt[15]-C$Tze[15])<=C$Tzi*Math.max(1,Math.abs(C$Tzt[15]),Math.abs(C$Tze[15]));},C$Tzn.adjoint=function(C$Tzh,C$Tzt){var C$Tzt=C$Tzt.m,C$Tze=C$Tzh.m,C$Tzu=C$Tzt[0],C$Tzi=C$Tzt[1],C$Tzn=C$Tzt[2],C$Tzr=C$Tzt[3],C$Tz_=C$Tzt[4],C$Tzd=C$Tzt[5],C$Tzs=C$Tzt[6],C$Tzo=C$Tzt[7],C$Tzf=C$Tzt[8],C$Tzp=C$Tzt[9],C$Tza=C$Tzt[10],C$Tzc=C$Tzt[11],C$Tzm=C$Tzt[12],C$Tzy=C$Tzt[13],C$Tzl=C$Tzt[14],C$Tzt=C$Tzt[15];return C$Tze[0]=C$Tzd*(C$Tza*C$Tzt-C$Tzc*C$Tzl)-C$Tzp*(C$Tzs*C$Tzt-C$Tzo*C$Tzl)+C$Tzy*(C$Tzs*C$Tzc-C$Tzo*C$Tza),C$Tze[1]=-(C$Tzi*(C$Tza*C$Tzt-C$Tzc*C$Tzl)-C$Tzp*(C$Tzn*C$Tzt-C$Tzr*C$Tzl)+C$Tzy*(C$Tzn*C$Tzc-C$Tzr*C$Tza)),C$Tze[2]=C$Tzi*(C$Tzs*C$Tzt-C$Tzo*C$Tzl)-C$Tzd*(C$Tzn*C$Tzt-C$Tzr*C$Tzl)+C$Tzy*(C$Tzn*C$Tzo-C$Tzr*C$Tzs),C$Tze[3]=-(C$Tzi*(C$Tzs*C$Tzc-C$Tzo*C$Tza)-C$Tzd*(C$Tzn*C$Tzc-C$Tzr*C$Tza)+C$Tzp*(C$Tzn*C$Tzo-C$Tzr*C$Tzs)),C$Tze[4]=-(C$Tz_*(C$Tza*C$Tzt-C$Tzc*C$Tzl)-C$Tzf*(C$Tzs*C$Tzt-C$Tzo*C$Tzl)+C$Tzm*(C$Tzs*C$Tzc-C$Tzo*C$Tza)),C$Tze[5]=C$Tzu*(C$Tza*C$Tzt-C$Tzc*C$Tzl)-C$Tzf*(C$Tzn*C$Tzt-C$Tzr*C$Tzl)+C$Tzm*(C$Tzn*C$Tzc-C$Tzr*C$Tza),C$Tze[6]=-(C$Tzu*(C$Tzs*C$Tzt-C$Tzo*C$Tzl)-C$Tz_*(C$Tzn*C$Tzt-C$Tzr*C$Tzl)+C$Tzm*(C$Tzn*C$Tzo-C$Tzr*C$Tzs)),C$Tze[7]=C$Tzu*(C$Tzs*C$Tzc-C$Tzo*C$Tza)-C$Tz_*(C$Tzn*C$Tzc-C$Tzr*C$Tza)+C$Tzf*(C$Tzn*C$Tzo-C$Tzr*C$Tzs),C$Tze[8]=C$Tz_*(C$Tzp*C$Tzt-C$Tzc*C$Tzy)-C$Tzf*(C$Tzd*C$Tzt-C$Tzo*C$Tzy)+C$Tzm*(C$Tzd*C$Tzc-C$Tzo*C$Tzp),C$Tze[9]=-(C$Tzu*(C$Tzp*C$Tzt-C$Tzc*C$Tzy)-C$Tzf*(C$Tzi*C$Tzt-C$Tzr*C$Tzy)+C$Tzm*(C$Tzi*C$Tzc-C$Tzr*C$Tzp)),C$Tze[10]=C$Tzu*(C$Tzd*C$Tzt-C$Tzo*C$Tzy)-C$Tz_*(C$Tzi*C$Tzt-C$Tzr*C$Tzy)+C$Tzm*(C$Tzi*C$Tzo-C$Tzr*C$Tzd),C$Tze[11]=-(C$Tzu*(C$Tzd*C$Tzc-C$Tzo*C$Tzp)-C$Tz_*(C$Tzi*C$Tzc-C$Tzr*C$Tzp)+C$Tzf*(C$Tzi*C$Tzo-C$Tzr*C$Tzd)),C$Tze[12]=-(C$Tz_*(C$Tzp*C$Tzl-C$Tza*C$Tzy)-C$Tzf*(C$Tzd*C$Tzl-C$Tzs*C$Tzy)+C$Tzm*(C$Tzd*C$Tza-C$Tzs*C$Tzp)),C$Tze[13]=C$Tzu*(C$Tzp*C$Tzl-C$Tza*C$Tzy)-C$Tzf*(C$Tzi*C$Tzl-C$Tzn*C$Tzy)+C$Tzm*(C$Tzi*C$Tza-C$Tzn*C$Tzp),C$Tze[14]=-(C$Tzu*(C$Tzd*C$Tzl-C$Tzs*C$Tzy)-C$Tz_*(C$Tzi*C$Tzl-C$Tzn*C$Tzy)+C$Tzm*(C$Tzi*C$Tzs-C$Tzn*C$Tzd)),C$Tze[15]=C$Tzu*(C$Tzd*C$Tza-C$Tzs*C$Tzp)-C$Tz_*(C$Tzi*C$Tza-C$Tzn*C$Tzp)+C$Tzf*(C$Tzi*C$Tzs-C$Tzn*C$Tzd),C$Tzh;},C$Tzn.toArray=function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=0);for(var C$Tzn=C$Tze.m,C$Tzr=0;C$Tzr<16;C$Tzr++)C$Tzt[C$Tzi+C$Tzr]=C$Tzn[C$Tzr];return C$Tzt;},C$Tzn.fromArray=function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=0);for(var C$Tzn=C$Tzt.m,C$Tzr=0;C$Tzr<16;C$Tzr++)C$Tzn[C$Tzr]=C$Tze[C$Tzi+C$Tzr];return C$Tzt;},C$Tzt.clone=function(){var C$Tzt=this.m;return new C$Tzn(C$Tzt[0],C$Tzt[1],C$Tzt[2],C$Tzt[3],C$Tzt[4],C$Tzt[5],C$Tzt[6],C$Tzt[7],C$Tzt[8],C$Tzt[9],C$Tzt[10],C$Tzt[11],C$Tzt[12],C$Tzt[13],C$Tzt[14],C$Tzt[15]);},C$Tzt.set=function(C$Tzt){var C$Tze=this.m,C$Tzt=C$Tzt.m;return C$Tze[0]=C$Tzt[0],C$Tze[1]=C$Tzt[1],C$Tze[2]=C$Tzt[2],C$Tze[3]=C$Tzt[3],C$Tze[4]=C$Tzt[4],C$Tze[5]=C$Tzt[5],C$Tze[6]=C$Tzt[6],C$Tze[7]=C$Tzt[7],C$Tze[8]=C$Tzt[8],C$Tze[9]=C$Tzt[9],C$Tze[10]=C$Tzt[10],C$Tze[11]=C$Tzt[11],C$Tze[12]=C$Tzt[12],C$Tze[13]=C$Tzt[13],C$Tze[14]=C$Tzt[14],C$Tze[15]=C$Tzt[15],this;},C$Tzt.equals=function(C$Tzt){return C$Tzn.strictEquals(this,C$Tzt);},C$Tzt.fuzzyEquals=function(C$Tzt){return C$Tzn.equals(this,C$Tzt);},C$Tzt.toString=function(){var C$Tzt=this.m;return C$Tzt?"[\n"+C$Tzt[0]+H[1637]+C$Tzt[1]+H[1637]+C$Tzt[2]+H[1637]+C$Tzt[3]+",\n"+C$Tzt[4]+H[1637]+C$Tzt[5]+H[1637]+C$Tzt[6]+H[1637]+C$Tzt[7]+",\n"+C$Tzt[8]+H[1637]+C$Tzt[9]+H[1637]+C$Tzt[10]+H[1637]+C$Tzt[11]+",\n"+C$Tzt[12]+H[1637]+C$Tzt[13]+H[1637]+C$Tzt[14]+H[1637]+C$Tzt[15]+"\n]":"[\n1, 0, 0, 0\n0, 1, 0, 0\n0, 0, 1, 0\n0, 0, 0, 1\n]";},C$Tzt.identity=function(){return C$Tzn.identity(this);},C$Tzt.transpose=function(C$Tzt){return C$Tzt=C$Tzt||new C$Tzn(),C$Tzn.transpose(C$Tzt,this);},C$Tzt.invert=function(C$Tzt){return C$Tzt=C$Tzt||new C$Tzn(),C$Tzn.invert(C$Tzt,this);},C$Tzt.adjoint=function(C$Tzt){return C$Tzt=C$Tzt||new C$Tzn(),C$Tzn.adjoint(C$Tzt,this);},C$Tzt.determinant=function(){return C$Tzn.determinant(this);},C$Tzt.add=function(C$Tzt,C$Tze){return C$Tze=C$Tze||new C$Tzn(),C$Tzn.add(C$Tze,this,C$Tzt);},C$Tzt.subtract=function(C$Tzt){return C$Tzn.subtract(this,this,C$Tzt);},C$Tzt.multiply=function(C$Tzt){return C$Tzn.multiply(this,this,C$Tzt);},C$Tzt.multiplyScalar=function(C$Tzt){return C$Tzn.multiplyScalar(this,this,C$Tzt);},C$Tzt.translate=function(C$Tzt,C$Tze){return C$Tze=C$Tze||new C$Tzn(),C$Tzn.translate(C$Tze,this,C$Tzt);},C$Tzt.scale=function(C$Tzt,C$Tze){return C$Tze=C$Tze||new C$Tzn(),C$Tzn.scale(C$Tze,this,C$Tzt);},C$Tzt.rotate=function(C$Tzt,C$Tze,C$Tzi){return C$Tzi=C$Tzi||new C$Tzn(),C$Tzn.rotate(C$Tzi,this,C$Tzt,C$Tze);},C$Tzt.getTranslation=function(C$Tzt){return C$Tzt=C$Tzt||new C$Tzo.default(),C$Tzn.getTranslation(C$Tzt,this);},C$Tzt.getScale=function(C$Tzt){return C$Tzt=C$Tzt||new C$Tzo.default(),C$Tzn.getScaling(C$Tzt,this);},C$Tzt.getRotation=function(C$Tzt){return C$Tzt=C$Tzt||new C$Tza.default(),C$Tzn.getRotation(C$Tzt,this);},C$Tzt.fromRTS=function(C$Tzt,C$Tze,C$Tzi){return C$Tzn.fromRTS(this,C$Tzt,C$Tze,C$Tzi);},C$Tzt.fromQuat=function(C$Tzt){return C$Tzn.fromQuat(this,C$Tzt);},C$Tzn);function C$Tzn(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$Tzf,C$Tzp,C$Tzm,C$Tzy){var C$Tzc,C$Tzl;return void 0===C$Tzt&&(C$Tzt=1),void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=0),void 0===C$Tzn&&(C$Tzn=0),void 0===C$Tzr&&(C$Tzr=0),void 0===C$Tzs&&(C$Tzs=1),void 0===C$Tzo&&(C$Tzo=0),void 0===C$Tza&&(C$Tza=0),void 0===C$Tzh&&(C$Tzh=0),void 0===C$Tzu&&(C$Tzu=0),void 0===C$Tz_&&(C$Tz_=1),void 0===C$Tzd&&(C$Tzd=0),void 0===C$Tzf&&(C$Tzf=0),void 0===C$Tzp&&(C$Tzp=0),void 0===C$Tzm&&(C$Tzm=0),void 0===C$Tzy&&(C$Tzy=1),(C$Tzc=C$TzT.call(this)||this).m=void 0,C$Tzt instanceof C$TzS.FLOAT_ARRAY_TYPE?C$Tzc.m=C$Tzt:(C$Tzc.m=new C$TzS.FLOAT_ARRAY_TYPE(16),(C$Tzl=C$Tzc.m)[0]=C$Tzt,C$Tzl[1]=C$Tze,C$Tzl[2]=C$Tzi,C$Tzl[3]=C$Tzn,C$Tzl[4]=C$Tzr,C$Tzl[5]=C$Tzs,C$Tzl[6]=C$Tzo,C$Tzl[7]=C$Tza,C$Tzl[8]=C$Tzh,C$Tzl[9]=C$Tzu,C$Tzl[10]=C$Tz_,C$Tzl[11]=C$Tzd,C$Tzl[12]=C$Tzf,C$Tzl[13]=C$Tzp,C$Tzl[14]=C$Tzm,C$Tzl[15]=C$Tzy),C$Tzc;}(C$Tzr.default=C$TzD).mul=C$TzD.multiply,C$TzD.sub=C$TzD.subtract,C$TzD.IDENTITY=Object.freeze(new C$TzD());for(var C$Tz_=new C$Tzo.default(),C$Tzd=new C$Tzu.default(),C$Tzf=(C$Tzs.default.fastDefine(H[1809],C$TzD,{m00:1,m01:0,m02:0,m03:0,m04:0,m05:1,m06:0,m07:0,m08:0,m09:0,m10:1,m11:0,m12:0,m13:0,m14:0,m15:1}),0);C$Tzf<16;C$Tzf++)!function(C$Tze){Object.defineProperty(C$TzD.prototype,"m"+C$Tze,{get:function(){return this.m[C$Tze];},set:function(C$Tzt){this.m[C$Tze]=C$Tzt;}});}(C$Tzf);cc.mat4=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl,C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$Tzf,C$Tzp){C$Tze=new C$TzD(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl,C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$Tzf,C$Tzp);return void 0===C$Tzt&&C$TzD.identity(C$Tze),C$Tze;},cc.Mat4=C$TzD,C$Tzi.exports=C$Tzr.default;},{"../platform/CCClass":189,"./mat3":280,"./quat":282,"./utils":286,"./value-type":287,"./vec3":289}],282:[function(C$Tzt,C$Tzl,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.default=void 0;var C$Tzi=C$Tzn(C$Tzt(H[1780])),C$Tzh=C$Tzn(C$Tzt(H[743])),C$Tzr=C$Tzn(C$Tzt(H[1798])),C$Tzu=C$Tzn(C$Tzt(H[1801])),C$Tz_=C$Tzt(H[800]);function C$Tzn(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzd(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzf(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzf(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzf(C$Tzt){return(C$Tzf=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}C$Tzv=C$Tzi.default,C$Tzt=C$Tzv,(C$Tzi=C$Tzo).prototype=Object.create(C$Tzt.prototype),(C$Tzi.prototype.constructor=C$Tzi).__proto__=C$Tzt,C$Tzd(C$Tzo),(C$Tzi=C$Tzo.prototype).mul=function(C$Tzt,C$Tze){return C$Tzo.multiply(C$Tze||new C$Tzo(),this,C$Tzt);},C$Tzo.clone=function(C$Tzt){return new C$Tzo(C$Tzt.x,C$Tzt.y,C$Tzt.z,C$Tzt.w);},C$Tzo.copy=function(C$Tzt,C$Tze){return C$Tzt.x=C$Tze.x,C$Tzt.y=C$Tze.y,C$Tzt.z=C$Tze.z,C$Tzt.w=C$Tze.w,C$Tzt;},C$Tzo.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return C$Tzt.x=C$Tze,C$Tzt.y=C$Tzi,C$Tzt.z=C$Tzn,C$Tzt.w=C$Tzr,C$Tzt;},C$Tzo.identity=function(C$Tzt){return C$Tzt.x=0,C$Tzt.y=0,C$Tzt.z=0,C$Tzt.w=1,C$Tzt;},C$Tzo.rotationTo=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzr.default.dot(C$Tze,C$Tzi);return C$Tzn<-.999999?(C$Tzr.default.cross(C$Tzc,C$Tzr.default.RIGHT,C$Tze),C$Tzc.mag()<1e-6&&C$Tzr.default.cross(C$Tzc,C$Tzr.default.UP,C$Tze),C$Tzr.default.normalize(C$Tzc,C$Tzc),C$Tzo.fromAxisAngle(C$Tzt,C$Tzc,Math.PI),C$Tzt):.999999<C$Tzn?(C$Tzt.x=0,C$Tzt.y=0,C$Tzt.z=0,C$Tzt.w=1,C$Tzt):(C$Tzr.default.cross(C$Tzc,C$Tze,C$Tzi),C$Tzt.x=C$Tzc.x,C$Tzt.y=C$Tzc.y,C$Tzt.z=C$Tzc.z,C$Tzt.w=1+C$Tzn,C$Tzo.normalize(C$Tzt,C$Tzt));},C$Tzo.getAxisAngle=function(C$Tzt,C$Tze){var C$Tzi=2*Math.acos(C$Tze.w),C$Tzn=Math.sin(C$Tzi/2);return 0!==C$Tzn?(C$Tzt.x=C$Tze.x/C$Tzn,C$Tzt.y=C$Tze.y/C$Tzn,C$Tzt.z=C$Tze.z/C$Tzn):(C$Tzt.x=1,C$Tzt.y=0,C$Tzt.z=0),C$Tzi;},C$Tzo.multiply=function(C$Tzt,C$Tze,C$Tzi){return C$Tzp=C$Tze.x*C$Tzi.w+C$Tze.w*C$Tzi.x+C$Tze.y*C$Tzi.z-C$Tze.z*C$Tzi.y,C$Tzm=C$Tze.y*C$Tzi.w+C$Tze.w*C$Tzi.y+C$Tze.z*C$Tzi.x-C$Tze.x*C$Tzi.z,C$Tzy=C$Tze.z*C$Tzi.w+C$Tze.w*C$Tzi.z+C$Tze.x*C$Tzi.y-C$Tze.y*C$Tzi.x,C$Tzg=C$Tze.w*C$Tzi.w-C$Tze.x*C$Tzi.x-C$Tze.y*C$Tzi.y-C$Tze.z*C$Tzi.z,C$Tzt.x=C$Tzp,C$Tzt.y=C$Tzm,C$Tzt.z=C$Tzy,C$Tzt.w=C$Tzg,C$Tzt;},C$Tzo.multiplyScalar=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x*C$Tzi,C$Tzt.y=C$Tze.y*C$Tzi,C$Tzt.z=C$Tze.z*C$Tzi,C$Tzt.w=C$Tze.w*C$Tzi,C$Tzt;},C$Tzo.scaleAndAdd=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzt.x=C$Tze.x+C$Tzi.x*C$Tzn,C$Tzt.y=C$Tze.y+C$Tzi.y*C$Tzn,C$Tzt.z=C$Tze.z+C$Tzi.z*C$Tzn,C$Tzt.w=C$Tze.w+C$Tzi.w*C$Tzn,C$Tzt;},C$Tzo.rotateX=function(C$Tzt,C$Tze,C$Tzi){C$Tzi*=.5;var C$Tzn=Math.sin(C$Tzi),C$Tzi=Math.cos(C$Tzi);return C$Tzt.x=C$Tze.x*C$Tzi+C$Tze.w*C$Tzn,C$Tzt.y=C$Tze.y*C$Tzi+C$Tze.z*C$Tzn,C$Tzt.z=C$Tze.z*C$Tzi-C$Tze.y*C$Tzn,C$Tzt.w=C$Tze.w*C$Tzi-C$Tze.x*C$Tzn,C$Tzt;},C$Tzo.rotateY=function(C$Tzt,C$Tze,C$Tzi){C$Tzi*=.5;var C$Tzn=Math.sin(C$Tzi),C$Tzi=Math.cos(C$Tzi);return C$Tzt.x=C$Tze.x*C$Tzi-C$Tze.z*C$Tzn,C$Tzt.y=C$Tze.y*C$Tzi+C$Tze.w*C$Tzn,C$Tzt.z=C$Tze.z*C$Tzi+C$Tze.x*C$Tzn,C$Tzt.w=C$Tze.w*C$Tzi-C$Tze.y*C$Tzn,C$Tzt;},C$Tzo.rotateZ=function(C$Tzt,C$Tze,C$Tzi){C$Tzi*=.5;var C$Tzn=Math.sin(C$Tzi),C$Tzi=Math.cos(C$Tzi);return C$Tzt.x=C$Tze.x*C$Tzi+C$Tze.y*C$Tzn,C$Tzt.y=C$Tze.y*C$Tzi-C$Tze.x*C$Tzn,C$Tzt.z=C$Tze.z*C$Tzi+C$Tze.w*C$Tzn,C$Tzt.w=C$Tze.w*C$Tzi-C$Tze.z*C$Tzn,C$Tzt;},C$Tzo.rotateAround=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzo.invert(C$Tza,C$Tze),C$Tzr.default.transformQuat(C$Tzc,C$Tzi,C$Tza),C$Tzo.fromAxisAngle(C$Tza,C$Tzc,C$Tzn),C$Tzo.multiply(C$Tzt,C$Tze,C$Tza),C$Tzt;},C$Tzo.rotateAroundLocal=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzo.fromAxisAngle(C$Tza,C$Tzi,C$Tzn),C$Tzo.multiply(C$Tzt,C$Tze,C$Tza),C$Tzt;},C$Tzo.calculateW=function(C$Tzt,C$Tze){return C$Tzt.x=C$Tze.x,C$Tzt.y=C$Tze.y,C$Tzt.z=C$Tze.z,C$Tzt.w=Math.sqrt(Math.abs(1-C$Tze.x*C$Tze.x-C$Tze.y*C$Tze.y-C$Tze.z*C$Tze.z)),C$Tzt;},C$Tzo.dot=function(C$Tzt,C$Tze){return C$Tzt.x*C$Tze.x+C$Tzt.y*C$Tze.y+C$Tzt.z*C$Tze.z+C$Tzt.w*C$Tze.w;},C$Tzo.lerp=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzt.x=C$Tze.x+C$Tzn*(C$Tzi.x-C$Tze.x),C$Tzt.y=C$Tze.y+C$Tzn*(C$Tzi.y-C$Tze.y),C$Tzt.z=C$Tze.z+C$Tzn*(C$Tzi.z-C$Tze.z),C$Tzt.w=C$Tze.w+C$Tzn*(C$Tzi.w-C$Tze.w),C$Tzt;},C$Tzo.slerp=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr,C$Tzs=0,C$Tzo=0,C$Tza=C$Tze.x*C$Tzi.x+C$Tze.y*C$Tzi.y+C$Tze.z*C$Tzi.z+C$Tze.w*C$Tzi.w;return C$Tza<0&&(C$Tza=-C$Tza,C$Tzi.x=-C$Tzi.x,C$Tzi.y=-C$Tzi.y,C$Tzi.z=-C$Tzi.z,C$Tzi.w=-C$Tzi.w),C$Tzo=1e-6<1-C$Tza?(C$Tza=Math.acos(C$Tza),C$Tzr=Math.sin(C$Tza),C$Tzs=Math.sin((1-C$Tzn)*C$Tza)/C$Tzr,Math.sin(C$Tzn*C$Tza)/C$Tzr):(C$Tzs=1-C$Tzn,C$Tzn),C$Tzt.x=C$Tzs*C$Tze.x+C$Tzo*C$Tzi.x,C$Tzt.y=C$Tzs*C$Tze.y+C$Tzo*C$Tzi.y,C$Tzt.z=C$Tzs*C$Tze.z+C$Tzo*C$Tzi.z,C$Tzt.w=C$Tzs*C$Tze.w+C$Tzo*C$Tzi.w,C$Tzt;},C$Tzo.sqlerp=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){return C$Tzo.slerp(C$Tza,C$Tze,C$Tzr,C$Tzs),C$Tzo.slerp(C$Tzx,C$Tzi,C$Tzn,C$Tzs),C$Tzo.slerp(C$Tzt,C$Tza,C$Tzx,2*C$Tzs*(1-C$Tzs)),C$Tzt;},C$Tzo.invert=function(C$Tzt,C$Tze){var C$Tzi=C$Tze.x*C$Tze.x+C$Tze.y*C$Tze.y+C$Tze.z*C$Tze.z+C$Tze.w*C$Tze.w,C$Tzi=C$Tzi?1/C$Tzi:0;return C$Tzt.x=-C$Tze.x*C$Tzi,C$Tzt.y=-C$Tze.y*C$Tzi,C$Tzt.z=-C$Tze.z*C$Tzi,C$Tzt.w=C$Tze.w*C$Tzi,C$Tzt;},C$Tzo.conjugate=function(C$Tzt,C$Tze){return C$Tzt.x=-C$Tze.x,C$Tzt.y=-C$Tze.y,C$Tzt.z=-C$Tze.z,C$Tzt.w=C$Tze.w,C$Tzt;},C$Tzo.len=function(C$Tzt){return Math.sqrt(C$Tzt.x*C$Tzt.x+C$Tzt.y*C$Tzt.y+C$Tzt.z*C$Tzt.z+C$Tzt.w*C$Tzt.w);},C$Tzo.lengthSqr=function(C$Tzt){return C$Tzt.x*C$Tzt.x+C$Tzt.y*C$Tzt.y+C$Tzt.z*C$Tzt.z+C$Tzt.w*C$Tzt.w;},C$Tzo.normalize=function(C$Tzt,C$Tze){var C$Tzi=C$Tze.x*C$Tze.x+C$Tze.y*C$Tze.y+C$Tze.z*C$Tze.z+C$Tze.w*C$Tze.w;return 0<C$Tzi&&(C$Tzi=1/Math.sqrt(C$Tzi),C$Tzt.x=C$Tze.x*C$Tzi,C$Tzt.y=C$Tze.y*C$Tzi,C$Tzt.z=C$Tze.z*C$Tzi,C$Tzt.w=C$Tze.w*C$Tzi),C$Tzt;},C$Tzo.fromAxes=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzu.default.set(C$Tzb,C$Tze.x,C$Tze.y,C$Tze.z,C$Tzi.x,C$Tzi.y,C$Tzi.z,C$Tzn.x,C$Tzn.y,C$Tzn.z),C$Tzo.normalize(C$Tzt,C$Tzo.fromMat3(C$Tzt,C$Tzb));},C$Tzo.fromViewUp=function(C$Tzt,C$Tze,C$Tzi){return C$Tzu.default.fromViewUp(C$Tzb,C$Tze,C$Tzi),C$Tzo.normalize(C$Tzt,C$Tzo.fromMat3(C$Tzt,C$Tzb));},C$Tzo.fromAxisAngle=function(C$Tzt,C$Tze,C$Tzi){C$Tzi*=.5;var C$Tzn=Math.sin(C$Tzi);return C$Tzt.x=C$Tzn*C$Tze.x,C$Tzt.y=C$Tzn*C$Tze.y,C$Tzt.z=C$Tzn*C$Tze.z,C$Tzt.w=Math.cos(C$Tzi),C$Tzt;},C$Tzo.fromAngleZ=function(C$Tzt,C$Tze){return C$Tze*=C$TzA,C$Tzt.x=C$Tzt.y=0,C$Tzt.z=Math.sin(C$Tze),C$Tzt.w=Math.cos(C$Tze),C$Tzt;},C$Tzo.fromMat3=function(C$Tzt,C$Tze){var C$Tze=C$Tze.m,C$Tzi=C$Tze[0],C$Tzn=C$Tze[1],C$Tzr=C$Tze[2],C$Tzs=C$Tze[3],C$Tzo=C$Tze[4],C$Tza=C$Tze[5],C$Tzc=C$Tze[6],C$Tzh=C$Tze[7],C$Tze=C$Tze[8],C$Tzl=C$Tzi+C$Tzo+C$Tze;return 0<C$Tzl?(C$Tzl=.5/Math.sqrt(C$Tzl+1),C$Tzt.w=.25/C$Tzl,C$Tzt.x=(C$Tza-C$Tzh)*C$Tzl,C$Tzt.y=(C$Tzc-C$Tzr)*C$Tzl,C$Tzt.z=(C$Tzn-C$Tzs)*C$Tzl):C$Tzo<C$Tzi&&C$Tze<C$Tzi?(C$Tzl=2*Math.sqrt(1+C$Tzi-C$Tzo-C$Tze),C$Tzt.w=(C$Tza-C$Tzh)/C$Tzl,C$Tzt.x=.25*C$Tzl,C$Tzt.y=(C$Tzs+C$Tzn)/C$Tzl,C$Tzt.z=(C$Tzc+C$Tzr)/C$Tzl):C$Tze<C$Tzo?(C$Tzl=2*Math.sqrt(1+C$Tzo-C$Tzi-C$Tze),C$Tzt.w=(C$Tzc-C$Tzr)/C$Tzl,C$Tzt.x=(C$Tzs+C$Tzn)/C$Tzl,C$Tzt.y=.25*C$Tzl,C$Tzt.z=(C$Tzh+C$Tza)/C$Tzl):(C$Tzl=2*Math.sqrt(1+C$Tze-C$Tzi-C$Tzo),C$Tzt.w=(C$Tzn-C$Tzs)/C$Tzl,C$Tzt.x=(C$Tzc+C$Tzr)/C$Tzl,C$Tzt.y=(C$Tzh+C$Tza)/C$Tzl,C$Tzt.z=.25*C$Tzl),C$Tzt;},C$Tzo.fromEuler=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tze*=C$TzA,C$Tzi*=C$TzA,C$Tzn*=C$TzA;var C$Tzr=Math.sin(C$Tze),C$Tze=Math.cos(C$Tze),C$Tzs=Math.sin(C$Tzi),C$Tzi=Math.cos(C$Tzi),C$Tzo=Math.sin(C$Tzn),C$Tzn=Math.cos(C$Tzn);return C$Tzt.x=C$Tzr*C$Tzi*C$Tzn+C$Tze*C$Tzs*C$Tzo,C$Tzt.y=C$Tze*C$Tzs*C$Tzn+C$Tzr*C$Tzi*C$Tzo,C$Tzt.z=C$Tze*C$Tzi*C$Tzo-C$Tzr*C$Tzs*C$Tzn,C$Tzt.w=C$Tze*C$Tzi*C$Tzn-C$Tzr*C$Tzs*C$Tzo,C$Tzt;},C$Tzo.toAxisX=function(C$Tzt,C$Tze){var C$Tzi=2*C$Tze.y,C$Tzn=2*C$Tze.z;return C$Tzt.x=1-C$Tzi*C$Tze.y-C$Tzn*C$Tze.z,C$Tzt.y=C$Tzi*C$Tze.x+C$Tzn*C$Tze.w,C$Tzt.z=C$Tzn*C$Tze.x+C$Tzi*C$Tze.w,C$Tzt;},C$Tzo.toAxisY=function(C$Tzt,C$Tze){var C$Tzi=2*C$Tze.x,C$Tzn=2*C$Tze.y,C$Tzr=2*C$Tze.z;return C$Tzt.x=C$Tzn*C$Tze.x-C$Tzr*C$Tze.w,C$Tzt.y=1-C$Tzi*C$Tze.x-C$Tzr*C$Tze.z,C$Tzt.z=C$Tzr*C$Tze.y+C$Tzi*C$Tze.w,C$Tzt;},C$Tzo.toAxisZ=function(C$Tzt,C$Tze){var C$Tzi=2*C$Tze.x,C$Tzn=2*C$Tze.y,C$Tzr=2*C$Tze.z;return C$Tzt.x=C$Tzr*C$Tze.x-C$Tzn*C$Tze.w,C$Tzt.y=C$Tzr*C$Tze.y-C$Tzi*C$Tze.w,C$Tzt.z=1-C$Tzi*C$Tze.x-C$Tzn*C$Tze.y,C$Tzt;},C$Tzo.toEuler=function(C$Tzt,C$Tze,C$Tzh){var C$Tzu,C$Tzi,C$Tzn=C$Tze.x,C$Tzr=C$Tze.y,C$Tzs=C$Tze.z,C$Tze=C$Tze.w,C$Tzo=0,C$Tza=0,C$Tzc=0,C$Tzl=C$Tzn*C$Tzr+C$Tzs*C$Tze;return .499999<C$Tzl?(C$Tza=(C$Tzo=0,C$Tz_.toDegree)(2*Math.atan2(C$Tzn,C$Tze)),C$Tzc=90):C$Tzl<-.499999?(C$Tza=-(C$Tzo=0,C$Tz_.toDegree)(2*Math.atan2(C$Tzn,C$Tze)),C$Tzc=-90):(C$Tzu=C$Tzr*C$Tzr,C$Tzi=C$Tzs*C$Tzs,C$Tzo=(0,C$Tz_.toDegree)(Math.atan2(2*C$Tzn*C$Tze-2*C$Tzr*C$Tzs,1-2*(C$Tzn*C$Tzn)-2*C$Tzi)),C$Tza=(0,C$Tz_.toDegree)(Math.atan2(2*C$Tzr*C$Tze-2*C$Tzn*C$Tzs,1-2*C$Tzu-2*C$Tzi)),C$Tzc=(0,C$Tz_.toDegree)(Math.asin(2*C$Tzl)),C$Tzh&&(C$Tzo=-180*Math.sign(C$Tzo+1e-6)+C$Tzo,C$Tza=-180*Math.sign(C$Tza+1e-6)+C$Tza,C$Tzc=180*Math.sign(C$Tzc+1e-6)-C$Tzc)),C$Tzt.x=C$Tzo,C$Tzt.y=C$Tza,C$Tzt.z=C$Tzc,C$Tzt;},C$Tzo.strictEquals=function(C$Tzt,C$Tze){return C$Tzt.x===C$Tze.x&&C$Tzt.y===C$Tze.y&&C$Tzt.z===C$Tze.z&&C$Tzt.w===C$Tze.w;},C$Tzo.equals=function(C$Tzt,C$Tze,C$Tzi){return void 0===C$Tzi&&(C$Tzi=C$Tz_.EPSILON),Math.abs(C$Tzt.x-C$Tze.x)<=C$Tzi*Math.max(1,Math.abs(C$Tzt.x),Math.abs(C$Tze.x))&&Math.abs(C$Tzt.y-C$Tze.y)<=C$Tzi*Math.max(1,Math.abs(C$Tzt.y),Math.abs(C$Tze.y))&&Math.abs(C$Tzt.z-C$Tze.z)<=C$Tzi*Math.max(1,Math.abs(C$Tzt.z),Math.abs(C$Tze.z))&&Math.abs(C$Tzt.w-C$Tze.w)<=C$Tzi*Math.max(1,Math.abs(C$Tzt.w),Math.abs(C$Tze.w));},C$Tzo.toArray=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt[(C$Tzi=void 0===C$Tzi?0:C$Tzi)+0]=C$Tze.x,C$Tzt[C$Tzi+1]=C$Tze.y,C$Tzt[C$Tzi+2]=C$Tze.z,C$Tzt[C$Tzi+3]=C$Tze.w,C$Tzt;},C$Tzo.fromArray=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze[(C$Tzi=void 0===C$Tzi?0:C$Tzi)+0],C$Tzt.y=C$Tze[C$Tzi+1],C$Tzt.z=C$Tze[C$Tzi+2],C$Tzt.w=C$Tze[C$Tzi+3],C$Tzt;},C$Tzi.clone=function(){return new C$Tzo(this.x,this.y,this.z,this.w);},C$Tzi.set=function(C$Tzt){return this.x=C$Tzt.x,this.y=C$Tzt.y,this.z=C$Tzt.z,this.w=C$Tzt.w,this;},C$Tzi.equals=function(C$Tzt){return C$Tzt&&this.x===C$Tzt.x&&this.y===C$Tzt.y&&this.z===C$Tzt.z&&this.w===C$Tzt.w;},C$Tzi.toEuler=function(C$Tzt){return C$Tzo.toEuler(C$Tzt,this);},C$Tzi.fromEuler=function(C$Tzt){return C$Tzo.fromEuler(this,C$Tzt.x,C$Tzt.y,C$Tzt.z);},C$Tzi.lerp=function(C$Tzt,C$Tze,C$Tzi){return C$Tzi=C$Tzi||new C$Tzo(),C$Tzo.slerp(C$Tzi,this,C$Tzt,C$Tze),C$Tzi;},C$Tzi.multiply=function(C$Tzt){return C$Tzo.multiply(this,this,C$Tzt);},C$Tzi.rotateAround=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzn=C$Tzn||new C$Tzo(),C$Tzo.rotateAround(C$Tzn,C$Tzt,C$Tze,C$Tzi);};var C$Tzp,C$Tzm,C$Tzy,C$Tzg,C$Tzv,C$Tzs=C$Tzo;function C$Tzo(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr;return void 0===C$Tzt&&(C$Tzt=0),void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=0),void 0===C$Tzn&&(C$Tzn=1),(C$Tzr=C$Tzv.call(this)||this).x=void 0,C$Tzr.y=void 0,C$Tzr.z=void 0,C$Tzr.w=void 0,C$Tzt&&H[802]==typeof C$Tzt?(C$Tzr.z=C$Tzt.z,C$Tzr.y=C$Tzt.y,C$Tzr.w=C$Tzt.w,C$Tzr.x=C$Tzt.x):(C$Tzr.x=C$Tzt,C$Tzr.y=C$Tze,C$Tzr.z=C$Tzi,C$Tzr.w=C$Tzn),C$Tzr;}(C$Tze.default=C$Tzs).mul=C$Tzs.multiply,C$Tzs.scale=C$Tzs.multiplyScalar,C$Tzs.mag=C$Tzs.len,C$Tzs.IDENTITY=Object.freeze(new C$Tzs());var C$Tza=new C$Tzs(),C$Tzx=new C$Tzs(),C$Tzc=new C$Tzr.default(),C$Tzb=new C$Tzu.default(),C$TzA=.5*Math.PI/180;C$Tzh.default.fastDefine(H[1810],C$Tzs,{x:0,y:0,z:0,w:1}),cc.quat=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return new C$Tzs(C$Tzt,C$Tze,C$Tzi,C$Tzn);},cc.Quat=C$Tzs,C$Tzl.exports=C$Tze.default;},{"../platform/CCClass":189,"./mat3":280,"./utils":286,"./value-type":287,"./vec3":289}],283:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=C$Tzs(C$Tzt(H[1780])),C$Tzr=C$Tzs(C$Tzt(H[743])),C$Tzo=C$Tzs(C$Tzt(H[1797])),C$Tzh=C$Tzs(C$Tzt(H[1803]));function C$Tzs(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzc(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}function C$Tzu(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tza(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tza(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tza(C$Tzt){return(C$Tza=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzl=function(C$Tzs){C$Tzt=C$Tzs,(C$Tzi=C$Tza).prototype=Object.create(C$Tzt.prototype),(C$Tzi.prototype.constructor=C$Tzi).__proto__=C$Tzt,C$Tzu(C$Tza);function C$Tza(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr;return void 0===C$Tzt&&(C$Tzt=0),void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=0),void 0===C$Tzn&&(C$Tzn=0),(C$Tzr=C$Tzs.call(this)||this).x=void 0,C$Tzr.y=void 0,C$Tzr.width=void 0,C$Tzr.height=void 0,C$Tzt&&H[802]==typeof C$Tzt&&(C$Tze=C$Tzt.y,C$Tzi=C$Tzt.width,C$Tzn=C$Tzt.height,C$Tzt=C$Tzt.x),C$Tzr.x=C$Tzt||0,C$Tzr.y=C$Tze||0,C$Tzr.width=C$Tzi||0,C$Tzr.height=C$Tzn||0,C$Tzr;}C$Tza.fromMinMax=function(C$Tzt,C$Tze){var C$Tzi=Math.min(C$Tzt.x,C$Tze.x),C$Tzn=Math.min(C$Tzt.y,C$Tze.y);return new C$Tza(C$Tzi,C$Tzn,Math.max(C$Tzt.x,C$Tze.x)-C$Tzi,Math.max(C$Tzt.y,C$Tze.y)-C$Tzn);};var C$Tzt,C$Tze,C$Tzi=C$Tza.prototype;return C$Tzi.clone=function(){return new C$Tza(this.x,this.y,this.width,this.height);},C$Tzi.equals=function(C$Tzt){return C$Tzt&&this.x===C$Tzt.x&&this.y===C$Tzt.y&&this.width===C$Tzt.width&&this.height===C$Tzt.height;},C$Tzi.lerp=function(C$Tzt,C$Tze,C$Tzi){C$Tzi=C$Tzi||new C$Tza();var C$Tzn=this.x,C$Tzr=this.y,C$Tzs=this.width,C$Tzo=this.height;return C$Tzi.x=C$Tzn+(C$Tzt.x-C$Tzn)*C$Tze,C$Tzi.y=C$Tzr+(C$Tzt.y-C$Tzr)*C$Tze,C$Tzi.width=C$Tzs+(C$Tzt.width-C$Tzs)*C$Tze,C$Tzi.height=C$Tzo+(C$Tzt.height-C$Tzo)*C$Tze,C$Tzi;},C$Tzi.set=function(C$Tzt){return this.x=C$Tzt.x,this.y=C$Tzt.y,this.width=C$Tzt.width,this.height=C$Tzt.height,this;},C$Tzi.intersects=function(C$Tzt){var C$Tze=this.x+this.width,C$Tzi=this.y+this.height,C$Tzn=C$Tzt.x+C$Tzt.width,C$Tzr=C$Tzt.y+C$Tzt.height;return!(C$Tze<C$Tzt.x||C$Tzn<this.x||C$Tzi<C$Tzt.y||C$Tzr<this.y);},C$Tzi.intersection=function(C$Tzt,C$Tze){var C$Tzi=this.x,C$Tzn=this.y,C$Tzr=this.x+this.width,C$Tzs=this.y+this.height,C$Tzo=C$Tze.x,C$Tza=C$Tze.y,C$Tzc=C$Tze.x+C$Tze.width,C$Tze=C$Tze.y+C$Tze.height;return C$Tzt.x=Math.max(C$Tzi,C$Tzo),C$Tzt.y=Math.max(C$Tzn,C$Tza),C$Tzt.width=Math.min(C$Tzr,C$Tzc)-C$Tzt.x,C$Tzt.height=Math.min(C$Tzs,C$Tze)-C$Tzt.y,C$Tzt;},C$Tzi.contains=function(C$Tzt){return this.x<=C$Tzt.x&&this.x+this.width>=C$Tzt.x&&this.y<=C$Tzt.y&&this.y+this.height>=C$Tzt.y;},C$Tzi.containsRect=function(C$Tzt){return this.x<=C$Tzt.x&&this.x+this.width>=C$Tzt.x+C$Tzt.width&&this.y<=C$Tzt.y&&this.y+this.height>=C$Tzt.y+C$Tzt.height;},C$Tzi.union=function(C$Tzt,C$Tze){var C$Tzi=this.x,C$Tzn=this.y,C$Tzr=this.width,C$Tzs=this.height,C$Tzo=C$Tze.x,C$Tza=C$Tze.y,C$Tzc=C$Tze.width,C$Tze=C$Tze.height;return C$Tzt.x=Math.min(C$Tzi,C$Tzo),C$Tzt.y=Math.min(C$Tzn,C$Tza),C$Tzt.width=Math.max(C$Tzi+C$Tzr,C$Tzo+C$Tzc)-C$Tzt.x,C$Tzt.height=Math.max(C$Tzn+C$Tzs,C$Tza+C$Tze)-C$Tzt.y,C$Tzt;},C$Tzi.transformMat4=function(C$Tzt,C$Tze){var C$Tzi=this.x,C$Tzn=this.y,C$Tzr=C$Tzi+this.width,C$Tzs=C$Tzn+this.height,C$Tze=C$Tze.m,C$Tzo=C$Tze[0]*C$Tzi+C$Tze[4]*C$Tzn+C$Tze[12],C$Tza=C$Tze[1]*C$Tzi+C$Tze[5]*C$Tzn+C$Tze[13],C$Tzc=C$Tze[0]*C$Tzr+C$Tze[4]*C$Tzn+C$Tze[12],C$Tzn=C$Tze[1]*C$Tzr+C$Tze[5]*C$Tzn+C$Tze[13],C$Tzl=C$Tze[0]*C$Tzi+C$Tze[4]*C$Tzs+C$Tze[12],C$Tzi=C$Tze[1]*C$Tzi+C$Tze[5]*C$Tzs+C$Tze[13],C$Tzh=C$Tze[0]*C$Tzr+C$Tze[4]*C$Tzs+C$Tze[12],C$Tzr=C$Tze[1]*C$Tzr+C$Tze[5]*C$Tzs+C$Tze[13],C$Tzs=Math.min(C$Tzo,C$Tzc,C$Tzl,C$Tzh),C$Tze=Math.max(C$Tzo,C$Tzc,C$Tzl,C$Tzh),C$Tzo=Math.min(C$Tza,C$Tzn,C$Tzi,C$Tzr),C$Tzc=Math.max(C$Tza,C$Tzn,C$Tzi,C$Tzr);return C$Tzt.x=C$Tzs,C$Tzt.y=C$Tzo,C$Tzt.width=C$Tze-C$Tzs,C$Tzt.height=C$Tzc-C$Tzo,C$Tzt;},C$Tzi.toString=function(){return"("+this.x.toFixed(2)+H[1637]+this.y.toFixed(2)+H[1637]+this.width.toFixed(2)+H[1637]+this.height.toFixed(2)+")";},C$Tzt=C$Tza,(C$Tzi=[{key:H[1811],get:function(){return this.x;},set:function(C$Tzt){this.width+=this.x-C$Tzt,this.x=C$Tzt;}},{key:H[1812],get:function(){return this.y;},set:function(C$Tzt){this.height+=this.y-C$Tzt,this.y=C$Tzt;}},{key:H[1813],get:function(){return this.x+this.width;},set:function(C$Tzt){this.width=C$Tzt-this.x;}},{key:H[1814],get:function(){return this.y+this.height;},set:function(C$Tzt){this.height=C$Tzt-this.y;}},{key:H[921],get:function(){return new C$Tzo.default(this.x+.5*this.width,this.y+.5*this.height);},set:function(C$Tzt){this.x=C$Tzt.x-.5*this.width,this.y=C$Tzt.y-.5*this.height;}},{key:H[1815],get:function(){return new C$Tzo.default(this.x,this.y);},set:function(C$Tzt){this.x=C$Tzt.x,this.y=C$Tzt.y;}},{key:H[1816],get:function(){return new C$Tzh.default(this.width,this.height);},set:function(C$Tzt){this.width=C$Tzt.width,this.height=C$Tzt.height;}}])&&C$Tzc(C$Tzt.prototype,C$Tzi),C$Tze&&C$Tzc(C$Tzt,C$Tze),C$Tza;}(C$Tzn.default);C$Tzi.default=C$Tzl,C$Tzr.default.fastDefine(H[1817],C$Tzl,{x:0,y:0,width:0,height:0}),cc.Rect=C$Tzl,cc.rect=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return new C$Tzl(C$Tzt,C$Tze,C$Tzi,C$Tzn);},C$Tze.exports=C$Tzi.default;},{"../platform/CCClass":189,"./size":284,"./value-type":287,"./vec2":288}],284:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=C$Tzr(C$Tzt(H[1780])),C$Tzt=C$Tzr(C$Tzt(H[743]));function C$Tzr(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzo(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}function C$Tza(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzs(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzs(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzs(C$Tzt){return(C$Tzs=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzc=function(C$Tzn){var C$Tzt,C$Tze;C$Tze=C$Tzn,(C$Tzt=C$Tzs).prototype=Object.create(C$Tze.prototype),(C$Tzt.prototype.constructor=C$Tzt).__proto__=C$Tze,C$Tza(C$Tzs);function C$Tzs(C$Tzt,C$Tze){var C$Tzi;return void 0===C$Tzt&&(C$Tzt=0),void 0===C$Tze&&(C$Tze=0),(C$Tzi=C$Tzn.call(this)||this).width=void 0,C$Tzi.height=void 0,C$Tzt&&H[802]==typeof C$Tzt?(C$Tzi.height=C$Tzt.height,C$Tzi.width=C$Tzt.width):(C$Tzi.width=C$Tzt||0,C$Tzi.height=C$Tze||0),C$Tzi;}C$Tzt=C$Tzs,C$Tze=[{key:H[1818],get:function(){return new C$Tzs();}}],(C$Tzi=null)&&C$Tzo(C$Tzt.prototype,C$Tzi),C$Tze&&C$Tzo(C$Tzt,C$Tze);var C$Tzi=C$Tzs.prototype;return C$Tzi.clone=function(){return new C$Tzs(this.width,this.height);},C$Tzi.equals=function(C$Tzt){return C$Tzt&&this.width===C$Tzt.width&&this.height===C$Tzt.height;},C$Tzi.lerp=function(C$Tzt,C$Tze,C$Tzi){C$Tzi=C$Tzi||new C$Tzs();var C$Tzn=this.width,C$Tzr=this.height;return C$Tzi.width=C$Tzn+(C$Tzt.width-C$Tzn)*C$Tze,C$Tzi.height=C$Tzr+(C$Tzt.height-C$Tzr)*C$Tze,C$Tzi;},C$Tzi.set=function(C$Tzt){return this.width=C$Tzt.width,this.height=C$Tzt.height,this;},C$Tzi.toString=function(){return"("+this.width.toFixed(2)+H[1637]+this.height.toFixed(2)+")";},C$Tzs;}(C$Tzn.default);(C$Tzi.default=C$Tzc).ZERO_R=C$Tzc.ZERO,C$Tzt.default.fastDefine(H[1819],C$Tzc,{width:0,height:0}),cc.size=function(C$Tzt,C$Tze){return new C$Tzc(C$Tzt,C$Tze);},cc.Size=C$Tzc,C$Tze.exports=C$Tzi.default;},{"../platform/CCClass":189,"./value-type":287}],285:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzr=(C$Tzt=C$Tzt(H[1805]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};var C$Tzs=new C$Tzr.default(),C$Tzt=(C$Tzo.toRotation=function(C$Tzt,C$Tze){return C$Tzt.x=C$Tze[3],C$Tzt.y=C$Tze[4],C$Tzt.z=C$Tze[5],C$Tzt.w=C$Tze[6],C$Tzt;},C$Tzo.fromRotation=function(C$Tzt,C$Tze){return C$Tzt[3]=C$Tze.x,C$Tzt[4]=C$Tze.y,C$Tzt[5]=C$Tze.z,C$Tzt[6]=C$Tze.w,C$Tzt;},C$Tzo.toEuler=function(C$Tzt,C$Tze){return C$Tzo.toRotation(C$Tzs,C$Tze),C$Tzr.default.toEuler(C$Tzt,C$Tzs),C$Tzt;},C$Tzo.fromEuler=function(C$Tzt,C$Tze){return C$Tzr.default.fromEuler(C$Tzs,C$Tze.x,C$Tze.y,C$Tze.z),C$Tzo.fromRotation(C$Tzt,C$Tzs),C$Tzt;},C$Tzo.fromEulerNumber=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzr.default.fromEuler(C$Tzs,C$Tze,C$Tzi,C$Tzn),C$Tzo.fromRotation(C$Tzt,C$Tzs),C$Tzt;},C$Tzo.toScale=function(C$Tzt,C$Tze){return C$Tzt.x=C$Tze[7],C$Tzt.y=C$Tze[8],C$Tzt.z=C$Tze[9],C$Tzt;},C$Tzo.fromScale=function(C$Tzt,C$Tze){return C$Tzt[7]=C$Tze.x,C$Tzt[8]=C$Tze.y,C$Tzt[9]=C$Tze.z,C$Tzt;},C$Tzo.toPosition=function(C$Tzt,C$Tze){return C$Tzt.x=C$Tze[0],C$Tzt.y=C$Tze[1],C$Tzt.z=C$Tze[2],C$Tzt;},C$Tzo.fromPosition=function(C$Tzt,C$Tze){return C$Tzt[0]=C$Tze.x,C$Tzt[1]=C$Tze.y,C$Tzt[2]=C$Tze.z,C$Tzt;},C$Tzo.fromAngleZ=function(C$Tzt,C$Tze){return C$Tzr.default.fromAngleZ(C$Tzs,C$Tze),C$Tzo.fromRotation(C$Tzt,C$Tzs),C$Tzt;},C$Tzo.toMat4=function(C$Tzh,C$Tzt){var C$Tze=C$Tzt[3],C$Tzi=C$Tzt[4],C$Tzn=C$Tzt[5],C$Tzr=C$Tzt[6],C$Tzs=C$Tze+C$Tze,C$Tzo=C$Tzi+C$Tzi,C$Tza=C$Tzn+C$Tzn,C$Tzu=C$Tze*C$Tzs,C$Tz_=C$Tze*C$Tzo,C$Tze=C$Tze*C$Tza,C$Tzd=C$Tzi*C$Tzo,C$Tzi=C$Tzi*C$Tza,C$Tzn=C$Tzn*C$Tza,C$Tzs=C$Tzr*C$Tzs,C$Tzo=C$Tzr*C$Tzo,C$Tzr=C$Tzr*C$Tza,C$Tza=C$Tzt[7],C$Tzc=C$Tzt[8],C$Tzf=C$Tzt[9],C$Tzl=C$Tzh.m;return C$Tzl[0]=(1-(C$Tzd+C$Tzn))*C$Tza,C$Tzl[1]=(C$Tz_+C$Tzr)*C$Tza,C$Tzl[2]=(C$Tze-C$Tzo)*C$Tza,C$Tzl[3]=0,C$Tzl[4]=(C$Tz_-C$Tzr)*C$Tzc,C$Tzl[5]=(1-(C$Tzu+C$Tzn))*C$Tzc,C$Tzl[6]=(C$Tzi+C$Tzs)*C$Tzc,C$Tzl[7]=0,C$Tzl[8]=(C$Tze+C$Tzo)*C$Tzf,C$Tzl[9]=(C$Tzi-C$Tzs)*C$Tzf,C$Tzl[10]=(1-(C$Tzu+C$Tzd))*C$Tzf,C$Tzl[11]=0,C$Tzl[12]=C$Tzt[0],C$Tzl[13]=C$Tzt[1],C$Tzl[14]=C$Tzt[2],C$Tzl[15]=1,C$Tzh;},C$Tzo);function C$Tzo(){}C$Tzi.default=C$Tzt,cc.Trs=C$Tzt,C$Tze.exports=C$Tzi.default;},{"./quat":282}],286:[function(C$Tzl,C$Tzh,C$Tzt){"use strict";C$Tzt.__esModule=!0,C$Tzt.equals=function(C$Tzt,C$Tze){return Math.abs(C$Tzt-C$Tze)<=C$Tzn*Math.max(1,Math.abs(C$Tzt),Math.abs(C$Tze));},C$Tzt.approx=function(C$Tzt,C$Tze,C$Tzi){return C$Tzi=C$Tzi||C$Tzn,Math.abs(C$Tzt-C$Tze)<=C$Tzi;},C$Tzt.clamp=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt<C$Tze?C$Tze:C$Tzi<C$Tzt?C$Tzi:C$Tzt;},C$Tzt.clamp01=function(C$Tzt){return C$Tzt<0?0:1<C$Tzt?1:C$Tzt;},C$Tzt.lerp=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt+(C$Tze-C$Tzt)*C$Tzi;},C$Tzt.toRadian=function(C$Tzt){return C$Tzt*C$Tze;},C$Tzt.toDegree=function(C$Tzt){return C$Tzt*C$Tzi;},C$Tzt.randomRange=C$Tzs,C$Tzt.randomRangeInt=function(C$Tzt,C$Tze){return Math.floor(C$Tzs(C$Tzt,C$Tze));},C$Tzt.pseudoRandom=C$Tzo,C$Tzt.pseudoRandomRange=C$Tza,C$Tzt.pseudoRandomRangeInt=function(C$Tzt,C$Tze,C$Tzi){return Math.floor(C$Tza(C$Tzt,C$Tze,C$Tzi));},C$Tzt.nextPow2=function(C$Tzt){return--C$Tzt,C$Tzt=(C$Tzt=(C$Tzt=(C$Tzt=(C$Tzt|=C$Tzt>>1)|C$Tzt>>2)|C$Tzt>>4)|C$Tzt>>8)|C$Tzt>>16,++C$Tzt;},C$Tzt.repeat=C$Tzc,C$Tzt.pingPong=function(C$Tzt,C$Tze){return C$Tzt=C$Tzc(C$Tzt,2*C$Tze),C$Tzt=C$Tze-Math.abs(C$Tzt-C$Tze);},C$Tzt.inverseLerp=function(C$Tzt,C$Tze,C$Tzi){return(C$Tzi-C$Tzt)/(C$Tze-C$Tzt);},C$Tzt.sign=function(C$Tzt){return(0<C$Tzt)-(C$Tzt<0);},C$Tzt.random=C$Tzt.FLOAT_BYTES=C$Tzt.FLOAT_ARRAY_TYPE=C$Tzt.INT_MIN=C$Tzt.INT_MAX=C$Tzt.INT_BITS=C$Tzt.EPSILON=void 0;var C$Tze=Math.PI/180,C$Tzi=180/Math.PI,C$Tzn=1e-6,C$Tzr=(C$Tzt.EPSILON=C$Tzn,C$Tzt.INT_BITS=32,C$Tzt.INT_MAX=2147483647,C$Tzt.INT_MIN=-1<<31,Float64Array);C$Tzt.FLOAT_ARRAY_TYPE=C$Tzr;C$Tzt.FLOAT_BYTES=8;C$Tzr=Math.random;function C$Tzs(C$Tzt,C$Tze){return Math.random()*(C$Tze-C$Tzt)+C$Tzt;}function C$Tzo(C$Tzt){return(C$Tzt=(9301*C$Tzt+49297)%233280)/233280;}function C$Tza(C$Tzt,C$Tze,C$Tzi){return C$Tzo(C$Tzt)*(C$Tzi-C$Tze)+C$Tze;}function C$Tzc(C$Tzt,C$Tze){return C$Tzt-Math.floor(C$Tzt/C$Tze)*C$Tze;}C$Tzt.random=C$Tzr;},{}],287:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=(C$Tzt=C$Tzt(H[720]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};(C$Tzt=C$Tzr.prototype).clone=function(){return cc.errorID(H[1820],C$Tzn.default.getClassName(this)+H[1821]),null;},C$Tzt.equals=function(C$Tzt){return cc.errorID(H[1820],C$Tzn.default.getClassName(this)+H[1822]),!1;},C$Tzt.lerp=function(C$Tzt,C$Tze){return cc.errorID(H[1820],C$Tzn.default.getClassName(this)+H[1823]),this.clone();},C$Tzt.set=function(C$Tzt){cc.errorID(H[1820],C$Tzn.default.getClassName(this)+H[1824]);},C$Tzt.toString=function(){return""+{};};C$Tzt=C$Tzr;function C$Tzr(){}C$Tzi.default=C$Tzt,C$Tzn.default.setClassName(H[1825],C$Tzt),cc.ValueType=C$Tzt,C$Tze.exports=C$Tzi.default;},{"../platform/js":209}],288:[function(C$Tzt,C$Tzh,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.default=void 0;var C$Tzi=C$Tzs(C$Tzt(H[1780])),C$Tzu=C$Tzs(C$Tzt(H[743])),C$Tzn=C$Tzs(C$Tzt(H[849])),C$Tzr=C$Tzt(H[800]);function C$Tzs(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tz_(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}function C$Tzd(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzf(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzf(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzf(C$Tzt){return(C$Tzf=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzp,C$Tzm,C$Tzy,C$Tzo=0,C$Tza=0,C$Tzc=(C$Tzp=C$Tzi.default,C$Tzt=C$Tzp,(C$Tzi=C$Tzl).prototype=Object.create(C$Tzt.prototype),(C$Tzi.prototype.constructor=C$Tzi).__proto__=C$Tzt,C$Tzd(C$Tzl),(C$Tzi=C$Tzl.prototype).sub=function(C$Tzt,C$Tze){return C$Tzl.subtract(C$Tze||new C$Tzl(),this,C$Tzt);},C$Tzi.mul=function(C$Tzt,C$Tze){return C$Tzl.multiplyScalar(C$Tze||new C$Tzl(),this,C$Tzt);},C$Tzi.div=function(C$Tzt,C$Tze){return C$Tzl.multiplyScalar(C$Tze||new C$Tzl(),this,1/C$Tzt);},C$Tzi.scale=function(C$Tzt,C$Tze){return C$Tzl.multiply(C$Tze||new C$Tzl(),this,C$Tzt);},C$Tzi.neg=function(C$Tzt){return C$Tzl.negate(C$Tzt||new C$Tzl(),this);},C$Tzl.clone=function(C$Tzt){return new C$Tzl(C$Tzt.x,C$Tzt.y);},C$Tzl.copy=function(C$Tzt,C$Tze){return C$Tzt.x=C$Tze.x,C$Tzt.y=C$Tze.y,C$Tzt;},C$Tzl.set=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze,C$Tzt.y=C$Tzi,C$Tzt;},C$Tzl.add=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x+C$Tzi.x,C$Tzt.y=C$Tze.y+C$Tzi.y,C$Tzt;},C$Tzl.subtract=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x-C$Tzi.x,C$Tzt.y=C$Tze.y-C$Tzi.y,C$Tzt;},C$Tzl.multiply=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x*C$Tzi.x,C$Tzt.y=C$Tze.y*C$Tzi.y,C$Tzt;},C$Tzl.divide=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x/C$Tzi.x,C$Tzt.y=C$Tze.y/C$Tzi.y,C$Tzt;},C$Tzl.ceil=function(C$Tzt,C$Tze){return C$Tzt.x=Math.ceil(C$Tze.x),C$Tzt.y=Math.ceil(C$Tze.y),C$Tzt;},C$Tzl.floor=function(C$Tzt,C$Tze){return C$Tzt.x=Math.floor(C$Tze.x),C$Tzt.y=Math.floor(C$Tze.y),C$Tzt;},C$Tzl.min=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=Math.min(C$Tze.x,C$Tzi.x),C$Tzt.y=Math.min(C$Tze.y,C$Tzi.y),C$Tzt;},C$Tzl.max=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=Math.max(C$Tze.x,C$Tzi.x),C$Tzt.y=Math.max(C$Tze.y,C$Tzi.y),C$Tzt;},C$Tzl.round=function(C$Tzt,C$Tze){return C$Tzt.x=Math.round(C$Tze.x),C$Tzt.y=Math.round(C$Tze.y),C$Tzt;},C$Tzl.multiplyScalar=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x*C$Tzi,C$Tzt.y=C$Tze.y*C$Tzi,C$Tzt;},C$Tzl.scaleAndAdd=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzt.x=C$Tze.x+C$Tzi.x*C$Tzn,C$Tzt.y=C$Tze.y+C$Tzi.y*C$Tzn,C$Tzt;},C$Tzl.distance=function(C$Tzt,C$Tze){return C$Tzo=C$Tze.x-C$Tzt.x,C$Tza=C$Tze.y-C$Tzt.y,Math.sqrt(C$Tzo*C$Tzo+C$Tza*C$Tza);},C$Tzl.squaredDistance=function(C$Tzt,C$Tze){return C$Tzo=C$Tze.x-C$Tzt.x,C$Tza=C$Tze.y-C$Tzt.y,C$Tzo*C$Tzo+C$Tza*C$Tza;},C$Tzl.len=function(C$Tzt){return C$Tzo=C$Tzt.x,C$Tza=C$Tzt.y,Math.sqrt(C$Tzo*C$Tzo+C$Tza*C$Tza);},C$Tzl.lengthSqr=function(C$Tzt){return C$Tzo=C$Tzt.x,C$Tza=C$Tzt.y,C$Tzo*C$Tzo+C$Tza*C$Tza;},C$Tzl.negate=function(C$Tzt,C$Tze){return C$Tzt.x=-C$Tze.x,C$Tzt.y=-C$Tze.y,C$Tzt;},C$Tzl.inverse=function(C$Tzt,C$Tze){return C$Tzt.x=1/C$Tze.x,C$Tzt.y=1/C$Tze.y,C$Tzt;},C$Tzl.inverseSafe=function(C$Tzt,C$Tze){return C$Tzo=C$Tze.x,C$Tza=C$Tze.y,Math.abs(C$Tzo)<C$Tzr.EPSILON?C$Tzt.x=0:C$Tzt.x=1/C$Tzo,Math.abs(C$Tza)<C$Tzr.EPSILON?C$Tzt.y=0:C$Tzt.y=1/C$Tza,C$Tzt;},C$Tzl.normalize=function(C$Tzt,C$Tze){C$Tzo=C$Tze.x,C$Tza=C$Tze.y;C$Tze=C$Tzo*C$Tzo+C$Tza*C$Tza;return 0<C$Tze&&(C$Tze=1/Math.sqrt(C$Tze),C$Tzt.x=C$Tzo*C$Tze,C$Tzt.y=C$Tza*C$Tze),C$Tzt;},C$Tzl.dot=function(C$Tzt,C$Tze){return C$Tzt.x*C$Tze.x+C$Tzt.y*C$Tze.y;},C$Tzl.cross=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tzt.y=0,C$Tzt.z=C$Tze.x*C$Tzi.y-C$Tze.y*C$Tzi.x,C$Tzt;},C$Tzl.lerp=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzo=C$Tze.x,C$Tza=C$Tze.y,C$Tzt.x=C$Tzo+C$Tzn*(C$Tzi.x-C$Tzo),C$Tzt.y=C$Tza+C$Tzn*(C$Tzi.y-C$Tza),C$Tzt;},C$Tzl.random=function(C$Tzt,C$Tze){C$Tze=C$Tze||1;var C$Tzi=2*(0,C$Tzr.random)()*Math.PI;return C$Tzt.x=Math.cos(C$Tzi)*C$Tze,C$Tzt.y=Math.sin(C$Tzi)*C$Tze,C$Tzt;},C$Tzl.transformMat3=function(C$Tzt,C$Tze,C$Tzi){C$Tzo=C$Tze.x,C$Tza=C$Tze.y;C$Tze=C$Tzi.m;return C$Tzt.x=C$Tze[0]*C$Tzo+C$Tze[3]*C$Tza+C$Tze[6],C$Tzt.y=C$Tze[1]*C$Tzo+C$Tze[4]*C$Tza+C$Tze[7],C$Tzt;},C$Tzl.transformMat4=function(C$Tzt,C$Tze,C$Tzi){C$Tzo=C$Tze.x,C$Tza=C$Tze.y;C$Tze=C$Tzi.m;return C$Tzt.x=C$Tze[0]*C$Tzo+C$Tze[4]*C$Tza+C$Tze[12],C$Tzt.y=C$Tze[1]*C$Tzo+C$Tze[5]*C$Tza+C$Tze[13],C$Tzt;},C$Tzl.strictEquals=function(C$Tzt,C$Tze){return C$Tzt.x===C$Tze.x&&C$Tzt.y===C$Tze.y;},C$Tzl.equals=function(C$Tzt,C$Tze,C$Tzi){return void 0===C$Tzi&&(C$Tzi=C$Tzr.EPSILON),Math.abs(C$Tzt.x-C$Tze.x)<=C$Tzi*Math.max(1,Math.abs(C$Tzt.x),Math.abs(C$Tze.x))&&Math.abs(C$Tzt.y-C$Tze.y)<=C$Tzi*Math.max(1,Math.abs(C$Tzt.y),Math.abs(C$Tze.y));},C$Tzl.angle=function(C$Tzt,C$Tze){C$Tzl.normalize(C$Tzg,C$Tzt),C$Tzl.normalize(C$Tzv,C$Tze);C$Tzt=C$Tzl.dot(C$Tzg,C$Tzv);return 1<C$Tzt?0:C$Tzt<-1?Math.PI:Math.acos(C$Tzt);},C$Tzl.toArray=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt[(C$Tzi=void 0===C$Tzi?0:C$Tzi)+0]=C$Tze.x,C$Tzt[C$Tzi+1]=C$Tze.y,C$Tzt;},C$Tzl.fromArray=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze[(C$Tzi=void 0===C$Tzi?0:C$Tzi)+0],C$Tzt.y=C$Tze[C$Tzi+1],C$Tzt;},C$Tzt=C$Tzl,C$Tzy=[{key:H[1826],get:function(){return new C$Tzl(1,1);}},{key:H[1818],get:function(){return new C$Tzl(0,0);}},{key:H[1827],get:function(){return new C$Tzl(0,1);}},{key:H[1828],get:function(){return new C$Tzl(1,0);}}],(C$Tzm=null)&&C$Tz_(C$Tzt.prototype,C$Tzm),C$Tzy&&C$Tz_(C$Tzt,C$Tzy),C$Tzi.clone=function(){return new C$Tzl(this.x,this.y);},C$Tzi.set=function(C$Tzt){return this.x=C$Tzt.x,this.y=C$Tzt.y,this;},C$Tzi.equals=function(C$Tzt){return C$Tzt&&this.x===C$Tzt.x&&this.y===C$Tzt.y;},C$Tzi.fuzzyEquals=function(C$Tzt,C$Tze){return this.x-C$Tze<=C$Tzt.x&&C$Tzt.x<=this.x+C$Tze&&this.y-C$Tze<=C$Tzt.y&&C$Tzt.y<=this.y+C$Tze;},C$Tzi.toString=function(){return"("+this.x.toFixed(2)+H[1637]+this.y.toFixed(2)+")";},C$Tzi.lerp=function(C$Tzt,C$Tze,C$Tzi){C$Tzi=C$Tzi||new C$Tzl();var C$Tzn=this.x,C$Tzr=this.y;return C$Tzi.x=C$Tzn+(C$Tzt.x-C$Tzn)*C$Tze,C$Tzi.y=C$Tzr+(C$Tzt.y-C$Tzr)*C$Tze,C$Tzi;},C$Tzi.clampf=function(C$Tzt,C$Tze){return this.x=C$Tzn.default.clampf(this.x,C$Tzt.x,C$Tze.x),this.y=C$Tzn.default.clampf(this.y,C$Tzt.y,C$Tze.y),this;},C$Tzi.add=function(C$Tzt,C$Tze){return(C$Tze=C$Tze||new C$Tzl()).x=this.x+C$Tzt.x,C$Tze.y=this.y+C$Tzt.y,C$Tze;},C$Tzi.addSelf=function(C$Tzt){return this.x+=C$Tzt.x,this.y+=C$Tzt.y,this;},C$Tzi.subtract=function(C$Tzt){return this.x-=C$Tzt.x,this.y-=C$Tzt.y,this;},C$Tzi.multiplyScalar=function(C$Tzt){return this.x*=C$Tzt,this.y*=C$Tzt,this;},C$Tzi.multiply=function(C$Tzt){return this.x*=C$Tzt.x,this.y*=C$Tzt.y,this;},C$Tzi.divide=function(C$Tzt){return this.x/=C$Tzt,this.y/=C$Tzt,this;},C$Tzi.negate=function(){return this.x=-this.x,this.y=-this.y,this;},C$Tzi.dot=function(C$Tzt){return this.x*C$Tzt.x+this.y*C$Tzt.y;},C$Tzi.cross=function(C$Tzt){return this.x*C$Tzt.y-this.y*C$Tzt.x;},C$Tzi.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y);},C$Tzi.lengthSqr=function(){return this.x*this.x+this.y*this.y;},C$Tzi.normalizeSelf=function(){var C$Tzt=this.x*this.x+this.y*this.y;if(1==C$Tzt)return this;if(0==C$Tzt)return this;C$Tzt=1/Math.sqrt(C$Tzt);return this.x*=C$Tzt,this.y*=C$Tzt,this;},C$Tzi.normalize=function(C$Tzt){return(C$Tzt=C$Tzt||new C$Tzl()).x=this.x,C$Tzt.y=this.y,C$Tzt.normalizeSelf(),C$Tzt;},C$Tzi.angle=function(C$Tzt){var C$Tze=this.magSqr(),C$Tzi=C$Tzt.magSqr();if(0===C$Tze||0===C$Tzi)return console.warn(H[1829]),0;C$Tzt=this.dot(C$Tzt)/Math.sqrt(C$Tze*C$Tzi),C$Tzt=C$Tzn.default.clampf(C$Tzt,-1,1);return Math.acos(C$Tzt);},C$Tzi.signAngle=function(C$Tzt){var C$Tze=this.angle(C$Tzt);return this.cross(C$Tzt)<0?-C$Tze:C$Tze;},C$Tzi.rotate=function(C$Tzt,C$Tze){return(C$Tze=C$Tze||new C$Tzl()).x=this.x,C$Tze.y=this.y,C$Tze.rotateSelf(C$Tzt);},C$Tzi.rotateSelf=function(C$Tzt){var C$Tze=Math.sin(C$Tzt),C$Tzt=Math.cos(C$Tzt),C$Tzi=this.x;return this.x=C$Tzt*C$Tzi-C$Tze*this.y,this.y=C$Tze*C$Tzi+C$Tzt*this.y,this;},C$Tzi.project=function(C$Tzt){return C$Tzt.multiplyScalar(this.dot(C$Tzt)/C$Tzt.dot(C$Tzt));},C$Tzi.transformMat4=function(C$Tzt,C$Tze){return C$Tze=C$Tze||new C$Tzl(),C$Tzl.transformMat4(C$Tze,this,C$Tzt),C$Tze;},C$Tzi.maxAxis=function(){return Math.max(this.x,this.y);},C$Tzl);function C$Tzl(C$Tzt,C$Tze){var C$Tzi;return void 0===C$Tzt&&(C$Tzt=0),void 0===C$Tze&&(C$Tze=0),(C$Tzi=C$Tzp.call(this)||this).mag=C$Tzl.prototype.len,C$Tzi.magSqr=C$Tzl.prototype.lengthSqr,C$Tzi.subSelf=C$Tzl.prototype.subtract,C$Tzi.mulSelf=C$Tzl.prototype.multiplyScalar,C$Tzi.divSelf=C$Tzl.prototype.divide,C$Tzi.scaleSelf=C$Tzl.prototype.multiply,C$Tzi.negSelf=C$Tzl.prototype.negate,C$Tzi.x=void 0,C$Tzi.y=void 0,C$Tzi.z=0,C$Tzt&&H[802]==typeof C$Tzt?(C$Tzi.y=C$Tzt.y||0,C$Tzi.x=C$Tzt.x||0):(C$Tzi.x=C$Tzt||0,C$Tzi.y=C$Tze||0),C$Tzi;}(C$Tze.default=C$Tzc).sub=C$Tzc.subtract,C$Tzc.mul=C$Tzc.multiply,C$Tzc.scale=C$Tzc.multiplyScalar,C$Tzc.mag=C$Tzc.len,C$Tzc.squaredMagnitude=C$Tzc.lengthSqr,C$Tzc.div=C$Tzc.divide,C$Tzc.ONE_R=C$Tzc.ONE,C$Tzc.ZERO_R=C$Tzc.ZERO,C$Tzc.UP_R=C$Tzc.UP,C$Tzc.RIGHT_R=C$Tzc.RIGHT;var C$Tzg=new C$Tzc(),C$Tzv=new C$Tzc();C$Tzu.default.fastDefine(H[1830],C$Tzc,{x:0,y:0}),cc.v2=function(C$Tzt,C$Tze){return new C$Tzc(C$Tzt,C$Tze);},cc.Vec2=C$Tzc,C$Tzh.exports=C$Tze.default;},{"../platform/CCClass":189,"../utils/misc":264,"./utils":286,"./value-type":287}],289:[function(C$Tzt,C$Tzh,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.default=void 0;var C$Tzi=C$Tzd(C$Tzt(H[1780])),C$Tzu=C$Tzd(C$Tzt(H[743])),C$Tz_=C$Tzd(C$Tzt(H[849])),C$Tzr=C$Tzd(C$Tzt(H[1797])),C$Tza=C$Tzt(H[800]);function C$Tzd(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzf(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}function C$Tzp(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzm(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzm(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzm(C$Tzt){return(C$Tzm=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzy,C$Tzg,C$Tzv,C$Tzo=0,C$Tzc=0,C$Tzl=0,C$Tzn=(C$Tzy=C$Tzi.default,C$Tzt=C$Tzy,(C$Tzi=C$Tzs).prototype=Object.create(C$Tzt.prototype),(C$Tzi.prototype.constructor=C$Tzi).__proto__=C$Tzt,C$Tzp(C$Tzs),(C$Tzi=C$Tzs.prototype).sub=function(C$Tzt,C$Tze){return C$Tzs.subtract(C$Tze||new C$Tzs(),this,C$Tzt);},C$Tzi.mul=function(C$Tzt,C$Tze){return C$Tzs.multiplyScalar(C$Tze||new C$Tzs(),this,C$Tzt);},C$Tzi.div=function(C$Tzt,C$Tze){return C$Tzs.multiplyScalar(C$Tze||new C$Tzs(),this,1/C$Tzt);},C$Tzi.scale=function(C$Tzt,C$Tze){return C$Tzs.multiply(C$Tze||new C$Tzs(),this,C$Tzt);},C$Tzi.neg=function(C$Tzt){return C$Tzs.negate(C$Tzt||new C$Tzs(),this);},C$Tzs.zero=function(C$Tzt){return C$Tzt.x=0,C$Tzt.y=0,C$Tzt.z=0,C$Tzt;},C$Tzs.clone=function(C$Tzt){return new C$Tzs(C$Tzt.x,C$Tzt.y,C$Tzt.z);},C$Tzs.copy=function(C$Tzt,C$Tze){return C$Tzt.x=C$Tze.x,C$Tzt.y=C$Tze.y,C$Tzt.z=C$Tze.z,C$Tzt;},C$Tzs.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzt.x=C$Tze,C$Tzt.y=C$Tzi,C$Tzt.z=C$Tzn,C$Tzt;},C$Tzs.add=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x+C$Tzi.x,C$Tzt.y=C$Tze.y+C$Tzi.y,C$Tzt.z=C$Tze.z+C$Tzi.z,C$Tzt;},C$Tzs.subtract=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x-C$Tzi.x,C$Tzt.y=C$Tze.y-C$Tzi.y,C$Tzt.z=C$Tze.z-C$Tzi.z,C$Tzt;},C$Tzs.multiply=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x*C$Tzi.x,C$Tzt.y=C$Tze.y*C$Tzi.y,C$Tzt.z=C$Tze.z*C$Tzi.z,C$Tzt;},C$Tzs.divide=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x/C$Tzi.x,C$Tzt.y=C$Tze.y/C$Tzi.y,C$Tzt.z=C$Tze.z/C$Tzi.z,C$Tzt;},C$Tzs.ceil=function(C$Tzt,C$Tze){return C$Tzt.x=Math.ceil(C$Tze.x),C$Tzt.y=Math.ceil(C$Tze.y),C$Tzt.z=Math.ceil(C$Tze.z),C$Tzt;},C$Tzs.floor=function(C$Tzt,C$Tze){return C$Tzt.x=Math.floor(C$Tze.x),C$Tzt.y=Math.floor(C$Tze.y),C$Tzt.z=Math.floor(C$Tze.z),C$Tzt;},C$Tzs.min=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=Math.min(C$Tze.x,C$Tzi.x),C$Tzt.y=Math.min(C$Tze.y,C$Tzi.y),C$Tzt.z=Math.min(C$Tze.z,C$Tzi.z),C$Tzt;},C$Tzs.max=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=Math.max(C$Tze.x,C$Tzi.x),C$Tzt.y=Math.max(C$Tze.y,C$Tzi.y),C$Tzt.z=Math.max(C$Tze.z,C$Tzi.z),C$Tzt;},C$Tzs.round=function(C$Tzt,C$Tze){return C$Tzt.x=Math.round(C$Tze.x),C$Tzt.y=Math.round(C$Tze.y),C$Tzt.z=Math.round(C$Tze.z),C$Tzt;},C$Tzs.multiplyScalar=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x*C$Tzi,C$Tzt.y=C$Tze.y*C$Tzi,C$Tzt.z=C$Tze.z*C$Tzi,C$Tzt;},C$Tzs.scaleAndAdd=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzt.x=C$Tze.x+C$Tzi.x*C$Tzn,C$Tzt.y=C$Tze.y+C$Tzi.y*C$Tzn,C$Tzt.z=C$Tze.z+C$Tzi.z*C$Tzn,C$Tzt;},C$Tzs.distance=function(C$Tzt,C$Tze){return C$Tzo=C$Tze.x-C$Tzt.x,C$Tzc=C$Tze.y-C$Tzt.y,C$Tzl=C$Tze.z-C$Tzt.z,Math.sqrt(C$Tzo*C$Tzo+C$Tzc*C$Tzc+C$Tzl*C$Tzl);},C$Tzs.squaredDistance=function(C$Tzt,C$Tze){return C$Tzo=C$Tze.x-C$Tzt.x,C$Tzc=C$Tze.y-C$Tzt.y,C$Tzl=C$Tze.z-C$Tzt.z,C$Tzo*C$Tzo+C$Tzc*C$Tzc+C$Tzl*C$Tzl;},C$Tzs.len=function(C$Tzt){return C$Tzo=C$Tzt.x,C$Tzc=C$Tzt.y,C$Tzl=C$Tzt.z,Math.sqrt(C$Tzo*C$Tzo+C$Tzc*C$Tzc+C$Tzl*C$Tzl);},C$Tzs.lengthSqr=function(C$Tzt){return C$Tzo=C$Tzt.x,C$Tzc=C$Tzt.y,C$Tzl=C$Tzt.z,C$Tzo*C$Tzo+C$Tzc*C$Tzc+C$Tzl*C$Tzl;},C$Tzs.negate=function(C$Tzt,C$Tze){return C$Tzt.x=-C$Tze.x,C$Tzt.y=-C$Tze.y,C$Tzt.z=-C$Tze.z,C$Tzt;},C$Tzs.inverse=function(C$Tzt,C$Tze){return C$Tzt.x=1/C$Tze.x,C$Tzt.y=1/C$Tze.y,C$Tzt.z=1/C$Tze.z,C$Tzt;},C$Tzs.inverseSafe=function(C$Tzt,C$Tze){return C$Tzo=C$Tze.x,C$Tzc=C$Tze.y,C$Tzl=C$Tze.z,Math.abs(C$Tzo)<C$Tza.EPSILON?C$Tzt.x=0:C$Tzt.x=1/C$Tzo,Math.abs(C$Tzc)<C$Tza.EPSILON?C$Tzt.y=0:C$Tzt.y=1/C$Tzc,Math.abs(C$Tzl)<C$Tza.EPSILON?C$Tzt.z=0:C$Tzt.z=1/C$Tzl,C$Tzt;},C$Tzs.normalize=function(C$Tzt,C$Tze){C$Tzo=C$Tze.x,C$Tzc=C$Tze.y,C$Tzl=C$Tze.z;C$Tze=C$Tzo*C$Tzo+C$Tzc*C$Tzc+C$Tzl*C$Tzl;return 0<C$Tze&&(C$Tze=1/Math.sqrt(C$Tze),C$Tzt.x=C$Tzo*C$Tze,C$Tzt.y=C$Tzc*C$Tze,C$Tzt.z=C$Tzl*C$Tze),C$Tzt;},C$Tzs.dot=function(C$Tzt,C$Tze){return C$Tzt.x*C$Tze.x+C$Tzt.y*C$Tze.y+C$Tzt.z*C$Tze.z;},C$Tzs.cross=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tze.x,C$Tzr=C$Tze.y,C$Tze=C$Tze.z,C$Tzs=C$Tzi.x,C$Tzo=C$Tzi.y,C$Tzi=C$Tzi.z;return C$Tzt.x=C$Tzr*C$Tzi-C$Tze*C$Tzo,C$Tzt.y=C$Tze*C$Tzs-C$Tzn*C$Tzi,C$Tzt.z=C$Tzn*C$Tzo-C$Tzr*C$Tzs,C$Tzt;},C$Tzs.lerp=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzt.x=C$Tze.x+C$Tzn*(C$Tzi.x-C$Tze.x),C$Tzt.y=C$Tze.y+C$Tzn*(C$Tzi.y-C$Tze.y),C$Tzt.z=C$Tze.z+C$Tzn*(C$Tzi.z-C$Tze.z),C$Tzt;},C$Tzs.random=function(C$Tzt,C$Tze){C$Tze=C$Tze||1;var C$Tzi=2*(0,C$Tza.random)()*Math.PI,C$Tzn=2*(0,C$Tza.random)()-1,C$Tzr=Math.sqrt(1-C$Tzn*C$Tzn);return C$Tzt.x=C$Tzr*Math.cos(C$Tzi)*C$Tze,C$Tzt.y=C$Tzr*Math.sin(C$Tzi)*C$Tze,C$Tzt.z=C$Tzn*C$Tze,C$Tzt;},C$Tzs.transformMat4=function(C$Tzt,C$Tze,C$Tzi){C$Tzo=C$Tze.x,C$Tzc=C$Tze.y,C$Tzl=C$Tze.z;C$Tze=C$Tzi.m,C$Tzi=(C$Tzi=C$Tze[3]*C$Tzo+C$Tze[7]*C$Tzc+C$Tze[11]*C$Tzl+C$Tze[15])?1/C$Tzi:1;return C$Tzt.x=(C$Tze[0]*C$Tzo+C$Tze[4]*C$Tzc+C$Tze[8]*C$Tzl+C$Tze[12])*C$Tzi,C$Tzt.y=(C$Tze[1]*C$Tzo+C$Tze[5]*C$Tzc+C$Tze[9]*C$Tzl+C$Tze[13])*C$Tzi,C$Tzt.z=(C$Tze[2]*C$Tzo+C$Tze[6]*C$Tzc+C$Tze[10]*C$Tzl+C$Tze[14])*C$Tzi,C$Tzt;},C$Tzs.transformMat4Normal=function(C$Tzt,C$Tze,C$Tzi){C$Tzo=C$Tze.x,C$Tzc=C$Tze.y,C$Tzl=C$Tze.z;C$Tze=C$Tzi.m,C$Tzi=(C$Tzi=C$Tze[3]*C$Tzo+C$Tze[7]*C$Tzc+C$Tze[11]*C$Tzl)?1/C$Tzi:1;return C$Tzt.x=(C$Tze[0]*C$Tzo+C$Tze[4]*C$Tzc+C$Tze[8]*C$Tzl)*C$Tzi,C$Tzt.y=(C$Tze[1]*C$Tzo+C$Tze[5]*C$Tzc+C$Tze[9]*C$Tzl)*C$Tzi,C$Tzt.z=(C$Tze[2]*C$Tzo+C$Tze[6]*C$Tzc+C$Tze[10]*C$Tzl)*C$Tzi,C$Tzt;},C$Tzs.transformMat3=function(C$Tzt,C$Tze,C$Tzi){C$Tzo=C$Tze.x,C$Tzc=C$Tze.y,C$Tzl=C$Tze.z;C$Tze=C$Tzi.m;return C$Tzt.x=C$Tzo*C$Tze[0]+C$Tzc*C$Tze[3]+C$Tzl*C$Tze[6],C$Tzt.y=C$Tzo*C$Tze[1]+C$Tzc*C$Tze[4]+C$Tzl*C$Tze[7],C$Tzt.z=C$Tzo*C$Tze[2]+C$Tzc*C$Tze[5]+C$Tzl*C$Tze[8],C$Tzt;},C$Tzs.transformAffine=function(C$Tzt,C$Tze,C$Tzi){C$Tzo=C$Tze.x,C$Tzc=C$Tze.y,C$Tzl=C$Tze.z;C$Tze=C$Tzi.m;return C$Tzt.x=C$Tze[0]*C$Tzo+C$Tze[1]*C$Tzc+C$Tze[2]*C$Tzl+C$Tze[3],C$Tzt.y=C$Tze[4]*C$Tzo+C$Tze[5]*C$Tzc+C$Tze[6]*C$Tzl+C$Tze[7],C$Tzt.x=C$Tze[8]*C$Tzo+C$Tze[9]*C$Tzc+C$Tze[10]*C$Tzl+C$Tze[11],C$Tzt;},C$Tzs.transformQuat=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzi.w*C$Tze.x+C$Tzi.y*C$Tze.z-C$Tzi.z*C$Tze.y,C$Tzr=C$Tzi.w*C$Tze.y+C$Tzi.z*C$Tze.x-C$Tzi.x*C$Tze.z,C$Tzs=C$Tzi.w*C$Tze.z+C$Tzi.x*C$Tze.y-C$Tzi.y*C$Tze.x,C$Tze=-C$Tzi.x*C$Tze.x-C$Tzi.y*C$Tze.y-C$Tzi.z*C$Tze.z;return C$Tzt.x=C$Tzn*C$Tzi.w+C$Tze*-C$Tzi.x+C$Tzr*-C$Tzi.z-C$Tzs*-C$Tzi.y,C$Tzt.y=C$Tzr*C$Tzi.w+C$Tze*-C$Tzi.y+C$Tzs*-C$Tzi.x-C$Tzn*-C$Tzi.z,C$Tzt.z=C$Tzs*C$Tzi.w+C$Tze*-C$Tzi.z+C$Tzn*-C$Tzi.y-C$Tzr*-C$Tzi.x,C$Tzt;},C$Tzs.transformRTS=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs=C$Tze.x*C$Tzr.x,C$Tzo=C$Tze.y*C$Tzr.y,C$Tze=C$Tze.z*C$Tzr.z,C$Tzr=C$Tzi.w*C$Tzs+C$Tzi.y*C$Tze-C$Tzi.z*C$Tzo,C$Tza=C$Tzi.w*C$Tzo+C$Tzi.z*C$Tzs-C$Tzi.x*C$Tze,C$Tzc=C$Tzi.w*C$Tze+C$Tzi.x*C$Tzo-C$Tzi.y*C$Tzs,C$Tzs=-C$Tzi.x*C$Tzs-C$Tzi.y*C$Tzo-C$Tzi.z*C$Tze;return C$Tzt.x=C$Tzr*C$Tzi.w+C$Tzs*-C$Tzi.x+C$Tza*-C$Tzi.z-C$Tzc*-C$Tzi.y+C$Tzn.x,C$Tzt.y=C$Tza*C$Tzi.w+C$Tzs*-C$Tzi.y+C$Tzc*-C$Tzi.x-C$Tzr*-C$Tzi.z+C$Tzn.y,C$Tzt.z=C$Tzc*C$Tzi.w+C$Tzs*-C$Tzi.z+C$Tzr*-C$Tzi.y-C$Tza*-C$Tzi.x+C$Tzn.z,C$Tzt;},C$Tzs.transformInverseRTS=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs=C$Tze.x-C$Tzn.x,C$Tzo=C$Tze.y-C$Tzn.y,C$Tze=C$Tze.z-C$Tzn.z,C$Tzn=C$Tzi.w*C$Tzs-C$Tzi.y*C$Tze+C$Tzi.z*C$Tzo,C$Tza=C$Tzi.w*C$Tzo-C$Tzi.z*C$Tzs+C$Tzi.x*C$Tze,C$Tzc=C$Tzi.w*C$Tze-C$Tzi.x*C$Tzo+C$Tzi.y*C$Tzs,C$Tzs=C$Tzi.x*C$Tzs+C$Tzi.y*C$Tzo+C$Tzi.z*C$Tze;return C$Tzt.x=(C$Tzn*C$Tzi.w+C$Tzs*C$Tzi.x+C$Tza*C$Tzi.z-C$Tzc*C$Tzi.y)/C$Tzr.x,C$Tzt.y=(C$Tza*C$Tzi.w+C$Tzs*C$Tzi.y+C$Tzc*C$Tzi.x-C$Tzn*C$Tzi.z)/C$Tzr.y,C$Tzt.z=(C$Tzc*C$Tzi.w+C$Tzs*C$Tzi.z+C$Tzn*C$Tzi.y-C$Tza*C$Tzi.x)/C$Tzr.z,C$Tzt;},C$Tzs.rotateX=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzo=C$Tze.x-C$Tzi.x,C$Tzc=C$Tze.y-C$Tzi.y,C$Tzl=C$Tze.z-C$Tzi.z;var C$Tze=Math.cos(C$Tzn),C$Tzn=Math.sin(C$Tzn),C$Tzr=C$Tzo,C$Tzs=C$Tzc*C$Tze-C$Tzl*C$Tzn,C$Tzn=C$Tzc*C$Tzn+C$Tzl*C$Tze;return C$Tzt.x=C$Tzr+C$Tzi.x,C$Tzt.y=C$Tzs+C$Tzi.y,C$Tzt.z=C$Tzn+C$Tzi.z,C$Tzt;},C$Tzs.rotateY=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzo=C$Tze.x-C$Tzi.x,C$Tzc=C$Tze.y-C$Tzi.y,C$Tzl=C$Tze.z-C$Tzi.z;var C$Tze=Math.cos(C$Tzn),C$Tzn=Math.sin(C$Tzn),C$Tzr=C$Tzl*C$Tzn+C$Tzo*C$Tze,C$Tzs=C$Tzc,C$Tze=C$Tzl*C$Tze-C$Tzo*C$Tzn;return C$Tzt.x=C$Tzr+C$Tzi.x,C$Tzt.y=C$Tzs+C$Tzi.y,C$Tzt.z=C$Tze+C$Tzi.z,C$Tzt;},C$Tzs.rotateZ=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzo=C$Tze.x-C$Tzi.x,C$Tzc=C$Tze.y-C$Tzi.y,C$Tzl=C$Tze.z-C$Tzi.z;var C$Tze=Math.cos(C$Tzn),C$Tzn=Math.sin(C$Tzn),C$Tzr=C$Tzo*C$Tze-C$Tzc*C$Tzn,C$Tzn=C$Tzo*C$Tzn+C$Tzc*C$Tze,C$Tze=C$Tzl;return C$Tzt.x=C$Tzr+C$Tzi.x,C$Tzt.y=C$Tzn+C$Tzi.y,C$Tzt.z=C$Tze+C$Tzi.z,C$Tzt;},C$Tzs.strictEquals=function(C$Tzt,C$Tze){return C$Tzt.x===C$Tze.x&&C$Tzt.y===C$Tze.y&&C$Tzt.z===C$Tze.z;},C$Tzs.equals=function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=C$Tza.EPSILON);var C$Tzn=C$Tzt.x,C$Tzr=C$Tzt.y,C$Tzt=C$Tzt.z,C$Tzs=C$Tze.x,C$Tzo=C$Tze.y,C$Tze=C$Tze.z;return Math.abs(C$Tzn-C$Tzs)<=C$Tzi*Math.max(1,Math.abs(C$Tzn),Math.abs(C$Tzs))&&Math.abs(C$Tzr-C$Tzo)<=C$Tzi*Math.max(1,Math.abs(C$Tzr),Math.abs(C$Tzo))&&Math.abs(C$Tzt-C$Tze)<=C$Tzi*Math.max(1,Math.abs(C$Tzt),Math.abs(C$Tze));},C$Tzs.angle=function(C$Tzt,C$Tze){C$Tzs.normalize(C$Tzx,C$Tzt),C$Tzs.normalize(C$Tzb,C$Tze);C$Tzt=C$Tzs.dot(C$Tzx,C$Tzb);return 1<C$Tzt?0:C$Tzt<-1?Math.PI:Math.acos(C$Tzt);},C$Tzs.projectOnPlane=function(C$Tzt,C$Tze,C$Tzi){return C$Tzs.subtract(C$Tzt,C$Tze,C$Tzs.project(C$Tzt,C$Tze,C$Tzi));},C$Tzs.project=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzs.lengthSqr(C$Tzi);return C$Tzn<1e-6?C$Tzs.set(C$Tzt,0,0,0):C$Tzs.multiplyScalar(C$Tzt,C$Tzi,C$Tzs.dot(C$Tze,C$Tzi)/C$Tzn);},C$Tzs.toArray=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt[(C$Tzi=void 0===C$Tzi?0:C$Tzi)+0]=C$Tze.x,C$Tzt[C$Tzi+1]=C$Tze.y,C$Tzt[C$Tzi+2]=C$Tze.z,C$Tzt;},C$Tzs.fromArray=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze[(C$Tzi=void 0===C$Tzi?0:C$Tzi)+0],C$Tzt.y=C$Tze[C$Tzi+1],C$Tzt.z=C$Tze[C$Tzi+2],C$Tzt;},C$Tzt=C$Tzs,C$Tzv=[{key:H[1826],get:function(){return new C$Tzs(1,1,1);}},{key:H[1818],get:function(){return new C$Tzs();}},{key:H[1827],get:function(){return new C$Tzs(0,1,0);}},{key:H[1828],get:function(){return new C$Tzs(1,0,0);}},{key:H[1831],get:function(){return new C$Tzs(0,0,1);}}],(C$Tzg=null)&&C$Tzf(C$Tzt.prototype,C$Tzg),C$Tzv&&C$Tzf(C$Tzt,C$Tzv),C$Tzi.clone=function(){return new C$Tzs(this.x,this.y,this.z);},C$Tzi.set=function(C$Tzt){return this.x=C$Tzt.x,this.y=C$Tzt.y,this.z=C$Tzt.z,this;},C$Tzi.equals=function(C$Tzt){return C$Tzt&&this.x===C$Tzt.x&&this.y===C$Tzt.y&&this.z===C$Tzt.z;},C$Tzi.fuzzyEquals=function(C$Tzt,C$Tze){return this.x-C$Tze<=C$Tzt.x&&C$Tzt.x<=this.x+C$Tze&&this.y-C$Tze<=C$Tzt.y&&C$Tzt.y<=this.y+C$Tze&&this.z-C$Tze<=C$Tzt.z&&C$Tzt.z<=this.z+C$Tze;},C$Tzi.toString=function(){return"("+this.x.toFixed(2)+H[1637]+this.y.toFixed(2)+H[1637]+this.z.toFixed(2)+")";},C$Tzi.lerp=function(C$Tzt,C$Tze,C$Tzi){return C$Tzi=C$Tzi||new C$Tzs(),C$Tzs.lerp(C$Tzi,this,C$Tzt,C$Tze),C$Tzi;},C$Tzi.clampf=function(C$Tzt,C$Tze){return this.x=C$Tz_.default.clampf(this.x,C$Tzt.x,C$Tze.x),this.y=C$Tz_.default.clampf(this.y,C$Tzt.y,C$Tze.y),this.z=C$Tz_.default.clampf(this.z,C$Tzt.z,C$Tze.z),this;},C$Tzi.addSelf=function(C$Tzt){return this.x+=C$Tzt.x,this.y+=C$Tzt.y,this.z+=C$Tzt.z,this;},C$Tzi.add=function(C$Tzt,C$Tze){return(C$Tze=C$Tze||new C$Tzs()).x=this.x+C$Tzt.x,C$Tze.y=this.y+C$Tzt.y,C$Tze.z=this.z+C$Tzt.z,C$Tze;},C$Tzi.subtract=function(C$Tzt){return this.x-=C$Tzt.x,this.y-=C$Tzt.y,this.z-=C$Tzt.z,this;},C$Tzi.multiplyScalar=function(C$Tzt){return this.x*=C$Tzt,this.y*=C$Tzt,this.z*=C$Tzt,this;},C$Tzi.multiply=function(C$Tzt){return this.x*=C$Tzt.x,this.y*=C$Tzt.y,this.z*=C$Tzt.z,this;},C$Tzi.divide=function(C$Tzt){return this.x/=C$Tzt,this.y/=C$Tzt,this.z/=C$Tzt,this;},C$Tzi.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this;},C$Tzi.dot=function(C$Tzt){return this.x*C$Tzt.x+this.y*C$Tzt.y+this.z*C$Tzt.z;},C$Tzi.cross=function(C$Tzt,C$Tze){return C$Tze=C$Tze||new C$Tzs(),C$Tzs.cross(C$Tze,this,C$Tzt),C$Tze;},C$Tzi.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);},C$Tzi.lengthSqr=function(){return this.x*this.x+this.y*this.y+this.z*this.z;},C$Tzi.normalizeSelf=function(){return C$Tzs.normalize(this,this),this;},C$Tzi.normalize=function(C$Tzt){return C$Tzt=C$Tzt||new C$Tzs(),C$Tzs.normalize(C$Tzt,this),C$Tzt;},C$Tzi.transformMat4=function(C$Tzt,C$Tze){return C$Tze=C$Tze||new C$Tzs(),C$Tzs.transformMat4(C$Tze,this,C$Tzt),C$Tze;},C$Tzi.maxAxis=function(){return Math.max(this.x,this.y,this.z);},C$Tzi.signAngle=function(C$Tzt){cc.warnID(1408,H[1832],H[1833],H[1834]);var C$Tze=new C$Tzr.default(this.x,this.y),C$Tzt=new C$Tzr.default(C$Tzt.x,C$Tzt.y);return C$Tze.signAngle(C$Tzt);},C$Tzi.rotate=function(C$Tzt,C$Tze){return cc.warnID(1408,H[1835],H[1833],H[1836]),C$Tzr.default.prototype.rotate.call(this,C$Tzt,C$Tze);},C$Tzi.rotateSelf=function(C$Tzt){return cc.warnID(1408,H[1837],H[1833],H[1838]),C$Tzr.default.prototype.rotateSelf.call(this,C$Tzt);},C$Tzs);function C$Tzs(C$Tzt,C$Tze,C$Tzi){var C$Tzn;return void 0===C$Tzt&&(C$Tzt=0),void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=0),(C$Tzn=C$Tzy.call(this)||this).mag=C$Tzs.prototype.len,C$Tzn.magSqr=C$Tzs.prototype.lengthSqr,C$Tzn.subSelf=C$Tzs.prototype.subtract,C$Tzn.mulSelf=C$Tzs.prototype.multiplyScalar,C$Tzn.divSelf=C$Tzs.prototype.divide,C$Tzn.scaleSelf=C$Tzs.prototype.multiply,C$Tzn.negSelf=C$Tzs.prototype.negate,C$Tzn.x=void 0,C$Tzn.y=void 0,C$Tzn.z=void 0,C$Tzn.angle=C$Tzr.default.prototype.angle,C$Tzn.project=C$Tzr.default.prototype.project,C$Tzt&&H[802]==typeof C$Tzt?(C$Tzn.z=C$Tzt.z,C$Tzn.y=C$Tzt.y,C$Tzn.x=C$Tzt.x):(C$Tzn.x=C$Tzt,C$Tzn.y=C$Tze,C$Tzn.z=C$Tzi),C$Tzn;}(C$Tze.default=C$Tzn).sub=C$Tzn.subtract,C$Tzn.mul=C$Tzn.multiply,C$Tzn.scale=C$Tzn.multiplyScalar,C$Tzn.mag=C$Tzn.len,C$Tzn.squaredMagnitude=C$Tzn.lengthSqr,C$Tzn.div=C$Tzn.divide,C$Tzn.ONE_R=C$Tzn.ONE,C$Tzn.ZERO_R=C$Tzn.ZERO,C$Tzn.UP_R=C$Tzn.UP,C$Tzn.RIGHT_R=C$Tzn.RIGHT,C$Tzn.FRONT_R=C$Tzn.FORWARD;var C$Tzx=new C$Tzn(),C$Tzb=new C$Tzn();C$Tzu.default.fastDefine(H[1839],C$Tzn,{x:0,y:0,z:0}),cc.v3=function(C$Tzt,C$Tze,C$Tzi){return new C$Tzn(C$Tzt,C$Tze,C$Tzi);},cc.Vec3=C$Tzn,C$Tzh.exports=C$Tze.default;},{"../platform/CCClass":189,"../utils/misc":264,"./utils":286,"./value-type":287,"./vec2":288}],290:[function(C$Tzt,C$Tzn,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.v4=C$Tzv,C$Tze.default=void 0;var C$Tzo=C$Tz_(C$Tzt(H[743])),C$Tzi=C$Tz_(C$Tzt(H[1780])),C$Tzs=C$Tzt(H[800]);function C$Tz_(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzd(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}function C$Tzf(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzp(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzp(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzp(C$Tzt){return(C$Tzp=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzm,C$Tzy,C$Tzg,C$Tzc=0,C$Tzl=0,C$Tzh=0,C$Tzu=0,C$Tzr=(C$Tzm=C$Tzi.default,C$Tzt=C$Tzm,(C$Tzi=C$Tza).prototype=Object.create(C$Tzt.prototype),(C$Tzi.prototype.constructor=C$Tzi).__proto__=C$Tzt,C$Tzf(C$Tza),(C$Tzi=C$Tza.prototype).sub=function(C$Tzt,C$Tze){return C$Tza.subtract(C$Tze||new C$Tza(),this,C$Tzt);},C$Tzi.mul=function(C$Tzt,C$Tze){return C$Tza.multiplyScalar(C$Tze||new C$Tza(),this,C$Tzt);},C$Tzi.div=function(C$Tzt,C$Tze){return C$Tza.multiplyScalar(C$Tze||new C$Tza(),this,1/C$Tzt);},C$Tzi.scale=function(C$Tzt,C$Tze){return C$Tza.multiply(C$Tze||new C$Tza(),this,C$Tzt);},C$Tzi.neg=function(C$Tzt){return C$Tza.negate(C$Tzt||new C$Tza(),this);},C$Tza.clone=function(C$Tzt){return new C$Tza(C$Tzt.x,C$Tzt.y,C$Tzt.z,C$Tzt.w);},C$Tza.copy=function(C$Tzt,C$Tze){return C$Tzt.x=C$Tze.x,C$Tzt.y=C$Tze.y,C$Tzt.z=C$Tze.z,C$Tzt.w=C$Tze.w,C$Tzt;},C$Tza.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return C$Tzt.x=C$Tze,C$Tzt.y=C$Tzi,C$Tzt.z=C$Tzn,C$Tzt.w=C$Tzr,C$Tzt;},C$Tza.add=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x+C$Tzi.x,C$Tzt.y=C$Tze.y+C$Tzi.y,C$Tzt.z=C$Tze.z+C$Tzi.z,C$Tzt.w=C$Tze.w+C$Tzi.w,C$Tzt;},C$Tza.subtract=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x-C$Tzi.x,C$Tzt.y=C$Tze.y-C$Tzi.y,C$Tzt.z=C$Tze.z-C$Tzi.z,C$Tzt.w=C$Tze.w-C$Tzi.w,C$Tzt;},C$Tza.multiply=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x*C$Tzi.x,C$Tzt.y=C$Tze.y*C$Tzi.y,C$Tzt.z=C$Tze.z*C$Tzi.z,C$Tzt.w=C$Tze.w*C$Tzi.w,C$Tzt;},C$Tza.divide=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x/C$Tzi.x,C$Tzt.y=C$Tze.y/C$Tzi.y,C$Tzt.z=C$Tze.z/C$Tzi.z,C$Tzt.w=C$Tze.w/C$Tzi.w,C$Tzt;},C$Tza.ceil=function(C$Tzt,C$Tze){return C$Tzt.x=Math.ceil(C$Tze.x),C$Tzt.y=Math.ceil(C$Tze.y),C$Tzt.z=Math.ceil(C$Tze.z),C$Tzt.w=Math.ceil(C$Tze.w),C$Tzt;},C$Tza.floor=function(C$Tzt,C$Tze){return C$Tzt.x=Math.floor(C$Tze.x),C$Tzt.y=Math.floor(C$Tze.y),C$Tzt.z=Math.floor(C$Tze.z),C$Tzt.w=Math.floor(C$Tze.w),C$Tzt;},C$Tza.min=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=Math.min(C$Tze.x,C$Tzi.x),C$Tzt.y=Math.min(C$Tze.y,C$Tzi.y),C$Tzt.z=Math.min(C$Tze.z,C$Tzi.z),C$Tzt.w=Math.min(C$Tze.w,C$Tzi.w),C$Tzt;},C$Tza.max=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=Math.max(C$Tze.x,C$Tzi.x),C$Tzt.y=Math.max(C$Tze.y,C$Tzi.y),C$Tzt.z=Math.max(C$Tze.z,C$Tzi.z),C$Tzt.w=Math.max(C$Tze.w,C$Tzi.w),C$Tzt;},C$Tza.round=function(C$Tzt,C$Tze){return C$Tzt.x=Math.round(C$Tze.x),C$Tzt.y=Math.round(C$Tze.y),C$Tzt.z=Math.round(C$Tze.z),C$Tzt.w=Math.round(C$Tze.w),C$Tzt;},C$Tza.multiplyScalar=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze.x*C$Tzi,C$Tzt.y=C$Tze.y*C$Tzi,C$Tzt.z=C$Tze.z*C$Tzi,C$Tzt.w=C$Tze.w*C$Tzi,C$Tzt;},C$Tza.scaleAndAdd=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzt.x=C$Tze.x+C$Tzi.x*C$Tzn,C$Tzt.y=C$Tze.y+C$Tzi.y*C$Tzn,C$Tzt.z=C$Tze.z+C$Tzi.z*C$Tzn,C$Tzt.w=C$Tze.w+C$Tzi.w*C$Tzn,C$Tzt;},C$Tza.distance=function(C$Tzt,C$Tze){var C$Tzi=C$Tze.x-C$Tzt.x,C$Tzn=C$Tze.y-C$Tzt.y,C$Tzr=C$Tze.z-C$Tzt.z,C$Tze=C$Tze.w-C$Tzt.w;return Math.sqrt(C$Tzi*C$Tzi+C$Tzn*C$Tzn+C$Tzr*C$Tzr+C$Tze*C$Tze);},C$Tza.squaredDistance=function(C$Tzt,C$Tze){var C$Tzi=C$Tze.x-C$Tzt.x,C$Tzn=C$Tze.y-C$Tzt.y,C$Tzr=C$Tze.z-C$Tzt.z,C$Tze=C$Tze.w-C$Tzt.w;return C$Tzi*C$Tzi+C$Tzn*C$Tzn+C$Tzr*C$Tzr+C$Tze*C$Tze;},C$Tza.len=function(C$Tzt){return C$Tzc=C$Tzt.x,C$Tzl=C$Tzt.y,C$Tzh=C$Tzt.z,C$Tzu=C$Tzt.w,Math.sqrt(C$Tzc*C$Tzc+C$Tzl*C$Tzl+C$Tzh*C$Tzh+C$Tzu*C$Tzu);},C$Tza.lengthSqr=function(C$Tzt){return C$Tzc=C$Tzt.x,C$Tzl=C$Tzt.y,C$Tzh=C$Tzt.z,C$Tzu=C$Tzt.w,C$Tzc*C$Tzc+C$Tzl*C$Tzl+C$Tzh*C$Tzh+C$Tzu*C$Tzu;},C$Tza.negate=function(C$Tzt,C$Tze){return C$Tzt.x=-C$Tze.x,C$Tzt.y=-C$Tze.y,C$Tzt.z=-C$Tze.z,C$Tzt.w=-C$Tze.w,C$Tzt;},C$Tza.inverse=function(C$Tzt,C$Tze){return C$Tzt.x=1/C$Tze.x,C$Tzt.y=1/C$Tze.y,C$Tzt.z=1/C$Tze.z,C$Tzt.w=1/C$Tze.w,C$Tzt;},C$Tza.inverseSafe=function(C$Tzt,C$Tze){return C$Tzc=C$Tze.x,C$Tzl=C$Tze.y,C$Tzh=C$Tze.z,C$Tzu=C$Tze.w,Math.abs(C$Tzc)<C$Tzs.EPSILON?C$Tzt.x=0:C$Tzt.x=1/C$Tzc,Math.abs(C$Tzl)<C$Tzs.EPSILON?C$Tzt.y=0:C$Tzt.y=1/C$Tzl,Math.abs(C$Tzh)<C$Tzs.EPSILON?C$Tzt.z=0:C$Tzt.z=1/C$Tzh,Math.abs(C$Tzu)<C$Tzs.EPSILON?C$Tzt.w=0:C$Tzt.w=1/C$Tzu,C$Tzt;},C$Tza.normalize=function(C$Tzt,C$Tze){C$Tzc=C$Tze.x,C$Tzl=C$Tze.y,C$Tzh=C$Tze.z,C$Tzu=C$Tze.w;C$Tze=C$Tzc*C$Tzc+C$Tzl*C$Tzl+C$Tzh*C$Tzh+C$Tzu*C$Tzu;return 0<C$Tze&&(C$Tze=1/Math.sqrt(C$Tze),C$Tzt.x=C$Tzc*C$Tze,C$Tzt.y=C$Tzl*C$Tze,C$Tzt.z=C$Tzh*C$Tze,C$Tzt.w=C$Tzu*C$Tze),C$Tzt;},C$Tza.dot=function(C$Tzt,C$Tze){return C$Tzt.x*C$Tze.x+C$Tzt.y*C$Tze.y+C$Tzt.z*C$Tze.z+C$Tzt.w*C$Tze.w;},C$Tza.lerp=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzt.x=C$Tze.x+C$Tzn*(C$Tzi.x-C$Tze.x),C$Tzt.y=C$Tze.y+C$Tzn*(C$Tzi.y-C$Tze.y),C$Tzt.z=C$Tze.z+C$Tzn*(C$Tzi.z-C$Tze.z),C$Tzt.w=C$Tze.w+C$Tzn*(C$Tzi.w-C$Tze.w),C$Tzt;},C$Tza.random=function(C$Tzt,C$Tze){C$Tze=C$Tze||1;var C$Tzi=2*(0,C$Tzs.random)()*Math.PI,C$Tzn=2*(0,C$Tzs.random)()-1,C$Tzr=Math.sqrt(1-C$Tzn*C$Tzn);return C$Tzt.x=C$Tzr*Math.cos(C$Tzi)*C$Tze,C$Tzt.y=C$Tzr*Math.sin(C$Tzi)*C$Tze,C$Tzt.z=C$Tzn*C$Tze,C$Tzt.w=0,C$Tzt;},C$Tza.transformMat4=function(C$Tzt,C$Tze,C$Tzi){C$Tzc=C$Tze.x,C$Tzl=C$Tze.y,C$Tzh=C$Tze.z,C$Tzu=C$Tze.w;C$Tze=C$Tzi.m;return C$Tzt.x=C$Tze[0]*C$Tzc+C$Tze[4]*C$Tzl+C$Tze[8]*C$Tzh+C$Tze[12]*C$Tzu,C$Tzt.y=C$Tze[1]*C$Tzc+C$Tze[5]*C$Tzl+C$Tze[9]*C$Tzh+C$Tze[13]*C$Tzu,C$Tzt.z=C$Tze[2]*C$Tzc+C$Tze[6]*C$Tzl+C$Tze[10]*C$Tzh+C$Tze[14]*C$Tzu,C$Tzt.w=C$Tze[3]*C$Tzc+C$Tze[7]*C$Tzl+C$Tze[11]*C$Tzh+C$Tze[15]*C$Tzu,C$Tzt;},C$Tza.transformAffine=function(C$Tzt,C$Tze,C$Tzi){C$Tzc=C$Tze.x,C$Tzl=C$Tze.y,C$Tzh=C$Tze.z,C$Tzu=C$Tze.w;C$Tzi=C$Tzi.m;return C$Tzt.x=C$Tzi[0]*C$Tzc+C$Tzi[1]*C$Tzl+C$Tzi[2]*C$Tzh+C$Tzi[3]*C$Tzu,C$Tzt.y=C$Tzi[4]*C$Tzc+C$Tzi[5]*C$Tzl+C$Tzi[6]*C$Tzh+C$Tzi[7]*C$Tzu,C$Tzt.x=C$Tzi[8]*C$Tzc+C$Tzi[9]*C$Tzl+C$Tzi[10]*C$Tzh+C$Tzi[11]*C$Tzu,C$Tzt.w=C$Tze.w,C$Tzt;},C$Tza.transformQuat=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tze.x,C$Tzr=C$Tze.y,C$Tzs=C$Tze.z,C$Tzi=(C$Tzc=C$Tzi.x,C$Tzl=C$Tzi.y,C$Tzh=C$Tzi.z,(C$Tzu=C$Tzi.w)*C$Tzn+C$Tzl*C$Tzs-C$Tzh*C$Tzr),C$Tzo=C$Tzu*C$Tzr+C$Tzh*C$Tzn-C$Tzc*C$Tzs,C$Tza=C$Tzu*C$Tzs+C$Tzc*C$Tzr-C$Tzl*C$Tzn,C$Tzn=-C$Tzc*C$Tzn-C$Tzl*C$Tzr-C$Tzh*C$Tzs;return C$Tzt.x=C$Tzi*C$Tzu+C$Tzn*-C$Tzc+C$Tzo*-C$Tzh-C$Tza*-C$Tzl,C$Tzt.y=C$Tzo*C$Tzu+C$Tzn*-C$Tzl+C$Tza*-C$Tzc-C$Tzi*-C$Tzh,C$Tzt.z=C$Tza*C$Tzu+C$Tzn*-C$Tzh+C$Tzi*-C$Tzl-C$Tzo*-C$Tzc,C$Tzt.w=C$Tze.w,C$Tzt;},C$Tza.strictEquals=function(C$Tzt,C$Tze){return C$Tzt.x===C$Tze.x&&C$Tzt.y===C$Tze.y&&C$Tzt.z===C$Tze.z&&C$Tzt.w===C$Tze.w;},C$Tza.equals=function(C$Tzt,C$Tze,C$Tzi){return void 0===C$Tzi&&(C$Tzi=C$Tzs.EPSILON),Math.abs(C$Tzt.x-C$Tze.x)<=C$Tzi*Math.max(1,Math.abs(C$Tzt.x),Math.abs(C$Tze.x))&&Math.abs(C$Tzt.y-C$Tze.y)<=C$Tzi*Math.max(1,Math.abs(C$Tzt.y),Math.abs(C$Tze.y))&&Math.abs(C$Tzt.z-C$Tze.z)<=C$Tzi*Math.max(1,Math.abs(C$Tzt.z),Math.abs(C$Tze.z))&&Math.abs(C$Tzt.w-C$Tze.w)<=C$Tzi*Math.max(1,Math.abs(C$Tzt.w),Math.abs(C$Tze.w));},C$Tza.toArray=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt[(C$Tzi=void 0===C$Tzi?0:C$Tzi)+0]=C$Tze.x,C$Tzt[C$Tzi+1]=C$Tze.y,C$Tzt[C$Tzi+2]=C$Tze.z,C$Tzt[C$Tzi+3]=C$Tze.w,C$Tzt;},C$Tza.fromArray=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt.x=C$Tze[(C$Tzi=void 0===C$Tzi?0:C$Tzi)+0],C$Tzt.y=C$Tze[C$Tzi+1],C$Tzt.z=C$Tze[C$Tzi+2],C$Tzt.w=C$Tze[C$Tzi+3],C$Tzt;},C$Tzt=C$Tza,C$Tzg=[{key:H[1818],get:function(){return new C$Tza(0,0,0,0);}},{key:H[1826],get:function(){return new C$Tza(1,1,1,1);}},{key:H[1840],get:function(){return new C$Tza(-1,-1,-1,-1);}}],(C$Tzy=null)&&C$Tzd(C$Tzt.prototype,C$Tzy),C$Tzg&&C$Tzd(C$Tzt,C$Tzg),C$Tzi.clone=function(){return new C$Tza(this.x,this.y,this.z,this.w);},C$Tzi.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzt&&H[802]==typeof C$Tzt?(this.x=C$Tzt.x,this.y=C$Tzt.y,this.z=C$Tzt.z,this.w=C$Tzt.w):(this.x=C$Tzt||0,this.y=C$Tze||0,this.z=C$Tzi||0,this.w=C$Tzn||0),this;},C$Tzi.equals=function(C$Tzt,C$Tze){return void 0===C$Tze&&(C$Tze=C$Tzs.EPSILON),Math.abs(this.x-C$Tzt.x)<=C$Tze*Math.max(1,Math.abs(this.x),Math.abs(C$Tzt.x))&&Math.abs(this.y-C$Tzt.y)<=C$Tze*Math.max(1,Math.abs(this.y),Math.abs(C$Tzt.y))&&Math.abs(this.z-C$Tzt.z)<=C$Tze*Math.max(1,Math.abs(this.z),Math.abs(C$Tzt.z))&&Math.abs(this.w-C$Tzt.w)<=C$Tze*Math.max(1,Math.abs(this.w),Math.abs(C$Tzt.w));},C$Tzi.equals4f=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return void 0===C$Tzr&&(C$Tzr=C$Tzs.EPSILON),Math.abs(this.x-C$Tzt)<=C$Tzr*Math.max(1,Math.abs(this.x),Math.abs(C$Tzt))&&Math.abs(this.y-C$Tze)<=C$Tzr*Math.max(1,Math.abs(this.y),Math.abs(C$Tze))&&Math.abs(this.z-C$Tzi)<=C$Tzr*Math.max(1,Math.abs(this.z),Math.abs(C$Tzi))&&Math.abs(this.w-C$Tzn)<=C$Tzr*Math.max(1,Math.abs(this.w),Math.abs(C$Tzn));},C$Tzi.strictEquals=function(C$Tzt){return this.x===C$Tzt.x&&this.y===C$Tzt.y&&this.z===C$Tzt.z&&this.w===C$Tzt.w;},C$Tzi.strictEquals4f=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return this.x===C$Tzt&&this.y===C$Tze&&this.z===C$Tzi&&this.w===C$Tzn;},C$Tzi.lerp=function(C$Tzt,C$Tze){return C$Tzc=this.x,C$Tzl=this.y,C$Tzh=this.z,C$Tzu=this.w,this.x=C$Tzc+C$Tze*(C$Tzt.x-C$Tzc),this.y=C$Tzl+C$Tze*(C$Tzt.y-C$Tzl),this.z=C$Tzh+C$Tze*(C$Tzt.z-C$Tzh),this.w=C$Tzu+C$Tze*(C$Tzt.w-C$Tzu),this;},C$Tzi.toString=function(){return"("+this.x.toFixed(2)+H[1637]+this.y.toFixed(2)+H[1637]+this.z.toFixed(2)+H[1637]+this.w.toFixed(2)+")";},C$Tzi.clampf=function(C$Tzt,C$Tze){return this.x=(0,C$Tzs.clamp)(this.x,C$Tzt.x,C$Tze.x),this.y=(0,C$Tzs.clamp)(this.y,C$Tzt.y,C$Tze.y),this.z=(0,C$Tzs.clamp)(this.z,C$Tzt.z,C$Tze.z),this.w=(0,C$Tzs.clamp)(this.w,C$Tzt.w,C$Tze.w),this;},C$Tzi.addSelf=function(C$Tzt){return this.x+=C$Tzt.x,this.y+=C$Tzt.y,this.z+=C$Tzt.z,this.w+=C$Tzt.w,this;},C$Tzi.add=function(C$Tzt,C$Tze){return(C$Tze=C$Tze||new C$Tza()).x=this.x+C$Tzt.x,C$Tze.y=this.y+C$Tzt.y,C$Tze.z=this.z+C$Tzt.z,C$Tze.w=this.w+C$Tzt.w,C$Tze;},C$Tzi.subtract=function(C$Tzt,C$Tze){return(C$Tze=C$Tze||new C$Tza()).x=this.x-C$Tzt.x,C$Tze.y=this.y-C$Tzt.y,C$Tze.z=this.z-C$Tzt.z,C$Tze.w=this.w-C$Tzt.w,C$Tze;},C$Tzi.multiplyScalar=function(C$Tzt){return this.x*=C$Tzt,this.y*=C$Tzt,this.z*=C$Tzt,this.w*=C$Tzt,this;},C$Tzi.multiply=function(C$Tzt){return this.x*=C$Tzt.x,this.y*=C$Tzt.y,this.z*=C$Tzt.z,this.w*=C$Tzt.w,this;},C$Tzi.divide=function(C$Tzt){return this.x/=C$Tzt,this.y/=C$Tzt,this.z/=C$Tzt,this.w/=C$Tzt,this;},C$Tzi.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this;},C$Tzi.dot=function(C$Tzt){return this.x*C$Tzt.x+this.y*C$Tzt.y+this.z*C$Tzt.z+this.w*C$Tzt.w;},C$Tzi.cross=function(C$Tzt,C$Tze){C$Tze=C$Tze||new C$Tza();var C$Tzi=this.x,C$Tzn=this.y,C$Tzr=this.z,C$Tzs=C$Tzt.x,C$Tzo=C$Tzt.y,C$Tzt=C$Tzt.z;return C$Tze.x=C$Tzn*C$Tzt-C$Tzr*C$Tzo,C$Tze.y=C$Tzr*C$Tzs-C$Tzi*C$Tzt,C$Tze.z=C$Tzi*C$Tzo-C$Tzn*C$Tzs,C$Tze;},C$Tzi.len=function(){var C$Tzt=this.x,C$Tze=this.y,C$Tzi=this.z,C$Tzn=this.w;return Math.sqrt(C$Tzt*C$Tzt+C$Tze*C$Tze+C$Tzi*C$Tzi+C$Tzn*C$Tzn);},C$Tzi.lengthSqr=function(){var C$Tzt=this.x,C$Tze=this.y,C$Tzi=this.z,C$Tzn=this.w;return C$Tzt*C$Tzt+C$Tze*C$Tze+C$Tzi*C$Tzi+C$Tzn*C$Tzn;},C$Tzi.normalizeSelf=function(){return this.normalize(this),this;},C$Tzi.normalize=function(C$Tzt){C$Tzt=C$Tzt||new C$Tza(),C$Tzc=this.x,C$Tzl=this.y,C$Tzh=this.z,C$Tzu=this.w;var C$Tze=C$Tzc*C$Tzc+C$Tzl*C$Tzl+C$Tzh*C$Tzh+C$Tzu*C$Tzu;return 0<C$Tze&&(C$Tze=1/Math.sqrt(C$Tze),C$Tzt.x=C$Tzc*C$Tze,C$Tzt.y=C$Tzl*C$Tze,C$Tzt.z=C$Tzh*C$Tze,C$Tzt.w=C$Tzu*C$Tze),C$Tzt;},C$Tzi.transformMat4=function(C$Tzt,C$Tze){C$Tze=C$Tze||new C$Tza(),C$Tzc=this.x,C$Tzl=this.y,C$Tzh=this.z,C$Tzu=this.w;C$Tzt=C$Tzt.m;return C$Tze.x=C$Tzt[0]*C$Tzc+C$Tzt[4]*C$Tzl+C$Tzt[8]*C$Tzh+C$Tzt[12]*C$Tzu,C$Tze.y=C$Tzt[1]*C$Tzc+C$Tzt[5]*C$Tzl+C$Tzt[9]*C$Tzh+C$Tzt[13]*C$Tzu,C$Tze.z=C$Tzt[2]*C$Tzc+C$Tzt[6]*C$Tzl+C$Tzt[10]*C$Tzh+C$Tzt[14]*C$Tzu,C$Tze.w=C$Tzt[3]*C$Tzc+C$Tzt[7]*C$Tzl+C$Tzt[11]*C$Tzh+C$Tzt[15]*C$Tzu,C$Tze;},C$Tzi.maxAxis=function(){return Math.max(this.x,this.y,this.z,this.w);},C$Tza);function C$Tza(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr;return void 0===C$Tzt&&(C$Tzt=0),void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=0),void 0===C$Tzn&&(C$Tzn=0),(C$Tzr=C$Tzm.call(this)||this).mag=C$Tza.prototype.len,C$Tzr.magSqr=C$Tza.prototype.lengthSqr,C$Tzr.subSelf=C$Tza.prototype.subtract,C$Tzr.mulSelf=C$Tza.prototype.multiplyScalar,C$Tzr.divSelf=C$Tza.prototype.divide,C$Tzr.scaleSelf=C$Tza.prototype.multiply,C$Tzr.negSelf=C$Tza.prototype.negate,C$Tzr.x=void 0,C$Tzr.y=void 0,C$Tzr.z=void 0,C$Tzr.w=void 0,C$Tzt&&H[802]==typeof C$Tzt?(C$Tzr.w=C$Tzt.w,C$Tzr.z=C$Tzt.z,C$Tzr.y=C$Tzt.y,C$Tzr.x=C$Tzt.x):(C$Tzr.x=C$Tzt,C$Tzr.y=C$Tze,C$Tzr.z=C$Tzi,C$Tzr.w=C$Tzn),C$Tzr;}function C$Tzv(C$Tzt,C$Tze,C$Tzi,C$Tzn){return new C$Tzr(C$Tzt,C$Tze,C$Tzi,C$Tzn);}(C$Tze.default=C$Tzr).sub=C$Tzr.subtract,C$Tzr.mul=C$Tzr.multiply,C$Tzr.div=C$Tzr.divide,C$Tzr.scale=C$Tzr.multiplyScalar,C$Tzr.mag=C$Tzr.len,C$Tzr.squaredMagnitude=C$Tzr.lengthSqr,C$Tzr.ZERO_R=C$Tzr.ZERO,C$Tzr.ONE_R=C$Tzr.ONE,C$Tzr.NEG_ONE_R=C$Tzr.NEG_ONE,C$Tzo.default.fastDefine(H[1841],C$Tzr,{x:0,y:0,z:0,w:0}),cc.v4=C$Tzv,cc.Vec4=C$Tzr;},{"../platform/CCClass":189,"./utils":286,"./value-type":287}],291:[function(C$Tzt,C$Tze,C$Tzl){"use strict";function C$Tzi(C$Tzi,C$Tzt,C$Tzn){C$Tzi&&(C$Tzn=C$Tzn||C$Tza.getClassName(C$Tzi),C$Tzt.forEach(function(C$Tzt){function C$Tze(){cc.errorID(1406,C$Tzn,C$Tzt);}C$Tza.getset(C$Tzi.prototype,C$Tzt,C$Tze,C$Tze);}));}function C$Tzn(C$Tze,C$Tzt,C$Tzi){C$Tze&&C$Tzt.forEach(function(C$Tzt){C$Tza.getset(C$Tze,C$Tzt,function(){cc.errorID(1406,C$Tzi,C$Tzt);});});}function C$Tzr(C$Tzn,C$Tzt,C$Tze){if(C$Tzn){var C$Tzi,C$Tzr,C$Tzs,C$Tzo=H[1842]+(C$Tze||cc.js.getClassName(C$Tzn))+H[1843];for(C$Tzi in C$Tzt)!function(){function C$Tze(C$Tze,C$Tzt){function C$Tzi(C$Tzt){cc.error(C$Tzo,C$Tze,C$Tzt);}Array.isArray(C$Tzt)||(C$Tzt=C$Tzt.split(",").map(function(C$Tzt){return C$Tzt.trim();}));try{C$Tza.getset(C$Tzn,C$Tze,C$Tzi.bind(null,C$Tzt[0]),C$Tzt[1]&&C$Tzi.bind(null,C$Tzt[1]));}catch(C$Tzt){}}C$Tzr=C$Tzt[C$Tzi],"*"===C$Tzi[0]?(C$Tze("g"+(C$Tzs=C$Tzi.slice(1)),C$Tzr),C$Tze("s"+C$Tzs,C$Tzr)):C$Tzi.split(",").map(function(C$Tzt){return C$Tzt.trim();}).forEach(function(C$Tzt){C$Tze(C$Tzt,C$Tzr);});}();}}function C$Tzs(C$Tzi,C$Tzn,C$Tzr){if(C$Tzi)for(var C$Tzs in C$Tzr=C$Tzr||C$Tza.getClassName(C$Tzi),C$Tzn)!function(){var C$Tzt=C$Tzs,C$Tze=C$Tzi[C$Tzt];C$Tze&&(C$Tzi[C$Tzt]=function(){return cc.warn(H[1844],C$Tzr,C$Tzt,C$Tzn[C$Tzt]),C$Tze.apply(this,arguments);});}();}var C$Tza=cc.js,C$Tzo=(C$Tza.get(cc,H[1845],function(){return cc.errorID(1400,H[1846],H[1847]),cc.log;}),C$Tza.get(cc,H[1848],function(){cc.errorID(1404);}),C$Tza.get(cc,H[1849],function(){return cc.warnID(1400,H[1850],H[1851]),cc.math;}),C$Tza.get(cc.math,H[1852],function(){return cc.warnID(1400,H[1853],H[1830]),cc.Vec2;}),C$Tza.get(cc.math,H[1854],function(){return cc.warnID(1400,H[1855],H[1839]),cc.Vec3;}),C$Tza.get(cc.math,H[1856],function(){return cc.warnID(1400,H[1857],H[1841]),cc.Vec4;}),C$Tza.get(cc.math,H[1858],function(){return cc.warnID(1400,H[1859],H[1809]),cc.Mat4;}),C$Tza.get(cc.math,H[1860],function(){return cc.warnID(1400,H[1861],H[1862]),cc.Mat3;}),C$Tza.get(cc.math,H[1863],function(){return cc.warnID(1400,H[1864],H[1810]),cc.Quat;}),C$Tza.get(cc.SpriteFrame.prototype,H[1865],function(){return cc.errorID(1400,H[1866],H[1867]),this.textureLoaded();}),C$Tzi(cc.SpriteFrame,[H[1868]]),C$Tzs(cc.Sprite.prototype,{setState:H[1869],getState:H[1870]},H[940]),C$Tza.get(cc.SpriteFrame.prototype,H[1871],function(){return cc.errorID(1406,H[736],H[1871]),function(){};}),C$Tza.get(cc,H[1872],function(){cc.errorID(1406,H[1873],H[1872]);}),cc.Texture2D),C$Tzc=(C$Tza.get(C$Tzo.prototype,H[1874],function(){return cc.errorID(1400,H[1875],H[1876]),this.destroy;}),C$Tza.get(C$Tzo.prototype,H[1877],function(){return cc.errorID(1400,H[1878],H[1879]),function(){return this._glID||null;};}),C$Tza.get(C$Tzo.prototype,H[1880],function(){return cc.errorID(1400,H[1881],H[1882]),function(){return this.loaded;};}),C$Tza.get(C$Tzo.prototype,H[1883],function(){return cc.errorID(1400,H[1884],H[1885]),function(){this.setFilters(C$Tzo.Filter.LINEAR,C$Tzo.Filter.LINEAR);};}),C$Tza.get(C$Tzo.prototype,H[1886],function(){return cc.errorID(1400,H[1884],H[1887]),function(){this.setFilters(C$Tzo.Filter.NEAREST,C$Tzo.Filter.NEAREST);};}),C$Tzn(cc.macro,[H[1888],H[1889]],H[1890]),C$Tzr(cc.macro,{PI:H[1891],PI2:H[1892],FLT_MAX:H[1893],FLT_MIN:H[1894],UINT_MAX:H[1895]},H[1890]),C$Tzn(cc.game,[H[1896]],H[1897]),C$Tzn(cc.sys,[H[1898],H[1899]],H[1900]),C$Tzr(cc.Director,{EVENT_PROJECTION_CHANGED:"",EVENT_BEFORE_VISIT:H[1901],EVENT_AFTER_VISIT:H[1902]},H[1903]),C$Tzs(cc.Director.prototype,{convertToGL:H[1904],convertToUI:"",getWinSize:H[1905],getWinSizeInPixels:H[1905],getVisibleSize:H[1906],getVisibleOrigin:H[1907],purgeCachedData:H[1908],setDepthTest:H[1909],setClearColor:H[1910],getRunningScene:H[1911],getAnimationInterval:H[1912],setAnimationInterval:H[1913],isDisplayStats:H[1914],setDisplayStats:H[1915],stopAnimation:H[1916],startAnimation:H[1917]},H[1903]),C$Tzi(cc.Director,[H[1918],H[1919],H[1920],H[1921],H[1922],H[1923]],H[1903]),C$Tzr(cc.Scheduler,{scheduleCallbackForTarget:H[1924],scheduleUpdateForTarget:H[1925],unscheduleCallbackForTarget:H[1926],unscheduleUpdateForTarget:H[1927],unscheduleAllCallbacksForTarget:H[1928],unscheduleAllCallbacks:H[1929],unscheduleAllCallbacksWithMinPriority:H[1930]},H[1931]),C$Tzr(cc.view,{adjustViewPort:H[1932],setViewPortInPoints:H[1933],getViewPortRect:H[1934]},H[1935]),C$Tzn(cc.view,[H[1936],H[1937],H[1938],H[1939],H[1940],H[1941],H[1942],H[1943],H[1944]],H[1935]),C$Tzi(cc.Pipeline,[H[1945],H[1946]],H[1947]),C$Tzi(cc.PhysicsManager,[H[1948],H[1949]]),C$Tzi(cc.CollisionManager,[H[1948],H[1949]]),C$Tzr(cc._BaseNode.prototype,{tag:H[488],getTag:H[488],setTag:H[488],getChildByTag:H[1950],removeChildByTag:H[1951]}),C$Tzi(cc.Node,[H[1952],H[1953],H[1954],H[1955],H[1956],H[1957],H[1958],H[1959],H[1960],H[1961],H[1962],H[1963],H[1964],H[1965],H[1966],H[1967]]),C$Tzs(cc.Node.prototype,{getNodeToParentTransform:H[1968],getNodeToParentTransformAR:H[1968],getNodeToWorldTransform:H[1969],getNodeToWorldTransformAR:H[1969],getParentToNodeTransform:H[1968],getWorldToNodeTransform:H[1969],convertTouchToNodeSpace:H[1970],convertTouchToNodeSpaceAR:H[1970],convertToWorldSpace:H[1971],convertToNodeSpace:H[1970]}),C$Tzr(cc.Node.prototype,{getRotationX:H[1972],setRotationX:H[1972],getRotationY:H[1973],setRotationY:H[1973],getPositionX:"x",setPositionX:"x",getPositionY:"y",setPositionY:"y",getSkewX:H[1974],setSkewX:H[1974],getSkewY:H[1975],setSkewY:H[1975],getScaleX:H[1976],setScaleX:H[1976],getScaleY:H[1977],setScaleY:H[1977],getOpacity:H[1978],setOpacity:H[1978],getColor:H[1737],setColor:H[1737],getLocalZOrder:H[1979],setLocalZOrder:H[1979]}),C$Tzr(cc.Sprite.prototype,{setInsetLeft:H[1980],setInsetRight:H[1981],setInsetTop:H[1982],setInsetBottom:H[1983]}),cc.Material.getInstantiatedBuiltinMaterial=cc.MaterialVariant.createWithBuiltin,cc.Material.getInstantiatedMaterial=cc.MaterialVariant.create,C$Tzs(cc.Material,{getInstantiatedBuiltinMaterial:H[1984],getInstantiatedMaterial:H[1985]}),cc.js.getset(cc.RenderComponent.prototype,H[1986],function(){return cc.warnID(1400,H[1986],H[1987]),this.materials;},function(C$Tzt){cc.warnID(1400,H[1986],H[1988]),this.materials=C$Tzt;}),C$Tzs(cc.Camera.prototype,{getNodeToCameraTransform:H[1989],getCameraToWorldPoint:H[1990],getWorldToCameraPoint:H[1991],getCameraToWorldMatrix:H[1992],getWorldToCameraMatrix:H[1989]}),C$Tzi(cc.Camera,[H[1993],H[1994],H[1995]]),H[1996]);Object.defineProperties(cc.Scene.prototype,{active:{get:function(){return cc.error(C$Tzc,H[1997]),!0;},set:function(){cc.error(C$Tzc,H[1997]);}},activeInHierarchy:{get:function(){return cc.error(C$Tzc,H[1998]),!0;}},getComponent:{get:function(){return cc.error(C$Tzc,H[1999]),function(){return null;};}},addComponent:{get:function(){return cc.error(C$Tzc,H[2000]),function(){return null;};}}}),C$Tzn(cc.dynamicAtlasManager,[H[2001]],H[2002]),cc.Light&&C$Tzn(cc.Light.prototype,[H[2003]],H[2004]),C$Tzr(cc,{affineTransformMake:H[2005],affineTransformMakeIdentity:H[2006],affineTransformClone:H[2007],affineTransformConcat:H[2008],affineTransformConcatIn:H[2008],affineTransformInvert:H[2009],affineTransformInvertIn:H[2009],affineTransformInvertOut:H[2009],affineTransformEqualToTransform:H[2010],pointApplyAffineTransform:H[2011],sizeApplyAffineTransform:H[2012],rectApplyAffineTransform:H[2013],obbApplyAffineTransform:H[2014],pointEqualToPoint:H[2015],sizeEqualToSize:H[2016],rectEqualToRect:H[2017],rectContainsRect:H[2018],rectContainsPoint:H[2019],rectOverlapsRect:H[2020],rectIntersectsRect:H[2020],rectIntersection:H[2021],rectUnion:H[2022],rectGetMaxX:H[2023],rectGetMidX:H[2024],rectGetMinX:H[2025],rectGetMaxY:H[2026],rectGetMidY:H[2027],rectGetMinY:H[2028],colorEqual:H[2029],hexToColor:H[2030],colorToHex:H[2031],TextAlignment:H[2032],VerticalTextAlignment:H[2033],pNeg:H[2034],pAdd:H[2035],pSub:H[2036],pMult:H[2037],pMidpoint:H[2038],pDot:H[2039],pCross:H[2040],pPerp:H[2041],pRPerp:H[2042],pProject:H[2043],pLengthSQ:H[2044],pDistanceSQ:H[2045],pLength:H[2046],pDistance:H[2047],pNormalize:H[2048],pForAngle:H[2049],pToAngle:H[2050],pZeroIn:H[2051],pIn:H[2052],pMultIn:H[2053],pSubIn:H[2054],pAddIn:H[2055],pNormalizeIn:H[2056],pSameAs:H[2057],pAngle:H[2058],pAngleSigned:H[2059],pRotateByAngle:H[2060],pCompMult:H[2061],pFuzzyEqual:H[2062],pLerp:H[2063],pClamp:H[2064],rand:H[2065],randomMinus1To1:H[2066],container:H[2067],_canvas:H[2068],_renderType:H[2069],_getError:H[2070],_initDebugSetting:H[2071],DebugMode:H[2072]},H[1873]),C$Tzn(cc,[H[2073],H[2074],H[2075],H[2076],H[2077],H[2078],H[2079],H[2080],H[2081]],H[1873]),C$Tzs(cc,{p:H[2082]},H[1873]),C$Tzr(cc.Rect,{contain:H[2083],transformMat4:H[2084]}),C$Tzr(cc.Color,{rgb2hsv:H[2085],hsv2rgb:H[2086]}),C$Tza.get(cc,H[2087],function(){return cc.errorID(1400,H[2088],H[2089]),cc.misc.lerp;}),C$Tza.get(cc,H[2090],function(){return cc.errorID(1400,H[2091],H[2092]),Math.random;}),C$Tza.get(cc,H[2093],function(){return cc.errorID(1400,H[2094],H[2095]),cc.misc.degreesToRadians;}),C$Tza.get(cc,H[2096],function(){return cc.errorID(1400,H[2097],H[2098]),cc.misc.radiansToDegrees;}),C$Tza.get(cc,H[2099],function(){return cc.errorID(1400,H[2100],H[2101]),cc.misc.clampf;}),C$Tza.get(cc,H[2102],function(){return cc.errorID(1400,H[2103],H[2104]),cc.misc.clamp01;}),C$Tza.get(cc,H[2105],function(){return cc.errorID(1400,H[2106],H[2107]),cc.macro.ImageFormat;}),C$Tza.get(cc,H[2108],function(){return cc.errorID(1400,H[2109],H[2110]),cc.macro.KEY;}),C$Tza.get(cc,H[2111],function(){return cc.errorID(1400,H[2112],H[2113]),cc.easing;}),C$Tza.get(cc,H[2114],function(){return cc.errorID(1400,H[2115],H[2116]),cc.js.isChildClassOf;}),H[534]!=typeof dragonBones&&C$Tza.get(dragonBones.CCFactory,H[2117],function(){return cc.errorID(1400,H[2118],H[2119]),dragonBones.CCFactory.getInstance;}),cc.renderer.renderEngine={get gfx(){return cc.warnID(1400,H[2120],H[2121]),cc.gfx;},get math(){return cc.warnID(1400,H[2122],H[1851]),cc.vmath;},get InputAssembler(){return cc.warnID(1400,H[2123],H[2124]),cc.renderer.InputAssembler;}};},{}],292:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[2125]),C$Tzt(H[2126]);},{"./actions":8,"./core/CCGame":29}],293:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzh,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl;for(this.data=C$Tzt,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},C$Tzn=null;;){switch(C$Tze=this.readUInt32(),C$Tzh=function(){var C$Tzt,C$Tze=[];for(C$Tzt=0;C$Tzt<4;++C$Tzt)C$Tze.push(String.fromCharCode(this.data[this.pos++]));return C$Tze;}.call(this).join("")){case H[2127]:this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case H[2128]:this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case H[2129]:this.palette=this.read(C$Tze);break;case H[2130]:C$Tzn&&this.animation.frames.push(C$Tzn),this.pos+=4,C$Tzn={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},C$Tzo=this.readUInt16(),C$Tzr=this.readUInt16()||100,C$Tzn.delay=1e3*C$Tzo/C$Tzr,C$Tzn.disposeOp=this.data[this.pos++],C$Tzn.blendOp=this.data[this.pos++],C$Tzn.data=[];break;case H[2131]:case H[2132]:for(H[2132]===C$Tzh&&(this.pos+=4,C$Tze-=4),C$Tzt=(null!=C$Tzn?C$Tzn.data:void 0)||this.imgData,C$Tza=0;0<=C$Tze?C$Tza<C$Tze:C$Tze<C$Tza;0<=C$Tze?++C$Tza:--C$Tza)C$Tzt.push(this.data[this.pos++]);break;case H[2133]:switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(C$Tze),0<(C$Tzs=255-this.transparency.indexed.length))for(C$Tzc=0;0<=C$Tzs?C$Tzc<C$Tzs:C$Tzs<C$Tzc;0<=C$Tzs?++C$Tzc:--C$Tzc)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(C$Tze)[0];break;case 2:this.transparency.rgb=this.read(C$Tze);}break;case H[2134]:C$Tzr=(C$Tzo=this.read(C$Tze)).indexOf(0),C$Tzl=String.fromCharCode.apply(String,C$Tzo.slice(0,C$Tzr)),this.text[C$Tzl]=String.fromCharCode.apply(String,C$Tzo.slice(C$Tzr+1));break;case H[2135]:return C$Tzn&&this.animation.frames.push(C$Tzn),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3;}}.call(this),this.hasAlphaChannel=4===(C$Tzl=this.colorType)||6===C$Tzl,C$Tzi=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*C$Tzi,this.colorSpace=function(){switch(this.colors){case 1:return H[2136];case 3:return H[2137];}}.call(this),void(Uint8Array!=Array&&(this.imgData=new Uint8Array(this.imgData)));default:this.pos+=C$Tze;}if(this.pos+=4,this.pos>this.data.length)throw new Error(C$TzC.getError(6017));}}var C$TzA=C$Tzt(H[2138]),C$TzC=C$Tzt(H[501]);C$Tzn.prototype={constructor:C$Tzn,read:function(C$Tzt){var C$Tze,C$Tzi=[];for(C$Tze=0;0<=C$Tzt?C$Tze<C$Tzt:C$Tzt<C$Tze;0<=C$Tzt?++C$Tze:--C$Tze)C$Tzi.push(this.data[this.pos++]);return C$Tzi;},readUInt32:function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++];},readUInt16:function(){return this.data[this.pos++]<<8|this.data[this.pos++];},decodePixels:function(C$Tzt){var C$Tze,C$Tzi,C$Tzh,C$Tzn,C$Tzu,C$Tz_,C$Tzd,C$Tzf,C$Tzp,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl,C$Tzm,C$Tzy,C$Tzg,C$Tzv,C$Tzx,C$Tzb;if(0===(C$Tzt=null==C$Tzt?this.imgData:C$Tzt).length)return new Uint8Array(0);for(C$Tzt=new C$TzA.Inflate(C$Tzt,{index:0,verify:!1}).decompress(),C$Tzc=(C$Tzr=this.pixelBitlength/8)*this.width,C$Tzs=new Uint8Array(C$Tzc*this.height),C$Tz_=C$Tzt.length,C$Tzi=C$Tzo=C$Tza=0;C$Tzo<C$Tz_;){switch(C$Tzt[C$Tzo++]){case 0:for(C$Tzn=C$Tzy=0;C$Tzy<C$Tzc;C$Tzn=C$Tzy+=1)C$Tzs[C$Tzi++]=C$Tzt[C$Tzo++];break;case 1:for(C$Tzn=C$Tzg=0;C$Tzg<C$Tzc;C$Tzn=C$Tzg+=1)C$Tze=C$Tzt[C$Tzo++],C$Tzu=C$Tzn<C$Tzr?0:C$Tzs[C$Tzi-C$Tzr],C$Tzs[C$Tzi++]=(C$Tze+C$Tzu)%256;break;case 2:for(C$Tzn=C$Tzv=0;C$Tzv<C$Tzc;C$Tzn=C$Tzv+=1)C$Tze=C$Tzt[C$Tzo++],C$Tzh=(C$Tzn-C$Tzn%C$Tzr)/C$Tzr,C$Tzl=C$Tza&&C$Tzs[(C$Tza-1)*C$Tzc+C$Tzh*C$Tzr+C$Tzn%C$Tzr],C$Tzs[C$Tzi++]=(C$Tzl+C$Tze)%256;break;case 3:for(C$Tzn=C$Tzx=0;C$Tzx<C$Tzc;C$Tzn=C$Tzx+=1)C$Tze=C$Tzt[C$Tzo++],C$Tzh=(C$Tzn-C$Tzn%C$Tzr)/C$Tzr,C$Tzu=C$Tzn<C$Tzr?0:C$Tzs[C$Tzi-C$Tzr],C$Tzl=C$Tza&&C$Tzs[(C$Tza-1)*C$Tzc+C$Tzh*C$Tzr+C$Tzn%C$Tzr],C$Tzs[C$Tzi++]=(C$Tze+Math.floor((C$Tzu+C$Tzl)/2))%256;break;case 4:for(C$Tzn=C$Tzb=0;C$Tzb<C$Tzc;C$Tzn=C$Tzb+=1)C$Tze=C$Tzt[C$Tzo++],C$Tzh=(C$Tzn-C$Tzn%C$Tzr)/C$Tzr,C$Tzu=C$Tzn<C$Tzr?0:C$Tzs[C$Tzi-C$Tzr],0===C$Tza?C$Tzl=C$Tzm=0:(C$Tzl=C$Tzs[(C$Tza-1)*C$Tzc+C$Tzh*C$Tzr+C$Tzn%C$Tzr],C$Tzm=C$Tzh&&C$Tzs[(C$Tza-1)*C$Tzc+(C$Tzh-1)*C$Tzr+C$Tzn%C$Tzr]),C$Tzp=C$Tzu+C$Tzl-C$Tzm,C$Tzd=Math.abs(C$Tzp-C$Tzu),C$Tzf=Math.abs(C$Tzp-C$Tzl),C$Tzp=Math.abs(C$Tzp-C$Tzm),C$Tzs[C$Tzi++]=(C$Tze+(C$Tzd<=C$Tzf&&C$Tzd<=C$Tzp?C$Tzu:C$Tzf<=C$Tzp?C$Tzl:C$Tzm))%256;break;default:throw new Error(C$TzC.getError(6018,C$Tzt[C$Tzo-1]));}C$Tza++;}return C$Tzs;},copyToImageData:function(C$Tzh,C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzu,C$Tz_=this.colors,C$Tzc=null,C$Tzl=this.hasAlphaChannel;if(this.palette.length&&(C$Tzc=null!=(C$Tzu=this._decodedPalette)?C$Tzu:this._decodedPalette=this.decodePalette(),C$Tz_=4,C$Tzl=!0),C$Tzo=(C$Tze=C$Tzh.data||C$Tzh).length,C$Tzn=C$Tzc||C$Tzt,C$Tzi=C$Tzr=0,1===C$Tz_)for(;C$Tzi<C$Tzo;)C$Tzs=C$Tzc?4*C$Tzt[C$Tzi/4]:C$Tzr,C$Tza=C$Tzn[C$Tzs++],C$Tze[C$Tzi++]=C$Tza,C$Tze[C$Tzi++]=C$Tza,C$Tze[C$Tzi++]=C$Tza,C$Tze[C$Tzi++]=C$Tzl?C$Tzn[C$Tzs++]:255,C$Tzr=C$Tzs;else for(;C$Tzi<C$Tzo;)C$Tzs=C$Tzc?4*C$Tzt[C$Tzi/4]:C$Tzr,C$Tze[C$Tzi++]=C$Tzn[C$Tzs++],C$Tze[C$Tzi++]=C$Tzn[C$Tzs++],C$Tze[C$Tzi++]=C$Tzn[C$Tzs++],C$Tze[C$Tzi++]=C$Tzl?C$Tzn[C$Tzs++]:255,C$Tzr=C$Tzs;},decodePalette:function(){for(var C$Tzt,C$Tze,C$Tzi=this.palette,C$Tzn=this.transparency.indexed||[],C$Tzr=new Uint8Array((C$Tzn.length||0)+C$Tzi.length),C$Tzs=0,C$Tzo=0,C$Tza=C$Tzt=0,C$Tzc=C$Tzi.length;C$Tzt<C$Tzc;C$Tza=C$Tzt+=3)C$Tzr[C$Tzs++]=C$Tzi[C$Tza],C$Tzr[C$Tzs++]=C$Tzi[C$Tza+1],C$Tzr[C$Tzs++]=C$Tzi[C$Tza+2],C$Tzr[C$Tzs++]=null!=(C$Tze=C$Tzn[C$Tzo++])?C$Tze:255;return C$Tzr;},render:function(C$Tzt){var C$Tze;return C$Tzt.width=this.width,C$Tzt.height=this.height,C$Tze=(C$Tzt=C$Tzt.getContext(H[1162])).createImageData(this.width,this.height),this.copyToImageData(C$Tze,this.decodePixels()),C$Tzt.putImageData(C$Tze,0,0);}},C$Tze.exports=C$Tzn;},{"../compression/zlib.min":26,"../core/CCDebug":27}],294:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[2139]),C$Tzt=C$Tzt(H[2140]),C$Tzn=cc.Class({name:H[2141],extends:C$Tzn,properties:{spriteFrame:{default:null,type:C$Tzt}}});cc.ParticleAsset=C$Tze.exports=C$Tzn;},{"../core/assets/CCAsset":34,"../core/assets/CCSpriteFrame":47}],295:[function(C$Tzt,C$Tze,C$Tzh){"use strict";var C$Tzo=C$Tzt(H[2142]),C$Tzi=C$Tzt(H[2143]),C$Tzu=C$Tzt(H[2144]),C$Tz_=C$Tzt(H[2145]),C$Tza=C$Tzt(H[2146]),C$Tzc=C$Tzt(H[2147]),C$Tzl=C$Tzt(H[2148]),C$Tzd=(C$Tzt(H[2149]),C$Tzt(H[2150])),C$Tzn=(C$Tzt(H[2151]),C$Tzt(H[2152]));var C$Tzr=cc.Enum({GRAVITY:0,RADIUS:1}),C$Tzs=cc.Enum({FREE:0,RELATIVE:1,GROUPED:2}),C$Tzt={preview:{default:!0,editorOnly:!0,notify:!1,animatable:!1,tooltip:!1},_custom:!1,custom:{get:function(){return this._custom;},set:function(C$Tzt){this._custom!==C$Tzt&&(this._custom=C$Tzt,this._applyFile());},animatable:!1,tooltip:!1},_file:{default:null,type:C$Tzi},file:{get:function(){return this._file;},set:function(C$Tzt,C$Tze){this._file!==C$Tzt&&((this._file=C$Tzt)?this._applyFile():this.custom=!0);},animatable:!1,type:C$Tzi,tooltip:!1},_spriteFrame:{default:null,type:cc.SpriteFrame},spriteFrame:{get:function(){return this._spriteFrame;},set:function(C$Tzt,C$Tze){var C$Tzi=this._renderSpriteFrame;C$Tzi!==C$Tzt&&((this._renderSpriteFrame=C$Tzt)&&!C$Tzt._uuid||(this._spriteFrame=C$Tzt),(C$Tzi&&C$Tzi.getTexture())!==(C$Tzt&&C$Tzt.getTexture())&&this._applySpriteFrame(C$Tzi));},type:cc.SpriteFrame,tooltip:!1},_texture:{default:null,type:cc.Texture2D,editorOnly:!0},texture:{get:function(){return this._getTexture();},set:function(C$Tzt){C$Tzt&&cc.warnID(6017);},type:cc.Texture2D,tooltip:!1,readonly:!0,visible:!1,animatable:!1},particleCount:{visible:!1,get:function(){return this._simulator.particles.length;},readonly:!0},_stopped:!0,stopped:{get:function(){return this._stopped;},animatable:!1,visible:!1},playOnLoad:!0,autoRemoveOnFinish:{default:!1,animatable:!1,tooltip:!1},active:{get:function(){return this._simulator.active;},visible:!1},totalParticles:150,duration:-1,emissionRate:10,life:1,lifeVar:0,_startColor:null,startColor:{type:cc.Color,get:function(){return this._startColor;},set:function(C$Tzt){this._startColor.r=C$Tzt.r,this._startColor.g=C$Tzt.g,this._startColor.b=C$Tzt.b,this._startColor.a=C$Tzt.a;}},_startColorVar:null,startColorVar:{type:cc.Color,get:function(){return this._startColorVar;},set:function(C$Tzt){this._startColorVar.r=C$Tzt.r,this._startColorVar.g=C$Tzt.g,this._startColorVar.b=C$Tzt.b,this._startColorVar.a=C$Tzt.a;}},_endColor:null,endColor:{type:cc.Color,get:function(){return this._endColor;},set:function(C$Tzt){this._endColor.r=C$Tzt.r,this._endColor.g=C$Tzt.g,this._endColor.b=C$Tzt.b,this._endColor.a=C$Tzt.a;}},_endColorVar:null,endColorVar:{type:cc.Color,get:function(){return this._endColorVar;},set:function(C$Tzt){this._endColorVar.r=C$Tzt.r,this._endColorVar.g=C$Tzt.g,this._endColorVar.b=C$Tzt.b,this._endColorVar.a=C$Tzt.a;}},angle:90,angleVar:20,startSize:50,startSizeVar:0,endSize:0,endSizeVar:0,startSpin:0,startSpinVar:0,endSpin:0,endSpinVar:0,sourcePos:cc.Vec2.ZERO,posVar:cc.Vec2.ZERO,_positionType:{default:C$Tzs.FREE,formerlySerializedAs:H[2153]},positionType:{type:C$Tzs,get:function(){return this._positionType;},set:function(C$Tzt){this._positionType=C$Tzt,this._updateMaterial();}},emitterMode:{default:C$Tzr.GRAVITY,type:C$Tzr},gravity:cc.Vec2.ZERO,speed:180,speedVar:50,tangentialAccel:80,tangentialAccelVar:0,radialAccel:0,radialAccelVar:0,rotationIsDir:!1,startRadius:0,startRadiusVar:0,endRadius:0,endRadiusVar:0,rotatePerS:0,rotatePerSVar:0},C$Tzi=cc.Class({name:H[2154],extends:C$Tzu,mixins:[C$Tzn],editor:!1,ctor:function(){this.initProperties();},initProperties:function(){this._previewTimer=null,this._focused=!1,this._aspectRatio=1,this._simulator=new C$Tzd(this),this._startColor=cc.color(255,255,255,255),this._startColorVar=cc.color(0,0,0,0),this._endColor=cc.color(255,255,255,0),this._endColorVar=cc.color(0,0,0,0),this._renderSpriteFrame=null;},properties:C$Tzt,statics:{DURATION_INFINITY:-1,START_SIZE_EQUAL_TO_END_SIZE:-1,START_RADIUS_EQUAL_TO_END_RADIUS:-1,EmitterMode:C$Tzr,PositionType:C$Tzs,_PNGReader:C$Tza,_TIFFReader:C$Tzc},onFocusInEditor:!1,onLostFocusInEditor:!1,_startPreview:!1,_stopPreview:!1,_convertTextureToSpriteFrame:!1,__preload:function(){this._super(),this._custom&&this.spriteFrame&&!this._renderSpriteFrame?this._applySpriteFrame(this.spriteFrame):this._file&&(this._custom&&this._getTexture()||this._applyFile()),this.playOnLoad&&this.resetSystem();},onDestroy:function(){this.autoRemoveOnFinish&&(this.autoRemoveOnFinish=!1),this._buffer&&(this._buffer.destroy(),this._buffer=null),this._simulator._uvFilled=0,this._super();},lateUpdate:function(C$Tzt){this._simulator.finished||this._simulator.step(C$Tzt);},addParticle:function(){},stopSystem:function(){this._stopped=!0,this._simulator.stop();},resetSystem:function(){this._stopped=!1,this._simulator.reset(),this.markForRender(!0);},isFull:function(){return this.particleCount>=this.totalParticles;},setTextureWithRect:function(C$Tzt,C$Tze){C$Tzt instanceof cc.Texture2D&&(this.spriteFrame=new cc.SpriteFrame(C$Tzt,C$Tze));},_applyFile:function(){var C$Tzi,C$Tzn=this._file;C$Tzn&&(C$Tzi=this,cc.loader.load(C$Tzn.nativeUrl,function(C$Tzt,C$Tze){!C$Tzt&&C$Tze?C$Tzi.isValid&&(C$Tzi._plistFile=C$Tzn.nativeUrl,C$Tzi._custom||C$Tzi._initWithDictionary(C$Tze),C$Tzi._spriteFrame?!C$Tzi._renderSpriteFrame&&C$Tzi._spriteFrame&&C$Tzi._applySpriteFrame(C$Tzi.spriteFrame):C$Tzn.spriteFrame?C$Tzi.spriteFrame=C$Tzn.spriteFrame:C$Tzi._custom&&C$Tzi._initTextureWithDictionary(C$Tze)):cc.errorID(6029);}));},_initTextureWithDictionary:function(C$Tzi){var C$Tzt=cc.path.changeBasename(this._plistFile,C$Tzi.textureFileName||"");if(C$Tzi.textureFileName)C$Tzl.loadImage(C$Tzt,function(C$Tzt,C$Tze){C$Tzt?(C$Tzi.textureFileName=void 0,this._initTextureWithDictionary(C$Tzi)):this.spriteFrame=new cc.SpriteFrame(C$Tze);},this);else if(C$Tzi.textureImageData){var C$Tze=C$Tzi.textureImageData;if(!(C$Tze&&0<C$Tze.length))return!1;var C$Tzn=cc.loader.getRes(C$Tzt);if(!C$Tzn){C$Tze=C$Tz_.unzipBase64AsArray(C$Tze,1);if(!C$Tze)return cc.logID(6030),!1;var C$Tzr=8<(C$Tzr=C$Tze).length&&137===C$Tzr[0]&&80===C$Tzr[1]&&78===C$Tzr[2]&&71===C$Tzr[3]&&13===C$Tzr[4]&&10===C$Tzr[5]&&26===C$Tzr[6]&&10===C$Tzr[7]?C$Tzo.ImageFormat.PNG:2<C$Tzr.length&&(73===C$Tzr[0]&&73===C$Tzr[1]||77===C$Tzr[0]&&77===C$Tzr[1]||255===C$Tzr[0]&&216===C$Tzr[1])?C$Tzo.ImageFormat.TIFF:C$Tzo.ImageFormat.UNKNOWN;if(C$Tzr!==C$Tzo.ImageFormat.TIFF&&C$Tzr!==C$Tzo.ImageFormat.PNG)return cc.logID(6031),!1;var C$Tzs=document.createElement(H[1161]);C$Tzr===C$Tzo.ImageFormat.PNG?new C$Tza(C$Tze).render(C$Tzs):C$Tzc.parseTIFF(C$Tze,C$Tzs),C$Tzn=C$Tzl.cacheImage(C$Tzt,C$Tzs);}C$Tzn||cc.logID(6032),this.spriteFrame=new cc.SpriteFrame(C$Tzn);}return!0;},_initWithDictionary:function(C$Tzt){this.totalParticles=parseInt(C$Tzt.maxParticles||0),this.life=parseFloat(C$Tzt.particleLifespan||0),this.lifeVar=parseFloat(C$Tzt.particleLifespanVariance||0);var C$Tze=C$Tzt.emissionRate,C$Tze=(this.emissionRate=C$Tze||Math.min(this.totalParticles/this.life,Number.MAX_VALUE),this.duration=parseFloat(C$Tzt.duration||0),this.srcBlendFactor=parseInt(C$Tzt.blendFuncSource||C$Tzo.SRC_ALPHA),this.dstBlendFactor=parseInt(C$Tzt.blendFuncDestination||C$Tzo.ONE_MINUS_SRC_ALPHA),this._startColor),C$Tze=(C$Tze.r=255*parseFloat(C$Tzt.startColorRed||0),C$Tze.g=255*parseFloat(C$Tzt.startColorGreen||0),C$Tze.b=255*parseFloat(C$Tzt.startColorBlue||0),C$Tze.a=255*parseFloat(C$Tzt.startColorAlpha||0),this._startColorVar),C$Tze=(C$Tze.r=255*parseFloat(C$Tzt.startColorVarianceRed||0),C$Tze.g=255*parseFloat(C$Tzt.startColorVarianceGreen||0),C$Tze.b=255*parseFloat(C$Tzt.startColorVarianceBlue||0),C$Tze.a=255*parseFloat(C$Tzt.startColorVarianceAlpha||0),this._endColor),C$Tze=(C$Tze.r=255*parseFloat(C$Tzt.finishColorRed||0),C$Tze.g=255*parseFloat(C$Tzt.finishColorGreen||0),C$Tze.b=255*parseFloat(C$Tzt.finishColorBlue||0),C$Tze.a=255*parseFloat(C$Tzt.finishColorAlpha||0),this._endColorVar);if(C$Tze.r=255*parseFloat(C$Tzt.finishColorVarianceRed||0),C$Tze.g=255*parseFloat(C$Tzt.finishColorVarianceGreen||0),C$Tze.b=255*parseFloat(C$Tzt.finishColorVarianceBlue||0),C$Tze.a=255*parseFloat(C$Tzt.finishColorVarianceAlpha||0),this.startSize=parseFloat(C$Tzt.startParticleSize||0),this.startSizeVar=parseFloat(C$Tzt.startParticleSizeVariance||0),this.endSize=parseFloat(C$Tzt.finishParticleSize||0),this.endSizeVar=parseFloat(C$Tzt.finishParticleSizeVariance||0),this.positionType=parseFloat(void 0!==C$Tzt.positionType?C$Tzt.positionType:C$Tzs.RELATIVE),this.sourcePos.x=0,this.sourcePos.y=0,this.posVar.x=parseFloat(C$Tzt.sourcePositionVariancex||0),this.posVar.y=parseFloat(C$Tzt.sourcePositionVariancey||0),this.angle=parseFloat(C$Tzt.angle||0),this.angleVar=parseFloat(C$Tzt.angleVariance||0),this.startSpin=parseFloat(C$Tzt.rotationStart||0),this.startSpinVar=parseFloat(C$Tzt.rotationStartVariance||0),this.endSpin=parseFloat(C$Tzt.rotationEnd||0),this.endSpinVar=parseFloat(C$Tzt.rotationEndVariance||0),this.emitterMode=parseInt(C$Tzt.emitterType||C$Tzr.GRAVITY),this.emitterMode===C$Tzr.GRAVITY){this.gravity.x=parseFloat(C$Tzt.gravityx||0),this.gravity.y=parseFloat(C$Tzt.gravityy||0),this.speed=parseFloat(C$Tzt.speed||0),this.speedVar=parseFloat(C$Tzt.speedVariance||0),this.radialAccel=parseFloat(C$Tzt.radialAcceleration||0),this.radialAccelVar=parseFloat(C$Tzt.radialAccelVariance||0),this.tangentialAccel=parseFloat(C$Tzt.tangentialAcceleration||0),this.tangentialAccelVar=parseFloat(C$Tzt.tangentialAccelVariance||0);C$Tze=C$Tzt.rotationIsDir||"";null!==C$Tze?(C$Tze=C$Tze.toString().toLowerCase(),this.rotationIsDir=H[583]===C$Tze||"1"===C$Tze):this.rotationIsDir=!1;}else{if(this.emitterMode!==C$Tzr.RADIUS)return cc.warnID(6009),!1;this.startRadius=parseFloat(C$Tzt.maxRadius||0),this.startRadiusVar=parseFloat(C$Tzt.maxRadiusVariance||0),this.endRadius=parseFloat(C$Tzt.minRadius||0),this.endRadiusVar=parseFloat(C$Tzt.minRadiusVariance||0),this.rotatePerS=parseFloat(C$Tzt.rotatePerSecond||0),this.rotatePerSVar=parseFloat(C$Tzt.rotatePerSecondVariance||0);}return this._initTextureWithDictionary(C$Tzt),!0;},_validateRender:function(){var C$Tzt=this._getTexture();C$Tzt&&C$Tzt.loaded?this._super():this.disableRender();},_onTextureLoaded:function(){this._simulator.updateUVs(!0),this._syncAspect(),this._updateMaterial(),this.markForRender(!0);},_syncAspect:function(){var C$Tzt=this._renderSpriteFrame._rect;this._aspectRatio=C$Tzt.width/C$Tzt.height;},_applySpriteFrame:function(){this._renderSpriteFrame=this._renderSpriteFrame||this._spriteFrame,this._renderSpriteFrame&&(this._renderSpriteFrame.textureLoaded()?this._onTextureLoaded():this._renderSpriteFrame.onTextureLoaded(this._onTextureLoaded,this));},_getTexture:function(){return this._renderSpriteFrame&&this._renderSpriteFrame.getTexture()||this._texture;},_updateMaterial:function(){var C$Tzt=this.getMaterial(0);C$Tzt&&(C$Tzt.define(H[896],this._positionType!==C$Tzs.FREE),C$Tzt.setProperty(H[883],this._getTexture()),C$Tzn.prototype._updateMaterial.call(this));},_finishedSimulation:function(){this.resetSystem(),this.stopSystem(),this.disableRender(),this.autoRemoveOnFinish&&this._stopped&&this.node.destroy();}});cc.ParticleSystem=C$Tze.exports=C$Tzi;},{"../compression/ZipUtils":23,"../core/assets/material/CCMaterial":53,"../core/components/CCRenderComponent":89,"../core/platform/CCMacro":194,"../core/renderer/render-flow":221,"../core/utils/blend-func":257,"../core/utils/texture-util":272,"./CCPNGReader":293,"./CCParticleAsset":294,"./CCTIFFReader":296,"./particle-simulator":298,"fire-url":void 0}],296:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tztt=C$Tzt(H[501]);C$Tze.exports={_littleEndian:!1,_tiffData:null,_fileDirectories:[],getUint8:function(C$Tzt){return this._tiffData[C$Tzt];},getUint16:function(C$Tzt){return this._littleEndian?this._tiffData[C$Tzt+1]<<8|this._tiffData[C$Tzt]:this._tiffData[C$Tzt]<<8|this._tiffData[C$Tzt+1];},getUint32:function(C$Tzt){var C$Tze=this._tiffData;return this._littleEndian?C$Tze[C$Tzt+3]<<24|C$Tze[C$Tzt+2]<<16|C$Tze[C$Tzt+1]<<8|C$Tze[C$Tzt]:C$Tze[C$Tzt]<<24|C$Tze[C$Tzt+1]<<16|C$Tze[C$Tzt+2]<<8|C$Tze[C$Tzt+3];},checkLittleEndian:function(){var C$Tzt=this.getUint16(0);if(18761===C$Tzt)this.littleEndian=!0;else{if(19789!==C$Tzt)throw console.log(C$Tzt),TypeError(C$Tztt.getError(6019));this.littleEndian=!1;}return this.littleEndian;},hasTowel:function(){if(42!==this.getUint16(2))throw RangeError(C$Tztt.getError(6020));return!0;},getFieldTypeName:function(C$Tzt){var C$Tze=this.fieldTypeNames;return C$Tzt in C$Tze?C$Tze[C$Tzt]:null;},getFieldTagName:function(C$Tzt){var C$Tze=this.fieldTagNames;return C$Tzt in C$Tze?C$Tze[C$Tzt]:(cc.logID(6021,C$Tzt),H[2155]+C$Tzt);},getFieldTypeLength:function(C$Tzt){return-1!==[H[2156],H[2157],H[2158],H[2159]].indexOf(C$Tzt)?1:-1!==[H[2160],H[2161]].indexOf(C$Tzt)?2:-1!==[H[2162],H[2163],H[2164]].indexOf(C$Tzt)?4:-1!==[H[2165],H[2166],H[2167]].indexOf(C$Tzt)?8:null;},getFieldValues:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=[],C$Tzs=this.getFieldTypeLength(C$Tze);if(C$Tzs*C$Tzi<=4)!1===this.littleEndian?C$Tzr.push(C$Tzn>>>8*(4-C$Tzs)):C$Tzr.push(C$Tzn);else for(var C$Tzo=0;C$Tzo<C$Tzi;C$Tzo++){var C$Tza=C$Tzs*C$Tzo;8<=C$Tzs?-1!==[H[2165],H[2166]].indexOf(C$Tze)?(C$Tzr.push(this.getUint32(C$Tzn+C$Tza)),C$Tzr.push(this.getUint32(C$Tzn+C$Tza+4))):cc.logID(8e3):C$Tzr.push(this.getBytes(C$Tzs,C$Tzn+C$Tza));}return H[2157]===C$Tze&&C$Tzr.forEach(function(C$Tzt,C$Tze,C$Tzi){C$Tzi[C$Tze]=String.fromCharCode(C$Tzt);}),C$Tzr;},getBytes:function(C$Tzt,C$Tze){if(!(C$Tzt<=0))return C$Tzt<=1?this.getUint8(C$Tze):C$Tzt<=2?this.getUint16(C$Tze):C$Tzt<=3?this.getUint32(C$Tze)>>>8:C$Tzt<=4?this.getUint32(C$Tze):void cc.logID(8002);cc.logID(8001);},getBits:function(C$Tzt,C$Tze,C$Tzi){C$Tzi=C$Tzi||0;var C$Tzn,C$Tzr,C$Tze=C$Tze+Math.floor(C$Tzi/8),C$Tzs=C$Tzi+C$Tzt,C$Tzt=32-C$Tzt;return C$Tzs<=0?cc.logID(6023):C$Tzs<=8?(C$Tzn=24+C$Tzi,C$Tzr=this.getUint8(C$Tze)):C$Tzs<=16?(C$Tzn=16+C$Tzi,C$Tzr=this.getUint16(C$Tze)):C$Tzs<=32?(C$Tzn=C$Tzi,C$Tzr=this.getUint32(C$Tze)):cc.logID(6022),{bits:C$Tzr<<C$Tzn>>>C$Tzt,byteOffset:C$Tze+Math.floor(C$Tzs/8),bitOffset:C$Tzs%8};},parseFileDirectory:function(C$Tzt){for(var C$Tze=this.getUint16(C$Tzt),C$Tzi=[],C$Tzn=C$Tzt+2,C$Tzr=0;C$Tzr<C$Tze;C$Tzn+=12,C$Tzr++){var C$Tzs=this.getUint16(C$Tzn),C$Tzo=this.getUint16(C$Tzn+2),C$Tza=this.getUint32(C$Tzn+4),C$Tzc=this.getUint32(C$Tzn+8),C$Tzs=this.getFieldTagName(C$Tzs),C$Tzo=this.getFieldTypeName(C$Tzo),C$Tza=this.getFieldValues(C$Tzs,C$Tzo,C$Tza,C$Tzc);C$Tzi[C$Tzs]={type:C$Tzo,values:C$Tza};}this._fileDirectories.push(C$Tzi);C$Tzt=this.getUint32(C$Tzn);0!==C$Tzt&&this.parseFileDirectory(C$Tzt);},clampColorSample:function(C$Tzt,C$Tze){C$Tze=Math.pow(2,8-C$Tze);return Math.floor(C$Tzt*C$Tze+(C$Tze-1));},parseTIFF:function(C$Tzt,C$Tze){if(C$Tze=C$Tze||document.createElement(H[1161]),this._tiffData=C$Tzt,this.canvas=C$Tze,this.checkLittleEndian(),this.hasTowel()){var C$Tzh,C$Tzt=this.getUint32(4),C$Tzt=(this._fileDirectories.length=0,this.parseFileDirectory(C$Tzt),this._fileDirectories[0]),C$Tzu=C$Tzt.ImageWidth.values[0],C$Tzi=C$Tzt.ImageLength.values[0],C$Tzn=(this.canvas.width=C$Tzu,this.canvas.height=C$Tzi,[]),C$Tz_=C$Tzt.Compression?C$Tzt.Compression.values[0]:1,C$Tzd=C$Tzt.SamplesPerPixel.values[0],C$Tzr=[],C$Tzf=0,C$Tzp=!1,C$Tzm=(C$Tzt.BitsPerSample.values.forEach(function(C$Tzt,C$Tze,C$Tzi){C$Tzr[C$Tze]={bitsPerSample:C$Tzt,hasBytesPerSample:!1,bytesPerSample:void 0},C$Tzt%8==0&&(C$Tzr[C$Tze].hasBytesPerSample=!0,C$Tzr[C$Tze].bytesPerSample=C$Tzt/8),C$Tzf+=C$Tzt;},this),C$Tzf%8==0&&(C$Tzp=!0,C$Tzh=C$Tzf/8),C$Tzt.StripOffsets.values),C$Tzy=C$Tzm.length;if(C$Tzt.StripByteCounts)var C$Tzg=C$Tzt.StripByteCounts.values;else{if(cc.logID(8003),1!==C$Tzy)throw Error(C$Tztt.getError(6024));C$Tzg=[Math.ceil(C$Tzu*C$Tzi*C$Tzf/8)];}for(var C$Tzs=0;C$Tzs<C$Tzy;C$Tzs++)for(var C$Tzv=C$Tzm[C$Tzs],C$Tzx=(C$Tzn[C$Tzs]=[],C$Tzg[C$Tzs]),C$Tzo=0,C$Tzb=0,C$TzA=1,C$TzC=!0,C$Tza=[],C$TzS=0,C$TzT=0,C$Tzw=0;C$Tzo<C$Tzx;C$Tzo+=C$TzA)switch(C$Tz_){case 1:for(var C$Tzc=0,C$Tza=[];C$Tzc<C$Tzd;C$Tzc++){if(!C$Tzr[C$Tzc].hasBytesPerSample)throw C$TzE=this.getBits(C$Tzr[C$Tzc].bitsPerSample,C$Tzv+C$Tzo,C$Tzb),C$Tza.push(C$TzE.bits),C$Tzo=C$TzE.byteOffset-C$Tzv,C$Tzb=C$TzE.bitOffset,RangeError(C$Tztt.getError(6025));var C$TzE=C$Tzr[C$Tzc].bytesPerSample*C$Tzc;C$Tza.push(this.getBytes(C$Tzr[C$Tzc].bytesPerSample,C$Tzv+C$Tzo+C$TzE));}if(C$Tzn[C$Tzs].push(C$Tza),!C$Tzp)throw C$TzA=0,RangeError(C$Tztt.getError(6026));C$TzA=C$Tzh;break;case 2:case 3:case 4:case 5:case 6:case 7:break;case 32773:if(C$TzC){var C$TzC=!1,C$TzM=1,C$TzI=1,C$TzB=this.getInt8(C$Tzv+C$Tzo);0<=C$TzB&&C$TzB<=127?C$TzM=C$TzB+1:-127<=C$TzB&&C$TzB<=-1?C$TzI=1-C$TzB:C$TzC=!0;}else{for(var C$TzR=this.getUint8(C$Tzv+C$Tzo),C$Tzc=0;C$Tzc<C$TzI;C$Tzc++){if(!C$Tzr[C$TzT].hasBytesPerSample)throw RangeError(C$Tztt.getError(6025));C$Tzw=C$Tzw<<8*C$TzS|C$TzR,++C$TzS===C$Tzr[C$TzT].bytesPerSample&&(C$Tza.push(C$Tzw),C$Tzw=C$TzS=0,C$TzT++),C$TzT===C$Tzd&&(C$Tzn[C$Tzs].push(C$Tza),C$Tza=[],C$TzT=0);}0===--C$TzM&&(C$TzC=!0);}C$TzA=1;}if(C$Tze.getContext){var C$TzP,C$TzD,C$TzL=this.canvas.getContext(H[1162]),C$Tze=(C$TzL.fillStyle=H[2168],C$Tzt.RowsPerStrip?C$Tzt.RowsPerStrip.values[0]:C$Tzi),C$TzV=C$Tzn.length,C$Tzi=C$Tzi%C$Tze,C$TzO=0==C$Tzi?C$Tze:C$Tzi,C$TzF=C$Tze,C$TzN=0,C$Tzk=C$Tzt.PhotometricInterpretation.values[0],C$TzG=[],C$Tzz=0;C$Tzt.ExtraSamples&&(C$Tzz=(C$TzG=C$Tzt.ExtraSamples.values).length),C$Tzt.ColorMap&&(C$TzP=C$Tzt.ColorMap.values,C$TzD=Math.pow(2,C$Tzr[0].bitsPerSample));for(C$Tzs=0;C$Tzs<C$TzV;C$Tzs++){C$Tzs+1===C$TzV&&(C$TzF=C$TzO);for(var C$TzU=C$Tzn[C$Tzs].length,C$TzW=C$TzN*C$Tzs,C$TzH=0,C$Tzj=0;C$Tzj<C$TzU;C$TzH++)for(var C$TzX=0;C$TzX<C$Tzu;C$TzX++,C$Tzj++){var C$TzY,C$Tzl=C$Tzn[C$Tzs][C$Tzj],C$Tzq=0,C$TzJ=0,C$TzZ=0,C$TzK=1;if(0<C$Tzz)for(var C$TzQ=0;C$TzQ<C$Tzz;C$TzQ++)if(1===C$TzG[C$TzQ]||2===C$TzG[C$TzQ]){C$TzK=C$Tzl[3+C$TzQ]/256;break;}switch(C$Tzk){case 0:C$Tzr[0].hasBytesPerSample&&(C$TzY=Math.pow(16,2*C$Tzr[0].bytesPerSample)),C$Tzl.forEach(function(C$Tzt,C$Tze,C$Tzi){C$Tzi[C$Tze]=C$TzY-C$Tzt;});case 1:C$Tzq=C$TzJ=C$TzZ=this.clampColorSample(C$Tzl[0],C$Tzr[0].bitsPerSample);break;case 2:C$Tzq=this.clampColorSample(C$Tzl[0],C$Tzr[0].bitsPerSample),C$TzJ=this.clampColorSample(C$Tzl[1],C$Tzr[1].bitsPerSample),C$TzZ=this.clampColorSample(C$Tzl[2],C$Tzr[2].bitsPerSample);break;case 3:if(void 0===C$TzP)throw Error(C$Tztt.getError(6027));var C$Tz$=C$Tzl[0],C$Tzq=this.clampColorSample(C$TzP[C$Tz$],16),C$TzJ=this.clampColorSample(C$TzP[C$TzD+C$Tz$],16),C$TzZ=this.clampColorSample(C$TzP[2*C$TzD+C$Tz$],16);break;default:throw RangeError(C$Tztt.getError(6028,C$Tzk));}C$TzL.fillStyle=H[1636]+C$Tzq+H[1637]+C$TzJ+H[1637]+C$TzZ+H[1637]+C$TzK+")",C$TzL.fillRect(C$TzX,C$TzW+C$TzH,1,1);}C$TzN=C$TzF;}}return this.canvas;}},fieldTagNames:{315:H[2169],258:H[2170],265:H[2171],264:H[2172],320:H[2173],259:H[2174],33432:H[2175],306:H[2176],338:H[2177],266:H[2178],289:H[2179],288:H[2180],291:H[2181],290:H[2182],316:H[2183],270:H[2184],257:H[2185],256:H[2186],271:H[2187],281:H[2188],280:H[2189],272:H[2190],254:H[2191],274:H[2192],262:H[2193],284:H[2194],296:H[2195],278:H[2196],277:H[2197],305:H[2198],279:H[2199],273:H[2200],255:H[2201],263:H[2202],282:H[2203],283:H[2204],326:H[2205],327:H[2206],343:H[2207],328:H[2208],433:H[2209],434:H[2210],269:H[2211],336:H[2212],321:H[2213],346:H[2214],347:H[2215],285:H[2216],297:H[2217],317:H[2218],319:H[2219],532:H[2220],339:H[2221],559:H[2222],330:H[2223],292:H[2224],293:H[2225],325:H[2226],323:H[2227],324:H[2228],322:H[2229],301:H[2230],318:H[2231],344:H[2232],286:H[2233],529:H[2234],531:H[2235],530:H[2236],345:H[2237],287:H[2238],37378:H[2239],40961:H[2240],36868:H[2241],36867:H[2242],34665:H[2243],36864:H[2244],33434:H[2245],41728:H[2246],37385:H[2247],40960:H[2248],33437:H[2249],42016:H[2250],37384:H[2251],37500:H[2252],37377:H[2253],37510:H[2254],33723:H[2255],34675:H[2256],700:H[2257],42112:H[2258],42113:H[2259],34377:H[2260]},fieldTypeNames:{1:H[2156],2:H[2157],3:H[2160],4:H[2162],5:H[2165],6:H[2158],7:H[2159],8:H[2161],9:H[2163],10:H[2166],11:H[2164],12:H[2167]}};},{"../core/CCDebug":27}],297:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[2143]),C$Tzt(H[2261]),C$Tzt(H[2150]),C$Tzt(H[2262]);},{"./CCParticleAsset":294,"./CCParticleSystem":295,"./particle-simulator":298,"./particle-system-assembler":299}],298:[function(C$Tze,C$Tzi,C$Tzn){"use strict";function C$Tzr(){this.pos=cc.v2(0,0),this.startPos=cc.v2(0,0),this.color=cc.color(0,0,0,255),this.deltaColor={r:0,g:0,b:0,a:255},this.size=0,this.deltaSize=0,this.rotation=0,this.deltaRotation=0,this.timeToLive=0,this.drawPos=cc.v2(0,0),this.aspectRatio=1,this.dir=cc.v2(0,0),this.radialAccel=0,this.tangentialAccel=0,this.angle=0,this.degreesPerSecond=0,this.radius=0,this.deltaRadius=0;}function C$Tzt(C$Tzt){this.sys=C$Tzt,this.particles=[],this.active=!1,this.readyToPlay=!0,this.finished=!1,this.elapsed=0,this.emitCounter=0,this._uvFilled=0;}var C$Tzm=C$Tze(H[2263]),C$Tzs=C$Tze(H[452]),C$Tzy=C$Tze(H[407]),C$Tzg=cc.v2(0,0),C$Tzv=C$Tzm.create(),C$Tzx=cc.v2(),C$Tzb=cc.v2(),C$TzA=cc.v2(),C$TzC=cc.v2(),C$TzS=new C$Tzs.Pool(function(C$Tzt){C$Tzt.pos.set(C$Tzg),C$Tzt.startPos.set(C$Tzg),C$Tzt.color._val=4278190080,C$Tzt.deltaColor.r=C$Tzt.deltaColor.g=C$Tzt.deltaColor.b=0,C$Tzt.deltaColor.a=255,C$Tzt.size=0,C$Tzt.deltaSize=0,C$Tzt.rotation=0,C$Tzt.deltaRotation=0,C$Tzt.timeToLive=0,C$Tzt.drawPos.set(C$Tzg),C$Tzt.aspectRatio=1,C$Tzt.dir.set(C$Tzg),C$Tzt.radialAccel=0,C$Tzt.tangentialAccel=0,C$Tzt.angle=0,C$Tzt.degreesPerSecond=0,C$Tzt.radius=0,C$Tzt.deltaRadius=0;},1024);C$TzS.get=function(){return this._get()||new C$Tzr();};C$Tzt.prototype.stop=function(){this.active=!1,this.readyToPlay=!1,this.elapsed=this.sys.duration,this.emitCounter=0;},C$Tzt.prototype.reset=function(){this.active=!0,this.readyToPlay=!0,this.elapsed=0,this.emitCounter=0,this.finished=!1;for(var C$Tzt=this.particles,C$Tze=0;C$Tze<C$Tzt.length;++C$Tze)C$TzS.put(C$Tzt[C$Tze]);C$Tzt.length=0;},C$Tzt.prototype.emitParticle=function(C$Tzh){var C$Tzt,C$Tze=this.sys,C$Tzi=C$Tzy.clampf,C$Tzn=C$TzS.get(),C$Tzr=(this.particles.push(C$Tzn),C$Tzn.timeToLive=C$Tze.life+C$Tze.lifeVar*(Math.random()-.5)*2,C$Tzn.timeToLive=Math.max(0,C$Tzn.timeToLive)),C$Tzs=(C$Tzn.pos.x=C$Tze.sourcePos.x+C$Tze.posVar.x*(Math.random()-.5)*2,C$Tzn.pos.y=C$Tze.sourcePos.y+C$Tze.posVar.y*(Math.random()-.5)*2,C$Tze._startColor),C$Tzo=C$Tze._startColorVar,C$Tza=C$Tze._endColor,C$Tzc=C$Tze._endColorVar,C$Tzo=(C$Tzn.color.r=C$Tzt=C$Tzi(C$Tzs.r+C$Tzo.r*(Math.random()-.5)*2,0,255),C$Tzn.color.g=C$Tzl=C$Tzi(C$Tzs.g+C$Tzo.g*(Math.random()-.5)*2,0,255),C$Tzn.color.b=C$Tzu=C$Tzi(C$Tzs.b+C$Tzo.b*(Math.random()-.5)*2,0,255),C$Tzn.color.a=C$Tzs=C$Tzi(C$Tzs.a+C$Tzo.a*(Math.random()-.5)*2,0,255),C$Tzn.deltaColor.r=(C$Tzi(C$Tza.r+C$Tzc.r*(Math.random()-.5)*2,0,255)-C$Tzt)/C$Tzr,C$Tzn.deltaColor.g=(C$Tzi(C$Tza.g+C$Tzc.g*(Math.random()-.5)*2,0,255)-C$Tzl)/C$Tzr,C$Tzn.deltaColor.b=(C$Tzi(C$Tza.b+C$Tzc.b*(Math.random()-.5)*2,0,255)-C$Tzu)/C$Tzr,C$Tzn.deltaColor.a=(C$Tzi(C$Tza.a+C$Tzc.a*(Math.random()-.5)*2,0,255)-C$Tzs)/C$Tzr,C$Tze.startSize+C$Tze.startSizeVar*(Math.random()-.5)*2),C$Tzo=Math.max(0,C$Tzo),C$Tzl=(C$Tzn.size=C$Tzo,C$Tze.endSize===cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE?C$Tzn.deltaSize=0:(C$Tzt=C$Tze.endSize+C$Tze.endSizeVar*(Math.random()-.5)*2,C$Tzt=Math.max(0,C$Tzt),C$Tzn.deltaSize=(C$Tzt-C$Tzo)/C$Tzr),C$Tze.startSpin+C$Tze.startSpinVar*(Math.random()-.5)*2),C$Tzu=C$Tze.endSpin+C$Tze.endSpinVar*(Math.random()-.5)*2,C$Tzi=(C$Tzn.rotation=C$Tzl,C$Tzn.deltaRotation=(C$Tzu-C$Tzl)/C$Tzr,C$Tzn.startPos.x=C$Tzh.x,C$Tzn.startPos.y=C$Tzh.y,C$Tzn.aspectRatio=C$Tze._aspectRatio||1,function(C$Tzt){var C$Tze=0,C$Tzi=C$Tzt;for(;C$Tzi;)C$Tze+=C$Tzi.angle,C$Tzi=C$Tzi.parent;return C$Tze;}(C$Tze.node)),C$Tza=C$Tze.positionType===cc.ParticleSystem.PositionType.FREE?C$Tze.angle+C$Tzi:C$Tze.angle,C$Tzc=C$Tzy.degreesToRadians(C$Tza+C$Tze.angleVar*(Math.random()-.5)*2);C$Tze.emitterMode===cc.ParticleSystem.EmitterMode.GRAVITY?(C$Tzs=C$Tze.speed+C$Tze.speedVar*(Math.random()-.5)*2,C$Tzn.dir.x=Math.cos(C$Tzc),C$Tzn.dir.y=Math.sin(C$Tzc),C$Tzn.dir.mulSelf(C$Tzs),C$Tzn.radialAccel=C$Tze.radialAccel+C$Tze.radialAccelVar*(Math.random()-.5)*2,C$Tzn.tangentialAccel=C$Tze.tangentialAccel+C$Tze.tangentialAccelVar*(Math.random()-.5)*2,C$Tze.rotationIsDir&&(C$Tzn.rotation=-C$Tzy.radiansToDegrees(Math.atan2(C$Tzn.dir.y,C$Tzn.dir.x)))):(C$Tzt=C$Tze.startRadius+C$Tze.startRadiusVar*(Math.random()-.5)*2,C$Tzo=C$Tze.endRadius+C$Tze.endRadiusVar*(Math.random()-.5)*2,C$Tzn.radius=C$Tzt,C$Tzn.deltaRadius=C$Tze.endRadius===cc.ParticleSystem.START_RADIUS_EQUAL_TO_END_RADIUS?0:(C$Tzo-C$Tzt)/C$Tzr,C$Tzn.angle=C$Tzc,C$Tzn.degreesPerSecond=C$Tzy.degreesToRadians(C$Tze.rotatePerS+C$Tze.rotatePerSVar*(Math.random()-.5)*2));},C$Tzt.prototype.updateUVs=function(C$Tzt){var C$Tze=this.sys._assembler;if(C$Tze){var C$Tzi=C$Tze.getBuffer();if(C$Tzi&&this.sys._renderSpriteFrame){for(var C$Tzn=4*C$Tze._vfmt._bytes/4,C$Tzr=C$Tzi._vData,C$Tzs=this.sys._renderSpriteFrame.uv,C$Tze=C$Tzt?0:this._uvFilled,C$Tzo=this.particles.length,C$Tza=C$Tze;C$Tza<C$Tzo;C$Tza++){var C$Tzc=C$Tza*C$Tzn;C$Tzr[2+C$Tzc]=C$Tzs[0],C$Tzr[3+C$Tzc]=C$Tzs[1],C$Tzr[7+C$Tzc]=C$Tzs[2],C$Tzr[8+C$Tzc]=C$Tzs[3],C$Tzr[12+C$Tzc]=C$Tzs[4],C$Tzr[13+C$Tzc]=C$Tzs[5],C$Tzr[17+C$Tzc]=C$Tzs[6],C$Tzr[18+C$Tzc]=C$Tzs[7];}this._uvFilled=C$Tzo;}}},C$Tzt.prototype.updateParticleBuffer=function(C$Tzt,C$Tze,C$Tzh,C$Tzi){var C$Tzu,C$Tz_,C$Tzd,C$Tzn,C$Tzr,C$Tzs=C$Tzh._vData,C$Tzh=C$Tzh._uintVData,C$Tzo=C$Tze.x,C$Tze=C$Tze.y,C$Tza=C$Tzt.size,C$Tzc=C$Tza,C$Tzl=C$Tzt.aspectRatio,C$Tzl=(1<C$Tzl?C$Tzc=C$Tza/C$Tzl:C$Tza=C$Tzc*C$Tzl,C$Tza/2),C$Tza=C$Tzc/2;C$Tzt.rotation?(C$Tzc=-C$Tzl,C$Tzu=-C$Tza,C$Tz_=C$Tzl,C$Tzd=C$Tza,C$Tzr=-C$Tzy.degreesToRadians(C$Tzt.rotation),C$Tzn=Math.cos(C$Tzr),C$Tzr=Math.sin(C$Tzr),C$Tzs[C$Tzi]=C$Tzc*C$Tzn-C$Tzu*C$Tzr+C$Tzo,C$Tzs[C$Tzi+1]=C$Tzc*C$Tzr+C$Tzu*C$Tzn+C$Tze,C$Tzs[C$Tzi+5]=C$Tz_*C$Tzn-C$Tzu*C$Tzr+C$Tzo,C$Tzs[C$Tzi+6]=C$Tz_*C$Tzr+C$Tzu*C$Tzn+C$Tze,C$Tzs[C$Tzi+10]=C$Tzc*C$Tzn-C$Tzd*C$Tzr+C$Tzo,C$Tzs[C$Tzi+11]=C$Tzc*C$Tzr+C$Tzd*C$Tzn+C$Tze,C$Tzs[C$Tzi+15]=C$Tz_*C$Tzn-C$Tzd*C$Tzr+C$Tzo,C$Tzs[C$Tzi+16]=C$Tz_*C$Tzr+C$Tzd*C$Tzn+C$Tze):(C$Tzs[C$Tzi]=C$Tzo-C$Tzl,C$Tzs[C$Tzi+1]=C$Tze-C$Tza,C$Tzs[C$Tzi+5]=C$Tzo+C$Tzl,C$Tzs[C$Tzi+6]=C$Tze-C$Tza,C$Tzs[C$Tzi+10]=C$Tzo-C$Tzl,C$Tzs[C$Tzi+11]=C$Tze+C$Tza,C$Tzs[C$Tzi+15]=C$Tzo+C$Tzl,C$Tzs[C$Tzi+16]=C$Tze+C$Tza),C$Tzh[C$Tzi+4]=C$Tzt.color._val,C$Tzh[C$Tzi+9]=C$Tzt.color._val,C$Tzh[C$Tzi+14]=C$Tzt.color._val,C$Tzh[C$Tzi+19]=C$Tzt.color._val;},C$Tzt.prototype.step=function(C$Tzt){C$Tzt=C$Tzt>cc.director._maxParticleDeltaTime?cc.director._maxParticleDeltaTime:C$Tzt;var C$Tzh,C$Tze=this.sys,C$Tzu=C$Tze.node,C$Tzi=this.particles,C$Tz_=4*this.sys._assembler._vfmt._bytes/4,C$Tzd=(C$Tzu._updateWorldMatrix(),C$Tzv=C$Tzm.identity(),C$Tze.positionType===cc.ParticleSystem.PositionType.FREE?(C$Tzn=C$Tzu._worldMatrix.m,C$Tzv.tx=C$Tzn[12],C$Tzv.ty=C$Tzn[13],C$Tzm.transformVec2(C$Tzx,C$Tzg,C$Tzv)):C$Tze.positionType===cc.ParticleSystem.PositionType.RELATIVE&&(C$Tzn=C$Tzy.degreesToRadians(-C$Tzu.angle),C$Tzh=Math.cos(C$Tzn),C$Tzn=Math.sin(C$Tzn),C$Tzv=C$Tzm.create(C$Tzh,-C$Tzn,C$Tzn,C$Tzh,0,0),C$Tzx.x=C$Tzu.x,C$Tzx.y=C$Tzu.y),C$Tzm.invert(C$Tzv,C$Tzv),C$Tzv);if(this.active&&C$Tze.emissionRate){var C$Tzf=1/C$Tze.emissionRate;for(C$Tzi.length<C$Tze.totalParticles&&(this.emitCounter+=C$Tzt);C$Tzi.length<C$Tze.totalParticles&&this.emitCounter>C$Tzf;)this.emitParticle(C$Tzx),this.emitCounter-=C$Tzf;this.elapsed+=C$Tzt,-1!==C$Tze.duration&&C$Tze.duration<this.elapsed&&C$Tze.stopSystem();}for(var C$Tzp=C$Tze._assembler.getBuffer(),C$Tzn=C$Tzi.length,C$Tzr=(C$Tzp.reset(),C$Tzp.request(4*C$Tzn,6*C$Tzn),C$Tzn>this._uvFilled&&this.updateUVs(),0);C$Tzr<C$Tzi.length;){C$Tzb.x=C$Tzb.y=C$TzA.x=C$TzA.y=C$TzC.x=C$TzC.y=0;var C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl=C$Tzi[C$Tzr];C$Tzl.timeToLive-=C$Tzt,0<C$Tzl.timeToLive?(C$Tze.emitterMode===cc.ParticleSystem.EmitterMode.GRAVITY?(C$Tzc=C$TzC,C$Tzo=C$Tzb,C$Tza=C$TzA,(C$Tzl.pos.x||C$Tzl.pos.y)&&(C$Tzo.set(C$Tzl.pos),C$Tzo.normalizeSelf()),C$Tza.set(C$Tzo),C$Tzo.mulSelf(C$Tzl.radialAccel),C$Tzs=C$Tza.x,C$Tza.x=-C$Tza.y,C$Tza.y=C$Tzs,C$Tza.mulSelf(C$Tzl.tangentialAccel),C$Tzc.set(C$Tzo),C$Tzc.addSelf(C$Tza),C$Tzc.addSelf(C$Tze.gravity),C$Tzc.mulSelf(C$Tzt),C$Tzl.dir.addSelf(C$Tzc),C$Tzc.set(C$Tzl.dir),C$Tzc.mulSelf(C$Tzt),C$Tzl.pos.addSelf(C$Tzc)):(C$Tzl.angle+=C$Tzl.degreesPerSecond*C$Tzt,C$Tzl.radius+=C$Tzl.deltaRadius*C$Tzt,C$Tzl.pos.x=-Math.cos(C$Tzl.angle)*C$Tzl.radius,C$Tzl.pos.y=-Math.sin(C$Tzl.angle)*C$Tzl.radius),C$Tzl.color.r+=C$Tzl.deltaColor.r*C$Tzt,C$Tzl.color.g+=C$Tzl.deltaColor.g*C$Tzt,C$Tzl.color.b+=C$Tzl.deltaColor.b*C$Tzt,C$Tzl.color.a+=C$Tzl.deltaColor.a*C$Tzt,C$Tzl.size+=C$Tzl.deltaSize*C$Tzt,C$Tzl.size<0&&(C$Tzl.size=0),C$Tzl.rotation+=C$Tzl.deltaRotation*C$Tzt,C$Tzs=C$Tzb,C$Tzo=C$TzA,C$Tze.positionType===cc.ParticleSystem.PositionType.FREE?(C$Tzo.set(C$Tzl.startPos),C$Tzo.negSelf(),C$Tzs.set(C$Tzl.pos),C$Tzs.subSelf(C$Tzo)):C$Tze.positionType===cc.ParticleSystem.PositionType.RELATIVE?(C$Tza=C$TzC,C$Tzm.transformVec2(C$Tzo,C$Tzx,C$Tzd),C$Tzm.transformVec2(C$Tza,C$Tzl.startPos,C$Tzd),C$Tzo.subSelf(C$Tza),C$Tzs.set(C$Tzl.pos),C$Tzs.subSelf(C$Tzo)):C$Tzs.set(C$Tzl.pos),this.updateParticleBuffer(C$Tzl,C$Tzs,C$Tzp,C$Tz_*C$Tzr),++C$Tzr):(C$Tzc=C$Tzi[C$Tzr],C$Tzr!==C$Tzi.length-1&&(C$Tzi[C$Tzr]=C$Tzi[C$Tzi.length-1]),C$TzS.put(C$Tzc),C$Tzi.length--);}0<C$Tzi.length?(C$Tzp.uploadData(),C$Tze._assembler._ia._count=6*C$Tzi.length):this.active||this.readyToPlay||(this.finished=!0,C$Tze._finishedSimulation());},C$Tzi.exports=C$Tzt;},{"../core/platform/js":209,"../core/utils/affine-transform":254,"../core/utils/misc":264}],299:[function(C$Tzt,C$Tze,C$Tzh){"use strict";var C$Tzi=C$Tzr(C$Tzt(H[2264])),C$Tzn=C$Tzr(C$Tzt(H[2265]));function C$Tzr(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzu(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzs(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzs(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzs(C$Tzt){return(C$Tzs=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzo,C$Tza,C$Tz_=C$Tzt(H[2261]),C$Tzd=C$Tzt(H[2266]),C$Tzf=C$Tzt(H[2267]),C$Tzc=C$Tzt(H[2268]).vfmtPosUvColor,C$Tzt=(C$Tzo=C$Tzi.default,C$Tzt=C$Tzo,(C$Tza=C$Tzl).prototype=Object.create(C$Tzt.prototype),(C$Tza.prototype.constructor=C$Tza).__proto__=C$Tzt,C$Tzu(C$Tzl),(C$Tza=C$Tzl.prototype).getBuffer=function(){return this._buffer||(this._buffer=new C$Tzf(C$Tzd._handle,C$Tzc),this._ia=new C$Tzn.default(),this._ia._vertexBuffer=this._buffer._vb,this._ia._indexBuffer=this._buffer._ib,this._ia._start=0,this._ia._count=0),this._buffer;},C$Tza.fillBuffers=function(C$Tzt,C$Tze){this._ia&&(C$Tze.node=C$Tzt.node,C$Tze.material=C$Tzt._materials[0],C$Tze._flushIA(this._ia));},C$Tzl);function C$Tzl(C$Tzt){C$Tzt=C$Tzo.call(this,C$Tzt)||this;return C$Tzt._buffer=null,C$Tzt._ia=null,C$Tzt._vfmt=C$Tzc,C$Tzt;}C$Tzi.default.register(C$Tz_,C$Tzt),C$Tze.exports=C$Tzt;},{"../core/renderer/":220,"../core/renderer/assembler":217,"../core/renderer/webgl/quad-buffer":249,"../core/renderer/webgl/vertex-format":252,"../renderer/core/input-assembler":302,"./CCParticleSystem":295}],300:[function(C$Tzh,C$Tzu,C$Tz_){"use strict";var C$Tze,C$Tzi,C$Tzd=512,C$Tzf=513,C$Tzp=514,C$Tzm=515,C$Tzy=516,C$Tzg=517,C$Tzv=518,C$Tzx=519,C$Tzb=32774,C$TzA=32778,C$TzC=32779,C$TzS=0,C$TzT=1,C$Tzw=768,C$TzE=769,C$TzM=774,C$TzI=775,C$TzB=770,C$TzR=771,C$TzP=772,C$TzD=773,C$TzL=32769,C$TzV=32770,C$TzO=32771,C$TzF=32772,C$TzN=776,C$Tzk=7680,C$TzG=7681,C$Tzz=7682,C$TzU=34055,C$TzW=7683,C$TzH=34056,C$Tzj=5386,C$TzX=0,C$TzY=1028,C$Tzq=1029;(C$Tza=C$Tze=C$Tze||{})[C$Tza.UNKNOWN=0]=H[2269],C$Tza[C$Tza.BUFFER=1]=H[2270],C$Tza[C$Tza.TEXTURE=2]=H[2271],C$Tza[C$Tza.TEXTURE_VIEW=3]=H[2272],C$Tza[C$Tza.RENDER_PASS=4]=H[2273],C$Tza[C$Tza.FRAMEBUFFER=5]=H[2274],C$Tza[C$Tza.SAMPLER=6]=H[2275],C$Tza[C$Tza.SHADER=7]=H[2276],C$Tza[C$Tza.PIPELINE_LAYOUT=8]=H[2277],C$Tza[C$Tza.PIPELINE_STATE=9]=H[2278],C$Tza[C$Tza.BINDING_LAYOUT=10]=H[2279],C$Tza[C$Tza.INPUT_ASSEMBLER=11]=H[2280],C$Tza[C$Tza.COMMAND_ALLOCATOR=12]=H[2281],C$Tza[C$Tza.COMMAND_BUFFER=13]=H[2282],C$Tza[C$Tza.QUEUE=14]=H[2283],C$Tza[C$Tza.WINDOW=15]=H[2284],(C$Tza=C$Tzi=C$Tzi||{})[C$Tza.UNREADY=0]=H[2285],C$Tza[C$Tza.FAILED=1]=H[2286],C$Tza[C$Tza.SUCCESS=2]=H[2287];var C$Tzn,C$Tzt,C$Tzr;Object.defineProperty(C$TzJ.prototype,H[2288],{get:function(){return this._gfxType;},enumerable:!0,configurable:!0}),Object.defineProperty(C$TzJ.prototype,H[2289],{get:function(){return this._status;},enumerable:!0,configurable:!0});function C$TzJ(C$Tzt){this._gfxType=C$Tze.UNKNOWN,this._status=C$Tzi.UNREADY,this._gfxType=C$Tzt;}(C$Tza=C$Tzn=C$Tzn||{})[C$Tza.UNKNOWN=0]=H[2269],C$Tza[C$Tza.BOOL=1]=H[2290],C$Tza[C$Tza.BOOL2=2]=H[2291],C$Tza[C$Tza.BOOL3=3]=H[2292],C$Tza[C$Tza.BOOL4=4]=H[2293],C$Tza[C$Tza.INT=5]=H[2294],C$Tza[C$Tza.INT2=6]=H[2295],C$Tza[C$Tza.INT3=7]=H[2296],C$Tza[C$Tza.INT4=8]=H[2297],C$Tza[C$Tza.UINT=9]=H[2298],C$Tza[C$Tza.UINT2=10]=H[2299],C$Tza[C$Tza.UINT3=11]=H[2300],C$Tza[C$Tza.UINT4=12]=H[2301],C$Tza[C$Tza.FLOAT=13]=H[2164],C$Tza[C$Tza.FLOAT2=14]=H[2302],C$Tza[C$Tza.FLOAT3=15]=H[2303],C$Tza[C$Tza.FLOAT4=16]=H[2304],C$Tza[C$Tza.COLOR4=17]=H[2305],C$Tza[C$Tza.MAT2=18]=H[2306],C$Tza[C$Tza.MAT2X3=19]=H[2307],C$Tza[C$Tza.MAT2X4=20]=H[2308],C$Tza[C$Tza.MAT3X2=21]=H[2309],C$Tza[C$Tza.MAT3=22]=H[2310],C$Tza[C$Tza.MAT3X4=23]=H[2311],C$Tza[C$Tza.MAT4X2=24]=H[2312],C$Tza[C$Tza.MAT4X3=25]=H[2313],C$Tza[C$Tza.MAT4=26]=H[2314],C$Tza[C$Tza.SAMPLER1D=27]=H[2315],C$Tza[C$Tza.SAMPLER1D_ARRAY=28]=H[2316],C$Tza[C$Tza.SAMPLER2D=29]=H[2317],C$Tza[C$Tza.SAMPLER2D_ARRAY=30]=H[2318],C$Tza[C$Tza.SAMPLER3D=31]=H[2319],C$Tza[C$Tza.SAMPLER_CUBE=32]=H[2320],C$Tza[C$Tza.COUNT=33]=H[2321],(C$Tza=C$Tzc=C$Tzc||{})[C$Tza.UNKNOWN=0]=H[2269],C$Tza[C$Tza.A8=1]=H[2322],C$Tza[C$Tza.L8=2]=H[2323],C$Tza[C$Tza.LA8=3]=H[2324],C$Tza[C$Tza.R8=4]=H[2325],C$Tza[C$Tza.R8SN=5]=H[2326],C$Tza[C$Tza.R8UI=6]=H[2327],C$Tza[C$Tza.R8I=7]=H[2328],C$Tza[C$Tza.R16F=8]=H[2329],C$Tza[C$Tza.R16UI=9]=H[2330],C$Tza[C$Tza.R16I=10]=H[2331],C$Tza[C$Tza.R32F=11]=H[2332],C$Tza[C$Tza.R32UI=12]=H[2333],C$Tza[C$Tza.R32I=13]=H[2334],C$Tza[C$Tza.RG8=14]=H[2335],C$Tza[C$Tza.RG8SN=15]=H[2336],C$Tza[C$Tza.RG8UI=16]=H[2337],C$Tza[C$Tza.RG8I=17]=H[2338],C$Tza[C$Tza.RG16F=18]=H[2339],C$Tza[C$Tza.RG16UI=19]=H[2340],C$Tza[C$Tza.RG16I=20]=H[2341],C$Tza[C$Tza.RG32F=21]=H[2342],C$Tza[C$Tza.RG32UI=22]=H[2343],C$Tza[C$Tza.RG32I=23]=H[2344],C$Tza[C$Tza.RGB8=24]=H[2345],C$Tza[C$Tza.SRGB8=25]=H[2346],C$Tza[C$Tza.RGB8SN=26]=H[2347],C$Tza[C$Tza.RGB8UI=27]=H[2348],C$Tza[C$Tza.RGB8I=28]=H[2349],C$Tza[C$Tza.RGB16F=29]=H[2350],C$Tza[C$Tza.RGB16UI=30]=H[2351],C$Tza[C$Tza.RGB16I=31]=H[2352],C$Tza[C$Tza.RGB32F=32]=H[2353],C$Tza[C$Tza.RGB32UI=33]=H[2354],C$Tza[C$Tza.RGB32I=34]=H[2355],C$Tza[C$Tza.RGBA8=35]=H[2356],C$Tza[C$Tza.SRGB8_A8=36]=H[2357],C$Tza[C$Tza.RGBA8SN=37]=H[2358],C$Tza[C$Tza.RGBA8UI=38]=H[2359],C$Tza[C$Tza.RGBA8I=39]=H[2360],C$Tza[C$Tza.RGBA16F=40]=H[2361],C$Tza[C$Tza.RGBA16UI=41]=H[2362],C$Tza[C$Tza.RGBA16I=42]=H[2363],C$Tza[C$Tza.RGBA32F=43]=H[2364],C$Tza[C$Tza.RGBA32UI=44]=H[2365],C$Tza[C$Tza.RGBA32I=45]=H[2366],C$Tza[C$Tza.R5G6B5=46]=H[2367],C$Tza[C$Tza.R11G11B10F=47]=H[2368],C$Tza[C$Tza.RGB5A1=48]=H[2369],C$Tza[C$Tza.RGBA4=49]=H[2370],C$Tza[C$Tza.RGB10A2=50]=H[2371],C$Tza[C$Tza.RGB10A2UI=51]=H[2372],C$Tza[C$Tza.RGB9E5=52]=H[2373],C$Tza[C$Tza.D16=53]=H[2374],C$Tza[C$Tza.D16S8=54]=H[2375],C$Tza[C$Tza.D24=55]=H[2376],C$Tza[C$Tza.D24S8=56]=H[2377],C$Tza[C$Tza.D32F=57]=H[2378],C$Tza[C$Tza.D32F_S8=58]=H[2379],C$Tza[C$Tza.BC1=59]=H[2380],C$Tza[C$Tza.BC1_ALPHA=60]=H[2381],C$Tza[C$Tza.BC1_SRGB=61]=H[2382],C$Tza[C$Tza.BC1_SRGB_ALPHA=62]=H[2383],C$Tza[C$Tza.BC2=63]=H[2384],C$Tza[C$Tza.BC2_SRGB=64]=H[2385],C$Tza[C$Tza.BC3=65]=H[2386],C$Tza[C$Tza.BC3_SRGB=66]=H[2387],C$Tza[C$Tza.BC4=67]=H[2388],C$Tza[C$Tza.BC4_SNORM=68]=H[2389],C$Tza[C$Tza.BC5=69]=H[2390],C$Tza[C$Tza.BC5_SNORM=70]=H[2391],C$Tza[C$Tza.BC6H_UF16=71]=H[2392],C$Tza[C$Tza.BC6H_SF16=72]=H[2393],C$Tza[C$Tza.BC7=73]=H[2394],C$Tza[C$Tza.BC7_SRGB=74]=H[2395],C$Tza[C$Tza.ETC_RGB8=75]=H[2396],C$Tza[C$Tza.ETC2_RGB8=76]=H[2397],C$Tza[C$Tza.ETC2_SRGB8=77]=H[2398],C$Tza[C$Tza.ETC2_RGB8_A1=78]=H[2399],C$Tza[C$Tza.ETC2_SRGB8_A1=79]=H[2400],C$Tza[C$Tza.ETC2_RGBA8=80]=H[2401],C$Tza[C$Tza.ETC2_SRGB8_A8=81]=H[2402],C$Tza[C$Tza.EAC_R11=82]=H[2403],C$Tza[C$Tza.EAC_R11SN=83]=H[2404],C$Tza[C$Tza.EAC_RG11=84]=H[2405],C$Tza[C$Tza.EAC_RG11SN=85]=H[2406],C$Tza[C$Tza.PVRTC_RGB2=86]=H[2407],C$Tza[C$Tza.PVRTC_RGBA2=87]=H[2408],C$Tza[C$Tza.PVRTC_RGB4=88]=H[2409],C$Tza[C$Tza.PVRTC_RGBA4=89]=H[2410],C$Tza[C$Tza.PVRTC2_2BPP=90]=H[2411],C$Tza[C$Tza.PVRTC2_4BPP=91]=H[2412],C$Tzt=C$Tzt||{},C$Tzt[C$Tzt.DEFAULT=100]=H[2413],(C$Tza=C$Tzr=C$Tzr||{})[C$Tza.MIN=0]=H[2414],C$Tza[C$Tza.MAX=255]=H[2415],C$Tza[C$Tza.DEFAULT=128]=H[2413];(C$Tza=C$Tzs=C$Tzs||{})[C$Tza.UBO_GLOBAL=23]=H[2416],C$Tza[C$Tza.UBO_SHADOW=22]=H[2417],C$Tza[C$Tza.UBO_LOCAL=21]=H[2418],C$Tza[C$Tza.UBO_FORWARD_LIGHTS=20]=H[2419],C$Tza[C$Tza.UBO_SKINNING=19]=H[2420],C$Tza[C$Tza.UBO_SKINNING_TEXTURE=18]=H[2421],C$Tza[C$Tza.UBO_UI=17]=H[2422],C$Tza[C$Tza.SAMPLER_JOINTS=25]=H[2423],C$Tza[C$Tza.SAMPLER_ENVIRONMENT=26]=H[2424],C$Tza[C$Tza.CUSTUM_UBO_BINDING_END_POINT=17]=H[2425],C$Tza[C$Tza.CUSTOM_SAMPLER_BINDING_START_POINT=30]=H[2426],(C$Tza=C$TzZ=C$TzZ||{})[C$Tza.minFilter=0]=H[2427],C$Tza[C$Tza.magFilter=1]=H[2428],C$Tza[C$Tza.mipFilter=2]=H[2429],C$Tza[C$Tza.addressU=3]=H[2430],C$Tza[C$Tza.addressV=4]=H[2431],C$Tza[C$Tza.addressW=5]=H[2432],C$Tza[C$Tza.maxAnisotropy=6]=H[2433],C$Tza[C$Tza.cmpFunc=7]=H[2434],C$Tza[C$Tza.minLOD=8]=H[2435],C$Tza[C$Tza.maxLOD=9]=H[2436],C$Tza[C$Tza.mipLODBias=10]=H[2437],C$Tza[C$Tza.borderColor=11]=H[2438],C$Tza[C$Tza.total=15]=H[2439];var C$Tzs,C$TzZ,C$Tzo,C$Tza={},C$Tzc=(C$Tza[C$Tza.bool=C$Tzn.BOOL]=H[2440],C$Tza[C$Tza.int=C$Tzn.INT]=H[2441],C$Tza[C$Tza.ivec2=C$Tzn.INT2]=H[2442],C$Tza[C$Tza.ivec3=C$Tzn.INT3]=H[2443],C$Tza[C$Tza.ivec4=C$Tzn.INT4]=H[2444],C$Tza[C$Tza.float=C$Tzn.FLOAT]=H[2445],C$Tza[C$Tza.vec2=C$Tzn.FLOAT2]=H[1852],C$Tza[C$Tza.vec3=C$Tzn.FLOAT3]=H[1854],C$Tza[C$Tza.vec4=C$Tzn.FLOAT4]=H[1856],C$Tza[C$Tza.mat2=C$Tzn.MAT2]=H[2446],C$Tza[C$Tza.mat3=C$Tzn.MAT3]=H[1860],C$Tza[C$Tza.mat4=C$Tzn.MAT4]=H[1858],C$Tza[C$Tza.sampler2D=C$Tzn.SAMPLER2D]=H[2447],C$Tza[C$Tza.samplerCube=C$Tzn.SAMPLER_CUBE]=H[2448],(C$Tzo={})[C$Tzn.BOOL]=4,C$Tzo[C$Tzn.INT]=4,C$Tzo[C$Tzn.INT2]=8,C$Tzo[C$Tzn.INT3]=12,C$Tzo[C$Tzn.INT4]=16,C$Tzo[C$Tzn.FLOAT]=4,C$Tzo[C$Tzn.FLOAT2]=8,C$Tzo[C$Tzn.FLOAT3]=12,C$Tzo[C$Tzn.FLOAT4]=16,C$Tzo[C$Tzn.MAT2]=16,C$Tzo[C$Tzn.MAT3]=36,C$Tzo[C$Tzn.MAT4]=64,C$Tzo[C$Tzn.SAMPLER2D]=4,C$Tzo[C$Tzn.SAMPLER_CUBE]=4,(C$Tzl={})[C$Tzn.BOOL]=C$Tzc.R32I,C$Tzl[C$Tzn.INT]=C$Tzc.R32I,C$Tzl[C$Tzn.INT2]=C$Tzc.RG32I,C$Tzl[C$Tzn.INT3]=C$Tzc.RGB32I,C$Tzl[C$Tzn.INT4]=C$Tzc.RGBA32I,C$Tzl[C$Tzn.FLOAT]=C$Tzc.R32F,C$Tzl[C$Tzn.FLOAT2]=C$Tzc.RG32F,C$Tzl[C$Tzn.FLOAT3]=C$Tzc.RGB32F,C$Tzl[C$Tzn.FLOAT4]=C$Tzc.RGBA32F,C$Tzl),C$Tzl={BACK:C$Tzq,FRONT:C$TzY,NONE:C$TzX,ADD:C$Tzb,SUB:C$TzA,REV_SUB:C$TzC,ZERO:C$TzS,ONE:C$TzT,SRC_COLOR:C$Tzw,ONE_MINUS_SRC_COLOR:C$TzE,DST_COLOR:C$TzM,ONE_MINUS_DST_COLOR:C$TzI,SRC_ALPHA:C$TzB,ONE_MINUS_SRC_ALPHA:C$TzR,DST_ALPHA:C$TzP,ONE_MINUS_DST_ALPHA:C$TzD,CONSTANT_COLOR:C$TzL,ONE_MINUS_CONSTANT_COLOR:C$TzV,CONSTANT_ALPHA:C$TzO,ONE_MINUS_CONSTANT_ALPHA:C$TzF,SRC_ALPHA_SATURATE:C$TzN,NEVER:C$Tzd,LESS:C$Tzf,EQUAL:C$Tzp,LEQUAL:C$Tzm,GREATER:C$Tzy,NOTEQUAL:C$Tzg,GEQUAL:C$Tzv,ALWAYS:C$Tzx,KEEP:C$Tzk,REPLACE:C$TzG,INCR:C$Tzz,INCR_WRAP:C$TzU,DECR:C$TzW,DECR_WRAP:C$TzH,INVERT:C$Tzj};Object.assign(C$Tzl,C$Tzt);C$Tzu.exports={murmurhash2_32_gc:function(C$Tzt,C$Tze){for(var C$Tzi,C$Tzn=C$Tzt.length,C$Tzr=C$Tze^C$Tzn,C$Tzs=0;4<=C$Tzn;)C$Tzi=1540483477*(65535&(C$Tzi=255&C$Tzt.charCodeAt(C$Tzs)|(255&C$Tzt.charCodeAt(++C$Tzs))<<8|(255&C$Tzt.charCodeAt(++C$Tzs))<<16|(255&C$Tzt.charCodeAt(++C$Tzs))<<24))+((1540483477*(C$Tzi>>>16)&65535)<<16),C$Tzr=1540483477*(65535&C$Tzr)+((1540483477*(C$Tzr>>>16)&65535)<<16)^1540483477*(65535&(C$Tzi^=C$Tzi>>>24))+((1540483477*(C$Tzi>>>16)&65535)<<16),C$Tzn-=4,++C$Tzs;switch(C$Tzn){case 3:C$Tzr^=(255&C$Tzt.charCodeAt(C$Tzs+2))<<16;case 2:C$Tzr^=(255&C$Tzt.charCodeAt(C$Tzs+1))<<8;case 1:C$Tzr=1540483477*(65535&(C$Tzr^=255&C$Tzt.charCodeAt(C$Tzs)))+((1540483477*(C$Tzr>>>16)&65535)<<16);}return C$Tzr=1540483477*(65535&(C$Tzr^=C$Tzr>>>13))+((1540483477*(C$Tzr>>>16)&65535)<<16),(C$Tzr^=C$Tzr>>>15)>>>0;},SamplerInfoIndex:C$TzZ,effectStructure:{$techniques:[{$passes:[{depthStencilState:{},rasterizerState:{},blendState:{targets:[{}]},properties:{any:{sampler:{},inspector:{}}}}]}]},typeMap:C$Tza,sizeMap:C$Tzo,formatMap:C$Tzc,passParams:C$Tzl,RenderQueue:{OPAQUE:0,TRANSPARENT:1,OVERLAY:2},RenderPriority:C$Tzr,GFXGetTypeSize:function(C$Tzt){switch(C$Tzt){case C$Tzn.BOOL:case C$Tzn.INT:case C$Tzn.UINT:case C$Tzn.FLOAT:return 4;case C$Tzn.BOOL2:case C$Tzn.INT2:case C$Tzn.UINT2:case C$Tzn.FLOAT2:return 8;case C$Tzn.BOOL3:case C$Tzn.INT3:case C$Tzn.UINT3:case C$Tzn.FLOAT3:return 12;case C$Tzn.BOOL4:case C$Tzn.INT4:case C$Tzn.UINT4:case C$Tzn.FLOAT4:case C$Tzn.MAT2:return 16;case C$Tzn.MAT2X3:return 24;case C$Tzn.MAT2X4:return 32;case C$Tzn.MAT3X2:return 24;case C$Tzn.MAT3:return 36;case C$Tzn.MAT3X4:return 48;case C$Tzn.MAT4X2:case C$Tzn.MAT4X2:return 32;case C$Tzn.MAT4:return 64;case C$Tzn.SAMPLER1D:case C$Tzn.SAMPLER1D_ARRAY:case C$Tzn.SAMPLER2D:case C$Tzn.SAMPLER2D_ARRAY:case C$Tzn.SAMPLER3D:case C$Tzn.SAMPLER_CUBE:return 4;default:return 0;}},UniformBinding:C$Tzs};},{}],301:[function(C$Tzt,C$Tzr,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.default=void 0;var C$Tzi=C$Tzt(H[2449]),C$Tzy=C$Tzn(C$Tzt(H[2450])),C$Tzg=C$Tzt(H[2451]),C$Tzs=C$Tzn(C$Tzt(H[2452])),C$Tzo=C$Tzn(C$Tzt(H[2453])),C$TzA=C$Tzn(C$Tzt(H[2454]));function C$Tzn(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}var C$Tzm=new C$Tzg.Mat4(),C$Tzv=new C$Tzi.RecyclePool(function(){return{stage:null,items:null};},8),C$TzC=new C$Tzi.RecyclePool(function(){return new Float32Array(2);},8),C$TzS=new C$Tzi.RecyclePool(function(){return new Float32Array(3);},8),C$TzT=new C$Tzi.RecyclePool(function(){return new Float32Array(4);},8),C$Tzw=new C$Tzi.RecyclePool(function(){return new Float32Array(9);},8),C$Tzx=new C$Tzi.RecyclePool(function(){return new Float32Array(16);},8),C$TzE=new C$Tzi.RecyclePool(function(){return new Float32Array(64);},8),C$TzM=new C$Tzi.RecyclePool(function(){return new Int32Array(2);},8),C$TzI=new C$Tzi.RecyclePool(function(){return new Int32Array(3);},8),C$TzB=new C$Tzi.RecyclePool(function(){return new Int32Array(4);},8),C$Tzb=new C$Tzi.RecyclePool(function(){return new Int32Array(64);},8);function C$Tza(C$Tzt,C$Tze){this._device=C$Tzt,this._programLib=new C$Tzs.default(C$Tzt),this._opts=C$Tze,this._type2defaultValue=((C$Tzt={})[C$Tzy.default.PARAM_INT]=0,C$Tzt[C$Tzy.default.PARAM_INT2]=new C$Tzg.Vec2(0,0),C$Tzt[C$Tzy.default.PARAM_INT3]=new C$Tzg.Vec3(0,0,0),C$Tzt[C$Tzy.default.PARAM_INT4]=new C$Tzg.Vec4(0,0,0,0),C$Tzt[C$Tzy.default.PARAM_FLOAT]=0,C$Tzt[C$Tzy.default.PARAM_FLOAT2]=new C$Tzg.Vec2(0,0),C$Tzt[C$Tzy.default.PARAM_FLOAT3]=new C$Tzg.Vec3(0,0,0),C$Tzt[C$Tzy.default.PARAM_FLOAT4]=new C$Tzg.Vec4(0,0,0,0),C$Tzt[C$Tzy.default.PARAM_COLOR4]=new C$Tzg.Color(0,0,0,1),C$Tzt[C$Tzy.default.PARAM_MAT3]=new C$Tzg.Mat3(),C$Tzt[C$Tzy.default.PARAM_MAT4]=new C$Tzg.Mat4(),C$Tzt[C$Tzy.default.PARAM_TEXTURE_2D]=C$Tze.defaultTexture,C$Tzt[C$Tzy.default.PARAM_TEXTURE_CUBE]=C$Tze.defaultTextureCube,C$Tzt),this._stage2fn={},this._usedTextureUnits=0,this._viewPools=new C$Tzi.RecyclePool(function(){return new C$Tzo.default();},8),this._drawItemsPools=new C$Tzi.RecyclePool(function(){return{model:null,node:null,ia:null,effect:null,defines:null,uniforms:null};},100),this._stageItemsPools=new C$Tzi.RecyclePool(function(){return new C$Tzi.RecyclePool(function(){return{model:null,node:null,ia:null,effect:null,defines:null,passes:[],sortKey:-1,uniforms:null};},100);},16);}(C$Tzt=C$Tza.prototype)._resetTextuerUnit=function(){this._usedTextureUnits=0;},C$Tzt._allocTextureUnit=function(){var C$Tzt=this._device,C$Tze=this._usedTextureUnits;return C$Tze>=C$Tzt._caps.maxTextureUnits&&console.warn(H[2455]+C$Tze+H[2456]+C$Tzt._caps.maxTextureUnits),this._usedTextureUnits+=1,C$Tze;},C$Tzt._registerStage=function(C$Tzt,C$Tze){this._stage2fn[C$Tzt]=C$Tze;},C$Tzt.clear=function(){this._programLib.clear(),this.reset();},C$Tzt.reset=function(){this._viewPools.reset(),this._stageItemsPools.reset();},C$Tzt._requestView=function(){return this._viewPools.add();},C$Tzt._render=function(C$Tzt,C$Tzh){var C$Tze=this._device,C$Tzi=(C$Tze.setFrameBuffer(C$Tzt._framebuffer),C$Tze.setViewport(C$Tzt._rect.x,C$Tzt._rect.y,C$Tzt._rect.w,C$Tzt._rect.h),{});C$Tzt._clearFlags&C$Tzy.default.CLEAR_COLOR&&(C$Tzi.color=C$Tzg.Vec4.toArray([],C$Tzt._color)),C$Tzt._clearFlags&C$Tzy.default.CLEAR_DEPTH&&(C$Tzi.depth=C$Tzt._depth),C$Tzt._clearFlags&C$Tzy.default.CLEAR_STENCIL&&(C$Tzi.stencil=C$Tzt._stencil),C$Tze.clear(C$Tzi),this._drawItemsPools.reset();for(var C$Tzn=0;C$Tzn<C$Tzh._models.length;++C$Tzn){var C$Tzu,C$Tz_=C$Tzh._models.data[C$Tzn];0!=(C$Tz_._cullingMask&C$Tzt._cullingMask)&&(C$Tzu=this._drawItemsPools.add(),C$Tz_.extractDrawItem(C$Tzu));}C$Tzv.reset();for(var C$Tzr=0;C$Tzr<C$Tzt._stages.length;++C$Tzr){var C$Tzd=C$Tzt._stages[C$Tzr],C$Tzs=this._stageItemsPools.add();C$Tzs.reset();for(var C$Tzo=0;C$Tzo<this._drawItemsPools.length;++C$Tzo){var C$Tza,C$Tzc=this._drawItemsPools.data[C$Tzo],C$Tzl=C$Tzc.effect.stagePasses[C$Tzd];C$Tzl&&0!==C$Tzl.length&&((C$Tza=C$Tzs.add()).passes=C$Tzl,C$Tza.model=C$Tzc.model,C$Tza.node=C$Tzc.node,C$Tza.ia=C$Tzc.ia,C$Tza.effect=C$Tzc.effect,C$Tza.defines=C$Tzc.defines,C$Tza.sortKey=-1,C$Tza.uniforms=C$Tzc.uniforms);}var C$Tzf=C$Tzv.add();C$Tzf.stage=C$Tzd,C$Tzf.items=C$Tzs;}for(var C$Tzp=0;C$Tzp<C$Tzv.length;++C$Tzp){var C$Tzm=C$Tzv.data[C$Tzp];(0,this._stage2fn[C$Tzm.stage])(C$Tzt,C$Tzm.items);}},C$Tzt._setProperty=function(C$Tzt){var C$Tze=this._device,C$Tzi=C$Tzt.value;if(void 0!==(C$Tzi=void 0===(C$Tzi=void 0===C$Tzi?C$Tzt.val:C$Tzi)?this._type2defaultValue[C$Tzt.type]:C$Tzi)){if(C$Tzt.type===C$Tzy.default.PARAM_TEXTURE_2D||C$Tzt.type===C$Tzy.default.PARAM_TEXTURE_CUBE){if(Array.isArray(C$Tzi)){if(C$Tzi.length>C$Tzt.count)console.error(H[2457]+C$Tzt.name+H[2458]+C$Tzi.length+H[2459]+C$Tzt.count+H[2460]);else{for(var C$Tzn=C$Tzb.add(),C$Tzr=0;C$Tzr<C$Tzi.length;++C$Tzr)C$Tzn[C$Tzr]=this._allocTextureUnit();C$Tze.setTextureArray(C$Tzt.name,C$Tzi,C$Tzn);}}else C$Tze.setTexture(C$Tzt.name,C$Tzi,this._allocTextureUnit());}else C$Tzt.directly?C$Tze.setUniformDirectly(C$Tzt.name,C$Tzi):C$Tze.setUniform(C$Tzt.name,C$Tzi);}else console.warn(H[2461]+C$Tzt.name+H[2462]);},C$Tzt._draw=function(C$Tzt){for(var C$Tze=this._device,C$Tzh=this._programLib,C$Tzu=C$Tzt.node,C$Tzi=C$Tzt.ia,C$Tzn=C$Tzt.passes,C$Tz_=C$Tzt.effect,C$Tzr=(C$TzC.reset(),C$TzS.reset(),C$TzT.reset(),C$Tzw.reset(),C$Tzx.reset(),C$TzE.reset(),C$TzM.reset(),C$TzI.reset(),C$TzB.reset(),C$Tzb.reset(),C$Tzu.getWorldMatrix(C$Tzm),C$Tze.setUniform(H[2463],C$Tzg.Mat4.toArray(C$Tzx.add(),C$Tzm)),C$Tzg.Mat4.invert(C$Tzm,C$Tzm),C$Tzg.Mat4.transpose(C$Tzm,C$Tzm),C$Tze.setUniform(H[2464],C$Tzg.Mat4.toArray(C$Tzx.add(),C$Tzm)),this._defines),C$Tzs=0;C$Tzs<C$Tzn.length;++C$Tzs){for(var C$Tzo=C$Tzn[C$Tzs],C$Tzd=C$Tzi.count,C$Tza=(C$Tzi._vertexBuffer&&C$Tze.setVertexBuffer(0,C$Tzi._vertexBuffer),C$Tzi._indexBuffer&&C$Tze.setIndexBuffer(C$Tzi._indexBuffer),C$Tze.setPrimitiveType(C$Tzi._primitiveType),Object.setPrototypeOf(C$Tzr,C$Tzo._defines),C$Tzh.getProgram(C$Tzo._programName,C$Tzr,C$Tz_.name)),C$Tzc=(C$Tze.setProgram(C$Tza),C$Tza._uniforms),C$Tzf=C$Tzo._properties,C$Tzl=0;C$Tzl<C$Tzc.length;C$Tzl++){var C$Tzp=C$Tzf[C$Tzc[C$Tzl].name];void 0!==C$Tzp&&this._setProperty(C$Tzp);}C$Tze.setCullMode(C$Tzo._cullMode),C$Tzo._blend&&(C$Tze.enableBlend(),C$Tze.setBlendFuncSep(C$Tzo._blendSrc,C$Tzo._blendDst,C$Tzo._blendSrcAlpha,C$Tzo._blendDstAlpha),C$Tze.setBlendEqSep(C$Tzo._blendEq,C$Tzo._blendAlphaEq),C$Tze.setBlendColor32(C$Tzo._blendColor)),C$Tzo._depthTest&&(C$Tze.enableDepthTest(),C$Tze.setDepthFunc(C$Tzo._depthFunc)),C$Tzo._depthWrite&&C$Tze.enableDepthWrite(),C$Tze.setStencilTest(C$Tzo._stencilTest),C$Tzo._stencilTest===C$TzA.default.STENCIL_ENABLE&&(C$Tze.setStencilFuncFront(C$Tzo._stencilFuncFront,C$Tzo._stencilRefFront,C$Tzo._stencilMaskFront),C$Tze.setStencilOpFront(C$Tzo._stencilFailOpFront,C$Tzo._stencilZFailOpFront,C$Tzo._stencilZPassOpFront,C$Tzo._stencilWriteMaskFront),C$Tze.setStencilFuncBack(C$Tzo._stencilFuncBack,C$Tzo._stencilRefBack,C$Tzo._stencilMaskBack),C$Tze.setStencilOpBack(C$Tzo._stencilFailOpBack,C$Tzo._stencilZFailOpBack,C$Tzo._stencilZPassOpBack,C$Tzo._stencilWriteMaskBack)),C$Tze.draw(C$Tzi._start,C$Tzd),this._resetTextuerUnit();}},C$Tze.default=C$Tza,C$Tzr.exports=C$Tze.default;},{"../../core/value-types":279,"../enums":307,"../gfx":312,"../memop":324,"./program-lib":304,"./view":306}],302:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=(C$Tzt=C$Tzt(H[2454]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzr(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}C$Tzt=C$Tza,(C$Tzo=[{key:H[2465],get:function(){return-1!==this._count?this._count:this._indexBuffer?this._indexBuffer.count:this._vertexBuffer?this._vertexBuffer.count:0;}}])&&C$Tzr(C$Tzt.prototype,C$Tzo),C$Tzs&&C$Tzr(C$Tzt,C$Tzs);var C$Tzs,C$Tzo=C$Tza;function C$Tza(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=C$Tzn.default.PT_TRIANGLES),this._vertexBuffer=C$Tzt,this._indexBuffer=C$Tze,this._primitiveType=C$Tzi,this._start=0,this._count=-1;}C$Tzi.default=C$Tzo,C$Tze.exports=C$Tzi.default;},{"../gfx":312}],303:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzc=C$Tzn(C$Tzt(H[2454])),C$Tzo=C$Tzn(C$Tzt(H[2450])),C$Tza=C$Tzn(C$Tzt(H[2466]));function C$Tzn(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzl(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){void 0===C$Tzr&&(C$Tzr={}),void 0===C$Tzs&&(C$Tzs={}),this._name=C$Tzt,this._detailName=C$Tze,this._programName=C$Tzi,this._stage=C$Tzn,this._properties=C$Tzr,this._defines=C$Tzs,this._cullMode=C$Tzc.default.CULL_BACK,this._blend=!1,this._blendEq=C$Tzc.default.BLEND_FUNC_ADD,this._blendAlphaEq=C$Tzc.default.BLEND_FUNC_ADD,this._blendSrc=C$Tzc.default.BLEND_SRC_ALPHA,this._blendDst=C$Tzc.default.BLEND_ONE_MINUS_SRC_ALPHA,this._blendSrcAlpha=C$Tzc.default.BLEND_SRC_ALPHA,this._blendDstAlpha=C$Tzc.default.BLEND_ONE_MINUS_SRC_ALPHA,this._blendColor=4294967295,this._depthTest=!1,this._depthWrite=!1,this._depthFunc=C$Tzc.default.DS_FUNC_LESS,this._stencilTest=C$Tzc.default.STENCIL_INHERIT,this._stencilFuncFront=C$Tzc.default.DS_FUNC_ALWAYS,this._stencilRefFront=0,this._stencilMaskFront=255,this._stencilFailOpFront=C$Tzc.default.STENCIL_OP_KEEP,this._stencilZFailOpFront=C$Tzc.default.STENCIL_OP_KEEP,this._stencilZPassOpFront=C$Tzc.default.STENCIL_OP_KEEP,this._stencilWriteMaskFront=255,this._stencilFuncBack=C$Tzc.default.DS_FUNC_ALWAYS,this._stencilRefBack=0,this._stencilMaskBack=255,this._stencilFailOpBack=C$Tzc.default.STENCIL_OP_KEEP,this._stencilZFailOpBack=C$Tzc.default.STENCIL_OP_KEEP,this._stencilZPassOpBack=C$Tzc.default.STENCIL_OP_KEEP,this._stencilWriteMaskBack=255;}(C$Tzt=C$Tzl.prototype).setCullMode=function(C$Tzt){void 0===C$Tzt&&(C$Tzt=C$Tzc.default.CULL_BACK),this._cullMode=C$Tzt;},C$Tzt.setBlend=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza){void 0===C$Tze&&(C$Tze=C$Tzc.default.BLEND_FUNC_ADD),void 0===C$Tzi&&(C$Tzi=C$Tzc.default.BLEND_SRC_ALPHA),void 0===C$Tzn&&(C$Tzn=C$Tzc.default.BLEND_ONE_MINUS_SRC_ALPHA),void 0===C$Tzr&&(C$Tzr=C$Tzc.default.BLEND_FUNC_ADD),void 0===C$Tzs&&(C$Tzs=C$Tzc.default.BLEND_SRC_ALPHA),void 0===C$Tzo&&(C$Tzo=C$Tzc.default.BLEND_ONE_MINUS_SRC_ALPHA),void 0===C$Tza&&(C$Tza=4294967295),this._blend=C$Tzt=void 0===C$Tzt?!1:C$Tzt,this._blendEq=C$Tze,this._blendSrc=C$Tzi,this._blendDst=C$Tzn,this._blendAlphaEq=C$Tzr,this._blendSrcAlpha=C$Tzs,this._blendDstAlpha=C$Tzo,this._blendColor=C$Tza;},C$Tzt.setDepth=function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tze&&(C$Tze=!1),void 0===C$Tzi&&(C$Tzi=C$Tzc.default.DS_FUNC_LESS),this._depthTest=C$Tzt=void 0===C$Tzt?!1:C$Tzt,this._depthWrite=C$Tze,this._depthFunc=C$Tzi;},C$Tzt.setStencilFront=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza){void 0===C$Tzt&&(C$Tzt=C$Tzc.default.STENCIL_INHERIT),void 0===C$Tze&&(C$Tze=C$Tzc.default.DS_FUNC_ALWAYS),void 0===C$Tzi&&(C$Tzi=0),void 0===C$Tzn&&(C$Tzn=255),void 0===C$Tzr&&(C$Tzr=C$Tzc.default.STENCIL_OP_KEEP),void 0===C$Tzs&&(C$Tzs=C$Tzc.default.STENCIL_OP_KEEP),void 0===C$Tzo&&(C$Tzo=C$Tzc.default.STENCIL_OP_KEEP),void 0===C$Tza&&(C$Tza=255),this._stencilTest=C$Tzt,this._stencilFuncFront=C$Tze,this._stencilRefFront=C$Tzi,this._stencilMaskFront=C$Tzn,this._stencilFailOpFront=C$Tzr,this._stencilZFailOpFront=C$Tzs,this._stencilZPassOpFront=C$Tzo,this._stencilWriteMaskFront=C$Tza;},C$Tzt.setStencilEnabled=function(C$Tzt){void 0===C$Tzt&&(C$Tzt=C$Tzc.default.STENCIL_INHERIT),this._stencilTest=C$Tzt;},C$Tzt.setStencilBack=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza){void 0===C$Tzt&&(C$Tzt=C$Tzc.default.STENCIL_INHERIT),void 0===C$Tze&&(C$Tze=C$Tzc.default.DS_FUNC_ALWAYS),void 0===C$Tzi&&(C$Tzi=0),void 0===C$Tzn&&(C$Tzn=255),void 0===C$Tzr&&(C$Tzr=C$Tzc.default.STENCIL_OP_KEEP),void 0===C$Tzs&&(C$Tzs=C$Tzc.default.STENCIL_OP_KEEP),void 0===C$Tzo&&(C$Tzo=C$Tzc.default.STENCIL_OP_KEEP),void 0===C$Tza&&(C$Tza=255),this._stencilTest=C$Tzt,this._stencilFuncBack=C$Tze,this._stencilRefBack=C$Tzi,this._stencilMaskBack=C$Tzn,this._stencilFailOpBack=C$Tzr,this._stencilZFailOpBack=C$Tzs,this._stencilZPassOpBack=C$Tzo,this._stencilWriteMaskBack=C$Tza;},C$Tzt.setStage=function(C$Tzt){this._stage=C$Tzt;},C$Tzt.setProperties=function(C$Tzt){this._properties=C$Tzt;},C$Tzt.getProperty=function(C$Tzt){if(this._properties[C$Tzt])return this._properties[C$Tzt].value;},C$Tzt.setProperty=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this._properties[C$Tzt];if(!C$Tzn)return!1;if(C$Tzn.directly=C$Tzi,Array.isArray(C$Tze)){var C$Tzr=C$Tzn.value;if(C$Tzr.length!==C$Tze.length)return void cc.warnID(9105,this._name,C$Tzt);for(var C$Tzs=0;C$Tzs<C$Tze.length;C$Tzs++)C$Tzr[C$Tzs]=C$Tze[C$Tzs];}else C$Tze&&!ArrayBuffer.isView(C$Tze)?C$Tzn.type===C$Tzo.default.PARAM_TEXTURE_2D?C$Tzn.value=C$Tze.getImpl():C$Tze instanceof C$Tza.default?C$Tze.constructor.toArray(C$Tzn.value,C$Tze):(H[802]==typeof C$Tze&&cc.warnID(9106,this._name,C$Tzt),C$Tzn.value=C$Tze):C$Tzn.value=C$Tze;return!0;},C$Tzt.getDefine=function(C$Tzt){return this._defines[C$Tzt];},C$Tzt.define=function(C$Tzt,C$Tze,C$Tzi){if(!C$Tzi&&void 0===this._defines[C$Tzt])return!1;return this._defines[C$Tzt]=C$Tze,!0;},C$Tzt.clone=function(){var C$Tzt,C$Tze=new C$Tzl(this._programName),C$Tzi=(Object.assign(C$Tze,this),{}),C$Tzn=this._properties;for(C$Tzt in C$Tzn){var C$Tzr,C$Tzs=C$Tzn[C$Tzt],C$Tzo=C$Tzi[C$Tzt]={},C$Tza=C$Tzs.value;for(C$Tzr in Array.isArray(C$Tza)?C$Tzo.value=C$Tza.concat():ArrayBuffer.isView(C$Tza)?C$Tzo.value=new C$Tza.__proto__.constructor(C$Tza):C$Tzo.value=C$Tza,C$Tzs)H[791]!==C$Tzr&&(C$Tzo[C$Tzr]=C$Tzs[C$Tzr]);}return C$Tze._properties=C$Tzi,C$Tze._defines=Object.assign({},this._defines),C$Tze;},C$Tzi.default=C$Tzl,C$Tze.exports=C$Tzi.default;},{"../../core/value-types/value-type":287,"../enums":307,"../gfx":312}],304:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzh=(C$Tzt=C$Tzt(H[2454]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};var C$Tzy=0;function C$Tzu(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn=C$Tzt,C$Tzr=0;C$Tzr<C$Tze.length;C$Tzr++){var C$Tzs=C$Tze[C$Tzr].name,C$Tzo=C$Tzi[C$Tzs];Number.isInteger(C$Tzo)&&(C$Tzs=new RegExp(C$Tzs,"g"),C$Tzn=C$Tzn.replace(C$Tzs,C$Tzo));}return C$Tzn;}function C$Tz_(C$Tzt){return C$Tzt.replace(/#pragma for (\w+) in range\(\s*(\d+)\s*,\s*(\d+)\s*\)([\s\S]+?)#pragma endFor/g,function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs="",C$Tzi=parseInt(C$Tzi),C$Tzo=parseInt(C$Tzn);(C$Tzi.isNaN||C$Tzo.isNaN)&&console.error(H[2467]);for(var C$Tza=C$Tzi;C$Tza<C$Tzo;++C$Tza)C$Tzs+=C$Tzr.replace(new RegExp("{"+C$Tze+"}","g"),C$Tza);return C$Tzs;});}function C$Tzd(C$Tzt){return C$Tzt.replace(/\bhighp\b/g,H[2468]);}function C$Tzn(C$Tzt){this._device=C$Tzt,this._templates={},this._cache={},this._checkPrecision();}(C$Tzt=C$Tzn.prototype).clear=function(){this._templates={},this._cache={};},C$Tzt.define=function(C$Tzt){var C$Tze=C$Tzt.name,C$Tzi=C$Tzt.defines,C$Tzn=C$Tzt.glsl1||C$Tzt,C$Tzh=C$Tzn.vert,C$Tzn=C$Tzn.frag;if(!this._templates[C$Tze]){for(var C$Tzu=++C$Tzy,C$Tz_=0,C$Tzr=0;C$Tzr<C$Tzi.length;++C$Tzr){var C$Tzs,C$Tzo=C$Tzi[C$Tzr],C$Tzd=1;H[463]===C$Tzo.type?(C$Tzs=C$Tzo.range||[],C$Tzo.min=C$Tzs[0]||0,C$Tzo.max=C$Tzs[1]||4,C$Tzd=Math.ceil(Math.log2(C$Tzo.max-C$Tzo.min)),C$Tzo._map=function(C$Tzt){return C$Tzt-this.min<<this._offset;}.bind(C$Tzo)):C$Tzo._map=function(C$Tzt){return C$Tzt?1<<this._offset:0;}.bind(C$Tzo),C$Tzo._offset=C$Tz_,C$Tz_+=C$Tzd;}var C$Tza=C$Tzt.uniforms||[];if(C$Tzt.samplers)for(var C$Tzf=0;C$Tzf<C$Tzt.samplers.length;C$Tzf++)C$Tza.push(C$Tzt.samplers[C$Tzf]);if(C$Tzt.blocks)for(var C$Tzc=0;C$Tzc<C$Tzt.blocks.length;C$Tzc++)for(var C$Tzp=C$Tzt.blocks[C$Tzc].defines,C$Tzm=C$Tzt.blocks[C$Tzc].members,C$Tzl=0;C$Tzl<C$Tzm.length;C$Tzl++)C$Tza.push({defines:C$Tzp,name:C$Tzm[C$Tzl].name,type:C$Tzm[C$Tzl].type});this._templates[C$Tze]={id:C$Tzu,name:C$Tze,vert:C$Tzh,frag:C$Tzn,defines:C$Tzi,attributes:C$Tzt.attributes,uniforms:C$Tza,extensions:C$Tzt.extensions};}},C$Tzt.getTemplate=function(C$Tzt){return this._templates[C$Tzt];},C$Tzt.hasProgram=function(C$Tzt){return void 0!==this._templates[C$Tzt];},C$Tzt.getKey=function(C$Tzt,C$Tze){for(var C$Tzi=this._templates[C$Tzt],C$Tzn=0,C$Tzr=0;C$Tzr<C$Tzi.defines.length;++C$Tzr){var C$Tzs=C$Tzi.defines[C$Tzr],C$Tzo=C$Tze[C$Tzs.name];void 0!==C$Tzo&&(C$Tzn|=C$Tzs._map(C$Tzo));}return C$Tzi.id+":"+C$Tzn;},C$Tzt.getProgram=function(C$Tzt,C$Tze,C$Tzn){var C$Tzi=this.getKey(C$Tzt,C$Tze),C$Tzr=this._cache[C$Tzi];if(C$Tzr)return C$Tzr;var C$Tzt=this._templates[C$Tzt],C$Tzs=function(C$Tzt,C$Tze){for(var C$Tzi=[],C$Tzn=0;C$Tzn<C$Tzt.length;C$Tzn++){var C$Tzr=C$Tzt[C$Tzn].name,C$Tzs=C$Tze[C$Tzr];H[463]!=typeof C$Tzs&&(C$Tzs=C$Tzs?1:0),C$Tzi.push(H[2469]+C$Tzr+" "+C$Tzs);}return C$Tzi.join("\n")+"\n";}(C$Tzt.defines,C$Tze),C$Tzo=C$Tzs+C$Tz_(C$Tzo=C$Tzu(C$Tzt.vert,C$Tzt.defines,C$Tze));this._highpSupported||(C$Tzo=C$Tzd(C$Tzo));C$Tzs+=C$Tz_(C$Tzs=C$Tzu(C$Tzt.frag,C$Tzt.defines,C$Tze));this._highpSupported||(C$Tzs=C$Tzd(C$Tzs));var C$Tza,C$Tzc,C$Tzl,C$Tze=(C$Tzr=new C$Tzh.default.Program(this._device,{vert:C$Tzo,frag:C$Tzs})).link();return C$Tze&&(C$Tza=C$Tzo.split("\n"),C$Tzc=C$Tzs.split("\n"),C$Tzl=C$Tzt.defines.length,C$Tze.forEach(function(C$Tzt){var C$Tze=C$Tzt.line-1,C$Tzi=C$Tzt.line-C$Tzl,C$Tze=(H[2470]===C$Tzt.type?C$Tza:C$Tzc)[C$Tze],C$Tzi=C$Tzt.info||H[2471]+C$Tzt.type+" "+C$Tzt.fileID+H[2472]+C$Tzi+"): \n "+C$Tzt.message+": \n  "+C$Tze;cc.error(C$Tzn+H[2473]+C$Tzi);})),this._cache[C$Tzi]=C$Tzr;},C$Tzt._checkPrecision=function(){var C$Tzt,C$Tze=this._device._gl,C$Tzi=!1;C$Tze.getShaderPrecisionFormat&&(C$Tzt=C$Tze.getShaderPrecisionFormat(C$Tze.VERTEX_SHADER,C$Tze.HIGH_FLOAT),C$Tze=C$Tze.getShaderPrecisionFormat(C$Tze.FRAGMENT_SHADER,C$Tze.HIGH_FLOAT),C$Tzi=C$Tzt&&0<C$Tzt.precision&&C$Tze&&0<C$Tze.precision),C$Tzi||cc.warnID(9102),this._highpSupported=C$Tzi;},C$Tzi.default=C$Tzn,C$Tze.exports=C$Tzi.default;},{"../gfx":312}],305:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}C$Tzi.__esModule=!0,C$Tzi.default=void 0;C$Tza.prototype.clone=function(){for(var C$Tzt=[],C$Tze=0;C$Tze<this._passes.length;C$Tze++)C$Tzt.push(this._passes[C$Tze].clone());return new C$Tza(this._name,C$Tzt);},C$Tzr=C$Tza,(C$Tzo=[{key:H[488],get:function(){return this._name;}},{key:H[793],get:function(){return this._passes;}}])&&C$Tzn(C$Tzr.prototype,C$Tzo),C$Tzs&&C$Tzn(C$Tzr,C$Tzs);var C$Tzr,C$Tzs,C$Tzo=C$Tza;function C$Tza(C$Tzt,C$Tze){this._name=C$Tzt,this._passes=C$Tze;}C$Tzi.default=C$Tzo,C$Tze.exports=C$Tzi.default;},{}],306:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=C$Tzt(H[2451]),C$Tzr=(C$Tzt=C$Tzt(H[2450]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};var C$Tzs=new C$Tzn.Mat4(),C$Tzo=0;function C$Tza(){this._id=C$Tzo++,this._priority=0,this._rect={x:0,y:0,w:1,h:1},this._color=new C$Tzn.Vec4(.3,.3,.3,1),this._depth=1,this._stencil=0,this._clearFlags=C$Tzr.default.CLEAR_COLOR|C$Tzr.default.CLEAR_DEPTH,this._clearModel=null,this._matView=cc.mat4(),this._matViewInv=cc.mat4(),this._matProj=cc.mat4(),this._matViewProj=cc.mat4(),this._matInvViewProj=cc.mat4(),this._stages=[],this._cullingByID=!1,this._framebuffer=null,this._shadowLight=null,this._cullingMask=4294967295;}(C$Tzt=C$Tza.prototype).getForward=function(C$Tzt){var C$Tze=this._matView.m;return C$Tzn.Vec3.set(C$Tzt,-C$Tze[2],-C$Tze[6],-C$Tze[10]);},C$Tzt.getPosition=function(C$Tzt){return C$Tzn.Mat4.invert(C$Tzs,this._matView),C$Tzn.Mat4.getTranslation(C$Tzt,C$Tzs);},C$Tzi.default=C$Tza,C$Tze.exports=C$Tzi.default;},{"../../core/value-types":279,"../enums":307}],307:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;C$Tzt=C$Tzt(H[2474]),C$Tzt={PROJ_PERSPECTIVE:0,PROJ_ORTHO:1,LIGHT_DIRECTIONAL:0,LIGHT_POINT:1,LIGHT_SPOT:2,LIGHT_AMBIENT:3,SHADOW_NONE:0,SHADOW_HARD:1,SHADOW_SOFT:2,PARAM_INT:C$Tzt.typeMap.int,PARAM_INT2:C$Tzt.typeMap.ivec2,PARAM_INT3:C$Tzt.typeMap.ivec3,PARAM_INT4:C$Tzt.typeMap.ivec4,PARAM_FLOAT:C$Tzt.typeMap.float,PARAM_FLOAT2:C$Tzt.typeMap.vec2,PARAM_FLOAT3:C$Tzt.typeMap.vec3,PARAM_FLOAT4:C$Tzt.typeMap.vec4,PARAM_MAT2:C$Tzt.typeMap.mat2,PARAM_MAT3:C$Tzt.typeMap.mat3,PARAM_MAT4:C$Tzt.typeMap.mat4,PARAM_TEXTURE_2D:C$Tzt.typeMap.sampler2D,PARAM_TEXTURE_CUBE:C$Tzt.typeMap.samplerCube,CLEAR_COLOR:1,CLEAR_DEPTH:2,CLEAR_STENCIL:4,CLEAR_SKYBOX:8,BUFFER_VIEW_INT8:0,BUFFER_VIEW_UINT8:1,BUFFER_VIEW_INT16:2,BUFFER_VIEW_UINT16:3,BUFFER_VIEW_INT32:4,BUFFER_VIEW_UINT32:5,BUFFER_VIEW_FLOAT32:6};C$Tzi.default=C$Tzt,C$Tze.exports=C$Tzi.default;},{"./build/mappings":300}],308:[function(C$Tzt,C$Tzl,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.default=void 0;var C$Tzr=C$Tzi(C$Tzt(H[2475])),C$TzP=C$Tzt(H[1087]),C$Tzh=C$Tzi(C$Tzt(H[2476])),C$Tzu=C$Tzi(C$Tzt(H[2477]));function C$Tzi(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzn(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}(C$Tzt={})[5124]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform1i(C$Tze,C$Tzi);},C$Tzt[5126]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform1f(C$Tze,C$Tzi);},C$Tzt[35664]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform2fv(C$Tze,C$Tzi);},C$Tzt[35665]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform3fv(C$Tze,C$Tzi);},C$Tzt[35666]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform4fv(C$Tze,C$Tzi);},C$Tzt[35667]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform2iv(C$Tze,C$Tzi);},C$Tzt[35668]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform3iv(C$Tze,C$Tzi);},C$Tzt[35669]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform4iv(C$Tze,C$Tzi);},C$Tzt[35670]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform1i(C$Tze,C$Tzi);},C$Tzt[35671]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform2iv(C$Tze,C$Tzi);},C$Tzt[35672]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform3iv(C$Tze,C$Tzi);},C$Tzt[35673]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform4iv(C$Tze,C$Tzi);},C$Tzt[35674]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniformMatrix2fv(C$Tze,!1,C$Tzi);},C$Tzt[35675]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniformMatrix3fv(C$Tze,!1,C$Tzi);},C$Tzt[35676]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniformMatrix4fv(C$Tze,!1,C$Tzi);},C$Tzt[35678]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform1i(C$Tze,C$Tzi);},C$Tzt[35680]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform1i(C$Tze,C$Tzi);};var C$TzD=C$Tzt,C$TzL=((C$Tzt={})[5124]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform1iv(C$Tze,C$Tzi);},C$Tzt[5126]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform1fv(C$Tze,C$Tzi);},C$Tzt[35664]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform2fv(C$Tze,C$Tzi);},C$Tzt[35665]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform3fv(C$Tze,C$Tzi);},C$Tzt[35666]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform4fv(C$Tze,C$Tzi);},C$Tzt[35667]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform2iv(C$Tze,C$Tzi);},C$Tzt[35668]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform3iv(C$Tze,C$Tzi);},C$Tzt[35669]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform4iv(C$Tze,C$Tzi);},C$Tzt[35670]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform1iv(C$Tze,C$Tzi);},C$Tzt[35671]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform2iv(C$Tze,C$Tzi);},C$Tzt[35672]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform3iv(C$Tze,C$Tzi);},C$Tzt[35673]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform4iv(C$Tze,C$Tzi);},C$Tzt[35674]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniformMatrix2fv(C$Tze,!1,C$Tzi);},C$Tzt[35675]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniformMatrix3fv(C$Tze,!1,C$Tzi);},C$Tzt[35676]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniformMatrix4fv(C$Tze,!1,C$Tzi);},C$Tzt[35678]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform1iv(C$Tze,C$Tzi);},C$Tzt[35680]=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.uniform1iv(C$Tze,C$Tzi);},C$Tzt);function C$Tzo(C$Tzt,C$Tze,C$Tzi,C$Tzn){void 0===C$Tzn&&(C$Tzn=0),C$Tzi instanceof C$Tzh.default?C$Tzt.framebufferTexture2D(C$Tzt.FRAMEBUFFER,C$Tze,C$Tzt.TEXTURE_2D,C$Tzi._glID,0):C$Tzi instanceof C$Tzu.default?C$Tzt.framebufferTexture2D(C$Tzt.FRAMEBUFFER,C$Tze,C$Tzt.TEXTURE_CUBE_MAP_POSITIVE_X+C$Tzn,C$Tzi._glID,0):C$Tzt.framebufferRenderbuffer(C$Tzt.FRAMEBUFFER,C$Tze,C$Tzt.RENDERBUFFER,C$Tzi._glID);}C$Tzt=C$Tzc,(C$Tza=[{key:H[2478],get:function(){return this._caps;}}])&&C$Tzn(C$Tzt.prototype,C$Tza),C$Tzs&&C$Tzn(C$Tzt,C$Tzs),(C$Tza=C$Tzc.prototype)._initExtensions=function(C$Tzt){for(var C$Tze=this._gl,C$Tzi=0;C$Tzi<C$Tzt.length;++C$Tzi)for(var C$Tzn=C$Tzt[C$Tzi],C$Tzr=["",H[2479],H[2480]],C$Tzs=0;C$Tzs<C$Tzr.length;C$Tzs++)try{var C$Tzo=C$Tze.getExtension(C$Tzr[C$Tzs]+C$Tzn);if(C$Tzo){this._extensions[C$Tzn]=C$Tzo;break;}}catch(C$Tzt){console.error(C$Tzt);}},C$Tza._initCaps=function(){var C$Tzt=this._gl,C$Tze=this.ext(H[2481]);this._caps.maxVertexStreams=4,this._caps.maxVertexTextures=C$Tzt.getParameter(C$Tzt.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this._caps.maxFragUniforms=C$Tzt.getParameter(C$Tzt.MAX_FRAGMENT_UNIFORM_VECTORS),this._caps.maxTextureUnits=C$Tzt.getParameter(C$Tzt.MAX_TEXTURE_IMAGE_UNITS),this._caps.maxVertexAttribs=C$Tzt.getParameter(C$Tzt.MAX_VERTEX_ATTRIBS),this._caps.maxTextureSize=C$Tzt.getParameter(C$Tzt.MAX_TEXTURE_SIZE),this._caps.maxDrawBuffers=C$Tze?C$Tzt.getParameter(C$Tze.MAX_DRAW_BUFFERS_WEBGL):1,this._caps.maxColorAttachments=C$Tze?C$Tzt.getParameter(C$Tze.MAX_COLOR_ATTACHMENTS_WEBGL):1;},C$Tza._initStates=function(){var C$Tzt=this._gl;C$Tzt.disable(C$Tzt.BLEND),C$Tzt.blendFunc(C$Tzt.ONE,C$Tzt.ZERO),C$Tzt.blendEquation(C$Tzt.FUNC_ADD),C$Tzt.blendColor(1,1,1,1),C$Tzt.colorMask(!0,!0,!0,!0),C$Tzt.enable(C$Tzt.CULL_FACE),C$Tzt.cullFace(C$Tzt.BACK),C$Tzt.disable(C$Tzt.DEPTH_TEST),C$Tzt.depthFunc(C$Tzt.LESS),C$Tzt.depthMask(!1),C$Tzt.disable(C$Tzt.POLYGON_OFFSET_FILL),C$Tzt.depthRange(0,1),C$Tzt.disable(C$Tzt.STENCIL_TEST),C$Tzt.stencilFunc(C$Tzt.ALWAYS,0,255),C$Tzt.stencilMask(255),C$Tzt.stencilOp(C$Tzt.KEEP,C$Tzt.KEEP,C$Tzt.KEEP),C$Tzt.clearDepth(1),C$Tzt.clearColor(0,0,0,0),C$Tzt.clearStencil(0),C$Tzt.disable(C$Tzt.SCISSOR_TEST);},C$Tza._restoreTexture=function(C$Tzt){var C$Tze=this._gl,C$Tzt=this._current.textureUnits[C$Tzt];C$Tzt&&-1!==C$Tzt._glID?C$Tze.bindTexture(C$Tzt._target,C$Tzt._glID):C$Tze.bindTexture(C$Tze.TEXTURE_2D,null);},C$Tza._restoreIndexBuffer=function(){var C$Tzt=this._gl,C$Tze=this._current.indexBuffer;C$Tze&&-1!==C$Tze._glID?C$Tzt.bindBuffer(C$Tzt.ELEMENT_ARRAY_BUFFER,C$Tze._glID):C$Tzt.bindBuffer(C$Tzt.ELEMENT_ARRAY_BUFFER,null);},C$Tza.ext=function(C$Tzt){return this._extensions[C$Tzt];},C$Tza.allowFloatTexture=function(){return null!=this.ext(H[2482]);},C$Tza.setFrameBuffer=function(C$Tzt){if(this._framebuffer!==C$Tzt){this._framebuffer=C$Tzt;var C$Tze=this._gl;if(C$Tzt){C$Tze.bindFramebuffer(C$Tze.FRAMEBUFFER,C$Tzt._glID);for(var C$Tzi=C$Tzt._colors.length,C$Tzn=0;C$Tzn<C$Tzi;++C$Tzn){var C$Tzr=C$Tzt._colors[C$Tzn];C$Tzo(C$Tze,C$Tze.COLOR_ATTACHMENT0+C$Tzn,C$Tzr);}for(var C$Tzs=C$Tzi;C$Tzs<this._caps.maxColorAttachments;++C$Tzs)C$Tze.framebufferTexture2D(C$Tze.FRAMEBUFFER,C$Tze.COLOR_ATTACHMENT0+C$Tzs,C$Tze.TEXTURE_2D,null,0);C$Tzt._depth&&C$Tzo(C$Tze,C$Tze.DEPTH_ATTACHMENT,C$Tzt._depth),C$Tzt._stencil&&C$Tzo(C$Tze,C$Tze.STENCIL_ATTACHMENT,C$Tzt._stencil),C$Tzt._depthStencil&&C$Tzo(C$Tze,C$Tze.DEPTH_STENCIL_ATTACHMENT,C$Tzt._depthStencil);}else C$Tze.bindFramebuffer(C$Tze.FRAMEBUFFER,null);}},C$Tza.setViewport=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._vx===C$Tzt&&this._vy===C$Tze&&this._vw===C$Tzi&&this._vh===C$Tzn||(this._gl.viewport(C$Tzt,C$Tze,C$Tzi,C$Tzn),this._vx=C$Tzt,this._vy=C$Tze,this._vw=C$Tzi,this._vh=C$Tzn);},C$Tza.setScissor=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._sx===C$Tzt&&this._sy===C$Tze&&this._sw===C$Tzi&&this._sh===C$Tzn||(this._gl.scissor(C$Tzt,C$Tze,C$Tzi,C$Tzn),this._sx=C$Tzt,this._sy=C$Tze,this._sw=C$Tzi,this._sh=C$Tzn);},C$Tza.clear=function(C$Tzt){var C$Tze,C$Tzi;void 0===C$Tzt.color&&void 0===C$Tzt.depth&&void 0===C$Tzt.stencil||(C$Tze=this._gl,void(C$Tzi=0)!==C$Tzt.color&&(C$Tzi|=C$Tze.COLOR_BUFFER_BIT,C$Tze.clearColor(C$Tzt.color[0],C$Tzt.color[1],C$Tzt.color[2],C$Tzt.color[3])),void 0!==C$Tzt.depth&&(C$Tzi|=C$Tze.DEPTH_BUFFER_BIT,C$Tze.clearDepth(C$Tzt.depth),C$Tze.enable(C$Tze.DEPTH_TEST),C$Tze.depthMask(!0),C$Tze.depthFunc(C$Tze.ALWAYS)),void 0!==C$Tzt.stencil&&(C$Tzi|=C$Tze.STENCIL_BUFFER_BIT,C$Tze.clearStencil(C$Tzt.stencil)),C$Tze.clear(C$Tzi),void 0!==C$Tzt.depth&&(!1===this._current.depthTest?C$Tze.disable(C$Tze.DEPTH_TEST):(!1===this._current.depthWrite&&C$Tze.depthMask(!1),this._current.depthFunc!==C$TzP.enums.DS_FUNC_ALWAYS&&C$Tze.depthFunc(this._current.depthFunc))));},C$Tza.enableBlend=function(){this._next.blend=!0;},C$Tza.enableDepthTest=function(){this._next.depthTest=!0;},C$Tza.enableDepthWrite=function(){this._next.depthWrite=!0;},C$Tza.setStencilTest=function(C$Tzt){this._next.stencilTest=C$Tzt;},C$Tza.setStencilFunc=function(C$Tzt,C$Tze,C$Tzi){this._next.stencilSep=!1,this._next.stencilFuncFront=this._next.stencilFuncBack=C$Tzt,this._next.stencilRefFront=this._next.stencilRefBack=C$Tze,this._next.stencilMaskFront=this._next.stencilMaskBack=C$Tzi;},C$Tza.setStencilFuncFront=function(C$Tzt,C$Tze,C$Tzi){this._next.stencilSep=!0,this._next.stencilFuncFront=C$Tzt,this._next.stencilRefFront=C$Tze,this._next.stencilMaskFront=C$Tzi;},C$Tza.setStencilFuncBack=function(C$Tzt,C$Tze,C$Tzi){this._next.stencilSep=!0,this._next.stencilFuncBack=C$Tzt,this._next.stencilRefBack=C$Tze,this._next.stencilMaskBack=C$Tzi;},C$Tza.setStencilOp=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._next.stencilFailOpFront=this._next.stencilFailOpBack=C$Tzt,this._next.stencilZFailOpFront=this._next.stencilZFailOpBack=C$Tze,this._next.stencilZPassOpFront=this._next.stencilZPassOpBack=C$Tzi,this._next.stencilWriteMaskFront=this._next.stencilWriteMaskBack=C$Tzn;},C$Tza.setStencilOpFront=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._next.stencilSep=!0,this._next.stencilFailOpFront=C$Tzt,this._next.stencilZFailOpFront=C$Tze,this._next.stencilZPassOpFront=C$Tzi,this._next.stencilWriteMaskFront=C$Tzn;},C$Tza.setStencilOpBack=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._next.stencilSep=!0,this._next.stencilFailOpBack=C$Tzt,this._next.stencilZFailOpBack=C$Tze,this._next.stencilZPassOpBack=C$Tzi,this._next.stencilWriteMaskBack=C$Tzn;},C$Tza.setDepthFunc=function(C$Tzt){this._next.depthFunc=C$Tzt;},C$Tza.setBlendColor32=function(C$Tzt){this._next.blendColor=C$Tzt;},C$Tza.setBlendColor=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._next.blendColor=(255*C$Tzt<<24|255*C$Tze<<16|255*C$Tzi<<8|255*C$Tzn)>>>0;},C$Tza.setBlendFunc=function(C$Tzt,C$Tze){this._next.blendSep=!1,this._next.blendSrc=C$Tzt,this._next.blendDst=C$Tze;},C$Tza.setBlendFuncSep=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._next.blendSep=!0,this._next.blendSrc=C$Tzt,this._next.blendDst=C$Tze,this._next.blendSrcAlpha=C$Tzi,this._next.blendDstAlpha=C$Tzn;},C$Tza.setBlendEq=function(C$Tzt){this._next.blendSep=!1,this._next.blendEq=C$Tzt;},C$Tza.setBlendEqSep=function(C$Tzt,C$Tze){this._next.blendSep=!0,this._next.blendEq=C$Tzt,this._next.blendAlphaEq=C$Tze;},C$Tza.setCullMode=function(C$Tzt){this._next.cullMode=C$Tzt;},C$Tza.setVertexBuffer=function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=0),this._next.vertexBuffers[C$Tzt]=C$Tze,this._next.vertexBufferOffsets[C$Tzt]=C$Tzi,this._next.maxStream<C$Tzt&&(this._next.maxStream=C$Tzt);},C$Tza.setIndexBuffer=function(C$Tzt){this._next.indexBuffer=C$Tzt;},C$Tza.setProgram=function(C$Tzt){this._next.program=C$Tzt;},C$Tza.setTexture=function(C$Tzt,C$Tze,C$Tzi){C$Tzi>=this._caps.maxTextureUnits?console.warn(H[2483]+C$Tzt+H[2484]+C$Tzi+H[2485]+this._caps.maxTextureUnits):(this._next.textureUnits[C$Tzi]=C$Tze,this.setUniform(C$Tzt,C$Tzi),this._next.maxTextureSlot<C$Tzi&&(this._next.maxTextureSlot=C$Tzi));},C$Tza.setTextureArray=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tze.length;if(C$Tzn>=this._caps.maxTextureUnits)console.warn(H[2486]+C$Tzn+H[2487]+C$Tzt+H[2485]+this._caps.maxTextureUnits);else{for(var C$Tzr=0;C$Tzr<C$Tzn;++C$Tzr){var C$Tzs=C$Tzi[C$Tzr];this._next.textureUnits[C$Tzs]=C$Tze[C$Tzr],this._next.maxTextureSlot<C$Tzs&&(this._next.maxTextureSlot=C$Tzs);}this.setUniform(C$Tzt,C$Tzi);}},C$Tza.setUniform=function(C$Tzt,C$Tze){for(var C$Tzi=this._uniforms[C$Tzt],C$Tzn=!1,C$Tzh=!1,C$Tzr=!1,C$Tzs=!1;C$Tzi&&(C$Tzr=Array.isArray(C$Tze)||C$Tze instanceof Float32Array,C$Tzs=C$Tze instanceof Int32Array,C$Tzi.isArray===(C$Tzh=C$Tzr||C$Tzs)&&(!C$Tzi.isArray||C$Tzi.value.length===C$Tze.length)&&(C$Tzn=!0,0)););if(C$Tzn){var C$Tzo=C$Tzi.value,C$Tza=!1;if(C$Tzi.isArray)for(var C$Tzc=0,C$Tzu=C$Tzo.length;C$Tzc<C$Tzu;C$Tzc++)C$Tzo[C$Tzc]!==C$Tze[C$Tzc]&&(C$Tza=!0,C$Tzo[C$Tzc]=C$Tze[C$Tzc]);else C$Tzo!==C$Tze&&(C$Tza=!0,C$Tzi.value=C$Tze);C$Tza&&(C$Tzi.dirty=!0);}else{var C$Tzl=C$Tze;C$Tzr?C$Tzl=new Float32Array(C$Tze):C$Tzs&&(C$Tzl=new Int32Array(C$Tze)),C$Tzi={dirty:!0,value:C$Tzl,isArray:C$Tzh};}this._uniforms[C$Tzt]=C$Tzi;},C$Tza.setUniformDirectly=function(C$Tzt,C$Tze){var C$Tzi=this._uniforms[C$Tzt];C$Tzi||(this._uniforms[C$Tzt]=C$Tzi={}),C$Tzi.dirty=!0,C$Tzi.value=C$Tze;},C$Tza.setPrimitiveType=function(C$Tzt){this._next.primitiveType=C$Tzt;},C$Tza.resetDrawCalls=function(){this._stats.drawcalls=0;},C$Tza.getDrawCalls=function(){return this._stats.drawcalls;},C$Tza.draw=function(C$Tzh,C$Tzu){var C$Tzt,C$Tze,C$Tzi,C$Tzn=this._gl,C$Tzr=this._current,C$Tzs=this._next,C$Tzo=(!function(C$Tzt,C$Tze,C$Tzi){if(C$Tze.blend!==C$Tzi.blend)return C$Tzi.blend?(C$Tzt.enable(C$Tzt.BLEND),C$Tzi.blendSrc!==C$TzP.enums.BLEND_CONSTANT_COLOR&&C$Tzi.blendSrc!==C$TzP.enums.BLEND_ONE_MINUS_CONSTANT_COLOR&&C$Tzi.blendDst!==C$TzP.enums.BLEND_CONSTANT_COLOR&&C$Tzi.blendDst!==C$TzP.enums.BLEND_ONE_MINUS_CONSTANT_COLOR||C$Tzt.blendColor((C$Tzi.blendColor>>24)/255,(C$Tzi.blendColor>>16&255)/255,(C$Tzi.blendColor>>8&255)/255,(255&C$Tzi.blendColor)/255),C$Tzi.blendSep?(C$Tzt.blendFuncSeparate(C$Tzi.blendSrc,C$Tzi.blendDst,C$Tzi.blendSrcAlpha,C$Tzi.blendDstAlpha),C$Tzt.blendEquationSeparate(C$Tzi.blendEq,C$Tzi.blendAlphaEq)):(C$Tzt.blendFunc(C$Tzi.blendSrc,C$Tzi.blendDst),C$Tzt.blendEquation(C$Tzi.blendEq))):C$Tzt.disable(C$Tzt.BLEND);!1!==C$Tzi.blend&&(C$Tze.blendColor!==C$Tzi.blendColor&&C$Tzt.blendColor((C$Tzi.blendColor>>24)/255,(C$Tzi.blendColor>>16&255)/255,(C$Tzi.blendColor>>8&255)/255,(255&C$Tzi.blendColor)/255),C$Tze.blendSep===C$Tzi.blendSep?C$Tzi.blendSep?(C$Tze.blendSrc===C$Tzi.blendSrc&&C$Tze.blendDst===C$Tzi.blendDst&&C$Tze.blendSrcAlpha===C$Tzi.blendSrcAlpha&&C$Tze.blendDstAlpha===C$Tzi.blendDstAlpha||C$Tzt.blendFuncSeparate(C$Tzi.blendSrc,C$Tzi.blendDst,C$Tzi.blendSrcAlpha,C$Tzi.blendDstAlpha),C$Tze.blendEq===C$Tzi.blendEq&&C$Tze.blendAlphaEq===C$Tzi.blendAlphaEq||C$Tzt.blendEquationSeparate(C$Tzi.blendEq,C$Tzi.blendAlphaEq)):(C$Tze.blendSrc===C$Tzi.blendSrc&&C$Tze.blendDst===C$Tzi.blendDst||C$Tzt.blendFunc(C$Tzi.blendSrc,C$Tzi.blendDst),C$Tze.blendEq!==C$Tzi.blendEq&&C$Tzt.blendEquation(C$Tzi.blendEq)):C$Tzi.blendSep?(C$Tzt.blendFuncSeparate(C$Tzi.blendSrc,C$Tzi.blendDst,C$Tzi.blendSrcAlpha,C$Tzi.blendDstAlpha),C$Tzt.blendEquationSeparate(C$Tzi.blendEq,C$Tzi.blendAlphaEq)):(C$Tzt.blendFunc(C$Tzi.blendSrc,C$Tzi.blendDst),C$Tzt.blendEquation(C$Tzi.blendEq)));}(C$Tzn,C$Tzr,C$Tzs),function(C$Tzt,C$Tze,C$Tzi){if(C$Tze.depthTest!==C$Tzi.depthTest)return C$Tzi.depthTest?(C$Tzt.enable(C$Tzt.DEPTH_TEST),C$Tzt.depthFunc(C$Tzi.depthFunc),C$Tzt.depthMask(C$Tzi.depthWrite)):C$Tzt.disable(C$Tzt.DEPTH_TEST);C$Tze.depthWrite!==C$Tzi.depthWrite&&C$Tzt.depthMask(C$Tzi.depthWrite),!1!==C$Tzi.depthTest?C$Tze.depthFunc!==C$Tzi.depthFunc&&C$Tzt.depthFunc(C$Tzi.depthFunc):C$Tzi.depthWrite&&(C$Tzi.depthTest=!0,C$Tzi.depthFunc=C$TzP.enums.DS_FUNC_ALWAYS,C$Tzt.enable(C$Tzt.DEPTH_TEST),C$Tzt.depthFunc(C$Tzi.depthFunc));}(C$Tzn,C$Tzr,C$Tzs),C$Tzi=C$Tzn,C$Tze=C$Tzr,(C$Tzt=C$Tzs).stencilTest!==C$TzP.enums.STENCIL_INHERIT&&(C$Tzt.stencilTest!==C$Tze.stencilTest?C$Tzt.stencilTest===C$TzP.enums.STENCIL_DISABLE?C$Tzi.disable(C$Tzi.STENCIL_TEST):(C$Tzi.enable(C$Tzi.STENCIL_TEST),C$Tzt.stencilSep?(C$Tzi.stencilFuncSeparate(C$Tzi.FRONT,C$Tzt.stencilFuncFront,C$Tzt.stencilRefFront,C$Tzt.stencilMaskFront),C$Tzi.stencilMaskSeparate(C$Tzi.FRONT,C$Tzt.stencilWriteMaskFront),C$Tzi.stencilOpSeparate(C$Tzi.FRONT,C$Tzt.stencilFailOpFront,C$Tzt.stencilZFailOpFront,C$Tzt.stencilZPassOpFront),C$Tzi.stencilFuncSeparate(C$Tzi.BACK,C$Tzt.stencilFuncBack,C$Tzt.stencilRefBack,C$Tzt.stencilMaskBack),C$Tzi.stencilMaskSeparate(C$Tzi.BACK,C$Tzt.stencilWriteMaskBack),C$Tzi.stencilOpSeparate(C$Tzi.BACK,C$Tzt.stencilFailOpBack,C$Tzt.stencilZFailOpBack,C$Tzt.stencilZPassOpBack)):(C$Tzi.stencilFunc(C$Tzt.stencilFuncFront,C$Tzt.stencilRefFront,C$Tzt.stencilMaskFront),C$Tzi.stencilMask(C$Tzt.stencilWriteMaskFront),C$Tzi.stencilOp(C$Tzt.stencilFailOpFront,C$Tzt.stencilZFailOpFront,C$Tzt.stencilZPassOpFront))):C$Tzt.stencilTest!==C$TzP.enums.STENCIL_DISABLE&&(C$Tze.stencilSep===C$Tzt.stencilSep?C$Tzt.stencilSep?(C$Tze.stencilFuncFront===C$Tzt.stencilFuncFront&&C$Tze.stencilRefFront===C$Tzt.stencilRefFront&&C$Tze.stencilMaskFront===C$Tzt.stencilMaskFront||C$Tzi.stencilFuncSeparate(C$Tzi.FRONT,C$Tzt.stencilFuncFront,C$Tzt.stencilRefFront,C$Tzt.stencilMaskFront),C$Tze.stencilWriteMaskFront!==C$Tzt.stencilWriteMaskFront&&C$Tzi.stencilMaskSeparate(C$Tzi.FRONT,C$Tzt.stencilWriteMaskFront),C$Tze.stencilFailOpFront===C$Tzt.stencilFailOpFront&&C$Tze.stencilZFailOpFront===C$Tzt.stencilZFailOpFront&&C$Tze.stencilZPassOpFront===C$Tzt.stencilZPassOpFront||C$Tzi.stencilOpSeparate(C$Tzi.FRONT,C$Tzt.stencilFailOpFront,C$Tzt.stencilZFailOpFront,C$Tzt.stencilZPassOpFront),C$Tze.stencilFuncBack===C$Tzt.stencilFuncBack&&C$Tze.stencilRefBack===C$Tzt.stencilRefBack&&C$Tze.stencilMaskBack===C$Tzt.stencilMaskBack||C$Tzi.stencilFuncSeparate(C$Tzi.BACK,C$Tzt.stencilFuncBack,C$Tzt.stencilRefBack,C$Tzt.stencilMaskBack),C$Tze.stencilWriteMaskBack!==C$Tzt.stencilWriteMaskBack&&C$Tzi.stencilMaskSeparate(C$Tzi.BACK,C$Tzt.stencilWriteMaskBack),C$Tze.stencilFailOpBack===C$Tzt.stencilFailOpBack&&C$Tze.stencilZFailOpBack===C$Tzt.stencilZFailOpBack&&C$Tze.stencilZPassOpBack===C$Tzt.stencilZPassOpBack||C$Tzi.stencilOpSeparate(C$Tzi.BACK,C$Tzt.stencilFailOpBack,C$Tzt.stencilZFailOpBack,C$Tzt.stencilZPassOpBack)):(C$Tze.stencilFuncFront===C$Tzt.stencilFuncFront&&C$Tze.stencilRefFront===C$Tzt.stencilRefFront&&C$Tze.stencilMaskFront===C$Tzt.stencilMaskFront||C$Tzi.stencilFunc(C$Tzt.stencilFuncFront,C$Tzt.stencilRefFront,C$Tzt.stencilMaskFront),C$Tze.stencilWriteMaskFront!==C$Tzt.stencilWriteMaskFront&&C$Tzi.stencilMask(C$Tzt.stencilWriteMaskFront),C$Tze.stencilFailOpFront===C$Tzt.stencilFailOpFront&&C$Tze.stencilZFailOpFront===C$Tzt.stencilZFailOpFront&&C$Tze.stencilZPassOpFront===C$Tzt.stencilZPassOpFront||C$Tzi.stencilOp(C$Tzt.stencilFailOpFront,C$Tzt.stencilZFailOpFront,C$Tzt.stencilZPassOpFront)):C$Tzt.stencilSep?(C$Tzi.stencilFuncSeparate(C$Tzi.FRONT,C$Tzt.stencilFuncFront,C$Tzt.stencilRefFront,C$Tzt.stencilMaskFront),C$Tzi.stencilMaskSeparate(C$Tzi.FRONT,C$Tzt.stencilWriteMaskFront),C$Tzi.stencilOpSeparate(C$Tzi.FRONT,C$Tzt.stencilFailOpFront,C$Tzt.stencilZFailOpFront,C$Tzt.stencilZPassOpFront),C$Tzi.stencilFuncSeparate(C$Tzi.BACK,C$Tzt.stencilFuncBack,C$Tzt.stencilRefBack,C$Tzt.stencilMaskBack),C$Tzi.stencilMaskSeparate(C$Tzi.BACK,C$Tzt.stencilWriteMaskBack),C$Tzi.stencilOpSeparate(C$Tzi.BACK,C$Tzt.stencilFailOpBack,C$Tzt.stencilZFailOpBack,C$Tzt.stencilZPassOpBack)):(C$Tzi.stencilFunc(C$Tzt.stencilFuncFront,C$Tzt.stencilRefFront,C$Tzt.stencilMaskFront),C$Tzi.stencilMask(C$Tzt.stencilWriteMaskFront),C$Tzi.stencilOp(C$Tzt.stencilFailOpFront,C$Tzt.stencilZFailOpFront,C$Tzt.stencilZPassOpFront)))),C$Tze=C$Tzn,C$Tzi=C$Tzs,C$Tzr.cullMode!==C$Tzi.cullMode&&(C$Tzi.cullMode!==C$TzP.enums.CULL_NONE?(C$Tze.enable(C$Tze.CULL_FACE),C$Tze.cullFace(C$Tzi.cullMode)):C$Tze.disable(C$Tze.CULL_FACE)),this),C$Tz_=C$Tzn,C$Tzd=C$Tzr,C$Tza=C$Tzs,C$Tzf=!1;if(-1!==C$Tza.maxStream){if(C$Tzd.maxStream!==C$Tza.maxStream)C$Tzf=!0;else if(C$Tzd.program!==C$Tza.program)C$Tzf=!0;else for(var C$Tzp=0;C$Tzp<C$Tza.maxStream+1;++C$Tzp)if(C$Tzd.vertexBuffers[C$Tzp]!==C$Tza.vertexBuffers[C$Tzp]||C$Tzd.vertexBufferOffsets[C$Tzp]!==C$Tza.vertexBufferOffsets[C$Tzp]){C$Tzf=!0;break;}if(C$Tzf){for(var C$Tzm=0;C$Tzm<C$Tzo._caps.maxVertexAttribs;++C$Tzm)C$Tzo._newAttributes[C$Tzm]=0;for(var C$Tzy=0;C$Tzy<C$Tza.maxStream+1;++C$Tzy){var C$Tzg=C$Tza.vertexBuffers[C$Tzy],C$Tzv=C$Tza.vertexBufferOffsets[C$Tzy];if(C$Tzg&&-1!==C$Tzg._glID){C$Tz_.bindBuffer(C$Tz_.ARRAY_BUFFER,C$Tzg._glID);for(var C$Tzx=0;C$Tzx<C$Tza.program._attributes.length;++C$Tzx){var C$Tzc=C$Tza.program._attributes[C$Tzx],C$Tzl=C$Tzg._format.element(C$Tzc.name);C$Tzl?(0===C$Tzo._enabledAttributes[C$Tzc.location]&&(C$Tz_.enableVertexAttribArray(C$Tzc.location),C$Tzo._enabledAttributes[C$Tzc.location]=1),C$Tzo._newAttributes[C$Tzc.location]=1,C$Tz_.vertexAttribPointer(C$Tzc.location,C$Tzl.num,C$Tzl.type,C$Tzl.normalize,C$Tzl.stride,C$Tzl.offset+C$Tzv*C$Tzl.stride)):console.warn(H[2488]+C$Tzc.name);}}}for(var C$Tzb=0;C$Tzb<C$Tzo._caps.maxVertexAttribs;++C$Tzb)C$Tzo._enabledAttributes[C$Tzb]!==C$Tzo._newAttributes[C$Tzb]&&(C$Tz_.disableVertexAttribArray(C$Tzb),C$Tzo._enabledAttributes[C$Tzb]=0);}}C$Tzr.indexBuffer!==C$Tzs.indexBuffer&&C$Tzn.bindBuffer(C$Tzn.ELEMENT_ARRAY_BUFFER,C$Tzs.indexBuffer&&-1!==C$Tzs.indexBuffer._glID?C$Tzs.indexBuffer._glID:null);for(var C$TzA,C$TzC=!1,C$TzS=(C$Tzr.program!==C$Tzs.program&&(C$Tzs.program._linked?C$Tzn.useProgram(C$Tzs.program._glID):console.warn(H[2489]),C$TzC=!0),C$Tzn),C$TzT=C$Tzr,C$Tzw=C$Tzs,C$TzE=0;C$TzE<C$Tzw.maxTextureSlot+1;++C$TzE)C$TzT.textureUnits[C$TzE]===C$Tzw.textureUnits[C$TzE]||(C$TzA=C$Tzw.textureUnits[C$TzE])&&-1!==C$TzA._glID&&(C$TzS.activeTexture(C$TzS.TEXTURE0+C$TzE),C$TzS.bindTexture(C$TzA._target,C$TzA._glID));for(var C$TzM=0;C$TzM<C$Tzs.program._uniforms.length;++C$TzM){var C$TzI,C$TzB=C$Tzs.program._uniforms[C$TzM],C$TzR=this._uniforms[C$TzB.name];C$TzR&&(C$TzC||C$TzR.dirty)&&(C$TzR.dirty=!1,(C$TzI=(void 0===C$TzB.size?C$TzD:C$TzL)[C$TzB.type])?C$TzI(C$Tzn,C$TzB.location,C$TzR.value):console.warn(H[2490]+C$TzB.name));}C$Tzu&&(C$Tzs.indexBuffer?C$Tzn.drawElements(this._next.primitiveType,C$Tzu,C$Tzs.indexBuffer._format,C$Tzh*C$Tzs.indexBuffer._bytesPerIndex):C$Tzn.drawArrays(this._next.primitiveType,C$Tzh,C$Tzu),this._stats.drawcalls++),C$Tzr.set(C$Tzs),C$Tzs.reset();};var C$Tzs,C$Tza,C$Tzt=C$Tzc;function C$Tzc(C$Tzt,C$Tze){var C$Tzi;void 0===(C$Tze=C$Tze||{}).alpha&&(C$Tze.alpha=!1),void 0===C$Tze.stencil&&(C$Tze.stencil=!0),void 0===C$Tze.depth&&(C$Tze.depth=!0),void 0===C$Tze.antialias&&(C$Tze.antialias=!1),void 0===C$Tze.preserveDrawingBuffer&&(C$Tze.preserveDrawingBuffer=!1);try{C$Tzi=C$Tzt.getContext(H[2491],C$Tze)||C$Tzt.getContext(H[2492],C$Tze)||C$Tzt.getContext(H[2493],C$Tze)||C$Tzt.getContext(H[2494],C$Tze);}catch(C$Tzt){return void console.error(C$Tzt);}C$Tzi||console.error(H[2495]),this._gl=C$Tzi,this._extensions={},this._caps={},this._stats={texture:0,vb:0,ib:0,drawcalls:0},this._initExtensions([H[2496],H[2497],H[2498],H[2482],H[2499],H[2500],H[2501],H[2502],H[2503],H[760],H[759],H[758],H[2504],H[2505],H[2481]]),this._initCaps(),this._initStates(),C$Tzr.default.initDefault(this),this._current=new C$Tzr.default(this),this._next=new C$Tzr.default(this),this._uniforms={},this._vx=this._vy=this._vw=this._vh=0,this._sx=this._sy=this._sw=this._sh=0,this._framebuffer=null,this._enabledAttributes=new Array(this._caps.maxVertexAttribs),this._newAttributes=new Array(this._caps.maxVertexAttribs);for(var C$Tzn=0;C$Tzn<this._caps.maxVertexAttribs;++C$Tzn)this._enabledAttributes[C$Tzn]=0,this._newAttributes[C$Tzn]=0;}C$Tze.default=C$Tzt,C$Tzl.exports=C$Tze.default;},{"./enums":309,"./state":316,"./texture-2d":317,"./texture-cube":318}],309:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.attrTypeBytes=function(C$Tzt){return C$Tzt===C$Tzs.ATTR_TYPE_INT8||C$Tzt===C$Tzs.ATTR_TYPE_UINT8?1:C$Tzt===C$Tzs.ATTR_TYPE_INT16||C$Tzt===C$Tzs.ATTR_TYPE_UINT16?2:C$Tzt===C$Tzs.ATTR_TYPE_INT32||C$Tzt===C$Tzs.ATTR_TYPE_UINT32||C$Tzt===C$Tzs.ATTR_TYPE_FLOAT32?4:(console.warn(H[2506]+C$Tzt),0);},C$Tzi.glFilter=function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=-1);var C$Tzn=C$Tzr[C$Tze][C$Tzi+1];return void 0!==C$Tzn?C$Tzn:(console.warn(H[2507]+C$Tze),-1===C$Tzi?C$Tzt.LINEAR:C$Tzt.LINEAR_MIPMAP_LINEAR);},C$Tzi.glTextureFmt=function(C$Tzt){var C$Tze=C$Tzn[C$Tzt];return void 0!==C$Tze?C$Tze:(console.warn(H[2508]+C$Tzt),C$Tzn[C$Tzs.TEXTURE_FMT_RGBA8]);},C$Tzi.enums=void 0;var C$Tzr=[[9728,9984,9986],[9729,9985,9987]],C$Tzn=[{format:6407,internalFormat:33776,pixelType:null},{format:6408,internalFormat:33777,pixelType:null},{format:6408,internalFormat:33778,pixelType:null},{format:6408,internalFormat:33779,pixelType:null},{format:6407,internalFormat:36196,pixelType:null},{format:6407,internalFormat:35841,pixelType:null},{format:6408,internalFormat:35843,pixelType:null},{format:6407,internalFormat:35840,pixelType:null},{format:6408,internalFormat:35842,pixelType:null},{format:6406,internalFormat:6406,pixelType:5121},{format:6409,internalFormat:6409,pixelType:5121},{format:6410,internalFormat:6410,pixelType:5121},{format:6407,internalFormat:6407,pixelType:33635},{format:6408,internalFormat:6408,pixelType:32820},{format:6408,internalFormat:6408,pixelType:32819},{format:6407,internalFormat:6407,pixelType:5121},{format:6408,internalFormat:6408,pixelType:5121},{format:6407,internalFormat:6407,pixelType:36193},{format:6408,internalFormat:6408,pixelType:36193},{format:6407,internalFormat:6407,pixelType:5126},{format:6408,internalFormat:6408,pixelType:5126},{format:null,internalFormat:null,pixelType:null},{format:null,internalFormat:null,pixelType:null},{format:null,internalFormat:null,pixelType:null},{format:null,internalFormat:null,pixelType:null},{format:6402,internalFormat:6402,pixelType:5123},{format:6402,internalFormat:6402,pixelType:5125},{format:6402,internalFormat:6402,pixelType:5125},{format:6407,internalFormat:37492,pixelType:null},{format:6408,internalFormat:37496,pixelType:null}],C$Tzs={USAGE_STATIC:35044,USAGE_DYNAMIC:35048,USAGE_STREAM:35040,INDEX_FMT_UINT8:5121,INDEX_FMT_UINT16:5123,INDEX_FMT_UINT32:5125,ATTR_POSITION:H[2509],ATTR_NORMAL:H[2510],ATTR_TANGENT:H[2511],ATTR_BITANGENT:H[2512],ATTR_WEIGHTS:H[2513],ATTR_JOINTS:H[2514],ATTR_COLOR:H[2515],ATTR_COLOR0:H[2516],ATTR_COLOR1:H[2517],ATTR_UV:H[2518],ATTR_UV0:H[2519],ATTR_UV1:H[2520],ATTR_UV2:H[2521],ATTR_UV3:H[2522],ATTR_UV4:H[2523],ATTR_UV5:H[2524],ATTR_UV6:H[2525],ATTR_UV7:H[2526],ATTR_TEX_COORD:H[2527],ATTR_TEX_COORD1:H[2528],ATTR_TEX_COORD2:H[2529],ATTR_TEX_COORD3:H[2530],ATTR_TEX_COORD4:H[2531],ATTR_TEX_COORD5:H[2532],ATTR_TEX_COORD6:H[2533],ATTR_TEX_COORD7:H[2534],ATTR_TEX_COORD8:H[2535],ATTR_TYPE_INT8:5120,ATTR_TYPE_UINT8:5121,ATTR_TYPE_INT16:5122,ATTR_TYPE_UINT16:5123,ATTR_TYPE_INT32:5124,ATTR_TYPE_UINT32:5125,ATTR_TYPE_FLOAT32:5126,FILTER_NEAREST:0,FILTER_LINEAR:1,WRAP_REPEAT:10497,WRAP_CLAMP:33071,WRAP_MIRROR:33648,TEXTURE_FMT_RGB_DXT1:0,TEXTURE_FMT_RGBA_DXT1:1,TEXTURE_FMT_RGBA_DXT3:2,TEXTURE_FMT_RGBA_DXT5:3,TEXTURE_FMT_RGB_ETC1:4,TEXTURE_FMT_RGB_PVRTC_2BPPV1:5,TEXTURE_FMT_RGBA_PVRTC_2BPPV1:6,TEXTURE_FMT_RGB_PVRTC_4BPPV1:7,TEXTURE_FMT_RGBA_PVRTC_4BPPV1:8,TEXTURE_FMT_A8:9,TEXTURE_FMT_L8:10,TEXTURE_FMT_L8_A8:11,TEXTURE_FMT_R5_G6_B5:12,TEXTURE_FMT_R5_G5_B5_A1:13,TEXTURE_FMT_R4_G4_B4_A4:14,TEXTURE_FMT_RGB8:15,TEXTURE_FMT_RGBA8:16,TEXTURE_FMT_RGB16F:17,TEXTURE_FMT_RGBA16F:18,TEXTURE_FMT_RGB32F:19,TEXTURE_FMT_RGBA32F:20,TEXTURE_FMT_R32F:21,TEXTURE_FMT_111110F:22,TEXTURE_FMT_SRGB:23,TEXTURE_FMT_SRGBA:24,TEXTURE_FMT_D16:25,TEXTURE_FMT_D32:26,TEXTURE_FMT_D24S8:27,TEXTURE_FMT_RGB_ETC2:28,TEXTURE_FMT_RGBA_ETC2:29,DS_FUNC_NEVER:512,DS_FUNC_LESS:513,DS_FUNC_EQUAL:514,DS_FUNC_LEQUAL:515,DS_FUNC_GREATER:516,DS_FUNC_NOTEQUAL:517,DS_FUNC_GEQUAL:518,DS_FUNC_ALWAYS:519,RB_FMT_RGBA4:32854,RB_FMT_RGB5_A1:32855,RB_FMT_RGB565:36194,RB_FMT_D16:33189,RB_FMT_S8:36168,RB_FMT_D24S8:34041,BLEND_FUNC_ADD:32774,BLEND_FUNC_SUBTRACT:32778,BLEND_FUNC_REVERSE_SUBTRACT:32779,BLEND_ZERO:0,BLEND_ONE:1,BLEND_SRC_COLOR:768,BLEND_ONE_MINUS_SRC_COLOR:769,BLEND_DST_COLOR:774,BLEND_ONE_MINUS_DST_COLOR:775,BLEND_SRC_ALPHA:770,BLEND_ONE_MINUS_SRC_ALPHA:771,BLEND_DST_ALPHA:772,BLEND_ONE_MINUS_DST_ALPHA:773,BLEND_CONSTANT_COLOR:32769,BLEND_ONE_MINUS_CONSTANT_COLOR:32770,BLEND_CONSTANT_ALPHA:32771,BLEND_ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_SRC_ALPHA_SATURATE:776,STENCIL_DISABLE:0,STENCIL_ENABLE:1,STENCIL_INHERIT:2,STENCIL_OP_KEEP:7680,STENCIL_OP_ZERO:0,STENCIL_OP_REPLACE:7681,STENCIL_OP_INCR:7682,STENCIL_OP_INCR_WRAP:34055,STENCIL_OP_DECR:7683,STENCIL_OP_DECR_WRAP:34056,STENCIL_OP_INVERT:5386,CULL_NONE:0,CULL_FRONT:1028,CULL_BACK:1029,CULL_FRONT_AND_BACK:1032,PT_POINTS:0,PT_LINES:1,PT_LINE_LOOP:2,PT_LINE_STRIP:3,PT_TRIANGLES:4,PT_TRIANGLE_STRIP:5,PT_TRIANGLE_FAN:6};C$Tzi.enums=C$Tzs;},{}],310:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn;function C$Tzr(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._device=C$Tzt,this._width=C$Tze,this._height=C$Tzi,this._colors=C$Tzn.colors||[],this._depth=C$Tzn.depth||null,this._stencil=C$Tzn.stencil||null,this._depthStencil=C$Tzn.depthStencil||null,this._glID=C$Tzt._gl.createFramebuffer();}C$Tzi.__esModule=!0,C$Tzi.default=void 0,(C$Tzn=C$Tzr.prototype).destroy=function(){null!==this._glID?(this._device._gl.deleteFramebuffer(this._glID),this._glID=null):console.error(H[2536]);},C$Tzn.getHandle=function(){return this._glID;},C$Tzi.default=C$Tzr,C$Tze.exports=C$Tzi.default;},{}],311:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;C$Tzt=C$Tzt(H[1087]);function C$Tzn(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}(C$Tzo={})[C$Tzt.enums.INDEX_FMT_UINT8]=1,C$Tzo[C$Tzt.enums.INDEX_FMT_UINT16]=2,C$Tzo[C$Tzt.enums.INDEX_FMT_UINT32]=4;var C$Tzr,C$Tzs=C$Tzo,C$Tzo=((C$Tzt=C$Tza.prototype).destroy=function(){-1!==this._glID?(this._device._gl.deleteBuffer(this._glID),this._device._stats.ib-=this.bytes,this._glID=-1):console.error(H[2537]);},C$Tzt.update=function(C$Tzt,C$Tze){if(-1!==this._glID){if(0!==C$Tze.byteLength){if(C$Tzt+C$Tze.byteLength>this._bytes){if(C$Tzt)return void console.error(H[2538]);this._needExpandDataStore=!0,this._bytes=C$Tzt+C$Tze.byteLength,this._numIndices=this._bytes/this._bytesPerIndex;}var C$Tzi=this._device._gl,C$Tzn=this._usage;C$Tzi.bindBuffer(C$Tzi.ELEMENT_ARRAY_BUFFER,this._glID),this._needExpandDataStore?(C$Tzi.bufferData(C$Tzi.ELEMENT_ARRAY_BUFFER,C$Tze,C$Tzn),this._needExpandDataStore=!1):C$Tzi.bufferSubData(C$Tzi.ELEMENT_ARRAY_BUFFER,C$Tzt,C$Tze),this._device._restoreIndexBuffer();}}else console.error(H[2539]);},C$Tzt.setUsage=function(C$Tzt){this._usage=C$Tzt;},C$Tzt=C$Tza,(C$Tzo=[{key:H[2465],get:function(){return this._numIndices;}}])&&C$Tzn(C$Tzt.prototype,C$Tzo),C$Tzr&&C$Tzn(C$Tzt,C$Tzr),C$Tza);function C$Tza(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._device=C$Tzt,this._format=C$Tze,this._usage=C$Tzi,this._bytesPerIndex=C$Tzs[C$Tze],this._bytes=C$Tzn.byteLength,this._numIndices=this._bytes/this._bytesPerIndex,this._needExpandDataStore=!0,this._glID=C$Tzt._gl.createBuffer(),this.update(0,C$Tzn),C$Tzt._stats.ib+=this._bytes;}C$Tzo.BYTES_PER_INDEX=C$Tzs,C$Tzi.default=C$Tzo,C$Tze.exports=C$Tzi.default;},{"./enums":309}],312:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=C$Tzt(H[1087]),C$Tzt={VertexFormat:C$Tzt(H[1703]),IndexBuffer:C$Tzt(H[2540]),VertexBuffer:C$Tzt(H[2541]),Program:C$Tzt(H[2542]),Texture:C$Tzt(H[2543]),Texture2D:C$Tzt(H[2476]),TextureCube:C$Tzt(H[2477]),RenderBuffer:C$Tzt(H[2544]),FrameBuffer:C$Tzt(H[2545]),Device:C$Tzt(H[2546]),attrTypeBytes:C$Tzn.attrTypeBytes,glFilter:C$Tzn.glFilter,glTextureFmt:C$Tzn.glTextureFmt};Object.assign(C$Tzt,C$Tzn.enums),C$Tzi.default=C$Tzt,cc.gfx=C$Tzt,C$Tze.exports=C$Tzi.default;},{"./device":308,"./enums":309,"./frame-buffer":310,"./index-buffer":311,"./program":314,"./render-buffer":315,"./texture":319,"./texture-2d":317,"./texture-cube":318,"./vertex-buffer":320,"./vertex-format":321}],313:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.isPow2=function(C$Tzt){return!(C$Tzt&C$Tzt-1||!C$Tzt);};},{}],314:[function(C$Tzc,C$Tzt,C$Tze){"use strict";function C$Tzi(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}C$Tze.__esModule=!0,C$Tze.default=void 0;var C$Tzn=0;function C$Tzm(C$Tzi,C$Tzn,C$Tzt){C$Tzt.split("\n").forEach(function(C$Tzt){var C$Tze;C$Tzt.length<5||((C$Tze=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(C$Tzt))?C$Tzi.push({type:C$Tzn,fileID:0|C$Tze[1],line:0|C$Tze[2],message:C$Tze[3].trim()}):0<C$Tzt.length&&C$Tzi.push({type:C$Tzn,fileID:-1,line:0,message:C$Tzt}));});}(C$Tzs=C$Tza.prototype).link=function(){if(!this._linked){var C$Tzt=this._device._gl,C$Tze=C$Tzy(C$Tzt,C$Tzt.VERTEX_SHADER,this._vertSource),C$Tzi=C$Tzy(C$Tzt,C$Tzt.FRAGMENT_SHADER,this._fragSource),C$Tzn=C$Tzt.createProgram(),C$Tzr=(C$Tzt.attachShader(C$Tzn,C$Tze),C$Tzt.attachShader(C$Tzn,C$Tzi),C$Tzt.linkProgram(C$Tzn),!1),C$Tzs=this._errors;if(C$Tzt.getShaderParameter(C$Tze,C$Tzt.COMPILE_STATUS)||(C$Tzm(C$Tzs,H[2470],C$Tzt.getShaderInfoLog(C$Tze)),C$Tzr=!0),C$Tzt.getShaderParameter(C$Tzi,C$Tzt.COMPILE_STATUS)||(C$Tzm(C$Tzs,H[2547],C$Tzt.getShaderInfoLog(C$Tzi)),C$Tzr=!0),C$Tzt.deleteShader(C$Tze),C$Tzt.deleteShader(C$Tzi),C$Tzr)return C$Tzs;if(!C$Tzt.getProgramParameter(C$Tzn,C$Tzt.LINK_STATUS))return C$Tzs.push({info:H[2548]+C$Tzt.getProgramInfoLog(C$Tzn)}),C$Tzs;this._glID=C$Tzn;for(var C$Tzh=C$Tzt.getProgramParameter(C$Tzn,C$Tzt.ACTIVE_ATTRIBUTES),C$Tzo=0;C$Tzo<C$Tzh;++C$Tzo){var C$Tza=C$Tzt.getActiveAttrib(C$Tzn,C$Tzo),C$Tzu=C$Tzt.getAttribLocation(C$Tzn,C$Tza.name);this._attributes.push({name:C$Tza.name,location:C$Tzu,type:C$Tza.type});}for(var C$Tz_=C$Tzt.getProgramParameter(C$Tzn,C$Tzt.ACTIVE_UNIFORMS),C$Tzc=0;C$Tzc<C$Tz_;++C$Tzc){var C$Tzd=C$Tzt.getActiveUniform(C$Tzn,C$Tzc),C$Tzl=C$Tzd.name,C$Tzf=C$Tzt.getUniformLocation(C$Tzn,C$Tzl),C$Tzp=H[2549]===C$Tzl.substr(C$Tzl.length-3),C$Tzl={name:C$Tzl=C$Tzp?C$Tzl.substr(0,C$Tzl.length-3):C$Tzl,location:C$Tzf,type:C$Tzd.type,size:C$Tzp?C$Tzd.size:void 0};this._uniforms.push(C$Tzl);}this._linked=!0;}},C$Tzs.destroy=function(){this._device._gl.deleteProgram(this._glID),this._linked=!1,this._glID=null,this._attributes=[],this._uniforms=[],this._samplers=[];},C$Tzs=C$Tza,(C$Tzo=[{key:H[570],get:function(){return this._id;}}])&&C$Tzi(C$Tzs.prototype,C$Tzo),C$Tzr&&C$Tzi(C$Tzs,C$Tzr);var C$Tzr,C$Tzs,C$Tzo=C$Tza;function C$Tza(C$Tzt,C$Tze){this._device=C$Tzt,this._attributes=[],this._uniforms=[],this._samplers=[],this._errors=[],this._linked=!1,this._vertSource=C$Tze.vert,this._fragSource=C$Tze.frag,this._glID=null,this._id=C$Tzn++;}function C$Tzy(C$Tzt,C$Tze,C$Tzi){C$Tze=C$Tzt.createShader(C$Tze);return C$Tzt.shaderSource(C$Tze,C$Tzi),C$Tzt.compileShader(C$Tze),C$Tze;}C$Tze.default=C$Tzo,C$Tzt.exports=C$Tze.default;},{}],315:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn;function C$Tzr(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._device=C$Tzt,this._format=C$Tze,this._glID=C$Tzt._gl.createRenderbuffer(),this.update(C$Tzi,C$Tzn);}C$Tzi.__esModule=!0,C$Tzi.default=void 0,(C$Tzn=C$Tzr.prototype).update=function(C$Tzt,C$Tze){this._width=C$Tzt,this._height=C$Tze;var C$Tzi=this._device._gl;C$Tzi.bindRenderbuffer(C$Tzi.RENDERBUFFER,this._glID),C$Tzi.renderbufferStorage(C$Tzi.RENDERBUFFER,this._format,C$Tzt,C$Tze),C$Tzi.bindRenderbuffer(C$Tzi.RENDERBUFFER,null);},C$Tzn.destroy=function(){var C$Tzt;null!==this._glID?((C$Tzt=this._device._gl).bindRenderbuffer(C$Tzt.RENDERBUFFER,null),C$Tzt.deleteRenderbuffer(this._glID),this._glID=null):console.error(H[2550]);},C$Tzi.default=C$Tzr,C$Tze.exports=C$Tzi.default;},{}],316:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzt=C$Tzt(H[1087]),C$Tzn={blend:!1,blendSep:!1,blendColor:4294967295,blendEq:C$Tzt.enums.BLEND_FUNC_ADD,blendAlphaEq:C$Tzt.enums.BLEND_FUNC_ADD,blendSrc:C$Tzt.enums.BLEND_ONE,blendDst:C$Tzt.enums.BLEND_ZERO,blendSrcAlpha:C$Tzt.enums.BLEND_ONE,blendDstAlpha:C$Tzt.enums.BLEND_ZERO,depthTest:!1,depthWrite:!1,depthFunc:C$Tzt.enums.DS_FUNC_LESS,stencilTest:!1,stencilSep:!1,stencilFuncFront:C$Tzt.enums.DS_FUNC_ALWAYS,stencilRefFront:0,stencilMaskFront:255,stencilFailOpFront:C$Tzt.enums.STENCIL_OP_KEEP,stencilZFailOpFront:C$Tzt.enums.STENCIL_OP_KEEP,stencilZPassOpFront:C$Tzt.enums.STENCIL_OP_KEEP,stencilWriteMaskFront:255,stencilFuncBack:C$Tzt.enums.DS_FUNC_ALWAYS,stencilRefBack:0,stencilMaskBack:255,stencilFailOpBack:C$Tzt.enums.STENCIL_OP_KEEP,stencilZFailOpBack:C$Tzt.enums.STENCIL_OP_KEEP,stencilZPassOpBack:C$Tzt.enums.STENCIL_OP_KEEP,stencilWriteMaskBack:255,cullMode:C$Tzt.enums.CULL_BACK,primitiveType:C$Tzt.enums.PT_TRIANGLES,maxStream:-1,vertexBuffers:[],vertexBufferOffsets:[],indexBuffer:null,maxTextureSlot:-1,textureUnits:[],program:null};function C$Tzr(C$Tzt){this.vertexBuffers=new Array(C$Tzt._caps.maxVertexStreams),this.vertexBufferOffsets=new Array(C$Tzt._caps.maxVertexStreams),this.textureUnits=new Array(C$Tzt._caps.maxTextureUnits),this.set(C$Tzn);}C$Tzr.initDefault=function(C$Tzt){C$Tzn.vertexBuffers=new Array(C$Tzt._caps.maxVertexStreams),C$Tzn.vertexBufferOffsets=new Array(C$Tzt._caps.maxVertexStreams),C$Tzn.textureUnits=new Array(C$Tzt._caps.maxTextureUnits);},(C$Tzt=C$Tzr.prototype).reset=function(){this.set(C$Tzn);},C$Tzt.set=function(C$Tzt){this.blend=C$Tzt.blend,this.blendSep=C$Tzt.blendSep,this.blendColor=C$Tzt.blendColor,this.blendEq=C$Tzt.blendEq,this.blendAlphaEq=C$Tzt.blendAlphaEq,this.blendSrc=C$Tzt.blendSrc,this.blendDst=C$Tzt.blendDst,this.blendSrcAlpha=C$Tzt.blendSrcAlpha,this.blendDstAlpha=C$Tzt.blendDstAlpha,this.depthTest=C$Tzt.depthTest,this.depthWrite=C$Tzt.depthWrite,this.depthFunc=C$Tzt.depthFunc,this.stencilTest=C$Tzt.stencilTest,this.stencilSep=C$Tzt.stencilSep,this.stencilFuncFront=C$Tzt.stencilFuncFront,this.stencilRefFront=C$Tzt.stencilRefFront,this.stencilMaskFront=C$Tzt.stencilMaskFront,this.stencilFailOpFront=C$Tzt.stencilFailOpFront,this.stencilZFailOpFront=C$Tzt.stencilZFailOpFront,this.stencilZPassOpFront=C$Tzt.stencilZPassOpFront,this.stencilWriteMaskFront=C$Tzt.stencilWriteMaskFront,this.stencilFuncBack=C$Tzt.stencilFuncBack,this.stencilRefBack=C$Tzt.stencilRefBack,this.stencilMaskBack=C$Tzt.stencilMaskBack,this.stencilFailOpBack=C$Tzt.stencilFailOpBack,this.stencilZFailOpBack=C$Tzt.stencilZFailOpBack,this.stencilZPassOpBack=C$Tzt.stencilZPassOpBack,this.stencilWriteMaskBack=C$Tzt.stencilWriteMaskBack,this.cullMode=C$Tzt.cullMode,this.primitiveType=C$Tzt.primitiveType,this.maxStream=C$Tzt.maxStream;for(var C$Tze=0;C$Tze<C$Tzt.vertexBuffers.length;++C$Tze)this.vertexBuffers[C$Tze]=C$Tzt.vertexBuffers[C$Tze];for(var C$Tzi=0;C$Tzi<C$Tzt.vertexBufferOffsets.length;++C$Tzi)this.vertexBufferOffsets[C$Tzi]=C$Tzt.vertexBufferOffsets[C$Tzi];this.indexBuffer=C$Tzt.indexBuffer,this.maxTextureSlot=C$Tzt.maxTextureSlot;for(var C$Tzn=0;C$Tzn<C$Tzt.textureUnits.length;++C$Tzn)this.textureUnits[C$Tzn]=C$Tzt.textureUnits[C$Tzn];this.program=C$Tzt.program;},C$Tzi.default=C$Tzr,C$Tze.exports=C$Tzi.default;},{"./enums":309}],317:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=(C$Tzn=C$Tzt(H[2543]))&&C$Tzn.__esModule?C$Tzn:{default:C$Tzn},C$Tzo=C$Tzt(H[1087]),C$Tzs=C$Tzt(H[1721]);function C$Tzr(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tza(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tza(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tza(C$Tzt){return(C$Tza=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}C$Tzc=C$Tzn.default,C$Tzt=C$Tzc,(C$Tzn=C$Tzl).prototype=Object.create(C$Tzt.prototype),(C$Tzn.prototype.constructor=C$Tzn).__proto__=C$Tzt,C$Tzr(C$Tzl),(C$Tzn=C$Tzl.prototype).update=function(C$Tzt){var C$Tze,C$Tzi,C$Tzn=this._device._gl,C$Tzr=this._genMipmap;C$Tzt&&(void 0!==C$Tzt.width&&(this._width=C$Tzt.width),void 0!==C$Tzt.height&&(this._height=C$Tzt.height),void 0!==C$Tzt.anisotropy&&(this._anisotropy=C$Tzt.anisotropy),void 0!==C$Tzt.minFilter&&(this._minFilter=C$Tzt.minFilter),void 0!==C$Tzt.magFilter&&(this._magFilter=C$Tzt.magFilter),void 0!==C$Tzt.mipFilter&&(this._mipFilter=C$Tzt.mipFilter),void 0!==C$Tzt.wrapS&&(this._wrapS=C$Tzt.wrapS),void 0!==C$Tzt.wrapT&&(this._wrapT=C$Tzt.wrapT),void 0!==C$Tzt.format&&(this._format=C$Tzt.format,this._compressed=this._format>=C$Tzo.enums.TEXTURE_FMT_RGB_DXT1&&this._format<=C$Tzo.enums.TEXTURE_FMT_RGBA_PVRTC_4BPPV1||this._format>=C$Tzo.enums.TEXTURE_FMT_RGB_ETC2&&this._format<=C$Tzo.enums.TEXTURE_FMT_RGBA_ETC2),void 0!==C$Tzt.genMipmaps&&(this._genMipmap=C$Tzt.genMipmaps,C$Tzr=C$Tzt.genMipmaps),(C$Tze=this._device.caps.maxTextureSize||Number.MAX_VALUE)<(C$Tzi=Math.max(C$Tzt.width||0,C$Tzt.height||0))&&console.warn(H[2551]+C$Tzi+H[2552]+C$Tze+H[2553]),void 0!==C$Tzt.images&&1<C$Tzt.images.length&&(C$Tzr=!1,(C$Tzt.width>C$Tzt.height?C$Tzt.width:C$Tzt.height)>>C$Tzt.images.length-1!=1&&console.error(H[2554]))),(0,C$Tzs.isPow2)(this._width)&&(0,C$Tzs.isPow2)(this._height)||(C$Tzr=!1),C$Tzn.activeTexture(C$Tzn.TEXTURE0),C$Tzn.bindTexture(C$Tzn.TEXTURE_2D,this._glID),void 0!==C$Tzt.images&&0<C$Tzt.images.length&&(this._setMipmap(C$Tzt.images,C$Tzt.flipY,C$Tzt.premultiplyAlpha),1<C$Tzt.images.length&&(this._genMipmap=!0)),C$Tzr&&(C$Tzn.hint(C$Tzn.GENERATE_MIPMAP_HINT,C$Tzn.NICEST),C$Tzn.generateMipmap(C$Tzn.TEXTURE_2D),this._genMipmap=!0),this._setTexInfo(),this._device._restoreTexture(0);},C$Tzn.updateSubImage=function(C$Tzt){var C$Tze=this._device._gl,C$Tzi=(0,C$Tzo.glTextureFmt)(this._format);C$Tze.activeTexture(C$Tze.TEXTURE0),C$Tze.bindTexture(C$Tze.TEXTURE_2D,this._glID),this._setSubImage(C$Tzi,C$Tzt),this._device._restoreTexture(0);},C$Tzn.updateImage=function(C$Tzt){var C$Tze=this._device._gl,C$Tzi=(0,C$Tzo.glTextureFmt)(this._format);C$Tze.activeTexture(C$Tze.TEXTURE0),C$Tze.bindTexture(C$Tze.TEXTURE_2D,this._glID),this._setImage(C$Tzi,C$Tzt),this._device._restoreTexture(0);},C$Tzn._setSubImage=function(C$Tzt,C$Tze){var C$Tzi=this._device._gl,C$Tzn=C$Tze.flipY,C$Tzr=C$Tze.premultiplyAlpha,C$Tzs=C$Tze.image;!C$Tzs||ArrayBuffer.isView(C$Tzs)||C$Tzs instanceof ArrayBuffer?(void 0===C$Tzn?C$Tzi.pixelStorei(C$Tzi.UNPACK_FLIP_Y_WEBGL,!1):C$Tzi.pixelStorei(C$Tzi.UNPACK_FLIP_Y_WEBGL,C$Tzn),void 0===C$Tzr?C$Tzi.pixelStorei(C$Tzi.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1):C$Tzi.pixelStorei(C$Tzi.UNPACK_PREMULTIPLY_ALPHA_WEBGL,C$Tzr),this._compressed?C$Tzi.compressedTexSubImage2D(C$Tzi.TEXTURE_2D,C$Tze.level,C$Tze.x,C$Tze.y,C$Tze.width,C$Tze.height,C$Tzt.format,C$Tzs):C$Tzi.texSubImage2D(C$Tzi.TEXTURE_2D,C$Tze.level,C$Tze.x,C$Tze.y,C$Tze.width,C$Tze.height,C$Tzt.format,C$Tzt.pixelType,C$Tzs)):(void 0===C$Tzn?C$Tzi.pixelStorei(C$Tzi.UNPACK_FLIP_Y_WEBGL,!0):C$Tzi.pixelStorei(C$Tzi.UNPACK_FLIP_Y_WEBGL,C$Tzn),void 0===C$Tzr?C$Tzi.pixelStorei(C$Tzi.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1):C$Tzi.pixelStorei(C$Tzi.UNPACK_PREMULTIPLY_ALPHA_WEBGL,C$Tzr),C$Tzi.texSubImage2D(C$Tzi.TEXTURE_2D,C$Tze.level,C$Tze.x,C$Tze.y,C$Tzt.format,C$Tzt.pixelType,C$Tzs));},C$Tzn._setImage=function(C$Tzt,C$Tze){var C$Tzi=this._device._gl,C$Tzn=C$Tze.flipY,C$Tzr=C$Tze.premultiplyAlpha,C$Tzs=C$Tze.image;!C$Tzs||ArrayBuffer.isView(C$Tzs)||C$Tzs instanceof ArrayBuffer?(void 0===C$Tzn?C$Tzi.pixelStorei(C$Tzi.UNPACK_FLIP_Y_WEBGL,!1):C$Tzi.pixelStorei(C$Tzi.UNPACK_FLIP_Y_WEBGL,C$Tzn),void 0===C$Tzr?C$Tzi.pixelStorei(C$Tzi.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1):C$Tzi.pixelStorei(C$Tzi.UNPACK_PREMULTIPLY_ALPHA_WEBGL,C$Tzr),this._compressed?C$Tzi.compressedTexImage2D(C$Tzi.TEXTURE_2D,C$Tze.level,C$Tzt.internalFormat,C$Tze.width,C$Tze.height,0,C$Tzs):C$Tzi.texImage2D(C$Tzi.TEXTURE_2D,C$Tze.level,C$Tzt.internalFormat,C$Tze.width,C$Tze.height,0,C$Tzt.format,C$Tzt.pixelType,C$Tzs)):(void 0===C$Tzn?C$Tzi.pixelStorei(C$Tzi.UNPACK_FLIP_Y_WEBGL,!0):C$Tzi.pixelStorei(C$Tzi.UNPACK_FLIP_Y_WEBGL,C$Tzn),void 0===C$Tzr?C$Tzi.pixelStorei(C$Tzi.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1):C$Tzi.pixelStorei(C$Tzi.UNPACK_PREMULTIPLY_ALPHA_WEBGL,C$Tzr),C$Tzi.texImage2D(C$Tzi.TEXTURE_2D,C$Tze.level,C$Tzt.internalFormat,C$Tzt.format,C$Tzt.pixelType,C$Tzs));},C$Tzn._setMipmap=function(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn=(0,C$Tzo.glTextureFmt)(this._format),C$Tzr={width:this._width,height:this._height,flipY:C$Tze,premultiplyAlpha:C$Tzi,level:0,image:null},C$Tzs=0;C$Tzs<C$Tzt.length;++C$Tzs)C$Tzr.level=C$Tzs,C$Tzr.width=this._width>>C$Tzs,C$Tzr.height=this._height>>C$Tzs,C$Tzr.image=C$Tzt[C$Tzs],this._setImage(C$Tzn,C$Tzr);},C$Tzn._setTexInfo=function(){var C$Tzt=this._device._gl,C$Tze=(0,C$Tzs.isPow2)(this._width)&&(0,C$Tzs.isPow2)(this._height),C$Tzi=(C$Tze||this._wrapS===C$Tzo.enums.WRAP_CLAMP&&this._wrapT===C$Tzo.enums.WRAP_CLAMP||(console.warn(H[2555]),this._wrapS=C$Tzo.enums.WRAP_CLAMP,this._wrapT=C$Tzo.enums.WRAP_CLAMP),this._genMipmap?this._mipFilter:-1),C$Tze=(C$Tze||-1===C$Tzi||(console.warn(H[2556]),C$Tzi=-1),C$Tzt.texParameteri(C$Tzt.TEXTURE_2D,C$Tzt.TEXTURE_MIN_FILTER,(0,C$Tzo.glFilter)(C$Tzt,this._minFilter,C$Tzi)),C$Tzt.texParameteri(C$Tzt.TEXTURE_2D,C$Tzt.TEXTURE_MAG_FILTER,(0,C$Tzo.glFilter)(C$Tzt,this._magFilter,-1)),C$Tzt.texParameteri(C$Tzt.TEXTURE_2D,C$Tzt.TEXTURE_WRAP_S,this._wrapS),C$Tzt.texParameteri(C$Tzt.TEXTURE_2D,C$Tzt.TEXTURE_WRAP_T,this._wrapT),this._device.ext(H[2496]));C$Tze&&C$Tzt.texParameteri(C$Tzt.TEXTURE_2D,C$Tze.TEXTURE_MAX_ANISOTROPY_EXT,this._anisotropy);};var C$Tzc,C$Tzt=C$Tzl;function C$Tzl(C$Tzt,C$Tze){var C$Tzt=C$Tzc.call(this,C$Tzt)||this,C$Tzi=C$Tzt._device._gl;return C$Tzt._target=C$Tzi.TEXTURE_2D,C$Tzt._glID=C$Tzi.createTexture(),C$Tze.images=C$Tze.images||[null],C$Tzt.update(C$Tze),C$Tzt;}C$Tzi.default=C$Tzt,C$Tze.exports=C$Tzi.default;},{"./enums":309,"./misc":313,"./texture":319}],318:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=(C$Tzn=C$Tzt(H[2543]))&&C$Tzn.__esModule?C$Tzn:{default:C$Tzn},C$Tzc=C$Tzt(H[1087]),C$Tzr=C$Tzt(H[1721]);function C$Tzs(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzo(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzo(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzo(C$Tzt){return(C$Tzo=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}C$Tza=C$Tzn.default,C$Tzt=C$Tza,(C$Tzn=C$Tzl).prototype=Object.create(C$Tzt.prototype),(C$Tzn.prototype.constructor=C$Tzn).__proto__=C$Tzt,C$Tzs(C$Tzl),(C$Tzn=C$Tzl.prototype).update=function(C$Tzt){var C$Tze=this._device._gl,C$Tzi=this._genMipmaps;C$Tzt&&(void 0!==C$Tzt.width&&(this._width=C$Tzt.width),void 0!==C$Tzt.height&&(this._height=C$Tzt.height),void 0!==C$Tzt.anisotropy&&(this._anisotropy=C$Tzt.anisotropy),void 0!==C$Tzt.minFilter&&(this._minFilter=C$Tzt.minFilter),void 0!==C$Tzt.magFilter&&(this._magFilter=C$Tzt.magFilter),void 0!==C$Tzt.mipFilter&&(this._mipFilter=C$Tzt.mipFilter),void 0!==C$Tzt.wrapS&&(this._wrapS=C$Tzt.wrapS),void 0!==C$Tzt.wrapT&&(this._wrapT=C$Tzt.wrapT),void 0!==C$Tzt.format&&(this._format=C$Tzt.format,this._compressed=this._format>=C$Tzc.enums.TEXTURE_FMT_RGB_DXT1&&this._format<=C$Tzc.enums.TEXTURE_FMT_RGBA_PVRTC_4BPPV1||this._format>=C$Tzc.enums.TEXTURE_FMT_RGB_ETC2&&this._format<=C$Tzc.enums.TEXTURE_FMT_RGBA_ETC2),void 0!==C$Tzt.genMipmaps&&(this._genMipmaps=C$Tzt.genMipmaps,C$Tzi=C$Tzt.genMipmaps),void 0!==C$Tzt.images&&1<C$Tzt.images.length&&(C$Tzi=!1,C$Tzt.width!==C$Tzt.height&&console.warn(H[2557]),C$Tzt.width>>C$Tzt.images.length-1!=1&&console.error(H[2558]))),(0,C$Tzr.isPow2)(this._width)&&(0,C$Tzr.isPow2)(this._height)||(C$Tzi=!1),C$Tze.activeTexture(C$Tze.TEXTURE0),C$Tze.bindTexture(C$Tze.TEXTURE_CUBE_MAP,this._glID),void 0!==C$Tzt.images&&0<C$Tzt.images.length&&(this._setMipmap(C$Tzt.images,C$Tzt.flipY,C$Tzt.premultiplyAlpha),1<C$Tzt.images.length&&(this._genMipmaps=!0)),C$Tzi&&(C$Tze.hint(C$Tze.GENERATE_MIPMAP_HINT,C$Tze.NICEST),C$Tze.generateMipmap(C$Tze.TEXTURE_CUBE_MAP),this._genMipmaps=!0),this._setTexInfo(),this._device._restoreTexture(0);},C$Tzn.updateSubImage=function(C$Tzt){var C$Tze=this._device._gl,C$Tzi=(0,C$Tzc.glTextureFmt)(this._format);C$Tze.activeTexture(C$Tze.TEXTURE0),C$Tze.bindTexture(C$Tze.TEXTURE_CUBE_MAP,this._glID),this._setSubImage(C$Tzi,C$Tzt),this._device._restoreTexture(0);},C$Tzn.updateImage=function(C$Tzt){var C$Tze=this._device._gl,C$Tzi=(0,C$Tzc.glTextureFmt)(this._format);C$Tze.activeTexture(C$Tze.TEXTURE0),C$Tze.bindTexture(C$Tze.TEXTURE_CUBE_MAP,this._glID),this._setImage(C$Tzi,C$Tzt),this._device._restoreTexture(0);},C$Tzn._setSubImage=function(C$Tzt,C$Tze){var C$Tzi=this._device._gl,C$Tzn=C$Tze.flipY,C$Tzr=C$Tze.premultiplyAlpha,C$Tzs=C$Tze.faceIndex,C$Tzo=C$Tze.image;void 0===C$Tzn?C$Tzi.pixelStorei(C$Tzi.UNPACK_FLIP_Y_WEBGL,!1):C$Tzi.pixelStorei(C$Tzi.UNPACK_FLIP_Y_WEBGL,C$Tzn),void 0===C$Tzr?C$Tzi.pixelStorei(C$Tzi.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1):C$Tzi.pixelStorei(C$Tzi.UNPACK_PREMULTIPLY_ALPHA_WEBGL,C$Tzr),!C$Tzo||ArrayBuffer.isView(C$Tzo)||C$Tzo instanceof ArrayBuffer?this._compressed?C$Tzi.compressedTexSubImage2D(C$Tzi.TEXTURE_CUBE_MAP_POSITIVE_X+C$Tzs,C$Tze.level,C$Tze.x,C$Tze.y,C$Tze.width,C$Tze.height,C$Tzt.format,C$Tzo):C$Tzi.texSubImage2D(C$Tzi.TEXTURE_CUBE_MAP_POSITIVE_X+C$Tzs,C$Tze.level,C$Tze.x,C$Tze.y,C$Tze.width,C$Tze.height,C$Tzt.format,C$Tzt.pixelType,C$Tzo):C$Tzi.texSubImage2D(C$Tzi.TEXTURE_CUBE_MAP_POSITIVE_X+C$Tzs,C$Tze.level,C$Tze.x,C$Tze.y,C$Tzt.format,C$Tzt.pixelType,C$Tzo);},C$Tzn._setImage=function(C$Tzt,C$Tze){var C$Tzi=this._device._gl,C$Tzn=C$Tze.flipY,C$Tzr=C$Tze.premultiplyAlpha,C$Tzs=C$Tze.faceIndex,C$Tzo=C$Tze.image;void 0===C$Tzn?C$Tzi.pixelStorei(C$Tzi.UNPACK_FLIP_Y_WEBGL,!1):C$Tzi.pixelStorei(C$Tzi.UNPACK_FLIP_Y_WEBGL,C$Tzn),void 0===C$Tzr?C$Tzi.pixelStorei(C$Tzi.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1):C$Tzi.pixelStorei(C$Tzi.UNPACK_PREMULTIPLY_ALPHA_WEBGL,C$Tzr),!C$Tzo||ArrayBuffer.isView(C$Tzo)||C$Tzo instanceof ArrayBuffer?this._compressed?C$Tzi.compressedTexImage2D(C$Tzi.TEXTURE_CUBE_MAP_POSITIVE_X+C$Tzs,C$Tze.level,C$Tzt.internalFormat,C$Tze.width,C$Tze.height,0,C$Tzo):C$Tzi.texImage2D(C$Tzi.TEXTURE_CUBE_MAP_POSITIVE_X+C$Tzs,C$Tze.level,C$Tzt.internalFormat,C$Tze.width,C$Tze.height,0,C$Tzt.format,C$Tzt.pixelType,C$Tzo):C$Tzi.texImage2D(C$Tzi.TEXTURE_CUBE_MAP_POSITIVE_X+C$Tzs,C$Tze.level,C$Tzt.internalFormat,C$Tzt.format,C$Tzt.pixelType,C$Tzo);},C$Tzn._setMipmap=function(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn=(0,C$Tzc.glTextureFmt)(this._format),C$Tzr={width:this._width,height:this._height,faceIndex:0,flipY:C$Tze,premultiplyAlpha:C$Tzi,level:0,image:null},C$Tzs=0;C$Tzs<C$Tzt.length;++C$Tzs){var C$Tzo=C$Tzt[C$Tzs];C$Tzr.level=C$Tzs,C$Tzr.width=this._width>>C$Tzs,C$Tzr.height=this._height>>C$Tzs;for(var C$Tza=0;C$Tza<6;++C$Tza)C$Tzr.faceIndex=C$Tza,C$Tzr.image=C$Tzo[C$Tza],this._setImage(C$Tzn,C$Tzr);}},C$Tzn._setTexInfo=function(){var C$Tzt=this._device._gl,C$Tze=(0,C$Tzr.isPow2)(this._width)&&(0,C$Tzr.isPow2)(this._height),C$Tzi=(C$Tze||this._wrapS===C$Tzc.enums.WRAP_CLAMP&&this._wrapT===C$Tzc.enums.WRAP_CLAMP||(console.warn(H[2555]),this._wrapS=C$Tzc.enums.WRAP_CLAMP,this._wrapT=C$Tzc.enums.WRAP_CLAMP),this._genMipmaps?this._mipFilter:-1),C$Tze=(C$Tze||-1===C$Tzi||(console.warn(H[2556]),C$Tzi=-1),C$Tzt.texParameteri(C$Tzt.TEXTURE_CUBE_MAP,C$Tzt.TEXTURE_MIN_FILTER,(0,C$Tzc.glFilter)(C$Tzt,this._minFilter,C$Tzi)),C$Tzt.texParameteri(C$Tzt.TEXTURE_CUBE_MAP,C$Tzt.TEXTURE_MAG_FILTER,(0,C$Tzc.glFilter)(C$Tzt,this._magFilter,-1)),C$Tzt.texParameteri(C$Tzt.TEXTURE_CUBE_MAP,C$Tzt.TEXTURE_WRAP_S,this._wrapS),C$Tzt.texParameteri(C$Tzt.TEXTURE_CUBE_MAP,C$Tzt.TEXTURE_WRAP_T,this._wrapT),this._device.ext(H[2496]));C$Tze&&C$Tzt.texParameteri(C$Tzt.TEXTURE_CUBE_MAP,C$Tze.TEXTURE_MAX_ANISOTROPY_EXT,this._anisotropy);};var C$Tza,C$Tzt=C$Tzl;function C$Tzl(C$Tzt,C$Tze){var C$Tzt=C$Tza.call(this,C$Tzt)||this,C$Tzi=C$Tzt._device._gl;return C$Tzt._target=C$Tzi.TEXTURE_CUBE_MAP,C$Tzt._glID=C$Tzi.createTexture(),C$Tzt.update(C$Tze),C$Tzt;}C$Tzi.default=C$Tzt,C$Tze.exports=C$Tzi.default;},{"./enums":309,"./misc":313,"./texture":319}],319:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=C$Tzt(H[1087]),C$Tzr=0;function C$Tzs(C$Tzt){this._device=C$Tzt,this._width=4,this._height=4,this._genMipmaps=!1,this._compressed=!1,this._anisotropy=1,this._minFilter=C$Tzn.enums.FILTER_LINEAR,this._magFilter=C$Tzn.enums.FILTER_LINEAR,this._mipFilter=C$Tzn.enums.FILTER_LINEAR,this._wrapS=C$Tzn.enums.WRAP_REPEAT,this._wrapT=C$Tzn.enums.WRAP_REPEAT,this._format=C$Tzn.enums.TEXTURE_FMT_RGBA8,this._target=-1,this._id=C$Tzr++;}C$Tzs.prototype.destroy=function(){null!==this._glID?(this._device._gl.deleteTexture(this._glID),this._device._stats.tex-=this.bytes,this._glID=null):console.error(H[2559]);},C$Tzi.default=C$Tzs,C$Tze.exports=C$Tzi.default;},{"./enums":309}],320:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;C$Tzt(H[1087]);function C$Tzn(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}(C$Tzt=C$Tzo.prototype).destroy=function(){-1!==this._glID?(this._device._gl.deleteBuffer(this._glID),this._device._stats.vb-=this.bytes,this._glID=-1):console.error(H[2537]);},C$Tzt.update=function(C$Tzt,C$Tze){if(-1!==this._glID){if(0!==C$Tze.byteLength){if(C$Tzt+C$Tze.byteLength>this._bytes){if(C$Tzt)return void console.error(H[2538]);this._needExpandDataStore=!0,this._bytes=C$Tzt+C$Tze.byteLength,this._numVertices=this._bytes/this._bytesPerVertex;}var C$Tzi=this._device._gl,C$Tzn=this._usage;C$Tzi.bindBuffer(C$Tzi.ARRAY_BUFFER,this._glID),this._needExpandDataStore?(C$Tzi.bufferData(C$Tzi.ARRAY_BUFFER,C$Tze,C$Tzn),this._needExpandDataStore=!1):C$Tzi.bufferSubData(C$Tzi.ARRAY_BUFFER,C$Tzt,C$Tze),C$Tzi.bindBuffer(C$Tzi.ARRAY_BUFFER,null);}}else console.error(H[2539]);},C$Tzt.getFormat=function(C$Tzt){return this._format.element(C$Tzt);},C$Tzt.setUsage=function(C$Tzt){this._usage=C$Tzt;},C$Tzt=C$Tzo,(C$Tzs=[{key:H[2465],get:function(){return this._numVertices;}}])&&C$Tzn(C$Tzt.prototype,C$Tzs),C$Tzr&&C$Tzn(C$Tzt,C$Tzr);var C$Tzr,C$Tzs=C$Tzo;function C$Tzo(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._device=C$Tzt,this._format=C$Tze,this._usage=C$Tzi,this._bytesPerVertex=this._format._bytes,this._bytes=C$Tzn.byteLength,this._numVertices=this._bytes/this._bytesPerVertex,this._needExpandDataStore=!0,this._glID=C$Tzt._gl.createBuffer(),this.update(0,C$Tzn),C$Tzt._stats.vb+=this._bytes;}C$Tzi.default=C$Tzs,C$Tze.exports=C$Tzi.default;},{"./enums":309}],321:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tza=C$Tzt(H[1087]),C$Tzc=(C$Tzt=C$Tzt(H[2560]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzn(C$Tzt){this._attr2el={},this._elements=[];for(var C$Tze="",C$Tzi=this._bytes=0,C$Tzn=C$Tzt.length;C$Tzi<C$Tzn;++C$Tzi){var C$Tzr=C$Tzt[C$Tzi],C$Tzr={name:C$Tzr.name,offset:this._bytes,stride:0,stream:-1,type:C$Tzr.type,num:C$Tzr.num,normalize:void 0!==C$Tzr.normalize&&C$Tzr.normalize,bytes:C$Tzr.num*(0,C$Tza.attrTypeBytes)(C$Tzr.type)};this._attr2el[C$Tzr.name]=C$Tzr,this._elements.push(C$Tzr),this._bytes+=C$Tzr.bytes,C$Tze+=C$Tzr.name+":"+C$Tzr.num+":"+C$Tzr.type+":"+C$Tzr.normalize;}for(var C$Tzs=0,C$Tzo=this._elements.length;C$Tzs<C$Tzo;++C$Tzs)this._elements[C$Tzs].stride=this._bytes;this._hash=(0,C$Tzc.default)(C$Tze,666);}(C$Tzt=C$Tzn.prototype).element=function(C$Tzt){return this._attr2el[C$Tzt];},C$Tzt.getHash=function(){return this._hash;},C$Tzi.default=C$Tzn,C$Tze.exports=C$Tzi.default;},{"../murmurhash2_gc":330,"./enums":309}],322:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(C$Tzt,C$Tze){this._cursor=0,this._data=new Array(C$Tze);for(var C$Tzi=0;C$Tzi<C$Tze;++C$Tzi)this._data[C$Tzi]=C$Tzt();}C$Tzi.__esModule=!0,C$Tzi.default=void 0,C$Tzn.prototype.request=function(){var C$Tzt=this._data[this._cursor];return this._cursor=(this._cursor+1)%this._data.length,C$Tzt;},C$Tzi.default=C$Tzn,C$Tze.exports=C$Tzi.default;},{}],323:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=(C$Tzt=C$Tzt(H[2561]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzr(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}(C$Tzt=C$Tza.prototype)._resize=function(C$Tzt){if(C$Tzt>this._data.length)for(var C$Tze=this._data.length;C$Tze<C$Tzt;++C$Tze)this._data[C$Tze]=void 0;},C$Tzt.reset=function(){for(var C$Tzt=0;C$Tzt<this._count;++C$Tzt)this._data[C$Tzt]=void 0;this._count=0;},C$Tzt.push=function(C$Tzt){this._count>=this._data.length&&this._resize(2*this._data.length),this._data[this._count]=C$Tzt,++this._count;},C$Tzt.pop=function(){--this._count,this._count<0&&(this._count=0);var C$Tzt=this._data[this._count];return this._data[this._count]=void 0,C$Tzt;},C$Tzt.fastRemove=function(C$Tzt){var C$Tze;C$Tzt>=this._count||C$Tzt<0||(C$Tze=this._count-1,this._data[C$Tzt]=this._data[C$Tze],this._data[C$Tze]=void 0,--this._count);},C$Tzt.indexOf=function(C$Tzt){return this._data.indexOf(C$Tzt);},C$Tzt.sort=function(C$Tzt){return(0,C$Tzn.default)(this._data,0,this._count,C$Tzt);},C$Tzt=C$Tza,(C$Tzo=[{key:H[2562],get:function(){return this._count;}},{key:H[2563],get:function(){return this._data;}}])&&C$Tzr(C$Tzt.prototype,C$Tzo),C$Tzs&&C$Tzr(C$Tzt,C$Tzs);var C$Tzs,C$Tzo=C$Tza;function C$Tza(C$Tzt){this._count=0,this._data=new Array(C$Tzt);}C$Tzi.default=C$Tzo,C$Tze.exports=C$Tzi.default;},{"./timsort":328}],324:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.TypedArrayPool=C$Tzi.RecyclePool=C$Tzi.Pool=C$Tzi.LinkedArray=C$Tzi.FixedArray=C$Tzi.CircularPool=void 0;var C$Tzn=C$Tzr(C$Tzt(H[2564])),C$Tzn=(C$Tzi.CircularPool=C$Tzn.default,C$Tzr(C$Tzt(H[2565]))),C$Tzn=(C$Tzi.FixedArray=C$Tzn.default,C$Tzr(C$Tzt(H[2566]))),C$Tzn=(C$Tzi.LinkedArray=C$Tzn.default,C$Tzr(C$Tzt(H[2567]))),C$Tzn=(C$Tzi.Pool=C$Tzn.default,C$Tzr(C$Tzt(H[2568]))),C$Tzn=(C$Tzi.RecyclePool=C$Tzn.default,C$Tzr(C$Tzt(H[2569])));function C$Tzr(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}C$Tzi.TypedArrayPool=C$Tzn.default;},{"./circular-pool":322,"./fixed-array":323,"./linked-array":325,"./pool":326,"./recycle-pool":327,"./typed-array-pool":329}],325:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=(C$Tzt=C$Tzt(H[2567]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzr(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}(C$Tzt=C$Tza.prototype).add=function(){var C$Tzt=this._pool.alloc();return this._tail?(this._tail._next=C$Tzt)._prev=this._tail:this._head=C$Tzt,this._tail=C$Tzt,this._count+=1,C$Tzt;},C$Tzt.remove=function(C$Tzt){C$Tzt._prev?C$Tzt._prev._next=C$Tzt._next:this._head=C$Tzt._next,C$Tzt._next?C$Tzt._next._prev=C$Tzt._prev:this._tail=C$Tzt._prev,C$Tzt._next=null,C$Tzt._prev=null,this._pool.free(C$Tzt),--this._count;},C$Tzt.forEach=function(C$Tzt,C$Tze){var C$Tzi=this._head;if(C$Tzi){C$Tze&&(C$Tzt=C$Tzt.bind(C$Tze));for(var C$Tzn,C$Tzr=0;C$Tzi;)C$Tzn=C$Tzi._next,C$Tzt(C$Tzi,C$Tzr,this),C$Tzi=C$Tzn,++C$Tzr;}},C$Tzt=C$Tza,(C$Tzo=[{key:H[2570],get:function(){return this._head;}},{key:H[2571],get:function(){return this._tail;}},{key:H[2562],get:function(){return this._count;}}])&&C$Tzr(C$Tzt.prototype,C$Tzo),C$Tzs&&C$Tzr(C$Tzt,C$Tzs);var C$Tzs,C$Tzo=C$Tza;function C$Tza(C$Tzt,C$Tze){this._fn=C$Tzt,this._count=0,this._head=null,this._tail=null,this._pool=new C$Tzn.default(C$Tzt,C$Tze);}C$Tzi.default=C$Tzo,C$Tze.exports=C$Tzi.default;},{"./pool":326}],326:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn;function C$Tzr(C$Tzt,C$Tze){this._fn=C$Tzt,this._idx=C$Tze-1,this._frees=new Array(C$Tze);for(var C$Tzi=0;C$Tzi<C$Tze;++C$Tzi)this._frees[C$Tzi]=C$Tzt();}C$Tzi.__esModule=!0,C$Tzi.default=void 0,(C$Tzn=C$Tzr.prototype)._expand=function(C$Tzt){for(var C$Tze=this._frees,C$Tzi=(this._frees=new Array(C$Tzt),C$Tzt-C$Tze.length),C$Tzn=0;C$Tzn<C$Tzi;++C$Tzn)this._frees[C$Tzn]=this._fn();for(var C$Tzr=C$Tzi,C$Tzs=0;C$Tzr<C$Tzt;++C$Tzr,++C$Tzs)this._frees[C$Tzr]=C$Tze[C$Tzs];this._idx+=C$Tzi;},C$Tzn.alloc=function(){this._idx<0&&this._expand(Math.round(1.2*this._frees.length)+1);var C$Tzt=this._frees[this._idx];return this._frees[this._idx]=null,--this._idx,C$Tzt;},C$Tzn.free=function(C$Tzt){++this._idx,this._frees[this._idx]=C$Tzt;},C$Tzn.clear=function(C$Tzt){for(var C$Tze=0;C$Tze<=this._idx;C$Tze++)C$Tzt&&C$Tzt(this._frees[C$Tze]);this._frees.length=0,this._idx=-1;},C$Tzi.default=C$Tzr,C$Tze.exports=C$Tzi.default;},{}],327:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=(C$Tzt=C$Tzt(H[2561]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzr(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}(C$Tzt=C$Tza.prototype).reset=function(){this._count=0;},C$Tzt.resize=function(C$Tzt){if(C$Tzt>this._data.length)for(var C$Tze=this._data.length;C$Tze<C$Tzt;++C$Tze)this._data[C$Tze]=this._fn();},C$Tzt.add=function(){return this._count>=this._data.length&&this.resize(2*this._data.length),this._data[this._count++];},C$Tzt.remove=function(C$Tzt){var C$Tze,C$Tzi;C$Tzt>=this._count||(C$Tze=this._count-1,C$Tzi=this._data[C$Tzt],this._data[C$Tzt]=this._data[C$Tze],this._data[C$Tze]=C$Tzi,--this._count);},C$Tzt.sort=function(C$Tzt){return(0,C$Tzn.default)(this._data,0,this._count,C$Tzt);},C$Tzt=C$Tza,(C$Tzo=[{key:H[2562],get:function(){return this._count;}},{key:H[2563],get:function(){return this._data;}}])&&C$Tzr(C$Tzt.prototype,C$Tzo),C$Tzs&&C$Tzr(C$Tzt,C$Tzs);var C$Tzs,C$Tzo=C$Tza;function C$Tza(C$Tzt,C$Tze){this._fn=C$Tzt,this._count=0,this._data=new Array(C$Tze);for(var C$Tzi=0;C$Tzi<C$Tze;++C$Tzi)this._data[C$Tzi]=C$Tzt();}C$Tzi.default=C$Tzo,cc.RecyclePool=C$Tzo,C$Tze.exports=C$Tzi.default;},{"./timsort":328}],328:[function(C$Tzn,C$Tzr,C$Tzt){"use strict";C$Tzt.__esModule=!0,C$Tzt.default=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){if(!Array.isArray(C$Tzt))throw new TypeError(H[2572]);void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=C$Tzt.length),void 0===C$Tzn&&(C$Tzn=C$Tz_);var C$Tzr=C$Tzi-C$Tze;if(!(C$Tzr<2)){var C$Tzs=0;if(C$Tzr<C$Tzl)C$Tzs=C$Tzh(C$Tzt,C$Tze,C$Tzi,C$Tzn),C$Tzu(C$Tzt,C$Tze,C$Tzi,C$Tze+C$Tzs,C$Tzn);else{var C$Tzo,C$Tza=new C$Tzd(C$Tzt,C$Tzn),C$Tzc=function(C$Tzt){var C$Tze=0;for(;C$Tzl<=C$Tzt;)C$Tze|=1&C$Tzt,C$Tzt>>=1;return C$Tzt+C$Tze;}(C$Tzr);do{}while(((C$Tzs=C$Tzh(C$Tzt,C$Tze,C$Tzi,C$Tzn))<C$Tzc&&(C$Tzu(C$Tzt,C$Tze,C$Tze+(C$Tzo=C$Tzc<(C$Tzo=C$Tzr)?C$Tzc:C$Tzo),C$Tze+C$Tzs,C$Tzn),C$Tzs=C$Tzo),C$Tza.pushRun(C$Tze,C$Tzs),C$Tza.mergeRuns(),C$Tze+=C$Tzs,0!==(C$Tzr-=C$Tzs)));C$Tza.forceMergeRuns();}}};var C$Tzl=32,C$Tzs=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function C$Tzo(C$Tzt){return C$Tzt<1e5?C$Tzt<100?C$Tzt<10?0:1:C$Tzt<1e4?C$Tzt<1e3?2:3:4:C$Tzt<1e7?C$Tzt<1e6?5:6:C$Tzt<1e9?C$Tzt<1e8?7:8:9;}function C$Tz_(C$Tzt,C$Tze){if(C$Tzt===C$Tze)return 0;if(~~C$Tzt===C$Tzt&&~~C$Tze===C$Tze){if(0===C$Tzt||0===C$Tze)return C$Tzt<C$Tze?-1:1;if(C$Tzt<0||C$Tze<0){if(0<=C$Tze)return-1;if(0<=C$Tzt)return 1;C$Tzt=-C$Tzt,C$Tze=-C$Tze;}var C$Tzi=C$Tzo(C$Tzt),C$Tzn=C$Tzo(C$Tze),C$Tzr=0;return C$Tzi<C$Tzn?(C$Tzt*=C$Tzs[C$Tzn-C$Tzi-1],C$Tze/=10,C$Tzr=-1):C$Tzn<C$Tzi&&(C$Tze*=C$Tzs[C$Tzi-C$Tzn-1],C$Tzt/=10,C$Tzr=1),C$Tzt===C$Tze?C$Tzr:C$Tzt<C$Tze?-1:1;}C$Tzi=String(C$Tzt),C$Tzn=String(C$Tze);return C$Tzi===C$Tzn?0:C$Tzi<C$Tzn?-1:1;}function C$Tzh(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tze+1;if(C$Tzr===C$Tzi)return 1;if(C$Tzn(C$Tzt[C$Tzr++],C$Tzt[C$Tze])<0){for(;C$Tzr<C$Tzi&&C$Tzn(C$Tzt[C$Tzr],C$Tzt[C$Tzr-1])<0;)C$Tzr++;var C$Tzs=C$Tzt,C$Tzo=C$Tze,C$Tza=C$Tzr;for(C$Tza--;C$Tzo<C$Tza;){var C$Tzc=C$Tzs[C$Tzo];C$Tzs[C$Tzo++]=C$Tzs[C$Tza],C$Tzs[C$Tza--]=C$Tzc;}}else for(;C$Tzr<C$Tzi&&0<=C$Tzn(C$Tzt[C$Tzr],C$Tzt[C$Tzr-1]);)C$Tzr++;return C$Tzr-C$Tze;}function C$Tzu(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){for(C$Tzn===C$Tze&&C$Tzn++;C$Tzn<C$Tzi;C$Tzn++){for(var C$Tzs=C$Tzt[C$Tzn],C$Tzo=C$Tze,C$Tza=C$Tzn;C$Tzo<C$Tza;){var C$Tzc=C$Tzo+C$Tza>>>1;C$Tzr(C$Tzs,C$Tzt[C$Tzc])<0?C$Tza=C$Tzc:C$Tzo=1+C$Tzc;}var C$Tzl=C$Tzn-C$Tzo;switch(C$Tzl){case 3:C$Tzt[C$Tzo+3]=C$Tzt[C$Tzo+2];case 2:C$Tzt[C$Tzo+2]=C$Tzt[C$Tzo+1];case 1:C$Tzt[C$Tzo+1]=C$Tzt[C$Tzo];break;default:for(;0<C$Tzl;)C$Tzt[C$Tzo+C$Tzl]=C$Tzt[C$Tzo+C$Tzl-1],C$Tzl--;}C$Tzt[C$Tzo]=C$Tzs;}}function C$Tzy(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){var C$Tzo=0,C$Tza=0,C$Tzc=1;if(0<C$Tzs(C$Tzt,C$Tze[C$Tzi+C$Tzr])){for(C$Tza=C$Tzn-C$Tzr;C$Tzc<C$Tza&&0<C$Tzs(C$Tzt,C$Tze[C$Tzi+C$Tzr+C$Tzc]);)(C$Tzc=1+((C$Tzo=C$Tzc)<<1))<=0&&(C$Tzc=C$Tza);C$Tza<C$Tzc&&(C$Tzc=C$Tza),C$Tzo+=C$Tzr,C$Tzc+=C$Tzr;}else{for(C$Tza=C$Tzr+1;C$Tzc<C$Tza&&C$Tzs(C$Tzt,C$Tze[C$Tzi+C$Tzr-C$Tzc])<=0;)(C$Tzc=1+((C$Tzo=C$Tzc)<<1))<=0&&(C$Tzc=C$Tza);C$Tzn=C$Tzo,C$Tzo=C$Tzr-(C$Tzc=C$Tza<C$Tzc?C$Tza:C$Tzc),C$Tzc=C$Tzr-C$Tzn;}for(C$Tzo++;C$Tzo<C$Tzc;){var C$Tzl=C$Tzo+(C$Tzc-C$Tzo>>>1);0<C$Tzs(C$Tzt,C$Tze[C$Tzi+C$Tzl])?C$Tzo=C$Tzl+1:C$Tzc=C$Tzl;}return C$Tzc;}function C$Tzg(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){var C$Tzo=0,C$Tza=0,C$Tzc=1;if(C$Tzs(C$Tzt,C$Tze[C$Tzi+C$Tzr])<0){for(C$Tza=C$Tzr+1;C$Tzc<C$Tza&&C$Tzs(C$Tzt,C$Tze[C$Tzi+C$Tzr-C$Tzc])<0;)(C$Tzc=1+((C$Tzo=C$Tzc)<<1))<=0&&(C$Tzc=C$Tza);var C$Tzh=C$Tzo,C$Tzo=C$Tzr-(C$Tzc=C$Tza<C$Tzc?C$Tza:C$Tzc),C$Tzc=C$Tzr-C$Tzh;}else{for(C$Tza=C$Tzn-C$Tzr;C$Tzc<C$Tza&&0<=C$Tzs(C$Tzt,C$Tze[C$Tzi+C$Tzr+C$Tzc]);)(C$Tzc=1+((C$Tzo=C$Tzc)<<1))<=0&&(C$Tzc=C$Tza);C$Tza<C$Tzc&&(C$Tzc=C$Tza),C$Tzo+=C$Tzr,C$Tzc+=C$Tzr;}for(C$Tzo++;C$Tzo<C$Tzc;){var C$Tzl=C$Tzo+(C$Tzc-C$Tzo>>>1);C$Tzs(C$Tzt,C$Tze[C$Tzi+C$Tzl])<0?C$Tzc=C$Tzl:C$Tzo=C$Tzl+1;}return C$Tzc;}(C$Tze=C$Tzi.prototype).pushRun=function(C$Tzt,C$Tze){this.runStart[this.stackSize]=C$Tzt,this.runLength[this.stackSize]=C$Tze,this.stackSize+=1;},C$Tze.mergeRuns=function(){for(;1<this.stackSize;){var C$Tzt=this.stackSize-2;if(1<=C$Tzt&&this.runLength[C$Tzt-1]<=this.runLength[C$Tzt]+this.runLength[C$Tzt+1]||2<=C$Tzt&&this.runLength[C$Tzt-2]<=this.runLength[C$Tzt]+this.runLength[C$Tzt-1])this.runLength[C$Tzt-1]<this.runLength[C$Tzt+1]&&C$Tzt--;else if(this.runLength[C$Tzt]>this.runLength[C$Tzt+1])break;this.mergeAt(C$Tzt);}},C$Tze.forceMergeRuns=function(){for(;1<this.stackSize;){var C$Tzt=this.stackSize-2;0<C$Tzt&&this.runLength[C$Tzt-1]<this.runLength[C$Tzt+1]&&C$Tzt--,this.mergeAt(C$Tzt);}},C$Tze.mergeAt=function(C$Tzt){var C$Tze=this.compare,C$Tzi=this.array,C$Tzn=this.runStart[C$Tzt],C$Tzr=this.runLength[C$Tzt],C$Tzs=this.runStart[C$Tzt+1],C$Tzo=this.runLength[C$Tzt+1],C$Tzt=(this.runLength[C$Tzt]=C$Tzr+C$Tzo,C$Tzt===this.stackSize-3&&(this.runStart[C$Tzt+1]=this.runStart[C$Tzt+2],this.runLength[C$Tzt+1]=this.runLength[C$Tzt+2]),this.stackSize--,C$Tzg(C$Tzi[C$Tzs],C$Tzi,C$Tzn,C$Tzr,0,C$Tze));C$Tzn+=C$Tzt,0!=(C$Tzr-=C$Tzt)&&0!==(C$Tzo=C$Tzy(C$Tzi[C$Tzn+C$Tzr-1],C$Tzi,C$Tzs,C$Tzo,C$Tzo-1,C$Tze))&&(C$Tzr<=C$Tzo?this.mergeLow(C$Tzn,C$Tzr,C$Tzs,C$Tzo):this.mergeHigh(C$Tzn,C$Tzr,C$Tzs,C$Tzo));},C$Tze.mergeLow=function(C$Tzh,C$Tzt,C$Tzu,C$Tze){for(var C$Tz_=this.compare,C$Tzi=this.array,C$Tzn=this.tmp,C$Tzr=0,C$Tzr=0;C$Tzr<C$Tzt;C$Tzr++)C$Tzn[C$Tzr]=C$Tzi[C$Tzh+C$Tzr];var C$Tzs=0,C$Tzo=C$Tzu,C$Tza=C$Tzh;if(C$Tzi[C$Tza++]=C$Tzi[C$Tzo++],0!=--C$Tze){if(1!==C$Tzt){for(var C$Tzd=this.minGallop;;){var C$Tzc=0,C$Tzl=0,C$Tzf=!1;do{if(C$Tz_(C$Tzi[C$Tzo],C$Tzn[C$Tzs])<0){if(C$Tzi[C$Tza++]=C$Tzi[C$Tzo++],C$Tzl++,(C$Tzc=0)==--C$Tze){C$Tzf=!0;break;}}else if(C$Tzi[C$Tza++]=C$Tzn[C$Tzs++],C$Tzc++,C$Tzl=0,1==--C$Tzt){C$Tzf=!0;break;}}while((C$Tzc|C$Tzl)<C$Tzd);if(C$Tzf)break;do{if(0!==(C$Tzc=C$Tzg(C$Tzi[C$Tzo],C$Tzn,C$Tzs,C$Tzt,0,C$Tz_))){for(C$Tzr=0;C$Tzr<C$Tzc;C$Tzr++)C$Tzi[C$Tza+C$Tzr]=C$Tzn[C$Tzs+C$Tzr];if(C$Tza+=C$Tzc,C$Tzs+=C$Tzc,(C$Tzt-=C$Tzc)<=1){C$Tzf=!0;break;}}if(C$Tzi[C$Tza++]=C$Tzi[C$Tzo++],0==--C$Tze){C$Tzf=!0;break;}if(0!==(C$Tzl=C$Tzy(C$Tzn[C$Tzs],C$Tzi,C$Tzo,C$Tze,0,C$Tz_))){for(C$Tzr=0;C$Tzr<C$Tzl;C$Tzr++)C$Tzi[C$Tza+C$Tzr]=C$Tzi[C$Tzo+C$Tzr];if(C$Tza+=C$Tzl,C$Tzo+=C$Tzl,0===(C$Tze-=C$Tzl)){C$Tzf=!0;break;}}if(C$Tzi[C$Tza++]=C$Tzn[C$Tzs++],1==--C$Tzt){C$Tzf=!0;break;}}while((C$Tzd--,7<=C$Tzc||7<=C$Tzl));if(C$Tzf)break;C$Tzd<0&&(C$Tzd=0),C$Tzd+=2;}if((this.minGallop=C$Tzd)<1&&(this.minGallop=1),1===C$Tzt){for(C$Tzr=0;C$Tzr<C$Tze;C$Tzr++)C$Tzi[C$Tza+C$Tzr]=C$Tzi[C$Tzo+C$Tzr];C$Tzi[C$Tza+C$Tze]=C$Tzn[C$Tzs];}else{if(0===C$Tzt)throw new Error(H[2573]);for(C$Tzr=0;C$Tzr<C$Tzt;C$Tzr++)C$Tzi[C$Tza+C$Tzr]=C$Tzn[C$Tzs+C$Tzr];}}else{for(C$Tzr=0;C$Tzr<C$Tze;C$Tzr++)C$Tzi[C$Tza+C$Tzr]=C$Tzi[C$Tzo+C$Tzr];C$Tzi[C$Tza+C$Tze]=C$Tzn[C$Tzs];}}else for(C$Tzr=0;C$Tzr<C$Tzt;C$Tzr++)C$Tzi[C$Tza+C$Tzr]=C$Tzn[C$Tzs+C$Tzr];},C$Tze.mergeHigh=function(C$Tzh,C$Tzt,C$Tzu,C$Tze){for(var C$Tz_=this.compare,C$Tzi=this.array,C$Tzn=this.tmp,C$Tzr=0,C$Tzr=0;C$Tzr<C$Tze;C$Tzr++)C$Tzn[C$Tzr]=C$Tzi[C$Tzu+C$Tzr];var C$Tzs=C$Tzh+C$Tzt-1,C$Tzd=C$Tze-1,C$Tzo=C$Tzu+C$Tze-1,C$Tza=0,C$Tzf=0;if(C$Tzi[C$Tzo--]=C$Tzi[C$Tzs--],0!=--C$Tzt){if(1!==C$Tze){for(var C$Tzp=this.minGallop;;){var C$Tzc=0,C$Tzl=0,C$Tzm=!1;do{if(C$Tz_(C$Tzn[C$Tzd],C$Tzi[C$Tzs])<0){if(C$Tzi[C$Tzo--]=C$Tzi[C$Tzs--],C$Tzc++,(C$Tzl=0)==--C$Tzt){C$Tzm=!0;break;}}else if(C$Tzi[C$Tzo--]=C$Tzn[C$Tzd--],C$Tzl++,C$Tzc=0,1==--C$Tze){C$Tzm=!0;break;}}while((C$Tzc|C$Tzl)<C$Tzp);if(C$Tzm)break;do{if(0!==(C$Tzc=C$Tzt-C$Tzg(C$Tzn[C$Tzd],C$Tzi,C$Tzh,C$Tzt,C$Tzt-1,C$Tz_))){for(C$Tzt-=C$Tzc,C$Tzf=(C$Tzo-=C$Tzc)+1,C$Tza=(C$Tzs-=C$Tzc)+1,C$Tzr=C$Tzc-1;0<=C$Tzr;C$Tzr--)C$Tzi[C$Tzf+C$Tzr]=C$Tzi[C$Tza+C$Tzr];if(0===C$Tzt){C$Tzm=!0;break;}}if(C$Tzi[C$Tzo--]=C$Tzn[C$Tzd--],1==--C$Tze){C$Tzm=!0;break;}if(0!==(C$Tzl=C$Tze-C$Tzy(C$Tzi[C$Tzs],C$Tzn,0,C$Tze,C$Tze-1,C$Tz_))){for(C$Tze-=C$Tzl,C$Tzf=(C$Tzo-=C$Tzl)+1,C$Tza=(C$Tzd-=C$Tzl)+1,C$Tzr=0;C$Tzr<C$Tzl;C$Tzr++)C$Tzi[C$Tzf+C$Tzr]=C$Tzn[C$Tza+C$Tzr];if(C$Tze<=1){C$Tzm=!0;break;}}if(C$Tzi[C$Tzo--]=C$Tzi[C$Tzs--],0==--C$Tzt){C$Tzm=!0;break;}}while((C$Tzp--,7<=C$Tzc||7<=C$Tzl));if(C$Tzm)break;C$Tzp<0&&(C$Tzp=0),C$Tzp+=2;}if((this.minGallop=C$Tzp)<1&&(this.minGallop=1),1===C$Tze){for(C$Tzf=(C$Tzo-=C$Tzt)+1,C$Tza=(C$Tzs-=C$Tzt)+1,C$Tzr=C$Tzt-1;0<=C$Tzr;C$Tzr--)C$Tzi[C$Tzf+C$Tzr]=C$Tzi[C$Tza+C$Tzr];C$Tzi[C$Tzo]=C$Tzn[C$Tzd];}else{if(0===C$Tze)throw new Error(H[2574]);for(C$Tza=C$Tzo-(C$Tze-1),C$Tzr=0;C$Tzr<C$Tze;C$Tzr++)C$Tzi[C$Tza+C$Tzr]=C$Tzn[C$Tzr];}}else{for(C$Tzf=(C$Tzo-=C$Tzt)+1,C$Tza=(C$Tzs-=C$Tzt)+1,C$Tzr=C$Tzt-1;0<=C$Tzr;C$Tzr--)C$Tzi[C$Tzf+C$Tzr]=C$Tzi[C$Tza+C$Tzr];C$Tzi[C$Tzo]=C$Tzn[C$Tzd];}}else for(C$Tza=C$Tzo-(C$Tze-1),C$Tzr=0;C$Tzr<C$Tze;C$Tzr++)C$Tzi[C$Tza+C$Tzr]=C$Tzn[C$Tzr];};var C$Tze,C$Tzd=C$Tzi;function C$Tzi(C$Tzt,C$Tze){this.array=C$Tzt,this.compare=C$Tze,this.minGallop=7,this.length=C$Tzt.length,this.tmpStorageLength=256,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength),this.stackSize=0;}C$Tzr.exports=C$Tzt.default;},{}],329:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;for(var C$Tzn=Array(8),C$Tzr=0;C$Tzr<8;++C$Tzr)C$Tzn[C$Tzr]=[];function C$Tzs(C$Tzt){var C$Tze,C$Tzi=(65535<C$Tzt)<<4;return(C$Tzi=(C$Tzi|=C$Tze=(255<(C$Tzt>>>=C$Tzi))<<3)|(C$Tze=(15<(C$Tzt>>>=C$Tze))<<2)|(C$Tze=(3<(C$Tzt>>>=C$Tze))<<1))|(C$Tzt>>>=C$Tze)>>1;}function C$Tzo(C$Tzt){var C$Tzt=function(C$Tzt){for(var C$Tze=16;C$Tze<=1<<28;C$Tze*=16)if(C$Tzt<=C$Tze)return C$Tze;return 0;}(C$Tzt),C$Tze=C$Tzn[C$Tzs(C$Tzt)>>2];return 0<C$Tze.length?C$Tze.pop():new ArrayBuffer(C$Tzt);}C$Tzi.default={alloc_int8:function(C$Tzt){var C$Tze=new Int8Array(C$Tzo(C$Tzt),0,C$Tzt);return C$Tze.length!==C$Tzt?C$Tze.subarray(0,C$Tzt):C$Tze;},alloc_uint8:function(C$Tzt){var C$Tze=new Uint8Array(C$Tzo(C$Tzt),0,C$Tzt);return C$Tze.length!==C$Tzt?C$Tze.subarray(0,C$Tzt):C$Tze;},alloc_int16:function(C$Tzt){var C$Tze=new Int16Array(C$Tzo(2*C$Tzt),0,C$Tzt);return C$Tze.length!==C$Tzt?C$Tze.subarray(0,C$Tzt):C$Tze;},alloc_uint16:function(C$Tzt){var C$Tze=new Uint16Array(C$Tzo(2*C$Tzt),0,C$Tzt);return C$Tze.length!==C$Tzt?C$Tze.subarray(0,C$Tzt):C$Tze;},alloc_int32:function(C$Tzt){var C$Tze=new Int32Array(C$Tzo(4*C$Tzt),0,C$Tzt);return C$Tze.length!==C$Tzt?C$Tze.subarray(0,C$Tzt):C$Tze;},alloc_uint32:function(C$Tzt){var C$Tze=new Uint32Array(C$Tzo(4*C$Tzt),0,C$Tzt);return C$Tze.length!==C$Tzt?C$Tze.subarray(0,C$Tzt):C$Tze;},alloc_float32:function(C$Tzt){var C$Tze=new Float32Array(C$Tzo(4*C$Tzt),0,C$Tzt);return C$Tze.length!==C$Tzt?C$Tze.subarray(0,C$Tzt):C$Tze;},alloc_float64:function(C$Tzt){var C$Tze=new Float64Array(C$Tzo(8*C$Tzt),0,C$Tzt);return C$Tze.length!==C$Tzt?C$Tze.subarray(0,C$Tzt):C$Tze;},alloc_dataview:function(C$Tzt){var C$Tze=new DataView(C$Tzo(C$Tzt),0,C$Tzt);return C$Tze.length!==C$Tzt?C$Tze.subarray(0,C$Tzt):C$Tze;},free:function(C$Tzt){C$Tzt=C$Tzt.buffer,C$Tzn[C$Tzs(C$Tzt.byteLength)>>2].push(C$Tzt);},reset:function(){for(var C$Tzt=Array(8),C$Tze=0;C$Tze<8;++C$Tze)C$Tzt[C$Tze]=[];}},C$Tze.exports=C$Tzi.default;},{}],330:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn=C$Tzt.length,C$Tzr=C$Tze^C$Tzn,C$Tzs=0;for(;4<=C$Tzn;)C$Tzi=1540483477*(65535&(C$Tzi=255&C$Tzt.charCodeAt(C$Tzs)|(255&C$Tzt.charCodeAt(++C$Tzs))<<8|(255&C$Tzt.charCodeAt(++C$Tzs))<<16|(255&C$Tzt.charCodeAt(++C$Tzs))<<24))+((1540483477*(C$Tzi>>>16)&65535)<<16),C$Tzr=1540483477*(65535&C$Tzr)+((1540483477*(C$Tzr>>>16)&65535)<<16)^(C$Tzi=1540483477*(65535&(C$Tzi^=C$Tzi>>>24))+((1540483477*(C$Tzi>>>16)&65535)<<16)),C$Tzn-=4,++C$Tzs;switch(C$Tzn){case 3:C$Tzr^=(255&C$Tzt.charCodeAt(C$Tzs+2))<<16;case 2:C$Tzr^=(255&C$Tzt.charCodeAt(C$Tzs+1))<<8;case 1:C$Tzr=1540483477*(65535&(C$Tzr^=255&C$Tzt.charCodeAt(C$Tzs)))+((1540483477*(C$Tzr>>>16)&65535)<<16);}return C$Tzr=1540483477*(65535&(C$Tzr^=C$Tzr>>>13))+((1540483477*(C$Tzr>>>16)&65535)<<16),(C$Tzr^=C$Tzr>>>15)>>>0;},C$Tze.exports=C$Tzi.default;},{}],331:[function(C$Tzt,C$Tzh,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.default=void 0;var C$Tzr=C$Tzt(H[2451]),C$Tzi=C$Tz_(C$Tzt(H[2575])),C$Tzu=C$Tz_(C$Tzt(H[2450])),C$Tzt=C$Tzt(H[2449]);function C$Tz_(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}function C$Tzd(C$Tzn){return function(){var C$Tzt,C$Tze,C$Tzi=C$Tzf(C$Tzn);return C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzf(this).constructor,Reflect.construct(C$Tzi,arguments,C$Tzt)):C$Tzi.apply(this,arguments),C$Tzi=this,!(C$Tze=C$Tzt)||H[802]!=typeof C$Tze&&H[704]!=typeof C$Tze?C$Tzs(C$Tzi):C$Tze;};}function C$Tzs(C$Tzt){if(void 0===C$Tzt)throw new ReferenceError(H[803]);return C$Tzt;}function C$Tzf(C$Tzt){return(C$Tzf=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzn,C$Tzp=new Float32Array(16),C$Tzm=new Float32Array(16),C$Tzy=new Float32Array(16),C$Tzg=new Float32Array(16),C$Tzv=new Float32Array(4),C$Tzx=new Float32Array(64),C$Tzb=[],C$TzA=new Float32Array(4),C$Tzo=new C$Tzr.Vec4(0,0,0,0),C$TzC=new C$Tzr.Vec3(0,0,0),C$Tza=new C$Tzr.Vec3(0,0,0),C$Tzc=new C$Tzt.RecyclePool(function(){return new Float32Array(16);},8),C$Tzt=(C$Tzn=C$Tzi.default,C$Tzt=C$Tzn,(C$Tzi=C$Tzl).prototype=Object.create(C$Tzt.prototype),(C$Tzi.prototype.constructor=C$Tzi).__proto__=C$Tzt,C$Tzd(C$Tzl),(C$Tzi=C$Tzl.prototype).reset=function(){C$Tzc.reset(),C$Tzn.prototype.reset.call(this);},C$Tzi.render=function(C$Tzt,C$Tze){this.reset(),this._time[0]+=C$Tze,this._device.setUniform(H[2576],this._time),this._updateLights(C$Tzt);for(var C$Tzi=this._device._gl.canvas,C$Tzn=0;C$Tzn<C$Tzt._cameras.length;++C$Tzn){var C$Tzr=this._requestView(),C$Tzs=C$Tzi.width,C$Tzo=C$Tzi.height;C$Tzt._cameras.data[C$Tzn].extractView(C$Tzr,C$Tzs,C$Tzo);}this._viewPools.sort(function(C$Tzt,C$Tze){return C$Tzt._priority-C$Tze._priority;});for(var C$Tza=0;C$Tza<this._viewPools.length;++C$Tza){var C$Tzc=this._viewPools.data[C$Tza];this._render(C$Tzc,C$Tzt);}},C$Tzi.renderCamera=function(C$Tzt,C$Tze){this.reset();var C$Tzi=this._device._gl.canvas,C$Tzn=C$Tzi.width,C$Tzi=C$Tzi.height,C$Tzr=this._requestView();C$Tzt.extractView(C$Tzr,C$Tzn,C$Tzi),this._render(C$Tzr,C$Tze);},C$Tzi._updateLights=function(C$Tzt){this._lights.length=0,this._shadowLights.length=0;for(var C$Tze=C$Tzt._lights,C$Tzi=0;C$Tzi<C$Tze.length;++C$Tzi){var C$Tzn,C$Tzr=C$Tze.data[C$Tzi];C$Tzr.update(this._device),C$Tzr.shadowType!==C$Tzu.default.SHADOW_NONE?(this._shadowLights.length<2&&this._shadowLights.splice(0,0,C$Tzr),C$Tzn=this._requestView(),C$Tzr.extractView(C$Tzn,[H[2577]]),this._lights.splice(0,0,C$Tzr)):this._lights.push(C$Tzr);}this._updateLightDefines(),this._numLights=C$Tze._count;},C$Tzi._updateLightDefines=function(){for(var C$Tzt=this._defines,C$Tze=0;C$Tze<this._lights.length;++C$Tze){var C$Tzi=this._lights[C$Tze];C$Tzt[H[2578]+C$Tze+H[2579]]=C$Tzi._type,C$Tzt[H[2580]+C$Tze+H[2579]]=C$Tzi._shadowType;}C$Tzt.CC_NUM_LIGHTS=Math.min(4,this._lights.length),C$Tzt.CC_NUM_SHADOW_LIGHTS=Math.min(4,this._shadowLights.length);},C$Tzi._submitLightsUniforms=function(){var C$Tzt=this._device;if(0<this._lights.length){for(var C$Tze=C$Tzc.add(),C$Tzi=C$Tzc.add(),C$Tzn=C$Tzc.add(),C$Tzr=Math.min(4,this._lights.length),C$Tzs=0;C$Tzs<C$Tzr;++C$Tzs){var C$Tzo=this._lights[C$Tzs],C$Tza=4*C$Tzs;C$Tzn.set(C$Tzo._colorUniform,C$Tza),C$Tzi.set(C$Tzo._directionUniform,C$Tza),C$Tze.set(C$Tzo._positionUniform,C$Tza),C$Tze[3+C$Tza]=C$Tzo._range,C$Tzo._type===C$Tzu.default.LIGHT_SPOT?(C$Tzi[3+C$Tza]=C$Tzo._spotUniform[0],C$Tzn[3+C$Tza]=C$Tzo._spotUniform[1]):(C$Tzi[3+C$Tza]=0,C$Tzn[3+C$Tza]=0);}C$Tzt.setUniform(H[2581],C$Tzi),C$Tzt.setUniform(H[2582],C$Tzn),C$Tzt.setUniform(H[2583],C$Tze);}},C$Tzi._submitShadowStageUniforms=function(C$Tzt){var C$Tze=C$Tzt._shadowLight,C$Tzi=C$TzA;C$Tzi[0]=C$Tze.shadowMinDepth,C$Tzi[1]=C$Tze.shadowMaxDepth,C$Tzi[2]=C$Tze.shadowDepthScale,C$Tzi[3]=C$Tze.shadowDarkness,this._device.setUniform(H[2584],C$Tzr.Mat4.toArray(C$Tzg,C$Tzt._matViewProj)),this._device.setUniform(H[2585],C$Tzi),this._device.setUniform(H[2586],C$Tze.shadowBias),this._defines.CC_SHADOW_TYPE=C$Tze._shadowType;},C$Tzi._submitOtherStagesUniforms=function(){for(var C$Tzt=C$Tzc.add(),C$Tze=0;C$Tze<this._shadowLights.length;++C$Tze){var C$Tzi=this._shadowLights[C$Tze],C$Tzn=(C$Tzn=C$Tzb[C$Tze])||(C$Tzb[C$Tze]=new Float32Array(C$Tzx.buffer,64*C$Tze,16)),C$Tzn=(C$Tzr.Mat4.toArray(C$Tzn,C$Tzi.viewProjMatrix),4*C$Tze);C$Tzt[C$Tzn]=C$Tzi.shadowMinDepth,C$Tzt[1+C$Tzn]=C$Tzi.shadowMaxDepth,C$Tzt[2+C$Tzn]=C$Tzi._shadowResolution,C$Tzt[3+C$Tzn]=C$Tzi.shadowDarkness;}this._device.setUniform(H[2587],C$Tzx),this._device.setUniform(H[2588],C$Tzt);},C$Tzi._sortItems=function(C$Tzt){C$Tzt.sort(function(C$Tzt,C$Tze){return C$Tzt.passes.length!==C$Tze.passes.length?C$Tzt.passes.length-C$Tze.passes.length:C$Tzt.sortKey-C$Tze.sortKey;});},C$Tzi._shadowStage=function(C$Tzt,C$Tze){this._submitShadowStageUniforms(C$Tzt);for(var C$Tzi=0;C$Tzi<C$Tze.length;++C$Tzi){var C$Tzn=C$Tze.data[C$Tzi];C$Tzn.effect.getDefine(H[1237])&&this._draw(C$Tzn);}},C$Tzi._drawItems=function(C$Tzt,C$Tze){var C$Tzi=this._shadowLights;if(0===C$Tzi.length&&0===this._numLights)for(var C$Tzn=0;C$Tzn<C$Tze.length;++C$Tzn){var C$Tzr=C$Tze.data[C$Tzn];this._draw(C$Tzr);}else for(var C$Tzs=0;C$Tzs<C$Tze.length;++C$Tzs){for(var C$Tzo=C$Tze.data[C$Tzs],C$Tza=0;C$Tza<C$Tzi.length;++C$Tza)this._device.setTexture(H[2589]+C$Tza,C$Tzi[C$Tza].shadowMap,this._allocTextureUnit());this._draw(C$Tzo);}},C$Tzi._opaqueStage=function(C$Tzt,C$Tze){C$Tzt.getPosition(C$Tzo),this._device.setUniform(H[2590],C$Tzr.Mat4.toArray(C$Tzp,C$Tzt._matView)),this._device.setUniform(H[2591],C$Tzr.Mat4.toArray(C$Tzm,C$Tzt._matViewInv)),this._device.setUniform(H[2592],C$Tzr.Mat4.toArray(C$Tzy,C$Tzt._matProj)),this._device.setUniform(H[2593],C$Tzr.Mat4.toArray(C$Tzg,C$Tzt._matViewProj)),this._device.setUniform(H[2594],C$Tzr.Vec4.toArray(C$Tzv,C$Tzo)),this._submitLightsUniforms(),this._submitOtherStagesUniforms(),this._drawItems(C$Tzt,C$Tze);},C$Tzi._transparentStage=function(C$Tzt,C$Tze){C$Tzt.getPosition(C$Tzo),C$Tzt.getForward(C$TzC),this._device.setUniform(H[2590],C$Tzr.Mat4.toArray(C$Tzp,C$Tzt._matView)),this._device.setUniform(H[2591],C$Tzr.Mat4.toArray(C$Tzm,C$Tzt._matViewInv)),this._device.setUniform(H[2592],C$Tzr.Mat4.toArray(C$Tzy,C$Tzt._matProj)),this._device.setUniform(H[2593],C$Tzr.Mat4.toArray(C$Tzg,C$Tzt._matViewProj)),this._device.setUniform(H[2594],C$Tzr.Vec4.toArray(C$Tzv,C$Tzo)),this._submitLightsUniforms(),this._submitOtherStagesUniforms();for(var C$Tzi=0;C$Tzi<C$Tze.length;++C$Tzi){var C$Tzn=C$Tze.data[C$Tzi];C$Tzn.node.getWorldPosition(C$Tza),C$Tzr.Vec3.sub(C$Tza,C$Tza,C$Tzo),C$Tzn.sortKey=-C$Tzr.Vec3.dot(C$Tza,C$TzC);}this._sortItems(C$Tze),this._drawItems(C$Tzt,C$Tze);},C$Tzl);function C$Tzl(C$Tzt,C$Tze){C$Tzt=C$Tzn.call(this,C$Tzt,C$Tze)||this;return C$Tzt._time=new Float32Array(4),C$Tzt._lights=[],C$Tzt._shadowLights=[],C$Tzt._numLights=0,C$Tzt._defines={},C$Tzt._registerStage(H[2577],C$Tzt._shadowStage.bind(C$Tzs(C$Tzt))),C$Tzt._registerStage(H[794],C$Tzt._opaqueStage.bind(C$Tzs(C$Tzt))),C$Tzt._registerStage(H[584],C$Tzt._transparentStage.bind(C$Tzs(C$Tzt))),C$Tzt;}C$Tze.default=C$Tzt,C$Tzh.exports=C$Tze.default;},{"../../core/value-types":279,"../core/base-renderer":301,"../enums":307,"../memop":324}],332:[function(C$Tzt,C$Tzi,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.default=void 0;var C$Tza=C$Tzt(H[2451]),C$Tz_=C$Tzt(H[2595]),C$Tzc=(C$Tzt=C$Tzt(H[2450]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};function C$Tzs(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++){var C$Tzn=C$Tze[C$Tzi];C$Tzn.enumerable=C$Tzn.enumerable||!1,C$Tzn.configurable=!0,H[791]in C$Tzn&&(C$Tzn.writable=!0),Object.defineProperty(C$Tzt,C$Tzn.key,C$Tzn);}}var C$Tzd,C$Tzr=new C$Tza.Mat4(),C$Tzf=new C$Tza.Mat4(),C$Tzp=new C$Tza.Mat4(),C$Tzn=new C$Tza.Mat4(),C$Tzo=new C$Tza.Mat4(),C$Tzl=new C$Tza.Mat4(),C$Tzh=new C$Tza.Vec3(),C$Tzu=new C$Tza.Vec3(),C$Tzm=((C$Tzt=C$Tzy.prototype).setCullingMask=function(C$Tzt){this._cullingMask=C$Tzt;},C$Tzt.getNode=function(){return this._node;},C$Tzt.setNode=function(C$Tzt){this._node=C$Tzt;},C$Tzt.getType=function(){return this._projection;},C$Tzt.setType=function(C$Tzt){this._projection=C$Tzt;},C$Tzt.getPriority=function(){return this._priority;},C$Tzt.setPriority=function(C$Tzt){this._priority=C$Tzt;},C$Tzt.getOrthoHeight=function(){return this._orthoHeight;},C$Tzt.setOrthoHeight=function(C$Tzt){this._orthoHeight=C$Tzt;},C$Tzt.getFov=function(){return this._fov;},C$Tzt.setFov=function(C$Tzt){this._fov=C$Tzt;},C$Tzt.getNear=function(){return this._near;},C$Tzt.setNear=function(C$Tzt){this._near=C$Tzt;},C$Tzt.getFar=function(){return this._far;},C$Tzt.setFar=function(C$Tzt){this._far=C$Tzt;},C$Tzt.getColor=function(C$Tzt){return C$Tza.Vec4.copy(C$Tzt,this._color);},C$Tzt.setColor=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tza.Vec4.set(this._color,C$Tzt,C$Tze,C$Tzi,C$Tzn);},C$Tzt.getDepth=function(){return this._depth;},C$Tzt.setDepth=function(C$Tzt){this._depth=C$Tzt;},C$Tzt.getStencil=function(){return this._stencil;},C$Tzt.setStencil=function(C$Tzt){this._stencil=C$Tzt;},C$Tzt.getClearFlags=function(){return this._clearFlags;},C$Tzt.setClearFlags=function(C$Tzt){this._clearFlags=C$Tzt;},C$Tzt.getRect=function(C$Tzt){return C$Tzt.x=this._rect.x,C$Tzt.y=this._rect.y,C$Tzt.w=this._rect.w,C$Tzt.h=this._rect.h,C$Tzt;},C$Tzt.setRect=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._rect.x=C$Tzt,this._rect.y=C$Tze,this._rect.w=C$Tzi,this._rect.h=C$Tzn;},C$Tzt.getStages=function(){return this._stages;},C$Tzt.setStages=function(C$Tzt){this._stages=C$Tzt;},C$Tzt.getFramebuffer=function(){return this._framebuffer;},C$Tzt.setFrameBuffer=function(C$Tzt){this._framebuffer=C$Tzt;},C$Tzt._calcMatrices=function(C$Tzt,C$Tze){this._node.getWorldRT(C$Tzp),C$Tza.Mat4.invert(C$Tzf,C$Tzp);var C$Tzt=C$Tzt/C$Tze;this._projection===C$Tzc.default.PROJ_PERSPECTIVE?C$Tza.Mat4.perspective(C$Tzn,this._fov,C$Tzt,this._near,this._far):(C$Tze=this._orthoHeight*C$Tzt,C$Tzt=this._orthoHeight,C$Tza.Mat4.ortho(C$Tzn,-C$Tze,C$Tze,-C$Tzt,C$Tzt,this._near,this._far)),C$Tza.Mat4.mul(C$Tzo,C$Tzn,C$Tzf),C$Tza.Mat4.invert(C$Tzl,C$Tzo);},C$Tzt.extractView=function(C$Tzt,C$Tze,C$Tzi){this._framebuffer&&(C$Tze=this._framebuffer._width,C$Tzi=this._framebuffer._height),C$Tzt._priority=this._priority,C$Tzt._rect.x=this._rect.x*C$Tze,C$Tzt._rect.y=this._rect.y*C$Tzi,C$Tzt._rect.w=this._rect.w*C$Tze,C$Tzt._rect.h=this._rect.h*C$Tzi,this.getColor(C$Tzt._color),C$Tzt._depth=this._depth,C$Tzt._stencil=this._stencil,C$Tzt._clearFlags=this._clearFlags,C$Tzt._clearModel=this._clearModel,C$Tzt._stages=this._stages,C$Tzt._framebuffer=this._framebuffer,this._calcMatrices(C$Tze,C$Tzi),C$Tza.Mat4.copy(C$Tzt._matView,C$Tzf),C$Tza.Mat4.copy(C$Tzt._matViewInv,C$Tzp),C$Tza.Mat4.copy(C$Tzt._matProj,C$Tzn),C$Tza.Mat4.copy(C$Tzt._matViewProj,C$Tzo),C$Tza.Mat4.copy(C$Tzt._matInvViewProj,C$Tzl),C$Tzt._cullingMask=this._cullingMask;},C$Tzt.screenPointToRay=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){if(!cc.geomUtils)return C$Tzr;C$Tzr=C$Tzr||new C$Tz_.Ray(),this._calcMatrices(C$Tzi,C$Tzn);var C$Tzs=this._rect.x*C$Tzi,C$Tzo=this._rect.y*C$Tzn,C$Tzi=this._rect.w*C$Tzi,C$Tzn=this._rect.h*C$Tzn;return C$Tza.Vec3.set(C$Tzu,(C$Tzt-C$Tzs)/C$Tzi*2-1,(C$Tze-C$Tzo)/C$Tzn*2-1,1),C$Tza.Vec3.transformMat4(C$Tzu,C$Tzu,C$Tzl),this._projection===C$Tzc.default.PROJ_PERSPECTIVE?this._node.getWorldPosition(C$Tzh):(C$Tza.Vec3.set(C$Tzh,(C$Tzt-C$Tzs)/C$Tzi*2-1,(C$Tze-C$Tzo)/C$Tzn*2-1,-1),C$Tza.Vec3.transformMat4(C$Tzh,C$Tzh,C$Tzl)),C$Tz_.Ray.fromPoints(C$Tzr,C$Tzh,C$Tzu);},C$Tzt.screenToWorld=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._calcMatrices(C$Tzi,C$Tzn);var C$Tzr=this._rect.x*C$Tzi,C$Tzs=this._rect.y*C$Tzn,C$Tzi=this._rect.w*C$Tzi,C$Tzn=this._rect.h*C$Tzn;return this._projection===C$Tzc.default.PROJ_PERSPECTIVE?(C$Tza.Vec3.set(C$Tzt,(C$Tze.x-C$Tzr)/C$Tzi*2-1,(C$Tze.y-C$Tzs)/C$Tzn*2-1,.9999),C$Tza.Vec3.transformMat4(C$Tzt,C$Tzt,C$Tzl),this._node.getWorldPosition(C$Tzh),C$Tza.Vec3.lerp(C$Tzt,C$Tzh,C$Tzt,(0,C$Tza.lerp)(this._near/this._far,1,C$Tze.z))):(C$Tza.Vec3.set(C$Tzt,(C$Tze.x-C$Tzr)/C$Tzi*2-1,(C$Tze.y-C$Tzs)/C$Tzn*2-1,2*C$Tze.z-1),C$Tza.Vec3.transformMat4(C$Tzt,C$Tzt,C$Tzl)),C$Tzt;},C$Tzt.worldToScreen=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._calcMatrices(C$Tzi,C$Tzn);var C$Tzr=this._rect.x*C$Tzi,C$Tzs=this._rect.y*C$Tzn,C$Tzi=this._rect.w*C$Tzi,C$Tzn=this._rect.h*C$Tzn;return C$Tza.Vec3.transformMat4(C$Tzt,C$Tze,C$Tzo),C$Tzt.x=C$Tzr+.5*(C$Tzt.x+1)*C$Tzi,C$Tzt.y=C$Tzs+.5*(C$Tzt.y+1)*C$Tzn,C$Tzt.z=.5*C$Tzt.z+.5,C$Tzt;},C$Tzt.worldMatrixToScreen=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this._calcMatrices(C$Tzi,C$Tzn),C$Tza.Mat4.mul(C$Tzt,C$Tzo,C$Tze);C$Tze=C$Tzi/2,C$Tzi=C$Tzn/2;return C$Tza.Mat4.identity(C$Tzr),C$Tza.Mat4.transform(C$Tzr,C$Tzr,C$Tza.Vec3.set(C$Tzh,C$Tze,C$Tzi,0)),C$Tza.Mat4.scale(C$Tzr,C$Tzr,C$Tza.Vec3.set(C$Tzh,C$Tze,C$Tzi,1)),C$Tza.Mat4.mul(C$Tzt,C$Tzr,C$Tzt),C$Tzt;},C$Tzt=C$Tzy,(C$Tzm=[{key:H[2596],get:function(){return this._cullingMask;},set:function(C$Tzt){this._cullingMask=C$Tzt;}}])&&C$Tzs(C$Tzt.prototype,C$Tzm),C$Tzd&&C$Tzs(C$Tzt,C$Tzd),C$Tzy);function C$Tzy(){this._poolID=-1,this._node=null,this._projection=C$Tzc.default.PROJ_PERSPECTIVE,this._priority=0,this._color=new C$Tza.Vec4(.2,.3,.47,1),this._depth=1,this._stencil=0,this._clearFlags=C$Tzc.default.CLEAR_COLOR|C$Tzc.default.CLEAR_DEPTH,this._clearModel=null,this._stages=[],this._framebuffer=null,this._near=.01,this._far=1e3,this._fov=Math.PI/4,this._rect={x:0,y:0,w:1,h:1},this._orthoHeight=10,this._cullingMask=4294967295;}C$Tze.default=C$Tzm,C$Tzi.exports=C$Tze.default;},{"../../core/geom-utils":123,"../../core/value-types":279,"../enums":307}],333:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn;function C$Tzr(){this._type=H[1099],this._poolID=-1,this._node=null,this._inputAssembler=null,this._effect=null,this._viewID=-1,this._cameraID=-1,this._userKey=-1,this._castShadow=!1,this._boundingShape=null;}C$Tzi.__esModule=!0,C$Tzi.default=void 0,(C$Tzn=C$Tzr.prototype).setNode=function(C$Tzt){this._node=C$Tzt;},C$Tzn.setInputAssembler=function(C$Tzt){this._inputAssembler=C$Tzt;},C$Tzn.setEffect=function(C$Tzt){this._effect=C$Tzt;},C$Tzn.setUserKey=function(C$Tzt){this._userKey=C$Tzt;},C$Tzn.extractDrawItem=function(C$Tzt){C$Tzt.model=this,C$Tzt.node=this._node,C$Tzt.ia=this._inputAssembler,C$Tzt.effect=this._effect;},C$Tzi.default=C$Tzr,C$Tze.exports=C$Tzi.default;},{}],334:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=C$Tzt(H[2449]);function C$Tzr(C$Tzt){this._lights=new C$Tzn.FixedArray(16),this._models=new C$Tzn.FixedArray(16),this._cameras=new C$Tzn.FixedArray(16),this._debugCamera=null,this._app=C$Tzt,this._views=[];}(C$Tzt=C$Tzr.prototype)._add=function(C$Tzt,C$Tze){-1===C$Tze._poolID&&(C$Tzt.push(C$Tze),C$Tze._poolID=C$Tzt.length-1);},C$Tzt._remove=function(C$Tzt,C$Tze){-1!==C$Tze._poolID&&(C$Tzt.data[C$Tzt.length-1]._poolID=C$Tze._poolID,C$Tzt.fastRemove(C$Tze._poolID),C$Tze._poolID=-1);},C$Tzt.reset=function(){for(var C$Tzt=0;C$Tzt<this._models.length;++C$Tzt)this._models.data[C$Tzt]._viewID=-1;},C$Tzt.setDebugCamera=function(C$Tzt){this._debugCamera=C$Tzt;},C$Tzt.getCameraCount=function(){return this._cameras.length;},C$Tzt.getCamera=function(C$Tzt){return this._cameras.data[C$Tzt];},C$Tzt.addCamera=function(C$Tzt){this._add(this._cameras,C$Tzt);},C$Tzt.removeCamera=function(C$Tzt){this._remove(this._cameras,C$Tzt);},C$Tzt.getModelCount=function(){return this._models.length;},C$Tzt.getModel=function(C$Tzt){return this._models.data[C$Tzt];},C$Tzt.addModel=function(C$Tzt){this._add(this._models,C$Tzt);},C$Tzt.removeModel=function(C$Tzt){this._remove(this._models,C$Tzt);},C$Tzt.getLightCount=function(){return this._lights.length;},C$Tzt.getLight=function(C$Tzt){return this._lights.data[C$Tzt];},C$Tzt.addLight=function(C$Tzt){this._add(this._lights,C$Tzt);},C$Tzt.removeLight=function(C$Tzt){this._remove(this._lights,C$Tzt);},C$Tzt.addView=function(C$Tzt){-1===this._views.indexOf(C$Tzt)&&this._views.push(C$Tzt);},C$Tzt.removeView=function(C$Tzt){C$Tzt=this._views.indexOf(C$Tzt);-1!==C$Tzt&&this._views.splice(C$Tzt,1);},C$Tzi.default=C$Tzr,C$Tze.exports=C$Tzi.default;},{"../memop":324}],335:[function(C$Tzt,C$Tzh,C$Tze){"use strict";C$Tze.__esModule=!0,C$Tze.getInspectorProps=function(C$Tzt){var C$Tze={type:C$Tzt.type},C$Tzt=(Object.assign(C$Tze,C$Tzt.editor||C$Tzt.inspector),C$Tze.defines=C$Tzt.defines,C$Tze.value=C$Tz_(C$Tze.type)(C$Tzt.value),C$Tzd(C$Tze.type));C$Tze.typeName=C$Tzf[C$Tzt]||C$Tzt,C$Tze.valueCtor=C$Tzc[C$Tze.type],H[746]==C$Tze.typeName&&(C$Tze.typeName=H[706],C$Tze.assetType=H[746]);return C$Tze;},C$Tze.getClassName=C$Tze.getInstanceCtor=C$Tze.getInstanceType=C$Tze.enums2default=C$Tze.ctor2enums=void 0;var C$Tzi,C$Tzn=C$Tzo(C$Tzt(H[1087])),C$Tzr=C$Tzt(H[2597]),C$Tzs=C$Tzo(C$Tzt(H[2598]));function C$Tzo(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};}var C$Tzt=C$Tzt(H[2599]),C$Tza=cc.Object,C$Tzu=((C$Tzi={})[Boolean]=function(C$Tzt){return C$Tzt||!1;},C$Tzi[Number]=function(C$Tzt){return C$Tzt?ArrayBuffer.isView(C$Tzt)?C$Tzt[0]:C$Tzt:0;},C$Tzi[C$Tzr.Vec2]=function(C$Tzt){return C$Tzt?cc.v2(C$Tzt[0],C$Tzt[1]):cc.v2();},C$Tzi[C$Tzr.Vec3]=function(C$Tzt){return C$Tzt?cc.v3(C$Tzt[0],C$Tzt[1],C$Tzt[2]):cc.v3();},C$Tzi[C$Tzr.Vec4]=function(C$Tzt){return C$Tzt?cc.v4(C$Tzt[0],C$Tzt[1],C$Tzt[2],C$Tzt[3]):cc.v4();},C$Tzi[C$Tzr.Color]=function(C$Tzt){return C$Tzt?cc.color(255*C$Tzt[0],255*C$Tzt[1],255*C$Tzt[2],255*(C$Tzt[3]||1)):cc.color();},C$Tzi[C$Tzr.Mat4]=function(C$Tzt){return C$Tzt?cc.mat4(C$Tzt[0],C$Tzt[1],C$Tzt[2],C$Tzt[3],C$Tzt[4],C$Tzt[5],C$Tzt[6],C$Tzt[7],C$Tzt[8],C$Tzt[9],C$Tzt[10],C$Tzt[11],C$Tzt[12],C$Tzt[13],C$Tzt[14],C$Tzt[15]):cc.mat4();},C$Tzi[C$Tzs.default]=function(){return null;},C$Tzi[C$Tza]=function(){return null;},C$Tzi),C$Tzc=((C$Tzi={})[C$Tzn.default.PARAM_INT]=Number,C$Tzi[C$Tzn.default.PARAM_INT2]=C$Tzr.Vec2,C$Tzi[C$Tzn.default.PARAM_INT3]=C$Tzr.Vec3,C$Tzi[C$Tzn.default.PARAM_INT4]=C$Tzr.Vec4,C$Tzi[C$Tzn.default.PARAM_FLOAT]=Number,C$Tzi[C$Tzn.default.PARAM_FLOAT2]=C$Tzr.Vec2,C$Tzi[C$Tzn.default.PARAM_FLOAT3]=C$Tzr.Vec3,C$Tzi[C$Tzn.default.PARAM_FLOAT4]=C$Tzr.Vec4,C$Tzi[C$Tzn.default.PARAM_MAT4]=C$Tzr.Mat4,C$Tzi[C$Tzn.default.PARAM_TEXTURE_2D]=C$Tzs.default,C$Tzi.color=C$Tzr.Color,C$Tzi.number=Number,C$Tzi.boolean=Boolean,C$Tzi.default=C$Tza,C$Tzi);(C$Tza={})[Number]=C$Tzn.default.PARAM_FLOAT,C$Tza[C$Tzr.Vec2]=C$Tzn.default.PARAM_FLOAT2,C$Tza[C$Tzr.Vec3]=C$Tzn.default.PARAM_FLOAT3,C$Tza[C$Tzr.Vec4]=C$Tzn.default.PARAM_FLOAT4,C$Tza[C$Tzr.Color]=C$Tzn.default.PARAM_COLOR3,C$Tza[C$Tzr.Color]=C$Tzn.default.PARAM_COLOR4,C$Tza[C$Tzr.Mat4]=C$Tzn.default.PARAM_MAT4,C$Tza[C$Tzs.default]=C$Tzn.default.PARAM_TEXTURE_2D,C$Tza[C$Tzt]=C$Tzn.default.PARAM_TEXTURE_2D;function C$Tzl(C$Tzt){return C$Tzc[C$Tzt]||C$Tzc.default;}C$Tze.ctor2enums=C$Tza,(C$Tzi={})[C$Tzn.default.PARAM_INT]=new Uint32Array([0]),C$Tzi[C$Tzn.default.PARAM_INT2]=new Uint32Array([0,0]),C$Tzi[C$Tzn.default.PARAM_INT3]=new Uint32Array([0,0,0]),C$Tzi[C$Tzn.default.PARAM_INT4]=new Uint32Array([0,0,0,0]),C$Tzi[C$Tzn.default.PARAM_FLOAT]=new Float32Array([0]),C$Tzi[C$Tzn.default.PARAM_FLOAT2]=new Float32Array([0,0]),C$Tzi[C$Tzn.default.PARAM_FLOAT3]=new Float32Array([0,0,0]),C$Tzi[C$Tzn.default.PARAM_FLOAT4]=new Float32Array([0,0,0,0]),C$Tzi[C$Tzn.default.PARAM_MAT4]=cc.mat4().m,C$Tzi[C$Tzn.default.PARAM_TEXTURE_2D]=null,C$Tzi.number=0,C$Tzi.boolean=!1;var C$Tzr=C$Tzi,C$Tz_=(C$Tze.enums2default=C$Tzr,C$Tze.getInstanceType=C$Tzl,function(C$Tzt){return C$Tzu[C$Tzl(C$Tzt)];}),C$Tzd=(C$Tze.getInstanceCtor=C$Tz_,function(C$Tzt){return cc.js.getClassName(C$Tzl(C$Tzt));}),C$Tzf=(C$Tze.getClassName=C$Tzd,{Number:H[463],Boolean:H[635]});},{"../core/assets/CCTexture2D":50,"../core/value-types":279,"./enums":307,"./gfx/texture-2d":317}],336:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tz_=C$Tzt(H[2145]),C$Tzd=C$Tzt(H[2138]),C$Tzn=C$Tzt(H[452]);function C$Tzu(C$Tzt){if(!C$Tzt)return cc.color(0,0,0,255);var C$Tze;if(8===(C$Tzt=-1!==C$Tzt.indexOf("#")?C$Tzt.substring(1):C$Tzt).length)return C$Tze=parseInt(C$Tzt.substr(0,2),16)||255,C$Tzi=parseInt(C$Tzt.substr(2,2),16)||0,C$Tzn=parseInt(C$Tzt.substr(4,2),16)||0,C$Tzr=parseInt(C$Tzt.substr(6,2),16)||0,cc.color(C$Tzi,C$Tzn,C$Tzr,C$Tze);var C$Tzi=parseInt(C$Tzt.substr(0,2),16)||0,C$Tzn=parseInt(C$Tzt.substr(2,2),16)||0,C$Tzr=parseInt(C$Tzt.substr(4,2),16)||0;return cc.color(C$Tzi,C$Tzn,C$Tzr,255);}function C$TzG(C$Tzt,C$Tze){for(var C$Tzi=[],C$Tzn=C$Tzt.getElementsByTagName(H[1337]),C$Tzr=0;C$Tzr<C$Tzn.length;++C$Tzr)for(var C$Tzs=C$Tzn[C$Tzr].getElementsByTagName(H[2600]),C$Tzo=0;C$Tzo<C$Tzs.length;++C$Tzo)C$Tzi.push(C$Tzs[C$Tzo]);C$Tze=C$Tze||{};for(var C$Tza=0;C$Tza<C$Tzi.length;C$Tza++){var C$Tzc=C$Tzi[C$Tza],C$Tzh=C$Tzc.getAttribute(H[488]),C$Tzl=C$Tzc.getAttribute(H[1102])||H[462],C$Tzc=C$Tzc.getAttribute(H[791]);H[2441]===C$Tzl?C$Tzc=parseInt(C$Tzc):H[2445]===C$Tzl?C$Tzc=parseFloat(C$Tzc):H[2440]===C$Tzl?C$Tzc=H[583]===C$Tzc:H[1737]===C$Tzl&&(C$Tzc=C$Tzu(C$Tzc)),C$Tze[C$Tzh]=C$Tzc;}return C$Tze;}C$Tzt(H[2601]),cc.TMXLayerInfo=function(){this.properties={},this.name="",this._layerSize=null,this._tiles=[],this.visible=!0,this._opacity=0,this.ownTiles=!0,this._minGID=1e5,this._maxGID=0,this.offset=cc.v2(0,0);},cc.TMXLayerInfo.prototype={constructor:cc.TMXLayerInfo,getProperties:function(){return this.properties;},setProperties:function(C$Tzt){this.properties=C$Tzt;}},cc.TMXImageLayerInfo=function(){this.name="",this.visible=!0,this.width=0,this.height=0,this.offset=cc.v2(0,0),this._opacity=0,this._trans=new cc.Color(255,255,255,255),this.sourceImage=null;},cc.TMXObjectGroupInfo=function(){this.properties={},this.name="",this._objects=[],this.visible=!0,this._opacity=0,this._color=new cc.Color(255,255,255,255),this.offset=cc.v2(0,0),this._draworder=H[2602];},cc.TMXObjectGroupInfo.prototype={constructor:cc.TMXObjectGroupInfo,getProperties:function(){return this.properties;},setProperties:function(C$Tzt){this.properties=C$Tzt;}},cc.TMXTilesetInfo=function(){this.name="",this.firstGid=0,this.spacing=0,this.margin=0,this.sourceImage=null,this.imageSize=cc.size(0,0),this.tileOffset=cc.v2(0,0),this._tileSize=cc.size(0,0);},cc.TMXTilesetInfo.prototype={constructor:cc.TMXTilesetInfo,rectForGID:function(C$Tzt,C$Tze){var C$Tze=C$Tze||cc.rect(0,0,0,0),C$Tzi=(C$Tze.width=this._tileSize.width,C$Tze.height=this._tileSize.height,C$Tzt=(C$Tzt&=cc.TiledMap.TileFlag.FLIPPED_MASK)-parseInt(this.firstGid,10),parseInt((this.imageSize.width-2*this.margin+this.spacing)/(this._tileSize.width+this.spacing),10));return C$Tze.x=parseInt(C$Tzt%C$Tzi*(this._tileSize.width+this.spacing)+this.margin,10),C$Tze.y=parseInt(parseInt(C$Tzt/C$Tzi,10)*(this._tileSize.height+this.spacing)+this.margin,10),C$Tze;}},cc.TMXMapInfo=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){this.properties=[],this.orientation=null,this.parentElement=null,this.parentGID=null,this.layerAttrs=0,this.storingCharacters=!1,this.currentString=null,this.renderOrder=cc.TiledMap.RenderOrder.RightDown,this._supportVersion=[1,2,0],this._parser=new cc.SAXParser(),this._objectGroups=[],this._allChildren=[],this._mapSize=cc.size(0,0),this._tileSize=cc.size(0,0),this._layers=[],this._tilesets=[],this._imageLayers=[],this._tileProperties={},this._tileAnimations={},this._tsxMap=null,this._textures=null,this._staggerAxis=null,this._staggerIndex=null,this._hexSideLength=0,this._imageLayerTextures=null,this.initWithXML(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr);},cc.TMXMapInfo.prototype={constructor:cc.TMXMapInfo,getOrientation:function(){return this.orientation;},setOrientation:function(C$Tzt){this.orientation=C$Tzt;},getStaggerAxis:function(){return this._staggerAxis;},setStaggerAxis:function(C$Tzt){this._staggerAxis=C$Tzt;},getStaggerIndex:function(){return this._staggerIndex;},setStaggerIndex:function(C$Tzt){this._staggerIndex=C$Tzt;},getHexSideLength:function(){return this._hexSideLength;},setHexSideLength:function(C$Tzt){this._hexSideLength=C$Tzt;},getMapSize:function(){return cc.size(this._mapSize.width,this._mapSize.height);},setMapSize:function(C$Tzt){this._mapSize.width=C$Tzt.width,this._mapSize.height=C$Tzt.height;},_getMapWidth:function(){return this._mapSize.width;},_setMapWidth:function(C$Tzt){this._mapSize.width=C$Tzt;},_getMapHeight:function(){return this._mapSize.height;},_setMapHeight:function(C$Tzt){this._mapSize.height=C$Tzt;},getTileSize:function(){return cc.size(this._tileSize.width,this._tileSize.height);},setTileSize:function(C$Tzt){this._tileSize.width=C$Tzt.width,this._tileSize.height=C$Tzt.height;},_getTileWidth:function(){return this._tileSize.width;},_setTileWidth:function(C$Tzt){this._tileSize.width=C$Tzt;},_getTileHeight:function(){return this._tileSize.height;},_setTileHeight:function(C$Tzt){this._tileSize.height=C$Tzt;},getLayers:function(){return this._layers;},setLayers:function(C$Tzt){this._allChildren.push(C$Tzt),this._layers.push(C$Tzt);},getImageLayers:function(){return this._imageLayers;},setImageLayers:function(C$Tzt){this._allChildren.push(C$Tzt),this._imageLayers.push(C$Tzt);},getTilesets:function(){return this._tilesets;},setTilesets:function(C$Tzt){this._tilesets.push(C$Tzt);},getObjectGroups:function(){return this._objectGroups;},setObjectGroups:function(C$Tzt){this._allChildren.push(C$Tzt),this._objectGroups.push(C$Tzt);},getAllChildren:function(){return this._allChildren;},getParentElement:function(){return this.parentElement;},setParentElement:function(C$Tzt){this.parentElement=C$Tzt;},getParentGID:function(){return this.parentGID;},setParentGID:function(C$Tzt){this.parentGID=C$Tzt;},getLayerAttribs:function(){return this.layerAttrs;},setLayerAttribs:function(C$Tzt){this.layerAttrs=C$Tzt;},getStoringCharacters:function(){return this.storingCharacters;},setStoringCharacters:function(C$Tzt){this.storingCharacters=C$Tzt;},getProperties:function(){return this.properties;},setProperties:function(C$Tzt){this.properties=C$Tzt;},initWithXML:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return this._tilesets.length=0,this._layers.length=0,this._imageLayers.length=0,this._tsxMap=C$Tze,this._textures=C$Tzi,this._imageLayerTextures=C$Tzr,this._textureSizes=C$Tzn,this._objectGroups.length=0,this._allChildren.length=0,this.properties.length=0,this._tileProperties={},this._tileAnimations={},this.currentString="",this.storingCharacters=!1,this.layerAttrs=cc.TMXLayerInfo.ATTRIB_NONE,this.parentElement=cc.TiledMap.NONE,this.parseXMLString(C$Tzt);},parseXMLString:function(C$Tzt,C$Tzh){var C$Tzt=this._parser._parseXML(C$Tzt).documentElement,C$Tze=C$Tzt.getAttribute(H[2603]),C$Tzu=C$Tzt.getAttribute(H[2604]),C$Tz_=C$Tzt.getAttribute(H[2605]),C$Tzd=C$Tzt.getAttribute(H[2606]),C$Tzf=C$Tzt.getAttribute(H[2607]),C$Tzp=C$Tzt.getAttribute(H[2608])||H[2609];if(H[2610]===C$Tzt.nodeName){for(var C$Tzm=C$Tzp.split("."),C$Tzy=this._supportVersion,C$Tzi=0;C$Tzi<C$Tzy.length;C$Tzi++){var C$Tzg=parseInt(C$Tzm[C$Tzi])||0;if(C$Tzy[C$Tzi]<C$Tzg){cc.logID(7216,C$Tzp);break;}}H[2611]===C$Tze?this.orientation=cc.TiledMap.Orientation.ORTHO:H[2612]===C$Tze?this.orientation=cc.TiledMap.Orientation.ISO:H[2613]===C$Tze?this.orientation=cc.TiledMap.Orientation.HEX:null!==C$Tze&&cc.logID(7217,C$Tze),this.renderOrder=H[2614]===C$Tzf?cc.TiledMap.RenderOrder.RightUp:H[2615]===C$Tzf?cc.TiledMap.RenderOrder.LeftUp:H[2616]===C$Tzf?cc.TiledMap.RenderOrder.LeftDown:cc.TiledMap.RenderOrder.RightDown,"x"===C$Tzu?this.setStaggerAxis(cc.TiledMap.StaggerAxis.STAGGERAXIS_X):"y"===C$Tzu&&this.setStaggerAxis(cc.TiledMap.StaggerAxis.STAGGERAXIS_Y),H[2617]===C$Tz_?this.setStaggerIndex(cc.TiledMap.StaggerIndex.STAGGERINDEX_ODD):H[2618]===C$Tz_&&this.setStaggerIndex(cc.TiledMap.StaggerIndex.STAGGERINDEX_EVEN),C$Tzd&&this.setHexSideLength(parseFloat(C$Tzd));C$Tze=cc.size(0,0);C$Tze.width=parseFloat(C$Tzt.getAttribute(H[572])),C$Tze.height=parseFloat(C$Tzt.getAttribute(H[574])),this.setMapSize(C$Tze),(C$Tze=cc.size(0,0)).width=parseFloat(C$Tzt.getAttribute(H[2619])),C$Tze.height=parseFloat(C$Tzt.getAttribute(H[2620])),this.setTileSize(C$Tze),this.properties=C$TzG(C$Tzt);}var C$Tzv=C$Tzt.getElementsByTagName(H[2621]);for(H[2610]!==C$Tzt.nodeName&&(C$Tzv=[]).push(C$Tzt),C$Tzc=0;C$Tzc<C$Tzv.length;C$Tzc++){var C$Tzn=C$Tzv[C$Tzc],C$Tzr=C$Tzn.getAttribute(H[2622]);if(C$Tzr){var C$Tzx=parseInt(C$Tzn.getAttribute(H[2623])),C$Tzr=this._tsxMap[C$Tzr];C$Tzr&&this.parseXMLString(C$Tzr,C$Tzx);}else for(var C$Tzr=C$Tzn.getElementsByTagName(H[2624]),C$Tzb=1<C$Tzr.length,C$TzA=(C$TzP=C$Tzr[0]).getAttribute(H[2622]),C$TzC=(C$TzA.replace(/\\/g,"/"),C$Tzn.getElementsByTagName(H[2625])),C$TzS=C$TzC&&C$TzC.length||1,C$Tzs=null,C$TzT=C$Tzn.getAttribute(H[488])||"",C$Tzw=parseInt(C$Tzn.getAttribute(H[2626]))||0,C$TzE=parseInt(C$Tzn.getAttribute(H[2627]))||0,C$TzM=(C$TzM=parseInt(C$Tzh))||parseInt(C$Tzn.getAttribute(H[2623]))||0,C$TzI=cc.size(0,0),C$Tzx=(C$TzI.width=parseFloat(C$Tzn.getAttribute(H[2619])),C$TzI.height=parseFloat(C$Tzn.getAttribute(H[2620])),C$Tzn.getElementsByTagName(H[2628])[0]),C$TzB=cc.v2(0,0),C$Tzo=(C$Tzx&&(C$TzB.x=parseFloat(C$Tzx.getAttribute("x")),C$TzB.y=parseFloat(C$Tzx.getAttribute("y"))),null),C$TzR=0;C$TzR<C$TzS;C$TzR++)if(C$Tzo&&!C$Tzb||((C$Tzo=new cc.TMXTilesetInfo()).name=C$TzT,C$Tzo.firstGid=C$TzM,C$Tzo.spacing=C$Tzw,C$Tzo.margin=C$TzE,C$Tzo._tileSize=C$TzI,C$Tzo.tileOffset=C$TzB,C$Tzo.sourceImage=this._textures[C$TzA],C$Tzo.imageSize=this._textureSizes[C$TzA]||C$Tzo.imageSize,C$Tzo.sourceImage||cc.errorID(7221,C$TzA),this.setTilesets(C$Tzo)),C$Tzs=C$TzC&&C$TzC[C$TzR]){this.parentGID=parseInt(C$TzM)+parseInt(C$Tzs.getAttribute(H[570])||0);var C$TzP,C$Tza=C$Tzs.getElementsByTagName(H[2624]),C$Tza=(C$Tza&&0<C$Tza.length&&((C$Tza=(C$TzP=C$Tza[0]).getAttribute(H[2622])).replace(/\\/g,"/"),C$Tzo.sourceImage=this._textures[C$Tza],C$Tzo.sourceImage||cc.errorID(7221,C$Tza),(C$Tza=cc.size(0,0)).width=parseFloat(C$TzP.getAttribute(H[572])),C$Tza.height=parseFloat(C$TzP.getAttribute(H[574])),C$Tzo._tileSize=C$Tza,C$Tzo.firstGid=this.parentGID),this._tileProperties[this.parentGID]=C$TzG(C$Tzs),C$Tzs.getElementsByTagName(H[2629]));if(C$Tza&&0<C$Tza.length)for(var C$TzD=C$Tza[0].getElementsByTagName(H[2630]),C$Tza={frames:[],dt:0,frameIdx:0},C$TzL=(this._tileAnimations[this.parentGID]=C$Tza).frames,C$TzV=0;C$TzV<C$TzD.length;C$TzV++){var C$TzO=C$TzD[C$TzV],C$TzF=parseInt(C$TzM)+parseInt(C$TzO.getAttribute(H[2631])),C$TzO=parseFloat(C$TzO.getAttribute(H[490]));C$TzL.push({tileid:C$TzF,duration:C$TzO/1e3,grid:null});}}}for(var C$TzN=C$Tzt.childNodes,C$Tzc=0;C$Tzc<C$TzN.length;C$Tzc++){var C$Tzk,C$Tzl=C$TzN[C$Tzc];this._shouldIgnoreNode(C$Tzl)||(H[2632]!==C$Tzl.nodeName||(C$Tzk=this._parseImageLayer(C$Tzl))&&this.setImageLayers(C$Tzk),H[2633]===C$Tzl.nodeName&&(C$Tzk=this._parseLayer(C$Tzl),this.setLayers(C$Tzk)),H[2634]===C$Tzl.nodeName&&(C$Tzl=this._parseObjectGroup(C$Tzl),this.setObjectGroups(C$Tzl)));}return C$Tzt;},_shouldIgnoreNode:function(C$Tzt){return 3===C$Tzt.nodeType||8===C$Tzt.nodeType||4===C$Tzt.nodeType;},_parseImageLayer:function(C$Tzt){var C$Tze=C$Tzt.getElementsByTagName(H[2624]);if(!C$Tze||0==C$Tze.length)return null;var C$Tzi=new cc.TMXImageLayerInfo(),C$Tzn=(C$Tzi.name=C$Tzt.getAttribute(H[488]),C$Tzi.offset.x=parseFloat(C$Tzt.getAttribute(H[2635]))||0,C$Tzi.offset.y=parseFloat(C$Tzt.getAttribute(H[2636]))||0,C$Tzt.getAttribute(H[1346])),C$Tzn=(C$Tzi.visible=!("0"===C$Tzn),C$Tzt.getAttribute(H[1978])||1),C$Tzt=(C$Tzi.opacity=parseInt(255*parseFloat(C$Tzn))||255,C$Tze[0]),C$Tzn=C$Tzt.getAttribute(H[2622]);return C$Tzi.sourceImage=this._imageLayerTextures[C$Tzn],C$Tzi.width=parseInt(C$Tzt.getAttribute(H[572]))||0,C$Tzi.height=parseInt(C$Tzt.getAttribute(H[574]))||0,C$Tzi.trans=C$Tzu(C$Tzt.getAttribute(H[2637])),C$Tzi.sourceImage?C$Tzi:(cc.errorID(7221,C$Tzn),null);},_parseLayer:function(C$Tzt){for(var C$Tze=C$Tzt.getElementsByTagName(H[2563])[0],C$Tzi=new cc.TMXLayerInfo(),C$Tzn=(C$Tzi.name=C$Tzt.getAttribute(H[488]),cc.size(0,0)),C$Tzn=(C$Tzn.width=parseFloat(C$Tzt.getAttribute(H[572])),C$Tzn.height=parseFloat(C$Tzt.getAttribute(H[574])),C$Tzi._layerSize=C$Tzn,C$Tzt.getAttribute(H[1346])),C$Tzn=(C$Tzi.visible=!("0"===C$Tzn),C$Tzt.getAttribute(H[1978])||1),C$Tzr=(C$Tzi._opacity=C$Tzn?parseInt(255*parseFloat(C$Tzn)):255,C$Tzi.offset=cc.v2(parseFloat(C$Tzt.getAttribute(H[2635]))||0,parseFloat(C$Tzt.getAttribute(H[2636]))||0),""),C$Tzs=0;C$Tzs<C$Tze.childNodes.length;C$Tzs++)C$Tzr+=C$Tze.childNodes[C$Tzs].nodeValue;var C$Tzr=C$Tzr.trim(),C$Tzn=C$Tze.getAttribute(H[2638]),C$Tzo=C$Tze.getAttribute(H[2639]);if(C$Tzn&&H[2640]!==C$Tzn&&H[2641]!==C$Tzn)return cc.logID(7218),null;switch(C$Tzn){case H[2640]:C$Tza=C$Tz_.unzipBase64AsArray(C$Tzr,4);break;case H[2641]:var C$Tza=function(C$Tzt){if(C$Tzt.length%4!=0)return null;for(var C$Tze=C$Tzt.length/4,C$Tzi=window.Uint32Array?new Uint32Array(C$Tze):[],C$Tzn=0;C$Tzn<C$Tze;C$Tzn++){var C$Tzr=4*C$Tzn;C$Tzi[C$Tzn]=C$Tzt[C$Tzr]+256*C$Tzt[1+C$Tzr]+65536*C$Tzt[2+C$Tzr]+C$Tzt[3+C$Tzr]*(1<<24);}return C$Tzi;}(new C$Tzd.Inflate(C$Tz_.Base64.decodeAsArray(C$Tzr,1)).decompress());break;case null:case"":if(H[2642]===C$Tzo)C$Tza=C$Tz_.Base64.decodeAsArray(C$Tzr,4);else if(H[2643]===C$Tzo){C$Tza=[];for(var C$Tzh=C$Tzr.split(","),C$Tzc=0;C$Tzc<C$Tzh.length;C$Tzc++)C$Tza.push(parseInt(C$Tzh[C$Tzc]));}else{var C$Tzu=C$Tze.getElementsByTagName(H[2625]);C$Tza=[];for(var C$Tzl=0;C$Tzl<C$Tzu.length;C$Tzl++)C$Tza.push(parseInt(C$Tzu[C$Tzl].getAttribute(H[2644])));}break;default:this.layerAttrs===cc.TMXLayerInfo.ATTRIB_NONE&&cc.logID(7219);}return C$Tza&&(C$Tzi._tiles=new Uint32Array(C$Tza)),C$Tzi.properties=C$TzG(C$Tzt),C$Tzi;},_parseObjectGroup:function(C$Tzt){var C$Tze=new cc.TMXObjectGroupInfo(),C$Tzi=(C$Tze.name=C$Tzt.getAttribute(H[488])||"",C$Tze.offset=cc.v2(parseFloat(C$Tzt.getAttribute(H[2635])),parseFloat(C$Tzt.getAttribute(H[2636]))),C$Tzt.getAttribute(H[1978])||1),C$Tzi=(C$Tze._opacity=C$Tzi?parseInt(255*parseFloat(C$Tzi)):255,C$Tzt.getAttribute(H[1346])),C$Tzi=(C$Tzi&&0===parseInt(C$Tzi)&&(C$Tze.visible=!1),C$Tzt.getAttribute(H[1737])),C$Tzi=(C$Tzi&&C$Tze._color.fromHEX(C$Tzi),C$Tzt.getAttribute(H[2645])),C$Tzn=(C$Tzi&&(C$Tze._draworder=C$Tzi),C$Tze.setProperties(C$TzG(C$Tzt)),C$Tzt.getElementsByTagName(H[802]));if(C$Tzn){for(var C$Tzr=0;C$Tzr<C$Tzn.length;C$Tzr++){var C$Tzs=C$Tzn[C$Tzr],C$Tzo={},C$Tza=(C$Tzo.id=C$Tzs.getAttribute(H[570])||C$Tzr,C$Tzo.name=C$Tzs.getAttribute(H[488])||"",C$Tzo.width=parseFloat(C$Tzs.getAttribute(H[572]))||0,C$Tzo.height=parseFloat(C$Tzs.getAttribute(H[574]))||0,C$Tzo.x=parseFloat(C$Tzs.getAttribute("x"))||0,C$Tzo.y=parseFloat(C$Tzs.getAttribute("y"))||0,C$Tzo.rotation=parseFloat(C$Tzs.getAttribute(H[2646]))||0,C$TzG(C$Tzs,C$Tzo),C$Tzs.getAttribute(H[1346])),C$Tza=(C$Tzo.visible=!(C$Tza&&0===parseInt(C$Tza)),C$Tzs.getElementsByTagName(H[1000])),C$Tza=(C$Tza&&0<C$Tza.length&&(C$Tza=C$Tza[0],C$Tzo.type=cc.TiledMap.TMXObjectType.TEXT,C$Tzo.wrap="1"==C$Tza.getAttribute(H[2647]),C$Tzo.color=C$Tzu(C$Tza.getAttribute(H[1737])),C$Tzo.halign=function(C$Tzt){var C$Tze=cc.Label.HorizontalAlign;switch(C$Tzt){case H[921]:return C$Tze.CENTER;case H[1012]:return C$Tze.RIGHT;default:return C$Tze.LEFT;}}(C$Tza.getAttribute(H[2648])),C$Tzo.valign=function(C$Tzt){var C$Tze=cc.Label.VerticalAlign;switch(C$Tzt){case H[921]:return C$Tze.CENTER;case H[2649]:return C$Tze.BOTTOM;default:return C$Tze.TOP;}}(C$Tza.getAttribute(H[2650])),C$Tzo.pixelsize=parseInt(C$Tza.getAttribute(H[2651]))||16,C$Tzo.text=C$Tza.childNodes[0].nodeValue),C$Tzs.getAttribute(H[2644])),C$Tza=(C$Tza&&(C$Tzo.gid=parseInt(C$Tza),C$Tzo.type=cc.TiledMap.TMXObjectType.IMAGE),C$Tzs.getElementsByTagName(H[2652])),C$Tza=(C$Tza&&0<C$Tza.length&&(C$Tzo.type=cc.TiledMap.TMXObjectType.ELLIPSE),C$Tzs.getElementsByTagName(H[2653])),C$Tza=(C$Tza&&0<C$Tza.length&&(C$Tzo.type=cc.TiledMap.TMXObjectType.POLYGON,(C$Tza=C$Tza[0].getAttribute(H[2654]))&&(C$Tzo.points=this._parsePointsString(C$Tza))),C$Tzs.getElementsByTagName(H[2655]));C$Tza&&0<C$Tza.length&&(C$Tzo.type=cc.TiledMap.TMXObjectType.POLYLINE,(C$Tzs=C$Tza[0].getAttribute(H[2654]))&&(C$Tzo.polylinePoints=this._parsePointsString(C$Tzs))),C$Tzo.type||(C$Tzo.type=cc.TiledMap.TMXObjectType.RECT),C$Tze._objects.push(C$Tzo);}H[2656]!==C$Tzi&&C$Tze._objects.sort(function(C$Tzt,C$Tze){return C$Tzt.y-C$Tze.y;});}return C$Tze;},_parsePointsString:function(C$Tzt){if(!C$Tzt)return null;for(var C$Tze=[],C$Tzi=C$Tzt.split(" "),C$Tzn=0;C$Tzn<C$Tzi.length;C$Tzn++){var C$Tzr=C$Tzi[C$Tzn].split(",");C$Tze.push({x:parseFloat(C$Tzr[0]),y:parseFloat(C$Tzr[1])});}return C$Tze;},setTileAnimations:function(C$Tzt){this._tileAnimations=C$Tzt;},getTileAnimations:function(){return this._tileAnimations;},getTileProperties:function(){return this._tileProperties;},setTileProperties:function(C$Tzt){this._tileProperties=C$Tzt;},getCurrentString:function(){return this.currentString;},setCurrentString:function(C$Tzt){this.currentString=C$Tzt;}};C$Tzt=cc.TMXMapInfo.prototype;C$Tzn.getset(C$Tzt,H[2657],C$Tzt._getMapWidth,C$Tzt._setMapWidth),C$Tzn.getset(C$Tzt,H[2658],C$Tzt._getMapHeight,C$Tzt._setMapHeight),C$Tzn.getset(C$Tzt,H[2659],C$Tzt._getTileWidth,C$Tzt._setTileWidth),C$Tzn.getset(C$Tzt,H[2660],C$Tzt._getTileHeight,C$Tzt._setTileHeight),cc.TMXLayerInfo.ATTRIB_NONE=1,cc.TMXLayerInfo.ATTRIB_BASE64=2,cc.TMXLayerInfo.ATTRIB_GZIP=4,cc.TMXLayerInfo.ATTRIB_ZLIB=8;},{"../compression/ZipUtils":23,"../compression/zlib.min":26,"../core/platform/CCSAXParser":196,"../core/platform/js":209}],337:[function(C$Tzt,C$Tze,C$Tzh){"use strict";var C$Tzi=C$Tzt(H[2597]),C$Tzu=(C$Tzn=C$Tzt(H[2661]))&&C$Tzn.__esModule?C$Tzn:{default:C$Tzn};var C$Tzn=C$Tzt(H[2144]),C$Tz_=C$Tzt(H[2151]),C$Tzr=C$Tzt(H[2149]),C$Tzs=cc.mat4(),C$Tzo=cc.v2(),C$Tza=cc.v2(),C$Tzc={row:0,col:0},C$Tzl=cc.Class({name:H[2662],extends:cc.Component,ctor:function(){this._index=-1,this._row=-1,this._col=-1,this._tiledLayer=null;}}),C$Tzt=cc.Class({name:H[2663],extends:C$Tzn,editor:{inspector:H[2664]},ctor:function(){this._userNodeGrid={},this._userNodeMap={},this._userNodeDirty=!1,this._tiledTiles=[],this._tilesetIndexArr=[],this._texIdToMatIndex={},this._viewPort={x:-1,y:-1,width:-1,height:-1},this._cullingRect={leftDown:{row:-1,col:-1},rightTop:{row:-1,col:-1}},this._cullingDirty=!0,this._rightTop={row:-1,col:-1},this._layerInfo=null,this._mapInfo=null,this._topOffset=0,this._downOffset=0,this._leftOffset=0,this._rightOffset=0,this._tiles=[],this._vertices=[],this._verticesDirty=!0,this._layerName="",this._layerOrientation=null,this._texGrids=null,this._textures=null,this._tilesets=null,this._leftDownToCenterX=0,this._leftDownToCenterY=0,this._hasTiledNodeGrid=!1,this._hasAniGrid=!1,this._animations=null,this._enableCulling=cc.macro.ENABLE_TILEDMAP_CULLING;},_hasTiledNode:function(){return this._hasTiledNodeGrid;},_hasAnimation:function(){return this._hasAniGrid;},enableCulling:function(C$Tzt){this._enableCulling!=C$Tzt&&(this._enableCulling=C$Tzt,this._cullingDirty=!0);},addUserNode:function(C$Tzt){var C$Tze=C$Tzt.getComponent(C$Tzl);return C$Tze?(cc.warn(H[2665]),!1):(C$Tze=C$Tzt.addComponent(C$Tzl),C$Tzt.parent=this.node,C$Tzt._renderFlag|=C$Tzr.FLAG_BREAK_FLOW,(this._userNodeMap[C$Tzt._id]=C$Tze)._row=-1,C$Tze._col=-1,(C$Tze._tiledLayer=this)._nodeLocalPosToLayerPos(C$Tzt,C$Tzo),this._positionToRowCol(C$Tzo.x,C$Tzo.y,C$Tzc),this._addUserNodeToGrid(C$Tze,C$Tzc),this._updateCullingOffsetByUserNode(C$Tzt),C$Tzt.on(cc.Node.EventType.POSITION_CHANGED,this._userNodePosChange,C$Tze),C$Tzt.on(cc.Node.EventType.SIZE_CHANGED,this._userNodeSizeChange,C$Tze),!0);},removeUserNode:function(C$Tzt){var C$Tze=C$Tzt.getComponent(C$Tzl);return C$Tze?(C$Tzt.off(cc.Node.EventType.POSITION_CHANGED,this._userNodePosChange,C$Tze),C$Tzt.off(cc.Node.EventType.SIZE_CHANGED,this._userNodeSizeChange,C$Tze),this._removeUserNodeFromGrid(C$Tze),delete this._userNodeMap[C$Tzt._id],C$Tzt._removeComponent(C$Tze),C$Tze.destroy(),C$Tzt.removeFromParent(!0),C$Tzt._renderFlag&=~C$Tzr.FLAG_BREAK_FLOW,!0):(cc.warn(H[2666]),!1);},destroyUserNode:function(C$Tzt){this.removeUserNode(C$Tzt),C$Tzt.destroy();},_nodeLocalPosToLayerPos:function(C$Tzt,C$Tze){C$Tze.x=C$Tzt.x+this._leftDownToCenterX,C$Tze.y=C$Tzt.y+this._leftDownToCenterY;},_getNodesByRowCol:function(C$Tzt,C$Tze){C$Tzt=this._userNodeGrid[C$Tzt];return C$Tzt?C$Tzt[C$Tze]:null;},_getNodesCountByRow:function(C$Tzt){C$Tzt=this._userNodeGrid[C$Tzt];return C$Tzt?C$Tzt.count:0;},_updateAllUserNode:function(){for(var C$Tzt in this._userNodeGrid={},this._userNodeMap){C$Tzt=this._userNodeMap[C$Tzt];this._nodeLocalPosToLayerPos(C$Tzt.node,C$Tzo),this._positionToRowCol(C$Tzo.x,C$Tzo.y,C$Tzc),this._addUserNodeToGrid(C$Tzt,C$Tzc),this._updateCullingOffsetByUserNode(C$Tzt.node);}},_updateCullingOffsetByUserNode:function(C$Tzt){this._topOffset<C$Tzt.height&&(this._topOffset=C$Tzt.height),this._downOffset<C$Tzt.height&&(this._downOffset=C$Tzt.height),this._leftOffset<C$Tzt.width&&(this._leftOffset=C$Tzt.width),this._rightOffset<C$Tzt.width&&(this._rightOffset=C$Tzt.width);},_userNodeSizeChange:function(){var C$Tzt=this.node;this._tiledLayer._updateCullingOffsetByUserNode(C$Tzt);},_userNodePosChange:function(){var C$Tzt=this.node,C$Tze=this._tiledLayer;C$Tze._nodeLocalPosToLayerPos(C$Tzt,C$Tzo),C$Tze._positionToRowCol(C$Tzo.x,C$Tzo.y,C$Tzc),C$Tze._limitInLayer(C$Tzc),C$Tzc.row===this._row&&C$Tzc.col===this._col||(C$Tze._removeUserNodeFromGrid(this),C$Tze._addUserNodeToGrid(this,C$Tzc));},_removeUserNodeFromGrid:function(C$Tzt){var C$Tze=C$Tzt._row,C$Tzi=C$Tzt._col,C$Tzn=C$Tzt._index,C$Tze=this._userNodeGrid[C$Tze],C$Tzi=C$Tze&&C$Tze[C$Tzi];C$Tzi&&(C$Tze.count--,C$Tzi.count--,C$Tzi.list[C$Tzn]=null,C$Tzi.count<=0&&(C$Tzi.list.length=0,C$Tzi.count=0)),C$Tzt._row=-1,C$Tzt._col=-1,C$Tzt._index=-1,this._userNodeDirty=!0;},_limitInLayer:function(C$Tzt){var C$Tze=C$Tzt.row,C$Tzi=C$Tzt.col;C$Tze<0&&(C$Tzt.row=0),C$Tze>this._rightTop.row&&(C$Tzt.row=this._rightTop.row),C$Tzi<0&&(C$Tzt.col=0),C$Tzi>this._rightTop.col&&(C$Tzt.col=this._rightTop.col);},_addUserNodeToGrid:function(C$Tzt,C$Tze){var C$Tzi=C$Tze.row,C$Tze=C$Tze.col,C$Tzn=this._userNodeGrid[C$Tzi]=this._userNodeGrid[C$Tzi]||{count:0},C$Tzr=C$Tzn[C$Tze]=C$Tzn[C$Tze]||{count:0,list:[]};C$Tzt._row=C$Tzi,C$Tzt._col=C$Tze,C$Tzt._index=C$Tzr.list.length,C$Tzn.count++,C$Tzr.count++,C$Tzr.list.push(C$Tzt),this._userNodeDirty=!0;},_isUserNodeDirty:function(){return this._userNodeDirty;},_setUserNodeDirty:function(C$Tzt){this._userNodeDirty=C$Tzt;},onEnable:function(){this._super(),this.node.on(cc.Node.EventType.ANCHOR_CHANGED,this._syncAnchorPoint,this),this._activateMaterial();},onDisable:function(){this._super(),this.node.off(cc.Node.EventType.ANCHOR_CHANGED,this._syncAnchorPoint,this);},_syncAnchorPoint:function(){var C$Tzt=this.node;this._leftDownToCenterX=C$Tzt.width*C$Tzt.anchorX*C$Tzt.scaleX,this._leftDownToCenterY=C$Tzt.height*C$Tzt.anchorY*C$Tzt.scaleY,this._cullingDirty=!0;},onDestroy:function(){this._super(),this._buffer&&(this._buffer.destroy(),this._buffer=null),this._renderDataList=null;},getLayerName:function(){return this._layerName;},setLayerName:function(C$Tzt){this._layerName=C$Tzt;},getProperty:function(C$Tzt){return this._properties[C$Tzt];},getPositionAt:function(C$Tzt,C$Tze){var C$Tzi,C$Tzn;switch(C$Tze=void 0!==C$Tze?(C$Tzi=Math.floor(C$Tzt),Math.floor(C$Tze)):(C$Tzi=Math.floor(C$Tzt.x),Math.floor(C$Tzt.y)),this._layerOrientation){case cc.TiledMap.Orientation.ORTHO:C$Tzn=this._positionForOrthoAt(C$Tzi,C$Tze);break;case cc.TiledMap.Orientation.ISO:C$Tzn=this._positionForIsoAt(C$Tzi,C$Tze);break;case cc.TiledMap.Orientation.HEX:C$Tzn=this._positionForHexAt(C$Tzi,C$Tze);}return C$Tzn;},_isInvalidPosition:function(C$Tzt,C$Tze){var C$Tzi;return C$Tzt&&H[802]==typeof C$Tzt&&(C$Tze=(C$Tzi=C$Tzt).y,C$Tzt=C$Tzi.x),C$Tzt>=this._layerSize.width||C$Tze>=this._layerSize.height||C$Tzt<0||C$Tze<0;},_positionForIsoAt:function(C$Tzt,C$Tze){var C$Tzi=0,C$Tzn=0,C$Tzr=Math.floor(C$Tzt)+Math.floor(C$Tze)*this._layerSize.width,C$Tzr=this._tiles[C$Tzr];return C$Tzr&&(C$Tzi=(C$Tzr=this._texGrids[C$Tzr].tileset.tileOffset).x,C$Tzn=C$Tzr.y),cc.v2(.5*this._mapTileSize.width*(this._layerSize.height+C$Tzt-C$Tze-1)+C$Tzi,.5*this._mapTileSize.height*(this._layerSize.width-C$Tzt+this._layerSize.height-C$Tze-2)-C$Tzn);},_positionForOrthoAt:function(C$Tzt,C$Tze){var C$Tzi=0,C$Tzn=0,C$Tzr=Math.floor(C$Tzt)+Math.floor(C$Tze)*this._layerSize.width,C$Tzr=this._tiles[C$Tzr];return C$Tzr&&(C$Tzi=(C$Tzr=this._texGrids[C$Tzr].tileset.tileOffset).x,C$Tzn=C$Tzr.y),cc.v2(C$Tzt*this._mapTileSize.width+C$Tzi,(this._layerSize.height-C$Tze-1)*this._mapTileSize.height-C$Tzn);},_positionForHexAt:function(C$Tzt,C$Tze){var C$Tzi=this._mapTileSize.width,C$Tzn=this._mapTileSize.height,C$Tzr=this._layerSize.height,C$Tzh=Math.floor(C$Tzt)+Math.floor(C$Tze)*this._layerSize.width,C$Tzh=this._tiles[C$Tzh],C$Tzs=this._texGrids[C$Tzh].tileset.tileOffset,C$Tzu=this._staggerIndex===cc.TiledMap.StaggerIndex.STAGGERINDEX_ODD?1:-1,C$Tzo=0,C$Tza=0,C$Tzc=0,C$Tzl=0;switch(this._staggerAxis){case cc.TiledMap.StaggerAxis.STAGGERAXIS_Y:C$Tzc=0,C$Tzo=C$Tzt*C$Tzi+(C$Tzc=C$Tze%2==1?C$Tzi/2*C$Tzu:C$Tzc)+C$Tzs.x,C$Tza=(C$Tzr-C$Tze-1)*(C$Tzn-(C$Tzn-this._hexSideLength)/2)-C$Tzs.y;break;case cc.TiledMap.StaggerAxis.STAGGERAXIS_X:C$Tzl=0,C$Tzo=C$Tzt*(C$Tzi-(C$Tzi-this._hexSideLength)/2)+C$Tzs.x,C$Tza=(C$Tzr-C$Tze-1)*C$Tzn+(C$Tzl=C$Tzt%2==1?C$Tzn/2*-C$Tzu:C$Tzl)-C$Tzs.y;}return cc.v2(C$Tzo,C$Tza);},setTileGIDAt:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){if(void 0===C$Tze)throw new Error(H[2667]);var C$Tzr;if(void 0===C$Tzn&&C$Tze instanceof cc.Vec2?(C$Tzr=C$Tze,C$Tzn=C$Tzi):C$Tzr=cc.v2(C$Tze,C$Tzi),C$Tzr.x=Math.floor(C$Tzr.x),C$Tzr.y=Math.floor(C$Tzr.y),this._isInvalidPosition(C$Tzr))throw new Error(H[2668]);this._tiles&&this._tilesets&&0!=this._tilesets.length?0!==C$Tzt&&C$Tzt<this._tilesets[0].firstGid?cc.logID(7239,C$Tzt):(C$Tzn=C$Tzn||0,C$Tze=this.getTileFlagsAt(C$Tzr),this.getTileGIDAt(C$Tzr)===C$Tzt&&C$Tze===C$Tzn||this._updateTileForGID((C$Tzt|C$Tzn)>>>0,C$Tzr)):cc.logID(7238);},_updateTileForGID:function(C$Tzt,C$Tze){0!==C$Tzt&&!this._texGrids[C$Tzt]||(C$Tze=0|C$Tze.x+C$Tze.y*this._layerSize.width)<this._tiles.length&&(this._tiles[C$Tze]=C$Tzt,this._cullingDirty=!0);},getTileGIDAt:function(C$Tzt,C$Tze){if(void 0===C$Tzt)throw new Error(H[2669]);var C$Tzi=C$Tzt;if(void 0===C$Tze&&(C$Tzi=C$Tzt.x,C$Tze=C$Tzt.y),this._isInvalidPosition(C$Tzi,C$Tze))throw new Error(H[2670]);if(!this._tiles)return cc.logID(7237),null;C$Tzt=Math.floor(C$Tzi)+Math.floor(C$Tze)*this._layerSize.width;return(this._tiles[C$Tzt]&cc.TiledMap.TileFlag.FLIPPED_MASK)>>>0;},getTileFlagsAt:function(C$Tzt,C$Tze){if(!C$Tzt)throw new Error(H[2671]);if(void 0!==C$Tze&&(C$Tzt=cc.v2(C$Tzt,C$Tze)),this._isInvalidPosition(C$Tzt))throw new Error(H[2672]);if(!this._tiles)return cc.logID(7240),null;C$Tze=Math.floor(C$Tzt.x)+Math.floor(C$Tzt.y)*this._layerSize.width;return(this._tiles[C$Tze]&cc.TiledMap.TileFlag.FLIPPED_ALL)>>>0;},_setCullingDirty:function(C$Tzt){this._cullingDirty=C$Tzt;},_isCullingDirty:function(){return this._cullingDirty;},_updateViewPort:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr,C$Tzs,C$Tzo;this._viewPort.width===C$Tzi&&this._viewPort.height===C$Tzn&&this._viewPort.x===C$Tzt&&this._viewPort.y===C$Tze||(this._viewPort.x=C$Tzt,this._viewPort.y=C$Tze,this._viewPort.width=C$Tzi,this._viewPort.height=C$Tzn,C$Tzt=1,this._layerOrientation===cc.TiledMap.Orientation.ISO&&(C$Tzt=2),C$Tze=this._viewPort.x-this._offset.x+this._leftDownToCenterX,C$Tzo=this._viewPort.y-this._offset.y+this._leftDownToCenterY,C$Tzr=C$Tze-this._leftOffset,C$Tzs=C$Tzo-this._downOffset,C$Tze=C$Tze+C$Tzi+this._rightOffset,C$Tzi=C$Tzo+C$Tzn+this._topOffset,C$Tzo=this._cullingRect.leftDown,C$Tzn=this._cullingRect.rightTop,this._positionToRowCol(C$Tzr=C$Tzr<0?0:C$Tzr,C$Tzs=C$Tzs<0?0:C$Tzs,C$Tzc),C$Tzc.row-=C$Tzt,C$Tzc.col-=C$Tzt,C$Tzc.row=0<C$Tzc.row?C$Tzc.row:0,C$Tzc.col=0<C$Tzc.col?C$Tzc.col:0,C$Tzc.row===C$Tzo.row&&C$Tzc.col===C$Tzo.col||(C$Tzo.row=C$Tzc.row,C$Tzo.col=C$Tzc.col,this._cullingDirty=!0),C$Tze<0||C$Tzi<0?(C$Tzc.row=-1,C$Tzc.col=-1):(this._positionToRowCol(C$Tze,C$Tzi,C$Tzc),C$Tzc.row++,C$Tzc.col++),C$Tzc.row>this._rightTop.row&&(C$Tzc.row=this._rightTop.row),C$Tzc.col>this._rightTop.col&&(C$Tzc.col=this._rightTop.col),C$Tzc.row===C$Tzn.row&&C$Tzc.col===C$Tzn.col||(C$Tzn.row=C$Tzc.row,C$Tzn.col=C$Tzc.col,this._cullingDirty=!0));},_positionToRowCol:function(C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr=cc.TiledMap,C$Tzs=C$Tzr.Orientation,C$Tzh=C$Tzr.StaggerAxis,C$Tzo=this._mapTileSize.width,C$Tza=this._mapTileSize.height,C$Tzu=.5*C$Tzo,C$Tz_=.5*C$Tza,C$Tzc=0,C$Tzl=0,C$Tzd=this._staggerAxis;this._layerSize.width;switch(this._layerOrientation){case C$Tzs.ORTHO:C$Tzl=Math.floor(C$Tzt/C$Tzo),C$Tzc=Math.floor(C$Tze/C$Tza);break;case C$Tzs.ISO:C$Tzl=Math.floor(C$Tzt/C$Tzu),C$Tzc=Math.floor(C$Tze/C$Tz_);break;case C$Tzs.HEX:C$Tzd===C$Tzh.STAGGERAXIS_Y?(C$Tzn=(C$Tzc=Math.floor(C$Tze/(C$Tza-this._diffY1)))%2==1?C$Tzu*this._odd_even:0,C$Tzl=Math.floor((C$Tzt-C$Tzn)/C$Tzo)):(C$Tzn=(C$Tzl=Math.floor(C$Tzt/(C$Tzo-this._diffX1)))%2==1?C$Tz_*-this._odd_even:0,C$Tzc=Math.floor((C$Tze-C$Tzn)/C$Tza));}return C$Tzi.row=C$Tzc,C$Tzi.col=C$Tzl,C$Tzi;},_updateCulling:function(){var C$Tzt,C$Tze;this._enableCulling&&(this.node._updateWorldMatrix(),C$Tzi.Mat4.invert(C$Tzs,this.node._worldMatrix),C$Tzt=cc.visibleRect,(C$Tze=cc.Camera.findCamera(this.node))&&(C$Tzo.x=0,C$Tzo.y=0,C$Tza.x=C$Tzo.x+C$Tzt.width,C$Tza.y=C$Tzo.y+C$Tzt.height,C$Tze.getScreenToWorldPoint(C$Tzo,C$Tzo),C$Tze.getScreenToWorldPoint(C$Tza,C$Tza),C$Tzi.Vec2.transformMat4(C$Tzo,C$Tzo,C$Tzs),C$Tzi.Vec2.transformMat4(C$Tza,C$Tza,C$Tzs),this._updateViewPort(C$Tzo.x,C$Tzo.y,C$Tza.x-C$Tzo.x,C$Tza.y-C$Tzo.y)));},getLayerOrientation:function(){return this._layerOrientation;},getProperties:function(){return this._properties;},_updateVertices:function(){var C$Tzh=cc.TiledMap,C$Tzu=C$Tzh.TileFlag.FLIPPED_MASK,C$Tz_=C$Tzh.StaggerAxis,C$Tzd=C$Tzh.Orientation,C$Tzf=this._vertices,C$Tzp=(C$Tzf.length=0,this._layerOrientation),C$Tzm=this._tiles;if(C$Tzm){for(var C$Tzt,C$Tze,C$Tzy,C$Tzg,C$Tzv,C$Tzx,C$Tzb,C$TzA,C$Tzi=this._rightTop,C$TzC=(C$Tzi.row=-1,C$Tzi.col=-1,this._mapTileSize.width),C$TzS=this._mapTileSize.height,C$TzT=.5*C$TzC,C$Tzw=.5*C$TzS,C$Tzn=this._layerSize.height,C$TzE=this._layerSize.width,C$TzM=this._texGrids,C$TzI=0,C$Tzr=(C$Tzp===C$Tzd.HEX&&(C$Tzy=this._staggerAxis,C$Tzg=this._diffX1,C$Tzv=this._diffY1,C$Tzx=this._odd_even),0),C$Tzs=0,C$Tzo=(this._topOffset=0,this._downOffset=0,this._leftOffset=0,this._rightOffset=0,this._hasAniGrid=!1,0),C$TzB=0,C$Tza=0;C$Tza<C$Tzn;++C$Tza){for(var C$Tzc=0;C$Tzc<C$TzE;++C$Tzc){var C$TzR=C$TzI+C$Tzc,C$TzP=C$TzM[C$Tzl=(C$Tzm[C$TzR]&C$Tzu)>>>0];if(this._animations[C$Tzl]&&(this._hasAniGrid=!0),C$TzP){switch(C$Tzp){case C$Tzd.ORTHO:C$Tzt=(C$Tzr=C$Tzc)*C$TzC,C$Tze=(C$Tzs=C$Tzn-C$Tza-1)*C$TzS;break;case C$Tzd.ISO:C$Tzt=C$TzT*(C$Tzr=C$Tzn+C$Tzc-C$Tza-1),C$Tze=C$Tzw*(C$Tzs=C$Tzn+C$TzE-C$Tzc-C$Tza-2);break;case C$Tzd.HEX:C$Tzt=C$Tzc*(C$TzC-C$Tzg)+(C$Tzy===C$Tz_.STAGGERAXIS_Y&&C$Tza%2==1?C$TzT*C$Tzx:0),C$Tze=(C$Tzn-C$Tza-1)*(C$TzS-C$Tzv)+(C$Tzy===C$Tz_.STAGGERAXIS_X&&C$Tzc%2==1?C$Tzw*-C$Tzx:0),C$Tzr=C$Tzc,C$Tzs=C$Tzn-C$Tza-1;}var C$Tzl=C$Tzf[C$Tzs]=C$Tzf[C$Tzs]||{minCol:0,maxCol:0},C$TzD=C$Tzl[C$Tzr]=C$Tzl[C$Tzr]||{};C$Tzl.minCol>C$Tzr&&(C$Tzl.minCol=C$Tzr),C$Tzl.maxCol<C$Tzr&&(C$Tzl.maxCol=C$Tzr),C$Tzi.row<C$Tzs&&(C$Tzi.row=C$Tzs),C$Tzi.col<C$Tzr&&(C$Tzi.col=C$Tzr),C$Tzl=C$TzP.tileset.tileOffset,C$Tzt+=this._offset.x+C$Tzl.x,C$Tze+=this._offset.y-C$Tzl.y,C$Tzo=(C$Tzo=-C$Tzl.y+C$TzP.tileset._tileSize.height-C$TzS)<0?0:C$Tzo,C$Tzb=C$Tzl.y<0?0:C$Tzl.y,C$TzA=-C$Tzl.x<0?0:-C$Tzl.x,C$TzB=(C$TzB=C$Tzl.x+C$TzP.tileset._tileSize.width-C$TzC)<0?0:C$TzB,this._rightOffset<C$TzA&&(this._rightOffset=C$TzA),this._leftOffset<C$TzB&&(this._leftOffset=C$TzB),this._topOffset<C$Tzb&&(this._topOffset=C$Tzb),this._downOffset<C$Tzo&&(this._downOffset=C$Tzo),C$TzD.left=C$Tzt,C$TzD.bottom=C$Tze,C$TzD.index=C$TzR;}}C$TzI+=C$TzE;}this._verticesDirty=!1;}},getTiledTileAt:function(C$Tzt,C$Tze,C$Tzi){if(this._isInvalidPosition(C$Tzt,C$Tze))throw new Error(H[2673]);if(!this._tiles)return cc.logID(7236),null;var C$Tzn=Math.floor(C$Tzt)+Math.floor(C$Tze)*this._layerSize.width,C$Tzn=this._tiledTiles[C$Tzn];return!C$Tzn&&C$Tzi&&((C$Tzn=(C$Tzi=new cc.Node()).addComponent(cc.TiledTile))._x=C$Tzt,C$Tzn._y=C$Tze,C$Tzn._layer=this,C$Tzn._updateInfo(),C$Tzi.parent=this.node),C$Tzn;},setTiledTileAt:function(C$Tzt,C$Tze,C$Tzi){if(this._isInvalidPosition(C$Tzt,C$Tze))throw new Error(H[2674]);if(!this._tiles)return cc.logID(7236),null;C$Tzt=Math.floor(C$Tzt)+Math.floor(C$Tze)*this._layerSize.width;return this._tiledTiles[C$Tzt]=C$Tzi,this._cullingDirty=!0,this._hasTiledNodeGrid=!!C$Tzi||this._tiledTiles.some(function(C$Tzt,C$Tze){return!!C$Tzt;}),C$Tzi;},getTexture:function(C$Tzt){return C$Tzt=C$Tzt||0,this._textures&&0<=C$Tzt&&this._textures.length>C$Tzt?this._textures[C$Tzt]:null;},getTextures:function(){return this._textures;},setTexture:function(C$Tzt){this.setTextures([C$Tzt]);},setTextures:function(C$Tzt){this._textures=C$Tzt,this._activateMaterial();},getLayerSize:function(){return this._layerSize;},getMapTileSize:function(){return this._mapTileSize;},getTileSet:function(C$Tzt){return C$Tzt=C$Tzt||0,this._tilesets&&0<=C$Tzt&&this._tilesets.length>C$Tzt?this._tilesets[C$Tzt]:null;},getTileSets:function(){return this._tilesets;},setTileSet:function(C$Tzt){this.setTileSets([C$Tzt]);},setTileSets:function(C$Tzn){this._tilesets=C$Tzn;for(var C$Tzt=this._textures=[],C$Tzr=this._texGrids=[],C$Tze=0;C$Tze<C$Tzn.length;C$Tze++){var C$Tzi=C$Tzn[C$Tze];C$Tzi&&(C$Tzt[C$Tze]=C$Tzi.sourceImage);}cc.TiledMap.loadAllTextures(C$Tzt,function(){for(var C$Tzt=0,C$Tze=C$Tzn.length;C$Tzt<C$Tze;++C$Tzt){var C$Tzi=C$Tzn[C$Tzt];C$Tzi&&cc.TiledMap.fillTextureGrids(C$Tzi,C$Tzr,C$Tzt);}this._prepareToRender();}.bind(this));},_traverseAllGrid:function(){for(var C$Tzt=this._tiles,C$Tze=this._texGrids,C$Tzi=this._tilesetIndexArr,C$Tzn={},C$Tzr=cc.TiledMap.TileFlag.FLIPPED_MASK,C$Tzs=C$Tzi.length=0;C$Tzs<C$Tzt.length;C$Tzs++){var C$Tzo,C$Tza=C$Tzt[C$Tzs];0!==C$Tza&&((C$Tzo=C$Tze[C$Tza=(C$Tza&C$Tzr)>>>0])?C$Tzn[C$Tzo=C$Tzo.texId]||(C$Tzn[C$Tzo]=!0,C$Tzi.push(C$Tzo)):cc.error(H[2675],C$Tza));}},_init:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){this._cullingDirty=!0,this._layerInfo=C$Tzt,this._mapInfo=C$Tze;var C$Tzs,C$Tzo,C$Tza,C$Tzc=C$Tzt._layerSize,C$Tzc=(this._layerName=C$Tzt.name,this._tiles=C$Tzt._tiles,this._properties=C$Tzt.properties,this._layerSize=C$Tzc,this._minGID=C$Tzt._minGID,this._maxGID=C$Tzt._maxGID,this._opacity=C$Tzt._opacity,this._renderOrder=C$Tze.renderOrder,this._staggerAxis=C$Tze.getStaggerAxis(),this._staggerIndex=C$Tze.getStaggerIndex(),this._hexSideLength=C$Tze.getHexSideLength(),this._animations=C$Tze.getTileAnimations(),this._tilesets=C$Tzi,this._textures=C$Tzn,this._texGrids=C$Tzr,this._layerOrientation=C$Tze.orientation,this._mapTileSize=C$Tze.getTileSize(),this._mapTileSize.width),C$Tzi=this._mapTileSize.height,C$Tzn=this._layerSize.width,C$Tzr=this._layerSize.height;this._layerOrientation===cc.TiledMap.Orientation.HEX?(C$Tzs=(C$Tze=cc.TiledMap).StaggerAxis,C$Tze=C$Tze.StaggerIndex,C$Tza=C$Tzo=0,this._odd_even=this._staggerIndex===C$Tze.STAGGERINDEX_ODD?1:-1,this._staggerAxis===C$Tzs.STAGGERAXIS_X?(this._diffX1=(C$Tzc-this._hexSideLength)/2,this._diffY1=0,C$Tza=C$Tzi*(C$Tzr+.5),C$Tzo=(C$Tzc+this._hexSideLength)*Math.floor(C$Tzn/2)+C$Tzc*(C$Tzn%2)):(this._diffX1=0,this._diffY1=(C$Tzi-this._hexSideLength)/2,C$Tzo=C$Tzc*(C$Tzn+.5),C$Tza=(C$Tzi+this._hexSideLength)*Math.floor(C$Tzr/2)+C$Tzi*(C$Tzr%2)),this.node.setContentSize(C$Tzo,C$Tza)):this._layerOrientation===cc.TiledMap.Orientation.ISO?this.node.setContentSize(.5*C$Tzc*(C$Tze=C$Tzn+C$Tzr),.5*C$Tzi*C$Tze):this.node.setContentSize(C$Tzn*C$Tzc,C$Tzr*C$Tzi),this._offset=cc.v2(C$Tzt.offset.x,-C$Tzt.offset.y),this._useAutomaticVertexZ=!1,this._vertexZvalue=0,this._syncAnchorPoint(),this._prepareToRender();},_prepareToRender:function(){this._updateVertices(),this._traverseAllGrid(),this._updateAllUserNode(),this._activateMaterial();},_activateMaterial:function(){var C$Tzt=this._tilesetIndexArr;if(0!==C$Tzt.length){for(var C$Tze=this._texIdToMatIndex={},C$Tzi=this._textures,C$Tzn=C$Tzt.length,C$Tzr=0;C$Tzr<C$Tzn;C$Tzr++){var C$Tzs=C$Tzt[C$Tzr],C$Tzo=C$Tzi[C$Tzs],C$Tza=(C$Tza=this._materials[C$Tzr])||C$Tz_.getBuiltinMaterial(H[781]);(C$Tza=C$Tzu.default.create(C$Tza,this)).define(H[896],!0),C$Tza.setProperty(H[883],C$Tzo),this._materials[C$Tzr]=C$Tza,C$Tze[C$Tzs]=C$Tzr;}this._materials.length=C$Tzn,this.markForRender(!0);}else this.disableRender();}});cc.TiledLayer=C$Tze.exports=C$Tzt;},{"../core/assets/material/CCMaterial":53,"../core/assets/material/material-variant":60,"../core/components/CCRenderComponent":89,"../core/renderer/render-flow":221,"../core/value-types":279}],338:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[2676]),C$Tzt(H[2677]),C$Tzt(H[2678]),C$Tzt(H[2679]),C$Tzt(H[2680]);var C$Tzt=cc.Enum({ORTHO:0,HEX:1,ISO:2}),C$Tzn=cc.Enum({NONE:0,MAP:1,LAYER:2,OBJECTGROUP:3,OBJECT:4,TILE:5}),C$Tzr=cc.Enum({HORIZONTAL:2147483648,VERTICAL:1073741824,DIAGONAL:536870912,FLIPPED_ALL:4026531840,FLIPPED_MASK:268435455}),C$Tzs=cc.Enum({STAGGERAXIS_X:0,STAGGERAXIS_Y:1}),C$Tzo=cc.Enum({STAGGERINDEX_ODD:0,STAGGERINDEX_EVEN:1}),C$Tza=cc.Enum({RightDown:0,RightUp:1,LeftDown:2,LeftUp:3}),C$Tzc=cc.Enum({RECT:0,ELLIPSE:1,POLYGON:2,POLYLINE:3,IMAGE:4,TEXT:5}),C$Tzt=cc.Class({name:H[2681],extends:cc.Component,editor:!1,ctor:function(){this._texGrids=[],this._textures=[],this._tilesets=[],this._animations=[],this._imageLayers=[],this._layers=[],this._groups=[],this._images=[],this._properties=[],this._tileProperties=[],this._mapSize=cc.size(0,0),this._tileSize=cc.size(0,0);},statics:{Orientation:C$Tzt,Property:C$Tzn,TileFlag:C$Tzr,StaggerAxis:C$Tzs,StaggerIndex:C$Tzo,TMXObjectType:C$Tzc,RenderOrder:C$Tza},properties:{_tmxFile:{default:null,type:cc.TiledMapAsset},tmxAsset:{get:function(){return this._tmxFile;},set:function(C$Tzt,C$Tze){this._tmxFile!==C$Tzt&&(this._tmxFile=C$Tzt,this._applyFile());},type:cc.TiledMapAsset}},getMapSize:function(){return this._mapSize;},getTileSize:function(){return this._tileSize;},getMapOrientation:function(){return this._mapOrientation;},getObjectGroups:function(){return this._groups;},getObjectGroup:function(C$Tzt){for(var C$Tze=this._groups,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzr&&C$Tzr.getGroupName()===C$Tzt)return C$Tzr;}return null;},enableCulling:function(C$Tzt){for(var C$Tze=this._layers,C$Tzi=0;C$Tzi<C$Tze.length;++C$Tzi)C$Tze[C$Tzi].enableCulling(C$Tzt);},getProperties:function(){return this._properties;},getLayers:function(){return this._layers;},getLayer:function(C$Tzt){for(var C$Tze=this._layers,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzr&&C$Tzr.getLayerName()===C$Tzt)return C$Tzr;}return null;},_changeLayer:function(C$Tzt,C$Tze){for(var C$Tzi=this._layers,C$Tzn=0,C$Tzr=C$Tzi.length;C$Tzn<C$Tzr;C$Tzn++){var C$Tzs=C$Tzi[C$Tzn];if(C$Tzs&&C$Tzs.getLayerName()===C$Tzt)return void(C$Tzi[C$Tzn]=C$Tze);}},getProperty:function(C$Tzt){return this._properties[C$Tzt.toString()];},getPropertiesForGID:function(C$Tzt){return this._tileProperties[C$Tzt];},__preload:function(){this._tmxFile&&this._applyFile();},onEnable:function(){this.node.on(cc.Node.EventType.ANCHOR_CHANGED,this._syncAnchorPoint,this);},onDisable:function(){this.node.off(cc.Node.EventType.ANCHOR_CHANGED,this._syncAnchorPoint,this);},_applyFile:function(){var C$Tzt=this._tmxFile;if(C$Tzt){for(var C$Tze=C$Tzt.textures,C$Tzi=C$Tzt.textureNames,C$Tzh=C$Tzt.textureSizes,C$Tzn={},C$Tzr={},C$Tzs=0;C$Tzs<C$Tze.length;++C$Tzs){var C$Tzo=C$Tzi[C$Tzs];C$Tzn[C$Tzo]=C$Tze[C$Tzs],C$Tzr[C$Tzo]=C$Tzh[C$Tzs];}for(var C$Tzu={},C$Tze=C$Tzt.imageLayerTextures,C$Tzi=C$Tzt.imageLayerTextureNames,C$Tza=0;C$Tza<C$Tze.length;++C$Tza)C$Tzu[C$Tzi[C$Tza]]=C$Tze[C$Tza];for(var C$Tzc=C$Tzt.tsxFileNames,C$Tz_=C$Tzt.tsxFiles,C$Tzd={},C$Tzl=0;C$Tzl<C$Tzc.length;++C$Tzl)0<C$Tzc[C$Tzl].length&&(C$Tzd[C$Tzc[C$Tzl]]=C$Tz_[C$Tzl].text);var C$Tzt=new cc.TMXMapInfo(C$Tzt.tmxXmlStr,C$Tzd,C$Tzn,C$Tzr,C$Tzu),C$Tzf=C$Tzt.getTilesets();C$Tzf&&0!==C$Tzf.length||cc.logID(7241),this._buildWithMapInfo(C$Tzt);}else this._releaseMapInfo();},_releaseMapInfo:function(){for(var C$Tzt=this._layers,C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++)C$Tzt[C$Tze].node.removeFromParent(!0),C$Tzt[C$Tze].node.destroy();C$Tzt.length=0;for(var C$Tzn=this._groups,C$Tzr=0,C$Tzs=C$Tzn.length;C$Tzr<C$Tzs;C$Tzr++)C$Tzn[C$Tzr].node.removeFromParent(!0),C$Tzn[C$Tzr].node.destroy();C$Tzn.length=0;for(var C$Tzo=this._images,C$Tza=0,C$Tzc=C$Tzo.length;C$Tza<C$Tzc;C$Tza++)C$Tzo[C$Tza].removeFromParent(!0),C$Tzo[C$Tza].destroy();C$Tzo.length=0;},_syncAnchorPoint:function(){for(var C$Tzt=this.node.getAnchorPoint(),C$Tze=this.node.width*C$Tzt.x,C$Tzi=this.node.height*(1-C$Tzt.y),C$Tzn=0,C$Tzr=this._layers.length;C$Tzn<C$Tzr;C$Tzn++)this._layers[C$Tzn].node.setAnchorPoint(C$Tzt);for(C$Tzn=0,C$Tzr=this._groups.length;C$Tzn<C$Tzr;C$Tzn++){var C$Tzs=this._groups[C$Tzn],C$Tzo=C$Tzs.node;C$Tzo.anchorX=.5,C$Tzo.anchorY=.5,C$Tzo.x=C$Tzs._offset.x-C$Tze+C$Tzo.width*C$Tzo.anchorX,C$Tzo.y=C$Tzs._offset.y+C$Tzi-C$Tzo.height*C$Tzo.anchorY;}for(C$Tzn=0,C$Tzr=this._images.length;C$Tzn<C$Tzr;C$Tzn++){var C$Tza=this._images[C$Tzn];C$Tza.anchorX=.5,C$Tza.anchorY=.5,C$Tza.x=C$Tza._offset.x-C$Tze+C$Tza.width*C$Tza.anchorX,C$Tza.y=C$Tza._offset.y+C$Tzi-C$Tza.height*C$Tza.anchorY;}},_fillAniGrids:function(C$Tzt,C$Tze){for(var C$Tzi in C$Tze){C$Tzi=C$Tze[C$Tzi];if(C$Tzi)for(var C$Tzn=C$Tzi.frames,C$Tzr=0;C$Tzr<C$Tzn.length;C$Tzr++){var C$Tzs=C$Tzn[C$Tzr];C$Tzs.grid=C$Tzt[C$Tzs.tileid];}}},_buildLayerAndGroup:function(){for(var C$Tzt=this._tilesets,C$Tze=this._texGrids,C$Tzh=this._animations,C$Tzi=C$Tze.length=0,C$Tzu=C$Tzt.length;C$Tzi<C$Tzu;++C$Tzi){var C$Tz_=C$Tzt[C$Tzi];C$Tz_&&cc.TiledMap.fillTextureGrids(C$Tz_,C$Tze,C$Tzi);}this._fillAniGrids(C$Tze,C$Tzh);for(var C$Tzn=this._layers,C$Tzd=this._groups,C$Tzf=this._images,C$Tzr={},C$Tzp=0,C$Tzm=C$Tzn.length;C$Tzp<C$Tzm;C$Tzp++)C$Tzr[C$Tzn[C$Tzp].node._name]=!0;for(var C$Tzy=0,C$Tzg=C$Tzd.length;C$Tzy<C$Tzg;C$Tzy++)C$Tzr[C$Tzd[C$Tzy].node._name]=!0;for(var C$Tzv=0,C$Tzx=C$Tzf.length;C$Tzv<C$Tzx;C$Tzv++)C$Tzr[C$Tzf[C$Tzv]._name]=!0;var C$Tzn=this._layers=[],C$Tzd=this._groups=[],C$Tzf=this._images=[],C$Tzb=this._mapInfo,C$TzA=this.node,C$Tzs=C$Tzb.getAllChildren(),C$TzC=this._textures,C$TzS=0,C$TzT=0;if(C$Tzs&&0<C$Tzs.length)for(var C$Tzo=0,C$Tzw=C$Tzs.length;C$Tzo<C$Tzw;C$Tzo++){var C$TzE,C$Tza=C$Tzs[C$Tzo],C$Tzc=C$Tza.name,C$Tzl=this.node.getChildByName(C$Tzc);C$Tzr[C$Tzc]=!1,C$Tzl||((C$Tzl=new cc.Node()).name=C$Tzc,C$TzA.addChild(C$Tzl)),C$Tzl.setSiblingIndex(C$Tzo),C$Tzl.active=C$Tza.visible,C$Tza instanceof cc.TMXLayerInfo?((C$Tzc=(C$Tzc=C$Tzl.getComponent(cc.TiledLayer))||C$Tzl.addComponent(cc.TiledLayer))._init(C$Tza,C$Tzb,C$Tzt,C$TzC,C$Tze),C$Tza.ownTiles=!1,C$Tzn.push(C$Tzc)):C$Tza instanceof cc.TMXObjectGroupInfo?((C$Tzc=(C$Tzc=C$Tzl.getComponent(cc.TiledObjectGroup))||C$Tzl.addComponent(cc.TiledObjectGroup))._init(C$Tza,C$Tzb,C$Tze),C$Tzd.push(C$Tzc)):C$Tza instanceof cc.TMXImageLayerInfo&&(C$Tzc=C$Tza.sourceImage,C$Tzl.opacity=C$Tza.opacity,C$Tzl.layerInfo=C$Tza,C$Tzl._offset=cc.v2(C$Tza.offset.x,-C$Tza.offset.y),(C$TzE=(C$Tza=(C$Tza=C$Tzl.getComponent(cc.Sprite))||C$Tzl.addComponent(cc.Sprite)).spriteFrame||new cc.SpriteFrame()).setTexture(C$Tzc),C$Tza.spriteFrame=C$TzE,C$Tzl.width=C$Tzc.width,C$Tzl.height=C$Tzc.height,C$Tzf.push(C$Tzl)),C$TzS=Math.max(C$TzS,C$Tzl.width),C$TzT=Math.max(C$TzT,C$Tzl.height);}for(var C$TzM=C$TzA.children,C$TzI=0,C$TzB=C$TzM.length;C$TzI<C$TzB;C$TzI++){var C$TzR=C$TzM[C$TzI];C$Tzr[C$TzR._name]&&C$TzR.destroy();}this.node.width=C$TzS,this.node.height=C$TzT,this._syncAnchorPoint();},_buildWithMapInfo:function(C$Tzt){this._mapInfo=C$Tzt,this._mapSize=C$Tzt.getMapSize(),this._tileSize=C$Tzt.getTileSize(),this._mapOrientation=C$Tzt.orientation,this._properties=C$Tzt.properties,this._tileProperties=C$Tzt.getTileProperties(),this._imageLayers=C$Tzt.getImageLayers(),this._animations=C$Tzt.getTileAnimations(),this._tilesets=C$Tzt.getTilesets();for(var C$Tze=this._tilesets,C$Tzi=[],C$Tzn=this._textures.length=0,C$Tzr=C$Tze.length;C$Tzn<C$Tzr;++C$Tzn){var C$Tzs=C$Tze[C$Tzn];C$Tzs&&C$Tzs.sourceImage&&(this._textures[C$Tzn]=C$Tzs.sourceImage,C$Tzi.push(C$Tzs.sourceImage));}for(var C$Tzo=0;C$Tzo<this._imageLayers.length;C$Tzo++){var C$Tza=this._imageLayers[C$Tzo];C$Tza&&C$Tza.sourceImage&&C$Tzi.push(C$Tza.sourceImage);}cc.TiledMap.loadAllTextures(C$Tzi,function(){this._buildLayerAndGroup();}.bind(this));},update:function(C$Tzt){var C$Tze,C$Tzi=this._animations,C$Tzn=this._texGrids;for(C$Tze in C$Tzi){var C$Tzr=C$Tzi[C$Tze],C$Tzs=C$Tzr.frames,C$Tzo=C$Tzs[C$Tzr.frameIdx];C$Tzr.dt+=C$Tzt,C$Tzo.duration<C$Tzr.dt&&(C$Tzr.dt=0,C$Tzr.frameIdx++,C$Tzr.frameIdx>=C$Tzs.length&&(C$Tzr.frameIdx=0),C$Tzo=C$Tzs[C$Tzr.frameIdx]),C$Tzn[C$Tze]=C$Tzo.grid;}}});cc.TiledMap=C$Tze.exports=C$Tzt,cc.TiledMap.loadAllTextures=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.length;if(0!==C$Tzi)for(var C$Tzn=0,C$Tzr=function(){C$Tzi<=++C$Tzn&&C$Tze();},C$Tzs=0;C$Tzs<C$Tzi;C$Tzs++){var C$Tzo=C$Tzt[C$Tzs];C$Tzo.loaded?C$Tzr():C$Tzo.once(H[514],function(){C$Tzr();});}else C$Tze();},cc.TiledMap.fillTextureGrids=function(C$Tzt,C$Tze,C$Tzh){for(var C$Tzi=C$Tzt.sourceImage,C$Tzu=(C$Tzt.imageSize.width&&C$Tzt.imageSize.height||(C$Tzt.imageSize.width=C$Tzi.width,C$Tzt.imageSize.height=C$Tzi.height),C$Tzt._tileSize.width),C$Tz_=C$Tzt._tileSize.height,C$Tzn=C$Tzi.width,C$Tzr=C$Tzi.height,C$Tzi=C$Tzt.spacing,C$Tzs=C$Tzt.margin,C$Tzd=Math.floor((C$Tzn-2*C$Tzs+C$Tzi)/(C$Tzu+C$Tzi)),C$Tzs=Math.floor((C$Tzr-2*C$Tzs+C$Tzi)/(C$Tz_+C$Tzi))*C$Tzd,C$Tzo=C$Tzt.firstGid,C$Tza=null,C$Tzc=!!C$Tze[C$Tzo],C$Tzl=cc.macro.FIX_ARTIFACTS_BY_STRECHING_TEXEL_TMX?.5:0,C$Tzf=C$Tzt.firstGid+(C$Tzs=C$Tzs<=0?1:C$Tzs);C$Tzo<C$Tzf&&((C$Tzc=!(C$Tzc&&!C$Tze[C$Tzo])&&C$Tzc)||!C$Tze[C$Tzo]);++C$Tzo)C$Tzt.rectForGID(C$Tzo,C$Tza={texId:C$Tzh,tileset:C$Tzt,x:0,y:0,width:C$Tzu,height:C$Tz_,t:0,l:0,r:0,b:0,gid:C$Tzo}),C$Tza.x+=C$Tzl,C$Tza.y+=C$Tzl,C$Tza.width-=2*C$Tzl,C$Tza.height-=2*C$Tzl,C$Tza.t=C$Tza.y/C$Tzr,C$Tza.l=C$Tza.x/C$Tzn,C$Tza.r=(C$Tza.x+C$Tza.width)/C$Tzn,C$Tza.b=(C$Tza.y+C$Tza.height)/C$Tzr,C$Tze[C$Tzo]=C$Tza;},cc.js.obsolete(cc.TiledMap.prototype,H[2682],H[2683],!0),cc.js.get(cc.TiledMap.prototype,H[2684],function(){return cc.errorID(7203),[];},!1);},{"./CCTMXXMLParser":336,"./CCTiledLayer":337,"./CCTiledMapAsset":339,"./CCTiledObjectGroup":341,"./CCTiledTile":342}],339:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({name:H[2685],extends:cc.Asset,properties:{tmxXmlStr:"",textures:{default:[],type:[cc.Texture2D]},textureNames:[cc.String],textureSizes:{default:[],type:[cc.Size]},imageLayerTextures:{default:[],type:[cc.Texture2D]},imageLayerTextureNames:[cc.String],tsxFiles:[cc.TextAsset],tsxFileNames:[cc.String]},statics:{preventDeferredLoadDependents:!0},createNode:!1});cc.TiledMapAsset=C$Tzn,C$Tze.exports=C$Tzn;},{}],340:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=(C$Tzt=C$Tzt(H[2265]))&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};C$Tzt=cc.Class({name:H[2686],ctor:function(){this._dataList=[],this._offset=0;},_pushRenderData:function(){var C$Tzt={};C$Tzt.ia=new C$Tzn.default(),C$Tzt.nodesRenderList=[],this._dataList.push(C$Tzt);},popRenderData:function(C$Tzt){this._offset>=this._dataList.length&&this._pushRenderData();var C$Tze=this._dataList[this._offset],C$Tzi=(C$Tze.nodesRenderList.length=0,C$Tze.ia);return C$Tzi._vertexBuffer=C$Tzt._vb,C$Tzi._indexBuffer=C$Tzt._ib,C$Tzi._start=C$Tzt.indiceOffset,C$Tzi._count=0,this._offset++,C$Tze;},pushNodesList:function(C$Tzt,C$Tze){C$Tzt.nodesRenderList.push(C$Tze);},reset:function(){this._offset=0;}});cc.TiledMapRenderDataList=C$Tze.exports=C$Tzt;},{"../renderer/core/input-assembler":302}],341:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({name:H[2687],extends:cc.Component,getPositionOffset:function(){return this._positionOffset;},getProperties:function(){this._properties;},getGroupName:function(){return this._groupName;},getProperty:function(C$Tzt){return this._properties[C$Tzt.toString()];},getObject:function(C$Tzt){for(var C$Tze=0,C$Tzi=this._objects.length;C$Tze<C$Tzi;C$Tze++){var C$Tzn=this._objects[C$Tze];if(C$Tzn&&C$Tzn.name===C$Tzt)return C$Tzn;}return null;},getObjects:function(){return this._objects;},_init:function(C$Tzh,C$Tzt,C$Tzu){for(var C$Tze=cc.TiledMap,C$Tz_=C$Tze.TMXObjectType,C$Tzd=C$Tze.Orientation,C$Tzf=C$Tze.StaggerAxis,C$Tze=C$Tze.TileFlag,C$Tzp=C$Tze.FLIPPED_MASK,C$Tzm=C$Tze.HORIZONTAL,C$Tzy=C$Tze.VERTICAL,C$Tzi=(this._groupName=C$Tzh.name,this._positionOffset=C$Tzh.offset,this._mapInfo=C$Tzt,this._properties=C$Tzh.getProperties(),this._offset=cc.v2(C$Tzh.offset.x,-C$Tzh.offset.y),this._opacity=C$Tzh._opacity,C$Tzt._mapSize),C$Tzn=C$Tzt._tileSize,C$Tze=0,C$Tzg=0,C$Tzv=(C$Tzt.orientation===C$Tzd.HEX?C$Tzt.getStaggerAxis()===C$Tzf.STAGGERAXIS_X?(C$Tzg=C$Tzn.height*(C$Tzi.height+.5),C$Tze=(C$Tzn.width+C$Tzt.getHexSideLength())*Math.floor(C$Tzi.width/2)+C$Tzn.width*(C$Tzi.width%2)):(C$Tze=C$Tzn.width*(C$Tzi.width+.5),C$Tzg=(C$Tzn.height+C$Tzt.getHexSideLength())*Math.floor(C$Tzi.height/2)+C$Tzn.height*(C$Tzi.height%2)):C$Tzg=C$Tzt.orientation===C$Tzd.ISO?(C$Tzf=C$Tzi.width+C$Tzi.height,C$Tze=.5*C$Tzn.width*C$Tzf,.5*C$Tzn.height*C$Tzf):(C$Tze=C$Tzi.width*C$Tzn.width,C$Tzi.height*C$Tzn.height),this.node.setContentSize(C$Tze,C$Tzg),C$Tze*this.node.anchorX),C$Tzx=C$Tzg*(1-this.node.anchorY),C$Tzb=C$Tzh._objects,C$TzA={},C$TzC=0,C$TzS=C$Tzb.length;C$TzC<C$TzS;C$TzC++){var C$TzT,C$Tzr,C$Tzs,C$Tzw,C$Tzo,C$TzE,C$TzM,C$TzI,C$Tza,C$Tzc=C$Tzb[C$TzC],C$Tzl=C$Tzc.type,C$TzB=(C$Tzc.offset=cc.v2(C$Tzc.x,C$Tzc.y),C$Tzc.points||C$Tzc.polylinePoints);if(C$TzB)for(var C$TzR=0;C$TzR<C$TzB.length;C$TzR++)C$TzB[C$TzR].y*=-1;C$Tzd.ISO!==C$Tzt.orientation?C$Tzc.y=C$Tzg-C$Tzc.y:(C$TzT=C$Tzc.x/C$Tzn.height,C$Tzr=C$Tzc.y/C$Tzn.height,C$Tzc.x=.5*C$Tzn.width*(C$Tzi.height+C$TzT-C$Tzr),C$Tzc.y=.5*C$Tzn.height*(C$Tzi.width+C$Tzi.height-C$TzT-C$Tzr)),C$Tzl===C$Tz_.TEXT&&(C$TzA[C$TzT=H[1000]+C$Tzc.id]=!0,(C$Tzr=(C$Tzr=this.node.getChildByName(C$TzT))||new cc.Node()).anchorX=0,C$Tzr.anchorY=1,C$Tzr.angle=-C$Tzc.rotation,C$Tzr.x=C$Tzc.x-C$Tzv,C$Tzr.y=C$Tzc.y-C$Tzx,C$Tzr.name=C$TzT,C$Tzr.parent=this.node,C$Tzr.color=C$Tzc.color,C$Tzr.opacity=this._opacity,C$Tzr.setSiblingIndex(C$TzC),(C$Tzs=(C$Tzs=C$Tzr.getComponent(cc.Label))||C$Tzr.addComponent(cc.Label)).overflow=cc.Label.Overflow.SHRINK,C$Tzs.lineHeight=C$Tzc.height,C$Tzs.string=C$Tzc.text,C$Tzs.horizontalAlign=C$Tzc.halign,C$Tzs.verticalAlign=C$Tzc.valign,C$Tzs.fontSize=C$Tzc.pixelsize,C$Tzr.width=C$Tzc.width,C$Tzr.height=C$Tzc.height),C$Tzl!==C$Tz_.IMAGE||(C$Tzl=C$Tzu[((C$Tzs=C$Tzc.gid)&C$Tzp)>>>0])&&(C$Tza=C$Tzl.tileset,C$TzA[C$Tzw=H[1731]+C$Tzc.id]=!0,C$Tzo=this.node.getChildByName(C$Tzw),C$TzE=C$Tzc.width||C$Tzl.width,C$TzM=C$Tzc.height||C$Tzl.height,C$TzI=C$Tza.tileOffset.x,C$Tza=C$Tza.tileOffset.y,C$Tzo instanceof cc.PrivateNode&&(C$Tzo.removeFromParent(),C$Tzo.destroy(),C$Tzo=null),C$Tzo=C$Tzo||new cc.Node(),C$Tzd.ISO==C$Tzt.orientation?C$Tzo.anchorX=.5+C$TzI/C$TzE:C$Tzo.anchorX=C$TzI/C$TzE,C$Tzo.anchorY=C$Tza/C$TzM,C$Tzo.angle=-C$Tzc.rotation,C$Tzo.x=C$Tzc.x-C$Tzv,C$Tzo.y=C$Tzc.y-C$Tzx,C$Tzo.name=C$Tzw,C$Tzo.parent=this.node,C$Tzo.opacity=this._opacity,C$Tzo.setSiblingIndex(C$TzC),C$Tza=(C$Tza=(C$TzI=(C$TzI=C$Tzo.getComponent(cc.Sprite))||C$Tzo.addComponent(cc.Sprite)).spriteFrame)||new cc.SpriteFrame(),(C$Tzs&C$Tzm)>>>0?C$Tza.setFlipX(!0):C$Tza.setFlipX(!1),(C$Tzs&C$Tzy)>>>0?C$Tza.setFlipY(!0):C$Tza.setFlipY(!1),C$Tza.setTexture(C$Tzl.tileset.sourceImage,cc.rect(C$Tzl)),C$TzI.spriteFrame=C$Tza,C$TzI.setVertsDirty(),C$Tzo.width=C$TzE,C$Tzo.height=C$TzM);}this._objects=C$Tzb;for(var C$TzP=this.node.children,C$TzD=/^(?:img|text)\d+$/,C$TzL=0,C$TzV=C$TzP.length;C$TzL<C$TzV;C$TzL++){var C$TzO=C$TzP[C$TzL],C$TzF=C$TzO._name;C$TzD.test(C$TzF)&&!C$TzA[C$TzF]&&C$TzO.destroy();}}});cc.TiledObjectGroup=C$Tze.exports=C$Tzn;},{}],342:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=cc.Class({name:H[2688],extends:cc.Component,editor:!1,ctor:function(){this._layer=null;},properties:{_x:0,_y:0,x:{get:function(){return this._x;},set:function(C$Tzt){C$Tzt!==this._x&&(this._layer&&this._layer._isInvalidPosition(C$Tzt,this._y)?cc.warn(H[2689],0,this._layer._layerSize.width):(this._resetTile(),this._x=C$Tzt,this._updateInfo()));},type:cc.Integer},y:{get:function(){return this._y;},set:function(C$Tzt){C$Tzt!==this._y&&(this._layer&&this._layer._isInvalidPosition(this._x,C$Tzt)?cc.warn(H[2690],0,this._layer._layerSize.height):(this._resetTile(),this._y=C$Tzt,this._updateInfo()));},type:cc.Integer},gid:{get:function(){return this._layer?this._layer.getTileGIDAt(this._x,this._y):0;},set:function(C$Tzt){this._layer&&this._layer.setTileGIDAt(C$Tzt,this._x,this._y);},type:cc.Integer}},onEnable:function(){var C$Tzt=this.node.parent;this._layer=C$Tzt.getComponent(cc.TiledLayer),this._resetTile(),this._updateInfo();},onDisable:function(){this._resetTile();},_resetTile:function(){this._layer&&this._layer.getTiledTileAt(this._x,this._y)===this&&this._layer.setTiledTileAt(this._x,this._y,null);},_updateInfo:function(){var C$Tzt,C$Tze;this._layer&&(C$Tzt=this._x,C$Tze=this._y,this._layer.getTiledTileAt(C$Tzt,C$Tze)?cc.warn(H[2691],C$Tzt,C$Tze):(this.node.setPosition(this._layer.getPositionAt(C$Tzt,C$Tze)),this._layer.setTiledTileAt(C$Tzt,C$Tze,this)));}});cc.TiledTile=C$Tze.exports=C$Tzn;},{}],343:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[2692]),C$Tzt(H[2693]),C$Tzt(H[2694]),C$Tzt(H[2695]);},{"./CCTiledMap":338,"./CCTiledMapRenderDataList":340,"./tiledmap-buffer":344,"./tmx-layer-assembler":345}],344:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt=cc.Class({name:H[2696],extends:C$Tzt(H[2267]),_updateOffset:function(){var C$Tzt=this._offsetInfo;C$Tzt.vertexOffset=this.vertexOffset,C$Tzt.indiceOffset=this.indiceOffset,C$Tzt.byteOffset=this.byteOffset;},adjust:function(C$Tzt,C$Tze){this.vertexOffset+=C$Tzt,this.indiceOffset+=C$Tze,this.indiceStart=this.indiceOffset,this.byteOffset=this.byteOffset+C$Tzt*this._vertexBytes,this._dirty=!0;}});cc.TiledMapBuffer=C$Tze.exports=C$Tzt;},{"../core/renderer/webgl/quad-buffer":249}],345:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=(C$Tzn=C$Tzt(H[2264]))&&C$Tzn.__esModule?C$Tzn:{default:C$Tzn},C$Tzd=C$Tzt(H[2597]);function C$Tzr(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzs(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzs(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzs(C$Tzt){return(C$Tzs=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzo=C$Tzt(H[2678]),C$Tza=C$Tzt(H[2692]),C$TzV=C$Tza.TileFlag,C$TzO=C$TzV.FLIPPED_MASK,C$Tzc=C$Tzt(H[2266]),C$Tzl=C$Tzt(H[2268]).vfmtPosUvColor,C$TzF=parseInt(10922.5),C$Tzf=C$Tza.RenderOrder,C$Tzh=C$Tzt(H[2149]),C$Tzp=cc.mat4(),C$Tzm=cc.v3(),C$Tzy={row:0,col:0},C$TzN={x:0,y:0},C$Tzw={x:0,y:0},C$TzE={x:0,y:0},C$Tzk={x:0,y:0},C$TzM=null,C$TzG=null,C$Tzz=0,C$TzI=0,C$TzU=0,C$TzW=0,C$Tzg=null,C$TzB=null,C$TzR=null,C$TzP=null,C$TzH=null,C$TzD=null,C$TzL=null,C$Tzj=null;function C$Tzv(C$Tzt){C$Tzt._updateLocalMatrix(),C$Tzd.Mat4.mul(C$Tzt._worldMatrix,C$Tzg,C$Tzt._matrix),C$Tzt._renderFlag&=~(C$Tzh.FLAG_TRANSFORM|C$Tzh.FLAG_BREAK_FLOW),C$Tzh.visitRootNode(C$Tzt),C$Tzt._renderFlag|=C$Tzh.FLAG_BREAK_FLOW;}function C$TzX(){0!==C$TzG._count&&(C$TzB.material=C$TzM.material,C$TzB.node=C$TzD.node,C$TzB._flushIA(C$TzM.ia),C$TzF<=C$Tzz?(C$TzP.uploadData(),C$TzP.switchBuffer(),C$TzL=C$TzP._vData,C$Tzj=C$TzP._uintVData,C$TzM=C$TzR.popRenderData(C$TzP),C$TzG=C$TzM.ia,C$Tzz=C$TzI=0):(C$TzM=C$TzR.popRenderData(C$TzP),C$TzG=C$TzM.ia),C$TzM.material=C$TzH);}function C$TzY(C$Tzt,C$Tze){var C$Tzi=C$TzD._getNodesByRowCol(C$Tzt,C$Tze);if(C$Tzi&&0!=C$Tzi.count){var C$Tzn=C$Tzi.list,C$Tzr=0,C$Tzs=0;for(C$TzX(),C$TzB.worldMatDirty++;C$Tzr<C$Tzi.count;){var C$Tzo=C$Tzn[C$Tzs];C$Tzs++,C$Tzo&&(C$Tzv(C$Tzo.node),C$Tzr!==C$Tzs&&((C$Tzn[C$Tzr]=C$Tzo)._index=C$Tzr),C$Tzr++);}C$Tzn.length=C$Tzr,C$TzB.worldMatDirty--,C$TzR.pushNodesList(C$TzM,C$Tzn),C$TzB._flush(),C$TzB.node=C$TzD.node;}}C$Tzu=C$Tzn.default,C$Tza=C$Tzu,(C$Tzt=C$Tz_).prototype=Object.create(C$Tza.prototype),(C$Tzt.prototype.constructor=C$Tzt).__proto__=C$Tza,C$Tzr(C$Tz_),(C$Tzt=C$Tz_.prototype).updateRenderData=function(C$Tzt){C$Tzt._renderDataList||(C$Tzt._buffer=new cc.TiledMapBuffer(C$Tzc._handle,C$Tzl),C$Tzt._renderDataList=new cc.TiledMapRenderDataList());},C$Tzt.fillBuffers=function(C$Tzt,C$Tze){if(0!==C$Tzt._vertices.length){C$Tzt._updateCulling();var C$Tzi,C$Tzn,C$Tzh=C$Tzt.node;if(C$TzU=C$Tzt._leftDownToCenterX,C$TzW=C$Tzt._leftDownToCenterY,C$Tzg=C$Tzh._worldMatrix,C$TzB=C$Tze,C$TzR=(C$TzD=C$Tzt)._renderDataList,C$TzP=C$Tzt._buffer,C$Tzt._isCullingDirty()||C$Tzt._isUserNodeDirty()||C$Tzt._hasAnimation()||C$Tzt._hasTiledNode()){C$TzP.reset();var C$Tzr=((C$Tzn=C$Tzt._enableCulling?(C$Tzi=(C$Tzr=C$Tzt._cullingRect).leftDown,C$Tzr.rightTop):(C$Tzi=C$Tzy,C$Tzt._rightTop)).row-C$Tzi.row+1)*(C$Tzn.col-C$Tzi.col+1);switch(C$TzF<C$Tzr&&(C$Tzr=C$TzF),C$TzP.request(4*C$Tzr,6*C$Tzr),C$Tzt._renderOrder){case C$Tzf.RightDown:this.traverseGrids(C$Tzi,C$Tzn,-1,1);break;case C$Tzf.LeftDown:this.traverseGrids(C$Tzi,C$Tzn,-1,-1);break;case C$Tzf.RightUp:this.traverseGrids(C$Tzi,C$Tzn,1,1);break;case C$Tzf.LeftUp:this.traverseGrids(C$Tzi,C$Tzn,1,-1);}C$Tzt._setCullingDirty(!1),C$Tzt._setUserNodeDirty(!1);}else for(var C$Tzs,C$Tzo,C$Tza,C$Tzc=0;C$Tzc<C$TzR._offset;C$Tzc++){if(0<(C$Tzo=(C$Tzs=C$TzR._dataList[C$Tzc]).nodesRenderList).length){C$Tze.worldMatDirty++;for(var C$Tzl=0;C$Tzl<C$Tzo.length;C$Tzl++)if(C$Tza=C$Tzo[C$Tzl])for(var C$Tzu=0;C$Tzu<C$Tza.length;C$Tzu++){var C$Tz_=C$Tza[C$Tzu];C$Tz_&&C$Tzv(C$Tz_.node);}C$Tze.worldMatDirty--,C$Tze._flush();}0<C$Tzs.ia._count&&(C$Tze.material=C$Tzs.material,C$Tze.node=C$Tzh,C$Tze._flushIA(C$Tzs.ia));}C$Tzj=C$TzL=C$TzD=C$TzH=C$TzP=C$TzR=C$TzB=C$Tzg=C$TzG=C$TzM=null;}},C$Tzt.traverseGrids=function(C$Tzt,C$Tze,C$Tzh,C$Tzu){if(C$TzR.reset(),!(C$Tze.row<0||C$Tze.col<0)){C$TzM=C$TzR.popRenderData(C$TzP),C$TzG=C$TzM.ia,C$TzL=C$TzP._vData,C$Tzj=C$TzP._uintVData,C$TzI=C$Tzz=0,C$TzH=null;for(var C$Tzi,C$Tzn,C$Tz_,C$Tzr,C$Tzs,C$Tzd,C$Tzo,C$Tzf,C$Tza,C$Tzp,C$Tzm,C$Tzc,C$Tzl,C$Tzy=C$TzD.node._color._val,C$Tzg=C$TzD._tiledTiles,C$Tzv=C$TzD._texGrids,C$Tzx=C$TzD._tiles,C$Tzb=C$TzD._texIdToMatIndex,C$TzA=C$TzD._materials,C$TzC=C$TzD._vertices,C$TzS=-1,C$TzT=-1==C$Tzh?(C$Tzr=C$Tze.row,C$Tzt.row):(C$Tzr=C$Tzt.row,C$Tze.row);0<=(C$TzT-C$Tzr)*C$Tzh;C$Tzr+=C$Tzh)for(C$Tzi=C$TzC[C$Tzr],C$Tzm=0==(C$Tzp=C$TzD._getNodesCountByRow(C$Tzr))&&null!=C$Tzi,C$Tz_=1==C$Tzu?(C$Tzn=C$Tzm&&C$Tzt.col<C$Tzi.minCol?C$Tzi.minCol:C$Tzt.col,C$Tzm&&C$Tze.col>C$Tzi.maxCol?C$Tzi.maxCol:C$Tze.col):(C$Tzn=C$Tzm&&C$Tze.col>C$Tzi.maxCol?C$Tzi.maxCol:C$Tze.col,C$Tzm&&C$Tzt.col<C$Tzi.minCol?C$Tzi.minCol:C$Tzt.col);0<=(C$Tz_-C$Tzn)*C$Tzu;C$Tzn+=C$Tzu)(C$Tzc=C$Tzi&&C$Tzi[C$Tzn])?(C$Tzs=C$Tzv[((C$Tzd=C$Tzx[C$Tzc.index])&C$TzO)>>>0])&&(C$TzS!==C$Tzs.texId&&(-1!==C$TzS&&C$TzX(),C$Tza=C$Tzb[C$TzS=C$Tzs.texId],C$TzH=C$TzA[C$Tza],C$TzM.material=C$TzH),C$TzH&&(C$Tza=C$Tzc.left-C$TzU,C$Tzo=C$Tzc.bottom-C$TzW,C$Tzf=C$Tza+(C$Tzl=C$Tzs.tileset._tileSize).width,C$Tzl=C$Tzo+C$Tzl.height,(C$Tzc=C$Tzg[C$Tzc.index])?this.fillByTiledNode(C$Tzc.node,C$TzL,C$Tzj,C$Tza,C$Tzf,C$Tzl,C$Tzo):(C$TzL[C$TzI]=C$Tza,C$TzL[C$TzI+1]=C$Tzl,C$Tzj[C$TzI+4]=C$Tzy,C$TzL[C$TzI+5]=C$Tza,C$TzL[C$TzI+6]=C$Tzo,C$Tzj[C$TzI+9]=C$Tzy,C$TzL[C$TzI+10]=C$Tzf,C$TzL[C$TzI+11]=C$Tzl,C$Tzj[C$TzI+14]=C$Tzy,C$TzL[C$TzI+15]=C$Tzf,C$TzL[C$TzI+16]=C$Tzo,C$Tzj[C$TzI+19]=C$Tzy),C$Tzc=C$Tzs,C$Tzl=C$Tzd,C$TzN.x=C$Tzc.l,C$TzN.y=C$Tzc.t,C$Tzw.x=C$Tzc.r,C$Tzw.y=C$Tzc.t,C$TzE.x=C$Tzc.l,C$TzE.y=C$Tzc.b,C$Tzk.x=C$Tzc.r,C$Tzk.y=C$Tzc.b,C$Tzc=null,(C$Tzl&C$TzV.DIAGONAL)>>>0&&(C$Tzc=C$Tzw,C$Tzw=C$TzE,C$TzE=C$Tzc),(C$Tzl&C$TzV.HORIZONTAL)>>>0&&(C$Tzc=C$TzN,C$TzN=C$Tzw,C$Tzw=C$Tzc,C$Tzc=C$TzE,C$TzE=C$Tzk,C$Tzk=C$Tzc),(C$Tzl&C$TzV.VERTICAL)>>>0&&(C$Tzc=C$TzN,C$TzN=C$TzE,C$TzE=C$Tzc,C$Tzc=C$Tzw,C$Tzw=C$Tzk,C$Tzk=C$Tzc),C$TzL[C$TzI+2]=C$TzN.x,C$TzL[C$TzI+3]=C$TzN.y,C$TzL[C$TzI+7]=C$TzE.x,C$TzL[C$TzI+8]=C$TzE.y,C$TzL[C$TzI+12]=C$Tzw.x,C$TzL[C$TzI+13]=C$Tzw.y,C$TzL[C$TzI+17]=C$Tzk.x,C$TzL[C$TzI+18]=C$Tzk.y,C$TzI+=20,C$TzP.adjust(4,6),C$TzG._count+=6,C$Tzz++,0<C$Tzp&&C$TzY(C$Tzr,C$Tzn),C$TzF<=C$Tzz&&C$TzX())):0<C$Tzp&&C$TzY(C$Tzr,C$Tzn);C$TzP.uploadData(),0<C$TzG._count&&(C$TzB.material=C$TzM.material,C$TzB.node=C$TzD.node,C$TzB._flushIA(C$TzM.ia));}},C$Tzt.fillByTiledNode=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo){C$Tzt._updateLocalMatrix(),C$Tzd.Mat4.copy(C$Tzp,C$Tzt._matrix),C$Tzd.Vec3.set(C$Tzm,-(C$Tzn+C$TzU),-(C$Tzo+C$TzW),0),C$Tzd.Mat4.transform(C$Tzp,C$Tzp,C$Tzm);var C$Tza=C$Tzp.m,C$Tzc=C$Tza[0],C$Tzl=C$Tza[1],C$Tzh=C$Tza[4],C$Tzu=C$Tza[5],C$Tz_=C$Tza[12],C$Tza=C$Tza[13],C$Tzt=C$Tzt._color._val;C$Tze[C$TzI]=C$Tzn*C$Tzc+C$Tzs*C$Tzh+C$Tz_,C$Tze[C$TzI+1]=C$Tzn*C$Tzl+C$Tzs*C$Tzu+C$Tza,C$Tzi[C$TzI+4]=C$Tzt,C$Tze[C$TzI+5]=C$Tzn*C$Tzc+C$Tzo*C$Tzh+C$Tz_,C$Tze[C$TzI+6]=C$Tzn*C$Tzl+C$Tzo*C$Tzu+C$Tza,C$Tzi[C$TzI+9]=C$Tzt,C$Tze[C$TzI+10]=C$Tzr*C$Tzc+C$Tzs*C$Tzh+C$Tz_,C$Tze[C$TzI+11]=C$Tzr*C$Tzl+C$Tzs*C$Tzu+C$Tza,C$Tzi[C$TzI+14]=C$Tzt,C$Tze[C$TzI+15]=C$Tzr*C$Tzc+C$Tzo*C$Tzh+C$Tz_,C$Tze[C$TzI+16]=C$Tzr*C$Tzl+C$Tzo*C$Tzu+C$Tza,C$Tzi[C$TzI+19]=C$Tzt;};var C$Tzu,C$Tza=C$Tz_;function C$Tz_(){return C$Tzu.apply(this,arguments)||this;}C$Tzi.default=C$Tza,C$Tzn.default.register(C$Tzo,C$Tza),C$Tze.exports=C$Tzi.default;},{"../core/renderer/":220,"../core/renderer/assembler":217,"../core/renderer/render-flow":221,"../core/renderer/webgl/vertex-format":252,"../core/value-types":279,"./CCTiledLayer":337,"./CCTiledMap":338}],346:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[2697]),C$Tzr=C$Tzn.EventType,C$Tzs=cc.Enum({REMOTE:0,LOCAL:1}),C$Tzt=cc.Class({name:H[2698],extends:cc.Component,editor:!1,properties:{_resourceType:C$Tzs.REMOTE,resourceType:{tooltip:!1,type:C$Tzs,set:function(C$Tzt){this._resourceType=C$Tzt,this._updateVideoSource();},get:function(){return this._resourceType;}},_remoteURL:"",remoteURL:{tooltip:!1,type:cc.String,set:function(C$Tzt){this._remoteURL=C$Tzt,this._updateVideoSource();},get:function(){return this._remoteURL;}},_clip:{default:null,type:cc.Asset},clip:{tooltip:!1,get:function(){return this._clip;},set:function(C$Tzt){this._clip=C$Tzt,this._updateVideoSource();},type:cc.Asset},currentTime:{tooltip:!1,type:cc.Float,set:function(C$Tzt){this._impl&&this._impl.seekTo(C$Tzt);},get:function(){return this._impl?this._currentStatus===C$Tzr.NONE||this._currentStatus===C$Tzr.STOPPED||this._currentStatus===C$Tzr.META_LOADED||this._currentStatus===C$Tzr.READY_TO_PLAY?0:this._currentStatus===C$Tzr.COMPLETED?this._impl.duration():this._impl.currentTime():-1;}},_volume:1,volume:{get:function(){return this._volume;},set:function(C$Tzt){this._volume=C$Tzt,this.isPlaying()&&!this._mute&&this._syncVolume();},range:[0,1],type:cc.Float,tooltip:!1},_mute:!1,mute:{get:function(){return this._mute;},set:function(C$Tzt){this._mute=C$Tzt,this._syncVolume();},tooltip:!1},keepAspectRatio:{tooltip:!1,default:!0,type:cc.Boolean,notify:function(){this._impl&&this._impl.setKeepAspectRatioEnabled(this.keepAspectRatio);}},_isFullscreen:{default:!1,formerlySerializedAs:"_N$isFullscreen"},isFullscreen:{get:function(){return this._isFullscreen=this._impl&&this._impl.isFullScreenEnabled(),this._isFullscreen;},set:function(C$Tzt){this._isFullscreen=C$Tzt,this._impl&&this._impl.setFullScreenEnabled(C$Tzt);},animatable:!1,tooltip:!1},_stayOnBottom:!1,stayOnBottom:{get:function(){return this._stayOnBottom;},set:function(C$Tzt){this._stayOnBottom=C$Tzt,this._impl&&this._impl.setStayOnBottom(C$Tzt);},animatable:!1,tooltip:!1},videoPlayerEvent:{default:[],type:cc.Component.EventHandler}},statics:{EventType:C$Tzr,ResourceType:C$Tzs,Impl:C$Tzn},ctor:function(){this._impl=new C$Tzn(),this._currentStatus=C$Tzr.NONE;},_syncVolume:function(){var C$Tzt,C$Tze=this._impl;C$Tze&&(C$Tzt=this._mute?0:this._volume,C$Tze.setVolume(C$Tzt));},_updateVideoSource:function(){var C$Tzt="";this.resourceType===C$Tzs.REMOTE?C$Tzt=this.remoteURL:this._clip&&(C$Tzt=this._clip.nativeUrl||""),C$Tzt&&cc.loader.md5Pipe&&(C$Tzt=cc.loader.md5Pipe.transformURL(C$Tzt)),this._impl.setURL(C$Tzt,this._mute||0===this._volume),this._impl.setKeepAspectRatioEnabled(this.keepAspectRatio);},onLoad:function(){var C$Tzt=this._impl;C$Tzt&&(C$Tzt.createDomElementIfNeeded(this._mute||0===this._volume),C$Tzt.setStayOnBottom(this._stayOnBottom),this._updateVideoSource(),C$Tzt.seekTo(this.currentTime),C$Tzt.setFullScreenEnabled(this._isFullscreen),this.pause(),C$Tzt.setEventListener(C$Tzr.PLAYING,this.onPlaying.bind(this)),C$Tzt.setEventListener(C$Tzr.PAUSED,this.onPasued.bind(this)),C$Tzt.setEventListener(C$Tzr.STOPPED,this.onStopped.bind(this)),C$Tzt.setEventListener(C$Tzr.COMPLETED,this.onCompleted.bind(this)),C$Tzt.setEventListener(C$Tzr.META_LOADED,this.onMetaLoaded.bind(this)),C$Tzt.setEventListener(C$Tzr.CLICKED,this.onClicked.bind(this)),C$Tzt.setEventListener(C$Tzr.READY_TO_PLAY,this.onReadyToPlay.bind(this)));},onRestore:function(){this._impl||(this._impl=new C$Tzn());},onEnable:function(){this._impl&&this._impl.enable();},onDisable:function(){this._impl&&this._impl.disable();},onDestroy:function(){this._impl&&(this._impl.destroy(),this._impl=null);},update:function(C$Tzt){this._impl&&this._impl.updateMatrix(this.node);},onReadyToPlay:function(){this._currentStatus=C$Tzr.READY_TO_PLAY,cc.Component.EventHandler.emitEvents(this.videoPlayerEvent,this,C$Tzr.READY_TO_PLAY),this.node.emit(H[2699],this);},onMetaLoaded:function(){this._currentStatus=C$Tzr.META_LOADED,cc.Component.EventHandler.emitEvents(this.videoPlayerEvent,this,C$Tzr.META_LOADED),this.node.emit(H[2700],this);},onClicked:function(){this._currentStatus=C$Tzr.CLICKED,cc.Component.EventHandler.emitEvents(this.videoPlayerEvent,this,C$Tzr.CLICKED),this.node.emit(H[2701],this);},onPlaying:function(){this._currentStatus=C$Tzr.PLAYING,cc.Component.EventHandler.emitEvents(this.videoPlayerEvent,this,C$Tzr.PLAYING),this.node.emit(H[2702],this);},onPasued:function(){this._currentStatus=C$Tzr.PAUSED,cc.Component.EventHandler.emitEvents(this.videoPlayerEvent,this,C$Tzr.PAUSED),this.node.emit(H[516],this);},onStopped:function(){this._currentStatus=C$Tzr.STOPPED,cc.Component.EventHandler.emitEvents(this.videoPlayerEvent,this,C$Tzr.STOPPED),this.node.emit(H[2703],this);},onCompleted:function(){this._currentStatus=C$Tzr.COMPLETED,cc.Component.EventHandler.emitEvents(this.videoPlayerEvent,this,C$Tzr.COMPLETED),this.node.emit(H[2704],this);},play:function(){this._impl&&(this._syncVolume(),this._impl.play());},resume:function(){this._impl&&(this._syncVolume(),this._impl.resume());},pause:function(){this._impl&&this._impl.pause();},stop:function(){this._impl&&this._impl.stop();},getDuration:function(){return this._impl?this._impl.duration():-1;},isPlaying:function(){return!!this._impl&&this._impl.isPlaying();}});cc.VideoPlayer=C$Tze.exports=C$Tzt;},{"./video-player-impl":347}],347:[function(C$Tzt,C$Tze,C$Tzo){"use strict";var C$Tzi=C$Tzt(H[2705]),C$Tz_=C$Tzt(H[506]),C$Tzn=C$Tzt(H[2142]),C$Tzr=1,C$Tzs=4,C$Tzd=cc.mat4(),C$Tzf=cc.Class({name:H[2706],ctor:function(){this._EventList={},this._video=null,this._url="",this._waitingFullscreen=!1,this._fullScreenEnabled=!1,this._stayOnBottom=!1,this._loadedmeta=!1,this._loaded=!1,this._visible=!1,this._playing=!1,this._ignorePause=!1,this._forceUpdate=!1,this._m00=0,this._m01=0,this._m04=0,this._m05=0,this._m12=0,this._m13=0,this._w=0,this._h=0,this.__eventListeners={};},_bindEvent:function(){var C$Tzt=this._video,C$Tze=this,C$Tzi=this.__eventListeners;C$Tzi.loadedmetadata=function(){C$Tze._loadedmeta=!0,C$Tze._forceUpdate=!0,C$Tze._waitingFullscreen&&(C$Tze._waitingFullscreen=!1,C$Tze._toggleFullscreen(!0)),C$Tze._dispatchEvent(C$Tzf.EventType.META_LOADED);},C$Tzi.ended=function(){C$Tze._video===C$Tzt&&(C$Tze._playing=!1,C$Tze._dispatchEvent(C$Tzf.EventType.COMPLETED));},C$Tzi.play=function(){C$Tze._video===C$Tzt&&(C$Tze._playing=!0,C$Tze._updateVisibility(),C$Tze._dispatchEvent(C$Tzf.EventType.PLAYING));},C$Tzi.pause=function(){C$Tze._video===C$Tzt&&(C$Tze._playing=!1,C$Tze._ignorePause||C$Tze._dispatchEvent(C$Tzf.EventType.PAUSED));},C$Tzi.click=function(){C$Tze._dispatchEvent(C$Tzf.EventType.CLICKED);},C$Tzt.addEventListener(H[512],C$Tzi.loadedmetadata),C$Tzt.addEventListener(H[504],C$Tzi.ended),C$Tzt.addEventListener(H[483],C$Tzi.play),C$Tzt.addEventListener(H[486],C$Tzi.pause),C$Tzt.addEventListener(H[867],C$Tzi.click),C$Tzi.onCanPlay=function(){var C$Tzt;C$Tze._loaded||C$Tze._playing||(C$Tzt=C$Tze._video).readyState!==C$Tzs&&C$Tzt.readyState!==C$Tzr||(C$Tzt.currentTime=0,C$Tze._loaded=!0,C$Tze._forceUpdate=!0,C$Tze._dispatchEvent(C$Tzf.EventType.READY_TO_PLAY),C$Tze._updateVisibility());},C$Tzt.addEventListener(H[1490],C$Tzi.onCanPlay),C$Tzt.addEventListener(H[1138],C$Tzi.onCanPlay),C$Tzt.addEventListener(H[2707],C$Tzi.onCanPlay);},_updateVisibility:function(){var C$Tzt=this._video;C$Tzt&&(this._visible?C$Tzt.style.visibility=H[1346]:(C$Tzt.style.visibility=H[641],C$Tzt.pause(),this._playing=!1));},_updateSize:function(C$Tzt,C$Tze){var C$Tzi=this._video;C$Tzi&&(C$Tzi.style.width=C$Tzt+H[985],C$Tzi.style.height=C$Tze+H[985]);},_createDom:function(C$Tzt){var C$Tze=document.createElement(H[1420]);C$Tze.style.position=H[576],C$Tze.style.bottom=H[586],C$Tze.style.left=H[586],C$Tze.style[H[2708]]=this._stayOnBottom?C$Tzn.MIN_ZINDEX:0,C$Tze.className=H[2709],C$Tze.setAttribute(H[2710],H[2711]),C$Tze.setAttribute(H[2712],""),C$Tze.setAttribute(H[2713],""),C$Tze.setAttribute(H[2714],""),C$Tzt&&C$Tze.setAttribute(H[2715],""),this._video=C$Tze,cc.game.container.appendChild(C$Tze);},createDomElementIfNeeded:function(C$Tzt){this._video||this._createDom(C$Tzt);},removeDom:function(){var C$Tzt,C$Tze=this._video;C$Tze&&(C$Tzi.contains(cc.game.container,C$Tze)&&cc.game.container.removeChild(C$Tze),C$Tzt=this.__eventListeners,C$Tze.removeEventListener(H[512],C$Tzt.loadedmetadata),C$Tze.removeEventListener(H[504],C$Tzt.ended),C$Tze.removeEventListener(H[483],C$Tzt.play),C$Tze.removeEventListener(H[486],C$Tzt.pause),C$Tze.removeEventListener(H[867],C$Tzt.click),C$Tze.removeEventListener(H[1490],C$Tzt.onCanPlay),C$Tze.removeEventListener(H[1138],C$Tzt.onCanPlay),C$Tze.removeEventListener(H[2707],C$Tzt.onCanPlay),C$Tzt.loadedmetadata=null,C$Tzt.ended=null,C$Tzt.play=null,C$Tzt.pause=null,C$Tzt.click=null,C$Tzt.onCanPlay=null),this._video=null,this._url="";},setURL:function(C$Tzt,C$Tze){var C$Tzi,C$Tzn;if(this._url!==C$Tzt){this.removeDom(),this._url=C$Tzt,this.createDomElementIfNeeded(C$Tze),this._bindEvent();for(var C$Tzr=this._video,C$Tzs=(C$Tzr.style.visibility=H[641],this._loaded=!1,this._playing=!1,this._loadedmeta=!1,(C$Tzi=document.createElement(H[2622])).src=C$Tzt,C$Tzr.appendChild(C$Tzi),C$Tzn=cc.path.extname(C$Tzt),C$Tzf._polyfill),C$Tzo=0;C$Tzo<C$Tzs.canPlayType.length;C$Tzo++)C$Tzn!==C$Tzs.canPlayType[C$Tzo]&&((C$Tzi=document.createElement(H[2622])).src=C$Tzt.replace(C$Tzn,C$Tzs.canPlayType[C$Tzo]),C$Tzr.appendChild(C$Tzi));}},getURL:function(){return this._url;},play:function(){var C$Tzt=this._video;C$Tzt&&this._visible&&!this._playing&&(C$Tzf._polyfill.autoplayAfterOperation?setTimeout(function(){C$Tzt.play();},20):C$Tzt.play());},pause:function(){var C$Tzt=this._video;this._playing&&C$Tzt&&C$Tzt.pause();},resume:function(){this.play();},stop:function(){var C$Tzt=this._video;C$Tzt&&this._visible&&(this._ignorePause=!0,C$Tzt.currentTime=0,C$Tzt.pause(),setTimeout(function(){this._dispatchEvent(C$Tzf.EventType.STOPPED),this._ignorePause=!1;}.bind(this),0));},setVolume:function(C$Tzt){var C$Tze=this._video;C$Tze&&(C$Tze.volume=C$Tzt);},seekTo:function(C$Tze){var C$Tzi=this._video;C$Tzi&&(this._loaded?C$Tzi.currentTime=C$Tze:C$Tzi.addEventListener(C$Tzf._polyfill.event,function C$Tzt(){C$Tzi.currentTime=C$Tze,C$Tzi.removeEventListener(C$Tzf._polyfill.event,C$Tzt);}),C$Tzf._polyfill.autoplayAfterOperation&&this.isPlaying()&&setTimeout(function(){C$Tzi.play();},20));},isPlaying:function(){var C$Tzt=this._video;return C$Tzf._polyfill.autoplayAfterOperation&&this._playing&&setTimeout(function(){C$Tzt.play();},20),this._playing;},duration:function(){var C$Tzt=this._video,C$Tze=-1;return C$Tzt&&(C$Tze=C$Tzt.duration)<=0&&cc.logID(7702),C$Tze;},currentTime:function(){var C$Tzt=this._video;return C$Tzt?C$Tzt.currentTime:-1;},setKeepAspectRatioEnabled:function(){cc.logID(7700);},isKeepAspectRatioEnabled:function(){return!0;},_toggleFullscreen:function(C$Tzt){var C$Tzi=this,C$Tzn=this._video;C$Tzn&&(C$Tzt?(C$Tz_.browserType===C$Tz_.BROWSER_TYPE_IE&&(C$Tzn.style.transform=""),cc.screen.requestFullScreen(C$Tzn,function(C$Tzt){var C$Tze=C$Tz_.browserType===C$Tz_.BROWSER_TYPE_IE?document.msFullscreenElement:document.fullscreenElement;C$Tzi._fullScreenEnabled=C$Tze===C$Tzn;},function(C$Tzt){C$Tzi._fullScreenEnabled=!1;})):cc.screen.fullScreen()&&cc.screen.exitFullScreen(C$Tzn));},setStayOnBottom:function(C$Tzt){this._stayOnBottom=C$Tzt,this._video&&(this._video.style[H[2708]]=C$Tzt?C$Tzn.MIN_ZINDEX:0);},setFullScreenEnabled:function(C$Tzt){!this._loadedmeta&&C$Tzt?this._waitingFullscreen=!0:this._toggleFullscreen(C$Tzt);},isFullScreenEnabled:function(){return this._fullScreenEnabled;},setEventListener:function(C$Tzt,C$Tze){this._EventList[C$Tzt]=C$Tze;},removeEventListener:function(C$Tzt){this._EventList[C$Tzt]=null;},_dispatchEvent:function(C$Tzt){C$Tzt=this._EventList[C$Tzt];C$Tzt&&C$Tzt.call(this,this,this._video.src);},onPlayEvent:function(){this._EventList[C$Tzf.EventType.PLAYING].call(this,this,this._video.src);},enable:function(){var C$Tzt=C$Tzf.elements;-1===C$Tzt.indexOf(this)&&C$Tzt.push(this),this.setVisible(!0);},disable:function(){var C$Tzt=C$Tzf.elements,C$Tze=C$Tzt.indexOf(this);-1!==C$Tze&&C$Tzt.splice(C$Tze,1),this.setVisible(!1);},destroy:function(){this.disable(),this.removeDom();},setVisible:function(C$Tzt){this._visible!==C$Tzt&&(this._visible=!!C$Tzt,this._updateVisibility());},updateMatrix:function(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzh,C$Tzo,C$Tzu,C$Tza,C$Tzc,C$Tzl;this._video&&this._visible&&!this._fullScreenEnabled&&(C$Tzt.getWorldMatrix(C$Tzd),(C$Tze=cc.Camera._findRendererCamera(C$Tzt))&&C$Tze.worldMatrixToScreen(C$Tzd,C$Tzd,cc.game.canvas.width,cc.game.canvas.height),C$Tze=C$Tzd.m,!this._forceUpdate&&this._m00===C$Tze[0]&&this._m01===C$Tze[1]&&this._m04===C$Tze[4]&&this._m05===C$Tze[5]&&this._m12===C$Tze[12]&&this._m13===C$Tze[13]&&this._w===C$Tzt._contentSize.width&&this._h===C$Tzt._contentSize.height||(this._m00=C$Tze[0],this._m01=C$Tze[1],this._m04=C$Tze[4],this._m05=C$Tze[5],this._m12=C$Tze[12],this._m13=C$Tze[13],this._w=C$Tzt._contentSize.width,this._h=C$Tzt._contentSize.height,C$Tzn=C$Tzi=1/cc.view._devicePixelRatio,C$Tza=cc.game.container,C$Tzr=C$Tze[0]*C$Tzi,C$Tzs=C$Tze[1],C$Tzh=C$Tze[4],C$Tzo=C$Tze[5]*C$Tzn,C$Tzu=C$Tza&&C$Tza.style.paddingLeft?parseInt(C$Tza.style.paddingLeft):0,C$Tza=C$Tza&&C$Tza.style.paddingBottom?parseInt(C$Tza.style.paddingBottom):0,C$Tzf._polyfill.zoomInvalid?(this._updateSize(this._w*C$Tzr,this._h*C$Tzo),C$Tzo=C$Tzr=1,C$Tzc=this._w*C$Tzi,C$Tzl=this._h*C$Tzn):(C$Tzc=this._w*C$Tzi,C$Tzl=this._h*C$Tzn,this._updateSize(this._w,this._h)),C$Tzc=C$Tzc*C$Tze[0]*C$Tzt._anchorPoint.x,C$Tzl=C$Tzl*C$Tze[5]*C$Tzt._anchorPoint.y,C$Tzt=H[990]+C$Tzr+","+-C$Tzs+","+-C$Tzh+","+C$Tzo+","+(C$Tze[12]*C$Tzi-C$Tzc+C$Tzu)+","+-(C$Tze[13]*C$Tzn-C$Tzl+C$Tza)+")",this._video.style.transform=C$Tzt,this._video.style[H[991]]=C$Tzt,this._video.style[H[992]]=H[993],this._video.style[H[994]]=H[993],C$Tz_.browserType!==C$Tz_.BROWSER_TYPE_IE&&(this._forceUpdate=!1)));}}),C$Tzt=(C$Tzf.EventType={NONE:-1,PLAYING:0,PAUSED:1,STOPPED:2,COMPLETED:3,META_LOADED:4,CLICKED:5,READY_TO_PLAY:6},C$Tzf.elements=[],C$Tzf.pauseElements=[],cc.game.on(cc.game.EVENT_HIDE,function(){for(var C$Tzt,C$Tze=C$Tzf.elements,C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++)(C$Tzt=C$Tze[C$Tzi]).isPlaying()&&(C$Tzt.pause(),C$Tzf.pauseElements.push(C$Tzt));}),cc.game.on(cc.game.EVENT_SHOW,function(){for(var C$Tzt=C$Tzf.pauseElements,C$Tze=C$Tzt.pop();C$Tze;)C$Tze.play(),C$Tze=C$Tzt.pop();}),C$Tzf._polyfill={devicePixelRatio:!1,event:H[1490],canPlayType:[]},document.createElement(H[1420])),C$Tzt=(C$Tzt.canPlayType&&(C$Tzt.canPlayType(H[2716])&&(C$Tzf._polyfill.canPlayType.push(H[1492]),C$Tzf._polyfill.canPlayType.push(H[2717])),C$Tzt.canPlayType(H[2718])&&C$Tzf._polyfill.canPlayType.push(H[1498]),C$Tzt.canPlayType(H[2719])&&C$Tzf._polyfill.canPlayType.push(H[2720])),C$Tz_.browserType===C$Tz_.BROWSER_TYPE_FIREFOX&&(C$Tzf._polyfill.autoplayAfterOperation=!0),C$Tz_.OS_ANDROID!==C$Tz_.os||C$Tz_.browserType!==C$Tz_.BROWSER_TYPE_SOUGOU&&C$Tz_.browserType!==C$Tz_.BROWSER_TYPE_360||(C$Tzf._polyfill.zoomInvalid=!0),document.createElement(H[1010]));C$Tzt.innerHTML=H[2721],document.head.appendChild(C$Tzt),C$Tze.exports=C$Tzf;},{"../core/platform/CCMacro":194,"../core/platform/CCSys":198,"../core/platform/utils":213}],348:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzt=C$Tzt(H[2722]),C$Tzn=C$Tzt.EventType;function C$Tzr(){}var C$Tzs=cc.Class({name:H[2723],extends:cc.Component,editor:!1,properties:{_useOriginalSize:!0,_url:"",url:{type:cc.String,tooltip:!1,get:function(){return this._url;},set:function(C$Tzt){this._url=C$Tzt;var C$Tze=this._impl;C$Tze&&C$Tze.loadURL(C$Tzt);}},webviewEvents:{default:[],type:cc.Component.EventHandler}},statics:{EventType:C$Tzn,Impl:C$Tzt},ctor:function(){this._impl=new C$Tzs.Impl();},onRestore:function(){this._impl||(this._impl=new C$Tzs.Impl());},onEnable:function(){var C$Tzt=this._impl;C$Tzt.createDomElementIfNeeded(this.node.width,this.node.height),C$Tzt.setEventListener(C$Tzn.LOADED,this._onWebViewLoaded.bind(this)),C$Tzt.setEventListener(C$Tzn.LOADING,this._onWebViewLoading.bind(this)),C$Tzt.setEventListener(C$Tzn.ERROR,this._onWebViewLoadError.bind(this)),C$Tzt.loadURL(this._url),C$Tzt.setVisible(!0);},onDisable:function(){var C$Tzt=this._impl;C$Tzt.setVisible(!1),C$Tzt.setEventListener(C$Tzn.LOADED,C$Tzr),C$Tzt.setEventListener(C$Tzn.LOADING,C$Tzr),C$Tzt.setEventListener(C$Tzn.ERROR,C$Tzr);},onDestroy:function(){this._impl&&(this._impl.destroy(),this._impl=null);},update:function(C$Tzt){this._impl&&this._impl.updateMatrix(this.node);},_onWebViewLoaded:function(){cc.Component.EventHandler.emitEvents(this.webviewEvents,this,C$Tzn.LOADED),this.node.emit(H[2724],this);},_onWebViewLoading:function(){return cc.Component.EventHandler.emitEvents(this.webviewEvents,this,C$Tzn.LOADING),this.node.emit(H[2725],this),!0;},_onWebViewLoadError:function(){cc.Component.EventHandler.emitEvents(this.webviewEvents,this,C$Tzn.ERROR),this.node.emit(H[754],this);},setJavascriptInterfaceScheme:function(C$Tzt){this._impl&&this._impl.setJavascriptInterfaceScheme(C$Tzt);},setOnJSCallback:function(C$Tzt){this._impl&&this._impl.setOnJSCallback(C$Tzt);},evaluateJS:function(C$Tzt){this._impl&&this._impl.evaluateJS(C$Tzt);}});cc.WebView=C$Tze.exports=C$Tzs;},{"./webview-impl":349}],349:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[2705]),C$Tzt=C$Tzt(H[506]),C$Tz_=cc.mat4(),C$Tzr=cc.Class({name:H[2726],ctor:function(){this._EventList={},this._visible=!1,this._parent=null,this._div=null,this._iframe=null,this._listener=null,this._forceUpdate=!1,this._m00=0,this._m01=0,this._m04=0,this._m05=0,this._m12=0,this._m13=0,this._w=0,this._h=0,this.__eventListeners={};},_updateVisibility:function(){var C$Tzt;this._div&&(C$Tzt=this._div,this._visible?C$Tzt.style.visibility=H[1346]:C$Tzt.style.visibility=H[641]);},_updateSize:function(C$Tzt,C$Tze){var C$Tzi=this._div;C$Tzi&&(C$Tzi.style.width=C$Tzt+H[985],C$Tzi.style.height=C$Tze+H[985]);},_initEvent:function(){var C$Tzt,C$Tze,C$Tzi=this._iframe;C$Tzi&&(C$Tzt=this.__eventListeners,C$Tze=this,C$Tzt.load=function(){C$Tze._forceUpdate=!0,C$Tze._dispatchEvent(C$Tzr.EventType.LOADED);},C$Tzt.error=function(){C$Tze._dispatchEvent(C$Tzr.EventType.ERROR);},C$Tzi.addEventListener(H[514],C$Tzt.load),C$Tzi.addEventListener(H[754],C$Tzt.error));},_initStyle:function(){var C$Tzt;this._div&&((C$Tzt=this._div).style.position=H[576],C$Tzt.style.bottom=H[586],C$Tzt.style.left=H[586]);},_setOpacity:function(C$Tzt){var C$Tze=this._iframe;C$Tze&&C$Tze.style&&(C$Tze.style.opacity=C$Tzt/255);},_createDom:function(C$Tzt,C$Tze){C$Tzr._polyfill.enableDiv?(this._div=document.createElement(H[1170]),this._div.style[H[2727]]=H[2711],this._div.style[H[2728]]=H[1070],this._iframe=document.createElement(H[2729]),this._div.appendChild(this._iframe),this._iframe.style.width=H[1003],this._iframe.style.height=H[1003]):this._div=this._iframe=document.createElement(H[2729]),C$Tzr._polyfill.enableBG&&(this._div.style.background=H[2730]),this._div.style.background=H[2730],this._div.style.height=C$Tze+H[985],this._div.style.width=C$Tzt+H[985],this._div.style.overflow=H[1007],this._iframe.style.border=H[587],cc.game.container.appendChild(this._div),this._updateVisibility();},_createNativeControl:function(C$Tzt,C$Tze){this._createDom(C$Tzt,C$Tze),this._initStyle(),this._initEvent();},createDomElementIfNeeded:function(C$Tzt,C$Tze){this._div?this._updateSize(C$Tzt,C$Tze):this._createNativeControl(C$Tzt,C$Tze);},removeDom:function(){var C$Tzt,C$Tze=this._div,C$Tze=(C$Tze&&(C$Tzn.contains(cc.game.container,C$Tze)&&cc.game.container.removeChild(C$Tze),this._div=null),this._iframe);C$Tze&&(C$Tzt=this.__eventListeners,C$Tze.removeEventListener(H[514],C$Tzt.load),C$Tze.removeEventListener(H[754],C$Tzt.error),C$Tzt.load=null,C$Tzt.error=null,this._iframe=null);},setOnJSCallback:function(C$Tzt){},setJavascriptInterfaceScheme:function(C$Tzt){},loadData:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){},loadHTMLString:function(C$Tzt,C$Tze){},loadURL:function(C$Tzt){var C$Tze,C$Tzi=this._iframe;C$Tzi&&(C$Tzi.src=C$Tzt,C$Tze=this,C$Tzi.addEventListener(H[514],function C$Tzt(){C$Tze._loaded=!0,C$Tze._updateVisibility(),C$Tzi.removeEventListener(H[514],C$Tzt);}),this._dispatchEvent(C$Tzr.EventType.LOADING));},stopLoading:function(){cc.logID(7800);},reload:function(){var C$Tzt=this._iframe;!C$Tzt||(C$Tzt=C$Tzt.contentWindow)&&C$Tzt.location&&C$Tzt.location.reload();},canGoBack:function(){return cc.logID(7801),!0;},canGoForward:function(){return cc.logID(7802),!0;},goBack:function(){try{if(C$Tzr._polyfill.closeHistory)return cc.logID(7803);var C$Tzt,C$Tze=this._iframe;!C$Tze||(C$Tzt=C$Tze.contentWindow)&&C$Tzt.location&&C$Tzt.history.back.call(C$Tzt);}catch(C$Tzt){cc.log(C$Tzt);}},goForward:function(){try{if(C$Tzr._polyfill.closeHistory)return cc.logID(7804);var C$Tzt,C$Tze=this._iframe;!C$Tze||(C$Tzt=C$Tze.contentWindow)&&C$Tzt.location&&C$Tzt.history.forward.call(C$Tzt);}catch(C$Tzt){cc.log(C$Tzt);}},evaluateJS:function(C$Tzt){var C$Tze=this._iframe;if(C$Tze){C$Tze=C$Tze.contentWindow;try{C$Tze.eval(C$Tzt),this._dispatchEvent(C$Tzr.EventType.JS_EVALUATED);}catch(C$Tzt){console.error(C$Tzt);}}},setScalesPageToFit:function(){cc.logID(7805);},setEventListener:function(C$Tzt,C$Tze){this._EventList[C$Tzt]=C$Tze;},removeEventListener:function(C$Tzt){this._EventList[C$Tzt]=null;},_dispatchEvent:function(C$Tzt){C$Tzt=this._EventList[C$Tzt];C$Tzt&&C$Tzt.call(this,this,this._iframe.src);},_createRenderCmd:function(){return new C$Tzr.RenderCmd(this);},destroy:function(){this.removeDom();},setVisible:function(C$Tzt){this._visible!==C$Tzt&&(this._visible=!!C$Tzt,this._updateVisibility());},updateMatrix:function(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzh,C$Tzu,C$Tzo,C$Tza,C$Tzc,C$Tzl;this._div&&this._visible&&(C$Tzt.getWorldMatrix(C$Tz_),(C$Tze=cc.Camera._findRendererCamera(C$Tzt))&&C$Tze.worldMatrixToScreen(C$Tz_,C$Tz_,cc.game.canvas.width,cc.game.canvas.height),C$Tze=C$Tz_.m,!this._forceUpdate&&this._m00===C$Tze[0]&&this._m01===C$Tze[1]&&this._m04===C$Tze[4]&&this._m05===C$Tze[5]&&this._m12===C$Tze[12]&&this._m13===C$Tze[13]&&this._w===C$Tzt._contentSize.width&&this._h===C$Tzt._contentSize.height||(this._m00=C$Tze[0],this._m01=C$Tze[1],this._m04=C$Tze[4],this._m05=C$Tze[5],this._m12=C$Tze[12],this._m13=C$Tze[13],this._w=C$Tzt._contentSize.width,this._h=C$Tzt._contentSize.height,C$Tzn=C$Tzi=1/cc.view._devicePixelRatio,C$Tzo=cc.game.container,C$Tzl=C$Tze[0]*C$Tzi,C$Tzr=C$Tze[1],C$Tzs=C$Tze[4],C$Tzh=C$Tze[5]*C$Tzn,C$Tzu=C$Tzo&&C$Tzo.style.paddingLeft?parseInt(C$Tzo.style.paddingLeft):0,C$Tzo=C$Tzo&&C$Tzo.style.paddingBottom?parseInt(C$Tzo.style.paddingBottom):0,this._updateSize(this._w,this._h),C$Tza=this._w*C$Tzi,C$Tzc=this._h*C$Tzn,C$Tza=C$Tza*C$Tze[0]*C$Tzt._anchorPoint.x,C$Tzc=C$Tzc*C$Tze[5]*C$Tzt._anchorPoint.y,C$Tzl=H[990]+C$Tzl+","+-C$Tzr+","+-C$Tzs+","+C$Tzh+","+(C$Tze[12]*C$Tzi-C$Tza+C$Tzu)+","+-(C$Tze[13]*C$Tzn-C$Tzc+C$Tzo)+")",this._div.style.transform=C$Tzl,this._div.style[H[991]]=C$Tzl,this._div.style[H[992]]=H[993],this._div.style[H[994]]=H[993],this._setOpacity(C$Tzt.opacity),this._forceUpdate=!1));}}),C$Tzs=(C$Tzr.EventType={LOADING:0,LOADED:1,ERROR:2,JS_EVALUATED:3},C$Tzr._polyfill={devicePixelRatio:!1,enableDiv:!1});C$Tzt.os===C$Tzt.OS_IOS&&(C$Tzs.enableDiv=!0),C$Tzt.isMobile?C$Tzt.browserType===C$Tzt.BROWSER_TYPE_FIREFOX&&(C$Tzs.enableBG=!0):C$Tzt.browserType===C$Tzt.BROWSER_TYPE_IE&&(C$Tzs.closeHistory=!0),C$Tze.exports=C$Tzr;},{"../core/platform/CCSys":198,"../core/platform/utils":213}],350:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzt(H[2731]),C$Tzt(H[2732]),C$Tzt(H[2733]),C$Tzt(H[2734]),C$Tzt(H[2735]),C$Tzt(H[2736]),C$Tzt(H[2737]),C$Tzt(H[2738]),C$Tzt(H[2739]),C$Tzt(H[2740]),C$Tzt(H[2741]),C$Tzt(H[2742]);},{"./cocos2d/actions":8,"./cocos2d/animation":17,"./cocos2d/core":135,"./cocos2d/core/components/CCStudioComponent":95,"./cocos2d/deprecated":291,"./cocos2d/particle":297,"./cocos2d/particle/CCParticleAsset":294,"./cocos2d/tilemap":343,"./cocos2d/tilemap/CCTiledMapAsset":339,"./cocos2d/videoplayer/CCVideoPlayer":346,"./cocos2d/webview/CCWebView":348,"./extensions/ccpool/CCNodePool":351,"./extensions/dragonbones":void 0,"./extensions/spine":354}],351:[function(C$Tzt,C$Tze,C$Tzi){"use strict";cc.NodePool=function(C$Tzt){this.poolHandlerComp=C$Tzt,this._pool=[];},cc.NodePool.prototype={constructor:cc.NodePool,size:function(){return this._pool.length;},clear:function(){for(var C$Tzt=this._pool.length,C$Tze=0;C$Tze<C$Tzt;++C$Tze)this._pool[C$Tze].destroy();this._pool.length=0;},put:function(C$Tzt){var C$Tze;C$Tzt&&-1===this._pool.indexOf(C$Tzt)&&(C$Tzt.removeFromParent(!1),(C$Tze=this.poolHandlerComp?C$Tzt.getComponent(this.poolHandlerComp):null)&&C$Tze.unuse&&C$Tze.unuse(),this._pool.push(C$Tzt));},get:function(){var C$Tzt=this._pool.length-1;if(C$Tzt<0)return null;var C$Tze=this._pool[C$Tzt],C$Tzt=(this._pool.length=C$Tzt,this.poolHandlerComp?C$Tze.getComponent(this.poolHandlerComp):null);return C$Tzt&&C$Tzt.reuse&&C$Tzt.reuse.apply(C$Tzt,arguments),C$Tze;}},C$Tze.exports=cc.NodePool;},{}],352:[function(C$Tzt,C$Tze,C$Tzr){"use strict";var C$Tzd=(C$Tzn=C$Tzt(H[2743]))&&C$Tzn.__esModule?C$Tzn:{default:C$Tzn};function C$Tzi(){}function C$Tzc(C$Tzt){Object.defineProperty(C$Tzt,H[2744],{get:function(){return!0;},set:function(C$Tzt){}}),C$Tzt._calculWorldMatrix=C$Tzi,C$Tzt._mulMat=C$Tzi;}var C$Tzf=C$Tzt(H[2745]).FLAG_TRANSFORM,C$Tzl=H[2746],C$Tzh=H[2747],C$Tzp=new C$Tzd.default(),C$Tzn=cc.Class({name:H[2748],ctor:function(){this._inited=!1,this._skeleton=null,this._skeletonNode=null,this._skeletonComp=null,this._attachedRootNode=null,this._attachedNodeArray=[],this._boneIndexToNode={};},init:function(C$Tzt){this._inited=!0,this._skeleton=C$Tzt._skeleton,this._skeletonNode=C$Tzt.node,this._skeletonComp=C$Tzt;},reset:function(){this._inited=!1,this._skeleton=null,this._skeletonNode=null,this._skeletonComp=null;},_prepareAttachNode:function(){var C$Tzt;if(this._skeleton)return C$Tzt=this._skeletonNode.getChildByName(C$Tzl),C$Tzt&&C$Tzt.isValid||(C$Tzt=new cc.Node(C$Tzl),C$Tzc(C$Tzt),this._skeletonNode.addChild(C$Tzt)),this._skeletonComp.isAnimationCached()&&this._skeletonComp._frameCache&&this._skeletonComp._frameCache.enableCacheAttachedInfo(),this._attachedRootNode=C$Tzt;},_buildBoneAttachedNode:function(C$Tzt,C$Tze){var C$Tzi=C$Tzh+C$Tzt.data.name,C$Tzi=new cc.Node(C$Tzi);return this._buildBoneRelation(C$Tzi,C$Tzt,C$Tze),C$Tzi;},_buildBoneRelation:function(C$Tzt,C$Tze,C$Tzi){C$Tzc(C$Tzt),C$Tzt._bone=C$Tze,C$Tzt._boneIndex=C$Tzi,this._attachedNodeArray.push(C$Tzt),this._boneIndexToNode[C$Tzi]=C$Tzt;},getAttachedRootNode:function(){return this._attachedRootNode;},getAttachedNodes:function(C$Tzt){var C$Tze=this._attachedNodeArray,C$Tzi=[];if(!this._inited)return C$Tzi;for(var C$Tzn=0,C$Tzr=C$Tze.length;C$Tzn<C$Tzr;C$Tzn++){var C$Tzs=C$Tze[C$Tzn];C$Tzs&&C$Tzs.isValid&&C$Tzs.name===C$Tzh+C$Tzt&&C$Tzi.push(C$Tzs);}return C$Tzi;},_rebuildNodeArray:function(){for(var C$Tzt=this._boneIndexToNode={},C$Tze=this._attachedNodeArray,C$Tzi=this._attachedNodeArray=[],C$Tzn=0,C$Tzr=C$Tze.length;C$Tzn<C$Tzr;C$Tzn++){var C$Tzs=C$Tze[C$Tzn];C$Tzs&&C$Tzs.isValid&&!C$Tzs._toRemove&&(C$Tzi.push(C$Tzs),C$Tzt[C$Tzs._boneIndex]=C$Tzs);}},_sortNodeArray:function(){this._attachedNodeArray.sort(function(C$Tzt,C$Tze){return C$Tzt._boneIndex<C$Tze._boneIndex?-1:1;});},_getNodeByBoneIndex:function(C$Tzt){C$Tzt=this._boneIndexToNode[C$Tzt];return C$Tzt&&C$Tzt.isValid?C$Tzt:null;},destroyAttachedNodes:function(C$Tzt){if(this._inited){for(var C$Tze=this._attachedNodeArray,C$Tzi=function C$Tzt(C$Tze){for(var C$Tzi=C$Tze.children,C$Tzn=0,C$Tzr=C$Tzi.length;C$Tzn<C$Tzr;C$Tzn++){var C$Tzs=C$Tzi[C$Tzn];C$Tzs&&C$Tzt(C$Tzs);}C$Tze._toRemove=!0;},C$Tzn=0,C$Tzr=C$Tze.length;C$Tzn<C$Tzr;C$Tzn++){var C$Tzs=C$Tze[C$Tzn];C$Tzs&&C$Tzs.isValid&&C$Tzs.name.split(C$Tzh)[1]===C$Tzt&&(C$Tzi(C$Tzs),C$Tzs.removeFromParent(!0),C$Tzs.destroy(),C$Tze[C$Tzn]=null);}this._rebuildNodeArray();}},generateAttachedNodes:function(C$Tzt){var C$Tze=[];if(!this._inited)return C$Tze;var C$Tzn=this._prepareAttachNode();if(!C$Tzn)return C$Tze;for(var C$Tzi=[],C$Tzr=this._skeleton.bones,C$Tzs=0,C$Tzo=C$Tzr.length;C$Tzs<C$Tzo;C$Tzs++){var C$Tza=C$Tzr[C$Tzs];C$Tza.data.name==C$Tzt&&C$Tzi.push(C$Tza);}for(var C$Tzc=function(C$Tzt){if(C$Tzt){var C$Tze=C$Tzt.data;if(C$Tzi=this._getNodeByBoneIndex(C$Tze.index))return C$Tzi;var C$Tzi=this._buildBoneAttachedNode(C$Tzt,C$Tze.index),C$Tze=C$Tzc(C$Tzt.parent)||C$Tzn;return C$Tzi.parent=C$Tze,C$Tzi;}}.bind(this),C$Tzl=0,C$Tzh=C$Tzi.length;C$Tzl<C$Tzh;C$Tzl++){var C$Tzu=C$Tzc(C$Tzi[C$Tzl]);C$Tze.push(C$Tzu);}return this._sortNodeArray(),C$Tze;},destroyAllAttachedNodes:function(){var C$Tzt;this._attachedRootNode=null,this._attachedNodeArray.length=0,this._boneIndexToNode={},!this._inited||(C$Tzt=this._skeletonNode.getChildByName(C$Tzl))&&(C$Tzt.removeFromParent(!0),C$Tzt.destroy());},generateAllAttachedNodes:function(){if(this._inited){this._boneIndexToNode={},this._attachedNodeArray.length=0;var C$Tzt=this._prepareAttachNode();if(C$Tzt){for(var C$Tze=this._skeleton.bones,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr,C$Tzs=C$Tze[C$Tzi],C$Tzo=C$Tzs.data,C$Tza=null;(C$Tza=C$Tzs.parent?(C$Tzr=C$Tzs.parent.data.index,this._boneIndexToNode[C$Tzr]):C$Tzt)&&((C$Tzr=C$Tza.getChildByName(C$Tzh+C$Tzo.name))&&C$Tzr.isValid?this._buildBoneRelation(C$Tzr,C$Tzs,C$Tzo.index):(C$Tzr=this._buildBoneAttachedNode(C$Tzs,C$Tzo.index),C$Tza.addChild(C$Tzr)));}return C$Tzt;}}},_hasAttachedNode:function(){return!!this._inited&&!!this._skeletonNode.getChildByName(C$Tzl);},_associateAttachedNode:function(){if(this._inited){var C$Tzt=this._skeletonNode.getChildByName(C$Tzl);if(C$Tzt&&C$Tzt.isValid){this._attachedRootNode=C$Tzt,this._boneIndexToNode={},this._attachedNodeArray.length=0,C$Tzc(C$Tzt);this._skeletonComp.isAnimationCached()&&this._skeletonComp._frameCache&&this._skeletonComp._frameCache.enableCacheAttachedInfo();for(var C$Tze=this._skeleton.bones,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr,C$Tzs=C$Tze[C$Tzi],C$Tzo=C$Tzs.data,C$Tza=null;!(C$Tza=C$Tzs.parent?(C$Tzr=C$Tzs.parent.data.index,this._boneIndexToNode[C$Tzr]):C$Tzt)||(C$Tzr=C$Tza.getChildByName(C$Tzh+C$Tzo.name))&&C$Tzr.isValid&&this._buildBoneRelation(C$Tzr,C$Tzs,C$Tzo.index);}}}},_syncAttachedNode:function(){if(this._inited){var C$Tzt=this._attachedRootNode,C$Tze=this._attachedNodeArray;if(!C$Tzt||!C$Tzt.isValid)return this._attachedRootNode=null,void(C$Tze.length=0);var C$Tzi,C$Tzh=this._skeletonNode._worldMatrix;C$Tzd.default.copy(C$Tzt._worldMatrix,C$Tzh),C$Tzt._renderFlag&=~C$Tzf;if(C$Tzi=this._skeletonComp.isAnimationCached()?this._skeletonComp._curFrame&&this._skeletonComp._curFrame.boneInfos:this._skeleton.bones){for(var C$Tzn,C$Tzr,C$Tzs,C$Tzu=this._skeletonNode._mulMat,C$Tzo=!1,C$Tza=0,C$Tz_=C$Tze.length;C$Tza<C$Tz_;C$Tza++){var C$Tzc,C$Tzl=C$Tze[C$Tza];C$Tzl&&C$Tzl.isValid?(C$Tzc=C$Tzi[C$Tzl._boneIndex])?(C$Tzn=C$Tzl._worldMatrix,C$Tzr=C$Tzt._worldMatrix,C$Tzc=C$Tzc,C$Tzs=void 0,(C$Tzs=C$Tzp.m)[0]=C$Tzc.a,C$Tzs[1]=C$Tzc.c,C$Tzs[4]=C$Tzc.b,C$Tzs[5]=C$Tzc.d,C$Tzs[12]=C$Tzc.worldX,C$Tzs[13]=C$Tzc.worldY,C$Tzu(C$Tzn,C$Tzr,C$Tzp),C$Tzl._renderFlag&=~C$Tzf):(C$Tzl.removeFromParent(!0),C$Tzl.destroy(),C$Tzo=!(C$Tze[C$Tza]=null)):C$Tzo=!(C$Tze[C$Tza]=null);}C$Tzo&&this._rebuildNodeArray();}}}});C$Tze.exports=sp.AttachUtil=C$Tzn;},{"../../cocos2d/core/renderer/render-flow":221,"../../cocos2d/core/value-types/mat4":281}],353:[function(C$Tzt,C$Tze,C$Tzh){"use strict";var C$Tzn=C$Tzt(H[2749]),C$Tzi=C$Tzt(H[2750]),C$Tzr=C$Tzt(H[2751]),C$Tzs=C$Tzt(H[2752]),C$Tzo=C$Tzt(H[2745]).FLAG_POST_RENDER,C$Tza=C$Tzt(H[2753]),C$Tzc=C$Tzt(H[2754]),C$Tzt=cc.Enum({default:-1}),C$Tzu=cc.Enum({"<None>":0}),C$Tzl=cc.Enum({REALTIME:0,SHARED_CACHE:1,PRIVATE_CACHE:2});sp.Skeleton=cc.Class({name:H[2755],extends:C$Tzi,editor:!1,statics:{AnimationCacheMode:C$Tzl},properties:{paused:{default:!1,visible:!1},skeletonData:{default:null,type:sp.SkeletonData,notify:function(){this.defaultSkin="",this.defaultAnimation="",this._updateSkeletonData();},tooltip:!1},defaultSkin:{default:"",visible:!1},defaultAnimation:{default:"",visible:!1},animation:{get:function(){if(this.isAnimationCached())return this._animationName;var C$Tzt=this.getCurrent(0);return C$Tzt&&C$Tzt.animation.name||"";},set:function(C$Tzt){(this.defaultAnimation=C$Tzt)?this.setAnimation(0,C$Tzt,this.loop):this.isAnimationCached()||(this.clearTrack(0),this.setToSetupPose());},visible:!1},_defaultSkinIndex:{get:function(){if(this.skeletonData){var C$Tzt=this.skeletonData.getSkinsEnum();if(C$Tzt)if(""===this.defaultSkin){if(C$Tzt.hasOwnProperty(0))return this._defaultSkinIndex=0;}else{C$Tzt=C$Tzt[this.defaultSkin];if(void 0!==C$Tzt)return C$Tzt;}}return 0;},set:function(C$Tzt){if(!(C$Tze=this.skeletonData?this.skeletonData.getSkinsEnum():C$Tze))return cc.errorID("",this.name);var C$Tze=C$Tze[C$Tzt];void 0!==C$Tze?(this.defaultSkin=C$Tze,this.setSkin(this.defaultSkin)):cc.errorID(7501,this.name);},type:C$Tzt,visible:!0,displayName:H[2756],tooltip:!1},_animationIndex:{get:function(){var C$Tzt=this.animation;if(this.skeletonData&&C$Tzt){var C$Tze=this.skeletonData.getAnimsEnum();if(C$Tze){C$Tze=C$Tze[C$Tzt];if(void 0!==C$Tze)return C$Tze;}}return 0;},set:function(C$Tzt){if(0!==C$Tzt){if(!(C$Tze=this.skeletonData?this.skeletonData.getAnimsEnum():C$Tze))return cc.errorID(7502,this.name);var C$Tze=C$Tze[C$Tzt];void 0!==C$Tze?this.animation=C$Tze:cc.errorID(7503,this.name);}else this.animation="";},type:C$Tzu,visible:!0,displayName:H[2757],tooltip:!1},_preCacheMode:-1,_cacheMode:C$Tzl.REALTIME,_defaultCacheMode:{default:0,type:C$Tzl,notify:function(){this.setAnimationCacheMode(this._defaultCacheMode);},editorOnly:!0,visible:!0,animatable:!1,displayName:H[2758],tooltip:!1},loop:{default:!0,tooltip:!1},premultipliedAlpha:{default:!0,tooltip:!1},timeScale:{default:1,tooltip:!1},debugSlots:{default:!1,editorOnly:!0,tooltip:!1,notify:function(){this._updateDebugDraw();}},debugBones:{default:!1,editorOnly:!0,tooltip:!1,notify:function(){this._updateDebugDraw();}},debugMesh:{default:!1,editorOnly:!0,tooltip:!1,notify:function(){this._updateDebugDraw();}},useTint:{default:!1,tooltip:!1,notify:function(){this._updateUseTint();}},enableBatch:{default:!1,notify:function(){this._updateBatch();},tooltip:!1},_accTime:0,_playCount:0,_frameCache:null,_curFrame:null,_skeletonCache:null,_animationName:"",_animationQueue:[],_headAniInfo:null,_playTimes:0,_isAniComplete:!0},ctor:function(){this._effectDelegate=null,this._skeleton=null,this._rootBone=null,this._listener=null,this._materialCache={},this._debugRenderer=null,this._startSlotIndex=-1,this._endSlotIndex=-1,this._startEntry={animation:{name:""},trackIndex:0},this._endEntry={animation:{name:""},trackIndex:0},this.attachUtil=new C$Tzc();},_getDefaultMaterial:function(){return cc.Material.getBuiltinMaterial(H[2759]);},_updateMaterial:function(){var C$Tzt=this.useTint||this.isAnimationCached()&&!0,C$Tze=this.getMaterial(0);C$Tze&&(C$Tze.define(H[2760],C$Tzt),C$Tze.define(H[896],!this.enableBatch)),this._materialCache={};},disableRender:function(){this._super(),this.node._renderFlag&=~C$Tzo;},markForRender:function(C$Tzt){this._super(C$Tzt),C$Tzt?this.node._renderFlag|=C$Tzo:this.node._renderFlag&=~C$Tzo;},_updateUseTint:function(){var C$Tzt,C$Tze=this.getMaterial(0);C$Tze&&(C$Tzt=this.useTint||this.isAnimationCached()&&!0,C$Tze.define(H[2760],C$Tzt)),this._materialCache={};},_updateBatch:function(){var C$Tzt=this.getMaterial(0);C$Tzt&&C$Tzt.define(H[896],!this.enableBatch),this._materialCache={};},_validateRender:function(){var C$Tzt=this.skeletonData;C$Tzt&&C$Tzt.isTexturesLoaded()?this._super():this.disableRender();},setSkeletonData:function(C$Tzt){var C$Tze;null!=C$Tzt.width&&null!=C$Tzt.height&&this.node.setContentSize(C$Tzt.width,C$Tzt.height),this._cacheMode===C$Tzl.SHARED_CACHE?this._skeletonCache=C$Tza.sharedCache:this._cacheMode===C$Tzl.PRIVATE_CACHE&&(this._skeletonCache=new C$Tza(),this._skeletonCache.enablePrivateMode()),this.isAnimationCached()?((this.debugBones||this.debugSlots)&&cc.warn(H[2761]),C$Tze=this._skeletonCache.getSkeletonCache(this.skeletonData._uuid,C$Tzt),this._skeleton=C$Tze.skeleton,this._clipper=C$Tze.clipper):(this._skeleton=new C$Tzr.Skeleton(C$Tzt),this._clipper=new C$Tzr.SkeletonClipping()),this._rootBone=this._skeleton.getRootBone(),this.markForRender(!0);},setSlotsRange:function(C$Tzt,C$Tze){this.isAnimationCached()?cc.warn(H[2762]):(this._startSlotIndex=C$Tzt,this._endSlotIndex=C$Tze);},setAnimationStateData:function(C$Tzt){this.isAnimationCached()?cc.warn(H[2763]):(C$Tzt=new C$Tzr.AnimationState(C$Tzt),this._listener&&(this._state&&this._state.removeListener(this._listener),C$Tzt.addListener(this._listener)),this._state=C$Tzt);},__preload:function(){this._super();for(var C$Tzt=this.node.children,C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++){var C$Tzn=C$Tzt[C$Tze];C$Tzn&&H[2764]===C$Tzn._name&&C$Tzn.destroy();}this._updateSkeletonData(),this._updateDebugDraw(),this._updateUseTint(),this._updateBatch();},setAnimationCacheMode:function(C$Tzt){this._preCacheMode!==C$Tzt&&(this._cacheMode=C$Tzt,this._updateSkeletonData(),this._updateUseTint());},isAnimationCached:function(){return this._cacheMode!==C$Tzl.REALTIME;},update:function(C$Tzt){if(!this.paused)if(C$Tzt*=this.timeScale*sp.timeScale,this.isAnimationCached()){var C$Tze;if(this._isAniComplete)return 0!==this._animationQueue.length||this._headAniInfo?(this._headAniInfo||(this._headAniInfo=this._animationQueue.shift()),this._accTime+=C$Tzt,void(this._accTime>this._headAniInfo.delay&&(C$Tze=this._headAniInfo,this._headAniInfo=null,this.setAnimation(0,C$Tze.animationName,C$Tze.loop)))):void((C$Tze=this._frameCache)&&C$Tze.isInvalid()&&(C$Tze.updateToFrame(),C$Tze=C$Tze.frames,this._curFrame=C$Tze[C$Tze.length-1]));this._updateCache(C$Tzt);}else this._updateRealtime(C$Tzt);},_emitCacheCompleteEvent:function(){this._listener&&(this._endEntry.animation.name=this._animationName,this._listener.complete&&this._listener.complete(this._endEntry),this._listener.end&&this._listener.end(this._endEntry));},_updateCache:function(C$Tzt){var C$Tze=this._frameCache;if(C$Tze.isInited()){var C$Tzi=C$Tze.frames,C$Tzn=C$Tza.FrameTime,C$Tzt=(0==this._accTime&&0==this._playCount&&(this._startEntry.animation.name=this._animationName,this._listener&&this._listener.start&&this._listener.start(this._startEntry)),this._accTime+=C$Tzt,Math.floor(this._accTime/C$Tzn));if(C$Tze.isCompleted||C$Tze.updateToFrame(C$Tzt),C$Tze.isCompleted&&C$Tzt>=C$Tzi.length){if(this._playCount++,0<this._playTimes&&this._playCount>=this._playTimes)return this._curFrame=C$Tzi[C$Tzi.length-1],this._accTime=0,this._playCount=0,this._isAniComplete=!0,void this._emitCacheCompleteEvent();C$Tzt=this._accTime=0,this._emitCacheCompleteEvent();}this._curFrame=C$Tzi[C$Tzt];}},_updateRealtime:function(C$Tzt){var C$Tze=this._skeleton,C$Tzi=this._state;C$Tze&&(C$Tze.update(C$Tzt),C$Tzi&&(C$Tzi.update(C$Tzt),C$Tzi.apply(C$Tze)));},setVertexEffectDelegate:function(C$Tzt){this._effectDelegate=C$Tzt;},updateWorldTransform:function(){this.isAnimationCached()&&this._skeleton&&this._skeleton.updateWorldTransform();},setToSetupPose:function(){this._skeleton&&this._skeleton.setToSetupPose();},setBonesToSetupPose:function(){this._skeleton&&this._skeleton.setBonesToSetupPose();},setSlotsToSetupPose:function(){this._skeleton&&this._skeleton.setSlotsToSetupPose();},updateAnimationCache:function(C$Tzt){var C$Tze;this.isAnimationCached()&&(C$Tze=this.skeletonData._uuid,this._skeletonCache&&this._skeletonCache.updateAnimationCache(C$Tze,C$Tzt));},invalidAnimationCache:function(){this.isAnimationCached()&&this._skeletonCache&&this._skeletonCache.invalidAnimationCache(this.skeletonData._uuid);},findBone:function(C$Tzt){return this._skeleton?this._skeleton.findBone(C$Tzt):null;},findSlot:function(C$Tzt){return this._skeleton?this._skeleton.findSlot(C$Tzt):null;},setSkin:function(C$Tzt){this._skeleton&&(this._skeleton.setSkinByName(C$Tzt),this._skeleton.setSlotsToSetupPose()),this.invalidAnimationCache();},getAttachment:function(C$Tzt,C$Tze){return this._skeleton?this._skeleton.getAttachmentByName(C$Tzt,C$Tze):null;},setAttachment:function(C$Tzt,C$Tze){this._skeleton&&this._skeleton.setAttachment(C$Tzt,C$Tze),this.invalidAnimationCache();},getTextureAtlas:function(C$Tzt){return C$Tzt.region;},setMix:function(C$Tzt,C$Tze,C$Tzi){this._state&&this._state.data.setMix(C$Tzt,C$Tze,C$Tzi);},setAnimation:function(C$Tzt,C$Tze,C$Tzi){if(this._playTimes=C$Tzi?0:1,this._animationName=C$Tze,this.isAnimationCached()){if(0!==C$Tzt&&cc.warn(H[2765]),!this._skeletonCache)return null;var C$Tzn=this._skeletonCache.getAnimationCache(this.skeletonData._uuid,C$Tze);(C$Tzn=C$Tzn||this._skeletonCache.initAnimationCache(this.skeletonData._uuid,C$Tze))&&(this._isAniComplete=!1,this._accTime=0,this._playCount=0,this._frameCache=C$Tzn,this.attachUtil._hasAttachedNode()&&this._frameCache.enableCacheAttachedInfo(),this._frameCache.updateToFrame(0),this._curFrame=this._frameCache.frames[0]);}else if(this._skeleton){C$Tzn=this._skeleton.data.findAnimation(C$Tze);if(!C$Tzn)return cc.logID(7509,C$Tze),null;C$Tze=this._state.setAnimationWith(C$Tzt,C$Tzn,C$Tzi);return this._state.apply(this._skeleton),C$Tze;}return null;},addAnimation:function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr;if(C$Tzn=C$Tzn||0,this.isAnimationCached())0!==C$Tzt&&cc.warn(H[2765]),this._animationQueue.push({animationName:C$Tze,loop:C$Tzi,delay:C$Tzn});else if(this._skeleton)return(C$Tzr=this._skeleton.data.findAnimation(C$Tze))?this._state.addAnimationWith(C$Tzt,C$Tzr,C$Tzi,C$Tzn):(cc.logID(7510,C$Tze),null);return null;},findAnimation:function(C$Tzt){return this._skeleton?this._skeleton.data.findAnimation(C$Tzt):null;},getCurrent:function(C$Tzt){if(this.isAnimationCached())cc.warn(H[2766]);else if(this._state)return this._state.getCurrent(C$Tzt);return null;},clearTracks:function(){this.isAnimationCached()?cc.warn(H[2767]):this._state&&this._state.clearTracks();},clearTrack:function(C$Tzt){this.isAnimationCached()?cc.warn(H[2768]):this._state&&this._state.clearTrack(C$Tzt);},setStartListener:function(C$Tzt){this._ensureListener(),this._listener.start=C$Tzt;},setInterruptListener:function(C$Tzt){this._ensureListener(),this._listener.interrupt=C$Tzt;},setEndListener:function(C$Tzt){this._ensureListener(),this._listener.end=C$Tzt;},setDisposeListener:function(C$Tzt){this._ensureListener(),this._listener.dispose=C$Tzt;},setCompleteListener:function(C$Tzt){this._ensureListener(),this._listener.complete=C$Tzt;},setEventListener:function(C$Tzt){this._ensureListener(),this._listener.event=C$Tzt;},setTrackStartListener:function(C$Tzt,C$Tze){C$Tzn.getListeners(C$Tzt).start=C$Tze;},setTrackInterruptListener:function(C$Tzt,C$Tze){C$Tzn.getListeners(C$Tzt).interrupt=C$Tze;},setTrackEndListener:function(C$Tzt,C$Tze){C$Tzn.getListeners(C$Tzt).end=C$Tze;},setTrackDisposeListener:function(C$Tzt,C$Tze){C$Tzn.getListeners(C$Tzt).dispose=C$Tze;},setTrackCompleteListener:function(C$Tzt,C$Tzi){C$Tzn.getListeners(C$Tzt).complete=function(C$Tzt){var C$Tze=Math.floor(C$Tzt.trackTime/C$Tzt.animationEnd);C$Tzi(C$Tzt,C$Tze);};},setTrackEventListener:function(C$Tzt,C$Tze){C$Tzn.getListeners(C$Tzt).event=C$Tze;},getState:function(){return this._state;},_updateAnimEnum:!1,_updateSkinEnum:!1,_ensureListener:function(){this._listener||(this._listener=new C$Tzn(),this._state&&this._state.addListener(this._listener));},_updateSkeletonData:function(){if(this.skeletonData){var C$Tzt=this.skeletonData.getRuntimeData();if(C$Tzt){try{this.setSkeletonData(C$Tzt),this.isAnimationCached()||this.setAnimationStateData(new C$Tzr.AnimationStateData(this._skeleton.data)),this.defaultSkin&&this.setSkin(this.defaultSkin);}catch(C$Tzt){cc.warn(C$Tzt);}this.attachUtil.init(this),this.attachUtil._associateAttachedNode(),this._preCacheMode=this._cacheMode,this.animation=this.defaultAnimation;}else this.disableRender();}else this.disableRender();},_refreshInspector:function(){this._updateAnimEnum(),this._updateSkinEnum(),Editor.Utils.refreshSelectedInspector(H[2769],this.node.uuid);},_updateDebugDraw:function(){var C$Tzt;this.debugBones||this.debugSlots?(this._debugRenderer||((C$Tzt=new cc.PrivateNode()).name=H[2764],(C$Tzt=C$Tzt.addComponent(C$Tzs)).lineWidth=1,C$Tzt.strokeColor=cc.color(255,0,0,255),this._debugRenderer=C$Tzt),this._debugRenderer.node.parent=this.node,this.isAnimationCached()&&cc.warn(H[2761])):this._debugRenderer&&(this._debugRenderer.node.parent=null);}}),C$Tze.exports=sp.Skeleton;},{"../../cocos2d/core/components/CCRenderComponent":89,"../../cocos2d/core/graphics/graphics":131,"../../cocos2d/core/renderer/render-flow":221,"./AttachUtil":352,"./lib/spine":355,"./skeleton-cache":356,"./track-entry-listeners":360}],354:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=H[534]==typeof window?global:window;C$Tzn.spine=C$Tzt(H[2751]),C$Tzn.sp={},sp._timeScale=1,Object.defineProperty(sp,H[2770],{get:function(){return this._timeScale;},set:function(C$Tzt){this._timeScale=C$Tzt;},configurable:!0}),sp.ATTACHMENT_TYPE={REGION:0,BOUNDING_BOX:1,MESH:2,SKINNED_MESH:3},sp.AnimationEventType=cc.Enum({START:0,INTERRUPT:1,END:2,DISPOSE:3,COMPLETE:4,EVENT:5}),sp.spine=C$Tzn.spine,C$Tzt(H[2771]),C$Tzt(H[2772]),C$Tzt(H[2773]),C$Tzt(H[2774]),C$Tzt(H[2775]);},{"./Skeleton":353,"./lib/spine":355,"./skeleton-data":357,"./skeleton-texture":358,"./spine-assembler":359,"./vertex-effect-delegate":361}],355:[function(C$Tzs,C$Tzo,C$Tza){"use strict";C$Tzc=function(C$Tzt,C$Tze){return(C$Tzc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C$Tzt,C$Tze){C$Tzt.__proto__=C$Tze;}||function(C$Tzt,C$Tze){for(var C$Tzi in C$Tze)C$Tze.hasOwnProperty(C$Tzi)&&(C$Tzt[C$Tzi]=C$Tze[C$Tzi]);})(C$Tzt,C$Tze);};var C$Tzc,C$Tzl,C$Tzh,C$Tzd,C$Tzf,C$Tzp,C$Tzm,C$Tzy,C$Tzg,C$Tzv,C$Tzx,C$Tzb,C$TzA,C$TzC,C$TzS,C$TzT,C$Tzu,C$Tzw,C$TzE,C$TzM,C$TzI,C$TzB,C$TzR,C$TzP,C$Tzt,C$TzD,C$TzV=function(C$Tzt,C$Tze){function C$Tzi(){this.constructor=C$Tzt;}C$Tzc(C$Tzt,C$Tze),C$Tzt.prototype=null===C$Tze?Object.create(C$Tze):(C$Tzi.prototype=C$Tze.prototype,new C$Tzi());};function C$TzL(C$Tzt){C$Tzt=C$Tzd.call(this,C$Tzt,0,!1)||this;return C$Tzt.bones=[],C$Tzt.bendDirection=1,C$Tzt.compress=!1,C$Tzt.stretch=!1,C$Tzt.uniform=!1,C$Tzt.mix=1,C$Tzt.softness=0,C$Tzt;}function C$TzO(C$Tzt){C$Tzt=C$Tzf.call(this,C$Tzt,0,!1)||this;return C$Tzt.bones=[],C$Tzt;}!function(C$TzN){C$Tzi.prototype.hasTimeline=function(C$Tzt){return 1==this.timelineIds[C$Tzt];},C$Tzi.prototype.apply=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza){if(null==C$Tzt)throw new Error(H[2776]);C$Tzn&&0!=this.duration&&(C$Tzi%=this.duration,0<C$Tze&&(C$Tze%=this.duration));for(var C$Tzc=this.timelines,C$Tzl=0,C$Tzh=C$Tzc.length;C$Tzl<C$Tzh;C$Tzl++)C$Tzc[C$Tzl].apply(C$Tzt,C$Tze,C$Tzi,C$Tzr,C$Tzs,C$Tzo,C$Tza);},C$Tzi.binarySearch=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=0,C$Tzr=C$Tzt.length/(C$Tzi=void 0===C$Tzi?1:C$Tzi)-2;if(0==C$Tzr)return C$Tzi;for(var C$Tzs=C$Tzr>>>1;;){if(C$Tzt[(C$Tzs+1)*C$Tzi]<=C$Tze?C$Tzn=C$Tzs+1:C$Tzr=C$Tzs,C$Tzn==C$Tzr)return(C$Tzn+1)*C$Tzi;C$Tzs=C$Tzn+C$Tzr>>>1;}},C$Tzi.linearSearch=function(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn=0,C$Tzr=C$Tzt.length-C$Tzi;C$Tzn<=C$Tzr;C$Tzn+=C$Tzi)if(C$Tzt[C$Tzn]>C$Tze)return C$Tzn;return-1;};var C$Tzk,C$Tzy,C$Tze,C$TzG=C$Tzi;function C$Tzi(C$Tzt,C$Tze,C$Tzi){if(null==C$Tzt)throw new Error(H[2777]);if(null==C$Tze)throw new Error(H[2778]);this.name=C$Tzt,this.timelines=C$Tze,this.timelineIds=[];for(var C$Tzn=0;C$Tzn<C$Tze.length;C$Tzn++)this.timelineIds[C$Tze[C$Tzn].getPropertyId()]=!0;this.duration=C$Tzi;}C$TzN.Animation=C$TzG,(C$Tzt=C$Tzk=C$TzN.MixBlend||(C$TzN.MixBlend={}))[C$Tzt.setup=0]=H[2779],C$Tzt[C$Tzt.first=1]=H[2780],C$Tzt[C$Tzt.replace=2]=H[2781],C$Tzt[C$Tzt.add=3]=H[2782],(C$Tzt=C$Tzy=C$TzN.MixDirection||(C$TzN.MixDirection={}))[C$Tzt.mixIn=0]=H[2783],C$Tzt[C$Tzt.mixOut=1]=H[2784],(C$Tzt=C$Tze=C$TzN.TimelineType||(C$TzN.TimelineType={}))[C$Tzt.rotate=0]=H[2785],C$Tzt[C$Tzt.translate=1]=H[2786],C$Tzt[C$Tzt.scale=2]=H[2787],C$Tzt[C$Tzt.shear=3]=H[2788],C$Tzt[C$Tzt.attachment=4]=H[2789],C$Tzt[C$Tzt.color=5]=H[1737],C$Tzt[C$Tzt.deform=6]=H[2790],C$Tzt[C$Tzt.event=7]=H[2791],C$Tzt[C$Tzt.drawOrder=8]=H[2792],C$Tzt[C$Tzt.ikConstraint=9]=H[2793],C$Tzt[C$Tzt.transformConstraint=10]=H[2794],C$Tzt[C$Tzt.pathConstraintPosition=11]=H[2795],C$Tzt[C$Tzt.pathConstraintSpacing=12]=H[2796],C$Tzt[C$Tzt.pathConstraintMix=13]=H[2797],C$Tzt[C$Tzt.twoColor=14]=H[2798];C$Tzg.prototype.getFrameCount=function(){return this.curves.length/C$Tzg.BEZIER_SIZE+1;},C$Tzg.prototype.setLinear=function(C$Tzt){this.curves[C$Tzt*C$Tzg.BEZIER_SIZE]=C$Tzg.LINEAR;},C$Tzg.prototype.setStepped=function(C$Tzt){this.curves[C$Tzt*C$Tzg.BEZIER_SIZE]=C$Tzg.STEPPED;},C$Tzg.prototype.getCurveType=function(C$Tzt){C$Tzt*=C$Tzg.BEZIER_SIZE;if(C$Tzt==this.curves.length)return C$Tzg.LINEAR;C$Tzt=this.curves[C$Tzt];return C$Tzt==C$Tzg.LINEAR?C$Tzg.LINEAR:C$Tzt==C$Tzg.STEPPED?C$Tzg.STEPPED:C$Tzg.BEZIER;},C$Tzg.prototype.setCurve=function(C$Tzh,C$Tzt,C$Tze,C$Tzi,C$Tzn){for(var C$Tzu=.03*(2*-C$Tzt+C$Tzi),C$Tz_=.03*(2*-C$Tze+C$Tzn),C$Tzr=.006*(3*(C$Tzt-C$Tzi)+1),C$Tzs=.006*(3*(C$Tze-C$Tzn)+1),C$Tzd=2*C$Tzu+C$Tzr,C$Tzf=2*C$Tz_+C$Tzs,C$Tzo=.3*C$Tzt+C$Tzu+.16666667*C$Tzr,C$Tza=.3*C$Tze+C$Tz_+.16666667*C$Tzs,C$Tzc=C$Tzh*C$Tzg.BEZIER_SIZE,C$Tzl=this.curves,C$Tzp=(C$Tzl[C$Tzc++]=C$Tzg.BEZIER,C$Tzo),C$Tzm=C$Tza,C$Tzy=C$Tzc+C$Tzg.BEZIER_SIZE-1;C$Tzc<C$Tzy;C$Tzc+=2)C$Tzl[C$Tzc]=C$Tzp,C$Tzl[C$Tzc+1]=C$Tzm,C$Tzo+=C$Tzd,C$Tza+=C$Tzf,C$Tzd+=C$Tzr,C$Tzf+=C$Tzs,C$Tzp+=C$Tzo,C$Tzm+=C$Tza;},C$Tzg.prototype.getCurvePercent=function(C$Tzt,C$Tze){C$Tze=C$TzN.MathUtils.clamp(C$Tze,0,1);var C$Tzi=this.curves,C$Tzn=C$Tzt*C$Tzg.BEZIER_SIZE,C$Tzt=C$Tzi[C$Tzn];if(C$Tzt==C$Tzg.LINEAR)return C$Tze;if(C$Tzt==C$Tzg.STEPPED)return 0;for(var C$Tzr,C$Tzs,C$Tzo=0,C$Tza=++C$Tzn,C$Tzc=C$Tzn+C$Tzg.BEZIER_SIZE-1;C$Tzn<C$Tzc;C$Tzn+=2)if(C$Tze<=(C$Tzo=C$Tzi[C$Tzn]))return C$Tzs=C$Tzr=void 0,(C$Tzs=C$Tzn==C$Tza?C$Tzr=0:(C$Tzr=C$Tzi[C$Tzn-2],C$Tzi[C$Tzn-1]))+(C$Tzi[C$Tzn+1]-C$Tzs)*(C$Tze-C$Tzr)/(C$Tzo-C$Tzr);C$Tzt=C$Tzi[C$Tzn-1];return C$Tzt+(1-C$Tzt)*(C$Tze-C$Tzo)/(1-C$Tzo);},C$Tzg.LINEAR=0,C$Tzg.STEPPED=1,C$Tzg.BEZIER=2,C$Tzg.BEZIER_SIZE=19;var C$Tzt=C$Tzg;function C$Tzg(C$Tzt){if(C$Tzt<=0)throw new Error(H[2799]+C$Tzt);this.curves=C$TzN.Utils.newFloatArray((C$Tzt-1)*C$Tzg.BEZIER_SIZE);}C$TzN.CurveTimeline=C$Tzt;C$TzV(C$Tzv,C$Tzn=C$Tzt),C$Tzv.prototype.getPropertyId=function(){return(C$Tze.rotate<<24)+this.boneIndex;},C$Tzv.prototype.setFrame=function(C$Tzt,C$Tze,C$Tzi){this.frames[C$Tzt<<=1]=C$Tze,this.frames[C$Tzt+C$Tzv.ROTATION]=C$Tzi;},C$Tzv.prototype.apply=function(C$Tzt,C$Tzh,C$Tze,C$Tzu,C$Tzi,C$Tzn,C$Tz_){var C$Tzr=this.frames,C$Tzs=C$Tzt.bones[this.boneIndex];if(C$Tzs.active)if(C$Tze<C$Tzr[0])switch(C$Tzn){case C$Tzk.setup:return void(C$Tzs.rotation=C$Tzs.data.rotation);case C$Tzk.first:var C$Tzo=C$Tzs.data.rotation-C$Tzs.rotation;C$Tzs.rotation+=(C$Tzo-360*(16384-(16384.499999999996-C$Tzo/360|0)))*C$Tzi;}else if(C$Tze>=C$Tzr[C$Tzr.length-C$Tzv.ENTRIES]){var C$Tza=C$Tzr[C$Tzr.length+C$Tzv.PREV_ROTATION];switch(C$Tzn){case C$Tzk.setup:C$Tzs.rotation=C$Tzs.data.rotation+C$Tza*C$Tzi;break;case C$Tzk.first:case C$Tzk.replace:C$Tza=(C$Tza+=C$Tzs.data.rotation-C$Tzs.rotation)-360*(16384-(16384.499999999996-C$Tza/360|0));case C$Tzk.add:C$Tzs.rotation+=C$Tza*C$Tzi;}}else{var C$Tzt=C$TzG.binarySearch(C$Tzr,C$Tze,C$Tzv.ENTRIES),C$Tzc=C$Tzr[C$Tzt+C$Tzv.PREV_ROTATION],C$Tzd=C$Tzr[C$Tzt],C$Tze=this.getCurvePercent((C$Tzt>>1)-1,1-(C$Tze-C$Tzd)/(C$Tzr[C$Tzt+C$Tzv.PREV_TIME]-C$Tzd)),C$Tzl=C$Tzc+((C$Tzl=C$Tzr[C$Tzt+C$Tzv.ROTATION]-C$Tzc)-360*(16384-(16384.499999999996-C$Tzl/360|0)))*C$Tze;switch(C$Tzn){case C$Tzk.setup:C$Tzs.rotation=C$Tzs.data.rotation+(C$Tzl-360*(16384-(16384.499999999996-C$Tzl/360|0)))*C$Tzi;break;case C$Tzk.first:case C$Tzk.replace:C$Tzl+=C$Tzs.data.rotation-C$Tzs.rotation;case C$Tzk.add:C$Tzs.rotation+=(C$Tzl-360*(16384-(16384.499999999996-C$Tzl/360|0)))*C$Tzi;}}},C$Tzv.ENTRIES=2,C$Tzv.PREV_TIME=-2,C$Tzv.PREV_ROTATION=-1,C$Tzv.ROTATION=1;var C$Tzn,C$Tzr=C$Tzv;function C$Tzv(C$Tzt){var C$Tze=C$Tzn.call(this,C$Tzt)||this;return C$Tze.frames=C$TzN.Utils.newFloatArray(C$Tzt<<1),C$Tze;}C$TzN.RotateTimeline=C$Tzr;C$TzV(C$Tz_,C$Tzs=C$Tzt),C$Tz_.prototype.getPropertyId=function(){return(C$Tze.translate<<24)+this.boneIndex;},C$Tz_.prototype.setFrame=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this.frames[C$Tzt*=C$Tz_.ENTRIES]=C$Tze,this.frames[C$Tzt+C$Tz_.X]=C$Tzi,this.frames[C$Tzt+C$Tz_.Y]=C$Tzn;},C$Tz_.prototype.apply=function(C$Tzt,C$Tzl,C$Tze,C$Tzh,C$Tzi,C$Tzn,C$Tzu){var C$Tzr=this.frames,C$Tzs=C$Tzt.bones[this.boneIndex];if(C$Tzs.active)if(C$Tze<C$Tzr[0])switch(C$Tzn){case C$Tzk.setup:return C$Tzs.x=C$Tzs.data.x,void(C$Tzs.y=C$Tzs.data.y);case C$Tzk.first:C$Tzs.x+=(C$Tzs.data.x-C$Tzs.x)*C$Tzi,C$Tzs.y+=(C$Tzs.data.y-C$Tzs.y)*C$Tzi;}else{var C$Tzo,C$Tza=0,C$Tzc=0;switch(C$Tze>=C$Tzr[C$Tzr.length-C$Tz_.ENTRIES]?(C$Tza=C$Tzr[C$Tzr.length+C$Tz_.PREV_X],C$Tzc=C$Tzr[C$Tzr.length+C$Tz_.PREV_Y]):(C$Tza=C$Tzr[(C$Tzt=C$TzG.binarySearch(C$Tzr,C$Tze,C$Tz_.ENTRIES))+C$Tz_.PREV_X],C$Tzc=C$Tzr[C$Tzt+C$Tz_.PREV_Y],C$Tzo=C$Tzr[C$Tzt],C$Tze=this.getCurvePercent(C$Tzt/C$Tz_.ENTRIES-1,1-(C$Tze-C$Tzo)/(C$Tzr[C$Tzt+C$Tz_.PREV_TIME]-C$Tzo)),C$Tza+=(C$Tzr[C$Tzt+C$Tz_.X]-C$Tza)*C$Tze,C$Tzc+=(C$Tzr[C$Tzt+C$Tz_.Y]-C$Tzc)*C$Tze),C$Tzn){case C$Tzk.setup:C$Tzs.x=C$Tzs.data.x+C$Tza*C$Tzi,C$Tzs.y=C$Tzs.data.y+C$Tzc*C$Tzi;break;case C$Tzk.first:case C$Tzk.replace:C$Tzs.x+=(C$Tzs.data.x+C$Tza-C$Tzs.x)*C$Tzi,C$Tzs.y+=(C$Tzs.data.y+C$Tzc-C$Tzs.y)*C$Tzi;break;case C$Tzk.add:C$Tzs.x+=C$Tza*C$Tzi,C$Tzs.y+=C$Tzc*C$Tzi;}}},C$Tz_.ENTRIES=3,C$Tz_.PREV_TIME=-3,C$Tz_.PREV_X=-2,C$Tz_.PREV_Y=-1,C$Tz_.X=1,C$Tz_.Y=2;var C$Tzs,C$Tzr=C$Tz_;function C$Tz_(C$Tzt){var C$Tze=C$Tzs.call(this,C$Tzt)||this;return C$Tze.frames=C$TzN.Utils.newFloatArray(C$Tzt*C$Tz_.ENTRIES),C$Tze;}C$TzN.TranslateTimeline=C$Tzr;C$TzV(C$Tzx,C$Tzo=C$Tzr),C$Tzx.prototype.getPropertyId=function(){return(C$Tze.scale<<24)+this.boneIndex;},C$Tzx.prototype.apply=function(C$Tzt,C$Tzh,C$Tze,C$Tzu,C$Tzi,C$Tzn,C$Tz_){var C$Tzr=this.frames,C$Tzs=C$Tzt.bones[this.boneIndex];if(C$Tzs.active)if(C$Tze<C$Tzr[0])switch(C$Tzn){case C$Tzk.setup:return C$Tzs.scaleX=C$Tzs.data.scaleX,void(C$Tzs.scaleY=C$Tzs.data.scaleY);case C$Tzk.first:C$Tzs.scaleX+=(C$Tzs.data.scaleX-C$Tzs.scaleX)*C$Tzi,C$Tzs.scaleY+=(C$Tzs.data.scaleY-C$Tzs.scaleY)*C$Tzi;}else{var C$Tzd,C$Tzo=0,C$Tza=0;if(C$Tza=C$Tze>=C$Tzr[C$Tzr.length-C$Tzx.ENTRIES]?(C$Tzo=C$Tzr[C$Tzr.length+C$Tzx.PREV_X]*C$Tzs.data.scaleX,C$Tzr[C$Tzr.length+C$Tzx.PREV_Y]*C$Tzs.data.scaleY):(C$Tzo=C$Tzr[(C$Tzt=C$TzG.binarySearch(C$Tzr,C$Tze,C$Tzx.ENTRIES))+C$Tzx.PREV_X],C$Tza=C$Tzr[C$Tzt+C$Tzx.PREV_Y],C$Tzd=C$Tzr[C$Tzt],C$Tze=this.getCurvePercent(C$Tzt/C$Tzx.ENTRIES-1,1-(C$Tze-C$Tzd)/(C$Tzr[C$Tzt+C$Tzx.PREV_TIME]-C$Tzd)),C$Tzo=(C$Tzo+(C$Tzr[C$Tzt+C$Tzx.X]-C$Tzo)*C$Tze)*C$Tzs.data.scaleX,(C$Tza+(C$Tzr[C$Tzt+C$Tzx.Y]-C$Tza)*C$Tze)*C$Tzs.data.scaleY),1==C$Tzi)C$Tzn==C$Tzk.add?(C$Tzs.scaleX+=C$Tzo-C$Tzs.data.scaleX,C$Tzs.scaleY+=C$Tza-C$Tzs.data.scaleY):(C$Tzs.scaleX=C$Tzo,C$Tzs.scaleY=C$Tza);else{var C$Tzc=0,C$Tzl=0;if(C$Tz_==C$Tzy.mixOut)switch(C$Tzn){case C$Tzk.setup:C$Tzc=C$Tzs.data.scaleX,C$Tzl=C$Tzs.data.scaleY,C$Tzs.scaleX=C$Tzc+(Math.abs(C$Tzo)*C$TzN.MathUtils.signum(C$Tzc)-C$Tzc)*C$Tzi,C$Tzs.scaleY=C$Tzl+(Math.abs(C$Tza)*C$TzN.MathUtils.signum(C$Tzl)-C$Tzl)*C$Tzi;break;case C$Tzk.first:case C$Tzk.replace:C$Tzc=C$Tzs.scaleX,C$Tzl=C$Tzs.scaleY,C$Tzs.scaleX=C$Tzc+(Math.abs(C$Tzo)*C$TzN.MathUtils.signum(C$Tzc)-C$Tzc)*C$Tzi,C$Tzs.scaleY=C$Tzl+(Math.abs(C$Tza)*C$TzN.MathUtils.signum(C$Tzl)-C$Tzl)*C$Tzi;break;case C$Tzk.add:C$Tzc=C$Tzs.scaleX,C$Tzl=C$Tzs.scaleY,C$Tzs.scaleX=C$Tzc+(Math.abs(C$Tzo)*C$TzN.MathUtils.signum(C$Tzc)-C$Tzs.data.scaleX)*C$Tzi,C$Tzs.scaleY=C$Tzl+(Math.abs(C$Tza)*C$TzN.MathUtils.signum(C$Tzl)-C$Tzs.data.scaleY)*C$Tzi;}else switch(C$Tzn){case C$Tzk.setup:C$Tzc=Math.abs(C$Tzs.data.scaleX)*C$TzN.MathUtils.signum(C$Tzo),C$Tzl=Math.abs(C$Tzs.data.scaleY)*C$TzN.MathUtils.signum(C$Tza),C$Tzs.scaleX=C$Tzc+(C$Tzo-C$Tzc)*C$Tzi,C$Tzs.scaleY=C$Tzl+(C$Tza-C$Tzl)*C$Tzi;break;case C$Tzk.first:case C$Tzk.replace:C$Tzc=Math.abs(C$Tzs.scaleX)*C$TzN.MathUtils.signum(C$Tzo),C$Tzl=Math.abs(C$Tzs.scaleY)*C$TzN.MathUtils.signum(C$Tza),C$Tzs.scaleX=C$Tzc+(C$Tzo-C$Tzc)*C$Tzi,C$Tzs.scaleY=C$Tzl+(C$Tza-C$Tzl)*C$Tzi;break;case C$Tzk.add:C$Tzc=C$TzN.MathUtils.signum(C$Tzo),C$Tzl=C$TzN.MathUtils.signum(C$Tza),C$Tzs.scaleX=Math.abs(C$Tzs.scaleX)*C$Tzc+(C$Tzo-Math.abs(C$Tzs.data.scaleX)*C$Tzc)*C$Tzi,C$Tzs.scaleY=Math.abs(C$Tzs.scaleY)*C$Tzl+(C$Tza-Math.abs(C$Tzs.data.scaleY)*C$Tzl)*C$Tzi;}}}};var C$Tzo,C$Tza=C$Tzx;function C$Tzx(C$Tzt){return C$Tzo.call(this,C$Tzt)||this;}C$TzN.ScaleTimeline=C$Tza;C$TzV(C$TzA,C$Tzc=C$Tzr),C$TzA.prototype.getPropertyId=function(){return(C$Tze.shear<<24)+this.boneIndex;},C$TzA.prototype.apply=function(C$Tzt,C$Tzl,C$Tze,C$Tzh,C$Tzi,C$Tzn,C$Tzu){var C$Tzr=this.frames,C$Tzs=C$Tzt.bones[this.boneIndex];if(C$Tzs.active)if(C$Tze<C$Tzr[0])switch(C$Tzn){case C$Tzk.setup:return C$Tzs.shearX=C$Tzs.data.shearX,void(C$Tzs.shearY=C$Tzs.data.shearY);case C$Tzk.first:C$Tzs.shearX+=(C$Tzs.data.shearX-C$Tzs.shearX)*C$Tzi,C$Tzs.shearY+=(C$Tzs.data.shearY-C$Tzs.shearY)*C$Tzi;}else{var C$Tzo,C$Tza=0,C$Tzc=0;switch(C$Tze>=C$Tzr[C$Tzr.length-C$TzA.ENTRIES]?(C$Tza=C$Tzr[C$Tzr.length+C$TzA.PREV_X],C$Tzc=C$Tzr[C$Tzr.length+C$TzA.PREV_Y]):(C$Tza=C$Tzr[(C$Tzt=C$TzG.binarySearch(C$Tzr,C$Tze,C$TzA.ENTRIES))+C$TzA.PREV_X],C$Tzc=C$Tzr[C$Tzt+C$TzA.PREV_Y],C$Tzo=C$Tzr[C$Tzt],C$Tze=this.getCurvePercent(C$Tzt/C$TzA.ENTRIES-1,1-(C$Tze-C$Tzo)/(C$Tzr[C$Tzt+C$TzA.PREV_TIME]-C$Tzo)),C$Tza+=(C$Tzr[C$Tzt+C$TzA.X]-C$Tza)*C$Tze,C$Tzc+=(C$Tzr[C$Tzt+C$TzA.Y]-C$Tzc)*C$Tze),C$Tzn){case C$Tzk.setup:C$Tzs.shearX=C$Tzs.data.shearX+C$Tza*C$Tzi,C$Tzs.shearY=C$Tzs.data.shearY+C$Tzc*C$Tzi;break;case C$Tzk.first:case C$Tzk.replace:C$Tzs.shearX+=(C$Tzs.data.shearX+C$Tza-C$Tzs.shearX)*C$Tzi,C$Tzs.shearY+=(C$Tzs.data.shearY+C$Tzc-C$Tzs.shearY)*C$Tzi;break;case C$Tzk.add:C$Tzs.shearX+=C$Tza*C$Tzi,C$Tzs.shearY+=C$Tzc*C$Tzi;}}};var C$Tzc,C$Tza=C$TzA;function C$TzA(C$Tzt){return C$Tzc.call(this,C$Tzt)||this;}C$TzN.ShearTimeline=C$Tza;C$TzV(C$Tzm,C$Tzl=C$Tzt),C$Tzm.prototype.getPropertyId=function(){return(C$Tze.color<<24)+this.slotIndex;},C$Tzm.prototype.setFrame=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){this.frames[C$Tzt*=C$Tzm.ENTRIES]=C$Tze,this.frames[C$Tzt+C$Tzm.R]=C$Tzi,this.frames[C$Tzt+C$Tzm.G]=C$Tzn,this.frames[C$Tzt+C$Tzm.B]=C$Tzr,this.frames[C$Tzt+C$Tzm.A]=C$Tzs;},C$Tzm.prototype.apply=function(C$Tzt,C$Tzh,C$Tze,C$Tzu,C$Tzi,C$Tz_,C$Tzd){var C$Tzn=C$Tzt.slots[this.slotIndex];if(C$Tzn.bone.active){C$Tzt=this.frames;if(C$Tze<C$Tzt[0])switch(C$Tz_){case C$Tzk.setup:return void C$Tzn.color.setFromColor(C$Tzn.data.color);case C$Tzk.first:var C$Tzr=C$Tzn.color,C$Tzf=C$Tzn.data.color;C$Tzr.add((C$Tzf.r-C$Tzr.r)*C$Tzi,(C$Tzf.g-C$Tzr.g)*C$Tzi,(C$Tzf.b-C$Tzr.b)*C$Tzi,(C$Tzf.a-C$Tzr.a)*C$Tzi);}else{var C$Tzs,C$Tzp,C$Tzo=0,C$Tza=0,C$Tzc=0,C$Tzl=0;C$Tze>=C$Tzt[C$Tzt.length-C$Tzm.ENTRIES]?(C$Tzo=C$Tzt[(C$Tzs=C$Tzt.length)+C$Tzm.PREV_R],C$Tza=C$Tzt[C$Tzs+C$Tzm.PREV_G],C$Tzc=C$Tzt[C$Tzs+C$Tzm.PREV_B],C$Tzl=C$Tzt[C$Tzs+C$Tzm.PREV_A]):(C$Tzo=C$Tzt[(C$Tzs=C$TzG.binarySearch(C$Tzt,C$Tze,C$Tzm.ENTRIES))+C$Tzm.PREV_R],C$Tza=C$Tzt[C$Tzs+C$Tzm.PREV_G],C$Tzc=C$Tzt[C$Tzs+C$Tzm.PREV_B],C$Tzl=C$Tzt[C$Tzs+C$Tzm.PREV_A],C$Tzp=C$Tzt[C$Tzs],C$Tze=this.getCurvePercent(C$Tzs/C$Tzm.ENTRIES-1,1-(C$Tze-C$Tzp)/(C$Tzt[C$Tzs+C$Tzm.PREV_TIME]-C$Tzp)),C$Tzo+=(C$Tzt[C$Tzs+C$Tzm.R]-C$Tzo)*C$Tze,C$Tza+=(C$Tzt[C$Tzs+C$Tzm.G]-C$Tza)*C$Tze,C$Tzc+=(C$Tzt[C$Tzs+C$Tzm.B]-C$Tzc)*C$Tze,C$Tzl+=(C$Tzt[C$Tzs+C$Tzm.A]-C$Tzl)*C$Tze),1==C$Tzi?C$Tzn.color.set(C$Tzo,C$Tza,C$Tzc,C$Tzl):(C$Tzr=C$Tzn.color,C$Tz_==C$Tzk.setup&&C$Tzr.setFromColor(C$Tzn.data.color),C$Tzr.add((C$Tzo-C$Tzr.r)*C$Tzi,(C$Tza-C$Tzr.g)*C$Tzi,(C$Tzc-C$Tzr.b)*C$Tzi,(C$Tzl-C$Tzr.a)*C$Tzi));}}},C$Tzm.ENTRIES=5,C$Tzm.PREV_TIME=-5,C$Tzm.PREV_R=-4,C$Tzm.PREV_G=-3,C$Tzm.PREV_B=-2,C$Tzm.PREV_A=-1,C$Tzm.R=1,C$Tzm.G=2,C$Tzm.B=3,C$Tzm.A=4;var C$Tzl,C$Tzr=C$Tzm;function C$Tzm(C$Tzt){var C$Tze=C$Tzl.call(this,C$Tzt)||this;return C$Tze.frames=C$TzN.Utils.newFloatArray(C$Tzt*C$Tzm.ENTRIES),C$Tze;}C$TzN.ColorTimeline=C$Tzr;C$TzV(C$Tzb,C$Tzh=C$Tzt),C$Tzb.prototype.getPropertyId=function(){return(C$Tze.twoColor<<24)+this.slotIndex;},C$Tzb.prototype.setFrame=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc){this.frames[C$Tzt*=C$Tzb.ENTRIES]=C$Tze,this.frames[C$Tzt+C$Tzb.R]=C$Tzi,this.frames[C$Tzt+C$Tzb.G]=C$Tzn,this.frames[C$Tzt+C$Tzb.B]=C$Tzr,this.frames[C$Tzt+C$Tzb.A]=C$Tzs,this.frames[C$Tzt+C$Tzb.R2]=C$Tzo,this.frames[C$Tzt+C$Tzb.G2]=C$Tza,this.frames[C$Tzt+C$Tzb.B2]=C$Tzc;},C$Tzb.prototype.apply=function(C$Tzt,C$Tzh,C$Tze,C$Tzu,C$Tzi,C$Tz_,C$Tzd){var C$Tzn=C$Tzt.slots[this.slotIndex];if(C$Tzn.bone.active){C$Tzt=this.frames;if(C$Tze<C$Tzt[0])switch(C$Tz_){case C$Tzk.setup:return C$Tzn.color.setFromColor(C$Tzn.data.color),void C$Tzn.darkColor.setFromColor(C$Tzn.data.darkColor);case C$Tzk.first:var C$Tzr=C$Tzn.color,C$Tzs=C$Tzn.darkColor,C$Tzf=C$Tzn.data.color,C$Tzp=C$Tzn.data.darkColor;C$Tzr.add((C$Tzf.r-C$Tzr.r)*C$Tzi,(C$Tzf.g-C$Tzr.g)*C$Tzi,(C$Tzf.b-C$Tzr.b)*C$Tzi,(C$Tzf.a-C$Tzr.a)*C$Tzi),C$Tzs.add((C$Tzp.r-C$Tzs.r)*C$Tzi,(C$Tzp.g-C$Tzs.g)*C$Tzi,(C$Tzp.b-C$Tzs.b)*C$Tzi,0);}else{var C$Tzo,C$Tzm,C$Tza=0,C$Tzc=0,C$Tzl=0,C$Tzy=0,C$Tzg=0,C$Tzv=0,C$Tzx=0;C$Tze>=C$Tzt[C$Tzt.length-C$Tzb.ENTRIES]?(C$Tza=C$Tzt[(C$Tzo=C$Tzt.length)+C$Tzb.PREV_R],C$Tzc=C$Tzt[C$Tzo+C$Tzb.PREV_G],C$Tzl=C$Tzt[C$Tzo+C$Tzb.PREV_B],C$Tzy=C$Tzt[C$Tzo+C$Tzb.PREV_A],C$Tzg=C$Tzt[C$Tzo+C$Tzb.PREV_R2],C$Tzv=C$Tzt[C$Tzo+C$Tzb.PREV_G2],C$Tzx=C$Tzt[C$Tzo+C$Tzb.PREV_B2]):(C$Tza=C$Tzt[(C$Tzo=C$TzG.binarySearch(C$Tzt,C$Tze,C$Tzb.ENTRIES))+C$Tzb.PREV_R],C$Tzc=C$Tzt[C$Tzo+C$Tzb.PREV_G],C$Tzl=C$Tzt[C$Tzo+C$Tzb.PREV_B],C$Tzy=C$Tzt[C$Tzo+C$Tzb.PREV_A],C$Tzg=C$Tzt[C$Tzo+C$Tzb.PREV_R2],C$Tzv=C$Tzt[C$Tzo+C$Tzb.PREV_G2],C$Tzx=C$Tzt[C$Tzo+C$Tzb.PREV_B2],C$Tzm=C$Tzt[C$Tzo],C$Tze=this.getCurvePercent(C$Tzo/C$Tzb.ENTRIES-1,1-(C$Tze-C$Tzm)/(C$Tzt[C$Tzo+C$Tzb.PREV_TIME]-C$Tzm)),C$Tza+=(C$Tzt[C$Tzo+C$Tzb.R]-C$Tza)*C$Tze,C$Tzc+=(C$Tzt[C$Tzo+C$Tzb.G]-C$Tzc)*C$Tze,C$Tzl+=(C$Tzt[C$Tzo+C$Tzb.B]-C$Tzl)*C$Tze,C$Tzy+=(C$Tzt[C$Tzo+C$Tzb.A]-C$Tzy)*C$Tze,C$Tzg+=(C$Tzt[C$Tzo+C$Tzb.R2]-C$Tzg)*C$Tze,C$Tzv+=(C$Tzt[C$Tzo+C$Tzb.G2]-C$Tzv)*C$Tze,C$Tzx+=(C$Tzt[C$Tzo+C$Tzb.B2]-C$Tzx)*C$Tze),1==C$Tzi?(C$Tzn.color.set(C$Tza,C$Tzc,C$Tzl,C$Tzy),C$Tzn.darkColor.set(C$Tzg,C$Tzv,C$Tzx,1)):(C$Tzr=C$Tzn.color,C$Tzs=C$Tzn.darkColor,C$Tz_==C$Tzk.setup&&(C$Tzr.setFromColor(C$Tzn.data.color),C$Tzs.setFromColor(C$Tzn.data.darkColor)),C$Tzr.add((C$Tza-C$Tzr.r)*C$Tzi,(C$Tzc-C$Tzr.g)*C$Tzi,(C$Tzl-C$Tzr.b)*C$Tzi,(C$Tzy-C$Tzr.a)*C$Tzi),C$Tzs.add((C$Tzg-C$Tzs.r)*C$Tzi,(C$Tzv-C$Tzs.g)*C$Tzi,(C$Tzx-C$Tzs.b)*C$Tzi,0));}}},C$Tzb.ENTRIES=8,C$Tzb.PREV_TIME=-8,C$Tzb.PREV_R=-7,C$Tzb.PREV_G=-6,C$Tzb.PREV_B=-5,C$Tzb.PREV_A=-4,C$Tzb.PREV_R2=-3,C$Tzb.PREV_G2=-2,C$Tzb.PREV_B2=-1,C$Tzb.R=1,C$Tzb.G=2,C$Tzb.B=3,C$Tzb.A=4,C$Tzb.R2=5,C$Tzb.G2=6,C$Tzb.B2=7;var C$Tzh,C$Tza=C$Tzb;function C$Tzb(C$Tzt){var C$Tze=C$Tzh.call(this,C$Tzt)||this;return C$Tze.frames=C$TzN.Utils.newFloatArray(C$Tzt*C$Tzb.ENTRIES),C$Tze;}function C$Tzu(C$Tzt){this.frames=C$TzN.Utils.newFloatArray(C$Tzt),this.attachmentNames=new Array(C$Tzt);}C$TzN.TwoColorTimeline=C$Tza,C$Tzu.prototype.getPropertyId=function(){return(C$Tze.attachment<<24)+this.slotIndex;},C$Tzu.prototype.getFrameCount=function(){return this.frames.length;},C$Tzu.prototype.setFrame=function(C$Tzt,C$Tze,C$Tzi){this.frames[C$Tzt]=C$Tze,this.attachmentNames[C$Tzt]=C$Tzi;},C$Tzu.prototype.apply=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo){var C$Tza=C$Tzt.slots[this.slotIndex];if(C$Tza.bone.active){if(C$Tzo==C$Tzy.mixOut&&C$Tzs==C$Tzk.setup)return C$Tzo=C$Tza.data.attachmentName,void C$Tza.setAttachment(null==C$Tzo?null:C$Tzt.getAttachment(this.slotIndex,C$Tzo));C$Tzo=this.frames;C$Tzi<C$Tzo[0]?C$Tzs!=C$Tzk.setup&&C$Tzs!=C$Tzk.first||(C$Tzs=C$Tza.data.attachmentName,C$Tza.setAttachment(null==C$Tzs?null:C$Tzt.getAttachment(this.slotIndex,C$Tzs))):(C$Tza=0,C$Tza=C$Tzi>=C$Tzo[C$Tzo.length-1]?C$Tzo.length-1:C$TzG.binarySearch(C$Tzo,C$Tzi,1)-1,C$Tzs=this.attachmentNames[C$Tza],C$Tzt.slots[this.slotIndex].setAttachment(null==C$Tzs?null:C$Tzt.getAttachment(this.slotIndex,C$Tzs)));}},C$TzN.AttachmentTimeline=C$Tzu;var C$TzC,C$TzS=null,C$Tzr=(C$TzV(C$TzT,C$TzC=C$Tzt),C$TzT.prototype.getPropertyId=function(){return(C$Tze.deform<<27)+ +this.attachment.id+this.slotIndex;},C$TzT.prototype.setFrame=function(C$Tzt,C$Tze,C$Tzi){this.frames[C$Tzt]=C$Tze,this.frameVertices[C$Tzt]=C$Tzi;},C$TzT.prototype.apply=function(C$Tzt,C$Tzh,C$Tzu,C$Tz_,C$Tze,C$Tzd,C$Tzf){C$Tzt=C$Tzt.slots[this.slotIndex];if(C$Tzt.bone.active){var C$Tzi=C$Tzt.getAttachment();if(C$Tzi instanceof C$TzN.VertexAttachment&&C$Tzi.deformAttachment==this.attachment){var C$Tzp=C$Tzt.deform,C$Tzt=(0==C$Tzp.length&&(C$Tzd=C$Tzk.setup),this.frameVertices),C$Tzn=C$Tzt[0].length,C$Tzm=this.frames;if(C$Tzu<C$Tzm[0]){var C$Tzr=C$Tzi;switch(C$Tzd){case C$Tzk.setup:return void(C$Tzp.length=0);case C$Tzk.first:if(1==C$Tze){C$Tzp.length=0;break;}var C$Tzy=C$TzN.Utils.setArraySize(C$Tzp,C$Tzn);if(null==C$Tzr.bones)for(var C$Tzg=C$Tzr.vertices,C$Tzs=0;C$Tzs<C$Tzn;C$Tzs++)C$Tzy[C$Tzs]+=(C$Tzg[C$Tzs]-C$Tzy[C$Tzs])*C$Tze;else{C$Tze=1-C$Tze;for(C$Tzs=0;C$Tzs<C$Tzn;C$Tzs++)C$Tzy[C$Tzs]*=C$Tze;}}}else{var C$Tzo=C$TzN.Utils.setArraySize(C$Tzp,C$Tzn);if(C$Tzu>=C$Tzm[C$Tzm.length-1]){var C$Tza=C$Tzt[C$Tzm.length-1];if(1==C$Tze){if(C$Tzd==C$Tzk.add){if(null==(C$Tzr=C$Tzi).bones)for(var C$Tzg=C$Tzr.vertices,C$Tzv=0;C$Tzv<C$Tzn;C$Tzv++)C$Tzo[C$Tzv]+=C$Tza[C$Tzv]-C$Tzg[C$Tzv];else for(var C$Tzx=0;C$Tzx<C$Tzn;C$Tzx++)C$Tzo[C$Tzx]+=C$Tza[C$Tzx];}else C$TzN.Utils.arrayCopy(C$Tza,0,C$Tzo,0,C$Tzn);}else switch(C$Tzd){case C$Tzk.setup:if(null==C$Tzi.bones)for(var C$Tzg=C$Tzi.vertices,C$Tzb=0;C$Tzb<C$Tzn;C$Tzb++){var C$TzA=C$Tzg[C$Tzb];C$Tzo[C$Tzb]=C$TzA+(C$Tza[C$Tzb]-C$TzA)*C$Tze;}else for(var C$TzC=0;C$TzC<C$Tzn;C$TzC++)C$Tzo[C$TzC]=C$Tza[C$TzC]*C$Tze;break;case C$Tzk.first:case C$Tzk.replace:for(var C$TzS=0;C$TzS<C$Tzn;C$TzS++)C$Tzo[C$TzS]+=(C$Tza[C$TzS]-C$Tzo[C$TzS])*C$Tze;case C$Tzk.add:if(null==(C$Tzr=C$Tzi).bones)for(var C$Tzg=C$Tzr.vertices,C$TzT=0;C$TzT<C$Tzn;C$TzT++)C$Tzo[C$TzT]+=(C$Tza[C$TzT]-C$Tzg[C$TzT])*C$Tze;else for(var C$Tzw=0;C$Tzw<C$Tzn;C$Tzw++)C$Tzo[C$Tzw]+=C$Tza[C$Tzw]*C$Tze;}}else{var C$TzE=C$TzG.binarySearch(C$Tzm,C$Tzu),C$Tzc=C$Tzt[C$TzE-1],C$TzM=C$Tzt[C$TzE],C$Tzt=C$Tzm[C$TzE],C$TzI=this.getCurvePercent(C$TzE-1,1-(C$Tzu-C$Tzt)/(C$Tzm[C$TzE-1]-C$Tzt));if(1==C$Tze){if(C$Tzd==C$Tzk.add){if(null==(C$Tzr=C$Tzi).bones)for(var C$Tzg=C$Tzr.vertices,C$TzB=0;C$TzB<C$Tzn;C$TzB++){var C$Tzl=C$Tzc[C$TzB];C$Tzo[C$TzB]+=C$Tzl+(C$TzM[C$TzB]-C$Tzl)*C$TzI-C$Tzg[C$TzB];}else for(var C$TzR=0;C$TzR<C$Tzn;C$TzR++){C$Tzl=C$Tzc[C$TzR];C$Tzo[C$TzR]+=C$Tzl+(C$TzM[C$TzR]-C$Tzl)*C$TzI;}}else for(var C$TzP=0;C$TzP<C$Tzn;C$TzP++){C$Tzl=C$Tzc[C$TzP];C$Tzo[C$TzP]=C$Tzl+(C$TzM[C$TzP]-C$Tzl)*C$TzI;}}else switch(C$Tzd){case C$Tzk.setup:if(null==C$Tzi.bones)for(var C$Tzg=C$Tzi.vertices,C$TzD=0;C$TzD<C$Tzn;C$TzD++){C$Tzl=C$Tzc[C$TzD],C$TzA=C$Tzg[C$TzD];C$Tzo[C$TzD]=C$TzA+(C$Tzl+(C$TzM[C$TzD]-C$Tzl)*C$TzI-C$TzA)*C$Tze;}else for(var C$TzL=0;C$TzL<C$Tzn;C$TzL++){C$Tzl=C$Tzc[C$TzL];C$Tzo[C$TzL]=(C$Tzl+(C$TzM[C$TzL]-C$Tzl)*C$TzI)*C$Tze;}break;case C$Tzk.first:case C$Tzk.replace:for(var C$TzV=0;C$TzV<C$Tzn;C$TzV++){C$Tzl=C$Tzc[C$TzV];C$Tzo[C$TzV]+=(C$Tzl+(C$TzM[C$TzV]-C$Tzl)*C$TzI-C$Tzo[C$TzV])*C$Tze;}break;case C$Tzk.add:if(null==(C$Tzr=C$Tzi).bones)for(var C$Tzg=C$Tzr.vertices,C$TzO=0;C$TzO<C$Tzn;C$TzO++){C$Tzl=C$Tzc[C$TzO];C$Tzo[C$TzO]+=(C$Tzl+(C$TzM[C$TzO]-C$Tzl)*C$TzI-C$Tzg[C$TzO])*C$Tze;}else for(var C$TzF=0;C$TzF<C$Tzn;C$TzF++){C$Tzl=C$Tzc[C$TzF];C$Tzo[C$TzF]+=(C$Tzl+(C$TzM[C$TzF]-C$Tzl)*C$TzI)*C$Tze;}}}}}}},C$TzT);function C$TzT(C$Tzt){var C$Tze=C$TzC.call(this,C$Tzt)||this;return C$Tze.frames=C$TzN.Utils.newFloatArray(C$Tzt),C$Tze.frameVertices=new Array(C$Tzt),null==C$TzS&&(C$TzS=C$TzN.Utils.newFloatArray(64)),C$Tze;}function C$Tzw(C$Tzt){this.frames=C$TzN.Utils.newFloatArray(C$Tzt),this.events=new Array(C$Tzt);}function C$TzE(C$Tzt){this.frames=C$TzN.Utils.newFloatArray(C$Tzt),this.drawOrders=new Array(C$Tzt);}C$TzN.DeformTimeline=C$Tzr,C$Tzw.prototype.getPropertyId=function(){return C$Tze.event<<24;},C$Tzw.prototype.getFrameCount=function(){return this.frames.length;},C$Tzw.prototype.setFrame=function(C$Tzt,C$Tze){this.frames[C$Tzt]=C$Tze.time,this.events[C$Tzt]=C$Tze;},C$Tzw.prototype.apply=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo){if(null!=C$Tzn){var C$Tza=this.frames,C$Tzc=this.frames.length;if(C$Tzi<C$Tze)this.apply(C$Tzt,C$Tze,Number.MAX_VALUE,C$Tzn,C$Tzr,C$Tzs,C$Tzo),C$Tze=-1;else if(C$Tze>=C$Tza[C$Tzc-1])return;if(!(C$Tzi<C$Tza[0])){var C$Tzl=0;if(C$Tze<C$Tza[0])C$Tzl=0;else for(var C$Tzh=C$Tza[C$Tzl=C$TzG.binarySearch(C$Tza,C$Tze)];0<C$Tzl&&C$Tza[C$Tzl-1]==C$Tzh;)C$Tzl--;for(;C$Tzl<C$Tzc&&C$Tzi>=C$Tza[C$Tzl];C$Tzl++)C$Tzn.push(this.events[C$Tzl]);}}},C$TzN.EventTimeline=C$Tzw,C$TzE.prototype.getPropertyId=function(){return C$Tze.drawOrder<<24;},C$TzE.prototype.getFrameCount=function(){return this.frames.length;},C$TzE.prototype.setFrame=function(C$Tzt,C$Tze,C$Tzi){this.frames[C$Tzt]=C$Tze,this.drawOrders[C$Tzt]=C$Tzi;},C$TzE.prototype.apply=function(C$Tzt,C$Tzl,C$Tze,C$Tzh,C$Tzu,C$Tzi,C$Tzn){var C$Tzr=C$Tzt.drawOrder,C$Tzs=C$Tzt.slots;if(C$Tzn!=C$Tzy.mixOut||C$Tzi!=C$Tzk.setup){C$Tzn=this.frames;if(C$Tze<C$Tzn[0])C$Tzi!=C$Tzk.setup&&C$Tzi!=C$Tzk.first||C$TzN.Utils.arrayCopy(C$Tzt.slots,0,C$Tzt.drawOrder,0,C$Tzt.slots.length);else{var C$Tzi=C$Tze>=C$Tzn[C$Tzn.length-1]?C$Tzn.length-1:C$TzG.binarySearch(C$Tzn,C$Tze)-1,C$Tzo=this.drawOrders[C$Tzi];if(null==C$Tzo)C$TzN.Utils.arrayCopy(C$Tzs,0,C$Tzr,0,C$Tzs.length);else for(var C$Tza=0,C$Tzc=C$Tzo.length;C$Tza<C$Tzc;C$Tza++)C$Tzr[C$Tza]=C$Tzs[C$Tzo[C$Tza]];}}else C$TzN.Utils.arrayCopy(C$Tzt.slots,0,C$Tzt.drawOrder,0,C$Tzt.slots.length);},C$TzN.DrawOrderTimeline=C$TzE;C$TzV(C$Tzd,C$TzM=C$Tzt),C$Tzd.prototype.getPropertyId=function(){return(C$Tze.ikConstraint<<24)+this.ikConstraintIndex;},C$Tzd.prototype.setFrame=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo){this.frames[C$Tzt*=C$Tzd.ENTRIES]=C$Tze,this.frames[C$Tzt+C$Tzd.MIX]=C$Tzi,this.frames[C$Tzt+C$Tzd.SOFTNESS]=C$Tzn,this.frames[C$Tzt+C$Tzd.BEND_DIRECTION]=C$Tzr,this.frames[C$Tzt+C$Tzd.COMPRESS]=C$Tzs?1:0,this.frames[C$Tzt+C$Tzd.STRETCH]=C$Tzo?1:0;},C$Tzd.prototype.apply=function(C$Tzt,C$Tzh,C$Tze,C$Tzu,C$Tzi,C$Tzn,C$Tzr){var C$Tzs,C$Tzo,C$Tza,C$Tzc=this.frames,C$Tzl=C$Tzt.ikConstraints[this.ikConstraintIndex];if(C$Tzl.active)if(C$Tze<C$Tzc[0])switch(C$Tzn){case C$Tzk.setup:return C$Tzl.mix=C$Tzl.data.mix,C$Tzl.softness=C$Tzl.data.softness,C$Tzl.bendDirection=C$Tzl.data.bendDirection,C$Tzl.compress=C$Tzl.data.compress,void(C$Tzl.stretch=C$Tzl.data.stretch);case C$Tzk.first:C$Tzl.mix+=(C$Tzl.data.mix-C$Tzl.mix)*C$Tzi,C$Tzl.softness+=(C$Tzl.data.softness-C$Tzl.softness)*C$Tzi,C$Tzl.bendDirection=C$Tzl.data.bendDirection,C$Tzl.compress=C$Tzl.data.compress,C$Tzl.stretch=C$Tzl.data.stretch;}else C$Tze>=C$Tzc[C$Tzc.length-C$Tzd.ENTRIES]?C$Tzn==C$Tzk.setup?(C$Tzl.mix=C$Tzl.data.mix+(C$Tzc[C$Tzc.length+C$Tzd.PREV_MIX]-C$Tzl.data.mix)*C$Tzi,C$Tzl.softness=C$Tzl.data.softness+(C$Tzc[C$Tzc.length+C$Tzd.PREV_SOFTNESS]-C$Tzl.data.softness)*C$Tzi,C$Tzr==C$Tzy.mixOut?(C$Tzl.bendDirection=C$Tzl.data.bendDirection,C$Tzl.compress=C$Tzl.data.compress,C$Tzl.stretch=C$Tzl.data.stretch):(C$Tzl.bendDirection=C$Tzc[C$Tzc.length+C$Tzd.PREV_BEND_DIRECTION],C$Tzl.compress=0!=C$Tzc[C$Tzc.length+C$Tzd.PREV_COMPRESS],C$Tzl.stretch=0!=C$Tzc[C$Tzc.length+C$Tzd.PREV_STRETCH])):(C$Tzl.mix+=(C$Tzc[C$Tzc.length+C$Tzd.PREV_MIX]-C$Tzl.mix)*C$Tzi,C$Tzl.softness+=(C$Tzc[C$Tzc.length+C$Tzd.PREV_SOFTNESS]-C$Tzl.softness)*C$Tzi,C$Tzr==C$Tzy.mixIn&&(C$Tzl.bendDirection=C$Tzc[C$Tzc.length+C$Tzd.PREV_BEND_DIRECTION],C$Tzl.compress=0!=C$Tzc[C$Tzc.length+C$Tzd.PREV_COMPRESS],C$Tzl.stretch=0!=C$Tzc[C$Tzc.length+C$Tzd.PREV_STRETCH])):(C$Tzs=C$Tzc[(C$Tzt=C$TzG.binarySearch(C$Tzc,C$Tze,C$Tzd.ENTRIES))+C$Tzd.PREV_MIX],C$Tzo=C$Tzc[C$Tzt+C$Tzd.PREV_SOFTNESS],C$Tza=C$Tzc[C$Tzt],C$Tze=this.getCurvePercent(C$Tzt/C$Tzd.ENTRIES-1,1-(C$Tze-C$Tza)/(C$Tzc[C$Tzt+C$Tzd.PREV_TIME]-C$Tza)),C$Tzn==C$Tzk.setup?(C$Tzl.mix=C$Tzl.data.mix+(C$Tzs+(C$Tzc[C$Tzt+C$Tzd.MIX]-C$Tzs)*C$Tze-C$Tzl.data.mix)*C$Tzi,C$Tzl.softness=C$Tzl.data.softness+(C$Tzo+(C$Tzc[C$Tzt+C$Tzd.SOFTNESS]-C$Tzo)*C$Tze-C$Tzl.data.softness)*C$Tzi,C$Tzr==C$Tzy.mixOut?(C$Tzl.bendDirection=C$Tzl.data.bendDirection,C$Tzl.compress=C$Tzl.data.compress,C$Tzl.stretch=C$Tzl.data.stretch):(C$Tzl.bendDirection=C$Tzc[C$Tzt+C$Tzd.PREV_BEND_DIRECTION],C$Tzl.compress=0!=C$Tzc[C$Tzt+C$Tzd.PREV_COMPRESS],C$Tzl.stretch=0!=C$Tzc[C$Tzt+C$Tzd.PREV_STRETCH])):(C$Tzl.mix+=(C$Tzs+(C$Tzc[C$Tzt+C$Tzd.MIX]-C$Tzs)*C$Tze-C$Tzl.mix)*C$Tzi,C$Tzl.softness+=(C$Tzo+(C$Tzc[C$Tzt+C$Tzd.SOFTNESS]-C$Tzo)*C$Tze-C$Tzl.softness)*C$Tzi,C$Tzr==C$Tzy.mixIn&&(C$Tzl.bendDirection=C$Tzc[C$Tzt+C$Tzd.PREV_BEND_DIRECTION],C$Tzl.compress=0!=C$Tzc[C$Tzt+C$Tzd.PREV_COMPRESS],C$Tzl.stretch=0!=C$Tzc[C$Tzt+C$Tzd.PREV_STRETCH])));},C$Tzd.ENTRIES=6,C$Tzd.PREV_TIME=-6,C$Tzd.PREV_MIX=-5,C$Tzd.PREV_SOFTNESS=-4,C$Tzd.PREV_BEND_DIRECTION=-3,C$Tzd.PREV_COMPRESS=-2,C$Tzd.PREV_STRETCH=-1,C$Tzd.MIX=1,C$Tzd.SOFTNESS=2,C$Tzd.BEND_DIRECTION=3,C$Tzd.COMPRESS=4,C$Tzd.STRETCH=5;var C$TzM,C$Tza=C$Tzd;function C$Tzd(C$Tzt){var C$Tze=C$TzM.call(this,C$Tzt)||this;return C$Tze.frames=C$TzN.Utils.newFloatArray(C$Tzt*C$Tzd.ENTRIES),C$Tze;}C$TzN.IkConstraintTimeline=C$Tza;C$TzV(C$Tzp,C$TzI=C$Tzt),C$Tzp.prototype.getPropertyId=function(){return(C$Tze.transformConstraint<<24)+this.transformConstraintIndex;},C$Tzp.prototype.setFrame=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){this.frames[C$Tzt*=C$Tzp.ENTRIES]=C$Tze,this.frames[C$Tzt+C$Tzp.ROTATE]=C$Tzi,this.frames[C$Tzt+C$Tzp.TRANSLATE]=C$Tzn,this.frames[C$Tzt+C$Tzp.SCALE]=C$Tzr,this.frames[C$Tzt+C$Tzp.SHEAR]=C$Tzs;},C$Tzp.prototype.apply=function(C$Tzt,C$Tzh,C$Tze,C$Tzu,C$Tzi,C$Tz_,C$Tzd){var C$Tzn=this.frames,C$Tzr=C$Tzt.transformConstraints[this.transformConstraintIndex];if(C$Tzr.active)if(C$Tze<C$Tzn[0]){var C$Tzs=C$Tzr.data;switch(C$Tz_){case C$Tzk.setup:return C$Tzr.rotateMix=C$Tzs.rotateMix,C$Tzr.translateMix=C$Tzs.translateMix,C$Tzr.scaleMix=C$Tzs.scaleMix,void(C$Tzr.shearMix=C$Tzs.shearMix);case C$Tzk.first:C$Tzr.rotateMix+=(C$Tzs.rotateMix-C$Tzr.rotateMix)*C$Tzi,C$Tzr.translateMix+=(C$Tzs.translateMix-C$Tzr.translateMix)*C$Tzi,C$Tzr.scaleMix+=(C$Tzs.scaleMix-C$Tzr.scaleMix)*C$Tzi,C$Tzr.shearMix+=(C$Tzs.shearMix-C$Tzr.shearMix)*C$Tzi;}}else{var C$Tzo,C$Tzf,C$Tzt=0,C$Tza=0,C$Tzc=0,C$Tzl=0;C$Tze>=C$Tzn[C$Tzn.length-C$Tzp.ENTRIES]?(C$Tzt=C$Tzn[(C$Tzo=C$Tzn.length)+C$Tzp.PREV_ROTATE],C$Tza=C$Tzn[C$Tzo+C$Tzp.PREV_TRANSLATE],C$Tzc=C$Tzn[C$Tzo+C$Tzp.PREV_SCALE],C$Tzl=C$Tzn[C$Tzo+C$Tzp.PREV_SHEAR]):(C$Tzt=C$Tzn[(C$Tzo=C$TzG.binarySearch(C$Tzn,C$Tze,C$Tzp.ENTRIES))+C$Tzp.PREV_ROTATE],C$Tza=C$Tzn[C$Tzo+C$Tzp.PREV_TRANSLATE],C$Tzc=C$Tzn[C$Tzo+C$Tzp.PREV_SCALE],C$Tzl=C$Tzn[C$Tzo+C$Tzp.PREV_SHEAR],C$Tzf=C$Tzn[C$Tzo],C$Tze=this.getCurvePercent(C$Tzo/C$Tzp.ENTRIES-1,1-(C$Tze-C$Tzf)/(C$Tzn[C$Tzo+C$Tzp.PREV_TIME]-C$Tzf)),C$Tzt+=(C$Tzn[C$Tzo+C$Tzp.ROTATE]-C$Tzt)*C$Tze,C$Tza+=(C$Tzn[C$Tzo+C$Tzp.TRANSLATE]-C$Tza)*C$Tze,C$Tzc+=(C$Tzn[C$Tzo+C$Tzp.SCALE]-C$Tzc)*C$Tze,C$Tzl+=(C$Tzn[C$Tzo+C$Tzp.SHEAR]-C$Tzl)*C$Tze),C$Tz_==C$Tzk.setup?(C$Tzs=C$Tzr.data,C$Tzr.rotateMix=C$Tzs.rotateMix+(C$Tzt-C$Tzs.rotateMix)*C$Tzi,C$Tzr.translateMix=C$Tzs.translateMix+(C$Tza-C$Tzs.translateMix)*C$Tzi,C$Tzr.scaleMix=C$Tzs.scaleMix+(C$Tzc-C$Tzs.scaleMix)*C$Tzi,C$Tzr.shearMix=C$Tzs.shearMix+(C$Tzl-C$Tzs.shearMix)*C$Tzi):(C$Tzr.rotateMix+=(C$Tzt-C$Tzr.rotateMix)*C$Tzi,C$Tzr.translateMix+=(C$Tza-C$Tzr.translateMix)*C$Tzi,C$Tzr.scaleMix+=(C$Tzc-C$Tzr.scaleMix)*C$Tzi,C$Tzr.shearMix+=(C$Tzl-C$Tzr.shearMix)*C$Tzi);}},C$Tzp.ENTRIES=5,C$Tzp.PREV_TIME=-5,C$Tzp.PREV_ROTATE=-4,C$Tzp.PREV_TRANSLATE=-3,C$Tzp.PREV_SCALE=-2,C$Tzp.PREV_SHEAR=-1,C$Tzp.ROTATE=1,C$Tzp.TRANSLATE=2,C$Tzp.SCALE=3,C$Tzp.SHEAR=4;var C$TzI,C$Tzr=C$Tzp;function C$Tzp(C$Tzt){var C$Tze=C$TzI.call(this,C$Tzt)||this;return C$Tze.frames=C$TzN.Utils.newFloatArray(C$Tzt*C$Tzp.ENTRIES),C$Tze;}C$TzN.TransformConstraintTimeline=C$Tzr;C$TzV(C$TzR,C$TzB=C$Tzt),C$TzR.prototype.getPropertyId=function(){return(C$Tze.pathConstraintPosition<<24)+this.pathConstraintIndex;},C$TzR.prototype.setFrame=function(C$Tzt,C$Tze,C$Tzi){this.frames[C$Tzt*=C$TzR.ENTRIES]=C$Tze,this.frames[C$Tzt+C$TzR.VALUE]=C$Tzi;},C$TzR.prototype.apply=function(C$Tzt,C$Tze,C$Tzi,C$Tzl,C$Tzn,C$Tzr,C$Tzh){var C$Tzs=this.frames,C$Tzo=C$Tzt.pathConstraints[this.pathConstraintIndex];if(C$Tzo.active)if(C$Tzi<C$Tzs[0])switch(C$Tzr){case C$Tzk.setup:return void(C$Tzo.position=C$Tzo.data.position);case C$Tzk.first:C$Tzo.position+=(C$Tzo.data.position-C$Tzo.position)*C$Tzn;}else{var C$Tza,C$Tzc,C$Tzt=0;C$Tzi>=C$Tzs[C$Tzs.length-C$TzR.ENTRIES]?C$Tzt=C$Tzs[C$Tzs.length+C$TzR.PREV_VALUE]:(C$Tzt=C$Tzs[(C$Tza=C$TzG.binarySearch(C$Tzs,C$Tzi,C$TzR.ENTRIES))+C$TzR.PREV_VALUE],C$Tzc=C$Tzs[C$Tza],C$Tzi=this.getCurvePercent(C$Tza/C$TzR.ENTRIES-1,1-(C$Tzi-C$Tzc)/(C$Tzs[C$Tza+C$TzR.PREV_TIME]-C$Tzc)),C$Tzt+=(C$Tzs[C$Tza+C$TzR.VALUE]-C$Tzt)*C$Tzi),C$Tzr==C$Tzk.setup?C$Tzo.position=C$Tzo.data.position+(C$Tzt-C$Tzo.data.position)*C$Tzn:C$Tzo.position+=(C$Tzt-C$Tzo.position)*C$Tzn;}},C$TzR.ENTRIES=2,C$TzR.PREV_TIME=-2,C$TzR.PREV_VALUE=-1,C$TzR.VALUE=1;var C$TzB,C$Tza=C$TzR;function C$TzR(C$Tzt){var C$Tze=C$TzB.call(this,C$Tzt)||this;return C$Tze.frames=C$TzN.Utils.newFloatArray(C$Tzt*C$TzR.ENTRIES),C$Tze;}C$TzN.PathConstraintPositionTimeline=C$Tza;C$TzV(C$TzD,C$TzP=C$Tza),C$TzD.prototype.getPropertyId=function(){return(C$Tze.pathConstraintSpacing<<24)+this.pathConstraintIndex;},C$TzD.prototype.apply=function(C$Tzt,C$Tze,C$Tzi,C$Tzl,C$Tzn,C$Tzr,C$Tzh){var C$Tzs=this.frames,C$Tzo=C$Tzt.pathConstraints[this.pathConstraintIndex];if(C$Tzo.active)if(C$Tzi<C$Tzs[0])switch(C$Tzr){case C$Tzk.setup:return void(C$Tzo.spacing=C$Tzo.data.spacing);case C$Tzk.first:C$Tzo.spacing+=(C$Tzo.data.spacing-C$Tzo.spacing)*C$Tzn;}else{var C$Tza,C$Tzc,C$Tzt=0;C$Tzi>=C$Tzs[C$Tzs.length-C$TzD.ENTRIES]?C$Tzt=C$Tzs[C$Tzs.length+C$TzD.PREV_VALUE]:(C$Tzt=C$Tzs[(C$Tza=C$TzG.binarySearch(C$Tzs,C$Tzi,C$TzD.ENTRIES))+C$TzD.PREV_VALUE],C$Tzc=C$Tzs[C$Tza],C$Tzi=this.getCurvePercent(C$Tza/C$TzD.ENTRIES-1,1-(C$Tzi-C$Tzc)/(C$Tzs[C$Tza+C$TzD.PREV_TIME]-C$Tzc)),C$Tzt+=(C$Tzs[C$Tza+C$TzD.VALUE]-C$Tzt)*C$Tzi),C$Tzr==C$Tzk.setup?C$Tzo.spacing=C$Tzo.data.spacing+(C$Tzt-C$Tzo.data.spacing)*C$Tzn:C$Tzo.spacing+=(C$Tzt-C$Tzo.spacing)*C$Tzn;}};var C$TzP,C$Tzr=C$TzD;function C$TzD(C$Tzt){return C$TzP.call(this,C$Tzt)||this;}C$TzN.PathConstraintSpacingTimeline=C$Tzr;C$TzV(C$Tzf,C$TzL=C$Tzt),C$Tzf.prototype.getPropertyId=function(){return(C$Tze.pathConstraintMix<<24)+this.pathConstraintIndex;},C$Tzf.prototype.setFrame=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this.frames[C$Tzt*=C$Tzf.ENTRIES]=C$Tze,this.frames[C$Tzt+C$Tzf.ROTATE]=C$Tzi,this.frames[C$Tzt+C$Tzf.TRANSLATE]=C$Tzn;},C$Tzf.prototype.apply=function(C$Tzt,C$Tzl,C$Tze,C$Tzh,C$Tzi,C$Tzn,C$Tzu){var C$Tzr=this.frames,C$Tzs=C$Tzt.pathConstraints[this.pathConstraintIndex];if(C$Tzs.active)if(C$Tze<C$Tzr[0])switch(C$Tzn){case C$Tzk.setup:return C$Tzs.rotateMix=C$Tzs.data.rotateMix,void(C$Tzs.translateMix=C$Tzs.data.translateMix);case C$Tzk.first:C$Tzs.rotateMix+=(C$Tzs.data.rotateMix-C$Tzs.rotateMix)*C$Tzi,C$Tzs.translateMix+=(C$Tzs.data.translateMix-C$Tzs.translateMix)*C$Tzi;}else{var C$Tzo,C$Tza,C$Tzt=0,C$Tzc=0;C$Tze>=C$Tzr[C$Tzr.length-C$Tzf.ENTRIES]?(C$Tzt=C$Tzr[C$Tzr.length+C$Tzf.PREV_ROTATE],C$Tzc=C$Tzr[C$Tzr.length+C$Tzf.PREV_TRANSLATE]):(C$Tzt=C$Tzr[(C$Tzo=C$TzG.binarySearch(C$Tzr,C$Tze,C$Tzf.ENTRIES))+C$Tzf.PREV_ROTATE],C$Tzc=C$Tzr[C$Tzo+C$Tzf.PREV_TRANSLATE],C$Tza=C$Tzr[C$Tzo],C$Tze=this.getCurvePercent(C$Tzo/C$Tzf.ENTRIES-1,1-(C$Tze-C$Tza)/(C$Tzr[C$Tzo+C$Tzf.PREV_TIME]-C$Tza)),C$Tzt+=(C$Tzr[C$Tzo+C$Tzf.ROTATE]-C$Tzt)*C$Tze,C$Tzc+=(C$Tzr[C$Tzo+C$Tzf.TRANSLATE]-C$Tzc)*C$Tze),C$Tzn==C$Tzk.setup?(C$Tzs.rotateMix=C$Tzs.data.rotateMix+(C$Tzt-C$Tzs.data.rotateMix)*C$Tzi,C$Tzs.translateMix=C$Tzs.data.translateMix+(C$Tzc-C$Tzs.data.translateMix)*C$Tzi):(C$Tzs.rotateMix+=(C$Tzt-C$Tzs.rotateMix)*C$Tzi,C$Tzs.translateMix+=(C$Tzc-C$Tzs.translateMix)*C$Tzi);}},C$Tzf.ENTRIES=3,C$Tzf.PREV_TIME=-3,C$Tzf.PREV_ROTATE=-2,C$Tzf.PREV_TRANSLATE=-1,C$Tzf.ROTATE=1,C$Tzf.TRANSLATE=2;var C$TzL,C$Tza=C$Tzf;function C$Tzf(C$Tzt){var C$Tze=C$TzL.call(this,C$Tzt)||this;return C$Tze.frames=C$TzN.Utils.newFloatArray(C$Tzt*C$Tzf.ENTRIES),C$Tze;}C$TzN.PathConstraintMixTimeline=C$Tza;}(C$Tzt=C$Tzt||{}),function(C$TzS){C$TzT.prototype.update=function(C$Tzt){C$Tzt*=this.timeScale;for(var C$Tze=this.tracks,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(null!=C$Tzr){C$Tzr.animationLast=C$Tzr.nextAnimationLast,C$Tzr.trackLast=C$Tzr.nextTrackLast;var C$Tzs=C$Tzt*C$Tzr.timeScale;if(0<C$Tzr.delay){if(C$Tzr.delay-=C$Tzs,0<C$Tzr.delay)continue;C$Tzs=-C$Tzr.delay,C$Tzr.delay=0;}var C$Tzo=C$Tzr.next;if(null!=C$Tzo){var C$Tza=C$Tzr.trackLast-C$Tzo.delay;if(0<=C$Tza){for(C$Tzo.delay=0,C$Tzo.trackTime+=0==C$Tzr.timeScale?0:(C$Tza/C$Tzr.timeScale+C$Tzt)*C$Tzo.timeScale,C$Tzr.trackTime+=C$Tzs,this.setCurrent(C$Tzi,C$Tzo,!0);null!=C$Tzo.mixingFrom;)C$Tzo.mixTime+=C$Tzt,C$Tzo=C$Tzo.mixingFrom;continue;}}else if(C$Tzr.trackLast>=C$Tzr.trackEnd&&null==C$Tzr.mixingFrom){C$Tze[C$Tzi]=null,this.queue.end(C$Tzr),this.disposeNext(C$Tzr);continue;}if(null!=C$Tzr.mixingFrom&&this.updateMixingFrom(C$Tzr,C$Tzt)){var C$Tzc=C$Tzr.mixingFrom;for((C$Tzr.mixingFrom=null)!=C$Tzc&&(C$Tzc.mixingTo=null);null!=C$Tzc;)this.queue.end(C$Tzc),C$Tzc=C$Tzc.mixingFrom;}C$Tzr.trackTime+=C$Tzs;}}this.queue.drain();},C$TzT.prototype.updateMixingFrom=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.mixingFrom;if(null==C$Tzi)return!0;var C$Tzn=this.updateMixingFrom(C$Tzi,C$Tze);return C$Tzi.animationLast=C$Tzi.nextAnimationLast,C$Tzi.trackLast=C$Tzi.nextTrackLast,0<C$Tzt.mixTime&&C$Tzt.mixTime>=C$Tzt.mixDuration?(0!=C$Tzi.totalAlpha&&0!=C$Tzt.mixDuration||(C$Tzt.mixingFrom=C$Tzi.mixingFrom,null!=C$Tzi.mixingFrom&&(C$Tzi.mixingFrom.mixingTo=C$Tzt),C$Tzt.interruptAlpha=C$Tzi.interruptAlpha,this.queue.end(C$Tzi)),C$Tzn):(C$Tzi.trackTime+=C$Tze*C$Tzi.timeScale,C$Tzt.mixTime+=C$Tze,!1);},C$TzT.prototype.apply=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2776]);this.animationsChanged&&this._animationsChanged();for(var C$Tze=this.events,C$Tzh=this.tracks,C$Tzu=!1,C$Tzi=0,C$Tz_=C$Tzh.length;C$Tzi<C$Tz_;C$Tzi++){var C$Tzn=C$Tzh[C$Tzi];if(!(null==C$Tzn||0<C$Tzn.delay)){var C$Tzu=!0,C$Tzr=0==C$Tzi?C$TzS.MixBlend.first:C$Tzn.mixBlend,C$Tzs=C$Tzn.alpha,C$Tzd=(null!=C$Tzn.mixingFrom?C$Tzs*=this.applyMixingFrom(C$Tzn,C$Tzt,C$Tzr):C$Tzn.trackTime>=C$Tzn.trackEnd&&null==C$Tzn.next&&(C$Tzs=0),C$Tzn.animationLast),C$Tzo=C$Tzn.getAnimationTime(),C$Tza=C$Tzn.animation.timelines.length,C$Tzf=C$Tzn.animation.timelines;if(0==C$Tzi&&1==C$Tzs||C$Tzr==C$TzS.MixBlend.add)for(var C$Tzc=0;C$Tzc<C$Tza;C$Tzc++)C$TzS.Utils.webkit602BugfixHelper(C$Tzs,C$Tzr),C$Tzf[C$Tzc].apply(C$Tzt,C$Tzd,C$Tzo,C$Tze,C$Tzs,C$Tzr,C$TzS.MixDirection.mixIn);else for(var C$Tzp=C$Tzn.timelineMode,C$Tzm=0==C$Tzn.timelinesRotation.length,C$Tzy=(C$Tzm&&C$TzS.Utils.setArraySize(C$Tzn.timelinesRotation,C$Tza<<1,null),C$Tzn.timelinesRotation),C$Tzc=0;C$Tzc<C$Tza;C$Tzc++){var C$Tzl=C$Tzf[C$Tzc],C$Tzg=(C$Tzp[C$Tzc]&C$TzT.NOT_LAST-1)==C$TzT.SUBSEQUENT?C$Tzr:C$TzS.MixBlend.setup;C$Tzl instanceof C$TzS.RotateTimeline?this.applyRotateTimeline(C$Tzl,C$Tzt,C$Tzo,C$Tzs,C$Tzg,C$Tzy,C$Tzc<<1,C$Tzm):(C$TzS.Utils.webkit602BugfixHelper(C$Tzs,C$Tzr),C$Tzl.apply(C$Tzt,C$Tzd,C$Tzo,C$Tze,C$Tzs,C$Tzg,C$TzS.MixDirection.mixIn));}this.queueEvents(C$Tzn,C$Tzo),C$Tze.length=0,C$Tzn.nextAnimationLast=C$Tzo,C$Tzn.nextTrackLast=C$Tzn.trackTime;}}return this.queue.drain(),C$Tzu;},C$TzT.prototype.applyMixingFrom=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.mixingFrom,C$Tzr=(null!=C$Tzn.mixingFrom&&this.applyMixingFrom(C$Tzn,C$Tze,C$Tzi),0),C$Tzh=(0==C$Tzt.mixDuration?(C$Tzr=1,C$Tzi==C$TzS.MixBlend.first&&(C$Tzi=C$TzS.MixBlend.setup)):(1<(C$Tzr=C$Tzt.mixTime/C$Tzt.mixDuration)&&(C$Tzr=1),C$Tzi!=C$TzS.MixBlend.first&&(C$Tzi=C$Tzn.mixBlend)),C$Tzr<C$Tzn.eventThreshold?this.events:null),C$Tzu=C$Tzr<C$Tzn.attachmentThreshold,C$Tz_=C$Tzr<C$Tzn.drawOrderThreshold,C$Tzd=C$Tzn.animationLast,C$Tzs=C$Tzn.getAnimationTime(),C$Tzf=C$Tzn.animation.timelines.length,C$Tzp=C$Tzn.animation.timelines,C$Tzm=C$Tzn.alpha*C$Tzt.interruptAlpha,C$Tzy=C$Tzm*(1-C$Tzr);if(C$Tzi==C$TzS.MixBlend.add)for(var C$Tzo=0;C$Tzo<C$Tzf;C$Tzo++)C$Tzp[C$Tzo].apply(C$Tze,C$Tzd,C$Tzs,C$Tzh,C$Tzy,C$Tzi,C$TzS.MixDirection.mixOut);else for(var C$Tzg=C$Tzn.timelineMode,C$Tzv=C$Tzn.timelineHoldMix,C$Tzx=0==C$Tzn.timelinesRotation.length,C$Tzb=(C$Tzx&&C$TzS.Utils.setArraySize(C$Tzn.timelinesRotation,C$Tzf<<1,null),C$Tzn.timelinesRotation),C$Tzo=C$Tzn.totalAlpha=0;C$Tzo<C$Tzf;C$Tzo++){var C$Tza=C$Tzp[C$Tzo],C$TzA=C$TzS.MixDirection.mixOut,C$Tzc=void 0,C$Tzl=0;switch(C$Tzg[C$Tzo]&C$TzT.NOT_LAST-1){case C$TzT.SUBSEQUENT:if(C$Tzc=C$Tzi,!C$Tzu&&C$Tza instanceof C$TzS.AttachmentTimeline){if((C$Tzg[C$Tzo]&C$TzT.NOT_LAST)==C$TzT.NOT_LAST)continue;C$Tzc=C$TzS.MixBlend.setup;}if(!C$Tz_&&C$Tza instanceof C$TzS.DrawOrderTimeline)continue;C$Tzl=C$Tzy;break;case C$TzT.FIRST:C$Tzc=C$TzS.MixBlend.setup,C$Tzl=C$Tzy;break;case C$TzT.HOLD:C$Tzc=C$TzS.MixBlend.setup,C$Tzl=C$Tzm;break;default:var C$Tzc=C$TzS.MixBlend.setup,C$TzC=C$Tzv[C$Tzo],C$Tzl=C$Tzm*Math.max(0,1-C$TzC.mixTime/C$TzC.mixDuration);}C$Tzn.totalAlpha+=C$Tzl,C$Tza instanceof C$TzS.RotateTimeline?this.applyRotateTimeline(C$Tza,C$Tze,C$Tzs,C$Tzl,C$Tzc,C$Tzb,C$Tzo<<1,C$Tzx):(C$TzS.Utils.webkit602BugfixHelper(C$Tzl,C$Tzi),C$Tzc==C$TzS.MixBlend.setup&&(C$Tza instanceof C$TzS.AttachmentTimeline?!C$Tzu&&(C$Tzg[C$Tzo]&C$TzT.NOT_LAST)!=C$TzT.NOT_LAST||(C$TzA=C$TzS.MixDirection.mixIn):C$Tza instanceof C$TzS.DrawOrderTimeline&&C$Tz_&&(C$TzA=C$TzS.MixDirection.mixIn)),C$Tza.apply(C$Tze,C$Tzd,C$Tzs,C$Tzh,C$Tzl,C$Tzc,C$TzA));}return 0<C$Tzt.mixDuration&&this.queueEvents(C$Tzn,C$Tzs),this.events.length=0,C$Tzn.nextAnimationLast=C$Tzs,C$Tzn.nextTrackLast=C$Tzn.trackTime,C$Tzr;},C$TzT.prototype.applyRotateTimeline=function(C$Tzh,C$Tzu,C$Tzt,C$Tz_,C$Tzd,C$Tze,C$Tzi,C$Tzf){if(C$Tzf&&(C$Tze[C$Tzi]=0),1!=C$Tz_){var C$Tzn=C$Tzh,C$Tzr=C$Tzn.frames,C$Tzs=C$Tzu.bones[C$Tzn.boneIndex];if(C$Tzs.active){var C$Tzp=0,C$Tzo=0;if(C$Tzt<C$Tzr[0])switch(C$Tzd){case C$TzS.MixBlend.setup:C$Tzs.rotation=C$Tzs.data.rotation;default:return;case C$TzS.MixBlend.first:C$Tzp=C$Tzs.rotation,C$Tzo=C$Tzs.data.rotation;}else{C$Tzp=(C$Tzd==C$TzS.MixBlend.setup?C$Tzs.data:C$Tzs).rotation;C$Tzt>=C$Tzr[C$Tzr.length-C$TzS.RotateTimeline.ENTRIES]?C$Tzo=C$Tzs.data.rotation+C$Tzr[C$Tzr.length+C$TzS.RotateTimeline.PREV_ROTATION]:(C$Tzc=C$Tzr[(C$Tza=C$TzS.Animation.binarySearch(C$Tzr,C$Tzt,C$TzS.RotateTimeline.ENTRIES))+C$TzS.RotateTimeline.PREV_ROTATION],C$Tzl=C$Tzr[C$Tza],C$Tzn=C$Tzn.getCurvePercent((C$Tza>>1)-1,1-(C$Tzt-C$Tzl)/(C$Tzr[C$Tza+C$TzS.RotateTimeline.PREV_TIME]-C$Tzl)),C$Tzo=C$Tzr[C$Tza+C$TzS.RotateTimeline.ROTATION]-C$Tzc,C$Tzo=C$Tzc+(C$Tzo-=360*(16384-(16384.499999999996-C$Tzo/360|0)))*C$Tzn+C$Tzs.data.rotation,C$Tzo-=360*(16384-(16384.499999999996-C$Tzo/360|0)));}var C$Tza,C$Tzc,C$Tzl=0,C$Tzr=C$Tzo-C$Tzp;0==(C$Tzr-=360*(16384-(16384.499999999996-C$Tzr/360|0)))?C$Tzl=C$Tze[C$Tzi]:(C$Tzc=C$Tza=0,C$Tzc=C$Tzf?(C$Tza=0,C$Tzr):(C$Tza=C$Tze[C$Tzi],C$Tze[C$Tzi+1]),C$Tzn=0<C$Tzr,C$Tzf=0<=C$Tza,C$TzS.MathUtils.signum(C$Tzc)!=C$TzS.MathUtils.signum(C$Tzr)&&Math.abs(C$Tzc)<=90&&(180<Math.abs(C$Tza)&&(C$Tza+=360*C$TzS.MathUtils.signum(C$Tza)),C$Tzf=C$Tzn),C$Tzl=C$Tzr+C$Tza-C$Tza%360,C$Tzf!=C$Tzn&&(C$Tzl+=360*C$TzS.MathUtils.signum(C$Tza)),C$Tze[C$Tzi]=C$Tzl),C$Tze[C$Tzi+1]=C$Tzr,C$Tzs.rotation=(C$Tzp+=C$Tzl*C$Tz_)-360*(16384-(16384.499999999996-C$Tzp/360|0));}}else C$Tzh.apply(C$Tzu,0,C$Tzt,null,1,C$Tzd,C$TzS.MixDirection.mixIn);},C$TzT.prototype.queueEvents=function(C$Tzt,C$Tze){for(var C$Tzi=C$Tzt.animationStart,C$Tzn=C$Tzt.animationEnd,C$Tzr=C$Tzn-C$Tzi,C$Tzs=C$Tzt.trackLast%C$Tzr,C$Tzo=this.events,C$Tza=0,C$Tzc=C$Tzo.length;C$Tza<C$Tzc;C$Tza++){var C$Tzl=C$Tzo[C$Tza];if(C$Tzl.time<C$Tzs)break;C$Tzl.time>C$Tzn||this.queue.event(C$Tzt,C$Tzl);}for((C$Tzt.loop?0==C$Tzr||C$Tzs>C$Tzt.trackTime%C$Tzr:C$Tzn<=C$Tze&&C$Tzt.animationLast<C$Tzn)&&this.queue.complete(C$Tzt);C$Tza<C$Tzc;C$Tza++)C$Tzo[C$Tza].time<C$Tzi||this.queue.event(C$Tzt,C$Tzo[C$Tza]);},C$TzT.prototype.clearTracks=function(){var C$Tzt=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var C$Tze=0,C$Tzi=this.tracks.length;C$Tze<C$Tzi;C$Tze++)this.clearTrack(C$Tze);this.tracks.length=0,this.queue.drainDisabled=C$Tzt,this.queue.drain();},C$TzT.prototype.clearTrack=function(C$Tzt){if(!(C$Tzt>=this.tracks.length)){C$Tzt=this.tracks[C$Tzt];if(null!=C$Tzt){this.queue.end(C$Tzt),this.disposeNext(C$Tzt);for(var C$Tze=C$Tzt;;){var C$Tzi=C$Tze.mixingFrom;if(null==C$Tzi)break;this.queue.end(C$Tzi),C$Tze.mixingFrom=null,C$Tze.mixingTo=null,C$Tze=C$Tzi;}this.tracks[C$Tzt.trackIndex]=null,this.queue.drain();}}},C$TzT.prototype.setCurrent=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this.expandToIndex(C$Tzt);this.tracks[C$Tzt]=C$Tze,null!=C$Tzn&&(C$Tzi&&this.queue.interrupt(C$Tzn),((C$Tze.mixingFrom=C$Tzn).mixingTo=C$Tze).mixTime=0,null!=C$Tzn.mixingFrom&&0<C$Tzn.mixDuration&&(C$Tze.interruptAlpha*=Math.min(1,C$Tzn.mixTime/C$Tzn.mixDuration)),C$Tzn.timelinesRotation.length=0),this.queue.start(C$Tze);},C$TzT.prototype.setAnimation=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this.data.skeletonData.findAnimation(C$Tze);if(null==C$Tzn)throw new Error(H[2800]+C$Tze);return this.setAnimationWith(C$Tzt,C$Tzn,C$Tzi);},C$TzT.prototype.setAnimationWith=function(C$Tzt,C$Tze,C$Tzi){if(null==C$Tze)throw new Error(H[2801]);var C$Tzn=!0,C$Tzr=this.expandToIndex(C$Tzt),C$Tze=(null!=C$Tzr&&(-1==C$Tzr.nextTrackLast?(this.tracks[C$Tzt]=C$Tzr.mixingFrom,this.queue.interrupt(C$Tzr),this.queue.end(C$Tzr),this.disposeNext(C$Tzr),C$Tzr=C$Tzr.mixingFrom,C$Tzn=!1):this.disposeNext(C$Tzr)),this.trackEntry(C$Tzt,C$Tze,C$Tzi,C$Tzr));return this.setCurrent(C$Tzt,C$Tze,C$Tzn),this.queue.drain(),C$Tze;},C$TzT.prototype.addAnimation=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=this.data.skeletonData.findAnimation(C$Tze);if(null==C$Tzr)throw new Error(H[2800]+C$Tze);return this.addAnimationWith(C$Tzt,C$Tzr,C$Tzi,C$Tzn);},C$TzT.prototype.addAnimationWith=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){if(null==C$Tze)throw new Error(H[2801]);var C$Tzr=this.expandToIndex(C$Tzt);if(null!=C$Tzr)for(;null!=C$Tzr.next;)C$Tzr=C$Tzr.next;C$Tzi=this.trackEntry(C$Tzt,C$Tze,C$Tzi,C$Tzr);return null==C$Tzr?(this.setCurrent(C$Tzt,C$Tzi,!0),this.queue.drain()):(C$Tzr.next=C$Tzi,C$Tzn<=0&&(0!=(C$Tzt=C$Tzr.animationEnd-C$Tzr.animationStart)?(C$Tzr.loop?C$Tzn+=C$Tzt*(1+(C$Tzr.trackTime/C$Tzt|0)):C$Tzn+=Math.max(C$Tzt,C$Tzr.trackTime),C$Tzn-=this.data.getMix(C$Tzr.animation,C$Tze)):C$Tzn=C$Tzr.trackTime)),C$Tzi.delay=C$Tzn,C$Tzi;},C$TzT.prototype.setEmptyAnimation=function(C$Tzt,C$Tze){C$Tzt=this.setAnimationWith(C$Tzt,C$TzT.emptyAnimation,!1);return C$Tzt.mixDuration=C$Tze,C$Tzt.trackEnd=C$Tze,C$Tzt;},C$TzT.prototype.addEmptyAnimation=function(C$Tzt,C$Tze,C$Tzi){C$Tzi<=0&&(C$Tzi-=C$Tze);C$Tzt=this.addAnimationWith(C$Tzt,C$TzT.emptyAnimation,!1,C$Tzi);return C$Tzt.mixDuration=C$Tze,C$Tzt.trackEnd=C$Tze,C$Tzt;},C$TzT.prototype.setEmptyAnimations=function(C$Tzt){var C$Tze=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var C$Tzi=0,C$Tzn=this.tracks.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=this.tracks[C$Tzi];null!=C$Tzr&&this.setEmptyAnimation(C$Tzr.trackIndex,C$Tzt);}this.queue.drainDisabled=C$Tze,this.queue.drain();},C$TzT.prototype.expandToIndex=function(C$Tzt){return C$Tzt<this.tracks.length?this.tracks[C$Tzt]:(C$TzS.Utils.ensureArrayCapacity(this.tracks,C$Tzt+1,null),this.tracks.length=C$Tzt+1,null);},C$TzT.prototype.trackEntry=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=this.trackEntryPool.obtain();return C$Tzr.trackIndex=C$Tzt,C$Tzr.animation=C$Tze,C$Tzr.loop=C$Tzi,C$Tzr.holdPrevious=!1,C$Tzr.eventThreshold=0,C$Tzr.attachmentThreshold=0,C$Tzr.drawOrderThreshold=0,C$Tzr.animationStart=0,C$Tzr.animationEnd=C$Tze.duration,C$Tzr.animationLast=-1,C$Tzr.nextAnimationLast=-1,C$Tzr.delay=0,C$Tzr.trackTime=0,C$Tzr.trackLast=-1,C$Tzr.nextTrackLast=-1,C$Tzr.trackEnd=Number.MAX_VALUE,C$Tzr.timeScale=1,C$Tzr.alpha=1,C$Tzr.interruptAlpha=1,C$Tzr.mixTime=0,C$Tzr.mixDuration=null==C$Tzn?0:this.data.getMix(C$Tzn.animation,C$Tze),C$Tzr;},C$TzT.prototype.disposeNext=function(C$Tzt){for(var C$Tze=C$Tzt.next;null!=C$Tze;)this.queue.dispose(C$Tze),C$Tze=C$Tze.next;C$Tzt.next=null;},C$TzT.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var C$Tzt=0,C$Tze=this.tracks.length;C$Tzt<C$Tze;C$Tzt++)if(null!=(C$Tzi=this.tracks[C$Tzt])){for(;null!=C$Tzi.mixingFrom;)C$Tzi=C$Tzi.mixingFrom;for(;null!=C$Tzi.mixingFrom&&C$Tzi.mixBlend==C$TzS.MixBlend.add||this.computeHold(C$Tzi),null!=(C$Tzi=C$Tzi.mixingTo););}this.propertyIDs.clear();for(C$Tzt=this.tracks.length-1;0<=C$Tzt;C$Tzt--)for(var C$Tzi=this.tracks[C$Tzt];null!=C$Tzi;)this.computeNotLast(C$Tzi),C$Tzi=C$Tzi.mixingFrom;},C$TzT.prototype.computeHold=function(C$Tzt){var C$Tze=C$Tzt.mixingTo,C$Tzi=C$Tzt.animation.timelines,C$Tzn=C$Tzt.animation.timelines.length,C$Tzr=C$TzS.Utils.setArraySize(C$Tzt.timelineMode,C$Tzn),C$Tzh=(C$Tzt.timelineHoldMix.length=0,C$TzS.Utils.setArraySize(C$Tzt.timelineHoldMix,C$Tzn)),C$Tzs=this.propertyIDs;if(null!=C$Tze&&C$Tze.holdPrevious)for(var C$Tzo=0;C$Tzo<C$Tzn;C$Tzo++)C$Tzs.add(C$Tzi[C$Tzo].getPropertyId()),C$Tzr[C$Tzo]=C$TzT.HOLD;else C$Tzt:for(C$Tzo=0;C$Tzo<C$Tzn;C$Tzo++){var C$Tza=C$Tzi[C$Tzo],C$Tzc=C$Tza.getPropertyId();if(C$Tzs.add(C$Tzc)){if(null==C$Tze||C$Tza instanceof C$TzS.AttachmentTimeline||C$Tza instanceof C$TzS.DrawOrderTimeline||C$Tza instanceof C$TzS.EventTimeline||!C$Tze.animation.hasTimeline(C$Tzc))C$Tzr[C$Tzo]=C$TzT.FIRST;else{for(var C$Tzl=C$Tze.mixingTo;null!=C$Tzl;C$Tzl=C$Tzl.mixingTo)if(!C$Tzl.animation.hasTimeline(C$Tzc)){if(0<C$Tzt.mixDuration){C$Tzr[C$Tzo]=C$TzT.HOLD_MIX,C$Tzh[C$Tzo]=C$Tzl;continue C$Tzt;}break;}C$Tzr[C$Tzo]=C$TzT.HOLD;}}else C$Tzr[C$Tzo]=C$TzT.SUBSEQUENT;}},C$TzT.prototype.computeNotLast=function(C$Tzt){for(var C$Tze,C$Tzi=C$Tzt.animation.timelines,C$Tzn=C$Tzt.animation.timelines.length,C$Tzr=C$Tzt.timelineMode,C$Tzs=this.propertyIDs,C$Tzo=0;C$Tzo<C$Tzn;C$Tzo++)C$Tzi[C$Tzo]instanceof C$TzS.AttachmentTimeline&&(C$Tze=C$Tzi[C$Tzo],C$Tzs.add(C$Tze.slotIndex)||(C$Tzr[C$Tzo]|=C$TzT.NOT_LAST));},C$TzT.prototype.getCurrent=function(C$Tzt){return C$Tzt>=this.tracks.length?null:this.tracks[C$Tzt];},C$TzT.prototype.addListener=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2802]);this.listeners.push(C$Tzt);},C$TzT.prototype.removeListener=function(C$Tzt){C$Tzt=this.listeners.indexOf(C$Tzt);0<=C$Tzt&&this.listeners.splice(C$Tzt,1);},C$TzT.prototype.clearListeners=function(){this.listeners.length=0;},C$TzT.prototype.clearListenerNotifications=function(){this.queue.clear();},C$TzT.emptyAnimation=new C$TzS.Animation(H[2803],[],0),C$TzT.SUBSEQUENT=0,C$TzT.FIRST=1,C$TzT.HOLD=2,C$TzT.HOLD_MIX=3,C$TzT.NOT_LAST=4;var C$Tzt=C$TzT;function C$TzT(C$Tzt){this.tracks=[],this.timeScale=1,this.events=[],this.listeners=[],this.queue=new C$Tzn(this),this.propertyIDs=new C$TzS.IntSet(),this.animationsChanged=!1,this.trackEntryPool=new C$TzS.Pool(function(){return new C$Tze();}),this.data=C$Tzt;}C$TzS.AnimationState=C$Tzt;C$Tzi.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0;},C$Tzi.prototype.getAnimationTime=function(){var C$Tzt;return this.loop?0==(C$Tzt=this.animationEnd-this.animationStart)?this.animationStart:this.trackTime%C$Tzt+this.animationStart:Math.min(this.trackTime+this.animationStart,this.animationEnd);},C$Tzi.prototype.setAnimationLast=function(C$Tzt){this.animationLast=C$Tzt,this.nextAnimationLast=C$Tzt;},C$Tzi.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart;},C$Tzi.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0;};var C$Tze=C$Tzi;function C$Tzi(){this.mixBlend=C$TzS.MixBlend.replace,this.timelineMode=[],this.timelineHoldMix=[],this.timelinesRotation=[];}C$TzS.TrackEntry=C$Tze;C$Tzr.prototype.start=function(C$Tzt){this.objects.push(C$Tza.start),this.objects.push(C$Tzt),this.animState.animationsChanged=!0;},C$Tzr.prototype.interrupt=function(C$Tzt){this.objects.push(C$Tza.interrupt),this.objects.push(C$Tzt);},C$Tzr.prototype.end=function(C$Tzt){this.objects.push(C$Tza.end),this.objects.push(C$Tzt),this.animState.animationsChanged=!0;},C$Tzr.prototype.dispose=function(C$Tzt){this.objects.push(C$Tza.dispose),this.objects.push(C$Tzt);},C$Tzr.prototype.complete=function(C$Tzt){this.objects.push(C$Tza.complete),this.objects.push(C$Tzt);},C$Tzr.prototype.event=function(C$Tzt,C$Tze){this.objects.push(C$Tza.event),this.objects.push(C$Tzt),this.objects.push(C$Tze);},C$Tzr.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var C$Tzt=this.objects,C$Tze=this.animState.listeners,C$Tzi=0;C$Tzi<C$Tzt.length;C$Tzi+=2){var C$Tzn=C$Tzt[C$Tzi],C$Tzr=C$Tzt[C$Tzi+1];switch(C$Tzn){case C$Tza.start:null!=C$Tzr.listener&&C$Tzr.listener.start&&C$Tzr.listener.start(C$Tzr);for(var C$Tzs=0;C$Tzs<C$Tze.length;C$Tzs++)C$Tze[C$Tzs].start&&C$Tze[C$Tzs].start(C$Tzr);break;case C$Tza.interrupt:null!=C$Tzr.listener&&C$Tzr.listener.interrupt&&C$Tzr.listener.interrupt(C$Tzr);for(C$Tzs=0;C$Tzs<C$Tze.length;C$Tzs++)C$Tze[C$Tzs].interrupt&&C$Tze[C$Tzs].interrupt(C$Tzr);break;case C$Tza.end:null!=C$Tzr.listener&&C$Tzr.listener.end&&C$Tzr.listener.end(C$Tzr);for(C$Tzs=0;C$Tzs<C$Tze.length;C$Tzs++)C$Tze[C$Tzs].end&&C$Tze[C$Tzs].end(C$Tzr);case C$Tza.dispose:null!=C$Tzr.listener&&C$Tzr.listener.dispose&&C$Tzr.listener.dispose(C$Tzr);for(C$Tzs=0;C$Tzs<C$Tze.length;C$Tzs++)C$Tze[C$Tzs].dispose&&C$Tze[C$Tzs].dispose(C$Tzr);this.animState.trackEntryPool.free(C$Tzr);break;case C$Tza.complete:null!=C$Tzr.listener&&C$Tzr.listener.complete&&C$Tzr.listener.complete(C$Tzr);for(C$Tzs=0;C$Tzs<C$Tze.length;C$Tzs++)C$Tze[C$Tzs].complete&&C$Tze[C$Tzs].complete(C$Tzr);break;case C$Tza.event:var C$Tzo=C$Tzt[2+C$Tzi++];null!=C$Tzr.listener&&C$Tzr.listener.event&&C$Tzr.listener.event(C$Tzr,C$Tzo);for(C$Tzs=0;C$Tzs<C$Tze.length;C$Tzs++)C$Tze[C$Tzs].event&&C$Tze[C$Tzs].event(C$Tzr,C$Tzo);}}this.clear(),this.drainDisabled=!1;}},C$Tzr.prototype.clear=function(){this.objects.length=0;};var C$Tza,C$Tzn=C$Tzr;function C$Tzr(C$Tzt){this.objects=[],this.drainDisabled=!1,this.animState=C$Tzt;}function C$Tzs(){}C$TzS.EventQueue=C$Tzn,(C$Tzt=C$Tza=C$TzS.EventType||(C$TzS.EventType={}))[C$Tzt.start=0]=H[987],C$Tzt[C$Tzt.interrupt=1]=H[2804],C$Tzt[C$Tzt.end=2]=H[2805],C$Tzt[C$Tzt.dispose=3]=H[2806],C$Tzt[C$Tzt.complete=4]=H[2807],C$Tzt[C$Tzt.event=5]=H[2791],C$Tzs.prototype.start=function(C$Tzt){},C$Tzs.prototype.interrupt=function(C$Tzt){},C$Tzs.prototype.end=function(C$Tzt){},C$Tzs.prototype.dispose=function(C$Tzt){},C$Tzs.prototype.complete=function(C$Tzt){},C$Tzs.prototype.event=function(C$Tzt,C$Tze){},C$TzS.AnimationStateAdapter=C$Tzs;}(C$Tzt=C$Tzt||{}),function(C$Tzt){function C$Tze(C$Tzt){if(this.animationToMixTime={},this.defaultMix=0,null==C$Tzt)throw new Error(H[2808]);this.skeletonData=C$Tzt;}C$Tze.prototype.setMix=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this.skeletonData.findAnimation(C$Tzt);if(null==C$Tzn)throw new Error(H[2800]+C$Tzt);C$Tzt=this.skeletonData.findAnimation(C$Tze);if(null==C$Tzt)throw new Error(H[2800]+C$Tze);this.setMixWith(C$Tzn,C$Tzt,C$Tzi);},C$Tze.prototype.setMixWith=function(C$Tzt,C$Tze,C$Tzi){if(null==C$Tzt)throw new Error(H[2809]);if(null==C$Tze)throw new Error(H[2810]);C$Tzt=C$Tzt.name+"."+C$Tze.name;this.animationToMixTime[C$Tzt]=C$Tzi;},C$Tze.prototype.getMix=function(C$Tzt,C$Tze){C$Tzt=C$Tzt.name+"."+C$Tze.name,C$Tze=this.animationToMixTime[C$Tzt];return void 0===C$Tze?this.defaultMix:C$Tze;},C$Tzt.AnimationStateData=C$Tze;}(C$Tzt=C$Tzt||{}),function(C$Tz_){function C$Tzt(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=""),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.textureLoader=C$Tzt,this.pathPrefix=C$Tze;}C$Tzt.downloadText=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=new XMLHttpRequest();C$Tzn.open(H[1140],C$Tzt,!0),C$Tzn.onload=function(){200==C$Tzn.status?C$Tze(C$Tzn.responseText):C$Tzi(C$Tzn.status,C$Tzn.responseText);},C$Tzn.onerror=function(){C$Tzi(C$Tzn.status,C$Tzn.responseText);},C$Tzn.send();},C$Tzt.downloadBinary=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=new XMLHttpRequest();C$Tzn.open(H[1140],C$Tzt,!0),C$Tzn.responseType=H[1141],C$Tzn.onload=function(){200==C$Tzn.status?C$Tze(new Uint8Array(C$Tzn.response)):C$Tzi(C$Tzn.status,C$Tzn.responseText);},C$Tzn.onerror=function(){C$Tzi(C$Tzn.status,C$Tzn.responseText);},C$Tzn.send();},C$Tzt.prototype.loadBinary=function(C$Tzi,C$Tze,C$Tzn){var C$Tzr=this;void 0===C$Tze&&(C$Tze=null),void 0===C$Tzn&&(C$Tzn=null),C$Tzi=this.pathPrefix+C$Tzi,this.toLoad++,C$Tzt.downloadBinary(C$Tzi,function(C$Tzt){C$Tzr.assets[C$Tzi]=C$Tzt,C$Tze&&C$Tze(C$Tzi,C$Tzt),C$Tzr.toLoad--,C$Tzr.loaded++;},function(C$Tzt,C$Tze){C$Tzr.errors[C$Tzi]=H[2811]+C$Tzi+H[2812]+status+H[1637]+C$Tze,C$Tzn&&C$Tzn(C$Tzi,H[2811]+C$Tzi+H[2812]+status+H[1637]+C$Tze),C$Tzr.toLoad--,C$Tzr.loaded++;});},C$Tzt.prototype.loadText=function(C$Tzi,C$Tze,C$Tzn){var C$Tzr=this;void 0===C$Tze&&(C$Tze=null),void 0===C$Tzn&&(C$Tzn=null),C$Tzi=this.pathPrefix+C$Tzi,this.toLoad++,C$Tzt.downloadText(C$Tzi,function(C$Tzt){C$Tzr.assets[C$Tzi]=C$Tzt,C$Tze&&C$Tze(C$Tzi,C$Tzt),C$Tzr.toLoad--,C$Tzr.loaded++;},function(C$Tzt,C$Tze){C$Tzr.errors[C$Tzi]=H[2813]+C$Tzi+H[2812]+status+H[1637]+C$Tze,C$Tzn&&C$Tzn(C$Tzi,H[2813]+C$Tzi+H[2812]+status+H[1637]+C$Tze),C$Tzr.toLoad--,C$Tzr.loaded++;});},C$Tzt.prototype.loadTexture=function(C$Tzi,C$Tzn,C$Tze){var C$Tzr=this,C$Tzs=(void 0===C$Tzn&&(C$Tzn=null),void 0===C$Tze&&(C$Tze=null),C$Tzi=this.pathPrefix+C$Tzi,this.toLoad++,new Image());C$Tzs.crossOrigin=H[1153],C$Tzs.onload=function(C$Tzt){var C$Tze=C$Tzr.textureLoader(C$Tzs);C$Tzr.assets[C$Tzi]=C$Tze,C$Tzr.toLoad--,C$Tzr.loaded++,C$Tzn&&C$Tzn(C$Tzi,C$Tzs);},C$Tzs.onerror=function(C$Tzt){C$Tzr.errors[C$Tzi]=H[2814]+C$Tzi,C$Tzr.toLoad--,C$Tzr.loaded++,C$Tze&&C$Tze(C$Tzi,H[2814]+C$Tzi);},C$Tzs.src=C$Tzi;},C$Tzt.prototype.loadTextureData=function(C$Tzi,C$Tzt,C$Tzn,C$Tze){var C$Tzr=this,C$Tzs=(void 0===C$Tzn&&(C$Tzn=null),void 0===C$Tze&&(C$Tze=null),C$Tzi=this.pathPrefix+C$Tzi,this.toLoad++,new Image());C$Tzs.onload=function(C$Tzt){var C$Tze=C$Tzr.textureLoader(C$Tzs);C$Tzr.assets[C$Tzi]=C$Tze,C$Tzr.toLoad--,C$Tzr.loaded++,C$Tzn&&C$Tzn(C$Tzi,C$Tzs);},C$Tzs.onerror=function(C$Tzt){C$Tzr.errors[C$Tzi]=H[2814]+C$Tzi,C$Tzr.toLoad--,C$Tzr.loaded++,C$Tze&&C$Tze(C$Tzi,H[2814]+C$Tzi);},C$Tzs.src=C$Tzt;},C$Tzt.prototype.loadTextureAtlas=function(C$Tza,C$Tzc,C$Tzl){var C$Tzh=this,C$Tzu=(void 0===C$Tzc&&(C$Tzc=null),void 0===C$Tzl&&(C$Tzl=null),0<=C$Tza.lastIndexOf("/")?C$Tza.substring(0,C$Tza.lastIndexOf("/")):"");C$Tza=this.pathPrefix+C$Tza,this.toLoad++,C$Tzt.downloadText(C$Tza,function(C$Tzr){var C$Tzs={count:0},C$Tzo=[];try{new C$Tz_.TextureAtlas(C$Tzr,function(C$Tzt){C$Tzo.push(C$Tzu+"/"+C$Tzt);C$Tzt=document.createElement(H[1731]);return C$Tzt.width=16,C$Tzt.height=16,new C$Tz_.FakeTexture(C$Tzt);});}catch(C$Tzt){var C$Tze=C$Tzt;return C$Tzh.errors[C$Tza]=H[2815]+C$Tza+H[2816]+C$Tze.message,C$Tzl&&C$Tzl(C$Tza,H[2815]+C$Tza+H[2816]+C$Tze.message),C$Tzh.toLoad--,void C$Tzh.loaded++;}for(var C$Tzt=0,C$Tzi=C$Tzo;C$Tzt<C$Tzi.length;C$Tzt++)!function(C$Tzt){var C$Tzn=!1;C$Tzh.loadTexture(C$Tzt,function(C$Tze,C$Tzt){if(C$Tzs.count++,C$Tzs.count==C$Tzo.length)if(C$Tzn)C$Tzh.errors[C$Tza]=H[2817]+C$Tze+H[2818]+C$Tza,C$Tzl&&C$Tzl(C$Tza,H[2817]+C$Tze+H[2819]+C$Tza),C$Tzh.toLoad--,C$Tzh.loaded++;else try{var C$Tzi=new C$Tz_.TextureAtlas(C$Tzr,function(C$Tzt){return C$Tzh.get(C$Tzu+"/"+C$Tzt);});C$Tzh.assets[C$Tza]=C$Tzi,C$Tzc&&C$Tzc(C$Tza,C$Tzi),C$Tzh.toLoad--,C$Tzh.loaded++;}catch(C$Tzt){C$Tze=C$Tzt;C$Tzh.errors[C$Tza]=H[2815]+C$Tza+H[2816]+C$Tze.message,C$Tzl&&C$Tzl(C$Tza,H[2815]+C$Tza+H[2816]+C$Tze.message),C$Tzh.toLoad--,C$Tzh.loaded++;}},function(C$Tzt,C$Tze){C$Tzn=!0,C$Tzs.count++,C$Tzs.count==C$Tzo.length&&(C$Tzh.errors[C$Tza]=H[2817]+C$Tzt+H[2818]+C$Tza,C$Tzl&&C$Tzl(C$Tza,H[2817]+C$Tzt+H[2819]+C$Tza),C$Tzh.toLoad--,C$Tzh.loaded++);});}(C$Tzi[C$Tzt]);},function(C$Tzt,C$Tze){C$Tzh.errors[C$Tza]=H[2815]+C$Tza+H[2812]+status+H[1637]+C$Tze,C$Tzl&&C$Tzl(C$Tza,H[2815]+C$Tza+H[2812]+status+H[1637]+C$Tze),C$Tzh.toLoad--,C$Tzh.loaded++;});},C$Tzt.prototype.get=function(C$Tzt){return C$Tzt=this.pathPrefix+C$Tzt,this.assets[C$Tzt];},C$Tzt.prototype.remove=function(C$Tzt){C$Tzt=this.pathPrefix+C$Tzt;var C$Tze=this.assets[C$Tzt];C$Tze.dispose&&C$Tze.dispose(),this.assets[C$Tzt]=null;},C$Tzt.prototype.removeAll=function(){for(var C$Tzt in this.assets){C$Tzt=this.assets[C$Tzt];C$Tzt.dispose&&C$Tzt.dispose();}this.assets={};},C$Tzt.prototype.isLoadingComplete=function(){return 0==this.toLoad;},C$Tzt.prototype.getToLoad=function(){return this.toLoad;},C$Tzt.prototype.getLoaded=function(){return this.loaded;},C$Tzt.prototype.dispose=function(){this.removeAll();},C$Tzt.prototype.hasErrors=function(){return 0<Object.keys(this.errors).length;},C$Tzt.prototype.getErrors=function(){return this.errors;},C$Tz_.AssetManager=C$Tzt;}(C$Tzt=C$Tzt||{}),function(C$Tzn){function C$Tzt(C$Tzt){this.atlas=C$Tzt;}C$Tzt.prototype.newRegionAttachment=function(C$Tzt,C$Tze,C$Tzi){C$Tzi=this.atlas.findRegion(C$Tzi);if(null==C$Tzi)return null;C$Tzi.renderObject=C$Tzi;C$Tze=new C$Tzn.RegionAttachment(C$Tze);return C$Tze.setRegion(C$Tzi),C$Tze;},C$Tzt.prototype.newMeshAttachment=function(C$Tzt,C$Tze,C$Tzi){C$Tzi=this.atlas.findRegion(C$Tzi);if(null==C$Tzi)return null;C$Tzi.renderObject=C$Tzi;C$Tze=new C$Tzn.MeshAttachment(C$Tze);return C$Tze.region=C$Tzi,C$Tze;},C$Tzt.prototype.newBoundingBoxAttachment=function(C$Tzt,C$Tze){return new C$Tzn.BoundingBoxAttachment(C$Tze);},C$Tzt.prototype.newPathAttachment=function(C$Tzt,C$Tze){return new C$Tzn.PathAttachment(C$Tze);},C$Tzt.prototype.newPointAttachment=function(C$Tzt,C$Tze){return new C$Tzn.PointAttachment(C$Tze);},C$Tzt.prototype.newClippingAttachment=function(C$Tzt,C$Tze){return new C$Tzn.ClippingAttachment(C$Tze);},C$Tzn.AtlasAttachmentLoader=C$Tzt;}(C$Tzt=C$Tzt||{}),(C$Tze=(C$Tze=C$Tzt=C$Tzt||{}).BlendMode||(C$Tze.BlendMode={}))[C$Tze.Normal=0]=H[859],C$Tze[C$Tze.Additive=1]=H[2820],C$Tze[C$Tze.Multiply=2]=H[2821],C$Tze[C$Tze.Screen=3]=H[2822],function(C$TzT){function C$Tzt(C$Tzt,C$Tze,C$Tzi){if(this.children=[],this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,null==C$Tzt)throw new Error(H[2823]);if(null==C$Tze)throw new Error(H[2776]);this.data=C$Tzt,this.skeleton=C$Tze,this.parent=C$Tzi,this.setToSetupPose();}C$Tzt.prototype.isActive=function(){return this.active;},C$Tzt.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY);},C$Tzt.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY);},C$Tzt.prototype.updateWorldTransformWith=function(C$Tzh,C$Tzu,C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tz_){this.ax=C$Tzh,this.ay=C$Tzu,this.arotation=C$Tzt,this.ascaleX=C$Tze,this.ascaleY=C$Tzi,this.ashearX=C$Tzn,this.ashearY=C$Tz_,this.appliedValid=!0;var C$Tzd,C$Tzf,C$Tzp,C$Tzm=this.parent;if(null==C$Tzm)return C$Tzy=C$Tzt+90+C$Tz_,C$Tzf=(C$Tzd=this.skeleton).scaleX,C$Tzp=C$Tzd.scaleY,this.a=C$TzT.MathUtils.cosDeg(C$Tzt+C$Tzn)*C$Tze*C$Tzf,this.b=C$TzT.MathUtils.cosDeg(C$Tzy)*C$Tzi*C$Tzf,this.c=C$TzT.MathUtils.sinDeg(C$Tzt+C$Tzn)*C$Tze*C$Tzp,this.d=C$TzT.MathUtils.sinDeg(C$Tzy)*C$Tzi*C$Tzp,this.worldX=C$Tzh*C$Tzf+C$Tzd.x,void(this.worldY=C$Tzu*C$Tzp+C$Tzd.y);var C$Tzr=C$Tzm.a,C$Tzs=C$Tzm.b,C$Tzo=C$Tzm.c,C$Tza=C$Tzm.d;switch(this.worldX=C$Tzr*C$Tzh+C$Tzs*C$Tzu+C$Tzm.worldX,this.worldY=C$Tzo*C$Tzh+C$Tza*C$Tzu+C$Tzm.worldY,this.data.transformMode){case C$TzT.TransformMode.Normal:var C$Tzy=C$Tzt+90+C$Tz_,C$Tzg=C$TzT.MathUtils.cosDeg(C$Tzt+C$Tzn)*C$Tze,C$Tzv=C$TzT.MathUtils.cosDeg(C$Tzy)*C$Tzi,C$Tzx=C$TzT.MathUtils.sinDeg(C$Tzt+C$Tzn)*C$Tze,C$Tzb=C$TzT.MathUtils.sinDeg(C$Tzy)*C$Tzi;return this.a=C$Tzr*C$Tzg+C$Tzs*C$Tzx,this.b=C$Tzr*C$Tzv+C$Tzs*C$Tzb,this.c=C$Tzo*C$Tzg+C$Tza*C$Tzx,void(this.d=C$Tzo*C$Tzv+C$Tza*C$Tzb);case C$TzT.TransformMode.OnlyTranslation:C$Tzy=C$Tzt+90+C$Tz_;this.a=C$TzT.MathUtils.cosDeg(C$Tzt+C$Tzn)*C$Tze,this.b=C$TzT.MathUtils.cosDeg(C$Tzy)*C$Tzi,this.c=C$TzT.MathUtils.sinDeg(C$Tzt+C$Tzn)*C$Tze,this.d=C$TzT.MathUtils.sinDeg(C$Tzy)*C$Tzi;break;case C$TzT.TransformMode.NoRotationOrReflection:var C$TzA=0,C$Tzc=C$Tzt+C$Tzn-(C$TzA=1e-4<(C$Tzl=C$Tzr*C$Tzr+C$Tzo*C$Tzo)?(C$Tzs=C$Tzo*(C$Tzl=Math.abs(C$Tzr*C$Tza-C$Tzs*C$Tzo)/C$Tzl),C$Tza=C$Tzr*C$Tzl,Math.atan2(C$Tzo,C$Tzr)*C$TzT.MathUtils.radDeg):(C$Tzo=C$Tzr=0,90-Math.atan2(C$Tza,C$Tzs)*C$TzT.MathUtils.radDeg)),C$TzA=C$Tzt+C$Tz_-C$TzA+90,C$Tzg=C$TzT.MathUtils.cosDeg(C$Tzc)*C$Tze,C$Tzv=C$TzT.MathUtils.cosDeg(C$TzA)*C$Tzi,C$Tzx=C$TzT.MathUtils.sinDeg(C$Tzc)*C$Tze,C$Tzb=C$TzT.MathUtils.sinDeg(C$TzA)*C$Tzi;this.a=C$Tzr*C$Tzg-C$Tzs*C$Tzx,this.b=C$Tzr*C$Tzv-C$Tzs*C$Tzb,this.c=C$Tzo*C$Tzg+C$Tza*C$Tzx,this.d=C$Tzo*C$Tzv+C$Tza*C$Tzb;break;case C$TzT.TransformMode.NoScale:case C$TzT.TransformMode.NoScaleOrReflection:var C$Tzl,C$Tzc=C$TzT.MathUtils.cosDeg(C$Tzt),C$TzA=C$TzT.MathUtils.sinDeg(C$Tzt),C$TzC=(C$Tzr*C$Tzc+C$Tzs*C$TzA)/this.skeleton.scaleX,C$Tzc=(C$Tzo*C$Tzc+C$Tza*C$TzA)/this.skeleton.scaleY,C$TzA=(C$TzC*=C$Tzl=1e-5<(C$Tzl=Math.sqrt(C$TzC*C$TzC+C$Tzc*C$Tzc))?1/C$Tzl:C$Tzl,C$Tzc*=C$Tzl,C$Tzl=Math.sqrt(C$TzC*C$TzC+C$Tzc*C$Tzc),this.data.transformMode==C$TzT.TransformMode.NoScale&&C$Tzr*C$Tza-C$Tzs*C$Tzo<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(C$Tzl=-C$Tzl),Math.PI/2+Math.atan2(C$Tzc,C$TzC)),C$TzS=Math.cos(C$TzA)*C$Tzl,C$TzA=Math.sin(C$TzA)*C$Tzl,C$Tzg=C$TzT.MathUtils.cosDeg(C$Tzn)*C$Tze,C$Tzv=C$TzT.MathUtils.cosDeg(90+C$Tz_)*C$Tzi,C$Tzx=C$TzT.MathUtils.sinDeg(C$Tzn)*C$Tze,C$Tzb=C$TzT.MathUtils.sinDeg(90+C$Tz_)*C$Tzi;this.a=C$TzC*C$Tzg+C$TzS*C$Tzx,this.b=C$TzC*C$Tzv+C$TzS*C$Tzb,this.c=C$Tzc*C$Tzg+C$TzA*C$Tzx,this.d=C$Tzc*C$Tzv+C$TzA*C$Tzb;}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY;},C$Tzt.prototype.setToSetupPose=function(){var C$Tzt=this.data;this.x=C$Tzt.x,this.y=C$Tzt.y,this.rotation=C$Tzt.rotation,this.scaleX=C$Tzt.scaleX,this.scaleY=C$Tzt.scaleY,this.shearX=C$Tzt.shearX,this.shearY=C$Tzt.shearY;},C$Tzt.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*C$TzT.MathUtils.radDeg;},C$Tzt.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*C$TzT.MathUtils.radDeg;},C$Tzt.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c);},C$Tzt.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d);},C$Tzt.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var C$Tzt=this.parent;if(null==C$Tzt)return this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*C$TzT.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*C$TzT.MathUtils.radDeg);var C$Tze=C$Tzt.a,C$Tzi=C$Tzt.b,C$Tzn=C$Tzt.c,C$Tzr=C$Tzt.d,C$Tzs=1/(C$Tze*C$Tzr-C$Tzi*C$Tzn),C$Tzo=this.worldX-C$Tzt.worldX,C$Tzt=this.worldY-C$Tzt.worldY,C$Tzt=(this.ax=C$Tzo*C$Tzr*C$Tzs-C$Tzt*C$Tzi*C$Tzs,this.ay=C$Tzt*C$Tze*C$Tzs-C$Tzo*C$Tzn*C$Tzs,C$Tzs*C$Tzr),C$Tzo=C$Tzs*C$Tze,C$Tzr=C$Tzs*C$Tzi,C$Tze=C$Tzs*C$Tzn,C$Tzi=C$Tzt*this.a-C$Tzr*this.c,C$Tzs=C$Tzt*this.b-C$Tzr*this.d,C$Tzn=C$Tzo*this.c-C$Tze*this.a,C$Tzt=C$Tzo*this.d-C$Tze*this.b;this.ashearX=0,this.ascaleX=Math.sqrt(C$Tzi*C$Tzi+C$Tzn*C$Tzn),1e-4<this.ascaleX?(this.ascaleY=(C$Tzr=C$Tzi*C$Tzt-C$Tzs*C$Tzn)/this.ascaleX,this.ashearY=Math.atan2(C$Tzi*C$Tzs+C$Tzn*C$Tzt,C$Tzr)*C$TzT.MathUtils.radDeg,this.arotation=Math.atan2(C$Tzn,C$Tzi)*C$TzT.MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(C$Tzs*C$Tzs+C$Tzt*C$Tzt),this.ashearY=0,this.arotation=90-Math.atan2(C$Tzt,C$Tzs)*C$TzT.MathUtils.radDeg);},C$Tzt.prototype.worldToLocal=function(C$Tzt){var C$Tze=this.a,C$Tzi=this.b,C$Tzn=this.c,C$Tzr=this.d,C$Tzs=1/(C$Tze*C$Tzr-C$Tzi*C$Tzn),C$Tzo=C$Tzt.x-this.worldX,C$Tza=C$Tzt.y-this.worldY;return C$Tzt.x=C$Tzo*C$Tzr*C$Tzs-C$Tza*C$Tzi*C$Tzs,C$Tzt.y=C$Tza*C$Tze*C$Tzs-C$Tzo*C$Tzn*C$Tzs,C$Tzt;},C$Tzt.prototype.localToWorld=function(C$Tzt){var C$Tze=C$Tzt.x,C$Tzi=C$Tzt.y;return C$Tzt.x=C$Tze*this.a+C$Tzi*this.b+this.worldX,C$Tzt.y=C$Tze*this.c+C$Tzi*this.d+this.worldY,C$Tzt;},C$Tzt.prototype.worldToLocalRotation=function(C$Tzt){var C$Tze=C$TzT.MathUtils.sinDeg(C$Tzt),C$Tzt=C$TzT.MathUtils.cosDeg(C$Tzt);return Math.atan2(this.a*C$Tze-this.c*C$Tzt,this.d*C$Tzt-this.b*C$Tze)*C$TzT.MathUtils.radDeg+this.rotation-this.shearX;},C$Tzt.prototype.localToWorldRotation=function(C$Tzt){C$Tzt-=this.rotation-this.shearX;var C$Tze=C$TzT.MathUtils.sinDeg(C$Tzt),C$Tzt=C$TzT.MathUtils.cosDeg(C$Tzt);return Math.atan2(C$Tzt*this.c+C$Tze*this.d,C$Tzt*this.a+C$Tze*this.b)*C$TzT.MathUtils.radDeg;},C$Tzt.prototype.rotateWorld=function(C$Tzt){var C$Tze=this.a,C$Tzi=this.b,C$Tzn=this.c,C$Tzr=this.d,C$Tzs=C$TzT.MathUtils.cosDeg(C$Tzt),C$Tzt=C$TzT.MathUtils.sinDeg(C$Tzt);this.a=C$Tzs*C$Tze-C$Tzt*C$Tzn,this.b=C$Tzs*C$Tzi-C$Tzt*C$Tzr,this.c=C$Tzt*C$Tze+C$Tzs*C$Tzn,this.d=C$Tzt*C$Tzi+C$Tzs*C$Tzr,this.appliedValid=!1;},C$TzT.Bone=C$Tzt;}(C$Tzt=C$Tzt||{}),(C$Tzl=C$Tzt=C$Tzt||{}).BoneData=function(C$Tzt,C$Tze,C$Tzi){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=C$Tzh.Normal,this.skinRequired=!1,this.color=new C$Tzl.Color(),C$Tzt<0)throw new Error(H[2824]);if(null==C$Tze)throw new Error(H[2777]);this.index=C$Tzt,this.name=C$Tze,this.parent=C$Tzi;},(C$Tze=C$Tzh=C$Tzl.TransformMode||(C$Tzl.TransformMode={}))[C$Tze.Normal=0]=H[859],C$Tze[C$Tze.OnlyTranslation=1]=H[2825],C$Tze[C$Tze.NoRotationOrReflection=2]=H[2826],C$Tze[C$Tze.NoScale=3]=H[2827],C$Tze[C$Tze.NoScaleOrReflection=4]=H[2828],(C$Tzt||(C$Tzt={})).ConstraintData=function(C$Tzt,C$Tze,C$Tzi){this.name=C$Tzt,this.order=C$Tze,this.skinRequired=C$Tzi;},(C$Tzt||(C$Tzt={})).Event=function(C$Tzt,C$Tze){if(null==C$Tze)throw new Error(H[2823]);this.time=C$Tzt,this.data=C$Tze;},(C$Tzt||(C$Tzt={})).EventData=function(C$Tzt){this.name=C$Tzt;},function(C$Tzq){function C$Tzt(C$Tzt,C$Tze){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==C$Tzt)throw new Error(H[2823]);if(null==C$Tze)throw new Error(H[2776]);this.data=C$Tzt,this.mix=C$Tzt.mix,this.softness=C$Tzt.softness,this.bendDirection=C$Tzt.bendDirection,this.compress=C$Tzt.compress,this.stretch=C$Tzt.stretch,this.bones=[];for(var C$Tzi=0;C$Tzi<C$Tzt.bones.length;C$Tzi++)this.bones.push(C$Tze.findBone(C$Tzt.bones[C$Tzi].name));this.target=C$Tze.findBone(C$Tzt.target.name);}C$Tzt.prototype.isActive=function(){return this.active;},C$Tzt.prototype.apply=function(){this.update();},C$Tzt.prototype.update=function(){var C$Tzt=this.target,C$Tze=this.bones;switch(C$Tze.length){case 1:this.apply1(C$Tze[0],C$Tzt.worldX,C$Tzt.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(C$Tze[0],C$Tze[1],C$Tzt.worldX,C$Tzt.worldY,this.bendDirection,this.stretch,this.softness,this.mix);}},C$Tzt.prototype.apply1=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzh,C$Tzs){C$Tzt.appliedValid||C$Tzt.updateAppliedTransform();var C$Tzo,C$Tza=C$Tzt.parent,C$Tzc=1/(C$Tza.a*C$Tza.d-C$Tza.b*C$Tza.c),C$Tze=C$Tze-C$Tza.worldX,C$Tzi=C$Tzi-C$Tza.worldY,C$Tzl=(C$Tze*C$Tza.d-C$Tzi*C$Tza.b)*C$Tzc-C$Tzt.ax,C$Tzi=(C$Tzi*C$Tza.a-C$Tze*C$Tza.c)*C$Tzc-C$Tzt.ay,C$Tze=Math.atan2(C$Tzi,C$Tzl)*C$Tzq.MathUtils.radDeg-C$Tzt.ashearX-C$Tzt.arotation,C$Tza=(C$Tzt.ascaleX<0&&(C$Tze+=180),180<C$Tze?C$Tze-=360:C$Tze<-180&&(C$Tze+=360),C$Tzt.ascaleX),C$Tzc=C$Tzt.ascaleY;(C$Tzn||C$Tzr)&&(C$Tzo=C$Tzt.data.length*C$Tza,C$Tzl=Math.sqrt(C$Tzl*C$Tzl+C$Tzi*C$Tzi),(C$Tzn&&C$Tzl<C$Tzo||C$Tzr&&C$Tzo<C$Tzl&&1e-4<C$Tzo)&&(C$Tza*=C$Tzi=(C$Tzl/C$Tzo-1)*C$Tzs+1,C$Tzh&&(C$Tzc*=C$Tzi))),C$Tzt.updateWorldTransformWith(C$Tzt.ax,C$Tzt.ay,C$Tzt.arotation+C$Tze*C$Tzs,C$Tza,C$Tzc,C$Tzt.ashearX,C$Tzt.ashearY);},C$Tzt.prototype.apply2=function(C$Tzt,C$Tze,C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$Tzf,C$Tzp){if(0!=C$Tzp){C$Tzt.appliedValid||C$Tzt.updateAppliedTransform(),C$Tze.appliedValid||C$Tze.updateAppliedTransform();var C$Tzm,C$Tzy=C$Tzt.ax,C$Tzg=C$Tzt.ay,C$Tzv=C$Tzt.ascaleX,C$Tzx=C$Tzv,C$Tzb=C$Tzt.ascaleY,C$TzA=C$Tze.ascaleX,C$TzC=0,C$TzS=0,C$TzT=0,C$TzT=C$Tzv<0?(C$Tzv=-C$Tzv,C$TzC=180,-1):(C$TzC=0,1),C$TzS=(C$Tzb<0&&(C$Tzb=-C$Tzb,C$TzT=-C$TzT),C$TzA<0?(C$TzA=-C$TzA,180):0),C$Tzw=C$Tze.ax,C$TzE=0,C$TzM=0,C$TzI=0,C$Tzi=C$Tzt.a,C$Tzn=C$Tzt.b,C$Tzr=C$Tzt.c,C$TzB=C$Tzt.d,C$TzR=Math.abs(C$Tzv-C$Tzb)<=1e-4,C$TzI=C$TzR?(C$TzM=C$Tzi*C$Tzw+C$Tzn*(C$TzE=C$Tze.ay)+C$Tzt.worldX,C$Tzr*C$Tzw+C$TzB*C$TzE+C$Tzt.worldY):(C$TzE=0,C$TzM=C$Tzi*C$Tzw+C$Tzt.worldX,C$Tzr*C$Tzw+C$Tzt.worldY),C$Tzs=C$Tzt.parent,C$TzP=(C$Tzi=C$Tzs.a,C$Tzn=C$Tzs.b,C$Tzr=C$Tzs.c,1/(C$Tzi*(C$TzB=C$Tzs.d)-C$Tzn*C$Tzr)),C$TzD=C$TzM-C$Tzs.worldX,C$Tzo=C$TzI-C$Tzs.worldY,C$TzM=(C$TzD*C$TzB-C$Tzo*C$Tzn)*C$TzP-C$Tzy,C$TzI=(C$Tzo*C$Tzi-C$TzD*C$Tzr)*C$TzP-C$Tzg,C$Tza=Math.sqrt(C$TzM*C$TzM+C$TzI*C$TzI),C$TzL=C$Tze.data.length*C$TzA;if(C$Tza<1e-4)return this.apply1(C$Tzt,C$Tzh,C$Tzu,!1,C$Tzd,!1,C$Tzp),void C$Tze.updateWorldTransformWith(C$Tzw,C$TzE,0,C$Tze.ascaleX,C$Tze.ascaleY,C$Tze.ashearX,C$Tze.ashearY);var C$TzV=((C$TzD=C$Tzh-C$Tzs.worldX)*C$TzB-(C$Tzo=C$Tzu-C$Tzs.worldY)*C$Tzn)*C$TzP-C$Tzy,C$TzO=(C$Tzo*C$Tzi-C$TzD*C$Tzr)*C$TzP-C$Tzg,C$TzF=C$TzV*C$TzV+C$TzO*C$TzO;0!=C$Tzf&&(C$Tzf*=C$Tzv*(C$TzA+1)/2,0<(C$TzI=(C$TzM=Math.sqrt(C$TzF))-C$Tza-C$TzL*C$Tzv+C$Tzf)&&(C$TzF=(C$TzV-=(C$Tzh=(C$TzI-C$Tzf*(1-(C$Tzh=Math.min(1,C$TzI/(2*C$Tzf))-1)*C$Tzh))/C$TzM)*C$TzV)*C$TzV+(C$TzO-=C$Tzh*C$TzO)*C$TzO));C$Tzt:if(C$TzR){var C$Tzc=(C$TzF-C$Tza*C$Tza-(C$TzL*=C$Tzv)*C$TzL)/(2*C$Tza*C$TzL);C$Tzc<-1?C$Tzc=-1:1<C$Tzc&&(C$Tzc=1,C$Tzd&&(C$Tzx*=(Math.sqrt(C$TzF)/(C$Tza+C$TzL)-1)*C$Tzp+1)),C$Tzm=Math.acos(C$Tzc)*C$Tz_,C$Tzi=C$Tza+C$TzL*C$Tzc,C$Tzn=C$TzL*Math.sin(C$Tzm),C$TzY=Math.atan2(C$TzO*C$Tzi-C$TzV*C$Tzn,C$TzV*C$Tzi+C$TzO*C$Tzn);}else{var C$TzN=(C$Tzi=C$Tzv*C$TzL)*C$Tzi,C$Tzk=(C$Tzn=C$Tzb*C$TzL)*C$Tzn,C$TzG=Math.atan2(C$TzO,C$TzV),C$Tzc=-2*C$Tzk*C$Tza,C$Tzz=C$Tzk-C$TzN;if(0<=(C$TzB=C$Tzc*C$Tzc-4*C$Tzz*(C$Tzr=C$Tzk*C$Tza*C$Tza+C$TzN*C$TzF-C$TzN*C$Tzk))){var C$Tzl=Math.sqrt(C$TzB),C$Tzc=(C$Tzl=-(C$Tzc+(C$Tzl=C$Tzc<0?-C$Tzl:C$Tzl))/2)/C$Tzz,C$Tzz=C$Tzr/C$Tzl,C$Tzl=Math.abs(C$Tzc)<Math.abs(C$Tzz)?C$Tzc:C$Tzz;if(C$Tzl*C$Tzl<=C$TzF){C$Tzo=Math.sqrt(C$TzF-C$Tzl*C$Tzl)*C$Tz_,C$TzY=C$TzG-Math.atan2(C$Tzo,C$Tzl),C$Tzm=Math.atan2(C$Tzo/C$Tzb,(C$Tzl-C$Tza)/C$Tzv);break C$Tzt;}}var C$Tzc=C$Tzq.MathUtils.PI,C$Tzz=C$Tza-C$Tzi,C$Tzl=C$Tzz*C$Tzz,C$TzU=0,C$TzW=0,C$TzH=C$Tza+C$Tzi,C$Tzj=C$TzH*C$TzH,C$TzX=0;-1<=(C$Tzr=-C$Tzi*C$Tza/(C$TzN-C$Tzk))&&C$Tzr<=1&&(C$Tzr=Math.acos(C$Tzr),(C$TzB=(C$TzD=C$Tzi*Math.cos(C$Tzr)+C$Tza)*C$TzD+(C$Tzo=C$Tzn*Math.sin(C$Tzr))*C$Tzo)<C$Tzl&&(C$Tzc=C$Tzr,C$Tzl=C$TzB,C$Tzz=C$TzD,C$TzU=C$Tzo),C$Tzj<C$TzB&&(C$TzW=C$Tzr,C$Tzj=C$TzB,C$TzH=C$TzD,C$TzX=C$Tzo)),C$Tzm=C$TzF<=(C$Tzl+C$Tzj)/2?(C$TzY=C$TzG-Math.atan2(C$TzU*C$Tz_,C$Tzz),C$Tzc*C$Tz_):(C$TzY=C$TzG-Math.atan2(C$TzX*C$Tz_,C$TzH),C$TzW*C$Tz_);}var C$TzY,C$Tzu=Math.atan2(C$TzE,C$Tzw)*C$TzT,C$Tzs=C$Tzt.arotation;180<(C$TzY=(C$TzY-C$Tzu)*C$Tzq.MathUtils.radDeg+C$TzC-C$Tzs)?C$TzY-=360:C$TzY<-180&&(C$TzY+=360),C$Tzt.updateWorldTransformWith(C$Tzy,C$Tzg,C$Tzs+C$TzY*C$Tzp,C$Tzx,C$Tzt.ascaleY,0,0),C$Tzs=C$Tze.arotation,180<(C$Tzm=((C$Tzm+C$Tzu)*C$Tzq.MathUtils.radDeg-C$Tze.ashearX)*C$TzT+C$TzS-C$Tzs)?C$Tzm-=360:C$Tzm<-180&&(C$Tzm+=360),C$Tze.updateWorldTransformWith(C$Tzw,C$TzE,C$Tzs+C$Tzm*C$Tzp,C$Tze.ascaleX,C$Tze.ascaleY,C$Tze.ashearX,C$Tze.ashearY);}else C$Tze.updateWorldTransform();},C$Tzq.IkConstraint=C$Tzt;}(C$Tzt=C$Tzt||{}),C$Tze=C$Tzt=C$Tzt||{},C$Tzd=C$Tze.ConstraintData,C$TzV(C$TzL,C$Tzd),C$Tze.IkConstraintData=C$TzL,function(C$Tzq){function C$TzJ(C$Tzt,C$Tze){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=[],this.positions=[],this.world=[],this.curves=[],this.lengths=[],this.segments=[],this.active=!1,null==C$Tzt)throw new Error(H[2823]);if(null==C$Tze)throw new Error(H[2776]);this.data=C$Tzt,this.bones=[];for(var C$Tzi=0,C$Tzn=C$Tzt.bones.length;C$Tzi<C$Tzn;C$Tzi++)this.bones.push(C$Tze.findBone(C$Tzt.bones[C$Tzi].name));this.target=C$Tze.findSlot(C$Tzt.target.name),this.position=C$Tzt.position,this.spacing=C$Tzt.spacing,this.rotateMix=C$Tzt.rotateMix,this.translateMix=C$Tzt.translateMix;}C$TzJ.prototype.isActive=function(){return this.active;},C$TzJ.prototype.apply=function(){this.update();},C$TzJ.prototype.update=function(){var C$Tzh=this.target.getAttachment();if(C$Tzh instanceof C$Tzq.PathAttachment){var C$Tzu=this.rotateMix,C$Tz_=this.translateMix,C$Tzd=0<C$Tzu;if(0<C$Tz_||C$Tzd){var C$Tzf=this.data,C$Tzp=C$Tzf.spacingMode==C$Tzq.SpacingMode.Percent,C$Tzm=C$Tzf.rotateMode,C$Tzy=C$Tzm==C$Tzq.RotateMode.Tangent,C$Tzg=C$Tzm==C$Tzq.RotateMode.ChainScale,C$Tzv=this.bones.length,C$Tzx=C$Tzy?C$Tzv:C$Tzv+1,C$Tzb=this.bones,C$TzA=C$Tzq.Utils.setArraySize(this.spaces,C$Tzx),C$TzC=null,C$TzS=this.spacing;if(C$Tzg||!C$Tzp){C$Tzg&&(C$TzC=C$Tzq.Utils.setArraySize(this.lengths,C$Tzv));for(var C$TzT=C$Tzf.spacingMode==C$Tzq.SpacingMode.Length,C$Tzt=0,C$Tzw=C$Tzx-1;C$Tzt<C$Tzw;){var C$TzE,C$Tze=(C$Tzi=C$Tzb[C$Tzt]).data.length;C$Tze<C$TzJ.epsilon?(C$Tzg&&(C$TzC[C$Tzt]=0),C$TzA[++C$Tzt]=0):C$Tzp?(C$Tzg&&(C$Tzr=C$Tze*C$Tzi.a,C$Tzs=C$Tze*C$Tzi.c,C$TzE=Math.sqrt(C$Tzr*C$Tzr+C$Tzs*C$Tzs),C$TzC[C$Tzt]=C$TzE),C$TzA[++C$Tzt]=C$TzS):(C$Tzr=C$Tze*C$Tzi.a,C$Tzs=C$Tze*C$Tzi.c,C$TzE=Math.sqrt(C$Tzr*C$Tzr+C$Tzs*C$Tzs),C$Tzg&&(C$TzC[C$Tzt]=C$TzE),C$TzA[++C$Tzt]=(C$TzT?C$Tze+C$TzS:C$TzS)*C$TzE/C$Tze);}}else for(C$Tzt=1;C$Tzt<C$Tzx;C$Tzt++)C$TzA[C$Tzt]=C$TzS;var C$TzM=this.computeWorldPositions(C$Tzh,C$Tzx,C$Tzy,C$Tzf.positionMode==C$Tzq.PositionMode.Percent,C$Tzp),C$TzI=C$TzM[0],C$TzB=C$TzM[1],C$TzR=C$Tzf.offsetRotation,C$TzP=!1;0==C$TzR?C$TzP=C$Tzm==C$Tzq.RotateMode.Chain:(C$TzP=!1,C$TzR*=0<(C$Tzn=this.target.bone).a*C$Tzn.d-C$Tzn.b*C$Tzn.c?C$Tzq.MathUtils.degRad:-C$Tzq.MathUtils.degRad);for(var C$Tzi,C$Tzt=0,C$Tzn=3;C$Tzt<C$Tzv;C$Tzt++,C$Tzn+=3){(C$Tzi=C$Tzb[C$Tzt]).worldX+=(C$TzI-C$Tzi.worldX)*C$Tz_,C$Tzi.worldY+=(C$TzB-C$Tzi.worldY)*C$Tz_;var C$Tzr,C$Tzs,C$Tzo,C$TzD,C$TzL,C$TzV,C$Tza,C$Tzc,C$TzO,C$Tzl,C$TzF=(C$Tzr=C$TzM[C$Tzn])-C$TzI,C$TzN=(C$Tzs=C$TzM[C$Tzn+1])-C$TzB;!C$Tzg||0!=(C$Tzo=C$TzC[C$Tzt])&&(C$Tzo=(Math.sqrt(C$TzF*C$TzF+C$TzN*C$TzN)/C$Tzo-1)*C$Tzu+1,C$Tzi.a*=C$Tzo,C$Tzi.c*=C$Tzo),C$TzI=C$Tzr,C$TzB=C$Tzs,C$Tzd&&(C$Tzo=C$Tzi.a,C$TzD=C$Tzi.b,C$TzL=C$Tzi.c,C$TzV=C$Tzi.d,C$Tzc=C$Tza=C$Tzl=0,C$Tzl=C$Tzy?C$TzM[C$Tzn-1]:0==C$TzA[C$Tzt+1]?C$TzM[C$Tzn+2]:Math.atan2(C$TzN,C$TzF),C$Tzl-=Math.atan2(C$TzL,C$Tzo),C$TzP?(C$Tza=Math.cos(C$Tzl),C$Tzc=Math.sin(C$Tzl),C$TzI+=((C$TzO=C$Tzi.data.length)*(C$Tza*C$Tzo-C$Tzc*C$TzL)-C$TzF)*C$Tzu,C$TzB+=(C$TzO*(C$Tzc*C$Tzo+C$Tza*C$TzL)-C$TzN)*C$Tzu):C$Tzl+=C$TzR,C$Tzl>C$Tzq.MathUtils.PI?C$Tzl-=C$Tzq.MathUtils.PI2:C$Tzl<-C$Tzq.MathUtils.PI&&(C$Tzl+=C$Tzq.MathUtils.PI2),C$Tzl*=C$Tzu,C$Tza=Math.cos(C$Tzl),C$Tzc=Math.sin(C$Tzl),C$Tzi.a=C$Tza*C$Tzo-C$Tzc*C$TzL,C$Tzi.b=C$Tza*C$TzD-C$Tzc*C$TzV,C$Tzi.c=C$Tzc*C$Tzo+C$Tza*C$TzL,C$Tzi.d=C$Tzc*C$TzD+C$Tza*C$TzV),C$Tzi.appliedValid=!1;}}}},C$TzJ.prototype.computeWorldPositions=function(C$Tzt,C$Tzh,C$Tzu,C$Tz_,C$Tzd){var C$Tzf=this.target,C$Tzp=this.position,C$Tzm=this.spaces,C$Tzy=C$Tzq.Utils.setArraySize(this.positions,3*C$Tzh+2),C$Tze=null,C$Tzg=C$Tzt.closed,C$Tzi=C$Tzt.worldVerticesLength,C$Tzv=C$Tzi/6,C$Tzx=C$TzJ.NONE;if(!C$Tzt.constantSpeed){var C$Tzb=C$Tzt.lengths,C$TzA=C$Tzb[C$Tzv-=C$Tzg?1:2];if(C$Tz_&&(C$Tzp*=C$TzA),C$Tzd)for(var C$Tzn=1;C$Tzn<C$Tzh;C$Tzn++)C$Tzm[C$Tzn]*=C$TzA;for(var C$Tze=C$Tzq.Utils.setArraySize(this.world,8),C$Tzn=0,C$TzC=0,C$Tzr=0;C$Tzn<C$Tzh;C$Tzn++,C$TzC+=3){var C$Tzs=C$Tzp+=C$TzH=C$Tzm[C$Tzn];if(C$Tzg)(C$Tzs%=C$TzA)<0&&(C$Tzs+=C$TzA),C$Tzr=0;else{if(C$Tzs<0){C$Tzx!=C$TzJ.BEFORE&&(C$Tzx=C$TzJ.BEFORE,C$Tzt.computeWorldVertices(C$Tzf,2,4,C$Tze,0,2)),this.addBeforePosition(C$Tzs,C$Tze,0,C$Tzy,C$TzC);continue;}if(C$TzA<C$Tzs){C$Tzx!=C$TzJ.AFTER&&(C$Tzx=C$TzJ.AFTER,C$Tzt.computeWorldVertices(C$Tzf,C$Tzi-6,4,C$Tze,0,2)),this.addAfterPosition(C$Tzs-C$TzA,C$Tze,0,C$Tzy,C$TzC);continue;}}for(;;C$Tzr++){var C$TzS=C$Tzb[C$Tzr];if(!(C$TzS<C$Tzs)){0==C$Tzr?C$Tzs/=C$TzS:C$Tzs=(C$Tzs-(C$TzX=C$Tzb[C$Tzr-1]))/(C$TzS-C$TzX);break;}}C$Tzr!=C$Tzx&&(C$Tzx=C$Tzr,C$Tzg&&C$Tzr==C$Tzv?(C$Tzt.computeWorldVertices(C$Tzf,C$Tzi-4,4,C$Tze,0,2),C$Tzt.computeWorldVertices(C$Tzf,0,4,C$Tze,4,2)):C$Tzt.computeWorldVertices(C$Tzf,6*C$Tzr+2,8,C$Tze,0,2)),this.addCurvePosition(C$Tzs,C$Tze[0],C$Tze[1],C$Tze[2],C$Tze[3],C$Tze[4],C$Tze[5],C$Tze[6],C$Tze[7],C$Tzy,C$TzC,C$Tzu||0<C$Tzn&&0==C$TzH);}return C$Tzy;}C$Tzg?(C$Tze=C$Tzq.Utils.setArraySize(this.world,C$Tzi+=2),C$Tzt.computeWorldVertices(C$Tzf,2,C$Tzi-4,C$Tze,0,2),C$Tzt.computeWorldVertices(C$Tzf,0,2,C$Tze,C$Tzi-4,2),C$Tze[C$Tzi-2]=C$Tze[0],C$Tze[C$Tzi-1]=C$Tze[1]):(C$Tzv--,C$Tze=C$Tzq.Utils.setArraySize(this.world,C$Tzi-=4),C$Tzt.computeWorldVertices(C$Tzf,2,C$Tzi,C$Tze,0,2));for(var C$TzT=C$Tzq.Utils.setArraySize(this.curves,C$Tzv),C$Tzo=0,C$Tzw=C$Tze[0],C$TzE=C$Tze[1],C$TzM=0,C$TzI=0,C$TzB=0,C$TzR=0,C$TzP=0,C$TzD=0,C$TzL=0,C$TzV=0,C$TzO=0,C$TzF=0,C$TzN=0,C$Tzk=0,C$Tza=0,C$Tzc=0,C$Tzn=0,C$TzG=2;C$Tzn<C$Tzv;C$Tzn++,C$TzG+=6)C$TzM=C$Tze[C$TzG],C$TzI=C$Tze[C$TzG+1],C$TzB=C$Tze[C$TzG+2],C$TzR=C$Tze[C$TzG+3],C$TzN=2*(C$TzL=.1875*(C$Tzw-2*C$TzM+C$TzB))+(C$TzO=.09375*(3*(C$TzM-C$TzB)-C$Tzw+(C$TzP=C$Tze[C$TzG+4]))),C$Tzk=2*(C$TzV=.1875*(C$TzE-2*C$TzI+C$TzR))+(C$TzF=.09375*(3*(C$TzI-C$TzR)-C$TzE+(C$TzD=C$Tze[C$TzG+5]))),C$Tza=.75*(C$TzM-C$Tzw)+C$TzL+.16666667*C$TzO,C$Tzc=.75*(C$TzI-C$TzE)+C$TzV+.16666667*C$TzF,C$Tzo+=Math.sqrt(C$Tza*C$Tza+C$Tzc*C$Tzc),C$Tza+=C$TzN,C$Tzc+=C$Tzk,C$TzN+=C$TzO,C$Tzk+=C$TzF,C$Tzo+=Math.sqrt(C$Tza*C$Tza+C$Tzc*C$Tzc),C$Tza+=C$TzN,C$Tzc+=C$Tzk,C$Tzo+=Math.sqrt(C$Tza*C$Tza+C$Tzc*C$Tzc),C$Tza+=C$TzN+C$TzO,C$Tzc+=C$Tzk+C$TzF,C$Tzo+=Math.sqrt(C$Tza*C$Tza+C$Tzc*C$Tzc),C$TzT[C$Tzn]=C$Tzo,C$Tzw=C$TzP,C$TzE=C$TzD;if(C$Tzp*=C$Tz_?C$Tzo:C$Tzo/C$Tzt.lengths[C$Tzv-1],C$Tzd)for(C$Tzn=1;C$Tzn<C$Tzh;C$Tzn++)C$Tzm[C$Tzn]*=C$Tzo;for(var C$Tzz=this.segments,C$TzU=0,C$Tzn=0,C$TzC=0,C$Tzr=0,C$TzW=0;C$Tzn<C$Tzh;C$Tzn++,C$TzC+=3){var C$TzH,C$Tzs=C$Tzp+=C$TzH=C$Tzm[C$Tzn];if(C$Tzg)(C$Tzs%=C$Tzo)<0&&(C$Tzs+=C$Tzo),C$Tzr=0;else{if(C$Tzs<0){this.addBeforePosition(C$Tzs,C$Tze,0,C$Tzy,C$TzC);continue;}if(C$Tzo<C$Tzs){this.addAfterPosition(C$Tzs-C$Tzo,C$Tze,C$Tzi-4,C$Tzy,C$TzC);continue;}}for(;;C$Tzr++){var C$Tzj=C$TzT[C$Tzr];if(!(C$Tzj<C$Tzs)){0==C$Tzr?C$Tzs/=C$Tzj:C$Tzs=(C$Tzs-(C$TzX=C$TzT[C$Tzr-1]))/(C$Tzj-C$TzX);break;}}if(C$Tzr!=C$Tzx){var C$Tzx=C$Tzr,C$Tzl=6*C$Tzr,C$Tzw=C$Tze[C$Tzl],C$TzE=C$Tze[C$Tzl+1],C$TzM=C$Tze[C$Tzl+2],C$TzI=C$Tze[C$Tzl+3],C$TzB=C$Tze[C$Tzl+4],C$TzR=C$Tze[C$Tzl+5],C$TzN=2*(C$TzL=.03*(C$Tzw-2*C$TzM+C$TzB))+(C$TzO=.006*(3*(C$TzM-C$TzB)-C$Tzw+(C$TzP=C$Tze[C$Tzl+6]))),C$Tzk=2*(C$TzV=.03*(C$TzE-2*C$TzI+C$TzR))+(C$TzF=.006*(3*(C$TzI-C$TzR)-C$TzE+(C$TzD=C$Tze[C$Tzl+7]))),C$Tza=.3*(C$TzM-C$Tzw)+C$TzL+.16666667*C$TzO,C$Tzc=.3*(C$TzI-C$TzE)+C$TzV+.16666667*C$TzF,C$TzU=Math.sqrt(C$Tza*C$Tza+C$Tzc*C$Tzc);for(C$Tzz[0]=C$TzU,C$Tzl=1;C$Tzl<8;C$Tzl++)C$Tza+=C$TzN,C$Tzc+=C$Tzk,C$TzN+=C$TzO,C$Tzk+=C$TzF,C$TzU+=Math.sqrt(C$Tza*C$Tza+C$Tzc*C$Tzc),C$Tzz[C$Tzl]=C$TzU;C$Tza+=C$TzN,C$Tzc+=C$Tzk,C$TzU+=Math.sqrt(C$Tza*C$Tza+C$Tzc*C$Tzc),C$Tzz[8]=C$TzU,C$Tza+=C$TzN+C$TzO,C$Tzc+=C$Tzk+C$TzF,C$TzU+=Math.sqrt(C$Tza*C$Tza+C$Tzc*C$Tzc),C$Tzz[9]=C$TzU,C$TzW=0;}for(C$Tzs*=C$TzU;;C$TzW++){var C$TzX,C$TzY=C$Tzz[C$TzW];if(!(C$TzY<C$Tzs)){0==C$TzW?C$Tzs/=C$TzY:C$Tzs=C$TzW+(C$Tzs-(C$TzX=C$Tzz[C$TzW-1]))/(C$TzY-C$TzX);break;}}this.addCurvePosition(.1*C$Tzs,C$Tzw,C$TzE,C$TzM,C$TzI,C$TzB,C$TzR,C$TzP,C$TzD,C$Tzy,C$TzC,C$Tzu||0<C$Tzn&&0==C$TzH);}return C$Tzy;},C$TzJ.prototype.addBeforePosition=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs=C$Tze[C$Tzi],C$Tzo=C$Tze[C$Tzi+1],C$Tza=C$Tze[C$Tzi+2]-C$Tzs,C$Tze=C$Tze[C$Tzi+3]-C$Tzo,C$Tzi=Math.atan2(C$Tze,C$Tza);C$Tzn[C$Tzr]=C$Tzs+C$Tzt*Math.cos(C$Tzi),C$Tzn[C$Tzr+1]=C$Tzo+C$Tzt*Math.sin(C$Tzi),C$Tzn[C$Tzr+2]=C$Tzi;},C$TzJ.prototype.addAfterPosition=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs=C$Tze[C$Tzi+2],C$Tzo=C$Tze[C$Tzi+3],C$Tza=C$Tzs-C$Tze[C$Tzi],C$Tze=C$Tzo-C$Tze[C$Tzi+1],C$Tzi=Math.atan2(C$Tze,C$Tza);C$Tzn[C$Tzr]=C$Tzs+C$Tzt*Math.cos(C$Tzi),C$Tzn[C$Tzr+1]=C$Tzo+C$Tzt*Math.sin(C$Tzi),C$Tzn[C$Tzr+2]=C$Tzi;},C$TzJ.prototype.addCurvePosition=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$Tzs,C$Tzo,C$Tzf){if(0==C$Tzt||isNaN(C$Tzt))return C$Tzs[C$Tzo]=C$Tze,C$Tzs[C$Tzo+1]=C$Tzi,void(C$Tzs[C$Tzo+2]=Math.atan2(C$Tzr-C$Tzi,C$Tzn-C$Tze));var C$Tzp=C$Tzt*C$Tzt,C$Tzm=C$Tzp*C$Tzt,C$Tza=1-C$Tzt,C$Tzy=C$Tza*C$Tza,C$Tzc=C$Tzy*C$Tza,C$Tzg=C$Tza*C$Tzt,C$Tzl=3*C$Tzg,C$Tza=C$Tza*C$Tzl,C$Tzl=C$Tzl*C$Tzt,C$Tz_=C$Tze*C$Tzc+C$Tzn*C$Tza+C$Tzh*C$Tzl+C$Tz_*C$Tzm,C$Tzc=C$Tzi*C$Tzc+C$Tzr*C$Tza+C$Tzu*C$Tzl+C$Tzd*C$Tzm;C$Tzs[C$Tzo]=C$Tz_,C$Tzs[C$Tzo+1]=C$Tzc,C$Tzf&&(C$Tzs[C$Tzo+2]=C$Tzt<.001?Math.atan2(C$Tzr-C$Tzi,C$Tzn-C$Tze):Math.atan2(C$Tzc-(C$Tzi*C$Tzy+C$Tzr*C$Tzg*2+C$Tzu*C$Tzp),C$Tz_-(C$Tze*C$Tzy+C$Tzn*C$Tzg*2+C$Tzh*C$Tzp)));},C$TzJ.NONE=-1,C$TzJ.BEFORE=-2,C$TzJ.AFTER=-3,C$TzJ.epsilon=1e-5,C$Tzq.PathConstraint=C$TzJ;}(C$Tzt=C$Tzt||{}),C$Tze=C$Tzt=C$Tzt||{},C$Tzf=C$Tze.ConstraintData,C$TzV(C$TzO,C$Tzf),C$Tzn=C$TzO,C$Tze.PathConstraintData=C$Tzn,(C$Tzn=C$Tze.PositionMode||(C$Tze.PositionMode={}))[C$Tzn.Fixed=0]=H[2829],C$Tzn[C$Tzn.Percent=1]=H[2830],(C$Tzn=C$Tze.SpacingMode||(C$Tze.SpacingMode={}))[C$Tzn.Length=0]=H[2831],C$Tzn[C$Tzn.Fixed=1]=H[2829],C$Tzn[C$Tzn.Percent=2]=H[2830],(C$Tzn=C$Tze.RotateMode||(C$Tze.RotateMode={}))[C$Tzn.Tangent=0]=H[2832],C$Tzn[C$Tzn.Chain=1]=H[2833],C$Tzn[C$Tzn.ChainScale=2]=H[2834],function(C$Tzt){C$Tze.prototype.loaded=function(){var C$Tzt,C$Tze=0;for(C$Tzt in this.assets)C$Tze++;return C$Tze;};var C$Tzr=C$Tze;function C$Tze(C$Tzt){this.toLoad=[],this.assets={},this.clientId=C$Tzt;}function C$Tzi(C$Tzt){void 0===C$Tzt&&(C$Tzt=""),this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=C$Tzt;}C$Tzi.prototype.queueAsset=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this.clientAssets[C$Tzt];return null==C$Tzn&&(C$Tzn=new C$Tzr(C$Tzt),this.clientAssets[C$Tzt]=C$Tzn),null!==C$Tze&&(C$Tzn.textureLoader=C$Tze),C$Tzn.toLoad.push(C$Tzi),this.queuedAssets[C$Tzi]!==C$Tzi&&(this.queuedAssets[C$Tzi]=C$Tzi,!0);},C$Tzi.prototype.loadText=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn=this;C$Tze=this.pathPrefix+C$Tze,this.queueAsset(C$Tzt,null,C$Tze)&&((C$Tzi=new XMLHttpRequest()).onreadystatechange=function(){C$Tzi.readyState==XMLHttpRequest.DONE&&(200<=C$Tzi.status&&C$Tzi.status<300?C$Tzn.rawAssets[C$Tze]=C$Tzi.responseText:C$Tzn.errors[C$Tze]=H[2813]+C$Tze+H[2812]+C$Tzi.status+H[1637]+C$Tzi.responseText);},C$Tzi.open(H[1140],C$Tze,!0),C$Tzi.send());},C$Tzi.prototype.loadJson=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn=this;C$Tze=this.pathPrefix+C$Tze,this.queueAsset(C$Tzt,null,C$Tze)&&((C$Tzi=new XMLHttpRequest()).onreadystatechange=function(){C$Tzi.readyState==XMLHttpRequest.DONE&&(200<=C$Tzi.status&&C$Tzi.status<300?C$Tzn.rawAssets[C$Tze]=JSON.parse(C$Tzi.responseText):C$Tzn.errors[C$Tze]=H[2813]+C$Tze+H[2812]+C$Tzi.status+H[1637]+C$Tzi.responseText);},C$Tzi.open(H[1140],C$Tze,!0),C$Tzi.send());},C$Tzi.prototype.loadTexture=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn,C$Tzr=this;C$Tzi=this.pathPrefix+C$Tzi,this.queueAsset(C$Tzt,C$Tze,C$Tzi)&&((C$Tzn=new Image()).src=C$Tzi,C$Tzn.crossOrigin=H[1153],C$Tzn.onload=function(C$Tzt){C$Tzr.rawAssets[C$Tzi]=C$Tzn;},C$Tzn.onerror=function(C$Tzt){C$Tzr.errors[C$Tzi]=H[2814]+C$Tzi;});},C$Tzi.prototype.get=function(C$Tzt,C$Tze){C$Tze=this.pathPrefix+C$Tze;C$Tzt=this.clientAssets[C$Tzt];return null==C$Tzt||C$Tzt.assets[C$Tze];},C$Tzi.prototype.updateClientAssets=function(C$Tzt){for(var C$Tze=0;C$Tze<C$Tzt.toLoad.length;C$Tze++){var C$Tzi=C$Tzt.toLoad[C$Tze],C$Tzn=C$Tzt.assets[C$Tzi];null!=C$Tzn||null!=(C$Tzn=this.rawAssets[C$Tzi])&&(C$Tzn instanceof HTMLImageElement?C$Tzt.assets[C$Tzi]=C$Tzt.textureLoader(C$Tzn):C$Tzt.assets[C$Tzi]=C$Tzn);}},C$Tzi.prototype.isLoadingComplete=function(C$Tzt){C$Tzt=this.clientAssets[C$Tzt];return null==C$Tzt||(this.updateClientAssets(C$Tzt),C$Tzt.toLoad.length==C$Tzt.loaded());},C$Tzi.prototype.dispose=function(){},C$Tzi.prototype.hasErrors=function(){return 0<Object.keys(this.errors).length;},C$Tzi.prototype.getErrors=function(){return this.errors;},C$Tzt.SharedAssetManager=C$Tzi;}(C$Tzt=C$Tzt||{}),function(C$Tzg){function C$Tzt(C$Tzt){if(this._updateCache=[],this.updateCacheReset=[],this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==C$Tzt)throw new Error(H[2823]);this.data=C$Tzt,this.bones=[];for(var C$Tze=0;C$Tze<C$Tzt.bones.length;C$Tze++){var C$Tzi,C$Tzn=C$Tzt.bones[C$Tze],C$Tzr=void 0;null==C$Tzn.parent?C$Tzr=new C$Tzg.Bone(C$Tzn,this,null):(C$Tzi=this.bones[C$Tzn.parent.index],C$Tzr=new C$Tzg.Bone(C$Tzn,this,C$Tzi),C$Tzi.children.push(C$Tzr)),this.bones.push(C$Tzr);}this.slots=[],this.drawOrder=[];for(C$Tze=0;C$Tze<C$Tzt.slots.length;C$Tze++){var C$Tzs=C$Tzt.slots[C$Tze],C$Tzr=this.bones[C$Tzs.boneData.index],C$Tzs=new C$Tzg.Slot(C$Tzs,C$Tzr);this.slots.push(C$Tzs),this.drawOrder.push(C$Tzs);}this.ikConstraints=[];for(C$Tze=0;C$Tze<C$Tzt.ikConstraints.length;C$Tze++){var C$Tzo=C$Tzt.ikConstraints[C$Tze];this.ikConstraints.push(new C$Tzg.IkConstraint(C$Tzo,this));}this.transformConstraints=[];for(C$Tze=0;C$Tze<C$Tzt.transformConstraints.length;C$Tze++){var C$Tza=C$Tzt.transformConstraints[C$Tze];this.transformConstraints.push(new C$Tzg.TransformConstraint(C$Tza,this));}this.pathConstraints=[];for(C$Tze=0;C$Tze<C$Tzt.pathConstraints.length;C$Tze++){var C$Tzc=C$Tzt.pathConstraints[C$Tze];this.pathConstraints.push(new C$Tzg.PathConstraint(C$Tzc,this));}this.color=new C$Tzg.Color(1,1,1,1),this.updateCache();}C$Tzt.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var C$Tzt=this.bones,C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++)(C$Tzn=C$Tzt[C$Tze]).sorted=C$Tzn.data.skinRequired,C$Tzn.active=!C$Tzn.sorted;if(null!=this.skin)for(var C$Tzh=this.skin.bones,C$Tze=0,C$Tzi=this.skin.bones.length;C$Tze<C$Tzi;C$Tze++)for(var C$Tzn=this.bones[C$Tzh[C$Tze].index];C$Tzn.sorted=!1,C$Tzn.active=!0,null!=(C$Tzn=C$Tzn.parent););var C$Tzr=this.ikConstraints,C$Tzs=this.transformConstraints,C$Tzo=this.pathConstraints,C$Tza=C$Tzr.length,C$Tzu=C$Tzs.length,C$Tz_=C$Tzo.length,C$Tzd=C$Tza+C$Tzu+C$Tz_;C$Tzt:for(C$Tze=0;C$Tze<C$Tzd;C$Tze++){for(var C$Tzc=0;C$Tzc<C$Tza;C$Tzc++)if((C$Tzl=C$Tzr[C$Tzc]).data.order==C$Tze){this.sortIkConstraint(C$Tzl);continue C$Tzt;}for(C$Tzc=0;C$Tzc<C$Tzu;C$Tzc++)if((C$Tzl=C$Tzs[C$Tzc]).data.order==C$Tze){this.sortTransformConstraint(C$Tzl);continue C$Tzt;}for(var C$Tzl,C$Tzc=0;C$Tzc<C$Tz_;C$Tzc++)if((C$Tzl=C$Tzo[C$Tzc]).data.order==C$Tze){this.sortPathConstraint(C$Tzl);continue C$Tzt;}}for(C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++)this.sortBone(C$Tzt[C$Tze]);},C$Tzt.prototype.sortIkConstraint=function(C$Tzt){var C$Tze,C$Tzi,C$Tzn;C$Tzt.active=C$Tzt.target.isActive()&&(!C$Tzt.data.skinRequired||null!=this.skin&&C$Tzg.Utils.contains(this.skin.constraints,C$Tzt.data,!0)),C$Tzt.active&&(C$Tze=C$Tzt.target,this.sortBone(C$Tze),C$Tzi=(C$Tze=C$Tzt.bones)[0],this.sortBone(C$Tzi),1<C$Tze.length&&(C$Tzn=C$Tze[C$Tze.length-1],-1<this._updateCache.indexOf(C$Tzn)||this.updateCacheReset.push(C$Tzn)),this._updateCache.push(C$Tzt),this.sortReset(C$Tzi.children),C$Tze[C$Tze.length-1].sorted=!0);},C$Tzt.prototype.sortPathConstraint=function(C$Tzt){if(C$Tzt.active=C$Tzt.target.bone.isActive()&&(!C$Tzt.data.skinRequired||null!=this.skin&&C$Tzg.Utils.contains(this.skin.constraints,C$Tzt.data,!0)),C$Tzt.active){var C$Tze=C$Tzt.target,C$Tzi=C$Tze.data.index,C$Tzn=C$Tze.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,C$Tzi,C$Tzn),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,C$Tzi,C$Tzn);for(var C$Tzr=0,C$Tzs=this.data.skins.length;C$Tzr<C$Tzs;C$Tzr++)this.sortPathConstraintAttachment(this.data.skins[C$Tzr],C$Tzi,C$Tzn);for(var C$Tze=C$Tze.getAttachment(),C$Tzo=(C$Tze instanceof C$Tzg.PathAttachment&&this.sortPathConstraintAttachmentWith(C$Tze,C$Tzn),C$Tzt.bones),C$Tza=C$Tzo.length,C$Tzr=0;C$Tzr<C$Tza;C$Tzr++)this.sortBone(C$Tzo[C$Tzr]);this._updateCache.push(C$Tzt);for(C$Tzr=0;C$Tzr<C$Tza;C$Tzr++)this.sortReset(C$Tzo[C$Tzr].children);for(C$Tzr=0;C$Tzr<C$Tza;C$Tzr++)C$Tzo[C$Tzr].sorted=!0;}},C$Tzt.prototype.sortTransformConstraint=function(C$Tzt){if(C$Tzt.active=C$Tzt.target.isActive()&&(!C$Tzt.data.skinRequired||null!=this.skin&&C$Tzg.Utils.contains(this.skin.constraints,C$Tzt.data,!0)),C$Tzt.active){this.sortBone(C$Tzt.target);var C$Tze=C$Tzt.bones,C$Tzi=C$Tze.length;if(C$Tzt.data.local)for(var C$Tzn=0;C$Tzn<C$Tzi;C$Tzn++){var C$Tzr=C$Tze[C$Tzn];this.sortBone(C$Tzr.parent),-1<this._updateCache.indexOf(C$Tzr)||this.updateCacheReset.push(C$Tzr);}else for(C$Tzn=0;C$Tzn<C$Tzi;C$Tzn++)this.sortBone(C$Tze[C$Tzn]);this._updateCache.push(C$Tzt);for(var C$Tzs=0;C$Tzs<C$Tzi;C$Tzs++)this.sortReset(C$Tze[C$Tzs].children);for(C$Tzs=0;C$Tzs<C$Tzi;C$Tzs++)C$Tze[C$Tzs].sorted=!0;}},C$Tzt.prototype.sortPathConstraintAttachment=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.attachments[C$Tze];if(C$Tzn)for(var C$Tzr in C$Tzn)this.sortPathConstraintAttachmentWith(C$Tzn[C$Tzr],C$Tzi);},C$Tzt.prototype.sortPathConstraintAttachmentWith=function(C$Tzt,C$Tze){if(C$Tzt instanceof C$Tzg.PathAttachment){var C$Tzi=C$Tzt.bones;if(null==C$Tzi)this.sortBone(C$Tze);else for(var C$Tzn=this.bones,C$Tzr=0;C$Tzr<C$Tzi.length;)for(var C$Tzs=C$Tzi[C$Tzr++],C$Tzo=C$Tzr+C$Tzs;C$Tzr<C$Tzo;C$Tzr++){var C$Tza=C$Tzi[C$Tzr];this.sortBone(C$Tzn[C$Tza]);}}},C$Tzt.prototype.sortBone=function(C$Tzt){var C$Tze;C$Tzt.sorted||(null!=(C$Tze=C$Tzt.parent)&&this.sortBone(C$Tze),C$Tzt.sorted=!0,this._updateCache.push(C$Tzt));},C$Tzt.prototype.sortReset=function(C$Tzt){for(var C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++){var C$Tzn=C$Tzt[C$Tze];C$Tzn.active&&(C$Tzn.sorted&&this.sortReset(C$Tzn.children),C$Tzn.sorted=!1);}},C$Tzt.prototype.updateWorldTransform=function(){for(var C$Tzt=this.updateCacheReset,C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++){var C$Tzn=C$Tzt[C$Tze];C$Tzn.ax=C$Tzn.x,C$Tzn.ay=C$Tzn.y,C$Tzn.arotation=C$Tzn.rotation,C$Tzn.ascaleX=C$Tzn.scaleX,C$Tzn.ascaleY=C$Tzn.scaleY,C$Tzn.ashearX=C$Tzn.shearX,C$Tzn.ashearY=C$Tzn.shearY,C$Tzn.appliedValid=!0;}for(var C$Tzr=this._updateCache,C$Tze=0,C$Tzi=C$Tzr.length;C$Tze<C$Tzi;C$Tze++)C$Tzr[C$Tze].update();},C$Tzt.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose();},C$Tzt.prototype.setBonesToSetupPose=function(){for(var C$Tzt=this.bones,C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++)C$Tzt[C$Tze].setToSetupPose();for(var C$Tzn=this.ikConstraints,C$Tze=0,C$Tzi=C$Tzn.length;C$Tze<C$Tzi;C$Tze++)(C$Tza=C$Tzn[C$Tze]).mix=C$Tza.data.mix,C$Tza.softness=C$Tza.data.softness,C$Tza.bendDirection=C$Tza.data.bendDirection,C$Tza.compress=C$Tza.data.compress,C$Tza.stretch=C$Tza.data.stretch;for(var C$Tzr=this.transformConstraints,C$Tze=0,C$Tzi=C$Tzr.length;C$Tze<C$Tzi;C$Tze++){var C$Tzs=(C$Tza=C$Tzr[C$Tze]).data;C$Tza.rotateMix=C$Tzs.rotateMix,C$Tza.translateMix=C$Tzs.translateMix,C$Tza.scaleMix=C$Tzs.scaleMix,C$Tza.shearMix=C$Tzs.shearMix;}for(var C$Tzo=this.pathConstraints,C$Tze=0,C$Tzi=C$Tzo.length;C$Tze<C$Tzi;C$Tze++){var C$Tza,C$Tzs=(C$Tza=C$Tzo[C$Tze]).data;C$Tza.position=C$Tzs.position,C$Tza.spacing=C$Tzs.spacing,C$Tza.rotateMix=C$Tzs.rotateMix,C$Tza.translateMix=C$Tzs.translateMix;}},C$Tzt.prototype.setSlotsToSetupPose=function(){var C$Tzt=this.slots;C$Tzg.Utils.arrayCopy(C$Tzt,0,this.drawOrder,0,C$Tzt.length);for(var C$Tze=0,C$Tzi=C$Tzt.length;C$Tze<C$Tzi;C$Tze++)C$Tzt[C$Tze].setToSetupPose();},C$Tzt.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0];},C$Tzt.prototype.findBone=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2835]);for(var C$Tze=this.bones,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzr.data.name==C$Tzt)return C$Tzr;}return null;},C$Tzt.prototype.findBoneIndex=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2835]);for(var C$Tze=this.bones,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++)if(C$Tze[C$Tzi].data.name==C$Tzt)return C$Tzi;return-1;},C$Tzt.prototype.findSlot=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2836]);for(var C$Tze=this.slots,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzr.data.name==C$Tzt)return C$Tzr;}return null;},C$Tzt.prototype.findSlotIndex=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2836]);for(var C$Tze=this.slots,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++)if(C$Tze[C$Tzi].data.name==C$Tzt)return C$Tzi;return-1;},C$Tzt.prototype.setSkinByName=function(C$Tzt){var C$Tze=this.data.findSkin(C$Tzt);if(null==C$Tze)throw new Error(H[2837]+C$Tzt);this.setSkin(C$Tze);},C$Tzt.prototype.setSkin=function(C$Tzt){if(C$Tzt!=this.skin){if(null!=C$Tzt)if(null!=this.skin)C$Tzt.attachAll(this,this.skin);else for(var C$Tze=this.slots,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi],C$Tzs=C$Tzr.data.attachmentName;null==C$Tzs||null!=(C$Tzs=C$Tzt.getAttachment(C$Tzi,C$Tzs))&&C$Tzr.setAttachment(C$Tzs);}this.skin=C$Tzt,this.updateCache();}},C$Tzt.prototype.getAttachmentByName=function(C$Tzt,C$Tze){return this.getAttachment(this.data.findSlotIndex(C$Tzt),C$Tze);},C$Tzt.prototype.getAttachment=function(C$Tzt,C$Tze){if(null==C$Tze)throw new Error(H[2838]);if(null!=this.skin){var C$Tzi=this.skin.getAttachment(C$Tzt,C$Tze);if(null!=C$Tzi)return C$Tzi;}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(C$Tzt,C$Tze):null;},C$Tzt.prototype.setAttachment=function(C$Tzt,C$Tze){if(null==C$Tzt)throw new Error(H[2836]);for(var C$Tzi=this.slots,C$Tzn=0,C$Tzr=C$Tzi.length;C$Tzn<C$Tzr;C$Tzn++){var C$Tzs=C$Tzi[C$Tzn];if(C$Tzs.data.name==C$Tzt){var C$Tzo=null;if(null!=C$Tze&&null==(C$Tzo=this.getAttachment(C$Tzn,C$Tze)))throw new Error(H[2839]+C$Tze+H[2840]+C$Tzt);return void C$Tzs.setAttachment(C$Tzo);}}throw new Error(H[2841]+C$Tzt);},C$Tzt.prototype.findIkConstraint=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2842]);for(var C$Tze=this.ikConstraints,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzr.data.name==C$Tzt)return C$Tzr;}return null;},C$Tzt.prototype.findTransformConstraint=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2842]);for(var C$Tze=this.transformConstraints,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzr.data.name==C$Tzt)return C$Tzr;}return null;},C$Tzt.prototype.findPathConstraint=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2842]);for(var C$Tze=this.pathConstraints,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzr.data.name==C$Tzt)return C$Tzr;}return null;},C$Tzt.prototype.getBounds=function(C$Tzt,C$Tzh,C$Tze){if(void 0===C$Tze&&(C$Tze=[]),null==C$Tzt)throw new Error(H[2843]);if(null==C$Tzh)throw new Error(H[2844]);for(var C$Tzu=this.drawOrder,C$Tzi=Number.POSITIVE_INFINITY,C$Tzn=Number.POSITIVE_INFINITY,C$Tz_=Number.NEGATIVE_INFINITY,C$Tzd=Number.NEGATIVE_INFINITY,C$Tzr=0,C$Tzf=C$Tzu.length;C$Tzr<C$Tzf;C$Tzr++){var C$Tzs=C$Tzu[C$Tzr];if(C$Tzs.bone.active){var C$Tzo=0,C$Tza=null,C$Tzc=C$Tzs.getAttachment();if(C$Tzc instanceof C$Tzg.RegionAttachment?(C$Tza=C$Tzg.Utils.setArraySize(C$Tze,C$Tzo=8,0),C$Tzc.computeWorldVertices(C$Tzs.bone,C$Tza,0,2)):C$Tzc instanceof C$Tzg.MeshAttachment&&(C$Tzo=(C$Tzc=C$Tzc).worldVerticesLength,C$Tza=C$Tzg.Utils.setArraySize(C$Tze,C$Tzo,0),C$Tzc.computeWorldVertices(C$Tzs,0,C$Tzo,C$Tza,0,2)),null!=C$Tza)for(var C$Tzl=0,C$Tzp=C$Tza.length;C$Tzl<C$Tzp;C$Tzl+=2)var C$Tzm=C$Tza[C$Tzl],C$Tzy=C$Tza[C$Tzl+1],C$Tzi=Math.min(C$Tzi,C$Tzm),C$Tzn=Math.min(C$Tzn,C$Tzy),C$Tz_=Math.max(C$Tz_,C$Tzm),C$Tzd=Math.max(C$Tzd,C$Tzy);}}C$Tzt.set(C$Tzi,C$Tzn),C$Tzh.set(C$Tz_-C$Tzi,C$Tzd-C$Tzn);},C$Tzt.prototype.update=function(C$Tzt){this.time+=C$Tzt;},C$Tzg.Skeleton=C$Tzt;}(C$Tzt=C$Tzt||{});var C$TzH=C$Tzt=C$Tzt||{},C$Tze=(C$Tzj.prototype.readSkeletonData=function(C$Tzh){for(var C$Tzt=this.scale,C$Tze=new C$TzH.SkeletonData(),C$Tzi=(C$Tze.name="",new C$TzF(C$Tzh)),C$Tzu=(C$Tze.hash=C$Tzi.readString(),C$Tze.version=C$Tzi.readString(),C$Tze.x=C$Tzi.readFloat(),C$Tze.y=C$Tzi.readFloat(),C$Tze.width=C$Tzi.readFloat(),C$Tze.height=C$Tzi.readFloat(),C$Tzi.readBoolean()),C$Tzn=(C$Tzu&&(C$Tze.fps=C$Tzi.readFloat(),C$Tze.imagesPath=C$Tzi.readString(),C$Tze.audioPath=C$Tzi.readString()),0),C$Tzn=C$Tzi.readInt(!0),C$Tzr=0;C$Tzr<C$Tzn;C$Tzr++)C$Tzi.strings.push(C$Tzi.readString());C$Tzn=C$Tzi.readInt(!0);for(C$Tzr=0;C$Tzr<C$Tzn;C$Tzr++){var C$Tz_=C$Tzi.readString(),C$Tzd=0==C$Tzr?null:C$Tze.bones[C$Tzi.readInt(!0)];(C$Tzs=new C$TzH.BoneData(C$Tzr,C$Tz_,C$Tzd)).rotation=C$Tzi.readFloat(),C$Tzs.x=C$Tzi.readFloat()*C$Tzt,C$Tzs.y=C$Tzi.readFloat()*C$Tzt,C$Tzs.scaleX=C$Tzi.readFloat(),C$Tzs.scaleY=C$Tzi.readFloat(),C$Tzs.shearX=C$Tzi.readFloat(),C$Tzs.shearY=C$Tzi.readFloat(),C$Tzs.length=C$Tzi.readFloat()*C$Tzt,C$Tzs.transformMode=C$Tzj.TransformModeValues[C$Tzi.readInt(!0)],C$Tzs.skinRequired=C$Tzi.readBoolean(),C$Tzu&&C$TzH.Color.rgba8888ToColor(C$Tzs.color,C$Tzi.readInt32()),C$Tze.bones.push(C$Tzs);}C$Tzn=C$Tzi.readInt(!0);for(C$Tzr=0;C$Tzr<C$Tzn;C$Tzr++){var C$Tzf=C$Tzi.readString(),C$Tzp=C$Tze.bones[C$Tzi.readInt(!0)],C$Tzs=new C$TzH.SlotData(C$Tzr,C$Tzf,C$Tzp),C$Tzf=(C$TzH.Color.rgba8888ToColor(C$Tzs.color,C$Tzi.readInt32()),C$Tzi.readInt32());-1!=C$Tzf&&C$TzH.Color.rgb888ToColor(C$Tzs.darkColor=new C$TzH.Color(),C$Tzf),C$Tzs.attachmentName=C$Tzi.readStringRef(),C$Tzs.blendMode=C$Tzj.BlendModeValues[C$Tzi.readInt(!0)],C$Tze.slots.push(C$Tzs);}C$Tzn=C$Tzi.readInt(!0);for(var C$Tzr=0,C$Tzo=void 0;C$Tzr<C$Tzn;C$Tzr++){(C$Tzs=new C$TzH.IkConstraintData(C$Tzi.readString())).order=C$Tzi.readInt(!0),C$Tzs.skinRequired=C$Tzi.readBoolean(),C$Tzo=C$Tzi.readInt(!0);for(var C$Tza=0;C$Tza<C$Tzo;C$Tza++)C$Tzs.bones.push(C$Tze.bones[C$Tzi.readInt(!0)]);C$Tzs.target=C$Tze.bones[C$Tzi.readInt(!0)],C$Tzs.mix=C$Tzi.readFloat(),C$Tzs.softness=C$Tzi.readFloat()*C$Tzt,C$Tzs.bendDirection=C$Tzi.readByte(),C$Tzs.compress=C$Tzi.readBoolean(),C$Tzs.stretch=C$Tzi.readBoolean(),C$Tzs.uniform=C$Tzi.readBoolean(),C$Tze.ikConstraints.push(C$Tzs);}C$Tzn=C$Tzi.readInt(!0);for(C$Tzr=0,C$Tzo=void 0;C$Tzr<C$Tzn;C$Tzr++){(C$Tzs=new C$TzH.TransformConstraintData(C$Tzi.readString())).order=C$Tzi.readInt(!0),C$Tzs.skinRequired=C$Tzi.readBoolean(),C$Tzo=C$Tzi.readInt(!0);for(C$Tza=0;C$Tza<C$Tzo;C$Tza++)C$Tzs.bones.push(C$Tze.bones[C$Tzi.readInt(!0)]);C$Tzs.target=C$Tze.bones[C$Tzi.readInt(!0)],C$Tzs.local=C$Tzi.readBoolean(),C$Tzs.relative=C$Tzi.readBoolean(),C$Tzs.offsetRotation=C$Tzi.readFloat(),C$Tzs.offsetX=C$Tzi.readFloat()*C$Tzt,C$Tzs.offsetY=C$Tzi.readFloat()*C$Tzt,C$Tzs.offsetScaleX=C$Tzi.readFloat(),C$Tzs.offsetScaleY=C$Tzi.readFloat(),C$Tzs.offsetShearY=C$Tzi.readFloat(),C$Tzs.rotateMix=C$Tzi.readFloat(),C$Tzs.translateMix=C$Tzi.readFloat(),C$Tzs.scaleMix=C$Tzi.readFloat(),C$Tzs.shearMix=C$Tzi.readFloat(),C$Tze.transformConstraints.push(C$Tzs);}C$Tzn=C$Tzi.readInt(!0);for(C$Tzr=0,C$Tzo=void 0;C$Tzr<C$Tzn;C$Tzr++){(C$Tzs=new C$TzH.PathConstraintData(C$Tzi.readString())).order=C$Tzi.readInt(!0),C$Tzs.skinRequired=C$Tzi.readBoolean(),C$Tzo=C$Tzi.readInt(!0);for(C$Tza=0;C$Tza<C$Tzo;C$Tza++)C$Tzs.bones.push(C$Tze.bones[C$Tzi.readInt(!0)]);C$Tzs.target=C$Tze.slots[C$Tzi.readInt(!0)],C$Tzs.positionMode=C$Tzj.PositionModeValues[C$Tzi.readInt(!0)],C$Tzs.spacingMode=C$Tzj.SpacingModeValues[C$Tzi.readInt(!0)],C$Tzs.rotateMode=C$Tzj.RotateModeValues[C$Tzi.readInt(!0)],C$Tzs.offsetRotation=C$Tzi.readFloat(),C$Tzs.position=C$Tzi.readFloat(),C$Tzs.positionMode==C$TzH.PositionMode.Fixed&&(C$Tzs.position*=C$Tzt),C$Tzs.spacing=C$Tzi.readFloat(),C$Tzs.spacingMode!=C$TzH.SpacingMode.Length&&C$Tzs.spacingMode!=C$TzH.SpacingMode.Fixed||(C$Tzs.spacing*=C$Tzt),C$Tzs.rotateMix=C$Tzi.readFloat(),C$Tzs.translateMix=C$Tzi.readFloat(),C$Tze.pathConstraints.push(C$Tzs);}var C$Tzh=this.readSkin(C$Tzi,C$Tze,!0,C$Tzu),C$Tzr=(null!=C$Tzh&&(C$Tze.defaultSkin=C$Tzh,C$Tze.skins.push(C$Tzh)),C$Tze.skins.length);for(C$TzH.Utils.setArraySize(C$Tze.skins,C$Tzn=C$Tzr+C$Tzi.readInt(!0));C$Tzr<C$Tzn;C$Tzr++)C$Tze.skins[C$Tzr]=this.readSkin(C$Tzi,C$Tze,!1,C$Tzu);C$Tzn=this.linkedMeshes.length;for(C$Tzr=0;C$Tzr<C$Tzn;C$Tzr++){var C$Tzc=this.linkedMeshes[C$Tzr],C$Tzl=null==C$Tzc.skin?C$Tze.defaultSkin:C$Tze.findSkin(C$Tzc.skin);if(null==C$Tzl)throw new Error(H[2837]+C$Tzc.skin);C$Tzl=C$Tzl.getAttachment(C$Tzc.slotIndex,C$Tzc.parent);if(null==C$Tzl)throw new Error(H[2845]+C$Tzc.parent);C$Tzc.mesh.deformAttachment=C$Tzc.inheritDeform?C$Tzl:C$Tzc.mesh,C$Tzc.mesh.setParentMesh(C$Tzl),C$Tzc.mesh.updateUVs();}this.linkedMeshes.length=0,C$Tzn=C$Tzi.readInt(!0);for(C$Tzr=0;C$Tzr<C$Tzn;C$Tzr++)(C$Tzs=new C$TzH.EventData(C$Tzi.readStringRef())).intValue=C$Tzi.readInt(!1),C$Tzs.floatValue=C$Tzi.readFloat(),C$Tzs.stringValue=C$Tzi.readString(),C$Tzs.audioPath=C$Tzi.readString(),null!=C$Tzs.audioPath&&(C$Tzs.volume=C$Tzi.readFloat(),C$Tzs.balance=C$Tzi.readFloat()),C$Tze.events.push(C$Tzs);C$Tzn=C$Tzi.readInt(!0);for(C$Tzr=0;C$Tzr<C$Tzn;C$Tzr++)C$Tze.animations.push(this.readAnimation(C$Tzi,C$Tzi.readString(),C$Tze));return C$Tze;},C$Tzj.prototype.readSkin=function(C$Tzt,C$Tze,C$Tzh,C$Tzu){var C$Tzi=null,C$Tzn=0;if(C$Tzh){if(0==(C$Tzn=C$Tzt.readInt(!0)))return null;C$Tzi=new C$TzH.Skin(H[1099]);}else{(C$Tzi=new C$TzH.Skin(C$Tzt.readStringRef())).bones.length=C$Tzt.readInt(!0);for(var C$Tzr=0,C$Tzs=C$Tzi.bones.length;C$Tzr<C$Tzs;C$Tzr++)C$Tzi.bones[C$Tzr]=C$Tze.bones[C$Tzt.readInt(!0)];for(C$Tzr=0,C$Tzs=C$Tzt.readInt(!0);C$Tzr<C$Tzs;C$Tzr++)C$Tzi.constraints.push(C$Tze.ikConstraints[C$Tzt.readInt(!0)]);for(C$Tzr=0,C$Tzs=C$Tzt.readInt(!0);C$Tzr<C$Tzs;C$Tzr++)C$Tzi.constraints.push(C$Tze.transformConstraints[C$Tzt.readInt(!0)]);for(C$Tzr=0,C$Tzs=C$Tzt.readInt(!0);C$Tzr<C$Tzs;C$Tzr++)C$Tzi.constraints.push(C$Tze.pathConstraints[C$Tzt.readInt(!0)]);C$Tzn=C$Tzt.readInt(!0);}for(C$Tzr=0;C$Tzr<C$Tzn;C$Tzr++)for(var C$Tzo=C$Tzt.readInt(!0),C$Tza=0,C$Tz_=C$Tzt.readInt(!0);C$Tza<C$Tz_;C$Tza++){var C$Tzc=C$Tzt.readStringRef(),C$Tzl=this.readAttachment(C$Tzt,C$Tze,C$Tzi,C$Tzo,C$Tzc,C$Tzu);null!=C$Tzl&&C$Tzi.setAttachment(C$Tzo,C$Tzc,C$Tzl);}return C$Tzi;},C$Tzj.prototype.readAttachment=function(C$Tzt,C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$Tze){var C$Tzi=this.scale,C$Tzn=C$Tzt.readStringRef(),C$Tzd=(null==C$Tzn&&(C$Tzn=C$Tzd),C$Tzt.readByte());switch(C$Tzj.AttachmentTypeValues[C$Tzd]){case C$TzH.AttachmentType.Region:var C$Tzr=C$Tzt.readStringRef(),C$Tzf=C$Tzt.readFloat(),C$Tzp=C$Tzt.readFloat(),C$Tzm=C$Tzt.readFloat(),C$Tzy=C$Tzt.readFloat(),C$Tzs=C$Tzt.readFloat(),C$Tzg=C$Tzt.readFloat(),C$Tzo=C$Tzt.readFloat(),C$Tzv=C$Tzt.readInt32(),C$Tza=(null==C$Tzr&&(C$Tzr=C$Tzn),this.attachmentLoader.newRegionAttachment(C$Tzu,C$Tzn,C$Tzr));return null==C$Tza?null:(C$Tza.path=C$Tzr,C$Tza.x=C$Tzp*C$Tzi,C$Tza.y=C$Tzm*C$Tzi,C$Tza.scaleX=C$Tzy,C$Tza.scaleY=C$Tzs,C$Tza.rotation=C$Tzf,C$Tza.width=C$Tzg*C$Tzi,C$Tza.height=C$Tzo*C$Tzi,C$TzH.Color.rgba8888ToColor(C$Tza.color,C$Tzv),C$Tza.updateOffset(),C$Tza);case C$TzH.AttachmentType.BoundingBox:var C$Tzc=C$Tzt.readInt(!0),C$Tzx=this.readVertices(C$Tzt,C$Tzc),C$Tzv=C$Tze?C$Tzt.readInt32():0,C$Tzy=this.attachmentLoader.newBoundingBoxAttachment(C$Tzu,C$Tzn);return null==C$Tzy?null:(C$Tzy.worldVerticesLength=C$Tzc<<1,C$Tzy.vertices=C$Tzx.vertices,C$Tzy.bones=C$Tzx.bones,C$Tze&&C$TzH.Color.rgba8888ToColor(C$Tzy.color,C$Tzv),C$Tzy);case C$TzH.AttachmentType.Mesh:var C$Tzr=C$Tzt.readStringRef(),C$Tzv=C$Tzt.readInt32(),C$Tzc=C$Tzt.readInt(!0),C$Tzs=this.readFloatArray(C$Tzt,C$Tzc<<1,1),C$Tza=this.readShortArray(C$Tzt),C$Tzx=this.readVertices(C$Tzt,C$Tzc),C$Tzy=C$Tzt.readInt(!0),C$Tzb=null,C$Tzg=0,C$Tzo=0;return C$Tze&&(C$Tzb=this.readShortArray(C$Tzt),C$Tzg=C$Tzt.readFloat(),C$Tzo=C$Tzt.readFloat()),null==C$Tzr&&(C$Tzr=C$Tzn),null==(C$Tzl=this.attachmentLoader.newMeshAttachment(C$Tzu,C$Tzn,C$Tzr))?null:(C$Tzl.path=C$Tzr,C$TzH.Color.rgba8888ToColor(C$Tzl.color,C$Tzv),C$Tzl.bones=C$Tzx.bones,C$Tzl.vertices=C$Tzx.vertices,C$Tzl.worldVerticesLength=C$Tzc<<1,C$Tzl.triangles=C$Tza,C$Tzl.regionUVs=C$Tzs,C$Tzl.updateUVs(),C$Tzl.hullLength=C$Tzy<<1,C$Tze&&(C$Tzl.edges=C$Tzb,C$Tzl.width=C$Tzg*C$Tzi,C$Tzl.height=C$Tzo*C$Tzi),C$Tzl);case C$TzH.AttachmentType.LinkedMesh:var C$Tzl,C$Tzr=C$Tzt.readStringRef(),C$Tzv=C$Tzt.readInt32(),C$Tza=C$Tzt.readStringRef(),C$Tzs=C$Tzt.readStringRef(),C$Tzy=C$Tzt.readBoolean(),C$Tzg=0,C$Tzo=0;return C$Tze&&(C$Tzg=C$Tzt.readFloat(),C$Tzo=C$Tzt.readFloat()),null==C$Tzr&&(C$Tzr=C$Tzn),null==(C$Tzl=this.attachmentLoader.newMeshAttachment(C$Tzu,C$Tzn,C$Tzr))?null:(C$Tzl.path=C$Tzr,C$TzH.Color.rgba8888ToColor(C$Tzl.color,C$Tzv),C$Tze&&(C$Tzl.width=C$Tzg*C$Tzi,C$Tzl.height=C$Tzo*C$Tzi),this.linkedMeshes.push(new C$Tzk(C$Tzl,C$Tza,C$Tz_,C$Tzs,C$Tzy)),C$Tzl);case C$TzH.AttachmentType.Path:for(var C$Tzb=C$Tzt.readBoolean(),C$Tzg=C$Tzt.readBoolean(),C$Tzc=C$Tzt.readInt(!0),C$Tzx=this.readVertices(C$Tzt,C$Tzc),C$TzA=C$TzH.Utils.newArray(C$Tzc/3,0),C$TzC=0,C$TzS=C$TzA.length;C$TzC<C$TzS;C$TzC++)C$TzA[C$TzC]=C$Tzt.readFloat()*C$Tzi;C$Tzv=C$Tze?C$Tzt.readInt32():0;return null==(C$Tzr=this.attachmentLoader.newPathAttachment(C$Tzu,C$Tzn))?null:(C$Tzr.closed=C$Tzb,C$Tzr.constantSpeed=C$Tzg,C$Tzr.worldVerticesLength=C$Tzc<<1,C$Tzr.vertices=C$Tzx.vertices,C$Tzr.bones=C$Tzx.bones,C$Tzr.lengths=C$TzA,C$Tze&&C$TzH.Color.rgba8888ToColor(C$Tzr.color,C$Tzv),C$Tzr);case C$TzH.AttachmentType.Point:C$Tzf=C$Tzt.readFloat(),C$Tzp=C$Tzt.readFloat(),C$Tzm=C$Tzt.readFloat(),C$Tzv=C$Tze?C$Tzt.readInt32():0,C$Tzo=this.attachmentLoader.newPointAttachment(C$Tzu,C$Tzn);return null==C$Tzo?null:(C$Tzo.x=C$Tzp*C$Tzi,C$Tzo.y=C$Tzm*C$Tzi,C$Tzo.rotation=C$Tzf,C$Tze&&C$TzH.Color.rgba8888ToColor(C$Tzo.color,C$Tzv),C$Tzo);case C$TzH.AttachmentType.Clipping:C$Tza=C$Tzt.readInt(!0),C$Tzc=C$Tzt.readInt(!0),C$Tzx=this.readVertices(C$Tzt,C$Tzc),C$Tzv=C$Tze?C$Tzt.readInt32():0,C$Tzs=this.attachmentLoader.newClippingAttachment(C$Tzu,C$Tzn);return null==C$Tzs?null:(C$Tzs.endSlot=C$Tzh.slots[C$Tza],C$Tzs.worldVerticesLength=C$Tzc<<1,C$Tzs.vertices=C$Tzx.vertices,C$Tzs.bones=C$Tzx.bones,C$Tze&&C$TzH.Color.rgba8888ToColor(C$Tzs.color,C$Tzv),C$Tzs);}return null;},C$Tzj.prototype.readVertices=function(C$Tzt,C$Tze){var C$Tzi=C$Tze<<1,C$Tzn=new C$TzG(),C$Tzr=this.scale;if(!C$Tzt.readBoolean())return C$Tzn.vertices=this.readFloatArray(C$Tzt,C$Tzi,C$Tzr),C$Tzn;for(var C$Tzs=[],C$Tzo=[],C$Tza=0;C$Tza<C$Tze;C$Tza++){var C$Tzc=C$Tzt.readInt(!0);C$Tzo.push(C$Tzc);for(var C$Tzl=0;C$Tzl<C$Tzc;C$Tzl++)C$Tzo.push(C$Tzt.readInt(!0)),C$Tzs.push(C$Tzt.readFloat()*C$Tzr),C$Tzs.push(C$Tzt.readFloat()*C$Tzr),C$Tzs.push(C$Tzt.readFloat());}return C$Tzn.vertices=C$TzH.Utils.toFloatArray(C$Tzs),C$Tzn.bones=C$Tzo,C$Tzn;},C$Tzj.prototype.readFloatArray=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=new Array(C$Tze);if(1==C$Tzi)for(var C$Tzr=0;C$Tzr<C$Tze;C$Tzr++)C$Tzn[C$Tzr]=C$Tzt.readFloat();else for(C$Tzr=0;C$Tzr<C$Tze;C$Tzr++)C$Tzn[C$Tzr]=C$Tzt.readFloat()*C$Tzi;return C$Tzn;},C$Tzj.prototype.readShortArray=function(C$Tzt){for(var C$Tze=C$Tzt.readInt(!0),C$Tzi=new Array(C$Tze),C$Tzn=0;C$Tzn<C$Tze;C$Tzn++)C$Tzi[C$Tzn]=C$Tzt.readShort();return C$Tzi;},C$Tzj.prototype.readAnimation=function(C$Tzt,C$Tzh,C$Tzu){for(var C$Tze=[],C$Tz_=this.scale,C$Tzi=0,C$Tzd=new C$TzH.Color(),C$Tzf=new C$TzH.Color(),C$Tzn=0,C$Tzr=C$Tzt.readInt(!0);C$Tzn<C$Tzr;C$Tzn++)for(var C$Tzp=C$Tzt.readInt(!0),C$Tzs=0,C$Tzm=C$Tzt.readInt(!0);C$Tzs<C$Tzm;C$Tzs++){var C$Tzy=C$Tzt.readByte(),C$Tzo=C$Tzt.readInt(!0);switch(C$Tzy){case C$Tzj.SLOT_ATTACHMENT:(C$Tzc=new C$TzH.AttachmentTimeline(C$Tzo)).slotIndex=C$Tzp;for(var C$Tza=0;C$Tza<C$Tzo;C$Tza++)C$Tzc.setFrame(C$Tza,C$Tzt.readFloat(),C$Tzt.readStringRef());C$Tze.push(C$Tzc),C$Tzi=Math.max(C$Tzi,C$Tzc.frames[C$Tzo-1]);break;case C$Tzj.SLOT_COLOR:(C$Tzc=new C$TzH.ColorTimeline(C$Tzo)).slotIndex=C$Tzp;for(C$Tza=0;C$Tza<C$Tzo;C$Tza++){var C$Tzg=C$Tzt.readFloat();C$TzH.Color.rgba8888ToColor(C$Tzd,C$Tzt.readInt32()),C$Tzc.setFrame(C$Tza,C$Tzg,C$Tzd.r,C$Tzd.g,C$Tzd.b,C$Tzd.a),C$Tza<C$Tzo-1&&this.readCurve(C$Tzt,C$Tza,C$Tzc);}C$Tze.push(C$Tzc),C$Tzi=Math.max(C$Tzi,C$Tzc.frames[(C$Tzo-1)*C$TzH.ColorTimeline.ENTRIES]);break;case C$Tzj.SLOT_TWO_COLOR:(C$Tzc=new C$TzH.TwoColorTimeline(C$Tzo)).slotIndex=C$Tzp;for(C$Tza=0;C$Tza<C$Tzo;C$Tza++){C$Tzg=C$Tzt.readFloat();C$TzH.Color.rgba8888ToColor(C$Tzd,C$Tzt.readInt32()),C$TzH.Color.rgb888ToColor(C$Tzf,C$Tzt.readInt32()),C$Tzc.setFrame(C$Tza,C$Tzg,C$Tzd.r,C$Tzd.g,C$Tzd.b,C$Tzd.a,C$Tzf.r,C$Tzf.g,C$Tzf.b),C$Tza<C$Tzo-1&&this.readCurve(C$Tzt,C$Tza,C$Tzc);}C$Tze.push(C$Tzc),C$Tzi=Math.max(C$Tzi,C$Tzc.frames[(C$Tzo-1)*C$TzH.TwoColorTimeline.ENTRIES]);}}for(C$Tzn=0,C$Tzr=C$Tzt.readInt(!0);C$Tzn<C$Tzr;C$Tzn++)for(var C$Tzv=C$Tzt.readInt(!0),C$Tzs=0,C$Tzm=C$Tzt.readInt(!0);C$Tzs<C$Tzm;C$Tzs++){C$Tzy=C$Tzt.readByte(),C$Tzo=C$Tzt.readInt(!0);switch(C$Tzy){case C$Tzj.BONE_ROTATE:(C$Tzc=new C$TzH.RotateTimeline(C$Tzo)).boneIndex=C$Tzv;for(C$Tza=0;C$Tza<C$Tzo;C$Tza++)C$Tzc.setFrame(C$Tza,C$Tzt.readFloat(),C$Tzt.readFloat()),C$Tza<C$Tzo-1&&this.readCurve(C$Tzt,C$Tza,C$Tzc);C$Tze.push(C$Tzc),C$Tzi=Math.max(C$Tzi,C$Tzc.frames[(C$Tzo-1)*C$TzH.RotateTimeline.ENTRIES]);break;case C$Tzj.BONE_TRANSLATE:case C$Tzj.BONE_SCALE:case C$Tzj.BONE_SHEAR:var C$Tzc=void 0,C$Tzx=1;C$Tzy==C$Tzj.BONE_SCALE?C$Tzc=new C$TzH.ScaleTimeline(C$Tzo):C$Tzy==C$Tzj.BONE_SHEAR?C$Tzc=new C$TzH.ShearTimeline(C$Tzo):(C$Tzc=new C$TzH.TranslateTimeline(C$Tzo),C$Tzx=C$Tz_),C$Tzc.boneIndex=C$Tzv;for(C$Tza=0;C$Tza<C$Tzo;C$Tza++)C$Tzc.setFrame(C$Tza,C$Tzt.readFloat(),C$Tzt.readFloat()*C$Tzx,C$Tzt.readFloat()*C$Tzx),C$Tza<C$Tzo-1&&this.readCurve(C$Tzt,C$Tza,C$Tzc);C$Tze.push(C$Tzc),C$Tzi=Math.max(C$Tzi,C$Tzc.frames[(C$Tzo-1)*C$TzH.TranslateTimeline.ENTRIES]);}}for(C$Tzn=0,C$Tzr=C$Tzt.readInt(!0);C$Tzn<C$Tzr;C$Tzn++){var C$Tzb=C$Tzt.readInt(!0),C$Tzo=C$Tzt.readInt(!0);(C$Tzc=new C$TzH.IkConstraintTimeline(C$Tzo)).ikConstraintIndex=C$Tzb;for(C$Tza=0;C$Tza<C$Tzo;C$Tza++)C$Tzc.setFrame(C$Tza,C$Tzt.readFloat(),C$Tzt.readFloat(),C$Tzt.readFloat()*C$Tz_,C$Tzt.readByte(),C$Tzt.readBoolean(),C$Tzt.readBoolean()),C$Tza<C$Tzo-1&&this.readCurve(C$Tzt,C$Tza,C$Tzc);C$Tze.push(C$Tzc),C$Tzi=Math.max(C$Tzi,C$Tzc.frames[(C$Tzo-1)*C$TzH.IkConstraintTimeline.ENTRIES]);}for(C$Tzn=0,C$Tzr=C$Tzt.readInt(!0);C$Tzn<C$Tzr;C$Tzn++){C$Tzb=C$Tzt.readInt(!0),C$Tzo=C$Tzt.readInt(!0);(C$Tzc=new C$TzH.TransformConstraintTimeline(C$Tzo)).transformConstraintIndex=C$Tzb;for(C$Tza=0;C$Tza<C$Tzo;C$Tza++)C$Tzc.setFrame(C$Tza,C$Tzt.readFloat(),C$Tzt.readFloat(),C$Tzt.readFloat(),C$Tzt.readFloat(),C$Tzt.readFloat()),C$Tza<C$Tzo-1&&this.readCurve(C$Tzt,C$Tza,C$Tzc);C$Tze.push(C$Tzc),C$Tzi=Math.max(C$Tzi,C$Tzc.frames[(C$Tzo-1)*C$TzH.TransformConstraintTimeline.ENTRIES]);}for(C$Tzn=0,C$Tzr=C$Tzt.readInt(!0);C$Tzn<C$Tzr;C$Tzn++)for(var C$Tzb=C$Tzt.readInt(!0),C$TzA=C$Tzu.pathConstraints[C$Tzb],C$Tzs=0,C$Tzm=C$Tzt.readInt(!0);C$Tzs<C$Tzm;C$Tzs++){C$Tzy=C$Tzt.readByte(),C$Tzo=C$Tzt.readInt(!0);switch(C$Tzy){case C$Tzj.PATH_POSITION:case C$Tzj.PATH_SPACING:var C$Tzc=void 0,C$Tzx=1;C$Tzy==C$Tzj.PATH_SPACING?(C$Tzc=new C$TzH.PathConstraintSpacingTimeline(C$Tzo),C$TzA.spacingMode!=C$TzH.SpacingMode.Length&&C$TzA.spacingMode!=C$TzH.SpacingMode.Fixed||(C$Tzx=C$Tz_)):(C$Tzc=new C$TzH.PathConstraintPositionTimeline(C$Tzo),C$TzA.positionMode==C$TzH.PositionMode.Fixed&&(C$Tzx=C$Tz_)),C$Tzc.pathConstraintIndex=C$Tzb;for(C$Tza=0;C$Tza<C$Tzo;C$Tza++)C$Tzc.setFrame(C$Tza,C$Tzt.readFloat(),C$Tzt.readFloat()*C$Tzx),C$Tza<C$Tzo-1&&this.readCurve(C$Tzt,C$Tza,C$Tzc);C$Tze.push(C$Tzc),C$Tzi=Math.max(C$Tzi,C$Tzc.frames[(C$Tzo-1)*C$TzH.PathConstraintPositionTimeline.ENTRIES]);break;case C$Tzj.PATH_MIX:(C$Tzc=new C$TzH.PathConstraintMixTimeline(C$Tzo)).pathConstraintIndex=C$Tzb;for(C$Tza=0;C$Tza<C$Tzo;C$Tza++)C$Tzc.setFrame(C$Tza,C$Tzt.readFloat(),C$Tzt.readFloat(),C$Tzt.readFloat()),C$Tza<C$Tzo-1&&this.readCurve(C$Tzt,C$Tza,C$Tzc);C$Tze.push(C$Tzc),C$Tzi=Math.max(C$Tzi,C$Tzc.frames[(C$Tzo-1)*C$TzH.PathConstraintMixTimeline.ENTRIES]);}}for(C$Tzn=0,C$Tzr=C$Tzt.readInt(!0);C$Tzn<C$Tzr;C$Tzn++)for(var C$TzC=C$Tzu.skins[C$Tzt.readInt(!0)],C$Tzs=0,C$Tzm=C$Tzt.readInt(!0);C$Tzs<C$Tzm;C$Tzs++)for(var C$Tzp=C$Tzt.readInt(!0),C$TzS=0,C$TzT=C$Tzt.readInt(!0);C$TzS<C$TzT;C$TzS++){var C$Tzw=C$TzC.getAttachment(C$Tzp,C$Tzt.readStringRef()),C$TzE=null!=C$Tzw.bones,C$TzM=C$Tzw.vertices,C$TzI=C$TzE?C$TzM.length/3*2:C$TzM.length,C$Tzo=C$Tzt.readInt(!0);(C$Tzc=new C$TzH.DeformTimeline(C$Tzo)).slotIndex=C$Tzp,C$Tzc.attachment=C$Tzw;for(C$Tza=0;C$Tza<C$Tzo;C$Tza++){var C$Tzg=C$Tzt.readFloat(),C$TzB=void 0,C$TzR=C$Tzt.readInt(!0);if(0==C$TzR)C$TzB=C$TzE?C$TzH.Utils.newFloatArray(C$TzI):C$TzM;else{var C$TzB=C$TzH.Utils.newFloatArray(C$TzI),C$TzP=C$Tzt.readInt(!0);if(C$TzR+=C$TzP,1==C$Tz_)for(var C$Tzl=C$TzP;C$Tzl<C$TzR;C$Tzl++)C$TzB[C$Tzl]=C$Tzt.readFloat();else for(C$Tzl=C$TzP;C$Tzl<C$TzR;C$Tzl++)C$TzB[C$Tzl]=C$Tzt.readFloat()*C$Tz_;if(!C$TzE)for(var C$Tzl=0,C$TzD=C$TzB.length;C$Tzl<C$TzD;C$Tzl++)C$TzB[C$Tzl]+=C$TzM[C$Tzl];}C$Tzc.setFrame(C$Tza,C$Tzg,C$TzB),C$Tza<C$Tzo-1&&this.readCurve(C$Tzt,C$Tza,C$Tzc);}C$Tze.push(C$Tzc),C$Tzi=Math.max(C$Tzi,C$Tzc.frames[C$Tzo-1]);}var C$TzL=C$Tzt.readInt(!0);if(0<C$TzL){for(var C$Tzc=new C$TzH.DrawOrderTimeline(C$TzL),C$TzV=C$Tzu.slots.length,C$Tzn=0;C$Tzn<C$TzL;C$Tzn++){for(var C$Tzg=C$Tzt.readFloat(),C$TzO=C$Tzt.readInt(!0),C$TzF=C$TzH.Utils.newArray(C$TzV,0),C$Tzs=C$TzV-1;0<=C$Tzs;C$Tzs--)C$TzF[C$Tzs]=-1;for(var C$TzN=C$TzH.Utils.newArray(C$TzV-C$TzO,0),C$Tzk=0,C$TzG=0,C$Tzs=0;C$Tzs<C$TzO;C$Tzs++){for(C$Tzp=C$Tzt.readInt(!0);C$Tzk!=C$Tzp;)C$TzN[C$TzG++]=C$Tzk++;C$TzF[C$Tzk+C$Tzt.readInt(!0)]=C$Tzk++;}for(;C$Tzk<C$TzV;)C$TzN[C$TzG++]=C$Tzk++;for(C$Tzs=C$TzV-1;0<=C$Tzs;C$Tzs--)-1==C$TzF[C$Tzs]&&(C$TzF[C$Tzs]=C$TzN[--C$TzG]);C$Tzc.setFrame(C$Tzn,C$Tzg,C$TzF);}C$Tze.push(C$Tzc),C$Tzi=Math.max(C$Tzi,C$Tzc.frames[C$TzL-1]);}var C$Tzz=C$Tzt.readInt(!0);if(0<C$Tzz){for(C$Tzc=new C$TzH.EventTimeline(C$Tzz),C$Tzn=0;C$Tzn<C$Tzz;C$Tzn++){var C$Tzg=C$Tzt.readFloat(),C$TzU=C$Tzu.events[C$Tzt.readInt(!0)],C$TzW=new C$TzH.Event(C$Tzg,C$TzU);C$TzW.intValue=C$Tzt.readInt(!1),C$TzW.floatValue=C$Tzt.readFloat(),C$TzW.stringValue=C$Tzt.readBoolean()?C$Tzt.readString():C$TzU.stringValue,null!=C$TzW.data.audioPath&&(C$TzW.volume=C$Tzt.readFloat(),C$TzW.balance=C$Tzt.readFloat()),C$Tzc.setFrame(C$Tzn,C$TzW);}C$Tze.push(C$Tzc),C$Tzi=Math.max(C$Tzi,C$Tzc.frames[C$Tzz-1]);}return new C$TzH.Animation(C$Tzh,C$Tze,C$Tzi);},C$Tzj.prototype.readCurve=function(C$Tzt,C$Tze,C$Tzi){switch(C$Tzt.readByte()){case C$Tzj.CURVE_STEPPED:C$Tzi.setStepped(C$Tze);break;case C$Tzj.CURVE_BEZIER:this.setCurve(C$Tzi,C$Tze,C$Tzt.readFloat(),C$Tzt.readFloat(),C$Tzt.readFloat(),C$Tzt.readFloat());}},C$Tzj.prototype.setCurve=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){C$Tzt.setCurve(C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs);},C$Tzj.AttachmentTypeValues=[0,1,2,3,4,5,6],C$Tzj.TransformModeValues=[C$TzH.TransformMode.Normal,C$TzH.TransformMode.OnlyTranslation,C$TzH.TransformMode.NoRotationOrReflection,C$TzH.TransformMode.NoScale,C$TzH.TransformMode.NoScaleOrReflection],C$Tzj.PositionModeValues=[C$TzH.PositionMode.Fixed,C$TzH.PositionMode.Percent],C$Tzj.SpacingModeValues=[C$TzH.SpacingMode.Length,C$TzH.SpacingMode.Fixed,C$TzH.SpacingMode.Percent],C$Tzj.RotateModeValues=[C$TzH.RotateMode.Tangent,C$TzH.RotateMode.Chain,C$TzH.RotateMode.ChainScale],C$Tzj.BlendModeValues=[C$TzH.BlendMode.Normal,C$TzH.BlendMode.Additive,C$TzH.BlendMode.Multiply,C$TzH.BlendMode.Screen],C$Tzj.BONE_ROTATE=0,C$Tzj.BONE_TRANSLATE=1,C$Tzj.BONE_SCALE=2,C$Tzj.BONE_SHEAR=3,C$Tzj.SLOT_ATTACHMENT=0,C$Tzj.SLOT_COLOR=1,C$Tzj.SLOT_TWO_COLOR=2,C$Tzj.PATH_POSITION=0,C$Tzj.PATH_SPACING=1,C$Tzj.PATH_MIX=2,C$Tzj.CURVE_LINEAR=0,C$Tzj.CURVE_STEPPED=1,C$Tzj.CURVE_BEZIER=2,C$Tzj);function C$Tzj(C$Tzt){this.scale=1,this.linkedMeshes=[],this.attachmentLoader=C$Tzt;}C$TzH.SkeletonBinary=C$Tze,C$TzN.prototype.readByte=function(){return this.buffer.getInt8(this.index++);},C$TzN.prototype.readShort=function(){var C$Tzt=this.buffer.getInt16(this.index);return this.index+=2,C$Tzt;},C$TzN.prototype.readInt32=function(){var C$Tzt=this.buffer.getInt32(this.index);return this.index+=4,C$Tzt;},C$TzN.prototype.readInt=function(C$Tzt){var C$Tze=this.readByte(),C$Tzi=127&C$Tze;return 0!=(128&C$Tze)&&(C$Tzi|=(127&(C$Tze=this.readByte()))<<7,0!=(128&C$Tze)&&(C$Tzi|=(127&(C$Tze=this.readByte()))<<14,0!=(128&C$Tze)&&(C$Tzi|=(127&(C$Tze=this.readByte()))<<21,0!=(128&C$Tze)&&(C$Tzi|=(127&this.readByte())<<28)))),C$Tzt?C$Tzi:C$Tzi>>>1^-(1&C$Tzi);},C$TzN.prototype.readStringRef=function(){var C$Tzt=this.readInt(!0);return 0==C$Tzt?null:this.strings[C$Tzt-1];},C$TzN.prototype.readString=function(){var C$Tzt=this.readInt(!0);switch(C$Tzt){case 0:return null;case 1:return"";}C$Tzt--;for(var C$Tze="",C$Tzi=0;C$Tzi<C$Tzt;){var C$Tzn=this.readByte();switch(C$Tzn>>4){case 12:case 13:C$Tze+=String.fromCharCode((31&C$Tzn)<<6|63&this.readByte()),C$Tzi+=2;break;case 14:C$Tze+=String.fromCharCode((15&C$Tzn)<<12|(63&this.readByte())<<6|63&this.readByte()),C$Tzi+=3;break;default:C$Tze+=String.fromCharCode(C$Tzn),C$Tzi++;}}return C$Tze;},C$TzN.prototype.readFloat=function(){var C$Tzt=this.buffer.getFloat32(this.index);return this.index+=4,C$Tzt;},C$TzN.prototype.readBoolean=function(){return 0!=this.readByte();};var C$TzF=C$TzN;function C$TzN(C$Tzt,C$Tze,C$Tzi,C$Tzn){void 0===C$Tze&&(C$Tze=[]),void 0===C$Tzi&&(C$Tzi=0),void 0===C$Tzn&&(C$Tzn=new DataView(C$Tzt.buffer)),this.strings=C$Tze,this.index=C$Tzi,this.buffer=C$Tzn;}var C$Tzk=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){this.mesh=C$Tzt,this.skin=C$Tze,this.slotIndex=C$Tzi,this.parent=C$Tzn,this.inheritDeform=C$Tzr;},C$TzG=function(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=null),this.bones=C$Tzt=void 0===C$Tzt?null:C$Tzt,this.vertices=C$Tze;};function C$Tzi(C$Tzt){if(this.attachments=[],this.bones=Array(),this.constraints=[],null==C$Tzt)throw new Error(H[2777]);this.name=C$Tzt;}!function(C$Tzu){function C$Tzt(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=[],this.polygons=[],this.polygonPool=new C$Tzu.Pool(function(){return C$Tzu.Utils.newFloatArray(16);});}C$Tzt.prototype.update=function(C$Tzt,C$Tze){if(null==C$Tzt)throw new Error(H[2776]);var C$Tzi=this.boundingBoxes,C$Tzn=this.polygons,C$Tzr=this.polygonPool,C$Tzs=C$Tzt.slots,C$Tzh=C$Tzs.length;C$Tzi.length=0,C$Tzr.freeAll(C$Tzn);for(var C$Tzo=C$Tzn.length=0;C$Tzo<C$Tzh;C$Tzo++){var C$Tza,C$Tzc,C$Tzl=C$Tzs[C$Tzo];C$Tzl.bone.active&&(C$Tza=C$Tzl.getAttachment())instanceof C$Tzu.BoundingBoxAttachment&&(C$Tzi.push(C$Tza=C$Tza),(C$Tzc=C$Tzr.obtain()).length!=C$Tza.worldVerticesLength&&(C$Tzc=C$Tzu.Utils.newFloatArray(C$Tza.worldVerticesLength)),C$Tzn.push(C$Tzc),C$Tza.computeWorldVertices(C$Tzl,0,C$Tza.worldVerticesLength,C$Tzc,0,2));}C$Tze?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY);},C$Tzt.prototype.aabbCompute=function(){for(var C$Tzt=Number.POSITIVE_INFINITY,C$Tze=Number.POSITIVE_INFINITY,C$Tzi=Number.NEGATIVE_INFINITY,C$Tzn=Number.NEGATIVE_INFINITY,C$Tzr=this.polygons,C$Tzs=0,C$Tzh=C$Tzr.length;C$Tzs<C$Tzh;C$Tzs++)for(var C$Tzo=C$Tzr[C$Tzs],C$Tza=C$Tzo,C$Tzc=0,C$Tzu=C$Tzo.length;C$Tzc<C$Tzu;C$Tzc+=2)var C$Tzl=C$Tza[C$Tzc],C$Tz_=C$Tza[C$Tzc+1],C$Tzt=Math.min(C$Tzt,C$Tzl),C$Tze=Math.min(C$Tze,C$Tz_),C$Tzi=Math.max(C$Tzi,C$Tzl),C$Tzn=Math.max(C$Tzn,C$Tz_);this.minX=C$Tzt,this.minY=C$Tze,this.maxX=C$Tzi,this.maxY=C$Tzn;},C$Tzt.prototype.aabbContainsPoint=function(C$Tzt,C$Tze){return C$Tzt>=this.minX&&C$Tzt<=this.maxX&&C$Tze>=this.minY&&C$Tze<=this.maxY;},C$Tzt.prototype.aabbIntersectsSegment=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=this.minX,C$Tzs=this.minY,C$Tzo=this.maxX,C$Tza=this.maxY;if(C$Tzt<=C$Tzr&&C$Tzi<=C$Tzr||C$Tze<=C$Tzs&&C$Tzn<=C$Tzs||C$Tzo<=C$Tzt&&C$Tzo<=C$Tzi||C$Tza<=C$Tze&&C$Tza<=C$Tzn)return!1;C$Tzn=(C$Tzn-C$Tze)/(C$Tzi-C$Tzt),C$Tzi=C$Tzn*(C$Tzr-C$Tzt)+C$Tze;if(C$Tzs<C$Tzi&&C$Tzi<C$Tza)return!0;if(C$Tzs<(C$Tzi=C$Tzn*(C$Tzo-C$Tzt)+C$Tze)&&C$Tzi<C$Tza)return!0;C$Tzi=(C$Tzs-C$Tze)/C$Tzn+C$Tzt;return C$Tzr<C$Tzi&&C$Tzi<C$Tzo||C$Tzr<(C$Tzi=(C$Tza-C$Tze)/C$Tzn+C$Tzt)&&C$Tzi<C$Tzo;},C$Tzt.prototype.aabbIntersectsSkeleton=function(C$Tzt){return this.minX<C$Tzt.maxX&&this.maxX>C$Tzt.minX&&this.minY<C$Tzt.maxY&&this.maxY>C$Tzt.minY;},C$Tzt.prototype.containsPoint=function(C$Tzt,C$Tze){for(var C$Tzi=this.polygons,C$Tzn=0,C$Tzr=C$Tzi.length;C$Tzn<C$Tzr;C$Tzn++)if(this.containsPointPolygon(C$Tzi[C$Tzn],C$Tzt,C$Tze))return this.boundingBoxes[C$Tzn];return null;},C$Tzt.prototype.containsPointPolygon=function(C$Tzt,C$Tzh,C$Tze){for(var C$Tzi=C$Tzt,C$Tzn=C$Tzt.length,C$Tzr=C$Tzn-2,C$Tzs=!1,C$Tzo=0;C$Tzo<C$Tzn;C$Tzo+=2){var C$Tza,C$Tzc=C$Tzi[C$Tzo+1],C$Tzl=C$Tzi[C$Tzr+1];!(C$Tzc<C$Tze&&C$Tze<=C$Tzl||C$Tzl<C$Tze&&C$Tze<=C$Tzc)||(C$Tza=C$Tzi[C$Tzo])+(C$Tze-C$Tzc)/(C$Tzl-C$Tzc)*(C$Tzi[C$Tzr]-C$Tza)<C$Tzh&&(C$Tzs=!C$Tzs),C$Tzr=C$Tzo;}return C$Tzs;},C$Tzt.prototype.intersectsSegment=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){for(var C$Tzr=this.polygons,C$Tzs=0,C$Tzo=C$Tzr.length;C$Tzs<C$Tzo;C$Tzs++)if(this.intersectsSegmentPolygon(C$Tzr[C$Tzs],C$Tzt,C$Tze,C$Tzi,C$Tzn))return this.boundingBoxes[C$Tzs];return null;},C$Tzt.prototype.intersectsSegmentPolygon=function(C$Tzh,C$Tzt,C$Tze,C$Tzi,C$Tzn){for(var C$Tzr=C$Tzh,C$Tzu=C$Tzh.length,C$Tz_=C$Tzt-C$Tzi,C$Tzd=C$Tze-C$Tzn,C$Tzf=C$Tzt*C$Tzn-C$Tze*C$Tzi,C$Tzs=C$Tzr[C$Tzu-2],C$Tzo=C$Tzr[C$Tzu-1],C$Tzp=0;C$Tzp<C$Tzu;C$Tzp+=2){var C$Tza=C$Tzr[C$Tzp],C$Tzc=C$Tzr[C$Tzp+1],C$Tzm=C$Tzs*C$Tzc-C$Tzo*C$Tza,C$Tzl=C$Tzs-C$Tza,C$Tzy=C$Tzo-C$Tzc,C$Tzg=C$Tz_*C$Tzy-C$Tzd*C$Tzl,C$Tzl=(C$Tzf*C$Tzl-C$Tz_*C$Tzm)/C$Tzg;if((C$Tzs<=C$Tzl&&C$Tzl<=C$Tza||C$Tza<=C$Tzl&&C$Tzl<=C$Tzs)&&(C$Tzt<=C$Tzl&&C$Tzl<=C$Tzi||C$Tzi<=C$Tzl&&C$Tzl<=C$Tzt)){C$Tzl=(C$Tzf*C$Tzy-C$Tzd*C$Tzm)/C$Tzg;if((C$Tzo<=C$Tzl&&C$Tzl<=C$Tzc||C$Tzc<=C$Tzl&&C$Tzl<=C$Tzo)&&(C$Tze<=C$Tzl&&C$Tzl<=C$Tzn||C$Tzn<=C$Tzl&&C$Tzl<=C$Tze))return!0;}C$Tzs=C$Tza,C$Tzo=C$Tzc;}return!1;},C$Tzt.prototype.getPolygon=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2846]);C$Tzt=this.boundingBoxes.indexOf(C$Tzt);return-1==C$Tzt?null:this.polygons[C$Tzt];},C$Tzt.prototype.getWidth=function(){return this.maxX-this.minX;},C$Tzt.prototype.getHeight=function(){return this.maxY-this.minY;},C$Tzu.SkeletonBounds=C$Tzt;}(C$Tzt=C$Tzt||{}),function(C$TzQ){function C$Tzc(){this.triangulator=new C$TzQ.Triangulator(),this.clippingPolygon=[],this.clipOutput=[],this.clippedVertices=[],this.clippedTriangles=[],this.scratch=[];}C$Tzc.prototype.clipStart=function(C$Tzt,C$Tze){if(null!=this.clipAttachment)return 0;for(var C$Tzi=(this.clipAttachment=C$Tze).worldVerticesLength,C$Tzn=C$TzQ.Utils.setArraySize(this.clippingPolygon,C$Tzi),C$Tze=(C$Tze.computeWorldVertices(C$Tzt,0,C$Tzi,C$Tzn,0,2),this.clippingPolygon),C$Tzr=(C$Tzc.makeClockwise(C$Tze),this.clippingPolygons=this.triangulator.decompose(C$Tze,this.triangulator.triangulate(C$Tze))),C$Tzs=0,C$Tzo=C$Tzr.length;C$Tzs<C$Tzo;C$Tzs++){var C$Tza=C$Tzr[C$Tzs];C$Tzc.makeClockwise(C$Tza),C$Tza.push(C$Tza[0]),C$Tza.push(C$Tza[1]);}return C$Tzr.length;},C$Tzc.prototype.clipEndWithSlot=function(C$Tzt){null!=this.clipAttachment&&this.clipAttachment.endSlot==C$Tzt.data&&this.clipEnd();},C$Tzc.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0);},C$Tzc.prototype.isClipping=function(){return null!=this.clipAttachment;},C$Tzc.prototype.clipTriangles=function(C$Tzt,C$Tzh,C$Tzu,C$Tz_,C$Tze,C$Tzi,C$Tzn,C$Tzd,C$Tzf,C$Tzp,C$Tzm,C$Tzy){var C$Tzg=this.clipOutput,C$Tzv=this.clippedVertices,C$Tzx=this.clippedTriangles,C$Tzb=this.clippingPolygons,C$TzA=this.clippingPolygons.length,C$TzC=C$Tzd?12:8,C$Tzr=0;C$Tzp=C$Tzp||0,C$Tzm=C$Tzm||0,C$Tzy=C$Tzy||0,C$Tzv.length=0,C$Tzx.length=0;C$Tzt:for(var C$TzS=C$Tzp,C$TzT=C$Tzp+C$Tz_;C$TzS<C$TzT;C$TzS+=3)for(var C$Tzw=C$Tzu[C$TzS]*C$Tzf,C$TzE=C$Tzw+C$Tzm,C$TzM=C$Tzw+C$Tzy,C$TzI=C$Tzt[C$TzE],C$TzB=C$Tzt[C$TzE+1],C$TzR=C$Tze[C$TzM],C$TzP=C$Tze[C$TzM+1],C$TzD=C$Tzt[C$TzE=(C$Tzw=C$Tzu[C$TzS+1]*C$Tzf)+C$Tzm],C$TzL=C$Tzt[C$TzE+1],C$TzV=C$Tze[C$TzM=C$Tzw+C$Tzy],C$TzO=C$Tze[C$TzM+1],C$TzF=C$Tzt[C$TzE=(C$Tzw=C$Tzu[C$TzS+2]*C$Tzf)+C$Tzm],C$Tzs=C$Tzt[C$TzE+1],C$TzN=C$Tze[C$TzM=C$Tzw+C$Tzy],C$Tzk=C$Tze[C$TzM+1],C$TzG=0;C$TzG<C$TzA;C$TzG++){var C$Tzo=C$Tzv.length;if(!this.clip(C$TzI,C$TzB,C$TzD,C$TzL,C$TzF,C$Tzs,C$Tzb[C$TzG],C$Tzg)){(C$Tza=C$TzQ.Utils.setArraySize(C$Tzv,C$Tzo+3*C$TzC))[C$Tzo]=C$TzI,C$Tza[C$Tzo+1]=C$TzB,C$Tza[C$Tzo+2]=C$Tzi.r,C$Tza[C$Tzo+3]=C$Tzi.g,C$Tza[C$Tzo+4]=C$Tzi.b,C$Tza[C$Tzo+5]=C$Tzi.a,C$Tzd?(C$Tza[C$Tzo+6]=C$TzR,C$Tza[C$Tzo+7]=C$TzP,C$Tza[C$Tzo+8]=C$Tzn.r,C$Tza[C$Tzo+9]=C$Tzn.g,C$Tza[C$Tzo+10]=C$Tzn.b,C$Tza[C$Tzo+11]=C$Tzn.a,C$Tza[C$Tzo+12]=C$TzD,C$Tza[C$Tzo+13]=C$TzL,C$Tza[C$Tzo+14]=C$Tzi.r,C$Tza[C$Tzo+15]=C$Tzi.g,C$Tza[C$Tzo+16]=C$Tzi.b,C$Tza[C$Tzo+17]=C$Tzi.a,C$Tza[C$Tzo+18]=C$TzV,C$Tza[C$Tzo+19]=C$TzO,C$Tza[C$Tzo+20]=C$Tzn.r,C$Tza[C$Tzo+21]=C$Tzn.g,C$Tza[C$Tzo+22]=C$Tzn.b,C$Tza[C$Tzo+23]=C$Tzn.a,C$Tza[C$Tzo+24]=C$TzF,C$Tza[C$Tzo+25]=C$Tzs,C$Tza[C$Tzo+26]=C$Tzi.r,C$Tza[C$Tzo+27]=C$Tzi.g,C$Tza[C$Tzo+28]=C$Tzi.b,C$Tza[C$Tzo+29]=C$Tzi.a,C$Tza[C$Tzo+30]=C$TzN,C$Tza[C$Tzo+31]=C$Tzk,C$Tza[C$Tzo+32]=C$Tzn.r,C$Tza[C$Tzo+33]=C$Tzn.g,C$Tza[C$Tzo+34]=C$Tzn.b,C$Tza[C$Tzo+35]=C$Tzn.a):(C$Tza[C$Tzo+6]=C$TzR,C$Tza[C$Tzo+7]=C$TzP,C$Tza[C$Tzo+8]=C$TzD,C$Tza[C$Tzo+9]=C$TzL,C$Tza[C$Tzo+10]=C$Tzi.r,C$Tza[C$Tzo+11]=C$Tzi.g,C$Tza[C$Tzo+12]=C$Tzi.b,C$Tza[C$Tzo+13]=C$Tzi.a,C$Tza[C$Tzo+14]=C$TzV,C$Tza[C$Tzo+15]=C$TzO,C$Tza[C$Tzo+16]=C$TzF,C$Tza[C$Tzo+17]=C$Tzs,C$Tza[C$Tzo+18]=C$Tzi.r,C$Tza[C$Tzo+19]=C$Tzi.g,C$Tza[C$Tzo+20]=C$Tzi.b,C$Tza[C$Tzo+21]=C$Tzi.a,C$Tza[C$Tzo+22]=C$TzN,C$Tza[C$Tzo+23]=C$Tzk),C$Tzo=C$Tzx.length,(C$TzK=C$TzQ.Utils.setArraySize(C$Tzx,C$Tzo+3))[C$Tzo]=C$Tzr,C$TzK[C$Tzo+1]=C$Tzr+1,C$TzK[C$Tzo+2]=C$Tzr+2,C$Tzr+=3;continue C$Tzt;}var C$Tzz=C$Tzg.length;if(0!=C$Tzz){for(var C$TzU=C$TzL-C$Tzs,C$TzW=C$TzF-C$TzD,C$TzH=C$TzI-C$TzF,C$Tzj=C$Tzs-C$TzB,C$TzX=1/(C$TzU*C$TzH+C$TzW*(C$TzB-C$Tzs)),C$TzY=C$Tzz>>1,C$Tzq=this.clipOutput,C$Tza=C$TzQ.Utils.setArraySize(C$Tzv,C$Tzo+C$TzY*C$TzC),C$Tzc=0;C$Tzc<C$Tzz;C$Tzc+=2){var C$Tzl=C$Tzq[C$Tzc],C$TzJ=C$Tzq[C$Tzc+1],C$Tzl=(C$Tza[C$Tzo]=C$Tzl,C$Tza[C$Tzo+1]=C$TzJ,C$Tza[C$Tzo+2]=C$Tzi.r,C$Tza[C$Tzo+3]=C$Tzi.g,C$Tza[C$Tzo+4]=C$Tzi.b,C$Tza[C$Tzo+5]=C$Tzi.a,C$Tzl-C$TzF),C$TzJ=C$TzJ-C$Tzs,C$TzZ=(C$TzU*C$Tzl+C$TzW*C$TzJ)*C$TzX,C$Tzl=(C$Tzj*C$Tzl+C$TzH*C$TzJ)*C$TzX,C$TzJ=1-C$TzZ-C$Tzl;C$Tza[C$Tzo+6]=C$TzR*C$TzZ+C$TzV*C$Tzl+C$TzN*C$TzJ,C$Tza[C$Tzo+7]=C$TzP*C$TzZ+C$TzO*C$Tzl+C$Tzk*C$TzJ,C$Tzd&&(C$Tza[C$Tzo+8]=C$Tzn.r,C$Tza[C$Tzo+9]=C$Tzn.g,C$Tza[C$Tzo+10]=C$Tzn.b,C$Tza[C$Tzo+11]=C$Tzn.a),C$Tzo+=C$TzC;}var C$Tzo=C$Tzx.length,C$TzK=C$TzQ.Utils.setArraySize(C$Tzx,C$Tzo+3*(C$TzY-2));C$TzY--;for(C$Tzc=1;C$Tzc<C$TzY;C$Tzc++)C$TzK[C$Tzo]=C$Tzr,C$TzK[C$Tzo+1]=C$Tzr+C$Tzc,C$TzK[C$Tzo+2]=C$Tzr+C$Tzc+1,C$Tzo+=3;C$Tzr+=1+C$TzY;}}},C$Tzc.prototype.clip=function(C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$Tzf,C$Tzp,C$Tzm,C$Tzt){for(var C$Tze=C$Tzt,C$Tzy=!1,C$Tzi=null,C$Tzg=(2<=C$Tzm.length%4?(C$Tzi=C$Tzt,C$Tzt=this.scratch):C$Tzi=this.scratch,C$Tzi.length=0,C$Tzi.push(C$Tzh),C$Tzi.push(C$Tzu),C$Tzi.push(C$Tz_),C$Tzi.push(C$Tzd),C$Tzi.push(C$Tzf),C$Tzi.push(C$Tzp),C$Tzi.push(C$Tzh),C$Tzi.push(C$Tzu),C$Tzt.length=0,C$Tzm),C$Tzv=C$Tzm.length-4,C$Tzn=0;;C$Tzn+=2){for(var C$Tzr=C$Tzg[C$Tzn],C$Tzs=C$Tzg[C$Tzn+1],C$Tzo=C$Tzg[C$Tzn+2],C$Tza=C$Tzg[C$Tzn+3],C$Tzx=C$Tzr-C$Tzo,C$Tzb=C$Tzs-C$Tza,C$TzA=C$Tzi,C$TzC=C$Tzi.length-2,C$TzS=C$Tzt.length,C$Tzc=0;C$Tzc<C$TzC;C$Tzc+=2){var C$Tzl=C$TzA[C$Tzc],C$TzT=C$TzA[C$Tzc+1],C$Tzw=C$TzA[C$Tzc+2],C$TzE=C$TzA[C$Tzc+3],C$TzM=0<C$Tzx*(C$TzE-C$Tza)-C$Tzb*(C$Tzw-C$Tzo);if(0<C$Tzx*(C$TzT-C$Tza)-C$Tzb*(C$Tzl-C$Tzo)){if(C$TzM){C$Tzt.push(C$Tzw),C$Tzt.push(C$TzE);continue;}var C$TzI,C$TzB,C$TzR,C$TzP=(C$TzI=C$TzE-C$TzT)*(C$Tzo-C$Tzr)-(C$TzB=C$Tzw-C$Tzl)*(C$Tza-C$Tzs);1e-6<Math.abs(C$TzP)?(C$Tzt.push(C$Tzr+(C$Tzo-C$Tzr)*(C$TzR=(C$TzB*(C$Tzs-C$TzT)-C$TzI*(C$Tzr-C$Tzl))/C$TzP)),C$Tzt.push(C$Tzs+(C$Tza-C$Tzs)*C$TzR)):(C$Tzt.push(C$Tzr),C$Tzt.push(C$Tzs));}else C$TzM&&(C$TzP=(C$TzI=C$TzE-C$TzT)*(C$Tzo-C$Tzr)-(C$TzB=C$Tzw-C$Tzl)*(C$Tza-C$Tzs),1e-6<Math.abs(C$TzP)?(C$Tzt.push(C$Tzr+(C$Tzo-C$Tzr)*(C$TzR=(C$TzB*(C$Tzs-C$TzT)-C$TzI*(C$Tzr-C$Tzl))/C$TzP)),C$Tzt.push(C$Tzs+(C$Tza-C$Tzs)*C$TzR)):(C$Tzt.push(C$Tzr),C$Tzt.push(C$Tzs)),C$Tzt.push(C$Tzw),C$Tzt.push(C$TzE));C$Tzy=!0;}if(C$TzS==C$Tzt.length)return!(C$Tze.length=0);if(C$Tzt.push(C$Tzt[0]),C$Tzt.push(C$Tzt[1]),C$Tzn==C$Tzv)break;C$TzS=C$Tzt;(C$Tzt=C$Tzi).length=0,C$Tzi=C$TzS;}if(C$Tze!=C$Tzt)for(var C$Tzn=C$Tze.length=0,C$TzD=C$Tzt.length-2;C$Tzn<C$TzD;C$Tzn++)C$Tze[C$Tzn]=C$Tzt[C$Tzn];else C$Tze.length=C$Tze.length-2;return C$Tzy;},C$Tzc.makeClockwise=function(C$Tzt){for(var C$Tze,C$Tzi,C$Tzn,C$Tzr=C$Tzt,C$Tzt=C$Tzt.length,C$Tzs=C$Tzr[C$Tzt-2]*C$Tzr[1]-C$Tzr[0]*C$Tzr[C$Tzt-1],C$Tzo=0,C$Tza=C$Tzt-3;C$Tzo<C$Tza;C$Tzo+=2)C$Tze=C$Tzr[C$Tzo],C$Tzi=C$Tzr[C$Tzo+1],C$Tzn=C$Tzr[C$Tzo+2],C$Tzs+=C$Tze*C$Tzr[C$Tzo+3]-C$Tzn*C$Tzi;if(!(C$Tzs<0))for(var C$Tzo=0,C$Tzc=C$Tzt-2,C$Tza=C$Tzt>>1;C$Tzo<C$Tza;C$Tzo+=2){var C$Tzh=C$Tzr[C$Tzo],C$Tzu=C$Tzr[C$Tzo+1],C$Tzl=C$Tzc-C$Tzo;C$Tzr[C$Tzo]=C$Tzr[C$Tzl],C$Tzr[C$Tzo+1]=C$Tzr[1+C$Tzl],C$Tzr[C$Tzl]=C$Tzh,C$Tzr[1+C$Tzl]=C$Tzu;}},C$TzQ.SkeletonClipping=C$Tzc;}(C$Tzt=C$Tzt||{}),function(C$Tzt){function C$Tze(){this.bones=[],this.slots=[],this.skins=[],this.events=[],this.animations=[],this.ikConstraints=[],this.transformConstraints=[],this.pathConstraints=[],this.fps=0;}C$Tze.prototype.findBone=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2835]);for(var C$Tze=this.bones,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzr.name==C$Tzt)return C$Tzr;}return null;},C$Tze.prototype.findBoneIndex=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2835]);for(var C$Tze=this.bones,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++)if(C$Tze[C$Tzi].name==C$Tzt)return C$Tzi;return-1;},C$Tze.prototype.findSlot=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2836]);for(var C$Tze=this.slots,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzr.name==C$Tzt)return C$Tzr;}return null;},C$Tze.prototype.findSlotIndex=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2836]);for(var C$Tze=this.slots,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++)if(C$Tze[C$Tzi].name==C$Tzt)return C$Tzi;return-1;},C$Tze.prototype.findSkin=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2847]);for(var C$Tze=this.skins,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzr.name==C$Tzt)return C$Tzr;}return null;},C$Tze.prototype.findEvent=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2848]);for(var C$Tze=this.events,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzr.name==C$Tzt)return C$Tzr;}return null;},C$Tze.prototype.findAnimation=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2849]);for(var C$Tze=this.animations,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzr.name==C$Tzt)return C$Tzr;}return null;},C$Tze.prototype.findIkConstraint=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2842]);for(var C$Tze=this.ikConstraints,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzr.name==C$Tzt)return C$Tzr;}return null;},C$Tze.prototype.findTransformConstraint=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2842]);for(var C$Tze=this.transformConstraints,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzr.name==C$Tzt)return C$Tzr;}return null;},C$Tze.prototype.findPathConstraint=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2842]);for(var C$Tze=this.pathConstraints,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++){var C$Tzr=C$Tze[C$Tzi];if(C$Tzr.name==C$Tzt)return C$Tzr;}return null;},C$Tze.prototype.findPathConstraintIndex=function(C$Tzt){if(null==C$Tzt)throw new Error(H[2850]);for(var C$Tze=this.pathConstraints,C$Tzi=0,C$Tzn=C$Tze.length;C$Tzi<C$Tzn;C$Tzi++)if(C$Tze[C$Tzi].name==C$Tzt)return C$Tzi;return-1;},C$Tzt.SkeletonData=C$Tze;}(C$Tzt=C$Tzt||{}),function(C$Tzet){function C$TzL(C$Tzt){this.scale=1,this.linkedMeshes=[],this.attachmentLoader=C$Tzt;}C$TzL.prototype.readSkeletonData=function(C$Tzt){var C$Tzh=this.scale,C$Tze=new C$Tzet.SkeletonData(),C$Tzi=H[462]==typeof C$Tzt?JSON.parse(C$Tzt):C$Tzt,C$Tzt=C$Tzi.skeleton;if(null!=C$Tzt&&(C$Tze.hash=C$Tzt.hash,C$Tze.version=C$Tzt.spine,C$Tze.x=C$Tzt.x,C$Tze.y=C$Tzt.y,C$Tze.width=C$Tzt.width,C$Tze.height=C$Tzt.height,C$Tze.fps=C$Tzt.fps,C$Tze.imagesPath=C$Tzt.images),C$Tzi.bones)for(var C$Tzn=0;C$Tzn<C$Tzi.bones.length;C$Tzn++){var C$Tzr=C$Tzi.bones[C$Tzn],C$Tzu=null,C$Tz_=this.getValue(C$Tzr,H[700],null);if(null!=C$Tz_&&null==(C$Tzu=C$Tze.findBone(C$Tz_)))throw new Error(H[2851]+C$Tz_);(C$Tzo=new C$Tzet.BoneData(C$Tze.bones.length,C$Tzr.name,C$Tzu)).length=this.getValue(C$Tzr,H[2562],0)*C$Tzh,C$Tzo.x=this.getValue(C$Tzr,"x",0)*C$Tzh,C$Tzo.y=this.getValue(C$Tzr,"y",0)*C$Tzh,C$Tzo.rotation=this.getValue(C$Tzr,H[2646],0),C$Tzo.scaleX=this.getValue(C$Tzr,H[1976],1),C$Tzo.scaleY=this.getValue(C$Tzr,H[1977],1),C$Tzo.shearX=this.getValue(C$Tzr,H[2852],0),C$Tzo.shearY=this.getValue(C$Tzr,H[2853],0),C$Tzo.transformMode=C$TzL.transformModeFromString(this.getValue(C$Tzr,H[2854],H[1251])),C$Tzo.skinRequired=this.getValue(C$Tzr,H[2855],!1),C$Tze.bones.push(C$Tzo);}if(C$Tzi.slots)for(C$Tzn=0;C$Tzn<C$Tzi.slots.length;C$Tzn++){var C$Tzd=(C$TzC=C$Tzi.slots[C$Tzn]).name,C$Tzs=C$TzC.bone,C$Tzf=C$Tze.findBone(C$Tzs);if(null==C$Tzf)throw new Error(H[2856]+C$Tzs);var C$Tzo=new C$Tzet.SlotData(C$Tze.slots.length,C$Tzd,C$Tzf),C$Tzf=this.getValue(C$TzC,H[1737],null),C$Tzf=(null!=C$Tzf&&C$Tzo.color.setFromString(C$Tzf),this.getValue(C$TzC,H[2857],null));null!=C$Tzf&&(C$Tzo.darkColor=new C$Tzet.Color(1,1,1,1),C$Tzo.darkColor.setFromString(C$Tzf)),C$Tzo.attachmentName=this.getValue(C$TzC,H[2789],null),C$Tzo.blendMode=C$TzL.blendModeFromString(this.getValue(C$TzC,H[2858],H[1251])),C$Tze.slots.push(C$Tzo);}if(C$Tzi.ik)for(C$Tzn=0;C$Tzn<C$Tzi.ik.length;C$Tzn++){var C$Tza=C$Tzi.ik[C$Tzn];(C$Tzo=new C$Tzet.IkConstraintData(C$Tza.name)).order=this.getValue(C$Tza,H[2859],0),C$Tzo.skinRequired=this.getValue(C$Tza,H[2855],!1);for(var C$Tzp=0;C$Tzp<C$Tza.bones.length;C$Tzp++){C$Tzs=C$Tza.bones[C$Tzp];if(null==(C$Tzx=C$Tze.findBone(C$Tzs)))throw new Error(H[2860]+C$Tzs);C$Tzo.bones.push(C$Tzx);}var C$Tzm=C$Tza.target;if(C$Tzo.target=C$Tze.findBone(C$Tzm),null==C$Tzo.target)throw new Error(H[2861]+C$Tzm);C$Tzo.mix=this.getValue(C$Tza,H[2862],1),C$Tzo.softness=this.getValue(C$Tza,H[2863],0)*C$Tzh,C$Tzo.bendDirection=this.getValue(C$Tza,H[2864],!0)?1:-1,C$Tzo.compress=this.getValue(C$Tza,H[2865],!1),C$Tzo.stretch=this.getValue(C$Tza,H[2866],!1),C$Tzo.uniform=this.getValue(C$Tza,H[2867],!1),C$Tze.ikConstraints.push(C$Tzo);}if(C$Tzi.transform)for(C$Tzn=0;C$Tzn<C$Tzi.transform.length;C$Tzn++){C$Tza=C$Tzi.transform[C$Tzn];(C$Tzo=new C$Tzet.TransformConstraintData(C$Tza.name)).order=this.getValue(C$Tza,H[2859],0),C$Tzo.skinRequired=this.getValue(C$Tza,H[2855],!1);for(C$Tzp=0;C$Tzp<C$Tza.bones.length;C$Tzp++){C$Tzs=C$Tza.bones[C$Tzp];if(null==(C$Tzx=C$Tze.findBone(C$Tzs)))throw new Error(H[2868]+C$Tzs);C$Tzo.bones.push(C$Tzx);}C$Tzm=C$Tza.target;if(C$Tzo.target=C$Tze.findBone(C$Tzm),null==C$Tzo.target)throw new Error(H[2869]+C$Tzm);C$Tzo.local=this.getValue(C$Tza,H[2870],!1),C$Tzo.relative=this.getValue(C$Tza,H[2871],!1),C$Tzo.offsetRotation=this.getValue(C$Tza,H[2646],0),C$Tzo.offsetX=this.getValue(C$Tza,"x",0)*C$Tzh,C$Tzo.offsetY=this.getValue(C$Tza,"y",0)*C$Tzh,C$Tzo.offsetScaleX=this.getValue(C$Tza,H[1976],0),C$Tzo.offsetScaleY=this.getValue(C$Tza,H[1977],0),C$Tzo.offsetShearY=this.getValue(C$Tza,H[2853],0),C$Tzo.rotateMix=this.getValue(C$Tza,H[2872],1),C$Tzo.translateMix=this.getValue(C$Tza,H[2873],1),C$Tzo.scaleMix=this.getValue(C$Tza,H[2874],1),C$Tzo.shearMix=this.getValue(C$Tza,H[2875],1),C$Tze.transformConstraints.push(C$Tzo);}if(C$Tzi.path)for(C$Tzn=0;C$Tzn<C$Tzi.path.length;C$Tzn++){C$Tza=C$Tzi.path[C$Tzn];(C$Tzo=new C$Tzet.PathConstraintData(C$Tza.name)).order=this.getValue(C$Tza,H[2859],0),C$Tzo.skinRequired=this.getValue(C$Tza,H[2855],!1);for(C$Tzp=0;C$Tzp<C$Tza.bones.length;C$Tzp++){C$Tzs=C$Tza.bones[C$Tzp];if(null==(C$Tzx=C$Tze.findBone(C$Tzs)))throw new Error(H[2868]+C$Tzs);C$Tzo.bones.push(C$Tzx);}C$Tzm=C$Tza.target;if(C$Tzo.target=C$Tze.findSlot(C$Tzm),null==C$Tzo.target)throw new Error(H[2876]+C$Tzm);C$Tzo.positionMode=C$TzL.positionModeFromString(this.getValue(C$Tza,H[2877],H[2878])),C$Tzo.spacingMode=C$TzL.spacingModeFromString(this.getValue(C$Tza,H[2879],H[2562])),C$Tzo.rotateMode=C$TzL.rotateModeFromString(this.getValue(C$Tza,H[2880],H[2881])),C$Tzo.offsetRotation=this.getValue(C$Tza,H[2646],0),C$Tzo.position=this.getValue(C$Tza,H[474],0),C$Tzo.positionMode==C$Tzet.PositionMode.Fixed&&(C$Tzo.position*=C$Tzh),C$Tzo.spacing=this.getValue(C$Tza,H[2626],0),C$Tzo.spacingMode!=C$Tzet.SpacingMode.Length&&C$Tzo.spacingMode!=C$Tzet.SpacingMode.Fixed||(C$Tzo.spacing*=C$Tzh),C$Tzo.rotateMix=this.getValue(C$Tza,H[2872],1),C$Tzo.translateMix=this.getValue(C$Tza,H[2873],1),C$Tze.pathConstraints.push(C$Tzo);}if(C$Tzi.skins){var C$Tzy=C$Tzi.skins;if(!(C$Tzy instanceof Array)){var C$Tzg,C$Tzv=[];for(C$Tzg in C$Tzy)C$Tzv.push({name:C$Tzg,attachments:C$Tzy[C$Tzg]});C$Tzy=C$Tzv;}for(C$Tzn=0;C$Tzn<C$Tzy.length;C$Tzn++){var C$Tzx,C$Tzb,C$Tzc=C$Tzy[C$Tzn],C$TzA=new C$Tzet.Skin(C$Tzc.name);if(C$Tzc.bones)for(var C$Tzl=0;C$Tzl<C$Tzc.bones.length;C$Tzl++){if(null==(C$Tzx=C$Tze.findBone(C$Tzc.bones[C$Tzl])))throw new Error(H[2882]+C$Tzc.bones[C$Tzn]);C$TzA.bones.push(C$Tzx);}if(C$Tzc.ik)for(C$Tzl=0;C$Tzl<C$Tzc.ik.length;C$Tzl++){if(null==(C$Tzb=C$Tze.findIkConstraint(C$Tzc.ik[C$Tzl])))throw new Error(H[2883]+C$Tzc.ik[C$Tzn]);C$TzA.constraints.push(C$Tzb);}if(C$Tzc.transform)for(C$Tzl=0;C$Tzl<C$Tzc.transform.length;C$Tzl++){if(null==(C$Tzb=C$Tze.findTransformConstraint(C$Tzc.transform[C$Tzl])))throw new Error(H[2884]+C$Tzc.transform[C$Tzn]);C$TzA.constraints.push(C$Tzb);}if(C$Tzc.path)for(C$Tzl=0;C$Tzl<C$Tzc.path.length;C$Tzl++){if(null==(C$Tzb=C$Tze.findPathConstraint(C$Tzc.path[C$Tzl])))throw new Error(H[2885]+C$Tzc.path[C$Tzn]);C$TzA.constraints.push(C$Tzb);}for(C$Tzd in C$Tzc.attachments){var C$TzC,C$TzS,C$TzT=C$Tze.findSlot(C$Tzd);if(null==C$TzT)throw new Error(H[2841]+C$Tzd);for(C$TzS in C$TzC=C$Tzc.attachments[C$Tzd]){var C$Tzw=this.readAttachment(C$TzC[C$TzS],C$TzA,C$TzT.index,C$TzS,C$Tze);null!=C$Tzw&&C$TzA.setAttachment(C$TzT.index,C$TzS,C$Tzw);}}C$Tze.skins.push(C$TzA),H[1099]==C$TzA.name&&(C$Tze.defaultSkin=C$TzA);}}for(var C$Tzn=0,C$TzE=this.linkedMeshes.length;C$Tzn<C$TzE;C$Tzn++){var C$TzM=this.linkedMeshes[C$Tzn];if(null==(C$TzA=null==C$TzM.skin?C$Tze.defaultSkin:C$Tze.findSkin(C$TzM.skin)))throw new Error(H[2837]+C$TzM.skin);var C$TzI=C$TzA.getAttachment(C$TzM.slotIndex,C$TzM.parent);if(null==C$TzI)throw new Error(H[2845]+C$TzM.parent);C$TzM.mesh.deformAttachment=C$TzM.inheritDeform?C$TzI:C$TzM.mesh,C$TzM.mesh.setParentMesh(C$TzI),C$TzM.mesh.updateUVs();}if(this.linkedMeshes.length=0,C$Tzi.events)for(var C$TzB in C$Tzi.events){var C$TzR=C$Tzi.events[C$TzB];(C$Tzo=new C$Tzet.EventData(C$TzB)).intValue=this.getValue(C$TzR,H[2441],0),C$Tzo.floatValue=this.getValue(C$TzR,H[2445],0),C$Tzo.stringValue=this.getValue(C$TzR,H[462],""),C$Tzo.audioPath=this.getValue(C$TzR,H[508],null),null!=C$Tzo.audioPath&&(C$Tzo.volume=this.getValue(C$TzR,H[520],1),C$Tzo.balance=this.getValue(C$TzR,H[2886],0)),C$Tze.events.push(C$Tzo);}if(C$Tzi.animations)for(var C$TzP in C$Tzi.animations){var C$TzD=C$Tzi.animations[C$TzP];this.readAnimation(C$TzD,C$TzP,C$Tze);}return C$Tze;},C$TzL.prototype.readAttachment=function(C$Tzt,C$Tze,C$Tzh,C$Tzi,C$Tzu){var C$Tzn=this.scale;switch(C$Tzi=this.getValue(C$Tzt,H[488],C$Tzi),this.getValue(C$Tzt,H[1102],H[2887])){case H[2887]:var C$Tzr=this.getValue(C$Tzt,H[2888],C$Tzi),C$Tzs=this.attachmentLoader.newRegionAttachment(C$Tze,C$Tzi,C$Tzr);return null==C$Tzs?null:(C$Tzs.path=C$Tzr,C$Tzs.x=this.getValue(C$Tzt,"x",0)*C$Tzn,C$Tzs.y=this.getValue(C$Tzt,"y",0)*C$Tzn,C$Tzs.scaleX=this.getValue(C$Tzt,H[1976],1),C$Tzs.scaleY=this.getValue(C$Tzt,H[1977],1),C$Tzs.rotation=this.getValue(C$Tzt,H[2646],0),C$Tzs.width=C$Tzt.width*C$Tzn,C$Tzs.height=C$Tzt.height*C$Tzn,null!=(C$Tzl=this.getValue(C$Tzt,H[1737],null))&&C$Tzs.color.setFromString(C$Tzl),C$Tzs.updateOffset(),C$Tzs);case H[2889]:C$Tzs=this.attachmentLoader.newBoundingBoxAttachment(C$Tze,C$Tzi);return null==C$Tzs?null:(this.readVertices(C$Tzt,C$Tzs,C$Tzt.vertexCount<<1),null!=(C$Tzl=this.getValue(C$Tzt,H[1737],null))&&C$Tzs.color.setFromString(C$Tzl),C$Tzs);case H[1252]:case H[2890]:var C$Tzr=this.getValue(C$Tzt,H[2888],C$Tzi),C$Tzs=this.attachmentLoader.newMeshAttachment(C$Tze,C$Tzi,C$Tzr);if(null==C$Tzs)return null;C$Tzs.path=C$Tzr;null!=(C$Tzl=this.getValue(C$Tzt,H[1737],null))&&C$Tzs.color.setFromString(C$Tzl),C$Tzs.width=this.getValue(C$Tzt,H[572],0)*C$Tzn,C$Tzs.height=this.getValue(C$Tzt,H[574],0)*C$Tzn;var C$Tzo=this.getValue(C$Tzt,H[700],null);if(null!=C$Tzo)return this.linkedMeshes.push(new C$Tzd(C$Tzs,this.getValue(C$Tzt,H[2855],null),C$Tzh,C$Tzo,this.getValue(C$Tzt,H[2790],!0))),C$Tzs;C$Tzo=C$Tzt.uvs;return this.readVertices(C$Tzt,C$Tzs,C$Tzo.length),C$Tzs.triangles=C$Tzt.triangles,C$Tzs.regionUVs=C$Tzo,C$Tzs.updateUVs(),C$Tzs.edges=this.getValue(C$Tzt,H[2891],null),C$Tzs.hullLength=2*this.getValue(C$Tzt,H[2892],0),C$Tzs;case H[2888]:if(null==(C$Tzr=this.attachmentLoader.newPathAttachment(C$Tze,C$Tzi)))return null;C$Tzr.closed=this.getValue(C$Tzt,H[2893],!1),C$Tzr.constantSpeed=this.getValue(C$Tzt,H[2894],!0);for(var C$Tza=C$Tzt.vertexCount,C$Tz_=(this.readVertices(C$Tzt,C$Tzr,C$Tza<<1),C$Tzet.Utils.newArray(C$Tza/3,0)),C$Tzc=0;C$Tzc<C$Tzt.lengths.length;C$Tzc++)C$Tz_[C$Tzc]=C$Tzt.lengths[C$Tzc]*C$Tzn;return C$Tzr.lengths=C$Tz_,null!=(C$Tzl=this.getValue(C$Tzt,H[1737],null))&&C$Tzr.color.setFromString(C$Tzl),C$Tzr;case H[2895]:C$Tzo=this.attachmentLoader.newPointAttachment(C$Tze,C$Tzi);return null==C$Tzo?null:(C$Tzo.x=this.getValue(C$Tzt,"x",0)*C$Tzn,C$Tzo.y=this.getValue(C$Tzt,"y",0)*C$Tzn,C$Tzo.rotation=this.getValue(C$Tzt,H[2646],0),null!=(C$Tzl=this.getValue(C$Tzt,H[1737],null))&&C$Tzo.color.setFromString(C$Tzl),C$Tzo);case H[2896]:C$Tzs=this.attachmentLoader.newClippingAttachment(C$Tze,C$Tzi);if(null==C$Tzs)return null;C$Tzr=this.getValue(C$Tzt,H[2805],null);if(null!=C$Tzr){C$Tzo=C$Tzu.findSlot(C$Tzr);if(null==C$Tzo)throw new Error(H[2897]+C$Tzr);C$Tzs.endSlot=C$Tzo;}var C$Tzl,C$Tza=C$Tzt.vertexCount;return this.readVertices(C$Tzt,C$Tzs,C$Tza<<1),null!=(C$Tzl=this.getValue(C$Tzt,H[1737],null))&&C$Tzs.color.setFromString(C$Tzl),C$Tzs;}return null;},C$TzL.prototype.readVertices=function(C$Tzh,C$Tzt,C$Tze){var C$Tzi=this.scale,C$Tzn=(C$Tzt.worldVerticesLength=C$Tze,C$Tzh.vertices);if(C$Tze!=C$Tzn.length){for(var C$Tzr=[],C$Tzs=[],C$Tzo=0,C$Tza=C$Tzn.length;C$Tzo<C$Tza;){var C$Tzc=C$Tzn[C$Tzo++];C$Tzs.push(C$Tzc);for(var C$Tzu=C$Tzo+4*C$Tzc;C$Tzo<C$Tzu;C$Tzo+=4)C$Tzs.push(C$Tzn[C$Tzo]),C$Tzr.push(C$Tzn[C$Tzo+1]*C$Tzi),C$Tzr.push(C$Tzn[C$Tzo+2]*C$Tzi),C$Tzr.push(C$Tzn[C$Tzo+3]);}C$Tzt.bones=C$Tzs,C$Tzt.vertices=C$Tzet.Utils.toFloatArray(C$Tzr);}else{var C$Tzl=C$Tzet.Utils.toFloatArray(C$Tzn);if(1!=C$Tzi)for(var C$Tzo=0,C$Tza=C$Tzn.length;C$Tzo<C$Tza;C$Tzo++)C$Tzl[C$Tzo]*=C$Tzi;C$Tzt.vertices=C$Tzl;}},C$TzL.prototype.readAnimation=function(C$Tzt,C$Tzh,C$Tze){var C$Tzu=this.scale,C$Tzi=[],C$Tzn=0;if(C$Tzt.slots)for(var C$Tz_ in C$Tzt.slots){var C$Tzd=C$Tzt.slots[C$Tz_];if(-1==(C$TzZ=C$Tze.findSlotIndex(C$Tz_)))throw new Error(H[2841]+C$Tz_);for(C$Tzl in C$Tzd){var C$Tzr=C$Tzd[C$Tzl];if(H[2789]==C$Tzl){(C$Tzc=new C$Tzet.AttachmentTimeline(C$Tzr.length)).slotIndex=C$TzZ;for(var C$Tzs=0,C$Tzo=0;C$Tzo<C$Tzr.length;C$Tzo++){var C$Tza=C$Tzr[C$Tzo];C$Tzc.setFrame(C$Tzs++,this.getValue(C$Tza,H[2898],0),C$Tza.name);}C$Tzi.push(C$Tzc),C$Tzn=Math.max(C$Tzn,C$Tzc.frames[C$Tzc.getFrameCount()-1]);}else if(H[1737]==C$Tzl){for(C$Tzs=((C$Tzc=new C$Tzet.ColorTimeline(C$Tzr.length)).slotIndex=C$TzZ,0),C$Tzo=0;C$Tzo<C$Tzr.length;C$Tzo++){var C$Tza=C$Tzr[C$Tzo],C$Tzf=new C$Tzet.Color();C$Tzf.setFromString(C$Tza.color),C$Tzc.setFrame(C$Tzs,this.getValue(C$Tza,H[2898],0),C$Tzf.r,C$Tzf.g,C$Tzf.b,C$Tzf.a),this.readCurve(C$Tza,C$Tzc,C$Tzs),C$Tzs++;}C$Tzi.push(C$Tzc),C$Tzn=Math.max(C$Tzn,C$Tzc.frames[(C$Tzc.getFrameCount()-1)*C$Tzet.ColorTimeline.ENTRIES]);}else{if(H[2798]!=C$Tzl)throw new Error(H[2899]+C$Tzl+H[2900]+C$Tz_+")");for(C$Tzs=((C$Tzc=new C$Tzet.TwoColorTimeline(C$Tzr.length)).slotIndex=C$TzZ,0),C$Tzo=0;C$Tzo<C$Tzr.length;C$Tzo++){var C$Tza=C$Tzr[C$Tzo],C$Tzp=new C$Tzet.Color(),C$Tzm=new C$Tzet.Color();C$Tzp.setFromString(C$Tza.light),C$Tzm.setFromString(C$Tza.dark),C$Tzc.setFrame(C$Tzs,this.getValue(C$Tza,H[2898],0),C$Tzp.r,C$Tzp.g,C$Tzp.b,C$Tzp.a,C$Tzm.r,C$Tzm.g,C$Tzm.b),this.readCurve(C$Tza,C$Tzc,C$Tzs),C$Tzs++;}C$Tzi.push(C$Tzc),C$Tzn=Math.max(C$Tzn,C$Tzc.frames[(C$Tzc.getFrameCount()-1)*C$Tzet.TwoColorTimeline.ENTRIES]);}}}if(C$Tzt.bones)for(var C$Tzy in C$Tzt.bones){var C$Tzg=C$Tzt.bones[C$Tzy],C$Tzv=C$Tze.findBoneIndex(C$Tzy);if(-1==C$Tzv)throw new Error(H[2901]+C$Tzy);for(C$Tzl in C$Tzg){C$Tzr=C$Tzg[C$Tzl];if(H[2785]===C$Tzl){for(C$Tzs=((C$Tzc=new C$Tzet.RotateTimeline(C$Tzr.length)).boneIndex=C$Tzv,0),C$Tzo=0;C$Tzo<C$Tzr.length;C$Tzo++){C$Tza=C$Tzr[C$Tzo];C$Tzc.setFrame(C$Tzs,this.getValue(C$Tza,H[2898],0),this.getValue(C$Tza,H[2902],0)),this.readCurve(C$Tza,C$Tzc,C$Tzs),C$Tzs++;}C$Tzi.push(C$Tzc),C$Tzn=Math.max(C$Tzn,C$Tzc.frames[(C$Tzc.getFrameCount()-1)*C$Tzet.RotateTimeline.ENTRIES]);}else{if(H[2786]!==C$Tzl&&H[2787]!==C$Tzl&&H[2788]!==C$Tzl)throw new Error(H[2903]+C$Tzl+H[2900]+C$Tzy+")");for(var C$Tzc=null,C$Tzx=1,C$Tzb=0,C$Tzs=(H[2787]===C$Tzl?(C$Tzc=new C$Tzet.ScaleTimeline(C$Tzr.length),C$Tzb=1):H[2788]===C$Tzl?C$Tzc=new C$Tzet.ShearTimeline(C$Tzr.length):(C$Tzc=new C$Tzet.TranslateTimeline(C$Tzr.length),C$Tzx=C$Tzu),C$Tzc.boneIndex=C$Tzv,0),C$Tzo=0;C$Tzo<C$Tzr.length;C$Tzo++){var C$Tza=C$Tzr[C$Tzo],C$TzA=this.getValue(C$Tza,"x",C$Tzb),C$TzC=this.getValue(C$Tza,"y",C$Tzb);C$Tzc.setFrame(C$Tzs,this.getValue(C$Tza,H[2898],0),C$TzA*C$Tzx,C$TzC*C$Tzx),this.readCurve(C$Tza,C$Tzc,C$Tzs),C$Tzs++;}C$Tzi.push(C$Tzc),C$Tzn=Math.max(C$Tzn,C$Tzc.frames[(C$Tzc.getFrameCount()-1)*C$Tzet.TranslateTimeline.ENTRIES]);}}}if(C$Tzt.ik)for(var C$TzS in C$Tzt.ik){for(var C$TzT=C$Tzt.ik[C$TzS],C$Tzw=C$Tze.findIkConstraint(C$TzS),C$Tzs=((C$Tzc=new C$Tzet.IkConstraintTimeline(C$TzT.length)).ikConstraintIndex=C$Tze.ikConstraints.indexOf(C$Tzw),0),C$Tzo=0;C$Tzo<C$TzT.length;C$Tzo++){C$Tza=C$TzT[C$Tzo];C$Tzc.setFrame(C$Tzs,this.getValue(C$Tza,H[2898],0),this.getValue(C$Tza,H[2862],1),this.getValue(C$Tza,H[2863],0)*C$Tzu,this.getValue(C$Tza,H[2864],!0)?1:-1,this.getValue(C$Tza,H[2865],!1),this.getValue(C$Tza,H[2866],!1)),this.readCurve(C$Tza,C$Tzc,C$Tzs),C$Tzs++;}C$Tzi.push(C$Tzc),C$Tzn=Math.max(C$Tzn,C$Tzc.frames[(C$Tzc.getFrameCount()-1)*C$Tzet.IkConstraintTimeline.ENTRIES]);}if(C$Tzt.transform)for(var C$TzS in C$Tzt.transform){for(C$TzT=C$Tzt.transform[C$TzS],C$Tzw=C$Tze.findTransformConstraint(C$TzS),C$Tzs=((C$Tzc=new C$Tzet.TransformConstraintTimeline(C$TzT.length)).transformConstraintIndex=C$Tze.transformConstraints.indexOf(C$Tzw),0),C$Tzo=0;C$Tzo<C$TzT.length;C$Tzo++){C$Tza=C$TzT[C$Tzo];C$Tzc.setFrame(C$Tzs,this.getValue(C$Tza,H[2898],0),this.getValue(C$Tza,H[2872],1),this.getValue(C$Tza,H[2873],1),this.getValue(C$Tza,H[2874],1),this.getValue(C$Tza,H[2875],1)),this.readCurve(C$Tza,C$Tzc,C$Tzs),C$Tzs++;}C$Tzi.push(C$Tzc),C$Tzn=Math.max(C$Tzn,C$Tzc.frames[(C$Tzc.getFrameCount()-1)*C$Tzet.TransformConstraintTimeline.ENTRIES]);}var C$TzE=C$Tzt.path||C$Tzt.paths;if(C$TzE)for(var C$TzS in C$TzE){var C$TzT=C$TzE[C$TzS],C$TzM=C$Tze.findPathConstraintIndex(C$TzS);if(-1==C$TzM)throw new Error(H[2904]+C$TzS);var C$TzI=C$Tze.pathConstraints[C$TzM];for(C$Tzl in C$TzT){C$Tzr=C$TzT[C$Tzl];if(H[474]===C$Tzl||H[2626]===C$Tzl){for(C$Tzc=null,C$Tzx=1,C$Tzs=(H[2626]===C$Tzl?(C$Tzc=new C$Tzet.PathConstraintSpacingTimeline(C$Tzr.length),C$TzI.spacingMode!=C$Tzet.SpacingMode.Length&&C$TzI.spacingMode!=C$Tzet.SpacingMode.Fixed||(C$Tzx=C$Tzu)):(C$Tzc=new C$Tzet.PathConstraintPositionTimeline(C$Tzr.length),C$TzI.positionMode==C$Tzet.PositionMode.Fixed&&(C$Tzx=C$Tzu)),C$Tzc.pathConstraintIndex=C$TzM,0),C$Tzo=0;C$Tzo<C$Tzr.length;C$Tzo++){C$Tza=C$Tzr[C$Tzo];C$Tzc.setFrame(C$Tzs,this.getValue(C$Tza,H[2898],0),this.getValue(C$Tza,C$Tzl,0)*C$Tzx),this.readCurve(C$Tza,C$Tzc,C$Tzs),C$Tzs++;}C$Tzi.push(C$Tzc),C$Tzn=Math.max(C$Tzn,C$Tzc.frames[(C$Tzc.getFrameCount()-1)*C$Tzet.PathConstraintPositionTimeline.ENTRIES]);}else if(H[2862]===C$Tzl){for(C$Tzs=((C$Tzc=new C$Tzet.PathConstraintMixTimeline(C$Tzr.length)).pathConstraintIndex=C$TzM,0),C$Tzo=0;C$Tzo<C$Tzr.length;C$Tzo++){C$Tza=C$Tzr[C$Tzo];C$Tzc.setFrame(C$Tzs,this.getValue(C$Tza,H[2898],0),this.getValue(C$Tza,H[2872],1),this.getValue(C$Tza,H[2873],1)),this.readCurve(C$Tza,C$Tzc,C$Tzs),C$Tzs++;}C$Tzi.push(C$Tzc),C$Tzn=Math.max(C$Tzn,C$Tzc.frames[(C$Tzc.getFrameCount()-1)*C$Tzet.PathConstraintMixTimeline.ENTRIES]);}}}if(C$Tzt.deform)for(var C$TzB in C$Tzt.deform){var C$TzR=C$Tzt.deform[C$TzB],C$TzP=C$Tze.findSkin(C$TzB);if(null==C$TzP)throw new Error(H[2837]+C$TzB);for(C$Tz_ in C$TzR){var C$Tzl,C$Tzd=C$TzR[C$Tz_];if(-1==(C$TzZ=C$Tze.findSlotIndex(C$Tz_)))throw new Error(H[2841]+C$Tzd.name);for(C$Tzl in C$Tzd){var C$Tzr=C$Tzd[C$Tzl],C$TzD=C$TzP.getAttachment(C$TzZ,C$Tzl);if(null!=C$TzD){for(var C$TzL=null!=C$TzD.bones,C$TzV=C$TzD.vertices,C$TzO=C$TzL?C$TzV.length/3*2:C$TzV.length,C$Tzs=((C$Tzc=new C$Tzet.DeformTimeline(C$Tzr.length)).slotIndex=C$TzZ,C$Tzc.attachment=C$TzD,0),C$TzF=0;C$TzF<C$Tzr.length;C$TzF++){var C$Tza=C$Tzr[C$TzF],C$TzN=void 0,C$Tzk=this.getValue(C$Tza,H[2905],null);if(null==C$Tzk)C$TzN=C$TzL?C$Tzet.Utils.newFloatArray(C$TzO):C$TzV;else{var C$TzN=C$Tzet.Utils.newFloatArray(C$TzO),C$TzG=this.getValue(C$Tza,H[1733],0);if(C$Tzet.Utils.arrayCopy(C$Tzk,0,C$TzN,C$TzG,C$Tzk.length),1!=C$Tzu)for(var C$Tzz=(C$Tzo=C$TzG)+C$Tzk.length;C$Tzo<C$Tzz;C$Tzo++)C$TzN[C$Tzo]*=C$Tzu;if(!C$TzL)for(C$Tzo=0;C$Tzo<C$TzO;C$Tzo++)C$TzN[C$Tzo]+=C$TzV[C$Tzo];}C$Tzc.setFrame(C$Tzs,this.getValue(C$Tza,H[2898],0),C$TzN),this.readCurve(C$Tza,C$Tzc,C$Tzs),C$Tzs++;}C$Tzi.push(C$Tzc),C$Tzn=Math.max(C$Tzn,C$Tzc.frames[C$Tzc.getFrameCount()-1]);}}}}var C$TzU=C$Tzt.drawOrder;if(null!=(C$TzU=null==C$TzU?C$Tzt.draworder:C$TzU)){for(var C$Tzc=new C$Tzet.DrawOrderTimeline(C$TzU.length),C$TzW=C$Tze.slots.length,C$Tzs=0,C$TzF=0;C$TzF<C$TzU.length;C$TzF++){var C$TzH=C$TzU[C$TzF],C$Tzj=null,C$TzX=this.getValue(C$TzH,H[2906],null);if(null!=C$TzX){for(var C$Tzj=C$Tzet.Utils.newArray(C$TzW,-1),C$TzY=C$Tzet.Utils.newArray(C$TzW-C$TzX.length,0),C$Tzq=0,C$TzJ=0,C$Tzo=0;C$Tzo<C$TzX.length;C$Tzo++){var C$TzZ,C$TzK=C$TzX[C$Tzo];if(-1==(C$TzZ=C$Tze.findSlotIndex(C$TzK.slot)))throw new Error(H[2841]+C$TzK.slot);for(;C$Tzq!=C$TzZ;)C$TzY[C$TzJ++]=C$Tzq++;C$Tzj[C$Tzq+C$TzK.offset]=C$Tzq++;}for(;C$Tzq<C$TzW;)C$TzY[C$TzJ++]=C$Tzq++;for(C$Tzo=C$TzW-1;0<=C$Tzo;C$Tzo--)-1==C$Tzj[C$Tzo]&&(C$Tzj[C$Tzo]=C$TzY[--C$TzJ]);}C$Tzc.setFrame(C$Tzs++,this.getValue(C$TzH,H[2898],0),C$Tzj);}C$Tzi.push(C$Tzc),C$Tzn=Math.max(C$Tzn,C$Tzc.frames[C$Tzc.getFrameCount()-1]);}if(C$Tzt.events){for(C$Tzc=new C$Tzet.EventTimeline(C$Tzt.events.length),C$Tzs=0,C$Tzo=0;C$Tzo<C$Tzt.events.length;C$Tzo++){var C$TzQ=C$Tzt.events[C$Tzo],C$Tz$=C$Tze.findEvent(C$TzQ.name);if(null==C$Tz$)throw new Error(H[2907]+C$TzQ.name);var C$Tztt=new C$Tzet.Event(C$Tzet.Utils.toSinglePrecision(this.getValue(C$TzQ,H[2898],0)),C$Tz$);C$Tztt.intValue=this.getValue(C$TzQ,H[2441],C$Tz$.intValue),C$Tztt.floatValue=this.getValue(C$TzQ,H[2445],C$Tz$.floatValue),C$Tztt.stringValue=this.getValue(C$TzQ,H[462],C$Tz$.stringValue),null!=C$Tztt.data.audioPath&&(C$Tztt.volume=this.getValue(C$TzQ,H[520],1),C$Tztt.balance=this.getValue(C$TzQ,H[2886],0)),C$Tzc.setFrame(C$Tzs++,C$Tztt);}C$Tzi.push(C$Tzc),C$Tzn=Math.max(C$Tzn,C$Tzc.frames[C$Tzc.getFrameCount()-1]);}if(isNaN(C$Tzn))throw new Error(H[2908]);C$Tze.animations.push(new C$Tzet.Animation(C$Tzh,C$Tzi,C$Tzn));},C$TzL.prototype.readCurve=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.curve;C$Tzn&&(H[2909]==C$Tzn?C$Tze.setStepped(C$Tzi):H[2910]===Object.prototype.toString.call(C$Tzn)?C$Tze.setCurve(C$Tzi,C$Tzn[0],C$Tzn[1],C$Tzn[2],C$Tzn[3]):C$Tze.setCurve(C$Tzi,C$Tzn,this.getValue(C$Tzt,H[2911],0),this.getValue(C$Tzt,H[2912],1),this.getValue(C$Tzt,H[2913],1)));},C$TzL.prototype.getValue=function(C$Tzt,C$Tze,C$Tzi){return void 0!==C$Tzt[C$Tze]?C$Tzt[C$Tze]:C$Tzi;},C$TzL.blendModeFromString=function(C$Tzt){if(H[1251]==(C$Tzt=C$Tzt.toLowerCase()))return C$Tzet.BlendMode.Normal;if(H[2914]==C$Tzt)return C$Tzet.BlendMode.Additive;if(H[2915]==C$Tzt)return C$Tzet.BlendMode.Multiply;if(H[2916]==C$Tzt)return C$Tzet.BlendMode.Screen;throw new Error(H[2917]+C$Tzt);},C$TzL.positionModeFromString=function(C$Tzt){if(H[1523]==(C$Tzt=C$Tzt.toLowerCase()))return C$Tzet.PositionMode.Fixed;if(H[2878]==C$Tzt)return C$Tzet.PositionMode.Percent;throw new Error(H[2918]+C$Tzt);},C$TzL.spacingModeFromString=function(C$Tzt){if(H[2562]==(C$Tzt=C$Tzt.toLowerCase()))return C$Tzet.SpacingMode.Length;if(H[1523]==C$Tzt)return C$Tzet.SpacingMode.Fixed;if(H[2878]==C$Tzt)return C$Tzet.SpacingMode.Percent;throw new Error(H[2918]+C$Tzt);},C$TzL.rotateModeFromString=function(C$Tzt){if(H[2881]==(C$Tzt=C$Tzt.toLowerCase()))return C$Tzet.RotateMode.Tangent;if(H[2919]==C$Tzt)return C$Tzet.RotateMode.Chain;if(H[2920]==C$Tzt)return C$Tzet.RotateMode.ChainScale;throw new Error(H[2921]+C$Tzt);},C$TzL.transformModeFromString=function(C$Tzt){if(H[1251]==(C$Tzt=C$Tzt.toLowerCase()))return C$Tzet.TransformMode.Normal;if(H[2922]==C$Tzt)return C$Tzet.TransformMode.OnlyTranslation;if(H[2923]==C$Tzt)return C$Tzet.TransformMode.NoRotationOrReflection;if(H[2924]==C$Tzt)return C$Tzet.TransformMode.NoScale;if(H[2925]==C$Tzt)return C$Tzet.TransformMode.NoScaleOrReflection;throw new Error(H[2926]+C$Tzt);},C$Tzet.SkeletonJson=C$TzL;var C$Tzd=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){this.mesh=C$Tzt,this.skin=C$Tze,this.slotIndex=C$Tzi,this.parent=C$Tzn,this.inheritDeform=C$Tzr;};}(C$Tzt=C$Tzt||{}),C$Tzp=C$Tzt=C$Tzt||{},C$Tzm=function(C$Tzt,C$Tze,C$Tzi){this.slotIndex=C$Tzt,this.name=C$Tze,this.attachment=C$Tzi;},C$Tzp.SkinEntry=C$Tzm,C$Tzi.prototype.setAttachment=function(C$Tzt,C$Tze,C$Tzi){if(null==C$Tzi)throw new Error(H[2927]);var C$Tzn=this.attachments;C$Tzt>=C$Tzn.length&&(C$Tzn.length=C$Tzt+1),C$Tzn[C$Tzt]||(C$Tzn[C$Tzt]={}),C$Tzn[C$Tzt][C$Tze]=C$Tzi;},C$Tzi.prototype.addSkin=function(C$Tzt){for(var C$Tze=0;C$Tze<C$Tzt.bones.length;C$Tze++){for(var C$Tzi=C$Tzt.bones[C$Tze],C$Tzn=!1,C$Tzr=0;C$Tzr<this.bones.length;C$Tzr++)if(this.bones[C$Tzr]==C$Tzi){C$Tzn=!0;break;}C$Tzn||this.bones.push(C$Tzi);}for(C$Tze=0;C$Tze<C$Tzt.constraints.length;C$Tze++){for(var C$Tzs=C$Tzt.constraints[C$Tze],C$Tzn=!1,C$Tzr=0;C$Tzr<this.constraints.length;C$Tzr++)if(this.constraints[C$Tzr]==C$Tzs){C$Tzn=!0;break;}C$Tzn||this.constraints.push(C$Tzs);}for(var C$Tzo=C$Tzt.getAttachments(),C$Tze=0;C$Tze<C$Tzo.length;C$Tze++){var C$Tza=C$Tzo[C$Tze];this.setAttachment(C$Tza.slotIndex,C$Tza.name,C$Tza.attachment);}},C$Tzi.prototype.copySkin=function(C$Tzt){for(var C$Tze=0;C$Tze<C$Tzt.bones.length;C$Tze++){for(var C$Tzi=C$Tzt.bones[C$Tze],C$Tzn=!1,C$Tzr=0;C$Tzr<this.bones.length;C$Tzr++)if(this.bones[C$Tzr]==C$Tzi){C$Tzn=!0;break;}C$Tzn||this.bones.push(C$Tzi);}for(C$Tze=0;C$Tze<C$Tzt.constraints.length;C$Tze++){for(var C$Tzs=C$Tzt.constraints[C$Tze],C$Tzn=!1,C$Tzr=0;C$Tzr<this.constraints.length;C$Tzr++)if(this.constraints[C$Tzr]==C$Tzs){C$Tzn=!0;break;}C$Tzn||this.constraints.push(C$Tzs);}for(var C$Tzo=C$Tzt.getAttachments(),C$Tze=0;C$Tze<C$Tzo.length;C$Tze++){var C$Tza=C$Tzo[C$Tze];null!=C$Tza.attachment&&(C$Tza.attachment instanceof C$Tzp.MeshAttachment?C$Tza.attachment=C$Tza.attachment.newLinkedMesh():C$Tza.attachment=C$Tza.attachment.copy(),this.setAttachment(C$Tza.slotIndex,C$Tza.name,C$Tza.attachment));}},C$Tzi.prototype.getAttachment=function(C$Tzt,C$Tze){C$Tzt=this.attachments[C$Tzt];return C$Tzt?C$Tzt[C$Tze]:null;},C$Tzi.prototype.removeAttachment=function(C$Tzt,C$Tze){C$Tzt=this.attachments[C$Tzt];C$Tzt&&(C$Tzt[C$Tze]=null);},C$Tzi.prototype.getAttachments=function(){for(var C$Tzt=[],C$Tze=0;C$Tze<this.attachments.length;C$Tze++){var C$Tzi=this.attachments[C$Tze];if(C$Tzi)for(var C$Tzn in C$Tzi){var C$Tzr=C$Tzi[C$Tzn];C$Tzr&&C$Tzt.push(new C$Tzm(C$Tze,C$Tzn,C$Tzr));}}return C$Tzt;},C$Tzi.prototype.getAttachmentsForSlot=function(C$Tzt,C$Tze){var C$Tzi=this.attachments[C$Tzt];if(C$Tzi)for(var C$Tzn in C$Tzi){var C$Tzr=C$Tzi[C$Tzn];C$Tzr&&C$Tze.push(new C$Tzm(C$Tzt,C$Tzn,C$Tzr));}},C$Tzi.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0;},C$Tzi.prototype.attachAll=function(C$Tzt,C$Tze){for(var C$Tzi=0,C$Tzn=0;C$Tzn<C$Tzt.slots.length;C$Tzn++){var C$Tzr=C$Tzt.slots[C$Tzn],C$Tzs=C$Tzr.getAttachment();if(C$Tzs&&C$Tzi<C$Tze.attachments.length){var C$Tzo,C$Tza=C$Tze.attachments[C$Tzi];for(C$Tzo in C$Tza)if(C$Tzs==C$Tza[C$Tzo]){var C$Tzc=this.getAttachment(C$Tzi,C$Tzo);null!=C$Tzc&&C$Tzr.setAttachment(C$Tzc);break;}}C$Tzi++;}},C$Tzp.Skin=C$Tzi,function(C$Tzi){function C$Tzt(C$Tzt,C$Tze){if(this.deform=[],null==C$Tzt)throw new Error(H[2823]);if(null==C$Tze)throw new Error(H[2928]);this.data=C$Tzt,this.bone=C$Tze,this.color=new C$Tzi.Color(),this.darkColor=null==C$Tzt.darkColor?null:new C$Tzi.Color(),this.setToSetupPose();}C$Tzt.prototype.getSkeleton=function(){return this.bone.skeleton;},C$Tzt.prototype.getAttachment=function(){return this.attachment;},C$Tzt.prototype.setAttachment=function(C$Tzt){this.attachment!=C$Tzt&&(this.attachment=C$Tzt,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0);},C$Tzt.prototype.setAttachmentTime=function(C$Tzt){this.attachmentTime=this.bone.skeleton.time-C$Tzt;},C$Tzt.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime;},C$Tzt.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)));},C$Tzi.Slot=C$Tzt;}(C$Tzt=C$Tzt||{}),(C$Tzy=C$Tzt=C$Tzt||{}).SlotData=function(C$Tzt,C$Tze,C$Tzi){if(this.color=new C$Tzy.Color(1,1,1,1),C$Tzt<0)throw new Error(H[2824]);if(null==C$Tze)throw new Error(H[2777]);if(null==C$Tzi)throw new Error(H[2929]);this.index=C$Tzt,this.name=C$Tze,this.boneData=C$Tzi;};var C$Tzn=C$Tzt=C$Tzt||{};C$TzW.prototype.getImage=function(){return this._image;},C$TzW.filterFromString=function(C$Tzt){switch(C$Tzt.toLowerCase()){case H[988]:return C$Tzz.Nearest;case H[2930]:return C$Tzz.Linear;case H[2931]:return C$Tzz.MipMap;case H[2932]:return C$Tzz.MipMapNearestNearest;case H[2933]:return C$Tzz.MipMapLinearNearest;case H[2934]:return C$Tzz.MipMapNearestLinear;case H[2935]:return C$Tzz.MipMapLinearLinear;default:throw new Error(H[2936]+C$Tzt);}},C$TzW.wrapFromString=function(C$Tzt){switch(C$Tzt.toLowerCase()){case H[2937]:return C$TzU.MirroredRepeat;case H[2938]:return C$TzU.ClampToEdge;case H[2939]:return C$TzU.Repeat;default:throw new Error(H[2940]+C$Tzt);}};var C$Tzz,C$TzU,C$Tze=C$TzW;function C$TzW(C$Tzt){this._image=C$Tzt;}C$Tzn.Texture=C$Tze,(C$Tzr=C$Tzz=C$Tzn.TextureFilter||(C$Tzn.TextureFilter={}))[C$Tzr.Nearest=9728]=H[2941],C$Tzr[C$Tzr.Linear=9729]=H[2942],C$Tzr[C$Tzr.MipMap=9987]=H[2943],C$Tzr[C$Tzr.MipMapNearestNearest=9984]=H[2944],C$Tzr[C$Tzr.MipMapLinearNearest=9985]=H[2945],C$Tzr[C$Tzr.MipMapNearestLinear=9986]=H[2946],C$Tzr[C$Tzr.MipMapLinearLinear=9987]=H[2947],(C$Tzr=C$TzU=C$Tzn.TextureWrap||(C$Tzn.TextureWrap={}))[C$Tzr.MirroredRepeat=33648]=H[2948],C$Tzr[C$Tzr.ClampToEdge=33071]=H[2949],C$Tzr[C$Tzr.Repeat=10497]=H[2950],C$Tzn.TextureRegion=function(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0;},C$TzV(C$TzY,C$TzX=C$Tze),C$TzY.prototype.setFilters=function(C$Tzt,C$Tze){},C$TzY.prototype.setWraps=function(C$Tzt,C$Tze){},C$TzY.prototype.dispose=function(){};var C$TzX,C$Tzr=C$TzY;function C$TzY(){return null!==C$TzX&&C$TzX.apply(this,arguments)||this;}function C$Tzq(C$Tzt){C$Tzt=C$Tzg.call(this,C$Tzt,0,!1)||this;return C$Tzt.bones=[],C$Tzt.rotateMix=0,C$Tzt.translateMix=0,C$Tzt.scaleMix=0,C$Tzt.shearMix=0,C$Tzt.offsetRotation=0,C$Tzt.offsetX=0,C$Tzt.offsetY=0,C$Tzt.offsetScaleX=0,C$Tzt.offsetScaleY=0,C$Tzt.offsetShearY=0,C$Tzt.relative=!1,C$Tzt.local=!1,C$Tzt;}function C$TzJ(C$Tzt){if(null==C$Tzt)throw new Error(H[2777]);this.name=C$Tzt;}function C$TzZ(C$Tzt){C$Tzt=C$Tzb.call(this,C$Tzt)||this;return C$Tzt.id=(65535&C$TzZ.nextID++)<<11,C$Tzt.worldVerticesLength=0,C$Tzt.deformAttachment=C$Tzt;}function C$TzK(C$Tzt){C$Tzt=C$TzC.call(this,C$Tzt)||this;return C$Tzt.color=new C$TzA.Color(1,1,1,1),C$Tzt;}function C$TzQ(C$Tzt){C$Tzt=C$TzT.call(this,C$Tzt)||this;return C$Tzt.color=new C$TzS.Color(.2275,.2275,.8078,1),C$Tzt;}function C$Tz$(C$Tzt){C$Tzt=C$Tzw.call(this,C$Tzt)||this;return C$Tzt.color=new C$Tzu.Color(1,1,1,1),C$Tzt.tempColor=new C$Tzu.Color(0,0,0,0),C$Tzt;}function C$Tztt(C$Tzt){C$Tzt=C$TzM.call(this,C$Tzt)||this;return C$Tzt.closed=!1,C$Tzt.constantSpeed=!1,C$Tzt.color=new C$TzE.Color(1,1,1,1),C$Tzt;}function C$Tzet(C$Tzt){C$Tzt=C$TzB.call(this,C$Tzt)||this;return C$Tzt.color=new C$TzI.Color(.38,.94,0,1),C$Tzt;}function C$Tz_(C$Tzt){C$Tzt=C$TzP.call(this,C$Tzt)||this;return C$Tzt.x=0,C$Tzt.y=0,C$Tzt.scaleX=1,C$Tzt.scaleY=1,C$Tzt.rotation=0,C$Tzt.width=0,C$Tzt.height=0,C$Tzt.color=new C$TzR.Color(1,1,1,1),C$Tzt.offset=C$TzR.Utils.newFloatArray(8),C$Tzt.uvs=C$TzR.Utils.newFloatArray(8),C$Tzt.tempColor=new C$TzR.Color(1,1,1,1),C$Tzt;}function C$Tzit(C$Tzt,C$Tze){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=C$Tzt,this.interpolation=C$Tze;}C$Tzn.FakeTexture=C$Tzr,function(C$Tzu){function C$Tzt(C$Tzt,C$Tze){this.pages=[],this.regions=[],this.load(C$Tzt,C$Tze);}C$Tzt.prototype.load=function(C$Tzh,C$Tzt){if(null==C$Tzt)throw new Error(H[2951]);for(var C$Tze=new C$Tz_(C$Tzh),C$Tzi=[],C$Tzn=null;;){var C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl=C$Tze.readLine();if(null==C$Tzl)break;0==(C$Tzl=C$Tzl.trim()).length?C$Tzn=null:C$Tzn?((C$Tzr=new C$Tzf()).name=C$Tzl,C$Tzr.page=C$Tzn,H[583]==(C$Tzc=C$Tze.readValue()).toLocaleLowerCase()?C$Tzr.degrees=90:H[1384]==C$Tzc.toLocaleLowerCase()?C$Tzr.degrees=0:C$Tzr.degrees=parseFloat(C$Tzc),C$Tzr.rotate=90==C$Tzr.degrees,C$Tze.readTuple(C$Tzi),C$Tzc=parseInt(C$Tzi[0]),C$Tzs=parseInt(C$Tzi[1]),C$Tze.readTuple(C$Tzi),C$Tzo=parseInt(C$Tzi[0]),C$Tza=parseInt(C$Tzi[1]),C$Tzr.u=C$Tzc/C$Tzn.width,C$Tzr.v=C$Tzs/C$Tzn.height,C$Tzr.rotate?(C$Tzr.u2=(C$Tzc+C$Tza)/C$Tzn.width,C$Tzr.v2=(C$Tzs+C$Tzo)/C$Tzn.height):(C$Tzr.u2=(C$Tzc+C$Tzo)/C$Tzn.width,C$Tzr.v2=(C$Tzs+C$Tza)/C$Tzn.height),C$Tzr.x=C$Tzc,C$Tzr.y=C$Tzs,C$Tzr.width=Math.abs(C$Tzo),C$Tzr.height=Math.abs(C$Tza),4==C$Tze.readTuple(C$Tzi)&&4==C$Tze.readTuple(C$Tzi)&&C$Tze.readTuple(C$Tzi),C$Tzr.originalWidth=parseInt(C$Tzi[0]),C$Tzr.originalHeight=parseInt(C$Tzi[1]),C$Tze.readTuple(C$Tzi),C$Tzr.offsetX=parseInt(C$Tzi[0]),C$Tzr.offsetY=parseInt(C$Tzi[1]),C$Tzr.index=parseInt(C$Tze.readValue()),C$Tzr.texture=C$Tzn.texture,this.regions.push(C$Tzr)):((C$Tzn=new C$Tzd()).name=C$Tzl,2==C$Tze.readTuple(C$Tzi)&&(C$Tzn.width=parseInt(C$Tzi[0]),C$Tzn.height=parseInt(C$Tzi[1]),C$Tze.readTuple(C$Tzi)),C$Tze.readTuple(C$Tzi),C$Tzn.minFilter=C$Tzu.Texture.filterFromString(C$Tzi[0]),C$Tzn.magFilter=C$Tzu.Texture.filterFromString(C$Tzi[1]),C$Tzc=C$Tze.readValue(),C$Tzn.uWrap=C$Tzu.TextureWrap.ClampToEdge,C$Tzn.vWrap=C$Tzu.TextureWrap.ClampToEdge,"x"==C$Tzc?C$Tzn.uWrap=C$Tzu.TextureWrap.Repeat:"y"==C$Tzc?C$Tzn.vWrap=C$Tzu.TextureWrap.Repeat:H[2952]==C$Tzc&&(C$Tzn.uWrap=C$Tzn.vWrap=C$Tzu.TextureWrap.Repeat),C$Tzn.texture=C$Tzt(C$Tzl),C$Tzn.texture.setFilters(C$Tzn.minFilter,C$Tzn.magFilter),C$Tzn.texture.setWraps(C$Tzn.uWrap,C$Tzn.vWrap),C$Tzn.width=C$Tzn.texture.getImage().width,C$Tzn.height=C$Tzn.texture.getImage().height,this.pages.push(C$Tzn));}},C$Tzt.prototype.findRegion=function(C$Tzt){for(var C$Tze=0;C$Tze<this.regions.length;C$Tze++)if(this.regions[C$Tze].name==C$Tzt)return this.regions[C$Tze];return null;},C$Tzt.prototype.dispose=function(){for(var C$Tzt=0;C$Tzt<this.pages.length;C$Tzt++)this.pages[C$Tzt].texture.dispose();},C$Tzu.TextureAtlas=C$Tzt;C$Tze.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++];},C$Tze.prototype.readValue=function(){var C$Tzt=this.readLine(),C$Tze=C$Tzt.indexOf(":");if(-1==C$Tze)throw new Error(H[2953]+C$Tzt);return C$Tzt.substring(C$Tze+1).trim();},C$Tze.prototype.readTuple=function(C$Tzt){var C$Tze=this.readLine(),C$Tzi=C$Tze.indexOf(":");if(-1==C$Tzi)throw new Error(H[2953]+C$Tze);for(var C$Tzn=0,C$Tzr=C$Tzi+1;C$Tzn<3;C$Tzn++){var C$Tzs=C$Tze.indexOf(",",C$Tzr);if(-1==C$Tzs)break;C$Tzt[C$Tzn]=C$Tze.substr(C$Tzr,C$Tzs-C$Tzr).trim(),C$Tzr=C$Tzs+1;}return C$Tzt[C$Tzn]=C$Tze.substring(C$Tzr).trim(),C$Tzn+1;};var C$Tz_=C$Tze;function C$Tze(C$Tzt){this.index=0,this.lines=C$Tzt.split(/\r\n|\r|\n/);}var C$Tzi,C$Tzd=function(){},C$Tzf=(C$Tzu.TextureAtlasPage=C$Tzd,C$Tzi=C$Tzu.TextureRegion,C$TzV(C$Tzn,C$Tzi),C$Tzn);function C$Tzn(){return null!==C$Tzi&&C$Tzi.apply(this,arguments)||this;}C$Tzu.TextureAtlasRegion=C$Tzf;}(C$Tzt=C$Tzt||{}),function(C$TzT){function C$Tzt(C$Tzt,C$Tze){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new C$TzT.Vector2(),this.active=!1,null==C$Tzt)throw new Error(H[2823]);if(null==C$Tze)throw new Error(H[2776]);this.data=C$Tzt,this.rotateMix=C$Tzt.rotateMix,this.translateMix=C$Tzt.translateMix,this.scaleMix=C$Tzt.scaleMix,this.shearMix=C$Tzt.shearMix,this.bones=[];for(var C$Tzi=0;C$Tzi<C$Tzt.bones.length;C$Tzi++)this.bones.push(C$Tze.findBone(C$Tzt.bones[C$Tzi].name));this.target=C$Tze.findBone(C$Tzt.target.name);}C$Tzt.prototype.isActive=function(){return this.active;},C$Tzt.prototype.apply=function(){this.update();},C$Tzt.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld();},C$Tzt.prototype.applyAbsoluteWorld=function(){for(var C$Tzh=this.rotateMix,C$Tzu=this.translateMix,C$Tz_=this.scaleMix,C$Tzd=this.shearMix,C$Tzt=this.target,C$Tze=C$Tzt.a,C$Tzf=C$Tzt.b,C$Tzp=C$Tzt.c,C$Tzm=C$Tzt.d,C$Tzy=0<C$Tze*C$Tzm-C$Tzf*C$Tzp?C$TzT.MathUtils.degRad:-C$TzT.MathUtils.degRad,C$Tzg=this.data.offsetRotation*C$Tzy,C$Tzv=this.data.offsetShearY*C$Tzy,C$Tzx=this.bones,C$Tzb=0,C$TzA=C$Tzx.length;C$Tzb<C$TzA;C$Tzb++){var C$TzC,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl=C$Tzx[C$Tzb],C$TzS=!1;0!=C$Tzh&&(C$Tzi=C$Tzl.a,C$Tzr=C$Tzl.b,C$Tzn=C$Tzl.c,C$Tzs=C$Tzl.d,(C$Tza=Math.atan2(C$Tzp,C$Tze)-Math.atan2(C$Tzn,C$Tzi)+C$Tzg)>C$TzT.MathUtils.PI?C$Tza-=C$TzT.MathUtils.PI2:C$Tza<-C$TzT.MathUtils.PI&&(C$Tza+=C$TzT.MathUtils.PI2),C$Tza*=C$Tzh,C$TzC=Math.cos(C$Tza),C$Tzo=Math.sin(C$Tza),C$Tzl.a=C$TzC*C$Tzi-C$Tzo*C$Tzn,C$Tzl.b=C$TzC*C$Tzr-C$Tzo*C$Tzs,C$Tzl.c=C$Tzo*C$Tzi+C$TzC*C$Tzn,C$Tzl.d=C$Tzo*C$Tzr+C$TzC*C$Tzs,C$TzS=!0),0!=C$Tzu&&(C$Tzi=this.temp,C$Tzt.localToWorld(C$Tzi.set(this.data.offsetX,this.data.offsetY)),C$Tzl.worldX+=(C$Tzi.x-C$Tzl.worldX)*C$Tzu,C$Tzl.worldY+=(C$Tzi.y-C$Tzl.worldY)*C$Tzu,C$TzS=!0),0<C$Tz_&&(C$Tzc=Math.sqrt(C$Tzl.a*C$Tzl.a+C$Tzl.c*C$Tzl.c),C$Tzn=Math.sqrt(C$Tze*C$Tze+C$Tzp*C$Tzp),1e-5<C$Tzc&&(C$Tzc=(C$Tzc+(C$Tzn-C$Tzc+this.data.offsetScaleX)*C$Tz_)/C$Tzc),C$Tzl.a*=C$Tzc,C$Tzl.c*=C$Tzc,C$Tzc=Math.sqrt(C$Tzl.b*C$Tzl.b+C$Tzl.d*C$Tzl.d),C$Tzn=Math.sqrt(C$Tzf*C$Tzf+C$Tzm*C$Tzm),1e-5<C$Tzc&&(C$Tzc=(C$Tzc+(C$Tzn-C$Tzc+this.data.offsetScaleY)*C$Tz_)/C$Tzc),C$Tzl.b*=C$Tzc,C$Tzl.d*=C$Tzc,C$TzS=!0),0<C$Tzd&&(C$Tzr=C$Tzl.b,C$Tzs=C$Tzl.d,C$Tzo=Math.atan2(C$Tzs,C$Tzr),(C$Tza=Math.atan2(C$Tzm,C$Tzf)-Math.atan2(C$Tzp,C$Tze)-(C$Tzo-Math.atan2(C$Tzl.c,C$Tzl.a)))>C$TzT.MathUtils.PI?C$Tza-=C$TzT.MathUtils.PI2:C$Tza<-C$TzT.MathUtils.PI&&(C$Tza+=C$TzT.MathUtils.PI2),C$Tza=C$Tzo+(C$Tza+C$Tzv)*C$Tzd,C$Tzc=Math.sqrt(C$Tzr*C$Tzr+C$Tzs*C$Tzs),C$Tzl.b=Math.cos(C$Tza)*C$Tzc,C$Tzl.d=Math.sin(C$Tza)*C$Tzc,C$TzS=!0),C$TzS&&(C$Tzl.appliedValid=!1);}},C$Tzt.prototype.applyRelativeWorld=function(){for(var C$Tzh=this.rotateMix,C$Tzu=this.translateMix,C$Tz_=this.scaleMix,C$Tzd=this.shearMix,C$Tzt=this.target,C$Tze=C$Tzt.a,C$Tzf=C$Tzt.b,C$Tzi=C$Tzt.c,C$Tzp=C$Tzt.d,C$Tzm=0<C$Tze*C$Tzp-C$Tzf*C$Tzi?C$TzT.MathUtils.degRad:-C$TzT.MathUtils.degRad,C$Tzy=this.data.offsetRotation*C$Tzm,C$Tzg=this.data.offsetShearY*C$Tzm,C$Tzv=this.bones,C$Tzx=0,C$Tzb=C$Tzv.length;C$Tzx<C$Tzb;C$Tzx++){var C$TzA,C$Tzn,C$TzC,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl=C$Tzv[C$Tzx],C$TzS=!1;0!=C$Tzh&&(C$Tzr=C$Tzl.a,C$Tzo=C$Tzl.b,C$TzA=C$Tzl.c,C$Tza=C$Tzl.d,(C$Tzs=Math.atan2(C$Tzi,C$Tze)+C$Tzy)>C$TzT.MathUtils.PI?C$Tzs-=C$TzT.MathUtils.PI2:C$Tzs<-C$TzT.MathUtils.PI&&(C$Tzs+=C$TzT.MathUtils.PI2),C$Tzs*=C$Tzh,C$Tzn=Math.cos(C$Tzs),C$TzC=Math.sin(C$Tzs),C$Tzl.a=C$Tzn*C$Tzr-C$TzC*C$TzA,C$Tzl.b=C$Tzn*C$Tzo-C$TzC*C$Tza,C$Tzl.c=C$TzC*C$Tzr+C$Tzn*C$TzA,C$Tzl.d=C$TzC*C$Tzo+C$Tzn*C$Tza,C$TzS=!0),0!=C$Tzu&&(C$Tzr=this.temp,C$Tzt.localToWorld(C$Tzr.set(this.data.offsetX,this.data.offsetY)),C$Tzl.worldX+=C$Tzr.x*C$Tzu,C$Tzl.worldY+=C$Tzr.y*C$Tzu,C$TzS=!0),0<C$Tz_&&(C$Tzc=(Math.sqrt(C$Tze*C$Tze+C$Tzi*C$Tzi)-1+this.data.offsetScaleX)*C$Tz_+1,C$Tzl.a*=C$Tzc,C$Tzl.c*=C$Tzc,C$Tzc=(Math.sqrt(C$Tzf*C$Tzf+C$Tzp*C$Tzp)-1+this.data.offsetScaleY)*C$Tz_+1,C$Tzl.b*=C$Tzc,C$Tzl.d*=C$Tzc,C$TzS=!0),0<C$Tzd&&((C$Tzs=Math.atan2(C$Tzp,C$Tzf)-Math.atan2(C$Tzi,C$Tze))>C$TzT.MathUtils.PI?C$Tzs-=C$TzT.MathUtils.PI2:C$Tzs<-C$TzT.MathUtils.PI&&(C$Tzs+=C$TzT.MathUtils.PI2),C$Tzo=C$Tzl.b,C$Tza=C$Tzl.d,C$Tzs=Math.atan2(C$Tza,C$Tzo)+(C$Tzs-C$TzT.MathUtils.PI/2+C$Tzg)*C$Tzd,C$Tzc=Math.sqrt(C$Tzo*C$Tzo+C$Tza*C$Tza),C$Tzl.b=Math.cos(C$Tzs)*C$Tzc,C$Tzl.d=Math.sin(C$Tzs)*C$Tzc,C$TzS=!0),C$TzS&&(C$Tzl.appliedValid=!1);}},C$Tzt.prototype.applyAbsoluteLocal=function(){for(var C$Tzh=this.rotateMix,C$Tzt=this.translateMix,C$Tze=this.scaleMix,C$Tzu=this.shearMix,C$Tzi=this.target,C$Tz_=(C$Tzi.appliedValid||C$Tzi.updateAppliedTransform(),this.bones),C$Tzn=0,C$Tzd=C$Tz_.length;C$Tzn<C$Tzd;C$Tzn++){var C$Tzr,C$Tzs=C$Tz_[C$Tzn],C$Tzo=(C$Tzs.appliedValid||C$Tzs.updateAppliedTransform(),C$Tzs.arotation),C$Tza=(0!=C$Tzh&&(C$Tzr=C$Tzi.arotation-C$Tzo+this.data.offsetRotation,C$Tzo+=(C$Tzr-=360*(16384-(16384.499999999996-C$Tzr/360|0)))*C$Tzh),C$Tzs.ax),C$Tzf=C$Tzs.ay,C$Tzc=(0!=C$Tzt&&(C$Tza+=(C$Tzi.ax-C$Tza+this.data.offsetX)*C$Tzt,C$Tzf+=(C$Tzi.ay-C$Tzf+this.data.offsetY)*C$Tzt),C$Tzs.ascaleX),C$Tzl=C$Tzs.ascaleY,C$Tzp=(0!=C$Tze&&(1e-5<C$Tzc&&(C$Tzc=(C$Tzc+(C$Tzi.ascaleX-C$Tzc+this.data.offsetScaleX)*C$Tze)/C$Tzc),1e-5<C$Tzl&&(C$Tzl=(C$Tzl+(C$Tzi.ascaleY-C$Tzl+this.data.offsetScaleY)*C$Tze)/C$Tzl)),C$Tzs.ashearY);0!=C$Tzu&&(C$Tzr=C$Tzi.ashearY-C$Tzp+this.data.offsetShearY,C$Tzr-=360*(16384-(16384.499999999996-C$Tzr/360|0)),C$Tzs.shearY+=C$Tzr*C$Tzu),C$Tzs.updateWorldTransformWith(C$Tza,C$Tzf,C$Tzo,C$Tzc,C$Tzl,C$Tzs.ashearX,C$Tzp);}},C$Tzt.prototype.applyRelativeLocal=function(){for(var C$Tzt=this.rotateMix,C$Tze=this.translateMix,C$Tzi=this.scaleMix,C$Tzn=this.shearMix,C$Tzr=this.target,C$Tzs=(C$Tzr.appliedValid||C$Tzr.updateAppliedTransform(),this.bones),C$Tzo=0,C$Tzh=C$Tzs.length;C$Tzo<C$Tzh;C$Tzo++){var C$Tza=C$Tzs[C$Tzo],C$Tzu=(C$Tza.appliedValid||C$Tza.updateAppliedTransform(),C$Tza.arotation),C$Tz_=(0!=C$Tzt&&(C$Tzu+=(C$Tzr.arotation+this.data.offsetRotation)*C$Tzt),C$Tza.ax),C$Tzd=C$Tza.ay,C$Tzc=(0!=C$Tze&&(C$Tz_+=(C$Tzr.ax+this.data.offsetX)*C$Tze,C$Tzd+=(C$Tzr.ay+this.data.offsetY)*C$Tze),C$Tza.ascaleX),C$Tzl=C$Tza.ascaleY,C$Tzf=(0!=C$Tzi&&(1e-5<C$Tzc&&(C$Tzc*=(C$Tzr.ascaleX-1+this.data.offsetScaleX)*C$Tzi+1),1e-5<C$Tzl&&(C$Tzl*=(C$Tzr.ascaleY-1+this.data.offsetScaleY)*C$Tzi+1)),C$Tza.ashearY);0!=C$Tzn&&(C$Tzf+=(C$Tzr.ashearY+this.data.offsetShearY)*C$Tzn),C$Tza.updateWorldTransformWith(C$Tz_,C$Tzd,C$Tzu,C$Tzc,C$Tzl,C$Tza.ashearX,C$Tzf);}},C$TzT.TransformConstraint=C$Tzt;}(C$Tzt=C$Tzt||{}),C$Tze=C$Tzt=C$Tzt||{},C$Tzg=C$Tze.ConstraintData,C$TzV(C$Tzq,C$Tzg),C$Tze.TransformConstraintData=C$Tzq,function(C$Tzt){function C$Tzz(){this.convexPolygons=[],this.convexPolygonsIndices=[],this.indicesArray=[],this.isConcaveArray=[],this.triangles=[],this.polygonPool=new C$Tzt.Pool(function(){return[];}),this.polygonIndicesPool=new C$Tzt.Pool(function(){return[];});}C$Tzz.prototype.triangulate=function(C$Tzh){for(var C$Tzt=C$Tzh,C$Tze=C$Tzh.length>>1,C$Tzi=this.indicesArray,C$Tzn=C$Tzi.length=0;C$Tzn<C$Tze;C$Tzn++)C$Tzi[C$Tzn]=C$Tzn;for(var C$Tzr=this.isConcaveArray,C$Tzn=C$Tzr.length=0,C$Tzu=C$Tze;C$Tzn<C$Tzu;++C$Tzn)C$Tzr[C$Tzn]=C$Tzz.isConcave(C$Tzn,C$Tze,C$Tzt,C$Tzi);var C$Tzs=this.triangles;for(C$Tzs.length=0;3<C$Tze;){for(var C$Tzo=C$Tze-1,C$Tzn=0,C$Tza=1;;){C$Tzt:if(!C$Tzr[C$Tzn]){for(var C$Tz_=C$Tzi[C$Tzo]<<1,C$Tzd=C$Tzi[C$Tzn]<<1,C$Tzf=C$Tzi[C$Tza]<<1,C$Tzp=C$Tzt[C$Tz_],C$Tzm=C$Tzt[1+C$Tz_],C$Tzy=C$Tzt[C$Tzd],C$Tzg=C$Tzt[1+C$Tzd],C$Tzv=C$Tzt[C$Tzf],C$Tzx=C$Tzt[1+C$Tzf],C$Tzc=(C$Tza+1)%C$Tze;C$Tzc!=C$Tzo;C$Tzc=(C$Tzc+1)%C$Tze)if(C$Tzr[C$Tzc]){var C$Tzl=C$Tzi[C$Tzc]<<1,C$Tzb=C$Tzt[C$Tzl],C$Tzl=C$Tzt[1+C$Tzl];if(C$Tzz.positiveArea(C$Tzv,C$Tzx,C$Tzp,C$Tzm,C$Tzb,C$Tzl)&&C$Tzz.positiveArea(C$Tzp,C$Tzm,C$Tzy,C$Tzg,C$Tzb,C$Tzl)&&C$Tzz.positiveArea(C$Tzy,C$Tzg,C$Tzv,C$Tzx,C$Tzb,C$Tzl))break C$Tzt;}break;}if(0==C$Tza){for(;C$Tzr[C$Tzn]&&0<--C$Tzn;);break;}C$Tzo=C$Tzn,C$Tza=((C$Tzn=C$Tza)+1)%C$Tze;}C$Tzs.push(C$Tzi[(C$Tze+C$Tzn-1)%C$Tze]),C$Tzs.push(C$Tzi[C$Tzn]),C$Tzs.push(C$Tzi[(C$Tzn+1)%C$Tze]),C$Tzi.splice(C$Tzn,1),C$Tzr.splice(C$Tzn,1);var C$TzA=(--C$Tze+C$Tzn-1)%C$Tze,C$TzC=C$Tzn==C$Tze?0:C$Tzn;C$Tzr[C$TzA]=C$Tzz.isConcave(C$TzA,C$Tze,C$Tzt,C$Tzi),C$Tzr[C$TzC]=C$Tzz.isConcave(C$TzC,C$Tze,C$Tzt,C$Tzi);}return 3==C$Tze&&(C$Tzs.push(C$Tzi[2]),C$Tzs.push(C$Tzi[0]),C$Tzs.push(C$Tzi[1])),C$Tzs;},C$Tzz.prototype.decompose=function(C$Tzh,C$Tzu){for(var C$Tzt=C$Tzh,C$Tze=this.convexPolygons,C$Tzi=(this.polygonPool.freeAll(C$Tze),C$Tze.length=0,this.convexPolygonsIndices),C$Tzn=(this.polygonIndicesPool.freeAll(C$Tzi),C$Tzi.length=0,this.polygonIndicesPool.obtain()),C$Tzr=(C$Tzn.length=0,this.polygonPool.obtain()),C$Tz_=-1,C$Tzd=C$Tzr.length=0,C$Tzs=0,C$Tzf=C$Tzu.length;C$Tzs<C$Tzf;C$Tzs+=3){var C$Tzp=C$Tzu[C$Tzs]<<1,C$Tzm=C$Tzu[C$Tzs+1]<<1,C$Tzy=C$Tzu[C$Tzs+2]<<1,C$Tzg=C$Tzt[C$Tzp],C$Tzv=C$Tzt[1+C$Tzp],C$Tzx=C$Tzt[C$Tzm],C$Tzb=C$Tzt[1+C$Tzm],C$Tzo=C$Tzt[C$Tzy],C$Tza=C$Tzt[1+C$Tzy],C$TzA=!1;C$Tz_==C$Tzp&&(C$Tzc=C$Tzr.length-4,C$TzM=C$Tzz.winding(C$Tzr[C$Tzc],C$Tzr[C$Tzc+1],C$Tzr[C$Tzc+2],C$Tzr[C$Tzc+3],C$Tzo,C$Tza),C$TzI=C$Tzz.winding(C$Tzo,C$Tza,C$Tzr[0],C$Tzr[1],C$Tzr[2],C$Tzr[3]),C$TzM==C$Tzd&&C$TzI==C$Tzd&&(C$Tzr.push(C$Tzo),C$Tzr.push(C$Tza),C$Tzn.push(C$Tzy),C$TzA=!0)),C$TzA||(0<C$Tzr.length?(C$Tze.push(C$Tzr),C$Tzi.push(C$Tzn)):(this.polygonPool.free(C$Tzr),this.polygonIndicesPool.free(C$Tzn)),(C$Tzr=this.polygonPool.obtain()).length=0,C$Tzr.push(C$Tzg),C$Tzr.push(C$Tzv),C$Tzr.push(C$Tzx),C$Tzr.push(C$Tzb),C$Tzr.push(C$Tzo),C$Tzr.push(C$Tza),(C$Tzn=this.polygonIndicesPool.obtain()).length=0,C$Tzn.push(C$Tzp),C$Tzn.push(C$Tzm),C$Tzn.push(C$Tzy),C$Tzd=C$Tzz.winding(C$Tzg,C$Tzv,C$Tzx,C$Tzb,C$Tzo,C$Tza),C$Tz_=C$Tzp);}0<C$Tzr.length&&(C$Tze.push(C$Tzr),C$Tzi.push(C$Tzn));for(C$Tzs=0,C$Tzf=C$Tze.length;C$Tzs<C$Tzf;C$Tzs++)if(0!=(C$Tzn=C$Tzi[C$Tzs]).length)for(var C$Tzc,C$TzC,C$TzS,C$TzT,C$Tzw,C$TzE,C$TzM,C$TzI,C$TzB=C$Tzn[0],C$TzR=C$Tzn[C$Tzn.length-1],C$TzP=(C$Tzr=C$Tze[C$Tzs])[C$Tzc=C$Tzr.length-4],C$TzD=C$Tzr[C$Tzc+1],C$TzL=C$Tzr[C$Tzc+2],C$TzV=C$Tzr[C$Tzc+3],C$TzO=C$Tzr[0],C$TzF=C$Tzr[1],C$TzN=C$Tzr[2],C$Tzk=C$Tzr[3],C$TzG=C$Tzz.winding(C$TzP,C$TzD,C$TzL,C$TzV,C$TzO,C$TzF),C$Tzl=0;C$Tzl<C$Tzf;C$Tzl++)C$Tzl!=C$Tzs&&3==(C$TzC=C$Tzi[C$Tzl]).length&&(C$TzS=C$TzC[0],C$TzT=C$TzC[1],C$Tzw=C$TzC[2],C$Tzo=(C$TzE=C$Tze[C$Tzl])[C$TzE.length-2],C$Tza=C$TzE[C$TzE.length-1],C$TzS==C$TzB&&C$TzT==C$TzR&&(C$TzM=C$Tzz.winding(C$TzP,C$TzD,C$TzL,C$TzV,C$Tzo,C$Tza),C$TzI=C$Tzz.winding(C$Tzo,C$Tza,C$TzO,C$TzF,C$TzN,C$Tzk),C$TzM==C$TzG&&C$TzI==C$TzG&&(C$TzE.length=0,C$TzC.length=0,C$Tzr.push(C$Tzo),C$Tzr.push(C$Tza),C$Tzn.push(C$Tzw),C$TzP=C$TzL,C$TzD=C$TzV,C$TzL=C$Tzo,C$TzV=C$Tza,C$Tzl=0)));for(C$Tzs=C$Tze.length-1;0<=C$Tzs;C$Tzs--)0==(C$Tzr=C$Tze[C$Tzs]).length&&(C$Tze.splice(C$Tzs,1),this.polygonPool.free(C$Tzr),C$Tzn=C$Tzi[C$Tzs],C$Tzi.splice(C$Tzs,1),this.polygonIndicesPool.free(C$Tzn));return C$Tze;},C$Tzz.isConcave=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tzn[(C$Tze+C$Tzt-1)%C$Tze]<<1,C$Tzs=C$Tzn[C$Tzt]<<1,C$Tzn=C$Tzn[(C$Tzt+1)%C$Tze]<<1;return!this.positiveArea(C$Tzi[C$Tzr],C$Tzi[1+C$Tzr],C$Tzi[C$Tzs],C$Tzi[1+C$Tzs],C$Tzi[C$Tzn],C$Tzi[1+C$Tzn]);},C$Tzz.positiveArea=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){return 0<=C$Tzt*(C$Tzs-C$Tzn)+C$Tzi*(C$Tze-C$Tzs)+C$Tzr*(C$Tzn-C$Tze);},C$Tzz.winding=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){C$Tzi-=C$Tzt,C$Tzn-=C$Tze;return 0<=C$Tzr*C$Tzn-C$Tzs*C$Tzi+C$Tzi*C$Tze-C$Tzt*C$Tzn?1:-1;},C$Tzt.Triangulator=C$Tzz;}(C$Tzt=C$Tzt||{}),function(C$Tzt){function C$Tze(){this.array=[];}function C$Tzi(C$Tzt,C$Tze,C$Tzi,C$Tzn){void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=0),void 0===C$Tzn&&(C$Tzn=0),this.r=C$Tzt=void 0===C$Tzt?0:C$Tzt,this.g=C$Tze,this.b=C$Tzi,this.a=C$Tzn;}function C$Tzn(){}C$Tze.prototype.add=function(C$Tzt){var C$Tze=this.contains(C$Tzt);return this.array[0|C$Tzt]=0|C$Tzt,!C$Tze;},C$Tze.prototype.contains=function(C$Tzt){return null!=this.array[0|C$Tzt];},C$Tze.prototype.remove=function(C$Tzt){this.array[0|C$Tzt]=void 0;},C$Tze.prototype.clear=function(){this.array.length=0;},C$Tzt.IntSet=C$Tze,C$Tzi.prototype.set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return this.r=C$Tzt,this.g=C$Tze,this.b=C$Tzi,this.a=C$Tzn,this.clamp(),this;},C$Tzi.prototype.setFromColor=function(C$Tzt){return this.r=C$Tzt.r,this.g=C$Tzt.g,this.b=C$Tzt.b,this.a=C$Tzt.a,this;},C$Tzi.prototype.setFromString=function(C$Tzt){return C$Tzt="#"==C$Tzt.charAt(0)?C$Tzt.substr(1):C$Tzt,this.r=parseInt(C$Tzt.substr(0,2),16)/255,this.g=parseInt(C$Tzt.substr(2,2),16)/255,this.b=parseInt(C$Tzt.substr(4,2),16)/255,this.a=(8!=C$Tzt.length?255:parseInt(C$Tzt.substr(6,2),16))/255,this;},C$Tzi.prototype.add=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return this.r+=C$Tzt,this.g+=C$Tze,this.b+=C$Tzi,this.a+=C$Tzn,this.clamp(),this;},C$Tzi.prototype.clamp=function(){return this.r<0?this.r=0:1<this.r&&(this.r=1),this.g<0?this.g=0:1<this.g&&(this.g=1),this.b<0?this.b=0:1<this.b&&(this.b=1),this.a<0?this.a=0:1<this.a&&(this.a=1),this;},C$Tzi.rgba8888ToColor=function(C$Tzt,C$Tze){C$Tzt.r=((4278190080&C$Tze)>>>24)/255,C$Tzt.g=((16711680&C$Tze)>>>16)/255,C$Tzt.b=((65280&C$Tze)>>>8)/255,C$Tzt.a=(255&C$Tze)/255;},C$Tzi.rgb888ToColor=function(C$Tzt,C$Tze){C$Tzt.r=((16711680&C$Tze)>>>16)/255,C$Tzt.g=((65280&C$Tze)>>>8)/255,C$Tzt.b=(255&C$Tze)/255;},C$Tzi.WHITE=new C$Tzi(1,1,1,1),C$Tzi.RED=new C$Tzi(1,0,0,1),C$Tzi.GREEN=new C$Tzi(0,1,0,1),C$Tzi.BLUE=new C$Tzi(0,0,1,1),C$Tzi.MAGENTA=new C$Tzi(1,0,1,1),C$Tzt.Color=C$Tzi,C$Tzn.clamp=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt<C$Tze?C$Tze:C$Tzi<C$Tzt?C$Tzi:C$Tzt;},C$Tzn.cosDeg=function(C$Tzt){return Math.cos(C$Tzt*C$Tzn.degRad);},C$Tzn.sinDeg=function(C$Tzt){return Math.sin(C$Tzt*C$Tzn.degRad);},C$Tzn.signum=function(C$Tzt){return 0<C$Tzt?1:C$Tzt<0?-1:0;},C$Tzn.toInt=function(C$Tzt){return 0<C$Tzt?Math.floor(C$Tzt):Math.ceil(C$Tzt);},C$Tzn.cbrt=function(C$Tzt){var C$Tze=Math.pow(Math.abs(C$Tzt),1/3);return C$Tzt<0?-C$Tze:C$Tze;},C$Tzn.randomTriangular=function(C$Tzt,C$Tze){return C$Tzn.randomTriangularWith(C$Tzt,C$Tze,.5*(C$Tzt+C$Tze));},C$Tzn.randomTriangularWith=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=Math.random(),C$Tzr=C$Tze-C$Tzt;return C$Tzn<=(C$Tzi-C$Tzt)/C$Tzr?C$Tzt+Math.sqrt(C$Tzn*C$Tzr*(C$Tzi-C$Tzt)):C$Tze-Math.sqrt((1-C$Tzn)*C$Tzr*(C$Tze-C$Tzi));},C$Tzn.PI2=2*(C$Tzn.PI=3.1415927),C$Tzn.radDeg=C$Tzn.radiansToDegrees=180/C$Tzn.PI,C$Tzn.degRad=C$Tzn.degreesToRadians=C$Tzn.PI/180,C$Tzt.MathUtils=C$Tzn;C$Tzh.prototype.apply=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt+(C$Tze-C$Tzt)*this.applyInternal(C$Tzi);};var C$Tzr=C$Tzh;function C$Tzh(){}C$Tzt.Interpolation=C$Tzr;C$TzV(C$Tzs,C$Tzu=C$Tzr),C$Tzs.prototype.applyInternal=function(C$Tzt){return C$Tzt<=.5?Math.pow(2*C$Tzt,this.power)/2:Math.pow(2*(C$Tzt-1),this.power)/(this.power%2==0?-2:2)+1;};var C$Tzu,C$Tzr=C$Tzs;function C$Tzs(C$Tzt){var C$Tze=C$Tzu.call(this)||this;return C$Tze.power=2,C$Tze.power=C$Tzt,C$Tze;}C$Tzt.Pow=C$Tzr;C$TzV(C$Tzd,C$Tz_=C$Tzr),C$Tzd.prototype.applyInternal=function(C$Tzt){return Math.pow(C$Tzt-1,this.power)*(this.power%2==0?-1:1)+1;};var C$Tz_,C$Tzr=C$Tzd;function C$Tzd(C$Tzt){return C$Tz_.call(this,C$Tzt)||this;}function C$Tzo(){}function C$Tzf(){}function C$Tza(C$Tzt){this.items=[],this.instantiator=C$Tzt;}function C$Tzc(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=0),this.x=C$Tzt=void 0===C$Tzt?0:C$Tzt,this.y=C$Tze;}function C$Tzp(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0;}function C$Tzl(C$Tzt){void 0===C$Tzt&&(C$Tzt=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(C$Tzt);}C$Tzt.PowOut=C$Tzr,C$Tzo.arrayCopy=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){for(var C$Tzs=C$Tze,C$Tzo=C$Tzn;C$Tzs<C$Tze+C$Tzr;C$Tzs++,C$Tzo++)C$Tzi[C$Tzo]=C$Tzt[C$Tzs];},C$Tzo.setArraySize=function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=0);var C$Tzn=C$Tzt.length;if(C$Tzn==C$Tze)return C$Tzt;if(C$Tzn<(C$Tzt.length=C$Tze))for(var C$Tzr=C$Tzn;C$Tzr<C$Tze;C$Tzr++)C$Tzt[C$Tzr]=C$Tzi;return C$Tzt;},C$Tzo.ensureArrayCapacity=function(C$Tzt,C$Tze,C$Tzi){return void 0===C$Tzi&&(C$Tzi=0),C$Tzt.length>=C$Tze?C$Tzt:C$Tzo.setArraySize(C$Tzt,C$Tze,C$Tzi);},C$Tzo.newArray=function(C$Tzt,C$Tze){for(var C$Tzi=new Array(C$Tzt),C$Tzn=0;C$Tzn<C$Tzt;C$Tzn++)C$Tzi[C$Tzn]=C$Tze;return C$Tzi;},C$Tzo.newFloatArray=function(C$Tzt){if(C$Tzo.SUPPORTS_TYPED_ARRAYS)return new Float32Array(C$Tzt);for(var C$Tze=new Array(C$Tzt),C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++)C$Tze[C$Tzi]=0;return C$Tze;},C$Tzo.newShortArray=function(C$Tzt){if(C$Tzo.SUPPORTS_TYPED_ARRAYS)return new Int16Array(C$Tzt);for(var C$Tze=new Array(C$Tzt),C$Tzi=0;C$Tzi<C$Tze.length;C$Tzi++)C$Tze[C$Tzi]=0;return C$Tze;},C$Tzo.toFloatArray=function(C$Tzt){return C$Tzo.SUPPORTS_TYPED_ARRAYS?new Float32Array(C$Tzt):C$Tzt;},C$Tzo.toSinglePrecision=function(C$Tzt){return C$Tzo.SUPPORTS_TYPED_ARRAYS?Math.fround(C$Tzt):C$Tzt;},C$Tzo.webkit602BugfixHelper=function(C$Tzt,C$Tze){},C$Tzo.contains=function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=!0);for(var C$Tzn=0;C$Tzn<C$Tzt.length;C$Tzn++)if(C$Tzt[C$Tzn]==C$Tze)return!0;return!1;},C$Tzo.SUPPORTS_TYPED_ARRAYS=H[534]!=typeof Float32Array,C$Tzt.Utils=C$Tzo,C$Tzf.logBones=function(C$Tzt){for(var C$Tze=0;C$Tze<C$Tzt.bones.length;C$Tze++){var C$Tzi=C$Tzt.bones[C$Tze];console.log(C$Tzi.data.name+H[1637]+C$Tzi.a+H[1637]+C$Tzi.b+H[1637]+C$Tzi.c+H[1637]+C$Tzi.d+H[1637]+C$Tzi.worldX+H[1637]+C$Tzi.worldY);}},C$Tzt.DebugUtils=C$Tzf,C$Tza.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator();},C$Tza.prototype.free=function(C$Tzt){C$Tzt.reset&&C$Tzt.reset(),this.items.push(C$Tzt);},C$Tza.prototype.freeAll=function(C$Tzt){for(var C$Tze=0;C$Tze<C$Tzt.length;C$Tze++)C$Tzt[C$Tze].reset&&C$Tzt[C$Tze].reset(),this.items[C$Tze]=C$Tzt[C$Tze];},C$Tza.prototype.clear=function(){this.items.length=0;},C$Tzt.Pool=C$Tza,C$Tzc.prototype.set=function(C$Tzt,C$Tze){return this.x=C$Tzt,this.y=C$Tze,this;},C$Tzc.prototype.length=function(){var C$Tzt=this.x,C$Tze=this.y;return Math.sqrt(C$Tzt*C$Tzt+C$Tze*C$Tze);},C$Tzc.prototype.normalize=function(){var C$Tzt=this.length();return 0!=C$Tzt&&(this.x/=C$Tzt,this.y/=C$Tzt),this;},C$Tzt.Vector2=C$Tzc,C$Tzp.prototype.update=function(){var C$Tzt=Date.now()/1e3;this.delta=C$Tzt-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=C$Tzt,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0);},C$Tzt.TimeKeeper=C$Tzp,C$Tzl.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length;},C$Tzl.prototype.addValue=function(C$Tzt){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=C$Tzt,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0;},C$Tzl.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var C$Tzt=0,C$Tze=0;C$Tze<this.values.length;C$Tze++)C$Tzt+=this.values[C$Tze];this.mean=C$Tzt/this.values.length,this.dirty=!1;}return this.mean;}return 0;},C$Tzt.WindowedMean=C$Tzl;}(C$Tzt=C$Tzt||{}),Math.fround||(Math.fround=(C$Tzv=new Float32Array(1),function(C$Tzt){return C$Tzv[0]=C$Tzt,C$Tzv[0];})),(C$Tzx=C$Tzt=C$Tzt||{}).Attachment=C$TzJ,C$TzV(C$TzZ,C$Tzb=C$TzJ),C$TzZ.prototype.computeWorldVertices=function(C$Tzh,C$Tzu,C$Tz_,C$Tzt,C$Tzd,C$Tzf){C$Tz_=C$Tzd+(C$Tz_>>1)*C$Tzf;var C$Tzp=C$Tzh.bone.skeleton,C$Tzm=C$Tzh.deform,C$Tze=this.vertices,C$Tzi=this.bones;if(null!=C$Tzi){for(var C$Tzn=0,C$Tzy=0,C$Tzg=0;C$Tzg<C$Tzu;C$Tzg+=2)C$Tzn+=(C$Tzr=C$Tzi[C$Tzn])+1,C$Tzy+=C$Tzr;var C$Tzv=C$Tzp.bones;if(0==C$Tzm.length)for(C$Tzc=C$Tzd,C$Tzl=3*C$Tzy;C$Tzc<C$Tz_;C$Tzc+=C$Tzf){var C$Tzx=0,C$Tzb=0,C$Tzr=C$Tzi[C$Tzn++];for(C$Tzr+=C$Tzn;C$Tzn<C$Tzr;C$Tzn++,C$Tzl+=3){var C$Tzs=C$Tzv[C$Tzi[C$Tzn]],C$Tzo=C$Tze[C$Tzl],C$Tza=C$Tze[C$Tzl+1],C$TzA=C$Tze[C$Tzl+2];C$Tzx+=(C$Tzo*C$Tzs.a+C$Tza*C$Tzs.b+C$Tzs.worldX)*C$TzA,C$Tzb+=(C$Tzo*C$Tzs.c+C$Tza*C$Tzs.d+C$Tzs.worldY)*C$TzA;}C$Tzt[C$Tzc]=C$Tzx,C$Tzt[C$Tzc+1]=C$Tzb;}else for(var C$TzC=C$Tzm,C$Tzc=C$Tzd,C$Tzl=3*C$Tzy,C$TzS=C$Tzy<<1;C$Tzc<C$Tz_;C$Tzc+=C$Tzf){C$Tzx=0,C$Tzb=0,C$Tzr=C$Tzi[C$Tzn++];for(C$Tzr+=C$Tzn;C$Tzn<C$Tzr;C$Tzn++,C$Tzl+=3,C$TzS+=2){C$Tzs=C$Tzv[C$Tzi[C$Tzn]],C$Tzo=C$Tze[C$Tzl]+C$TzC[C$TzS],C$Tza=C$Tze[C$Tzl+1]+C$TzC[C$TzS+1],C$TzA=C$Tze[C$Tzl+2];C$Tzx+=(C$Tzo*C$Tzs.a+C$Tza*C$Tzs.b+C$Tzs.worldX)*C$TzA,C$Tzb+=(C$Tzo*C$Tzs.c+C$Tza*C$Tzs.d+C$Tzs.worldY)*C$TzA;}C$Tzt[C$Tzc]=C$Tzx,C$Tzt[C$Tzc+1]=C$Tzb;}}else{0<C$Tzm.length&&(C$Tze=C$Tzm);for(var C$Tzs,C$TzT=(C$Tzs=C$Tzh.bone).worldX,C$Tzw=C$Tzs.worldY,C$TzE=C$Tzs.a,C$Tzl=C$Tzs.b,C$TzM=C$Tzs.c,C$TzI=C$Tzs.d,C$TzB=C$Tzu,C$Tzc=C$Tzd;C$Tzc<C$Tz_;C$TzB+=2,C$Tzc+=C$Tzf){var C$Tzo=C$Tze[C$TzB],C$Tza=C$Tze[C$TzB+1];C$Tzt[C$Tzc]=C$Tzo*C$TzE+C$Tza*C$Tzl+C$TzT,C$Tzt[C$Tzc+1]=C$Tzo*C$TzM+C$Tza*C$TzI+C$Tzw;}}},C$TzZ.prototype.copyTo=function(C$Tzt){null!=this.bones?(C$Tzt.bones=new Array(this.bones.length),C$Tzx.Utils.arrayCopy(this.bones,0,C$Tzt.bones,0,this.bones.length)):C$Tzt.bones=null,null!=this.vertices?(C$Tzt.vertices=C$Tzx.Utils.newFloatArray(this.vertices.length),C$Tzx.Utils.arrayCopy(this.vertices,0,C$Tzt.vertices,0,this.vertices.length)):C$Tzt.vertices=null,C$Tzt.worldVerticesLength=this.worldVerticesLength,C$Tzt.deformAttachment=this.deformAttachment;},C$TzZ.nextID=0,C$Tzx.VertexAttachment=C$TzZ,(C$Tzn=(C$Tzn=C$Tzt=C$Tzt||{}).AttachmentType||(C$Tzn.AttachmentType={}))[C$Tzn.Region=0]=H[2954],C$Tzn[C$Tzn.BoundingBox=1]=H[2955],C$Tzn[C$Tzn.Mesh=2]=H[2956],C$Tzn[C$Tzn.LinkedMesh=3]=H[2957],C$Tzn[C$Tzn.Path=4]=H[2958],C$Tzn[C$Tzn.Point=5]=H[2959],C$Tzn[C$Tzn.Clipping=6]=H[2960],C$TzA=C$Tzt=C$Tzt||{},C$TzC=C$TzA.VertexAttachment,C$TzV(C$TzK,C$TzC),C$TzK.prototype.copy=function(){var C$Tzt=new C$TzK(name);return this.copyTo(C$Tzt),C$Tzt.color.setFromColor(this.color),C$Tzt;},C$TzA.BoundingBoxAttachment=C$TzK,C$TzS=C$Tzt=C$Tzt||{},C$TzT=C$TzS.VertexAttachment,C$TzV(C$TzQ,C$TzT),C$TzQ.prototype.copy=function(){var C$Tzt=new C$TzQ(name);return this.copyTo(C$Tzt),C$Tzt.endSlot=this.endSlot,C$Tzt.color.setFromColor(this.color),C$Tzt;},C$TzS.ClippingAttachment=C$TzQ,C$Tzu=C$Tzt=C$Tzt||{},C$Tzw=C$Tzu.VertexAttachment,C$TzV(C$Tz$,C$Tzw),C$Tz$.prototype.updateUVs=function(){var C$Tzt=this.regionUVs,C$Tze=(null!=this.uvs&&this.uvs.length==C$Tzt.length||(this.uvs=C$Tzu.Utils.newFloatArray(C$Tzt.length)),this.uvs),C$Tzh=this.uvs.length,C$Tzi=this.region.u,C$Tzn=this.region.v,C$Tzr=0,C$Tzs=0;if(this.region instanceof C$Tzu.TextureAtlasRegion){var C$Tzo=this.region,C$Tza=C$Tzo.texture.getImage().width,C$Tzc=C$Tzo.texture.getImage().height;switch(C$Tzo.degrees){case 90:C$Tzi-=(C$Tzo.originalHeight-C$Tzo.offsetY-C$Tzo.height)/C$Tza,C$Tzn-=(C$Tzo.originalWidth-C$Tzo.offsetX-C$Tzo.width)/C$Tzc;for(var C$Tzr=C$Tzo.originalHeight/C$Tza,C$Tzs=C$Tzo.originalWidth/C$Tzc,C$Tzl=0;C$Tzl<C$Tzh;C$Tzl+=2)C$Tze[C$Tzl]=C$Tzi+C$Tzt[C$Tzl+1]*C$Tzr,C$Tze[C$Tzl+1]=C$Tzn+(1-C$Tzt[C$Tzl])*C$Tzs;return;case 180:C$Tzi-=(C$Tzo.originalWidth-C$Tzo.offsetX-C$Tzo.width)/C$Tza,C$Tzn-=C$Tzo.offsetY/C$Tzc,C$Tzr=C$Tzo.originalWidth/C$Tza,C$Tzs=C$Tzo.originalHeight/C$Tzc;for(C$Tzl=0;C$Tzl<C$Tzh;C$Tzl+=2)C$Tze[C$Tzl]=C$Tzi+(1-C$Tzt[C$Tzl])*C$Tzr,C$Tze[C$Tzl+1]=C$Tzn+(1-C$Tzt[C$Tzl+1])*C$Tzs;return;case 270:C$Tzi-=C$Tzo.offsetY/C$Tza,C$Tzn-=C$Tzo.offsetX/C$Tzc,C$Tzr=C$Tzo.originalHeight/C$Tza,C$Tzs=C$Tzo.originalWidth/C$Tzc;for(C$Tzl=0;C$Tzl<C$Tzh;C$Tzl+=2)C$Tze[C$Tzl]=C$Tzi+(1-C$Tzt[C$Tzl+1])*C$Tzr,C$Tze[C$Tzl+1]=C$Tzn+C$Tzt[C$Tzl]*C$Tzs;return;}C$Tzi-=C$Tzo.offsetX/C$Tza,C$Tzn-=(C$Tzo.originalHeight-C$Tzo.offsetY-C$Tzo.height)/C$Tzc,C$Tzr=C$Tzo.originalWidth/C$Tza,C$Tzs=C$Tzo.originalHeight/C$Tzc;}else null==this.region?(C$Tzi=C$Tzn=0,C$Tzr=C$Tzs=1):(C$Tzr=this.region.u2-C$Tzi,C$Tzs=this.region.v2-C$Tzn);for(C$Tzl=0;C$Tzl<C$Tzh;C$Tzl+=2)C$Tze[C$Tzl]=C$Tzi+C$Tzt[C$Tzl]*C$Tzr,C$Tze[C$Tzl+1]=C$Tzn+C$Tzt[C$Tzl+1]*C$Tzs;},C$Tz$.prototype.getParentMesh=function(){return this.parentMesh;},C$Tz$.prototype.setParentMesh=function(C$Tzt){null!=(this.parentMesh=C$Tzt)&&(this.bones=C$Tzt.bones,this.vertices=C$Tzt.vertices,this.worldVerticesLength=C$Tzt.worldVerticesLength,this.regionUVs=C$Tzt.regionUVs,this.triangles=C$Tzt.triangles,this.hullLength=C$Tzt.hullLength,this.worldVerticesLength=C$Tzt.worldVerticesLength);},C$Tz$.prototype.copy=function(){if(null!=this.parentMesh)return this.newLinkedMesh();var C$Tzt=new C$Tz$(this.name);return C$Tzt.region=this.region,C$Tzt.path=this.path,C$Tzt.color.setFromColor(this.color),this.copyTo(C$Tzt),C$Tzt.regionUVs=new Array(this.regionUVs.length),C$Tzu.Utils.arrayCopy(this.regionUVs,0,C$Tzt.regionUVs,0,this.regionUVs.length),C$Tzt.uvs=new Array(this.uvs.length),C$Tzu.Utils.arrayCopy(this.uvs,0,C$Tzt.uvs,0,this.uvs.length),C$Tzt.triangles=new Array(this.triangles.length),C$Tzu.Utils.arrayCopy(this.triangles,0,C$Tzt.triangles,0,this.triangles.length),C$Tzt.hullLength=this.hullLength,null!=this.edges&&(C$Tzt.edges=new Array(this.edges.length),C$Tzu.Utils.arrayCopy(this.edges,0,C$Tzt.edges,0,this.edges.length)),C$Tzt.width=this.width,C$Tzt.height=this.height,C$Tzt;},C$Tz$.prototype.newLinkedMesh=function(){var C$Tzt=new C$Tz$(this.name);return C$Tzt.region=this.region,C$Tzt.path=this.path,C$Tzt.color.setFromColor(this.color),C$Tzt.deformAttachment=this.deformAttachment,C$Tzt.setParentMesh(null!=this.parentMesh?this.parentMesh:this),C$Tzt.updateUVs(),C$Tzt;},C$Tzu.MeshAttachment=C$Tz$,C$TzE=C$Tzt=C$Tzt||{},C$TzM=C$TzE.VertexAttachment,C$TzV(C$Tztt,C$TzM),C$Tztt.prototype.copy=function(){var C$Tzt=new C$Tztt(name);return this.copyTo(C$Tzt),C$Tzt.lengths=new Array(this.lengths.length),C$TzE.Utils.arrayCopy(this.lengths,0,C$Tzt.lengths,0,this.lengths.length),C$Tzt.closed=closed,C$Tzt.constantSpeed=this.constantSpeed,C$Tzt.color.setFromColor(this.color),C$Tzt;},C$TzE.PathAttachment=C$Tztt,C$TzI=C$Tzt=C$Tzt||{},C$TzB=C$TzI.VertexAttachment,C$TzV(C$Tzet,C$TzB),C$Tzet.prototype.computeWorldPosition=function(C$Tzt,C$Tze){return C$Tze.x=this.x*C$Tzt.a+this.y*C$Tzt.b+C$Tzt.worldX,C$Tze.y=this.x*C$Tzt.c+this.y*C$Tzt.d+C$Tzt.worldY,C$Tze;},C$Tzet.prototype.computeWorldRotation=function(C$Tzt){var C$Tze=C$TzI.MathUtils.cosDeg(this.rotation),C$Tzi=C$TzI.MathUtils.sinDeg(this.rotation),C$Tzn=C$Tze*C$Tzt.a+C$Tzi*C$Tzt.b,C$Tze=C$Tze*C$Tzt.c+C$Tzi*C$Tzt.d;return Math.atan2(C$Tze,C$Tzn)*C$TzI.MathUtils.radDeg;},C$Tzet.prototype.copy=function(){var C$Tzt=new C$Tzet(name);return C$Tzt.x=this.x,C$Tzt.y=this.y,C$Tzt.rotation=this.rotation,C$Tzt.color.setFromColor(this.color),C$Tzt;},C$TzI.PointAttachment=C$Tzet,C$TzR=C$Tzt=C$Tzt||{},C$TzP=C$TzR.Attachment,C$TzV(C$Tz_,C$TzP),C$Tz_.prototype.updateOffset=function(){var C$Tzt=this.width/this.region.originalWidth*this.scaleX,C$Tze=this.height/this.region.originalHeight*this.scaleY,C$Tzi=-this.width/2*this.scaleX+this.region.offsetX*C$Tzt,C$Tzn=-this.height/2*this.scaleY+this.region.offsetY*C$Tze,C$Tzt=C$Tzi+this.region.width*C$Tzt,C$Tze=C$Tzn+this.region.height*C$Tze,C$Tzr=this.rotation*Math.PI/180,C$Tzs=Math.cos(C$Tzr),C$Tzr=Math.sin(C$Tzr),C$Tzo=C$Tzi*C$Tzs+this.x,C$Tzi=C$Tzi*C$Tzr,C$Tza=C$Tzn*C$Tzs+this.y,C$Tzn=C$Tzn*C$Tzr,C$Tzc=C$Tzt*C$Tzs+this.x,C$Tzt=C$Tzt*C$Tzr,C$Tzs=C$Tze*C$Tzs+this.y,C$Tze=C$Tze*C$Tzr,C$Tzr=this.offset;C$Tzr[C$Tz_.OX1]=C$Tzo-C$Tzn,C$Tzr[C$Tz_.OY1]=C$Tza+C$Tzi,C$Tzr[C$Tz_.OX2]=C$Tzo-C$Tze,C$Tzr[C$Tz_.OY2]=C$Tzs+C$Tzi,C$Tzr[C$Tz_.OX3]=C$Tzc-C$Tze,C$Tzr[C$Tz_.OY3]=C$Tzs+C$Tzt,C$Tzr[C$Tz_.OX4]=C$Tzc-C$Tzn,C$Tzr[C$Tz_.OY4]=C$Tza+C$Tzt;},C$Tz_.prototype.setRegion=function(C$Tzt){this.region=C$Tzt;var C$Tze=this.uvs;C$Tzt.rotate?(C$Tze[2]=C$Tzt.u,C$Tze[3]=C$Tzt.v2,C$Tze[4]=C$Tzt.u,C$Tze[5]=C$Tzt.v,C$Tze[6]=C$Tzt.u2,C$Tze[7]=C$Tzt.v,C$Tze[0]=C$Tzt.u2,C$Tze[1]=C$Tzt.v2):(C$Tze[0]=C$Tzt.u,C$Tze[1]=C$Tzt.v2,C$Tze[2]=C$Tzt.u,C$Tze[3]=C$Tzt.v,C$Tze[4]=C$Tzt.u2,C$Tze[5]=C$Tzt.v,C$Tze[6]=C$Tzt.u2,C$Tze[7]=C$Tzt.v2);},C$Tz_.prototype.computeWorldVertices=function(C$Tzt,C$Tze,C$Tzi,C$Tzh){var C$Tzn=this.offset,C$Tzr=C$Tzt.worldX,C$Tzs=C$Tzt.worldY,C$Tzo=C$Tzt.a,C$Tza=C$Tzt.b,C$Tzu=C$Tzt.c,C$Tzt=C$Tzt.d,C$Tzc=C$Tzn[C$Tz_.OX1],C$Tzl=C$Tzn[C$Tz_.OY1];C$Tze[C$Tzi]=C$Tzc*C$Tzo+C$Tzl*C$Tza+C$Tzr,C$Tze[C$Tzi+1]=C$Tzc*C$Tzu+C$Tzl*C$Tzt+C$Tzs,C$Tzc=C$Tzn[C$Tz_.OX2],C$Tzl=C$Tzn[C$Tz_.OY2],C$Tze[C$Tzi+=C$Tzh]=C$Tzc*C$Tzo+C$Tzl*C$Tza+C$Tzr,C$Tze[C$Tzi+1]=C$Tzc*C$Tzu+C$Tzl*C$Tzt+C$Tzs,C$Tzc=C$Tzn[C$Tz_.OX3],C$Tzl=C$Tzn[C$Tz_.OY3],C$Tze[C$Tzi+=C$Tzh]=C$Tzc*C$Tzo+C$Tzl*C$Tza+C$Tzr,C$Tze[C$Tzi+1]=C$Tzc*C$Tzu+C$Tzl*C$Tzt+C$Tzs,C$Tzc=C$Tzn[C$Tz_.OX4],C$Tzl=C$Tzn[C$Tz_.OY4],C$Tze[C$Tzi+=C$Tzh]=C$Tzc*C$Tzo+C$Tzl*C$Tza+C$Tzr,C$Tze[C$Tzi+1]=C$Tzc*C$Tzu+C$Tzl*C$Tzt+C$Tzs;},C$Tz_.prototype.copy=function(){var C$Tzt=new C$Tz_(name);return C$Tzt.region=this.region,C$Tzt.rendererObject=this.rendererObject,C$Tzt.path=this.path,C$Tzt.x=this.x,C$Tzt.y=this.y,C$Tzt.scaleX=this.scaleX,C$Tzt.scaleY=this.scaleY,C$Tzt.rotation=this.rotation,C$Tzt.width=this.width,C$Tzt.height=this.height,C$TzR.Utils.arrayCopy(this.uvs,0,C$Tzt.uvs,0,8),C$TzR.Utils.arrayCopy(this.offset,0,C$Tzt.offset,0,8),C$Tzt.color.setFromColor(this.color),C$Tzt;},C$Tz_.OX1=0,C$Tz_.OY1=1,C$Tz_.OX2=2,C$Tz_.OY2=3,C$Tz_.OX3=4,C$Tz_.OY3=5,C$Tz_.OX4=6,C$Tz_.OY4=7,C$Tz_.X1=0,C$Tz_.Y1=1,C$Tz_.C1R=2,C$Tz_.C1G=3,C$Tz_.C1B=4,C$Tz_.C1A=5,C$Tz_.U1=6,C$Tz_.V1=7,C$Tz_.X2=8,C$Tz_.Y2=9,C$Tz_.C2R=10,C$Tz_.C2G=11,C$Tz_.C2B=12,C$Tz_.C2A=13,C$Tz_.U2=14,C$Tz_.V2=15,C$Tz_.X3=16,C$Tz_.Y3=17,C$Tz_.C3R=18,C$Tz_.C3G=19,C$Tz_.C3B=20,C$Tz_.C3A=21,C$Tz_.U3=22,C$Tz_.V3=23,C$Tz_.X4=24,C$Tz_.Y4=25,C$Tz_.C4R=26,C$Tz_.C4G=27,C$Tz_.C4B=28,C$Tz_.C4A=29,C$Tz_.U4=30,C$Tz_.V4=31,C$TzR.RegionAttachment=C$Tz_,function(C$Tzr){function C$Tzt(C$Tzt,C$Tze){this.jitterX=0,this.jitterY=0,this.jitterX=C$Tzt,this.jitterY=C$Tze;}C$Tzt.prototype.begin=function(C$Tzt){},C$Tzt.prototype.transform=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzt.x+=C$Tzr.MathUtils.randomTriangular(-this.jitterX,this.jitterY),C$Tzt.y+=C$Tzr.MathUtils.randomTriangular(-this.jitterX,this.jitterY);},C$Tzt.prototype.end=function(){},C$Tzr.JitterEffect=C$Tzt;}(C$Tzt=C$Tzt||{}),C$TzD=C$Tzt=C$Tzt||{},C$Tzit.prototype.begin=function(C$Tzt){this.worldX=C$Tzt.x+this.centerX,this.worldY=C$Tzt.y+this.centerY;},C$Tzit.prototype.transform=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=this.angle*C$TzD.MathUtils.degreesToRadians,C$Tzs=C$Tzt.x-this.worldX,C$Tzo=C$Tzt.y-this.worldY,C$Tza=Math.sqrt(C$Tzs*C$Tzs+C$Tzo*C$Tzo);C$Tza<this.radius&&(C$Tzr=this.interpolation.apply(0,C$Tzr,(this.radius-C$Tza)/this.radius),C$Tza=Math.cos(C$Tzr),C$Tzr=Math.sin(C$Tzr),C$Tzt.x=C$Tza*C$Tzs-C$Tzr*C$Tzo+this.worldX,C$Tzt.y=C$Tzr*C$Tzs+C$Tza*C$Tzo+this.worldY);},C$Tzit.prototype.end=function(){},C$Tzit.interpolation=new C$TzD.PowOut(2),C$TzD.SwirlEffect=C$Tzit,C$Tzo.exports=C$Tzt;},{}],356:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzy,C$Tzg,C$Tzv,C$Tzx,C$Tzb,C$TzA,C$Tzo=C$Tzt(H[2749]),C$TzI=C$Tzt(H[2751]),C$TzB=[],C$TzF=[],C$TzN=0,C$TzR=0,C$TzP=0,C$Tzk=null,C$TzG=null,C$TzD=0,C$Tzz=0,C$TzL=0,C$TzC=0,C$TzS=null,C$TzT=null,C$TzV=0,C$TzO=0,C$Tzp=new C$TzI.Color(1,1,1,1),C$Tzm=new C$TzI.Color(1,1,1,1),C$TzU=[0,1,2,2,3,0],C$Tzs=cc.Class({ctor:function(){this._privateMode=!1,this._inited=!1,this._invalid=!0,this._enableCacheAttachedInfo=!1,this.frames=[],this.totalTime=0,this._frameIdx=-1,this.isCompleted=!1,this._skeletonInfo=null,this._animationName=null,this._tempSegments=null,this._tempColors=null,this._tempBoneInfos=null;},init:function(C$Tzt,C$Tze){this._inited=!0,this._animationName=C$Tze,this._skeletonInfo=C$Tzt;},clear:function(){this._inited=!1;for(var C$Tzt=0,C$Tze=this.frames.length;C$Tzt<C$Tze;C$Tzt++)this.frames[C$Tzt].segments.length=0;this.invalidAllFrame();},bind:function(C$Tzt){var C$Tze=function(C$Tzt){C$Tzt&&C$Tzt.animation.name===this._animationName&&(this.isCompleted=!0);}.bind(this);C$Tzt.complete=C$Tze;},unbind:function(C$Tzt){C$Tzt.complete=null;},begin:function(){var C$Tzt,C$Tze,C$Tzi,C$Tzn;this._invalid&&((C$Tzn=(C$Tzt=this._skeletonInfo).curAnimationCache)&&C$Tzn!==this&&(this._privateMode?C$Tzn.invalidAllFrame():C$Tzn.updateToFrame()),C$Tzn=C$Tzt.skeleton,C$Tze=C$Tzt.listener,C$Tzi=C$Tzt.state,C$Tzn=C$Tzn.data.findAnimation(this._animationName),C$Tzi.setAnimationWith(0,C$Tzn,!1),this.bind(C$Tze),(C$Tzt.curAnimationCache=this)._frameIdx=-1,this.isCompleted=!1,this.totalTime=0,this._invalid=!1);},end:function(){this._needToUpdate()||(this._skeletonInfo.curAnimationCache=null,this.frames.length=this._frameIdx+1,this.isCompleted=!0,this.unbind(this._skeletonInfo.listener));},_needToUpdate:function(C$Tzt){return!this.isCompleted&&this.totalTime<30&&(null==C$Tzt||this._frameIdx<C$Tzt);},updateToFrame:function(C$Tzt){if(this._inited&&(this.begin(),this._needToUpdate(C$Tzt))){for(var C$Tze=this._skeletonInfo,C$Tzi=C$Tze.skeleton,C$Tzn=C$Tze.clipper,C$Tzr=C$Tze.state;C$Tzi.update(1/60),C$Tzr.update(1/60),C$Tzr.apply(C$Tzi),C$Tzi.updateWorldTransform(),this._frameIdx++,this._updateFrame(C$Tzi,C$Tzn,this._frameIdx),this.totalTime+=1/60,this._needToUpdate(C$Tzt););this.end();}},isInited:function(){return this._inited;},isInvalid:function(){return this._invalid;},invalidAllFrame:function(){this.isCompleted=!1,this._invalid=!0;},updateAllFrame:function(){this.invalidAllFrame(),this.updateToFrame();},enableCacheAttachedInfo:function(){this._enableCacheAttachedInfo||(this._enableCacheAttachedInfo=!0,this.invalidAllFrame());},_updateFrame:function(C$Tzt,C$Tze,C$Tzi){C$TzC=C$TzL=C$Tzz=C$TzD=C$TzR=C$TzN=C$TzP=0,C$TzT=C$TzS=C$TzG=C$Tzk=null,this.frames[C$Tzi]=this.frames[C$Tzi]||{segments:[],colors:[],boneInfos:[],vertices:null,uintVert:null,indices:null};var C$Tzi=this.frames[C$Tzi],C$Tzn=this._tempSegments=C$Tzi.segments,C$Tzh=this._tempColors=C$Tzi.colors,C$Tzu=this._tempBoneInfos=C$Tzi.boneInfos,C$Tzt=(this._traverseSkeleton(C$Tzt,C$Tze),0<C$TzC&&(C$Tzh[C$TzC-1].vfOffset=C$TzP),C$Tzh.length=C$TzC,C$Tzu.length=C$TzN,C$TzL-1);if(0<=C$Tzt&&(0<C$Tzz?((C$Tze=C$Tzn[C$Tzt]).indexCount=C$Tzz,C$Tze.vfCount=6*C$TzD,C$Tze.vertexCount=C$TzD,C$Tzn.length=C$TzL):C$Tzn.length=C$TzL-1),0!=C$Tzn.length){var C$Tzr=C$Tzi.vertices,C$Tzs=C$Tzi.uintVert;(!C$Tzr||C$Tzr.length<C$TzP)&&(C$Tzr=C$Tzi.vertices=new Float32Array(C$TzP),C$Tzs=C$Tzi.uintVert=new Uint32Array(C$Tzr.buffer));for(var C$Tzo=0,C$Tza=0;C$Tzo<C$TzP;)C$Tzr[C$Tzo++]=C$TzB[C$Tza++],C$Tzr[C$Tzo++]=C$TzB[C$Tza++],C$Tzr[C$Tzo++]=C$TzB[C$Tza++],C$Tzr[C$Tzo++]=C$TzB[C$Tza++],C$Tzs[C$Tzo++]=C$TzB[C$Tza++],C$Tzs[C$Tzo++]=C$TzB[C$Tza++];var C$Tzc=C$Tzi.indices;(!C$Tzc||C$Tzc.length<C$TzR)&&(C$Tzc=C$Tzi.indices=new Uint16Array(C$TzR));for(var C$Tzl=0;C$Tzl<C$TzR;C$Tzl++)C$Tzc[C$Tzl]=C$TzF[C$Tzl];C$Tzi.vertices=C$Tzr,C$Tzi.uintVert=C$Tzs,C$Tzi.indices=C$Tzc;}},fillVertices:function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){if(C$Tzx=C$Tzi.a*C$Tze.a*C$Tzt.a*255,C$Tzy=C$Tze.r*C$Tzt.r*255,C$Tzg=C$Tze.g*C$Tzt.g*255,C$Tzv=C$Tze.b*C$Tzt.b*255,C$Tzp.r=C$Tzy*C$Tzi.r,C$Tzp.g=C$Tzg*C$Tzi.g,C$Tzp.b=C$Tzv*C$Tzi.b,C$Tzp.a=C$Tzx,null==C$Tzr.darkColor?C$Tzm.set(0,0,0,1):(C$Tzm.r=C$Tzr.darkColor.r*C$Tzy,C$Tzm.g=C$Tzr.darkColor.g*C$Tzg,C$Tzm.b=C$Tzr.darkColor.b*C$Tzv),C$Tzm.a=0,C$Tzb=(C$Tzp.a<<24>>>0)+(C$Tzp.b<<16)+(C$Tzp.g<<8)+C$Tzp.r,C$TzA=(C$Tzm.a<<24>>>0)+(C$Tzm.b<<16)+(C$Tzm.g<<8)+C$Tzm.r,C$TzS===C$Tzb&&C$TzT===C$TzA||(C$Tze=this._tempColors,C$TzS=C$Tzb,C$TzT=C$TzA,0<C$TzC&&(C$Tze[C$TzC-1].vfOffset=C$TzP),C$Tze[C$TzC++]={fr:C$Tzp.r,fg:C$Tzp.g,fb:C$Tzp.b,fa:C$Tzp.a,dr:C$Tzm.r,dg:C$Tzm.g,db:C$Tzm.b,da:C$Tzm.a,vfOffset:0}),C$Tzn.isClipping()){C$Tzn.clipTriangles(C$TzB,C$TzV,C$TzF,C$TzO,C$TzB,C$Tzp,C$Tzm,!0,6,C$TzR,C$TzP,C$TzP+2);var C$Tzs=C$Tzn.clippedVertices,C$Tzo=C$Tzn.clippedTriangles;C$TzO=C$Tzo.length,C$TzV=C$Tzs.length/12*6;for(var C$Tzh=0,C$Tzu=C$TzR,C$Tz_=C$Tzo.length;C$Tzh<C$Tz_;)C$TzF[C$Tzu++]=C$Tzo[C$Tzh++];for(var C$Tza=0,C$Tzd=C$Tzs.length,C$Tzc=C$TzP;C$Tza<C$Tzd;C$Tza+=12,C$Tzc+=6)C$TzB[C$Tzc]=C$Tzs[C$Tza],C$TzB[C$Tzc+1]=C$Tzs[C$Tza+1],C$TzB[C$Tzc+2]=C$Tzs[C$Tza+6],C$TzB[C$Tzc+3]=C$Tzs[C$Tza+7],C$TzB[C$Tzc+4]=C$Tzb,C$TzB[C$Tzc+5]=C$TzA;}else for(var C$Tzl=C$TzP,C$Tzf=C$TzP+C$TzV;C$Tzl<C$Tzf;C$Tzl+=6)C$TzB[C$Tzl+4]=C$Tzb,C$TzB[C$Tzl+5]=C$TzA;},_traverseSkeleton:function(C$Tzt,C$Tze){var C$Tzi,C$Tzn,C$Tzh,C$Tzu,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tz_=this._tempSegments,C$Tzd=this._tempBoneInfos,C$Tzf=C$Tzt.color,C$Tzp=C$Tzt.bones;if(this._enableCacheAttachedInfo)for(var C$Tzm=0,C$Tzy=C$Tzp.length;C$Tzm<C$Tzy;C$Tzm++,C$TzN++){var C$Tzc=C$Tzp[C$Tzm],C$Tzl=C$Tzd[C$TzN];(C$Tzl=C$Tzl||(C$Tzd[C$TzN]={})).a=C$Tzc.a,C$Tzl.b=C$Tzc.b,C$Tzl.c=C$Tzc.c,C$Tzl.d=C$Tzc.d,C$Tzl.worldX=C$Tzc.worldX,C$Tzl.worldY=C$Tzc.worldY;}for(var C$Tzg=0,C$Tzv=C$Tzt.drawOrder.length;C$Tzg<C$Tzv;C$Tzg++)if(C$Tza=C$Tzt.drawOrder[C$Tzg],C$TzO=C$TzV=0,C$Tzi=C$Tza.getAttachment()){if(C$Tzh=C$Tzi instanceof C$TzI.RegionAttachment,C$Tzu=C$Tzi instanceof C$TzI.MeshAttachment,C$Tzi instanceof C$TzI.ClippingAttachment)C$Tze.clipStart(C$Tza,C$Tzi);else if(C$Tzh||C$Tzu){if(C$Tzr=C$Tzi.region.texture._texture){if(C$Tzo=C$Tza.data.blendMode,C$Tzk===C$Tzr.url&&C$TzG===C$Tzo||(C$Tzk=C$Tzr.url,C$TzG=C$Tzo,0<=(C$Tzs=C$TzL-1)&&(0<C$Tzz?((C$Tzs=C$Tz_[C$Tzs]).indexCount=C$Tzz,C$Tzs.vertexCount=C$TzD,C$Tzs.vfCount=6*C$TzD):C$TzL--),C$Tz_[C$TzL]={tex:C$Tzr,blendMode:C$Tzo,indexCount:0,vertexCount:0,vfCount:0},C$TzL++,C$TzD=C$Tzz=0),C$Tzh?(C$Tzn=C$TzU,C$TzV=24,C$TzO=6,C$Tzi.computeWorldVertices(C$Tza.bone,C$TzB,C$TzP,6)):C$Tzu&&(C$Tzn=C$Tzi.triangles,C$TzV=6*(C$Tzi.worldVerticesLength>>1),C$TzO=C$Tzn.length,C$Tzi.computeWorldVertices(C$Tza,0,C$Tzi.worldVerticesLength,C$TzB,C$TzP,6)),0!=C$TzV&&0!=C$TzO){for(var C$Tzx=0,C$Tzb=C$TzR,C$TzA=C$Tzn.length;C$Tzx<C$TzA;)C$TzF[C$Tzb++]=C$Tzn[C$Tzx++];for(var C$TzC=C$Tzi.uvs,C$TzS=C$TzP,C$TzT=C$TzP+C$TzV,C$Tzw=0;C$TzS<C$TzT;C$TzS+=6,C$Tzw+=2)C$TzB[C$TzS+2]=C$TzC[C$Tzw],C$TzB[C$TzS+3]=C$TzC[C$Tzw+1];if(C$Tzs=C$Tzi.color,C$Tzr=C$Tza.color,this.fillVertices(C$Tzf,C$Tzs,C$Tzr,C$Tze,C$Tza),0<C$TzO){for(var C$TzE=C$TzR,C$TzM=C$TzR+C$TzO;C$TzE<C$TzM;C$TzE++)C$TzF[C$TzE]+=C$TzD;C$TzR+=C$TzO,C$TzP+=C$TzV,C$Tzz+=C$TzO,C$TzD+=C$TzV/6;}C$Tze.clipEndWithSlot(C$Tza);}else C$Tze.clipEndWithSlot(C$Tza);}else C$Tze.clipEndWithSlot(C$Tza);}else C$Tze.clipEndWithSlot(C$Tza);}else C$Tze.clipEndWithSlot(C$Tza);C$Tze.clipEnd();}}),C$Tzt=cc.Class({ctor:function(){this._privateMode=!1,this._animationPool={},this._skeletonCache={};},enablePrivateMode:function(){this._privateMode=!0;},clear:function(){this._animationPool={},this._skeletonCache={};},removeSkeleton:function(C$Tzt){var C$Tze=this._skeletonCache[C$Tzt];if(C$Tze){var C$Tzi,C$Tzn=C$Tze.animationsCache;for(C$Tzi in C$Tzn){var C$Tzr=C$Tzn[C$Tzi];C$Tzr&&(this._animationPool[C$Tzt+"#"+C$Tzi]=C$Tzr).clear();}delete this._skeletonCache[C$Tzt];}},getSkeletonCache:function(C$Tzt,C$Tze){var C$Tzi,C$Tzn,C$Tzr,C$Tzs=this._skeletonCache[C$Tzt];return C$Tzs||(C$Tze=new C$TzI.Skeleton(C$Tze),C$Tzi=new C$TzI.SkeletonClipping(),C$Tzn=new C$TzI.AnimationStateData(C$Tze.data),C$Tzn=new C$TzI.AnimationState(C$Tzn),C$Tzr=new C$Tzo(),C$Tzn.addListener(C$Tzr),this._skeletonCache[C$Tzt]=C$Tzs={skeleton:C$Tze,clipper:C$Tzi,state:C$Tzn,listener:C$Tzr,animationsCache:{},curAnimationCache:null}),C$Tzs;},getAnimationCache:function(C$Tzt,C$Tze){C$Tzt=this._skeletonCache[C$Tzt];return C$Tzt?C$Tzt.animationsCache[C$Tze]:null;},invalidAnimationCache:function(C$Tzt){C$Tzt=this._skeletonCache[C$Tzt];if(C$Tzt&&C$Tzt.skeleton){var C$Tze,C$Tzi=C$Tzt.animationsCache;for(C$Tze in C$Tzi)C$Tzi[C$Tze].invalidAllFrame();}},initAnimationCache:function(C$Tzt,C$Tze){if(!C$Tze)return null;var C$Tzi=this._skeletonCache[C$Tzt],C$Tzn=C$Tzi&&C$Tzi.skeleton;if(!C$Tzn)return null;if(!C$Tzn.data.findAnimation(C$Tze))return null;var C$Tzn=C$Tzi.animationsCache,C$Tzr=C$Tzn[C$Tze];return C$Tzr||((C$Tzr=this._animationPool[C$Tzt=C$Tzt+"#"+C$Tze])?delete this._animationPool[C$Tzt]:(C$Tzr=new C$Tzs())._privateMode=this._privateMode,C$Tzr.init(C$Tzi,C$Tze),C$Tzn[C$Tze]=C$Tzr),C$Tzr;},updateAnimationCache:function(C$Tzt,C$Tze){if(C$Tze){C$Tze=this.initAnimationCache(C$Tzt,C$Tze);if(!C$Tze)return null;C$Tze.updateAllFrame();}else{C$Tze=this._skeletonCache[C$Tzt];if(C$Tze&&C$Tze.skeleton){var C$Tzi,C$Tzn=C$Tze.animationsCache;for(C$Tzi in C$Tzn)C$Tzn[C$Tzi].updateAllFrame();}}}});C$Tzt.FrameTime=1/60,C$Tzt.sharedCache=new C$Tzt(),C$Tze.exports=C$Tzt;},{"./lib/spine":355,"./track-entry-listeners":360}],357:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[2753]).sharedCache,C$Tzt=cc.Class({name:H[2961],extends:cc.Asset,ctor:function(){this.reset();},properties:{_skeletonJson:null,skeletonJsonStr:{get:function(){return this._skeletonJson?JSON.stringify(this._skeletonJson):"";}},skeletonJson:{get:function(){return this._skeletonJson;},set:function(C$Tzt){this.reset(),this._skeletonJson=H[462]==typeof C$Tzt?JSON.parse(C$Tzt):C$Tzt,!this._uuid&&C$Tzt.skeleton&&(this._uuid=C$Tzt.skeleton.hash);}},_atlasText:"",atlasText:{get:function(){return this._atlasText;},set:function(C$Tzt){this._atlasText=C$Tzt,this.reset();}},textures:{default:[],type:[cc.Texture2D]},textureNames:{default:[],type:[cc.String]},scale:1,_nativeAsset:{get:function(){return this._buffer;},set:function(C$Tzt){this._buffer=C$Tzt.buffer||C$Tzt,this.reset();},override:!0}},statics:{preventDeferredLoadDependents:!0},createNode:!1,reset:function(){this._skeletonCache=null,this._atlasCache=null;},ensureTexturesLoaded:function(C$Tzt,C$Tze){var C$Tzi=this.textures,C$Tzn=C$Tzi.length;if(0!=C$Tzn)for(var C$Tzr=0,C$Tzs=function(){C$Tzn<=++C$Tzr&&(C$Tzt&&C$Tzt.call(C$Tze,!0),C$Tzt=null);},C$Tzo=0;C$Tzo<C$Tzn;C$Tzo++){var C$Tza=C$Tzi[C$Tzo];C$Tza.loaded?C$Tzs():C$Tza.once(H[514],C$Tzs);}else C$Tzt.call(C$Tze,!1);},isTexturesLoaded:function(){for(var C$Tzt=this.textures,C$Tze=C$Tzt.length,C$Tzi=0;C$Tzi<C$Tze;C$Tzi++)if(!C$Tzt[C$Tzi].loaded)return!1;return!0;},getRuntimeData:function(C$Tzt){if(this._skeletonCache)return this._skeletonCache;if(!(this.textures&&0<this.textures.length)&&this.textureNames&&0<this.textureNames.length)return C$Tzt||cc.errorID(7507,this.name),null;C$Tzt=this._getAtlas(C$Tzt);if(!C$Tzt)return null;var C$Tze=new sp.spine.AtlasAttachmentLoader(C$Tzt),C$Tzi=null,C$Tzn=null,C$Tzi=this.skeletonJson?(C$Tzn=new sp.spine.SkeletonJson(C$Tze),this.skeletonJson):(C$Tzn=new sp.spine.SkeletonBinary(C$Tze),new Uint8Array(this._nativeAsset));return C$Tzn.scale=this.scale,this._skeletonCache=C$Tzn.readSkeletonData(C$Tzi),C$Tzt.dispose(),this._skeletonCache;},getSkinsEnum:!1,getAnimsEnum:!1,_getTexture:function(C$Tzt){for(var C$Tze,C$Tzi,C$Tzn=this.textureNames,C$Tzr=0;C$Tzr<C$Tzn.length;C$Tzr++)if(C$Tzn[C$Tzr]===C$Tzt)return C$Tze=this.textures[C$Tzr],(C$Tzi=new sp.SkeletonTexture({width:C$Tze.width,height:C$Tze.height})).setRealTexture(C$Tze),C$Tzi;return cc.errorID(7506,C$Tzt),null;},_getAtlas:function(C$Tzt){return this._atlasCache||(this.atlasText?this._atlasCache=new sp.spine.TextureAtlas(this.atlasText,this._getTexture.bind(this)):(C$Tzt||cc.errorID(7508,this.name),null));},destroy:function(){C$Tzn.removeSkeleton(this._uuid),this._super();}});sp.SkeletonData=C$Tze.exports=C$Tzt;},{"./skeleton-cache":356}],358:[function(C$Tzt,C$Tze,C$Tzi){"use strict";sp.SkeletonTexture=cc.Class({name:H[2962],extends:sp.spine.Texture,_texture:null,_material:null,setRealTexture:function(C$Tzt){this._texture=C$Tzt;},getRealTexture:function(){return this._texture;},setFilters:function(C$Tzt,C$Tze){this._texture&&this._texture.setFilters(C$Tzt,C$Tze);},setWraps:function(C$Tzt,C$Tze){this._texture&&this._texture.setWrapMode(C$Tzt,C$Tze);},dispose:function(){}});},{}],359:[function(C$Tzt,C$Tze,C$Tzi){"use strict";C$Tzi.__esModule=!0,C$Tzi.default=void 0;var C$Tzn=(C$Tzn=C$Tzt(H[2963]))&&C$Tzn.__esModule?C$Tzn:{default:C$Tzn};function C$Tzr(C$Tzi){return function(){var C$Tzt,C$Tze=C$Tzs(C$Tzi),C$Tze=(C$Tzt=function(){if(H[534]==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(H[704]==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(C$Tzt){return!1;}}()?(C$Tzt=C$Tzs(this).constructor,Reflect.construct(C$Tze,arguments,C$Tzt)):C$Tze.apply(this,arguments),this);if(!C$Tzt||H[802]!=typeof C$Tzt&&H[704]!=typeof C$Tzt){if(void 0===C$Tze)throw new ReferenceError(H[803]);return C$Tze;}return C$Tzt;};}function C$Tzs(C$Tzt){return(C$Tzs=Object.setPrototypeOf?Object.getPrototypeOf:function(C$Tzt){return C$Tzt.__proto__||Object.getPrototypeOf(C$Tzt);})(C$Tzt);}var C$Tzb,C$TzA,C$TzW,C$TzH,C$TzO,C$Tzj,C$TzX,C$TzY,C$TzC,C$TzS,C$TzT,C$Tzw,C$TzI,C$TzB,C$Tzo,C$TzF,C$Tzq,C$TzR,C$TzP,C$TzE,C$TzM,C$TzD,C$TzJ,C$TzZ,C$TzK,C$TzQ,C$Tz$,C$Tztt,C$Tzet,C$Tzit,C$Tznt,C$Tzrt,C$Tza,C$Tzc,C$Tzl,C$Tzh,C$Tzu,C$Tz_,C$Tzd,C$TzN,C$Tzk,C$Tzst,C$Tzot,C$TzL,C$TzV,C$Tzf=C$Tzt(H[2774]),C$Tzat=C$Tzt(H[2751]),C$Tzp=C$Tzt(H[2745]),C$Tzt=C$Tzt(H[2964]),C$Tzm=C$Tzt.vfmtPosUvColor,C$Tzy=C$Tzt.vfmtPosUvTwoColor,C$Tzg=cc.gfx,C$Tzct=0,C$Tzlt=[0,1,2,2,3,0],C$Tzht=cc.color(0,0,255,255),C$Tzut=cc.color(255,0,0,255),C$Tz_t=cc.color(0,255,0,255),C$Tzdt=cc.color(255,255,0,255),C$Tzv=null,C$Tzx=null,C$Tzft=null,C$Tzpt=null,C$Tzv=new C$Tzat.Color(1,1,1,1),C$Tzx=new C$Tzat.Color(1,1,1,1),C$Tzft=new C$Tzat.Vector2(),C$Tzpt=new C$Tzat.Vector2(),C$TzG=0,C$Tzz=0,C$Tzmt=0,C$TzU=0,C$Tzyt=0;function C$Tzgt(C$Tzt,C$Tze){var C$Tzi,C$Tzn;switch(C$Tze){case C$Tzat.BlendMode.Additive:C$Tzi=C$Tzb?cc.macro.ONE:cc.macro.SRC_ALPHA,C$Tzn=cc.macro.ONE;break;case C$Tzat.BlendMode.Multiply:C$Tzi=cc.macro.DST_COLOR,C$Tzn=cc.macro.ONE_MINUS_SRC_ALPHA;break;case C$Tzat.BlendMode.Screen:C$Tzi=cc.macro.ONE,C$Tzn=cc.macro.ONE_MINUS_SRC_COLOR;break;default:C$Tzat.BlendMode.Normal;C$Tzi=C$Tzb?cc.macro.ONE:cc.macro.SRC_ALPHA,C$Tzn=cc.macro.ONE_MINUS_SRC_ALPHA;}var C$Tze=!C$TzN.enableBatch,C$Tzr=C$TzN._materials[0];if(!C$Tzr)return null;var C$Tzs=C$Tzt.getId()+C$Tzi+C$Tzn+C$TzO+C$Tze,C$Tzo=C$TzN._materialCache,C$Tza=C$Tzo[C$Tzs];return C$Tza||(C$Tzo.baseMaterial?C$Tza=cc.MaterialVariant.create(C$Tzr):C$Tzo.baseMaterial=C$Tza=C$Tzr,C$Tza.define(H[896],C$Tze),C$Tza.define(H[2760],C$TzO),C$Tza.setProperty(H[883],C$Tzt),C$Tza.setBlend(!0,C$Tzg.BLEND_FUNC_ADD,C$Tzi,C$Tzn,C$Tzg.BLEND_FUNC_ADD,C$Tzi,C$Tzn),C$Tzo[C$Tzs]=C$Tza),C$Tza;}function C$Tzvt(C$Tzt){C$Tzu=C$Tzt.fa*C$Tzw,C$Tza=C$TzC*(C$TzA=C$Tzb?C$Tzu/255:1),C$Tzc=C$TzS*C$TzA,C$Tzl=C$TzT*C$TzA,C$Tzh=C$Tzt.fr*C$Tza,C$Tzd=C$Tzt.fg*C$Tzc,C$Tz_=C$Tzt.fb*C$Tzl,C$TzI=(C$Tzu<<24>>>0)+(C$Tz_<<16)+(C$Tzd<<8)+C$Tzh,C$Tzu=C$Tzt.dr*C$Tza,C$Tz_=C$Tzt.dg*C$Tzc,C$Tzd=C$Tzt.db*C$Tzl,C$TzB=((C$Tzb?255:0)<<24>>>0)+(C$Tzd<<16)+(C$Tz_<<8)+C$Tzu;}function C$Tzxt(C$Tzt){return(C$Tzt.a<<24>>>0)+(C$Tzt.b<<16)+(C$Tzt.g<<8)+C$Tzt.r;}C$Tzbt=C$Tzn.default,C$Tzt=C$Tzbt,(C$TzAt=C$TzCt).prototype=Object.create(C$Tzt.prototype),(C$TzAt.prototype.constructor=C$TzAt).__proto__=C$Tzt,C$Tzr(C$TzCt),(C$TzAt=C$TzCt.prototype).updateRenderData=function(C$Tzt){C$Tzt.isAnimationCached()||(C$Tzt=C$Tzt._skeleton)&&C$Tzt.updateWorldTransform();},C$TzAt.fillVertices=function(C$Tzt,C$Tzh,C$Tze,C$Tzu,C$Tz_){var C$Tzi=C$Tzk._vData,C$Tzd=C$Tzk._iData,C$Tzn=C$Tzk._uintVData;if(C$Tzv.a=C$Tze.a*C$Tzh.a*C$Tzt.a*C$Tzw*255,C$TzA=C$Tzb?C$Tzv.a:255,C$TzE=C$TzC*C$Tzh.r*C$Tzt.r*C$TzA,C$TzM=C$TzS*C$Tzh.g*C$Tzt.g*C$TzA,C$TzD=C$TzT*C$Tzh.b*C$Tzt.b*C$TzA,C$Tzv.r=C$TzE*C$Tze.r,C$Tzv.g=C$TzM*C$Tze.g,C$Tzv.b=C$TzD*C$Tze.b,null==C$Tz_.darkColor?C$Tzx.set(0,0,0,1):(C$Tzx.r=C$Tz_.darkColor.r*C$TzE,C$Tzx.g=C$Tz_.darkColor.g*C$TzM,C$Tzx.b=C$Tz_.darkColor.b*C$TzD),C$Tzx.a=C$Tzb?255:0,C$Tzu.isClipping()){var C$Tzh=C$Tzi.subarray(C$Tzz+2),C$Tzr=(C$Tzu.clipTriangles(C$Tzi.subarray(C$Tzz),C$TzG,C$Tzd.subarray(C$Tzyt),C$TzU,C$Tzh,C$Tzv,C$Tzx,C$TzO,C$TzF),new Float32Array(C$Tzu.clippedVertices)),C$Tzt=C$Tzu.clippedTriangles;if(C$TzU=C$Tzt.length,C$TzG=C$Tzr.length/C$Tzq*C$TzF,C$Tze=C$Tzk.request(C$TzG/C$TzF,C$TzU),C$Tzyt=C$Tze.indiceOffset,C$Tzmt=C$Tze.vertexOffset,C$Tzz=C$Tze.byteOffset>>2,C$Tzi=C$Tzk._vData,C$Tzd=C$Tzk._iData,C$Tzn=C$Tzk._uintVData,C$Tzd.set(C$Tzt,C$Tzyt),C$TzV)for(var C$Tzs=0,C$Tzf=C$Tzr.length,C$Tzo=C$Tzz;C$Tzs<C$Tzf;C$Tzs+=C$Tzq,C$Tzo+=C$TzF)C$Tzft.x=C$Tzr[C$Tzs],C$Tzft.y=C$Tzr[C$Tzs+1],C$Tzv.set(C$Tzr[C$Tzs+2],C$Tzr[C$Tzs+3],C$Tzr[C$Tzs+4],C$Tzr[C$Tzs+5]),C$Tzpt.x=C$Tzr[C$Tzs+6],C$Tzpt.y=C$Tzr[C$Tzs+7],C$TzO?C$Tzx.set(C$Tzr[C$Tzs+8],C$Tzr[C$Tzs+9],C$Tzr[C$Tzs+10],C$Tzr[C$Tzs+11]):C$Tzx.set(0,0,0,0),C$TzV.transform(C$Tzft,C$Tzpt,C$Tzv,C$Tzx),C$Tzi[C$Tzo]=C$Tzft.x,C$Tzi[C$Tzo+1]=C$Tzft.y,C$Tzi[C$Tzo+2]=C$Tzpt.x,C$Tzi[C$Tzo+3]=C$Tzpt.y,C$Tzn[C$Tzo+4]=C$Tzxt(C$Tzv),C$TzO&&(C$Tzn[C$Tzo+5]=C$Tzxt(C$Tzx));else for(var C$Tza=0,C$Tzp=C$Tzr.length,C$Tzc=C$Tzz;C$Tza<C$Tzp;C$Tza+=C$Tzq,C$Tzc+=C$TzF)C$Tzi[C$Tzc]=C$Tzr[C$Tza],C$Tzi[C$Tzc+1]=C$Tzr[C$Tza+1],C$Tzi[C$Tzc+2]=C$Tzr[C$Tza+6],C$Tzi[C$Tzc+3]=C$Tzr[C$Tza+7],C$TzI=(C$Tzr[C$Tza+5]<<24>>>0)+(C$Tzr[C$Tza+4]<<16)+(C$Tzr[C$Tza+3]<<8)+C$Tzr[C$Tza+2],C$Tzn[C$Tzc+4]=C$TzI,C$TzO&&(C$TzB=(C$Tzr[C$Tza+11]<<24>>>0)+(C$Tzr[C$Tza+10]<<16)+(C$Tzr[C$Tza+9]<<8)+C$Tzr[C$Tza+8],C$Tzn[C$Tzc+5]=C$TzB);}else if(C$TzV)for(var C$Tzl=C$Tzz,C$Tzm=C$Tzz+C$TzG;C$Tzl<C$Tzm;C$Tzl+=C$TzF)C$Tzft.x=C$Tzi[C$Tzl],C$Tzft.y=C$Tzi[C$Tzl+1],C$Tzpt.x=C$Tzi[C$Tzl+2],C$Tzpt.y=C$Tzi[C$Tzl+3],C$TzV.transform(C$Tzft,C$Tzpt,C$Tzv,C$Tzx),C$Tzi[C$Tzl]=C$Tzft.x,C$Tzi[C$Tzl+1]=C$Tzft.y,C$Tzi[C$Tzl+2]=C$Tzpt.x,C$Tzi[C$Tzl+3]=C$Tzpt.y,C$Tzn[C$Tzl+4]=C$Tzxt(C$Tzv),C$TzO&&(C$Tzn[C$Tzl+5]=C$Tzxt(C$Tzx));else{C$TzI=C$Tzxt(C$Tzv),C$TzB=C$Tzxt(C$Tzx);for(var C$Tzy=C$Tzz,C$Tzg=C$Tzz+C$TzG;C$Tzy<C$Tzg;C$Tzy+=C$TzF)C$Tzn[C$Tzy+4]=C$TzI,C$TzO&&(C$Tzn[C$Tzy+5]=C$TzB);}},C$TzAt.realTimeTraverse=function(C$Tzh){var C$Tzt,C$Tzu,C$Tze,C$Tzi,C$Tz_,C$Tzn,C$Tzr,C$Tzs,C$Tzd=C$TzN._skeleton,C$Tzf=C$Tzd.color,C$Tzo=C$TzN._debugRenderer,C$Tza=C$TzN._clipper,C$Tzp=null;C$TzW=C$TzN._startSlotIndex,C$TzH=C$TzN._endSlotIndex,C$TzJ=-1==C$TzW?!0:!1,C$Tzj=C$TzN.debugSlots,C$TzX=C$TzN.debugBones,C$TzY=C$TzN.debugMesh,C$Tzo&&(C$TzX||C$Tzj||C$TzY)&&(C$Tzo.clear(),C$Tzo.lineWidth=2),C$Tzq=C$TzO?12:8;for(var C$Tzm=C$Tzyt=C$TzU=C$Tzmt=C$Tzz=C$TzG=0,C$Tzy=C$Tzd.drawOrder.length;C$Tzm<C$Tzy;C$Tzm++)if(C$Tzr=C$Tzd.drawOrder[C$Tzm],C$TzJ=0<=C$TzW&&C$TzW==C$Tzr.data.index?!0:C$TzJ){if(0<=C$TzH&&C$TzH==C$Tzr.data.index&&(C$TzJ=!1),C$TzU=C$TzG=0,C$Tzs=C$Tzr.getAttachment()){if(C$Tzi=C$Tzs instanceof C$Tzat.RegionAttachment,C$Tz_=C$Tzs instanceof C$Tzat.MeshAttachment,C$Tzs instanceof C$Tzat.ClippingAttachment)C$Tza.clipStart(C$Tzr,C$Tzs);else if(C$Tzi||C$Tz_){if(C$Tzp=C$Tzgt(C$Tzs.region.texture._texture,C$Tzr.data.blendMode)){if(!C$TzZ&&C$Tzp.getHash()===C$Tzst.material.getHash()||(C$TzZ=!1,C$Tzst._flush(),C$Tzst.node=C$Tzot,C$Tzst.material=C$Tzp),C$Tzi){if(C$Tze=C$Tzlt,C$TzG=4*C$TzF,C$TzU=6,C$Tzn=C$Tzk.request(4,6),C$Tzyt=C$Tzn.indiceOffset,C$Tzmt=C$Tzn.vertexOffset,C$Tzz=C$Tzn.byteOffset>>2,C$Tzt=C$Tzk._vData,C$Tzu=C$Tzk._iData,C$Tzs.computeWorldVertices(C$Tzr.bone,C$Tzt,C$Tzz,C$TzF),C$Tzo&&C$Tzj){C$Tzo.strokeColor=C$Tzht,C$Tzo.moveTo(C$Tzt[C$Tzz],C$Tzt[C$Tzz+1]);for(var C$Tzg=C$Tzz+C$TzF,C$Tzv=C$Tzz+C$TzG;C$Tzg<C$Tzv;C$Tzg+=C$TzF)C$Tzo.lineTo(C$Tzt[C$Tzg],C$Tzt[C$Tzg+1]);C$Tzo.close(),C$Tzo.stroke();}}else if(C$Tz_&&(C$Tze=C$Tzs.triangles,C$TzG=(C$Tzs.worldVerticesLength>>1)*C$TzF,C$TzU=C$Tze.length,C$Tzn=C$Tzk.request(C$TzG/C$TzF,C$TzU),C$Tzyt=C$Tzn.indiceOffset,C$Tzmt=C$Tzn.vertexOffset,C$Tzz=C$Tzn.byteOffset>>2,C$Tzt=C$Tzk._vData,C$Tzu=C$Tzk._iData,C$Tzs.computeWorldVertices(C$Tzr,0,C$Tzs.worldVerticesLength,C$Tzt,C$Tzz,C$TzF),C$Tzo&&C$TzY)){C$Tzo.strokeColor=C$Tzdt;for(var C$Tzx=0,C$Tzb=C$Tze.length;C$Tzx<C$Tzb;C$Tzx+=3){var C$TzA=C$Tze[C$Tzx]*C$TzF+C$Tzz,C$TzC=C$Tze[C$Tzx+1]*C$TzF+C$Tzz,C$TzS=C$Tze[C$Tzx+2]*C$TzF+C$Tzz;C$Tzo.moveTo(C$Tzt[C$TzA],C$Tzt[C$TzA+1]),C$Tzo.lineTo(C$Tzt[C$TzC],C$Tzt[C$TzC+1]),C$Tzo.lineTo(C$Tzt[C$TzS],C$Tzt[C$TzS+1]),C$Tzo.close(),C$Tzo.stroke();}}if(0!=C$TzG&&0!=C$TzU){C$Tzu.set(C$Tze,C$Tzyt);for(var C$TzT=C$Tzs.uvs,C$Tzw=C$Tzz,C$TzE=C$Tzz+C$TzG,C$TzM=0;C$Tzw<C$TzE;C$Tzw+=C$TzF,C$TzM+=2)C$Tzt[C$Tzw+2]=C$TzT[C$TzM],C$Tzt[C$Tzw+3]=C$TzT[C$TzM+1];if(C$Tzi=C$Tzs.color,C$Tz_=C$Tzr.color,this.fillVertices(C$Tzf,C$Tzi,C$Tz_,C$Tza,C$Tzr),0<C$TzU){for(var C$TzI=C$Tzyt,C$TzB=C$Tzyt+C$TzU;C$TzI<C$TzB;C$TzI++)C$Tzu[C$TzI]+=C$Tzmt;if(C$Tzh){C$Tzs=C$Tzh.m,C$Tz$=C$Tzs[0],C$Tztt=C$Tzs[4],C$Tzet=C$Tzs[12],C$Tzit=C$Tzs[1],C$Tznt=C$Tzs[5],C$Tzrt=C$Tzs[13];for(var C$Tzc=C$Tzz,C$TzR=C$Tzz+C$TzG;C$Tzc<C$TzR;C$Tzc+=C$TzF)C$TzK=C$Tzt[C$Tzc],C$TzQ=C$Tzt[C$Tzc+1],C$Tzt[C$Tzc]=C$TzK*C$Tz$+C$TzQ*C$Tztt+C$Tzet,C$Tzt[C$Tzc+1]=C$TzK*C$Tzit+C$TzQ*C$Tznt+C$Tzrt;}C$Tzk.adjust(C$TzG/C$TzF,C$TzU);}C$Tza.clipEndWithSlot(C$Tzr);}else C$Tza.clipEndWithSlot(C$Tzr);}else C$Tza.clipEndWithSlot(C$Tzr);}else C$Tza.clipEndWithSlot(C$Tzr);}else C$Tza.clipEndWithSlot(C$Tzr);}else C$Tza.clipEndWithSlot(C$Tzr);if(C$Tza.clipEnd(),C$Tzo&&C$TzX){C$Tzo.strokeColor=C$Tzut,C$Tzo.fillColor=C$Tzht;for(var C$TzP=0,C$TzD=C$Tzd.bones.length;C$TzP<C$TzD;C$TzP++){var C$Tzl,C$TzL=(C$Tzl=C$Tzd.bones[C$TzP]).data.length*C$Tzl.a+C$Tzl.worldX,C$TzV=C$Tzl.data.length*C$Tzl.c+C$Tzl.worldY;C$Tzo.moveTo(C$Tzl.worldX,C$Tzl.worldY),C$Tzo.lineTo(C$TzL,C$TzV),C$Tzo.stroke(),C$Tzo.circle(C$Tzl.worldX,C$Tzl.worldY,1.5*Math.PI),C$Tzo.fill(),0===C$TzP&&(C$Tzo.fillColor=C$Tz_t);}}},C$TzAt.cacheTraverse=function(C$Tzt){var C$Tze=C$TzN._curFrame;if(C$Tze){var C$Tzh=C$Tze.segments;if(0!=C$Tzh.length){var C$Tzu=C$Tze.vertices,C$Tz_=C$Tze.indices,C$Tzi=0,C$Tzd=0;C$Tzt&&(C$Tzt=C$Tzt.m,C$Tz$=C$Tzt[0],C$Tzit=C$Tzt[1],C$Tztt=C$Tzt[4],C$Tznt=C$Tzt[5],C$Tzet=C$Tzt[12],C$Tzrt=C$Tzt[13]);var C$Tzf=16&C$Tzct,C$Tzp=C$Tzf&&1===C$Tz$&&0===C$Tzit&&0===C$Tztt&&1===C$Tznt,C$Tzm=0,C$Tzy=C$Tze.colors,C$Tzn=C$Tzy[C$Tzm++],C$Tzg=C$Tzn.vfOffset;C$Tzvt(C$Tzn);for(var C$Tzv=0,C$Tzx=C$Tzh.length;C$Tzv<C$Tzx;C$Tzv++){var C$Tzr,C$Tzs=C$Tzh[C$Tzv];if(C$Tzr=C$Tzgt(C$Tzs.tex,C$Tzs.blendMode)){!C$TzZ&&C$Tzr.getHash()===C$Tzst.material.getHash()||(C$TzZ=!1,C$Tzst._flush(),C$Tzst.node=C$Tzot,C$Tzst.material=C$Tzr),C$TzR=C$Tzs.vertexCount,C$TzU=C$Tzs.indexCount,C$Tzr=C$Tzk.request(C$TzR,C$TzU),C$Tzyt=C$Tzr.indiceOffset,C$Tzmt=C$Tzr.vertexOffset,C$TzP=C$Tzr.byteOffset>>2;for(var C$Tzo=C$Tzk._vData,C$Tzb=C$Tzk._iData,C$TzA=C$Tzk._uintVData,C$TzC=C$Tzyt,C$TzS=C$Tzyt+C$TzU;C$TzC<C$TzS;C$TzC++)C$Tzb[C$TzC]=C$Tzmt+C$Tz_[C$Tzd++];if(C$Tzr=C$Tzs.vfCount,C$Tzo.set(C$Tzu.subarray(C$Tzi,C$Tzi+C$Tzr),C$TzP),C$Tzi+=C$Tzr,C$Tzp)for(var C$Tza=C$TzP,C$TzT=C$TzP+C$Tzr;C$Tza<C$TzT;C$Tza+=6)C$Tzo[C$Tza]+=C$Tzet,C$Tzo[C$Tza+1]+=C$Tzrt;else if(C$Tzf)for(var C$Tzc=C$TzP,C$Tzw=C$TzP+C$Tzr;C$Tzc<C$Tzw;C$Tzc+=6)C$TzK=C$Tzo[C$Tzc],C$TzQ=C$Tzo[C$Tzc+1],C$Tzo[C$Tzc]=C$TzK*C$Tz$+C$TzQ*C$Tztt+C$Tzet,C$Tzo[C$Tzc+1]=C$TzK*C$Tzit+C$TzQ*C$Tznt+C$Tzrt;if(C$Tzk.adjust(C$TzR,C$TzU),C$TzL)for(var C$TzE=C$Tzi-C$Tzr,C$Tzl=4+C$TzP,C$TzM=4+C$TzP+C$Tzr;C$Tzl<C$TzM;C$Tzl+=6,C$TzE+=6)C$Tzg<=C$TzE&&(C$Tzvt(C$Tzn=C$Tzy[C$Tzm++]),C$Tzg=C$Tzn.vfOffset),C$TzA[C$Tzl]=C$TzI,C$TzA[C$Tzl+1]=C$TzB;}}}}},C$TzAt.fillBuffers=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.node;C$Tzi._renderFlag|=C$Tzp.FLAG_UPDATE_RENDER_DATA,C$Tzt._skeleton&&(C$Tzi=C$Tzi._color,C$TzC=C$Tzi.r/255,C$TzS=C$Tzi.g/255,C$TzT=C$Tzi.b/255,C$Tzw=C$Tzi.a/255,C$TzO=C$Tzt.useTint||C$Tzt.isAnimationCached(),C$Tzo=C$TzO?C$Tzy:C$Tzm,C$TzF=C$TzO?6:5,C$Tzot=C$Tzt.node,C$Tzk=C$Tze.getBuffer(H[1710],C$Tzo),C$Tzst=C$Tze,C$TzZ=!0,C$Tzb=(C$TzN=C$Tzt).premultipliedAlpha,C$Tzct=0,C$TzL=!(C$TzA=1),C$TzV=C$Tzt._effectDelegate&&C$Tzt._effectDelegate._vertexEffect,4294967295===C$Tzi._val&&!C$Tzb||(C$TzL=!0),C$Tzi=void(C$TzO&&(C$Tzct|=1)),C$TzN.enableBatch&&(C$Tzi=C$Tzot._worldMatrix,C$TzZ=!1,C$Tzct|=16),C$Tzt.isAnimationCached()?this.cacheTraverse(C$Tzi):(C$TzV&&C$TzV.begin(C$Tzt._skeleton),this.realTimeTraverse(C$Tzi),C$TzV&&C$TzV.end()),C$Tze.worldMatDirty++,C$Tzt.attachUtil._syncAttachedNode(),C$TzN=C$Tzst=C$Tzk=C$Tzot=void 0,C$TzV=null);},C$TzAt.postFillBuffers=function(C$Tzt,C$Tze){C$Tze.worldMatDirty--;};var C$Tzbt,C$TzAt,C$Tzt=C$TzCt;function C$TzCt(){return C$Tzbt.apply(this,arguments)||this;}C$Tzi.default=C$Tzt,C$Tzn.default.register(C$Tzf,C$Tzt),C$Tze.exports=C$Tzi.default;},{"../../cocos2d/core/renderer/assembler":217,"../../cocos2d/core/renderer/render-flow":221,"../../cocos2d/core/renderer/webgl/vertex-format":252,"./Skeleton":353,"./lib/spine":355}],360:[function(C$Tzt,C$Tze,C$Tzi){"use strict";function C$Tzn(){this.start=null,this.end=null,this.complete=null,this.event=null,this.interrupt=null,this.dispose=null;}C$Tzn.getListeners=function(C$Tzt){return C$Tzt.listener||(C$Tzt.listener=new C$Tzn()),C$Tzt.listener;},C$Tze.exports=C$Tzn;},{}],361:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=C$Tzt(H[2751]);sp.VertexEffectDelegate=cc.Class({name:H[2965],ctor:function(){this._vertexEffect=null,this._interpolation=null,this._effectType=H[587];},clear:function(){this._vertexEffect=null,this._interpolation=null,this._effectType=H[587];},initJitter:function(C$Tzt,C$Tze){return this._effectType=H[2966],this._vertexEffect=new C$Tzn.JitterEffect(C$Tzt,C$Tze),this._vertexEffect;},initSwirlWithPow:function(C$Tzt,C$Tze){return this._interpolation=new C$Tzn.Pow(C$Tze),this._vertexEffect=new C$Tzn.SwirlEffect(C$Tzt,this._interpolation),this._vertexEffect;},initSwirlWithPowOut:function(C$Tzt,C$Tze){return this._interpolation=new C$Tzn.PowOut(C$Tze),this._vertexEffect=new C$Tzn.SwirlEffect(C$Tzt,this._interpolation),this._vertexEffect;},getJitterVertexEffect:function(){return this._vertexEffect;},getSwirlVertexEffect:function(){return this._vertexEffect;},getVertexEffect:function(){return this._vertexEffect;},getEffectType:function(){return this._effectType;}}),C$Tze.exports=sp.VertexEffectDelegate;},{"./lib/spine":355}],362:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn;C$Tzn=function(C$TzH){function C$Tzf(C$Tzt,C$Tze){return void 0!==C$Tzt?C$Tzt:C$Tze;}var C$TzP=1e37,C$TzM=1e-5,C$Tzg=C$TzM*C$TzM,C$Tzm=3.14159265359,C$TzI=2/180*C$Tzm,C$Tzp=8/180*C$Tzm,C$TzT=.5*C$Tzm,C$Tzw=C$TzT*C$TzT,C$Tzt=2/180*C$Tzm;C$Tzn.prototype.toString=function(){return this.major+"."+this.minor+"."+this.revision;};var C$Tzi=C$Tzn;function C$Tzn(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzt&&(C$Tzt=0),void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=0),this.major=0,this.minor=0,this.revision=0,this.major=C$Tzt,this.minor=C$Tze,this.revision=C$Tzi;}var C$Tzs=new C$Tzi(2,3,2);function C$Tzc(C$Tzt,C$Tze){for(var C$Tzi=[],C$Tzn=0;C$Tzn<C$Tzt;++C$Tzn)C$Tzi.push(C$Tze(C$Tzn));return C$Tzi;}function C$Tzh(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=0);for(var C$Tzi=[],C$Tzn=0;C$Tzn<C$Tzt;++C$Tzn)C$Tzi.push(C$Tze);return C$Tzi;}var C$TzD=Math.abs,C$TzL=Math.min,C$TzV=Math.max;function C$TzO(C$Tzt,C$Tze,C$Tzi){return C$Tzt<C$Tze?C$Tze:C$Tzi<C$Tzt?C$Tzi:C$Tzt;}var C$Tzo=isFinite;function C$Tz_(C$Tzt){return C$Tzt*C$Tzt;}function C$TzA(C$Tzt){return 1/Math.sqrt(C$Tzt);}var C$TzY=Math.sqrt,C$Tza=Math.pow;var C$Tzl=Math.cos,C$Tzu=Math.sin,C$Tzd=Math.acos,C$Tzy=Math.asin,C$Tzv=Math.atan2;C$Tze.prototype.Clone=function(){return new C$Tze(this.x,this.y);},C$Tze.prototype.SetZero=function(){return this.x=0,this.y=0,this;},C$Tze.prototype.Set=function(C$Tzt,C$Tze){return this.x=C$Tzt,this.y=C$Tze,this;},C$Tze.prototype.Copy=function(C$Tzt){return this.x=C$Tzt.x,this.y=C$Tzt.y,this;},C$Tze.prototype.SelfAdd=function(C$Tzt){return this.x+=C$Tzt.x,this.y+=C$Tzt.y,this;},C$Tze.prototype.SelfAddXY=function(C$Tzt,C$Tze){return this.x+=C$Tzt,this.y+=C$Tze,this;},C$Tze.prototype.SelfSub=function(C$Tzt){return this.x-=C$Tzt.x,this.y-=C$Tzt.y,this;},C$Tze.prototype.SelfSubXY=function(C$Tzt,C$Tze){return this.x-=C$Tzt,this.y-=C$Tze,this;},C$Tze.prototype.SelfMul=function(C$Tzt){return this.x*=C$Tzt,this.y*=C$Tzt,this;},C$Tze.prototype.SelfMulAdd=function(C$Tzt,C$Tze){return this.x+=C$Tzt*C$Tze.x,this.y+=C$Tzt*C$Tze.y,this;},C$Tze.prototype.SelfMulSub=function(C$Tzt,C$Tze){return this.x-=C$Tzt*C$Tze.x,this.y-=C$Tzt*C$Tze.y,this;},C$Tze.prototype.Dot=function(C$Tzt){return this.x*C$Tzt.x+this.y*C$Tzt.y;},C$Tze.prototype.Cross=function(C$Tzt){return this.x*C$Tzt.y-this.y*C$Tzt.x;},C$Tze.prototype.Length=function(){var C$Tzt=this.x,C$Tze=this.y;return Math.sqrt(C$Tzt*C$Tzt+C$Tze*C$Tze);},C$Tze.prototype.LengthSquared=function(){var C$Tzt=this.x,C$Tze=this.y;return C$Tzt*C$Tzt+C$Tze*C$Tze;},C$Tze.prototype.Normalize=function(){var C$Tzt,C$Tze=this.Length();return C$TzM<=C$Tze&&(this.x*=C$Tzt=1/C$Tze,this.y*=C$Tzt),C$Tze;},C$Tze.prototype.SelfNormalize=function(){var C$Tzt=this.Length();return C$TzM<=C$Tzt&&(this.x*=C$Tzt=1/C$Tzt,this.y*=C$Tzt),this;},C$Tze.prototype.SelfRotate=function(C$Tzt){var C$Tze=Math.cos(C$Tzt),C$Tzt=Math.sin(C$Tzt),C$Tzi=this.x;return this.x=C$Tze*C$Tzi-C$Tzt*this.y,this.y=C$Tzt*C$Tzi+C$Tze*this.y,this;},C$Tze.prototype.IsValid=function(){return isFinite(this.x)&&isFinite(this.y);},C$Tze.prototype.SelfCrossVS=function(C$Tzt){var C$Tze=this.x;return this.x=C$Tzt*this.y,this.y=-C$Tzt*C$Tze,this;},C$Tze.prototype.SelfCrossSV=function(C$Tzt){var C$Tze=this.x;return this.x=-C$Tzt*this.y,this.y=C$Tzt*C$Tze,this;},C$Tze.prototype.SelfMinV=function(C$Tzt){return this.x=C$TzL(this.x,C$Tzt.x),this.y=C$TzL(this.y,C$Tzt.y),this;},C$Tze.prototype.SelfMaxV=function(C$Tzt){return this.x=C$TzV(this.x,C$Tzt.x),this.y=C$TzV(this.y,C$Tzt.y),this;},C$Tze.prototype.SelfAbs=function(){return this.x=C$TzD(this.x),this.y=C$TzD(this.y),this;},C$Tze.prototype.SelfNeg=function(){return this.x=-this.x,this.y=-this.y,this;},C$Tze.prototype.SelfSkew=function(){var C$Tzt=this.x;return this.x=-this.y,this.y=C$Tzt,this;},C$Tze.MakeArray=function(C$Tzt){return C$Tzc(C$Tzt,function(C$Tzt){return new C$Tze();});},C$Tze.AbsV=function(C$Tzt,C$Tze){return C$Tze.x=C$TzD(C$Tzt.x),C$Tze.y=C$TzD(C$Tzt.y),C$Tze;},C$Tze.MinV=function(C$Tzt,C$Tze,C$Tzi){return C$Tzi.x=C$TzL(C$Tzt.x,C$Tze.x),C$Tzi.y=C$TzL(C$Tzt.y,C$Tze.y),C$Tzi;},C$Tze.MaxV=function(C$Tzt,C$Tze,C$Tzi){return C$Tzi.x=C$TzV(C$Tzt.x,C$Tze.x),C$Tzi.y=C$TzV(C$Tzt.y,C$Tze.y),C$Tzi;},C$Tze.ClampV=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzn.x=C$TzO(C$Tzt.x,C$Tze.x,C$Tzi.x),C$Tzn.y=C$TzO(C$Tzt.y,C$Tze.y,C$Tzi.y),C$Tzn;},C$Tze.RotateV=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.x,C$Tzt=C$Tzt.y,C$Tzr=Math.cos(C$Tze),C$Tze=Math.sin(C$Tze);return C$Tzi.x=C$Tzr*C$Tzn-C$Tze*C$Tzt,C$Tzi.y=C$Tze*C$Tzn+C$Tzr*C$Tzt,C$Tzi;},C$Tze.DotVV=function(C$Tzt,C$Tze){return C$Tzt.x*C$Tze.x+C$Tzt.y*C$Tze.y;},C$Tze.CrossVV=function(C$Tzt,C$Tze){return C$Tzt.x*C$Tze.y-C$Tzt.y*C$Tze.x;},C$Tze.CrossVS=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.x;return C$Tzi.x=C$Tze*C$Tzt.y,C$Tzi.y=-C$Tze*C$Tzn,C$Tzi;},C$Tze.CrossVOne=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.x;return C$Tze.x=C$Tzt.y,C$Tze.y=-C$Tzi,C$Tze;},C$Tze.CrossSV=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tze.x;return C$Tzi.x=-C$Tzt*C$Tze.y,C$Tzi.y=C$Tzt*C$Tzn,C$Tzi;},C$Tze.CrossOneV=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.x;return C$Tze.x=-C$Tzt.y,C$Tze.y=C$Tzi,C$Tze;},C$Tze.AddVV=function(C$Tzt,C$Tze,C$Tzi){return C$Tzi.x=C$Tzt.x+C$Tze.x,C$Tzi.y=C$Tzt.y+C$Tze.y,C$Tzi;},C$Tze.SubVV=function(C$Tzt,C$Tze,C$Tzi){return C$Tzi.x=C$Tzt.x-C$Tze.x,C$Tzi.y=C$Tzt.y-C$Tze.y,C$Tzi;},C$Tze.MulSV=function(C$Tzt,C$Tze,C$Tzi){return C$Tzi.x=C$Tze.x*C$Tzt,C$Tzi.y=C$Tze.y*C$Tzt,C$Tzi;},C$Tze.MulVS=function(C$Tzt,C$Tze,C$Tzi){return C$Tzi.x=C$Tzt.x*C$Tze,C$Tzi.y=C$Tzt.y*C$Tze,C$Tzi;},C$Tze.AddVMulSV=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzn.x=C$Tzt.x+C$Tze*C$Tzi.x,C$Tzn.y=C$Tzt.y+C$Tze*C$Tzi.y,C$Tzn;},C$Tze.SubVMulSV=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzn.x=C$Tzt.x-C$Tze*C$Tzi.x,C$Tzn.y=C$Tzt.y-C$Tze*C$Tzi.y,C$Tzn;},C$Tze.AddVCrossSV=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tzi.x;return C$Tzn.x=C$Tzt.x-C$Tze*C$Tzi.y,C$Tzn.y=C$Tzt.y+C$Tze*C$Tzr,C$Tzn;},C$Tze.MidVV=function(C$Tzt,C$Tze,C$Tzi){return C$Tzi.x=.5*(C$Tzt.x+C$Tze.x),C$Tzi.y=.5*(C$Tzt.y+C$Tze.y),C$Tzi;},C$Tze.ExtVV=function(C$Tzt,C$Tze,C$Tzi){return C$Tzi.x=.5*(C$Tze.x-C$Tzt.x),C$Tzi.y=.5*(C$Tze.y-C$Tzt.y),C$Tzi;},C$Tze.IsEqualToV=function(C$Tzt,C$Tze){return C$Tzt.x===C$Tze.x&&C$Tzt.y===C$Tze.y;},C$Tze.DistanceVV=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.x-C$Tze.x,C$Tzt=C$Tzt.y-C$Tze.y;return Math.sqrt(C$Tzi*C$Tzi+C$Tzt*C$Tzt);},C$Tze.DistanceSquaredVV=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.x-C$Tze.x,C$Tzt=C$Tzt.y-C$Tze.y;return C$Tzi*C$Tzi+C$Tzt*C$Tzt;},C$Tze.NegV=function(C$Tzt,C$Tze){return C$Tze.x=-C$Tzt.x,C$Tze.y=-C$Tzt.y,C$Tze;},C$Tze.ZERO=new C$Tze(0,0),C$Tze.UNITX=new C$Tze(1,0),C$Tze.UNITY=new C$Tze(0,1),C$Tze.s_t0=new C$Tze(),C$Tze.s_t1=new C$Tze(),C$Tze.s_t2=new C$Tze(),C$Tze.s_t3=new C$Tze();var C$Tzj=C$Tze;function C$Tze(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=0),this.x=C$Tzt=void 0===C$Tzt?0:C$Tzt,this.y=C$Tze;}var C$Tzx=new C$Tzj(0,0),C$Tzb=(C$TzC.prototype.Clone=function(){return new C$TzC(this.x,this.y,this.z);},C$TzC.prototype.SetZero=function(){return this.x=0,this.y=0,this.z=0,this;},C$TzC.prototype.SetXYZ=function(C$Tzt,C$Tze,C$Tzi){return this.x=C$Tzt,this.y=C$Tze,this.z=C$Tzi,this;},C$TzC.prototype.Copy=function(C$Tzt){return this.x=C$Tzt.x,this.y=C$Tzt.y,this.z=C$Tzt.z,this;},C$TzC.prototype.SelfNeg=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this;},C$TzC.prototype.SelfAdd=function(C$Tzt){return this.x+=C$Tzt.x,this.y+=C$Tzt.y,this.z+=C$Tzt.z,this;},C$TzC.prototype.SelfAddXYZ=function(C$Tzt,C$Tze,C$Tzi){return this.x+=C$Tzt,this.y+=C$Tze,this.z+=C$Tzi,this;},C$TzC.prototype.SelfSub=function(C$Tzt){return this.x-=C$Tzt.x,this.y-=C$Tzt.y,this.z-=C$Tzt.z,this;},C$TzC.prototype.SelfSubXYZ=function(C$Tzt,C$Tze,C$Tzi){return this.x-=C$Tzt,this.y-=C$Tze,this.z-=C$Tzi,this;},C$TzC.prototype.SelfMul=function(C$Tzt){return this.x*=C$Tzt,this.y*=C$Tzt,this.z*=C$Tzt,this;},C$TzC.DotV3V3=function(C$Tzt,C$Tze){return C$Tzt.x*C$Tze.x+C$Tzt.y*C$Tze.y+C$Tzt.z*C$Tze.z;},C$TzC.CrossV3V3=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.x,C$Tzr=C$Tzt.y,C$Tzt=C$Tzt.z,C$Tzs=C$Tze.x,C$Tzo=C$Tze.y,C$Tze=C$Tze.z;return C$Tzi.x=C$Tzr*C$Tze-C$Tzt*C$Tzo,C$Tzi.y=C$Tzt*C$Tzs-C$Tzn*C$Tze,C$Tzi.z=C$Tzn*C$Tzo-C$Tzr*C$Tzs,C$Tzi;},C$TzC.ZERO=new C$TzC(0,0,0),C$TzC.s_t0=new C$TzC(),C$TzC);function C$TzC(C$Tzt,C$Tze,C$Tzi){void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=0),this.x=C$Tzt=void 0===C$Tzt?0:C$Tzt,this.y=C$Tze,this.z=C$Tzi;}C$TzN.prototype.Clone=function(){return new C$TzN().Copy(this);},C$TzN.FromVV=function(C$Tzt,C$Tze){return new C$TzN().SetVV(C$Tzt,C$Tze);},C$TzN.FromSSSS=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return new C$TzN().SetSSSS(C$Tzt,C$Tze,C$Tzi,C$Tzn);},C$TzN.FromAngle=function(C$Tzt){return new C$TzN().SetAngle(C$Tzt);},C$TzN.prototype.SetSSSS=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return this.ex.Set(C$Tzt,C$Tzi),this.ey.Set(C$Tze,C$Tzn),this;},C$TzN.prototype.SetVV=function(C$Tzt,C$Tze){return this.ex.Copy(C$Tzt),this.ey.Copy(C$Tze),this;},C$TzN.prototype.SetAngle=function(C$Tzt){var C$Tze=Math.cos(C$Tzt),C$Tzt=Math.sin(C$Tzt);return this.ex.Set(C$Tze,C$Tzt),this.ey.Set(-C$Tzt,C$Tze),this;},C$TzN.prototype.Copy=function(C$Tzt){return this.ex.Copy(C$Tzt.ex),this.ey.Copy(C$Tzt.ey),this;},C$TzN.prototype.SetIdentity=function(){return this.ex.Set(1,0),this.ey.Set(0,1),this;},C$TzN.prototype.SetZero=function(){return this.ex.SetZero(),this.ey.SetZero(),this;},C$TzN.prototype.GetAngle=function(){return Math.atan2(this.ex.y,this.ex.x);},C$TzN.prototype.GetInverse=function(C$Tzt){var C$Tze=this.ex.x,C$Tzi=this.ey.x,C$Tzn=this.ex.y,C$Tzr=this.ey.y,C$Tzs=C$Tze*C$Tzr-C$Tzi*C$Tzn;return C$Tzt.ex.x=(C$Tzs=0!==C$Tzs?1/C$Tzs:C$Tzs)*C$Tzr,C$Tzt.ey.x=-C$Tzs*C$Tzi,C$Tzt.ex.y=-C$Tzs*C$Tzn,C$Tzt.ey.y=C$Tzs*C$Tze,C$Tzt;},C$TzN.prototype.Solve=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this.ex.x,C$Tzr=this.ey.x,C$Tzs=this.ex.y,C$Tzo=this.ey.y,C$Tza=C$Tzn*C$Tzo-C$Tzr*C$Tzs;return C$Tzi.x=(C$Tza=0!==C$Tza?1/C$Tza:C$Tza)*(C$Tzo*C$Tzt-C$Tzr*C$Tze),C$Tzi.y=C$Tza*(C$Tzn*C$Tze-C$Tzs*C$Tzt),C$Tzi;},C$TzN.prototype.SelfAbs=function(){return this.ex.SelfAbs(),this.ey.SelfAbs(),this;},C$TzN.prototype.SelfInv=function(){return this.GetInverse(this),this;},C$TzN.prototype.SelfAddM=function(C$Tzt){return this.ex.SelfAdd(C$Tzt.ex),this.ey.SelfAdd(C$Tzt.ey),this;},C$TzN.prototype.SelfSubM=function(C$Tzt){return this.ex.SelfSub(C$Tzt.ex),this.ey.SelfSub(C$Tzt.ey),this;},C$TzN.AbsM=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.ex,C$Tzt=C$Tzt.ey;return C$Tze.ex.x=C$TzD(C$Tzi.x),C$Tze.ex.y=C$TzD(C$Tzi.y),C$Tze.ey.x=C$TzD(C$Tzt.x),C$Tze.ey.y=C$TzD(C$Tzt.y),C$Tze;},C$TzN.MulMV=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.ex,C$Tzt=C$Tzt.ey,C$Tzr=C$Tze.x,C$Tze=C$Tze.y;return C$Tzi.x=C$Tzn.x*C$Tzr+C$Tzt.x*C$Tze,C$Tzi.y=C$Tzn.y*C$Tzr+C$Tzt.y*C$Tze,C$Tzi;},C$TzN.MulTMV=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.ex,C$Tzt=C$Tzt.ey,C$Tzr=C$Tze.x,C$Tze=C$Tze.y;return C$Tzi.x=C$Tzn.x*C$Tzr+C$Tzn.y*C$Tze,C$Tzi.y=C$Tzt.x*C$Tzr+C$Tzt.y*C$Tze,C$Tzi;},C$TzN.AddMM=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.ex,C$Tzt=C$Tzt.ey,C$Tzr=C$Tze.ex,C$Tze=C$Tze.ey;return C$Tzi.ex.x=C$Tzn.x+C$Tzr.x,C$Tzi.ex.y=C$Tzn.y+C$Tzr.y,C$Tzi.ey.x=C$Tzt.x+C$Tze.x,C$Tzi.ey.y=C$Tzt.y+C$Tze.y,C$Tzi;},C$TzN.MulMM=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.ex.x,C$Tzr=C$Tzt.ex.y,C$Tzs=C$Tzt.ey.x,C$Tzt=C$Tzt.ey.y,C$Tzo=C$Tze.ex.x,C$Tza=C$Tze.ex.y,C$Tzc=C$Tze.ey.x,C$Tze=C$Tze.ey.y;return C$Tzi.ex.x=C$Tzn*C$Tzo+C$Tzs*C$Tza,C$Tzi.ex.y=C$Tzr*C$Tzo+C$Tzt*C$Tza,C$Tzi.ey.x=C$Tzn*C$Tzc+C$Tzs*C$Tze,C$Tzi.ey.y=C$Tzr*C$Tzc+C$Tzt*C$Tze,C$Tzi;},C$TzN.MulTMM=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.ex.x,C$Tzr=C$Tzt.ex.y,C$Tzs=C$Tzt.ey.x,C$Tzt=C$Tzt.ey.y,C$Tzo=C$Tze.ex.x,C$Tza=C$Tze.ex.y,C$Tzc=C$Tze.ey.x,C$Tze=C$Tze.ey.y;return C$Tzi.ex.x=C$Tzn*C$Tzo+C$Tzr*C$Tza,C$Tzi.ex.y=C$Tzs*C$Tzo+C$Tzt*C$Tza,C$Tzi.ey.x=C$Tzn*C$Tzc+C$Tzr*C$Tze,C$Tzi.ey.y=C$Tzs*C$Tzc+C$Tzt*C$Tze,C$Tzi;},C$TzN.IDENTITY=new C$TzN();var C$TzF=C$TzN;function C$TzN(){this.ex=new C$Tzj(1,0),this.ey=new C$Tzj(0,1);}C$TzG.prototype.Clone=function(){return new C$TzG().Copy(this);},C$TzG.prototype.SetVVV=function(C$Tzt,C$Tze,C$Tzi){return this.ex.Copy(C$Tzt),this.ey.Copy(C$Tze),this.ez.Copy(C$Tzi),this;},C$TzG.prototype.Copy=function(C$Tzt){return this.ex.Copy(C$Tzt.ex),this.ey.Copy(C$Tzt.ey),this.ez.Copy(C$Tzt.ez),this;},C$TzG.prototype.SetIdentity=function(){return this.ex.SetXYZ(1,0,0),this.ey.SetXYZ(0,1,0),this.ez.SetXYZ(0,0,1),this;},C$TzG.prototype.SetZero=function(){return this.ex.SetZero(),this.ey.SetZero(),this.ez.SetZero(),this;},C$TzG.prototype.SelfAddM=function(C$Tzt){return this.ex.SelfAdd(C$Tzt.ex),this.ey.SelfAdd(C$Tzt.ey),this.ez.SelfAdd(C$Tzt.ez),this;},C$TzG.prototype.Solve33=function(C$Tzt,C$Tze,C$Tzi,C$Tzh){var C$Tzu=this.ex.x,C$Tz_=this.ex.y,C$Tzd=this.ex.z,C$Tzn=this.ey.x,C$Tzr=this.ey.y,C$Tzs=this.ey.z,C$Tzo=this.ez.x,C$Tza=this.ez.y,C$Tzc=this.ez.z,C$Tzl=C$Tzu*(C$Tzr*C$Tzc-C$Tzs*C$Tza)+C$Tz_*(C$Tzs*C$Tzo-C$Tzn*C$Tzc)+C$Tzd*(C$Tzn*C$Tza-C$Tzr*C$Tzo);return C$Tzh.x=(C$Tzl=0!==C$Tzl?1/C$Tzl:C$Tzl)*(C$Tzt*(C$Tzr*C$Tzc-C$Tzs*C$Tza)+C$Tze*(C$Tzs*C$Tzo-C$Tzn*C$Tzc)+C$Tzi*(C$Tzn*C$Tza-C$Tzr*C$Tzo)),C$Tzh.y=C$Tzl*(C$Tzu*(C$Tze*C$Tzc-C$Tzi*C$Tza)+C$Tz_*(C$Tzi*C$Tzo-C$Tzt*C$Tzc)+C$Tzd*(C$Tzt*C$Tza-C$Tze*C$Tzo)),C$Tzh.z=C$Tzl*(C$Tzu*(C$Tzr*C$Tzi-C$Tzs*C$Tze)+C$Tz_*(C$Tzs*C$Tzt-C$Tzn*C$Tzi)+C$Tzd*(C$Tzn*C$Tze-C$Tzr*C$Tzt)),C$Tzh;},C$TzG.prototype.Solve22=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this.ex.x,C$Tzr=this.ey.x,C$Tzs=this.ex.y,C$Tzo=this.ey.y,C$Tza=C$Tzn*C$Tzo-C$Tzr*C$Tzs;return C$Tzi.x=(C$Tza=0!==C$Tza?1/C$Tza:C$Tza)*(C$Tzo*C$Tzt-C$Tzr*C$Tze),C$Tzi.y=C$Tza*(C$Tzn*C$Tze-C$Tzs*C$Tzt),C$Tzi;},C$TzG.prototype.GetInverse22=function(C$Tzt){var C$Tze=this.ex.x,C$Tzi=this.ey.x,C$Tzn=this.ex.y,C$Tzr=this.ey.y,C$Tzs=C$Tze*C$Tzr-C$Tzi*C$Tzn;C$Tzt.ex.x=(C$Tzs=0!==C$Tzs?1/C$Tzs:C$Tzs)*C$Tzr,C$Tzt.ey.x=-C$Tzs*C$Tzi,C$Tzt.ex.z=0,C$Tzt.ex.y=-C$Tzs*C$Tzn,C$Tzt.ey.y=C$Tzs*C$Tze,C$Tzt.ey.z=0,C$Tzt.ez.x=0,C$Tzt.ez.y=0,C$Tzt.ez.z=0;},C$TzG.prototype.GetSymInverse33=function(C$Tzt){var C$Tze=C$Tzb.DotV3V3(this.ex,C$Tzb.CrossV3V3(this.ey,this.ez,C$Tzb.s_t0)),C$Tzi=this.ex.x,C$Tzn=this.ey.x,C$Tzr=this.ez.x,C$Tzs=this.ey.y,C$Tzo=this.ez.y,C$Tza=this.ez.z;C$Tzt.ex.x=(C$Tze=0!==C$Tze?1/C$Tze:C$Tze)*(C$Tzs*C$Tza-C$Tzo*C$Tzo),C$Tzt.ex.y=C$Tze*(C$Tzr*C$Tzo-C$Tzn*C$Tza),C$Tzt.ex.z=C$Tze*(C$Tzn*C$Tzo-C$Tzr*C$Tzs),C$Tzt.ey.x=C$Tzt.ex.y,C$Tzt.ey.y=C$Tze*(C$Tzi*C$Tza-C$Tzr*C$Tzr),C$Tzt.ey.z=C$Tze*(C$Tzr*C$Tzn-C$Tzi*C$Tzo),C$Tzt.ez.x=C$Tzt.ex.z,C$Tzt.ez.y=C$Tzt.ey.z,C$Tzt.ez.z=C$Tze*(C$Tzi*C$Tzs-C$Tzn*C$Tzn);},C$TzG.MulM33V3=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tze.x,C$Tzr=C$Tze.y,C$Tze=C$Tze.z;return C$Tzi.x=C$Tzt.ex.x*C$Tzn+C$Tzt.ey.x*C$Tzr+C$Tzt.ez.x*C$Tze,C$Tzi.y=C$Tzt.ex.y*C$Tzn+C$Tzt.ey.y*C$Tzr+C$Tzt.ez.y*C$Tze,C$Tzi.z=C$Tzt.ex.z*C$Tzn+C$Tzt.ey.z*C$Tzr+C$Tzt.ez.z*C$Tze,C$Tzi;},C$TzG.MulM33XYZ=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return C$Tzr.x=C$Tzt.ex.x*C$Tze+C$Tzt.ey.x*C$Tzi+C$Tzt.ez.x*C$Tzn,C$Tzr.y=C$Tzt.ex.y*C$Tze+C$Tzt.ey.y*C$Tzi+C$Tzt.ez.y*C$Tzn,C$Tzr.z=C$Tzt.ex.z*C$Tze+C$Tzt.ey.z*C$Tzi+C$Tzt.ez.z*C$Tzn,C$Tzr;},C$TzG.MulM33V2=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tze.x,C$Tze=C$Tze.y;return C$Tzi.x=C$Tzt.ex.x*C$Tzn+C$Tzt.ey.x*C$Tze,C$Tzi.y=C$Tzt.ex.y*C$Tzn+C$Tzt.ey.y*C$Tze,C$Tzi;},C$TzG.MulM33XY=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzn.x=C$Tzt.ex.x*C$Tze+C$Tzt.ey.x*C$Tzi,C$Tzn.y=C$Tzt.ex.y*C$Tze+C$Tzt.ey.y*C$Tzi,C$Tzn;},C$TzG.IDENTITY=new C$TzG();var C$Tzk=C$TzG;function C$TzG(){this.ex=new C$Tzb(1,0,0),this.ey=new C$Tzb(0,1,0),this.ez=new C$Tzb(0,0,1);}C$Tzz.prototype.Clone=function(){return new C$Tzz().Copy(this);},C$Tzz.prototype.Copy=function(C$Tzt){return this.s=C$Tzt.s,this.c=C$Tzt.c,this;},C$Tzz.prototype.SetAngle=function(C$Tzt){return this.s=Math.sin(C$Tzt),this.c=Math.cos(C$Tzt),this;},C$Tzz.prototype.SetIdentity=function(){return this.s=0,this.c=1,this;},C$Tzz.prototype.GetAngle=function(){return Math.atan2(this.s,this.c);},C$Tzz.prototype.GetXAxis=function(C$Tzt){return C$Tzt.x=this.c,C$Tzt.y=this.s,C$Tzt;},C$Tzz.prototype.GetYAxis=function(C$Tzt){return C$Tzt.x=-this.s,C$Tzt.y=this.c,C$Tzt;},C$Tzz.MulRR=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.c,C$Tzt=C$Tzt.s,C$Tzr=C$Tze.c,C$Tze=C$Tze.s;return C$Tzi.s=C$Tzt*C$Tzr+C$Tzn*C$Tze,C$Tzi.c=C$Tzn*C$Tzr-C$Tzt*C$Tze,C$Tzi;},C$Tzz.MulTRR=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.c,C$Tzt=C$Tzt.s,C$Tzr=C$Tze.c,C$Tze=C$Tze.s;return C$Tzi.s=C$Tzn*C$Tze-C$Tzt*C$Tzr,C$Tzi.c=C$Tzn*C$Tzr+C$Tzt*C$Tze,C$Tzi;},C$Tzz.MulRV=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.c,C$Tzt=C$Tzt.s,C$Tzr=C$Tze.x,C$Tze=C$Tze.y;return C$Tzi.x=C$Tzn*C$Tzr-C$Tzt*C$Tze,C$Tzi.y=C$Tzt*C$Tzr+C$Tzn*C$Tze,C$Tzi;},C$Tzz.MulTRV=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.c,C$Tzt=C$Tzt.s,C$Tzr=C$Tze.x,C$Tze=C$Tze.y;return C$Tzi.x=C$Tzn*C$Tzr+C$Tzt*C$Tze,C$Tzi.y=-C$Tzt*C$Tzr+C$Tzn*C$Tze,C$Tzi;},C$Tzz.IDENTITY=new C$Tzz();var C$TzB=C$Tzz;function C$Tzz(C$Tzt){void 0===C$Tzt&&(C$Tzt=0),this.s=0,this.c=1,C$Tzt&&(this.s=Math.sin(C$Tzt),this.c=Math.cos(C$Tzt));}C$TzU.prototype.Clone=function(){return new C$TzU().Copy(this);},C$TzU.prototype.Copy=function(C$Tzt){return this.p.Copy(C$Tzt.p),this.q.Copy(C$Tzt.q),this;},C$TzU.prototype.SetIdentity=function(){return this.p.SetZero(),this.q.SetIdentity(),this;},C$TzU.prototype.SetPositionRotation=function(C$Tzt,C$Tze){return this.p.Copy(C$Tzt),this.q.Copy(C$Tze),this;},C$TzU.prototype.SetPositionAngle=function(C$Tzt,C$Tze){return this.p.Copy(C$Tzt),this.q.SetAngle(C$Tze),this;},C$TzU.prototype.SetPosition=function(C$Tzt){return this.p.Copy(C$Tzt),this;},C$TzU.prototype.SetPositionXY=function(C$Tzt,C$Tze){return this.p.Set(C$Tzt,C$Tze),this;},C$TzU.prototype.SetRotation=function(C$Tzt){return this.q.Copy(C$Tzt),this;},C$TzU.prototype.SetRotationAngle=function(C$Tzt){return this.q.SetAngle(C$Tzt),this;},C$TzU.prototype.GetPosition=function(){return this.p;},C$TzU.prototype.GetRotation=function(){return this.q;},C$TzU.prototype.GetRotationAngle=function(){return this.q.GetAngle();},C$TzU.prototype.GetAngle=function(){return this.q.GetAngle();},C$TzU.MulXV=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.q.c,C$Tzr=C$Tzt.q.s,C$Tzs=C$Tze.x,C$Tze=C$Tze.y;return C$Tzi.x=C$Tzn*C$Tzs-C$Tzr*C$Tze+C$Tzt.p.x,C$Tzi.y=C$Tzr*C$Tzs+C$Tzn*C$Tze+C$Tzt.p.y,C$Tzi;},C$TzU.MulTXV=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt.q.c,C$Tzr=C$Tzt.q.s,C$Tzs=C$Tze.x-C$Tzt.p.x,C$Tze=C$Tze.y-C$Tzt.p.y;return C$Tzi.x=C$Tzn*C$Tzs+C$Tzr*C$Tze,C$Tzi.y=-C$Tzr*C$Tzs+C$Tzn*C$Tze,C$Tzi;},C$TzU.MulXX=function(C$Tzt,C$Tze,C$Tzi){return C$TzB.MulRR(C$Tzt.q,C$Tze.q,C$Tzi.q),C$Tzj.AddVV(C$TzB.MulRV(C$Tzt.q,C$Tze.p,C$Tzi.p),C$Tzt.p,C$Tzi.p),C$Tzi;},C$TzU.MulTXX=function(C$Tzt,C$Tze,C$Tzi){return C$TzB.MulTRR(C$Tzt.q,C$Tze.q,C$Tzi.q),C$TzB.MulTRV(C$Tzt.q,C$Tzj.SubVV(C$Tze.p,C$Tzt.p,C$Tzi.p),C$Tzi.p),C$Tzi;},C$TzU.IDENTITY=new C$TzU();var C$TzR=C$TzU;function C$TzU(){this.p=new C$Tzj(),this.q=new C$TzB();}C$Tzq.prototype.Clone=function(){return new C$Tzq().Copy(this);},C$Tzq.prototype.Copy=function(C$Tzt){return this.localCenter.Copy(C$Tzt.localCenter),this.c0.Copy(C$Tzt.c0),this.c.Copy(C$Tzt.c),this.a0=C$Tzt.a0,this.a=C$Tzt.a,this.alpha0=C$Tzt.alpha0,this;},C$Tzq.prototype.GetTransform=function(C$Tzt,C$Tze){var C$Tzi=1-C$Tze,C$Tzi=(C$Tzt.p.x=C$Tzi*this.c0.x+C$Tze*this.c.x,C$Tzt.p.y=C$Tzi*this.c0.y+C$Tze*this.c.y,C$Tzi*this.a0+C$Tze*this.a);return C$Tzt.q.SetAngle(C$Tzi),C$Tzt.p.SelfSub(C$TzB.MulRV(C$Tzt.q,this.localCenter,C$Tzj.s_t0)),C$Tzt;},C$Tzq.prototype.Advance=function(C$Tzt){var C$Tze=(C$Tzt-this.alpha0)/(1-this.alpha0),C$Tzi=1-C$Tze;this.c0.x=C$Tzi*this.c0.x+C$Tze*this.c.x,this.c0.y=C$Tzi*this.c0.y+C$Tze*this.c.y,this.a0=C$Tzi*this.a0+C$Tze*this.a,this.alpha0=C$Tzt;},C$Tzq.prototype.Normalize=function(){var C$Tzt=6.28318530718*Math.floor(this.a0/6.28318530718);this.a0-=C$Tzt,this.a-=C$Tzt;};var C$TzW=C$Tzq;function C$Tzq(){this.localCenter=new C$Tzj(),this.c0=new C$Tzj(),this.c=new C$Tzj(),this.a0=0,this.a=0,this.alpha0=0;}C$TzZ.prototype.Clone=function(){return new C$TzZ().Copy(this);},C$TzZ.prototype.Copy=function(C$Tzt){return this.r=C$Tzt.r,this.g=C$Tzt.g,this.b=C$Tzt.b,this.a=C$Tzt.a,this;},C$TzZ.prototype.IsEqual=function(C$Tzt){return this.r===C$Tzt.r&&this.g===C$Tzt.g&&this.b===C$Tzt.b&&this.a===C$Tzt.a;},C$TzZ.prototype.IsZero=function(){return 0===this.r&&0===this.g&&0===this.b&&0===this.a;},C$TzZ.prototype.Set=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){void 0===C$Tzn&&(C$Tzn=this.a),this.SetRGBA(C$Tzt,C$Tze,C$Tzi,C$Tzn);},C$TzZ.prototype.SetByteRGB=function(C$Tzt,C$Tze,C$Tzi){return this.r=C$Tzt/255,this.g=C$Tze/255,this.b=C$Tzi/255,this;},C$TzZ.prototype.SetByteRGBA=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return this.r=C$Tzt/255,this.g=C$Tze/255,this.b=C$Tzi/255,this.a=C$Tzn/255,this;},C$TzZ.prototype.SetRGB=function(C$Tzt,C$Tze,C$Tzi){return this.r=C$Tzt,this.g=C$Tze,this.b=C$Tzi,this;},C$TzZ.prototype.SetRGBA=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return this.r=C$Tzt,this.g=C$Tze,this.b=C$Tzi,this.a=C$Tzn,this;},C$TzZ.prototype.SelfAdd=function(C$Tzt){return this.r+=C$Tzt.r,this.g+=C$Tzt.g,this.b+=C$Tzt.b,this.a+=C$Tzt.a,this;},C$TzZ.prototype.Add=function(C$Tzt,C$Tze){return C$Tze.r=this.r+C$Tzt.r,C$Tze.g=this.g+C$Tzt.g,C$Tze.b=this.b+C$Tzt.b,C$Tze.a=this.a+C$Tzt.a,C$Tze;},C$TzZ.prototype.SelfSub=function(C$Tzt){return this.r-=C$Tzt.r,this.g-=C$Tzt.g,this.b-=C$Tzt.b,this.a-=C$Tzt.a,this;},C$TzZ.prototype.Sub=function(C$Tzt,C$Tze){return C$Tze.r=this.r-C$Tzt.r,C$Tze.g=this.g-C$Tzt.g,C$Tze.b=this.b-C$Tzt.b,C$Tze.a=this.a-C$Tzt.a,C$Tze;},C$TzZ.prototype.SelfMul=function(C$Tzt){return this.r*=C$Tzt,this.g*=C$Tzt,this.b*=C$Tzt,this.a*=C$Tzt,this;},C$TzZ.prototype.Mul=function(C$Tzt,C$Tze){return C$Tze.r=this.r*C$Tzt,C$Tze.g=this.g*C$Tzt,C$Tze.b=this.b*C$Tzt,C$Tze.a=this.a*C$Tzt,C$Tze;},C$TzZ.prototype.Mix=function(C$Tzt,C$Tze){C$TzZ.MixColors(this,C$Tzt,C$Tze);},C$TzZ.MixColors=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzi*(C$Tze.r-C$Tzt.r),C$Tzr=C$Tzi*(C$Tze.g-C$Tzt.g),C$Tzs=C$Tzi*(C$Tze.b-C$Tzt.b),C$Tzi=C$Tzi*(C$Tze.a-C$Tzt.a);C$Tzt.r+=C$Tzn,C$Tzt.g+=C$Tzr,C$Tzt.b+=C$Tzs,C$Tzt.a+=C$Tzi,C$Tze.r-=C$Tzn,C$Tze.g-=C$Tzr,C$Tze.b-=C$Tzs,C$Tze.a-=C$Tzi;},C$TzZ.prototype.MakeStyleString=function(C$Tzt){return void 0===C$Tzt&&(C$Tzt=this.a),C$TzZ.MakeStyleString(this.r,this.g,this.b,C$Tzt);},C$TzZ.MakeStyleString=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzt*=255,C$Tze*=255,C$Tzi*=255,(C$Tzn=void 0===C$Tzn?1:C$Tzn)<1?H[1636]+C$Tzt+","+C$Tze+","+C$Tzi+","+C$Tzn+")":H[1615]+C$Tzt+","+C$Tze+","+C$Tzi+")";},C$TzZ.ZERO=new C$TzZ(0,0,0,0),C$TzZ.RED=new C$TzZ(1,0,0),C$TzZ.GREEN=new C$TzZ(0,1,0),C$TzZ.BLUE=new C$TzZ(0,0,1);var C$TzJ=C$TzZ;function C$TzZ(C$Tzt,C$Tze,C$Tzi,C$Tzn){void 0===C$Tze&&(C$Tze=.5),void 0===C$Tzi&&(C$Tzi=.5),void 0===C$Tzn&&(C$Tzn=1),this.r=C$Tzt=void 0===C$Tzt?.5:C$Tzt,this.g=C$Tze,this.b=C$Tzi,this.a=C$Tzn;}(C$TzK=C$TzH.b2DrawFlags||(C$TzH.b2DrawFlags={}))[C$TzK.e_none=0]=H[2967],C$TzK[C$TzK.e_shapeBit=1]=H[2968],C$TzK[C$TzK.e_jointBit=2]=H[2969],C$TzK[C$TzK.e_aabbBit=4]=H[2970],C$TzK[C$TzK.e_pairBit=8]=H[2971],C$TzK[C$TzK.e_centerOfMassBit=16]=H[2972],C$TzK[C$TzK.e_particleBit=32]=H[2973],C$TzK[C$TzK.e_controllerBit=64]=H[2974],C$TzK[C$TzK.e_all=63]=H[2975];C$TzQ.prototype.SetFlags=function(C$Tzt){this.m_drawFlags=C$Tzt;},C$TzQ.prototype.GetFlags=function(){return this.m_drawFlags;},C$TzQ.prototype.AppendFlags=function(C$Tzt){this.m_drawFlags|=C$Tzt;},C$TzQ.prototype.ClearFlags=function(C$Tzt){this.m_drawFlags&=~C$Tzt;};var C$TzK=C$TzQ;function C$TzQ(){this.m_drawFlags=0;}C$Tztt.prototype.Reset=function(){return this.m_start=Date.now(),this;},C$Tztt.prototype.GetMilliseconds=function(){return Date.now()-this.m_start;};var C$Tz$=C$Tztt;function C$Tztt(){this.m_start=Date.now();}C$Tzit.prototype.GetCount=function(){return this.m_count;},C$Tzit.prototype.GetMinCount=function(){return this.m_min_count;},C$Tzit.prototype.GetMaxCount=function(){return this.m_max_count;},C$Tzit.prototype.ResetCount=function(){var C$Tzt=this.m_count;return this.m_count=0,C$Tzt;},C$Tzit.prototype.ResetMinCount=function(){this.m_min_count=0;},C$Tzit.prototype.ResetMaxCount=function(){this.m_max_count=0;},C$Tzit.prototype.Increment=function(){this.m_count++,this.m_max_count<this.m_count&&(this.m_max_count=this.m_count);},C$Tzit.prototype.Decrement=function(){this.m_count--,this.m_min_count>this.m_count&&(this.m_min_count=this.m_count);};var C$Tzet=C$Tzit;function C$Tzit(){this.m_count=0,this.m_min_count=0,this.m_max_count=0;}C$Tzrt.prototype.Reset=function(){return this.m_count=0,this;},C$Tzrt.prototype.Push=function(C$Tzt){this.m_stack[this.m_count]=C$Tzt,this.m_count++;},C$Tzrt.prototype.Pop=function(){this.m_count--;var C$Tzt=this.m_stack[this.m_count];if((this.m_stack[this.m_count]=null)===C$Tzt)throw new Error();return C$Tzt;},C$Tzrt.prototype.GetCount=function(){return this.m_count;};var C$Tznt=C$Tzrt;function C$Tzrt(C$Tzt){this.m_stack=[],this.m_count=0,this.m_stack=C$Tzc(C$Tzt,function(C$Tzt){return null;}),this.m_count=0;}function C$Tzst(){}function C$Tzot(){}C$Tzct.prototype.Copy=function(C$Tzt){return C$Tzt.m_vertices===C$Tzt.m_buffer?(this.m_vertices=this.m_buffer,this.m_buffer[0].Copy(C$Tzt.m_buffer[0]),this.m_buffer[1].Copy(C$Tzt.m_buffer[1])):this.m_vertices=C$Tzt.m_vertices,this.m_count=C$Tzt.m_count,this.m_radius=C$Tzt.m_radius,this;},C$Tzct.prototype.Reset=function(){return this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0,this;},C$Tzct.prototype.SetShape=function(C$Tzt,C$Tze){C$Tzt.SetupDistanceProxy(this,C$Tze);},C$Tzct.prototype.SetVerticesRadius=function(C$Tzt,C$Tze,C$Tzi){this.m_vertices=C$Tzt,this.m_count=C$Tze,this.m_radius=C$Tzi;},C$Tzct.prototype.GetSupport=function(C$Tzt){for(var C$Tze=0,C$Tzi=C$Tzj.DotVV(this.m_vertices[0],C$Tzt),C$Tzn=1;C$Tzn<this.m_count;++C$Tzn){var C$Tzr=C$Tzj.DotVV(this.m_vertices[C$Tzn],C$Tzt);C$Tzi<C$Tzr&&(C$Tze=C$Tzn,C$Tzi=C$Tzr);}return C$Tze;},C$Tzct.prototype.GetSupportVertex=function(C$Tzt){for(var C$Tze=0,C$Tzi=C$Tzj.DotVV(this.m_vertices[0],C$Tzt),C$Tzn=1;C$Tzn<this.m_count;++C$Tzn){var C$Tzr=C$Tzj.DotVV(this.m_vertices[C$Tzn],C$Tzt);C$Tzi<C$Tzr&&(C$Tze=C$Tzn,C$Tzi=C$Tzr);}return this.m_vertices[C$Tze];},C$Tzct.prototype.GetVertexCount=function(){return this.m_count;},C$Tzct.prototype.GetVertex=function(C$Tzt){return this.m_vertices[C$Tzt];};var C$Tzat=C$Tzct;function C$Tzct(){this.m_buffer=C$Tzj.MakeArray(2),this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0;}C$Tzht.prototype.Reset=function(){return this.metric=0,this.count=0,this;};var C$Tzlt=C$Tzht;function C$Tzht(){this.metric=0,this.count=0,this.indexA=[0,0,0],this.indexB=[0,0,0];}C$Tz_t.prototype.Reset=function(){return this.proxyA.Reset(),this.proxyB.Reset(),this.transformA.SetIdentity(),this.transformB.SetIdentity(),this.useRadii=!1,this;};var C$Tzut=C$Tz_t;function C$Tz_t(){this.proxyA=new C$Tzat(),this.proxyB=new C$Tzat(),this.transformA=new C$TzR(),this.transformB=new C$TzR(),this.useRadii=!1;}C$Tzft.prototype.Reset=function(){return this.pointA.SetZero(),this.pointB.SetZero(),this.distance=0,this.iterations=0,this;};var C$Tzdt=C$Tzft;function C$Tzft(){this.pointA=new C$Tzj(),this.pointB=new C$Tzj(),this.distance=0,this.iterations=0;}function C$Tzpt(){this.proxyA=new C$Tzat(),this.proxyB=new C$Tzat(),this.transformA=new C$TzR(),this.transformB=new C$TzR(),this.translationB=new C$Tzj();}function C$Tzmt(){this.point=new C$Tzj(),this.normal=new C$Tzj(),this.lambda=0,this.iterations=0;}C$TzH.b2_gjkCalls=0,C$TzH.b2_gjkIters=0,C$TzH.b2_gjkMaxIters=0;C$Tzgt.prototype.Copy=function(C$Tzt){return this.wA.Copy(C$Tzt.wA),this.wB.Copy(C$Tzt.wB),this.w.Copy(C$Tzt.w),this.a=C$Tzt.a,this.indexA=C$Tzt.indexA,this.indexB=C$Tzt.indexB,this;};var C$Tzyt=C$Tzgt;function C$Tzgt(){this.wA=new C$Tzj(),this.wB=new C$Tzj(),this.w=new C$Tzj(),this.a=0,this.indexA=0,this.indexB=0;}C$Tzxt.prototype.ReadCache=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzh){this.m_count=C$Tzt.count;for(var C$Tzr,C$Tzs,C$Tzu=this.m_vertices,C$Tzo=0;C$Tzo<this.m_count;++C$Tzo){(C$Tza=C$Tzu[C$Tzo]).indexA=C$Tzt.indexA[C$Tzo],C$Tza.indexB=C$Tzt.indexB[C$Tzo];var C$Tza,C$Tzc=C$Tze.GetVertex(C$Tza.indexA),C$Tzl=C$Tzn.GetVertex(C$Tza.indexB);C$TzR.MulXV(C$Tzi,C$Tzc,C$Tza.wA),C$TzR.MulXV(C$Tzh,C$Tzl,C$Tza.wB),C$Tzj.SubVV(C$Tza.wB,C$Tza.wA,C$Tza.w),C$Tza.a=0;}1<this.m_count&&(C$Tzr=C$Tzt.metric,((C$Tzs=this.GetMetric())<.5*C$Tzr||2*C$Tzr<C$Tzs||C$Tzs<C$TzM)&&(this.m_count=0)),0===this.m_count&&((C$Tza=C$Tzu[0]).indexA=0,C$Tza.indexB=0,C$Tzc=C$Tze.GetVertex(0),C$Tzl=C$Tzn.GetVertex(0),C$TzR.MulXV(C$Tzi,C$Tzc,C$Tza.wA),C$TzR.MulXV(C$Tzh,C$Tzl,C$Tza.wB),C$Tzj.SubVV(C$Tza.wB,C$Tza.wA,C$Tza.w),C$Tza.a=1,this.m_count=1);},C$Tzxt.prototype.WriteCache=function(C$Tzt){C$Tzt.metric=this.GetMetric(),C$Tzt.count=this.m_count;for(var C$Tze=this.m_vertices,C$Tzi=0;C$Tzi<this.m_count;++C$Tzi)C$Tzt.indexA[C$Tzi]=C$Tze[C$Tzi].indexA,C$Tzt.indexB[C$Tzi]=C$Tze[C$Tzi].indexB;},C$Tzxt.prototype.GetSearchDirection=function(C$Tzt){switch(this.m_count){case 1:return C$Tzj.NegV(this.m_v1.w,C$Tzt);case 2:var C$Tze=C$Tzj.SubVV(this.m_v2.w,this.m_v1.w,C$Tzt);return 0<C$Tzj.CrossVV(C$Tze,C$Tzj.NegV(this.m_v1.w,C$Tzj.s_t0))?C$Tzj.CrossOneV(C$Tze,C$Tzt):C$Tzj.CrossVOne(C$Tze,C$Tzt);default:return C$Tzt.SetZero();}},C$Tzxt.prototype.GetClosestPoint=function(C$Tzt){switch(this.m_count){case 0:return C$Tzt.SetZero();case 1:return C$Tzt.Copy(this.m_v1.w);case 2:return C$Tzt.Set(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);default:return C$Tzt.SetZero();}},C$Tzxt.prototype.GetWitnessPoints=function(C$Tzt,C$Tze){switch(this.m_count){case 0:break;case 1:C$Tzt.Copy(this.m_v1.wA),C$Tze.Copy(this.m_v1.wB);break;case 2:C$Tzt.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,C$Tzt.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,C$Tze.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,C$Tze.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:C$Tze.x=C$Tzt.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,C$Tze.y=C$Tzt.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;}},C$Tzxt.prototype.GetMetric=function(){switch(this.m_count){case 0:case 1:return 0;case 2:return C$Tzj.DistanceVV(this.m_v1.w,this.m_v2.w);case 3:return C$Tzj.CrossVV(C$Tzj.SubVV(this.m_v2.w,this.m_v1.w,C$Tzj.s_t0),C$Tzj.SubVV(this.m_v3.w,this.m_v1.w,C$Tzj.s_t1));default:return 0;}},C$Tzxt.prototype.Solve2=function(){var C$Tzt=this.m_v1.w,C$Tze=this.m_v2.w,C$Tzi=C$Tzj.SubVV(C$Tze,C$Tzt,C$Tzxt.s_e12),C$Tzt=-C$Tzj.DotVV(C$Tzt,C$Tzi);if(C$Tzt<=0)return this.m_v1.a=1,void(this.m_count=1);C$Tze=C$Tzj.DotVV(C$Tze,C$Tzi);if(C$Tze<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.Copy(this.m_v2);C$Tzi=1/(C$Tze+C$Tzt);this.m_v1.a=C$Tze*C$Tzi,this.m_v2.a=C$Tzt*C$Tzi,this.m_count=2;},C$Tzxt.prototype.Solve3=function(){var C$Tzt=this.m_v1.w,C$Tze=this.m_v2.w,C$Tzi=this.m_v3.w,C$Tzn=C$Tzj.SubVV(C$Tze,C$Tzt,C$Tzxt.s_e12),C$Tzr=C$Tzj.DotVV(C$Tzt,C$Tzn),C$Tzs=C$Tzj.DotVV(C$Tze,C$Tzn),C$Tzr=-C$Tzr,C$Tzo=C$Tzj.SubVV(C$Tzi,C$Tzt,C$Tzxt.s_e13),C$Tza=C$Tzj.DotVV(C$Tzt,C$Tzo),C$Tzh=C$Tzj.DotVV(C$Tzi,C$Tzo),C$Tza=-C$Tza,C$Tzc=C$Tzj.SubVV(C$Tzi,C$Tze,C$Tzxt.s_e23),C$Tzl=C$Tzj.DotVV(C$Tze,C$Tzc),C$Tzc=C$Tzj.DotVV(C$Tzi,C$Tzc),C$Tzl=-C$Tzl,C$Tzn=C$Tzj.CrossVV(C$Tzn,C$Tzo),C$Tzo=C$Tzn*C$Tzj.CrossVV(C$Tze,C$Tzi),C$Tzi=C$Tzn*C$Tzj.CrossVV(C$Tzi,C$Tzt),C$Tzn=C$Tzn*C$Tzj.CrossVV(C$Tzt,C$Tze);if(C$Tzr<=0&&C$Tza<=0)return this.m_v1.a=1,void(this.m_count=1);if(0<C$Tzs&&0<C$Tzr&&C$Tzn<=0)return this.m_v1.a=C$Tzs*(C$Tzt=1/(C$Tzs+C$Tzr)),this.m_v2.a=C$Tzr*C$Tzt,void(this.m_count=2);if(0<C$Tzh&&0<C$Tza&&C$Tzi<=0)return this.m_v1.a=C$Tzh*(C$Tze=1/(C$Tzh+C$Tza)),this.m_v3.a=C$Tza*C$Tze,this.m_count=2,void this.m_v2.Copy(this.m_v3);if(C$Tzs<=0&&C$Tzl<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.Copy(this.m_v2);if(C$Tzh<=0&&C$Tzc<=0)return this.m_v3.a=1,this.m_count=1,void this.m_v1.Copy(this.m_v3);if(0<C$Tzc&&0<C$Tzl&&C$Tzo<=0)return this.m_v2.a=C$Tzc*(C$Tzr=1/(C$Tzc+C$Tzl)),this.m_v3.a=C$Tzl*C$Tzr,this.m_count=2,void this.m_v1.Copy(this.m_v3);C$Tzt=1/(C$Tzo+C$Tzi+C$Tzn);this.m_v1.a=C$Tzo*C$Tzt,this.m_v2.a=C$Tzi*C$Tzt,this.m_v3.a=C$Tzn*C$Tzt,this.m_count=3;},C$Tzxt.s_e12=new C$Tzj(),C$Tzxt.s_e13=new C$Tzj(),C$Tzxt.s_e23=new C$Tzj();var C$Tzvt=C$Tzxt;function C$Tzxt(){this.m_v1=new C$Tzyt(),this.m_v2=new C$Tzyt(),this.m_v3=new C$Tzyt(),this.m_vertices=[],this.m_count=0,this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3;}var C$Tzbt=new C$Tzvt(),C$TzAt=[0,0,0],C$TzCt=[0,0,0],C$TzSt=new C$Tzj(),C$TzTt=new C$Tzj(),C$Tzwt=new C$Tzj(),C$TzEt=new C$Tzj(),C$TzMt=new C$Tzj();function C$TzIt(C$Tzt,C$Tze,C$Tzi){++C$TzH.b2_gjkCalls;for(var C$Tzn,C$Tzr=C$Tzi.proxyA,C$Tzs=C$Tzi.proxyB,C$Tzh=C$Tzi.transformA,C$Tzu=C$Tzi.transformB,C$Tzo=C$Tzbt,C$Tz_=(C$Tzo.ReadCache(C$Tze,C$Tzr,C$Tzh,C$Tzs,C$Tzu),C$Tzo.m_vertices),C$Tzd=C$TzAt,C$Tzf=C$TzCt,C$Tza=0;C$Tza<20;){for(var C$Tzp=C$Tzo.m_count,C$Tzc=0;C$Tzc<C$Tzp;++C$Tzc)C$Tzd[C$Tzc]=C$Tz_[C$Tzc].indexA,C$Tzf[C$Tzc]=C$Tz_[C$Tzc].indexB;switch(C$Tzo.m_count){case 1:break;case 2:C$Tzo.Solve2();break;case 3:C$Tzo.Solve3();}if(3===C$Tzo.m_count)break;var C$Tzm=C$Tzo.GetSearchDirection(C$TzTt);if(C$Tzm.LengthSquared()<C$Tzg)break;for(var C$Tzl=C$Tz_[C$Tzo.m_count],C$Tzy=(C$Tzl.indexA=C$Tzr.GetSupport(C$TzB.MulTRV(C$Tzh.q,C$Tzj.NegV(C$Tzm,C$Tzj.s_t0),C$TzEt)),C$TzR.MulXV(C$Tzh,C$Tzr.GetVertex(C$Tzl.indexA),C$Tzl.wA),C$Tzl.indexB=C$Tzs.GetSupport(C$TzB.MulTRV(C$Tzu.q,C$Tzm,C$TzMt)),C$TzR.MulXV(C$Tzu,C$Tzs.GetVertex(C$Tzl.indexB),C$Tzl.wB),C$Tzj.SubVV(C$Tzl.wB,C$Tzl.wA,C$Tzl.w),++C$Tza,++C$TzH.b2_gjkIters,!1),C$Tzc=0;C$Tzc<C$Tzp;++C$Tzc)if(C$Tzl.indexA===C$Tzd[C$Tzc]&&C$Tzl.indexB===C$Tzf[C$Tzc]){C$Tzy=!0;break;}if(C$Tzy)break;++C$Tzo.m_count;}C$TzH.b2_gjkMaxIters=C$TzV(C$TzH.b2_gjkMaxIters,C$Tza),C$Tzo.GetWitnessPoints(C$Tzt.pointA,C$Tzt.pointB),C$Tzt.distance=C$Tzj.DistanceVV(C$Tzt.pointA,C$Tzt.pointB),C$Tzt.iterations=C$Tza,C$Tzo.WriteCache(C$Tze),C$Tzi.useRadii&&(C$Tze=C$Tzr.m_radius,C$Tzi=C$Tzs.m_radius,C$Tzt.distance>C$Tze+C$Tzi&&C$Tzt.distance>C$TzM?(C$Tzt.distance-=C$Tze+C$Tzi,(C$Tzn=C$Tzj.SubVV(C$Tzt.pointB,C$Tzt.pointA,C$Tzwt)).Normalize(),C$Tzt.pointA.SelfMulAdd(C$Tze,C$Tzn),C$Tzt.pointB.SelfMulSub(C$Tzi,C$Tzn)):(C$Tze=C$Tzj.MidVV(C$Tzt.pointA,C$Tzt.pointB,C$TzSt),C$Tzt.pointA.Copy(C$Tze),C$Tzt.pointB.Copy(C$Tze),C$Tzt.distance=0));}var C$TzBt=new C$Tzj(),C$TzRt=new C$Tzvt(),C$TzPt=new C$Tzj(),C$TzDt=new C$Tzj(),C$TzLt=new C$Tzj(),C$TzVt=new C$Tzj(),C$TzOt=new C$Tzj(),C$TzFt=new C$Tzj();(C$TzXt=C$TzH.b2ContactFeatureType||(C$TzH.b2ContactFeatureType={}))[C$TzXt.e_vertex=0]=H[2976],C$TzXt[C$TzXt.e_face=1]=H[2977];Object.defineProperty(C$Tzkt.prototype,H[1390],{get:function(){return this._key_invalid&&(this._key_invalid=!1,this._key=this._indexA|this._indexB<<8|this._typeA<<16|this._typeB<<24),this._key;},set:function(C$Tzt){this._key=C$Tzt,this._key_invalid=!1,this._indexA=255&this._key,this._indexB=this._key>>8&255,this._typeA=this._key>>16&255,this._typeB=this._key>>24&255;},enumerable:!0,configurable:!0}),Object.defineProperty(C$Tzkt.prototype,H[2978],{get:function(){return this._indexA;},set:function(C$Tzt){this._indexA=C$Tzt,this._key_invalid=!0;},enumerable:!0,configurable:!0}),Object.defineProperty(C$Tzkt.prototype,H[2979],{get:function(){return this._indexB;},set:function(C$Tzt){this._indexB=C$Tzt,this._key_invalid=!0;},enumerable:!0,configurable:!0}),Object.defineProperty(C$Tzkt.prototype,H[2980],{get:function(){return this._typeA;},set:function(C$Tzt){this._typeA=C$Tzt,this._key_invalid=!0;},enumerable:!0,configurable:!0}),Object.defineProperty(C$Tzkt.prototype,H[2981],{get:function(){return this._typeB;},set:function(C$Tzt){this._typeB=C$Tzt,this._key_invalid=!0;},enumerable:!0,configurable:!0});var C$TzNt=C$Tzkt;function C$Tzkt(){this._key=0,this._key_invalid=!1,this._indexA=0,this._indexB=0,this._typeA=0,this._typeB=0;}C$Tzzt.prototype.Copy=function(C$Tzt){return this.key=C$Tzt.key,this;},C$Tzzt.prototype.Clone=function(){return new C$Tzzt().Copy(this);},Object.defineProperty(C$Tzzt.prototype,H[1390],{get:function(){return this.cf.key;},set:function(C$Tzt){this.cf.key=C$Tzt;},enumerable:!0,configurable:!0});var C$TzGt=C$Tzzt;function C$Tzzt(){this.cf=new C$TzNt();}C$TzWt.MakeArray=function(C$Tzt){return C$Tzc(C$Tzt,function(C$Tzt){return new C$TzWt();});},C$TzWt.prototype.Reset=function(){this.localPoint.SetZero(),this.normalImpulse=0,this.tangentImpulse=0,this.id.key=0;},C$TzWt.prototype.Copy=function(C$Tzt){return this.localPoint.Copy(C$Tzt.localPoint),this.normalImpulse=C$Tzt.normalImpulse,this.tangentImpulse=C$Tzt.tangentImpulse,this.id.Copy(C$Tzt.id),this;};var C$TzUt=C$TzWt;function C$TzWt(){this.localPoint=new C$Tzj(),this.normalImpulse=0,this.tangentImpulse=0,this.id=new C$TzGt();}(C$TzXt=C$TzH.b2ManifoldType||(C$TzH.b2ManifoldType={}))[C$TzXt.e_unknown=-1]=H[2982],C$TzXt[C$TzXt.e_circles=0]=H[2983],C$TzXt[C$TzXt.e_faceA=1]=H[2984],C$TzXt[C$TzXt.e_faceB=2]=H[2985];C$Tzjt.prototype.Reset=function(){for(var C$Tzt=0;C$Tzt<2;++C$Tzt)this.points[C$Tzt].Reset();this.localNormal.SetZero(),this.localPoint.SetZero(),this.type=C$TzH.b2ManifoldType.e_unknown,this.pointCount=0;},C$Tzjt.prototype.Copy=function(C$Tzt){this.pointCount=C$Tzt.pointCount;for(var C$Tze=0;C$Tze<2;++C$Tze)this.points[C$Tze].Copy(C$Tzt.points[C$Tze]);return this.localNormal.Copy(C$Tzt.localNormal),this.localPoint.Copy(C$Tzt.localPoint),this.type=C$Tzt.type,this;},C$Tzjt.prototype.Clone=function(){return new C$Tzjt().Copy(this);};var C$TzHt=C$Tzjt;function C$Tzjt(){this.points=C$TzUt.MakeArray(2),this.localNormal=new C$Tzj(),this.localPoint=new C$Tzj(),this.type=C$TzH.b2ManifoldType.e_unknown,this.pointCount=0;}C$TzYt.prototype.Initialize=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){if(0!==C$Tzt.pointCount)switch(C$Tzt.type){case C$TzH.b2ManifoldType.e_circles:this.normal.Set(1,0);var C$Tzs=C$TzR.MulXV(C$Tze,C$Tzt.localPoint,C$TzYt.Initialize_s_pointA),C$Tzh=C$TzR.MulXV(C$Tzn,C$Tzt.points[0].localPoint,C$TzYt.Initialize_s_pointB),C$Tzo=(C$Tzj.DistanceSquaredVV(C$Tzs,C$Tzh)>C$Tzg&&C$Tzj.SubVV(C$Tzh,C$Tzs,this.normal).SelfNormalize(),C$Tzj.AddVMulSV(C$Tzs,C$Tzi,this.normal,C$TzYt.Initialize_s_cA)),C$Tza=C$Tzj.SubVMulSV(C$Tzh,C$Tzr,this.normal,C$TzYt.Initialize_s_cB);C$Tzj.MidVV(C$Tzo,C$Tza,this.points[0]),this.separations[0]=C$Tzj.DotVV(C$Tzj.SubVV(C$Tza,C$Tzo,C$Tzj.s_t0),this.normal);break;case C$TzH.b2ManifoldType.e_faceA:C$TzB.MulRV(C$Tze.q,C$Tzt.localNormal,this.normal);for(var C$Tzu=C$TzR.MulXV(C$Tze,C$Tzt.localPoint,C$TzYt.Initialize_s_planePoint),C$Tzc=0;C$Tzc<C$Tzt.pointCount;++C$Tzc){var C$Tzl=C$TzR.MulXV(C$Tzn,C$Tzt.points[C$Tzc].localPoint,C$TzYt.Initialize_s_clipPoint),C$Tz_=C$Tzi-C$Tzj.DotVV(C$Tzj.SubVV(C$Tzl,C$Tzu,C$Tzj.s_t0),this.normal),C$Tzo=C$Tzj.AddVMulSV(C$Tzl,C$Tz_,this.normal,C$TzYt.Initialize_s_cA),C$Tza=C$Tzj.SubVMulSV(C$Tzl,C$Tzr,this.normal,C$TzYt.Initialize_s_cB);C$Tzj.MidVV(C$Tzo,C$Tza,this.points[C$Tzc]),this.separations[C$Tzc]=C$Tzj.DotVV(C$Tzj.SubVV(C$Tza,C$Tzo,C$Tzj.s_t0),this.normal);}break;case C$TzH.b2ManifoldType.e_faceB:C$TzB.MulRV(C$Tzn.q,C$Tzt.localNormal,this.normal);for(C$Tzu=C$TzR.MulXV(C$Tzn,C$Tzt.localPoint,C$TzYt.Initialize_s_planePoint),C$Tzc=0;C$Tzc<C$Tzt.pointCount;++C$Tzc){C$Tzl=C$TzR.MulXV(C$Tze,C$Tzt.points[C$Tzc].localPoint,C$TzYt.Initialize_s_clipPoint),C$Tz_=C$Tzr-C$Tzj.DotVV(C$Tzj.SubVV(C$Tzl,C$Tzu,C$Tzj.s_t0),this.normal),C$Tza=C$Tzj.AddVMulSV(C$Tzl,C$Tz_,this.normal,C$TzYt.Initialize_s_cB),C$Tzo=C$Tzj.SubVMulSV(C$Tzl,C$Tzi,this.normal,C$TzYt.Initialize_s_cA);C$Tzj.MidVV(C$Tzo,C$Tza,this.points[C$Tzc]),this.separations[C$Tzc]=C$Tzj.DotVV(C$Tzj.SubVV(C$Tzo,C$Tza,C$Tzj.s_t0),this.normal);}this.normal.SelfNeg();}},C$TzYt.Initialize_s_pointA=new C$Tzj(),C$TzYt.Initialize_s_pointB=new C$Tzj(),C$TzYt.Initialize_s_cA=new C$Tzj(),C$TzYt.Initialize_s_cB=new C$Tzj(),C$TzYt.Initialize_s_planePoint=new C$Tzj(),C$TzYt.Initialize_s_clipPoint=new C$Tzj();var C$TzXt=C$TzYt;function C$TzYt(){this.normal=new C$Tzj(),this.points=C$Tzj.MakeArray(2),this.separations=C$Tzh(2);}(C$Tzqt=C$TzH.b2PointState||(C$TzH.b2PointState={}))[C$Tzqt.b2_nullState=0]=H[2986],C$Tzqt[C$Tzqt.b2_addState=1]=H[2987],C$Tzqt[C$Tzqt.b2_persistState=2]=H[2988],C$Tzqt[C$Tzqt.b2_removeState=3]=H[2989];C$TzJt.MakeArray=function(C$Tzt){return C$Tzc(C$Tzt,function(C$Tzt){return new C$TzJt();});},C$TzJt.prototype.Copy=function(C$Tzt){return this.v.Copy(C$Tzt.v),this.id.Copy(C$Tzt.id),this;};var C$Tzqt=C$TzJt;function C$TzJt(){this.v=new C$Tzj(),this.id=new C$TzGt();}C$TzKt.prototype.Copy=function(C$Tzt){return this.p1.Copy(C$Tzt.p1),this.p2.Copy(C$Tzt.p2),this.maxFraction=C$Tzt.maxFraction,this;};var C$TzZt=C$TzKt;function C$TzKt(){this.p1=new C$Tzj(),this.p2=new C$Tzj(),this.maxFraction=1;}C$Tz$t.prototype.Copy=function(C$Tzt){return this.normal.Copy(C$Tzt.normal),this.fraction=C$Tzt.fraction,this;};var C$TzQt=C$Tz$t;function C$Tz$t(){this.normal=new C$Tzj(),this.fraction=0;}C$Tzee.prototype.Copy=function(C$Tzt){return this.lowerBound.Copy(C$Tzt.lowerBound),this.upperBound.Copy(C$Tzt.upperBound),this;},C$Tzee.prototype.IsValid=function(){var C$Tzt=this.upperBound.x-this.lowerBound.x,C$Tze=this.upperBound.y-this.lowerBound.y;return 0<=C$Tzt&&0<=C$Tze&&this.lowerBound.IsValid()&&this.upperBound.IsValid();},C$Tzee.prototype.GetCenter=function(){return C$Tzj.MidVV(this.lowerBound,this.upperBound,this.m_cache_center);},C$Tzee.prototype.GetExtents=function(){return C$Tzj.ExtVV(this.lowerBound,this.upperBound,this.m_cache_extent);},C$Tzee.prototype.GetPerimeter=function(){return 2*(this.upperBound.x-this.lowerBound.x+(this.upperBound.y-this.lowerBound.y));},C$Tzee.prototype.Combine1=function(C$Tzt){return this.lowerBound.x=C$TzL(this.lowerBound.x,C$Tzt.lowerBound.x),this.lowerBound.y=C$TzL(this.lowerBound.y,C$Tzt.lowerBound.y),this.upperBound.x=C$TzV(this.upperBound.x,C$Tzt.upperBound.x),this.upperBound.y=C$TzV(this.upperBound.y,C$Tzt.upperBound.y),this;},C$Tzee.prototype.Combine2=function(C$Tzt,C$Tze){return this.lowerBound.x=C$TzL(C$Tzt.lowerBound.x,C$Tze.lowerBound.x),this.lowerBound.y=C$TzL(C$Tzt.lowerBound.y,C$Tze.lowerBound.y),this.upperBound.x=C$TzV(C$Tzt.upperBound.x,C$Tze.upperBound.x),this.upperBound.y=C$TzV(C$Tzt.upperBound.y,C$Tze.upperBound.y),this;},C$Tzee.Combine=function(C$Tzt,C$Tze,C$Tzi){return C$Tzi.Combine2(C$Tzt,C$Tze),C$Tzi;},C$Tzee.prototype.Contains=function(C$Tzt){return this.lowerBound.x<=C$Tzt.lowerBound.x&&this.lowerBound.y<=C$Tzt.lowerBound.y&&C$Tzt.upperBound.x<=this.upperBound.x&&C$Tzt.upperBound.y<=this.upperBound.y;},C$Tzee.prototype.RayCast=function(C$Tzh,C$Tzt){var C$Tze=-C$TzP,C$Tzi=C$TzP,C$Tzn=C$Tzt.p1.x,C$Tzr=C$Tzt.p1.y,C$Tzu=C$Tzt.p2.x-C$Tzt.p1.x,C$Tz_=C$Tzt.p2.y-C$Tzt.p1.y,C$Tzd=C$TzD(C$Tzu),C$Tzf=C$TzD(C$Tz_),C$Tzs=C$Tzh.normal;if(C$Tzd<C$TzM){if(C$Tzn<this.lowerBound.x||this.upperBound.x<C$Tzn)return!1;}else{var C$Tzo=1/C$Tzu,C$Tza=(this.lowerBound.x-C$Tzn)*C$Tzo,C$Tzc=-1;if((C$Tzl=(this.upperBound.x-C$Tzn)*C$Tzo)<C$Tza&&(C$Tzp=C$Tza,C$Tza=C$Tzl,C$Tzl=C$Tzp,C$Tzc=1),C$Tze<C$Tza&&(C$Tzs.x=C$Tzc,C$Tzs.y=0,C$Tze=C$Tza),(C$Tzi=C$TzL(C$Tzi,C$Tzl))<C$Tze)return!1;}if(C$Tzf<C$TzM){if(C$Tzr<this.lowerBound.y||this.upperBound.y<C$Tzr)return!1;}else{var C$Tzl,C$Tzp,C$Tzo=1/C$Tz_,C$Tza=(this.lowerBound.y-C$Tzr)*C$Tzo,C$Tzc=-1;if((C$Tzl=(this.upperBound.y-C$Tzr)*C$Tzo)<C$Tza&&(C$Tzp=C$Tza,C$Tza=C$Tzl,C$Tzl=C$Tzp,C$Tzc=1),C$Tze<C$Tza&&(C$Tzs.x=0,C$Tzs.y=C$Tzc,C$Tze=C$Tza),(C$Tzi=C$TzL(C$Tzi,C$Tzl))<C$Tze)return!1;}return!(C$Tze<0||C$Tzt.maxFraction<C$Tze)&&(C$Tzh.fraction=C$Tze,!0);},C$Tzee.prototype.TestContain=function(C$Tzt){return!(C$Tzt.x<this.lowerBound.x||this.upperBound.x<C$Tzt.x)&&!(C$Tzt.y<this.lowerBound.y||this.upperBound.y<C$Tzt.y);},C$Tzee.prototype.TestOverlap=function(C$Tzt){var C$Tze=C$Tzt.lowerBound.x-this.upperBound.x,C$Tzi=C$Tzt.lowerBound.y-this.upperBound.y,C$Tzn=this.lowerBound.x-C$Tzt.upperBound.x,C$Tzt=this.lowerBound.y-C$Tzt.upperBound.y;return!(0<C$Tze||0<C$Tzi)&&!(0<C$Tzn||0<C$Tzt);};var C$Tzte=C$Tzee;function C$Tzee(){this.lowerBound=new C$Tzj(),this.upperBound=new C$Tzj(),this.m_cache_center=new C$Tzj(),this.m_cache_extent=new C$Tzj();}function C$Tzie(C$Tzt,C$Tze){var C$Tzi=C$Tze.lowerBound.x-C$Tzt.upperBound.x,C$Tzn=C$Tze.lowerBound.y-C$Tzt.upperBound.y,C$Tzr=C$Tzt.lowerBound.x-C$Tze.upperBound.x,C$Tzt=C$Tzt.lowerBound.y-C$Tze.upperBound.y;return!(0<C$Tzi||0<C$Tzn)&&!(0<C$Tzr||0<C$Tzt);}function C$Tzne(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){var C$Tzs=0,C$Tzo=C$Tze[0],C$Tze=C$Tze[1],C$Tza=C$Tzj.DotVV(C$Tzi,C$Tzo.v)-C$Tzn,C$Tzi=C$Tzj.DotVV(C$Tzi,C$Tze.v)-C$Tzn;return C$Tza<=0&&C$Tzt[C$Tzs++].Copy(C$Tzo),C$Tzi<=0&&C$Tzt[C$Tzs++].Copy(C$Tze),C$Tza*C$Tzi<0&&((C$Tzn=C$Tzt[C$Tzs].v).x=C$Tzo.v.x+(C$Tza=C$Tza/(C$Tza-C$Tzi))*(C$Tze.v.x-C$Tzo.v.x),C$Tzn.y=C$Tzo.v.y+C$Tza*(C$Tze.v.y-C$Tzo.v.y),(C$Tzi=C$Tzt[C$Tzs].id).cf.indexA=C$Tzr,C$Tzi.cf.indexB=C$Tzo.id.cf.indexB,C$Tzi.cf.typeA=C$TzH.b2ContactFeatureType.e_vertex,C$Tzi.cf.typeB=C$TzH.b2ContactFeatureType.e_face,++C$Tzs),C$Tzs;}var C$Tzre=new C$Tzut(),C$Tzse=new C$Tzlt(),C$Tzoe=new C$Tzdt();function C$Tzae(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){var C$Tzo=C$Tzre.Reset(),C$Tzt=(C$Tzo.proxyA.SetShape(C$Tzt,C$Tze),C$Tzo.proxyB.SetShape(C$Tzi,C$Tzn),C$Tzo.transformA.Copy(C$Tzr),C$Tzo.transformB.Copy(C$Tzs),C$Tzo.useRadii=!0,C$Tzse.Reset()),C$Tze=(C$Tzt.count=0,C$Tzoe.Reset());return C$TzIt(C$Tze,C$Tzt,C$Tzo),C$Tze.distance<10*C$TzM;}function C$Tzce(C$Tzt){if(null===C$Tzt)throw new Error();return C$Tzt;}C$Tzhe.prototype.IsLeaf=function(){return null===this.child1;};var C$Tzle=C$Tzhe;function C$Tzhe(C$Tzt){void 0===C$Tzt&&(C$Tzt=0),this.m_id=0,this.aabb=new C$Tzte(),this.parent=null,this.child1=null,this.child2=null,this.height=0,this.m_id=C$Tzt;}C$Tz_e.prototype.Query=function(C$Tzt,C$Tze){if(null!==this.m_root){var C$Tzi=this.m_stack.Reset();for(C$Tzi.Push(this.m_root);0<C$Tzi.GetCount();){var C$Tzn=C$Tzi.Pop();if(C$Tzn.aabb.TestOverlap(C$Tzt))if(C$Tzn.IsLeaf()){if(!C$Tze(C$Tzn))return;}else C$Tzi.Push(C$Tzce(C$Tzn.child1)),C$Tzi.Push(C$Tzce(C$Tzn.child2));}}},C$Tz_e.prototype.QueryPoint=function(C$Tzt,C$Tze){if(null!==this.m_root){var C$Tzi=this.m_stack.Reset();for(C$Tzi.Push(this.m_root);0<C$Tzi.GetCount();){var C$Tzn=C$Tzi.Pop();if(C$Tzn.aabb.TestContain(C$Tzt))if(C$Tzn.IsLeaf()){if(!C$Tze(C$Tzn))return;}else C$Tzi.Push(C$Tzce(C$Tzn.child1)),C$Tzi.Push(C$Tzce(C$Tzn.child2));}}},C$Tz_e.prototype.RayCast=function(C$Tzt,C$Tzh){if(null!==this.m_root){var C$Tze=C$Tzt.p1,C$Tzi=C$Tzt.p2,C$Tzu=C$Tzj.SubVV(C$Tzi,C$Tze,C$Tz_e.s_r),C$Tz_=(C$Tzu.Normalize(),C$Tzj.CrossOneV(C$Tzu,C$Tz_e.s_v)),C$Tzd=C$Tzj.AbsV(C$Tz_,C$Tz_e.s_abs_v),C$Tzn=C$Tzt.maxFraction,C$Tzr=C$Tz_e.s_segmentAABB,C$Tzs=C$Tze.x+C$Tzn*(C$Tzi.x-C$Tze.x),C$Tzo=C$Tze.y+C$Tzn*(C$Tzi.y-C$Tze.y),C$Tza=(C$Tzr.lowerBound.x=C$TzL(C$Tze.x,C$Tzs),C$Tzr.lowerBound.y=C$TzL(C$Tze.y,C$Tzo),C$Tzr.upperBound.x=C$TzV(C$Tze.x,C$Tzs),C$Tzr.upperBound.y=C$TzV(C$Tze.y,C$Tzo),this.m_stack.Reset());for(C$Tza.Push(this.m_root);0<C$Tza.GetCount();){var C$Tzc=C$Tza.Pop();if(C$Tzie(C$Tzc.aabb,C$Tzr)){var C$Tzl=C$Tzc.aabb.GetCenter(),C$Tzf=C$Tzc.aabb.GetExtents();if(!(0<C$TzD(C$Tzj.DotVV(C$Tz_,C$Tzj.SubVV(C$Tze,C$Tzl,C$Tzj.s_t0)))-C$Tzj.DotVV(C$Tzd,C$Tzf)))if(C$Tzc.IsLeaf()){C$Tzl=C$Tz_e.s_subInput,C$Tzf=(C$Tzl.p1.Copy(C$Tzt.p1),C$Tzl.p2.Copy(C$Tzt.p2),C$Tzl.maxFraction=C$Tzn,C$Tzh(C$Tzl,C$Tzc));if(0===C$Tzf)return;0<C$Tzf&&(C$Tzs=C$Tze.x+(C$Tzn=C$Tzf)*(C$Tzi.x-C$Tze.x),C$Tzo=C$Tze.y+C$Tzn*(C$Tzi.y-C$Tze.y),C$Tzr.lowerBound.x=C$TzL(C$Tze.x,C$Tzs),C$Tzr.lowerBound.y=C$TzL(C$Tze.y,C$Tzo),C$Tzr.upperBound.x=C$TzV(C$Tze.x,C$Tzs),C$Tzr.upperBound.y=C$TzV(C$Tze.y,C$Tzo));}else C$Tza.Push(C$Tzce(C$Tzc.child1)),C$Tza.Push(C$Tzce(C$Tzc.child2));}}}},C$Tz_e.prototype.AllocateNode=function(){var C$Tzt;return this.m_freeList?(C$Tzt=this.m_freeList,this.m_freeList=C$Tzt.parent,C$Tzt.parent=null,C$Tzt.child1=null,C$Tzt.child2=null,C$Tzt.height=0,delete C$Tzt.userData,C$Tzt):new C$Tzle(C$Tz_e.s_node_id++);},C$Tz_e.prototype.FreeNode=function(C$Tzt){C$Tzt.parent=this.m_freeList,C$Tzt.child1=null,C$Tzt.child2=null,C$Tzt.height=-1,delete C$Tzt.userData,this.m_freeList=C$Tzt;},C$Tz_e.prototype.CreateProxy=function(C$Tzt,C$Tze){var C$Tzi=this.AllocateNode();return C$Tzi.aabb.lowerBound.x=C$Tzt.lowerBound.x-.1,C$Tzi.aabb.lowerBound.y=C$Tzt.lowerBound.y-.1,C$Tzi.aabb.upperBound.x=C$Tzt.upperBound.x+.1,C$Tzi.aabb.upperBound.y=C$Tzt.upperBound.y+.1,C$Tzi.userData=C$Tze,C$Tzi.height=0,this.InsertLeaf(C$Tzi),C$Tzi;},C$Tz_e.prototype.DestroyProxy=function(C$Tzt){this.RemoveLeaf(C$Tzt),this.FreeNode(C$Tzt);},C$Tz_e.prototype.MoveProxy=function(C$Tzt,C$Tze,C$Tzi){if(C$Tzt.aabb.Contains(C$Tze))return!1;this.RemoveLeaf(C$Tzt);var C$Tzn=.1+2*(0<C$Tzi.x?C$Tzi.x:-C$Tzi.x),C$Tzi=.1+2*(0<C$Tzi.y?C$Tzi.y:-C$Tzi.y);return C$Tzt.aabb.lowerBound.x=C$Tze.lowerBound.x-C$Tzn,C$Tzt.aabb.lowerBound.y=C$Tze.lowerBound.y-C$Tzi,C$Tzt.aabb.upperBound.x=C$Tze.upperBound.x+C$Tzn,C$Tzt.aabb.upperBound.y=C$Tze.upperBound.y+C$Tzi,this.InsertLeaf(C$Tzt),!0;},C$Tz_e.prototype.InsertLeaf=function(C$Tzt){if(++this.m_insertionCount,null===this.m_root)return this.m_root=C$Tzt,void(this.m_root.parent=null);for(var C$Tze=C$Tzt.aabb,C$Tzi=this.m_root;!C$Tzi.IsLeaf();){var C$Tzn=C$Tzce(C$Tzi.child1),C$Tzr=C$Tzce(C$Tzi.child2),C$Tzh=C$Tzi.aabb.GetPerimeter(),C$Tzs=C$Tz_e.s_combinedAABB,C$Tzs=(C$Tzs.Combine2(C$Tzi.aabb,C$Tze),C$Tzs.GetPerimeter()),C$Tzu=2*C$Tzs,C$Tzs=2*(C$Tzs-C$Tzh),C$Tzh=void 0,C$Tzo=C$Tz_e.s_aabb,C$Tz_=void 0,C$Tzh=C$Tzn.IsLeaf()?(C$Tzo.Combine2(C$Tze,C$Tzn.aabb),C$Tzo.GetPerimeter()+C$Tzs):(C$Tzo.Combine2(C$Tze,C$Tzn.aabb),C$Tz_=C$Tzn.aabb.GetPerimeter(),C$Tzo.GetPerimeter()-C$Tz_+C$Tzs),C$Tzd=void 0,C$Tzd=C$Tzr.IsLeaf()?(C$Tzo.Combine2(C$Tze,C$Tzr.aabb),C$Tzo.GetPerimeter()+C$Tzs):(C$Tzo.Combine2(C$Tze,C$Tzr.aabb),C$Tz_=C$Tzr.aabb.GetPerimeter(),C$Tzo.GetPerimeter()-C$Tz_+C$Tzs);if(C$Tzu<C$Tzh&&C$Tzu<C$Tzd)break;C$Tzi=C$Tzh<C$Tzd?C$Tzn:C$Tzr;}for(var C$Tza=C$Tzi,C$Tzf=C$Tza.parent,C$Tzc=this.AllocateNode(),C$Tzl=(C$Tzc.parent=C$Tzf,delete C$Tzc.userData,C$Tzc.aabb.Combine2(C$Tze,C$Tza.aabb),C$Tzc.height=C$Tza.height+1,C$Tzf?(C$Tzf.child1===C$Tza?C$Tzf.child1=C$Tzc:C$Tzf.child2=C$Tzc,C$Tzc.child1=C$Tza,C$Tzc.child2=C$Tzt,C$Tza.parent=C$Tzc,C$Tzt.parent=C$Tzc):(C$Tzc.child1=C$Tza,C$Tzc.child2=C$Tzt,C$Tza.parent=C$Tzc,C$Tzt.parent=C$Tzc,this.m_root=C$Tzc),C$Tzt.parent);null!==C$Tzl;){C$Tzn=C$Tzce((C$Tzl=this.Balance(C$Tzl)).child1),C$Tzr=C$Tzce(C$Tzl.child2);C$Tzl.height=1+C$TzV(C$Tzn.height,C$Tzr.height),C$Tzl.aabb.Combine2(C$Tzn.aabb,C$Tzr.aabb),C$Tzl=C$Tzl.parent;}},C$Tz_e.prototype.RemoveLeaf=function(C$Tzt){if(C$Tzt!==this.m_root){var C$Tze=C$Tzce(C$Tzt.parent),C$Tzi=C$Tze&&C$Tze.parent,C$Tzt=C$Tze.child1===C$Tzt?C$Tzce(C$Tze.child2):C$Tzce(C$Tze.child1);if(C$Tzi){C$Tzi.child1===C$Tze?C$Tzi.child1=C$Tzt:C$Tzi.child2=C$Tzt,C$Tzt.parent=C$Tzi,this.FreeNode(C$Tze);for(var C$Tzn=C$Tzi;C$Tzn;){var C$Tzr=C$Tzce((C$Tzn=this.Balance(C$Tzn)).child1),C$Tzs=C$Tzce(C$Tzn.child2);C$Tzn.aabb.Combine2(C$Tzr.aabb,C$Tzs.aabb),C$Tzn.height=1+C$TzV(C$Tzr.height,C$Tzs.height),C$Tzn=C$Tzn.parent;}}else(this.m_root=C$Tzt).parent=null,this.FreeNode(C$Tze);}else this.m_root=null;},C$Tz_e.prototype.Balance=function(C$Tzt){if(C$Tzt.IsLeaf()||C$Tzt.height<2)return C$Tzt;var C$Tze,C$Tzi,C$Tzn=C$Tzce(C$Tzt.child1),C$Tzr=C$Tzce(C$Tzt.child2),C$Tzs=C$Tzr.height-C$Tzn.height;return 1<C$Tzs?(C$Tze=C$Tzce(C$Tzr.child1),C$Tzi=C$Tzce(C$Tzr.child2),C$Tzr.child1=C$Tzt,C$Tzr.parent=C$Tzt.parent,null!==(C$Tzt.parent=C$Tzr).parent?C$Tzr.parent.child1===C$Tzt?C$Tzr.parent.child1=C$Tzr:C$Tzr.parent.child2=C$Tzr:this.m_root=C$Tzr,C$Tze.height>C$Tzi.height?(C$Tzr.child2=C$Tze,((C$Tzt.child2=C$Tzi).parent=C$Tzt).aabb.Combine2(C$Tzn.aabb,C$Tzi.aabb),C$Tzr.aabb.Combine2(C$Tzt.aabb,C$Tze.aabb),C$Tzt.height=1+C$TzV(C$Tzn.height,C$Tzi.height),C$Tzr.height=1+C$TzV(C$Tzt.height,C$Tze.height)):(C$Tzr.child2=C$Tzi,((C$Tzt.child2=C$Tze).parent=C$Tzt).aabb.Combine2(C$Tzn.aabb,C$Tze.aabb),C$Tzr.aabb.Combine2(C$Tzt.aabb,C$Tzi.aabb),C$Tzt.height=1+C$TzV(C$Tzn.height,C$Tze.height),C$Tzr.height=1+C$TzV(C$Tzt.height,C$Tzi.height)),C$Tzr):C$Tzs<-1?(C$Tze=C$Tzce(C$Tzn.child1),C$Tzi=C$Tzce(C$Tzn.child2),C$Tzn.child1=C$Tzt,C$Tzn.parent=C$Tzt.parent,null!==(C$Tzt.parent=C$Tzn).parent?C$Tzn.parent.child1===C$Tzt?C$Tzn.parent.child1=C$Tzn:C$Tzn.parent.child2=C$Tzn:this.m_root=C$Tzn,C$Tze.height>C$Tzi.height?(C$Tzn.child2=C$Tze,((C$Tzt.child1=C$Tzi).parent=C$Tzt).aabb.Combine2(C$Tzr.aabb,C$Tzi.aabb),C$Tzn.aabb.Combine2(C$Tzt.aabb,C$Tze.aabb),C$Tzt.height=1+C$TzV(C$Tzr.height,C$Tzi.height),C$Tzn.height=1+C$TzV(C$Tzt.height,C$Tze.height)):(C$Tzn.child2=C$Tzi,((C$Tzt.child1=C$Tze).parent=C$Tzt).aabb.Combine2(C$Tzr.aabb,C$Tze.aabb),C$Tzn.aabb.Combine2(C$Tzt.aabb,C$Tzi.aabb),C$Tzt.height=1+C$TzV(C$Tzr.height,C$Tze.height),C$Tzn.height=1+C$TzV(C$Tzt.height,C$Tzi.height)),C$Tzn):C$Tzt;},C$Tz_e.prototype.GetHeight=function(){return null===this.m_root?0:this.m_root.height;},C$Tz_e.GetAreaNode=function(C$Tzt){if(null===C$Tzt)return 0;if(C$Tzt.IsLeaf())return 0;var C$Tze=C$Tzt.aabb.GetPerimeter();return(C$Tze+=C$Tz_e.GetAreaNode(C$Tzt.child1))+C$Tz_e.GetAreaNode(C$Tzt.child2);},C$Tz_e.prototype.GetAreaRatio=function(){if(null===this.m_root)return 0;var C$Tzt=this.m_root.aabb.GetPerimeter();return C$Tz_e.GetAreaNode(this.m_root)/C$Tzt;},C$Tz_e.prototype.ComputeHeightNode=function(C$Tzt){if(!C$Tzt||C$Tzt.IsLeaf())return 0;var C$Tze=this.ComputeHeightNode(C$Tzt.child1),C$Tzt=this.ComputeHeightNode(C$Tzt.child2);return 1+C$TzV(C$Tze,C$Tzt);},C$Tz_e.prototype.ComputeHeight=function(){return this.ComputeHeightNode(this.m_root);},C$Tz_e.prototype.ValidateStructure=function(C$Tzt){var C$Tze;null!==C$Tzt&&(this.m_root,(C$Tzt=C$Tzt).IsLeaf()||(C$Tze=C$Tzce(C$Tzt.child1),C$Tzt=C$Tzce(C$Tzt.child2),this.ValidateStructure(C$Tze),this.ValidateStructure(C$Tzt)));},C$Tz_e.prototype.ValidateMetrics=function(C$Tzt){var C$Tze;null!==C$Tzt&&((C$Tzt=C$Tzt).IsLeaf()||(C$Tze=C$Tzce(C$Tzt.child1),C$Tzt=C$Tzce(C$Tzt.child2),C$Tz_e.s_aabb.Combine2(C$Tze.aabb,C$Tzt.aabb),this.ValidateMetrics(C$Tze),this.ValidateMetrics(C$Tzt)));},C$Tz_e.prototype.Validate=function(){},C$Tz_e.GetMaxBalanceNode=function(C$Tzt,C$Tze){if(null===C$Tzt)return C$Tze;if(C$Tzt.height<=1)return C$Tze;var C$Tzi=C$Tzce(C$Tzt.child1),C$Tzt=C$Tzce(C$Tzt.child2),C$Tzt=C$TzD(C$Tzt.height-C$Tzi.height);return C$TzV(C$Tze,C$Tzt);},C$Tz_e.prototype.GetMaxBalance=function(){return C$Tz_e.GetMaxBalanceNode(this.m_root,0);},C$Tz_e.prototype.RebuildBottomUp=function(){this.Validate();},C$Tz_e.ShiftOriginNode=function(C$Tzt,C$Tze){var C$Tzi,C$Tzn;null!==C$Tzt&&(C$Tzt.height<=1||(C$Tzi=C$Tzt.child1,C$Tzn=C$Tzt.child2,C$Tz_e.ShiftOriginNode(C$Tzi,C$Tze),C$Tz_e.ShiftOriginNode(C$Tzn,C$Tze),C$Tzt.aabb.lowerBound.SelfSub(C$Tze),C$Tzt.aabb.upperBound.SelfSub(C$Tze)));},C$Tz_e.prototype.ShiftOrigin=function(C$Tzt){C$Tz_e.ShiftOriginNode(this.m_root,C$Tzt);},C$Tz_e.s_r=new C$Tzj(),C$Tz_e.s_v=new C$Tzj(),C$Tz_e.s_abs_v=new C$Tzj(),C$Tz_e.s_segmentAABB=new C$Tzte(),C$Tz_e.s_subInput=new C$TzZt(),C$Tz_e.s_combinedAABB=new C$Tzte(),C$Tz_e.s_aabb=new C$Tzte(),C$Tz_e.s_node_id=0;var C$Tzue=C$Tz_e;function C$Tz_e(){this.m_root=null,this.m_freeList=null,this.m_path=0,this.m_insertionCount=0,this.m_stack=new C$Tznt(256);}var C$Tzde=function(C$Tzt,C$Tze){this.proxyA=C$Tzt,this.proxyB=C$Tze;},C$Tzfe=(C$Tzpe.prototype.CreateProxy=function(C$Tzt,C$Tze){C$Tzt=this.m_tree.CreateProxy(C$Tzt,C$Tze);return++this.m_proxyCount,this.BufferMove(C$Tzt),C$Tzt;},C$Tzpe.prototype.DestroyProxy=function(C$Tzt){this.UnBufferMove(C$Tzt),--this.m_proxyCount,this.m_tree.DestroyProxy(C$Tzt);},C$Tzpe.prototype.MoveProxy=function(C$Tzt,C$Tze,C$Tzi){this.m_tree.MoveProxy(C$Tzt,C$Tze,C$Tzi)&&this.BufferMove(C$Tzt);},C$Tzpe.prototype.TouchProxy=function(C$Tzt){this.BufferMove(C$Tzt);},C$Tzpe.prototype.GetProxyCount=function(){return this.m_proxyCount;},C$Tzpe.prototype.UpdatePairs=function(C$Tzt){for(var C$Tzr=this,C$Tze=(this.m_pairCount=0,this),C$Tzi=0;C$Tzi<this.m_moveCount;++C$Tzi)!function(C$Tzt){var C$Tzn=C$Tze.m_moveBuffer[C$Tzt];if(null===C$Tzn)return;C$Tzt=C$Tzn.aabb;C$Tze.m_tree.Query(C$Tzt,function(C$Tzt){if(C$Tzt.m_id===C$Tzn.m_id)return!0;var C$Tze,C$Tzi,C$Tzt=C$Tzt.m_id<C$Tzn.m_id?(C$Tze=C$Tzt,C$Tzn):(C$Tze=C$Tzn,C$Tzt);return C$Tzr.m_pairCount===C$Tzr.m_pairBuffer.length?C$Tzr.m_pairBuffer[C$Tzr.m_pairCount]=new C$Tzde(C$Tze,C$Tzt):((C$Tzi=C$Tzr.m_pairBuffer[C$Tzr.m_pairCount]).proxyA=C$Tze,C$Tzi.proxyB=C$Tzt),++C$Tzr.m_pairCount,!0;});}(C$Tzi);this.m_moveCount=0,this.m_pairBuffer.length=this.m_pairCount,this.m_pairBuffer.sort(C$Tzme);for(var C$Tzn=0;C$Tzn<this.m_pairCount;){var C$Tzs=this.m_pairBuffer[C$Tzn],C$Tzo=C$Tzs.proxyA.userData,C$Tza=C$Tzs.proxyB.userData;for(C$Tzo&&C$Tza&&C$Tzt(C$Tzo,C$Tza),++C$Tzn;C$Tzn<this.m_pairCount;){var C$Tzc=this.m_pairBuffer[C$Tzn];if(C$Tzc.proxyA.m_id!==C$Tzs.proxyA.m_id||C$Tzc.proxyB.m_id!==C$Tzs.proxyB.m_id)break;++C$Tzn;}}},C$Tzpe.prototype.Query=function(C$Tzt,C$Tze){this.m_tree.Query(C$Tzt,C$Tze);},C$Tzpe.prototype.QueryPoint=function(C$Tzt,C$Tze){this.m_tree.QueryPoint(C$Tzt,C$Tze);},C$Tzpe.prototype.RayCast=function(C$Tzt,C$Tze){this.m_tree.RayCast(C$Tzt,C$Tze);},C$Tzpe.prototype.GetTreeHeight=function(){return this.m_tree.GetHeight();},C$Tzpe.prototype.GetTreeBalance=function(){return this.m_tree.GetMaxBalance();},C$Tzpe.prototype.GetTreeQuality=function(){return this.m_tree.GetAreaRatio();},C$Tzpe.prototype.ShiftOrigin=function(C$Tzt){this.m_tree.ShiftOrigin(C$Tzt);},C$Tzpe.prototype.BufferMove=function(C$Tzt){this.m_moveBuffer[this.m_moveCount]=C$Tzt,++this.m_moveCount;},C$Tzpe.prototype.UnBufferMove=function(C$Tzt){C$Tzt=this.m_moveBuffer.indexOf(C$Tzt);this.m_moveBuffer[C$Tzt]=null;},C$Tzpe);function C$Tzpe(){this.m_tree=new C$Tzue(),this.m_proxyCount=0,this.m_moveCount=0,this.m_moveBuffer=[],this.m_pairCount=0,this.m_pairBuffer=[];}function C$Tzme(C$Tzt,C$Tze){return C$Tzt.proxyA.m_id===C$Tze.proxyA.m_id?C$Tzt.proxyB.m_id-C$Tze.proxyB.m_id:C$Tzt.proxyA.m_id-C$Tze.proxyA.m_id;}C$TzH.b2_toiTime=0,C$TzH.b2_toiMaxTime=0,C$TzH.b2_toiCalls=0,C$TzH.b2_toiIters=0,C$TzH.b2_toiMaxIters=0,C$TzH.b2_toiRootIters=0,C$TzH.b2_toiMaxRootIters=0;var C$Tzye=new C$TzR(),C$Tzge=new C$TzR(),C$Tzve=new C$Tzj(),C$Tzxe=new C$Tzj(),C$Tzbe=new C$Tzj(),C$TzAe=new C$Tzj(),C$TzCe=new C$Tzj(),C$TzSe=function(){this.proxyA=new C$Tzat(),this.proxyB=new C$Tzat(),this.sweepA=new C$TzW(),this.sweepB=new C$TzW(),this.tMax=0;},C$TzTe=((C$TzTe=C$TzH.b2TOIOutputState||(C$TzH.b2TOIOutputState={}))[C$TzTe.e_unknown=0]=H[2982],C$TzTe[C$TzTe.e_failed=1]=H[2990],C$TzTe[C$TzTe.e_overlapped=2]=H[2991],C$TzTe[C$TzTe.e_touching=3]=H[2992],C$TzTe[C$TzTe.e_separated=4]=H[2993],function(){this.state=C$TzH.b2TOIOutputState.e_unknown,this.t=0;}),C$Tzwe=((C$Tzwe=C$TzH.b2SeparationFunctionType||(C$TzH.b2SeparationFunctionType={}))[C$Tzwe.e_unknown=-1]=H[2982],C$Tzwe[C$Tzwe.e_points=0]=H[2994],C$Tzwe[C$Tzwe.e_faceA=1]=H[2984],C$Tzwe[C$Tzwe.e_faceB=2]=H[2985],C$TzEe.prototype.Initialize=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs){this.m_proxyA=C$Tze,this.m_proxyB=C$Tzn;var C$Tzo,C$Tze=C$Tzt.count,C$Tzn=(this.m_sweepA.Copy(C$Tzi),this.m_sweepB.Copy(C$Tzr),C$Tzye),C$Tzi=C$Tzge;if(this.m_sweepA.GetTransform(C$Tzn,C$Tzs),this.m_sweepB.GetTransform(C$Tzi,C$Tzs),1===C$Tze)return this.m_type=C$TzH.b2SeparationFunctionType.e_points,C$Tzo=this.m_proxyA.GetVertex(C$Tzt.indexA[0]),C$Tzu=this.m_proxyB.GetVertex(C$Tzt.indexB[0]),C$Tzc=C$TzR.MulXV(C$Tzn,C$Tzo,C$Tzve),C$Tzl=C$TzR.MulXV(C$Tzi,C$Tzu,C$Tzxe),C$Tzj.SubVV(C$Tzl,C$Tzc,this.m_axis),C$Tza=this.m_axis.Normalize(),this.m_localPoint.SetZero(),C$Tza;if(C$Tzt.indexA[0]===C$Tzt.indexA[1])return this.m_type=C$TzH.b2SeparationFunctionType.e_faceB,C$Tzr=this.m_proxyB.GetVertex(C$Tzt.indexB[0]),C$Tzs=this.m_proxyB.GetVertex(C$Tzt.indexB[1]),C$Tzj.CrossVOne(C$Tzj.SubVV(C$Tzs,C$Tzr,C$Tzj.s_t0),this.m_axis).SelfNormalize(),C$Tzh=C$TzB.MulRV(C$Tzi.q,this.m_axis,C$Tzbe),C$Tzj.MidVV(C$Tzr,C$Tzs,this.m_localPoint),C$Tzl=C$TzR.MulXV(C$Tzi,this.m_localPoint,C$Tzxe),C$Tzo=this.m_proxyA.GetVertex(C$Tzt.indexA[0]),C$Tzc=C$TzR.MulXV(C$Tzn,C$Tzo,C$Tzve),(C$Tza=C$Tzj.DotVV(C$Tzj.SubVV(C$Tzc,C$Tzl,C$Tzj.s_t0),C$Tzh))<0&&(this.m_axis.SelfNeg(),C$Tza=-C$Tza),C$Tza;this.m_type=C$TzH.b2SeparationFunctionType.e_faceA;var C$Tza,C$Tze=this.m_proxyA.GetVertex(C$Tzt.indexA[0]),C$Tzr=this.m_proxyA.GetVertex(C$Tzt.indexA[1]),C$Tzh=(C$Tzj.CrossVOne(C$Tzj.SubVV(C$Tzr,C$Tze,C$Tzj.s_t0),this.m_axis).SelfNormalize(),C$TzB.MulRV(C$Tzn.q,this.m_axis,C$Tzbe)),C$Tzc=(C$Tzj.MidVV(C$Tze,C$Tzr,this.m_localPoint),C$TzR.MulXV(C$Tzn,this.m_localPoint,C$Tzve)),C$Tzu=this.m_proxyB.GetVertex(C$Tzt.indexB[0]),C$Tzl=C$TzR.MulXV(C$Tzi,C$Tzu,C$Tzxe);return(C$Tza=C$Tzj.DotVV(C$Tzj.SubVV(C$Tzl,C$Tzc,C$Tzj.s_t0),C$Tzh))<0&&(this.m_axis.SelfNeg(),C$Tza=-C$Tza),C$Tza;},C$TzEe.prototype.FindMinSeparation=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzye,C$Tzr=C$Tzge;switch(this.m_sweepA.GetTransform(C$Tzn,C$Tzi),this.m_sweepB.GetTransform(C$Tzr,C$Tzi),this.m_type){case C$TzH.b2SeparationFunctionType.e_points:var C$Tzs=C$TzB.MulTRV(C$Tzn.q,this.m_axis,C$TzAe),C$Tzh=C$TzB.MulTRV(C$Tzr.q,C$Tzj.NegV(this.m_axis,C$Tzj.s_t0),C$TzCe),C$Tzo=(C$Tzt[0]=this.m_proxyA.GetSupport(C$Tzs),C$Tze[0]=this.m_proxyB.GetSupport(C$Tzh),this.m_proxyA.GetVertex(C$Tzt[0])),C$Tzu=this.m_proxyB.GetVertex(C$Tze[0]),C$Tza=C$TzR.MulXV(C$Tzn,C$Tzo,C$Tzve),C$Tzc=C$TzR.MulXV(C$Tzr,C$Tzu,C$Tzxe);return C$Tzj.DotVV(C$Tzj.SubVV(C$Tzc,C$Tza,C$Tzj.s_t0),this.m_axis);case C$TzH.b2SeparationFunctionType.e_faceA:var C$Tzl=C$TzB.MulRV(C$Tzn.q,this.m_axis,C$Tzbe),C$Tza=C$TzR.MulXV(C$Tzn,this.m_localPoint,C$Tzve),C$Tzh=C$TzB.MulTRV(C$Tzr.q,C$Tzj.NegV(C$Tzl,C$Tzj.s_t0),C$TzCe),C$Tzu=(C$Tzt[0]=-1,C$Tze[0]=this.m_proxyB.GetSupport(C$Tzh),this.m_proxyB.GetVertex(C$Tze[0])),C$Tzc=C$TzR.MulXV(C$Tzr,C$Tzu,C$Tzxe);return C$Tzj.DotVV(C$Tzj.SubVV(C$Tzc,C$Tza,C$Tzj.s_t0),C$Tzl);case C$TzH.b2SeparationFunctionType.e_faceB:C$Tzl=C$TzB.MulRV(C$Tzr.q,this.m_axis,C$Tzbe),C$Tzc=C$TzR.MulXV(C$Tzr,this.m_localPoint,C$Tzxe),C$Tzs=C$TzB.MulTRV(C$Tzn.q,C$Tzj.NegV(C$Tzl,C$Tzj.s_t0),C$TzAe),C$Tzo=(C$Tze[0]=-1,C$Tzt[0]=this.m_proxyA.GetSupport(C$Tzs),this.m_proxyA.GetVertex(C$Tzt[0])),C$Tza=C$TzR.MulXV(C$Tzn,C$Tzo,C$Tzve);return C$Tzj.DotVV(C$Tzj.SubVV(C$Tza,C$Tzc,C$Tzj.s_t0),C$Tzl);default:return C$Tzt[0]=-1,C$Tze[0]=-1,0;}},C$TzEe.prototype.Evaluate=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzye,C$Tzr=C$Tzge;switch(this.m_sweepA.GetTransform(C$Tzn,C$Tzi),this.m_sweepB.GetTransform(C$Tzr,C$Tzi),this.m_type){case C$TzH.b2SeparationFunctionType.e_points:var C$Tzs=this.m_proxyA.GetVertex(C$Tzt),C$Tzo=this.m_proxyB.GetVertex(C$Tze),C$Tza=C$TzR.MulXV(C$Tzn,C$Tzs,C$Tzve),C$Tzc=C$TzR.MulXV(C$Tzr,C$Tzo,C$Tzxe);return C$Tzj.DotVV(C$Tzj.SubVV(C$Tzc,C$Tza,C$Tzj.s_t0),this.m_axis);case C$TzH.b2SeparationFunctionType.e_faceA:var C$Tzl=C$TzB.MulRV(C$Tzn.q,this.m_axis,C$Tzbe),C$Tza=C$TzR.MulXV(C$Tzn,this.m_localPoint,C$Tzve),C$Tzo=this.m_proxyB.GetVertex(C$Tze),C$Tzc=C$TzR.MulXV(C$Tzr,C$Tzo,C$Tzxe);return C$Tzj.DotVV(C$Tzj.SubVV(C$Tzc,C$Tza,C$Tzj.s_t0),C$Tzl);case C$TzH.b2SeparationFunctionType.e_faceB:C$Tzl=C$TzB.MulRV(C$Tzr.q,this.m_axis,C$Tzbe),C$Tzc=C$TzR.MulXV(C$Tzr,this.m_localPoint,C$Tzxe),C$Tzs=this.m_proxyA.GetVertex(C$Tzt),C$Tza=C$TzR.MulXV(C$Tzn,C$Tzs,C$Tzve);return C$Tzj.DotVV(C$Tzj.SubVV(C$Tza,C$Tzc,C$Tzj.s_t0),C$Tzl);default:return 0;}},C$TzEe);function C$TzEe(){this.m_sweepA=new C$TzW(),this.m_sweepB=new C$TzW(),this.m_type=C$TzH.b2SeparationFunctionType.e_unknown,this.m_localPoint=new C$Tzj(),this.m_axis=new C$Tzj();}var C$TzMe=new C$Tz$(),C$TzIe=new C$Tzlt(),C$TzBe=new C$Tzut(),C$TzRe=new C$Tzdt(),C$TzPe=new C$Tzwe(),C$TzDe=[0],C$TzLe=[0],C$TzVe=new C$TzW(),C$TzOe=new C$TzW();function C$TzFe(C$Tzt,C$Tze){var C$Tzh=C$TzMe.Reset(),C$Tzu=(++C$TzH.b2_toiCalls,C$Tzt.state=C$TzH.b2TOIOutputState.e_unknown,C$Tzt.t=C$Tze.tMax,C$Tze.proxyA),C$Tz_=C$Tze.proxyB,C$Tzd=C$TzVe.Copy(C$Tze.sweepA),C$Tzf=C$TzOe.Copy(C$Tze.sweepB),C$Tzp=(C$Tzd.Normalize(),C$Tzf.Normalize(),C$Tze.tMax),C$Tzi=C$Tzu.m_radius+C$Tz_.m_radius,C$Tzn=C$TzV(.008,C$Tzi-.024),C$Tzr=0,C$Tzm=0,C$Tzy=C$TzIe,C$Tzs=(C$Tzy.count=0,C$TzBe);for(C$Tzs.proxyA.Copy(C$Tze.proxyA),C$Tzs.proxyB.Copy(C$Tze.proxyB),C$Tzs.useRadii=!1;;){var C$Tzo=C$Tzye,C$Tzg=C$Tzge,C$Tzo=(C$Tzd.GetTransform(C$Tzo,C$Tzr),C$Tzf.GetTransform(C$Tzg,C$Tzr),C$Tzs.transformA.Copy(C$Tzo),C$Tzs.transformB.Copy(C$Tzg),C$TzRe);if(C$TzIt(C$Tzo,C$Tzy,C$Tzs),C$Tzo.distance<=0){C$Tzt.state=C$TzH.b2TOIOutputState.e_overlapped,C$Tzt.t=0;break;}if(C$Tzo.distance<C$Tzn+.002){C$Tzt.state=C$TzH.b2TOIOutputState.e_touching,C$Tzt.t=C$Tzr;break;}for(var C$Tza=C$TzPe,C$Tzc=(C$Tza.Initialize(C$Tzy,C$Tzu,C$Tzd,C$Tz_,C$Tzf,C$Tzr),!1),C$Tzv=C$Tzp,C$Tzx=0;;){var C$Tzb=C$TzDe,C$TzA=C$TzLe,C$TzC=C$Tza.FindMinSeparation(C$Tzb,C$TzA,C$Tzv);if(C$Tzn+.002<C$TzC){C$Tzt.state=C$TzH.b2TOIOutputState.e_separated,C$Tzt.t=C$Tzp,C$Tzc=!0;break;}if(C$Tzn-.002<C$TzC){C$Tzr=C$Tzv;break;}var C$Tzl=C$Tza.Evaluate(C$Tzb[0],C$TzA[0],C$Tzr);if(C$Tzl<C$Tzn-.002){C$Tzt.state=C$TzH.b2TOIOutputState.e_failed,C$Tzt.t=C$Tzr,C$Tzc=!0;break;}if(C$Tzl<=C$Tzn+.002){C$Tzt.state=C$TzH.b2TOIOutputState.e_touching,C$Tzt.t=C$Tzr,C$Tzc=!0;break;}for(var C$TzS=0,C$TzT=C$Tzr,C$Tzw=C$Tzv;;){var C$TzE=1&C$TzS?C$TzT+(C$Tzn-C$Tzl)*(C$Tzw-C$TzT)/(C$TzC-C$Tzl):.5*(C$TzT+C$Tzw),C$TzM=(++C$TzS,++C$TzH.b2_toiRootIters,C$Tza.Evaluate(C$Tzb[0],C$TzA[0],C$TzE));if(C$TzD(C$TzM-C$Tzn)<.002){C$Tzv=C$TzE;break;}if(C$Tzn<C$TzM?(C$TzT=C$TzE,C$Tzl=C$TzM):(C$Tzw=C$TzE,C$TzC=C$TzM),50===C$TzS)break;}if(C$TzH.b2_toiMaxRootIters=C$TzV(C$TzH.b2_toiMaxRootIters,C$TzS),8===++C$Tzx)break;}if(++C$Tzm,++C$TzH.b2_toiIters,C$Tzc)break;if(20===C$Tzm){C$Tzt.state=C$TzH.b2TOIOutputState.e_failed,C$Tzt.t=C$Tzr;break;}}C$TzH.b2_toiMaxIters=C$TzV(C$TzH.b2_toiMaxIters,C$Tzm);C$Tzi=C$Tzh.GetMilliseconds();C$TzH.b2_toiMaxTime=C$TzV(C$TzH.b2_toiMaxTime,C$Tzi),C$TzH.b2_toiTime+=C$Tzi;}var C$TzNe=new C$Tzj(),C$Tzke=new C$Tzj();function C$TzGe(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){C$Tzt.pointCount=0;C$Tzi=C$TzR.MulXV(C$Tzi,C$Tze.m_p,C$TzNe),C$Tzr=C$TzR.MulXV(C$Tzr,C$Tzn.m_p,C$Tzke),C$Tzi=C$Tzj.DistanceSquaredVV(C$Tzi,C$Tzr),C$Tzr=C$Tze.m_radius+C$Tzn.m_radius;C$Tzr*C$Tzr<C$Tzi||(C$Tzt.type=C$TzH.b2ManifoldType.e_circles,C$Tzt.localPoint.Copy(C$Tze.m_p),C$Tzt.localNormal.SetZero(),C$Tzt.pointCount=1,C$Tzt.points[0].localPoint.Copy(C$Tzn.m_p),C$Tzt.points[0].id.key=0);}var C$Tzze=new C$Tzj(),C$TzUe=new C$Tzj(),C$TzWe=new C$Tzj();function C$TzHe(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){C$Tzt.pointCount=0;for(var C$Tzr=C$TzR.MulXV(C$Tzr,C$Tzn.m_p,C$Tzze),C$Tzs=C$TzR.MulTXV(C$Tzi,C$Tzr,C$TzUe),C$Tzh=0,C$Tzu=-C$TzP,C$Tzo=C$Tze.m_radius+C$Tzn.m_radius,C$Tz_=C$Tze.m_count,C$Tzd=C$Tze.m_vertices,C$Tza=C$Tze.m_normals,C$Tzc=0;C$Tzc<C$Tz_;++C$Tzc){var C$Tzf=C$Tzj.DotVV(C$Tza[C$Tzc],C$Tzj.SubVV(C$Tzs,C$Tzd[C$Tzc],C$Tzj.s_t0));if(C$Tzo<C$Tzf)return;C$Tzu<C$Tzf&&(C$Tzu=C$Tzf,C$Tzh=C$Tzc);}C$Tzi=C$Tzh,C$Tzr=C$Tzd[C$Tzi],C$Tze=C$Tzd[(C$Tzi+1)%C$Tz_];if(C$Tzu<C$TzM)return C$Tzt.pointCount=1,C$Tzt.type=C$TzH.b2ManifoldType.e_faceA,C$Tzt.localNormal.Copy(C$Tza[C$Tzh]),C$Tzj.MidVV(C$Tzr,C$Tze,C$Tzt.localPoint),C$Tzt.points[0].localPoint.Copy(C$Tzn.m_p),void(C$Tzt.points[0].id.key=0);var C$Tzl=C$Tzj.DotVV(C$Tzj.SubVV(C$Tzs,C$Tzr,C$Tzj.s_t0),C$Tzj.SubVV(C$Tze,C$Tzr,C$Tzj.s_t1)),C$Tzp=C$Tzj.DotVV(C$Tzj.SubVV(C$Tzs,C$Tze,C$Tzj.s_t0),C$Tzj.SubVV(C$Tzr,C$Tze,C$Tzj.s_t1));C$Tzl<=0?C$Tzj.DistanceSquaredVV(C$Tzs,C$Tzr)>C$Tzo*C$Tzo||(C$Tzt.pointCount=1,C$Tzt.type=C$TzH.b2ManifoldType.e_faceA,C$Tzj.SubVV(C$Tzs,C$Tzr,C$Tzt.localNormal).SelfNormalize(),C$Tzt.localPoint.Copy(C$Tzr),C$Tzt.points[0].localPoint.Copy(C$Tzn.m_p),C$Tzt.points[0].id.key=0):C$Tzp<=0?C$Tzj.DistanceSquaredVV(C$Tzs,C$Tze)>C$Tzo*C$Tzo||(C$Tzt.pointCount=1,C$Tzt.type=C$TzH.b2ManifoldType.e_faceA,C$Tzj.SubVV(C$Tzs,C$Tze,C$Tzt.localNormal).SelfNormalize(),C$Tzt.localPoint.Copy(C$Tze),C$Tzt.points[0].localPoint.Copy(C$Tzn.m_p),C$Tzt.points[0].id.key=0):(C$Tzl=C$Tzj.MidVV(C$Tzr,C$Tze,C$TzWe),C$Tzo<C$Tzj.DotVV(C$Tzj.SubVV(C$Tzs,C$Tzl,C$Tzj.s_t1),C$Tza[C$Tzi])||(C$Tzt.pointCount=1,C$Tzt.type=C$TzH.b2ManifoldType.e_faceA,C$Tzt.localNormal.Copy(C$Tza[C$Tzi]).SelfNormalize(),C$Tzt.localPoint.Copy(C$Tzl),C$Tzt.points[0].localPoint.Copy(C$Tzn.m_p),C$Tzt.points[0].id.key=0));}var C$Tzje=new C$Tzj(),C$TzXe=new C$Tzj(),C$TzYe=new C$Tzj(),C$Tzqe=new C$Tzj();function C$TzJe(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){for(var C$Tzh=C$Tzt.m_vertices,C$Tzt=C$Tzt.m_normals,C$Tzu=C$Tzn.m_count,C$Tzs=C$Tzn.m_vertices,C$Tzn=C$TzB.MulRV(C$Tze.q,C$Tzt[C$Tzi],C$Tzje),C$Tz_=C$TzB.MulTRV(C$Tzr.q,C$Tzn,C$TzXe),C$Tzo=0,C$Tza=C$TzP,C$Tzc=0;C$Tzc<C$Tzu;++C$Tzc){var C$Tzl=C$Tzj.DotVV(C$Tzs[C$Tzc],C$Tz_);C$Tzl<C$Tza&&(C$Tza=C$Tzl,C$Tzo=C$Tzc);}C$Tzt=C$TzR.MulXV(C$Tze,C$Tzh[C$Tzi],C$TzYe),C$Tze=C$TzR.MulXV(C$Tzr,C$Tzs[C$Tzo],C$Tzqe);return C$Tzj.DotVV(C$Tzj.SubVV(C$Tze,C$Tzt,C$Tzj.s_t0),C$Tzn);}var C$TzZe=new C$Tzj(),C$TzKe=new C$Tzj();function C$TzQe(C$Tzh,C$Tzt,C$Tze,C$Tzi,C$Tzn){for(var C$Tzr=C$Tzt.m_count,C$Tzu=C$Tzt.m_normals,C$Tz_=C$Tzj.SubVV(C$TzR.MulXV(C$Tzn,C$Tzi.m_centroid,C$Tzj.s_t0),C$TzR.MulXV(C$Tze,C$Tzt.m_centroid,C$Tzj.s_t1),C$TzZe),C$Tzd=C$TzB.MulTRV(C$Tze.q,C$Tz_,C$TzKe),C$Tzs=0,C$Tzf=-C$TzP,C$Tzo=0;C$Tzo<C$Tzr;++C$Tzo){var C$Tzp=C$Tzj.DotVV(C$Tzu[C$Tzo],C$Tzd);C$Tzf<C$Tzp&&(C$Tzf=C$Tzp,C$Tzs=C$Tzo);}var C$Tza=C$TzJe(C$Tzt,C$Tze,C$Tzs,C$Tzi,C$Tzn),C$Tz_=(C$Tzs+C$Tzr-1)%C$Tzr,C$Tzm=C$TzJe(C$Tzt,C$Tze,C$Tz_,C$Tzi,C$Tzn),C$Tzy=(C$Tzs+1)%C$Tzr,C$Tzg=C$TzJe(C$Tzt,C$Tze,C$Tzy,C$Tzi,C$Tzn),C$Tzc=0,C$Tzl=0,C$Tzv=0;if(C$Tza<C$Tzm&&C$Tzg<C$Tzm)C$Tzv=-1,C$Tzc=C$Tz_,C$Tzl=C$Tzm;else{if(!(C$Tza<C$Tzg))return C$Tzh[0]=C$Tzs,C$Tza;C$Tzv=1,C$Tzc=C$Tzy,C$Tzl=C$Tzg;}for(;;){if(!(C$Tzl<(C$Tza=C$TzJe(C$Tzt,C$Tze,C$Tzs=-1===C$Tzv?(C$Tzc+C$Tzr-1)%C$Tzr:(C$Tzc+1)%C$Tzr,C$Tzi,C$Tzn))))break;C$Tzc=C$Tzs,C$Tzl=C$Tza;}return C$Tzh[0]=C$Tzc,C$Tzl;}var C$Tz$e=new C$Tzj();var C$Tzti=C$Tzqt.MakeArray(2),C$Tzei=C$Tzqt.MakeArray(2),C$Tzii=C$Tzqt.MakeArray(2),C$Tzni=[0],C$Tzri=[0],C$Tzsi=new C$Tzj(),C$Tzoi=new C$Tzj(),C$Tzai=new C$Tzj(),C$Tzci=new C$Tzj(),C$Tzli=new C$Tzj(),C$Tzhi=new C$Tzj(),C$Tzui=new C$Tzj(),C$Tz_i=new C$Tzj();function C$Tzdi(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){C$Tzt.pointCount=0;var C$Tzh=C$Tze.m_radius+C$Tzn.m_radius,C$Tzu=C$Tzni,C$Tz_=(C$Tzu[0]=0,C$TzQe(C$Tzu,C$Tze,C$Tzi,C$Tzn,C$Tzr));if(!(C$Tzh<C$Tz_)){var C$Tzs=C$Tzri,C$Tzo=(C$Tzs[0]=0,C$TzQe(C$Tzs,C$Tzn,C$Tzr,C$Tze,C$Tzi));if(!(C$Tzh<C$Tzo)){for(var C$Tzd,C$Tzf,C$Tzp=0,C$Tzm=0,C$Tzm=.98*C$Tz_+.001<C$Tzo?(C$Tzd=C$Tzn,C$Tza=C$Tze,C$Tzw=C$Tzr,C$Tzf=C$Tzi,C$Tzp=C$Tzs[0],C$Tzt.type=C$TzH.b2ManifoldType.e_faceB,1):(C$Tzd=C$Tze,C$Tza=C$Tzn,C$Tzw=C$Tzi,C$Tzf=C$Tzr,C$Tzp=C$Tzu[0],C$Tzt.type=C$TzH.b2ManifoldType.e_faceA,0),C$Tz_=C$Tzti,C$Tzo=C$Tz_,C$Tzs=C$Tzw,C$Tze=C$Tzp,C$Tzn=C$Tza,C$Tzi=C$Tzf,C$Tzr=(C$Tzr=C$Tzd).m_normals,C$Tzy=C$Tzn.m_count,C$Tzu=C$Tzn.m_vertices,C$Tzg=C$Tzn.m_normals,C$Tzv=C$TzB.MulTRV(C$Tzi.q,C$TzB.MulRV(C$Tzs.q,C$Tzr[C$Tze],C$Tzj.s_t0),C$Tz$e),C$Tzx=0,C$Tzb=C$TzP,C$TzA=0;C$TzA<C$Tzy;++C$TzA){var C$TzC=C$Tzj.DotVV(C$Tzv,C$Tzg[C$TzA]);C$TzC<C$Tzb&&(C$Tzb=C$TzC,C$Tzx=C$TzA);}C$Tzs=((C$Tzn=C$Tzx)+1)%C$Tzy,C$Tzr=C$Tzo[0],C$TzR.MulXV(C$Tzi,C$Tzu[C$Tzn],C$Tzr.v),(C$Tzr=C$Tzr.id.cf).indexA=C$Tze,C$Tzr.indexB=C$Tzn,C$Tzr.typeA=C$TzH.b2ContactFeatureType.e_face,C$Tzr.typeB=C$TzH.b2ContactFeatureType.e_vertex,C$Tzn=C$Tzo[1],C$TzR.MulXV(C$Tzi,C$Tzu[C$Tzs],C$Tzn.v),(C$Tzr=C$Tzn.id.cf).indexA=C$Tze,C$Tzr.indexB=C$Tzs,C$Tzr.typeA=C$TzH.b2ContactFeatureType.e_face,C$Tzr.typeB=C$TzH.b2ContactFeatureType.e_vertex;var C$Tza=C$Tzd.m_count,C$Tzo=C$Tzd.m_vertices,C$Tzi=C$Tzp,C$Tzu=(C$Tzp+1)%C$Tza,C$Tzn=C$Tzo[C$Tzi],C$Tze=C$Tzo[C$Tzu],C$Tzs=C$Tzj.SubVV(C$Tze,C$Tzn,C$Tzsi),C$Tzr=(C$Tzs.Normalize(),C$Tzj.CrossVOne(C$Tzs,C$Tzoi)),C$Tzp=C$Tzj.MidVV(C$Tzn,C$Tze,C$Tzai),C$Tza=C$TzB.MulRV(C$Tzw.q,C$Tzs,C$Tzli),C$TzS=C$Tzj.CrossVOne(C$Tza,C$Tzci),C$Tzo=C$TzR.MulXV(C$Tzw,C$Tzn,C$Tzui),C$Tzs=C$TzR.MulXV(C$Tzw,C$Tze,C$Tz_i),C$TzT=C$Tzj.DotVV(C$TzS,C$Tzo),C$Tzn=-C$Tzj.DotVV(C$Tza,C$Tzo)+C$Tzh,C$Tzw=C$Tzj.DotVV(C$Tza,C$Tzs)+C$Tzh,C$Tze=C$Tzei,C$TzE=C$Tzii,C$Tzo=C$Tzne(C$Tze,C$Tz_,C$Tzj.NegV(C$Tza,C$Tzhi),C$Tzn,C$Tzi);if(!(C$Tzo<2||C$Tzne(C$TzE,C$Tze,C$Tza,C$Tzw,C$Tzu)<2)){C$Tzt.localNormal.Copy(C$Tzr),C$Tzt.localPoint.Copy(C$Tzp);for(var C$TzM=0,C$TzI=0;C$TzI<2;++C$TzI){var C$Tzc,C$Tzl=C$TzE[C$TzI];C$Tzj.DotVV(C$TzS,C$Tzl.v)-C$TzT<=C$Tzh&&(C$Tzc=C$Tzt.points[C$TzM],C$TzR.MulTXV(C$Tzf,C$Tzl.v,C$Tzc.localPoint),C$Tzc.id.Copy(C$Tzl.id),C$Tzm&&(C$Tzl=C$Tzc.id.cf,C$Tzc.id.cf.indexA=C$Tzl.indexB,C$Tzc.id.cf.indexB=C$Tzl.indexA,C$Tzc.id.cf.typeA=C$Tzl.typeB,C$Tzc.id.cf.typeB=C$Tzl.typeA),++C$TzM);}C$Tzt.pointCount=C$TzM;}}}}var C$Tzfi=new C$Tzj(),C$Tzpi=new C$Tzj(),C$Tzmi=new C$Tzj(),C$Tzyi=new C$Tzj(),C$Tzgi=new C$Tzj(),C$Tzvi=new C$Tzj(),C$Tzxi=new C$Tzj(),C$Tzbi=new C$TzGt();function C$TzAi(C$Tzt,C$Tze,C$Tzi,C$Tzh,C$Tzn){C$Tzt.pointCount=0;var C$Tzi=C$TzR.MulTXV(C$Tzi,C$TzR.MulXV(C$Tzn,C$Tzh.m_p,C$Tzj.s_t0),C$Tzfi),C$Tzn=C$Tze.m_vertex1,C$Tzr=C$Tze.m_vertex2,C$Tzs=C$Tzj.SubVV(C$Tzr,C$Tzn,C$Tzpi),C$Tzu=C$Tzj.DotVV(C$Tzs,C$Tzj.SubVV(C$Tzr,C$Tzi,C$Tzj.s_t0)),C$Tz_=C$Tzj.DotVV(C$Tzs,C$Tzj.SubVV(C$Tzi,C$Tzn,C$Tzj.s_t0)),C$Tzd=C$Tze.m_radius+C$Tzh.m_radius,C$Tzo=C$Tzbi;if(C$Tzo.cf.indexB=0,C$Tzo.cf.typeB=C$TzH.b2ContactFeatureType.e_vertex,C$Tz_<=0){var C$Tza=C$Tzn,C$Tzc=C$Tzj.SubVV(C$Tzi,C$Tza,C$Tzmi);if(C$Tzd*C$Tzd<C$Tzj.DotVV(C$Tzc,C$Tzc))return;if(C$Tze.m_hasVertex0){var C$Tzc=C$Tze.m_vertex0,C$Tzl=C$Tzn,C$Tzc=C$Tzj.SubVV(C$Tzl,C$Tzc,C$Tzyi);if(0<C$Tzj.DotVV(C$Tzc,C$Tzj.SubVV(C$Tzl,C$Tzi,C$Tzj.s_t0)))return;}return C$Tzo.cf.indexA=0,C$Tzo.cf.typeA=C$TzH.b2ContactFeatureType.e_vertex,C$Tzt.pointCount=1,C$Tzt.type=C$TzH.b2ManifoldType.e_circles,C$Tzt.localNormal.SetZero(),C$Tzt.localPoint.Copy(C$Tza),C$Tzt.points[0].id.Copy(C$Tzo),void C$Tzt.points[0].localPoint.Copy(C$Tzh.m_p);}if(C$Tzu<=0){C$Tzc=C$Tzr,C$Tzl=C$Tzj.SubVV(C$Tzi,C$Tzc,C$Tzmi);if(C$Tzd*C$Tzd<C$Tzj.DotVV(C$Tzl,C$Tzl))return;if(C$Tze.m_hasVertex3){C$Tza=C$Tze.m_vertex3,C$Tzl=C$Tzr,C$Tze=C$Tzj.SubVV(C$Tza,C$Tzl,C$Tzgi);if(0<C$Tzj.DotVV(C$Tze,C$Tzj.SubVV(C$Tzi,C$Tzl,C$Tzj.s_t0)))return;}return C$Tzo.cf.indexA=1,C$Tzo.cf.typeA=C$TzH.b2ContactFeatureType.e_vertex,C$Tzt.pointCount=1,C$Tzt.type=C$TzH.b2ManifoldType.e_circles,C$Tzt.localNormal.SetZero(),C$Tzt.localPoint.Copy(C$Tzc),C$Tzt.points[0].id.Copy(C$Tzo),void C$Tzt.points[0].localPoint.Copy(C$Tzh.m_p);}C$Tza=C$Tzj.DotVV(C$Tzs,C$Tzs),C$Tze=C$Tzvi,C$Tze.x=1/C$Tza*(C$Tzu*C$Tzn.x+C$Tz_*C$Tzr.x),C$Tze.y=1/C$Tza*(C$Tzu*C$Tzn.y+C$Tz_*C$Tzr.y),C$Tzl=C$Tzj.SubVV(C$Tzi,C$Tze,C$Tzmi);C$Tzd*C$Tzd<C$Tzj.DotVV(C$Tzl,C$Tzl)||(C$Tzc=C$Tzxi.Set(-C$Tzs.y,C$Tzs.x),C$Tzj.DotVV(C$Tzc,C$Tzj.SubVV(C$Tzi,C$Tzn,C$Tzj.s_t0))<0&&C$Tzc.Set(-C$Tzc.x,-C$Tzc.y),C$Tzc.Normalize(),C$Tzo.cf.indexA=0,C$Tzo.cf.typeA=C$TzH.b2ContactFeatureType.e_face,C$Tzt.pointCount=1,C$Tzt.type=C$TzH.b2ManifoldType.e_faceA,C$Tzt.localNormal.Copy(C$Tzc),C$Tzt.localPoint.Copy(C$Tzn),C$Tzt.points[0].id.Copy(C$Tzo),C$Tzt.points[0].localPoint.Copy(C$Tzh.m_p));}var C$TzCi=function(){this.type=0,this.index=0,this.separation=0;},C$TzSi=function(){this.vertices=C$Tzj.MakeArray(8),this.normals=C$Tzj.MakeArray(8),this.count=0;},C$TzTi=function(){this.i1=0,this.i2=0,this.v1=new C$Tzj(),this.v2=new C$Tzj(),this.normal=new C$Tzj(),this.sideNormal1=new C$Tzj(),this.sideOffset1=0,this.sideNormal2=new C$Tzj(),this.sideOffset2=0;};function C$Tzwi(){this.m_polygonB=new C$TzSi(),this.m_xf=new C$TzR(),this.m_centroidB=new C$Tzj(),this.m_v0=new C$Tzj(),this.m_v1=new C$Tzj(),this.m_v2=new C$Tzj(),this.m_v3=new C$Tzj(),this.m_normal0=new C$Tzj(),this.m_normal1=new C$Tzj(),this.m_normal2=new C$Tzj(),this.m_normal=new C$Tzj(),this.m_type1=0,this.m_type2=0,this.m_lowerLimit=new C$Tzj(),this.m_upperLimit=new C$Tzj(),this.m_radius=0,this.m_front=!1;}C$Tzwi.prototype.Collide=function(C$Tzt,C$Tzh,C$Tze,C$Tzu,C$Tz_){C$TzR.MulTXX(C$Tze,C$Tz_,this.m_xf),C$TzR.MulXV(this.m_xf,C$Tzu.m_centroid,this.m_centroidB),this.m_v0.Copy(C$Tzh.m_vertex0),this.m_v1.Copy(C$Tzh.m_vertex1),this.m_v2.Copy(C$Tzh.m_vertex2),this.m_v3.Copy(C$Tzh.m_vertex3);var C$Tze=C$Tzh.m_hasVertex0,C$Tz_=C$Tzh.m_hasVertex3,C$Tzi=C$Tzj.SubVV(this.m_v2,this.m_v1,C$Tzwi.s_edge1),C$Tzn=(C$Tzi.Normalize(),this.m_normal1.Set(C$Tzi.y,-C$Tzi.x),C$Tzj.DotVV(this.m_normal1,C$Tzj.SubVV(this.m_centroidB,this.m_v1,C$Tzj.s_t0))),C$Tzr=0,C$Tzd=0,C$Tzf=!1,C$Tzp=!1;C$Tze&&((C$Tzo=C$Tzj.SubVV(this.m_v1,this.m_v0,C$Tzwi.s_edge0)).Normalize(),this.m_normal0.Set(C$Tzo.y,-C$Tzo.x),C$Tzf=0<=C$Tzj.CrossVV(C$Tzo,C$Tzi),C$Tzr=C$Tzj.DotVV(this.m_normal0,C$Tzj.SubVV(this.m_centroidB,this.m_v0,C$Tzj.s_t0))),C$Tz_&&((C$Tzo=C$Tzj.SubVV(this.m_v3,this.m_v2,C$Tzwi.s_edge2)).Normalize(),this.m_normal2.Set(C$Tzo.y,-C$Tzo.x),C$Tzp=0<C$Tzj.CrossVV(C$Tzi,C$Tzo),C$Tzd=C$Tzj.DotVV(this.m_normal2,C$Tzj.SubVV(this.m_centroidB,this.m_v2,C$Tzj.s_t0))),C$Tze&&C$Tz_?C$Tzf&&C$Tzp?(this.m_front=0<=C$Tzr||0<=C$Tzn||0<=C$Tzd,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):C$Tzf?(this.m_front=0<=C$Tzr||0<=C$Tzn&&0<=C$Tzd,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):C$Tzp?(this.m_front=0<=C$Tzd||0<=C$Tzr&&0<=C$Tzn,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):(this.m_front=0<=C$Tzr&&0<=C$Tzn&&0<=C$Tzd,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):C$Tze?C$Tzf?(this.m_front=0<=C$Tzr||0<=C$Tzn,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1)),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_front=0<=C$Tzr&&0<=C$Tzn,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):C$Tz_?C$Tzp?(this.m_front=0<=C$Tzn||0<=C$Tzd,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1))):(this.m_front=0<=C$Tzn&&0<=C$Tzd,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg()),this.m_upperLimit.Copy(this.m_normal1)):(this.m_front=0<=C$Tzn,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1))),this.m_polygonB.count=C$Tzu.m_count;for(var C$Tzs=0;C$Tzs<C$Tzu.m_count;++C$Tzs)C$TzR.MulXV(this.m_xf,C$Tzu.m_vertices[C$Tzs],this.m_polygonB.vertices[C$Tzs]),C$TzB.MulRV(this.m_xf.q,C$Tzu.m_normals[C$Tzs],this.m_polygonB.normals[C$Tzs]);this.m_radius=C$Tzu.m_radius+C$Tzh.m_radius,C$Tzt.pointCount=0;C$Tzi=this.ComputeEdgeSeparation(C$Tzwi.s_edgeAxis);if(0!==C$Tzi.type&&!(C$Tzi.separation>this.m_radius)){var C$Tzo=this.ComputePolygonSeparation(C$Tzwi.s_polygonAxis);if(!(0!==C$Tzo.type&&C$Tzo.separation>this.m_radius)){var C$Tzm=0!==C$Tzo.type&&C$Tzo.separation>.98*C$Tzi.separation+.001?C$Tzo:C$Tzi,C$Tze=C$Tzwi.s_ie,C$Tza=C$Tzwi.s_rf;if(1===C$Tzm.type){C$Tzt.type=C$TzH.b2ManifoldType.e_faceA;for(var C$Tzy=0,C$Tzg=C$Tzj.DotVV(this.m_normal,this.m_polygonB.normals[0]),C$Tzs=1;C$Tzs<this.m_polygonB.count;++C$Tzs){var C$Tzv=C$Tzj.DotVV(this.m_normal,this.m_polygonB.normals[C$Tzs]);C$Tzv<C$Tzg&&(C$Tzg=C$Tzv,C$Tzy=C$Tzs);}var C$Tzc,C$Tzl,C$Tzf=C$Tzy,C$Tzr=(C$Tzf+1)%this.m_polygonB.count;(C$Tzc=C$Tze[0]).v.Copy(this.m_polygonB.vertices[C$Tzf]),C$Tzc.id.cf.indexA=0,C$Tzc.id.cf.indexB=C$Tzf,C$Tzc.id.cf.typeA=C$TzH.b2ContactFeatureType.e_face,C$Tzc.id.cf.typeB=C$TzH.b2ContactFeatureType.e_vertex,(C$Tzl=C$Tze[1]).v.Copy(this.m_polygonB.vertices[C$Tzr]),C$Tzl.id.cf.indexA=0,C$Tzl.id.cf.indexB=C$Tzr,C$Tzl.id.cf.typeA=C$TzH.b2ContactFeatureType.e_face,C$Tzl.id.cf.typeB=C$TzH.b2ContactFeatureType.e_vertex,this.m_front?(C$Tza.i1=0,C$Tza.i2=1,C$Tza.v1.Copy(this.m_v1),C$Tza.v2.Copy(this.m_v2),C$Tza.normal.Copy(this.m_normal1)):(C$Tza.i1=1,C$Tza.i2=0,C$Tza.v1.Copy(this.m_v2),C$Tza.v2.Copy(this.m_v1),C$Tza.normal.Copy(this.m_normal1).SelfNeg());}else C$Tzt.type=C$TzH.b2ManifoldType.e_faceB,(C$Tzc=C$Tze[0]).v.Copy(this.m_v1),C$Tzc.id.cf.indexA=0,C$Tzc.id.cf.indexB=C$Tzm.index,C$Tzc.id.cf.typeA=C$TzH.b2ContactFeatureType.e_vertex,C$Tzc.id.cf.typeB=C$TzH.b2ContactFeatureType.e_face,(C$Tzl=C$Tze[1]).v.Copy(this.m_v2),C$Tzl.id.cf.indexA=0,C$Tzl.id.cf.indexB=C$Tzm.index,C$Tzl.id.cf.typeA=C$TzH.b2ContactFeatureType.e_vertex,C$Tzl.id.cf.typeB=C$TzH.b2ContactFeatureType.e_face,C$Tza.i1=C$Tzm.index,C$Tza.i2=(C$Tza.i1+1)%this.m_polygonB.count,C$Tza.v1.Copy(this.m_polygonB.vertices[C$Tza.i1]),C$Tza.v2.Copy(this.m_polygonB.vertices[C$Tza.i2]),C$Tza.normal.Copy(this.m_polygonB.normals[C$Tza.i1]);C$Tza.sideNormal1.Set(C$Tza.normal.y,-C$Tza.normal.x),C$Tza.sideNormal2.Copy(C$Tza.sideNormal1).SelfNeg(),C$Tza.sideOffset1=C$Tzj.DotVV(C$Tza.sideNormal1,C$Tza.v1),C$Tza.sideOffset2=C$Tzj.DotVV(C$Tza.sideNormal2,C$Tza.v2);var C$Tz_=C$Tzwi.s_clipPoints1,C$Tzx=C$Tzwi.s_clipPoints2,C$Tzp=C$Tzne(C$Tz_,C$Tze,C$Tza.sideNormal1,C$Tza.sideOffset1,C$Tza.i1);if(!(C$Tzp<2||C$Tzne(C$Tzx,C$Tz_,C$Tza.sideNormal2,C$Tza.sideOffset2,C$Tza.i2)<2)){1===C$Tzm.type?(C$Tzt.localNormal.Copy(C$Tza.normal),C$Tzt.localPoint.Copy(C$Tza.v1)):(C$Tzt.localNormal.Copy(C$Tzu.m_normals[C$Tza.i1]),C$Tzt.localPoint.Copy(C$Tzu.m_vertices[C$Tza.i1]));for(var C$Tzb=0,C$Tzs=0;C$Tzs<2;++C$Tzs){var C$TzA;C$Tzj.DotVV(C$Tza.normal,C$Tzj.SubVV(C$Tzx[C$Tzs].v,C$Tza.v1,C$Tzj.s_t0))<=this.m_radius&&(C$TzA=C$Tzt.points[C$Tzb],1===C$Tzm.type?(C$TzR.MulTXV(this.m_xf,C$Tzx[C$Tzs].v,C$TzA.localPoint),C$TzA.id=C$Tzx[C$Tzs].id):(C$TzA.localPoint.Copy(C$Tzx[C$Tzs].v),C$TzA.id.cf.typeA=C$Tzx[C$Tzs].id.cf.typeB,C$TzA.id.cf.typeB=C$Tzx[C$Tzs].id.cf.typeA,C$TzA.id.cf.indexA=C$Tzx[C$Tzs].id.cf.indexB,C$TzA.id.cf.indexB=C$Tzx[C$Tzs].id.cf.indexA),++C$Tzb);}C$Tzt.pointCount=C$Tzb;}}}},C$Tzwi.prototype.ComputeEdgeSeparation=function(C$Tzt){var C$Tze=C$Tzt;C$Tze.type=1,C$Tze.index=this.m_front?0:1,C$Tze.separation=C$TzP;for(var C$Tzi=0;C$Tzi<this.m_polygonB.count;++C$Tzi){var C$Tzn=C$Tzj.DotVV(this.m_normal,C$Tzj.SubVV(this.m_polygonB.vertices[C$Tzi],this.m_v1,C$Tzj.s_t0));C$Tzn<C$Tze.separation&&(C$Tze.separation=C$Tzn);}return C$Tze;},C$Tzwi.prototype.ComputePolygonSeparation=function(C$Tzt){for(var C$Tze=C$Tzt,C$Tzi=(C$Tze.type=0,C$Tze.index=-1,C$Tze.separation=-C$TzP,C$Tzwi.s_perp.Set(-this.m_normal.y,this.m_normal.x)),C$Tzn=0;C$Tzn<this.m_polygonB.count;++C$Tzn){var C$Tzr=C$Tzj.NegV(this.m_polygonB.normals[C$Tzn],C$Tzwi.s_n),C$Tzs=C$Tzj.DotVV(C$Tzr,C$Tzj.SubVV(this.m_polygonB.vertices[C$Tzn],this.m_v1,C$Tzj.s_t0)),C$Tzo=C$Tzj.DotVV(C$Tzr,C$Tzj.SubVV(this.m_polygonB.vertices[C$Tzn],this.m_v2,C$Tzj.s_t0)),C$Tzs=C$TzL(C$Tzs,C$Tzo);if(C$Tzs>this.m_radius)return C$Tze.type=2,C$Tze.index=C$Tzn,C$Tze.separation=C$Tzs,C$Tze;if(0<=C$Tzj.DotVV(C$Tzr,C$Tzi)){if(C$Tzj.DotVV(C$Tzj.SubVV(C$Tzr,this.m_upperLimit,C$Tzj.s_t0),this.m_normal)<-C$TzI)continue;}else if(C$Tzj.DotVV(C$Tzj.SubVV(C$Tzr,this.m_lowerLimit,C$Tzj.s_t0),this.m_normal)<-C$TzI)continue;C$Tzs>C$Tze.separation&&(C$Tze.type=2,C$Tze.index=C$Tzn,C$Tze.separation=C$Tzs);}return C$Tze;},C$Tzwi.s_edge1=new C$Tzj(),C$Tzwi.s_edge0=new C$Tzj(),C$Tzwi.s_edge2=new C$Tzj(),C$Tzwi.s_ie=C$Tzqt.MakeArray(2),C$Tzwi.s_rf=new C$TzTi(),C$Tzwi.s_clipPoints1=C$Tzqt.MakeArray(2),C$Tzwi.s_clipPoints2=C$Tzqt.MakeArray(2),C$Tzwi.s_edgeAxis=new C$TzCi(),C$Tzwi.s_polygonAxis=new C$TzCi(),C$Tzwi.s_n=new C$Tzj(),C$Tzwi.s_perp=new C$Tzj();var C$TzEi=new C$Tzwi();function C$TzMi(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){C$TzEi.Collide(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr);}var C$TzIi=function(){this.mass=0,this.center=new C$Tzj(0,0),this.I=0;},C$TzBi=((C$TzTi=C$TzH.b2ShapeType||(C$TzH.b2ShapeType={}))[C$TzTi.e_unknown=-1]=H[2982],C$TzTi[C$TzTi.e_circleShape=0]=H[2995],C$TzTi[C$TzTi.e_edgeShape=1]=H[2996],C$TzTi[C$TzTi.e_polygonShape=2]=H[2997],C$TzTi[C$TzTi.e_chainShape=3]=H[2998],C$TzTi[C$TzTi.e_shapeTypeCount=4]=H[2999],C$TzRi.prototype.Copy=function(C$Tzt){return this.m_radius=C$Tzt.m_radius,this;},C$TzRi.prototype.GetType=function(){return this.m_type;},C$TzRi);function C$TzRi(C$Tzt,C$Tze){this.m_type=C$TzH.b2ShapeType.e_unknown,this.m_radius=0,this.m_type=C$Tzt,this.m_radius=C$Tze;}var C$TzPi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C$Tzt,C$Tze){C$Tzt.__proto__=C$Tze;}||function(C$Tzt,C$Tze){for(var C$Tzi in C$Tze)C$Tze.hasOwnProperty(C$Tzi)&&(C$Tzt[C$Tzi]=C$Tze[C$Tzi]);};function C$TzDi(C$Tzt,C$Tze){function C$Tzi(){this.constructor=C$Tzt;}C$TzPi(C$Tzt,C$Tze),C$Tzt.prototype=null===C$Tze?Object.create(C$Tze):(C$Tzi.prototype=C$Tze.prototype,new C$Tzi());}C$TzDi(C$TzVi,C$TzLi=C$TzBi),C$TzVi.prototype.Set=function(C$Tzt,C$Tze){return void 0===C$Tze&&(C$Tze=this.m_radius),this.m_p.Copy(C$Tzt),this.m_radius=C$Tze,this;},C$TzVi.prototype.Clone=function(){return new C$TzVi().Copy(this);},C$TzVi.prototype.Copy=function(C$Tzt){return C$TzLi.prototype.Copy.call(this,C$Tzt),this.m_p.Copy(C$Tzt.m_p),this;},C$TzVi.prototype.GetChildCount=function(){return 1;},C$TzVi.prototype.TestPoint=function(C$Tzt,C$Tze){C$Tzt=C$TzR.MulXV(C$Tzt,this.m_p,C$TzVi.TestPoint_s_center),C$Tze=C$Tzj.SubVV(C$Tze,C$Tzt,C$TzVi.TestPoint_s_d);return C$Tzj.DotVV(C$Tze,C$Tze)<=C$Tz_(this.m_radius);},C$TzVi.prototype.ComputeDistance=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzt=C$TzR.MulXV(C$Tzt,this.m_p,C$TzVi.ComputeDistance_s_center);return C$Tzj.SubVV(C$Tze,C$Tzt,C$Tzi),C$Tzi.Normalize()-this.m_radius;},C$TzVi.prototype.RayCast=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzi=C$TzR.MulXV(C$Tzi,this.m_p,C$TzVi.RayCast_s_position),C$Tzi=C$Tzj.SubVV(C$Tze.p1,C$Tzi,C$TzVi.RayCast_s_s),C$Tzr=C$Tzj.DotVV(C$Tzi,C$Tzi)-C$Tz_(this.m_radius),C$Tzs=C$Tzj.SubVV(C$Tze.p2,C$Tze.p1,C$TzVi.RayCast_s_r),C$Tzo=C$Tzj.DotVV(C$Tzi,C$Tzs),C$Tza=C$Tzj.DotVV(C$Tzs,C$Tzs),C$Tzr=C$Tzo*C$Tzo-C$Tza*C$Tzr;if(C$Tzr<0||C$Tza<C$TzM)return!1;C$Tzo=-(C$Tzo+C$TzY(C$Tzr));return 0<=C$Tzo&&C$Tzo<=C$Tze.maxFraction*C$Tza&&(C$Tzt.fraction=C$Tzo/=C$Tza,C$Tzj.AddVMulSV(C$Tzi,C$Tzo,C$Tzs,C$Tzt.normal).SelfNormalize(),!0);},C$TzVi.prototype.ComputeAABB=function(C$Tzt,C$Tze,C$Tzi){C$Tze=C$TzR.MulXV(C$Tze,this.m_p,C$TzVi.ComputeAABB_s_p);C$Tzt.lowerBound.Set(C$Tze.x-this.m_radius,C$Tze.y-this.m_radius),C$Tzt.upperBound.Set(C$Tze.x+this.m_radius,C$Tze.y+this.m_radius);},C$TzVi.prototype.ComputeMass=function(C$Tzt,C$Tze){var C$Tzi=C$Tz_(this.m_radius);C$Tzt.mass=C$Tze*C$Tzm*C$Tzi,C$Tzt.center.Copy(this.m_p),C$Tzt.I=C$Tzt.mass*(.5*C$Tzi+C$Tzj.DotVV(this.m_p,this.m_p));},C$TzVi.prototype.SetupDistanceProxy=function(C$Tzt,C$Tze){C$Tzt.m_vertices=C$Tzt.m_buffer,C$Tzt.m_vertices[0].Copy(this.m_p),C$Tzt.m_count=1,C$Tzt.m_radius=this.m_radius;},C$TzVi.prototype.ComputeSubmergedArea=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzi=C$TzR.MulXV(C$Tzi,this.m_p,new C$Tzj()),C$Tze=-(C$Tzj.DotVV(C$Tzt,C$Tzi)-C$Tze);if(C$Tze<-this.m_radius+C$TzM)return 0;if(C$Tze>this.m_radius)return C$Tzn.Copy(C$Tzi),C$Tzm*this.m_radius*this.m_radius;var C$Tzr=this.m_radius*this.m_radius,C$Tzs=C$Tze*C$Tze,C$Tze=C$Tzr*(C$Tzy(C$Tze/this.m_radius)+C$Tzm/2)+C$Tze*C$TzY(C$Tzr-C$Tzs),C$Tzr=-2/3*C$Tza(C$Tzr-C$Tzs,1.5)/C$Tze;return C$Tzn.x=C$Tzi.x+C$Tzt.x*C$Tzr,C$Tzn.y=C$Tzi.y+C$Tzt.y*C$Tzr,C$Tze;},C$TzVi.prototype.Dump=function(C$Tzt){C$Tzt("    const shape: b2CircleShape = new b2CircleShape();\n"),C$Tzt("    shape.m_radius = %.15f;\n",this.m_radius),C$Tzt("    shape.m_p.Set(%.15f, %.15f);\n",this.m_p.x,this.m_p.y);},C$TzVi.TestPoint_s_center=new C$Tzj(),C$TzVi.TestPoint_s_d=new C$Tzj(),C$TzVi.ComputeDistance_s_center=new C$Tzj(),C$TzVi.RayCast_s_position=new C$Tzj(),C$TzVi.RayCast_s_s=new C$Tzj(),C$TzVi.RayCast_s_r=new C$Tzj(),C$TzVi.ComputeAABB_s_p=new C$Tzj();var C$TzLi,C$TzCi=C$TzVi;function C$TzVi(C$Tzt){C$Tzt=C$TzLi.call(this,C$TzH.b2ShapeType.e_circleShape,C$Tzt=void 0===C$Tzt?0:C$Tzt)||this;return C$Tzt.m_p=new C$Tzj(),C$Tzt;}C$TzDi(C$TzS,C$TzOi=C$TzBi),C$TzS.prototype.Clone=function(){return new C$TzS().Copy(this);},C$TzS.prototype.Copy=function(C$Tzt){C$TzOi.prototype.Copy.call(this,C$Tzt),this.m_centroid.Copy(C$Tzt.m_centroid),this.m_count=C$Tzt.m_count,this.m_vertices=C$Tzj.MakeArray(this.m_count),this.m_normals=C$Tzj.MakeArray(this.m_count);for(var C$Tze=0;C$Tze<this.m_count;++C$Tze)this.m_vertices[C$Tze].Copy(C$Tzt.m_vertices[C$Tze]),this.m_normals[C$Tze].Copy(C$Tzt.m_normals[C$Tze]);return this;},C$TzS.prototype.GetChildCount=function(){return 1;},C$TzS.prototype.Set=function(C$Tzh,C$Tzt,C$Tzu){if(void 0===C$Tzu&&(C$Tzu=0),(C$Tzt=void 0===C$Tzt?C$Tzh.length:C$Tzt)<3)return this.SetAsBox(1,1);for(var C$Tze=C$TzL(C$Tzt,8),C$Tzi=C$TzS.Set_s_ps,C$Tz_=0,C$Tzn=0;C$Tzn<C$Tze;++C$Tzn){for(var C$Tzr=C$Tzh[C$Tzu+C$Tzn],C$Tzd=!0,C$Tzs=0;C$Tzs<C$Tz_;++C$Tzs)if(C$Tzj.DistanceSquaredVV(C$Tzr,C$Tzi[C$Tzs])<16e-6){C$Tzd=!1;break;}C$Tzd&&C$Tzi[C$Tz_++].Copy(C$Tzr);}if((C$Tze=C$Tz_)<3)return this.SetAsBox(1,1);for(var C$Tzo=0,C$Tzf=C$Tzi[0].x,C$Tzn=1;C$Tzn<C$Tze;++C$Tzn){var C$Tzp=C$Tzi[C$Tzn].x;(C$Tzf<C$Tzp||C$Tzp===C$Tzf&&C$Tzi[C$Tzn].y<C$Tzi[C$Tzo].y)&&(C$Tzo=C$Tzn,C$Tzf=C$Tzp);}for(var C$Tza=C$TzS.Set_s_hull,C$Tzc=0,C$Tzm=C$Tzo;;){C$Tza[C$Tzc]=C$Tzm;for(var C$Tzy,C$Tzg,C$Tzl=0,C$Tzs=1;C$Tzs<C$Tze;++C$Tzs)C$Tzl!==C$Tzm?(C$Tzy=C$Tzj.SubVV(C$Tzi[C$Tzl],C$Tzi[C$Tza[C$Tzc]],C$TzS.Set_s_r),C$Tzr=C$Tzj.SubVV(C$Tzi[C$Tzs],C$Tzi[C$Tza[C$Tzc]],C$TzS.Set_s_v),(C$Tzg=C$Tzj.CrossVV(C$Tzy,C$Tzr))<0&&(C$Tzl=C$Tzs),0===C$Tzg&&C$Tzr.LengthSquared()>C$Tzy.LengthSquared()&&(C$Tzl=C$Tzs)):C$Tzl=C$Tzs;if(++C$Tzc,(C$Tzm=C$Tzl)===C$Tzo)break;}this.m_count=C$Tzc,this.m_vertices=C$Tzj.MakeArray(this.m_count),this.m_normals=C$Tzj.MakeArray(this.m_count);for(C$Tzn=0;C$Tzn<C$Tzc;++C$Tzn)this.m_vertices[C$Tzn].Copy(C$Tzi[C$Tza[C$Tzn]]);for(C$Tzn=0;C$Tzn<C$Tzc;++C$Tzn){var C$Tzv=this.m_vertices[C$Tzn],C$Tzx=this.m_vertices[(C$Tzn+1)%C$Tzc],C$Tzx=C$Tzj.SubVV(C$Tzx,C$Tzv,C$Tzj.s_t0);C$Tzj.CrossVOne(C$Tzx,this.m_normals[C$Tzn]).SelfNormalize();}return C$TzS.ComputeCentroid(this.m_vertices,C$Tzc,this.m_centroid),this;},C$TzS.prototype.SetAsArray=function(C$Tzt,C$Tze){return void 0===C$Tze&&(C$Tze=C$Tzt.length),this.Set(C$Tzt,C$Tze);},C$TzS.prototype.SetAsBox=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){if(void 0===C$Tzn&&(C$Tzn=0),this.m_count=4,this.m_vertices=C$Tzj.MakeArray(this.m_count),this.m_normals=C$Tzj.MakeArray(this.m_count),this.m_vertices[0].Set(-C$Tzt,-C$Tze),this.m_vertices[1].Set(C$Tzt,-C$Tze),this.m_vertices[2].Set(C$Tzt,C$Tze),this.m_vertices[3].Set(-C$Tzt,C$Tze),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid.SetZero(),C$Tzi){this.m_centroid.Copy(C$Tzi);var C$Tzr=new C$TzR();C$Tzr.SetPosition(C$Tzi),C$Tzr.SetRotationAngle(C$Tzn);for(var C$Tzs=0;C$Tzs<this.m_count;++C$Tzs)C$TzR.MulXV(C$Tzr,this.m_vertices[C$Tzs],this.m_vertices[C$Tzs]),C$TzB.MulRV(C$Tzr.q,this.m_normals[C$Tzs],this.m_normals[C$Tzs]);}return this;},C$TzS.prototype.TestPoint=function(C$Tzt,C$Tze){for(var C$Tzi=C$TzR.MulTXV(C$Tzt,C$Tze,C$TzS.TestPoint_s_pLocal),C$Tzn=0;C$Tzn<this.m_count;++C$Tzn)if(0<C$Tzj.DotVV(this.m_normals[C$Tzn],C$Tzj.SubVV(C$Tzi,this.m_vertices[C$Tzn],C$Tzj.s_t0)))return!1;return!0;},C$TzS.prototype.ComputeDistance=function(C$Tzt,C$Tzh,C$Tze,C$Tzu){for(var C$Tzi=C$TzR.MulTXV(C$Tzt,C$Tzh,C$TzS.ComputeDistance_s_pLocal),C$Tzn=-C$TzP,C$Tzr=C$TzS.ComputeDistance_s_normalForMaxDistance.Copy(C$Tzi),C$Tzs=0;C$Tzs<this.m_count;++C$Tzs){var C$Tzo=C$Tzj.DotVV(this.m_normals[C$Tzs],C$Tzj.SubVV(C$Tzi,this.m_vertices[C$Tzs],C$Tzj.s_t0));C$Tzn<C$Tzo&&(C$Tzn=C$Tzo,C$Tzr.Copy(this.m_normals[C$Tzs]));}if(0<C$Tzn){for(var C$Tza=C$TzS.ComputeDistance_s_minDistance.Copy(C$Tzr),C$Tzc=C$Tzn*C$Tzn,C$Tzs=0;C$Tzs<this.m_count;++C$Tzs){var C$Tzl=C$Tzj.SubVV(C$Tzi,this.m_vertices[C$Tzs],C$TzS.ComputeDistance_s_distance),C$Tz_=C$Tzl.LengthSquared();C$Tz_<C$Tzc&&(C$Tza.Copy(C$Tzl),C$Tzc=C$Tz_);}return C$TzB.MulRV(C$Tzt.q,C$Tza,C$Tze),C$Tze.Normalize(),Math.sqrt(C$Tzc);}return C$TzB.MulRV(C$Tzt.q,C$Tzr,C$Tze),C$Tzn;},C$TzS.prototype.RayCast=function(C$Tzt,C$Tze,C$Tzi,C$Tzh){for(var C$Tzn=C$TzR.MulTXV(C$Tzi,C$Tze.p1,C$TzS.RayCast_s_p1),C$Tzu=C$TzR.MulTXV(C$Tzi,C$Tze.p2,C$TzS.RayCast_s_p2),C$Tz_=C$Tzj.SubVV(C$Tzu,C$Tzn,C$TzS.RayCast_s_d),C$Tzr=0,C$Tzs=C$Tze.maxFraction,C$Tzo=-1,C$Tza=0;C$Tza<this.m_count;++C$Tza){var C$Tzc=C$Tzj.DotVV(this.m_normals[C$Tza],C$Tzj.SubVV(this.m_vertices[C$Tza],C$Tzn,C$Tzj.s_t0)),C$Tzl=C$Tzj.DotVV(this.m_normals[C$Tza],C$Tz_);if(0===C$Tzl){if(C$Tzc<0)return!1;}else C$Tzl<0&&C$Tzc<C$Tzr*C$Tzl?(C$Tzr=C$Tzc/C$Tzl,C$Tzo=C$Tza):0<C$Tzl&&C$Tzc<C$Tzs*C$Tzl&&(C$Tzs=C$Tzc/C$Tzl);if(C$Tzs<C$Tzr)return!1;}return 0<=C$Tzo&&(C$Tzt.fraction=C$Tzr,C$TzB.MulRV(C$Tzi.q,this.m_normals[C$Tzo],C$Tzt.normal),!0);},C$TzS.prototype.ComputeAABB=function(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn=C$TzR.MulXV(C$Tze,this.m_vertices[0],C$Tzt.lowerBound),C$Tzr=C$Tzt.upperBound.Copy(C$Tzn),C$Tzs=0;C$Tzs<this.m_count;++C$Tzs){var C$Tzo=C$TzR.MulXV(C$Tze,this.m_vertices[C$Tzs],C$TzS.ComputeAABB_s_v);C$Tzj.MinV(C$Tzo,C$Tzn,C$Tzn),C$Tzj.MaxV(C$Tzo,C$Tzr,C$Tzr);}C$Tzt=this.m_radius;C$Tzn.SelfSubXY(C$Tzt,C$Tzt),C$Tzr.SelfAddXY(C$Tzt,C$Tzt);},C$TzS.prototype.ComputeMass=function(C$Tzt,C$Tze){for(var C$Tzi=C$TzS.ComputeMass_s_center.SetZero(),C$Tzn=0,C$Tzh=0,C$Tzr=C$TzS.ComputeMass_s_s.SetZero(),C$Tzs=0;C$Tzs<this.m_count;++C$Tzs)C$Tzr.SelfAdd(this.m_vertices[C$Tzs]);C$Tzr.SelfMul(1/this.m_count);for(C$Tzs=0;C$Tzs<this.m_count;++C$Tzs){var C$Tzo=C$Tzj.SubVV(this.m_vertices[C$Tzs],C$Tzr,C$TzS.ComputeMass_s_e1),C$Tza=C$Tzj.SubVV(this.m_vertices[(C$Tzs+1)%this.m_count],C$Tzr,C$TzS.ComputeMass_s_e2),C$Tzu=C$Tzj.CrossVV(C$Tzo,C$Tza),C$Tzc=.5*C$Tzu,C$Tzc=(C$Tzn+=C$Tzc,C$Tzi.SelfAdd(C$Tzj.MulSV(1/3*C$Tzc,C$Tzj.AddVV(C$Tzo,C$Tza,C$Tzj.s_t0),C$Tzj.s_t1)),C$Tzo.x),C$Tzo=C$Tzo.y,C$Tzl=C$Tza.x,C$Tza=C$Tza.y;C$Tzh+=1/3*.25*C$Tzu*(C$Tzc*C$Tzc+C$Tzl*C$Tzc+C$Tzl*C$Tzl+(C$Tzo*C$Tzo+C$Tza*C$Tzo+C$Tza*C$Tza));}C$Tzt.mass=C$Tze*C$Tzn,C$Tzi.SelfMul(1/C$Tzn),C$Tzj.AddVV(C$Tzi,C$Tzr,C$Tzt.center),C$Tzt.I=C$Tze*C$Tzh,C$Tzt.I+=C$Tzt.mass*(C$Tzj.DotVV(C$Tzt.center,C$Tzt.center)-C$Tzj.DotVV(C$Tzi,C$Tzi));},C$TzS.prototype.Validate=function(){for(var C$Tzt=0;C$Tzt<this.m_count;++C$Tzt)for(var C$Tze=C$Tzt,C$Tzi=(C$Tzt+1)%this.m_count,C$Tzn=this.m_vertices[C$Tze],C$Tzr=C$Tzj.SubVV(this.m_vertices[C$Tzi],C$Tzn,C$TzS.Validate_s_e),C$Tzs=0;C$Tzs<this.m_count;++C$Tzs)if(C$Tzs!==C$Tze&&C$Tzs!==C$Tzi){var C$Tzo=C$Tzj.SubVV(this.m_vertices[C$Tzs],C$Tzn,C$TzS.Validate_s_v);if(C$Tzj.CrossVV(C$Tzr,C$Tzo)<0)return!1;}return!0;},C$TzS.prototype.SetupDistanceProxy=function(C$Tzt,C$Tze){C$Tzt.m_vertices=this.m_vertices,C$Tzt.m_count=this.m_count,C$Tzt.m_radius=this.m_radius;},C$TzS.prototype.ComputeSubmergedArea=function(C$Tzt,C$Tze,C$Tzh,C$Tzu){for(var C$Tz_,C$Tzd=C$TzB.MulTRV(C$Tzh.q,C$Tzt,C$TzS.ComputeSubmergedArea_s_normalL),C$Tzf=C$Tze-C$Tzj.DotVV(C$Tzt,C$Tzh.p),C$Tzi=C$TzS.ComputeSubmergedArea_s_depths,C$Tzp=0,C$Tzn=-1,C$Tzr=-1,C$Tzm=!1,C$Tzs=0;C$Tzs<this.m_count;++C$Tzs){C$Tzi[C$Tzs]=C$Tzj.DotVV(C$Tzd,this.m_vertices[C$Tzs])-C$Tzf;var C$Tzy=C$Tzi[C$Tzs]<-C$TzM;0<C$Tzs&&(C$Tzy?C$Tzm||(C$Tzn=C$Tzs-1,C$Tzp++):C$Tzm&&(C$Tzr=C$Tzs-1,C$Tzp++)),C$Tzm=C$Tzy;}switch(C$Tzp){case 0:return C$Tzm?(this.ComputeMass(C$Tz_=C$TzS.ComputeSubmergedArea_s_md,1),C$TzR.MulXV(C$Tzh,C$Tz_.center,C$Tzu),C$Tz_.mass):0;case 1:-1===C$Tzn?C$Tzn=this.m_count-1:C$Tzr=this.m_count-1;}for(var C$Tze=(C$Tzn+1)%this.m_count,C$Tzo=(C$Tzr+1)%this.m_count,C$Tzt=(0-C$Tzi[C$Tzn])/(C$Tzi[C$Tze]-C$Tzi[C$Tzn]),C$Tzg=(0-C$Tzi[C$Tzr])/(C$Tzi[C$Tzo]-C$Tzi[C$Tzr]),C$Tza=C$TzS.ComputeSubmergedArea_s_intoVec.Set(this.m_vertices[C$Tzn].x*(1-C$Tzt)+this.m_vertices[C$Tze].x*C$Tzt,this.m_vertices[C$Tzn].y*(1-C$Tzt)+this.m_vertices[C$Tze].y*C$Tzt),C$Tzv=C$TzS.ComputeSubmergedArea_s_outoVec.Set(this.m_vertices[C$Tzr].x*(1-C$Tzg)+this.m_vertices[C$Tzo].x*C$Tzg,this.m_vertices[C$Tzr].y*(1-C$Tzg)+this.m_vertices[C$Tzo].y*C$Tzg),C$Tzx=0,C$Tzb=C$TzS.ComputeSubmergedArea_s_center.SetZero(),C$Tzc=this.m_vertices[C$Tze],C$TzA=C$Tze;C$TzA!==C$Tzo;){var C$Tzl=(C$TzA=(C$TzA+1)%this.m_count)===C$Tzo?C$Tzv:this.m_vertices[C$TzA],C$TzC=.5*((C$Tzc.x-C$Tza.x)*(C$Tzl.y-C$Tza.y)-(C$Tzc.y-C$Tza.y)*(C$Tzl.x-C$Tza.x));C$Tzx+=C$TzC,C$Tzb.x+=C$TzC*(C$Tza.x+C$Tzc.x+C$Tzl.x)/3,C$Tzb.y+=C$TzC*(C$Tza.y+C$Tzc.y+C$Tzl.y)/3,C$Tzc=C$Tzl;}return C$Tzb.SelfMul(1/C$Tzx),C$TzR.MulXV(C$Tzh,C$Tzb,C$Tzu),C$Tzx;},C$TzS.prototype.Dump=function(C$Tzt){C$Tzt("    const shape: b2PolygonShape = new b2PolygonShape();\n"),C$Tzt("    const vs: b2Vec2[] = b2Vec2.MakeArray(%d);\n",8);for(var C$Tze=0;C$Tze<this.m_count;++C$Tze)C$Tzt("    vs[%d].Set(%.15f, %.15f);\n",C$Tze,this.m_vertices[C$Tze].x,this.m_vertices[C$Tze].y);C$Tzt("    shape.Set(vs, %d);\n",this.m_count);},C$TzS.ComputeCentroid=function(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn=C$Tzi,C$Tzr=(C$Tzn.SetZero(),0),C$Tzh=C$TzS.ComputeCentroid_s_pRef.SetZero(),C$Tzs=0;C$Tzs<C$Tze;++C$Tzs){var C$Tzo=C$Tzh,C$Tza=C$Tzt[C$Tzs],C$Tzc=C$Tzt[(C$Tzs+1)%C$Tze],C$Tzl=C$Tzj.SubVV(C$Tza,C$Tzo,C$TzS.ComputeCentroid_s_e1),C$Tzu=C$Tzj.SubVV(C$Tzc,C$Tzo,C$TzS.ComputeCentroid_s_e2),C$Tzl=.5*C$Tzj.CrossVV(C$Tzl,C$Tzu);C$Tzr+=C$Tzl,C$Tzn.x+=1/3*C$Tzl*(C$Tzo.x+C$Tza.x+C$Tzc.x),C$Tzn.y+=1/3*C$Tzl*(C$Tzo.y+C$Tza.y+C$Tzc.y);}return C$Tzn.SelfMul(1/C$Tzr),C$Tzn;},C$TzS.Set_s_ps=C$Tzj.MakeArray(8),C$TzS.Set_s_hull=C$Tzh(8),C$TzS.Set_s_r=new C$Tzj(),C$TzS.Set_s_v=new C$Tzj(),C$TzS.TestPoint_s_pLocal=new C$Tzj(),C$TzS.ComputeDistance_s_pLocal=new C$Tzj(),C$TzS.ComputeDistance_s_normalForMaxDistance=new C$Tzj(),C$TzS.ComputeDistance_s_minDistance=new C$Tzj(),C$TzS.ComputeDistance_s_distance=new C$Tzj(),C$TzS.RayCast_s_p1=new C$Tzj(),C$TzS.RayCast_s_p2=new C$Tzj(),C$TzS.RayCast_s_d=new C$Tzj(),C$TzS.ComputeAABB_s_v=new C$Tzj(),C$TzS.ComputeMass_s_center=new C$Tzj(),C$TzS.ComputeMass_s_s=new C$Tzj(),C$TzS.ComputeMass_s_e1=new C$Tzj(),C$TzS.ComputeMass_s_e2=new C$Tzj(),C$TzS.Validate_s_e=new C$Tzj(),C$TzS.Validate_s_v=new C$Tzj(),C$TzS.ComputeSubmergedArea_s_normalL=new C$Tzj(),C$TzS.ComputeSubmergedArea_s_depths=C$Tzh(8),C$TzS.ComputeSubmergedArea_s_md=new C$TzIi(),C$TzS.ComputeSubmergedArea_s_intoVec=new C$Tzj(),C$TzS.ComputeSubmergedArea_s_outoVec=new C$Tzj(),C$TzS.ComputeSubmergedArea_s_center=new C$Tzj(),C$TzS.ComputeCentroid_s_pRef=new C$Tzj(),C$TzS.ComputeCentroid_s_e1=new C$Tzj(),C$TzS.ComputeCentroid_s_e2=new C$Tzj();var C$TzOi,C$TzTi=C$TzS;function C$TzS(){var C$Tzt=C$TzOi.call(this,C$TzH.b2ShapeType.e_polygonShape,.016)||this;return C$Tzt.m_centroid=new C$Tzj(0,0),C$Tzt.m_vertices=[],C$Tzt.m_normals=[],C$Tzt.m_count=0,C$Tzt;}C$TzDi(C$Tzki,C$TzFi=C$TzBi),C$Tzki.prototype.Set=function(C$Tzt,C$Tze){return this.m_vertex1.Copy(C$Tzt),this.m_vertex2.Copy(C$Tze),this.m_hasVertex0=!1,this.m_hasVertex3=!1,this;},C$Tzki.prototype.Clone=function(){return new C$Tzki().Copy(this);},C$Tzki.prototype.Copy=function(C$Tzt){return C$TzFi.prototype.Copy.call(this,C$Tzt),this.m_vertex1.Copy(C$Tzt.m_vertex1),this.m_vertex2.Copy(C$Tzt.m_vertex2),this.m_vertex0.Copy(C$Tzt.m_vertex0),this.m_vertex3.Copy(C$Tzt.m_vertex3),this.m_hasVertex0=C$Tzt.m_hasVertex0,this.m_hasVertex3=C$Tzt.m_hasVertex3,this;},C$Tzki.prototype.GetChildCount=function(){return 1;},C$Tzki.prototype.TestPoint=function(C$Tzt,C$Tze){return!1;},C$Tzki.prototype.ComputeDistance=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr,C$Tzs=C$TzR.MulXV(C$Tzt,this.m_vertex1,C$Tzki.ComputeDistance_s_v1),C$Tzt=C$TzR.MulXV(C$Tzt,this.m_vertex2,C$Tzki.ComputeDistance_s_v2),C$Tzo=C$Tzj.SubVV(C$Tze,C$Tzs,C$Tzki.ComputeDistance_s_d),C$Tzs=C$Tzj.SubVV(C$Tzt,C$Tzs,C$Tzki.ComputeDistance_s_s),C$Tza=C$Tzj.DotVV(C$Tzo,C$Tzs);return 0<C$Tza&&((C$Tzr=C$Tzj.DotVV(C$Tzs,C$Tzs))<C$Tza?C$Tzj.SubVV(C$Tze,C$Tzt,C$Tzo):C$Tzo.SelfMulSub(C$Tza/C$Tzr,C$Tzs)),C$Tzi.Copy(C$Tzo),C$Tzi.Normalize();},C$Tzki.prototype.RayCast=function(C$Tzt,C$Tze,C$Tzi,C$Tzl){var C$Tzn=C$TzR.MulTXV(C$Tzi,C$Tze.p1,C$Tzki.RayCast_s_p1),C$Tzr=C$TzR.MulTXV(C$Tzi,C$Tze.p2,C$Tzki.RayCast_s_p2),C$Tzr=C$Tzj.SubVV(C$Tzr,C$Tzn,C$Tzki.RayCast_s_d),C$Tzs=this.m_vertex1,C$Tzo=this.m_vertex2,C$Tza=C$Tzj.SubVV(C$Tzo,C$Tzs,C$Tzki.RayCast_s_e),C$Tza=C$Tzt.normal.Set(C$Tza.y,-C$Tza.x).SelfNormalize(),C$Tzc=C$Tzj.DotVV(C$Tza,C$Tzj.SubVV(C$Tzs,C$Tzn,C$Tzj.s_t0)),C$Tza=C$Tzj.DotVV(C$Tza,C$Tzr);if(0===C$Tza)return!1;C$Tza=C$Tzc/C$Tza;if(C$Tza<0||C$Tze.maxFraction<C$Tza)return!1;C$Tze=C$Tzj.AddVMulSV(C$Tzn,C$Tza,C$Tzr,C$Tzki.RayCast_s_q),C$Tzn=C$Tzj.SubVV(C$Tzo,C$Tzs,C$Tzki.RayCast_s_r),C$Tzr=C$Tzj.DotVV(C$Tzn,C$Tzn);if(0===C$Tzr)return!1;C$Tzo=C$Tzj.DotVV(C$Tzj.SubVV(C$Tze,C$Tzs,C$Tzj.s_t0),C$Tzn)/C$Tzr;return!(C$Tzo<0||1<C$Tzo)&&(C$Tzt.fraction=C$Tza,C$TzB.MulRV(C$Tzi.q,C$Tzt.normal,C$Tzt.normal),0<C$Tzc&&C$Tzt.normal.SelfNeg(),!0);},C$Tzki.prototype.ComputeAABB=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$TzR.MulXV(C$Tze,this.m_vertex1,C$Tzki.ComputeAABB_s_v1),C$Tze=C$TzR.MulXV(C$Tze,this.m_vertex2,C$Tzki.ComputeAABB_s_v2),C$Tzn=(C$Tzj.MinV(C$Tzn,C$Tze,C$Tzt.lowerBound),C$Tzj.MaxV(C$Tzn,C$Tze,C$Tzt.upperBound),this.m_radius);C$Tzt.lowerBound.SelfSubXY(C$Tzn,C$Tzn),C$Tzt.upperBound.SelfAddXY(C$Tzn,C$Tzn);},C$Tzki.prototype.ComputeMass=function(C$Tzt,C$Tze){C$Tzt.mass=0,C$Tzj.MidVV(this.m_vertex1,this.m_vertex2,C$Tzt.center),C$Tzt.I=0;},C$Tzki.prototype.SetupDistanceProxy=function(C$Tzt,C$Tze){C$Tzt.m_vertices=C$Tzt.m_buffer,C$Tzt.m_vertices[0].Copy(this.m_vertex1),C$Tzt.m_vertices[1].Copy(this.m_vertex2),C$Tzt.m_count=2,C$Tzt.m_radius=this.m_radius;},C$Tzki.prototype.ComputeSubmergedArea=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzn.SetZero(),0;},C$Tzki.prototype.Dump=function(C$Tzt){C$Tzt("    const shape: b2EdgeShape = new b2EdgeShape();\n"),C$Tzt("    shape.m_radius = %.15f;\n",this.m_radius),C$Tzt("    shape.m_vertex0.Set(%.15f, %.15f);\n",this.m_vertex0.x,this.m_vertex0.y),C$Tzt("    shape.m_vertex1.Set(%.15f, %.15f);\n",this.m_vertex1.x,this.m_vertex1.y),C$Tzt("    shape.m_vertex2.Set(%.15f, %.15f);\n",this.m_vertex2.x,this.m_vertex2.y),C$Tzt("    shape.m_vertex3.Set(%.15f, %.15f);\n",this.m_vertex3.x,this.m_vertex3.y),C$Tzt("    shape.m_hasVertex0 = %s;\n",this.m_hasVertex0),C$Tzt("    shape.m_hasVertex3 = %s;\n",this.m_hasVertex3);},C$Tzki.ComputeDistance_s_v1=new C$Tzj(),C$Tzki.ComputeDistance_s_v2=new C$Tzj(),C$Tzki.ComputeDistance_s_d=new C$Tzj(),C$Tzki.ComputeDistance_s_s=new C$Tzj(),C$Tzki.RayCast_s_p1=new C$Tzj(),C$Tzki.RayCast_s_p2=new C$Tzj(),C$Tzki.RayCast_s_d=new C$Tzj(),C$Tzki.RayCast_s_e=new C$Tzj(),C$Tzki.RayCast_s_q=new C$Tzj(),C$Tzki.RayCast_s_r=new C$Tzj(),C$Tzki.ComputeAABB_s_v1=new C$Tzj(),C$Tzki.ComputeAABB_s_v2=new C$Tzj();var C$TzFi,C$TzNi=C$Tzki;function C$Tzki(){var C$Tzt=C$TzFi.call(this,C$TzH.b2ShapeType.e_edgeShape,.016)||this;return C$Tzt.m_vertex1=new C$Tzj(),C$Tzt.m_vertex2=new C$Tzj(),C$Tzt.m_vertex0=new C$Tzj(),C$Tzt.m_vertex3=new C$Tzj(),C$Tzt.m_hasVertex0=!1,C$Tzt.m_hasVertex3=!1,C$Tzt;}C$TzDi(C$TzUi,C$TzGi=C$TzBi),C$TzUi.prototype.CreateLoop=function(C$Tzt,C$Tze,C$Tzi){if(void 0===C$Tzi&&(C$Tzi=0),(C$Tze=void 0===C$Tze?C$Tzt.length:C$Tze)<3)return this;this.m_count=C$Tze+1,this.m_vertices=C$Tzj.MakeArray(this.m_count);for(var C$Tzn=0;C$Tzn<C$Tze;++C$Tzn)this.m_vertices[C$Tzn].Copy(C$Tzt[C$Tzi+C$Tzn]);return this.m_vertices[C$Tze].Copy(this.m_vertices[0]),this.m_prevVertex.Copy(this.m_vertices[this.m_count-2]),this.m_nextVertex.Copy(this.m_vertices[1]),this.m_hasPrevVertex=!0,this.m_hasNextVertex=!0,this;},C$TzUi.prototype.CreateChain=function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tze&&(C$Tze=C$Tzt.length),void 0===C$Tzi&&(C$Tzi=0),this.m_count=C$Tze,this.m_vertices=C$Tzj.MakeArray(C$Tze);for(var C$Tzn=0;C$Tzn<C$Tze;++C$Tzn)this.m_vertices[C$Tzn].Copy(C$Tzt[C$Tzi+C$Tzn]);return this.m_hasPrevVertex=!1,this.m_hasNextVertex=!1,this.m_prevVertex.SetZero(),this.m_nextVertex.SetZero(),this;},C$TzUi.prototype.SetPrevVertex=function(C$Tzt){return this.m_prevVertex.Copy(C$Tzt),this.m_hasPrevVertex=!0,this;},C$TzUi.prototype.SetNextVertex=function(C$Tzt){return this.m_nextVertex.Copy(C$Tzt),this.m_hasNextVertex=!0,this;},C$TzUi.prototype.Clone=function(){return new C$TzUi().Copy(this);},C$TzUi.prototype.Copy=function(C$Tzt){return C$TzGi.prototype.Copy.call(this,C$Tzt),this.CreateChain(C$Tzt.m_vertices,C$Tzt.m_count),this.m_prevVertex.Copy(C$Tzt.m_prevVertex),this.m_nextVertex.Copy(C$Tzt.m_nextVertex),this.m_hasPrevVertex=C$Tzt.m_hasPrevVertex,this.m_hasNextVertex=C$Tzt.m_hasNextVertex,this;},C$TzUi.prototype.GetChildCount=function(){return this.m_count-1;},C$TzUi.prototype.GetChildEdge=function(C$Tzt,C$Tze){C$Tzt.m_type=C$TzH.b2ShapeType.e_edgeShape,C$Tzt.m_radius=this.m_radius,C$Tzt.m_vertex1.Copy(this.m_vertices[C$Tze]),C$Tzt.m_vertex2.Copy(this.m_vertices[C$Tze+1]),0<C$Tze?(C$Tzt.m_vertex0.Copy(this.m_vertices[C$Tze-1]),C$Tzt.m_hasVertex0=!0):(C$Tzt.m_vertex0.Copy(this.m_prevVertex),C$Tzt.m_hasVertex0=this.m_hasPrevVertex),C$Tze<this.m_count-2?(C$Tzt.m_vertex3.Copy(this.m_vertices[C$Tze+2]),C$Tzt.m_hasVertex3=!0):(C$Tzt.m_vertex3.Copy(this.m_nextVertex),C$Tzt.m_hasVertex3=this.m_hasNextVertex);},C$TzUi.prototype.TestPoint=function(C$Tzt,C$Tze){return!1;},C$TzUi.prototype.ComputeDistance=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$TzUi.ComputeDistance_s_edgeShape;return this.GetChildEdge(C$Tzr,C$Tzn),C$Tzr.ComputeDistance(C$Tzt,C$Tze,C$Tzi,0);},C$TzUi.prototype.RayCast=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$TzUi.RayCast_s_edgeShape;return C$Tzr.m_vertex1.Copy(this.m_vertices[C$Tzn]),C$Tzr.m_vertex2.Copy(this.m_vertices[(C$Tzn+1)%this.m_count]),C$Tzr.RayCast(C$Tzt,C$Tze,C$Tzi,0);},C$TzUi.prototype.ComputeAABB=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this.m_vertices[C$Tzi],C$Tzi=this.m_vertices[(C$Tzi+1)%this.m_count],C$Tzn=C$TzR.MulXV(C$Tze,C$Tzn,C$TzUi.ComputeAABB_s_v1),C$Tze=C$TzR.MulXV(C$Tze,C$Tzi,C$TzUi.ComputeAABB_s_v2);C$Tzj.MinV(C$Tzn,C$Tze,C$Tzt.lowerBound),C$Tzj.MaxV(C$Tzn,C$Tze,C$Tzt.upperBound);},C$TzUi.prototype.ComputeMass=function(C$Tzt,C$Tze){C$Tzt.mass=0,C$Tzt.center.SetZero(),C$Tzt.I=0;},C$TzUi.prototype.SetupDistanceProxy=function(C$Tzt,C$Tze){C$Tzt.m_vertices=C$Tzt.m_buffer,C$Tzt.m_vertices[0].Copy(this.m_vertices[C$Tze]),C$Tze+1<this.m_count?C$Tzt.m_vertices[1].Copy(this.m_vertices[C$Tze+1]):C$Tzt.m_vertices[1].Copy(this.m_vertices[0]),C$Tzt.m_count=2,C$Tzt.m_radius=this.m_radius;},C$TzUi.prototype.ComputeSubmergedArea=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzn.SetZero(),0;},C$TzUi.prototype.Dump=function(C$Tzt){C$Tzt("    const shape: b2ChainShape = new b2ChainShape();\n"),C$Tzt("    const vs: b2Vec2[] = b2Vec2.MakeArray(%d);\n",8);for(var C$Tze=0;C$Tze<this.m_count;++C$Tze)C$Tzt("    vs[%d].Set(%.15f, %.15f);\n",C$Tze,this.m_vertices[C$Tze].x,this.m_vertices[C$Tze].y);C$Tzt("    shape.CreateChain(vs, %d);\n",this.m_count),C$Tzt("    shape.m_prevVertex.Set(%.15f, %.15f);\n",this.m_prevVertex.x,this.m_prevVertex.y),C$Tzt("    shape.m_nextVertex.Set(%.15f, %.15f);\n",this.m_nextVertex.x,this.m_nextVertex.y),C$Tzt("    shape.m_hasPrevVertex = %s;\n",this.m_hasPrevVertex?H[583]:H[1384]),C$Tzt("    shape.m_hasNextVertex = %s;\n",this.m_hasNextVertex?H[583]:H[1384]);},C$TzUi.ComputeDistance_s_edgeShape=new C$TzNi(),C$TzUi.RayCast_s_edgeShape=new C$TzNi(),C$TzUi.ComputeAABB_s_v1=new C$Tzj(),C$TzUi.ComputeAABB_s_v2=new C$Tzj();var C$TzGi,C$Tzzi=C$TzUi;function C$TzUi(){var C$Tzt=C$TzGi.call(this,C$TzH.b2ShapeType.e_chainShape,.016)||this;return C$Tzt.m_vertices=[],C$Tzt.m_count=0,C$Tzt.m_prevVertex=new C$Tzj(),C$Tzt.m_nextVertex=new C$Tzj(),C$Tzt.m_hasPrevVertex=!1,C$Tzt.m_hasNextVertex=!1,C$Tzt;}C$TzHi.prototype.Clone=function(){return new C$TzHi().Copy(this);},C$TzHi.prototype.Copy=function(C$Tzt){return this.categoryBits=C$Tzt.categoryBits,this.maskBits=C$Tzt.maskBits,this.groupIndex=C$Tzt.groupIndex||0,this;},C$TzHi.DEFAULT=new C$TzHi();var C$TzWi=C$TzHi;function C$TzHi(){this.categoryBits=1,this.maskBits=65535,this.groupIndex=0;}var C$Tzji=function(){this.userData=null,this.friction=.2,this.restitution=0,this.density=0,this.isSensor=!1,this.filter=new C$TzWi();},C$TzXi=function(C$Tzt){this.aabb=new C$Tzte(),this.childIndex=0,this.fixture=C$Tzt;},C$TzYi=(C$Tzqi.prototype.GetType=function(){return this.m_shape.GetType();},C$Tzqi.prototype.GetShape=function(){return this.m_shape;},C$Tzqi.prototype.SetSensor=function(C$Tzt){C$Tzt!==this.m_isSensor&&(this.m_body.SetAwake(!0),this.m_isSensor=C$Tzt);},C$Tzqi.prototype.IsSensor=function(){return this.m_isSensor;},C$Tzqi.prototype.SetFilterData=function(C$Tzt){this.m_filter.Copy(C$Tzt),this.Refilter();},C$Tzqi.prototype.GetFilterData=function(){return this.m_filter;},C$Tzqi.prototype.Refilter=function(){for(var C$Tzt=this.m_body.GetContactList();C$Tzt;){var C$Tze=C$Tzt.contact,C$Tzi=C$Tze.GetFixtureA(),C$Tzn=C$Tze.GetFixtureB();C$Tzi!==this&&C$Tzn!==this||C$Tze.FlagForFiltering(),C$Tzt=C$Tzt.next;}var C$Tzr=this.m_body.GetWorld();if(null!==C$Tzr)for(var C$Tzs=C$Tzr.m_contactManager.m_broadPhase,C$Tzo=0;C$Tzo<this.m_proxyCount;++C$Tzo)C$Tzs.TouchProxy(this.m_proxies[C$Tzo].treeNode);},C$Tzqi.prototype.GetBody=function(){return this.m_body;},C$Tzqi.prototype.GetNext=function(){return this.m_next;},C$Tzqi.prototype.GetUserData=function(){return this.m_userData;},C$Tzqi.prototype.SetUserData=function(C$Tzt){this.m_userData=C$Tzt;},C$Tzqi.prototype.TestPoint=function(C$Tzt){return this.m_shape.TestPoint(this.m_body.GetTransform(),C$Tzt);},C$Tzqi.prototype.ComputeDistance=function(C$Tzt,C$Tze,C$Tzi){return this.m_shape.ComputeDistance(this.m_body.GetTransform(),C$Tzt,C$Tze,C$Tzi);},C$Tzqi.prototype.RayCast=function(C$Tzt,C$Tze,C$Tzi){return this.m_shape.RayCast(C$Tzt,C$Tze,this.m_body.GetTransform(),C$Tzi);},C$Tzqi.prototype.GetMassData=function(C$Tzt){return void 0===C$Tzt&&(C$Tzt=new C$TzIi()),this.m_shape.ComputeMass(C$Tzt,this.m_density),C$Tzt;},C$Tzqi.prototype.SetDensity=function(C$Tzt){this.m_density=C$Tzt;},C$Tzqi.prototype.GetDensity=function(){return this.m_density;},C$Tzqi.prototype.GetFriction=function(){return this.m_friction;},C$Tzqi.prototype.SetFriction=function(C$Tzt){this.m_friction=C$Tzt;},C$Tzqi.prototype.GetRestitution=function(){return this.m_restitution;},C$Tzqi.prototype.SetRestitution=function(C$Tzt){this.m_restitution=C$Tzt;},C$Tzqi.prototype.GetAABB=function(C$Tzt){return this.m_proxies[C$Tzt].aabb;},C$Tzqi.prototype.Dump=function(C$Tzt,C$Tze){C$Tzt("    const fd: b2FixtureDef = new b2FixtureDef();\n"),C$Tzt("    fd.friction = %.15f;\n",this.m_friction),C$Tzt("    fd.restitution = %.15f;\n",this.m_restitution),C$Tzt("    fd.density = %.15f;\n",this.m_density),C$Tzt("    fd.isSensor = %s;\n",this.m_isSensor?H[583]:H[1384]),C$Tzt("    fd.filter.categoryBits = %d;\n",this.m_filter.categoryBits),C$Tzt("    fd.filter.maskBits = %d;\n",this.m_filter.maskBits),C$Tzt("    fd.filter.groupIndex = %d;\n",this.m_filter.groupIndex),this.m_shape.Dump(C$Tzt),C$Tzt("\n"),C$Tzt("    fd.shape = shape;\n"),C$Tzt("\n"),C$Tzt("    bodies[%d].CreateFixture(fd);\n",C$Tze);},C$Tzqi.prototype.Create=function(C$Tzt){var C$Tze=this;this.m_userData=C$Tzt.userData,this.m_friction=C$Tzf(C$Tzt.friction,.2),this.m_restitution=C$Tzf(C$Tzt.restitution,0),this.m_next=null,this.m_filter.Copy(C$Tzf(C$Tzt.filter,C$TzWi.DEFAULT)),this.m_isSensor=C$Tzf(C$Tzt.isSensor,!1),this.m_proxies=C$Tzc(this.m_shape.GetChildCount(),function(C$Tzt){return new C$TzXi(C$Tze);}),this.m_proxyCount=0,this.m_density=C$Tzf(C$Tzt.density,0);},C$Tzqi.prototype.Destroy=function(){},C$Tzqi.prototype.CreateProxies=function(C$Tzt){var C$Tze=this.m_body.m_world.m_contactManager.m_broadPhase;this.m_proxyCount=this.m_shape.GetChildCount();for(var C$Tzi=0;C$Tzi<this.m_proxyCount;++C$Tzi){var C$Tzn=this.m_proxies[C$Tzi]=new C$TzXi(this);this.m_shape.ComputeAABB(C$Tzn.aabb,C$Tzt,C$Tzi),C$Tzn.treeNode=C$Tze.CreateProxy(C$Tzn.aabb,C$Tzn),C$Tzn.childIndex=C$Tzi;}},C$Tzqi.prototype.DestroyProxies=function(){for(var C$Tzt=this.m_body.m_world.m_contactManager.m_broadPhase,C$Tze=0;C$Tze<this.m_proxyCount;++C$Tze){var C$Tzi=this.m_proxies[C$Tze];delete C$Tzi.treeNode.userData,C$Tzt.DestroyProxy(C$Tzi.treeNode),delete C$Tzi.treeNode;}this.m_proxyCount=0;},C$Tzqi.prototype.TouchProxies=function(){for(var C$Tzt=this.m_body.m_world.m_contactManager.m_broadPhase,C$Tze=this.m_proxyCount,C$Tzi=0;C$Tzi<C$Tze;++C$Tzi)C$Tzt.TouchProxy(this.m_proxies[C$Tzi].treeNode);},C$Tzqi.prototype.Synchronize=function(C$Tzt,C$Tze){if(0!==this.m_proxyCount)for(var C$Tzi=this.m_body.m_world.m_contactManager.m_broadPhase,C$Tzn=0;C$Tzn<this.m_proxyCount;++C$Tzn){var C$Tzr=this.m_proxies[C$Tzn],C$Tzs=C$Tzqi.Synchronize_s_aabb1,C$Tzo=C$Tzqi.Synchronize_s_aabb2,C$Tzs=(this.m_shape.ComputeAABB(C$Tzs,C$Tzt,C$Tzn),this.m_shape.ComputeAABB(C$Tzo,C$Tze,C$Tzn),C$Tzr.aabb.Combine2(C$Tzs,C$Tzo),C$Tzj.SubVV(C$Tze.p,C$Tzt.p,C$Tzqi.Synchronize_s_displacement));C$Tzi.MoveProxy(C$Tzr.treeNode,C$Tzr.aabb,C$Tzs);}},C$Tzqi.Synchronize_s_aabb1=new C$Tzte(),C$Tzqi.Synchronize_s_aabb2=new C$Tzte(),C$Tzqi.Synchronize_s_displacement=new C$Tzj(),C$Tzqi);function C$Tzqi(C$Tzt,C$Tze){this.m_density=0,this.m_next=null,this.m_friction=0,this.m_restitution=0,this.m_proxies=[],this.m_proxyCount=0,this.m_filter=new C$TzWi(),this.m_isSensor=!1,this.m_userData=null,this.m_body=C$Tze,this.m_shape=C$Tzt.shape.Clone();}(C$TzKi=C$TzH.b2BodyType||(C$TzH.b2BodyType={}))[C$TzKi.b2_unknown=-1]=H[3000],C$TzKi[C$TzKi.b2_staticBody=0]=H[3001],C$TzKi[C$TzKi.b2_kinematicBody=1]=H[3002],C$TzKi[C$TzKi.b2_dynamicBody=2]=H[3003];function C$TzJi(){this.type=C$TzH.b2BodyType.b2_staticBody,this.position=new C$Tzj(0,0),this.angle=0,this.linearVelocity=new C$Tzj(0,0),this.angularVelocity=0,this.linearDamping=0,this.angularDamping=0,this.allowSleep=!0,this.awake=!0,this.fixedRotation=!1,this.bullet=!1,this.active=!0,this.userData=null,this.gravityScale=1;}C$Tzr.prototype.CreateFixture=function(C$Tzt,C$Tze){return void 0===C$Tze&&(C$Tze=0),C$Tzt instanceof C$TzBi?this.CreateFixtureShapeDensity(C$Tzt,C$Tze):this.CreateFixtureDef(C$Tzt);},C$Tzr.prototype.CreateFixtureDef=function(C$Tzt){if(this.m_world.IsLocked())throw new Error();var C$Tze=new C$TzYi(C$Tzt,this);return C$Tze.Create(C$Tzt),this.m_activeFlag&&C$Tze.CreateProxies(this.m_xf),C$Tze.m_next=this.m_fixtureList,this.m_fixtureList=C$Tze,++this.m_fixtureCount,0<C$Tze.m_density&&this.ResetMassData(),this.m_world.m_newFixture=!0,C$Tze;},C$Tzr.prototype.CreateFixtureShapeDensity=function(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=0);var C$Tzi=C$Tzr.CreateFixtureShapeDensity_s_def;return C$Tzi.shape=C$Tzt,C$Tzi.density=C$Tze,this.CreateFixtureDef(C$Tzi);},C$Tzr.prototype.DestroyFixture=function(C$Tzt){if(this.m_world.IsLocked())throw new Error();for(var C$Tze=this.m_fixtureList,C$Tzi=null;null!==C$Tze;){if(C$Tze===C$Tzt){C$Tzi?C$Tzi.m_next=C$Tzt.m_next:this.m_fixtureList=C$Tzt.m_next;break;}C$Tze=(C$Tzi=C$Tze).m_next;}for(var C$Tzn=this.m_contactList;C$Tzn;){var C$Tzr=C$Tzn.contact,C$Tzn=C$Tzn.next,C$Tzs=C$Tzr.GetFixtureA(),C$Tzo=C$Tzr.GetFixtureB();C$Tzt!==C$Tzs&&C$Tzt!==C$Tzo||this.m_world.m_contactManager.Destroy(C$Tzr);}this.m_activeFlag&&C$Tzt.DestroyProxies(),C$Tzt.m_next=null,C$Tzt.Destroy(),--this.m_fixtureCount,this.ResetMassData();},C$Tzr.prototype.SetTransformVec=function(C$Tzt,C$Tze){this.SetTransformXY(C$Tzt.x,C$Tzt.y,C$Tze);},C$Tzr.prototype.SetTransformXY=function(C$Tzt,C$Tze,C$Tzi){if(this.m_world.IsLocked())throw new Error();this.m_xf.q.SetAngle(C$Tzi),this.m_xf.p.Set(C$Tzt,C$Tze),this.m_xf0.Copy(this.m_xf),C$TzR.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.a=C$Tzi,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_sweep.a0=C$Tzi;for(var C$Tzn=this.m_fixtureList;C$Tzn;C$Tzn=C$Tzn.m_next)C$Tzn.Synchronize(this.m_xf,this.m_xf);this.m_world.m_contactManager.FindNewContacts();},C$Tzr.prototype.SetTransform=function(C$Tzt){this.SetTransformVec(C$Tzt.p,C$Tzt.GetAngle());},C$Tzr.prototype.GetTransform=function(){return this.m_xf;},C$Tzr.prototype.GetPosition=function(){return this.m_xf.p;},C$Tzr.prototype.SetPosition=function(C$Tzt){this.SetTransformVec(C$Tzt,this.GetAngle());},C$Tzr.prototype.SetPositionXY=function(C$Tzt,C$Tze){this.SetTransformXY(C$Tzt,C$Tze,this.GetAngle());},C$Tzr.prototype.GetAngle=function(){return this.m_sweep.a;},C$Tzr.prototype.SetAngle=function(C$Tzt){this.SetTransformVec(this.GetPosition(),C$Tzt);},C$Tzr.prototype.GetWorldCenter=function(){return this.m_sweep.c;},C$Tzr.prototype.GetLocalCenter=function(){return this.m_sweep.localCenter;},C$Tzr.prototype.SetLinearVelocity=function(C$Tzt){this.m_type!==C$TzH.b2BodyType.b2_staticBody&&(0<C$Tzj.DotVV(C$Tzt,C$Tzt)&&this.SetAwake(!0),this.m_linearVelocity.Copy(C$Tzt));},C$Tzr.prototype.GetLinearVelocity=function(){return this.m_linearVelocity;},C$Tzr.prototype.SetAngularVelocity=function(C$Tzt){this.m_type!==C$TzH.b2BodyType.b2_staticBody&&(0<C$Tzt*C$Tzt&&this.SetAwake(!0),this.m_angularVelocity=C$Tzt);},C$Tzr.prototype.GetAngularVelocity=function(){return this.m_angularVelocity;},C$Tzr.prototype.GetDefinition=function(C$Tzt){return C$Tzt.type=this.GetType(),C$Tzt.allowSleep=this.m_autoSleepFlag,C$Tzt.angle=this.GetAngle(),C$Tzt.angularDamping=this.m_angularDamping,C$Tzt.gravityScale=this.m_gravityScale,C$Tzt.angularVelocity=this.m_angularVelocity,C$Tzt.fixedRotation=this.m_fixedRotationFlag,C$Tzt.bullet=this.m_bulletFlag,C$Tzt.awake=this.m_awakeFlag,C$Tzt.linearDamping=this.m_linearDamping,C$Tzt.linearVelocity.Copy(this.GetLinearVelocity()),C$Tzt.position.Copy(this.GetPosition()),C$Tzt.userData=this.GetUserData(),C$Tzt;},C$Tzr.prototype.ApplyForce=function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=!0),this.m_type===C$TzH.b2BodyType.b2_dynamicBody&&(C$Tzi&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=C$Tzt.x,this.m_force.y+=C$Tzt.y,this.m_torque+=(C$Tze.x-this.m_sweep.c.x)*C$Tzt.y-(C$Tze.y-this.m_sweep.c.y)*C$Tzt.x));},C$Tzr.prototype.ApplyForceToCenter=function(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=!0),this.m_type===C$TzH.b2BodyType.b2_dynamicBody&&(C$Tze&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=C$Tzt.x,this.m_force.y+=C$Tzt.y));},C$Tzr.prototype.ApplyTorque=function(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=!0),this.m_type===C$TzH.b2BodyType.b2_dynamicBody&&(C$Tze&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_torque+=C$Tzt));},C$Tzr.prototype.ApplyLinearImpulse=function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=!0),this.m_type===C$TzH.b2BodyType.b2_dynamicBody&&(C$Tzi&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*C$Tzt.x,this.m_linearVelocity.y+=this.m_invMass*C$Tzt.y,this.m_angularVelocity+=this.m_invI*((C$Tze.x-this.m_sweep.c.x)*C$Tzt.y-(C$Tze.y-this.m_sweep.c.y)*C$Tzt.x)));},C$Tzr.prototype.ApplyLinearImpulseToCenter=function(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=!0),this.m_type===C$TzH.b2BodyType.b2_dynamicBody&&(C$Tze&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*C$Tzt.x,this.m_linearVelocity.y+=this.m_invMass*C$Tzt.y));},C$Tzr.prototype.ApplyAngularImpulse=function(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=!0),this.m_type===C$TzH.b2BodyType.b2_dynamicBody&&(C$Tze&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_angularVelocity+=this.m_invI*C$Tzt));},C$Tzr.prototype.GetMass=function(){return this.m_mass;},C$Tzr.prototype.GetInertia=function(){return this.m_I+this.m_mass*C$Tzj.DotVV(this.m_sweep.localCenter,this.m_sweep.localCenter);},C$Tzr.prototype.GetMassData=function(C$Tzt){return C$Tzt.mass=this.m_mass,C$Tzt.I=this.m_I+this.m_mass*C$Tzj.DotVV(this.m_sweep.localCenter,this.m_sweep.localCenter),C$Tzt.center.Copy(this.m_sweep.localCenter),C$Tzt;},C$Tzr.prototype.SetMassData=function(C$Tzt){if(this.m_world.IsLocked())throw new Error();var C$Tze;this.m_type===C$TzH.b2BodyType.b2_dynamicBody&&(this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=C$Tzt.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,0<C$Tzt.I&&!this.m_fixedRotationFlag&&(this.m_I=C$Tzt.I-this.m_mass*C$Tzj.DotVV(C$Tzt.center,C$Tzt.center),this.m_invI=1/this.m_I),C$Tze=C$Tzr.SetMassData_s_oldCenter.Copy(this.m_sweep.c),this.m_sweep.localCenter.Copy(C$Tzt.center),C$TzR.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),C$Tzj.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,C$Tzj.SubVV(this.m_sweep.c,C$Tze,C$Tzj.s_t0),this.m_linearVelocity));},C$Tzr.prototype.ResetMassData=function(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.SetZero(),this.m_type===C$TzH.b2BodyType.b2_staticBody||this.m_type===C$TzH.b2BodyType.b2_kinematicBody)return this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),void(this.m_sweep.a0=this.m_sweep.a);for(var C$Tzt,C$Tze=C$Tzr.ResetMassData_s_localCenter.SetZero(),C$Tzi=this.m_fixtureList;C$Tzi;C$Tzi=C$Tzi.m_next)0!==C$Tzi.m_density&&(C$Tzt=C$Tzi.GetMassData(C$Tzr.ResetMassData_s_massData),this.m_mass+=C$Tzt.mass,C$Tze.x+=C$Tzt.center.x*C$Tzt.mass,C$Tze.y+=C$Tzt.center.y*C$Tzt.mass,this.m_I+=C$Tzt.I);0<this.m_mass?(this.m_invMass=1/this.m_mass,C$Tze.x*=this.m_invMass,C$Tze.y*=this.m_invMass):(this.m_mass=1,this.m_invMass=1),0<this.m_I&&!this.m_fixedRotationFlag?(this.m_I-=this.m_mass*C$Tzj.DotVV(C$Tze,C$Tze),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);var C$Tzn=C$Tzr.ResetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(C$Tze),C$TzR.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),C$Tzj.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,C$Tzj.SubVV(this.m_sweep.c,C$Tzn,C$Tzj.s_t0),this.m_linearVelocity);},C$Tzr.prototype.GetWorldPoint=function(C$Tzt,C$Tze){return C$TzR.MulXV(this.m_xf,C$Tzt,C$Tze);},C$Tzr.prototype.GetWorldVector=function(C$Tzt,C$Tze){return C$TzB.MulRV(this.m_xf.q,C$Tzt,C$Tze);},C$Tzr.prototype.GetLocalPoint=function(C$Tzt,C$Tze){return C$TzR.MulTXV(this.m_xf,C$Tzt,C$Tze);},C$Tzr.prototype.GetLocalVector=function(C$Tzt,C$Tze){return C$TzB.MulTRV(this.m_xf.q,C$Tzt,C$Tze);},C$Tzr.prototype.GetLinearVelocityFromWorldPoint=function(C$Tzt,C$Tze){return C$Tzj.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,C$Tzj.SubVV(C$Tzt,this.m_sweep.c,C$Tzj.s_t0),C$Tze);},C$Tzr.prototype.GetLinearVelocityFromLocalPoint=function(C$Tzt,C$Tze){return this.GetLinearVelocityFromWorldPoint(this.GetWorldPoint(C$Tzt,C$Tze),C$Tze);},C$Tzr.prototype.GetLinearDamping=function(){return this.m_linearDamping;},C$Tzr.prototype.SetLinearDamping=function(C$Tzt){this.m_linearDamping=C$Tzt;},C$Tzr.prototype.GetAngularDamping=function(){return this.m_angularDamping;},C$Tzr.prototype.SetAngularDamping=function(C$Tzt){this.m_angularDamping=C$Tzt;},C$Tzr.prototype.GetGravityScale=function(){return this.m_gravityScale;},C$Tzr.prototype.SetGravityScale=function(C$Tzt){this.m_gravityScale=C$Tzt;},C$Tzr.prototype.SetType=function(C$Tzt){if(this.m_world.IsLocked())throw new Error();if(this.m_type!==C$Tzt){this.m_type=C$Tzt,this.ResetMassData(),this.m_type===C$TzH.b2BodyType.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_sweep.a0=this.m_sweep.a,this.m_sweep.c0.Copy(this.m_sweep.c),this.SynchronizeFixtures()),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0;for(var C$Tze=this.m_contactList;C$Tze;){var C$Tzi=C$Tze,C$Tze=C$Tze.next;this.m_world.m_contactManager.Destroy(C$Tzi.contact);}this.m_contactList=null;for(var C$Tzn=this.m_fixtureList;C$Tzn;C$Tzn=C$Tzn.m_next)C$Tzn.TouchProxies();}},C$Tzr.prototype.GetType=function(){return this.m_type;},C$Tzr.prototype.SetBullet=function(C$Tzt){this.m_bulletFlag=C$Tzt;},C$Tzr.prototype.IsBullet=function(){return this.m_bulletFlag;},C$Tzr.prototype.SetSleepingAllowed=function(C$Tzt){(this.m_autoSleepFlag=C$Tzt)||this.SetAwake(!0);},C$Tzr.prototype.IsSleepingAllowed=function(){return this.m_autoSleepFlag;},C$Tzr.prototype.SetAwake=function(C$Tzt){C$Tzt?(this.m_awakeFlag=!0,this.m_sleepTime=0):(this.m_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0);},C$Tzr.prototype.IsAwake=function(){return this.m_awakeFlag;},C$Tzr.prototype.SetActive=function(C$Tzt){if(this.m_world.IsLocked())throw new Error();if(C$Tzt!==this.IsActive())if(this.m_activeFlag=C$Tzt)for(var C$Tze=this.m_fixtureList;C$Tze;C$Tze=C$Tze.m_next)C$Tze.CreateProxies(this.m_xf);else{for(C$Tze=this.m_fixtureList;C$Tze;C$Tze=C$Tze.m_next)C$Tze.DestroyProxies();for(var C$Tzi=this.m_contactList;C$Tzi;){var C$Tzn=C$Tzi,C$Tzi=C$Tzi.next;this.m_world.m_contactManager.Destroy(C$Tzn.contact);}this.m_contactList=null;}},C$Tzr.prototype.IsActive=function(){return this.m_activeFlag;},C$Tzr.prototype.SetFixedRotation=function(C$Tzt){this.m_fixedRotationFlag!==C$Tzt&&(this.m_fixedRotationFlag=C$Tzt,this.m_angularVelocity=0,this.ResetMassData());},C$Tzr.prototype.IsFixedRotation=function(){return this.m_fixedRotationFlag;},C$Tzr.prototype.GetFixtureList=function(){return this.m_fixtureList;},C$Tzr.prototype.GetJointList=function(){return this.m_jointList;},C$Tzr.prototype.GetContactList=function(){return this.m_contactList;},C$Tzr.prototype.GetNext=function(){return this.m_next;},C$Tzr.prototype.GetUserData=function(){return this.m_userData;},C$Tzr.prototype.SetUserData=function(C$Tzt){this.m_userData=C$Tzt;},C$Tzr.prototype.GetWorld=function(){return this.m_world;},C$Tzr.prototype.Dump=function(C$Tzt){var C$Tze=this.m_islandIndex,C$Tzi=(C$Tzt("{\n"),C$Tzt("  const bd: b2BodyDef = new b2BodyDef();\n"),"");switch(this.m_type){case C$TzH.b2BodyType.b2_staticBody:C$Tzi=H[3004];break;case C$TzH.b2BodyType.b2_kinematicBody:C$Tzi=H[3005];break;case C$TzH.b2BodyType.b2_dynamicBody:C$Tzi=H[3006];}C$Tzt("  bd.type = %s;\n",C$Tzi),C$Tzt("  bd.position.Set(%.15f, %.15f);\n",this.m_xf.p.x,this.m_xf.p.y),C$Tzt("  bd.angle = %.15f;\n",this.m_sweep.a),C$Tzt("  bd.linearVelocity.Set(%.15f, %.15f);\n",this.m_linearVelocity.x,this.m_linearVelocity.y),C$Tzt("  bd.angularVelocity = %.15f;\n",this.m_angularVelocity),C$Tzt("  bd.linearDamping = %.15f;\n",this.m_linearDamping),C$Tzt("  bd.angularDamping = %.15f;\n",this.m_angularDamping),C$Tzt("  bd.allowSleep = %s;\n",this.m_autoSleepFlag?H[583]:H[1384]),C$Tzt("  bd.awake = %s;\n",this.m_awakeFlag?H[583]:H[1384]),C$Tzt("  bd.fixedRotation = %s;\n",this.m_fixedRotationFlag?H[583]:H[1384]),C$Tzt("  bd.bullet = %s;\n",this.m_bulletFlag?H[583]:H[1384]),C$Tzt("  bd.active = %s;\n",this.m_activeFlag?H[583]:H[1384]),C$Tzt("  bd.gravityScale = %.15f;\n",this.m_gravityScale),C$Tzt("\n"),C$Tzt("  bodies[%d] = this.m_world.CreateBody(bd);\n",this.m_islandIndex),C$Tzt("\n");for(var C$Tzn=this.m_fixtureList;C$Tzn;C$Tzn=C$Tzn.m_next)C$Tzt("  {\n"),C$Tzn.Dump(C$Tzt,C$Tze),C$Tzt("  }\n");C$Tzt("}\n");},C$Tzr.prototype.SynchronizeFixtures=function(){var C$Tzt=C$Tzr.SynchronizeFixtures_s_xf1;C$Tzt.q.SetAngle(this.m_sweep.a0),C$TzB.MulRV(C$Tzt.q,this.m_sweep.localCenter,C$Tzt.p),C$Tzj.SubVV(this.m_sweep.c0,C$Tzt.p,C$Tzt.p);for(var C$Tze=this.m_fixtureList;C$Tze;C$Tze=C$Tze.m_next)C$Tze.Synchronize(C$Tzt,this.m_xf);},C$Tzr.prototype.SynchronizeTransform=function(){this.m_xf.q.SetAngle(this.m_sweep.a),C$TzB.MulRV(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),C$Tzj.SubVV(this.m_sweep.c,this.m_xf.p,this.m_xf.p);},C$Tzr.prototype.ShouldCollide=function(C$Tzt){return(this.m_type!==C$TzH.b2BodyType.b2_staticBody||C$Tzt.m_type!==C$TzH.b2BodyType.b2_staticBody)&&this.ShouldCollideConnected(C$Tzt);},C$Tzr.prototype.ShouldCollideConnected=function(C$Tzt){for(var C$Tze=this.m_jointList;C$Tze;C$Tze=C$Tze.next)if(C$Tze.other===C$Tzt&&!C$Tze.joint.m_collideConnected)return!1;return!0;},C$Tzr.prototype.Advance=function(C$Tzt){this.m_sweep.Advance(C$Tzt),this.m_sweep.c.Copy(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_xf.q.SetAngle(this.m_sweep.a),C$TzB.MulRV(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),C$Tzj.SubVV(this.m_sweep.c,this.m_xf.p,this.m_xf.p);},C$Tzr.prototype.GetControllerList=function(){return this.m_controllerList;},C$Tzr.prototype.GetControllerCount=function(){return this.m_controllerCount;},C$Tzr.CreateFixtureShapeDensity_s_def=new C$Tzji(),C$Tzr.SetMassData_s_oldCenter=new C$Tzj(),C$Tzr.ResetMassData_s_localCenter=new C$Tzj(),C$Tzr.ResetMassData_s_oldCenter=new C$Tzj(),C$Tzr.ResetMassData_s_massData=new C$TzIi(),C$Tzr.SynchronizeFixtures_s_xf1=new C$TzR();var C$TzZi=C$Tzr;function C$Tzr(C$Tzt,C$Tze){this.m_type=C$TzH.b2BodyType.b2_staticBody,this.m_islandFlag=!1,this.m_awakeFlag=!1,this.m_autoSleepFlag=!1,this.m_bulletFlag=!1,this.m_fixedRotationFlag=!1,this.m_activeFlag=!1,this.m_toiFlag=!1,this.m_islandIndex=0,this.m_xf=new C$TzR(),this.m_xf0=new C$TzR(),this.m_sweep=new C$TzW(),this.m_linearVelocity=new C$Tzj(),this.m_angularVelocity=0,this.m_force=new C$Tzj(),this.m_torque=0,this.m_prev=null,this.m_next=null,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_jointList=null,this.m_contactList=null,this.m_mass=1,this.m_invMass=1,this.m_I=0,this.m_invI=0,this.m_linearDamping=0,this.m_angularDamping=0,this.m_gravityScale=1,this.m_sleepTime=0,this.m_userData=null,this.m_controllerList=null,this.m_controllerCount=0,this.m_bulletFlag=C$Tzf(C$Tzt.bullet,!1),this.m_fixedRotationFlag=C$Tzf(C$Tzt.fixedRotation,!1),this.m_autoSleepFlag=C$Tzf(C$Tzt.allowSleep,!0),this.m_awakeFlag=C$Tzf(C$Tzt.awake,!0),this.m_activeFlag=C$Tzf(C$Tzt.active,!0),this.m_world=C$Tze,this.m_xf.p.Copy(C$Tzf(C$Tzt.position,C$Tzj.ZERO)),this.m_xf.q.SetAngle(C$Tzf(C$Tzt.angle,0)),this.m_xf0.Copy(this.m_xf),this.m_sweep.localCenter.SetZero(),this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a=this.m_xf.q.GetAngle(),this.m_sweep.alpha0=0,this.m_linearVelocity.Copy(C$Tzf(C$Tzt.linearVelocity,C$Tzj.ZERO)),this.m_angularVelocity=C$Tzf(C$Tzt.angularVelocity,0),this.m_linearDamping=C$Tzf(C$Tzt.linearDamping,0),this.m_angularDamping=C$Tzf(C$Tzt.angularDamping,0),this.m_gravityScale=C$Tzf(C$Tzt.gravityScale,1),this.m_force.SetZero(),this.m_torque=0,this.m_sleepTime=0,this.m_type=C$Tzf(C$Tzt.type,C$TzH.b2BodyType.b2_staticBody),C$Tzt.type===C$TzH.b2BodyType.b2_dynamicBody?(this.m_mass=1,this.m_invMass=1):(this.m_mass=0,this.m_invMass=0),this.m_I=0,this.m_invI=0,this.m_userData=C$Tzt.userData,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_controllerList=null,this.m_controllerCount=0;}(C$TzKi=C$TzH.b2JointType||(C$TzH.b2JointType={}))[C$TzKi.e_unknownJoint=0]=H[3007],C$TzKi[C$TzKi.e_revoluteJoint=1]=H[3008],C$TzKi[C$TzKi.e_prismaticJoint=2]=H[3009],C$TzKi[C$TzKi.e_distanceJoint=3]=H[3010],C$TzKi[C$TzKi.e_pulleyJoint=4]=H[3011],C$TzKi[C$TzKi.e_mouseJoint=5]=H[3012],C$TzKi[C$TzKi.e_gearJoint=6]=H[3013],C$TzKi[C$TzKi.e_wheelJoint=7]=H[3014],C$TzKi[C$TzKi.e_weldJoint=8]=H[3015],C$TzKi[C$TzKi.e_frictionJoint=9]=H[3016],C$TzKi[C$TzKi.e_ropeJoint=10]=H[3017],C$TzKi[C$TzKi.e_motorJoint=11]=H[3018],C$TzKi[C$TzKi.e_areaJoint=12]=H[3019],(C$TzKi=C$TzH.b2LimitState||(C$TzH.b2LimitState={}))[C$TzKi.e_inactiveLimit=0]=H[3020],C$TzKi[C$TzKi.e_atLowerLimit=1]=H[3021],C$TzKi[C$TzKi.e_atUpperLimit=2]=H[3022],C$TzKi[C$TzKi.e_equalLimits=3]=H[3023];C$TzQi.prototype.SetZero=function(){return this.linear.SetZero(),this.angularA=0,this.angularB=0,this;},C$TzQi.prototype.Set=function(C$Tzt,C$Tze,C$Tzi){return this.linear.Copy(C$Tzt),this.angularA=C$Tze,this.angularB=C$Tzi,this;};var C$TzKi=C$TzQi;function C$TzQi(){this.linear=new C$Tzj(),this.angularA=0,this.angularB=0;}function C$Tz$i(C$Tzt){this.type=C$TzH.b2JointType.e_unknownJoint,this.userData=null,this.collideConnected=!1,this.type=C$Tzt;}var C$Tztn=function(C$Tzt,C$Tze){this.prev=null,this.next=null,this.joint=C$Tzt,this.other=C$Tze;},C$Tzen=(C$Tzin.prototype.GetType=function(){return this.m_type;},C$Tzin.prototype.GetBodyA=function(){return this.m_bodyA;},C$Tzin.prototype.GetBodyB=function(){return this.m_bodyB;},C$Tzin.prototype.GetNext=function(){return this.m_next;},C$Tzin.prototype.GetUserData=function(){return this.m_userData;},C$Tzin.prototype.SetUserData=function(C$Tzt){this.m_userData=C$Tzt;},C$Tzin.prototype.IsActive=function(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive();},C$Tzin.prototype.GetCollideConnected=function(){return this.m_collideConnected;},C$Tzin.prototype.Dump=function(C$Tzt){C$Tzt("// Dump is not supported for this joint type.\n");},C$Tzin.prototype.ShiftOrigin=function(C$Tzt){},C$Tzin);function C$Tzin(C$Tzt){this.m_type=C$TzH.b2JointType.e_unknownJoint,this.m_prev=null,this.m_next=null,this.m_index=0,this.m_islandFlag=!1,this.m_collideConnected=!1,this.m_userData=null,this.m_type=C$Tzt.type,this.m_edgeA=new C$Tztn(this,C$Tzt.bodyB),this.m_edgeB=new C$Tztn(this,C$Tzt.bodyA),this.m_bodyA=C$Tzt.bodyA,this.m_bodyB=C$Tzt.bodyB,this.m_collideConnected=C$Tzf(C$Tzt.collideConnected,!1),this.m_userData=C$Tzt.userData;}C$TzDi(C$Tzsn,C$Tznn=C$Tz$i),C$Tzsn.prototype.Initialize=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this.bodyA=C$Tzt,this.bodyB=C$Tze,this.bodyA.GetLocalPoint(C$Tzi,this.localAnchorA),this.bodyB.GetLocalPoint(C$Tzn,this.localAnchorB),this.length=C$Tzj.DistanceVV(C$Tzi,C$Tzn),this.frequencyHz=0,this.dampingRatio=0;};var C$Tznn,C$Tzrn=C$Tzsn;function C$Tzsn(){var C$Tzt=C$Tznn.call(this,C$TzH.b2JointType.e_distanceJoint)||this;return C$Tzt.localAnchorA=new C$Tzj(),C$Tzt.localAnchorB=new C$Tzj(),C$Tzt.length=1,C$Tzt.frequencyHz=0,C$Tzt.dampingRatio=0,C$Tzt;}C$TzDi(C$Tzcn,C$Tzon=C$Tzen),C$Tzcn.prototype.GetAnchorA=function(C$Tzt){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,C$Tzt);},C$Tzcn.prototype.GetAnchorB=function(C$Tzt){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,C$Tzt);},C$Tzcn.prototype.GetReactionForce=function(C$Tzt,C$Tze){return C$Tze.x=C$Tzt*this.m_impulse*this.m_u.x,C$Tze.y=C$Tzt*this.m_impulse*this.m_u.y,C$Tze;},C$Tzcn.prototype.GetReactionTorque=function(C$Tzt){return 0;},C$Tzcn.prototype.GetLocalAnchorA=function(){return this.m_localAnchorA;},C$Tzcn.prototype.GetLocalAnchorB=function(){return this.m_localAnchorB;},C$Tzcn.prototype.SetLength=function(C$Tzt){this.m_length=C$Tzt;},C$Tzcn.prototype.Length=function(){return this.m_length;},C$Tzcn.prototype.SetFrequency=function(C$Tzt){this.m_frequencyHz=C$Tzt;},C$Tzcn.prototype.GetFrequency=function(){return this.m_frequencyHz;},C$Tzcn.prototype.SetDampingRatio=function(C$Tzt){this.m_dampingRatio=C$Tzt;},C$Tzcn.prototype.GetDampingRatio=function(){return this.m_dampingRatio;},C$Tzcn.prototype.Dump=function(C$Tzt){var C$Tze=this.m_bodyA.m_islandIndex,C$Tzi=this.m_bodyB.m_islandIndex;C$Tzt("  const jd: b2DistanceJointDef = new b2DistanceJointDef();\n"),C$Tzt("  jd.bodyA = bodies[%d];\n",C$Tze),C$Tzt("  jd.bodyB = bodies[%d];\n",C$Tzi),C$Tzt("  jd.collideConnected = %s;\n",this.m_collideConnected?H[583]:H[1384]),C$Tzt("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),C$Tzt("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),C$Tzt("  jd.length = %.15f;\n",this.m_length),C$Tzt("  jd.frequencyHz = %.15f;\n",this.m_frequencyHz),C$Tzt("  jd.dampingRatio = %.15f;\n",this.m_dampingRatio),C$Tzt("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index);},C$Tzcn.prototype.InitVelocityConstraints=function(C$Tzt){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var C$Tze,C$Tzi=C$Tzt.positions[this.m_indexA].c,C$Tzn=C$Tzt.positions[this.m_indexA].a,C$Tzr=C$Tzt.velocities[this.m_indexA].v,C$Tzs=C$Tzt.velocities[this.m_indexA].w,C$Tzo=C$Tzt.positions[this.m_indexB].c,C$Tza=C$Tzt.positions[this.m_indexB].a,C$Tzc=C$Tzt.velocities[this.m_indexB].v,C$Tzl=C$Tzt.velocities[this.m_indexB].w,C$Tzn=this.m_qA.SetAngle(C$Tzn),C$Tza=this.m_qB.SetAngle(C$Tza),C$Tzn=(C$Tzj.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),C$TzB.MulRV(C$Tzn,this.m_lalcA,this.m_rA),C$Tzj.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),C$TzB.MulRV(C$Tza,this.m_lalcB,this.m_rB),this.m_u.x=C$Tzo.x+this.m_rB.x-C$Tzi.x-this.m_rA.x,this.m_u.y=C$Tzo.y+this.m_rB.y-C$Tzi.y-this.m_rA.y,this.m_u.Length()),C$Tza=(.008<C$Tzn?this.m_u.SelfMul(1/C$Tzn):this.m_u.SetZero(),C$Tzj.CrossVV(this.m_rA,this.m_u)),C$Tzo=C$Tzj.CrossVV(this.m_rB,this.m_u),C$Tzi=this.m_invMassA+this.m_invIA*C$Tza*C$Tza+this.m_invMassB+this.m_invIB*C$Tzo*C$Tzo;this.m_mass=0!==C$Tzi?1/C$Tzi:0,0<this.m_frequencyHz?(C$Tza=C$Tzn-this.m_length,C$Tzo=2*C$Tzm*this.m_frequencyHz,C$Tzn=2*this.m_mass*this.m_dampingRatio*C$Tzo,C$Tzo=this.m_mass*C$Tzo*C$Tzo,C$Tze=C$Tzt.step.dt,this.m_gamma=C$Tze*(C$Tzn+C$Tze*C$Tzo),this.m_gamma=0!==this.m_gamma?1/this.m_gamma:0,this.m_bias=C$Tza*C$Tze*C$Tzo*this.m_gamma,C$Tzi+=this.m_gamma,this.m_mass=0!==C$Tzi?1/C$Tzi:0):(this.m_gamma=0,this.m_bias=0),C$Tzt.step.warmStarting?(this.m_impulse*=C$Tzt.step.dtRatio,C$Tzn=C$Tzj.MulSV(this.m_impulse,this.m_u,C$Tzcn.InitVelocityConstraints_s_P),C$Tzr.SelfMulSub(this.m_invMassA,C$Tzn),C$Tzs-=this.m_invIA*C$Tzj.CrossVV(this.m_rA,C$Tzn),C$Tzc.SelfMulAdd(this.m_invMassB,C$Tzn),C$Tzl+=this.m_invIB*C$Tzj.CrossVV(this.m_rB,C$Tzn)):this.m_impulse=0,C$Tzt.velocities[this.m_indexA].w=C$Tzs,C$Tzt.velocities[this.m_indexB].w=C$Tzl;},C$Tzcn.prototype.SolveVelocityConstraints=function(C$Tzt){var C$Tze=C$Tzt.velocities[this.m_indexA].v,C$Tzi=C$Tzt.velocities[this.m_indexA].w,C$Tzn=C$Tzt.velocities[this.m_indexB].v,C$Tzr=C$Tzt.velocities[this.m_indexB].w,C$Tzs=C$Tzj.AddVCrossSV(C$Tze,C$Tzi,this.m_rA,C$Tzcn.SolveVelocityConstraints_s_vpA),C$Tzo=C$Tzj.AddVCrossSV(C$Tzn,C$Tzr,this.m_rB,C$Tzcn.SolveVelocityConstraints_s_vpB),C$Tzo=C$Tzj.DotVV(this.m_u,C$Tzj.SubVV(C$Tzo,C$Tzs,C$Tzj.s_t0)),C$Tzs=-this.m_mass*(C$Tzo+this.m_bias+this.m_gamma*this.m_impulse),C$Tzo=(this.m_impulse+=C$Tzs,C$Tzj.MulSV(C$Tzs,this.m_u,C$Tzcn.SolveVelocityConstraints_s_P));C$Tze.SelfMulSub(this.m_invMassA,C$Tzo),C$Tzi-=this.m_invIA*C$Tzj.CrossVV(this.m_rA,C$Tzo),C$Tzn.SelfMulAdd(this.m_invMassB,C$Tzo),C$Tzr+=this.m_invIB*C$Tzj.CrossVV(this.m_rB,C$Tzo),C$Tzt.velocities[this.m_indexA].w=C$Tzi,C$Tzt.velocities[this.m_indexB].w=C$Tzr;},C$Tzcn.prototype.SolvePositionConstraints=function(C$Tzt){if(0<this.m_frequencyHz)return!0;var C$Tze=C$Tzt.positions[this.m_indexA].c,C$Tzi=C$Tzt.positions[this.m_indexA].a,C$Tzn=C$Tzt.positions[this.m_indexB].c,C$Tzr=C$Tzt.positions[this.m_indexB].a,C$Tzs=this.m_qA.SetAngle(C$Tzi),C$Tzo=this.m_qB.SetAngle(C$Tzr),C$Tzs=C$TzB.MulRV(C$Tzs,this.m_lalcA,this.m_rA),C$Tzo=C$TzB.MulRV(C$Tzo,this.m_lalcB,this.m_rB),C$Tza=this.m_u;C$Tza.x=C$Tzn.x+C$Tzo.x-C$Tze.x-C$Tzs.x,C$Tza.y=C$Tzn.y+C$Tzo.y-C$Tze.y-C$Tzs.y;var C$Tzc=C$TzO(this.m_u.Normalize()-this.m_length,-.2,.2),C$Tzl=-this.m_mass*C$Tzc,C$Tzl=C$Tzj.MulSV(C$Tzl,C$Tza,C$Tzcn.SolvePositionConstraints_s_P);return C$Tze.SelfMulSub(this.m_invMassA,C$Tzl),C$Tzi-=this.m_invIA*C$Tzj.CrossVV(C$Tzs,C$Tzl),C$Tzn.SelfMulAdd(this.m_invMassB,C$Tzl),C$Tzr+=this.m_invIB*C$Tzj.CrossVV(C$Tzo,C$Tzl),C$Tzt.positions[this.m_indexA].a=C$Tzi,C$Tzt.positions[this.m_indexB].a=C$Tzr,C$TzD(C$Tzc)<.008;},C$Tzcn.InitVelocityConstraints_s_P=new C$Tzj(),C$Tzcn.SolveVelocityConstraints_s_vpA=new C$Tzj(),C$Tzcn.SolveVelocityConstraints_s_vpB=new C$Tzj(),C$Tzcn.SolveVelocityConstraints_s_P=new C$Tzj(),C$Tzcn.SolvePositionConstraints_s_P=new C$Tzj();var C$Tzon,C$Tzan=C$Tzcn;function C$Tzcn(C$Tzt){var C$Tze=C$Tzon.call(this,C$Tzt)||this;return C$Tze.m_frequencyHz=0,C$Tze.m_dampingRatio=0,C$Tze.m_bias=0,C$Tze.m_localAnchorA=new C$Tzj(),C$Tze.m_localAnchorB=new C$Tzj(),C$Tze.m_gamma=0,C$Tze.m_impulse=0,C$Tze.m_length=0,C$Tze.m_indexA=0,C$Tze.m_indexB=0,C$Tze.m_u=new C$Tzj(),C$Tze.m_rA=new C$Tzj(),C$Tze.m_rB=new C$Tzj(),C$Tze.m_localCenterA=new C$Tzj(),C$Tze.m_localCenterB=new C$Tzj(),C$Tze.m_invMassA=0,C$Tze.m_invMassB=0,C$Tze.m_invIA=0,C$Tze.m_invIB=0,C$Tze.m_mass=0,C$Tze.m_qA=new C$TzB(),C$Tze.m_qB=new C$TzB(),C$Tze.m_lalcA=new C$Tzj(),C$Tze.m_lalcB=new C$Tzj(),C$Tze.m_frequencyHz=C$Tzf(C$Tzt.frequencyHz,0),C$Tze.m_dampingRatio=C$Tzf(C$Tzt.dampingRatio,0),C$Tze.m_localAnchorA.Copy(C$Tzt.localAnchorA),C$Tze.m_localAnchorB.Copy(C$Tzt.localAnchorB),C$Tze.m_length=C$Tzt.length,C$Tze;}C$TzDi(C$Tzun,C$Tzln=C$Tz$i),C$Tzun.prototype.AddBody=function(C$Tzt){this.bodies.push(C$Tzt),1===this.bodies.length?this.bodyA=C$Tzt:2===this.bodies.length&&(this.bodyB=C$Tzt);};var C$Tzln,C$Tzhn=C$Tzun;function C$Tzun(){var C$Tzt=C$Tzln.call(this,C$TzH.b2JointType.e_areaJoint)||this;return C$Tzt.bodies=[],C$Tzt.frequencyHz=0,C$Tzt.dampingRatio=0,C$Tzt;}C$TzDi(C$Tzfn,C$Tz_n=C$Tzen),C$Tzfn.prototype.GetAnchorA=function(C$Tzt){return C$Tzt;},C$Tzfn.prototype.GetAnchorB=function(C$Tzt){return C$Tzt;},C$Tzfn.prototype.GetReactionForce=function(C$Tzt,C$Tze){return C$Tze;},C$Tzfn.prototype.GetReactionTorque=function(C$Tzt){return 0;},C$Tzfn.prototype.SetFrequency=function(C$Tzt){this.m_frequencyHz=C$Tzt;for(var C$Tze=0;C$Tze<this.m_joints.length;++C$Tze)this.m_joints[C$Tze].SetFrequency(C$Tzt);},C$Tzfn.prototype.GetFrequency=function(){return this.m_frequencyHz;},C$Tzfn.prototype.SetDampingRatio=function(C$Tzt){this.m_dampingRatio=C$Tzt;for(var C$Tze=0;C$Tze<this.m_joints.length;++C$Tze)this.m_joints[C$Tze].SetDampingRatio(C$Tzt);},C$Tzfn.prototype.GetDampingRatio=function(){return this.m_dampingRatio;},C$Tzfn.prototype.Dump=function(C$Tzt){C$Tzt("Area joint dumping is not supported.\n");},C$Tzfn.prototype.InitVelocityConstraints=function(C$Tzt){for(var C$Tze=0;C$Tze<this.m_bodies.length;++C$Tze){var C$Tzi=this.m_bodies[(C$Tze+this.m_bodies.length-1)%this.m_bodies.length],C$Tzn=this.m_bodies[(C$Tze+1)%this.m_bodies.length],C$Tzi=C$Tzt.positions[C$Tzi.m_islandIndex].c,C$Tzn=C$Tzt.positions[C$Tzn.m_islandIndex].c,C$Tzr=this.m_deltas[C$Tze];C$Tzj.SubVV(C$Tzn,C$Tzi,C$Tzr);}if(C$Tzt.step.warmStarting){this.m_impulse*=C$Tzt.step.dtRatio;for(C$Tze=0;C$Tze<this.m_bodies.length;++C$Tze){var C$Tzs=this.m_bodies[C$Tze],C$Tzo=C$Tzt.velocities[C$Tzs.m_islandIndex].v,C$Tzr=this.m_deltas[C$Tze];C$Tzo.x+=C$Tzs.m_invMass*C$Tzr.y*.5*this.m_impulse,C$Tzo.y+=C$Tzs.m_invMass*-C$Tzr.x*.5*this.m_impulse;}}else this.m_impulse=0;},C$Tzfn.prototype.SolveVelocityConstraints=function(C$Tzt){for(var C$Tze=0,C$Tzi=0,C$Tzn=0;C$Tzn<this.m_bodies.length;++C$Tzn){var C$Tzr=this.m_bodies[C$Tzn],C$Tzs=C$Tzt.velocities[C$Tzr.m_islandIndex].v;C$Tze+=(C$Tza=this.m_deltas[C$Tzn]).LengthSquared()/C$Tzr.GetMass(),C$Tzi+=C$Tzj.CrossVV(C$Tzs,C$Tza);}var C$Tzo=-2*C$Tzi/C$Tze;this.m_impulse+=C$Tzo;for(C$Tzn=0;C$Tzn<this.m_bodies.length;++C$Tzn){var C$Tzr=this.m_bodies[C$Tzn],C$Tzs=C$Tzt.velocities[C$Tzr.m_islandIndex].v,C$Tza=this.m_deltas[C$Tzn];C$Tzs.x+=C$Tzr.m_invMass*C$Tza.y*.5*C$Tzo,C$Tzs.y+=C$Tzr.m_invMass*-C$Tza.x*.5*C$Tzo;}},C$Tzfn.prototype.SolvePositionConstraints=function(C$Tzt){for(var C$Tze=0,C$Tzi=0,C$Tzn=0;C$Tzn<this.m_bodies.length;++C$Tzn){var C$Tzr=this.m_bodies[C$Tzn],C$Tzs=this.m_bodies[(C$Tzn+1)%this.m_bodies.length],C$Tzo=C$Tzt.positions[C$Tzr.m_islandIndex].c,C$Tzs=C$Tzt.positions[C$Tzs.m_islandIndex].c,C$Tza=(C$Tzc=C$Tzj.SubVV(C$Tzs,C$Tzo,this.m_delta)).Length();C$Tza<C$TzM&&(C$Tza=1),this.m_normals[C$Tzn].x=C$Tzc.y/C$Tza,this.m_normals[C$Tzn].y=-C$Tzc.x/C$Tza,C$Tze+=C$Tza,C$Tzi+=C$Tzj.CrossVV(C$Tzo,C$Tzs);}for(var C$Tzh=.5*(this.m_targetArea-(C$Tzi*=.5))/C$Tze,C$Tzu=!0,C$Tzn=0;C$Tzn<this.m_bodies.length;++C$Tzn){var C$Tzc,C$Tzr=this.m_bodies[C$Tzn],C$Tzo=C$Tzt.positions[C$Tzr.m_islandIndex].c,C$Tzl=(C$Tzn+1)%this.m_bodies.length,C$Tzl=((C$Tzc=C$Tzj.AddVV(this.m_normals[C$Tzn],this.m_normals[C$Tzl],this.m_delta)).SelfMul(C$Tzh),C$Tzc.LengthSquared());C$Tzl>C$Tz_(.2)&&C$Tzc.SelfMul(.2/C$TzY(C$Tzl)),64e-6<C$Tzl&&(C$Tzu=!1),C$Tzo.x+=C$Tzc.x,C$Tzo.y+=C$Tzc.y;}return C$Tzu;};var C$Tz_n,C$Tzdn=C$Tzfn;function C$Tzfn(C$Tzt){var C$Tze=C$Tz_n.call(this,C$Tzt)||this,C$Tzi=(C$Tze.m_frequencyHz=0,C$Tze.m_dampingRatio=0,C$Tze.m_impulse=0,C$Tze.m_targetArea=0,C$Tze.m_bodies=C$Tzt.bodies,C$Tze.m_frequencyHz=C$Tzf(C$Tzt.frequencyHz,0),C$Tze.m_dampingRatio=C$Tzf(C$Tzt.dampingRatio,0),C$Tze.m_targetLengths=C$Tzh(C$Tzt.bodies.length),C$Tze.m_normals=C$Tzj.MakeArray(C$Tzt.bodies.length),C$Tze.m_joints=[],C$Tze.m_deltas=C$Tzj.MakeArray(C$Tzt.bodies.length),C$Tze.m_delta=new C$Tzj(),new C$Tzrn());C$Tzi.frequencyHz=C$Tze.m_frequencyHz,C$Tzi.dampingRatio=C$Tze.m_dampingRatio;for(var C$Tzn=C$Tze.m_targetArea=0;C$Tzn<C$Tze.m_bodies.length;++C$Tzn){var C$Tzr=C$Tze.m_bodies[C$Tzn],C$Tzs=C$Tze.m_bodies[(C$Tzn+1)%C$Tze.m_bodies.length],C$Tzo=C$Tzr.GetWorldCenter(),C$Tza=C$Tzs.GetWorldCenter();C$Tze.m_targetLengths[C$Tzn]=C$Tzj.DistanceVV(C$Tzo,C$Tza),C$Tze.m_targetArea+=C$Tzj.CrossVV(C$Tzo,C$Tza),C$Tzi.Initialize(C$Tzr,C$Tzs,C$Tzo,C$Tza),C$Tze.m_joints[C$Tzn]=C$Tzr.GetWorld().CreateJoint(C$Tzi);}return C$Tze.m_targetArea*=.5,C$Tze;}C$TzDi(C$Tzyn,C$Tzpn=C$Tz$i),C$Tzyn.prototype.Initialize=function(C$Tzt,C$Tze,C$Tzi){this.bodyA=C$Tzt,this.bodyB=C$Tze,this.bodyA.GetLocalPoint(C$Tzi,this.localAnchorA),this.bodyB.GetLocalPoint(C$Tzi,this.localAnchorB);};var C$Tzpn,C$Tzmn=C$Tzyn;function C$Tzyn(){var C$Tzt=C$Tzpn.call(this,C$TzH.b2JointType.e_frictionJoint)||this;return C$Tzt.localAnchorA=new C$Tzj(),C$Tzt.localAnchorB=new C$Tzj(),C$Tzt.maxForce=0,C$Tzt.maxTorque=0,C$Tzt;}C$TzDi(C$Tzxn,C$Tzgn=C$Tzen),C$Tzxn.prototype.InitVelocityConstraints=function(C$Tzt){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var C$Tze=C$Tzt.positions[this.m_indexA].a,C$Tzh=C$Tzt.velocities[this.m_indexA].v,C$Tzi=C$Tzt.velocities[this.m_indexA].w,C$Tzn=C$Tzt.positions[this.m_indexB].a,C$Tzu=C$Tzt.velocities[this.m_indexB].v,C$Tzr=C$Tzt.velocities[this.m_indexB].w,C$Tze=this.m_qA.SetAngle(C$Tze),C$Tzn=this.m_qB.SetAngle(C$Tzn),C$Tze=(C$Tzj.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),C$TzB.MulRV(C$Tze,this.m_lalcA,this.m_rA)),C$Tzn=(C$Tzj.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),C$TzB.MulRV(C$Tzn,this.m_lalcB,this.m_rB)),C$Tzs=this.m_invMassA,C$Tzo=this.m_invMassB,C$Tza=this.m_invIA,C$Tzc=this.m_invIB,C$Tzl=this.m_K;C$Tzl.ex.x=C$Tzs+C$Tzo+C$Tza*C$Tze.y*C$Tze.y+C$Tzc*C$Tzn.y*C$Tzn.y,C$Tzl.ex.y=-C$Tza*C$Tze.x*C$Tze.y-C$Tzc*C$Tzn.x*C$Tzn.y,C$Tzl.ey.x=C$Tzl.ex.y,C$Tzl.ey.y=C$Tzs+C$Tzo+C$Tza*C$Tze.x*C$Tze.x+C$Tzc*C$Tzn.x*C$Tzn.x,C$Tzl.GetInverse(this.m_linearMass),this.m_angularMass=C$Tza+C$Tzc,0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass),C$Tzt.step.warmStarting?(this.m_linearImpulse.SelfMul(C$Tzt.step.dtRatio),this.m_angularImpulse*=C$Tzt.step.dtRatio,C$Tze=this.m_linearImpulse,C$Tzh.SelfMulSub(C$Tzs,C$Tze),C$Tzi-=C$Tza*(C$Tzj.CrossVV(this.m_rA,C$Tze)+this.m_angularImpulse),C$Tzu.SelfMulAdd(C$Tzo,C$Tze),C$Tzr+=C$Tzc*(C$Tzj.CrossVV(this.m_rB,C$Tze)+this.m_angularImpulse)):(this.m_linearImpulse.SetZero(),this.m_angularImpulse=0),C$Tzt.velocities[this.m_indexA].w=C$Tzi,C$Tzt.velocities[this.m_indexB].w=C$Tzr;},C$Tzxn.prototype.SolveVelocityConstraints=function(C$Tzt){var C$Tze=C$Tzt.velocities[this.m_indexA].v,C$Tzi=C$Tzt.velocities[this.m_indexA].w,C$Tzn=C$Tzt.velocities[this.m_indexB].v,C$Tzr=C$Tzt.velocities[this.m_indexB].w,C$Tzh=this.m_invMassA,C$Tzu=this.m_invMassB,C$Tzs=this.m_invIA,C$Tzo=this.m_invIB,C$Tz_=C$Tzt.step.dt,C$Tza=-this.m_angularMass*(C$Tzr-C$Tzi),C$Tzc=this.m_angularImpulse,C$Tzl=C$Tz_*this.m_maxTorque,C$Tzc=(this.m_angularImpulse=C$TzO(this.m_angularImpulse+C$Tza,-C$Tzl,C$Tzl),C$Tzi-=C$Tzs*(C$Tza=this.m_angularImpulse-C$Tzc),C$Tzj.SubVV(C$Tzj.AddVCrossSV(C$Tzn,C$Tzr+=C$Tzo*C$Tza,this.m_rB,C$Tzj.s_t0),C$Tzj.AddVCrossSV(C$Tze,C$Tzi,this.m_rA,C$Tzj.s_t1),C$Tzxn.SolveVelocityConstraints_s_Cdot_v2)),C$Tza=C$TzF.MulMV(this.m_linearMass,C$Tzc,C$Tzxn.SolveVelocityConstraints_s_impulseV).SelfNeg(),C$Tzc=C$Tzxn.SolveVelocityConstraints_s_oldImpulseV.Copy(this.m_linearImpulse),C$Tzl=(this.m_linearImpulse.SelfAdd(C$Tza),C$Tz_*this.m_maxForce);this.m_linearImpulse.LengthSquared()>C$Tzl*C$Tzl&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(C$Tzl)),C$Tzj.SubVV(this.m_linearImpulse,C$Tzc,C$Tza),C$Tze.SelfMulSub(C$Tzh,C$Tza),C$Tzi-=C$Tzs*C$Tzj.CrossVV(this.m_rA,C$Tza),C$Tzn.SelfMulAdd(C$Tzu,C$Tza),C$Tzr+=C$Tzo*C$Tzj.CrossVV(this.m_rB,C$Tza),C$Tzt.velocities[this.m_indexA].w=C$Tzi,C$Tzt.velocities[this.m_indexB].w=C$Tzr;},C$Tzxn.prototype.SolvePositionConstraints=function(C$Tzt){return!0;},C$Tzxn.prototype.GetAnchorA=function(C$Tzt){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,C$Tzt);},C$Tzxn.prototype.GetAnchorB=function(C$Tzt){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,C$Tzt);},C$Tzxn.prototype.GetReactionForce=function(C$Tzt,C$Tze){return C$Tze.x=C$Tzt*this.m_linearImpulse.x,C$Tze.y=C$Tzt*this.m_linearImpulse.y,C$Tze;},C$Tzxn.prototype.GetReactionTorque=function(C$Tzt){return C$Tzt*this.m_angularImpulse;},C$Tzxn.prototype.GetLocalAnchorA=function(){return this.m_localAnchorA;},C$Tzxn.prototype.GetLocalAnchorB=function(){return this.m_localAnchorB;},C$Tzxn.prototype.SetMaxForce=function(C$Tzt){this.m_maxForce=C$Tzt;},C$Tzxn.prototype.GetMaxForce=function(){return this.m_maxForce;},C$Tzxn.prototype.SetMaxTorque=function(C$Tzt){this.m_maxTorque=C$Tzt;},C$Tzxn.prototype.GetMaxTorque=function(){return this.m_maxTorque;},C$Tzxn.prototype.Dump=function(C$Tzt){var C$Tze=this.m_bodyA.m_islandIndex,C$Tzi=this.m_bodyB.m_islandIndex;C$Tzt("  const jd: b2FrictionJointDef = new b2FrictionJointDef();\n"),C$Tzt("  jd.bodyA = bodies[%d];\n",C$Tze),C$Tzt("  jd.bodyB = bodies[%d];\n",C$Tzi),C$Tzt("  jd.collideConnected = %s;\n",this.m_collideConnected?H[583]:H[1384]),C$Tzt("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),C$Tzt("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),C$Tzt("  jd.maxForce = %.15f;\n",this.m_maxForce),C$Tzt("  jd.maxTorque = %.15f;\n",this.m_maxTorque),C$Tzt("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index);},C$Tzxn.SolveVelocityConstraints_s_Cdot_v2=new C$Tzj(),C$Tzxn.SolveVelocityConstraints_s_impulseV=new C$Tzj(),C$Tzxn.SolveVelocityConstraints_s_oldImpulseV=new C$Tzj();var C$Tzgn,C$Tzvn=C$Tzxn;function C$Tzxn(C$Tzt){var C$Tze=C$Tzgn.call(this,C$Tzt)||this;return C$Tze.m_localAnchorA=new C$Tzj(),C$Tze.m_localAnchorB=new C$Tzj(),C$Tze.m_linearImpulse=new C$Tzj(),C$Tze.m_angularImpulse=0,C$Tze.m_maxForce=0,C$Tze.m_maxTorque=0,C$Tze.m_indexA=0,C$Tze.m_indexB=0,C$Tze.m_rA=new C$Tzj(),C$Tze.m_rB=new C$Tzj(),C$Tze.m_localCenterA=new C$Tzj(),C$Tze.m_localCenterB=new C$Tzj(),C$Tze.m_invMassA=0,C$Tze.m_invMassB=0,C$Tze.m_invIA=0,C$Tze.m_invIB=0,C$Tze.m_linearMass=new C$TzF(),C$Tze.m_angularMass=0,C$Tze.m_qA=new C$TzB(),C$Tze.m_qB=new C$TzB(),C$Tze.m_lalcA=new C$Tzj(),C$Tze.m_lalcB=new C$Tzj(),C$Tze.m_K=new C$TzF(),C$Tze.m_localAnchorA.Copy(C$Tzt.localAnchorA),C$Tze.m_localAnchorB.Copy(C$Tzt.localAnchorB),C$Tze.m_linearImpulse.SetZero(),C$Tze.m_maxForce=C$Tzf(C$Tzt.maxForce,0),C$Tze.m_maxTorque=C$Tzf(C$Tzt.maxTorque,0),C$Tze.m_linearMass.SetZero(),C$Tze;}C$TzDi(C$TzCn,C$Tzbn=C$Tz$i);var C$Tzbn,C$TzAn=C$TzCn;function C$TzCn(){var C$Tzt=C$Tzbn.call(this,C$TzH.b2JointType.e_gearJoint)||this;return C$Tzt.ratio=1,C$Tzt;}C$TzDi(C$Tzwn,C$TzSn=C$Tzen),C$Tzwn.prototype.InitVelocityConstraints=function(C$Tzt){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_indexC=this.m_bodyC.m_islandIndex,this.m_indexD=this.m_bodyD.m_islandIndex,this.m_lcA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_lcB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_lcC.Copy(this.m_bodyC.m_sweep.localCenter),this.m_lcD.Copy(this.m_bodyD.m_sweep.localCenter),this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;var C$Tze,C$Tzi=C$Tzt.positions[this.m_indexA].a,C$Tzh=C$Tzt.velocities[this.m_indexA].v,C$Tzn=C$Tzt.velocities[this.m_indexA].w,C$Tzr=C$Tzt.positions[this.m_indexB].a,C$Tzu=C$Tzt.velocities[this.m_indexB].v,C$Tzs=C$Tzt.velocities[this.m_indexB].w,C$Tzo=C$Tzt.positions[this.m_indexC].a,C$Tz_=C$Tzt.velocities[this.m_indexC].v,C$Tza=C$Tzt.velocities[this.m_indexC].w,C$Tzc=C$Tzt.positions[this.m_indexD].a,C$Tzd=C$Tzt.velocities[this.m_indexD].v,C$Tzl=C$Tzt.velocities[this.m_indexD].w,C$Tzi=this.m_qA.SetAngle(C$Tzi),C$Tzr=this.m_qB.SetAngle(C$Tzr),C$Tzo=this.m_qC.SetAngle(C$Tzo),C$Tzc=this.m_qD.SetAngle(C$Tzc);this.m_mass=0,this.m_typeA===C$TzH.b2JointType.e_revoluteJoint?(this.m_JvAC.SetZero(),this.m_JwA=1,this.m_JwC=1,this.m_mass+=this.m_iA+this.m_iC):(C$Tze=C$TzB.MulRV(C$Tzo,this.m_localAxisC,C$Tzwn.InitVelocityConstraints_s_u),C$Tzj.SubVV(this.m_localAnchorC,this.m_lcC,this.m_lalcC),C$Tzo=C$TzB.MulRV(C$Tzo,this.m_lalcC,C$Tzwn.InitVelocityConstraints_s_rC),C$Tzj.SubVV(this.m_localAnchorA,this.m_lcA,this.m_lalcA),C$Tzi=C$TzB.MulRV(C$Tzi,this.m_lalcA,C$Tzwn.InitVelocityConstraints_s_rA),this.m_JvAC.Copy(C$Tze),this.m_JwC=C$Tzj.CrossVV(C$Tzo,C$Tze),this.m_JwA=C$Tzj.CrossVV(C$Tzi,C$Tze),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA),this.m_typeB===C$TzH.b2JointType.e_revoluteJoint?(this.m_JvBD.SetZero(),this.m_JwB=this.m_ratio,this.m_JwD=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD)):(C$Tze=C$TzB.MulRV(C$Tzc,this.m_localAxisD,C$Tzwn.InitVelocityConstraints_s_u),C$Tzj.SubVV(this.m_localAnchorD,this.m_lcD,this.m_lalcD),C$Tzo=C$TzB.MulRV(C$Tzc,this.m_lalcD,C$Tzwn.InitVelocityConstraints_s_rD),C$Tzj.SubVV(this.m_localAnchorB,this.m_lcB,this.m_lalcB),C$Tzi=C$TzB.MulRV(C$Tzr,this.m_lalcB,C$Tzwn.InitVelocityConstraints_s_rB),C$Tzj.MulSV(this.m_ratio,C$Tze,this.m_JvBD),this.m_JwD=this.m_ratio*C$Tzj.CrossVV(C$Tzo,C$Tze),this.m_JwB=this.m_ratio*C$Tzj.CrossVV(C$Tzi,C$Tze),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB),this.m_mass=0<this.m_mass?1/this.m_mass:0,C$Tzt.step.warmStarting?(C$Tzh.SelfMulAdd(this.m_mA*this.m_impulse,this.m_JvAC),C$Tzn+=this.m_iA*this.m_impulse*this.m_JwA,C$Tzu.SelfMulAdd(this.m_mB*this.m_impulse,this.m_JvBD),C$Tzs+=this.m_iB*this.m_impulse*this.m_JwB,C$Tz_.SelfMulSub(this.m_mC*this.m_impulse,this.m_JvAC),C$Tza-=this.m_iC*this.m_impulse*this.m_JwC,C$Tzd.SelfMulSub(this.m_mD*this.m_impulse,this.m_JvBD),C$Tzl-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,C$Tzt.velocities[this.m_indexA].w=C$Tzn,C$Tzt.velocities[this.m_indexB].w=C$Tzs,C$Tzt.velocities[this.m_indexC].w=C$Tza,C$Tzt.velocities[this.m_indexD].w=C$Tzl;},C$Tzwn.prototype.SolveVelocityConstraints=function(C$Tzt){var C$Tze=C$Tzt.velocities[this.m_indexA].v,C$Tzi=C$Tzt.velocities[this.m_indexA].w,C$Tzn=C$Tzt.velocities[this.m_indexB].v,C$Tzr=C$Tzt.velocities[this.m_indexB].w,C$Tzs=C$Tzt.velocities[this.m_indexC].v,C$Tzo=C$Tzt.velocities[this.m_indexC].w,C$Tza=C$Tzt.velocities[this.m_indexD].v,C$Tzc=C$Tzt.velocities[this.m_indexD].w,C$Tzl=C$Tzj.DotVV(this.m_JvAC,C$Tzj.SubVV(C$Tze,C$Tzs,C$Tzj.s_t0))+C$Tzj.DotVV(this.m_JvBD,C$Tzj.SubVV(C$Tzn,C$Tza,C$Tzj.s_t0)),C$Tzl=(C$Tzl+=this.m_JwA*C$Tzi-this.m_JwC*C$Tzo+(this.m_JwB*C$Tzr-this.m_JwD*C$Tzc),-this.m_mass*C$Tzl);this.m_impulse+=C$Tzl,C$Tze.SelfMulAdd(this.m_mA*C$Tzl,this.m_JvAC),C$Tzi+=this.m_iA*C$Tzl*this.m_JwA,C$Tzn.SelfMulAdd(this.m_mB*C$Tzl,this.m_JvBD),C$Tzr+=this.m_iB*C$Tzl*this.m_JwB,C$Tzs.SelfMulSub(this.m_mC*C$Tzl,this.m_JvAC),C$Tzo-=this.m_iC*C$Tzl*this.m_JwC,C$Tza.SelfMulSub(this.m_mD*C$Tzl,this.m_JvBD),C$Tzc-=this.m_iD*C$Tzl*this.m_JwD,C$Tzt.velocities[this.m_indexA].w=C$Tzi,C$Tzt.velocities[this.m_indexB].w=C$Tzr,C$Tzt.velocities[this.m_indexC].w=C$Tzo,C$Tzt.velocities[this.m_indexD].w=C$Tzc;},C$Tzwn.prototype.SolvePositionConstraints=function(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzh=C$Tzt.positions[this.m_indexA].c,C$Tzu=C$Tzt.positions[this.m_indexA].a,C$Tz_=C$Tzt.positions[this.m_indexB].c,C$Tzd=C$Tzt.positions[this.m_indexB].a,C$Tzf=C$Tzt.positions[this.m_indexC].c,C$Tzp=C$Tzt.positions[this.m_indexC].a,C$Tzm=C$Tzt.positions[this.m_indexD].c,C$Tzy=C$Tzt.positions[this.m_indexD].a,C$Tzo=this.m_qA.SetAngle(C$Tzu),C$Tzg=this.m_qB.SetAngle(C$Tzd),C$Tza=this.m_qC.SetAngle(C$Tzp),C$Tzv=this.m_qD.SetAngle(C$Tzy),C$Tzx=this.m_JvAC,C$Tzb=this.m_JvBD,C$Tzc=0,C$Tzv=(C$Tzo=this.m_typeA===C$TzH.b2JointType.e_revoluteJoint?(C$Tzx.SetZero(),C$Tzn=C$Tze=1,C$Tzc+=this.m_iA+this.m_iC,C$Tzu-C$Tzp-this.m_referenceAngleA):(C$Tzs=C$TzB.MulRV(C$Tza,this.m_localAxisC,C$Tzwn.SolvePositionConstraints_s_u),C$Tzl=C$TzB.MulRV(C$Tza,this.m_lalcC,C$Tzwn.SolvePositionConstraints_s_rC),C$Tzo=C$TzB.MulRV(C$Tzo,this.m_lalcA,C$Tzwn.SolvePositionConstraints_s_rA),C$Tzx.Copy(C$Tzs),C$Tzn=C$Tzj.CrossVV(C$Tzl,C$Tzs),C$Tze=C$Tzj.CrossVV(C$Tzo,C$Tzs),C$Tzc+=this.m_mC+this.m_mA+this.m_iC*C$Tzn*C$Tzn+this.m_iA*C$Tze*C$Tze,C$Tzl=this.m_lalcC,C$Tza=C$TzB.MulTRV(C$Tza,C$Tzj.AddVV(C$Tzo,C$Tzj.SubVV(C$Tzh,C$Tzf,C$Tzj.s_t0),C$Tzj.s_t0),C$Tzj.s_t0),C$Tzj.DotVV(C$Tzj.SubVV(C$Tza,C$Tzl,C$Tzj.s_t0),this.m_localAxisC)),C$Tzs=this.m_typeB===C$TzH.b2JointType.e_revoluteJoint?(C$Tzb.SetZero(),C$Tzi=this.m_ratio,C$Tzr=this.m_ratio,C$Tzc+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),C$Tzd-C$Tzy-this.m_referenceAngleB):(C$Tzs=C$TzB.MulRV(C$Tzv,this.m_localAxisD,C$Tzwn.SolvePositionConstraints_s_u),C$Tza=C$TzB.MulRV(C$Tzv,this.m_lalcD,C$Tzwn.SolvePositionConstraints_s_rD),C$Tzl=C$TzB.MulRV(C$Tzg,this.m_lalcB,C$Tzwn.SolvePositionConstraints_s_rB),C$Tzj.MulSV(this.m_ratio,C$Tzs,C$Tzb),C$Tzr=this.m_ratio*C$Tzj.CrossVV(C$Tza,C$Tzs),C$Tzi=this.m_ratio*C$Tzj.CrossVV(C$Tzl,C$Tzs),C$Tzc+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*C$Tzr*C$Tzr+this.m_iB*C$Tzi*C$Tzi,C$Tzg=this.m_lalcD,C$Tza=C$TzB.MulTRV(C$Tzv,C$Tzj.AddVV(C$Tzl,C$Tzj.SubVV(C$Tz_,C$Tzm,C$Tzj.s_t0),C$Tzj.s_t0),C$Tzj.s_t0),C$Tzj.DotVV(C$Tzj.SubVV(C$Tza,C$Tzg,C$Tzj.s_t0),this.m_localAxisD)),C$Tzo+this.m_ratio*C$Tzs-this.m_constant),C$Tzl=0<C$Tzc?-C$Tzv/C$Tzc:0;return C$Tzh.SelfMulAdd(this.m_mA*C$Tzl,C$Tzx),C$Tzu+=this.m_iA*C$Tzl*C$Tze,C$Tz_.SelfMulAdd(this.m_mB*C$Tzl,C$Tzb),C$Tzd+=this.m_iB*C$Tzl*C$Tzi,C$Tzf.SelfMulSub(this.m_mC*C$Tzl,C$Tzx),C$Tzp-=this.m_iC*C$Tzl*C$Tzn,C$Tzm.SelfMulSub(this.m_mD*C$Tzl,C$Tzb),C$Tzy-=this.m_iD*C$Tzl*C$Tzr,C$Tzt.positions[this.m_indexA].a=C$Tzu,C$Tzt.positions[this.m_indexB].a=C$Tzd,C$Tzt.positions[this.m_indexC].a=C$Tzp,C$Tzt.positions[this.m_indexD].a=C$Tzy,!0;},C$Tzwn.prototype.GetAnchorA=function(C$Tzt){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,C$Tzt);},C$Tzwn.prototype.GetAnchorB=function(C$Tzt){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,C$Tzt);},C$Tzwn.prototype.GetReactionForce=function(C$Tzt,C$Tze){return C$Tzj.MulSV(C$Tzt*this.m_impulse,this.m_JvAC,C$Tze);},C$Tzwn.prototype.GetReactionTorque=function(C$Tzt){return C$Tzt*this.m_impulse*this.m_JwA;},C$Tzwn.prototype.GetJoint1=function(){return this.m_joint1;},C$Tzwn.prototype.GetJoint2=function(){return this.m_joint2;},C$Tzwn.prototype.GetRatio=function(){return this.m_ratio;},C$Tzwn.prototype.SetRatio=function(C$Tzt){this.m_ratio=C$Tzt;},C$Tzwn.prototype.Dump=function(C$Tzt){var C$Tze=this.m_bodyA.m_islandIndex,C$Tzi=this.m_bodyB.m_islandIndex,C$Tzn=this.m_joint1.m_index,C$Tzr=this.m_joint2.m_index;C$Tzt("  const jd: b2GearJointDef = new b2GearJointDef();\n"),C$Tzt("  jd.bodyA = bodies[%d];\n",C$Tze),C$Tzt("  jd.bodyB = bodies[%d];\n",C$Tzi),C$Tzt("  jd.collideConnected = %s;\n",this.m_collideConnected?H[583]:H[1384]),C$Tzt("  jd.joint1 = joints[%d];\n",C$Tzn),C$Tzt("  jd.joint2 = joints[%d];\n",C$Tzr),C$Tzt("  jd.ratio = %.15f;\n",this.m_ratio),C$Tzt("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index);},C$Tzwn.InitVelocityConstraints_s_u=new C$Tzj(),C$Tzwn.InitVelocityConstraints_s_rA=new C$Tzj(),C$Tzwn.InitVelocityConstraints_s_rB=new C$Tzj(),C$Tzwn.InitVelocityConstraints_s_rC=new C$Tzj(),C$Tzwn.InitVelocityConstraints_s_rD=new C$Tzj(),C$Tzwn.SolvePositionConstraints_s_u=new C$Tzj(),C$Tzwn.SolvePositionConstraints_s_rA=new C$Tzj(),C$Tzwn.SolvePositionConstraints_s_rB=new C$Tzj(),C$Tzwn.SolvePositionConstraints_s_rC=new C$Tzj(),C$Tzwn.SolvePositionConstraints_s_rD=new C$Tzj();var C$TzSn,C$TzTn=C$Tzwn;function C$Tzwn(C$Tzt){var C$Tze,C$Tzi,C$Tzn=C$TzSn.call(this,C$Tzt)||this,C$Tzr=(C$Tzn.m_typeA=C$TzH.b2JointType.e_unknownJoint,C$Tzn.m_typeB=C$TzH.b2JointType.e_unknownJoint,C$Tzn.m_localAnchorA=new C$Tzj(),C$Tzn.m_localAnchorB=new C$Tzj(),C$Tzn.m_localAnchorC=new C$Tzj(),C$Tzn.m_localAnchorD=new C$Tzj(),C$Tzn.m_localAxisC=new C$Tzj(),C$Tzn.m_localAxisD=new C$Tzj(),C$Tzn.m_referenceAngleA=0,C$Tzn.m_referenceAngleB=0,C$Tzn.m_constant=0,C$Tzn.m_ratio=0,C$Tzn.m_impulse=0,C$Tzn.m_indexA=0,C$Tzn.m_indexB=0,C$Tzn.m_indexC=0,C$Tzn.m_indexD=0,C$Tzn.m_lcA=new C$Tzj(),C$Tzn.m_lcB=new C$Tzj(),C$Tzn.m_lcC=new C$Tzj(),C$Tzn.m_lcD=new C$Tzj(),C$Tzn.m_mA=0,C$Tzn.m_mB=0,C$Tzn.m_mC=0,C$Tzn.m_mD=0,C$Tzn.m_iA=0,C$Tzn.m_iB=0,C$Tzn.m_iC=0,C$Tzn.m_iD=0,C$Tzn.m_JvAC=new C$Tzj(),C$Tzn.m_JvBD=new C$Tzj(),C$Tzn.m_JwA=0,C$Tzn.m_JwB=0,C$Tzn.m_JwC=0,C$Tzn.m_JwD=0,C$Tzn.m_mass=0,C$Tzn.m_qA=new C$TzB(),C$Tzn.m_qB=new C$TzB(),C$Tzn.m_qC=new C$TzB(),C$Tzn.m_qD=new C$TzB(),C$Tzn.m_lalcA=new C$Tzj(),C$Tzn.m_lalcB=new C$Tzj(),C$Tzn.m_lalcC=new C$Tzj(),C$Tzn.m_lalcD=new C$Tzj(),C$Tzn.m_joint1=C$Tzt.joint1,C$Tzn.m_joint2=C$Tzt.joint2,C$Tzn.m_typeA=C$Tzn.m_joint1.GetType(),C$Tzn.m_typeB=C$Tzn.m_joint2.GetType(),C$Tzn.m_bodyC=C$Tzn.m_joint1.GetBodyA(),C$Tzn.m_bodyA=C$Tzn.m_joint1.GetBodyB(),C$Tzn.m_bodyA.m_xf),C$Tzs=C$Tzn.m_bodyA.m_sweep.a,C$Tzo=C$Tzn.m_bodyC.m_xf,C$Tza=C$Tzn.m_bodyC.m_sweep.a,C$Tzo=(C$Tzr=C$Tzn.m_typeA===C$TzH.b2JointType.e_revoluteJoint?(C$Tzi=C$Tzt.joint1,C$Tzn.m_localAnchorC.Copy(C$Tzi.m_localAnchorA),C$Tzn.m_localAnchorA.Copy(C$Tzi.m_localAnchorB),C$Tzn.m_referenceAngleA=C$Tzi.m_referenceAngle,C$Tzn.m_localAxisC.SetZero(),C$Tzs-C$Tza-C$Tzn.m_referenceAngleA):(C$Tze=C$Tzt.joint1,C$Tzn.m_localAnchorC.Copy(C$Tze.m_localAnchorA),C$Tzn.m_localAnchorA.Copy(C$Tze.m_localAnchorB),C$Tzn.m_referenceAngleA=C$Tze.m_referenceAngle,C$Tzn.m_localAxisC.Copy(C$Tze.m_localXAxisA),C$Tzs=C$Tzn.m_localAnchorC,C$Tza=C$TzB.MulTRV(C$Tzo.q,C$Tzj.AddVV(C$TzB.MulRV(C$Tzr.q,C$Tzn.m_localAnchorA,C$Tzj.s_t0),C$Tzj.SubVV(C$Tzr.p,C$Tzo.p,C$Tzj.s_t1),C$Tzj.s_t0),C$Tzj.s_t0),C$Tzj.DotVV(C$Tzj.SubVV(C$Tza,C$Tzs,C$Tzj.s_t0),C$Tzn.m_localAxisC)),C$Tzn.m_bodyD=C$Tzn.m_joint2.GetBodyA(),C$Tzn.m_bodyB=C$Tzn.m_joint2.GetBodyB(),C$Tzn.m_bodyB.m_xf),C$Tza=C$Tzn.m_bodyB.m_sweep.a,C$Tzs=C$Tzn.m_bodyD.m_xf,C$Tzc=C$Tzn.m_bodyD.m_sweep.a;return C$Tzc=C$Tzn.m_typeB===C$TzH.b2JointType.e_revoluteJoint?(C$Tzi=C$Tzt.joint2,C$Tzn.m_localAnchorD.Copy(C$Tzi.m_localAnchorA),C$Tzn.m_localAnchorB.Copy(C$Tzi.m_localAnchorB),C$Tzn.m_referenceAngleB=C$Tzi.m_referenceAngle,C$Tzn.m_localAxisD.SetZero(),C$Tza-C$Tzc-C$Tzn.m_referenceAngleB):(C$Tze=C$Tzt.joint2,C$Tzn.m_localAnchorD.Copy(C$Tze.m_localAnchorA),C$Tzn.m_localAnchorB.Copy(C$Tze.m_localAnchorB),C$Tzn.m_referenceAngleB=C$Tze.m_referenceAngle,C$Tzn.m_localAxisD.Copy(C$Tze.m_localXAxisA),C$Tzi=C$Tzn.m_localAnchorD,C$Tza=C$TzB.MulTRV(C$Tzs.q,C$Tzj.AddVV(C$TzB.MulRV(C$Tzo.q,C$Tzn.m_localAnchorB,C$Tzj.s_t0),C$Tzj.SubVV(C$Tzo.p,C$Tzs.p,C$Tzj.s_t1),C$Tzj.s_t0),C$Tzj.s_t0),C$Tzj.DotVV(C$Tzj.SubVV(C$Tza,C$Tzi,C$Tzj.s_t0),C$Tzn.m_localAxisD)),C$Tzn.m_ratio=C$Tzf(C$Tzt.ratio,1),C$Tzn.m_constant=C$Tzr+C$Tzn.m_ratio*C$Tzc,C$Tzn.m_impulse=0,C$Tzn;}C$TzDi(C$TzIn,C$TzEn=C$Tz$i),C$TzIn.prototype.Initialize=function(C$Tzt,C$Tze){this.bodyA=C$Tzt,this.bodyB=C$Tze,this.bodyA.GetLocalPoint(this.bodyB.GetPosition(),this.linearOffset);C$Tzt=this.bodyA.GetAngle(),C$Tze=this.bodyB.GetAngle();this.angularOffset=C$Tze-C$Tzt;};var C$TzEn,C$TzMn=C$TzIn;function C$TzIn(){var C$Tzt=C$TzEn.call(this,C$TzH.b2JointType.e_motorJoint)||this;return C$Tzt.linearOffset=new C$Tzj(0,0),C$Tzt.angularOffset=0,C$Tzt.maxForce=1,C$Tzt.maxTorque=1,C$Tzt.correctionFactor=.3,C$Tzt;}C$TzDi(C$TzPn,C$TzBn=C$Tzen),C$TzPn.prototype.GetAnchorA=function(C$Tzt){var C$Tze=this.m_bodyA.GetPosition();return C$Tzt.x=C$Tze.x,C$Tzt.y=C$Tze.y,C$Tzt;},C$TzPn.prototype.GetAnchorB=function(C$Tzt){var C$Tze=this.m_bodyB.GetPosition();return C$Tzt.x=C$Tze.x,C$Tzt.y=C$Tze.y,C$Tzt;},C$TzPn.prototype.GetReactionForce=function(C$Tzt,C$Tze){return C$Tzj.MulSV(C$Tzt,this.m_linearImpulse,C$Tze);},C$TzPn.prototype.GetReactionTorque=function(C$Tzt){return C$Tzt*this.m_angularImpulse;},C$TzPn.prototype.SetLinearOffset=function(C$Tzt){C$Tzj.IsEqualToV(C$Tzt,this.m_linearOffset)||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_linearOffset.Copy(C$Tzt));},C$TzPn.prototype.GetLinearOffset=function(){return this.m_linearOffset;},C$TzPn.prototype.SetAngularOffset=function(C$Tzt){C$Tzt!==this.m_angularOffset&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_angularOffset=C$Tzt);},C$TzPn.prototype.GetAngularOffset=function(){return this.m_angularOffset;},C$TzPn.prototype.SetMaxForce=function(C$Tzt){this.m_maxForce=C$Tzt;},C$TzPn.prototype.GetMaxForce=function(){return this.m_maxForce;},C$TzPn.prototype.SetMaxTorque=function(C$Tzt){this.m_maxTorque=C$Tzt;},C$TzPn.prototype.GetMaxTorque=function(){return this.m_maxTorque;},C$TzPn.prototype.InitVelocityConstraints=function(C$Tzt){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var C$Tzh=C$Tzt.positions[this.m_indexA].c,C$Tze=C$Tzt.positions[this.m_indexA].a,C$Tzu=C$Tzt.velocities[this.m_indexA].v,C$Tzi=C$Tzt.velocities[this.m_indexA].w,C$Tz_=C$Tzt.positions[this.m_indexB].c,C$Tzd=C$Tzt.positions[this.m_indexB].a,C$Tzf=C$Tzt.velocities[this.m_indexB].v,C$Tzp=C$Tzt.velocities[this.m_indexB].w,C$Tzn=this.m_qA.SetAngle(C$Tze),C$Tzr=this.m_qB.SetAngle(C$Tzd),C$Tzn=C$TzB.MulRV(C$Tzn,C$Tzj.SubVV(this.m_linearOffset,this.m_localCenterA,C$Tzj.s_t0),this.m_rA),C$Tzr=C$TzB.MulRV(C$Tzr,C$Tzj.NegV(this.m_localCenterB,C$Tzj.s_t0),this.m_rB),C$Tzs=this.m_invMassA,C$Tzo=this.m_invMassB,C$Tza=this.m_invIA,C$Tzc=this.m_invIB,C$Tzl=this.m_K;C$Tzl.ex.x=C$Tzs+C$Tzo+C$Tza*C$Tzn.y*C$Tzn.y+C$Tzc*C$Tzr.y*C$Tzr.y,C$Tzl.ex.y=-C$Tza*C$Tzn.x*C$Tzn.y-C$Tzc*C$Tzr.x*C$Tzr.y,C$Tzl.ey.x=C$Tzl.ex.y,C$Tzl.ey.y=C$Tzs+C$Tzo+C$Tza*C$Tzn.x*C$Tzn.x+C$Tzc*C$Tzr.x*C$Tzr.x,C$Tzl.GetInverse(this.m_linearMass),this.m_angularMass=C$Tza+C$Tzc,0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass),C$Tzj.SubVV(C$Tzj.AddVV(C$Tz_,C$Tzr,C$Tzj.s_t0),C$Tzj.AddVV(C$Tzh,C$Tzn,C$Tzj.s_t1),this.m_linearError),this.m_angularError=C$Tzd-C$Tze-this.m_angularOffset,C$Tzt.step.warmStarting?(this.m_linearImpulse.SelfMul(C$Tzt.step.dtRatio),this.m_angularImpulse*=C$Tzt.step.dtRatio,C$Tzl=this.m_linearImpulse,C$Tzu.SelfMulSub(C$Tzs,C$Tzl),C$Tzi-=C$Tza*(C$Tzj.CrossVV(C$Tzn,C$Tzl)+this.m_angularImpulse),C$Tzf.SelfMulAdd(C$Tzo,C$Tzl),C$Tzp+=C$Tzc*(C$Tzj.CrossVV(C$Tzr,C$Tzl)+this.m_angularImpulse)):(this.m_linearImpulse.SetZero(),this.m_angularImpulse=0),C$Tzt.velocities[this.m_indexA].w=C$Tzi,C$Tzt.velocities[this.m_indexB].w=C$Tzp;},C$TzPn.prototype.SolveVelocityConstraints=function(C$Tzt){var C$Tze=C$Tzt.velocities[this.m_indexA].v,C$Tzi=C$Tzt.velocities[this.m_indexA].w,C$Tzn=C$Tzt.velocities[this.m_indexB].v,C$Tzr=C$Tzt.velocities[this.m_indexB].w,C$Tzh=this.m_invMassA,C$Tzu=this.m_invMassB,C$Tzs=this.m_invIA,C$Tz_=this.m_invIB,C$Tzd=C$Tzt.step.dt,C$Tzo=C$Tzt.step.inv_dt,C$Tza=C$Tzr-C$Tzi+C$Tzo*this.m_correctionFactor*this.m_angularError,C$Tza=-this.m_angularMass*C$Tza,C$Tzc=this.m_angularImpulse,C$Tzl=C$Tzd*this.m_maxTorque,C$Tzc=(this.m_angularImpulse=C$TzO(this.m_angularImpulse+C$Tza,-C$Tzl,C$Tzl),C$Tzi-=C$Tzs*(C$Tza=this.m_angularImpulse-C$Tzc),this.m_rA),C$Tzf=this.m_rB,C$Tza=C$Tzj.AddVV(C$Tzj.SubVV(C$Tzj.AddVV(C$Tzn,C$Tzj.CrossSV(C$Tzr+=C$Tz_*C$Tza,C$Tzf,C$Tzj.s_t0),C$Tzj.s_t0),C$Tzj.AddVV(C$Tze,C$Tzj.CrossSV(C$Tzi,C$Tzc,C$Tzj.s_t1),C$Tzj.s_t1),C$Tzj.s_t2),C$Tzj.MulSV(C$Tzo*this.m_correctionFactor,this.m_linearError,C$Tzj.s_t3),C$TzPn.SolveVelocityConstraints_s_Cdot_v2),C$Tzo=C$TzF.MulMV(this.m_linearMass,C$Tza,C$TzPn.SolveVelocityConstraints_s_impulse_v2).SelfNeg(),C$Tza=C$TzPn.SolveVelocityConstraints_s_oldImpulse_v2.Copy(this.m_linearImpulse),C$Tzl=(this.m_linearImpulse.SelfAdd(C$Tzo),C$Tzd*this.m_maxForce);this.m_linearImpulse.LengthSquared()>C$Tzl*C$Tzl&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(C$Tzl)),C$Tzj.SubVV(this.m_linearImpulse,C$Tza,C$Tzo),C$Tze.SelfMulSub(C$Tzh,C$Tzo),C$Tzi-=C$Tzs*C$Tzj.CrossVV(C$Tzc,C$Tzo),C$Tzn.SelfMulAdd(C$Tzu,C$Tzo),C$Tzr+=C$Tz_*C$Tzj.CrossVV(C$Tzf,C$Tzo),C$Tzt.velocities[this.m_indexA].w=C$Tzi,C$Tzt.velocities[this.m_indexB].w=C$Tzr;},C$TzPn.prototype.SolvePositionConstraints=function(C$Tzt){return!0;},C$TzPn.prototype.Dump=function(C$Tzt){var C$Tze=this.m_bodyA.m_islandIndex,C$Tzi=this.m_bodyB.m_islandIndex;C$Tzt("  const jd: b2MotorJointDef = new b2MotorJointDef();\n"),C$Tzt("  jd.bodyA = bodies[%d];\n",C$Tze),C$Tzt("  jd.bodyB = bodies[%d];\n",C$Tzi),C$Tzt("  jd.collideConnected = %s;\n",this.m_collideConnected?H[583]:H[1384]),C$Tzt("  jd.linearOffset.Set(%.15f, %.15f);\n",this.m_linearOffset.x,this.m_linearOffset.y),C$Tzt("  jd.angularOffset = %.15f;\n",this.m_angularOffset),C$Tzt("  jd.maxForce = %.15f;\n",this.m_maxForce),C$Tzt("  jd.maxTorque = %.15f;\n",this.m_maxTorque),C$Tzt("  jd.correctionFactor = %.15f;\n",this.m_correctionFactor),C$Tzt("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index);},C$TzPn.SolveVelocityConstraints_s_Cdot_v2=new C$Tzj(),C$TzPn.SolveVelocityConstraints_s_impulse_v2=new C$Tzj(),C$TzPn.SolveVelocityConstraints_s_oldImpulse_v2=new C$Tzj();var C$TzBn,C$TzRn=C$TzPn;function C$TzPn(C$Tzt){var C$Tze=C$TzBn.call(this,C$Tzt)||this;return C$Tze.m_linearOffset=new C$Tzj(),C$Tze.m_angularOffset=0,C$Tze.m_linearImpulse=new C$Tzj(),C$Tze.m_angularImpulse=0,C$Tze.m_maxForce=0,C$Tze.m_maxTorque=0,C$Tze.m_correctionFactor=.3,C$Tze.m_indexA=0,C$Tze.m_indexB=0,C$Tze.m_rA=new C$Tzj(),C$Tze.m_rB=new C$Tzj(),C$Tze.m_localCenterA=new C$Tzj(),C$Tze.m_localCenterB=new C$Tzj(),C$Tze.m_linearError=new C$Tzj(),C$Tze.m_angularError=0,C$Tze.m_invMassA=0,C$Tze.m_invMassB=0,C$Tze.m_invIA=0,C$Tze.m_invIB=0,C$Tze.m_linearMass=new C$TzF(),C$Tze.m_angularMass=0,C$Tze.m_qA=new C$TzB(),C$Tze.m_qB=new C$TzB(),C$Tze.m_K=new C$TzF(),C$Tze.m_linearOffset.Copy(C$Tzf(C$Tzt.linearOffset,C$Tzj.ZERO)),C$Tze.m_linearImpulse.SetZero(),C$Tze.m_maxForce=C$Tzf(C$Tzt.maxForce,0),C$Tze.m_maxTorque=C$Tzf(C$Tzt.maxTorque,0),C$Tze.m_correctionFactor=C$Tzf(C$Tzt.correctionFactor,.3),C$Tze;}C$TzDi(C$TzVn,C$TzDn=C$Tz$i);var C$TzDn,C$TzLn=C$TzVn;function C$TzVn(){var C$Tzt=C$TzDn.call(this,C$TzH.b2JointType.e_mouseJoint)||this;return C$Tzt.target=new C$Tzj(),C$Tzt.maxForce=0,C$Tzt.frequencyHz=5,C$Tzt.dampingRatio=.7,C$Tzt;}C$TzDi(C$TzNn,C$TzOn=C$Tzen),C$TzNn.prototype.SetTarget=function(C$Tzt){this.m_bodyB.IsAwake()||this.m_bodyB.SetAwake(!0),this.m_targetA.Copy(C$Tzt);},C$TzNn.prototype.GetTarget=function(){return this.m_targetA;},C$TzNn.prototype.SetMaxForce=function(C$Tzt){this.m_maxForce=C$Tzt;},C$TzNn.prototype.GetMaxForce=function(){return this.m_maxForce;},C$TzNn.prototype.SetFrequency=function(C$Tzt){this.m_frequencyHz=C$Tzt;},C$TzNn.prototype.GetFrequency=function(){return this.m_frequencyHz;},C$TzNn.prototype.SetDampingRatio=function(C$Tzt){this.m_dampingRatio=C$Tzt;},C$TzNn.prototype.GetDampingRatio=function(){return this.m_dampingRatio;},C$TzNn.prototype.InitVelocityConstraints=function(C$Tzt){this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;var C$Tze=C$Tzt.positions[this.m_indexB].c,C$Tzi=C$Tzt.positions[this.m_indexB].a,C$Tzn=C$Tzt.velocities[this.m_indexB].v,C$Tzr=C$Tzt.velocities[this.m_indexB].w,C$Tzi=this.m_qB.SetAngle(C$Tzi),C$Tzs=this.m_bodyB.GetMass(),C$Tzo=2*C$Tzm*this.m_frequencyHz,C$Tza=2*C$Tzs*this.m_dampingRatio*C$Tzo,C$Tzs=C$Tzs*(C$Tzo*C$Tzo),C$Tzo=C$Tzt.step.dt,C$Tza=(this.m_gamma=C$Tzo*(C$Tza+C$Tzo*C$Tzs),0!==this.m_gamma&&(this.m_gamma=1/this.m_gamma),this.m_beta=C$Tzo*C$Tzs*this.m_gamma,C$Tzj.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),C$TzB.MulRV(C$Tzi,this.m_lalcB,this.m_rB),this.m_K);C$Tza.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,C$Tza.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,C$Tza.ey.x=C$Tza.ex.y,C$Tza.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,C$Tza.GetInverse(this.m_mass),this.m_C.x=C$Tze.x+this.m_rB.x-this.m_targetA.x,this.m_C.y=C$Tze.y+this.m_rB.y-this.m_targetA.y,this.m_C.SelfMul(this.m_beta),C$Tzr*=.98,C$Tzt.step.warmStarting?(this.m_impulse.SelfMul(C$Tzt.step.dtRatio),C$Tzn.x+=this.m_invMassB*this.m_impulse.x,C$Tzn.y+=this.m_invMassB*this.m_impulse.y,C$Tzr+=this.m_invIB*C$Tzj.CrossVV(this.m_rB,this.m_impulse)):this.m_impulse.SetZero(),C$Tzt.velocities[this.m_indexB].w=C$Tzr;},C$TzNn.prototype.SolveVelocityConstraints=function(C$Tzt){var C$Tze=C$Tzt.velocities[this.m_indexB].v,C$Tzi=C$Tzt.velocities[this.m_indexB].w,C$Tzn=C$Tzj.AddVCrossSV(C$Tze,C$Tzi,this.m_rB,C$TzNn.SolveVelocityConstraints_s_Cdot),C$Tzn=C$TzF.MulMV(this.m_mass,C$Tzj.AddVV(C$Tzn,C$Tzj.AddVV(this.m_C,C$Tzj.MulSV(this.m_gamma,this.m_impulse,C$Tzj.s_t0),C$Tzj.s_t0),C$Tzj.s_t0).SelfNeg(),C$TzNn.SolveVelocityConstraints_s_impulse),C$Tzr=C$TzNn.SolveVelocityConstraints_s_oldImpulse.Copy(this.m_impulse),C$Tzs=(this.m_impulse.SelfAdd(C$Tzn),C$Tzt.step.dt*this.m_maxForce);this.m_impulse.LengthSquared()>C$Tzs*C$Tzs&&this.m_impulse.SelfMul(C$Tzs/this.m_impulse.Length()),C$Tzj.SubVV(this.m_impulse,C$Tzr,C$Tzn),C$Tze.SelfMulAdd(this.m_invMassB,C$Tzn),C$Tzi+=this.m_invIB*C$Tzj.CrossVV(this.m_rB,C$Tzn),C$Tzt.velocities[this.m_indexB].w=C$Tzi;},C$TzNn.prototype.SolvePositionConstraints=function(C$Tzt){return!0;},C$TzNn.prototype.GetAnchorA=function(C$Tzt){return C$Tzt.x=this.m_targetA.x,C$Tzt.y=this.m_targetA.y,C$Tzt;},C$TzNn.prototype.GetAnchorB=function(C$Tzt){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,C$Tzt);},C$TzNn.prototype.GetReactionForce=function(C$Tzt,C$Tze){return C$Tzj.MulSV(C$Tzt,this.m_impulse,C$Tze);},C$TzNn.prototype.GetReactionTorque=function(C$Tzt){return 0;},C$TzNn.prototype.Dump=function(C$Tzt){C$Tzt("Mouse joint dumping is not supported.\n");},C$TzNn.prototype.ShiftOrigin=function(C$Tzt){this.m_targetA.SelfSub(C$Tzt);},C$TzNn.SolveVelocityConstraints_s_Cdot=new C$Tzj(),C$TzNn.SolveVelocityConstraints_s_impulse=new C$Tzj(),C$TzNn.SolveVelocityConstraints_s_oldImpulse=new C$Tzj();var C$TzOn,C$TzFn=C$TzNn;function C$TzNn(C$Tzt){var C$Tze=C$TzOn.call(this,C$Tzt)||this;return C$Tze.m_localAnchorB=new C$Tzj(),C$Tze.m_targetA=new C$Tzj(),C$Tze.m_frequencyHz=0,C$Tze.m_dampingRatio=0,C$Tze.m_beta=0,C$Tze.m_impulse=new C$Tzj(),C$Tze.m_maxForce=0,C$Tze.m_gamma=0,C$Tze.m_indexA=0,C$Tze.m_indexB=0,C$Tze.m_rB=new C$Tzj(),C$Tze.m_localCenterB=new C$Tzj(),C$Tze.m_invMassB=0,C$Tze.m_invIB=0,C$Tze.m_mass=new C$TzF(),C$Tze.m_C=new C$Tzj(),C$Tze.m_qB=new C$TzB(),C$Tze.m_lalcB=new C$Tzj(),C$Tze.m_K=new C$TzF(),C$Tze.m_targetA.Copy(C$Tzf(C$Tzt.target,C$Tzj.ZERO)),C$TzR.MulTXV(C$Tze.m_bodyB.GetTransform(),C$Tze.m_targetA,C$Tze.m_localAnchorB),C$Tze.m_maxForce=C$Tzf(C$Tzt.maxForce,0),C$Tze.m_impulse.SetZero(),C$Tze.m_frequencyHz=C$Tzf(C$Tzt.frequencyHz,0),C$Tze.m_dampingRatio=C$Tzf(C$Tzt.dampingRatio,0),C$Tze.m_beta=0,C$Tze.m_gamma=0,C$Tze;}C$TzDi(C$Tzzn,C$Tzkn=C$Tz$i),C$Tzzn.prototype.Initialize=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this.bodyA=C$Tzt,this.bodyB=C$Tze,this.bodyA.GetLocalPoint(C$Tzi,this.localAnchorA),this.bodyB.GetLocalPoint(C$Tzi,this.localAnchorB),this.bodyA.GetLocalVector(C$Tzn,this.localAxisA),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle();};var C$Tzkn,C$TzGn=C$Tzzn;function C$Tzzn(){var C$Tzt=C$Tzkn.call(this,C$TzH.b2JointType.e_prismaticJoint)||this;return C$Tzt.localAnchorA=new C$Tzj(),C$Tzt.localAnchorB=new C$Tzj(),C$Tzt.localAxisA=new C$Tzj(1,0),C$Tzt.referenceAngle=0,C$Tzt.enableLimit=!1,C$Tzt.lowerTranslation=0,C$Tzt.upperTranslation=0,C$Tzt.enableMotor=!1,C$Tzt.maxMotorForce=0,C$Tzt.motorSpeed=0,C$Tzt;}C$TzDi(C$TzHn,C$TzUn=C$Tzen),C$TzHn.prototype.InitVelocityConstraints=function(C$Tzt){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var C$Tze=C$Tzt.positions[this.m_indexA].c,C$Tzi=C$Tzt.positions[this.m_indexA].a,C$Tzh=C$Tzt.velocities[this.m_indexA].v,C$Tzn=C$Tzt.velocities[this.m_indexA].w,C$Tzr=C$Tzt.positions[this.m_indexB].c,C$Tzs=C$Tzt.positions[this.m_indexB].a,C$Tzu=C$Tzt.velocities[this.m_indexB].v,C$Tz_=C$Tzt.velocities[this.m_indexB].w,C$Tzi=this.m_qA.SetAngle(C$Tzi),C$Tzs=this.m_qB.SetAngle(C$Tzs),C$Tzo=(C$Tzj.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),C$TzB.MulRV(C$Tzi,this.m_lalcA,this.m_rA)),C$Tzs=(C$Tzj.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),C$TzB.MulRV(C$Tzs,this.m_lalcB,this.m_rB)),C$Tzr=C$Tzj.AddVV(C$Tzj.SubVV(C$Tzr,C$Tze,C$Tzj.s_t0),C$Tzj.SubVV(C$Tzs,C$Tzo,C$Tzj.s_t1),C$TzHn.InitVelocityConstraints_s_d),C$Tze=this.m_invMassA,C$Tza=this.m_invMassB,C$Tzc=this.m_invIA,C$Tzl=this.m_invIB;C$TzB.MulRV(C$Tzi,this.m_localXAxisA,this.m_axis),this.m_a1=C$Tzj.CrossVV(C$Tzj.AddVV(C$Tzr,C$Tzo,C$Tzj.s_t0),this.m_axis),this.m_a2=C$Tzj.CrossVV(C$Tzs,this.m_axis),this.m_motorMass=C$Tze+C$Tza+C$Tzc*this.m_a1*this.m_a1+C$Tzl*this.m_a2*this.m_a2,0<this.m_motorMass&&(this.m_motorMass=1/this.m_motorMass),C$TzB.MulRV(C$Tzi,this.m_localYAxisA,this.m_perp),this.m_s1=C$Tzj.CrossVV(C$Tzj.AddVV(C$Tzr,C$Tzo,C$Tzj.s_t0),this.m_perp),this.m_s2=C$Tzj.CrossVV(C$Tzs,this.m_perp),this.m_K.ex.x=C$Tze+C$Tza+C$Tzc*this.m_s1*this.m_s1+C$Tzl*this.m_s2*this.m_s2,this.m_K.ex.y=C$Tzc*this.m_s1+C$Tzl*this.m_s2,this.m_K.ex.z=C$Tzc*this.m_s1*this.m_a1+C$Tzl*this.m_s2*this.m_a2,this.m_K.ey.x=this.m_K.ex.y,this.m_K.ey.y=C$Tzc+C$Tzl,0===this.m_K.ey.y&&(this.m_K.ey.y=1),this.m_K.ey.z=C$Tzc*this.m_a1+C$Tzl*this.m_a2,this.m_K.ez.x=this.m_K.ex.z,this.m_K.ez.y=this.m_K.ey.z,this.m_K.ez.z=C$Tze+C$Tza+C$Tzc*this.m_a1*this.m_a1+C$Tzl*this.m_a2*this.m_a2,this.m_enableLimit?(C$Tzi=C$Tzj.DotVV(this.m_axis,C$Tzr),C$TzD(this.m_upperTranslation-this.m_lowerTranslation)<.016?this.m_limitState=C$TzH.b2LimitState.e_equalLimits:C$Tzi<=this.m_lowerTranslation?this.m_limitState!==C$TzH.b2LimitState.e_atLowerLimit&&(this.m_limitState=C$TzH.b2LimitState.e_atLowerLimit,this.m_impulse.z=0):C$Tzi>=this.m_upperTranslation?this.m_limitState!==C$TzH.b2LimitState.e_atUpperLimit&&(this.m_limitState=C$TzH.b2LimitState.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=C$TzH.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)):(this.m_limitState=C$TzH.b2LimitState.e_inactiveLimit,this.m_impulse.z=0),this.m_enableMotor||(this.m_motorImpulse=0),C$Tzt.step.warmStarting?(this.m_impulse.SelfMul(C$Tzt.step.dtRatio),this.m_motorImpulse*=C$Tzt.step.dtRatio,C$Tzo=C$Tzj.AddVV(C$Tzj.MulSV(this.m_impulse.x,this.m_perp,C$Tzj.s_t0),C$Tzj.MulSV(this.m_motorImpulse+this.m_impulse.z,this.m_axis,C$Tzj.s_t1),C$TzHn.InitVelocityConstraints_s_P),C$Tzs=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,C$Tzr=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2,C$Tzh.SelfMulSub(C$Tze,C$Tzo),C$Tzn-=C$Tzc*C$Tzs,C$Tzu.SelfMulAdd(C$Tza,C$Tzo),C$Tz_+=C$Tzl*C$Tzr):(this.m_impulse.SetZero(),this.m_motorImpulse=0),C$Tzt.velocities[this.m_indexA].w=C$Tzn,C$Tzt.velocities[this.m_indexB].w=C$Tz_;},C$TzHn.prototype.SolveVelocityConstraints=function(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzh=C$Tzt.velocities[this.m_indexA].v,C$Tzc=C$Tzt.velocities[this.m_indexA].w,C$Tzu=C$Tzt.velocities[this.m_indexB].v,C$Tzl=C$Tzt.velocities[this.m_indexB].w,C$Tz_=this.m_invMassA,C$Tzd=this.m_invMassB,C$Tzf=this.m_invIA,C$Tzp=this.m_invIB,C$Tzm=(this.m_enableMotor&&this.m_limitState!==C$TzH.b2LimitState.e_equalLimits&&(C$Tza=C$Tzj.DotVV(this.m_axis,C$Tzj.SubVV(C$Tzu,C$Tzh,C$Tzj.s_t0))+this.m_a2*C$Tzl-this.m_a1*C$Tzc,C$Tza=this.m_motorMass*(this.m_motorSpeed-C$Tza),C$Tzo=this.m_motorImpulse,C$Tzs=C$Tzt.step.dt*this.m_maxMotorForce,this.m_motorImpulse=C$TzO(this.m_motorImpulse+C$Tza,-C$Tzs,C$Tzs),C$Tza=this.m_motorImpulse-C$Tzo,C$Tzs=C$Tzj.MulSV(C$Tza,this.m_axis,C$TzHn.SolveVelocityConstraints_s_P),C$Tzo=C$Tza*this.m_a1,C$Tza=C$Tza*this.m_a2,C$Tzh.SelfMulSub(C$Tz_,C$Tzs),C$Tzc-=C$Tzf*C$Tzo,C$Tzu.SelfMulAdd(C$Tzd,C$Tzs),C$Tzl+=C$Tzp*C$Tza),C$Tzj.DotVV(this.m_perp,C$Tzj.SubVV(C$Tzu,C$Tzh,C$Tzj.s_t0))+this.m_s2*C$Tzl-this.m_s1*C$Tzc),C$Tzy=C$Tzl-C$Tzc;C$Tza=this.m_enableLimit&&this.m_limitState!==C$TzH.b2LimitState.e_inactiveLimit?(C$Tzi=C$Tzj.DotVV(this.m_axis,C$Tzj.SubVV(C$Tzu,C$Tzh,C$Tzj.s_t0))+this.m_a2*C$Tzl-this.m_a1*C$Tzc,C$Tze=C$TzHn.SolveVelocityConstraints_s_f1.Copy(this.m_impulse),C$Tzi=this.m_K.Solve33(-C$Tzm,-C$Tzy,-C$Tzi,C$TzHn.SolveVelocityConstraints_s_df3),this.m_impulse.SelfAdd(C$Tzi),this.m_limitState===C$TzH.b2LimitState.e_atLowerLimit?this.m_impulse.z=C$TzV(this.m_impulse.z,0):this.m_limitState===C$TzH.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=C$TzL(this.m_impulse.z,0)),C$Tzn=-C$Tzm-(this.m_impulse.z-C$Tze.z)*this.m_K.ez.x,C$Tzr=-C$Tzy-(this.m_impulse.z-C$Tze.z)*this.m_K.ez.y,(C$Tzn=this.m_K.Solve22(C$Tzn,C$Tzr,C$TzHn.SolveVelocityConstraints_s_f2r)).x+=C$Tze.x,C$Tzn.y+=C$Tze.y,this.m_impulse.x=C$Tzn.x,this.m_impulse.y=C$Tzn.y,C$Tzi.x=this.m_impulse.x-C$Tze.x,C$Tzi.y=this.m_impulse.y-C$Tze.y,C$Tzi.z=this.m_impulse.z-C$Tze.z,C$Tzs=C$Tzj.AddVV(C$Tzj.MulSV(C$Tzi.x,this.m_perp,C$Tzj.s_t0),C$Tzj.MulSV(C$Tzi.z,this.m_axis,C$Tzj.s_t1),C$TzHn.SolveVelocityConstraints_s_P),C$Tzo=C$Tzi.x*this.m_s1+C$Tzi.y+C$Tzi.z*this.m_a1,C$Tzi.x*this.m_s2+C$Tzi.y+C$Tzi.z*this.m_a2):(C$Tzr=this.m_K.Solve22(-C$Tzm,-C$Tzy,C$TzHn.SolveVelocityConstraints_s_df2),this.m_impulse.x+=C$Tzr.x,this.m_impulse.y+=C$Tzr.y,C$Tzs=C$Tzj.MulSV(C$Tzr.x,this.m_perp,C$TzHn.SolveVelocityConstraints_s_P),C$Tzo=C$Tzr.x*this.m_s1+C$Tzr.y,C$Tzr.x*this.m_s2+C$Tzr.y),C$Tzh.SelfMulSub(C$Tz_,C$Tzs),C$Tzc-=C$Tzf*C$Tzo,C$Tzu.SelfMulAdd(C$Tzd,C$Tzs),C$Tzl+=C$Tzp*C$Tza,C$Tzt.velocities[this.m_indexA].w=C$Tzc,C$Tzt.velocities[this.m_indexB].w=C$Tzl;},C$TzHn.prototype.SolvePositionConstraints=function(C$Tzt){var C$Tzh,C$Tzu,C$Tz_,C$Tzd=C$Tzt.positions[this.m_indexA].c,C$Tzf=C$Tzt.positions[this.m_indexA].a,C$Tzp=C$Tzt.positions[this.m_indexB].c,C$Tzm=C$Tzt.positions[this.m_indexB].a,C$Tze=this.m_qA.SetAngle(C$Tzf),C$Tzi=this.m_qB.SetAngle(C$Tzm),C$Tzy=this.m_invMassA,C$Tzg=this.m_invMassB,C$Tzn=this.m_invIA,C$Tzr=this.m_invIB,C$Tzs=C$TzB.MulRV(C$Tze,this.m_lalcA,this.m_rA),C$Tzi=C$TzB.MulRV(C$Tzi,this.m_lalcB,this.m_rB),C$Tzo=C$Tzj.SubVV(C$Tzj.AddVV(C$Tzp,C$Tzi,C$Tzj.s_t0),C$Tzj.AddVV(C$Tzd,C$Tzs,C$Tzj.s_t1),C$TzHn.SolvePositionConstraints_s_d),C$Tzv=C$TzB.MulRV(C$Tze,this.m_localXAxisA,this.m_axis),C$Tzx=C$Tzj.CrossVV(C$Tzj.AddVV(C$Tzo,C$Tzs,C$Tzj.s_t0),C$Tzv),C$Tzb=C$Tzj.CrossVV(C$Tzi,C$Tzv),C$Tze=C$TzB.MulRV(C$Tze,this.m_localYAxisA,this.m_perp),C$Tzs=C$Tzj.CrossVV(C$Tzj.AddVV(C$Tzo,C$Tzs,C$Tzj.s_t0),C$Tze),C$Tzi=C$Tzj.CrossVV(C$Tzi,C$Tze),C$Tza=C$TzHn.SolvePositionConstraints_s_impulse,C$TzA=C$Tzj.DotVV(C$Tze,C$Tzo),C$TzC=C$Tzm-C$Tzf-this.m_referenceAngle,C$Tzc=C$TzD(C$TzA),C$TzS=C$TzD(C$TzC),C$Tzl=!1,C$TzT=0,C$Tzl=(this.m_enableLimit&&(C$Tzo=C$Tzj.DotVV(C$Tzv,C$Tzo),C$TzD(this.m_upperTranslation-this.m_lowerTranslation)<.016?(C$TzT=C$TzO(C$Tzo,-.2,.2),C$Tzc=C$TzV(C$Tzc,C$TzD(C$Tzo)),C$Tzl=!0):C$Tzo<=this.m_lowerTranslation?(C$TzT=C$TzO(C$Tzo-this.m_lowerTranslation+.008,-.2,0),C$Tzc=C$TzV(C$Tzc,this.m_lowerTranslation-C$Tzo),C$Tzl=!0):C$Tzo>=this.m_upperTranslation&&(C$TzT=C$TzO(C$Tzo-this.m_upperTranslation-.008,0,.2),C$Tzc=C$TzV(C$Tzc,C$Tzo-this.m_upperTranslation),C$Tzl=!0)),C$Tzl?(0===(C$Tzu=C$Tzn+C$Tzr)&&(C$Tzu=1),C$Tzo=C$Tzn*C$Tzx+C$Tzr*C$Tzb,C$Tzl=C$Tzy+C$Tzg+C$Tzn*C$Tzx*C$Tzx+C$Tzr*C$Tzb*C$Tzb,(C$Tzw=this.m_K3).ex.SetXYZ(C$Tzy+C$Tzg+C$Tzn*C$Tzs*C$Tzs+C$Tzr*C$Tzi*C$Tzi,C$Tzh=C$Tzn*C$Tzs+C$Tzr*C$Tzi,C$Tz_=C$Tzn*C$Tzs*C$Tzx+C$Tzr*C$Tzi*C$Tzb),C$Tzw.ey.SetXYZ(C$Tzh,C$Tzu,C$Tzo),C$Tzw.ez.SetXYZ(C$Tz_,C$Tzo,C$Tzl),C$Tza=C$Tzw.Solve33(-C$TzA,-C$TzC,-C$TzT,C$Tza)):(0===(C$Tzu=C$Tzn+C$Tzr)&&(C$Tzu=1),(C$Tz_=this.m_K2).ex.Set(C$Tzy+C$Tzg+C$Tzn*C$Tzs*C$Tzs+C$Tzr*C$Tzi*C$Tzi,C$Tzh=C$Tzn*C$Tzs+C$Tzr*C$Tzi),C$Tz_.ey.Set(C$Tzh,C$Tzu),C$Tzo=C$Tz_.Solve(-C$TzA,-C$TzC,C$TzHn.SolvePositionConstraints_s_impulse1),C$Tza.x=C$Tzo.x,C$Tza.y=C$Tzo.y,C$Tza.z=0),C$Tzj.AddVV(C$Tzj.MulSV(C$Tza.x,C$Tze,C$Tzj.s_t0),C$Tzj.MulSV(C$Tza.z,C$Tzv,C$Tzj.s_t1),C$TzHn.SolvePositionConstraints_s_P)),C$Tzw=C$Tza.x*C$Tzs+C$Tza.y+C$Tza.z*C$Tzx,C$TzT=C$Tza.x*C$Tzi+C$Tza.y+C$Tza.z*C$Tzb;return C$Tzd.SelfMulSub(C$Tzy,C$Tzl),C$Tzf-=C$Tzn*C$Tzw,C$Tzp.SelfMulAdd(C$Tzg,C$Tzl),C$Tzm+=C$Tzr*C$TzT,C$Tzt.positions[this.m_indexA].a=C$Tzf,C$Tzt.positions[this.m_indexB].a=C$Tzm,C$Tzc<=.008&&C$TzS<=C$TzI;},C$TzHn.prototype.GetAnchorA=function(C$Tzt){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,C$Tzt);},C$TzHn.prototype.GetAnchorB=function(C$Tzt){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,C$Tzt);},C$TzHn.prototype.GetReactionForce=function(C$Tzt,C$Tze){return C$Tze.x=C$Tzt*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),C$Tze.y=C$Tzt*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y),C$Tze;},C$TzHn.prototype.GetReactionTorque=function(C$Tzt){return C$Tzt*this.m_impulse.y;},C$TzHn.prototype.GetLocalAnchorA=function(){return this.m_localAnchorA;},C$TzHn.prototype.GetLocalAnchorB=function(){return this.m_localAnchorB;},C$TzHn.prototype.GetLocalAxisA=function(){return this.m_localXAxisA;},C$TzHn.prototype.GetReferenceAngle=function(){return this.m_referenceAngle;},C$TzHn.prototype.GetJointTranslation=function(){var C$Tzt=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,C$TzHn.GetJointTranslation_s_pA),C$Tze=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,C$TzHn.GetJointTranslation_s_pB),C$Tze=C$Tzj.SubVV(C$Tze,C$Tzt,C$TzHn.GetJointTranslation_s_d),C$Tzt=this.m_bodyA.GetWorldVector(this.m_localXAxisA,C$TzHn.GetJointTranslation_s_axis);return C$Tzj.DotVV(C$Tze,C$Tzt);},C$TzHn.prototype.GetJointSpeed=function(){var C$Tzt=this.m_bodyA,C$Tze=this.m_bodyB,C$Tzi=(C$Tzj.SubVV(this.m_localAnchorA,C$Tzt.m_sweep.localCenter,this.m_lalcA),C$TzB.MulRV(C$Tzt.m_xf.q,this.m_lalcA,this.m_rA)),C$Tzn=(C$Tzj.SubVV(this.m_localAnchorB,C$Tze.m_sweep.localCenter,this.m_lalcB),C$TzB.MulRV(C$Tze.m_xf.q,this.m_lalcB,this.m_rB)),C$Tzr=C$Tzj.AddVV(C$Tzt.m_sweep.c,C$Tzi,C$Tzj.s_t0),C$Tzs=C$Tzj.AddVV(C$Tze.m_sweep.c,C$Tzn,C$Tzj.s_t1),C$Tzs=C$Tzj.SubVV(C$Tzs,C$Tzr,C$Tzj.s_t2),C$Tzr=C$Tzt.GetWorldVector(this.m_localXAxisA,this.m_axis),C$Tzo=C$Tzt.m_linearVelocity,C$Tza=C$Tze.m_linearVelocity,C$Tzt=C$Tzt.m_angularVelocity,C$Tze=C$Tze.m_angularVelocity;return C$Tzj.DotVV(C$Tzs,C$Tzj.CrossSV(C$Tzt,C$Tzr,C$Tzj.s_t0))+C$Tzj.DotVV(C$Tzr,C$Tzj.SubVV(C$Tzj.AddVCrossSV(C$Tza,C$Tze,C$Tzn,C$Tzj.s_t0),C$Tzj.AddVCrossSV(C$Tzo,C$Tzt,C$Tzi,C$Tzj.s_t1),C$Tzj.s_t0));},C$TzHn.prototype.IsLimitEnabled=function(){return this.m_enableLimit;},C$TzHn.prototype.EnableLimit=function(C$Tzt){C$Tzt!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=C$Tzt,this.m_impulse.z=0);},C$TzHn.prototype.GetLowerLimit=function(){return this.m_lowerTranslation;},C$TzHn.prototype.GetUpperLimit=function(){return this.m_upperTranslation;},C$TzHn.prototype.SetLimits=function(C$Tzt,C$Tze){C$Tzt===this.m_lowerTranslation&&C$Tze===this.m_upperTranslation||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=C$Tzt,this.m_upperTranslation=C$Tze,this.m_impulse.z=0);},C$TzHn.prototype.IsMotorEnabled=function(){return this.m_enableMotor;},C$TzHn.prototype.EnableMotor=function(C$Tzt){C$Tzt!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=C$Tzt);},C$TzHn.prototype.SetMotorSpeed=function(C$Tzt){C$Tzt!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=C$Tzt);},C$TzHn.prototype.GetMotorSpeed=function(){return this.m_motorSpeed;},C$TzHn.prototype.SetMaxMotorForce=function(C$Tzt){C$Tzt!==this.m_maxMotorForce&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=C$Tzt);},C$TzHn.prototype.GetMaxMotorForce=function(){return this.m_maxMotorForce;},C$TzHn.prototype.GetMotorForce=function(C$Tzt){return C$Tzt*this.m_motorImpulse;},C$TzHn.prototype.Dump=function(C$Tzt){var C$Tze=this.m_bodyA.m_islandIndex,C$Tzi=this.m_bodyB.m_islandIndex;C$Tzt("  const jd: b2PrismaticJointDef = new b2PrismaticJointDef();\n"),C$Tzt("  jd.bodyA = bodies[%d];\n",C$Tze),C$Tzt("  jd.bodyB = bodies[%d];\n",C$Tzi),C$Tzt("  jd.collideConnected = %s;\n",this.m_collideConnected?H[583]:H[1384]),C$Tzt("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),C$Tzt("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),C$Tzt("  jd.localAxisA.Set(%.15f, %.15f);\n",this.m_localXAxisA.x,this.m_localXAxisA.y),C$Tzt("  jd.referenceAngle = %.15f;\n",this.m_referenceAngle),C$Tzt("  jd.enableLimit = %s;\n",this.m_enableLimit?H[583]:H[1384]),C$Tzt("  jd.lowerTranslation = %.15f;\n",this.m_lowerTranslation),C$Tzt("  jd.upperTranslation = %.15f;\n",this.m_upperTranslation),C$Tzt("  jd.enableMotor = %s;\n",this.m_enableMotor?H[583]:H[1384]),C$Tzt("  jd.motorSpeed = %.15f;\n",this.m_motorSpeed),C$Tzt("  jd.maxMotorForce = %.15f;\n",this.m_maxMotorForce),C$Tzt("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index);},C$TzHn.InitVelocityConstraints_s_d=new C$Tzj(),C$TzHn.InitVelocityConstraints_s_P=new C$Tzj(),C$TzHn.SolveVelocityConstraints_s_P=new C$Tzj(),C$TzHn.SolveVelocityConstraints_s_f2r=new C$Tzj(),C$TzHn.SolveVelocityConstraints_s_f1=new C$Tzb(),C$TzHn.SolveVelocityConstraints_s_df3=new C$Tzb(),C$TzHn.SolveVelocityConstraints_s_df2=new C$Tzj(),C$TzHn.SolvePositionConstraints_s_d=new C$Tzj(),C$TzHn.SolvePositionConstraints_s_impulse=new C$Tzb(),C$TzHn.SolvePositionConstraints_s_impulse1=new C$Tzj(),C$TzHn.SolvePositionConstraints_s_P=new C$Tzj(),C$TzHn.GetJointTranslation_s_pA=new C$Tzj(),C$TzHn.GetJointTranslation_s_pB=new C$Tzj(),C$TzHn.GetJointTranslation_s_d=new C$Tzj(),C$TzHn.GetJointTranslation_s_axis=new C$Tzj();var C$TzUn,C$TzWn=C$TzHn;function C$TzHn(C$Tzt){var C$Tze=C$TzUn.call(this,C$Tzt)||this;return C$Tze.m_localAnchorA=new C$Tzj(),C$Tze.m_localAnchorB=new C$Tzj(),C$Tze.m_localXAxisA=new C$Tzj(),C$Tze.m_localYAxisA=new C$Tzj(),C$Tze.m_referenceAngle=0,C$Tze.m_impulse=new C$Tzb(0,0,0),C$Tze.m_motorImpulse=0,C$Tze.m_lowerTranslation=0,C$Tze.m_upperTranslation=0,C$Tze.m_maxMotorForce=0,C$Tze.m_motorSpeed=0,C$Tze.m_enableLimit=!1,C$Tze.m_enableMotor=!1,C$Tze.m_limitState=C$TzH.b2LimitState.e_inactiveLimit,C$Tze.m_indexA=0,C$Tze.m_indexB=0,C$Tze.m_localCenterA=new C$Tzj(),C$Tze.m_localCenterB=new C$Tzj(),C$Tze.m_invMassA=0,C$Tze.m_invMassB=0,C$Tze.m_invIA=0,C$Tze.m_invIB=0,C$Tze.m_axis=new C$Tzj(0,0),C$Tze.m_perp=new C$Tzj(0,0),C$Tze.m_s1=0,C$Tze.m_s2=0,C$Tze.m_a1=0,C$Tze.m_a2=0,C$Tze.m_K=new C$Tzk(),C$Tze.m_K3=new C$Tzk(),C$Tze.m_K2=new C$TzF(),C$Tze.m_motorMass=0,C$Tze.m_qA=new C$TzB(),C$Tze.m_qB=new C$TzB(),C$Tze.m_lalcA=new C$Tzj(),C$Tze.m_lalcB=new C$Tzj(),C$Tze.m_rA=new C$Tzj(),C$Tze.m_rB=new C$Tzj(),C$Tze.m_localAnchorA.Copy(C$Tzf(C$Tzt.localAnchorA,C$Tzj.ZERO)),C$Tze.m_localAnchorB.Copy(C$Tzf(C$Tzt.localAnchorB,C$Tzj.ZERO)),C$Tze.m_localXAxisA.Copy(C$Tzf(C$Tzt.localAxisA,new C$Tzj(1,0))).SelfNormalize(),C$Tzj.CrossOneV(C$Tze.m_localXAxisA,C$Tze.m_localYAxisA),C$Tze.m_referenceAngle=C$Tzf(C$Tzt.referenceAngle,0),C$Tze.m_lowerTranslation=C$Tzf(C$Tzt.lowerTranslation,0),C$Tze.m_upperTranslation=C$Tzf(C$Tzt.upperTranslation,0),C$Tze.m_maxMotorForce=C$Tzf(C$Tzt.maxMotorForce,0),C$Tze.m_motorSpeed=C$Tzf(C$Tzt.motorSpeed,0),C$Tze.m_enableLimit=C$Tzf(C$Tzt.enableLimit,!1),C$Tze.m_enableMotor=C$Tzf(C$Tzt.enableMotor,!1),C$Tze;}C$TzDi(C$TzYn,C$Tzjn=C$Tz$i),C$TzYn.prototype.Initialize=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo){this.bodyA=C$Tzt,this.bodyB=C$Tze,this.groundAnchorA.Copy(C$Tzi),this.groundAnchorB.Copy(C$Tzn),this.bodyA.GetLocalPoint(C$Tzr,this.localAnchorA),this.bodyB.GetLocalPoint(C$Tzs,this.localAnchorB),this.lengthA=C$Tzj.DistanceVV(C$Tzr,C$Tzi),this.lengthB=C$Tzj.DistanceVV(C$Tzs,C$Tzn),this.ratio=C$Tzo;};var C$Tzjn,C$TzXn=C$TzYn;function C$TzYn(){var C$Tzt=C$Tzjn.call(this,C$TzH.b2JointType.e_pulleyJoint)||this;return C$Tzt.groundAnchorA=new C$Tzj(-1,1),C$Tzt.groundAnchorB=new C$Tzj(1,1),C$Tzt.localAnchorA=new C$Tzj(-1,0),C$Tzt.localAnchorB=new C$Tzj(1,0),C$Tzt.lengthA=0,C$Tzt.lengthB=0,C$Tzt.ratio=1,C$Tzt.collideConnected=!0,C$Tzt;}C$TzDi(C$TzZn,C$Tzqn=C$Tzen),C$TzZn.prototype.InitVelocityConstraints=function(C$Tzt){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var C$Tze=C$Tzt.positions[this.m_indexA].c,C$Tzi=C$Tzt.positions[this.m_indexA].a,C$Tzn=C$Tzt.velocities[this.m_indexA].v,C$Tzr=C$Tzt.velocities[this.m_indexA].w,C$Tzs=C$Tzt.positions[this.m_indexB].c,C$Tzo=C$Tzt.positions[this.m_indexB].a,C$Tza=C$Tzt.velocities[this.m_indexB].v,C$Tzc=C$Tzt.velocities[this.m_indexB].w,C$Tzi=this.m_qA.SetAngle(C$Tzi),C$Tzo=this.m_qB.SetAngle(C$Tzo),C$Tzi=(C$Tzj.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),C$TzB.MulRV(C$Tzi,this.m_lalcA,this.m_rA),C$Tzj.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),C$TzB.MulRV(C$Tzo,this.m_lalcB,this.m_rB),this.m_uA.Copy(C$Tze).SelfAdd(this.m_rA).SelfSub(this.m_groundAnchorA),this.m_uB.Copy(C$Tzs).SelfAdd(this.m_rB).SelfSub(this.m_groundAnchorB),this.m_uA.Length()),C$Tzo=this.m_uB.Length(),C$Tze=(.08<C$Tzi?this.m_uA.SelfMul(1/C$Tzi):this.m_uA.SetZero(),.08<C$Tzo?this.m_uB.SelfMul(1/C$Tzo):this.m_uB.SetZero(),C$Tzj.CrossVV(this.m_rA,this.m_uA)),C$Tzs=C$Tzj.CrossVV(this.m_rB,this.m_uB),C$Tzi=this.m_invMassA+this.m_invIA*C$Tze*C$Tze,C$Tzo=this.m_invMassB+this.m_invIB*C$Tzs*C$Tzs;this.m_mass=C$Tzi+this.m_ratio*this.m_ratio*C$Tzo,0<this.m_mass&&(this.m_mass=1/this.m_mass),C$Tzt.step.warmStarting?(this.m_impulse*=C$Tzt.step.dtRatio,C$Tze=C$Tzj.MulSV(-this.m_impulse,this.m_uA,C$TzZn.InitVelocityConstraints_s_PA),C$Tzs=C$Tzj.MulSV(-this.m_ratio*this.m_impulse,this.m_uB,C$TzZn.InitVelocityConstraints_s_PB),C$Tzn.SelfMulAdd(this.m_invMassA,C$Tze),C$Tzr+=this.m_invIA*C$Tzj.CrossVV(this.m_rA,C$Tze),C$Tza.SelfMulAdd(this.m_invMassB,C$Tzs),C$Tzc+=this.m_invIB*C$Tzj.CrossVV(this.m_rB,C$Tzs)):this.m_impulse=0,C$Tzt.velocities[this.m_indexA].w=C$Tzr,C$Tzt.velocities[this.m_indexB].w=C$Tzc;},C$TzZn.prototype.SolveVelocityConstraints=function(C$Tzt){var C$Tze=C$Tzt.velocities[this.m_indexA].v,C$Tzi=C$Tzt.velocities[this.m_indexA].w,C$Tzn=C$Tzt.velocities[this.m_indexB].v,C$Tzr=C$Tzt.velocities[this.m_indexB].w,C$Tzs=C$Tzj.AddVCrossSV(C$Tze,C$Tzi,this.m_rA,C$TzZn.SolveVelocityConstraints_s_vpA),C$Tzo=C$Tzj.AddVCrossSV(C$Tzn,C$Tzr,this.m_rB,C$TzZn.SolveVelocityConstraints_s_vpB),C$Tzs=-C$Tzj.DotVV(this.m_uA,C$Tzs)-this.m_ratio*C$Tzj.DotVV(this.m_uB,C$Tzo),C$Tzo=-this.m_mass*C$Tzs,C$Tzs=(this.m_impulse+=C$Tzo,C$Tzj.MulSV(-C$Tzo,this.m_uA,C$TzZn.SolveVelocityConstraints_s_PA)),C$Tzo=C$Tzj.MulSV(-this.m_ratio*C$Tzo,this.m_uB,C$TzZn.SolveVelocityConstraints_s_PB);C$Tze.SelfMulAdd(this.m_invMassA,C$Tzs),C$Tzi+=this.m_invIA*C$Tzj.CrossVV(this.m_rA,C$Tzs),C$Tzn.SelfMulAdd(this.m_invMassB,C$Tzo),C$Tzr+=this.m_invIB*C$Tzj.CrossVV(this.m_rB,C$Tzo),C$Tzt.velocities[this.m_indexA].w=C$Tzi,C$Tzt.velocities[this.m_indexB].w=C$Tzr;},C$TzZn.prototype.SolvePositionConstraints=function(C$Tzt){var C$Tzh=C$Tzt.positions[this.m_indexA].c,C$Tze=C$Tzt.positions[this.m_indexA].a,C$Tzu=C$Tzt.positions[this.m_indexB].c,C$Tz_=C$Tzt.positions[this.m_indexB].a,C$Tzi=this.m_qA.SetAngle(C$Tze),C$Tzn=this.m_qB.SetAngle(C$Tz_),C$Tzi=(C$Tzj.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),C$TzB.MulRV(C$Tzi,this.m_lalcA,this.m_rA)),C$Tzn=(C$Tzj.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),C$TzB.MulRV(C$Tzn,this.m_lalcB,this.m_rB)),C$Tzr=this.m_uA.Copy(C$Tzh).SelfAdd(C$Tzi).SelfSub(this.m_groundAnchorA),C$Tzs=this.m_uB.Copy(C$Tzu).SelfAdd(C$Tzn).SelfSub(this.m_groundAnchorB),C$Tzo=C$Tzr.Length(),C$Tza=C$Tzs.Length(),C$Tzc=(.08<C$Tzo?C$Tzr.SelfMul(1/C$Tzo):C$Tzr.SetZero(),.08<C$Tza?C$Tzs.SelfMul(1/C$Tza):C$Tzs.SetZero(),C$Tzj.CrossVV(C$Tzi,C$Tzr)),C$Tzl=C$Tzj.CrossVV(C$Tzn,C$Tzs),C$Tzc=this.m_invMassA+this.m_invIA*C$Tzc*C$Tzc,C$Tzl=this.m_invMassB+this.m_invIB*C$Tzl*C$Tzl,C$Tzc=C$Tzc+this.m_ratio*this.m_ratio*C$Tzl,C$Tzl=(0<C$Tzc&&(C$Tzc=1/C$Tzc),this.m_constant-C$Tzo-this.m_ratio*C$Tza),C$Tzo=C$TzD(C$Tzl),C$Tza=-C$Tzc*C$Tzl,C$Tzc=C$Tzj.MulSV(-C$Tza,C$Tzr,C$TzZn.SolvePositionConstraints_s_PA),C$Tzl=C$Tzj.MulSV(-this.m_ratio*C$Tza,C$Tzs,C$TzZn.SolvePositionConstraints_s_PB);return C$Tzh.SelfMulAdd(this.m_invMassA,C$Tzc),C$Tze+=this.m_invIA*C$Tzj.CrossVV(C$Tzi,C$Tzc),C$Tzu.SelfMulAdd(this.m_invMassB,C$Tzl),C$Tz_+=this.m_invIB*C$Tzj.CrossVV(C$Tzn,C$Tzl),C$Tzt.positions[this.m_indexA].a=C$Tze,C$Tzt.positions[this.m_indexB].a=C$Tz_,C$Tzo<.008;},C$TzZn.prototype.GetAnchorA=function(C$Tzt){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,C$Tzt);},C$TzZn.prototype.GetAnchorB=function(C$Tzt){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,C$Tzt);},C$TzZn.prototype.GetReactionForce=function(C$Tzt,C$Tze){return C$Tze.x=C$Tzt*this.m_impulse*this.m_uB.x,C$Tze.y=C$Tzt*this.m_impulse*this.m_uB.y,C$Tze;},C$TzZn.prototype.GetReactionTorque=function(C$Tzt){return 0;},C$TzZn.prototype.GetGroundAnchorA=function(){return this.m_groundAnchorA;},C$TzZn.prototype.GetGroundAnchorB=function(){return this.m_groundAnchorB;},C$TzZn.prototype.GetLengthA=function(){return this.m_lengthA;},C$TzZn.prototype.GetLengthB=function(){return this.m_lengthB;},C$TzZn.prototype.GetRatio=function(){return this.m_ratio;},C$TzZn.prototype.GetCurrentLengthA=function(){var C$Tzt=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,C$TzZn.GetCurrentLengthA_s_p),C$Tze=this.m_groundAnchorA;return C$Tzj.DistanceVV(C$Tzt,C$Tze);},C$TzZn.prototype.GetCurrentLengthB=function(){var C$Tzt=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,C$TzZn.GetCurrentLengthB_s_p),C$Tze=this.m_groundAnchorB;return C$Tzj.DistanceVV(C$Tzt,C$Tze);},C$TzZn.prototype.Dump=function(C$Tzt){var C$Tze=this.m_bodyA.m_islandIndex,C$Tzi=this.m_bodyB.m_islandIndex;C$Tzt("  const jd: b2PulleyJointDef = new b2PulleyJointDef();\n"),C$Tzt("  jd.bodyA = bodies[%d];\n",C$Tze),C$Tzt("  jd.bodyB = bodies[%d];\n",C$Tzi),C$Tzt("  jd.collideConnected = %s;\n",this.m_collideConnected?H[583]:H[1384]),C$Tzt("  jd.groundAnchorA.Set(%.15f, %.15f);\n",this.m_groundAnchorA.x,this.m_groundAnchorA.y),C$Tzt("  jd.groundAnchorB.Set(%.15f, %.15f);\n",this.m_groundAnchorB.x,this.m_groundAnchorB.y),C$Tzt("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),C$Tzt("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),C$Tzt("  jd.lengthA = %.15f;\n",this.m_lengthA),C$Tzt("  jd.lengthB = %.15f;\n",this.m_lengthB),C$Tzt("  jd.ratio = %.15f;\n",this.m_ratio),C$Tzt("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index);},C$TzZn.prototype.ShiftOrigin=function(C$Tzt){this.m_groundAnchorA.SelfSub(C$Tzt),this.m_groundAnchorB.SelfSub(C$Tzt);},C$TzZn.InitVelocityConstraints_s_PA=new C$Tzj(),C$TzZn.InitVelocityConstraints_s_PB=new C$Tzj(),C$TzZn.SolveVelocityConstraints_s_vpA=new C$Tzj(),C$TzZn.SolveVelocityConstraints_s_vpB=new C$Tzj(),C$TzZn.SolveVelocityConstraints_s_PA=new C$Tzj(),C$TzZn.SolveVelocityConstraints_s_PB=new C$Tzj(),C$TzZn.SolvePositionConstraints_s_PA=new C$Tzj(),C$TzZn.SolvePositionConstraints_s_PB=new C$Tzj(),C$TzZn.GetCurrentLengthA_s_p=new C$Tzj(),C$TzZn.GetCurrentLengthB_s_p=new C$Tzj();var C$Tzqn,C$TzJn=C$TzZn;function C$TzZn(C$Tzt){var C$Tze=C$Tzqn.call(this,C$Tzt)||this;return C$Tze.m_groundAnchorA=new C$Tzj(),C$Tze.m_groundAnchorB=new C$Tzj(),C$Tze.m_lengthA=0,C$Tze.m_lengthB=0,C$Tze.m_localAnchorA=new C$Tzj(),C$Tze.m_localAnchorB=new C$Tzj(),C$Tze.m_constant=0,C$Tze.m_ratio=0,C$Tze.m_impulse=0,C$Tze.m_indexA=0,C$Tze.m_indexB=0,C$Tze.m_uA=new C$Tzj(),C$Tze.m_uB=new C$Tzj(),C$Tze.m_rA=new C$Tzj(),C$Tze.m_rB=new C$Tzj(),C$Tze.m_localCenterA=new C$Tzj(),C$Tze.m_localCenterB=new C$Tzj(),C$Tze.m_invMassA=0,C$Tze.m_invMassB=0,C$Tze.m_invIA=0,C$Tze.m_invIB=0,C$Tze.m_mass=0,C$Tze.m_qA=new C$TzB(),C$Tze.m_qB=new C$TzB(),C$Tze.m_lalcA=new C$Tzj(),C$Tze.m_lalcB=new C$Tzj(),C$Tze.m_groundAnchorA.Copy(C$Tzf(C$Tzt.groundAnchorA,new C$Tzj(-1,1))),C$Tze.m_groundAnchorB.Copy(C$Tzf(C$Tzt.groundAnchorB,new C$Tzj(1,0))),C$Tze.m_localAnchorA.Copy(C$Tzf(C$Tzt.localAnchorA,new C$Tzj(-1,0))),C$Tze.m_localAnchorB.Copy(C$Tzf(C$Tzt.localAnchorB,new C$Tzj(1,0))),C$Tze.m_lengthA=C$Tzf(C$Tzt.lengthA,0),C$Tze.m_lengthB=C$Tzf(C$Tzt.lengthB,0),C$Tze.m_ratio=C$Tzf(C$Tzt.ratio,1),C$Tze.m_constant=C$Tzf(C$Tzt.lengthA,0)+C$Tze.m_ratio*C$Tzf(C$Tzt.lengthB,0),C$Tze.m_impulse=0,C$Tze;}C$TzDi(C$Tz$n,C$TzKn=C$Tz$i),C$Tz$n.prototype.Initialize=function(C$Tzt,C$Tze,C$Tzi){this.bodyA=C$Tzt,this.bodyB=C$Tze,this.bodyA.GetLocalPoint(C$Tzi,this.localAnchorA),this.bodyB.GetLocalPoint(C$Tzi,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle();};var C$TzKn,C$TzQn=C$Tz$n;function C$Tz$n(){var C$Tzt=C$TzKn.call(this,C$TzH.b2JointType.e_revoluteJoint)||this;return C$Tzt.localAnchorA=new C$Tzj(0,0),C$Tzt.localAnchorB=new C$Tzj(0,0),C$Tzt.referenceAngle=0,C$Tzt.enableLimit=!1,C$Tzt.lowerAngle=0,C$Tzt.upperAngle=0,C$Tzt.enableMotor=!1,C$Tzt.motorSpeed=0,C$Tzt.maxMotorTorque=0,C$Tzt;}C$TzDi(C$Tzir,C$Tztr=C$Tzen),C$Tzir.prototype.InitVelocityConstraints=function(C$Tzt){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var C$Tze=C$Tzt.positions[this.m_indexA].a,C$Tzh=C$Tzt.velocities[this.m_indexA].v,C$Tzi=C$Tzt.velocities[this.m_indexA].w,C$Tzn=C$Tzt.positions[this.m_indexB].a,C$Tzu=C$Tzt.velocities[this.m_indexB].v,C$Tzr=C$Tzt.velocities[this.m_indexB].w,C$Tzs=this.m_qA.SetAngle(C$Tze),C$Tzo=this.m_qB.SetAngle(C$Tzn),C$Tzs=(C$Tzj.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),C$TzB.MulRV(C$Tzs,this.m_lalcA,this.m_rA),C$Tzj.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),C$TzB.MulRV(C$Tzo,this.m_lalcB,this.m_rB),this.m_invMassA),C$Tzo=this.m_invMassB,C$Tza=this.m_invIA,C$Tzc=this.m_invIB,C$Tzl=C$Tza+C$Tzc===0;this.m_mass.ex.x=C$Tzs+C$Tzo+this.m_rA.y*this.m_rA.y*C$Tza+this.m_rB.y*this.m_rB.y*C$Tzc,this.m_mass.ey.x=-this.m_rA.y*this.m_rA.x*C$Tza-this.m_rB.y*this.m_rB.x*C$Tzc,this.m_mass.ez.x=-this.m_rA.y*C$Tza-this.m_rB.y*C$Tzc,this.m_mass.ex.y=this.m_mass.ey.x,this.m_mass.ey.y=C$Tzs+C$Tzo+this.m_rA.x*this.m_rA.x*C$Tza+this.m_rB.x*this.m_rB.x*C$Tzc,this.m_mass.ez.y=this.m_rA.x*C$Tza+this.m_rB.x*C$Tzc,this.m_mass.ex.z=this.m_mass.ez.x,this.m_mass.ey.z=this.m_mass.ez.y,this.m_mass.ez.z=C$Tza+C$Tzc,this.m_motorMass=C$Tza+C$Tzc,0<this.m_motorMass&&(this.m_motorMass=1/this.m_motorMass),this.m_enableMotor&&!C$Tzl||(this.m_motorImpulse=0),this.m_enableLimit&&!C$Tzl?(C$Tzl=C$Tzn-C$Tze-this.m_referenceAngle,C$TzD(this.m_upperAngle-this.m_lowerAngle)<2*C$TzI?this.m_limitState=C$TzH.b2LimitState.e_equalLimits:C$Tzl<=this.m_lowerAngle?(this.m_limitState!==C$TzH.b2LimitState.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=C$TzH.b2LimitState.e_atLowerLimit):C$Tzl>=this.m_upperAngle?(this.m_limitState!==C$TzH.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=C$TzH.b2LimitState.e_atUpperLimit):(this.m_limitState=C$TzH.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)):this.m_limitState=C$TzH.b2LimitState.e_inactiveLimit,C$Tzt.step.warmStarting?(this.m_impulse.SelfMul(C$Tzt.step.dtRatio),this.m_motorImpulse*=C$Tzt.step.dtRatio,C$Tzn=C$Tzir.InitVelocityConstraints_s_P.Set(this.m_impulse.x,this.m_impulse.y),C$Tzh.SelfMulSub(C$Tzs,C$Tzn),C$Tzi-=C$Tza*(C$Tzj.CrossVV(this.m_rA,C$Tzn)+this.m_motorImpulse+this.m_impulse.z),C$Tzu.SelfMulAdd(C$Tzo,C$Tzn),C$Tzr+=C$Tzc*(C$Tzj.CrossVV(this.m_rB,C$Tzn)+this.m_motorImpulse+this.m_impulse.z)):(this.m_impulse.SetZero(),this.m_motorImpulse=0),C$Tzt.velocities[this.m_indexA].w=C$Tzi,C$Tzt.velocities[this.m_indexB].w=C$Tzr;},C$Tzir.prototype.SolveVelocityConstraints=function(C$Tzt){var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tzh=C$Tzt.velocities[this.m_indexA].v,C$Tza=C$Tzt.velocities[this.m_indexA].w,C$Tzu=C$Tzt.velocities[this.m_indexB].v,C$Tzc=C$Tzt.velocities[this.m_indexB].w,C$Tz_=this.m_invMassA,C$Tzd=this.m_invMassB,C$Tzf=this.m_invIA,C$Tzp=this.m_invIB,C$Tzl=C$Tzf+C$Tzp===0;this.m_enableMotor&&this.m_limitState!==C$TzH.b2LimitState.e_equalLimits&&!C$Tzl&&(C$Tzs=C$Tzc-C$Tza-this.m_motorSpeed,C$Tzs=-this.m_motorMass*C$Tzs,C$Tze=this.m_motorImpulse,C$Tzo=C$Tzt.step.dt*this.m_maxMotorTorque,this.m_motorImpulse=C$TzO(this.m_motorImpulse+C$Tzs,-C$Tzo,C$Tzo),C$Tza-=C$Tzf*(C$Tzs=this.m_motorImpulse-C$Tze),C$Tzc+=C$Tzp*C$Tzs),this.m_enableLimit&&this.m_limitState!==C$TzH.b2LimitState.e_inactiveLimit&&!C$Tzl?(C$Tzo=C$Tzj.SubVV(C$Tzj.AddVCrossSV(C$Tzu,C$Tzc,this.m_rB,C$Tzj.s_t0),C$Tzj.AddVCrossSV(C$Tzh,C$Tza,this.m_rA,C$Tzj.s_t1),C$Tzir.SolveVelocityConstraints_s_Cdot1),C$Tze=this.m_mass.Solve33(C$Tzo.x,C$Tzo.y,C$Tzc-C$Tza,C$Tzir.SolveVelocityConstraints_s_impulse_v3).SelfNeg(),this.m_limitState===C$TzH.b2LimitState.e_equalLimits?this.m_impulse.SelfAdd(C$Tze):this.m_limitState===C$TzH.b2LimitState.e_atLowerLimit?this.m_impulse.z+C$Tze.z<0?(C$Tzi=-C$Tzo.x+this.m_impulse.z*this.m_mass.ez.x,C$Tzn=-C$Tzo.y+this.m_impulse.z*this.m_mass.ez.y,C$Tzr=this.m_mass.Solve22(C$Tzi,C$Tzn,C$Tzir.SolveVelocityConstraints_s_reduced_v2),C$Tze.x=C$Tzr.x,C$Tze.y=C$Tzr.y,C$Tze.z=-this.m_impulse.z,this.m_impulse.x+=C$Tzr.x,this.m_impulse.y+=C$Tzr.y,this.m_impulse.z=0):this.m_impulse.SelfAdd(C$Tze):this.m_limitState===C$TzH.b2LimitState.e_atUpperLimit&&(0<this.m_impulse.z+C$Tze.z?(C$Tzi=-C$Tzo.x+this.m_impulse.z*this.m_mass.ez.x,C$Tzn=-C$Tzo.y+this.m_impulse.z*this.m_mass.ez.y,C$Tzr=this.m_mass.Solve22(C$Tzi,C$Tzn,C$Tzir.SolveVelocityConstraints_s_reduced_v2),C$Tze.x=C$Tzr.x,C$Tze.y=C$Tzr.y,C$Tze.z=-this.m_impulse.z,this.m_impulse.x+=C$Tzr.x,this.m_impulse.y+=C$Tzr.y,this.m_impulse.z=0):this.m_impulse.SelfAdd(C$Tze)),C$Tzs=C$Tzir.SolveVelocityConstraints_s_P.Set(C$Tze.x,C$Tze.y),C$Tzh.SelfMulSub(C$Tz_,C$Tzs),C$Tza-=C$Tzf*(C$Tzj.CrossVV(this.m_rA,C$Tzs)+C$Tze.z),C$Tzu.SelfMulAdd(C$Tzd,C$Tzs),C$Tzc+=C$Tzp*(C$Tzj.CrossVV(this.m_rB,C$Tzs)+C$Tze.z)):(C$Tzl=C$Tzj.SubVV(C$Tzj.AddVCrossSV(C$Tzu,C$Tzc,this.m_rB,C$Tzj.s_t0),C$Tzj.AddVCrossSV(C$Tzh,C$Tza,this.m_rA,C$Tzj.s_t1),C$Tzir.SolveVelocityConstraints_s_Cdot_v2),C$Tzo=this.m_mass.Solve22(-C$Tzl.x,-C$Tzl.y,C$Tzir.SolveVelocityConstraints_s_impulse_v2),this.m_impulse.x+=C$Tzo.x,this.m_impulse.y+=C$Tzo.y,C$Tzh.SelfMulSub(C$Tz_,C$Tzo),C$Tza-=C$Tzf*C$Tzj.CrossVV(this.m_rA,C$Tzo),C$Tzu.SelfMulAdd(C$Tzd,C$Tzo),C$Tzc+=C$Tzp*C$Tzj.CrossVV(this.m_rB,C$Tzo)),C$Tzt.velocities[this.m_indexA].w=C$Tza,C$Tzt.velocities[this.m_indexB].w=C$Tzc;},C$Tzir.prototype.SolvePositionConstraints=function(C$Tzt){var C$Tzh=C$Tzt.positions[this.m_indexA].c,C$Tze=C$Tzt.positions[this.m_indexA].a,C$Tzu=C$Tzt.positions[this.m_indexB].c,C$Tzi=C$Tzt.positions[this.m_indexB].a,C$Tz_=this.m_qA.SetAngle(C$Tze),C$Tzn=this.m_qB.SetAngle(C$Tzi),C$Tzr=0,C$Tzs=this.m_invIA+this.m_invIB===0,C$Tzs=(this.m_enableLimit&&this.m_limitState!==C$TzH.b2LimitState.e_inactiveLimit&&!C$Tzs&&(C$Tzs=C$Tzi-C$Tze-this.m_referenceAngle,C$Tza=0,this.m_limitState===C$TzH.b2LimitState.e_equalLimits?(C$Tzo=C$TzO(C$Tzs-this.m_lowerAngle,-C$Tzp,C$Tzp),C$Tza=-this.m_motorMass*C$Tzo,C$Tzr=C$TzD(C$Tzo)):this.m_limitState===C$TzH.b2LimitState.e_atLowerLimit?(C$Tzr=-(C$Tzo=C$Tzs-this.m_lowerAngle),C$Tzo=C$TzO(C$Tzo+C$TzI,-C$Tzp,0),C$Tza=-this.m_motorMass*C$Tzo):this.m_limitState===C$TzH.b2LimitState.e_atUpperLimit&&(C$Tzo=C$TzO((C$Tzr=C$Tzo=C$Tzs-this.m_upperAngle)-C$TzI,0,C$Tzp),C$Tza=-this.m_motorMass*C$Tzo),C$Tze-=this.m_invIA*C$Tza,C$Tzi+=this.m_invIB*C$Tza),C$Tz_.SetAngle(C$Tze),C$Tzn.SetAngle(C$Tzi),C$Tzj.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),C$TzB.MulRV(C$Tz_,this.m_lalcA,this.m_rA)),C$Tzo=(C$Tzj.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),C$TzB.MulRV(C$Tzn,this.m_lalcB,this.m_rB)),C$Tza=C$Tzj.SubVV(C$Tzj.AddVV(C$Tzu,C$Tzo,C$Tzj.s_t0),C$Tzj.AddVV(C$Tzh,C$Tzs,C$Tzj.s_t1),C$Tzir.SolvePositionConstraints_s_C_v2),C$Tz_=C$Tza.Length(),C$Tzn=this.m_invMassA,C$Tzd=this.m_invMassB,C$Tzc=this.m_invIA,C$Tzf=this.m_invIB,C$Tzl=this.m_K,C$Tzl=(C$Tzl.ex.x=C$Tzn+C$Tzd+C$Tzc*C$Tzs.y*C$Tzs.y+C$Tzf*C$Tzo.y*C$Tzo.y,C$Tzl.ex.y=-C$Tzc*C$Tzs.x*C$Tzs.y-C$Tzf*C$Tzo.x*C$Tzo.y,C$Tzl.ey.x=C$Tzl.ex.y,C$Tzl.ey.y=C$Tzn+C$Tzd+C$Tzc*C$Tzs.x*C$Tzs.x+C$Tzf*C$Tzo.x*C$Tzo.x,C$Tzl.Solve(C$Tza.x,C$Tza.y,C$Tzir.SolvePositionConstraints_s_impulse).SelfNeg());return C$Tzh.SelfMulSub(C$Tzn,C$Tzl),C$Tze-=C$Tzc*C$Tzj.CrossVV(C$Tzs,C$Tzl),C$Tzu.SelfMulAdd(C$Tzd,C$Tzl),C$Tzi+=C$Tzf*C$Tzj.CrossVV(C$Tzo,C$Tzl),C$Tzt.positions[this.m_indexA].a=C$Tze,C$Tzt.positions[this.m_indexB].a=C$Tzi,C$Tz_<=.008&&C$Tzr<=C$TzI;},C$Tzir.prototype.GetAnchorA=function(C$Tzt){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,C$Tzt);},C$Tzir.prototype.GetAnchorB=function(C$Tzt){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,C$Tzt);},C$Tzir.prototype.GetReactionForce=function(C$Tzt,C$Tze){return C$Tze.x=C$Tzt*this.m_impulse.x,C$Tze.y=C$Tzt*this.m_impulse.y,C$Tze;},C$Tzir.prototype.GetReactionTorque=function(C$Tzt){return C$Tzt*this.m_impulse.z;},C$Tzir.prototype.GetLocalAnchorA=function(){return this.m_localAnchorA;},C$Tzir.prototype.GetLocalAnchorB=function(){return this.m_localAnchorB;},C$Tzir.prototype.GetReferenceAngle=function(){return this.m_referenceAngle;},C$Tzir.prototype.GetJointAngle=function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle;},C$Tzir.prototype.GetJointSpeed=function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity;},C$Tzir.prototype.IsMotorEnabled=function(){return this.m_enableMotor;},C$Tzir.prototype.EnableMotor=function(C$Tzt){C$Tzt!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=C$Tzt);},C$Tzir.prototype.GetMotorTorque=function(C$Tzt){return C$Tzt*this.m_motorImpulse;},C$Tzir.prototype.GetMotorSpeed=function(){return this.m_motorSpeed;},C$Tzir.prototype.SetMaxMotorTorque=function(C$Tzt){C$Tzt!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=C$Tzt);},C$Tzir.prototype.GetMaxMotorTorque=function(){return this.m_maxMotorTorque;},C$Tzir.prototype.IsLimitEnabled=function(){return this.m_enableLimit;},C$Tzir.prototype.EnableLimit=function(C$Tzt){C$Tzt!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=C$Tzt,this.m_impulse.z=0);},C$Tzir.prototype.GetLowerLimit=function(){return this.m_lowerAngle;},C$Tzir.prototype.GetUpperLimit=function(){return this.m_upperAngle;},C$Tzir.prototype.SetLimits=function(C$Tzt,C$Tze){C$Tzt===this.m_lowerAngle&&C$Tze===this.m_upperAngle||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_impulse.z=0,this.m_lowerAngle=C$Tzt,this.m_upperAngle=C$Tze);},C$Tzir.prototype.SetMotorSpeed=function(C$Tzt){C$Tzt!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=C$Tzt);},C$Tzir.prototype.Dump=function(C$Tzt){var C$Tze=this.m_bodyA.m_islandIndex,C$Tzi=this.m_bodyB.m_islandIndex;C$Tzt("  const jd: b2RevoluteJointDef = new b2RevoluteJointDef();\n"),C$Tzt("  jd.bodyA = bodies[%d];\n",C$Tze),C$Tzt("  jd.bodyB = bodies[%d];\n",C$Tzi),C$Tzt("  jd.collideConnected = %s;\n",this.m_collideConnected?H[583]:H[1384]),C$Tzt("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),C$Tzt("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),C$Tzt("  jd.referenceAngle = %.15f;\n",this.m_referenceAngle),C$Tzt("  jd.enableLimit = %s;\n",this.m_enableLimit?H[583]:H[1384]),C$Tzt("  jd.lowerAngle = %.15f;\n",this.m_lowerAngle),C$Tzt("  jd.upperAngle = %.15f;\n",this.m_upperAngle),C$Tzt("  jd.enableMotor = %s;\n",this.m_enableMotor?H[583]:H[1384]),C$Tzt("  jd.motorSpeed = %.15f;\n",this.m_motorSpeed),C$Tzt("  jd.maxMotorTorque = %.15f;\n",this.m_maxMotorTorque),C$Tzt("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index);},C$Tzir.InitVelocityConstraints_s_P=new C$Tzj(),C$Tzir.SolveVelocityConstraints_s_P=new C$Tzj(),C$Tzir.SolveVelocityConstraints_s_Cdot_v2=new C$Tzj(),C$Tzir.SolveVelocityConstraints_s_Cdot1=new C$Tzj(),C$Tzir.SolveVelocityConstraints_s_impulse_v3=new C$Tzb(),C$Tzir.SolveVelocityConstraints_s_reduced_v2=new C$Tzj(),C$Tzir.SolveVelocityConstraints_s_impulse_v2=new C$Tzj(),C$Tzir.SolvePositionConstraints_s_C_v2=new C$Tzj(),C$Tzir.SolvePositionConstraints_s_impulse=new C$Tzj();var C$Tztr,C$Tzer=C$Tzir;function C$Tzir(C$Tzt){var C$Tze=C$Tztr.call(this,C$Tzt)||this;return C$Tze.m_localAnchorA=new C$Tzj(),C$Tze.m_localAnchorB=new C$Tzj(),C$Tze.m_impulse=new C$Tzb(),C$Tze.m_motorImpulse=0,C$Tze.m_enableMotor=!1,C$Tze.m_maxMotorTorque=0,C$Tze.m_motorSpeed=0,C$Tze.m_enableLimit=!1,C$Tze.m_referenceAngle=0,C$Tze.m_lowerAngle=0,C$Tze.m_upperAngle=0,C$Tze.m_indexA=0,C$Tze.m_indexB=0,C$Tze.m_rA=new C$Tzj(),C$Tze.m_rB=new C$Tzj(),C$Tze.m_localCenterA=new C$Tzj(),C$Tze.m_localCenterB=new C$Tzj(),C$Tze.m_invMassA=0,C$Tze.m_invMassB=0,C$Tze.m_invIA=0,C$Tze.m_invIB=0,C$Tze.m_mass=new C$Tzk(),C$Tze.m_motorMass=0,C$Tze.m_limitState=C$TzH.b2LimitState.e_inactiveLimit,C$Tze.m_qA=new C$TzB(),C$Tze.m_qB=new C$TzB(),C$Tze.m_lalcA=new C$Tzj(),C$Tze.m_lalcB=new C$Tzj(),C$Tze.m_K=new C$TzF(),C$Tze.m_localAnchorA.Copy(C$Tzf(C$Tzt.localAnchorA,C$Tzj.ZERO)),C$Tze.m_localAnchorB.Copy(C$Tzf(C$Tzt.localAnchorB,C$Tzj.ZERO)),C$Tze.m_referenceAngle=C$Tzf(C$Tzt.referenceAngle,0),C$Tze.m_impulse.SetZero(),C$Tze.m_motorImpulse=0,C$Tze.m_lowerAngle=C$Tzf(C$Tzt.lowerAngle,0),C$Tze.m_upperAngle=C$Tzf(C$Tzt.upperAngle,0),C$Tze.m_maxMotorTorque=C$Tzf(C$Tzt.maxMotorTorque,0),C$Tze.m_motorSpeed=C$Tzf(C$Tzt.motorSpeed,0),C$Tze.m_enableLimit=C$Tzf(C$Tzt.enableLimit,!1),C$Tze.m_enableMotor=C$Tzf(C$Tzt.enableMotor,!1),C$Tze.m_limitState=C$TzH.b2LimitState.e_inactiveLimit,C$Tze;}C$TzDi(C$Tzsr,C$Tznr=C$Tz$i);var C$Tznr,C$Tzrr=C$Tzsr;function C$Tzsr(){var C$Tzt=C$Tznr.call(this,C$TzH.b2JointType.e_ropeJoint)||this;return C$Tzt.localAnchorA=new C$Tzj(-1,0),C$Tzt.localAnchorB=new C$Tzj(1,0),C$Tzt.maxLength=0,C$Tzt;}C$TzDi(C$Tzcr,C$Tzor=C$Tzen),C$Tzcr.prototype.InitVelocityConstraints=function(C$Tzt){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var C$Tze=C$Tzt.positions[this.m_indexA].c,C$Tzi=C$Tzt.positions[this.m_indexA].a,C$Tzn=C$Tzt.velocities[this.m_indexA].v,C$Tzr=C$Tzt.velocities[this.m_indexA].w,C$Tzs=C$Tzt.positions[this.m_indexB].c,C$Tzo=C$Tzt.positions[this.m_indexB].a,C$Tza=C$Tzt.velocities[this.m_indexB].v,C$Tzc=C$Tzt.velocities[this.m_indexB].w,C$Tzi=this.m_qA.SetAngle(C$Tzi),C$Tzo=this.m_qB.SetAngle(C$Tzo),C$Tzi=(C$Tzj.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),C$TzB.MulRV(C$Tzi,this.m_lalcA,this.m_rA),C$Tzj.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),C$TzB.MulRV(C$Tzo,this.m_lalcB,this.m_rB),this.m_u.Copy(C$Tzs).SelfAdd(this.m_rB).SelfSub(C$Tze).SelfSub(this.m_rA),this.m_length=this.m_u.Length(),this.m_length-this.m_maxLength);if(this.m_state=0<C$Tzi?C$TzH.b2LimitState.e_atUpperLimit:C$TzH.b2LimitState.e_inactiveLimit,!(.008<this.m_length))return this.m_u.SetZero(),this.m_mass=0,void(this.m_impulse=0);this.m_u.SelfMul(1/this.m_length);C$Tzo=C$Tzj.CrossVV(this.m_rA,this.m_u),C$Tzs=C$Tzj.CrossVV(this.m_rB,this.m_u),C$Tze=this.m_invMassA+this.m_invIA*C$Tzo*C$Tzo+this.m_invMassB+this.m_invIB*C$Tzs*C$Tzs;this.m_mass=0!==C$Tze?1/C$Tze:0,C$Tzt.step.warmStarting?(this.m_impulse*=C$Tzt.step.dtRatio,C$Tzi=C$Tzj.MulSV(this.m_impulse,this.m_u,C$Tzcr.InitVelocityConstraints_s_P),C$Tzn.SelfMulSub(this.m_invMassA,C$Tzi),C$Tzr-=this.m_invIA*C$Tzj.CrossVV(this.m_rA,C$Tzi),C$Tza.SelfMulAdd(this.m_invMassB,C$Tzi),C$Tzc+=this.m_invIB*C$Tzj.CrossVV(this.m_rB,C$Tzi)):this.m_impulse=0,C$Tzt.velocities[this.m_indexA].w=C$Tzr,C$Tzt.velocities[this.m_indexB].w=C$Tzc;},C$Tzcr.prototype.SolveVelocityConstraints=function(C$Tzt){var C$Tze=C$Tzt.velocities[this.m_indexA].v,C$Tzi=C$Tzt.velocities[this.m_indexA].w,C$Tzn=C$Tzt.velocities[this.m_indexB].v,C$Tzr=C$Tzt.velocities[this.m_indexB].w,C$Tzs=C$Tzj.AddVCrossSV(C$Tze,C$Tzi,this.m_rA,C$Tzcr.SolveVelocityConstraints_s_vpA),C$Tzo=C$Tzj.AddVCrossSV(C$Tzn,C$Tzr,this.m_rB,C$Tzcr.SolveVelocityConstraints_s_vpB),C$Tza=this.m_length-this.m_maxLength,C$Tzo=C$Tzj.DotVV(this.m_u,C$Tzj.SubVV(C$Tzo,C$Tzs,C$Tzj.s_t0)),C$Tzs=(C$Tza<0&&(C$Tzo+=C$Tzt.step.inv_dt*C$Tza),-this.m_mass*C$Tzo),C$Tza=this.m_impulse,C$Tzo=(this.m_impulse=C$TzL(0,this.m_impulse+C$Tzs),C$Tzs=this.m_impulse-C$Tza,C$Tzj.MulSV(C$Tzs,this.m_u,C$Tzcr.SolveVelocityConstraints_s_P));C$Tze.SelfMulSub(this.m_invMassA,C$Tzo),C$Tzi-=this.m_invIA*C$Tzj.CrossVV(this.m_rA,C$Tzo),C$Tzn.SelfMulAdd(this.m_invMassB,C$Tzo),C$Tzr+=this.m_invIB*C$Tzj.CrossVV(this.m_rB,C$Tzo),C$Tzt.velocities[this.m_indexA].w=C$Tzi,C$Tzt.velocities[this.m_indexB].w=C$Tzr;},C$Tzcr.prototype.SolvePositionConstraints=function(C$Tzt){var C$Tze=C$Tzt.positions[this.m_indexA].c,C$Tzi=C$Tzt.positions[this.m_indexA].a,C$Tzn=C$Tzt.positions[this.m_indexB].c,C$Tzr=C$Tzt.positions[this.m_indexB].a,C$Tzs=this.m_qA.SetAngle(C$Tzi),C$Tzo=this.m_qB.SetAngle(C$Tzr),C$Tzs=(C$Tzj.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),C$TzB.MulRV(C$Tzs,this.m_lalcA,this.m_rA)),C$Tzo=(C$Tzj.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),C$TzB.MulRV(C$Tzo,this.m_lalcB,this.m_rB)),C$Tza=this.m_u.Copy(C$Tzn).SelfAdd(C$Tzo).SelfSub(C$Tze).SelfSub(C$Tzs),C$Tzc=C$Tza.Normalize(),C$Tzl=C$TzO(C$Tzc-this.m_maxLength,0,.2),C$Tzl=-this.m_mass*C$Tzl,C$Tzl=C$Tzj.MulSV(C$Tzl,C$Tza,C$Tzcr.SolvePositionConstraints_s_P);return C$Tze.SelfMulSub(this.m_invMassA,C$Tzl),C$Tzi-=this.m_invIA*C$Tzj.CrossVV(C$Tzs,C$Tzl),C$Tzn.SelfMulAdd(this.m_invMassB,C$Tzl),C$Tzr+=this.m_invIB*C$Tzj.CrossVV(C$Tzo,C$Tzl),C$Tzt.positions[this.m_indexA].a=C$Tzi,C$Tzt.positions[this.m_indexB].a=C$Tzr,C$Tzc-this.m_maxLength<.008;},C$Tzcr.prototype.GetAnchorA=function(C$Tzt){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,C$Tzt);},C$Tzcr.prototype.GetAnchorB=function(C$Tzt){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,C$Tzt);},C$Tzcr.prototype.GetReactionForce=function(C$Tzt,C$Tze){return C$Tzj.MulSV(C$Tzt*this.m_impulse,this.m_u,C$Tze);},C$Tzcr.prototype.GetReactionTorque=function(C$Tzt){return 0;},C$Tzcr.prototype.GetLocalAnchorA=function(){return this.m_localAnchorA;},C$Tzcr.prototype.GetLocalAnchorB=function(){return this.m_localAnchorB;},C$Tzcr.prototype.SetMaxLength=function(C$Tzt){this.m_maxLength=C$Tzt;},C$Tzcr.prototype.GetMaxLength=function(){return this.m_maxLength;},C$Tzcr.prototype.GetLimitState=function(){return this.m_state;},C$Tzcr.prototype.Dump=function(C$Tzt){var C$Tze=this.m_bodyA.m_islandIndex,C$Tzi=this.m_bodyB.m_islandIndex;C$Tzt("  const jd: b2RopeJointDef = new b2RopeJointDef();\n"),C$Tzt("  jd.bodyA = bodies[%d];\n",C$Tze),C$Tzt("  jd.bodyB = bodies[%d];\n",C$Tzi),C$Tzt("  jd.collideConnected = %s;\n",this.m_collideConnected?H[583]:H[1384]),C$Tzt("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),C$Tzt("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),C$Tzt("  jd.maxLength = %.15f;\n",this.m_maxLength),C$Tzt("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index);},C$Tzcr.InitVelocityConstraints_s_P=new C$Tzj(),C$Tzcr.SolveVelocityConstraints_s_vpA=new C$Tzj(),C$Tzcr.SolveVelocityConstraints_s_vpB=new C$Tzj(),C$Tzcr.SolveVelocityConstraints_s_P=new C$Tzj(),C$Tzcr.SolvePositionConstraints_s_P=new C$Tzj();var C$Tzor,C$Tzar=C$Tzcr;function C$Tzcr(C$Tzt){var C$Tze=C$Tzor.call(this,C$Tzt)||this;return C$Tze.m_localAnchorA=new C$Tzj(),C$Tze.m_localAnchorB=new C$Tzj(),C$Tze.m_maxLength=0,C$Tze.m_length=0,C$Tze.m_impulse=0,C$Tze.m_indexA=0,C$Tze.m_indexB=0,C$Tze.m_u=new C$Tzj(),C$Tze.m_rA=new C$Tzj(),C$Tze.m_rB=new C$Tzj(),C$Tze.m_localCenterA=new C$Tzj(),C$Tze.m_localCenterB=new C$Tzj(),C$Tze.m_invMassA=0,C$Tze.m_invMassB=0,C$Tze.m_invIA=0,C$Tze.m_invIB=0,C$Tze.m_mass=0,C$Tze.m_state=C$TzH.b2LimitState.e_inactiveLimit,C$Tze.m_qA=new C$TzB(),C$Tze.m_qB=new C$TzB(),C$Tze.m_lalcA=new C$Tzj(),C$Tze.m_lalcB=new C$Tzj(),C$Tze.m_localAnchorA.Copy(C$Tzf(C$Tzt.localAnchorA,new C$Tzj(-1,0))),C$Tze.m_localAnchorB.Copy(C$Tzf(C$Tzt.localAnchorB,new C$Tzj(1,0))),C$Tze.m_maxLength=C$Tzf(C$Tzt.maxLength,0),C$Tze;}C$TzDi(C$Tzur,C$Tzlr=C$Tz$i),C$Tzur.prototype.Initialize=function(C$Tzt,C$Tze,C$Tzi){this.bodyA=C$Tzt,this.bodyB=C$Tze,this.bodyA.GetLocalPoint(C$Tzi,this.localAnchorA),this.bodyB.GetLocalPoint(C$Tzi,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle();};var C$Tzlr,C$Tzhr=C$Tzur;function C$Tzur(){var C$Tzt=C$Tzlr.call(this,C$TzH.b2JointType.e_weldJoint)||this;return C$Tzt.localAnchorA=new C$Tzj(),C$Tzt.localAnchorB=new C$Tzj(),C$Tzt.referenceAngle=0,C$Tzt.frequencyHz=0,C$Tzt.dampingRatio=0,C$Tzt;}C$TzDi(C$Tzfr,C$Tz_r=C$Tzen),C$Tzfr.prototype.InitVelocityConstraints=function(C$Tzt){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs=C$Tzt.positions[this.m_indexA].a,C$Tzh=C$Tzt.velocities[this.m_indexA].v,C$Tzu=C$Tzt.velocities[this.m_indexA].w,C$Tzo=C$Tzt.positions[this.m_indexB].a,C$Tz_=C$Tzt.velocities[this.m_indexB].v,C$Tzd=C$Tzt.velocities[this.m_indexB].w,C$Tzf=this.m_qA.SetAngle(C$Tzs),C$Tzp=this.m_qB.SetAngle(C$Tzo),C$Tzf=(C$Tzj.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),C$TzB.MulRV(C$Tzf,this.m_lalcA,this.m_rA),C$Tzj.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),C$TzB.MulRV(C$Tzp,this.m_lalcB,this.m_rB),this.m_invMassA),C$Tzp=this.m_invMassB,C$Tza=this.m_invIA,C$Tzc=this.m_invIB,C$Tzl=this.m_K;C$Tzl.ex.x=C$Tzf+C$Tzp+this.m_rA.y*this.m_rA.y*C$Tza+this.m_rB.y*this.m_rB.y*C$Tzc,C$Tzl.ey.x=-this.m_rA.y*this.m_rA.x*C$Tza-this.m_rB.y*this.m_rB.x*C$Tzc,C$Tzl.ez.x=-this.m_rA.y*C$Tza-this.m_rB.y*C$Tzc,C$Tzl.ex.y=C$Tzl.ey.x,C$Tzl.ey.y=C$Tzf+C$Tzp+this.m_rA.x*this.m_rA.x*C$Tza+this.m_rB.x*this.m_rB.x*C$Tzc,C$Tzl.ez.y=this.m_rA.x*C$Tza+this.m_rB.x*C$Tzc,C$Tzl.ex.z=C$Tzl.ez.x,C$Tzl.ey.z=C$Tzl.ez.y,C$Tzl.ez.z=C$Tza+C$Tzc,0<this.m_frequencyHz?(C$Tzl.GetInverse22(this.m_mass),C$Tzo=C$Tzo-C$Tzs-this.m_referenceAngle,C$Tzs=2*C$Tzm*this.m_frequencyHz,C$Tzi=2*(C$Tzr=0<(C$Tze=C$Tza+C$Tzc)?1/C$Tze:0)*this.m_dampingRatio*C$Tzs,C$Tzn=C$Tzt.step.dt,this.m_gamma=C$Tzn*(C$Tzi+C$Tzn*(C$Tzi=C$Tzr*C$Tzs*C$Tzs)),this.m_gamma=0!==this.m_gamma?1/this.m_gamma:0,this.m_bias=C$Tzo*C$Tzn*C$Tzi*this.m_gamma,C$Tze+=this.m_gamma,this.m_mass.ez.z=0!==C$Tze?1/C$Tze:0):(C$Tzl.GetSymInverse33(this.m_mass),this.m_gamma=0,this.m_bias=0),C$Tzt.step.warmStarting?(this.m_impulse.SelfMul(C$Tzt.step.dtRatio),C$Tzr=C$Tzfr.InitVelocityConstraints_s_P.Set(this.m_impulse.x,this.m_impulse.y),C$Tzh.SelfMulSub(C$Tzf,C$Tzr),C$Tzu-=C$Tza*(C$Tzj.CrossVV(this.m_rA,C$Tzr)+this.m_impulse.z),C$Tz_.SelfMulAdd(C$Tzp,C$Tzr),C$Tzd+=C$Tzc*(C$Tzj.CrossVV(this.m_rB,C$Tzr)+this.m_impulse.z)):this.m_impulse.SetZero(),C$Tzt.velocities[this.m_indexA].w=C$Tzu,C$Tzt.velocities[this.m_indexB].w=C$Tzd;},C$Tzfr.prototype.SolveVelocityConstraints=function(C$Tzt){var C$Tze,C$Tzi,C$Tzn=C$Tzt.velocities[this.m_indexA].v,C$Tzr=C$Tzt.velocities[this.m_indexA].w,C$Tzs=C$Tzt.velocities[this.m_indexB].v,C$Tzo=C$Tzt.velocities[this.m_indexB].w,C$Tza=this.m_invMassA,C$Tzh=this.m_invMassB,C$Tzc=this.m_invIA,C$Tzl=this.m_invIB;0<this.m_frequencyHz?(C$Tze=-this.m_mass.ez.z*(C$Tzo-C$Tzr+this.m_bias+this.m_gamma*this.m_impulse.z),this.m_impulse.z+=C$Tze,C$Tzr-=C$Tzc*C$Tze,C$Tze=C$Tzj.SubVV(C$Tzj.AddVCrossSV(C$Tzs,C$Tzo+=C$Tzl*C$Tze,this.m_rB,C$Tzj.s_t0),C$Tzj.AddVCrossSV(C$Tzn,C$Tzr,this.m_rA,C$Tzj.s_t1),C$Tzfr.SolveVelocityConstraints_s_Cdot1),C$Tzi=C$Tzk.MulM33XY(this.m_mass,C$Tze.x,C$Tze.y,C$Tzfr.SolveVelocityConstraints_s_impulse1).SelfNeg(),this.m_impulse.x+=C$Tzi.x,this.m_impulse.y+=C$Tzi.y,C$Tzn.SelfMulSub(C$Tza,C$Tzi=C$Tzi),C$Tzr-=C$Tzc*C$Tzj.CrossVV(this.m_rA,C$Tzi),C$Tzs.SelfMulAdd(C$Tzh,C$Tzi),C$Tzo+=C$Tzl*C$Tzj.CrossVV(this.m_rB,C$Tzi)):(C$Tze=C$Tzj.SubVV(C$Tzj.AddVCrossSV(C$Tzs,C$Tzo,this.m_rB,C$Tzj.s_t0),C$Tzj.AddVCrossSV(C$Tzn,C$Tzr,this.m_rA,C$Tzj.s_t1),C$Tzfr.SolveVelocityConstraints_s_Cdot1),C$Tze=C$Tzk.MulM33XYZ(this.m_mass,C$Tze.x,C$Tze.y,C$Tzo-C$Tzr,C$Tzfr.SolveVelocityConstraints_s_impulse).SelfNeg(),this.m_impulse.SelfAdd(C$Tze),C$Tzi=C$Tzfr.SolveVelocityConstraints_s_P.Set(C$Tze.x,C$Tze.y),C$Tzn.SelfMulSub(C$Tza,C$Tzi),C$Tzr-=C$Tzc*(C$Tzj.CrossVV(this.m_rA,C$Tzi)+C$Tze.z),C$Tzs.SelfMulAdd(C$Tzh,C$Tzi),C$Tzo+=C$Tzl*(C$Tzj.CrossVV(this.m_rB,C$Tzi)+C$Tze.z)),C$Tzt.velocities[this.m_indexA].w=C$Tzr,C$Tzt.velocities[this.m_indexB].w=C$Tzo;},C$Tzfr.prototype.SolvePositionConstraints=function(C$Tzt){var C$Tzh,C$Tzu,C$Tze,C$Tzi,C$Tz_=C$Tzt.positions[this.m_indexA].c,C$Tzn=C$Tzt.positions[this.m_indexA].a,C$Tzd=C$Tzt.positions[this.m_indexB].c,C$Tzr=C$Tzt.positions[this.m_indexB].a,C$Tzs=this.m_qA.SetAngle(C$Tzn),C$Tzo=this.m_qB.SetAngle(C$Tzr),C$Tzf=this.m_invMassA,C$Tzp=this.m_invMassB,C$Tza=this.m_invIA,C$Tzc=this.m_invIB,C$Tzs=(C$Tzj.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),C$TzB.MulRV(C$Tzs,this.m_lalcA,this.m_rA)),C$Tzo=(C$Tzj.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),C$TzB.MulRV(C$Tzo,this.m_lalcB,this.m_rB)),C$Tzl=this.m_K;return C$Tzl.ex.x=C$Tzf+C$Tzp+C$Tzs.y*C$Tzs.y*C$Tza+C$Tzo.y*C$Tzo.y*C$Tzc,C$Tzl.ey.x=-C$Tzs.y*C$Tzs.x*C$Tza-C$Tzo.y*C$Tzo.x*C$Tzc,C$Tzl.ez.x=-C$Tzs.y*C$Tza-C$Tzo.y*C$Tzc,C$Tzl.ex.y=C$Tzl.ey.x,C$Tzl.ey.y=C$Tzf+C$Tzp+C$Tzs.x*C$Tzs.x*C$Tza+C$Tzo.x*C$Tzo.x*C$Tzc,C$Tzl.ez.y=C$Tzs.x*C$Tza+C$Tzo.x*C$Tzc,C$Tzl.ex.z=C$Tzl.ez.x,C$Tzl.ey.z=C$Tzl.ez.y,C$Tzl.ez.z=C$Tza+C$Tzc,0<this.m_frequencyHz?(C$Tzh=(C$Tze=C$Tzj.SubVV(C$Tzj.AddVV(C$Tzd,C$Tzo,C$Tzj.s_t0),C$Tzj.AddVV(C$Tz_,C$Tzs,C$Tzj.s_t1),C$Tzfr.SolvePositionConstraints_s_C1)).Length(),C$Tzu=0,C$Tzi=C$Tzl.Solve22(C$Tze.x,C$Tze.y,C$Tzfr.SolvePositionConstraints_s_P).SelfNeg(),C$Tz_.SelfMulSub(C$Tzf,C$Tzi),C$Tzn-=C$Tza*C$Tzj.CrossVV(C$Tzs,C$Tzi),C$Tzd.SelfMulAdd(C$Tzp,C$Tzi),C$Tzr+=C$Tzc*C$Tzj.CrossVV(C$Tzo,C$Tzi)):(C$Tze=C$Tzj.SubVV(C$Tzj.AddVV(C$Tzd,C$Tzo,C$Tzj.s_t0),C$Tzj.AddVV(C$Tz_,C$Tzs,C$Tzj.s_t1),C$Tzfr.SolvePositionConstraints_s_C1),C$Tzo=C$Tzr-C$Tzn-this.m_referenceAngle,C$Tzh=C$Tze.Length(),C$Tzu=C$TzD(C$Tzo),C$Tzs=C$Tzl.Solve33(C$Tze.x,C$Tze.y,C$Tzo,C$Tzfr.SolvePositionConstraints_s_impulse).SelfNeg(),C$Tzi=C$Tzfr.SolvePositionConstraints_s_P.Set(C$Tzs.x,C$Tzs.y),C$Tz_.SelfMulSub(C$Tzf,C$Tzi),C$Tzn-=C$Tza*(C$Tzj.CrossVV(this.m_rA,C$Tzi)+C$Tzs.z),C$Tzd.SelfMulAdd(C$Tzp,C$Tzi),C$Tzr+=C$Tzc*(C$Tzj.CrossVV(this.m_rB,C$Tzi)+C$Tzs.z)),C$Tzt.positions[this.m_indexA].a=C$Tzn,C$Tzt.positions[this.m_indexB].a=C$Tzr,C$Tzh<=.008&&C$Tzu<=C$TzI;},C$Tzfr.prototype.GetAnchorA=function(C$Tzt){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,C$Tzt);},C$Tzfr.prototype.GetAnchorB=function(C$Tzt){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,C$Tzt);},C$Tzfr.prototype.GetReactionForce=function(C$Tzt,C$Tze){return C$Tze.x=C$Tzt*this.m_impulse.x,C$Tze.y=C$Tzt*this.m_impulse.y,C$Tze;},C$Tzfr.prototype.GetReactionTorque=function(C$Tzt){return C$Tzt*this.m_impulse.z;},C$Tzfr.prototype.GetLocalAnchorA=function(){return this.m_localAnchorA;},C$Tzfr.prototype.GetLocalAnchorB=function(){return this.m_localAnchorB;},C$Tzfr.prototype.GetReferenceAngle=function(){return this.m_referenceAngle;},C$Tzfr.prototype.SetFrequency=function(C$Tzt){this.m_frequencyHz=C$Tzt;},C$Tzfr.prototype.GetFrequency=function(){return this.m_frequencyHz;},C$Tzfr.prototype.SetDampingRatio=function(C$Tzt){this.m_dampingRatio=C$Tzt;},C$Tzfr.prototype.GetDampingRatio=function(){return this.m_dampingRatio;},C$Tzfr.prototype.Dump=function(C$Tzt){var C$Tze=this.m_bodyA.m_islandIndex,C$Tzi=this.m_bodyB.m_islandIndex;C$Tzt("  const jd: b2WeldJointDef = new b2WeldJointDef();\n"),C$Tzt("  jd.bodyA = bodies[%d];\n",C$Tze),C$Tzt("  jd.bodyB = bodies[%d];\n",C$Tzi),C$Tzt("  jd.collideConnected = %s;\n",this.m_collideConnected?H[583]:H[1384]),C$Tzt("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),C$Tzt("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),C$Tzt("  jd.referenceAngle = %.15f;\n",this.m_referenceAngle),C$Tzt("  jd.frequencyHz = %.15f;\n",this.m_frequencyHz),C$Tzt("  jd.dampingRatio = %.15f;\n",this.m_dampingRatio),C$Tzt("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index);},C$Tzfr.InitVelocityConstraints_s_P=new C$Tzj(),C$Tzfr.SolveVelocityConstraints_s_Cdot1=new C$Tzj(),C$Tzfr.SolveVelocityConstraints_s_impulse1=new C$Tzj(),C$Tzfr.SolveVelocityConstraints_s_impulse=new C$Tzb(),C$Tzfr.SolveVelocityConstraints_s_P=new C$Tzj(),C$Tzfr.SolvePositionConstraints_s_C1=new C$Tzj(),C$Tzfr.SolvePositionConstraints_s_P=new C$Tzj(),C$Tzfr.SolvePositionConstraints_s_impulse=new C$Tzb();var C$Tz_r,C$Tzdr=C$Tzfr;function C$Tzfr(C$Tzt){var C$Tze=C$Tz_r.call(this,C$Tzt)||this;return C$Tze.m_frequencyHz=0,C$Tze.m_dampingRatio=0,C$Tze.m_bias=0,C$Tze.m_localAnchorA=new C$Tzj(),C$Tze.m_localAnchorB=new C$Tzj(),C$Tze.m_referenceAngle=0,C$Tze.m_gamma=0,C$Tze.m_impulse=new C$Tzb(0,0,0),C$Tze.m_indexA=0,C$Tze.m_indexB=0,C$Tze.m_rA=new C$Tzj(),C$Tze.m_rB=new C$Tzj(),C$Tze.m_localCenterA=new C$Tzj(),C$Tze.m_localCenterB=new C$Tzj(),C$Tze.m_invMassA=0,C$Tze.m_invMassB=0,C$Tze.m_invIA=0,C$Tze.m_invIB=0,C$Tze.m_mass=new C$Tzk(),C$Tze.m_qA=new C$TzB(),C$Tze.m_qB=new C$TzB(),C$Tze.m_lalcA=new C$Tzj(),C$Tze.m_lalcB=new C$Tzj(),C$Tze.m_K=new C$Tzk(),C$Tze.m_frequencyHz=C$Tzf(C$Tzt.frequencyHz,0),C$Tze.m_dampingRatio=C$Tzf(C$Tzt.dampingRatio,0),C$Tze.m_localAnchorA.Copy(C$Tzf(C$Tzt.localAnchorA,C$Tzj.ZERO)),C$Tze.m_localAnchorB.Copy(C$Tzf(C$Tzt.localAnchorB,C$Tzj.ZERO)),C$Tze.m_referenceAngle=C$Tzf(C$Tzt.referenceAngle,0),C$Tze.m_impulse.SetZero(),C$Tze;}C$TzDi(C$Tzyr,C$Tzpr=C$Tz$i),C$Tzyr.prototype.Initialize=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this.bodyA=C$Tzt,this.bodyB=C$Tze,this.bodyA.GetLocalPoint(C$Tzi,this.localAnchorA),this.bodyB.GetLocalPoint(C$Tzi,this.localAnchorB),this.bodyA.GetLocalVector(C$Tzn,this.localAxisA);};var C$Tzpr,C$Tzmr=C$Tzyr;function C$Tzyr(){var C$Tzt=C$Tzpr.call(this,C$TzH.b2JointType.e_wheelJoint)||this;return C$Tzt.localAnchorA=new C$Tzj(0,0),C$Tzt.localAnchorB=new C$Tzj(0,0),C$Tzt.localAxisA=new C$Tzj(1,0),C$Tzt.enableMotor=!1,C$Tzt.maxMotorTorque=0,C$Tzt.motorSpeed=0,C$Tzt.frequencyHz=2,C$Tzt.dampingRatio=.7,C$Tzt;}C$TzDi(C$Tzxr,C$Tzgr=C$Tzen),C$Tzxr.prototype.GetMotorSpeed=function(){return this.m_motorSpeed;},C$Tzxr.prototype.GetMaxMotorTorque=function(){return this.m_maxMotorTorque;},C$Tzxr.prototype.SetSpringFrequencyHz=function(C$Tzt){this.m_frequencyHz=C$Tzt;},C$Tzxr.prototype.GetSpringFrequencyHz=function(){return this.m_frequencyHz;},C$Tzxr.prototype.SetSpringDampingRatio=function(C$Tzt){this.m_dampingRatio=C$Tzt;},C$Tzxr.prototype.GetSpringDampingRatio=function(){return this.m_dampingRatio;},C$Tzxr.prototype.InitVelocityConstraints=function(C$Tzt){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var C$Tze=this.m_invMassA,C$Tzi=this.m_invMassB,C$Tzn=this.m_invIA,C$Tzr=this.m_invIB,C$Tzs=C$Tzt.positions[this.m_indexA].c,C$Tzo=C$Tzt.positions[this.m_indexA].a,C$Tzh=C$Tzt.velocities[this.m_indexA].v,C$Tzu=C$Tzt.velocities[this.m_indexA].w,C$Tza=C$Tzt.positions[this.m_indexB].c,C$Tzc=C$Tzt.positions[this.m_indexB].a,C$Tz_=C$Tzt.velocities[this.m_indexB].v,C$Tzd=C$Tzt.velocities[this.m_indexB].w,C$Tzo=this.m_qA.SetAngle(C$Tzo),C$Tzc=this.m_qB.SetAngle(C$Tzc),C$Tzl=(C$Tzj.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),C$TzB.MulRV(C$Tzo,this.m_lalcA,this.m_rA)),C$Tzc=(C$Tzj.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),C$TzB.MulRV(C$Tzc,this.m_lalcB,this.m_rB)),C$Tza=C$Tzj.SubVV(C$Tzj.AddVV(C$Tza,C$Tzc,C$Tzj.s_t0),C$Tzj.AddVV(C$Tzs,C$Tzl,C$Tzj.s_t1),C$Tzxr.InitVelocityConstraints_s_d);C$TzB.MulRV(C$Tzo,this.m_localYAxisA,this.m_ay),this.m_sAy=C$Tzj.CrossVV(C$Tzj.AddVV(C$Tza,C$Tzl,C$Tzj.s_t0),this.m_ay),this.m_sBy=C$Tzj.CrossVV(C$Tzc,this.m_ay),this.m_mass=C$Tze+C$Tzi+C$Tzn*this.m_sAy*this.m_sAy+C$Tzr*this.m_sBy*this.m_sBy,0<this.m_mass&&(this.m_mass=1/this.m_mass),this.m_springMass=0,this.m_bias=0,(this.m_gamma=0)<this.m_frequencyHz?(C$TzB.MulRV(C$Tzo,this.m_localXAxisA,this.m_ax),this.m_sAx=C$Tzj.CrossVV(C$Tzj.AddVV(C$Tza,C$Tzl,C$Tzj.s_t0),this.m_ax),this.m_sBx=C$Tzj.CrossVV(C$Tzc,this.m_ax),0<(C$Tzs=C$Tze+C$Tzi+C$Tzn*this.m_sAx*this.m_sAx+C$Tzr*this.m_sBx*this.m_sBx)&&(this.m_springMass=1/C$Tzs,C$Tzo=C$Tzj.DotVV(C$Tza,this.m_ax),C$Tzl=2*C$Tzm*this.m_frequencyHz,C$Tzc=2*this.m_springMass*this.m_dampingRatio*C$Tzl,C$Tze=this.m_springMass*C$Tzl*C$Tzl,C$Tzi=C$Tzt.step.dt,this.m_gamma=C$Tzi*(C$Tzc+C$Tzi*C$Tze),0<this.m_gamma&&(this.m_gamma=1/this.m_gamma),this.m_bias=C$Tzo*C$Tzi*C$Tze*this.m_gamma,this.m_springMass=C$Tzs+this.m_gamma,0<this.m_springMass&&(this.m_springMass=1/this.m_springMass))):this.m_springImpulse=0,this.m_enableMotor?(this.m_motorMass=C$Tzn+C$Tzr,0<this.m_motorMass&&(this.m_motorMass=1/this.m_motorMass)):(this.m_motorMass=0,this.m_motorImpulse=0),C$Tzt.step.warmStarting?(this.m_impulse*=C$Tzt.step.dtRatio,this.m_springImpulse*=C$Tzt.step.dtRatio,this.m_motorImpulse*=C$Tzt.step.dtRatio,C$Tza=C$Tzj.AddVV(C$Tzj.MulSV(this.m_impulse,this.m_ay,C$Tzj.s_t0),C$Tzj.MulSV(this.m_springImpulse,this.m_ax,C$Tzj.s_t1),C$Tzxr.InitVelocityConstraints_s_P),C$Tzl=this.m_impulse*this.m_sAy+this.m_springImpulse*this.m_sAx+this.m_motorImpulse,C$Tzc=this.m_impulse*this.m_sBy+this.m_springImpulse*this.m_sBx+this.m_motorImpulse,C$Tzh.SelfMulSub(this.m_invMassA,C$Tza),C$Tzu-=this.m_invIA*C$Tzl,C$Tz_.SelfMulAdd(this.m_invMassB,C$Tza),C$Tzd+=this.m_invIB*C$Tzc):(this.m_impulse=0,this.m_springImpulse=0,this.m_motorImpulse=0),C$Tzt.velocities[this.m_indexA].w=C$Tzu,C$Tzt.velocities[this.m_indexB].w=C$Tzd;},C$Tzxr.prototype.SolveVelocityConstraints=function(C$Tzt){var C$Tzh=this.m_invMassA,C$Tzu=this.m_invMassB,C$Tze=this.m_invIA,C$Tzi=this.m_invIB,C$Tzn=C$Tzt.velocities[this.m_indexA].v,C$Tzr=C$Tzt.velocities[this.m_indexA].w,C$Tzs=C$Tzt.velocities[this.m_indexB].v,C$Tzo=C$Tzt.velocities[this.m_indexB].w,C$Tza=C$Tzj.DotVV(this.m_ax,C$Tzj.SubVV(C$Tzs,C$Tzn,C$Tzj.s_t0))+this.m_sBx*C$Tzo-this.m_sAx*C$Tzr,C$Tzc=-this.m_springMass*(C$Tza+this.m_bias+this.m_gamma*this.m_springImpulse),C$Tzl=(this.m_springImpulse+=C$Tzc,C$Tzj.MulSV(C$Tzc,this.m_ax,C$Tzxr.SolveVelocityConstraints_s_P)),C$Tz_=C$Tzc*this.m_sAx,C$Tzd=C$Tzc*this.m_sBx,C$Tza=(C$Tzn.SelfMulSub(C$Tzh,C$Tzl),C$Tzr-=C$Tze*C$Tz_,C$Tzs.SelfMulAdd(C$Tzu,C$Tzl),(C$Tzo+=C$Tzi*C$Tzd)-C$Tzr-this.m_motorSpeed),C$Tzc=-this.m_motorMass*C$Tza,C$Tzf=this.m_motorImpulse,C$Tzp=C$Tzt.step.dt*this.m_maxMotorTorque,C$Tza=(this.m_motorImpulse=C$TzO(this.m_motorImpulse+C$Tzc,-C$Tzp,C$Tzp),C$Tzr-=C$Tze*(C$Tzc=this.m_motorImpulse-C$Tzf),C$Tzo+=C$Tzi*C$Tzc,C$Tzj.DotVV(this.m_ay,C$Tzj.SubVV(C$Tzs,C$Tzn,C$Tzj.s_t0))+this.m_sBy*C$Tzo-this.m_sAy*C$Tzr),C$Tzc=-this.m_mass*C$Tza,C$Tzl=(this.m_impulse+=C$Tzc,C$Tzj.MulSV(C$Tzc,this.m_ay,C$Tzxr.SolveVelocityConstraints_s_P)),C$Tz_=C$Tzc*this.m_sAy,C$Tzd=C$Tzc*this.m_sBy;C$Tzn.SelfMulSub(C$Tzh,C$Tzl),C$Tzr-=C$Tze*C$Tz_,C$Tzs.SelfMulAdd(C$Tzu,C$Tzl),C$Tzo+=C$Tzi*C$Tzd,C$Tzt.velocities[this.m_indexA].w=C$Tzr,C$Tzt.velocities[this.m_indexB].w=C$Tzo;},C$Tzxr.prototype.SolvePositionConstraints=function(C$Tzt){var C$Tze=C$Tzt.positions[this.m_indexA].c,C$Tzi=C$Tzt.positions[this.m_indexA].a,C$Tzn=C$Tzt.positions[this.m_indexB].c,C$Tzr=C$Tzt.positions[this.m_indexB].a,C$Tzs=this.m_qA.SetAngle(C$Tzi),C$Tzo=this.m_qB.SetAngle(C$Tzr),C$Tza=(C$Tzj.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),C$TzB.MulRV(C$Tzs,this.m_lalcA,this.m_rA)),C$Tzo=(C$Tzj.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),C$TzB.MulRV(C$Tzo,this.m_lalcB,this.m_rB)),C$Tzc=C$Tzj.AddVV(C$Tzj.SubVV(C$Tzn,C$Tze,C$Tzj.s_t0),C$Tzj.SubVV(C$Tzo,C$Tza,C$Tzj.s_t1),C$Tzxr.SolvePositionConstraints_s_d),C$Tzs=C$TzB.MulRV(C$Tzs,this.m_localYAxisA,this.m_ay),C$Tza=C$Tzj.CrossVV(C$Tzj.AddVV(C$Tzc,C$Tza,C$Tzj.s_t0),C$Tzs),C$Tzo=C$Tzj.CrossVV(C$Tzo,C$Tzs),C$Tzc=C$Tzj.DotVV(C$Tzc,this.m_ay),C$Tzl=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy,C$Tzl=0!==C$Tzl?-C$Tzc/C$Tzl:0,C$Tzs=C$Tzj.MulSV(C$Tzl,C$Tzs,C$Tzxr.SolvePositionConstraints_s_P),C$Tza=C$Tzl*C$Tza,C$Tzl=C$Tzl*C$Tzo;return C$Tze.SelfMulSub(this.m_invMassA,C$Tzs),C$Tzi-=this.m_invIA*C$Tza,C$Tzn.SelfMulAdd(this.m_invMassB,C$Tzs),C$Tzr+=this.m_invIB*C$Tzl,C$Tzt.positions[this.m_indexA].a=C$Tzi,C$Tzt.positions[this.m_indexB].a=C$Tzr,C$TzD(C$Tzc)<=.008;},C$Tzxr.prototype.GetDefinition=function(C$Tzt){return C$Tzt;},C$Tzxr.prototype.GetAnchorA=function(C$Tzt){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,C$Tzt);},C$Tzxr.prototype.GetAnchorB=function(C$Tzt){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,C$Tzt);},C$Tzxr.prototype.GetReactionForce=function(C$Tzt,C$Tze){return C$Tze.x=C$Tzt*(this.m_impulse*this.m_ay.x+this.m_springImpulse*this.m_ax.x),C$Tze.y=C$Tzt*(this.m_impulse*this.m_ay.y+this.m_springImpulse*this.m_ax.y),C$Tze;},C$Tzxr.prototype.GetReactionTorque=function(C$Tzt){return C$Tzt*this.m_motorImpulse;},C$Tzxr.prototype.GetLocalAnchorA=function(){return this.m_localAnchorA;},C$Tzxr.prototype.GetLocalAnchorB=function(){return this.m_localAnchorB;},C$Tzxr.prototype.GetLocalAxisA=function(){return this.m_localXAxisA;},C$Tzxr.prototype.GetJointTranslation=function(){return this.GetPrismaticJointTranslation();},C$Tzxr.prototype.GetJointLinearSpeed=function(){return this.GetPrismaticJointSpeed();},C$Tzxr.prototype.GetJointAngle=function(){return this.GetRevoluteJointAngle();},C$Tzxr.prototype.GetJointAngularSpeed=function(){return this.GetRevoluteJointSpeed();},C$Tzxr.prototype.GetPrismaticJointTranslation=function(){var C$Tzt=this.m_bodyA,C$Tze=this.m_bodyB,C$Tzi=C$Tzt.GetWorldPoint(this.m_localAnchorA,new C$Tzj()),C$Tze=C$Tze.GetWorldPoint(this.m_localAnchorB,new C$Tzj()),C$Tze=C$Tzj.SubVV(C$Tze,C$Tzi,new C$Tzj()),C$Tzi=C$Tzt.GetWorldVector(this.m_localXAxisA,new C$Tzj());return C$Tzj.DotVV(C$Tze,C$Tzi);},C$Tzxr.prototype.GetPrismaticJointSpeed=function(){var C$Tzt=this.m_bodyA,C$Tze=this.m_bodyB,C$Tzi=(C$Tzj.SubVV(this.m_localAnchorA,C$Tzt.m_sweep.localCenter,this.m_lalcA),C$TzB.MulRV(C$Tzt.m_xf.q,this.m_lalcA,this.m_rA)),C$Tzn=(C$Tzj.SubVV(this.m_localAnchorB,C$Tze.m_sweep.localCenter,this.m_lalcB),C$TzB.MulRV(C$Tze.m_xf.q,this.m_lalcB,this.m_rB)),C$Tzr=C$Tzj.AddVV(C$Tzt.m_sweep.c,C$Tzi,C$Tzj.s_t0),C$Tzs=C$Tzj.AddVV(C$Tze.m_sweep.c,C$Tzn,C$Tzj.s_t1),C$Tzs=C$Tzj.SubVV(C$Tzs,C$Tzr,C$Tzj.s_t2),C$Tzr=C$Tzt.GetWorldVector(this.m_localXAxisA,new C$Tzj()),C$Tzo=C$Tzt.m_linearVelocity,C$Tza=C$Tze.m_linearVelocity,C$Tzt=C$Tzt.m_angularVelocity,C$Tze=C$Tze.m_angularVelocity;return C$Tzj.DotVV(C$Tzs,C$Tzj.CrossSV(C$Tzt,C$Tzr,C$Tzj.s_t0))+C$Tzj.DotVV(C$Tzr,C$Tzj.SubVV(C$Tzj.AddVCrossSV(C$Tza,C$Tze,C$Tzn,C$Tzj.s_t0),C$Tzj.AddVCrossSV(C$Tzo,C$Tzt,C$Tzi,C$Tzj.s_t1),C$Tzj.s_t0));},C$Tzxr.prototype.GetRevoluteJointAngle=function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a;},C$Tzxr.prototype.GetRevoluteJointSpeed=function(){var C$Tzt=this.m_bodyA.m_angularVelocity;return this.m_bodyB.m_angularVelocity-C$Tzt;},C$Tzxr.prototype.IsMotorEnabled=function(){return this.m_enableMotor;},C$Tzxr.prototype.EnableMotor=function(C$Tzt){C$Tzt!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=C$Tzt);},C$Tzxr.prototype.SetMotorSpeed=function(C$Tzt){C$Tzt!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=C$Tzt);},C$Tzxr.prototype.SetMaxMotorTorque=function(C$Tzt){C$Tzt!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=C$Tzt);},C$Tzxr.prototype.GetMotorTorque=function(C$Tzt){return C$Tzt*this.m_motorImpulse;},C$Tzxr.prototype.Dump=function(C$Tzt){var C$Tze=this.m_bodyA.m_islandIndex,C$Tzi=this.m_bodyB.m_islandIndex;C$Tzt("  const jd: b2WheelJointDef = new b2WheelJointDef();\n"),C$Tzt("  jd.bodyA = bodies[%d];\n",C$Tze),C$Tzt("  jd.bodyB = bodies[%d];\n",C$Tzi),C$Tzt("  jd.collideConnected = %s;\n",this.m_collideConnected?H[583]:H[1384]),C$Tzt("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),C$Tzt("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),C$Tzt("  jd.localAxisA.Set(%.15f, %.15f);\n",this.m_localXAxisA.x,this.m_localXAxisA.y),C$Tzt("  jd.enableMotor = %s;\n",this.m_enableMotor?H[583]:H[1384]),C$Tzt("  jd.motorSpeed = %.15f;\n",this.m_motorSpeed),C$Tzt("  jd.maxMotorTorque = %.15f;\n",this.m_maxMotorTorque),C$Tzt("  jd.frequencyHz = %.15f;\n",this.m_frequencyHz),C$Tzt("  jd.dampingRatio = %.15f;\n",this.m_dampingRatio),C$Tzt("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index);},C$Tzxr.InitVelocityConstraints_s_d=new C$Tzj(),C$Tzxr.InitVelocityConstraints_s_P=new C$Tzj(),C$Tzxr.SolveVelocityConstraints_s_P=new C$Tzj(),C$Tzxr.SolvePositionConstraints_s_d=new C$Tzj(),C$Tzxr.SolvePositionConstraints_s_P=new C$Tzj();var C$Tzgr,C$Tzvr=C$Tzxr;function C$Tzxr(C$Tzt){var C$Tze=C$Tzgr.call(this,C$Tzt)||this;return C$Tze.m_frequencyHz=0,C$Tze.m_dampingRatio=0,C$Tze.m_localAnchorA=new C$Tzj(),C$Tze.m_localAnchorB=new C$Tzj(),C$Tze.m_localXAxisA=new C$Tzj(),C$Tze.m_localYAxisA=new C$Tzj(),C$Tze.m_impulse=0,C$Tze.m_motorImpulse=0,C$Tze.m_springImpulse=0,C$Tze.m_maxMotorTorque=0,C$Tze.m_motorSpeed=0,C$Tze.m_enableMotor=!1,C$Tze.m_indexA=0,C$Tze.m_indexB=0,C$Tze.m_localCenterA=new C$Tzj(),C$Tze.m_localCenterB=new C$Tzj(),C$Tze.m_invMassA=0,C$Tze.m_invMassB=0,C$Tze.m_invIA=0,C$Tze.m_invIB=0,C$Tze.m_ax=new C$Tzj(),C$Tze.m_ay=new C$Tzj(),C$Tze.m_sAx=0,C$Tze.m_sBx=0,C$Tze.m_sAy=0,C$Tze.m_sBy=0,C$Tze.m_mass=0,C$Tze.m_motorMass=0,C$Tze.m_springMass=0,C$Tze.m_bias=0,C$Tze.m_gamma=0,C$Tze.m_qA=new C$TzB(),C$Tze.m_qB=new C$TzB(),C$Tze.m_lalcA=new C$Tzj(),C$Tze.m_lalcB=new C$Tzj(),C$Tze.m_rA=new C$Tzj(),C$Tze.m_rB=new C$Tzj(),C$Tze.m_frequencyHz=C$Tzf(C$Tzt.frequencyHz,2),C$Tze.m_dampingRatio=C$Tzf(C$Tzt.dampingRatio,.7),C$Tze.m_localAnchorA.Copy(C$Tzf(C$Tzt.localAnchorA,C$Tzj.ZERO)),C$Tze.m_localAnchorB.Copy(C$Tzf(C$Tzt.localAnchorB,C$Tzj.ZERO)),C$Tze.m_localXAxisA.Copy(C$Tzf(C$Tzt.localAxisA,C$Tzj.UNITX)),C$Tzj.CrossOneV(C$Tze.m_localXAxisA,C$Tze.m_localYAxisA),C$Tze.m_maxMotorTorque=C$Tzf(C$Tzt.maxMotorTorque,0),C$Tze.m_motorSpeed=C$Tzf(C$Tzt.motorSpeed,0),C$Tze.m_enableMotor=C$Tzf(C$Tzt.enableMotor,!1),C$Tze.m_ax.SetZero(),C$Tze.m_ay.SetZero(),C$Tze;}function C$Tzbr(C$Tzt,C$Tze){return C$TzY(C$Tzt*C$Tze);}function C$TzAr(C$Tzt,C$Tze){return C$Tze<C$Tzt?C$Tzt:C$Tze;}var C$TzCr=function(C$Tzt){this.prev=null,this.next=null,this.contact=C$Tzt;},C$TzSr=(C$TzTr.prototype.GetManifold=function(){return this.m_manifold;},C$TzTr.prototype.GetWorldManifold=function(C$Tzt){var C$Tze=this.m_fixtureA.GetBody(),C$Tzi=this.m_fixtureB.GetBody(),C$Tzn=this.m_fixtureA.GetShape(),C$Tzr=this.m_fixtureB.GetShape();C$Tzt.Initialize(this.m_manifold,C$Tze.GetTransform(),C$Tzn.m_radius,C$Tzi.GetTransform(),C$Tzr.m_radius);},C$TzTr.prototype.IsTouching=function(){return this.m_touchingFlag;},C$TzTr.prototype.SetEnabled=function(C$Tzt){this.m_enabledFlag=C$Tzt;},C$TzTr.prototype.IsEnabled=function(){return this.m_enabledFlag;},C$TzTr.prototype.GetNext=function(){return this.m_next;},C$TzTr.prototype.GetFixtureA=function(){return this.m_fixtureA;},C$TzTr.prototype.GetChildIndexA=function(){return this.m_indexA;},C$TzTr.prototype.GetFixtureB=function(){return this.m_fixtureB;},C$TzTr.prototype.GetChildIndexB=function(){return this.m_indexB;},C$TzTr.prototype.FlagForFiltering=function(){this.m_filterFlag=!0;},C$TzTr.prototype.SetFriction=function(C$Tzt){this.m_friction=C$Tzt;},C$TzTr.prototype.GetFriction=function(){return this.m_friction;},C$TzTr.prototype.ResetFriction=function(){this.m_friction=C$Tzbr(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction);},C$TzTr.prototype.SetRestitution=function(C$Tzt){this.m_restitution=C$Tzt;},C$TzTr.prototype.GetRestitution=function(){return this.m_restitution;},C$TzTr.prototype.ResetRestitution=function(){this.m_restitution=C$TzAr(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution);},C$TzTr.prototype.SetTangentSpeed=function(C$Tzt){this.m_tangentSpeed=C$Tzt;},C$TzTr.prototype.GetTangentSpeed=function(){return this.m_tangentSpeed;},C$TzTr.prototype.Reset=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!0,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_fixtureA=C$Tzt,this.m_fixtureB=C$Tzi,this.m_indexA=C$Tze,this.m_indexB=C$Tzn,this.m_manifold.pointCount=0,this.m_prev=null,this.m_next=null,delete this.m_nodeA.contact,this.m_nodeA.prev=null,this.m_nodeA.next=null,delete this.m_nodeA.other,delete this.m_nodeB.contact,this.m_nodeB.prev=null,this.m_nodeB.next=null,delete this.m_nodeB.other,this.m_toiCount=0,this.m_friction=C$Tzbr(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=C$TzAr(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution);},C$TzTr.prototype.Update=function(C$Tzt){var C$Tze=this.m_oldManifold,C$Tze=(this.m_oldManifold=this.m_manifold,this.m_manifold=C$Tze,!(this.m_enabledFlag=!0)),C$Tzi=this.m_touchingFlag,C$Tzn=this.m_fixtureA.IsSensor(),C$Tzr=this.m_fixtureB.IsSensor(),C$Tzn=C$Tzn||C$Tzr,C$Tzr=this.m_fixtureA.GetBody(),C$Tzs=this.m_fixtureB.GetBody(),C$Tzh=C$Tzr.GetTransform(),C$Tzu=C$Tzs.GetTransform();if(C$Tzn){var C$Tz_=this.m_fixtureA.GetShape(),C$Tzd=this.m_fixtureB.GetShape(),C$Tze=C$Tzae(C$Tz_,this.m_indexA,C$Tzd,this.m_indexB,C$Tzh,C$Tzu);this.m_manifold.pointCount=0;}else{this.Evaluate(this.m_manifold,C$Tzh,C$Tzu),C$Tze=0<this.m_manifold.pointCount;for(var C$Tzo=0;C$Tzo<this.m_manifold.pointCount;++C$Tzo)for(var C$Tza=this.m_manifold.points[C$Tzo],C$Tzf=(C$Tza.normalImpulse=0,C$Tza.tangentImpulse=0,C$Tza.id),C$Tzc=0;C$Tzc<this.m_oldManifold.pointCount;++C$Tzc){var C$Tzl=this.m_oldManifold.points[C$Tzc];if(C$Tzl.id.key===C$Tzf.key){C$Tza.normalImpulse=C$Tzl.normalImpulse,C$Tza.tangentImpulse=C$Tzl.tangentImpulse;break;}}C$Tze!==C$Tzi&&(C$Tzr.SetAwake(!0),C$Tzs.SetAwake(!0));}this.m_touchingFlag=C$Tze,!C$Tzi&&C$Tze&&C$Tzt&&C$Tzt.BeginContact(this),C$Tzi&&!C$Tze&&C$Tzt&&C$Tzt.EndContact(this),!C$Tzn&&C$Tze&&C$Tzt&&C$Tzt.PreSolve(this,this.m_oldManifold);},C$TzTr.prototype.ComputeTOI=function(C$Tzt,C$Tze){var C$Tzi=C$TzTr.ComputeTOI_s_input,C$Tzt=(C$Tzi.proxyA.SetShape(this.m_fixtureA.GetShape(),this.m_indexA),C$Tzi.proxyB.SetShape(this.m_fixtureB.GetShape(),this.m_indexB),C$Tzi.sweepA.Copy(C$Tzt),C$Tzi.sweepB.Copy(C$Tze),C$Tzi.tMax=.008,C$TzTr.ComputeTOI_s_output);return C$TzFe(C$Tzt,C$Tzi),C$Tzt.t;},C$TzTr.ComputeTOI_s_input=new C$TzSe(),C$TzTr.ComputeTOI_s_output=new C$TzTe(),C$TzTr);function C$TzTr(){this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!1,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_prev=null,this.m_next=null,this.m_indexA=0,this.m_indexB=0,this.m_manifold=new C$TzHt(),this.m_toiCount=0,this.m_toi=0,this.m_friction=0,this.m_restitution=0,this.m_tangentSpeed=0,this.m_oldManifold=new C$TzHt(),this.m_nodeA=new C$TzCr(this),this.m_nodeB=new C$TzCr(this);}C$TzDi(C$TzMr,C$Tzwr=C$TzSr),C$TzMr.Create=function(C$Tzt){return new C$TzMr();},C$TzMr.Destroy=function(C$Tzt,C$Tze){},C$TzMr.prototype.Reset=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzwr.prototype.Reset.call(this,C$Tzt,C$Tze,C$Tzi,C$Tzn);},C$TzMr.prototype.Evaluate=function(C$Tzt,C$Tze,C$Tzi){C$TzGe(C$Tzt,this.m_fixtureA.GetShape(),C$Tze,this.m_fixtureB.GetShape(),C$Tzi);};var C$Tzwr,C$TzEr=C$TzMr;function C$TzMr(){return C$Tzwr.call(this)||this;}C$TzDi(C$TzRr,C$TzIr=C$TzSr),C$TzRr.Create=function(C$Tzt){return new C$TzRr();},C$TzRr.Destroy=function(C$Tzt,C$Tze){},C$TzRr.prototype.Reset=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$TzIr.prototype.Reset.call(this,C$Tzt,C$Tze,C$Tzi,C$Tzn);},C$TzRr.prototype.Evaluate=function(C$Tzt,C$Tze,C$Tzi){C$Tzdi(C$Tzt,this.m_fixtureA.GetShape(),C$Tze,this.m_fixtureB.GetShape(),C$Tzi);};var C$TzIr,C$TzBr=C$TzRr;function C$TzRr(){return C$TzIr.call(this)||this;}C$TzDi(C$TzLr,C$TzPr=C$TzSr),C$TzLr.Create=function(C$Tzt){return new C$TzLr();},C$TzLr.Destroy=function(C$Tzt,C$Tze){},C$TzLr.prototype.Reset=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$TzPr.prototype.Reset.call(this,C$Tzt,C$Tze,C$Tzi,C$Tzn);},C$TzLr.prototype.Evaluate=function(C$Tzt,C$Tze,C$Tzi){C$TzHe(C$Tzt,this.m_fixtureA.GetShape(),C$Tze,this.m_fixtureB.GetShape(),C$Tzi);};var C$TzPr,C$TzDr=C$TzLr;function C$TzLr(){return C$TzPr.call(this)||this;}C$TzDi(C$TzFr,C$TzVr=C$TzSr),C$TzFr.Create=function(C$Tzt){return new C$TzFr();},C$TzFr.Destroy=function(C$Tzt,C$Tze){},C$TzFr.prototype.Reset=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$TzVr.prototype.Reset.call(this,C$Tzt,C$Tze,C$Tzi,C$Tzn);},C$TzFr.prototype.Evaluate=function(C$Tzt,C$Tze,C$Tzi){C$TzAi(C$Tzt,this.m_fixtureA.GetShape(),C$Tze,this.m_fixtureB.GetShape(),C$Tzi);};var C$TzVr,C$TzOr=C$TzFr;function C$TzFr(){return C$TzVr.call(this)||this;}C$TzDi(C$TzGr,C$TzNr=C$TzSr),C$TzGr.Create=function(C$Tzt){return new C$TzGr();},C$TzGr.Destroy=function(C$Tzt,C$Tze){},C$TzGr.prototype.Reset=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$TzNr.prototype.Reset.call(this,C$Tzt,C$Tze,C$Tzi,C$Tzn);},C$TzGr.prototype.Evaluate=function(C$Tzt,C$Tze,C$Tzi){C$TzMi(C$Tzt,this.m_fixtureA.GetShape(),C$Tze,this.m_fixtureB.GetShape(),C$Tzi);};var C$TzNr,C$Tzkr=C$TzGr;function C$TzGr(){return C$TzNr.call(this)||this;}C$TzDi(C$TzWr,C$Tzzr=C$TzSr),C$TzWr.Create=function(C$Tzt){return new C$TzWr();},C$TzWr.Destroy=function(C$Tzt,C$Tze){},C$TzWr.prototype.Reset=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzzr.prototype.Reset.call(this,C$Tzt,C$Tze,C$Tzi,C$Tzn);},C$TzWr.prototype.Evaluate=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this.m_fixtureA.GetShape(),C$Tzr=this.m_fixtureB.GetShape(),C$Tzs=C$TzWr.Evaluate_s_edge;C$Tzn.GetChildEdge(C$Tzs,this.m_indexA),C$TzAi(C$Tzt,C$Tzs,C$Tze,C$Tzr,C$Tzi);},C$TzWr.Evaluate_s_edge=new C$TzNi();var C$Tzzr,C$TzUr=C$TzWr;function C$TzWr(){return C$Tzzr.call(this)||this;}C$TzDi(C$TzXr,C$TzHr=C$TzSr),C$TzXr.Create=function(C$Tzt){return new C$TzXr();},C$TzXr.Destroy=function(C$Tzt,C$Tze){},C$TzXr.prototype.Reset=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$TzHr.prototype.Reset.call(this,C$Tzt,C$Tze,C$Tzi,C$Tzn);},C$TzXr.prototype.Evaluate=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this.m_fixtureA.GetShape(),C$Tzr=this.m_fixtureB.GetShape(),C$Tzs=C$TzXr.Evaluate_s_edge;C$Tzn.GetChildEdge(C$Tzs,this.m_indexA),C$TzMi(C$Tzt,C$Tzs,C$Tze,C$Tzr,C$Tzi);},C$TzXr.Evaluate_s_edge=new C$TzNi();var C$TzHr,C$Tzjr=C$TzXr;function C$TzXr(){return C$TzHr.call(this)||this;}var C$TzYr=function(){this.createFcn=null,this.destroyFcn=null,this.primary=!1;},C$Tzqr=(C$TzJr.prototype.AddType=function(C$Tze,C$Tzt,C$Tzi,C$Tzn){var C$Tzr=this,C$Tzs=C$Tzc(256,function(C$Tzt){return C$Tze(C$Tzr.m_allocator);});function C$Tzo(C$Tzt){return C$Tzs.pop()||C$Tze(C$Tzt);}function C$Tza(C$Tzt,C$Tze){C$Tzs.push(C$Tzt);}this.m_registers[C$Tzi][C$Tzn].createFcn=C$Tzo,this.m_registers[C$Tzi][C$Tzn].destroyFcn=C$Tza,this.m_registers[C$Tzi][C$Tzn].primary=!0,C$Tzi!==C$Tzn&&(this.m_registers[C$Tzn][C$Tzi].createFcn=C$Tzo,this.m_registers[C$Tzn][C$Tzi].destroyFcn=C$Tza,this.m_registers[C$Tzn][C$Tzi].primary=!1);},C$TzJr.prototype.InitializeRegisters=function(){this.m_registers=[];for(var C$Tzt=0;C$Tzt<C$TzH.b2ShapeType.e_shapeTypeCount;C$Tzt++){this.m_registers[C$Tzt]=[];for(var C$Tze=0;C$Tze<C$TzH.b2ShapeType.e_shapeTypeCount;C$Tze++)this.m_registers[C$Tzt][C$Tze]=new C$TzYr();}this.AddType(C$TzEr.Create,C$TzEr.Destroy,C$TzH.b2ShapeType.e_circleShape,C$TzH.b2ShapeType.e_circleShape),this.AddType(C$TzDr.Create,C$TzDr.Destroy,C$TzH.b2ShapeType.e_polygonShape,C$TzH.b2ShapeType.e_circleShape),this.AddType(C$TzBr.Create,C$TzBr.Destroy,C$TzH.b2ShapeType.e_polygonShape,C$TzH.b2ShapeType.e_polygonShape),this.AddType(C$TzOr.Create,C$TzOr.Destroy,C$TzH.b2ShapeType.e_edgeShape,C$TzH.b2ShapeType.e_circleShape),this.AddType(C$Tzkr.Create,C$Tzkr.Destroy,C$TzH.b2ShapeType.e_edgeShape,C$TzH.b2ShapeType.e_polygonShape),this.AddType(C$TzUr.Create,C$TzUr.Destroy,C$TzH.b2ShapeType.e_chainShape,C$TzH.b2ShapeType.e_circleShape),this.AddType(C$Tzjr.Create,C$Tzjr.Destroy,C$TzH.b2ShapeType.e_chainShape,C$TzH.b2ShapeType.e_polygonShape);},C$TzJr.prototype.Create=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tzt.GetType(),C$Tzs=C$Tzi.GetType(),C$Tzr=this.m_registers[C$Tzr][C$Tzs];return C$Tzr.createFcn?(C$Tzs=C$Tzr.createFcn(this.m_allocator),C$Tzr.primary?C$Tzs.Reset(C$Tzt,C$Tze,C$Tzi,C$Tzn):C$Tzs.Reset(C$Tzi,C$Tzn,C$Tzt,C$Tze),C$Tzs):null;},C$TzJr.prototype.Destroy=function(C$Tzt){var C$Tze=C$Tzt.m_fixtureA,C$Tzi=C$Tzt.m_fixtureB,C$Tze=(0<C$Tzt.m_manifold.pointCount&&!C$Tze.IsSensor()&&!C$Tzi.IsSensor()&&(C$Tze.GetBody().SetAwake(!0),C$Tzi.GetBody().SetAwake(!0)),C$Tze.GetType()),C$Tzi=C$Tzi.GetType(),C$Tze=this.m_registers[C$Tze][C$Tzi];C$Tze.destroyFcn&&C$Tze.destroyFcn(C$Tzt,this.m_allocator);},C$TzJr);function C$TzJr(C$Tzt){this.m_allocator=null,this.m_allocator=C$Tzt,this.InitializeRegisters();}C$TzKr.prototype.SayGoodbyeJoint=function(C$Tzt){},C$TzKr.prototype.SayGoodbyeFixture=function(C$Tzt){},C$TzKr.prototype.SayGoodbyeParticleGroup=function(C$Tzt){},C$TzKr.prototype.SayGoodbyeParticle=function(C$Tzt,C$Tze){};var C$TzZr=C$TzKr;function C$TzKr(){}C$Tz$r.prototype.ShouldCollide=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.GetBody(),C$Tzn=C$Tze.GetBody();if(C$Tzn.GetType()===C$TzH.b2BodyType.b2_staticBody&&C$Tzi.GetType()===C$TzH.b2BodyType.b2_staticBody)return!1;if(!C$Tzn.ShouldCollideConnected(C$Tzi))return!1;C$Tzn=C$Tzt.GetFilterData(),C$Tzi=C$Tze.GetFilterData();return C$Tzn.groupIndex===C$Tzi.groupIndex&&0!==C$Tzn.groupIndex?0<C$Tzn.groupIndex:0!=(C$Tzn.maskBits&C$Tzi.categoryBits)&&0!=(C$Tzn.categoryBits&C$Tzi.maskBits);},C$Tz$r.prototype.ShouldCollideFixtureParticle=function(C$Tzt,C$Tze,C$Tzi){return!0;},C$Tz$r.prototype.ShouldCollideParticleParticle=function(C$Tzt,C$Tze,C$Tzi){return!0;},C$Tz$r.b2_defaultFilter=new C$Tz$r();var C$TzQr=C$Tz$r;function C$Tz$r(){}var C$Tzts=function(){this.normalImpulses=C$Tzh(2),this.tangentImpulses=C$Tzh(2),this.count=0;},C$Tzes=(C$Tzis.prototype.BeginContact=function(C$Tzt){},C$Tzis.prototype.EndContact=function(C$Tzt){},C$Tzis.prototype.BeginContactFixtureParticle=function(C$Tzt,C$Tze){},C$Tzis.prototype.EndContactFixtureParticle=function(C$Tzt,C$Tze){},C$Tzis.prototype.BeginContactParticleParticle=function(C$Tzt,C$Tze){},C$Tzis.prototype.EndContactParticleParticle=function(C$Tzt,C$Tze){},C$Tzis.prototype.PreSolve=function(C$Tzt,C$Tze){},C$Tzis.prototype.PostSolve=function(C$Tzt,C$Tze){},C$Tzis.b2_defaultListener=new C$Tzis(),C$Tzis);function C$Tzis(){}C$Tzrs.prototype.ReportFixture=function(C$Tzt){return!0;},C$Tzrs.prototype.ReportParticle=function(C$Tzt,C$Tze){return!1;},C$Tzrs.prototype.ShouldQueryParticleSystem=function(C$Tzt){return!0;};var C$Tzns=C$Tzrs;function C$Tzrs(){}C$Tzos.prototype.ReportFixture=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzn;},C$Tzos.prototype.ReportParticle=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){return 0;},C$Tzos.prototype.ShouldQueryParticleSystem=function(C$Tzt){return!0;};var C$Tzss=C$Tzos;function C$Tzos(){}C$Tzcs.prototype.AddPair=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.fixture,C$Tzn=C$Tze.fixture,C$Tzr=C$Tzt.childIndex,C$Tzs=C$Tze.childIndex,C$Tzo=C$Tzi.GetBody(),C$Tzt=C$Tzn.GetBody();if(C$Tzo!==C$Tzt){for(var C$Tza=C$Tzt.GetContactList();C$Tza;){if(C$Tza.other===C$Tzo){var C$Tzc=C$Tza.contact.GetFixtureA(),C$Tzl=C$Tza.contact.GetFixtureB(),C$Tzh=C$Tza.contact.GetChildIndexA(),C$Tzu=C$Tza.contact.GetChildIndexB();if(C$Tzc===C$Tzi&&C$Tzl===C$Tzn&&C$Tzh===C$Tzr&&C$Tzu===C$Tzs)return;if(C$Tzc===C$Tzn&&C$Tzl===C$Tzi&&C$Tzh===C$Tzs&&C$Tzu===C$Tzr)return;}C$Tza=C$Tza.next;}this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(C$Tzi,C$Tzn)||null!==(C$Tze=this.m_contactFactory.Create(C$Tzi,C$Tzr,C$Tzn,C$Tzs))&&(C$Tzi=C$Tze.GetFixtureA(),C$Tzn=C$Tze.GetFixtureB(),C$Tzr=C$Tze.GetChildIndexA(),C$Tzs=C$Tze.GetChildIndexB(),C$Tzo=C$Tzi.m_body,C$Tzt=C$Tzn.m_body,C$Tze.m_prev=null,C$Tze.m_next=this.m_contactList,null!==this.m_contactList&&(this.m_contactList.m_prev=C$Tze),((this.m_contactList=C$Tze).m_nodeA.contact=C$Tze).m_nodeA.other=C$Tzt,C$Tze.m_nodeA.prev=null,C$Tze.m_nodeA.next=C$Tzo.m_contactList,null!==C$Tzo.m_contactList&&(C$Tzo.m_contactList.prev=C$Tze.m_nodeA),C$Tzo.m_contactList=C$Tze.m_nodeA,(C$Tze.m_nodeB.contact=C$Tze).m_nodeB.other=C$Tzo,C$Tze.m_nodeB.prev=null,C$Tze.m_nodeB.next=C$Tzt.m_contactList,null!==C$Tzt.m_contactList&&(C$Tzt.m_contactList.prev=C$Tze.m_nodeB),C$Tzt.m_contactList=C$Tze.m_nodeB,C$Tzi.IsSensor()||C$Tzn.IsSensor()||(C$Tzo.SetAwake(!0),C$Tzt.SetAwake(!0)),++this.m_contactCount);}},C$Tzcs.prototype.FindNewContacts=function(){var C$Tzi=this;this.m_broadPhase.UpdatePairs(function(C$Tzt,C$Tze){C$Tzi.AddPair(C$Tzt,C$Tze);});},C$Tzcs.prototype.Destroy=function(C$Tzt){var C$Tze=C$Tzt.GetFixtureA(),C$Tzi=C$Tzt.GetFixtureB(),C$Tze=C$Tze.GetBody(),C$Tzi=C$Tzi.GetBody();this.m_contactListener&&C$Tzt.IsTouching()&&this.m_contactListener.EndContact(C$Tzt),C$Tzt.m_prev&&(C$Tzt.m_prev.m_next=C$Tzt.m_next),C$Tzt.m_next&&(C$Tzt.m_next.m_prev=C$Tzt.m_prev),C$Tzt===this.m_contactList&&(this.m_contactList=C$Tzt.m_next),C$Tzt.m_nodeA.prev&&(C$Tzt.m_nodeA.prev.next=C$Tzt.m_nodeA.next),C$Tzt.m_nodeA.next&&(C$Tzt.m_nodeA.next.prev=C$Tzt.m_nodeA.prev),C$Tzt.m_nodeA===C$Tze.m_contactList&&(C$Tze.m_contactList=C$Tzt.m_nodeA.next),C$Tzt.m_nodeB.prev&&(C$Tzt.m_nodeB.prev.next=C$Tzt.m_nodeB.next),C$Tzt.m_nodeB.next&&(C$Tzt.m_nodeB.next.prev=C$Tzt.m_nodeB.prev),C$Tzt.m_nodeB===C$Tzi.m_contactList&&(C$Tzi.m_contactList=C$Tzt.m_nodeB.next),this.m_contactFactory.Destroy(C$Tzt),--this.m_contactCount;},C$Tzcs.prototype.Collide=function(){for(var C$Tzt=this.m_contactList;C$Tzt;){var C$Tze=C$Tzt.GetFixtureA(),C$Tzi=C$Tzt.GetFixtureB(),C$Tzn=C$Tzt.GetChildIndexA(),C$Tzr=C$Tzt.GetChildIndexB(),C$Tzs=C$Tze.GetBody(),C$Tzo=C$Tzi.GetBody();if(C$Tzt.m_filterFlag){if(this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(C$Tze,C$Tzi)){C$Tzt=(C$Tza=C$Tzt).m_next;this.Destroy(C$Tza);continue;}C$Tzt.m_filterFlag=!1;}var C$Tza,C$Tzs=C$Tzs.IsAwake()&&C$Tzs.m_type!==C$TzH.b2BodyType.b2_staticBody,C$Tzo=C$Tzo.IsAwake()&&C$Tzo.m_type!==C$TzH.b2BodyType.b2_staticBody;C$Tzs||C$Tzo?(C$Tzs=C$Tze.m_proxies[C$Tzn].treeNode,C$Tzo=C$Tzi.m_proxies[C$Tzr].treeNode,C$Tzie(C$Tzs.aabb,C$Tzo.aabb)?(C$Tzt.Update(this.m_contactListener),C$Tzt=C$Tzt.m_next):(C$Tzt=(C$Tza=C$Tzt).m_next,this.Destroy(C$Tza))):C$Tzt=C$Tzt.m_next;}};var C$Tzas=C$Tzcs;function C$Tzcs(){this.m_broadPhase=new C$Tzfe(),this.m_contactList=null,this.m_contactCount=0,this.m_contactFilter=C$TzQr.b2_defaultFilter,this.m_contactListener=C$Tzes.b2_defaultListener,this.m_allocator=null,this.m_contactFactory=new C$Tzqr(this.m_allocator);}C$Tzhs.prototype.Reset=function(){return this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0,this;};var C$Tzls=C$Tzhs;function C$Tzhs(){this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0;}C$Tz_s.prototype.Copy=function(C$Tzt){return this.dt=C$Tzt.dt,this.inv_dt=C$Tzt.inv_dt,this.dtRatio=C$Tzt.dtRatio,this.positionIterations=C$Tzt.positionIterations,this.velocityIterations=C$Tzt.velocityIterations,this.particleIterations=C$Tzt.particleIterations,this.warmStarting=C$Tzt.warmStarting,this;};var C$Tzus=C$Tz_s;function C$Tz_s(){this.dt=0,this.inv_dt=0,this.dtRatio=0,this.velocityIterations=0,this.positionIterations=0,this.particleIterations=0,this.warmStarting=!1;}C$Tzfs.MakeArray=function(C$Tzt){return C$Tzc(C$Tzt,function(C$Tzt){return new C$Tzfs();});};var C$Tzds=C$Tzfs;function C$Tzfs(){this.c=new C$Tzj(),this.a=0;}C$Tzms.MakeArray=function(C$Tzt){return C$Tzc(C$Tzt,function(C$Tzt){return new C$Tzms();});};var C$Tzps=C$Tzms;function C$Tzms(){this.v=new C$Tzj(),this.w=0;}var C$Tzys=function(){this.step=new C$Tzus();},C$Tzgs=(C$Tzvs.MakeArray=function(C$Tzt){return C$Tzc(C$Tzt,function(C$Tzt){return new C$Tzvs();});},C$Tzvs);function C$Tzvs(){this.rA=new C$Tzj(),this.rB=new C$Tzj(),this.normalImpulse=0,this.tangentImpulse=0,this.normalMass=0,this.tangentMass=0,this.velocityBias=0;}C$Tzbs.MakeArray=function(C$Tzt){return C$Tzc(C$Tzt,function(C$Tzt){return new C$Tzbs();});};var C$Tzxs=C$Tzbs;function C$Tzbs(){this.points=C$Tzgs.MakeArray(2),this.normal=new C$Tzj(),this.tangent=new C$Tzj(),this.normalMass=new C$TzF(),this.K=new C$TzF(),this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.invIA=0,this.invIB=0,this.friction=0,this.restitution=0,this.tangentSpeed=0,this.pointCount=0,this.contactIndex=0;}C$TzCs.MakeArray=function(C$Tzt){return C$Tzc(C$Tzt,function(C$Tzt){return new C$TzCs();});};var C$TzAs=C$TzCs;function C$TzCs(){this.localPoints=C$Tzj.MakeArray(2),this.localNormal=new C$Tzj(),this.localPoint=new C$Tzj(),this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.localCenterA=new C$Tzj(),this.localCenterB=new C$Tzj(),this.invIA=0,this.invIB=0,this.type=C$TzH.b2ManifoldType.e_unknown,this.radiusA=0,this.radiusB=0,this.pointCount=0;}var C$TzSs=function(){this.step=new C$Tzus(),this.count=0,this.allocator=null;},C$TzTs=(C$Tzws.prototype.Initialize=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tzws.Initialize_s_pointA,C$Tzs=C$Tzws.Initialize_s_pointB,C$Tzo=C$Tzws.Initialize_s_planePoint,C$Tza=C$Tzws.Initialize_s_clipPoint;switch(C$Tzt.type){case C$TzH.b2ManifoldType.e_circles:C$TzR.MulXV(C$Tze,C$Tzt.localPoint,C$Tzr),C$TzR.MulXV(C$Tzi,C$Tzt.localPoints[0],C$Tzs),C$Tzj.SubVV(C$Tzs,C$Tzr,this.normal).SelfNormalize(),C$Tzj.MidVV(C$Tzr,C$Tzs,this.point),this.separation=C$Tzj.DotVV(C$Tzj.SubVV(C$Tzs,C$Tzr,C$Tzj.s_t0),this.normal)-C$Tzt.radiusA-C$Tzt.radiusB;break;case C$TzH.b2ManifoldType.e_faceA:C$TzB.MulRV(C$Tze.q,C$Tzt.localNormal,this.normal),C$TzR.MulXV(C$Tze,C$Tzt.localPoint,C$Tzo),C$TzR.MulXV(C$Tzi,C$Tzt.localPoints[C$Tzn],C$Tza),this.separation=C$Tzj.DotVV(C$Tzj.SubVV(C$Tza,C$Tzo,C$Tzj.s_t0),this.normal)-C$Tzt.radiusA-C$Tzt.radiusB,this.point.Copy(C$Tza);break;case C$TzH.b2ManifoldType.e_faceB:C$TzB.MulRV(C$Tzi.q,C$Tzt.localNormal,this.normal),C$TzR.MulXV(C$Tzi,C$Tzt.localPoint,C$Tzo),C$TzR.MulXV(C$Tze,C$Tzt.localPoints[C$Tzn],C$Tza),this.separation=C$Tzj.DotVV(C$Tzj.SubVV(C$Tza,C$Tzo,C$Tzj.s_t0),this.normal)-C$Tzt.radiusA-C$Tzt.radiusB,this.point.Copy(C$Tza),this.normal.SelfNeg();}},C$Tzws.Initialize_s_pointA=new C$Tzj(),C$Tzws.Initialize_s_pointB=new C$Tzj(),C$Tzws.Initialize_s_planePoint=new C$Tzj(),C$Tzws.Initialize_s_clipPoint=new C$Tzj(),C$Tzws);function C$Tzws(){this.normal=new C$Tzj(),this.point=new C$Tzj(),this.separation=0;}C$TzMs.prototype.Initialize=function(C$Tzt){if(this.m_step.Copy(C$Tzt.step),this.m_allocator=C$Tzt.allocator,this.m_count=C$Tzt.count,this.m_positionConstraints.length<this.m_count)for(var C$Tzh=C$TzV(2*this.m_positionConstraints.length,this.m_count);this.m_positionConstraints.length<C$Tzh;)this.m_positionConstraints[this.m_positionConstraints.length]=new C$TzAs();if(this.m_velocityConstraints.length<this.m_count)for(C$Tzh=C$TzV(2*this.m_velocityConstraints.length,this.m_count);this.m_velocityConstraints.length<C$Tzh;)this.m_velocityConstraints[this.m_velocityConstraints.length]=new C$Tzxs();this.m_positions=C$Tzt.positions,this.m_velocities=C$Tzt.velocities,this.m_contacts=C$Tzt.contacts;for(var C$Tze=0;C$Tze<this.m_count;++C$Tze){var C$Tzi=this.m_contacts[C$Tze],C$Tzn=C$Tzi.m_fixtureA,C$Tzr=C$Tzi.m_fixtureB,C$Tzu=C$Tzn.GetShape(),C$Tz_=C$Tzr.GetShape(),C$Tzu=C$Tzu.m_radius,C$Tz_=C$Tz_.m_radius,C$Tzn=C$Tzn.GetBody(),C$Tzr=C$Tzr.GetBody(),C$Tzs=C$Tzi.GetManifold(),C$Tzd=C$Tzs.pointCount,C$Tzo=this.m_velocityConstraints[C$Tze],C$Tza=(C$Tzo.friction=C$Tzi.m_friction,C$Tzo.restitution=C$Tzi.m_restitution,C$Tzo.tangentSpeed=C$Tzi.m_tangentSpeed,C$Tzo.indexA=C$Tzn.m_islandIndex,C$Tzo.indexB=C$Tzr.m_islandIndex,C$Tzo.invMassA=C$Tzn.m_invMass,C$Tzo.invMassB=C$Tzr.m_invMass,C$Tzo.invIA=C$Tzn.m_invI,C$Tzo.invIB=C$Tzr.m_invI,C$Tzo.contactIndex=C$Tze,C$Tzo.pointCount=C$Tzd,C$Tzo.K.SetZero(),C$Tzo.normalMass.SetZero(),this.m_positionConstraints[C$Tze]);C$Tza.indexA=C$Tzn.m_islandIndex,C$Tza.indexB=C$Tzr.m_islandIndex,C$Tza.invMassA=C$Tzn.m_invMass,C$Tza.invMassB=C$Tzr.m_invMass,C$Tza.localCenterA.Copy(C$Tzn.m_sweep.localCenter),C$Tza.localCenterB.Copy(C$Tzr.m_sweep.localCenter),C$Tza.invIA=C$Tzn.m_invI,C$Tza.invIB=C$Tzr.m_invI,C$Tza.localNormal.Copy(C$Tzs.localNormal),C$Tza.localPoint.Copy(C$Tzs.localPoint),C$Tza.pointCount=C$Tzd,C$Tza.radiusA=C$Tzu,C$Tza.radiusB=C$Tz_,C$Tza.type=C$Tzs.type;for(var C$Tzc=0;C$Tzc<C$Tzd;++C$Tzc){var C$Tzf=C$Tzs.points[C$Tzc],C$Tzl=C$Tzo.points[C$Tzc];this.m_step.warmStarting?(C$Tzl.normalImpulse=this.m_step.dtRatio*C$Tzf.normalImpulse,C$Tzl.tangentImpulse=this.m_step.dtRatio*C$Tzf.tangentImpulse):(C$Tzl.normalImpulse=0,C$Tzl.tangentImpulse=0),C$Tzl.rA.SetZero(),C$Tzl.rB.SetZero(),C$Tzl.normalMass=0,C$Tzl.tangentMass=0,C$Tzl.velocityBias=0,C$Tza.localPoints[C$Tzc].Copy(C$Tzf.localPoint);}}return this;},C$TzMs.prototype.InitializeVelocityConstraints=function(){for(var C$Tzt=C$TzMs.InitializeVelocityConstraints_s_xfA,C$Tze=C$TzMs.InitializeVelocityConstraints_s_xfB,C$Tzi=C$TzMs.InitializeVelocityConstraints_s_worldManifold,C$Tzh=0;C$Tzh<this.m_count;++C$Tzh){for(var C$Tzn=this.m_velocityConstraints[C$Tzh],C$Tzr=this.m_positionConstraints[C$Tzh],C$Tzu=C$Tzr.radiusA,C$Tz_=C$Tzr.radiusB,C$Tzd=this.m_contacts[C$Tzn.contactIndex].GetManifold(),C$Tzs=C$Tzn.indexA,C$Tzf=C$Tzn.indexB,C$Tzp=C$Tzn.invMassA,C$Tzm=C$Tzn.invMassB,C$Tzy=C$Tzn.invIA,C$Tzg=C$Tzn.invIB,C$Tzv=C$Tzr.localCenterA,C$Tzr=C$Tzr.localCenterB,C$Tzx=this.m_positions[C$Tzs].c,C$Tzb=this.m_positions[C$Tzs].a,C$TzA=this.m_velocities[C$Tzs].v,C$TzC=this.m_velocities[C$Tzs].w,C$TzS=this.m_positions[C$Tzf].c,C$Tzs=this.m_positions[C$Tzf].a,C$TzT=this.m_velocities[C$Tzf].v,C$Tzw=this.m_velocities[C$Tzf].w,C$TzE=(C$Tzt.q.SetAngle(C$Tzb),C$Tze.q.SetAngle(C$Tzs),C$Tzj.SubVV(C$Tzx,C$TzB.MulRV(C$Tzt.q,C$Tzv,C$Tzj.s_t0),C$Tzt.p),C$Tzj.SubVV(C$TzS,C$TzB.MulRV(C$Tze.q,C$Tzr,C$Tzj.s_t0),C$Tze.p),C$Tzi.Initialize(C$Tzd,C$Tzt,C$Tzu,C$Tze,C$Tz_),C$Tzn.normal.Copy(C$Tzi.normal),C$Tzj.CrossVOne(C$Tzn.normal,C$Tzn.tangent),C$Tzn.pointCount),C$Tzo=0;C$Tzo<C$TzE;++C$Tzo){var C$Tza=C$Tzn.points[C$Tzo],C$Tzc=(C$Tzj.SubVV(C$Tzi.points[C$Tzo],C$Tzx,C$Tza.rA),C$Tzj.SubVV(C$Tzi.points[C$Tzo],C$TzS,C$Tza.rB),C$Tzj.CrossVV(C$Tza.rA,C$Tzn.normal)),C$Tzl=C$Tzj.CrossVV(C$Tza.rB,C$Tzn.normal),C$Tzc=C$Tzp+C$Tzm+C$Tzy*C$Tzc*C$Tzc+C$Tzg*C$Tzl*C$Tzl,C$Tzl=(C$Tza.normalMass=0<C$Tzc?1/C$Tzc:0,C$Tzn.tangent),C$Tzc=C$Tzj.CrossVV(C$Tza.rA,C$Tzl),C$Tzl=C$Tzj.CrossVV(C$Tza.rB,C$Tzl),C$Tzc=C$Tzp+C$Tzm+C$Tzy*C$Tzc*C$Tzc+C$Tzg*C$Tzl*C$Tzl,C$Tzl=(C$Tza.tangentMass=0<C$Tzc?1/C$Tzc:0,C$Tza.velocityBias=0,C$Tzj.DotVV(C$Tzn.normal,C$Tzj.SubVV(C$Tzj.AddVCrossSV(C$TzT,C$Tzw,C$Tza.rB,C$Tzj.s_t0),C$Tzj.AddVCrossSV(C$TzA,C$TzC,C$Tza.rA,C$Tzj.s_t1),C$Tzj.s_t0)));C$Tzl<-1&&(C$Tza.velocityBias+=-C$Tzn.restitution*C$Tzl);}C$Tzn.pointCount;}},C$TzMs.prototype.WarmStart=function(){for(var C$Tzt=C$TzMs.WarmStart_s_P,C$Tze=0;C$Tze<this.m_count;++C$Tze){for(var C$Tzi=this.m_velocityConstraints[C$Tze],C$Tzn=C$Tzi.indexA,C$Tzr=C$Tzi.indexB,C$Tzs=C$Tzi.invMassA,C$Tzh=C$Tzi.invIA,C$Tzu=C$Tzi.invMassB,C$Tz_=C$Tzi.invIB,C$Tzd=C$Tzi.pointCount,C$Tzf=this.m_velocities[C$Tzn].v,C$Tzo=this.m_velocities[C$Tzn].w,C$Tzp=this.m_velocities[C$Tzr].v,C$Tza=this.m_velocities[C$Tzr].w,C$Tzm=C$Tzi.normal,C$Tzy=C$Tzi.tangent,C$Tzc=0;C$Tzc<C$Tzd;++C$Tzc){var C$Tzl=C$Tzi.points[C$Tzc];C$Tzj.AddVV(C$Tzj.MulSV(C$Tzl.normalImpulse,C$Tzm,C$Tzj.s_t0),C$Tzj.MulSV(C$Tzl.tangentImpulse,C$Tzy,C$Tzj.s_t1),C$Tzt),C$Tzo-=C$Tzh*C$Tzj.CrossVV(C$Tzl.rA,C$Tzt),C$Tzf.SelfMulSub(C$Tzs,C$Tzt),C$Tza+=C$Tz_*C$Tzj.CrossVV(C$Tzl.rB,C$Tzt),C$Tzp.SelfMulAdd(C$Tzu,C$Tzt);}this.m_velocities[C$Tzn].w=C$Tzo,this.m_velocities[C$Tzr].w=C$Tza;}},C$TzMs.prototype.SolveVelocityConstraints=function(){for(var C$Tzt=C$TzMs.SolveVelocityConstraints_s_dv,C$Tze=C$TzMs.SolveVelocityConstraints_s_P,C$Tzh=0;C$Tzh<this.m_count;++C$Tzh){for(var C$Tzi=this.m_velocityConstraints[C$Tzh],C$Tzu=C$Tzi.indexA,C$Tz_=C$Tzi.indexB,C$Tzd=C$Tzi.invMassA,C$Tzf=C$Tzi.invIA,C$Tzp=C$Tzi.invMassB,C$Tzm=C$Tzi.invIB,C$Tzy=C$Tzi.pointCount,C$Tzn=this.m_velocities[C$Tzu].v,C$Tzr=this.m_velocities[C$Tzu].w,C$Tzs=this.m_velocities[C$Tz_].v,C$Tzo=this.m_velocities[C$Tz_].w,C$Tzg=C$Tzi.normal,C$Tzv=C$Tzi.tangent,C$Tzx=C$Tzi.friction,C$Tza=0;C$Tza<C$Tzy;++C$Tza){var C$Tzc=C$Tzi.points[C$Tza],C$Tzb=(C$Tzj.SubVV(C$Tzj.AddVCrossSV(C$Tzs,C$Tzo,C$Tzc.rB,C$Tzj.s_t0),C$Tzj.AddVCrossSV(C$Tzn,C$Tzr,C$Tzc.rA,C$Tzj.s_t1),C$Tzt),C$Tzj.DotVV(C$Tzt,C$Tzv)-C$Tzi.tangentSpeed),C$Tzl=C$Tzc.tangentMass*-C$Tzb,C$Tzb=C$Tzx*C$Tzc.normalImpulse;C$Tzl=(C$TzA=C$TzO(C$Tzc.tangentImpulse+C$Tzl,-C$Tzb,C$Tzb))-C$Tzc.tangentImpulse,C$Tzc.tangentImpulse=C$TzA,C$Tzj.MulSV(C$Tzl,C$Tzv,C$Tze),C$Tzn.SelfMulSub(C$Tzd,C$Tze),C$Tzr-=C$Tzf*C$Tzj.CrossVV(C$Tzc.rA,C$Tze),C$Tzs.SelfMulAdd(C$Tzp,C$Tze),C$Tzo+=C$Tzm*C$Tzj.CrossVV(C$Tzc.rB,C$Tze);}C$Tzi.pointCount;for(C$Tza=0;C$Tza<C$Tzy;++C$Tza){var C$TzA,C$Tzc=C$Tzi.points[C$Tza],C$TzC=(C$Tzj.SubVV(C$Tzj.AddVCrossSV(C$Tzs,C$Tzo,C$Tzc.rB,C$Tzj.s_t0),C$Tzj.AddVCrossSV(C$Tzn,C$Tzr,C$Tzc.rA,C$Tzj.s_t1),C$Tzt),C$Tzj.DotVV(C$Tzt,C$Tzg)),C$Tzl=-C$Tzc.normalMass*(C$TzC-C$Tzc.velocityBias);C$Tzl=(C$TzA=C$TzV(C$Tzc.normalImpulse+C$Tzl,0))-C$Tzc.normalImpulse,C$Tzc.normalImpulse=C$TzA,C$Tzj.MulSV(C$Tzl,C$Tzg,C$Tze),C$Tzn.SelfMulSub(C$Tzd,C$Tze),C$Tzr-=C$Tzf*C$Tzj.CrossVV(C$Tzc.rA,C$Tze),C$Tzs.SelfMulAdd(C$Tzp,C$Tze),C$Tzo+=C$Tzm*C$Tzj.CrossVV(C$Tzc.rB,C$Tze);}this.m_velocities[C$Tzu].w=C$Tzr,this.m_velocities[C$Tz_].w=C$Tzo;}},C$TzMs.prototype.StoreImpulses=function(){for(var C$Tzt=0;C$Tzt<this.m_count;++C$Tzt)for(var C$Tze=this.m_velocityConstraints[C$Tzt],C$Tzi=this.m_contacts[C$Tze.contactIndex].GetManifold(),C$Tzn=0;C$Tzn<C$Tze.pointCount;++C$Tzn)C$Tzi.points[C$Tzn].normalImpulse=C$Tze.points[C$Tzn].normalImpulse,C$Tzi.points[C$Tzn].tangentImpulse=C$Tze.points[C$Tzn].tangentImpulse;},C$TzMs.prototype.SolvePositionConstraints=function(){for(var C$Tzt=C$TzMs.SolvePositionConstraints_s_xfA,C$Tze=C$TzMs.SolvePositionConstraints_s_xfB,C$Tzi=C$TzMs.SolvePositionConstraints_s_psm,C$Tzn=C$TzMs.SolvePositionConstraints_s_rA,C$Tzr=C$TzMs.SolvePositionConstraints_s_rB,C$Tzs=C$TzMs.SolvePositionConstraints_s_P,C$Tzo=0,C$Tza=0;C$Tza<this.m_count;++C$Tza){for(var C$Tzc=this.m_positionConstraints[C$Tza],C$Tzh=C$Tzc.indexA,C$Tzu=C$Tzc.indexB,C$Tz_=C$Tzc.localCenterA,C$Tzd=C$Tzc.invMassA,C$Tzf=C$Tzc.invIA,C$Tzp=C$Tzc.localCenterB,C$Tzm=C$Tzc.invMassB,C$Tzy=C$Tzc.invIB,C$Tzg=C$Tzc.pointCount,C$Tzv=this.m_positions[C$Tzh].c,C$Tzx=this.m_positions[C$Tzh].a,C$Tzb=this.m_positions[C$Tzu].c,C$TzA=this.m_positions[C$Tzu].a,C$TzC=0;C$TzC<C$Tzg;++C$TzC){C$Tzt.q.SetAngle(C$Tzx),C$Tze.q.SetAngle(C$TzA),C$Tzj.SubVV(C$Tzv,C$TzB.MulRV(C$Tzt.q,C$Tz_,C$Tzj.s_t0),C$Tzt.p),C$Tzj.SubVV(C$Tzb,C$TzB.MulRV(C$Tze.q,C$Tzp,C$Tzj.s_t0),C$Tze.p),C$Tzi.Initialize(C$Tzc,C$Tzt,C$Tze,C$TzC);var C$TzS=C$Tzi.normal,C$TzT=C$Tzi.point,C$Tzl=C$Tzi.separation,C$TzT=(C$Tzj.SubVV(C$TzT,C$Tzv,C$Tzn),C$Tzj.SubVV(C$TzT,C$Tzb,C$Tzr),C$Tzo=C$TzL(C$Tzo,C$Tzl),C$TzO(.2*(C$Tzl+.008),-.2,0)),C$Tzl=C$Tzj.CrossVV(C$Tzn,C$TzS),C$Tzw=C$Tzj.CrossVV(C$Tzr,C$TzS),C$Tzl=C$Tzd+C$Tzm+C$Tzf*C$Tzl*C$Tzl+C$Tzy*C$Tzw*C$Tzw;C$Tzj.MulSV(0<C$Tzl?-C$TzT/C$Tzl:0,C$TzS,C$Tzs),C$Tzv.SelfMulSub(C$Tzd,C$Tzs),C$Tzx-=C$Tzf*C$Tzj.CrossVV(C$Tzn,C$Tzs),C$Tzb.SelfMulAdd(C$Tzm,C$Tzs),C$TzA+=C$Tzy*C$Tzj.CrossVV(C$Tzr,C$Tzs);}this.m_positions[C$Tzh].a=C$Tzx,this.m_positions[C$Tzu].a=C$TzA;}return-.024<C$Tzo;},C$TzMs.prototype.SolveTOIPositionConstraints=function(C$Tzh,C$Tzu){for(var C$Tzt=C$TzMs.SolveTOIPositionConstraints_s_xfA,C$Tze=C$TzMs.SolveTOIPositionConstraints_s_xfB,C$Tzi=C$TzMs.SolveTOIPositionConstraints_s_psm,C$Tzn=C$TzMs.SolveTOIPositionConstraints_s_rA,C$Tzr=C$TzMs.SolveTOIPositionConstraints_s_rB,C$Tzs=C$TzMs.SolveTOIPositionConstraints_s_P,C$Tz_=0,C$Tzd=0;C$Tzd<this.m_count;++C$Tzd){for(var C$Tzo=this.m_positionConstraints[C$Tzd],C$Tza=C$Tzo.indexA,C$Tzc=C$Tzo.indexB,C$Tzf=C$Tzo.localCenterA,C$Tzp=C$Tzo.localCenterB,C$Tzm=C$Tzo.pointCount,C$Tzy=0,C$Tzg=0,C$Tzv=(C$Tza!==C$Tzh&&C$Tza!==C$Tzu||(C$Tzy=C$Tzo.invMassA,C$Tzg=C$Tzo.invIA),0),C$Tzx=0,C$Tzb=(C$Tzc!==C$Tzh&&C$Tzc!==C$Tzu||(C$Tzv=C$Tzo.invMassB,C$Tzx=C$Tzo.invIB),this.m_positions[C$Tza].c),C$TzA=this.m_positions[C$Tza].a,C$TzC=this.m_positions[C$Tzc].c,C$TzS=this.m_positions[C$Tzc].a,C$TzT=0;C$TzT<C$Tzm;++C$TzT){C$Tzt.q.SetAngle(C$TzA),C$Tze.q.SetAngle(C$TzS),C$Tzj.SubVV(C$Tzb,C$TzB.MulRV(C$Tzt.q,C$Tzf,C$Tzj.s_t0),C$Tzt.p),C$Tzj.SubVV(C$TzC,C$TzB.MulRV(C$Tze.q,C$Tzp,C$Tzj.s_t0),C$Tze.p),C$Tzi.Initialize(C$Tzo,C$Tzt,C$Tze,C$TzT);var C$Tzw=C$Tzi.normal,C$TzE=C$Tzi.point,C$Tzl=C$Tzi.separation,C$TzE=(C$Tzj.SubVV(C$TzE,C$Tzb,C$Tzn),C$Tzj.SubVV(C$TzE,C$TzC,C$Tzr),C$Tz_=C$TzL(C$Tz_,C$Tzl),C$TzO(.75*(C$Tzl+.008),-.2,0)),C$Tzl=C$Tzj.CrossVV(C$Tzn,C$Tzw),C$TzM=C$Tzj.CrossVV(C$Tzr,C$Tzw),C$Tzl=C$Tzy+C$Tzv+C$Tzg*C$Tzl*C$Tzl+C$Tzx*C$TzM*C$TzM;C$Tzj.MulSV(0<C$Tzl?-C$TzE/C$Tzl:0,C$Tzw,C$Tzs),C$Tzb.SelfMulSub(C$Tzy,C$Tzs),C$TzA-=C$Tzg*C$Tzj.CrossVV(C$Tzn,C$Tzs),C$TzC.SelfMulAdd(C$Tzv,C$Tzs),C$TzS+=C$Tzx*C$Tzj.CrossVV(C$Tzr,C$Tzs);}this.m_positions[C$Tza].a=C$TzA,this.m_positions[C$Tzc].a=C$TzS;}return-.012<=C$Tz_;},C$TzMs.InitializeVelocityConstraints_s_xfA=new C$TzR(),C$TzMs.InitializeVelocityConstraints_s_xfB=new C$TzR(),C$TzMs.InitializeVelocityConstraints_s_worldManifold=new C$TzXt(),C$TzMs.WarmStart_s_P=new C$Tzj(),C$TzMs.SolveVelocityConstraints_s_dv=new C$Tzj(),C$TzMs.SolveVelocityConstraints_s_dv1=new C$Tzj(),C$TzMs.SolveVelocityConstraints_s_dv2=new C$Tzj(),C$TzMs.SolveVelocityConstraints_s_P=new C$Tzj(),C$TzMs.SolveVelocityConstraints_s_a=new C$Tzj(),C$TzMs.SolveVelocityConstraints_s_b=new C$Tzj(),C$TzMs.SolveVelocityConstraints_s_x=new C$Tzj(),C$TzMs.SolveVelocityConstraints_s_d=new C$Tzj(),C$TzMs.SolveVelocityConstraints_s_P1=new C$Tzj(),C$TzMs.SolveVelocityConstraints_s_P2=new C$Tzj(),C$TzMs.SolveVelocityConstraints_s_P1P2=new C$Tzj(),C$TzMs.SolvePositionConstraints_s_xfA=new C$TzR(),C$TzMs.SolvePositionConstraints_s_xfB=new C$TzR(),C$TzMs.SolvePositionConstraints_s_psm=new C$TzTs(),C$TzMs.SolvePositionConstraints_s_rA=new C$Tzj(),C$TzMs.SolvePositionConstraints_s_rB=new C$Tzj(),C$TzMs.SolvePositionConstraints_s_P=new C$Tzj(),C$TzMs.SolveTOIPositionConstraints_s_xfA=new C$TzR(),C$TzMs.SolveTOIPositionConstraints_s_xfB=new C$TzR(),C$TzMs.SolveTOIPositionConstraints_s_psm=new C$TzTs(),C$TzMs.SolveTOIPositionConstraints_s_rA=new C$Tzj(),C$TzMs.SolveTOIPositionConstraints_s_rB=new C$Tzj(),C$TzMs.SolveTOIPositionConstraints_s_P=new C$Tzj();var C$TzEs=C$TzMs;function C$TzMs(){this.m_step=new C$Tzus(),this.m_allocator=null,this.m_positionConstraints=C$TzAs.MakeArray(1024),this.m_velocityConstraints=C$Tzxs.MakeArray(1024),this.m_count=0;}C$TzBs.prototype.Initialize=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){if(this.m_bodyCapacity=C$Tzt,this.m_contactCapacity=C$Tze,this.m_jointCapacity=C$Tzi,this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0,this.m_allocator=C$Tzn,this.m_listener=C$Tzr,this.m_positions.length<C$Tzt)for(var C$Tzs=C$TzV(2*this.m_positions.length,C$Tzt);this.m_positions.length<C$Tzs;)this.m_positions[this.m_positions.length]=new C$Tzds();if(this.m_velocities.length<C$Tzt)for(C$Tzs=C$TzV(2*this.m_velocities.length,C$Tzt);this.m_velocities.length<C$Tzs;)this.m_velocities[this.m_velocities.length]=new C$Tzps();},C$TzBs.prototype.Clear=function(){this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0;},C$TzBs.prototype.AddBody=function(C$Tzt){C$Tzt.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=C$Tzt;},C$TzBs.prototype.AddContact=function(C$Tzt){this.m_contacts[this.m_contactCount++]=C$Tzt;},C$TzBs.prototype.AddJoint=function(C$Tzt){this.m_joints[this.m_jointCount++]=C$Tzt;},C$TzBs.prototype.Solve=function(C$Tzh,C$Tzt,C$Tzu,C$Tz_){for(var C$Tze=C$TzBs.s_timer.Reset(),C$Tzi=C$Tzt.dt,C$Tzn=0;C$Tzn<this.m_bodyCount;++C$Tzn){var C$Tzr=this.m_bodies[C$Tzn],C$Tzd=(this.m_positions[C$Tzn].c.Copy(C$Tzr.m_sweep.c),C$Tzr.m_sweep.a),C$Tzs=this.m_velocities[C$Tzn].v.Copy(C$Tzr.m_linearVelocity),C$Tzo=C$Tzr.m_angularVelocity;C$Tzr.m_sweep.c0.Copy(C$Tzr.m_sweep.c),C$Tzr.m_sweep.a0=C$Tzr.m_sweep.a,C$Tzr.m_type===C$TzH.b2BodyType.b2_dynamicBody&&(C$Tzs.x+=C$Tzi*(C$Tzr.m_gravityScale*C$Tzu.x+C$Tzr.m_invMass*C$Tzr.m_force.x),C$Tzs.y+=C$Tzi*(C$Tzr.m_gravityScale*C$Tzu.y+C$Tzr.m_invMass*C$Tzr.m_force.y),C$Tzo+=C$Tzi*C$Tzr.m_invI*C$Tzr.m_torque,C$Tzs.SelfMul(1/(1+C$Tzi*C$Tzr.m_linearDamping)),C$Tzo*=1/(1+C$Tzi*C$Tzr.m_angularDamping)),this.m_positions[C$Tzn].a=C$Tzd,this.m_velocities[C$Tzn].w=C$Tzo;}C$Tze.Reset();var C$Tza=C$TzBs.s_solverData,C$Tzc=(C$Tza.step.Copy(C$Tzt),C$Tza.positions=this.m_positions,C$Tza.velocities=this.m_velocities,C$TzBs.s_contactSolverDef),C$Tzl=(C$Tzc.step.Copy(C$Tzt),C$Tzc.contacts=this.m_contacts,C$Tzc.count=this.m_contactCount,C$Tzc.positions=this.m_positions,C$Tzc.velocities=this.m_velocities,C$Tzc.allocator=this.m_allocator,C$TzBs.s_contactSolver.Initialize(C$Tzc));C$Tzl.InitializeVelocityConstraints(),C$Tzt.warmStarting&&C$Tzl.WarmStart();for(C$Tzn=0;C$Tzn<this.m_jointCount;++C$Tzn)this.m_joints[C$Tzn].InitVelocityConstraints(C$Tza);C$Tzh.solveInit=C$Tze.GetMilliseconds(),C$Tze.Reset();for(C$Tzn=0;C$Tzn<C$Tzt.velocityIterations;++C$Tzn){for(var C$Tzf=0;C$Tzf<this.m_jointCount;++C$Tzf)this.m_joints[C$Tzf].SolveVelocityConstraints(C$Tza);C$Tzl.SolveVelocityConstraints();}C$Tzl.StoreImpulses(),C$Tzh.solveVelocity=C$Tze.GetMilliseconds();for(C$Tzn=0;C$Tzn<this.m_bodyCount;++C$Tzn){var C$Tzp,C$Tzm=this.m_positions[C$Tzn].c,C$Tzd=this.m_positions[C$Tzn].a,C$Tzs=this.m_velocities[C$Tzn].v,C$Tzo=this.m_velocities[C$Tzn].w,C$Tzy=C$Tzj.MulSV(C$Tzi,C$Tzs,C$TzBs.s_translation),C$Tzy=(4<C$Tzj.DotVV(C$Tzy,C$Tzy)&&(C$Tzp=2/C$Tzy.Length(),C$Tzs.SelfMul(C$Tzp)),C$Tzi*C$Tzo);C$Tzw<C$Tzy*C$Tzy&&(C$Tzo*=C$Tzp=C$TzT/C$TzD(C$Tzy)),C$Tzm.x+=C$Tzi*C$Tzs.x,C$Tzm.y+=C$Tzi*C$Tzs.y,C$Tzd+=C$Tzi*C$Tzo,this.m_positions[C$Tzn].a=C$Tzd,this.m_velocities[C$Tzn].w=C$Tzo;}C$Tze.Reset();for(var C$Tzg=!1,C$Tzn=0;C$Tzn<C$Tzt.positionIterations;++C$Tzn){for(var C$Tzv=C$Tzl.SolvePositionConstraints(),C$Tzx=!0,C$Tzf=0;C$Tzf<this.m_jointCount;++C$Tzf)var C$Tzb=this.m_joints[C$Tzf].SolvePositionConstraints(C$Tza),C$Tzx=C$Tzx&&C$Tzb;if(C$Tzv&&C$Tzx){C$Tzg=!0;break;}}for(C$Tzn=0;C$Tzn<this.m_bodyCount;++C$Tzn){var C$TzA=this.m_bodies[C$Tzn];C$TzA.m_sweep.c.Copy(this.m_positions[C$Tzn].c),C$TzA.m_sweep.a=this.m_positions[C$Tzn].a,C$TzA.m_linearVelocity.Copy(this.m_velocities[C$Tzn].v),C$TzA.m_angularVelocity=this.m_velocities[C$Tzn].w,C$TzA.SynchronizeTransform();}if(C$Tzh.solvePosition=C$Tze.GetMilliseconds(),this.Report(C$Tzl.m_velocityConstraints),C$Tz_){for(var C$TzC=C$TzP,C$Tzn=0;C$Tzn<this.m_bodyCount;++C$Tzn)(C$Tzr=this.m_bodies[C$Tzn]).GetType()!==C$TzH.b2BodyType.b2_staticBody&&(C$TzC=!C$Tzr.m_autoSleepFlag||.0012184696791469947<C$Tzr.m_angularVelocity*C$Tzr.m_angularVelocity||1e-4<C$Tzj.DotVV(C$Tzr.m_linearVelocity,C$Tzr.m_linearVelocity)?C$Tzr.m_sleepTime=0:(C$Tzr.m_sleepTime+=C$Tzi,C$TzL(C$TzC,C$Tzr.m_sleepTime)));if(.5<=C$TzC&&C$Tzg)for(C$Tzn=0;C$Tzn<this.m_bodyCount;++C$Tzn)(C$Tzr=this.m_bodies[C$Tzn]).SetAwake(!1);}},C$TzBs.prototype.SolveTOI=function(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn=0;C$Tzn<this.m_bodyCount;++C$Tzn){var C$Tzr=this.m_bodies[C$Tzn];this.m_positions[C$Tzn].c.Copy(C$Tzr.m_sweep.c),this.m_positions[C$Tzn].a=C$Tzr.m_sweep.a,this.m_velocities[C$Tzn].v.Copy(C$Tzr.m_linearVelocity),this.m_velocities[C$Tzn].w=C$Tzr.m_angularVelocity;}for(var C$Tzs=C$TzBs.s_contactSolverDef,C$Tzo=(C$Tzs.contacts=this.m_contacts,C$Tzs.count=this.m_contactCount,C$Tzs.allocator=this.m_allocator,C$Tzs.step.Copy(C$Tzt),C$Tzs.positions=this.m_positions,C$Tzs.velocities=this.m_velocities,C$TzBs.s_contactSolver.Initialize(C$Tzs)),C$Tzn=0;C$Tzn<C$Tzt.positionIterations&&!C$Tzo.SolveTOIPositionConstraints(C$Tze,C$Tzi);++C$Tzn);this.m_bodies[C$Tze].m_sweep.c0.Copy(this.m_positions[C$Tze].c),this.m_bodies[C$Tze].m_sweep.a0=this.m_positions[C$Tze].a,this.m_bodies[C$Tzi].m_sweep.c0.Copy(this.m_positions[C$Tzi].c),this.m_bodies[C$Tzi].m_sweep.a0=this.m_positions[C$Tzi].a,C$Tzo.InitializeVelocityConstraints();for(C$Tzn=0;C$Tzn<C$Tzt.velocityIterations;++C$Tzn)C$Tzo.SolveVelocityConstraints();for(var C$Tza=C$Tzt.dt,C$Tzn=0;C$Tzn<this.m_bodyCount;++C$Tzn){var C$Tzh,C$Tzu=this.m_positions[C$Tzn].c,C$Tz_=this.m_positions[C$Tzn].a,C$Tzd=this.m_velocities[C$Tzn].v,C$Tzc=this.m_velocities[C$Tzn].w,C$Tzl=C$Tzj.MulSV(C$Tza,C$Tzd,C$TzBs.s_translation),C$Tzl=(4<C$Tzj.DotVV(C$Tzl,C$Tzl)&&(C$Tzh=2/C$Tzl.Length(),C$Tzd.SelfMul(C$Tzh)),C$Tza*C$Tzc),C$Tzl=(C$Tzw<C$Tzl*C$Tzl&&(C$Tzc*=C$Tzh=C$TzT/C$TzD(C$Tzl)),C$Tzu.SelfMulAdd(C$Tza,C$Tzd),C$Tz_+=C$Tza*C$Tzc,this.m_positions[C$Tzn].a=C$Tz_,this.m_velocities[C$Tzn].w=C$Tzc,this.m_bodies[C$Tzn]);C$Tzl.m_sweep.c.Copy(C$Tzu),C$Tzl.m_sweep.a=C$Tz_,C$Tzl.m_linearVelocity.Copy(C$Tzd),C$Tzl.m_angularVelocity=C$Tzc,C$Tzl.SynchronizeTransform();}this.Report(C$Tzo.m_velocityConstraints);},C$TzBs.prototype.Report=function(C$Tzt){if(null!==this.m_listener)for(var C$Tze=0;C$Tze<this.m_contactCount;++C$Tze){var C$Tzi=this.m_contacts[C$Tze];if(C$Tzi){var C$Tzn=C$Tzt[C$Tze],C$Tzr=C$TzBs.s_impulse;C$Tzr.count=C$Tzn.pointCount;for(var C$Tzs=0;C$Tzs<C$Tzn.pointCount;++C$Tzs)C$Tzr.normalImpulses[C$Tzs]=C$Tzn.points[C$Tzs].normalImpulse,C$Tzr.tangentImpulses[C$Tzs]=C$Tzn.points[C$Tzs].tangentImpulse;this.m_listener.PostSolve(C$Tzi,C$Tzr);}}},C$TzBs.s_timer=new C$Tz$(),C$TzBs.s_solverData=new C$Tzys(),C$TzBs.s_contactSolverDef=new C$TzSs(),C$TzBs.s_contactSolver=new C$TzEs(),C$TzBs.s_translation=new C$Tzj(),C$TzBs.s_impulse=new C$Tzts();var C$TzIs=C$TzBs;function C$TzBs(){this.m_allocator=null,this.m_bodies=[],this.m_contacts=[],this.m_joints=[],this.m_positions=C$Tzds.MakeArray(1024),this.m_velocities=C$Tzps.MakeArray(1024),this.m_bodyCount=0,this.m_jointCount=0,this.m_contactCount=0,this.m_bodyCapacity=0,this.m_contactCapacity=0,this.m_jointCapacity=0;}(C$TzUs=C$TzH.b2ParticleFlag||(C$TzH.b2ParticleFlag={}))[C$TzUs.b2_waterParticle=0]=H[3024],C$TzUs[C$TzUs.b2_zombieParticle=2]=H[3025],C$TzUs[C$TzUs.b2_wallParticle=4]=H[3026],C$TzUs[C$TzUs.b2_springParticle=8]=H[3027],C$TzUs[C$TzUs.b2_elasticParticle=16]=H[3028],C$TzUs[C$TzUs.b2_viscousParticle=32]=H[3029],C$TzUs[C$TzUs.b2_powderParticle=64]=H[3030],C$TzUs[C$TzUs.b2_tensileParticle=128]=H[3031],C$TzUs[C$TzUs.b2_colorMixingParticle=256]=H[3032],C$TzUs[C$TzUs.b2_destructionListenerParticle=512]=H[3033],C$TzUs[C$TzUs.b2_barrierParticle=1024]=H[3034],C$TzUs[C$TzUs.b2_staticPressureParticle=2048]=H[3035],C$TzUs[C$TzUs.b2_reactiveParticle=4096]=H[3036],C$TzUs[C$TzUs.b2_repulsiveParticle=8192]=H[3037],C$TzUs[C$TzUs.b2_fixtureContactListenerParticle=16384]=H[3038],C$TzUs[C$TzUs.b2_particleContactListenerParticle=32768]=H[3039],C$TzUs[C$TzUs.b2_fixtureContactFilterParticle=65536]=H[3040],C$TzUs[C$TzUs.b2_particleContactFilterParticle=131072]=H[3041];var C$TzRs=function(){this.flags=0,this.position=new C$Tzj(),this.velocity=new C$Tzj(),this.color=new C$TzJ(0,0,0,0),this.lifetime=0,this.userData=null,this.group=null;};function C$TzPs(C$Tzt,C$Tze,C$Tzi){return C$TzO(Math.ceil(Math.sqrt(C$Tzt/(.01*C$Tze))*C$Tzi),1,8);}C$TzLs.prototype.GetIndex=function(){return this.m_index;},C$TzLs.prototype.SetIndex=function(C$Tzt){this.m_index=C$Tzt;};var C$TzDs=C$TzLs;function C$TzLs(){this.m_index=-1;}(C$TzUs=C$TzH.b2ParticleGroupFlag||(C$TzH.b2ParticleGroupFlag={}))[C$TzUs.b2_solidParticleGroup=1]=H[3042],C$TzUs[C$TzUs.b2_rigidParticleGroup=2]=H[3043],C$TzUs[C$TzUs.b2_particleGroupCanBeEmpty=4]=H[3044],C$TzUs[C$TzUs.b2_particleGroupWillBeDestroyed=8]=H[3045],C$TzUs[C$TzUs.b2_particleGroupNeedsUpdateDepth=16]=H[3046],C$TzUs[C$TzUs.b2_particleGroupInternalMask=24]=H[3047];var C$TzVs=function(){this.flags=0,this.groupFlags=0,this.position=new C$Tzj(),this.angle=0,this.linearVelocity=new C$Tzj(),this.angularVelocity=0,this.color=new C$TzJ(),this.strength=1,this.shapeCount=0,this.stride=0,this.particleCount=0,this.lifetime=0,this.userData=null,this.group=null;},C$TzOs=(C$TzFs.prototype.GetNext=function(){return this.m_next;},C$TzFs.prototype.GetParticleSystem=function(){return this.m_system;},C$TzFs.prototype.GetParticleCount=function(){return this.m_lastIndex-this.m_firstIndex;},C$TzFs.prototype.GetBufferIndex=function(){return this.m_firstIndex;},C$TzFs.prototype.ContainsParticle=function(C$Tzt){return this.m_firstIndex<=C$Tzt&&C$Tzt<this.m_lastIndex;},C$TzFs.prototype.GetAllParticleFlags=function(){if(!this.m_system.m_flagsBuffer.data)throw new Error();for(var C$Tzt=0,C$Tze=this.m_firstIndex;C$Tze<this.m_lastIndex;C$Tze++)C$Tzt|=this.m_system.m_flagsBuffer.data[C$Tze];return C$Tzt;},C$TzFs.prototype.GetGroupFlags=function(){return this.m_groupFlags;},C$TzFs.prototype.SetGroupFlags=function(C$Tzt){C$Tzt|=this.m_groupFlags&C$TzH.b2ParticleGroupFlag.b2_particleGroupInternalMask,this.m_system.SetGroupFlags(this,C$Tzt);},C$TzFs.prototype.GetMass=function(){return this.UpdateStatistics(),this.m_mass;},C$TzFs.prototype.GetInertia=function(){return this.UpdateStatistics(),this.m_inertia;},C$TzFs.prototype.GetCenter=function(){return this.UpdateStatistics(),this.m_center;},C$TzFs.prototype.GetLinearVelocity=function(){return this.UpdateStatistics(),this.m_linearVelocity;},C$TzFs.prototype.GetAngularVelocity=function(){return this.UpdateStatistics(),this.m_angularVelocity;},C$TzFs.prototype.GetTransform=function(){return this.m_transform;},C$TzFs.prototype.GetPosition=function(){return this.m_transform.p;},C$TzFs.prototype.GetAngle=function(){return this.m_transform.q.GetAngle();},C$TzFs.prototype.GetLinearVelocityFromWorldPoint=function(C$Tzt,C$Tze){var C$Tzi=C$TzFs.GetLinearVelocityFromWorldPoint_s_t0;return this.UpdateStatistics(),C$Tzj.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,C$Tzj.SubVV(C$Tzt,this.m_center,C$Tzi),C$Tze);},C$TzFs.prototype.GetUserData=function(){return this.m_userData;},C$TzFs.prototype.SetUserData=function(C$Tzt){this.m_userData=C$Tzt;},C$TzFs.prototype.ApplyForce=function(C$Tzt){this.m_system.ApplyForce(this.m_firstIndex,this.m_lastIndex,C$Tzt);},C$TzFs.prototype.ApplyLinearImpulse=function(C$Tzt){this.m_system.ApplyLinearImpulse(this.m_firstIndex,this.m_lastIndex,C$Tzt);},C$TzFs.prototype.DestroyParticles=function(C$Tzt){if(this.m_system.m_world.IsLocked())throw new Error();for(var C$Tze=this.m_firstIndex;C$Tze<this.m_lastIndex;C$Tze++)this.m_system.DestroyParticle(C$Tze,C$Tzt);},C$TzFs.prototype.UpdateStatistics=function(){if(!this.m_system.m_positionBuffer.data)throw new Error();if(!this.m_system.m_velocityBuffer.data)throw new Error();var C$Tzt=new C$Tzj(),C$Tze=new C$Tzj();if(this.m_timestamp!==this.m_system.m_timestamp){var C$Tzi=this.m_system.GetParticleMass();this.m_mass=C$Tzi*(this.m_lastIndex-this.m_firstIndex),this.m_center.SetZero(),this.m_linearVelocity.SetZero();for(var C$Tzn,C$Tzr=this.m_firstIndex;C$Tzr<this.m_lastIndex;C$Tzr++)this.m_center.SelfMulAdd(C$Tzi,this.m_system.m_positionBuffer.data[C$Tzr]),this.m_linearVelocity.SelfMulAdd(C$Tzi,this.m_system.m_velocityBuffer.data[C$Tzr]);0<this.m_mass&&(C$Tzn=1/this.m_mass,this.m_center.SelfMul(C$Tzn),this.m_linearVelocity.SelfMul(C$Tzn)),this.m_inertia=0,this.m_angularVelocity=0;for(C$Tzr=this.m_firstIndex;C$Tzr<this.m_lastIndex;C$Tzr++)C$Tzj.SubVV(this.m_system.m_positionBuffer.data[C$Tzr],this.m_center,C$Tzt),C$Tzj.SubVV(this.m_system.m_velocityBuffer.data[C$Tzr],this.m_linearVelocity,C$Tze),this.m_inertia+=C$Tzi*C$Tzj.DotVV(C$Tzt,C$Tzt),this.m_angularVelocity+=C$Tzi*C$Tzj.CrossVV(C$Tzt,C$Tze);0<this.m_inertia&&(this.m_angularVelocity*=1/this.m_inertia),this.m_timestamp=this.m_system.m_timestamp;}},C$TzFs.GetLinearVelocityFromWorldPoint_s_t0=new C$Tzj(),C$TzFs);function C$TzFs(C$Tzt){this.m_firstIndex=0,this.m_lastIndex=0,this.m_groupFlags=0,this.m_strength=1,this.m_prev=null,this.m_next=null,this.m_timestamp=-1,this.m_mass=0,this.m_inertia=0,this.m_center=new C$Tzj(),this.m_linearVelocity=new C$Tzj(),this.m_angularVelocity=0,this.m_transform=new C$TzR(),this.m_userData=null,this.m_system=C$Tzt;}C$Tzks.prototype.Push=function(C$Tzt){if(this.m_back>=this.m_capacity){for(var C$Tze=this.m_front;C$Tze<this.m_back;C$Tze++)this.m_buffer[C$Tze-this.m_front]=this.m_buffer[C$Tze];this.m_back-=this.m_front,this.m_front=0,this.m_back>=this.m_capacity&&(0<this.m_capacity?(this.m_buffer.concat(C$Tzc(this.m_capacity,function(C$Tzt){return null;})),this.m_capacity*=2):(this.m_buffer.concat(C$Tzc(1,function(C$Tzt){return null;})),this.m_capacity=1));}this.m_buffer[this.m_back]=C$Tzt,this.m_back++;},C$Tzks.prototype.Pop=function(){this.m_buffer[this.m_front]=null,this.m_front++;},C$Tzks.prototype.Empty=function(){return this.m_front===this.m_back;},C$Tzks.prototype.Front=function(){var C$Tzt=this.m_buffer[this.m_front];if(!C$Tzt)throw new Error();return C$Tzt;};var C$TzNs=C$Tzks;function C$Tzks(C$Tzt){this.m_front=0,this.m_back=0,this.m_capacity=0,this.m_buffer=C$Tzc(C$Tzt,function(C$Tzt){return null;}),this.m_capacity=C$Tzt;}C$Tzzs.prototype.AddGenerator=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=this.m_generatorBuffer[this.m_generatorCount++];C$Tzn.center.Copy(C$Tzt),C$Tzn.tag=C$Tze,C$Tzn.necessary=C$Tzi;},C$Tzzs.prototype.Generate=function(C$Tzh,C$Tzu){for(var C$Tz_=1/C$Tzh,C$Tzt=new C$Tzj(+C$TzP,+C$TzP),C$Tzd=new C$Tzj(-C$TzP,-C$TzP),C$Tzf=0,C$Tze=0;C$Tze<this.m_generatorCount;C$Tze++)(C$Tzo=this.m_generatorBuffer[C$Tze]).necessary&&(C$Tzj.MinV(C$Tzt,C$Tzo.center,C$Tzt),C$Tzj.MaxV(C$Tzd,C$Tzo.center,C$Tzd),++C$Tzf);if(0===C$Tzf)return this.m_countX=0,void(this.m_countY=0);C$Tzt.x-=C$Tzu,C$Tzt.y-=C$Tzu,C$Tzd.x+=C$Tzu,C$Tzd.y+=C$Tzu,this.m_countX=1+Math.floor(C$Tz_*(C$Tzd.x-C$Tzt.x)),this.m_countY=1+Math.floor(C$Tz_*(C$Tzd.y-C$Tzt.y)),this.m_diagram=[];for(var C$Tzi=new C$TzNs(4*this.m_countX*this.m_countY),C$Tze=0;C$Tze<this.m_generatorCount;C$Tze++){(C$Tzo=this.m_generatorBuffer[C$Tze]).center.SelfSub(C$Tzt).SelfMul(C$Tz_);var C$Tzn=Math.floor(C$Tzo.center.x),C$Tzr=Math.floor(C$Tzo.center.y);0<=C$Tzn&&0<=C$Tzr&&C$Tzn<this.m_countX&&C$Tzr<this.m_countY&&C$Tzi.Push(new C$Tzzs.Task(C$Tzn,C$Tzr,C$Tzn+C$Tzr*this.m_countX,C$Tzo));}for(;!C$Tzi.Empty();){var C$Tzn=(C$Tza=C$Tzi.Front()).m_x,C$Tzr=C$Tza.m_y,C$Tzs=C$Tza.m_i,C$Tzo=C$Tza.m_generator;C$Tzi.Pop(),this.m_diagram[C$Tzs]||(this.m_diagram[C$Tzs]=C$Tzo,0<C$Tzn&&C$Tzi.Push(new C$Tzzs.Task(C$Tzn-1,C$Tzr,C$Tzs-1,C$Tzo)),0<C$Tzr&&C$Tzi.Push(new C$Tzzs.Task(C$Tzn,C$Tzr-1,C$Tzs-this.m_countX,C$Tzo)),C$Tzn<this.m_countX-1&&C$Tzi.Push(new C$Tzzs.Task(C$Tzn+1,C$Tzr,C$Tzs+1,C$Tzo)),C$Tzr<this.m_countY-1&&C$Tzi.Push(new C$Tzzs.Task(C$Tzn,C$Tzr+1,C$Tzs+this.m_countX,C$Tzo)));}for(C$Tzr=0;C$Tzr<this.m_countY;C$Tzr++)for(C$Tzn=0;C$Tzn<this.m_countX-1;C$Tzn++){C$Tzs=C$Tzn+C$Tzr*this.m_countX;(C$Tzc=this.m_diagram[C$Tzs])!==(C$Tzl=this.m_diagram[C$Tzs+1])&&(C$Tzi.Push(new C$Tzzs.Task(C$Tzn,C$Tzr,C$Tzs,C$Tzl)),C$Tzi.Push(new C$Tzzs.Task(C$Tzn+1,C$Tzr,C$Tzs+1,C$Tzc)));}for(C$Tzr=0;C$Tzr<this.m_countY-1;C$Tzr++)for(C$Tzn=0;C$Tzn<this.m_countX;C$Tzn++){C$Tzs=C$Tzn+C$Tzr*this.m_countX;(C$Tzc=this.m_diagram[C$Tzs])!==(C$Tzl=this.m_diagram[C$Tzs+this.m_countX])&&(C$Tzi.Push(new C$Tzzs.Task(C$Tzn,C$Tzr,C$Tzs,C$Tzl)),C$Tzi.Push(new C$Tzzs.Task(C$Tzn,C$Tzr+1,C$Tzs+this.m_countX,C$Tzc)));}for(;!C$Tzi.Empty();){var C$Tza,C$Tzc,C$Tzl,C$Tzp,C$Tzm,C$Tzy,C$Tzn=(C$Tza=C$Tzi.Front()).m_x,C$Tzr=C$Tza.m_y,C$Tzs=C$Tza.m_i,C$Tze=C$Tza.m_generator;C$Tzi.Pop(),(C$Tzc=this.m_diagram[C$Tzs])!==(C$Tzl=C$Tze)&&(C$Tzp=C$Tzc.center.x-C$Tzn,C$Tzm=C$Tzc.center.y-C$Tzr,(C$Tzy=C$Tzl.center.x-C$Tzn)*C$Tzy+(C$Tzy=C$Tzl.center.y-C$Tzr)*C$Tzy<C$Tzp*C$Tzp+C$Tzm*C$Tzm&&(this.m_diagram[C$Tzs]=C$Tzl,0<C$Tzn&&C$Tzi.Push(new C$Tzzs.Task(C$Tzn-1,C$Tzr,C$Tzs-1,C$Tzl)),0<C$Tzr&&C$Tzi.Push(new C$Tzzs.Task(C$Tzn,C$Tzr-1,C$Tzs-this.m_countX,C$Tzl)),C$Tzn<this.m_countX-1&&C$Tzi.Push(new C$Tzzs.Task(C$Tzn+1,C$Tzr,C$Tzs+1,C$Tzl)),C$Tzr<this.m_countY-1&&C$Tzi.Push(new C$Tzzs.Task(C$Tzn,C$Tzr+1,C$Tzs+this.m_countX,C$Tzl))));}},C$Tzzs.prototype.GetNodes=function(C$Tzt){for(var C$Tze=0;C$Tze<this.m_countY-1;C$Tze++)for(var C$Tzi=0;C$Tzi<this.m_countX-1;C$Tzi++){var C$Tzn=C$Tzi+C$Tze*this.m_countX,C$Tzr=this.m_diagram[C$Tzn],C$Tzs=this.m_diagram[C$Tzn+1],C$Tzo=this.m_diagram[C$Tzn+this.m_countX],C$Tzn=this.m_diagram[C$Tzn+1+this.m_countX];C$Tzs!==C$Tzo&&(C$Tzr!==C$Tzs&&C$Tzr!==C$Tzo&&(C$Tzr.necessary||C$Tzs.necessary||C$Tzo.necessary)&&C$Tzt(C$Tzr.tag,C$Tzs.tag,C$Tzo.tag),C$Tzn!==C$Tzs&&C$Tzn!==C$Tzo&&(C$Tzr.necessary||C$Tzs.necessary||C$Tzo.necessary)&&C$Tzt(C$Tzs.tag,C$Tzn.tag,C$Tzo.tag));}};var C$TzGs=C$Tzzs;function C$Tzzs(C$Tzt){this.m_generatorCapacity=0,this.m_generatorCount=0,this.m_countX=0,this.m_countY=0,this.m_diagram=[],this.m_generatorBuffer=C$Tzc(C$Tzt,function(C$Tzt){return new C$Tzzs.Generator();}),this.m_generatorCapacity=C$Tzt;}var C$TzUs=C$TzGs=C$Tzzs||{};function C$TzWs(C$Tzt,C$Tze,C$Tzi,C$Tzn){this.m_x=C$Tzt,this.m_y=C$Tze,this.m_i=C$Tzi,this.m_generator=C$Tzn;}function C$TzHs(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tzt[C$Tze];C$Tzt[C$Tze]=C$Tzt[C$Tzi],C$Tzt[C$Tzi]=C$Tzn;}function C$Tzjs(C$Tzt,C$Tze){return C$Tzt<C$Tze;}function C$TzXs(C$Tzt,C$Tze,C$Tzi,C$Tzn){void 0===C$Tze&&(C$Tze=0),void 0===C$Tzi&&(C$Tzi=C$Tzt.length-C$Tze),void 0===C$Tzn&&(C$Tzn=C$Tzjs);for(var C$Tzr=C$Tze,C$Tzs=[],C$Tzo=0;;){for(;C$Tzr+1<C$Tzi;C$Tzi++){var C$Tza=C$Tzt[C$Tzr+Math.floor(Math.random()*(C$Tzi-C$Tzr))];C$Tzs[C$Tzo++]=C$Tzi;for(var C$Tzc=C$Tzr-1;;){for(;C$Tzn(C$Tzt[++C$Tzc],C$Tza););for(;C$Tzn(C$Tza,C$Tzt[--C$Tzi]););if(C$Tzi<=C$Tzc)break;C$TzHs(C$Tzt,C$Tzc,C$Tzi);}}if(0===C$Tzo)break;C$Tzr=C$Tzi,C$Tzi=C$Tzs[--C$Tzo];}return C$Tzt;}function C$TzYs(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$TzXs(C$Tzt,C$Tze=void 0===C$Tze?0:C$Tze,C$Tzi=void 0===C$Tzi?C$Tzt.length-C$Tze:C$Tzi,C$Tzn=void 0===C$Tzn?C$Tzjs:C$Tzn);}function C$Tzqs(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=C$Tzt.length);for(var C$Tzn=0,C$Tzr=0;C$Tzr<C$Tzi;++C$Tzr)C$Tze(C$Tzt[C$Tzr])||(C$Tzr!==C$Tzn?C$TzHs(C$Tzt,C$Tzn++,C$Tzr):++C$Tzn);return C$Tzn;}function C$TzJs(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){void 0===C$Tzr&&(C$Tzr=C$Tzjs);for(var C$Tzs=C$Tzi-C$Tze;0<C$Tzs;){var C$Tzo=Math.floor(C$Tzs/2),C$Tza=C$Tze+C$Tzo;C$Tzr(C$Tzt[C$Tza],C$Tzn)?(C$Tze=++C$Tza,C$Tzs-=C$Tzo+1):C$Tzs=C$Tzo;}return C$Tze;}function C$TzZs(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){void 0===C$Tzr&&(C$Tzr=C$Tzjs);for(var C$Tzs=C$Tzi-C$Tze;0<C$Tzs;){var C$Tzo=Math.floor(C$Tzs/2),C$Tza=C$Tze+C$Tzo;C$Tzr(C$Tzn,C$Tzt[C$Tza])?C$Tzs=C$Tzo:(C$Tze=++C$Tza,C$Tzs-=C$Tzo+1);}return C$Tze;}function C$TzKs(C$Tzt,C$Tze,C$Tzi,C$Tzn){for(var C$Tzr=C$Tzi;C$Tze!==C$Tzr;)C$TzHs(C$Tzt,C$Tze++,C$Tzr++),C$Tzr===C$Tzn?C$Tzr=C$Tzi:C$Tze===C$Tzi&&(C$Tzi=C$Tzr);}C$TzUs.Generator=function(){this.center=new C$Tzj(),this.tag=0,this.necessary=!1;},C$TzUs.Task=C$TzWs;C$Tz$s.prototype.Append=function(){return this.count>=this.capacity&&this.Grow(),this.count++;},C$Tz$s.prototype.Reserve=function(C$Tzt){if(!(this.capacity>=C$Tzt)){for(var C$Tze=this.capacity;C$Tze<C$Tzt;++C$Tze)this.data[C$Tze]=this.allocator();this.capacity=C$Tzt;}},C$Tz$s.prototype.Grow=function(){var C$Tzt=this.capacity?2*this.capacity:256;this.Reserve(C$Tzt);},C$Tz$s.prototype.Free=function(){0!==this.data.length&&(this.data=[],this.capacity=0,this.count=0);},C$Tz$s.prototype.Shorten=function(C$Tzt){},C$Tz$s.prototype.Data=function(){return this.data;},C$Tz$s.prototype.GetCount=function(){return this.count;},C$Tz$s.prototype.SetCount=function(C$Tzt){this.count=C$Tzt;},C$Tz$s.prototype.GetCapacity=function(){return this.capacity;},C$Tz$s.prototype.RemoveIf=function(C$Tzt){this.count=C$Tzqs(this.data,C$Tzt,this.count);},C$Tz$s.prototype.Unique=function(C$Tzt){this.count=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){if(C$Tze===C$Tzi)return C$Tzi;for(var C$Tzr=C$Tze;++C$Tze!==C$Tzi;)C$Tzn(C$Tzt[C$Tzr],C$Tzt[C$Tze])||C$TzHs(C$Tzt,++C$Tzr,C$Tze);return++C$Tzr;}(this.data,0,this.count,C$Tzt);};var C$TzQs=C$Tz$s;function C$Tz$s(C$Tzt){this.data=[],this.count=0,this.capacity=0,this.allocator=C$Tzt;}C$TzDi(C$Tzio,C$Tzto=C$Tzns),C$Tzio.prototype.ShouldQueryParticleSystem=function(C$Tzt){return!1;},C$Tzio.prototype.ReportFixture=function(C$Tzt){if(C$Tzt.IsSensor())return!0;for(var C$Tze=C$Tzt.GetShape().GetChildCount(),C$Tzi=0;C$Tzi<C$Tze;C$Tzi++)for(var C$Tzn,C$Tzr=C$Tzt.GetAABB(C$Tzi),C$Tzs=this.m_system.GetInsideBoundsEnumerator(C$Tzr);0<=(C$Tzn=C$Tzs.GetNext());)this.ReportFixtureAndParticle(C$Tzt,C$Tzi,C$Tzn);return!0;},C$Tzio.prototype.ReportParticle=function(C$Tzt,C$Tze){return!1;},C$Tzio.prototype.ReportFixtureAndParticle=function(C$Tzt,C$Tze,C$Tzi){};var C$Tzto,C$Tzeo=C$Tzio;function C$Tzio(C$Tzt){var C$Tze=C$Tzto.call(this)||this;return C$Tze.m_system=C$Tzt,C$Tze;}C$Tzro.prototype.SetIndices=function(C$Tzt,C$Tze){this.indexA=C$Tzt,this.indexB=C$Tze;},C$Tzro.prototype.SetWeight=function(C$Tzt){this.weight=C$Tzt;},C$Tzro.prototype.SetNormal=function(C$Tzt){this.normal.Copy(C$Tzt);},C$Tzro.prototype.SetFlags=function(C$Tzt){this.flags=C$Tzt;},C$Tzro.prototype.GetIndexA=function(){return this.indexA;},C$Tzro.prototype.GetIndexB=function(){return this.indexB;},C$Tzro.prototype.GetWeight=function(){return this.weight;},C$Tzro.prototype.GetNormal=function(){return this.normal;},C$Tzro.prototype.GetFlags=function(){return this.flags;},C$Tzro.prototype.IsEqual=function(C$Tzt){return this.indexA===C$Tzt.indexA&&this.indexB===C$Tzt.indexB&&this.flags===C$Tzt.flags&&this.weight===C$Tzt.weight&&this.normal.x===C$Tzt.normal.x&&this.normal.y===C$Tzt.normal.y;},C$Tzro.prototype.IsNotEqual=function(C$Tzt){return!this.IsEqual(C$Tzt);},C$Tzro.prototype.ApproximatelyEqual=function(C$Tzt){return this.indexA===C$Tzt.indexA&&this.indexB===C$Tzt.indexB&&this.flags===C$Tzt.flags&&C$TzD(this.weight-C$Tzt.weight)<.01&&C$Tzj.DistanceSquaredVV(this.normal,C$Tzt.normal)<1e-4;};var C$Tzno=C$Tzro;function C$Tzro(){this.indexA=0,this.indexB=0,this.weight=0,this.normal=new C$Tzj(),this.flags=0;}var C$Tzso=function(){this.index=0,this.weight=0,this.normal=new C$Tzj(),this.mass=0;},C$Tzoo=function(){this.indexA=0,this.indexB=0,this.flags=0,this.strength=0,this.distance=0;},C$Tzao=function(){this.indexA=0,this.indexB=0,this.indexC=0,this.flags=0,this.strength=0,this.pa=new C$Tzj(0,0),this.pb=new C$Tzj(0,0),this.pc=new C$Tzj(0,0),this.ka=0,this.kb=0,this.kc=0,this.s=0;},C$Tzco=(C$Tzlo.prototype.Copy=function(C$Tzt){return this.strictContactCheck=C$Tzt.strictContactCheck,this.density=C$Tzt.density,this.gravityScale=C$Tzt.gravityScale,this.radius=C$Tzt.radius,this.maxCount=C$Tzt.maxCount,this.pressureStrength=C$Tzt.pressureStrength,this.dampingStrength=C$Tzt.dampingStrength,this.elasticStrength=C$Tzt.elasticStrength,this.springStrength=C$Tzt.springStrength,this.viscousStrength=C$Tzt.viscousStrength,this.surfaceTensionPressureStrength=C$Tzt.surfaceTensionPressureStrength,this.surfaceTensionNormalStrength=C$Tzt.surfaceTensionNormalStrength,this.repulsiveStrength=C$Tzt.repulsiveStrength,this.powderStrength=C$Tzt.powderStrength,this.ejectionStrength=C$Tzt.ejectionStrength,this.staticPressureStrength=C$Tzt.staticPressureStrength,this.staticPressureRelaxation=C$Tzt.staticPressureRelaxation,this.staticPressureIterations=C$Tzt.staticPressureIterations,this.colorMixingStrength=C$Tzt.colorMixingStrength,this.destroyByAge=C$Tzt.destroyByAge,this.lifetimeGranularity=C$Tzt.lifetimeGranularity,this;},C$Tzlo.prototype.Clone=function(){return new C$Tzlo().Copy(this);},C$Tzlo);function C$Tzlo(){this.strictContactCheck=!1,this.density=1,this.gravityScale=1,this.radius=1,this.maxCount=0,this.pressureStrength=.005,this.dampingStrength=1,this.elasticStrength=.25,this.springStrength=.25,this.viscousStrength=.25,this.surfaceTensionPressureStrength=.2,this.surfaceTensionNormalStrength=.2,this.repulsiveStrength=1,this.powderStrength=.5,this.ejectionStrength=.5,this.staticPressureStrength=.2,this.staticPressureRelaxation=.2,this.staticPressureIterations=8,this.colorMixingStrength=.5,this.destroyByAge=!0,this.lifetimeGranularity=1/60;}function C$TzX(C$Tzt,C$Tze){this.m_paused=!1,this.m_timestamp=0,this.m_allParticleFlags=0,this.m_needsUpdateAllParticleFlags=!1,this.m_allGroupFlags=0,this.m_needsUpdateAllGroupFlags=!1,this.m_hasForce=!1,this.m_iterationIndex=0,this.m_inverseDensity=0,this.m_particleDiameter=0,this.m_inverseDiameter=0,this.m_squaredDiameter=0,this.m_count=0,this.m_internalAllocatedCapacity=0,this.m_handleIndexBuffer=new C$TzX.UserOverridableBuffer(),this.m_flagsBuffer=new C$TzX.UserOverridableBuffer(),this.m_positionBuffer=new C$TzX.UserOverridableBuffer(),this.m_velocityBuffer=new C$TzX.UserOverridableBuffer(),this.m_forceBuffer=[],this.m_weightBuffer=[],this.m_staticPressureBuffer=[],this.m_accumulationBuffer=[],this.m_accumulation2Buffer=[],this.m_depthBuffer=[],this.m_colorBuffer=new C$TzX.UserOverridableBuffer(),this.m_groupBuffer=[],this.m_userDataBuffer=new C$TzX.UserOverridableBuffer(),this.m_stuckThreshold=0,this.m_lastBodyContactStepBuffer=new C$TzX.UserOverridableBuffer(),this.m_bodyContactCountBuffer=new C$TzX.UserOverridableBuffer(),this.m_consecutiveContactStepsBuffer=new C$TzX.UserOverridableBuffer(),this.m_stuckParticleBuffer=new C$TzQs(function(){return 0;}),this.m_proxyBuffer=new C$TzQs(function(){return new C$TzX.Proxy();}),this.m_contactBuffer=new C$TzQs(function(){return new C$Tzno();}),this.m_bodyContactBuffer=new C$TzQs(function(){return new C$Tzso();}),this.m_pairBuffer=new C$TzQs(function(){return new C$Tzoo();}),this.m_triadBuffer=new C$TzQs(function(){return new C$Tzao();}),this.m_expirationTimeBuffer=new C$TzX.UserOverridableBuffer(),this.m_indexByExpirationTimeBuffer=new C$TzX.UserOverridableBuffer(),this.m_timeElapsed=0,this.m_expirationTimeBufferRequiresSorting=!1,this.m_groupCount=0,this.m_groupList=null,this.m_def=new C$Tzco(),this.m_prev=null,this.m_next=null,this.SetStrictContactCheck(C$Tzt.strictContactCheck),this.SetDensity(C$Tzt.density),this.SetGravityScale(C$Tzt.gravityScale),this.SetRadius(C$Tzt.radius),this.SetMaxParticleCount(C$Tzt.maxCount),this.m_def=C$Tzt.Clone(),this.m_world=C$Tze,this.SetDestructionByAge(this.m_def.destroyByAge);}C$TzH.b2ParticleSystem=(C$TzX.computeTag=function(C$Tzt,C$Tze){return(C$Tze+C$TzX.yOffset>>>0<<C$TzX.yShift)+(C$TzX.xScale*C$Tzt+C$TzX.xOffset>>>0)>>>0;},C$TzX.computeRelativeTag=function(C$Tzt,C$Tze,C$Tzi){return C$Tzt+(C$Tzi<<C$TzX.yShift)+(C$Tze<<C$TzX.xShift)>>>0;},C$TzX.prototype.Drop=function(){for(;this.m_groupList;)this.DestroyParticleGroup(this.m_groupList);this.FreeUserOverridableBuffer(this.m_handleIndexBuffer),this.FreeUserOverridableBuffer(this.m_flagsBuffer),this.FreeUserOverridableBuffer(this.m_lastBodyContactStepBuffer),this.FreeUserOverridableBuffer(this.m_bodyContactCountBuffer),this.FreeUserOverridableBuffer(this.m_consecutiveContactStepsBuffer),this.FreeUserOverridableBuffer(this.m_positionBuffer),this.FreeUserOverridableBuffer(this.m_velocityBuffer),this.FreeUserOverridableBuffer(this.m_colorBuffer),this.FreeUserOverridableBuffer(this.m_userDataBuffer),this.FreeUserOverridableBuffer(this.m_expirationTimeBuffer),this.FreeUserOverridableBuffer(this.m_indexByExpirationTimeBuffer),this.FreeBuffer(this.m_forceBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_weightBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_staticPressureBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulationBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulation2Buffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_depthBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_groupBuffer,this.m_internalAllocatedCapacity);},C$TzX.prototype.CreateParticle=function(C$Tzt){if(this.m_world.IsLocked())throw new Error();if(this.m_count>=this.m_internalAllocatedCapacity&&(C$Tze=this.m_count?2*this.m_count:256,this.ReallocateInternalAllocatedBuffers(C$Tze)),this.m_count>=this.m_internalAllocatedCapacity){if(!this.m_def.destroyByAge)return-1;this.DestroyOldestParticle(0,!1),this.SolveZombie();}var C$Tze=this.m_count++;if(!this.m_flagsBuffer.data)throw new Error();if(this.m_flagsBuffer.data[C$Tze]=0,this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[C$Tze]=0),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[C$Tze]=0),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[C$Tze]=0),!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();this.m_positionBuffer.data[C$Tze]=(this.m_positionBuffer.data[C$Tze]||new C$Tzj()).Copy(C$Tzf(C$Tzt.position,C$Tzj.ZERO)),this.m_velocityBuffer.data[C$Tze]=(this.m_velocityBuffer.data[C$Tze]||new C$Tzj()).Copy(C$Tzf(C$Tzt.velocity,C$Tzj.ZERO)),this.m_weightBuffer[C$Tze]=0,this.m_forceBuffer[C$Tze]=(this.m_forceBuffer[C$Tze]||new C$Tzj()).SetZero(),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[C$Tze]=0),this.m_depthBuffer&&(this.m_depthBuffer[C$Tze]=0);var C$Tzi=new C$TzJ().Copy(C$Tzf(C$Tzt.color,C$TzJ.ZERO)),C$Tzi=(!this.m_colorBuffer.data&&C$Tzi.IsZero()||(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data[C$Tze]=(this.m_colorBuffer.data[C$Tze]||new C$TzJ()).Copy(C$Tzi)),(this.m_userDataBuffer.data||C$Tzt.userData)&&(this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data[C$Tze]=C$Tzt.userData),this.m_handleIndexBuffer.data&&(this.m_handleIndexBuffer.data[C$Tze]=null),this.m_proxyBuffer.data[this.m_proxyBuffer.Append()]),C$Tzn=C$Tzf(C$Tzt.lifetime,0),C$Tzr=0<C$Tzn;if(this.m_expirationTimeBuffer.data||C$Tzr){if(this.SetParticleLifetime(C$Tze,C$Tzr?C$Tzn:this.ExpirationTimeToLifetime(-this.GetQuantizedTimeElapsed())),!this.m_indexByExpirationTimeBuffer.data)throw new Error();this.m_indexByExpirationTimeBuffer.data[C$Tze]=C$Tze;}C$Tzi.index=C$Tze;C$Tzr=C$Tzf(C$Tzt.group,null);return(this.m_groupBuffer[C$Tze]=C$Tzr)&&(C$Tzr.m_firstIndex<C$Tzr.m_lastIndex?this.RotateBuffer(C$Tzr.m_firstIndex,C$Tzr.m_lastIndex,C$Tze):C$Tzr.m_firstIndex=C$Tze,C$Tzr.m_lastIndex=1+C$Tze),this.SetParticleFlags(C$Tze,C$Tzf(C$Tzt.flags,0)),C$Tze;},C$TzX.prototype.GetParticleHandleFromIndex=function(C$Tzt){this.m_handleIndexBuffer.data=this.RequestBuffer(this.m_handleIndexBuffer.data);var C$Tze=this.m_handleIndexBuffer.data[C$Tzt];return C$Tze||((C$Tze=new C$TzDs()).SetIndex(C$Tzt),this.m_handleIndexBuffer.data[C$Tzt]=C$Tze);},C$TzX.prototype.DestroyParticle=function(C$Tzt,C$Tze){if(void 0===C$Tze&&(C$Tze=!1),!this.m_flagsBuffer.data)throw new Error();var C$Tzi=C$TzH.b2ParticleFlag.b2_zombieParticle;C$Tze&&(C$Tzi|=C$TzH.b2ParticleFlag.b2_destructionListenerParticle),this.SetParticleFlags(C$Tzt,this.m_flagsBuffer.data[C$Tzt]|C$Tzi);},C$TzX.prototype.DestroyOldestParticle=function(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=!1);var C$Tzi=this.GetParticleCount();if(!this.m_indexByExpirationTimeBuffer.data)throw new Error();if(!this.m_expirationTimeBuffer.data)throw new Error();C$Tzi=this.m_indexByExpirationTimeBuffer.data[C$Tzi-(C$Tzt+1)],C$Tzt=this.m_indexByExpirationTimeBuffer.data[C$Tzt];this.DestroyParticle(0<this.m_expirationTimeBuffer.data[C$Tzi]?C$Tzi:C$Tzt,C$Tze);},C$TzX.prototype.DestroyParticlesInShape=function(C$Tzt,C$Tze,C$Tzi){void 0===C$Tzi&&(C$Tzi=!1);var C$Tzn=C$TzX.DestroyParticlesInShape_s_aabb;if(this.m_world.IsLocked())throw new Error();C$Tzi=new C$TzX.DestroyParticlesInShapeCallback(this,C$Tzt,C$Tze,C$Tzi);return C$Tzt.ComputeAABB(C$Tzn,C$Tze,0),this.m_world.QueryAABB(C$Tzi,C$Tzn),C$Tzi.Destroyed();},C$TzX.prototype.CreateParticleGroup=function(C$Tzt){var C$Tze=C$TzX.CreateParticleGroup_s_transform;if(this.m_world.IsLocked())throw new Error();var C$Tzi=C$Tze,C$Tze=(C$Tzi.SetPositionAngle(C$Tzf(C$Tzt.position,C$Tzj.ZERO),C$Tzf(C$Tzt.angle,0)),this.m_count);if(C$Tzt.shape&&this.CreateParticlesWithShapeForGroup(C$Tzt.shape,C$Tzt,C$Tzi),C$Tzt.shapes&&this.CreateParticlesWithShapesForGroup(C$Tzt.shapes,C$Tzf(C$Tzt.shapeCount,C$Tzt.shapes.length),C$Tzt,C$Tzi),C$Tzt.positionData)for(var C$Tzn=C$Tzf(C$Tzt.particleCount,C$Tzt.positionData.length),C$Tzr=0;C$Tzr<C$Tzn;C$Tzr++){var C$Tzs=C$Tzt.positionData[C$Tzr];this.CreateParticleForGroup(C$Tzt,C$Tzi,C$Tzs);}var C$Tzo=this.m_count,C$Tza=new C$TzOs(this);C$Tza.m_firstIndex=C$Tze,C$Tza.m_lastIndex=C$Tzo,C$Tza.m_strength=C$Tzf(C$Tzt.strength,1),C$Tza.m_userData=C$Tzt.userData,C$Tza.m_transform.Copy(C$Tzi),C$Tza.m_prev=null,C$Tza.m_next=this.m_groupList,this.m_groupList&&(this.m_groupList.m_prev=C$Tza),this.m_groupList=C$Tza,++this.m_groupCount;for(C$Tzr=C$Tze;C$Tzr<C$Tzo;C$Tzr++)this.m_groupBuffer[C$Tzr]=C$Tza;this.SetGroupFlags(C$Tza,C$Tzf(C$Tzt.groupFlags,0));var C$Tzc=new C$TzX.ConnectionFilter();return this.UpdateContacts(!0),this.UpdatePairsAndTriads(C$Tze,C$Tzo,C$Tzc),C$Tzt.group&&(this.JoinParticleGroups(C$Tzt.group,C$Tza),C$Tza=C$Tzt.group),C$Tza;},C$TzX.prototype.JoinParticleGroups=function(C$Tzt,C$Tze){if(this.m_world.IsLocked())throw new Error();this.RotateBuffer(C$Tze.m_firstIndex,C$Tze.m_lastIndex,this.m_count),this.RotateBuffer(C$Tzt.m_firstIndex,C$Tzt.m_lastIndex,C$Tze.m_firstIndex);var C$Tzi=new C$TzX.JoinParticleGroupsFilter(C$Tze.m_firstIndex);this.UpdateContacts(!0),this.UpdatePairsAndTriads(C$Tzt.m_firstIndex,C$Tze.m_lastIndex,C$Tzi);for(var C$Tzn=C$Tze.m_firstIndex;C$Tzn<C$Tze.m_lastIndex;C$Tzn++)this.m_groupBuffer[C$Tzn]=C$Tzt;C$Tzi=C$Tzt.m_groupFlags|C$Tze.m_groupFlags;this.SetGroupFlags(C$Tzt,C$Tzi),C$Tzt.m_lastIndex=C$Tze.m_lastIndex,C$Tze.m_firstIndex=C$Tze.m_lastIndex,this.DestroyParticleGroup(C$Tze);},C$TzX.prototype.SplitParticleGroup=function(C$Tzt){this.UpdateContacts(!0);var C$Tze=C$Tzc(C$Tzt.GetParticleCount(),function(C$Tzt){return new C$TzX.ParticleListNode();}),C$Tzi=(C$TzX.InitializeParticleLists(C$Tzt,C$Tze),this.MergeParticleListsInContact(C$Tzt,C$Tze),C$TzX.FindLongestParticleList(C$Tzt,C$Tze));this.MergeZombieParticleListNodes(C$Tzt,C$Tze,C$Tzi),this.CreateParticleGroupsFromParticleList(C$Tzt,C$Tze,C$Tzi),this.UpdatePairsAndTriadsWithParticleList(C$Tzt,C$Tze);},C$TzX.prototype.GetParticleGroupList=function(){return this.m_groupList;},C$TzX.prototype.GetParticleGroupCount=function(){return this.m_groupCount;},C$TzX.prototype.GetParticleCount=function(){return this.m_count;},C$TzX.prototype.GetMaxParticleCount=function(){return this.m_def.maxCount;},C$TzX.prototype.SetMaxParticleCount=function(C$Tzt){this.m_def.maxCount=C$Tzt;},C$TzX.prototype.GetAllParticleFlags=function(){return this.m_allParticleFlags;},C$TzX.prototype.GetAllGroupFlags=function(){return this.m_allGroupFlags;},C$TzX.prototype.SetPaused=function(C$Tzt){this.m_paused=C$Tzt;},C$TzX.prototype.GetPaused=function(){return this.m_paused;},C$TzX.prototype.SetDensity=function(C$Tzt){this.m_def.density=C$Tzt,this.m_inverseDensity=1/this.m_def.density;},C$TzX.prototype.GetDensity=function(){return this.m_def.density;},C$TzX.prototype.SetGravityScale=function(C$Tzt){this.m_def.gravityScale=C$Tzt;},C$TzX.prototype.GetGravityScale=function(){return this.m_def.gravityScale;},C$TzX.prototype.SetDamping=function(C$Tzt){this.m_def.dampingStrength=C$Tzt;},C$TzX.prototype.GetDamping=function(){return this.m_def.dampingStrength;},C$TzX.prototype.SetStaticPressureIterations=function(C$Tzt){this.m_def.staticPressureIterations=C$Tzt;},C$TzX.prototype.GetStaticPressureIterations=function(){return this.m_def.staticPressureIterations;},C$TzX.prototype.SetRadius=function(C$Tzt){this.m_particleDiameter=2*C$Tzt,this.m_squaredDiameter=this.m_particleDiameter*this.m_particleDiameter,this.m_inverseDiameter=1/this.m_particleDiameter;},C$TzX.prototype.GetRadius=function(){return this.m_particleDiameter/2;},C$TzX.prototype.GetPositionBuffer=function(){if(!this.m_positionBuffer.data)throw new Error();return this.m_positionBuffer.data;},C$TzX.prototype.GetVelocityBuffer=function(){if(!this.m_velocityBuffer.data)throw new Error();return this.m_velocityBuffer.data;},C$TzX.prototype.GetColorBuffer=function(){return this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data;},C$TzX.prototype.GetGroupBuffer=function(){return this.m_groupBuffer;},C$TzX.prototype.GetWeightBuffer=function(){return this.m_weightBuffer;},C$TzX.prototype.GetUserDataBuffer=function(){return this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data;},C$TzX.prototype.GetFlagsBuffer=function(){if(!this.m_flagsBuffer.data)throw new Error();return this.m_flagsBuffer.data;},C$TzX.prototype.SetParticleFlags=function(C$Tzt,C$Tze){if(!this.m_flagsBuffer.data)throw new Error();this.m_flagsBuffer.data[C$Tzt]&~C$Tze&&(this.m_needsUpdateAllParticleFlags=!0),~this.m_allParticleFlags&C$Tze&&(C$Tze&C$TzH.b2ParticleFlag.b2_tensileParticle&&(this.m_accumulation2Buffer=this.RequestBuffer(this.m_accumulation2Buffer)),C$Tze&C$TzH.b2ParticleFlag.b2_colorMixingParticle&&(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data)),this.m_allParticleFlags|=C$Tze),this.m_flagsBuffer.data[C$Tzt]=C$Tze;},C$TzX.prototype.GetParticleFlags=function(C$Tzt){if(!this.m_flagsBuffer.data)throw new Error();return this.m_flagsBuffer.data[C$Tzt];},C$TzX.prototype.SetFlagsBuffer=function(C$Tzt,C$Tze){this.SetUserOverridableBuffer(this.m_flagsBuffer,C$Tzt,C$Tze);},C$TzX.prototype.SetPositionBuffer=function(C$Tzt,C$Tze){this.SetUserOverridableBuffer(this.m_positionBuffer,C$Tzt,C$Tze);},C$TzX.prototype.SetVelocityBuffer=function(C$Tzt,C$Tze){this.SetUserOverridableBuffer(this.m_velocityBuffer,C$Tzt,C$Tze);},C$TzX.prototype.SetColorBuffer=function(C$Tzt,C$Tze){this.SetUserOverridableBuffer(this.m_colorBuffer,C$Tzt,C$Tze);},C$TzX.prototype.SetUserDataBuffer=function(C$Tzt,C$Tze){this.SetUserOverridableBuffer(this.m_userDataBuffer,C$Tzt,C$Tze);},C$TzX.prototype.GetContacts=function(){return this.m_contactBuffer.data;},C$TzX.prototype.GetContactCount=function(){return this.m_contactBuffer.count;},C$TzX.prototype.GetBodyContacts=function(){return this.m_bodyContactBuffer.data;},C$TzX.prototype.GetBodyContactCount=function(){return this.m_bodyContactBuffer.count;},C$TzX.prototype.GetPairs=function(){return this.m_pairBuffer.data;},C$TzX.prototype.GetPairCount=function(){return this.m_pairBuffer.count;},C$TzX.prototype.GetTriads=function(){return this.m_triadBuffer.data;},C$TzX.prototype.GetTriadCount=function(){return this.m_triadBuffer.count;},C$TzX.prototype.SetStuckThreshold=function(C$Tzt){0<(this.m_stuckThreshold=C$Tzt)&&(this.m_lastBodyContactStepBuffer.data=this.RequestBuffer(this.m_lastBodyContactStepBuffer.data),this.m_bodyContactCountBuffer.data=this.RequestBuffer(this.m_bodyContactCountBuffer.data),this.m_consecutiveContactStepsBuffer.data=this.RequestBuffer(this.m_consecutiveContactStepsBuffer.data));},C$TzX.prototype.GetStuckCandidates=function(){return this.m_stuckParticleBuffer.Data();},C$TzX.prototype.GetStuckCandidateCount=function(){return this.m_stuckParticleBuffer.GetCount();},C$TzX.prototype.ComputeCollisionEnergy=function(){if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tzt=C$TzX.ComputeCollisionEnergy_s_v,C$Tze=this.m_velocityBuffer.data,C$Tzi=0,C$Tzn=0;C$Tzn<this.m_contactBuffer.count;C$Tzn++){var C$Tzr=this.m_contactBuffer.data[C$Tzn],C$Tzs=C$Tzr.indexA,C$Tzo=C$Tzr.indexB,C$Tzr=C$Tzr.normal,C$Tzo=C$Tzj.SubVV(C$Tze[C$Tzo],C$Tze[C$Tzs],C$Tzt),C$Tzs=C$Tzj.DotVV(C$Tzo,C$Tzr);C$Tzs<0&&(C$Tzi+=C$Tzs*C$Tzs);}return .5*this.GetParticleMass()*C$Tzi;},C$TzX.prototype.SetStrictContactCheck=function(C$Tzt){this.m_def.strictContactCheck=C$Tzt;},C$TzX.prototype.GetStrictContactCheck=function(){return this.m_def.strictContactCheck;},C$TzX.prototype.SetParticleLifetime=function(C$Tzt,C$Tze){var C$Tzi=null===this.m_indexByExpirationTimeBuffer.data;if(this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),C$Tzi)for(var C$Tzn=this.GetParticleCount(),C$Tzr=0;C$Tzr<C$Tzn;++C$Tzr)this.m_indexByExpirationTimeBuffer.data[C$Tzr]=C$Tzr;C$Tzi=C$Tze/this.m_def.lifetimeGranularity,C$Tze=0<C$Tzi?this.GetQuantizedTimeElapsed()+C$Tzi:C$Tzi;C$Tze!==this.m_expirationTimeBuffer.data[C$Tzt]&&(this.m_expirationTimeBuffer.data[C$Tzt]=C$Tze,this.m_expirationTimeBufferRequiresSorting=!0);},C$TzX.prototype.GetParticleLifetime=function(C$Tzt){return this.ExpirationTimeToLifetime(this.GetExpirationTimeBuffer()[C$Tzt]);},C$TzX.prototype.SetDestructionByAge=function(C$Tzt){C$Tzt&&this.GetExpirationTimeBuffer(),this.m_def.destroyByAge=C$Tzt;},C$TzX.prototype.GetDestructionByAge=function(){return this.m_def.destroyByAge;},C$TzX.prototype.GetExpirationTimeBuffer=function(){return this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_expirationTimeBuffer.data;},C$TzX.prototype.ExpirationTimeToLifetime=function(C$Tzt){return(0<C$Tzt?C$Tzt-this.GetQuantizedTimeElapsed():C$Tzt)*this.m_def.lifetimeGranularity;},C$TzX.prototype.GetIndexByExpirationTimeBuffer=function(){if(this.GetParticleCount()?this.SetParticleLifetime(0,this.GetParticleLifetime(0)):this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),!this.m_indexByExpirationTimeBuffer.data)throw new Error();return this.m_indexByExpirationTimeBuffer.data;},C$TzX.prototype.ParticleApplyLinearImpulse=function(C$Tzt,C$Tze){this.ApplyLinearImpulse(C$Tzt,C$Tzt+1,C$Tze);},C$TzX.prototype.ApplyLinearImpulse=function(C$Tzt,C$Tze,C$Tzi){if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tzn=this.m_velocityBuffer.data,C$Tzr=(C$Tze-C$Tzt)*this.GetParticleMass(),C$Tzs=new C$Tzj().Copy(C$Tzi).SelfMul(1/C$Tzr),C$Tzo=C$Tzt;C$Tzo<C$Tze;C$Tzo++)C$Tzn[C$Tzo].SelfAdd(C$Tzs);},C$TzX.IsSignificantForce=function(C$Tzt){return 0!==C$Tzt.x||0!==C$Tzt.y;},C$TzX.prototype.ParticleApplyForce=function(C$Tzt,C$Tze){if(!this.m_flagsBuffer.data)throw new Error();C$TzX.IsSignificantForce(C$Tze)&&this.ForceCanBeApplied(this.m_flagsBuffer.data[C$Tzt])&&(this.PrepareForceBuffer(),this.m_forceBuffer[C$Tzt].SelfAdd(C$Tze));},C$TzX.prototype.ApplyForce=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=new C$Tzj().Copy(C$Tzi).SelfMul(1/(C$Tze-C$Tzt));if(C$TzX.IsSignificantForce(C$Tzn)){this.PrepareForceBuffer();for(var C$Tzr=C$Tzt;C$Tzr<C$Tze;C$Tzr++)this.m_forceBuffer[C$Tzr].SelfAdd(C$Tzn);}},C$TzX.prototype.GetNext=function(){return this.m_next;},C$TzX.prototype.QueryAABB=function(C$Tzt,C$Tze){if(0!==this.m_proxyBuffer.count){var C$Tzi=this.m_proxyBuffer.count,C$Tzn=C$TzJs(this.m_proxyBuffer.data,0,C$Tzi,C$TzX.computeTag(this.m_inverseDiameter*C$Tze.lowerBound.x,this.m_inverseDiameter*C$Tze.lowerBound.y),C$TzX.Proxy.CompareProxyTag),C$Tzr=C$TzZs(this.m_proxyBuffer.data,C$Tzn,C$Tzi,C$TzX.computeTag(this.m_inverseDiameter*C$Tze.upperBound.x,this.m_inverseDiameter*C$Tze.upperBound.y),C$TzX.Proxy.CompareTagProxy);if(!this.m_positionBuffer.data)throw new Error();for(var C$Tzs=this.m_positionBuffer.data,C$Tzo=C$Tzn;C$Tzo<C$Tzr;++C$Tzo){var C$Tza=this.m_proxyBuffer.data[C$Tzo].index,C$Tzc=C$Tzs[C$Tza];if(C$Tze.lowerBound.x<C$Tzc.x&&C$Tzc.x<C$Tze.upperBound.x&&C$Tze.lowerBound.y<C$Tzc.y&&C$Tzc.y<C$Tze.upperBound.y&&!C$Tzt.ReportParticle(this,C$Tza))break;}}},C$TzX.prototype.QueryShapeAABB=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$TzX.QueryShapeAABB_s_aabb;C$Tze.ComputeAABB(C$Tzr,C$Tzi,C$Tzn=void 0===C$Tzn?0:C$Tzn),this.QueryAABB(C$Tzt,C$Tzr);},C$TzX.prototype.QueryPointAABB=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$TzX.QueryPointAABB_s_aabb;C$Tzn.lowerBound.Set(C$Tze.x-(C$Tzi=void 0===C$Tzi?.008:C$Tzi),C$Tze.y-C$Tzi),C$Tzn.upperBound.Set(C$Tze.x+C$Tzi,C$Tze.y+C$Tzi),this.QueryAABB(C$Tzt,C$Tzn);},C$TzX.prototype.RayCast=function(C$Tzh,C$Tzt,C$Tze){var C$Tzi=C$TzX.RayCast_s_aabb,C$Tzu=C$TzX.RayCast_s_p,C$Tz_=C$TzX.RayCast_s_v,C$Tzd=C$TzX.RayCast_s_n,C$Tzf=C$TzX.RayCast_s_point;if(0!==this.m_proxyBuffer.count){if(!this.m_positionBuffer.data)throw new Error();for(var C$Tzn,C$Tzp=this.m_positionBuffer.data,C$Tzr=(C$Tzj.MinV(C$Tzt,C$Tze,C$Tzi.lowerBound),C$Tzj.MaxV(C$Tzt,C$Tze,C$Tzi.upperBound),1),C$Tzs=C$Tzj.SubVV(C$Tze,C$Tzt,C$Tz_),C$Tzm=C$Tzj.DotVV(C$Tzs,C$Tzs),C$Tzy=this.GetInsideBoundsEnumerator(C$Tzi);0<=(C$Tzn=C$Tzy.GetNext());){var C$Tzo=C$Tzj.SubVV(C$Tzt,C$Tzp[C$Tzn],C$Tzu),C$Tza=C$Tzj.DotVV(C$Tzo,C$Tzs),C$Tzc=C$Tza*C$Tza-C$Tzm*(C$Tzj.DotVV(C$Tzo,C$Tzo)-this.m_squaredDiameter);if(0<=C$Tzc){var C$Tzc=C$TzY(C$Tzc),C$Tzl=(-C$Tza-C$Tzc)/C$Tzm;if(!(C$Tzr<C$Tzl)&&!(C$Tzl<0&&((C$Tzl=(-C$Tza+C$Tzc)/C$Tzm)<0||C$Tzr<C$Tzl))){C$Tza=C$Tzj.AddVMulSV(C$Tzo,C$Tzl,C$Tzs,C$Tzd),C$Tzc=(C$Tza.Normalize(),C$Tzh.ReportParticle(this,C$Tzn,C$Tzj.AddVMulSV(C$Tzt,C$Tzl,C$Tzs,C$Tzf),C$Tza,C$Tzl));if((C$Tzr=C$TzL(C$Tzr,C$Tzc))<=0)break;}}}}},C$TzX.prototype.ComputeAABB=function(C$Tzt){var C$Tze=this.GetParticleCount();if(C$Tzt.lowerBound.x=+C$TzP,C$Tzt.lowerBound.y=+C$TzP,C$Tzt.upperBound.x=-C$TzP,C$Tzt.upperBound.y=-C$TzP,!this.m_positionBuffer.data)throw new Error();for(var C$Tzi=this.m_positionBuffer.data,C$Tzn=0;C$Tzn<C$Tze;C$Tzn++){var C$Tzr=C$Tzi[C$Tzn];C$Tzj.MinV(C$Tzt.lowerBound,C$Tzr,C$Tzt.lowerBound),C$Tzj.MaxV(C$Tzt.upperBound,C$Tzr,C$Tzt.upperBound);}C$Tzt.lowerBound.x-=this.m_particleDiameter,C$Tzt.lowerBound.y-=this.m_particleDiameter,C$Tzt.upperBound.x+=this.m_particleDiameter,C$Tzt.upperBound.y+=this.m_particleDiameter;},C$TzX.prototype.FreeBuffer=function(C$Tzt,C$Tze){null!==C$Tzt&&(C$Tzt.length=0);},C$TzX.prototype.FreeUserOverridableBuffer=function(C$Tzt){0===C$Tzt.userSuppliedCapacity&&this.FreeBuffer(C$Tzt.data,this.m_internalAllocatedCapacity);},C$TzX.prototype.ReallocateBuffer3=function(C$Tzt,C$Tze,C$Tzi){if(C$Tzi<=C$Tze)throw new Error();C$Tze=C$Tzt?C$Tzt.slice():[];return C$Tze.length=C$Tzi,C$Tze;},C$TzX.prototype.ReallocateBuffer5=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){if(C$Tzn<=C$Tzi)throw new Error();if(C$Tze&&!(C$Tzn<=C$Tze))throw new Error();return C$Tzt=C$Tzr&&!C$Tzt||C$Tze?C$Tzt:this.ReallocateBuffer3(C$Tzt,C$Tzi,C$Tzn);},C$TzX.prototype.ReallocateBuffer4=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return this.ReallocateBuffer5(C$Tzt.data,C$Tzt.userSuppliedCapacity,C$Tze,C$Tzi,C$Tzn);},C$TzX.prototype.RequestBuffer=function(C$Tzt){return C$Tzt||(0===this.m_internalAllocatedCapacity&&this.ReallocateInternalAllocatedBuffers(256),(C$Tzt=[]).length=this.m_internalAllocatedCapacity),C$Tzt;},C$TzX.prototype.ReallocateHandleBuffers=function(C$Tzt){this.m_handleIndexBuffer.data=this.ReallocateBuffer4(this.m_handleIndexBuffer,this.m_internalAllocatedCapacity,C$Tzt,!0);},C$TzX.prototype.ReallocateInternalAllocatedBuffers=function(C$Tzt){function C$Tze(C$Tzt,C$Tze){return C$Tze&&C$Tze<C$Tzt?C$Tze:C$Tzt;}var C$Tzi;C$Tzt=C$Tze(C$Tzt,this.m_def.maxCount),C$Tzt=C$Tze(C$Tzt,this.m_flagsBuffer.userSuppliedCapacity),C$Tzt=C$Tze(C$Tzt,this.m_positionBuffer.userSuppliedCapacity),C$Tzt=C$Tze(C$Tzt,this.m_velocityBuffer.userSuppliedCapacity),C$Tzt=C$Tze(C$Tzt,this.m_colorBuffer.userSuppliedCapacity),C$Tzt=C$Tze(C$Tzt,this.m_userDataBuffer.userSuppliedCapacity),this.m_internalAllocatedCapacity<C$Tzt&&(this.ReallocateHandleBuffers(C$Tzt),this.m_flagsBuffer.data=this.ReallocateBuffer4(this.m_flagsBuffer,this.m_internalAllocatedCapacity,C$Tzt,!1),C$Tzi=0<this.m_stuckThreshold,this.m_lastBodyContactStepBuffer.data=this.ReallocateBuffer4(this.m_lastBodyContactStepBuffer,this.m_internalAllocatedCapacity,C$Tzt,C$Tzi),this.m_bodyContactCountBuffer.data=this.ReallocateBuffer4(this.m_bodyContactCountBuffer,this.m_internalAllocatedCapacity,C$Tzt,C$Tzi),this.m_consecutiveContactStepsBuffer.data=this.ReallocateBuffer4(this.m_consecutiveContactStepsBuffer,this.m_internalAllocatedCapacity,C$Tzt,C$Tzi),this.m_positionBuffer.data=this.ReallocateBuffer4(this.m_positionBuffer,this.m_internalAllocatedCapacity,C$Tzt,!1),this.m_velocityBuffer.data=this.ReallocateBuffer4(this.m_velocityBuffer,this.m_internalAllocatedCapacity,C$Tzt,!1),this.m_forceBuffer=this.ReallocateBuffer5(this.m_forceBuffer,0,this.m_internalAllocatedCapacity,C$Tzt,!1),this.m_weightBuffer=this.ReallocateBuffer5(this.m_weightBuffer,0,this.m_internalAllocatedCapacity,C$Tzt,!1),this.m_staticPressureBuffer=this.ReallocateBuffer5(this.m_staticPressureBuffer,0,this.m_internalAllocatedCapacity,C$Tzt,!0),this.m_accumulationBuffer=this.ReallocateBuffer5(this.m_accumulationBuffer,0,this.m_internalAllocatedCapacity,C$Tzt,!1),this.m_accumulation2Buffer=this.ReallocateBuffer5(this.m_accumulation2Buffer,0,this.m_internalAllocatedCapacity,C$Tzt,!0),this.m_depthBuffer=this.ReallocateBuffer5(this.m_depthBuffer,0,this.m_internalAllocatedCapacity,C$Tzt,!0),this.m_colorBuffer.data=this.ReallocateBuffer4(this.m_colorBuffer,this.m_internalAllocatedCapacity,C$Tzt,!0),this.m_groupBuffer=this.ReallocateBuffer5(this.m_groupBuffer,0,this.m_internalAllocatedCapacity,C$Tzt,!1),this.m_userDataBuffer.data=this.ReallocateBuffer4(this.m_userDataBuffer,this.m_internalAllocatedCapacity,C$Tzt,!0),this.m_expirationTimeBuffer.data=this.ReallocateBuffer4(this.m_expirationTimeBuffer,this.m_internalAllocatedCapacity,C$Tzt,!0),this.m_indexByExpirationTimeBuffer.data=this.ReallocateBuffer4(this.m_indexByExpirationTimeBuffer,this.m_internalAllocatedCapacity,C$Tzt,!1),this.m_internalAllocatedCapacity=C$Tzt);},C$TzX.prototype.CreateParticleForGroup=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=new C$TzRs();C$Tzn.flags=C$Tzf(C$Tzt.flags,0),C$TzR.MulXV(C$Tze,C$Tzi,C$Tzn.position),C$Tzj.AddVV(C$Tzf(C$Tzt.linearVelocity,C$Tzj.ZERO),C$Tzj.CrossSV(C$Tzf(C$Tzt.angularVelocity,0),C$Tzj.SubVV(C$Tzn.position,C$Tzf(C$Tzt.position,C$Tzj.ZERO),C$Tzj.s_t0),C$Tzj.s_t0),C$Tzn.velocity),C$Tzn.color.Copy(C$Tzf(C$Tzt.color,C$TzJ.ZERO)),C$Tzn.lifetime=C$Tzf(C$Tzt.lifetime,0),C$Tzn.userData=C$Tzt.userData,this.CreateParticle(C$Tzn);},C$TzX.prototype.CreateParticlesStrokeShapeForGroup=function(C$Tzt,C$Tze,C$Tzi){for(var C$Tzn=C$TzX.CreateParticlesStrokeShapeForGroup_s_edge,C$Tzh=C$TzX.CreateParticlesStrokeShapeForGroup_s_d,C$Tzu=C$TzX.CreateParticlesStrokeShapeForGroup_s_p,C$Tzr=C$Tzf(C$Tze.stride,0),C$Tzs=(0===C$Tzr&&(C$Tzr=this.GetParticleStride()),0),C$Tz_=C$Tzt.GetChildCount(),C$Tzo=0;C$Tzo<C$Tz_;C$Tzo++){for(var C$Tza=null,C$Tzc=(C$Tzt.GetType()===C$TzH.b2ShapeType.e_edgeShape?C$Tza=C$Tzt:C$Tzt.GetChildEdge(C$Tza=C$Tzn,C$Tzo),C$Tzj.SubVV(C$Tza.m_vertex2,C$Tza.m_vertex1,C$Tzh)),C$Tzl=C$Tzc.Length();C$Tzs<C$Tzl;){var C$Tzd=C$Tzj.AddVMulSV(C$Tza.m_vertex1,C$Tzs/C$Tzl,C$Tzc,C$Tzu);this.CreateParticleForGroup(C$Tze,C$Tzi,C$Tzd),C$Tzs+=C$Tzr;}C$Tzs-=C$Tzl;}},C$TzX.prototype.CreateParticlesFillShapeForGroup=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$TzX.CreateParticlesFillShapeForGroup_s_aabb,C$Tzh=C$TzX.CreateParticlesFillShapeForGroup_s_p,C$Tzr=C$Tzf(C$Tze.stride,0),C$Tzs=(0===C$Tzr&&(C$Tzr=this.GetParticleStride()),C$TzR.IDENTITY),C$Tzo=C$Tzn;C$Tzt.ComputeAABB(C$Tzo,C$Tzs,0);for(var C$Tza=Math.floor(C$Tzo.lowerBound.y/C$Tzr)*C$Tzr;C$Tza<C$Tzo.upperBound.y;C$Tza+=C$Tzr)for(var C$Tzc=Math.floor(C$Tzo.lowerBound.x/C$Tzr)*C$Tzr;C$Tzc<C$Tzo.upperBound.x;C$Tzc+=C$Tzr){var C$Tzl=C$Tzh.Set(C$Tzc,C$Tza);C$Tzt.TestPoint(C$Tzs,C$Tzl)&&this.CreateParticleForGroup(C$Tze,C$Tzi,C$Tzl);}},C$TzX.prototype.CreateParticlesWithShapeForGroup=function(C$Tzt,C$Tze,C$Tzi){switch(C$Tzt.GetType()){case C$TzH.b2ShapeType.e_edgeShape:case C$TzH.b2ShapeType.e_chainShape:this.CreateParticlesStrokeShapeForGroup(C$Tzt,C$Tze,C$Tzi);break;case C$TzH.b2ShapeType.e_polygonShape:case C$TzH.b2ShapeType.e_circleShape:this.CreateParticlesFillShapeForGroup(C$Tzt,C$Tze,C$Tzi);}},C$TzX.prototype.CreateParticlesWithShapesForGroup=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){C$Tzt=new C$TzX.CompositeShape(C$Tzt,C$Tze);this.CreateParticlesFillShapeForGroup(C$Tzt,C$Tzi,C$Tzn);},C$TzX.prototype.CloneParticle=function(C$Tzt,C$Tze){var C$Tzi=new C$TzRs();if(!this.m_flagsBuffer.data)throw new Error();if(!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();C$Tzi.flags=this.m_flagsBuffer.data[C$Tzt],C$Tzi.position.Copy(this.m_positionBuffer.data[C$Tzt]),C$Tzi.velocity.Copy(this.m_velocityBuffer.data[C$Tzt]),this.m_colorBuffer.data&&C$Tzi.color.Copy(this.m_colorBuffer.data[C$Tzt]),this.m_userDataBuffer.data&&(C$Tzi.userData=this.m_userDataBuffer.data[C$Tzt]),C$Tzi.group=C$Tze;C$Tze=this.CreateParticle(C$Tzi);return this.m_handleIndexBuffer.data&&((C$Tzi=this.m_handleIndexBuffer.data[C$Tzt])&&C$Tzi.SetIndex(C$Tze),this.m_handleIndexBuffer.data[C$Tze]=C$Tzi,this.m_handleIndexBuffer.data[C$Tzt]=null),this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[C$Tze]=this.m_lastBodyContactStepBuffer.data[C$Tzt]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[C$Tze]=this.m_bodyContactCountBuffer.data[C$Tzt]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[C$Tze]=this.m_consecutiveContactStepsBuffer.data[C$Tzt]),this.m_hasForce&&this.m_forceBuffer[C$Tze].Copy(this.m_forceBuffer[C$Tzt]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[C$Tze]=this.m_staticPressureBuffer[C$Tzt]),this.m_depthBuffer&&(this.m_depthBuffer[C$Tze]=this.m_depthBuffer[C$Tzt]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[C$Tze]=this.m_expirationTimeBuffer.data[C$Tzt]),C$Tze;},C$TzX.prototype.DestroyParticlesInGroup=function(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=!1);for(var C$Tzi=C$Tzt.m_firstIndex;C$Tzi<C$Tzt.m_lastIndex;C$Tzi++)this.DestroyParticle(C$Tzi,C$Tze);},C$TzX.prototype.DestroyParticleGroup=function(C$Tzt){this.m_world.m_destructionListener&&this.m_world.m_destructionListener.SayGoodbyeParticleGroup(C$Tzt),this.SetGroupFlags(C$Tzt,0);for(var C$Tze=C$Tzt.m_firstIndex;C$Tze<C$Tzt.m_lastIndex;C$Tze++)this.m_groupBuffer[C$Tze]=null;C$Tzt.m_prev&&(C$Tzt.m_prev.m_next=C$Tzt.m_next),C$Tzt.m_next&&(C$Tzt.m_next.m_prev=C$Tzt.m_prev),C$Tzt===this.m_groupList&&(this.m_groupList=C$Tzt.m_next),--this.m_groupCount;},C$TzX.ParticleCanBeConnected=function(C$Tzt,C$Tze){return 0!=(C$Tzt&(C$TzH.b2ParticleFlag.b2_wallParticle|C$TzH.b2ParticleFlag.b2_springParticle|C$TzH.b2ParticleFlag.b2_elasticParticle))||null!==C$Tze&&0!=(C$Tze.GetGroupFlags()&C$TzH.b2ParticleGroupFlag.b2_rigidParticleGroup);},C$TzX.prototype.UpdatePairsAndTriads=function(C$Tzt,C$Tze,C$Tzm){var C$Tzv=C$TzX.UpdatePairsAndTriads_s_dab,C$Tzx=C$TzX.UpdatePairsAndTriads_s_dbc,C$Tzb=C$TzX.UpdatePairsAndTriads_s_dca;if(!this.m_flagsBuffer.data)throw new Error();if(!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tzy=this.m_positionBuffer.data,C$Tzi=0,C$Tzn=C$Tzt;C$Tzn<C$Tze;C$Tzn++)C$Tzi|=this.m_flagsBuffer.data[C$Tzn];if(C$Tzi&C$TzX.k_pairFlags)for(var C$Tza=0;C$Tza<this.m_contactBuffer.count;C$Tza++){var C$Tzc=this.m_contactBuffer.data[C$Tza],C$Tzr=C$Tzc.indexA,C$Tzs=C$Tzc.indexB,C$Tzo=this.m_flagsBuffer.data[C$Tzr],C$Tzl=this.m_flagsBuffer.data[C$Tzs],C$Tzh=this.m_groupBuffer[C$Tzr],C$Tzu=this.m_groupBuffer[C$Tzs];C$Tzt<=C$Tzr&&C$Tzr<C$Tze&&C$Tzt<=C$Tzs&&C$Tzs<C$Tze&&!((C$Tzo|C$Tzl)&C$TzH.b2ParticleFlag.b2_zombieParticle)&&(C$Tzo|C$Tzl)&C$TzX.k_pairFlags&&(C$Tzm.IsNecessary(C$Tzr)||C$Tzm.IsNecessary(C$Tzs))&&C$TzX.ParticleCanBeConnected(C$Tzo,C$Tzh)&&C$TzX.ParticleCanBeConnected(C$Tzl,C$Tzu)&&C$Tzm.ShouldCreatePair(C$Tzr,C$Tzs)&&((C$Tzo=this.m_pairBuffer.data[this.m_pairBuffer.Append()]).indexA=C$Tzr,C$Tzo.indexB=C$Tzs,C$Tzo.flags=C$Tzc.flags,C$Tzo.strength=C$TzL(C$Tzh?C$Tzh.m_strength:1,C$Tzu?C$Tzu.m_strength:1),C$Tzo.distance=C$Tzj.DistanceVV(C$Tzy[C$Tzr],C$Tzy[C$Tzs])),C$TzYs(this.m_pairBuffer.data,0,this.m_pairBuffer.count,C$TzX.ComparePairIndices),this.m_pairBuffer.Unique(C$TzX.MatchPairIndices);}if(C$Tzi&C$TzX.k_triadFlags){for(var C$Tz_=new C$TzGs(C$Tze-C$Tzt),C$Tzn=C$Tzt;C$Tzn<C$Tze;C$Tzn++){var C$Tzd=this.m_flagsBuffer.data[C$Tzn],C$Tzf=this.m_groupBuffer[C$Tzn];C$Tzd&C$TzH.b2ParticleFlag.b2_zombieParticle||!C$TzX.ParticleCanBeConnected(C$Tzd,C$Tzf)||C$Tz_.AddGenerator(C$Tzy[C$Tzn],C$Tzn,C$Tzm.IsNecessary(C$Tzn));}var C$Tzp=this.GetParticleStride(),C$Tzg=(C$Tz_.Generate(C$Tzp/2,2*C$Tzp),this);C$Tz_.GetNodes(function(C$Tzt,C$Tze,C$Tzi){if(!C$Tzg.m_flagsBuffer.data)throw new Error();var C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzh,C$Tzc,C$Tzu,C$Tz_,C$Tzl,C$Tzd=C$Tzg.m_flagsBuffer.data[C$Tzt],C$Tzf=C$Tzg.m_flagsBuffer.data[C$Tze],C$Tzp=C$Tzg.m_flagsBuffer.data[C$Tzi];(C$Tzd|C$Tzf|C$Tzp)&C$TzX.k_triadFlags&&C$Tzm.ShouldCreateTriad(C$Tzt,C$Tze,C$Tzi)&&(C$Tzn=C$Tzy[C$Tzt],C$Tzr=C$Tzy[C$Tze],C$Tzs=C$Tzy[C$Tzi],C$Tzo=C$Tzj.SubVV(C$Tzn,C$Tzr,C$Tzv),C$Tza=C$Tzj.SubVV(C$Tzr,C$Tzs,C$Tzx),C$Tzh=C$Tzj.SubVV(C$Tzs,C$Tzn,C$Tzb),C$Tzc=4*C$Tzg.m_squaredDiameter,C$Tzj.DotVV(C$Tzo,C$Tzo)>C$Tzc||C$Tzj.DotVV(C$Tza,C$Tza)>C$Tzc||C$Tzj.DotVV(C$Tzh,C$Tzh)>C$Tzc||(C$Tzc=C$Tzg.m_groupBuffer[C$Tzt],C$Tzu=C$Tzg.m_groupBuffer[C$Tze],C$Tz_=C$Tzg.m_groupBuffer[C$Tzi],(C$Tzl=C$Tzg.m_triadBuffer.data[C$Tzg.m_triadBuffer.Append()]).indexA=C$Tzt,C$Tzl.indexB=C$Tze,C$Tzl.indexC=C$Tzi,C$Tzl.flags=C$Tzd|C$Tzf|C$Tzp,C$Tzl.strength=C$TzL(C$TzL(C$Tzc?C$Tzc.m_strength:1,C$Tzu?C$Tzu.m_strength:1),C$Tz_?C$Tz_.m_strength:1),C$Tzt=(C$Tzn.x+C$Tzr.x+C$Tzs.x)/3,C$Tze=(C$Tzn.y+C$Tzr.y+C$Tzs.y)/3,C$Tzl.pa.x=C$Tzn.x-C$Tzt,C$Tzl.pa.y=C$Tzn.y-C$Tze,C$Tzl.pb.x=C$Tzr.x-C$Tzt,C$Tzl.pb.y=C$Tzr.y-C$Tze,C$Tzl.pc.x=C$Tzs.x-C$Tzt,C$Tzl.pc.y=C$Tzs.y-C$Tze,C$Tzl.ka=-C$Tzj.DotVV(C$Tzh,C$Tzo),C$Tzl.kb=-C$Tzj.DotVV(C$Tzo,C$Tza),C$Tzl.kc=-C$Tzj.DotVV(C$Tza,C$Tzh),C$Tzl.s=C$Tzj.CrossVV(C$Tzn,C$Tzr)+C$Tzj.CrossVV(C$Tzr,C$Tzs)+C$Tzj.CrossVV(C$Tzs,C$Tzn)));}),C$TzYs(this.m_triadBuffer.data,0,this.m_triadBuffer.count,C$TzX.CompareTriadIndices),this.m_triadBuffer.Unique(C$TzX.MatchTriadIndices);}},C$TzX.prototype.UpdatePairsAndTriadsWithReactiveParticles=function(){var C$Tzt=new C$TzX.ReactiveFilter(this.m_flagsBuffer);if(this.UpdatePairsAndTriads(0,this.m_count,C$Tzt),!this.m_flagsBuffer.data)throw new Error();for(var C$Tze=0;C$Tze<this.m_count;C$Tze++)this.m_flagsBuffer.data[C$Tze]&=~C$TzH.b2ParticleFlag.b2_reactiveParticle;this.m_allParticleFlags&=~C$TzH.b2ParticleFlag.b2_reactiveParticle;},C$TzX.ComparePairIndices=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.indexA-C$Tze.indexA;return 0!=C$Tzi?C$Tzi<0:C$Tzt.indexB<C$Tze.indexB;},C$TzX.MatchPairIndices=function(C$Tzt,C$Tze){return C$Tzt.indexA===C$Tze.indexA&&C$Tzt.indexB===C$Tze.indexB;},C$TzX.CompareTriadIndices=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.indexA-C$Tze.indexA;if(0!=C$Tzi)return C$Tzi<0;C$Tzi=C$Tzt.indexB-C$Tze.indexB;return 0!=C$Tzi?C$Tzi<0:C$Tzt.indexC<C$Tze.indexC;},C$TzX.MatchTriadIndices=function(C$Tzt,C$Tze){return C$Tzt.indexA===C$Tze.indexA&&C$Tzt.indexB===C$Tze.indexB&&C$Tzt.indexC===C$Tze.indexC;},C$TzX.InitializeParticleLists=function(C$Tzt,C$Tze){for(var C$Tzi=C$Tzt.GetBufferIndex(),C$Tzn=C$Tzt.GetParticleCount(),C$Tzr=0;C$Tzr<C$Tzn;C$Tzr++){var C$Tzs=C$Tze[C$Tzr];(C$Tzs.list=C$Tzs).next=null,C$Tzs.count=1,C$Tzs.index=C$Tzr+C$Tzi;}},C$TzX.prototype.MergeParticleListsInContact=function(C$Tzt,C$Tze){for(var C$Tzi=C$Tzt.GetBufferIndex(),C$Tzn=0;C$Tzn<this.m_contactBuffer.count;C$Tzn++){var C$Tzr,C$Tzs=this.m_contactBuffer.data[C$Tzn],C$Tzo=C$Tzs.indexA,C$Tzs=C$Tzs.indexB;C$Tzt.ContainsParticle(C$Tzo)&&C$Tzt.ContainsParticle(C$Tzs)&&(C$Tzo=C$Tze[C$Tzo-C$Tzi].list)!==(C$Tzs=C$Tze[C$Tzs-C$Tzi].list)&&(C$Tzo.count<C$Tzs.count&&(C$Tzr=C$Tzo,C$Tzo=C$Tzs,C$Tzs=C$Tzr),C$TzX.MergeParticleLists(C$Tzo,C$Tzs));}},C$TzX.MergeParticleLists=function(C$Tzt,C$Tze){for(var C$Tzi=C$Tze;;){C$Tzi.list=C$Tzt;var C$Tzn=C$Tzi.next;if(!C$Tzn){C$Tzi.next=C$Tzt.next;break;}C$Tzi=C$Tzn;}C$Tzt.next=C$Tze,C$Tzt.count+=C$Tze.count,C$Tze.count=0;},C$TzX.FindLongestParticleList=function(C$Tzt,C$Tze){for(var C$Tzi=C$Tzt.GetParticleCount(),C$Tzn=C$Tze[0],C$Tzr=0;C$Tzr<C$Tzi;C$Tzr++){var C$Tzs=C$Tze[C$Tzr];C$Tzn.count<C$Tzs.count&&(C$Tzn=C$Tzs);}return C$Tzn;},C$TzX.prototype.MergeZombieParticleListNodes=function(C$Tzt,C$Tze,C$Tzi){if(!this.m_flagsBuffer.data)throw new Error();for(var C$Tzn=C$Tzt.GetParticleCount(),C$Tzr=0;C$Tzr<C$Tzn;C$Tzr++){var C$Tzs=C$Tze[C$Tzr];C$Tzs!==C$Tzi&&this.m_flagsBuffer.data[C$Tzs.index]&C$TzH.b2ParticleFlag.b2_zombieParticle&&C$TzX.MergeParticleListAndNode(C$Tzi,C$Tzs);}},C$TzX.MergeParticleListAndNode=function(C$Tzt,C$Tze){C$Tze.list=C$Tzt,C$Tze.next=C$Tzt.next,C$Tzt.next=C$Tze,C$Tzt.count++,C$Tze.count=0;},C$TzX.prototype.CreateParticleGroupsFromParticleList=function(C$Tzt,C$Tze,C$Tzi){if(!this.m_flagsBuffer.data)throw new Error();var C$Tzn=C$Tzt.GetParticleCount(),C$Tzr=new C$TzVs();C$Tzr.groupFlags=C$Tzt.GetGroupFlags(),C$Tzr.userData=C$Tzt.GetUserData();for(var C$Tzs=0;C$Tzs<C$Tzn;C$Tzs++){var C$Tzo=C$Tze[C$Tzs];if(C$Tzo.count&&C$Tzo!==C$Tzi)for(var C$Tza=this.CreateParticleGroup(C$Tzr),C$Tzc=C$Tzo;C$Tzc;C$Tzc=C$Tzc.next){var C$Tzl=C$Tzc.index,C$Tzh=this.CloneParticle(C$Tzl,C$Tza);this.m_flagsBuffer.data[C$Tzl]|=C$TzH.b2ParticleFlag.b2_zombieParticle,C$Tzc.index=C$Tzh;}}},C$TzX.prototype.UpdatePairsAndTriadsWithParticleList=function(C$Tzt,C$Tze){for(var C$Tzi=C$Tzt.GetBufferIndex(),C$Tzn=0;C$Tzn<this.m_pairBuffer.count;C$Tzn++){var C$Tzr=this.m_pairBuffer.data[C$Tzn],C$Tzs=C$Tzr.indexA,C$Tzo=C$Tzr.indexB;C$Tzt.ContainsParticle(C$Tzs)&&(C$Tzr.indexA=C$Tze[C$Tzs-C$Tzi].index),C$Tzt.ContainsParticle(C$Tzo)&&(C$Tzr.indexB=C$Tze[C$Tzo-C$Tzi].index);}for(C$Tzn=0;C$Tzn<this.m_triadBuffer.count;C$Tzn++){var C$Tza=this.m_triadBuffer.data[C$Tzn],C$Tzs=C$Tza.indexA,C$Tzo=C$Tza.indexB,C$Tzc=C$Tza.indexC;C$Tzt.ContainsParticle(C$Tzs)&&(C$Tza.indexA=C$Tze[C$Tzs-C$Tzi].index),C$Tzt.ContainsParticle(C$Tzo)&&(C$Tza.indexB=C$Tze[C$Tzo-C$Tzi].index),C$Tzt.ContainsParticle(C$Tzc)&&(C$Tza.indexC=C$Tze[C$Tzc-C$Tzi].index);}},C$TzX.prototype.ComputeDepth=function(){for(var C$Tzh=[],C$Tzu=0,C$Tzt=0;C$Tzt<this.m_contactBuffer.count;C$Tzt++){var C$Tze=(C$Tza=this.m_contactBuffer.data[C$Tzt]).indexA,C$Tzi=C$Tza.indexB,C$Tz_=this.m_groupBuffer[C$Tze],C$Tzd=this.m_groupBuffer[C$Tzi];C$Tz_&&C$Tz_===C$Tzd&&C$Tz_.m_groupFlags&C$TzH.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&(C$Tzh[C$Tzu++]=C$Tza);}for(var C$Tzf=[],C$Tzp=0,C$Tzn=this.m_groupList;C$Tzn;C$Tzn=C$Tzn.GetNext())if(C$Tzn.m_groupFlags&C$TzH.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth){C$Tzf[C$Tzp++]=C$Tzn,this.SetGroupFlags(C$Tzn,C$Tzn.m_groupFlags&~C$TzH.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth);for(var C$Tzr=C$Tzn.m_firstIndex;C$Tzr<C$Tzn.m_lastIndex;C$Tzr++)this.m_accumulationBuffer[C$Tzr]=0;}for(C$Tzt=0;C$Tzt<C$Tzu;C$Tzt++){var C$Tze=(C$Tza=C$Tzh[C$Tzt]).indexA,C$Tzi=C$Tza.indexB,C$Tzs=C$Tza.weight;this.m_accumulationBuffer[C$Tze]+=C$Tzs,this.m_accumulationBuffer[C$Tzi]+=C$Tzs;}for(C$Tzr=0;C$Tzr<C$Tzp;C$Tzr++)for(var C$Tzo=(C$Tzn=C$Tzf[C$Tzr]).m_firstIndex;C$Tzo<C$Tzn.m_lastIndex;C$Tzo++){C$Tzs=this.m_accumulationBuffer[C$Tzo];this.m_depthBuffer[C$Tzo]=C$Tzs<.8?0:C$TzP;}for(var C$Tzm=C$TzY(this.m_count)>>0,C$Tzy=0;C$Tzy<C$Tzm;C$Tzy++){for(var C$Tzg=!1,C$Tzt=0;C$Tzt<C$Tzu;C$Tzt++){var C$Tza,C$Tze=(C$Tza=C$Tzh[C$Tzt]).indexA,C$Tzi=C$Tza.indexB,C$Tzc=1-C$Tza.weight,C$Tzv=this.m_depthBuffer[C$Tze],C$Tzx=this.m_depthBuffer[C$Tzi],C$Tzb=C$Tzx+C$Tzc,C$Tzc=C$Tzv+C$Tzc;C$Tzb<C$Tzv&&(this.m_depthBuffer[C$Tze]=C$Tzb,C$Tzg=!0),C$Tzc<C$Tzx&&(this.m_depthBuffer[C$Tzi]=C$Tzc,C$Tzg=!0);}if(!C$Tzg)break;}for(C$Tzr=0;C$Tzr<C$Tzp;C$Tzr++)for(var C$Tzl=(C$Tzn=C$Tzf[C$Tzr]).m_firstIndex;C$Tzl<C$Tzn.m_lastIndex;C$Tzl++)this.m_depthBuffer[C$Tzl]<C$TzP?this.m_depthBuffer[C$Tzl]*=this.m_particleDiameter:this.m_depthBuffer[C$Tzl]=0;},C$TzX.prototype.GetInsideBoundsEnumerator=function(C$Tzt){var C$Tze=C$TzX.computeTag(this.m_inverseDiameter*C$Tzt.lowerBound.x-1,this.m_inverseDiameter*C$Tzt.lowerBound.y-1),C$Tzt=C$TzX.computeTag(this.m_inverseDiameter*C$Tzt.upperBound.x+1,this.m_inverseDiameter*C$Tzt.upperBound.y+1),C$Tzi=this.m_proxyBuffer.count,C$Tzn=C$TzJs(this.m_proxyBuffer.data,0,C$Tzi,C$Tze,C$TzX.Proxy.CompareProxyTag),C$Tzi=C$TzZs(this.m_proxyBuffer.data,0,C$Tzi,C$Tzt,C$TzX.Proxy.CompareTagProxy);return new C$TzX.InsideBoundsEnumerator(this,C$Tze,C$Tzt,C$Tzn,C$Tzi);},C$TzX.prototype.UpdateAllParticleFlags=function(){if(!this.m_flagsBuffer.data)throw new Error();for(var C$Tzt=this.m_allParticleFlags=0;C$Tzt<this.m_count;C$Tzt++)this.m_allParticleFlags|=this.m_flagsBuffer.data[C$Tzt];this.m_needsUpdateAllParticleFlags=!1;},C$TzX.prototype.UpdateAllGroupFlags=function(){this.m_allGroupFlags=0;for(var C$Tzt=this.m_groupList;C$Tzt;C$Tzt=C$Tzt.GetNext())this.m_allGroupFlags|=C$Tzt.m_groupFlags;this.m_needsUpdateAllGroupFlags=!1;},C$TzX.prototype.AddContact=function(C$Tzt,C$Tze,C$Tzi){if(!this.m_flagsBuffer.data)throw new Error();if(!this.m_positionBuffer.data)throw new Error();var C$Tzn,C$Tzr,C$Tzs=C$TzX.AddContact_s_d,C$Tzo=this.m_positionBuffer.data,C$Tzo=C$Tzj.SubVV(C$Tzo[C$Tze],C$Tzo[C$Tzt],C$Tzs),C$Tzs=C$Tzj.DotVV(C$Tzo,C$Tzo);C$Tzs<this.m_squaredDiameter&&(C$Tzn=C$TzA(C$Tzs),isFinite(C$Tzn)||(C$Tzn=198177537e11),(C$Tzr=this.m_contactBuffer.data[this.m_contactBuffer.Append()]).indexA=C$Tzt,C$Tzr.indexB=C$Tze,C$Tzr.flags=this.m_flagsBuffer.data[C$Tzt]|this.m_flagsBuffer.data[C$Tze],C$Tzr.weight=1-C$Tzs*C$Tzn*this.m_inverseDiameter,C$Tzj.MulSV(C$Tzn,C$Tzo,C$Tzr.normal));},C$TzX.prototype.FindContacts_Reference=function(C$Tzt){for(var C$Tze=this.m_proxyBuffer.count,C$Tzi=this.m_contactBuffer.count=0,C$Tzn=0;C$Tzi<C$Tze;C$Tzi++){for(var C$Tzr=C$TzX.computeRelativeTag(this.m_proxyBuffer.data[C$Tzi].tag,1,0),C$Tzs=C$Tzi+1;C$Tzs<C$Tze&&!(C$Tzr<this.m_proxyBuffer.data[C$Tzs].tag);C$Tzs++)this.AddContact(this.m_proxyBuffer.data[C$Tzi].index,this.m_proxyBuffer.data[C$Tzs].index,this.m_contactBuffer);for(var C$Tzo=C$TzX.computeRelativeTag(this.m_proxyBuffer.data[C$Tzi].tag,-1,1);C$Tzn<C$Tze&&!(C$Tzo<=this.m_proxyBuffer.data[C$Tzn].tag);C$Tzn++);for(var C$Tza=C$TzX.computeRelativeTag(this.m_proxyBuffer.data[C$Tzi].tag,1,1),C$Tzs=C$Tzn;C$Tzs<C$Tze&&!(C$Tza<this.m_proxyBuffer.data[C$Tzs].tag);C$Tzs++)this.AddContact(this.m_proxyBuffer.data[C$Tzi].index,this.m_proxyBuffer.data[C$Tzs].index,this.m_contactBuffer);}},C$TzX.prototype.FindContacts=function(C$Tzt){this.FindContacts_Reference(C$Tzt);},C$TzX.prototype.UpdateProxies_Reference=function(C$Tzt){if(!this.m_positionBuffer.data)throw new Error();for(var C$Tze=this.m_positionBuffer.data,C$Tzi=this.m_inverseDiameter,C$Tzn=0;C$Tzn<this.m_proxyBuffer.count;++C$Tzn){var C$Tzr=this.m_proxyBuffer.data[C$Tzn],C$Tzs=C$Tze[C$Tzr.index];C$Tzr.tag=C$TzX.computeTag(C$Tzi*C$Tzs.x,C$Tzi*C$Tzs.y);}},C$TzX.prototype.UpdateProxies=function(C$Tzt){this.UpdateProxies_Reference(C$Tzt);},C$TzX.prototype.SortProxies=function(C$Tzt){C$TzXs(this.m_proxyBuffer.data,0,this.m_proxyBuffer.count,C$TzX.Proxy.CompareProxyProxy);},C$TzX.prototype.FilterContacts=function(C$Tzt){var C$Tze,C$Tzi=this.GetParticleContactFilter();null!==C$Tzi&&(C$Tze=this).m_contactBuffer.RemoveIf(function(C$Tzt){return 0!=(C$Tzt.flags&C$TzH.b2ParticleFlag.b2_particleContactFilterParticle)&&!C$Tzi.ShouldCollideParticleParticle(C$Tze,C$Tzt.indexA,C$Tzt.indexB);});},C$TzX.prototype.NotifyContactListenerPreContact=function(C$Tzt){if(null!==this.GetParticleContactListener())throw C$Tzt.Initialize(this.m_contactBuffer,this.m_flagsBuffer),new Error();},C$TzX.prototype.NotifyContactListenerPostContact=function(C$Tzt){var C$Tze=this.GetParticleContactListener();if(null!==C$Tze){for(var C$Tzi=0;C$Tzi<this.m_contactBuffer.count;++C$Tzi){var C$Tzn=this.m_contactBuffer.data[C$Tzi];C$Tze.BeginContactParticleParticle(this,C$Tzn);}throw new Error();}},C$TzX.b2ParticleContactIsZombie=function(C$Tzt){return(C$Tzt.flags&C$TzH.b2ParticleFlag.b2_zombieParticle)===C$TzH.b2ParticleFlag.b2_zombieParticle;},C$TzX.prototype.UpdateContacts=function(C$Tzt){this.UpdateProxies(this.m_proxyBuffer),this.SortProxies(this.m_proxyBuffer);var C$Tze=new C$TzX.b2ParticlePairSet();this.NotifyContactListenerPreContact(C$Tze),this.FindContacts(this.m_contactBuffer),this.FilterContacts(this.m_contactBuffer),this.NotifyContactListenerPostContact(C$Tze),C$Tzt&&this.m_contactBuffer.RemoveIf(C$TzX.b2ParticleContactIsZombie);},C$TzX.prototype.NotifyBodyContactListenerPreContact=function(C$Tzt){if(null!==this.GetFixtureContactListener())throw C$Tzt.Initialize(this.m_bodyContactBuffer,this.m_flagsBuffer),new Error();},C$TzX.prototype.NotifyBodyContactListenerPostContact=function(C$Tzt){var C$Tze=this.GetFixtureContactListener();if(null!==C$Tze){for(var C$Tzi=0;C$Tzi<this.m_bodyContactBuffer.count;C$Tzi++){var C$Tzn=this.m_bodyContactBuffer.data[C$Tzi];C$Tze.BeginContactFixtureParticle(this,C$Tzn);}throw new Error();}},C$TzX.prototype.UpdateBodyContacts=function(){var C$Tzt=C$TzX.UpdateBodyContacts_s_aabb,C$Tze=new C$TzX.FixtureParticleSet();if(this.NotifyBodyContactListenerPreContact(C$Tze),0<this.m_stuckThreshold){if(!this.m_bodyContactCountBuffer.data)throw new Error();if(!this.m_lastBodyContactStepBuffer.data)throw new Error();if(!this.m_consecutiveContactStepsBuffer.data)throw new Error();for(var C$Tzi=this.GetParticleCount(),C$Tzn=0;C$Tzn<C$Tzi;C$Tzn++)this.m_bodyContactCountBuffer.data[C$Tzn]=0,this.m_timestamp>this.m_lastBodyContactStepBuffer.data[C$Tzn]+1&&(this.m_consecutiveContactStepsBuffer.data[C$Tzn]=0);}this.m_bodyContactBuffer.SetCount(0),this.m_stuckParticleBuffer.SetCount(0);this.ComputeAABB(C$Tzt);var C$Tzr=new C$TzX.UpdateBodyContactsCallback(this,this.GetFixtureContactFilter());this.m_world.QueryAABB(C$Tzr,C$Tzt),this.m_def.strictContactCheck&&this.RemoveSpuriousBodyContacts(),this.NotifyBodyContactListenerPostContact(C$Tze);},C$TzX.prototype.Solve=function(C$Tzt){var C$Tze=C$TzX.Solve_s_subStep;if(0!==this.m_count&&(this.m_expirationTimeBuffer.data&&this.SolveLifetimes(C$Tzt),this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_zombieParticle&&this.SolveZombie(),this.m_needsUpdateAllParticleFlags&&this.UpdateAllParticleFlags(),this.m_needsUpdateAllGroupFlags&&this.UpdateAllGroupFlags(),!this.m_paused))for(this.m_iterationIndex=0;this.m_iterationIndex<C$Tzt.particleIterations;this.m_iterationIndex++){++this.m_timestamp;var C$Tzi=C$Tze.Copy(C$Tzt);if(C$Tzi.dt/=C$Tzt.particleIterations,C$Tzi.inv_dt*=C$Tzt.particleIterations,this.UpdateContacts(!1),this.UpdateBodyContacts(),this.ComputeWeight(),this.m_allGroupFlags&C$TzH.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&this.ComputeDepth(),this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_reactiveParticle&&this.UpdatePairsAndTriadsWithReactiveParticles(),this.m_hasForce&&this.SolveForce(C$Tzi),this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_viscousParticle&&this.SolveViscous(),this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_repulsiveParticle&&this.SolveRepulsive(C$Tzi),this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_powderParticle&&this.SolvePowder(C$Tzi),this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_tensileParticle&&this.SolveTensile(C$Tzi),this.m_allGroupFlags&C$TzH.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SolveSolid(C$Tzi),this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_colorMixingParticle&&this.SolveColorMixing(),this.SolveGravity(C$Tzi),this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_staticPressureParticle&&this.SolveStaticPressure(C$Tzi),this.SolvePressure(C$Tzi),this.SolveDamping(C$Tzi),this.m_allParticleFlags&C$TzX.k_extraDampingFlags&&this.SolveExtraDamping(),this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_elasticParticle&&this.SolveElastic(C$Tzi),this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_springParticle&&this.SolveSpring(C$Tzi),this.LimitVelocity(C$Tzi),this.m_allGroupFlags&C$TzH.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigidDamping(),this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_barrierParticle&&this.SolveBarrier(C$Tzi),this.SolveCollision(C$Tzi),this.m_allGroupFlags&C$TzH.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigid(C$Tzi),this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_wallParticle&&this.SolveWall(),!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tzn=0;C$Tzn<this.m_count;C$Tzn++)this.m_positionBuffer.data[C$Tzn].SelfMulAdd(C$Tzi.dt,this.m_velocityBuffer.data[C$Tzn]);}},C$TzX.prototype.SolveCollision=function(C$Tzt){var C$Tze=C$TzX.SolveCollision_s_aabb;if(!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();var C$Tzi=this.m_positionBuffer.data,C$Tzn=this.m_velocityBuffer.data,C$Tzr=C$Tze;C$Tzr.lowerBound.x=+C$TzP,C$Tzr.lowerBound.y=+C$TzP,C$Tzr.upperBound.x=-C$TzP,C$Tzr.upperBound.y=-C$TzP;for(var C$Tzs=0;C$Tzs<this.m_count;C$Tzs++){var C$Tzo=C$Tzn[C$Tzs],C$Tza=C$Tzi[C$Tzs],C$Tzc=C$Tza.x+C$Tzt.dt*C$Tzo.x,C$Tzo=C$Tza.y+C$Tzt.dt*C$Tzo.y;C$Tzr.lowerBound.x=C$TzL(C$Tzr.lowerBound.x,C$TzL(C$Tza.x,C$Tzc)),C$Tzr.lowerBound.y=C$TzL(C$Tzr.lowerBound.y,C$TzL(C$Tza.y,C$Tzo)),C$Tzr.upperBound.x=C$TzV(C$Tzr.upperBound.x,C$TzV(C$Tza.x,C$Tzc)),C$Tzr.upperBound.y=C$TzV(C$Tzr.upperBound.y,C$TzV(C$Tza.y,C$Tzo));}C$Tze=new C$TzX.SolveCollisionCallback(this,C$Tzt);this.m_world.QueryAABB(C$Tze,C$Tzr);},C$TzX.prototype.LimitVelocity=function(C$Tzt){if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tze=this.m_velocityBuffer.data,C$Tzi=this.GetCriticalVelocitySquared(C$Tzt),C$Tzn=0;C$Tzn<this.m_count;C$Tzn++){var C$Tzr=C$Tze[C$Tzn],C$Tzs=C$Tzj.DotVV(C$Tzr,C$Tzr);C$Tzi<C$Tzs&&C$Tzr.SelfMul(C$TzY(C$Tzi/C$Tzs));}},C$TzX.prototype.SolveGravity=function(C$Tzt){if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tze=C$TzX.SolveGravity_s_gravity,C$Tzi=this.m_velocityBuffer.data,C$Tzn=C$Tzj.MulSV(C$Tzt.dt*this.m_def.gravityScale,this.m_world.GetGravity(),C$Tze),C$Tzr=0;C$Tzr<this.m_count;C$Tzr++)C$Tzi[C$Tzr].SelfAdd(C$Tzn);},C$TzX.prototype.SolveBarrier=function(C$Tzh){var C$Tzu=C$TzX.SolveBarrier_s_aabb,C$Tz_=C$TzX.SolveBarrier_s_va,C$Tzd=C$TzX.SolveBarrier_s_vb,C$Tzf=C$TzX.SolveBarrier_s_pba,C$Tzp=C$TzX.SolveBarrier_s_vba,C$Tzm=C$TzX.SolveBarrier_s_vc,C$Tzy=C$TzX.SolveBarrier_s_pca,C$Tzg=C$TzX.SolveBarrier_s_vca,C$Tzv=C$TzX.SolveBarrier_s_qba,C$Tzx=C$TzX.SolveBarrier_s_qca,C$Tzb=C$TzX.SolveBarrier_s_dv,C$TzA=C$TzX.SolveBarrier_s_f;if(!this.m_flagsBuffer.data)throw new Error();if(!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();for(var C$TzC=this.m_positionBuffer.data,C$TzS=this.m_velocityBuffer.data,C$TzT=0;C$TzT<this.m_count;C$TzT++)0!=(this.m_flagsBuffer.data[C$TzT]&C$TzX.k_barrierWallFlags)&&C$TzS[C$TzT].SetZero();for(var C$Tzw=2.5*C$Tzh.dt,C$TzE=this.GetParticleMass(),C$TzM=0;C$TzM<this.m_pairBuffer.count;C$TzM++){var C$Tzt=this.m_pairBuffer.data[C$TzM];if(C$Tzt.flags&C$TzH.b2ParticleFlag.b2_barrierParticle)for(var C$TzI,C$TzB=C$Tzt.indexA,C$Tzt=C$Tzt.indexB,C$TzR=C$TzC[C$TzB],C$TzP=C$TzC[C$Tzt],C$TzD=C$Tzu,C$TzL=(C$Tzj.MinV(C$TzR,C$TzP,C$TzD.lowerBound),C$Tzj.MaxV(C$TzR,C$TzP,C$TzD.upperBound),this.m_groupBuffer[C$TzB]),C$TzV=this.m_groupBuffer[C$Tzt],C$TzO=this.GetLinearVelocity(C$TzL,C$TzB,C$TzR,C$Tz_),C$TzB=this.GetLinearVelocity(C$TzV,C$Tzt,C$TzP,C$Tzd),C$TzF=C$Tzj.SubVV(C$TzP,C$TzR,C$Tzf),C$Tze=C$Tzj.SubVV(C$TzB,C$TzO,C$Tzp),C$TzN=this.GetInsideBoundsEnumerator(C$TzD);0<=(C$TzI=C$TzN.GetNext());){var C$Tzk=C$TzC[C$TzI],C$Tzi=this.m_groupBuffer[C$TzI];if(C$TzL!==C$Tzi&&C$TzV!==C$Tzi){var C$TzG=this.GetLinearVelocity(C$Tzi,C$TzI,C$Tzk,C$Tzm),C$Tzz=C$Tzj.SubVV(C$Tzk,C$TzR,C$Tzy),C$TzU=C$Tzj.SubVV(C$TzG,C$TzO,C$Tzg),C$Tzn=C$Tzj.CrossVV(C$Tze,C$TzU),C$Tzr=C$Tzj.CrossVV(C$TzF,C$TzU)-C$Tzj.CrossVV(C$Tzz,C$Tze),C$Tzs=C$Tzj.CrossVV(C$TzF,C$Tzz),C$Tzo=void 0,C$Tza=void 0,C$Tzc=C$Tzv,C$TzW=C$Tzx;if(0===C$Tzn){if(0==C$Tzr)continue;if(!(0<=(C$Tza=-C$Tzs/C$Tzr)&&C$Tza<C$Tzw))continue;if(C$Tzj.AddVMulSV(C$TzF,C$Tza,C$Tze,C$Tzc),C$Tzj.AddVMulSV(C$Tzz,C$Tza,C$TzU,C$TzW),!(0<=(C$Tzo=C$Tzj.DotVV(C$Tzc,C$TzW)/C$Tzj.DotVV(C$Tzc,C$Tzc))&&C$Tzo<=1))continue;}else{C$Tzs=C$Tzr*C$Tzr-4*C$Tzs*C$Tzn;if(C$Tzs<0)continue;var C$Tzs=C$TzY(C$Tzs),C$Tzl=(-C$Tzr-C$Tzs)/(2*C$Tzn),C$Tzr=(-C$Tzr+C$Tzs)/(2*C$Tzn);if(C$Tzr<C$Tzl&&(C$Tzs=C$Tzl,C$Tzl=C$Tzr,C$Tzr=C$Tzs),C$Tza=C$Tzl,C$Tzj.AddVMulSV(C$TzF,C$Tza,C$Tze,C$Tzc),C$Tzj.AddVMulSV(C$Tzz,C$Tza,C$TzU,C$TzW),C$Tzo=C$Tzj.DotVV(C$Tzc,C$TzW)/C$Tzj.DotVV(C$Tzc,C$Tzc),!(0<=C$Tza&&C$Tza<C$Tzw&&0<=C$Tzo&&C$Tzo<=1)){if(!(0<=(C$Tza=C$Tzr)&&C$Tza<C$Tzw))continue;if(C$Tzj.AddVMulSV(C$TzF,C$Tza,C$Tze,C$Tzc),C$Tzj.AddVMulSV(C$Tzz,C$Tza,C$TzU,C$TzW),!(0<=(C$Tzo=C$Tzj.DotVV(C$Tzc,C$TzW)/C$Tzj.DotVV(C$Tzc,C$Tzc))&&C$Tzo<=1))continue;}}C$Tzn=C$Tzb,C$Tzs=(C$Tzn.x=C$TzO.x+C$Tzo*C$Tze.x-C$TzG.x,C$Tzn.y=C$TzO.y+C$Tzo*C$Tze.y-C$TzG.y,C$Tzj.MulSV(C$TzE,C$Tzn,C$TzA));C$Tzi&&this.IsRigidGroup(C$Tzi)?(C$Tzl=C$Tzi.GetMass(),C$Tzr=C$Tzi.GetInertia(),0<C$Tzl&&C$Tzi.m_linearVelocity.SelfMulAdd(1/C$Tzl,C$Tzs),0<C$Tzr&&(C$Tzi.m_angularVelocity+=C$Tzj.CrossVV(C$Tzj.SubVV(C$Tzk,C$Tzi.GetCenter(),C$Tzj.s_t0),C$Tzs)/C$Tzr)):C$TzS[C$TzI].SelfAdd(C$Tzn),this.ParticleApplyForce(C$TzI,C$Tzs.SelfMul(-C$Tzh.inv_dt));}}}},C$TzX.prototype.SolveStaticPressure=function(C$Tzt){if(!this.m_flagsBuffer.data)throw new Error();this.m_staticPressureBuffer=this.RequestBuffer(this.m_staticPressureBuffer);for(var C$Tzt=this.GetCriticalPressure(C$Tzt),C$Tze=this.m_def.staticPressureStrength*C$Tzt,C$Tzh=.25*C$Tzt,C$Tzu=this.m_def.staticPressureRelaxation,C$Tzi=0;C$Tzi<this.m_def.staticPressureIterations;C$Tzi++){for(var C$Tzn=0;C$Tzn<this.m_count;C$Tzn++)this.m_accumulationBuffer[C$Tzn]=0;for(var C$Tzr=0;C$Tzr<this.m_contactBuffer.count;C$Tzr++){var C$Tzs,C$Tzo,C$Tza=this.m_contactBuffer.data[C$Tzr];C$Tza.flags&C$TzH.b2ParticleFlag.b2_staticPressureParticle&&(C$Tzs=C$Tza.indexA,C$Tzo=C$Tza.indexB,C$Tzl=C$Tza.weight,this.m_accumulationBuffer[C$Tzs]+=C$Tzl*this.m_staticPressureBuffer[C$Tzo],this.m_accumulationBuffer[C$Tzo]+=C$Tzl*this.m_staticPressureBuffer[C$Tzs]);}for(C$Tzn=0;C$Tzn<this.m_count;C$Tzn++){var C$Tzc,C$Tzl=this.m_weightBuffer[C$Tzn];this.m_flagsBuffer.data[C$Tzn]&C$TzH.b2ParticleFlag.b2_staticPressureParticle?(C$Tzc=this.m_accumulationBuffer[C$Tzn],this.m_staticPressureBuffer[C$Tzn]=C$TzO((C$Tzc+C$Tze*(C$Tzl-1))/(C$Tzl+C$Tzu),0,C$Tzh)):this.m_staticPressureBuffer[C$Tzn]=0;}}},C$TzX.prototype.ComputeWeight=function(){for(var C$Tzt=0;C$Tzt<this.m_count;C$Tzt++)this.m_weightBuffer[C$Tzt]=0;for(C$Tzt=0;C$Tzt<this.m_bodyContactBuffer.count;C$Tzt++){var C$Tze=(C$Tzn=this.m_bodyContactBuffer.data[C$Tzt]).index,C$Tzi=C$Tzn.weight;this.m_weightBuffer[C$Tze]+=C$Tzi;}for(C$Tzt=0;C$Tzt<this.m_contactBuffer.count;C$Tzt++){var C$Tzn,C$Tze=(C$Tzn=this.m_contactBuffer.data[C$Tzt]).indexA,C$Tzr=C$Tzn.indexB,C$Tzi=C$Tzn.weight;this.m_weightBuffer[C$Tze]+=C$Tzi,this.m_weightBuffer[C$Tzr]+=C$Tzi;}},C$TzX.prototype.SolvePressure=function(C$Tzt){var C$Tzh=C$TzX.SolvePressure_s_f;if(!this.m_flagsBuffer.data)throw new Error();if(!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tzu=this.m_positionBuffer.data,C$Tze=this.m_velocityBuffer.data,C$Tz_=this.GetCriticalPressure(C$Tzt),C$Tzd=this.m_def.pressureStrength*C$Tz_,C$Tzf=.25*C$Tz_,C$Tzi=0;C$Tzi<this.m_count;C$Tzi++){var C$Tzn=this.m_weightBuffer[C$Tzi],C$Tzr=C$Tzd*C$TzV(0,C$Tzn-1);this.m_accumulationBuffer[C$Tzi]=C$TzL(C$Tzr,C$Tzf);}if(this.m_allParticleFlags&C$TzX.k_noPressureFlags)for(C$Tzi=0;C$Tzi<this.m_count;C$Tzi++)this.m_flagsBuffer.data[C$Tzi]&C$TzX.k_noPressureFlags&&(this.m_accumulationBuffer[C$Tzi]=0);if(this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_staticPressureParticle)for(C$Tzi=0;C$Tzi<this.m_count;C$Tzi++)this.m_flagsBuffer.data[C$Tzi]&C$TzH.b2ParticleFlag.b2_staticPressureParticle&&(this.m_accumulationBuffer[C$Tzi]+=this.m_staticPressureBuffer[C$Tzi]);for(var C$Tzp=C$Tzt.dt/(this.m_def.density*this.m_particleDiameter),C$Tzm=this.GetParticleInvMass(),C$Tzs=0;C$Tzs<this.m_bodyContactBuffer.count;C$Tzs++){var C$Tzo=(C$Tzl=this.m_bodyContactBuffer.data[C$Tzs]).index,C$Tza=C$Tzl.body,C$Tzn=C$Tzl.weight,C$Tzy=C$Tzl.mass,C$Tzg=C$Tzl.normal,C$Tzv=C$Tzu[C$Tzo],C$Tzr=this.m_accumulationBuffer[C$Tzo]+C$Tzd*C$Tzn,C$Tzc=C$Tzj.MulSV(C$Tzp*C$Tzn*C$Tzy*C$Tzr,C$Tzg,C$Tzh);C$Tze[C$Tzo].SelfMulSub(C$Tzm,C$Tzc),C$Tza.ApplyLinearImpulse(C$Tzc,C$Tzv,!0);}for(C$Tzs=0;C$Tzs<this.m_contactBuffer.count;C$Tzs++){var C$Tzl,C$Tzo=(C$Tzl=this.m_contactBuffer.data[C$Tzs]).indexA,C$Tza=C$Tzl.indexB,C$Tzn=C$Tzl.weight,C$Tzg=C$Tzl.normal,C$Tzr=this.m_accumulationBuffer[C$Tzo]+this.m_accumulationBuffer[C$Tza],C$Tzc=C$Tzj.MulSV(C$Tzp*C$Tzn*C$Tzr,C$Tzg,C$Tzh);C$Tze[C$Tzo].SelfSub(C$Tzc),C$Tze[C$Tza].SelfAdd(C$Tzc);}},C$TzX.prototype.SolveDamping=function(C$Tzh){var C$Tzt=C$TzX.SolveDamping_s_v,C$Tzu=C$TzX.SolveDamping_s_f;if(!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tz_=this.m_positionBuffer.data,C$Tze=this.m_velocityBuffer.data,C$Tzd=this.m_def.dampingStrength,C$Tzf=1/this.GetCriticalVelocity(C$Tzh),C$Tzp=this.GetParticleInvMass(),C$Tzi=0;C$Tzi<this.m_bodyContactBuffer.count;C$Tzi++){var C$Tzn=(C$Tzo=this.m_bodyContactBuffer.data[C$Tzi]).index,C$Tzr=C$Tzo.body,C$Tzm=C$Tzo.weight,C$Tzy=C$Tzo.mass,C$Tzs=C$Tzo.normal,C$Tzg=C$Tz_[C$Tzn],C$Tzv=C$Tzj.SubVV(C$Tzr.GetLinearVelocityFromWorldPoint(C$Tzg,C$Tzj.s_t0),C$Tze[C$Tzn],C$Tzt);(C$Tza=C$Tzj.DotVV(C$Tzv,C$Tzs))<0&&(C$Tzc=C$TzV(C$Tzd*C$Tzm,C$TzL(-C$Tzf*C$Tza,.5)),C$Tzl=C$Tzj.MulSV(C$Tzc*C$Tzy*C$Tza,C$Tzs,C$Tzu),C$Tze[C$Tzn].SelfMulAdd(C$Tzp,C$Tzl),C$Tzr.ApplyLinearImpulse(C$Tzl.SelfNeg(),C$Tzg,!0));}for(C$Tzi=0;C$Tzi<this.m_contactBuffer.count;C$Tzi++){var C$Tzo,C$Tza,C$Tzc,C$Tzl,C$Tzn=(C$Tzo=this.m_contactBuffer.data[C$Tzi]).indexA,C$Tzr=C$Tzo.indexB,C$Tzm=C$Tzo.weight,C$Tzs=C$Tzo.normal,C$Tzv=C$Tzj.SubVV(C$Tze[C$Tzr],C$Tze[C$Tzn],C$Tzt);(C$Tza=C$Tzj.DotVV(C$Tzv,C$Tzs))<0&&(C$Tzc=C$TzV(C$Tzd*C$Tzm,C$TzL(-C$Tzf*C$Tza,.5)),C$Tzl=C$Tzj.MulSV(C$Tzc*C$Tza,C$Tzs,C$Tzu),C$Tze[C$Tzn].SelfAdd(C$Tzl),C$Tze[C$Tzr].SelfSub(C$Tzl));}},C$TzX.prototype.SolveRigidDamping=function(){var C$Tzh=C$TzX.SolveRigidDamping_s_t0,C$Tzu=C$TzX.SolveRigidDamping_s_t1,C$Tz_=C$TzX.SolveRigidDamping_s_p,C$Tzd=C$TzX.SolveRigidDamping_s_v,C$Tzt=[0],C$Tze=[0],C$Tzi=[0],C$Tzf=[0],C$Tzp=[0],C$Tzm=[0];if(!this.m_positionBuffer.data)throw new Error();for(var C$Tzy=this.m_positionBuffer.data,C$Tzg=this.m_def.dampingStrength,C$Tzn=0;C$Tzn<this.m_bodyContactBuffer.count;C$Tzn++){var C$Tzr=(C$Tzs=this.m_bodyContactBuffer.data[C$Tzn]).index;(C$Tzl=this.m_groupBuffer[C$Tzr])&&this.IsRigidGroup(C$Tzl)&&(C$Tza=C$Tzs.body,C$Tzc=C$Tzs.normal,C$TzA=C$Tzs.weight,C$Tzo=C$Tzy[C$Tzr],C$Tzv=C$Tzj.SubVV(C$Tza.GetLinearVelocityFromWorldPoint(C$Tzo,C$Tzh),C$Tzl.GetLinearVelocityFromWorldPoint(C$Tzo,C$Tzu),C$Tzd),(C$Tzx=C$Tzj.DotVV(C$Tzv,C$Tzc))<0&&(this.InitDampingParameterWithRigidGroupOrParticle(C$Tzt,C$Tze,C$Tzi,!0,C$Tzl,C$Tzr,C$Tzo,C$Tzc),this.InitDampingParameter(C$Tzf,C$Tzp,C$Tzm,C$Tza.GetMass(),C$Tza.GetInertia()-C$Tza.GetMass()*C$Tza.GetLocalCenter().LengthSquared(),C$Tza.GetWorldCenter(),C$Tzo,C$Tzc),C$Tzb=C$Tzg*C$TzL(C$TzA,1)*this.ComputeDampingImpulse(C$Tzt[0],C$Tze[0],C$Tzi[0],C$Tzf[0],C$Tzp[0],C$Tzm[0],C$Tzx),this.ApplyDamping(C$Tzt[0],C$Tze[0],C$Tzi[0],!0,C$Tzl,C$Tzr,C$Tzb,C$Tzc),C$Tza.ApplyLinearImpulse(C$Tzj.MulSV(-C$Tzb,C$Tzc,C$Tzj.s_t0),C$Tzo,!0)));}for(C$Tzn=0;C$Tzn<this.m_contactBuffer.count;C$Tzn++){var C$Tzs,C$Tzo,C$Tzv,C$Tzx,C$Tzb,C$Tzr=(C$Tzs=this.m_contactBuffer.data[C$Tzn]).indexA,C$Tza=C$Tzs.indexB,C$Tzc=C$Tzs.normal,C$TzA=C$Tzs.weight,C$Tzl=this.m_groupBuffer[C$Tzr],C$TzC=this.m_groupBuffer[C$Tza],C$TzS=this.IsRigidGroup(C$Tzl),C$TzT=this.IsRigidGroup(C$TzC);C$Tzl!==C$TzC&&(C$TzS||C$TzT)&&(C$Tzo=C$Tzj.MidVV(C$Tzy[C$Tzr],C$Tzy[C$Tza],C$Tz_),C$Tzv=C$Tzj.SubVV(this.GetLinearVelocity(C$TzC,C$Tza,C$Tzo,C$Tzh),this.GetLinearVelocity(C$Tzl,C$Tzr,C$Tzo,C$Tzu),C$Tzd),(C$Tzx=C$Tzj.DotVV(C$Tzv,C$Tzc))<0&&(this.InitDampingParameterWithRigidGroupOrParticle(C$Tzt,C$Tze,C$Tzi,C$TzS,C$Tzl,C$Tzr,C$Tzo,C$Tzc),this.InitDampingParameterWithRigidGroupOrParticle(C$Tzf,C$Tzp,C$Tzm,C$TzT,C$TzC,C$Tza,C$Tzo,C$Tzc),C$Tzb=C$Tzg*C$TzA*this.ComputeDampingImpulse(C$Tzt[0],C$Tze[0],C$Tzi[0],C$Tzf[0],C$Tzp[0],C$Tzm[0],C$Tzx),this.ApplyDamping(C$Tzt[0],C$Tze[0],C$Tzi[0],C$TzS,C$Tzl,C$Tzr,C$Tzb,C$Tzc),this.ApplyDamping(C$Tzf[0],C$Tzp[0],C$Tzm[0],C$TzT,C$TzC,C$Tza,-C$Tzb,C$Tzc)));}},C$TzX.prototype.SolveExtraDamping=function(){var C$Tzt=C$TzX.SolveExtraDamping_s_v,C$Tze=C$TzX.SolveExtraDamping_s_f;if(!this.m_flagsBuffer.data)throw new Error();if(!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tzi=this.m_velocityBuffer.data,C$Tzh=this.m_positionBuffer.data,C$Tzu=this.GetParticleInvMass(),C$Tzn=0;C$Tzn<this.m_bodyContactBuffer.count;C$Tzn++){var C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc=this.m_bodyContactBuffer.data[C$Tzn],C$Tzl=C$Tzc.index;this.m_flagsBuffer.data[C$Tzl]&C$TzX.k_extraDampingFlags&&(C$Tzr=C$Tzc.body,C$Tza=C$Tzc.mass,C$Tzc=C$Tzc.normal,C$Tzs=C$Tzh[C$Tzl],C$Tzo=C$Tzj.SubVV(C$Tzr.GetLinearVelocityFromWorldPoint(C$Tzs,C$Tzj.s_t0),C$Tzi[C$Tzl],C$Tzt),(C$Tzo=C$Tzj.DotVV(C$Tzo,C$Tzc))<0&&(C$Tza=C$Tzj.MulSV(.5*C$Tza*C$Tzo,C$Tzc,C$Tze),C$Tzi[C$Tzl].SelfMulAdd(C$Tzu,C$Tza),C$Tzr.ApplyLinearImpulse(C$Tza.SelfNeg(),C$Tzs,!0)));}},C$TzX.prototype.SolveWall=function(){if(!this.m_flagsBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tzt=this.m_velocityBuffer.data,C$Tze=0;C$Tze<this.m_count;C$Tze++)this.m_flagsBuffer.data[C$Tze]&C$TzH.b2ParticleFlag.b2_wallParticle&&C$Tzt[C$Tze].SetZero();},C$TzX.prototype.SolveRigid=function(C$Tzt){var C$Tze=C$TzX.SolveRigid_s_position,C$Tzi=C$TzX.SolveRigid_s_rotation,C$Tzn=C$TzX.SolveRigid_s_transform,C$Tzr=C$TzX.SolveRigid_s_velocityTransform;if(!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tzh=this.m_positionBuffer.data,C$Tzu=this.m_velocityBuffer.data,C$Tzs=this.m_groupList;C$Tzs;C$Tzs=C$Tzs.GetNext())if(C$Tzs.m_groupFlags&C$TzH.b2ParticleGroupFlag.b2_rigidParticleGroup){C$Tzs.UpdateStatistics();var C$Tzo=C$Tzi,C$Tz_=(C$Tzo.SetAngle(C$Tzt.dt*C$Tzs.m_angularVelocity),C$Tzj.AddVV(C$Tzs.m_center,C$Tzj.SubVV(C$Tzj.MulSV(C$Tzt.dt,C$Tzs.m_linearVelocity,C$Tzj.s_t0),C$TzB.MulRV(C$Tzo,C$Tzs.m_center,C$Tzj.s_t1),C$Tzj.s_t0),C$Tze)),C$Tza=C$Tzn,C$Tzc=(C$Tza.SetPositionRotation(C$Tz_,C$Tzo),C$TzR.MulXX(C$Tza,C$Tzs.m_transform,C$Tzs.m_transform),C$Tzr);C$Tzc.p.x=C$Tzt.inv_dt*C$Tza.p.x,C$Tzc.p.y=C$Tzt.inv_dt*C$Tza.p.y,C$Tzc.q.s=C$Tzt.inv_dt*C$Tza.q.s,C$Tzc.q.c=C$Tzt.inv_dt*(C$Tza.q.c-1);for(var C$Tzl=C$Tzs.m_firstIndex;C$Tzl<C$Tzs.m_lastIndex;C$Tzl++)C$TzR.MulXV(C$Tzc,C$Tzh[C$Tzl],C$Tzu[C$Tzl]);}},C$TzX.prototype.SolveElastic=function(C$Tzh){var C$Tzu=C$TzX.SolveElastic_s_pa,C$Tz_=C$TzX.SolveElastic_s_pb,C$Tzd=C$TzX.SolveElastic_s_pc,C$Tzf=C$TzX.SolveElastic_s_r,C$Tzt=C$TzX.SolveElastic_s_t0;if(!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tzp=this.m_positionBuffer.data,C$Tzm=this.m_velocityBuffer.data,C$Tzy=C$Tzh.inv_dt*this.m_def.elasticStrength,C$Tzg=0;C$Tzg<this.m_triadBuffer.count;C$Tzg++){var C$Tzv,C$Tzx,C$Tzb,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl=this.m_triadBuffer.data[C$Tzg];C$Tzl.flags&C$TzH.b2ParticleFlag.b2_elasticParticle&&(C$Tzr=C$Tzl.indexA,C$Tzs=C$Tzl.indexB,C$Tzo=C$Tzl.indexC,C$Tzv=C$Tzl.pa,C$Tzx=C$Tzl.pb,C$Tzb=C$Tzl.pc,C$Tze=C$Tzu.Copy(C$Tzp[C$Tzr]),C$Tzi=C$Tz_.Copy(C$Tzp[C$Tzs]),C$Tzn=C$Tzd.Copy(C$Tzp[C$Tzo]),C$Tzr=C$Tzm[C$Tzr],C$Tzs=C$Tzm[C$Tzs],C$Tzo=C$Tzm[C$Tzo],C$Tze.SelfMulAdd(C$Tzh.dt,C$Tzr),C$Tzi.SelfMulAdd(C$Tzh.dt,C$Tzs),C$Tzn.SelfMulAdd(C$Tzh.dt,C$Tzo),C$Tza=(C$Tze.x+C$Tzi.x+C$Tzn.x)/3,C$Tzc=(C$Tze.y+C$Tzi.y+C$Tzn.y)/3,C$Tze.x-=C$Tza,C$Tze.y-=C$Tzc,C$Tzi.x-=C$Tza,C$Tzi.y-=C$Tzc,C$Tzn.x-=C$Tza,C$Tzn.y-=C$Tzc,(C$Tza=C$Tzf).s=C$Tzj.CrossVV(C$Tzv,C$Tze)+C$Tzj.CrossVV(C$Tzx,C$Tzi)+C$Tzj.CrossVV(C$Tzb,C$Tzn),C$Tza.c=C$Tzj.DotVV(C$Tzv,C$Tze)+C$Tzj.DotVV(C$Tzx,C$Tzi)+C$Tzj.DotVV(C$Tzb,C$Tzn),C$Tzc=C$TzA(C$Tza.s*C$Tza.s+C$Tza.c*C$Tza.c),isFinite(C$Tzc)||(C$Tzc=198177537e11),C$Tza.s*=C$Tzc,C$Tza.c*=C$Tzc,C$Tzc=C$Tzy*C$Tzl.strength,C$TzB.MulRV(C$Tza,C$Tzv,C$Tzt),C$Tzj.SubVV(C$Tzt,C$Tze,C$Tzt),C$Tzj.MulSV(C$Tzc,C$Tzt,C$Tzt),C$Tzr.SelfAdd(C$Tzt),C$TzB.MulRV(C$Tza,C$Tzx,C$Tzt),C$Tzj.SubVV(C$Tzt,C$Tzi,C$Tzt),C$Tzj.MulSV(C$Tzc,C$Tzt,C$Tzt),C$Tzs.SelfAdd(C$Tzt),C$TzB.MulRV(C$Tza,C$Tzb,C$Tzt),C$Tzj.SubVV(C$Tzt,C$Tzn,C$Tzt),C$Tzj.MulSV(C$Tzc,C$Tzt,C$Tzt),C$Tzo.SelfAdd(C$Tzt));}},C$TzX.prototype.SolveSpring=function(C$Tzt){var C$Tzh=C$TzX.SolveSpring_s_pa,C$Tzu=C$TzX.SolveSpring_s_pb,C$Tz_=C$TzX.SolveSpring_s_d,C$Tzd=C$TzX.SolveSpring_s_f;if(!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tze=this.m_positionBuffer.data,C$Tzi=this.m_velocityBuffer.data,C$Tzf=C$Tzt.inv_dt*this.m_def.springStrength,C$Tzn=0;C$Tzn<this.m_pairBuffer.count;C$Tzn++){var C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl=this.m_pairBuffer.data[C$Tzn];C$Tzl.flags&C$TzH.b2ParticleFlag.b2_springParticle&&(C$Tzr=C$Tzl.indexA,C$Tzs=C$Tzl.indexB,C$Tza=C$Tzh.Copy(C$Tze[C$Tzr]),C$Tzo=C$Tzu.Copy(C$Tze[C$Tzs]),C$Tzr=C$Tzi[C$Tzr],C$Tzs=C$Tzi[C$Tzs],C$Tza.SelfMulAdd(C$Tzt.dt,C$Tzr),C$Tzo.SelfMulAdd(C$Tzt.dt,C$Tzs),C$Tzo=C$Tzj.SubVV(C$Tzo,C$Tza,C$Tz_),C$Tza=C$Tzl.distance,C$Tzc=C$Tzo.Length(),C$Tzl=C$Tzf*C$Tzl.strength,C$Tzl=C$Tzj.MulSV(C$Tzl*(C$Tza-C$Tzc)/C$Tzc,C$Tzo,C$Tzd),C$Tzr.SelfSub(C$Tzl),C$Tzs.SelfAdd(C$Tzl));}},C$TzX.prototype.SolveTensile=function(C$Tzt){var C$Tzh=C$TzX.SolveTensile_s_weightedNormal,C$Tzu=C$TzX.SolveTensile_s_s,C$Tz_=C$TzX.SolveTensile_s_f;if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tzd=this.m_velocityBuffer.data,C$Tze=0;C$Tze<this.m_count;C$Tze++)this.m_accumulation2Buffer[C$Tze]=new C$Tzj(),this.m_accumulation2Buffer[C$Tze].SetZero();for(var C$Tzf,C$Tzi=0;C$Tzi<this.m_contactBuffer.count;C$Tzi++)(C$Tzn=this.m_contactBuffer.data[C$Tzi]).flags&C$TzH.b2ParticleFlag.b2_tensileParticle&&(C$Tzr=C$Tzn.indexA,C$Tzs=C$Tzn.indexB,C$Tzo=C$Tzn.weight,C$Tza=C$Tzn.normal,C$Tzf=C$Tzj.MulSV((1-C$Tzo)*C$Tzo,C$Tza,C$Tzh),this.m_accumulation2Buffer[C$Tzr].SelfSub(C$Tzf),this.m_accumulation2Buffer[C$Tzs].SelfAdd(C$Tzf));for(var C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl,C$Tzt=this.GetCriticalVelocity(C$Tzt),C$Tzp=this.m_def.surfaceTensionPressureStrength*C$Tzt,C$Tzm=this.m_def.surfaceTensionNormalStrength*C$Tzt,C$Tzy=.5*C$Tzt,C$Tzi=0;C$Tzi<this.m_contactBuffer.count;C$Tzi++)(C$Tzn=this.m_contactBuffer.data[C$Tzi]).flags&C$TzH.b2ParticleFlag.b2_tensileParticle&&(C$Tzr=C$Tzn.indexA,C$Tzs=C$Tzn.indexB,C$Tzo=C$Tzn.weight,C$Tza=C$Tzn.normal,C$Tzc=this.m_weightBuffer[C$Tzr]+this.m_weightBuffer[C$Tzs],C$Tzl=C$Tzj.SubVV(this.m_accumulation2Buffer[C$Tzs],this.m_accumulation2Buffer[C$Tzr],C$Tzu),C$Tzc=C$TzL(C$Tzp*(C$Tzc-2)+C$Tzm*C$Tzj.DotVV(C$Tzl,C$Tza),C$Tzy)*C$Tzo,C$Tzl=C$Tzj.MulSV(C$Tzc,C$Tza,C$Tz_),C$Tzd[C$Tzr].SelfSub(C$Tzl),C$Tzd[C$Tzs].SelfAdd(C$Tzl));},C$TzX.prototype.SolveViscous=function(){var C$Tzt=C$TzX.SolveViscous_s_v,C$Tzh=C$TzX.SolveViscous_s_f;if(!this.m_flagsBuffer.data)throw new Error();if(!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tzu=this.m_positionBuffer.data,C$Tze=this.m_velocityBuffer.data,C$Tz_=this.m_def.viscousStrength,C$Tzd=this.GetParticleInvMass(),C$Tzi=0;C$Tzi<this.m_bodyContactBuffer.count;C$Tzi++){var C$Tzf,C$Tzn,C$Tzr=(C$Tzs=this.m_bodyContactBuffer.data[C$Tzi]).index;this.m_flagsBuffer.data[C$Tzr]&C$TzH.b2ParticleFlag.b2_viscousParticle&&(C$Tzo=C$Tzs.body,C$Tza=C$Tzs.weight,C$Tzf=C$Tzs.mass,C$Tzn=C$Tzu[C$Tzr],C$Tzc=C$Tzj.SubVV(C$Tzo.GetLinearVelocityFromWorldPoint(C$Tzn,C$Tzj.s_t0),C$Tze[C$Tzr],C$Tzt),C$Tzl=C$Tzj.MulSV(C$Tz_*C$Tzf*C$Tza,C$Tzc,C$Tzh),C$Tze[C$Tzr].SelfMulAdd(C$Tzd,C$Tzl),C$Tzo.ApplyLinearImpulse(C$Tzl.SelfNeg(),C$Tzn,!0));}for(var C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl,C$Tzi=0;C$Tzi<this.m_contactBuffer.count;C$Tzi++)(C$Tzs=this.m_contactBuffer.data[C$Tzi]).flags&C$TzH.b2ParticleFlag.b2_viscousParticle&&(C$Tzr=C$Tzs.indexA,C$Tzo=C$Tzs.indexB,C$Tza=C$Tzs.weight,C$Tzc=C$Tzj.SubVV(C$Tze[C$Tzo],C$Tze[C$Tzr],C$Tzt),C$Tzl=C$Tzj.MulSV(C$Tz_*C$Tza,C$Tzc,C$Tzh),C$Tze[C$Tzr].SelfAdd(C$Tzl),C$Tze[C$Tzo].SelfSub(C$Tzl));},C$TzX.prototype.SolveRepulsive=function(C$Tzt){var C$Tze=C$TzX.SolveRepulsive_s_f;if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tzi=this.m_velocityBuffer.data,C$Tzn=this.m_def.repulsiveStrength*this.GetCriticalVelocity(C$Tzt),C$Tzr=0;C$Tzr<this.m_contactBuffer.count;C$Tzr++){var C$Tzs,C$Tzo,C$Tza,C$Tzc=this.m_contactBuffer.data[C$Tzr];C$Tzc.flags&C$TzH.b2ParticleFlag.b2_repulsiveParticle&&(C$Tzs=C$Tzc.indexA,C$Tzo=C$Tzc.indexB,this.m_groupBuffer[C$Tzs]!==this.m_groupBuffer[C$Tzo]&&(C$Tza=C$Tzc.weight,C$Tzc=C$Tzc.normal,C$Tza=C$Tzj.MulSV(C$Tzn*C$Tza,C$Tzc,C$Tze),C$Tzi[C$Tzs].SelfSub(C$Tza),C$Tzi[C$Tzo].SelfAdd(C$Tza)));}},C$TzX.prototype.SolvePowder=function(C$Tzh){var C$Tzt=C$TzX.SolvePowder_s_f;if(!this.m_flagsBuffer.data)throw new Error();if(!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tzu=this.m_positionBuffer.data,C$Tze=this.m_velocityBuffer.data,C$Tzi=this.m_def.powderStrength*this.GetCriticalVelocity(C$Tzh),C$Tz_=this.GetParticleInvMass(),C$Tzn=0;C$Tzn<this.m_bodyContactBuffer.count;C$Tzn++){var C$Tzd,C$Tzf,C$Tzr=(C$Tzs=this.m_bodyContactBuffer.data[C$Tzn]).index;this.m_flagsBuffer.data[C$Tzr]&C$TzH.b2ParticleFlag.b2_powderParticle&&.25<(C$Tzo=C$Tzs.weight)&&(C$Tza=C$Tzs.body,C$Tzd=C$Tzs.mass,C$Tzf=C$Tzu[C$Tzr],C$Tzc=C$Tzs.normal,C$Tzl=C$Tzj.MulSV(C$Tzi*C$Tzd*(C$Tzo-.25),C$Tzc,C$Tzt),C$Tze[C$Tzr].SelfMulSub(C$Tz_,C$Tzl),C$Tza.ApplyLinearImpulse(C$Tzl,C$Tzf,!0));}for(var C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl,C$Tzn=0;C$Tzn<this.m_contactBuffer.count;C$Tzn++)(C$Tzs=this.m_contactBuffer.data[C$Tzn]).flags&C$TzH.b2ParticleFlag.b2_powderParticle&&.25<(C$Tzo=C$Tzs.weight)&&(C$Tzr=C$Tzs.indexA,C$Tza=C$Tzs.indexB,C$Tzc=C$Tzs.normal,C$Tzl=C$Tzj.MulSV(C$Tzi*(C$Tzo-.25),C$Tzc,C$Tzt),C$Tze[C$Tzr].SelfSub(C$Tzl),C$Tze[C$Tza].SelfAdd(C$Tzl));},C$TzX.prototype.SolveSolid=function(C$Tzt){var C$Tze=C$TzX.SolveSolid_s_f;if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tzi=this.m_velocityBuffer.data,C$Tzn=(this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer),C$Tzt.inv_dt*this.m_def.ejectionStrength),C$Tzr=0;C$Tzr<this.m_contactBuffer.count;C$Tzr++){var C$Tzs,C$Tzo,C$Tza=this.m_contactBuffer.data[C$Tzr],C$Tzc=C$Tza.indexA,C$Tzl=C$Tza.indexB;this.m_groupBuffer[C$Tzc]!==this.m_groupBuffer[C$Tzl]&&(C$Tzs=C$Tza.weight,C$Tza=C$Tza.normal,C$Tzo=this.m_depthBuffer[C$Tzc]+this.m_depthBuffer[C$Tzl],C$Tzo=C$Tzj.MulSV(C$Tzn*C$Tzo*C$Tzs,C$Tza,C$Tze),C$Tzi[C$Tzc].SelfSub(C$Tzo),C$Tzi[C$Tzl].SelfAdd(C$Tzo));}},C$TzX.prototype.SolveForce=function(C$Tzt){if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tze=this.m_velocityBuffer.data,C$Tzi=C$Tzt.dt*this.GetParticleInvMass(),C$Tzn=0;C$Tzn<this.m_count;C$Tzn++)C$Tze[C$Tzn].SelfMulAdd(C$Tzi,this.m_forceBuffer[C$Tzn]);this.m_hasForce=!1;},C$TzX.prototype.SolveColorMixing=function(){if(!this.m_flagsBuffer.data)throw new Error();if(!this.m_colorBuffer.data)throw new Error();var C$Tzt=.5*this.m_def.colorMixingStrength;if(C$Tzt)for(var C$Tze=0;C$Tze<this.m_contactBuffer.count;C$Tze++){var C$Tzi=this.m_contactBuffer.data[C$Tze],C$Tzn=C$Tzi.indexA,C$Tzi=C$Tzi.indexB;this.m_flagsBuffer.data[C$Tzn]&this.m_flagsBuffer.data[C$Tzi]&C$TzH.b2ParticleFlag.b2_colorMixingParticle&&(C$Tzn=this.m_colorBuffer.data[C$Tzn],C$Tzi=this.m_colorBuffer.data[C$Tzi],C$TzJ.MixColors(C$Tzn,C$Tzi,C$Tzt));}},C$TzX.prototype.SolveZombie=function(){if(!this.m_flagsBuffer.data)throw new Error();if(!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();for(var C$Tzt=0,C$Tze=[],C$Tzi=0;C$Tzi<this.m_count;C$Tzi++)C$Tze[C$Tzi]=-1;for(var C$Tzh=0,C$Tzi=0;C$Tzi<this.m_count;C$Tzi++){var C$Tzu,C$Tzn,C$Tz_=this.m_flagsBuffer.data[C$Tzi];C$Tz_&C$TzH.b2ParticleFlag.b2_zombieParticle?(C$Tzu=this.m_world.m_destructionListener,C$Tz_&C$TzH.b2ParticleFlag.b2_destructionListenerParticle&&C$Tzu&&C$Tzu.SayGoodbyeParticle(this,C$Tzi),this.m_handleIndexBuffer.data&&(C$Tzn=this.m_handleIndexBuffer.data[C$Tzi])&&(C$Tzn.SetIndex(-1),this.m_handleIndexBuffer.data[C$Tzi]=null),C$Tze[C$Tzi]=-1):(C$Tzi!==(C$Tze[C$Tzi]=C$Tzt)&&(this.m_handleIndexBuffer.data&&((C$Tzn=this.m_handleIndexBuffer.data[C$Tzi])&&C$Tzn.SetIndex(C$Tzt),this.m_handleIndexBuffer.data[C$Tzt]=C$Tzn),this.m_flagsBuffer.data[C$Tzt]=this.m_flagsBuffer.data[C$Tzi],this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[C$Tzt]=this.m_lastBodyContactStepBuffer.data[C$Tzi]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[C$Tzt]=this.m_bodyContactCountBuffer.data[C$Tzi]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[C$Tzt]=this.m_consecutiveContactStepsBuffer.data[C$Tzi]),this.m_positionBuffer.data[C$Tzt].Copy(this.m_positionBuffer.data[C$Tzi]),this.m_velocityBuffer.data[C$Tzt].Copy(this.m_velocityBuffer.data[C$Tzi]),this.m_groupBuffer[C$Tzt]=this.m_groupBuffer[C$Tzi],this.m_hasForce&&this.m_forceBuffer[C$Tzt].Copy(this.m_forceBuffer[C$Tzi]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[C$Tzt]=this.m_staticPressureBuffer[C$Tzi]),this.m_depthBuffer&&(this.m_depthBuffer[C$Tzt]=this.m_depthBuffer[C$Tzi]),this.m_colorBuffer.data&&this.m_colorBuffer.data[C$Tzt].Copy(this.m_colorBuffer.data[C$Tzi]),this.m_userDataBuffer.data&&(this.m_userDataBuffer.data[C$Tzt]=this.m_userDataBuffer.data[C$Tzi]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[C$Tzt]=this.m_expirationTimeBuffer.data[C$Tzi])),C$Tzt++,C$Tzh|=C$Tz_);}for(var C$Tzd=function(C$Tzt){return C$Tzt.index<0;},C$Tzf=function(C$Tzt){return C$Tzt.indexA<0||C$Tzt.indexB<0;},C$Tzp=function(C$Tzt){return C$Tzt.index<0;},C$Tzm=function(C$Tzt){return C$Tzt.indexA<0||C$Tzt.indexB<0;},C$Tzy=function(C$Tzt){return C$Tzt.indexA<0||C$Tzt.indexB<0||C$Tzt.indexC<0;},C$Tzr=0;C$Tzr<this.m_proxyBuffer.count;C$Tzr++){var C$Tzg=this.m_proxyBuffer.data[C$Tzr];C$Tzg.index=C$Tze[C$Tzg.index];}this.m_proxyBuffer.RemoveIf(C$Tzd);for(C$Tzr=0;C$Tzr<this.m_contactBuffer.count;C$Tzr++)(C$Tzs=this.m_contactBuffer.data[C$Tzr]).indexA=C$Tze[C$Tzs.indexA],C$Tzs.indexB=C$Tze[C$Tzs.indexB];this.m_contactBuffer.RemoveIf(C$Tzf);for(var C$Tzs,C$Tzr=0;C$Tzr<this.m_bodyContactBuffer.count;C$Tzr++)(C$Tzs=this.m_bodyContactBuffer.data[C$Tzr]).index=C$Tze[C$Tzs.index];this.m_bodyContactBuffer.RemoveIf(C$Tzp);for(C$Tzr=0;C$Tzr<this.m_pairBuffer.count;C$Tzr++){var C$Tzo=this.m_pairBuffer.data[C$Tzr];C$Tzo.indexA=C$Tze[C$Tzo.indexA],C$Tzo.indexB=C$Tze[C$Tzo.indexB];}this.m_pairBuffer.RemoveIf(C$Tzm);for(C$Tzr=0;C$Tzr<this.m_triadBuffer.count;C$Tzr++){var C$Tza=this.m_triadBuffer.data[C$Tzr];C$Tza.indexA=C$Tze[C$Tza.indexA],C$Tza.indexB=C$Tze[C$Tza.indexB],C$Tza.indexC=C$Tze[C$Tza.indexC];}if(this.m_triadBuffer.RemoveIf(C$Tzy),this.m_indexByExpirationTimeBuffer.data)for(var C$Tzv=0,C$Tzx=0;C$Tzx<this.m_count;C$Tzx++){var C$Tzb=C$Tze[this.m_indexByExpirationTimeBuffer.data[C$Tzx]];-1!==C$Tzb&&(this.m_indexByExpirationTimeBuffer.data[C$Tzv++]=C$Tzb);}for(var C$Tzc=this.m_groupList;C$Tzc;C$Tzc=C$Tzc.GetNext()){for(var C$Tzl=C$Tzt,C$TzA=0,C$TzC=!1,C$Tzi=C$Tzc.m_firstIndex;C$Tzi<C$Tzc.m_lastIndex;C$Tzi++){var C$TzS=C$Tze[C$Tzi];0<=C$TzS?(C$Tzl=C$TzL(C$Tzl,C$TzS),C$TzA=C$TzV(C$TzA,C$TzS+1)):C$TzC=!0;}C$Tzl<C$TzA?(C$Tzc.m_firstIndex=C$Tzl,C$Tzc.m_lastIndex=C$TzA,C$TzC&&C$Tzc.m_groupFlags&C$TzH.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SetGroupFlags(C$Tzc,C$Tzc.m_groupFlags|C$TzH.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth)):(C$Tzc.m_firstIndex=0,C$Tzc.m_lastIndex=0,C$Tzc.m_groupFlags&C$TzH.b2ParticleGroupFlag.b2_particleGroupCanBeEmpty||this.SetGroupFlags(C$Tzc,C$Tzc.m_groupFlags|C$TzH.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed));}this.m_count=C$Tzt,this.m_allParticleFlags=C$Tzh,this.m_needsUpdateAllParticleFlags=!1;for(C$Tzc=this.m_groupList;C$Tzc;){var C$TzT=C$Tzc.GetNext();C$Tzc.m_groupFlags&C$TzH.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed&&this.DestroyParticleGroup(C$Tzc),C$Tzc=C$TzT;}},C$TzX.prototype.SolveLifetimes=function(C$Tzt){if(!this.m_expirationTimeBuffer.data)throw new Error();if(!this.m_indexByExpirationTimeBuffer.data)throw new Error();this.m_timeElapsed=this.LifetimeToExpirationTime(C$Tzt.dt);var C$Tze=this.GetQuantizedTimeElapsed(),C$Tzn=this.m_expirationTimeBuffer.data,C$Tzi=this.m_indexByExpirationTimeBuffer.data,C$Tzt=this.GetParticleCount();this.m_expirationTimeBufferRequiresSorting&&(C$TzXs(C$Tzi,0,C$Tzt,function(C$Tzt,C$Tze){var C$Tzt=C$Tzn[C$Tzt],C$Tze=C$Tzn[C$Tze],C$Tzi=C$Tzt<=0;return C$Tzi==C$Tze<=0?C$Tze<C$Tzt:C$Tzi;}),this.m_expirationTimeBufferRequiresSorting=!1);for(var C$Tzr=C$Tzt-1;0<=C$Tzr;--C$Tzr){var C$Tzs=C$Tzi[C$Tzr],C$Tzo=C$Tzn[C$Tzs];if(C$Tze<C$Tzo||C$Tzo<=0)break;this.DestroyParticle(C$Tzs);}},C$TzX.prototype.RotateBuffer=function(C$Tze,C$Tzi,C$Tzn){if(C$Tze!==C$Tzi&&C$Tzi!==C$Tzn){if(!this.m_flagsBuffer.data)throw new Error();if(!this.m_positionBuffer.data)throw new Error();if(!this.m_velocityBuffer.data)throw new Error();if(C$TzKs(this.m_flagsBuffer.data,C$Tze,C$Tzi,C$Tzn),this.m_lastBodyContactStepBuffer.data&&C$TzKs(this.m_lastBodyContactStepBuffer.data,C$Tze,C$Tzi,C$Tzn),this.m_bodyContactCountBuffer.data&&C$TzKs(this.m_bodyContactCountBuffer.data,C$Tze,C$Tzi,C$Tzn),this.m_consecutiveContactStepsBuffer.data&&C$TzKs(this.m_consecutiveContactStepsBuffer.data,C$Tze,C$Tzi,C$Tzn),C$TzKs(this.m_positionBuffer.data,C$Tze,C$Tzi,C$Tzn),C$TzKs(this.m_velocityBuffer.data,C$Tze,C$Tzi,C$Tzn),C$TzKs(this.m_groupBuffer,C$Tze,C$Tzi,C$Tzn),this.m_hasForce&&C$TzKs(this.m_forceBuffer,C$Tze,C$Tzi,C$Tzn),this.m_staticPressureBuffer&&C$TzKs(this.m_staticPressureBuffer,C$Tze,C$Tzi,C$Tzn),this.m_depthBuffer&&C$TzKs(this.m_depthBuffer,C$Tze,C$Tzi,C$Tzn),this.m_colorBuffer.data&&C$TzKs(this.m_colorBuffer.data,C$Tze,C$Tzi,C$Tzn),this.m_userDataBuffer.data&&C$TzKs(this.m_userDataBuffer.data,C$Tze,C$Tzi,C$Tzn),this.m_handleIndexBuffer.data){C$TzKs(this.m_handleIndexBuffer.data,C$Tze,C$Tzi,C$Tzn);for(var C$Tzt=C$Tze;C$Tzt<C$Tzn;++C$Tzt){var C$Tzh=this.m_handleIndexBuffer.data[C$Tzt];C$Tzh&&C$Tzh.SetIndex(C$Tzl(C$Tzh.GetIndex()));}}if(this.m_expirationTimeBuffer.data){C$TzKs(this.m_expirationTimeBuffer.data,C$Tze,C$Tzi,C$Tzn);var C$Tzu=this.GetParticleCount();if(!this.m_indexByExpirationTimeBuffer.data)throw new Error();for(var C$Tz_=this.m_indexByExpirationTimeBuffer.data,C$Tzt=0;C$Tzt<C$Tzu;++C$Tzt)C$Tz_[C$Tzt]=C$Tzl(C$Tz_[C$Tzt]);}for(var C$Tzr=0;C$Tzr<this.m_proxyBuffer.count;C$Tzr++){var C$Tzd=this.m_proxyBuffer.data[C$Tzr];C$Tzd.index=C$Tzl(C$Tzd.index);}for(C$Tzr=0;C$Tzr<this.m_contactBuffer.count;C$Tzr++)(C$Tzs=this.m_contactBuffer.data[C$Tzr]).indexA=C$Tzl(C$Tzs.indexA),C$Tzs.indexB=C$Tzl(C$Tzs.indexB);for(var C$Tzs,C$Tzr=0;C$Tzr<this.m_bodyContactBuffer.count;C$Tzr++)(C$Tzs=this.m_bodyContactBuffer.data[C$Tzr]).index=C$Tzl(C$Tzs.index);for(C$Tzr=0;C$Tzr<this.m_pairBuffer.count;C$Tzr++){var C$Tzo=this.m_pairBuffer.data[C$Tzr];C$Tzo.indexA=C$Tzl(C$Tzo.indexA),C$Tzo.indexB=C$Tzl(C$Tzo.indexB);}for(C$Tzr=0;C$Tzr<this.m_triadBuffer.count;C$Tzr++){var C$Tza=this.m_triadBuffer.data[C$Tzr];C$Tza.indexA=C$Tzl(C$Tza.indexA),C$Tza.indexB=C$Tzl(C$Tza.indexB),C$Tza.indexC=C$Tzl(C$Tza.indexC);}for(var C$Tzc=this.m_groupList;C$Tzc;C$Tzc=C$Tzc.GetNext())C$Tzc.m_firstIndex=C$Tzl(C$Tzc.m_firstIndex),C$Tzc.m_lastIndex=C$Tzl(C$Tzc.m_lastIndex-1)+1;}function C$Tzl(C$Tzt){return C$Tzt<C$Tze?C$Tzt:C$Tzt<C$Tzi?C$Tzt+C$Tzn-C$Tzi:C$Tzt<C$Tzn?C$Tzt+C$Tze-C$Tzi:C$Tzt;}},C$TzX.prototype.GetCriticalVelocity=function(C$Tzt){return this.m_particleDiameter*C$Tzt.inv_dt;},C$TzX.prototype.GetCriticalVelocitySquared=function(C$Tzt){C$Tzt=this.GetCriticalVelocity(C$Tzt);return C$Tzt*C$Tzt;},C$TzX.prototype.GetCriticalPressure=function(C$Tzt){return this.m_def.density*this.GetCriticalVelocitySquared(C$Tzt);},C$TzX.prototype.GetParticleStride=function(){return .75*this.m_particleDiameter;},C$TzX.prototype.GetParticleMass=function(){var C$Tzt=this.GetParticleStride();return this.m_def.density*C$Tzt*C$Tzt;},C$TzX.prototype.GetParticleInvMass=function(){var C$Tzt=this.m_inverseDiameter*(1/.75);return this.m_inverseDensity*C$Tzt*C$Tzt;},C$TzX.prototype.GetFixtureContactFilter=function(){return this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_fixtureContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null;},C$TzX.prototype.GetParticleContactFilter=function(){return this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_particleContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null;},C$TzX.prototype.GetFixtureContactListener=function(){return this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_fixtureContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null;},C$TzX.prototype.GetParticleContactListener=function(){return this.m_allParticleFlags&C$TzH.b2ParticleFlag.b2_particleContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null;},C$TzX.prototype.SetUserOverridableBuffer=function(C$Tzt,C$Tze,C$Tzi){C$Tzt.data=C$Tze,C$Tzt.userSuppliedCapacity=C$Tzi;},C$TzX.prototype.SetGroupFlags=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt.m_groupFlags;(C$Tzi^C$Tze)&C$TzH.b2ParticleGroupFlag.b2_solidParticleGroup&&(C$Tze|=C$TzH.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth),C$Tzi&~C$Tze&&(this.m_needsUpdateAllGroupFlags=!0),~this.m_allGroupFlags&C$Tze&&(C$Tze&C$TzH.b2ParticleGroupFlag.b2_solidParticleGroup&&(this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer)),this.m_allGroupFlags|=C$Tze),C$Tzt.m_groupFlags=C$Tze;},C$TzX.BodyContactCompare=function(C$Tzt,C$Tze){return C$Tzt.index===C$Tze.index?C$Tzt.weight>C$Tze.weight:C$Tzt.index<C$Tze.index;},C$TzX.prototype.RemoveSpuriousBodyContacts=function(){C$TzXs(this.m_bodyContactBuffer.data,0,this.m_bodyContactBuffer.count,C$TzX.BodyContactCompare);var C$Tzs=C$TzX.RemoveSpuriousBodyContacts_s_n,C$Tzo=C$TzX.RemoveSpuriousBodyContacts_s_pos,C$Tza=C$TzX.RemoveSpuriousBodyContacts_s_normal,C$Tzc=this,C$Tzl=-1,C$Tzh=0;this.m_bodyContactBuffer.count=C$Tzqs(this.m_bodyContactBuffer.data,function(C$Tzt){if(C$Tzt.index!==C$Tzl&&(C$Tzh=0,C$Tzl=C$Tzt.index),3<C$Tzh++)return!0;var C$Tze=C$Tzs.Copy(C$Tzt.normal);if(C$Tze.SelfMul(C$Tzc.m_particleDiameter*(1-C$Tzt.weight)),!C$Tzc.m_positionBuffer.data)throw new Error();var C$Tzi=C$Tzj.AddVV(C$Tzc.m_positionBuffer.data[C$Tzt.index],C$Tze,C$Tzo);if(C$Tzt.fixture.TestPoint(C$Tzi))return!1;for(var C$Tzn=C$Tzt.fixture.GetShape().GetChildCount(),C$Tzr=0;C$Tzr<C$Tzn;C$Tzr++)if(C$Tzt.fixture.ComputeDistance(C$Tzi,C$Tza,C$Tzr)<.008)return!1;return!0;},this.m_bodyContactBuffer.count);},C$TzX.prototype.DetectStuckParticle=function(C$Tzt){if(!(this.m_stuckThreshold<=0)){if(!this.m_bodyContactCountBuffer.data)throw new Error();if(!this.m_consecutiveContactStepsBuffer.data)throw new Error();if(!this.m_lastBodyContactStepBuffer.data)throw new Error();++this.m_bodyContactCountBuffer.data[C$Tzt],2===this.m_bodyContactCountBuffer.data[C$Tzt]&&(++this.m_consecutiveContactStepsBuffer.data[C$Tzt],this.m_consecutiveContactStepsBuffer.data[C$Tzt]>this.m_stuckThreshold&&(this.m_stuckParticleBuffer.data[this.m_stuckParticleBuffer.Append()]=C$Tzt)),this.m_lastBodyContactStepBuffer.data[C$Tzt]=this.m_timestamp;}},C$TzX.prototype.ValidateParticleIndex=function(C$Tzt){return 0<=C$Tzt&&C$Tzt<this.GetParticleCount()&&-1!==C$Tzt;},C$TzX.prototype.GetQuantizedTimeElapsed=function(){return Math.floor(this.m_timeElapsed/4294967296);},C$TzX.prototype.LifetimeToExpirationTime=function(C$Tzt){return this.m_timeElapsed+Math.floor(C$Tzt/this.m_def.lifetimeGranularity*4294967296);},C$TzX.prototype.ForceCanBeApplied=function(C$Tzt){return!(C$Tzt&C$TzH.b2ParticleFlag.b2_wallParticle);},C$TzX.prototype.PrepareForceBuffer=function(){if(!this.m_hasForce){for(var C$Tzt=0;C$Tzt<this.m_count;C$Tzt++)this.m_forceBuffer[C$Tzt].SetZero();this.m_hasForce=!0;}},C$TzX.prototype.IsRigidGroup=function(C$Tzt){return null!==C$Tzt&&0!=(C$Tzt.m_groupFlags&C$TzH.b2ParticleGroupFlag.b2_rigidParticleGroup);},C$TzX.prototype.GetLinearVelocity=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){if(C$Tzt&&this.IsRigidGroup(C$Tzt))return C$Tzt.GetLinearVelocityFromWorldPoint(C$Tzi,C$Tzn);if(!this.m_velocityBuffer.data)throw new Error();return C$Tzn.Copy(this.m_velocityBuffer.data[C$Tze]);},C$TzX.prototype.InitDampingParameter=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza){C$Tzt[0]=0<C$Tzn?1/C$Tzn:0,C$Tze[0]=0<C$Tzr?1/C$Tzr:0,C$Tzi[0]=C$Tzj.CrossVV(C$Tzj.SubVV(C$Tzo,C$Tzs,C$Tzj.s_t0),C$Tza);},C$TzX.prototype.InitDampingParameterWithRigidGroupOrParticle=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza){if(C$Tzr&&C$Tzn)this.InitDampingParameter(C$Tzt,C$Tze,C$Tzi,C$Tzr.GetMass(),C$Tzr.GetInertia(),C$Tzr.GetCenter(),C$Tzo,C$Tza);else{if(!this.m_flagsBuffer.data)throw new Error();C$Tzn=this.m_flagsBuffer.data[C$Tzs];this.InitDampingParameter(C$Tzt,C$Tze,C$Tzi,C$Tzn&C$TzH.b2ParticleFlag.b2_wallParticle?0:this.GetParticleMass(),0,C$Tzo,C$Tzo,C$Tza);}},C$TzX.prototype.ComputeDampingImpulse=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo){C$Tzt=C$Tzt+C$Tze*C$Tzi*C$Tzi+C$Tzn+C$Tzr*C$Tzs*C$Tzs;return 0<C$Tzt?C$Tzo/C$Tzt:0;},C$TzX.prototype.ApplyDamping=function(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo,C$Tza){if(C$Tzr&&C$Tzn)C$Tzr.m_linearVelocity.SelfMulAdd(C$Tzo*C$Tzt,C$Tza),C$Tzr.m_angularVelocity+=C$Tzo*C$Tzi*C$Tze;else{if(!this.m_velocityBuffer.data)throw new Error();this.m_velocityBuffer.data[C$Tzs].SelfMulAdd(C$Tzo*C$Tzt,C$Tza);}},C$TzX.xTruncBits=12,C$TzX.yTruncBits=12,C$TzX.tagBits=32,C$TzX.yOffset=1<<C$TzX.yTruncBits-1,C$TzX.yShift=C$TzX.tagBits-C$TzX.yTruncBits,C$TzX.xShift=C$TzX.tagBits-C$TzX.yTruncBits-C$TzX.xTruncBits,C$TzX.xScale=1<<C$TzX.xShift,C$TzX.xOffset=C$TzX.xScale*(1<<C$TzX.xTruncBits-1),C$TzX.yMask=(1<<C$TzX.yTruncBits)-1<<C$TzX.yShift,C$TzX.xMask=~C$TzX.yMask,C$TzX.DestroyParticlesInShape_s_aabb=new C$Tzte(),C$TzX.CreateParticleGroup_s_transform=new C$TzR(),C$TzX.ComputeCollisionEnergy_s_v=new C$Tzj(),C$TzX.QueryShapeAABB_s_aabb=new C$Tzte(),C$TzX.QueryPointAABB_s_aabb=new C$Tzte(),C$TzX.RayCast_s_aabb=new C$Tzte(),C$TzX.RayCast_s_p=new C$Tzj(),C$TzX.RayCast_s_v=new C$Tzj(),C$TzX.RayCast_s_n=new C$Tzj(),C$TzX.RayCast_s_point=new C$Tzj(),C$TzX.k_pairFlags=C$TzH.b2ParticleFlag.b2_springParticle,C$TzX.k_triadFlags=C$TzH.b2ParticleFlag.b2_elasticParticle,C$TzX.k_noPressureFlags=C$TzH.b2ParticleFlag.b2_powderParticle|C$TzH.b2ParticleFlag.b2_tensileParticle,C$TzX.k_extraDampingFlags=C$TzH.b2ParticleFlag.b2_staticPressureParticle,C$TzX.k_barrierWallFlags=C$TzH.b2ParticleFlag.b2_barrierParticle|C$TzH.b2ParticleFlag.b2_wallParticle,C$TzX.CreateParticlesStrokeShapeForGroup_s_edge=new C$TzNi(),C$TzX.CreateParticlesStrokeShapeForGroup_s_d=new C$Tzj(),C$TzX.CreateParticlesStrokeShapeForGroup_s_p=new C$Tzj(),C$TzX.CreateParticlesFillShapeForGroup_s_aabb=new C$Tzte(),C$TzX.CreateParticlesFillShapeForGroup_s_p=new C$Tzj(),C$TzX.UpdatePairsAndTriads_s_dab=new C$Tzj(),C$TzX.UpdatePairsAndTriads_s_dbc=new C$Tzj(),C$TzX.UpdatePairsAndTriads_s_dca=new C$Tzj(),C$TzX.AddContact_s_d=new C$Tzj(),C$TzX.UpdateBodyContacts_s_aabb=new C$Tzte(),C$TzX.Solve_s_subStep=new C$Tzus(),C$TzX.SolveCollision_s_aabb=new C$Tzte(),C$TzX.SolveGravity_s_gravity=new C$Tzj(),C$TzX.SolveBarrier_s_aabb=new C$Tzte(),C$TzX.SolveBarrier_s_va=new C$Tzj(),C$TzX.SolveBarrier_s_vb=new C$Tzj(),C$TzX.SolveBarrier_s_pba=new C$Tzj(),C$TzX.SolveBarrier_s_vba=new C$Tzj(),C$TzX.SolveBarrier_s_vc=new C$Tzj(),C$TzX.SolveBarrier_s_pca=new C$Tzj(),C$TzX.SolveBarrier_s_vca=new C$Tzj(),C$TzX.SolveBarrier_s_qba=new C$Tzj(),C$TzX.SolveBarrier_s_qca=new C$Tzj(),C$TzX.SolveBarrier_s_dv=new C$Tzj(),C$TzX.SolveBarrier_s_f=new C$Tzj(),C$TzX.SolvePressure_s_f=new C$Tzj(),C$TzX.SolveDamping_s_v=new C$Tzj(),C$TzX.SolveDamping_s_f=new C$Tzj(),C$TzX.SolveRigidDamping_s_t0=new C$Tzj(),C$TzX.SolveRigidDamping_s_t1=new C$Tzj(),C$TzX.SolveRigidDamping_s_p=new C$Tzj(),C$TzX.SolveRigidDamping_s_v=new C$Tzj(),C$TzX.SolveExtraDamping_s_v=new C$Tzj(),C$TzX.SolveExtraDamping_s_f=new C$Tzj(),C$TzX.SolveRigid_s_position=new C$Tzj(),C$TzX.SolveRigid_s_rotation=new C$TzB(),C$TzX.SolveRigid_s_transform=new C$TzR(),C$TzX.SolveRigid_s_velocityTransform=new C$TzR(),C$TzX.SolveElastic_s_pa=new C$Tzj(),C$TzX.SolveElastic_s_pb=new C$Tzj(),C$TzX.SolveElastic_s_pc=new C$Tzj(),C$TzX.SolveElastic_s_r=new C$TzB(),C$TzX.SolveElastic_s_t0=new C$Tzj(),C$TzX.SolveSpring_s_pa=new C$Tzj(),C$TzX.SolveSpring_s_pb=new C$Tzj(),C$TzX.SolveSpring_s_d=new C$Tzj(),C$TzX.SolveSpring_s_f=new C$Tzj(),C$TzX.SolveTensile_s_weightedNormal=new C$Tzj(),C$TzX.SolveTensile_s_s=new C$Tzj(),C$TzX.SolveTensile_s_f=new C$Tzj(),C$TzX.SolveViscous_s_v=new C$Tzj(),C$TzX.SolveViscous_s_f=new C$Tzj(),C$TzX.SolveRepulsive_s_f=new C$Tzj(),C$TzX.SolvePowder_s_f=new C$Tzj(),C$TzX.SolveSolid_s_f=new C$Tzj(),C$TzX.RemoveSpuriousBodyContacts_s_n=new C$Tzj(),C$TzX.RemoveSpuriousBodyContacts_s_pos=new C$Tzj(),C$TzX.RemoveSpuriousBodyContacts_s_normal=new C$Tzj(),C$TzX),function(C$Tz_){C$Tz_.UserOverridableBuffer=function(){this.data=null,this.userSuppliedCapacity=0;},C$Tze.CompareProxyProxy=function(C$Tzt,C$Tze){return C$Tzt.tag<C$Tze.tag;},C$Tze.CompareTagProxy=function(C$Tzt,C$Tze){return C$Tzt<C$Tze.tag;},C$Tze.CompareProxyTag=function(C$Tzt,C$Tze){return C$Tzt.tag<C$Tze;};var C$Tzt=C$Tze;function C$Tze(){this.index=-1,this.tag=0;}function C$Tzl(C$Tzt,C$Tze,C$Tzi,C$Tzn,C$Tzr){this.m_system=C$Tzt,this.m_xLower=(C$Tze&C$Tz_.xMask)>>>0,this.m_xUpper=(C$Tzi&C$Tz_.xMask)>>>0,this.m_yLower=(C$Tze&C$Tz_.yMask)>>>0,this.m_yUpper=(C$Tzi&C$Tz_.yMask)>>>0,this.m_first=C$Tzn,this.m_last=C$Tzr;}C$Tz_.Proxy=C$Tzt,C$Tzl.prototype.GetNext=function(){for(;this.m_first<this.m_last;){var C$Tzt=(this.m_system.m_proxyBuffer.data[this.m_first].tag&C$Tz_.xMask)>>>0;if(C$Tzt>=this.m_xLower&&C$Tzt<=this.m_xUpper)return this.m_system.m_proxyBuffer.data[this.m_first++].index;this.m_first++;}return-1;},C$Tz_.InsideBoundsEnumerator=C$Tzl;C$Tz_.ParticleListNode=function(){this.next=null,this.count=0,this.index=0;},C$Tzi.prototype.Allocate=function(C$Tzt,C$Tze){return C$Tze;},C$Tzi.prototype.Clear=function(){},C$Tzi.prototype.GetCount=function(){return 0;},C$Tzi.prototype.Invalidate=function(C$Tzt){},C$Tzi.prototype.GetValidBuffer=function(){return[];},C$Tzi.prototype.GetBuffer=function(){return[];},C$Tzi.prototype.SetCount=function(C$Tzt){};C$Tzt=C$Tzi;function C$Tzi(){}C$Tz_.FixedSetAllocator=C$Tzt;C$Tz_.FixtureParticle=function(C$Tzt,C$Tze){this.second=-1,this.first=C$Tzt,this.second=C$Tze;},C$TzDi(C$Tzn,C$Tzh=C$Tz_.FixedSetAllocator),C$Tzn.prototype.Initialize=function(C$Tzt,C$Tze){},C$Tzn.prototype.Find=function(C$Tzt){return-1;};var C$Tzh,C$Tzt=C$Tzn;function C$Tzn(){return null!==C$Tzh&&C$Tzh.apply(this,arguments)||this;}C$Tz_.FixtureParticleSet=C$Tzt;C$Tz_.ParticlePair=function(C$Tzt,C$Tze){this.first=-1,this.second=-1,this.first=C$Tzt,this.second=C$Tze;},C$TzDi(C$Tzr,C$Tzu=C$Tz_.FixedSetAllocator),C$Tzr.prototype.Initialize=function(C$Tzt,C$Tze){},C$Tzr.prototype.Find=function(C$Tzt){return-1;};var C$Tzu,C$Tzt=C$Tzr;function C$Tzr(){return null!==C$Tzu&&C$Tzu.apply(this,arguments)||this;}function C$Tzd(){}C$Tz_.b2ParticlePairSet=C$Tzt,C$Tzd.prototype.IsNecessary=function(C$Tzt){return!0;},C$Tzd.prototype.ShouldCreatePair=function(C$Tzt,C$Tze){return!0;},C$Tzd.prototype.ShouldCreateTriad=function(C$Tzt,C$Tze,C$Tzi){return!0;},C$Tz_.ConnectionFilter=C$Tzd;C$TzDi(C$Tzs,C$Tzf=C$Tzns),C$Tzs.prototype.ReportFixture=function(C$Tzt){return!1;},C$Tzs.prototype.ReportParticle=function(C$Tzt,C$Tze){if(C$Tzt!==this.m_system)return!1;if(!this.m_system.m_positionBuffer.data)throw new Error();return this.m_shape.TestPoint(this.m_xf,this.m_system.m_positionBuffer.data[C$Tze])&&(this.m_system.DestroyParticle(C$Tze,this.m_callDestructionListener),this.m_destroyed++),!0;},C$Tzs.prototype.Destroyed=function(){return this.m_destroyed;};var C$Tzf,C$Tzt=C$Tzs;function C$Tzs(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr=C$Tzf.call(this)||this;return C$Tzr.m_callDestructionListener=!1,C$Tzr.m_destroyed=0,C$Tzr.m_system=C$Tzt,C$Tzr.m_shape=C$Tze,C$Tzr.m_xf=C$Tzi,C$Tzr.m_callDestructionListener=C$Tzn,C$Tzr.m_destroyed=0,C$Tzr;}C$Tz_.DestroyParticlesInShapeCallback=C$Tzt;C$TzDi(C$Tzm,C$Tzp=C$Tz_.ConnectionFilter),C$Tzm.prototype.ShouldCreatePair=function(C$Tzt,C$Tze){return C$Tzt<this.m_threshold&&this.m_threshold<=C$Tze||C$Tze<this.m_threshold&&this.m_threshold<=C$Tzt;},C$Tzm.prototype.ShouldCreateTriad=function(C$Tzt,C$Tze,C$Tzi){return(C$Tzt<this.m_threshold||C$Tze<this.m_threshold||C$Tzi<this.m_threshold)&&(this.m_threshold<=C$Tzt||this.m_threshold<=C$Tze||this.m_threshold<=C$Tzi);};var C$Tzp,C$Tzt=C$Tzm;function C$Tzm(C$Tzt){var C$Tze=C$Tzp.call(this)||this;return C$Tze.m_threshold=0,C$Tze.m_threshold=C$Tzt,C$Tze;}C$Tz_.JoinParticleGroupsFilter=C$Tzt;C$TzDi(C$Tzo,C$Tzy=C$TzBi),C$Tzo.prototype.Clone=function(){throw new Error();},C$Tzo.prototype.GetChildCount=function(){return 1;},C$Tzo.prototype.TestPoint=function(C$Tzt,C$Tze){for(var C$Tzi=0;C$Tzi<this.m_shapeCount;C$Tzi++)if(this.m_shapes[C$Tzi].TestPoint(C$Tzt,C$Tze))return!0;return!1;},C$Tzo.prototype.ComputeDistance=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return 0;},C$Tzo.prototype.RayCast=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return!1;},C$Tzo.prototype.ComputeAABB=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=new C$Tzte();C$Tzt.lowerBound.x=+C$TzP,C$Tzt.lowerBound.y=+C$TzP,C$Tzt.upperBound.x=-C$TzP,C$Tzt.upperBound.y=-C$TzP;for(var C$Tzr=0;C$Tzr<this.m_shapeCount;C$Tzr++)for(var C$Tzs=this.m_shapes[C$Tzr].GetChildCount(),C$Tzo=0;C$Tzo<C$Tzs;C$Tzo++){var C$Tza=C$Tzn;this.m_shapes[C$Tzr].ComputeAABB(C$Tza,C$Tze,C$Tzo),C$Tzt.Combine1(C$Tza);}},C$Tzo.prototype.ComputeMass=function(C$Tzt,C$Tze){},C$Tzo.prototype.SetupDistanceProxy=function(C$Tzt,C$Tze){},C$Tzo.prototype.ComputeSubmergedArea=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return 0;},C$Tzo.prototype.Dump=function(C$Tzt){};var C$Tzy,C$Tzt=C$Tzo;function C$Tzo(C$Tzt,C$Tze){void 0===C$Tze&&(C$Tze=C$Tzt.length);var C$Tzi=C$Tzy.call(this,C$TzH.b2ShapeType.e_unknown,0)||this;return C$Tzi.m_shapeCount=0,C$Tzi.m_shapes=C$Tzt,C$Tzi.m_shapeCount=C$Tze,C$Tzi;}C$Tz_.CompositeShape=C$Tzt;C$TzDi(C$Tzv,C$Tzg=C$Tz_.ConnectionFilter),C$Tzv.prototype.IsNecessary=function(C$Tzt){if(!this.m_flagsBuffer.data)throw new Error();return 0!=(this.m_flagsBuffer.data[C$Tzt]&C$TzH.b2ParticleFlag.b2_reactiveParticle);};var C$Tzg,C$Tzt=C$Tzv;function C$Tzv(C$Tzt){var C$Tze=C$Tzg.call(this)||this;return C$Tze.m_flagsBuffer=C$Tzt,C$Tze;}C$Tz_.ReactiveFilter=C$Tzt;C$TzDi(C$Tza,C$Tzx=C$Tzeo),C$Tza.prototype.ShouldCollideFixtureParticle=function(C$Tzt,C$Tze,C$Tzi){if(this.m_contactFilter&&this.m_system.GetFlagsBuffer()[C$Tzi]&C$TzH.b2ParticleFlag.b2_fixtureContactFilterParticle)return this.m_contactFilter.ShouldCollideFixtureParticle(C$Tzt,this.m_system,C$Tzi);return!0;},C$Tza.prototype.ReportFixtureAndParticle=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tz_.UpdateBodyContactsCallback.ReportFixtureAndParticle_s_n,C$Tzr=C$Tz_.UpdateBodyContactsCallback.ReportFixtureAndParticle_s_rp;if(!this.m_system.m_flagsBuffer.data)throw new Error();if(!this.m_system.m_positionBuffer.data)throw new Error();var C$Tzs,C$Tzh,C$Tzo,C$Tza,C$Tzc,C$Tzl=this.m_system.m_positionBuffer.data[C$Tzi],C$Tze=C$Tzt.ComputeDistance(C$Tzl,C$Tzn,C$Tze);C$Tze<this.m_system.m_particleDiameter&&this.ShouldCollideFixtureParticle(C$Tzt,this.m_system,C$Tzi)&&(C$Tza=(C$Tzs=C$Tzt.GetBody()).GetWorldCenter(),C$Tzh=0<(C$Tzo=C$Tzs.GetMass())?1/C$Tzo:0,C$Tzo=0<(C$Tzo=C$Tzs.GetInertia()-C$Tzo*C$Tzs.GetLocalCenter().LengthSquared())?1/C$Tzo:0,C$Tzc=this.m_system.m_flagsBuffer.data[C$Tzi]&C$TzH.b2ParticleFlag.b2_wallParticle?0:this.m_system.GetParticleInvMass(),C$Tzl=C$Tzj.SubVV(C$Tzl,C$Tza,C$Tzr),C$Tzr=C$Tzc+C$Tzh+C$Tzo*(C$Tza=C$Tzj.CrossVV(C$Tzl,C$Tzn))*C$Tza,(C$Tzc=this.m_system.m_bodyContactBuffer.data[this.m_system.m_bodyContactBuffer.Append()]).index=C$Tzi,C$Tzc.body=C$Tzs,C$Tzc.fixture=C$Tzt,C$Tzc.weight=1-C$Tze*this.m_system.m_inverseDiameter,C$Tzc.normal.Copy(C$Tzn.SelfNeg()),C$Tzc.mass=0<C$Tzr?1/C$Tzr:0,this.m_system.DetectStuckParticle(C$Tzi));},C$Tza.ReportFixtureAndParticle_s_n=new C$Tzj(),C$Tza.ReportFixtureAndParticle_s_rp=new C$Tzj();var C$Tzx,C$Tzt=C$Tza;function C$Tza(C$Tzt,C$Tze){C$Tzt=C$Tzx.call(this,C$Tzt)||this;return C$Tzt.m_contactFilter=C$Tze,C$Tzt;}C$Tz_.UpdateBodyContactsCallback=C$Tzt;C$TzDi(C$Tzc,C$Tzb=C$Tzeo),C$Tzc.prototype.ReportFixtureAndParticle=function(C$Tzt,C$Tze,C$Tzi){var C$Tzn=C$Tz_.SolveCollisionCallback.ReportFixtureAndParticle_s_p1,C$Tzr=C$Tz_.SolveCollisionCallback.ReportFixtureAndParticle_s_output,C$Tzs=C$Tz_.SolveCollisionCallback.ReportFixtureAndParticle_s_input,C$Tzo=C$Tz_.SolveCollisionCallback.ReportFixtureAndParticle_s_p,C$Tzh=C$Tz_.SolveCollisionCallback.ReportFixtureAndParticle_s_v,C$Tzu=C$Tz_.SolveCollisionCallback.ReportFixtureAndParticle_s_f,C$Tza=C$Tzt.GetBody();if(!this.m_system.m_positionBuffer.data)throw new Error();if(!this.m_system.m_velocityBuffer.data)throw new Error();var C$Tzc=this.m_system.m_positionBuffer.data[C$Tzi],C$Tzl=this.m_system.m_velocityBuffer.data[C$Tzi];0===this.m_system.m_iterationIndex?(C$Tzn=C$TzR.MulTXV(C$Tza.m_xf0,C$Tzc,C$Tzn),C$Tzt.GetShape().GetType()===C$TzH.b2ShapeType.e_circleShape&&(C$Tzn.SelfSub(C$Tza.GetLocalCenter()),C$TzB.MulRV(C$Tza.m_xf0.q,C$Tzn,C$Tzn),C$TzB.MulTRV(C$Tza.m_xf.q,C$Tzn,C$Tzn),C$Tzn.SelfAdd(C$Tza.GetLocalCenter())),C$TzR.MulXV(C$Tza.m_xf,C$Tzn,C$Tzs.p1)):C$Tzs.p1.Copy(C$Tzc),C$Tzj.AddVMulSV(C$Tzc,this.m_step.dt,C$Tzl,C$Tzs.p2),C$Tzs.maxFraction=1,C$Tzt.RayCast(C$Tzr,C$Tzs,C$Tze)&&(C$Tza=C$Tzr.normal,(C$Tzn=C$Tzo).x=(1-C$Tzr.fraction)*C$Tzs.p1.x+C$Tzr.fraction*C$Tzs.p2.x+.008*C$Tza.x,C$Tzn.y=(1-C$Tzr.fraction)*C$Tzs.p1.y+C$Tzr.fraction*C$Tzs.p2.y+.008*C$Tza.y,(C$Tzt=C$Tzh).x=this.m_step.inv_dt*(C$Tzn.x-C$Tzc.x),C$Tzt.y=this.m_step.inv_dt*(C$Tzn.y-C$Tzc.y),this.m_system.m_velocityBuffer.data[C$Tzi].Copy(C$Tzt),(C$Tze=C$Tzu).x=this.m_step.inv_dt*this.m_system.GetParticleMass()*(C$Tzl.x-C$Tzt.x),C$Tze.y=this.m_step.inv_dt*this.m_system.GetParticleMass()*(C$Tzl.y-C$Tzt.y),this.m_system.ParticleApplyForce(C$Tzi,C$Tze));},C$Tzc.prototype.ReportParticle=function(C$Tzt,C$Tze){return!1;},C$Tzc.ReportFixtureAndParticle_s_p1=new C$Tzj(),C$Tzc.ReportFixtureAndParticle_s_output=new C$TzQt(),C$Tzc.ReportFixtureAndParticle_s_input=new C$TzZt(),C$Tzc.ReportFixtureAndParticle_s_p=new C$Tzj(),C$Tzc.ReportFixtureAndParticle_s_v=new C$Tzj(),C$Tzc.ReportFixtureAndParticle_s_f=new C$Tzj();var C$Tzb,C$Tzt=C$Tzc;function C$Tzc(C$Tzt,C$Tze){C$Tzt=C$Tzb.call(this,C$Tzt)||this;return C$Tzt.m_step=C$Tze,C$Tzt;}C$Tz_.SolveCollisionCallback=C$Tzt;}(C$TzH.b2ParticleSystem||(C$TzH.b2ParticleSystem={}));C$TzE.prototype.SetDestructionListener=function(C$Tzt){this.m_destructionListener=C$Tzt;},C$TzE.prototype.SetContactFilter=function(C$Tzt){this.m_contactManager.m_contactFilter=C$Tzt;},C$TzE.prototype.SetContactListener=function(C$Tzt){this.m_contactManager.m_contactListener=C$Tzt;},C$TzE.prototype.SetDebugDraw=function(C$Tzt){this.m_debugDraw=C$Tzt;},C$TzE.prototype.CreateBody=function(C$Tzt){if(void 0===C$Tzt&&(C$Tzt={}),this.IsLocked())throw new Error();C$Tzt=new C$TzZi(C$Tzt,this);return C$Tzt.m_prev=null,C$Tzt.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=C$Tzt),this.m_bodyList=C$Tzt,++this.m_bodyCount,C$Tzt;},C$TzE.prototype.DestroyBody=function(C$Tzt){if(this.IsLocked())throw new Error();for(var C$Tze=C$Tzt.m_jointList;C$Tze;){var C$Tzi=C$Tze,C$Tze=C$Tze.next;this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(C$Tzi.joint),this.DestroyJoint(C$Tzi.joint),C$Tzt.m_jointList=C$Tze;}C$Tzt.m_jointList=null;for(var C$Tzn=C$Tzt.m_controllerList;C$Tzn;){var C$Tzr=C$Tzn,C$Tzn=C$Tzn.nextController;C$Tzr.controller.RemoveBody(C$Tzt);}for(var C$Tzs=C$Tzt.m_contactList;C$Tzs;){var C$Tzo=C$Tzs,C$Tzs=C$Tzs.next;this.m_contactManager.Destroy(C$Tzo.contact);}C$Tzt.m_contactList=null;for(var C$Tza=C$Tzt.m_fixtureList;C$Tza;){var C$Tzc=C$Tza,C$Tza=C$Tza.m_next;this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(C$Tzc),C$Tzc.DestroyProxies(),C$Tzc.Destroy(),C$Tzt.m_fixtureList=C$Tza,--C$Tzt.m_fixtureCount;}C$Tzt.m_fixtureList=null,C$Tzt.m_fixtureCount=0,C$Tzt.m_prev&&(C$Tzt.m_prev.m_next=C$Tzt.m_next),C$Tzt.m_next&&(C$Tzt.m_next.m_prev=C$Tzt.m_prev),C$Tzt===this.m_bodyList&&(this.m_bodyList=C$Tzt.m_next),--this.m_bodyCount;},C$TzE._Joint_Create=function(C$Tzt,C$Tze){switch(C$Tzt.type){case C$TzH.b2JointType.e_distanceJoint:return new C$Tzan(C$Tzt);case C$TzH.b2JointType.e_mouseJoint:return new C$TzFn(C$Tzt);case C$TzH.b2JointType.e_prismaticJoint:return new C$TzWn(C$Tzt);case C$TzH.b2JointType.e_revoluteJoint:return new C$Tzer(C$Tzt);case C$TzH.b2JointType.e_pulleyJoint:return new C$TzJn(C$Tzt);case C$TzH.b2JointType.e_gearJoint:return new C$TzTn(C$Tzt);case C$TzH.b2JointType.e_wheelJoint:return new C$Tzvr(C$Tzt);case C$TzH.b2JointType.e_weldJoint:return new C$Tzdr(C$Tzt);case C$TzH.b2JointType.e_frictionJoint:return new C$Tzvn(C$Tzt);case C$TzH.b2JointType.e_ropeJoint:return new C$Tzar(C$Tzt);case C$TzH.b2JointType.e_motorJoint:return new C$TzRn(C$Tzt);case C$TzH.b2JointType.e_areaJoint:return new C$Tzdn(C$Tzt);}throw new Error();},C$TzE._Joint_Destroy=function(C$Tzt,C$Tze){},C$TzE.prototype.CreateJoint=function(C$Tzt){if(this.IsLocked())throw new Error();var C$Tze=C$TzE._Joint_Create(C$Tzt,null),C$Tzi=(C$Tze.m_prev=null,C$Tze.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=C$Tze),this.m_jointList=C$Tze,++this.m_jointCount,C$Tze.m_edgeA.prev=null,C$Tze.m_edgeA.next=C$Tze.m_bodyA.m_jointList,C$Tze.m_bodyA.m_jointList&&(C$Tze.m_bodyA.m_jointList.prev=C$Tze.m_edgeA),C$Tze.m_bodyA.m_jointList=C$Tze.m_edgeA,C$Tze.m_edgeB.prev=null,C$Tze.m_edgeB.next=C$Tze.m_bodyB.m_jointList,C$Tze.m_bodyB.m_jointList&&(C$Tze.m_bodyB.m_jointList.prev=C$Tze.m_edgeB),C$Tze.m_bodyB.m_jointList=C$Tze.m_edgeB,C$Tzt.bodyA),C$Tzn=C$Tzt.bodyB;if(!C$Tzt.collideConnected)for(var C$Tzr=C$Tzn.GetContactList();C$Tzr;)C$Tzr.other===C$Tzi&&C$Tzr.contact.FlagForFiltering(),C$Tzr=C$Tzr.next;return C$Tze;},C$TzE.prototype.DestroyJoint=function(C$Tzt){if(this.IsLocked())throw new Error();var C$Tze=C$Tzt.m_collideConnected,C$Tzi=(C$Tzt.m_prev&&(C$Tzt.m_prev.m_next=C$Tzt.m_next),C$Tzt.m_next&&(C$Tzt.m_next.m_prev=C$Tzt.m_prev),C$Tzt===this.m_jointList&&(this.m_jointList=C$Tzt.m_next),C$Tzt.m_bodyA),C$Tzn=C$Tzt.m_bodyB;if(C$Tzi.SetAwake(!0),C$Tzn.SetAwake(!0),C$Tzt.m_edgeA.prev&&(C$Tzt.m_edgeA.prev.next=C$Tzt.m_edgeA.next),C$Tzt.m_edgeA.next&&(C$Tzt.m_edgeA.next.prev=C$Tzt.m_edgeA.prev),C$Tzt.m_edgeA===C$Tzi.m_jointList&&(C$Tzi.m_jointList=C$Tzt.m_edgeA.next),C$Tzt.m_edgeA.prev=null,C$Tzt.m_edgeA.next=null,C$Tzt.m_edgeB.prev&&(C$Tzt.m_edgeB.prev.next=C$Tzt.m_edgeB.next),C$Tzt.m_edgeB.next&&(C$Tzt.m_edgeB.next.prev=C$Tzt.m_edgeB.prev),C$Tzt.m_edgeB===C$Tzn.m_jointList&&(C$Tzn.m_jointList=C$Tzt.m_edgeB.next),C$Tzt.m_edgeB.prev=null,C$Tzt.m_edgeB.next=null,C$TzE._Joint_Destroy(C$Tzt,null),--this.m_jointCount,!C$Tze)for(var C$Tzr=C$Tzn.GetContactList();C$Tzr;)C$Tzr.other===C$Tzi&&C$Tzr.contact.FlagForFiltering(),C$Tzr=C$Tzr.next;},C$TzE.prototype.CreateParticleSystem=function(C$Tzt){if(this.IsLocked())throw new Error();C$Tzt=new C$TzH.b2ParticleSystem(C$Tzt,this);return C$Tzt.m_prev=null,C$Tzt.m_next=this.m_particleSystemList,this.m_particleSystemList&&(this.m_particleSystemList.m_prev=C$Tzt),this.m_particleSystemList=C$Tzt;},C$TzE.prototype.DestroyParticleSystem=function(C$Tzt){if(this.IsLocked())throw new Error();C$Tzt.m_prev&&(C$Tzt.m_prev.m_next=C$Tzt.m_next),C$Tzt.m_next&&(C$Tzt.m_next.m_prev=C$Tzt.m_prev),C$Tzt===this.m_particleSystemList&&(this.m_particleSystemList=C$Tzt.m_next);},C$TzE.prototype.CalculateReasonableParticleIterations=function(C$Tzt){return null===this.m_particleSystemList?1:C$TzPs(this.m_gravity.Length(),function(C$Tzt){for(var C$Tze=C$TzP,C$Tzi=C$Tzt.GetParticleSystemList();null!==C$Tzi;C$Tzi=C$Tzi.m_next)C$Tze=C$TzL(C$Tze,C$Tzi.GetRadius());return C$Tze;}(this),C$Tzt);},C$TzE.prototype.Step=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){void 0===C$Tzn&&(C$Tzn=this.CalculateReasonableParticleIterations(C$Tzt));var C$Tzr=C$TzE.Step_s_stepTimer.Reset(),C$Tzs=(this.m_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_newFixture=!1),this.m_locked=!0,C$TzE.Step_s_step),C$Tze=(C$Tzs.dt=C$Tzt,C$Tzs.velocityIterations=C$Tze,C$Tzs.positionIterations=C$Tzi,C$Tzs.particleIterations=C$Tzn,C$Tzs.inv_dt=0<C$Tzt?1/C$Tzt:0,C$Tzs.dtRatio=this.m_inv_dt0*C$Tzt,C$Tzs.warmStarting=this.m_warmStarting,C$TzE.Step_s_timer.Reset());if(this.m_contactManager.Collide(),this.m_profile.collide=C$Tze.GetMilliseconds(),this.m_stepComplete&&0<C$Tzs.dt){for(var C$Tzi=C$TzE.Step_s_timer.Reset(),C$Tzo=this.m_particleSystemList;C$Tzo;C$Tzo=C$Tzo.m_next)C$Tzo.Solve(C$Tzs);this.Solve(C$Tzs),this.m_profile.solve=C$Tzi.GetMilliseconds();}this.m_continuousPhysics&&0<C$Tzs.dt&&(C$Tzn=C$TzE.Step_s_timer.Reset(),this.SolveTOI(C$Tzs),this.m_profile.solveTOI=C$Tzn.GetMilliseconds()),0<C$Tzs.dt&&(this.m_inv_dt0=C$Tzs.inv_dt),this.m_clearForces&&this.ClearForces(),this.m_locked=!1,this.m_profile.step=C$Tzr.GetMilliseconds();},C$TzE.prototype.ClearForces=function(){for(var C$Tzt=this.m_bodyList;C$Tzt;C$Tzt=C$Tzt.m_next)C$Tzt.m_force.SetZero(),C$Tzt.m_torque=0;},C$TzE.prototype.DrawParticleSystem=function(C$Tzt){var C$Tze,C$Tzi,C$Tzn;null===this.m_debugDraw||(C$Tze=C$Tzt.GetParticleCount())&&(C$Tzi=C$Tzt.GetRadius(),C$Tzn=C$Tzt.GetPositionBuffer(),C$Tzt.m_colorBuffer.data?(C$Tzt=C$Tzt.GetColorBuffer(),this.m_debugDraw.DrawParticles(C$Tzn,C$Tzi,C$Tzt,C$Tze)):this.m_debugDraw.DrawParticles(C$Tzn,C$Tzi,null,C$Tze));},C$TzE.prototype.DrawDebugData=function(){if(null!==this.m_debugDraw){var C$Tzt=this.m_debugDraw.GetFlags(),C$Tze=C$TzE.DrawDebugData_s_color.SetRGB(0,0,0);if(C$Tzt&C$TzH.b2DrawFlags.e_shapeBit)for(var C$Tzi=this.m_bodyList;C$Tzi;C$Tzi=C$Tzi.m_next){var C$Tzn=C$Tzi.m_xf;this.m_debugDraw.PushTransform(C$Tzn);for(var C$Tzr=C$Tzi.GetFixtureList();C$Tzr;C$Tzr=C$Tzr.m_next)C$Tzi.IsActive()?C$Tzi.GetType()===C$TzH.b2BodyType.b2_staticBody?C$Tze.SetRGB(.5,.9,.5):C$Tzi.GetType()===C$TzH.b2BodyType.b2_kinematicBody?C$Tze.SetRGB(.5,.5,.9):C$Tzi.IsAwake()?C$Tze.SetRGB(.9,.7,.7):C$Tze.SetRGB(.6,.6,.6):C$Tze.SetRGB(.5,.5,.3),this.DrawShape(C$Tzr,C$Tze);this.m_debugDraw.PopTransform(C$Tzn);}if(C$Tzt&C$TzH.b2DrawFlags.e_particleBit)for(var C$Tzs=this.m_particleSystemList;C$Tzs;C$Tzs=C$Tzs.m_next)this.DrawParticleSystem(C$Tzs);if(C$Tzt&C$TzH.b2DrawFlags.e_jointBit)for(var C$Tzo=this.m_jointList;C$Tzo;C$Tzo=C$Tzo.m_next)this.DrawJoint(C$Tzo);if(C$Tzt&C$TzH.b2DrawFlags.e_aabbBit){C$Tze.SetRGB(.9,.3,.9);for(var C$Tza=C$TzE.DrawDebugData_s_vs,C$Tzi=this.m_bodyList;C$Tzi;C$Tzi=C$Tzi.m_next)if(C$Tzi.IsActive())for(C$Tzr=C$Tzi.GetFixtureList();C$Tzr;C$Tzr=C$Tzr.m_next)for(var C$Tzh=0;C$Tzh<C$Tzr.m_proxyCount;++C$Tzh){var C$Tzc=C$Tzr.m_proxies[C$Tzh].treeNode.aabb;C$Tza[0].Set(C$Tzc.lowerBound.x,C$Tzc.lowerBound.y),C$Tza[1].Set(C$Tzc.upperBound.x,C$Tzc.lowerBound.y),C$Tza[2].Set(C$Tzc.upperBound.x,C$Tzc.upperBound.y),C$Tza[3].Set(C$Tzc.lowerBound.x,C$Tzc.upperBound.y),this.m_debugDraw.DrawPolygon(C$Tza,4,C$Tze);}}if(C$Tzt&C$TzH.b2DrawFlags.e_centerOfMassBit)for(C$Tzi=this.m_bodyList;C$Tzi;C$Tzi=C$Tzi.m_next)(C$Tzn=C$TzE.DrawDebugData_s_xf).q.Copy(C$Tzi.m_xf.q),C$Tzn.p.Copy(C$Tzi.GetWorldCenter()),this.m_debugDraw.DrawTransform(C$Tzn);if(C$Tzt&C$TzH.b2DrawFlags.e_controllerBit)for(var C$Tzl=this.m_controllerList;C$Tzl;C$Tzl=C$Tzl.m_next)C$Tzl.Draw(this.m_debugDraw);}},C$TzE.prototype.QueryAABB=function(C$Tze,C$Tzt,C$Tzi){if(this.m_contactManager.m_broadPhase.Query(C$Tzt,function(C$Tzt){C$Tzt=C$Tzt.userData.fixture;return C$Tze?C$Tze.ReportFixture(C$Tzt):!C$Tzi||C$Tzi(C$Tzt);}),C$Tze instanceof C$Tzns)for(var C$Tzn=this.m_particleSystemList;C$Tzn;C$Tzn=C$Tzn.m_next)C$Tze.ShouldQueryParticleSystem(C$Tzn)&&C$Tzn.QueryAABB(C$Tze,C$Tzt);},C$TzE.prototype.QueryAllAABB=function(C$Tzt,C$Tze){return void 0===C$Tze&&(C$Tze=[]),this.QueryAABB(null,C$Tzt,function(C$Tzt){return C$Tze.push(C$Tzt),!0;}),C$Tze;},C$TzE.prototype.QueryPointAABB=function(C$Tze,C$Tzt,C$Tzi){if(this.m_contactManager.m_broadPhase.QueryPoint(C$Tzt,function(C$Tzt){C$Tzt=C$Tzt.userData.fixture;return C$Tze?C$Tze.ReportFixture(C$Tzt):!C$Tzi||C$Tzi(C$Tzt);}),C$Tze instanceof C$Tzns)for(var C$Tzn=this.m_particleSystemList;C$Tzn;C$Tzn=C$Tzn.m_next)C$Tze.ShouldQueryParticleSystem(C$Tzn)&&C$Tzn.QueryPointAABB(C$Tze,C$Tzt);},C$TzE.prototype.QueryAllPointAABB=function(C$Tzt,C$Tze){return void 0===C$Tze&&(C$Tze=[]),this.QueryPointAABB(null,C$Tzt,function(C$Tzt){return C$Tze.push(C$Tzt),!0;}),C$Tze;},C$TzE.prototype.QueryFixtureShape=function(C$Tzi,C$Tzn,C$Tzr,C$Tzs,C$Tzo){var C$Tzt=C$TzE.QueryFixtureShape_s_aabb;if(C$Tzn.ComputeAABB(C$Tzt,C$Tzs,C$Tzr),this.m_contactManager.m_broadPhase.Query(C$Tzt,function(C$Tzt){var C$Tzt=C$Tzt.userData,C$Tze=C$Tzt.fixture;if(C$Tzae(C$Tzn,C$Tzr,C$Tze.GetShape(),C$Tzt.childIndex,C$Tzs,C$Tze.GetBody().GetTransform())){if(C$Tzi)return C$Tzi.ReportFixture(C$Tze);if(C$Tzo)return C$Tzo(C$Tze);}return!0;}),C$Tzi instanceof C$Tzns)for(var C$Tze=this.m_particleSystemList;C$Tze;C$Tze=C$Tze.m_next)C$Tzi.ShouldQueryParticleSystem(C$Tze)&&C$Tze.QueryAABB(C$Tzi,C$Tzt);},C$TzE.prototype.QueryAllFixtureShape=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return void 0===C$Tzn&&(C$Tzn=[]),this.QueryFixtureShape(null,C$Tzt,C$Tze,C$Tzi,function(C$Tzt){return C$Tzn.push(C$Tzt),!0;}),C$Tzn;},C$TzE.prototype.QueryFixturePoint=function(C$Tze,C$Tzi,C$Tzn){if(this.m_contactManager.m_broadPhase.QueryPoint(C$Tzi,function(C$Tzt){C$Tzt=C$Tzt.userData.fixture;if(C$Tzt.TestPoint(C$Tzi)){if(C$Tze)return C$Tze.ReportFixture(C$Tzt);if(C$Tzn)return C$Tzn(C$Tzt);}return!0;}),C$Tze)for(var C$Tzt=this.m_particleSystemList;C$Tzt;C$Tzt=C$Tzt.m_next)C$Tze.ShouldQueryParticleSystem(C$Tzt)&&C$Tzt.QueryPointAABB(C$Tze,C$Tzi);},C$TzE.prototype.QueryAllFixturePoint=function(C$Tzt,C$Tze){return void 0===C$Tze&&(C$Tze=[]),this.QueryFixturePoint(null,C$Tzt,function(C$Tzt){return C$Tze.push(C$Tzt),!0;}),C$Tze;},C$TzE.prototype.RayCast=function(C$Tzs,C$Tzo,C$Tza,C$Tzc){var C$Tzt=C$TzE.RayCast_s_input;if(C$Tzt.maxFraction=1,C$Tzt.p1.Copy(C$Tzo),C$Tzt.p2.Copy(C$Tza),this.m_contactManager.m_broadPhase.RayCast(C$Tzt,function(C$Tzt,C$Tze){var C$Tze=C$Tze.userData,C$Tzi=C$Tze.fixture,C$Tze=C$Tze.childIndex,C$Tzn=C$TzE.RayCast_s_output;if(C$Tzi.RayCast(C$Tzn,C$Tzt,C$Tze)){var C$Tze=C$Tzn.fraction,C$Tzr=C$TzE.RayCast_s_point;if(C$Tzr.Set((1-C$Tze)*C$Tzo.x+C$Tze*C$Tza.x,(1-C$Tze)*C$Tzo.y+C$Tze*C$Tza.y),C$Tzs)return C$Tzs.ReportFixture(C$Tzi,C$Tzr,C$Tzn.normal,C$Tze);if(C$Tzc)return C$Tzc(C$Tzi,C$Tzr,C$Tzn.normal,C$Tze);}return C$Tzt.maxFraction;}),C$Tzs)for(var C$Tze=this.m_particleSystemList;C$Tze;C$Tze=C$Tze.m_next)C$Tzs.ShouldQueryParticleSystem(C$Tze)&&C$Tze.RayCast(C$Tzs,C$Tzo,C$Tza);},C$TzE.prototype.RayCastOne=function(C$Tzt,C$Tze){var C$Tzr=null,C$Tzs=1;return this.RayCast(null,C$Tzt,C$Tze,function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzn<C$Tzs&&(C$Tzs=C$Tzn,C$Tzr=C$Tzt),C$Tzs;}),C$Tzr;},C$TzE.prototype.RayCastAll=function(C$Tzt,C$Tze,C$Tzr){return void 0===C$Tzr&&(C$Tzr=[]),this.RayCast(null,C$Tzt,C$Tze,function(C$Tzt,C$Tze,C$Tzi,C$Tzn){return C$Tzr.push(C$Tzt),1;}),C$Tzr;},C$TzE.prototype.GetBodyList=function(){return this.m_bodyList;},C$TzE.prototype.GetJointList=function(){return this.m_jointList;},C$TzE.prototype.GetParticleSystemList=function(){return this.m_particleSystemList;},C$TzE.prototype.GetContactList=function(){return this.m_contactManager.m_contactList;},C$TzE.prototype.SetAllowSleeping=function(C$Tzt){if(C$Tzt!==this.m_allowSleep&&(this.m_allowSleep=C$Tzt,!this.m_allowSleep))for(var C$Tze=this.m_bodyList;C$Tze;C$Tze=C$Tze.m_next)C$Tze.SetAwake(!0);},C$TzE.prototype.GetAllowSleeping=function(){return this.m_allowSleep;},C$TzE.prototype.SetWarmStarting=function(C$Tzt){this.m_warmStarting=C$Tzt;},C$TzE.prototype.GetWarmStarting=function(){return this.m_warmStarting;},C$TzE.prototype.SetContinuousPhysics=function(C$Tzt){this.m_continuousPhysics=C$Tzt;},C$TzE.prototype.GetContinuousPhysics=function(){return this.m_continuousPhysics;},C$TzE.prototype.SetSubStepping=function(C$Tzt){this.m_subStepping=C$Tzt;},C$TzE.prototype.GetSubStepping=function(){return this.m_subStepping;},C$TzE.prototype.GetProxyCount=function(){return this.m_contactManager.m_broadPhase.GetProxyCount();},C$TzE.prototype.GetBodyCount=function(){return this.m_bodyCount;},C$TzE.prototype.GetJointCount=function(){return this.m_jointCount;},C$TzE.prototype.GetContactCount=function(){return this.m_contactManager.m_contactCount;},C$TzE.prototype.GetTreeHeight=function(){return this.m_contactManager.m_broadPhase.GetTreeHeight();},C$TzE.prototype.GetTreeBalance=function(){return this.m_contactManager.m_broadPhase.GetTreeBalance();},C$TzE.prototype.GetTreeQuality=function(){return this.m_contactManager.m_broadPhase.GetTreeQuality();},C$TzE.prototype.SetGravity=function(C$Tzt,C$Tze){if(void 0===C$Tze&&(C$Tze=!0),!C$Tzj.IsEqualToV(this.m_gravity,C$Tzt)&&(this.m_gravity.Copy(C$Tzt),C$Tze))for(var C$Tzi=this.m_bodyList;C$Tzi;C$Tzi=C$Tzi.m_next)C$Tzi.SetAwake(!0);},C$TzE.prototype.GetGravity=function(){return this.m_gravity;},C$TzE.prototype.IsLocked=function(){return this.m_locked;},C$TzE.prototype.SetAutoClearForces=function(C$Tzt){this.m_clearForces=C$Tzt;},C$TzE.prototype.GetAutoClearForces=function(){return this.m_clearForces;},C$TzE.prototype.ShiftOrigin=function(C$Tzt){if(this.IsLocked())throw new Error();for(var C$Tze=this.m_bodyList;C$Tze;C$Tze=C$Tze.m_next)C$Tze.m_xf.p.SelfSub(C$Tzt),C$Tze.m_sweep.c0.SelfSub(C$Tzt),C$Tze.m_sweep.c.SelfSub(C$Tzt);for(var C$Tzi=this.m_jointList;C$Tzi;C$Tzi=C$Tzi.m_next)C$Tzi.ShiftOrigin(C$Tzt);this.m_contactManager.m_broadPhase.ShiftOrigin(C$Tzt);},C$TzE.prototype.GetContactManager=function(){return this.m_contactManager;},C$TzE.prototype.GetProfile=function(){return this.m_profile;},C$TzE.prototype.Dump=function(C$Tzt){if(!this.m_locked){C$Tzt("const g: b2Vec2 = new b2Vec2(%.15f, %.15f);\n",this.m_gravity.x,this.m_gravity.y),C$Tzt("this.m_world.SetGravity(g);\n"),C$Tzt("const bodies: b2Body[] = [];\n"),C$Tzt("const joints: b2Joint[] = [];\n");for(var C$Tze=0,C$Tzi=this.m_bodyList;C$Tzi;C$Tzi=C$Tzi.m_next)C$Tzi.m_islandIndex=C$Tze,C$Tzi.Dump(C$Tzt),++C$Tze;for(var C$Tze=0,C$Tzn=this.m_jointList;C$Tzn;C$Tzn=C$Tzn.m_next)C$Tzn.m_index=C$Tze,++C$Tze;for(C$Tzn=this.m_jointList;C$Tzn;C$Tzn=C$Tzn.m_next)C$Tzn.m_type!==C$TzH.b2JointType.e_gearJoint&&(C$Tzt("{\n"),C$Tzn.Dump(C$Tzt),C$Tzt("}\n"));for(C$Tzn=this.m_jointList;C$Tzn;C$Tzn=C$Tzn.m_next)C$Tzn.m_type===C$TzH.b2JointType.e_gearJoint&&(C$Tzt("{\n"),C$Tzn.Dump(C$Tzt),C$Tzt("}\n"));}},C$TzE.prototype.DrawJoint=function(C$Tzt){if(null!==this.m_debugDraw){var C$Tze=C$Tzt.GetBodyA(),C$Tzi=C$Tzt.GetBodyB(),C$Tze=C$Tze.m_xf,C$Tzi=C$Tzi.m_xf,C$Tzn=C$Tze.p,C$Tzr=C$Tzi.p,C$Tzs=C$Tzt.GetAnchorA(C$TzE.DrawJoint_s_p1),C$Tzo=C$Tzt.GetAnchorB(C$TzE.DrawJoint_s_p2),C$Tza=C$TzE.DrawJoint_s_color.SetRGB(.5,.8,.8);switch(C$Tzt.m_type){case C$TzH.b2JointType.e_distanceJoint:this.m_debugDraw.DrawSegment(C$Tzs,C$Tzo,C$Tza);break;case C$TzH.b2JointType.e_pulleyJoint:var C$Tzc=C$Tzt,C$Tzl=C$Tzc.GetGroundAnchorA(),C$Tzc=C$Tzc.GetGroundAnchorB();this.m_debugDraw.DrawSegment(C$Tzl,C$Tzs,C$Tza),this.m_debugDraw.DrawSegment(C$Tzc,C$Tzo,C$Tza),this.m_debugDraw.DrawSegment(C$Tzl,C$Tzc,C$Tza);break;case C$TzH.b2JointType.e_mouseJoint:C$Tzl=C$TzE.DrawJoint_s_c;C$Tzl.Set(0,1,0),this.m_debugDraw.DrawPoint(C$Tzs,4,C$Tzl),this.m_debugDraw.DrawPoint(C$Tzo,4,C$Tzl),C$Tzl.Set(.8,.8,.8),this.m_debugDraw.DrawSegment(C$Tzs,C$Tzo,C$Tzl);break;default:this.m_debugDraw.DrawSegment(C$Tzn,C$Tzs,C$Tza),this.m_debugDraw.DrawSegment(C$Tzs,C$Tzo,C$Tza),this.m_debugDraw.DrawSegment(C$Tzr,C$Tzo,C$Tza);}}},C$TzE.prototype.DrawShape=function(C$Tzt,C$Tze){if(null!==this.m_debugDraw){var C$Tzi=C$Tzt.GetShape();switch(C$Tzi.m_type){case C$TzH.b2ShapeType.e_circleShape:var C$Tzn=C$Tzi.m_p,C$Tzr=C$Tzi.m_radius,C$Tzs=C$Tzj.UNITX;this.m_debugDraw.DrawSolidCircle(C$Tzn,C$Tzr,C$Tzs,C$Tze);break;case C$TzH.b2ShapeType.e_edgeShape:var C$Tzo=C$Tzi.m_vertex1,C$Tza=C$Tzi.m_vertex2;this.m_debugDraw.DrawSegment(C$Tzo,C$Tza,C$Tze);break;case C$TzH.b2ShapeType.e_chainShape:var C$Tzn=C$Tzi,C$Tzh=C$Tzn.m_count,C$Tzc=C$Tzn.m_vertices,C$Tzr=C$TzE.DrawShape_s_ghostColor.SetRGBA(.75*C$Tze.r,.75*C$Tze.g,.75*C$Tze.b,C$Tze.a),C$Tzo=C$Tzc[0];this.m_debugDraw.DrawPoint(C$Tzo,4,C$Tze),C$Tzn.m_hasPrevVertex&&(C$Tzs=C$Tzn.m_prevVertex,this.m_debugDraw.DrawSegment(C$Tzs,C$Tzo,C$Tzr),this.m_debugDraw.DrawCircle(C$Tzs,.1,C$Tzr));for(var C$Tzl=1;C$Tzl<C$Tzh;++C$Tzl){C$Tza=C$Tzc[C$Tzl];this.m_debugDraw.DrawSegment(C$Tzo,C$Tza,C$Tze),this.m_debugDraw.DrawPoint(C$Tza,4,C$Tze),C$Tzo=C$Tza;}C$Tzn.m_hasNextVertex&&(C$Tzs=C$Tzn.m_nextVertex,this.m_debugDraw.DrawSegment(C$Tzs,C$Tzo,C$Tzr),this.m_debugDraw.DrawCircle(C$Tzs,.1,C$Tzr));break;case C$TzH.b2ShapeType.e_polygonShape:C$Tzn=C$Tzi.m_count,C$Tzc=C$Tzi.m_vertices;this.m_debugDraw.DrawSolidPolygon(C$Tzc,C$Tzn,C$Tze);}}},C$TzE.prototype.Solve=function(C$Tzh){for(var C$Tzt=this.m_bodyList;C$Tzt;C$Tzt=C$Tzt.m_next)C$Tzt.m_xf0.Copy(C$Tzt.m_xf);for(var C$Tzu=this.m_controllerList;C$Tzu;C$Tzu=C$Tzu.m_next)C$Tzu.Step(C$Tzh);this.m_profile.solveInit=0,this.m_profile.solveVelocity=0,this.m_profile.solvePosition=0;var C$Tze=this.m_island;C$Tze.Initialize(this.m_bodyCount,this.m_contactManager.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener);for(C$Tzt=this.m_bodyList;C$Tzt;C$Tzt=C$Tzt.m_next)C$Tzt.m_islandFlag=!1;for(var C$Tz_=this.m_contactManager.m_contactList;C$Tz_;C$Tz_=C$Tz_.m_next)C$Tz_.m_islandFlag=!1;for(var C$Tzd=this.m_jointList;C$Tzd;C$Tzd=C$Tzd.m_next)C$Tzd.m_islandFlag=!1;for(var C$Tzi=this.s_stack,C$Tzn=this.m_bodyList;C$Tzn;C$Tzn=C$Tzn.m_next)if(!C$Tzn.m_islandFlag&&C$Tzn.IsAwake()&&C$Tzn.IsActive()&&C$Tzn.GetType()!==C$TzH.b2BodyType.b2_staticBody){C$Tze.Clear();var C$Tzr=0;for((C$Tzi[C$Tzr++]=C$Tzn).m_islandFlag=!0;0<C$Tzr;){if(!(C$Tzt=C$Tzi[--C$Tzr]))throw new Error();if(C$Tze.AddBody(C$Tzt),C$Tzt.m_awakeFlag=!0,C$Tzt.GetType()!==C$TzH.b2BodyType.b2_staticBody){for(var C$Tzs=C$Tzt.m_contactList;C$Tzs;C$Tzs=C$Tzs.next){var C$Tzo=C$Tzs.contact;if(!C$Tzo.m_islandFlag&&C$Tzo.IsEnabled()&&C$Tzo.IsTouching()){var C$Tzf=C$Tzo.m_fixtureA.m_isSensor,C$Tzp=C$Tzo.m_fixtureB.m_isSensor;if(!C$Tzf&&!C$Tzp){if(C$Tze.AddContact(C$Tzo),C$Tzo.m_islandFlag=!0,!(C$Tza=C$Tzs.other))throw new Error();C$Tza.m_islandFlag||((C$Tzi[C$Tzr++]=C$Tza).m_islandFlag=!0);}}}for(var C$Tza,C$Tzc=C$Tzt.m_jointList;C$Tzc;C$Tzc=C$Tzc.next)C$Tzc.joint.m_islandFlag||(C$Tza=C$Tzc.other).IsActive()&&(C$Tze.AddJoint(C$Tzc.joint),C$Tzc.joint.m_islandFlag=!0,C$Tza.m_islandFlag||((C$Tzi[C$Tzr++]=C$Tza).m_islandFlag=!0));}}var C$Tzm=new C$Tzls();C$Tze.Solve(C$Tzm,C$Tzh,this.m_gravity,this.m_allowSleep),this.m_profile.solveInit+=C$Tzm.solveInit,this.m_profile.solveVelocity+=C$Tzm.solveVelocity,this.m_profile.solvePosition+=C$Tzm.solvePosition;for(var C$Tzl=0;C$Tzl<C$Tze.m_bodyCount;++C$Tzl)(C$Tzt=C$Tze.m_bodies[C$Tzl]).GetType()===C$TzH.b2BodyType.b2_staticBody&&(C$Tzt.m_islandFlag=!1);}for(C$Tzl=0;C$Tzl<C$Tzi.length&&C$Tzi[C$Tzl];++C$Tzl)C$Tzi[C$Tzl]=null;for(var C$Tzy=new C$Tz$(),C$Tzt=this.m_bodyList;C$Tzt;C$Tzt=C$Tzt.m_next)C$Tzt.m_islandFlag&&C$Tzt.GetType()!==C$TzH.b2BodyType.b2_staticBody&&C$Tzt.SynchronizeFixtures();this.m_contactManager.FindNewContacts(),this.m_profile.broadphase=C$Tzy.GetMilliseconds();},C$TzE.prototype.SolveTOI=function(C$Tzh){var C$Tzt=this.m_island;if(C$Tzt.Initialize(64,32,0,null,this.m_contactManager.m_contactListener),this.m_stepComplete){for(var C$Tzu=this.m_bodyList;C$Tzu;C$Tzu=C$Tzu.m_next)C$Tzu.m_islandFlag=!1,C$Tzu.m_sweep.alpha0=0;for(var C$Tze=this.m_contactManager.m_contactList;C$Tze;C$Tze=C$Tze.m_next)C$Tze.m_toiFlag=!1,C$Tze.m_islandFlag=!1,C$Tze.m_toiCount=0,C$Tze.m_toi=1;}for(;;){for(var C$Tzi=null,C$Tz_=1,C$Tze=this.m_contactManager.m_contactList;C$Tze;C$Tze=C$Tze.m_next)if(C$Tze.IsEnabled()&&!(8<C$Tze.m_toiCount)){var C$Tzd=1;if(C$Tze.m_toiFlag)C$Tzd=C$Tze.m_toi;else{var C$Tzf=C$Tze.GetFixtureA(),C$Tzp=C$Tze.GetFixtureB();if(C$Tzf.IsSensor()||C$Tzp.IsSensor())continue;var C$Tzn=C$Tzf.GetBody(),C$Tzm=C$Tzp.GetBody(),C$Tzr=C$Tzn.m_type,C$Tzy=C$Tzm.m_type,C$Tzg=C$Tzn.IsAwake()&&C$Tzr!==C$TzH.b2BodyType.b2_staticBody,C$Tzs=C$Tzm.IsAwake()&&C$Tzy!==C$TzH.b2BodyType.b2_staticBody;if(!C$Tzg&&!C$Tzs)continue;C$Tzg=C$Tzn.IsBullet()||C$Tzr!==C$TzH.b2BodyType.b2_dynamicBody,C$Tzs=C$Tzm.IsBullet()||C$Tzy!==C$TzH.b2BodyType.b2_dynamicBody;if(!C$Tzg&&!C$Tzs)continue;C$Tzr=C$Tzn.m_sweep.alpha0,C$Tzy=(C$Tzn.m_sweep.alpha0<C$Tzm.m_sweep.alpha0?(C$Tzr=C$Tzm.m_sweep.alpha0,C$Tzn.m_sweep.Advance(C$Tzr)):C$Tzm.m_sweep.alpha0<C$Tzn.m_sweep.alpha0&&(C$Tzr=C$Tzn.m_sweep.alpha0,C$Tzm.m_sweep.Advance(C$Tzr)),C$Tze.GetChildIndexA()),C$Tzg=C$Tze.GetChildIndexB(),C$Tzs=C$TzE.SolveTOI_s_toi_input,C$Tzf=(C$Tzs.proxyA.SetShape(C$Tzf.GetShape(),C$Tzy),C$Tzs.proxyB.SetShape(C$Tzp.GetShape(),C$Tzg),C$Tzs.sweepA.Copy(C$Tzn.m_sweep),C$Tzs.sweepB.Copy(C$Tzm.m_sweep),C$Tzs.tMax=1,C$TzE.SolveTOI_s_toi_output),C$Tzy=(C$TzFe(C$Tzf,C$Tzs),C$Tzf.t),C$Tzd=C$Tzf.state===C$TzH.b2TOIOutputState.e_touching?C$TzL(C$Tzr+(1-C$Tzr)*C$Tzy,1):1;C$Tze.m_toi=C$Tzd,C$Tze.m_toiFlag=!0;}C$Tzd<C$Tz_&&(C$Tzi=C$Tze,C$Tz_=C$Tzd);}if(null===C$Tzi||1-10*C$TzM<C$Tz_){this.m_stepComplete=!0;break;}var C$Tzv=C$Tzi.GetFixtureA(),C$Tzx=C$Tzi.GetFixtureB(),C$Tzo=C$Tzv.GetBody(),C$Tza=C$Tzx.GetBody(),C$Tzv=C$TzE.SolveTOI_s_backup1.Copy(C$Tzo.m_sweep),C$Tzx=C$TzE.SolveTOI_s_backup2.Copy(C$Tza.m_sweep);if(C$Tzo.Advance(C$Tz_),C$Tza.Advance(C$Tz_),C$Tzi.Update(this.m_contactManager.m_contactListener),C$Tzi.m_toiFlag=!1,++C$Tzi.m_toiCount,C$Tzi.IsEnabled()&&C$Tzi.IsTouching()){C$Tzo.SetAwake(!0),C$Tza.SetAwake(!0),C$Tzt.Clear(),C$Tzt.AddBody(C$Tzo),C$Tzt.AddBody(C$Tza),C$Tzt.AddContact(C$Tzi),C$Tzo.m_islandFlag=!0,C$Tza.m_islandFlag=!0,C$Tzi.m_islandFlag=!0;for(var C$Tzb=0;C$Tzb<2;++C$Tzb)if((C$Tzw=0===C$Tzb?C$Tzo:C$Tza).m_type===C$TzH.b2BodyType.b2_dynamicBody)for(var C$Tzc=C$Tzw.m_contactList;C$Tzc&&C$Tzt.m_bodyCount!==C$Tzt.m_bodyCapacity&&C$Tzt.m_contactCount!==C$Tzt.m_contactCapacity;C$Tzc=C$Tzc.next){var C$Tzl,C$TzA,C$TzC,C$TzS=C$Tzc.contact;C$TzS.m_islandFlag||((C$Tzl=C$Tzc.other).m_type!==C$TzH.b2BodyType.b2_dynamicBody||C$Tzw.IsBullet()||C$Tzl.IsBullet())&&(C$TzC=C$TzS.m_fixtureA.m_isSensor,C$TzA=C$TzS.m_fixtureB.m_isSensor,C$TzC||C$TzA||(C$TzC=C$TzE.SolveTOI_s_backup.Copy(C$Tzl.m_sweep),C$Tzl.m_islandFlag||C$Tzl.Advance(C$Tz_),C$TzS.Update(this.m_contactManager.m_contactListener),C$TzS.IsEnabled()&&C$TzS.IsTouching()?(C$TzS.m_islandFlag=!0,C$Tzt.AddContact(C$TzS),C$Tzl.m_islandFlag||(C$Tzl.m_islandFlag=!0,C$Tzl.m_type!==C$TzH.b2BodyType.b2_staticBody&&C$Tzl.SetAwake(!0),C$Tzt.AddBody(C$Tzl))):(C$Tzl.m_sweep.Copy(C$TzC),C$Tzl.SynchronizeTransform())));}var C$TzT=C$TzE.SolveTOI_s_subStep;C$TzT.dt=(1-C$Tz_)*C$Tzh.dt,C$TzT.inv_dt=1/C$TzT.dt,C$TzT.dtRatio=1,C$TzT.positionIterations=20,C$TzT.velocityIterations=C$Tzh.velocityIterations,C$TzT.particleIterations=C$Tzh.particleIterations,C$TzT.warmStarting=!1,C$Tzt.SolveTOI(C$TzT,C$Tzo.m_islandIndex,C$Tza.m_islandIndex);for(var C$Tzw,C$Tzb=0;C$Tzb<C$Tzt.m_bodyCount;++C$Tzb)if((C$Tzw=C$Tzt.m_bodies[C$Tzb]).m_islandFlag=!1,C$Tzw.m_type===C$TzH.b2BodyType.b2_dynamicBody){C$Tzw.SynchronizeFixtures();for(C$Tzc=C$Tzw.m_contactList;C$Tzc;C$Tzc=C$Tzc.next)C$Tzc.contact.m_toiFlag=!1,C$Tzc.contact.m_islandFlag=!1;}if(this.m_contactManager.FindNewContacts(),this.m_subStepping){this.m_stepComplete=!1;break;}}else C$Tzi.SetEnabled(!1),C$Tzo.m_sweep.Copy(C$Tzv),C$Tza.m_sweep.Copy(C$Tzx),C$Tzo.SynchronizeTransform(),C$Tza.SynchronizeTransform();}},C$TzE.prototype.AddController=function(C$Tzt){return C$Tzt.m_next=this.m_controllerList,C$Tzt.m_prev=null,this.m_controllerList&&(this.m_controllerList.m_prev=C$Tzt),this.m_controllerList=C$Tzt,++this.m_controllerCount,C$Tzt;},C$TzE.prototype.RemoveController=function(C$Tzt){return C$Tzt.m_prev&&(C$Tzt.m_prev.m_next=C$Tzt.m_next),C$Tzt.m_next&&(C$Tzt.m_next.m_prev=C$Tzt.m_prev),this.m_controllerList===C$Tzt&&(this.m_controllerList=C$Tzt.m_next),--this.m_controllerCount,C$Tzt.m_prev=null,C$Tzt.m_next=null,C$Tzt;},C$TzE.Step_s_step=new C$Tzus(),C$TzE.Step_s_stepTimer=new C$Tz$(),C$TzE.Step_s_timer=new C$Tz$(),C$TzE.DrawDebugData_s_color=new C$TzJ(0,0,0),C$TzE.DrawDebugData_s_vs=C$Tzj.MakeArray(4),C$TzE.DrawDebugData_s_xf=new C$TzR(),C$TzE.QueryFixtureShape_s_aabb=new C$Tzte(),C$TzE.RayCast_s_input=new C$TzZt(),C$TzE.RayCast_s_output=new C$TzQt(),C$TzE.RayCast_s_point=new C$Tzj(),C$TzE.DrawJoint_s_p1=new C$Tzj(),C$TzE.DrawJoint_s_p2=new C$Tzj(),C$TzE.DrawJoint_s_color=new C$TzJ(.5,.8,.8),C$TzE.DrawJoint_s_c=new C$TzJ(),C$TzE.DrawShape_s_ghostColor=new C$TzJ(),C$TzE.SolveTOI_s_subStep=new C$Tzus(),C$TzE.SolveTOI_s_backup=new C$TzW(),C$TzE.SolveTOI_s_backup1=new C$TzW(),C$TzE.SolveTOI_s_backup2=new C$TzW(),C$TzE.SolveTOI_s_toi_input=new C$TzSe(),C$TzE.SolveTOI_s_toi_output=new C$TzTe();C$TzUs=C$TzE;function C$TzE(C$Tzt){this.m_newFixture=!1,this.m_locked=!1,this.m_clearForces=!0,this.m_contactManager=new C$Tzas(),this.m_bodyList=null,this.m_jointList=null,this.m_particleSystemList=null,this.m_bodyCount=0,this.m_jointCount=0,this.m_gravity=new C$Tzj(),this.m_allowSleep=!0,this.m_destructionListener=null,this.m_debugDraw=null,this.m_inv_dt0=0,this.m_warmStarting=!0,this.m_continuousPhysics=!0,this.m_subStepping=!1,this.m_stepComplete=!0,this.m_profile=new C$Tzls(),this.m_island=new C$TzIs(),this.s_stack=[],this.m_controllerList=null,this.m_controllerCount=0,this.m_gravity.Copy(C$Tzt);}var C$Tzho=function(C$Tzt,C$Tze){this.prevBody=null,this.nextBody=null,this.prevController=null,this.nextController=null,this.controller=C$Tzt,this.body=C$Tze;},C$Tzuo=(C$Tz_o.prototype.GetNext=function(){return this.m_next;},C$Tz_o.prototype.GetPrev=function(){return this.m_prev;},C$Tz_o.prototype.GetBodyList=function(){return this.m_bodyList;},C$Tz_o.prototype.AddBody=function(C$Tzt){var C$Tze=new C$Tzho(this,C$Tzt);C$Tze.nextBody=this.m_bodyList,C$Tze.prevBody=null,this.m_bodyList&&(this.m_bodyList.prevBody=C$Tze),this.m_bodyList=C$Tze,++this.m_bodyCount,C$Tze.nextController=C$Tzt.m_controllerList,C$Tze.prevController=null,C$Tzt.m_controllerList&&(C$Tzt.m_controllerList.prevController=C$Tze),C$Tzt.m_controllerList=C$Tze,++C$Tzt.m_controllerCount;},C$Tz_o.prototype.RemoveBody=function(C$Tzt){if(this.m_bodyCount<=0)throw new Error();for(var C$Tze=this.m_bodyList;C$Tze&&C$Tze.body!==C$Tzt;)C$Tze=C$Tze.nextBody;if(null===C$Tze)throw new Error();C$Tze.prevBody&&(C$Tze.prevBody.nextBody=C$Tze.nextBody),C$Tze.nextBody&&(C$Tze.nextBody.prevBody=C$Tze.prevBody),this.m_bodyList===C$Tze&&(this.m_bodyList=C$Tze.nextBody),--this.m_bodyCount,C$Tze.nextController&&(C$Tze.nextController.prevController=C$Tze.prevController),C$Tze.prevController&&(C$Tze.prevController.nextController=C$Tze.nextController),C$Tzt.m_controllerList===C$Tze&&(C$Tzt.m_controllerList=C$Tze.nextController),--C$Tzt.m_controllerCount;},C$Tz_o.prototype.Clear=function(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body);this.m_bodyCount=0;},C$Tz_o);function C$Tz_o(){this.m_bodyList=null,this.m_bodyCount=0,this.m_prev=null,this.m_next=null;}C$TzDi(C$Tzpo,C$Tzdo=C$Tzuo),C$Tzpo.prototype.Step=function(C$Tzh){if(this.m_bodyList){this.useWorldGravity&&this.gravity.Copy(this.m_bodyList.body.GetWorld().GetGravity());for(var C$Tzt=this.m_bodyList;C$Tzt;C$Tzt=C$Tzt.nextBody){var C$Tze=C$Tzt.body;if(C$Tze.IsAwake()){for(var C$Tzi,C$Tzn=new C$Tzj(),C$Tzr=new C$Tzj(),C$Tzs=0,C$Tzo=0,C$Tza=C$Tze.GetFixtureList();C$Tza;C$Tza=C$Tza.m_next){var C$Tzu,C$Tzc=new C$Tzj(),C$Tzl=C$Tza.GetShape().ComputeSubmergedArea(this.normal,this.offset,C$Tze.GetTransform(),C$Tzc);C$Tzs+=C$Tzl,C$Tzn.x+=C$Tzl*C$Tzc.x,C$Tzn.y+=C$Tzl*C$Tzc.y;C$Tzo+=C$Tzl*(C$Tzu=this.useDensity?C$Tza.GetDensity():1),C$Tzr.x+=C$Tzl*C$Tzc.x*C$Tzu,C$Tzr.y+=C$Tzl*C$Tzc.y*C$Tzu;}C$Tzn.x/=C$Tzs,C$Tzn.y/=C$Tzs,C$Tzr.x/=C$Tzo,C$Tzr.y/=C$Tzo,C$Tzs<C$TzM||((C$Tzi=this.gravity.Clone().SelfNeg()).SelfMul(this.density*C$Tzs),C$Tze.ApplyForce(C$Tzi,C$Tzr),(C$Tzi=C$Tze.GetLinearVelocityFromWorldPoint(C$Tzn,new C$Tzj())).SelfSub(this.velocity),C$Tzi.SelfMul(-this.linearDrag*C$Tzs),C$Tze.ApplyForce(C$Tzi,C$Tzn),C$Tze.ApplyTorque(-C$Tze.GetInertia()/C$Tze.GetMass()*C$Tzs*C$Tze.GetAngularVelocity()*this.angularDrag));}}}},C$Tzpo.prototype.Draw=function(C$Tzt){var C$Tze=new C$Tzj(),C$Tzi=new C$Tzj(),C$Tzn=(C$Tze.x=this.normal.x*this.offset+100*this.normal.y,C$Tze.y=this.normal.y*this.offset-100*this.normal.x,C$Tzi.x=this.normal.x*this.offset-100*this.normal.y,C$Tzi.y=this.normal.y*this.offset+100*this.normal.x,new C$TzJ(0,0,.8));C$Tzt.DrawSegment(C$Tze,C$Tzi,C$Tzn);};var C$Tzdo,C$Tzfo=C$Tzpo;function C$Tzpo(){var C$Tzt=null!==C$Tzdo&&C$Tzdo.apply(this,arguments)||this;return C$Tzt.normal=new C$Tzj(0,1),C$Tzt.offset=0,C$Tzt.density=0,C$Tzt.velocity=new C$Tzj(0,0),C$Tzt.linearDrag=0,C$Tzt.angularDrag=0,C$Tzt.useDensity=!1,C$Tzt.useWorldGravity=!0,C$Tzt.gravity=new C$Tzj(0,0),C$Tzt;}C$TzDi(C$Tzgo,C$Tzmo=C$Tzuo),C$Tzgo.prototype.Step=function(C$Tzt){for(var C$Tze=C$Tzj.MulSV(C$Tzt.dt,this.A,C$Tzgo.Step_s_dtA),C$Tzi=this.m_bodyList;C$Tzi;C$Tzi=C$Tzi.nextBody){var C$Tzn=C$Tzi.body;C$Tzn.IsAwake()&&C$Tzn.SetLinearVelocity(C$Tzj.AddVV(C$Tzn.GetLinearVelocity(),C$Tze,C$Tzj.s_t0));}},C$Tzgo.prototype.Draw=function(C$Tzt){},C$Tzgo.Step_s_dtA=new C$Tzj();var C$Tzmo,C$Tzyo=C$Tzgo;function C$Tzgo(){var C$Tzt=null!==C$Tzmo&&C$Tzmo.apply(this,arguments)||this;return C$Tzt.A=new C$Tzj(0,0),C$Tzt;}C$TzDi(C$Tzbo,C$Tzvo=C$Tzuo),C$Tzbo.prototype.Step=function(C$Tzt){for(var C$Tze=this.m_bodyList;C$Tze;C$Tze=C$Tze.nextBody){var C$Tzi=C$Tze.body;C$Tzi.IsAwake()&&C$Tzi.ApplyForce(this.F,C$Tzi.GetWorldCenter());}},C$Tzbo.prototype.Draw=function(C$Tzt){};var C$Tzvo,C$Tzxo=C$Tzbo;function C$Tzbo(){var C$Tzt=null!==C$Tzvo&&C$Tzvo.apply(this,arguments)||this;return C$Tzt.F=new C$Tzj(0,0),C$Tzt;}C$TzDi(C$TzSo,C$TzAo=C$Tzuo),C$TzSo.prototype.Step=function(C$Tzh){if(this.invSqr)for(var C$Tzt=this.m_bodyList;C$Tzt;C$Tzt=C$Tzt.nextBody)for(var C$Tze=(C$Tzr=C$Tzt.body).GetWorldCenter(),C$Tzu=C$Tzr.GetMass(),C$Tzi=this.m_bodyList;C$Tzi&&C$Tzi!==C$Tzt;C$Tzi=C$Tzi.nextBody){var C$Tzn=(C$Tzs=C$Tzi.body).GetWorldCenter(),C$Tz_=C$Tzs.GetMass();(C$Tzc=(C$Tzo=C$Tzn.x-C$Tze.x)*C$Tzo+(C$Tza=C$Tzn.y-C$Tze.y)*C$Tza)<C$TzM||((C$Tzl=C$TzSo.Step_s_f.Set(C$Tzo,C$Tza)).SelfMul(this.G/C$Tzc/C$TzY(C$Tzc)*C$Tzu*C$Tz_),C$Tzr.IsAwake()&&C$Tzr.ApplyForce(C$Tzl,C$Tze),C$Tzs.IsAwake()&&C$Tzs.ApplyForce(C$Tzl.SelfMul(-1),C$Tzn));}else for(C$Tzt=this.m_bodyList;C$Tzt;C$Tzt=C$Tzt.nextBody)for(var C$Tzr,C$Tze=(C$Tzr=C$Tzt.body).GetWorldCenter(),C$Tzu=C$Tzr.GetMass(),C$Tzi=this.m_bodyList;C$Tzi&&C$Tzi!==C$Tzt;C$Tzi=C$Tzi.nextBody){var C$Tzs,C$Tzo,C$Tza,C$Tzc,C$Tzl,C$Tzn=(C$Tzs=C$Tzi.body).GetWorldCenter(),C$Tz_=C$Tzs.GetMass();(C$Tzc=(C$Tzo=C$Tzn.x-C$Tze.x)*C$Tzo+(C$Tza=C$Tzn.y-C$Tze.y)*C$Tza)<C$TzM||((C$Tzl=C$TzSo.Step_s_f.Set(C$Tzo,C$Tza)).SelfMul(this.G/C$Tzc*C$Tzu*C$Tz_),C$Tzr.IsAwake()&&C$Tzr.ApplyForce(C$Tzl,C$Tze),C$Tzs.IsAwake()&&C$Tzs.ApplyForce(C$Tzl.SelfMul(-1),C$Tzn));}},C$TzSo.prototype.Draw=function(C$Tzt){},C$TzSo.Step_s_f=new C$Tzj();var C$TzAo,C$TzCo=C$TzSo;function C$TzSo(){var C$Tzt=null!==C$TzAo&&C$TzAo.apply(this,arguments)||this;return C$Tzt.G=1,C$Tzt.invSqr=!0,C$Tzt;}C$TzDi(C$TzEo,C$TzTo=C$Tzuo),C$TzEo.prototype.Step=function(C$Tzt){var C$Tze=C$Tzt.dt;if(!(C$Tze<=C$TzM)){C$Tze>this.maxTimestep&&0<this.maxTimestep&&(C$Tze=this.maxTimestep);for(var C$Tzi=this.m_bodyList;C$Tzi;C$Tzi=C$Tzi.nextBody){var C$Tzn,C$Tzr=C$Tzi.body;C$Tzr.IsAwake()&&(C$Tzn=C$Tzr.GetWorldVector(C$TzF.MulMV(this.T,C$Tzr.GetLocalVector(C$Tzr.GetLinearVelocity(),C$Tzj.s_t0),C$Tzj.s_t1),C$TzEo.Step_s_damping),C$Tzr.SetLinearVelocity(C$Tzj.AddVV(C$Tzr.GetLinearVelocity(),C$Tzj.MulSV(C$Tze,C$Tzn,C$Tzj.s_t0),C$Tzj.s_t1)));}}},C$TzEo.prototype.Draw=function(C$Tzt){},C$TzEo.prototype.SetAxisAligned=function(C$Tzt,C$Tze){this.T.ex.x=-C$Tzt,this.T.ex.y=0,this.T.ey.x=0,this.T.ey.y=-C$Tze,this.maxTimestep=0<C$Tzt||0<C$Tze?1/C$TzV(C$Tzt,C$Tze):0;},C$TzEo.Step_s_damping=new C$Tzj();var C$TzTo,C$Tzwo=C$TzEo;function C$TzEo(){var C$Tzt=null!==C$TzTo&&C$TzTo.apply(this,arguments)||this;return C$Tzt.T=new C$TzF(),C$Tzt.maxTimestep=0,C$Tzt;}function C$TzMo(){this.vertices=[],this.count=0,this.masses=[],this.gravity=new C$Tzj(0,0),this.damping=.1,this.k2=.9,this.k3=.1;}C$TzBo.prototype.GetVertexCount=function(){return this.m_count;},C$TzBo.prototype.GetVertices=function(){return this.m_ps;},C$TzBo.prototype.Initialize=function(C$Tzt){this.m_count=C$Tzt.count,this.m_ps=C$Tzj.MakeArray(this.m_count),this.m_p0s=C$Tzj.MakeArray(this.m_count),this.m_vs=C$Tzj.MakeArray(this.m_count),this.m_ims=C$Tzh(this.m_count);for(var C$Tze=0;C$Tze<this.m_count;++C$Tze){this.m_ps[C$Tze].Copy(C$Tzt.vertices[C$Tze]),this.m_p0s[C$Tze].Copy(C$Tzt.vertices[C$Tze]),this.m_vs[C$Tze].SetZero();var C$Tzi=C$Tzt.masses[C$Tze];this.m_ims[C$Tze]=0<C$Tzi?1/C$Tzi:0;}var C$Tzn=this.m_count-1,C$Tzr=this.m_count-2;this.m_Ls=C$Tzh(C$Tzn),this.m_as=C$Tzh(C$Tzr);for(C$Tze=0;C$Tze<C$Tzn;++C$Tze){var C$Tzs=this.m_ps[C$Tze],C$Tzo=this.m_ps[C$Tze+1];this.m_Ls[C$Tze]=C$Tzj.DistanceVV(C$Tzs,C$Tzo);}for(C$Tze=0;C$Tze<C$Tzr;++C$Tze){var C$Tzs=this.m_ps[C$Tze],C$Tzo=this.m_ps[C$Tze+1],C$Tza=this.m_ps[C$Tze+2],C$Tzc=C$Tzj.SubVV(C$Tzo,C$Tzs,C$Tzj.s_t0),C$Tza=C$Tzj.SubVV(C$Tza,C$Tzo,C$Tzj.s_t1),C$Tzl=C$Tzj.CrossVV(C$Tzc,C$Tza),C$Tzc=C$Tzj.DotVV(C$Tzc,C$Tza);this.m_as[C$Tze]=C$Tzv(C$Tzl,C$Tzc);}this.m_gravity.Copy(C$Tzt.gravity),this.m_damping=C$Tzt.damping,this.m_k2=C$Tzt.k2,this.m_k3=C$Tzt.k3;},C$TzBo.prototype.Step=function(C$Tzt,C$Tze){if(0!==C$Tzt){for(var C$Tzi=Math.exp(-C$Tzt*this.m_damping),C$Tzn=0;C$Tzn<this.m_count;++C$Tzn)this.m_p0s[C$Tzn].Copy(this.m_ps[C$Tzn]),0<this.m_ims[C$Tzn]&&this.m_vs[C$Tzn].SelfMulAdd(C$Tzt,this.m_gravity),this.m_vs[C$Tzn].SelfMul(C$Tzi),this.m_ps[C$Tzn].SelfMulAdd(C$Tzt,this.m_vs[C$Tzn]);for(C$Tzn=0;C$Tzn<C$Tze;++C$Tzn)this.SolveC2(),this.SolveC3(),this.SolveC2();for(var C$Tzr=1/C$Tzt,C$Tzn=0;C$Tzn<this.m_count;++C$Tzn)C$Tzj.MulSV(C$Tzr,C$Tzj.SubVV(this.m_ps[C$Tzn],this.m_p0s[C$Tzn],C$Tzj.s_t0),this.m_vs[C$Tzn]);}},C$TzBo.prototype.SolveC2=function(){for(var C$Tzt=this.m_count-1,C$Tze=0;C$Tze<C$Tzt;++C$Tze){var C$Tzi,C$Tzn=this.m_ps[C$Tze],C$Tzr=this.m_ps[C$Tze+1],C$Tzs=C$Tzj.SubVV(C$Tzr,C$Tzn,C$TzBo.s_d),C$Tzo=C$Tzs.Normalize(),C$Tza=this.m_ims[C$Tze],C$Tzc=this.m_ims[C$Tze+1];C$Tza+C$Tzc!==0&&(C$Tzi=C$Tzc/(C$Tza+C$Tzc),C$Tzn.SelfMulSub(this.m_k2*(C$Tza/(C$Tza+C$Tzc))*(this.m_Ls[C$Tze]-C$Tzo),C$Tzs),C$Tzr.SelfMulAdd(this.m_k2*C$Tzi*(this.m_Ls[C$Tze]-C$Tzo),C$Tzs));}},C$TzBo.prototype.SetAngle=function(C$Tzt){for(var C$Tze=this.m_count-2,C$Tzi=0;C$Tzi<C$Tze;++C$Tzi)this.m_as[C$Tzi]=C$Tzt;},C$TzBo.prototype.SolveC3=function(){for(var C$Tzh=this.m_count-2,C$Tzt=0;C$Tzt<C$Tzh;++C$Tzt){var C$Tzu=this.m_ps[C$Tzt],C$Tze=this.m_ps[C$Tzt+1],C$Tz_=this.m_ps[C$Tzt+2],C$Tzd=this.m_ims[C$Tzt],C$Tzf=this.m_ims[C$Tzt+1],C$Tzp=this.m_ims[C$Tzt+2],C$Tzi=C$Tzj.SubVV(C$Tze,C$Tzu,C$TzBo.s_d1),C$Tzn=C$Tzj.SubVV(C$Tz_,C$Tze,C$TzBo.s_d2),C$Tzr=C$Tzi.LengthSquared(),C$Tzs=C$Tzn.LengthSquared();if(C$Tzr*C$Tzs!=0){var C$Tzo=C$Tzj.CrossVV(C$Tzi,C$Tzn),C$Tza=C$Tzj.DotVV(C$Tzi,C$Tzn),C$Tzc=C$Tzv(C$Tzo,C$Tza),C$Tzo=C$Tzj.MulSV(-1/C$Tzr,C$Tzi.SelfSkew(),C$TzBo.s_Jd1),C$Tza=C$Tzj.MulSV(1/C$Tzs,C$Tzn.SelfSkew(),C$TzBo.s_Jd2),C$Tzr=C$Tzj.NegV(C$Tzo,C$TzBo.s_J1),C$Tzi=C$Tzj.SubVV(C$Tzo,C$Tza,C$TzBo.s_J2),C$Tzs=C$Tza;if(0!=(C$Tzn=C$Tzd*C$Tzj.DotVV(C$Tzr,C$Tzr)+C$Tzf*C$Tzj.DotVV(C$Tzi,C$Tzi)+C$Tzp*C$Tzj.DotVV(C$Tzs,C$Tzs))){for(var C$Tzn=1/C$Tzn,C$Tzl=C$Tzc-this.m_as[C$Tzt];C$Tzm<C$Tzl;)C$Tzl=(C$Tzc-=2*C$Tzm)-this.m_as[C$Tzt];for(;C$Tzl<-C$Tzm;)C$Tzl=(C$Tzc+=2*C$Tzm)-this.m_as[C$Tzt];C$Tzo=-this.m_k3*C$Tzn*C$Tzl;C$Tzu.SelfMulAdd(C$Tzd*C$Tzo,C$Tzr),C$Tze.SelfMulAdd(C$Tzf*C$Tzo,C$Tzi),C$Tz_.SelfMulAdd(C$Tzp*C$Tzo,C$Tzs);}}}},C$TzBo.prototype.Draw=function(C$Tzt){for(var C$Tze=new C$TzJ(.4,.5,.7),C$Tzi=0;C$Tzi<this.m_count-1;++C$Tzi)C$Tzt.DrawSegment(this.m_ps[C$Tzi],this.m_ps[C$Tzi+1],C$Tze);},C$TzBo.s_d=new C$Tzj(),C$TzBo.s_d1=new C$Tzj(),C$TzBo.s_d2=new C$Tzj(),C$TzBo.s_Jd1=new C$Tzj(),C$TzBo.s_Jd2=new C$Tzj(),C$TzBo.s_J1=new C$Tzj(),C$TzBo.s_J2=new C$Tzj();var C$TzIo=C$TzBo;function C$TzBo(){this.m_count=0,this.m_ps=[],this.m_p0s=[],this.m_vs=[],this.m_ims=[],this.m_Ls=[],this.m_as=[],this.m_gravity=new C$Tzj(),this.m_damping=0,this.m_k2=1,this.m_k3=.1;}C$TzH.b2Assert=function(C$Tzt){for(var C$Tze=[],C$Tzi=1;C$Tzi<arguments.length;C$Tzi++)C$Tze[C$Tzi-1]=arguments[C$Tzi];if(!C$Tzt)throw new(Error.bind.apply(Error,[void 0].concat(C$Tze)))();},C$TzH.b2Maybe=C$Tzf,C$TzH.b2_maxFloat=C$TzP,C$TzH.b2_epsilon=C$TzM,C$TzH.b2_epsilon_sq=C$Tzg,C$TzH.b2_pi=C$Tzm,C$TzH.b2_maxManifoldPoints=2,C$TzH.b2_maxPolygonVertices=8,C$TzH.b2_aabbExtension=.1,C$TzH.b2_aabbMultiplier=2,C$TzH.b2_linearSlop=.008,C$TzH.b2_angularSlop=C$TzI,C$TzH.b2_polygonRadius=.016,C$TzH.b2_maxSubSteps=8,C$TzH.b2_maxTOIContacts=32,C$TzH.b2_velocityThreshold=1,C$TzH.b2_maxLinearCorrection=.2,C$TzH.b2_maxAngularCorrection=C$Tzp,C$TzH.b2_maxTranslation=2,C$TzH.b2_maxTranslationSquared=4,C$TzH.b2_maxRotation=C$TzT,C$TzH.b2_maxRotationSquared=C$Tzw,C$TzH.b2_baumgarte=.2,C$TzH.b2_toiBaumgarte=.75,C$TzH.b2_invalidParticleIndex=-1,C$TzH.b2_maxParticleIndex=2147483647,C$TzH.b2_particleStride=.75,C$TzH.b2_minParticleWeight=1,C$TzH.b2_maxParticlePressure=.25,C$TzH.b2_maxParticleForce=.5,C$TzH.b2_maxTriadDistance=2,C$TzH.b2_maxTriadDistanceSquared=4,C$TzH.b2_minParticleSystemBufferCapacity=256,C$TzH.b2_barrierCollisionTime=2.5,C$TzH.b2_timeToSleep=.5,C$TzH.b2_linearSleepTolerance=.01,C$TzH.b2_angularSleepTolerance=C$Tzt,C$TzH.b2Alloc=function(C$Tzt){return null;},C$TzH.b2Free=function(C$Tzt){},C$TzH.b2Log=function(C$Tzt){for(var C$Tze=[],C$Tzi=1;C$Tzi<arguments.length;C$Tzi++)C$Tze[C$Tzi-1]=arguments[C$Tzi];},C$TzH.b2Version=C$Tzi,C$TzH.b2_version=C$Tzs,C$TzH.b2_branch=H[3048],C$TzH.b2_commit=H[3049],C$TzH.b2ParseInt=function(C$Tzt){return parseInt(C$Tzt,10);},C$TzH.b2ParseUInt=function(C$Tzt){return Math.abs(parseInt(C$Tzt,10));},C$TzH.b2MakeArray=C$Tzc,C$TzH.b2MakeNullArray=function(C$Tzt){for(var C$Tze=[],C$Tzi=0;C$Tzi<C$Tzt;++C$Tzi)C$Tze.push(null);return C$Tze;},C$TzH.b2MakeNumberArray=C$Tzh,C$TzH.b2_pi_over_180=.017453292519944444,C$TzH.b2_180_over_pi=57.29577951307855,C$TzH.b2_two_pi=6.28318530718,C$TzH.b2Abs=C$TzD,C$TzH.b2Min=C$TzL,C$TzH.b2Max=C$TzV,C$TzH.b2Clamp=C$TzO,C$TzH.b2Swap=function(C$Tzt,C$Tze){var C$Tzi=C$Tzt[0];C$Tzt[0]=C$Tze[0],C$Tze[0]=C$Tzi;},C$TzH.b2IsValid=C$Tzo,C$TzH.b2Sq=C$Tz_,C$TzH.b2InvSqrt=C$TzA,C$TzH.b2Sqrt=C$TzY,C$TzH.b2Pow=C$Tza,C$TzH.b2DegToRad=function(C$Tzt){return .017453292519944444*C$Tzt;},C$TzH.b2RadToDeg=function(C$Tzt){return 57.29577951307855*C$Tzt;},C$TzH.b2Cos=C$Tzl,C$TzH.b2Sin=C$Tzu,C$TzH.b2Acos=C$Tzd,C$TzH.b2Asin=C$Tzy,C$TzH.b2Atan2=C$Tzv,C$TzH.b2NextPowerOfTwo=function(C$Tzt){return(C$Tzt=(C$Tzt=(C$Tzt=(C$Tzt=(C$Tzt|=C$Tzt>>1&2147483647)|C$Tzt>>2&1073741823)|C$Tzt>>4&268435455)|C$Tzt>>8&16777215)|C$Tzt>>16&65535)+1;},C$TzH.b2IsPowerOfTwo=function(C$Tzt){return 0<C$Tzt&&0==(C$Tzt&C$Tzt-1);},C$TzH.b2Random=function(){return 2*Math.random()-1;},C$TzH.b2RandomRange=function(C$Tzt,C$Tze){return(C$Tze-C$Tzt)*Math.random()+C$Tzt;},C$TzH.b2Vec2=C$Tzj,C$TzH.b2Vec2_zero=C$Tzx,C$TzH.b2Vec3=C$Tzb,C$TzH.b2Mat22=C$TzF,C$TzH.b2Mat33=C$Tzk,C$TzH.b2Rot=C$TzB,C$TzH.b2Transform=C$TzR,C$TzH.b2Sweep=C$TzW,C$TzH.b2Color=C$TzJ,C$TzH.b2Draw=C$TzK,C$TzH.b2Timer=C$Tz$,C$TzH.b2Counter=C$Tzet,C$TzH.b2GrowableStack=C$Tznt,C$TzH.b2BlockAllocator=C$Tzst,C$TzH.b2StackAllocator=C$Tzot,C$TzH.b2ContactFeature=C$TzNt,C$TzH.b2ContactID=C$TzGt,C$TzH.b2ManifoldPoint=C$TzUt,C$TzH.b2Manifold=C$TzHt,C$TzH.b2WorldManifold=C$TzXt,C$TzH.b2GetPointStates=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){for(var C$Tzr=0;C$Tzr<C$Tzi.pointCount;++C$Tzr){var C$Tzs=C$Tzi.points[C$Tzr].id.key;C$Tzt[C$Tzr]=C$TzH.b2PointState.b2_removeState;for(var C$Tzo=0,C$Tza=C$Tzn.pointCount;C$Tzo<C$Tza;++C$Tzo)if(C$Tzn.points[C$Tzo].id.key===C$Tzs){C$Tzt[C$Tzr]=C$TzH.b2PointState.b2_persistState;break;}}for(;C$Tzr<2;++C$Tzr)C$Tzt[C$Tzr]=C$TzH.b2PointState.b2_nullState;for(C$Tzr=0;C$Tzr<C$Tzn.pointCount;++C$Tzr){C$Tzs=C$Tzn.points[C$Tzr].id.key;C$Tze[C$Tzr]=C$TzH.b2PointState.b2_addState;for(C$Tzo=0,C$Tza=C$Tzi.pointCount;C$Tzo<C$Tza;++C$Tzo)if(C$Tzi.points[C$Tzo].id.key===C$Tzs){C$Tze[C$Tzr]=C$TzH.b2PointState.b2_persistState;break;}}for(;C$Tzr<2;++C$Tzr)C$Tze[C$Tzr]=C$TzH.b2PointState.b2_nullState;},C$TzH.b2ClipVertex=C$Tzqt,C$TzH.b2RayCastInput=C$TzZt,C$TzH.b2RayCastOutput=C$TzQt,C$TzH.b2AABB=C$Tzte,C$TzH.b2TestOverlapAABB=C$Tzie,C$TzH.b2ClipSegmentToLine=C$Tzne,C$TzH.b2TestOverlapShape=C$Tzae,C$TzH.b2DistanceProxy=C$Tzat,C$TzH.b2SimplexCache=C$Tzlt,C$TzH.b2DistanceInput=C$Tzut,C$TzH.b2DistanceOutput=C$Tzdt,C$TzH.b2ShapeCastInput=C$Tzpt,C$TzH.b2ShapeCastOutput=C$Tzmt,C$TzH.b2_gjk_reset=function(){C$TzH.b2_gjkCalls=0,C$TzH.b2_gjkIters=0,C$TzH.b2_gjkMaxIters=0;},C$TzH.b2SimplexVertex=C$Tzyt,C$TzH.b2Simplex=C$Tzvt,C$TzH.b2Distance=C$TzIt,C$TzH.b2ShapeCast=function(C$Tzt,C$Tze){C$Tzt.iterations=0,C$Tzt.lambda=1,C$Tzt.normal.SetZero(),C$Tzt.point.SetZero();for(var C$Tzi=C$Tze.proxyA,C$Tzn=C$Tze.proxyB,C$Tzh=C$TzV(C$Tzi.m_radius,.016)+C$TzV(C$Tzn.m_radius,.016),C$Tzr=C$Tze.transformA,C$Tzs=C$Tze.transformB,C$Tzo=C$Tze.translationB,C$Tzu=C$TzBt.Set(0,0),C$Tz_=0,C$Tza=C$TzRt,C$Tzd=(C$Tza.m_count=0,C$Tza.m_vertices),C$Tzf=C$Tzi.GetSupport(C$TzB.MulTRV(C$Tzr.q,C$Tzj.NegV(C$Tzo,C$Tzj.s_t1),C$Tzj.s_t0)),C$Tzp=C$TzR.MulXV(C$Tzr,C$Tzi.GetVertex(C$Tzf),C$TzPt),C$Tzm=C$Tzn.GetSupport(C$TzB.MulTRV(C$Tzs.q,C$Tzo,C$Tzj.s_t0)),C$Tzy=C$TzR.MulXV(C$Tzs,C$Tzn.GetVertex(C$Tzm),C$TzDt),C$Tzc=C$Tzj.SubVV(C$Tzp,C$Tzy,C$TzLt),C$Tzg=C$TzV(.016,C$Tzh-.016),C$Tzv=0;C$Tzv<20&&.004<C$TzD(C$Tzc.Length()-C$Tzg);){C$Tzt.iterations+=1;var C$Tzf=C$Tzi.GetSupport(C$TzB.MulTRV(C$Tzr.q,C$Tzj.NegV(C$Tzc,C$Tzj.s_t1),C$Tzj.s_t0)),C$Tzp=C$TzR.MulXV(C$Tzr,C$Tzi.GetVertex(C$Tzf),C$TzPt),C$Tzm=C$Tzn.GetSupport(C$TzB.MulTRV(C$Tzs.q,C$Tzc,C$Tzj.s_t0)),C$Tzy=C$TzR.MulXV(C$Tzs,C$Tzn.GetVertex(C$Tzm),C$TzDt),C$Tzl=C$Tzj.SubVV(C$Tzp,C$Tzy,C$TzVt),C$Tzl=(C$Tzc.Normalize(),C$Tzj.DotVV(C$Tzc,C$Tzl)),C$Tzx=C$Tzj.DotVV(C$Tzc,C$Tzo);if(C$Tz_*C$Tzx<C$Tzl-C$Tzg){if(C$Tzx<=0)return!1;if(1<(C$Tz_=(C$Tzl-C$Tzg)/C$Tzx))return!1;C$Tzu.Copy(C$Tzc).SelfNeg(),C$Tza.m_count=0;}C$Tzl=C$Tzd[C$Tza.m_count];switch(C$Tzl.indexA=C$Tzm,C$Tzl.wA.Copy(C$Tzy).SelfMulAdd(C$Tz_,C$Tzo),C$Tzl.indexB=C$Tzf,C$Tzl.wB.Copy(C$Tzp),C$Tzl.w.Copy(C$Tzl.wB).SelfSub(C$Tzl.wA),C$Tzl.a=1,C$Tza.m_count+=1,C$Tza.m_count){case 1:break;case 2:C$Tza.Solve2();break;case 3:C$Tza.Solve3();}if(3===C$Tza.m_count)return!1;C$Tza.GetClosestPoint(C$Tzc),++C$Tzv;}return C$Tza.GetWitnessPoints(C$TzOt,C$TzFt),0<C$Tzc.LengthSquared()&&(C$Tzu.Copy(C$Tzc).SelfNeg(),C$Tzu.Normalize()),C$Tzt.normal.Copy(C$Tzu),C$Tzt.lambda=C$Tz_,C$Tzt.iterations=C$Tzv,!0;},C$TzH.b2Pair=C$Tzde,C$TzH.b2BroadPhase=C$Tzfe,C$TzH.b2PairLessThan=C$Tzme,C$TzH.b2TreeNode=C$Tzle,C$TzH.b2DynamicTree=C$Tzue,C$TzH.b2_toi_reset=function(){C$TzH.b2_toiTime=0,C$TzH.b2_toiMaxTime=0,C$TzH.b2_toiCalls=0,C$TzH.b2_toiIters=0,C$TzH.b2_toiMaxIters=0,C$TzH.b2_toiRootIters=0,C$TzH.b2_toiMaxRootIters=0;},C$TzH.b2TOIInput=C$TzSe,C$TzH.b2TOIOutput=C$TzTe,C$TzH.b2SeparationFunction=C$Tzwe,C$TzH.b2TimeOfImpact=C$TzFe,C$TzH.b2CollideCircles=C$TzGe,C$TzH.b2CollidePolygonAndCircle=C$TzHe,C$TzH.b2CollidePolygons=C$Tzdi,C$TzH.b2CollideEdgeAndCircle=C$TzAi,C$TzH.b2CollideEdgeAndPolygon=C$TzMi,C$TzH.b2MassData=C$TzIi,C$TzH.b2Shape=C$TzBi,C$TzH.b2CircleShape=C$TzCi,C$TzH.b2PolygonShape=C$TzTi,C$TzH.b2EdgeShape=C$TzNi,C$TzH.b2ChainShape=C$Tzzi,C$TzH.b2Filter=C$TzWi,C$TzH.b2FixtureDef=C$Tzji,C$TzH.b2FixtureProxy=C$TzXi,C$TzH.b2Fixture=C$TzYi,C$TzH.b2BodyDef=C$TzJi,C$TzH.b2Body=C$TzZi,C$TzH.b2World=C$TzUs,C$TzH.b2DestructionListener=C$TzZr,C$TzH.b2ContactFilter=C$TzQr,C$TzH.b2ContactImpulse=C$Tzts,C$TzH.b2ContactListener=C$Tzes,C$TzH.b2QueryCallback=C$Tzns,C$TzH.b2RayCastCallback=C$Tzss,C$TzH.b2Island=C$TzIs,C$TzH.b2Profile=C$Tzls,C$TzH.b2TimeStep=C$Tzus,C$TzH.b2Position=C$Tzds,C$TzH.b2Velocity=C$Tzps,C$TzH.b2SolverData=C$Tzys,C$TzH.b2ContactManager=C$Tzas,C$TzH.b2MixFriction=C$Tzbr,C$TzH.b2MixRestitution=C$TzAr,C$TzH.b2ContactEdge=C$TzCr,C$TzH.b2Contact=C$TzSr,C$TzH.b2ContactRegister=C$TzYr,C$TzH.b2ContactFactory=C$Tzqr,C$TzH.g_blockSolve=!1,C$TzH.b2VelocityConstraintPoint=C$Tzgs,C$TzH.b2ContactVelocityConstraint=C$Tzxs,C$TzH.b2ContactPositionConstraint=C$TzAs,C$TzH.b2ContactSolverDef=C$TzSs,C$TzH.b2PositionSolverManifold=C$TzTs,C$TzH.b2ContactSolver=C$TzEs,C$TzH.b2CircleContact=C$TzEr,C$TzH.b2PolygonContact=C$TzBr,C$TzH.b2PolygonAndCircleContact=C$TzDr,C$TzH.b2EdgeAndCircleContact=C$TzOr,C$TzH.b2EdgeAndPolygonContact=C$Tzkr,C$TzH.b2ChainAndCircleContact=C$TzUr,C$TzH.b2ChainAndPolygonContact=C$Tzjr,C$TzH.b2Jacobian=C$TzKi,C$TzH.b2JointEdge=C$Tztn,C$TzH.b2JointDef=C$Tz$i,C$TzH.b2Joint=C$Tzen,C$TzH.b2AreaJointDef=C$Tzhn,C$TzH.b2AreaJoint=C$Tzdn,C$TzH.b2DistanceJointDef=C$Tzrn,C$TzH.b2DistanceJoint=C$Tzan,C$TzH.b2FrictionJointDef=C$Tzmn,C$TzH.b2FrictionJoint=C$Tzvn,C$TzH.b2GearJointDef=C$TzAn,C$TzH.b2GearJoint=C$TzTn,C$TzH.b2MotorJointDef=C$TzMn,C$TzH.b2MotorJoint=C$TzRn,C$TzH.b2MouseJointDef=C$TzLn,C$TzH.b2MouseJoint=C$TzFn,C$TzH.b2PrismaticJointDef=C$TzGn,C$TzH.b2PrismaticJoint=C$TzWn,C$TzH.b2_minPulleyLength=2,C$TzH.b2PulleyJointDef=C$TzXn,C$TzH.b2PulleyJoint=C$TzJn,C$TzH.b2RevoluteJointDef=C$TzQn,C$TzH.b2RevoluteJoint=C$Tzer,C$TzH.b2RopeJointDef=C$Tzrr,C$TzH.b2RopeJoint=C$Tzar,C$TzH.b2WeldJointDef=C$Tzhr,C$TzH.b2WeldJoint=C$Tzdr,C$TzH.b2WheelJointDef=C$Tzmr,C$TzH.b2WheelJoint=C$Tzvr,C$TzH.b2ControllerEdge=C$Tzho,C$TzH.b2Controller=C$Tzuo,C$TzH.b2BuoyancyController=C$Tzfo,C$TzH.b2ConstantAccelController=C$Tzyo,C$TzH.b2ConstantForceController=C$Tzxo,C$TzH.b2GravityController=C$TzCo,C$TzH.b2TensorDampingController=C$Tzwo,C$TzH.b2ParticleDef=C$TzRs,C$TzH.b2CalculateParticleIterations=C$TzPs,C$TzH.b2ParticleHandle=C$TzDs,C$TzH.b2ParticleGroupDef=C$TzVs,C$TzH.b2ParticleGroup=C$TzOs,C$TzH.b2GrowableBuffer=C$TzQs,C$TzH.b2FixtureParticleQueryCallback=C$Tzeo,C$TzH.b2ParticleContact=C$Tzno,C$TzH.b2ParticleBodyContact=C$Tzso,C$TzH.b2ParticlePair=C$Tzoo,C$TzH.b2ParticleTriad=C$Tzao,C$TzH.b2ParticleSystemDef=C$Tzco,C$TzH.b2RopeDef=C$TzMo,C$TzH.b2Rope=C$TzIo,Object.defineProperty(C$TzH,H[1100],{value:!0});},H[802]==typeof C$Tzi&&void 0!==C$Tze?C$Tzn(C$Tzi):H[704]==typeof define&&define.amd?define([H[3050]],C$Tzn):C$Tzn((void 0).box2d={});},{}],363:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=H[534]==typeof window?global:window;C$Tzn.cc=C$Tzn.cc||{},cc.internal=cc.internal||{},C$Tzt(H[3051]),C$Tzt(H[3052]),C$Tzt(H[3053]),C$Tzt(H[3054]),C$Tzt(H[3055]),C$Tzt(H[3056]),C$Tzt(H[3057]),C$Tzt(H[3058]),C$Tzt(H[3059]),C$Tzt(H[3060]),C$Tzt(H[3061]),C$Tze.exports=C$Tzn.cc;},{"./cocos2d":292,"./cocos2d/core/predefine":214,"./extends":350,"./package":void 0,"./polyfill/array":365,"./polyfill/array-buffer":364,"./polyfill/misc":366,"./polyfill/number":367,"./polyfill/object":368,"./polyfill/string":369,"./polyfill/typescript":370,"./predefine":371}],364:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn;ArrayBuffer.isView||(C$Tzn=Object.getPrototypeOf(Int8Array),ArrayBuffer.isView=H[704]==typeof C$Tzn?function(C$Tzt){return C$Tzt instanceof C$Tzn;}:function(C$Tzt){if(H[802]!=typeof C$Tzt)return!1;C$Tzt=C$Tzt.constructor;return C$Tzt===Float32Array||C$Tzt===Uint8Array||C$Tzt===Uint32Array||C$Tzt===Int8Array;});},{}],365:[function(C$Tzt,C$Tze,C$Tzi){"use strict";Array.isArray||(Array.isArray=function(C$Tzt){return H[2910]===Object.prototype.toString.call(C$Tzt);}),Array.prototype.find||(Array.prototype.find=function(C$Tzt){for(var C$Tze=this.length,C$Tzi=0;C$Tzi<C$Tze;C$Tzi++){var C$Tzn=this[C$Tzi];if(C$Tzt.call(this,C$Tzn,C$Tzi,this))return C$Tzn;}}),Array.prototype.includes||(Array.prototype.includes=function(C$Tzt){return-1!==this.indexOf(C$Tzt);});},{}],366:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn,C$Tzr;Math.sign||(Math.sign=function(C$Tzt){return 0===(C$Tzt=+C$Tzt)||isNaN(C$Tzt)?C$Tzt:0<C$Tzt?1:-1;}),Math.log2||(Math.log2=function(C$Tzt){return Math.log(C$Tzt)*Math.LOG2E;}),Number.isInteger||(Number.isInteger=function(C$Tzt){return H[463]==typeof C$Tzt&&isFinite(C$Tzt)&&Math.floor(C$Tzt)===C$Tzt;}),console.time||(C$Tzn=window.performance||Date,C$Tzr=Object.create(null),console.time=function(C$Tzt){C$Tzr[C$Tzt]=C$Tzn.now();},console.timeEnd=function(C$Tzt){var C$Tze=C$Tzr[C$Tzt],C$Tze=C$Tzn.now()-C$Tze;console.log(C$Tzt+H[2816]+C$Tze+H[3062]);});},{}],367:[function(C$Tzt,C$Tze,C$Tzi){"use strict";Number.parseFloat=Number.parseFloat||parseFloat,Number.parseInt=Number.parseInt||parseInt;},{}],368:[function(C$Tzt,C$Tze,C$Tzi){"use strict";Object.assign||(Object.assign=function(C$Tzt,C$Tze){return cc.js.mixin(C$Tzt,C$Tze);}),Object.getOwnPropertyDescriptors||(Object.getOwnPropertyDescriptors=function(C$Tzt){var C$Tze={},C$Tzi=Object.getOwnPropertyNames(C$Tzt);Object.getOwnPropertySymbols&&(C$Tzi=C$Tzi.concat(Object.getOwnPropertySymbols(C$Tzt)));for(var C$Tzn=0;C$Tzn<C$Tzi.length;++C$Tzn){var C$Tzr=C$Tzi[C$Tzn];C$Tze[C$Tzr]=Object.getOwnPropertyDescriptor(C$Tzt,C$Tzr);}return C$Tze;});},{}],369:[function(C$Tzt,C$Tze,C$Tzi){"use strict";String.prototype.startsWith||(String.prototype.startsWith=function(C$Tzt,C$Tze){return this.lastIndexOf(C$Tzt,C$Tze=C$Tze||0)===C$Tze;}),String.prototype.endsWith||(String.prototype.endsWith=function(C$Tzt,C$Tze){(void 0===C$Tze||C$Tze>this.length)&&(C$Tze=this.length),C$Tze-=C$Tzt.length;C$Tzt=this.indexOf(C$Tzt,C$Tze);return-1!==C$Tzt&&C$Tzt===C$Tze;}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"");});},{}],370:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C$Tzt,C$Tze){C$Tzt.__proto__=C$Tze;}||function(C$Tzt,C$Tze){for(var C$Tzi in C$Tze)C$Tze.hasOwnProperty(C$Tzi)&&(C$Tzt[C$Tzi]=C$Tze[C$Tzi]);};window.__extends=function(C$Tzt,C$Tze){function C$Tzi(){this.constructor=C$Tzt;}C$Tzn(C$Tzt,C$Tze),C$Tzt.prototype=null===C$Tze?Object.create(C$Tze):(C$Tzi.prototype=C$Tze.prototype,new C$Tzi());},window.__assign=Object.assign||function(C$Tzt){for(var C$Tze,C$Tzi=1,C$Tzn=arguments.length;C$Tzi<C$Tzn;C$Tzi++)for(var C$Tzr in C$Tze=arguments[C$Tzi])Object.prototype.hasOwnProperty.call(C$Tze,C$Tzr)&&(C$Tzt[C$Tzr]=C$Tze[C$Tzr]);return C$Tzt;},window.__rest=function(C$Tzt,C$Tze){var C$Tzi={};for(C$Tzr in C$Tzt)Object.prototype.hasOwnProperty.call(C$Tzt,C$Tzr)&&C$Tze.indexOf(C$Tzr)<0&&(C$Tzi[C$Tzr]=C$Tzt[C$Tzr]);if(null!=C$Tzt&&H[704]==typeof Object.getOwnPropertySymbols)for(var C$Tzn=0,C$Tzr=Object.getOwnPropertySymbols(C$Tzt);C$Tzn<C$Tzr.length;C$Tzn++)C$Tze.indexOf(C$Tzr[C$Tzn])<0&&(C$Tzi[C$Tzr[C$Tzn]]=C$Tzt[C$Tzr[C$Tzn]]);return C$Tzi;},window.__decorate=function(C$Tzt,C$Tze,C$Tzi,C$Tzn){var C$Tzr,C$Tzs=arguments.length,C$Tzo=C$Tzs<3?C$Tze:null===C$Tzn?C$Tzn=Object.getOwnPropertyDescriptor(C$Tze,C$Tzi):C$Tzn;if(H[802]==typeof Reflect&&H[704]==typeof Reflect.decorate)C$Tzo=Reflect.decorate(C$Tzt,C$Tze,C$Tzi,C$Tzn);else for(var C$Tza=C$Tzt.length-1;0<=C$Tza;C$Tza--)(C$Tzr=C$Tzt[C$Tza])&&(C$Tzo=(C$Tzs<3?C$Tzr(C$Tzo):3<C$Tzs?C$Tzr(C$Tze,C$Tzi,C$Tzo):C$Tzr(C$Tze,C$Tzi))||C$Tzo);return 3<C$Tzs&&C$Tzo&&Object.defineProperty(C$Tze,C$Tzi,C$Tzo),C$Tzo;},window.__param=function(C$Tzi,C$Tzn){return function(C$Tzt,C$Tze){C$Tzn(C$Tzt,C$Tze,C$Tzi);};},window.__metadata=function(C$Tzt,C$Tze){if(H[802]==typeof Reflect&&H[704]==typeof Reflect.metadata)return Reflect.metadata(C$Tzt,C$Tze);},window.__awaiter=function(C$Tzs,C$Tzo,C$Tza,C$Tzc){return new(C$Tza=C$Tza||Promise)(function(C$Tzt,C$Tze){function C$Tzi(C$Tzt){try{C$Tzr(C$Tzc.next(C$Tzt));}catch(C$Tzt){C$Tze(C$Tzt);}}function C$Tzn(C$Tzt){try{C$Tzr(C$Tzc.throw(C$Tzt));}catch(C$Tzt){C$Tze(C$Tzt);}}function C$Tzr(C$Tze){C$Tze.done?C$Tzt(C$Tze.value):new C$Tza(function(C$Tzt){C$Tzt(C$Tze.value);}).then(C$Tzi,C$Tzn);}C$Tzr((C$Tzc=C$Tzc.apply(C$Tzs,C$Tzo||[])).next());});},window.__generator=function(C$Tzn,C$Tzr){var C$Tzs,C$Tzo,C$Tza,C$Tzc={label:0,sent:function(){if(1&C$Tza[0])throw C$Tza[1];return C$Tza[1];},trys:[],ops:[]},C$Tzt={next:C$Tze(0),throw:C$Tze(1),return:C$Tze(2)};return H[704]==typeof Symbol&&(C$Tzt[Symbol.iterator]=function(){return this;}),C$Tzt;function C$Tze(C$Tzi){return function(C$Tzt){var C$Tze=[C$Tzi,C$Tzt];if(C$Tzs)throw new TypeError(H[3063]);for(;C$Tzc;)try{if(C$Tzs=1,C$Tzo&&(C$Tza=2&C$Tze[0]?C$Tzo.return:C$Tze[0]?C$Tzo.throw||((C$Tza=C$Tzo.return)&&C$Tza.call(C$Tzo),0):C$Tzo.next)&&!(C$Tza=C$Tza.call(C$Tzo,C$Tze[1])).done)return C$Tza;switch(C$Tzo=0,(C$Tze=C$Tza?[2&C$Tze[0],C$Tza.value]:C$Tze)[0]){case 0:case 1:C$Tza=C$Tze;break;case 4:return C$Tzc.label++,{value:C$Tze[1],done:!1};case 5:C$Tzc.label++,C$Tzo=C$Tze[1],C$Tze=[0];continue;case 7:C$Tze=C$Tzc.ops.pop(),C$Tzc.trys.pop();continue;default:if(!(C$Tza=0<(C$Tza=C$Tzc.trys).length&&C$Tza[C$Tza.length-1])&&(6===C$Tze[0]||2===C$Tze[0])){C$Tzc=0;continue;}if(3===C$Tze[0]&&(!C$Tza||C$Tze[1]>C$Tza[0]&&C$Tze[1]<C$Tza[3])){C$Tzc.label=C$Tze[1];break;}if(6===C$Tze[0]&&C$Tzc.label<C$Tza[1]){C$Tzc.label=C$Tza[1],C$Tza=C$Tze;break;}if(C$Tza&&C$Tzc.label<C$Tza[2]){C$Tzc.label=C$Tza[2],C$Tzc.ops.push(C$Tze);break;}C$Tza[2]&&C$Tzc.ops.pop(),C$Tzc.trys.pop();continue;}C$Tze=C$Tzr.call(C$Tzn,C$Tzc);}catch(C$Tzt){C$Tze=[6,C$Tzt],C$Tzo=0;}finally{C$Tzs=C$Tza=0;}if(5&C$Tze[0])throw C$Tze[1];return{value:C$Tze[0]?C$Tze[1]:void 0,done:!0};};}},window.__exportStar=function(C$Tzt,C$Tze){for(var C$Tzi in C$Tzt)C$Tze.hasOwnProperty(C$Tzi)||(C$Tze[C$Tzi]=C$Tzt[C$Tzi]);},window.__values=function(C$Tzt){var C$Tze=H[704]==typeof Symbol&&C$Tzt[Symbol.iterator],C$Tzi=0;return C$Tze?C$Tze.call(C$Tzt):{next:function(){return{value:(C$Tzt=C$Tzt&&C$Tzi>=C$Tzt.length?void 0:C$Tzt)&&C$Tzt[C$Tzi++],done:!C$Tzt};}};},window.__read=function(C$Tzt,C$Tze){var C$Tzi=H[704]==typeof Symbol&&C$Tzt[Symbol.iterator];if(!C$Tzi)return C$Tzt;var C$Tzn,C$Tzr,C$Tzs=C$Tzi.call(C$Tzt),C$Tzo=[];try{for(;(void 0===C$Tze||0<C$Tze--)&&!(C$Tzn=C$Tzs.next()).done;)C$Tzo.push(C$Tzn.value);}catch(C$Tzt){C$Tzr={error:C$Tzt};}finally{try{C$Tzn&&!C$Tzn.done&&(C$Tzi=C$Tzs.return)&&C$Tzi.call(C$Tzs);}finally{if(C$Tzr)throw C$Tzr.error;}}return C$Tzo;},window.__spread=function(){for(var C$Tzt=[],C$Tze=0;C$Tze<arguments.length;C$Tze++)C$Tzt=C$Tzt.concat(__read(arguments[C$Tze]));return C$Tzt;},window.__await=function(C$Tzt){return this instanceof __await?(this.v=C$Tzt,this):new __await(C$Tzt);},window.__asyncGenerator=function(C$Tzt,C$Tze,C$Tzi){if(!Symbol.asyncIterator)throw new TypeError(H[3064]);var C$Tzr=C$Tzi.apply(C$Tzt,C$Tze||[]),C$Tzs=[],C$Tzo={};return C$Tzn(H[3065]),C$Tzn(H[3066]),C$Tzn(H[3067]),C$Tzo[Symbol.asyncIterator]=function(){return this;},C$Tzo;function C$Tzn(C$Tzn){C$Tzr[C$Tzn]&&(C$Tzo[C$Tzn]=function(C$Tzi){return new Promise(function(C$Tzt,C$Tze){1<C$Tzs.push([C$Tzn,C$Tzi,C$Tzt,C$Tze])||C$Tza(C$Tzn,C$Tzi);});});}function C$Tza(C$Tzt,C$Tze){try{(C$Tzi=C$Tzr[C$Tzt](C$Tze)).value instanceof __await?Promise.resolve(C$Tzi.value.v).then(C$Tzc,C$Tzh):C$Tzl(C$Tzs[0][2],C$Tzi);}catch(C$Tzt){C$Tzl(C$Tzs[0][3],C$Tzt);}var C$Tzi;}function C$Tzc(C$Tzt){C$Tza(H[3065],C$Tzt);}function C$Tzh(C$Tzt){C$Tza(H[3066],C$Tzt);}function C$Tzl(C$Tzt,C$Tze){C$Tzt(C$Tze),C$Tzs.shift(),C$Tzs.length&&C$Tza(C$Tzs[0][0],C$Tzs[0][1]);}},window.__asyncDelegator=function(C$Tzn){var C$Tzr,C$Tzt={};return C$Tze(H[3065]),C$Tze(H[3066],function(C$Tzt){throw C$Tzt;}),C$Tze(H[3067]),C$Tzt[Symbol.iterator]=function(){return this;},C$Tzt;function C$Tze(C$Tze,C$Tzi){C$Tzt[C$Tze]=C$Tzn[C$Tze]?function(C$Tzt){return(C$Tzr=!C$Tzr)?{value:__await(C$Tzn[C$Tze](C$Tzt)),done:H[3067]===C$Tze}:C$Tzi?C$Tzi(C$Tzt):C$Tzt;}:C$Tzi;}},window.__asyncValues=function(C$Tzo){if(!Symbol.asyncIterator)throw new TypeError(H[3064]);var C$Tzt,C$Tze=C$Tzo[Symbol.asyncIterator];return C$Tze?C$Tze.call(C$Tzo):(C$Tzo=H[704]==typeof __values?__values(C$Tzo):C$Tzo[Symbol.iterator](),C$Tzt={},C$Tzi(H[3065]),C$Tzi(H[3066]),C$Tzi(H[3067]),C$Tzt[Symbol.asyncIterator]=function(){return this;},C$Tzt);function C$Tzi(C$Tzs){C$Tzt[C$Tzs]=C$Tzo[C$Tzs]&&function(C$Tzr){return new Promise(function(C$Tzt,C$Tze){var C$Tzi,C$Tzn;C$Tzr=C$Tzo[C$Tzs](C$Tzr),C$Tzi=C$Tzt,C$Tzt=C$Tze,C$Tzn=C$Tzr.done,C$Tze=C$Tzr.value,Promise.resolve(C$Tze).then(function(C$Tzt){C$Tzi({value:C$Tzt,done:C$Tzn});},C$Tzt);});};}},window.__makeTemplateObject=function(C$Tzt,C$Tze){return Object.defineProperty?Object.defineProperty(C$Tzt,H[3068],{value:C$Tze}):C$Tzt.raw=C$Tze,C$Tzt;},window.__importStar=function(C$Tzt){if(C$Tzt&&C$Tzt.__esModule)return C$Tzt;var C$Tze={};if(null!=C$Tzt)for(var C$Tzi in C$Tzt)Object.hasOwnProperty.call(C$Tzt,C$Tzi)&&(C$Tze[C$Tzi]=C$Tzt[C$Tzi]);return C$Tze.default=C$Tzt,C$Tze;},window.__importDefault=function(C$Tzt){return C$Tzt&&C$Tzt.__esModule?C$Tzt:{default:C$Tzt};};},{}],371:[function(C$Tzt,C$Tze,C$Tzi){"use strict";var C$Tzn=H[534]==typeof window?global:window;function C$Tzr(C$Tze,C$Tzi){void 0===C$Tzn[C$Tze]&&Object.defineProperty(C$Tzn,C$Tze,{get:function(){var C$Tzt;return H[3069]===C$Tze?C$Tzt=H[3070]:H[3071]===C$Tze?C$Tzt=H[3072]:H[3073]===C$Tze&&(C$Tzt=H[3074]),cc.warnID(1400,C$Tze,C$Tzt),C$Tzi;}});}function C$Tzs(C$Tzt){return H[802]==typeof C$Tzn[C$Tzt];}C$Tza=!(C$Tzo=H[3075]),void 0===C$Tzn[C$Tzo]&&(C$Tzn[C$Tzo]=C$Tza),C$Tzn.CC_BUILD=!0,C$Tzn.CC_DEV=!1,C$Tzn.CC_DEBUG=!0,C$Tzn.CC_JSB=!1,C$Tzn.CC_NATIVERENDERER=!1,C$Tzn.CC_SUPPORT_JIT=!1,C$Tzn.CC_PHYSICS_BUILTIN=!1,C$Tzn.CC_PHYSICS_CANNON=!1,C$Tzn.CC_EDITOR=!1,C$Tzn.CC_PREVIEW=!1,C$Tzn.CC_TEST=!1,C$Tzn.CC_RUNTIME=!1,C$Tzn.CC_JSB=!1;var C$Tzo=!(!C$Tzs(H[3076])||!wx.getSharedCanvas),C$Tza=!(!C$Tzs(H[3076])||!wx.getSystemInfoSync&&!wx.getSharedCanvas),C$Tzc=C$Tzs(H[3077]);C$Tzr(H[3069],C$Tzo),C$Tzr(H[3071],C$Tza),C$Tzr(H[3073],C$Tzc);C$Tzn.CocosEngine=cc.ENGINE_VERSION=H[3078];},{}]},{},[363]);