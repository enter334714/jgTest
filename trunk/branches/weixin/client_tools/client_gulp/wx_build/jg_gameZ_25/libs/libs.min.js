var Laya=window.Laya=function(C$zul){var C$zuu={__internals:[],__packages:{},__classmap:{Object:Object,Function:Function,Array:Array,String:String},__sysClass:{object:"Object",array:"Array",string:"String",dictionary:"Dictionary"},__propun:{writable:!0,enumerable:!1,configurable:!0},__presubstr:String.prototype.substr,__substr:function(C$zut,C$zue){return 1==arguments.length?C$zuu.__presubstr.call(this,C$zut):C$zuu.__presubstr.call(this,C$zut,0<C$zue?C$zue:this.length+C$zue)},__init:function(C$zut){C$zut.forEach(function(C$zut){C$zut.__init$&&C$zut.__init$()})},__isClass:function(C$zut){return C$zut&&(C$zut.__isclass||C$zut==Object||C$zut==String||C$zut==Array)},__newvec:function(C$zut,C$zue){var C$zui=[];C$zui.length=C$zut;for(var C$zun=0;C$zun<C$zut;C$zun++)C$zui[C$zun]=C$zue;return C$zui},__extend:function(C$zut,C$zue){for(var C$zui in C$zue){var C$zun,C$zur,C$zus;C$zue.hasOwnProperty(C$zui)&&(C$zur=(C$zun=Object.getOwnPropertyDescriptor(C$zue,C$zui)).get,C$zus=C$zun.set,C$zur||C$zus?C$zur&&C$zus?Object.defineProperty(C$zut,C$zui,C$zun):(C$zur&&Object.defineProperty(C$zut,C$zui,C$zur),C$zus&&Object.defineProperty(C$zut,C$zui,C$zus)):C$zut[C$zui]=C$zue[C$zui])}function $k(){C$zuu.un(this,"constructor",C$zut)}$k.prototype=C$zue.prototype,C$zut.prototype=new $k,C$zuu.un(C$zut.prototype,"__imps",C$zuu.__copy({},C$zue.prototype.__imps))},__copy:function(C$zut,C$zue){if(!C$zue)return null;for(var C$zui in C$zut=C$zut||{},C$zue)C$zut[C$zui]=C$zue[C$zui];return C$zut},__package:function(C$zut,C$zue){if(!C$zuu.__packages[C$zut]){C$zuu.__packages[C$zut]=!0;var C$zui=C$zul,C$zun=C$zut.split(".");if(1<C$zun.length)for(var C$zur=0,C$zus=C$zun.length-1;C$zur<C$zus;C$zur++)C$zui=C$zui[C$zun[C$zur]]||(C$zui[C$zun[C$zur]]={});C$zui[C$zun[C$zun.length-1]]||(C$zui[C$zun[C$zun.length-1]]=C$zue||{})}},__hasOwnProperty:function(C$zut,C$zue){return C$zue=C$zue||this,Object.hasOwnProperty.call(C$zue,C$zut)||function $m(C$zut,C$zue){if(Object.hasOwnProperty.call(C$zue.prototype,C$zut))return!0;C$zue=C$zue.prototype.__super;return null==C$zue?null:$m(C$zut,C$zue)}(C$zut,C$zue.__class)},__typeof:function(C$zut,C$zue){if(!C$zut||!C$zue)return!1;if(C$zue===String)return"string"==typeof C$zut;if(C$zue===Number)return"number"==typeof C$zut;if(C$zue.__interface__)C$zue=C$zue.__interface__;else if("string"!=typeof C$zue)return C$zut instanceof C$zue;return C$zut.__imps&&C$zut.__imps[C$zue]||C$zut.__class==C$zue},__as:function(C$zut,C$zue){return this.__typeof(C$zut,C$zue)?C$zut:null},__int:function(C$zut){return C$zut?parseInt(C$zut):0},interface:function(C$zut,C$zue){C$zuu.__package(C$zut,{});var C$zui=C$zuu.__internals,C$zun=C$zui[C$zut]=C$zui[C$zut]||{self:C$zut};if(C$zue){var C$zur=C$zue.split(",");C$zun.extend=[];for(var C$zus=0;C$zus<C$zur.length;C$zus++){var C$zua=C$zur[C$zus];C$zui[C$zua]=C$zui[C$zua]||{self:C$zua},C$zun.extend.push(C$zui[C$zua])}}var C$zuo=C$zul,C$zuh=C$zut.split(".");for(C$zus=0;C$zus<C$zuh.length-1;C$zus++)C$zuo=C$zuo[C$zuh[C$zus]];C$zuo[C$zuh[C$zuh.length-1]]={__interface__:C$zut}},class:function(C$zut,C$zue,C$zui,C$zun){C$zui&&C$zuu.__extend(C$zut,C$zui),C$zue&&(C$zuu.__package(C$zue,C$zut),C$zuu.__classmap[C$zue]=C$zut,0<C$zue.indexOf(".")?0==C$zue.indexOf("laya.")&&(C$zur=C$zue.split("."),C$zun=C$zun||C$zur[C$zur.length-1],C$zuu[C$zun]&&console.log("Warning!,this class["+C$zun+"] already exist:",C$zuu[C$zun]),C$zuu[C$zun]=C$zut):"Main"==C$zue?C$zul.Main=C$zut:"MainWX"==C$zue?C$zul.MainWX=C$zut:(C$zuu[C$zue]&&console.log("Error!,this class["+C$zue+"] already exist:",C$zuu[C$zue]),C$zuu[C$zue]=C$zut));var C$zur=C$zuu.un,C$zun=C$zut.prototype;C$zur(C$zun,"hasOwnProperty",C$zuu.__hasOwnProperty),C$zur(C$zun,"__class",C$zut),C$zur(C$zun,"__super",C$zui),C$zur(C$zun,"__className",C$zue),C$zur(C$zut,"__super",C$zui),C$zur(C$zut,"__className",C$zue),C$zur(C$zut,"__isclass",!0),C$zur(C$zut,"super",function(C$zut){this.__super.call(C$zut)})},imps:function(C$zut,C$zue){if(!C$zue)return null;var C$zur=C$zut.__imps||C$zuu.un(C$zut,"__imps",{});for(var C$zui in C$zue)!function $q(C$zut){var C$zue,C$zui;if((C$zue=C$zuu.__internals[C$zut])&&(C$zur[C$zut]=!0,C$zui=C$zue.extend))for(var C$zun=0;C$zun<C$zui.length;C$zun++)$q(C$zui[C$zun].self)}(C$zui)},superSet:function(C$zut,C$zue,C$zui,C$zun){C$zut=C$zut.prototype["_$set_"+C$zui];C$zut&&C$zut.call(C$zue,C$zun)},superGet:function(C$zut,C$zue,C$zui){C$zut=C$zut.prototype["_$get_"+C$zui];return C$zut?C$zut.call(C$zue):null},getset:function(C$zut,C$zue,C$zui,C$zun,C$zur){C$zut?(C$zun&&(C$zue["_$GET_"+C$zui]=C$zun),C$zur&&(C$zue["_$SET_"+C$zui]=C$zur)):(C$zun&&C$zuu.un(C$zue,"_$get_"+C$zui,C$zun),C$zur&&C$zuu.un(C$zue,"_$set_"+C$zui,C$zur)),C$zun&&C$zur?Object.defineProperty(C$zue,C$zui,{get:C$zun,set:C$zur,enumerable:!1,configurable:!0}):(C$zun&&Object.defineProperty(C$zue,C$zui,{get:C$zun,enumerable:!1,configurable:!0}),C$zur&&Object.defineProperty(C$zue,C$zui,{set:C$zur,enumerable:!1,configurable:!0}))},static:function(C$zui,C$zun){for(var C$zur=0,C$zut=C$zun.length;C$zur<C$zut;C$zur+=2)"length"==C$zun[C$zur]?C$zui.length=C$zun[C$zur+1].call(C$zui):function(){var C$zue=C$zun[C$zur],C$zut=C$zun[C$zur+1];Object.defineProperty(C$zui,C$zue,{get:function(){return delete this[C$zue],this[C$zue]=C$zut.call(this)},set:function(C$zut){delete this[C$zue],this[C$zue]=C$zut},enumerable:!0,configurable:!0})}()},un:function(C$zut,C$zue,C$zui){return C$zui=C$zui||C$zut[C$zue],C$zuu.__propun.value=C$zui,Object.defineProperty(C$zut,C$zue,C$zuu.__propun),C$zui},uns:function(C$zue,C$zut){C$zut.forEach(function(C$zut){C$zuu.un(C$zue,C$zut)})}};return C$zul.console=C$zul.console||{log:function(){}},C$zul.trace=C$zul.console.log,Error.prototype.throwError=function(){throw arguments},Object.defineProperty(Array.prototype,"fixed",{enumerable:!1}),C$zuu}(window,document);window,document,Laya.un,Laya.uns,Laya.static,Laya.class,Laya.getset,Laya.__newvec,function(C$zus,C$zur,C$zuy){C$zuy.un,C$zuy.uns;var C$zua=C$zuy.static,C$zui=C$zuy.class,C$zun=C$zuy.getset;C$zuy.__newvec,C$zuy.interface("laya.runtime.IMarket"),C$zuy.interface("laya.filters.IFilter"),C$zuy.interface("laya.display.ILayout"),C$zuy.interface("laya.resource.IDispose"),C$zuy.interface("laya.runtime.IPlatform"),C$zuy.interface("laya.resource.IDestroy"),C$zuy.interface("laya.runtime.IConchNode"),C$zuy.interface("laya.filters.IFilterAction"),C$zuy.interface("laya.runtime.ICPlatformClass"),C$zuy.interface("laya.resource.ICreateResource"),C$zuy.interface("laya.runtime.IConchRenderObject"),C$zuy.interface("laya.runtime.IPlatformClass","laya.runtime.IPlatform");C$zui($q,"laya.utils.RunDriver"),$q.FILTER_ACTIONS=[],$q.pixelRatio=-1,$q._charSizeTestDiv=null,$q.now=function(){return Date.now()},$q.getWindow=function(){return C$zus},$q.getPixelRatio=function(){var C$zut;return $q.pixelRatio<0&&(C$zut=(C$zut=C$zuM.context).backingStorePixelRatio||C$zut.webkitBackingStorePixelRatio||C$zut.mozBackingStorePixelRatio||C$zut.msBackingStorePixelRatio||C$zut.oBackingStorePixelRatio||C$zut.backingStorePixelRatio||1,($q.pixelRatio=(C$zuM.window.devicePixelRatio||1)/C$zut)<1&&($q.pixelRatio=1)),$q.pixelRatio},$q.getIncludeStr=function(C$zut){return null},$q.createShaderCondition=function(C$zut){return C$zuy._runScript("(function() {return "+C$zut+";})")},$q.fontMap=[],$q.measureText=function(C$zut,C$zue){var C$zui=$q.hanzi.test(C$zut);if(C$zui&&$q.fontMap[C$zue])return $q.fontMap[C$zue];var C$zun=C$zuM.context;C$zun.font=C$zue;C$zun=C$zun.measureText(C$zut);return C$zun=C$zun||{width:16,height:16},C$zui&&($q.fontMap[C$zue]=C$zun),C$zun},$q.getWebGLContext=function(C$zut){},$q.beginFlush=function(){},$q.endFinish=function(){},$q.addToAtlas=null,$q.flashFlushImage=function(C$zut){},$q.drawToCanvas=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){var C$zua=C$zu$t.create("2D"),C$zui=new C$zuN(C$zui,C$zun,C$zua);return C$zuF.renders[C$zue]._fun(C$zut,C$zui,C$zur,C$zus),C$zua},$q.createParticleTemplate2D=null,$q.createGLTextur=null,$q.createWebGLContext2D=null,$q.changeWebGLSize=function(C$zut,C$zue){},$q.createRenderSprite=function(C$zut,C$zue){return new C$zuF(C$zut,C$zue)},$q.createFilterAction=function(C$zut){return new C$zuT},$q.createGraphics=function(){return new C$zu_},$q.clear=function(C$zut){C$zuw._context.ctx.clear()},$q.cancelLoadByUrl=function(C$zut){},$q.clearAtlas=function(C$zut){},$q.isAtlas=function(C$zut){return!1},$q.addTextureToAtlas=function(C$zut){},$q.getTexturePixels=function(C$zut,C$zue,C$zui,C$zun,C$zur){return null},$q.skinAniSprite=function(){return null},$q.update3DLoop=function(){},C$zua($q,["hanzi",function(){return this.hanzi=new RegExp("^[\u4e00-\u9fa5]$")}]);var C$zum=$q,C$zuo=(C$zun(1,C$zuy,"alertGlobalError",null,function(C$zut){var C$zus=0;C$zuM.window.onerror=C$zut?function(C$zut,C$zue,C$zui,C$zun,C$zur){C$zus++<5&&C$zur&&alert(C$zur.stack||C$zur)}:null}),C$zuy.init=function(C$zut,C$zue,C$zui){for(var C$zun=[],C$zur=2,C$zus=arguments.length;C$zur<C$zus;C$zur++)C$zun.push(arguments[C$zur]);if(!C$zuy._isinit){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=C$zuy._arrayBufferSlice),C$zuy._isinit=!0,C$zuM.__init__(),C$zuO.__init__(),C$zu_.__init__(),C$zuy.timer=new C$zuq,C$zuy.scaleTimer=new C$zuq,C$zuy.loader=new C$zult,C$zuJ.__init__(),C$zur=0;for(var C$zua=C$zun.length;C$zur<C$zua;C$zur++)C$zun[C$zur].enable&&C$zun[C$zur].enable();return C$zuu.__init__(),C$zul.__init__(),C$zuV.__init__(),C$zuU.beginCheck(),C$zuy._currentStage=C$zuy.stage=new C$zugt,C$zuy.stage.conchModel&&C$zuy.stage.conchModel.setRootNode(),C$zuy._getUrlPath(),C$zuy.render=new C$zuw(0,0),C$zuy.stage.size(C$zut,C$zue),C$zuF.__init__(),C$zup.__init__(),C$zu$.instance.__init__(C$zuy.stage,C$zuw.canvas),C$zuxt.__init__(),C$zuI.autoStopMusic=!0,C$zuR.__init__(),C$zuw.canvas}},C$zuy._getUrlPath=function(){var C$zut=C$zuM.window.location,C$zue=C$zut.pathname;C$zue=C$zue&&":"==C$zue.charAt(2)?C$zue.substring(1):C$zue,C$zuB.rootPath=C$zuB.basePath=C$zuB.getPath("file:"==C$zut.protocol?C$zue:C$zut.protocol+"//"+C$zut.host+C$zut.pathname)},C$zuy._arrayBufferSlice=function(C$zut,C$zue){C$zue=new Uint8Array(this,C$zut,C$zue-C$zut),C$zut=new Uint8Array(C$zue.length);return C$zut.set(C$zue),C$zut.buffer},C$zuy._runScript=function(C$zut){return C$zuM.window[C$zuy._evcode](C$zut)},C$zuy.stage=null,C$zuy.timer=null,C$zuy.scaleTimer=null,C$zuy.loader=null,C$zuy.version="1.8.6",C$zuy.render=null,C$zuy._currentStage=null,C$zuy._isinit=!1,C$zuy.isDebug=!1,C$zuy.MiniAdpter={init:function(){C$zus.navigator&&C$zus.navigator.userAgent&&-1<C$zus.navigator.userAgent.indexOf("MiniGame")&&console.error("\u8bf7\u5148\u5f15\u7528\u5c0f\u6e38\u620f\u9002\u914d\u5e93laya.wxmini.js,\u8be6\u7ec6\u6559\u7a0b\uff1ahttps://ldc.layabox.com/doc/?nav=zh-ts-5-0-0")}},C$zua(C$zuy,["conchMarket",function(){return this.conchMarket=C$zus.conch?conchMarket:null},"PlatformClass",function(){return this.PlatformClass=C$zus.PlatformClass},"_evcode",function(){return this._evcode="e"+String.fromCharCode(118)+"al"}]),C$zui($m,"Config"),$m.WebGLTextCacheCount=500,$m.atlasEnable=!1,$m.showCanvasMark=!1,$m.animationInterval=50,$m.isAntialias=!1,$m.isAlpha=!1,$m.premultipliedAlpha=!0,$m.isStencil=!0,$m.preserveDrawingBuffer=!1,$m),C$zuh=(C$zui($K,"laya.events.EventDispatcher"),(C$zue=$K.prototype).hasListener=function(C$zut){return!(!this._events||!this._events[C$zut])},C$zue.getListener=function(C$zut){return this._events?this._events[C$zut]:null},C$zue.event=function(C$zut,C$zue){if(!this._events||!this._events[C$zut])return!1;var C$zui=this._events[C$zut];if(C$zui.lock)C$zui.queue||(C$zui.queue=[]),C$zui.queue.push(C$zue);else{var C$zun;for(C$zui.lock=!0,C$zui.cursor=C$zui.head;C$zui.cursor;)(C$zun=C$zui.cursor).recover?(C$zui.head=C$zui.tail=C$zui.cursor=null,console.error("node is recover\uff1a"+C$zun.id)):(C$zui.cursor=C$zun.next,C$zun.once&&$K.delNode(C$zui,C$zun),C$zun.method&&(null!=C$zue?C$zun.args?C$zun.method.apply(C$zun.caller,C$zun.args.concat(C$zue)):C$zue instanceof Array?C$zun.method.apply(C$zun.caller,C$zue):C$zun.caller?C$zun.method.call(C$zun.caller,C$zue):C$zuy.recordError("\u4e8b\u4ef6\u6d3e\u53d1\u9519\u8bef","node.caller:"+C$zun.caller+"node.method:"+C$zun.method+"data:"+C$zue+"node.prev"+C$zun.prev):C$zun.method.apply(C$zun.caller,C$zun.args)),C$zun.once&&$K.recoverHandler(C$zun));C$zui.lock=!1,!C$zui.head&&this._events&&this._events[C$zut]==C$zui&&delete this._events[C$zut],C$zui.queue&&C$zui.queue.length&&this.event(C$zut,C$zui.queue.shift())}return!0},C$zue.on=function(C$zut,C$zue,C$zui,C$zun){return this._createListener(C$zut,C$zue,C$zui,C$zun,!1)},C$zue.once=function(C$zut,C$zue,C$zui,C$zun){return this._createListener(C$zut,C$zue,C$zui,C$zun,!0)},C$zue._createListener=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){(C$zus=void 0===C$zus?!0:C$zus)&&this.off(C$zut,C$zue,C$zui,C$zur);C$zus=$K.createHandler(C$zue||this,C$zui,C$zun,C$zur);this._events||(this._events={});C$zue=this._events,C$zui=C$zue[C$zut];return C$zui?C$zui.tail?(C$zus.prev=C$zui.tail,C$zui.tail.next=C$zus,C$zui.tail=C$zus):C$zui.head=C$zui.tail=C$zus:C$zue[C$zut]={head:C$zus,tail:C$zus,cursor:null,lock:!1},this},C$zue.off=function(C$zut,C$zue,C$zui,C$zun){if(void 0===C$zun&&(C$zun=!1),!this._events||!this._events[C$zut])return this;for(var C$zur=this._events[C$zut],C$zus=C$zur.head;C$zus;){if((!C$zue||C$zus.caller===C$zue)&&C$zus.method===C$zui&&(!C$zun||C$zus.once)){$K.delNode(C$zur,C$zus),C$zur.cursor==C$zus&&(C$zur.cursor=C$zus.next),$K.recoverHandler(C$zus);break}C$zus=C$zus.next}return this},C$zue.offAll=function(C$zut){var C$zue=this._events;if(!C$zue)return this;if(C$zut)this._recoverHandlers(C$zue[C$zut]),delete C$zue[C$zut];else{for(var C$zui in C$zue)this._recoverHandlers(C$zue[C$zui]);this._events=null}return this},C$zue._recoverHandlers=function(C$zut){if(C$zut){for(var C$zue=C$zut.head;C$zue;){$K.delNode(C$zut,C$zue);var C$zui=C$zue.next;$K.recoverHandler(C$zue),C$zue=C$zui}C$zut.cursor=null}},C$zue.isMouseEvent=function(C$zut){return $K.MOUSE_EVENTS[C$zut]},$K.MOUSE_EVENTS={rightmousedown:!0,rightmouseup:!0,rightclick:!0,mousedown:!0,mouseup:!0,mousemove:!0,mouseover:!0,mouseout:!0,click:!0,doubleclick:!0},$K.__init$=function(){Object.defineProperty(laya.events.EventDispatcher.prototype,"_events",{enumerable:!1,writable:!0})},$K.delNode=function(C$zut,C$zue){C$zue.prev?C$zue.prev.next=C$zue.next:C$zut.head=C$zue.next,C$zue.next?C$zue.next.prev=C$zue.prev:C$zut.tail=C$zue.prev},$K.createHandler=function(C$zut,C$zue,C$zui,C$zun){var C$zur=500<$K._freeHandler.length?$K._freeHandler.shift():null;if(C$zur)if(C$zur.recover)C$zur.recover=!1,C$zur.caller=C$zut,C$zur.method=C$zue,C$zur.args=C$zui,C$zur.once=C$zun;else{var C$zus="";try{arguments.propertyIsEnumerable.caller}catch(C$zut){C$zus=C$zut.stack}var C$zua=C$zur.caller?(C$zur.caller.__proto__&&C$zur.caller.__proto__.constructor&&C$zur.caller.__proto__.constructor.name)+"|"+C$zur.caller.__className+"|"+C$zur.caller.name:"",C$zuo=C$zur.method?C$zur.method.name:"";C$zuy.recordError("EventDispatcher\u91cd\u590d\u521b\u5efa","caller="+C$zua+"  method="+C$zuo+"  stack="+C$zus),C$zur={id:++$K._nodeCount,caller:C$zut,method:C$zue,args:C$zui,once:C$zun,recover:!1}}else C$zur={id:++$K._nodeCount,caller:C$zut,method:C$zue,args:C$zui,once:C$zun,recover:!1};return C$zur.prev=C$zur.next=null,C$zur},$K.recoverHandler=function(C$zut){if(C$zut.recover){if($K._errorCount<5){$K._errorCount++;var C$zue="";try{arguments.propertyIsEnumerable.caller}catch(C$zut){C$zue=C$zut.stack}var C$zui=C$zut.caller?(C$zut.caller.__proto__&&C$zut.caller.__proto__.constructor&&C$zut.caller.__proto__.constructor.name)+"|"+C$zut.caller.__className+"|"+C$zut.caller.name:"",C$zun=C$zut.method?C$zut.method.name:"";C$zuy.recordError("EventDispatcher\u91cd\u590d\u56de\u6536","id="+C$zut.id+"  caller="+C$zui+"  method="+C$zun+"  stack="+C$zue)}C$zut.caller=C$zut.method=C$zut.args=C$zut.prev=null}else C$zut.recover=!0,C$zut.caller=C$zut.method=C$zut.args=C$zut.prev=C$zut.next=null,$K._freeHandler&&$K._freeHandler.length<3e3&&$K._freeHandler.push(C$zut)},$K._freeHandler=[],$K._nodeCount=0,$K._errorCount=0,$K),C$zug=(C$zui($L,"laya.utils.Handler"),(C$zue=$L.prototype).setTo=function(C$zut,C$zue,C$zui,C$zun){return this._id=$L._gid++,this.caller=C$zut,this.method=C$zue,this.args=C$zui,this.once=C$zun,this},C$zue.run=function(){if(null==this.method)return null;var C$zut=this._id,C$zue=this.method.apply(this.caller,this.args);return this._id===C$zut&&this.once&&this.recover(),C$zue},C$zue.runWith=function(C$zut){if(null==this.method)return null;var C$zue=this._id;return C$zut=null==C$zut?this.method.apply(this.caller,this.args):this.args||C$zut.unshift?this.args?this.method.apply(this.caller,this.args.concat(C$zut)):this.method.apply(this.caller,C$zut):this.method.call(this.caller,C$zut),this._id===C$zue&&this.once&&this.recover(),C$zut},C$zue.clear=function(){return this.caller=null,this.method=null,this.args=null,this},C$zue.recover=function(){0<this._id&&(this._id=0,this.clear())},$L.create=function(C$zut,C$zue,C$zui,C$zun){return new $L(C$zut,C$zue,C$zui,C$zun=void 0===C$zun?!0:C$zun)},$L._gid=1,$L),C$zuv=function(){function $m(){this._texture=null,this._fontCharDic={},this._fontWidthMap={},this._complete=null,this._path=null,this._maxWidth=0,this._spaceWidth=10,this._padding=null,this.fontSize=12,this.autoScaleSize=!1,this.letterSpacing=0}C$zui($m,"laya.display.BitmapFont");var C$zut=$m.prototype;return C$zut.loadFont=function(C$zut,C$zue){this._path=C$zut,this._complete=C$zue,C$zuy.loader.load([{url:this._path,type:"xml"},{url:this._path.replace(".fnt",".png"),type:"image"}],C$zug.create(this,this.onLoaded))},C$zut.onLoaded=function(){this.parseFont(C$zuht.getRes(this._path),C$zuht.getRes(this._path.replace(".fnt",".png"))),this._complete&&this._complete.runWith(this._texture?this:null)},C$zut.parseFont=function(C$zut,C$zue){if(null!=C$zut&&null!=C$zue){this._texture=C$zue;var C$zui=C$zut.getElementsByTagName("info");if(!C$zui[0].getAttributeNode)return this.parseFont2(C$zut,C$zue);this.fontSize=parseInt(C$zui[0].getAttributeNode("size").nodeValue);var C$zun,C$zui=C$zui[0].getAttributeNode("padding").nodeValue.split(",");this._padding=[parseInt(C$zui[0]),parseInt(C$zui[1]),parseInt(C$zui[2]),parseInt(C$zui[3])],C$zun=C$zut.getElementsByTagName("char");var C$zur=0;for(C$zur=0;C$zur<C$zun.length;C$zur++){var C$zus=C$zun[C$zur],C$zua=parseInt(C$zus.getAttributeNode("id").nodeValue),C$zuo=+parseInt(C$zus.getAttributeNode("xoffset").nodeValue),C$zuu=+parseInt(C$zus.getAttributeNode("yoffset").nodeValue),C$zuh=+parseInt(C$zus.getAttributeNode("xadvance").nodeValue),C$zul=new C$zuA;C$zul.x=parseInt(C$zus.getAttributeNode("x").nodeValue),C$zul.y=parseInt(C$zus.getAttributeNode("y").nodeValue),C$zul.width=parseInt(C$zus.getAttributeNode("width").nodeValue),C$zul.height=parseInt(C$zus.getAttributeNode("height").nodeValue);C$zus=C$zuct.create(C$zue,C$zul.x,C$zul.y,C$zul.width,C$zul.height,C$zuo,C$zuu);this._maxWidth=Math.max(this._maxWidth,C$zuh+this.letterSpacing),this._fontCharDic[C$zua]=C$zus,this._fontWidthMap[C$zua]=C$zuh}}},C$zut.parseFont2=function(C$zut,C$zue){if(null!=C$zut&&null!=C$zue){this._texture=C$zue;var C$zui=C$zut.getElementsByTagName("info");this.fontSize=parseInt(C$zui[0].attributes.size.nodeValue);C$zui=C$zui[0].attributes.padding.nodeValue.split(",");this._padding=[parseInt(C$zui[0]),parseInt(C$zui[1]),parseInt(C$zui[2]),parseInt(C$zui[3])];var C$zun=C$zut.getElementsByTagName("char"),C$zur=0;for(C$zur=0;C$zur<C$zun.length;C$zur++){var C$zus=C$zun[C$zur].attributes,C$zua=parseInt(C$zus.id.nodeValue),C$zuo=+parseInt(C$zus.xoffset.nodeValue),C$zuu=+parseInt(C$zus.yoffset.nodeValue),C$zuh=+parseInt(C$zus.xadvance.nodeValue),C$zul=new C$zuA;C$zul.x=parseInt(C$zus.x.nodeValue),C$zul.y=parseInt(C$zus.y.nodeValue),C$zul.width=parseInt(C$zus.width.nodeValue),C$zul.height=parseInt(C$zus.height.nodeValue);C$zus=C$zuct.create(C$zue,C$zul.x,C$zul.y,C$zul.width,C$zul.height,C$zuo,C$zuu);this._maxWidth=Math.max(this._maxWidth,C$zuh+this.letterSpacing),this._fontCharDic[C$zua]=C$zus,this._fontWidthMap[C$zua]=C$zuh}}},C$zut.getCharTexture=function(C$zut){return this._fontCharDic[C$zut.charCodeAt(0)]},C$zut.destroy=function(){if(this._texture){for(var C$zut in this._fontCharDic){C$zut=this._fontCharDic[C$zut];C$zut&&C$zut.destroy()}this._texture.destroy(),this._fontCharDic=null,this._fontWidthMap=null,this._texture=null}},C$zut.setSpaceWidth=function(C$zut){this._spaceWidth=C$zut},C$zut.getCharWidth=function(C$zut){var C$zue=C$zut.charCodeAt(0);return this._fontWidthMap[C$zue]?this._fontWidthMap[C$zue]+this.letterSpacing:" "==C$zut?this._spaceWidth+this.letterSpacing:0},C$zut.getTextWidth=function(C$zut){for(var C$zue=0,C$zui=0,C$zun=C$zut.length;C$zui<C$zun;C$zui++)C$zue+=this.getCharWidth(C$zut.charAt(C$zui));return C$zue},C$zut.getMaxWidth=function(){return this._maxWidth},C$zut.getMaxHeight=function(){return this.fontSize},C$zut.drawText=function(C$zut,C$zue,C$zui,C$zuu,C$zun,C$zur){var C$zus,C$zua=this.getTextWidth(C$zut),C$zuo=0;"center"===C$zun&&(C$zuo=(C$zur-C$zua)/2),"right"===C$zun&&(C$zuo=C$zur-C$zua);for(var C$zuh=0,C$zul=0,C$zuc=C$zut.length;C$zul<C$zuc;C$zul++)(C$zus=this.getCharTexture(C$zut.charAt(C$zul)))&&(C$zue.graphics.drawTexture(C$zus,C$zui+C$zuh+C$zuo,C$zuu),C$zuh+=this.getCharWidth(C$zut.charAt(C$zul)))},$m}(),C$zul=(C$zui($h,"laya.display.css.Style"),(C$zue=$h.prototype).getTransform=function(){return this._tf},C$zue.setTransform=function(C$zut){this._tf="none"!==C$zut&&C$zut?C$zut:$h._TF_EMPTY},C$zue.setTranslateX=function(C$zut){this._tf===$h._TF_EMPTY&&(this._tf=new C$zuc),this._tf.translateX=C$zut},C$zue.setTranslateY=function(C$zut){this._tf===$h._TF_EMPTY&&(this._tf=new C$zuc),this._tf.translateY=C$zut},C$zue.setScaleX=function(C$zut){this._tf===$h._TF_EMPTY&&(this._tf=new C$zuc),this._tf.scaleX=C$zut},C$zue.setScale=function(C$zut,C$zue){this._tf===$h._TF_EMPTY&&(this._tf=new C$zuc),this._tf.scaleX=C$zut,this._tf.scaleY=C$zue},C$zue.setScaleY=function(C$zut){this._tf===$h._TF_EMPTY&&(this._tf=new C$zuc),this._tf.scaleY=C$zut},C$zue.setRotate=function(C$zut){this._tf===$h._TF_EMPTY&&(this._tf=new C$zuc),this._tf.rotate=C$zut},C$zue.setSkewX=function(C$zut){this._tf===$h._TF_EMPTY&&(this._tf=new C$zuc),this._tf.skewX=C$zut},C$zue.setSkewY=function(C$zut){this._tf===$h._TF_EMPTY&&(this._tf=new C$zuc),this._tf.skewY=C$zut},C$zue.destroy=function(){this.scrollRect=null},C$zue.render=function(C$zut,C$zue,C$zui,C$zun){},C$zue.getCSSStyle=function(){return C$zuit.EMPTY},C$zue._enableLayout=function(){return!1},C$zun(0,C$zue,"scaleX",function(){return this._tf.scaleX},function(C$zut){this.setScaleX(C$zut)}),C$zun(0,C$zue,"transform",function(){return this.getTransform()},function(C$zut){this.setTransform(C$zut)}),C$zun(0,C$zue,"translateX",function(){return this._tf.translateX},function(C$zut){this.setTranslateX(C$zut)}),C$zun(0,C$zue,"translateY",function(){return this._tf.translateY},function(C$zut){this.setTranslateY(C$zut)}),C$zun(0,C$zue,"scaleY",function(){return this._tf.scaleY},function(C$zut){this.setScaleY(C$zut)}),C$zun(0,C$zue,"block",function(){return 0!=(1&this._type)}),C$zun(0,C$zue,"skewY",function(){return this._tf.skewY},function(C$zut){this.setSkewY(C$zut)}),C$zun(0,C$zue,"rotate",function(){return this._tf.rotate},function(C$zut){this.setRotate(C$zut)}),C$zun(0,C$zue,"skewX",function(){return this._tf.skewX},function(C$zut){this.setSkewX(C$zut)}),C$zun(0,C$zue,"paddingLeft",function(){return 0}),C$zun(0,C$zue,"paddingTop",function(){return 0}),C$zun(0,C$zue,"absolute",function(){return!0}),$h.__init__=function(){$h._TF_EMPTY=new C$zuc,$h.EMPTY=new $h},$h.EMPTY=null,$h._TF_EMPTY=null,$h),C$zuu=(C$zui($p,"laya.display.css.Font"),(C$zue=$p.prototype).set=function(C$zut){this._text=null;for(var C$zue=C$zut.split(" "),C$zui=0,C$zun=C$zue.length;C$zui<C$zun;C$zui++){var C$zur=C$zue[C$zui];switch(C$zur){case"italic":this.italic=!0;continue;case"bold":this.bold=!0;continue}0<C$zur.indexOf("px")&&(this.size=parseInt(C$zur),this.family=C$zue[C$zui+1],C$zui++)}},C$zue.toString=function(){return this._text="",this.italic&&(this._text+="italic "),this.bold&&(this._text+="bold "),this._text+=this.size+"px "+this.family},C$zue.copyTo=function(C$zut){C$zut._type=this._type,C$zut._text=this._text,C$zut._weight=this._weight,C$zut._color=this._color,C$zut.family=this.family,C$zut.stroke=this.stroke!=$p._STROKE?this.stroke.slice():$p._STROKE,C$zut.indent=this.indent,C$zut.size=this.size},C$zun(0,C$zue,"password",function(){return 0!=(1024&this._type)},function(C$zut){C$zut?this._type|=1024:this._type&=-1025}),C$zun(0,C$zue,"color",function(){return this._color.strColor},function(C$zut){this._color=C$zuW.create(C$zut)}),C$zun(0,C$zue,"italic",function(){return 0!=(512&this._type)},function(C$zut){C$zut?this._type|=512:this._type&=-513}),C$zun(0,C$zue,"bold",function(){return 0!=(2048&this._type)},function(C$zut){C$zut?this._type|=2048:this._type&=-2049}),C$zun(0,C$zue,"weight",function(){return""+this._weight},function(C$zut){var C$zue=0;switch(C$zut){case"normal":break;case"bold":this.bold=!0,C$zue=700;break;case"bolder":C$zue=800;break;case"lighter":C$zue=100;break;default:C$zue=parseInt(C$zut)}this._weight=C$zue,this._text=null}),C$zun(0,C$zue,"decoration",function(){return this._decoration?this._decoration.value:null},function(C$zut){var C$zue=C$zut.split(" ");switch(this._decoration||(this._decoration={}),C$zue[0]){case"_":this._decoration.type="underline";break;case"-":this._decoration.type="line-through";break;case"overline":this._decoration.type="overline";break;default:this._decoration.type=C$zue[0]}C$zue[1]&&(this._decoration.color=C$zuW.create(C$zue)),this._decoration.value=C$zut}),$p.__init__=function(){$p.EMPTY=new $p(null)},$p.EMPTY=null,$p.defaultColor="#000000",$p.defaultSize=12,$p.defaultFamily="Arial",$p.defaultFont="12px Arial",$p._STROKE=[0,"#000000"],$p._ITALIC=512,$p._PASSWORD=1024,$p._BOLD=2048,$p),C$zuc=function(){function $m(){this.translateX=0,this.translateY=0,this.scaleX=1,this.scaleY=1,this.rotate=0,this.skewX=0,this.skewY=0}return C$zui($m,"laya.display.css.TransformInfo"),$m}(),C$zu_=(C$zui($F,"laya.display.Graphics"),(C$zue=$F.prototype).destroy=function(){this.clear(),this._graphicBounds&&this._graphicBounds.destroy(),this._graphicBounds=null,this._vectorgraphArray=null,this._sp&&(this._sp._renderType=0),this._sp=null},C$zue.clear=function(C$zut){var C$zue=0,C$zui=0;if(C$zut=void 0===C$zut?!1:C$zut){var C$zun=this._one;if(this._cmds){for(C$zui=this._cmds.length,C$zue=0;C$zue<C$zui;C$zue++)!(C$zun=this._cmds[C$zue])||C$zun.callee!==C$zuw._context._drawTexture&&C$zun.callee!==C$zuw._context._drawTextureWithTransform||(C$zun[0]=null,$F._cache.push(C$zun));this._cmds.length=0}else C$zun&&(!C$zun||C$zun.callee!==C$zuw._context._drawTexture&&C$zun.callee!==C$zuw._context._drawTextureWithTransform||(C$zun[0]=null,$F._cache.push(C$zun)))}else this._cmds=null;if(this._one=null,this._render=this._renderEmpty,this._sp&&(this._sp._renderType&=-514),this._repaint(),this._vectorgraphArray){for(C$zue=0,C$zui=this._vectorgraphArray.length;C$zue<C$zui;C$zue++)C$zuQ.getInstance().deleteShape(this._vectorgraphArray[C$zue]);this._vectorgraphArray.length=0}},C$zue._clearBoundsCache=function(){this._graphicBounds&&this._graphicBounds.reset()},C$zue._initGraphicBounds=function(){this._graphicBounds||(this._graphicBounds=new C$zud,this._graphicBounds._graphics=this)},C$zue._repaint=function(){this._clearBoundsCache(),this._sp&&this._sp.repaint()},C$zue._isOnlyOne=function(){return!this._cmds||0===this._cmds.length},C$zue.getBounds=function(C$zut){return void 0===C$zut&&(C$zut=!1),this._initGraphicBounds(),this._graphicBounds.getBounds(C$zut)},C$zue.getBoundPoints=function(C$zut){return void 0===C$zut&&(C$zut=!1),this._initGraphicBounds(),this._graphicBounds.getBoundPoints(C$zut)},C$zue._addCmd=function(C$zut){this._cmds=this._cmds||[],C$zut.callee=C$zut.shift(),this._cmds.push(C$zut)},C$zue.setFilters=function(C$zut){this._saveToCmd(C$zuw._context._setFilters,C$zut)},C$zue.drawTexture=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){if(void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0),void 0===C$zua&&(C$zua=1),!C$zut||C$zua<.01)return null;C$zun=(C$zun=void 0===C$zun?0:C$zun)||C$zut.sourceWidth,C$zur=(C$zur=void 0===C$zur?0:C$zur)||C$zut.sourceHeight,C$zua=C$zua<0?0:1<C$zua?1:C$zua;var C$zuo,C$zuh=!C$zuw.isWebGL&&(C$zuM.onFirefox||C$zuM.onEdge||C$zuM.onIE||C$zuM.onSafari)?.5:0,C$zul=C$zun/C$zut.sourceWidth,C$zuu=C$zur/C$zut.sourceHeight;return C$zun=C$zut.width*C$zul,C$zur=C$zut.height*C$zuu,C$zut.loaded&&(C$zun<=0||C$zur<=0)?null:(C$zue+=C$zut.offsetX*C$zul,C$zui+=C$zut.offsetY*C$zuu,this._sp&&(this._sp._renderType|=512),C$zue-=C$zuh,C$zui-=C$zuh,C$zun+=2*C$zuh,C$zur+=2*C$zuh,$F._cache.length?((C$zuo=$F._cache.pop())[0]=C$zut,C$zuo[1]=C$zue,C$zuo[2]=C$zui,C$zuo[3]=C$zun,C$zuo[4]=C$zur,C$zuo[5]=C$zus,C$zuo[6]=C$zua):C$zuo=[C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua],C$zuo.callee=C$zus||1!=C$zua?C$zuw._context._drawTextureWithTransform:C$zuw._context._drawTexture,null!=this._one||C$zus||1!=C$zua?this._saveToCmd(C$zuo.callee,C$zuo):(this._one=C$zuo,this._render=this._renderOneImg),C$zut.loaded||C$zut.once("loaded",this,this._textureLoaded,[C$zut,C$zuo]),this._repaint(),C$zuo)},C$zue.cleanByTexture=function(C$zut,C$zue,C$zui,C$zun,C$zur){if(void 0===C$zun&&(C$zun=0),void 0===C$zur&&(C$zur=0),!C$zut)return this.clear();var C$zus,C$zua;this._one&&this._render===this._renderOneImg?(C$zun=C$zun||C$zut.sourceWidth,C$zur=C$zur||C$zut.sourceHeight,C$zus=C$zun/C$zut.sourceWidth,C$zua=C$zur/C$zut.sourceHeight,C$zun=C$zut.width*C$zus,C$zur=C$zut.height*C$zua,C$zue+=C$zut.offsetX*C$zus,C$zui+=C$zut.offsetY*C$zua,this._one[0]=C$zut,this._one[1]=C$zue,this._one[2]=C$zui,this._one[3]=C$zun,this._one[4]=C$zur,this._repaint()):(this.clear(),C$zut&&this.drawTexture(C$zut,C$zue,C$zui,C$zun,C$zur))},C$zue.drawTextures=function(C$zut,C$zue){C$zut&&this._saveToCmd(C$zuw._context._drawTextures,[C$zut,C$zue])},C$zue.fillTexture=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){void 0===C$zun&&(C$zun=0),void 0===C$zur&&(C$zur=0),void 0===C$zus&&(C$zus="repeat"),C$zut&&(C$zue=[C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua||C$zuP.EMPTY,{}],C$zut.loaded||C$zut.once("loaded",this,this._textureLoaded,[C$zut,C$zue]),this._saveToCmd(C$zuw._context._fillTexture,C$zue))},C$zue._textureLoaded=function(C$zut,C$zue){C$zue[3]=C$zue[3]||C$zut.width,C$zue[4]=C$zue[4]||C$zut.height,this._repaint()},C$zue.fillCircle=function(C$zuu,C$zuc,C$zut,C$zue,C$zui,C$zu_,C$zun){C$zut.bitmap.enableMerageInAtlas=!1;var C$zur=new Float32Array(2*(C$zun+1)),C$zus=new Float32Array(2*(C$zun+1)),C$zua=new Uint16Array(3*C$zun),C$zud=2*Math.PI/C$zun,C$zuo=0;C$zur[0]=C$zue,C$zur[1]=C$zui,C$zus[0]=C$zue/C$zut.width,C$zus[1]=C$zui/C$zut.height;for(var C$zuh=2,C$zul=0;C$zul<C$zun;C$zul++){var C$zuf=C$zu_*Math.cos(C$zuo)+C$zue,C$zup=C$zu_*Math.sin(C$zuo)+C$zui;C$zur[C$zuh]=C$zuf,C$zur[C$zuh+1]=C$zup,C$zus[C$zuh]=C$zuf/C$zut.width,C$zus[C$zuh+1]=C$zup/C$zut.height,C$zuo+=C$zud,C$zuh+=2}for(C$zul=C$zuh=0;C$zul<C$zun;C$zul++)C$zua[C$zuh++]=0,C$zua[C$zuh++]=C$zul+1,C$zua[C$zuh++]=C$zun+1<=C$zul+2?1:C$zul+2;this.drawTriangles(C$zut,C$zuu,C$zuc,C$zur,C$zus,C$zua)},C$zue.drawTriangles=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul){this._saveToCmd(C$zuw._context.drawTriangles,[C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo=void 0===C$zuo?1:C$zuo,C$zuh,C$zul])},C$zue._saveToCmd=function(C$zut,C$zue){return this._sp&&(this._sp._renderType|=512),null==this._one?(this._one=C$zue,this._render=this._renderOne):(this._sp&&(this._sp._renderType&=-2),this._render=this._renderAll,0===(this._cmds||(this._cmds=[])).length&&this._cmds.push(this._one),this._cmds.push(C$zue)),C$zue.callee=C$zut,this._repaint(),C$zue},C$zue.clipRect=function(C$zut,C$zue,C$zui,C$zun){this._saveToCmd(C$zuw._context._clipRect,[C$zut,C$zue,C$zui,C$zun])},C$zue.fillText=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){void 0===C$zua&&(C$zua=0),this._saveToCmd(C$zuw._context._fillText,[C$zut,C$zue,C$zui,C$zun||C$zuu.defaultFont,C$zur,C$zus])},C$zue.fillBorderText=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){this._saveToCmd(C$zuw._context._fillBorderText,[C$zut,C$zue,C$zui,C$zun||C$zuu.defaultFont,C$zur,C$zus,C$zua,C$zuo])},C$zue.strokeText=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){this._saveToCmd(C$zuw._context._strokeText,[C$zut,C$zue,C$zui,C$zun||C$zuu.defaultFont,C$zur,C$zus,C$zua])},C$zue.alpha=function(C$zut){this._saveToCmd(C$zuw._context._alpha,[C$zut=C$zut<0?0:1<C$zut?1:C$zut])},C$zue.setAlpha=function(C$zut){this._saveToCmd(C$zuw._context._setAlpha,[C$zut=C$zut<0?0:1<C$zut?1:C$zut])},C$zue.transform=function(C$zut,C$zue,C$zui){this._saveToCmd(C$zuw._context._transform,[C$zut,C$zue=void 0===C$zue?0:C$zue,C$zui=void 0===C$zui?0:C$zui])},C$zue.rotate=function(C$zut,C$zue,C$zui){this._saveToCmd(C$zuw._context._rotate,[C$zut,C$zue=void 0===C$zue?0:C$zue,C$zui=void 0===C$zui?0:C$zui])},C$zue.scale=function(C$zut,C$zue,C$zui,C$zun){this._saveToCmd(C$zuw._context._scale,[C$zut,C$zue,C$zui=void 0===C$zui?0:C$zui,C$zun=void 0===C$zun?0:C$zun])},C$zue.translate=function(C$zut,C$zue){this._saveToCmd(C$zuw._context._translate,[C$zut,C$zue])},C$zue.save=function(){this._saveToCmd(C$zuw._context._save,[])},C$zue.restore=function(){this._saveToCmd(C$zuw._context._restore,[])},C$zue.replaceText=function(C$zut){this._repaint();var C$zue=this._cmds;if(C$zue){for(var C$zui=C$zue.length-1;-1<C$zui;C$zui--)if(this._isTextCmd(C$zue[C$zui].callee))return C$zue[C$zui][0].toUpperCase?C$zue[C$zui][0]=C$zut:C$zue[C$zui][0].setText(C$zut),!0}else if(this._one&&this._isTextCmd(this._one.callee))return this._one[0].toUpperCase?this._one[0]=C$zut:this._one[0].setText(C$zut),!0;return!1},C$zue._isTextCmd=function(C$zut){return C$zut===C$zuw._context._fillText||C$zut===C$zuw._context._fillBorderText||C$zut===C$zuw._context._strokeText},C$zue.replaceTextColor=function(C$zut){this._repaint();var C$zue=this._cmds;if(C$zue)for(var C$zui=C$zue.length-1;-1<C$zui;C$zui--)this._isTextCmd(C$zue[C$zui].callee)&&(C$zue[C$zui][4]=C$zut,C$zue[C$zui][0].toUpperCase||(C$zue[C$zui][0].changed=!0));else this._one&&this._isTextCmd(this._one.callee)&&(this._one[4]=C$zut,this._one[0].toUpperCase||(this._one[0].changed=!0))},C$zue.loadImage=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){var C$zua=this;void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0),void 0===C$zun&&(C$zun=0),void 0===C$zur&&(C$zur=0);var C$zuo=C$zuht.getRes(C$zut);function $d(C$zut){C$zut&&(C$zua.drawTexture(C$zut,C$zue,C$zui,C$zun,C$zur),null!=C$zus&&C$zus.call(C$zua._sp,C$zut))}C$zuo?$d(C$zuo):C$zuy.loader.load(C$zut,C$zug.create(null,$d),null,"image")},C$zue._renderEmpty=function(C$zut,C$zue,C$zui,C$zun){},C$zue._renderAll=function(C$zut,C$zue,C$zui,C$zun){for(var C$zur,C$zus=this._cmds,C$zua=0,C$zuo=C$zus.length;C$zua<C$zuo;C$zua++)(C$zur=C$zus[C$zua]).callee.call(C$zue,C$zui,C$zun,C$zur)},C$zue._renderOne=function(C$zut,C$zue,C$zui,C$zun){this._one.callee.call(C$zue,C$zui,C$zun,this._one)},C$zue._renderOneImg=function(C$zut,C$zue,C$zui,C$zun){this._one.callee.call(C$zue,C$zui,C$zun,this._one),2305!==C$zut._renderType&&(C$zut._renderType|=1)},C$zue.drawLine=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){void 0===C$zus&&(C$zus=1);var C$zua=0;C$zuw.isWebGL&&(C$zua=C$zuQ.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$zua));var C$zuo=C$zus%2==0?0:.5;this._saveToCmd(C$zuw._context._drawLine,[C$zut+C$zuo,C$zue+C$zuo,C$zui+C$zuo,C$zun+C$zuo,C$zur,C$zus,C$zua])},C$zue.drawLines=function(C$zut,C$zue,C$zui,C$zun,C$zur){void 0===C$zur&&(C$zur=1);var C$zus=0;!C$zui||C$zui.length<4||(C$zuw.isWebGL&&(C$zus=C$zuQ.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$zus)),this._saveToCmd(C$zuw._context._drawLines,[C$zut+(C$zut=C$zur%2==0?0:.5),C$zue+C$zut,C$zui,C$zun,C$zur,C$zus]))},C$zue.drawCurves=function(C$zut,C$zue,C$zui,C$zun,C$zur){this._saveToCmd(C$zuw._context._drawCurves,[C$zut,C$zue,C$zui,C$zun,C$zur=void 0===C$zur?1:C$zur])},C$zue.drawRect=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){void 0===C$zua&&(C$zua=1);var C$zuo=C$zus?C$zua/2:0,C$zuh=C$zus?C$zua:0;this._saveToCmd(C$zuw._context._drawRect,[C$zut+C$zuo,C$zue+C$zuo,C$zui-C$zuh,C$zun-C$zuh,C$zur,C$zus,C$zua])},C$zue.drawCircle=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){void 0===C$zus&&(C$zus=1);var C$zua=C$zur?C$zus/2:0,C$zuo=0;C$zuw.isWebGL&&(C$zuo=C$zuQ.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$zuo)),this._saveToCmd(C$zuw._context._drawCircle,[C$zut,C$zue,C$zui-C$zua,C$zun,C$zur,C$zus,C$zuo])},C$zue.drawPie=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){void 0===C$zuo&&(C$zuo=1);var C$zuh=C$zua?C$zuo/2:0,C$zuu=C$zua?C$zuo:0,C$zul=0;C$zuw.isWebGL&&(C$zul=C$zuQ.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$zul));C$zut=[C$zut+C$zuh,C$zue+C$zuh,C$zui-C$zuu,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zul];C$zut[3]=C$zuZ.toRadian(C$zun),C$zut[4]=C$zuZ.toRadian(C$zur),this._saveToCmd(C$zuw._context._drawPie,C$zut)},C$zue.drawPoly=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){void 0===C$zus&&(C$zus=1);var C$zua=0,C$zuo=!1;C$zuw.isWebGL&&(C$zua=C$zuQ.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$zua),C$zuo=!(6<C$zui.length));var C$zuh=!C$zur||C$zus%2==0?0:.5;this._saveToCmd(C$zuw._context._drawPoly,[C$zut+C$zuh,C$zue+C$zuh,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo])},C$zue.drawPath=function(C$zut,C$zue,C$zui,C$zun,C$zur){this._saveToCmd(C$zuw._context._drawPath,[C$zut,C$zue,C$zui,C$zun,C$zur])},C$zun(0,C$zue,"cmds",function(){return this._cmds},function(C$zut){this._sp&&(this._sp._renderType|=512),this._cmds=C$zut,this._render=this._renderAll,this._repaint()}),$F.__init__=function(){if(C$zuw.isConchNode){for(var C$zut=laya.display.Graphics.prototype,C$zue=C$zuM.window.ConchGraphics.prototype,C$zui=["clear","destroy","alpha","rotate","transform","scale","translate","save","restore","clipRect","blendMode","fillText","fillBorderText","_fands","drawRect","drawCircle","drawPie","drawPoly","drawPath","drawImageM","drawLine","drawLines","_drawPs","drawCurves","replaceText","replaceTextColor","_fillImage","fillTexture","setSkinMesh","drawParticle","drawImageS"],C$zun=0,C$zur=C$zui.length;C$zun<=C$zur;C$zun++){var C$zus=C$zui[C$zun];C$zut[C$zus]=C$zue[C$zus]}C$zut._saveToCmd=null,C$zue.drawImageS&&(C$zut.drawTextures=function(C$zut,C$zue){var C$zui,C$zun,C$zur;C$zut&&C$zut.loaded&&C$zut.bitmap&&C$zut.source&&(C$zui=C$zut.uv,C$zun=C$zut.bitmap.width,C$zur=C$zut.bitmap.height,this.drawImageS(C$zut.bitmap.source,C$zui[0]*C$zun,C$zui[1]*C$zur,(C$zui[2]-C$zui[0])*C$zun,(C$zui[5]-C$zui[3])*C$zur,C$zut.offsetX,C$zut.offsetY,C$zut.width,C$zut.height,C$zue))}),C$zut.drawTexture=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){var C$zuo,C$zuh,C$zul;void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0),void 0===C$zun&&(C$zun=0),void 0===C$zur&&(C$zur=0),void 0===C$zua&&(C$zua=1),C$zut&&(C$zut.loaded?C$zut.loaded&&C$zut.bitmap&&C$zut.source&&(C$zun=C$zun||C$zut.sourceWidth,C$zur=C$zur||C$zut.sourceHeight,C$zua=C$zua<0?0:1<C$zua?1:C$zua,C$zun=C$zun-C$zut.sourceWidth+C$zut.width,C$zur=C$zur-C$zut.sourceHeight+C$zut.height,!(C$zun<=0||C$zur<=0))&&(C$zue+=C$zut.offsetX,C$zui+=C$zut.offsetY,C$zuo=C$zut.uv,C$zuh=C$zut.bitmap.width,C$zul=C$zut.bitmap.height,C$zuo[4]<C$zuo[0]&&C$zuo[5]<C$zuo[1]?this.drawImageM(C$zut.bitmap.source,C$zuo[4]*C$zuh,C$zuo[5]*C$zul,(C$zuo[0]-C$zuo[4])*C$zuh,(C$zuo[1]-C$zuo[5])*C$zul,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua):this.drawImageM(C$zut.bitmap.source,C$zuo[0]*C$zuh,C$zuo[1]*C$zul,(C$zuo[2]-C$zuo[0])*C$zuh,(C$zuo[5]-C$zuo[3])*C$zul,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua),this._repaint()):C$zut.once("loaded",this,function(){this.drawTexture(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus)}))},C$zut.fillTexture=function(C$zut,C$zue,C$zuu,C$zui,C$zun,C$zur,C$zus){var C$zua,C$zuo,C$zuh,C$zul;void 0===C$zui&&(C$zui=0),void 0===C$zun&&(C$zun=0),void 0===C$zur&&(C$zur="repeat"),C$zut&&C$zut.loaded&&(C$zua=C$zuw._context.ctx,C$zuo=C$zut.bitmap.width,C$zul=C$zut.bitmap.height,C$zuh=C$zut.uv,C$zuo=C$zut.uv!=C$zuct.DEF_UV?C$zua.createPattern(C$zut.bitmap.source,C$zur,C$zuh[0]*C$zuo,C$zuh[1]*C$zul,(C$zuh[2]-C$zuh[0])*C$zuo,(C$zuh[5]-C$zuh[3])*C$zul):C$zua.createPattern(C$zut.bitmap.source,C$zur),C$zul=C$zuh=0,C$zus&&(C$zue+=C$zus.x%C$zut.width,C$zuu+=C$zus.y%C$zut.height,C$zuh-=C$zus.x%C$zut.width,C$zul-=C$zus.y%C$zut.height),this._fillImage(C$zuo,C$zue,C$zuu,C$zuh,C$zul,C$zui,C$zun))}}},$F._cache=[],$F),C$zud=(C$zui($a,"laya.display.GraphicsBounds"),(C$zue=$a.prototype).destroy=function(){this._graphics=null,this._temp=null,this._rstBoundPoints=null,this._bounds=null},C$zue.reset=function(){this._temp&&(this._temp.length=0)},C$zue.getBounds=function(C$zut){return void 0===C$zut&&(C$zut=!1),this._bounds&&this._temp&&!(this._temp.length<1)&&C$zut==this._cacheBoundsType||(this._bounds=C$zuA._getWrapRec(this.getBoundPoints(C$zut),this._bounds)),this._cacheBoundsType=C$zut,this._bounds},C$zue.getBoundPoints=function(C$zut){return void 0===C$zut&&(C$zut=!1),(!this._temp||this._temp.length<1||C$zut!=this._cacheBoundsType)&&(this._temp=this._getCmdPoints(C$zut)),this._cacheBoundsType=C$zut,this._rstBoundPoints=C$zuZ.copyArray(this._rstBoundPoints,this._temp)},C$zue._getCmdPoints=function(C$zuu){void 0===C$zuu&&(C$zuu=!1);var C$zut,C$zuc,C$zue=C$zuw._context,C$zu_=this._graphics.cmds;if((C$zut=this._temp||(this._temp=[])).length=0,C$zu_||null==this._graphics._one||($a._tempCmds.length=0,$a._tempCmds.push(this._graphics._one),C$zu_=$a._tempCmds),!C$zu_)return C$zut;(C$zuc=$a._tempMatrixArrays).length=0;var C$zui=$a._initMatrix;C$zui.identity();for(var C$zun,C$zur,C$zus=$a._tempMatrix,C$zua=NaN,C$zuo=NaN,C$zud=NaN,C$zuf=NaN,C$zuh=NaN,C$zup=NaN,C$zum=0,C$zug=C$zu_.length;C$zum<C$zug;C$zum++)if((C$zun=C$zu_[C$zum]).callee)switch(C$zun.callee){case C$zue._save:case 7:C$zuc.push(C$zui),C$zui=C$zui.clone();break;case C$zue._restore:case 8:C$zui=C$zuc.pop();break;case C$zue._scale:case 5:C$zus.identity(),C$zus.translate(-C$zun[2],-C$zun[3]),C$zus.scale(C$zun[0],C$zun[1]),C$zus.translate(C$zun[2],C$zun[3]),this._switchMatrix(C$zui,C$zus);break;case C$zue._rotate:case 3:C$zus.identity(),C$zus.translate(-C$zun[1],-C$zun[2]),C$zus.rotate(C$zun[0]),C$zus.translate(C$zun[1],C$zun[2]),this._switchMatrix(C$zui,C$zus);break;case C$zue._translate:case 6:C$zus.identity(),C$zus.translate(C$zun[0],C$zun[1]),this._switchMatrix(C$zui,C$zus);break;case C$zue._transform:case 4:C$zus.identity(),C$zus.translate(-C$zun[1],-C$zun[2]),C$zus.concat(C$zun[0]),C$zus.translate(C$zun[1],C$zun[2]),this._switchMatrix(C$zui,C$zus);break;case 16:case 24:$a._addPointArrToRst(C$zut,C$zuA._getBoundPointS(C$zun[0],C$zun[1],C$zun[2],C$zun[3]),C$zui);break;case 17:C$zui.copyTo(C$zus),C$zus.concat(C$zun[4]),$a._addPointArrToRst(C$zut,C$zuA._getBoundPointS(C$zun[0],C$zun[1],C$zun[2],C$zun[3]),C$zus);break;case C$zue._drawTexture:C$zur=C$zun[0],C$zuu?C$zun[3]&&C$zun[4]?$a._addPointArrToRst(C$zut,C$zuA._getBoundPointS(C$zun[1],C$zun[2],C$zun[3],C$zun[4]),C$zui):(C$zur=C$zun[0],$a._addPointArrToRst(C$zut,C$zuA._getBoundPointS(C$zun[1],C$zun[2],C$zur.width,C$zur.height),C$zui)):(C$zua=(C$zun[3]||C$zur.sourceWidth)/C$zur.width,C$zuo=(C$zun[4]||C$zur.sourceHeight)/C$zur.height,C$zud=C$zua*C$zur.sourceWidth,C$zuf=C$zuo*C$zur.sourceHeight,C$zuh=0<C$zur.offsetX?C$zur.offsetX:0,C$zup=0<C$zur.offsetY?C$zur.offsetY:0,C$zuh*=C$zua,C$zup*=C$zuo,$a._addPointArrToRst(C$zut,C$zuA._getBoundPointS(C$zun[1]-C$zuh,C$zun[2]-C$zup,C$zud,C$zuf),C$zui));break;case C$zue._fillTexture:C$zun[3]&&C$zun[4]?$a._addPointArrToRst(C$zut,C$zuA._getBoundPointS(C$zun[1],C$zun[2],C$zun[3],C$zun[4]),C$zui):(C$zur=C$zun[0],$a._addPointArrToRst(C$zut,C$zuA._getBoundPointS(C$zun[1],C$zun[2],C$zur.width,C$zur.height),C$zui));break;case C$zue._drawTextureWithTransform:C$zul=C$zun[5]?(C$zui.copyTo(C$zus),C$zus.concat(C$zun[5]),C$zus):C$zui,C$zuu?C$zun[3]&&C$zun[4]?$a._addPointArrToRst(C$zut,C$zuA._getBoundPointS(C$zun[1],C$zun[2],C$zun[3],C$zun[4]),C$zul):(C$zur=C$zun[0],$a._addPointArrToRst(C$zut,C$zuA._getBoundPointS(C$zun[1],C$zun[2],C$zur.width,C$zur.height),C$zul)):(C$zur=C$zun[0],C$zua=(C$zun[3]||C$zur.sourceWidth)/C$zur.width,C$zuo=(C$zun[4]||C$zur.sourceHeight)/C$zur.height,C$zud=C$zua*C$zur.sourceWidth,C$zuf=C$zuo*C$zur.sourceHeight,C$zuh=0<C$zur.offsetX?C$zur.offsetX:0,C$zup=0<C$zur.offsetY?C$zur.offsetY:0,C$zuh*=C$zua,C$zup*=C$zuo,$a._addPointArrToRst(C$zut,C$zuA._getBoundPointS(C$zun[1]-C$zuh,C$zun[2]-C$zup,C$zud,C$zuf),C$zul));break;case C$zue._drawRect:case 13:$a._addPointArrToRst(C$zut,C$zuA._getBoundPointS(C$zun[0],C$zun[1],C$zun[2],C$zun[3]),C$zui);break;case C$zue._drawCircle:case C$zue._fillCircle:case 14:$a._addPointArrToRst(C$zut,C$zuA._getBoundPointS(C$zun[0]-C$zun[2],C$zun[1]-C$zun[2],C$zun[2]+C$zun[2],C$zun[2]+C$zun[2]),C$zui);break;case C$zue._drawLine:case 20:var C$zul;$a._tempPoints.length=0,C$zul=.5*C$zun[5],C$zun[0]==C$zun[2]?$a._tempPoints.push(C$zun[0]+C$zul,C$zun[1],C$zun[2]+C$zul,C$zun[3],C$zun[0]-C$zul,C$zun[1],C$zun[2]-C$zul,C$zun[3]):C$zun[1]==C$zun[3]?$a._tempPoints.push(C$zun[0],C$zun[1]+C$zul,C$zun[2],C$zun[3]+C$zul,C$zun[0],C$zun[1]-C$zul,C$zun[2],C$zun[3]-C$zul):$a._tempPoints.push(C$zun[0],C$zun[1],C$zun[2],C$zun[3]),$a._addPointArrToRst(C$zut,$a._tempPoints,C$zui);break;case C$zue._drawCurves:case 22:$a._addPointArrToRst(C$zut,C$zuS.I.getBezierPoints(C$zun[2]),C$zui,C$zun[0],C$zun[1]);break;case C$zue._drawPoly:case C$zue._drawLines:case 18:$a._addPointArrToRst(C$zut,C$zun[2],C$zui,C$zun[0],C$zun[1]);break;case C$zue._drawPath:case 19:$a._addPointArrToRst(C$zut,this._getPathPoints(C$zun[2]),C$zui,C$zun[0],C$zun[1]);break;case C$zue._drawPie:case 15:$a._addPointArrToRst(C$zut,this._getPiePoints(C$zun[0],C$zun[1],C$zun[2],C$zun[3],C$zun[4]),C$zui)}return 200<C$zut.length?C$zut=C$zuZ.copyArray(C$zut,C$zuA._getWrapRec(C$zut)._getBoundPoints()):8<C$zut.length&&(C$zut=C$zuC.scanPList(C$zut)),C$zut},C$zue._switchMatrix=function(C$zut,C$zue){C$zue.concat(C$zut),C$zue.copyTo(C$zut)},C$zue._getPiePoints=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=$a._tempPoints;$a._tempPoints.length=0,C$zus.push(C$zut,C$zue);var C$zua=(C$zur-C$zun)%(2*Math.PI)/10,C$zuo=NaN,C$zuh=C$zun;for(C$zuo=0;C$zuo<=10;C$zuo++)C$zus.push(C$zut+C$zui*Math.cos(C$zuh),C$zue+C$zui*Math.sin(C$zuh)),C$zuh+=C$zua;return C$zus},C$zue._getPathPoints=function(C$zut){var C$zue,C$zui,C$zun=0,C$zur=$a._tempPoints;for(C$zur.length=0,C$zue=C$zut.length,C$zun=0;C$zun<C$zue;C$zun++)1<(C$zui=C$zut[C$zun]).length&&(C$zur.push(C$zui[1],C$zui[2]),3<C$zui.length&&C$zur.push(C$zui[3],C$zui[4]));return C$zur},$a._addPointArrToRst=function(C$zut,C$zue,C$zui,C$zun,C$zur){void 0===C$zun&&(C$zun=0),void 0===C$zur&&(C$zur=0);var C$zus,C$zua=0;for(C$zus=C$zue.length,C$zua=0;C$zua<C$zus;C$zua+=2)$a._addPointToRst(C$zut,C$zue[C$zua]+C$zun,C$zue[C$zua+1]+C$zur,C$zui)},$a._addPointToRst=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zuP.TEMP;C$zur.setTo(C$zue||0,C$zui||0),C$zun.transformPoint(C$zur),C$zut.push(C$zur.x,C$zur.y)},$a._tempPoints=[],$a._tempMatrixArrays=[],$a._tempCmds=[],C$zua($a,["_tempMatrix",function(){return this._tempMatrix=new C$zuE},"_initMatrix",function(){return this._initMatrix=new C$zuE}]),$a),C$zuf=function(){function $m(){}C$zui($m,"laya.events.Event");var C$zut=$m.prototype;return C$zut.setTo=function(C$zut,C$zue,C$zui){return this.type=C$zut,this.currentTarget=C$zue,this.target=C$zui,this},C$zut.stopPropagation=function(){this._stoped=!0},C$zun(0,C$zut,"stageY",function(){return C$zuy.stage.mouseY}),C$zun(0,C$zut,"charCode",function(){return this.nativeEvent.charCode}),C$zun(0,C$zut,"touches",function(){var C$zut=this.nativeEvent.touches;if(C$zut)for(var C$zue=C$zuy.stage,C$zui=0,C$zun=C$zut.length;C$zui<C$zun;C$zui++){var C$zur=C$zut[C$zui],C$zus=C$zuP.TEMP;C$zus.setTo(C$zur.clientX,C$zur.clientY),C$zue._canvasTransform.invertTransformPoint(C$zus),C$zue.transform.invertTransformPoint(C$zus),C$zur.stageX=C$zus.x,C$zur.stageY=C$zus.y}return C$zut}),C$zun(0,C$zut,"keyLocation",function(){return this.nativeEvent.keyLocation}),C$zun(0,C$zut,"ctrlKey",function(){return this.nativeEvent.ctrlKey}),C$zun(0,C$zut,"altKey",function(){return this.nativeEvent.altKey}),C$zun(0,C$zut,"shiftKey",function(){return this.nativeEvent.shiftKey}),C$zun(0,C$zut,"stageX",function(){return C$zuy.stage.mouseX}),$m.EMPTY=new $m,$m.MOUSE_DOWN="mousedown",$m.MOUSE_UP="mouseup",$m.CLICK="click",$m.RIGHT_MOUSE_DOWN="rightmousedown",$m.RIGHT_MOUSE_UP="rightmouseup",$m.RIGHT_CLICK="rightclick",$m.MOUSE_MOVE="mousemove",$m.MOUSE_OVER="mouseover",$m.MOUSE_OUT="mouseout",$m.MOUSE_WHEEL="mousewheel",$m.ROLL_OVER="mouseover",$m.ROLL_OUT="mouseout",$m.DOUBLE_CLICK="doubleclick",$m.CHANGE="change",$m.CHANGED="changed",$m.RESIZE="resize",$m.ADDED="added",$m.REMOVED="removed",$m.DISPLAY="display",$m.UNDISPLAY="undisplay",$m.ERROR="error",$m.COMPLETE="complete",$m.LOADED="loaded",$m.INITED="inited",$m.PROGRESS="progress",$m.INPUT="input",$m.RENDER="render",$m.OPEN="open",$m.MESSAGE="message",$m.CLOSE="close",$m.KEY_DOWN="keydown",$m.KEY_PRESS="keypress",$m.KEY_UP="keyup",$m.FRAME="enterframe",$m.DRAG_START="dragstart",$m.DRAG_MOVE="dragmove",$m.DRAG_END="dragend",$m.ENTER="enter",$m.SELECT="select",$m.BLUR="blur",$m.FOCUS="focus",$m.VISIBILITY_CHANGE="visibilitychange",$m.FOCUS_CHANGE="focuschange",$m.PLAYED="played",$m.PAUSED="paused",$m.STOPPED="stopped",$m.START="start",$m.END="end",$m.ENABLE_CHANGED="enablechanged",$m.ACTIVE_IN_HIERARCHY_CHANGED="activeinhierarchychanged",$m.COMPONENT_ADDED="componentadded",$m.COMPONENT_REMOVED="componentremoved",$m.LAYER_CHANGED="layerchanged",$m.HIERARCHY_LOADED="hierarchyloaded",$m.RECOVERED="recovered",$m.RELEASED="released",$m.LINK="link",$m.LABEL="label",$m.FULL_SCREEN_CHANGE="fullscreenchange",$m.DEVICE_LOST="devicelost",$m.MESH_CHANGED="meshchanged",$m.MATERIAL_CHANGED="materialchanged",$m.WORLDMATRIX_NEEDCHANGE="worldmatrixneedchanged",$m.ANIMATION_CHANGED="animationchanged",$m.TRIGGER_ENTER="triggerenter",$m.TRIGGER_STAY="triggerstay",$m.TRIGGER_EXIT="triggerexit",$m.TRAIL_FILTER_CHANGE="trailfilterchange",$m.DOMINO_FILTER_CHANGE="dominofilterchange",$m}(),C$zup=(function(){function $m(){}C$zui($m,"laya.events.Keyboard"),$m.NUMBER_0=48,$m.NUMBER_1=49,$m.NUMBER_2=50,$m.NUMBER_3=51,$m.NUMBER_4=52,$m.NUMBER_5=53,$m.NUMBER_6=54,$m.NUMBER_7=55,$m.NUMBER_8=56,$m.NUMBER_9=57,$m.A=65,$m.B=66,$m.C=67,$m.D=68,$m.E=69,$m.F=70,$m.G=71,$m.H=72,$m.I=73,$m.J=74,$m.K=75,$m.L=76,$m.M=77,$m.N=78,$m.O=79,$m.P=80,$m.Q=81,$m.R=82,$m.S=83,$m.T=84,$m.U=85,$m.V=86,$m.W=87,$m.X=88,$m.Y=89,$m.Z=90,$m.F1=112,$m.F2=113,$m.F3=114,$m.F4=115,$m.F5=116,$m.F6=117,$m.F7=118,$m.F8=119,$m.F9=120,$m.F10=121,$m.F11=122,$m.F12=123,$m.F13=124,$m.F14=125,$m.F15=126,$m.NUMPAD=21,$m.NUMPAD_0=96,$m.NUMPAD_1=97,$m.NUMPAD_2=98,$m.NUMPAD_3=99,$m.NUMPAD_4=100,$m.NUMPAD_5=101,$m.NUMPAD_6=102,$m.NUMPAD_7=103,$m.NUMPAD_8=104,$m.NUMPAD_9=105,$m.NUMPAD_ADD=107,$m.NUMPAD_DECIMAL=110,$m.NUMPAD_DIVIDE=111,$m.NUMPAD_ENTER=108,$m.NUMPAD_MULTIPLY=106,$m.NUMPAD_SUBTRACT=109,$m.SEMICOLON=186,$m.EQUAL=187,$m.COMMA=188,$m.MINUS=189,$m.PERIOD=190,$m.SLASH=191,$m.BACKQUOTE=192,$m.LEFTBRACKET=219,$m.BACKSLASH=220,$m.RIGHTBRACKET=221,$m.QUOTE=222,$m.ALTERNATE=18,$m.BACKSPACE=8,$m.CAPS_LOCK=20,$m.COMMAND=15,$m.CONTROL=17,$m.DELETE=46,$m.ENTER=13,$m.ESCAPE=27,$m.PAGE_UP=33,$m.PAGE_DOWN=34,$m.END=35,$m.HOME=36,$m.LEFT=37,$m.UP=38,$m.RIGHT=39,$m.DOWN=40,$m.SHIFT=16,$m.SPACE=32,$m.TAB=9,$m.INSERT=45}(),function(){function $L(){}return C$zui($L,"laya.events.KeyBoardManager"),$L.__init__=function(){$L._addEvent("keydown"),$L._addEvent("keypress"),$L._addEvent("keyup")},$L._addEvent=function(C$zue){C$zuM.document.addEventListener(C$zue,function(C$zut){laya.events.KeyBoardManager._dispatch(C$zut,C$zue)},!0)},$L._dispatch=function(C$zut,C$zue){if($L.enabled){$L._event._stoped=!1,$L._event.nativeEvent=C$zut,$L._event.keyCode=C$zut.keyCode||C$zut.which||C$zut.charCode,"keydown"===C$zue?$L._pressKeys[$L._event.keyCode]=!0:"keyup"===C$zue&&($L._pressKeys[$L._event.keyCode]=null);for(var C$zui=C$zuy.stage.focus&&null!=C$zuy.stage.focus.event&&C$zuy.stage.focus.displayedInStage?C$zuy.stage.focus:C$zuy.stage,C$zun=C$zui;C$zun;)C$zun.event(C$zue,$L._event.setTo(C$zue,C$zun,C$zui)),C$zun=C$zun.parent}},$L.hasKeyDown=function(C$zut){return $L._pressKeys[C$zut]},$L._pressKeys={},$L.enabled=!0,C$zua($L,["_event",function(){return this._event=new C$zuf}]),$L}()),C$zu$=(function(){function $m(){}C$zui($m,"laya.events.KeyLocation"),$m.STANDARD=0,$m.LEFT=1,$m.RIGHT=2,$m.NUM_PAD=3}(),C$zui($D,"laya.events.MouseManager"),(C$zue=$D.prototype).__init__=function(C$zut,C$zue){var C$zui=this;this._stage=C$zut;var C$zun=this,C$zur=this._eventList;C$zue.oncontextmenu=function(C$zut){if($D.enabled)return!1},C$zue.addEventListener("mousedown",function(C$zut){$D.enabled&&(C$zuM.onIE||C$zut.preventDefault(),C$zur.push(C$zut),C$zun.mouseDownTime=C$zuM.now())}),C$zue.addEventListener("mouseup",function(C$zut){$D.enabled&&(C$zut.preventDefault(),C$zur.push(C$zut),C$zun.mouseDownTime=-C$zuM.now())},!0),C$zue.addEventListener("mousemove",function(C$zut){var C$zue;$D.enabled&&(C$zut.preventDefault(),(C$zue=C$zuM.now())-C$zun._lastMoveTimer<10||(C$zun._lastMoveTimer=C$zue,C$zur.push(C$zut)))},!0),C$zue.addEventListener("mouseout",function(C$zut){$D.enabled&&C$zur.push(C$zut)}),C$zue.addEventListener("mouseover",function(C$zut){$D.enabled&&C$zur.push(C$zut)}),C$zue.addEventListener("touchstart",function(C$zut){$D.enabled&&(C$zur.push(C$zut),$D._isFirstTouch||C$zuxt.isInputting||C$zut.preventDefault(),C$zun.mouseDownTime=C$zuM.now())}),C$zue.addEventListener("touchend",function(C$zut){$D.enabled?($D._isFirstTouch||C$zuxt.isInputting||C$zut.preventDefault(),$D._isFirstTouch=!1,C$zur.push(C$zut),C$zun.mouseDownTime=-C$zuM.now()):C$zui._curTouchID=NaN},!0),C$zue.addEventListener("touchmove",function(C$zut){$D.enabled&&(C$zut.preventDefault(),C$zur.push(C$zut))},!0),C$zue.addEventListener("touchcancel",function(C$zut){$D.enabled?(C$zut.preventDefault(),C$zur.push(C$zut)):C$zui._curTouchID=NaN},!0),C$zue.addEventListener("mousewheel",function(C$zut){$D.enabled&&C$zur.push(C$zut)}),C$zue.addEventListener("DOMMouseScroll",function(C$zut){$D.enabled&&C$zur.push(C$zut)})},C$zue.initEvent=function(C$zut,C$zue){this._event._stoped=!1,this._event.nativeEvent=C$zue||C$zut,this._target=null,this._point.setTo(C$zut.pageX||C$zut.clientX,C$zut.pageY||C$zut.clientY),this._stage._canvasTransform.invertTransformPoint(this._point),this.mouseX=this._point.x,this.mouseY=this._point.y,this._event.touchId=C$zut.identifier||0,this._tTouchID=this._event.touchId,(C$zue=C$zux.I._event)._stoped=!1,C$zue.nativeEvent=this._event.nativeEvent,C$zue.touchId=this._event.touchId},C$zue.checkMouseWheel=function(C$zut){this._event.delta=C$zut.wheelDelta?.025*C$zut.wheelDelta:-C$zut.detail;for(var C$zue=C$zux.I.getLastOvers(),C$zui=0,C$zun=C$zue.length;C$zui<C$zun;C$zui++){var C$zur=C$zue[C$zui];C$zur.event("mousewheel",this._event.setTo("mousewheel",C$zur,this._target))}},C$zue.onMouseMove=function(C$zut){C$zux.I.onMouseMove(C$zut,this._tTouchID)},C$zue.onMouseDown=function(C$zut){var C$zue,C$zui;C$zuxt.isInputting&&C$zuy.stage.focus&&C$zuy.stage.focus.focus&&!C$zuy.stage.focus.contains(this._target)&&(C$zue=C$zuy.stage.focus._tf||C$zuy.stage.focus,(C$zui=C$zut._tf||C$zut)instanceof laya.display.Input&&C$zui.multiline==C$zue.multiline?C$zue._focusOut():C$zue.focus=!1),C$zux.I.onMouseDown(C$zut,this._tTouchID,this._isLeftMouse)},C$zue.onMouseUp=function(C$zut){C$zux.I.onMouseUp(C$zut,this._tTouchID,this._isLeftMouse)},C$zue.check=function(C$zut,C$zue,C$zui,C$zun){this._point.setTo(C$zue,C$zui),C$zut.fromParentPoint(this._point),C$zue=this._point.x,C$zui=this._point.y;var C$zur=C$zut.scrollRect;if(C$zur&&(this._rect.setTo(C$zur.x,C$zur.y,C$zur.width,C$zur.height),!this._rect.contains(C$zue,C$zui)))return!1;if(!this.disableMouseEvent){if(C$zut.hitTestPrior&&!C$zut.mouseThrough&&!this.hitTest(C$zut,C$zue,C$zui))return!1;for(var C$zus=C$zut._childs.length-1;-1<C$zus;C$zus--){var C$zua=C$zut._childs[C$zus];if(!C$zua.destroyed&&C$zua.mouseEnabled&&C$zua.visible&&this.check(C$zua,C$zue,C$zui,C$zun))return!0}}C$zur=!(!C$zut.hitTestPrior||C$zut.mouseThrough||this.disableMouseEvent)||this.hitTest(C$zut,C$zue,C$zui);return C$zur?(this._target=C$zut,C$zun.call(this,C$zut)):C$zun===this.onMouseUp&&C$zut===this._stage&&(this._target=this._stage,C$zun.call(this,this._target)),C$zur},C$zue.hitTest=function(C$zut,C$zue,C$zui){var C$zun=!1;return C$zut.scrollRect&&(C$zue-=C$zut.scrollRect.x,C$zui-=C$zut.scrollRect.y),C$zut.hitArea instanceof laya.utils.HitArea?C$zut.hitArea.isHit(C$zue,C$zui):0<C$zut.width&&0<C$zut.height||C$zut.mouseThrough||C$zut.hitArea?C$zut.mouseThrough?C$zut.getGraphicBounds().contains(C$zue,C$zui):(C$zur=this._rect,C$zut.hitArea?C$zur=C$zut.hitArea:C$zur.setTo(0,0,C$zut.width,C$zut.height),C$zur.contains(C$zue,C$zui)):C$zun;var C$zur},C$zue.runEvent=function(){var C$zut=this._eventList.length;if(C$zut){this.mouseEventTime=C$zuM.now();var C$zue,C$zui=0,C$zun=0,C$zur=0;try{for(;C$zui<C$zut;){var C$zus=this._eventList[C$zui];switch("mousemove"!==C$zus.type&&(this._prePoint.x=this._prePoint.y=-1e6),C$zus.type){case"mousedown":this._touchIDs[0]=this._id++,$D._isTouchRespond?$D._isTouchRespond=!1:(this._isLeftMouse=0===C$zus.button,this.initEvent(C$zus),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseDown));break;case"mouseup":this._isLeftMouse=0===C$zus.button,this.initEvent(C$zus),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseUp);break;case"mousemove":Math.abs(this._prePoint.x-C$zus.clientX)+Math.abs(this._prePoint.y-C$zus.clientY)>=this.mouseMoveAccuracy&&(this._prePoint.x=C$zus.clientX,this._prePoint.y=C$zus.clientY,this.initEvent(C$zus),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseMove));break;case"touchstart":$D._isTouchRespond=!0,this._isLeftMouse=!0;var C$zua=C$zus.changedTouches;for(C$zun=0,C$zur=C$zua.length;C$zun<C$zur;C$zun++)C$zue=C$zua[C$zun],($D.multiTouchEnabled||isNaN(this._curTouchID))&&(this._curTouchID=C$zue.identifier,this._id%200==0&&(this._touchIDs={}),this._touchIDs[C$zue.identifier]=this._id++,this.initEvent(C$zue,C$zus),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseDown));break;case"touchend":case"touchcancel":$D._isTouchRespond=!0,this._isLeftMouse=!0;var C$zuo=C$zus.changedTouches;for(C$zun=0,C$zur=C$zuo.length;C$zun<C$zur;C$zun++)C$zue=C$zuo[C$zun],!$D.multiTouchEnabled&&C$zue.identifier!=this._curTouchID||(this._curTouchID=NaN,this.initEvent(C$zue,C$zus),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseUp)||this.onMouseUp(null));break;case"touchmove":var C$zuh=C$zus.changedTouches;for(C$zun=0,C$zur=C$zuh.length;C$zun<C$zur;C$zun++)C$zue=C$zuh[C$zun],!$D.multiTouchEnabled&&C$zue.identifier!=this._curTouchID||(this.initEvent(C$zue,C$zus),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseMove));break;case"wheel":case"mousewheel":case"DOMMouseScroll":this.checkMouseWheel(C$zus);break;case"mouseout":C$zux.I.stageMouseOut();break;case"mouseover":this._stage.event("mouseover",this._event.setTo("mouseover",this._stage,this._stage))}C$zui++}}catch(C$zut){throw this._eventList.length=0,C$zut}this._eventList.length=0}},$D.enabled=!0,$D.multiTouchEnabled=!0,$D._isTouchRespond=!1,$D._isFirstTouch=!0,C$zua($D,["instance",function(){return this.instance=new $D}]),$D),C$zux=(C$zui($A,"laya.events.TouchManager"),(C$zue=$A.prototype)._clearTempArrs=function(){$A._oldArr.length=0,$A._newArr.length=0,$A._tEleArr.length=0},C$zue.getTouchFromArr=function(C$zut,C$zue){var C$zui,C$zun,C$zur=0;for(C$zui=C$zue.length,C$zur=0;C$zur<C$zui;C$zur++)if((C$zun=C$zue[C$zur]).id==C$zut)return C$zun;return null},C$zue.removeTouchFromArr=function(C$zut,C$zue){var C$zui=0;for(C$zui=C$zue.length-1;0<=C$zui;C$zui--)C$zue[C$zui].id==C$zut&&C$zue.splice(C$zui,1)},C$zue.createTouchO=function(C$zut,C$zue){var C$zui;return(C$zui=C$zuX.getItem("TouchData")||{}).id=C$zue,C$zui.tar=C$zut,C$zui},C$zue.onMouseDown=function(C$zut,C$zue,C$zui){var C$zun,C$zur,C$zus,C$zua;void 0===C$zui&&(C$zui=!1),this.enable&&(C$zun=this.getTouchFromArr(C$zue,this.preOvers),C$zus=this.getEles(C$zut,null,$A._tEleArr),C$zun?C$zun.tar=C$zut:(C$zur=this.createTouchO(C$zut,C$zue),this.preOvers.push(C$zur)),C$zuM.onMobile&&this.sendEvents(C$zus,"mouseover",C$zue),C$zua=C$zui?this.preDowns:this.preRightDowns,(C$zun=this.getTouchFromArr(C$zue,C$zua))?C$zun.tar=C$zut:(C$zur=this.createTouchO(C$zut,C$zue),C$zua.push(C$zur)),this.sendEvents(C$zus,C$zui?"mousedown":"rightmousedown",C$zue),this._clearTempArrs())},C$zue.sendEvents=function(C$zut,C$zue,C$zui){void 0===C$zui&&(C$zui=0);var C$zun,C$zur,C$zus,C$zua=0;for(C$zun=C$zut.length,this._event._stoped=!1,C$zur=C$zut[0],C$zua=0;C$zua<C$zun;C$zua++){if((C$zus=C$zut[C$zua]).destroyed)return;if(C$zus.event(C$zue,this._event.setTo(C$zue,C$zus,C$zur)),this._event._stoped)break}},C$zue.getEles=function(C$zut,C$zue,C$zui){for(C$zui?C$zui.length=0:C$zui=[];C$zut&&C$zut!=C$zue;)C$zui.push(C$zut),C$zut=C$zut.parent;return C$zui},C$zue.checkMouseOutAndOverOfMove=function(C$zut,C$zue,C$zui){if(void 0===C$zui&&(C$zui=0),C$zue!=C$zut){var C$zun,C$zur,C$zus,C$zua=0;if(C$zue.contains(C$zut))C$zur=this.getEles(C$zut,C$zue,$A._tEleArr),this.sendEvents(C$zur,"mouseover",C$zui);else if(C$zut.contains(C$zue))C$zur=this.getEles(C$zue,C$zut,$A._tEleArr),this.sendEvents(C$zur,"mouseout",C$zui);else{var C$zuo,C$zuh;(C$zur=$A._tEleArr).length=0,C$zuo=this.getEles(C$zue,null,$A._oldArr),C$zuh=this.getEles(C$zut,null,$A._newArr),C$zus=C$zuo.length;var C$zul;for(C$zua=0;C$zua<C$zus;C$zua++){if(C$zun=C$zuo[C$zua],0<=(C$zul=C$zuh.indexOf(C$zun))){C$zuh.splice(C$zul,C$zuh.length-C$zul);break}C$zur.push(C$zun)}0<C$zur.length&&this.sendEvents(C$zur,"mouseout",C$zui),0<C$zuh.length&&this.sendEvents(C$zuh,"mouseover",C$zui)}}},C$zue.onMouseMove=function(C$zut,C$zue){var C$zui,C$zun;this.enable&&((C$zui=this.getTouchFromArr(C$zue,this.preOvers))?(this.checkMouseOutAndOverOfMove(C$zut,C$zui.tar),C$zui.tar=C$zut,C$zun=this.getEles(C$zut,null,$A._tEleArr)):(C$zun=this.getEles(C$zut,null,$A._tEleArr),this.sendEvents(C$zun,"mouseover",C$zue),this.preOvers.push(this.createTouchO(C$zut,C$zue))),this.sendEvents(C$zun,"mousemove",C$zue),this._clearTempArrs())},C$zue.getLastOvers=function(){return($A._tEleArr.length=0)<this.preOvers.length&&this.preOvers[0].tar?this.getEles(this.preOvers[0].tar,null,$A._tEleArr):($A._tEleArr.push(C$zuy.stage),$A._tEleArr)},C$zue.stageMouseOut=function(){var C$zut;C$zut=this.getLastOvers(),this.preOvers.length=0,this.sendEvents(C$zut,"mouseout",0)},C$zue.onMouseUp=function(C$zut,C$zue,C$zui){if(void 0===C$zui&&(C$zui=!1),this.enable){var C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zuu,C$zul=0,C$zuc=C$zuM.onMobile;if(C$zur=this.getEles(C$zut,null,$A._tEleArr),this.sendEvents(C$zur,C$zui?"mouseup":"rightmouseup",C$zue),C$zuh=C$zui?this.preDowns:this.preRightDowns,C$zun=this.getTouchFromArr(C$zue,C$zuh)){var C$zu_,C$zud=C$zuM.now();if(C$zu_=C$zud-this._lastClickTime<300,this._lastClickTime=C$zud,C$zut==C$zun.tar)C$zuo=C$zur;else for(C$zus=this.getEles(C$zun.tar,null,$A._oldArr),(C$zuo=$A._newArr).length=0,C$zuu=C$zus.length,C$zul=0;C$zul<C$zuu;C$zul++)C$zua=C$zus[C$zul],0<=C$zur.indexOf(C$zua)&&C$zuo.push(C$zua);0<C$zuo.length&&this.sendEvents(C$zuo,C$zui?"click":"rightclick",C$zue),C$zui&&C$zu_&&this.sendEvents(C$zuo,"doubleclick",C$zue),this.removeTouchFromArr(C$zue,C$zuh),C$zun.tar=null,C$zuX.recover("TouchData",C$zun)}(C$zun=this.getTouchFromArr(C$zue,this.preOvers))&&C$zuc&&((C$zuo=this.getEles(C$zun.tar,null,C$zuo))&&0<C$zuo.length&&this.sendEvents(C$zuo,"mouseout",C$zue),this.removeTouchFromArr(C$zue,this.preOvers),C$zun.tar=null,C$zuX.recover("TouchData",C$zun)),this._clearTempArrs()}},$A._oldArr=[],$A._newArr=[],$A._tEleArr=[],C$zua($A,["I",function(){return this.I=new $A}]),$A),C$zub=function(){function $m(){this._action=null}C$zui($m,"laya.filters.Filter");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.filters.IFilter":!0}),C$zut.callNative=function(C$zut){},C$zun(0,C$zut,"type",function(){return-1}),C$zun(0,C$zut,"action",function(){return this._action}),$m.BLUR=16,$m.COLOR=32,$m.GLOW=8,$m._filterStart=null,$m._filterEnd=null,$m._EndTarget=null,$m._recycleScope=null,$m._filter=null,$m._useSrc=null,$m._endSrc=null,$m._useOut=null,$m._endOut=null,$m}(),C$zuT=function(){function $m(){this.data=null}C$zui($m,"laya.filters.ColorFilterAction");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.filters.IFilterAction":!0}),C$zut.apply=function(C$zut){var C$zue=C$zut.ctx.ctx,C$zui=C$zut.ctx.ctx.canvas;if(0==C$zui.width||0==C$zui.height)return C$zui;for(var C$zun,C$zui=C$zue.getImageData(0,0,C$zui.width,C$zui.height),C$zur=C$zui.data,C$zus=0,C$zua=C$zur.length;C$zus<C$zua;C$zus+=4)C$zun=this.getColor(C$zur[C$zus],C$zur[C$zus+1],C$zur[C$zus+2],C$zur[C$zus+3]),0!=C$zur[C$zus+3]&&(C$zur[C$zus]=C$zun[0],C$zur[C$zus+1]=C$zun[1],C$zur[C$zus+2]=C$zun[2],C$zur[C$zus+3]=C$zun[3]);return C$zue.putImageData(C$zui,0,0),C$zut},C$zut.getColor=function(C$zut,C$zue,C$zui,C$zun){var C$zur=[];var C$zus,C$zua;return this.data._mat&&this.data._alpha&&(C$zus=this.data._mat,C$zua=this.data._alpha,C$zur[0]=C$zus[0]*C$zut+C$zus[1]*C$zue+C$zus[2]*C$zui+C$zus[3]*C$zun+C$zua[0],C$zur[1]=C$zus[4]*C$zut+C$zus[5]*C$zue+C$zus[6]*C$zui+C$zus[7]*C$zun+C$zua[1],C$zur[2]=C$zus[8]*C$zut+C$zus[9]*C$zue+C$zus[10]*C$zui+C$zus[11]*C$zun+C$zua[2],C$zur[3]=C$zus[12]*C$zut+C$zus[13]*C$zue+C$zus[14]*C$zui+C$zus[15]*C$zun+C$zua[3]),C$zur},$m}(),C$zuS=(function(){function $m(){}C$zui($m,"laya.maths.Arith"),$m.formatR=function(C$zut){return C$zut>Math.PI&&(C$zut-=2*Math.PI),C$zut<-Math.PI&&(C$zut+=2*Math.PI),C$zut},$m.isPOT=function(C$zut,C$zue){return 0<C$zut&&0==(C$zut&C$zut-1)&&0<C$zue&&0==(C$zue&C$zue-1)},$m.setMatToArray=function(C$zut,C$zue){C$zut.a,C$zut.b,C$zut.c,C$zut.d,C$zut.tx,C$zut.ty,C$zue[0]=C$zut.a,C$zue[1]=C$zut.b,C$zue[4]=C$zut.c,C$zue[5]=C$zut.d,C$zue[12]=C$zut.tx,C$zue[13]=C$zut.ty}}(),function(){function $m(){this._controlPoints=[new C$zuP,new C$zuP,new C$zuP],this._calFun=this.getPoint2}C$zui($m,"laya.maths.Bezier");var C$zut=$m.prototype;return C$zut._switchPoint=function(C$zut,C$zue){var C$zui=this._controlPoints.shift();C$zui.setTo(C$zut,C$zue),this._controlPoints.push(C$zui)},C$zut.getPoint2=function(C$zut,C$zue){var C$zui=this._controlPoints[0],C$zun=this._controlPoints[1],C$zur=this._controlPoints[2],C$zus=Math.pow(1-C$zut,2)*C$zui.x+2*C$zut*(1-C$zut)*C$zun.x+Math.pow(C$zut,2)*C$zur.x,C$zui=Math.pow(1-C$zut,2)*C$zui.y+2*C$zut*(1-C$zut)*C$zun.y+Math.pow(C$zut,2)*C$zur.y;C$zue.push(C$zus,C$zui)},C$zut.getPoint3=function(C$zut,C$zue){var C$zui=this._controlPoints[0],C$zun=this._controlPoints[1],C$zur=this._controlPoints[2],C$zus=this._controlPoints[3],C$zua=Math.pow(1-C$zut,3)*C$zui.x+3*C$zun.x*C$zut*(1-C$zut)*(1-C$zut)+3*C$zur.x*C$zut*C$zut*(1-C$zut)+C$zus.x*Math.pow(C$zut,3),C$zui=Math.pow(1-C$zut,3)*C$zui.y+3*C$zun.y*C$zut*(1-C$zut)*(1-C$zut)+3*C$zur.y*C$zut*C$zut*(1-C$zut)+C$zus.y*Math.pow(C$zut,3);C$zue.push(C$zua,C$zui)},C$zut.insertPoints=function(C$zut,C$zue){var C$zui,C$zun=NaN;for(C$zui=1/(C$zut=0<C$zut?C$zut:5),C$zun=0;C$zun<=1;C$zun+=C$zui)this._calFun(C$zun,C$zue)},C$zut.getBezierPoints=function(C$zut,C$zue,C$zui){void 0===C$zue&&(C$zue=5);var C$zun,C$zur,C$zus=0;if((C$zun=C$zut.length)<2*((C$zui=void 0===C$zui?2:C$zui)+1))return[];switch(C$zur=[],C$zui){case 2:this._calFun=this.getPoint2;break;case 3:this._calFun=this.getPoint3;break;default:return[]}for(;this._controlPoints.length<=C$zui;)this._controlPoints.push(new C$zuP);for(C$zus=0;C$zus<2*C$zui;C$zus+=2)this._switchPoint(C$zut[C$zus],C$zut[C$zus+1]);for(C$zus=2*C$zui;C$zus<C$zun;C$zus+=2)this._switchPoint(C$zut[C$zus],C$zut[C$zus+1]),C$zus/2%C$zui==0&&this.insertPoints(C$zue,C$zur);return C$zur},C$zua($m,["I",function(){return this.I=new $m}]),$m}()),C$zuC=function(){function $K(){}return C$zui($K,"laya.maths.GrahamScan"),$K.multiply=function(C$zut,C$zue,C$zui){return(C$zut.x-C$zui.x)*(C$zue.y-C$zui.y)-(C$zue.x-C$zui.x)*(C$zut.y-C$zui.y)},$K.dis=function(C$zut,C$zue){return(C$zut.x-C$zue.x)*(C$zut.x-C$zue.x)+(C$zut.y-C$zue.y)*(C$zut.y-C$zue.y)},$K._getPoints=function(C$zut,C$zue,C$zui){for(void 0===C$zue&&(C$zue=!1),$K._mPointList||($K._mPointList=[]);$K._mPointList.length<C$zut;)$K._mPointList.push(new C$zuP);return(C$zui=C$zui||[]).length=0,C$zue?$K.getFrom(C$zui,$K._mPointList,C$zut):$K.getFromR(C$zui,$K._mPointList,C$zut),C$zui},$K.getFrom=function(C$zut,C$zue,C$zui){var C$zun=0;for(C$zun=0;C$zun<C$zui;C$zun++)C$zut.push(C$zue[C$zun]);return C$zut},$K.getFromR=function(C$zut,C$zue,C$zui){var C$zun=0;for(C$zun=0;C$zun<C$zui;C$zun++)C$zut.push(C$zue.pop());return C$zut},$K.pListToPointList=function(C$zut,C$zue){var C$zui=0,C$zun=C$zut.length/2,C$zur=$K._getPoints(C$zun,C$zue=void 0===C$zue?!1:C$zue,$K._tempPointList);for(C$zui=0;C$zui<C$zun;C$zui++)C$zur[C$zui].setTo(C$zut[C$zui+C$zui],C$zut[C$zui+C$zui+1]);return C$zur},$K.pointListToPlist=function(C$zut){var C$zue,C$zui=0,C$zun=C$zut.length,C$zur=$K._temPList;for(C$zui=C$zur.length=0;C$zui<C$zun;C$zui++)C$zue=C$zut[C$zui],C$zur.push(C$zue.x,C$zue.y);return C$zur},$K.scanPList=function(C$zut){return C$zuZ.copyArray(C$zut,$K.pointListToPlist($K.scan($K.pListToPointList(C$zut,!0))))},$K.scan=function(C$zut){var C$zue,C$zui,C$zun,C$zur,C$zus=0,C$zua=0,C$zuo=0,C$zuh=(C$zut.length,{});for((C$zui=$K._temArr).length=0,C$zus=C$zut.length-1;0<=C$zus;C$zus--)C$zun=(C$zue=C$zut[C$zus]).x+"_"+C$zue.y,C$zuh.hasOwnProperty(C$zun)||(C$zuh[C$zun]=!0,C$zui.push(C$zue));for(C$zur=C$zui.length,C$zuZ.copyArray(C$zut,C$zui),C$zus=1;C$zus<C$zur;C$zus++)(C$zut[C$zus].y<C$zut[C$zuo].y||C$zut[C$zus].y==C$zut[C$zuo].y&&C$zut[C$zus].x<C$zut[C$zuo].x)&&(C$zuo=C$zus);for(C$zue=C$zut[0],C$zut[0]=C$zut[C$zuo],C$zut[C$zuo]=C$zue,C$zus=1;C$zus<C$zur-1;C$zus++){for(C$zua=(C$zuo=C$zus)+1;C$zua<C$zur;C$zua++)(0<$K.multiply(C$zut[C$zua],C$zut[C$zuo],C$zut[0])||0==$K.multiply(C$zut[C$zua],C$zut[C$zuo],C$zut[0])&&$K.dis(C$zut[0],C$zut[C$zua])<$K.dis(C$zut[0],C$zut[C$zuo]))&&(C$zuo=C$zua);C$zue=C$zut[C$zus],C$zut[C$zus]=C$zut[C$zuo],C$zut[C$zuo]=C$zue}if((C$zui=$K._temArr).length=0,C$zut.length<3)return C$zuZ.copyArray(C$zui,C$zut);for(C$zui.push(C$zut[0],C$zut[1],C$zut[2]),C$zus=3;C$zus<C$zur;C$zus++){for(;2<=C$zui.length&&0<=$K.multiply(C$zut[C$zus],C$zui[C$zui.length-1],C$zui[C$zui.length-2]);)C$zui.pop();C$zut[C$zus]&&C$zui.push(C$zut[C$zus])}return C$zui},$K._mPointList=null,$K._tempPointList=[],$K._temPList=[],$K._temArr=[],$K}(),C$zuD=function(){function $L(){}return C$zui($L,"laya.maths.MathUtil"),$L.subtractVector3=function(C$zut,C$zue,C$zui){C$zui[0]=C$zut[0]-C$zue[0],C$zui[1]=C$zut[1]-C$zue[1],C$zui[2]=C$zut[2]-C$zue[2]},$L.lerp=function(C$zut,C$zue,C$zui){return C$zut*(1-C$zui)+C$zue*C$zui},$L.scaleVector3=function(C$zut,C$zue,C$zui){C$zui[0]=C$zut[0]*C$zue,C$zui[1]=C$zut[1]*C$zue,C$zui[2]=C$zut[2]*C$zue},$L.lerpVector3=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut[0],C$zus=C$zut[1],C$zut=C$zut[2];C$zun[0]=C$zur+C$zui*(C$zue[0]-C$zur),C$zun[1]=C$zus+C$zui*(C$zue[1]-C$zus),C$zun[2]=C$zut+C$zui*(C$zue[2]-C$zut)},$L.lerpVector4=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut[0],C$zus=C$zut[1],C$zua=C$zut[2],C$zut=C$zut[3];C$zun[0]=C$zur+C$zui*(C$zue[0]-C$zur),C$zun[1]=C$zus+C$zui*(C$zue[1]-C$zus),C$zun[2]=C$zua+C$zui*(C$zue[2]-C$zua),C$zun[3]=C$zut+C$zui*(C$zue[3]-C$zut)},$L.slerpQuaternionArray=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){var C$zuu,C$zuo,C$zuc=C$zut[C$zue+0],C$zu_=C$zut[C$zue+1],C$zud=C$zut[C$zue+2],C$zut=C$zut[C$zue+3],C$zue=C$zui[C$zun+0],C$zuh=C$zui[C$zun+1],C$zul=C$zui[C$zun+2],C$zui=C$zui[C$zun+3];return(C$zun=C$zuc*C$zue+C$zu_*C$zuh+C$zud*C$zul+C$zut*C$zui)<0&&(C$zun=-C$zun,C$zue=-C$zue,C$zuh=-C$zuh,C$zul=-C$zul,C$zui=-C$zui),C$zun=1e-6<1-C$zun?(C$zun=Math.acos(C$zun),C$zuu=Math.sin(C$zun),C$zuo=Math.sin((1-C$zur)*C$zun)/C$zuu,Math.sin(C$zur*C$zun)/C$zuu):(C$zuo=1-C$zur,C$zur),C$zus[C$zua+0]=C$zuo*C$zuc+C$zun*C$zue,C$zus[C$zua+1]=C$zuo*C$zu_+C$zun*C$zuh,C$zus[C$zua+2]=C$zuo*C$zud+C$zun*C$zul,C$zus[C$zua+3]=C$zuo*C$zut+C$zun*C$zui,C$zus},$L.getRotation=function(C$zut,C$zue,C$zui,C$zun){return Math.atan2(C$zun-C$zue,C$zui-C$zut)/Math.PI*180},$L.sortBigFirst=function(C$zut,C$zue){return C$zut==C$zue?0:C$zut<C$zue?1:-1},$L.sortSmallFirst=function(C$zut,C$zue){return C$zut==C$zue?0:C$zut<C$zue?-1:1},$L.sortNumBigFirst=function(C$zut,C$zue){return parseFloat(C$zue)-parseFloat(C$zut)},$L.sortNumSmallFirst=function(C$zut,C$zue){return parseFloat(C$zut)-parseFloat(C$zue)},$L.sortByKey=function(C$zui,C$zut,C$zue){var C$zun;return void 0===C$zue&&(C$zue=!0),C$zun=(C$zut=void 0===C$zut?!1:C$zut)?C$zue?$L.sortNumBigFirst:$L.sortBigFirst:C$zue?$L.sortNumSmallFirst:$L.sortSmallFirst,function(C$zut,C$zue){return C$zun(C$zut[C$zui],C$zue[C$zui])}},$L}(),C$zuE=function(){function $h(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this.inPool=!1,this.bTransform=!1,void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0),void 0===C$zun&&(C$zun=1),void 0===C$zur&&(C$zur=0),void 0===C$zus&&(C$zus=0),this.a=C$zut=void 0===C$zut?1:C$zut,this.b=C$zue,this.c=C$zui,this.d=C$zun,this.tx=C$zur,this.ty=C$zus,this._checkTransform()}C$zui($h,"laya.maths.Matrix");var C$zut=$h.prototype;return C$zut.identity=function(){return this.a=this.d=1,this.b=this.tx=this.ty=this.c=0,this.bTransform=!1,this},C$zut._checkTransform=function(){return this.bTransform=1!==this.a||0!==this.b||0!==this.c||1!==this.d},C$zut.setTranslate=function(C$zut,C$zue){return this.tx=C$zut,this.ty=C$zue,this},C$zut.translate=function(C$zut,C$zue){return this.tx+=C$zut,this.ty+=C$zue,this},C$zut.scale=function(C$zut,C$zue){this.a*=C$zut,this.d*=C$zue,this.c*=C$zut,this.b*=C$zue,this.tx*=C$zut,this.ty*=C$zue,this.bTransform=!0},C$zut.rotate=function(C$zut){var C$zue=Math.cos(C$zut),C$zut=Math.sin(C$zut),C$zui=this.a,C$zun=this.c,C$zur=this.tx;this.a=C$zui*C$zue-this.b*C$zut,this.b=C$zui*C$zut+this.b*C$zue,this.c=C$zun*C$zue-this.d*C$zut,this.d=C$zun*C$zut+this.d*C$zue,this.tx=C$zur*C$zue-this.ty*C$zut,this.ty=C$zur*C$zut+this.ty*C$zue,this.bTransform=!0},C$zut.skew=function(C$zut,C$zue){var C$zut=Math.tan(C$zut),C$zue=Math.tan(C$zue),C$zui=this.a,C$zun=this.b;return this.a+=C$zue*this.c,this.b+=C$zue*this.d,this.c+=C$zut*C$zui,this.d+=C$zut*C$zun,this},C$zut.invertTransformPoint=function(C$zut){var C$zue=this.a,C$zui=this.b,C$zun=this.c,C$zur=this.d,C$zus=this.tx,C$zua=C$zue*C$zur-C$zui*C$zun,C$zuo=(C$zun*this.ty-C$zur*C$zus)/C$zua,C$zus=-(C$zue*this.ty-C$zui*C$zus)/C$zua;return C$zut.setTo(C$zur/C$zua*C$zut.x+-C$zun/C$zua*C$zut.y+C$zuo,-C$zui/C$zua*C$zut.x+C$zue/C$zua*C$zut.y+C$zus)},C$zut.transformPoint=function(C$zut){return C$zut.setTo(this.a*C$zut.x+this.c*C$zut.y+this.tx,this.b*C$zut.x+this.d*C$zut.y+this.ty)},C$zut.transformPointN=function(C$zut){return C$zut.setTo(this.a*C$zut.x+this.c*C$zut.y,this.b*C$zut.x+this.d*C$zut.y)},C$zut.transformPointArray=function(C$zut,C$zue){for(var C$zui=C$zut.length,C$zun=0;C$zun<C$zui;C$zun+=2){var C$zur=C$zut[C$zun],C$zus=C$zut[C$zun+1];C$zue[C$zun]=this.a*C$zur+this.c*C$zus+this.tx,C$zue[C$zun+1]=this.b*C$zur+this.d*C$zus+this.ty}return C$zue},C$zut.transformPointArrayScale=function(C$zut,C$zue){for(var C$zui=C$zut.length,C$zun=0;C$zun<C$zui;C$zun+=2){var C$zur=C$zut[C$zun],C$zus=C$zut[C$zun+1];C$zue[C$zun]=this.a*C$zur+this.c*C$zus,C$zue[C$zun+1]=this.b*C$zur+this.d*C$zus}return C$zue},C$zut.getScaleX=function(){return 0===this.b?this.a:Math.sqrt(this.a*this.a+this.b*this.b)},C$zut.getScaleY=function(){return 0===this.c?this.d:Math.sqrt(this.c*this.c+this.d*this.d)},C$zut.invert=function(){var C$zut=this.a,C$zue=this.b,C$zui=this.c,C$zun=this.d,C$zur=this.tx,C$zus=C$zut*C$zun-C$zue*C$zui;return this.a=C$zun/C$zus,this.b=-C$zue/C$zus,this.c=-C$zui/C$zus,this.d=C$zut/C$zus,this.tx=(C$zui*this.ty-C$zun*C$zur)/C$zus,this.ty=-(C$zut*this.ty-C$zue*C$zur)/C$zus,this},C$zut.setTo=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){return this.a=C$zut,this.b=C$zue,this.c=C$zui,this.d=C$zun,this.tx=C$zur,this.ty=C$zus,this},C$zut.concat=function(C$zut){var C$zue=this.a,C$zui=this.c,C$zun=this.tx;return this.a=C$zue*C$zut.a+this.b*C$zut.c,this.b=C$zue*C$zut.b+this.b*C$zut.d,this.c=C$zui*C$zut.a+this.d*C$zut.c,this.d=C$zui*C$zut.b+this.d*C$zut.d,this.tx=C$zun*C$zut.a+this.ty*C$zut.c+C$zut.tx,this.ty=C$zun*C$zut.b+this.ty*C$zut.d+C$zut.ty,this},C$zut.scaleEx=function(C$zut,C$zue){var C$zui=this.a,C$zun=this.b,C$zur=this.c,C$zus=this.d;0!==C$zun||0!==C$zur?(this.a=C$zut*C$zui,this.b=C$zut*C$zun,this.c=C$zue*C$zur):(this.a=C$zut*C$zui,this.b=0*C$zus,this.c=0*C$zui),this.d=C$zue*C$zus,this.bTransform=!0},C$zut.rotateEx=function(C$zut){var C$zue=Math.cos(C$zut),C$zut=Math.sin(C$zut),C$zui=this.a,C$zun=this.b,C$zur=this.c,C$zus=this.d;0!==C$zun||0!==C$zur?(this.a=C$zue*C$zui+C$zut*C$zur,this.b=C$zue*C$zun+C$zut*C$zus,this.c=-C$zut*C$zui+C$zue*C$zur,this.d=-C$zut*C$zun+C$zue*C$zus):(this.a=C$zue*C$zui,this.b=C$zut*C$zus,this.c=-C$zut*C$zui,this.d=C$zue*C$zus),this.bTransform=!0},C$zut.clone=function(){var C$zut=$h.create();return C$zut.a=this.a,C$zut.b=this.b,C$zut.c=this.c,C$zut.d=this.d,C$zut.tx=this.tx,C$zut.ty=this.ty,C$zut.bTransform=this.bTransform,C$zut},C$zut.copyTo=function(C$zut){return C$zut.a=this.a,C$zut.b=this.b,C$zut.c=this.c,C$zut.d=this.d,C$zut.tx=this.tx,C$zut.ty=this.ty,C$zut.bTransform=this.bTransform,C$zut},C$zut.toString=function(){return this.a+","+this.b+","+this.c+","+this.d+","+this.tx+","+this.ty},C$zut.destroy=function(){var C$zut;this.inPool||(C$zut=$h._cache,this.inPool=!0,C$zut._length||(C$zut._length=0),(C$zut[C$zut._length++]=this).a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.bTransform=!1)},$h.mul=function(C$zut,C$zue,C$zui){var C$zun=C$zut.a,C$zur=C$zut.b,C$zus=C$zut.c,C$zuu=C$zut.d,C$zuc=C$zut.tx,C$zut=C$zut.ty,C$zua=C$zue.a,C$zuo=C$zue.b,C$zuh=C$zue.c,C$zul=C$zue.d,C$zu_=C$zue.tx,C$zue=C$zue.ty;return 0!==C$zuo||0!==C$zuh?(C$zui.a=C$zun*C$zua+C$zur*C$zuh,C$zui.b=C$zun*C$zuo+C$zur*C$zul,C$zui.c=C$zus*C$zua+C$zuu*C$zuh,C$zui.d=C$zus*C$zuo+C$zuu*C$zul,C$zui.tx=C$zua*C$zuc+C$zuh*C$zut+C$zu_,C$zui.ty=C$zuo*C$zuc+C$zul*C$zut+C$zue):(C$zui.a=C$zun*C$zua,C$zui.b=C$zur*C$zul,C$zui.c=C$zus*C$zua,C$zui.d=C$zuu*C$zul,C$zui.tx=C$zua*C$zuc+C$zu_,C$zui.ty=C$zul*C$zut+C$zue),C$zui},$h.mul16=function(C$zut,C$zue,C$zui){var C$zun=C$zut.a,C$zur=C$zut.b,C$zus=C$zut.c,C$zuu=C$zut.d,C$zuc=C$zut.tx,C$zut=C$zut.ty,C$zua=C$zue.a,C$zuo=C$zue.b,C$zuh=C$zue.c,C$zul=C$zue.d,C$zu_=C$zue.tx,C$zue=C$zue.ty;return 0!==C$zuo||0!==C$zuh?(C$zui[0]=C$zun*C$zua+C$zur*C$zuh,C$zui[1]=C$zun*C$zuo+C$zur*C$zul,C$zui[4]=C$zus*C$zua+C$zuu*C$zuh,C$zui[5]=C$zus*C$zuo+C$zuu*C$zul,C$zui[12]=C$zua*C$zuc+C$zuh*C$zut+C$zu_,C$zui[13]=C$zuo*C$zuc+C$zul*C$zut+C$zue):(C$zui[0]=C$zun*C$zua,C$zui[1]=C$zur*C$zul,C$zui[4]=C$zus*C$zua,C$zui[5]=C$zuu*C$zul,C$zui[12]=C$zua*C$zuc+C$zu_,C$zui[13]=C$zul*C$zut+C$zue),C$zui},$h.mulPre=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zuu,C$zuc,C$zus){var C$zua=C$zut.a,C$zuo=C$zut.b,C$zuh=C$zut.c,C$zul=C$zut.d,C$zu_=C$zut.tx,C$zut=C$zut.ty;return 0!==C$zui||0!==C$zun?(C$zus.a=C$zua*C$zue+C$zuo*C$zun,C$zus.b=C$zua*C$zui+C$zuo*C$zur,C$zus.c=C$zuh*C$zue+C$zul*C$zun,C$zus.d=C$zuh*C$zui+C$zul*C$zur,C$zus.tx=C$zue*C$zu_+C$zun*C$zut+C$zuu,C$zus.ty=C$zui*C$zu_+C$zur*C$zut+C$zuc):(C$zus.a=C$zua*C$zue,C$zus.b=C$zuo*C$zur,C$zus.c=C$zuh*C$zue,C$zus.d=C$zul*C$zur,C$zus.tx=C$zue*C$zu_+C$zuu,C$zus.ty=C$zur*C$zut+C$zuc),C$zus},$h.mulPos=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zuu,C$zuc,C$zus){var C$zua=C$zut.a,C$zuo=C$zut.b,C$zuh=C$zut.c,C$zul=C$zut.d,C$zu_=C$zut.tx,C$zut=C$zut.ty;return 0!==C$zuo||0!==C$zuh?(C$zus.a=C$zue*C$zua+C$zui*C$zuh,C$zus.b=C$zue*C$zuo+C$zui*C$zul,C$zus.c=C$zun*C$zua+C$zur*C$zuh,C$zus.d=C$zun*C$zuo+C$zur*C$zul,C$zus.tx=C$zua*C$zuu+C$zuh*C$zuc+C$zu_,C$zus.ty=C$zuo*C$zuu+C$zul*C$zuc+C$zut):(C$zus.a=C$zue*C$zua,C$zus.b=C$zui*C$zul,C$zus.c=C$zun*C$zua,C$zus.d=C$zur*C$zul,C$zus.tx=C$zua*C$zuu+C$zu_,C$zus.ty=C$zul*C$zuc+C$zut),C$zus},$h.preMul=function(C$zut,C$zue,C$zui){var C$zun=C$zut.a,C$zur=C$zut.b,C$zus=C$zut.c,C$zua=C$zut.d,C$zuo=C$zue.a,C$zuh=C$zue.b,C$zul=C$zue.c,C$zuu=C$zue.d,C$zuc=C$zue.tx,C$zue=C$zue.ty;return C$zui.a=C$zuo*C$zun,C$zui.b=C$zui.c=0,C$zui.d=C$zuu*C$zua,C$zui.tx=C$zuc*C$zun+C$zut.tx,C$zui.ty=C$zue*C$zua+C$zut.ty,0===C$zuh&&0===C$zul&&0===C$zur&&0===C$zus||(C$zui.a+=C$zuh*C$zus,C$zui.d+=C$zul*C$zur,C$zui.b+=C$zuo*C$zur+C$zuh*C$zua,C$zui.c+=C$zul*C$zun+C$zuu*C$zus,C$zui.tx+=C$zue*C$zus,C$zui.ty+=C$zuc*C$zur),C$zui},$h.preMulXY=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut.a,C$zus=C$zut.b,C$zua=C$zut.c,C$zuo=C$zut.d;return C$zun.a=C$zur,C$zun.b=C$zus,C$zun.c=C$zua,C$zun.d=C$zuo,C$zun.tx=C$zue*C$zur+C$zut.tx+C$zui*C$zua,C$zun.ty=C$zui*C$zuo+C$zut.ty+C$zue*C$zus,C$zun},$h.create=function(){var C$zut=$h._cache,C$zut=C$zut._length?C$zut[--C$zut._length]:new $h;return C$zut.inPool=!1,C$zut},$h.EMPTY=new $h,$h.TEMP=new $h,$h._cache=[],$h}(),C$zuP=function(){function $m(C$zut,C$zue){void 0===C$zue&&(C$zue=0),this.x=C$zut=void 0===C$zut?0:C$zut,this.y=C$zue}C$zui($m,"laya.maths.Point");var C$zut=$m.prototype;return C$zut.setTo=function(C$zut,C$zue){return this.x=C$zut,this.y=C$zue,this},C$zut.distance=function(C$zut,C$zue){return Math.sqrt((this.x-C$zut)*(this.x-C$zut)+(this.y-C$zue)*(this.y-C$zue))},C$zut.toString=function(){return this.x+","+this.y},C$zut.normalize=function(){var C$zut=Math.sqrt(this.x*this.x+this.y*this.y);0<C$zut&&(this.x*=C$zut=1/C$zut,this.y*=C$zut)},$m.TEMP=new $m,$m.EMPTY=new $m,$m}(),C$zuA=function(){function $K(C$zut,C$zue,C$zui,C$zun){void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0),void 0===C$zun&&(C$zun=0),this.x=C$zut=void 0===C$zut?0:C$zut,this.y=C$zue,this.width=C$zui,this.height=C$zun}C$zui($K,"laya.maths.Rectangle");var C$zut=$K.prototype;return C$zut.setTo=function(C$zut,C$zue,C$zui,C$zun){return this.x=C$zut,this.y=C$zue,this.width=C$zui,this.height=C$zun,this},C$zut.copyFrom=function(C$zut){return this.x=C$zut.x,this.y=C$zut.y,this.width=C$zut.width,this.height=C$zut.height,this},C$zut.contains=function(C$zut,C$zue){return!(this.width<=0||this.height<=0)&&C$zut>=this.x&&C$zut<this.right&&C$zue>=this.y&&C$zue<this.bottom},C$zut.intersects=function(C$zut){return!(C$zut.x>this.x+this.width||C$zut.x+C$zut.width<this.x||C$zut.y>this.y+this.height||C$zut.y+C$zut.height<this.y)},C$zut.intersection=function(C$zut,C$zue){return this.intersects(C$zut)?((C$zue=C$zue||new $K).x=Math.max(this.x,C$zut.x),C$zue.y=Math.max(this.y,C$zut.y),C$zue.width=Math.min(this.right,C$zut.right)-C$zue.x,C$zue.height=Math.min(this.bottom,C$zut.bottom)-C$zue.y,C$zue):null},C$zut.union=function(C$zut,C$zue){return C$zue=C$zue||new $K,this.clone(C$zue),C$zut.width<=0||C$zut.height<=0?C$zue:(C$zue.addPoint(C$zut.x,C$zut.y),C$zue.addPoint(C$zut.right,C$zut.bottom),this)},C$zut.clone=function(C$zut){return(C$zut=C$zut||new $K).x=this.x,C$zut.y=this.y,C$zut.width=this.width,C$zut.height=this.height,C$zut},C$zut.toString=function(){return this.x+","+this.y+","+this.width+","+this.height},C$zut.equals=function(C$zut){return!(!C$zut||C$zut.x!==this.x||C$zut.y!==this.y||C$zut.width!==this.width||C$zut.height!==this.height)},C$zut.addPoint=function(C$zut,C$zue){return this.x>C$zut&&(this.width+=this.x-C$zut,this.x=C$zut),this.y>C$zue&&(this.height+=this.y-C$zue,this.y=C$zue),this.width<C$zut-this.x&&(this.width=C$zut-this.x),this.height<C$zue-this.y&&(this.height=C$zue-this.y),this},C$zut._getBoundPoints=function(){var C$zut=$K._temB;return(C$zut.length=0)==this.width||0==this.height||C$zut.push(this.x,this.y,this.x+this.width,this.y,this.x,this.y+this.height,this.x+this.width,this.y+this.height),C$zut},C$zut.isEmpty=function(){return this.width<=0||this.height<=0},C$zun(0,C$zut,"right",function(){return this.x+this.width}),C$zun(0,C$zut,"bottom",function(){return this.y+this.height}),$K._getBoundPointS=function(C$zut,C$zue,C$zui,C$zun){var C$zur=$K._temA;return(C$zur.length=0)==C$zui||0==C$zun||C$zur.push(C$zut,C$zue,C$zut+C$zui,C$zue,C$zut,C$zue+C$zun,C$zut+C$zui,C$zue+C$zun),C$zur},$K._getWrapRec=function(C$zut,C$zue){if(!C$zut||C$zut.length<1)return(C$zue||$K.TEMP).setTo(0,0,0,0);C$zue=C$zue||new $K;var C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo=C$zut.length,C$zuh=C$zuP.TEMP;for(C$zur=C$zua=-(C$zun=C$zus=99999),C$zui=0;C$zui<C$zuo;C$zui+=2)C$zuh.x=C$zut[C$zui],C$zuh.y=C$zut[C$zui+1],C$zun=C$zun<C$zuh.x?C$zun:C$zuh.x,C$zus=C$zus<C$zuh.y?C$zus:C$zuh.y,C$zur=C$zur>C$zuh.x?C$zur:C$zuh.x,C$zua=C$zua>C$zuh.y?C$zua:C$zuh.y;return C$zue.setTo(C$zun,C$zus,C$zur-C$zun,C$zua-C$zus)},$K.EMPTY=new $K,$K.TEMP=new $K,$K._temB=[],$K._temA=[],$K}(),C$zuI=(C$zui($d,"laya.media.SoundManager"),C$zun(1,$d,"useAudioMusic",function(){return $d._useAudioMusic},function(C$zut){$d._useAudioMusic=C$zut,$d._musicClass=C$zut?C$zunt:null}),C$zun(1,$d,"autoStopMusic",function(){return $d._autoStopMusic},function(C$zut){C$zuy.stage.off("blur",null,$d._stageOnBlur),C$zuy.stage.off("focus",null,$d._stageOnFocus),C$zuy.stage.off("visibilitychange",null,$d._visibilityChange),($d._autoStopMusic=C$zut)&&(C$zuy.stage.on("blur",null,$d._stageOnBlur),C$zuy.stage.on("focus",null,$d._stageOnFocus),C$zuy.stage.on("visibilitychange",null,$d._visibilityChange))}),C$zun(1,$d,"muted",function(){return $d._muted},function(C$zut){C$zut!=$d._muted&&(C$zut&&$d.stopAllSound(),$d.musicMuted=C$zut,$d._muted=C$zut)}),C$zun(1,$d,"musicMuted",function(){return $d._musicMuted},function(C$zut){C$zut!=$d._musicMuted&&(C$zut?($d._tMusic&&$d._musicChannel&&!$d._musicChannel.isStopped?$d._musicChannel.pause():$d._musicChannel=null,$d._musicMuted=C$zut):($d._musicMuted=C$zut,$d._tMusic&&$d._musicChannel&&$d._musicChannel.resume()))}),C$zun(1,$d,"soundMuted",function(){return $d._soundMuted},function(C$zut){$d._soundMuted=C$zut}),$d.addChannel=function(C$zut){0<=$d._channels.indexOf(C$zut)||($d._channels.push(C$zut),$d.autoReleaseSound&&0!=$d._notUsedCount&&$d._notUsedUrls[C$zut.url]&&(delete $d._notUsedUrls[C$zut.url],0==--$d._notUsedCount&&C$zuy.timer.clear($d,$d.disposeSoundIfNotUsed)))},$d.removeChannel=function(C$zut){var C$zue=$d._channels,C$zui=C$zue.indexOf(C$zut);if(-1!=C$zui&&(C$zue.splice(C$zui,1),$d.autoReleaseSound)){var C$zun=C$zut.url,C$zut=$d.defaultIntervals[C$zun]||2e4;if(0<C$zut){var C$zur=!0;for(C$zui=C$zue.length-1;0<=C$zui;C$zui--)if(C$zue[C$zui].url==C$zun){C$zur=!1;break}C$zur&&($d._notUsedUrls[C$zun]=Date.now()+C$zut,0==$d._notUsedCount++&&C$zuy.timer.loop(1e4,$d,$d.disposeSoundIfNotUsed))}}},$d.disposeSoundIfNotUsed=function(){var C$zut=$d._notUsedUrls;if(0!=$d._notUsedCount){var C$zue=Date.now();for(var C$zui in C$zut)C$zue>=C$zut[C$zui]&&(delete C$zut[C$zui],--$d._notUsedCount,$d.destroySound(C$zui));if(0!=$d._notUsedCount)return}C$zuy.timer.clear($d,$d.disposeSoundIfNotUsed)},$d._visibilityChange=function(){C$zuy.stage.isVisibility?$d._stageOnFocus():$d._stageOnBlur()},$d._stageOnBlur=function(){$d._isActive=!1,$d._musicChannel&&($d._musicChannel.isStopped||($d._blurPaused=!0,$d._musicChannel.pause())),$d.stopAllSound(),C$zuy.stage.once("mousedown",null,$d._stageOnFocus)},$d._recoverWebAudio=function(){C$zuat.ctx&&"running"!=C$zuat.ctx.state&&C$zuat.ctx.resume&&C$zuat.ctx.resume()},$d._stageOnFocus=function(){var C$zut;$d._isActive=!0,$d._recoverWebAudio(),C$zuy.stage.off("mousedown",null,$d._stageOnFocus),$d._blurPaused&&(C$zut=$d._musicChannel)&&$d._music&&C$zut.isStopped&&($d._blurPaused=!1,$d._music._disposed?$d.playMusic(C$zut.url,C$zut.loops,C$zut.startHandler,C$zut.completeHandler,C$zut.startTime):C$zut.audioBuffer?C$zut.resume():$d._music.play(C$zut.startTime,C$zut.loops,C$zut.startHandler,C$zut))},$d.playSound=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){if(void 0===C$zue&&(C$zue=1),void 0===C$zus&&(C$zus=0),!C$zut)return null;if($d._muted)return null;if($d._recoverWebAudio(),C$zut==$d._tMusic){if($d._musicMuted)return null}else{if(!$d._isActive)return null;if($d._soundMuted)return null}var C$zua=$d._pool[C$zut];return C$zur=C$zur||$d._soundClass,C$zua||((C$zua=new C$zur).load(C$zut),$d._pool[C$zut]=C$zua),(C$zur=C$zua.play(C$zus,C$zue,C$zui))?(C$zut==$d._tMusic&&($d._music=C$zua,$d._isActive||($d._blurPaused=!0,C$zur.pause())),C$zur.url=C$zut,C$zur.volume=C$zut==$d._tMusic?$d.musicVolume:$d.soundVolume,C$zur.completeHandler=C$zun,C$zur):null},$d.destroySound=function(C$zut){var C$zue=$d._pool[C$zut];C$zue&&(delete $d._pool[C$zut],C$zue.dispose())},$d.playMusic=function(C$zut,C$zue,C$zui,C$zun,C$zur){return void 0===C$zue&&(C$zue=0),void 0===C$zur&&(C$zur=0),$d._tMusic=C$zut,$d._musicChannel&&$d._musicChannel.stop(),$d._musicChannel=$d.playSound(C$zut,C$zue,C$zui,C$zun,null,C$zur)},$d.stopSound=function(C$zut){for(var C$zue,C$zui=$d._channels.length-1;0<=C$zui;C$zui--)(C$zue=$d._channels[C$zui]).url==C$zut&&C$zue.stop()},$d.stopAll=function(){$d._tMusic=null;var C$zut=0;for(C$zut=$d._channels.length-1;0<=C$zut;C$zut--)$d._channels[C$zut].stop()},$d.stopAllSound=function(){var C$zut,C$zue=0;for(C$zue=$d._channels.length-1;0<=C$zue;C$zue--)(C$zut=$d._channels[C$zue]).url!=$d._tMusic&&C$zut.stop()},$d.stopMusic=function(){$d._musicChannel&&$d._musicChannel.stop(),$d._tMusic=null},$d.setSoundVolume=function(C$zut,C$zue){if(C$zue)$d._setVolume(C$zue,C$zut);else{$d.soundVolume=C$zut;var C$zui,C$zun=0;for(C$zun=$d._channels.length-1;0<=C$zun;C$zun--)(C$zui=$d._channels[C$zun]).url!=$d._tMusic&&(C$zui.volume=C$zut)}},$d.setMusicVolume=function(C$zut){$d.musicVolume=C$zut,$d._setVolume($d._tMusic,C$zut)},$d._setVolume=function(C$zut,C$zue){for(var C$zui,C$zun=$d._channels.length-1;0<=C$zun;C$zun--)(C$zui=$d._channels[C$zun]).url==C$zut&&(C$zui.volume=C$zue)},$d.musicVolume=1,$d.soundVolume=1,$d.playbackRate=1,$d._useAudioMusic=!0,$d._muted=!1,$d._soundMuted=!1,$d._musicMuted=!1,$d._tMusic=null,$d._musicChannel=null,$d._music=null,$d._channels=[],$d._autoStopMusic=!1,$d._blurPaused=!1,$d._isActive=!0,$d._soundClass=null,$d._musicClass=null,$d.autoReleaseSound=!0,$d._pool={},$d.defaultIntervals={},$d._notUsedUrls={},$d._notUsedCount=0,$d),C$zuR=function(){var C$zut;function $h(){}return C$zui($h,"laya.net.LocalStorage"),$h.__init__=function(){$h._baseClass||($h._baseClass=C$zut).init(),$h.items=$h._baseClass.items,$h.support=$h._baseClass.support},$h.setItem=function(C$zut,C$zue){$h._baseClass.setItem(C$zut,C$zue)},$h.getItem=function(C$zut){return $h._baseClass.getItem(C$zut)},$h.setJSON=function(C$zut,C$zue){$h._baseClass.setJSON(C$zut,C$zue)},$h.getJSON=function(C$zut){return $h._baseClass.getJSON(C$zut)},$h.removeItem=function(C$zut){$h._baseClass.removeItem(C$zut)},$h.clear=function(){$h._baseClass.clear()},$h._baseClass=null,$h.items=null,$h.support=!1,$h.__init$=function(){function $h(){}C$zui($h,""),$h.init=function(){try{$h.support=!0,$h.items=C$zus.localStorage,$h.setItem("laya","1"),$h.removeItem("laya")}catch(C$zut){$h.support=!1}$h.support||console.log("LocalStorage is not supprot or browser is private mode.")},$h.setItem=function(C$zut,C$zue){try{$h.support&&$h.items.setItem(C$zut,C$zue)}catch(C$zut){console.warn("set localStorage failed",C$zut)}},$h.getItem=function(C$zut){return $h.support?$h.items.getItem(C$zut):null},$h.setJSON=function(C$zut,C$zue){try{$h.support&&$h.items.setItem(C$zut,JSON.stringify(C$zue))}catch(C$zut){console.warn("set localStorage failed",C$zut)}},$h.getJSON=function(C$zut){return JSON.parse($h.support?$h.items.getItem(C$zut):null)},$h.removeItem=function(C$zut){$h.support&&$h.items.removeItem(C$zut)},$h.clear=function(){$h.support&&$h.items.clear()},$h.items=null,$h.support=!1,C$zut=$h},$h}(),C$zuL=(C$zui($P,"laya.net.ResourceVersion"),$P.enable=function(C$zut,C$zue,C$zui){void 0===C$zui&&(C$zui=2),laya.net.ResourceVersion.type=C$zui,C$zuy.loader.load(C$zut,C$zug.create(null,$P.onManifestLoaded,[C$zue]),null,"json"),C$zuB.customFormat=$P.addVersionPrefix},$P.onManifestLoaded=function(C$zut,C$zue){$P.manifest=C$zue,C$zut.run(),C$zue||console.warn("\u8d44\u6e90\u7248\u672c\u6e05\u5355\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u4e0d\u4f7f\u7528\u8d44\u6e90\u7248\u672c\u7ba1\u7406\u3002\u5ffd\u7565ERR_FILE_NOT_FOUND\u9519\u8bef\u3002")},$P.addVersionPrefix=function(C$zut){return $P.manifest&&$P.manifest[C$zut]?2==$P.type?$P.manifest[C$zut]:$P.manifest[C$zut]+"/"+C$zut:C$zut},$P.FOLDER_VERSION=1,$P.FILENAME_VERSION=2,$P.manifest=null,$P.type=1,function(){function $m(){this.fontName=null,this.complete=null,this.err=null,this._fontTxt=null,this._url=null,this._div=null,this._txtWidth=NaN,this._http=null}C$zui($m,"laya.net.TTFLoader");var C$zut=$m.prototype;return C$zut.load=function(C$zut){C$zut=(this._url=C$zut).split(".ttf")[0].split("/");this.fontName=C$zut[C$zut.length-1],C$zuM.window.conch?this._loadConch():C$zuM.window.FontFace?this._loadWithFontFace():this._loadWithCSS()},C$zut._loadConch=function(){this._http=new C$zuot,this._http.on("error",this,this._onErr),this._http.on("complete",this,this._onHttpLoaded),this._http.send(this._url,null,"get","arraybuffer")},C$zut._onHttpLoaded=function(C$zut){C$zuM.window.conch.setFontFaceFromBuffer(this.fontName,C$zut),this._clearHttp(),this._complete()},C$zut._clearHttp=function(){this._http&&(this._http.off("error",this,this._onErr),this._http.off("complete",this,this._onHttpLoaded),this._http=null)},C$zut._onErr=function(){this._clearHttp(),this.err&&(this.err.runWith("fail:"+this._url),this.err=null)},C$zut._complete=function(){C$zuy.timer.clear(this,this._complete),C$zuy.timer.clear(this,this._checkComplete),this._div&&this._div.parentNode&&(this._div.parentNode.removeChild(this._div),this._div=null),this.complete&&(this.complete.runWith(this),this.complete=null)},C$zut._checkComplete=function(){C$zum.measureText("LayaTTFFont",this._fontTxt).width!=this._txtWidth&&this._complete()},C$zut._loadWithFontFace=function(){var C$zut=new C$zuM.window.FontFace(this.fontName,"url('"+this._url+"')");C$zuM.window.document.fonts.add(C$zut);var C$zue=this;C$zut.loaded.then(function(){C$zue._complete()}),C$zut.load()},C$zut._createDiv=function(){this._div=C$zuM.createElement("div"),this._div.innerHTML="laya";var C$zut=this._div.style;C$zut.fontFamily=this.fontName,C$zut.position="absolute",C$zut.left="-100px",C$zut.top="-100px",C$zuM.document.body.appendChild(this._div)},C$zut._loadWithCSS=function(){var C$zut=this,C$zue=C$zuM.createElement("style");C$zue.type="text/css",C$zuM.document.body.appendChild(C$zue),C$zue.textContent="@font-face { font-family:'"+this.fontName+"'; src:url('"+this._url+"');}",this._fontTxt="40px "+this.fontName,this._txtWidth=C$zum.measureText("LayaTTFFont",this._fontTxt).width;var C$zui=this;C$zue.onload=function(){C$zuy.timer.once(1e4,C$zui,C$zut._complete)},C$zuy.timer.loop(20,this,this._checkComplete),this._createDiv()},$m._testString="LayaTTFFont",$m}()),C$zuB=function(){function $P(C$zut){this._url=null,this._path=null,this._url=$P.formatURL(C$zut),this._path=$P.getPath(C$zut)}C$zui($P,"laya.net.URL");var C$zut=$P.prototype;return C$zun(0,C$zut,"path",function(){return this._path}),C$zun(0,C$zut,"url",function(){return this._url}),$P.formatURL=function(C$zut,C$zue){if(!C$zut)return"null path";if(0<C$zut.indexOf(":"))return C$zut;var C$zui=(C$zut=null!=$P.customFormat?$P.customFormat(C$zut,C$zue):C$zut).charAt(0);if("."===C$zui)return $P.formatRelativePath((C$zue||$P.basePath)+C$zut);if("~"===C$zui)return $P.rootPath+C$zut.substring(1);if("d"===C$zui){if(0===C$zut.indexOf("data:image"))return C$zut}else if("/"===C$zui)return C$zut;return(C$zue||$P.basePath)+C$zut},$P.formatRelativePath=function(C$zut){for(var C$zue=C$zut.split("/"),C$zui=0,C$zun=C$zue.length;C$zui<C$zun;C$zui++)".."==C$zue[C$zui]&&(C$zue.splice(C$zui-1,2),C$zui-=2);return C$zue.join("/")},$P.isAbsolute=function(C$zut){return 0<C$zut.indexOf(":")||"/"==C$zut.charAt(0)},$P.getPath=function(C$zut){var C$zue=C$zut.lastIndexOf("/");return 0<C$zue?C$zut.substr(0,C$zue+1):""},$P.getFileName=function(C$zut){var C$zue=C$zut.lastIndexOf("/");return 0<C$zue?C$zut.substr(C$zue+1):C$zut},$P.version={},$P.basePath="",$P.rootPath="",$P.customFormat=function(C$zut){var C$zue=$P.version[C$zut];return!C$zuw.isConchApp&&C$zue&&(C$zut+="?v="+C$zue),C$zut},$P}(),C$zuw=function(){function $L(C$zut,C$zue){this._timeId=0;var C$zui=$L._mainCanvas.source.style;C$zui.position="absolute",C$zui.top=C$zui.left="0px",C$zui.background="#000000",$L._mainCanvas.source.id="layaCanvas";C$zui=laya.renders.Render.isWebGL;$L._mainCanvas.source.width=C$zut,$L._mainCanvas.source.height=C$zue,C$zui&&$L.WebGL.init($L._mainCanvas,C$zut,C$zue),C$zuM.container.appendChild($L._mainCanvas.source),($L._context=new C$zuN(C$zut,C$zue,C$zui?null:$L._mainCanvas)).ctx.setIsMainContext(),C$zuM.window.requestAnimationFrame(function $m(C$zut){C$zuM.window.requestAnimationFrame($m),C$zuy.stage._loop()}),C$zuy.stage.on("visibilitychange",this,this._onVisibilitychange)}C$zui($L,"laya.renders.Render");var C$zut=$L.prototype;return C$zut._onVisibilitychange=function(){C$zuy.stage.isVisibility?0!=this._timeId&&C$zuM.window.clearInterval(this._timeId):this._timeId=C$zuM.window.setInterval(this._enterFrame,1e3)},C$zut._enterFrame=function(C$zut){C$zuy.stage._loop()},C$zun(1,$L,"context",function(){return $L._context}),C$zun(1,$L,"canvas",function(){return $L._mainCanvas.source}),$L._context=null,$L._mainCanvas=null,$L.WebGL=null,$L.isConchNode=!1,$L.isConchApp=!1,$L.isConchWebGL=!1,$L.isWebGL=!1,$L.is3DMode=!1,$L.optimizeTextureMemory=function(C$zut,C$zue){return!0},$L.__init$=function(){C$zus.ConchRenderType=C$zus.ConchRenderType||1,C$zus.ConchRenderType|=C$zus.conch?4:0,$L.isConchNode=5==(5&C$zus.ConchRenderType),$L.isConchApp=4==(4&C$zus.ConchRenderType),$L.isConchWebGL=6==C$zus.ConchRenderType},$L}(),C$zuN=(C$zui($k,"laya.renders.RenderContext"),(C$zue=$k.prototype).destroy=function(){this.canvas&&(this.canvas.destroy(),this.canvas=null,this.ctx=null),this.ctx&&(this.ctx.destroy(),this.ctx=null)},C$zue.drawTexture=function(C$zut,C$zue,C$zui,C$zun,C$zur){C$zut.loaded&&this.ctx.drawTexture(C$zut,C$zue,C$zui,C$zun,C$zur,this.x,this.y)},C$zue._drawTextures=function(C$zut,C$zue,C$zui){C$zui[0].loaded&&this.ctx.drawTextures(C$zui[0],C$zui[1],C$zut+this.x,C$zue+this.y)},C$zue.drawTextureWithTransform=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){C$zut.loaded&&this.ctx.drawTextureWithTransform(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,this.x,this.y,C$zua)},C$zue.fillQuadrangle=function(C$zut,C$zue,C$zui,C$zun,C$zur){this.ctx.fillQuadrangle(C$zut,C$zue,C$zui,C$zun,C$zur)},C$zue.drawCanvas=function(C$zut,C$zue,C$zui,C$zun,C$zur){this.ctx.drawCanvas(C$zut,C$zue+this.x,C$zui+this.y,C$zun,C$zur)},C$zue.drawRect=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){void 0===C$zus&&(C$zus=1);var C$zua=this.ctx;C$zua.strokeStyle=C$zur,C$zua.lineWidth=C$zus,C$zua.strokeRect(C$zut+this.x,C$zue+this.y,C$zui,C$zun,C$zus)},C$zue._fillAndStroke=function(C$zut,C$zue,C$zui,C$zun){void 0===C$zun&&(C$zun=!1);var C$zur=this.ctx;null!=C$zut&&(C$zur.fillStyle=C$zut,C$zuw.isWebGL?C$zur.fill(C$zun):C$zur.fill()),null!=C$zue&&0<C$zui&&(C$zur.strokeStyle=C$zue,C$zur.lineWidth=C$zui,C$zur.stroke())},C$zue.clipRect=function(C$zut,C$zue,C$zui,C$zun){this.ctx.clipRect(C$zut+this.x,C$zue+this.y,C$zui,C$zun)},C$zue.fillRect=function(C$zut,C$zue,C$zui,C$zun,C$zur){this.ctx.fillRect(C$zut+this.x,C$zue+this.y,C$zui,C$zun,C$zur)},C$zue.drawCircle=function(C$zut,C$zue,C$zui,C$zun,C$zur){void 0===C$zur&&(C$zur=1),C$zuK.drawCall++;var C$zus=this.ctx;C$zus.beginPath(),C$zus.strokeStyle=C$zun,C$zus.lineWidth=C$zur,C$zus.arc(C$zut+this.x,C$zue+this.y,C$zui,0,$k.PI2),C$zus.stroke()},C$zue.drawTriangles=function(C$zut,C$zue,C$zui){if(C$zuw.isWebGL)this.ctx.drawTriangles(C$zui[0],C$zut+C$zui[1],C$zue+C$zui[2],C$zui[3],C$zui[4],C$zui[5],C$zui[6],C$zui[7],C$zui[8],C$zui[9]);else{var C$zun=C$zui[5],C$zur=0,C$zus=C$zun.length,C$zua=this.ctx;for(C$zur=0;C$zur<C$zus;C$zur+=3){var C$zuo=2*C$zun[C$zur],C$zuh=2*C$zun[C$zur+1],C$zul=2*C$zun[C$zur+2];C$zua.drawTriangle(C$zui[0],C$zui[3],C$zui[4],C$zuo,C$zuh,C$zul,C$zui[6],!0)}}},C$zue.fillCircle=function(C$zut,C$zue,C$zui,C$zun){C$zuK.drawCall++;var C$zur=this.ctx;C$zur.beginPath(),C$zur.fillStyle=C$zun,C$zur.arc(C$zut+this.x,C$zue+this.y,C$zui,0,$k.PI2),C$zur.fill()},C$zue.setShader=function(C$zut){this.ctx.setShader(C$zut)},C$zue.drawLine=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){void 0===C$zus&&(C$zus=1);var C$zua=this.ctx;C$zua.beginPath(),C$zua.strokeStyle=C$zur,C$zua.lineWidth=C$zus,C$zua.moveTo(this.x+C$zut,this.y+C$zue),C$zua.lineTo(this.x+C$zui,this.y+C$zun),C$zua.stroke()},C$zue.clear=function(){this.ctx.clear()},C$zue.transformByMatrix=function(C$zut){this.ctx.transformByMatrix(C$zut)},C$zue.setTransform=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this.ctx.setTransform(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus)},C$zue.setTransformByMatrix=function(C$zut){this.ctx.setTransformByMatrix(C$zut)},C$zue.save=function(){this.ctx.save()},C$zue.restore=function(){this.ctx.restore()},C$zue.translate=function(C$zut,C$zue){this.ctx.translate(C$zut,C$zue)},C$zue.transform=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this.ctx.transform(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus)},C$zue.rotate=function(C$zut){this.ctx.rotate(C$zut)},C$zue.scale=function(C$zut,C$zue){this.ctx.scale(C$zut,C$zue)},C$zue.alpha=function(C$zut){this.ctx.globalAlpha*=C$zut},C$zue.setAlpha=function(C$zut){this.ctx.globalAlpha=C$zut},C$zue.fillWords=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this.ctx.fillWords(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus=void 0===C$zus?0:C$zus)},C$zue.fillBorderWords=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){this.ctx.fillBorderWords(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua)},C$zue.fillText=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this.ctx.fillText(C$zut,C$zue+this.x,C$zui+this.y,C$zun,C$zur,C$zus)},C$zue.strokeText=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){this.ctx.strokeText(C$zut,C$zue+this.x,C$zui+this.y,C$zun,C$zur,C$zus,C$zua)},C$zue.blendMode=function(C$zut){this.ctx.globalCompositeOperation=C$zut},C$zue.flush=function(){this.ctx.flush&&this.ctx.flush()},C$zue.addRenderObject=function(C$zut){this.ctx.addRenderObject(C$zut)},C$zue.beginClip=function(C$zut,C$zue,C$zui,C$zun){this.ctx.beginClip&&this.ctx.beginClip(C$zut,C$zue,C$zui,C$zun)},C$zue.endClip=function(){this.ctx.endClip&&this.ctx.endClip()},C$zue.fillTrangles=function(C$zut,C$zue,C$zui){this.ctx.fillTrangles(C$zui[0],C$zui[1],C$zui[2],C$zui[3],4<C$zui.length?C$zui[4]:null)},$k.PI2=2*Math.PI,$k),C$zuF=function(){function $k(C$zut,C$zue){switch(this._next=C$zue||$k.NORENDER,C$zut){case 0:return void(this._fun=this._no);case 1:return void(this._fun=this._image);case 2:return void(this._fun=this._alpha);case 4:return void(this._fun=this._transform);case 8:return void(this._fun=this._blend);case 16:return void(this._fun=this._canvas);case 64:return void(this._fun=this._mask);case 128:return void(this._fun=this._clip);case 256:return void(this._fun=this._style);case 512:return void(this._fun=this._graphics);case 2048:return void(this._fun=this._childs);case 1024:return void(this._fun=this._custom);case 513:case 517:return void(this._fun=this._image2);case 32:return void(this._fun=C$zub._filter);case 69905:return void(this._fun=$k._initRenderFun)}this.onCreate(C$zut)}C$zui($k,"laya.renders.RenderSprite");var C$zut=$k.prototype;return C$zut.onCreate=function(C$zut){},C$zut._style=function(C$zut,C$zue,C$zui,C$zun){C$zut._style.render(C$zut,C$zue,C$zui,C$zun);var C$zur=this._next;C$zur._fun.call(C$zur,C$zut,C$zue,C$zui,C$zun)},C$zut._no=function(C$zut,C$zue,C$zui,C$zun){},C$zut._custom=function(C$zut,C$zue,C$zui,C$zun){C$zut.customRender(C$zue,C$zui,C$zun);var C$zur=C$zut._style._tf;this._next._fun.call(this._next,C$zut,C$zue,C$zui-C$zur.translateX,C$zun-C$zur.translateY)},C$zut._clip=function(C$zut,C$zue,C$zui,C$zun){var C$zur=this._next;var C$zus;C$zur!=$k.NORENDER&&(C$zus=C$zut._style.scrollRect,C$zue.ctx.save(),C$zue.ctx.clipRect(C$zui,C$zun,C$zus.width,C$zus.height),C$zur._fun.call(C$zur,C$zut,C$zue,C$zui-C$zus.x,C$zun-C$zus.y),C$zue.ctx.restore())},C$zut._blend=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut._style;C$zur.blendMode&&(C$zue.ctx.globalCompositeOperation=C$zur.blendMode);C$zur=this._next;C$zur._fun.call(C$zur,C$zut,C$zue,C$zui,C$zun),C$zue.ctx.globalCompositeOperation="source-over"},C$zut._mask=function(C$zut,C$zue,C$zui,C$zun){var C$zur=this._next;C$zur._fun.call(C$zur,C$zut,C$zue,C$zui,C$zun);C$zur=C$zut.mask;C$zur&&(C$zue.ctx.globalCompositeOperation="destination-in",(0<C$zur.numChildren||!C$zur.graphics._isOnlyOne())&&(C$zur.cacheAsBitmap=!0),C$zur.render(C$zue,C$zui-C$zut.pivotX,C$zun-C$zut.pivotY)),C$zue.ctx.globalCompositeOperation="source-over"},C$zut._graphics=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut._style._tf;C$zut._graphics&&C$zut._graphics._render(C$zut,C$zue,C$zui-C$zur.translateX,C$zun-C$zur.translateY);C$zur=this._next;C$zur._fun.call(C$zur,C$zut,C$zue,C$zui,C$zun)},C$zut._image=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut._style;C$zue.ctx.drawTexture2(C$zui,C$zun,C$zur._tf.translateX,C$zur._tf.translateY,C$zut.transform,C$zur.alpha,C$zur.blendMode,C$zut._graphics._one)},C$zut._image2=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut._style._tf;C$zue.ctx.drawTexture2(C$zui,C$zun,C$zur.translateX,C$zur.translateY,C$zut.transform,1,null,C$zut._graphics._one)},C$zut._alpha=function(C$zut,C$zue,C$zui,C$zun){var C$zur,C$zus;(.01<(C$zus=C$zut._style.alpha)||C$zut._needRepaint())&&(C$zur=C$zue.ctx.globalAlpha,C$zue.ctx.globalAlpha*=C$zus,(C$zus=this._next)._fun.call(C$zus,C$zut,C$zue,C$zui,C$zun),C$zue.ctx.globalAlpha=C$zur)},C$zut._transform=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut.transform,C$zus=this._next;C$zur&&C$zus!=$k.NORENDER?(C$zue.save(),C$zue.transform(C$zur.a,C$zur.b,C$zur.c,C$zur.d,C$zur.tx+C$zui,C$zur.ty+C$zun),C$zus._fun.call(C$zus,C$zut,C$zue,0,0),C$zue.restore()):C$zus._fun.call(C$zus,C$zut,C$zue,C$zui,C$zun)},C$zut._childs=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut._style,C$zus=C$zur._tf;C$zui=C$zui-C$zus.translateX+C$zur.paddingLeft,C$zun=C$zun-C$zus.translateY+C$zur.paddingTop,C$zur._calculation&&(!(C$zus=C$zut._getWords())||(C$zur=C$zur)&&(C$zur.stroke?C$zue.fillBorderWords(C$zus,C$zui,C$zun,C$zur.font,C$zur.color,C$zur.strokeColor,C$zur.stroke):C$zue.fillWords(C$zus,C$zui,C$zun,C$zur.font,C$zur.color,"none"!=C$zur.textDecoration&&C$zur.underLine?1:0)));var C$zua,C$zuo=C$zut._childs,C$zuh=C$zuo.length;if(C$zut.viewport||C$zut.optimizeScrollRect&&C$zut._style.scrollRect){var C$zus=C$zut.viewport||C$zut._style.scrollRect,C$zuu=C$zus.x,C$zuc=C$zus.y,C$zu_=C$zus.right,C$zud=C$zus.bottom,C$zuf=NaN,C$zup=NaN;for(C$zul=0;C$zul<C$zuh;++C$zul)(C$zua=C$zuo[C$zul]).visible&&(C$zuf=C$zua._x)<C$zu_&&C$zuf+C$zua.width>C$zuu&&(C$zup=C$zua._y)<C$zud&&C$zup+C$zua.height>C$zuc&&C$zua.render(C$zue,C$zui,C$zun)}else for(var C$zul=0;C$zul<C$zuh;++C$zul)(C$zua=C$zuo[C$zul])._style.visible&&C$zua.render(C$zue,C$zui,C$zun)},C$zut._canvas=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut._$P.cacheCanvas;var C$zus;C$zur?("bitmap"===C$zur.type?C$zuK.canvasBitmap++:C$zuK.canvasNormal++,C$zus=C$zur.ctx,C$zut._needRepaint()||!C$zus?this._canvas_repaint(C$zut,C$zue,C$zui,C$zun):(C$zur=C$zur._cacheRec,C$zue.drawCanvas(C$zus.canvas,C$zui+C$zur.x,C$zun+C$zur.y,C$zur.width,C$zur.height))):this._next._fun.call(this._next,C$zut,C$zue,C$zui,C$zun)},C$zut._canvas_repaint=function(C$zut,C$zuu,C$zuc,C$zu_){var C$zue=C$zut._$P.cacheCanvas,C$zui=this._next;if(C$zue){var C$zun,C$zud,C$zuf,C$zur,C$zus=C$zue.ctx,C$zua=C$zut._needRepaint()||!C$zus,C$zup=C$zue.type;if("bitmap"===C$zup?C$zuK.canvasBitmap++:C$zuK.canvasNormal++,C$zua){var C$zum;C$zue._cacheRec||(C$zue._cacheRec=new C$zuA),C$zuw.isWebGL&&"bitmap"!==C$zup?C$zue._cacheRec.setTo(-C$zut.pivotX,-C$zut.pivotY,1,1):((C$zur=C$zut.getSelfBounds()).x=C$zur.x-C$zut.pivotX,C$zur.y=C$zur.y-C$zut.pivotY,C$zur.x=C$zur.x-16,C$zur.y=C$zur.y-16,C$zur.width=C$zur.width+32,C$zur.height=C$zur.height+32,C$zur.x=Math.floor(C$zur.x+C$zuc)-C$zuc,C$zur.y=Math.floor(C$zur.y+C$zu_)-C$zu_,C$zur.width=Math.floor(C$zur.width),C$zur.height=Math.floor(C$zur.height),C$zue._cacheRec.copyFrom(C$zur)),C$zur=C$zue._cacheRec;var C$zug,C$zua=C$zuw.isWebGL?1:C$zuM.pixelRatio*C$zuy.stage.clientScaleX,C$zuv=C$zuw.isWebGL?1:C$zuM.pixelRatio*C$zuy.stage.clientScaleY;if(!C$zuw.isWebGL){var C$zuo,C$zu$=1,C$zux=1;for(C$zuo=C$zut;C$zuo&&C$zuo!=C$zuy.stage;)C$zu$*=C$zuo.scaleX,C$zux*=C$zuo.scaleY,C$zuo=C$zuo.parent;C$zuw.isWebGL?(C$zu$<1&&(C$zua*=C$zu$),C$zux<1&&(C$zuv*=C$zux)):(1<C$zu$&&(C$zua*=C$zu$),1<C$zux&&(C$zuv*=C$zux))}var C$zuh;if(C$zut.scrollRect&&(C$zuh=C$zut.scrollRect,C$zur.x-=C$zuh.x,C$zur.y-=C$zuh.y),C$zuh=C$zur.width*C$zua,C$zum=C$zur.height*C$zuv,C$zud=C$zur.x,C$zuf=C$zur.y,C$zuw.isWebGL&&"bitmap"===C$zup&&(2048<C$zuh||2048<C$zum))return console.warn("cache bitmap size larger than 2048,cache ignored"),C$zue.ctx&&(C$zuX.recover("RenderContext",C$zue.ctx),C$zue.ctx.canvas.size(0,0),C$zue.ctx=null),void C$zui._fun.call(C$zui,C$zut,C$zuu,C$zuc,C$zu_);var C$zul;(C$zus=C$zus||(C$zue.ctx=C$zuX.getItem("RenderContext")||new C$zuN(C$zuh,C$zum,C$zu$t.create("AUTO")))).ctx.sprite=C$zut,(C$zun=C$zus.canvas).clear(),C$zun.width==C$zuh&&C$zun.height==C$zum||C$zun.size(C$zuh,C$zum),"bitmap"===C$zup?C$zun.context.asBitmap=!0:"normal"===C$zup&&(C$zun.context.asBitmap=!1),1!=C$zua||1!=C$zuv?((C$zul=C$zus.ctx).save(),C$zul.scale(C$zua,C$zuv),!C$zuw.isConchWebGL&&C$zuw.isConchApp&&(C$zug=C$zut._$P.cf)&&C$zul.setFilterMatrix&&C$zul.setFilterMatrix(C$zug._mat,C$zug._alpha),C$zui._fun.call(C$zui,C$zut,C$zus,-C$zud,-C$zuf),C$zul.restore()):(C$zul=C$zus.ctx,!C$zuw.isConchWebGL&&C$zuw.isConchApp&&(C$zug=C$zut._$P.cf)&&C$zul.setFilterMatrix&&C$zul.setFilterMatrix(C$zug._mat,C$zug._alpha),C$zui._fun.call(C$zui,C$zut,C$zus,-C$zud,-C$zuf)),C$zuw.isConchApp&&!C$zuw.isConchWebGL||C$zut._applyFilters(),C$zut._$P.staticCache&&(C$zue.reCache=!1),C$zuK.canvasReCache++}else C$zud=(C$zur=C$zue._cacheRec).x,C$zuf=C$zur.y,C$zun=C$zus.canvas;C$zuu.drawCanvas(C$zun,C$zuc+C$zud,C$zu_+C$zuf,C$zur.width,C$zur.height)}else C$zui._fun.call(C$zui,C$zut,C$zus,C$zuc,C$zu_)},$k.__init__=function(){var C$zut,C$zue=0;for(C$zut=C$zum.createRenderSprite(69905,null),$k.renders.length=4096,C$zue=0;C$zue<4096;C$zue++)$k.renders[C$zue]=C$zut;$k.renders[0]=C$zum.createRenderSprite(0,null);var C$zui=[1,512,4,2];var C$zun=new $k(1,null);for(var C$zur=0,C$zus=0;C$zus<C$zui.length;C$zus++)$k.renders[C$zur|=C$zui[C$zus]]=C$zun;$k.renders[513]=C$zum.createRenderSprite(513,null),$k.renders[517]=new $k(517,null)},$k._initRenderFun=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut._renderType;($k.renders[C$zur]=$k._getTypeRender(C$zur))._fun(C$zut,C$zue,C$zui,C$zun)},$k._getTypeRender=function(C$zut){for(var C$zue=null,C$zui=2048;1<C$zui;)C$zui&C$zut&&(C$zue=C$zum.createRenderSprite(C$zui,C$zue)),C$zui>>=1;return C$zue},$k.IMAGE=1,$k.ALPHA=2,$k.TRANSFORM=4,$k.BLEND=8,$k.CANVAS=16,$k.FILTERS=32,$k.MASK=64,$k.CLIP=128,$k.STYLE=256,$k.GRAPHICS=512,$k.CUSTOM=1024,$k.CHILDS=2048,$k.INIT=69905,$k.renders=[],$k.NORENDER=new $k(0,null),$k}(),C$zuO=(C$zui($Y,"laya.resource.Context"),(C$zue=$Y.prototype).replaceReset=function(){var C$zut,C$zue,C$zui=0;for(C$zut=$Y.replaceKeys.length,C$zui=0;C$zui<C$zut;C$zui++)C$zue=$Y.replaceKeys[C$zui],this[$Y.newKeys[C$zui]]=this[C$zue]},C$zue.replaceResotre=function(){this.__restore(),this.__reset()},C$zue.setIsMainContext=function(){},C$zue.drawTextures=function(C$zut,C$zue,C$zui,C$zun){C$zuK.drawCall+=C$zue.length/2;for(var C$zur=C$zut.width,C$zus=C$zut.height,C$zua=0,C$zuo=C$zue.length;C$zua<C$zuo;C$zua+=2)this.drawTexture(C$zut,C$zue[C$zua],C$zue[C$zua+1],C$zur,C$zus,C$zui,C$zun)},C$zue.drawCanvas=function(C$zut,C$zue,C$zui,C$zun,C$zur){C$zuK.drawCall++,this.drawImage(C$zut.source,C$zue,C$zui,C$zun,C$zur)},C$zue.fillRect=function(C$zut,C$zue,C$zui,C$zun,C$zur){C$zuK.drawCall++,C$zur&&(this.fillStyle=C$zur),this.__fillRect(C$zut,C$zue,C$zui,C$zun)},C$zue.fillText=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){C$zuK.drawCall++,3<arguments.length&&null!=C$zun&&(this.font=C$zun,this.fillStyle=C$zur,this.textAlign=C$zus,this.textBaseline="top"),this.__fillText(C$zut,C$zue,C$zui)},C$zue.fillBorderText=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){C$zuK.drawCall++,this.font=C$zun,this.fillStyle=C$zur,this.textBaseline="top",this.strokeStyle=C$zus,this.lineWidth=C$zua,this.textAlign=C$zuo,this.__strokeText(C$zut,C$zue,C$zui),this.__fillText(C$zut,C$zue,C$zui)},C$zue.strokeText=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){C$zuK.drawCall++,3<arguments.length&&null!=C$zun&&(this.font=C$zun,this.strokeStyle=C$zur,this.lineWidth=C$zus,this.textAlign=C$zua,this.textBaseline="top"),this.__strokeText(C$zut,C$zue,C$zui)},C$zue.transformByMatrix=function(C$zut){this.transform(C$zut.a,C$zut.b,C$zut.c,C$zut.d,C$zut.tx,C$zut.ty)},C$zue.setTransformByMatrix=function(C$zut){this.setTransform(C$zut.a,C$zut.b,C$zut.c,C$zut.d,C$zut.tx,C$zut.ty)},C$zue.clipRect=function(C$zut,C$zue,C$zui,C$zun){C$zuK.drawCall++,this.beginPath(),this.rect(C$zut,C$zue,C$zui,C$zun),this.clip()},C$zue.drawTexture=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){C$zuK.drawCall++;var C$zuo=C$zut.uv,C$zuh=C$zut.bitmap.width,C$zul=C$zut.bitmap.height;this.drawImage(C$zut.source,C$zuo[0]*C$zuh,C$zuo[1]*C$zul,(C$zuo[2]-C$zuo[0])*C$zuh,(C$zuo[5]-C$zuo[3])*C$zul,C$zue+C$zus,C$zui+C$zua,C$zun,C$zur)},C$zue.drawTextureWithTransform=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuu,C$zuc){C$zuK.drawCall++;var C$zuo=C$zut.uv,C$zuh=C$zut.bitmap.width,C$zul=C$zut.bitmap.height;this.save(),1!=C$zuc&&(this.globalAlpha*=C$zuc),C$zus?(this.transform(C$zus.a,C$zus.b,C$zus.c,C$zus.d,C$zus.tx+C$zua,C$zus.ty+C$zuu),this.drawImage(C$zut.source,C$zuo[0]*C$zuh,C$zuo[1]*C$zul,(C$zuo[2]-C$zuo[0])*C$zuh,(C$zuo[5]-C$zuo[3])*C$zul,C$zue,C$zui,C$zun,C$zur)):this.drawImage(C$zut.source,C$zuo[0]*C$zuh,C$zuo[1]*C$zul,(C$zuo[2]-C$zuo[0])*C$zuh,(C$zuo[5]-C$zuo[3])*C$zul,C$zue+C$zua,C$zui+C$zuu,C$zun,C$zur),this.restore()},C$zue.drawTexture2=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zuu,C$zua){var C$zuo=C$zua[0];var C$zuc,C$zu_,C$zuh,C$zul;C$zuo.loaded&&C$zuo.bitmap&&C$zuo.source&&(C$zuK.drawCall++,(C$zuc=1!==C$zus)&&(C$zu_=this.globalAlpha,this.globalAlpha*=C$zus),C$zus=C$zuo.uv,C$zuh=C$zuo.bitmap.width,C$zul=C$zuo.bitmap.height,C$zur?(this.save(),this.transform(C$zur.a,C$zur.b,C$zur.c,C$zur.d,C$zur.tx+C$zut,C$zur.ty+C$zue),this.drawImage(C$zuo.source,C$zus[0]*C$zuh,C$zus[1]*C$zul,(C$zus[2]-C$zus[0])*C$zuh,(C$zus[5]-C$zus[3])*C$zul,C$zua[1]-C$zui,C$zua[2]-C$zun,C$zua[3],C$zua[4]),this.restore()):this.drawImage(C$zuo.source,C$zus[0]*C$zuh,C$zus[1]*C$zul,(C$zus[2]-C$zus[0])*C$zuh,(C$zus[5]-C$zus[3])*C$zul,C$zua[1]-C$zui+C$zut,C$zua[2]-C$zun+C$zue,C$zua[3],C$zua[4]),C$zuc&&(this.globalAlpha=C$zu_))},C$zue.fillTexture=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){C$zuo.pat||(C$zut.uv!=C$zuct.DEF_UV&&((C$zuh=new C$zu$t("2D")).getContext("2d"),C$zuh.size(C$zut.width,C$zut.height),C$zuh.context.drawTexture(C$zut,0,0,C$zut.width,C$zut.height,0,0),C$zut=new C$zuct(C$zuh)),C$zuo.pat=this.createPattern(C$zut.bitmap.source,C$zus));var C$zuh=C$zue,C$zus=C$zui,C$zue=0,C$zui=0;C$zua&&(C$zuh+=C$zua.x%C$zut.width,C$zus+=C$zua.y%C$zut.height,C$zue-=C$zua.x%C$zut.width,C$zui-=C$zua.y%C$zut.height),this.translate(C$zuh,C$zus),this.fillRect(C$zue,C$zui,C$zun,C$zur,C$zuo.pat),this.translate(-C$zuh,-C$zus)},C$zue.drawTriangle=function(C$zuu,C$zut,C$zue,C$zui,C$zun,C$zur,C$zuc,C$zus){var C$zu_=C$zuu.bitmap,C$zud=C$zu_.source,C$zuf=C$zuu.width,C$zup=C$zuu.height,C$zum=C$zu_.width,C$zu_=C$zu_.height,C$zua=C$zue[C$zui]*C$zum,C$zuo=C$zue[C$zun]*C$zum,C$zug=C$zue[C$zur]*C$zum,C$zuv=C$zue[C$zui+1]*C$zu_,C$zu$=C$zue[C$zun+1]*C$zu_,C$zue=C$zue[C$zur+1]*C$zu_,C$zux=C$zut[C$zui],C$zuy=C$zut[C$zun],C$zub=C$zut[C$zur],C$zui=C$zut[C$zui+1],C$zun=C$zut[C$zun+1],C$zut=C$zut[C$zur+1];var C$zuT,C$zuh;C$zus&&(C$zus=C$zui-(C$zur=(C$zui+C$zun+C$zut)/3),C$zux=(C$zul=(C$zux+C$zuy+C$zub)/3)+(C$zuT=C$zux-C$zul)/(C$zuh=Math.sqrt(C$zuT*C$zuT+C$zus*C$zus))*(C$zuh+1),C$zui=C$zur+C$zus/C$zuh*(C$zuh+1),C$zus=C$zun-C$zur,C$zuy=C$zul+(C$zuT=C$zuy-C$zul)/(C$zuh=Math.sqrt(C$zuT*C$zuT+C$zus*C$zus))*(C$zuh+1),C$zun=C$zur+C$zus/C$zuh*(C$zuh+1),C$zus=C$zut-C$zur,C$zub=C$zul+(C$zuT=C$zub-C$zul)/(C$zuh=Math.sqrt(C$zuT*C$zuT+C$zus*C$zus))*(C$zuh+1),C$zut=C$zur+C$zus/C$zuh*(C$zuh+1)),this.save(),C$zuc&&this.transform(C$zuc.a,C$zuc.b,C$zuc.c,C$zuc.d,C$zuc.tx,C$zuc.ty),this.beginPath(),this.moveTo(C$zux,C$zui),this.lineTo(C$zuy,C$zun),this.lineTo(C$zub,C$zut),this.closePath(),this.clip();var C$zul=1/(C$zua*C$zu$+C$zuv*C$zug+C$zuo*C$zue-C$zu$*C$zug-C$zuv*C$zuo-C$zua*C$zue);this.transform((C$zux*C$zu$+C$zuv*C$zub+C$zuy*C$zue-C$zu$*C$zub-C$zuv*C$zuy-C$zux*C$zue)*C$zul,(C$zui*C$zu$+C$zuv*C$zut+C$zun*C$zue-C$zu$*C$zut-C$zuv*C$zun-C$zui*C$zue)*C$zul,(C$zua*C$zuy+C$zux*C$zug+C$zuo*C$zub-C$zuy*C$zug-C$zux*C$zuo-C$zua*C$zub)*C$zul,(C$zua*C$zun+C$zui*C$zug+C$zuo*C$zut-C$zun*C$zug-C$zui*C$zuo-C$zua*C$zut)*C$zul,(C$zua*C$zu$*C$zub+C$zuv*C$zuy*C$zug+C$zux*C$zuo*C$zue-C$zux*C$zu$*C$zug-C$zuv*C$zuo*C$zub-C$zua*C$zuy*C$zue)*C$zul,(C$zua*C$zu$*C$zut+C$zuv*C$zun*C$zug+C$zui*C$zuo*C$zue-C$zui*C$zu$*C$zug-C$zuv*C$zuo*C$zut-C$zua*C$zun*C$zue)*C$zul),this.drawImage(C$zud,C$zuu.uv[0]*C$zum,C$zuu.uv[1]*C$zu_,C$zuf,C$zup,C$zuu.uv[0]*C$zum,C$zuu.uv[1]*C$zu_,C$zuf,C$zup),this.restore()},C$zue.flush=function(){return 0},C$zue.fillWords=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){C$zun&&(this.font=C$zun),C$zur&&(this.fillStyle=C$zur),this.textBaseline="top",this.textAlign="left";for(var C$zua=0,C$zuu=C$zut.length;C$zua<C$zuu;C$zua++){var C$zuo=C$zut[C$zua];var C$zuh,C$zul;this.__fillText(C$zuo.char,C$zuo.x+C$zue,C$zuo.y+C$zui),1===C$zus&&(C$zuh=C$zuo.height,C$zul=(C$zul=.5*C$zuo.style.letterSpacing)||0,this.beginPath(),this.strokeStyle=C$zur,this.lineWidth=1,this.moveTo(C$zue+C$zuo.x-C$zul+.5,C$zui+C$zuo.y+C$zuh+.5),this.lineTo(C$zue+C$zuo.x+C$zuo.width+C$zul+.5,C$zui+C$zuo.y+C$zuh+.5),this.stroke())}},C$zue.fillBorderWords=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){C$zun&&(this.font=C$zun),C$zur&&(this.fillStyle=C$zur),this.textBaseline="top",this.lineWidth=C$zua,this.textAlign="left",this.strokeStyle=C$zus;for(var C$zuo=0,C$zuh=C$zut.length;C$zuo<C$zuh;C$zuo++){var C$zul=C$zut[C$zuo];this.__strokeText(C$zul.char,C$zul.x+C$zue,C$zul.y+C$zui),this.__fillText(C$zul.char,C$zul.x+C$zue,C$zul.y+C$zui)}},C$zue.destroy=function(){this.canvas.width=this.canvas.height=0},C$zue.clear=function(){this.clearRect(0,0,this._canvas.width,this._canvas.height),this._repaint=!1},C$zue.drawCurves=function(C$zut,C$zue,C$zui){this.beginPath(),this.strokeStyle=C$zui[3],this.lineWidth=C$zui[4];var C$zun=C$zui[2];C$zut+=C$zui[0],C$zue+=C$zui[1],this.moveTo(C$zut+C$zun[0],C$zue+C$zun[1]);for(var C$zur=2,C$zus=C$zun.length;C$zur<C$zus;)this.quadraticCurveTo(C$zut+C$zun[C$zur++],C$zue+C$zun[C$zur++],C$zut+C$zun[C$zur++],C$zue+C$zun[C$zur++]);this.stroke()},$Y.__init__=function(C$zue){var C$zui=laya.resource.Context.prototype;(C$zue=C$zue||CanvasRenderingContext2D.prototype).inited||(C$zue.inited=!0,C$zue.__fillText=C$zue.fillText,C$zue.__fillRect=C$zue.fillRect,C$zue.__strokeText=C$zue.strokeText,["drawTextures","drawTriangle","fillWords","fillBorderWords","setIsMainContext","fillRect","strokeText","fillTexture","fillText","transformByMatrix","setTransformByMatrix","clipRect","drawTexture","drawTexture2","drawTextureWithTransform","flush","clear","destroy","drawCanvas","fillBorderText","drawCurves"].forEach(function(C$zut){C$zue[C$zut]=C$zui[C$zut]}))},$Y.replaceCanvasGetSet=function(C$zut,C$zue){var C$zui=Object.getOwnPropertyDescriptor(C$zut,C$zue);if(!C$zui||!C$zui.configurable)return!1;var C$zun,C$zur={};for(C$zun in C$zui)"set"!=C$zun&&(C$zur[C$zun]=C$zui[C$zun]);var C$zus=C$zui.set;return C$zur.set=function(C$zut){C$zus.call(this,C$zut);C$zut=this.getContext("2d");C$zut&&"__reset"in C$zut&&C$zut.__reset()},Object.defineProperty(C$zut,C$zue,C$zur),!0},$Y.replaceGetSet=function(C$zut,C$zue){var C$zui=Object.getOwnPropertyDescriptor(C$zut,C$zue);if(!C$zui||!C$zui.configurable)return!1;var C$zun,C$zur={};for(C$zun in C$zui)"set"!=C$zun&&(C$zur[C$zun]=C$zui[C$zun]);var C$zus=C$zui.set,C$zua="___"+C$zue+"__";return $Y.newKeys.push(C$zua),C$zur.set=function(C$zut){C$zut!=this[C$zua]&&(this[C$zua]=C$zut,C$zus.call(this,C$zut))},Object.defineProperty(C$zut,C$zue,C$zur),!0},$Y._default=new $Y,$Y.newKeys=[],C$zua($Y,["replaceKeys",function(){return this.replaceKeys=["font","fillStyle","textBaseline"]}]),$Y),C$zuV=function(){function $q(C$zut){this._id=0,this._name=null,this._resources=null,this._memorySize=0,this._garbageCollectionRate=NaN,this._isOverflow=!1,this.autoRelease=!1,this.autoReleaseMaxSize=0,this._id=++$q._uniqueIDCounter,this._name=C$zut||"Content Manager",$q._isResourceManagersSorted=!1,this._memorySize=0,this._isOverflow=!1,this.autoRelease=!1,this.autoReleaseMaxSize=536870912,this._garbageCollectionRate=.2,$q._resourceManagers.push(this),this._resources=[],this._records={}}C$zui($q,"laya.resource.ResourceManager");var C$zut=$q.prototype;return C$zuy.imps(C$zut,{"laya.resource.IDispose":!0}),C$zut.getResourceByIndex=function(C$zut){return this._resources[C$zut]},C$zut.getResourcesLength=function(){return this._resources.length},C$zut.addResource=function(C$zut){return C$zut.resourceManager&&C$zut.resourceManager.removeResource(C$zut),-1===this._resources.indexOf(C$zut)&&((C$zut._resourceManager=this)._resources.push(C$zut),this.addRecord(C$zut.uri,C$zut.__className,C$zut.memorySize),this.addSize(C$zut.memorySize),!0)},C$zut.removeResource=function(C$zut){var C$zue=this._resources.indexOf(C$zut);return-1!==C$zue&&(this._resources.splice(C$zue,1),C$zut._resourceManager=null,this._memorySize-=C$zut.memorySize,this.addRecord(C$zut.uri,C$zut.__className,-C$zut.memorySize),!0)},C$zut.unload=function(){for(var C$zut=this._resources.slice(0,this._resources.length),C$zue=0;C$zue<C$zut.length;C$zue++)C$zut[C$zue].destroy();C$zut.length=0},C$zut.dispose=function(){if(this===$q._systemResourceManager)throw new Error("systemResourceManager\u4e0d\u80fd\u88ab\u91ca\u653e\uff01");$q._resourceManagers.splice($q._resourceManagers.indexOf(this),1),$q._isResourceManagersSorted=!1;for(var C$zut=this._resources.slice(0,this._resources.length),C$zue=0;C$zue<C$zut.length;C$zue++){var C$zui=C$zut[C$zue];C$zui.resourceManager.removeResource(C$zui),C$zui.destroy()}C$zut.length=0},C$zut.addSize=function(C$zut){C$zut&&(this.autoRelease&&0<C$zut&&this._memorySize+C$zut>this.autoReleaseMaxSize&&this.garbageCollection((1-this._garbageCollectionRate)*this.autoReleaseMaxSize),this._memorySize+=C$zut)},C$zut.addRecord=function(C$zut,C$zue,C$zui){},C$zut.garbageCollection=function(C$zut){var C$zue=this._resources;(C$zue=C$zue.slice()).sort(function(C$zut,C$zue){if(!C$zut||!C$zue)throw new Error("a\u6216b\u4e0d\u80fd\u4e3a\u7a7a\uff01");return C$zut.released&&C$zue.released?0:C$zut.released?1:C$zue.released?-1:C$zut._lastUseFrameCount-C$zue._lastUseFrameCount});for(var C$zui=C$zuK.loopCount,C$zun=0,C$zur=C$zue.length;C$zun<C$zur;C$zun++){var C$zus=C$zue[C$zun];if(!(1<C$zui-C$zus._lastUseFrameCount))return void(this._memorySize>=C$zut&&(this._isOverflow=!0));if(C$zus.releaseResource(),this._memorySize<C$zut)return void(this._isOverflow=!1)}},C$zun(0,C$zut,"id",function(){return this._id}),C$zun(0,C$zut,"name",function(){return this._name},function(C$zut){!C$zut&&""===C$zut||this._name===C$zut||(this._name=C$zut,$q._isResourceManagersSorted=!1)}),C$zun(0,C$zut,"memorySize",function(){return this._memorySize}),C$zun(0,C$zut,"records",function(){return this._records}),C$zun(1,$q,"systemResourceManager",function(){return $q._systemResourceManager}),$q.__init__=function(){$q.currentResourceManager=$q.systemResourceManager},$q.getLoadedResourceManagerByIndex=function(C$zut){return $q._resourceManagers[C$zut]},$q.getLoadedResourceManagersCount=function(){return $q._resourceManagers.length},$q.recreateContentManagers=function(C$zut){void 0===C$zut&&(C$zut=!1);for(var C$zue=$q.currentResourceManager,C$zui=0;C$zui<$q._resourceManagers.length;C$zui++){$q.currentResourceManager=$q._resourceManagers[C$zui];for(var C$zun=0;C$zun<$q.currentResourceManager._resources.length;C$zun++)$q.currentResourceManager._resources[C$zun].releaseResource(C$zut),$q.currentResourceManager._resources[C$zun].activeResource(C$zut)}$q.currentResourceManager=C$zue},$q.releaseContentManagers=function(C$zut){void 0===C$zut&&(C$zut=!1);for(var C$zue=$q.currentResourceManager,C$zui=0;C$zui<$q._resourceManagers.length;C$zui++){$q.currentResourceManager=$q._resourceManagers[C$zui];for(var C$zun=0;C$zun<$q.currentResourceManager._resources.length;C$zun++){var C$zur=$q.currentResourceManager._resources[C$zun];C$zur.released||C$zur.releaseResource(C$zut)}}$q.currentResourceManager=C$zue},$q._uniqueIDCounter=0,$q._isResourceManagersSorted=!1,$q._resourceManagers=[],C$zua($q,["_systemResourceManager",function(){return this._systemResourceManager=new $q("System Resource Manager")},"currentResourceManager",function(){return this.currentResourceManager=$q._systemResourceManager}]),$q}(),C$zuM=(function(){function $m(){}C$zui($m,"laya.system.System"),$m.changeDefinition=function(C$zut,C$zue){C$zuy[C$zut]=C$zue,C$zuy._runScript(C$zut+"=classObj")},$m.__init__=function(){C$zuw.isConchApp&&(conch.disableConchResManager(),conch.disableConchAutoRestoreLostedDevice())}}(),function(){function $h(){}return C$zui($h,"laya.utils.Browser"),C$zun(1,$h,"pixelRatio",function(){return $h.__init__(),-1<$h.userAgent.indexOf("Mozilla/6.0(Linux; Android 6.0; HUAWEI NXT-AL10 Build/HUAWEINXT-AL10)")?2:C$zum.getPixelRatio()}),C$zun(1,$h,"height",function(){return $h.__init__(),(C$zuy.stage&&C$zuy.stage.canvasRotation?$h.clientWidth:$h.clientHeight)*$h.pixelRatio}),C$zun(1,$h,"clientWidth",function(){return $h.__init__(),$h.window.innerWidth||$h.document.body.clientWidth}),C$zun(1,$h,"window",function(){return $h.__init__(),$h._window}),C$zun(1,$h,"clientHeight",function(){return $h.__init__(),$h.window.innerHeight||$h.document.body.clientHeight||$h.document.documentElement.clientHeight}),C$zun(1,$h,"width",function(){return $h.__init__(),(C$zuy.stage&&C$zuy.stage.canvasRotation?$h.clientHeight:$h.clientWidth)*$h.pixelRatio}),C$zun(1,$h,"container",function(){return $h.__init__(),$h._container||(($h._container=$h.createElement("div")).id="layaContainer",$h.document.body.appendChild($h._container)),$h._container},function(C$zut){$h._container=C$zut}),C$zun(1,$h,"document",function(){return $h.__init__(),$h._document}),$h.__init__=function(){var C$zut;$h._window||($h._window=C$zum.getWindow(),$h._document=$h.window.document,$h._window.addEventListener("message",function(C$zut){laya.utils.Browser._onMessage(C$zut)},!1),$h.document.__createElement=$h.document.createElement,C$zus.requestAnimationFrame=C$zus.requestAnimationFrame||C$zus.webkitRequestAnimationFrame||C$zus.mozRequestAnimationFrame||C$zus.oRequestAnimationFrame||C$zus.msRequestAnimationFrame||function(C$zut){return C$zus.setTimeout(C$zut,1e3/60)},(C$zut=C$zus.document.body.style)["-webkit-user-select"]="none",C$zut["-webkit-tap-highlight-color"]="rgba(200,200,200,0)",$h.userAgent=$h.window.navigator.userAgent,$h.onIOS=!!($h.u=$h.userAgent).match(/\(i[^;]+;(U;)? CPU.+Mac OS X/),$h.onMobile=-1<$h.u.indexOf("Mobile"),$h.onIPhone=-1<$h.u.indexOf("iPhone"),$h.onMac=-1<$h.u.indexOf("Mac OS X"),$h.onIPad=-1<$h.u.indexOf("iPad"),$h.onAndroid=-1<$h.u.indexOf("Android")||-1<$h.u.indexOf("Adr"),$h.onWP=-1<$h.u.indexOf("Windows Phone"),$h.onQQBrowser=-1<$h.u.indexOf("QQBrowser"),$h.onMQQBrowser=-1<$h.u.indexOf("MQQBrowser")||-1<$h.u.indexOf("Mobile")&&-1<$h.u.indexOf("QQ"),$h.onIE=!!$h.window.ActiveXObject||"ActiveXObject"in $h.window,$h.onWeiXin=-1<$h.u.indexOf("MicroMessenger"),$h.onPC=!$h.onMobile,$h.onSafari=-1<$h.u.indexOf("Safari"),$h.onFirefox=-1<$h.u.indexOf("Firefox"),$h.onEdge=-1<$h.u.indexOf("Edge"),$h.onMiniGame=-1<$h.u.indexOf("MiniGame"),$h.onLimixiu=-1<$h.u.indexOf("limixiu"),$h.httpProtocol="http:"==$h.window.location.protocol,$h.onMiniGame&&null==$h.window.focus&&console.error("\u8bf7\u5148\u521d\u59cb\u5316\u5c0f\u6e38\u620f\u9002\u914d\u5e93\uff0c\u8be6\u7ec6\u6559\u7a0bhttps://ldc.layabox.com/doc/?nav=zh-ts-5-0-0"),$h.webAudioEnabled=!!($h.window.AudioContext||$h.window.webkitAudioContext||$h.window.mozAudioContext),$h.soundType=$h.webAudioEnabled?"WEBAUDIOSOUND":"AUDIOSOUND",C$zust=$h.webAudioEnabled?C$zuat:C$zunt,$h.webAudioEnabled&&C$zuat.initWebAudio(),C$zunt._initMusicAudio(),$h.enableTouch="ontouchstart"in C$zus||C$zus.DocumentTouch&&C$zur instanceof DocumentTouch,C$zus.focus(),C$zuI._soundClass=C$zust,C$zuI._musicClass=C$zunt,C$zuw._mainCanvas=C$zuw._mainCanvas||C$zu$t.create("2D"),$h.canvas||($h.canvas=C$zu$t.create("2D"),$h.context=$h.canvas.getContext("2d")))},$h._onMessage=function(C$zut){C$zut.data&&"size"==C$zut.data.name&&($h.window.innerWidth=C$zut.data.width,$h.window.innerHeight=C$zut.data.height,$h.window.__innerHeight=C$zut.data.clientHeight,$h.document.createEvent?((C$zut=$h.document.createEvent("HTMLEvents")).initEvent("resize",!1,!1),$h.window.dispatchEvent(C$zut)):console.warn("no document.createEvent"))},$h.createElement=function(C$zut){return $h.__init__(),$h.document.__createElement(C$zut)},$h.getElementById=function(C$zut){return $h.__init__(),$h.document.getElementById(C$zut)},$h.removeElement=function(C$zut){C$zut&&C$zut.parentNode&&C$zut.parentNode.removeChild(C$zut)},$h.now=function(){return C$zum.now()},$h._window=null,$h._document=null,$h._container=null,$h.userAgent=null,$h.u=null,$h.onIOS=!1,$h.onMac=!1,$h.onMobile=!1,$h.onIPhone=!1,$h.onIPad=!1,$h.onAndroid=!1,$h.onWP=!1,$h.onQQBrowser=!1,$h.onMQQBrowser=!1,$h.onSafari=!1,$h.onFirefox=!1,$h.onEdge=!1,$h.onIE=!1,$h.onWeiXin=!1,$h.onMiniGame=!1,$h.onLimixiu=!1,$h.onPC=!1,$h.httpProtocol=!1,$h.webAudioEnabled=!1,$h.soundType=null,$h.enableTouch=!1,$h.canvas=null,$h.context=null,$h.__init$=function(){},$h}()),C$zuk=function(){function $p(C$zut){this._xd_=!0,this._allocated_=8,this._pos_=0,this._length=0,C$zut?(this._u8d_=new Uint8Array(C$zut),this._d_=new DataView(this._u8d_.buffer),this._length=this._d_.byteLength):this.___resizeBuffer(this._allocated_)}C$zui($p,"laya.utils.Byte");var C$zut=$p.prototype;return C$zut.___resizeBuffer=function(C$zut){try{var C$zue=new Uint8Array(C$zut);null!=this._u8d_&&(this._u8d_.length<=C$zut?C$zue.set(this._u8d_):C$zue.set(this._u8d_.subarray(0,C$zut))),this._u8d_=C$zue,this._d_=new DataView(C$zue.buffer)}catch(C$zue){throw"___resizeBuffer err:"+C$zut}},C$zut.getString=function(){return this.rUTF(this.getUint16())},C$zut.getFloat32Array=function(C$zut,C$zue){C$zue=C$zut+C$zue;C$zue=C$zue>this._length?this._length:C$zue;C$zut=new Float32Array(this._d_.buffer.slice(C$zut,C$zue));return this._pos_=C$zue,C$zut},C$zut.getUint8Array=function(C$zut,C$zue){C$zue=C$zut+C$zue;C$zue=C$zue>this._length?this._length:C$zue;C$zut=new Uint8Array(this._d_.buffer.slice(C$zut,C$zue));return this._pos_=C$zue,C$zut},C$zut.getInt16Array=function(C$zut,C$zue){C$zue=C$zut+C$zue;C$zue=C$zue>this._length?this._length:C$zue;C$zut=new Int16Array(this._d_.buffer.slice(C$zut,C$zue));return this._pos_=C$zue,C$zut},C$zut.getFloat32=function(){if(this._pos_+4>this._length)throw"getFloat32 error - Out of bounds";var C$zut=this._d_.getFloat32(this._pos_,this._xd_);return this._pos_+=4,C$zut},C$zut.getFloat64=function(){if(this._pos_+8>this._length)throw"getFloat64 error - Out of bounds";var C$zut=this._d_.getFloat64(this._pos_,this._xd_);return this._pos_+=8,C$zut},C$zut.writeFloat32=function(C$zut){this.ensureWrite(this._pos_+4),this._d_.setFloat32(this._pos_,C$zut,this._xd_),this._pos_+=4},C$zut.writeFloat64=function(C$zut){this.ensureWrite(this._pos_+8),this._d_.setFloat64(this._pos_,C$zut,this._xd_),this._pos_+=8},C$zut.getInt32=function(){if(this._pos_+4>this._length)throw"getInt32 error - Out of bounds";var C$zut=this._d_.getInt32(this._pos_,this._xd_);return this._pos_+=4,C$zut},C$zut.getUint32=function(){if(this._pos_+4>this._length)throw"getUint32 error - Out of bounds";var C$zut=this._d_.getUint32(this._pos_,this._xd_);return this._pos_+=4,C$zut},C$zut.writeInt32=function(C$zut){this.ensureWrite(this._pos_+4),this._d_.setInt32(this._pos_,C$zut,this._xd_),this._pos_+=4},C$zut.writeUint32=function(C$zut){this.ensureWrite(this._pos_+4),this._d_.setUint32(this._pos_,C$zut,this._xd_),this._pos_+=4},C$zut.getInt16=function(){if(this._pos_+2>this._length)throw"getInt16 error - Out of bounds";var C$zut=this._d_.getInt16(this._pos_,this._xd_);return this._pos_+=2,C$zut},C$zut.getUint16=function(){if(this._pos_+2>this._length)throw"getUint16 error - Out of bounds";var C$zut=this._d_.getUint16(this._pos_,this._xd_);return this._pos_+=2,C$zut},C$zut.writeUint16=function(C$zut){this.ensureWrite(this._pos_+2),this._d_.setUint16(this._pos_,C$zut,this._xd_),this._pos_+=2},C$zut.writeInt16=function(C$zut){this.ensureWrite(this._pos_+2),this._d_.setInt16(this._pos_,C$zut,this._xd_),this._pos_+=2},C$zut.getUint8=function(){if(this._pos_+1>this._length)throw"getUint8 error - Out of bounds";return this._d_.getUint8(this._pos_++)},C$zut.writeUint8=function(C$zut){this.ensureWrite(this._pos_+1),this._d_.setUint8(this._pos_,C$zut),this._pos_++},C$zut._getUInt8=function(C$zut){return this._d_.getUint8(C$zut)},C$zut._getUint16=function(C$zut){return this._d_.getUint16(C$zut,this._xd_)},C$zut._getMatrix=function(){return new C$zuE(this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32())},C$zut.rUTF=function(C$zut){for(var C$zue,C$zui,C$zun=[],C$zur=this._pos_+C$zut,C$zus=0,C$zua=String.fromCharCode,C$zuo=this._u8d_;this._pos_<C$zur;)(C$zue=C$zuo[this._pos_++])<128?0!=C$zue&&C$zun.push(C$zua(C$zue)):C$zue<224?C$zun.push(C$zua((63&C$zue)<<6|127&C$zuo[this._pos_++])):C$zue<240?(C$zus=C$zuo[this._pos_++],C$zun.push(C$zua((31&C$zue)<<12|(127&C$zus)<<6|127&C$zuo[this._pos_++]))):(C$zus=C$zuo[this._pos_++],C$zui=C$zuo[this._pos_++],C$zun.push(C$zua((15&C$zue)<<18|(127&C$zus)<<12|C$zui<<6&127|127&C$zuo[this._pos_++])));return C$zun.join("")},C$zut.getCustomString=function(C$zut){for(var C$zue,C$zui=[],C$zun=0,C$zur=0,C$zus=String.fromCharCode,C$zua=this._u8d_;0<C$zut;)if((C$zur=C$zua[this._pos_])<128)C$zui.push(C$zus(C$zur)),this._pos_++,C$zut--;else for(C$zun=C$zur-128,this._pos_++,C$zut-=C$zun;0<C$zun;)C$zur=C$zua[this._pos_++],C$zue=C$zua[this._pos_++],C$zui.push(C$zus(C$zue<<8|C$zur)),C$zun--;return C$zui.join("")},C$zut.clear=function(){this._pos_=0,this.length=0},C$zut.__getBuffer=function(){return this._d_.buffer},C$zut.writeUTFBytes=function(C$zut){for(var C$zue=0,C$zui=(C$zut+="").length;C$zue<C$zui;C$zue++){var C$zun=C$zut.charCodeAt(C$zue);C$zun<=127?this.writeByte(C$zun):C$zun<=2047?(this.ensureWrite(this._pos_+2),this._u8d_.set([192|C$zun>>6,128|63&C$zun],this._pos_),this._pos_+=2):C$zun<=65535?(this.ensureWrite(this._pos_+3),this._u8d_.set([224|C$zun>>12,128|C$zun>>6&63,128|63&C$zun],this._pos_),this._pos_+=3):(this.ensureWrite(this._pos_+4),this._u8d_.set([240|C$zun>>18,128|C$zun>>12&63,128|C$zun>>6&63,128|63&C$zun],this._pos_),this._pos_+=4)}},C$zut.writeUTFString=function(C$zut){var C$zue=this.pos;this.writeUint16(1),this.writeUTFBytes(C$zut);C$zut=this.pos-C$zue-2;if(65536<=C$zut)throw"writeUTFString byte len more than 65536";this._d_.setUint16(C$zue,C$zut,this._xd_)},C$zut.readUTFString=function(){return this.readUTFBytes(this.getUint16())},C$zut.getUTFString=function(){return this.readUTFString()},C$zut.readUTFBytes=function(C$zut){if(0==(C$zut=void 0===C$zut?-1:C$zut))return"";var C$zue=this.bytesAvailable;if(C$zue<C$zut)throw"readUTFBytes error - Out of bounds";return this.rUTF(C$zut=0<C$zut?C$zut:C$zue)},C$zut.getUTFBytes=function(C$zut){return this.readUTFBytes(C$zut=void 0===C$zut?-1:C$zut)},C$zut.writeByte=function(C$zut){this.ensureWrite(this._pos_+1),this._d_.setInt8(this._pos_,C$zut),this._pos_+=1},C$zut.readByte=function(){if(this._pos_+1>this._length)throw"readByte error - Out of bounds";return this._d_.getInt8(this._pos_++)},C$zut.getByte=function(){return this.readByte()},C$zut.ensureWrite=function(C$zut){this._length<C$zut&&(this._length=C$zut),this._allocated_<C$zut&&(this.length=C$zut)},C$zut.writeArrayBuffer=function(C$zut,C$zue,C$zui){if(void 0===C$zui&&(C$zui=0),(C$zue=void 0===C$zue?0:C$zue)<0||C$zui<0)throw"writeArrayBuffer error - Out of bounds";0==C$zui&&(C$zui=C$zut.byteLength-C$zue),this.ensureWrite(this._pos_+C$zui);C$zut=new Uint8Array(C$zut);this._u8d_.set(C$zut.subarray(C$zue,C$zue+C$zui),this._pos_),this._pos_+=C$zui},C$zun(0,C$zut,"buffer",function(){var C$zut=this._d_.buffer;return C$zut.byteLength==this.length?C$zut:C$zut.slice(0,this.length)}),C$zun(0,C$zut,"endian",function(){return this._xd_?"littleEndian":"bigEndian"},function(C$zut){this._xd_="littleEndian"==C$zut}),C$zun(0,C$zut,"length",function(){return this._length},function(C$zut){this._allocated_<C$zut?this.___resizeBuffer(this._allocated_=Math.floor(Math.max(C$zut,2*this._allocated_))):this._allocated_>C$zut&&this.___resizeBuffer(this._allocated_=C$zut),this._length=C$zut}),C$zun(0,C$zut,"pos",function(){return this._pos_},function(C$zut){this._pos_=C$zut}),C$zun(0,C$zut,"bytesAvailable",function(){return this._length-this._pos_}),$p.getSystemEndian=function(){var C$zut;return $p._sysEndian||(C$zut=new ArrayBuffer(2),new DataView(C$zut).setInt16(0,256,!0),$p._sysEndian=256===new Int16Array(C$zut)[0]?"littleEndian":"bigEndian"),$p._sysEndian},$p.BIG_ENDIAN="bigEndian",$p.LITTLE_ENDIAN="littleEndian",$p._sysEndian=null,$p}(),C$zuU=function(){function $L(){}return C$zui($L,"laya.utils.CacheManager"),$L.regCacheByFunction=function(C$zut,C$zue){$L.unRegCacheByFunction(C$zut,C$zue),$L._cacheList.push({tryDispose:C$zut,getCacheList:C$zue})},$L.unRegCacheByFunction=function(C$zut,C$zue){var C$zui,C$zun=0;for(C$zui=$L._cacheList.length,C$zun=0;C$zun<C$zui;C$zun++)if($L._cacheList[C$zun].tryDispose==C$zut&&$L._cacheList[C$zun].getCacheList==C$zue)return void $L._cacheList.splice(C$zun,1)},$L.forceDispose=function(){var C$zut=0,C$zue=$L._cacheList.length;for(C$zut=0;C$zut<C$zue;C$zut++)$L._cacheList[C$zut].tryDispose(!0)},$L.beginCheck=function(C$zut){C$zuy.timer.loop(C$zut=void 0===C$zut?15e3:C$zut,null,$L._checkLoop)},$L.stopCheck=function(){C$zuy.timer.clear(null,$L._checkLoop)},$L._checkLoop=function(){var C$zut=$L._cacheList;if(!(C$zut.length<1)){var C$zue,C$zui=C$zuM.now(),C$zun=0;for(C$zue=C$zun=C$zut.length;0<C$zun&&(C$zut[$L._index=++$L._index%C$zue].tryDispose(!1),!(C$zuM.now()-C$zui>$L.loopTimeLimit));)C$zun--}},$L.loopTimeLimit=2,$L._cacheList=[],$L._index=0,$L}(),C$zuH=(C$zui($$,"laya.utils.ClassUtils"),$$.regClass=function(C$zut,C$zue){$$._classMap[C$zut]=C$zue},$$.getRegClass=function(C$zut){return $$._classMap[C$zut]},$$.getInstance=function(C$zut){var C$zue=$$.getClass(C$zut);return C$zue?new C$zue:(console.warn("[error] Undefined class:",C$zut),null)},$$.createByJson=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=(C$zut="string"==typeof C$zut?JSON.parse(C$zut):C$zut).props;if(!C$zue&&!(C$zue=C$zur?C$zur.runWith(C$zut):$$.getInstance(C$zus.runtime||C$zut.type)))return null;var C$zuu=C$zut.child;if(C$zuu)for(var C$zuc=0,C$zu_=C$zuu.length;C$zuc<C$zu_;C$zuc++){var C$zua=C$zuu[C$zuc];var C$zuo;"render"!==C$zua.props.name&&"render"!==C$zua.props.renderType||!C$zue._$set_itemRender?"Graphic"==C$zua.type?$$.addGraphicsToSprite(C$zua,C$zue):$$.isDrawType(C$zua.type)?$$.addGraphicToSprite(C$zua,C$zue,!0):(C$zuo=$$.createByJson(C$zua,null,C$zui,C$zun,C$zur),"Script"==C$zua.type?C$zuo.hasOwnProperty("owner")?C$zuo.owner=C$zue:C$zuo.hasOwnProperty("target")&&(C$zuo.target=C$zue):"mask"==C$zua.props.renderType?C$zue.mask=C$zuo:C$zue.addChild(C$zuo)):C$zue.itemRender=C$zua}if(C$zus)for(var C$zuh in C$zus){var C$zul=C$zus[C$zuh];"var"===C$zuh&&C$zui?C$zui[C$zul]=C$zue:C$zul instanceof Array&&"function"==typeof C$zue[C$zuh]?C$zue[C$zuh].apply(C$zue,C$zul):C$zue[C$zuh]=C$zul}return C$zun&&C$zut.customProps&&C$zun.runWith([C$zue,C$zut]),C$zue.created&&C$zue.created(),C$zue},$$.addGraphicsToSprite=function(C$zut,C$zue){var C$zui;if((C$zui=C$zut.child)&&!(C$zui.length<1)){var C$zun;C$zun=$$._getGraphicsFromSprite(C$zut,C$zue);var C$zue=0,C$zur=0;C$zut.props&&(C$zue=$$._getObjVar(C$zut.props,"x",0),C$zur=$$._getObjVar(C$zut.props,"y",0)),0!=C$zue&&0!=C$zur&&C$zun.translate(C$zue,C$zur);var C$zus,C$zua=0;for(C$zus=C$zui.length,C$zua=0;C$zua<C$zus;C$zua++)$$._addGraphicToGraphics(C$zui[C$zua],C$zun);0!=C$zue&&0!=C$zur&&C$zun.translate(-C$zue,-C$zur)}},$$.addGraphicToSprite=function(C$zut,C$zue,C$zui){C$zui=(C$zui=void 0===C$zui?!1:C$zui)?$$._getGraphicsFromSprite(C$zut,C$zue):C$zue.graphics,$$._addGraphicToGraphics(C$zut,C$zui)},$$._getGraphicsFromSprite=function(C$zut,C$zue){var C$zui,C$zun;if(!C$zut||!C$zut.props)return C$zue.graphics;switch(C$zun=C$zut.props.renderType){case"hit":case"unHit":var C$zur;C$zue.hitArea||(C$zue.hitArea=new C$zuY),(C$zur=C$zue.hitArea)[C$zun]||(C$zur[C$zun]=new C$zu_),C$zui=C$zur[C$zun]}return C$zui=C$zui||C$zue.graphics},$$._getTransformData=function(C$zut){var C$zue;(C$zut.hasOwnProperty("pivotX")||C$zut.hasOwnProperty("pivotY"))&&(C$zue=C$zue||new C$zuE).translate(-$$._getObjVar(C$zut,"pivotX",0),-$$._getObjVar(C$zut,"pivotY",0));var C$zui=$$._getObjVar(C$zut,"scaleX",1),C$zun=$$._getObjVar(C$zut,"scaleY",1),C$zur=$$._getObjVar(C$zut,"rotation",0);return $$._getObjVar(C$zut,"skewX",0),$$._getObjVar(C$zut,"skewY",0),1==C$zui&&1==C$zun&&0==C$zur||((C$zue=C$zue||new C$zuE).scale(C$zui,C$zun),C$zue.rotate(.0174532922222222*C$zur)),C$zue},$$._addGraphicToGraphics=function(C$zut,C$zue){var C$zui;var C$zun;(C$zun=C$zut.props)&&(C$zui=$$.DrawTypeDic[C$zut.type])&&(C$zut=C$zue,C$zue=$$._getParams(C$zun,C$zui[1],C$zui[2],C$zui[3]),!(C$zun=$$._tM)&&1==$$._alpha||(C$zut.save(),C$zun&&C$zut.transform(C$zun),1!=$$._alpha&&C$zut.alpha($$._alpha)),C$zut[C$zui[0]].apply(C$zut,C$zue),!C$zun&&1==$$._alpha||C$zut.restore())},$$._adptLineData=function(C$zut){return C$zut[2]=parseFloat(C$zut[0])+parseFloat(C$zut[2]),C$zut[3]=parseFloat(C$zut[1])+parseFloat(C$zut[3]),C$zut},$$._adptTextureData=function(C$zut){return C$zut[0]=C$zuht.getRes(C$zut[0]),C$zut},$$._adptLinesData=function(C$zut){return C$zut[2]=$$._getPointListByStr(C$zut[2]),C$zut},$$.isDrawType=function(C$zut){return"Image"!=C$zut&&$$.DrawTypeDic.hasOwnProperty(C$zut)},$$._getParams=function(C$zut,C$zue,C$zui,C$zun){var C$zur;void 0===C$zui&&(C$zui=0),(C$zur=$$._temParam).length=C$zue.length;var C$zus,C$zua,C$zuo=0;for(C$zus=C$zue.length,C$zuo=0;C$zuo<C$zus;C$zuo++)C$zur[C$zuo]=$$._getObjVar(C$zut,C$zue[C$zuo][0],C$zue[C$zuo][1]);return $$._alpha=$$._getObjVar(C$zut,"alpha",1),C$zua=$$._getTransformData(C$zut),$$._tM=C$zua?(C$zua.translate(C$zur[C$zui=C$zui||0],C$zur[C$zui+1]),C$zur[C$zui]=C$zur[C$zui+1]=0,C$zua):null,C$zur=C$zun&&$$[C$zun]?$$[C$zun](C$zur):C$zur},$$._getPointListByStr=function(C$zut){var C$zue,C$zui,C$zun=0;for(C$zui=(C$zue=C$zut.split(",")).length,C$zun=0;C$zun<C$zui;C$zun++)C$zue[C$zun]=parseFloat(C$zue[C$zun]);return C$zue},$$._getObjVar=function(C$zut,C$zue,C$zui){return C$zut.hasOwnProperty(C$zue)?C$zut[C$zue]:C$zui},$$._temParam=[],$$._classMap={Sprite:"laya.display.Sprite",Text:"laya.display.Text",Animation:"laya.display.Animation",Skeleton:"laya.ani.bone.Skeleton",Particle2D:"laya.particle.Particle2D",div:"laya.html.dom.HTMLDivElement",p:"laya.html.dom.HTMLElement",img:"laya.html.dom.HTMLImageElement",span:"laya.html.dom.HTMLElement",br:"laya.html.dom.HTMLBrElement",style:"laya.html.dom.HTMLStyleElement",font:"laya.html.dom.HTMLElement",a:"laya.html.dom.HTMLElement","#text":"laya.html.dom.HTMLElement"},$$.getClass=function(C$zut){C$zut=$$._classMap[C$zut]||C$zut;return"string"==typeof C$zut?C$zuy.__classmap[C$zut]:C$zut},$$._tM=null,$$._alpha=NaN,C$zua($$,["DrawTypeDic",function(){return this.DrawTypeDic={Rect:["drawRect",[["x",0],["y",0],["width",0],["height",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Circle:["drawCircle",[["x",0],["y",0],["radius",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Pie:["drawPie",[["x",0],["y",0],["radius",0],["startAngle",0],["endAngle",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Image:["drawTexture",[["x",0],["y",0],["width",0],["height",0]]],Texture:["drawTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0]],1,"_adptTextureData"],FillTexture:["fillTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0],["repeat",null]],1,"_adptTextureData"],FillText:["fillText",[["text",""],["x",0],["y",0],["font",null],["color",null],["textAlign",null]],1],Line:["drawLine",[["x",0],["y",0],["toX",0],["toY",0],["lineColor",null],["lineWidth",0]],0,"_adptLineData"],Lines:["drawLines",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],Curves:["drawCurves",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],Poly:["drawPoly",[["x",0],["y",0],["points",""],["fillColor",null],["lineColor",null],["lineWidth",1]],0,"_adptLinesData"]}}]),$$),C$zuW=function(){function $q(C$zut){if(this._color=[],"string"==typeof C$zut){var C$zue=(C$zut="#"==(C$zut=null===(this.strColor=C$zut)?"#000000":C$zut).charAt(0)?C$zut.substr(1):C$zut).length;if(3==C$zue||4==C$zue){for(var C$zui="",C$zun=0;C$zun<C$zue;C$zun++)C$zui+=C$zut[C$zun]+C$zut[C$zun];C$zut=C$zui}var C$zur=this.numColor=parseInt(C$zut,16);if(8==C$zut.length)return void(this._color=[parseInt(C$zut.substr(0,2),16)/255,((16711680&C$zur)>>16)/255,((65280&C$zur)>>8)/255,(255&C$zur)/255])}else C$zur=this.numColor=C$zut,this.strColor=C$zuZ.toHexColor(C$zur);this._color=[((16711680&C$zur)>>16)/255,((65280&C$zur)>>8)/255,(255&C$zur)/255,1],this._color.__id=++$q._COLODID}return C$zui($q,"laya.utils.Color"),$q._initDefault=function(){for(var C$zut in $q._DEFAULT={},$q._COLOR_MAP)$q._SAVE[C$zut]=$q._DEFAULT[C$zut]=new $q($q._COLOR_MAP[C$zut]);return $q._DEFAULT},$q._initSaveMap=function(){for(var C$zut in $q._SAVE_SIZE=0,$q._SAVE={},$q._DEFAULT)$q._SAVE[C$zut]=$q._DEFAULT[C$zut]},$q.create=function(C$zut){var C$zue=$q._SAVE[C$zut+""];return null!=C$zue?C$zue:($q._SAVE_SIZE<1e3||$q._initSaveMap(),$q._SAVE[C$zut+""]=new $q(C$zut))},$q._SAVE={},$q._SAVE_SIZE=0,$q._COLOR_MAP={white:"#FFFFFF",red:"#FF0000",green:"#00FF00",blue:"#0000FF",black:"#000000",yellow:"#FFFF00",gray:"#AAAAAA"},$q._DEFAULT=$q._initDefault(),$q._COLODID=1,$q}(),C$zuz=(function(){function $m(){this._values=[],this._keys=[]}C$zui($m,"laya.utils.Dictionary");var C$zut=$m.prototype;C$zut.set=function(C$zut,C$zue){var C$zui=this.indexOf(C$zut);0<=C$zui?this._values[C$zui]=C$zue:(this._keys.push(C$zut),this._values.push(C$zue))},C$zut.indexOf=function(C$zut){var C$zue=this._keys.indexOf(C$zut);return 0<=C$zue?C$zue:(C$zut="string"==typeof C$zut?Number(C$zut):"number"==typeof C$zut?C$zut.toString():C$zut,this._keys.indexOf(C$zut))},C$zut.get=function(C$zut){C$zut=this.indexOf(C$zut);return C$zut<0?null:this._values[C$zut]},C$zut.remove=function(C$zut){C$zut=this.indexOf(C$zut);return 0<=C$zut&&(this._keys.splice(C$zut,1),this._values.splice(C$zut,1),!0)},C$zut.clear=function(){this._values.length=0,this._keys.length=0},C$zun(0,C$zut,"values",function(){return this._values}),C$zun(0,C$zut,"keys",function(){return this._keys})}(),function(){function $m(){this.ratio=.92,this.maxOffset=60,this._dragging=!1,this._clickOnly=!0}C$zui($m,"laya.utils.Dragging");var C$zut=$m.prototype;return C$zut.start=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){void 0===C$zuo&&(C$zuo=.92),this.clearTimer(),this.target=C$zut,this.area=C$zue,this.hasInertia=C$zui,this.elasticDistance=C$zue?C$zun:0,this.elasticBackTime=C$zur,this.data=C$zus,this._disableMouseEvent=C$zua,this.ratio=C$zuo,1!=C$zut.globalScaleX||1!=C$zut.globalScaleY?this._parent=C$zut.parent:this._parent=C$zuy.stage,this._clickOnly=!0,this._dragging=!0,this._elasticRateX=this._elasticRateY=1,this._lastX=this._parent.mouseX,this._lastY=this._parent.mouseY,C$zuy.stage.on("mouseup",this,this.onStageMouseUp),C$zuy.stage.on("mouseout",this,this.onStageMouseUp),C$zuy.timer.frameLoop(1,this,this.loop)},C$zut.clearTimer=function(){C$zuy.timer.clear(this,this.loop),C$zuy.timer.clear(this,this.tweenMove),this._tween&&(this._tween.recover(),this._tween=null)},C$zut.stop=function(){this._dragging&&(C$zu$.instance.disableMouseEvent=!1,C$zuy.stage.off("mouseup",this,this.onStageMouseUp),C$zuy.stage.off("mouseout",this,this.onStageMouseUp),this._dragging=!1,this.target&&this.area&&this.backToArea(),this.clear())},C$zut.loop=function(){var C$zut=this._parent.getMousePoint(),C$zue=C$zut.x,C$zut=C$zut.y,C$zui=C$zue-this._lastX,C$zun=C$zut-this._lastY;if(this._clickOnly){if(!(1<Math.abs(C$zui*C$zuy.stage._canvasTransform.getScaleX())||1<Math.abs(C$zun*C$zuy.stage._canvasTransform.getScaleY())))return;this._clickOnly=!1,this._offsets||(this._offsets=[]),this._offsets.length=0,this.target.event("dragstart",this.data),C$zu$.instance.disableMouseEvent=this._disableMouseEvent,this.target._set$P("$_MOUSEDOWN",!1)}else this._offsets.push(C$zui,C$zun);0==C$zui&&0==C$zun||(this._lastX=C$zue,this._lastY=C$zut,this.target.x+=C$zui*this._elasticRateX,this.target.y+=C$zun*this._elasticRateY,this.area&&this.checkArea(),this.target.event("dragmove",this.data))},C$zut.checkArea=function(){var C$zut;this.elasticDistance<=0?this.backToArea():(C$zut=this.target.x<this.area.x?this.area.x-this.target.x:this.target.x>this.area.x+this.area.width?this.target.x-this.area.x-this.area.width:0,this._elasticRateX=Math.max(0,1-C$zut/this.elasticDistance),C$zut=this.target.y<this.area.y?this.area.y-this.target.y:this.target.y>this.area.y+this.area.height?this.target.y-this.area.y-this.area.height:0,this._elasticRateY=Math.max(0,1-C$zut/this.elasticDistance))},C$zut.backToArea=function(){this.target.x=Math.min(Math.max(this.target.x,this.area.x),this.area.x+this.area.width),this.target.y=Math.min(Math.max(this.target.y,this.area.y),this.area.y+this.area.height)},C$zut.onStageMouseUp=function(C$zut){if(C$zu$.instance.disableMouseEvent=!1,C$zuy.stage.off("mouseup",this,this.onStageMouseUp),C$zuy.stage.off("mouseout",this,this.onStageMouseUp),C$zuy.timer.clear(this,this.loop),!this._clickOnly&&this.target)if(this.hasInertia){this._offsets.length<1&&this._offsets.push(this._parent.mouseX-this._lastX,this._parent.mouseY-this._lastY),this._offsetX=this._offsetY=0;for(var C$zue=this._offsets.length,C$zui=Math.min(C$zue,6),C$zun=this._offsets.length-C$zui,C$zur=C$zue-1;C$zun<C$zur;C$zur--)this._offsetY+=this._offsets[C$zur--],this._offsetX+=this._offsets[C$zur];this._offsetX=this._offsetX/C$zui*2,this._offsetY=this._offsetY/C$zui*2,Math.abs(this._offsetX)>this.maxOffset&&(this._offsetX=0<this._offsetX?this.maxOffset:-this.maxOffset),Math.abs(this._offsetY)>this.maxOffset&&(this._offsetY=0<this._offsetY?this.maxOffset:-this.maxOffset),C$zuy.timer.frameLoop(1,this,this.tweenMove)}else 0<this.elasticDistance?this.checkElastic():this.clear()},C$zut.checkElastic=function(){var C$zut=NaN,C$zue=NaN;var C$zui;this.target.x<this.area.x?C$zut=this.area.x:this.target.x>this.area.x+this.area.width&&(C$zut=this.area.x+this.area.width),this.target.y<this.area.y?C$zue=this.area.y:this.target.y>this.area.y+this.area.height&&(C$zue=this.area.y+this.area.height),isNaN(C$zut)&&isNaN(C$zue)?this.clear():(C$zui={},isNaN(C$zut)||(C$zui.x=C$zut),isNaN(C$zue)||(C$zui.y=C$zue),this._tween=C$zuj.to(this.target,C$zui,this.elasticBackTime,C$zuG.sineOut,C$zug.create(this,this.clear),0,!1,!1))},C$zut.tweenMove=function(){this._offsetX*=this.ratio*this._elasticRateX,this._offsetY*=this.ratio*this._elasticRateY,this.target.x+=this._offsetX,this.target.y+=this._offsetY,this.area&&this.checkArea(),this.target.event("dragmove",this.data),(Math.abs(this._offsetX)<1&&Math.abs(this._offsetY)<1||this._elasticRateX<.5||this._elasticRateY<.5)&&(C$zuy.timer.clear(this,this.tweenMove),0<this.elasticDistance?this.checkElastic():this.clear())},C$zut.clear=function(){var C$zut;this.target&&(this.clearTimer(),C$zut=this.target,this.target=null,this._parent=null,C$zut.event("dragend",this.data))},$m}()),C$zuG=function(){function $Y(){}return C$zui($Y,"laya.utils.Ease"),$Y.linearNone=function(C$zut,C$zue,C$zui,C$zun){return C$zui*C$zut/C$zun+C$zue},$Y.linearIn=function(C$zut,C$zue,C$zui,C$zun){return C$zui*C$zut/C$zun+C$zue},$Y.linearInOut=function(C$zut,C$zue,C$zui,C$zun){return C$zui*C$zut/C$zun+C$zue},$Y.linearOut=function(C$zut,C$zue,C$zui,C$zun){return C$zui*C$zut/C$zun+C$zue},$Y.bounceIn=function(C$zut,C$zue,C$zui,C$zun){return C$zui-$Y.bounceOut(C$zun-C$zut,0,C$zui,C$zun)+C$zue},$Y.bounceInOut=function(C$zut,C$zue,C$zui,C$zun){return C$zut<.5*C$zun?.5*$Y.bounceIn(2*C$zut,0,C$zui,C$zun)+C$zue:.5*$Y.bounceOut(2*C$zut-C$zun,0,C$zui,C$zun)+.5*C$zui+C$zue},$Y.bounceOut=function(C$zut,C$zue,C$zui,C$zun){return(C$zut/=C$zun)<1/2.75?C$zui*(7.5625*C$zut*C$zut)+C$zue:C$zut<2/2.75?C$zui*(7.5625*(C$zut-=1.5/2.75)*C$zut+.75)+C$zue:C$zut<2.5/2.75?C$zui*(7.5625*(C$zut-=2.25/2.75)*C$zut+.9375)+C$zue:C$zui*(7.5625*(C$zut-=2.625/2.75)*C$zut+.984375)+C$zue},$Y.backIn=function(C$zut,C$zue,C$zui,C$zun,C$zur){return C$zui*(C$zut/=C$zun)*C$zut*(((C$zur=void 0===C$zur?1.70158:C$zur)+1)*C$zut-C$zur)+C$zue},$Y.backInOut=function(C$zut,C$zue,C$zui,C$zun,C$zur){return void 0===C$zur&&(C$zur=1.70158),(C$zut/=.5*C$zun)<1?.5*C$zui*(C$zut*C$zut*((1+(C$zur*=1.525))*C$zut-C$zur))+C$zue:C$zui/2*((C$zut-=2)*C$zut*((1+(C$zur*=1.525))*C$zut+C$zur)+2)+C$zue},$Y.backOut=function(C$zut,C$zue,C$zui,C$zun,C$zur){return C$zui*((C$zut=C$zut/C$zun-1)*C$zut*(((C$zur=void 0===C$zur?1.70158:C$zur)+1)*C$zut+C$zur)+1)+C$zue},$Y.elasticIn=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){return void 0===C$zur&&(C$zur=0),void 0===C$zus&&(C$zus=0),0==C$zut?C$zue:1==(C$zut/=C$zun)?C$zue+C$zui:(C$zus=C$zus||.3*C$zun,C$zui=!C$zur||0<C$zui&&C$zur<C$zui||C$zui<0&&C$zur<-C$zui?(C$zur=C$zui,C$zus/4):C$zus/$Y.PI2*Math.asin(C$zui/C$zur),-C$zur*Math.pow(2,10*--C$zut)*Math.sin((C$zut*C$zun-C$zui)*$Y.PI2/C$zus)+C$zue)},$Y.elasticInOut=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){var C$zua;return void 0===C$zur&&(C$zur=0),void 0===C$zus&&(C$zus=0),0==C$zut?C$zue:2==(C$zut/=.5*C$zun)?C$zue+C$zui:(C$zus=C$zus||C$zun*(.3*1.5),C$zua=!C$zur||0<C$zui&&C$zur<C$zui||C$zui<0&&C$zur<-C$zui?(C$zur=C$zui,C$zus/4):C$zus/$Y.PI2*Math.asin(C$zui/C$zur),C$zut<1?C$zur*Math.pow(2,10*--C$zut)*Math.sin((C$zut*C$zun-C$zua)*$Y.PI2/C$zus)*-.5+C$zue:C$zur*Math.pow(2,-10*--C$zut)*Math.sin((C$zut*C$zun-C$zua)*$Y.PI2/C$zus)*.5+C$zui+C$zue)},$Y.elasticOut=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){var C$zua;return void 0===C$zur&&(C$zur=0),void 0===C$zus&&(C$zus=0),0==C$zut?C$zue:1==(C$zut/=C$zun)?C$zue+C$zui:(C$zus=C$zus||.3*C$zun,C$zua=!C$zur||0<C$zui&&C$zur<C$zui||C$zui<0&&C$zur<-C$zui?(C$zur=C$zui,C$zus/4):C$zus/$Y.PI2*Math.asin(C$zui/C$zur),C$zur*Math.pow(2,-10*C$zut)*Math.sin((C$zut*C$zun-C$zua)*$Y.PI2/C$zus)+C$zui+C$zue)},$Y.strongIn=function(C$zut,C$zue,C$zui,C$zun){return C$zui*(C$zut/=C$zun)*C$zut*C$zut*C$zut*C$zut+C$zue},$Y.strongInOut=function(C$zut,C$zue,C$zui,C$zun){return(C$zut/=.5*C$zun)<1?.5*C$zui*C$zut*C$zut*C$zut*C$zut*C$zut+C$zue:.5*C$zui*((C$zut-=2)*C$zut*C$zut*C$zut*C$zut+2)+C$zue},$Y.strongOut=function(C$zut,C$zue,C$zui,C$zun){return C$zui*((C$zut=C$zut/C$zun-1)*C$zut*C$zut*C$zut*C$zut+1)+C$zue},$Y.sineInOut=function(C$zut,C$zue,C$zui,C$zun){return.5*-C$zui*(Math.cos(Math.PI*C$zut/C$zun)-1)+C$zue},$Y.sineIn=function(C$zut,C$zue,C$zui,C$zun){return-C$zui*Math.cos(C$zut/C$zun*$Y.HALF_PI)+C$zui+C$zue},$Y.sineOut=function(C$zut,C$zue,C$zui,C$zun){return C$zui*Math.sin(C$zut/C$zun*$Y.HALF_PI)+C$zue},$Y.quintIn=function(C$zut,C$zue,C$zui,C$zun){return C$zui*(C$zut/=C$zun)*C$zut*C$zut*C$zut*C$zut+C$zue},$Y.quintInOut=function(C$zut,C$zue,C$zui,C$zun){return(C$zut/=.5*C$zun)<1?.5*C$zui*C$zut*C$zut*C$zut*C$zut*C$zut+C$zue:.5*C$zui*((C$zut-=2)*C$zut*C$zut*C$zut*C$zut+2)+C$zue},$Y.quintOut=function(C$zut,C$zue,C$zui,C$zun){return C$zui*((C$zut=C$zut/C$zun-1)*C$zut*C$zut*C$zut*C$zut+1)+C$zue},$Y.quartIn=function(C$zut,C$zue,C$zui,C$zun){return C$zui*(C$zut/=C$zun)*C$zut*C$zut*C$zut+C$zue},$Y.quartInOut=function(C$zut,C$zue,C$zui,C$zun){return(C$zut/=.5*C$zun)<1?.5*C$zui*C$zut*C$zut*C$zut*C$zut+C$zue:.5*-C$zui*((C$zut-=2)*C$zut*C$zut*C$zut-2)+C$zue},$Y.quartOut=function(C$zut,C$zue,C$zui,C$zun){return-C$zui*((C$zut=C$zut/C$zun-1)*C$zut*C$zut*C$zut-1)+C$zue},$Y.cubicIn=function(C$zut,C$zue,C$zui,C$zun){return C$zui*(C$zut/=C$zun)*C$zut*C$zut+C$zue},$Y.cubicInOut=function(C$zut,C$zue,C$zui,C$zun){return(C$zut/=.5*C$zun)<1?.5*C$zui*C$zut*C$zut*C$zut+C$zue:.5*C$zui*((C$zut-=2)*C$zut*C$zut+2)+C$zue},$Y.cubicOut=function(C$zut,C$zue,C$zui,C$zun){return C$zui*((C$zut=C$zut/C$zun-1)*C$zut*C$zut+1)+C$zue},$Y.quadIn=function(C$zut,C$zue,C$zui,C$zun){return C$zui*(C$zut/=C$zun)*C$zut+C$zue},$Y.quadInOut=function(C$zut,C$zue,C$zui,C$zun){return(C$zut/=.5*C$zun)<1?.5*C$zui*C$zut*C$zut+C$zue:.5*-C$zui*(--C$zut*(C$zut-2)-1)+C$zue},$Y.quadOut=function(C$zut,C$zue,C$zui,C$zun){return-C$zui*(C$zut/=C$zun)*(C$zut-2)+C$zue},$Y.expoIn=function(C$zut,C$zue,C$zui,C$zun){return 0==C$zut?C$zue:C$zui*Math.pow(2,10*(C$zut/C$zun-1))+C$zue-.001*C$zui},$Y.expoInOut=function(C$zut,C$zue,C$zui,C$zun){return 0==C$zut?C$zue:C$zut==C$zun?C$zue+C$zui:(C$zut/=.5*C$zun)<1?.5*C$zui*Math.pow(2,10*(C$zut-1))+C$zue:.5*C$zui*(2-Math.pow(2,-10*--C$zut))+C$zue},$Y.expoOut=function(C$zut,C$zue,C$zui,C$zun){return C$zut==C$zun?C$zue+C$zui:C$zui*(1-Math.pow(2,-10*C$zut/C$zun))+C$zue},$Y.circIn=function(C$zut,C$zue,C$zui,C$zun){return-C$zui*(Math.sqrt(1-(C$zut/=C$zun)*C$zut)-1)+C$zue},$Y.circInOut=function(C$zut,C$zue,C$zui,C$zun){return(C$zut/=.5*C$zun)<1?.5*-C$zui*(Math.sqrt(1-C$zut*C$zut)-1)+C$zue:.5*C$zui*(Math.sqrt(1-(C$zut-=2)*C$zut)+1)+C$zue},$Y.circOut=function(C$zut,C$zue,C$zui,C$zun){return C$zui*Math.sqrt(1-(C$zut=C$zut/C$zun-1)*C$zut)+C$zue},$Y.HALF_PI=.5*Math.PI,$Y.PI2=2*Math.PI,$Y}(),C$zuY=function(){function $F(){this._hit=null,this._unHit=null}C$zui($F,"laya.utils.HitArea");var C$zut=$F.prototype;return C$zut.isHit=function(C$zut,C$zue){return!!$F.isHitGraphic(C$zut,C$zue,this.hit)&&!$F.isHitGraphic(C$zut,C$zue,this.unHit)},C$zut.contains=function(C$zut,C$zue){return this.isHit(C$zut,C$zue)},C$zun(0,C$zut,"hit",function(){return this._hit||(this._hit=new C$zu_),this._hit},function(C$zut){this._hit=C$zut}),C$zun(0,C$zut,"unHit",function(){return this._unHit||(this._unHit=new C$zu_),this._unHit},function(C$zut){this._unHit=C$zut}),$F.isHitGraphic=function(C$zut,C$zue,C$zui){if(!C$zui)return!1;var C$zun;if(!(C$zun=C$zui.cmds)&&C$zui._one&&((C$zun=$F._cmds).length=1,C$zun[0]=C$zui._one),!C$zun)return!1;var C$zur,C$zus,C$zua=0;for(C$zur=C$zun.length,C$zua=0;C$zua<C$zur;C$zua++)if(C$zus=C$zun[C$zua]){var C$zuo=C$zuw._context;switch(C$zus.callee){case C$zuo._translate:case 6:C$zut-=C$zus[0],C$zue-=C$zus[1]}if($F.isHitCmd(C$zut,C$zue,C$zus))return!0}return!1},$F.isHitCmd=function(C$zut,C$zue,C$zui){if(!C$zui)return!1;var C$zun=C$zuw._context,C$zur=!1;switch(C$zui.callee){case C$zun._drawRect:case 13:$F._rec.setTo(C$zui[0],C$zui[1],C$zui[2],C$zui[3]),C$zur=$F._rec.contains(C$zut,C$zue);break;case C$zun._drawCircle:case C$zun._fillCircle:case 14:C$zur=(C$zut-=C$zui[0])*C$zut+(C$zue-=C$zui[1])*C$zue<C$zui[2]*C$zui[2];break;case C$zun._drawPoly:case 18:C$zut-=C$zui[0],C$zue-=C$zui[1],C$zur=$F.ptInPolygon(C$zut,C$zue,C$zui[2])}return C$zur},$F.ptInPolygon=function(C$zut,C$zuu,C$zue){var C$zui;(C$zui=$F._ptPoint).setTo(C$zut,C$zuu);var C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh=0;C$zun=C$zue.length;for(var C$zul=0;C$zul<C$zun;C$zul+=2)C$zur=C$zue[C$zul],C$zus=C$zue[C$zul+1],C$zua=C$zue[(C$zul+2)%C$zun],C$zus!=(C$zuo=C$zue[(C$zul+3)%C$zun])&&(C$zui.y<Math.min(C$zus,C$zuo)||C$zui.y>=Math.max(C$zus,C$zuo)||(C$zui.y-C$zus)*(C$zua-C$zur)/(C$zuo-C$zus)+C$zur>C$zui.x&&C$zuh++);return C$zuh%2==1},$F._cmds=[],C$zua($F,["_rec",function(){return this._rec=new C$zuA},"_ptPoint",function(){return this._ptPoint=new C$zuP}]),$F}(),C$zuX=(function(){function $L(C$zut,C$zue,C$zui,C$zun){this.char=C$zut,this.charNum=C$zut.charCodeAt(0),this._x=this._y=0,this.width=C$zue,this.height=C$zui,this.style=C$zun,this.isWord=!$L._isWordRegExp.test(C$zut)}C$zui($L,"laya.utils.HTMLChar");var C$zut=$L.prototype;C$zuy.imps(C$zut,{"laya.display.ILayout":!0}),C$zut.setSprite=function(C$zut){this._sprite=C$zut},C$zut.getSprite=function(){return this._sprite},C$zut._isChar=function(){return!0},C$zut._getCSSStyle=function(){return this.style},C$zun(0,C$zut,"width",function(){return this._w},function(C$zut){this._w=C$zut}),C$zun(0,C$zut,"x",function(){return this._x},function(C$zut){this._sprite&&(this._sprite.x=C$zut),this._x=C$zut}),C$zun(0,C$zut,"y",function(){return this._y},function(C$zut){this._sprite&&(this._sprite.y=C$zut),this._y=C$zut}),C$zun(0,C$zut,"height",function(){return this._h},function(C$zut){this._h=C$zut}),$L._isWordRegExp=new RegExp("[\\w.]","")}(),function(){function $p(){}C$zui($p,"laya.utils.Log"),$p.enable=function(){$p._logdiv||($p._logdiv=C$zuM.window.document.createElement("div"),C$zuM.window.document.body.appendChild($p._logdiv),$p._logdiv.style.cssText="pointer-events:none;border:white;overflow:hidden;z-index:1000000;background:rgba(100,100,100,0.6);color:white;position: absolute;left:0px;top:0px;width:50%;height:50%;")},$p.toggle=function(){var C$zut=$p._logdiv.style;"1px"==C$zut.width?C$zut.width=C$zut.height="50%":C$zut.width=C$zut.height="1px"},$p.print=function(C$zut){$p._logdiv&&($p.maxCount<=$p._count&&$p.clear(),$p._count++,$p._logdiv.innerText+=C$zut+"\n",$p._logdiv.scrollTop=$p._logdiv.scrollHeight)},$p.clear=function(){$p._logdiv.innerText="",$p._count=0},$p._logdiv=null,$p._count=0,$p.maxCount=20}(),function(){function $p(){}C$zui($p,"laya.utils.Mouse"),C$zun(1,$p,"cursor",function(){return $p._style.cursor},function(C$zut){$p._style.cursor=C$zut}),$p.hide=function(){"none"!=$p.cursor&&($p._preCursor=$p.cursor,$p.cursor="none")},$p.show=function(){"none"==$p.cursor&&($p.cursor=$p._preCursor||"auto")},$p._preCursor=null,C$zua($p,["_style",function(){return this._style=C$zuM.document.body.style}])}(),function(){function $q(){}return C$zui($q,"laya.utils.Pool"),$q.getPoolBySign=function(C$zut){return $q._poolDic[C$zut]||($q._poolDic[C$zut]=[])},$q.clearBySign=function(C$zut){$q._poolDic[C$zut]&&($q._poolDic[C$zut].length=0)},$q.recover=function(C$zut,C$zue){C$zue.__InPool||(C$zue.__InPool=!0,$q.getPoolBySign(C$zut).push(C$zue))},$q.getItemByClass=function(C$zut,C$zue){C$zut=$q.getPoolBySign(C$zut),C$zut=C$zut.length?C$zut.pop():new C$zue;return C$zut.__InPool=!1,C$zut},$q.getItemByCreateFun=function(C$zut,C$zue,C$zui){C$zut=$q.getPoolBySign(C$zut),C$zut=C$zut.length?C$zut.pop():C$zue.call(C$zui);return C$zut.__InPool=!1,C$zut},$q.getItem=function(C$zut){C$zut=$q.getPoolBySign(C$zut),C$zut=C$zut.length?C$zut.pop():null;return C$zut&&(C$zut.__InPool=!1),C$zut},$q._poolDic={},$q.InPoolSign="__InPool",$q}()),C$zuK=function(){function $d(){}return C$zui($d,"laya.utils.Stat"),C$zun(1,$d,"onclick",null,function(C$zut){$d._sp&&$d._sp.on("click",$d._sp,C$zut),$d._canvas&&($d._canvas.source.onclick=C$zut,$d._canvas.source.style.pointerEvents="")}),$d.show=function(C$zut,C$zue,C$zui){var C$zun;void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0),!C$zuw.isConchApp||C$zuw.isConchWebGL?(C$zuw.isConchWebGL||C$zuM.onMiniGame||C$zuM.onLimixiu||($d._useCanvas=!0),$d._show=!0,$d._fpsData.length=60,$d._view[0]={title:"FPS(Canvas)",value:"_fpsStr",color:"yellow",units:"int"},$d._view[1]={title:"Sprite",value:"_spriteStr",color:"white",units:"int"},$d._view[2]={title:"DrawCall",value:"drawCall",color:"green",units:"int"},$d._view[3]={title:"CurMem",value:"currentMemorySize",color:"yellow",units:"M"},C$zuw.isWebGL?($d._view[4]={title:"Shader",value:"shaderCall",color:"red",units:"int"},C$zuw.is3DMode?($d._view[0].title="FPS(3D)",$d._view[5]={title:"TriFaces",value:"trianglesFaces",color:"blue",units:"int"},$d._view[6]={title:"treeNodeColl",value:"treeNodeCollision",color:"white",units:"int"},$d._view[7]={title:"treeSpriteColl",value:"treeSpriteCollision",color:"white",units:"int"},1==C$zui?(C$zun=8,$d._view[C$zun++]={title:"VATTRIBS",value:"MAX_VERTEX_ATTRIBS",color:"white",units:"int",varying:1},$d._view[C$zun++]={title:"VUNIFORMS",value:"MAX_VERTEX_UNIFORM_VECTORS",color:"white",units:"int",varying:1},$d._view[C$zun++]={title:"VARYINGS",value:"MAX_VARYING_VECTORS",color:"white",units:"int",varying:1},$d._view[C$zun++]={title:"CTEXTURES",value:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",color:"white",units:"int",varying:1},$d._view[C$zun++]={title:"VTEXTURES",value:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",color:"white",units:"int",varying:1},$d._view[C$zun++]={title:"TEXTURES",value:"MAX_TEXTURE_IMAGE_UNITS",color:"white",units:"int",varying:1},$d._view[C$zun++]={title:"FUNIFORMS",value:"MAX_FRAGMENT_UNIFORM_VECTORS",color:"white",units:"int",varying:1},$d._view[C$zun++]={title:"SVERSION",value:"SHADING_LANGUAGE_VERSION",color:"white",units:"string",varying:1},$d._view[C$zun++]={title:"VERSION",value:"VERSION",color:"white",units:"string",varying:1}):2==C$zui&&(C$zun=8,$d._view[C$zun++]={title:"astc",value:"WEBGL_compressed_texture_astc",color:"white",units:"object",varying:2},$d._view[C$zun++]={title:"atc",value:"WEBGL_compressed_texture_atc",color:"white",units:"object",varying:2},$d._view[C$zun++]={title:"etc",value:"WEBGL_compressed_texture_etc",color:"white",units:"object",varying:2},$d._view[C$zun++]={title:"etc1",value:"WEBGL_compressed_texture_etc1",color:"white",units:"object",varying:2},$d._view[C$zun++]={title:"pvrtc",value:"WEBGL_compressed_texture_pvrtc",color:"white",units:"object",varying:2},$d._view[C$zun++]={title:"s3tc",value:"WEBGL_compressed_texture_s3tc",color:"white",units:"object",varying:2},$d._view[C$zun++]={title:"srgb",value:"WEBGL_compressed_texture_s3tc_srgb",color:"white",units:"object",varying:2})):($d._view[0].title="FPS(WebGL)",$d._view[5]={title:"Canvas",value:"_canvasStr",color:"white",units:"int"})):$d._view[4]={title:"Canvas",value:"_canvasStr",color:"white",units:"int"},$d._useCanvas?$d.createUIPre(C$zut,C$zue):$d.createUI(C$zut,C$zue),$d.enable()):C$zuM.window.conch.showFPS&&C$zuM.window.conch.showFPS(C$zut,C$zue)},$d.createUIPre=function(C$zut,C$zue){var C$zui=C$zuM.pixelRatio;$d._width=170*C$zui,$d._vx=75*C$zui,$d._height=C$zui*(12*$d._view.length+3*C$zui)+4,$d._fontSize=12*C$zui;for(var C$zun=0;C$zun<$d._view.length;C$zun++)$d._view[C$zun].x=4,$d._view[C$zun].y=C$zun*$d._fontSize+2*C$zui;$d._canvas||(($d._canvas=new C$zu$t("2D")).size($d._width,$d._height),($d._ctx=$d._canvas.getContext("2d")).textBaseline="top",$d._ctx.font=$d._fontSize+"px Sans-serif",$d._canvas.source.style.cssText="pointer-events:none;background:rgba(150,150,150,0.8);z-index:100000;position: absolute;direction:ltr;left:"+C$zut+"px;top:"+C$zue+"px;width:"+$d._width/C$zui+"px;height:"+$d._height/C$zui+"px;"),$d._first=!0,$d.loop(),$d._first=!1,C$zuM.container.appendChild($d._canvas.source)},$d.createUI=function(C$zut,C$zue){var C$zui=$d._sp,C$zun=C$zuM.pixelRatio;C$zui||(C$zui=new C$zu_t,($d._leftText=new C$zumt).pos(5,5),$d._leftText.color="#ffffff",C$zui.addChild($d._leftText),($d._txt=new C$zumt).pos(80*C$zun,5),$d._txt.color="#ffffff",C$zui.addChild($d._txt),$d._sp=C$zui),C$zui.pos(C$zut,C$zue);for(var C$zur="",C$zus=0;C$zus<$d._view.length;C$zus++)C$zur+=$d._view[C$zus].title+"\n";$d._leftText.text=C$zur;C$zut=170*C$zun,C$zue=C$zun*(12*$d._view.length+3*C$zun)+4;$d._txt.fontSize=$d._fontSize*C$zun,$d._leftText.fontSize=$d._fontSize*C$zun,C$zui.size(C$zut,C$zue),C$zui.graphics.clear(),C$zui.graphics.setAlpha(.5),C$zui.graphics.drawRect(0,0,C$zut,C$zue,"#999999"),C$zui.graphics.setAlpha(1),$d.loop()},$d.enable=function(){C$zuy.timer.frameLoop(1,$d,$d.loop)},$d.hide=function(){$d._show=!1,C$zuy.timer.clear($d,$d.loop),$d._canvas&&C$zuM.removeElement($d._canvas.source)},$d.clear=function(){$d.trianglesFaces=$d.drawCall=$d.shaderCall=$d.spriteCount=$d.spriteRenderUseCacheCount=$d.treeNodeCollision=$d.treeSpriteCollision=$d.canvasNormal=$d.canvasBitmap=$d.canvasReCache=0},$d.loop=function(){$d._count++;var C$zut=C$zuM.now();var C$zue;C$zut-$d._timer<1e3||(C$zue=$d._count,$d.FPS=Math.round(1e3*C$zue/(C$zut-$d._timer)),$d._show&&($d.trianglesFaces=Math.round($d.trianglesFaces/C$zue),$d.spriteCount=$d._useCanvas?($d.drawCall=Math.round($d.drawCall/C$zue)-2,$d.shaderCall=Math.round($d.shaderCall/C$zue),Math.round($d.spriteCount/C$zue)-1):($d.drawCall=Math.round($d.drawCall/C$zue)-2,$d.shaderCall=Math.round($d.shaderCall/C$zue)-4,Math.round($d.spriteCount/C$zue)-4),$d.spriteRenderUseCacheCount=Math.round($d.spriteRenderUseCacheCount/C$zue),$d.canvasNormal=Math.round($d.canvasNormal/C$zue),$d.canvasBitmap=Math.round($d.canvasBitmap/C$zue),$d.canvasReCache=Math.ceil($d.canvasReCache/C$zue),$d.treeNodeCollision=Math.round($d.treeNodeCollision/C$zue),$d.treeSpriteCollision=Math.round($d.treeSpriteCollision/C$zue),C$zue=0<$d.FPS?Math.floor(1e3/$d.FPS).toString():" ",$d._fpsStr=$d.FPS+($d.renderSlow?" slow":"")+" "+C$zue,$d._spriteStr=$d.spriteCount+($d.spriteRenderUseCacheCount?"/"+$d.spriteRenderUseCacheCount:""),$d._canvasStr=$d.canvasReCache+"/"+$d.canvasNormal+"/"+$d.canvasBitmap,$d.currentMemorySize=C$zuV.systemResourceManager.memorySize,$d._useCanvas?$d.renderInfoPre():$d.renderInfo(),$d.clear()),$d._count=0,$d._timer=C$zut)},$d.renderInfoPre=function(){if($d._canvas){var C$zut=$d._ctx;C$zut.clearRect($d._first?0:$d._vx,0,$d._width,$d._height);for(var C$zue=C$zuw.WebGL.mainContext,C$zui=0;C$zui<$d._view.length;C$zui++){var C$zun=$d._view[C$zui];$d._first&&(C$zut.fillStyle="white",C$zut.fillText(C$zun.title,C$zun.x,C$zun.y,null,null,null)),C$zut.fillStyle=C$zun.color;var C$zur=-1;if((C$zun=$d._view[C$zui]).varying){if(C$zue)switch(C$zun.varying){case 1:C$zur=C$zue.getParameter(C$zue[C$zun.value]);break;case 2:C$zur=C$zue.getExtension(C$zun.value)}}else C$zur=$d[C$zun.value];"M"==C$zun.units&&(C$zur=Math.floor(C$zur/1048576*100)/100+" M"),"K"==C$zun.units&&(C$zur=Math.floor(C$zur/1024*100)/100+" K"),"string"==C$zun.units&&(C$zur=C$zur.match(/\d+\.?\d/i)),C$zut.fillText(C$zur+"",C$zun.x+$d._vx,C$zun.y,null,null,null)}}},$d.renderInfo=function(){for(var C$zut="",C$zue=C$zuw.WebGL.mainContext,C$zui=0;C$zui<$d._view.length;C$zui++){var C$zun=$d._view[C$zui],C$zur=-1;if(C$zun.varying){if(C$zue)switch(C$zun.varying){case 1:C$zur=C$zue.getParameter(C$zue[C$zun.value]);break;case 2:C$zur=C$zue.getExtension(C$zun.value)}}else C$zur=$d[C$zun.value];"M"==C$zun.units&&(C$zur=Math.floor(C$zur/1048576*100)/100+" M"),"K"==C$zun.units&&(C$zur=Math.floor(C$zur/1024*100)/100+" K"),C$zut+=(C$zur="string"==C$zun.units?C$zur.match(/\d+\.?\d/i):C$zur)+"\n"}$d._txt.text=C$zut},$d.FPS=0,$d.loopCount=0,$d.shaderCall=0,$d.drawCall=0,$d.trianglesFaces=0,$d.spriteCount=0,$d.spriteRenderUseCacheCount=0,$d.treeNodeCollision=0,$d.treeSpriteCollision=0,$d.canvasNormal=0,$d.canvasBitmap=0,$d.canvasReCache=0,$d.renderSlow=!1,$d.currentMemorySize=0,$d._fpsStr=null,$d._canvasStr=null,$d._spriteStr=null,$d._fpsData=[],$d._timer=0,$d._count=0,$d._view=[],$d._fontSize=12,$d._txt=null,$d._leftText=null,$d._sp=null,$d._show=!1,$d._useCanvas=!1,$d._canvas=null,$d._ctx=null,$d._first=!1,$d._vx=NaN,$d._width=0,$d._height=100,$d}(),C$zuq=(function(){function $m(){this._strsToID={},this._idToStrs=[],this._length=0}C$zui($m,"laya.utils.StringKey");var C$zut=$m.prototype;C$zut.add=function(C$zut){var C$zue=this._strsToID[C$zut];return null!=C$zue?C$zue:(this._idToStrs[this._length]=C$zut,this._strsToID[C$zut]=this._length++)},C$zut.getID=function(C$zut){C$zut=this._strsToID[C$zut];return null==C$zut?-1:C$zut},C$zut.getName=function(C$zut){C$zut=this._idToStrs[C$zut];return null==C$zut?void 0:C$zut}}(),function(){var C$zul;function $m(){this._delta=0,this.scale=1,this.currFrame=0,this._mid=1,this._map={},this._laters=[],this._handlers=[],this._temp=[],this._count=0,this._errorRecord=!1,this.currTimer=this._now(),this._lastTimer=this._now(),this._init()}C$zui($m,"laya.utils.Timer");var C$zut=$m.prototype;return C$zut._init=function(){C$zuy.timer&&C$zuy.timer.frameLoop(1,this,this._update)},C$zut._now=function(){return Date.now()},C$zut._update=function(){if(this.scale<=0)this._lastTimer=this._now();else{var C$zut=this.currFrame=this.currFrame+this.scale,C$zue=this._now();this._delta=(C$zue-this._lastTimer)*this.scale;var C$zui=this.currTimer=this.currTimer+this._delta;C$zuy.isDebug&&6e4<Math.abs(C$zue-this._lastTimer)&&console.error("\u7cfb\u7edf\u65f6\u95f4\u9519\u8bef\uff01"+(C$zue-this._lastTimer)),this._lastTimer=C$zue;var C$zun=this._handlers;for(C$zua=this._count=0,C$zuo=C$zun.length;C$zua<C$zuo;C$zua++)if(null!==(C$zuh=C$zun[C$zua]).method){var C$zur=C$zuh.userFrame?C$zut:C$zui;if(C$zur>=C$zuh.exeTime)if(C$zuh.repeat)if(C$zuh.jumpFrame)for(;C$zur>=C$zuh.exeTime;)C$zuh.exeTime+=C$zuh.delay,C$zuh.run(!1);else C$zuh.exeTime+=C$zuh.delay,C$zuh.run(!1),C$zur>C$zuh.exeTime&&(C$zuh.exeTime+=Math.ceil((C$zur-C$zuh.exeTime)/C$zuh.delay)*C$zuh.delay);else C$zuh.run(!0)}else this._count++;(30<this._count||C$zut%200==0)&&this._clearHandlers();for(var C$zus=this._laters,C$zua=0,C$zuo=C$zus.length-1;C$zua<=C$zuo;C$zua++){var C$zuh=C$zus[C$zua];this._isIgnoreRecover(C$zuh)||(null!==C$zuh.method&&(delete this._map[C$zuh.key],C$zuh.run(!1)),this._recoverHandler(C$zuh)),C$zua===C$zuo&&(C$zuo=C$zus.length-1)}C$zus.length=0}},C$zut._clearHandlers=function(){for(var C$zut=this._handlers,C$zue=0,C$zui=C$zut.length;C$zue<C$zui;C$zue++){var C$zun=C$zut[C$zue];null!==C$zun.method||this._isIgnoreRecover(C$zun)?this._temp.push(C$zun):this._recoverHandler(C$zun)}this._handlers=this._temp,this._temp=C$zut,this._temp.length=0},C$zut._recoverHandler=function(C$zut){this._map[C$zut.key]==C$zut&&delete this._map[C$zut.key],C$zut.recover()},C$zut._create=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){if(!C$zui)return C$zur.apply(C$zun,C$zus),null;if(C$zua){var C$zuh=this._getHandler(C$zun,C$zur);if(C$zuh)return C$zuh.repeat=C$zue,C$zuh.userFrame=C$zut,C$zuh.delay=C$zui,C$zuh.ignoreRecover=C$zuo,C$zuh.caller=C$zun,C$zuh.method=C$zur,C$zuh.args=C$zus,C$zuh.exeTime=C$zui+(C$zut?this.currFrame:this.currTimer+this._now()-this._lastTimer),C$zuh}return(C$zuh=C$zul.create()).repeat=C$zue,C$zuh.userFrame=C$zut,C$zuh.delay=C$zui,C$zuh.ignoreRecover=C$zuo,C$zuh.caller=C$zun,C$zuh.method=C$zur,C$zuh.args=C$zus,C$zuh.exeTime=C$zui+(C$zut?this.currFrame:this.currTimer+this._now()-this._lastTimer)+1,this._indexHandler(C$zuh),this._handlers.push(C$zuh),C$zuh},C$zut._indexHandler=function(C$zut){var C$zue=C$zut.caller,C$zui=C$zut.method,C$zue=C$zue?C$zue.$_GID||(C$zue.$_GID=C$zuZ.getGID()):0,C$zui=C$zui.$_TID||(C$zui.$_TID=this._mid++);C$zut.key=C$zue+"_"+C$zui,this._map[C$zut.key]=C$zut},C$zut.once=function(C$zut,C$zue,C$zui,C$zun,C$zur){this._create(!1,!1,C$zut,C$zue,C$zui,C$zun,C$zur=void 0===C$zur?!0:C$zur,!1)},C$zut.loop=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){void 0===C$zus&&(C$zus=!1);C$zut=this._create(!1,!0,C$zut,C$zue,C$zui,C$zun,C$zur=void 0===C$zur?!0:C$zur,C$zua=void 0===C$zua?!1:C$zua);C$zut&&(C$zut.jumpFrame=C$zus)},C$zut.frameOnce=function(C$zut,C$zue,C$zui,C$zun,C$zur){this._create(!0,!1,C$zut,C$zue,C$zui,C$zun,C$zur=void 0===C$zur?!0:C$zur,!1)},C$zut.frameLoop=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this._create(!0,!0,C$zut,C$zue,C$zui,C$zun,C$zur=void 0===C$zur?!0:C$zur,C$zus=void 0===C$zus?!1:C$zus)},C$zut.toString=function(){return"callLater:"+this._laters.length+" handlers:"+this._handlers.length+" pool:"+C$zul._freeCount},C$zut.clear=function(C$zut,C$zue){C$zut=this._getHandler(C$zut,C$zue);return!(!C$zut||this._isIgnoreRecover(C$zut)||(delete this._map[C$zut.key],C$zut.key=null,C$zut.clear(),0))},C$zut.clearAll=function(C$zut){if(C$zut)for(var C$zue=0,C$zui=this._handlers.length;C$zue<C$zui;C$zue++){var C$zun=this._handlers[C$zue];C$zun.caller===C$zut&&(this._isIgnoreRecover(C$zun)||(delete this._map[C$zun.key],C$zun.key=null,C$zun.clear()))}},C$zut._getHandler=function(C$zut,C$zue){C$zut=C$zut?C$zut.$_GID||(C$zut.$_GID=C$zuZ.getGID()):0,C$zue=C$zue.$_TID||(C$zue.$_TID=this._mid++);return this._map[C$zut+"_"+C$zue]},C$zut._isIgnoreRecover=function(C$zut){if(C$zut.ignoreRecover||C$zut.caller&&"IgnoreRecover"==C$zut.caller.callername){if(this._errorRecord)console.warn("\u6838\u5fc3\u5b9a\u65f6\u5668\u9500\u6bc1\u5ffd\u7565");else{this._errorRecord=!0;var C$zue="";try{arguments.propertyIsEnumerable.caller}catch(C$zut){C$zue=C$zut.stack}C$zuy.recordError("\u62a5\u9519\uff1a\u6838\u5fc3\u5b9a\u65f6\u5668\u9500\u6bc1\u5ffd\u7565  "+C$zue)}return!0}return!1},C$zut.hasHandler=function(C$zut,C$zue){return this._map[C$zut.$_GID+"_"+C$zue.$_TID]},C$zut.callLater=function(C$zut,C$zue,C$zui){var C$zun;null==this._getHandler(C$zut,C$zue)&&((C$zun=C$zul.create()).caller=C$zut,C$zun.method=C$zue,C$zun.args=C$zui,this._indexHandler(C$zun),this._laters.push(C$zun))},C$zut.runCallLater=function(C$zut,C$zue){C$zut=this._getHandler(C$zut,C$zue);C$zut&&null!=C$zut.method&&(this._isIgnoreRecover(C$zut)||(delete this._map[C$zut.key],C$zut.run(!0)))},C$zut.runTimer=function(C$zut,C$zue){this.runCallLater(C$zut,C$zue)},C$zun(0,C$zut,"delta",function(){return this._delta}),$m.__init$=function(){function $p(){this.key=null,this.repeat=!1,this.delay=0,this.userFrame=!1,this.ignoreRecover=!1,this.exeTime=0,this.caller=null,this.method=null,this.args=null,this.jumpFrame=!1}var C$zut;C$zui($p,""),(C$zut=$p.prototype).clear=function(){this.caller=null,this.method=null,this.args=null,this.ignoreRecover=!1},C$zut.recover=function(){this.clear(),this.args=$p._freeHandler,$p._freeHandler=this,$p._freeCount++},C$zut.run=function(C$zut){var C$zue=this.caller;if(C$zue&&C$zue.destroyed)return this.clear();var C$zui=this.method,C$zun=this.args;C$zut&&this.clear(),null!=C$zui&&(C$zun?C$zui.apply(C$zue,C$zun):C$zui.call(C$zue))},$p._freeHandler=null,$p._freeCount=0,$p.create=function(){var C$zut=$p._freeHandler;return C$zut?($p._freeHandler=C$zut.args,--$p._freeCount,C$zut.args=null,C$zut):new $p},C$zul=$p},$m}()),C$zuj=function(){function $F(){this.gid=0}C$zui($F,"laya.utils.Tween");var C$zut=$F.prototype;return C$zut.to=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){return this._create(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus=void 0===C$zus?0:C$zus,C$zua=void 0===C$zua?!1:C$zua,!0,!1,!0)},C$zut.from=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){return this._create(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus=void 0===C$zus?0:C$zus,C$zua=void 0===C$zua?!1:C$zua,!1,!1,!0)},C$zut._create=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul){if(!C$zut)throw new Error("Tween:target is null");this._target=C$zut,this._duration=C$zui,this._ease=C$zun||C$zue.ease||$F.easeNone,this._complete=C$zur||C$zue.complete,this._delay=C$zus,this._props=[],this._usedTimer=0,this._startTimer=C$zuM.now(),this._usedPool=C$zuh,this._delayParam=null,this.update=C$zue.update;C$zui=C$zut.$_GID||(C$zut.$_GID=C$zuZ.getGID());return $F.tweenMap[C$zui]?(C$zua&&$F.clearTween(C$zut),$F.tweenMap[C$zui].push(this)):$F.tweenMap[C$zui]=[this],C$zul?C$zus<=0?this.firstStart(C$zut,C$zue,C$zuo):(this._delayParam=[C$zut,C$zue,C$zuo],C$zuy.scaleTimer.once(C$zus,this,this.firstStart,this._delayParam)):this._initProps(C$zut,C$zue,C$zuo),this},C$zut.firstStart=function(C$zut,C$zue,C$zui){this._delayParam=null,C$zut.destroyed?this.clear():(this._initProps(C$zut,C$zue,C$zui),this._beginLoop())},C$zut._initProps=function(C$zut,C$zue,C$zui){for(var C$zun in C$zue){var C$zur,C$zus;"number"==typeof C$zut[C$zun]&&(C$zur=(C$zui?C$zut:C$zue)[C$zun],C$zus=(C$zui?C$zue:C$zut)[C$zun],this._props.push([C$zun,C$zur,C$zus-C$zur]),C$zui||(C$zut[C$zun]=C$zur))}},C$zut._beginLoop=function(){C$zuy.scaleTimer.frameLoop(1,this,this._doEase)},C$zut._doEase=function(){this._updateEase(C$zuM.now())},C$zut._updateEase=function(C$zut){var C$zue=this._target;if(C$zue){if(C$zue.destroyed)return $F.clearTween(C$zue);C$zut=this._usedTimer=C$zut-this._startTimer-this._delay;if(!(C$zut<0)){if(C$zut>=this._duration)return this.complete();for(var C$zui=0<C$zut?this._ease(C$zut,0,1,this._duration):0,C$zun=this._props,C$zur=0,C$zus=C$zun.length;C$zur<C$zus;C$zur++){var C$zua=C$zun[C$zur];C$zue[C$zua[0]]=C$zua[1]+C$zui*C$zua[2]}this.update&&this.update.run()}}},C$zut.complete=function(){if(this._target){C$zuy.scaleTimer.runTimer(this,this.firstStart);for(var C$zut=this._target,C$zue=this._props,C$zui=this._complete,C$zun=0,C$zur=C$zue.length;C$zun<C$zur;C$zun++){var C$zus=C$zue[C$zun];C$zut[C$zus[0]]=C$zus[1]+C$zus[2]}this.update&&this.update.run(),this.clear(),C$zui&&C$zui.run()}},C$zut.pause=function(){var C$zut;C$zuy.scaleTimer.clear(this,this._beginLoop),C$zuy.scaleTimer.clear(this,this._doEase),C$zuy.scaleTimer.clear(this,this.firstStart),(C$zut=C$zuM.now()-this._startTimer-this._delay)<0&&(this._usedTimer=C$zut)},C$zut.setStartTime=function(C$zut){this._startTimer=C$zut},C$zut.clear=function(){this._target&&(this._remove(),this._clear())},C$zut._clear=function(){this.pause(),C$zuy.scaleTimer.clear(this,this.firstStart),this._complete=null,this._target=null,this._ease=null,this._props=null,this._delayParam=null,this._usedPool&&(this.update=null,C$zuX.recover("tween",this))},C$zut.recover=function(){this._usedPool=!0,this._clear()},C$zut._remove=function(){var C$zut=$F.tweenMap[this._target.$_GID];if(C$zut)for(var C$zue=0,C$zui=C$zut.length;C$zue<C$zui;C$zue++)if(C$zut[C$zue]===this){C$zut.splice(C$zue,1);break}},C$zut.restart=function(){if(this.pause(),this._usedTimer=0,this._startTimer=C$zuM.now(),this._delayParam)C$zuy.scaleTimer.once(this._delay,this,this.firstStart,this._delayParam);else{for(var C$zut=this._props,C$zue=0,C$zui=C$zut.length;C$zue<C$zui;C$zue++){var C$zun=C$zut[C$zue];this._target[C$zun[0]]=C$zun[1]}C$zuy.scaleTimer.once(this._delay,this,this._beginLoop)}},C$zut.resume=function(){this._usedTimer>=this._duration||(this._startTimer=C$zuM.now()-this._usedTimer-this._delay,this._delayParam?this._usedTimer<0?C$zuy.scaleTimer.once(-this._usedTimer,this,this.firstStart,this._delayParam):this.firstStart.apply(this,this._delayParam):this._beginLoop())},C$zun(0,C$zut,"progress",null,function(C$zut){C$zut*=this._duration;this._startTimer=C$zuM.now()-this._delay-C$zut}),$F.to=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){return void 0===C$zus&&(C$zus=0),void 0===C$zua&&(C$zua=!1),void 0===C$zuo&&(C$zuo=!0),C$zuX.getItemByClass("tween",$F)._create(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,!0,C$zuo,!0)},$F.from=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){return void 0===C$zus&&(C$zus=0),void 0===C$zua&&(C$zua=!1),void 0===C$zuo&&(C$zuo=!0),C$zuX.getItemByClass("tween",$F)._create(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,!1,C$zuo,!0)},$F.clearAll=function(C$zut){if(C$zut&&C$zut.$_GID){var C$zue=$F.tweenMap[C$zut.$_GID];if(C$zue){for(var C$zui=0,C$zun=C$zue.length;C$zui<C$zun;C$zui++)C$zue[C$zui]._clear();C$zue.length=0}}},$F.clear=function(C$zut){C$zut.clear()},$F.clearTween=function(C$zut){$F.clearAll(C$zut)},$F.easeNone=function(C$zut,C$zue,C$zui,C$zun){return C$zui*C$zut/C$zun+C$zue},$F.tweenMap={},$F}(),C$zuZ=function(){function $Y(){}return C$zui($Y,"laya.utils.Utils"),$Y.toRadian=function(C$zut){return C$zut*$Y._pi2},$Y.toAngle=function(C$zut){return C$zut*$Y._pi},$Y.toHexColor=function(C$zut){if(C$zut<0||isNaN(C$zut))return null;for(var C$zue=C$zut.toString(16);C$zue.length<6;)C$zue="0"+C$zue;return"#"+C$zue},$Y.getGID=function(){return $Y._gid++},$Y.concatArray=function(C$zut,C$zue){if(!C$zue)return C$zut;if(!C$zut)return C$zue;var C$zui=0,C$zun=C$zue.length;for(C$zui=0;C$zui<C$zun;C$zui++)C$zut.push(C$zue[C$zui]);return C$zut},$Y.clearArray=function(C$zut){return C$zut&&(C$zut.length=0),C$zut},$Y.copyArray=function(C$zut,C$zue){if(C$zut=C$zut||[],!C$zue)return C$zut;C$zut.length=C$zue.length;var C$zui=0,C$zun=C$zue.length;for(C$zui=0;C$zui<C$zun;C$zui++)C$zut[C$zui]=C$zue[C$zui];return C$zut},$Y.getGlobalRecByPoints=function(C$zut,C$zue,C$zui,C$zun,C$zur){return C$zue=new C$zuP(C$zue,C$zui),C$zue=C$zut.localToGlobal(C$zue),C$zui=new C$zuP(C$zun,C$zur),C$zui=C$zut.localToGlobal(C$zui),C$zuA._getWrapRec([C$zue.x,C$zue.y,C$zui.x,C$zui.y])},$Y.getGlobalPosAndScale=function(C$zut){return $Y.getGlobalRecByPoints(C$zut,0,0,1,1)},$Y.bind=function(C$zut,C$zue){return C$zut.bind(C$zue)},$Y.measureText=function(C$zut,C$zue){return C$zum.measureText(C$zut,C$zue)},$Y.contextMeasureText=function(C$zut){C$zut=C$zuM.context.measureText(C$zut);return C$zut=C$zut||{width:16,height:16}},$Y.updateOrder=function(C$zut){if(!C$zut||C$zut.length<2)return!1;for(var C$zue,C$zui,C$zun=1,C$zur=0,C$zus=C$zut.length;C$zun<C$zus;){for(C$zue=C$zut[C$zur=C$zun],C$zui=C$zut[C$zur]._zOrder;-1<--C$zur&&C$zut[C$zur]._zOrder>C$zui;)C$zut[C$zur+1]=C$zut[C$zur];C$zut[C$zur+1]=C$zue,C$zun++}var C$zua=C$zue.parent.conchModel;if(C$zua)if(null!=C$zua.updateZOrder)C$zua.updateZOrder();else{for(C$zun=0;C$zun<C$zus;C$zun++)C$zua.removeChild(C$zut[C$zun].conchModel);for(C$zun=0;C$zun<C$zus;C$zun++)C$zua.addChildAt(C$zut[C$zun].conchModel,C$zun)}return!0},$Y.transPointList=function(C$zut,C$zue,C$zui){var C$zun=0,C$zur=C$zut.length;for(C$zun=0;C$zun<C$zur;C$zun+=2)C$zut[C$zun]+=C$zue,C$zut[C$zun+1]+=C$zui},$Y.parseInt=function(C$zut,C$zue){C$zut=C$zuM.window.parseInt(C$zut,C$zue=void 0===C$zue?0:C$zue);return isNaN(C$zut)?0:C$zut},$Y.getFileExtension=function(C$zut){$Y._extReg.lastIndex=C$zut.lastIndexOf(".");C$zut=$Y._extReg.exec(C$zut);return C$zut&&1<C$zut.length?C$zut[1].toLowerCase():null},$Y.getTransformRelativeToWindow=function(C$zut,C$zue,C$zui){var C$zun=C$zuy.stage,C$zut=laya.utils.Utils.getGlobalPosAndScale(C$zut),C$zun=C$zun._canvasTransform.clone(),C$zur=C$zun.tx,C$zus=C$zun.ty;C$zun.rotate(-Math.PI/180*C$zuy.stage.canvasDegree),C$zun.scale(C$zuy.stage.clientScaleX,C$zuy.stage.clientScaleY);var C$zua=C$zuy.stage.canvasDegree%180!=0,C$zuo=NaN,C$zuh=NaN;C$zua?(C$zuo=C$zui+C$zut.y,C$zuh=C$zue+C$zut.x,C$zuo*=C$zun.d,C$zuh*=C$zun.a,90==C$zuy.stage.canvasDegree?(C$zuo=C$zur-C$zuo,C$zuh+=C$zus):(C$zuo+=C$zur,C$zuh=C$zus-C$zuh)):(C$zuo=C$zue+C$zut.x,C$zuh=C$zui+C$zut.y,C$zuo=C$zuo*C$zun.a+C$zur,C$zuh=C$zuh*C$zun.d+C$zus);C$zue=NaN;return C$zui=C$zua?(C$zue=C$zun.d*C$zut.height,C$zun.a*C$zut.width):(C$zue=C$zun.a*C$zut.width,C$zun.d*C$zut.height),{x:C$zuo,y:C$zuh,scaleX:C$zue,scaleY:C$zui}},$Y.fitDOMElementInArea=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){C$zut._fitLayaAirInitialized||(C$zut._fitLayaAirInitialized=!0,C$zut.style.transformOrigin=C$zut.style.webKittransformOrigin="left top",C$zut.style.position="absolute");C$zue=$Y.getTransformRelativeToWindow(C$zue,C$zui,C$zun);C$zut.style.transform=C$zut.style.webkitTransform="scale("+C$zue.scaleX+","+C$zue.scaleY+") rotate("+C$zuy.stage.canvasDegree+"deg)",C$zut.style.width=C$zur+"px",C$zut.style.height=C$zus+"px",C$zut.style.left=C$zue.x+"px",C$zut.style.top=C$zue.y+"px"},$Y.isOkTextureList=function(C$zut){if(!C$zut)return!1;var C$zue,C$zui=0,C$zun=C$zut.length;for(C$zui=0;C$zui<C$zun;C$zui++)if(!(C$zue=C$zut[C$zui])||!C$zue.source)return!1;return!0},$Y.isOKCmdList=function(C$zut){if(!C$zut)return!1;var C$zue,C$zui,C$zun=0,C$zur=C$zut.length,C$zus=C$zuw._context;for(C$zun=0;C$zun<C$zur;C$zun++)switch((C$zue=C$zut[C$zun]).callee){case C$zus._drawTexture:case C$zus._fillTexture:case C$zus._drawTextureWithTransform:if(!(C$zui=C$zue[0])||!C$zui.source)return!1}return!0},$Y._gid=1,$Y._pi=180/Math.PI,$Y._pi2=Math.PI/180,$Y._extReg=/\.(\w+)\??/g,$Y.parseXMLFromString=function(C$zut){if(C$zut=C$zut.replace(/>\s+</g,"><"),-1<(C$zut=(new DOMParser).parseFromString(C$zut,"text/xml")).firstChild.textContent.indexOf("This page contains the following errors"))throw new Error(C$zut.firstChild.firstChild.textContent);return C$zut},$Y}(),C$zuQ=function(){function $m(){this.useDic={},this.shapeDic={},this.shapeLineDic={},this._id=0,this._checkKey=!1,this._freeIdArray=[],C$zuw.isWebGL&&C$zuU.regCacheByFunction(C$zuZ.bind(this.startDispose,this),C$zuZ.bind(this.getCacheList,this))}C$zui($m,"laya.utils.VectorGraphManager");var C$zut=$m.prototype;return C$zut.getId=function(){return this._id++},C$zut.addShape=function(C$zut,C$zue){this.shapeDic[C$zut]=C$zue,this.useDic[C$zut]||(this.useDic[C$zut]=!0)},C$zut.addLine=function(C$zut,C$zue){this.shapeLineDic[C$zut]=C$zue,this.shapeLineDic[C$zut]||(this.shapeLineDic[C$zut]=!0)},C$zut.getShape=function(C$zut){this._checkKey&&null!=this.useDic[C$zut]&&(this.useDic[C$zut]=!0)},C$zut.deleteShape=function(C$zut){this.shapeDic[C$zut]&&(this.shapeDic[C$zut]=null,delete this.shapeDic[C$zut]),this.shapeLineDic[C$zut]&&(this.shapeLineDic[C$zut]=null,delete this.shapeLineDic[C$zut]),null!=this.useDic[C$zut]&&delete this.useDic[C$zut]},C$zut.getCacheList=function(){var C$zut,C$zue=[];for(C$zut in this.shapeDic)C$zue.push(this.shapeDic[C$zut]);for(C$zut in this.shapeLineDic)C$zue.push(this.shapeLineDic[C$zut]);return C$zue},C$zut.startDispose=function(C$zut){for(var C$zue in this.useDic)this.useDic[C$zue]=!1;this._checkKey=!0},C$zut.endDispose=function(){if(this._checkKey){for(var C$zut in this.useDic)this.useDic[C$zut]||this.deleteShape(C$zut);this._checkKey=!1}},$m.getInstance=function(){return $m.instance=$m.instance||new $m},$m.instance=null,$m}(),C$zuJ=function(){function $P(){this._obj=null,this._obj=$P.supportWeakMap?new C$zuM.window.WeakMap:{},$P.supportWeakMap||$P._maps.push(this)}C$zui($P,"laya.utils.WeakObject");var C$zut=$P.prototype;return C$zut.set=function(C$zut,C$zue){var C$zui;null!=C$zut&&($P.supportWeakMap?("string"!=typeof(C$zui=C$zut)&&"number"!=typeof C$zut||(C$zui=$P._keys[C$zut])||(C$zui=$P._keys[C$zut]={k:C$zut}),this._obj.set(C$zui,C$zue)):"string"==typeof C$zut||"number"==typeof C$zut?this._obj[C$zut]=C$zue:(C$zut.$_GID||(C$zut.$_GID=C$zuZ.getGID()),this._obj[C$zut.$_GID]=C$zue))},C$zut.get=function(C$zut){return null==C$zut?null:$P.supportWeakMap?(C$zue="string"==typeof C$zut||"number"==typeof C$zut?$P._keys[C$zut]:C$zut)?this._obj.get(C$zue):null:"string"==typeof C$zut||"number"==typeof C$zut?this._obj[C$zut]:this._obj[C$zut.$_GID];var C$zue},C$zut.del=function(C$zut){var C$zue;null!=C$zut&&($P.supportWeakMap?(C$zue="string"==typeof C$zut||"number"==typeof C$zut?$P._keys[C$zut]:C$zut)&&this._obj.delete(C$zue):"string"==typeof C$zut||"number"==typeof C$zut?delete this._obj[C$zut]:delete this._obj[this._obj.$_GID])},C$zut.has=function(C$zut){return null!=C$zut&&($P.supportWeakMap?(C$zue="string"==typeof C$zut||"number"==typeof C$zut?$P._keys[C$zut]:C$zut,this._obj.has(C$zue)):"string"==typeof C$zut||"number"==typeof C$zut?null!=this._obj[C$zut]:null!=this._obj[this._obj.$_GID]);var C$zue},$P.__init__=function(){($P.supportWeakMap=null!=C$zuM.window.WeakMap)||C$zuy.timer.loop($P.delInterval,null,$P.clearCache)},$P.clearCache=function(){for(var C$zut=0,C$zue=$P._maps.length;C$zut<C$zue;C$zut++)$P._maps[C$zut]._obj={}},$P.supportWeakMap=!1,$P.delInterval=3e5,$P._keys={},$P._maps=[],C$zua($P,["I",function(){return this.I=new $P}]),$P}(),C$zutt=function(){function $m(){this.id=NaN,this.save=[],this.toUpperCase=null,this.changed=!1,this._text=null}C$zui($m,"laya.utils.WordText");var C$zut=$m.prototype;return C$zut.setText=function(C$zut){this.changed=!0,this._text=C$zut},C$zut.toString=function(){return this._text},C$zut.charCodeAt=function(C$zut){return this._text?this._text.charCodeAt(C$zut):NaN},C$zut.charAt=function(C$zut){return this._text?this._text.charAt(C$zut):null},C$zun(0,C$zut,"length",function(){return this._text?this._text.length:0}),$m}(),C$zuet=function(){function $k(){this._bits=0,this._displayedInStage=!1,this._parent=null,this.conchModel=null,this.name="",this._destroyed=!1,$k.__super.call(this),this._childs=$k.ARRAY_EMPTY,this._$P=$k.PROP_EMPTY,this.timer=C$zuy.scaleTimer,this.conchModel=C$zuw.isConchNode?this.createConchModel():null}C$zui($k,"laya.display.Node",C$zuh);var C$zut=$k.prototype;return C$zut._setBit=function(C$zut,C$zue){1==C$zut&&this._getBit(C$zut)!=C$zue&&this._updateDisplayedInstage(),C$zue?this._bits|=C$zut:this._bits&=~C$zut},C$zut._getBit=function(C$zut){return 0!=(this._bits&C$zut)},C$zut._setUpNoticeChain=function(){this._getBit(1)&&this._setUpNoticeType(1)},C$zut._setUpNoticeType=function(C$zut){var C$zue=this;for(C$zue._setBit(C$zut,!0),C$zue=C$zue.parent;C$zue;){if(C$zue._getBit(C$zut))return;C$zue._setBit(C$zut,!0),C$zue=C$zue.parent}},C$zut.on=function(C$zut,C$zue,C$zui,C$zun){return"display"!==C$zut&&"undisplay"!==C$zut||this._getBit(1)||this._setUpNoticeType(1),this._createListener(C$zut,C$zue,C$zui,C$zun,!1)},C$zut.once=function(C$zut,C$zue,C$zui,C$zun){return"display"!==C$zut&&"undisplay"!==C$zut||this._getBit(1)||this._setUpNoticeType(1),this._createListener(C$zut,C$zue,C$zui,C$zun,!0)},C$zut.createConchModel=function(){return null},C$zut.destroy=function(C$zut){void 0===C$zut&&(C$zut=!0),this._destroyed=!0,this._parent&&this._parent.removeChild(this),this._childs&&(C$zut?this.destroyChildren():this.removeChildren()),this._childs=null,this._$P=null,this.offAll(),this.timer.clearAll(this)},C$zut.destroyChildren=function(){if(this._childs)for(var C$zut=this._childs.length-1;-1<C$zut;C$zut--)this._childs[C$zut].destroy(!0)},C$zut.addChild=function(C$zut){return!C$zut||this.destroyed||C$zut===this||(C$zut.zOrder&&this._set$P("hasZorder",!0),C$zut._parent===this?(C$zue=this.getChildIndex(C$zut))!==this._childs.length-1&&(this._childs.splice(C$zue,1),this._childs.push(C$zut),this.conchModel&&(this.conchModel.removeChild(C$zut.conchModel),this.conchModel.addChildAt(C$zut.conchModel,this._childs.length-1)),this._childChanged()):(C$zut.parent&&C$zut.parent.removeChild(C$zut),this._childs===$k.ARRAY_EMPTY&&(this._childs=[]),this._childs.push(C$zut),this.conchModel&&this.conchModel.addChildAt(C$zut.conchModel,this._childs.length-1),(C$zut.parent=this)._childChanged())),C$zut;var C$zue},C$zut.addChildren=function(C$zut){for(var C$zue=arguments,C$zui=0,C$zun=C$zue.length;C$zui<C$zun;)this.addChild(C$zue[C$zui++])},C$zut.addChildAt=function(C$zut,C$zue){if(!C$zut||this.destroyed||C$zut===this)return C$zut;var C$zui;if(C$zut.zOrder&&this._set$P("hasZorder",!0),0<=C$zue&&C$zue<=this._childs.length)return C$zut._parent===this?(C$zui=this.getChildIndex(C$zut),this._childs.splice(C$zui,1),this._childs.splice(C$zue,0,C$zut),this.conchModel&&(this.conchModel.removeChild(C$zut.conchModel),this.conchModel.addChildAt(C$zut.conchModel,C$zue)),this._childChanged()):(C$zut.parent&&C$zut.parent.removeChild(C$zut),this._childs===$k.ARRAY_EMPTY&&(this._childs=[]),this._childs.splice(C$zue,0,C$zut),this.conchModel&&this.conchModel.addChildAt(C$zut.conchModel,C$zue),C$zut.parent=this),C$zut;throw new Error("appendChildAt:The index is out of bounds")},C$zut.getChildIndex=function(C$zut){return this._childs.indexOf(C$zut)},C$zut.getChildByName=function(C$zut){var C$zue=this._childs;if(C$zue)for(var C$zui=0,C$zun=C$zue.length;C$zui<C$zun;C$zui++){var C$zur=C$zue[C$zui];if(C$zur.name===C$zut)return C$zur}return null},C$zut._get$P=function(C$zut){return this._$P[C$zut]},C$zut._set$P=function(C$zut,C$zue){return this.destroyed||(this._$P===$k.PROP_EMPTY&&(this._$P={}),this._$P[C$zut]=C$zue),C$zue},C$zut.getChildAt=function(C$zut){return this._childs[C$zut]},C$zut.setChildIndex=function(C$zut,C$zue){var C$zui=this._childs;if(C$zue<0||C$zue>=C$zui.length)throw new Error("setChildIndex:The index is out of bounds.");var C$zun=this.getChildIndex(C$zut);if(C$zun<0)throw new Error("setChildIndex:node is must child of this object.");return C$zui.splice(C$zun,1),C$zui.splice(C$zue,0,C$zut),this.conchModel&&(this.conchModel.removeChild(C$zut.conchModel),this.conchModel.addChildAt(C$zut.conchModel,C$zue)),this._childChanged(),C$zut},C$zut._childChanged=function(C$zut){},C$zut.removeChild=function(C$zut){if(!this._childs)return C$zut;C$zut=this._childs.indexOf(C$zut);return this.removeChildAt(C$zut)},C$zut.removeSelf=function(){return this._parent&&this._parent.removeChild(this),this},C$zut.removeChildByName=function(C$zut){C$zut=this.getChildByName(C$zut);return C$zut&&this.removeChild(C$zut),C$zut},C$zut.removeChildAt=function(C$zut){var C$zue=this.getChildAt(C$zut);if(C$zue){for(var C$zui=this._childs.length-1,C$zun=C$zut;C$zun<C$zui;++C$zun)this._childs[C$zun]=this._childs[C$zun+1];this._childs.length=C$zui,this.conchModel&&this.conchModel.removeChild(C$zue.conchModel),C$zue.parent=null}return C$zue},C$zut.removeChildren=function(C$zut,C$zue){if(void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=2147483647),this._childs&&0<this._childs.length){var C$zui=this._childs;var C$zun;0===C$zut&&C$zus<=C$zue?(C$zun=C$zui,this._childs=$k.ARRAY_EMPTY):C$zun=C$zui.splice(C$zut,C$zue-C$zut);for(var C$zur=0,C$zus=C$zun.length;C$zur<C$zus;C$zur++)C$zun[C$zur].parent=null,this.conchModel&&this.conchModel.removeChild(C$zun[C$zur].conchModel)}return this},C$zut.replaceChild=function(C$zut,C$zue){var C$zui=this._childs.indexOf(C$zue);return-1<C$zui?(this._childs.splice(C$zui,1,C$zut),this.conchModel&&(this.conchModel.removeChild(C$zue.conchModel),this.conchModel.addChildAt(C$zut.conchModel,C$zui)),C$zue.parent=null,C$zut.parent=this,C$zut):null},C$zut._updateDisplayedInstage=function(){var C$zut;var C$zue=C$zuy.stage;for((C$zut=this)._displayedInStage=!1;C$zut;){if(C$zut._getBit(1)){this._displayedInStage=C$zut._displayedInStage;break}if(C$zut==C$zue||C$zut._displayedInStage){this._displayedInStage=!0;break}C$zut=C$zut.parent}},C$zut._setDisplay=function(C$zut){this._displayedInStage!==C$zut&&((this._displayedInStage=C$zut)?this.event("display"):this.event("undisplay"))},C$zut._displayChild=function(C$zut,C$zue){var C$zui=C$zut._childs;if(C$zui)for(var C$zun=0;C$zun<C$zui.length;C$zun++){var C$zur=C$zui[C$zun];C$zur&&C$zur._getBit(1)&&(0<C$zur._childs.length?this._displayChild(C$zur,C$zue):C$zur._setDisplay(C$zue))}C$zut._setDisplay(C$zue)},C$zut.contains=function(C$zut){if(C$zut===this)return!0;for(;C$zut;){if(C$zut.parent===this)return!0;C$zut=C$zut.parent}return!1},C$zut.timerLoop=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this.timer.loop(C$zut,C$zue,C$zui,C$zun,C$zur=void 0===C$zur?!0:C$zur,C$zus=void 0===C$zus?!1:C$zus)},C$zut.timerOnce=function(C$zut,C$zue,C$zui,C$zun,C$zur){this.timer._create(!1,!1,C$zut,C$zue,C$zui,C$zun,C$zur=void 0===C$zur?!0:C$zur)},C$zut.frameLoop=function(C$zut,C$zue,C$zui,C$zun,C$zur){this.timer._create(!0,!0,C$zut,C$zue,C$zui,C$zun,C$zur=void 0===C$zur?!0:C$zur)},C$zut.frameOnce=function(C$zut,C$zue,C$zui,C$zun,C$zur){this.timer._create(!0,!1,C$zut,C$zue,C$zui,C$zun,C$zur=void 0===C$zur?!0:C$zur)},C$zut.clearTimer=function(C$zut,C$zue){this.timer.clear(C$zut,C$zue)},C$zun(0,C$zut,"numChildren",function(){return this._childs.length}),C$zun(0,C$zut,"destroyed",function(){return this._destroyed}),C$zun(0,C$zut,"parent",function(){return this._parent},function(C$zut){this._parent!==C$zut&&(C$zut?(this._parent=C$zut,this.event("added"),this._getBit(1)&&(this._setUpNoticeChain(),C$zut.displayedInStage&&this._displayChild(this,!0)),C$zut._childChanged(this)):(this.event("removed"),this._parent._childChanged(),this._getBit(1)&&this._displayChild(this,!1),this._parent=C$zut))}),C$zun(0,C$zut,"displayedInStage",function(){return this._getBit(1)||this._setUpNoticeType(1),this._displayedInStage}),$k.ARRAY_EMPTY=[],$k.PROP_EMPTY={},$k.NOTICE_DISPLAY=1,$k.MOUSEENABLE=2,$k}(),C$zuit=(C$zui($R,"laya.display.css.CSSStyle",C$zue=C$zul),(C$zut=$R.prototype).destroy=function(){this._ower=null,this._font=null,this._rect=null},C$zut.inherit=function(C$zut){this._font=C$zut._font,this._spacing=C$zut._spacing===$R._SPACING?$R._SPACING:C$zut._spacing.slice(),this.lineHeight=C$zut.lineHeight},C$zut._widthAuto=function(){return 0!=(262144&this._type)},C$zut.widthed=function(C$zut){return 0!=(8&this._type)},C$zut._calculation=function(C$zut,C$zue){if(C$zue.indexOf("%")<0)return!1;var C$zun=this._ower,C$zur=C$zun.parent,C$zus=this._rect;function $k(C$zut,C$zue,C$zui){return C$zut*C$zui[0]+C$zue*C$zui[1]+C$zui[2]}function $h(C$zut){var C$zue=C$zur.width,C$zui=C$zun.width;C$zus.width&&(C$zun.width=$k(C$zue,C$zui,C$zus.width)),C$zus.height&&(C$zun.height=$k(C$zue,C$zui,C$zus.height)),C$zus.left&&(C$zun.x=$k(C$zue,C$zui,C$zus.left)),C$zus.top&&(C$zun.y=$k(C$zue,C$zui,C$zus.top))}null===C$zus&&(C$zur._getCSSStyle()._type|=524288,C$zur.on("resize",this,$h),this._rect=C$zus={input:{}});var C$zui=C$zue.split(" ");return C$zui[0]=parseFloat(C$zui[0])/100,1==C$zui.length?C$zui[1]=C$zui[2]=0:(C$zui[1]=parseFloat(C$zui[1])/100,C$zui[2]=parseFloat(C$zui[2])),C$zus[C$zut]=C$zui,C$zus.input[C$zut]=C$zue,$h(),!0},C$zut.heighted=function(C$zut){return 0!=(8192&this._type)},C$zut.size=function(C$zut,C$zue){var C$zui=this._ower,C$zun=!1;-1!==C$zut&&C$zut!=this._ower.width&&(this._type|=8,this._ower.width=C$zut,C$zun=!0),-1!==C$zue&&C$zue!=this._ower.height&&(this._type|=8192,this._ower.height=C$zue,C$zun=!0),C$zun&&(C$zui._layoutLater(),524288&this._type&&C$zui.event("resize",this))},C$zut._getAlign=function(){return this._aligns[0]},C$zut._getValign=function(){return this._aligns[1]},C$zut._getCssFloat=function(){return 0!=(32768&this._type)?32768:0},C$zut._createFont=function(){return 4096&this._type?this._font:(this._type|=4096,this._font=new C$zuu(this._font))},C$zut.render=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut.width,C$zus=C$zut.height;C$zui-=C$zut.pivotX,C$zun-=C$zut.pivotY,this._bgground&&null!=this._bgground.color&&C$zue.ctx.fillRect(C$zui,C$zun,C$zur,C$zus,this._bgground.color),this._border&&this._border.color&&C$zue.drawRect(C$zui,C$zun,C$zur,C$zus,this._border.color.strColor,this._border.size)},C$zut.getCSSStyle=function(){return this},C$zut.cssText=function(C$zut){this.attrs($R.parseOneCSS(C$zut,";"))},C$zut.attrs=function(C$zut){if(C$zut)for(var C$zue=0,C$zui=C$zut.length;C$zue<C$zui;C$zue++){var C$zun=C$zut[C$zue];this[C$zun[0]]=C$zun[1]}},C$zut.setTransform=function(C$zut){"none"===C$zut?this._tf=C$zul._TF_EMPTY:this.attrs($R.parseOneCSS(C$zut,","))},C$zut.translate=function(C$zut,C$zue){this._tf===C$zul._TF_EMPTY&&(this._tf=new C$zuc),this._tf.translateX=C$zut,this._tf.translateY=C$zue},C$zut.scale=function(C$zut,C$zue){this._tf===C$zul._TF_EMPTY&&(this._tf=new C$zuc),this._tf.scaleX=C$zut,this._tf.scaleY=C$zue},C$zut._enableLayout=function(){return 0==(2&this._type)&&0==(4&this._type)},C$zun(0,C$zut,"block",C$zue.prototype._$get_block,function(C$zut){C$zut?this._type|=1:this._type&=-2}),C$zun(0,C$zut,"valign",function(){return $R._valigndef[this._aligns[1]]},function(C$zut){this._aligns===$R._ALIGNS&&(this._aligns=[0,0,0]),this._aligns[1]=$R._valigndef[C$zut]}),C$zun(0,C$zut,"height",null,function(C$zut){if(this._type|=8192,"string"==typeof C$zut){if(this._calculation("height",C$zut))return;C$zut=parseInt(C$zut)}this.size(-1,C$zut)}),C$zun(0,C$zut,"width",null,function(C$zut){if(this._type|=8,"string"==typeof C$zut){var C$zue=C$zut.indexOf("auto");if(0<=C$zue&&(this._type|=262144,C$zut=C$zut.substr(0,C$zue)),this._calculation("width",C$zut))return;C$zut=parseInt(C$zut)}this.size(C$zut,-1)}),C$zun(0,C$zut,"fontWeight",function(){return this._font.weight},function(C$zut){this._createFont().weight=C$zut}),C$zun(0,C$zut,"left",null,function(C$zut){var C$zue=this._ower;if("string"==typeof C$zut){if("center"===C$zut?C$zut="50% -50% 0":"right"===C$zut&&(C$zut="100% -100% 0"),this._calculation("left",C$zut))return;C$zut=parseInt(C$zut)}C$zue.x=C$zut}),C$zun(0,C$zut,"_translate",null,function(C$zut){this.translate(C$zut[0],C$zut[1])}),C$zun(0,C$zut,"absolute",function(){return 0!=(4&this._type)}),C$zun(0,C$zut,"top",null,function(C$zut){var C$zue=this._ower;if("string"==typeof C$zut){if("middle"===C$zut?C$zut="50% -50% 0":"bottom"===C$zut&&(C$zut="100% -100% 0"),this._calculation("top",C$zut))return;C$zut=parseInt(C$zut)}C$zue.y=C$zut}),C$zun(0,C$zut,"align",function(){return $R._aligndef[this._aligns[0]]},function(C$zut){this._aligns===$R._ALIGNS&&(this._aligns=[0,0,0]),this._aligns[0]=$R._aligndef[C$zut]}),C$zun(0,C$zut,"bold",function(){return this._font.bold},function(C$zut){this._createFont().bold=C$zut}),C$zun(0,C$zut,"padding",function(){return this._padding},function(C$zut){this._padding=C$zut}),C$zun(0,C$zut,"leading",function(){return this._spacing[1]},function(C$zut){"string"==typeof C$zut&&(C$zut=parseInt(C$zut+"")),this._spacing===$R._SPACING&&(this._spacing=[0,0]),this._spacing[1]=C$zut}),C$zun(0,C$zut,"lineElement",function(){return 0!=(65536&this._type)},function(C$zut){C$zut?this._type|=65536:this._type&=-65537}),C$zun(0,C$zut,"cssFloat",function(){return 0!=(32768&this._type)?"right":"left"},function(C$zut){this.lineElement=!1,"right"===C$zut?this._type|=32768:this._type&=-32769}),C$zun(0,C$zut,"textDecoration",function(){return this._font.decoration},function(C$zut){this._createFont().decoration=C$zut}),C$zun(0,C$zut,"whiteSpace",function(){return 131072&this._type?"nowrap":""},function(C$zut){"nowrap"===C$zut&&(this._type|=131072),"none"===C$zut&&(this._type&=-131073)}),C$zun(0,C$zut,"background",null,function(C$zut){C$zut?(this._bgground||(this._bgground={}),this._bgground.color=C$zut,this._ower.conchModel&&this._ower.conchModel.bgColor(C$zut),this._type|=16384,this._ower._renderType|=256):this._bgground=null}),C$zun(0,C$zut,"wordWrap",function(){return 0==(131072&this._type)},function(C$zut){C$zut?this._type&=-131073:this._type|=131072}),C$zun(0,C$zut,"color",function(){return this._font.color},function(C$zut){this._createFont().color=C$zut}),C$zun(0,C$zut,"password",function(){return this._font.password},function(C$zut){this._createFont().password=C$zut}),C$zun(0,C$zut,"backgroundColor",function(){return this._bgground?this._bgground.color:null},function(C$zut){"none"===C$zut?this._bgground=null:(this._bgground||(this._bgground={}),this._bgground.color=C$zut),this._ower.conchModel&&this._ower.conchModel.bgColor(C$zut),this._ower._renderType|=256}),C$zun(0,C$zut,"font",function(){return this._font.toString()},function(C$zut){this._createFont().set(C$zut)}),C$zun(0,C$zut,"weight",null,function(C$zut){this._createFont().weight=C$zut}),C$zun(0,C$zut,"letterSpacing",function(){return this._spacing[0]},function(C$zut){"string"==typeof C$zut&&(C$zut=parseInt(C$zut+"")),this._spacing===$R._SPACING&&(this._spacing=[0,0]),this._spacing[0]=C$zut}),C$zun(0,C$zut,"fontSize",function(){return this._font.size},function(C$zut){this._createFont().size=C$zut}),C$zun(0,C$zut,"italic",function(){return this._font.italic},function(C$zut){this._createFont().italic=C$zut}),C$zun(0,C$zut,"fontFamily",function(){return this._font.family},function(C$zut){this._createFont().family=C$zut}),C$zun(0,C$zut,"stroke",function(){return this._font.stroke[0]},function(C$zut){this._createFont().stroke===C$zuu._STROKE&&(this._font.stroke=[0,"#000000"]),this._font.stroke[0]=C$zut}),C$zun(0,C$zut,"strokeColor",function(){return this._font.stroke[1]},function(C$zut){this._createFont().stroke===C$zuu._STROKE&&(this._font.stroke=[0,"#000000"]),this._font.stroke[1]=C$zut}),C$zun(0,C$zut,"border",function(){return this._border?this._border.value:""},function(C$zut){if("none"!=C$zut){this._border||(this._border={});C$zut=(this._border.value=C$zut).split(" ");if(this._border.color=C$zuW.create(C$zut[C$zut.length-1]),1==C$zut.length)return this._border.size=1,void(this._border.type="solid");var C$zue=0;0<C$zut[0].indexOf("px")?(this._border.size=parseInt(C$zut[0]),C$zue++):this._border.size=1,this._border.type=C$zut[C$zue],this._ower._renderType|=256}else this._border=null}),C$zun(0,C$zut,"borderColor",function(){return this._border&&this._border.color?this._border.color.strColor:null},function(C$zut){C$zut?(this._border||(this._border={size:1,type:"solid"}),this._border.color=null==C$zut?null:C$zuW.create(C$zut),this._ower.conchModel&&this._ower.conchModel.border(this._border.color.strColor),this._ower._renderType|=256):this._border=null}),C$zun(0,C$zut,"position",function(){return 4&this._type?"absolute":""},function(C$zut){"absolute"==C$zut?this._type|=4:this._type&=-5}),C$zun(0,C$zut,"display",null,function(C$zut){switch(C$zut){case"":this._type&=-3,this.visible=!0;break;case"none":this._type|=2,this.visible=!1,this._ower._layoutLater()}}),C$zun(0,C$zut,"paddingLeft",function(){return this.padding[3]}),C$zun(0,C$zut,"paddingTop",function(){return this.padding[0]}),C$zun(0,C$zut,"_scale",null,function(C$zut){this._ower.scale(C$zut[0],C$zut[1])}),C$zun(0,C$zut,"_rotate",null,function(C$zut){this._ower.rotation=C$zut}),$R.parseOneCSS=function(C$zut,C$zuu){for(var C$zue,C$zui=[],C$zun=C$zut.split(C$zuu),C$zur=0,C$zuc=C$zun.length;C$zur<C$zuc;C$zur++){var C$zus=C$zun[C$zur],C$zua=C$zus.indexOf(":"),C$zuo=C$zus.substr(0,C$zua).replace(/^\s+|\s+$/g,"");if(0!=C$zuo.length){var C$zuh=C$zus.substr(C$zua+1).replace(/^\s+|\s+$/g,""),C$zul=[C$zuo,C$zuh];switch(C$zuo){case"italic":case"bold":C$zul[1]="true"==C$zuh;break;case"line-height":C$zul[0]="lineHeight",C$zul[1]=parseInt(C$zuh);break;case"font-size":C$zul[0]="fontSize",C$zul[1]=parseInt(C$zuh);break;case"padding":1<(C$zue=C$zuh.split(" ")).length||(C$zue[1]=C$zue[2]=C$zue[3]=C$zue[0]),C$zul[1]=[parseInt(C$zue[0]),parseInt(C$zue[1]),parseInt(C$zue[2]),parseInt(C$zue[3])];break;case"rotate":C$zul[0]="_rotate",C$zul[1]=parseFloat(C$zuh);break;case"scale":C$zue=C$zuh.split(" "),C$zul[0]="_scale",C$zul[1]=[parseFloat(C$zue[0]),parseFloat(C$zue[1])];break;case"translate":C$zue=C$zuh.split(" "),C$zul[0]="_translate",C$zul[1]=[parseInt(C$zue[0]),parseInt(C$zue[1])];break;default:(C$zul[0]=$R._CSSTOVALUE[C$zuo])||(C$zul[0]=C$zuo)}C$zui.push(C$zul)}}return C$zui},$R.parseCSS=function(C$zut,C$zue){for(var C$zui;null!=(C$zui=$R._parseCSSRegExp.exec(C$zut));)$R.styleSheets[C$zui[1]]=$R.parseOneCSS(C$zui[2],";")},$R.EMPTY=new $R(null),$R._CSSTOVALUE={"letter-spacing":"letterSpacing","line-spacing":"lineSpacing","white-space":"whiteSpace","line-height":"lineHeight","scale-x":"scaleX","scale-y":"scaleY","translate-x":"translateX","translate-y":"translateY","font-family":"fontFamily","font-weight":"fontWeight","vertical-align":"valign","text-decoration":"textDecoration","background-color":"backgroundColor","border-color":"borderColor",float:"cssFloat"},$R._parseCSSRegExp=new RegExp("([.#]\\w+)\\s*{([\\s\\S]*?)}","g"),$R._aligndef={left:0,center:1,right:2,0:"left",1:"center",2:"right"},$R._valigndef={top:0,middle:1,bottom:2,0:"top",1:"middle",2:"bottom"},$R.styleSheets={},$R.ALIGN_CENTER=1,$R.ALIGN_RIGHT=2,$R.VALIGN_MIDDLE=1,$R.VALIGN_BOTTOM=2,$R._CSS_BLOCK=1,$R._DISPLAY_NONE=2,$R._ABSOLUTE=4,$R._WIDTH_SET=8,$R._PADDING=[0,0,0,0],$R._RECT=[-1,-1,-1,-1],$R._SPACING=[0,0],$R._ALIGNS=[0,0,0],$R.ADDLAYOUTED=512,$R._NEWFONT=4096,$R._HEIGHT_SET=8192,$R._BACKGROUND_SET=16384,$R._FLOAT_RIGHT=32768,$R._LINE_ELEMENT=65536,$R._NOWARP=131072,$R._WIDTHAUTO=262144,$R._LISTERRESZIE=524288,$R),C$zunt=function(){function $k(){this.url=null,this.audio=null,this.loaded=!1,$k.__super.call(this)}C$zui($k,"laya.media.h5audio.AudioSound",C$zuh);var C$zut=$k.prototype;return C$zut.dispose=function(){var C$zut=$k._audioCache[this.url];C$zut&&(C$zut.src="",delete $k._audioCache[this.url])},C$zut.load=function(C$zut){var C$zue;var C$zui;function $P(){$q(),C$zui.loaded=!0,C$zui.event("complete")}function $L(){C$zue.load=null,$q(),C$zui.event("error")}function $q(){C$zue.removeEventListener("canplaythrough",$P),C$zue.removeEventListener("error",$L)}C$zut=C$zuB.formatURL(C$zut),(this.url=C$zut)==C$zuI._tMusic?($k._initMusicAudio(),(C$zue=$k._musicAudio).src!=C$zut&&($k._audioCache[C$zue.src]=null,C$zue=null)):C$zue=$k._audioCache[C$zut],C$zue&&2<=C$zue.readyState?this.event("complete"):(C$zue||(C$zue=C$zut==C$zuI._tMusic?($k._initMusicAudio(),$k._musicAudio):C$zuM.createElement("audio"),($k._audioCache[C$zut]=C$zue).src=C$zut),C$zue.addEventListener("canplaythrough",$P),C$zue.addEventListener("error",$L),((C$zui=this).audio=C$zue).load?C$zue.load():$L())},C$zut.play=function(C$zut,C$zue,C$zui){if(void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=0),!this.url)return null;var C$zun;if(!(C$zur=this.url==C$zuI._tMusic?$k._musicAudio:$k._audioCache[this.url]))return null;C$zun=C$zuX.getItem("audio:"+this.url),C$zuw.isConchApp?C$zun||((C$zun=C$zuM.createElement("audio")).src=this.url):this.url==C$zuI._tMusic?($k._initMusicAudio(),(C$zun=$k._musicAudio).src=this.url):C$zun=C$zun||C$zur.cloneNode(!0);var C$zur=new C$zudt(C$zun);return C$zur.url=this.url,C$zur.loops=C$zue,C$zur.startTime=C$zut,C$zur.startHandler=C$zui,C$zur.play(!1),C$zuI.addChannel(C$zur),C$zur},C$zun(0,C$zut,"duration",function(){var C$zut;return(C$zut=$k._audioCache[this.url])?C$zut.duration:0}),$k._initMusicAudio=function(){$k._musicAudio||($k._musicAudio=C$zuM.createElement("audio"),C$zuw.isConchApp||C$zuM.document.addEventListener("mousedown",$k._makeMusicOK))},$k._makeMusicOK=function(){C$zuM.document.removeEventListener("mousedown",$k._makeMusicOK),$k._musicAudio.src?$k._musicAudio.play():($k._musicAudio.src="",$k._musicAudio.load())},$k._audioCache={},$k._musicAudio=null,$k}(),C$zurt=function(){function $p(){this.url=null,this.loops=0,this.startTime=NaN,this.isStopped=!1,this.startHandler=null,this.completeHandler=null,$p.__super.call(this)}C$zui($p,"laya.media.SoundChannel",C$zuh);var C$zut=$p.prototype;return C$zut.play=function(){},C$zut.stop=function(){},C$zut.pause=function(){},C$zut.resume=function(){},C$zut.__runComplete=function(C$zut){C$zut&&C$zut.run()},C$zun(0,C$zut,"volume",function(){return 1},function(C$zut){}),C$zun(0,C$zut,"position",function(){return 0}),C$zun(0,C$zut,"duration",function(){return 0}),$p}(),C$zust=function(){function $p(){$p.__super.call(this)}C$zui($p,"laya.media.Sound",C$zuh);var C$zut=$p.prototype;return C$zut.load=function(C$zut){},C$zut.play=function(C$zut,C$zue,C$zui){return void 0===C$zut&&(C$zut=0),null},C$zut.dispose=function(){},C$zun(0,C$zut,"duration",function(){return 0}),$p}(),C$zuat=function(){function $L(){this.url=null,this.loaded=!1,this.data=null,this.audioBuffer=null,this.__toPlays=null,this._disposed=!1,$L.__super.call(this)}C$zui($L,"laya.media.webaudio.WebAudioSound",C$zuh);var C$zut=$L.prototype;return C$zut.load=function(C$zut){this.url=C$zut,this.audioBuffer=$L._dataCache[C$zut],this.audioBuffer?this._loaded(this.audioBuffer):($L.e.on("loaded:"+C$zut,this,this._loaded),$L.e.on("err:"+C$zut,this,this._err),$L.__loadingSound[C$zut]||($L.__loadingSound[C$zut]=!0,C$zuy.loader.load(C$zut,C$zug.create(this,this.onloaded),null,C$zuht.BUFFER,4,!1,null,!0)))},C$zut.onloaded=function(C$zut){C$zut||this._err(),this._disposed?this._removeLoadEvents():(this.data=C$zut,$L.buffs.push({buffer:this.data,url:this.url}),$L.decode())},C$zut._err=function(){if(this._removeLoadEvents(),$L.__loadingSound[this.url]=!1,this.event("error"),this.__toPlays){var C$zut,C$zue,C$zui,C$zun=0;for(C$zut=(C$zue=this.__toPlays).length,C$zun=0;C$zun<C$zut;C$zun++)(C$zui=C$zue[C$zun])[3]&&!C$zui[3].isStopped&&C$zui[3].event("error");this.__toPlays.length=0}},C$zut._loaded=function(C$zut){this._removeLoadEvents(),this._disposed||(this.audioBuffer=C$zut,this.loaded=!0,this.event("complete"))},C$zut._removeLoadEvents=function(){$L.e.off("loaded:"+this.url,this,this._loaded),$L.e.off("err:"+this.url,this,this._err)},C$zut.__playAfterLoaded=function(){if(this.__toPlays){var C$zut,C$zue,C$zui,C$zun=0;for(C$zut=(C$zue=this.__toPlays).length,C$zun=0;C$zun<C$zut;C$zun++)(C$zui=C$zue[C$zun])[3]&&!C$zui[3].isStopped&&this.play(C$zui[0],C$zui[1],C$zui[2],C$zui[3]);this.__toPlays.length=0}},C$zut.play=function(C$zut,C$zue,C$zui,C$zun){return void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=0),C$zun=C$zun||new C$zuft,this.audioBuffer||this.url&&(this.__toPlays||(this.__toPlays=[]),this.__toPlays.push([C$zut,C$zue,C$zui,C$zun]),this.once("complete",this,this.__playAfterLoaded),this.load(this.url)),C$zun.url=this.url,C$zun.loops=C$zue,C$zun.audioBuffer=this.audioBuffer,C$zun.startTime=C$zut,C$zun.startHandler=C$zui,C$zun.play(!1),C$zuI.addChannel(C$zun),C$zun},C$zut.dispose=function(){this._disposed=!0,delete $L._dataCache[this.url],delete $L.__loadingSound[this.url],this.audioBuffer=null,this.data=null,this.__toPlays=[]},C$zun(0,C$zut,"duration",function(){return this.audioBuffer?this.audioBuffer.duration:0}),$L.decode=function(){if(!($L.buffs.length<=0||$L.isDecoding))if($L.isDecoding=!0,($L.tInfo=$L.buffs.shift())&&$L.tInfo.buffer&&$L.tInfo.buffer.byteLength)try{$L.ctx.decodeAudioData($L.tInfo.buffer,$L._done,$L._fail)}catch(C$zut){console.error("decodeAudioData error  byteLength:"+$L.tInfo.buffer.byteLength+"  url:"+$L.tInfo.url)}else $L._fail()},$L._done=function(C$zut){$L.e.event("loaded:"+$L.tInfo.url,C$zut),$L._dataCache[$L.tInfo.url]=C$zut,$L.isDecoding=!1,$L.decode()},$L._fail=function(){$L.e.event("err:"+$L.tInfo.url,null),$L.isDecoding=!1,$L.decode()},$L._playEmptySound=function(){if(null!=$L.ctx){if($L._emptySource&&($L._emptySource.stop(),$L._emptySource.disconnect(0),!C$zuft._tryCleanFailed))try{$L._emptySource.buffer=null}catch(C$zut){C$zuft._tryCleanFailed=!0}var C$zut=$L.ctx.createBufferSource();C$zut.buffer=$L._miniBuffer,C$zut.connect($L.ctx.destination),C$zut.start(0,0,0),$L._emptySource=C$zut}},$L._unlock=function(){$L._unlocked||($L._playEmptySound(),"running"==$L.ctx.state?(C$zuM.document.removeEventListener("mousedown",$L._unlock,!0),C$zuM.document.removeEventListener("touchend",$L._unlock,!0),C$zuM.document.removeEventListener("touchstart",$L._unlock,!0),$L._unlocked=!0):"suspended"==$L.ctx.state&&C$zuI._recoverWebAudio())},$L.initWebAudio=function(){"running"!=$L.ctx.state&&($L._unlock(),C$zuM.document.addEventListener("mousedown",$L._unlock,!0),C$zuM.document.addEventListener("touchend",$L._unlock,!0),C$zuM.document.addEventListener("touchstart",$L._unlock,!0))},$L._emptySource=null,$L._dataCache={},$L.buffs=[],$L.isDecoding=!1,$L._unlocked=!1,$L.tInfo=null,$L.__loadingSound={},C$zua($L,["window",function(){return this.window=C$zuM.window},"webAudioEnabled",function(){return this.webAudioEnabled=$L.window.AudioContext||$L.window.webkitAudioContext||$L.window.mozAudioContext},"ctx",function(){return this.ctx=$L.webAudioEnabled?new($L.window.AudioContext||$L.window.webkitAudioContext||$L.window.mozAudioContext):void 0},"_miniBuffer",function(){return this._miniBuffer=$L.ctx.createBuffer(1,1,22050)},"e",function(){return this.e=new C$zuh}]),$L}(),C$zuot=function(){function $p(){this._responseType=null,this._data=null,$p.__super.call(this),this._http=new C$zuM.window.XMLHttpRequest}C$zui($p,"laya.net.HttpRequest",C$zuh);var C$zut=$p.prototype;return C$zut.send=function(C$zut,C$zue,C$zui,C$zun,C$zur){void 0===C$zui&&(C$zui="get"),this._responseType=C$zun=void 0===C$zun?"text":C$zun,this._data=null;var C$zus=this,C$zua=this._http;if(C$zua.open(C$zui,C$zut,!0),C$zur)for(var C$zuo=0;C$zuo<C$zur.length;C$zuo++)C$zua.setRequestHeader(C$zur[C$zuo++],C$zur[C$zuo]);else C$zuw.isConchApp||(C$zue&&"string"!=typeof C$zue?C$zua.setRequestHeader("Content-Type","application/json"):C$zua.setRequestHeader("Content-Type","application/x-www-form-urlencoded"));C$zua.responseType="arraybuffer"!==C$zun?"text":"arraybuffer",C$zua.onerror=function(C$zut){C$zus._onError(C$zut)},C$zua.onabort=function(C$zut){C$zus._onAbort(C$zut)},C$zua.onprogress=function(C$zut){C$zus._onProgress(C$zut)},C$zua.onload=function(C$zut){C$zus._onLoad(C$zut)},C$zua.send(C$zue)},C$zut._onProgress=function(C$zut){C$zut&&C$zut.lengthComputable&&this.event("progress",C$zut.loaded/C$zut.total)},C$zut._onAbort=function(C$zut){this.error("Request was aborted by user")},C$zut._onError=function(C$zut){this.error("Request failed Status:"+this._http.status+" text:"+this._http.statusText)},C$zut._onLoad=function(C$zut){var C$zue=this._http,C$zui=void 0!==C$zue.status?C$zue.status:200;200===C$zui||204===C$zui||0===C$zui?this.complete():this.error("["+C$zue.status+"]"+C$zue.statusText+":"+C$zue.responseURL)},C$zut.error=function(C$zut){this.clear(),this.event("error",C$zut)},C$zut.complete=function(){this.clear();var C$zue=!0;try{"json"===this._responseType?this._data=JSON.parse(this._http.responseText):"xml"===this._responseType?this._data=C$zuZ.parseXMLFromString(this._http.responseText):this._data=this._http.response||this._http.responseText}catch(C$zut){C$zue=!1,this.error(C$zut.message)}C$zue&&this.event("complete",this._data instanceof Array?[this._data]:this._data)},C$zut.clear=function(){var C$zut=this._http;C$zut.onerror=C$zut.onabort=C$zut.onprogress=C$zut.onload=null},C$zun(0,C$zut,"url",function(){return this._http.responseURL}),C$zun(0,C$zut,"http",function(){return this._http}),C$zun(0,C$zut,"data",function(){return this._data}),$p}(),C$zuht=(C$zui($T,"laya.net.Loader",C$zuh),(C$zue=$T.prototype).load=function(C$zut,C$zue,C$zui,C$zun,C$zur){return C$zut&&""!=C$zut||console.error("Loader \u52a0\u8f7d\u7684url\u4e0d\u5408\u6cd5 "+C$zut),void 0===C$zui&&(C$zui=!0),void 0===C$zur&&(C$zur=!1),0===(this._url=C$zut).indexOf("data:image")?this._type=C$zue="image":this._type=C$zue=C$zue||this.getTypeFromUrl(C$zut),this._cache=C$zui,this._data=null,!C$zur&&$T.loadedMap[C$zut]?(this._data=$T.loadedMap[C$zut],this.event("progress",1),void this.event("complete",this._data)):(C$zun&&$T.setGroup(C$zut,C$zun),null!=$T.parserMap[C$zue]?(this._customParse=!0,void($T.parserMap[C$zue]instanceof laya.utils.Handler?$T.parserMap[C$zue].runWith(this):$T.parserMap[C$zue].call(null,this))):"image"===C$zue||"htmlimage"===C$zue||"nativeimage"===C$zue?this._loadImage(C$zut):"ttf"===C$zue?this._loadTTF(C$zut):void($T.preLoadedMap[C$zut]?this.onLoaded($T.preLoadedMap[C$zut]):C$zus.resMgrLoad(C$zut,this._onLoadedCallback,0<=this.priority?this.priority:2,this.realTime)))},C$zue.getTypeFromUrl=function(C$zut){var C$zue=C$zuZ.getFileExtension(C$zut);return C$zue?$T.typeMap[C$zue]:(console.warn("Not recognize the resources suffix",C$zut),"text")},C$zue._loadTTF=function(C$zut){C$zut=C$zuB.formatURL(C$zut);var C$zue=new C$zuL;C$zue.complete=C$zug.create(this,this.onLoaded),C$zue.load(C$zut)},C$zue._loadImage=function(C$zut){C$zus.imgMgrLoad(C$zut,this._onImageCallback,0<=this.priority?this.priority:2,this.realTime)},C$zue._loadImageComplete=function(C$zut,C$zue,C$zui){var C$zun;null!=C$zui?C$zui instanceof ArrayBuffer?(C$zun=new DataView(C$zui),C$zun=new laya.webgl.resource.WebGLImage(new Uint8Array(C$zui,8),C$zut,0,!1,C$zun.getUint32(0),C$zun.getUint32(4)),this.onLoaded(C$zun)):C$zui instanceof C$zuct?($T.imgMgrSet[C$zut]=C$zue,C$zus.imgMgrLock(C$zut,$T.imgMgrSet[C$zut]),this._url=C$zut,this.complete(C$zui)):(C$zue=-1!=C$zut.indexOf(".png",C$zut.length-4)?6408:6407,C$zun=new laya.webgl.resource.WebGLImage(C$zui,C$zut,C$zue,!1,C$zui.width,C$zui.height),this.onLoaded(C$zun)):this.event("error","Load image failed")},C$zue.imageCancel=function(C$zut,C$zue,C$zui){C$zus.imgMgrCancel&&C$zus.imgMgrCancel(C$zut,this._onImageCallback)},C$zue._loadSound=function(C$zut){var C$zue=new C$zuI._soundClass,C$zui=this;function $P(){C$zue.offAll()}C$zue.on("complete",this,function(){$P(),C$zui.onLoaded(C$zue)}),C$zue.on("error",this,function(){$P(),C$zue.dispose(),C$zui.event("error","Load sound failed")}),C$zue.load(C$zut)},C$zue.onProgress=function(C$zut){"atlas"===this._type?this.event("progress",.3*C$zut):this.event("progress",C$zut)},C$zue.onError=function(C$zut){this.event("error",C$zut)},C$zue._loadedComplete=function(C$zut,C$zue,C$zui){if(null!=C$zui)switch(this._type){case"atlas":case"plf":case"json":var C$zun=new C$zuk(C$zui);this.onLoaded(JSON.parse(C$zun.readUTFBytes()));break;case"font":C$zun=new C$zuk(C$zui),this.onLoaded(C$zuZ.parseXMLFromString(C$zun.readUTFBytes()));break;default:this.onLoaded(C$zui)}else this.event("error",C$zut)},C$zue.onLoaded=function(C$zut){var C$zue=this._type;if("plf"==C$zue)this.parsePLFData(C$zut),this.complete(C$zut);else if("image"===C$zue){var C$zui=new C$zuct(C$zut);C$zui.url=this._url,this.complete(C$zui)}else if("sound"===C$zue||"htmlimage"===C$zue||"nativeimage"===C$zue)this.complete(C$zut);else if("atlas"===C$zue){if(!C$zut.src&&!C$zut._setContext){if(!this._data){if((this._data=C$zut).meta&&C$zut.meta.image)for(var C$zun=C$zut.meta.image.split(","),C$zui=0<=this._url.indexOf("/")?"/":"\\",C$zui=this._url.lastIndexOf(C$zui),C$zuu=0<=C$zui?this._url.substr(0,C$zui+1):"",C$zur=0,C$zuc=C$zun.length;C$zur<C$zuc;C$zur++)C$zun[C$zur]=C$zuu+C$zun[C$zur];else C$zun=[this._url.replace(".json",".png")];C$zun.reverse(),C$zut.toLoads=C$zun,C$zut.pics=[]}return this.event("progress",.3+1/C$zun.length*.6),this._loadImage(C$zun.pop())}if(!this._data.pics)throw new Error("this._data.pics == null, "+this._url);if(this._data.pics.push(C$zut),0<this._data.toLoads.length)return this.event("progress",.3+1/this._data.toLoads.length*.6),this._loadImage(this._data.toLoads.pop());var C$zu_=this._data.frames,C$zui=this._url.split("?")[0],C$zus=this._data.meta&&this._data.meta.prefix?this._data.meta.prefix:C$zui.substring(0,C$zui.lastIndexOf("."))+"/",C$zud=this._data.pics,C$zui=C$zuB.formatURL(this._url),C$zuf=$T.atlasMap[C$zui]||($T.atlasMap[C$zui]=[]);C$zuf.dir=C$zus;var C$zup;if(this._data.meta&&this._data.meta.scale&&1!=this._data.meta.scale)for(var C$zua in C$zup=parseFloat(this._data.meta.scale),C$zu_){var C$zum,C$zuo=C$zu_[C$zua],C$zug=C$zud[C$zuo.frame.idx||0],C$zuh=C$zuB.formatURL(C$zus+C$zua);C$zug.scaleRate=C$zup,C$zum=C$zuct.create(C$zug,C$zuo.frame.x,C$zuo.frame.y,C$zuo.frame.w,C$zuo.frame.h,C$zuo.spriteSourceSize.x,C$zuo.spriteSourceSize.y,C$zuo.sourceSize.w,C$zuo.sourceSize.h),$T.cacheRes(C$zuh,C$zum),$T.keepCache(this._url,C$zus+C$zua),C$zum.url=C$zuh,C$zuf.push(C$zuh)}else for(C$zua in C$zu_)C$zug=C$zud[(C$zuo=C$zu_[C$zua]).frame.idx?C$zuo.frame.idx:0],C$zuh=C$zuB.formatURL(C$zus+C$zua),$T.cacheRes(C$zuh,C$zuct.create(C$zug,C$zuo.frame.x,C$zuo.frame.y,C$zuo.frame.w,C$zuo.frame.h,C$zuo.spriteSourceSize.x,C$zuo.spriteSourceSize.y,C$zuo.sourceSize.w,C$zuo.sourceSize.h)),$T.loadedMap[C$zuh].url=C$zuh,$T.keepCache(this._url,C$zus+C$zua),C$zuf.push(C$zuh);delete this._data.pics,this.complete(this._data)}else if("font"==C$zue){if(!C$zut.src)return this._data=C$zut,this.event("progress",.5),this._loadImage(this._url.replace(".fnt",".png"));C$zui=new C$zuv;C$zui.parseFont(this._data,C$zut);var C$zul=this._url.split(".fnt")[0].split("/"),C$zul=C$zul[C$zul.length-1];C$zumt.registerBitmapFont(C$zul,C$zui),this._data=C$zui,this.complete(this._data)}else"pkm"==C$zue?(C$zul=C$zuyt.create(C$zut,this._url),(C$zui=new C$zuct(C$zul)).url=this._url,this.complete(C$zui)):this.complete(C$zut)},C$zue.parsePLFData=function(C$zut){var C$zue,C$zui,C$zun;for(C$zue in C$zut)for(C$zui in C$zue,C$zun=C$zut[C$zue])$T.preLoadedMap[C$zuB.formatURL(C$zui)]=C$zun[C$zui]},C$zue.complete=function(C$zut){this._data=C$zut,this._customParse?this.event("loaded",C$zut instanceof Array?[C$zut]:C$zut):($T._loaders.push(this),$T._isWorking||$T.checkNext())},C$zue.endLoad=function(C$zut){C$zut&&(this._data=C$zut),this._cache&&$T.cacheRes(this._url,this._data),this.event("progress",1),this.event("complete",this.data instanceof Array?[this.data]:this.data)},C$zun(0,C$zue,"url",function(){return this._url}),C$zun(0,C$zue,"data",function(){return this._data}),C$zun(0,C$zue,"cache",function(){return this._cache}),C$zun(0,C$zue,"type",function(){return this._type}),$T.checkNext=function(){$T._isWorking=!0;for(var C$zut=C$zuM.now();$T._startIndex<$T._loaders.length;)if(C$zuM.now(),$T._loaders[$T._startIndex].endLoad(),$T._startIndex++,C$zuM.now()-C$zut>$T.maxTimeOut)return console.warn("loader callback cost a long time:"+(C$zuM.now()-C$zut)+" url="+$T._loaders[$T._startIndex-1].url),void C$zuy.timer.frameOnce(1,null,$T.checkNext);$T._loaders.length=0,$T._startIndex=0,$T._isWorking=!1},$T.clearRes=function(C$zut,C$zue){if(null!=C$zut){void 0===C$zue&&(C$zue=!1),C$zut=C$zuB.formatURL(C$zut);var C$zui=$T.getAtlas(C$zut);if(C$zui){for(var C$zun=0,C$zur=C$zui.length;C$zun<C$zur;C$zun++){var C$zus=C$zui[C$zun],C$zua=$T.getRes(C$zus);delete $T.loadedMap[C$zus],$T.clearCache(C$zut.substring(C$zuB.basePath.length),C$zus.substring(C$zuB.basePath.length)),C$zua&&C$zua.destroy(C$zue)}C$zui.length=0,delete $T.atlasMap[C$zut],delete $T.loadedMap[C$zut]}else{var C$zuo=$T.loadedMap[C$zut];C$zuo&&(delete $T.loadedMap[C$zut],C$zuo instanceof laya.resource.Texture&&C$zuo.bitmap&&C$zuo.destroy(C$zue))}}},$T.clearTextureRes=function(C$zut){C$zut=C$zuB.formatURL(C$zut);var C$zue=laya.net.Loader.getAtlas(C$zut),C$zue=C$zue&&0<C$zue.length?laya.net.Loader.getRes(C$zue[0]):laya.net.Loader.getRes(C$zut);C$zue&&C$zue.bitmap&&(C$zuw.isConchApp&&!C$zuw.isConchWebGL?C$zue.bitmap.source.releaseTexture&&C$zue.bitmap.source.releaseTexture():null==C$zue.bitmap._atlaser&&C$zue.bitmap.releaseResource(!0))},$T.getRes=function(C$zut){return $T.loadedMap[C$zuB.formatURL(C$zut)]},$T.getAtlas=function(C$zut){return $T.atlasMap[C$zuB.formatURL(C$zut)]},$T.cacheRes=function(C$zut,C$zue){C$zut=C$zuB.formatURL(C$zut),null!=$T.loadedMap[C$zut]?console.warn("Resources already exist,is repeated loading:",C$zut):$T.loadedMap[C$zut]=C$zue},$T.setGroup=function(C$zut,C$zue){$T.groupMap[C$zue]||($T.groupMap[C$zue]=[]),$T.groupMap[C$zue].push(C$zut)},$T.clearResByGroup=function(C$zut){if($T.groupMap[C$zut]){var C$zue=$T.groupMap[C$zut],C$zui=0,C$zun=C$zue.length;for(C$zui=0;C$zui<C$zun;C$zui++)$T.clearRes(C$zue[C$zui]);C$zue.length=0}},$T.keepCache=function(C$zut,C$zue){var C$zui;C$zut&&C$zue&&((C$zui=$T.cacheSet[C$zue])?-1==C$zui.indexOf(C$zut)&&C$zui.push(C$zut):$T.cacheSet[C$zue]=[C$zut])},$T.clearCache=function(C$zut,C$zue){var C$zui,C$zun;C$zut&&C$zue&&(!(C$zui=$T.cacheSet[C$zue])||-1!==(C$zut=C$zui.indexOf(C$zut))&&(0==(C$zun=C$zui.length-1)?(delete $T.cacheSet[C$zue],0<$T.imgMgrSet[C$zue]?C$zus.imgMgrFree(C$zue,$T.imgMgrSet[C$zue]):$T.clearRes(C$zue,!0)):(C$zui[C$zut]=C$zui[C$zun],C$zui.length=C$zun)))},$T.saveObject=function(C$zut,C$zue,C$zui){var C$zun;C$zue&&C$zut&&((C$zun=$T.objectSet[C$zut])?(console.warn("Loader.saveObject: "+C$zut),C$zun[0]=C$zue,C$zun[1]=C$zui):$T.objectSet[C$zut]=[C$zue,C$zui,[]])},$T.findObject=function(C$zut){if(C$zut){C$zut=$T.objectSet[C$zut];if(C$zut)return C$zut[0]}return null},$T.keepObject=function(C$zut,C$zue){C$zut&&C$zue&&((C$zue=$T.objectSet[C$zue])&&-1===C$zue[2].indexOf(C$zut)&&C$zue[2].push(C$zut))},$T.clearObject=function(C$zut,C$zue){var C$zui,C$zun,C$zur;C$zut&&C$zue&&(!(C$zui=$T.objectSet[C$zue])||-1!==(C$zut=(C$zun=C$zui[2]).indexOf(C$zut))&&(0==(C$zur=C$zun.length-1)?(delete $T.objectSet[C$zue],C$zui[1]&&C$zui[1].call(null,C$zui[0])):(C$zun[C$zut]=C$zun[C$zur],C$zun.length=C$zur)))},$T.TEXT="text",$T.JSON="json",$T.XML="xml",$T.BUFFER="arraybuffer",$T.IMAGE="image",$T.SOUND="sound",$T.ATLAS="atlas",$T.FONT="font",$T.TTF="ttf",$T.PLF="plf",$T.PKM="pkm",$T.typeMap={png:"image",jpg:"image",jpeg:"image",txt:"text",json:"json",xml:"xml",als:"atlas",atlas:"atlas",mp3:"sound",ogg:"sound",wav:"sound",part:"json",fnt:"font",pkm:"pkm",ttf:"ttf",plf:"plf"},$T.parserMap={},$T.groupMap={},$T.maxTimeOut=100,$T.loadedMap={},$T.preLoadedMap={},$T.atlasMap={},$T._loaders=[],$T._isWorking=!1,$T._startIndex=0,$T.imgCache={},$T.cacheSet={},$T.objectSet={},$T.imgMgrSet={},$T),C$zult=function(){var C$zu_;function $$(){this.retryNum=0,this.retryDelay=10,this.maxLoader=8,this._loaders=[],this._loaderCount=0,this._loaderMap={},this._resInfos=[],this._infoPool=[],this._maxPriority=5,this._failRes={},$$.__super.call(this);for(var C$zut=0;C$zut<this._maxPriority;C$zut++)this._resInfos[C$zut]=[]}C$zui($$,"laya.net.LoaderManager",C$zuh);var C$zut=$$.prototype;return C$zut.create=function(C$zut,C$zui,C$zue,C$zun,C$zuu,C$zur,C$zus,C$zuc){if(null==C$zur&&(C$zur=2),null==C$zus&&(C$zus=!0),C$zut instanceof Array){var C$zua=C$zut,C$zuo=C$zua.length,C$zu_=0;var C$zud;C$zue&&(C$zud=C$zug.create(C$zue.caller,C$zue.method,C$zue.args,!1));for(var C$zuh=0;C$zuh<C$zuo;C$zuh++){var C$zul=C$zua[C$zuh];(C$zul="string"==typeof C$zul?C$zua[C$zuh]={url:C$zul}:C$zul).progress=0}for(C$zuh=0;C$zuh<C$zuo;C$zuh++){C$zul=C$zua[C$zuh];var C$zuf=C$zue?C$zug.create(null,$c,[C$zul],!1):null,C$zup=C$zue||C$zui?C$zug.create(null,$n,[C$zul]):null;this._create(C$zul.url,C$zup,C$zuf,C$zul.clas||C$zun,C$zul.params||C$zuu,null!=C$zul.priority&&0<=C$zul.priority?C$zul.priority:C$zur,C$zus,C$zul.group||C$zuc)}function $n(C$zut,C$zue){C$zu_++,C$zut.progress=1,C$zu_===C$zuo&&C$zui&&C$zui.run()}function $c(C$zut,C$zue){C$zut.progress=C$zue;for(var C$zui=0,C$zun=0;C$zun<C$zuo;C$zun++)C$zui+=C$zua[C$zun].progress;C$zud.runWith(C$zui/C$zuo)}return!0}return this._create(C$zut,C$zui,C$zue,C$zun,C$zuu,C$zur,C$zus,C$zuc)},C$zut._create=function(C$zue,C$zui,C$zut,C$zun,C$zuu,C$zur,C$zus,C$zua){C$zue&&""!=C$zue||console.error("\u52a0\u8f7d\u7684url\u4e0d\u5408\u6cd5 "+C$zue),null==C$zur&&(C$zur=2),null==C$zus&&(C$zus=!0);var C$zuc=C$zuB.formatURL(C$zue),C$zuo=this.getRes(C$zuc);if(C$zuo)!C$zuo.hasOwnProperty("loaded")||C$zuo.loaded?(C$zut&&C$zut.runWith(1),C$zui&&C$zui.run()):C$zui&&C$zuy.loader._createListener(C$zue,C$zui.caller,C$zui.method,C$zui.args,!0,!1);else{var C$zuh=C$zuZ.getFileExtension(C$zue),C$zul=$$.createMap[C$zuh];if(!C$zul)throw new Error("LoaderManager:unknown file("+C$zue+") extension with: "+C$zuh+".");C$zun=C$zun||C$zul[0];C$zul=C$zul[1];"atlas"==C$zuh?this.load(C$zue,C$zui,C$zut,C$zul,C$zur,C$zus):(C$zun===C$zuct&&(C$zul="htmlimage"),(C$zuo=C$zun?new C$zun:null).hasOwnProperty("_loaded")&&(C$zuo._loaded=!1),C$zuo._setUrl(C$zue),C$zua&&C$zuo._setGroup(C$zua),this._createLoad(C$zuo,C$zue,C$zug.create(null,function(C$zut){C$zuo&&!C$zuo.destroyed&&C$zut&&C$zuo.onAsynLoaded.call(C$zuo,C$zue,C$zut,C$zuu),C$zui&&C$zui.run(),C$zuy.loader.event(C$zue)}),C$zut,C$zul,C$zur,!1,C$zua,!0),C$zus&&this.cacheRes(C$zuc,C$zuo))}return C$zuo},C$zut.load=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){C$zut&&""!=C$zut||console.error("\u52a0\u8f7d\u7684url\u4e0d\u5408\u6cd5 "+C$zut);var C$zuh=this;if(null==C$zur&&(C$zur=2),null==C$zus&&(C$zus=!0),void 0===C$zuo&&(C$zuo=!1),C$zut instanceof Array)return this._loadAssets(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua);var C$zuu=C$zuht.getRes(C$zut);var C$zul;return null!=C$zuu?C$zuy.timer.frameOnce(1,null,function(){C$zui&&C$zui.runWith(1),C$zue&&C$zue.runWith(C$zuu),C$zuh._loaderCount||C$zuh.event("complete")}):(C$zul=$$._resMap[C$zut])?(C$zue&&C$zul._createListener("complete",C$zue.caller,C$zue.method,C$zue.args,!1,!1),C$zui&&C$zul._createListener("progress",C$zui.caller,C$zui.method,C$zui.args,!1,!1)):((C$zul=this._infoPool.length?this._infoPool.pop():new C$zu_).url=C$zut,C$zul.clas=null,C$zul.type=C$zun,C$zul.cache=C$zus,C$zul.group=C$zua,C$zul.ignoreCache=C$zuo,C$zul.priority=C$zur,C$zue&&C$zul.on("complete",C$zue.caller,C$zue.method,C$zue.args),C$zui&&C$zul.on("progress",C$zui.caller,C$zui.method,C$zui.args),$$._resMap[C$zut]=C$zul,C$zur=C$zur<this._maxPriority?0<=C$zur?C$zur:0:this._maxPriority-1,this._resInfos[C$zur].push(C$zul),this._next()),this},C$zut.cancel=function(C$zut,C$zue,C$zui){if(C$zua=$$._resMap[C$zut]){C$zue&&C$zua.off("complete",C$zue.caller,C$zue.method,!1),C$zui&&C$zua.off("progress",C$zui.caller,C$zui.method,!1);C$zue=C$zua.getListener("complete"),C$zui=C$zua.getListener("progress");if(!(C$zue&&C$zue.head||C$zui&&C$zui.head)){C$zua.loader&&((C$zue=C$zua.loader).imageCancel(C$zut),C$zue.offAll(),C$zue._data=null,C$zue._customParse=!1,C$zue._url=null,C$zue._class=null,C$zue._type=null,this._loaders.push(C$zue),this._loaderCount--,delete this._loaderMap[C$zua.url]);for(var C$zun=0;C$zun<this._maxPriority;C$zun++)for(var C$zur=this._resInfos[C$zun],C$zus=C$zur.length-1;-1<C$zus;C$zus--){var C$zua;(C$zua=C$zur[C$zus])&&C$zua.url===C$zut&&(C$zur[C$zus]=null,C$zua.destroy(),C$zua.offAll(),this._infoPool.push(C$zua))}delete $$._resMap[C$zut],this._next()}}},C$zut._createLoad=function(C$zuu,C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){var C$zuh=this;if(null==C$zur&&(C$zur=2),null==C$zus&&(C$zus=!0),void 0===C$zuo&&(C$zuo=!1),C$zut instanceof Array)return this._loadAssets(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua);var C$zuc=C$zuht.getRes(C$zut);var C$zul;return null!=C$zuc?C$zuy.timer.frameOnce(1,null,function(){C$zui&&C$zui.runWith(1),C$zue&&C$zue.runWith(C$zuc),C$zuh._loaderCount||C$zuh.event("complete")}):(C$zul=$$._resMap[C$zut])?(C$zue&&C$zul._createListener("complete",C$zue.caller,C$zue.method,C$zue.args,!1,!1),C$zui&&C$zul._createListener("progress",C$zui.caller,C$zui.method,C$zui.args,!1,!1)):((C$zul=this._infoPool.length?this._infoPool.pop():new C$zu_).url=C$zut,C$zul.clas=C$zuu,C$zul.type=C$zun,C$zul.cache=C$zus,C$zul.group=C$zua,C$zul.ignoreCache=C$zuo,C$zul.priority=C$zur,C$zue&&C$zul.on("complete",C$zue.caller,C$zue.method,C$zue.args),C$zui&&C$zul.on("progress",C$zui.caller,C$zui.method,C$zui.args),$$._resMap[C$zut]=C$zul,C$zur=C$zur<this._maxPriority?0<=C$zur?C$zur:0:this._maxPriority-1,this._resInfos[C$zur].push(C$zul),this._next()),this},C$zut._next=function(){if(!(this._loaderCount>=this.maxLoader)){for(var C$zut=0;C$zut<this._maxPriority;C$zut++)for(var C$zue=this._resInfos[C$zut];0<C$zue.length;){var C$zui=C$zue.shift();if(C$zui)return this._doLoad(C$zui)}this._loaderCount||this.event("complete")}},C$zut._doLoad=function(C$zue){var C$zui=this._loaders.length?this._loaders.pop():new C$zuht;this._loaderCount++,(this._loaderMap[C$zue.url]=C$zui).on("complete",null,$L),C$zui.on("progress",null,function(C$zut){C$zue.event("progress",C$zut)}),C$zui.on("error",null,function(C$zut){$L(null)}),C$zue.loader=C$zui;var C$zun=this;function $L(C$zut){C$zui.offAll(),C$zui._data=null,C$zui._customParse=!1,C$zui._url=null,C$zui._class=null,C$zui._type=null,C$zun._loaders.push(C$zui),C$zun._loaderCount--,delete C$zun._loaderMap[C$zue.url],C$zun._endLoad(C$zue,C$zut instanceof Array?[C$zut]:C$zut),C$zun._next()}C$zui._class=C$zue.clas,1<=C$zue.priority?(C$zui.priority=C$zue.priority,C$zui.realTime=!1):(C$zui.priority=0,C$zui.realTime=!0),C$zui.load(C$zue.url,C$zue.type,C$zue.cache,C$zue.group,C$zue.ignoreCache)},C$zut._endLoad=function(C$zut,C$zue){var C$zui=C$zut.url;if(null==C$zue){var C$zun=this._failRes[C$zui]||0;if(C$zun<this.retryNum)return console.warn("[warn]Retry to load:",C$zui),this._failRes[C$zui]=C$zun+1,void C$zuy.timer.once(this.retryDelay,this,this._addReTry,[C$zut],!1);console.warn("[error]Failed to load:",C$zui),this.event("error",C$zui)}this._failRes[C$zui]&&(this._failRes[C$zui]=0),delete $$._resMap[C$zui],C$zut.event("complete",C$zue),C$zut.destroy(),C$zut.offAll(),this._infoPool.push(C$zut)},C$zut._addReTry=function(C$zut){this._resInfos[this._maxPriority-1].push(C$zut),this._next()},C$zut.clearRes=function(C$zut,C$zue){C$zuht.clearRes(C$zut,C$zue=void 0===C$zue?!1:C$zue)},C$zut.getRes=function(C$zut){return C$zuht.getRes(C$zut)},C$zut.cacheRes=function(C$zut,C$zue){C$zuht.cacheRes(C$zut,C$zue)},C$zut.clearTextureRes=function(C$zut){C$zuht.clearTextureRes(C$zut)},C$zut.setGroup=function(C$zut,C$zue){C$zuht.setGroup(C$zut,C$zue)},C$zut.clearResByGroup=function(C$zut){C$zuht.clearResByGroup(C$zut)},C$zut.clearUnLoaded=function(){for(var C$zut=0;C$zut<this._maxPriority;C$zut++){for(var C$zue=this._resInfos[C$zut],C$zui=C$zue.length-1;-1<C$zui;C$zui--){var C$zun=C$zue[C$zui];C$zun&&(C$zun.destroy(),C$zun.offAll(),this._infoPool.push(C$zun))}C$zue.length=0}this._loaderCount=0,$$._resMap={}},C$zut.cancelLoadByUrls=function(C$zut){if(C$zut)for(var C$zue=0,C$zui=C$zut.length;C$zue<C$zui;C$zue++)this.cancelLoadByUrl(C$zut[C$zue])},C$zut.cancelLoadByUrl=function(C$zut){for(var C$zue=0;C$zue<this._maxPriority;C$zue++)for(var C$zui=this._resInfos[C$zue],C$zun=C$zui.length-1;-1<C$zun;C$zun--){var C$zur=C$zui[C$zun];C$zur&&C$zur.url===C$zut&&(C$zui[C$zun]=null,C$zur.destroy(),C$zur.offAll(),this._infoPool.push(C$zur))}$$._resMap[C$zut]&&delete $$._resMap[C$zut]},C$zut._loadAssets=function(C$zut,C$zui,C$zus,C$zuu,C$zue,C$zun,C$zuc){null==C$zue&&(C$zue=2),null==C$zun&&(C$zun=!0);for(var C$zur=C$zut.length,C$zua=0,C$zu_=0,C$zuo=[],C$zud=!0,C$zuh=0;C$zuh<C$zur;C$zuh++){var C$zul=C$zut[C$zuh];if(!C$zul)throw new Error("LoaderManager._loadAssets \u52a0\u8f7d\u5217\u8868\u9519\u8bef arr="+C$zut);(C$zul="string"==typeof C$zul?{url:C$zul,type:C$zuu,size:1,priority:C$zue}:C$zul).size||(C$zul.size=1),C$zul.progress=0,C$zu_+=C$zul.size,C$zuo.push(C$zul);var C$zuf=C$zus?C$zug.create(null,$c,[C$zul],!1):null,C$zup=C$zui||C$zus?C$zug.create(null,$n,[C$zul]):null;this.load(C$zul.url,C$zup,C$zuf,C$zul.type,null!=C$zul.priority&&0<=C$zul.priority?C$zul.priority:2,C$zun,C$zul.group||C$zuc)}function $n(C$zut,C$zue){C$zua++,C$zut.progress=1,C$zue||(C$zud=!1),C$zua===C$zur&&C$zui&&C$zui.runWith(C$zud)}function $c(C$zut,C$zue){if(null!=C$zus){C$zut.progress=C$zue;for(var C$zui=0,C$zun=0;C$zun<C$zuo.length;C$zun++){var C$zur=C$zuo[C$zun];C$zui+=C$zur.size*C$zur.progress}C$zut=C$zui/C$zu_;C$zus.runWith(C$zut)}}return this},$$.cacheRes=function(C$zut,C$zue){C$zuht.cacheRes(C$zut,C$zue)},$$._resMap={},C$zua($$,["createMap",function(){return this.createMap={atlas:[null,"atlas"]}}]),$$.__init$=function(){function $p(){this.url=null,this.type=null,this.cache=!1,this.group=null,this.ignoreCache=!1,this.clas=null,this.loader=null,this.priority=-1,$p.__super.call(this)}C$zui($p,"",C$zuh),$p.prototype.destroy=function(){this.url=null,this.type=null,this.cache=!1,this.group=null,this.ignoreCache=!1,this.clas=null,this.loader=void 0,this.priority=-1},C$zu_=$p},$$}(),C$zuut=(function(){function $L(C$zut){$L.__super.call(this),C$zut=C$zut||[.3,.59,.11,0,0,.3,.59,.11,0,0,.3,.59,.11,0,0,0,0,0,1,0],this._mat=new Float32Array(16),this._alpha=new Float32Array(4);for(var C$zue=0,C$zui=0,C$zun=0;C$zun<20;C$zun++)C$zun%5!=4?this._mat[C$zue++]=C$zut[C$zun]:this._alpha[C$zui++]=C$zut[C$zun];this._action=C$zum.createFilterAction(32),this._action.data=this}C$zui($L,"laya.filters.ColorFilter",C$zub);var C$zut=$L.prototype;C$zuy.imps(C$zut,{"laya.filters.IFilter":!0}),C$zut.callNative=function(C$zut){C$zut._$P.cf=this,C$zut.conchModel&&C$zut.conchModel.setFilterMatrix&&C$zut.conchModel.setFilterMatrix(this._mat,this._alpha)},C$zun(0,C$zut,"type",function(){return 32}),C$zun(0,C$zut,"action",function(){return this._action})}(),function(){function $P(C$zut,C$zue,C$zui){this._endian=null,this._stamp=NaN,this._socket=null,this._connected=!1,this._addInputPosition=0,this._input=null,this._output=null,this.timeout=0,this.objectEncoding=0,this.disableInput=!1,this._byteClass=null,this.protocols=[],void 0===C$zue&&(C$zue=0),$P.__super.call(this),this._byteClass=C$zui||C$zuk,this.endian="bigEndian",this.timeout=2e4,this._addInputPosition=0,C$zut&&0<C$zue&&C$zue<65535&&this.connect(C$zut,C$zue)}C$zui($P,"laya.net.Socket",C$zuh);var C$zut=$P.prototype;C$zut.connect=function(C$zut,C$zue){C$zut="https:"==C$zuM.window.location.protocol?"wss://"+C$zut+":"+C$zue:"ws://"+C$zut+":"+C$zue,this.connectByUrl(C$zut)},C$zut.connectByUrl=function(C$zut){var C$zue=this;null!=this._socket&&this.close(),this._socket&&this.cleanSocket(),this.protocols&&0!=this.protocols.length?this._socket=new C$zuM.window.WebSocket(C$zut,this.protocols):this._socket=new C$zuM.window.WebSocket(C$zut),this._socket.binaryType="arraybuffer",this._output=new this._byteClass,this._output.endian=this.endian,this._input=new this._byteClass,this._input.endian=this.endian,this._addInputPosition=0,this._socket.onopen=function(C$zut){C$zue._onOpen(C$zut)},this._socket.onmessage=function(C$zut){C$zue._onMessage(C$zut)},this._socket.onclose=function(C$zut){C$zue._onClose(C$zut)},this._socket.onerror=function(C$zut){C$zue._onError(C$zut)}},C$zut.cleanSocket=function(){try{this._socket.close()}catch(C$zut){}this._connected=!1,this._socket.onopen=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket.onerror=null,this._socket=null},C$zut.close=function(){if(null!=this._socket)try{this._socket.close()}catch(C$zut){}},C$zut._onOpen=function(C$zut){this._connected=!0,this.event("open",C$zut)},C$zut._onMessage=function(C$zut){var C$zue;C$zut&&C$zut.data&&(C$zut=C$zut.data,this.disableInput&&C$zut||(0<this._input.length&&this._input.bytesAvailable<1&&(this._input.clear(),this._addInputPosition=0),C$zue=this._input.pos,this._addInputPosition||(this._addInputPosition=0),this._input.pos=this._addInputPosition,C$zut&&("string"==typeof C$zut?this._input.writeUTFBytes(C$zut):this._input.writeArrayBuffer(C$zut),this._addInputPosition=this._input.pos,this._input.pos=C$zue)),this.event("message",C$zut))},C$zut._onClose=function(C$zut){this._connected=!1,this.event("close",C$zut)},C$zut._onError=function(C$zut){this.event("error",C$zut)},C$zut.send=function(C$zut){this._socket.send(C$zut)},C$zut.flush=function(){if(this._output&&0<this._output.length){var C$zue;try{this._socket&&this._socket.send(this._output.__getBuffer().slice(0,this._output.length))}catch(C$zut){C$zue=C$zut}this._output.endian=this.endian,this._output.clear(),C$zue&&this.event("error",C$zue)}},C$zun(0,C$zut,"input",function(){return this._input}),C$zun(0,C$zut,"output",function(){return this._output}),C$zun(0,C$zut,"connected",function(){return this._connected}),C$zun(0,C$zut,"endian",function(){return this._endian},function(C$zut){this._endian=C$zut,null!=this._input&&(this._input.endian=C$zut),null!=this._output&&(this._output.endian=C$zut)}),$P.LITTLE_ENDIAN="littleEndian",$P.BIG_ENDIAN="bigEndian"}(),function(){function $Y(){$Y.__super.call(this),this._$1__id=++$Y._uniqueIDCounter,this.__loaded=!0,this._destroyed=!1,this._referenceCount=0,($Y._idResourcesMap[this.id]=this)._released=!0,this.lock=!1,this._memorySize=0,this._lastUseFrameCount=-1,C$zuV.currentResourceManager&&C$zuV.currentResourceManager.addResource(this)}C$zui($Y,"laya.resource.Resource",C$zuh);var C$zut=$Y.prototype;return C$zuy.imps(C$zut,{"laya.resource.ICreateResource":!0,"laya.resource.IDispose":!0}),C$zut._setUrl=function(C$zut){var C$zue;this._url!==C$zut&&(this._url&&((C$zue=$Y._urlResourcesMap[this._url]).splice(C$zue.indexOf(this),1),0===C$zue.length&&delete $Y._urlResourcesMap[this._url]),C$zut&&((C$zue=$Y._urlResourcesMap[C$zut])||($Y._urlResourcesMap[C$zut]=C$zue=[]),C$zue.push(this)),this._url=C$zut)},C$zut._getGroup=function(){return this._group},C$zut._setGroup=function(C$zut){var C$zue;this._group!==C$zut&&(this._group&&((C$zue=$Y._groupResourcesMap[this._group]).splice(C$zue.indexOf(this),1),0===C$zue.length&&delete $Y._groupResourcesMap[this._group]),C$zut&&((C$zue=$Y._groupResourcesMap[C$zut])||($Y._groupResourcesMap[C$zut]=C$zue=[]),C$zue.push(this)),this._group=C$zut)},C$zut._addReference=function(){this._referenceCount++},C$zut._removeReference=function(){this._referenceCount--},C$zut._clearReference=function(){this._referenceCount=0},C$zut._endLoaded=function(){this.__loaded=!0,this.event("loaded",this)},C$zut.recreateResource=function(){this.completeCreate()},C$zut.disposeResource=function(){},C$zut.activeResource=function(C$zut){void 0===C$zut&&(C$zut=!1),this._lastUseFrameCount=C$zuK.loopCount,!this._destroyed&&this.__loaded&&(this._released||C$zut)&&this.recreateResource()},C$zut.releaseResource=function(C$zut){return!(!(C$zut=void 0===C$zut?!0:C$zut)&&this.lock||this._released&&!C$zut||(this.disposeResource(),this._released=!0,this._lastUseFrameCount=-1,this.event("released",this),0))},C$zut.onAsynLoaded=function(C$zut,C$zue,C$zui){throw new Error("Resource: must override this function!")},C$zut.destroy=function(){var C$zut;this._destroyed||(null!==this._resourceManager&&this._resourceManager.removeResource(this),this._destroyed=!0,this.lock=!1,this.releaseResource(),delete $Y._idResourcesMap[this.id],this._url&&((C$zut=$Y._urlResourcesMap[this._url])&&(C$zut.splice(C$zut.indexOf(this),1),0===C$zut.length&&delete $Y._urlResourcesMap[this.url]),C$zuht.clearRes(this._url),this.__loaded||C$zum.cancelLoadByUrl(this._url)),this._group&&((C$zut=$Y._groupResourcesMap[this._group]).splice(C$zut.indexOf(this),1),0===C$zut.length&&delete $Y._groupResourcesMap[this.url]))},C$zut.completeCreate=function(){this._released=!1,this.event("recovered",this)},C$zut.dispose=function(){this.destroy()},C$zun(0,C$zut,"memorySize",function(){return this._memorySize},function(C$zut){var C$zue=C$zut-this._memorySize;this._memorySize=C$zut,this.resourceManager&&this.resourceManager.addRecord(this.uri,this.__className,C$zue),this.resourceManager&&this.resourceManager.addSize(C$zue)}),C$zun(0,C$zut,"_loaded",null,function(C$zut){this.__loaded=C$zut}),C$zun(0,C$zut,"loaded",function(){return this.__loaded}),C$zun(0,C$zut,"id",function(){return this._$1__id}),C$zun(0,C$zut,"destroyed",function(){return this._destroyed}),C$zun(0,C$zut,"group",function(){return this._getGroup()},function(C$zut){this._setGroup(C$zut)}),C$zun(0,C$zut,"resourceManager",function(){return this._resourceManager}),C$zun(0,C$zut,"url",function(){return this._url}),C$zun(0,C$zut,"released",function(){return this._released}),C$zun(0,C$zut,"referenceCount",function(){return this._referenceCount}),$Y.getResourceByID=function(C$zut){return $Y._idResourcesMap[C$zut]},$Y.getResourceByURL=function(C$zut,C$zue){return void 0===C$zue&&(C$zue=0),null==$Y._urlResourcesMap[C$zut]?null:$Y._urlResourcesMap[C$zut][C$zue]},$Y.getResourceCountByURL=function(C$zut){return $Y._urlResourcesMap[C$zut].length},$Y.destroyUnusedResources=function(C$zut){var C$zue;if(C$zut){C$zut=$Y._groupResourcesMap[C$zut];if(C$zut)for(var C$zui=C$zut.slice(),C$zun=0,C$zur=C$zui.length;C$zun<C$zur;C$zun++)(C$zue=C$zui[C$zun]).lock||0!==C$zue._referenceCount||C$zue.destroy()}else for(var C$zus in $Y._idResourcesMap)(C$zue=$Y._idResourcesMap[C$zus]).lock||0!==C$zue._referenceCount||C$zue.destroy()},$Y._uniqueIDCounter=0,$Y._idResourcesMap={},$Y._urlResourcesMap={},$Y._groupResourcesMap={},$Y}()),C$zuct=function(){function $T(C$zut,C$zue){this.offsetX=0,this.offsetY=0,this.sourceWidth=0,this.sourceHeight=0,this._w=0,this._h=0,this._uvID=0,this._atlasID=-1,this.scaleRate=1,$T.__super.call(this),C$zut&&null!=C$zut._addReference&&C$zut._addReference(),this.setTo(C$zut,C$zue)}C$zui($T,"laya.resource.Texture",C$zuh);var C$zut=$T.prototype;return C$zut._setUrl=function(C$zut){this.url=C$zut},C$zut.setTo=function(C$zut,C$zue){var C$zui;var C$zun;C$zut instanceof C$zus.HTMLElement?(C$zui=C$zu$t.create("2D",C$zut),this.bitmap=C$zui):this.bitmap=C$zut,this.uv=C$zue||$T.DEF_UV,C$zut&&(this._w=C$zut.width,this._h=C$zut.height,this.sourceWidth=this.sourceWidth||this._w,this.sourceHeight=this.sourceHeight||this._h,this._loaded=0<this._w,(C$zun=this)._loaded?C$zum.addToAtlas&&C$zum.addToAtlas(C$zun):C$zut instanceof laya.resource.HTMLImage&&C$zut.image&&C$zut.image.addEventListener("load",function(C$zut){C$zum.addToAtlas&&C$zum.addToAtlas(C$zun)},!1))},C$zut.active=function(){this.bitmap&&this.bitmap.activeResource()},C$zut.destroy=function(C$zut){var C$zue;void 0===C$zut&&(C$zut=!1),this.alphaTexture&&(this.alphaTexture.destroy(C$zut),this.alphaTexture=null),this.bitmap&&0<this.bitmap.referenceCount&&(C$zue=this.bitmap,C$zut?(C$zuw.isConchApp&&C$zue.source&&C$zue.source.conchDestroy&&this.bitmap.source.conchDestroy(),this.bitmap=null,C$zue.dispose(),C$zue._clearReference()):(C$zue._removeReference(),0==C$zue.referenceCount&&(C$zuw.isConchApp&&C$zue.source&&C$zue.source.conchDestroy&&this.bitmap.source.conchDestroy(),this.bitmap=null,C$zue.dispose())),this.url&&this===C$zuy.loader.getRes(this.url)&&C$zuy.loader.clearRes(this.url,C$zut),this._loaded=!1)},C$zut.load=function(C$zut){var C$zue=this;this._loaded=!1,C$zut=C$zuB.customFormat(C$zut);var C$zui=this.bitmap||(this.bitmap=C$zuyt.create(C$zut));C$zui.uri=C$zut,C$zui&&C$zui._addReference();var C$zun=this;C$zui.onload=function(){C$zui.onload=null,C$zun._loaded=!0,C$zue.sourceWidth=C$zue._w=C$zui.width,C$zue.sourceHeight=C$zue._h=C$zui.height,C$zun.event("loaded",this),C$zum.addToAtlas&&C$zum.addToAtlas(C$zun)}},C$zut.addTextureToAtlas=function(C$zut){C$zum.addTextureToAtlas(this)},C$zut.getPixels=function(C$zut,C$zue,C$zui,C$zun){var C$zur;return C$zuw.isConchApp?(C$zur=this.bitmap).source&&C$zur.source.getImageData?(C$zur=C$zur.source.getImageData(C$zut,C$zue,C$zui,C$zun),C$zur=new Uint8Array(C$zur),Array.from(C$zur)):null:C$zuw.isWebGL?C$zum.getTexturePixels(this,C$zut,C$zue,C$zui,C$zun):(C$zuM.canvas.size(C$zui,C$zun),C$zuM.canvas.clear(),C$zuM.context.drawTexture(this,-C$zut,-C$zue,this.width,this.height,0,0),C$zuM.context.getImageData(0,0,C$zui,C$zun).data)},C$zut.onAsynLoaded=function(C$zut,C$zue){if(C$zue){if("function"!=typeof C$zue._addReference)throw new Error("bitmap._addReference is not a function. "+C$zue.className+" "+typeof C$zue._addReference+" "+C$zue.constructor);C$zue._addReference()}this.setTo(C$zue,this.uv),this._loaded&&this.event("loaded",this)},C$zun(0,C$zut,"source",function(){return this.bitmap?(this.bitmap.activeResource(),this.bitmap.source):null}),C$zun(0,C$zut,"loaded",function(){return this._loaded}),C$zun(0,C$zut,"released",function(){return!this.bitmap||this.bitmap.released}),C$zun(0,C$zut,"width",function(){return this._w||(this.uv&&this.uv!==$T.DEF_UV?(this.uv[2]-this.uv[0])*this.bitmap.width:this.bitmap.width)},function(C$zut){this._w=C$zut,this.sourceWidth||(this.sourceWidth=C$zut)}),C$zun(0,C$zut,"repeat",function(){return!C$zuw.isWebGL||!this.bitmap||this.bitmap.repeat},function(C$zut){C$zut&&C$zuw.isWebGL&&this.bitmap&&(this.bitmap.repeat=C$zut)&&(this.bitmap.enableMerageInAtlas=!1)}),C$zun(0,C$zut,"height",function(){return this._h||(this.uv&&this.uv!==$T.DEF_UV?(this.uv[5]-this.uv[1])*this.bitmap.height:this.bitmap.height)},function(C$zut){this._h=C$zut,this.sourceHeight||(this.sourceHeight=C$zut)}),C$zun(0,C$zut,"isLinearSampling",function(){return!C$zuw.isWebGL||9728!=this.bitmap.minFifter},function(C$zut){!C$zut&&C$zuw.isWebGL&&(C$zut||-1!=this.bitmap.minFifter||-1!=this.bitmap.magFifter||(this.bitmap.minFifter=9728,this.bitmap.magFifter=9728,this.bitmap.enableMerageInAtlas=!1))}),$T.moveUV=function(C$zut,C$zue,C$zui){for(var C$zun=0;C$zun<8;C$zun+=2)C$zui[C$zun]+=C$zut,C$zui[C$zun+1]+=C$zue;return C$zui},$T.create=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuu,C$zuc){void 0===C$zus&&(C$zus=0),void 0===C$zua&&(C$zua=0),void 0===C$zuu&&(C$zuu=0),void 0===C$zuc&&(C$zuc=0);var C$zuo=C$zut instanceof laya.resource.Texture,C$zuh=C$zuo?C$zut.uv:$T.DEF_UV,C$zuo=C$zuo?C$zut.bitmap:C$zut,C$zu_=C$zum.isAtlas(C$zuo);if(C$zu_){var C$zul=C$zuo._atlaser,C$zut=C$zut._atlasID;if(-1==C$zut)throw new Error("create texture error");C$zuo=C$zul._inAtlasTextureBitmapValue[C$zut],C$zuh=C$zul._inAtlasTextureOriUVValue[C$zut]}C$zul=new $T(C$zuo,null);C$zuo.width&&C$zue+C$zun>C$zuo.width&&(C$zun=C$zuo.width-C$zue),C$zuo.height&&C$zui+C$zur>C$zuo.height&&(C$zur=C$zuo.height-C$zui),C$zul.width=C$zun,C$zul.height=C$zur,C$zul.offsetX=C$zus,C$zul.offsetY=C$zua,C$zul.sourceWidth=C$zuu||C$zun,C$zul.sourceHeight=C$zuc||C$zur;C$zut=1/C$zuo.width,C$zus=1/C$zuo.height;var C$zua=C$zul.uv[0],C$zuu=C$zul.uv[1],C$zuc=C$zul.uv[4],C$zud=C$zul.uv[5],C$zuf=C$zuc-C$zua,C$zup=C$zud-C$zuu,C$zuh=$T.moveUV(C$zuh[0],C$zuh[1],[C$zue*=C$zut,C$zui*=C$zus,C$zue+(C$zun*=C$zut),C$zui,C$zue+C$zun,C$zui+(C$zur*=C$zus),C$zue,C$zui+C$zur]);C$zul.uv=[C$zua+C$zuh[0]*C$zuf,C$zuu+C$zuh[1]*C$zup,C$zuc-(1-C$zuh[2])*C$zuf,C$zuu+C$zuh[3]*C$zup,C$zuc-(1-C$zuh[4])*C$zuf,C$zud-(1-C$zuh[5])*C$zup,C$zua+C$zuh[6]*C$zuf,C$zud-(1-C$zuh[7])*C$zup],C$zu_&&C$zul.addTextureToAtlas();C$zut=C$zuo.scaleRate;return C$zut&&1!=C$zut?(C$zul.sourceWidth/=C$zut,C$zul.sourceHeight/=C$zut,C$zul.width/=C$zut,C$zul.height/=C$zut,C$zul.scaleRate=C$zut,C$zul.offsetX/=C$zut,C$zul.offsetY/=C$zut):C$zul.scaleRate=1,C$zul},$T.createFromTexture=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=C$zut.scaleRate;1!=C$zus&&(C$zue*=C$zus,C$zui*=C$zus,C$zun*=C$zus,C$zur*=C$zus);var C$zus=C$zuA.TEMP.setTo(C$zue-C$zut.offsetX,C$zui-C$zut.offsetY,C$zun,C$zur),C$zua=C$zus.intersection($T._rect1.setTo(0,0,C$zut.width,C$zut.height),$T._rect2);if(!C$zua)return null;var C$zuo=$T.create(C$zut,C$zua.x,C$zua.y,C$zua.width,C$zua.height,C$zua.x-C$zus.x,C$zua.y-C$zus.y,C$zun,C$zur);if(C$zuo.bitmap&&C$zuo.bitmap._removeReference)return C$zuo.bitmap._removeReference(),C$zuo;C$zuo="bitmap:"+(C$zuo.bitmap?C$zuo.bitmap.constructor?C$zuo.bitmap.constructor.name:C$zuo.bitmap.__className:"")+", url:"+C$zut.url+" | "+(C$zuo.bitmap||C$zut).url+", x="+C$zue+",y="+C$zui+",width="+C$zun+",height="+C$zur+", result="+(C$zua?C$zua.x+","+C$zua.y+","+C$zua.width+","+C$zua.height:"null")+", rect="+C$zus.x+","+C$zus.y+","+C$zus.width+","+C$zus.height;throw new Error("\u62a5\u9519\uff1abitmap._removeReference is not a function  "+C$zuo)},$T.DEF_UV=[0,0,1,0,1,1,0,1],$T.INV_UV=[0,1,1,1,1,0,0,0],$T._rect1=new C$zuA,$T._rect2=new C$zuA,$T}(),C$zut=function(){var C$zuo;function $q(){this._labelDic=null,this._tweenDic={},this._tweenDataList=[],this._endTweenDataList=null,this._currTime=0,this._lastTime=0,this._startTime=0,this._index=0,this._gidIndex=0,this._firstTweenDic={},this._startTimeSort=!1,this._endTimeSort=!1,this._loopKey=!1,this.scale=1,this._frameRate=60,this._frameIndex=0,this._total=0,$q.__super.call(this)}C$zui($q,"laya.utils.TimeLine",C$zuh);var C$zut=$q.prototype;return C$zut.to=function(C$zut,C$zue,C$zui,C$zun,C$zur){return this._create(C$zut,C$zue,C$zui,C$zun,C$zur=void 0===C$zur?0:C$zur,!0)},C$zut.from=function(C$zut,C$zue,C$zui,C$zun,C$zur){return this._create(C$zut,C$zue,C$zui,C$zun,C$zur=void 0===C$zur?0:C$zur,!1)},C$zut._create=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){var C$zua=C$zuX.getItemByClass("tweenData",C$zuo);return C$zua.isTo=C$zus,C$zua.type=0,C$zua.target=C$zut,C$zua.duration=C$zui,C$zua.data=C$zue,C$zua.startTime=this._startTime+C$zur,C$zua.endTime=C$zua.startTime+C$zua.duration,C$zua.ease=C$zun,this._startTime=Math.max(C$zua.endTime,this._startTime),this._tweenDataList.push(C$zua),this._startTimeSort=!0,this._endTimeSort=!0,this},C$zut.addLabel=function(C$zut,C$zue){var C$zui=C$zuX.getItemByClass("tweenData",C$zuo);return C$zui.type=1,C$zui.data=C$zut,C$zui.endTime=C$zui.startTime=this._startTime+C$zue,this._labelDic||(this._labelDic={}),this._labelDic[C$zut]=C$zui,this._tweenDataList.push(C$zui),this},C$zut.removeLabel=function(C$zut){var C$zue;this._labelDic&&this._labelDic[C$zut]&&(!(C$zue=this._labelDic[C$zut])||-1<(C$zue=this._tweenDataList.indexOf(C$zue))&&this._tweenDataList.splice(C$zue,1),delete this._labelDic[C$zut])},C$zut.gotoTime=function(C$zut){if(null!=this._tweenDataList&&0!=this._tweenDataList.length){var C$zue,C$zui,C$zun,C$zur;for(var C$zus in this._firstTweenDic)if(C$zui=this._firstTweenDic[C$zus])for(var C$zua in C$zui)C$zui.diyTarget.hasOwnProperty(C$zua)&&(C$zui.diyTarget[C$zua]=C$zui[C$zua]);for(C$zus in this._tweenDic)(C$zue=this._tweenDic[C$zus]).clear(),delete this._tweenDic[C$zus];this._index=0,this._gidIndex=0,this._currTime=C$zut,this._lastTime=C$zuM.now(),null==this._endTweenDataList||this._endTimeSort?(this._endTimeSort=!1,this._endTweenDataList=C$zun=this._tweenDataList.concat(),C$zun.sort(function(C$zut,C$zue){return C$zut.endTime>C$zue.endTime?1:C$zut.endTime<C$zue.endTime?-1:0})):C$zun=this._endTweenDataList;for(var C$zuo=0,C$zuh=C$zun.length;C$zuo<C$zuh;C$zuo++)if(0==(C$zur=C$zun[C$zuo]).type){if(!(C$zut>=C$zur.endTime))break;this._index=Math.max(this._index,C$zuo+1);var C$zul=C$zur.data;if(C$zur.isTo)for(var C$zuu in C$zul)C$zur.target[C$zuu]=C$zul[C$zuu]}for(C$zuo=0,C$zuh=this._tweenDataList.length;C$zuo<C$zuh;C$zuo++)0==(C$zur=this._tweenDataList[C$zuo]).type&&C$zut>=C$zur.startTime&&C$zut<C$zur.endTime&&(this._index=Math.max(this._index,C$zuo+1),this._gidIndex++,(C$zue=C$zuX.getItemByClass("tween",C$zuj))._create(C$zur.target,C$zur.data,C$zur.duration,C$zur.ease,C$zug.create(this,this._animComplete,[this._gidIndex]),0,!1,C$zur.isTo,!0,!1),C$zue.setStartTime(this._currTime-(C$zut-C$zur.startTime)),C$zue._updateEase(this._currTime),C$zue.gid=this._gidIndex,this._tweenDic[this._gidIndex]=C$zue)}},C$zut.gotoLabel=function(C$zut){null==this._labelDic||(C$zut=this._labelDic[C$zut])&&this.gotoTime(C$zut.startTime)},C$zut.pause=function(){C$zuy.timer.clear(this,this._update)},C$zut.resume=function(){this.play(this._currTime,this._loopKey)},C$zut.play=function(C$zut,C$zue){if(void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=!1),this._tweenDataList){if(this._startTimeSort){this._startTimeSort=!1,this._tweenDataList.sort(function(C$zut,C$zue){return C$zut.startTime>C$zue.startTime?1:C$zut.startTime<C$zue.startTime?-1:0});for(var C$zui=0,C$zun=this._tweenDataList.length;C$zui<C$zun;C$zui++){var C$zur=this._tweenDataList[C$zui];if(null!=C$zur&&0==C$zur.type){var C$zus=C$zur.target,C$zua=C$zus.$_GID||(C$zus.$_GID=C$zuZ.getGID()),C$zuo=null;for(var C$zuh in null==this._firstTweenDic[C$zua]?((C$zuo={}).diyTarget=C$zus,this._firstTweenDic[C$zua]=C$zuo):C$zuo=this._firstTweenDic[C$zua],C$zur.data)null==C$zuo[C$zuh]&&(C$zuo[C$zuh]=C$zus[C$zuh])}}}"string"==typeof C$zut?this.gotoLabel(C$zut):this.gotoTime(C$zut),this._loopKey=C$zue,this._lastTime=C$zuM.now(),C$zuy.timer.frameLoop(1,this,this._update)}},C$zut._update=function(){if(this._currTime>=this._startTime){if(!this._loopKey){for(var C$zut in this._tweenDic)(C$zue=this._tweenDic[C$zut]).complete();return this._complete(),void this.pause()}if(this._complete(),!this._tweenDataList)return;this.gotoTime(0)}var C$zue,C$zui=C$zuM.now(),C$zun=C$zui-this._lastTime,C$zur=this._currTime+=C$zun*this.scale;for(C$zut in this._lastTime=C$zui,this._tweenDic)(C$zue=this._tweenDic[C$zut])._updateEase(C$zur);0!=this._tweenDataList.length&&this._index<this._tweenDataList.length&&(C$zur>=(C$zun=this._tweenDataList[this._index]).startTime&&(this._index++,0==C$zun.type?(this._gidIndex++,(C$zue=C$zuX.getItemByClass("tween",C$zuj))._create(C$zun.target,C$zun.data,C$zun.duration,C$zun.ease,C$zug.create(this,this._animComplete,[this._gidIndex]),0,!1,C$zun.isTo,!0,!1),C$zue.setStartTime(C$zur),C$zue.gid=this._gidIndex,(this._tweenDic[this._gidIndex]=C$zue)._updateEase(C$zur)):this.event("label",C$zun.data)))},C$zut._animComplete=function(C$zut){this._tweenDic[C$zut]&&delete this._tweenDic[C$zut]},C$zut._complete=function(){this.event("complete")},C$zut.reset=function(){if(this._labelDic)for(var C$zut in this._labelDic)delete this._labelDic[C$zut];for(C$zut in this._tweenDic)this._tweenDic[C$zut].clear(),delete this._tweenDic[C$zut];for(C$zut in this._firstTweenDic)delete this._firstTweenDic[C$zut];if(this._endTweenDataList=null,this._tweenDataList&&this._tweenDataList.length){var C$zue,C$zui=0;for(C$zue=this._tweenDataList.length,C$zui=0;C$zui<C$zue;C$zui++)this._tweenDataList[C$zui]&&this._tweenDataList[C$zui].destroy()}this._tweenDataList.length=0,this._currTime=0,this._lastTime=0,this._startTime=0,this._index=0,this._gidIndex=0,this.scale=1,C$zuy.timer.clear(this,this._update)},C$zut.destroy=function(){this.reset(),this._labelDic=null,this._tweenDic=null,this._tweenDataList=null,this._firstTweenDic=null},C$zun(0,C$zut,"index",function(){return this._frameIndex},function(C$zut){this._frameIndex=C$zut,this.gotoTime(this._frameIndex/this._frameRate*1e3)}),C$zun(0,C$zut,"total",function(){return this._total=Math.floor(this._startTime/1e3*this._frameRate),this._total}),$q.to=function(C$zut,C$zue,C$zui,C$zun,C$zur){return void 0===C$zur&&(C$zur=0),(new $q).to(C$zut,C$zue,C$zui,C$zun,C$zur)},$q.from=function(C$zut,C$zue,C$zui,C$zun,C$zur){return void 0===C$zur&&(C$zur=0),(new $q).from(C$zut,C$zue,C$zui,C$zun,C$zur)},$q.__init$=function(){function $m(){this.type=0,this.isTo=!0,this.startTime=NaN,this.endTime=NaN,this.target=null,this.duration=NaN,this.ease=null,this.data=null}C$zui($m,""),$m.prototype.destroy=function(){this.target=null,this.ease=null,this.data=null,this.isTo=!0,this.type=0,C$zuX.recover("tweenData",this)},C$zuo=$m},$q}(),C$zu_t=function(C$zur){function $h(){this._transform=null,this._tfChanged=!1,this._x=0,this._y=0,this._width=0,this._height=0,this._repaint=1,this._mouseEnableState=0,this._zOrder=0,this._graphics=null,this._renderType=0,this._optimizeScrollRect=!1,this._texture=null,this.mouseThrough=!1,this.autoSize=!1,this.hitTestPrior=!1,this.viewport=null,$h.__super.call(this),this._style=C$zul.EMPTY}C$zui($h,"laya.display.Sprite",C$zur);var C$zut=$h.prototype;return C$zuy.imps(C$zut,{"laya.display.ILayout":!0}),C$zut.createConchModel=function(){return new ConchNode},C$zut.destroy=function(C$zut){var C$zue;void 0===C$zut&&(C$zut=!0),this._releaseMem(),this._destroyed||(this.filters=null,(C$zue=this.mask)&&(this.mask=null,C$zue.destroy(C$zut))),C$zur.prototype.destroy.call(this,C$zut),this._style&&this._style.destroy(),this._transform&&this._transform.destroy(),this._transform=null,this._style=null,this._graphics=null},C$zut.updateZOrder=function(){C$zuZ.updateOrder(this._childs)&&this.repaint()},C$zut.reCache=function(){this._$P.cacheCanvas&&(this._$P.cacheCanvas.reCache=!0),this._repaint=1},C$zut.setBounds=function(C$zut){this._set$P("uBounds",C$zut)},C$zut.getBounds=function(){return this._$P.mBounds||this._set$P("mBounds",new C$zuA),C$zuA._getWrapRec(this._boundPointsToParent(),this._$P.mBounds)},C$zut.getSelfBounds=function(){return this._$P.uBounds||(this._$P.mBounds||this._set$P("mBounds",new C$zuA),C$zuA._getWrapRec(this._getBoundPointsM(!1),this._$P.mBounds))},C$zut._boundPointsToParent=function(C$zut){void 0===C$zut&&(C$zut=!1);var C$zue=0,C$zui=0;this._style&&(C$zue=this._style._tf.translateX,C$zui=this._style._tf.translateY,C$zut=C$zut||0!==this._style._tf.rotate,this._style.scrollRect&&(C$zue+=this._style.scrollRect.x,C$zui+=this._style.scrollRect.y));var C$zun=this._getBoundPointsM(C$zut);if(!C$zun||C$zun.length<1)return C$zun;if(8!=C$zun.length&&(C$zun=C$zut?C$zuC.scanPList(C$zun):C$zuA._getWrapRec(C$zun,C$zuA.TEMP)._getBoundPoints()),!this.transform)return C$zuZ.transPointList(C$zun,this._x-C$zue,this._y-C$zui),C$zun;var C$zur=C$zuP.TEMP,C$zus=0,C$zua=C$zun.length;for(C$zus=0;C$zus<C$zua;C$zus+=2)C$zur.x=C$zun[C$zus],C$zur.y=C$zun[C$zus+1],this.toParentPoint(C$zur),C$zun[C$zus]=C$zur.x,C$zun[C$zus+1]=C$zur.y;return C$zun},C$zut.getGraphicBounds=function(C$zut){return void 0===C$zut&&(C$zut=!1),this._graphics?this._graphics.getBounds(C$zut):C$zuA.TEMP.setTo(0,0,0,0)},C$zut._getBoundPointsM=function(C$zut){if(void 0===C$zut&&(C$zut=!1),this._$P.uBounds)return this._$P.uBounds._getBoundPoints();var C$zue,C$zui;if(this._$P.temBM||this._set$P("temBM",[]),this.scrollRect)return C$zue=C$zuZ.clearArray(this._$P.temBM),(C$zui=C$zuA.TEMP).copyFrom(this.scrollRect),C$zuZ.concatArray(C$zue,C$zui._getBoundPoints()),C$zue;for(var C$zun,C$zur,C$zus,C$zua=this._graphics?this._graphics.getBoundPoints():C$zuZ.clearArray(this._$P.temBM),C$zuo=0,C$zuh=(C$zus=this._childs).length;C$zuo<C$zuh;C$zuo++)(C$zun=C$zus[C$zuo])instanceof laya.display.Sprite&&1==C$zun.visible&&(C$zur=C$zun._boundPointsToParent(C$zut))&&(C$zua=C$zua?C$zuZ.concatArray(C$zua,C$zur):C$zur);return C$zua},C$zut.getStyle=function(){return this._style===C$zul.EMPTY&&(this._style=new C$zul),this._style},C$zut.setStyle=function(C$zut){this._style=C$zut},C$zut._adjustTransform=function(){this._tfChanged=!1;var C$zut,C$zue=this._style._tf,C$zui=C$zue.scaleX,C$zun=C$zue.scaleY;var C$zur,C$zus,C$zua;return C$zue.rotate||1!==C$zui||1!==C$zun||C$zue.skewX||C$zue.skewY?((C$zut=this._transform||(this._transform=C$zuE.create())).bTransform=!0,C$zua=.0174532922222222*(C$zue.rotate-C$zue.skewX),C$zue=.0174532922222222*(C$zue.rotate+C$zue.skewY),C$zur=Math.cos(C$zue),C$zue=Math.sin(C$zue),C$zus=Math.sin(C$zua),C$zua=Math.cos(C$zua),C$zut.a=C$zui*C$zur,C$zut.b=C$zui*C$zue,C$zut.c=-C$zun*C$zus,C$zut.d=C$zun*C$zua,C$zut.tx=C$zut.ty=0):(this._transform&&this._transform.destroy(),this._transform=null,this._renderType&=-5),C$zut},C$zut.pos=function(C$zut,C$zue,C$zui){if(void 0===C$zui&&(C$zui=!1),this._x!==C$zut||this._y!==C$zue){if(this.destroyed)return this;C$zui?(this._x=C$zut,this._y=C$zue,this.conchModel&&this.conchModel.pos(this._x,this._y),(C$zui=this._parent)&&0===C$zui._repaint&&(C$zui._repaint=1,C$zui.parentRepaint()),this._$P.maskParent&&0===this._$P.maskParent._repaint&&(this._$P.maskParent._repaint=1,this._$P.maskParent.parentRepaint())):(this.x=C$zut,this.y=C$zue)}return this},C$zut.pivot=function(C$zut,C$zue){return this.pivotX=C$zut,this.pivotY=C$zue,this},C$zut.size=function(C$zut,C$zue){return this.width=C$zut,this.height=C$zue,this},C$zut.scale=function(C$zut,C$zue,C$zui){void 0===C$zui&&(C$zui=!1);var C$zun=this.getStyle(),C$zur=C$zun._tf;if(C$zur.scaleX!=C$zut||C$zur.scaleY!=C$zue){if(this.destroyed)return this;C$zui?(C$zun.setScale(C$zut,C$zue),this._tfChanged=!0,this.conchModel&&this.conchModel.scale(C$zut,C$zue),this._renderType|=4,(C$zur=this._parent)&&0===C$zur._repaint&&(C$zur._repaint=1,C$zur.parentRepaint())):(this.scaleX=C$zut,this.scaleY=C$zue)}return this},C$zut.skew=function(C$zut,C$zue){return this.skewX=C$zut,this.skewY=C$zue,this},C$zut.render=function(C$zut,C$zue,C$zui){C$zuK.spriteCount++,C$zuF.renders[this._renderType]._fun(this,C$zut,C$zue+this._x,C$zui+this._y),this._repaint=0},C$zut.drawToCanvas=function(C$zut,C$zue,C$zui,C$zun){var C$zur;return C$zuw.isConchNode?(C$zur=C$zu$t.create("2D"),new C$zuN(C$zut,C$zue,C$zur).ctx.setCanvasType(1),this.conchModel.drawToCanvas(C$zur.source,C$zui,C$zun),C$zur):C$zum.drawToCanvas(this,this._renderType,C$zut,C$zue,C$zui,C$zun)},C$zut.customRender=function(C$zut,C$zue,C$zui){this._renderType|=1024},C$zut._applyFilters=function(){var C$zut;if(!C$zuw.isWebGL&&(C$zut=this._$P.filters)&&!(C$zut.length<1))for(var C$zue=0,C$zui=C$zut.length;C$zue<C$zui;C$zue++)C$zut[C$zue].action.apply(this._$P.cacheCanvas)},C$zut._isHaveGlowFilter=function(){var C$zut,C$zue=0;if(this.filters)for(C$zue=0;C$zue<this.filters.length;C$zue++)if(8==this.filters[C$zue].type)return!0;for(C$zue=0,C$zut=this._childs.length;C$zue<C$zut;C$zue++)if(this._childs[C$zue]._isHaveGlowFilter())return!0;return!1},C$zut.localToGlobal=function(C$zut,C$zue){!0===(C$zue=void 0===C$zue?!1:C$zue)&&(C$zut=new C$zuP(C$zut.x,C$zut.y));for(var C$zui=this;C$zui&&C$zui!=C$zuy.stage;)C$zut=C$zui.toParentPoint(C$zut),C$zui=C$zui.parent;return C$zut},C$zut.globalToLocal=function(C$zut,C$zue){(C$zue=void 0===C$zue?!1:C$zue)&&(C$zut=new C$zuP(C$zut.x,C$zut.y));for(var C$zui=this,C$zun=[];C$zui&&C$zui!=C$zuy.stage;)C$zun.push(C$zui),C$zui=C$zui.parent;for(var C$zur=C$zun.length-1;0<=C$zur;)C$zut=(C$zui=C$zun[C$zur]).fromParentPoint(C$zut),C$zur--;return C$zut},C$zut.toParentPoint=function(C$zut){if(!C$zut)return C$zut;C$zut.x-=this.pivotX,C$zut.y-=this.pivotY,this.transform&&this._transform.transformPoint(C$zut),C$zut.x+=this._x,C$zut.y+=this._y;var C$zue=this._style.scrollRect;return C$zue&&(C$zut.x-=C$zue.x,C$zut.y-=C$zue.y),C$zut},C$zut.fromParentPoint=function(C$zut){if(!C$zut)return C$zut;C$zut.x-=this._x,C$zut.y-=this._y;var C$zue=this._style.scrollRect;return C$zue&&(C$zut.x+=C$zue.x,C$zut.y+=C$zue.y),this.transform&&this._transform.invertTransformPoint(C$zut),C$zut.x+=this.pivotX,C$zut.y+=this.pivotY,C$zut},C$zut.on=function(C$zut,C$zue,C$zui,C$zun){return 1!==this._mouseEnableState&&this.isMouseEvent(C$zut)?(this.mouseEnabled=!0,this._setBit(2,!0),this._parent&&this._$2__onDisplay(),this._createListener(C$zut,C$zue,C$zui,C$zun,!1)):C$zur.prototype.on.call(this,C$zut,C$zue,C$zui,C$zun)},C$zut.once=function(C$zut,C$zue,C$zui,C$zun){return 1!==this._mouseEnableState&&this.isMouseEvent(C$zut)?(this.mouseEnabled=!0,this._setBit(2,!0),this._parent&&this._$2__onDisplay(),this._createListener(C$zut,C$zue,C$zui,C$zun,!0)):C$zur.prototype.once.call(this,C$zut,C$zue,C$zui,C$zun)},C$zut._$2__onDisplay=function(){if(1!==this._mouseEnableState){var C$zut=this;for(C$zut=C$zut.parent;C$zut&&1!==C$zut._mouseEnableState&&!C$zut._getBit(2);)C$zut.mouseEnabled=!0,C$zut._setBit(2,!0),C$zut=C$zut.parent}},C$zut.loadImage=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){var C$zua=this;return void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0),void 0===C$zun&&(C$zun=0),void 0===C$zur&&(C$zur=0),this.graphics.loadImage(C$zut,C$zue,C$zui,C$zun,C$zur,function(C$zut){C$zua.destroyed||(C$zua.size(C$zue+(C$zun||C$zut.width),C$zui+(C$zur||C$zut.height)),C$zua.repaint(),C$zus&&C$zus.runWith(C$zut))}),this},C$zut.repaint=function(){this.conchModel&&this.conchModel.repaint&&this.conchModel.repaint(),0===this._repaint&&(this._repaint=1,this.parentRepaint()),this._$P&&this._$P.maskParent&&this._$P.maskParent.repaint()},C$zut._needRepaint=function(){return 0!==this._repaint&&this._$P.cacheCanvas&&this._$P.cacheCanvas.reCache},C$zut._childChanged=function(C$zut){this._childs.length?this._renderType|=2048:this._renderType&=-2049,C$zut&&this._get$P("hasZorder")&&C$zuy.timer.callLater(this,this.updateZOrder),this.repaint()},C$zut.parentRepaint=function(){var C$zut=this._parent;C$zut&&0===C$zut._repaint&&(C$zut._repaint=1,C$zut.parentRepaint())},C$zut.startDrag=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){void 0===C$zue&&(C$zue=!1),void 0===C$zui&&(C$zui=0),void 0===C$zun&&(C$zun=300),void 0===C$zus&&(C$zus=!1),void 0===C$zua&&(C$zua=.92),this._$P.dragging||this._set$P("dragging",new C$zuz),this._$P.dragging.start(this,C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua)},C$zut.stopDrag=function(){this._$P.dragging&&this._$P.dragging.stop()},C$zut._releaseMem=function(){var C$zut;this._$P&&((C$zut=this._$P.cacheCanvas)&&C$zut.ctx&&(C$zuX.recover("RenderContext",C$zut.ctx),C$zut.ctx.canvas.size(0,0),C$zut.ctx=null),(C$zut=this._$P._filterCache)&&(C$zut.destroy(),C$zut.recycle(),this._set$P("_filterCache",null)),this._$P._isHaveGlowFilter&&this._set$P("_isHaveGlowFilter",!1),this._$P._isHaveGlowFilter=null)},C$zut._setDisplay=function(C$zut){C$zut||this._releaseMem(),C$zur.prototype._setDisplay.call(this,C$zut)},C$zut.hitTestPoint=function(C$zut,C$zue){var C$zui=this.globalToLocal(C$zuP.TEMP.setTo(C$zut,C$zue));return C$zut=C$zui.x,C$zue=C$zui.y,(this._$P.hitArea||(0<this._width&&0<this._height?C$zuA.TEMP.setTo(0,0,this._width,this._height):this.getSelfBounds())).contains(C$zut,C$zue)},C$zut.getMousePoint=function(){return this.globalToLocal(C$zuP.TEMP.setTo(C$zuy.stage.mouseX,C$zuy.stage.mouseY))},C$zut._getWords=function(){return null},C$zut._addChildsToLayout=function(C$zut){var C$zue=this._getWords();if(null==C$zue&&0==this._childs.length)return!1;if(C$zue)for(var C$zui=0,C$zun=C$zue.length;C$zui<C$zun;C$zui++)C$zut.push(C$zue[C$zui]);C$zui=0;for(var C$zur=this._childs.length;C$zui<C$zur;++C$zui){var C$zus=this._childs[C$zui];C$zus._style._enableLayout()&&C$zus._addToLayout(C$zut)}return!0},C$zut._addToLayout=function(C$zut){this._style.absolute||(this._style.block?C$zut.push(this):this._addChildsToLayout(C$zut)&&(this.x=this.y=0))},C$zut._isChar=function(){return!1},C$zut._getCSSStyle=function(){return this._style.getCSSStyle()},C$zut._setAttributes=function(C$zut,C$zue){switch(C$zut){case"x":this.x=parseFloat(C$zue);break;case"y":this.y=parseFloat(C$zue);break;case"width":this.width=parseFloat(C$zue);break;case"height":this.height=parseFloat(C$zue);break;default:this[C$zut]=C$zue}},C$zut._layoutLater=function(){this.parent&&this.parent._layoutLater()},C$zun(0,C$zut,"optimizeScrollRect",function(){return this._optimizeScrollRect},function(C$zut){this._optimizeScrollRect!=C$zut&&(this._optimizeScrollRect=C$zut,this.conchModel&&this.conchModel.optimizeScrollRect(C$zut))}),C$zun(0,C$zut,"customRenderEnable",null,function(C$zut){C$zut&&(this._renderType|=1024,C$zuw.isConchNode)&&($h.CustomList.push(this),(C$zut=new C$zu$t("2d"))._setContext(new CanvasRenderingContext2D),this.customContext=new C$zuN(0,0,C$zut),C$zut.context.setCanvasType&&C$zut.context.setCanvasType(2),this.conchModel.custom(C$zut.context))}),C$zun(0,C$zut,"cacheAsBitmap",function(){return"none"!==this.cacheAs},function(C$zut){this.cacheAs=!C$zut||this._$P.hasFilter?"none":"normal"}),C$zun(0,C$zut,"cacheAs",function(){return null==this._$P.cacheCanvas?"none":this._$P.cacheCanvas.type},function(C$zut){var C$zue=this._$P.cacheCanvas;C$zut!==(C$zue?C$zue.type:"none")&&("none"!==C$zut?(this._getBit(1)||this._setUpNoticeType(1),(C$zue=C$zue||this._set$P("cacheCanvas",C$zuX.getItemByClass("cacheCanvas",Object))).type=C$zut,C$zue.reCache=!0,this._renderType|=16,"bitmap"==C$zut&&this.conchModel&&this.conchModel.cacheAs(1),this._set$P("cacheForFilters",!1)):this._$P._mask||(this._$P.hasFilter?this._set$P("cacheForFilters",!0):(C$zue&&((C$zut=C$zue)&&C$zut.ctx&&(C$zuX.recover("RenderContext",C$zut.ctx),C$zut.ctx.canvas.size(0,0),C$zut.ctx=null),C$zuX.recover("cacheCanvas",C$zue)),this._$P.cacheCanvas=null,this._renderType&=-17,this.conchModel&&this.conchModel.cacheAs(0))),this.repaint())}),C$zun(0,C$zut,"zOrder",function(){return this._zOrder},function(C$zut){this._zOrder!=C$zut&&(this._zOrder=C$zut,this.conchModel&&this.conchModel.setZOrder&&this.conchModel.setZOrder(C$zut),this._parent&&(C$zut&&this._parent._set$P("hasZorder",!0),C$zuy.timer.callLater(this._parent,this.updateZOrder)))}),C$zun(0,C$zut,"rotation",function(){return this._style._tf.rotate},function(C$zut){var C$zue=this.getStyle();C$zue._tf.rotate!==C$zut&&(C$zue.setRotate(C$zut),this._tfChanged=!0,this.conchModel&&this.conchModel.rotate(C$zut),this._renderType|=4,(C$zue=this._parent)&&0===C$zue._repaint&&(C$zue._repaint=1,C$zue.parentRepaint()))}),C$zun(0,C$zut,"width",function(){return this.autoSize?this.getSelfBounds().width:this._width},function(C$zut){this._width!==C$zut&&(this._width=C$zut,this.conchModel&&this.conchModel.size(C$zut,this._height),this.repaint())}),C$zun(0,C$zut,"x",function(){return this._x},function(C$zut){this._x!==C$zut&&(this.destroyed||(this._x=C$zut,this.conchModel&&this.conchModel.pos(C$zut,this._y),(C$zut=this._parent)&&0===C$zut._repaint&&(C$zut._repaint=1,C$zut.parentRepaint()),this._$P.maskParent&&0===this._$P.maskParent._repaint&&(this._$P.maskParent._repaint=1,this._$P.maskParent.parentRepaint())))}),C$zun(0,C$zut,"globalScaleY",function(){for(var C$zut=1,C$zue=this;C$zue&&C$zue!==C$zuy.stage;)C$zut*=C$zue.scaleY,C$zue=C$zue.parent;return C$zut}),C$zun(0,C$zut,"hitArea",function(){return this._$P.hitArea},function(C$zut){this._set$P("hitArea",C$zut)}),C$zun(0,C$zut,"staticCache",function(){return this._$P.staticCache},function(C$zut){this._set$P("staticCache",C$zut),C$zut||this.reCache()}),C$zun(0,C$zut,"texture",function(){return this._texture},function(C$zut){this._texture!=C$zut&&(this._texture=C$zut,this.graphics.cleanByTexture(C$zut,0,0))}),C$zun(0,C$zut,"y",function(){return this._y},function(C$zut){this._y!==C$zut&&(this.destroyed||(this._y=C$zut,this.conchModel&&this.conchModel.pos(this._x,C$zut),(C$zut=this._parent)&&0===C$zut._repaint&&(C$zut._repaint=1,C$zut.parentRepaint()),this._$P.maskParent&&0===this._$P.maskParent._repaint&&(this._$P.maskParent._repaint=1,this._$P.maskParent.parentRepaint())))}),C$zun(0,C$zut,"height",function(){return this.autoSize?this.getSelfBounds().height:this._height},function(C$zut){this._height!==C$zut&&(this._height=C$zut,this.conchModel&&this.conchModel.size(this._width,C$zut),this.repaint())}),C$zun(0,C$zut,"blendMode",function(){return this._style.blendMode},function(C$zut){this.getStyle().blendMode=C$zut,this.conchModel&&this.conchModel.blendMode(C$zut),C$zut&&"source-over"!=C$zut?this._renderType|=8:this._renderType&=-9,this.parentRepaint()}),C$zun(0,C$zut,"scaleX",function(){return this._style._tf.scaleX},function(C$zut){var C$zue=this.getStyle();C$zue._tf.scaleX!==C$zut&&(C$zue.setScaleX(C$zut),this._tfChanged=!0,this.conchModel&&this.conchModel.scale(C$zut,C$zue._tf.scaleY),this._renderType|=4,(C$zut=this._parent)&&0===C$zut._repaint&&(C$zut._repaint=1,C$zut.parentRepaint()))}),C$zun(0,C$zut,"scaleY",function(){return this._style._tf.scaleY},function(C$zut){var C$zue=this.getStyle();C$zue._tf.scaleY!==C$zut&&(C$zue.setScaleY(C$zut),this._tfChanged=!0,this.conchModel&&this.conchModel.scale(C$zue._tf.scaleX,C$zut),this._renderType|=4,(C$zue=this._parent)&&0===C$zue._repaint&&(C$zue._repaint=1,C$zue.parentRepaint()))}),C$zun(0,C$zut,"stage",function(){return C$zuy.stage}),C$zun(0,C$zut,"skewX",function(){return this._style._tf.skewX},function(C$zut){var C$zue=this.getStyle();C$zue._tf.skewX!==C$zut&&(C$zue.setSkewX(C$zut),this._tfChanged=!0,this.conchModel&&this.conchModel.skew(C$zut,C$zue._tf.skewY),this._renderType|=4,(C$zut=this._parent)&&0===C$zut._repaint&&(C$zut._repaint=1,C$zut.parentRepaint()))}),C$zun(0,C$zut,"scrollRect",function(){return this._style.scrollRect},function(C$zut){this.getStyle().scrollRect=C$zut,this.repaint(),C$zut?(this._renderType|=128,this.conchModel&&this.conchModel.scrollRect(C$zut.x,C$zut.y,C$zut.width,C$zut.height)):(this._renderType&=-129,this.conchModel&&($h.RUNTIMEVERION<"0.9.1"?this.conchModel.removeType(64):this.conchModel.removeType(128)))}),C$zun(0,C$zut,"skewY",function(){return this._style._tf.skewY},function(C$zut){var C$zue=this.getStyle();C$zue._tf.skewY!==C$zut&&(C$zue.setSkewY(C$zut),this._tfChanged=!0,this.conchModel&&this.conchModel.skew(C$zue._tf.skewX,C$zut),this._renderType|=4,(C$zue=this._parent)&&0===C$zue._repaint&&(C$zue._repaint=1,C$zue.parentRepaint()))}),C$zun(0,C$zut,"transform",function(){return this._tfChanged?this._adjustTransform():this._transform},function(C$zut){this._tfChanged=!1,(this._transform=C$zut)&&(this._x=C$zut.tx,this._y=C$zut.ty,C$zut.tx=C$zut.ty=0,this.conchModel&&this.conchModel.transform(C$zut.a,C$zut.b,C$zut.c,C$zut.d,this._x,this._y)),C$zut?this._renderType|=4:(this._renderType&=-5,this.conchModel&&this.conchModel.removeType(4)),this.parentRepaint()}),C$zun(0,C$zut,"pivotX",function(){return this._style._tf.translateX},function(C$zut){this.getStyle().setTranslateX(C$zut),this.conchModel&&this.conchModel.pivot(C$zut,this._style._tf.translateY),this.repaint()}),C$zun(0,C$zut,"pivotY",function(){return this._style._tf.translateY},function(C$zut){this.getStyle().setTranslateY(C$zut),this.conchModel&&this.conchModel.pivot(this._style._tf.translateX,C$zut),this.repaint()}),C$zun(0,C$zut,"alpha",function(){return this._style.alpha},function(C$zut){this._style&&this._style.alpha!==C$zut&&(C$zut=C$zut<0?0:1<C$zut?1:C$zut,this.getStyle().alpha=C$zut,this.conchModel&&this.conchModel.alpha(C$zut),1!==C$zut?this._renderType|=2:this._renderType&=-3,this.parentRepaint())}),C$zun(0,C$zut,"visible",function(){return this._style.visible},function(C$zut){this._style&&this._style.visible!==C$zut&&(this.getStyle().visible=C$zut,this.conchModel&&this.conchModel.visible(C$zut),this.parentRepaint())}),C$zun(0,C$zut,"graphics",function(){return this._graphics||(this.graphics=C$zum.createGraphics())},function(C$zut){this._graphics&&(this._graphics._sp=null),(this._graphics=C$zut)?(this._renderType&=-2,this._renderType|=512,(C$zut._sp=this).conchModel&&this.conchModel.graphics(this._graphics)):(this._renderType&=-513,this._renderType&=-2,this.conchModel&&($h.RUNTIMEVERION<"0.9.1"?this.conchModel.removeType(256):this.conchModel.removeType(512))),this.repaint()}),C$zun(0,C$zut,"filters",function(){return this._$P.filters},function(C$zut){C$zut&&0===C$zut.length&&(C$zut=null),this._$P.filters!=C$zut&&(this._set$P("filters",C$zut?C$zut.slice():null),C$zuw.isConchApp&&(this.conchModel&&($h.RUNTIMEVERION<"0.9.1"?this.conchModel.removeType(16):this.conchModel.removeType(32)),this._$P.filters&&1==this._$P.filters.length&&this._$P.filters[0].callNative(this)),C$zuw.isWebGL&&(C$zut&&C$zut.length?this._renderType|=32:this._renderType&=-33),C$zut&&0<C$zut.length?(this._getBit(1)||this._setUpNoticeType(1),C$zuw.isWebGL&&1==C$zut.length&&C$zut[0]instanceof laya.filters.ColorFilter||("bitmap"!=this.cacheAs&&(C$zuw.isConchNode||(this.cacheAs="bitmap"),this._set$P("cacheForFilters",!0)),this._set$P("hasFilter",!0))):(this._set$P("hasFilter",!1),this._$P.cacheForFilters&&"bitmap"==this.cacheAs&&(this.cacheAs="none")),this.repaint())}),C$zun(0,C$zut,"parent",C$zur.prototype._$get_parent,function(C$zut){C$zuy.superSet(C$zuet,this,"parent",C$zut),C$zut&&this._getBit(2)&&this._$2__onDisplay()}),C$zun(0,C$zut,"mask",function(){return this._$P._mask},function(C$zut){C$zut&&this.mask&&this.mask._$P.maskParent||(C$zut?(this.cacheAs="bitmap",this._set$P("_mask",C$zut),C$zut._set$P("maskParent",this)):(this.mask&&this.mask._set$P("maskParent",null),this._set$P("_mask",C$zut),this.cacheAs="none"),this.conchModel&&this.conchModel.mask(C$zut?C$zut.conchModel:null),this._renderType|=64,this.parentRepaint())}),C$zun(0,C$zut,"mouseEnabled",function(){return 1<this._mouseEnableState},function(C$zut){this._mouseEnableState=C$zut?2:1}),C$zun(0,C$zut,"globalScaleX",function(){for(var C$zut=1,C$zue=this;C$zue&&C$zue!==C$zuy.stage;)C$zut*=C$zue.scaleX,C$zue=C$zue.parent;return C$zut}),C$zun(0,C$zut,"mouseX",function(){return this.getMousePoint().x}),C$zun(0,C$zut,"mouseY",function(){return this.getMousePoint().y}),$h.fromImage=function(C$zut){return(new $h).loadImage(C$zut)},$h._cachePool=[],$h.CustomList=[],C$zua($h,["RUNTIMEVERION",function(){return this.RUNTIMEVERION=C$zus.conch?conchConfig.getRuntimeVersion().substr(conchConfig.getRuntimeVersion().lastIndexOf("-")+1):""}]),$h}(C$zuet),C$zudt=function(){function $p(C$zut){this._audio=null,this._onEnd=null,this._resumePlay=null,$p.__super.call(this),this._onEnd=C$zuZ.bind(this.__onEnd,this),this._resumePlay=C$zuZ.bind(this.__resumePlay,this),C$zut.addEventListener("ended",this._onEnd),this._audio=C$zut}C$zui($p,"laya.media.h5audio.AudioSoundChannel",C$zurt);var C$zut=$p.prototype;return C$zut.__onEnd=function(){if(1==this.loops)return this.completeHandler&&(C$zuy.timer.once(10,this,this.__runComplete,[this.completeHandler],!1),this.completeHandler=null),this.stop(),void this.event("complete");0<this.loops&&this.loops--,this.startTime=0,this.play(!0)},C$zut.__resumePlay=function(){this._audio&&this._audio.removeEventListener("canplay",this._resumePlay);try{this._audio.currentTime=this.startTime,C$zuM.container.appendChild(this._audio),this._audio.play()}catch(C$zut){this.event("error")}},C$zut.play=function(C$zut){this.isStopped=!1;try{this._audio.playbackRate=C$zuI.playbackRate,this._audio.currentTime=this.startTime}catch(C$zut){return void this._audio.addEventListener("canplay",this._resumePlay)}C$zuI.addChannel(this),C$zuM.container.appendChild(this._audio),!C$zut&&this.startHandler&&this.startHandler.runWith(this),"play"in this._audio&&this._audio.play()},C$zut.stop=function(){this.isStopped=!0,C$zuI.removeChannel(this),this.startHandler=null,this.completeHandler=null,this._audio&&("pause"in this._audio&&C$zuw.isConchApp&&this._audio.stop(),this._audio.pause(),this._audio.removeEventListener("ended",this._onEnd),this._audio.removeEventListener("canplay",this._resumePlay),C$zuM.onIE||this._audio!=C$zunt._musicAudio&&C$zuX.recover("audio:"+this.url,this._audio),C$zuM.removeElement(this._audio),this._audio=null)},C$zut.pause=function(){this.isStopped=!0,C$zuI.removeChannel(this),"pause"in this._audio&&this._audio.pause()},C$zut.resume=function(){this._audio&&(this.isStopped=!1,C$zuI.addChannel(this),this.startHandler&&this.startHandler.runWith(this),"play"in this._audio&&this._audio.play())},C$zun(0,C$zut,"position",function(){return this._audio?this._audio.currentTime:0}),C$zun(0,C$zut,"duration",function(){return this._audio?this._audio.duration:0}),C$zun(0,C$zut,"volume",function(){return this._audio?this._audio.volume:1},function(C$zut){this._audio&&(this._audio.volume=C$zut)}),$p}(),C$zuft=function(){function $p(){this.audioBuffer=null,this.gain=null,this.bufferSource=null,this._currentTime=0,this._volume=1,this._startTime=0,this._pauseTime=0,this._onPlayEnd=null,this.context=C$zuat.ctx,$p.__super.call(this),this._onPlayEnd=C$zuZ.bind(this.__onPlayEnd,this),this.context.createGain?this.gain=this.context.createGain():this.gain=this.context.createGainNode()}C$zui($p,"laya.media.webaudio.WebAudioSoundChannel",C$zurt);var C$zut=$p.prototype;return C$zut.play=function(C$zut){var C$zue,C$zui,C$zun;C$zuI.addChannel(this),this.isStopped=!1,this._clearBufferSource(),this.audioBuffer&&(C$zue=this.context,C$zui=this.gain,C$zun=C$zue.createBufferSource(),(this.bufferSource=C$zun).buffer=this.audioBuffer,C$zun.connect(C$zui),C$zui&&C$zui.disconnect(),C$zui.connect(C$zue.destination),C$zun.onended=this._onPlayEnd,this.startTime>=this.duration&&(this.startTime=0),this._startTime=C$zuM.now(),this.gain.gain.setTargetAtTime?this.gain.gain.setTargetAtTime(this._volume,this.context.currentTime,.1):this.gain.gain.value=this._volume,0==this.loops&&(C$zun.loop=!0),C$zun.playbackRate.setTargetAtTime?C$zun.playbackRate.setTargetAtTime(C$zuI.playbackRate,this.context.currentTime,.1):C$zun.playbackRate.value=C$zuI.playbackRate,C$zun.start(0,this.startTime),!C$zut&&this.startHandler&&this.startHandler.runWith(this),this._currentTime=0)},C$zut.__onPlayEnd=function(){if(1==this.loops)return this.completeHandler&&(C$zuy.timer.once(10,this,this.__runComplete,[this.completeHandler],!1),this.completeHandler=null),this.stop(),void this.event("complete");0<this.loops&&this.loops--,this.startTime=0,this.play(!0)},C$zut._clearBufferSource=function(){var C$zut;this.bufferSource&&((C$zut=this.bufferSource).stop?C$zut.stop(0):C$zut.noteOff(0),C$zut.disconnect(0),C$zut.onended=null,$p._tryCleanFailed||this._tryClearBuffer(C$zut),this.bufferSource=null)},C$zut._tryClearBuffer=function(C$zut){try{C$zut.buffer=null}catch(C$zut){$p._tryCleanFailed=!0}},C$zut.stop=function(){this._clearBufferSource(),this.audioBuffer=null,this.gain&&this.gain.disconnect(),this.isStopped=!0,C$zuI.removeChannel(this),this.startHandler=null,this.completeHandler=null},C$zut.pause=function(){this.isStopped||(this._pauseTime=this.position),this._clearBufferSource(),this.gain&&this.gain.disconnect(),this.isStopped=!0,C$zuI.removeChannel(this)},C$zut.resume=function(){this.startTime=this._pauseTime,this.play(!1)},C$zun(0,C$zut,"position",function(){return this.bufferSource?(C$zuM.now()-this._startTime)/1e3+this.startTime:0}),C$zun(0,C$zut,"duration",function(){return this.audioBuffer?this.audioBuffer.duration:0}),C$zun(0,C$zut,"volume",function(){return this._volume},function(C$zut){this.isStopped||(this._volume=C$zut,this.gain.gain.setTargetAtTime?this.gain.gain.setTargetAtTime(C$zut,this.context.currentTime,.1):this.gain.gain.value=C$zut)}),$p._tryCleanFailed=!1,$p}(),C$zupt=function(){function $p(){$p.__super.call(this),this._w=0,this._h=0}C$zui($p,"laya.resource.Bitmap",C$zuut);var C$zut=$p.prototype;return C$zun(0,C$zut,"width",function(){return this._w}),C$zun(0,C$zut,"height",function(){return this._h}),C$zun(0,C$zut,"source",function(){return this._source}),$p}(),C$zue=function(C$zue){function $m(){this.loop=!1,this.wrapMode=0,this._index=0,this._count=0,this._isPlaying=!1,this._labels=null,this._isReverse=!1,this._frameRateChanged=!1,this._controlNode=null,this._actionName=null,$m.__super.call(this),this._interval=C$zuo.animationInterval,this._setUpNoticeType(1)}C$zui($m,"laya.display.AnimationPlayerBase",C$zue);var C$zut=$m.prototype;return C$zut.play=function(C$zut,C$zue,C$zui,C$zun){void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=!0),void 0===C$zui&&(C$zui=""),void 0===C$zun&&(C$zun=!0),this._isPlaying=!0,this.index="string"==typeof C$zut?this._getFrameByLabel(C$zut):C$zut,this.loop=C$zue,this._actionName=C$zui,this._isReverse=1==this.wrapMode,0<this.interval&&this.timerLoop(this.interval,this,this._frameLoop,null,!0,!0)},C$zut._getFrameByLabel=function(C$zut){var C$zue=0;for(C$zue=0;C$zue<this._count;C$zue++)if(this._labels[C$zue]&&0<=this._labels[C$zue].indexOf(C$zut))return C$zue;return 0},C$zut._frameLoop=function(){if(this._isReverse){if(this._index--,this._index<0){if(!this.loop)return this._index=0,this.stop(),void this.event("complete");2==this.wrapMode?(this._index=0<this._count?1:0,this._isReverse=!1):this._index=this._count-1,this.event("complete")}}else if(this._index++,this._index>=this._count){if(!this.loop)return this._index--,this.stop(),void this.event("complete");2==this.wrapMode?(this._index=0<=this._count-2?this._count-2:0,this._isReverse=!0):this._index=0,this.event("complete")}this.index=this._index},C$zut._setControlNode=function(C$zut){this._controlNode&&(this._controlNode.off("display",this,this._checkResumePlaying),this._controlNode.off("undisplay",this,this._checkResumePlaying)),(this._controlNode=C$zut)&&C$zut!=this&&(C$zut.on("display",this,this._checkResumePlaying),C$zut.on("undisplay",this,this._checkResumePlaying))},C$zut._setDisplay=function(C$zut){C$zue.prototype._setDisplay.call(this,C$zut),this._checkResumePlaying()},C$zut._checkResumePlaying=function(){this._isPlaying&&(this._controlNode.displayedInStage?this.play(this._index,this.loop,this._actionName):this.clearTimer(this,this._frameLoop))},C$zut.stop=function(){this._isPlaying=!1,this.clearTimer(this,this._frameLoop)},C$zut.addLabel=function(C$zut,C$zue){this._labels||(this._labels={}),this._labels[C$zue]||(this._labels[C$zue]=[]),this._labels[C$zue].push(C$zut)},C$zut.removeLabel=function(C$zut){if(C$zut){if(this._labels)for(var C$zue in this._labels)this._removeLabelFromLabelList(this._labels[C$zue],C$zut)}else this._labels=null},C$zut._removeLabelFromLabelList=function(C$zut,C$zue){if(C$zut)for(var C$zui=C$zut.length-1;0<=C$zui;C$zui--)C$zut[C$zui]==C$zue&&C$zut.splice(C$zui,1)},C$zut.gotoAndStop=function(C$zut){this.index="string"==typeof C$zut?this._getFrameByLabel(C$zut):C$zut,this.stop()},C$zut._displayToIndex=function(C$zut){},C$zut.clear=function(){this.stop(),this._labels=null},C$zun(0,C$zut,"interval",function(){return this._interval},function(C$zut){this._interval!=C$zut&&(this._frameRateChanged=!0,this._interval=C$zut,this._isPlaying&&0<C$zut&&this.timerLoop(C$zut,this,this._frameLoop,null,!0,!0))}),C$zun(0,C$zut,"isPlaying",function(){return this._isPlaying}),C$zun(0,C$zut,"index",function(){return this._index},function(C$zut){if(this._index=C$zut,this._displayToIndex(C$zut),this._labels&&this._labels[C$zut])for(var C$zue=this._labels[C$zut],C$zui=0,C$zun=C$zue.length;C$zui<C$zun;C$zui++)this.event("label",C$zue[C$zui])}),C$zun(0,C$zut,"count",function(){return this._count}),$m.WRAP_POSITIVE=0,$m.WRAP_REVERSE=1,$m.WRAP_PINGPONG=2,$m}(C$zu_t),C$zumt=function(C$zue){function $$(){this._clipPoint=null,this._currBitmapFont=null,this._text=null,this._isChanged=!1,this._textWidth=0,this._textHeight=0,this._lines=[],this._lineWidths=[],this._startX=NaN,this._startY=NaN,this._lastVisibleLineIndex=-1,this._words=null,this._charSize={},this.underline=!1,this._underlineColor=null,$$.__super.call(this),this.overflow=$$.VISIBLE,this._style=new C$zuit(this),this._style.wordWrap=!1}C$zui($$,"laya.display.Text",C$zue);var C$zut=$$.prototype;return C$zut.destroy=function(C$zut){C$zue.prototype.destroy.call(this,C$zut=void 0===C$zut?!0:C$zut),this._lines=null,this._words&&(this._words.length=0,this._words=null)},C$zut._getBoundPointsM=function(C$zut){void 0===C$zut&&(C$zut=!1);C$zut=C$zuA.TEMP;return C$zut.setTo(0,0,this.width,this.height),C$zut._getBoundPoints()},C$zut.getGraphicBounds=function(C$zut){void 0===C$zut&&(C$zut=!1);C$zut=C$zuA.TEMP;return C$zut.setTo(0,0,this.width,this.height),C$zut},C$zut._getCSSStyle=function(){return this._style},C$zut.lang=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zul,C$zuu,C$zuc,C$zu_){if(C$zut=$$.langPacks&&$$.langPacks[C$zut]?$$.langPacks[C$zut]:C$zut,arguments.length<2)this._text=C$zut;else{for(var C$zuo=0,C$zuh=arguments.length;C$zuo<C$zuh;C$zuo++)C$zut=C$zut.replace("{"+C$zuo+"}",arguments[C$zuo+1]);this._text=C$zut}},C$zut._isPassWordMode=function(){var C$zut=this._style.password;return C$zut="prompt"in this&&this.prompt==this._text?!1:C$zut},C$zut._getPassWordTxt=function(C$zut){var C$zue;C$zue="";for(var C$zui=C$zut.length;0<C$zui;C$zui--)C$zue+="\u25cf";return C$zue},C$zut.renderText=function(C$zuu,C$zuc){var C$zut=this.graphics;C$zut.clear(!0);var C$zu_=(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.fontSize+"px "+(C$zuM.onIPhone&&laya.display.Text._fontFamilyMap[this.font]||this.font);C$zuM.context.font=C$zu_;var C$zue=this.padding,C$zud=C$zue[3],C$zui="left",C$zuf=this._lines,C$zup=this.leading+this._charSize.height,C$zun=this._currBitmapFont;C$zun&&(C$zup=this.leading+C$zun.getMaxHeight());var C$zum=C$zue[0];!C$zun&&0<this._width&&this._textWidth<=this._width&&("right"==this.align?(C$zui="right",C$zud=this._width-C$zue[1]):"center"==this.align&&(C$zui="center",C$zud=.5*this._width+C$zue[3]-C$zue[1])),0<this._height&&("middle"===(C$zul=this._textHeight>this._height?"top":this.valign)?C$zum=.5*(this._height-C$zuc*C$zup)+C$zue[0]-C$zue[2]:"bottom"===C$zul&&(C$zum=this._height-C$zuc*C$zup-C$zue[2]));var C$zug=this._style;var C$zur;var C$zuv;C$zun&&C$zun.autoScaleSize&&(C$zur=C$zun.fontSize/this.fontSize),this._clipPoint&&(C$zut.save(),C$zun&&C$zun.autoScaleSize?(C$zuv=C$zul=0,C$zul=this._width?this._width-C$zue[3]-C$zue[1]:this._textWidth,C$zuv=this._height?this._height-C$zue[0]-C$zue[2]:this._textHeight,C$zut.clipRect(C$zue[3],C$zue[0],C$zul*=C$zur,C$zuv*=C$zur)):C$zut.clipRect(C$zue[3],C$zue[0],this._width?this._width-C$zue[3]-C$zue[1]:this._textWidth,this._height?this._height-C$zue[0]-C$zue[2]:this._textHeight));var C$zu$=C$zug.password;"prompt"in this&&this.prompt==this._text&&(C$zu$=!1);for(var C$zus,C$zux=Math.min(this._lines.length,C$zuc+C$zuu)||1,C$zua=C$zuu;C$zua<C$zux;C$zua++){var C$zuy,C$zuo=C$zuf[C$zua];if(C$zu$){var C$zuh=C$zuo.length;C$zuo="";for(var C$zub=C$zuh;0<C$zub;C$zub--)C$zuo+="\u25cf"}var C$zuT;C$zuh=C$zud-(this._clipPoint?this._clipPoint.x:0),C$zus=C$zum+C$zup*C$zua-(this._clipPoint?this._clipPoint.y:0),this.underline&&this.drawUnderline(C$zui,C$zuh,C$zus,C$zua),C$zun?(C$zuT=this.width,C$zun.autoScaleSize&&(C$zuT=this.width*C$zur),C$zun.drawText(C$zuo,this,C$zuh,C$zus,this.align,C$zuT)):(C$zuw.isWebGL?(this._words||(this._words=[]),(C$zuy=this._words.length>C$zua-C$zuu?this._words[C$zua-C$zuu]:new C$zutt).setText(C$zuo)):C$zuy=C$zuo,C$zug.stroke?C$zut.fillBorderText(C$zuy,C$zuh,C$zus,C$zu_,this.color,C$zug.strokeColor,C$zug.stroke,C$zui):C$zut.fillText(C$zuy,C$zuh,C$zus,C$zu_,this.color,C$zui))}var C$zul;C$zun&&C$zun.autoScaleSize&&this.scale(C$zul=1/C$zur,C$zul),this._clipPoint&&C$zut.restore(),this._startX=C$zud,this._startY=C$zum},C$zut.drawUnderline=function(C$zut,C$zue,C$zui,C$zun){var C$zur=this._lineWidths[C$zun];switch(C$zut){case"center":C$zue-=C$zur/2;break;case"right":C$zue-=C$zur}C$zui+=this._charSize.height,this._graphics.drawLine(C$zue,C$zui,C$zue+C$zur,C$zui,this.underlineColor||this.color,1)},C$zut.typeset=function(){if(this._isChanged=!1,!this._text)return this._clipPoint=null,this._textWidth=this._textHeight=0,void this.graphics.clear(!0);C$zuM.context.font=this._getCSSStyle().font,this._lines.length=0,this._lineWidths.length=0,this._isPassWordMode()?this.parseLines(this._getPassWordTxt(this._text)):this.parseLines(this._text),this.evalTextSize(),this.checkEnabledViewportOrNot()?this._clipPoint||(this._clipPoint=new C$zuP(0,0)):this._clipPoint=null;var C$zut=this._lines.length;this.overflow!=$$.VISIBLE&&(C$zue=this.overflow==$$.HIDDEN?Math.floor:Math.ceil,C$zut=Math.min(C$zut,C$zue((this.height-this.padding[0]-this.padding[2])/(this.leading+this._charSize.height))));var C$zue=this.scrollY/(this._charSize.height+this.leading)|0;this.renderText(C$zue,C$zut),this.repaint()},C$zut.evalTextSize=function(){var C$zut,C$zue;C$zut=Math.max.apply(this,this._lineWidths),C$zue=this._currBitmapFont?this._lines.length*(this._currBitmapFont.getMaxHeight()+this.leading)+this.padding[0]+this.padding[2]:this._lines.length*(this._charSize.height+this.leading)+this.padding[0]+this.padding[2],C$zut==this._textWidth&&C$zue==this._textHeight||(this._textWidth=C$zut,this._textHeight=C$zue,this._width&&this._height||this.conchModel&&this.conchModel.size(this._width||this._textWidth,this._height||this._textHeight))},C$zut.checkEnabledViewportOrNot=function(){return this.overflow==$$.SCROLL&&(0<this._width&&this._textWidth>this._width||0<this._height&&this._textHeight>this._height)},C$zut.changeText=function(C$zut){this._text!==C$zut&&(this.lang(C$zut+""),this._graphics&&this._graphics.replaceText(this._text)||this.typeset())},C$zut.parseLines=function(C$zut){var C$zue=this.wordWrap||this.overflow==$$.HIDDEN;var C$zui;var C$zun;C$zue&&(C$zui=this.getWordWrapWidth()),this._currBitmapFont?(this._charSize.width=this._currBitmapFont.getMaxWidth(),this._charSize.height=this._currBitmapFont.getMaxHeight()):(C$zun=C$zuZ.contextMeasureText($$._testWord),C$zuw.isConchApp&&0===C$zun.width&&0===C$zun.height&&(C$zun=C$zuZ.contextMeasureText("W")),this._charSize.width=C$zun.width,this._charSize.height=C$zun.height||this.fontSize);for(var C$zur=C$zut.replace(/\r\n/g,"\n").split("\n"),C$zus=0,C$zua=C$zur.length;C$zus<C$zua;C$zus++){var C$zuo=C$zur[C$zus];C$zue?this.parseLine(C$zuo,C$zui):(this._lineWidths.push(this.getTextWidth(C$zuo)),this._lines.push(C$zuo))}},C$zut.parseLine=function(C$zut,C$zuu){C$zuM.context;var C$zue,C$zui=this._lines,C$zun=0,C$zur=NaN,C$zus=NaN,C$zua=0;if((C$zur=this.getTextWidth(C$zut))<=C$zuu)return C$zui.push(C$zut),void this._lineWidths.push(C$zur);C$zur=this._charSize.width,0==(C$zun=Math.floor(C$zuu/C$zur))&&(C$zun=1),C$zus=C$zur=this.getTextWidth(C$zut.substring(0,C$zun));for(var C$zuo=C$zun,C$zuh=C$zut.length;C$zuo<C$zuh;C$zuo++)if(C$zuu<(C$zus+=C$zur=this.getTextWidth(C$zut.charAt(C$zuo))))if(this.wordWrap){var C$zul=C$zut.substring(C$zua,C$zuo);if(C$zul.charCodeAt(C$zul.length-1)<255?(C$zue=/(?:\w|-)+$/.exec(C$zul))&&(C$zuo=C$zue.index+C$zua,0==C$zue.index?C$zuo+=C$zul.length:C$zul=C$zut.substring(C$zua,C$zuo)):$$.RightToLeft&&(C$zue=/([\u0600-\u06FF])+$/.exec(C$zul))&&(C$zuo=C$zue.index+C$zua,0==C$zue.index?C$zuo+=C$zul.length:C$zul=C$zut.substring(C$zua,C$zuo)),C$zui.push(C$zul),this._lineWidths.push(C$zus-C$zur),!((C$zua=C$zuo)+C$zun<C$zuh)){C$zui.push(C$zut.substring(C$zua,C$zuh)),this._lineWidths.push(this.getTextWidth(C$zui[C$zui.length-1])),C$zua=-1;break}C$zuo+=C$zun,C$zus=C$zur=this.getTextWidth(C$zut.substring(C$zua,C$zuo)),C$zuo--}else if(this.overflow==$$.HIDDEN)return C$zui.push(C$zut.substring(0,C$zuo)),void this._lineWidths.push(this.getTextWidth(C$zui[C$zui.length-1]));this.wordWrap&&-1!=C$zua&&(C$zui.push(C$zut.substring(C$zua,C$zuh)),this._lineWidths.push(this.getTextWidth(C$zui[C$zui.length-1])))},C$zut.getTextWidth=function(C$zut){return this._currBitmapFont?this._currBitmapFont.getTextWidth(C$zut):C$zuZ.contextMeasureText(C$zut).width},C$zut.getWordWrapWidth=function(){var C$zut=this.padding,C$zue=NaN;return(C$zue=(C$zue=(C$zue=this._currBitmapFont&&this._currBitmapFont.autoScaleSize?this._width*(this._currBitmapFont.fontSize/this.fontSize):this._width)<=0?this.wordWrap?100:C$zuM.width:C$zue)<=0?100:C$zue)-C$zut[3]-C$zut[1]},C$zut.getCharPoint=function(C$zut,C$zue){this._isChanged&&C$zuy.timer.runCallLater(this,this.typeset);for(var C$zui=0,C$zun=this._lines,C$zur=0,C$zus=0,C$zua=C$zun.length;C$zus<C$zua;C$zus++){if(C$zut<(C$zui+=C$zun[C$zus].length)){var C$zuo=C$zus;break}C$zur=C$zui}var C$zuh=(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.fontSize+"px "+this.font;C$zuM.context.font=C$zuh;C$zuh=this.getTextWidth(this._text.substring(C$zur,C$zut));return(C$zue||new C$zuP).setTo(this._startX+C$zuh-(this._clipPoint?this._clipPoint.x:0),this._startY+C$zuo*(this._charSize.height+this.leading)-(this._clipPoint?this._clipPoint.y:0))},C$zun(0,C$zut,"width",function(){return this._width||this.textWidth+this.padding[1]+this.padding[3]},function(C$zut){C$zut!=this._width&&(C$zuy.superSet(C$zu_t,this,"width",C$zut),this.isChanged=!0)}),C$zun(0,C$zut,"textWidth",function(){return this._isChanged&&C$zuy.timer.runCallLater(this,this.typeset),this._textWidth}),C$zun(0,C$zut,"height",function(){return this._height||this.textHeight},function(C$zut){C$zut!=this._height&&(C$zuy.superSet(C$zu_t,this,"height",C$zut),this.isChanged=!0)}),C$zun(0,C$zut,"textHeight",function(){return this._isChanged&&C$zuy.timer.runCallLater(this,this.typeset),this._textHeight}),C$zun(0,C$zut,"padding",function(){return this._getCSSStyle().padding},function(C$zut){this._getCSSStyle().padding=C$zut,this.isChanged=!0}),C$zun(0,C$zut,"bold",function(){return this._getCSSStyle().bold},function(C$zut){this._getCSSStyle().bold=C$zut,this.isChanged=!0}),C$zun(0,C$zut,"text",function(){return this._text||""},function(C$zut){this._text!==C$zut&&(this.lang(C$zut+""),this.isChanged=!0,this.event("change"))}),C$zun(0,C$zut,"color",function(){return this._getCSSStyle().color},function(C$zut){this._getCSSStyle().color!=C$zut&&(this._getCSSStyle().color=C$zut,!this._isChanged&&this._graphics?this._graphics.replaceTextColor(this.color):this.isChanged=!0)}),C$zun(0,C$zut,"font",function(){return this._getCSSStyle().fontFamily},function(C$zut){this._currBitmapFont&&(this._currBitmapFont=null,this.scale(1,1)),$$._bitmapFonts&&$$._bitmapFonts[C$zut]&&(this._currBitmapFont=$$._bitmapFonts[C$zut]),this._getCSSStyle().fontFamily=C$zut,this.isChanged=!0}),C$zun(0,C$zut,"fontSize",function(){return this._getCSSStyle().fontSize},function(C$zut){this._getCSSStyle().fontSize=C$zut,this.isChanged=!0}),C$zun(0,C$zut,"italic",function(){return this._getCSSStyle().italic},function(C$zut){this._getCSSStyle().italic=C$zut,this.isChanged=!0}),C$zun(0,C$zut,"align",function(){return this._getCSSStyle().align},function(C$zut){this._getCSSStyle().align=C$zut,this.isChanged=!0}),C$zun(0,C$zut,"valign",function(){return this._getCSSStyle().valign},function(C$zut){this._getCSSStyle().valign=C$zut,this.isChanged=!0}),C$zun(0,C$zut,"wordWrap",function(){return this._getCSSStyle().wordWrap},function(C$zut){this._getCSSStyle().wordWrap=C$zut,this.isChanged=!0}),C$zun(0,C$zut,"leading",function(){return this._getCSSStyle().leading},function(C$zut){this._getCSSStyle().leading=C$zut,this.isChanged=!0}),C$zun(0,C$zut,"bgColor",function(){return this._getCSSStyle().backgroundColor},function(C$zut){this._getCSSStyle().backgroundColor=C$zut,this.isChanged=!0}),C$zun(0,C$zut,"borderColor",function(){return this._getCSSStyle().borderColor},function(C$zut){this._getCSSStyle().borderColor=C$zut,this.isChanged=!0}),C$zun(0,C$zut,"stroke",function(){return this._getCSSStyle().stroke},function(C$zut){this._getCSSStyle().stroke=C$zut,this.isChanged=!0}),C$zun(0,C$zut,"strokeColor",function(){return this._getCSSStyle().strokeColor},function(C$zut){this._getCSSStyle().strokeColor=C$zut,this.isChanged=!0}),C$zun(0,C$zut,"isChanged",null,function(C$zut){this._isChanged!==C$zut&&(this._isChanged=C$zut)&&C$zuy.timer.callLater(this,this.typeset)}),C$zun(0,C$zut,"scrollX",function(){return this._clipPoint?this._clipPoint.x:0},function(C$zut){var C$zue,C$zui;this.overflow!=$$.SCROLL||this.textWidth<this._width||!this._clipPoint||(C$zut=C$zut<this.padding[3]?this.padding[3]:C$zut,C$zue=this._textWidth-this._width,C$zui=this._height/(this._charSize.height+this.leading)|1,this._clipPoint.x=C$zut=C$zue<C$zut?C$zue:C$zut,this.renderText(this._lastVisibleLineIndex,C$zui))}),C$zun(0,C$zut,"scrollY",function(){return this._clipPoint?this._clipPoint.y:0},function(C$zut){var C$zue,C$zui;this.overflow!=$$.SCROLL||this.textHeight<this._height||!this._clipPoint||(C$zut=C$zut<this.padding[0]?this.padding[0]:C$zut,C$zue=(C$zut=(C$zue=this._textHeight-this._height)<C$zut?C$zue:C$zut)/(this._charSize.height+this.leading)|0,this._lastVisibleLineIndex=C$zue,C$zui=1+(this._height/(this._charSize.height+this.leading)|0),this._clipPoint.y=C$zut,this.renderText(C$zue,C$zui))}),C$zun(0,C$zut,"maxScrollX",function(){return this.textWidth<this._width?0:this._textWidth-this._width}),C$zun(0,C$zut,"maxScrollY",function(){return this.textHeight<this._height?0:this._textHeight-this._height}),C$zun(0,C$zut,"lines",function(){return this._isChanged&&this.typeset(),this._lines}),C$zun(0,C$zut,"underlineColor",function(){return this._underlineColor},function(C$zut){this._underlineColor=C$zut,this._isChanged=!0,this.typeset()}),$$.registerBitmapFont=function(C$zut,C$zue){($$._bitmapFonts=$$._bitmapFonts?$$._bitmapFonts:{})[C$zut]=C$zue},$$.unregisterBitmapFont=function(C$zut,C$zue){var C$zui;void 0===C$zue&&(C$zue=!0),$$._bitmapFonts&&$$._bitmapFonts[C$zut]&&(C$zui=$$._bitmapFonts[C$zut],C$zue&&C$zui.destroy(),delete $$._bitmapFonts[C$zut])},$$.setTextRightToLeft=function(){var C$zut;(C$zut=C$zuM.canvas.source.style).display="none",C$zut.position="absolute",C$zut.direction="rtl",C$zuw._mainCanvas.source.style.direction="rtl",laya.display.Text.RightToLeft=!0,C$zuM.document.body.appendChild(C$zuM.canvas.source)},$$.supportFont=function(C$zut){C$zuM.context.font="10px sans-serif";var C$zue=C$zuZ.contextMeasureText("abcji").width;C$zuM.context.font="10px "+C$zut;C$zut=C$zuZ.contextMeasureText("abcji").width;return console.log(C$zue,C$zut),C$zue!==C$zut},$$._testWord="\u6e38",$$.langPacks=null,$$.VISIBLE="visible",$$.SCROLL="scroll",$$.HIDDEN="hidden",$$.CharacterCache=!0,$$.RightToLeft=!1,$$._bitmapFonts=null,C$zua($$,["_fontFamilyMap",function(){return this._fontFamilyMap={"\u62a5\u96b6":"\u62a5\u96b6-\u7b80","\u9ed1\u4f53":"\u9ed1\u4f53-\u7b80","\u6977\u4f53":"\u6977\u4f53-\u7b80","\u5170\u4ead\u9ed1":"\u5170\u4ead\u9ed1-\u7b80","\u96b6\u53d8":"\u96b6\u53d8-\u7b80","\u51cc\u6167\u4f53":"\u51cc\u6167\u4f53-\u7b80","\u7fe9\u7fe9\u4f53":"\u7fe9\u7fe9\u4f53-\u7b80","\u82f9\u65b9":"\u82f9\u65b9-\u7b80","\u624b\u672d\u4f53":"\u624b\u672d\u4f53-\u7b80","\u5b8b\u4f53":"\u5b8b\u4f53-\u7b80","\u5a03\u5a03\u4f53":"\u5a03\u5a03\u4f53-\u7b80","\u9b4f\u7891":"\u9b4f\u7891-\u7b80","\u884c\u6977":"\u884c\u6977-\u7b80","\u96c5\u75de":"\u96c5\u75de-\u7b80","\u5706\u4f53":"\u5706\u4f53-\u7b80"}}]),$$}(C$zu_t),C$zugt=function(C$zuu){function $k(){this.focus=null,this.designWidth=0,this.designHeight=0,this.canvasRotation=!1,this.canvasDegree=0,this.renderingEnabled=!0,this.screenAdaptationEnabled=!0,this._screenMode="none",this._scaleMode="noscale",this._alignV="top",this._alignH="left",this._bgColor="black",this._mouseMoveTime=0,this._renderCount=0,this._frameStartTime=NaN,this._isFocused=!1,this._isVisibility=!1,this._scenes=null,this._frameRate="fast",$k.__super.call(this),this.offset=new C$zuP,this._canvasTransform=new C$zuE,this._previousOrientation=C$zuM.window.orientation;var C$zue=this;this.transform=C$zuE.create(),this._scenes=[],this.mouseEnabled=!0,this.hitTestPrior=!0,this.autoSize=!1,this._displayedInStage=!0,this._isFocused=!0,this._isVisibility=!0;var C$zut=C$zuM.window,C$zui=this;C$zut.addEventListener("focus",function(){C$zue._isFocused=!0,C$zui.event("focus"),C$zui.event("focuschange")}),C$zut.addEventListener("blur",function(){C$zue._isFocused=!1,C$zui.event("blur"),C$zui.event("focuschange"),C$zui._isInputting()&&(C$zuxt.inputElement.target.focus=!1)});var C$zun="visibilityState",C$zur="visibilitychange",C$zus=C$zut.document;void 0!==C$zus.hidden?(C$zur="visibilitychange",C$zun="visibilityState"):void 0!==C$zus.mozHidden?(C$zur="mozvisibilitychange",C$zun="mozVisibilityState"):void 0!==C$zus.msHidden?(C$zur="msvisibilitychange",C$zun="msVisibilityState"):void 0!==C$zus.webkitHidden&&(C$zur="webkitvisibilitychange",C$zun="webkitVisibilityState"),C$zut.document.addEventListener(C$zur,function(){"hidden"==C$zuM.document[C$zun]?C$zui._setStageVisible(!1):C$zui._setStageVisible(!0)}),C$zut.document.addEventListener("qbrowserVisibilityChange",function(C$zut){C$zui._setStageVisible(!C$zut.hidden)}),C$zut.addEventListener("resize",function(){var C$zut=C$zuM.window.orientation;null!=C$zut&&C$zut!=C$zue._previousOrientation&&C$zui._isInputting()&&(C$zuxt.inputElement.target.focus=!1),C$zue._previousOrientation=C$zut,C$zui._isInputting()||C$zui._resetCanvas()}),C$zut.addEventListener("orientationchange",function(C$zut){C$zui._resetCanvas()}),this.on("mousemove",this,this._onmouseMove),C$zuM.onMobile&&this.on("mousedown",this,this._onmouseMove)}C$zui($k,"laya.display.Stage",C$zuu);var C$zut=$k.prototype;return C$zut._setStageVisible=function(C$zut){this._isVisibility!=C$zut&&(this._isVisibility=C$zut,this._isVisibility||this._isInputting()&&(C$zuxt.inputElement.target.focus=!1),this.event("visibilitychange"))},C$zut._isInputting=function(){return C$zuM.onMobile&&C$zuxt.isInputting},C$zut._changeCanvasSize=function(){this.setScreenSize(C$zuM.clientWidth*C$zuM.pixelRatio,C$zuM.clientHeight*C$zuM.pixelRatio)},C$zut._resetCanvas=function(){var C$zut;this.screenAdaptationEnabled&&((C$zut=C$zuw._mainCanvas).source.style,C$zut.size(1,1),C$zuy.timer.once(100,this,this._changeCanvasSize))},C$zut.setScreenSize=function(C$zut,C$zue){var C$zuu=!1;"none"!==this._screenMode&&(C$zuu=(C$zut/C$zue<1?"vertical":"horizontal")!==this._screenMode)&&(C$zuc=C$zue,C$zue=C$zut,C$zut=C$zuc),this.canvasRotation=C$zuu;var C$zuc=C$zuw._mainCanvas,C$zui=C$zuc.source.style,C$zun=this._canvasTransform.identity(),C$zu_=this._scaleMode,C$zur=C$zut/this.designWidth,C$zus=C$zue/this.designHeight,C$zua=this.designWidth,C$zuo=this.designHeight,C$zuh=C$zut,C$zud=C$zue,C$zul=C$zuM.pixelRatio;switch(this._width=this.designWidth,this._height=this.designHeight,C$zu_){case"noscale":C$zur=C$zus=1,C$zuh=this.designWidth,C$zud=this.designHeight;break;case"showall":C$zur=C$zus=Math.min(C$zur,C$zus),C$zua=C$zuh=Math.round(this.designWidth*C$zur),C$zuo=C$zud=Math.round(this.designHeight*C$zus);break;case"noborder":C$zur=C$zus=Math.max(C$zur,C$zus),C$zuh=Math.round(this.designWidth*C$zur),C$zud=Math.round(this.designHeight*C$zus);break;case"full":C$zur=C$zus=1,this._width=C$zua=C$zut,this._height=C$zuo=C$zue;break;case"fixedwidth":C$zus=C$zur,this._height=C$zuo=Math.round(C$zue/C$zur);break;case"fixedheight":C$zur=C$zus,this._width=C$zua=Math.round(C$zut/C$zus);break;case"fixedauto":C$zut/C$zue<this.designWidth/this.designHeight?(C$zus=C$zur,this._height=C$zuo=Math.round(C$zue/C$zur)):(C$zur=C$zus,this._width=C$zua=Math.round(C$zut/C$zus))}this._height=this._height+1&2147483646,this._width=this._width+1&2147483646,C$zua=C$zua+1&2147483646,C$zuo=C$zuo+1&2147483646,this.conchModel&&this.conchModel.size(this._width,this._height),C$zur*=this.scaleX,C$zus*=this.scaleY,1===C$zur&&1===C$zus?this.transform.identity():(this.transform.a=this._formatData(C$zur/(C$zuh/C$zua)),this.transform.d=this._formatData(C$zus/(C$zud/C$zuo)),this.conchModel&&this.conchModel.scale(this.transform.a,this.transform.d)),C$zuc.size(C$zua,C$zuo),C$zum.changeWebGLSize(C$zua,C$zuo),C$zun.scale(C$zuh/C$zua/C$zul,C$zud/C$zuo/C$zul),"left"===this._alignH?this.offset.x=0:"right"===this._alignH?this.offset.x=(C$zut-C$zuh)/C$zul:this.offset.x=.5*(C$zut-C$zuh)/C$zul,"top"===this._alignV?this.offset.y=0:"bottom"===this._alignV?this.offset.y=(C$zue-C$zud)/C$zul:this.offset.y=.5*(C$zue-C$zud)/C$zul,this.offset.x=Math.round(this.offset.x),this.offset.y=Math.round(this.offset.y),C$zun.translate(this.offset.x,this.offset.y),this.canvasDegree=0,C$zuu&&("horizontal"===this._screenMode?(C$zun.rotate(Math.PI/2),C$zun.translate(C$zue/C$zul,0),this.canvasDegree=90):(C$zun.rotate(-Math.PI/2),C$zun.translate(0,C$zut/C$zul),this.canvasDegree=-90)),C$zun.a=this._formatData(C$zun.a),C$zun.d=this._formatData(C$zun.d),C$zun.tx=this._formatData(C$zun.tx),C$zun.ty=this._formatData(C$zun.ty),C$zui.transformOrigin=C$zui.webkitTransformOrigin=C$zui.msTransformOrigin=C$zui.mozTransformOrigin=C$zui.oTransformOrigin="0px 0px 0px",C$zui.transform=C$zui.webkitTransform=C$zui.msTransform=C$zui.mozTransform=C$zui.oTransform="matrix("+C$zun.toString()+")",C$zun.translate(parseInt(C$zui.left)||0,parseInt(C$zui.top)||0),this.visible=!0,this._repaint=1,this.event("resize")},C$zut._formatData=function(C$zut){return Math.abs(C$zut)<1e-6?0:Math.abs(1-C$zut)<.001?0<C$zut?1:-1:C$zut},C$zut.getMousePoint=function(){return C$zuP.TEMP.setTo(this.mouseX,this.mouseY)},C$zut.repaint=function(){this._repaint=1},C$zut.parentRepaint=function(){},C$zut._loop=function(){return this.render(C$zuw.context,0,0),!0},C$zut._onmouseMove=function(C$zut){this._mouseMoveTime=C$zuM.now()},C$zut.getTimeFromFrameStart=function(){return C$zuM.now()-this._frameStartTime},C$zut.render=function(C$zut,C$zue,C$zui){if("sleep"===this._frameRate&&!C$zuw.isConchApp){var C$zun=C$zuM.now();if(!(1e3<=C$zun-this._frameStartTime))return this._renderCount++,void(this._renderCount%2==0&&(C$zuK.loopCount++,C$zu$.instance.runEvent(),C$zuy.timer._update()));this._frameStartTime=C$zun}if(this._renderCount++,C$zuw.isFlash&&this.repaint(),this._style.visible){this._frameStartTime=C$zuM.now();var C$zun="slow"!==("mouse"===this._frameRate?this._frameStartTime-this._mouseMoveTime<2e3?"fast":"slow":this._frameRate),C$zur=this._renderCount%2==0;if(C$zuK.renderSlow=!C$zun,C$zun||C$zur||C$zuw.isConchApp){var C$zus;C$zuK.loopCount++,C$zu$.instance.runEvent(),C$zuy.timer._update(),C$zum.update3DLoop();var C$zua=0,C$zuo=0;if(C$zuw.isConchNode)for(C$zua=0,C$zuo=this._scenes.length;C$zua<C$zuo;C$zua++)(C$zus=this._scenes[C$zua])&&C$zus._updateSceneConch();else for(C$zua=0,C$zuo=this._scenes.length;C$zua<C$zuo;C$zua++)(C$zus=this._scenes[C$zua])&&C$zus._updateScene();if(C$zuw.isConchNode){var C$zuh=C$zu_t.CustomList;for(C$zua=0,C$zuo=C$zuh.length;C$zua<C$zuo;C$zua++){var C$zul=C$zuh[C$zua];C$zul.customRender(C$zul.customContext,0,0)}return}}C$zuw.isConchNode||this.renderingEnabled&&(C$zun||!C$zur||C$zuw.isConchWebGL)&&(C$zuw.isWebGL?C$zuw.WebGL.mainContext&&!C$zuw.WebGL.mainContext.isContextLost()&&(C$zut.clear(),C$zuu.prototype.render.call(this,C$zut,C$zue,C$zui),C$zuK._show&&C$zuK._sp&&C$zuK._sp.render(C$zut,C$zue,C$zui),C$zum.clear(this._bgColor),C$zum.beginFlush(),C$zut.flush(),C$zum.endFinish(),C$zuQ.instance&&C$zuQ.getInstance().endDispose()):(C$zum.clear(this._bgColor),C$zuu.prototype.render.call(this,C$zut,C$zue,C$zui),C$zuK._show&&C$zuK._sp&&C$zuK._sp.render(C$zut,C$zue,C$zui)))}else this._renderCount%5==0&&(C$zuK.loopCount++,C$zu$.instance.runEvent(),C$zuy.timer._update())},C$zut._requestFullscreen=function(){var C$zut=C$zuM.document.documentElement;C$zut.requestFullscreen?C$zut.requestFullscreen():C$zut.mozRequestFullScreen?C$zut.mozRequestFullScreen():C$zut.webkitRequestFullscreen?C$zut.webkitRequestFullscreen():C$zut.msRequestFullscreen&&C$zut.msRequestFullscreen()},C$zut._fullScreenChanged=function(){C$zuy.stage.event("fullscreenchange")},C$zut.exitFullscreen=function(){var C$zut=C$zuM.document;C$zut.exitFullscreen?C$zut.exitFullscreen():C$zut.mozCancelFullScreen?C$zut.mozCancelFullScreen():C$zut.webkitExitFullscreen&&C$zut.webkitExitFullscreen()},C$zun(0,C$zut,"clientScaleX",function(){return this._transform?this._transform.getScaleX():1}),C$zun(0,C$zut,"desginHeight",function(){return console.debug("desginHeight\u5df2\u7ecf\u5f03\u7528\uff0c\u8bf7\u4f7f\u7528designHeight\u4ee3\u66ff"),this.designHeight}),C$zun(0,C$zut,"frameRate",function(){return this._frameRate},function(C$zut){if(this._frameRate=C$zut,C$zuw.isConchApp)switch(this._frameRate){case"slow":C$zuM.window.conch&&C$zuM.window.conchConfig.setSlowFrame&&C$zuM.window.conchConfig.setSlowFrame(!0);break;case"fast":C$zuM.window.conch&&C$zuM.window.conchConfig.setSlowFrame&&C$zuM.window.conchConfig.setSlowFrame(!1);break;case"mouse":C$zuM.window.conch&&C$zuM.window.conchConfig.setMouseFrame&&C$zuM.window.conchConfig.setMouseFrame(2e3);break;case"sleep":C$zuM.window.conch&&C$zuM.window.conchConfig.setLimitFPS&&C$zuM.window.conchConfig.setLimitFPS(1);break;default:throw new Error("Stage:frameRate invalid.")}}),C$zun(0,C$zut,"clientScaleY",function(){return this._transform?this._transform.getScaleY():1}),C$zun(0,C$zut,"width",C$zuu.prototype._$get_width,function(C$zut){this.designWidth=C$zut,C$zuy.superSet(C$zu_t,this,"width",C$zut),C$zuy.timer.callLater(this,this._changeCanvasSize)}),C$zun(0,C$zut,"alignH",function(){return this._alignH},function(C$zut){this._alignH=C$zut,C$zuy.timer.callLater(this,this._changeCanvasSize)}),C$zun(0,C$zut,"isFocused",function(){return this._isFocused}),C$zun(0,C$zut,"height",C$zuu.prototype._$get_height,function(C$zut){this.designHeight=C$zut,C$zuy.superSet(C$zu_t,this,"height",C$zut),C$zuy.timer.callLater(this,this._changeCanvasSize)}),C$zun(0,C$zut,"transform",function(){return this._tfChanged&&this._adjustTransform(),this._transform=this._transform||C$zuE.create()},C$zuu.prototype._$set_transform),C$zun(0,C$zut,"isVisibility",function(){return this._isVisibility}),C$zun(0,C$zut,"desginWidth",function(){return console.debug("desginWidth\u5df2\u7ecf\u5f03\u7528\uff0c\u8bf7\u4f7f\u7528designWidth\u4ee3\u66ff"),this.designWidth}),C$zun(0,C$zut,"scaleMode",function(){return this._scaleMode},function(C$zut){this._scaleMode=C$zut,C$zuy.timer.callLater(this,this._changeCanvasSize)}),C$zun(0,C$zut,"alignV",function(){return this._alignV},function(C$zut){this._alignV=C$zut,C$zuy.timer.callLater(this,this._changeCanvasSize)}),C$zun(0,C$zut,"bgColor",function(){return this._bgColor},function(C$zut){this._bgColor=C$zut,this.conchModel&&this.conchModel.bgColor(C$zut),C$zuw.isWebGL&&(C$zut?$k._wgColor=C$zuW.create(C$zut)._color:C$zuM.onMiniGame||($k._wgColor=null)),C$zuM.onLimixiu?$k._wgColor=C$zuW.create(C$zut)._color:C$zuw.canvas.style.background=C$zut||"none"}),C$zun(0,C$zut,"mouseX",function(){return Math.round(C$zu$.instance.mouseX/this.clientScaleX)}),C$zun(0,C$zut,"mouseY",function(){return Math.round(C$zu$.instance.mouseY/this.clientScaleY)}),C$zun(0,C$zut,"screenMode",function(){return this._screenMode},function(C$zut){this._screenMode=C$zut}),C$zun(0,C$zut,"visible",C$zuu.prototype._$get_visible,function(C$zut){this.visible!==C$zut&&(C$zuy.superSet(C$zu_t,this,"visible",C$zut),C$zuw._mainCanvas.source.style.visibility=C$zut?"visible":"hidden")}),C$zun(0,C$zut,"fullScreenEnabled",null,function(C$zut){var C$zue=C$zuM.document,C$zui=C$zuw.canvas;C$zut?(C$zui.addEventListener("mousedown",this._requestFullscreen),C$zui.addEventListener("touchstart",this._requestFullscreen),C$zue.addEventListener("fullscreenchange",this._fullScreenChanged),C$zue.addEventListener("mozfullscreenchange",this._fullScreenChanged),C$zue.addEventListener("webkitfullscreenchange",this._fullScreenChanged),C$zue.addEventListener("msfullscreenchange",this._fullScreenChanged)):(C$zui.removeEventListener("mousedown",this._requestFullscreen),C$zui.removeEventListener("touchstart",this._requestFullscreen),C$zue.removeEventListener("fullscreenchange",this._fullScreenChanged),C$zue.removeEventListener("mozfullscreenchange",this._fullScreenChanged),C$zue.removeEventListener("webkitfullscreenchange",this._fullScreenChanged),C$zue.removeEventListener("msfullscreenchange",this._fullScreenChanged))}),$k.SCALE_NOSCALE="noscale",$k.SCALE_EXACTFIT="exactfit",$k.SCALE_SHOWALL="showall",$k.SCALE_NOBORDER="noborder",$k.SCALE_FULL="full",$k.SCALE_FIXED_WIDTH="fixedwidth",$k.SCALE_FIXED_HEIGHT="fixedheight",$k.SCALE_FIXED_AUTO="fixedauto",$k.ALIGN_LEFT="left",$k.ALIGN_RIGHT="right",$k.ALIGN_CENTER="center",$k.ALIGN_TOP="top",$k.ALIGN_MIDDLE="middle",$k.ALIGN_BOTTOM="bottom",$k.SCREEN_NONE="none",$k.SCREEN_HORIZONTAL="horizontal",$k.SCREEN_VERTICAL="vertical",$k.FRAME_FAST="fast",$k.FRAME_SLOW="slow",$k.FRAME_MOUSE="mouse",$k.FRAME_SLEEP="sleep",$k.FRAME_MOUSE_THREDHOLD=2e3,C$zua($k,["_wgColor",function(){return this._wgColor=[0,0,0,1]}]),$k}(C$zu_t),C$zuvt=(function(){function $p(){this.url=null,this._channel=null,this._tar=null,this._playEvents=null,this._stopEvents=null,$p.__super.call(this),this.visible=!1,this.on("added",this,this._onParentChange),this.on("removed",this,this._onParentChange)}C$zui($p,"laya.media.SoundNode",C$zu_t);var C$zut=$p.prototype;C$zut._onParentChange=function(){this.target=this.parent},C$zut.play=function(C$zut,C$zue){void 0===C$zut&&(C$zut=1),isNaN(C$zut)&&(C$zut=1),this.url&&(this.stop(),this._channel=C$zuI.playSound(this.url,C$zut,null,C$zue))},C$zut.stop=function(){this._channel&&!this._channel.isStopped&&this._channel.stop(),this._channel=null},C$zut._setPlayAction=function(C$zut,C$zue,C$zui,C$zun){void 0===C$zun&&(C$zun=!0),this[C$zui]&&C$zut&&(C$zun?C$zut.on(C$zue,this,this[C$zui]):C$zut.off(C$zue,this,this[C$zui]))},C$zut._setPlayActions=function(C$zut,C$zue,C$zui,C$zun){if(void 0===C$zun&&(C$zun=!0),C$zut&&C$zue){var C$zur,C$zus=C$zue.split(","),C$zua=0;for(C$zur=C$zus.length,C$zua=0;C$zua<C$zur;C$zua++)this._setPlayAction(C$zut,C$zus[C$zua],C$zui,C$zun)}},C$zun(0,C$zut,"playEvent",null,function(C$zut){(this._playEvents=C$zut)&&this._tar&&this._setPlayActions(this._tar,C$zut,"play")}),C$zun(0,C$zut,"target",null,function(C$zut){this._tar&&(this._setPlayActions(this._tar,this._playEvents,"play",!1),this._setPlayActions(this._tar,this._stopEvents,"stop",!1)),this._tar=C$zut,this._tar&&(this._setPlayActions(this._tar,this._playEvents,"play",!0),this._setPlayActions(this._tar,this._stopEvents,"stop",!0))}),C$zun(0,C$zut,"stopEvent",null,function(C$zut){(this._stopEvents=C$zut)&&this._tar&&this._setPlayActions(this._tar,C$zut,"stop")})}(),function(){function $p(){this._src=null,this._onload=null,this._onerror=null,$p.__super.call(this)}C$zui($p,"laya.resource.FileBitmap",C$zupt);var C$zut=$p.prototype;return C$zun(0,C$zut,"src",function(){return this._src},function(C$zut){this._src=C$zut}),C$zun(0,C$zut,"onload",null,function(C$zut){}),C$zun(0,C$zut,"onerror",null,function(C$zut){}),$p}()),C$zu$t=function(){function $h(C$zut,C$zue){this._is2D=!1,$h.__super.call(this);var C$zui=this;var C$zun;this._source=this,"2D"!==C$zut&&("AUTO"!==C$zut||C$zuw.isWebGL)||(this._is2D=!0,this._source=C$zue||C$zuM.createElement("canvas"),this._w=this._source.width,this._h=this._source.height,(C$zun=this).getContext=function(C$zut,C$zue){if(C$zui._ctx)return C$zui._ctx;C$zut=C$zui._ctx=C$zui._source.getContext(C$zut,C$zue);return C$zut&&(C$zut._canvas=C$zun,C$zuw.isFlash||C$zuM.onLimixiu||(C$zut.size=function(C$zut,C$zue){})),C$zut}),this.uri="HTMLCanvas_"+this.id,this.lock=!0}C$zui($h,"laya.resource.HTMLCanvas",C$zupt);var C$zut=$h.prototype;return C$zut.clear=function(){this._ctx&&this._ctx.clear()},C$zut.destroy=function(){this._ctx&&this._ctx.destroy(),this._ctx=null,laya.resource.Resource.prototype.destroy.call(this)},C$zut.release=function(){},C$zut._setContext=function(C$zut){this._ctx=C$zut},C$zut.getContext=function(C$zut,C$zue){return this._ctx||(this._ctx=$h._createContext(this))},C$zut.getMemSize=function(){return 0},C$zut.size=function(C$zut,C$zue){this._w==C$zut&&this._h==C$zue&&(!this._source||this._source.width==C$zut&&this._source.height==C$zue)||(this._w=C$zut,this._h=C$zue,this.memorySize=this._w*this._h*4,this._ctx&&this._ctx.size(C$zut,C$zue),this._source&&(this._source.height=C$zue,this._source.width=C$zut))},C$zut.getCanvas=function(){return this._source},C$zut.toBase64=function(C$zut,C$zue,C$zui){this._source&&(C$zuw.isConchApp&&this._source.toBase64?this._source.toBase64(C$zut,C$zue,C$zui):(C$zut=this._source.toDataURL(C$zut,C$zue),C$zui.call(this,C$zut)))},C$zun(0,C$zut,"context",function(){return this._ctx}),C$zun(0,C$zut,"asBitmap",null,function(C$zut){}),$h.create=function(C$zut,C$zue){return new $h(C$zut,C$zue)},$h.TYPE2D="2D",$h.TYPE3D="3D",$h.TYPEAUTO="AUTO",$h._createContext=null,$h}(),C$zue=(function(){function $d(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){throw $d.__super.call(this),new Error("\u4e0d\u5141\u8bb8new\uff01")}C$zui($d,"laya.resource.HTMLSubImage",C$zupt),$d.create=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){return void 0===C$zuo&&(C$zuo=!1),new $d}}(),function(C$zut){function $F(){this._frames=null,this._url=null,$F.__super.call(this),this._setControlNode(this)}C$zui($F,"laya.display.Animation",C$zut);var C$zue=$F.prototype;C$zue.destroy=function(C$zut){void 0===C$zut&&(C$zut=!0),this.stop(),laya.display.Sprite.prototype.destroy.call(this,C$zut),this._frames=null,this._labels=null},C$zue.play=function(C$zut,C$zue,C$zui,C$zun){void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=!0),void 0===C$zun&&(C$zun=!0),(C$zui=void 0===C$zui?"":C$zui)&&this._setFramesFromCache(C$zui,C$zun),this._isPlaying=!0,this.index="string"==typeof C$zut?this._getFrameByLabel(C$zut):C$zut,this.loop=C$zue,this._actionName=C$zui,this._isReverse=1==this.wrapMode,this._frames&&0<this.interval&&this.timerLoop(this.interval,this,this._frameLoop,null,!0,!0)},C$zue._setFramesFromCache=function(C$zut,C$zue){var C$zui;return void 0===C$zue&&(C$zue=!1),(C$zut=this._url?this._url+"#"+C$zut:C$zut)&&$F.framesMap[C$zut]?((C$zui=$F.framesMap[C$zut])instanceof Array?(this._frames=$F.framesMap[C$zut],this._count=this._frames.length):(C$zui.nodeRoot&&($F.framesMap[C$zut]=this._parseGraphicAnimationByData(C$zui),C$zui=$F.framesMap[C$zut]),this._frames=C$zui.frames,this._count=this._frames.length,this._frameRateChanged||(this._interval=C$zui.interval),this._labels=this._copyLabels(C$zui.labels)),!0):(C$zue&&console.log("ani not found:",C$zut),!1)},C$zue._copyLabels=function(C$zut){if(!C$zut)return null;var C$zue,C$zui;for(C$zui in C$zue={},C$zut)C$zue[C$zui]=C$zuZ.copyArray([],C$zut[C$zui]);return C$zue},C$zue._frameLoop=function(){this._style.visible&&.01<this._style.alpha&&C$zut.prototype._frameLoop.call(this)},C$zue._displayToIndex=function(C$zut){this._frames&&(this.graphics=this._frames[C$zut])},C$zue.clear=function(){this.stop(),this.graphics=null,this._frames=null,this._labels=null},C$zue.loadImages=function(C$zut,C$zue){return void 0===C$zue&&(C$zue=""),this._url="",this._setFramesFromCache(C$zue)||(this.frames=$F.framesMap[C$zue]||$F.createFrames(C$zut,C$zue)),this},C$zue.loadAtlas=function(C$zue,C$zui,C$zun){void 0===C$zun&&(C$zun=""),this._url="";var C$zur=this;function $m(C$zut){C$zue===C$zut&&(C$zur.frames=$F.framesMap[C$zun]||$F.createFrames(C$zue,C$zun),C$zui&&C$zui.run())}return C$zur._setFramesFromCache(C$zun)||(C$zuht.getAtlas(C$zue)?$m(C$zue):C$zuy.loader.load(C$zue,C$zug.create(null,$m,[C$zue]),null,"atlas")),this},C$zue.loadAnimation=function(C$zut,C$zue,C$zui){return this._url=C$zut,this._actionName||(this._actionName=""),this._setFramesFromCache("")?(this._setFramesFromCache(this._actionName,!0),this.index=0,C$zue&&C$zue.run()):!C$zui||C$zuht.getAtlas(C$zui)?this._loadAnimationData(C$zut,C$zue,C$zui):C$zuy.loader.load(C$zui,C$zug.create(this,this._loadAnimationData,[C$zut,C$zue,C$zui]),null,"atlas"),this},C$zue._loadAnimationData=function(C$zua,C$zuo,C$zut){var C$zuh=this;var C$zul;function $p(C$zut){if(C$zuht.getRes(C$zut)&&C$zua===C$zut){var C$zue;if($F.framesMap[C$zua+"#"])C$zul._setFramesFromCache(C$zuh._actionName,!0),C$zuh.index=0,C$zuh._checkResumePlaying();else{C$zut=C$zul._parseGraphicAnimation(C$zuht.getRes(C$zua));if(!C$zut)return;var C$zui,C$zun=C$zut.animationList,C$zur=0,C$zus=C$zun.length;for(C$zur=0;C$zur<C$zus;C$zur++)C$zue=C$zun[C$zur],$F.framesMap[C$zua+"#"+C$zue.name]=C$zue,C$zui=C$zui||C$zue;C$zui&&($F.framesMap[C$zua+"#"]=C$zui,C$zul._setFramesFromCache(C$zuh._actionName,!0),C$zuh.index=0),C$zuh._checkResumePlaying()}C$zuo&&C$zuo.run()}}!C$zut||C$zuht.getAtlas(C$zut)?(C$zul=this,C$zuht.getRes(C$zua)?$p(C$zua):C$zuy.loader.load(C$zua,C$zug.create(null,$p,[C$zua]),null,"json"),C$zuht.clearRes(C$zua)):console.warn("atlas load fail:"+C$zut)},C$zue._parseGraphicAnimation=function(C$zut){return C$zubt.parseAnimationData(C$zut)},C$zue._parseGraphicAnimationByData=function(C$zut){return C$zubt.parseAnimationByData(C$zut)},C$zun(0,C$zue,"frames",function(){return this._frames},function(C$zut){(this._frames=C$zut)&&(this._count=C$zut.length,this._isPlaying?this.play(this._index,this.loop,this._actionName):this.index=this._index)}),C$zun(0,C$zue,"autoPlay",null,function(C$zut){C$zut?this.play():this.stop()}),C$zun(0,C$zue,"source",null,function(C$zut){-1<C$zut.indexOf(".ani")?this.loadAnimation(C$zut):-1<C$zut.indexOf(".json")||-1<C$zut.indexOf("als")||-1<C$zut.indexOf("atlas")?this.loadAtlas(C$zut):this.loadImages(C$zut.split(","))}),C$zun(0,C$zue,"autoAnimation",null,function(C$zut){this.play(0,!0,C$zut,!1)}),$F.createFrames=function(C$zut,C$zue){var C$zui,C$zun,C$zur=0,C$zus=0;if("string"==typeof C$zut){var C$zua=C$zuht.getAtlas(C$zut);if(C$zua&&C$zua.length)for(C$zui=[],C$zur=0,C$zus=C$zua.length;C$zur<C$zus;C$zur++)(C$zun=new C$zum.createGraphics).drawTexture(C$zuht.getRes(C$zua[C$zur]),0,0),C$zui.push(C$zun)}else if(C$zut instanceof Array)for(C$zui=[],C$zur=0,C$zus=C$zut.length;C$zur<C$zus;C$zur++)(C$zun=new C$zum.createGraphics).loadImage(C$zut[C$zur],0,0),C$zui.push(C$zun);return C$zue&&($F.framesMap[C$zue]=C$zui),C$zui},$F.clearCache=function(C$zut){var C$zue,C$zui=C$zut+"#";for(C$zue in $F.framesMap)C$zue!==C$zut&&0!=C$zue.indexOf(C$zui)||delete $F.framesMap[C$zue]},$F.framesMap={}}(C$zue),function(C$zut){function $q(){this._targetDic=null,this._animationData=null,this._animationNewFrames=null,$q.__super.call(this),null==$q._sortIndexFun&&($q._sortIndexFun=C$zuD.sortByKey("index",!1,!0))}C$zui($q,"laya.display.FrameAnimation",C$zut);var C$zue=$q.prototype;return C$zue._setUp=function(C$zut,C$zue){this._labels=null,this._animationNewFrames=null,this._targetDic=C$zut,this._animationData=C$zue,this.interval=1e3/C$zue.frameRate,C$zue.parsed?(this._count=C$zue.count,this._labels=C$zue.labels,this._animationNewFrames=C$zue.animationNewFrames):(this._animationNewFrames=[],this._calculateDatas()),C$zue.parsed=!0,C$zue.labels=this._labels,C$zue.count=this._count,C$zue.animationNewFrames=this._animationNewFrames},C$zue.clear=function(){C$zut.prototype.clear.call(this),this._targetDic=null,this._animationData=null},C$zue._displayToIndex=function(C$zut){if(this._animationData){(C$zut=C$zut<0?0:C$zut)>this._count&&(C$zut=this._count);var C$zue=this._animationData.nodes,C$zui=0,C$zun=C$zue.length;for(C$zui=0;C$zui<C$zun;C$zui++)this._displayNodeToFrame(C$zue[C$zui],C$zut)}},C$zue._displayNodeToFrame=function(C$zut,C$zue,C$zui){var C$zun=(C$zui=C$zui||this._targetDic)[C$zut.target];if(C$zun){var C$zur,C$zus,C$zua=C$zut.frames,C$zuo=C$zut.keys,C$zuh=0,C$zul=C$zuo.length;for(C$zuh=0;C$zuh<C$zul;C$zuh++)C$zus=(C$zus=C$zua[C$zur=C$zuo[C$zuh]]).length>C$zue?C$zus[C$zue]:C$zus[C$zus.length-1],C$zun[C$zur]=C$zus}},C$zue._calculateDatas=function(){if(this._animationData){var C$zut,C$zue=this._animationData.nodes,C$zui=0,C$zun=C$zue.length;for(C$zui=this._count=0;C$zui<C$zun;C$zui++)C$zut=C$zue[C$zui],this._calculateNodeKeyFrames(C$zut);this._count+=1}},C$zue._calculateNodeKeyFrames=function(C$zut){var C$zue,C$zui,C$zun=C$zut.keyframes,C$zur=C$zut.target;for(C$zue in C$zut.frames||(C$zut.frames={}),C$zut.keys?C$zut.keys.length=0:C$zut.keys=[],C$zut.initValues||(C$zut.initValues={}),C$zun)C$zui=C$zun[C$zue],C$zut.frames[C$zue]||(C$zut.frames[C$zue]=[]),this._targetDic&&this._targetDic[C$zur]&&(C$zut.initValues[C$zue]=this._targetDic[C$zur][C$zue]),C$zui.sort($q._sortIndexFun),C$zut.keys.push(C$zue),this._calculateNodePropFrames(C$zui,C$zut.frames[C$zue],C$zue,C$zur)},C$zue.resetToInitState=function(){if(this._targetDic&&this._animationData){var C$zut,C$zue,C$zui=this._animationData.nodes,C$zun=0,C$zur=C$zui.length;for(C$zun=0;C$zun<C$zur;C$zun++)if(C$zue=(C$zut=C$zui[C$zun]).initValues){var C$zus,C$zua=this._targetDic[C$zut.target];if(C$zua)for(C$zus in C$zue)C$zua[C$zus]=C$zue[C$zus]}}},C$zue._calculateNodePropFrames=function(C$zut,C$zue,C$zui,C$zun){var C$zur=0,C$zus=C$zut.length-1;if(0<C$zus){for(C$zue.length=C$zut[C$zus].index+1,C$zur=0;C$zur<C$zus;C$zur++)this._dealKeyFrame(C$zut[C$zur]),this._calculateFrameValues(C$zut[C$zur],C$zut[C$zur+1],C$zue);this._dealKeyFrame(C$zut[C$zur])}0==C$zus&&(C$zue[C$zut[0].index]=C$zut[0].value,this._animationNewFrames&&(this._animationNewFrames[C$zut[0].index]=!0))},C$zue._dealKeyFrame=function(C$zut){C$zut.label&&""!=C$zut.label&&this.addLabel(C$zut.label,C$zut.index)},C$zue._calculateFrameValues=function(C$zut,C$zue,C$zui){var C$zun,C$zur=0,C$zus=C$zut.index,C$zua=C$zue.index,C$zuo=C$zut.value,C$zuh=C$zue.value-C$zut.value,C$zul=C$zua-C$zus;if(C$zua>this._count&&(this._count=C$zua),C$zut.tween)for(null==(C$zun=C$zuG[C$zut.tweenMethod])&&(C$zun=C$zuG.linearNone),C$zur=C$zus;C$zur<C$zua;C$zur++)C$zui[C$zur]=C$zun(C$zur-C$zus,C$zuo,C$zuh,C$zul),this._animationNewFrames&&(this._animationNewFrames[C$zur]=!0);else for(C$zur=C$zus;C$zur<C$zua;C$zur++)C$zui[C$zur]=C$zuo;this._animationNewFrames&&(this._animationNewFrames[C$zut.index]=!0,this._animationNewFrames[C$zue.index]=!0),C$zui[C$zue.index]=C$zue.value},$q._sortIndexFun=null,$q}(C$zue)),C$zuxt=function(C$zue){function $L(){this._focus=!1,this._multiline=!1,this._editable=!0,this._restrictPattern=null,this._type="text",this._prompt="",this._promptColor="#A9A9A9",this._originColor="#000000",this._content="",$L.__super.call(this),this._maxChars=1e5,this._width=100,this._height=20,this.multiline=!1,this.overflow=C$zumt.SCROLL,this.on("mousedown",this,this._onMouseDown),this.on("undisplay",this,this._onUnDisplay)}C$zui($L,"laya.display.Input",C$zue);var C$zut=$L.prototype;return C$zut.setSelection=function(C$zut,C$zue){this.focus=!0,laya.display.Input.inputElement.selectionStart=C$zut,laya.display.Input.inputElement.selectionEnd=C$zue},C$zut._onUnDisplay=function(C$zut){this.focus=!1},C$zut._onMouseDown=function(C$zut){this.focus=!0},C$zut._syncInputTransform=function(){var C$zut=this.nativeInput,C$zue=C$zuZ.getTransformRelativeToWindow(this,this.padding[3],this.padding[0]),C$zui=this._width-this.padding[1]-this.padding[3],C$zun=this._height-this.padding[0]-this.padding[2];C$zuw.isConchApp?(C$zut.setScale(C$zue.scaleX,C$zue.scaleY),C$zut.setSize(C$zui,C$zun),C$zut.setPos(C$zue.x,C$zue.y)):($L.iframeInput&&$L._showIOSInput(),$L.inputContainer.style.transform=$L.inputContainer.style.webkitTransform="scale("+C$zue.scaleX+","+C$zue.scaleY+") rotate("+C$zuy.stage.canvasDegree+"deg)",C$zut.style.width=C$zui+"px",C$zut.style.height=C$zun+"px",$L.inputContainer.style.left=C$zue.x+"px",$L.inputContainer.style.top=C$zue.y+"px")},C$zut.select=function(){this.nativeInput&&this.nativeInput.select&&this.nativeInput.select()},C$zut._setInputMethod=function(){$L.input.parentElement&&$L.inputContainer.removeChild($L.input),$L.area.parentElement&&$L.inputContainer.removeChild($L.area),$L.inputElement=this.nativeInput,$L.inputContainer.appendChild($L.inputElement),C$zumt.RightToLeft&&($L.inputElement.style.direction="rtl")},C$zut._focusIn=function(){laya.display.Input.isInputting=!0;var C$zut=this.nativeInput;this._focus=!0;var C$zue=C$zut.style;C$zue.whiteSpace=this.wordWrap?"pre-wrap":"nowrap",this._setPromptColor(),C$zut.readOnly=!this._editable,C$zuw.isConchApp&&(C$zut.setType(this._type),C$zut.setForbidEdit(!this._editable)),C$zut.maxLength=this._maxChars,this.padding,C$zut.type=this._type,C$zut.value=this._content,C$zut.placeholder=this._prompt,C$zuy.stage.off("keydown",this,this._onKeyDown),C$zuy.stage.on("keydown",this,this._onKeyDown),(C$zuy.stage.focus=this).event("focus"),C$zuM.onPC&&C$zut.focus(),C$zuM.onMiniGame||(this._text,this._text=null),this.typeset(),C$zut.setColor(this._originColor),C$zut.setFontSize(this.fontSize),C$zut.setFontFace(C$zuM.onIPhone&&C$zumt._fontFamilyMap[this.font]||this.font),C$zuw.isConchApp&&C$zut.setMultiAble&&C$zut.setMultiAble(this._multiline),C$zue.lineHeight=this.leading+this.fontSize+"px",C$zue.fontStyle=this.italic?"italic":"normal",C$zue.fontWeight=this.bold?"bold":"normal",C$zue.textAlign=this.align,C$zue.padding="0 0",this._syncInputTransform(),!C$zuw.isConchApp&&C$zuM.onPC&&C$zuy.timer.frameLoop(1,this,this._syncInputTransform)},C$zut._setPromptColor=function(){($L.promptStyleDOM=C$zuM.getElementById("promptStyle"))||(($L.promptStyleDOM=C$zuM.createElement("style")).setAttribute("id","promptStyle"),C$zuM.document.head.appendChild($L.promptStyleDOM)),$L.promptStyleDOM.innerText="input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {color:"+this._promptColor+"}input:-moz-placeholder, textarea:-moz-placeholder {color:"+this._promptColor+"}input::-moz-placeholder, textarea::-moz-placeholder {color:"+this._promptColor+"}input:-ms-input-placeholder, textarea:-ms-input-placeholder {color:"+this._promptColor+"}"},C$zut._focusOut=function(){laya.display.Input.isInputting=!1,this._focus=!1,this._text=null,this._content=this.nativeInput.value,this._content?(C$zuy.superSet(C$zumt,this,"text",this._content),C$zuy.superSet(C$zumt,this,"color",this._originColor)):(C$zuy.superSet(C$zumt,this,"text",this._prompt),C$zuy.superSet(C$zumt,this,"color",this._promptColor)),C$zuy.stage.off("keydown",this,this._onKeyDown),C$zuy.stage.focus=null,this.event("blur"),C$zuw.isConchApp&&this.nativeInput.blur(),C$zuM.onPC&&C$zuy.timer.clear(this,this._syncInputTransform)},C$zut._onKeyDown=function(C$zut){13===C$zut.keyCode&&(C$zuM.onMobile&&!this._multiline&&(this.focus=!1),this.event("enter"))},C$zut.changeText=function(C$zut){this._content=C$zut,this._focus?(this.nativeInput.value=C$zut||"",this.event("change")):C$zue.prototype.changeText.call(this,C$zut)},C$zun(0,C$zut,"color",C$zue.prototype._$get_color,function(C$zut){this._focus&&this.nativeInput.setColor(C$zut),C$zuy.superSet(C$zumt,this,"color",this._content?C$zut:this._promptColor),this._originColor=C$zut}),C$zun(0,C$zut,"inputElementYAdjuster",function(){return console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementYAdjuster\u5df2\u5f03\u7528\u3002"),0},function(C$zut){console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementYAdjuster\u5df2\u5f03\u7528\u3002")}),C$zun(0,C$zut,"multiline",function(){return this._multiline},function(C$zut){this._multiline=C$zut,this.valign=C$zut?"top":"middle"}),C$zun(0,C$zut,"maxChars",function(){return this._maxChars},function(C$zut){this._maxChars=C$zut=C$zut<=0?1e5:C$zut}),C$zun(0,C$zut,"text",function(){return this._focus?this.nativeInput.value:this._content||""},function(C$zut){C$zuy.superSet(C$zumt,this,"color",this._originColor),C$zut+="",this._focus?(this.nativeInput.value=C$zut||"",this.event("change")):(this._multiline||(C$zut=C$zut.replace(/\r?\n/g,"")),(this._content=C$zut)?C$zuy.superSet(C$zumt,this,"text",C$zut):(C$zuy.superSet(C$zumt,this,"text",this._prompt),C$zuy.superSet(C$zumt,this,"color",this.promptColor)))}),C$zun(0,C$zut,"nativeInput",function(){return $L.iframeInput||(this._multiline?$L.area:$L.input)}),C$zun(0,C$zut,"prompt",function(){return this._prompt},function(C$zut){!this._text&&C$zut&&C$zuy.superSet(C$zumt,this,"color",this._promptColor),this.promptColor=this._promptColor,this._text?C$zuy.superSet(C$zumt,this,"text",this._text==this._prompt?C$zut:this._text):C$zuy.superSet(C$zumt,this,"text",C$zut),this._prompt=C$zumt.langPacks&&C$zumt.langPacks[C$zut]?C$zumt.langPacks[C$zut]:C$zut}),C$zun(0,C$zut,"focus",function(){return this._focus},function(C$zut){var C$zue=this.nativeInput;this._focus!==C$zut&&(C$zut?(C$zue.target?C$zue.target._focusOut():this._setInputMethod(),(C$zue.target=this)._focusIn()):(C$zue.target=null,this._focusOut(),C$zuM.document.body.scrollTop=0,C$zue.blur(),C$zuw.isConchApp?C$zue.setPos(-1e4,-1e4):$L.inputContainer.contains(C$zue)&&$L.inputContainer.removeChild(C$zue)))}),C$zun(0,C$zut,"restrict",function(){return this._restrictPattern?this._restrictPattern.source:""},function(C$zut){C$zut?(-1<(C$zut="[^"+C$zut+"]").indexOf("^^")&&(C$zut=C$zut.replace("^^","")),this._restrictPattern=new RegExp(C$zut,"g")):this._restrictPattern=null}),C$zun(0,C$zut,"editable",function(){return this._editable},function(C$zut){this._editable=C$zut,C$zuw.isConchApp&&$L.input.setForbidEdit(!C$zut)}),C$zun(0,C$zut,"promptColor",function(){return this._promptColor},function(C$zut){this._promptColor=C$zut,this._content||C$zuy.superSet(C$zumt,this,"color",C$zut)}),C$zun(0,C$zut,"type",function(){return this._type},function(C$zut){this._getCSSStyle().password="password"==C$zut,this._type=C$zut,C$zuw.isConchApp&&this.nativeInput.setType(C$zut)}),C$zun(0,C$zut,"inputElementXAdjuster",function(){return console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementXAdjuster\u5df2\u5f03\u7528\u3002"),0},function(C$zut){console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementXAdjuster\u5df2\u5f03\u7528\u3002")}),C$zun(0,C$zut,"asPassword",function(){return this._getCSSStyle().password},function(C$zut){this._getCSSStyle().password=C$zut,this._type="password",console.warn('deprecated: \u4f7f\u7528type="password"\u66ff\u4ee3\u8bbe\u7f6easPassword, asPassword\u5c06\u5728\u4e0b\u6b21\u91cd\u5927\u66f4\u65b0\u65f6\u5220\u53bb'),this.isChanged=!0}),$L.__init__=function(){$L._createInputElement(),C$zuM.onMobile&&C$zuw.canvas.addEventListener(!$L.IOS_IFRAME||C$zuM.onMiniGame?"touchend":"click",$L._popupInputMethod)},$L._popupInputMethod=function(C$zut){laya.display.Input.isInputting&&laya.display.Input.inputElement.focus()},$L._createInputElement=function(){$L._initInput($L.area=C$zuM.createElement("textarea")),$L._initInput($L.input=C$zuM.createElement("input")),$L._createIOSInputElement(),($L.inputContainer=C$zuM.createElement("div")).style.position="absolute",$L.inputContainer.style.zIndex=1e5,C$zuM.container.appendChild($L.inputContainer),$L.inputContainer.setPos=function(C$zut,C$zue){$L.inputContainer.style.left=C$zut+"px",$L.inputContainer.style.top=C$zue+"px"}},$L._createIOSInputElement=function(){var C$zue;$L.IS_IOS&&(C$zuM.getElementById("inputIframe")||((C$zue=C$zuM.createElement("iframe")).id="inputIframe",C$zue.onload=function(){C$zue.style="position: none; width: 0%; height: 0%;";var C$zut=C$zue.contentDocument.getElementsByTagName("input");C$zut=C$zut?C$zut[0]:null,($L.iframeInput=C$zut)&&$L._initInput(C$zut)},C$zuM.container.appendChild(C$zue),C$zue.src="./input.html"))},$L._reLoadIOSInputElement=function(){var C$zut=C$zuM.getElementById("inputIframe");C$zut&&($L.iframeInput.target&&($L.iframeInput.target.focus=!1),$L.iframeInput.onblur=null,$L.iframeInput.onload=null,C$zut.src="./input.html")},$L._showIOSInput=function(){C$zuM.getElementById("inputIframe")&&($L.iframeInput.value=$L.iframeInput.target.text,$L.iframeInput.onblur=function(){$L._reLoadIOSInputElement()})},$L._initInput=function(C$zue){var C$zut=C$zue.style;C$zut.cssText="position:absolute;overflow:hidden;resize:none;transform-origin:0 0;-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-o-transform-origin:0 0;",C$zut.resize="none",C$zut.backgroundColor="transparent",C$zut.border="none",C$zut.outline="none",C$zut.zIndex=1,C$zue.addEventListener("input",$L._processInputting),C$zue.addEventListener("mousemove",$L._stopEvent),C$zue.addEventListener("mousedown",$L._stopEvent),C$zue.addEventListener("touchmove",$L._stopEvent),C$zue.setFontFace=function(C$zut){C$zue.style.fontFamily=C$zut},C$zuw.isConchApp||(C$zue.setColor=function(C$zut){C$zue.style.color=C$zut},C$zue.setFontSize=function(C$zut){C$zue.style.fontSize=C$zut+"px"})},$L._processInputting=function(C$zut){var C$zue=laya.display.Input.inputElement.target;var C$zui;C$zue&&(C$zui=laya.display.Input.inputElement.value,C$zue._restrictPattern&&(C$zui=C$zui.replace(/\u2006|\x27/g,""),C$zue._restrictPattern.test(C$zui)&&(C$zui=C$zui.replace(C$zue._restrictPattern,""),laya.display.Input.inputElement.value=C$zui)),C$zue._text=C$zui,C$zue.event("input"))},$L._stopEvent=function(C$zut){"touchmove"==C$zut.type&&C$zut.preventDefault(),C$zut.stopPropagation&&C$zut.stopPropagation()},$L.TYPE_TEXT="text",$L.TYPE_PASSWORD="password",$L.TYPE_EMAIL="email",$L.TYPE_URL="url",$L.TYPE_NUMBER="number",$L.TYPE_RANGE="range",$L.TYPE_DATE="date",$L.TYPE_MONTH="month",$L.TYPE_WEEK="week",$L.TYPE_TIME="time",$L.TYPE_DATE_TIME="datetime",$L.TYPE_DATE_TIME_LOCAL="datetime-local",$L.TYPE_SEARCH="search",$L.input=null,$L.area=null,$L.inputElement=null,$L.inputContainer=null,$L.confirmButton=null,$L.promptStyleDOM=null,$L.inputHeight=45,$L.isInputting=!1,$L.stageMatrix=null,C$zua($L,["IOS_IFRAME",function(){return this.IOS_IFRAME=C$zuM.onIOS&&C$zuM.window.top!=C$zuM.window.self}]),C$zua($L,["IS_IOS",function(){return this.IS_IOS=!1}]),$L}(C$zumt),C$zuyt=function(){function $h(C$zut,C$zue){this._recreateLock=!1,this._needReleaseAgain=!1,this._enableMerageInAtlas=!0,$h.__super.call(this),C$zut&&this._init_(C$zut,C$zue)}C$zui($h,"laya.resource.HTMLImage",C$zuvt);var C$zut=$h.prototype;return C$zut._init_=function(C$zut,C$zue){this._src=C$zut,this._source=new C$zuM.window.Image,C$zue&&(C$zue.onload&&(this.onload=C$zue.onload),C$zue.onerror&&(this.onerror=C$zue.onerror),C$zue.onCreate&&C$zue.onCreate(this)),0!=C$zut.indexOf("data:image")&&(this._source.crossOrigin=""),C$zut&&(this._source.src=C$zut)},C$zut.recreateResource=function(){var C$zut=this;if(""===this._src)throw new Error("src no null\uff01");var C$zue;this._needReleaseAgain=!1,this._source?this._recreateLock||(this.memorySize=this._w*this._h*4,this._recreateLock=!1,this.completeCreate()):(this._recreateLock=!0,(C$zue=this)._source=new C$zuM.window.Image,this._source.crossOrigin="",this._source.onload=function(){if(C$zue._needReleaseAgain)return C$zue._needReleaseAgain=!1,C$zue._source.onload=null,void(C$zue._source=null);C$zue._source.onload=null,C$zue.memorySize=C$zut._w*C$zut._h*4,C$zue._recreateLock=!1,C$zue.completeCreate()},this._source.src=this._src)},C$zut.disposeResource=function(){this._recreateLock&&(this._needReleaseAgain=!0),this._source&&(this._source=null,this.memorySize=0)},C$zut.onresize=function(){this._w=this._source.width,this._h=this._source.height},C$zun(0,C$zut,"onload",null,function(C$zut){var C$zue=this;this._onload=C$zut,this._source&&(this._source.onload=null!=this._onload?function(){C$zue.onresize(),C$zue._onload()}:null)}),C$zun(0,C$zut,"onerror",null,function(C$zut){var C$zue=this;this._onerror=C$zut,this._source&&(this._source.onerror=null!=this._onerror?function(){C$zue._onerror()}:null)}),C$zun(0,C$zut,"enableMerageInAtlas",function(){return this._enableMerageInAtlas},function(C$zut){this._enableMerageInAtlas=C$zut,C$zuw.isConchApp&&this._source&&(this._source.enableMerageInAtlas=C$zut)}),$h.create=function(C$zut,C$zue){return new $h(C$zut,C$zue)},$h}(),C$zubt=(function(C$zus){function $m(){this._target=null,this._playEvents=null,this._initData={},this._aniKeys=null,this._effectClass=null,$m.__super.call(this)}C$zui($m,"laya.display.EffectAnimation",C$zus);var C$zut=$m.prototype;C$zut._onOtherBegin=function(C$zut){C$zut!=this&&this.stop()},C$zut.addEvent=function(){this._target&&this._playEvents&&(this._setControlNode(this._target),this._target.on(this._playEvents,this,this._onPlayAction))},C$zut._onPlayAction=function(){this.play(0,!1)},C$zut.play=function(C$zut,C$zue,C$zui,C$zun){void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=!0),void 0===C$zui&&(C$zui=""),void 0===C$zun&&(C$zun=!0),this._target&&(this._target.event("effectanimationbegin",[this]),this._recordInitData(),laya.display.AnimationPlayerBase.prototype.play.call(this,C$zut,C$zue,C$zui,C$zun))},C$zut._recordInitData=function(){if(this._aniKeys){var C$zut,C$zue,C$zui=0;for(C$zut=this._aniKeys.length,C$zui=0;C$zui<C$zut;C$zui++)C$zue=this._aniKeys[C$zui],this._initData[C$zue]=this._target[C$zue]}},C$zut._displayToIndex=function(C$zut){if(this._animationData){(C$zut=C$zut<0?0:C$zut)>this._count&&(C$zut=this._count);var C$zue=this._animationData.nodes,C$zui=0,C$zun=C$zue.length;for(C$zun=1<C$zun?1:C$zun,C$zui=0;C$zui<C$zun;C$zui++)this._displayNodeToFrame(C$zue[C$zui],C$zut)}},C$zut._displayNodeToFrame=function(C$zut,C$zue,C$zuu){if(this._target){var C$zui;C$zui=this._target;var C$zun,C$zur,C$zus,C$zuc=C$zut.frames,C$zua=C$zut.keys,C$zuo=0,C$zu_=C$zua.length;C$zus=C$zut.secondFrames;var C$zuh,C$zul;for(C$zuo=0;C$zuo<C$zu_;C$zuo++)C$zur=C$zuc[C$zun=C$zua[C$zuo]],C$zuh=-1==(C$zul=C$zus[C$zun])?this._initData[C$zun]:C$zue<C$zul?(C$zuh=(C$zul=C$zut.keyframes[C$zun])[0]).tween?(null==(C$zuh=C$zuG[C$zuh.tweenMethod])&&(C$zuh=C$zuG.linearNone),C$zul=C$zul[1],C$zuh(C$zue,this._initData[C$zun],C$zul.value-this._initData[C$zun],C$zul.index)):this._initData[C$zun]:C$zur.length>C$zue?C$zur[C$zue]:C$zur[C$zur.length-1],C$zui[C$zun]=C$zuh}},C$zut._calculateNodeKeyFrames=function(C$zut){C$zus.prototype._calculateNodeKeyFrames.call(this,C$zut);var C$zue,C$zui,C$zun,C$zur=C$zut.keyframes;for(C$zue in C$zut.target,C$zut.secondFrames=C$zun={},C$zur)(C$zui=C$zur[C$zue]).length<=1?C$zun[C$zue]=-1:C$zun[C$zue]=C$zui[1].index},C$zun(0,C$zut,"target",function(){return this._target},function(C$zut){this._target&&this._target.off("effectanimationbegin",this,this._onOtherBegin),this._target=C$zut,this._target&&this._target.on("effectanimationbegin",this,this._onOtherBegin),this.addEvent()}),C$zun(0,C$zut,"playEvent",null,function(C$zut){(this._playEvents=C$zut)&&this.addEvent()}),C$zun(0,C$zut,"effectData",null,function(C$zut){var C$zue;C$zut&&(C$zue=C$zut.animations)&&C$zue[0]&&(this._setUp({},C$zue[0]),C$zue[0].nodes&&C$zue[0].nodes[0]&&(this._aniKeys=C$zue[0].nodes[0].keys))}),C$zun(0,C$zut,"effectClass",null,function(C$zut){var C$zue,C$zui;this._effectClass=C$zuH.getClass(C$zut),this._effectClass&&(C$zue=this._effectClass.uiView)&&(C$zui=C$zue.animations)&&C$zui[0]&&(this._setUp({},C$zui[0]),C$zui[0].nodes&&C$zui[0].nodes[0]&&(this._aniKeys=C$zui[0].nodes[0].keys))}),$m.EffectAnimationBegin="effectanimationbegin"}(C$zue),C$zui($x,"laya.utils.GraphicAnimation",C$zuTt=C$zue),(C$zue=$x.prototype)._parseNodeList=function(C$zut){this._nodeList||(this._nodeList=[]),this._nodeDefaultProps[C$zut.compId]=C$zut.props,C$zut.compId&&this._nodeList.push(C$zut.compId);var C$zue=C$zut.child;if(C$zue){var C$zui=0,C$zun=C$zue.length;for(C$zui=0;C$zui<C$zun;C$zui++)this._parseNodeList(C$zue[C$zui])}},C$zue._calGraphicData=function(C$zut){if(this._setUp(null,C$zut),this._createGraphicData(),this._nodeIDAniDic)for(var C$zue in this._nodeIDAniDic)this._nodeIDAniDic[C$zue]=null},C$zue._createGraphicData=function(){var C$zut,C$zue=[],C$zui=0,C$zun=this.count,C$zur=this._animationNewFrames;for(C$zur=C$zur||[],C$zui=0;C$zui<C$zun;C$zui++)!C$zur[C$zui]&&C$zut||(C$zut=this._createFrameGraphic(C$zui)),C$zue.push(C$zut);this._gList=C$zue},C$zue._createFrameGraphic=function(C$zut){var C$zue=C$zum.createGraphics();return $x._rootMatrix||($x._rootMatrix=new C$zuE),this._updateNodeGraphic(this._rootNode,C$zut,$x._rootMatrix,C$zue),C$zue},C$zue._updateNodeGraphic=function(C$zut,C$zue,C$zuu,C$zui,C$zun){var C$zur;void 0===C$zun&&(C$zun=1);var C$zus,C$zua,C$zuo,C$zuh=(C$zur=this._nodeGDic[C$zut.compId]=this._getNodeGraphicData(C$zut.compId,C$zue,this._nodeGDic[C$zut.compId])).alpha*C$zun;if(!(C$zuh<.01)&&(C$zur.resultTransform||(C$zur.resultTransform=C$zuE.create()),C$zus=C$zur.resultTransform,C$zuE.mul(C$zur.transform,C$zuu,C$zus),C$zur.skin&&(C$zua=this._getTextureByUrl(C$zur.skin))&&(C$zus._checkTransform()?(C$zui.drawTexture(C$zua,0,0,C$zur.width,C$zur.height,C$zus,C$zuh),C$zur.resultTransform=null):C$zui.drawTexture(C$zua,C$zus.tx,C$zus.ty,C$zur.width,C$zur.height,null,C$zuh)),C$zuo=C$zut.child)){var C$zuc,C$zul=0;for(C$zuc=C$zuo.length,C$zul=0;C$zul<C$zuc;C$zul++)this._updateNodeGraphic(C$zuo[C$zul],C$zue,C$zus,C$zui,C$zuh)}},C$zue._updateNoChilds=function(C$zut,C$zue){var C$zui,C$zun;!C$zut.skin||(C$zui=this._getTextureByUrl(C$zut.skin))&&((C$zun=C$zut.transform)._checkTransform(),C$zun.bTransform?C$zue.drawTexture(C$zui,0,0,C$zut.width,C$zut.height,C$zun.clone(),C$zut.alpha):C$zue.drawTexture(C$zui,C$zun.tx,C$zun.ty,C$zut.width,C$zut.height,null,C$zut.alpha))},C$zue._updateNodeGraphic2=function(C$zut,C$zue,C$zui){var C$zun;if(C$zun=this._nodeGDic[C$zut.compId]=this._getNodeGraphicData(C$zut.compId,C$zue,this._nodeGDic[C$zut.compId]),C$zut.child){var C$zur=C$zun.transform;var C$zus,C$zua;var C$zuo,C$zuh,C$zuu;if(C$zur._checkTransform(),C$zua=(C$zus=!C$zur.bTransform)&&(0!=C$zur.tx||0!=C$zur.ty),(C$zuo=C$zur.bTransform||1!=C$zun.alpha)&&C$zui.save(),1!=C$zun.alpha&&C$zui.alpha(C$zun.alpha),C$zus?C$zua&&C$zui.translate(C$zur.tx,C$zur.ty):C$zui.transform(C$zur.clone()),C$zuh=C$zut.child,C$zun.skin&&(C$zuu=this._getTextureByUrl(C$zun.skin))&&C$zui.drawTexture(C$zuu,0,0,C$zun.width,C$zun.height),C$zuh){var C$zuc,C$zul=0;for(C$zuc=C$zuh.length,C$zul=0;C$zul<C$zuc;C$zul++)this._updateNodeGraphic2(C$zuh[C$zul],C$zue,C$zui)}C$zuo?C$zui.restore():C$zus?C$zua&&C$zui.translate(-C$zur.tx,-C$zur.ty):C$zui.transform(C$zur.clone().invert())}else this._updateNoChilds(C$zun,C$zui)},C$zue._calculateNodeKeyFrames=function(C$zut){C$zuTt.prototype._calculateNodeKeyFrames.call(this,C$zut),this._nodeIDAniDic[C$zut.target]=C$zut},C$zue.getNodeDataByID=function(C$zut){return this._nodeIDAniDic[C$zut]},C$zue._getParams=function(C$zut,C$zue,C$zui,C$zun){var C$zur=$x._temParam;C$zur.length=C$zue.length;var C$zus=0,C$zua=C$zue.length;for(C$zus=0;C$zus<C$zua;C$zus++)C$zur[C$zus]=this._getObjVar(C$zut,C$zue[C$zus][0],C$zui,C$zue[C$zus][1],C$zun);return C$zur},C$zue._getObjVar=function(C$zut,C$zue,C$zui,C$zun,C$zur){if(C$zut.hasOwnProperty(C$zue)){var C$zus=C$zut[C$zue];if(C$zui>=C$zus.length&&(C$zui=C$zus.length-1),null!=C$zut[C$zue][C$zui])return C$zut[C$zue][C$zui]}return C$zur.hasOwnProperty(C$zue)?C$zur[C$zue]:C$zun},C$zue._getNodeGraphicData=function(C$zut,C$zue,C$zui){(C$zui=C$zui||C$zuwt.create()).transform?C$zui.transform.identity():C$zui.transform=C$zuE.create();var C$zun=this.getNodeDataByID(C$zut);if(!C$zun)return C$zui;var C$zur,C$zun=C$zun.frames,C$zun=this._getParams(C$zun,$x._drawTextureCmd,C$zue,this._nodeDefaultProps[C$zut]),C$zue=C$zun[0],C$zut=NaN,C$zus=NaN,C$zua=C$zun[5],C$zuo=C$zun[6],C$zuh=C$zun[13],C$zul=C$zun[14],C$zuu=C$zun[7],C$zuc=C$zun[8],C$zu_=C$zun[9],C$zud=C$zun[11],C$zuf=C$zun[12];C$zut=C$zun[3],C$zus=C$zun[4],0!=C$zut&&0!=C$zus||(C$zue=null),-1==C$zut&&(C$zut=0),-1==C$zus&&(C$zus=0),C$zui.skin=C$zue,C$zui.width=C$zut,C$zui.height=C$zus,C$zue&&((C$zur=this._getTextureByUrl(C$zue))?(C$zut=C$zut||C$zur.sourceWidth,C$zus=C$zus||C$zur.sourceHeight):console.warn("lost skin:",C$zue,",you may load pics first")),C$zui.alpha=C$zun[10],C$zur=C$zui.transform,0!=C$zul&&(C$zuo=C$zul*C$zus),0==(C$zua=0!=C$zuh?C$zuh*C$zut:C$zua)&&0==C$zuo||C$zur.translate(-C$zua,-C$zuo);C$zue=null;return(C$zu_||1!==C$zuu||1!==C$zuc||C$zud||C$zuf)&&((C$zue=$x._tempMt).identity(),C$zue.bTransform=!0,C$zul=.0174532922222222*(C$zu_-C$zud),C$zus=.0174532922222222*(C$zu_+C$zuf),C$zuh=Math.cos(C$zus),C$zut=Math.sin(C$zus),C$zua=Math.sin(C$zul),C$zuo=Math.cos(C$zul),C$zue.a=C$zuu*C$zuh,C$zue.b=C$zuu*C$zut,C$zue.c=-C$zuc*C$zua,C$zue.d=C$zuc*C$zuo,C$zue.tx=C$zue.ty=0),(C$zur=C$zue?C$zuE.mul(C$zur,C$zue,C$zur):C$zur).translate(C$zun[1],C$zun[2]),C$zui},C$zue._getTextureByUrl=function(C$zut){return C$zuht.getRes(C$zut)},C$zue.setAniData=function(C$zut,C$zue){if(C$zut.animations){this._nodeDefaultProps={},this._nodeGDic={},this._nodeList&&(this._nodeList.length=0),this._rootNode=C$zut,this._parseNodeList(C$zut);var C$zui,C$zun={},C$zur=[],C$zus=C$zut.animations,C$zua=0,C$zuo=C$zus.length;for(C$zua=0;C$zua<C$zuo;C$zua++)if(C$zui=C$zus[C$zua],this._labels=null,(!C$zue||C$zue==C$zui.name)&&C$zui){try{this._calGraphicData(C$zui)}catch(C$zut){console.warn("parse animation fail:"+C$zui.name+",empty animation created"),this._gList=[]}var C$zuh={};C$zuh.interval=1e3/C$zui.frameRate,C$zuh.frames=this._gList,C$zuh.labels=this._labels,C$zuh.name=C$zui.name,C$zur.push(C$zuh),C$zun[C$zui.name]=C$zuh}this.animationList=C$zur,this.animationDic=C$zun}$x._temParam.length=0},C$zue.parseByData=function(C$zut){var C$zue;C$zui=C$zut.nodeRoot,C$zue=C$zut.aniO,delete C$zut.nodeRoot,delete C$zut.aniO,this._nodeDefaultProps={},this._nodeGDic={},this._nodeList&&(this._nodeList.length=0),this._rootNode=C$zui,this._parseNodeList(C$zui),this._labels=null;try{this._calGraphicData(C$zue)}catch(C$zut){console.warn("parse animation fail:"+C$zue.name+",empty animation created"),this._gList=[]}var C$zui=C$zut;return C$zui.interval=1e3/C$zue.frameRate,C$zui.frames=this._gList,C$zui.labels=this._labels,C$zui.name=C$zue.name,C$zui},C$zue.setUpAniData=function(C$zut){if(C$zut.animations){var C$zue,C$zui={},C$zun=[],C$zur=C$zut.animations,C$zus=0,C$zua=C$zur.length;for(C$zus=0;C$zus<C$zua;C$zus++){var C$zuo;(C$zue=C$zur[C$zus])&&((C$zuo={}).name=C$zue.name,C$zuo.aniO=C$zue,C$zuo.nodeRoot=C$zut,C$zun.push(C$zuo),C$zui[C$zue.name]=C$zuo)}this.animationList=C$zun,this.animationDic=C$zui}},C$zue._clear=function(){var C$zut,C$zue;if(this.animationList=null,this.animationDic=null,this._gList=null,this._nodeGDic)for(C$zut in this._nodeGDic)(C$zue=this._nodeGDic[C$zut])&&C$zue.recover();this._nodeGDic=null},$x.parseAnimationByData=function(C$zut){return C$zut=($x._I=$x._I?$x._I:new $x).parseByData(C$zut),$x._I._clear(),C$zut},$x.parseAnimationData=function(C$zut){return($x._I=$x._I?$x._I:new $x).setUpAniData(C$zut),(C$zut={}).animationList=$x._I.animationList,C$zut.animationDic=$x._I.animationDic,$x._I._clear(),C$zut},$x._drawTextureCmd=[["skin",null],["x",0],["y",0],["width",-1],["height",-1],["pivotX",0],["pivotY",0],["scaleX",1],["scaleY",1],["rotation",0],["alpha",1],["skewX",0],["skewY",0],["anchorX",0],["anchorY",0]],$x._temParam=[],$x._I=null,$x._rootMatrix=null,C$zua($x,["_tempMt",function(){return this._tempMt=new C$zuE}]),$x.__init$=function(){function $m(){this.skin=null,this.transform=null,this.resultTransform=null,this.width=NaN,this.height=NaN,this.alpha=1}C$zui($m,""),$m.prototype.recover=function(){this.skin=null,this.width=0,this.height=0,this.alpha=1,this.transform&&(this.transform.destroy(),this.transform=null),this.resultTransform&&(this.resultTransform.destroy(),this.resultTransform=null),C$zuX.recover("GraphicNode",this)},$m.create=function(){return C$zuX.getItemByClass("GraphicNode",$m)},C$zuwt=$m},$x);function $x(){this.animationList=null,this.animationDic=null,this._nodeList=null,this._nodeDefaultProps=null,this._gList=null,this._nodeIDAniDic={},this._rootNode=null,this._nodeGDic=null,$x.__super.call(this)}var C$zuTt,C$zuwt;function $T(){this._data=null,this._class=null,this._url=null,this._type=null,this._cache=!1,this._http=null,this._customParse=!1,$T.__super.call(this),this._onImageCallback=this._loadImageComplete.bind(this),this._onLoadedCallback=this._loadedComplete.bind(this),this.priority=-1,this.realTime=!1}function $R(C$zut){this._bgground=null,this._border=null,this._rect=null,this.underLine=0,this.lineHeight=0,$R.__super.call(this),this._padding=$R._PADDING,this._spacing=$R._SPACING,this._aligns=$R._ALIGNS,this._font=C$zuu.EMPTY,this._ower=C$zut}var C$zut;function $$(){}function $Y(){this._repaint=!1}function $k(C$zut,C$zue,C$zui){this.x=0,this.y=0,this._drawTexture=function(C$zut,C$zue,C$zui){C$zui[0].loaded&&this.ctx.drawTexture(C$zui[0],C$zui[1],C$zui[2],C$zui[3],C$zui[4],C$zut,C$zue)},this._fillTexture=function(C$zut,C$zue,C$zui){C$zui[0].loaded&&this.ctx.fillTexture(C$zui[0],C$zui[1]+C$zut,C$zui[2]+C$zue,C$zui[3],C$zui[4],C$zui[5],C$zui[6],C$zui[7])},this._drawTextureWithTransform=function(C$zut,C$zue,C$zui){C$zui[0].loaded&&this.ctx.drawTextureWithTransform(C$zui[0],C$zui[1],C$zui[2],C$zui[3],C$zui[4],C$zui[5],C$zut,C$zue,C$zui[6])},this._fillQuadrangle=function(C$zut,C$zue,C$zui){this.ctx.fillQuadrangle(C$zui[0],C$zui[1],C$zui[2],C$zui[3],C$zui[4])},this._drawRect=function(C$zut,C$zue,C$zui){var C$zun=this.ctx;null!=C$zui[4]&&(C$zun.fillStyle=C$zui[4],C$zun.fillRect(C$zut+C$zui[0],C$zue+C$zui[1],C$zui[2],C$zui[3],null)),null!=C$zui[5]&&(C$zun.strokeStyle=C$zui[5],C$zun.lineWidth=C$zui[6],C$zun.strokeRect(C$zut+C$zui[0],C$zue+C$zui[1],C$zui[2],C$zui[3],C$zui[6]))},this._drawPie=function(C$zut,C$zue,C$zui){var C$zun=this.ctx;C$zuw.isWebGL&&C$zun.setPathId(C$zui[8]),C$zun.beginPath(),C$zuw.isWebGL?(C$zun.movePath(C$zui[0]+C$zut,C$zui[1]+C$zue),C$zun.moveTo(0,0)):C$zun.moveTo(C$zut+C$zui[0],C$zue+C$zui[1]),C$zun.arc(C$zut+C$zui[0],C$zue+C$zui[1],C$zui[2],C$zui[3],C$zui[4]),C$zun.closePath(),this._fillAndStroke(C$zui[5],C$zui[6],C$zui[7],!0)},this._clipRect=function(C$zut,C$zue,C$zui){this.ctx.clipRect(C$zut+C$zui[0],C$zue+C$zui[1],C$zui[2],C$zui[3])},this._fillRect=function(C$zut,C$zue,C$zui){this.ctx.fillRect(C$zut+C$zui[0],C$zue+C$zui[1],C$zui[2],C$zui[3],C$zui[4])},this._drawCircle=function(C$zut,C$zue,C$zui){var C$zun=this.ctx;C$zuw.isWebGL&&C$zun.setPathId(C$zui[6]),C$zuK.drawCall++,C$zun.beginPath(),C$zuw.isWebGL&&C$zun.movePath(C$zui[0]+C$zut,C$zui[1]+C$zue),C$zun.arc(C$zui[0]+C$zut,C$zui[1]+C$zue,C$zui[2],0,$k.PI2),C$zun.closePath(),this._fillAndStroke(C$zui[3],C$zui[4],C$zui[5],!0)},this._fillCircle=function(C$zut,C$zue,C$zui){C$zuK.drawCall++;var C$zun=this.ctx;C$zun.beginPath(),C$zun.fillStyle=C$zui[3],C$zun.arc(C$zui[0]+C$zut,C$zui[1]+C$zue,C$zui[2],0,$k.PI2),C$zun.fill()},this._setShader=function(C$zut,C$zue,C$zui){this.ctx.setShader(C$zui[0])},this._drawLine=function(C$zut,C$zue,C$zui){var C$zun=this.ctx;C$zuw.isWebGL&&C$zun.setPathId(C$zui[6]),C$zun.beginPath(),C$zun.strokeStyle=C$zui[4],C$zun.lineWidth=C$zui[5],C$zuw.isWebGL?(C$zun.movePath(C$zut,C$zue),C$zun.moveTo(C$zui[0],C$zui[1]),C$zun.lineTo(C$zui[2],C$zui[3])):(C$zun.moveTo(C$zut+C$zui[0],C$zue+C$zui[1]),C$zun.lineTo(C$zut+C$zui[2],C$zue+C$zui[3])),C$zun.stroke()},this._drawLines=function(C$zut,C$zue,C$zui){var C$zun=this.ctx;C$zuw.isWebGL&&C$zun.setPathId(C$zui[5]),C$zun.beginPath(),C$zut+=C$zui[0],C$zue+=C$zui[1],C$zuw.isWebGL&&C$zun.movePath(C$zut,C$zue),C$zun.strokeStyle=C$zui[3],C$zun.lineWidth=C$zui[4];var C$zur=C$zui[2],C$zus=2,C$zua=C$zur.length;if(C$zuw.isWebGL)for(C$zun.moveTo(C$zur[0],C$zur[1]);C$zus<C$zua;)C$zun.lineTo(C$zur[C$zus++],C$zur[C$zus++]);else for(C$zun.moveTo(C$zut+C$zur[0],C$zue+C$zur[1]);C$zus<C$zua;)C$zun.lineTo(C$zut+C$zur[C$zus++],C$zue+C$zur[C$zus++]);C$zun.stroke()},this._drawLinesWebGL=function(C$zut,C$zue,C$zui){this.ctx.drawLines(C$zut+this.x+C$zui[0],C$zue+this.y+C$zui[1],C$zui[2],C$zui[3],C$zui[4])},this._drawCurves=function(C$zut,C$zue,C$zui){this.ctx.drawCurves(C$zut,C$zue,C$zui)},this._draw=function(C$zut,C$zue,C$zui){C$zui[0].call(null,this,C$zut,C$zue)},this._transformByMatrix=function(C$zut,C$zue,C$zui){this.ctx.transformByMatrix(C$zui[0])},this._setTransform=function(C$zut,C$zue,C$zui){this.ctx.setTransform(C$zui[0],C$zui[1],C$zui[2],C$zui[3],C$zui[4],C$zui[5])},this._setTransformByMatrix=function(C$zut,C$zue,C$zui){this.ctx.setTransformByMatrix(C$zui[0])},this._save=function(C$zut,C$zue,C$zui){this.ctx.save()},this._restore=function(C$zut,C$zue,C$zui){this.ctx.restore()},this._translate=function(C$zut,C$zue,C$zui){this.ctx.translate(C$zui[0],C$zui[1])},this._transform=function(C$zut,C$zue,C$zui){this.ctx.translate(C$zui[1]+C$zut,C$zui[2]+C$zue);var C$zun=C$zui[0];this.ctx.transform(C$zun.a,C$zun.b,C$zun.c,C$zun.d,C$zun.tx,C$zun.ty),this.ctx.translate(-C$zut-C$zui[1],-C$zue-C$zui[2])},this._rotate=function(C$zut,C$zue,C$zui){this.ctx.translate(C$zui[1]+C$zut,C$zui[2]+C$zue),this.ctx.rotate(C$zui[0]),this.ctx.translate(-C$zut-C$zui[1],-C$zue-C$zui[2])},this._scale=function(C$zut,C$zue,C$zui){this.ctx.translate(C$zui[2]+C$zut,C$zui[3]+C$zue),this.ctx.scale(C$zui[0],C$zui[1]),this.ctx.translate(-C$zut-C$zui[2],-C$zue-C$zui[3])},this._alpha=function(C$zut,C$zue,C$zui){this.ctx.globalAlpha*=C$zui[0]},this._setAlpha=function(C$zut,C$zue,C$zui){this.ctx.globalAlpha=C$zui[0]},this._fillText=function(C$zut,C$zue,C$zui){this.ctx.fillText(C$zui[0],C$zui[1]+C$zut,C$zui[2]+C$zue,C$zui[3],C$zui[4],C$zui[5])},this._strokeText=function(C$zut,C$zue,C$zui){this.ctx.strokeText(C$zui[0],C$zui[1]+C$zut,C$zui[2]+C$zue,C$zui[3],C$zui[4],C$zui[5],C$zui[6])},this._fillBorderText=function(C$zut,C$zue,C$zui){this.ctx.fillBorderText(C$zui[0],C$zui[1]+C$zut,C$zui[2]+C$zue,C$zui[3],C$zui[4],C$zui[5],C$zui[6],C$zui[7])},this._blendMode=function(C$zut,C$zue,C$zui){this.ctx.globalCompositeOperation=C$zui[0]},this._beginClip=function(C$zut,C$zue,C$zui){this.ctx.beginClip&&this.ctx.beginClip(C$zut+C$zui[0],C$zue+C$zui[1],C$zui[2],C$zui[3])},this._setIBVB=function(C$zut,C$zue,C$zui){this.ctx.setIBVB(C$zui[0]+C$zut,C$zui[1]+C$zue,C$zui[2],C$zui[3],C$zui[4],C$zui[5],C$zui[6],C$zui[7])},this._fillTrangles=function(C$zut,C$zue,C$zui){this.ctx.fillTrangles(C$zui[0],C$zui[1]+C$zut,C$zui[2]+C$zue,C$zui[3],C$zui[4])},this._drawPath=function(C$zut,C$zue,C$zui){var C$zun=this.ctx;C$zuw.isWebGL&&C$zun.setPathId(-1),C$zun.beginPath(),C$zut+=C$zui[0],C$zue+=C$zui[1],C$zuw.isWebGL&&C$zun.movePath(C$zut,C$zue);for(var C$zur=C$zui[2],C$zus=0,C$zua=C$zur.length;C$zus<C$zua;C$zus++){var C$zuo=C$zur[C$zus];switch(C$zuo[0]){case"moveTo":C$zuw.isWebGL?C$zun.moveTo(C$zuo[1],C$zuo[2]):C$zun.moveTo(C$zut+C$zuo[1],C$zue+C$zuo[2]);break;case"lineTo":C$zuw.isWebGL?C$zun.lineTo(C$zuo[1],C$zuo[2]):C$zun.lineTo(C$zut+C$zuo[1],C$zue+C$zuo[2]);break;case"arcTo":C$zuw.isWebGL?C$zun.arcTo(C$zuo[1],C$zuo[2],C$zuo[3],C$zuo[4],C$zuo[5]):C$zun.arcTo(C$zut+C$zuo[1],C$zue+C$zuo[2],C$zut+C$zuo[3],C$zue+C$zuo[4],C$zuo[5]);break;case"closePath":C$zun.closePath()}}var C$zuh=C$zui[3];null!=C$zuh&&(C$zun.fillStyle=C$zuh.fillStyle,C$zun.fill());C$zuh=C$zui[4];null!=C$zuh&&(C$zun.strokeStyle=C$zuh.strokeStyle,C$zun.lineWidth=C$zuh.lineWidth||1,C$zun.lineJoin=C$zuh.lineJoin,C$zun.lineCap=C$zuh.lineCap,C$zun.miterLimit=C$zuh.miterLimit,C$zun.stroke())},this.drawPoly=function(C$zut,C$zue,C$zui){this.ctx.drawPoly(C$zut+this.x+C$zui[0],C$zue+this.y+C$zui[1],C$zui[2],C$zui[3],C$zui[4],C$zui[5],C$zui[6])},this._drawPoly=function(C$zut,C$zue,C$zui){var C$zun=this.ctx,C$zur=C$zui[2],C$zus=2,C$zua=C$zur.length;if(C$zuw.isWebGL)for(C$zun.setPathId(C$zui[6]),C$zun.beginPath(),C$zut+=C$zui[0],C$zue+=C$zui[1],C$zun.movePath(C$zut,C$zue),C$zun.moveTo(C$zur[0],C$zur[1]);C$zus<C$zua;)C$zun.lineTo(C$zur[C$zus++],C$zur[C$zus++]);else for(C$zun.beginPath(),C$zut+=C$zui[0],C$zue+=C$zui[1],C$zun.moveTo(C$zut+C$zur[0],C$zue+C$zur[1]);C$zus<C$zua;)C$zun.lineTo(C$zut+C$zur[C$zus++],C$zue+C$zur[C$zus++]);C$zun.closePath(),this._fillAndStroke(C$zui[3],C$zui[4],C$zui[5],C$zui[7])},this._drawSkin=function(C$zut,C$zue,C$zui){C$zui=C$zui[0];var C$zun;C$zui&&(C$zun=this.ctx,C$zui.render(C$zun,C$zut,C$zue))},this._drawParticle=function(C$zut,C$zue,C$zui){this.ctx.drawParticle(C$zut+this.x,C$zue+this.y,C$zui[0])},this._setFilters=function(C$zut,C$zue,C$zui){this.ctx.setFilters(C$zui)},C$zui?this.ctx=C$zui.getContext("2d"):(C$zui=C$zu$t.create("3D"),this.ctx=C$zum.createWebGLContext2D(C$zui),C$zui._setContext(this.ctx)),C$zui.size(C$zut,C$zue),this.canvas=C$zui}function $P(){}function $d(){}function $A(){this.preOvers=[],this.preDowns=[],this.preRightDowns=[],this.enable=!0,this._lastClickTime=0,this._event=new C$zuf}function $D(){this.mouseX=0,this.mouseY=0,this.disableMouseEvent=!1,this.mouseDownTime=0,this.mouseEventTime=C$zuM.now(),this.mouseMoveAccuracy=2,this._stage=null,this._target=null,this._lastMoveTimer=0,this._isLeftMouse=!1,this._eventList=[],this._touchIDs={},this._id=1,this._tTouchID=0,this._event=new C$zuf,this._matrix=new C$zuE,this._point=new C$zuP,this._rect=new C$zuA,this._prePoint=new C$zuP,this._curTouchID=NaN}function $a(){this._cacheBoundsType=!1}function $F(){this._one=null,this._cmds=null,this._render=this._renderEmpty,C$zuw.isConchNode&&(this._nativeObj=new C$zus._conchGraphics,this.id=this._nativeObj.conchID)}function $p(C$zut){this._type=0,this._weight=0,this._decoration=null,this._text=null,this.indent=0,this._color=C$zuW.create($p.defaultColor),this.family=$p.defaultFamily,this.stroke=$p._STROKE,this.size=$p.defaultSize,C$zut&&C$zut!==$p.EMPTY&&C$zut.copyTo(this)}function $h(){this.alpha=1,this.visible=!0,this.scrollRect=null,this.blendMode=null,this._type=0,this._tf=$h._TF_EMPTY}function $L(C$zut,C$zue,C$zui,C$zun){this.once=!1,void(this._id=0)===C$zun&&(C$zun=!1),this.setTo(C$zut,C$zue,C$zui,C$zun)}function $K(){this._events=null}var C$zue;function $m(){}function $q(){}C$zuy.__init([C$zuh,C$zult,C$zuw,C$zuM,C$zuq,C$zuR,C$zut,C$zubt])}(window,document,Laya),function(){Laya.un,Laya.uns,Laya.static;var C$zut=Laya.class;function $m(){}Laya.getset,Laya.__newvec,C$zut($m,"LayaMain")}((window,document)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$zut,C$zue){"use strict";for(var C$zui in Object.defineProperty(C$zue,"__esModule",{value:!0}),Laya){var C$zun=Laya[C$zui];C$zun&&C$zun.__isclass&&(C$zue[C$zui]=C$zun)}}),function(C$zug){C$zug.un,C$zug.uns;var C$zue=C$zug.static,C$zui=C$zug.class,C$zun=C$zug.getset,C$zus=C$zug.__newvec,C$zuc=laya.maths.Arith,C$zu_=laya.maths.Bezier,C$zur=laya.resource.Bitmap,C$zuo=laya.utils.Browser,C$zua=laya.utils.Byte,C$zud=laya.utils.Color,C$zum=(laya.filters.ColorFilter,C$zug.Config),C$zuf=laya.resource.Context,C$zux=(laya.events.Event,laya.filters.Filter),C$zup=laya.display.Graphics,C$zuv=laya.resource.HTMLCanvas,C$zu$=(laya.utils.HTMLChar,laya.resource.HTMLImage),C$zuy=laya.resource.HTMLSubImage,C$zub=(laya.utils.Handler,laya.net.Loader,laya.maths.Matrix),C$zuT=laya.maths.Point,C$zuw=laya.maths.Rectangle,C$zuM=laya.renders.Render,C$zuS=(laya.renders.RenderContext,laya.renders.RenderSprite),C$zuC=laya.resource.Resource,C$zuD=laya.resource.ResourceManager,C$zuE=laya.utils.RunDriver,C$zuP=laya.display.Sprite,C$zuA=laya.display.Stage,C$zuI=laya.utils.Stat,C$zuR=laya.utils.StringKey,C$zuL=(laya.display.css.Style,laya.system.System),C$zuB=laya.display.Text,C$zuN=laya.resource.Texture,C$zuF=(laya.display.css.TransformInfo,laya.net.URL,laya.utils.Utils),C$zuO=laya.utils.VectorGraphManager;laya.utils.WordText,C$zug.interface("laya.webgl.shapes.IShape"),C$zug.interface("laya.webgl.submit.ISubmit"),C$zug.interface("laya.webgl.text.ICharSegment"),C$zug.interface("laya.webgl.canvas.save.ISaveData"),C$zug.interface("laya.webgl.resource.IMergeAtlasBitmap"),C$zug.interface("laya.filters.IFilterActionGL","laya.filters.IFilterAction");C$zui($m,"laya.filters.webgl.FilterActionGL"),C$zut=$m.prototype,C$zug.imps(C$zut,{"laya.filters.IFilterActionGL":!0}),C$zut.setValue=function(C$zut){},C$zut.setValueMix=function(C$zut){},C$zut.apply3d=function(C$zut,C$zue,C$zui,C$zun,C$zur){return null},C$zut.apply=function(C$zut){return null},C$zun(0,C$zut,"typeMix",function(){return 0});var C$zuV=$m,C$zuk=function(){function $m(){}return C$zui($m,"laya.webgl.shader.ShaderValue"),$m}(),C$zuU=function(){var C$zun,C$zur;function $m(C$zut,C$zue,C$zui){this._atlasID=0,this._width=0,this._height=0,this._texCount=0,this._rowInfo=null,this._cells=null,this._failSize=new C$zur,void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0),this._cells=null,this._rowInfo=null,this._init(C$zut,C$zue),this._atlasID=C$zui}C$zui($m,"laya.webgl.atlas.AtlasGrid");var C$zut=$m.prototype;return C$zut.getAltasID=function(){return this._atlasID},C$zut.setAltasID=function(C$zut){0<=C$zut&&(this._atlasID=C$zut)},C$zut.addTex=function(C$zut,C$zue,C$zui){var C$zun=this._get(C$zue,C$zui);return 0==C$zun.ret||(this._fill(C$zun.x,C$zun.y,C$zue,C$zui,C$zut),this._texCount++),C$zun},C$zut._release=function(){null!=this._cells&&(this._cells.length=0,this._cells=null),this._rowInfo&&(this._rowInfo.length=0,this._rowInfo=null)},C$zut._init=function(C$zut,C$zue){if(this._width=C$zut,this._height=C$zue,this._release(),0==this._width)return!1;this._cells=new Uint8Array(this._width*this._height*3),this._rowInfo=C$zus(this._height);for(var C$zui=0;C$zui<this._height;C$zui++)this._rowInfo[C$zui]=new C$zun;return this._clear(),!0},C$zut._get=function(C$zut,C$zue){var C$zui=new C$zuW;if(C$zut>=this._failSize.width&&C$zue>=this._failSize.height)return C$zui;for(var C$zun,C$zur=-1,C$zuu=this._width,C$zuc=this._height,C$zus=this._cells,C$zua=0;C$zua<C$zuc;C$zua++)if(!(this._rowInfo[C$zua].spaceCount<C$zut))for(var C$zuo=0;C$zuo<C$zuu;){var C$zuh=3*(C$zua*C$zuu+C$zuo);if(0!=C$zus[C$zuh]||C$zus[1+C$zuh]<C$zut||C$zus[2+C$zuh]<C$zue)C$zuo+=C$zus[1+C$zuh];else{C$zur=C$zuo,C$zun=C$zua;for(var C$zul=0;C$zul<C$zut;C$zul++)if(C$zus[3*C$zul+C$zuh+2]<C$zue){C$zur=-1;break}if(!(C$zur<0))return C$zui.ret=!0,C$zui.x=C$zur,C$zui.y=C$zun,C$zui;C$zuo+=C$zus[1+C$zuh]}}return C$zui},C$zut._fill=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=this._width,C$zuu=this._height;this._check(C$zut+C$zui<=C$zus&&C$zue+C$zun<=C$zuu);for(var C$zua=C$zue;C$zua<C$zun+C$zue;++C$zua){this._check(this._rowInfo[C$zua].spaceCount>=C$zui),this._rowInfo[C$zua].spaceCount-=C$zui;for(var C$zuo=0;C$zuo<C$zui;C$zuo++){var C$zuh=3*(C$zut+C$zua*C$zus+C$zuo);this._check(0==this._cells[C$zuh]),this._cells[C$zuh]=C$zur,this._cells[1+C$zuh]=C$zui,this._cells[2+C$zuh]=C$zun}}if(0<C$zut)for(C$zua=0;C$zua<C$zun;++C$zua){var C$zul=0;for(C$zuo=C$zut-1;0<=C$zuo&&0==this._cells[3*((C$zue+C$zua)*C$zus+C$zuo)];--C$zuo,++C$zul);for(C$zuo=C$zul;0<C$zuo;--C$zuo)this._cells[3*((C$zue+C$zua)*C$zus+C$zut-C$zuo)+1]=C$zuo,this._check(0<C$zuo)}if(0<C$zue)for(C$zuo=C$zut;C$zuo<C$zut+C$zui;++C$zuo){for(C$zul=0,C$zua=C$zue-1;0<=C$zua&&0==this._cells[3*(C$zuo+C$zua*C$zus)];--C$zua,C$zul++);for(C$zua=C$zul;0<C$zua;--C$zua)this._cells[3*(C$zuo+(C$zue-C$zua)*C$zus)+2]=C$zua,this._check(0<C$zua)}},C$zut._check=function(C$zut){0==C$zut&&console.log("xtexMerger \u9519\u8bef\u5566")},C$zut._clear=function(){for(var C$zut=this._texCount=0;C$zut<this._height;C$zut++)this._rowInfo[C$zut].spaceCount=this._width;for(var C$zue=0;C$zue<this._height;C$zue++)for(var C$zui=0;C$zui<this._width;C$zui++){var C$zun=3*(C$zue*this._width+C$zui);this._cells[C$zun]=0,this._cells[1+C$zun]=this._width-C$zui,this._cells[2+C$zun]=this._width-C$zue}this._failSize.width=this._width+1,this._failSize.height=this._height+1},$m.__init$=function(){function $m(){this.spaceCount=0}C$zui($m,""),C$zun=$m,C$zur=function(){function $m(){this.width=0,this.height=0}return C$zui($m,""),$m}()},$m}(),C$zuH=(C$zui($c,"laya.webgl.atlas.AtlasResourceManager"),(C$zut=$c.prototype).setAtlasParam=function(C$zut,C$zue,C$zui,C$zun){if(1==this._setAtlasParam)return $c._sid_=0,this._width=C$zut,this._height=C$zue,this._gridSize=C$zui,this._maxAtlaserCount=C$zun,this._gridNumX=C$zut/C$zui,this._gridNumY=C$zue/C$zui,this._curAtlasIndex=0,this.freeAll(),!0;throw console.log("\u8bbe\u7f6e\u5927\u56fe\u5408\u96c6\u53c2\u6570\u9519\u8bef\uff0c\u53ea\u80fd\u5728\u5f00\u59cb\u9875\u9762\u8bbe\u7f6e\u5404\u79cd\u53c2\u6570"),-1},C$zut.pushData=function(C$zut){var C$zue,C$zui=C$zut.bitmap,C$zun=-1,C$zur=null,C$zus=0,C$zua=0;for(C$zus=0,C$zue=this._atlaserArray.length;C$zus<C$zue&&(C$zua=(this._curAtlasIndex+C$zus)%C$zue,-1==(C$zun=(C$zur=this._atlaserArray[C$zua]).findBitmapIsExist(C$zui)));C$zus++);var C$zuu;if(-1!=C$zun)return C$zuh=(C$zuu=C$zur.InAtlasWebGLImagesOffsetValue[C$zun])[0],C$zul=C$zuu[1],C$zur.addToAtlas(C$zut,C$zuh,C$zul),!0;this._setAtlasParam=!1;for(var C$zuc=Math.ceil((C$zut.bitmap.width+2)/this._gridSize),C$zu_=Math.ceil((C$zut.bitmap.height+2)/this._gridSize),C$zuo=!1,C$zud=0;C$zud<2;C$zud++){var C$zuf=this._maxAtlaserCount;for(C$zus=0;C$zus<C$zuf;C$zus++){C$zua=(this._curAtlasIndex+C$zus)%C$zuf,this._atlaserArray.length-1>=C$zua||this._atlaserArray.push(new C$zuSt(this._gridNumX,this._gridNumY,this._width,this._height,$c._sid_++));var C$zup=this._atlaserArray[C$zua],C$zuh=0,C$zul=0,C$zum=C$zup.addTex(1,C$zuc,C$zu_);if(C$zum.ret){C$zuh=C$zum.x*this._gridSize+1,C$zul=C$zum.y*this._gridSize+1,C$zui.lock=!0,C$zup.addToAtlasTexture(C$zui,C$zuh,C$zul),C$zup.addToAtlas(C$zut,C$zuh,C$zul),C$zuo=!0,this._curAtlasIndex=C$zua;break}}if(C$zuo)break;this._atlaserArray.push(new C$zuSt(this._gridNumX,this._gridNumY,this._width,this._height,$c._sid_++)),this._needGC=!0,this.garbageCollection(),this._curAtlasIndex=this._atlaserArray.length-1}return C$zuo||console.log(">>>AtlasManager pushData error"),C$zuo},C$zut.addToAtlas=function(C$zut){laya.webgl.atlas.AtlasResourceManager.instance.pushData(C$zut)},C$zut.garbageCollection=function(){if(!0===this._needGC){for(var C$zut=this._atlaserArray.length-this._maxAtlaserCount,C$zue=0;C$zue<C$zut;C$zue++)this._atlaserArray[C$zue].dispose(),console.log("AtlasResourceManager:Dispose the inner Atlas\u3002");console.log(">>>>altas garbageCollection ="+C$zut),this._atlaserArray.splice(0,C$zut),this._needGC=!1}return!0},C$zut.freeAll=function(){for(var C$zut=0,C$zue=this._atlaserArray.length;C$zut<C$zue;C$zut++)this._atlaserArray[C$zut].dispose();this._atlaserArray.length=0,this._curAtlasIndex=0},C$zut.getAtlaserCount=function(){return this._atlaserArray.length},C$zut.getAtlaserByIndex=function(C$zut){return this._atlaserArray[C$zut]},C$zun(1,$c,"instance",function(){return $c._Instance=$c._Instance?$c._Instance:new $c(laya.webgl.atlas.AtlasResourceManager.atlasTextureWidth,laya.webgl.atlas.AtlasResourceManager.atlasTextureHeight,16,laya.webgl.atlas.AtlasResourceManager.maxTextureCount)}),C$zun(1,$c,"enabled",function(){return C$zum.atlasEnable}),C$zun(1,$c,"atlasLimitWidth",function(){return $c._atlasLimitWidth},function(C$zut){$c._atlasLimitWidth=C$zut}),C$zun(1,$c,"atlasLimitHeight",function(){return $c._atlasLimitHeight},function(C$zut){$c._atlasLimitHeight=C$zut}),$c._enable=function(){C$zum.atlasEnable=!0},$c._disable=function(){C$zum.atlasEnable=!1},$c.__init__=function(){$c.atlasTextureWidth=2048,$c.atlasTextureHeight=2048,$c.maxTextureCount=6,$c.atlasLimitWidth=512,$c.atlasLimitHeight=512},$c._atlasLimitWidth=0,$c._atlasLimitHeight=0,$c.gridSize=16,$c.atlasTextureWidth=0,$c.atlasTextureHeight=0,$c.maxTextureCount=0,$c._atlasRestore=0,$c.BOARDER_TYPE_NO=0,$c.BOARDER_TYPE_RIGHT=1,$c.BOARDER_TYPE_LEFT=2,$c.BOARDER_TYPE_BOTTOM=4,$c.BOARDER_TYPE_TOP=8,$c.BOARDER_TYPE_ALL=15,$c._sid_=0,$c._Instance=null,$c),C$zuW=function(){function $m(){this.x=0,this.y=0,this.ret=!1,this.ret=!1,this.x=0,this.y=0}return C$zui($m,"laya.webgl.atlas.MergeFillInfo"),$m}(),C$zuz=(C$zui($p,"laya.webgl.canvas.BlendMode"),$p._init_=function(C$zut){$p.fns=[$p.BlendNormal,$p.BlendAdd,$p.BlendMultiply,$p.BlendScreen,$p.BlendOverlay,$p.BlendLight,$p.BlendMask,$p.BlendDestinationOut],$p.targetFns=[$p.BlendNormalTarget,$p.BlendAddTarget,$p.BlendMultiplyTarget,$p.BlendScreenTarget,$p.BlendOverlayTarget,$p.BlendLightTarget,$p.BlendMask,$p.BlendDestinationOut]},$p.BlendNormal=function(C$zut){C$zut.blendFunc(1,771)},$p.BlendAdd=function(C$zut){C$zut.blendFunc(1,772)},$p.BlendMultiply=function(C$zut){C$zut.blendFunc(774,771)},$p.BlendScreen=function(C$zut){C$zut.blendFunc(1,1)},$p.BlendOverlay=function(C$zut){C$zut.blendFunc(1,769)},$p.BlendLight=function(C$zut){C$zut.blendFunc(1,1)},$p.BlendNormalTarget=function(C$zut){C$zut.blendFunc(1,771)},$p.BlendAddTarget=function(C$zut){C$zut.blendFunc(1,772)},$p.BlendMultiplyTarget=function(C$zut){C$zut.blendFunc(774,771)},$p.BlendScreenTarget=function(C$zut){C$zut.blendFunc(1,1)},$p.BlendOverlayTarget=function(C$zut){C$zut.blendFunc(1,769)},$p.BlendLightTarget=function(C$zut){C$zut.blendFunc(1,1)},$p.BlendMask=function(C$zut){C$zut.blendFunc(0,770)},$p.BlendDestinationOut=function(C$zut){C$zut.blendFunc(0,0)},$p.activeBlendFunction=null,$p.NAMES=["normal","add","multiply","screen","overlay","light","mask","destination-out"],$p.TOINT={normal:0,add:1,multiply:2,screen:3,lighter:1,overlay:4,light:5,mask:6,"destination-out":7},$p.NORMAL="normal",$p.ADD="add",$p.MULTIPLY="multiply",$p.SCREEN="screen",$p.LIGHT="light",$p.OVERLAY="overlay",$p.DESTINATIONOUT="destination-out",$p.fns=[],$p.targetFns=[],$p),C$zuG=(C$zui($h,"laya.webgl.canvas.DrawStyle"),(C$zut=$h.prototype).setValue=function(C$zut){C$zut&&("string"!=typeof C$zut?C$zut instanceof laya.utils.Color&&(this._color=C$zut):this._color=C$zud.create(C$zut))},C$zut.reset=function(){this._color=C$zud.create("black")},C$zut.equal=function(C$zut){return"string"==typeof C$zut?this._color.strColor===C$zut:C$zut instanceof laya.utils.Color&&this._color.numColor===C$zut.numColor},C$zut.toColorStr=function(){return this._color.strColor},$h.create=function(C$zut){var C$zue;return C$zut&&("string"==typeof C$zut?C$zue=C$zud.create(C$zut):C$zut instanceof laya.utils.Color&&(C$zue=C$zut),C$zue)?C$zue._drawStyle||(C$zue._drawStyle=new $h(C$zut)):laya.webgl.canvas.DrawStyle.DEFAULT},C$zue($h,["DEFAULT",function(){return this.DEFAULT=new $h("#000000")}]),$h),C$zuY=function(){function $m(){this._x=0,this._y=0,this.dirty=!1,this.offset=0,this.count=0,this.geoStart=0,this.tempArray=[],this.closePath=!1,this.geomatrys=[],C$zuu.mainContext,this.ib=C$zuZt.create(35048),this.vb=C$zuQt.create(5)}C$zui($m,"laya.webgl.canvas.Path");var C$zut=$m.prototype;return C$zut.addPoint=function(C$zut,C$zue){this.tempArray.push(C$zut,C$zue)},C$zut.getEndPointX=function(){return this.tempArray[this.tempArray.length-2]},C$zut.getEndPointY=function(){return this.tempArray[this.tempArray.length-1]},C$zut.polygon=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){return this.geomatrys.push(this._curGeomatry=C$zut=new C$zuPt(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus)),C$zun||(C$zut.fill=!1),null==C$zus&&(C$zut.borderWidth=0),C$zut},C$zut.setGeomtry=function(C$zut){this.geomatrys.push(this._curGeomatry=C$zut)},C$zut.drawLine=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus;return this.closePath?this.geomatrys.push(this._curGeomatry=C$zus=new C$zuEt(C$zut,C$zue,C$zui,C$zun,C$zur)):this.geomatrys.push(this._curGeomatry=C$zus=new C$zuDt(C$zut,C$zue,C$zui,C$zun,C$zur)),C$zus.fill=!1,C$zus},C$zut.update=function(){var C$zut=this.ib._byteLength,C$zue=this.geomatrys.length;this.offset=C$zut;for(var C$zui=this.geoStart;C$zui<C$zue;C$zui++)this.geomatrys[C$zui].getData(this.ib,this.vb,this.vb._byteLength/20);this.geoStart=C$zue,this.count=(this.ib._byteLength-C$zut)/C$zugt.BYTES_PIDX},C$zut.reset=function(){this.vb.clear(),this.ib.clear(),this.offset=this.count=this.geoStart=0,this.geomatrys.length=0},C$zut.recover=function(){this._curGeomatry=null,this.vb.destory(),this.vb=null,this.ib.destory(),this.ib=null},$m}(),C$zuX=(C$zui($Y,"laya.webgl.canvas.save.SaveBase"),C$zut=$Y.prototype,C$zug.imps(C$zut,{"laya.webgl.canvas.save.ISaveData":!0}),C$zut.isSaveMark=function(){return!1},C$zut.restore=function(C$zut){this._dataObj[this._valueName]=this._value,($Y._cache[$Y._cache._length++]=this)._newSubmit&&(C$zut._curSubmit=C$zuot.RENDERBASE,C$zut._renderKey=0)},$Y._createArray=function(){var C$zut=[];return C$zut._length=0,C$zut},$Y._init=function(){var C$zut=$Y._namemap={};return C$zut[1]="ALPHA",C$zut[2]="fillStyle",C$zut[8]="font",C$zut[256]="lineWidth",C$zut[512]="strokeStyle",C$zut[8192]="_mergeID",C$zut[1024]=C$zut[2048]=C$zut[4096]=[],C$zut[16384]="textBaseline",C$zut[32768]="textAlign",C$zut[65536]="_nBlendType",C$zut[1048576]="shader",C$zut[2097152]="filters",C$zut},$Y.save=function(C$zut,C$zue,C$zui,C$zun){var C$zur;(C$zut._saveMark._saveuse&C$zue)!==C$zue&&(C$zut._saveMark._saveuse|=C$zue,(C$zur=0<(C$zur=$Y._cache)._length?C$zur[--C$zur._length]:new $Y)._value=C$zui[C$zur._valueName=$Y._namemap[C$zue]],C$zur._dataObj=C$zui,C$zur._newSubmit=C$zun,(C$zue=C$zut._save)[C$zue._length++]=C$zur)},$Y._cache=laya.webgl.canvas.save.SaveBase._createArray(),$Y._namemap=$Y._init(),$Y),C$zuK=(C$zui($q,"laya.webgl.canvas.save.SaveClipRect"),C$zut=$q.prototype,C$zug.imps(C$zut,{"laya.webgl.canvas.save.ISaveData":!0}),C$zut.isSaveMark=function(){return!1},C$zut.restore=function(C$zut){C$zut._clipRect=this._clipSaveRect,($q._cache[$q._cache._length++]=this)._submitScissor.submitLength=C$zut._submits._length-this._submitScissor.submitIndex,C$zut._curSubmit=C$zuot.RENDERBASE,C$zut._renderKey=0},$q.save=function(C$zut,C$zue){var C$zui;131072!=(131072&C$zut._saveMark._saveuse)&&(C$zut._saveMark._saveuse|=131072,(C$zui=0<(C$zui=$q._cache)._length?C$zui[--C$zui._length]:new $q)._clipSaveRect=C$zut._clipRect,C$zut._clipRect=C$zui._clipRect.copyFrom(C$zut._clipRect),C$zui._submitScissor=C$zue,(C$zue=C$zut._save)[C$zue._length++]=C$zui)},C$zue($q,["_cache",function(){return this._cache=C$zuX._createArray()}]),$q),C$zuq=(C$zui($$,"laya.webgl.canvas.save.SaveClipRectStencil"),C$zut=$$.prototype,C$zug.imps(C$zut,{"laya.webgl.canvas.save.ISaveData":!0}),C$zut.isSaveMark=function(){return!1},C$zut.restore=function(C$zut){C$zu_t.restore(C$zut,this._rect,this._saveMatrix,this._contextX,this._contextY),C$zut._clipRect=this._clipSaveRect,C$zut._curMat=this._saveMatrix,C$zut._x=this._contextX,C$zut._y=this._contextY,$$._cache[$$._cache._length++]=this,C$zut._curSubmit=C$zuot.RENDERBASE},$$.save=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zuu){var C$zul;262144!=(262144&C$zut._saveMark._saveuse)&&(C$zut._saveMark._saveuse|=262144,(C$zul=0<(C$zul=$$._cache)._length?C$zul[--C$zul._length]:new $$)._clipSaveRect=C$zut._clipRect,C$zul._clipRect.setTo(C$zua,C$zuo,C$zuh,C$zuu),C$zut._clipRect=C$zul._clipRect,C$zul._rect.x=C$zui,C$zul._rect.y=C$zun,C$zul._rect.width=C$zur,C$zul._rect.height=C$zus,C$zul._contextX=C$zut._x,C$zul._contextY=C$zut._y,C$zul._saveMatrix=C$zut._curMat,C$zut._curMat.copyTo(C$zul._matrix),C$zut._curMat=C$zul._matrix,C$zul._submitStencil=C$zue,(C$zua=C$zut._save)[C$zua._length++]=C$zul)},C$zue($$,["_cache",function(){return this._cache=C$zuX._createArray()}]),$$),C$zuj=(C$zui($P,"laya.webgl.canvas.save.SaveMark"),C$zut=$P.prototype,C$zug.imps(C$zut,{"laya.webgl.canvas.save.ISaveData":!0}),C$zut.isSaveMark=function(){return!0},C$zut.restore=function(C$zut){C$zut._saveMark=this._preSaveMark,$P._no[$P._no._length++]=this},$P.Create=function(C$zut){var C$zue=$P._no,C$zue=0<C$zue._length?C$zue[--C$zue._length]:new $P;return C$zue._saveuse=0,C$zue._preSaveMark=C$zut._saveMark,C$zut._saveMark=C$zue},C$zue($P,["_no",function(){return this._no=C$zuX._createArray()}]),$P),C$zuZ=function(){function $q(){this._matrix=new C$zub}C$zui($q,"laya.webgl.canvas.save.SaveTransform");var C$zut=$q.prototype;return C$zug.imps(C$zut,{"laya.webgl.canvas.save.ISaveData":!0}),C$zut.isSaveMark=function(){return!1},C$zut.restore=function(C$zut){C$zut._curMat=this._savematrix,$q._no[$q._no._length++]=this},$q.save=function(C$zut){var C$zue=C$zut._saveMark;2048!=(2048&C$zue._saveuse)&&(C$zue._saveuse|=2048,(C$zue=0<(C$zue=$q._no)._length?C$zue[--C$zue._length]:new $q)._savematrix=C$zut._curMat,C$zut._curMat=C$zut._curMat.copyTo(C$zue._matrix),(C$zut=C$zut._save)[C$zut._length++]=C$zue)},C$zue($q,["_no",function(){return this._no=C$zuX._createArray()}]),$q}(),C$zuQ=(C$zui($L,"laya.webgl.canvas.save.SaveTranslate"),C$zut=$L.prototype,C$zug.imps(C$zut,{"laya.webgl.canvas.save.ISaveData":!0}),C$zut.isSaveMark=function(){return!1},C$zut.restore=function(C$zut){C$zut._curMat,C$zut._x=this._x,C$zut._y=this._y,$L._no[$L._no._length++]=this},$L.save=function(C$zut){var C$zue=$L._no,C$zue=0<C$zue._length?C$zue[--C$zue._length]:new $L;C$zue._x=C$zut._x,C$zue._y=C$zut._y;C$zut=C$zut._save;C$zut[C$zut._length++]=C$zue},C$zue($L,["_no",function(){return this._no=C$zuX._createArray()}]),$L),C$zuJ=function(){function $m(){this.target=null,this.repaint=!1,this._width=NaN,this._height=NaN,this._sp=null,this._clipRect=new C$zuw}C$zui($m,"laya.webgl.resource.RenderTargetMAX");var C$zut=$m.prototype;return C$zut.setSP=function(C$zut){this._sp=C$zut},C$zut.size=function(C$zut,C$zue){var C$zui=this;this._width!==C$zut||this._height!==C$zue?(this.repaint=!0,this._width=C$zut,this._height=C$zue,this.target?this.target.size(C$zut,C$zue):this.target=C$zuBt.create(C$zut,C$zue),this.target.hasListener("recovered")||this.target.on("recovered",this,function(C$zut){C$zug.timer.callLater(C$zui._sp,C$zui._sp.repaint)})):this.target.size(C$zut,C$zue)},C$zut._flushToTarget=function(C$zut,C$zue){var C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh;C$zue._destroy||(C$zui=C$zul.worldScissorTest,C$zun=C$zul.worldClipRect,C$zul.worldClipRect=this._clipRect,this._clipRect.x=this._clipRect.y=0,this._clipRect.width=this._width,this._clipRect.height=this._height,C$zul.worldScissorTest=!1,C$zuu.mainContext.disable(3089),C$zur=C$zul.worldAlpha,C$zus=C$zul.worldMatrix4,C$zua=C$zul.worldMatrix,C$zuo=C$zul.worldFilters,C$zuh=C$zul.worldShaderDefines,C$zul.worldMatrix=C$zub.EMPTY,C$zul.restoreTempArray(),C$zul.worldMatrix4=C$zul.TEMPMAT4_ARRAY,C$zul.worldAlpha=1,C$zul.worldFilters=null,C$zul.worldShaderDefines=null,C$zuLt.activeShader=null,C$zue.start(),C$zum.showCanvasMark?C$zue.clear(0,1,0,.3):C$zue.clear(0,0,0,0),C$zut.flush(),C$zue.end(),C$zuLt.activeShader=null,C$zul.worldAlpha=C$zur,C$zul.worldMatrix4=C$zus,C$zul.worldMatrix=C$zua,C$zul.worldFilters=C$zuo,C$zul.worldShaderDefines=C$zuh,(C$zul.worldScissorTest=C$zui)&&(C$zut=C$zul.height-C$zun.y-C$zun.height,C$zuu.mainContext.scissor(C$zun.x,C$zut,C$zun.width,C$zun.height),C$zuu.mainContext.enable(3089)),C$zul.worldClipRect=C$zun)},C$zut.flush=function(C$zut){this.repaint&&(this._flushToTarget(C$zut,this.target),this.repaint=!1)},C$zut.drawTo=function(C$zut,C$zue,C$zui,C$zun,C$zur){C$zut.drawTexture(this.target.getTexture(),C$zue,C$zui,C$zun,C$zur,0,0)},C$zut.destroy=function(){this.target&&(this.target.destroy(),this.target=null,this._sp=null)},$m}(),C$zutt=function(){function $m(){this.ALPHA=1,this.shaderType=0,this.defines=new C$zuCt}return C$zui($m,"laya.webgl.shader.d2.Shader2D"),$m.prototype.destroy=function(){this.defines=null,this.filters=null,this.glTexture=null,this.strokeStyle=null,this.fillStyle=null},$m.__init__=function(){C$zuXt.addInclude("parts/ColorFilter_ps_uniform.glsl","uniform vec4 colorAlpha;\nuniform mat4 colorMat;"),C$zuXt.addInclude("parts/ColorFilter_ps_logic.glsl","mat4 alphaMat =colorMat;\n\nalphaMat[0][3] *= gl_FragColor.a;\nalphaMat[1][3] *= gl_FragColor.a;\nalphaMat[2][3] *= gl_FragColor.a;\n\ngl_FragColor = gl_FragColor * alphaMat;\ngl_FragColor += colorAlpha/255.0*gl_FragColor.a;\n"),C$zuXt.addInclude("parts/GlowFilter_ps_uniform.glsl","uniform vec4 u_color;\nuniform float u_strength;\nuniform float u_blurX;\nuniform float u_blurY;\nuniform float u_offsetX;\nuniform float u_offsetY;\nuniform float u_textW;\nuniform float u_textH;"),C$zuXt.addInclude("parts/GlowFilter_ps_logic.glsl","const float c_IterationTime = 10.0;\nfloat floatIterationTotalTime = c_IterationTime * c_IterationTime;\nvec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\nvec2 vec2FilterDir = vec2(-(u_offsetX)/u_textW,-(u_offsetY)/u_textH);\nvec2 vec2FilterOff = vec2(u_blurX/u_textW/c_IterationTime * 2.0,u_blurY/u_textH/c_IterationTime * 2.0);\nfloat maxNum = u_blurX * u_blurY;\nvec2 vec2Off = vec2(0.0,0.0);\nfloat floatOff = c_IterationTime/2.0;\nfor(float i = 0.0;i<=c_IterationTime; ++i){\n\tfor(float j = 0.0;j<=c_IterationTime; ++j){\n\t\tvec2Off = vec2(vec2FilterOff.x * (i - floatOff),vec2FilterOff.y * (j - floatOff));\n\t\tvec4 vec4Color2 = texture2D(texture, v_texcoord + vec2FilterDir + vec2Off); \n\n      #ifdef TXTALPHA\n   vec4Color2.a = texture2D(texture1, v_texcoord + vec2FilterDir + vec2Off).a;\n   #endif\n\n    vec4Color += vec4Color2/floatIterationTotalTime;        \n\t}\n}\ngl_FragColor = vec4(u_color.rgb,vec4Color.a * u_strength);\ngl_FragColor.rgb *= gl_FragColor.a;"),C$zuXt.addInclude("parts/BlurFilter_ps_logic.glsl","gl_FragColor =   blur();\ngl_FragColor.w*=alpha;"),C$zuXt.addInclude("parts/BlurFilter_ps_uniform.glsl","uniform vec4 strength_sig2_2sig2_gauss1;\nuniform vec2 blurInfo;\n\n#define PI 3.141593\n\n//float sigma=strength/3.0;//3\u03c3\u4ee5\u5916\u5f71\u54cd\u5f88\u5c0f\u3002\u5373\u5f53\u03c3=1\u7684\u65f6\u5019\uff0c\u534a\u5f84\u4e3a3\n//float sig2 = sigma*sigma;\n//float _2sig2 = 2.0*sig2;\n//return 1.0/(2*PI*sig2)*exp(-(x*x+y*y)/_2sig2)\n//float gauss1 = 1.0/(2.0*PI*sig2);\n\nfloat getGaussian(float x, float y){\n    return strength_sig2_2sig2_gauss1.w*exp(-(x*x+y*y)/strength_sig2_2sig2_gauss1.z);\n}\n\nvec4 blur(){\n    const float blurw = 9.0;\n    vec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\n    vec2 halfsz=vec2(blurw,blurw)/2.0/blurInfo;    \n    vec2 startpos=v_texcoord-halfsz;\n    vec2 ctexcoord = startpos;\n    vec2 step = 1.0/blurInfo;  //\u6bcf\u4e2a\u50cf\u7d20      \n    \n    for(float y = 0.0;y<=blurw; ++y){\n        ctexcoord.x=startpos.x;\n        for(float x = 0.0;x<=blurw; ++x){\n            //TODO \u7eb9\u7406\u5750\u6807\u7684\u56fa\u5b9a\u504f\u79fb\u5e94\u8be5\u5728vs\u4e2d\u5904\u7406\n            vec4 vec4Color1 = texture2D(texture, ctexcoord); \n\n      #ifdef TXTALPHA\n   vec4Color1.a = texture2D(texture1, ctexcoord).a;\n   #endif\n\n    vec4Color += vec4Color1*getGaussian(x-blurw/2.0,y-blurw/2.0);\n            ctexcoord.x+=step.x;\n        }\n        ctexcoord.y+=step.y;\n    }\n    return vec4Color;\n}"),C$zuXt.addInclude("parts/ColorAdd_ps_uniform.glsl","uniform vec4 colorAdd;\n"),C$zuXt.addInclude("parts/ColorAdd_ps_logic.glsl","gl_FragColor = vec4(colorAdd.rgb,colorAdd.a*gl_FragColor.a);\ngl_FragColor.xyz *= colorAdd.a;"),C$zuXt.preCompile2D(0,1,"attribute vec4 position;\nattribute vec2 texcoord;\nuniform vec2 size;\n\n#ifdef WORLDMAT\nuniform mat4 mmat;\n#endif\nvarying vec2 v_texcoord;\nvoid main() {\n  #ifdef WORLDMAT\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  #else\n  gl_Position =vec4((position.x/size.x-0.5)*2.0,(0.5-position.y/size.y)*2.0,position.z,1.0);\n  #endif\n  \n  v_texcoord = texcoord;\n}",'precision mediump float;\nvarying vec2 v_texcoord;\nuniform sampler2D texture;\n\n#ifdef TXTALPHA\nuniform sampler2D texture1;\n#endif\n\nuniform float alpha;\n#include?BLUR_FILTER  "parts/BlurFilter_ps_uniform.glsl";\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\n#include?GLOW_FILTER "parts/GlowFilter_ps_uniform.glsl";\n#include?COLOR_ADD "parts/ColorAdd_ps_uniform.glsl";\n\nvoid main() {\n   vec4 color= texture2D(texture, v_texcoord);\n\n   #ifdef TXTCOMPRESS\n   color.rgb *= color.a;\n   #endif\n\n   #ifdef TXTALPHA\n   color.rgba *= texture2D(texture1, v_texcoord).a;\n   #endif\n\n   color.a*=alpha;\n   color.rgb*=alpha;\n   gl_FragColor=color;\n   #include?COLOR_ADD "parts/ColorAdd_ps_logic.glsl";   \n   #include?BLUR_FILTER  "parts/BlurFilter_ps_logic.glsl";\n   #include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n   #include?GLOW_FILTER "parts/GlowFilter_ps_logic.glsl";\n}',null),C$zuXt.preCompile2D(0,2,"attribute vec4 position;\nuniform vec2 size;\nuniform mat4 mmat;\nvoid main() {\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n}",'precision mediump float;\nuniform vec4 color;\nuniform float alpha;\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\nvoid main() {\n\tvec4 a = vec4(color.r, color.g, color.b, color.a);\n\ta.w = alpha;\n\ta.xyz *= alpha;\n\tgl_FragColor = a;\n\t#include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n}',null),C$zuXt.preCompile2D(0,4,"attribute vec4 position;\nattribute vec3 a_color;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\nuniform vec2 u_pos;\nuniform vec2 size;\nvarying vec3 color;\nvoid main(){\n  vec4 tPos = vec4(position.x + u_pos.x,position.y + u_pos.y,position.z,position.w);\n  vec4 pos=mmat*u_mmat2*tPos;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  color=a_color;\n}","precision mediump float;\nvarying vec3 color;\nuniform float alpha;\nvoid main(){\n\t//vec4 a=vec4(color.r, color.g, color.b, 1);\n\t//a.a*=alpha;\n    gl_FragColor=vec4(color.r, color.g, color.b, alpha);\n\tgl_FragColor.rgb*=alpha;\n}",null),C$zuXt.preCompile2D(0,256,"attribute vec4 position;\nattribute vec2 texcoord;\nuniform vec2 size;\n\n#ifdef WORLDMAT\nuniform mat4 mmat;\n#endif\nvarying vec2 v_texcoord;\nvoid main() {\n  #ifdef WORLDMAT\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  #else\n  gl_Position =vec4((position.x/size.x-0.5)*2.0,(0.5-position.y/size.y)*2.0,position.z,1.0);\n  #endif\n  \n  v_texcoord = texcoord;\n}",'#ifdef FSHIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n//precision highp float;\nvarying vec2 v_texcoord;\nuniform sampler2D texture;\n\n#ifdef TXTALPHA\nuniform sampler2D texture1;\n#endif\n\nuniform float alpha;\nuniform vec4 u_TexRange;\nuniform vec2 u_offset;\n#include?BLUR_FILTER  "parts/BlurFilter_ps_uniform.glsl";\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\n#include?GLOW_FILTER "parts/GlowFilter_ps_uniform.glsl";\n#include?COLOR_ADD "parts/ColorAdd_ps_uniform.glsl";\n\nvoid main() {\n   vec2 newTexCoord;\n   newTexCoord.x = mod(u_offset.x + v_texcoord.x,u_TexRange.y) + u_TexRange.x;\n   newTexCoord.y = mod(u_offset.y + v_texcoord.y,u_TexRange.w) + u_TexRange.z;\n   vec4 color= texture2D(texture, newTexCoord);\n\n   #ifdef TXTALPHA\n   color.a = texture2D(texture1, newTexCoord).a;\n   #endif\n\n   color.a*=alpha;\n   gl_FragColor=color;\n   #include?COLOR_ADD "parts/ColorAdd_ps_logic.glsl";   \n   #include?BLUR_FILTER  "parts/BlurFilter_ps_logic.glsl";\n   #include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n   #include?GLOW_FILTER "parts/GlowFilter_ps_logic.glsl";\n}',null),C$zuXt.preCompile2D(0,512,"attribute vec2 position;\nattribute vec2 texcoord;\nattribute vec4 color;\nuniform vec2 size;\nuniform float offsetX;\nuniform float offsetY;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nvoid main() {\n  vec4 pos=mmat*u_mmat2*vec4(offsetX+position.x,offsetY+position.y,0,1 );\n  gl_Position = vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  v_color = color;\n  v_color.rgb *= v_color.a;\n  v_texcoord = texcoord;  \n}","precision mediump float;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nuniform sampler2D texture;\n\n#ifdef TXTALPHA\nuniform sampler2D texture1;\n#endif\n\nuniform float alpha;\nvoid main() {\n\tvec4 t_color = texture2D(texture, v_texcoord);\n\n   #ifdef TXTALPHA\n   t_color.a = texture2D(texture1, v_texcoord).a;\n   #endif\n\n\tgl_FragColor = t_color.rgba * v_color;\n\tgl_FragColor *= alpha;\n}",null)},$m}(),C$zuet=function(){function $p(C$zut,C$zue,C$zui){this._value=0,this._name2int=C$zut,this._int2name=C$zue,this._int2nameMap=C$zui}C$zui($p,"laya.webgl.shader.ShaderDefines");var C$zut=$p.prototype;return C$zut.add=function(C$zut){return"string"==typeof C$zut&&(C$zut=this._name2int[C$zut]),this._value|=C$zut,this._value},C$zut.addInt=function(C$zut){return this._value|=C$zut,this._value},C$zut.remove=function(C$zut){return"string"==typeof C$zut&&(C$zut=this._name2int[C$zut]),this._value&=~C$zut,this._value},C$zut.isDefine=function(C$zut){return(this._value&C$zut)===C$zut},C$zut.getValue=function(){return this._value},C$zut.setValue=function(C$zut){this._value=C$zut},C$zut.toNameDic=function(){return this._int2nameMap[this._value]||$p._toText(this._value,this._int2name,this._int2nameMap)},$p._reg=function(C$zut,C$zue,C$zui,C$zun){C$zun[C$zui[C$zut]=C$zue]=C$zut},$p._toText=function(C$zut,C$zue,C$zui){var C$zun=C$zui[C$zut];if(C$zun)return C$zun;for(var C$zur={},C$zus=1,C$zua=0;C$zua<32&&!(C$zut<(C$zus=1<<C$zua));C$zua++){var C$zuo;C$zut&C$zus&&((C$zuo=C$zue[C$zus])&&(C$zur[C$zuo]=""))}return C$zui[C$zut]=C$zur},$p._toInt=function(C$zut,C$zue){for(var C$zui=C$zut.split("."),C$zun=0,C$zur=0,C$zus=C$zui.length;C$zur<C$zus;C$zur++){var C$zua=C$zue[C$zui[C$zur]];if(!C$zua)throw new Error("Defines to int err:"+C$zut+"/"+C$zui[C$zur]);C$zun|=C$zua}return C$zun},$p}(),C$zuit=(C$zui($k,"laya.webgl.shader.d2.skinAnishader.SkinMesh"),(C$zut=$k.prototype).init=function(C$zut,C$zue,C$zui){var C$zun;C$zue?this._vs=C$zue:(this._vs=[],C$zue=C$zut.width,C$zun=C$zut.height,this._vs.push(0,0,0,0,1,1,1,1),this._vs.push(C$zue,0,1,0,1,1,1,1),this._vs.push(C$zue,C$zun,1,1,1,1,1,1),this._vs.push(0,C$zun,0,1,1,1,1,1)),C$zui?this._ps=C$zui:($k._defaultPS||($k._defaultPS=[]).push(0,1,3,3,1,2),this._ps=$k._defaultPS),this.mVBData=new Float32Array(this._vs),this.mIBData=new Uint16Array(this._ps.length),this.mIBData.start=-1,this.mEleNum=this._ps.length,this.mTexture=C$zut},C$zut.init2=function(C$zut,C$zue,C$zui,C$zun,C$zur){this.transform&&(this.transform=null),C$zui?this._ps=C$zui:(this._ps=[],this._ps.push(0,1,3,3,1,2)),this._verticles=C$zun,this._uvs=C$zur,this.mEleNum=this._ps.length,this.mTexture=C$zut,(C$zuM.isConchNode||C$zuM.isConchApp)&&(this._initMyData(),this.mVBData=new Float32Array(this._vs))},C$zut._initMyData=function(){var C$zut=0,C$zue=0,C$zui=4*this._verticles.length;this._vs=$k._tempVS;var C$zun=!1;if((C$zuM.isConchNode||C$zuM.isConchApp||this._vs.length<C$zui)&&(this._vs.length=C$zui,C$zun=!0),$k._tVSLen=C$zui,C$zun)for(;C$zut<C$zui;)this._vs[C$zut]=this._verticles[C$zue],this._vs[C$zut+1]=this._verticles[C$zue+1],this._vs[C$zut+2]=this._uvs[C$zue],this._vs[C$zut+3]=this._uvs[C$zue+1],this._vs[C$zut+4]=1,this._vs[C$zut+5]=1,this._vs[C$zut+6]=1,this._vs[C$zut+7]=1,C$zut+=8,C$zue+=2;else for(;C$zut<C$zui;)this._vs[C$zut]=this._verticles[C$zue],this._vs[C$zut+1]=this._verticles[C$zue+1],this._vs[C$zut+2]=this._uvs[C$zue],this._vs[C$zut+3]=this._uvs[C$zue+1],C$zut+=8,C$zue+=2},C$zut.getData2=function(C$zut,C$zue,C$zui){var C$zun;this.mVBBuffer=C$zut,this.mIBBuffer=C$zue,this._initMyData(),C$zut.appendEx2(this._vs,Float32Array,$k._tVSLen,4),this._indexStart=C$zue._byteLength,(C$zun=$k._tempIB).length<this._ps.length&&(C$zun.length=this._ps.length);for(var C$zur=0,C$zus=this._ps.length;C$zur<C$zus;C$zur++)C$zun[C$zur]=this._ps[C$zur]+C$zui;C$zue.appendEx2(C$zun,Uint16Array,this._ps.length,2)},C$zut.getData=function(C$zut,C$zue,C$zui){if(this.mVBBuffer=C$zut,this.mIBBuffer=C$zue,C$zut.append(this.mVBData),this._indexStart=C$zue._byteLength,this.mIBData.start!=C$zui){for(var C$zun=0,C$zur=this._ps.length;C$zun<C$zur;C$zun++)this.mIBData[C$zun]=this._ps[C$zun]+C$zui;this.mIBData.start=C$zui}C$zue.append(this.mIBData)},C$zut.render=function(C$zut,C$zue,C$zui){var C$zun,C$zur,C$zus;C$zuM.isWebGL&&this.mTexture?(C$zut._renderKey=0,C$zut._shader2D.glTexture=null,C$zunt.getInstance().addSkinMesh(this),C$zun=C$zuot.createShape(C$zut,this.mIBBuffer,this.mVBBuffer,this.mEleNum,this._indexStart,C$zuTt.create(512,0)),this.transform||(this.transform=C$zub.EMPTY),this.transform.translate(C$zue,C$zui),C$zub.mul(this.transform,C$zut._curMat,this._tempMatrix),this.transform.translate(-C$zue,-C$zui),C$zus=(C$zur=C$zun.shaderValue).u_mmat2||C$zul.getMatrArray(),C$zul.mat2MatArray(this._tempMatrix,C$zus),C$zur.textureHost=this.mTexture,C$zur.offsetX=0,C$zur.offsetY=0,C$zur.u_mmat2=C$zus,C$zur.ALPHA=C$zut._shader2D.ALPHA,C$zut._submits[C$zut._submits._length++]=C$zun):C$zuM.isConchApp&&this.mTexture&&(this.transform||(this.transform=C$zub.EMPTY),C$zut.setSkinMesh&&C$zut.setSkinMesh(C$zue,C$zui,this._ps,this.mVBData,this.mEleNum,0,this.mTexture,this.transform))},$k._tempVS=[],$k._tempIB=[],$k._defaultPS=null,$k._tVSLen=0,$k),C$zunt=function(){function $m(){this.ib=null,this.vb=null,C$zuu.mainContext,this.ib=C$zuZt.create(35048),this.vb=C$zuQt.create(8)}C$zui($m,"laya.webgl.shader.d2.skinAnishader.SkinMeshBuffer");var C$zut=$m.prototype;return C$zut.addSkinMesh=function(C$zut){C$zut.getData2(this.vb,this.ib,this.vb._byteLength/32)},C$zut.reset=function(){this.vb.clear(),this.ib.clear()},$m.getInstance=function(){return $m.instance=$m.instance||new $m},$m.instance=null,$m}(),C$zurt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh){this.r0=0,this.fill=!0,this.r1=Math.PI/2,void 0===C$zuh&&(C$zuh=0),this.x=C$zut,this.y=C$zue,this.width=C$zui,this.height=C$zun,this.edges=C$zur,this.color=C$zus,this.borderWidth=C$zua,this.borderColor=C$zuo}C$zui($m,"laya.webgl.shapes.BasePoly");var C$zut=$m.prototype;return C$zug.imps(C$zut,{"laya.webgl.shapes.IShape":!0}),C$zut.getData=function(C$zut,C$zue,C$zui){},C$zut.rebuild=function(C$zut){},C$zut.setMatrix=function(C$zut){},C$zut.needUpdate=function(C$zut){return!0},C$zut.sector=function(C$zut,C$zuu,C$zue){var C$zui=this.x,C$zun=this.y,C$zur=this.edges,C$zus=(this.r1-this.r0)/C$zur,C$zuc=this.width,C$zu_=this.height,C$zua=this.color,C$zuo=(C$zua>>16&255)/255,C$zuh=(C$zua>>8&255)/255,C$zud=(255&C$zua)/255;C$zut.push(C$zui,C$zun,C$zuo,C$zuh,C$zud);for(var C$zul=0;C$zul<C$zur+1;C$zul++)C$zut.push(C$zui+Math.sin(C$zus*C$zul+this.r0)*C$zuc,C$zun+Math.cos(C$zus*C$zul+this.r0)*C$zu_),C$zut.push(C$zuo,C$zuh,C$zud);for(C$zul=0;C$zul<C$zur;C$zul++)C$zuu.push(C$zue,C$zue+C$zul+1,C$zue+C$zul+2)},C$zut.createLine2=function(C$zuu,C$zuc,C$zu_,C$zud,C$zuf,C$zup){var C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zum,C$zug,C$zuv,C$zu$,C$zua,C$zux,C$zuo,C$zuy,C$zuh=C$zuu.concat(),C$zub=C$zuf,C$zuu=this.borderColor,C$zuT=(C$zuu>>16&255)/255,C$zuw=(C$zuu>>8&255)/255,C$zuM=(255&C$zuu)/255,C$zuS=C$zuh.length/2,C$zuC=C$zud,C$zuD=C$zu_/2;C$zut=C$zuh[0],C$zue=C$zuh[1],C$zus=C$zut-(C$zui=C$zuh[2]),C$zur=(C$zur=-(C$zue-(C$zun=C$zuh[3])))/(C$zuy=Math.sqrt(C$zur*C$zur+C$zus*C$zus))*C$zuD,C$zub.push(C$zut-C$zur+this.x,C$zue-(C$zus=C$zus/C$zuy*C$zuD)+this.y,C$zuT,C$zuw,C$zuM,C$zut+C$zur+this.x,C$zue+C$zus+this.y,C$zuT,C$zuw,C$zuM);for(var C$zul=1;C$zul<C$zuS-1;C$zul++)C$zut=C$zuh[2*(C$zul-1)],C$zue=C$zuh[2*(C$zul-1)+1],C$zui=C$zuh[2*C$zul],C$zun=C$zuh[2*C$zul+1],C$zu$=C$zuh[2*(C$zul+1)],C$zug=C$zuh[2*(C$zul+1)+1],C$zus=C$zut-C$zui,C$zuo=C$zui-C$zu$,C$zuv=(-(C$zur=(C$zur=-(C$zue-C$zun))/(C$zuy=Math.sqrt(C$zur*C$zur+C$zus*C$zus))*C$zuD)+C$zut)*(-(C$zus=C$zus/C$zuy*C$zuD)+C$zun)-(-C$zur+C$zui)*(-C$zus+C$zue),C$zux=(-(C$zua=(C$zua=-(C$zun-C$zug))/(C$zuy=Math.sqrt(C$zua*C$zua+C$zuo*C$zuo))*C$zuD)+C$zu$)*(-(C$zuo=C$zuo/C$zuy*C$zuD)+C$zun)-(-C$zua+C$zui)*(-C$zuo+C$zug),C$zuo=(C$zum=-C$zus+C$zue-(-C$zus+C$zun))*(C$zua=-C$zua+C$zui-(-C$zua+C$zu$))-(C$zu$=-C$zuo+C$zug-(-C$zuo+C$zun))*(C$zug=-C$zur+C$zui-(-C$zur+C$zut)),Math.abs(C$zuo)<.1?(C$zuo+=10.1,C$zub.push(C$zui-C$zur+this.x,C$zun-C$zus+this.y,C$zuT,C$zuw,C$zuM,C$zui+C$zur+this.x,C$zun+C$zus+this.y,C$zuT,C$zuw,C$zuM)):C$zub.push((C$zug=(C$zug*C$zux-C$zua*C$zuv)/C$zuo)+this.x,(C$zua=(C$zu$*C$zuv-C$zum*C$zux)/C$zuo)+this.y,C$zuT,C$zuw,C$zuM,C$zui-(C$zug-C$zui)+this.x,C$zun-(C$zua-C$zun)+this.y,C$zuT,C$zuw,C$zuM);C$zut=C$zuh[C$zuh.length-4],C$zue=C$zuh[C$zuh.length-3],C$zus=C$zut-(C$zui=C$zuh[C$zuh.length-2]),C$zur=(C$zur=-(C$zue-(C$zun=C$zuh[C$zuh.length-1])))/(C$zuy=Math.sqrt(C$zur*C$zur+C$zus*C$zus))*C$zuD,C$zub.push(C$zui-C$zur+this.x,C$zun-(C$zus=C$zus/C$zuy*C$zuD)+this.y,C$zuT,C$zuw,C$zuM,C$zui+C$zur+this.x,C$zun+C$zus+this.y,C$zuT,C$zuw,C$zuM);var C$zuE=C$zup;for(C$zul=1;C$zul<C$zuE;C$zul++)C$zuc.push(C$zuC+2*(C$zul-1),C$zuC+2*(C$zul-1)+1,C$zuC+2*C$zul+1,C$zuC+2*C$zul+1,C$zuC+2*C$zul,C$zuC+2*(C$zul-1));return C$zub},C$zut.createLine=function(C$zuu,C$zuc,C$zu_,C$zud){var C$zut=C$zuu.concat(),C$zuf=C$zuu,C$zuu=this.borderColor,C$zup=(C$zuu>>16&255)/255,C$zum=(C$zuu>>8&255)/255,C$zug=(255&C$zuu)/255;C$zut.splice(0,5);var C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuv,C$zu$,C$zux,C$zuy,C$zuo,C$zub,C$zuh,C$zuT,C$zuw=C$zut.length/5,C$zuM=C$zud,C$zuS=C$zu_/2;C$zue=C$zut[0],C$zui=C$zut[1],C$zua=C$zue-(C$zun=C$zut[5]),C$zus=(C$zus=-(C$zui-(C$zur=C$zut[6])))/(C$zuT=Math.sqrt(C$zus*C$zus+C$zua*C$zua))*C$zuS,C$zuf.push(C$zue-C$zus,C$zui-(C$zua=C$zua/C$zuT*C$zuS),C$zup,C$zum,C$zug,C$zue+C$zus,C$zui+C$zua,C$zup,C$zum,C$zug);for(var C$zul=1;C$zul<C$zuw-1;C$zul++)C$zue=C$zut[5*(C$zul-1)],C$zui=C$zut[5*(C$zul-1)+1],C$zun=C$zut[5*C$zul],C$zur=C$zut[5*C$zul+1],C$zuy=C$zut[5*(C$zul+1)],C$zu$=C$zut[5*(C$zul+1)+1],C$zua=C$zue-C$zun,C$zuh=C$zun-C$zuy,C$zux=(-(C$zus=(C$zus=-(C$zui-C$zur))/(C$zuT=Math.sqrt(C$zus*C$zus+C$zua*C$zua))*C$zuS)+C$zue)*(-(C$zua=C$zua/C$zuT*C$zuS)+C$zur)-(-C$zus+C$zun)*(-C$zua+C$zui),C$zub=(-(C$zuo=(C$zuo=-(C$zur-C$zu$))/(C$zuT=Math.sqrt(C$zuo*C$zuo+C$zuh*C$zuh))*C$zuS)+C$zuy)*(-(C$zuh=C$zuh/C$zuT*C$zuS)+C$zur)-(-C$zuo+C$zun)*(-C$zuh+C$zu$),C$zuh=(C$zuv=-C$zua+C$zui-(-C$zua+C$zur))*(C$zuo=-C$zuo+C$zun-(-C$zuo+C$zuy))-(C$zuy=-C$zuh+C$zu$-(-C$zuh+C$zur))*(C$zu$=-C$zus+C$zun-(-C$zus+C$zue)),Math.abs(C$zuh)<.1?(C$zuh+=10.1,C$zuf.push(C$zun-C$zus,C$zur-C$zua,C$zup,C$zum,C$zug,C$zun+C$zus,C$zur+C$zua,C$zup,C$zum,C$zug)):C$zuf.push(C$zu$=(C$zu$*C$zub-C$zuo*C$zux)/C$zuh,C$zuo=(C$zuy*C$zux-C$zuv*C$zub)/C$zuh,C$zup,C$zum,C$zug,C$zun-(C$zu$-C$zun),C$zur-(C$zuo-C$zur),C$zup,C$zum,C$zug);C$zue=C$zut[C$zut.length-10],C$zui=C$zut[C$zut.length-9],C$zua=C$zue-(C$zun=C$zut[C$zut.length-5]),C$zus=(C$zus=-(C$zui-(C$zur=C$zut[C$zut.length-4])))/(C$zuT=Math.sqrt(C$zus*C$zus+C$zua*C$zua))*C$zuS,C$zuf.push(C$zun-C$zus,C$zur-(C$zua=C$zua/C$zuT*C$zuS),C$zup,C$zum,C$zug,C$zun+C$zus,C$zur+C$zua,C$zup,C$zum,C$zug);var C$zuC=this.edges+1;for(C$zul=1;C$zul<C$zuC;C$zul++)C$zuc.push(C$zuM+2*(C$zul-1),C$zuM+2*(C$zul-1)+1,C$zuM+2*C$zul+1,C$zuM+2*C$zul+1,C$zuM+2*C$zul,C$zuM+2*(C$zul-1));return C$zuf},C$zut.createLoopLine=function(C$zuu,C$zuc,C$zu_,C$zud,C$zut,C$zuf){var C$zue=C$zuu.concat(),C$zup=C$zut||C$zuu,C$zut=this.borderColor,C$zum=(C$zut>>16&255)/255,C$zug=(C$zut>>8&255)/255,C$zuv=(255&C$zut)/255;C$zue.splice(0,5);var C$zuu=[C$zue[0],C$zue[1]],C$zut=[C$zue[C$zue.length-5],C$zue[C$zue.length-4]],C$zu$=C$zut[0]+.5*(C$zuu[0]-C$zut[0]),C$zuu=C$zut[1]+.5*(C$zuu[1]-C$zut[1]);C$zue.unshift(C$zu$,C$zuu,0,0,0),C$zue.push(C$zu$,C$zuu,0,0,0);var C$zux,C$zuy,C$zui,C$zun,C$zur,C$zus,C$zub,C$zuT,C$zuw,C$zuM,C$zua,C$zuS,C$zuo,C$zuC,C$zuD=C$zue.length/5,C$zuh=C$zud,C$zuE=C$zu_/2;C$zux=C$zue[0],C$zuy=C$zue[1],C$zus=C$zux-C$zue[5],C$zur=(C$zur=-(C$zuy-C$zue[6]))/(C$zuC=Math.sqrt(C$zur*C$zur+C$zus*C$zus))*C$zuE,C$zup.push(C$zux-C$zur,C$zuy-(C$zus=C$zus/C$zuC*C$zuE),C$zum,C$zug,C$zuv,C$zux+C$zur,C$zuy+C$zus,C$zum,C$zug,C$zuv);for(var C$zul=1;C$zul<C$zuD-1;C$zul++)C$zux=C$zue[5*(C$zul-1)],C$zuy=C$zue[5*(C$zul-1)+1],C$zui=C$zue[5*C$zul],C$zun=C$zue[5*C$zul+1],C$zuM=C$zue[5*(C$zul+1)],C$zuT=C$zue[5*(C$zul+1)+1],C$zus=C$zux-C$zui,C$zuo=C$zui-C$zuM,C$zuw=(-(C$zur=(C$zur=-(C$zuy-C$zun))/(C$zuC=Math.sqrt(C$zur*C$zur+C$zus*C$zus))*C$zuE)+C$zux)*(-(C$zus=C$zus/C$zuC*C$zuE)+C$zun)-(-C$zur+C$zui)*(-C$zus+C$zuy),C$zuS=(-(C$zua=(C$zua=-(C$zun-C$zuT))/(C$zuC=Math.sqrt(C$zua*C$zua+C$zuo*C$zuo))*C$zuE)+C$zuM)*(-(C$zuo=C$zuo/C$zuC*C$zuE)+C$zun)-(-C$zua+C$zui)*(-C$zuo+C$zuT),C$zuo=(C$zub=-C$zus+C$zuy-(-C$zus+C$zun))*(C$zua=-C$zua+C$zui-(-C$zua+C$zuM))-(C$zuM=-C$zuo+C$zuT-(-C$zuo+C$zun))*(C$zuT=-C$zur+C$zui-(-C$zur+C$zux)),Math.abs(C$zuo)<.1?(C$zuo+=10.1,C$zup.push(C$zui-C$zur,C$zun-C$zus,C$zum,C$zug,C$zuv,C$zui+C$zur,C$zun+C$zus,C$zum,C$zug,C$zuv)):C$zup.push(C$zuT=(C$zuT*C$zuS-C$zua*C$zuw)/C$zuo,C$zua=(C$zuM*C$zuw-C$zub*C$zuS)/C$zuo,C$zum,C$zug,C$zuv,C$zui-(C$zuT-C$zui),C$zun-(C$zua-C$zun),C$zum,C$zug,C$zuv);C$zuf&&(C$zuc=C$zuf);var C$zuP=this.edges+1;for(C$zul=1;C$zul<C$zuP;C$zul++)C$zuc.push(C$zuh+2*(C$zul-1),C$zuh+2*(C$zul-1)+1,C$zuh+2*C$zul+1,C$zuh+2*C$zul+1,C$zuh+2*C$zul,C$zuh+2*(C$zul-1));return C$zuc.push(C$zuh+2*(C$zul-1),C$zuh+2*(C$zul-1)+1,C$zuh+1,C$zuh+1,C$zuh,C$zuh+2*(C$zul-1)),C$zup},$m}(),C$zust=(C$zui($B,"laya.webgl.shapes.Earcut"),$B.earcut=function(C$zut,C$zue,C$zui){C$zui=C$zui||2;var C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul,C$zuu=C$zue&&C$zue.length,C$zuc=C$zuu?C$zue[0]*C$zui:C$zut.length,C$zu_=$B.linkedList(C$zut,0,C$zuc,C$zui,!0),C$zud=[];if(!C$zu_)return C$zud;if(C$zuu&&(C$zu_=$B.eliminateHoles(C$zut,C$zue,C$zu_,C$zui)),C$zut.length>80*C$zui){C$zun=C$zus=C$zut[0],C$zur=C$zua=C$zut[1];for(var C$zuf=C$zui;C$zuf<C$zuc;C$zuf+=C$zui)(C$zuo=C$zut[C$zuf])<C$zun&&(C$zun=C$zuo),(C$zuh=C$zut[C$zuf+1])<C$zur&&(C$zur=C$zuh),C$zus<C$zuo&&(C$zus=C$zuo),C$zua<C$zuh&&(C$zua=C$zuh);C$zul=0!==(C$zul=Math.max(C$zus-C$zun,C$zua-C$zur))?1/C$zul:0}return $B.earcutLinked(C$zu_,C$zud,C$zui,C$zun,C$zur,C$zul),C$zud},$B.linkedList=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus,C$zua;if(C$zur===0<$B.signedArea(C$zut,C$zue,C$zui,C$zun))for(C$zus=C$zue;C$zus<C$zui;C$zus+=C$zun)C$zua=$B.insertNode(C$zus,C$zut[C$zus],C$zut[C$zus+1],C$zua);else for(C$zus=C$zui-C$zun;C$zue<=C$zus;C$zus-=C$zun)C$zua=$B.insertNode(C$zus,C$zut[C$zus],C$zut[C$zus+1],C$zua);return C$zua&&$B.equals(C$zua,C$zua.next)&&($B.removeNode(C$zua),C$zua=C$zua.next),C$zua},$B.filterPoints=function(C$zut,C$zue){if(!C$zut)return C$zut;C$zue=C$zue||C$zut;var C$zui,C$zun=C$zut;do{if(C$zui=!1,C$zun.steiner||!$B.equals(C$zun,C$zun.next)&&0!==$B.area(C$zun.prev,C$zun,C$zun.next))C$zun=C$zun.next;else{if($B.removeNode(C$zun),(C$zun=C$zue=C$zun.prev)===C$zun.next)break;C$zui=!0}}while(C$zui||C$zun!==C$zue);return C$zue},$B.earcutLinked=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){if(C$zut){!C$zua&&C$zus&&$B.indexCurve(C$zut,C$zun,C$zur,C$zus);for(var C$zuo,C$zuh,C$zul=C$zut;C$zut.prev!==C$zut.next;)if(C$zuo=C$zut.prev,C$zuh=C$zut.next,C$zus?$B.isEarHashed(C$zut,C$zun,C$zur,C$zus):$B.isEar(C$zut))C$zue.push(C$zuo.i/C$zui),C$zue.push(C$zut.i/C$zui),C$zue.push(C$zuh.i/C$zui),$B.removeNode(C$zut),C$zut=C$zuh.next,C$zul=C$zuh.next;else if((C$zut=C$zuh)===C$zul){C$zua?1===C$zua?(C$zut=$B.cureLocalIntersections(C$zut,C$zue,C$zui),$B.earcutLinked(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,2)):2===C$zua&&$B.splitEarcut(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus):$B.earcutLinked($B.filterPoints(C$zut,null),C$zue,C$zui,C$zun,C$zur,C$zus,1);break}}},$B.isEar=function(C$zut){var C$zue=C$zut.prev,C$zui=C$zut,C$zun=C$zut.next;if(0<=$B.area(C$zue,C$zui,C$zun))return!1;for(var C$zur=C$zut.next.next;C$zur!==C$zut.prev;){if($B.pointInTriangle(C$zue.x,C$zue.y,C$zui.x,C$zui.y,C$zun.x,C$zun.y,C$zur.x,C$zur.y)&&0<=$B.area(C$zur.prev,C$zur,C$zur.next))return!1;C$zur=C$zur.next}return!0},$B.isEarHashed=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut.prev,C$zus=C$zut,C$zua=C$zut.next;if(0<=$B.area(C$zur,C$zus,C$zua))return!1;for(var C$zuo=(C$zur.x<C$zus.x?C$zur.x<C$zua.x?C$zur:C$zua:C$zus.x<C$zua.x?C$zus:C$zua).x,C$zuh=(C$zur.y<C$zus.y?C$zur.y<C$zua.y?C$zur:C$zua:C$zus.y<C$zua.y?C$zus:C$zua).y,C$zuu=(C$zur.x>C$zus.x?C$zur.x>C$zua.x?C$zur:C$zua:C$zus.x>C$zua.x?C$zus:C$zua).x,C$zuc=(C$zur.y>C$zus.y?C$zur.y>C$zua.y?C$zur:C$zua:C$zus.y>C$zua.y?C$zus:C$zua).y,C$zu_=$B.zOrder(C$zuo,C$zuh,C$zue,C$zui,C$zun),C$zud=$B.zOrder(C$zuu,C$zuc,C$zue,C$zui,C$zun),C$zul=C$zut.nextZ;C$zul&&C$zul.z<=C$zud;){if(C$zul!==C$zut.prev&&C$zul!==C$zut.next&&$B.pointInTriangle(C$zur.x,C$zur.y,C$zus.x,C$zus.y,C$zua.x,C$zua.y,C$zul.x,C$zul.y)&&0<=$B.area(C$zul.prev,C$zul,C$zul.next))return!1;C$zul=C$zul.nextZ}for(C$zul=C$zut.prevZ;C$zul&&C$zul.z>=C$zu_;){if(C$zul!==C$zut.prev&&C$zul!==C$zut.next&&$B.pointInTriangle(C$zur.x,C$zur.y,C$zus.x,C$zus.y,C$zua.x,C$zua.y,C$zul.x,C$zul.y)&&0<=$B.area(C$zul.prev,C$zul,C$zul.next))return!1;C$zul=C$zul.prevZ}return!0},$B.cureLocalIntersections=function(C$zut,C$zue,C$zui){var C$zun=C$zut;do{var C$zur=C$zun.prev,C$zus=C$zun.next.next}while(!$B.equals(C$zur,C$zus)&&$B.intersects(C$zur,C$zun,C$zun.next,C$zus)&&$B.locallyInside(C$zur,C$zus)&&$B.locallyInside(C$zus,C$zur)&&(C$zue.push(C$zur.i/C$zui),C$zue.push(C$zun.i/C$zui),C$zue.push(C$zus.i/C$zui),$B.removeNode(C$zun),$B.removeNode(C$zun.next),C$zun=C$zut=C$zus),(C$zun=C$zun.next)!==C$zut);return C$zun},$B.splitEarcut=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){var C$zua=C$zut;do{for(var C$zuo=C$zua.next.next;C$zuo!==C$zua.prev;){var C$zuh;if(C$zua.i!==C$zuo.i&&$B.isValidDiagonal(C$zua,C$zuo))return C$zuh=$B.splitPolygon(C$zua,C$zuo),C$zua=$B.filterPoints(C$zua,C$zua.next),C$zuh=$B.filterPoints(C$zuh,C$zuh.next),$B.earcutLinked(C$zua,C$zue,C$zui,C$zun,C$zur,C$zus),void $B.earcutLinked(C$zuh,C$zue,C$zui,C$zun,C$zur,C$zus);C$zuo=C$zuo.next}}while((C$zua=C$zua.next)!==C$zut)},$B.eliminateHoles=function(C$zut,C$zue,C$zui,C$zun){var C$zur,C$zus,C$zua,C$zuo,C$zuh=[];for(C$zur=0,C$zus=C$zue.length;C$zur<C$zus;C$zur++)C$zuo=C$zue[C$zur]*C$zun,C$zua=C$zur<C$zus-1?C$zue[C$zur+1]*C$zun:C$zut.length,(C$zuo=$B.linkedList(C$zut,C$zuo,C$zua,C$zun,!1))===C$zuo.next&&(C$zuo.steiner=!0),C$zuh.push($B.getLeftmost(C$zuo));for(C$zuh.sort($B.compareX),C$zur=0;C$zur<C$zuh.length;C$zur++)$B.eliminateHole(C$zuh[C$zur],C$zui),C$zui=$B.filterPoints(C$zui,C$zui.next);return C$zui},$B.compareX=function(C$zut,C$zue){return C$zut.x-C$zue.x},$B.eliminateHole=function(C$zut,C$zue){(C$zue=$B.findHoleBridge(C$zut,C$zue))&&(C$zue=$B.splitPolygon(C$zue,C$zut),$B.filterPoints(C$zue,C$zue.next))},$B.findHoleBridge=function(C$zut,C$zuu){var C$zue,C$zui=C$zuu,C$zun=C$zut.x,C$zur=C$zut.y,C$zus=-1/0;do{if(C$zur<=C$zui.y&&C$zur>=C$zui.next.y&&C$zui.next.y!==C$zui.y){var C$zua=C$zui.x+(C$zur-C$zui.y)*(C$zui.next.x-C$zui.x)/(C$zui.next.y-C$zui.y);if(C$zua<=C$zun&&C$zus<C$zua){if((C$zus=C$zua)===C$zun){if(C$zur===C$zui.y)return C$zui;if(C$zur===C$zui.next.y)return C$zui.next}C$zue=C$zui.x<C$zui.next.x?C$zui:C$zui.next}}}while((C$zui=C$zui.next)!==C$zuu);if(!C$zue)return null;if(C$zun===C$zus)return C$zue.prev;var C$zuo,C$zuc=C$zue,C$zu_=C$zue.x,C$zuh=C$zue.y,C$zul=1/0;for(C$zui=C$zue.next;C$zui!==C$zuc;)C$zun>=C$zui.x&&C$zui.x>=C$zu_&&C$zun!==C$zui.x&&$B.pointInTriangle(C$zur<C$zuh?C$zun:C$zus,C$zur,C$zu_,C$zuh,C$zur<C$zuh?C$zus:C$zun,C$zur,C$zui.x,C$zui.y)&&((C$zuo=Math.abs(C$zur-C$zui.y)/(C$zun-C$zui.x))<C$zul||C$zuo===C$zul&&C$zui.x>C$zue.x)&&$B.locallyInside(C$zui,C$zut)&&(C$zue=C$zui,C$zul=C$zuo),C$zui=C$zui.next;return C$zue},$B.indexCurve=function(C$zut,C$zue,C$zui,C$zun){for(var C$zur=C$zut;null===C$zur.z&&(C$zur.z=$B.zOrder(C$zur.x,C$zur.y,C$zue,C$zui,C$zun)),C$zur.prevZ=C$zur.prev,C$zur.nextZ=C$zur.next,(C$zur=C$zur.next)!==C$zut;);C$zur.prevZ.nextZ=null,C$zur.prevZ=null,$B.sortLinked(C$zur)},$B.sortLinked=function(C$zut){var C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul=1;do{for(C$zui=C$zut,C$zus=C$zut=null,C$zua=0;C$zui;){for(C$zua++,C$zun=C$zui,C$zue=C$zuo=0;C$zue<C$zul&&(C$zuo++,C$zun=C$zun.nextZ);C$zue++);for(C$zuh=C$zul;0<C$zuo||0<C$zuh&&C$zun;)0!==C$zuo&&(0===C$zuh||!C$zun||C$zui.z<=C$zun.z)?(C$zui=(C$zur=C$zui).nextZ,C$zuo--):(C$zun=(C$zur=C$zun).nextZ,C$zuh--),C$zus?C$zus.nextZ=C$zur:C$zut=C$zur,C$zur.prevZ=C$zus,C$zus=C$zur;C$zui=C$zun}}while(C$zus.nextZ=null,C$zul*=2,1<C$zua);return C$zut},$B.zOrder=function(C$zut,C$zue,C$zui,C$zun,C$zur){return(C$zut=1431655765&((C$zut=858993459&((C$zut=252645135&((C$zut=16711935&((C$zut=32767*(C$zut-C$zui)*C$zur)|C$zut<<8))|C$zut<<4))|C$zut<<2))|C$zut<<1))|(1431655765&((C$zue=858993459&((C$zue=252645135&((C$zue=16711935&((C$zue=32767*(C$zue-C$zun)*C$zur)|C$zue<<8))|C$zue<<4))|C$zue<<2))|C$zue<<1))<<1},$B.getLeftmost=function(C$zut){for(var C$zue=C$zut,C$zui=C$zut;C$zue.x<C$zui.x&&(C$zui=C$zue),(C$zue=C$zue.next)!==C$zut;);return C$zui},$B.pointInTriangle=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){return 0<=(C$zur-C$zua)*(C$zue-C$zuo)-(C$zut-C$zua)*(C$zus-C$zuo)&&0<=(C$zut-C$zua)*(C$zun-C$zuo)-(C$zui-C$zua)*(C$zue-C$zuo)&&0<=(C$zui-C$zua)*(C$zus-C$zuo)-(C$zur-C$zua)*(C$zun-C$zuo)},$B.isValidDiagonal=function(C$zut,C$zue){return C$zut.next.i!==C$zue.i&&C$zut.prev.i!==C$zue.i&&!$B.intersectsPolygon(C$zut,C$zue)&&$B.locallyInside(C$zut,C$zue)&&$B.locallyInside(C$zue,C$zut)&&$B.middleInside(C$zut,C$zue)},$B.area=function(C$zut,C$zue,C$zui){return(C$zue.y-C$zut.y)*(C$zui.x-C$zue.x)-(C$zue.x-C$zut.x)*(C$zui.y-C$zue.y)},$B.equals=function(C$zut,C$zue){return C$zut.x===C$zue.x&&C$zut.y===C$zue.y},$B.intersects=function(C$zut,C$zue,C$zui,C$zun){return!!($B.equals(C$zut,C$zue)&&$B.equals(C$zui,C$zun)||$B.equals(C$zut,C$zun)&&$B.equals(C$zui,C$zue))||0<$B.area(C$zut,C$zue,C$zui)!=0<$B.area(C$zut,C$zue,C$zun)&&0<$B.area(C$zui,C$zun,C$zut)!=0<$B.area(C$zui,C$zun,C$zue)},$B.intersectsPolygon=function(C$zut,C$zue){var C$zui=C$zut;do{if(C$zui.i!==C$zut.i&&C$zui.next.i!==C$zut.i&&C$zui.i!==C$zue.i&&C$zui.next.i!==C$zue.i&&$B.intersects(C$zui,C$zui.next,C$zut,C$zue))return!0}while((C$zui=C$zui.next)!==C$zut);return!1},$B.locallyInside=function(C$zut,C$zue){return $B.area(C$zut.prev,C$zut,C$zut.next)<0?0<=$B.area(C$zut,C$zue,C$zut.next)&&0<=$B.area(C$zut,C$zut.prev,C$zue):$B.area(C$zut,C$zue,C$zut.prev)<0||$B.area(C$zut,C$zut.next,C$zue)<0},$B.middleInside=function(C$zut,C$zue){for(var C$zui=C$zut,C$zun=!1,C$zur=(C$zut.x+C$zue.x)/2,C$zus=(C$zut.y+C$zue.y)/2;C$zui.y>C$zus!=C$zui.next.y>C$zus&&C$zui.next.y!==C$zui.y&&C$zur<(C$zui.next.x-C$zui.x)*(C$zus-C$zui.y)/(C$zui.next.y-C$zui.y)+C$zui.x&&(C$zun=!C$zun),(C$zui=C$zui.next)!==C$zut;);return C$zun},$B.splitPolygon=function(C$zut,C$zue){var C$zui=new C$zuat(C$zut.i,C$zut.x,C$zut.y),C$zun=new C$zuat(C$zue.i,C$zue.x,C$zue.y),C$zur=C$zut.next,C$zus=C$zue.prev;return(C$zut.next=C$zue).prev=C$zut,(C$zui.next=C$zur).prev=C$zui,(C$zun.next=C$zui).prev=C$zun,(C$zus.next=C$zun).prev=C$zus,C$zun},$B.insertNode=function(C$zut,C$zue,C$zui,C$zun){C$zut=new C$zuat(C$zut,C$zue,C$zui);return C$zun?(C$zut.next=C$zun.next,(C$zut.prev=C$zun).next.prev=C$zut,C$zun.next=C$zut):(C$zut.prev=C$zut).next=C$zut,C$zut},$B.removeNode=function(C$zut){C$zut.next.prev=C$zut.prev,C$zut.prev.next=C$zut.next,C$zut.prevZ&&(C$zut.prevZ.nextZ=C$zut.nextZ),C$zut.nextZ&&(C$zut.nextZ.prevZ=C$zut.prevZ)},$B.signedArea=function(C$zut,C$zue,C$zui,C$zun){for(var C$zur=0,C$zus=C$zue,C$zua=C$zui-C$zun;C$zus<C$zui;C$zus+=C$zun)C$zur+=(C$zut[C$zua]-C$zut[C$zus])*(C$zut[C$zus+1]+C$zut[C$zua+1]),C$zua=C$zus;return C$zur},$B),C$zuat=function(){function $m(C$zut,C$zue,C$zui){this.i=null,this.x=null,this.y=null,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=null,this.i=C$zut,this.x=C$zue,this.y=C$zui,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}return C$zui($m,"laya.webgl.shapes.EarcutNode"),$m}(),C$zuot=(function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){this.lineWidth=C$zut,this.lineColor=C$zue,this.lineAlpha=C$zui,this.fillColor=C$zun,this.fillAlpha=C$zur,this.shape=C$zua,this.fill=C$zus}C$zui($m,"laya.webgl.shapes.GeometryData");var C$zut=$m.prototype;C$zut.clone=function(){return new $m(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},C$zut.getIndexData=function(){return null},C$zut.getVertexData=function(){return null},C$zut.destroy=function(){this.shape=null}}(),function(){function $m(C$zut){C$zut instanceof Float32Array?this.points=C$zut:C$zut instanceof Array&&(C$zut.length,this.points=new Float32Array(C$zut))}C$zui($m,"laya.webgl.shapes.Vertex");var C$zut=$m.prototype;C$zug.imps(C$zut,{"laya.webgl.shapes.IShape":!0}),C$zut.getData=function(C$zut,C$zue,C$zui){},C$zut.needUpdate=function(C$zut){return!1},C$zut.rebuild=function(C$zut){},C$zut.setMatrix=function(C$zut){}}(),C$zui($d,"laya.webgl.submit.Submit"),C$zut=$d.prototype,C$zug.imps(C$zut,{"laya.webgl.submit.ISubmit":!0}),C$zut.releaseRender=function(){var C$zut=$d._cache;(C$zut[C$zut._length++]=this).shaderValue.release(),this.shaderValue=null,this._vb=null,this._ib=null},C$zut.getRenderType=function(){return this._renderType},C$zut.renderSubmit=function(){if(0===this._numEle)return 1;var C$zut=this.shaderValue.textureHost;if(C$zut){var C$zue=C$zut.source;if(!C$zut.bitmap||!C$zue)return 1;this.shaderValue.texture=C$zue,C$zut.alphaTexture&&C$zut.alphaTexture.source&&(this.shaderValue.texture1=C$zut.alphaTexture.source)}this._vb.bind_upload(this._ib);C$zue=C$zuu.mainContext;return this.shaderValue.upload(),C$zuz.activeBlendFunction!==this._blendFn&&(C$zue.enable(3042),this._blendFn(C$zue),C$zuz.activeBlendFunction=this._blendFn),C$zuI.drawCall++,C$zuI.trianglesFaces+=this._numEle/3,C$zue.drawElements(4,this._numEle,5123,this._startIdx),1},$d.__init__=function(){var C$zut=$d.RENDERBASE=new $d(-1);C$zut.shaderValue=new C$zuTt(0,0),C$zut.shaderValue.ALPHA=-1234},$d.createSubmit=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=$d._cache._length?$d._cache[--$d._cache._length]:new $d;null==C$zui&&((C$zui=C$zus._selfVb||(C$zus._selfVb=C$zuQt.create(-1))).clear(),C$zun=0),C$zus._ib=C$zue,C$zus._vb=C$zui,C$zus._startIdx=C$zun*C$zugt.BYTES_PIDX,C$zus._numEle=0;C$zue=C$zut._nBlendType;C$zus._blendFn=(C$zut._targets?C$zuz.targetFns:C$zuz.fns)[C$zue],C$zus.shaderValue=C$zur,C$zus.shaderValue.setValue(C$zut._shader2D);C$zui=C$zut._shader2D.filters;return C$zui&&C$zus.shaderValue.setFilters(C$zui),C$zus},$d.createShape=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){var C$zua=$d._cache._length?$d._cache[--$d._cache._length]:new $d;C$zua._ib=C$zue,C$zua._vb=C$zui,C$zua._numEle=C$zun,C$zua._startIdx=C$zur,C$zua.shaderValue=C$zus,C$zua.shaderValue.setValue(C$zut._shader2D);C$zue=C$zut._nBlendType;return C$zua._blendFn=(C$zut._targets?C$zuz.targetFns:C$zuz.fns)[C$zue],C$zua},$d.TYPE_2D=1e4,$d.TYPE_CANVAS=10003,$d.TYPE_CMDSETRT=10004,$d.TYPE_CUSTOM=10005,$d.TYPE_BLURRT=10006,$d.TYPE_CMDDESTORYPRERT=10007,$d.TYPE_DISABLESTENCIL=10008,$d.TYPE_OTHERIBVB=10009,$d.TYPE_PRIMITIVE=10010,$d.TYPE_RT=10011,$d.TYPE_BLUR_RT=10012,$d.TYPE_TARGET=10013,$d.TYPE_CHANGE_VALUE=10014,$d.TYPE_SHAPE=10015,$d.TYPE_TEXTURE=10016,$d.TYPE_FILLTEXTURE=10017,$d.RENDERBASE=null,$d._cache=(($d._cache=[])._length=0,$d._cache),$d),C$zuht=function(){function $P(){this.fun=null,this.args=null}C$zui($P,"laya.webgl.submit.SubmitCMD");var C$zut=$P.prototype;return C$zug.imps(C$zut,{"laya.webgl.submit.ISubmit":!0}),C$zut.renderSubmit=function(){return this.fun.apply(null,this.args),1},C$zut.getRenderType=function(){return 0},C$zut.releaseRender=function(){var C$zut=$P._cache;C$zut[C$zut._length++]=this},$P.create=function(C$zut,C$zue){var C$zui=$P._cache._length?$P._cache[--$P._cache._length]:new $P;return C$zui.fun=C$zue,C$zui.args=C$zut,C$zui},$P._cache=(($P._cache=[])._length=0,$P._cache),$P}(),C$zult=function(){function $p(){this.variables={}}C$zui($p,"laya.webgl.submit.SubmitCMDScope");var C$zut=$p.prototype;return C$zut.getValue=function(C$zut){return this.variables[C$zut]},C$zut.addValue=function(C$zut,C$zue){return this.variables[C$zut]=C$zue},C$zut.setValue=function(C$zut,C$zue){return this.variables.hasOwnProperty(C$zut)?this.variables[C$zut]=C$zue:null},C$zut.clear=function(){for(var C$zut in this.variables)delete this.variables[C$zut]},C$zut.recycle=function(){this.clear(),$p.POOL.push(this)},$p.create=function(){var C$zut=$p.POOL.pop();return C$zut=C$zut||new $p},$p.POOL=[],$p}(),C$zuut=(C$zui($F,"laya.webgl.submit.SubmitOtherIBVB"),C$zut=$F.prototype,C$zug.imps(C$zut,{"laya.webgl.submit.ISubmit":!0}),C$zut.releaseRender=function(){var C$zut=$F._cache;(C$zut[C$zut._length++]=this).shaderValue.release(),this.shaderValue=null,this._vb=null,this._ib=null},C$zut.getRenderType=function(){return 10009},C$zut.renderSubmit=function(){var C$zut=this._shaderValue.textureHost;if(C$zut){var C$zue=C$zut.source;if(!C$zut.bitmap||!C$zue)return 1;this._shaderValue.texture=C$zue}this._vb.bind_upload(this._ib);C$zut=C$zul.worldMatrix4,C$zue=C$zub.TEMP;C$zub.mulPre(this._mat,C$zut[0],C$zut[1],C$zut[4],C$zut[5],C$zut[12],C$zut[13],C$zue);var C$zui=C$zul.worldMatrix4=$F.tempMatrix4;C$zui[0]=C$zue.a,C$zui[1]=C$zue.b,C$zui[4]=C$zue.c,C$zui[5]=C$zue.d,C$zui[12]=C$zue.tx,C$zui[13]=C$zue.ty,this._shader._offset=this.offset,this._shaderValue.refresh(),this._shader.upload(this._shaderValue),this._shader._offset=0;C$zui=C$zuu.mainContext;return C$zuz.activeBlendFunction!==this._blendFn&&(C$zui.enable(3042),this._blendFn(C$zui),C$zuz.activeBlendFunction=this._blendFn),C$zuI.drawCall++,C$zuI.trianglesFaces+=this._numEle/3,C$zui.drawElements(4,this._numEle,5123,this.startIndex),C$zul.worldMatrix4=C$zut,C$zuLt.activeShader=null,1},$F.create=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh){void 0===C$zuh&&(C$zuh=0);var C$zul=$F._cache._length?$F._cache[--$F._cache._length]:new $F;C$zul._ib=C$zui,C$zul._vb=C$zue,C$zul._numEle=C$zun,C$zul._shader=C$zur,C$zul._shaderValue=C$zus;C$zui=C$zut._nBlendType;switch(C$zul._blendFn=(C$zut._targets?C$zuz.targetFns:C$zuz.fns)[C$zui],C$zuh){case 0:C$zul.offset=0,C$zul.startIndex=C$zuo/(C$zugt.BYTES_PE*C$zue.vertexStride)*1.5,C$zul.startIndex*=C$zugt.BYTES_PIDX;break;case 1:C$zul.startIndex=C$zua,C$zul.offset=C$zuo}return C$zul},$F._cache=(($F._cache=[])._length=0,$F._cache),$F.tempMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],$F),C$zuct=function(){function $h(){this.submitIndex=0,this.submitLength=0,this.context=null,this.clipRect=new C$zuw,this.screenRect=new C$zuw}C$zui($h,"laya.webgl.submit.SubmitScissor");var C$zut=$h.prototype;return C$zug.imps(C$zut,{"laya.webgl.submit.ISubmit":!0}),C$zut._scissor=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zul.worldMatrix4,C$zus=C$zur[0],C$zua=C$zur[5],C$zuo=C$zur[12],C$zur=C$zur[13];if(C$zun*=C$zua,(C$zui*=C$zus)<1||C$zun<1)return!1;C$zus=(C$zut=C$zut*C$zus+C$zuo)+C$zui,C$zuo=(C$zue=C$zue*C$zua+C$zur)+C$zun;C$zut<0&&(C$zui=C$zus-(C$zut=0)),C$zue<0&&(C$zun=C$zuo-(C$zue=0));C$zua=C$zul.worldClipRect;if(C$zut=Math.max(C$zut,C$zua.x),C$zue=Math.max(C$zue,C$zua.y),C$zui=Math.min(C$zus,C$zua.right)-C$zut,C$zun=Math.min(C$zuo,C$zua.bottom)-C$zue,C$zui<1||C$zun<1)return!1;C$zur=C$zul.worldScissorTest;return this.screenRect.copyFrom(C$zua),C$zua.x=C$zut,C$zua.y=C$zue,C$zua.width=C$zui,C$zua.height=C$zun,C$zul.worldScissorTest=!0,C$zue=C$zul.height-C$zue-C$zun,C$zuu.mainContext.scissor(C$zut,C$zue,C$zui,C$zun),C$zuu.mainContext.enable(3089),this.context.submitElement(this.submitIndex,this.submitIndex+this.submitLength),C$zur?(C$zue=C$zul.height-this.screenRect.y-this.screenRect.height,C$zuu.mainContext.scissor(this.screenRect.x,C$zue,this.screenRect.width,this.screenRect.height),C$zuu.mainContext.enable(3089)):(C$zuu.mainContext.disable(3089),C$zul.worldScissorTest=!1),C$zua.copyFrom(this.screenRect),!0},C$zut._scissorWithTagart=function(C$zut,C$zue,C$zui,C$zun){if(C$zui<1||C$zun<1)return!1;var C$zur=C$zut+C$zui,C$zus=C$zue+C$zun;C$zut<0&&(C$zui=C$zur-(C$zut=0)),C$zue<0&&(C$zun=C$zus-(C$zue=0));var C$zua=C$zul.worldClipRect;if(C$zut=Math.max(C$zut,C$zua.x),C$zue=Math.max(C$zue,C$zua.y),C$zui=Math.min(C$zur,C$zua.right)-C$zut,C$zun=Math.min(C$zus,C$zua.bottom)-C$zue,C$zui<1||C$zun<1)return!1;C$zur=C$zul.worldScissorTest;return this.screenRect.copyFrom(C$zua),C$zul.worldScissorTest=!0,C$zua.x=C$zut,C$zua.y=C$zue,C$zua.width=C$zui,C$zua.height=C$zun,C$zue=C$zul.height-C$zue-C$zun,C$zuu.mainContext.scissor(C$zut,C$zue,C$zui,C$zun),C$zuu.mainContext.enable(3089),this.context.submitElement(this.submitIndex,this.submitIndex+this.submitLength),C$zur?(C$zue=C$zul.height-this.screenRect.y-this.screenRect.height,C$zuu.mainContext.scissor(this.screenRect.x,C$zue,this.screenRect.width,this.screenRect.height),C$zuu.mainContext.enable(3089)):(C$zuu.mainContext.disable(3089),C$zul.worldScissorTest=!1),C$zua.copyFrom(this.screenRect),!0},C$zut.renderSubmit=function(){return this.submitLength=Math.min(this.context._submits._length-1,this.submitLength),this.submitLength<1||this.clipRect.width<1||this.clipRect.height<1||(this.context._targets?this._scissorWithTagart(this.clipRect.x,this.clipRect.y,this.clipRect.width,this.clipRect.height):this._scissor(this.clipRect.x,this.clipRect.y,this.clipRect.width,this.clipRect.height)),this.submitLength+1},C$zut.getRenderType=function(){return 0},C$zut.releaseRender=function(){var C$zut=$h._cache;(C$zut[C$zut._length++]=this).context=null},$h.create=function(C$zut){var C$zue=$h._cache._length?$h._cache[--$h._cache._length]:new $h;return C$zue.context=C$zut,C$zue},$h._cache=(($h._cache=[])._length=0,$h._cache),$h}(),C$zu_t=function(){function $d(){this.step=0,this.blendMode=null,this.level=0}C$zui($d,"laya.webgl.submit.SubmitStencil");var C$zut=$d.prototype;return C$zug.imps(C$zut,{"laya.webgl.submit.ISubmit":!0}),C$zut.renderSubmit=function(){switch(this.step){case 1:this.do1();break;case 2:this.do2();break;case 3:this.do3();break;case 4:this.do4();break;case 5:this.do5();break;case 6:this.do6();break;case 7:this.do7();break;case 8:this.do8()}return 1},C$zut.getRenderType=function(){return 0},C$zut.releaseRender=function(){var C$zut=$d._cache;C$zut[C$zut._length++]=this},C$zut.do1=function(){var C$zut=C$zuu.mainContext;C$zut.enable(2960),C$zut.clear(1024),C$zut.colorMask(!1,!1,!1,!1),C$zut.stencilFunc(514,this.level,255),C$zut.stencilOp(7680,7680,7682)},C$zut.do2=function(){var C$zut=C$zuu.mainContext;C$zut.stencilFunc(514,this.level+1,255),C$zut.colorMask(!0,!0,!0,!0),C$zut.stencilOp(7680,7680,7680)},C$zut.do3=function(){var C$zut=C$zuu.mainContext;C$zut.colorMask(!0,!0,!0,!0),C$zut.stencilOp(7680,7680,7680),C$zut.clear(1024),C$zut.disable(2960)},C$zut.do4=function(){var C$zut=C$zuu.mainContext;0==this.level&&(C$zut.enable(2960),C$zut.clear(1024)),C$zut.colorMask(!1,!1,!1,!1),C$zut.stencilFunc(519,0,255),C$zut.stencilOp(7680,7680,7682)},C$zut.do5=function(){var C$zut=C$zuu.mainContext;C$zut.stencilFunc(514,this.level,255),C$zut.colorMask(!0,!0,!0,!0),C$zut.stencilOp(7680,7680,7680)},C$zut.do6=function(){var C$zut=C$zuu.mainContext;C$zuz.targetFns[C$zuz.TOINT[this.blendMode]](C$zut)},C$zut.do7=function(){var C$zut=C$zuu.mainContext;C$zut.colorMask(!1,!1,!1,!1),C$zut.stencilOp(7680,7680,7683)},C$zut.do8=function(){var C$zut=C$zuu.mainContext;C$zut.colorMask(!0,!0,!0,!0),C$zut.stencilFunc(514,this.level,255),C$zut.stencilOp(7680,7680,7680)},$d.restore=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus;var C$zua;(C$zut._renderKey=0)<$d._mask&&$d._mask--,0==$d._mask?(C$zus=laya.webgl.submit.SubmitStencil.create(3),C$zut.addRenderObject(C$zus),C$zut._curSubmit=C$zuot.RENDERBASE):(C$zus=laya.webgl.submit.SubmitStencil.create(7),C$zut.addRenderObject(C$zus),(C$zua=C$zut._vb)._byteLength,C$zuvt.fillRectImgVb(C$zua,null,C$zue.x,C$zue.y,C$zue.width,C$zue.height,C$zuN.DEF_UV,C$zui,C$zun,C$zur,0,0)?(C$zut._shader2D.glTexture=null,(C$zue=C$zut._curSubmit=C$zuot.createSubmit(C$zut,C$zut._ib,C$zua,(C$zua._byteLength-64)/32*3,C$zuTt.create(2,0))).shaderValue.ALPHA=1,C$zut._submits[C$zut._submits._length++]=C$zue,C$zut._curSubmit._numEle+=6,C$zut._curSubmit=C$zuot.RENDERBASE):alert("clipRect calc stencil rect error"),C$zus=laya.webgl.submit.SubmitStencil.create(8),C$zut.addRenderObject(C$zus))},$d.restore2=function(C$zut,C$zue){var C$zui;(C$zut._renderKey=0)<$d._mask&&$d._mask--,0==$d._mask?(C$zui=laya.webgl.submit.SubmitStencil.create(3),C$zut.addRenderObject(C$zui),C$zut._curSubmit=C$zuot.RENDERBASE):(C$zui=laya.webgl.submit.SubmitStencil.create(7),C$zut.addRenderObject(C$zui),C$zut._submits[C$zut._submits._length++]=C$zue,C$zui=laya.webgl.submit.SubmitStencil.create(8),C$zut.addRenderObject(C$zui))},$d.create=function(C$zut){var C$zue=$d._cache._length?$d._cache[--$d._cache._length]:new $d;return 5==(C$zue.step=C$zut)&&++$d._mask,C$zue.level=$d._mask,C$zue},$d._cache=(($d._cache=[])._length=0,$d._cache),$d._mask=0,$d}(),C$zudt=function(){function $Y(){this._renderType=0,this._vb=null,this._ib=null,this._startIdx=0,this._numEle=0,this.shaderValue=null,this.blendType=0,this.proName=null,this.scope=null}C$zui($Y,"laya.webgl.submit.SubmitTarget");var C$zut=$Y.prototype;return C$zug.imps(C$zut,{"laya.webgl.submit.ISubmit":!0}),C$zut.renderSubmit=function(){this._vb.bind_upload(this._ib);var C$zut=this.scope.getValue(this.proName);return C$zut&&(this.shaderValue.texture=C$zut.source,this.shaderValue.strength&&!this.shaderValue.blurInfo&&(this.shaderValue.blurInfo=[C$zut.width,C$zut.height]),this.shaderValue.upload(),this.blend(),C$zuI.drawCall++,C$zuI.trianglesFaces+=this._numEle/3,C$zuu.mainContext.drawElements(4,this._numEle,5123,this._startIdx)),1},C$zut.blend=function(){var C$zut;C$zuz.activeBlendFunction!==C$zuz.fns[this.blendType]&&((C$zut=C$zuu.mainContext).enable(3042),C$zuz.fns[this.blendType](C$zut),C$zuz.activeBlendFunction=C$zuz.fns[this.blendType])},C$zut.getRenderType=function(){return 0},C$zut.releaseRender=function(){var C$zut=$Y._cache;(C$zut[C$zut._length++]=this).shaderValue.release(),this.shaderValue=null,this._vb=null,this._ib=null},$Y.create=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){var C$zua=$Y._cache._length?$Y._cache[--$Y._cache._length]:new $Y;return C$zua._ib=C$zue,C$zua._vb=C$zui,C$zua.proName=C$zus,C$zua._startIdx=C$zun*C$zugt.BYTES_PIDX,C$zua._numEle=0,C$zua.blendType=C$zut._nBlendType,C$zua.shaderValue=C$zur,C$zua.shaderValue.setValue(C$zut._shader2D),C$zua},$Y._cache=(($Y._cache=[])._length=0,$Y._cache),$Y}(),C$zuft=function(){function $m(){this._sourceStr=null}C$zui($m,"laya.webgl.text.CharSegment");var C$zut=$m.prototype;return C$zug.imps(C$zut,{"laya.webgl.text.ICharSegment":!0}),C$zut.textToSpit=function(C$zut){this._sourceStr=C$zut},C$zut.getChar=function(C$zut){return this._sourceStr.charAt(C$zut)},C$zut.getCharCode=function(C$zut){return this._sourceStr.charCodeAt(C$zut)},C$zut.length=function(){return this._sourceStr.length},$m}(),C$zupt=(C$zui($M,"laya.webgl.text.DrawText"),$M.__init__=function(){$M._charsTemp=new Array,$M._drawValue=new C$zure,$M._charSeg=new C$zuft},$M.customCharSeg=function(C$zut){$M._charSeg=C$zut},$M.getChar=function(C$zut,C$zue,C$zui){C$zut=C$zuzt.createOneChar(C$zut,C$zui);return-1!=C$zue&&($M._charsCache[C$zue]=C$zut),C$zut},$M._drawSlow=function(C$zut,C$zuu,C$zuc,C$zue,C$zu_,C$zud,C$zuf,C$zup,C$zum,C$zug,C$zuv,C$zu$,C$zux,C$zuy,C$zub){var C$zui,C$zun,C$zuT=$M._drawValue.value(C$zud,C$zup,C$zum,C$zug,C$zux,C$zuy,C$zub),C$zur=0,C$zus=0,C$zua=$M._charsTemp,C$zuw=0,C$zuo=NaN;if(C$zue)for(C$zua.length=C$zue.length,C$zur=0,C$zus=C$zue.length;C$zur<C$zus;C$zur++)(C$zun=C$zue[C$zur])&&(C$zuo=C$zun.charNum+C$zuT.txtID,C$zua[C$zur]=C$zui=$M._charsCache[C$zuo]||$M.getChar(C$zun.char,C$zuo,C$zuT),C$zui.active());else{C$zud=C$zuc instanceof laya.utils.WordText?C$zuc.toString():C$zuc;if(C$zuB.CharacterCache){$M._charSeg.textToSpit(C$zud);C$zup=$M._charSeg.length();for(C$zur=0,C$zus=C$zua.length=C$zup;C$zur<C$zus;C$zur++)C$zuo=$M._charSeg.getCharCode(C$zur)+C$zuT.txtID,C$zua[C$zur]=C$zui=$M._charsCache[C$zuo]||$M.getChar($M._charSeg.getChar(C$zur),C$zuo,C$zuT),C$zui.active(),C$zuw+=C$zui.cw}else C$zua.length=0,(C$zui=$M.getChar(C$zud,-1,C$zuT)).active(),C$zuw+=C$zui.cw,C$zua[0]=C$zui}var C$zuM=0;null!==C$zuf&&"left"!==C$zuf&&(C$zuM=-("center"==C$zuf?C$zuw/2:C$zuw));var C$zuh,C$zuS,C$zul=NaN,C$zuC=0;if(C$zue)for(C$zur=0,C$zus=C$zua.length;C$zur<C$zus;C$zur++)C$zui=C$zua[C$zur],C$zun=C$zue[C$zur],C$zui&&C$zun&&!C$zui.isSpace&&(C$zul=C$zui.borderSize,C$zuh=C$zui.texture,C$zuu._drawText(C$zuh,C$zuv+C$zuM+C$zun.x*C$zux-C$zul,C$zu$+C$zun.y*C$zuy-C$zul,C$zuh.width,C$zuh.height,C$zu_,0,0,0,0));else{for(C$zur=0,C$zus=C$zua.length;C$zur<C$zus;C$zur++)(C$zui=C$zua[C$zur])&&!C$zui.isSpace&&(C$zul=C$zui.borderSize,C$zuh=C$zui.texture,C$zuu._drawText(C$zuh,C$zuv+C$zuM-C$zul,C$zu$-C$zul,C$zuh.width,C$zuh.height,C$zu_,0,0,0,0),C$zut&&((C$zuS=(C$zuS=C$zut[C$zuC++])?C$zuS:C$zut[C$zuC-1]=[])[0]=C$zuh,C$zuS[1]=C$zuM-C$zul,C$zuS[2]=-C$zul)),C$zuM+=C$zui.cw;C$zut&&(C$zut.length=C$zuC)}},$M._drawFast=function(C$zut,C$zue,C$zui,C$zun,C$zur){for(var C$zus,C$zua,C$zuo=0,C$zuh=C$zut.length;C$zuo<C$zuh;C$zuo++)(C$zus=(C$zua=C$zut[C$zuo])[0]).active(),C$zue._drawText(C$zus,C$zun+C$zua[1],C$zur+C$zua[2],C$zus.width,C$zus.height,C$zui,0,0,0,0)},$M.drawText=function(C$zut,C$zue,C$zui,C$zun,C$zuu,C$zuc,C$zu_,C$zud,C$zuf,C$zur,C$zus,C$zup){if(void 0===C$zup&&(C$zup=0),!(C$zue&&0===C$zue.length||C$zui&&0===C$zui.length)){var C$zua=C$zun.a,C$zuo=C$zun.d;var C$zuh=1!==(C$zua=0===C$zun.b&&0===C$zun.c?C$zua:C$zuo=1)||1!==C$zuo;if((C$zuh=!(!C$zuh||!C$zug.stage.transform)&&((C$zul=C$zug.stage.transform).a===C$zua&&C$zul.d===C$zuo))?(C$zul=(C$zun=C$zun.copyTo(C$zubt._tmpMatrix)).tx,C$zuh=C$zun.ty,C$zun.scale(1/C$zua,1/C$zuo),C$zun._checkTransform(),C$zur=C$zur*C$zua+(C$zul-C$zun.tx),C$zus=C$zus*C$zuo+(C$zuh-C$zun.ty)):C$zua=C$zuo=1,C$zui)$M._drawSlow(null,C$zut,C$zue,C$zui,C$zun,C$zuu,C$zuc,C$zu_,C$zud,C$zuf,C$zur,C$zus,C$zua,C$zuo,C$zup);else{if(null===C$zue.toUpperCase)return C$zul=C$zua+1e5*C$zuo,void((C$zuh=C$zue).changed||C$zuh.id!==C$zul?(C$zuh.id=C$zul,C$zuh.changed=!1,$M._drawSlow(C$zuh.save,C$zut,C$zue,C$zui,C$zun,C$zuu,C$zuc,C$zu_,C$zud,C$zuf,C$zur,C$zus,C$zua,C$zuo,C$zup)):$M._drawFast(C$zuh.save,C$zut,C$zun,C$zur,C$zus));var C$zul=C$zue+C$zuu.toString()+C$zu_+C$zud+C$zuf+C$zua+C$zuo+C$zuc,C$zuh=$M._textsCache[C$zul];C$zuB.CharacterCache?C$zuh?$M._drawFast(C$zuh,C$zut,C$zun,C$zur,C$zus):($M._textsCache.__length||($M._textsCache.__length=0),$M._textsCache.__length>C$zum.WebGLTextCacheCount&&(($M._textsCache={}).__length=0,$M._curPoolIndex=0),$M._textCachesPool[$M._curPoolIndex]?(C$zuh=$M._textsCache[C$zul]=$M._textCachesPool[$M._curPoolIndex]).length=0:$M._textCachesPool[$M._curPoolIndex]=C$zuh=$M._textsCache[C$zul]=[],$M._textsCache.__length++,$M._curPoolIndex++,$M._drawSlow(C$zuh,C$zut,C$zue,C$zui,C$zun,C$zuu,C$zuc,C$zu_,C$zud,C$zuf,C$zur,C$zus,C$zua,C$zuo,C$zup)):$M._drawSlow(C$zuh,C$zut,C$zue,C$zui,C$zun,C$zuu,C$zuc,C$zu_,C$zud,C$zuf,C$zur,C$zus,C$zua,C$zuo,C$zup)}}},$M._charsTemp=null,$M._textCachesPool=[],$M._curPoolIndex=0,$M._charsCache={},$M._textsCache={},$M._drawValue=null,$M.d=[],$M._charSeg=null,$M.__init$=function(){function $d(){}C$zui($d,""),$d.prototype.value=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){this.font=C$zut,this.fillColor=C$zue,this.borderColor=C$zui,this.lineWidth=C$zun,this.scaleX=C$zur,this.scaleY=C$zus,this.underLine=C$zua;C$zut=C$zut.toString()+C$zur+C$zus+C$zun+(C$zue?C$zue.toLowerCase():" ")+(C$zui?C$zui.toLowerCase():" ")+C$zua;return this.txtID=$d._keymap[C$zut],this.txtID||(this.txtID=1e-7*++$d._keymapCount,$d._keymap[C$zut]=this.txtID),this},$d.clear=function(){$d._keymap={},$d._keymapCount=1},$d._keymap={},$d._keymapCount=1,C$zure=$d},$M),C$zumt=function(){function $L(C$zut){this._index=0,this._size=14,this._italic=-2,$L._cache2=$L._cache2||[],this.setFont(C$zut||"14px Arial")}C$zui($L,"laya.webgl.text.FontInContext");var C$zut=$L.prototype;return C$zut.setFont=function(C$zut){var C$zue=$L._cache2[C$zut];if(C$zue)this._words=C$zue[0],this._size=C$zue[1];else{this._words=C$zut.split(" ");for(var C$zui=0,C$zun=this._words.length;C$zui<C$zun;C$zui++)if(0<this._words[C$zui].indexOf("px")){this._index=C$zui;break}this._size=parseInt(this._words[this._index]),$L._cache2[C$zut]=[this._words,this._size]}this._text=null,this._italic=-2},C$zut.getItalic=function(){return-2===this._italic&&(this._italic=this.hasType("italic")),this._italic},C$zut.hasType=function(C$zut){for(var C$zue=0,C$zui=this._words.length;C$zue<C$zui;C$zue++)if(this._words[C$zue]===C$zut)return C$zue;return-1},C$zut.removeType=function(C$zut){for(var C$zue=0,C$zui=this._words.length;C$zue<C$zui;C$zue++)if(this._words[C$zue]===C$zut){this._words.splice(C$zue,1),this._index>C$zue&&this._index--;break}this._text=null,this._italic=-2},C$zut.copyTo=function(C$zut){return C$zut._text=this._text,C$zut._size=this._size,C$zut._index=this._index,C$zut._words=this._words.slice(),C$zut._italic=-2,C$zut},C$zut.toString=function(){return this._text||(this._text=this._words.join(" "))},C$zun(0,C$zut,"size",function(){return this._size},function(C$zut){this._size=C$zut,this._words[this._index]=C$zut+"px",this._text=null}),$L.create=function(C$zut){var C$zue=$L._cache[C$zut];return C$zue||($L._cache[C$zut]=new $L(C$zut))},$L.EMPTY=new $L,$L._cache={},$L._cache2=null,$L}(),C$zugt=function(){function $m(){}return C$zui($m,"laya.webgl.utils.CONST3D2D"),$m.defaultMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],$m.defaultMinusYMatrix4=[1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1],$m.uniformMatrix3=[1,0,0,0,0,1,0,0,0,0,1,0],$m._TMPARRAY=[],$m._OFFSETX=0,$m._OFFSETY=0,C$zue($m,["BYTES_PE",function(){return this.BYTES_PE=Float32Array.BYTES_PER_ELEMENT},"BYTES_PIDX",function(){return this.BYTES_PIDX=Uint16Array.BYTES_PER_ELEMENT}]),$m}(),C$zuvt=(C$zui($A,"laya.webgl.utils.GlUtils"),$A.make2DProjection=function(C$zut,C$zue,C$zui){return[2/C$zut,0,0,0,0,-2/C$zue,0,0,0,0,2/C$zui,0,-1,1,0,1]},$A.fillIBQuadrangle=function(C$zut,C$zue){if(65535/4<C$zue)throw Error("IBQuadrangle count:"+C$zue+" must<:"+Math.floor(65535/4));C$zue=Math.floor(C$zue),C$zut._resizeBuffer(6*(C$zue+1)*2,!1),C$zut.byteLength=C$zut.bufferLength;for(var C$zui=C$zut.getUint16Array(),C$zun=0,C$zur=0;C$zur<C$zue;C$zur++)C$zui[C$zun++]=4*C$zur,C$zui[C$zun++]=4*C$zur+2,C$zui[C$zun++]=4*C$zur+1,C$zui[C$zun++]=4*C$zur,C$zui[C$zun++]=4*C$zur+3,C$zui[C$zun++]=4*C$zur+2;return C$zut.setNeedUpload(),!0},$A.expandIBQuadrangle=function(C$zut,C$zue){C$zut.bufferLength>=6*C$zue*2||$A.fillIBQuadrangle(C$zut,C$zue)},$A.mathCeilPowerOfTwo=function(C$zut){return C$zut--,C$zut=(C$zut=(C$zut=(C$zut=(C$zut|=C$zut>>1)|C$zut>>2)|C$zut>>4)|C$zut>>8)|C$zut>>16,++C$zut},$A.fillQuadrangleImgVb=function(C$zuu,C$zut,C$zue,C$zui,C$zun,C$zur,C$zuc,C$zu_){var C$zus=16+(C$zuu._byteLength>>2);C$zuu.byteLength=C$zus<<2;var C$zua=C$zuu.getFloat32Array();C$zua[2+(C$zus-=16)]=C$zun[0],C$zua[3+C$zus]=C$zun[1],C$zua[6+C$zus]=C$zun[2],C$zua[7+C$zus]=C$zun[3],C$zua[10+C$zus]=C$zun[4],C$zua[11+C$zus]=C$zun[5],C$zua[14+C$zus]=C$zun[6],C$zua[15+C$zus]=C$zun[7];var C$zun=C$zur.a,C$zuo=C$zur.b,C$zuh=C$zur.c,C$zul=C$zur.d;var C$zud,C$zuf;return 1!==C$zun||0!==C$zuo||0!==C$zuh||1!==C$zul?(C$zur.bTransform=!0,C$zud=C$zur.tx+C$zuc,C$zuf=C$zur.ty+C$zu_,C$zua[C$zus]=(C$zui[0]+C$zut)*C$zun+(C$zui[1]+C$zue)*C$zuh+C$zud,C$zua[1+C$zus]=(C$zui[0]+C$zut)*C$zuo+(C$zui[1]+C$zue)*C$zul+C$zuf,C$zua[4+C$zus]=(C$zui[2]+C$zut)*C$zun+(C$zui[3]+C$zue)*C$zuh+C$zud,C$zua[5+C$zus]=(C$zui[2]+C$zut)*C$zuo+(C$zui[3]+C$zue)*C$zul+C$zuf,C$zua[8+C$zus]=(C$zui[4]+C$zut)*C$zun+(C$zui[5]+C$zue)*C$zuh+C$zud,C$zua[9+C$zus]=(C$zui[4]+C$zut)*C$zuo+(C$zui[5]+C$zue)*C$zul+C$zuf,C$zua[12+C$zus]=(C$zui[6]+C$zut)*C$zun+(C$zui[7]+C$zue)*C$zuh+C$zud,C$zua[13+C$zus]=(C$zui[6]+C$zut)*C$zuo+(C$zui[7]+C$zue)*C$zul+C$zuf):(C$zur.bTransform=!1,C$zut+=C$zur.tx+C$zuc,C$zue+=C$zur.ty+C$zu_,C$zua[C$zus]=C$zut+C$zui[0],C$zua[1+C$zus]=C$zue+C$zui[1],C$zua[4+C$zus]=C$zut+C$zui[2],C$zua[5+C$zus]=C$zue+C$zui[3],C$zua[8+C$zus]=C$zut+C$zui[4],C$zua[9+C$zus]=C$zue+C$zui[5],C$zua[12+C$zus]=C$zut+C$zui[6],C$zua[13+C$zus]=C$zue+C$zui[7]),C$zuu._upload=!0},$A.fillTranglesVB=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){var C$zuo=(C$zut._byteLength>>2)+C$zun.length;C$zut.byteLength=C$zuo<<2;var C$zuh=C$zut.getFloat32Array();C$zuo-=C$zun.length;for(var C$zuu=C$zun.length,C$zuc=C$zur.a,C$zu_=C$zur.b,C$zud=C$zur.c,C$zuf=C$zur.d,C$zul=0;C$zul<C$zuu;C$zul+=4){var C$zup,C$zum;C$zuh[C$zuo+C$zul+2]=C$zun[C$zul+2],C$zuh[C$zuo+C$zul+3]=C$zun[C$zul+3],1!==C$zuc||0!==C$zu_||0!==C$zud||1!==C$zuf?(C$zur.bTransform=!0,C$zup=C$zur.tx+C$zus,C$zum=C$zur.ty+C$zua,C$zuh[C$zuo+C$zul]=(C$zun[C$zul]+C$zue)*C$zuc+(C$zun[C$zul+1]+C$zui)*C$zud+C$zup,C$zuh[C$zuo+C$zul+1]=(C$zun[C$zul]+C$zue)*C$zu_+(C$zun[C$zul+1]+C$zui)*C$zuf+C$zum):(C$zur.bTransform=!1,C$zue+=C$zur.tx+C$zus,C$zui+=C$zur.ty+C$zua,C$zuh[C$zuo+C$zul]=C$zue+C$zun[C$zul],C$zuh[C$zuo+C$zul+1]=C$zui+C$zun[C$zul+1])}return C$zut._upload=!0},$A.copyPreImgVb=function(C$zut,C$zue,C$zui){var C$zun=C$zut._byteLength>>2;C$zut.byteLength=C$zun+16<<2;for(var C$zur=C$zut.getFloat32Array(),C$zus=0,C$zua=C$zun-16;C$zus<4;C$zus++)C$zur[C$zun]=C$zur[C$zua]+C$zue,C$zur[++C$zun]=C$zur[++C$zua]+C$zui,C$zur[++C$zun]=C$zur[++C$zua],C$zur[++C$zun]=C$zur[++C$zua],++C$zun,++C$zua;C$zut._upload=!0},$A.fillRectImgVb=function(C$zuu,C$zuc,C$zu_,C$zud,C$zuf,C$zup,C$zut,C$zue,C$zum,C$zug,C$zuv,C$zu$,C$zux){void 0===C$zux&&(C$zux=!1);var C$zui,C$zun,C$zuy,C$zub,C$zuT,C$zuw,C$zuM,C$zuS,C$zuC,C$zuD,C$zur,C$zus,C$zuE,C$zuP,C$zua,C$zuo,C$zuA=1,C$zuI=C$zue.a,C$zuR=C$zue.b,C$zuL=C$zue.c,C$zuB=C$zue.d,C$zuN=C$zuc&&C$zuc.width<99999999;if(1!==C$zuI||0!==C$zuR||0!==C$zuL||1!==C$zuB?(C$zue.bTransform=!0,0===C$zuR&&0===C$zuL&&(C$zuA=23,C$zui=C$zuI*C$zu_+(C$zur=C$zue.tx+C$zum),C$zuy=C$zuI*(C$zuC=C$zuf+C$zu_)+C$zur,C$zun=C$zuB*C$zud+(C$zus=C$zue.ty+C$zug),C$zub=C$zuB*(C$zuD=C$zup+C$zud)+C$zus)):(C$zue.bTransform=!(C$zuA=23),C$zuy=(C$zui=C$zu_+C$zue.tx+C$zum)+C$zuf,C$zub=(C$zun=C$zud+C$zue.ty+C$zug)+C$zup),C$zuN&&(C$zuT=C$zuc.x,C$zuw=C$zuc.y,C$zuM=C$zuc.width+C$zuT,C$zuS=C$zuc.height+C$zuw),1!==C$zuA){if(Math.min(C$zui,C$zuy)>=C$zuM)return!1;if(Math.min(C$zun,C$zub)>=C$zuS)return!1;if(Math.max(C$zuy,C$zui)<=C$zuT)return!1;if(Math.max(C$zub,C$zun)<=C$zuw)return!1}var C$zuh=C$zuu._byteLength>>2;C$zuu.byteLength=16+C$zuh<<2;var C$zul=C$zuu.getFloat32Array();switch(C$zul[2+C$zuh]=C$zut[0],C$zul[3+C$zuh]=C$zut[1],C$zul[6+C$zuh]=C$zut[2],C$zul[7+C$zuh]=C$zut[3],C$zul[10+C$zuh]=C$zut[4],C$zul[11+C$zuh]=C$zut[5],C$zul[14+C$zuh]=C$zut[6],C$zul[15+C$zuh]=C$zut[7],C$zuA){case 1:C$zur=C$zue.tx+C$zum,C$zus=C$zue.ty+C$zug;var C$zuF=C$zuI*C$zu_,C$zuO=C$zuL*C$zud,C$zuV=C$zuB*C$zud,C$zuk=C$zuR*C$zu_,C$zuU=C$zuI*(C$zuC=C$zuf+C$zu_),C$zuH=C$zuL*(C$zuD=C$zup+C$zud),C$zuW=C$zuB*C$zuD,C$zuz=C$zuR*C$zuC;C$zux?(C$zuE=C$zuF+C$zuO+C$zur,C$zua=Math.round(C$zuE)-C$zuE,C$zuP=C$zuV+C$zuk+C$zus,C$zuo=Math.round(C$zuP)-C$zuP,C$zul[C$zuh]=C$zuE+C$zua,C$zul[1+C$zuh]=C$zuP+C$zuo,C$zul[4+C$zuh]=C$zuU+C$zuO+C$zur+C$zua,C$zul[5+C$zuh]=C$zuV+C$zuz+C$zus+C$zuo,C$zul[8+C$zuh]=C$zuU+C$zuH+C$zur+C$zua,C$zul[9+C$zuh]=C$zuW+C$zuz+C$zus+C$zuo,C$zul[12+C$zuh]=C$zuF+C$zuH+C$zur+C$zua,C$zul[13+C$zuh]=C$zuW+C$zuk+C$zus+C$zuo):(C$zul[C$zuh]=C$zuF+C$zuO+C$zur,C$zul[1+C$zuh]=C$zuV+C$zuk+C$zus,C$zul[4+C$zuh]=C$zuU+C$zuO+C$zur,C$zul[5+C$zuh]=C$zuV+C$zuz+C$zus,C$zul[8+C$zuh]=C$zuU+C$zuH+C$zur,C$zul[9+C$zuh]=C$zuW+C$zuz+C$zus,C$zul[12+C$zuh]=C$zuF+C$zuH+C$zur,C$zul[13+C$zuh]=C$zuW+C$zuk+C$zus);break;case 23:C$zux?(C$zuE=C$zui+C$zuv,C$zua=Math.round(C$zuE)-C$zuE,C$zuP=C$zun,C$zuo=Math.round(C$zuP)-C$zuP,C$zul[C$zuh]=C$zuE+C$zua,C$zul[1+C$zuh]=C$zuP+C$zuo,C$zul[4+C$zuh]=C$zuy+C$zuv+C$zua,C$zul[5+C$zuh]=C$zun+C$zuo,C$zul[8+C$zuh]=C$zuy+C$zua,C$zul[9+C$zuh]=C$zub+C$zuo,C$zul[12+C$zuh]=C$zui+C$zua,C$zul[13+C$zuh]=C$zub+C$zuo):(C$zul[C$zuh]=C$zui+C$zuv,C$zul[1+C$zuh]=C$zun,C$zul[4+C$zuh]=C$zuy+C$zuv,C$zul[5+C$zuh]=C$zun,C$zul[8+C$zuh]=C$zuy,C$zul[9+C$zuh]=C$zub,C$zul[12+C$zuh]=C$zui,C$zul[13+C$zuh]=C$zub)}return C$zuu._upload=!0},$A.fillLineVb=function(C$zut,C$zuu,C$zue,C$zui,C$zun,C$zur,C$zus,C$zuc){var C$zus=.5*C$zus,C$zua=$A._fillLineArray,C$zuo=-(C$zui-C$zur),C$zuh=C$zue-C$zun,C$zul=Math.sqrt(C$zuo*C$zuo+C$zuh*C$zuh);C$zuh=C$zuh/C$zul*C$zus,C$zua[0]=C$zue-(C$zuo=C$zuo/C$zul*C$zus),C$zua[1]=C$zui-C$zuh,C$zua[4]=C$zue+C$zuo,C$zua[5]=C$zui+C$zuh,C$zua[8]=C$zun+C$zuo,C$zua[9]=C$zur+C$zuh,C$zua[12]=C$zun-C$zuo,C$zua[13]=C$zur-C$zuh,C$zuc&&C$zuc.transformPointArray(C$zua,C$zua);C$zul=16+(C$zut._byteLength>>2);return C$zut.byteLength=C$zul<<2,C$zut.insertData(C$zua,C$zul-16),!0},$A._fillLineArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],$A),C$zu$t=(function(){function $d(){}C$zui($d,"laya.webgl.utils.MatirxArray"),$d.ArrayMul=function(C$zut,C$zue,C$zui){if(C$zut)if(C$zue)for(var C$zun,C$zur,C$zus,C$zua,C$zuo=0;C$zuo<4;C$zuo++)C$zun=C$zut[C$zuo],C$zur=C$zut[C$zuo+4],C$zus=C$zut[C$zuo+8],C$zua=C$zut[C$zuo+12],C$zui[C$zuo]=C$zun*C$zue[0]+C$zur*C$zue[1]+C$zus*C$zue[2]+C$zua*C$zue[3],C$zui[C$zuo+4]=C$zun*C$zue[4]+C$zur*C$zue[5]+C$zus*C$zue[6]+C$zua*C$zue[7],C$zui[C$zuo+8]=C$zun*C$zue[8]+C$zur*C$zue[9]+C$zus*C$zue[10]+C$zua*C$zue[11],C$zui[C$zuo+12]=C$zun*C$zue[12]+C$zur*C$zue[13]+C$zus*C$zue[14]+C$zua*C$zue[15];else $d.copyArray(C$zut,C$zui);else $d.copyArray(C$zue,C$zui)},$d.copyArray=function(C$zut,C$zue){if(C$zut&&C$zue)for(var C$zui=0;C$zui<C$zut.length;C$zui++)C$zue[C$zui]=C$zut[C$zui]}}(),function(){function $p(C$zut,C$zue,C$zui){this._stride=0,this.vertNum=0,this.indexNum=0,this._applied=!1,this._vb=null,this._ib=null,this._vao=null,this._attribInfo=null,this._quadNum=0,this.canReuse=!1,this._stride=C$zut,this._vb=new C$zuQt(C$zut,35048),C$zue&&this._vb._resizeBuffer(C$zue,!1),this._ib=new C$zuZt,C$zui&&this._ib._resizeBuffer(C$zui,!1)}C$zui($p,"laya.webgl.utils.Mesh2D");var C$zut=$p.prototype;return C$zut.cloneWithNewVB=function(){var C$zut=new $p(this._stride,0,0);return C$zut._ib=this._ib,C$zut._quadNum=this._quadNum,C$zut._attribInfo=this._attribInfo,C$zut},C$zut.cloneWithNewVBIB=function(){var C$zut=new $p(this._stride,0,0);return C$zut._attribInfo=this._attribInfo,C$zut},C$zut.getVBW=function(){return this._vb.setNeedUpload(),this._vb},C$zut.getVBR=function(){return this._vb},C$zut.getIBR=function(){return this._ib},C$zut.getIBW=function(){return this._ib.setNeedUpload(),this._ib},C$zut.createQuadIB=function(C$zut){this._quadNum=C$zut,this._ib._resizeBuffer(6*C$zut*2,!1),this._ib.byteLength=this._ib.bufferLength;for(var C$zue=this._ib.getUint16Array(),C$zui=0,C$zun=0,C$zur=0;C$zur<C$zut;C$zur++)C$zue[C$zui++]=C$zun,C$zue[C$zui++]=C$zun+2,C$zue[C$zui++]=C$zun+1,C$zue[C$zui++]=C$zun,C$zue[C$zui++]=C$zun+3,C$zue[C$zui++]=C$zun+2,C$zun+=4;this._ib.setNeedUpload()},C$zut.setAttributes=function(C$zut){if(this._attribInfo=C$zut,this._attribInfo.length%3!=0)throw"Mesh2D setAttributes error!"},C$zut.getEleNum=function(){return this._ib.getBuffer().byteLength/2},C$zut.releaseMesh=function(){},C$zut.destroy=function(){},C$zut.clearVB=function(){this._vb.clear()},$p._gvaoid=0,$p}()),C$zul=function(){function $L(){}return C$zui($L,"laya.webgl.utils.RenderState2D"),$L.getMatrArray=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},$L.mat2MatArray=function(C$zut,C$zue){var C$zui=C$zue;return C$zui[0]=C$zut.a,C$zui[1]=C$zut.b,C$zui[2]=$L.EMPTYMAT4_ARRAY[2],C$zui[3]=$L.EMPTYMAT4_ARRAY[3],C$zui[4]=C$zut.c,C$zui[5]=C$zut.d,C$zui[6]=$L.EMPTYMAT4_ARRAY[6],C$zui[7]=$L.EMPTYMAT4_ARRAY[7],C$zui[8]=$L.EMPTYMAT4_ARRAY[8],C$zui[9]=$L.EMPTYMAT4_ARRAY[9],C$zui[10]=$L.EMPTYMAT4_ARRAY[10],C$zui[11]=$L.EMPTYMAT4_ARRAY[11],C$zui[12]=C$zut.tx,C$zui[13]=C$zut.ty,C$zui[14]=$L.EMPTYMAT4_ARRAY[14],C$zui[15]=$L.EMPTYMAT4_ARRAY[15],C$zue},$L.restoreTempArray=function(){$L.TEMPMAT4_ARRAY[0]=1,$L.TEMPMAT4_ARRAY[1]=0,$L.TEMPMAT4_ARRAY[4]=0,$L.TEMPMAT4_ARRAY[5]=1,$L.TEMPMAT4_ARRAY[12]=0,$L.TEMPMAT4_ARRAY[13]=0},$L.clear=function(){$L.worldScissorTest=!1,$L.worldShaderDefines=null,$L.worldFilters=null,$L.worldAlpha=1,$L.worldClipRect.x=$L.worldClipRect.y=0,$L.worldClipRect.width=$L.width,$L.worldClipRect.height=$L.height,$L.curRenderTarget=null},$L._MAXSIZE=99999999,$L.EMPTYMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],$L.worldMatrix4=$L.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],$L.worldAlpha=1,$L.worldScissorTest=!1,$L.worldFilters=null,$L.worldShaderDefines=null,$L.curRenderTarget=null,$L.width=0,$L.height=0,C$zue($L,["worldMatrix",function(){return this.worldMatrix=new C$zub},"worldClipRect",function(){return this.worldClipRect=new C$zuw(0,0,99999999,99999999)}]),$L}(),C$zuxt=(C$zui($a,"laya.webgl.utils.ShaderCompile"),(C$zut=$a.prototype)._compileToTree=function(C$zut,C$zuu,C$zuc,C$zue,C$zui){var C$zun,C$zur,C$zus,C$zu_,C$zua,C$zud,C$zuf,C$zuo=0,C$zup=0,C$zuh=0;for(C$zup=C$zuc;C$zup<C$zuu.length;C$zup++)if(!((C$zus=C$zuu[C$zup]).length<1)&&0!==(C$zuo=C$zus.indexOf("//"))){if(0<=C$zuo&&(C$zus=C$zus.substr(0,C$zuo)),C$zun=C$zud||new C$zuie(C$zue),C$zud=null,C$zun.text=C$zus,C$zun.noCompile=!0,0<=(C$zuo=C$zus.indexOf("#"))){for(C$zu_="#",C$zuh=C$zuo+1,C$zuf=C$zus.length;C$zuh<C$zuf;C$zuh++){var C$zul=C$zus.charAt(C$zuh);if(" "===C$zul||"\t"===C$zul||"\r"===C$zul||"\n"===C$zul||"?"===C$zul)break;C$zu_+=C$zul}switch(C$zun.name=C$zu_){case"#ifdef":case"#ifndef":if(C$zun.src=C$zus,C$zun.noCompile=null!=C$zus.match(/[!&|()=<>]/),C$zun.noCompile?console.log("function():Boolean{return "+C$zus.substr(C$zuo+C$zun.name.length)+"}"):(C$zua=C$zus.replace(/^\s*/,"").split(/\s+/),C$zun.setCondition(C$zua[1],"#ifdef"===C$zu_?1:2),C$zun.text="//"+C$zun.text),C$zun.setParent(C$zut),C$zut=C$zun,C$zui)for(C$zua=C$zus.substr(C$zuh).split($a._splitToWordExps3),C$zuh=0;C$zuh<C$zua.length;C$zuh++)(C$zus=C$zua[C$zuh]).length&&(C$zui[C$zus]=!0);continue;case"#if":if(C$zun.src=C$zus,C$zun.noCompile=!0,C$zun.setParent(C$zut),C$zut=C$zun,C$zui)for(C$zua=C$zus.substr(C$zuh).split($a._splitToWordExps3),C$zuh=0;C$zuh<C$zua.length;C$zuh++)(C$zus=C$zua[C$zuh]).length&&"defined"!=C$zus&&(C$zui[C$zus]=!0);continue;case"#else":C$zun.src=C$zus,C$zur=(C$zut=C$zut.parent).childs[C$zut.childs.length-1],C$zun.noCompile=C$zur.noCompile,C$zun.noCompile||(C$zun.condition=C$zur.condition,C$zun.conditionType=1==C$zur.conditionType?2:1,C$zun.text="//"+C$zun.text+" "+C$zur.text+" "+C$zun.conditionType),C$zun.setParent(C$zut),C$zut=C$zun;continue;case"#endif":C$zur=(C$zut=C$zut.parent).childs[C$zut.childs.length-1],C$zun.noCompile=C$zur.noCompile,C$zun.noCompile||(C$zun.text="//"+C$zun.text),C$zun.setParent(C$zut);continue;case"#include":C$zua=$a.splitToWords(C$zus,null);var C$zum=$a.includes[C$zua[1]];if(!C$zum)throw"ShaderCompile error no this include file:"+C$zua[1];if((C$zuo=C$zua[0].indexOf("?"))<0){C$zun.setParent(C$zut),C$zus=C$zum.getWith("with"==C$zua[2]?C$zua[3]:null),this._compileToTree(C$zun,C$zus.split("\n"),0,C$zue,C$zui),C$zun.text="";continue}C$zun.setCondition(C$zua[0].substr(C$zuo+1),1),C$zun.text=C$zum.getWith("with"==C$zua[2]?C$zua[3]:null);break;case"#import":C$zum=(C$zua=$a.splitToWords(C$zus,null))[1],C$zue.push({node:C$zun,file:$a.includes[C$zum],ofs:C$zun.text.length});continue}}else{if((C$zur=C$zut.childs[C$zut.childs.length-1])&&!C$zur.name){0<C$zue.length&&$a.splitToWords(C$zus,C$zur),C$zud=C$zun,C$zur.text+="\n"+C$zus;continue}0<C$zue.length&&$a.splitToWords(C$zus,C$zun)}C$zun.setParent(C$zut)}},C$zut.createShader=function(C$zut,C$zue,C$zui){var C$zun={},C$zur="";if(C$zut)for(var C$zus in C$zut)C$zur+="#define "+C$zus+"\n",C$zun[C$zus]=!0;var C$zut=this._VS.toscript(C$zun,[]),C$zua=this._PS.toscript(C$zun,[]);return(C$zui||C$zuXt.create)(C$zur+C$zut.join("\n"),C$zur+C$zua.join("\n"),C$zue,this._nameMap)},$a._parseOne=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){var C$zua={type:$a.shaderParamsMap[C$zui[C$zun+1]],name:C$zui[C$zun+2],size:isNaN(parseInt(C$zui[C$zun+3]))?1:parseInt(C$zui[C$zun+3])};return C$zus&&("attribute"==C$zur?C$zut:C$zue).push(C$zua),":"==C$zui[C$zun+3]&&(C$zua.type=C$zui[C$zun+4],C$zun+=2),C$zun+2},$a.addInclude=function(C$zut,C$zue){if(!C$zue||0===C$zue.length)throw new Error("add shader include file err:"+C$zut);if($a.includes[C$zut])throw new Error("add shader include file err, has add:"+C$zut);$a.includes[C$zut]=new C$zune(C$zue)},$a.preGetParams=function(C$zut,C$zuu){var C$zue=[C$zut,C$zuu],C$zut={},C$zui=[],C$zun=[],C$zuc={},C$zu_=[];C$zut.attributes=C$zui,C$zut.uniforms=C$zun,C$zut.defines=C$zuc;for(var C$zur,C$zus=0,C$zua=0;C$zua<2;C$zua++){C$zue[C$zua]=C$zue[C$zua].replace($a._removeAnnotation,"");var C$zuo,C$zuh=C$zue[C$zua].match($a._reg);for(C$zus=0,C$zur=C$zuh.length;C$zus<C$zur;C$zus++){var C$zul=C$zuh[C$zus];if("attribute"==C$zul||"uniform"==C$zul)C$zus=$a._parseOne(C$zui,C$zun,C$zuh,C$zus,C$zul,!0);else if("#define"!=C$zul){if("#ifdef"==C$zul)for(C$zuc[C$zuo=C$zuh[++C$zus]]=C$zuc[C$zuo]||[],C$zus++;C$zus<C$zur;C$zus++)if("attribute"==(C$zul=C$zuh[C$zus])||"uniform"==C$zul)C$zus=$a._parseOne(C$zui,C$zun,C$zuh,C$zus,C$zul,C$zu_[C$zuo]);else if("#else"==C$zul)for(C$zus++;C$zus<C$zur;C$zus++)if("attribute"==(C$zul=C$zuh[C$zus])||"uniform"==C$zul)C$zus=$a._parseOne(C$zui,C$zun,C$zuh,C$zus,C$zul,!C$zu_[C$zuo]);else if("#endif"==C$zul)break}else C$zu_[C$zul=C$zuh[++C$zus]]=1}}return C$zut},$a.splitToWords=function(C$zut,C$zue){for(var C$zui,C$zun,C$zur=[],C$zus=-1,C$zua=0,C$zuo=C$zut.length;C$zua<C$zuo;C$zua++)if(C$zui=C$zut.charAt(C$zua),0<=" \t=+-*/&%!<>()'\",;".indexOf(C$zui)){if(0<=C$zus&&1<C$zua-C$zus&&(C$zun=C$zut.substr(C$zus,C$zua-C$zus),C$zur.push(C$zun)),'"'==C$zui||"'"==C$zui){var C$zuh=C$zut.indexOf(C$zui,C$zua+1);if(C$zuh<0)throw"Sharder err:"+C$zut;C$zur.push(C$zut.substr(C$zua+1,C$zuh-C$zua-1)),C$zua=C$zuh,C$zus=-1;continue}"("==C$zui&&C$zue&&0<C$zur.length&&(C$zun=C$zur[C$zur.length-1]+";","vec4;main;".indexOf(C$zun)<0&&(C$zue.useFuns+=C$zun)),C$zus=-1}else C$zus<0&&(C$zus=C$zua);return C$zus<C$zuo&&1<C$zuo-C$zus&&(C$zun=C$zut.substr(C$zus,C$zuo-C$zus),C$zur.push(C$zun)),C$zur},$a.IFDEF_NO=0,$a.IFDEF_YES=1,$a.IFDEF_ELSE=2,$a.IFDEF_PARENT=3,$a._removeAnnotation=new RegExp("(/\\*([^*]|[\\r\\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+/)|(//.*)","g"),$a._reg=new RegExp("(\".*\")|('.*')|([#\\w\\*-\\.+/()=<>{}\\\\]+)|([,;:\\\\])","g"),$a._splitToWordExps=new RegExp("[(\".*\")]+|[('.*')]+|([ \\t=\\+\\-*/&%!<>!%(),;])","g"),$a.includes={},C$zue($a,["shaderParamsMap",function(){return this.shaderParamsMap={float:5126,int:5124,bool:35670,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676,sampler2D:35678,samplerCube:35680}},"_splitToWordExps3",function(){return this._splitToWordExps3=new RegExp("[ \\t=\\+\\-*/&%!<>!%(),;\\|]","g")}]),$a.__init$=function(){function $m(C$zut){this.script=null,this.codes={},this.funs={},this.curUseID=-1,this.funnames="",this.script=C$zut;for(var C$zue=0,C$zui=0,C$zun=0;!((C$zue=C$zut.indexOf("#begin",C$zue))<0);){for(C$zun=C$zue+5;!((C$zun=C$zut.indexOf("#end",C$zun))<0)&&"i"===C$zut.charAt(C$zun+4);)C$zun+=5;if(C$zun<0)throw"add include err,no #end:"+C$zut;C$zui=C$zut.indexOf("\n",C$zue);var C$zur=$a.splitToWords(C$zut.substr(C$zue,C$zui-C$zue),null);"code"==C$zur[1]?this.codes[C$zur[2]]=C$zut.substr(C$zui+1,C$zun-C$zui-1):"function"==C$zur[1]&&(C$zui=C$zut.indexOf("function",C$zue),C$zui+="function".length,this.funs[C$zur[3]]=C$zut.substr(C$zui+1,C$zun-C$zui-1),this.funnames+=C$zur[3]+";"),C$zue=C$zun+1}}function $h(C$zut){this.childs=[],this.text="",this.parent=null,this.name=null,this.noCompile=!1,this.includefiles=null,this.condition=null,this.conditionType=0,this.useFuns="",this.z=0,this.src=null,this.includefiles=C$zut}var C$zut;C$zui($h,""),(C$zut=$h.prototype).setParent=function(C$zut){C$zut.childs.push(this),this.z=C$zut.z+1,this.parent=C$zut},C$zut.setCondition=function(C$zut,C$zue){C$zut&&(this.conditionType=C$zue,C$zut=C$zut.replace(/(\s*$)/g,""),this.condition=function(){return this[C$zut]},this.condition.__condition=C$zut)},C$zut.toscript=function(C$zut,C$zue){return this._toscript(C$zut,C$zue,++$h.__id)},C$zut._toscript=function(C$zun,C$zur,C$zus){if(this.childs.length<1&&!this.text)return C$zur;if(C$zur.length,this.condition){var C$zut=!!this.condition.call(C$zun);if(!(C$zut=2===this.conditionType?!C$zut:C$zut))return C$zur}if(this.text&&C$zur.push(this.text),0<this.childs.length&&this.childs.forEach(function(C$zut,C$zue,C$zui){C$zut._toscript(C$zun,C$zur,C$zus)}),0<this.includefiles.length&&0<this.useFuns.length)for(var C$zue,C$zui=0,C$zua=this.includefiles.length;C$zui<C$zua;C$zui++)this.includefiles[C$zui].curUseID!=C$zus&&0<(C$zue=this.includefiles[C$zui].file.getFunsScript(this.useFuns)).length&&(this.includefiles[C$zui].curUseID=C$zus,C$zur[0]=C$zue+C$zur[0]);return C$zur},$h.__id=1,C$zuie=$h,C$zui($m,""),(C$zut=$m.prototype).getWith=function(C$zut){var C$zue=C$zut?this.codes[C$zut]:this.script;if(!C$zue)throw"get with error:"+C$zut;return C$zue},C$zut.getFunsScript=function(C$zut){var C$zue="";for(var C$zui in this.funs)0<=C$zut.indexOf(C$zui+";")&&(C$zue+=this.funs[C$zui]);return C$zue},C$zune=$m},$a),C$zuu=function(){function $k(){}return C$zui($k,"laya.webgl.WebGL"),$k._uint8ArraySlice=function(){for(var C$zut=this.length,C$zue=new Uint8Array(this.length),C$zui=0;C$zui<C$zut;C$zui++)C$zue[C$zui]=this[C$zui];return C$zue},$k._float32ArraySlice=function(){for(var C$zut=this.length,C$zue=new Float32Array(this.length),C$zui=0;C$zui<C$zut;C$zui++)C$zue[C$zui]=this[C$zui];return C$zue},$k._uint16ArraySlice=function(C$zut){var C$zue,C$zui=arguments,C$zun=0,C$zur=0;if(0===C$zui.length)for(C$zun=this.length,C$zue=new Uint16Array(C$zun),C$zur=0;C$zur<C$zun;C$zur++)C$zue[C$zur]=this[C$zur];else if(2===C$zui.length){var C$zus=C$zui[0],C$zua=C$zui[1];if(C$zus<C$zua)for(C$zun=C$zua-C$zus,C$zue=new Uint16Array(C$zun),C$zur=C$zus;C$zur<C$zua;C$zur++)C$zue[C$zur-C$zus]=this[C$zur];else C$zue=new Uint16Array(0)}return C$zue},$k.expandContext=function(){var C$zut=C$zuf.prototype,C$zue=CanvasRenderingContext2D.prototype;C$zue.fillTrangles=C$zut.fillTrangles,C$zuKt.__int__(null),C$zue.setIBVB=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul){void 0===C$zuh&&(C$zuh=0),void 0===C$zul&&(C$zul=0),null===C$zui&&(this._ib=this._ib||C$zuZt.QuadrangleIB,C$zui=this._ib,C$zuvt.expandIBQuadrangle(C$zui,C$zun._byteLength/64+8)),this._setIBVB(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul)},C$zue.fillTrangles=function(C$zut,C$zue,C$zui,C$zun,C$zur){this._curMat=this._curMat||C$zub.create(),this._vb=this._vb||C$zuQt.create(),this._ib||(this._ib=C$zuZt.create(),C$zuvt.fillIBQuadrangle(this._ib,C$zua/4));var C$zus=this._vb,C$zua=C$zun.length>>4;C$zuvt.fillTranglesVB(C$zus,C$zue,C$zui,C$zun,C$zur||this._curMat,0,0),C$zuvt.expandIBQuadrangle(this._ib,C$zus._byteLength/64+8);C$zun=new C$zuTt(1,0);C$zun.textureHost=C$zut;C$zut=new C$zujt("attribute vec2 position; attribute vec2 texcoord; uniform vec2 size; uniform mat4 mmat; varying vec2 v_texcoord; void main() { vec4 p=vec4(position.xy,0.0,1.0);vec4 pos=mmat*p; gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0); v_texcoord = texcoord; }","precision mediump float; varying vec2 v_texcoord; uniform sampler2D texture; #ifdef TXTALPHA uniform sampler2D texture1; #endif void main() {vec4 color= texture2D(texture, v_texcoord); #ifdef TXTALPHA color.a = texture2D(texture1, v_texcoord).a; #endif color.a*=1.0; gl_FragColor= color;}");C$zus._vertType=3,this._setIBVB(C$zue,C$zui,this._ib,C$zus,6*C$zua,C$zur,C$zut,C$zun,0,0)}},$k.enable=function(){if(C$zuo.__init__(),C$zuM.isConchApp&&!C$zuM.isConchWebGL)return C$zuE.skinAniSprite=function(){return new C$zuit},$k.expandContext(),!1;if(C$zuE.getWebGLContext=function(C$zut){for(var C$zue,C$zui=["webgl","experimental-webgl","webkit-3d","moz-webgl"],C$zun=0;C$zun<C$zui.length;C$zun++){try{C$zue=C$zut.getContext(C$zui[C$zun],{stencil:C$zum.isStencil,alpha:C$zum.isAlpha,antialias:C$zum.isAntialias,premultipliedAlpha:C$zum.premultipliedAlpha,preserveDrawingBuffer:C$zum.preserveDrawingBuffer})}catch(C$zut){}if(C$zue)return C$zue}return null},null==($k.mainContext=$k.mainContext||C$zuE.getWebGLContext(C$zuM._mainCanvas)))return!1;if(C$zuM.isWebGL)return!0;C$zu$.create=function(C$zut,C$zue){return new C$zuJt(C$zut,C$zue)},C$zuy.create=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){return new C$zuYt(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua)},C$zuM.WebGL=$k,C$zuM.isWebGL=!0,C$zupt.__init__(),C$zuE.createRenderSprite=function(C$zut,C$zue){return new C$zuwt(C$zut,C$zue)},C$zuE.createWebGLContext2D=function(C$zut){return new C$zubt(C$zut)},C$zuE.changeWebGLSize=function(C$zut,C$zue){laya.webgl.WebGL.onStageResize(C$zut,C$zue)},C$zuE.createGraphics=function(){return new C$zuyt};var C$zut=C$zuE.createFilterAction;return C$zuE.createFilterAction=C$zut||function(C$zut){return new C$zuMt},C$zuE.clear=function(C$zut){C$zul.worldScissorTest&&laya.webgl.WebGL.mainContext.disable(3089);var C$zue=C$zuM.context.ctx,C$zut=0==C$zue._submits._length||C$zum.preserveDrawingBuffer?C$zud.create(C$zut)._color:C$zuA._wgColor;C$zut&&C$zue.clearBG(C$zut[0],C$zut[1],C$zut[2],C$zut[3]),C$zul.clear()},C$zuE.addToAtlas=function(C$zut,C$zue){void 0===C$zue&&(C$zue=!1);C$zue=C$zut.bitmap;C$zuM.optimizeTextureMemory(C$zut.url,C$zut)?C$zug.__typeof(C$zue,"laya.webgl.resource.IMergeAtlasBitmap")&&C$zue.allowMerageInAtlas&&C$zue.on("recovered",C$zut,C$zut.addTextureToAtlas):C$zue.enableMerageInAtlas=!1},C$zuE.isAtlas=function(C$zut){return C$zut instanceof laya.webgl.atlas.AtlasWebGLCanvas},C$zuH._enable(),C$zuE.beginFlush=function(){for(var C$zut=C$zuH.instance,C$zue=C$zut.getAtlaserCount(),C$zui=0;C$zui<C$zue;C$zui++){var C$zun=C$zut.getAtlaserByIndex(C$zui).texture;C$zun._flashCacheImageNeedFlush&&C$zuE.flashFlushImage(C$zun)}},C$zuE.drawToCanvas=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){(C$zui<=0||C$zun<=0)&&console.log("[error] canvasWidth and canvasHeight should greater than zero"),C$zur|=0,C$zus|=0;var C$zua=C$zuBt.create(C$zui|=0,C$zun|=0,6408,5121,0,!1);C$zua.start(),C$zua.clear(0,0,0,0),C$zuM.context.clear(),C$zuS.renders[C$zue]._fun(C$zut,C$zuM.context,C$zur,C$zul.height-C$zun+C$zus),C$zuM.context.flush(),C$zua.end();C$zue=C$zua.getData(0,0,C$zui,C$zun);if(C$zua.recycle(),C$zue.byteLength==C$zui*C$zun*4)return(C$zut=new C$zuWt)._canvas=C$zuo.createElement("canvas"),C$zut.size(C$zui,C$zun),C$zur=C$zut._canvas.getContext("2d"),C$zuo.canvas.size(C$zui,C$zun),(C$zua=(C$zus=C$zuo.context).createImageData(C$zui,C$zun)).data.set(new Uint8ClampedArray(C$zue.buffer)),C$zut._imgData=C$zua,C$zus.putImageData(C$zua,0,0),C$zur.save(),C$zur.translate(0,C$zun),C$zur.scale(1,-1),C$zur.drawImage(C$zuo.canvas.source,0,0),C$zur.restore(),C$zut;console.log("drawToCanvas error: w:"+C$zui+",h:"+C$zun+",datalen:"+C$zue.byteLength)},C$zuE.createFilterAction=function(C$zut){var C$zue;return C$zue=32===C$zut?new C$zuMt:C$zue},C$zuE.addTextureToAtlas=function(C$zut){C$zut._uvID++,C$zuH._atlasRestore++,C$zut.bitmap.enableMerageInAtlas&&C$zuH.instance.addToAtlas(C$zut)},C$zuE.getTexturePixels=function(C$zut,C$zue,C$zuu,C$zui,C$zun){C$zuM.context.ctx.clear();var C$zur=new C$zuP;C$zur.graphics.drawTexture(C$zut,-C$zue,-C$zuu);C$zut=C$zuBt.create(C$zui,C$zun);C$zut.start(),C$zut.clear(0,0,0,0),C$zur.render(C$zuM.context,0,0),C$zuM.context.ctx.flush(),C$zut.end();for(var C$zus,C$zua=C$zut.getData(0,0,C$zui,C$zun),C$zuo=[],C$zuh=C$zun-1;0<=C$zuh;C$zuh--)for(var C$zul=0;C$zul<C$zui;C$zul++)C$zuo.push(C$zua[C$zus=4*(C$zuh*C$zui+C$zul)]),C$zuo.push(C$zua[1+C$zus]),C$zuo.push(C$zua[2+C$zus]),C$zuo.push(C$zua[3+C$zus]);return C$zuo},C$zuE.skinAniSprite=function(){return new C$zuit},C$zuv.create=function(C$zut,C$zue){var C$zui=new C$zuWt;return C$zui._imgData=C$zue,C$zui.flipY=!1,C$zui},C$zux._filterStart=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=C$zut.getValue("bounds"),C$zus=C$zuBt.create(C$zus.width,C$zus.height);C$zus.start(),C$zus.clear(0,0,0,0),C$zut.addValue("src",C$zus),C$zut.addValue("ScissorTest",C$zul.worldScissorTest),C$zul.worldScissorTest&&((C$zus=new C$zuw).copyFrom(C$zui.ctx._clipRect),C$zut.addValue("clipRect",C$zus),C$zul.worldScissorTest=!1,laya.webgl.WebGL.mainContext.disable(3089))},C$zux._filterEnd=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=C$zut.getValue("bounds");C$zut.getValue("src").end();C$zus=C$zuBt.create(C$zus.width,C$zus.height);C$zus.start(),C$zus.clear(0,0,0,0),C$zut.addValue("out",C$zus),C$zue._set$P("_filterCache",C$zus),C$zue._set$P("_isHaveGlowFilter",C$zut.getValue("_isHaveGlowFilter"))},C$zux._EndTarget=function(C$zut,C$zue){C$zut.getValue("src").recycle(),C$zut.getValue("out").end(),C$zut.getValue("ScissorTest")&&(C$zul.worldScissorTest=!0,laya.webgl.WebGL.mainContext.enable(3089),C$zue.ctx.save(),C$zut=C$zut.getValue("clipRect"),C$zue.ctx.clipRect(C$zut.x,C$zut.y,C$zut.width,C$zut.height))},C$zux._useSrc=function(C$zut){var C$zue=C$zut.getValue("out");C$zue.end(),(C$zue=C$zut.getValue("src")).start(),C$zue.clear(0,0,0,0)},C$zux._endSrc=function(C$zut){C$zut.getValue("src").end()},C$zux._useOut=function(C$zut){var C$zue=C$zut.getValue("src");C$zue.end(),(C$zue=C$zut.getValue("out")).start(),C$zue.clear(0,0,0,0)},C$zux._endOut=function(C$zut){C$zut.getValue("out").end()},C$zux._recycleScope=function(C$zut){C$zut.recycle()},C$zux._filter=function(C$zut,C$zue,C$zui,C$zun){var C$zuu=this._next;if(C$zuu){var C$zuc,C$zur,C$zu_=C$zut.filters,C$zud=C$zu_.length;if(1==C$zud&&32==C$zu_[0].type)return C$zue.ctx.save(),C$zue.ctx.setFilters([C$zu_[0]]),C$zuu._fun.call(C$zuu,C$zut,C$zue,C$zui,C$zun),void C$zue.ctx.restore();var C$zus=C$zult.create(),C$zua=C$zuT.TEMP,C$zuo=C$zue.ctx._getTransformMatrix(),C$zuh=C$zub.create();C$zuo.copyTo(C$zuh);var C$zuo=0,C$zuf=0,C$zup=!1,C$zum=C$zut._$P._filterCache||null;if(!C$zum||C$zut._repaint){C$zup=C$zut._isHaveGlowFilter(),C$zus.addValue("_isHaveGlowFilter",C$zup),C$zup&&(C$zuo=50,C$zuf=25),(C$zur=new C$zuw).copyFrom(C$zut.getSelfBounds()),C$zur.x+=C$zut.x,C$zur.y+=C$zut.y,C$zur.x-=C$zut.pivotX+4,C$zur.y-=C$zut.pivotY+4;var C$zug=C$zur.x,C$zuv=C$zur.y;if(C$zur.width+=C$zuo+8,C$zur.height+=C$zuo+8,C$zua.x=C$zur.x*C$zuh.a+C$zur.y*C$zuh.c,C$zua.y=C$zur.y*C$zuh.d+C$zur.x*C$zuh.b,C$zur.x=C$zua.x,C$zur.y=C$zua.y,C$zua.x=C$zur.width*C$zuh.a+C$zur.height*C$zuh.c,C$zua.y=C$zur.height*C$zuh.d+C$zur.width*C$zuh.b,C$zur.width=C$zua.x,C$zur.height=C$zua.y,C$zur.width<=0||C$zur.height<=0)return;C$zum&&C$zum.recycle(),C$zus.addValue("bounds",C$zur);var C$zul=C$zuht.create([C$zus,C$zut,C$zue,0,0],C$zux._filterStart);C$zue.addRenderObject(C$zul),C$zue.ctx._renderKey=0,C$zue.ctx._shader2D.glTexture=null;C$zug=C$zut.x-C$zug+C$zuf,C$zuv=C$zut.y-C$zuv+C$zuf;C$zuu._fun.call(C$zuu,C$zut,C$zue,C$zug,C$zuv),C$zul=C$zuht.create([C$zus,C$zut,C$zue,0,0],C$zux._filterEnd),C$zue.addRenderObject(C$zul);for(var C$zu$=0;C$zu$<C$zud;C$zu$++)0!=C$zu$&&(C$zul=C$zuht.create([C$zus],C$zux._useSrc),C$zue.addRenderObject(C$zul),C$zuc=C$zuTt.create(1,0),C$zub.TEMP.identity(),C$zue.ctx.drawTarget(C$zus,0,0,C$zur.width,C$zur.height,C$zub.TEMP,"out",C$zuc,null,C$zuz.TOINT.overlay),C$zul=C$zuht.create([C$zus],C$zux._useOut),C$zue.addRenderObject(C$zul)),C$zu_[C$zu$].action.apply3d(C$zus,C$zut,C$zue,0,0);C$zul=C$zuht.create([C$zus,C$zue],C$zux._EndTarget),C$zue.addRenderObject(C$zul)}else{if((C$zup=!!C$zut._$P._isHaveGlowFilter&&C$zut._$P._isHaveGlowFilter)&&(C$zuo=50,C$zuf=25),(C$zur=C$zut.getBounds()).width<=0||C$zur.height<=0)return;C$zur.width+=C$zuo,C$zur.height+=C$zuo,C$zua.x=C$zur.x*C$zuh.a+C$zur.y*C$zuh.c,C$zua.y=C$zur.y*C$zuh.d+C$zur.x*C$zuh.b,C$zur.x=C$zua.x,C$zur.y=C$zua.y,C$zua.x=C$zur.width*C$zuh.a+C$zur.height*C$zuh.c,C$zua.y=C$zur.height*C$zuh.d+C$zur.width*C$zuh.b,C$zur.width=C$zua.x,C$zur.height=C$zua.y,C$zus.addValue("out",C$zum)}C$zui=C$zui-C$zuf-C$zut.x,C$zun=C$zun-C$zuf-C$zut.y,C$zua.setTo(C$zui,C$zun),C$zuh.transformPoint(C$zua),C$zui=C$zua.x+C$zur.x,C$zun=C$zua.y+C$zur.y,C$zuc=C$zuTt.create(1,0),C$zub.TEMP.identity(),C$zue.ctx.drawTarget(C$zus,C$zui,C$zun,C$zur.width,C$zur.height,C$zub.TEMP,"out",C$zuc,null,C$zuz.TOINT.overlay),C$zul=C$zuht.create([C$zus],C$zux._recycleScope),C$zue.addRenderObject(C$zul),C$zuh.destroy()}},Float32Array.prototype.slice||(Float32Array.prototype.slice=$k._float32ArraySlice),Uint16Array.prototype.slice||(Uint16Array.prototype.slice=$k._uint16ArraySlice),Uint8Array.prototype.slice||(Uint8Array.prototype.slice=$k._uint8ArraySlice),!0},$k.onStageResize=function(C$zut,C$zue){null!=$k.mainContext&&($k.mainContext.viewport(0,0,C$zut,C$zue),C$zul.width=C$zut,C$zul.height=C$zue)},$k.onInvalidGLRes=function(){C$zuH.instance.freeAll(),C$zuD.releaseContentManagers(!0),$k.doNodeRepaint(C$zug.stage),$k.mainContext.viewport(0,0,C$zul.width,C$zul.height),C$zug.stage.event("devicelost")},$k.doNodeRepaint=function(C$zut){0==C$zut.numChildren&&C$zut.repaint();for(var C$zue=0;C$zue<C$zut.numChildren;C$zue++)$k.doNodeRepaint(C$zut.getChildAt(C$zue))},$k.init=function(C$zut,C$zue,C$zui){$k.mainCanvas=C$zut,C$zuv._createContext=function(C$zut){return new C$zubt(C$zut)},C$zuWt._createContext=function(C$zut){return new C$zubt(C$zut)};var C$zun=laya.webgl.WebGL.mainContext;var C$zur;if(null!=C$zun.getShaderPrecisionFormat?(C$zut=C$zun.getShaderPrecisionFormat(35633,36338),C$zur=C$zun.getShaderPrecisionFormat(35632,36338),$k.shaderHighPrecision=!(!C$zut.precision||!C$zur.precision)):$k.shaderHighPrecision=!1,$k.compressAstc=C$zun.getExtension("WEBGL_compressed_texture_astc"),$k.compressAtc=C$zun.getExtension("WEBGL_compressed_texture_atc"),$k.compressEtc=C$zun.getExtension("WEBGL_compressed_texture_etc"),$k.compressEtc1=C$zun.getExtension("WEBGL_compressed_texture_etc1"),$k.compressPvrtc=C$zun.getExtension("WEBGL_compressed_texture_pvrtc"),$k.compressS3tc=C$zun.getExtension("WEBGL_compressed_texture_s3tc"),$k.compressS3tc_srgb=C$zun.getExtension("WEBGL_compressed_texture_s3tc_srgb"),$k.compressAstc=$k.compressAstc||{},$k.compressAtc=$k.compressAtc||{},$k.compressEtc=$k.compressEtc||{},$k.compressEtc1=$k.compressEtc1||{},$k.compressPvrtc=$k.compressPvrtc||{},$k.compressS3tc=$k.compressS3tc||{},$k.compressS3tc_srgb=$k.compressS3tc_srgb||{},C$zun.deleteTexture1=C$zun.deleteTexture,C$zun.deleteTexture=function(C$zut){C$zut==C$zuh.curBindTexValue&&(C$zuh.curBindTexValue=null),C$zun.deleteTexture1(C$zut)},$k.onStageResize(C$zue,C$zui),null==$k.mainContext)throw new Error("webGL getContext err!");C$zuL.__init__(),C$zuH.__init__(),C$zuCt.__init__(),C$zuot.__init__(),C$zubt.__init__(),C$zuTt.__init__(),C$zutt.__init__(),C$zuKt.__int__(C$zun),C$zuz._init_(C$zun),C$zuM.isConchApp&&conch.setOnInvalidGLRes($k.onInvalidGLRes)},$k.mainCanvas=null,$k.antialias=!0,$k.shaderHighPrecision=!1,$k._bg_null=[0,0,0,0],$k}(),C$zuh=function(){function $P(){}return C$zui($P,"laya.webgl.WebGLContext"),$P.UseProgram=function(C$zut){return $P._useProgram!==C$zut&&(C$zuu.mainContext.useProgram(C$zut),$P._useProgram=C$zut,!0)},$P.setDepthTest=function(C$zut,C$zue){C$zue!==$P._depthTest&&(($P._depthTest=C$zue)?C$zut.enable(2929):C$zut.disable(2929))},$P.setDepthMask=function(C$zut,C$zue){C$zue!==$P._depthMask&&($P._depthMask=C$zue,C$zut.depthMask(C$zue))},$P.setDepthFunc=function(C$zut,C$zue){C$zue!==$P._depthFunc&&($P._depthFunc=C$zue,C$zut.depthFunc(C$zue))},$P.setBlend=function(C$zut,C$zue){C$zue!==$P._blend&&(($P._blend=C$zue)?C$zut.enable(3042):C$zut.disable(3042))},$P.setBlendFunc=function(C$zut,C$zue,C$zui){C$zue===$P._sFactor&&C$zui===$P._dFactor||($P._sFactor=C$zue,$P._dFactor=C$zui,C$zut.blendFunc(C$zue,C$zui))},$P.setCullFace=function(C$zut,C$zue){C$zue!==$P._cullFace&&(($P._cullFace=C$zue)?C$zut.enable(2884):C$zut.disable(2884))},$P.setFrontFace=function(C$zut,C$zue){C$zue!==$P._frontFace&&($P._frontFace=C$zue,C$zut.frontFace(C$zue))},$P.bindTexture=function(C$zut,C$zue,C$zui){C$zut.bindTexture(C$zue,C$zui),$P.curBindTexTarget=C$zue,$P.curBindTexValue=C$zui},$P.DEPTH_BUFFER_BIT=256,$P.STENCIL_BUFFER_BIT=1024,$P.COLOR_BUFFER_BIT=16384,$P.POINTS=0,$P.LINES=1,$P.LINE_LOOP=2,$P.LINE_STRIP=3,$P.TRIANGLES=4,$P.TRIANGLE_STRIP=5,$P.TRIANGLE_FAN=6,$P.ZERO=0,$P.ONE=1,$P.SRC_COLOR=768,$P.ONE_MINUS_SRC_COLOR=769,$P.SRC_ALPHA=770,$P.ONE_MINUS_SRC_ALPHA=771,$P.DST_ALPHA=772,$P.ONE_MINUS_DST_ALPHA=773,$P.DST_COLOR=774,$P.ONE_MINUS_DST_COLOR=775,$P.SRC_ALPHA_SATURATE=776,$P.FUNC_ADD=32774,$P.BLEND_EQUATION=32777,$P.BLEND_EQUATION_RGB=32777,$P.BLEND_EQUATION_ALPHA=34877,$P.FUNC_SUBTRACT=32778,$P.FUNC_REVERSE_SUBTRACT=32779,$P.BLEND_DST_RGB=32968,$P.BLEND_SRC_RGB=32969,$P.BLEND_DST_ALPHA=32970,$P.BLEND_SRC_ALPHA=32971,$P.CONSTANT_COLOR=32769,$P.ONE_MINUS_CONSTANT_COLOR=32770,$P.CONSTANT_ALPHA=32771,$P.ONE_MINUS_CONSTANT_ALPHA=32772,$P.BLEND_COLOR=32773,$P.ARRAY_BUFFER=34962,$P.ELEMENT_ARRAY_BUFFER=34963,$P.ARRAY_BUFFER_BINDING=34964,$P.ELEMENT_ARRAY_BUFFER_BINDING=34965,$P.STREAM_DRAW=35040,$P.STATIC_DRAW=35044,$P.DYNAMIC_DRAW=35048,$P.BUFFER_SIZE=34660,$P.BUFFER_USAGE=34661,$P.CURRENT_VERTEX_ATTRIB=34342,$P.FRONT=1028,$P.BACK=1029,$P.CULL_FACE=2884,$P.FRONT_AND_BACK=1032,$P.BLEND=3042,$P.DITHER=3024,$P.STENCIL_TEST=2960,$P.DEPTH_TEST=2929,$P.SCISSOR_TEST=3089,$P.POLYGON_OFFSET_FILL=32823,$P.SAMPLE_ALPHA_TO_COVERAGE=32926,$P.SAMPLE_COVERAGE=32928,$P.NO_ERROR=0,$P.INVALID_ENUM=1280,$P.INVALID_VALUE=1281,$P.INVALID_OPERATION=1282,$P.OUT_OF_MEMORY=1285,$P.CW=2304,$P.CCW=2305,$P.LINE_WIDTH=2849,$P.ALIASED_POINT_SIZE_RANGE=33901,$P.ALIASED_LINE_WIDTH_RANGE=33902,$P.CULL_FACE_MODE=2885,$P.FRONT_FACE=2886,$P.DEPTH_RANGE=2928,$P.DEPTH_WRITEMASK=2930,$P.DEPTH_CLEAR_VALUE=2931,$P.DEPTH_FUNC=2932,$P.STENCIL_CLEAR_VALUE=2961,$P.STENCIL_FUNC=2962,$P.STENCIL_FAIL=2964,$P.STENCIL_PASS_DEPTH_FAIL=2965,$P.STENCIL_PASS_DEPTH_PASS=2966,$P.STENCIL_REF=2967,$P.STENCIL_VALUE_MASK=2963,$P.STENCIL_WRITEMASK=2968,$P.STENCIL_BACK_FUNC=34816,$P.STENCIL_BACK_FAIL=34817,$P.STENCIL_BACK_PASS_DEPTH_FAIL=34818,$P.STENCIL_BACK_PASS_DEPTH_PASS=34819,$P.STENCIL_BACK_REF=36003,$P.STENCIL_BACK_VALUE_MASK=36004,$P.STENCIL_BACK_WRITEMASK=36005,$P.VIEWPORT=2978,$P.SCISSOR_BOX=3088,$P.COLOR_CLEAR_VALUE=3106,$P.COLOR_WRITEMASK=3107,$P.UNPACK_ALIGNMENT=3317,$P.PACK_ALIGNMENT=3333,$P.MAX_TEXTURE_SIZE=3379,$P.MAX_VIEWPORT_DIMS=3386,$P.SUBPIXEL_BITS=3408,$P.RED_BITS=3410,$P.GREEN_BITS=3411,$P.BLUE_BITS=3412,$P.ALPHA_BITS=3413,$P.DEPTH_BITS=3414,$P.STENCIL_BITS=3415,$P.POLYGON_OFFSET_UNITS=10752,$P.POLYGON_OFFSET_FACTOR=32824,$P.TEXTURE_BINDING_2D=32873,$P.SAMPLE_BUFFERS=32936,$P.SAMPLES=32937,$P.SAMPLE_COVERAGE_VALUE=32938,$P.SAMPLE_COVERAGE_INVERT=32939,$P.NUM_COMPRESSED_TEXTURE_FORMATS=34466,$P.COMPRESSED_TEXTURE_FORMATS=34467,$P.DONT_CARE=4352,$P.FASTEST=4353,$P.NICEST=4354,$P.GENERATE_MIPMAP_HINT=33170,$P.BYTE=5120,$P.UNSIGNED_BYTE=5121,$P.SHORT=5122,$P.UNSIGNED_SHORT=5123,$P.INT=5124,$P.UNSIGNED_INT=5125,$P.FLOAT=5126,$P.DEPTH_COMPONENT=6402,$P.ALPHA=6406,$P.RGB=6407,$P.RGBA=6408,$P.LUMINANCE=6409,$P.LUMINANCE_ALPHA=6410,$P.UNSIGNED_SHORT_4_4_4_4=32819,$P.UNSIGNED_SHORT_5_5_5_1=32820,$P.UNSIGNED_SHORT_5_6_5=33635,$P.FRAGMENT_SHADER=35632,$P.VERTEX_SHADER=35633,$P.MAX_VERTEX_ATTRIBS=34921,$P.MAX_VERTEX_UNIFORM_VECTORS=36347,$P.MAX_VARYING_VECTORS=36348,$P.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,$P.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,$P.MAX_TEXTURE_IMAGE_UNITS=34930,$P.MAX_FRAGMENT_UNIFORM_VECTORS=36349,$P.SHADER_TYPE=35663,$P.DELETE_STATUS=35712,$P.LINK_STATUS=35714,$P.VALIDATE_STATUS=35715,$P.ATTACHED_SHADERS=35717,$P.ACTIVE_UNIFORMS=35718,$P.ACTIVE_ATTRIBUTES=35721,$P.SHADING_LANGUAGE_VERSION=35724,$P.CURRENT_PROGRAM=35725,$P.NEVER=512,$P.LESS=513,$P.EQUAL=514,$P.LEQUAL=515,$P.GREATER=516,$P.NOTEQUAL=517,$P.GEQUAL=518,$P.ALWAYS=519,$P.KEEP=7680,$P.REPLACE=7681,$P.INCR=7682,$P.DECR=7683,$P.INVERT=5386,$P.INCR_WRAP=34055,$P.DECR_WRAP=34056,$P.VENDOR=7936,$P.RENDERER=7937,$P.VERSION=7938,$P.NEAREST=9728,$P.LINEAR=9729,$P.NEAREST_MIPMAP_NEAREST=9984,$P.LINEAR_MIPMAP_NEAREST=9985,$P.NEAREST_MIPMAP_LINEAR=9986,$P.LINEAR_MIPMAP_LINEAR=9987,$P.TEXTURE_MAG_FILTER=10240,$P.TEXTURE_MIN_FILTER=10241,$P.TEXTURE_WRAP_S=10242,$P.TEXTURE_WRAP_T=10243,$P.TEXTURE_2D=3553,$P.TEXTURE=5890,$P.TEXTURE_CUBE_MAP=34067,$P.TEXTURE_BINDING_CUBE_MAP=34068,$P.TEXTURE_CUBE_MAP_POSITIVE_X=34069,$P.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,$P.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,$P.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,$P.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,$P.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,$P.MAX_CUBE_MAP_TEXTURE_SIZE=34076,$P.TEXTURE0=33984,$P.TEXTURE1=33985,$P.TEXTURE2=33986,$P.TEXTURE3=33987,$P.TEXTURE4=33988,$P.TEXTURE5=33989,$P.TEXTURE6=33990,$P.TEXTURE7=33991,$P.TEXTURE8=33992,$P.TEXTURE9=33993,$P.TEXTURE10=33994,$P.TEXTURE11=33995,$P.TEXTURE12=33996,$P.TEXTURE13=33997,$P.TEXTURE14=33998,$P.TEXTURE15=33999,$P.TEXTURE16=34e3,$P.TEXTURE17=34001,$P.TEXTURE18=34002,$P.TEXTURE19=34003,$P.TEXTURE20=34004,$P.TEXTURE21=34005,$P.TEXTURE22=34006,$P.TEXTURE23=34007,$P.TEXTURE24=34008,$P.TEXTURE25=34009,$P.TEXTURE26=34010,$P.TEXTURE27=34011,$P.TEXTURE28=34012,$P.TEXTURE29=34013,$P.TEXTURE30=34014,$P.TEXTURE31=34015,$P.ACTIVE_TEXTURE=34016,$P.REPEAT=10497,$P.CLAMP_TO_EDGE=33071,$P.MIRRORED_REPEAT=33648,$P.FLOAT_VEC2=35664,$P.FLOAT_VEC3=35665,$P.FLOAT_VEC4=35666,$P.INT_VEC2=35667,$P.INT_VEC3=35668,$P.INT_VEC4=35669,$P.BOOL=35670,$P.BOOL_VEC2=35671,$P.BOOL_VEC3=35672,$P.BOOL_VEC4=35673,$P.FLOAT_MAT2=35674,$P.FLOAT_MAT3=35675,$P.FLOAT_MAT4=35676,$P.SAMPLER_2D=35678,$P.SAMPLER_CUBE=35680,$P.VERTEX_ATTRIB_ARRAY_ENABLED=34338,$P.VERTEX_ATTRIB_ARRAY_SIZE=34339,$P.VERTEX_ATTRIB_ARRAY_STRIDE=34340,$P.VERTEX_ATTRIB_ARRAY_TYPE=34341,$P.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,$P.VERTEX_ATTRIB_ARRAY_POINTER=34373,$P.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,$P.COMPILE_STATUS=35713,$P.LOW_FLOAT=36336,$P.MEDIUM_FLOAT=36337,$P.HIGH_FLOAT=36338,$P.LOW_INT=36339,$P.MEDIUM_INT=36340,$P.HIGH_INT=36341,$P.FRAMEBUFFER=36160,$P.RENDERBUFFER=36161,$P.RGBA4=32854,$P.RGB5_A1=32855,$P.RGB565=36194,$P.DEPTH_COMPONENT16=33189,$P.STENCIL_INDEX=6401,$P.STENCIL_INDEX8=36168,$P.DEPTH_STENCIL=34041,$P.RENDERBUFFER_WIDTH=36162,$P.RENDERBUFFER_HEIGHT=36163,$P.RENDERBUFFER_INTERNAL_FORMAT=36164,$P.RENDERBUFFER_RED_SIZE=36176,$P.RENDERBUFFER_GREEN_SIZE=36177,$P.RENDERBUFFER_BLUE_SIZE=36178,$P.RENDERBUFFER_ALPHA_SIZE=36179,$P.RENDERBUFFER_DEPTH_SIZE=36180,$P.RENDERBUFFER_STENCIL_SIZE=36181,$P.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,$P.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,$P.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,$P.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,$P.COLOR_ATTACHMENT0=36064,$P.DEPTH_ATTACHMENT=36096,$P.STENCIL_ATTACHMENT=36128,$P.DEPTH_STENCIL_ATTACHMENT=33306,$P.NONE=0,$P.FRAMEBUFFER_COMPLETE=36053,$P.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,$P.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,$P.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,$P.FRAMEBUFFER_UNSUPPORTED=36061,$P.FRAMEBUFFER_BINDING=36006,$P.RENDERBUFFER_BINDING=36007,$P.MAX_RENDERBUFFER_SIZE=34024,$P.INVALID_FRAMEBUFFER_OPERATION=1286,$P.UNPACK_FLIP_Y_WEBGL=37440,$P.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,$P.CONTEXT_LOST_WEBGL=37442,$P.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,$P.BROWSER_DEFAULT_WEBGL=37444,$P._useProgram=null,$P._depthTest=!0,$P._depthMask=!0,$P._blend=!1,$P._cullFace=!1,$P.curBindTexTarget=null,$P.curBindTexValue=null,C$zue($P,["_depthFunc",function(){return this._depthFunc=513},"_sFactor",function(){return this._sFactor=1},"_dFactor",function(){return this._dFactor=0},"_frontFace",function(){return this._frontFace=2305}]),$P}(),C$zuyt=function(){function $p(){$p.__super.call(this)}C$zui($p,"laya.webgl.display.GraphicsGL",C$zup);var C$zut=$p.prototype;return C$zut.setShader=function(C$zut){this._saveToCmd(C$zuM.context._setShader,[C$zut])},C$zut.setIBVB=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this._saveToCmd(C$zuM.context._setIBVB,[C$zut,C$zue,C$zui,C$zun,C$zur,C$zus])},C$zut.drawParticle=function(C$zut,C$zue,C$zui){C$zui=C$zuE.createParticleTemplate2D(C$zui);C$zui.x=C$zut,C$zui.y=C$zue,this._saveToCmd(C$zuM.context._drawParticle,[C$zui])},$p}(),C$zubt=(C$zui($X,"laya.webgl.canvas.WebGLContext2D",C$zuf),(C$zut=$X.prototype).setIsMainContext=function(){this._isMain=!0},C$zut.clearBG=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zuu.mainContext;C$zur.clearColor(C$zut,C$zue,C$zui,C$zun),C$zur.clear(16384)},C$zut._getSubmits=function(){return this._submits},C$zut._releaseMem=function(){if(this._submits){this._curMat.destroy(),this._curMat=null,this._shader2D.destroy(),this._shader2D=null;for(var C$zut=0,C$zue=this._submits._length;C$zut<C$zue;C$zut++)this._submits[C$zut].releaseRender();this._submits.length=0,this._submits._length=0,this._submits=null,this._curSubmit=null,this._path&&this._path.recover(),this._path=null,this._other&&(this._other.font=null),this._save=null,this._vb&&(this._vb.releaseResource(),this._vb.destroy(),this._vb.destory(),this._vb=null)}},C$zut.destroy=function(){--$X._contextcount,this.sprite=null,this._releaseMem(),this._targets&&this._targets.destroy(),this._targets=null,this._canvas&&this._canvas._removeReference(),this._canvas=null,this._ib&&this._ib!=C$zuZt.QuadrangleIB&&this._ib.releaseResource()},C$zut.clear=function(){this._submits||(this._other=C$zuee.DEFAULT,this._curMat=C$zub.create(),this._vb=C$zuQt.create(-1),this._submits=[],this._save=[C$zuj.Create(this)],this._save.length=10,this._shader2D=new C$zutt,this._triangleMesh=C$zuRt.getAMesh()),this._vb.clear(),this._targets&&(this._targets.repaint=!0),this._other=C$zuee.DEFAULT,this._clear=!0,this._repaint=!1,this._drawCount=1,this._renderKey=0,this._other.lineWidth=this._shader2D.ALPHA=1,this._nBlendType=0,this._clipRect=$X.MAXCLIPRECT,this._curSubmit=C$zuot.RENDERBASE,this._shader2D.glTexture=null,this._shader2D.fillStyle=this._shader2D.strokeStyle=C$zuG.DEFAULT;for(var C$zut=0,C$zue=this._submits._length;C$zut<C$zue;C$zut++)this._submits[C$zut].releaseRender(),this._submits[C$zut]=null;this._submits._length=0,this._curMat.identity(),this._other.clear(),this._saveMark=this._save[0],this._save._length=1},C$zut.size=function(C$zut,C$zue){if(this._width!=C$zut||this._height!=C$zue)if(0==C$zut||0==C$zue){0!=this._vb._byteLength&&(this._width=C$zut,this._height=C$zue,this._vb.clear(),this._vb.upload());for(var C$zui=0,C$zun=this._submits._length;C$zui<C$zun;C$zui++)this._submits[C$zui].releaseRender();this._submits.length=0,this._submits._length=0,this._curSubmit=null,this._path&&this._path.recover(),this._path=null,this.sprite=null,this._targets&&this._targets.destroy(),this._targets=null}else this._width=C$zut,this._height=C$zue,this._targets&&this._targets.size(C$zut,C$zue),this._canvas.memorySize-=this._canvas.memorySize;0===C$zut&&0===C$zue&&this._releaseMem()},C$zut._getTransformMatrix=function(){return this._curMat},C$zut.translate=function(C$zut,C$zue){0===C$zut&&0===C$zue||(C$zuQ.save(this),this._curMat.bTransform&&(C$zuZ.save(this),this._curMat.transformPointN(C$zuT.TEMP.setTo(C$zut,C$zue)),C$zut=C$zuT.TEMP.x,C$zue=C$zuT.TEMP.y),this._x+=C$zut,this._y+=C$zue)},C$zut.save=function(){this._save[this._save._length++]=C$zuj.Create(this)},C$zut.restore=function(){var C$zut=this._save._length;if(!(C$zut<1))for(var C$zue=C$zut-1;0<=C$zue;C$zue--){var C$zui=this._save[C$zue];if(C$zui.restore(this),C$zui.isSaveMark())return void(this._save._length=C$zue)}},C$zut._fillText=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zuu,C$zuc,C$zu_,C$zua){void 0===C$zua&&(C$zua=0);var C$zuo=this._shader2D,C$zuh=this._curSubmit.shaderValue,C$zur=C$zur?C$zumt.create(C$zur):this._other.font;var C$zul;C$zuH.enabled?C$zuo.ALPHA!==C$zuh.ALPHA&&(C$zuo.glTexture=null):(this._shader2D.defines.getValue(),C$zul=C$zus?C$zud.create(C$zus)._color:C$zuo.colorAdd,C$zuo.ALPHA===C$zuh.ALPHA&&C$zul===C$zuo.colorAdd&&C$zuh.colorAdd===C$zuo.colorAdd||(C$zuo.glTexture=null,C$zuo.colorAdd=C$zul)),C$zupt.drawText(this,C$zut,C$zue,this._curMat,C$zur,C$zu_||this._other.textAlign,C$zus,C$zuu,C$zuc,C$zui,C$zun,C$zua)},C$zut.fillWords=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this._fillText(null,C$zut,C$zue,C$zui,C$zun,C$zur,null,-1,null,C$zus)},C$zut.fillBorderWords=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){this._fillBorderText(null,C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,null)},C$zut.fillText=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this._fillText(C$zut,null,C$zue,C$zui,C$zun,C$zur,null,-1,C$zus)},C$zut.strokeText=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){this._fillText(C$zut,null,C$zue,C$zui,C$zun,null,C$zur,C$zus||1,C$zua)},C$zut.fillBorderText=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){this._fillBorderText(C$zut,null,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo)},C$zut._fillBorderText=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh){if(!C$zuH.enabled)return this._fillText(C$zut,C$zue,C$zui,C$zun,C$zur,null,C$zua,C$zuo||1,C$zuh),void this._fillText(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,null,-1,C$zuh);var C$zuu=this._shader2D,C$zul=this._curSubmit.shaderValue;C$zuu.ALPHA!==C$zul.ALPHA&&(C$zuu.glTexture=null);C$zul=C$zur?($X._fontTemp.setFont(C$zur),$X._fontTemp):this._other.font;C$zupt.drawText(this,C$zut,C$zue,this._curMat,C$zul,C$zuh||this._other.textAlign,C$zus,C$zua,C$zuo||1,C$zui,C$zun,0)},C$zut.fillRect=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=this._vb;C$zuvt.fillRectImgVb(C$zus,this._clipRect,C$zut,C$zue,C$zui,C$zun,C$zuN.DEF_UV,this._curMat,this._x,this._y,0,0)&&(this._renderKey=0,C$zut=this._shader2D.fillStyle,C$zur&&(this._shader2D.fillStyle=C$zuG.create(C$zur)),C$zue=this._shader2D,C$zui=this._curSubmit.shaderValue,C$zue.fillStyle===C$zui.fillStyle&&C$zue.ALPHA===C$zui.ALPHA||(C$zue.glTexture=null,(C$zun=this._curSubmit=C$zuot.createSubmit(this,this._ib,C$zus,(C$zus._byteLength-64)/32*3,C$zuTt.create(2,0))).shaderValue.color=C$zue.fillStyle._color._color,C$zun.shaderValue.ALPHA=C$zue.ALPHA,this._submits[this._submits._length++]=C$zun),this._curSubmit._numEle+=6,this._shader2D.fillStyle=C$zut)},C$zut.fillTexture=function(C$zut,C$zuu,C$zuc,C$zue,C$zui,C$zun,C$zu_,C$zur){if(C$zut.loaded&&C$zut.bitmap&&C$zut.source){var C$zud=this._vb,C$zus=C$zut.bitmap.width,C$zua=C$zut.bitmap.height,C$zuo=C$zut.uv,C$zuh=C$zu_.x%C$zut.width,C$zul=C$zu_.y%C$zut.height;if(C$zus!=C$zur.w||C$zua!=C$zur.h){if(!C$zur.w&&!C$zur.h)switch(C$zur.oy=C$zur.ox=0,C$zun){case"repeat":C$zur.width=C$zue,C$zur.height=C$zui;break;case"repeat-x":C$zur.width=C$zue,C$zul<0?C$zut.height+C$zul>C$zui?C$zur.height=C$zui:C$zur.height=C$zut.height+C$zul:(C$zur.oy=C$zul,C$zut.height+C$zul>C$zui?C$zur.height=C$zui-C$zul:C$zur.height=C$zut.height);break;case"repeat-y":C$zuh<0?C$zut.width+C$zuh>C$zue?C$zur.width=C$zue:C$zur.width=C$zut.width+C$zuh:(C$zur.ox=C$zuh,C$zut.width+C$zuh>C$zue?C$zur.width=C$zue-C$zuh:C$zur.width=C$zut.width),C$zur.height=C$zui;break;case"no-repeat":C$zuh<0?C$zut.width+C$zuh>C$zue?C$zur.width=C$zue:C$zur.width=C$zut.width+C$zuh:(C$zur.ox=C$zuh,C$zut.width+C$zuh>C$zue?C$zur.width=C$zue-C$zuh:C$zur.width=C$zut.width),C$zul<0?C$zut.height+C$zul>C$zui?C$zur.height=C$zui:C$zur.height=C$zut.height+C$zul:(C$zur.oy=C$zul,C$zut.height+C$zul>C$zui?C$zur.height=C$zui-C$zul:C$zur.height=C$zut.height);break;default:C$zur.width=C$zue,C$zur.height=C$zui}C$zur.w=C$zus,C$zur.h=C$zua,C$zur.uv=[0,0,C$zur.width/C$zus,0,C$zur.width/C$zus,C$zur.height/C$zua,0,C$zur.height/C$zua]}var C$zuf,C$zup,C$zum;C$zuu+=C$zur.ox,C$zuc+=C$zur.oy,C$zuh-=C$zur.ox,C$zul-=C$zur.oy,C$zuvt.fillRectImgVb(C$zud,this._clipRect,C$zuu,C$zuc,C$zur.width,C$zur.height,C$zur.uv,this._curMat,this._x,this._y,0,0)&&(this._renderKey=0,C$zu_=C$zuIt.create(this,this._ib,C$zud,(C$zud._byteLength-64)/32*3,C$zuTt.create(256,0)),(C$zun=(this._submits[this._submits._length++]=C$zu_).shaderValue).textureHost=C$zut,C$zuu=C$zuo[0]*C$zus,C$zuc=C$zuo[1]*C$zua,C$zuf=(C$zuo[2]-C$zuo[0])*C$zus,C$zuo=(C$zuo[5]-C$zuo[3])*C$zua,C$zup=-C$zuh/C$zus,C$zum=-C$zul/C$zua,C$zun.u_TexRange[0]=C$zuu/C$zus,C$zun.u_TexRange[1]=C$zuf/C$zus,C$zun.u_TexRange[2]=C$zuc/C$zua,C$zun.u_TexRange[3]=C$zuo/C$zua,C$zun.u_offset[0]=C$zup,C$zun.u_offset[1]=C$zum,C$zuH.enabled&&!this._isMain&&C$zu_.addTexture(C$zut,(C$zud._byteLength>>2)-16),(this._curSubmit=C$zu_)._renderType=10017,C$zu_._numEle+=6)}else this.sprite&&C$zug.timer.callLater(this,this._repaintSprite)},C$zut.setShader=function(C$zut){C$zuX.save(this,1048576,this._shader2D,!0),this._shader2D.shader=C$zut},C$zut.setFilters=function(C$zut){C$zuX.save(this,2097152,this._shader2D,!0),this._shader2D.filters=C$zut,this._curSubmit=C$zuot.RENDERBASE,this._renderKey=0,this._drawCount++},C$zut.drawTexture=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){this._drawTextureM(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,null,1)},C$zut.addTextureVb=function(C$zut,C$zue,C$zui){var C$zun=this._curSubmit._vb||this._vb,C$zur=C$zun._byteLength>>2;C$zun.byteLength=C$zur+16<<2;for(var C$zus=C$zun.getFloat32Array(),C$zua=0;C$zua<16;C$zua+=4)C$zus[C$zur++]=C$zut[C$zua]+C$zue,C$zus[C$zur++]=C$zut[C$zua+1]+C$zui,C$zus[C$zur++]=C$zut[C$zua+2],C$zus[C$zur++]=C$zut[C$zua+3];this._curSubmit._numEle+=6,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle),C$zun._upload=!0},C$zut.willDrawTexture=function(C$zut,C$zue){if(!(C$zut.loaded&&C$zut.bitmap&&C$zut.source))return this.sprite&&C$zug.timer.callLater(this,this._repaintSprite),0;var C$zui=C$zut.bitmap,C$zun=C$zui.id+this._shader2D.ALPHA*C$zue+10016;if(C$zun==this._renderKey)return C$zun;var C$zur=this._shader2D,C$zus=C$zur.ALPHA,C$zua=this._curSubmit.shaderValue;C$zur.ALPHA*=C$zue,this._renderKey=C$zun,this._drawCount++,C$zur.glTexture=C$zui;var C$zue=this._vb,C$zui=null,C$zuo=C$zue._byteLength/32*3,C$zuh=C$zua.textureHost&&C$zua.textureHost==C$zut&&C$zua.textureHost.alphaTexture==C$zut.alphaTexture;return C$zui=C$zuIt.create(this,this._ib,C$zue,C$zuo,C$zuTt.create(1,0)),(this._submits[this._submits._length++]=C$zui).shaderValue.textureHost=C$zut,C$zui._renderType=10016,C$zui._preIsSameTextureShader=10016===this._curSubmit._renderType&&C$zur.ALPHA===C$zua.ALPHA&&C$zuh,this._curSubmit=C$zui,C$zur.ALPHA=C$zus,C$zun},C$zut.drawTextures=function(C$zut,C$zue,C$zui,C$zun){if(C$zut.loaded&&C$zut.bitmap&&C$zut.source){var C$zur=this._clipRect;if(this._clipRect=$X.MAXCLIPRECT,this._drawTextureM(C$zut,C$zue[0],C$zue[1],C$zut.width,C$zut.height,C$zui,C$zun,null,1)){if(this._clipRect=C$zur,C$zuI.drawCall++,!(C$zue.length<4)){for(var C$zus=this._curSubmit._vb||this._vb,C$zua=this._curMat.a,C$zuo=this._curMat.d,C$zuh=2,C$zul=C$zue.length;C$zuh<C$zul;C$zuh+=2)C$zuvt.copyPreImgVb(C$zus,(C$zue[C$zuh]-C$zue[C$zuh-2])*C$zua,(C$zue[C$zuh+1]-C$zue[C$zuh-1])*C$zuo),this._curSubmit._numEle+=6;this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle)}}else alert("drawTextures err")}else this.sprite&&C$zug.timer.callLater(this,this._repaintSprite)},C$zut._drawTextureM=function(C$zut,C$zue,C$zui,C$zuu,C$zuc,C$zun,C$zur,C$zu_,C$zus){if(!C$zut.loaded||!C$zut.source)return this.sprite&&C$zug.timer.callLater(this,this._repaintSprite),!1;var C$zua=this._curSubmit._vb||this._vb,C$zuo=C$zut.bitmap;C$zue+=C$zun,C$zui+=C$zur,this._drawCount++;C$zun=C$zuo.id+this._shader2D.ALPHA*C$zus+10016;var C$zuh,C$zul,C$zud;return C$zun!=this._renderKey&&(this._renderKey=C$zun,C$zur=this._curSubmit.shaderValue,C$zuh=(C$zun=this._shader2D).ALPHA,C$zun.ALPHA*=C$zus,C$zun.glTexture=C$zuo,C$zus=null,C$zul=(C$zuo=this._vb)._byteLength/32*3,C$zud=C$zur.textureHost&&C$zur.textureHost==C$zut&&C$zur.textureHost.alphaTexture==C$zut.alphaTexture,C$zus=C$zuIt.create(this,this._ib,C$zuo,C$zul,C$zuTt.create(1,0)),(this._submits[this._submits._length++]=C$zus).shaderValue.textureHost=C$zut,C$zus._renderType=10016,C$zus._preIsSameTextureShader=10016===this._curSubmit._renderType&&C$zun.ALPHA===C$zur.ALPHA&&C$zud,this._curSubmit=C$zus,C$zua=this._curSubmit._vb||this._vb,C$zun.ALPHA=C$zuh),!!C$zuvt.fillRectImgVb(C$zua,this._clipRect,C$zue,C$zui,C$zuu||C$zut.width,C$zuc||C$zut.height,C$zut.uv,C$zu_||this._curMat,this._x,this._y,0,0)&&(C$zuH.enabled&&!this._isMain&&this._curSubmit.addTexture(C$zut,(C$zua._byteLength>>2)-16),this._curSubmit._numEle+=6,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle),!0)},C$zut._repaintSprite=function(){this.sprite&&this.sprite.repaint()},C$zut._drawText=function(C$zut,C$zue,C$zui,C$zun,C$zuu,C$zuc,C$zu_,C$zud,C$zuf,C$zup){var C$zur=C$zut.bitmap;this._drawCount++;var C$zus=C$zur.id+this._shader2D.ALPHA+10016;var C$zua,C$zuo,C$zuh;C$zus!=this._renderKey&&(this._renderKey=C$zus,C$zus=this._curSubmit.shaderValue,(C$zua=this._shader2D).glTexture=C$zur,C$zur=null,C$zuo=(C$zul=this._vb)._byteLength/32*3,C$zuh=C$zus.textureHost&&C$zus.textureHost==C$zut&&C$zus.textureHost.alphaTexture==C$zut.alphaTexture,(C$zur=C$zuH.enabled?C$zuIt.create(this,this._ib,C$zul,C$zuo,C$zuTt.create(1,0)):C$zuIt.create(this,this._ib,C$zul,C$zuo,C$zuqt.create()))._preIsSameTextureShader=10016===this._curSubmit._renderType&&C$zua.ALPHA===C$zus.ALPHA&&C$zuh,(this._submits[this._submits._length++]=C$zur).shaderValue.textureHost=C$zut,C$zur._renderType=10016,this._curSubmit=C$zur),C$zut.active();var C$zul=this._curSubmit._vb||this._vb;C$zuvt.fillRectImgVb(C$zul,this._clipRect,C$zue+C$zu_,C$zui+C$zud,C$zun||C$zut.width,C$zuu||C$zut.height,C$zut.uv,C$zuc||this._curMat,this._x,this._y,C$zuf,C$zup,!0)&&(C$zuH.enabled&&!this._isMain&&this._curSubmit.addTexture(C$zut,(C$zul._byteLength>>2)-16),this._curSubmit._numEle+=6,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle))},C$zut.drawTextureWithTransform=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh){var C$zul,C$zuu,C$zuc;C$zus?(C$zul=this._curMat,C$zuu=this._x,C$zuc=this._y,0===C$zua&&0===C$zuo||(this._x=C$zua*C$zul.a+C$zuo*C$zul.c,this._y=C$zuo*C$zul.d+C$zua*C$zul.b),C$zus&&C$zul.bTransform?(C$zub.mul(C$zus,C$zul,$X._tmpMatrix),(C$zus=$X._tmpMatrix)._checkTransform()):(this._x+=C$zul.tx,this._y+=C$zul.ty),this._drawTextureM(C$zut,C$zue,C$zui,C$zun,C$zur,0,0,C$zus,C$zuh),this._x=C$zuu,this._y=C$zuc):this._drawTextureM(C$zut,C$zue,C$zui,C$zun,C$zur,C$zua,C$zuo,null,C$zuh)},C$zut.fillQuadrangle=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=this._curSubmit,C$zua=this._vb,C$zuo=this._shader2D,C$zuh=C$zus.shaderValue;var C$zul;this._renderKey=0,C$zut.bitmap?(C$zul=C$zut.bitmap,C$zuo.glTexture==C$zul&&C$zuo.ALPHA===C$zuh.ALPHA||(C$zuo.glTexture=C$zul,(C$zus=this._curSubmit=C$zuot.createSubmit(this,this._ib,C$zua,C$zua._byteLength/32*3,C$zuTt.create(1,0))).shaderValue.glTexture=C$zul,this._submits[this._submits._length++]=C$zus),C$zuvt.fillQuadrangleImgVb(C$zua,C$zue,C$zui,C$zun,C$zut.uv,C$zur||this._curMat,this._x,this._y)):(C$zus.shaderValue.fillStyle&&C$zus.shaderValue.fillStyle.equal(C$zut)&&C$zuo.ALPHA===C$zuh.ALPHA||(C$zuo.glTexture=null,(C$zus=this._curSubmit=C$zuot.createSubmit(this,this._ib,C$zua,C$zua._byteLength/32*3,C$zuTt.create(2,0))).shaderValue.defines.add(2),C$zus.shaderValue.fillStyle=C$zuG.create(C$zut),this._submits[this._submits._length++]=C$zus),C$zuvt.fillQuadrangleImgVb(C$zua,C$zue,C$zui,C$zun,C$zuN.DEF_UV,C$zur||this._curMat,this._x,this._y)),C$zus._numEle+=6},C$zut.drawTexture2=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){var C$zuh;0!=C$zus&&(C$zuh=this._curMat,this._x=C$zut*C$zuh.a+C$zue*C$zuh.c,this._y=C$zue*C$zuh.d+C$zut*C$zuh.b,C$zur=C$zur&&(C$zuh.bTransform||C$zur.bTransform?(C$zub.mul(C$zur,C$zuh,$X._tmpMatrix),$X._tmpMatrix):(this._x+=C$zur.tx+C$zuh.tx,this._y+=C$zur.ty+C$zuh.ty,C$zub.EMPTY)),1!==C$zus||C$zua?(C$zue=this._shader2D.ALPHA,C$zut=this._nBlendType,this._shader2D.ALPHA=C$zus,C$zua&&(this._nBlendType=C$zuz.TOINT(C$zua)),this._drawTextureM(C$zuo[0],C$zuo[1]-C$zui,C$zuo[2]-C$zun,C$zuo[3],C$zuo[4],0,0,C$zur,1),this._shader2D.ALPHA=C$zue,this._nBlendType=C$zut):this._drawTextureM(C$zuo[0],C$zuo[1]-C$zui,C$zuo[2]-C$zun,C$zuo[3],C$zuo[4],0,0,C$zur,1),this._x=this._y=0)},C$zut.drawCanvas=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=C$zut.context;var C$zua,C$zuo;this._renderKey=0,C$zus._targets?(this._submits[this._submits._length++]=C$zuAt.create(C$zus,0,null),this._curSubmit=C$zuot.RENDERBASE,C$zus._targets.drawTo(this,C$zue,C$zui,C$zun,C$zur)):(C$zua=this._submits[this._submits._length++]=C$zuAt.create(C$zus,this._shader2D.ALPHA,this._shader2D.filters),C$zuo=C$zun/C$zut.width,C$zut=C$zur/C$zut.height,C$zua=C$zua._matrix,this._curMat.copyTo(C$zua),1!=C$zuo&&1!=C$zut&&C$zua.scale(C$zuo,C$zut),C$zuo=C$zua.tx,C$zut=C$zua.ty,C$zua.tx=C$zua.ty=0,C$zua.transformPoint(C$zuT.TEMP.setTo(C$zue,C$zui)),C$zua.translate(C$zuT.TEMP.x+C$zuo,C$zuT.TEMP.y+C$zut),this._curSubmit=C$zuot.RENDERBASE),C$zum.showCanvasMark&&(this.save(),this.lineWidth=4,this.strokeStyle=C$zus._targets?"yellow":"green",this.strokeRect(C$zue-1,C$zui-1,C$zun+2,C$zur+2,1),this.strokeRect(C$zue,C$zui,C$zun,C$zur,1),this.restore())},C$zut.drawTarget=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuu,C$zuh){void 0===C$zuh&&(C$zuh=-1);var C$zul=this._vb;C$zuvt.fillRectImgVb(C$zul,this._clipRect,C$zue,C$zui,C$zun,C$zur,C$zuu||C$zuN.DEF_UV,C$zus||this._curMat,this._x,this._y,0,0)&&(this._renderKey=0,this._shader2D.glTexture=null,this._curSubmit.shaderValue,(C$zue=this._curSubmit=C$zudt.create(this,this._ib,C$zul,(C$zul._byteLength-64)/32*3,C$zuo,C$zua)).blendType=-1==C$zuh?this._nBlendType:C$zuh,C$zue.scope=C$zut,this._submits[this._submits._length++]=C$zue,this._curSubmit._numEle+=6)},C$zut.mixRGBandAlpha=function(C$zut){return this._mixRGBandAlpha(C$zut,this._shader2D.ALPHA)},C$zut._mixRGBandAlpha=function(C$zut,C$zue){var C$zui=(4278190080&C$zut)>>>24;return 0!=C$zui?C$zui*=C$zue:C$zui=255*C$zue,16777215&C$zut|C$zui<<24},C$zut.drawTriangles=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuu,C$zuc){if(!C$zut.loaded||!C$zut.source)return this.sprite&&C$zug.timer.callLater(this,this._repaintSprite),!1;this._drawCount++,C$zut.bitmap;var C$zuo=this._mixRGBandAlpha(4294967295,C$zuo),C$zuh=(C$zun.length,C$zus.length);this._renderKey=-1;var C$zul=this._curSubmit=C$zuIt.create(this,this._triangleMesh.getIBR(),this._triangleMesh.getVBR(),this._triangleMesh.indexNum,C$zuTt.create(1,0));return C$zul.shaderValue.textureHost=C$zut,C$zul._renderType=10016,this._submits[this._submits._length++]=C$zul,C$zua?($X._tmpMatrix.a=C$zua.a,$X._tmpMatrix.b=C$zua.b,$X._tmpMatrix.c=C$zua.c,$X._tmpMatrix.d=C$zua.d,$X._tmpMatrix.tx=C$zua.tx+C$zue,$X._tmpMatrix.ty=C$zua.ty+C$zui,C$zub.mul($X._tmpMatrix,this._curMat,$X._tmpMatrix)):($X._tmpMatrix.a=this._curMat.a,$X._tmpMatrix.b=this._curMat.b,$X._tmpMatrix.c=this._curMat.c,$X._tmpMatrix.d=this._curMat.d,$X._tmpMatrix.tx=this._curMat.tx+C$zue,$X._tmpMatrix.ty=this._curMat.ty+C$zui),this._triangleMesh.addData(C$zun,C$zur,C$zus,$X._tmpMatrix,C$zuo,this),this._curSubmit._numEle+=C$zuh,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle),!0},C$zut.transform=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){C$zuZ.save(this),C$zub.mul(C$zub.TEMP.setTo(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus),this._curMat,this._curMat),this._curMat._checkTransform()},C$zut.setTransformByMatrix=function(C$zut){C$zut.copyTo(this._curMat)},C$zut.transformByMatrix=function(C$zut){C$zuZ.save(this),C$zub.mul(C$zut,this._curMat,this._curMat),this._curMat._checkTransform()},C$zut.rotate=function(C$zut){C$zuZ.save(this),this._curMat.rotateEx(C$zut)},C$zut.scale=function(C$zut,C$zue){C$zuZ.save(this),this._curMat.scaleEx(C$zut,C$zue)},C$zut.clipRect=function(C$zut,C$zue,C$zui,C$zun){var C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul;0!=this._curMat.b||0!=this._curMat.c?(this._renderKey=0,C$zuh=C$zu_t.create(4),this.addRenderObject(C$zuh),C$zur=(C$zuh=this._vb)._byteLength>>2,C$zuvt.fillRectImgVb(C$zuh,null,C$zut,C$zue,C$zui,C$zun,C$zuN.DEF_UV,this._curMat,this._x,this._y,0,0)?(this._shader2D.glTexture=null,(C$zus=this._curSubmit=C$zuot.createSubmit(this,this._ib,C$zuh,(C$zuh._byteLength-64)/32*3,C$zuTt.create(2,0))).shaderValue.ALPHA=1,this._submits[this._submits._length++]=C$zus,this._curSubmit._numEle+=6):alert("clipRect calc stencil rect error"),C$zus=C$zu_t.create(5),this.addRenderObject(C$zus),C$zuh=C$zuh.getFloat32Array(),C$zuo=Math.min(Math.min(Math.min(C$zuh[C$zur],C$zuh[4+C$zur]),C$zuh[8+C$zur]),C$zuh[12+C$zur]),C$zua=Math.max(Math.max(Math.max(C$zuh[C$zur],C$zuh[4+C$zur]),C$zuh[8+C$zur]),C$zuh[12+C$zur]),C$zul=Math.min(Math.min(Math.min(C$zuh[1+C$zur],C$zuh[5+C$zur]),C$zuh[9+C$zur]),C$zuh[13+C$zur]),C$zuh=Math.max(Math.max(Math.max(C$zuh[1+C$zur],C$zuh[5+C$zur]),C$zuh[9+C$zur]),C$zuh[13+C$zur]),C$zuq.save(this,C$zus,C$zut,C$zue,C$zui,C$zun,C$zuo,C$zul,C$zua-C$zuo,C$zuh-C$zul)):(C$zui*=this._curMat.a,C$zun*=this._curMat.d,C$zur=C$zuT.TEMP,this._curMat.transformPoint(C$zur.setTo(C$zut,C$zue)),C$zui<0&&(C$zur.x=C$zur.x+C$zui,C$zui=-C$zui),C$zun<0&&(C$zur.y=C$zur.y+C$zun,C$zun=-C$zun),this._renderKey=0,C$zus=this._curSubmit=C$zuct.create(this),(this._submits[this._submits._length++]=C$zus).submitIndex=this._submits._length,C$zus.submitLength=9999999,C$zuK.save(this,C$zus),C$zuo=(C$zua=this._clipRect).x,C$zuh=C$zua.y,C$zul=C$zur.x+C$zui,C$zut=C$zur.y+C$zun,C$zuo<C$zur.x&&(C$zua.x=C$zur.x),C$zuh<C$zur.y&&(C$zua.y=C$zur.y),C$zua.width=Math.min(C$zul,C$zuo+C$zua.width)-C$zua.x,C$zua.height=Math.min(C$zut,C$zuh+C$zua.height)-C$zua.y,this._shader2D.glTexture=null,C$zus.clipRect.copyFrom(C$zua)),this._curSubmit=C$zuot.RENDERBASE},C$zut.setIBVB=function(C$zut,C$zue,C$zui,C$zun,C$zuu,C$zur,C$zus,C$zuc,C$zua,C$zuo,C$zuh){if(void 0===C$zua&&(C$zua=0),void 0===C$zuo&&(C$zuo=0),void 0===C$zuh&&(C$zuh=0),null===C$zui&&(C$zui=C$zuM.isFlash?((C$zul=C$zun)._selfIB||(C$zul._selfIB=C$zuZt.create(35044)),C$zul._selfIB.clear(),C$zul._selfIB):this._ib,C$zuvt.expandIBQuadrangle(C$zui,C$zun._byteLength/(4*C$zun.vertexStride*4))),!C$zuc||!C$zus)throw Error("setIBVB must input:shader shaderValues");var C$zul=C$zuut.create(this,C$zun,C$zui,C$zuu,C$zus,C$zuc,C$zua,C$zuo,C$zuh);(C$zur=C$zur||C$zub.EMPTY).translate(C$zut,C$zue),C$zub.mul(C$zur,this._curMat,C$zul._mat),C$zur.translate(-C$zut,-C$zue),this._submits[this._submits._length++]=C$zul,this._curSubmit=C$zuot.RENDERBASE,this._renderKey=0},C$zut.addRenderObject=function(C$zut){this._submits[this._submits._length++]=C$zut},C$zut.fillTrangles=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=this._curSubmit,C$zua=this._vb,C$zuo=this._shader2D,C$zuh=C$zus.shaderValue,C$zul=C$zun.length>>4,C$zuu=C$zut.bitmap;this._renderKey=0,C$zuo.glTexture==C$zuu&&C$zuo.ALPHA===C$zuh.ALPHA||((C$zus=this._curSubmit=C$zuot.createSubmit(this,this._ib,C$zua,C$zua._byteLength/32*3,C$zuTt.create(1,0))).shaderValue.textureHost=C$zut,this._submits[this._submits._length++]=C$zus),C$zuvt.fillTranglesVB(C$zua,C$zue,C$zui,C$zun,C$zur||this._curMat,this._x,this._y),C$zus._numEle+=6*C$zul},C$zut.submitElement=function(C$zut,C$zue){var C$zui=this._submits;for(C$zue<0&&(C$zue=C$zui._length);C$zut<C$zue;)C$zut+=C$zui[C$zut].renderSubmit()},C$zut.finish=function(){C$zuu.mainContext.finish()},C$zut.flush=function(){var C$zut=Math.max(this._vb._byteLength/64,this._maxNumEle/6)+8;if(C$zut>this._ib.bufferLength/12&&C$zuvt.expandIBQuadrangle(this._ib,C$zut),!this._isMain&&C$zuH.enabled&&C$zuH._atlasRestore>this._atlasResourceChange){this._atlasResourceChange=C$zuH._atlasRestore;for(var C$zue=this._submits,C$zui=0,C$zun=C$zue._length;C$zui<C$zun;C$zui++){var C$zur=C$zue[C$zui];10016===C$zur.getRenderType()&&C$zur.checkTexture()}}var C$zus;for(this.submitElement(0,this._submits._length),this._path&&this._path.reset(),C$zunt.instance&&C$zunt.getInstance().reset(),C$zui=0,C$zus=this.meshlist.length;C$zui<C$zus;C$zui++){var C$zua=this.meshlist[C$zui];C$zua.canReuse?C$zua.releaseMesh():C$zua.destroy()}return this.meshlist.length=0,this._curSubmit=C$zuot.RENDERBASE,this._renderKey=0,this._triangleMesh=C$zuRt.getAMesh(),this.meshlist.push(this._triangleMesh),this._submits._length},C$zut.setPathId=function(C$zut){this.mId=C$zut,-1!=this.mId&&(this.mHaveKey=!1,(C$zut=C$zuO.getInstance()).shapeDic[this.mId]&&(this.mHaveKey=!0),this.mHaveLineKey=!1,C$zut.shapeLineDic[this.mId]&&(this.mHaveLineKey=!0))},C$zut.movePath=function(C$zut,C$zue){var C$zui=C$zut,C$zun=C$zue;C$zut=this._curMat.a*C$zui+this._curMat.c*C$zun+this._curMat.tx,C$zue=this._curMat.b*C$zui+this._curMat.d*C$zun+this._curMat.ty,this.mX+=C$zut,this.mY+=C$zue},C$zut.beginPath=function(){var C$zut=this._getPath();C$zut.tempArray.length=0,C$zut.closePath=!1,this.mX=0,this.mY=0},C$zut.closePath=function(){this._path.closePath=!0},C$zut.fill=function(C$zut){void 0===C$zut&&(C$zut=!1);var C$zue=this._getPath();this.drawPoly(0,0,C$zue.tempArray,this.fillStyle._color.numColor,0,0,C$zut)},C$zut.stroke=function(){var C$zut=this._getPath();var C$zue;0<this.lineWidth&&(-1==this.mId?C$zut.drawLine(0,0,C$zut.tempArray,this.lineWidth,this.strokeStyle._color.numColor):this.mHaveLineKey?((C$zue=C$zuO.getInstance().shapeLineDic[this.mId]).rebuild(C$zut.tempArray),C$zut.setGeomtry(C$zue)):C$zuO.getInstance().addLine(this.mId,C$zut.drawLine(0,0,C$zut.tempArray,this.lineWidth,this.strokeStyle._color.numColor)),C$zut.update(),C$zue=[this.mX,this.mY],(C$zut=C$zuot.createShape(this,C$zut.ib,C$zut.vb,C$zut.count,C$zut.offset,C$zuTt.create(4,0))).shaderValue.ALPHA=this._shader2D.ALPHA,C$zut.shaderValue.u_pos=C$zue,C$zut.shaderValue.u_mmat2=C$zul.TEMPMAT4_ARRAY,this._submits[this._submits._length++]=C$zut,this._renderKey=-1)},C$zut.line=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){var C$zua=this._curSubmit,C$zuo=this._vb;C$zuvt.fillLineVb(C$zuo,this._clipRect,C$zut,C$zue,C$zui,C$zun,C$zur,C$zus)&&(this._renderKey=0,C$zut=this._shader2D,C$zue=C$zua.shaderValue,C$zut.strokeStyle===C$zue.strokeStyle&&C$zut.ALPHA===C$zue.ALPHA||(C$zut.glTexture=null,(C$zua=this._curSubmit=C$zuot.createSubmit(this,this._ib,C$zuo,(C$zuo._byteLength-64)/32*3,C$zuTt.create(2,0))).shaderValue.strokeStyle=C$zut.strokeStyle,C$zua.shaderValue.mainID=2,C$zua.shaderValue.ALPHA=C$zut.ALPHA,this._submits[this._submits._length++]=C$zua),C$zua._numEle+=6)},C$zut.moveTo=function(C$zut,C$zue,C$zui){void 0===C$zui&&(C$zui=!0);var C$zun=this._getPath();var C$zur;C$zui&&(C$zui=C$zut,C$zur=C$zue,C$zut=this._curMat.a*C$zui+this._curMat.c*C$zur,C$zue=this._curMat.b*C$zui+this._curMat.d*C$zur),C$zun.addPoint(C$zut,C$zue)},C$zut.lineTo=function(C$zut,C$zue,C$zui){void 0===C$zui&&(C$zui=!0);var C$zun=this._getPath();var C$zur;C$zui&&(C$zui=C$zut,C$zur=C$zue,C$zut=this._curMat.a*C$zui+this._curMat.c*C$zur,C$zue=this._curMat.b*C$zui+this._curMat.d*C$zur),C$zun.addPoint(C$zut,C$zue)},C$zut.drawCurves=function(C$zut,C$zue,C$zui){this.setPathId(-1),this.beginPath(),this.strokeStyle=C$zui[3],this.lineWidth=C$zui[4];var C$zun=C$zui[2];C$zut+=C$zui[0],C$zue+=C$zui[1],this.movePath(C$zut,C$zue),this.moveTo(C$zun[0],C$zun[1]);for(var C$zur=2,C$zus=C$zun.length;C$zur<C$zus;)this.quadraticCurveTo(C$zun[C$zur++],C$zun[C$zur++],C$zun[C$zur++],C$zun[C$zur++]);this.stroke()},C$zut.arcTo=function(C$zut,C$zuu,C$zue,C$zui,C$zuc){if(-1==this.mId||!this.mHaveKey){var C$zu_=0,C$zun=0,C$zur=0,C$zud=this._getPath();this._curMat.copyTo($X._tmpMatrix),$X._tmpMatrix.tx=$X._tmpMatrix.ty=0,$X._tempPoint.setTo(C$zud.getEndPointX(),C$zud.getEndPointY()),$X._tmpMatrix.invertTransformPoint($X._tempPoint);var C$zus=$X._tempPoint.x-C$zut,C$zua=$X._tempPoint.y-C$zuu,C$zuo=Math.sqrt(C$zus*C$zus+C$zua*C$zua);if(!(C$zuo<=1e-6)){var C$zus=C$zus/C$zuo,C$zua=C$zua/C$zuo,C$zue=C$zue-C$zut,C$zui=C$zui-C$zuu,C$zuh=Math.sqrt(C$zue*C$zue+C$zui*C$zui);if(!(C$zuh<=1e-6)){var C$zue=C$zue/C$zuh,C$zui=C$zui/C$zuh,C$zuh=C$zus+C$zue,C$zuf=C$zua+C$zui,C$zul=Math.sqrt(C$zuh*C$zuh+C$zuf*C$zuf);if(!(C$zul<=1e-6)){var C$zuh=C$zuh/C$zul,C$zuf=C$zuf/C$zul,C$zul=Math.acos(C$zuh*C$zus+C$zuf*C$zua),C$zul=Math.PI/2-C$zul,C$zup=(C$zuo=C$zuc/Math.tan(C$zul))*C$zus+C$zut,C$zum=C$zuo*C$zua+C$zuu,C$zuo=Math.sqrt(C$zuo*C$zuo+C$zuc*C$zuc),C$zug=C$zut+C$zuh*C$zuo,C$zuv=C$zuu+C$zuf*C$zuo,C$zu$=0,C$zux=0;C$zux=(C$zu$=(C$zuc=0<=C$zus*C$zui-C$zua*C$zue?2*C$zul/$X.SEGNUM:2*-C$zul/$X.SEGNUM,Math.sin(C$zuc)),Math.cos(C$zuc)),C$zun=this._curMat.a*C$zup+this._curMat.c*C$zum,C$zur=this._curMat.b*C$zup+this._curMat.d*C$zum,C$zun==this._path.getEndPointX()&&C$zur==this._path.getEndPointY()||C$zud.addPoint(C$zun,C$zur);var C$zuy=C$zup-C$zug,C$zub=C$zum-C$zuv;for(C$zu_=0;C$zu_<$X.SEGNUM;C$zu_++){var C$zuT=C$zuy*C$zux+C$zub*C$zu$,C$zuw=-C$zuy*C$zu$+C$zub*C$zux;C$zut=this._curMat.a*(C$zun=C$zuT+C$zug)+this._curMat.c*(C$zur=C$zuw+C$zuv),C$zur=C$zuu=this._curMat.b*C$zun+this._curMat.d*C$zur,(C$zun=C$zut)==this._path.getEndPointX()&&C$zur==this._path.getEndPointY()||C$zud.addPoint(C$zun,C$zur),C$zuy=C$zuT,C$zub=C$zuw}}}}}},C$zut.arc=function(C$zut,C$zuu,C$zue,C$zuc,C$zu_,C$zud,C$zui){if(void 0===C$zud&&(C$zud=!1),void 0===C$zui&&(C$zui=!0),-1!=this.mId){var C$zun=C$zuO.getInstance().shapeDic[this.mId];if(C$zun&&this.mHaveKey&&!C$zun.needUpdate(this._curMat))return;C$zuu=C$zut=0}var C$zuf,C$zup,C$zur=0,C$zus=0,C$zua=0,C$zuo=0;if(C$zur=C$zu_-C$zuc,C$zud)if(Math.abs(C$zur)>=2*Math.PI)C$zur=2*-Math.PI;else for(;0<C$zur;)C$zur-=2*Math.PI;else if(Math.abs(C$zur)>=2*Math.PI)C$zur=2*Math.PI;else for(;C$zur<0;)C$zur+=2*Math.PI;C$zun=C$zur/(C$zup=C$zue<101?Math.max(10,C$zur*C$zue/5):C$zue<201?Math.max(10,C$zur*C$zue/20):Math.max(10,C$zur*C$zue/40))/2,Math.abs(4/3*(1-Math.cos(C$zun))/Math.sin(C$zun));var C$zum=this._getPath(),C$zuh=NaN,C$zul=NaN;for(C$zuo=0;C$zuo<=C$zup;C$zuo++)C$zuf=C$zuc+C$zur*(C$zuo/C$zup),C$zus=C$zut+Math.cos(C$zuf)*C$zue,C$zua=C$zuu+Math.sin(C$zuf)*C$zue,C$zui&&(C$zuh=C$zus,C$zul=C$zua,C$zus=this._curMat.a*C$zuh+this._curMat.c*C$zul,C$zua=this._curMat.b*C$zuh+this._curMat.d*C$zul),C$zus==this._path.getEndPointX()&&C$zua==this._path.getEndPointY()||C$zum.addPoint(C$zus,C$zua);C$zus=C$zut+Math.cos(C$zu_)*C$zue,C$zua=C$zuu+Math.sin(C$zu_)*C$zue,C$zui&&(C$zuh=C$zus,C$zul=C$zua,C$zus=this._curMat.a*C$zuh+this._curMat.c*C$zul,C$zua=this._curMat.b*C$zuh+this._curMat.d*C$zul),C$zus==this._path.getEndPointX()&&C$zua==this._path.getEndPointY()||C$zum.addPoint(C$zus,C$zua)},C$zut.quadraticCurveTo=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zu_.I,C$zus=C$zui,C$zua=C$zun;C$zui=this._curMat.a*C$zus+this._curMat.c*C$zua,C$zun=this._curMat.b*C$zus+this._curMat.d*C$zua,C$zus=C$zut,C$zua=C$zue,C$zut=this._curMat.a*C$zus+this._curMat.c*C$zua,C$zue=this._curMat.b*C$zus+this._curMat.d*C$zua;for(var C$zuo=C$zur.getBezierPoints([this._path.getEndPointX(),this._path.getEndPointY(),C$zut,C$zue,C$zui,C$zun],30,2),C$zuh=0,C$zul=C$zuo.length/2;C$zuh<C$zul;C$zuh++)this.lineTo(C$zuo[2*C$zuh],C$zuo[2*C$zuh+1],!1);this.lineTo(C$zui,C$zun,!1)},C$zut.rect=function(C$zut,C$zue,C$zui,C$zun){this._other=this._other.make(),this._other.path||(this._other.path=new C$zuY),this._other.path.rect(C$zut,C$zue,C$zui,C$zun)},C$zut.strokeRect=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=.5*C$zur;this.line(C$zut-C$zus,C$zue,C$zut+C$zui+C$zus,C$zue,C$zur,this._curMat),this.line(C$zut+C$zui,C$zue,C$zut+C$zui,C$zue+C$zun,C$zur,this._curMat),this.line(C$zut,C$zue,C$zut,C$zue+C$zun,C$zur,this._curMat),this.line(C$zut-C$zus,C$zue+C$zun,C$zut+C$zui+C$zus,C$zue+C$zun,C$zur,this._curMat)},C$zut.clip=function(){},C$zut.drawPoly=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){void 0===C$zua&&(C$zua=!1),this._renderKey=0,this._shader2D.glTexture=null;C$zua=this._getPath();-1==this.mId?C$zua.polygon(C$zut,C$zue,C$zui,C$zun,C$zur||1,C$zus):this.mHaveKey?((C$zuo=C$zuO.getInstance().shapeDic[this.mId]).setMatrix(this._curMat),C$zuo.rebuild(C$zua.tempArray),C$zua.setGeomtry(C$zuo)):(C$zuo=C$zua.polygon(C$zut,C$zue,C$zui,C$zun,C$zur||1,C$zus),C$zuO.getInstance().addShape(this.mId,C$zuo),C$zuo.setMatrix(this._curMat)),C$zua.update();var C$zuo,C$zun=[this.mX,this.mY];(C$zuo=C$zuot.createShape(this,C$zua.ib,C$zua.vb,C$zua.count,C$zua.offset,C$zuTt.create(4,0))).shaderValue.ALPHA=this._shader2D.ALPHA,C$zuo.shaderValue.u_pos=C$zun,C$zuo.shaderValue.u_mmat2=C$zul.EMPTYMAT4_ARRAY,this._submits[this._submits._length++]=C$zuo,0<C$zur&&(this.mHaveLineKey?((C$zun=C$zuO.getInstance().shapeLineDic[this.mId]).rebuild(C$zua.tempArray),C$zua.setGeomtry(C$zun)):C$zuO.getInstance().addShape(this.mId,C$zua.drawLine(C$zut,C$zue,C$zui,C$zur,C$zus)),C$zua.update(),(C$zuo=C$zuot.createShape(this,C$zua.ib,C$zua.vb,C$zua.count,C$zua.offset,C$zuTt.create(4,0))).shaderValue.ALPHA=this._shader2D.ALPHA,C$zuo.shaderValue.u_mmat2=C$zul.EMPTYMAT4_ARRAY,this._submits[this._submits._length++]=C$zuo)},C$zut.drawParticle=function(C$zut,C$zue,C$zui){C$zui.x=C$zut,C$zui.y=C$zue,this._submits[this._submits._length++]=C$zui},C$zut._getPath=function(){return this._path||(this._path=new C$zuY)},C$zun(0,C$zut,"globalCompositeOperation",function(){return C$zuz.NAMES[this._nBlendType]},function(C$zut){C$zut=C$zuz.TOINT[C$zut];null==C$zut||this._nBlendType===C$zut||(C$zuX.save(this,65536,this,!0),this._curSubmit=C$zuot.RENDERBASE,this._renderKey=0,this._nBlendType=C$zut)}),C$zun(0,C$zut,"strokeStyle",function(){return this._shader2D.strokeStyle},function(C$zut){this._shader2D.strokeStyle.equal(C$zut)||(C$zuX.save(this,512,this._shader2D,!1),this._shader2D.strokeStyle=C$zuG.create(C$zut))}),C$zun(0,C$zut,"globalAlpha",function(){return this._shader2D.ALPHA},function(C$zut){(C$zut=Math.floor(1e3*C$zut)/1e3)!=this._shader2D.ALPHA&&(C$zuX.save(this,1,this._shader2D,!0),this._shader2D.ALPHA=C$zut)}),C$zun(0,C$zut,"asBitmap",null,function(C$zut){if(C$zut){if(this._targets||(this._targets=new C$zuJ),this._targets.repaint=!0,!this._width||!this._height)throw Error("asBitmap no size!");this._targets.setSP(this.sprite),this._targets.size(this._width,this._height)}else this._targets=null}),C$zun(0,C$zut,"fillStyle",function(){return this._shader2D.fillStyle},function(C$zut){this._shader2D.fillStyle.equal(C$zut)||(C$zuX.save(this,2,this._shader2D,!1),this._shader2D.fillStyle=C$zuG.create(C$zut))}),C$zun(0,C$zut,"textAlign",function(){return this._other.textAlign},function(C$zut){this._other.textAlign===C$zut||(this._other=this._other.make(),C$zuX.save(this,32768,this._other,!1),this._other.textAlign=C$zut)}),C$zun(0,C$zut,"lineWidth",function(){return this._other.lineWidth},function(C$zut){this._other.lineWidth===C$zut||(this._other=this._other.make(),C$zuX.save(this,256,this._other,!1),this._other.lineWidth=C$zut)}),C$zun(0,C$zut,"textBaseline",function(){return this._other.textBaseline},function(C$zut){this._other.textBaseline===C$zut||(this._other=this._other.make(),C$zuX.save(this,16384,this._other,!1),this._other.textBaseline=C$zut)}),C$zun(0,C$zut,"font",null,function(C$zut){C$zut!=this._other.font.toString()&&(this._other=this._other.make(),C$zuX.save(this,8,this._other,!1),this._other.font===C$zumt.EMPTY?this._other.font=new C$zumt(C$zut):this._other.font.setFont(C$zut))}),$X.__init__=function(){C$zuee.DEFAULT=new C$zuee},$X._tempPoint=new C$zuT,$X._SUBMITVBSIZE=32e3,$X._MAXSIZE=99999999,$X._RECTVBSIZE=16,$X.MAXCLIPRECT=new C$zuw(0,0,99999999,99999999),$X._COUNT=0,$X._tmpMatrix=new C$zub,$X.SEGNUM=32,$X._contextcount=0,C$zue($X,["_fontTemp",function(){return this._fontTemp=new C$zumt},"_drawStyleTemp",function(){return this._drawStyleTemp=new C$zuG(null)}]),$X.__init$=function(){function $m(){this.lineWidth=1,this.path=null,this.textAlign=null,this.textBaseline=null,this.font=C$zumt.EMPTY}var C$zut;C$zui($m,""),(C$zut=$m.prototype).clear=function(){this.lineWidth=1,this.path&&this.path.clear(),this.textAlign=this.textBaseline=null,this.font=C$zumt.EMPTY},C$zut.make=function(){return this===$m.DEFAULT?new $m:this},$m.DEFAULT=null,C$zuee=$m},$X),C$zuTt=function(){function $P(C$zut,C$zue){this.size=[0,0],this.alpha=1,this.ALPHA=1,this.subID=0,this._cacheID=0,$P.__super.call(this),this.defines=new C$zuCt,this.position=$P._POSITION,this.mainID=C$zut,this.subID=C$zue,this.textureHost=null,this.texture=null,this.texture1=null,this.fillStyle=null,this.color=null,this.strokeStyle=null,this.colorAdd=null,this.glTexture=null,this.u_mmat2=null,this._cacheID=C$zut|C$zue,this._inClassCache=$P._cache[this._cacheID],0<C$zut&&!this._inClassCache&&(this._inClassCache=$P._cache[this._cacheID]=[],this._inClassCache._length=0),this.clear()}C$zui($P,"laya.webgl.shader.d2.value.Value2D",C$zuk);var C$zut=$P.prototype;return C$zut.setValue=function(C$zut){},C$zut.refresh=function(){var C$zut=this.size;return C$zut[0]=C$zul.width,C$zut[1]=C$zul.height,this.alpha=this.ALPHA*C$zul.worldAlpha,this.mmat=C$zul.worldMatrix4,this},C$zut._ShaderWithCompile=function(){return C$zuXt.withCompile2D(0,this.mainID,this.defines.toNameDic(),this.mainID|this.defines._value,C$zujt.create)},C$zut._withWorldShaderDefines=function(){var C$zut=C$zul.worldShaderDefines,C$zue=C$zuXt.sharders[this.mainID|this.defines._value|C$zut.getValue()];if(!C$zue){var C$zui,C$zun={};for(C$zui in this.defines.toNameDic())C$zun[C$zui]="";for(C$zui in C$zut.toNameDic())C$zun[C$zui]="";C$zue=C$zuXt.withCompile2D(0,this.mainID,C$zun,this.mainID|this.defines._value|C$zut.getValue(),C$zujt.create)}var C$zur=C$zul.worldFilters;if(!C$zur)return C$zue;for(var C$zus,C$zua=C$zur.length,C$zuo=0;C$zuo<C$zua;C$zuo++)(C$zus=C$zur[C$zuo])&&C$zus.action.setValue(this);return C$zue},C$zut.upload=function(){var C$zut=C$zul;this.alpha=this.ALPHA*C$zut.worldAlpha,C$zul.worldMatrix4!==C$zul.TEMPMAT4_ARRAY&&this.defines.add(128),this.textureHost&&this.textureHost.alphaTexture?this.defines.add(2048):this.defines.remove(2048),this.textureHost&&this.textureHost.bitmap&&(37815==this.textureHost.bitmap.format||37812==this.textureHost.bitmap.format||37821==this.textureHost.bitmap.format)?this.defines.add(4096):this.defines.remove(4096),C$zuu.shaderHighPrecision&&this.defines.add(1024);var C$zue,C$zui=C$zut.worldShaderDefines?this._withWorldShaderDefines():C$zuXt.sharders[this.mainID|this.defines._value]||this._ShaderWithCompile();this.size[0]=C$zut.width,this.size[1]=C$zut.height,this.mmat=C$zut.worldMatrix4,C$zuLt.activeShader!==C$zui?C$zui._shaderValueWidth!==C$zut.width||C$zui._shaderValueHeight!==C$zut.height?(C$zui._shaderValueWidth=C$zut.width,C$zui._shaderValueHeight=C$zut.height):C$zue=C$zui._params2dQuick2||C$zui._make2dQuick2():C$zui._shaderValueWidth!==C$zut.width||C$zui._shaderValueHeight!==C$zut.height?(C$zui._shaderValueWidth=C$zut.width,C$zui._shaderValueHeight=C$zut.height):C$zue=C$zui._params2dQuick1||C$zui._make2dQuick1(),C$zui.upload(this,C$zue)},C$zut.setFilters=function(C$zut){if(this.filters=C$zut)for(var C$zue,C$zui=C$zut.length,C$zun=0;C$zun<C$zui;C$zun++)(C$zue=C$zut[C$zun])&&(this.defines.add(C$zue.type),C$zue.action.setValue(this))},C$zut.clear=function(){this.defines.setValue(this.subID)},C$zut.release=function(){(this._inClassCache[this._inClassCache._length++]=this).fillStyle=null,this.strokeStyle=null,this.textureHost=null,this.mmat=null,this.clear()},$P._initone=function(C$zut,C$zue){$P._typeClass[C$zut]=C$zue,$P._cache[C$zut]=[],$P._cache[C$zut]._length=0},$P.__init__=function(){$P._POSITION=[2,5126,!1,4*C$zugt.BYTES_PE,0],$P._TEXCOORD=[2,5126,!1,4*C$zugt.BYTES_PE,2*C$zugt.BYTES_PE],$P._initone(2,C$zuOt),$P._initone(4,C$zuUt),$P._initone(256,C$zuVt),$P._initone(512,C$zuFt),$P._initone(1,C$zukt),$P._initone(65,C$zuqt),$P._initone(9,C$zukt)},$P.create=function(C$zut,C$zue){var C$zui=$P._cache[C$zut|C$zue];return C$zui._length?C$zui[--C$zui._length]:new $P._typeClass[C$zut|C$zue](C$zue)},$P._POSITION=null,$P._TEXCOORD=null,$P._cache=[],$P._typeClass=[],$P.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],$P}(),C$zuwt=(C$zui($n,"laya.webgl.utils.RenderSprite3D",C$zuS),(C$zut=$n.prototype).onCreate=function(C$zut){switch(C$zut){case 8:return void(this._fun=this._blend);case 4:return void(this._fun=this._transform)}},C$zut._mask=function(C$zut,C$zue,C$zui,C$zun){var C$zur,C$zuu=this._next,C$zus=C$zut.mask;var C$zuc,C$zua,C$zuo,C$zuh,C$zu_,C$zul,C$zud,C$zuf;C$zus?(C$zue.ctx.save(),C$zuc=C$zue.ctx.globalCompositeOperation,(C$zua=new C$zuw).copyFrom(C$zus.getBounds()),C$zua.width=Math.round(C$zua.width),C$zua.height=Math.round(C$zua.height),C$zua.x=Math.round(C$zua.x),C$zua.y=Math.round(C$zua.y),0<C$zua.width&&0<C$zua.height&&(C$zuo=C$zut._style._tf,(C$zuh=C$zult.create()).addValue("bounds",C$zua),C$zur=C$zuht.create([C$zuh,C$zue],laya.webgl.utils.RenderSprite3D.tmpTarget),C$zue.addRenderObject(C$zur),C$zus.render(C$zue,-C$zua.x,-C$zua.y),C$zur=C$zuht.create([C$zuh],laya.webgl.utils.RenderSprite3D.endTmpTarget),C$zue.addRenderObject(C$zur),C$zue.ctx.save(),C$zue.clipRect(C$zui-C$zuo.translateX+C$zua.x,C$zun-C$zuo.translateY+C$zua.y,C$zua.width,C$zua.height),C$zuu._fun.call(C$zuu,C$zut,C$zue,C$zui,C$zun),C$zue.ctx.restore(),C$zus=C$zu_t.create(6),C$zuc=C$zue.ctx.globalCompositeOperation,C$zus.blendMode="mask",C$zue.addRenderObject(C$zus),C$zub.TEMP.identity(),C$zu_=C$zuTt.create(1,0),C$zul=C$zuN.INV_UV,C$zud=C$zua.width,C$zuf=C$zua.height,(C$zua.width<32||C$zua.height<32)&&((C$zul=$n.tempUV)[0]=0,C$zul[1]=0,C$zul[2]=32<=C$zua.width?1:C$zua.width/32,C$zul[3]=0,C$zul[4]=32<=C$zua.width?1:C$zua.width/32,C$zul[5]=32<=C$zua.height?1:C$zua.height/32,C$zul[6]=0,C$zul[7]=32<=C$zua.height?1:C$zua.height/32,C$zua.width=32<=C$zua.width?C$zua.width:32,C$zua.height=32<=C$zua.height?C$zua.height:32,C$zul[1]*=-1,C$zul[3]*=-1,C$zul[5]*=-1,C$zul[7]*=-1,C$zul[1]+=1,C$zul[3]+=1,C$zul[5]+=1,C$zul[7]+=1),C$zue.ctx.drawTarget(C$zuh,C$zui+C$zua.x-C$zuo.translateX,C$zun+C$zua.y-C$zuo.translateY,C$zud,C$zuf,C$zub.TEMP,"tmpTarget",C$zu_,C$zul,6),C$zur=C$zuht.create([C$zuh],laya.webgl.utils.RenderSprite3D.recycleTarget),C$zue.addRenderObject(C$zur),(C$zus=C$zu_t.create(6)).blendMode=C$zuc,C$zue.addRenderObject(C$zus)),C$zue.ctx.restore()):C$zuu._fun.call(C$zuu,C$zut,C$zue,C$zui,C$zun)},C$zut._blend=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut._style,C$zus=this._next;C$zur.blendMode?(C$zue.ctx.save(),C$zue.ctx.globalCompositeOperation=C$zur.blendMode,C$zus._fun.call(C$zus,C$zut,C$zue,C$zui,C$zun),C$zue.ctx.restore()):C$zus._fun.call(C$zus,C$zut,C$zue,C$zui,C$zun)},C$zut._transform=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut.transform,C$zus=this._next;var C$zua,C$zuo;C$zur&&C$zus!=C$zuS.NORENDER?(C$zua=C$zue.ctx,C$zut._style,C$zur.tx=C$zui,C$zur.ty=C$zun,C$zuo=(C$zua=C$zua._getTransformMatrix()).clone(),C$zub.mul(C$zur,C$zua,C$zua),C$zua._checkTransform(),C$zur.tx=C$zur.ty=0,C$zus._fun.call(C$zus,C$zut,C$zue,0,0),C$zuo.copyTo(C$zua),C$zuo.destroy()):C$zus._fun.call(C$zus,C$zut,C$zue,C$zui,C$zun)},$n.tmpTarget=function(C$zut,C$zue){var C$zui=C$zut.getValue("bounds"),C$zui=C$zuBt.create(C$zui.width,C$zui.height);C$zui.start(),C$zui.clear(0,0,0,0),C$zut.addValue("tmpTarget",C$zui)},$n.endTmpTarget=function(C$zut){C$zut.getValue("tmpTarget").end()},$n.recycleTarget=function(C$zut){C$zut.getValue("tmpTarget").recycle(),C$zut.recycle()},C$zue($n,["tempUV",function(){return this.tempUV=new Array(8)}]),$n),C$zuMt=function(){function $p(){this.data=null,$p.__super.call(this)}C$zui($p,"laya.filters.webgl.ColorFilterActionGL",C$zuV);var C$zut=$p.prototype;return C$zug.imps(C$zut,{"laya.filters.IFilterActionGL":!0}),C$zut.setValue=function(C$zut){C$zut.colorMat=this.data._mat,C$zut.colorAlpha=this.data._alpha},C$zut.apply3d=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=C$zut.getValue("bounds"),C$zua=C$zuTt.create(1,0);C$zua.setFilters([this.data]);var C$zuo=C$zub.TEMP;C$zuo.identity(),C$zui.ctx.drawTarget(C$zut,0,0,C$zus.width,C$zus.height,C$zuo,"src",C$zua)},$p}(),C$zuSt=function(){function $q(C$zut,C$zue,C$zui,C$zun,C$zur){this._atlasCanvas=null,this._inAtlasTextureKey=null,this._inAtlasTextureBitmapValue=null,this._inAtlasTextureOriUVValue=null,this._InAtlasWebGLImagesKey=null,this._InAtlasWebGLImagesOffsetValue=null,$q.__super.call(this,C$zut,C$zue,C$zur),this._inAtlasTextureKey=[],this._inAtlasTextureBitmapValue=[],this._inAtlasTextureOriUVValue=[],this._InAtlasWebGLImagesKey={},this._InAtlasWebGLImagesOffsetValue=[],this._atlasCanvas=new C$zuHt,this._atlasCanvas.uri="Atlaser.AtlasWebGLCanvas._atlasCanvas",(this._atlasCanvas._atlaser=this)._atlasCanvas.width=C$zui,this._atlasCanvas.height=C$zun,this._atlasCanvas.activeResource(),this._atlasCanvas.lock=!0}C$zui($q,"laya.webgl.atlas.Atlaser",C$zuU);var C$zut=$q.prototype;return C$zut.computeUVinAtlasTexture=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zuH.atlasTextureWidth,C$zus=C$zuH.atlasTextureHeight,C$zua=C$zui/C$zur,C$zuo=C$zun/C$zus,C$zui=(C$zui+C$zut.bitmap.width)/C$zur,C$zun=(C$zun+C$zut.bitmap.height)/C$zus,C$zur=C$zut.bitmap.width/C$zur,C$zus=C$zut.bitmap.height/C$zus;C$zut.uv=[C$zua+C$zue[0]*C$zur,C$zuo+C$zue[1]*C$zus,C$zui-(1-C$zue[2])*C$zur,C$zuo+C$zue[3]*C$zus,C$zui-(1-C$zue[4])*C$zur,C$zun-(1-C$zue[5])*C$zus,C$zua+C$zue[6]*C$zur,C$zun-(1-C$zue[7])*C$zus]},C$zut.findBitmapIsExist=function(C$zut){if(C$zut instanceof laya.webgl.resource.WebGLImage){var C$zue=C$zut.url,C$zue=this._InAtlasWebGLImagesKey[C$zue||C$zut.id];if(C$zue)return C$zue.offsetInfoID}return-1},C$zut.addToAtlasTexture=function(C$zut,C$zue,C$zui){var C$zun;C$zut instanceof laya.webgl.resource.WebGLImage&&(C$zun=C$zut.url,this._InAtlasWebGLImagesKey[C$zun||C$zut.id]={bitmap:C$zut,offsetInfoID:this._InAtlasWebGLImagesOffsetValue.length},this._InAtlasWebGLImagesOffsetValue.push([C$zue,C$zui])),this._atlasCanvas.texSubImage2D(C$zue,C$zui,C$zut.atlasSource),C$zut.clearAtlasSource()},C$zut.addToAtlas=function(C$zut,C$zue,C$zui){C$zut._atlasID=this._inAtlasTextureKey.length;var C$zun=C$zut.uv.slice(),C$zur=C$zut.bitmap;this._inAtlasTextureKey.push(C$zut),this._inAtlasTextureOriUVValue.push(C$zun),this._inAtlasTextureBitmapValue.push(C$zur),this.computeUVinAtlasTexture(C$zut,C$zun,C$zue,C$zui),C$zut.bitmap=this._atlasCanvas},C$zut.clear=function(){for(var C$zut=0,C$zue=this._inAtlasTextureKey.length;C$zut<C$zue;C$zut++)this._inAtlasTextureKey[C$zut].bitmap=this._inAtlasTextureBitmapValue[C$zut],this._inAtlasTextureKey[C$zut].uv=this._inAtlasTextureOriUVValue[C$zut],this._inAtlasTextureKey[C$zut]._atlasID=-1,this._inAtlasTextureKey[C$zut].bitmap.lock=!1,this._inAtlasTextureKey[C$zut].bitmap.releaseResource();this._inAtlasTextureKey.length=0,this._inAtlasTextureBitmapValue.length=0,this._inAtlasTextureOriUVValue.length=0,this._InAtlasWebGLImagesKey=null,this._InAtlasWebGLImagesOffsetValue.length=0},C$zut.dispose=function(){this.clear(),this._atlasCanvas.destroy()},C$zun(0,C$zut,"InAtlasWebGLImagesOffsetValue",function(){return this._InAtlasWebGLImagesOffsetValue}),C$zun(0,C$zut,"texture",function(){return this._atlasCanvas}),C$zun(0,C$zut,"inAtlasWebGLImagesKey",function(){return this._InAtlasWebGLImagesKey}),$q}(),C$zuCt=function(){function $h(){$h.__super.call(this,$h.__name2int,$h.__int2name,$h.__int2nameMap)}return C$zui($h,"laya.webgl.shader.d2.ShaderDefines2D",C$zuet),$h.__init__=function(){$h.reg("TEXTURE2D",1),$h.reg("COLOR2D",2),$h.reg("PRIMITIVE",4),$h.reg("GLOW_FILTER",8),$h.reg("BLUR_FILTER",16),$h.reg("COLOR_FILTER",32),$h.reg("COLOR_ADD",64),$h.reg("WORLDMAT",128),$h.reg("FILLTEXTURE",256),$h.reg("FSHIGHPRECISION",1024),$h.reg("TXTALPHA",2048),$h.reg("TXTCOMPRESS",4096)},$h.reg=function(C$zut,C$zue){C$zuet._reg(C$zut,C$zue,$h.__name2int,$h.__int2name)},$h.toText=function(C$zut,C$zue,C$zui){return C$zuet._toText(C$zut,C$zue,C$zui)},$h.toInt=function(C$zut){return C$zuet._toInt(C$zut,$h.__name2int)},$h.TEXTURE2D=1,$h.COLOR2D=2,$h.PRIMITIVE=4,$h.FILTERGLOW=8,$h.FILTERBLUR=16,$h.FILTERCOLOR=32,$h.COLORADD=64,$h.WORLDMAT=128,$h.FILLTEXTURE=256,$h.SKINMESH=512,$h.SHADERDEFINE_FSHIGHPRECISION=1024,$h.TXTALPHA=2048,$h.TXTCOMPRESS=4096,$h.__name2int={},$h.__int2name=[],$h.__int2nameMap=[],$h}(),C$zuDt=(function(){function $Y(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){$Y.__super.call(this,C$zut,C$zue,C$zui,C$zun,40,C$zur,C$zus,C$zua)}C$zui($Y,"laya.webgl.shapes.Ellipse",C$zurt)}(),function(){function $q(C$zut,C$zue,C$zui,C$zun,C$zur){this._points=[],this.rebuild(C$zui),$q.__super.call(this,C$zut,C$zue,0,0,0,C$zur,C$zun,C$zur,0)}C$zui($q,"laya.webgl.shapes.Line",C$zurt);var C$zut=$q.prototype;return C$zut.rebuild=function(C$zut){var C$zue=C$zut.length;C$zue!=this._points.length&&(this.mUint16Array=new Uint16Array(6*(C$zue/2-1)),this.mFloat32Array=new Float32Array(5*C$zue)),this._points.length=0;for(var C$zui,C$zun,C$zur=-1,C$zus=-1,C$zua=C$zut.length/2,C$zuo=0;C$zuo<C$zua;C$zuo++)C$zui=C$zut[2*C$zuo],C$zun=C$zut[2*C$zuo+1],(.01<Math.abs(C$zur-C$zui)||.01<Math.abs(C$zus-C$zun))&&this._points.push(C$zui,C$zun),C$zur=C$zui,C$zus=C$zun},C$zut.getData=function(C$zut,C$zue,C$zui){var C$zun=[],C$zur=[];0<this.borderWidth&&this.createLine2(this._points,C$zun,this.borderWidth,C$zui,C$zur,this._points.length/2),this.mUint16Array.set(C$zun,0),this.mFloat32Array.set(C$zur,0),C$zut.append(this.mUint16Array),C$zue.append(this.mFloat32Array)},$q}()),C$zuEt=function(){function $F(C$zut,C$zue,C$zui,C$zun,C$zuu){this._points=[];for(var C$zur=NaN,C$zus=NaN,C$zua=-1,C$zuo=-1,C$zuh=C$zui.length/2-1,C$zul=0;C$zul<C$zuh;C$zul++)C$zur=C$zui[2*C$zul],C$zus=C$zui[2*C$zul+1],(.01<Math.abs(C$zua-C$zur)||.01<Math.abs(C$zuo-C$zus))&&this._points.push(C$zur,C$zus),C$zua=C$zur,C$zuo=C$zus;C$zur=C$zui[2*C$zuh],C$zus=C$zui[2*C$zuh+1],C$zua=this._points[0],C$zuo=this._points[1],(.01<Math.abs(C$zua-C$zur)||.01<Math.abs(C$zuo-C$zus))&&this._points.push(C$zur,C$zus),$F.__super.call(this,C$zut,C$zue,0,0,this._points.length/2,0,C$zun,C$zuu)}C$zui($F,"laya.webgl.shapes.LoopLine",C$zurt);var C$zut=$F.prototype;return C$zut.getData=function(C$zut,C$zue,C$zui){if(0<this.borderWidth){for(var C$zun,C$zur,C$zus=this.color,C$zua=(C$zus>>16&255)/255,C$zuo=(C$zus>>8&255)/255,C$zuu=(255&C$zus)/255,C$zuh=[],C$zus=[],C$zuc=Math.floor(this._points.length/2),C$zul=0;C$zul<C$zuc;C$zul++)C$zun=this._points[2*C$zul],C$zur=this._points[2*C$zul+1],C$zuh.push(this.x+C$zun,this.y+C$zur,C$zua,C$zuo,C$zuu);this.createLoopLine(C$zuh,C$zus,this.borderWidth,C$zui+C$zuh.length/5),C$zut.append(new Uint16Array(C$zus)),C$zue.append(new Float32Array(C$zuh))}},C$zut.createLoopLine=function(C$zuu,C$zuc,C$zu_,C$zud,C$zut,C$zuf){C$zuu.length;var C$zue=C$zuu.concat(),C$zup=C$zut||C$zuu,C$zut=this.borderColor,C$zum=(C$zut>>16&255)/255,C$zug=(C$zut>>8&255)/255,C$zuv=(255&C$zut)/255,C$zuu=[C$zue[0],C$zue[1]],C$zut=[C$zue[C$zue.length-5],C$zue[C$zue.length-4]],C$zu$=C$zut[0]+.5*(C$zuu[0]-C$zut[0]),C$zuu=C$zut[1]+.5*(C$zuu[1]-C$zut[1]);C$zue.unshift(C$zu$,C$zuu,0,0,0),C$zue.push(C$zu$,C$zuu,0,0,0);var C$zux,C$zuy,C$zui,C$zun,C$zur,C$zus,C$zub,C$zuT,C$zuw,C$zuM,C$zua,C$zuS,C$zuo,C$zuC,C$zuD=C$zue.length/5,C$zuh=C$zud,C$zuE=C$zu_/2;C$zux=C$zue[0],C$zuy=C$zue[1],C$zus=C$zux-C$zue[5],C$zur=(C$zur=-(C$zuy-C$zue[6]))/(C$zuC=Math.sqrt(C$zur*C$zur+C$zus*C$zus))*C$zuE,C$zup.push(C$zux-C$zur,C$zuy-(C$zus=C$zus/C$zuC*C$zuE),C$zum,C$zug,C$zuv,C$zux+C$zur,C$zuy+C$zus,C$zum,C$zug,C$zuv);for(var C$zul=1;C$zul<C$zuD-1;C$zul++)C$zux=C$zue[5*(C$zul-1)],C$zuy=C$zue[5*(C$zul-1)+1],C$zui=C$zue[5*C$zul],C$zun=C$zue[5*C$zul+1],C$zuM=C$zue[5*(C$zul+1)],C$zuT=C$zue[5*(C$zul+1)+1],C$zus=C$zux-C$zui,C$zuo=C$zui-C$zuM,C$zuw=(-(C$zur=(C$zur=-(C$zuy-C$zun))/(C$zuC=Math.sqrt(C$zur*C$zur+C$zus*C$zus))*C$zuE)+C$zux)*(-(C$zus=C$zus/C$zuC*C$zuE)+C$zun)-(-C$zur+C$zui)*(-C$zus+C$zuy),C$zuS=(-(C$zua=(C$zua=-(C$zun-C$zuT))/(C$zuC=Math.sqrt(C$zua*C$zua+C$zuo*C$zuo))*C$zuE)+C$zuM)*(-(C$zuo=C$zuo/C$zuC*C$zuE)+C$zun)-(-C$zua+C$zui)*(-C$zuo+C$zuT),C$zuo=(C$zub=-C$zus+C$zuy-(-C$zus+C$zun))*(C$zua=-C$zua+C$zui-(-C$zua+C$zuM))-(C$zuM=-C$zuo+C$zuT-(-C$zuo+C$zun))*(C$zuT=-C$zur+C$zui-(-C$zur+C$zux)),Math.abs(C$zuo)<.1?(C$zuo+=10.1,C$zup.push(C$zui-C$zur,C$zun-C$zus,C$zum,C$zug,C$zuv,C$zui+C$zur,C$zun+C$zus,C$zum,C$zug,C$zuv)):C$zup.push(C$zuT=(C$zuT*C$zuS-C$zua*C$zuw)/C$zuo,C$zua=(C$zuM*C$zuw-C$zub*C$zuS)/C$zuo,C$zum,C$zug,C$zuv,C$zui-(C$zuT-C$zui),C$zun-(C$zua-C$zun),C$zum,C$zug,C$zuv);C$zuf&&(C$zuc=C$zuf);var C$zuP=this.edges+1;for(C$zul=1;C$zul<C$zuP;C$zul++)C$zuc.push(C$zuh+2*(C$zul-1),C$zuh+2*(C$zul-1)+1,C$zuh+2*C$zul+1,C$zuh+2*C$zul+1,C$zuh+2*C$zul,C$zuh+2*(C$zul-1));return C$zuc.push(C$zuh+2*(C$zul-1),C$zuh+2*(C$zul-1)+1,C$zuh+1,C$zuh+1,C$zuh,C$zuh+2*(C$zul-1)),C$zup},$F}(),C$zuPt=function(){function $k(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this._points=null,this._start=-1,this._repaint=!1,this.earcutTriangles=null,this._mat=C$zub.create(),this._points=C$zui.slice(0,C$zui.length),$k.__super.call(this,C$zut,C$zue,0,0,this._points.length/2,C$zun,C$zur,C$zus)}C$zui($k,"laya.webgl.shapes.Polygon",C$zurt);var C$zut=$k.prototype;return C$zut.rebuild=function(C$zut){this._repaint||(this._points.length=0,this._points=this._points.concat(C$zut))},C$zut.setMatrix=function(C$zut){C$zut.copyTo(this._mat)},C$zut.needUpdate=function(C$zut){return this._repaint=this._mat.a==C$zut.a&&this._mat.b==C$zut.b&&this._mat.c==C$zut.c&&this._mat.d==C$zut.d&&this._mat.tx==C$zut.tx&&this._mat.ty==C$zut.ty,!this._repaint},C$zut.getData=function(C$zut,C$zue,C$zui){var C$zun,C$zur=0,C$zus=this._points,C$zua=0;if(this.mUint16Array&&this.mFloat32Array&&this._repaint){if(this._start!=C$zui){for(this._start=C$zui,C$zun=[],C$zua=this.earcutTriangles.length,C$zur=0;C$zur<C$zua;C$zur++)C$zun.push(this.earcutTriangles[C$zur]+C$zui);this.mUint16Array=new Uint16Array(C$zun)}}else{this._start=C$zui,C$zun=[];var C$zuo=[],C$zuh=[],C$zul=this.color,C$zuu=(C$zul>>16&255)/255,C$zuc=(C$zul>>8&255)/255,C$zu_=(255&C$zul)/255;for(C$zua=Math.floor(C$zus.length/2),C$zur=0;C$zur<C$zua;C$zur++)C$zuo.push(this.x+C$zus[2*C$zur],this.y+C$zus[2*C$zur+1],C$zuu,C$zuc,C$zu_),C$zuh.push(this.x+C$zus[2*C$zur],this.y+C$zus[2*C$zur+1]);for(this.earcutTriangles=C$zust.earcut(C$zuh,null,2),C$zua=this.earcutTriangles.length,C$zur=0;C$zur<C$zua;C$zur++)C$zun.push(this.earcutTriangles[C$zur]+C$zui);this.mUint16Array=new Uint16Array(C$zun),this.mFloat32Array=new Float32Array(C$zuo)}C$zut.append(this.mUint16Array),C$zue.append(this.mFloat32Array)},$k}(),C$zuAt=function(){function $q(){this._matrix=new C$zub,this._matrix4=C$zugt.defaultMatrix4.concat(),$q.__super.call(this,1e4),this.shaderValue=new C$zuTt(0,0)}C$zui($q,"laya.webgl.submit.SubmitCanvas",C$zuot);var C$zut=$q.prototype;return C$zut.renderSubmit=function(){if(this._ctx_src._targets)return this._ctx_src._targets.flush(this._ctx_src),1;var C$zut=C$zul.worldAlpha,C$zue=C$zul.worldMatrix4,C$zui=C$zul.worldMatrix,C$zun=C$zul.worldFilters,C$zur=C$zul.worldShaderDefines,C$zus=this.shaderValue,C$zua=this._matrix,C$zuo=this._matrix4,C$zuh=C$zub.TEMP;return C$zub.mul(C$zua,C$zui,C$zuh),C$zuo[0]=C$zuh.a,C$zuo[1]=C$zuh.b,C$zuo[4]=C$zuh.c,C$zuo[5]=C$zuh.d,C$zuo[12]=C$zuh.tx,C$zuo[13]=C$zuh.ty,C$zul.worldMatrix=C$zuh.clone(),C$zul.worldMatrix4=C$zuo,C$zul.worldAlpha=C$zul.worldAlpha*C$zus.alpha,C$zus.filters&&C$zus.filters.length&&(C$zul.worldFilters=C$zus.filters,C$zul.worldShaderDefines=C$zus.defines),this._ctx_src.flush(),C$zul.worldAlpha=C$zut,C$zul.worldMatrix4=C$zue,C$zul.worldMatrix.destroy(),C$zul.worldMatrix=C$zui,C$zul.worldFilters=C$zun,C$zul.worldShaderDefines=C$zur,1},C$zut.releaseRender=function(){var C$zut=$q._cache;this._ctx_src=null,C$zut[C$zut._length++]=this},C$zut.getRenderType=function(){return 10003},$q.create=function(C$zut,C$zue,C$zui){var C$zun=$q._cache._length?$q._cache[--$q._cache._length]:new $q;C$zun._ctx_src=C$zut;C$zut=C$zun.shaderValue;return C$zut.alpha=C$zue,C$zut.defines.setValue(0),C$zui&&C$zui.length&&C$zut.setFilters(C$zui),C$zun},$q._cache=(($q._cache=[])._length=0,$q._cache),$q}(),C$zuIt=(C$zui($K,"laya.webgl.submit.SubmitTexture",C$zuot),(C$zut=$K.prototype).releaseRender=function(){var C$zut=$K._cache;(C$zut[C$zut._length++]=this).shaderValue.release(),this.shaderValue=null,this._preIsSameTextureShader=!1,this._blendFn=null,this._vb=null,this._ib=null,this._texs.length=0,this._vbPos.length=0,this._texsID.length=0,this._isSameTexture=!0},C$zut.addTexture=function(C$zut,C$zue){this._texsID[this._texs.length]=C$zut._uvID,this._texs.push(C$zut),this._vbPos.push(C$zue)},C$zut.checkTexture=function(){if(this._texs.length<1)this._isSameTexture=!0;else{var C$zut=this.shaderValue.textureHost.bitmap;if(null!==C$zut)for(var C$zue=this._vb.getFloat32Array(),C$zui=0,C$zun=this._texs.length;C$zui<C$zun;C$zui++){var C$zur=this._texs[C$zui];C$zur.active();var C$zus=C$zur.uv;var C$zua;this._texsID[C$zui]!==C$zur._uvID&&(this._texsID[C$zui]=C$zur._uvID,C$zue[(C$zua=this._vbPos[C$zui])+2]=C$zus[0],C$zue[C$zua+3]=C$zus[1],C$zue[C$zua+6]=C$zus[2],C$zue[C$zua+7]=C$zus[3],C$zue[C$zua+10]=C$zus[4],C$zue[C$zua+11]=C$zus[5],C$zue[C$zua+14]=C$zus[6],C$zue[C$zua+15]=C$zus[7],this._vb.setNeedUpload()),C$zur.bitmap!==C$zut&&(this._isSameTexture=!1)}}},C$zut.renderSubmit=function(){if(0===this._numEle)return $K._shaderSet=!1,1;var C$zut=this.shaderValue.textureHost;if(C$zut){var C$zue=C$zut.source;if(!C$zut.bitmap||!C$zue)return $K._shaderSet=!1,1;this.shaderValue.texture=C$zue,C$zut.alphaTexture&&C$zut.alphaTexture.source&&(this.shaderValue.texture1=C$zut.alphaTexture.source)}this._vb.bind_upload(this._ib);var C$zui=C$zuu.mainContext;if(C$zuz.activeBlendFunction!==this._blendFn&&(C$zui.enable(3042),this._blendFn(C$zui),C$zuz.activeBlendFunction=this._blendFn),C$zuI.drawCall++,C$zuI.trianglesFaces+=this._numEle/3,this._preIsSameTextureShader&&C$zuLt.activeShader&&$K._shaderSet?(C$zuLt.activeShader.uploadTexture2D(this.shaderValue.texture),this.shaderValue.texture1&&C$zuLt.activeShader.uploadTexture2D1(this.shaderValue.texture1)):this.shaderValue.upload(),$K._shaderSet=!0,1<this._texs.length&&!this._isSameTexture)for(var C$zun=C$zut.bitmap,C$zur=0,C$zus=C$zuLt.activeShader,C$zua=0,C$zuo=this._texs.length;C$zua<C$zuo;C$zua++){var C$zuh=this._texs[C$zua];C$zuh.bitmap===C$zun&&C$zua+1!==C$zuo||(C$zus.uploadTexture2D(C$zuh.source),C$zui.drawElements(4,6*(C$zua-C$zur+1),5123,this._startIdx+6*C$zur*C$zugt.BYTES_PIDX),C$zun=C$zuh.bitmap,C$zur=C$zua)}else C$zui.drawElements(4,this._numEle,5123,this._startIdx);return 1},$K.create=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=$K._cache._length?$K._cache[--$K._cache._length]:new $K;null==C$zui&&((C$zui=C$zus._selfVb||(C$zus._selfVb=C$zuQt.create(-1))).clear(),C$zun=0),C$zus._ib=C$zue,C$zus._vb=C$zui,C$zus._startIdx=C$zun*C$zugt.BYTES_PIDX,C$zus._numEle=0;C$zue=C$zut._nBlendType;C$zus._blendFn=(C$zut._targets?C$zuz.targetFns:C$zuz.fns)[C$zue],C$zus.shaderValue=C$zur,C$zus.shaderValue.setValue(C$zut._shader2D);C$zui=C$zut._shader2D.filters;return C$zui&&C$zus.shaderValue.setFilters(C$zui),C$zus},$K._cache=(($K._cache=[])._length=0,$K._cache),$K._shaderSet=!0,$K),C$zuRt=function(){function $c(){$c.__super.call(this,laya.webgl.utils.MeshTexture.const_stride,0,0),this.canReuse=!0,this.setAttributes(laya.webgl.utils.MeshTexture._fixattriInfo)}C$zui($c,"laya.webgl.utils.MeshTexture",C$zu$t);var C$zut=$c.prototype;return C$zut.addData=function(C$zut,C$zue,C$zui,C$zun,C$zuu,C$zuc){for(var C$zur=C$zut.length/2,C$zus=this._vb.needSize(C$zur*$c.const_stride)>>2,C$zua=this._vb.getFloat32Array(),C$zuo=0,C$zu_=0;C$zu_<C$zur;C$zu_++){var C$zuh=C$zut[C$zuo],C$zud=C$zut[C$zuo+1],C$zuf=C$zuh*C$zun.a+C$zud*C$zun.c+C$zun.tx,C$zuh=C$zuh*C$zun.b+C$zud*C$zun.d+C$zun.ty;C$zua[C$zus++]=C$zuf,C$zua[C$zus++]=C$zuh,C$zua[C$zus++]=C$zue[C$zuo],C$zua[C$zus++]=C$zue[C$zuo+1],C$zuo+=2}this._vb.setNeedUpload();var C$zup=this.vertNum;if(0<C$zup){(C$zur=C$zui.length)>$c.tmpIdx.length&&($c.tmpIdx=new Uint16Array(C$zur));for(var C$zul=0;C$zul<C$zur;C$zul++)$c.tmpIdx[C$zul]=C$zui[C$zul]+C$zup;this._ib.appendU16Array($c.tmpIdx,C$zui.length)}else this._ib.append(C$zui);this._ib.setNeedUpload(),this.vertNum+=C$zur,this.indexNum+=C$zui.length},C$zut.releaseMesh=function(){this._vb._byteLength=0,this._ib._byteLength=0,this.vertNum=0,this.indexNum=0,laya.webgl.utils.MeshTexture._POOL.push(this)},C$zut.destroy=function(){this._ib.destroy(),this._vb.destroy()},$c.getAMesh=function(){return laya.webgl.utils.MeshTexture._POOL.length?laya.webgl.utils.MeshTexture._POOL.pop():new $c},$c.const_stride=16,$c._POOL=[],C$zue($c,["_fixattriInfo",function(){return this._fixattriInfo=[5126,2,0,5126,2,8]},"tmpIdx",function(){return this.tmpIdx=new Uint16Array(4)}]),$c}(),C$zuLt=function(){function $p(){$p.__super.call(this),this.lock=!0}return C$zui($p,"laya.webgl.shader.BaseShader",C$zuC),$p.activeShader=null,$p.bindShader=null,$p}(),C$zuBt=(C$zui($D,"laya.webgl.resource.RenderTarget2D",C$zute=C$zuN),C$zut=$D.prototype,C$zug.imps(C$zut,{"laya.resource.IDispose":!0}),C$zut.getType=function(){return this._type},C$zut.getTexture=function(){return this},C$zut.size=function(C$zut,C$zue){this._w==C$zut&&this._h==C$zue||(this._w=C$zut,this._h=C$zue,this.release(),0!=this._w&&0!=this._h&&this._createWebGLRenderTarget())},C$zut.release=function(){this.destroy()},C$zut.recycle=function(){$D.POOL.push(this)},C$zut.start=function(){var C$zut=C$zuu.mainContext;return this._preRenderTarget=C$zul.curRenderTarget,C$zul.curRenderTarget=this,C$zut.bindFramebuffer(36160,this.bitmap.frameBuffer),this._alreadyResolved=!1,1==this._type&&(C$zut.viewport(0,0,this._w,this._h),this._svWidth=C$zul.width,this._svHeight=C$zul.height,C$zul.width=this._w,C$zul.height=this._h,C$zuLt.activeShader=null),this},C$zut.clear=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zuu.mainContext;C$zur.clearColor(C$zut=void 0===C$zut?0:C$zut,C$zue=void 0===C$zue?0:C$zue,C$zui=void 0===C$zui?0:C$zui,C$zun=void 0===C$zun?1:C$zun);var C$zus=16384;switch(this._depthStencilFormat){case 33189:C$zus|=256;break;case 36168:C$zus|=1024;break;case 34041:C$zus=C$zus|256|1024}C$zur.clear(C$zus)},C$zut.end=function(){var C$zut=C$zuu.mainContext;C$zut.bindFramebuffer(36160,this._preRenderTarget?this._preRenderTarget.bitmap.frameBuffer:null),this._alreadyResolved=!0,C$zul.curRenderTarget=this._preRenderTarget,1==this._type?(C$zut.viewport(0,0,this._svWidth,this._svHeight),C$zul.width=this._svWidth,C$zul.height=this._svHeight,C$zuLt.activeShader=null):C$zut.viewport(0,0,C$zug.stage.width,C$zug.stage.height)},C$zut.getData=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zuu.mainContext;if(C$zur.bindFramebuffer(36160,this.bitmap.frameBuffer),36053!==C$zur.checkFramebufferStatus(36160))return C$zur.bindFramebuffer(36160,null),null;var C$zus=new Uint8Array(this._w*this._h*4);return C$zur.readPixels(C$zut,C$zue,C$zui,C$zun,this._surfaceFormat,this._surfaceType,C$zus),C$zur.bindFramebuffer(36160,null),C$zus},C$zut.destroy=function(C$zut){void 0===C$zut&&(C$zut=!1),this._destroy||(this._loaded=!1,this.bitmap.offAll(),this.bitmap.disposeResource(),this.bitmap.dispose(),this.offAll(),this.bitmap=null,this._alreadyResolved=!1,this._destroy=!0,C$zute.prototype.destroy.call(this))},C$zut.dispose=function(){},C$zut._createWebGLRenderTarget=function(){this.bitmap=new C$zuGt(this.width,this.height,this._surfaceFormat,this._surfaceType,this._depthStencilFormat,this._mipMap,this._repeat,this._minFifter,this._magFifter),this.bitmap.activeResource(),this._alreadyResolved=!0,this._destroy=!1,this._loaded=!0,this.bitmap.on("recovered",this,function(C$zut){this.event("recovered")})},C$zun(0,C$zut,"surfaceFormat",function(){return this._surfaceFormat}),C$zun(0,C$zut,"magFifter",function(){return this._magFifter}),C$zun(0,C$zut,"surfaceType",function(){return this._surfaceType}),C$zun(0,C$zut,"mipMap",function(){return this._mipMap}),C$zun(0,C$zut,"depthStencilFormat",function(){return this._depthStencilFormat}),C$zun(0,C$zut,"minFifter",function(){return this._minFifter}),C$zun(0,C$zut,"source",function(){return this._alreadyResolved?C$zug.superGet(C$zuN,this,"source"):null}),$D.create=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh){void 0===C$zui&&(C$zui=6408),void 0===C$zun&&(C$zun=5121),void 0===C$zur&&(C$zur=34041),void 0===C$zus&&(C$zus=!1),void 0===C$zua&&(C$zua=!1),void 0===C$zuo&&(C$zuo=-1),void 0===C$zuh&&(C$zuh=-1);var C$zul=$D.POOL.pop();return(C$zul=C$zul||new $D(C$zut,C$zue)).bitmap&&C$zul._w==C$zut&&C$zul._h==C$zue&&C$zul._surfaceFormat==C$zui&&C$zul._surfaceType==C$zun&&C$zul._depthStencilFormat==C$zur&&C$zul._mipMap==C$zus&&C$zul._repeat==C$zua&&C$zul._minFifter==C$zuo&&C$zul._magFifter==C$zuh||(C$zul._w=C$zut,C$zul._h=C$zue,C$zul._surfaceFormat=C$zui,C$zul._surfaceType=C$zun,C$zul._depthStencilFormat=C$zur,C$zuM.isConchWebGL&&34041===C$zul._depthStencilFormat&&(C$zul._depthStencilFormat=33189),C$zul._mipMap=C$zus,C$zul._repeat=C$zua,C$zul._minFifter=C$zuo,C$zul._magFifter=C$zuh,C$zul.release(),C$zul._createWebGLRenderTarget()),C$zul},$D.TYPE2D=1,$D.TYPE3D=2,$D.POOL=[],$D),C$zuNt=function(){function $p(){this._glBuffer=null,this._buffer=null,this._bufferType=0,this._bufferUsage=0,this._byteLength=0,$p.__super.call(this),$p._gl=C$zuu.mainContext}C$zui($p,"laya.webgl.utils.Buffer",C$zuC);var C$zut=$p.prototype;return C$zut._bind=function(){this.activeResource(),$p._bindActive[this._bufferType]!==this._glBuffer&&(34962===this._bufferType&&($p._bindVertexBuffer=this._glBuffer),$p._gl.bindBuffer(this._bufferType,$p._bindActive[this._bufferType]=this._glBuffer),C$zuLt.activeShader=null)},C$zut.recreateResource=function(){this._glBuffer||(this._glBuffer=$p._gl.createBuffer()),this.completeCreate()},C$zut.disposeResource=function(){this._glBuffer&&(C$zuu.mainContext.deleteBuffer(this._glBuffer),this._glBuffer=null),this.memorySize=0},C$zun(0,C$zut,"bufferUsage",function(){return this._bufferUsage}),$p._gl=null,$p._bindActive={},$p._bindVertexBuffer=null,$p._enableAtributes=[],$p}(),C$zuFt=function(){function $h(C$zut){this.texcoord=null,this.offsetX=300,this.offsetY=0,$h.__super.call(this,512,0);var C$zue=8*C$zugt.BYTES_PE;this.position=[2,5126,!1,C$zue,0],this.texcoord=[2,5126,!1,C$zue,2*C$zugt.BYTES_PE],this.color=[4,5126,!1,C$zue,4*C$zugt.BYTES_PE]}return C$zui($h,"laya.webgl.shader.d2.skinAnishader.SkinSV",C$zuTt),$h}(),C$zuOt=function(){function $p(C$zut){$p.__super.call(this,2,0),this.color=[]}return C$zui($p,"laya.webgl.shader.d2.value.Color2dSV",C$zuTt),$p.prototype.setValue=function(C$zut){C$zut.fillStyle&&(this.color=C$zut.fillStyle._color._color),C$zut.strokeStyle&&(this.color=C$zut.strokeStyle._color._color)},$p}(),C$zuVt=function(){function $p(C$zut){this.u_colorMatrix=null,this.strength=0,this.colorMat=null,this.colorAlpha=null,this.u_TexRange=[0,1,0,1],this.u_offset=[0,0],this.texcoord=C$zuTt._TEXCOORD,$p.__super.call(this,256,0)}C$zui($p,"laya.webgl.shader.d2.value.FillTextureSV",C$zuTt);var C$zut=$p.prototype;return C$zut.setValue=function(C$zut){this.ALPHA=C$zut.ALPHA,C$zut.filters&&this.setFilters(C$zut.filters)},C$zut.clear=function(){this.texture=null,this.texture1=null,this.shader=null,this.colorMat=null,this.colorAlpha=null,this.defines.setValue(0)},$p}(),C$zukt=function(){function $p(C$zut){this.u_colorMatrix=null,this.strength=0,this.blurInfo=null,this.colorMat=null,this.colorAlpha=null,this.texcoord=C$zuTt._TEXCOORD,$p.__super.call(this,1,C$zut=void 0===C$zut?0:C$zut)}C$zui($p,"laya.webgl.shader.d2.value.TextureSV",C$zuTt);var C$zut=$p.prototype;return C$zut.setValue=function(C$zut){this.ALPHA=C$zut.ALPHA,C$zut.filters&&this.setFilters(C$zut.filters)},C$zut.clear=function(){this.texture=null,this.texture1=null,this.shader=null,this.colorMat=null,this.colorAlpha=null,this.defines.setValue(0)},$p}(),C$zuUt=function(){function $p(C$zut){this.a_color=null,this.u_pos=[0,0],$p.__super.call(this,4,0),this.position=[2,5126,!1,5*C$zugt.BYTES_PE,0],this.a_color=[3,5126,!1,5*C$zugt.BYTES_PE,2*C$zugt.BYTES_PE]}return C$zui($p,"laya.webgl.shader.d2.value.PrimitiveSV",C$zuTt),$p}(),C$zuHt=function(C$zut){function $p(){this._atlaser=null,this._flashCacheImage=null,this._flashCacheImageNeedFlush=!1,$p.__super.call(this)}C$zui($p,"laya.webgl.atlas.AtlasWebGLCanvas",C$zut);var C$zue=$p.prototype;return C$zue.recreateResource=function(){var C$zut=C$zuu.mainContext,C$zue=this._source=C$zut.createTexture(),C$zui=C$zuh.curBindTexTarget,C$zun=C$zuh.curBindTexValue;C$zuh.bindTexture(C$zut,3553,C$zue),C$zut.texImage2D(3553,0,6408,this._w,this._h,0,6408,5121,null),C$zut.texParameteri(3553,10241,9729),C$zut.texParameteri(3553,10240,9729),C$zut.texParameteri(3553,10242,33071),C$zut.texParameteri(3553,10243,33071),C$zui&&C$zun&&C$zuh.bindTexture(C$zut,C$zui,C$zun),this.memorySize=this._w*this._h*4,this.completeCreate()},C$zue.disposeResource=function(){this._source&&(C$zuu.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},C$zue.texSubImage2D=function(C$zut,C$zue,C$zui){var C$zun,C$zur,C$zus;C$zuM.isFlash?(this._flashCacheImage||(this._flashCacheImage=C$zu$.create(""),this._flashCacheImage._image.createCanvas(this._w,this._h)),C$zun=C$zui.bitmapdata,this._flashCacheImage._image.copyPixels(C$zun,0,0,C$zun.width,C$zun.height,C$zut,C$zue),this._flashCacheImageNeedFlush||(this._flashCacheImageNeedFlush=!0)):(C$zun=C$zuu.mainContext,C$zur=C$zuh.curBindTexTarget,C$zus=C$zuh.curBindTexValue,C$zuh.bindTexture(C$zun,3553,this._source),C$zun.pixelStorei(37441,!0),0<=C$zut-1&&C$zun.texSubImage2D(3553,0,C$zut-1,C$zue,6408,5121,C$zui),C$zut+1<=this._w&&C$zun.texSubImage2D(3553,0,C$zut+1,C$zue,6408,5121,C$zui),0<=C$zue-1&&C$zun.texSubImage2D(3553,0,C$zut,C$zue-1,6408,5121,C$zui),C$zue+1<=this._h&&C$zun.texSubImage2D(3553,0,C$zut,C$zue+1,6408,5121,C$zui),C$zun.texSubImage2D(3553,0,C$zut,C$zue,6408,5121,C$zui),C$zun.pixelStorei(37441,!1),C$zur&&C$zus&&C$zuh.bindTexture(C$zun,C$zur,C$zus))},C$zue.texSubImage2DPixel=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=C$zuu.mainContext,C$zua=C$zuh.curBindTexTarget,C$zuo=C$zuh.curBindTexValue;C$zuh.bindTexture(C$zus,3553,this._source);C$zur=new Uint8Array(C$zur.data);C$zus.pixelStorei(37441,!0),C$zus.texSubImage2D(3553,0,C$zut,C$zue,C$zui,C$zun,6408,5121,C$zur),C$zus.pixelStorei(37441,!1),C$zua&&C$zuo&&C$zuh.bindTexture(C$zus,C$zua,C$zuo)},C$zun(0,C$zue,"width",C$zut.prototype._$get_width,function(C$zut){this._w=C$zut}),C$zun(0,C$zue,"height",C$zut.prototype._$get_height,function(C$zut){this._h=C$zut}),$p}(C$zur),C$zuWt=function(){function $L(){this.flipY=!0,this.alwaysChange=!1,$L.__super.call(this)}C$zui($L,"laya.webgl.resource.WebGLCanvas",C$zur);var C$zut=$L.prototype;return C$zut.getCanvas=function(){return this._canvas},C$zut.clear=function(){this._ctx&&this._ctx.clear()},C$zut.destroy=function(){this._ctx&&this._ctx.destroy(),this._ctx=null,laya.resource.Resource.prototype.destroy.call(this)},C$zut._setContext=function(C$zut){this._ctx=C$zut},C$zut.getContext=function(C$zut,C$zue){return this._ctx||(this._ctx=$L._createContext(this))},C$zut.size=function(C$zut,C$zue){this._w==C$zut&&this._h==C$zue||(this._w=C$zut,this._h=C$zue,this._ctx&&this._ctx.size(C$zut,C$zue),this._canvas&&(this._canvas.height=C$zue,this._canvas.width=C$zut))},C$zut.activeResource=function(C$zut){void 0===C$zut&&(C$zut=!1),this._source||this.recreateResource()},C$zut.recreateResource=function(){this.createWebGlTexture(),this.completeCreate()},C$zut.disposeResource=function(){this._source&&!this.iscpuSource&&(C$zuu.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},C$zut.createWebGlTexture=function(){var C$zut=C$zuu.mainContext;this._canvas;var C$zue=this._source=C$zut.createTexture();this.iscpuSource=!1;var C$zui=C$zuh.curBindTexTarget,C$zun=C$zuh.curBindTexValue;C$zuh.bindTexture(C$zut,3553,C$zue),C$zut.pixelStorei(37440,this.flipY?1:0),$L.premulAlpha&&C$zut.pixelStorei(37441,!0),C$zut.texImage2D(3553,0,6408,6408,5121,this._imgData),$L.premulAlpha&&C$zut.pixelStorei(37441,!1),C$zut.texParameteri(3553,10240,9729),C$zut.texParameteri(3553,10241,9729),C$zut.texParameteri(3553,10242,33071),C$zut.texParameteri(3553,10243,33071),C$zut.pixelStorei(37440,0),this.memorySize=this._w*this._h*4,C$zui&&C$zun&&C$zuh.bindTexture(C$zut,C$zui,C$zun)},C$zut.reloadCanvasData=function(){var C$zut=C$zuu.mainContext;if(!this._source)throw"reloadCanvasData error, gl texture not created!";var C$zue=C$zuh.curBindTexTarget,C$zui=C$zuh.curBindTexValue;C$zuh.bindTexture(C$zut,3553,this._source),$L.premulAlpha&&C$zut.pixelStorei(37441,!0),C$zut.texImage2D(3553,0,6408,6408,5121,this._imgData),$L.premulAlpha&&C$zut.pixelStorei(37441,!1),C$zut.pixelStorei(37440,0),C$zue&&C$zui&&C$zuh.bindTexture(C$zut,C$zue,C$zui)},C$zut.texSubImage2D=function(C$zut,C$zue,C$zui){var C$zun=C$zuu.mainContext,C$zur=C$zuh.curBindTexTarget,C$zus=C$zuh.curBindTexValue;C$zuh.bindTexture(C$zun,3553,this._source),C$zun.pixelStorei(37441,!0),C$zun.texSubImage2D(3553,0,C$zue,C$zui,6408,5121,C$zut._source),C$zun.pixelStorei(37441,!1),C$zur&&C$zus&&C$zuh.bindTexture(C$zun,C$zur,C$zus)},C$zut.toBase64=function(C$zut,C$zue,C$zui){var C$zun=null;this._canvas&&(C$zun=this._canvas.toDataURL(C$zut,C$zue)),C$zui.call(this,C$zun)},C$zun(0,C$zut,"context",function(){return this._ctx}),C$zun(0,C$zut,"source",function(){return this.alwaysChange&&this.reloadCanvasData(),this._source}),C$zun(0,C$zut,"asBitmap",null,function(C$zut){this._ctx&&(this._ctx.asBitmap=C$zut)}),$L._createContext=null,$L.premulAlpha=!1,$L}(),C$zuzt=function(){function $q(C$zut,C$zue){this.CborderSize=12,$q.__super.call(this),this.char=C$zut,this.isSpace=" "===C$zut,this.xs=C$zue.scaleX,this.ys=C$zue.scaleY,this.font=C$zue.font.toString(),this.fontSize=C$zue.font.size,this.fillColor=C$zue.fillColor,this.borderColor=C$zue.borderColor,this.lineWidth=C$zue.lineWidth,this.underLine=C$zue.underLine;var C$zui,C$zut=C$zuM.isConchApp;C$zut?((C$zui=ConchTextCanvas)._source=ConchTextCanvas,C$zui._source.canvas=ConchTextCanvas):C$zui=C$zuo.canvas.source,this.canvas=C$zui,this._enableMerageInAtlas=!0,this._ctx=C$zut?C$zui:this.canvas.getContext("2d",void 0);C$zue=C$zuF.measureText(this.char,this.font);this.cw=C$zue.width*this.xs,this.ch=(C$zue.height||this.fontSize)*this.ys,this.onresize(this.cw+2*this.CborderSize,this.ch+2*this.CborderSize),this.texture=new C$zuN(this)}C$zui($q,"laya.webgl.resource.WebGLCharImage",C$zur);var C$zut=$q.prototype;return C$zug.imps(C$zut,{"laya.webgl.resource.IMergeAtlasBitmap":!0}),C$zut.active=function(){this.texture.active()},C$zut.recreateResource=function(){var C$zut=C$zuM.isConchApp;var C$zue;this.onresize(this.cw+2*this.CborderSize,this.ch+2*this.CborderSize),this.canvas&&(this.canvas.height=this._h,this.canvas.width=this._w),C$zut?(C$zut=this.fontSize,1==this.xs&&1==this.ys||(C$zut=parseInt(C$zut*(this.xs>this.ys?this.xs:this.ys)+"")),C$zue=(C$zue="normal 100 "+this.font).replace($q._fontSizeReg,C$zut),this.borderColor&&(C$zue+=" 1 "+this.borderColor),this._ctx.font=C$zue,this._ctx.textBaseline="top",this._ctx.fillStyle=this.fillColor,this._ctx.fillText(this.char,this.CborderSize,this.CborderSize,null,null,null)):(this._ctx.save(),this._ctx.lineJoin="round",this._ctx.clearRect(0,0,this.cw+2*this.CborderSize,this.ch+2*this.CborderSize),this._ctx.font=this.font,C$zuB.RightToLeft&&(this._ctx.textAlign="end"),this._ctx.textBaseline="top",this._ctx.translate(this.CborderSize,this.CborderSize),1==this.xs&&1==this.ys||this._ctx.scale(this.xs,this.ys),this.fillColor&&this.borderColor?(this._ctx.strokeStyle=this.borderColor,this._ctx.lineWidth=this.lineWidth,this._ctx.strokeText(this.char,0,0,null,null,0,null),this._ctx.fillStyle=this.fillColor,this._ctx.fillText(this.char,0,0,null,null,null)):-1===this.lineWidth?(this._ctx.fillStyle=this.fillColor||"white",this._ctx.fillText(this.char,0,0,null,null,null)):(this._ctx.strokeStyle=this.borderColor||"white",this._ctx.lineWidth=this.lineWidth,this._ctx.strokeText(this.char,0,0,null,null,0,null)),this.underLine&&(this._ctx.lineWidth=1,this._ctx.strokeStyle=this.fillColor,this._ctx.beginPath(),this._ctx.moveTo(0,this.fontSize+1),C$zut=(this._ctx.measureText(this.char)||{width:16}).width+1,this._ctx.lineTo(C$zut,this.fontSize+1),this._ctx.stroke()),this._ctx.restore()),this.borderSize=this.CborderSize,this.completeCreate()},C$zut.onresize=function(C$zut,C$zue){this._w=C$zut,this._h=C$zue,this._allowMerageInAtlas=!0},C$zut.clearAtlasSource=function(){},C$zun(0,C$zut,"allowMerageInAtlas",function(){return this._allowMerageInAtlas}),C$zun(0,C$zut,"atlasSource",function(){return this.canvas}),C$zun(0,C$zut,"enableMerageInAtlas",function(){return this._enableMerageInAtlas},function(C$zut){this._enableMerageInAtlas=C$zut}),$q.createOneChar=function(C$zut,C$zue){return new $q(C$zut,C$zue)},$q._fontSizeReg=new RegExp("\\d+(?=px)","g"),$q}(),C$zuGt=function(){function $K(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh){void 0===C$zui&&(C$zui=6408),void 0===C$zun&&(C$zun=5121),void 0===C$zur&&(C$zur=34041),void 0===C$zus&&(C$zus=!1),void 0===C$zua&&(C$zua=!1),void 0===C$zuo&&(C$zuo=-1),void 0===C$zuh&&(C$zuh=1),$K.__super.call(this),this.uri="WebGLRenderTarget_"+this.id,this._w=C$zut,this._h=C$zue,this._surfaceFormat=C$zui,this._surfaceType=C$zun,this._depthStencilFormat=C$zur,this._mipMap=C$zus,this._repeat=C$zua,this._minFifter=C$zuo,this._magFifter=C$zuh}C$zui($K,"laya.webgl.resource.WebGLRenderTarget",C$zur);var C$zut=$K.prototype;return C$zut.recreateResource=function(){var C$zut=C$zuu.mainContext;this._frameBuffer||(this._frameBuffer=C$zut.createFramebuffer()),this._source||(this._source=C$zut.createTexture());var C$zue=C$zuh.curBindTexTarget,C$zui=C$zuh.curBindTexValue;C$zuh.bindTexture(C$zut,3553,this._source),C$zut.texImage2D(3553,0,6408,this._w,this._h,0,this._surfaceFormat,this._surfaceType,null);var C$zun=this._minFifter,C$zur=this._magFifter,C$zus=this._repeat?10497:33071,C$zua=C$zuc.isPOT(this._w,this._h);if(C$zua?(this._mipMap?-1!==C$zun||(C$zun=9987):-1!==C$zun||(C$zun=9729),-1!==C$zur||(C$zur=9729),C$zut.texParameteri(3553,10241,C$zun),C$zut.texParameteri(3553,10240,C$zur),C$zut.texParameteri(3553,10242,C$zus),C$zut.texParameteri(3553,10243,C$zus),this._mipMap&&C$zut.generateMipmap(3553)):(-1!==C$zur||(C$zur=9729),C$zut.texParameteri(3553,10241,C$zun=-1!==C$zun?C$zun:9729),C$zut.texParameteri(3553,10240,C$zur),C$zut.texParameteri(3553,10242,33071),C$zut.texParameteri(3553,10243,33071)),C$zut.bindFramebuffer(36160,this._frameBuffer),C$zut.framebufferTexture2D(36160,36064,3553,this._source,0),this._depthStencilFormat)switch(this._depthStencilBuffer||(this._depthStencilBuffer=C$zut.createRenderbuffer()),C$zut.bindRenderbuffer(36161,this._depthStencilBuffer),C$zut.renderbufferStorage(36161,this._depthStencilFormat,this._w,this._h),this._depthStencilFormat){case 33189:C$zut.framebufferRenderbuffer(36160,36096,36161,this._depthStencilBuffer);break;case 36168:C$zut.framebufferRenderbuffer(36160,36128,36161,this._depthStencilBuffer);break;case 34041:C$zut.framebufferRenderbuffer(36160,33306,36161,this._depthStencilBuffer)}C$zut.bindFramebuffer(36160,null),C$zue&&C$zui&&C$zuh.bindTexture(C$zut,C$zue,C$zui),C$zut.bindRenderbuffer(36161,null),C$zua&&this._mipMap?this.memorySize=this._w*this._h*4*(1+1/3):this.memorySize=this._w*this._h*4,this.completeCreate()},C$zut.disposeResource=function(){this._frameBuffer&&(C$zuu.mainContext.deleteTexture(this._source),C$zuu.mainContext.deleteFramebuffer(this._frameBuffer),C$zuu.mainContext.deleteRenderbuffer(this._depthStencilBuffer),this._source=null,this._frameBuffer=null,this._depthStencilBuffer=null,this.memorySize=0,this.uri=null)},C$zun(0,C$zut,"depthStencilBuffer",function(){return this._depthStencilBuffer}),C$zun(0,C$zut,"frameBuffer",function(){return this._frameBuffer}),$K}(),C$zuYt=function(){function $Y(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){this.offsetX=0,this.offsetY=0,$Y.__super.call(this),this.repeat=!0,this.mipmap=!1,this.minFifter=-1,this.magFifter=-1,this.atlasImage=C$zus,this.canvas=C$zut,this._ctx=C$zut.getContext("2d",void 0),this._w=C$zun,this._h=C$zur,this.offsetX=C$zue,this.offsetY=C$zui,this.src=C$zua,this._enableMerageInAtlas=!0,C$zuH.enabled&&this._w<C$zuH.atlasLimitWidth&&this._h<C$zuH.atlasLimitHeight?this._allowMerageInAtlas=!0:this._allowMerageInAtlas=!1}C$zui($Y,"laya.webgl.resource.WebGLSubImage",C$zur);var C$zut=$Y.prototype;return C$zug.imps(C$zut,{"laya.webgl.resource.IMergeAtlasBitmap":!0}),C$zut.size=function(C$zut,C$zue){this._w=C$zut,this._h=C$zue,this._ctx&&this._ctx.size(C$zut,C$zue),this.canvas&&(this.canvas.height=C$zue,this.canvas.width=C$zut)},C$zut.recreateResource=function(){this.size(this._w,this._h),this._ctx.drawImage(this.atlasImage,this.offsetX,this.offsetY,this._w,this._h,0,0,this._w,this._h),this._allowMerageInAtlas&&this._enableMerageInAtlas?this.memorySize=0:this.createWebGlTexture(),this.completeCreate()},C$zut.createWebGlTexture=function(){var C$zut=C$zuu.mainContext;if(!this.canvas)throw"create GLTextur err:no data:"+this.canvas;var C$zue=this._source=C$zut.createTexture(),C$zui=C$zuh.curBindTexTarget,C$zun=C$zuh.curBindTexValue;C$zuh.bindTexture(C$zut,3553,C$zue),C$zut.pixelStorei(37441,!0),C$zut.texImage2D(3553,0,6408,6408,5121,this.canvas),C$zut.pixelStorei(37441,!1);var C$zue=this.minFifter,C$zur=this.magFifter,C$zus=this.repeat?10497:33071,C$zua=C$zuc.isPOT(this.width,this.height);C$zua?(this.mipmap?-1!==C$zue||(C$zue=9987):-1!==C$zue||(C$zue=9729),C$zut.texParameteri(3553,10240,C$zur=-1!==C$zur?C$zur:9729),C$zut.texParameteri(3553,10241,C$zue),C$zut.texParameteri(3553,10242,C$zus),C$zut.texParameteri(3553,10243,C$zus),this.mipmap&&C$zut.generateMipmap(3553)):(-1!==C$zur||(C$zur=9729),C$zut.texParameteri(3553,10241,C$zue=-1!==C$zue?C$zue:9729),C$zut.texParameteri(3553,10240,C$zur),C$zut.texParameteri(3553,10242,33071),C$zut.texParameteri(3553,10243,33071)),C$zui&&C$zun&&C$zuh.bindTexture(C$zut,C$zui,C$zun),this.canvas=null,C$zua&&this.mipmap?this.memorySize=this._w*this._h*4*(1+1/3):this.memorySize=this._w*this._h*4},C$zut.disposeResource=function(){C$zuH.enabled&&this._allowMerageInAtlas||!this._source||(C$zuu.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},C$zut.clearAtlasSource=function(){},C$zun(0,C$zut,"allowMerageInAtlas",function(){return this._allowMerageInAtlas}),C$zun(0,C$zut,"atlasSource",function(){return this.canvas}),C$zun(0,C$zut,"enableMerageInAtlas",function(){return this._allowMerageInAtlas},function(C$zut){this._allowMerageInAtlas=C$zut}),$Y}(),C$zuXt=function(){function $K(C$zut,C$zue,C$zui,C$zun){if(this._curActTexIndex=0,this.tag={},this._program=null,this._params=null,this._paramsMap={},this._offset=0,$K.__super.call(this),!C$zut||!C$zue)throw"Shader Error";this._id=++$K._count,this._vs=C$zut,this._ps=C$zue,this._nameMap=C$zun||{},null!=C$zui&&($K.sharders[C$zui]=this)}C$zui($K,"laya.webgl.shader.Shader",C$zuLt);var C$zut=$K.prototype;return C$zut.recreateResource=function(){this._compile(),this.completeCreate(),this.memorySize=0},C$zut.disposeResource=function(){C$zuu.mainContext.deleteShader(this._vshader),C$zuu.mainContext.deleteShader(this._pshader),C$zuu.mainContext.deleteProgram(this._program),this._vshader=this._pshader=this._program=null,this._params=null,this._paramsMap={},this.memorySize=0,this._curActTexIndex=0},C$zut._compile=function(){if(!C$zuu.mainContext.isContextLost()&&this._vs&&this._ps&&!this._params){this._reCompile=!0,this._params=[];var C$zut=[this._vs,this._ps],C$zue=C$zuu.mainContext;if(this._program=C$zue.createProgram(),this._vshader=$K._createShader(C$zue,C$zut[0],35633),this._pshader=$K._createShader(C$zue,C$zut[1],35632),C$zue.attachShader(this._program,this._vshader),C$zue.attachShader(this._program,this._pshader),C$zue.linkProgram(this._program),!C$zuM.isConchApp&&!C$zue.getProgramParameter(this._program,35714))throw C$zue.getProgramInfoLog(this._program);var C$zui,C$zun,C$zur,C$zus=0;for(C$zur=C$zuM.isConchApp?C$zue.getProgramParameterEx(this._vs,this._ps,"",35721):C$zue.getProgramParameter(this._program,35721),C$zus=0;C$zus<C$zur;C$zus++){var C$zua=null;C$zui={vartype:"attribute",glfun:null,ivartype:0,attrib:C$zua=C$zuM.isConchApp?C$zue.getActiveAttribEx(this._vs,this._ps,"",C$zus):C$zue.getActiveAttrib(this._program,C$zus),location:C$zue.getAttribLocation(this._program,C$zua.name),name:C$zua.name,type:C$zua.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0},this._params.push(C$zui)}var C$zuo;for(C$zuo=C$zuM.isConchApp?C$zue.getProgramParameterEx(this._vs,this._ps,"",35718):C$zue.getProgramParameter(this._program,35718),C$zus=0;C$zus<C$zuo;C$zus++){var C$zuh=null;C$zuh=C$zuM.isConchApp?C$zue.getActiveUniformEx(this._vs,this._ps,"",C$zus):C$zue.getActiveUniform(this._program,C$zus),0<(C$zui={vartype:"uniform",glfun:null,ivartype:1,attrib:C$zua,location:C$zue.getUniformLocation(this._program,C$zuh.name),name:C$zuh.name,type:C$zuh.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0}).name.indexOf("[0]")&&(C$zui.name=C$zui.name.substr(0,C$zui.name.length-3),C$zui.isArray=!0,C$zui.location=C$zue.getUniformLocation(this._program,C$zui.name)),this._params.push(C$zui)}for(C$zus=0,C$zun=this._params.length;C$zus<C$zun;C$zus++)if((C$zui=this._params[C$zus]).indexOfParams=C$zus,C$zui.index=1,C$zui.value=[C$zui.location,null],C$zui.codename=C$zui.name,C$zui.name=this._nameMap[C$zui.codename]||C$zui.codename,(this._paramsMap[C$zui.name]=C$zui)._this=this,C$zui.uploadedValue=[],"attribute"!==C$zui.vartype)switch(C$zui.type){case 5124:C$zui.fun=C$zui.isArray?this._uniform1iv:this._uniform1i;break;case 5126:C$zui.fun=C$zui.isArray?this._uniform1fv:this._uniform1f;break;case 35664:C$zui.fun=C$zui.isArray?this._uniform_vec2v:this._uniform_vec2;break;case 35665:C$zui.fun=C$zui.isArray?this._uniform_vec3v:this._uniform_vec3;break;case 35666:C$zui.fun=C$zui.isArray?this._uniform_vec4v:this._uniform_vec4;break;case 35678:C$zui.fun=this._uniform_sampler2D;break;case 35680:C$zui.fun=this._uniform_samplerCube;break;case 35676:C$zui.glfun=C$zue.uniformMatrix4fv,C$zui.fun=this._uniformMatrix4fv;break;case 35670:C$zui.fun=this._uniform1i;break;default:throw new Error("compile shader err!")}else C$zui.fun=this._attribute}},C$zut.getUniform=function(C$zut){return this._paramsMap[C$zut]},C$zut._attribute=function(C$zut,C$zue){var C$zui=C$zuu.mainContext,C$zun=C$zuNt._enableAtributes,C$zut=C$zut.location;return C$zun[C$zut]||C$zui.enableVertexAttribArray(C$zut),C$zui.vertexAttribPointer(C$zut,C$zue[0],C$zue[1],C$zue[2],C$zue[3],C$zue[4]+this._offset),C$zun[C$zut]=C$zuNt._bindVertexBuffer,1},C$zut._uniform1f=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue?(C$zuu.mainContext.uniform1f(C$zut.location,C$zui[0]=C$zue),1):0},C$zut._uniform1fv=function(C$zut,C$zue){var C$zui;return C$zue.length<4?(C$zui=C$zut.uploadedValue)[0]!==C$zue[0]||C$zui[1]!==C$zue[1]||C$zui[2]!==C$zue[2]||C$zui[3]!==C$zue[3]?(C$zuu.mainContext.uniform1fv(C$zut.location,C$zue),C$zui[0]=C$zue[0],C$zui[1]=C$zue[1],C$zui[2]=C$zue[2],C$zui[3]=C$zue[3],1):0:(C$zuu.mainContext.uniform1fv(C$zut.location,C$zue),1)},C$zut._uniform_vec2=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue[0]||C$zui[1]!==C$zue[1]?(C$zuu.mainContext.uniform2f(C$zut.location,C$zui[0]=C$zue[0],C$zui[1]=C$zue[1]),1):0},C$zut._uniform_vec2v=function(C$zut,C$zue){var C$zui;return C$zue.length<2?(C$zui=C$zut.uploadedValue)[0]!==C$zue[0]||C$zui[1]!==C$zue[1]||C$zui[2]!==C$zue[2]||C$zui[3]!==C$zue[3]?(C$zuu.mainContext.uniform2fv(C$zut.location,C$zue),C$zui[0]=C$zue[0],C$zui[1]=C$zue[1],C$zui[2]=C$zue[2],C$zui[3]=C$zue[3],1):0:(C$zuu.mainContext.uniform2fv(C$zut.location,C$zue),1)},C$zut._uniform_vec3=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue[0]||C$zui[1]!==C$zue[1]||C$zui[2]!==C$zue[2]?(C$zuu.mainContext.uniform3f(C$zut.location,C$zui[0]=C$zue[0],C$zui[1]=C$zue[1],C$zui[2]=C$zue[2]),1):0},C$zut._uniform_vec3v=function(C$zut,C$zue){return C$zuu.mainContext.uniform3fv(C$zut.location,C$zue),1},C$zut._uniform_vec4=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue[0]||C$zui[1]!==C$zue[1]||C$zui[2]!==C$zue[2]||C$zui[3]!==C$zue[3]?(C$zuu.mainContext.uniform4f(C$zut.location,C$zui[0]=C$zue[0],C$zui[1]=C$zue[1],C$zui[2]=C$zue[2],C$zui[3]=C$zue[3]),1):0},C$zut._uniform_vec4v=function(C$zut,C$zue){return C$zuu.mainContext.uniform4fv(C$zut.location,C$zue),1},C$zut._uniformMatrix2fv=function(C$zut,C$zue){return C$zuu.mainContext.uniformMatrix2fv(C$zut.location,!1,C$zue),1},C$zut._uniformMatrix3fv=function(C$zut,C$zue){return C$zuu.mainContext.uniformMatrix3fv(C$zut.location,!1,C$zue),1},C$zut._uniformMatrix4fv=function(C$zut,C$zue){return C$zuu.mainContext.uniformMatrix4fv(C$zut.location,!1,C$zue),1},C$zut._uniform1i=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue?(C$zuu.mainContext.uniform1i(C$zut.location,C$zui[0]=C$zue),1):0},C$zut._uniform1iv=function(C$zut,C$zue){return C$zuu.mainContext.uniform1iv(C$zut.location,C$zue),1},C$zut._uniform_ivec2=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue[0]||C$zui[1]!==C$zue[1]?(C$zuu.mainContext.uniform2i(C$zut.location,C$zui[0]=C$zue[0],C$zui[1]=C$zue[1]),1):0},C$zut._uniform_ivec2v=function(C$zut,C$zue){return C$zuu.mainContext.uniform2iv(C$zut.location,C$zue),1},C$zut._uniform_vec3i=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue[0]||C$zui[1]!==C$zue[1]||C$zui[2]!==C$zue[2]?(C$zuu.mainContext.uniform3i(C$zut.location,C$zui[0]=C$zue[0],C$zui[1]=C$zue[1],C$zui[2]=C$zue[2]),1):0},C$zut._uniform_vec3vi=function(C$zut,C$zue){return C$zuu.mainContext.uniform3iv(C$zut.location,C$zue),1},C$zut._uniform_vec4i=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue[0]||C$zui[1]!==C$zue[1]||C$zui[2]!==C$zue[2]||C$zui[3]!==C$zue[3]?(C$zuu.mainContext.uniform4i(C$zut.location,C$zui[0]=C$zue[0],C$zui[1]=C$zue[1],C$zui[2]=C$zue[2],C$zui[3]=C$zue[3]),1):0},C$zut._uniform_vec4vi=function(C$zut,C$zue){return C$zuu.mainContext.uniform4iv(C$zut.location,C$zue),1},C$zut._uniform_sampler2D=function(C$zut,C$zue){var C$zui=C$zuu.mainContext,C$zun=C$zut.uploadedValue;return null==C$zun[0]?(C$zun[0]=this._curActTexIndex,C$zui.uniform1i(C$zut.location,this._curActTexIndex),C$zui.activeTexture($K._TEXTURES[this._curActTexIndex]),C$zuh.bindTexture(C$zui,3553,C$zue),this._curActTexIndex++,1):(C$zui.activeTexture($K._TEXTURES[C$zun[0]]),C$zuh.bindTexture(C$zui,3553,C$zue),0)},C$zut._uniform_samplerCube=function(C$zut,C$zue){var C$zui=C$zuu.mainContext,C$zun=C$zut.uploadedValue;return null==C$zun[0]?(C$zun[0]=this._curActTexIndex,C$zui.uniform1i(C$zut.location,this._curActTexIndex),C$zui.activeTexture($K._TEXTURES[this._curActTexIndex]),C$zuh.bindTexture(C$zui,34067,C$zue),this._curActTexIndex++,1):(C$zui.activeTexture($K._TEXTURES[C$zun[0]]),C$zuh.bindTexture(C$zui,34067,C$zue),0)},C$zut._noSetValue=function(C$zut){console.log("no....:"+C$zut.name)},C$zut.uploadOne=function(C$zut,C$zue){this.activeResource(),C$zuh.UseProgram(this._program);C$zut=this._paramsMap[C$zut];C$zut.fun.call(this,C$zut,C$zue)},C$zut.uploadTexture2D=function(C$zut){C$zuI.shaderCall++;var C$zue=C$zuu.mainContext;C$zue.activeTexture(33984),C$zuh.bindTexture(C$zue,3553,C$zut)},C$zut.uploadTexture2D1=function(C$zut){C$zuI.shaderCall++;var C$zue=C$zuu.mainContext;C$zue.activeTexture(33985),C$zuh.bindTexture(C$zue,3553,C$zut)},C$zut.upload=function(C$zut,C$zue){(C$zuLt.activeShader=C$zuLt.bindShader=this)._lastUseFrameCount===C$zuI.loopCount||this.activeResource(),C$zuh.UseProgram(this._program),this._reCompile?(C$zue=this._params,this._reCompile=!1):C$zue=C$zue||this._params,C$zuu.mainContext;for(var C$zui,C$zun,C$zur=C$zue.length,C$zus=0,C$zua=0;C$zua<C$zur;C$zua++)null!==(C$zun=C$zut[(C$zui=C$zue[C$zua]).name])&&(C$zus+=C$zui.fun.call(this,C$zui,C$zun));C$zuI.shaderCall+=C$zus},C$zut.uploadArray=function(C$zut,C$zue,C$zui){C$zuLt.activeShader=this,(C$zuLt.bindShader=this).activeResource(),C$zuh.UseProgram(this._program),this._params;for(var C$zun,C$zur,C$zus=0,C$zua=C$zue-2;0<=C$zua;C$zua-=2)(C$zur=this._paramsMap[C$zut[C$zua]])&&null!=(C$zun=C$zut[C$zua+1])&&(C$zui&&C$zui[C$zur.name]&&C$zui[C$zur.name].bind(),C$zus+=C$zur.fun.call(this,C$zur,C$zun));C$zuI.shaderCall+=C$zus},C$zut.getParams=function(){return this._params},$K.getShader=function(C$zut){return $K.sharders[C$zut]},$K.create=function(C$zut,C$zue,C$zui,C$zun){return new $K(C$zut,C$zue,C$zui,C$zun)},$K.withCompile=function(C$zut,C$zue,C$zui,C$zun){if(C$zui&&$K.sharders[C$zui])return $K.sharders[C$zui];var C$zur=$K._preCompileShader[2e-4*C$zut];if(!C$zur)throw new Error("withCompile shader err!"+C$zut);return C$zur.createShader(C$zue,C$zui,C$zun)},$K.withCompile2D=function(C$zut,C$zue,C$zui,C$zun,C$zur){if(C$zun&&$K.sharders[C$zun])return $K.sharders[C$zun];var C$zus=$K._preCompileShader[2e-4*C$zut+C$zue];if(!C$zus)throw new Error("withCompile shader err!"+C$zut+" "+C$zue);return C$zus.createShader(C$zui,C$zun,C$zur)},$K.addInclude=function(C$zut,C$zue){C$zuxt.addInclude(C$zut,C$zue)},$K.preCompile=function(C$zut,C$zue,C$zui,C$zun){C$zut*=2e-4;$K._preCompileShader[C$zut]=new C$zuxt(C$zut,C$zue,C$zui,C$zun)},$K.preCompile2D=function(C$zut,C$zue,C$zui,C$zun,C$zur){C$zut=2e-4*C$zut+C$zue;$K._preCompileShader[C$zut]=new C$zuxt(C$zut,C$zui,C$zun,C$zur)},$K._createShader=function(C$zut,C$zue,C$zui){C$zui=C$zut.createShader(C$zui);return C$zut.shaderSource(C$zui,C$zue),C$zut.compileShader(C$zui),C$zui},$K._TEXTURES=[33984,33985,33986,33987,33988,33989,33990,,33991,33992],$K._count=0,$K._preCompileShader={},$K.SHADERNAME2ID=2e-4,$K.sharders=(($K.sharders=[]).length=32,$K.sharders),C$zue($K,["nameKey",function(){return this.nameKey=new C$zuR}]),$K}(),C$zuKt=function(C$zut){function $p(){this._maxsize=0,this._upload=!0,this._uploadSize=0,$p.__super.call(this),this.lock=!0,this.uri="Buffer2D_"+this.id}C$zui($p,"laya.webgl.utils.Buffer2D",C$zut);var C$zue=$p.prototype;return C$zue.needSize=function(C$zut){var C$zue=this._byteLength;return C$zut&&((C$zut=this._byteLength+C$zut)<=this._buffer.byteLength||this._resizeBuffer(C$zut<<1,!0),this._byteLength=C$zut),C$zue},C$zue._bufferData=function(){this._maxsize=Math.max(this._maxsize,this._byteLength),C$zuI.loopCount%30==0&&(this._buffer.byteLength>this._maxsize+64&&(this.memorySize=this._buffer.byteLength,this._buffer=this._buffer.slice(0,this._maxsize+64),this._checkArrayUse()),this._maxsize=this._byteLength),this._uploadSize<this._buffer.byteLength&&(this._uploadSize=this._buffer.byteLength,C$zuNt._gl.bufferData(this._bufferType,this._uploadSize,this._bufferUsage),this.memorySize=this._uploadSize),C$zuNt._gl.bufferSubData(this._bufferType,0,this._buffer)},C$zue._bufferSubData=function(C$zut,C$zue,C$zui){void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0),this._maxsize=Math.max(this._maxsize,this._byteLength),C$zuI.loopCount%30==0&&(this._buffer.byteLength>this._maxsize+64&&(this.memorySize=this._buffer.byteLength,this._buffer=this._buffer.slice(0,this._maxsize+64),this._checkArrayUse()),this._maxsize=this._byteLength),this._uploadSize<this._buffer.byteLength&&(this._uploadSize=this._buffer.byteLength,C$zuNt._gl.bufferData(this._bufferType,this._uploadSize,this._bufferUsage),this.memorySize=this._uploadSize),C$zue||C$zui?(C$zue=this._buffer.slice(C$zue,C$zui),C$zuNt._gl.bufferSubData(this._bufferType,C$zut,C$zue)):C$zuNt._gl.bufferSubData(this._bufferType,C$zut,this._buffer)},C$zue._checkArrayUse=function(){},C$zue._bind_upload=function(){return!!this._upload&&(this._upload=!1,this._bind(),this._bufferData(),!0)},C$zue._bind_subUpload=function(C$zut,C$zue,C$zui){return void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0),!!this._upload&&(this._upload=!1,this._bind(),this._bufferSubData(C$zut,C$zue,C$zui),!0)},C$zue._resizeBuffer=function(C$zut,C$zue){return C$zut<this._buffer.byteLength||(this.memorySize=C$zut,C$zue&&this._buffer&&0<this._buffer.byteLength?(C$zue=new ArrayBuffer(C$zut),new Uint8Array(C$zue).set(new Uint8Array(this._buffer),0),this._buffer=C$zue):this._buffer=new ArrayBuffer(C$zut),this._checkArrayUse(),this._upload=!0),this},C$zue.append=function(C$zut){var C$zue,C$zui;this._upload=!0,C$zue=C$zut.byteLength,C$zut instanceof Uint8Array?(this._resizeBuffer(this._byteLength+C$zue,!0),C$zui=new Uint8Array(this._buffer,this._byteLength)):C$zut instanceof Uint16Array?(this._resizeBuffer(this._byteLength+C$zue,!0),C$zui=new Uint16Array(this._buffer,this._byteLength)):C$zut instanceof Float32Array&&(this._resizeBuffer(this._byteLength+C$zue,!0),C$zui=new Float32Array(this._buffer,this._byteLength)),C$zui.set(C$zut,0),this._byteLength+=C$zue,this._checkArrayUse()},C$zue.appendU16Array=function(C$zut,C$zue){this._resizeBuffer(this._byteLength+2*C$zue,!0);for(var C$zui=new Uint16Array(this._buffer,this._byteLength,C$zue),C$zun=0;C$zun<C$zue;C$zun++)C$zui[C$zun]=C$zut[C$zun];this._byteLength+=2*C$zue,this._checkArrayUse()},C$zue.appendEx=function(C$zut,C$zue){var C$zui;this._upload=!0,C$zui=C$zut.byteLength,this._resizeBuffer(this._byteLength+C$zui,!0),new C$zue(this._buffer,this._byteLength).set(C$zut,0),this._byteLength+=C$zui,this._checkArrayUse()},C$zue.appendEx2=function(C$zut,C$zue,C$zui,C$zun){var C$zur;void 0===C$zun&&(C$zun=1),this._upload=!0,this._resizeBuffer(this._byteLength+(C$zun=C$zui*C$zun),!0),C$zur=new C$zue(this._buffer,this._byteLength);var C$zus=0;for(C$zus=0;C$zus<C$zui;C$zus++)C$zur[C$zus]=C$zut[C$zus];this._byteLength+=C$zun,this._checkArrayUse()},C$zue.getBuffer=function(){return this._buffer},C$zue.setNeedUpload=function(){this._upload=!0},C$zue.getNeedUpload=function(){return this._upload},C$zue.upload=function(){var C$zut=this._bind_upload();return C$zuNt._gl.bindBuffer(this._bufferType,null),C$zuNt._bindActive[this._bufferType]=null,C$zuLt.activeShader=null,C$zut},C$zue.subUpload=function(C$zut,C$zue,C$zui){void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0);C$zut=this._bind_subUpload();return C$zuNt._gl.bindBuffer(this._bufferType,null),C$zuNt._bindActive[this._bufferType]=null,C$zuLt.activeShader=null,C$zut},C$zue.disposeResource=function(){C$zut.prototype.disposeResource.call(this),this._upload=!0,this._uploadSize=0},C$zue.clear=function(){this._byteLength=0,this._upload=!0},C$zun(0,C$zue,"bufferLength",function(){return this._buffer.byteLength}),C$zun(0,C$zue,"byteLength",null,function(C$zut){this._byteLength!==C$zut&&(C$zut<=this._buffer.byteLength||this._resizeBuffer(2*C$zut+256,!0),this._byteLength=C$zut)}),$p.__int__=function(C$zut){C$zuZt.QuadrangleIB=C$zuZt.create(35044),C$zuvt.fillIBQuadrangle(C$zuZt.QuadrangleIB,16)},$p.FLOAT32=4,$p.SHORT=2,$p}(C$zuNt),C$zuqt=(function(C$zue){function $h(C$zut){this.u_blurX=!1,this.u_color=null,this.u_offset=null,this.u_strength=NaN,this.u_texW=0,this.u_texH=0,$h.__super.call(this,9)}C$zui($h,"laya.webgl.shader.d2.value.GlowSV",C$zue);var C$zut=$h.prototype;C$zut.setValue=function(C$zut){C$zue.prototype.setValue.call(this,C$zut)},C$zut.clear=function(){C$zue.prototype.clear.call(this)}}(C$zukt),function(C$zut){function $p(C$zut){$p.__super.call(this,64),this.defines.add(64)}C$zui($p,"laya.webgl.shader.d2.value.TextSV",C$zut);var C$zue=$p.prototype;return C$zue.release=function(){($p.pool[$p._length++]=this).clear()},C$zue.clear=function(){C$zut.prototype.clear.call(this)},$p.create=function(){return $p._length?$p.pool[--$p._length]:new $p},$p.pool=[],$p._length=0,$p}(C$zukt)),C$zujt=function(C$zut){function $L(C$zut,C$zue,C$zui,C$zun){this._params2dQuick1=null,this._params2dQuick2=null,this._shaderValueWidth=NaN,this._shaderValueHeight=NaN,$L.__super.call(this,C$zut,C$zue,C$zui,C$zun)}C$zui($L,"laya.webgl.shader.d2.Shader2X",C$zut);var C$zue=$L.prototype;return C$zue.upload2dQuick1=function(C$zut){this.upload(C$zut,this._params2dQuick1||this._make2dQuick1())},C$zue._make2dQuick1=function(){if(!this._params2dQuick1){this.activeResource(),this._params2dQuick1=[];for(var C$zut,C$zue=this._params,C$zui=0,C$zun=C$zue.length;C$zui<C$zun;C$zui++)C$zut=C$zue[C$zui],(C$zuM.isFlash||"size"!==C$zut.name&&"position"!==C$zut.name&&"texcoord"!==C$zut.name)&&this._params2dQuick1.push(C$zut)}return this._params2dQuick1},C$zue.disposeResource=function(){C$zut.prototype.disposeResource.call(this),this._params2dQuick1=null,this._params2dQuick2=null},C$zue.upload2dQuick2=function(C$zut){this.upload(C$zut,this._params2dQuick2||this._make2dQuick2())},C$zue._make2dQuick2=function(){if(!this._params2dQuick2){this.activeResource(),this._params2dQuick2=[];for(var C$zut,C$zue=this._params,C$zui=0,C$zun=C$zue.length;C$zui<C$zun;C$zui++)C$zut=C$zue[C$zui],!C$zuM.isFlash&&"size"===C$zut.name||this._params2dQuick2.push(C$zut)}return this._params2dQuick2},$L.create=function(C$zut,C$zue,C$zui,C$zun){return new $L(C$zut,C$zue,C$zui,C$zun)},$L}(C$zuXt),C$zuZt=function(){function $p(C$zut){this._uint8Array=null,this._uint16Array=null,void 0===C$zut&&(C$zut=35044),$p.__super.call(this),this._bufferUsage=C$zut,this._bufferType=34963,C$zuM.isFlash||(this._buffer=new ArrayBuffer(8))}C$zui($p,"laya.webgl.utils.IndexBuffer2D",C$zuKt);var C$zut=$p.prototype;return C$zut._checkArrayUse=function(){this._uint8Array&&(this._uint8Array=new Uint8Array(this._buffer)),this._uint16Array&&(this._uint16Array=new Uint16Array(this._buffer))},C$zut.getUint8Array=function(){return this._uint8Array||(this._uint8Array=new Uint8Array(this._buffer))},C$zut.getUint16Array=function(){return this._uint16Array||(this._uint16Array=new Uint16Array(this._buffer))},C$zut.destory=function(){this._uint16Array=null,this._uint8Array=null,this._buffer=null},$p.QuadrangleIB=null,$p.create=function(C$zut){return new $p(C$zut=void 0===C$zut?35044:C$zut)},$p}(),C$zuQt=function(C$zut){function $h(C$zut,C$zue){this._floatArray32=null,this._vertexStride=0,$h.__super.call(this),this._vertexStride=C$zut,this._bufferUsage=C$zue,this._bufferType=34962,C$zuM.isFlash||(this._buffer=new ArrayBuffer(8)),this.getFloat32Array()}C$zui($h,"laya.webgl.utils.VertexBuffer2D",C$zut);var C$zue=$h.prototype;return C$zue.getFloat32Array=function(){return this._floatArray32||(this._floatArray32=new Float32Array(this._buffer))},C$zue.bind=function(C$zut){C$zut&&C$zut._bind(),this._bind()},C$zue.insertData=function(C$zut,C$zue){this.getFloat32Array().set(C$zut,C$zue),this._upload=!0},C$zue.bind_upload=function(C$zut){C$zut._bind_upload()||C$zut._bind(),this._bind_upload()||this._bind()},C$zue._checkArrayUse=function(){this._floatArray32&&(this._floatArray32=new Float32Array(this._buffer))},C$zue.disposeResource=function(){C$zut.prototype.disposeResource.call(this)},C$zue.destory=function(){this._byteLength=0,this._upload=!0,this._buffer=null,this._floatArray32=null},C$zun(0,C$zue,"vertexStride",function(){return this._vertexStride}),$h.create=function(C$zut,C$zue){return new $h(C$zut,C$zue=void 0===C$zue?35048:C$zue)},$h}(C$zuKt),C$zuJt=function(){function $Y(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){if(this._format=0,this._mipmap=!1,this._allowMerageInAtlas=!1,this._enableMerageInAtlas=!1,this.repeat=!1,this._image=null,this.minFifter=0,void(this.magFifter=0)===C$zui&&(C$zui=6408),void 0===C$zun&&(C$zun=!0),$Y.__super.call(this,C$zut,C$zue),C$zut){if(this._format=C$zui,this._mipmap=C$zun,this.repeat=!1,this.minFifter=-1,this.magFifter=-1,"string"==typeof C$zut)this._url=C$zut,this._src=C$zut,this._image=new C$zuo.window.Image,C$zue&&(C$zue.onload&&(this.onload=C$zue.onload),C$zue.onerror&&(this.onerror=C$zue.onerror),C$zue.onCreate&&C$zue.onCreate(this)),this._image.crossOrigin=C$zut&&0==C$zut.indexOf("data:")?null:"",C$zut&&(this._image.src=C$zut);else if(C$zut instanceof ArrayBuffer){this._src=C$zue,this._url=this._src;C$zun=new C$zua(C$zut);C$zun.readUTFBytes(4),C$zun.readUTFBytes(2),C$zun.getInt16(),C$zun.endian="bigEndian",this._w=C$zun.getInt16(),this._h=C$zun.getInt16(),C$zun.getInt16(),C$zun.getInt16(),this._image=new Uint8Array(C$zut,C$zun.pos),this._format=C$zuu.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL,C$zuH.enabled&&this._w<C$zuH.atlasLimitWidth&&this._h<C$zuH.atlasLimitHeight?this._allowMerageInAtlas=!0:this._allowMerageInAtlas=!1}else{if(!(C$zut instanceof Uint8Array))return this._src=C$zue,this._url=this._src,this._image=C$zut.source||C$zut,this._$5__enableMerageInAtlas=!1,void this.onresize();this._src=C$zue,this._url=this._src,this._w=C$zur,this._h=C$zus,this._image=C$zut,this._format=0===C$zui?C$zut.byteLength/(C$zur*C$zus)==4?6408:6407:C$zui}this._$5__enableMerageInAtlas=!0}}C$zui($Y,"laya.webgl.resource.WebGLImage",C$zu$);var C$zut=$Y.prototype;return C$zug.imps(C$zut,{"laya.webgl.resource.IMergeAtlasBitmap":!0}),C$zut._init_=function(C$zut,C$zue){},C$zut._createWebGlTexture=function(){if(!this._image)throw"create GLTextur err:no data:"+this._image;var C$zut=C$zuu.mainContext,C$zue=this._source=C$zut.createTexture(),C$zui=C$zuh.curBindTexTarget,C$zun=C$zuh.curBindTexValue;C$zuh.bindTexture(C$zut,3553,C$zue);var C$zue=this.minFifter,C$zur=this.magFifter,C$zus=this.repeat?10497:33071,C$zua=C$zuc.isPOT(this._w,this._h),C$zuo=!1;switch(C$zua?(this.mipmap?-1!==C$zue||(C$zue=9987):-1!==C$zue||(C$zue=9729),-1!==C$zur||(C$zur=9729),C$zut.texParameteri(3553,10241,C$zue),C$zut.texParameteri(3553,10240,C$zur),C$zut.texParameteri(3553,10242,C$zus),C$zut.texParameteri(3553,10243,C$zus),this.mipmap&&C$zut.generateMipmap(3553)):(-1!==C$zur||(C$zur=9729),C$zut.texParameteri(3553,10241,C$zue=-1!==C$zue?C$zue:9729),C$zut.texParameteri(3553,10240,C$zur),C$zut.texParameteri(3553,10242,33071),C$zut.texParameteri(3553,10243,33071)),C$zut.pixelStorei(37441,!0),this._format){case 6407:case 6408:this._image instanceof Uint8Array?(6407==this._format&&C$zut.pixelStorei(C$zut.UNPACK_ALIGNMENT,1),C$zut.texImage2D(3553,0,this._format,this._w,this._h,0,this._format,5121,this._image)):(6407==this._format&&C$zut.pixelStorei(C$zut.UNPACK_ALIGNMENT,1),C$zut.texImage2D(3553,0,this._format,this._format,5121,this._image));break;case 6406:C$zuo=!0,C$zut.texImage2D(3553,0,this._format,this._w,this._h,0,this._format,5121,this._image);break;case 35840:case 35841:case 35842:case 35843:case 33779:case 37815:case 37812:case 37821:case C$zuu.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:C$zuo=!0,C$zut.compressedTexImage2D(3553,0,this._format,this._w,this._h,0,this._image);break;default:console.error("\u6536\u5230\u5176\u4ed6\u7684\u7eb9\u7406\u7c7b\u578b\uff1a",this._format)}C$zut.pixelStorei(37441,!1),C$zui&&C$zun&&C$zuh.bindTexture(C$zut,C$zui,C$zun),this.uri||(this.uri=this._url),C$zuo?this.memorySize=this._image.length:C$zua&&this.mipmap?this.memorySize=this._w*this._h*4*(1+1/3):this.memorySize=this._w*this._h*4,this._image.onload=null,this._image=null,this._recreateLock=!1},C$zut.recreateResource=function(){var C$zut=this;var C$zue;(this._image||null!=this._src&&""!==this._src)&&(this._needReleaseAgain=!1,this._image?this._recreateLock||(this._allowMerageInAtlas&&this._$5__enableMerageInAtlas?(this.memorySize=0,this._recreateLock=!1):this._createWebGlTexture(),this.completeCreate()):(this._recreateLock=!0,(C$zue=this)._image=new C$zuo.window.Image,this._image.crossOrigin=0==this._src.indexOf("data:")?null:"",this._image.onload=function(){if(C$zue._needReleaseAgain)return C$zue._needReleaseAgain=!1,C$zue._image.onload=null,void(C$zue._image=null);C$zue._allowMerageInAtlas&&C$zue._enableMerageInAtlas?(C$zut.memorySize=0,C$zut._recreateLock=!1):C$zue._createWebGlTexture(),C$zue.completeCreate()},this._image.src=this._src))},C$zut.disposeResource=function(){this._recreateLock&&(this._needReleaseAgain=!0),this._source&&C$zuu.mainContext.deleteTexture(this._source),this._source=null,this._image=null,this.memorySize=0},C$zut.onresize=function(){this._w=this._image.width,this._h=this._image.height,C$zuH.enabled&&this._w<C$zuH.atlasLimitWidth&&this._h<C$zuH.atlasLimitHeight?this._allowMerageInAtlas=!0:this._allowMerageInAtlas=!1},C$zut.clearAtlasSource=function(){this._image=null},C$zun(0,C$zut,"format",function(){return this._format}),C$zun(0,C$zut,"enableMerageInAtlas",function(){return this._$5__enableMerageInAtlas},function(C$zut){this._$5__enableMerageInAtlas=C$zut}),C$zun(0,C$zut,"mipmap",function(){return this._mipmap}),C$zun(0,C$zut,"allowMerageInAtlas",function(){return this._allowMerageInAtlas}),C$zun(0,C$zut,"atlasSource",function(){return this._image}),C$zun(0,C$zut,"onload",null,function(C$zut){var C$zue=this;this._onload=C$zut,this._image&&(this._image.onload=null!=this._onload?function(){C$zue.onresize(),C$zue._onload()}:null)}),C$zun(0,C$zut,"onerror",null,function(C$zut){var C$zue=this;this._onerror=C$zut,this._image&&(this._image.onerror=null!=this._onerror?function(){C$zue._onerror()}:null)}),$Y}();function $D(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh){this._type=0,this._svWidth=NaN,this._svHeight=NaN,this._preRenderTarget=null,this._alreadyResolved=!1,this._looked=!1,this._surfaceFormat=0,this._surfaceType=0,this._depthStencilFormat=0,this._mipMap=!1,this._repeat=!1,this._minFifter=0,this._magFifter=0,this._destroy=!1,void 0===C$zui&&(C$zui=6408),void 0===C$zun&&(C$zun=5121),void 0===C$zur&&(C$zur=34041),void 0===C$zus&&(C$zus=!1),void 0===C$zua&&(C$zua=!1),void 0===C$zuo&&(C$zuo=-1),void 0===C$zuh&&(C$zuh=-1),this._type=1,this._w=C$zut,this._h=C$zue,this._surfaceFormat=C$zui,this._surfaceType=C$zun,this._depthStencilFormat=C$zur,C$zuM.isConchWebGL&&34041===this._depthStencilFormat&&(this._depthStencilFormat=33189),this._mipMap=C$zus,this._repeat=C$zua,this._minFifter=C$zuo,this._magFifter=C$zuh,this._createWebGLRenderTarget(),this.bitmap.lock=!0,$D.__super.call(this,this.bitmap,C$zuN.INV_UV)}var C$zute;function $K(C$zut){this._preIsSameTextureShader=!1,this._isSameTexture=!0,this._texs=new Array,this._texsID=new Array,this._vbPos=new Array,$K.__super.call(this,C$zut=void 0===C$zut?1e4:C$zut)}function $n(C$zut,C$zue){$n.__super.call(this,C$zut,C$zue)}function $X(C$zut){this._x=0,this._y=0,this._id=++$X._COUNT,this._path=null,this._drawCount=1,this._maxNumEle=0,this._clear=!1,this._isMain=!1,this._atlasResourceChange=0,this._submits=null,this._curSubmit=null,this._ib=null,this._vb=null,this._nBlendType=0,this._saveMark=null,this._shader2D=null,this.meshlist=[],this.mId=-1,this.mHaveKey=!1,this.mHaveLineKey=!1,this.mX=0,this.mY=0,$X.__super.call(this),this._width=99999999,this._height=99999999,this._clipRect=$X.MAXCLIPRECT,this.mOutPoint,this._canvas=C$zut,this._canvas._addReference(),$X._contextcount++,C$zuM.isFlash?(this._ib=C$zuZt.create(35044),C$zuvt.fillIBQuadrangle(this._ib,16)):this._ib=C$zuZt.QuadrangleIB,this.clear()}var C$zuee;function $a(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=this;function $k(C$zut){var C$zue=[],C$zui=new C$zuie(C$zue);return C$zus._compileToTree(C$zui,C$zut.split("\n"),0,C$zue,C$zur),C$zui}var C$zua=C$zuo.now();this._VS=$k(C$zue),this._PS=$k(C$zui),this._nameMap=C$zun,2<C$zuo.now()-C$zua&&console.log("ShaderCompile use time:"+(C$zuo.now()-C$zua)+"  size:"+C$zue.length+"/"+C$zui.length)}var C$zuie,C$zune;function $A(){}function $M(){}var C$zure;function $F(){this.offset=0,this.startIndex=0,this._mat=C$zub.create()}function $d(C$zut){this._renderType=C$zut=void 0===C$zut?1e4:C$zut}function $B(){}function $k(){this.mVBBuffer=null,this.mIBBuffer=null,this.mVBData=null,this.mIBData=null,this.mEleNum=0,this.mTexture=null,this.transform=null,this._vs=null,this._ps=null,this._indexStart=-1,this._verticles=null,this._uvs=null,this._tempMatrix=new C$zub}function $L(){}function $P(){this._saveuse=0}function $$(){this._contextX=0,this._contextY=0,this._clipRect=new C$zuw,this._rect=new C$zuw,this._matrix=new C$zub}function $q(){this._clipRect=new C$zuw}function $Y(){}function $h(C$zut){this._color=C$zud.create("black"),this.setValue(C$zut)}function $p(){}function $c(C$zut,C$zue,C$zui,C$zun){this._currentAtlasCount=0,this._maxAtlaserCount=0,this._width=0,this._height=0,this._gridSize=0,this._gridNumX=0,this._gridNumY=0,this._init=!1,this._curAtlasIndex=0,this._setAtlasParam=!1,this._atlaserArray=null,this._needGC=!1,this._setAtlasParam=!0,this._width=C$zut,this._height=C$zue,this._gridSize=C$zui,this._maxAtlaserCount=C$zun,this._gridNumX=C$zut/C$zui,this._gridNumY=C$zue/C$zui,this._curAtlasIndex=0,this._atlaserArray=[]}function $m(){}var C$zut;C$zug.__init([C$zupt,C$zuU,C$zubt,C$zuxt])}((window,document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$zut,C$zue){"use strict";for(var C$zui in Object.defineProperty(C$zue,"__esModule",{value:!0}),Laya){var C$zun=Laya[C$zui];C$zun&&C$zun.__isclass&&(C$zue[C$zui]=C$zun)}}),function(C$zuo,C$zui){C$zui.un,C$zui.uns;var C$zue=C$zui.static,C$zun=C$zui.class,C$zur=C$zui.getset,C$zuh=(C$zui.__newvec,laya.utils.Browser,laya.display.css.CSSStyle),C$zu_=laya.utils.ClassUtils,C$zuc=(laya.events.Event,laya.utils.HTMLChar),C$zus=laya.net.Loader,C$zul=(laya.display.Node,laya.maths.Rectangle),C$zud=laya.renders.Render,C$zuu=(laya.renders.RenderContext,laya.renders.RenderSprite,laya.display.Sprite),C$zuf=laya.utils.Stat,C$zuA=laya.display.Text,C$zup=laya.resource.Texture,C$zum=laya.net.URL,C$zug=laya.utils.Utils,C$zuv=(C$zun($$,"laya.html.utils.HTMLParse"),$$.parse=function(C$zut,C$zue,C$zui){C$zue=(C$zue="<root>"+C$zue.replace(/<br>/g,"<br/>")+"</root>").replace($$.spacePattern,$$.char255);C$zue=C$zug.parseXMLFromString(C$zue);$$._parseXML(C$zut,C$zue.childNodes[0].childNodes,C$zui)},$$._parseXML=function(C$zut,C$zue,C$zui,C$zun){var C$zur=0,C$zus=0;var C$zua,C$zuo,C$zuh;if(C$zue.join||C$zue.item)for(C$zur=0,C$zus=C$zue.length;C$zur<C$zus;++C$zur)$$._parseXML(C$zut,C$zue[C$zur],C$zui,C$zun);else if(3!=C$zue.nodeType){if("#comment"!=(C$zuo=C$zue.nodeName.toLowerCase()))if(C$zua=C$zu_.getInstance(C$zuo)){(C$zua=C$zut.addChild(C$zua)).URI=C$zui,C$zua.href=C$zun;var C$zul=C$zue.attributes;if(C$zul&&0<C$zul.length)for(C$zur=0,C$zus=C$zul.length;C$zur<C$zus;++C$zur){var C$zuu=C$zul[C$zur],C$zuc=C$zuu.nodeName,C$zuu=C$zuu.value;C$zua._setAttributes(C$zuc,C$zuu)}$$._parseXML(C$zua,C$zue.childNodes,C$zui,C$zua.href)}else $$._parseXML(C$zut,C$zue.childNodes,C$zui,C$zun)}else C$zut instanceof laya.html.dom.HTMLDivElement?(null==C$zue.nodeName&&(C$zue.nodeName="#text"),C$zuo=C$zue.nodeName.toLowerCase(),0<(C$zuh=C$zue.textContent.replace(/^\s+|\s+$/g,"")).length&&(C$zua=C$zu_.getInstance(C$zuo))&&(C$zut.addChild(C$zua),C$zua.innerTEXT=C$zuh.replace($$.char255AndOneSpacePattern," "))):0<(C$zuh=C$zue.textContent.replace(/^\s+|\s+$/g,"")).length&&(C$zut.innerTEXT=C$zuh.replace($$.char255AndOneSpacePattern," "))},$$.char255=String.fromCharCode(255),$$.spacePattern=/&nbsp;|&#160;/g,$$.char255AndOneSpacePattern=new RegExp(String.fromCharCode(255)+"|(\\s+)","g"),$$),C$zu$=(C$zun($_,"laya.html.utils.Layout"),$_.later=function(C$zut){null==$_._will&&($_._will=[],C$zui.stage.frameLoop(1,null,function(){if(!($_._will.length<1)){for(var C$zut=0;C$zut<$_._will.length;C$zut++)laya.html.utils.Layout.layout($_._will[C$zut]);$_._will.length=0}})),$_._will.push(C$zut)},$_.layout=function(C$zut){if(!C$zut||!C$zut._style)return null;if(0==(512&C$zut._style._type))return null;C$zut.getStyle()._type&=-513;var C$zue=$_._multiLineLayout(C$zut);return C$zud.isConchApp&&C$zut.layaoutCallNative&&C$zut.layaoutCallNative(),C$zue},$_._multiLineLayout=function(C$zut){if(C$zuA.RightToLeft)return $_._multiLineLayout2(C$zut);var C$zuu=new Array;C$zut._addChildsToLayout(C$zuu);var C$zue,C$zuc,C$zui,C$zun=0,C$zu_=C$zuu.length,C$zur=C$zut._getCSSStyle(),C$zud=C$zur.letterSpacing,C$zuf=C$zur.leading,C$zup=C$zur.lineHeight,C$zum=C$zur._widthAuto()||!C$zur.wordWrap,C$zug=C$zum?999999:C$zut.width,C$zuv=(C$zut.height,0),C$zu$=C$zur.italic?C$zur.fontSize/3:0,C$zux=C$zur._getAlign(),C$zuy=C$zur._getValign(),C$zub=0!==C$zuy||0!==C$zux||0!=C$zup,C$zus=0,C$zua=0,C$zuT=0,C$zuw=0,C$zuM=new Array,C$zuo=C$zuM[0]=new C$zuI,C$zuh=!1,C$zuS=!1;C$zuo.h=0,C$zur.italic&&(C$zug-=C$zur.fontSize/3);var C$zuC=0,C$zuD=!0;function $M(){C$zuo.y=C$zua,C$zua+=C$zuo.h+C$zuf,0==C$zuo.h&&(C$zua+=C$zup),C$zuo.mWidth=C$zuC,C$zuC=0,C$zuo=new C$zuI,C$zuM.push(C$zuo),C$zuo.h=0,C$zuh=!(C$zuD=!(C$zus=0))}for(C$zun=0;C$zun<C$zu_;C$zun++)if(null!=(C$zue=C$zuu[C$zun]))if(C$zuD=!1,C$zue instanceof laya.html.dom.HTMLBrElement)$M(),C$zuo.y=C$zua;else{if(C$zue._isChar()){if((C$zui=C$zue).isWord)C$zuh=C$zuS||"\n"===C$zui.char,C$zuo.wordStartIndex=C$zuo.elements.length;else{if(C$zuT=C$zui.width+C$zui.style.letterSpacin,0<C$zuM.length&&C$zug<C$zus+C$zuT&&0<C$zuo.wordStartIndex){var C$zul;C$zul=C$zuo.elements.length-C$zuo.wordStartIndex+1,C$zuo.elements.length=C$zuo.wordStartIndex,C$zun-=C$zul,$M();continue}C$zuh=!1,C$zuC+=C$zui.width}C$zuT=C$zui.width+C$zud,C$zuw=C$zui.height,C$zuS=!1,(C$zuh=C$zuh||C$zug<C$zus+C$zuT)&&$M(),C$zuo.minTextHeight=Math.min(C$zuo.minTextHeight,C$zue.height)}else C$zul=C$zue._getCSSStyle(),C$zui=C$zue,C$zuc=C$zul.padding,0===C$zul._getCssFloat()||(C$zub=!0),C$zuh=C$zuS||C$zul.lineElement,C$zuT=C$zui.width*C$zui._style._tf.scaleX+C$zuc[1]+C$zuc[3]+C$zud,C$zuw=C$zui.height*C$zui._style._tf.scaleY+C$zuc[0]+C$zuc[2],C$zuS=C$zul.lineElement,(C$zuh=C$zuh||C$zug<C$zus+C$zuT&&C$zul.wordWrap)&&$M();C$zuo.elements.push(C$zue),C$zuo.h=Math.max(C$zuo.h,C$zuw),C$zue.x=C$zus,C$zue.y=C$zua,C$zus+=C$zuT,C$zuo.w=C$zus-C$zud,C$zuo.y=C$zua,C$zuv=Math.max(C$zus+C$zu$,C$zuv)}else C$zuD||(C$zus+=$_.DIV_ELEMENT_PADDING),C$zuo.wordStartIndex=C$zuo.elements.length;if(C$zua=C$zuo.y+C$zuo.h,C$zub){var C$zuE=0,C$zuP=C$zug;for(C$zum&&0<C$zut.width&&(C$zuP=C$zut.width),C$zun=0,C$zu_=C$zuM.length;C$zun<C$zu_;C$zun++)C$zuM[C$zun].updatePos(0,C$zuP,C$zun,C$zuE,C$zux,C$zuy,C$zup),C$zuE+=Math.max(C$zup,C$zuM[C$zun].h+C$zuf);C$zua=C$zuE}return C$zum&&(C$zut.width=C$zuv),C$zua>C$zut.height&&(C$zut.height=C$zua),[C$zuv,C$zua]},$_._multiLineLayout2=function(C$zuu){var C$zuc=new Array;C$zuu._addChildsToLayout(C$zuc);var C$zut,C$zu_,C$zue,C$zui=0,C$zud=C$zuc.length,C$zun=C$zuu._getCSSStyle(),C$zuf=C$zun.letterSpacing,C$zup=C$zun.leading,C$zum=C$zun.lineHeight,C$zug=C$zun._widthAuto()||!C$zun.wordWrap,C$zuv=C$zug?999999:C$zuu.width,C$zu$=(C$zuu.height,0),C$zux=C$zun.italic?C$zun.fontSize/3:0,C$zuy=2-C$zun._getAlign(),C$zub=C$zun._getValign(),C$zuT=0!==C$zub||0!=C$zuy||0!=C$zum,C$zur=0,C$zus=0,C$zuw=0,C$zuM=0,C$zua=new Array,C$zuo=C$zua[0]=new C$zuI,C$zuh=!1,C$zuS=!1;C$zuo.h=0,C$zun.italic&&(C$zuv-=C$zun.fontSize/3);var C$zuC=0,C$zuD=!0;function $M(){C$zuo.y=C$zus,C$zus+=C$zuo.h+C$zup,0==C$zuo.h&&(C$zus+=C$zum),C$zuo.mWidth=C$zuC,C$zuC=0,C$zuo=new C$zuI,C$zua.push(C$zuo),C$zuo.h=0,C$zuh=!(C$zuD=!(C$zur=0))}for(C$zui=0;C$zui<C$zud;C$zui++)if(null!=(C$zut=C$zuc[C$zui]))if(C$zuD=!1,C$zut instanceof laya.html.dom.HTMLBrElement)$M(),C$zuo.y=C$zus;else{if(C$zut._isChar()){if((C$zue=C$zut).isWord)C$zuh=C$zuS||"\n"===C$zue.char,C$zuo.wordStartIndex=C$zuo.elements.length;else{if(0<C$zua.length&&C$zuv<C$zur+C$zuw&&0<C$zuo.wordStartIndex){var C$zul;C$zul=C$zuo.elements.length-C$zuo.wordStartIndex+1,C$zuo.elements.length=C$zuo.wordStartIndex,C$zui-=C$zul,$M();continue}C$zuh=!1,C$zuC+=C$zue.width}C$zuw=C$zue.width+C$zuf,C$zuM=C$zue.height,C$zuS=!1,(C$zuh=C$zuh||C$zuv<C$zur+C$zuw)&&$M(),C$zuo.minTextHeight=Math.min(C$zuo.minTextHeight,C$zut.height)}else C$zul=C$zut._getCSSStyle(),C$zue=C$zut,C$zu_=C$zul.padding,0===C$zul._getCssFloat()||(C$zuT=!0),C$zuh=C$zuS||C$zul.lineElement,C$zuw=C$zue.width*C$zue._style._tf.scaleX+C$zu_[1]+C$zu_[3]+C$zuf,C$zuM=C$zue.height*C$zue._style._tf.scaleY+C$zu_[0]+C$zu_[2],C$zuS=C$zul.lineElement,(C$zuh=C$zuh||C$zuv<C$zur+C$zuw&&C$zul.wordWrap)&&$M();C$zuo.elements.push(C$zut),C$zuo.h=Math.max(C$zuo.h,C$zuM),C$zut.x=C$zur,C$zut.y=C$zus,C$zur+=C$zuw,C$zuo.w=C$zur-C$zuf,C$zuo.y=C$zus,C$zu$=Math.max(C$zur+C$zux,C$zu$)}else C$zuD||(C$zur+=$_.DIV_ELEMENT_PADDING),C$zuo.wordStartIndex=C$zuo.elements.length;if(C$zus=C$zuo.y+C$zuo.h,C$zuT){var C$zuE=0,C$zuP=C$zuv;for(C$zui=0,C$zud=C$zua.length;C$zui<C$zud;C$zui++)C$zua[C$zui].updatePos(0,C$zuP,C$zui,C$zuE,C$zuy,C$zub,C$zum),C$zuE+=Math.max(C$zum,C$zua[C$zui].h+C$zup);C$zus=C$zuE}for(C$zug&&(C$zuu.width=C$zu$),C$zus>C$zuu.height&&(C$zuu.height=C$zus),C$zui=0,C$zud=C$zua.length;C$zui<C$zud;C$zui++)C$zua[C$zui].revertOrder(C$zuv);return[C$zu$,C$zus]},$_._will=null,$_.DIV_ELEMENT_PADDING=0,$_),C$zuI=(C$zun($m,"laya.html.utils.LayoutLine"),(C$zut=$m.prototype).updatePos=function(C$zuu,C$zut,C$zuc,C$zue,C$zui,C$zun,C$zur){var C$zus,C$zua=0;0<this.elements.length&&(C$zua=(C$zus=this.elements[this.elements.length-1]).x+C$zus.width-this.elements[0].x);var C$zuo=0,C$zu_=NaN;1===C$zui&&(C$zuo=(C$zut-C$zua)/2),2===C$zui&&(C$zuo=C$zut-C$zua),0===C$zur||0!=C$zun||(C$zun=1);for(var C$zuh=0,C$zud=this.elements.length;C$zuh<C$zud;C$zuh++){var C$zuf=(C$zus=this.elements[C$zuh])._getCSSStyle();switch(0!==C$zuo&&(C$zus.x+=C$zuo),C$zuf._getValign()){case 0:C$zus.y=C$zue;break;case 1:var C$zul=0;C$zul=((C$zul=99999!=this.minTextHeight?this.minTextHeight:C$zul)+C$zur)/2;C$zul=Math.max(C$zul,this.h),laya.html.dom.HTMLImageElement,C$zu_=C$zue+C$zul-C$zus.height,C$zus.y=C$zu_;break;case 2:C$zus.y=C$zue+(C$zur-C$zus.height)}}},C$zut.revertOrder=function(C$zut){var C$zue;if(0<this.elements.length){var C$zui,C$zun=0;for(C$zui=this.elements.length,C$zun=0;C$zun<C$zui;C$zun++)(C$zue=this.elements[C$zun]).x=C$zut-C$zue.x-C$zue.width}},$m),C$zua=(C$zun($p,"laya.html.dom.HTMLElement",C$zuy=C$zuu),(C$zut=$p.prototype).layaoutCallNative=function(){var C$zut=0;if(this._childs&&0<(C$zut=this._childs.length))for(var C$zue=0;C$zue<C$zut;C$zue++)this._childs[C$zue].layaoutCallNative&&this._childs[C$zue].layaoutCallNative();var C$zui=this._getWords();C$zui?laya.html.dom.HTMLElement.fillWords(this,C$zui,0,0,this.style.font,this.style.color,this.style.underLine):this.graphics.clear()},C$zut.appendChild=function(C$zut){return this.addChild(C$zut)},C$zut._getWords2=function(){var C$zut=this._text.text;if(!C$zut||0===C$zut.length)return null;var C$zue,C$zui,C$zun=0,C$zur=0;if(this._text.drawWords)C$zui=this._text.drawWords;else{for(C$zur=(C$zue=C$zut.split(" ")).length-1,C$zui=[],C$zun=0;C$zun<C$zur;C$zun++)C$zui.push(C$zue[C$zun]," ");0<=C$zur&&C$zui.push(C$zue[C$zur]),this._text.drawWords=C$zui}var C$zus=this._text.words;if(C$zus&&C$zus.length===C$zui.length)return C$zus;null===C$zus&&(this._text.words=C$zus=[]),C$zus.length=C$zui.length;var C$zua=this.style,C$zuo=C$zua.font;for(C$zun=0,C$zur=C$zui.length;C$zun<C$zur;C$zun++){C$zuh=C$zug.measureText(C$zui[C$zun],C$zuo);var C$zuh=C$zus[C$zun]=new C$zuc(C$zui[C$zun],C$zuh.width,C$zuh.height||C$zua.fontSize,C$zua);var C$zul;1<C$zuh.char.length&&(C$zuh.charNum=C$zuh.char),this.href&&(C$zul=new C$zuu,this.addChild(C$zul),C$zuh.setSprite(C$zul))}return C$zus},C$zut._getWords=function(){if(!C$zuA.CharacterCache)return this._getWords2();var C$zut=this._text.text;if(!C$zut||0===C$zut.length)return null;var C$zue=this._text.words;if(C$zue&&C$zue.length===C$zut.length)return C$zue;null===C$zue&&(this._text.words=C$zue=[]),C$zue.length=C$zut.length;for(var C$zui=this.style,C$zun=C$zui.font,C$zur=0,C$zus=C$zut.length;C$zur<C$zus;C$zur++){var C$zua,C$zuo;(C$zua=C$zug.measureText(C$zut.charAt(C$zur),C$zun))?(C$zua=C$zue[C$zur]=new C$zuc(C$zut.charAt(C$zur),C$zua.width,C$zua.height||C$zui.fontSize,C$zui),this.href&&(C$zuo=new C$zuu,this.addChild(C$zuo),C$zua.setSprite(C$zuo))):console.warn("_getWords size is null"+C$zut.charAt(C$zur),C$zun)}return C$zue},C$zut.showLinkSprite=function(){var C$zut=this._text.words;if(C$zut)for(var C$zue,C$zui,C$zun=[],C$zur=0;C$zur<C$zut.length;C$zur++)C$zui=C$zut[C$zur],(C$zue=new C$zuu).graphics.drawRect(0,0,C$zui.width,C$zui.height,"#ff0000"),C$zue.width=C$zui.width,C$zue.height=C$zui.height,this.addChild(C$zue),C$zun.push(C$zue)},C$zut._layoutLater=function(){var C$zut=this.style;512&C$zut._type||(C$zut.widthed(this)&&(0<this._childs.length||null!=this._getWords())&&C$zut.block?(C$zu$.later(this),C$zut._type|=512):this.parent&&this.parent._layoutLater())},C$zut._setAttributes=function(C$zut,C$zue){switch(C$zut){case"style":return void this.style.cssText(C$zue);case"class":return void(this.className=C$zue)}C$zuy.prototype._setAttributes.call(this,C$zut,C$zue)},C$zut.updateHref=function(){if(null!=this._href){var C$zut=this._getWords();if(C$zut)for(var C$zue,C$zui,C$zun=0;C$zun<C$zut.length;C$zun++)(C$zui=(C$zue=C$zut[C$zun]).getSprite())&&(C$zui.size(C$zue.width,C$zue.height),C$zui.on("click",this,this.onLinkHandler))}},C$zut.onLinkHandler=function(C$zut){if("click"===C$zut.type)for(var C$zue=this;C$zue;)C$zue.event("link",[this.href]),C$zue=C$zue.parent},C$zut.formatURL=function(C$zut){return this.URI?C$zum.formatURL(C$zut,this.URI?this.URI.path:null):C$zut},C$zur(0,C$zut,"href",function(){return this._href},function(C$zut){null!=(this._href=C$zut)&&(this._getCSSStyle().underLine=1,this.updateHref())}),C$zur(0,C$zut,"color",null,function(C$zut){this.style.color=C$zut}),C$zur(0,C$zut,"onClick",null,function(C$zut){C$zui._runScript("fn=function(event){"+C$zut+";}"),this.on("click",this,void 0)}),C$zur(0,C$zut,"id",null,function(C$zut){C$zux.document.setElementById(C$zut,this)}),C$zur(0,C$zut,"innerTEXT",function(){return this._text.text},function(C$zut){this.text=C$zut}),C$zur(0,C$zut,"style",function(){return this._style}),C$zur(0,C$zut,"text",function(){return this._text.text},function(C$zut){this._text==$p._EMPTYTEXT?this._text={text:C$zut,words:null}:(this._text.text=C$zut,this._text.words&&(this._text.words.length=0)),C$zud.isConchApp&&this.layaoutCallNative(),this._renderType|=2048,this.repaint(),this.updateHref()}),C$zur(0,C$zut,"parent",C$zuy.prototype._$get_parent,function(C$zut){var C$zue;C$zut instanceof laya.html.dom.HTMLElement&&(C$zue=C$zut,this.URI||(this.URI=C$zue.URI),this.style.inherit(C$zue.style)),C$zui.superSet(C$zuu,this,"parent",C$zut)}),C$zur(0,C$zut,"className",null,function(C$zut){this.style.attrs(C$zux.document.styleSheets["."+C$zut])}),$p.fillWords=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){C$zut.graphics.clear();for(var C$zuo=0,C$zuh=C$zue.length;C$zuo<C$zuh;C$zuo++){var C$zul=C$zue[C$zuo];C$zut.graphics.fillText(C$zul.char,C$zul.x+C$zui,C$zul.y+C$zun,C$zur,C$zus,"left",C$zua)}},$p._EMPTYTEXT={text:null,words:null},$p),C$zut=(function(){function $p(){$p.__super.call(this),this.style.lineElement=!0,this.style.block=!0}C$zun($p,"laya.html.dom.HTMLBrElement",C$zua)}(),function(C$zut){function $p(){this.contextHeight=NaN,this.contextWidth=NaN,$p.__super.call(this),this.style.block=!0,this.style.lineElement=!0,this.style.width=200,this.style.height=200}C$zun($p,"laya.html.dom.HTMLDivElement",C$zut);var C$zue=$p.prototype;return C$zue.appendHTML=function(C$zut){C$zuv.parse(this,C$zut,this.URI),this.layout()},C$zue._addChildsToLayout=function(C$zue){var C$zut=this._getWords();if(null==C$zut&&0==this._childs.length)return!1;C$zut&&C$zut.forEach(function(C$zut){C$zue.push(C$zut)});for(var C$zui=!0,C$zun=0,C$zur=this._childs.length;C$zun<C$zur;C$zun++){var C$zus=this._childs[C$zun];C$zui?C$zui=!1:C$zue.push(null),C$zus._addToLayout(C$zue)}return!0},C$zue._addToLayout=function(C$zut){this.layout()},C$zue.layout=function(){var C$zut,C$zue;this.style&&(this.style._type|=512,(C$zut=C$zu$.layout(this))&&(this._$P.mHtmlBounds||this._set$P("mHtmlBounds",new C$zul),(C$zue=this._$P.mHtmlBounds).x=C$zue.y=0,C$zue.width=this.contextWidth=C$zut[0],C$zue.height=this.contextHeight=C$zut[1],this.setBounds(C$zue)))},C$zur(0,C$zue,"height",function(){return this._height||this.contextHeight},C$zut.prototype._$set_height),C$zur(0,C$zue,"innerHTML",null,function(C$zut){this.destroyChildren(),this.appendHTML(C$zut)}),C$zur(0,C$zue,"width",function(){return this._width||this.contextWidth},function(C$zut){var C$zue;C$zue=0===C$zut?C$zut!=this._width:C$zut!=this.width,C$zui.superSet(C$zua,this,"width",C$zut),C$zue&&this.layout()}),$p}(C$zua)),C$zux=function(){function $p(){this.all=new Array,this.styleSheets=C$zuh.styleSheets,$p.__super.call(this)}C$zun($p,"laya.html.dom.HTMLDocument",C$zua);var C$zut=$p.prototype;return C$zut.getElementById=function(C$zut){return this.all[C$zut]},C$zut.setElementById=function(C$zut,C$zue){this.all[C$zut]=C$zue},C$zue($p,["document",function(){return this.document=new $p}]),$p}();function $p(){this.URI=null,this._href=null,$p.__super.call(this),this._text=$p._EMPTYTEXT,this.setStyle(new C$zuh(this)),this._getCSSStyle().valign="middle",this.mouseEnabled=!0}var C$zuy;function $m(){this.x=0,this.y=0,this.w=0,this.h=0,this.wordStartIndex=0,this.minTextHeight=99999,this.mWidth=0,this.elements=new Array}var C$zut;function $_(){}function $$(){}(function(){function $p(){this._tex=null,this._url=null,this._renderArgs=[],$p.__super.call(this),this.style.block=!0}C$zun($p,"laya.html.dom.HTMLImageElement",C$zua);var C$zut=$p.prototype;C$zut._addToLayout=function(C$zut){this._style.absolute||C$zut.push(this)},C$zut.render=function(C$zut,C$zue,C$zui){!this._tex||!this._tex.loaded||!this._tex.loaded||this._width<1||this._height<1||(C$zuf.spriteCount++,this._renderArgs[0]=this._tex,this._renderArgs[1]=this.x,this._renderArgs[2]=this.y,this._renderArgs[3]=this.width||this._tex.width,this._renderArgs[4]=this.height||this._tex.height,C$zut.ctx.drawTexture2(C$zue,C$zui,this.style.translateX,this.style.translateY,this.transform,this.style.alpha,this.style.blendMode,this._renderArgs))},C$zut.layaoutCallNative=function(){var C$zut=0;if(this._childs&&0<(C$zut=this._childs.length))for(var C$zue=0;C$zue<C$zut;C$zue++)this._childs[C$zue].layaoutCallNative&&this._childs[C$zue].layaoutCallNative()},C$zur(0,C$zut,"width",function(){return this.autoSize?this.getSelfBounds().width:this._width},function(C$zut){this._width!==C$zut&&(this._width=C$zut,this._style.width=C$zut,this.repaint())}),C$zur(0,C$zut,"height",function(){return this.autoSize?this.getSelfBounds().height:this._height},function(C$zut){this._height!==C$zut&&(this._height=C$zut,this._style.height=C$zut,this.repaint())}),C$zut.destroy=function(){null!=this._tex&&(this._tex.off("loaded",this,this.onloaded),C$zus.clearCache(this,this._url),this._tex=null),C$zua.prototype.destroy.call(this)},C$zut.onloaded=function(){var C$zut=this._style;C$zut&&!C$zut.widthed(this)&&this._width!=this._tex.width&&(this.width=this._tex.width,this.parent&&this.parent._layoutLater()),C$zut&&!C$zut.heighted(this)&&this._height!=this._tex.height&&(this.height=this._tex.height,this.parent&&this.parent._layoutLater()),C$zud.isConchApp&&(this._renderArgs[0]=this._tex,this._renderArgs[1]=this.x,this._renderArgs[2]=this.y,this._renderArgs[3]=this.width||this._tex.width,this._renderArgs[4]=this.height||this._tex.height,this.graphics.drawTexture(this._tex,0,0,this._renderArgs[3],this._renderArgs[4])),this.repaint(),this.parentRepaint()},C$zut._loadImageComplete=function(C$zut,C$zue,C$zui){var C$zun;this._destroyed||(null!=C$zui?(C$zui instanceof ArrayBuffer?(C$zun=new DataView(C$zui),new laya.webgl.resource.WebGLImage(new Uint8Array(C$zui,8),C$zut,0,!1,C$zun.getUint32(0),C$zun.getUint32(4))):C$zui instanceof C$zup?(C$zus.imgMgrSet[C$zut]=C$zue,C$zuo.imgMgrLock(C$zut,C$zus.imgMgrSet[C$zut]),this._url=C$zut,this._tex=C$zui,C$zus.keepCache(this,C$zut),C$zus.cacheRes(C$zut,this._tex)):(C$zun=-1!=C$zut.indexOf(".png",C$zut.length-4)?6408:6407,new laya.webgl.resource.WebGLImage(C$zui,C$zut,C$zun,!1,C$zui.width,C$zui.height)),this.onloaded()):this.event("error","Load image failed"))},C$zur(0,C$zut,"src",null,function(C$zut){C$zut=this.formatURL(C$zut),this._url!=C$zut&&(null!=this._tex&&(C$zus.clearCache(this,this._url),this._tex.off("loaded",this,this.onloaded)),this._url=C$zut,(this._tex=C$zus.getRes(C$zut))?(C$zus.keepCache(this,C$zut),this.onloaded()):C$zuo.imgMgrLoad(C$zut,this._loadImageComplete.bind(this),2,!1))})})(),function(C$zut){function $p(){this.type=null,$p.__super.call(this),this.visible=!1}C$zun($p,"laya.html.dom.HTMLLinkElement",C$zut);var C$zue=$p.prototype;C$zue._onload=function(C$zut){"text/css"===this.type&&C$zuh.parseCSS(C$zut,this.URI)},C$zur(0,C$zue,"href",C$zut.prototype._$get_href,function(C$zut){var C$zue=this;C$zut=this.formatURL(C$zut),this.URI=new C$zum(C$zut);var C$zui=new C$zus;C$zui.once("complete",null,function(C$zut){C$zue._onload(C$zut)}),C$zui.load(C$zut,"text")}),$p._cuttingStyle=new RegExp("((@keyframes[\\s\\t]+|)(.+))[\\t\\n\\r\\s]*{","g")}(C$zua),function(C$zut){function $p(){$p.__super.call(this),this.visible=!1}C$zun($p,"laya.html.dom.HTMLStyleElement",C$zut),C$zur(0,$p.prototype,"text",C$zut.prototype._$get_text,function(C$zut){C$zuh.parseCSS(C$zut,null)})}(C$zua),function(C$zut){function $p(){$p.__super.call(this),this._getCSSStyle().valign="middle"}C$zun($p,"laya.html.dom.HTMLIframeElement",C$zut),C$zur(0,$p.prototype,"href",C$zut.prototype._$get_href,function(C$zui){var C$zun=this;C$zui=this.formatURL(C$zui);var C$zut=new C$zus;C$zut.once("complete",null,function(C$zut){var C$zue=C$zun.URI;C$zun.URI=new C$zum(C$zui),C$zun.innerHTML=C$zut,C$zue&&(C$zun.URI=C$zue)}),C$zut.load(C$zui,"text")})}(C$zut)}(window,(document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$zut,C$zue){"use strict";for(var C$zui in Object.defineProperty(C$zue,"__esModule",{value:!0}),Laya){var C$zun=Laya[C$zui];C$zun&&C$zun.__isclass&&(C$zue[C$zui]=C$zun)}}),function(C$zui,C$zuf){C$zuf.un,C$zuf.uns;var C$zuo=C$zuf.static,C$zun=C$zuf.class,C$zur=C$zuf.getset,C$zue=(C$zuf.__newvec,laya.display.Animation),C$zum=(laya.utils.Browser,laya.utils.ClassUtils),C$zuh=laya.filters.ColorFilter,C$zul=laya.utils.Ease,C$zuu=laya.events.Event,C$zuc=(laya.events.EventDispatcher,laya.display.css.Font),C$zu_=laya.display.FrameAnimation,C$zut=laya.display.Graphics,C$zug=laya.utils.Handler,C$zuv=laya.display.Input,C$zup=laya.net.Loader,C$zu$=(laya.display.Node,laya.maths.Point),C$zux=laya.maths.Rectangle,C$zuy=laya.renders.Render,C$zub=laya.display.Sprite,C$zuT=laya.display.Text,C$zuw=laya.resource.Texture,C$zuM=laya.utils.Tween,C$zuS=laya.utils.Utils,C$zuC=laya.utils.WeakObject;C$zuf.interface("laya.ui.IItem"),C$zuf.interface("laya.ui.ISelect"),C$zuf.interface("laya.ui.IRender"),C$zuf.interface("laya.ui.IComponent"),C$zuf.interface("laya.ui.IBox","IComponent");C$zun($m,"laya.ui.LayoutStyle"),C$zuo($m,["EMPTY",function(){return this.EMPTY=new $m}]);var C$zuD=$m,C$zus=function(){function $m(){}return C$zun($m,"laya.ui.Styles"),$m.labelColor="#000000",$m.buttonStateNum=3,$m.scrollBarMinNum=15,$m.scrollBarDelayTime=500,C$zuo($m,["defaultSizeGrid",function(){return this.defaultSizeGrid=[4,4,4,4,0]},"labelPadding",function(){return this.labelPadding=[2,2,2,2]},"inputLabelPadding",function(){return this.inputLabelPadding=[1,1,1,3]},"buttonLabelColors",function(){return this.buttonLabelColors=["#32556b","#32cc6b","#ff0000","#C0C0C0"]},"comboBoxItemColors",function(){return this.comboBoxItemColors=["#5e95b6","#ffffff","#000000","#8fa4b1","#ffffff"]}]),$m}(),C$zuE=(C$zun($L,"laya.ui.UIUtils"),$L.fillArray=function(C$zut,C$zue,C$zui){var C$zun=C$zut.concat();if(C$zue)for(var C$zur=C$zue.split(","),C$zus=0,C$zua=Math.min(C$zun.length,C$zur.length);C$zus<C$zua;C$zus++){var C$zuo=C$zur[C$zus];C$zun[C$zus]="true"==C$zuo||"false"!=C$zuo&&C$zuo,null!=C$zui&&(C$zun[C$zus]=C$zui(C$zuo))}return C$zun},$L.toColor=function(C$zut){return C$zuS.toHexColor(C$zut)},$L.gray=function(C$zut,C$zue){(C$zue=void 0===C$zue?!0:C$zue)?$L.addFilter(C$zut,$L.grayFilter):$L.clearFilter(C$zut,C$zuh)},$L.addFilter=function(C$zut,C$zue){var C$zui=C$zut.filters||[];C$zui.push(C$zue),C$zut.filters=C$zui},$L.clearFilter=function(C$zut,C$zue){var C$zui=C$zut.filters;if(null!=C$zui&&0<C$zui.length){for(var C$zun=C$zui.length-1;-1<C$zun;C$zun--){var C$zur=C$zui[C$zun];C$zuf.__typeof(C$zur,C$zue)&&C$zui.splice(C$zun,1)}C$zut.filters=C$zui}},$L._getReplaceStr=function(C$zut){return $L.escapeSequence[C$zut]},$L.adptString=function(C$zut){return C$zut.replace(/\\(\w)/g,$L._getReplaceStr)},$L.getBindFun=function(C$zut){var C$zue=$L._funMap.get(C$zut);var C$zui;return null==C$zue&&(C$zui="(function(data){if(data==null)return;with(data){try{\nreturn "+('"'+C$zut+'"').replace(/^"\${|}"$/g,"").replace(/\${/g,'"+').replace(/}/g,'+"')+"\n}catch(e){}}})",C$zue=C$zuf._runScript(C$zui),$L._funMap.set(C$zut,C$zue)),C$zue},C$zuo($L,["grayFilter",function(){return this.grayFilter=new C$zuh([.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0])},"escapeSequence",function(){return this.escapeSequence={"\\n":"\n","\\t":"\t"}},"_funMap",function(){return this._funMap=new C$zuC}]),$L),C$zuP=function(){function $m(){}return C$zun($m,"UIConfig"),$m.touchScrollEnable=!0,$m.mouseWheelEnable=!0,$m.showButtons=!0,$m.popupBgColor="#000000",$m.popupBgAlpha=.5,$m.closeDialogOnSide=!0,$m}(),C$zuA=(C$zun($c,"laya.ui.AutoBitmap",C$zu_t=C$zut),(C$zut=$c.prototype).destroy=function(){if(C$zup.clearObject(this,this._weakKey),this._weakKeys){for(var C$zut=0,C$zue=this._weakKeys.length;C$zut<C$zue;++C$zut)C$zup.clearObject(this,this._weakKeys[C$zut]);this._weakKeys=null}C$zu_t.prototype.destroy.call(this),this._source=null,this._sizeGrid=null,this._offset=null},C$zut._setChanged=function(){this._isChanged||(this._isChanged=!0,C$zuf.timer.callLater(this,this.changeSource))},C$zut.changeSource=function(){this._isChanged=!1;var C$zut=this._source;if(C$zut&&C$zut.bitmap){var C$zue=this.width,C$zui=this.height,C$zun=this._sizeGrid,C$zuu=C$zut.sourceWidth,C$zuc=C$zut.sourceHeight;if(!C$zun||C$zuu===C$zue&&C$zuc===C$zui)this.cleanByTexture(C$zut,this._offset?this._offset[0]:0,this._offset?this._offset[1]:0,C$zue,C$zui);else{C$zup.clearObject(this,this._weakKey),C$zut.$_GID||(C$zut.$_GID=C$zuS.getGID());var C$zu_=C$zut.$_GID+"."+C$zue+"."+C$zui+"."+C$zun.join("."),C$zur=C$zup.findObject(C$zu_);if(C$zuS.isOKCmdList(C$zur))return this._weakKey=C$zu_,C$zup.keepObject(this,this._weakKey),void(this.cmds=C$zur);this.clear();var C$zus,C$zua,C$zur=C$zun[0],C$zuo=C$zun[1],C$zuh=C$zun[2],C$zul=C$zun[3],C$zun=C$zun[4],C$zud=!1;var C$zuf;C$zui==C$zuc&&(C$zur=C$zuh=0),C$zue<(C$zul=C$zue==C$zuu?C$zuo=0:C$zul)+C$zuo&&(C$zuf=C$zue,C$zud=!0,C$zue=C$zul+C$zuo,this.save(),this.clipRect(0,0,C$zuf,C$zui)),C$zul&&C$zur&&(C$zus=$c.getTexture(C$zut,0,0,C$zul,C$zur),C$zua=this._weakKeys[0],C$zus?(C$zua!=C$zus.weakKey&&(C$zup.clearObject(this,C$zua),C$zup.keepObject(this,C$zus.weakKey),this._weakKeys[0]=C$zus.weakKey),this.drawTexture(C$zus,0,0,C$zul,C$zur)):(C$zup.clearObject(this,C$zua),this._weakKeys[0]="")),C$zuo&&C$zur&&(C$zus=$c.getTexture(C$zut,C$zuu-C$zuo,0,C$zuo,C$zur),C$zua=this._weakKeys[1],C$zus?(C$zua!=C$zus.weakKey&&(C$zup.clearObject(this,C$zua),C$zup.keepObject(this,C$zus.weakKey),this._weakKeys[1]=C$zus.weakKey),this.drawTexture(C$zus,C$zue-C$zuo,0,C$zuo,C$zur)):(C$zup.clearObject(this,C$zua),this._weakKeys[1]="")),C$zul&&C$zuh&&(C$zus=$c.getTexture(C$zut,0,C$zuc-C$zuh,C$zul,C$zuh),C$zua=this._weakKeys[2],C$zus?(C$zua!=C$zus.weakKey&&(C$zup.clearObject(this,C$zua),C$zup.keepObject(this,C$zus.weakKey),this._weakKeys[2]=C$zus.weakKey),this.drawTexture(C$zus,0,C$zui-C$zuh,C$zul,C$zuh)):(C$zup.clearObject(this,C$zua),this._weakKeys[2]="")),C$zuo&&C$zuh&&(C$zus=$c.getTexture(C$zut,C$zuu-C$zuo,C$zuc-C$zuh,C$zuo,C$zuh),C$zua=this._weakKeys[3],C$zus?(C$zua!=C$zus.weakKey&&(C$zup.clearObject(this,C$zua),C$zup.keepObject(this,C$zus.weakKey),this._weakKeys[3]=C$zus.weakKey),this.drawTexture(C$zus,C$zue-C$zuo,C$zui-C$zuh,C$zuo,C$zuh)):(C$zup.clearObject(this,C$zua),this._weakKeys[3]="")),C$zur&&(C$zus=$c.getTexture(C$zut,C$zul,0,C$zuu-C$zul-C$zuo,C$zur),C$zua=this._weakKeys[4],C$zus?(C$zua!=C$zus.weakKey&&(C$zup.clearObject(this,C$zua),C$zup.keepObject(this,C$zus.weakKey),this._weakKeys[4]=C$zus.weakKey),this.drawBitmap(C$zun,C$zus,C$zul,0,C$zue-C$zul-C$zuo,C$zur)):(C$zup.clearObject(this,C$zua),this._weakKeys[4]="")),C$zuh&&(C$zus=$c.getTexture(C$zut,C$zul,C$zuc-C$zuh,C$zuu-C$zul-C$zuo,C$zuh),C$zua=this._weakKeys[5],C$zus?(C$zua!=C$zus.weakKey&&(C$zup.clearObject(this,C$zua),C$zup.keepObject(this,C$zus.weakKey),this._weakKeys[5]=C$zus.weakKey),this.drawBitmap(C$zun,C$zus,C$zul,C$zui-C$zuh,C$zue-C$zul-C$zuo,C$zuh)):(C$zup.clearObject(this,C$zua),this._weakKeys[5]="")),C$zul&&(C$zus=$c.getTexture(C$zut,0,C$zur,C$zul,C$zuc-C$zur-C$zuh),C$zua=this._weakKeys[6],C$zus?(C$zua!=C$zus.weakKey&&(C$zup.clearObject(this,C$zua),C$zup.keepObject(this,C$zus.weakKey),this._weakKeys[6]=C$zus.weakKey),this.drawBitmap(C$zun,C$zus,0,C$zur,C$zul,C$zui-C$zur-C$zuh)):(C$zup.clearObject(this,C$zua),this._weakKeys[6]="")),C$zuo&&(C$zus=$c.getTexture(C$zut,C$zuu-C$zuo,C$zur,C$zuo,C$zuc-C$zur-C$zuh),C$zua=this._weakKeys[7],C$zus?(C$zua!=C$zus.weakKey&&(C$zup.clearObject(this,C$zua),C$zup.keepObject(this,C$zus.weakKey),this._weakKeys[7]=C$zus.weakKey),this.drawBitmap(C$zun,C$zus,C$zue-C$zuo,C$zur,C$zuo,C$zui-C$zur-C$zuh)):(C$zup.clearObject(this,C$zua),this._weakKeys[7]="")),C$zus=$c.getTexture(C$zut,C$zul,C$zur,C$zuu-C$zul-C$zuo,C$zuc-C$zur-C$zuh),C$zua=this._weakKeys[8],C$zus?(C$zua!=C$zus.weakKey&&(C$zup.clearObject(this,C$zua),C$zup.keepObject(this,C$zus.weakKey),this._weakKeys[8]=C$zus.weakKey),this.drawBitmap(C$zun,C$zus,C$zul,C$zur,C$zue-C$zul-C$zuo,C$zui-C$zur-C$zuh)):(C$zup.clearObject(this,C$zua),this._weakKeys[8]=""),C$zud&&this.restore(),this.autoCacheCmd&&!C$zuy.isConchApp&&(C$zup.saveObject(C$zu_,this.cmds,null),this._weakKey=C$zu_,C$zup.keepObject(this,this._weakKey))}this._repaint()}},C$zut.drawBitmap=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){void 0===C$zus&&(C$zus=0),(C$zur=void 0===C$zur?0:C$zur)<.1||C$zus<.1||(!C$zut||C$zue.width==C$zur&&C$zue.height==C$zus?this.drawTexture(C$zue,C$zui,C$zun,C$zur,C$zus):this.fillTexture(C$zue,C$zui,C$zun,C$zur,C$zus))},C$zut.clear=function(C$zut){void 0===C$zut&&(C$zut=!0),C$zu_t.prototype.clear.call(this,!1)},C$zur(0,C$zut,"sizeGrid",function(){return this._sizeGrid},function(C$zut){this._sizeGrid=C$zut,this._setChanged()}),C$zur(0,C$zut,"width",function(){return this._width||(this._source?this._source.sourceWidth:0)},function(C$zut){this._width!=C$zut&&(this._width=C$zut,this._setChanged())}),C$zur(0,C$zut,"height",function(){return this._height||(this._source?this._source.sourceHeight:0)},function(C$zut){this._height!=C$zut&&(this._height=C$zut,this._setChanged())}),C$zur(0,C$zut,"source",function(){return this._source},function(C$zut){C$zut?(this._source=C$zut,this._setChanged()):(this._source=null,this.clear())}),$c.getTexture=function(C$zut,C$zue,C$zui,C$zun,C$zur){C$zun<=0&&(C$zun=1),C$zur<=0&&(C$zur=1),C$zut.$_GID||(C$zut.$_GID=C$zuS.getGID());var C$zus=C$zut.$_GID+"."+C$zue+"."+C$zui+"."+C$zun+"."+C$zur,C$zua=C$zup.findObject(C$zus);var C$zuo;return C$zua&&C$zua.source||!(C$zua=C$zuw.createFromTexture(C$zut,C$zue,C$zui,C$zun,C$zur))||(C$zut.alphaTexture&&(C$zuo=C$zut.width/C$zut.alphaTexture.width,C$zua.alphaTexture=C$zuw.createFromTexture(C$zut.alphaTexture,C$zue/C$zuo,C$zui/C$zuo,C$zun/C$zuo,C$zur/C$zuo)),C$zup.saveObject(C$zus,C$zua),C$zua.weakKey=C$zus),C$zua},$c),C$zua=(C$zun($p,"laya.ui.UIEvent",C$zuu),$p.SHOW_TIP="showtip",$p.HIDE_TIP="hidetip",function(C$zue){function $m(){this._comXml=null,this._dataSource=null,this._toolTip=null,this._tag=null,this._disabled=!1,this._gray=!1,this.layoutEnabled=!0,$m.__super.call(this),this._layout=C$zuD.EMPTY,this.preinitialize(),this.createChildren(),this.initialize()}C$zun($m,"laya.ui.Component",C$zue);var C$zut=$m.prototype;return C$zuf.imps(C$zut,{"laya.ui.IComponent":!0}),C$zut.destroy=function(C$zut){C$zue.prototype.destroy.call(this,C$zut=void 0===C$zut?!0:C$zut),this._dataSource=this._layout=null,this._tag=null,this._toolTip=null},C$zut.preinitialize=function(){},C$zut.createChildren=function(){},C$zut.initialize=function(){},C$zut.callLater=function(C$zut,C$zue){C$zuf.timer.callLater(this,C$zut,C$zue)},C$zut.runCallLater=function(C$zut){C$zuf.timer.runCallLater(this,C$zut)},C$zut.commitMeasure=function(){},C$zut.changeSize=function(){this.event("resize")},C$zut.getLayout=function(){return this._layout===C$zuD.EMPTY&&(this._layout=new C$zuD),this._layout},C$zut._setLayoutEnabled=function(C$zut){this._layout&&this._layout.enable!=C$zut&&(this._layout.enable=C$zut,this.on("added",this,this.onAdded),this.on("removed",this,this.onRemoved),this.parent&&this.onAdded())},C$zut.onRemoved=function(){this.parent.off("resize",this,this.onCompResize)},C$zut.onAdded=function(){this.parent.on("resize",this,this.onCompResize),this.resetLayoutX(),this.resetLayoutY()},C$zut.onCompResize=function(){this._layout&&this._layout.enable&&(this.resetLayoutX(),this.resetLayoutY())},C$zut.resetLayoutX=function(){var C$zut=this._layout;var C$zue;isNaN(C$zut.anchorX)||(this.pivotX=C$zut.anchorX*this.width),this.layoutEnabled&&(C$zue=this.parent)&&(isNaN(C$zut.centerX)?isNaN(C$zut.left)?isNaN(C$zut.right)||(this.x=Math.round(C$zue.width-this.displayWidth-C$zut.right+this.pivotX*this.scaleX)):(this.x=Math.round(C$zut.left+this.pivotX*this.scaleX),isNaN(C$zut.right)||(this.width=(C$zue._width-C$zut.left-C$zut.right)/(this.scaleX||.01))):this.x=Math.round(.5*(C$zue.width-this.displayWidth)+C$zut.centerX+this.pivotX*this.scaleX))},C$zut.resetLayoutY=function(){var C$zut=this._layout;var C$zue;isNaN(C$zut.anchorY)||(this.pivotY=C$zut.anchorY*this.height),this.layoutEnabled&&(C$zue=this.parent)&&(isNaN(C$zut.centerY)?isNaN(C$zut.top)?isNaN(C$zut.bottom)||(this.y=Math.round(C$zue.height-this.displayHeight-C$zut.bottom+this.pivotY*this.scaleY)):(this.y=Math.round(C$zut.top+this.pivotY*this.scaleY),isNaN(C$zut.bottom)||(this.height=(C$zue._height-C$zut.top-C$zut.bottom)/(this.scaleY||.01))):this.y=Math.round(.5*(C$zue.height-this.displayHeight)+C$zut.centerY+this.pivotY*this.scaleY))},C$zut.onMouseOver=function(C$zut){C$zuf.stage.event("showtip",this._toolTip)},C$zut.onMouseOut=function(C$zut){C$zuf.stage.event("hidetip",this._toolTip)},C$zur(0,C$zut,"displayWidth",function(){return this.width*this.scaleX}),C$zur(0,C$zut,"width",function(){return this._width||this.measureWidth},function(C$zut){this._width!=C$zut&&(this._width=C$zut,this.conchModel&&this.conchModel.size(this._width,this._height),this.callLater(this.changeSize),!this._layout.enable||isNaN(this._layout.centerX)&&isNaN(this._layout.right)&&isNaN(this._layout.anchorX)||this.resetLayoutX())}),C$zur(0,C$zut,"measureWidth",function(){var C$zut=0;this.commitMeasure();for(var C$zue=this.numChildren-1;-1<C$zue;C$zue--){var C$zui=this.getChildAt(C$zue);C$zui.visible&&(C$zut=Math.max(C$zui.x+C$zui.width*C$zui.scaleX,C$zut))}return C$zut}),C$zur(0,C$zut,"displayHeight",function(){return this.height*this.scaleY}),C$zur(0,C$zut,"height",function(){return this._height||this.measureHeight},function(C$zut){this._height!=C$zut&&(this._height=C$zut,this.conchModel&&this.conchModel.size(this._width,this._height),this.callLater(this.changeSize),!this._layout.enable||isNaN(this._layout.centerY)&&isNaN(this._layout.bottom)&&isNaN(this._layout.anchorY)||this.resetLayoutY())}),C$zur(0,C$zut,"dataSource",function(){return this._dataSource},function(C$zut){for(var C$zue in this._dataSource=C$zut,this._dataSource)this.hasOwnProperty(C$zue)&&"function"!=typeof this[C$zue]&&(this[C$zue]=this._dataSource[C$zue])}),C$zur(0,C$zut,"scaleY",C$zue.prototype._$get_scaleY,function(C$zut){C$zuf.superGet(C$zub,this,"scaleY")!=C$zut&&(C$zuf.superSet(C$zub,this,"scaleY",C$zut),this.callLater(this.changeSize),this._layout.enable&&this.resetLayoutY())}),C$zur(0,C$zut,"measureHeight",function(){var C$zut=0;this.commitMeasure();for(var C$zue=this.numChildren-1;-1<C$zue;C$zue--){var C$zui=this.getChildAt(C$zue);C$zui.visible&&(C$zut=Math.max(C$zui.y+C$zui.height*C$zui.scaleY,C$zut))}return C$zut}),C$zur(0,C$zut,"scaleX",C$zue.prototype._$get_scaleX,function(C$zut){C$zuf.superGet(C$zub,this,"scaleX")!=C$zut&&(C$zuf.superSet(C$zub,this,"scaleX",C$zut),this.callLater(this.changeSize),this._layout.enable&&this.resetLayoutX())}),C$zur(0,C$zut,"top",function(){return this._layout.top},function(C$zut){C$zut!=this._layout.top&&(this.getLayout().top=C$zut,this._setLayoutEnabled(!0)),this.resetLayoutY()}),C$zur(0,C$zut,"bottom",function(){return this._layout.bottom},function(C$zut){C$zut!=this._layout.bottom&&(this.getLayout().bottom=C$zut,this._setLayoutEnabled(!0)),this.resetLayoutY()}),C$zur(0,C$zut,"left",function(){return this._layout.left},function(C$zut){C$zut!=this._layout.left&&(this.getLayout().left=C$zut,this._setLayoutEnabled(!0)),this.resetLayoutX()}),C$zur(0,C$zut,"right",function(){return this._layout.right},function(C$zut){C$zut!=this._layout.right&&(this.getLayout().right=C$zut,this._setLayoutEnabled(!0)),this.resetLayoutX()}),C$zur(0,C$zut,"centerX",function(){return this._layout.centerX},function(C$zut){C$zut!=this._layout.centerX&&(this.getLayout().centerX=C$zut,this._setLayoutEnabled(!0)),this.resetLayoutX()}),C$zur(0,C$zut,"centerY",function(){return this._layout.centerY},function(C$zut){C$zut!=this._layout.centerY&&(this.getLayout().centerY=C$zut,this._setLayoutEnabled(!0)),this.resetLayoutY()}),C$zur(0,C$zut,"anchorX",function(){return this._layout.anchorX},function(C$zut){C$zut!=this._layout.anchorX&&(this.getLayout().anchorX=C$zut,this._setLayoutEnabled(!0)),this.resetLayoutX()}),C$zur(0,C$zut,"anchorY",function(){return this._layout.anchorY},function(C$zut){C$zut!=this._layout.anchorY&&(this.getLayout().anchorY=C$zut,this._setLayoutEnabled(!0)),this.resetLayoutY()}),C$zur(0,C$zut,"tag",function(){return this._tag},function(C$zut){this._tag=C$zut}),C$zur(0,C$zut,"toolTip",function(){return this._toolTip},function(C$zut){this._toolTip!=C$zut&&(null!=(this._toolTip=C$zut)?(this.on("mouseover",this,this.onMouseOver),this.on("mouseout",this,this.onMouseOut)):(this.off("mouseover",this,this.onMouseOver),this.off("mouseout",this,this.onMouseOut)))}),C$zur(0,C$zut,"comXml",function(){return this._comXml},function(C$zut){this._comXml=C$zut}),C$zur(0,C$zut,"gray",function(){return this._gray},function(C$zut){C$zut!==this._gray&&(this._gray=C$zut,C$zuE.gray(this,C$zut))}),C$zur(0,C$zut,"disabled",function(){return this._disabled},function(C$zut){C$zut!==this._disabled&&(this.gray=this._disabled=C$zut,this.mouseEnabled=!C$zut)}),$m}(C$zub)),C$zuI=function(){function $p(){this.lockLayer=null,this.popupEffect=function(C$zut){C$zut.scale(1,1),C$zuM.from(C$zut,{x:C$zuf.stage.width/2,y:C$zuf.stage.height/2,scaleX:0,scaleY:0},300,C$zul.backOut,C$zug.create(this,this.doOpen,[C$zut]))},this.closeEffect=function(C$zut,C$zue){C$zuM.to(C$zut,{x:C$zuf.stage.width/2,y:C$zuf.stage.height/2,scaleX:0,scaleY:0},300,C$zul.strongOut,C$zug.create(this,this.doClose,[C$zut,C$zue]))},$p.__super.call(this),this.maskLayer=new C$zub,this.popupEffectHandler=C$zug.create(this,this.popupEffect,null,!1),this.closeEffectHandler=C$zug.create(this,this.closeEffect,null,!1),this.mouseEnabled=this.maskLayer.mouseEnabled=!0,this.zOrder=1e3,C$zuf.stage.addChild(this),C$zuf.stage.on("resize",this,this._onResize),C$zuP.closeDialogOnSide&&this.maskLayer.on("click",this,this._closeOnSide),this._onResize(null)}C$zun($p,"laya.ui.DialogManager",C$zub);var C$zut=$p.prototype;return C$zut._closeOnSide=function(){var C$zut=this.getChildAt(this.numChildren-1);C$zut instanceof laya.ui.Dialog&&C$zut.close("side")},C$zut.setLockView=function(C$zut){this.lockLayer||(this.lockLayer=new C$zud,this.lockLayer.mouseEnabled=!0,this.lockLayer.size(C$zuf.stage.width,C$zuf.stage.height)),this.lockLayer.removeChildren(),C$zut&&(C$zut.centerX=C$zut.centerY=0,this.lockLayer.addChild(C$zut))},C$zut._onResize=function(C$zut){var C$zue=this.maskLayer.width=C$zuf.stage.width,C$zui=this.maskLayer.height=C$zuf.stage.height;this.lockLayer&&this.lockLayer.size(C$zue,C$zui),this.maskLayer.graphics.clear(),this.maskLayer.graphics.drawRect(0,0,C$zue,C$zui,C$zuP.popupBgColor),this.maskLayer.alpha=C$zuP.popupBgAlpha;for(var C$zun=this.numChildren-1;-1<C$zun;C$zun--){var C$zur=this.getChildAt(C$zun);C$zur.popupCenter&&this._centerDialog(C$zur)}},C$zut._centerDialog=function(C$zut){C$zut.x=Math.round((C$zuf.stage.width-C$zut.width>>1)+C$zut.pivotX),C$zut.y=Math.round((C$zuf.stage.height-C$zut.height>>1)+C$zut.pivotY)},C$zut.open=function(C$zut,C$zue,C$zui){void 0===C$zui&&(C$zui=!1),(C$zue=void 0===C$zue?!1:C$zue)&&this._closeAll(),C$zut.popupCenter&&this._centerDialog(C$zut),this.addChild(C$zut),(C$zut.isModal||this._$P.hasZorder)&&this.timer.callLater(this,this._checkMask),C$zui&&null!=C$zut.popupEffect?C$zut.popupEffect.runWith(C$zut):this.doOpen(C$zut),this.event("open")},C$zut.doOpen=function(C$zut){C$zut.onOpened()},C$zut.lock=function(C$zut){this.lockLayer&&(C$zut?this.addChild(this.lockLayer):this.lockLayer.removeSelf())},C$zut.close=function(C$zut,C$zue,C$zui){(C$zui=void 0===C$zui?!1:C$zui)&&null!=C$zut.closeEffect?C$zut.closeEffect.runWith([C$zut,C$zue]):this.doClose(C$zut,C$zue),this.event("close")},C$zut.doClose=function(C$zut,C$zue){C$zut.removeSelf(),C$zut.isModal&&this._checkMask(),C$zut.closeHandler&&C$zut.closeHandler.runWith(C$zue),C$zut.onClosed(C$zue)},C$zut.closeAll=function(){this._closeAll(),this.event("close")},C$zut._closeAll=function(){for(var C$zut=this.numChildren-1;-1<C$zut;C$zut--){var C$zue=this.getChildAt(C$zut);C$zue&&null!=C$zue.close&&this.doClose(C$zue)}},C$zut.getDialogsByGroup=function(C$zut){for(var C$zue=[],C$zui=this.numChildren-1;-1<C$zui;C$zui--){var C$zun=this.getChildAt(C$zui);C$zun&&C$zun.group===C$zut&&C$zue.push(C$zun)}return C$zue},C$zut.closeByGroup=function(C$zut){for(var C$zue=[],C$zui=this.numChildren-1;-1<C$zui;C$zui--){var C$zun=this.getChildAt(C$zui);C$zun&&C$zun.group===C$zut&&(C$zun.close(),C$zue.push(C$zun))}return C$zue},C$zut._checkMask=function(){this.maskLayer.removeSelf();for(var C$zut=this.numChildren-1;-1<C$zut;C$zut--){var C$zue=this.getChildAt(C$zut);if(C$zue&&C$zue.isModal)return void this.addChildAt(this.maskLayer,C$zut)}},$p}(),C$zud=function(C$zut){function $p(){$p.__super.call(this)}C$zun($p,"laya.ui.Box",C$zut);var C$zue=$p.prototype;return C$zuf.imps(C$zue,{"laya.ui.IBox":!0}),C$zur(0,C$zue,"dataSource",C$zut.prototype._$get_dataSource,function(C$zut){for(var C$zue in this._dataSource=C$zut){var C$zui=this.getChildByName(C$zue);C$zui?C$zui.dataSource=C$zut[C$zue]:this.hasOwnProperty(C$zue)&&"function"!=typeof this[C$zue]&&(this[C$zue]=C$zut[C$zue])}}),$p}(C$zua),C$zuR=(C$zun($h,"laya.ui.Button",C$zuct=C$zua),C$zut=$h.prototype,C$zuf.imps(C$zut,{"laya.ui.ISelect":!0}),C$zut.destroy=function(C$zut){this.clearEvent(),C$zup.clearCache(this,this._skin),C$zup.clearObject(this,this._weakKey),C$zuct.prototype.destroy.call(this,C$zut=void 0===C$zut?!0:C$zut),this._bitmap&&this._bitmap.destroy(),this._text&&this._text.destroy(C$zut),this._bitmap=null,this._text=null,this._clickHandler=null,this._labelColors=this._sources=this._strokeColors=null},C$zut.clearEvent=function(){this._skin&&C$zui.atalsNotify&&C$zui.atalsNotify.off(this._skin,this,this._setBtnSource)},C$zut.createChildren=function(){this.graphics=this._bitmap=new C$zuA},C$zut.createText=function(){this._text||(this._text=new C$zuT,this._text.overflow=C$zuT.HIDDEN,this._text.align="center",this._text.valign="middle",this._text.width=this._width,this._text.height=this._height)},C$zut.initialize=function(){1!==this._mouseEnableState&&(this.mouseEnabled=!0,this._setBit(2,!0)),this._createListener("mouseover",this,this.onMouse,null,!1,!1),this._createListener("mouseout",this,this.onMouse,null,!1,!1),this._createListener("mousedown",this,this.onMouse,null,!1,!1),this._createListener("mouseup",this,this.onMouse,null,!1,!1),this._createListener("click",this,this.onMouse,null,!1,!1)},C$zut.onMouse=function(C$zut){if(!1!==this.toggle||!this._selected)return"click"===C$zut.type?(this.toggle&&(this.selected=!this._selected),void(this._clickHandler&&this._clickHandler.run())):void(this._selected||(this.state=$h.stateMap[C$zut.type]))},C$zut.changeClips=function(){var C$zut=C$zup.getRes(this._skin);if(C$zut)if(this._skin&&""!=this._skin){C$zup.clearObject(this,this._weakKey);var C$zue=C$zut.sourceWidth,C$zui=C$zut.sourceHeight/this._stateNum;C$zut.$_GID||(C$zut.$_GID=C$zuS.getGID());var C$zun=C$zut.$_GID+"-"+this._stateNum,C$zur=C$zup.findObject(C$zun);if(C$zur=C$zuS.isOkTextureList(C$zur)?C$zur:null)this._weakKey=C$zun,C$zup.keepObject(this,this._weakKey),this._sources=C$zur;else{if(this._sources=[],1===this._stateNum)this._sources.push(C$zut);else for(var C$zus=0;C$zus<this._stateNum;C$zus++){var C$zua=C$zuw.createFromTexture(C$zut,0,C$zui*C$zus,C$zue,C$zui);var C$zuo;C$zut.alphaTexture&&(C$zuo=C$zut.width/C$zut.alphaTexture.width,C$zua.alphaTexture=C$zuw.createFromTexture(C$zut.alphaTexture,0/C$zuo,C$zui*C$zus/C$zuo,C$zue/C$zuo,C$zui/C$zuo)),this._sources.push(C$zua)}C$zup.saveObject(C$zun,this._sources),this._weakKey=C$zun,C$zup.keepObject(this,this._weakKey)}this._autoSize?(this._bitmap.width=this._width||C$zue,this._bitmap.height=this._height||C$zui,this._text&&(this._text.width=this._bitmap.width,this._text.height=this._bitmap.height)):this._text&&(this._text.x=C$zue)}else console.warn("lose skin ",this._skin,this.name,this.__className)},C$zut.changeState=function(){this._stateChanged=!1,this.runCallLater(this.changeClips);var C$zut=this._state<this._stateNum?this._state:this._stateNum-1;this._sources&&(this._bitmap.source=this._sources[C$zut]),this.label&&(this._text.color=this._labelColors[C$zut],this._strokeColors&&(this._text.strokeColor=this._strokeColors[C$zut]))},C$zut._setStateChanged=function(){this._stateChanged||(this._stateChanged=!0,this.callLater(this.changeState))},C$zur(0,C$zut,"labelStrokeColor",function(){return this.createText(),this._text.strokeColor},function(C$zut){this.createText(),this._text.strokeColor=C$zut}),C$zur(0,C$zut,"measureHeight",function(){return this.runCallLater(this.changeClips),this._text?Math.max(this._bitmap.height,this._text.height):this._bitmap.height}),C$zur(0,C$zut,"skin",function(){return this._skin},function(C$zut){this._skin!=C$zut&&(this.clearEvent(),C$zup.clearCache(this,this._skin),this._skin=C$zut,C$zup.keepCache(this,this._skin),C$zup.getRes(this._skin)?(this.callLater(this.changeClips),this._setStateChanged()):(C$zut=C$zui.resAtalsObj&&C$zui.resAtalsObj[this._skin])?(C$zui.atalsNotify&&C$zui.atalsNotify.once(this._skin,this,this._setBtnSource),0==this.width&&(this.width=C$zut.sourceW),0==this.height&&(this.height=C$zut.sourceH/this._stateNum)):console.warn("lose button skin ",this._skin,this.name,this.__className))}),C$zut._setBtnSource=function(C$zut,C$zue){C$zut===this._skin&&C$zue&&(this.callLater(this.changeClips),this._setStateChanged(),this.clearEvent())},C$zur(0,C$zut,"state",function(){return this._state},function(C$zut){this._state!=C$zut&&(this._state=C$zut,this._setStateChanged())}),C$zur(0,C$zut,"text",function(){return this.createText(),this._text}),C$zur(0,C$zut,"stateNum",function(){return this._stateNum},function(C$zut){"string"==typeof C$zut&&(C$zut=parseInt(C$zut)),this._stateNum!=C$zut&&(this._stateNum=C$zut<1?1:3<C$zut?3:C$zut,this.callLater(this.changeClips))}),C$zur(0,C$zut,"strokeColors",function(){return this._strokeColors?this._strokeColors.join(","):""},function(C$zut){this._strokeColors=C$zuE.fillArray(C$zus.buttonLabelColors,C$zut,String),this._setStateChanged()}),C$zur(0,C$zut,"labelColors",function(){return this._labelColors.join(",")},function(C$zut){this._labelColors=C$zuE.fillArray(C$zus.buttonLabelColors,C$zut,String),this._setStateChanged()}),C$zur(0,C$zut,"measureWidth",function(){return this.runCallLater(this.changeClips),this._autoSize?this._bitmap.width:(this.runCallLater(this.changeState),this._bitmap.width+(this._text?this._text.width:0))}),C$zur(0,C$zut,"label",function(){return this._text?this._text.text:null},function(C$zut){(this._text||C$zut)&&(this.createText(),this._text.text!=C$zut&&(C$zut&&!this._text.parent&&this.addChild(this._text),this._text.text=(C$zut+"").replace(/\\n/g,"\n"),this._setStateChanged()))}),C$zur(0,C$zut,"selected",function(){return this._selected},function(C$zut){this._selected!=C$zut&&(this._selected=C$zut,this.state=this._selected?2:0,this.event("change"))}),C$zur(0,C$zut,"labelPadding",function(){return this.createText(),this._text.padding.join(",")},function(C$zut){this.createText(),this._text.padding=C$zuE.fillArray(C$zus.labelPadding,C$zut,Number)}),C$zur(0,C$zut,"labelSize",function(){return this.createText(),this._text.fontSize},function(C$zut){this.createText(),this._text.fontSize=C$zut}),C$zur(0,C$zut,"labelStroke",function(){return this.createText(),this._text.stroke},function(C$zut){this.createText(),this._text.stroke=C$zut}),C$zur(0,C$zut,"labelBold",function(){return this.createText(),this._text.bold},function(C$zut){this.createText(),this._text.bold=C$zut}),C$zur(0,C$zut,"labelFont",function(){return this.createText(),this._text.font},function(C$zut){this.createText(),this._text.font=C$zut}),C$zur(0,C$zut,"labelAlign",function(){return this.createText(),this._text.align},function(C$zut){this.createText(),this._text.align=C$zut}),C$zur(0,C$zut,"clickHandler",function(){return this._clickHandler},function(C$zut){this._clickHandler=C$zut}),C$zur(0,C$zut,"sizeGrid",function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null},function(C$zut){this._bitmap.sizeGrid=C$zuE.fillArray(C$zus.defaultSizeGrid,C$zut,Number)}),C$zur(0,C$zut,"width",C$zuct.prototype._$get_width,function(C$zut){C$zuf.superSet(C$zua,this,"width",C$zut),this._autoSize&&(this._bitmap.width=C$zut,this._text&&(this._text.width=C$zut))}),C$zur(0,C$zut,"height",C$zuct.prototype._$get_height,function(C$zut){C$zuf.superSet(C$zua,this,"height",C$zut),this._autoSize&&(this._bitmap.height=C$zut,this._text&&(this._text.height=C$zut))}),C$zur(0,C$zut,"dataSource",C$zuct.prototype._$get_dataSource,function(C$zut){"number"==typeof(this._dataSource=C$zut)||"string"==typeof C$zut?this.label=C$zut+"":C$zuf.superSet(C$zua,this,"dataSource",C$zut)}),C$zur(0,C$zut,"iconOffset",function(){return this._bitmap._offset?this._bitmap._offset.join(","):null},function(C$zut){this._bitmap._offset=C$zut?C$zuE.fillArray([1,1],C$zut,Number):[]}),C$zuo($h,["stateMap",function(){return this.stateMap={mouseup:0,mouseover:1,mousedown:2,mouseout:0}}]),$h),C$zuL=(C$zun($P,"laya.ui.Clip",C$zuut=C$zua),(C$zut=$P.prototype).destroy=function(C$zut){this.clearEvent(),this.clearLoad(),C$zup.clearCache(this,this._skin),C$zup.clearObject(this,this._weakKey),void 0===C$zut&&(C$zut=!0),C$zuut.prototype.destroy.call(this,!0),this._bitmap&&this._bitmap.destroy(),this._bitmap=null,this._sources=null},C$zut.dispose=function(){this.destroy(!0),C$zuf.loader.clearRes(this._skin)},C$zut.createChildren=function(){this.graphics=this._bitmap=new C$zuA},C$zut._onDisplay=function(C$zut){this._isPlaying?this._displayedInStage?this.play():this.stop():this._autoPlay&&this.play()},C$zut.changeClip=function(){var C$zut;this._clipChanged=!1,this._skin&&((C$zut=C$zup.getRes(this._skin))?this.loadComplete(this._skin,C$zut):C$zui.resAtalsObj&&C$zui.resAtalsObj[this._skin]||(this.clearLoad(),this._complete=C$zug.create(this,this.loadComplete,[this._skin]),this._progress=null,C$zuf.loader.load(this._skin,this._complete,this._progress)))},C$zut.loadComplete=function(C$zut,C$zue){if(C$zut===this._skin&&C$zue){C$zup.clearObject(this,this._weakKey);var C$zui=this._clipWidth||Math.ceil(C$zue.sourceWidth/this._clipX),C$zun=this._clipHeight||Math.ceil(C$zue.sourceHeight/this._clipY),C$zut=this._skin+C$zui+C$zun,C$zur=C$zup.findObject(C$zut);if(C$zur=C$zuS.isOkTextureList(C$zur)?C$zur:null)this._weakKey=C$zut,C$zup.keepObject(this,this._weakKey),this._sources=C$zur;else{this._sources=[];for(var C$zus=0;C$zus<this._clipY;C$zus++)for(var C$zua=0;C$zua<this._clipX;C$zua++){var C$zuo=C$zuw.createFromTexture(C$zue,C$zui*C$zua,C$zun*C$zus,C$zui,C$zun);var C$zuh;C$zue.alphaTexture&&(C$zuh=C$zue.width/C$zue.alphaTexture.width,C$zuo.alphaTexture=C$zuw.createFromTexture(C$zue.alphaTexture,C$zui*C$zua/C$zuh,C$zun*C$zus/C$zuh,C$zui/C$zuh,C$zun/C$zuh)),this._sources.push(C$zuo)}C$zup.saveObject(C$zut,this._sources),this._weakKey=C$zut,C$zup.keepObject(this,this._weakKey)}this.index=this._index,this.event("loaded"),this.onCompResize()}},C$zut.play=function(C$zut,C$zue){void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=-1),this._isPlaying=!0,this.index=C$zut,this._toIndex=C$zue,this._index++,C$zuf.timer.loop(this.interval,this,this._loop),this.on("display",this,this._onDisplay),this.on("undisplay",this,this._onDisplay)},C$zut._loop=function(){this._style.visible&&this._sources&&(this._index++,-1<this._toIndex&&this._index>=this._toIndex?this.stop():this._index>=this._sources.length&&(this._index=0),this.index=this._index)},C$zut.stop=function(){this._isPlaying=!1,C$zuf.timer.clear(this,this._loop),this.event("complete")},C$zut._setClipChanged=function(){this._clipChanged||(this._clipChanged=!0,this.callLater(this.changeClip))},C$zur(0,C$zut,"interval",function(){return this._interval},function(C$zut){this._interval!=C$zut&&(this._interval=C$zut,this._isPlaying&&this.play())}),C$zut.clearEvent=function(){this._skin&&C$zui.atalsNotify&&C$zui.atalsNotify.off(this._skin,this,this._setBtnSource)},C$zut.clearLoad=function(){this._skin&&((this._complete||this._progress)&&C$zuf.loader.cancel(this._skin,this._complete,this._progress),this._complete=this._progress=null)},C$zur(0,C$zut,"skin",function(){return this._skin},function(C$zut){var C$zue;this._skin!=C$zut&&(this.clearLoad(),this.clearEvent(),C$zup.clearCache(this,this._skin),(this._skin=C$zut)?(C$zup.keepCache(this,this._skin),C$zut=C$zup.getRes(C$zut),C$zue=C$zui.resAtalsObj&&C$zui.resAtalsObj[this._skin],!C$zut&&C$zue?C$zui.atalsNotify&&C$zui.atalsNotify.once(this._skin,this,this._setBtnSource):this._setClipChanged()):this._bitmap.source=null)}),C$zut._setBtnSource=function(C$zut,C$zue){C$zut===this._skin&&C$zue&&(this.loadComplete(C$zut,C$zue),this.clearEvent())},C$zur(0,C$zut,"sources",function(){return this._sources},function(C$zut){this._sources=C$zut,this.index=this._index,this.event("loaded")}),C$zur(0,C$zut,"clipX",function(){return this._clipX},function(C$zut){this._clipX=C$zut||1,this._setClipChanged()}),C$zur(0,C$zut,"clipY",function(){return this._clipY},function(C$zut){this._clipY=C$zut||1,this._setClipChanged()}),C$zur(0,C$zut,"total",function(){return this.runCallLater(this.changeClip),this._sources?this._sources.length:0}),C$zur(0,C$zut,"clipWidth",function(){return this._clipWidth},function(C$zut){this._clipWidth=C$zut,this._setClipChanged()}),C$zur(0,C$zut,"sizeGrid",function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null},function(C$zut){this._bitmap.sizeGrid=C$zuE.fillArray(C$zus.defaultSizeGrid,C$zut,Number)}),C$zur(0,C$zut,"group",function(){return this._group},function(C$zut){C$zut&&this._skin&&C$zup.setGroup(this._skin,C$zut),this._group=C$zut}),C$zur(0,C$zut,"clipHeight",function(){return this._clipHeight},function(C$zut){this._clipHeight=C$zut,this._setClipChanged()}),C$zur(0,C$zut,"width",C$zuut.prototype._$get_width,function(C$zut){C$zuf.superSet(C$zua,this,"width",C$zut),this._bitmap.width=C$zut}),C$zur(0,C$zut,"height",C$zuut.prototype._$get_height,function(C$zut){C$zuf.superSet(C$zua,this,"height",C$zut),this._bitmap.height=C$zut}),C$zur(0,C$zut,"measureWidth",function(){return this.runCallLater(this.changeClip),this._bitmap.width}),C$zur(0,C$zut,"measureHeight",function(){return this.runCallLater(this.changeClip),this._bitmap.height}),C$zur(0,C$zut,"index",function(){return this._index},function(C$zut){this._index=C$zut,this._bitmap&&this._sources&&(this._bitmap.source=this._sources[C$zut]),this.event("change")}),C$zur(0,C$zut,"autoPlay",function(){return this._autoPlay},function(C$zut){this._autoPlay!=C$zut&&((this._autoPlay=C$zut)?this.play():this.stop())}),C$zur(0,C$zut,"isPlaying",function(){return this._isPlaying},function(C$zut){this._isPlaying=C$zut}),C$zur(0,C$zut,"dataSource",C$zuut.prototype._$get_dataSource,function(C$zut){"number"==typeof(this._dataSource=C$zut)&&Math.floor(C$zut)==C$zut||"string"==typeof C$zut?this.index=parseInt(C$zut):C$zuf.superSet(C$zua,this,"dataSource",C$zut)}),C$zur(0,C$zut,"bitmap",function(){return this._bitmap}),$P),C$zuB=function(C$zue){function $m(){this.changeHandler=null,this._gridSize=11,this._bgColor="#ffffff",this._borderColor="#000000",this._inputColor="#000000",this._inputBgColor="#efefef",this._colorPanel=null,this._colorTiles=null,this._colorBlock=null,this._colorInput=null,this._colorButton=null,this._colors=[],this._selectedColor="#000000",this._panelChanged=!1,$m.__super.call(this)}C$zun($m,"laya.ui.ColorPicker",C$zue);var C$zut=$m.prototype;return C$zut.destroy=function(C$zut){C$zue.prototype.destroy.call(this,C$zut=void 0===C$zut?!0:C$zut),this._colorPanel&&this._colorPanel.destroy(C$zut),this._colorButton&&this._colorButton.destroy(C$zut),this._colorPanel=null,this._colorTiles=null,this._colorBlock=null,this._colorInput=null,this._colorButton=null,this._colors=null,this.changeHandler=null},C$zut.createChildren=function(){this.addChild(this._colorButton=new C$zuR),this._colorPanel=new C$zud,this._colorPanel.size(230,166),this._colorPanel.addChild(this._colorTiles=new C$zub),this._colorPanel.addChild(this._colorBlock=new C$zub),this._colorPanel.addChild(this._colorInput=new C$zuv)},C$zut.initialize=function(){this._colorButton.on("click",this,this.onColorButtonClick),this._colorBlock.pos(5,5),this._colorInput.pos(60,5),this._colorInput.size(60,20),this._colorInput.on("change",this,this.onColorInputChange),this._colorInput.on("keydown",this,this.onColorFieldKeyDown),this._colorTiles.pos(5,30),this._colorTiles.on("mousemove",this,this.onColorTilesMouseMove),this._colorTiles.on("click",this,this.onColorTilesClick),this._colorTiles.size(20*this._gridSize,12*this._gridSize),this._colorPanel.on("mousedown",this,this.onPanelMouseDown),this.bgColor=this._bgColor},C$zut.onPanelMouseDown=function(C$zut){C$zut.stopPropagation()},C$zut.changePanel=function(){this._panelChanged=!1;var C$zut=this._colorPanel.graphics;C$zut.clear(),C$zut.drawRect(0,0,230,166,this._bgColor,this._borderColor),this.drawBlock(this._selectedColor),this._colorInput.borderColor=this._borderColor,this._colorInput.bgColor=this._inputBgColor,this._colorInput.color=this._inputColor,(C$zut=this._colorTiles.graphics).clear();for(var C$zue=[0,3355443,6710886,10066329,13421772,16777215,16711680,65280,255,16776960,65535,16711935],C$zui=0;C$zui<12;C$zui++)for(var C$zun=0;C$zun<20;C$zun++){var C$zur=C$zuE.toColor(0===C$zun?C$zue[C$zui]:1===C$zun?0:51*(((3*C$zui+C$zun/6)%3<<0)+3*(C$zui/6<<0))<<16|C$zun%6*51<<8|(C$zui<<0)%6*51);this._colors.push(C$zur);var C$zus=C$zun*this._gridSize,C$zua=C$zui*this._gridSize;C$zut.drawRect(C$zus,C$zua,this._gridSize,this._gridSize,C$zur,"#000000")}},C$zut.onColorButtonClick=function(C$zut){this._colorPanel.parent?this.close():this.open()},C$zut.open=function(){var C$zut=this.localToGlobal(new C$zu$),C$zue=C$zut.x+this._colorPanel.width<=C$zuf.stage.width?C$zut.x:C$zuf.stage.width-this._colorPanel.width,C$zui=C$zut.y+this._colorButton.height;C$zui=C$zui+this._colorPanel.height<=C$zuf.stage.height?C$zui:C$zut.y-this._colorPanel.height,this._colorPanel.pos(C$zue,C$zui),this._colorPanel.zOrder=1001,C$zuf._currentStage.addChild(this._colorPanel),C$zuf.stage.on("mousedown",this,this.removeColorBox)},C$zut.close=function(){C$zuf.stage.off("mousedown",this,this.removeColorBox),this._colorPanel.removeSelf()},C$zut.removeColorBox=function(C$zut){this.close()},C$zut.onColorFieldKeyDown=function(C$zut){13==C$zut.keyCode&&(this._colorInput.text?this.selectedColor=this._colorInput.text:this.selectedColor=null,this.close(),C$zut.stopPropagation())},C$zut.onColorInputChange=function(C$zut){this._colorInput.text?this.drawBlock(this._colorInput.text):this.drawBlock("#FFFFFF")},C$zut.onColorTilesClick=function(C$zut){this.selectedColor=this.getColorByMouse(),this.close()},C$zut.onColorTilesMouseMove=function(C$zut){this._colorInput.focus=!1;var C$zue=this.getColorByMouse();this._colorInput.text=C$zue,this.drawBlock(C$zue)},C$zut.getColorByMouse=function(){var C$zut=this._colorTiles.getMousePoint(),C$zue=Math.floor(C$zut.x/this._gridSize),C$zut=Math.floor(C$zut.y/this._gridSize);return this._colors[20*C$zut+C$zue]},C$zut.drawBlock=function(C$zut){var C$zue=this._colorBlock.graphics;C$zue.clear(),C$zue.drawRect(0,0,50,20,C$zut||"#ffffff",this._borderColor),C$zut||C$zue.drawLine(0,0,50,20,"#ff0000")},C$zut.changeColor=function(){var C$zut=this.graphics;C$zut.clear();var C$zue=this._selectedColor||"#000000";C$zut.drawRect(0,0,this._colorButton.width,this._colorButton.height,C$zue)},C$zut._setPanelChanged=function(){this._panelChanged||(this._panelChanged=!0,this.callLater(this.changePanel))},C$zur(0,C$zut,"inputBgColor",function(){return this._inputBgColor},function(C$zut){this._inputBgColor=C$zut,this._setPanelChanged()}),C$zur(0,C$zut,"selectedColor",function(){return this._selectedColor},function(C$zut){this._selectedColor!=C$zut&&(this._selectedColor=this._colorInput.text=C$zut,this.drawBlock(C$zut),this.changeColor(),this.changeHandler&&this.changeHandler.runWith(this._selectedColor),this.event("change",C$zuu.EMPTY.setTo("change",this,this)))}),C$zur(0,C$zut,"skin",function(){return this._colorButton.skin},function(C$zut){this._colorButton.skin=C$zut,this.changeColor()}),C$zur(0,C$zut,"bgColor",function(){return this._bgColor},function(C$zut){this._bgColor=C$zut,this._setPanelChanged()}),C$zur(0,C$zut,"borderColor",function(){return this._borderColor},function(C$zut){this._borderColor=C$zut,this._setPanelChanged()}),C$zur(0,C$zut,"inputColor",function(){return this._inputColor},function(C$zut){this._inputColor=C$zut,this._setPanelChanged()}),$m}(C$zua),C$zuN=function(C$zue){function $h(C$zut,C$zue){this._visibleNum=6,this._button=null,this._list=null,this._isOpen=!1,this._itemSize=12,this._labels=[],this._selectedIndex=-1,this._selectHandler=null,this._itemHeight=NaN,this._listHeight=NaN,this._listChanged=!1,this._itemChanged=!1,this._scrollBarSkin=null,this._isCustomList=!1,this.itemRender=null,$h.__super.call(this),this._itemColors=C$zus.comboBoxItemColors,this.skin=C$zut,this.labels=C$zue}C$zun($h,"laya.ui.ComboBox",C$zue);var C$zut=$h.prototype;return C$zut.destroy=function(C$zut){C$zue.prototype.destroy.call(this,C$zut=void 0===C$zut?!0:C$zut),this._button&&this._button.destroy(C$zut),this._list&&this._list.destroy(C$zut),this._button=null,this._list=null,this._itemColors=null,this._labels=null,this._selectHandler=null},C$zut.createChildren=function(){this.addChild(this._button=new C$zuR),this._button.text.align="left",this._button.labelPadding="0,0,0,5",this._button.on("mousedown",this,this.onButtonMouseDown)},C$zut._createList=function(){this._list=new C$zuY,this._scrollBarSkin&&(this._list.vScrollBarSkin=this._scrollBarSkin),this._setListEvent(this._list)},C$zut._setListEvent=function(C$zut){this._list.selectEnable=!0,this._list.on("mousedown",this,this.onListDown),this._list.mouseHandler=C$zug.create(this,this.onlistItemMouse,null,!1),this._list.scrollBar&&this._list.scrollBar.on("mousedown",this,this.onScrollBarDown)},C$zut.onListDown=function(C$zut){C$zut.stopPropagation()},C$zut.onScrollBarDown=function(C$zut){C$zut.stopPropagation()},C$zut.onButtonMouseDown=function(C$zut){this.callLater(this.switchTo,[!this._isOpen])},C$zut.changeList=function(){this._listChanged=!1;var C$zut=this.width-2,C$zue=this._itemColors[2];this._itemHeight=this._itemSize+6,this._list.itemRender=this.itemRender||{type:"Box",child:[{type:"Label",props:{name:"label",x:1,padding:"3,3,3,3",width:C$zut,height:this._itemHeight,fontSize:this._itemSize,color:C$zue}}]},this._list.repeatY=this._visibleNum,this._list.refresh()},C$zut.onlistItemMouse=function(C$zut,C$zue){C$zut=C$zut.type;var C$zui;"mouseover"===C$zut||"mouseout"===C$zut?this._isCustomList||(!(C$zui=this._list.getCell(C$zue))||(C$zui=C$zui.getChildByName("label"))&&("mouseover"===C$zut?(C$zui.bgColor=this._itemColors[0],C$zui.color=this._itemColors[1]):(C$zui.bgColor=null,C$zui.color=this._itemColors[2]))):"click"===C$zut&&(this.selectedIndex=C$zue,this.isOpen=!1)},C$zut.switchTo=function(C$zut){this.isOpen=C$zut},C$zut.changeOpen=function(){this.isOpen=!this._isOpen},C$zut.changeItem=function(){var C$zut;this._itemChanged=!1,this._listHeight=0<this._labels.length?Math.min(this._visibleNum,this._labels.length)*this._itemHeight:this._itemHeight,this._isCustomList||((C$zut=this._list.graphics).clear(),C$zut.drawRect(0,0,this.width-1,this._listHeight,this._itemColors[4],this._itemColors[3]));for(var C$zue=this._list.array||[],C$zui=C$zue.length=0,C$zun=this._labels.length;C$zui<C$zun;C$zui++)C$zue.push({label:this._labels[C$zui]});this._list.height=this._listHeight,this._list.array=C$zue},C$zut.changeSelected=function(){this._button.label=this.selectedLabel},C$zut._onStageMouseWheel=function(C$zut){this._list&&!this._list.contains(C$zut.target)&&this.removeList(null)},C$zut.removeList=function(C$zut){C$zuf.stage.off("mousedown",this,this.removeList),C$zuf.stage.off("mousewheel",this,this._onStageMouseWheel),this.isOpen=!1},C$zur(0,C$zut,"selectedIndex",function(){return this._selectedIndex},function(C$zut){this._selectedIndex!=C$zut&&(this._selectedIndex=C$zut,0<this._labels.length?this.changeSelected():this.callLater(this.changeSelected),this.event("change",[C$zuu.EMPTY.setTo("change",this,this)]),this._selectHandler&&this._selectHandler.runWith(this._selectedIndex))}),C$zur(0,C$zut,"measureHeight",function(){return this._button.height}),C$zur(0,C$zut,"skin",function(){return this._button.skin},function(C$zut){this._button.skin!=C$zut&&(this._button.skin=C$zut,this._listChanged=!0)}),C$zur(0,C$zut,"measureWidth",function(){return this._button.width}),C$zur(0,C$zut,"width",C$zue.prototype._$get_width,function(C$zut){C$zuf.superSet(C$zua,this,"width",C$zut),this._button.width=this._width,this._itemChanged=!0,this._listChanged=!0}),C$zur(0,C$zut,"selectedLabel",function(){return-1<this._selectedIndex&&this._selectedIndex<this._labels.length?this._labels[this._selectedIndex]:null},function(C$zut){this.selectedIndex=this._labels.indexOf(C$zut)}),C$zur(0,C$zut,"labels",function(){return this._labels.join(",")},function(C$zut){0<this._labels.length&&(this.selectedIndex=-1),C$zut?this._labels=C$zut.split(","):this._labels.length=0,this._itemChanged=!0}),C$zur(0,C$zut,"height",C$zue.prototype._$get_height,function(C$zut){C$zuf.superSet(C$zua,this,"height",C$zut),this._button.height=this._height}),C$zur(0,C$zut,"selectHandler",function(){return this._selectHandler},function(C$zut){this._selectHandler=C$zut}),C$zur(0,C$zut,"visibleNum",function(){return this._visibleNum},function(C$zut){this._visibleNum=C$zut,this._listChanged=!0}),C$zur(0,C$zut,"labelBold",function(){return this._button.text.bold},function(C$zut){this._button.text.bold=C$zut}),C$zur(0,C$zut,"itemColors",function(){return String(this._itemColors)},function(C$zut){this._itemColors=C$zuE.fillArray(this._itemColors,C$zut,String),this._listChanged=!0}),C$zur(0,C$zut,"itemSize",function(){return this._itemSize},function(C$zut){this._itemSize=C$zut,this._listChanged=!0}),C$zur(0,C$zut,"scrollBar",function(){return this.list.scrollBar}),C$zur(0,C$zut,"isOpen",function(){return this._isOpen},function(C$zut){var C$zue;this._isOpen!=C$zut&&(this._isOpen=C$zut,this._button.selected=this._isOpen,this._isOpen?(this._list||this._createList(),this._listChanged&&!this._isCustomList&&this.changeList(),this._itemChanged&&this.changeItem(),C$zue=(C$zue=(C$zut=this.localToGlobal(C$zu$.TEMP.setTo(0,0))).y+this._button.height)+this._listHeight<=C$zuf.stage.height?C$zue:C$zut.y-this._listHeight,this._list.pos(C$zut.x,C$zue),this._list.zOrder=1001,C$zuf._currentStage.addChild(this._list),C$zuf.stage.once("mousedown",this,this.removeList),C$zuf.stage.on("mousewheel",this,this._onStageMouseWheel),this._list.selectedIndex=this._selectedIndex):this._list&&this._list.removeSelf())}),C$zur(0,C$zut,"scrollBarSkin",function(){return this._scrollBarSkin},function(C$zut){this._scrollBarSkin=C$zut}),C$zur(0,C$zut,"sizeGrid",function(){return this._button.sizeGrid},function(C$zut){this._button.sizeGrid=C$zut}),C$zur(0,C$zut,"button",function(){return this._button}),C$zur(0,C$zut,"list",function(){return this._list||this._createList(),this._list},function(C$zut){C$zut&&(C$zut.removeSelf(),this._isCustomList=!0,this._list=C$zut,this._setListEvent(C$zut),this._itemHeight=C$zut.getCell(0).height+C$zut.spaceY)}),C$zur(0,C$zut,"dataSource",C$zue.prototype._$get_dataSource,function(C$zut){"number"==typeof(this._dataSource=C$zut)&&Math.floor(C$zut)==C$zut||"string"==typeof C$zut?this.selectedIndex=parseInt(C$zut):C$zut instanceof Array?this.labels=C$zut.join(","):C$zuf.superSet(C$zua,this,"dataSource",C$zut)}),C$zur(0,C$zut,"labelColors",function(){return this._button.labelColors},function(C$zut){this._button.labelColors!=C$zut&&(this._button.labelColors=C$zut)}),C$zur(0,C$zut,"labelPadding",function(){return this._button.text.padding.join(",")},function(C$zut){this._button.text.padding=C$zuE.fillArray(C$zus.labelPadding,C$zut,Number)}),C$zur(0,C$zut,"labelSize",function(){return this._button.text.fontSize},function(C$zut){this._button.text.fontSize=C$zut}),C$zur(0,C$zut,"labelFont",function(){return this._button.text.font},function(C$zut){this._button.text.font=C$zut}),C$zur(0,C$zut,"stateNum",function(){return this._button.stateNum},function(C$zut){this._button.stateNum=C$zut}),$h}(C$zua),C$zuF=function(C$zue){function $h(C$zut){this.rollRatio=.95,this.changeHandler=null,this.scaleBar=!0,this.autoHide=!1,this.elasticDistance=0,this.elasticBackTime=500,this.upButton=null,this.downButton=null,this.slider=null,this._scrollSize=1,this._skin=null,this._thumbPercent=1,this._target=null,this._lastPoint=null,this._lastOffset=0,this._checkElastic=!1,this._isElastic=!1,this._value=NaN,this._hide=!1,this._clickOnly=!0,this._offsets=null,$h.__super.call(this),this._showButtons=C$zuP.showButtons,this._touchScrollEnable=C$zuP.touchScrollEnable,this._mouseWheelEnable=C$zuP.mouseWheelEnable,this.skin=C$zut,this.max=1}C$zun($h,"laya.ui.ScrollBar",C$zue);var C$zut=$h.prototype;return C$zut.destroy=function(C$zut){void 0===C$zut&&(C$zut=!0),this.stopScroll(),this.target=null,C$zue.prototype.destroy.call(this,C$zut),this.upButton&&this.upButton.destroy(C$zut),this.downButton&&this.downButton.destroy(C$zut),this.slider&&this.slider.destroy(C$zut),this.upButton=this.downButton=null,this.slider=null,this.changeHandler=null,this._offsets=null},C$zut.createChildren=function(){this.addChild(this.slider=new C$zuO),this.addChild(this.upButton=new C$zuR),this.addChild(this.downButton=new C$zuR)},C$zut.initialize=function(){this.slider.showLabel=!1,this.slider.on("change",this,this.onSliderChange),this.slider.setSlider(0,0,0),this.upButton.on("mousedown",this,this.onButtonMouseDown),this.downButton.on("mousedown",this,this.onButtonMouseDown)},C$zut.onSliderChange=function(){this._value!=this.slider.value&&(this.value=this.slider.value)},C$zut.onButtonMouseDown=function(C$zut){C$zut=C$zut.currentTarget===this.upButton;this.slide(C$zut),C$zuf.timer.once(C$zus.scrollBarDelayTime,this,this.startLoop,[C$zut]),C$zuf.stage.once("mouseup",this,this.onStageMouseUp)},C$zut.startLoop=function(C$zut){C$zuf.timer.frameLoop(1,this,this.slide,[C$zut])},C$zut.slide=function(C$zut){C$zut?this.value-=this._scrollSize:this.value+=this._scrollSize},C$zut.onStageMouseUp=function(C$zut){C$zuf.timer.clear(this,this.startLoop),C$zuf.timer.clear(this,this.slide)},C$zut.changeScrollBar=function(){this.upButton.visible=this._showButtons,this.downButton.visible=this._showButtons,this._showButtons&&(this.upButton.skin=this._skin.replace(".png","$up.png"),this.downButton.skin=this._skin.replace(".png","$down.png")),this.slider.isVertical?this.slider.y=this._showButtons?this.upButton.height:0:this.slider.x=this._showButtons?this.upButton.width:0,this.resetPositions(),this.repaint()},C$zut.changeSize=function(){C$zue.prototype.changeSize.call(this),this.repaint(),this.resetPositions(),this.event("change"),this.changeHandler&&this.changeHandler.runWith(this.value)},C$zut.resetPositions=function(){this.slider.isVertical?this.slider.height=this.height-(this._showButtons?this.upButton.height+this.downButton.height:0):this.slider.width=this.width-(this._showButtons?this.upButton.width+this.downButton.width:0),this.resetButtonPosition()},C$zut.resetButtonPosition=function(){this.slider.isVertical?this.downButton.y=this.slider.y+this.slider.height:this.downButton.x=this.slider.x+this.slider.width},C$zut.setScroll=function(C$zut,C$zue,C$zui){this.runCallLater(this.changeSize),this.slider.setSlider(C$zut,C$zue,C$zui),this.slider.bar.visible=0<C$zue,!this._hide&&this.autoHide&&(this.visible=!1)},C$zut.onTargetMouseWheel=function(C$zut){this.value-=C$zut.delta*this._scrollSize,this.target=this._target},C$zut.onTargetMouseDown=function(C$zut){this._clickOnly=!0,this._lastOffset=0,this._checkElastic=!1,this._lastPoint||(this._lastPoint=new C$zu$),this._lastPoint.setTo(C$zuf.stage.mouseX,C$zuf.stage.mouseY),C$zuf.timer.clear(this,this.tweenMove),C$zuM.clearTween(this),C$zuf.stage.once("mouseup",this,this.onStageMouseUp2),C$zuf.stage.once("mouseout",this,this.onStageMouseUp2),C$zuf.timer.frameLoop(1,this,this.loop)},C$zut.loop=function(){var C$zut=C$zuf.stage.mouseY,C$zue=C$zuf.stage.mouseX;if(this._lastOffset=this.isVertical?C$zut-this._lastPoint.y:C$zue-this._lastPoint.x,this._clickOnly){if(!(1<Math.abs(this._lastOffset*(this.isVertical?C$zuf.stage._canvasTransform.getScaleY():C$zuf.stage._canvasTransform.getScaleX()))))return;this._clickOnly=!1,this._offsets||(this._offsets=[]),this._offsets.length=0,this._target.mouseEnabled=!1,!this.hide&&this.autoHide&&(this.alpha=1,this.visible=!0),this.event("start")}this._offsets.push(this._lastOffset),this._lastPoint.x=C$zue,this._lastPoint.y=C$zut,0!==this._lastOffset&&(this._checkElastic||(0<this.elasticDistance?this._checkElastic||0==this._lastOffset||(0<this._lastOffset&&this._value<=this.min||this._lastOffset<0&&this._value>=this.max?(this._isElastic=!0,this._checkElastic=!0):this._isElastic=!1):this._checkElastic=!0),this._isElastic?this._value<=this.min?this.value-=this._lastOffset*Math.max(0,1-(this.min-this._value)/this.elasticDistance):this._value>=this.max&&(this.value-=this._lastOffset*Math.max(0,1-(this._value-this.max)/this.elasticDistance)):this.value-=this._lastOffset)},C$zut.onStageMouseUp2=function(C$zut){if(C$zuf.stage.off("mouseup",this,this.onStageMouseUp2),C$zuf.stage.off("mouseout",this,this.onStageMouseUp2),C$zuf.timer.clear(this,this.loop),!(this._clickOnly&&this._value>=this.min&&this._value<=this.max))if(this._target.mouseEnabled=!0,this._isElastic)this._value<this.min?C$zuM.to(this,{value:this.min},this.elasticBackTime,C$zul.sineOut,C$zug.create(this,this.elasticOver)):this._value>this.max&&C$zuM.to(this,{value:this.max},this.elasticBackTime,C$zul.sineOut,C$zug.create(this,this.elasticOver));else if(this._offsets){this._offsets.length<1&&(this._offsets[0]=this.isVertical?C$zuf.stage.mouseY-this._lastPoint.y:C$zuf.stage.mouseX-this._lastPoint.x);for(var C$zue=0,C$zui=Math.min(this._offsets.length,3),C$zun=0;C$zun<C$zui;C$zun++)C$zue+=this._offsets[this._offsets.length-1-C$zun];var C$zur;this._lastOffset=C$zue/C$zui,(C$zue=Math.abs(this._lastOffset))<2?this.event("end"):(60<C$zue&&(this._lastOffset=0<this._lastOffset?60:-60),C$zur=Math.round(Math.abs(this.elasticDistance*(this._lastOffset/240))),C$zuf.timer.frameLoop(1,this,this.tweenMove,[C$zur]))}},C$zut.elasticOver=function(){this._isElastic=!1,!this.hide&&this.autoHide&&C$zuM.to(this,{alpha:0},500),this.event("end")},C$zut.tweenMove=function(C$zut){this._lastOffset*=this.rollRatio;var C$zue=NaN;0<C$zut&&(0<this._lastOffset&&this.value<=this.min?(this._isElastic=!0,C$zue=.5*-(this.min-C$zut-this.value),this._lastOffset>C$zue&&(this._lastOffset=C$zue)):this._lastOffset<0&&this.value>=this.max&&(this._isElastic=!0,C$zue=.5*-(this.max+C$zut-this.value),this._lastOffset<C$zue&&(this._lastOffset=C$zue))),this.value-=this._lastOffset,Math.abs(this._lastOffset)<1&&(C$zuf.timer.clear(this,this.tweenMove),this._isElastic?this._value<this.min?C$zuM.to(this,{value:this.min},this.elasticBackTime,C$zul.sineOut,C$zug.create(this,this.elasticOver)):this._value>this.max?C$zuM.to(this,{value:this.max},this.elasticBackTime,C$zul.sineOut,C$zug.create(this,this.elasticOver)):this.elasticOver():(this.event("end"),!this.hide&&this.autoHide&&C$zuM.to(this,{alpha:0},500)))},C$zut.stopScroll=function(){this.onStageMouseUp2(null),C$zuf.timer.clear(this,this.tweenMove),C$zuM.clearTween(this)},C$zur(0,C$zut,"measureHeight",function(){return this.slider.isVertical?100:this.slider.height}),C$zur(0,C$zut,"skin",function(){return this._skin},function(C$zut){this._skin!=C$zut&&(this._skin=C$zut,this.slider.skin=this._skin,this.callLater(this.changeScrollBar))}),C$zur(0,C$zut,"max",function(){return this.slider.max},function(C$zut){this.slider.max=C$zut}),C$zur(0,C$zut,"showButtons",function(){return this._showButtons},function(C$zut){this._showButtons=C$zut,this.callLater(this.changeScrollBar)}),C$zur(0,C$zut,"measureWidth",function(){return this.slider.isVertical?this.slider.width:100}),C$zur(0,C$zut,"min",function(){return this.slider.min},function(C$zut){this.slider.min=C$zut}),C$zur(0,C$zut,"value",function(){return this._value},function(C$zut){C$zut!==this._value&&(this._value=C$zut,this._isElastic||(this.slider._value!=C$zut&&(this.slider._value=C$zut,this.slider.changeValue()),this._value=this.slider._value),this.event("change"),this.changeHandler&&this.changeHandler.runWith(this._value))}),C$zur(0,C$zut,"isVertical",function(){return this.slider.isVertical},function(C$zut){this.slider.isVertical=C$zut}),C$zur(0,C$zut,"sizeGrid",function(){return this.slider.sizeGrid},function(C$zut){this.slider.sizeGrid=C$zut}),C$zur(0,C$zut,"scrollSize",function(){return this._scrollSize},function(C$zut){this._scrollSize=C$zut}),C$zur(0,C$zut,"dataSource",C$zue.prototype._$get_dataSource,function(C$zut){"number"==typeof(this._dataSource=C$zut)||"string"==typeof C$zut?this.value=Number(C$zut):C$zuf.superSet(C$zua,this,"dataSource",C$zut)}),C$zur(0,C$zut,"thumbPercent",function(){return this._thumbPercent},function(C$zut){this.runCallLater(this.changeScrollBar),this.runCallLater(this.changeSize),this._thumbPercent=C$zut=1<=C$zut?.99:C$zut,this.scaleBar&&(this.slider.isVertical?this.slider.bar.height=Math.max(this.slider.height*C$zut,C$zus.scrollBarMinNum):this.slider.bar.width=Math.max(this.slider.width*C$zut,C$zus.scrollBarMinNum))}),C$zur(0,C$zut,"target",function(){return this._target},function(C$zut){this._target&&(this._target.off("mousewheel",this,this.onTargetMouseWheel),this._target.off("mousedown",this,this.onTargetMouseDown)),(this._target=C$zut)&&(this._mouseWheelEnable&&this._target.on("mousewheel",this,this.onTargetMouseWheel),this._touchScrollEnable&&this._target.on("mousedown",this,this.onTargetMouseDown))}),C$zur(0,C$zut,"hide",function(){return this._hide},function(C$zut){this._hide=C$zut,this.visible=!C$zut}),C$zur(0,C$zut,"touchScrollEnable",function(){return this._touchScrollEnable},function(C$zut){this._touchScrollEnable=C$zut,this.target=this._target}),C$zur(0,C$zut,"mouseWheelEnable",function(){return this._mouseWheelEnable},function(C$zut){this._mouseWheelEnable=C$zut,this.target=this._target}),C$zur(0,C$zut,"tick",function(){return this.slider.tick},function(C$zut){this.slider.tick=C$zut}),$h}(C$zua),C$zuO=function(C$zue){function $h(C$zut){this.changeHandler=null,this.isVertical=!0,this.showLabel=!0,this._allowClickBack=!1,this._max=100,this._min=0,this._tick=1,this._value=0,this._skin=null,this._bg=null,this._progress=null,this._bar=null,this._tx=NaN,this._ty=NaN,this._maxMove=NaN,this._globalSacle=null,$h.__super.call(this),this.skin=C$zut}C$zun($h,"laya.ui.Slider",C$zue);var C$zut=$h.prototype;return C$zut.destroy=function(C$zut){C$zue.prototype.destroy.call(this,C$zut=void 0===C$zut?!0:C$zut),this._bg&&this._bg.destroy(C$zut),this._bar&&this._bar.destroy(C$zut),this._progress&&this._progress.destroy(C$zut),this._bg=null,this._bar=null,this._progress=null,this.changeHandler=null},C$zut.createChildren=function(){this.addChild(this._bg=new C$zuV),this.addChild(this._bar=new C$zuR)},C$zut.initialize=function(){this._bar.on("mousedown",this,this.onBarMouseDown),this._bg.sizeGrid=this._bar.sizeGrid="4,4,4,4,0",this._progress&&(this._progress.sizeGrid=this._bar.sizeGrid),this.allowClickBack=!0},C$zut.onBarMouseDown=function(C$zut){this._globalSacle||(this._globalSacle=new C$zu$),this._globalSacle.setTo(this.globalScaleX||.01,this.globalScaleY||.01),this._maxMove=this.isVertical?this.height-this._bar.height:this.width-this._bar.width,this._tx=C$zuf.stage.mouseX,this._ty=C$zuf.stage.mouseY,C$zuf.stage.on("mousemove",this,this.mouseMove),C$zuf.stage.once("mouseup",this,this.mouseUp),C$zuf.stage.once("mouseout",this,this.mouseUp),this.showValueText()},C$zut.showValueText=function(){var C$zut;this.showLabel&&(C$zut=laya.ui.Slider.label,this.addChild(C$zut),C$zut.textField.changeText(this._value+""),this.isVertical?(C$zut.x=this._bar.x+20,C$zut.y=.5*(this._bar.height-C$zut.height)+this._bar.y):(C$zut.y=this._bar.y-20,C$zut.x=.5*(this._bar.width-C$zut.width)+this._bar.x))},C$zut.hideValueText=function(){laya.ui.Slider.label&&laya.ui.Slider.label.removeSelf()},C$zut.mouseUp=function(C$zut){C$zuf.stage.off("mousemove",this,this.mouseMove),C$zuf.stage.off("mouseup",this,this.mouseUp),C$zuf.stage.off("mouseout",this,this.mouseUp),this.sendChangeEvent("changed"),this.hideValueText()},C$zut.mouseMove=function(C$zut){var C$zue=this._value;this.isVertical?(this._bar.y+=(C$zuf.stage.mouseY-this._ty)/this._globalSacle.y,this._bar.y>this._maxMove?this._bar.y=this._maxMove:this._bar.y<0&&(this._bar.y=0),this._value=this._bar.y/this._maxMove*(this._max-this._min)+this._min,this._progress&&(this._progress.height=this._bar.y+.5*this._bar.height)):(this._bar.x+=(C$zuf.stage.mouseX-this._tx)/this._globalSacle.x,this._bar.x>this._maxMove?this._bar.x=this._maxMove:this._bar.x<0&&(this._bar.x=0),this._value=this._bar.x/this._maxMove*(this._max-this._min)+this._min,this._progress&&(this._progress.width=this._bar.x+.5*this._bar.width)),this._tx=C$zuf.stage.mouseX,this._ty=C$zuf.stage.mouseY;var C$zui=Math.pow(10,(this._tick+"").length-1);this._value=Math.round(Math.round(this._value/this._tick)*this._tick*C$zui)/C$zui,this._value!=C$zue&&this.sendChangeEvent(),this.showValueText()},C$zut.sendChangeEvent=function(C$zut){this.event(C$zut=void 0===C$zut?"change":C$zut),this.changeHandler&&this.changeHandler.runWith(this._value)},C$zut.setBarPoint=function(){this.isVertical?this._bar.x=Math.round(.5*(this._bg.width-this._bar.width)):this._bar.y=Math.round(.5*(this._bg.height-this._bar.height))},C$zut.changeSize=function(){C$zue.prototype.changeSize.call(this),this.isVertical?this._bg.height=this.height:this._bg.width=this.width,this.setBarPoint(),this.changeValue()},C$zut.setSlider=function(C$zut,C$zue,C$zui){this._value=-1,this._min=C$zut,this._max=C$zut<C$zue?C$zue:C$zut,this.value=C$zui<C$zut?C$zut:C$zue<C$zui?C$zue:C$zui},C$zut.changeValue=function(){var C$zut=Math.pow(10,(this._tick+"").length-1);this._value=Math.round(Math.round(this._value/this._tick)*this._tick*C$zut)/C$zut,this._value=this._value>this._max?this._max:this._value<this._min?this._min:this._value;C$zut=this._max-this._min;0===C$zut&&(C$zut=1),this.isVertical?(this._bar.y=(this._value-this._min)/C$zut*(this.height-this._bar.height),this._progress&&(this._progress.height=this._bar.y+.5*this._bar.height)):(this._bar.x=(this._value-this._min)/C$zut*(this.width-this._bar.width),this._progress&&(this._progress.width=this._bar.x+.5*this._bar.width))},C$zut.onBgMouseDown=function(C$zut){var C$zue=this._bg.getMousePoint();this.isVertical?this.value=C$zue.y/(this.height-this._bar.height)*(this._max-this._min)+this._min:this.value=C$zue.x/(this.width-this._bar.width)*(this._max-this._min)+this._min},C$zur(0,C$zut,"measureHeight",function(){return Math.max(this._bg.height,this._bar.height)}),C$zur(0,C$zut,"skin",function(){return this._skin},function(C$zut){this._skin!=C$zut&&(this._skin=C$zut,this._bg.skin=this._skin,this._bar.skin=this._skin.replace(".png","$bar.png"),C$zut=this._skin.replace(".png","$progress.png"),C$zup.getRes(C$zut)&&(this._progress||(this.addChild(this._progress=new C$zuV),this._progress.sizeGrid=this._bar.sizeGrid,this.setChildIndex(this._progress,1)),this._progress.skin=C$zut),this.setBarPoint(),this.callLater(this.changeValue))}),C$zur(0,C$zut,"allowClickBack",function(){return this._allowClickBack},function(C$zut){this._allowClickBack!=C$zut&&((this._allowClickBack=C$zut)?this._bg.on("mousedown",this,this.onBgMouseDown):this._bg.off("mousedown",this,this.onBgMouseDown))}),C$zur(0,C$zut,"max",function(){return this._max},function(C$zut){this._max!=C$zut&&(this._max=C$zut,this.callLater(this.changeValue))}),C$zur(0,C$zut,"measureWidth",function(){return Math.max(this._bg.width,this._bar.width)}),C$zur(0,C$zut,"tick",function(){return this._tick},function(C$zut){this._tick!=C$zut&&(this._tick=C$zut,this.callLater(this.changeValue))}),C$zur(0,C$zut,"sizeGrid",function(){return this._bg.sizeGrid},function(C$zut){this._bg.sizeGrid=C$zut,this._bar.sizeGrid=C$zut,this._progress&&(this._progress.sizeGrid=this._bar.sizeGrid)}),C$zur(0,C$zut,"min",function(){return this._min},function(C$zut){this._min!=C$zut&&(this._min=C$zut,this.callLater(this.changeValue))}),C$zur(0,C$zut,"value",function(){return this._value},function(C$zut){var C$zue;this._value!=C$zut&&(C$zue=this._value,this._value=C$zut,this.changeValue(),this._value!=C$zue&&this.sendChangeEvent())}),C$zur(0,C$zut,"dataSource",C$zue.prototype._$get_dataSource,function(C$zut){"number"==typeof(this._dataSource=C$zut)||"string"==typeof C$zut?this.value=Number(C$zut):C$zuf.superSet(C$zua,this,"dataSource",C$zut)}),C$zur(0,C$zut,"bar",function(){return this._bar}),C$zuo($h,["label",function(){return this.label=new C$zuk}]),$h}(C$zua),C$zuV=function(C$zue){function $h(C$zut){this._bitmap=null,this._skin=null,this._group=null,this._complete=null,this._progress=null,$h.__super.call(this),this.skin=C$zut}C$zun($h,"laya.ui.Image",C$zue);var C$zut=$h.prototype;return C$zut.destroy=function(C$zut){void 0===C$zut&&(C$zut=!0),C$zue.prototype.destroy.call(this,!0),this.clearLoad(),this.clearEvent(),this._bitmap&&this._bitmap.destroy(),this._bitmap=null,C$zup.clearCache(this,this._skin)},C$zut.dispose=function(){this.destroy(!0),C$zup.clearCache(this,this._skin),this.clearEvent()},C$zut.createChildren=function(){this.graphics=this._bitmap=new C$zuA},C$zut.setSource=function(C$zut,C$zue){this.destroyed||C$zut===this._skin&&C$zue&&(this.source=C$zue,this.onCompResize(),this.clearEvent())},C$zut.clearEvent=function(){this._skin&&C$zui.atalsNotify&&C$zui.atalsNotify.off(this._skin,this,this.setSource)},C$zut.clearLoad=function(){this._skin&&((this._complete||this._progress)&&C$zuf.loader.cancel(this._skin,this._complete,this._progress),this._complete=this._progress=null)},C$zur(0,C$zut,"source",function(){return this._bitmap.source},function(C$zut){this._bitmap&&(this._bitmap.source=C$zut,this.event("loaded"),this.repaint())}),C$zur(0,C$zut,"dataSource",C$zue.prototype._$get_dataSource,function(C$zut){"string"==typeof(this._dataSource=C$zut)?this.skin=C$zut:C$zuf.superSet(C$zua,this,"dataSource",C$zut)}),C$zur(0,C$zut,"measureHeight",function(){return this._bitmap.height}),C$zur(0,C$zut,"skin",function(){return this._skin},function(C$zut){var C$zue;this._skin!=C$zut&&(C$zup.clearCache(this,this._skin),this.clearEvent(),this.clearLoad(),(this._skin=C$zut)?(C$zup.keepCache(this,this._skin),C$zut=C$zup.getRes(C$zut),C$zue=C$zui.resAtalsObj&&C$zui.resAtalsObj[this._skin],C$zut?(this.source=C$zut,this.onCompResize()):C$zue?(C$zui.atalsNotify&&C$zui.atalsNotify.once(this._skin,this,this.setSource),0==this.width&&(this.width=C$zue.sourceW),0==this.height&&(this.height=C$zue.sourceH)):(this._complete=C$zug.create(this,this.setSource,[this._skin]),this._progress=null,C$zuf.loader.load(this._skin,this._complete,this._progress,"image",1,!0,this._group))):this.source=null)}),C$zur(0,C$zut,"group",function(){return this._group},function(C$zut){C$zut&&this._skin&&C$zup.setGroup(this._skin,C$zut),this._group=C$zut}),C$zur(0,C$zut,"sizeGrid",function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null},function(C$zut){this._bitmap.sizeGrid=C$zuE.fillArray(C$zus.defaultSizeGrid,C$zut,Number)}),C$zur(0,C$zut,"measureWidth",function(){return this._bitmap.width}),C$zur(0,C$zut,"width",C$zue.prototype._$get_width,function(C$zut){C$zuf.superSet(C$zua,this,"width",C$zut),this._bitmap.width=0==C$zut?1e-7:C$zut}),C$zur(0,C$zut,"height",C$zue.prototype._$get_height,function(C$zut){C$zuf.superSet(C$zua,this,"height",C$zut),this._bitmap.height=0==C$zut?1e-7:C$zut}),$h}(C$zua),C$zuk=function(C$zue){function $h(C$zut){this._tf=null,$h.__super.call(this),void 0===C$zut&&(C$zut=""),C$zuc.defaultColor=C$zus.labelColor,this.text=C$zut}C$zun($h,"laya.ui.Label",C$zue);var C$zut=$h.prototype;return C$zut.destroy=function(C$zut){C$zue.prototype.destroy.call(this,C$zut=void 0===C$zut?!0:C$zut),this._tf=null},C$zut.createChildren=function(){this.addChild(this._tf=new C$zuT)},C$zut.changeText=function(C$zut){this._tf.changeText(C$zut)},C$zur(0,C$zut,"padding",function(){return this._tf.padding.join(",")},function(C$zut){this._tf.padding=C$zuE.fillArray(C$zus.labelPadding,C$zut,Number)}),C$zur(0,C$zut,"bold",function(){return this._tf.bold},function(C$zut){this._tf.bold=C$zut}),C$zur(0,C$zut,"align",function(){return this._tf.align},function(C$zut){this._tf.align=C$zut}),C$zur(0,C$zut,"text",function(){return this._tf.text},function(C$zut){this._tf.text!=C$zut&&(C$zut=C$zut&&C$zuE.adptString(C$zut+""),this._tf.text=C$zut,this.event("change"),this._width&&this._height||this.onCompResize())}),C$zur(0,C$zut,"italic",function(){return this._tf.italic},function(C$zut){this._tf.italic=C$zut}),C$zur(0,C$zut,"wordWrap",function(){return this._tf.wordWrap},function(C$zut){this._tf.wordWrap=C$zut}),C$zur(0,C$zut,"font",function(){return this._tf.font},function(C$zut){this._tf.font=C$zut}),C$zur(0,C$zut,"dataSource",C$zue.prototype._$get_dataSource,function(C$zut){"number"==typeof(this._dataSource=C$zut)||"string"==typeof C$zut?this.text=C$zut+"":C$zuf.superSet(C$zua,this,"dataSource",C$zut)}),C$zur(0,C$zut,"color",function(){return this._tf.color},function(C$zut){this._tf.color=C$zut}),C$zur(0,C$zut,"valign",function(){return this._tf.valign},function(C$zut){this._tf.valign=C$zut}),C$zur(0,C$zut,"leading",function(){return this._tf.leading},function(C$zut){this._tf.leading=C$zut}),C$zur(0,C$zut,"fontSize",function(){return this._tf.fontSize},function(C$zut){this._tf.fontSize=C$zut}),C$zur(0,C$zut,"bgColor",function(){return this._tf.bgColor},function(C$zut){this._tf.bgColor=C$zut}),C$zur(0,C$zut,"borderColor",function(){return this._tf.borderColor},function(C$zut){this._tf.borderColor=C$zut}),C$zur(0,C$zut,"stroke",function(){return this._tf.stroke},function(C$zut){this._tf.stroke=C$zut}),C$zur(0,C$zut,"strokeColor",function(){return this._tf.strokeColor},function(C$zut){this._tf.strokeColor=C$zut}),C$zur(0,C$zut,"textField",function(){return this._tf}),C$zur(0,C$zut,"measureWidth",function(){return this._tf.width}),C$zur(0,C$zut,"measureHeight",function(){return this._tf.height}),C$zur(0,C$zut,"width",function(){return this._width||this._tf.text?C$zuf.superGet(C$zua,this,"width"):0},function(C$zut){C$zuf.superSet(C$zua,this,"width",C$zut),this._tf.width=C$zut}),C$zur(0,C$zut,"height",function(){return this._height||this._tf.text?C$zuf.superGet(C$zua,this,"height"):0},function(C$zut){C$zuf.superSet(C$zua,this,"height",C$zut),this._tf.height=C$zut}),C$zur(0,C$zut,"overflow",function(){return this._tf.overflow},function(C$zut){this._tf.overflow=C$zut}),C$zur(0,C$zut,"underline",function(){return this._tf.underline},function(C$zut){this._tf.underline=C$zut}),C$zur(0,C$zut,"underlineColor",function(){return this._tf.underlineColor},function(C$zut){this._tf.underlineColor=C$zut}),$h}(C$zua),C$zuU=function(C$zue){function $h(C$zut){this.changeHandler=null,this._bg=null,this._bar=null,this._skin=null,this._value=.5,$h.__super.call(this),this.skin=C$zut}C$zun($h,"laya.ui.ProgressBar",C$zue);var C$zut=$h.prototype;return C$zut.destroy=function(C$zut){C$zue.prototype.destroy.call(this,C$zut=void 0===C$zut?!0:C$zut),this._bg&&this._bg.destroy(C$zut),this._bar&&this._bar.destroy(C$zut),this._bg=this._bar=null,this.changeHandler=null},C$zut.createChildren=function(){this.addChild(this._bg=new C$zuV),this.addChild(this._bar=new C$zuV)},C$zut.changeValue=function(){var C$zut,C$zue,C$zui;this.sizeGrid?(C$zue=this.sizeGrid.split(","),C$zut=Number(C$zue[3]),C$zue=Number(C$zue[1]),C$zui=(this.width-C$zut-C$zue)*this._value,this._bar.width=C$zut+C$zue+C$zui,this._bar.visible=this._bar.width>C$zut+C$zue):this._bar.width=this.width*this._value},C$zur(0,C$zut,"measureHeight",function(){return this._bg.height}),C$zur(0,C$zut,"skin",function(){return this._skin},function(C$zut){this._skin!=C$zut&&(this._skin=C$zut,this._bg.skin=this._skin,this._bar.skin=this._skin.replace(".png","$bar.png"),this.callLater(this.changeValue))}),C$zur(0,C$zut,"measureWidth",function(){return this._bg.width}),C$zur(0,C$zut,"height",C$zue.prototype._$get_height,function(C$zut){C$zuf.superSet(C$zua,this,"height",C$zut),this._bg.height=this._height,this._bar.height=this._height}),C$zur(0,C$zut,"bar",function(){return this._bar}),C$zur(0,C$zut,"value",function(){return this._value},function(C$zut){this._value!=C$zut&&(this._value=C$zut=1<C$zut?1:C$zut<0?0:C$zut,this.callLater(this.changeValue),this.event("change"),this.changeHandler&&this.changeHandler.runWith(C$zut))}),C$zur(0,C$zut,"bg",function(){return this._bg}),C$zur(0,C$zut,"sizeGrid",function(){return this._bg.sizeGrid},function(C$zut){this._bg.sizeGrid=this._bar.sizeGrid=C$zut}),C$zur(0,C$zut,"width",C$zue.prototype._$get_width,function(C$zut){C$zuf.superSet(C$zua,this,"width",C$zut),this._bg.width=this._width,this.callLater(this.changeValue)}),C$zur(0,C$zut,"dataSource",C$zue.prototype._$get_dataSource,function(C$zut){"number"==typeof(this._dataSource=C$zut)||"string"==typeof C$zut?this.value=Number(C$zut):C$zuf.superSet(C$zua,this,"dataSource",C$zut)}),$h}(C$zua),C$zuH=(function(){function $h(){this._tipBox=null,this._tipText=null,this._defaultTipHandler=null,$h.__super.call(this),this._tipBox=new C$zua,this._tipBox.addChild(this._tipText=new C$zuT),this._tipText.x=this._tipText.y=5,this._tipText.color=$h.tipTextColor,this._defaultTipHandler=this._showDefaultTip,C$zuf.stage.on("showtip",this,this._onStageShowTip),C$zuf.stage.on("hidetip",this,this._onStageHideTip),this.zOrder=1100}C$zun($h,"laya.ui.TipManager",C$zua);var C$zut=$h.prototype;C$zut._onStageHideTip=function(C$zut){C$zuf.timer.clear(this,this._showTip),this.closeAll(),this.removeSelf()},C$zut._onStageShowTip=function(C$zut){C$zuf.timer.once($h.tipDelay,this,this._showTip,[C$zut],!0)},C$zut._showTip=function(C$zut){var C$zue;"string"==typeof C$zut?(C$zue=String(C$zut),Boolean(C$zue)&&this._defaultTipHandler(C$zue)):C$zut instanceof laya.utils.Handler?C$zut.run():"function"==typeof C$zut&&C$zut.apply(),C$zuf.stage.on("mousemove",this,this._onStageMouseMove),C$zuf.stage.on("mousedown",this,this._onStageMouseDown),this._onStageMouseMove(null)},C$zut._onStageMouseDown=function(C$zut){this.closeAll()},C$zut._onStageMouseMove=function(C$zut){this._showToStage(this,$h.offsetX,$h.offsetY)},C$zut._showToStage=function(C$zut,C$zue,C$zui){void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0);var C$zun=C$zut.getBounds();C$zut.x=C$zuf.stage.mouseX+C$zue,C$zut.y=C$zuf.stage.mouseY+C$zui,C$zut.x+C$zun.width>C$zuf.stage.width&&(C$zut.x-=C$zun.width+C$zue),C$zut.y+C$zun.height>C$zuf.stage.height&&(C$zut.y-=C$zun.height+C$zui)},C$zut.closeAll=function(){C$zuf.timer.clear(this,this._showTip),C$zuf.stage.off("mousemove",this,this._onStageMouseMove),C$zuf.stage.off("mousedown",this,this._onStageMouseDown),this.removeChildren()},C$zut.showDislayTip=function(C$zut){this.addChild(C$zut),this._showToStage(this),C$zuf._currentStage.addChild(this)},C$zut._showDefaultTip=function(C$zut){this._tipText.text=C$zut;C$zut=this._tipBox.graphics;C$zut.clear(),C$zut.drawRect(0,0,this._tipText.width+10,this._tipText.height+10,$h.tipBackColor),this.addChild(this._tipBox),this._showToStage(this),C$zuf._currentStage.addChild(this)},C$zur(0,C$zut,"defaultTipHandler",function(){return this._defaultTipHandler},function(C$zut){this._defaultTipHandler=C$zut}),$h.offsetX=10,$h.offsetY=15,$h.tipTextColor="#ffffff",$h.tipBackColor="#111111",$h.tipDelay=200}(),C$zun($A,"laya.ui.View",C$zud),(C$zut=$A.prototype).createView=function(C$zut){if(C$zut.animations&&!this._idMap&&(this._idMap={}),$A.createComp(C$zut,this,this),C$zut.animations){var C$zue,C$zui,C$zun=[],C$zur=C$zut.animations,C$zus=0,C$zua=C$zur.length;for(C$zus=0;C$zus<C$zua;C$zus++){switch(C$zue=new C$zu_,C$zui=C$zur[C$zus],C$zue._setUp(this._idMap,C$zui),(this[C$zui.name]=C$zue)._setControlNode(this),C$zui.action){case 1:C$zue.play(0,!1);break;case 2:C$zue.play(0,!0)}C$zun.push(C$zue)}this._aniList=C$zun}0<this._width&&null==C$zut.props.hitTestPrior&&!this.mouseThrough&&(this.hitTestPrior=!0)},C$zut.onEvent=function(C$zut,C$zue){},C$zut.loadUI=function(C$zut){C$zut=$A.uiMap[C$zut];C$zut&&this.createView(C$zut)},C$zut.destroy=function(C$zut){void 0===C$zut&&(C$zut=!0),this._aniList&&(this._aniList.length=0),this._idMap=null,this._aniList=null,this._watchMap=null,laya.ui.Component.prototype.destroy.call(this,C$zut)},C$zut.changeData=function(C$zut){var C$zue=this._watchMap[C$zut];if(C$zue){console.log("change",C$zut);for(var C$zui=0,C$zun=C$zue.length;C$zui<C$zun;C$zui++)C$zue[C$zui].exe(this)}},$A._regs=function(){for(var C$zut in $A.uiClassMap)C$zum.regClass(C$zut,$A.uiClassMap[C$zut])},$A.createComp=function(C$zut,C$zue,C$zui,C$zuu){if(!(C$zue=C$zue||$A.getCompInstance(C$zut)))return console.warn("can not create:"+C$zut.type),null;var C$zun=C$zut.child;if(C$zun)for(var C$zuc=C$zue instanceof laya.ui.List,C$zur=0,C$zu_=C$zun.length;C$zur<C$zu_;C$zur++){var C$zus=C$zun[C$zur];var C$zua,C$zuo;!C$zue.hasOwnProperty("itemRender")||"render"!=C$zus.props.name&&"render"!==C$zus.props.renderType?"Graphic"==C$zus.type?C$zum.addGraphicsToSprite(C$zus,C$zue):C$zum.isDrawType(C$zus.type)?C$zum.addGraphicToSprite(C$zus,C$zue,!0):(C$zuc?(C$zuo=$A.createComp(C$zus,null,C$zui,C$zua=[]),C$zua.length&&(C$zuo._$bindData=C$zua)):C$zuo=$A.createComp(C$zus,null,C$zui,C$zuu),"Script"==C$zus.type?"owner"in C$zuo?C$zuo.owner=C$zue:"target"in C$zuo&&(C$zuo.target=C$zue):"mask"==C$zus.props.renderType||"mask"==C$zus.props.name?C$zue.mask=C$zuo:C$zuo instanceof laya.display.Sprite&&C$zue.addChild(C$zuo)):C$zue.itemRender=C$zus}var C$zud=C$zut.props;for(var C$zuh in C$zud){var C$zul=C$zud[C$zuh];$A.eventDic[C$zuh]?C$zul&&C$zui&&C$zue.on(C$zuh,C$zui,C$zui.onEvent,[C$zul]):$A.setCompValue(C$zue,C$zuh,C$zul,C$zui,C$zuu)}return C$zuf.__typeof(C$zue,"laya.ui.IItem")&&C$zue.initItems(),C$zut.compId&&C$zui&&C$zui._idMap&&(C$zui._idMap[C$zut.compId]=C$zue),C$zue},$A.setCompValue=function(C$zut,C$zue,C$zui,C$zun,C$zur){if("string"==typeof C$zui&&-1<C$zui.indexOf("${"))if($A._sheet=$A._sheet?$A._sheet:C$zum.getClass("laya.data.Table")){if(C$zur)C$zur.push(C$zut,C$zue,C$zui);else if(C$zun){-1==C$zui.indexOf("].")&&(C$zui=C$zui.replace(".","[0]."));var C$zus,C$zua=new C$zult(C$zut,C$zue,C$zui);C$zua.exe(C$zun);for(var C$zuu=C$zui.replace(/\[.*?\]\./g,".");null!=(C$zus=$A._parseWatchData.exec(C$zuu));){for(var C$zuo=C$zus[1];null!=(C$zuh=$A._parseKeyWord.exec(C$zuo));){var C$zuh=C$zuh[0],C$zul=C$zun._watchMap[C$zuh]||(C$zun._watchMap[C$zuh]=[]);C$zul.push(C$zua),$A._sheet.I.notifer.on(C$zuh,C$zun,C$zun.changeData,[C$zuh])}(C$zul=C$zun._watchMap[C$zuo]||(C$zun._watchMap[C$zuo]=[])).push(C$zua),$A._sheet.I.notifer.on(C$zuo,C$zun,C$zun.changeData,[C$zuo])}}}else console.warn("Can not find class Sheet");else"var"===C$zue&&C$zun?C$zun[C$zui]=C$zut:"onClick"==C$zue?(C$zur=C$zuf._runScript("(function(){"+C$zui+"})"),C$zut.on("click",C$zun,C$zur)):C$zut[C$zue]="true"===C$zui||"false"!==C$zui&&C$zui},$A.getCompInstance=function(C$zut){var C$zue=C$zut.props?C$zut.props.runtime:null;return C$zue=C$zue?$A.viewClassMap[C$zue]||$A.uiClassMap[C$zue]||C$zuf.__classmap[C$zue]:$A.uiClassMap[C$zut.type],C$zut.props&&C$zut.props.hasOwnProperty("renderType")&&"instance"==C$zut.props.renderType?C$zue.instance:C$zue?new C$zue:null},$A.regComponent=function(C$zut,C$zue){$A.uiClassMap[C$zut]=C$zue,C$zum.regClass(C$zut,C$zue)},$A.regViewRuntime=function(C$zut,C$zue){$A.viewClassMap[C$zut]=C$zue},$A.uiMap={},$A.viewClassMap={},$A._sheet=null,C$zuo($A,["uiClassMap",function(){return this.uiClassMap={ViewStack:C$zuJ,LinkButton:C$zuR,TextArea:C$zuht,ColorPicker:C$zuB,Box:C$zud,Button:C$zuR,CheckBox:C$zuW,Clip:C$zuL,ComboBox:C$zuN,Component:C$zua,HScrollBar:C$zuX,HSlider:C$zuq,Image:C$zuV,Label:C$zuk,List:C$zuY,Panel:C$zuK,ProgressBar:C$zuU,Radio:C$zuZ,RadioGroup:C$zuat,ScrollBar:C$zuF,Slider:C$zuO,Tab:C$zuot,TextInput:C$zuet,View:$A,VScrollBar:C$zutt,VSlider:C$zuit,Tree:C$zuQ,HBox:C$zurt,VBox:C$zust,Sprite:C$zub,Animation:C$zue,Text:C$zuT,FontClip:C$zuG}},"eventDic",function(){return this.eventDic={mousedown:!0,mouseup:!0,mousemove:!0,mouseover:!0,mouseout:!0,click:!0,doubleclick:!0,rightmousedown:!0,rightmouseup:!0,rightclick:!0}},"_parseWatchData",function(){return this._parseWatchData=/\${(.*?)}/g},"_parseKeyWord",function(){return this._parseKeyWord=/[a-zA-Z_][a-zA-Z0-9_]*(?:(?:\.[a-zA-Z_][a-zA-Z0-9_]*)+)/g}]),$A.__init$=function(){function $m(C$zut,C$zue,C$zui){this.comp=null,this.prop=null,this.value=null,this.comp=C$zut,this.prop=C$zue,this.value=C$zui}$A._regs(),C$zun($m,""),$m.prototype.exe=function(C$zut){var C$zue=C$zuE.getBindFun(this.value);this.comp[this.prop]=C$zue.call(this,C$zut)},C$zult=$m},$A),C$zuW=function(C$zut){function $h(C$zut,C$zue){$h.__super.call(this,C$zut,C$zue=void 0===C$zue?"":C$zue)}C$zun($h,"laya.ui.CheckBox",C$zut);var C$zue=$h.prototype;return C$zue.preinitialize=function(){laya.ui.Component.prototype.preinitialize.call(this),this.toggle=!0,this._autoSize=!1},C$zue.initialize=function(){C$zut.prototype.initialize.call(this),this.createText(),this._text.align="left",this._text.valign="top",this._text.width=0},C$zur(0,C$zue,"dataSource",C$zut.prototype._$get_dataSource,function(C$zut){"boolean"==typeof(this._dataSource=C$zut)?this.selected=C$zut:"string"==typeof C$zut?this.selected="true"===C$zut:C$zuf.superSet(C$zuR,this,"dataSource",C$zut)}),$h}(C$zuR),C$zuz=function(){function $p(){this._space=0,this._align="none",this._itemChanged=!1,$p.__super.call(this)}C$zun($p,"laya.ui.LayoutBox",C$zud);var C$zut=$p.prototype;return C$zut.addChild=function(C$zut){return C$zut.on("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.addChild.call(this,C$zut)},C$zut.onResize=function(C$zut){this._setItemChanged()},C$zut.addChildAt=function(C$zut,C$zue){return C$zut.on("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.addChildAt.call(this,C$zut,C$zue)},C$zut.removeChild=function(C$zut){return C$zut.off("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.removeChild.call(this,C$zut)},C$zut.removeChildAt=function(C$zut){return this.getChildAt(C$zut).off("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.removeChildAt.call(this,C$zut)},C$zut.refresh=function(){this._setItemChanged()},C$zut.changeItems=function(){this._itemChanged=!1},C$zut.sortItem=function(C$zut){C$zut&&C$zut.sort(function(C$zut,C$zue){return C$zut.y-C$zue.y})},C$zut._setItemChanged=function(){this._itemChanged||(this._itemChanged=!0,this.callLater(this.changeItems))},C$zur(0,C$zut,"space",function(){return this._space},function(C$zut){this._space=C$zut,this._setItemChanged()}),C$zur(0,C$zut,"align",function(){return this._align},function(C$zut){this._align=C$zut,this._setItemChanged()}),$p}(),C$zuG=function(C$zue){function $h(C$zut,C$zue){this._valueArr=null,this._indexMap=null,this._sheet=null,this._direction="horizontal",this._spaceX=0,this._spaceY=0,this._align="left",this._wordsW=0,this._wordsH=0,$h.__super.call(this),C$zut&&(this.skin=C$zut),C$zue&&(this.sheet=C$zue)}C$zun($h,"laya.ui.FontClip",C$zue);var C$zut=$h.prototype;return C$zut.createChildren=function(){this._bitmap=new C$zuA,this.on("loaded",this,this._onClipLoaded)},C$zut._onClipLoaded=function(){this.callLater(this.changeValue)},C$zut.changeValue=function(){var C$zut;if(this._sources&&this._valueArr&&(this.graphics.clear(!0),C$zut=this._sources[0])){var C$zue="horizontal"===this._direction;C$zue?(this._wordsW=this._valueArr.length*(C$zut.sourceWidth+this.spaceX),this._wordsH=C$zut.sourceHeight):(this._wordsW=C$zut.sourceWidth,this._wordsH=(C$zut.sourceHeight+this.spaceY)*this._valueArr.length);var C$zui=0;if(this._width)switch(this._align){case"center":C$zui=.5*(this._width-this._wordsW);break;case"right":C$zui=this._width-this._wordsW;break;default:C$zui=0}for(var C$zun=0,C$zur=this._valueArr.length;C$zun<C$zur;C$zun++){var C$zus=this._indexMap[this._valueArr.charAt(C$zun)];this.sources[C$zus]&&(C$zut=this.sources[C$zus],C$zue?this.graphics.drawTexture(C$zut,C$zui+C$zun*(C$zut.sourceWidth+this.spaceX),0,C$zut.sourceWidth,C$zut.sourceHeight):this.graphics.drawTexture(C$zut,0+C$zui,C$zun*(C$zut.sourceHeight+this.spaceY),C$zut.sourceWidth,C$zut.sourceHeight))}this._width||(this.resetLayoutX(),this.callLater(this.changeSize)),this._height||(this.resetLayoutY(),this.callLater(this.changeSize))}},C$zut.destroy=function(C$zut){void 0===C$zut&&(C$zut=!0),this._valueArr=null,this._indexMap=null,this.graphics.clear(!0),this.removeSelf(),this.off("loaded",this,this._onClipLoaded),C$zue.prototype.destroy.call(this,C$zut)},C$zur(0,C$zut,"sheet",function(){return this._sheet},function(C$zut){var C$zue=(this._sheet=C$zut+="").split(" ");this._clipX=String(C$zue[0]).length,this.clipY=C$zue.length,this._indexMap={};for(var C$zui=0;C$zui<this._clipY;C$zui++)for(var C$zun=C$zue[C$zui].split(""),C$zur=0,C$zus=C$zun.length;C$zur<C$zus;C$zur++)this._indexMap[C$zun[C$zur]]=C$zui*this._clipX+C$zur}),C$zur(0,C$zut,"height",C$zue.prototype._$get_height,function(C$zut){C$zuf.superSet(C$zuL,this,"height",C$zut),this.callLater(this.changeValue)}),C$zur(0,C$zut,"direction",function(){return this._direction},function(C$zut){this._direction=C$zut,this.callLater(this.changeValue)}),C$zur(0,C$zut,"value",function(){return this._valueArr||""},function(C$zut){this._valueArr=C$zut+="",this.callLater(this.changeValue)}),C$zur(0,C$zut,"width",C$zue.prototype._$get_width,function(C$zut){C$zuf.superSet(C$zuL,this,"width",C$zut),this.callLater(this.changeValue)}),C$zur(0,C$zut,"spaceX",function(){return this._spaceX},function(C$zut){this._spaceX=C$zut,"horizontal"===this._direction&&this.callLater(this.changeValue)}),C$zur(0,C$zut,"spaceY",function(){return this._spaceY},function(C$zut){this._spaceY=C$zut,"horizontal"!==this._direction&&this.callLater(this.changeValue)}),C$zur(0,C$zut,"align",function(){return this._align},function(C$zut){this._align=C$zut,this.callLater(this.changeValue)}),C$zur(0,C$zut,"measureWidth",function(){return this._wordsW}),C$zur(0,C$zut,"measureHeight",function(){return this._wordsH}),$h}(C$zuL),C$zuY=function(C$zut){function $p(){this.selectHandler=null,this.renderHandler=null,this.renderTwHandler=null,this.mouseHandler=null,this.selectEnable=!1,this.totalPage=0,this._content=null,this._scrollBar=null,this._itemRender=null,this._repeatX=0,this._repeatY=0,this._repeatX2=0,this._repeatY2=0,this._spaceX=0,this._spaceY=0,this._array=null,this._startIndex=0,this._selectedIndex=-1,this._page=0,this._isVertical=!0,this._cellSize=20,this._cellOffset=0,this._isMoved=!1,this._twSwitch=!0,this._twDone=!0,this.cacheContent=!1,this._createdLine=0,this._cellChanged=!1,this._cells=[],this._offset=new C$zu$,$p.__super.call(this)}C$zun($p,"laya.ui.List",C$zut);var C$zue=$p.prototype;return C$zuf.imps(C$zue,{"laya.ui.IRender":!0,"laya.ui.IItem":!0}),C$zue.destroy=function(C$zut){void 0===C$zut&&(C$zut=!0),this._content&&this._content.destroy(C$zut),this._scrollBar&&this._scrollBar.destroy(C$zut),laya.ui.Component.prototype.destroy.call(this,C$zut),this._content=null,this._scrollBar=null,this._itemRender=null,this._cells=null,this._array=null,this._twSwitch=null,this._twDone=null,this.selectHandler=this.renderHandler=this.mouseHandler=this.renderTwHandler=null},C$zue.createChildren=function(){this.addChild(this._content=new C$zud)},C$zue.onScrollStart=function(){this._$P.cacheAs||(this._$P.cacheAs=C$zuf.superGet(C$zud,this,"cacheAs")),C$zuf.superSet(C$zud,this,"cacheAs","none"),this._scrollBar.once("end",this,this.onScrollEnd)},C$zue.onScrollEnd=function(){C$zuf.superSet(C$zud,this,"cacheAs",this._$P.cacheAs)},C$zue._removePreScrollBar=function(){var C$zut=this.removeChildByName("scrollBar");C$zut&&C$zut.destroy(!0)},C$zue.changeCells=function(){var C$zut,C$zue,C$zui,C$zun;this._cellChanged=!1,this._itemRender&&(this.scrollBar=this.getChildByName("scrollBar"),C$zun=(C$zui=this._getOneCell()).width+this._spaceX||1,C$zui=C$zui.height+this._spaceY||1,0<this._width&&(this._repeatX2=this._isVertical?Math.round(this._width/C$zun):Math.ceil(this._width/C$zun)),0<this._height&&(this._repeatY2=this._isVertical?Math.ceil(this._height/C$zui):Math.round(this._height/C$zui)),C$zut=this._width||C$zun*this.repeatX-this._spaceX,C$zue=this._height||C$zui*this.repeatY-this._spaceY,this._cellSize=this._isVertical?C$zui:C$zun,this._cellOffset=this._isVertical?C$zui*Math.max(this._repeatY2,this._repeatY)-C$zue-this._spaceY:C$zun*Math.max(this._repeatX2,this._repeatX)-C$zut-this._spaceX,this._isVertical&&this._scrollBar?this._scrollBar.height=C$zue:!this._isVertical&&this._scrollBar&&(this._scrollBar.width=C$zut),this.setContentSize(C$zut,C$zue),C$zui=this._isVertical?this.repeatX:this.repeatY,C$zun=(this._isVertical?this.repeatY:this.repeatX)+(this._scrollBar?1:0),this._createItems(0,C$zui,C$zun),this._createdLine=C$zun,this._array&&(this.array=this._array,this.runCallLater(this.renderItems)))},C$zue._getOneCell=function(){if(0===this._cells.length){var C$zut=this.createItem();if(this._offset.setTo(C$zut.x,C$zut.y),this.cacheContent)return C$zut;this._cells.push(C$zut)}return this._cells[0]},C$zue._createItems=function(C$zut,C$zue,C$zuu){var C$zui=this._content,C$zun=this._getOneCell(),C$zur=C$zun.width+this._spaceX,C$zuc=C$zun.height+this._spaceY;if(this.cacheContent){var C$zus=new C$zud;C$zus.cacheAsBitmap=!0,C$zus.pos((this._isVertical?0:C$zut)*C$zur,(this._isVertical?C$zut:0)*C$zuc),this._content.addChild(C$zus),this._content.optimizeScrollRect=!0,C$zui=C$zus}else{for(var C$zua=[],C$zuo=this._cells.length-1;-1<C$zuo;C$zuo--){var C$zu_=this._cells[C$zuo];C$zu_.removeSelf(),C$zua.push(C$zu_)}this._cells.length=0}for(var C$zuh=C$zut;C$zuh<C$zuu;C$zuh++)for(var C$zul=0;C$zul<C$zue;C$zul++)(C$zun=C$zua&&C$zua.length?C$zua.pop():this.createItem()).x=(this._isVertical?C$zul:C$zuh)*C$zur-C$zui.x,C$zun.y=(this._isVertical?C$zuh:C$zul)*C$zuc-C$zui.y,C$zun.name="item"+(C$zuh*C$zue+C$zul),C$zui.addChild(C$zun),this.addCell(C$zun)},C$zue.createItem=function(){var C$zut=[];var C$zue;if(C$zue="function"==typeof this._itemRender?new this._itemRender:C$zuH.createComp(this._itemRender,null,null,C$zut),0==C$zut.length&&C$zue._watchMap){var C$zui=C$zue._watchMap;for(var C$zun in C$zui)for(var C$zur=C$zui[C$zun],C$zus=0;C$zus<C$zur.length;C$zus++){var C$zua=C$zur[C$zus];C$zut.push(C$zua.comp,C$zua.prop,C$zua.value)}}return C$zut.length&&(C$zue._$bindData=C$zut),C$zue},C$zue.addCell=function(C$zut){C$zut.on("click",this,this.onCellMouse),C$zut.on("rightclick",this,this.onCellMouse),C$zut.on("mouseover",this,this.onCellMouse),C$zut.on("mouseout",this,this.onCellMouse),C$zut.on("mousedown",this,this.onCellMouse),C$zut.on("mouseup",this,this.onCellMouse),this._cells.push(C$zut)},C$zue.initItems=function(){if(!this._itemRender&&null!=this.getChildByName("item0")){this.repeatX=1;for(var C$zut=0,C$zue=C$zut=0;C$zue<1e4;C$zue++){var C$zui=this.getChildByName("item"+C$zue);if(!C$zui)break;this.addCell(C$zui),C$zut++}this.repeatY=C$zut}},C$zue.setContentSize=function(C$zut,C$zue){this._content.width=C$zut,this._content.height=C$zue,!this._scrollBar&&0==this._offset.x&&0==this._offset.y||(this._content.scrollRect||(this._content.scrollRect=new C$zux),this._content.scrollRect.setTo(-this._offset.x,-this._offset.y,C$zut,C$zue),this._content.scrollRect=this._content.scrollRect),this.event("resize")},C$zue.onCellMouse=function(C$zut){"mousedown"===C$zut.type&&(this._isMoved=!1);var C$zue=C$zut.currentTarget,C$zui=this._startIndex+this._cells.indexOf(C$zue);C$zui<0||("click"===C$zut.type||"rightclick"===C$zut.type?this.selectEnable&&!this._isMoved?this.selectedIndex=C$zui:this.changeCellState(C$zue,!0,0):"mouseover"!==C$zut.type&&"mouseout"!==C$zut.type||this._selectedIndex===C$zui||this.changeCellState(C$zue,"mouseover"===C$zut.type,0),this.mouseHandler&&this.mouseHandler.runWith([C$zut,C$zui]))},C$zue.changeCellState=function(C$zut,C$zue,C$zui){C$zut=C$zut.getChildByName("selectBox");C$zut&&(this.selectEnable=!0,C$zut.visible=C$zue,C$zut.index=C$zui)},C$zue.changeSize=function(){laya.ui.Component.prototype.changeSize.call(this),this.setContentSize(this.width,this.height),this._scrollBar&&this.callLater(this.onScrollBarChange)},C$zue.onScrollBarChange=function(C$zuu){this.runCallLater(this.changeCells);var C$zut=this._scrollBar.value,C$zue=this._isVertical?this.repeatX:this.repeatY,C$zui=this._isVertical?this.repeatY:this.repeatX,C$zun=Math.floor(C$zut/this._cellSize);if(this.cacheContent)this._createdLine-C$zun<(C$zur=C$zui+1)&&(this._createItems(this._createdLine,C$zue,this._createdLine+C$zur),this.renderItems(this._createdLine*C$zue,0),this._createdLine+=C$zur);else{var C$zun=C$zun*C$zue,C$zur=0;var C$zus,C$zua;C$zun>this._startIndex?(C$zur=C$zun-this._startIndex,C$zua=this._startIndex+C$zue*(C$zui+1),this._isMoved=C$zus=!0):C$zun<this._startIndex&&(C$zur=this._startIndex-C$zun,C$zua=this._startIndex-1,this._isMoved=!(C$zus=!1));for(var C$zuo=0;C$zuo<C$zur;C$zuo++){var C$zuh,C$zul;C$zul=C$zus?(C$zuh=this._cells.shift(),this._cells[this._cells.length]=C$zuh,C$zua+C$zuo):(C$zuh=this._cells.pop(),this._cells.unshift(C$zuh),C$zua-C$zuo);var C$zuc=Math.floor(C$zul/C$zue)*this._cellSize;this._isVertical?C$zuh.y=C$zuc:C$zuh.x=C$zuc,this.renderItem(C$zuh,C$zul)}this._startIndex=C$zun,this.changeSelectStatus()}C$zui=this._content.scrollRect;this._isVertical?(C$zui.y=C$zut-this._offset.y,C$zui.x=-this._offset.x):(C$zui.y=-this._offset.y,C$zui.x=C$zut-this._offset.x),this._content.scrollRect=C$zui},C$zue.posCell=function(C$zut,C$zue){var C$zui;this._scrollBar&&(C$zui=this._isVertical?this.repeatX:this.repeatY,this._isVertical?this.repeatY:this.repeatX,C$zue=Math.floor(C$zue/C$zui)*this._cellSize,this._isVertical?C$zut.y=C$zue:C$zut.x=C$zue)},C$zue.changeSelectStatus=function(){for(var C$zut=0,C$zue=this._cells.length;C$zut<C$zue;C$zut++)this.changeCellState(this._cells[C$zut],this._selectedIndex===this._startIndex+C$zut,1)},C$zue.renderItems=function(C$zut,C$zue){for(var C$zui=C$zut=void 0===C$zut?0:C$zut,C$zun=(C$zue=void 0===C$zue?0:C$zue)||this._cells.length;C$zui<C$zun;C$zui++)this.renderItem(this._cells[C$zui],this._startIndex+C$zui);this.changeSelectStatus(),this._twDone=!0},C$zue.renderItem=function(C$zut,C$zue){this._array&&0<=C$zue&&C$zue<this._array.length?(C$zut.visible=!0,C$zut._$bindData?(C$zut._dataSource=this._array[C$zue],this._bindData(C$zut,this._array[C$zue])):C$zut.dataSource=this._array[C$zue],this.cacheContent||this.posCell(C$zut,C$zue),this.hasListener("render")&&this.event("render",[C$zut,C$zue]),this.renderHandler&&this.renderHandler.runWith([C$zut,C$zue]),this.renderTwHandler&&this.renderTwHandler.runWith([C$zut,C$zue])):(C$zut.visible=!1,C$zut.dataSource=null)},C$zue._bindData=function(C$zut,C$zue){for(var C$zui=C$zut._$bindData,C$zun=0,C$zur=C$zui.length;C$zun<C$zur;C$zun++){var C$zus=C$zui[C$zun++],C$zua=C$zui[C$zun++],C$zuo=C$zui[C$zun],C$zuo=C$zuE.getBindFun(C$zuo);C$zus[C$zua]=C$zuo.call(this,C$zue)}},C$zue.refresh=function(){this.array=this._array},C$zue.getItem=function(C$zut){return-1<C$zut&&C$zut<this._array.length?this._array[C$zut]:null},C$zue.changeItem=function(C$zut,C$zue){-1<C$zut&&C$zut<this._array.length&&(this._array[C$zut]=C$zue,C$zut>=this._startIndex&&C$zut<this._startIndex+this._cells.length&&this.renderItem(this.getCell(C$zut),C$zut))},C$zue.setItem=function(C$zut,C$zue){this.changeItem(C$zut,C$zue)},C$zue.addItem=function(C$zut){this._array.push(C$zut),this.array=this._array},C$zue.addItemAt=function(C$zut,C$zue){this._array.splice(C$zue,0,C$zut),this.array=this._array},C$zue.deleteItem=function(C$zut){this._array.splice(C$zut,1),this.array=this._array},C$zue.getCell=function(C$zut){return this.runCallLater(this.changeCells),-1<C$zut&&this._cells?this._cells[(C$zut-this._startIndex)%this._cells.length]:null},C$zue.scrollTo=function(C$zut){var C$zue;this._scrollBar?(C$zue=this._isVertical?this.repeatX:this.repeatY,this._scrollBar.value=Math.floor(C$zut/C$zue)*this._cellSize):this.startIndex=C$zut},C$zue.tweenTo=function(C$zut,C$zue,C$zui){var C$zun;void 0===C$zue&&(C$zue=200),this._scrollBar?(C$zun=this._isVertical?this.repeatX:this.repeatY,C$zuM.to(this._scrollBar,{value:Math.floor(C$zut/C$zun)*this._cellSize},C$zue,null,C$zui,0,!0)):(this.startIndex=C$zut,C$zui&&C$zui.run())},C$zue._setCellChanged=function(){this._cellChanged||(this._cellChanged=!0,this.callLater(this.changeCells))},C$zue.commitMeasure=function(){this.runCallLater(this.changeCells)},C$zur(0,C$zue,"cacheAs",C$zut.prototype._$get_cacheAs,function(C$zut){C$zuf.superSet(C$zud,this,"cacheAs",C$zut),this._scrollBar&&(this._$P.cacheAs=null,"none"!==C$zut?this._scrollBar.on("start",this,this.onScrollStart):this._scrollBar.off("start",this,this.onScrollStart))}),C$zur(0,C$zue,"content",function(){return this._content}),C$zur(0,C$zue,"height",C$zut.prototype._$get_height,function(C$zut){C$zut!=this._height&&(C$zuf.superSet(C$zud,this,"height",C$zut),this._setCellChanged())}),C$zur(0,C$zue,"itemRender",function(){return this._itemRender},function(C$zut){if(this._itemRender!=C$zut){this._itemRender=C$zut;for(var C$zue=this._cells.length-1;-1<C$zue;C$zue--)this._cells[C$zue].destroy();this._cells.length=0,this._setCellChanged()}}),C$zur(0,C$zue,"vScrollBarSkin",function(){return this._scrollBar?this._scrollBar.skin:null},function(C$zut){this._removePreScrollBar();var C$zue=new C$zutt;C$zue.name="scrollBar",C$zue.right=0,C$zut&&" "!=C$zut&&(C$zue.skin=C$zut),this.scrollBar=C$zue,this.addChild(C$zue),this._setCellChanged()}),C$zur(0,C$zue,"page",function(){return this._page},function(C$zut){this._page=C$zut,this._array&&(this._page=0<C$zut?C$zut:0,this._page=this._page<this.totalPage?this._page:this.totalPage-1,this.startIndex=this._page*this.repeatX*this.repeatY)}),C$zur(0,C$zue,"hScrollBarSkin",function(){return this._scrollBar?this._scrollBar.skin:null},function(C$zut){this._removePreScrollBar();var C$zue=new C$zuX;C$zue.name="scrollBar",C$zue.bottom=0,C$zut&&" "!=C$zut&&(C$zue.skin=C$zut),this.scrollBar=C$zue,this.addChild(C$zue),this._setCellChanged()}),C$zur(0,C$zue,"repeatX",function(){return 0<this._repeatX?this._repeatX:0<this._repeatX2?this._repeatX2:1},function(C$zut){this._repeatX=C$zut,this._setCellChanged()}),C$zur(0,C$zue,"scrollBar",function(){return this._scrollBar},function(C$zut){this._scrollBar!=C$zut&&(this._scrollBar=C$zut)&&(this._isVertical=this._scrollBar.isVertical,this.addChild(this._scrollBar),this._scrollBar.on("change",this,this.onScrollBarChange))}),C$zur(0,C$zue,"width",C$zut.prototype._$get_width,function(C$zut){C$zut!=this._width&&(C$zuf.superSet(C$zud,this,"width",C$zut),this._setCellChanged())}),C$zur(0,C$zue,"repeatY",function(){return 0<this._repeatY?this._repeatY:0<this._repeatY2?this._repeatY2:1},function(C$zut){this._repeatY=C$zut,this._setCellChanged()}),C$zur(0,C$zue,"spaceX",function(){return this._spaceX},function(C$zut){this._spaceX=C$zut,this._setCellChanged()}),C$zur(0,C$zue,"spaceY",function(){return this._spaceY},function(C$zut){this._spaceY=C$zut,this._setCellChanged()}),C$zur(0,C$zue,"selectedIndex",function(){return this._selectedIndex},function(C$zut){this._selectedIndex!=C$zut&&(this._selectedIndex=C$zut,this.changeSelectStatus(),this.event("change"),this.selectHandler&&this.selectHandler.runWith(C$zut),this.startIndex=this._startIndex)}),C$zur(0,C$zue,"selectedItem",function(){return-1!=this._selectedIndex?this._array[this._selectedIndex]:null},function(C$zut){this.selectedIndex=this._array.indexOf(C$zut)}),C$zur(0,C$zue,"length",function(){return this._array?this._array.length:0}),C$zur(0,C$zue,"selection",function(){return this.getCell(this._selectedIndex)},function(C$zut){this.selectedIndex=this._startIndex+this._cells.indexOf(C$zut)}),C$zur(0,C$zue,"startIndex",function(){return this._startIndex},function(C$zut){this._startIndex=0<C$zut?C$zut:0,this.callLater(this.renderItems)}),C$zur(0,C$zue,"twSwitch",function(){return this._twSwitch},function(C$zut){this._twSwitch=C$zut}),C$zur(0,C$zue,"twDone",function(){return this._twDone},function(C$zut){this._twDone=C$zut}),C$zur(0,C$zue,"array",function(){return this._array},function(C$zut){this.runCallLater(this.changeCells),this._array=C$zut||[];C$zut=this._array.length;var C$zue,C$zui;this.totalPage=Math.ceil(C$zut/(this.repeatX*this.repeatY)),this._selectedIndex=this._selectedIndex<C$zut?this._selectedIndex:C$zut-1,this.startIndex=this._startIndex,this._scrollBar&&(this._scrollBar.stopScroll(),C$zue=this._isVertical?this.repeatX:this.repeatY,C$zui=this._isVertical?this.repeatY:this.repeatX,C$zut=Math.ceil(C$zut/C$zue),1<(0<this._cellOffset?this.totalPage+1:this.totalPage)?(this._scrollBar.scrollSize=this._cellSize,this._scrollBar.thumbPercent=C$zui/C$zut,this._scrollBar.setScroll(0,(C$zut-C$zui)*this._cellSize+this._cellOffset,this._scrollBar.value)):this._scrollBar.setScroll(0,0,0),this._scrollBar.target=this._content)}),C$zur(0,C$zue,"dataSource",C$zut.prototype._$get_dataSource,function(C$zut){"number"==typeof(this._dataSource=C$zut)&&Math.floor(C$zut)==C$zut||"string"==typeof C$zut?this.selectedIndex=parseInt(C$zut):C$zut instanceof Array?this.array=C$zut:C$zuf.superSet(C$zud,this,"dataSource",C$zut)}),C$zur(0,C$zue,"cells",function(){return this.runCallLater(this.changeCells),this._cells}),$p}(C$zud),C$zuX=function(C$zut){function $p(){$p.__super.call(this)}return C$zun($p,"laya.ui.HScrollBar",C$zut),$p.prototype.initialize=function(){C$zut.prototype.initialize.call(this),this.slider.isVertical=!1},$p}(C$zuF),C$zuK=function(C$zut){function $p(){this._content=null,this._vScrollBar=null,this._hScrollBar=null,this._scrollChanged=!1,$p.__super.call(this),this.width=this.height=100}C$zun($p,"laya.ui.Panel",C$zut);var C$zue=$p.prototype;return C$zue.destroy=function(C$zut){void 0===C$zut&&(C$zut=!0),laya.ui.Component.prototype.destroy.call(this,C$zut),this._content&&this._content.destroy(C$zut),this._vScrollBar&&this._vScrollBar.destroy(C$zut),this._hScrollBar&&this._hScrollBar.destroy(C$zut),this._vScrollBar=null,this._hScrollBar=null,this._content=null},C$zue.destroyChildren=function(){this._content.destroyChildren()},C$zue.createChildren=function(){laya.display.Node.prototype.addChild.call(this,this._content=new C$zud)},C$zue.addChild=function(C$zut){return C$zut.on("resize",this,this.onResize),this._setScrollChanged(),this._content.addChild(C$zut)},C$zue.onResize=function(){this._setScrollChanged()},C$zue.addChildAt=function(C$zut,C$zue){return C$zut.on("resize",this,this.onResize),this._setScrollChanged(),this._content.addChildAt(C$zut,C$zue)},C$zue.removeChild=function(C$zut){return C$zut.off("resize",this,this.onResize),this._setScrollChanged(),this._content.removeChild(C$zut)},C$zue.removeChildAt=function(C$zut){return this.getChildAt(C$zut).off("resize",this,this.onResize),this._setScrollChanged(),this._content.removeChildAt(C$zut)},C$zue.removeChildren=function(C$zut,C$zue){return this._content.removeChildren(C$zut=void 0===C$zut?0:C$zut,C$zue=void 0===C$zue?2147483647:C$zue),this._setScrollChanged(),this},C$zue.getChildAt=function(C$zut){return this._content.getChildAt(C$zut)},C$zue.getChildByName=function(C$zut){return this._content.getChildByName(C$zut)},C$zue.getChildIndex=function(C$zut){return this._content.getChildIndex(C$zut)},C$zue.changeScroll=function(){this._scrollChanged=!1;var C$zut=this.contentWidth||1,C$zue=this.contentHeight||1,C$zui=this._vScrollBar,C$zun=this._hScrollBar,C$zur=C$zui&&C$zue>this._height,C$zus=C$zun&&C$zut>this._width,C$zua=C$zur?this._width-C$zui.width:this._width,C$zuo=C$zus?this._height-C$zun.height:this._height;C$zui&&(C$zui.x=this._width-C$zui.width,C$zui.y=0,C$zui.height=this._height-(C$zus?C$zun.height:0),C$zui.scrollSize=Math.max(.033*this._height,1),C$zui.thumbPercent=C$zuo/C$zue,C$zui.setScroll(0,C$zue-C$zuo,C$zui.value)),C$zun&&(C$zun.x=0,C$zun.y=this._height-C$zun.height,C$zun.width=this._width-(C$zur?C$zui.width:0),C$zun.scrollSize=Math.max(.033*this._width,1),C$zun.thumbPercent=C$zua/C$zut,C$zun.setScroll(0,C$zut-C$zua,C$zun.value))},C$zue.changeSize=function(){laya.ui.Component.prototype.changeSize.call(this),this.setContentSize(this._width,this._height)},C$zue.setContentSize=function(C$zut,C$zue){var C$zui=this._content;C$zui.width=C$zut,C$zui.height=C$zue,C$zui.scrollRect||(C$zui.scrollRect=new C$zux),C$zui.scrollRect.setTo(0,0,C$zut,C$zue),C$zui.scrollRect=C$zui.scrollRect},C$zue.onScrollBarChange=function(C$zut){var C$zue=this._content.scrollRect;var C$zui;C$zue&&(C$zui=Math.round(C$zut.value),C$zut.isVertical?C$zue.y=C$zui:C$zue.x=C$zui,this._content.scrollRect=C$zue)},C$zue.scrollTo=function(C$zut,C$zue){void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=0),this.vScrollBar&&(this.vScrollBar.value=C$zue),this.hScrollBar&&(this.hScrollBar.value=C$zut)},C$zue.refresh=function(){this.changeScroll()},C$zue.onScrollStart=function(){this._$P.cacheAs||(this._$P.cacheAs=C$zuf.superGet(C$zud,this,"cacheAs")),C$zuf.superSet(C$zud,this,"cacheAs","none"),this._hScrollBar&&this._hScrollBar.once("end",this,this.onScrollEnd),this._vScrollBar&&this._vScrollBar.once("end",this,this.onScrollEnd)},C$zue.onScrollEnd=function(){C$zuf.superSet(C$zud,this,"cacheAs",this._$P.cacheAs)},C$zue._setScrollChanged=function(){this._scrollChanged||(this._scrollChanged=!0,this.callLater(this.changeScroll))},C$zur(0,C$zue,"numChildren",function(){return this._content.numChildren}),C$zur(0,C$zue,"hScrollBarSkin",function(){return this._hScrollBar?this._hScrollBar.skin:null},function(C$zut){null==this._hScrollBar&&(laya.display.Node.prototype.addChild.call(this,this._hScrollBar=new C$zuX),this._hScrollBar.on("change",this,this.onScrollBarChange,[this._hScrollBar]),this._hScrollBar.target=this._content,this._setScrollChanged()),this._hScrollBar.skin=C$zut}),C$zur(0,C$zue,"contentWidth",function(){for(var C$zut=0,C$zue=this._content.numChildren-1;-1<C$zue;C$zue--){var C$zui=this._content.getChildAt(C$zue);C$zut=Math.max(C$zui.x+C$zui.width*C$zui.scaleX,C$zut)}return C$zut}),C$zur(0,C$zue,"contentHeight",function(){for(var C$zut=0,C$zue=this._content.numChildren-1;-1<C$zue;C$zue--){var C$zui=this._content.getChildAt(C$zue);C$zut=Math.max(C$zui.y+C$zui.height*C$zui.scaleY,C$zut)}return C$zut}),C$zur(0,C$zue,"width",C$zut.prototype._$get_width,function(C$zut){C$zuf.superSet(C$zud,this,"width",C$zut),this._setScrollChanged()}),C$zur(0,C$zue,"hScrollBar",function(){return this._hScrollBar}),C$zur(0,C$zue,"content",function(){return this._content}),C$zur(0,C$zue,"height",C$zut.prototype._$get_height,function(C$zut){C$zuf.superSet(C$zud,this,"height",C$zut),this._setScrollChanged()}),C$zur(0,C$zue,"vScrollBarSkin",function(){return this._vScrollBar?this._vScrollBar.skin:null},function(C$zut){null==this._vScrollBar&&(laya.display.Node.prototype.addChild.call(this,this._vScrollBar=new C$zutt),this._vScrollBar.on("change",this,this.onScrollBarChange,[this._vScrollBar]),this._vScrollBar.target=this._content,this._setScrollChanged()),this._vScrollBar.skin=C$zut}),C$zur(0,C$zue,"vScrollBar",function(){return this._vScrollBar}),C$zur(0,C$zue,"cacheAs",C$zut.prototype._$get_cacheAs,function(C$zut){C$zuf.superSet(C$zud,this,"cacheAs",C$zut),this._$P.cacheAs=null,"none"!==C$zut?(this._hScrollBar&&this._hScrollBar.on("start",this,this.onScrollStart),this._vScrollBar&&this._vScrollBar.on("start",this,this.onScrollStart)):(this._hScrollBar&&this._hScrollBar.off("start",this,this.onScrollStart),this._vScrollBar&&this._vScrollBar.off("start",this,this.onScrollStart))}),$p}(C$zud),C$zuq=function(){function $p(C$zut){$p.__super.call(this,C$zut),this.isVertical=!1}return C$zun($p,"laya.ui.HSlider",C$zuO),$p}(),C$zuj=function(C$zut){function $h(C$zut,C$zue){this.selectHandler=null,this._items=null,this._selectedIndex=-1,this._skin=null,this._direction="horizontal",this._space=0,this._labels=null,this._labelColors=null,this._labelFont=null,this._labelStrokeColor=null,this._strokeColors=null,this._labelStroke=NaN,this._labelSize=0,this._labelBold=!1,this._labelPadding=null,this._labelAlign=null,this._stateNum=0,this._labelChanged=!1,$h.__super.call(this),this.skin=C$zue,this.labels=C$zut}C$zun($h,"laya.ui.UIGroup",C$zut);var C$zue=$h.prototype;return C$zuf.imps(C$zue,{"laya.ui.IItem":!0}),C$zue.preinitialize=function(){this.mouseEnabled=!0},C$zue.destroy=function(C$zut){void 0===C$zut&&(C$zut=!0),laya.ui.Component.prototype.destroy.call(this,C$zut),this._items&&(this._items.length=0),this._items=null,this.selectHandler=null},C$zue.addItem=function(C$zut,C$zue){void 0===C$zue&&(C$zue=!0);var C$zui=this._items.length;var C$zun;return C$zut.name="item"+C$zui,this.addChild(C$zut),this.initItems(),C$zue&&0<C$zui?(C$zun=this._items[C$zui-1],"horizontal"==this._direction?C$zut.x=C$zun.x+C$zun.width+this._space:C$zut.y=C$zun.y+C$zun.height+this._space):C$zue&&(C$zut.x=0,C$zut.y=0),C$zui},C$zue.delItem=function(C$zut,C$zue){void 0===C$zue&&(C$zue=!0);var C$zui=this._items.indexOf(C$zut);if(-1!=C$zui){var C$zun=C$zut;this.removeChild(C$zun);for(var C$zur=C$zui+1,C$zus=this._items.length;C$zur<C$zus;C$zur++){var C$zua=this._items[C$zur];C$zua.name="item"+(C$zur-1),C$zue&&("horizontal"==this._direction?C$zua.x-=C$zun.width+this._space:C$zua.y-=C$zun.height+this._space)}this.initItems(),-1<this._selectedIndex&&(C$zut=this._selectedIndex<this._items.length?this._selectedIndex:this._selectedIndex-1,this._selectedIndex=-1,this.selectedIndex=C$zut)}},C$zue.initItems=function(){this._items||(this._items=[]);for(var C$zut=this._items.length=0;C$zut<1e4;C$zut++){var C$zue=this.getChildByName("item"+C$zut);if(null==C$zue)break;this._items.push(C$zue),C$zue.selected=C$zut===this._selectedIndex,C$zue.clickHandler=C$zug.create(this,this.itemClick,[C$zut],!1)}},C$zue.itemClick=function(C$zut){this.selectedIndex=C$zut},C$zue.setSelect=function(C$zut,C$zue){this._items&&-1<C$zut&&C$zut<this._items.length&&(this._items[C$zut].selected=C$zue)},C$zue.createItem=function(C$zut,C$zue){return null},C$zue.changeLabels=function(){if(this._labelChanged=!1,this._items)for(var C$zut=0,C$zue=0,C$zui=this._items.length;C$zue<C$zui;C$zue++){var C$zun=this._items[C$zue];this._skin&&(C$zun.skin=this._skin),this._labelColors&&(C$zun.labelColors=this._labelColors),this._labelSize&&(C$zun.labelSize=this._labelSize),this._labelStroke&&(C$zun.labelStroke=this._labelStroke),this._labelStrokeColor&&(C$zun.labelStrokeColor=this._labelStrokeColor),this._strokeColors&&(C$zun.strokeColors=this._strokeColors),this._labelBold&&(C$zun.labelBold=this._labelBold),this._labelPadding&&(C$zun.labelPadding=this._labelPadding),this._labelAlign&&(C$zun.labelAlign=this._labelAlign),this._stateNum&&(C$zun.stateNum=this._stateNum),this._labelFont&&(C$zun.labelFont=this._labelFont),"horizontal"===this._direction?(C$zun.y=0,C$zun.x=C$zut,C$zut+=C$zun.width+this._space):(C$zun.x=0,C$zun.y=C$zut,C$zut+=C$zun.height+this._space)}this.changeSize()},C$zue.commitMeasure=function(){this.runCallLater(this.changeLabels)},C$zue._setLabelChanged=function(){this._labelChanged||(this._labelChanged=!0,this.callLater(this.changeLabels))},C$zur(0,C$zue,"labelStrokeColor",function(){return this._labelStrokeColor},function(C$zut){this._labelStrokeColor!=C$zut&&(this._labelStrokeColor=C$zut,this._setLabelChanged())}),C$zur(0,C$zue,"skin",function(){return this._skin},function(C$zut){this._skin!=C$zut&&(this._skin=C$zut,this._setLabelChanged())}),C$zur(0,C$zue,"selectedIndex",function(){return this._selectedIndex},function(C$zut){this._selectedIndex!=C$zut&&(this.setSelect(this._selectedIndex,!1),this._selectedIndex=C$zut,this.setSelect(C$zut,!0),this.event("change"),this.selectHandler&&this.selectHandler.runWith(this._selectedIndex))}),C$zur(0,C$zue,"labels",function(){return this._labels},function(C$zut){if(this._labels!=C$zut){if(this._labels=C$zut,this.removeChildren(),this._setLabelChanged(),this._labels)for(var C$zue=this._labels.split(","),C$zui=0,C$zun=C$zue.length;C$zui<C$zun;C$zui++){var C$zur=this.createItem(this._skin,C$zue[C$zui]);C$zur.name="item"+C$zui,this.addChild(C$zur)}this.initItems()}}),C$zur(0,C$zue,"strokeColors",function(){return this._strokeColors},function(C$zut){this._strokeColors!=C$zut&&(this._strokeColors=C$zut,this._setLabelChanged())}),C$zur(0,C$zue,"labelColors",function(){return this._labelColors},function(C$zut){this._labelColors!=C$zut&&(this._labelColors=C$zut,this._setLabelChanged())}),C$zur(0,C$zue,"labelStroke",function(){return this._labelStroke},function(C$zut){this._labelStroke!=C$zut&&(this._labelStroke=C$zut,this._setLabelChanged())}),C$zur(0,C$zue,"labelSize",function(){return this._labelSize},function(C$zut){this._labelSize!=C$zut&&(this._labelSize=C$zut,this._setLabelChanged())}),C$zur(0,C$zue,"stateNum",function(){return this._stateNum},function(C$zut){this._stateNum!=C$zut&&(this._stateNum=C$zut,this._setLabelChanged())}),C$zur(0,C$zue,"labelBold",function(){return this._labelBold},function(C$zut){this._labelBold!=C$zut&&(this._labelBold=C$zut,this._setLabelChanged())}),C$zur(0,C$zue,"labelFont",function(){return this._labelFont},function(C$zut){this._labelFont!=C$zut&&(this._labelFont=C$zut,this._setLabelChanged())}),C$zur(0,C$zue,"labelPadding",function(){return this._labelPadding},function(C$zut){this._labelPadding!=C$zut&&(this._labelPadding=C$zut,this._setLabelChanged())}),C$zur(0,C$zue,"direction",function(){return this._direction},function(C$zut){this._direction=C$zut,this._setLabelChanged()}),C$zur(0,C$zue,"space",function(){return this._space},function(C$zut){this._space=C$zut,this._setLabelChanged()}),C$zur(0,C$zue,"items",function(){return this._items}),C$zur(0,C$zue,"selection",function(){return-1<this._selectedIndex&&this._selectedIndex<this._items.length?this._items[this._selectedIndex]:null},function(C$zut){this.selectedIndex=this._items.indexOf(C$zut)}),C$zur(0,C$zue,"dataSource",C$zut.prototype._$get_dataSource,function(C$zut){"number"==typeof(this._dataSource=C$zut)&&Math.floor(C$zut)==C$zut||"string"==typeof C$zut?this.selectedIndex=parseInt(C$zut):C$zut instanceof Array?this.labels=C$zut.join(","):C$zuf.superSet(C$zud,this,"dataSource",C$zut)}),$h}(C$zud),C$zuZ=function(C$zue){function $h(C$zut,C$zue){this._value=null,$h.__super.call(this,C$zut,C$zue=void 0===C$zue?"":C$zue)}C$zun($h,"laya.ui.Radio",C$zue);var C$zut=$h.prototype;return C$zut.destroy=function(C$zut){C$zue.prototype.destroy.call(this,C$zut=void 0===C$zut?!0:C$zut),this._value=null},C$zut.preinitialize=function(){laya.ui.Component.prototype.preinitialize.call(this),this.toggle=!1,this._autoSize=!1},C$zut.initialize=function(){C$zue.prototype.initialize.call(this),this.createText(),this._text.align="left",this._text.valign="top",this._text.width=0,this.on("click",this,this.onClick)},C$zut.onClick=function(C$zut){this.selected=!0},C$zur(0,C$zut,"value",function(){return null!=this._value?this._value:this.label},function(C$zut){this._value=C$zut}),$h}(C$zuR),C$zuQ=function(C$zut){function $p(){this._list=null,this._source=null,this._renderHandler=null,this._spaceLeft=10,this._spaceBottom=0,this._keepStatus=!0,$p.__super.call(this),this.width=this.height=200}C$zun($p,"laya.ui.Tree",C$zut);var C$zue=$p.prototype;return C$zuf.imps(C$zue,{"laya.ui.IRender":!0}),C$zue.destroy=function(C$zut){void 0===C$zut&&(C$zut=!0),laya.ui.Component.prototype.destroy.call(this,C$zut),this._list&&this._list.destroy(C$zut),this._list=null,this._source=null,this._renderHandler=null},C$zue.createChildren=function(){this.addChild(this._list=new C$zuY),this._list.renderHandler=C$zug.create(this,this.renderItem,null,!1),this._list.repeatX=1,this._list.on("change",this,this.onListChange)},C$zue.onListChange=function(C$zut){this.event("change")},C$zue.getArray=function(){var C$zut=[];for(var C$zue in this._source)C$zue=this._source[C$zue],this.getParentOpenStatus(C$zue)&&(C$zue.x=this._spaceLeft*this.getDepth(C$zue),C$zut.push(C$zue));return C$zut},C$zue.getDepth=function(C$zut,C$zue){return void 0===C$zue&&(C$zue=0),null==C$zut.nodeParent?C$zue:this.getDepth(C$zut.nodeParent,C$zue+1)},C$zue.getParentOpenStatus=function(C$zut){C$zut=C$zut.nodeParent;return null==C$zut||!!C$zut.isOpen&&(null==C$zut.nodeParent||this.getParentOpenStatus(C$zut))},C$zue.renderItem=function(C$zut,C$zue){var C$zui=C$zut.dataSource;var C$zun;C$zui&&(C$zut.left=C$zui.x,(C$zun=C$zut.getChildByName("arrow"))&&(C$zui.hasChild?(C$zun.visible=!0,C$zun.index=C$zui.isOpen?1:0,C$zun.tag=C$zue,C$zun.off("click",this,this.onArrowClick),C$zun.on("click",this,this.onArrowClick)):C$zun.visible=!1),(C$zun=C$zut.getChildByName("folder"))&&(2==C$zun.clipY?C$zun.index=C$zui.isDirectory?0:1:C$zun.index=C$zui.isDirectory?C$zui.isOpen?1:0:2),this._renderHandler&&this._renderHandler.runWith([C$zut,C$zue]))},C$zue.onArrowClick=function(C$zut){C$zut=C$zut.currentTarget.tag;this._list.array[C$zut].isOpen=!this._list.array[C$zut].isOpen,this.event("open"),this._list.array=this.getArray()},C$zue.setItemState=function(C$zut,C$zue){this._list.array[C$zut]&&(this._list.array[C$zut].isOpen=C$zue,this._list.array=this.getArray())},C$zue.fresh=function(){this._list.array=this.getArray(),this.repaint()},C$zue.parseXml=function(C$zut,C$zue,C$zui,C$zun){var C$zur,C$zus=C$zut.childNodes,C$zua=C$zus.length;if(!C$zun){C$zur={};var C$zuo=C$zut.attributes;for(var C$zuh in C$zuo){var C$zuu=(C$zuh=C$zuo[C$zuh]).nodeName,C$zuh=C$zuh.nodeValue;C$zur[C$zuu]="true"==C$zuh||"false"!=C$zuh&&C$zuh}C$zur.nodeParent=C$zui,0<C$zua&&(C$zur.isDirectory=!0),C$zur.hasChild=0<C$zua,C$zue.push(C$zur)}for(var C$zul=0;C$zul<C$zua;C$zul++){var C$zuc=C$zus[C$zul];this.parseXml(C$zuc,C$zue,C$zur,!1)}},C$zue.parseOpenStatus=function(C$zut,C$zue){for(var C$zui=0,C$zun=C$zue.length;C$zui<C$zun;C$zui++){var C$zur=C$zue[C$zui];if(C$zur.isDirectory)for(var C$zus=0,C$zua=C$zut.length;C$zus<C$zua;C$zus++){var C$zuo=C$zut[C$zus];if(C$zuo.isDirectory&&this.isSameParent(C$zuo,C$zur)&&C$zur.label==C$zuo.label){C$zur.isOpen=C$zuo.isOpen;break}}}},C$zue.isSameParent=function(C$zut,C$zue){return null==C$zut.nodeParent&&null==C$zue.nodeParent||null!=C$zut.nodeParent&&null!=C$zue.nodeParent&&C$zut.nodeParent.label==C$zue.nodeParent.label&&this.isSameParent(C$zut.nodeParent,C$zue.nodeParent)},C$zue.filter=function(C$zut){var C$zue;Boolean(C$zut)?(this.getFilterSource(this._source,C$zue=[],C$zut),this._list.array=C$zue):this._list.array=this.getArray()},C$zue.getFilterSource=function(C$zut,C$zue,C$zui){for(var C$zun in C$zui=C$zui.toLocaleLowerCase(),C$zut)!(C$zun=C$zut[C$zun]).isDirectory&&-1<String(C$zun.label).toLowerCase().indexOf(C$zui)&&(C$zun.x=0,C$zue.push(C$zun)),C$zun.child&&0<C$zun.child.length&&this.getFilterSource(C$zun.child,C$zue,C$zui)},C$zur(0,C$zue,"spaceBottom",function(){return this._list.spaceY},function(C$zut){this._list.spaceY=C$zut}),C$zur(0,C$zue,"keepStatus",function(){return this._keepStatus},function(C$zut){this._keepStatus=C$zut}),C$zur(0,C$zue,"itemRender",function(){return this._list.itemRender},function(C$zut){this._list.itemRender=C$zut}),C$zur(0,C$zue,"array",function(){return this._list.array},function(C$zut){this._keepStatus&&this._list.array&&C$zut&&this.parseOpenStatus(this._list.array,C$zut),this._source=C$zut,this._list.array=this.getArray()}),C$zur(0,C$zue,"mouseHandler",function(){return this._list.mouseHandler},function(C$zut){this._list.mouseHandler=C$zut}),C$zur(0,C$zue,"dataSource",C$zut.prototype._$get_dataSource,function(C$zut){this._dataSource=C$zut,C$zuf.superSet(C$zud,this,"dataSource",C$zut)}),C$zur(0,C$zue,"source",function(){return this._source}),C$zur(0,C$zue,"scrollBar",function(){return this._list.scrollBar}),C$zur(0,C$zue,"list",function(){return this._list}),C$zur(0,C$zue,"scrollBarSkin",function(){return this._list.vScrollBarSkin},function(C$zut){this._list.vScrollBarSkin=C$zut}),C$zur(0,C$zue,"renderHandler",function(){return this._renderHandler},function(C$zut){this._renderHandler=C$zut}),C$zur(0,C$zue,"selectedIndex",function(){return this._list.selectedIndex},function(C$zut){this._list.selectedIndex=C$zut}),C$zur(0,C$zue,"spaceLeft",function(){return this._spaceLeft},function(C$zut){this._spaceLeft=C$zut}),C$zur(0,C$zue,"selectedItem",function(){return this._list.selectedItem},function(C$zut){this._list.selectedItem=C$zut}),C$zur(0,C$zue,"width",C$zut.prototype._$get_width,function(C$zut){C$zuf.superSet(C$zud,this,"width",C$zut),this._list.width=C$zut}),C$zur(0,C$zue,"height",C$zut.prototype._$get_height,function(C$zut){C$zuf.superSet(C$zud,this,"height",C$zut),this._list.height=C$zut}),C$zur(0,C$zue,"xml",null,function(C$zut){var C$zue=[];this.parseXml(C$zut.childNodes[0],C$zue,null,!0),this.array=C$zue}),C$zur(0,C$zue,"selectedPath",function(){return this._list.selectedItem?this._list.selectedItem.path:null}),$p}(C$zud),C$zuJ=function(C$zut){function $p(){this._items=null,this._selectedIndex=0,$p.__super.call(this),this._setIndexHandler=C$zug.create(this,this.setIndex,null,!1)}C$zun($p,"laya.ui.ViewStack",C$zut);var C$zue=$p.prototype;return C$zuf.imps(C$zue,{"laya.ui.IItem":!0}),C$zue.setItems=function(C$zut){this.removeChildren();for(var C$zue=0,C$zui=0,C$zun=C$zut.length;C$zui<C$zun;C$zui++){var C$zur=C$zut[C$zui];C$zur&&(C$zur.name="item"+C$zue,this.addChild(C$zur),C$zue++)}this.initItems()},C$zue.addItem=function(C$zut){C$zut.name="item"+this._items.length,this.addChild(C$zut),this.initItems()},C$zue.initItems=function(){this._items=[];for(var C$zut=0;C$zut<1e4;C$zut++){var C$zue=this.getChildByName("item"+C$zut);if(null==C$zue)break;this._items.push(C$zue),C$zue.visible=C$zut==this._selectedIndex}},C$zue.setSelect=function(C$zut,C$zue){this._items&&-1<C$zut&&C$zut<this._items.length&&(this._items[C$zut].visible=C$zue)},C$zue.setIndex=function(C$zut){this.selectedIndex=C$zut},C$zur(0,C$zue,"dataSource",C$zut.prototype._$get_dataSource,function(C$zut){if("number"==typeof(this._dataSource=C$zut)&&Math.floor(C$zut)==C$zut||"string"==typeof C$zut)this.selectedIndex=parseInt(C$zut);else for(var C$zue in this._dataSource)this.hasOwnProperty(C$zue)&&(this[C$zue]=this._dataSource[C$zue])}),C$zur(0,C$zue,"selectedIndex",function(){return this._selectedIndex},function(C$zut){this._selectedIndex!=C$zut&&(this.setSelect(this._selectedIndex,!1),this._selectedIndex=C$zut,this.setSelect(this._selectedIndex,!0))}),C$zur(0,C$zue,"selection",function(){return-1<this._selectedIndex&&this._selectedIndex<this._items.length?this._items[this._selectedIndex]:null},function(C$zut){this.selectedIndex=this._items.indexOf(C$zut)}),C$zur(0,C$zue,"items",function(){return this._items}),C$zur(0,C$zue,"setIndexHandler",function(){return this._setIndexHandler},function(C$zut){this._setIndexHandler=C$zut}),$p}(C$zud),C$zutt=function(){function $p(){$p.__super.call(this)}return C$zun($p,"laya.ui.VScrollBar",C$zuF),$p}(),C$zuet=function(C$zue){function $h(C$zut){this._bg=null,this._skin=null,$h.__super.call(this),this.text=C$zut=void 0===C$zut?"":C$zut,this.skin=this.skin}C$zun($h,"laya.ui.TextInput",C$zue);var C$zut=$h.prototype;return C$zut.preinitialize=function(){this.mouseEnabled=!0},C$zut.destroy=function(C$zut){C$zup.clearCache(this,this._skin),C$zue.prototype.destroy.call(this,C$zut=void 0===C$zut?!0:C$zut),this._bg&&this._bg.destroy(),this._bg=null},C$zut.createChildren=function(){this.addChild(this._tf=new C$zuv),this._tf.padding=C$zus.inputLabelPadding,this._tf.on("input",this,this._onInput),this._tf.on("enter",this,this._onEnter),this._tf.on("blur",this,this._onBlur),this._tf.on("focus",this,this._onFocus)},C$zut._onFocus=function(){this.event("focus",this)},C$zut._onBlur=function(){this.event("blur",this)},C$zut._onInput=function(){this.event("input",this)},C$zut._onEnter=function(){this.event("enter",this)},C$zut.initialize=function(){this.width=128,this.height=22},C$zut.select=function(){this._tf.select()},C$zut.setSelection=function(C$zut,C$zue){this._tf.setSelection(C$zut,C$zue)},C$zur(0,C$zut,"text",C$zue.prototype._$get_text,function(C$zut){this._tf.text!=C$zut&&(this._tf.text=C$zut+="",this.event("change"))}),C$zur(0,C$zut,"bg",function(){return this._bg},function(C$zut){this.graphics=this._bg=C$zut}),C$zur(0,C$zut,"inputElementYAdjuster",function(){return this._tf.inputElementYAdjuster},function(C$zut){this._tf.inputElementYAdjuster=C$zut}),C$zur(0,C$zut,"multiline",function(){return this._tf.multiline},function(C$zut){this._tf.multiline=C$zut}),C$zur(0,C$zut,"skin",function(){return this._skin},function(C$zut){this._skin!=C$zut&&(C$zup.clearCache(this,this._skin),this._skin=C$zut,this._bg||(this.graphics=this._bg=new C$zuA),C$zup.keepCache(this,this._skin),this._bg.source=C$zup.getRes(this._skin),this._width&&(this._bg.width=this._width),this._height&&(this._bg.height=this._height))}),C$zur(0,C$zut,"sizeGrid",function(){return this._bg&&this._bg.sizeGrid?this._bg.sizeGrid.join(","):null},function(C$zut){this._bg||(this.graphics=this._bg=new C$zuA),this._bg.sizeGrid=C$zuE.fillArray(C$zus.defaultSizeGrid,C$zut,Number)}),C$zur(0,C$zut,"inputElementXAdjuster",function(){return this._tf.inputElementXAdjuster},function(C$zut){this._tf.inputElementXAdjuster=C$zut}),C$zur(0,C$zut,"width",C$zue.prototype._$get_width,function(C$zut){C$zuf.superSet(C$zuk,this,"width",C$zut),this._bg&&(this._bg.width=C$zut)}),C$zur(0,C$zut,"height",C$zue.prototype._$get_height,function(C$zut){C$zuf.superSet(C$zuk,this,"height",C$zut),this._bg&&(this._bg.height=C$zut)}),C$zur(0,C$zut,"editable",function(){return this._tf.editable},function(C$zut){this._tf.editable=C$zut}),C$zur(0,C$zut,"restrict",function(){return this._tf.restrict},function(C$zut){this._tf.restrict=C$zut}),C$zur(0,C$zut,"prompt",function(){return this._tf.prompt},function(C$zut){this._tf.prompt=C$zut}),C$zur(0,C$zut,"promptColor",function(){return this._tf.promptColor},function(C$zut){this._tf.promptColor=C$zut}),C$zur(0,C$zut,"maxChars",function(){return this._tf.maxChars},function(C$zut){this._tf.maxChars=C$zut}),C$zur(0,C$zut,"focus",function(){return this._tf.focus},function(C$zut){this._tf.focus=C$zut}),C$zur(0,C$zut,"type",function(){return this._tf.type},function(C$zut){this._tf.type=C$zut}),C$zur(0,C$zut,"asPassword",function(){return this._tf.asPassword},function(C$zut){this._tf.asPassword=C$zut}),$h}(C$zuk),C$zuit=function(){function $p(){$p.__super.call(this)}return C$zun($p,"laya.ui.VSlider",C$zuO),$p}(),C$zunt=function(C$zut){function $P(){this.popupCenter=!0,this.closeHandler=null,this.popupEffect=null,this.closeEffect=null,this.group=null,this.isModal=!1,this._dragArea=null,$P.__super.call(this)}C$zun($P,"laya.ui.Dialog",C$zut);var C$zue=$P.prototype;return C$zue.initialize=function(){this.popupEffect=$P.manager.popupEffectHandler,this.closeEffect=$P.manager.closeEffectHandler,this._dealDragArea(),this.on("click",this,this._onClick)},C$zue._dealDragArea=function(){var C$zut=this.getChildByName("drag");C$zut&&(this.dragArea=C$zut.x+","+C$zut.y+","+C$zut.width+","+C$zut.height,C$zut.removeSelf())},C$zue._onClick=function(C$zut){var C$zue=C$zut.target;if(C$zue)switch(C$zue.name){case"close":case"cancel":case"sure":case"no":case"ok":case"yes":this.close(C$zue.name)}},C$zue.show=function(C$zut,C$zue){this._open(!1,C$zut=void 0===C$zut?!1:C$zut,C$zue=void 0===C$zue?!0:C$zue)},C$zue.popup=function(C$zut,C$zue){this._open(!0,C$zut=void 0===C$zut?!1:C$zut,C$zue=void 0===C$zue?!0:C$zue)},C$zue._open=function(C$zut,C$zue,C$zui){$P.manager.lock(!1),this.isModal=C$zut,$P.manager.open(this,C$zue,C$zui)},C$zue.onOpened=function(){},C$zue.close=function(C$zut,C$zue){$P.manager.close(this,C$zut,C$zue=void 0===C$zue?!0:C$zue)},C$zue.onClosed=function(C$zut){},C$zue._onMouseDown=function(C$zut){var C$zue=this.getMousePoint();this._dragArea.contains(C$zue.x,C$zue.y)?this.startDrag():this.stopDrag()},C$zur(0,C$zue,"dragArea",function(){return this._dragArea?this._dragArea.toString():null},function(C$zut){C$zut?(C$zut=C$zuE.fillArray([0,0,0,0],C$zut,Number),this._dragArea=new C$zux(C$zut[0],C$zut[1],C$zut[2],C$zut[3]),this.on("mousedown",this,this._onMouseDown)):(this._dragArea=null,this.off("mousedown",this,this._onMouseDown))}),C$zur(0,C$zue,"isPopup",function(){return null!=this.parent}),C$zur(0,C$zue,"zOrder",C$zut.prototype._$get_zOrder,function(C$zut){C$zuf.superSet(C$zuH,this,"zOrder",C$zut),$P.manager._checkMask()}),C$zur(1,$P,"manager",function(){return $P._manager=$P._manager||new C$zuI},function(C$zut){$P._manager=C$zut}),$P.setLockView=function(C$zut){$P.manager.setLockView(C$zut)},$P.lock=function(C$zut){$P.manager.lock(C$zut)},$P.closeAll=function(){$P.manager.closeAll()},$P.getDialogsByGroup=function(C$zut){return $P.manager.getDialogsByGroup(C$zut)},$P.closeByGroup=function(C$zut){return $P.manager.closeByGroup(C$zut)},$P.CLOSE="close",$P.CANCEL="cancel",$P.SURE="sure",$P.NO="no",$P.OK="ok",$P.YES="yes",$P._manager=null,$P}(C$zuH),C$zurt=function(C$zut){function $p(){$p.__super.call(this)}C$zun($p,"laya.ui.HBox",C$zut);var C$zue=$p.prototype;return C$zue.sortItem=function(C$zut){C$zut&&C$zut.sort(function(C$zut,C$zue){return C$zut.x-C$zue.x})},C$zue.changeItems=function(){this._itemChanged=!1;for(var C$zut=[],C$zue=0,C$zui=0,C$zun=this.numChildren;C$zui<C$zun;C$zui++){var C$zur=this.getChildAt(C$zui);C$zur&&C$zur.layoutEnabled&&(C$zut.push(C$zur),C$zue=this._height||Math.max(C$zue,C$zur.height*C$zur.scaleY))}this.sortItem(C$zut);var C$zus=0;for(C$zui=0,C$zun=C$zut.length;C$zui<C$zun;C$zui++)(C$zur=C$zut[C$zui]).x=C$zus,C$zus+=C$zur.width*C$zur.scaleX+this._space,"top"==this._align?C$zur.y=0:"middle"==this._align?C$zur.y=.5*(C$zue-C$zur.height*C$zur.scaleY):"bottom"==this._align&&(C$zur.y=C$zue-C$zur.height*C$zur.scaleY);this.changeSize()},C$zur(0,C$zue,"height",C$zut.prototype._$get_height,function(C$zut){this._height!=C$zut&&(C$zuf.superSet(C$zuz,this,"height",C$zut),this.callLater(this.changeItems))}),$p.NONE="none",$p.TOP="top",$p.MIDDLE="middle",$p.BOTTOM="bottom",$p}(C$zuz),C$zust=function(C$zut){function $p(){$p.__super.call(this)}C$zun($p,"laya.ui.VBox",C$zut);var C$zue=$p.prototype;return C$zue.changeItems=function(){this._itemChanged=!1;for(var C$zut=[],C$zue=0,C$zui=0,C$zun=this.numChildren;C$zui<C$zun;C$zui++){var C$zur=this.getChildAt(C$zui);C$zur&&C$zur.layoutEnabled&&(C$zut.push(C$zur),C$zue=this._width||Math.max(C$zue,C$zur.width*C$zur.scaleX))}this.sortItem(C$zut);var C$zus=0;for(C$zui=0,C$zun=C$zut.length;C$zui<C$zun;C$zui++)(C$zur=C$zut[C$zui]).y=C$zus,C$zus+=C$zur.height*C$zur.scaleY+this._space,"left"==this._align?C$zur.x=0:"center"==this._align?C$zur.x=.5*(C$zue-C$zur.width*C$zur.scaleX):"right"==this._align&&(C$zur.x=C$zue-C$zur.width*C$zur.scaleX);this.changeSize()},C$zur(0,C$zue,"width",C$zut.prototype._$get_width,function(C$zut){this._width!=C$zut&&(C$zuf.superSet(C$zuz,this,"width",C$zut),this.callLater(this.changeItems))}),$p.NONE="none",$p.LEFT="left",$p.CENTER="center",$p.RIGHT="right",$p}(C$zuz),C$zuat=function(){function $p(){$p.__super.call(this)}return C$zun($p,"laya.ui.RadioGroup",C$zuj),$p.prototype.createItem=function(C$zut,C$zue){return new C$zuZ(C$zut,C$zue)},$p}(),C$zuot=function(){function $p(){$p.__super.call(this)}return C$zun($p,"laya.ui.Tab",C$zuj),$p.prototype.createItem=function(C$zut,C$zue){return new C$zuR(C$zut,C$zue)},$p}(),C$zuht=function(C$zue){function $h(C$zut){this._vScrollBar=null,this._hScrollBar=null,$h.__super.call(this,C$zut=void 0===C$zut?"":C$zut)}C$zun($h,"laya.ui.TextArea",C$zue);var C$zut=$h.prototype;return C$zut.destroy=function(C$zut){C$zue.prototype.destroy.call(this,C$zut=void 0===C$zut?!0:C$zut),this._vScrollBar&&this._vScrollBar.destroy(),this._hScrollBar&&this._hScrollBar.destroy(),this._vScrollBar=null,this._hScrollBar=null},C$zut.initialize=function(){this.width=180,this.height=150,this._tf.wordWrap=!0,this.multiline=!0},C$zut.onVBarChanged=function(C$zut){this._tf.scrollY!=this._vScrollBar.value&&(this._tf.scrollY=this._vScrollBar.value)},C$zut.onHBarChanged=function(C$zut){this._tf.scrollX!=this._hScrollBar.value&&(this._tf.scrollX=this._hScrollBar.value)},C$zut.changeScroll=function(){var C$zut=this._vScrollBar&&0<this._tf.maxScrollY,C$zue=this._hScrollBar&&0<this._tf.maxScrollX,C$zui=C$zut?this._width-this._vScrollBar.width:this._width,C$zun=C$zue?this._height-this._hScrollBar.height:this._height,C$zur=this._tf.padding||C$zus.labelPadding;this._tf.width=C$zui,this._tf.height=C$zun,this._vScrollBar&&(this._vScrollBar.x=this._width-this._vScrollBar.width-C$zur[2],this._vScrollBar.y=C$zur[1],this._vScrollBar.height=this._height-(C$zue?this._hScrollBar.height:0)-C$zur[1]-C$zur[3],this._vScrollBar.scrollSize=1,this._vScrollBar.thumbPercent=C$zun/Math.max(this._tf.textHeight,C$zun),this._vScrollBar.setScroll(1,this._tf.maxScrollY,this._tf.scrollY),this._vScrollBar.visible=C$zut),this._hScrollBar&&(this._hScrollBar.x=C$zur[0],this._hScrollBar.y=this._height-this._hScrollBar.height-C$zur[3],this._hScrollBar.width=this._width-(C$zut?this._vScrollBar.width:0)-C$zur[0]-C$zur[2],this._hScrollBar.scrollSize=Math.max(.033*C$zui,1),this._hScrollBar.thumbPercent=C$zui/Math.max(this._tf.textWidth,C$zui),this._hScrollBar.setScroll(0,this.maxScrollX,this.scrollX),this._hScrollBar.visible=C$zue)},C$zut.scrollTo=function(C$zut){this.commitMeasure(),this._tf.scrollY=C$zut},C$zur(0,C$zut,"scrollY",function(){return this._tf.scrollY}),C$zur(0,C$zut,"width",C$zue.prototype._$get_width,function(C$zut){C$zuf.superSet(C$zuet,this,"width",C$zut),this.callLater(this.changeScroll)}),C$zur(0,C$zut,"hScrollBar",function(){return this._hScrollBar}),C$zur(0,C$zut,"height",C$zue.prototype._$get_height,function(C$zut){C$zuf.superSet(C$zuet,this,"height",C$zut),this.callLater(this.changeScroll)}),C$zur(0,C$zut,"maxScrollX",function(){return this._tf.maxScrollX}),C$zur(0,C$zut,"vScrollBarSkin",function(){return this._vScrollBar?this._vScrollBar.skin:null},function(C$zut){null==this._vScrollBar&&(this.addChild(this._vScrollBar=new C$zutt),this._vScrollBar.on("change",this,this.onVBarChanged),this._vScrollBar.target=this._tf,this.callLater(this.changeScroll)),this._vScrollBar.skin=C$zut}),C$zur(0,C$zut,"hScrollBarSkin",function(){return this._hScrollBar?this._hScrollBar.skin:null},function(C$zut){null==this._hScrollBar&&(this.addChild(this._hScrollBar=new C$zuX),this._hScrollBar.on("change",this,this.onHBarChanged),this._hScrollBar.mouseWheelEnable=!1,this._hScrollBar.target=this._tf,this.callLater(this.changeScroll)),this._hScrollBar.skin=C$zut}),C$zur(0,C$zut,"vScrollBar",function(){return this._vScrollBar}),C$zur(0,C$zut,"maxScrollY",function(){return this._tf.maxScrollY}),C$zur(0,C$zut,"scrollX",function(){return this._tf.scrollX}),$h}(C$zuet);function $A(){this._idMap=null,this._aniList=null,this._watchMap={},$A.__super.call(this)}var C$zult;function $P(C$zut,C$zue,C$zui){this._sources=null,this._bitmap=null,this._skin=null,this._clipX=1,this._clipY=1,this._clipWidth=0,this._clipHeight=0,this._autoPlay=!1,this._interval=50,this._isPlaying=!1,this._index=0,this._clipChanged=!1,this._group=null,this._toIndex=-1,this._complete=null,this._progress=null,$P.__super.call(this),void 0===C$zui&&(C$zui=1),this._clipX=C$zue=void 0===C$zue?1:C$zue,this._clipY=C$zui,this.skin=C$zut}var C$zuut;function $h(C$zut,C$zue){this.toggle=!1,this._bitmap=null,this._text=null,this._strokeColors=null,this._state=0,this._selected=!1,this._skin=null,this._autoSize=!0,this._sources=null,this._clickHandler=null,this._stateChanged=!1,$h.__super.call(this),this._labelColors=C$zus.buttonLabelColors,this._stateNum=C$zus.buttonStateNum,void 0===C$zue&&(C$zue=""),this.skin=C$zut,this.label=C$zue}var C$zuct;function $p(){$p.__super.call(this)}function $c(){this.autoCacheCmd=!0,this._width=0,this._height=0,this._source=null,this._sizeGrid=null,this._isChanged=!1,this._offset=null,$c.__super.call(this),this._weakKeys=[]}var C$zu_t;function $L(){}function $m(){this.enable=!1,this.top=NaN,this.bottom=NaN,this.left=NaN,this.right=NaN,this.centerX=NaN,this.centerY=NaN,this.anchorX=NaN,this.anchorY=NaN}!function(){function $p(){this._uiView=null,this.isCloseOther=!1,$p.__super.call(this)}C$zun($p,"laya.ui.AsynDialog",C$zunt);var C$zut=$p.prototype;C$zut.createView=function(C$zut){this._uiView=C$zut},C$zut._open=function(C$zut,C$zue,C$zui){this.isModal=C$zut,this.isCloseOther=C$zue,C$zunt.manager.lock(!0),this._uiView?this.onCreated():this.onOpen()},C$zut.onCreated=function(){this.createUI(),this.onOpen()},C$zut.createUI=function(){laya.ui.View.prototype.createView.call(this,this._uiView),this._uiView=null,this._dealDragArea()},C$zut.onOpen=function(){C$zunt.manager.open(this,this.isCloseOther),C$zunt.manager.lock(!1)},C$zut.close=function(C$zut,C$zue){void 0===C$zue&&(C$zue=!0),C$zunt.manager.close(this),this.onClose()},C$zut.onClose=function(){},C$zut.destroy=function(C$zut){void 0===C$zut&&(C$zut=!0),laya.ui.View.prototype.destroy.call(this,C$zut),this._uiView=null,this.onDestroy()},C$zut.onDestroy=function(){}}(),C$zuf.__init([C$zuH])}(window,(document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$zut,C$zue){"use strict";for(var C$zui in Object.defineProperty(C$zue,"__esModule",{value:!0}),Laya){var C$zun=Laya[C$zui];C$zun&&C$zun.__isclass&&(C$zue[C$zui]=C$zun)}}),function(C$zua,C$zuy){C$zuy.un,C$zuy.uns;var C$zus=C$zuy.static,C$zur=C$zuy.class,C$zuo=C$zuy.getset,C$zui=C$zuy.__newvec,C$zup=laya.maths.Arith,C$zuh=laya.webgl.atlas.AtlasResourceManager,C$zun=laya.webgl.shader.BaseShader,C$zuw=laya.utils.Browser,C$zul=laya.webgl.utils.Buffer,C$zu$=laya.utils.Byte,C$zuu=laya.utils.ClassUtils,C$zuc=C$zuy.Config,C$zu_=(laya.events.Event,laya.events.EventDispatcher),C$zub=laya.utils.Handler,C$zug=laya.net.Loader,C$zud=laya.net.LoaderManager,C$zuf=(laya.maths.MathUtil,laya.display.Node),C$zum=laya.renders.Render,C$zuv=(laya.renders.RenderContext,laya.renders.RenderSprite,laya.webgl.utils.RenderState2D),C$zux=laya.resource.Resource,C$zuT=laya.utils.RunDriver,C$zuM=(laya.webgl.shader.Shader,laya.webgl.utils.ShaderCompile),C$zuS=laya.display.Sprite,C$zuC=laya.utils.Stat,C$zuD=laya.utils.StringKey,C$zuP=(laya.display.css.Style,laya.resource.Texture,laya.net.URL),C$zuA=laya.utils.Utils,C$zuI=laya.webgl.WebGL,C$zuR=laya.webgl.WebGLContext;function $w(){}function $_(){}laya.webgl.canvas.WebGLContext2D,C$zuy.interface("laya.d3.core.IClone"),C$zuy.interface("laya.d3.graphics.IVertex"),C$zuy.interface("laya.d3.core.render.IUpdate"),C$zuy.interface("laya.d3.core.scene.ITreeNode"),C$zuy.interface("laya.d3.core.render.IRenderable"),C$zur($_,"laya.d3.animation.AnimationClipParser01"),$_.READ_DATA=function(){$_._DATA.offset=$_._reader.getUint32(),$_._DATA.size=$_._reader.getUint32()},$_.READ_BLOCK=function(){for(var C$zut=$_._BLOCK.count=$_._reader.getUint16(),C$zue=$_._BLOCK.blockStarts=[],C$zui=$_._BLOCK.blockLengths=[],C$zun=0;C$zun<C$zut;C$zun++)C$zue.push($_._reader.getUint32()),C$zui.push($_._reader.getUint32())},$_.READ_STRINGS=function(){var C$zut=$_._reader.getUint32(),C$zue=$_._reader.getUint16(),C$zui=$_._reader.pos;$_._reader.pos=C$zut+$_._DATA.offset;for(var C$zun=0;C$zun<C$zue;C$zun++)$_._strings[C$zun]=$_._reader.readUTFString();$_._reader.pos=C$zui},$_.parse=function(C$zut,C$zue){$_._animationClip=C$zut,($_._reader=C$zue).__getBuffer(),$_.READ_DATA(),$_.READ_BLOCK(),$_.READ_STRINGS();for(var C$zui=0,C$zun=$_._BLOCK.count;C$zui<C$zun;C$zui++){var C$zur=C$zue.getUint16(),C$zus=$_._strings[C$zur],C$zua=$_["READ_"+C$zus];if(null==C$zua)throw new Error("model file err,no this function:"+C$zur+" "+C$zus);C$zua.call()}},$_.READ_ANIMATIONS=function(){var C$zut,C$zue=0,C$zui=0,C$zun=$_._reader,C$zuu=C$zun.__getBuffer(),C$zuc=[],C$zu_=C$zun.getUint8();for(C$zuc.length=C$zu_,C$zue=0;C$zue<C$zu_;C$zue++)C$zuc[C$zue]=C$zun.getUint16();var C$zud=[],C$zuf=C$zun.getUint16();for(C$zud.length=C$zuf,C$zue=0;C$zue<C$zuf;C$zue++)C$zud[C$zue]=C$zun.getFloat32();var C$zur=$_._animationClip;C$zur.name=$_._strings[C$zun.getUint16()];var C$zup=C$zur._duration=C$zun.getFloat32();C$zur.islooping=!!C$zun.getByte(),C$zur._frameRate=C$zun.getInt16();var C$zum=C$zun.getInt16(),C$zug=C$zur._nodes=new Array;C$zug.length=C$zum,(C$zur._publicClipDatas=[]).length=C$zum;var C$zuv=C$zur._nodesMap={},C$zu$=0,C$zux=0;for(C$zue=0;C$zue<C$zum;C$zue++){C$zut=C$zug[C$zue]=new C$zuF;var C$zuy=C$zun.getUint16(),C$zub=C$zut.path=[];for(C$zub.length=C$zuy,C$zui=0;C$zui<C$zuy;C$zui++)C$zub[C$zui]=$_._strings[C$zun.getUint16()];var C$zus=C$zub.join("/"),C$zua=C$zuv[C$zus];C$zua||(C$zuv[C$zus]=C$zua=[]),C$zua.push(C$zut);C$zus=C$zun.getInt16();-1!==C$zus&&(C$zut.componentType=$_._strings[C$zus]);C$zua=C$zuB._propertyIndexDic[$_._strings[C$zun.getUint16()]];if(null==C$zua)throw new Error("AnimationClipParser01:unknown property name.");C$zus=C$zua<4,C$zus=!C$zus||""===C$zub[0];(C$zut._cacheProperty=C$zus)?C$zu$++:C$zux++,C$zut.propertyNameID=C$zua;var C$zuo=C$zuc[C$zun.getUint8()];C$zut.keyFrameWidth=C$zuo/4;var C$zuT=C$zut.keyFrames=[],C$zuw=C$zuT.length=C$zun.getUint16(),C$zuM=null,C$zuS=NaN;for(C$zui=0;C$zui<C$zuw;C$zui++){var C$zuh=C$zuT[C$zui]=new C$zuN;C$zuS=C$zuh.startTime=C$zud[C$zun.getUint16()];var C$zul=C$zun.pos;C$zuh.inTangent=new Float32Array(C$zuu.slice(C$zul,C$zul+C$zuo)),C$zun.pos+=C$zuo,C$zul=C$zun.pos,C$zuh.outTangent=new Float32Array(C$zuu.slice(C$zul,C$zul+C$zuo)),C$zun.pos+=C$zuo,C$zul=C$zun.pos,C$zuh.data=new Float32Array(C$zuu.slice(C$zul,C$zul+C$zuo)),C$zun.pos+=C$zuo,C$zuM&&(C$zuM.next=C$zuh,C$zuM.duration=C$zuS-C$zuM.startTime),C$zuM=C$zuh}C$zuh.next=null,C$zuh.duration=C$zup-C$zuS}var C$zuC=C$zur._nodeToCachePropertyMap=new Int32Array(C$zum),C$zuD=C$zur._cachePropertyMap=new Int32Array(C$zu$),C$zuE=C$zur._unCachePropertyMap=new Int32Array(C$zux);for(C$zue=C$zu$=C$zux=0;C$zue<C$zum;C$zue++)(C$zut=C$zug[C$zue])._cacheProperty?(C$zuC[C$zue]=C$zu$,C$zuD[C$zu$++]=C$zue):C$zuE[C$zux++]=C$zue},$_._animationClip=null,$_._reader=null,$_._strings=[],C$zus($_,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]),C$zur($w,"laya.d3.animation.AnimationClipParser02"),$w.READ_DATA=function(){$w._DATA.offset=$w._reader.getUint32(),$w._DATA.size=$w._reader.getUint32()},$w.READ_BLOCK=function(){for(var C$zut=$w._BLOCK.count=$w._reader.getUint16(),C$zue=$w._BLOCK.blockStarts=[],C$zui=$w._BLOCK.blockLengths=[],C$zun=0;C$zun<C$zut;C$zun++)C$zue.push($w._reader.getUint32()),C$zui.push($w._reader.getUint32())},$w.READ_STRINGS=function(){var C$zut=$w._reader.getUint32(),C$zue=$w._reader.getUint16(),C$zui=$w._reader.pos;$w._reader.pos=C$zut+$w._DATA.offset;for(var C$zun=0;C$zun<C$zue;C$zun++)$w._strings[C$zun]=$w._reader.readUTFString();$w._reader.pos=C$zui},$w.parse=function(C$zut,C$zue){$w._animationClip=C$zut,($w._reader=C$zue).__getBuffer(),$w.READ_DATA(),$w.READ_BLOCK(),$w.READ_STRINGS();for(var C$zui=0,C$zun=$w._BLOCK.count;C$zui<C$zun;C$zui++){var C$zur=C$zue.getUint16(),C$zus=$w._strings[C$zur],C$zua=$w["READ_"+C$zus];if(null==C$zua)throw new Error("model file err,no this function:"+C$zur+" "+C$zus);C$zua.call()}},$w.READ_ANIMATIONS=function(){var C$zut,C$zue=0,C$zui=0,C$zun=$w._reader,C$zuu=C$zun.__getBuffer(),C$zuc=[],C$zu_=C$zun.getUint8();for(C$zuc.length=C$zu_,C$zue=0;C$zue<C$zu_;C$zue++)C$zuc[C$zue]=C$zun.getUint16();var C$zud=[],C$zuf=C$zun.getUint16();for(C$zud.length=C$zuf,C$zue=0;C$zue<C$zuf;C$zue++)C$zud[C$zue]=C$zun.getFloat32();var C$zur=$w._animationClip;C$zur.name=$w._strings[C$zun.getUint16()];var C$zup=C$zur._duration=C$zun.getFloat32();C$zur.islooping=!!C$zun.getByte(),C$zur._frameRate=C$zun.getInt16();var C$zum=C$zun.getInt16(),C$zug=C$zur._nodes=new Array;C$zug.length=C$zum,(C$zur._publicClipDatas=[]).length=C$zum;var C$zuv=C$zur._nodesMap={},C$zu$=0,C$zux=0;for(C$zue=0;C$zue<C$zum;C$zue++){C$zut=C$zug[C$zue]=new C$zuF;var C$zuy=C$zun.getUint16(),C$zub=C$zut.path=[];for(C$zub.length=C$zuy,C$zui=0;C$zui<C$zuy;C$zui++)C$zub[C$zui]=$w._strings[C$zun.getUint16()];var C$zus=C$zub.join("/"),C$zua=C$zuv[C$zus];C$zua||(C$zuv[C$zus]=C$zua=[]),C$zua.push(C$zut);C$zus=C$zun.getInt16();-1!==C$zus&&(C$zut.componentType=$w._strings[C$zus]);C$zua=C$zuB._propertyIndexDic[$w._strings[C$zun.getUint16()]];if(null==C$zua)throw new Error("AnimationClipParser02:unknown property name.");C$zus=C$zua<4,C$zus=!C$zus||""===C$zub[0];(C$zut._cacheProperty=C$zus)?C$zu$++:C$zux++,C$zut.propertyNameID=C$zua;var C$zuo=C$zuc[C$zun.getUint8()];C$zut.keyFrameWidth=C$zuo/4;var C$zuT=C$zut.keyFrames=[],C$zuw=C$zuT.length=C$zun.getUint16(),C$zuM=null,C$zuS=NaN;for(C$zui=0;C$zui<C$zuw;C$zui++){var C$zuh=C$zuT[C$zui]=new C$zuN;C$zuS=C$zuh.startTime=C$zud[C$zun.getUint16()];var C$zul=C$zun.pos;C$zuh.inTangent=new Float32Array(C$zuu.slice(C$zul,C$zul+C$zuo)),C$zun.pos+=C$zuo,C$zul=C$zun.pos,C$zuh.outTangent=new Float32Array(C$zuu.slice(C$zul,C$zul+C$zuo)),C$zun.pos+=C$zuo,C$zul=C$zun.pos,C$zuh.data=new Float32Array(C$zuu.slice(C$zul,C$zul+C$zuo)),C$zun.pos+=C$zuo,C$zuM&&(C$zuM.next=C$zuh,C$zuM.duration=C$zuS-C$zuM.startTime),C$zuM=C$zuh}C$zuh.next=null,C$zuh.duration=C$zup-C$zuS}var C$zuC=C$zun.getUint16();for(C$zue=0;C$zue<C$zuC;C$zue++){var C$zuD,C$zuE=new C$zuL;C$zuE.time=C$zun.getFloat32(),C$zuE.eventName=$w._strings[C$zun.getUint16()];var C$zuP=C$zun.getUint16();for(0<C$zuP&&(C$zuE.params=C$zuD=[]),C$zui=0;C$zui<C$zuP;C$zui++)switch(C$zun.getByte()){case 0:C$zuD.push(!!C$zun.getByte());break;case 1:C$zuD.push(C$zun.getInt32());break;case 2:C$zuD.push(C$zun.getFloat32());break;case 3:C$zuD.push($w._strings[C$zun.getUint16()]);break;default:throw new Error("unknown type.")}C$zur.addEvent(C$zuE)}var C$zuA=C$zur._nodeToCachePropertyMap=new Int32Array(C$zum),C$zuI=C$zur._cachePropertyMap=new Int32Array(C$zu$),C$zuR=C$zur._unCachePropertyMap=new Int32Array(C$zux);for(C$zue=C$zu$=C$zux=0;C$zue<C$zum;C$zue++)(C$zut=C$zug[C$zue])._cacheProperty?(C$zuA[C$zue]=C$zu$,C$zuI[C$zu$++]=C$zue):C$zuR[C$zux++]=C$zue},$w._animationClip=null,$w._reader=null,$w._strings=[],C$zus($w,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]);C$zur($m,"laya.d3.animation.AnimationEvent");var C$zuL=$m,C$zuB=(C$zur($P,"laya.d3.animation.AnimationNode"),C$zuz=$P.prototype,C$zuy.imps(C$zuz,{"laya.d3.core.IClone":!0}),C$zuz.addChild=function(C$zut){C$zut._parent=this,C$zut.transform.setParent(this.transform),this._childs.push(C$zut)},C$zuz.removeChild=function(C$zut){C$zut=this._childs.indexOf(C$zut);-1!==C$zut&&this._childs.splice(C$zut,1)},C$zuz.getChildByName=function(C$zut){for(var C$zue=0,C$zui=this._childs.length;C$zue<C$zui;C$zue++){var C$zun=this._childs[C$zue];if(C$zun.name===C$zut)return C$zun}return null},C$zuz.getChildByIndex=function(C$zut){return this._childs[C$zut]},C$zuz.getChildCount=function(){return this._childs.length},C$zuz.cloneTo=function(C$zut){var C$zue=C$zut;C$zue.name=this.name;for(var C$zui=0,C$zun=this._childs.length;C$zui<C$zun;C$zui++){var C$zur=this._childs[C$zui],C$zus=C$zur.clone();C$zue.addChild(C$zus);C$zur=C$zur.transform,C$zus=C$zus.transform;C$zus.setLocalPosition(C$zur.getLocalPosition()),C$zus.setLocalRotation(C$zur.getLocalRotation()),C$zus.setLocalScale(C$zur.getLocalScale()),C$zus._localRotationEuler=C$zur._localRotationEuler,C$zus._setWorldMatrixIgnoreUpdate(C$zur.getWorldMatrix())}},C$zuz.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},$P.__init__=function(){$P.registerAnimationNodeProperty("localPosition",$P._getLocalPosition,$P._setLocalPosition),$P.registerAnimationNodeProperty("localRotation",$P._getLocalRotation,$P._setLocalRotation),$P.registerAnimationNodeProperty("localScale",$P._getLocalScale,$P._setLocalScale),$P.registerAnimationNodeProperty("localRotationEuler",$P._getLocalRotationEuler,$P._setLocalRotationEuler),$P.registerAnimationNodeProperty("particleRender.sharedMaterial.tintColor",$P._getParticleRenderSharedMaterialTintColor,$P._setParticleRenderSharedMaterialTintColor),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.tilingOffset",$P._getMeshRenderSharedMaterialTilingOffset,$P._setMeshRenderSharedMaterialTilingOffset),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.albedoColor",$P._getMeshRenderSharedMaterialAlbedo,$P._setMeshRenderSharedMaterialAlbedo),$P.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.tilingOffset",$P._getSkinnedMeshRenderSharedMaterialTilingOffset,$P._setSkinnedMeshRenderSharedMaterialTilingOffset),$P.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.albedoColor",$P._getSkinnedMeshRenderSharedMaterialAlbedo,$P._setSkinnedMeshRenderSharedMaterialAlbedo),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.albedo",$P._getMeshRenderSharedMaterialAlbedo,$P._setMeshRenderSharedMaterialAlbedo),$P.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.albedo",$P._getSkinnedMeshRenderSharedMaterialAlbedo,$P._setSkinnedMeshRenderSharedMaterialAlbedo),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.intensity",$P._getMeshRenderSharedMaterialIntensity,$P._setMeshRenderSharedMaterialIntensity),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.alpha",$P._getMeshRenderSharedMaterialAlpha,$P._setMeshRenderSharedMaterialAlpha),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.alphaColor",$P._getMeshRenderSharedMaterialAlphaColor,$P._setMeshRenderSharedMaterialAlphaColor),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.baseColor",$P._getMeshRenderSharedMaterialBaseColor,$P._setMeshRenderSharedMaterialBaseColor),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.dissolve",$P._getMeshRenderSharedMaterialDissolve,$P._setMeshRenderSharedMaterialDissolve),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.dissolveSpeed",$P._getMeshRenderSharedMaterialDissolveSpeed,$P._setMeshRenderSharedMaterialDissolveSpeed),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.mMultiplier",$P._getMeshRenderSharedMaterialMMultiplier,$P._setMeshRenderSharedMaterialMMultiplier),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.baseScrollSpeedX",$P._getMeshRenderSharedMaterialBaseScrollSpeedX,$P._setMeshRenderSharedMaterialBaseScrollSpeedX),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.baseScrollSpeedY",$P._getMeshRenderSharedMaterialBaseScrollSpeedY,$P._setMeshRenderSharedMaterialBaseScrollSpeedY),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.secondScrollSpeedX",$P._getMeshRenderSharedMaterialSecondScrollSpeedX,$P._setMeshRenderSharedMaterialSecondScrollSpeedX),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.secondScrollSpeedY",$P._getMeshRenderSharedMaterialSecondScrollSpeedY,$P._setMeshRenderSharedMaterialSecondScrollSpeedY),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.detailTilingOffset",$P._getMeshRenderSharedMaterialDetailTilingOffset,$P._setMeshRenderSharedMaterialDetailTilingOffset),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.dissolveTilingOffset",$P._getMeshRenderSharedMaterialDissolveTilingOffset,$P._setMeshRenderSharedMaterialDissolveTilingOffset),$P.registerAnimationNodeProperty("meshRender.sharedMaterial.maskTilingOffset",$P._getMeshRenderSharedMaterialMaskTilingOffset,$P._setMeshRenderSharedMaterialMaskTilingOffset)},$P.registerAnimationNodeProperty=function(C$zut,C$zue,C$zui){if($P._propertyIndexDic[C$zut])throw new Error("AnimationNode: this propertyName has registered.");$P._propertyIndexDic[C$zut]=$P._propertyIDCounter,$P._propertyGetFuncs[$P._propertyIDCounter]=C$zue,$P._propertySetFuncs[$P._propertyIDCounter]=C$zui,$P._propertyIDCounter++},$P._getLocalPosition=function(C$zut,C$zue){return C$zut?C$zut.transform.getLocalPosition():C$zue._transform.localPosition.elements},$P._setLocalPosition=function(C$zut,C$zue,C$zui){C$zut?C$zut.transform.setLocalPosition(C$zui):((C$zue=(C$zut=C$zue._transform).localPosition).elements=C$zui,C$zut.localPosition=C$zue)},$P._getLocalRotation=function(C$zut,C$zue){return C$zut?C$zut.transform.getLocalRotation():C$zue._transform.localRotation.elements},$P._setLocalRotation=function(C$zut,C$zue,C$zui){C$zut?C$zut.transform.setLocalRotation(C$zui):((C$zue=(C$zut=C$zue._transform).localRotation).elements=C$zui,C$zut.localRotation=C$zue)},$P._getLocalScale=function(C$zut,C$zue){return C$zut?C$zut.transform.getLocalScale():C$zue._transform.localScale.elements},$P._setLocalScale=function(C$zut,C$zue,C$zui){C$zut?C$zut.transform.setLocalScale(C$zui):((C$zue=(C$zut=C$zue._transform).localScale).elements=C$zui,C$zut.localScale=C$zue)},$P._getLocalRotationEuler=function(C$zut,C$zue){return C$zut?C$zut.transform.getLocalRotationEuler():C$zue._transform.localRotationEuler.elements},$P._setLocalRotationEuler=function(C$zut,C$zue,C$zui){C$zut?C$zut.transform.setLocalRotationEuler(C$zui):((C$zue=(C$zut=C$zue._transform).localRotationEuler).elements=C$zui,C$zut.localRotationEuler=C$zue)},$P._getMeshRenderSharedMaterialTilingOffset=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.tilingOffset.elements:null:C$zue.meshRender.sharedMaterial.tilingOffset.elements},$P._setMeshRenderSharedMaterialTilingOffset=function(C$zut,C$zue,C$zui){var C$zun,C$zur;C$zut?(C$zut=C$zut.transform._entity)&&((C$zur=(C$zun=C$zut.owner.meshRender.material).tilingOffset).elements=C$zui,C$zun.tilingOffset=C$zur):((C$zur=(C$zun=C$zue.meshRender.material).tilingOffset).elements=C$zui,C$zun.tilingOffset=C$zur)},$P._getMeshRenderSharedMaterialAlbedo=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.albedoColor.elements:null:C$zue.meshRender.sharedMaterial.albedoColor.elements},$P._setMeshRenderSharedMaterialAlbedo=function(C$zut,C$zue,C$zui){var C$zun,C$zur;C$zut?(C$zut=C$zut.transform._entity)&&((C$zur=(C$zun=C$zut.owner.meshRender.material).albedoColor).elements=C$zui,C$zun.albedoColor=C$zur):((C$zur=(C$zun=C$zue.meshRender.material).albedoColor).elements=C$zui,C$zun.albedoColor=C$zur)},$P._getSkinnedMeshRenderSharedMaterialTilingOffset=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.skinnedMeshRender.sharedMaterial.tilingOffset.elements:null:C$zue.skinnedMeshRender.sharedMaterial.tilingOffset.elements},$P._setSkinnedMeshRenderSharedMaterialTilingOffset=function(C$zut,C$zue,C$zui){var C$zun,C$zur;C$zut?(C$zut=C$zut.transform._entity)&&((C$zur=(C$zun=C$zut.owner.skinnedMeshRender.material).tilingOffset).elements=C$zui,C$zun.tilingOffset=C$zur):((C$zur=(C$zun=C$zue.skinnedMeshRender.material).tilingOffset).elements=C$zui,C$zun.tilingOffset=C$zur)},$P._getSkinnedMeshRenderSharedMaterialAlbedo=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.skinnedMeshRender.sharedMaterial.albedoColor.elements:null:C$zue.skinnedMeshRender.sharedMaterial.albedoColor.elements},$P._setSkinnedMeshRenderSharedMaterialAlbedo=function(C$zut,C$zue,C$zui){var C$zun,C$zur;C$zut?(C$zut=C$zut.transform._entity)&&((C$zur=(C$zun=C$zut.owner.skinnedMeshRender.material).albedoColor).elements=C$zui,C$zun.albedoColor=C$zur):((C$zur=(C$zun=C$zue.skinnedMeshRender.material).albedoColor).elements=C$zui,C$zun.albedoColor=C$zur)},$P._getParticleRenderSharedMaterialTintColor=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.particleRender.sharedMaterial.tintColor.elements:null:C$zue.particleRender.sharedMaterial.tintColor.elements},$P._setParticleRenderSharedMaterialTintColor=function(C$zut,C$zue,C$zui){var C$zun,C$zur;C$zut?(C$zut=C$zut.transform._entity)&&((C$zur=(C$zun=C$zut.owner.particleRender.material).tintColor).elements=C$zui,C$zun.tintColor=C$zur):((C$zur=(C$zun=C$zue.particleRender.material).tintColor).elements=C$zui,C$zun.tintColor=C$zur)},$P._getMeshRenderSharedMaterialAlphaColor=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.alphaColor.elements:null:C$zue.meshRender.sharedMaterial.alphaColor.elements},$P._setMeshRenderSharedMaterialAlphaColor=function(C$zut,C$zue,C$zui){var C$zun,C$zur;C$zut?(C$zut=C$zut.transform._entity)&&((C$zur=(C$zun=C$zut.owner.meshRender.material).alphaColor).elements=C$zui,C$zun.alphaColor=C$zur):((C$zur=(C$zun=C$zue.meshRender.material).alphaColor).elements=C$zui,C$zun.alphaColor=C$zur)},$P._getMeshRenderSharedMaterialBaseColor=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.baseColor.elements:null:C$zue.meshRender.sharedMaterial.baseColor.elements},$P._setMeshRenderSharedMaterialBaseColor=function(C$zut,C$zue,C$zui){var C$zun,C$zur;C$zut?(C$zut=C$zut.transform._entity)&&((C$zur=(C$zun=C$zut.owner.meshRender.material).baseColor).elements=C$zui,C$zun.baseColor=C$zur):((C$zur=(C$zun=C$zue.meshRender.material).baseColor).elements=C$zui,C$zun.baseColor=C$zur)},$P._getMeshRenderSharedMaterialDissolve=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.dissolve:0:C$zue.meshRender.sharedMaterial.dissolve},$P._setMeshRenderSharedMaterialDissolve=function(C$zut,C$zue,C$zui){C$zut?(C$zut=C$zut.transform._entity)&&(C$zut.owner.meshRender.material.dissolve=C$zui[0]):C$zue.meshRender.material.dissolve=C$zui[0]},$P._getMeshRenderSharedMaterialDissolveSpeed=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.dissolveSpeed:0:C$zue.meshRender.sharedMaterial.dissolveSpeed},$P._setMeshRenderSharedMaterialDissolveSpeed=function(C$zut,C$zue,C$zui){C$zut?(C$zut=C$zut.transform._entity)&&(C$zut.owner.meshRender.material.dissolveSpeed=C$zui[0]):C$zue.meshRender.material.dissolveSpeed=C$zui[0]},$P._getMeshRenderSharedMaterialMMultiplier=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.mMultiplier:0:C$zue.meshRender.sharedMaterial.mMultiplier},$P._setMeshRenderSharedMaterialMMultiplier=function(C$zut,C$zue,C$zui){C$zut?(C$zut=C$zut.transform._entity)&&(C$zut.owner.meshRender.material.mMultiplier=C$zui[0]):C$zue.meshRender.material.mMultiplier=C$zui[0]},$P._getMeshRenderSharedMaterialBaseScrollSpeedX=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.baseScrollSpeedX:0:C$zue.meshRender.sharedMaterial.baseScrollSpeedX},$P._setMeshRenderSharedMaterialBaseScrollSpeedX=function(C$zut,C$zue,C$zui){C$zut?(C$zut=C$zut.transform._entity)&&(C$zut.owner.meshRender.material.baseScrollSpeedX=C$zui[0]):C$zue.meshRender.material.baseScrollSpeedX=C$zui[0]},$P._getMeshRenderSharedMaterialBaseScrollSpeedY=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.baseScrollSpeedY:0:C$zue.meshRender.sharedMaterial.baseScrollSpeedY},$P._setMeshRenderSharedMaterialBaseScrollSpeedY=function(C$zut,C$zue,C$zui){C$zut?(C$zut=C$zut.transform._entity)&&(C$zut.owner.meshRender.material.baseScrollSpeedY=C$zui[0]):C$zue.meshRender.material.baseScrollSpeedY=C$zui[0]},$P._getMeshRenderSharedMaterialSecondScrollSpeedX=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.secondScrollSpeedX:0:C$zue.meshRender.sharedMaterial.secondScrollSpeedX},$P._setMeshRenderSharedMaterialSecondScrollSpeedX=function(C$zut,C$zue,C$zui){C$zut?(C$zut=C$zut.transform._entity)&&(C$zut.owner.meshRender.material.secondScrollSpeedX=C$zui[0]):C$zue.meshRender.material.secondScrollSpeedX=C$zui[0]},$P._getMeshRenderSharedMaterialSecondScrollSpeedY=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.secondScrollSpeedY:0:C$zue.meshRender.sharedMaterial.secondScrollSpeedY},$P._setMeshRenderSharedMaterialSecondScrollSpeedY=function(C$zut,C$zue,C$zui){C$zut?(C$zut=C$zut.transform._entity)&&(C$zut.owner.meshRender.material.secondScrollSpeedY=C$zui[0]):C$zue.meshRender.material.secondScrollSpeedY=C$zui[0]},$P._getMeshRenderSharedMaterialAlpha=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.alpha:0:C$zue.meshRender.sharedMaterial.alpha},$P._setMeshRenderSharedMaterialAlpha=function(C$zut,C$zue,C$zui){C$zut?(C$zut=C$zut.transform._entity)&&(C$zut.owner.meshRender.material.alpha=C$zui[0]):C$zue.meshRender.material.alpha=C$zui[0]},$P._getMeshRenderSharedMaterialIntensity=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.intensity:0:C$zue.meshRender.sharedMaterial.intensity},$P._setMeshRenderSharedMaterialIntensity=function(C$zut,C$zue,C$zui){C$zut?(C$zut=C$zut.transform._entity)&&(C$zut.owner.meshRender.material.intensity=C$zui[0]):C$zue.meshRender.material.intensity=C$zui[0]},$P._getMeshRenderSharedMaterialDetailTilingOffset=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.detailTilingOffset.elements:null:C$zue.meshRender.sharedMaterial.detailTilingOffset.elements},$P._setMeshRenderSharedMaterialDetailTilingOffset=function(C$zut,C$zue,C$zui){var C$zun,C$zur;C$zut?(C$zut=C$zut.transform._entity)&&((C$zur=(C$zun=C$zut.owner.meshRender.material).detailTilingOffset).elements=C$zui,C$zun.detailTilingOffset=C$zur):((C$zur=(C$zun=C$zue.meshRender.material).detailTilingOffset).elements=C$zui,C$zun.detailTilingOffset=C$zur)},$P._getMeshRenderSharedMaterialDissolveTilingOffset=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.dissolveTilingOffset.elements:null:C$zue.meshRender.sharedMaterial.dissolveTilingOffset.elements},$P._setMeshRenderSharedMaterialDissolveTilingOffset=function(C$zut,C$zue,C$zui){var C$zun,C$zur;C$zut?(C$zut=C$zut.transform._entity)&&((C$zur=(C$zun=C$zut.owner.meshRender.material).dissolveTilingOffset).elements=C$zui,C$zun.dissolveTilingOffset=C$zur):((C$zur=(C$zun=C$zue.meshRender.material).dissolveTilingOffset).elements=C$zui,C$zun.dissolveTilingOffset=C$zur)},$P._getMeshRenderSharedMaterialMaskTilingOffset=function(C$zut,C$zue){return C$zut?(C$zut=C$zut.transform._entity)?C$zut.owner.meshRender.sharedMaterial.maskTilingOffset.elements:null:C$zue.meshRender.sharedMaterial.maskTilingOffset.elements},$P._setMeshRenderSharedMaterialMaskTilingOffset=function(C$zut,C$zue,C$zui){var C$zun,C$zur;C$zut?(C$zut=C$zut.transform._entity)&&((C$zur=(C$zun=C$zut.owner.meshRender.material).maskTilingOffset).elements=C$zui,C$zun.maskTilingOffset=C$zur):((C$zur=(C$zun=C$zue.meshRender.material).maskTilingOffset).elements=C$zui,C$zun.maskTilingOffset=C$zur)},$P._propertyIDCounter=0,$P._propertyIndexDic={},$P._propertySetFuncs=[],$P._propertyGetFuncs=[],$P),C$zuN=function(){function $m(){this.startTime=NaN,this.inTangent=null,this.outTangent=null,this.data=null,this.duration=NaN,this.next=null}return C$zur($m,"laya.d3.animation.Keyframe"),$m}(),C$zuF=function(){function $m(){this._cacheProperty=!1,this.path=null,this.componentType=null,this.propertyNameID=0,this.keyFrameWidth=0,this.defaultData=null,this.keyFrames=null}return C$zur($m,"laya.d3.animation.KeyframeNode"),$m}(),C$zuO=(function(){function $m(){this._tempVector30=new C$zuE,this._tempVector31=new C$zuE,this._tempVector32=new C$zuE,this._a=new C$zuE,this._b=new C$zuE,this._c=new C$zuE,this._d=new C$zuE}C$zur($m,"laya.d3.core.glitter.SplineCurvePositionVelocity");var C$zut=$m.prototype;C$zut.Init=function(C$zut,C$zue,C$zui,C$zun){C$zut.cloneTo(this._d),C$zue.cloneTo(this._c),C$zuE.scale(C$zut,2,this._a),C$zuE.scale(C$zui,2,this._tempVector30),C$zuE.subtract(this._a,this._tempVector30,this._a),C$zuE.add(this._a,C$zue,this._a),C$zuE.add(this._a,C$zun,this._a),C$zuE.scale(C$zui,3,this._b),C$zuE.scale(C$zut,3,this._tempVector30),C$zuE.subtract(this._b,this._tempVector30,this._b),C$zuE.subtract(this._b,C$zun,this._b),C$zuE.scale(C$zue,2,this._tempVector30),C$zuE.subtract(this._b,this._tempVector30,this._b)},C$zut.Slerp=function(C$zut,C$zue){C$zuE.scale(this._a,C$zut*C$zut*C$zut,this._tempVector30),C$zuE.scale(this._b,C$zut*C$zut,this._tempVector31),C$zuE.scale(this._c,C$zut,this._tempVector32),C$zuE.add(this._tempVector30,this._tempVector31,C$zue),C$zuE.add(C$zue,this._tempVector32,C$zue),C$zuE.add(C$zue,this._d,C$zue)}}(),C$zur($J,"laya.d3.core.HeightMap"),(C$zuz=$J.prototype)._inBounds=function(C$zut,C$zue){return 0<=C$zut&&C$zut<this._h&&0<=C$zue&&C$zue<this._w},C$zuz.getHeight=function(C$zut,C$zue){return this._inBounds(C$zut,C$zue)?this._datas[C$zut][C$zue]:NaN},C$zuo(0,C$zuz,"width",function(){return this._w}),C$zuo(0,C$zuz,"height",function(){return this._h}),C$zuo(0,C$zuz,"maxHeight",function(){return this._maxHeight}),C$zuo(0,C$zuz,"minHeight",function(){return this._minHeight}),$J.creatFromMesh=function(C$zut,C$zuu,C$zuc,C$zu_){for(var C$zud=[],C$zuf=[],C$zup=C$zut.getSubMeshCount(),C$zum=0;C$zum<C$zup;C$zum++){for(var C$zue=C$zut.getSubMesh(C$zum),C$zug=C$zue._getVertexBuffer(),C$zui=C$zug.getData(),C$zuv=[],C$zun=0;C$zun<C$zui.length;C$zun+=C$zug.vertexDeclaration.vertexStride/4){var C$zu$=new C$zuE(C$zui[C$zun+0],C$zui[C$zun+1],C$zui[C$zun+2]);C$zuv.push(C$zu$)}C$zud.push(C$zuv);C$zue=C$zue._getIndexBuffer();C$zuf.push(C$zue.getData())}var C$zur=C$zut.boundingBox,C$zux=C$zur.min.x,C$zuy=C$zur.min.z,C$zus=C$zur.max.x,C$zub=C$zur.max.z,C$zuT=C$zur.min.y,C$zur=C$zur.max.y,C$zub=C$zub-C$zuy,C$zuw=C$zu_.elements[0]=(C$zus-C$zux)/(C$zuu-1),C$zuM=C$zu_.elements[1]=C$zub/(C$zuc-1),C$zuS=new $J(C$zuu,C$zuc,C$zuT,C$zur),C$zua=$J._tempRay,C$zus=C$zua.direction.elements;C$zus[0]=0,C$zus[1]=-1,C$zus[2]=0;var C$zuC=C$zur+.1;C$zua.origin.elements[1]=C$zuC;for(var C$zuo=0;C$zuo<C$zuc;C$zuo++){var C$zuD=C$zuy+C$zuo*C$zuM;C$zuS._datas[C$zuo]=[];for(var C$zuh=0;C$zuh<C$zuu;C$zuh++){var C$zul=C$zua.origin.elements;C$zul[0]=C$zux+C$zuh*C$zuw,C$zul[2]=C$zuD;C$zul=$J._getPosition(C$zua,C$zud,C$zuf);C$zuS._datas[C$zuo][C$zuh]=C$zul===Number.MAX_VALUE?NaN:C$zuC-C$zul}}return C$zuS},$J.createFromImage=function(C$zut,C$zue,C$zui){for(var C$zun=C$zut.width,C$zur=C$zut.height,C$zus=new $J(C$zun,C$zur,C$zue,C$zui),C$zuu=(C$zui-C$zue)/254,C$zua=C$zut.getPixels(),C$zuo=0,C$zuh=0;C$zuh<C$zur;C$zuh++)for(var C$zuc=C$zus._datas[C$zuh]=[],C$zul=0;C$zul<C$zun;C$zul++){var C$zu_=C$zua[C$zuo++],C$zud=C$zua[C$zuo++],C$zuf=C$zua[C$zuo++],C$zup=C$zua[C$zuo++];C$zuc[C$zul]=255==C$zu_&&255==C$zud&&255==C$zuf&&255==C$zup?NaN:(C$zu_+C$zud+C$zuf)/3*C$zuu+C$zue}return C$zus},$J._getPosition=function(C$zut,C$zue,C$zui){for(var C$zun=Number.MAX_VALUE,C$zur=0;C$zur<C$zue.length;C$zur++)for(var C$zus=C$zue[C$zur],C$zua=C$zui[C$zur],C$zuo=0;C$zuo<C$zua.length;C$zuo+=3){var C$zuh=C$zus[C$zua[C$zuo+0]],C$zul=C$zus[C$zua[C$zuo+1]],C$zuu=C$zus[C$zua[C$zuo+2]],C$zuh=C$zufe.rayIntersectsTriangle(C$zut,C$zuh,C$zul,C$zuu);!isNaN(C$zuh)&&C$zuh<C$zun&&(C$zun=C$zuh)}return C$zun},C$zus($J,["_tempRay",function(){return this._tempRay=new C$zuse(new C$zuE,new C$zuE)}]),C$zur($L,"laya.d3.core.Layer"),(C$zuz=$L.prototype)._binarySearchIndex=function(){for(var C$zut,C$zue=0,C$zui=$L._collsionTestList.length-1;C$zue<=C$zui;){C$zut=Math.floor((C$zue+C$zui)/2);var C$zun=$L._collsionTestList[C$zut];if(C$zun==this._number)return C$zut;C$zun>this._number?C$zui=C$zut-1:C$zue=C$zut+1}return C$zue},C$zuz._addCollider=function(C$zut){0===this._colliders.length&&$L._collsionTestList.splice(this._binarySearchIndex(),0,this._number),C$zut._isRigidbody?(this._colliders.unshift(C$zut),this._nonRigidbodyOffset++):this._colliders.push(C$zut)},C$zuz._removeCollider=function(C$zut){C$zut=this._colliders.indexOf(C$zut);C$zut<this._nonRigidbodyOffset&&this._nonRigidbodyOffset--,this._colliders.splice(C$zut,1),0===this._colliders.length&&$L._collsionTestList.splice($L._collsionTestList.indexOf(this._number),1)},C$zuo(0,C$zuz,"number",function(){return this._number}),C$zuo(0,C$zuz,"visible",function(){return this._visible},function(C$zut){this._visible=C$zut,$L._visibleLayers=C$zut?$L._visibleLayers|this.mask:$L._visibleLayers&~this.mask}),C$zuo(0,C$zuz,"mask",function(){return this._mask}),C$zuo(1,$L,"visibleLayers",function(){return $L._visibleLayers},function(C$zut){$L._visibleLayers=C$zut;for(var C$zue=0,C$zui=$L._layerList.length;C$zue<C$zui;C$zue++){var C$zun=$L._layerList[C$zue];C$zun._visible=0!=(C$zun._mask&$L._visibleLayers)}}),$L.__init__=function(){$L._layerList.length=31;for(var C$zut=0;C$zut<31;C$zut++){var C$zue=new $L;$L._layerList[C$zut]=C$zue,0===C$zut?(C$zue.name="Default Layer",C$zue.visible=!0):(C$zue.name="Layer-"+C$zut,C$zue.visible=!1),C$zue._number=C$zut,C$zue._mask=Math.pow(2,C$zut)}$L.currentCreationLayer=$L._layerList[0]},$L.getLayerByNumber=function(C$zut){if(C$zut<0||30<C$zut)throw new Error("\u65e0\u6cd5\u8fd4\u56de\u6307\u5b9aLayer\uff0c\u8be5number\u8d85\u51fa\u8303\u56f4\uff01");return $L._layerList[C$zut]},$L.getLayerByName=function(C$zut){for(var C$zue=0;C$zue<31;C$zue++)if($L._layerList[C$zue].name===C$zut)return $L._layerList[C$zue];throw new Error("\u65e0\u6cd5\u8fd4\u56de\u6307\u5b9aLayer,\u8be5name\u4e0d\u5b58\u5728")},$L.isVisible=function(C$zut){return 0!=(C$zut&$L._currentCameraCullingMask&$L._visibleLayers)},$L._layerList=[],$L._visibleLayers=2147483647,$L._collsionTestList=[],$L._currentCameraCullingMask=2147483647,$L.maxCount=31,$L.currentCreationLayer=null,$L),C$zuV=(function(){function $m(C$zut,C$zue,C$zui){this._time=NaN,this._minCount=0,this._maxCount=0,this._time=C$zut,this._minCount=C$zue,this._maxCount=C$zui}C$zur($m,"laya.d3.core.particleShuriKen.module.Burst");var C$zut=$m.prototype;C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.cloneTo=function(C$zut){C$zut._time=this._time,C$zut._minCount=this._minCount,C$zut._maxCount=this._maxCount},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zuo(0,C$zut,"time",function(){return this._time}),C$zuo(0,C$zut,"minCount",function(){return this._minCount}),C$zuo(0,C$zut,"maxCount",function(){return this._maxCount})}(),function(){function $m(C$zut){this._color=null,this.enbale=!1,this._color=C$zut}C$zur($m,"laya.d3.core.particleShuriKen.module.ColorOverLifetime");var C$zut=$m.prototype;C$zut.cloneTo=function(C$zut){this._color.cloneTo(C$zut._color),C$zut.enbale=this.enbale},C$zut.clone=function(){var C$zut;switch(this._color.type){case 0:C$zut=C$zuU.createByConstant(this._color.constant.clone());break;case 1:C$zut=C$zuU.createByGradient(this._color.gradient.clone());break;case 2:C$zut=C$zuU.createByRandomTwoConstant(this._color.constantMin.clone(),this._color.constantMax.clone());break;case 3:C$zut=C$zuU.createByRandomTwoGradient(this._color.gradientMin.clone(),this._color.gradientMax.clone())}var C$zue=new this.constructor(C$zut);return C$zue.enbale=this.enbale,C$zue},C$zuo(0,C$zut,"color",function(){return this._color})}(),function(){function $m(){this._destroyed=!1,this._emissionRate=0,this._bursts=null,this.enbale=!1,this._destroyed=!1,this.emissionRate=10,this._bursts=[]}C$zur($m,"laya.d3.core.particleShuriKen.module.Emission");var C$zut=$m.prototype;C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0,"laya.resource.IDestroy":!0}),C$zut._destroy=function(){this._bursts=null,this._destroyed=!0},C$zut.getBurstsCount=function(){return this._bursts.length},C$zut.getBurstByIndex=function(C$zut){return this._bursts[C$zut]},C$zut.addBurst=function(C$zut){var C$zue=this._bursts.length;if(0<C$zue)for(var C$zui=0;C$zui<C$zue;C$zui++)this._bursts[C$zui].time>C$zut.time&&this._bursts.splice(C$zui,0,C$zut);this._bursts.push(C$zut)},C$zut.removeBurst=function(C$zut){C$zut=this._bursts.indexOf(C$zut);-1!==C$zut&&this._bursts.splice(C$zut,1)},C$zut.removeBurstByIndex=function(C$zut){this._bursts.splice(C$zut,1)},C$zut.clearBurst=function(){this._bursts.length=0},C$zut.cloneTo=function(C$zut){var C$zue=C$zut._bursts;C$zue.length=this._bursts.length;for(var C$zui=0,C$zun=this._bursts.length;C$zui<C$zun;C$zui++){var C$zur=C$zue[C$zui];C$zur?this._bursts[C$zui].cloneTo(C$zur):C$zue[C$zui]=this._bursts[C$zui].clone()}C$zut._emissionRate=this._emissionRate,C$zut.enbale=this.enbale},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zuo(0,C$zut,"destroyed",function(){return this._destroyed}),C$zuo(0,C$zut,"emissionRate",function(){return this._emissionRate},function(C$zut){if(C$zut<0)throw new Error("ParticleBaseShape:emissionRate value must large or equal than 0.");this._emissionRate=C$zut})}(),function(){function $P(){this._type=0,this._constant=0,this._overTime=null,this._constantMin=0,this._constantMax=0,this._overTimeMin=null,this._overTimeMax=null}C$zur($P,"laya.d3.core.particleShuriKen.module.FrameOverTime");var C$zut=$P.prototype;return C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.cloneTo=function(C$zut){C$zut._type=this._type,C$zut._constant=this._constant,this._overTime.cloneTo(C$zut._overTime),C$zut._constantMin=this._constantMin,C$zut._constantMax=this._constantMax,this._overTimeMin.cloneTo(C$zut._overTimeMin),this._overTimeMax.cloneTo(C$zut._overTimeMax)},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zuo(0,C$zut,"frameOverTimeData",function(){return this._overTime}),C$zuo(0,C$zut,"constant",function(){return this._constant}),C$zuo(0,C$zut,"type",function(){return this._type}),C$zuo(0,C$zut,"frameOverTimeDataMin",function(){return this._overTimeMin}),C$zuo(0,C$zut,"constantMin",function(){return this._constantMin}),C$zuo(0,C$zut,"frameOverTimeDataMax",function(){return this._overTimeMax}),C$zuo(0,C$zut,"constantMax",function(){return this._constantMax}),$P.createByConstant=function(C$zut){var C$zue=new $P;return C$zue._type=0,C$zue._constant=C$zut,C$zue},$P.createByOverTime=function(C$zut){var C$zue=new $P;return C$zue._type=1,C$zue._overTime=C$zut,C$zue},$P.createByRandomTwoConstant=function(C$zut,C$zue){var C$zui=new $P;return C$zui._type=2,C$zui._constantMin=C$zut,C$zui._constantMax=C$zue,C$zui},$P.createByRandomTwoOverTime=function(C$zut,C$zue){var C$zui=new $P;return C$zui._type=3,C$zui._overTimeMin=C$zut,C$zui._overTimeMax=C$zue,C$zui},$P}()),C$zuk=(C$zur($K,"laya.d3.core.particleShuriKen.module.GradientAngularVelocity"),C$zuz=$K.prototype,C$zuy.imps(C$zuz,{"laya.d3.core.IClone":!0}),C$zuz.cloneTo=function(C$zut){C$zut._type=this._type,C$zut._separateAxes=this._separateAxes,C$zut._constant=this._constant,this._constantSeparate.cloneTo(C$zut._constantSeparate),this._gradient.cloneTo(C$zut._gradient),this._gradientX.cloneTo(C$zut._gradientX),this._gradientY.cloneTo(C$zut._gradientY),this._gradientZ.cloneTo(C$zut._gradientZ),C$zut._constantMin=this._constantMin,C$zut._constantMax=this._constantMax,this._constantMinSeparate.cloneTo(C$zut._constantMinSeparate),this._constantMaxSeparate.cloneTo(C$zut._constantMaxSeparate),this._gradientMin.cloneTo(C$zut._gradientMin),this._gradientMax.cloneTo(C$zut._gradientMax),this._gradientXMin.cloneTo(C$zut._gradientXMin),this._gradientXMax.cloneTo(C$zut._gradientXMax),this._gradientYMin.cloneTo(C$zut._gradientYMin),this._gradientYMax.cloneTo(C$zut._gradientYMax),this._gradientZMin.cloneTo(C$zut._gradientZMin),this._gradientZMax.cloneTo(C$zut._gradientZMax)},C$zuz.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zuo(0,C$zuz,"gradientZ",function(){return this._gradientZ}),C$zuo(0,C$zuz,"constant",function(){return this._constant}),C$zuo(0,C$zuz,"gradient",function(){return this._gradient}),C$zuo(0,C$zuz,"separateAxes",function(){return this._separateAxes}),C$zuo(0,C$zuz,"type",function(){return this._type}),C$zuo(0,C$zuz,"constantSeparate",function(){return this._constantSeparate}),C$zuo(0,C$zuz,"gradientX",function(){return this._gradientX}),C$zuo(0,C$zuz,"gradientY",function(){return this._gradientY}),C$zuo(0,C$zuz,"gradientW",function(){return this._gradientW}),C$zuo(0,C$zuz,"gradientMin",function(){return this._gradientMin}),C$zuo(0,C$zuz,"constantMin",function(){return this._constantMin}),C$zuo(0,C$zuz,"gradientMax",function(){return this._gradientMax}),C$zuo(0,C$zuz,"constantMax",function(){return this._constantMax}),C$zuo(0,C$zuz,"gradientWMin",function(){return this._gradientWMin}),C$zuo(0,C$zuz,"constantMinSeparate",function(){return this._constantMinSeparate}),C$zuo(0,C$zuz,"constantMaxSeparate",function(){return this._constantMaxSeparate}),C$zuo(0,C$zuz,"gradientXMin",function(){return this._gradientXMin}),C$zuo(0,C$zuz,"gradientXMax",function(){return this._gradientXMax}),C$zuo(0,C$zuz,"gradientWMax",function(){return this._gradientWMax}),C$zuo(0,C$zuz,"gradientYMin",function(){return this._gradientYMin}),C$zuo(0,C$zuz,"gradientYMax",function(){return this._gradientYMax}),C$zuo(0,C$zuz,"gradientZMin",function(){return this._gradientZMin}),C$zuo(0,C$zuz,"gradientZMax",function(){return this._gradientZMax}),$K.createByConstant=function(C$zut){var C$zue=new $K;return C$zue._type=0,C$zue._separateAxes=!1,C$zue._constant=C$zut,C$zue},$K.createByConstantSeparate=function(C$zut){var C$zue=new $K;return C$zue._type=0,C$zue._separateAxes=!0,C$zue._constantSeparate=C$zut,C$zue},$K.createByGradient=function(C$zut){var C$zue=new $K;return C$zue._type=1,C$zue._separateAxes=!1,C$zue._gradient=C$zut,C$zue},$K.createByGradientSeparate=function(C$zut,C$zue,C$zui,C$zun){var C$zur=new $K;return C$zur._type=1,C$zur._separateAxes=!0,C$zur._gradientX=C$zut,C$zur._gradientY=C$zue,C$zur._gradientZ=C$zui,C$zur._gradientW=C$zun,C$zur},$K.createByRandomTwoConstant=function(C$zut,C$zue){var C$zui=new $K;return C$zui._type=2,C$zui._separateAxes=!1,C$zui._constantMin=C$zut,C$zui._constantMax=C$zue,C$zui},$K.createByRandomTwoConstantSeparate=function(C$zut,C$zue){var C$zui=new $K;return C$zui._type=2,C$zui._separateAxes=!0,C$zui._constantMinSeparate=C$zut,C$zui._constantMaxSeparate=C$zue,C$zui},$K.createByRandomTwoGradient=function(C$zut,C$zue){var C$zui=new $K;return C$zui._type=3,C$zui._separateAxes=!1,C$zui._gradientMin=C$zut,C$zui._gradientMax=C$zue,C$zui},$K.createByRandomTwoGradientSeparate=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){var C$zuh=new $K;return C$zuh._type=3,C$zuh._separateAxes=!0,C$zuh._gradientXMin=C$zut,C$zuh._gradientXMax=C$zue,C$zuh._gradientYMin=C$zui,C$zuh._gradientYMax=C$zun,C$zuh._gradientZMin=C$zur,C$zuh._gradientZMax=C$zus,C$zuh._gradientWMin=C$zua,C$zuh._gradientWMax=C$zuo,C$zuh},$K),C$zuU=function(){function $P(){this._type=0,this._constant=null,this._constantMin=null,this._constantMax=null,this._gradient=null,this._gradientMin=null,this._gradientMax=null}C$zur($P,"laya.d3.core.particleShuriKen.module.GradientColor");var C$zut=$P.prototype;return C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.cloneTo=function(C$zut){C$zut._type=this._type,this._constant.cloneTo(C$zut._constant),this._constantMin.cloneTo(C$zut._constantMin),this._constantMax.cloneTo(C$zut._constantMax),this._gradient.cloneTo(C$zut._gradient),this._gradientMin.cloneTo(C$zut._gradientMin),this._gradientMax.cloneTo(C$zut._gradientMax)},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zuo(0,C$zut,"gradient",function(){return this._gradient}),C$zuo(0,C$zut,"constant",function(){return this._constant}),C$zuo(0,C$zut,"type",function(){return this._type}),C$zuo(0,C$zut,"gradientMin",function(){return this._gradientMin}),C$zuo(0,C$zut,"constantMin",function(){return this._constantMin}),C$zuo(0,C$zut,"gradientMax",function(){return this._gradientMax}),C$zuo(0,C$zut,"constantMax",function(){return this._constantMax}),$P.createByConstant=function(C$zut){var C$zue=new $P;return C$zue._type=0,C$zue._constant=C$zut,C$zue},$P.createByGradient=function(C$zut){var C$zue=new $P;return C$zue._type=1,C$zue._gradient=C$zut,C$zue},$P.createByRandomTwoConstant=function(C$zut,C$zue){var C$zui=new $P;return C$zui._type=2,C$zui._constantMin=C$zut,C$zui._constantMax=C$zue,C$zui},$P.createByRandomTwoGradient=function(C$zut,C$zue){var C$zui=new $P;return C$zui._type=3,C$zui._gradientMin=C$zut,C$zui._gradientMax=C$zue,C$zui},$P}(),C$zuH=(function(){function $m(){this._alphaCurrentLength=0,this._rgbCurrentLength=0,this._alphaElements=null,this._rgbElements=null,this._alphaElements=new Float32Array(8),this._rgbElements=new Float32Array(16)}C$zur($m,"laya.d3.core.particleShuriKen.module.GradientDataColor");var C$zut=$m.prototype;C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.addAlpha=function(C$zut,C$zue){this._alphaCurrentLength<8&&(6===this._alphaCurrentLength&&1!==C$zut&&(C$zut=1),this._alphaElements[this._alphaCurrentLength++]=C$zut,this._alphaElements[this._alphaCurrentLength++]=C$zue)},C$zut.addRGB=function(C$zut,C$zue){this._rgbCurrentLength<16&&(12===this._rgbCurrentLength&&1!==C$zut&&(C$zut=1),this._rgbElements[this._rgbCurrentLength++]=C$zut,this._rgbElements[this._rgbCurrentLength++]=C$zue.x,this._rgbElements[this._rgbCurrentLength++]=C$zue.y,this._rgbElements[this._rgbCurrentLength++]=C$zue.z)},C$zut.cloneTo=function(C$zut){var C$zue=0,C$zui=0;C$zut._alphaCurrentLength=this._alphaCurrentLength;var C$zun=C$zut._alphaElements;for(C$zun.length=this._alphaElements.length,C$zue=0,C$zui=this._alphaElements.length;C$zue<C$zui;C$zue++)C$zun[C$zue]=this._alphaElements[C$zue];C$zut._rgbCurrentLength=this._rgbCurrentLength;var C$zur=C$zut._rgbElements;for(C$zur.length=this._rgbElements.length,C$zue=0,C$zui=this._rgbElements.length;C$zue<C$zui;C$zue++)C$zur[C$zue]=this._rgbElements[C$zue]},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zuo(0,C$zut,"alphaGradientCount",function(){return this._alphaCurrentLength/2}),C$zuo(0,C$zut,"rgbGradientCount",function(){return this._rgbCurrentLength/4})}(),function(){function $m(){this._currentLength=0,this._elements=null,this._elements=new Float32Array(8)}C$zur($m,"laya.d3.core.particleShuriKen.module.GradientDataInt");var C$zut=$m.prototype;C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.add=function(C$zut,C$zue){this._currentLength<8?(6===this._currentLength&&1!==C$zut&&(C$zut=1,console.log("Warning:the forth key is  be force set to 1.")),this._elements[this._currentLength++]=C$zut,this._elements[this._currentLength++]=C$zue):console.log("Warning:data count must lessEqual than 4")},C$zut.cloneTo=function(C$zut){C$zut._currentLength=this._currentLength;var C$zue=C$zut._elements;C$zue.length=this._elements.length;for(var C$zui=0,C$zun=this._elements.length;C$zui<C$zun;C$zui++)C$zue[C$zui]=this._elements[C$zui]},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zuo(0,C$zut,"gradientCount",function(){return this._currentLength/2})}(),function(){function $m(){this._currentLength=0,this._elements=null,this._elements=new Float32Array(8)}C$zur($m,"laya.d3.core.particleShuriKen.module.GradientDataNumber");var C$zut=$m.prototype;C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.add=function(C$zut,C$zue){this._currentLength<8&&(6===this._currentLength&&1!==C$zut&&(C$zut=1),this._elements[this._currentLength++]=C$zut,this._elements[this._currentLength++]=C$zue)},C$zut.getKeyByIndex=function(C$zut){return this._elements[2*C$zut]},C$zut.getValueByIndex=function(C$zut){return this._elements[2*C$zut+1]},C$zut.getAverageValue=function(){for(var C$zut=0,C$zue=this._currentLength-2;C$zut<C$zue;C$zut+=2)this._elements[C$zut+1],this._elements[C$zut+3],this._elements[C$zut+2],this._elements[C$zut];return 0},C$zut.cloneTo=function(C$zut){C$zut._currentLength=this._currentLength;var C$zue=C$zut._elements;C$zue.length=this._elements.length;for(var C$zui=0,C$zun=this._elements.length;C$zui<C$zun;C$zui++)C$zue[C$zui]=this._elements[C$zui]},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zuo(0,C$zut,"gradientCount",function(){return this._currentLength/2})}(),function(){function $m(){this._currentLength=0,this._elements=null,this._elements=new Float32Array(12)}C$zur($m,"laya.d3.core.particleShuriKen.module.GradientDataVector2");var C$zut=$m.prototype;C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.add=function(C$zut,C$zue){this._currentLength<8&&(6===this._currentLength&&1!==C$zut&&(C$zut=1),this._elements[this._currentLength++]=C$zut,this._elements[this._currentLength++]=C$zue.x,this._elements[this._currentLength++]=C$zue.y)},C$zut.cloneTo=function(C$zut){C$zut._currentLength=this._currentLength;var C$zue=C$zut._elements;C$zue.length=this._elements.length;for(var C$zui=0,C$zun=this._elements.length;C$zui<C$zun;C$zui++)C$zue[C$zui]=this._elements[C$zui]},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zuo(0,C$zut,"gradientCount",function(){return this._currentLength/3})}(),C$zur($Y,"laya.d3.core.particleShuriKen.module.GradientSize"),C$zuz=$Y.prototype,C$zuy.imps(C$zuz,{"laya.d3.core.IClone":!0}),C$zuz.getMaxSizeInGradient=function(){var C$zut=0,C$zue=0,C$zui=-Number.MAX_VALUE;switch(this._type){case 0:if(this._separateAxes){for(C$zut=0,C$zue=this._gradientX.gradientCount;C$zut<C$zue;C$zut++)C$zui=Math.max(C$zui,this._gradientX.getValueByIndex(C$zut));for(C$zut=0,C$zue=this._gradientY.gradientCount;C$zut<C$zue;C$zut++)C$zui=Math.max(C$zui,this._gradientY.getValueByIndex(C$zut))}else for(C$zut=0,C$zue=this._gradient.gradientCount;C$zut<C$zue;C$zut++)C$zui=Math.max(C$zui,this._gradient.getValueByIndex(C$zut));break;case 1:C$zui=this._separateAxes?(C$zui=Math.max(this._constantMinSeparate.x,this._constantMaxSeparate.x),C$zui=Math.max(C$zui,this._constantMinSeparate.y),Math.max(C$zui,this._constantMaxSeparate.y)):Math.max(this._constantMin,this._constantMax);break;case 2:if(this._separateAxes){for(C$zut=0,C$zue=this._gradientXMin.gradientCount;C$zut<C$zue;C$zut++)C$zui=Math.max(C$zui,this._gradientXMin.getValueByIndex(C$zut));for(C$zut=0,C$zue=this._gradientXMax.gradientCount;C$zut<C$zue;C$zut++)C$zui=Math.max(C$zui,this._gradientXMax.getValueByIndex(C$zut));for(C$zut=0,C$zue=this._gradientYMin.gradientCount;C$zut<C$zue;C$zut++)C$zui=Math.max(C$zui,this._gradientYMin.getValueByIndex(C$zut));for(C$zut=0,C$zue=this._gradientZMax.gradientCount;C$zut<C$zue;C$zut++)C$zui=Math.max(C$zui,this._gradientZMax.getValueByIndex(C$zut))}else{for(C$zut=0,C$zue=this._gradientMin.gradientCount;C$zut<C$zue;C$zut++)C$zui=Math.max(C$zui,this._gradientMin.getValueByIndex(C$zut));for(C$zut=0,C$zue=this._gradientMax.gradientCount;C$zut<C$zue;C$zut++)C$zui=Math.max(C$zui,this._gradientMax.getValueByIndex(C$zut))}}return C$zui},C$zuz.cloneTo=function(C$zut){C$zut._type=this._type,C$zut._separateAxes=this._separateAxes,this._gradient.cloneTo(C$zut._gradient),this._gradientX.cloneTo(C$zut._gradientX),this._gradientY.cloneTo(C$zut._gradientY),this._gradientZ.cloneTo(C$zut._gradientZ),C$zut._constantMin=this._constantMin,C$zut._constantMax=this._constantMax,this._constantMinSeparate.cloneTo(C$zut._constantMinSeparate),this._constantMaxSeparate.cloneTo(C$zut._constantMaxSeparate),this._gradientMin.cloneTo(C$zut._gradientMin),this._gradientMax.cloneTo(C$zut._gradientMax),this._gradientXMin.cloneTo(C$zut._gradientXMin),this._gradientXMax.cloneTo(C$zut._gradientXMax),this._gradientYMin.cloneTo(C$zut._gradientYMin),this._gradientYMax.cloneTo(C$zut._gradientYMax),this._gradientZMin.cloneTo(C$zut._gradientZMin),this._gradientZMax.cloneTo(C$zut._gradientZMax)},C$zuz.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zuo(0,C$zuz,"gradientZ",function(){return this._gradientZ}),C$zuo(0,C$zuz,"gradient",function(){return this._gradient}),C$zuo(0,C$zuz,"separateAxes",function(){return this._separateAxes}),C$zuo(0,C$zuz,"type",function(){return this._type}),C$zuo(0,C$zuz,"gradientMin",function(){return this._gradientMin}),C$zuo(0,C$zuz,"constantMin",function(){return this._constantMin}),C$zuo(0,C$zuz,"gradientX",function(){return this._gradientX}),C$zuo(0,C$zuz,"gradientY",function(){return this._gradientY}),C$zuo(0,C$zuz,"gradientMax",function(){return this._gradientMax}),C$zuo(0,C$zuz,"constantMax",function(){return this._constantMax}),C$zuo(0,C$zuz,"constantMinSeparate",function(){return this._constantMinSeparate}),C$zuo(0,C$zuz,"constantMaxSeparate",function(){return this._constantMaxSeparate}),C$zuo(0,C$zuz,"gradientXMin",function(){return this._gradientXMin}),C$zuo(0,C$zuz,"gradientXMax",function(){return this._gradientXMax}),C$zuo(0,C$zuz,"gradientYMin",function(){return this._gradientYMin}),C$zuo(0,C$zuz,"gradientYMax",function(){return this._gradientYMax}),C$zuo(0,C$zuz,"gradientZMin",function(){return this._gradientZMin}),C$zuo(0,C$zuz,"gradientZMax",function(){return this._gradientZMax}),$Y.createByGradient=function(C$zut){var C$zue=new $Y;return C$zue._type=0,C$zue._separateAxes=!1,C$zue._gradient=C$zut,C$zue},$Y.createByGradientSeparate=function(C$zut,C$zue,C$zui){var C$zun=new $Y;return C$zun._type=0,C$zun._separateAxes=!0,C$zun._gradientX=C$zut,C$zun._gradientY=C$zue,C$zun._gradientZ=C$zui,C$zun},$Y.createByRandomTwoConstant=function(C$zut,C$zue){var C$zui=new $Y;return C$zui._type=1,C$zui._separateAxes=!1,C$zui._constantMin=C$zut,C$zui._constantMax=C$zue,C$zui},$Y.createByRandomTwoConstantSeparate=function(C$zut,C$zue){var C$zui=new $Y;return C$zui._type=1,C$zui._separateAxes=!0,C$zui._constantMinSeparate=C$zut,C$zui._constantMaxSeparate=C$zue,C$zui},$Y.createByRandomTwoGradient=function(C$zut,C$zue){var C$zui=new $Y;return C$zui._type=2,C$zui._separateAxes=!1,C$zui._gradientMin=C$zut,C$zui._gradientMax=C$zue,C$zui},$Y.createByRandomTwoGradientSeparate=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){var C$zua=new $Y;return C$zua._type=2,C$zua._separateAxes=!0,C$zua._gradientXMin=C$zut,C$zua._gradientXMax=C$zue,C$zua._gradientYMin=C$zui,C$zua._gradientYMax=C$zun,C$zua._gradientZMin=C$zur,C$zua._gradientZMax=C$zus,C$zua},$Y),C$zuW=function(){function $Y(){this._type=0,this._constant=null,this._gradientX=null,this._gradientY=null,this._gradientZ=null,this._constantMin=null,this._constantMax=null,this._gradientXMin=null,this._gradientXMax=null,this._gradientYMin=null,this._gradientYMax=null,this._gradientZMin=null,this._gradientZMax=null}C$zur($Y,"laya.d3.core.particleShuriKen.module.GradientVelocity");var C$zut=$Y.prototype;return C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.cloneTo=function(C$zut){C$zut._type=this._type,this._constant.cloneTo(C$zut._constant),this._gradientX.cloneTo(C$zut._gradientX),this._gradientY.cloneTo(C$zut._gradientY),this._gradientZ.cloneTo(C$zut._gradientZ),this._constantMin.cloneTo(C$zut._constantMin),this._constantMax.cloneTo(C$zut._constantMax),this._gradientXMin.cloneTo(C$zut._gradientXMin),this._gradientXMax.cloneTo(C$zut._gradientXMax),this._gradientYMin.cloneTo(C$zut._gradientYMin),this._gradientYMax.cloneTo(C$zut._gradientYMax),this._gradientZMin.cloneTo(C$zut._gradientZMin),this._gradientZMax.cloneTo(C$zut._gradientZMax)},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zuo(0,C$zut,"gradientZ",function(){return this._gradientZ}),C$zuo(0,C$zut,"constant",function(){return this._constant}),C$zuo(0,C$zut,"type",function(){return this._type}),C$zuo(0,C$zut,"gradientXMax",function(){return this._gradientXMax}),C$zuo(0,C$zut,"constantMin",function(){return this._constantMin}),C$zuo(0,C$zut,"gradientX",function(){return this._gradientX}),C$zuo(0,C$zut,"gradientY",function(){return this._gradientY}),C$zuo(0,C$zut,"gradientXMin",function(){return this._gradientXMin}),C$zuo(0,C$zut,"constantMax",function(){return this._constantMax}),C$zuo(0,C$zut,"gradientYMin",function(){return this._gradientYMin}),C$zuo(0,C$zut,"gradientYMax",function(){return this._gradientYMax}),C$zuo(0,C$zut,"gradientZMin",function(){return this._gradientZMin}),C$zuo(0,C$zut,"gradientZMax",function(){return this._gradientZMax}),$Y.createByConstant=function(C$zut){var C$zue=new $Y;return C$zue._type=0,C$zue._constant=C$zut,C$zue},$Y.createByGradient=function(C$zut,C$zue,C$zui){var C$zun=new $Y;return C$zun._type=1,C$zun._gradientX=C$zut,C$zun._gradientY=C$zue,C$zun._gradientZ=C$zui,C$zun},$Y.createByRandomTwoConstant=function(C$zut,C$zue){var C$zui=new $Y;return C$zui._type=2,C$zui._constantMin=C$zut,C$zui._constantMax=C$zue,C$zui},$Y.createByRandomTwoGradient=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){var C$zua=new $Y;return C$zua._type=3,C$zua._gradientXMin=C$zut,C$zua._gradientXMax=C$zue,C$zua._gradientYMin=C$zui,C$zua._gradientYMax=C$zun,C$zua._gradientZMin=C$zur,C$zua._gradientZMax=C$zus,C$zua},$Y}(),C$zuz=(function(){function $m(C$zut){this._angularVelocity=null,this.enbale=!1,this._angularVelocity=C$zut}C$zur($m,"laya.d3.core.particleShuriKen.module.RotationOverLifetime");var C$zut=$m.prototype;C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.cloneTo=function(C$zut){this._angularVelocity.cloneTo(C$zut._angularVelocity),C$zut.enbale=this.enbale},C$zut.clone=function(){var C$zut;switch(this._angularVelocity.type){case 0:C$zut=this._angularVelocity.separateAxes?C$zuk.createByConstantSeparate(this._angularVelocity.constantSeparate.clone()):C$zuk.createByConstant(this._angularVelocity.constant);break;case 1:C$zut=this._angularVelocity.separateAxes?C$zuk.createByGradientSeparate(this._angularVelocity.gradientX.clone(),this._angularVelocity.gradientY.clone(),this._angularVelocity.gradientZ.clone(),this._angularVelocity.gradientW.clone()):C$zuk.createByGradient(this._angularVelocity.gradient.clone());break;case 2:C$zut=this._angularVelocity.separateAxes?C$zuk.createByRandomTwoConstantSeparate(this._angularVelocity.constantMinSeparate.clone(),this._angularVelocity.constantMaxSeparate.clone()):C$zuk.createByRandomTwoConstant(this._angularVelocity.constantMin,this._angularVelocity.constantMax);break;case 3:C$zut=this._angularVelocity.separateAxes?C$zuk.createByRandomTwoGradientSeparate(this._angularVelocity.gradientXMin.clone(),this._angularVelocity.gradientYMin.clone(),this._angularVelocity.gradientZMin.clone(),this._angularVelocity.gradientWMin.clone(),this._angularVelocity.gradientXMax.clone(),this._angularVelocity.gradientYMax.clone(),this._angularVelocity.gradientZMax.clone(),this._angularVelocity.gradientWMax.clone()):C$zuk.createByRandomTwoGradient(this._angularVelocity.gradientMin.clone(),this._angularVelocity.gradientMax.clone())}var C$zue=new this.constructor(C$zut);return C$zue.enbale=this.enbale,C$zue},C$zuo(0,C$zut,"angularVelocity",function(){return this._angularVelocity})}(),function(){function $m(){this.enable=!1,this.randomDirection=!1}C$zur($m,"laya.d3.core.particleShuriKen.module.shape.BaseShape");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut._getShapeBoundBox=function(C$zut){throw new Error("BaseShape: must override it.")},C$zut._getSpeedBoundBox=function(C$zut){throw new Error("BaseShape: must override it.")},C$zut.generatePositionAndDirection=function(C$zut,C$zue,C$zui,C$zun){throw new Error("BaseShape: must override it.")},C$zut._calculateProceduralBounds=function(C$zut,C$zue,C$zui){this._getShapeBoundBox(C$zut);var C$zun=C$zut.min,C$zur=C$zut.max;C$zuE.multiply(C$zun,C$zue,C$zun),C$zuE.multiply(C$zur,C$zue,C$zur);C$zun=new C$zujt(new C$zuE,new C$zuE);this.randomDirection?(C$zun.min=new C$zuE(-1,-1,-1),C$zun.max=new C$zuE(1,1,1)):this._getSpeedBoundBox(C$zun);C$zue=new C$zujt(new C$zuE,new C$zuE),C$zur=C$zue.min,C$zue=C$zue.max;C$zuE.scale(C$zun.min,C$zui.y,C$zur),C$zuE.scale(C$zun.max,C$zui.y,C$zue),C$zuE.add(C$zut.min,C$zur,C$zur),C$zuE.add(C$zut.max,C$zue,C$zue),C$zuE.min(C$zut.min,C$zur,C$zut.min),C$zuE.max(C$zut.max,C$zur,C$zut.max);var C$zus=new C$zujt(new C$zuE,new C$zuE),C$zua=C$zus.min,C$zuo=C$zus.max;C$zuE.scale(C$zun.min,C$zui.x,C$zua),C$zuE.scale(C$zun.max,C$zui.x,C$zuo),C$zuE.min(C$zus.min,C$zuo,C$zur),C$zuE.max(C$zus.min,C$zuo,C$zue),C$zuE.min(C$zut.min,C$zur,C$zut.min),C$zuE.max(C$zut.max,C$zur,C$zut.max)},C$zut.cloneTo=function(C$zut){C$zut.enable=this.enable},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},$m}()),C$zuG=(C$zur($q,"laya.d3.core.particleShuriKen.module.shape.ShapeUtils"),$q._randomPointUnitArcCircle=function(C$zut,C$zue,C$zui){C$zue=C$zue.elements;C$zui=C$zui?C$zui.getFloat()*C$zut:Math.random()*C$zut,C$zue[0]=Math.cos(C$zui),C$zue[1]=Math.sin(C$zui)},$q._randomPointInsideUnitArcCircle=function(C$zut,C$zue,C$zui){var C$zun=C$zue.elements;$q._randomPointUnitArcCircle(C$zut,C$zue,C$zui);C$zut=C$zui?Math.pow(C$zui.getFloat(),.5):Math.pow(Math.random(),.5),C$zun[0]=C$zun[0]*C$zut,C$zun[1]=C$zun[1]*C$zut},$q._randomPointUnitCircle=function(C$zut,C$zue){C$zut=C$zut.elements;C$zue=C$zue?C$zue.getFloat()*Math.PI*2:Math.random()*Math.PI*2,C$zut[0]=Math.cos(C$zue),C$zut[1]=Math.sin(C$zue)},$q._randomPointInsideUnitCircle=function(C$zut,C$zue){var C$zui=C$zut.elements;$q._randomPointUnitCircle(C$zut);C$zut=C$zue?Math.pow(C$zue.getFloat(),.5):Math.pow(Math.random(),.5),C$zui[0]=C$zui[0]*C$zut,C$zui[1]=C$zui[1]*C$zut},$q._randomPointUnitSphere=function(C$zut,C$zue){var C$zut=C$zut.elements,C$zui=NaN;C$zue=C$zue?(C$zui=C$zut[2]=2*C$zue.getFloat()-1,C$zue.getFloat()*Math.PI*2):(C$zui=C$zut[2]=2*Math.random()-1,Math.random()*Math.PI*2);C$zui=Math.sqrt(1-C$zui*C$zui);C$zut[0]=C$zui*Math.cos(C$zue),C$zut[1]=C$zui*Math.sin(C$zue)},$q._randomPointInsideUnitSphere=function(C$zut,C$zue){var C$zui=C$zut.elements;$q._randomPointUnitSphere(C$zut);C$zut=C$zue?Math.pow(C$zue.getFloat(),1/3):Math.pow(Math.random(),1/3),C$zui[0]=C$zui[0]*C$zut,C$zui[1]=C$zui[1]*C$zut,C$zui[2]=C$zui[2]*C$zut},$q._randomPointInsideHalfUnitBox=function(C$zut,C$zue){C$zut=C$zut.elements;C$zue?(C$zut[0]=C$zue.getFloat()-.5,C$zut[1]=C$zue.getFloat()-.5,C$zut[2]=C$zue.getFloat()-.5):(C$zut[0]=Math.random()-.5,C$zut[1]=Math.random()-.5,C$zut[2]=Math.random()-.5)},$q),C$zuY=(function(){function $m(C$zut){this._size=null,this.enbale=!1,this._size=C$zut}C$zur($m,"laya.d3.core.particleShuriKen.module.SizeOverLifetime");var C$zut=$m.prototype;C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.cloneTo=function(C$zut){this._size.cloneTo(C$zut._size),C$zut.enbale=this.enbale},C$zut.clone=function(){var C$zut;switch(this._size.type){case 0:C$zut=this._size.separateAxes?C$zuH.createByGradientSeparate(this._size.gradientX.clone(),this._size.gradientY.clone(),this._size.gradientZ.clone()):C$zuH.createByGradient(this._size.gradient.clone());break;case 1:C$zut=this._size.separateAxes?C$zuH.createByRandomTwoConstantSeparate(this._size.constantMinSeparate.clone(),this._size.constantMaxSeparate.clone()):C$zuH.createByRandomTwoConstant(this._size.constantMin,this._size.constantMax);break;case 2:C$zut=this._size.separateAxes?C$zuH.createByRandomTwoGradientSeparate(this._size.gradientXMin.clone(),this._size.gradientYMin.clone(),this._size.gradientZMin.clone(),this._size.gradientXMax.clone(),this._size.gradientYMax.clone(),this._size.gradientZMax.clone()):C$zuH.createByRandomTwoGradient(this._size.gradientMin.clone(),this._size.gradientMax.clone())}var C$zue=new this.constructor(C$zut);return C$zue.enbale=this.enbale,C$zue},C$zuo(0,C$zut,"size",function(){return this._size})}(),function(){function $P(){this._type=0,this._constant=NaN,this._constantMin=NaN,this._constantMax=NaN}C$zur($P,"laya.d3.core.particleShuriKen.module.StartFrame");var C$zut=$P.prototype;return C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.cloneTo=function(C$zut){C$zut._type=this._type,C$zut._constant=this._constant,C$zut._constantMin=this._constantMin,C$zut._constantMax=this._constantMax},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zuo(0,C$zut,"constant",function(){return this._constant}),C$zuo(0,C$zut,"type",function(){return this._type}),C$zuo(0,C$zut,"constantMin",function(){return this._constantMin}),C$zuo(0,C$zut,"constantMax",function(){return this._constantMax}),$P.createByConstant=function(C$zut){var C$zue=new $P;return C$zue._type=0,C$zue._constant=C$zut,C$zue},$P.createByRandomTwoConstant=function(C$zut,C$zue){var C$zui=new $P;return C$zui._type=1,C$zui._constantMin=C$zut,C$zui._constantMax=C$zue,C$zui},$P}()),C$zuX=(function(){function $m(C$zut,C$zue){this._frame=null,this._startFrame=null,this.tiles=null,this.type=0,this.randomRow=!1,this.rowIndex=0,this.cycles=0,this.enableUVChannels=0,this.enable=!1,this.tiles=new C$zuae(1,1),this.type=0,this.randomRow=!0,this.rowIndex=0,this.cycles=1,this.enableUVChannels=1,this._frame=C$zut,this._startFrame=C$zue}C$zur($m,"laya.d3.core.particleShuriKen.module.TextureSheetAnimation");var C$zut=$m.prototype;C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.cloneTo=function(C$zut){this.tiles.cloneTo(C$zut.tiles),C$zut.type=this.type,C$zut.randomRow=this.randomRow,this._frame.cloneTo(C$zut._frame),this._startFrame.cloneTo(C$zut._startFrame),C$zut.cycles=this.cycles,C$zut.enableUVChannels=this.enableUVChannels,C$zut.enable=this.enable},C$zut.clone=function(){var C$zut,C$zue;switch(this._frame.type){case 0:C$zut=C$zuV.createByConstant(this._frame.constant);break;case 1:C$zut=C$zuV.createByOverTime(this._frame.frameOverTimeData.clone());break;case 2:C$zut=C$zuV.createByRandomTwoConstant(this._frame.constantMin,this._frame.constantMax);break;case 3:C$zut=C$zuV.createByRandomTwoOverTime(this._frame.frameOverTimeDataMin.clone(),this._frame.frameOverTimeDataMax.clone())}switch(this._startFrame.type){case 0:C$zue=C$zuY.createByConstant(this._startFrame.constant);break;case 1:C$zue=C$zuY.createByRandomTwoConstant(this._startFrame.constantMin,this._startFrame.constantMax)}var C$zui=new this.constructor(C$zut,C$zue);return this.tiles.cloneTo(C$zui.tiles),C$zui.type=this.type,C$zui.randomRow=this.randomRow,C$zui.cycles=this.cycles,C$zui.enableUVChannels=this.enableUVChannels,C$zui.enable=this.enable,C$zui},C$zuo(0,C$zut,"frame",function(){return this._frame}),C$zuo(0,C$zut,"startFrame",function(){return this._startFrame})}(),function(){function $m(C$zut){this._velocity=null,this.enbale=!1,this.space=0,this._velocity=C$zut}C$zur($m,"laya.d3.core.particleShuriKen.module.VelocityOverLifetime");var C$zut=$m.prototype;C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.cloneTo=function(C$zut){this._velocity.cloneTo(C$zut._velocity),C$zut.enbale=this.enbale,C$zut.space=this.space},C$zut.clone=function(){var C$zut;switch(this._velocity.type){case 0:C$zut=C$zuW.createByConstant(this._velocity.constant.clone());break;case 1:C$zut=C$zuW.createByGradient(this._velocity.gradientX.clone(),this._velocity.gradientY.clone(),this._velocity.gradientZ.clone());break;case 2:C$zut=C$zuW.createByRandomTwoConstant(this._velocity.constantMin.clone(),this._velocity.constantMax.clone());break;case 3:C$zut=C$zuW.createByRandomTwoGradient(this._velocity.gradientXMin.clone(),this._velocity.gradientYMin.clone(),this._velocity.gradientZMin.clone(),this._velocity.gradientXMax.clone(),this._velocity.gradientYMax.clone(),this._velocity.gradientZMax.clone())}var C$zue=new this.constructor(C$zut);return C$zue.enbale=this.enbale,C$zue.space=this.space,C$zue},C$zuo(0,C$zut,"velocity",function(){return this._velocity})}(),function(){function $m(){this._tempInt0=0,this._tempInt1=0,this._tempUint0=0,this._tempUint1=0,this._tempUint2=0,this._tempUint3=0,this._tempUint4=0,this._tempUint5=0,this._tempUint6=0,this._tempUint7=0,this._tempNumver0=NaN,this._tempNumver1=NaN,this._tempNumver2=NaN,this._tempNumver3=NaN,this._floatSizePerVer=7,this._defaultBufferSize=600*this._floatSizePerVer,this._vb=null,this._posInVBData=0,this._ib=null,this._posInIBData=0,this._primitiveType=NaN,this._hasBegun=!1,this._numVertsPerPrimitive=0,this._camera=null,this._sharderNameID=0,this._shader=null,this._shaderCompile=null,this._vbData=new Float32Array(this._defaultBufferSize),this._ibData=new Uint16Array(this._defaultBufferSize),this._spriteShaderValue=new C$zu_e,this._vb=C$zuFe.create($m._vertexDeclaration,this._defaultBufferSize/this._floatSizePerVer,35048),this._ib=C$zuNe.create("ushort",this._defaultBufferSize,35048),this._sharderNameID=C$zuLe.nameKey.getID("LINE"),this._shaderCompile=C$zuTe._preCompileShader[this._sharderNameID]}C$zur($m,"laya.d3.core.PhasorSpriter3D");var C$zut=$m.prototype;return C$zut.line=function(C$zut,C$zue,C$zui,C$zun){return this._hasBegun&&1===this._primitiveType||this.drawLinesException(),(this._posInVBData+2*this._floatSizePerVer>this._vbData.length||this._posInIBData+2>this._ibData.length)&&this.flush(),this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$zut.x,C$zut.y,C$zut.z,C$zue.x,C$zue.y,C$zue.z,C$zue.w),this.addVertex(C$zui.x,C$zui.y,C$zui.z,C$zun.x,C$zun.y,C$zun.z,C$zun.w),this.addIndexes(this._tempUint0,this._tempUint0+1),this},C$zut.circle=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){for(this._hasBegun&&1===this._primitiveType||this.drawLinesException(),this._tempUint0=2*C$zue,(this._posInVBData+this._tempUint0*this._floatSizePerVer>this._vbData.length||this._posInIBData+2*this._tempUint0>this._ibData.length)&&this.flush(),this._tempUint1=this._posInVBData/this._floatSizePerVer,this._tempNumver0=0,this._tempInt0=0;this._tempNumver0<6.2832;this._tempNumver0=this._tempNumver0+3.1416/C$zue,this._tempInt0++)this.addVertex(Math.sin(this._tempNumver0)*C$zut,Math.cos(this._tempNumver0)*C$zut,0,C$zui,C$zun,C$zur,C$zus),0===this._tempInt0?this.addIndexes(this._tempUint1):this._tempInt0===this._tempUint0-1?(this._tempUint2=this._tempUint1+this._tempInt0,this.addIndexes(this._tempUint2,this._tempUint2,this._tempUint1)):(this._tempUint2=this._tempUint1+this._tempInt0,this.addIndexes(this._tempUint2,this._tempUint2));return this},C$zut.plane=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh){return this._hasBegun&&4===this._primitiveType||this.drawTrianglesException(),(this._posInVBData+4*this._floatSizePerVer>this._vbData.length||this._posInIBData+6>this._ibData.length)&&this.flush(),this._tempNumver0=C$zun/2,this._tempNumver1=C$zur/2,this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$zut-this._tempNumver0,C$zue+this._tempNumver1,C$zui,C$zus,C$zua,C$zuo,C$zuh),this.addVertex(C$zut+this._tempNumver0,C$zue+this._tempNumver1,C$zui,C$zus,C$zua,C$zuo,C$zuh),this.addVertex(C$zut-this._tempNumver0,C$zue-this._tempNumver1,C$zui,C$zus,C$zua,C$zuo,C$zuh),this.addVertex(C$zut+this._tempNumver0,C$zue-this._tempNumver1,C$zui,C$zus,C$zua,C$zuo,C$zuh),this._tempUint1=this._tempUint0+1,this._tempUint2=this._tempUint0+2,this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint2,this._tempUint2,this._tempUint1,this._tempUint0+3),this},C$zut.box=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul){return this._hasBegun&&4===this._primitiveType||this.drawTrianglesException(),(this._posInVBData+8*this._floatSizePerVer>this._vbData.length||this._posInIBData+36>this._ibData.length)&&this.flush(),this._tempNumver0=C$zun/2,this._tempNumver1=C$zur/2,this._tempNumver2=C$zus/2,this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$zut-this._tempNumver0,C$zue+this._tempNumver1,C$zui+this._tempNumver2,C$zua,C$zuo,C$zuh,C$zul),this.addVertex(C$zut+this._tempNumver0,C$zue+this._tempNumver1,C$zui+this._tempNumver2,C$zua,C$zuo,C$zuh,C$zul),this.addVertex(C$zut-this._tempNumver0,C$zue-this._tempNumver1,C$zui+this._tempNumver2,C$zua,C$zuo,C$zuh,C$zul),this.addVertex(C$zut+this._tempNumver0,C$zue-this._tempNumver1,C$zui+this._tempNumver2,C$zua,C$zuo,C$zuh,C$zul),this.addVertex(C$zut+this._tempNumver0,C$zue+this._tempNumver1,C$zui-this._tempNumver2,C$zua,C$zuo,C$zuh,C$zul),this.addVertex(C$zut-this._tempNumver0,C$zue+this._tempNumver1,C$zui-this._tempNumver2,C$zua,C$zuo,C$zuh,C$zul),this.addVertex(C$zut+this._tempNumver0,C$zue-this._tempNumver1,C$zui-this._tempNumver2,C$zua,C$zuo,C$zuh,C$zul),this.addVertex(C$zut-this._tempNumver0,C$zue-this._tempNumver1,C$zui-this._tempNumver2,C$zua,C$zuo,C$zuh,C$zul),this._tempUint1=this._tempUint0+1,this._tempUint2=this._tempUint0+2,this._tempUint3=this._tempUint0+3,this._tempUint4=this._tempUint0+4,this._tempUint5=this._tempUint0+5,this._tempUint6=this._tempUint0+6,this._tempUint7=this._tempUint0+7,this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint2,this._tempUint2,this._tempUint1,this._tempUint3,this._tempUint4,this._tempUint5,this._tempUint6,this._tempUint6,this._tempUint5,this._tempUint7,this._tempUint5,this._tempUint0,this._tempUint7,this._tempUint7,this._tempUint0,this._tempUint2,this._tempUint1,this._tempUint4,this._tempUint3,this._tempUint3,this._tempUint4,this._tempUint6,this._tempUint5,this._tempUint4,this._tempUint0,this._tempUint0,this._tempUint4,this._tempUint1,this._tempUint2,this._tempUint3,this._tempUint7,this._tempUint7,this._tempUint3,this._tempUint6),this},C$zut.cone=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){for(this._hasBegun&&4===this._primitiveType||this.drawTrianglesException(),(this._posInVBData+(2*C$zui+2)*this._floatSizePerVer>this._vbData.length||this._posInIBData+6*C$zui>this._ibData.length)&&this.flush(),this._tempUint0=this._posInVBData,this._tempUint1=this._posInVBData/this._floatSizePerVer,this._tempNumver0=2*Math.PI/C$zui,this.addVertexIndex(0,C$zue,0,C$zun,C$zur,C$zus,C$zua,this._tempUint0),this.addVertexIndex(0,0,0,C$zun,C$zur,C$zus,C$zua,this._tempUint0+this._floatSizePerVer),this._tempInt0=2,this._tempNumver1=0,this._tempInt1=0;this._tempInt1<C$zui;this._tempInt1++)this._tempNumver2=Math.cos(this._tempNumver1),this._tempNumver3=Math.sin(this._tempNumver1),this.addVertexIndex(C$zut*this._tempNumver2,0,C$zut*this._tempNumver3,C$zun,C$zur,C$zus,C$zua,this._tempUint0+this._tempInt0*this._floatSizePerVer),this.addIndexes(this._tempUint1,this._tempUint1+this._tempInt0),this._tempInt1==C$zui-1?this.addIndexes(this._tempUint1+2):this.addIndexes(this._tempUint1+this._tempInt0+1),this.addVertexIndex(C$zut*this._tempNumver2,0,C$zut*this._tempNumver3,C$zun,C$zur,C$zus,C$zua,this._tempUint0+(this._tempInt0+C$zui)*this._floatSizePerVer),this.addIndexes(this._tempUint1+1),this._tempInt1==C$zui-1?this.addIndexes(this._tempUint1+C$zui+2):this.addIndexes(this._tempUint1+this._tempInt0+C$zui+1),this.addIndexes(this._tempUint1+this._tempInt0+C$zui),this._tempInt0++,this._tempNumver1+=this._tempNumver0;return this},C$zut.boundingBoxLine=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul){return this._hasBegun&&1===this._primitiveType||this.drawLinesException(),(this._posInVBData+8*this._floatSizePerVer>this._vbData.length||this._posInIBData+48>this._ibData.length)&&this.flush(),this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$zut,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul),this.addVertex(C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul),this.addVertex(C$zut,C$zue,C$zus,C$zua,C$zuo,C$zuh,C$zul),this.addVertex(C$zun,C$zue,C$zus,C$zua,C$zuo,C$zuh,C$zul),this.addVertex(C$zun,C$zur,C$zui,C$zua,C$zuo,C$zuh,C$zul),this.addVertex(C$zut,C$zur,C$zui,C$zua,C$zuo,C$zuh,C$zul),this.addVertex(C$zun,C$zue,C$zui,C$zua,C$zuo,C$zuh,C$zul),this.addVertex(C$zut,C$zue,C$zui,C$zua,C$zuo,C$zuh,C$zul),this._tempUint1=this._tempUint0+1,this._tempUint2=this._tempUint0+2,this._tempUint3=this._tempUint0+3,this._tempUint4=this._tempUint0+4,this._tempUint5=this._tempUint0+5,this._tempUint6=this._tempUint0+6,this._tempUint7=this._tempUint0+7,this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint1,this._tempUint3,this._tempUint3,this._tempUint2,this._tempUint2,this._tempUint0,this._tempUint4,this._tempUint5,this._tempUint5,this._tempUint7,this._tempUint7,this._tempUint6,this._tempUint6,this._tempUint4,this._tempUint5,this._tempUint0,this._tempUint0,this._tempUint2,this._tempUint2,this._tempUint7,this._tempUint7,this._tempUint5,this._tempUint1,this._tempUint4,this._tempUint4,this._tempUint6,this._tempUint6,this._tempUint3,this._tempUint3,this._tempUint1,this._tempUint5,this._tempUint4,this._tempUint4,this._tempUint1,this._tempUint1,this._tempUint0,this._tempUint0,this._tempUint5,this._tempUint2,this._tempUint3,this._tempUint3,this._tempUint6,this._tempUint6,this._tempUint7,this._tempUint7,this._tempUint2),this},C$zut.addVertex=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){return this._hasBegun||this.addVertexIndexException(),this._vbData[this._posInVBData]=C$zut,this._vbData[this._posInVBData+1]=C$zue,this._vbData[this._posInVBData+2]=C$zui,this._vbData[this._posInVBData+3]=C$zun,this._vbData[this._posInVBData+4]=C$zur,this._vbData[this._posInVBData+5]=C$zus,this._vbData[this._posInVBData+6]=C$zua,this._posInVBData+=this._floatSizePerVer,this},C$zut.addVertexIndex=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){return this._hasBegun||this.addVertexIndexException(),this._vbData[C$zuo]=C$zut,this._vbData[C$zuo+1]=C$zue,this._vbData[C$zuo+2]=C$zui,this._vbData[C$zuo+3]=C$zun,this._vbData[C$zuo+4]=C$zur,this._vbData[C$zuo+5]=C$zus,this._vbData[C$zuo+6]=C$zua,(C$zuo+=this._floatSizePerVer)>this._posInVBData&&(this._posInVBData=C$zuo),this},C$zut.addIndexes=function(C$zut){var C$zue=arguments;this._hasBegun||this.addVertexIndexException();for(var C$zui=0;C$zui<C$zue.length;C$zui++)this._ibData[this._posInIBData]=C$zue[C$zui],this._posInIBData++;return this},C$zut.begin=function(C$zut,C$zue){return this._hasBegun&&this.beginException0(),1!==C$zut&&4!==C$zut&&this.beginException1(),this._primitiveType=C$zut,this._camera=C$zue,this._hasBegun=!0,this},C$zut.end=function(){return this._hasBegun||this.endException(),this.flush(),this._hasBegun=!1,this},C$zut.flush=function(){0!==this._posInVBData&&(this._ib.setData(this._ibData),this._vb.setData(this._vbData),this._vb._bind(),this._ib._bind(),this._shader=this._shaderCompile.withCompile(0,0,0),this._shader.bind(),this._shader.uploadAttributes($m._vertexDeclaration.shaderValues.data,null),this._spriteShaderValue.setValue(1,this._camera.projectionViewMatrix.elements),this._shader.uploadSpriteUniforms(this._spriteShaderValue.data),C$zuC.drawCall++,C$zuI.mainContext.drawElements(this._primitiveType,this._posInIBData,5123,0),this._posInIBData=0,this._posInVBData=0)},C$zut.addVertexIndexException=function(){throw new Error("\u8bf7\u5148\u8c03\u7528begin()\u51fd\u6570")},C$zut.beginException0=function(){throw new Error("\u8c03\u7528begin()\u524d\u8bf7\u786e\u4fdd\u5df2\u6210\u529f\u8c03\u7528end()\uff01")},C$zut.beginException1=function(){throw new Error("\u53ea\u652f\u6301\u201cLINES\u201d\u548c\u201cTRIANGLES\u201d\u4e24\u79cd\u57fa\u5143\uff01")},C$zut.endException=function(){throw new Error("\u8c03\u7528end()\u524d\u8bf7\u786e\u4fdd\u5df2\u6210\u529f\u8c03\u7528begin()\uff01")},C$zut.drawLinesException=function(){throw new Error("\u60a8\u5fc5\u987b\u786e\u4fdd\u5728\u6b64\u4e4b\u524d\u5df2\u8c03\u7528begin()\u4e14\u4f7f\u7528\u201cLINES\u201d\u57fa\u5143\uff01")},C$zut.drawTrianglesException=function(){throw new Error("\u60a8\u5fc5\u987b\u786e\u4fdd\u5728\u6b64\u4e4b\u524d\u5df2\u8c03\u7528begin()\u4e14\u4f7f\u7528\u201cTRIANGLES\u201d\u57fa\u5143\uff01")},C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(28,[new C$zue(0,"vector3",0),new C$zue(12,"vector4",1)])}]),$m}()),C$zuK=function(){function $m(){this._id=0,this._type=0,this._mainSortID=0,this._render=null,this._sprite3D=null,this._material=null,this._renderObj=null,this._staticBatch=null,this._tempBatchIndexStart=0,this._tempBatchIndexEnd=0,this._canDynamicBatch=!1,this._shaderValue=null,this._onPreRenderFunction=null,this._id=++$m._uniqueIDCounter,this._canDynamicBatch=!0,this._shaderValue=new C$zu_e}C$zur($m,"laya.d3.core.render.RenderElement");var C$zut=$m.prototype;return C$zut.getDynamicBatchBakedVertexs=function(C$zut){for(var C$zut=this._renderObj._getVertexBuffer(C$zut),C$zue=C$zut.getData().slice(),C$zut=C$zut.vertexDeclaration,C$zui=C$zut.getVertexElementByUsage(0).offset/4,C$zun=C$zut.getVertexElementByUsage(3).offset/4,C$zur=this._sprite3D.transform,C$zus=C$zur.worldMatrix,C$zua=C$zur.rotation,C$zuu=C$zut.vertexStride/4,C$zuo=0,C$zuc=C$zue.length;C$zuo<C$zuc;C$zuo+=C$zuu){var C$zuh=C$zuo+C$zui,C$zul=C$zuo+C$zun;C$zume.transformVector3ArrayToVector3ArrayCoordinate(C$zue,C$zuh,C$zus,C$zue,C$zuh),C$zume.transformVector3ArrayByQuat(C$zue,C$zul,C$zua,C$zue,C$zul)}return C$zue},C$zut.getBakedIndices=function(){return this._renderObj._getIndexBuffer().getData()},C$zut._destroy=function(){this._staticBatch&&this._staticBatch._manager._garbageCollection(this)},C$zuo(0,C$zut,"id",function(){return this._id}),C$zuo(0,C$zut,"renderObj",function(){return this._renderObj},function(C$zut){this._renderObj!==C$zut&&(this._renderObj=C$zut)}),$m._uniqueIDCounter=0,$m}(),C$zuq=(C$zur($p,"laya.d3.core.render.RenderQueue"),(C$zut=$p.prototype)._sortOpaqueFunc=function(C$zut,C$zue){var C$zui;return C$zut._render&&C$zue._render?0==(C$zui=C$zut._material.renderQueue-C$zue._material.renderQueue)?C$zut._render._distanceForSort-C$zue._render._distanceForSort:C$zui:0},C$zut._sortAlphaFunc=function(C$zut,C$zue){var C$zui;return C$zut._render&&C$zue._render?0==(C$zui=C$zut._material.renderQueue-C$zue._material.renderQueue)?C$zue._render._distanceForSort-C$zut._render._distanceForSort:C$zui:0},C$zut._begainRenderElement=function(C$zut,C$zue,C$zui){return!!C$zue._beforeRender(C$zut)},C$zut._sortAlpha=function(C$zut){$p._cameraPosition=C$zut,this._finalElements.sort(this._sortAlphaFunc)},C$zut._sortOpaque=function(C$zut){$p._cameraPosition=C$zut,this._finalElements.sort(this._sortOpaqueFunc)},C$zut._preRender=function(C$zut){this._finalElements=this._renderElements.concat(this._dynamicBatchCombineRenderElements)},C$zut._render=function(C$zut,C$zuu){for(var C$zuc,C$zue,C$zu_,C$zui,C$zud,C$zuf,C$zup=C$zuC.loopCount,C$zun=this._scene,C$zur=C$zut.camera,C$zus=(C$zur.id,!1),C$zum=0,C$zug=this._finalElements.length;C$zum<C$zug;C$zum++){var C$zua,C$zuo,C$zuh,C$zul=this._finalElements[C$zum];if(null!=C$zul._onPreRenderFunction&&C$zul._onPreRenderFunction.call(C$zul._sprite3D,C$zut),0===C$zul._type){if(C$zut.owner=C$zuh=C$zul._sprite3D,C$zut.renderElement=C$zul,C$zuh._preRenderUpdateComponents(C$zut),C$zua=C$zul.renderObj,C$zuo=C$zul._material,this._begainRenderElement(C$zut,C$zua,C$zuo)){if(C$zuc=C$zua._getVertexBuffers(),!(C$zu_=(C$zue=C$zua._getVertexBuffer(0)).vertexDeclaration)){var C$zuv;this._errorRecord[C$zue.id]||(this._errorRecord[C$zue.id]=1,C$zuv="vertexBuffer:("+C$zue._destroyed+","+C$zue._released+","+C$zue._referenceCount+","+C$zue._buffer+"), material:"+(C$zuo?C$zuo.__className+"("+C$zuo._destroyed+","+C$zuo._released+")":"null")+", owner:"+(C$zuh?C$zuh.__className+"("+C$zuh._destroyed+","+C$zuh._activeInHierarchy+","+C$zuh._displayedInStage+")":"null")+", renderObj:"+(C$zua?C$zua.__className+"("+C$zua._destroyed+","+C$zua._released+","+C$zua._referenceCount+")":"")+", parent:, url:"+(C$zuh?C$zuh.url:"")+", disposeStack:"+C$zue.disposeStack,C$zuy.recordError("\u62a5\u9519\uff1aunknown vertexDeclaration  "+C$zuv));continue}if(C$zus=(C$zui=C$zut._shader=C$zuo._getShader(C$zun._shaderDefineValue,C$zu_.shaderDefineValue,C$zuh._shaderDefineValue)).bind()||C$zup!==C$zui._uploadLoopCount,C$zuc){if(C$zui._uploadVertexBuffer!==C$zuc||C$zus){for(var C$zu$=0;C$zu$<C$zuc.length;C$zu$++){var C$zux=C$zuc[C$zu$];C$zui.uploadAttributesX(C$zux.vertexDeclaration.shaderValues.data,C$zux)}C$zui._uploadVertexBuffer=C$zuc}}else C$zui._uploadVertexBuffer===C$zue&&!C$zus||(C$zui.uploadAttributes(C$zu_.shaderValues.data,null),C$zui._uploadVertexBuffer=C$zue);C$zui._uploadScene===C$zun&&!C$zus||(C$zui.uploadSceneUniforms(C$zun._shaderValues.data),C$zui._uploadScene=C$zun),C$zur===C$zui._uploadCamera&&C$zui._uploadSprite3D===C$zuh&&!C$zus||(C$zui.uploadSpriteUniforms(C$zuh._shaderValues.data),C$zui._uploadSprite3D=C$zuh),C$zur===C$zui._uploadCamera&&!C$zus||(C$zui.uploadCameraUniforms(C$zur._shaderValues.data),C$zui._uploadCamera=C$zur),C$zui._uploadMaterial===C$zuo&&!C$zus||(C$zuo._upload(),C$zui._uploadMaterial=C$zuo),C$zud!==C$zuo?(C$zuo._setRenderStateBlendDepth(),C$zuo._setRenderStateFrontFace(C$zuu,C$zuh.transform),C$zud=C$zuo,C$zuf=C$zuh):C$zuf!==C$zuh&&(C$zuo._setRenderStateFrontFace(C$zuu,C$zuh.transform),C$zuf=C$zuh),C$zua._render(C$zut),C$zui._uploadLoopCount=C$zup}C$zuh._postRenderUpdateComponents(C$zut)}else 2===C$zul._type&&(C$zul.renderObj,C$zut.owner=C$zuh=C$zul._sprite3D,C$zut.renderElement=C$zul,C$zut._batchIndexStart=C$zul._tempBatchIndexStart,C$zut._batchIndexEnd=C$zul._tempBatchIndexEnd,C$zua=C$zul.renderObj,C$zuo=C$zul._material,this._begainRenderElement(C$zut,C$zua,C$zuo)&&(C$zu_=(C$zue=C$zua._getVertexBuffer(0)).vertexDeclaration,C$zus=(C$zui=C$zut._shader=C$zuo._getShader(C$zun._shaderDefineValue,C$zu_.shaderDefineValue,C$zuh._shaderDefineValue)).bind()||C$zup!==C$zui._uploadLoopCount,C$zui._uploadVertexBuffer===C$zue&&!C$zus||(C$zui.uploadAttributes(C$zu_.shaderValues.data,null),C$zui._uploadVertexBuffer=C$zue),C$zui._uploadScene===C$zun&&!C$zus||(C$zui.uploadSceneUniforms(C$zun._shaderValues.data),C$zui._uploadScene=C$zun),C$zur===C$zui._uploadCamera&&C$zui._uploadSprite3D===C$zuh&&!C$zus||(C$zui.uploadSpriteUniforms(C$zuh._shaderValues.data),C$zui._uploadSprite3D=C$zuh),C$zur===C$zui._uploadCamera&&!C$zus||(C$zui.uploadCameraUniforms(C$zur._shaderValues.data),C$zui._uploadCamera=C$zur),C$zui._uploadMaterial===C$zuo&&!C$zus||(C$zuo._upload(),C$zui._uploadMaterial=C$zuo),C$zud!==C$zuo?(C$zuo._setRenderStateBlendDepth(),C$zuo._setRenderStateFrontFace(C$zuu,C$zuh.transform),C$zud=C$zuo,C$zuf=C$zuh):C$zuf!==C$zuh&&(C$zuo._setRenderStateFrontFace(C$zuu,C$zuh.transform),C$zuf=C$zuh),C$zua._render(C$zut),C$zui._uploadLoopCount=C$zup))}},C$zut._renderShadow=function(C$zut,C$zuu){for(var C$zue,C$zui,C$zun,C$zuc,C$zur,C$zus,C$zu_=C$zuC.loopCount,C$zud=this._scene,C$zua=C$zut.camera,C$zuf=0,C$zup=this._finalElements.length;C$zuf<C$zup;C$zuf++){var C$zuo,C$zuh,C$zul=this._finalElements[C$zuf];0===C$zul._type&&(C$zut.owner=C$zuh=C$zul._sprite3D,C$zuu||C$zuh._projectionViewWorldUpdateCamera===C$zua&&C$zuh._projectionViewWorldUpdateLoopCount===C$zuC.loopCount||(C$zuh._render._renderUpdate(C$zut._projectionViewMatrix),C$zuh._projectionViewWorldUpdateLoopCount=C$zuC.loopCount,C$zuh._projectionViewWorldUpdateCamera=C$zua),C$zut.renderElement=C$zul,C$zuh._preRenderUpdateComponents(C$zut),C$zuo=C$zul.renderObj,C$zul=C$zul._material,this._begainRenderElement(C$zut,C$zuo,null)&&(C$zui=(C$zue=C$zuo._getVertexBuffer(0)).vertexDeclaration,C$zus=(C$zun=C$zut._shader=C$zul._getShader(C$zud._shaderDefineValue,C$zui.shaderDefineValue,C$zuh._shaderDefineValue)).bind()||C$zu_!==C$zun._uploadLoopCount,C$zun._uploadVertexBuffer===C$zue&&!C$zus||(C$zun.uploadAttributes(C$zui.shaderValues.data,null),C$zun._uploadVertexBuffer=C$zue),C$zua===C$zun._uploadCamera&&C$zun._uploadSprite3D===C$zuh&&!C$zus||(C$zun.uploadSpriteUniforms(C$zuh._shaderValues.data),C$zun._uploadSprite3D=C$zuh),C$zua===C$zun._uploadCamera&&!C$zus||(C$zun.uploadCameraUniforms(C$zua._shaderValues.data),C$zun._uploadCamera=C$zua),C$zun._uploadMaterial===C$zul&&!C$zus||(C$zul._upload(),C$zun._uploadMaterial=C$zul),C$zun._uploadRenderElement,C$zuc!==C$zul?(C$zul._setRenderStateFrontFace(!1,C$zuh.transform),C$zuc=C$zul,C$zur=C$zuh):C$zur!==C$zuh&&(C$zul._setRenderStateFrontFace(!1,C$zuh.transform),C$zur=C$zuh),C$zuo._render(C$zut),C$zun._uploadLoopCount=C$zu_),C$zuh._postRenderUpdateComponents(C$zut))}},C$zut._clearRenderElements=function(){this._dynamicBatchCombineRenderElements.length=0,this._renderElements.length=0,this._needSort=!0},C$zut._addRenderElement=function(C$zut){this._renderElements.push(C$zut),this._needSort=!0},C$zut._addDynamicBatchElement=function(C$zut){this._dynamicBatchCombineRenderElements.push(C$zut)},C$zuo(0,C$zut,"id",function(){return this._id}),$p._uniqueIDCounter=0,$p._cameraPosition=null,$p),C$zuj=function(){function $m(){this._staticBatch=null,this._batchIndexStart=0,this._batchIndexEnd=0,this._viewMatrix=null,this._projectionMatrix=null,this._projectionViewMatrix=null,this._viewport=null,this._shader=null,this.elapsedTime=NaN,this.scene=null,this.owner=null,this.renderElement=null,this.camera=null}return C$zur($m,"laya.d3.core.render.RenderState"),$m.clientWidth=0,$m.clientHeight=0,$m}(),C$zuZ=(C$zur($k,"laya.d3.core.scene.OctreeNode"),C$zut=$k.prototype,C$zuy.imps(C$zut,{"laya.d3.core.scene.ITreeNode":!0}),C$zut.init=function(C$zut,C$zue){var C$zui=new C$zuE,C$zun=new C$zuE;C$zuE.scale(C$zue,-.5,C$zui),C$zuE.scale(C$zue,.5,C$zun),C$zuE.add(C$zui,C$zut,C$zui),C$zuE.add(C$zun,C$zut,C$zun),this.exactBox=new C$zujt(C$zui,C$zun),this.relaxBox=new C$zujt(C$zui,C$zun)},C$zut.addTreeNode=function(C$zut){1===Collision.boxContainsBox(this._relaxBox,C$zut.boundingBox)?this.addNodeDown(C$zut,0):this.addObject(C$zut)},C$zut.addChild=function(C$zut){var C$zue=this._children[C$zut];var C$zui;return null==C$zue&&(C$zue=new $k(this._scene,this._currentDepth+1),(this._children[C$zut]=C$zue)._parent=this,C$zuE.subtract(this._exactBox.max,this._exactBox.min,$k.tempSize),C$zuE.multiply($k.tempSize,$k._octreeSplit[C$zut],$k.tempCenter),C$zuE.add(this._exactBox.min,$k.tempCenter,$k.tempCenter),C$zuE.scale($k.tempSize,.25,$k.tempSize),C$zut=new C$zuE,C$zui=new C$zuE,C$zuE.subtract($k.tempCenter,$k.tempSize,C$zut),C$zuE.add($k.tempCenter,$k.tempSize,C$zui),C$zue.exactBox=new C$zujt(C$zut,C$zui),C$zuE.scale($k.tempSize,$k.relax,$k.tempSize),C$zut=new C$zuE,C$zui=new C$zuE,C$zuE.subtract($k.tempCenter,$k.tempSize,C$zut),C$zuE.add($k.tempCenter,$k.tempSize,C$zui),C$zue.relaxBox=new C$zujt(C$zut,C$zui)),C$zue},C$zut.addObject=function(C$zut){(C$zut._treeNode=this)._objects.push(C$zut)},C$zut.removeObject=function(C$zut){if(C$zut._treeNode!=this)return console.log("OctreeNode::removeObject error"),!1;C$zut=this._objects.indexOf(C$zut);return-1!==C$zut&&(this._objects.splice(C$zut,1),!0)},C$zut.clearObject=function(){this._objects.length=0},C$zut.addNodeUp=function(C$zut,C$zue){this._parent&&1!==Collision.boxContainsBox(this._exactBox,C$zut.boundingBox)?this._parent.addNodeUp(C$zut,C$zue-1):this.addNodeDown(C$zut,C$zue)},C$zut.addNodeDown=function(C$zut,C$zue){var C$zui;C$zue<this._scene.treeLevel?(C$zui=this.inChildIndex(C$zut.boundingBoxCenter),C$zui=this.addChild(C$zui),1===Collision.boxContainsBox(C$zui._relaxBox,C$zut.boundingBox)?C$zui.addNodeDown(C$zut,++C$zue):this.addObject(C$zut)):this.addObject(C$zut)},C$zut.inChildIndex=function(C$zut){return 4*(C$zut.z<this._boundingBoxCenter.z?0:1)+2*(C$zut.y<this._boundingBoxCenter.y?0:1)+(C$zut.x<this._boundingBoxCenter.x?0:1)},C$zut.updateObject=function(C$zut){1===Collision.boxContainsBox(this._relaxBox,C$zut.boundingBox)?(this.removeObject(C$zut),C$zut._treeNode=null,this.addNodeDown(C$zut,this._currentDepth)):this._parent&&(this.removeObject(C$zut),C$zut._treeNode=null,this._parent.addNodeUp(C$zut,this._currentDepth-1))},C$zut.cullingObjects=function(C$zut,C$zue,C$zuu,C$zui,C$zun){var C$zuc,C$zu_,C$zur=0,C$zus=0,C$zud=this._scene._dynamicBatchManager;for(C$zur=0,C$zuc=this._objects.length;C$zur<C$zuc;C$zur++){var C$zua=this._objects[C$zur];if(C$zuO.isVisible(C$zua._owner.layer.mask)&&C$zua.enable&&(!C$zue||(C$zuC.treeSpriteCollision+=1,0!==C$zut.containsBoundSphere(C$zua.boundingSphere)))){C$zua._renderUpdate(C$zun),C$zua._distanceForSort=C$zuE.distance(C$zua.boundingSphere.center,C$zui)+C$zua.sortingFudge;var C$zuf=C$zua._renderElements;for(C$zus=0,C$zu_=C$zuf.length;C$zus<C$zu_;C$zus++){var C$zuo=C$zuf[C$zus],C$zuh=C$zuo._staticBatch;C$zuh&&C$zuh._material===C$zuo._material?C$zuh._addBatchRenderElement(C$zuo):(C$zuh=C$zuo.renderObj).triangleCount<10&&1===C$zuh._vertexBufferCount&&C$zuh._getIndexBuffer()&&C$zuo._material.renderQueue<2&&C$zuo._canDynamicBatch&&!C$zua._owner.isStatic?C$zud._addPrepareRenderElement(C$zuo):this._scene.getRenderQueue(C$zuo._material.renderQueue)._addRenderElement(C$zuo)}}}for(C$zur=0;C$zur<8;C$zur++){var C$zul=this._children[C$zur];if(null!=C$zul){var C$zup=C$zue;if(C$zue){var C$zum=C$zut.containsBoundBox(C$zul._relaxBox);if(C$zuC.treeNodeCollision+=1,0===C$zum)continue;C$zup=2===C$zum}C$zul.cullingObjects(C$zut,C$zup,C$zuu,C$zui,C$zun)}}},C$zut.cullingShadowObjects=function(C$zut,C$zue,C$zui,C$zuu,C$zuc){var C$zun,C$zur,C$zus=0,C$zua=0;for(this._scene._dynamicBatchManager,C$zus=0,C$zun=this._objects.length;C$zus<C$zun;C$zus++){var C$zuo=this._objects[C$zus];if(C$zuo.castShadow&&C$zuO.isVisible(C$zuo._owner.layer.mask)&&C$zuo.enable&&(!C$zui||0!==C$zut[0].containsBoundSphere(C$zuo.boundingSphere)))for(var C$zuh=1,C$zu_=C$zut.length;C$zuh<C$zu_;C$zuh++){var C$zud=C$zue[C$zuh-1];if(0!==C$zut[C$zuh].containsBoundSphere(C$zuo.boundingSphere)){var C$zuf=C$zuo._renderElements;for(C$zua=0,C$zur=C$zuf.length;C$zua<C$zur;C$zua++)C$zud._addRenderElement(C$zuf[C$zua])}}}for(C$zus=0;C$zus<8;C$zus++){var C$zul=this._children[C$zus];if(null!=C$zul){var C$zup=C$zui;if(C$zui){var C$zum=C$zut[0].containsBoundBox(C$zul._relaxBox);if(0===C$zum)continue;C$zup=2===C$zum}C$zul.cullingShadowObjects(C$zut,C$zue,C$zup,C$zuu,C$zuc)}}},C$zut.cullingShadowObjectsOnePSSM=function(C$zut,C$zue,C$zui,C$zun,C$zuu,C$zuc){var C$zur,C$zus,C$zu_=C$zue[0],C$zua=0,C$zuo=0;for(C$zua=0,C$zur=this._objects.length;C$zua<C$zur;C$zua++){var C$zuh=this._objects[C$zua];if(C$zuh.castShadow&&C$zuO.isVisible(C$zuh._owner.layer.mask)&&C$zuh.enable&&(!C$zun||0!==C$zut.containsBoundSphere(C$zuh.boundingSphere))){C$zuh._renderUpdate(C$zui);var C$zud=C$zuh._renderElements;for(C$zuo=0,C$zus=C$zud.length;C$zuo<C$zus;C$zuo++)C$zu_._addRenderElement(C$zud[C$zuo])}}for(C$zua=0;C$zua<8;C$zua++){var C$zul=this._children[C$zua];if(null!=C$zul){var C$zuf=C$zun;if(C$zun){var C$zup=C$zut.containsBoundBox(C$zul._relaxBox);if(0===C$zup)continue;C$zuf=2===C$zup}C$zul.cullingShadowObjectsOnePSSM(C$zut,C$zue,C$zui,C$zuf,C$zuu,C$zuc)}}},C$zut.renderBoudingBox=function(C$zut){this._renderBoudingBox(C$zut);for(var C$zue=0;C$zue<8;++C$zue){var C$zui=this._children[C$zue];C$zui&&C$zui.renderBoudingBox(C$zut)}},C$zut.buildAllChild=function(C$zut){if(C$zut<this._scene.treeLevel)for(var C$zue=0;C$zue<8;C$zue++)this.addChild(C$zue).buildAllChild(C$zut+1)},C$zut._renderBoudingBox=function(C$zut){},C$zuo(0,C$zut,"exactBox",function(){return this._exactBox},function(C$zut){this._exactBox=C$zut,C$zuE.add(C$zut.min,C$zut.max,this._boundingBoxCenter),C$zuE.scale(this._boundingBoxCenter,.5,this._boundingBoxCenter)}),C$zuo(0,C$zut,"relaxBox",function(){return this._relaxBox},function(C$zut){(this._relaxBox=C$zut).getCorners(this._corners),C$zuQt.createfromPoints(this._corners,this._boundingSphere)}),$k.debugMode=!1,$k.relax=1.15,$k.CHILDNUM=8,C$zus($k,["tempVector0",function(){return this.tempVector0=new C$zuE},"tempSize",function(){return this.tempSize=new C$zuE},"tempCenter",function(){return this.tempCenter=new C$zuE},"_octreeSplit",function(){return this._octreeSplit=[new C$zuE(.25,.25,.25),new C$zuE(.75,.25,.25),new C$zuE(.25,.75,.25),new C$zuE(.75,.75,.25),new C$zuE(.25,.25,.75),new C$zuE(.75,.25,.75),new C$zuE(.25,.75,.75),new C$zuE(.75,.75,.75)]}]),$k),C$zuQ=(C$zur(function(){},"laya.d3.core.scene.SceneManager"),function(){function $m(C$zut,C$zue,C$zui,C$zun){this._r=NaN,this._g=NaN,this._b=NaN,this._a=NaN,void 0===C$zue&&(C$zue=1),void 0===C$zui&&(C$zui=1),void 0===C$zun&&(C$zun=1),this._r=C$zut=void 0===C$zut?1:C$zut,this._g=C$zue,this._b=C$zui,this._a=C$zun}return C$zur($m,"laya.d3.core.trail.module.Color",null,"Color$1"),$m.prototype.cloneTo=function(C$zut){C$zut._r=this._r,C$zut._g=this._g,C$zut._b=this._b,C$zut._a=this._a},C$zus($m,["RED",function(){return this.RED=new $m(1,0,0,1)},"GREEN",function(){return this.GREEN=new $m(0,1,0,1)},"BLUE",function(){return this.BLUE=new $m(0,0,1,1)},"CYAN",function(){return this.CYAN=new $m(0,1,1,1)},"YELLOW",function(){return this.YELLOW=new $m(1,.92,.016,1)},"MAGENTA",function(){return this.MAGENTA=new $m(1,0,1,1)},"GRAY",function(){return this.GRAY=new $m(.5,.5,.5,1)},"WHITE",function(){return this.WHITE=new $m(1,1,1,1)},"BLACK",function(){return this.BLACK=new $m(0,0,0,1)}]),$m}()),C$zuJ=(function(){function $m(){this._mode=0,this._colorKeys=null,this._alphaKeys=null,this.index=0,this._colorKeyData=new Float32Array(40),this._alphaKeyData=new Float32Array(20),this._colorKeys=[],this._alphaKeys=[]}C$zur($m,"laya.d3.core.trail.module.Gradient");var C$zut=$m.prototype;C$zut.setKeys=function(C$zut,C$zue){var C$zui,C$zun;this._colorKeys=C$zut;for(var C$zur=this.index=0;C$zur<C$zut.length;C$zur++){var C$zus=(C$zui=C$zut[C$zur]).color;this._colorKeyData[this.index++]=C$zus._r,this._colorKeyData[this.index++]=C$zus._g,this._colorKeyData[this.index++]=C$zus._b,this._colorKeyData[this.index++]=C$zui.time}this._alphaKeys=C$zue;for(var C$zua=this.index=0;C$zua<C$zue.length;C$zua++)C$zun=C$zue[C$zua],this._alphaKeyData[this.index++]=C$zun.alpha,this._alphaKeyData[this.index++]=C$zun.time},C$zut.cloneTo=function(C$zut){var C$zue=0,C$zui=0,C$zun=this.colorKeys,C$zur=[];for(C$zue=0,C$zui=C$zun.length;C$zue<C$zui;C$zue++){var C$zus=new C$zutt;C$zun[C$zue].cloneTo(C$zus),C$zur.push(C$zus)}var C$zua=this.alphaKeys,C$zuo=[];for(C$zue=0,C$zui=C$zua.length;C$zue<C$zui;C$zue++){var C$zuh=new C$zuJ;C$zua[C$zue].cloneTo(C$zuh),C$zuo.push(C$zuh)}C$zut.setKeys(C$zur,C$zuo)},C$zuo(0,C$zut,"mode",function(){return this._mode},function(C$zut){this._mode=C$zut}),C$zuo(0,C$zut,"colorKeys",function(){return this._colorKeys},function(C$zut){this._colorKeys=C$zut;for(var C$zue=this.index=0;C$zue<C$zut.length;C$zue++){var C$zui=C$zut[C$zue],C$zun=C$zui.color;this._colorKeyData[this.index++]=C$zun._r,this._colorKeyData[this.index++]=C$zun._g,this._colorKeyData[this.index++]=C$zun._b,this._colorKeyData[this.index++]=C$zui.time}}),C$zuo(0,C$zut,"alphaKeys",function(){return this._alphaKeys},function(C$zut){this._alphaKeys=C$zut;for(var C$zue=this.index=0;C$zue<C$zut.length;C$zue++){var C$zui=C$zut[C$zue];this._alphaKeyData[this.index++]=C$zui.alpha,this._alphaKeyData[this.index++]=C$zui.time}})}(),function(){function $m(C$zut,C$zue){this._alpha=NaN,this._time=NaN,void 0===C$zue&&(C$zue=0),this._alpha=C$zut=void 0===C$zut?0:C$zut,this._time=C$zue}C$zur($m,"laya.d3.core.trail.module.GradientAlphaKey");var C$zut=$m.prototype;return C$zut.cloneTo=function(C$zut){C$zut.alpha=this.alpha,C$zut.time=this.time},C$zuo(0,C$zut,"alpha",function(){return this._alpha},function(C$zut){this._alpha=C$zut}),C$zuo(0,C$zut,"time",function(){return this._time},function(C$zut){this._time=C$zut}),$m}()),C$zutt=function(){function $m(C$zut,C$zue){this._color=null,this._time=NaN,void 0===C$zue&&(C$zue=0),this._color=C$zut||new C$zuQ,this._time=C$zue}C$zur($m,"laya.d3.core.trail.module.GradientColorKey");var C$zut=$m.prototype;return C$zut.cloneTo=function(C$zut){this.color.cloneTo(C$zut.color),C$zut.time=this.time},C$zuo(0,C$zut,"color",function(){return this._color},function(C$zut){this._color=C$zut}),C$zuo(0,C$zut,"time",function(){return this._time},function(C$zut){this._time=C$zut}),$m}(),C$zuet=(function(){function $m(){}C$zur($m,"laya.d3.core.trail.module.GradientMode"),$m.Blend=0,$m.Fixed=1}(),function(){function $m(){}C$zur($m,"laya.d3.core.trail.module.TextureMode"),$m.Stretch=0,$m.Tile=1}(),function(){function $m(){this.time=NaN,this.inTangent=NaN,this.outTangent=NaN,this.value=NaN}C$zur($m,"laya.d3.core.trail.module.TrailKeyFrame"),$m.prototype.cloneTo=function(C$zut){C$zut.time=this.time,C$zut.inTangent=this.inTangent,C$zut.outTangent=this.outTangent,C$zut.value=this.value}}(),function(){function $p(C$zut){this._id=0,this._owner=null,this._camera=null,this._vertexBuffers=null,this._verticesCount=0,this._virtualVerticesCount=0,this._maxVerticesCount=256,this._vertices1=null,this._vertexBuffer1=null,this._floatCountPerVertices1=8,this._verticesIndex1=0,this._everyAddVerticeCount1=0,this._delLength=0,this._vertices2=null,this._vertexBuffer2=null,this._floatCountPerVertices2=1,this._everyGroupVertexBirthTime=null,this._VerticesToTailLength=null,this._everyVertexToPreVertexDistance=null,this._pointe=null,this._pointAtoBVector3e=null,this._isStart=!1,this._isFinish=!1,this._isDead=!1,this._curtime=NaN,this._curDisappearIndex=0,this._lastPosition=new C$zuE,this._curPosition=new C$zuE,this._delVector3=new C$zuE,this._lastFixedVertexPosition=new C$zuE,this._pointAtoBVector3=new C$zuE,this._pointA=new C$zuE,this._pointB=new C$zuE,this._owner=C$zut,this._id=$p.renderElementCount++,(0==this._id?C$zut._owner.transform.position:C$zut._curSubTrailFinishPosition).cloneTo(this._lastPosition),this._everyGroupVertexBirthTime=[],this._VerticesToTailLength=new Float32Array(this._maxVerticesCount),this._everyVertexToPreVertexDistance=new Float32Array(this._maxVerticesCount),this._vertices1=new Float32Array(this._maxVerticesCount*this._floatCountPerVertices1),this._vertices2=new Float32Array(this._maxVerticesCount*this._floatCountPerVertices2),this._vertexBuffer1=new C$zuFe(C$zuet.vertexDeclaration1,this._maxVerticesCount,35044,!0),this._vertexBuffer2=new C$zuFe(C$zuet.vertexDeclaration2,this._maxVerticesCount,35044,!0),this._vertexBuffers=[],this._vertexBuffers.push(this._vertexBuffer1),this._vertexBuffers.push(this._vertexBuffer2)}C$zur($p,"laya.d3.core.trail.TrailRenderElement");var C$zut=$p.prototype;C$zuy.imps(C$zut,{"laya.d3.core.render.IRenderable":!0}),C$zut._updateTrail=function(){this._everyAddVerticeCount1=0,this._isStart||this._addTrailByFirstPosition(this._lastPosition,this._curPosition),this._addTrailByNextPosition(this._curPosition),this._vertexBuffer1.setData(this._vertices1,this._verticesIndex1,this._verticesIndex1,this._everyAddVerticeCount1),this._verticesIndex1+=this._everyAddVerticeCount1,this._curPosition.cloneTo(this._lastPosition),2==this._virtualVerticesCount&&(this._verticesIndex1-=2*this._floatCountPerVertices1)},C$zut._addTrailByFirstPosition=function(C$zut,C$zue){C$zuE.subtract(C$zue,C$zut,this._delVector3),C$zuE.cross(this._delVector3,this._camera.forward,this._pointAtoBVector3),C$zuE.normalize(this._pointAtoBVector3,this._pointAtoBVector3),C$zuE.scale(this._pointAtoBVector3,this._owner.widthMultiplier/2,this._pointAtoBVector3),this._updateVerticesByPosition(C$zut),C$zut.cloneTo(this._lastFixedVertexPosition),this._verticesCount+=2,this._curtime=this._owner._hasLifeSubTrail?this._owner._curSubTrailFinishCurTime:this._owner._curtime,this._everyGroupVertexBirthTime.push(this._curtime),this._isStart=!0,this._owner._hasLifeSubTrail=!0},C$zut._addTrailByNextPosition=function(C$zut){C$zuE.subtract(C$zut,this._lastFixedVertexPosition,this._delVector3),C$zuE.cross(this._delVector3,this._camera.forward,this._pointAtoBVector3),C$zuE.normalize(this._pointAtoBVector3,this._pointAtoBVector3),C$zuE.scale(this._pointAtoBVector3,this._owner.widthMultiplier/2,this._pointAtoBVector3),this._delLength=C$zuE.scalarLength(this._delVector3),this._delLength-this._owner.minVertexDistance>=C$zuJt.zeroTolerance?(this._owner._trailTotalLength+=this._delLength,this._owner._trailSupplementLength=0,this._updateVerticesByPosition(C$zut),C$zut.cloneTo(this._lastFixedVertexPosition),this._verticesCount+=2,this._virtualVerticesCount=0,this._everyGroupVertexBirthTime.push(this._owner._curtime),this._verticesCount==this._maxVerticesCount&&this._onTrailRenderElementFinish()):(this._owner._trailSupplementLength=this._delLength,this._updateVerticesByPosition(C$zut),this._virtualVerticesCount=2)},C$zut._updateVerticesByPosition=function(C$zut){this._pointe=C$zut.elements,this._pointAtoBVector3e=this._pointAtoBVector3.elements,this._curtime=this._owner._curtime,this._owner._hasLifeSubTrail&&0==this._isStart&&(this._pointe=this._owner._curSubTrailFinishPosition.elements,this._pointAtoBVector3e=this._owner._curSubTrailFinishDirection.elements,this._curtime=this._owner._curSubTrailFinishCurTime),this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._curtime,this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=1,this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._curtime,this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=0,this._VerticesToTailLength[this._verticesCount/2]=this._owner._trailTotalLength+this._owner._trailSupplementLength,0==this._owner._trailSupplementLength?this._everyVertexToPreVertexDistance[this._verticesCount/2]=this._delLength:this._everyVertexToPreVertexDistance[this._verticesCount/2]=this._isStart?this._owner._trailSupplementLength:0},C$zut._updateVertexBuffer2=function(){var C$zut,C$zue,C$zui=0,C$zun=0;for(C$zun=0,C$zut=(this._verticesCount+this._virtualVerticesCount)/2;C$zun<C$zut;C$zun++)C$zue=0==this._owner.textureMode?(this._VerticesToTailLength[C$zun]-this._owner._trailDeadLength)/(this._owner._trailTotalLength+this._owner._trailSupplementLength-this._owner._trailDeadLength):this._owner._trailTotalLength+this._owner._trailSupplementLength-this._VerticesToTailLength[C$zun],this._vertices2[C$zui++]=1-C$zue,this._vertices2[C$zui++]=1-C$zue;this._vertexBuffer2.setData(this._vertices2,0,0,this._verticesCount+this._virtualVerticesCount)},C$zut._onTrailRenderElementFinish=function(){this._lastFixedVertexPosition.cloneTo(this._owner._curSubTrailFinishPosition),this._pointAtoBVector3.cloneTo(this._owner._curSubTrailFinishDirection),this._owner._curSubTrailFinishCurTime=this._owner._curtime,this._isFinish=!0},C$zut._updateDisappear=function(){var C$zut,C$zue=0;for(C$zue=this._curDisappearIndex,C$zut=(this._verticesCount+this._virtualVerticesCount)/2;C$zue<C$zut;C$zue++)this._owner._curtime-this._everyGroupVertexBirthTime[C$zue]>=this._owner.time+C$zuJt.zeroTolerance&&(this._curDisappearIndex++,this._owner._trailDeadLength+=this._everyVertexToPreVertexDistance[this._curDisappearIndex],this._curDisappearIndex>=(this._verticesCount+this._virtualVerticesCount)/2&&(this._isDead=!0))},C$zut._beforeRender=function(C$zut){return this._camera=C$zut.camera,null!=this._camera&&(this._owner._owner.transform.position.cloneTo(this._curPosition),!this._isDead&&(this._verticesCount<this._maxVerticesCount?(this._owner._isStart||(this._owner._owner.transform.position.cloneTo(this._lastPosition),this._owner._isStart=!0),C$zuE.equals(this._lastPosition,this._curPosition)||this._updateTrail()):this._isFinish&&(this._isFinish=!1,this._owner._curSubTrailFinished=!0),0<this._verticesCount)&&(this._updateVertexBuffer2(),this._updateDisappear(),!0))},C$zut._render=function(C$zut){this._isDead||(C$zuI.mainContext.drawArrays(5,2*this._curDisappearIndex,this._verticesCount+this._virtualVerticesCount-2*this._curDisappearIndex),console.log(2*this._curDisappearIndex,this._verticesCount+this._virtualVerticesCount-2*this._curDisappearIndex),C$zuC.drawCall++,C$zuC.trianglesFaces+=this._verticesCount+this._virtualVerticesCount-2*this._curDisappearIndex-2)},C$zut._getVertexBuffer=function(C$zut){return 0===(C$zut=void 0===C$zut?0:C$zut)?this._vertexBuffer1:1===C$zut?this._vertexBuffer2:null},C$zut._getVertexBuffers=function(){return this._vertexBuffers},C$zut._getIndexBuffer=function(){return null},C$zut.reActivate=function(){this._id=laya.d3.core.trail.TrailRenderElement.renderElementCount++,this._isStart=!1,this._isFinish=!1,this._isDead=!1,this._verticesCount=0,this._virtualVerticesCount=0,this._verticesIndex1=0,this._delLength=0,this._curDisappearIndex=0,this._everyGroupVertexBirthTime=[],this._owner._curSubTrailFinishPosition.cloneTo(this._lastPosition)},C$zut._destroy=function(){this._vertexBuffer1.dispose(),this._vertexBuffer2.dispose(),this._vertices1=null,this._vertexBuffer1=null,this._vertices2=null,this._vertexBuffer2=null,this._vertexBuffers=null,this._everyGroupVertexBirthTime=null,this._VerticesToTailLength=null,this._everyVertexToPreVertexDistance=null,this._lastPosition=null,this._curPosition=null,this._delVector3=null,this._lastFixedVertexPosition=null,this._pointAtoBVector3=null,this._pointe=null,this._pointAtoBVector3e=null,this._pointA=null,this._pointB=null},C$zuo(0,C$zut,"_vertexBufferCount",function(){return this._vertexBuffers.length}),C$zuo(0,C$zut,"triangleCount",function(){return 0}),$p.renderElementCount=0}(),function(){function $m(){}C$zur($m,"laya.d3.core.trail.VertexTrail");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration1}),C$zuo(1,$m,"vertexDeclaration1",function(){return $m._vertexDeclaration1}),C$zuo(1,$m,"vertexDeclaration2",function(){return $m._vertexDeclaration2}),C$zus($m,["_vertexDeclaration1",function(){return this._vertexDeclaration1=new C$zuot(32,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",41),new C$zue(24,"single",33),new C$zue(28,"single",40)])},"_vertexDeclaration2",function(){return this._vertexDeclaration2=new C$zuot(4,[new C$zue(0,"single",38)])}]),$m}()),C$zuit=(C$zur($Z,"laya.d3.graphics.DynamicBatch"),C$zut=$Z.prototype,C$zuy.imps(C$zut,{"laya.d3.core.render.IRenderable":!0}),C$zut._getVertexBuffer=function(C$zut){return 0===(C$zut=void 0===C$zut?0:C$zut)?this._vertexBuffer:null},C$zut._getIndexBuffer=function(){return this._indexBuffer},C$zut._getCombineRenderElementFromPool=function(C$zut,C$zue,C$zui){var C$zun=this._combineRenderElementPool[this._combineRenderElementPoolIndex++];return C$zun||(this._combineRenderElementPool[this._combineRenderElementPoolIndex-1]=C$zun=new C$zuK,C$zun._sprite3D=new C$zuYe),C$zun._sprite3D._render._renderUpdate(C$zui),C$zun},C$zut._getRenderElement=function(C$zuu,C$zuc,C$zu_){this._vertexDatas||(this._vertexDatas=new Float32Array(this._vertexDeclaration.vertexStride/4*$Z.maxVertexCount),this._indexDatas=new Uint16Array($Z.maxIndexCount),this._vertexBuffer=C$zuFe.create(this._vertexDeclaration,$Z.maxVertexCount,35048),this._indexBuffer=C$zuNe.create("ushort",$Z.maxIndexCount,35048));for(var C$zut=this._merageElements.length=0,C$zue=0,C$zui=0,C$zun=this._combineRenderElements.length;C$zui<C$zun;C$zui++){var C$zur=this._combineRenderElements[C$zui],C$zud=C$zur.getDynamicBatchBakedVertexs(0),C$zus=C$zur.getBakedIndices(),C$zuf=C$zur._sprite3D.transform._isFrontFaceInvert,C$zua=C$zut/(this._vertexDeclaration.vertexStride/4),C$zuo=C$zue,C$zup=C$zuo+C$zus.length;C$zur._tempBatchIndexStart=C$zuo,C$zur._tempBatchIndexEnd=C$zup,this._indexDatas.set(C$zus,C$zue);var C$zuh=0;if(C$zuf)for(C$zuh=C$zuo;C$zuh<C$zup;C$zuh+=3){this._indexDatas[C$zuh]=C$zua+this._indexDatas[C$zuh];var C$zum=this._indexDatas[C$zuh+1],C$zug=this._indexDatas[C$zuh+2];this._indexDatas[C$zuh+1]=C$zua+C$zug,this._indexDatas[C$zuh+2]=C$zua+C$zum}else for(C$zuh=C$zuo;C$zuh<C$zup;C$zuh+=3)this._indexDatas[C$zuh]=C$zua+this._indexDatas[C$zuh],this._indexDatas[C$zuh+1]=C$zua+this._indexDatas[C$zuh+1],this._indexDatas[C$zuh+2]=C$zua+this._indexDatas[C$zuh+2];C$zue+=C$zus.length,this._vertexDatas.set(C$zud,C$zut),C$zut+=C$zud.length}for(this._vertexBuffer.setData(this._vertexDatas),this._indexBuffer.setData(this._indexDatas),C$zui=this._combineRenderElementPoolIndex=0,C$zun=this._materials.length;C$zui<C$zun;C$zui++){var C$zul=this._getCombineRenderElementFromPool(C$zuu,C$zuc,C$zu_);C$zul._type=2,C$zul._staticBatch=null;var C$zuv=(C$zul.renderObj=this)._combineRenderElements[this._materialToRenderElementsOffsets[C$zui]]._tempBatchIndexStart,C$zu$=C$zui+1===this._materialToRenderElementsOffsets.length?C$zue:this._combineRenderElements[this._materialToRenderElementsOffsets[C$zui+1]]._tempBatchIndexStart;C$zul._tempBatchIndexStart=C$zuv,C$zul._tempBatchIndexEnd=C$zu$,C$zul._material=this._materials[C$zui],this._merageElements.push(C$zul)}},C$zut._addCombineRenderObjTest=function(C$zut){var C$zut=C$zut.renderObj,C$zue=this._currentCombineIndexCount+C$zut._getIndexBuffer().indexCount,C$zut=this._currentCombineVertexCount+C$zut._getVertexBuffer().vertexCount;return!($Z.maxVertexCount<C$zut||$Z.maxIndexCount<C$zue)},C$zut._addCombineRenderObj=function(C$zut){var C$zue=C$zut.renderObj;this._combineRenderElements.push(C$zut),this._currentCombineIndexCount=this._currentCombineIndexCount+C$zue._getIndexBuffer().indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount+C$zue._getVertexBuffer().vertexCount},C$zut._addCombineMaterial=function(C$zut){this._materials.push(C$zut)},C$zut._addMaterialToRenderElementOffset=function(C$zut){this._materialToRenderElementsOffsets.push(C$zut)},C$zut._clearRenderElements=function(){this._combineRenderElements.length=0,this._materials.length=0,this._materialToRenderElementsOffsets.length=0,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0},C$zut._addToRenderQueue=function(C$zut,C$zue,C$zui,C$zun){this._getRenderElement(C$zue,C$zui,C$zun);for(var C$zur=0,C$zus=this._materials.length;C$zur<C$zus;C$zur++)C$zut.getRenderQueue(this._materials[C$zur].renderQueue)._addDynamicBatchElement(this._merageElements[C$zur])},C$zut._beforeRender=function(C$zut){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},C$zut._render=function(C$zut){var C$zue=C$zut._batchIndexEnd-C$zut._batchIndexStart;C$zuI.mainContext.drawElements(4,C$zue,5123,2*C$zut._batchIndexStart),C$zuC.drawCall++,C$zuC.trianglesFaces+=C$zue/3},C$zut._getVertexBuffers=function(){return null},C$zuo(0,C$zut,"_vertexBufferCount",function(){return 1}),C$zuo(0,C$zut,"triangleCount",function(){return this._indexBuffer.indexCount/3}),C$zuo(0,C$zut,"combineRenderElementsCount",function(){return this._combineRenderElements.length}),$Z.maxVertexCount=2e4,$Z.maxIndexCount=4e4,$Z.maxCombineTriangleCount=10,$Z),C$zunt=function(){function $Z(){this._dynamicBatches=null,this._prepareDynamicBatchCombineElements=null,this._dynamicBatches={},this._prepareDynamicBatchCombineElements=[]}C$zur($Z,"laya.d3.graphics.DynamicBatchManager");var C$zut=$Z.prototype;return C$zut.getDynamicBatch=function(C$zut,C$zue){var C$zui,C$zue=C$zut.id.toString()+C$zue;return this._dynamicBatches[C$zue]?C$zui=this._dynamicBatches[C$zue]:this._dynamicBatches[C$zue]=C$zui=new C$zuit(C$zut),C$zui},C$zut._garbageCollection=function(){for(var C$zut in this._dynamicBatches)0===this._dynamicBatches[C$zut].combineRenderElementsCount&&delete this._dynamicBatches[C$zut]},C$zut._addPrepareRenderElement=function(C$zut){this._prepareDynamicBatchCombineElements.push(C$zut)},C$zut._finishCombineDynamicBatch=function(C$zuu){var C$zut,C$zuc;this._prepareDynamicBatchCombineElements.sort($Z._sortPrepareDynamicBatch);for(var C$zue,C$zui,C$zun,C$zur,C$zus,C$zu_=-1,C$zud=!0,C$zua=0,C$zuo=-1,C$zuf=0,C$zup=this._prepareDynamicBatchCombineElements.length;C$zuf<C$zup;C$zuf++){var C$zuh=(C$zui=this._prepareDynamicBatchCombineElements[C$zuf]).renderObj._getVertexBuffer(0).vertexDeclaration,C$zul=C$zuc!==C$zuh;C$zul&&(C$zua=0,C$zuc=C$zuh);var C$zum=C$zua!==C$zu_;C$zum&&(C$zu_=C$zua),(C$zul||C$zum)&&(C$zun=this.getDynamicBatch(C$zuh,C$zua),C$zut=null),C$zud?C$zud=C$zun._addCombineRenderObjTest(C$zui)?(C$zut!==(C$zue=C$zui._material)?(C$zur&&(C$zuu.getRenderQueue(C$zus._material.renderQueue)._addRenderElement(C$zus),C$zus=C$zur=null,C$zuo=-1),C$zur=C$zue,C$zuo=C$zun.combineRenderElementsCount,C$zus=C$zui,C$zut=C$zue):C$zur?(C$zul=C$zus.renderObj,C$zum=C$zui.renderObj,C$zul._getVertexBuffer().vertexCount+C$zum._getVertexBuffer().vertexCount>C$zuit.maxVertexCount||C$zul._getIndexBuffer().indexCount+C$zum._getIndexBuffer().indexCount>C$zuit.maxIndexCount?(C$zuu.getRenderQueue(C$zus._material.renderQueue)._addRenderElement(C$zus),C$zur=C$zue,C$zuo=C$zun.combineRenderElementsCount,C$zus=C$zui):(C$zun._addCombineMaterial(C$zur),C$zun._addMaterialToRenderElementOffset(C$zuo),C$zun._addCombineRenderObj(C$zus),C$zus=C$zur=null,C$zuo=-1,C$zun._addCombineRenderObj(C$zui))):C$zun._addCombineRenderObj(C$zui),!0):(C$zur&&(C$zuu.getRenderQueue(C$zus._material.renderQueue)._addRenderElement(C$zus),C$zus=C$zur=null,C$zuo=-1),C$zua++,!1):(C$zuh=this._prepareDynamicBatchCombineElements[C$zuf-1],C$zun._addMaterialToRenderElementOffset(C$zun.combineRenderElementsCount),C$zut=C$zuh._material,C$zun._addCombineMaterial(C$zut),C$zun._addCombineRenderObj(C$zuh),C$zud=!0,C$zut!==(C$zue=C$zui._material)?(C$zur=C$zue,C$zuo=C$zun.combineRenderElementsCount,C$zus=C$zui):C$zun._addCombineRenderObj(C$zui),C$zut=C$zue)}C$zur&&(C$zuu.getRenderQueue(C$zus._material.renderQueue)._addRenderElement(C$zus),C$zus=C$zur=null,C$zuo=-1),this._prepareDynamicBatchCombineElements.length=0},C$zut._clearRenderElements=function(){for(var C$zut in this._dynamicBatches)this._dynamicBatches[C$zut]._clearRenderElements()},C$zut._addToRenderQueue=function(C$zut,C$zue,C$zui,C$zun){for(var C$zur in this._dynamicBatches){C$zur=this._dynamicBatches[C$zur];0<C$zur.combineRenderElementsCount&&C$zur._addToRenderQueue(C$zut,C$zue,C$zui,C$zun)}},C$zut.dispose=function(){this._dynamicBatches=null},$Z._sortPrepareDynamicBatch=function(C$zut,C$zue){return C$zut._mainSortID-C$zue._mainSortID},$Z}(),C$zurt=function(){function $m(){}return C$zur($m,"laya.d3.graphics.FrustumCulling"),$m.renderShadowObjectCulling=function(C$zut,C$zuu,C$zue,C$zuc,C$zu_){var C$zui=0,C$zun=0,C$zur=0,C$zus=0;for(C$zui=0,C$zur=C$zue.length;C$zui<C$zur;C$zui++){var C$zud=C$zue[C$zui];C$zud&&C$zud._clearRenderElements()}var C$zua,C$zuo,C$zuh,C$zuf=C$zut._cullingRenders;if(1<C$zu_){for(C$zui=0,C$zur=C$zut._cullingRendersLength;C$zui<C$zur;C$zui++)if((C$zua=C$zuf[C$zui]).castShadow&&C$zuO.isVisible(C$zua._owner.layer.mask)&&C$zua.enable)for(var C$zul=1,C$zup=C$zuu.length;C$zul<C$zup;C$zul++)if(C$zuo=C$zue[C$zul-1],0!==C$zuu[C$zul].containsBoundSphere(C$zua.boundingSphere))for(C$zun=0,C$zus=(C$zuh=C$zua._renderElements).length;C$zun<C$zus;C$zun++)C$zuo._addRenderElement(C$zuh[C$zun])}else for(C$zui=0,C$zur=C$zut._cullingRendersLength;C$zui<C$zur;C$zui++)if((C$zua=C$zuf[C$zui]).castShadow&&C$zuO.isVisible(C$zua._owner.layer.mask)&&C$zua.enable&&0!==C$zuu[0].containsBoundSphere(C$zua.boundingSphere))for(C$zua._renderUpdate(C$zuc),C$zuo=C$zue[0],C$zun=0,C$zus=(C$zuh=C$zua._renderElements).length;C$zun<C$zus;C$zun++)C$zuo._addRenderElement(C$zuh[C$zun])},$m.renderShadowObjectCullingOctree=function(C$zut,C$zue,C$zui,C$zun,C$zur){for(var C$zus=0,C$zua=C$zui.length;C$zus<C$zua;C$zus++){var C$zuo=C$zui[C$zus];C$zuo&&C$zuo._clearRenderElements()}1<C$zur?C$zut.treeRoot.cullingShadowObjects(C$zue,C$zui,!0,0,C$zut):C$zut.treeRoot.cullingShadowObjectsOnePSSM(C$zue[0],C$zui,C$zun,!0,0,C$zut)},$m.renderObjectCulling=function(C$zuu,C$zut,C$zuc,C$zu_,C$zud,C$zue){var C$zuf,C$zui=0,C$zun=0,C$zur=0,C$zup=C$zut._quenes,C$zus=C$zut._dynamicBatchManager,C$zum=C$zut._cullingRenders;for(C$zui=0,C$zun=C$zup.length;C$zui<C$zun;C$zui++){var C$zug=C$zup[C$zui];C$zug&&C$zug._clearRenderElements()}var C$zua=C$zust._staticBatchManagers;for(C$zui=0,C$zun=C$zua.length;C$zui<C$zun;C$zui++)C$zua[C$zui]._clearRenderElements();C$zus._clearRenderElements();var C$zuv=C$zuc.transform.position;for(C$zui=0,C$zun=C$zut._cullingRendersLength;C$zui<C$zun;C$zui++){var C$zuo=C$zum[C$zui];if(C$zuO.isVisible(C$zuo._owner.layer.mask)&&C$zuo.enable&&0!==C$zuu.containsBoundSphere(C$zuo.boundingSphere)&&C$zuo._renderUpdate(C$zue)){C$zuo._distanceForSort=C$zuE.distance(C$zuo.boundingSphere.center,C$zuv)+C$zuo.sortingFudge;var C$zu$=C$zuo._renderElements;for(C$zur=0,C$zuf=C$zu$.length;C$zur<C$zuf;C$zur++){var C$zuh=C$zu$[C$zur],C$zul=C$zuh._staticBatch;C$zul&&C$zul._material===C$zuh._material?C$zul._addBatchRenderElement(C$zuh):(C$zul=C$zuh.renderObj).triangleCount<10&&1===C$zul._vertexBufferCount&&C$zul._getIndexBuffer()&&C$zuh._material.renderQueue<2&&C$zuh._canDynamicBatch&&!C$zuo._owner.isStatic?C$zus._addPrepareRenderElement(C$zuh):C$zut.getRenderQueue(C$zuh._material.renderQueue)._addRenderElement(C$zuh)}}}for(C$zui=0,C$zun=C$zua.length;C$zui<C$zun;C$zui++)C$zua[C$zui]._addToRenderQueue(C$zut,C$zu_,C$zud,C$zue);C$zus._finishCombineDynamicBatch(C$zut),C$zus._addToRenderQueue(C$zut,C$zu_,C$zud,C$zue)},$m.renderObjectCullingOctree=function(C$zuu,C$zut,C$zuc,C$zue,C$zui,C$zun){var C$zur=0,C$zus=0,C$zua=C$zut._quenes,C$zuo=C$zut._dynamicBatchManager;for(C$zur=0,C$zus=C$zua.length;C$zur<C$zus;C$zur++){var C$zuh=C$zua[C$zur];C$zuh&&C$zuh._clearRenderElements()}var C$zul=C$zust._staticBatchManagers;for(C$zur=0,C$zus=C$zul.length;C$zur<C$zus;C$zur++)C$zul[C$zur]._clearRenderElements();for(C$zuo._clearRenderElements(),C$zut._cullingRenders.length=0,C$zut.treeRoot.cullingObjects(C$zuu,!0,0,C$zuc.transform.position,C$zun),C$zur=0,C$zus=C$zul.length;C$zur<C$zus;C$zur++)C$zul[C$zur]._addToRenderQueue(C$zut,C$zue,C$zui,C$zun);C$zuo._finishCombineDynamicBatch(C$zut),C$zuo._addToRenderQueue(C$zut,C$zue,C$zui,C$zun)},$m.renderObjectCullingNoBoundFrustum=function(C$zut,C$zuu,C$zuc,C$zu_,C$zue){var C$zud,C$zui=0,C$zun=0,C$zur=0,C$zuf=C$zut._quenes,C$zus=C$zut._dynamicBatchManager,C$zup=C$zut._cullingRenders;for(C$zui=0,C$zun=C$zuf.length;C$zui<C$zun;C$zui++){var C$zum=C$zuf[C$zui];C$zum&&C$zum._clearRenderElements()}var C$zua=C$zust._staticBatchManagers;for(C$zui=0,C$zun=C$zua.length;C$zui<C$zun;C$zui++)C$zua[C$zui]._clearRenderElements();C$zus._clearRenderElements();var C$zug=C$zuu.transform.position;for(C$zui=0,C$zun=C$zut._cullingRendersLength;C$zui<C$zun;C$zui++){var C$zuo=C$zup[C$zui];if(C$zuO.isVisible(C$zuo._owner.layer.mask)&&C$zuo.enable){C$zuo._renderUpdate(C$zue),C$zuo._distanceForSort=C$zuE.distance(C$zuo.boundingSphere.center,C$zug)+C$zuo.sortingFudge;var C$zuv=C$zuo._renderElements;for(C$zur=0,C$zud=C$zuv.length;C$zur<C$zud;C$zur++){var C$zuh=C$zuv[C$zur],C$zul=C$zuh._staticBatch;C$zul&&C$zul._material===C$zuh._material?C$zul._addBatchRenderElement(C$zuh):(C$zul=C$zuh.renderObj).triangleCount<10&&1===C$zul._vertexBufferCount&&C$zul._getIndexBuffer()&&C$zuh._material.renderQueue<2&&C$zuh._canDynamicBatch&&!C$zuo._owner.isStatic?C$zus._addPrepareRenderElement(C$zuh):C$zut.getRenderQueue(C$zuh._material.renderQueue)._addRenderElement(C$zuh)}}}for(C$zui=0,C$zun=C$zua.length;C$zui<C$zun;C$zui++)C$zua[C$zui]._addToRenderQueue(C$zut,C$zuc,C$zu_,C$zue);C$zus._finishCombineDynamicBatch(C$zut),C$zus._addToRenderQueue(C$zut,C$zuc,C$zu_,C$zue)},$m}(),C$zust=function(){function $q(){this._initBatchRenderElements=null,this._staticBatches=null,this._initBatchRenderElements=[],this._staticBatches={}}C$zur($q,"laya.d3.graphics.StaticBatchManager");var C$zut=$q.prototype;return C$zut._finishInit=function(){for(var C$zut in this._staticBatches)this._staticBatches[C$zut]._finishInit();this._initBatchRenderElements.length=0},C$zut._initStaticBatchs=function(C$zut){throw new Error("StaticBatchManager:must override this function.")},C$zut._addInitBatchSprite=function(C$zut){for(var C$zue=C$zut._render._renderElements,C$zui=0,C$zun=C$zue.length;C$zui<C$zun;C$zui++)this._initBatchRenderElements.push(C$zue[C$zui])},C$zut._clearRenderElements=function(){for(var C$zut in this._staticBatches)this._staticBatches[C$zut]._clearRenderElements()},C$zut._garbageCollection=function(C$zut){var C$zue=C$zut._staticBatch,C$zui=C$zue._initBatchRenderElements,C$zut=C$zui.indexOf(C$zut);C$zui.splice(C$zut,1),0===C$zui.length&&(C$zue.dispose(),delete this._staticBatches[C$zue._key])},C$zut._addToRenderQueue=function(C$zut,C$zue,C$zui,C$zun){for(var C$zur in this._staticBatches){C$zur=this._staticBatches[C$zur];0<C$zur._batchRenderElements.length&&C$zur._updateToRenderQueue(C$zut,C$zun)}},C$zut.dispose=function(){this._staticBatches=null},$q._addToStaticBatchQueue=function(C$zut){C$zut instanceof laya.d3.core.RenderableSprite3D&&C$zut._addToInitStaticBatchManager();for(var C$zue=0,C$zui=C$zut.numChildren;C$zue<C$zui;C$zue++)$q._addToStaticBatchQueue(C$zut._childs[C$zue])},$q.combine=function(C$zut,C$zue){var C$zui,C$zun=0,C$zur=0;if(C$zue)for(C$zun=0,C$zur=C$zue.length;C$zun<C$zur;C$zun++)C$zue[C$zun]._addToInitStaticBatchManager();else C$zut&&$q._addToStaticBatchQueue(C$zut);for(C$zun=0,C$zur=$q._staticBatchManagers.length;C$zun<C$zur;C$zun++)(C$zui=$q._staticBatchManagers[C$zun])._initStaticBatchs(C$zut),C$zui._finishInit()},$q._staticBatchManagers=[],$q}(),C$zuat=function(){function $m(C$zut,C$zue,C$zui){this._combineRenderElementPoolIndex=0,this._combineRenderElementPool=null,this._initBatchRenderElements=null,this._batchRenderElements=null,this._material=null,this._rootOwner=null,this._key=null,this._manager=null,this._key=C$zut,this._manager=C$zue,this._combineRenderElementPoolIndex=0,this._combineRenderElementPool=[],this._initBatchRenderElements=[],this._batchRenderElements=[],this._rootOwner=C$zui}C$zur($m,"laya.d3.graphics.StaticBatch");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.core.render.IRenderable":!0,"laya.resource.IDispose":!0}),C$zut._binarySearch=function(C$zut){for(var C$zue,C$zui=0,C$zun=this._batchRenderElements.length-1;C$zui<=C$zun;)C$zue=Math.floor((C$zui+C$zun)/2),this._compareBatchRenderElement(this._batchRenderElements[C$zue],C$zut)?C$zun=C$zue-1:C$zui=C$zue+1;return C$zui},C$zut._compareBatchRenderElement=function(C$zut,C$zue){throw new Error("StaticBatch:must override this function.")},C$zut._getVertexDecLightMap=function(C$zut){return C$zut===C$zuOt.vertexDeclaration?C$zuRt.vertexDeclaration:C$zut===C$zuFt.vertexDeclaration?C$zuIt.vertexDeclaration:C$zut===C$zuSt.vertexDeclaration?C$zuyt.vertexDeclaration:C$zut===C$zuHt.vertexDeclaration?null:C$zut===C$zumt.vertexDeclaration?C$zugt.vertexDeclaration:C$zut===C$zukt.vertexDeclaration?C$zuBt.vertexDeclaration:C$zut===C$zuPt.vertexDeclaration?C$zuAt.vertexDeclaration:C$zut===C$zuVt.vertexDeclaration?C$zuLt.vertexDeclaration:C$zut===C$zuFt.vertexDeclaration?C$zuIt.vertexDeclaration:C$zut===C$zuCt.vertexDeclaration?C$zubt.vertexDeclaration:C$zut===C$zuHt.vertexDeclaration?null:C$zut===C$zumt.vertexDeclaration?C$zugt.vertexDeclaration:C$zut===C$zuUt.vertexDeclaration?C$zuNt.vertexDeclaration:C$zut===C$zuPt.vertexDeclaration?C$zuAt.vertexDeclaration:C$zut},C$zut._getCombineRenderElementFromPool=function(){throw new Error("StaticBatch:must override this function.")},C$zut._addBatchRenderElement=function(C$zut){this._batchRenderElements.splice(this._binarySearch(C$zut),0,C$zut)},C$zut._updateToRenderQueue=function(C$zut,C$zue){this._combineRenderElementPoolIndex=0,this._getRenderElement(C$zut.getRenderQueue(this._material.renderQueue)._renderElements,C$zut,C$zue)},C$zut._getRenderElement=function(C$zut,C$zue,C$zui){throw new Error("StaticBatch:must override this function.")},C$zut._finishInit=function(){throw new Error("StaticBatch:must override this function.")},C$zut._clearRenderElements=function(){this._batchRenderElements.length=0},C$zut.dispose=function(){},C$zut._getVertexBuffer=function(C$zut){return null},C$zut._getIndexBuffer=function(){return null},C$zut._beforeRender=function(C$zut){return!0},C$zut._render=function(C$zut){},C$zut._getVertexBuffers=function(){return null},C$zuo(0,C$zut,"_vertexBufferCount",function(){return 1}),C$zuo(0,C$zut,"triangleCount",function(){return 0}),$m.combine=function(C$zut){console.log("StaticBatch: discard property,please use StaticBatchManager.combine() function instead."),C$zust.combine(C$zut)},$m.maxBatchVertexCount=65535,$m}(),C$zuot=function(){function $k(C$zut,C$zue){if(this._id=0,this._shaderValues=null,this._shaderDefineValue=0,this._vertexStride=0,this._vertexElements=null,this._vertexElementsDic=null,this._id=++$k._uniqueIDCounter,this._id>$k.maxVertexDeclaration)throw new Error("VertexDeclaration: VertexDeclaration count should not large than ",$k.maxVertexDeclaration);this._shaderValues=new C$zu_e,this._vertexElementsDic={},this._vertexStride=C$zut,this._vertexElements=C$zue;for(var C$zui=0;C$zui<C$zue.length;C$zui++){var C$zun=C$zue[C$zui],C$zur=C$zun.elementUsage;this._vertexElementsDic[C$zur]=C$zun;C$zun=[$k._getTypeSize(C$zun.elementFormat)/4,5126,!1,this._vertexStride,C$zun.offset];switch(this._shaderValues.setValue(C$zur,C$zun),C$zur){case 1:this._addShaderDefine(C$zuTe.SHADERDEFINE_COLOR);break;case 2:this._addShaderDefine(C$zuTe.SHADERDEFINE_UV0);break;case 15:this._addShaderDefine(C$zuTe.SHADERDEFINE_UV1)}}}C$zur($k,"laya.d3.graphics.VertexDeclaration");var C$zut=$k.prototype;return C$zut._addShaderDefine=function(C$zut){this._shaderDefineValue|=C$zut},C$zut._removeShaderDefine=function(C$zut){this._shaderDefineValue&=~C$zut},C$zut.getVertexElements=function(){return this._vertexElements.slice()},C$zut.getVertexElementByUsage=function(C$zut){return this._vertexElementsDic[C$zut]},C$zut.unBinding=function(){},C$zuo(0,C$zut,"shaderDefineValue",function(){return this._shaderDefineValue}),C$zuo(0,C$zut,"id",function(){return this._id}),C$zuo(0,C$zut,"vertexStride",function(){return this._vertexStride}),C$zuo(0,C$zut,"shaderValues",function(){return this._shaderValues}),$k._getTypeSize=function(C$zut){switch(C$zut){case"single":return 4;case"vector2":return 8;case"vector3":return 12;case"vector4":return 16;case"color":case"byte4":case"short2":return 4;case"short4":return 8;case"normalizedshort2":return 4;case"normalizedshort4":return 8;case"halfvector2":return 4;case"halfvector4":return 8}return 0},$k.getVertexStride=function(C$zut){for(var C$zue=0,C$zui=0;C$zui<C$zut.Length;C$zui++){var C$zun=C$zut[C$zui],C$zun=C$zun.offset+$k._getTypeSize(C$zun.elementFormat);C$zue<C$zun&&(C$zue=C$zun)}return C$zue},$k._maxVertexDeclarationBit=1e3,$k._uniqueIDCounter=1,C$zus($k,["maxVertexDeclaration",function(){return this.maxVertexDeclaration=2147483647-1e3*Math.floor(2147483.647)}]),$k}(),C$zue=function(){function $m(C$zut,C$zue,C$zui){this.offset=0,this.elementFormat=null,this.elementUsage=0,this.offset=C$zut,this.elementFormat=C$zue,this.elementUsage=C$zui}return C$zur($m,"laya.d3.graphics.VertexElement"),$m}(),C$zuht=(function(){function $m(){}C$zur($m,"laya.d3.graphics.VertexElementFormat"),$m.Single="single",$m.Vector2="vector2",$m.Vector3="vector3",$m.Vector4="vector4",$m.Color="color",$m.Byte4="byte4",$m.Short2="short2",$m.Short4="short4",$m.NormalizedShort2="normalizedshort2",$m.NormalizedShort4="normalizedshort4",$m.HalfVector2="halfvector2",$m.HalfVector4="halfvector4"}(),function(){function $m(){}C$zur($m,"laya.d3.graphics.VertexElementUsage"),$m.POSITION0=0,$m.COLOR0=1,$m.TEXTURECOORDINATE0=2,$m.NORMAL0=3,$m.BINORMAL0=4,$m.TANGENT0=5,$m.BLENDINDICES0=6,$m.BLENDWEIGHT0=7,$m.DEPTH0=8,$m.FOG0=9,$m.POINTSIZE0=10,$m.SAMPLE0=11,$m.TESSELLATEFACTOR0=12,$m.COLOR1=13,$m.NEXTTEXTURECOORDINATE0=14,$m.TEXTURECOORDINATE1=15,$m.NEXTTEXTURECOORDINATE1=16,$m.CORNERTEXTURECOORDINATE0=17,$m.VELOCITY0=18,$m.STARTCOLOR0=19,$m.STARTSIZE=20,$m.AGEADDSCALE0=21,$m.STARTROTATION=22,$m.ENDCOLOR0=23,$m.STARTLIFETIME=24,$m.TIME0=33,$m.SHAPEPOSITIONSTARTLIFETIME=30,$m.DIRECTIONTIME=32,$m.SIZEROTATION0=27,$m.RADIUS0=28,$m.RADIAN0=29,$m.STARTSPEED=31,$m.RANDOM0=34,$m.RANDOM1=35,$m.SIMULATIONWORLDPOSTION=36,$m.SIMULATIONWORLDROTATION=37,$m.TEXTURECOORDINATE0X=38,$m.TEXTURECOORDINATE0X1=39,$m.TEXTURECOORDINATE0Y=40,$m.OFFSETVECTOR=41}(),function(){function $m(C$zut,C$zue,C$zui){this._position=null,this._textureCoordinate0=null,this._time=NaN,this._position=C$zut,this._textureCoordinate0=C$zue,this._time=C$zui}C$zur($m,"laya.d3.graphics.VertexGlitter");var C$zut=$m.prototype;C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"textureCoordinate",function(){return this._textureCoordinate0}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"time",function(){return this._time}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(24,[new C$zue(0,"vector3",0),new C$zue(12,"vector2",2),new C$zue(20,"single",33)])}])}(),function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul){this._cornerTextureCoordinate=null,this._position=null,this._velocity=null,this._startColor=null,this._endColor=null,this._sizeRotation=null,this._radius=null,this._radian=null,this._ageAddScale=NaN,this._time=NaN,this._cornerTextureCoordinate=C$zut,this._position=C$zue,this._velocity=C$zui,this._startColor=C$zun,this._endColor=C$zur,this._sizeRotation=C$zus,this._radius=C$zua,this._radian=C$zuo,this._ageAddScale=C$zuh,this._time=C$zul}C$zur($m,"laya.d3.graphics.VertexParticle");var C$zut=$m.prototype;C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"endColor",function(){return this._endColor}),C$zuo(0,C$zut,"cornerTextureCoordinate",function(){return this._cornerTextureCoordinate}),C$zuo(0,C$zut,"sizeRotation",function(){return this._sizeRotation}),C$zuo(0,C$zut,"velocity",function(){return this._velocity}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"startColor",function(){return this._startColor}),C$zuo(0,C$zut,"radius",function(){return this._radius}),C$zuo(0,C$zut,"radian",function(){return this._radian}),C$zuo(0,C$zut,"ageAddScale",function(){return this._ageAddScale}),C$zuo(0,C$zut,"time",function(){return this._time}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(116,[new C$zue(0,"vector4",17),new C$zue(16,"vector3",0),new C$zue(28,"vector3",18),new C$zue(40,"vector4",19),new C$zue(56,"vector4",23),new C$zue(72,"vector3",27),new C$zue(84,"vector2",28),new C$zue(92,"vector4",29),new C$zue(108,"single",24),new C$zue(112,"single",33)])}])}(),function(){function $m(C$zut){this._position=null,this._position=C$zut}C$zur($m,"laya.d3.graphics.VertexPosition");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(12,[new C$zue(0,"vector3",0)])}]),$m}()),C$zult=function(){function $m(C$zut,C$zue){this._position=null,this._normal=null,this._position=C$zut,this._normal=C$zue}C$zur($m,"laya.d3.graphics.VertexPositionNormal");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(24,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3)])}]),$m}(),C$zuut=function(){function $m(C$zut,C$zue,C$zui){this._position=null,this._normal=null,this._color=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui}C$zur($m,"laya.d3.graphics.VertexPositionNormalColor");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(40,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1)])}]),$m}(),C$zuct=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur){this._position=null,this._normal=null,this._color=null,this._blendIndex=null,this._blendWeight=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._blendIndex=C$zun,this._blendWeight=C$zur}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorSkin");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(72,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector4",7),new C$zue(56,"vector4",6)])}]),$m}(),C$zu_t=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this._position=null,this._normal=null,this._color=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._tangent=C$zun,this._blendIndex=C$zur,this._blendWeight=C$zus}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorSkinSTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(88,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector4",7),new C$zue(56,"vector4",6),new C$zue(72,"vector4",5)])}]),$m}(),C$zudt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this._position=null,this._normal=null,this._color=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._tangent=C$zun,this._blendIndex=C$zur,this._blendWeight=C$zus}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorSkinTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(84,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector4",7),new C$zue(56,"vector4",6),new C$zue(72,"vector3",5)])}]),$m}(),C$zuft=function(){function $m(C$zut,C$zue,C$zui,C$zun){this._position=null,this._normal=null,this._color=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._tangent=C$zun}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorSTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(56,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector4",5)])}]),$m}(),C$zupt=function(){function $m(C$zut,C$zue,C$zui,C$zun){this._position=null,this._normal=null,this._color=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._tangent=C$zun}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(52,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector3",5)])}]),$m}(),C$zumt=function(){function $m(C$zut,C$zue,C$zui,C$zun){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._textureCoordinate=C$zun}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorTexture");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"textureCoordinate",function(){return this._textureCoordinate}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(48,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector2",2)])}]),$m}(),C$zugt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._textureCoordinate0=C$zun,this._textureCoordinate1=C$zur}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"textureCoordinate0",function(){return this._textureCoordinate0}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(0,C$zut,"textureCoordinate1",function(){return this._textureCoordinate1}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(56,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector2",2),new C$zue(48,"vector2",15)])}]),$m}(),C$zuvt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._textureCoordinate0=C$zun,this._textureCoordinate1=C$zur,this._blendIndex=C$zus,this._blendWeight=C$zua}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1Skin");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"textureCoordinate0",function(){return this._textureCoordinate0}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(0,C$zut,"textureCoordinate1",function(){return this._textureCoordinate1}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(88,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector2",2),new C$zue(48,"vector2",15),new C$zue(56,"vector4",7),new C$zue(72,"vector4",6)])}]),$m}(),C$zu$t=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._textureCoordinate0=C$zun,this._textureCoordinate1=C$zur,this._tangent=C$zus,this._blendIndex=C$zua,this._blendWeight=C$zuo}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1SkinSTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"textureCoordinate0",function(){return this._textureCoordinate0}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(0,C$zut,"textureCoordinate1",function(){return this._textureCoordinate1}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(104,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector2",2),new C$zue(48,"vector2",15),new C$zue(56,"vector4",7),new C$zue(72,"vector4",6),new C$zue(88,"vector4",5)])}]),$m}(),C$zuxt=function(){function $m(){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1SkinTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zut.VertexPositionNormalColorTexture0SkinTangent=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._textureCoordinate0=C$zun,this._textureCoordinate1=C$zur,this._tangent=C$zus,this._blendIndex=C$zua,this._blendWeight=C$zuo},C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"textureCoordinate0",function(){return this._textureCoordinate0}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(0,C$zut,"textureCoordinate1",function(){return this._textureCoordinate1}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(100,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector2",2),new C$zue(48,"vector2",15),new C$zue(56,"vector4",7),new C$zue(72,"vector4",6),new C$zue(88,"vector3",5)])}]),$m}(),C$zuyt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._textureCoordinate0=C$zun,this._textureCoordinate1=C$zur,this._tangent=C$zus}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1STangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"textureCoordinate0",function(){return this._textureCoordinate0}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(0,C$zut,"textureCoordinate1",function(){return this._textureCoordinate1}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(72,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector2",2),new C$zue(48,"vector2",15),new C$zue(56,"vector4",5)])}]),$m}(),C$zubt=function(){function $m(){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1Tangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zut.VertexPositionNormalColorTexture0Tangent=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._textureCoordinate0=C$zun,this._textureCoordinate1=C$zur,this._tangent=C$zus},C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"textureCoordinate0",function(){return this._textureCoordinate0}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(0,C$zut,"textureCoordinate1",function(){return this._textureCoordinate1}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(68,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector2",2),new C$zue(48,"vector2",15),new C$zue(56,"vector3",5)])}]),$m}(),C$zuTt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._textureCoordinate=C$zun,this._blendIndex=C$zur,this._blendWeight=C$zus}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorTextureSkin");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"textureCoordinate",function(){return this._textureCoordinate}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(80,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector2",2),new C$zue(48,"vector4",7),new C$zue(64,"vector4",6)])}]),$m}(),C$zuwt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._textureCoordinate=C$zun,this._tangent=C$zur,this._blendIndex=C$zus,this._blendWeight=C$zua}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorTextureSkinSTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"textureCoordinate",function(){return this._textureCoordinate}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(96,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector2",2),new C$zue(48,"vector4",7),new C$zue(64,"vector4",6),new C$zue(80,"vector4",5)])}]),$m}(),C$zuMt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._textureCoordinate=C$zun,this._tangent=C$zur,this._blendIndex=C$zus,this._blendWeight=C$zua}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorTextureSkinTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"textureCoordinate",function(){return this._textureCoordinate}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(92,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector2",2),new C$zue(48,"vector4",7),new C$zue(64,"vector4",6),new C$zue(80,"vector3",5)])}]),$m}(),C$zuSt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._textureCoordinate=C$zun,this._tangent=C$zur}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorTextureSTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"textureCoordinate",function(){return this._textureCoordinate}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(64,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector2",2),new C$zue(48,"vector4",5)])}]),$m}(),C$zuCt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._color=C$zui,this._textureCoordinate=C$zun,this._tangent=C$zur}C$zur($m,"laya.d3.graphics.VertexPositionNormalColorTextureTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"textureCoordinate",function(){return this._textureCoordinate}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"color",function(){return this._color}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(60,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",1),new C$zue(40,"vector2",2),new C$zue(48,"vector3",5)])}]),$m}(),C$zuDt=function(){function $m(C$zut,C$zue,C$zui){this._position=null,this._normal=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._tangent=C$zui}C$zur($m,"laya.d3.graphics.VertexPositionNormalSTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(40,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector4",5)])}]),$m}(),C$zuEt=function(){function $m(C$zut,C$zue,C$zui){this._position=null,this._normal=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._tangent=C$zui}C$zur($m,"laya.d3.graphics.VertexPositionNormalTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(36,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector3",5)])}]),$m}(),C$zuPt=function(){function $m(C$zut,C$zue,C$zui){this._position=null,this._normal=null,this._textureCoordinate=null,this._position=C$zut,this._normal=C$zue,this._textureCoordinate=C$zui}C$zur($m,"laya.d3.graphics.VertexPositionNormalTexture");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"textureCoordinate",function(){return this._textureCoordinate}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(32,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector2",2)])}]),$m}(),C$zuAt=function(){function $m(C$zut,C$zue,C$zui,C$zun){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._position=C$zut,this._normal=C$zue,this._textureCoordinate0=C$zui,this._textureCoordinate1=C$zun}C$zur($m,"laya.d3.graphics.VertexPositionNormalTexture0Texture1");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"textureCoordinate0",function(){return this._textureCoordinate0}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(0,C$zut,"textureCoordinate1",function(){return this._textureCoordinate1}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(40,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector2",2),new C$zue(32,"vector2",15)])}]),$m}(),C$zuIt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._position=C$zut,this._normal=C$zue,this._textureCoordinate0=C$zui,this._textureCoordinate1=C$zun,this._blendIndex=C$zur,this._blendWeight=C$zus}C$zur($m,"laya.d3.graphics.VertexPositionNormalTexture0Texture1Skin");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"textureCoordinate0",function(){return this._textureCoordinate0}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(0,C$zut,"textureCoordinate1",function(){return this._textureCoordinate1}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(72,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector2",2),new C$zue(32,"vector2",15),new C$zue(40,"vector4",7),new C$zue(56,"vector4",6)])}]),$m}(),C$zuRt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._textureCoordinate0=C$zui,this._textureCoordinate1=C$zun,this._tangent=C$zur,this._blendIndex=C$zus,this._blendWeight=C$zua}C$zur($m,"laya.d3.graphics.VertexPositionNormalTexture0Texture1SkinSTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"textureCoordinate0",function(){return this._textureCoordinate0}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(0,C$zut,"textureCoordinate1",function(){return this._textureCoordinate1}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(88,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector2",2),new C$zue(32,"vector2",15),new C$zue(40,"vector4",7),new C$zue(56,"vector4",6),new C$zue(72,"vector4",5)])}]),$m}(),C$zuLt=function(){function $m(){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null}C$zur($m,"laya.d3.graphics.VertexPositionNormalTexture0Texture1SkinTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zut.VertexPositionNormalTexture0SkinTangent=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){this._position=C$zut,this._normal=C$zue,this._textureCoordinate0=C$zui,this._textureCoordinate1=C$zun,this._tangent=C$zur,this._blendIndex=C$zus,this._blendWeight=C$zua},C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"textureCoordinate0",function(){return this._textureCoordinate0}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(0,C$zut,"textureCoordinate1",function(){return this._textureCoordinate1}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(84,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector2",2),new C$zue(32,"vector2",15),new C$zue(40,"vector4",7),new C$zue(56,"vector4",6),new C$zue(72,"vector3",5)])}]),$m}(),C$zuBt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._textureCoordinate0=C$zui,this._textureCoordinate1=C$zun,this._tangent=C$zur}C$zur($m,"laya.d3.graphics.VertexPositionNormalTexture0Texture1STangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"textureCoordinate0",function(){return this._textureCoordinate0}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(0,C$zut,"textureCoordinate1",function(){return this._textureCoordinate1}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(56,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector2",2),new C$zue(32,"vector2",15),new C$zue(40,"vector4",5)])}]),$m}(),C$zuNt=function(){function $m(){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null}C$zur($m,"laya.d3.graphics.VertexPositionNormalTexture0Texture1Tangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zut.VertexPositionNormalTexture0Tangent=function(C$zut,C$zue,C$zui,C$zun,C$zur){this._position=C$zut,this._normal=C$zue,this._textureCoordinate0=C$zui,this._textureCoordinate1=C$zun,this._tangent=C$zur},C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"textureCoordinate0",function(){return this._textureCoordinate0}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(0,C$zut,"textureCoordinate1",function(){return this._textureCoordinate1}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(52,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector2",2),new C$zue(32,"vector2",15),new C$zue(40,"vector3",5)])}]),$m}(),C$zuFt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur){this._position=null,this._normal=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._position=C$zut,this._normal=C$zue,this._textureCoordinate=C$zui,this._blendIndex=C$zun,this._blendWeight=C$zur}C$zur($m,"laya.d3.graphics.VertexPositionNormalTextureSkin");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"textureCoordinate",function(){return this._textureCoordinate}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(64,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector2",2),new C$zue(32,"vector4",7),new C$zue(48,"vector4",6)])}]),$m}(),C$zuOt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this._position=null,this._normal=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._textureCoordinate=C$zui,this._tangent=C$zun,this._blendIndex=C$zur,this._blendWeight=C$zus}C$zur($m,"laya.d3.graphics.VertexPositionNormalTextureSkinSTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"textureCoordinate",function(){return this._textureCoordinate}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(80,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector2",2),new C$zue(32,"vector4",7),new C$zue(48,"vector4",6),new C$zue(64,"vector4",5)])}]),$m}(),C$zuVt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this._position=null,this._normal=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._textureCoordinate=C$zui,this._tangent=C$zun,this._blendIndex=C$zur,this._blendWeight=C$zus}C$zur($m,"laya.d3.graphics.VertexPositionNormalTextureSkinTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"textureCoordinate",function(){return this._textureCoordinate}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(76,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector2",2),new C$zue(32,"vector4",7),new C$zue(48,"vector4",6),new C$zue(64,"vector3",5)])}]),$m}(),C$zukt=function(){function $m(C$zut,C$zue,C$zui,C$zun){this._position=null,this._normal=null,this._textureCoordinate=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._textureCoordinate=C$zui,this._tangent=C$zun}C$zur($m,"laya.d3.graphics.VertexPositionNormalTextureSTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"textureCoordinate",function(){return this._textureCoordinate}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(48,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector2",2),new C$zue(32,"vector4",5)])}]),$m}(),C$zuUt=function(){function $m(C$zut,C$zue,C$zui,C$zun){this._position=null,this._normal=null,this._textureCoordinate=null,this._tangent=null,this._position=C$zut,this._normal=C$zue,this._textureCoordinate=C$zui,this._tangent=C$zun}C$zur($m,"laya.d3.graphics.VertexPositionNormalTextureTangent");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"textureCoordinate",function(){return this._textureCoordinate}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(44,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector2",2),new C$zue(32,"vector3",5)])}]),$m}(),C$zuHt=function(){function $m(C$zut,C$zue,C$zui){this._position=null,this._normal=null,this._textureCoordinate=null,this._position=C$zut,this._normal=C$zue,this._textureCoordinate=C$zui}C$zur($m,"laya.d3.graphics.VertexPositionNTBTexture");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"textureCoordinate",function(){return this._textureCoordinate}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(56,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector3",5),new C$zue(36,"vector3",4),new C$zue(48,"vector2",2)])}]),$m}(),C$zuWt=function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this.binormal=null,this._position=C$zut,this._normal=C$zue,this._textureCoordinate0=C$zun,this._textureCoordinate1=C$zur,this._tangent=C$zus,this._blendIndex=C$zua,this._blendWeight=C$zuo}C$zur($m,"laya.d3.graphics.VertexPositionNTBTexture0Texture1Skin");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"tangent",function(){return this._tangent}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"textureCoordinate0",function(){return this._textureCoordinate0}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(0,C$zut,"textureCoordinate1",function(){return this._textureCoordinate1}),C$zuo(0,C$zut,"blendIndex",function(){return this._blendIndex}),C$zuo(0,C$zut,"blendWeight",function(){return this._blendWeight}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(96,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector3",5),new C$zue(36,"vector3",4),new C$zue(48,"vector2",2),new C$zue(56,"vector2",15),new C$zue(64,"vector4",7),new C$zue(80,"vector4",6)])}]),$m}(),C$zuzt=function(){function $m(C$zut,C$zue,C$zui){this._position=null,this._normal=null,this._textureCoordinate=null,this._position=C$zut,this._normal=C$zue,this._textureCoordinate=C$zui}C$zur($m,"laya.d3.graphics.VertexPositionNTBTextureSkin");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"textureCoordinate",function(){return this._textureCoordinate}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(88,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector3",5),new C$zue(36,"vector3",4),new C$zue(48,"vector2",2),new C$zue(56,"vector4",7),new C$zue(72,"vector4",6)])}]),$m}(),C$zuGt=(function(){function $m(C$zut,C$zue,C$zui,C$zun){this._position=null,this._normal=null,this._textureCoord0=null,this._textureCoord1=null,this._position=C$zut,this._normal=C$zue,this._textureCoord0=C$zui,this._textureCoord1=C$zun}C$zur($m,"laya.d3.graphics.VertexPositionTerrain");var C$zut=$m.prototype;C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"normal",function(){return this._normal}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"textureCoord0",function(){return this._textureCoord0}),C$zuo(0,C$zut,"textureCoord1",function(){return this._textureCoord1}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(40,[new C$zue(0,"vector3",0),new C$zue(12,"vector3",3),new C$zue(24,"vector2",2),new C$zue(32,"vector2",15)])}])}(),function(){function $m(C$zut,C$zue){this._position=null,this._textureCoordinate0=null,this._position=C$zut,this._textureCoordinate0=C$zue}C$zur($m,"laya.d3.graphics.VertexPositionTexture0");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"position",function(){return this._position}),C$zuo(0,C$zut,"textureCoordinate0",function(){return this._textureCoordinate0}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(20,[new C$zue(0,"vector3",0),new C$zue(12,"vector2",2)])}]),$m}()),C$zuYt=(function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul,C$zuu,C$zuc,C$zu_,C$zud){this._cornerTextureCoordinate=null,this._positionStartLifeTime=null,this._velocity=null,this._startColor=null,this._startSize=null,this._startRotation0=null,this._startRotation1=null,this._startRotation2=null,this._startLifeTime=NaN,this._time=NaN,this._startSpeed=NaN,this._randoms0=null,this._randoms1=null,this._simulationWorldPostion=null,this._cornerTextureCoordinate=C$zut,this._positionStartLifeTime=C$zue,this._velocity=C$zui,this._startColor=C$zun,this._startSize=C$zur,this._startRotation0=C$zus,this._startRotation1=C$zua,this._startRotation2=C$zuo,this._startLifeTime=C$zuh,this._time=C$zul,this._startSpeed=C$zuu,this._randoms0=this.random0,this._randoms1=this.random1,this._simulationWorldPostion=C$zud}C$zur($m,"laya.d3.graphics.VertexShurikenParticleBillboard");var C$zut=$m.prototype;C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"cornerTextureCoordinate",function(){return this._cornerTextureCoordinate}),C$zuo(0,C$zut,"random1",function(){return this._randoms1}),C$zuo(0,C$zut,"startRotation2",function(){return this._startRotation2}),C$zuo(0,C$zut,"positionStartLifeTime",function(){return this._positionStartLifeTime}),C$zuo(0,C$zut,"velocity",function(){return this._velocity}),C$zuo(0,C$zut,"random0",function(){return this._randoms0}),C$zuo(0,C$zut,"startSize",function(){return this._startSize}),C$zuo(0,C$zut,"startColor",function(){return this._startColor}),C$zuo(0,C$zut,"startRotation0",function(){return this._startRotation0}),C$zuo(0,C$zut,"startRotation1",function(){return this._startRotation1}),C$zuo(0,C$zut,"startLifeTime",function(){return this._startLifeTime}),C$zuo(0,C$zut,"time",function(){return this._time}),C$zuo(0,C$zut,"startSpeed",function(){return this._startSpeed}),C$zuo(0,C$zut,"simulationWorldPostion",function(){return this._simulationWorldPostion}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(152,[new C$zue(0,"vector4",17),new C$zue(16,"vector4",30),new C$zue(32,"vector4",32),new C$zue(48,"vector4",19),new C$zue(64,"vector3",20),new C$zue(76,"vector3",22),new C$zue(88,"single",31),new C$zue(92,"vector4",34),new C$zue(108,"vector4",35),new C$zue(124,"vector3",36),new C$zue(136,"vector4",37)])}])}(),function(){function $m(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul,C$zuu,C$zuc,C$zu_,C$zud){this._cornerTextureCoordinate=null,this._positionStartLifeTime=null,this._velocity=null,this._startColor=null,this._startSize=null,this._startRotation0=null,this._startRotation1=null,this._startRotation2=null,this._startLifeTime=NaN,this._time=NaN,this._startSpeed=NaN,this._randoms0=null,this._randoms1=null,this._simulationWorldPostion=null,this._cornerTextureCoordinate=C$zut,this._positionStartLifeTime=C$zue,this._velocity=C$zui,this._startColor=C$zun,this._startSize=C$zur,this._startRotation0=C$zus,this._startRotation1=C$zua,this._startRotation2=C$zuo,this._startLifeTime=C$zuh,this._time=C$zul,this._startSpeed=C$zuu,this._randoms0=this.random0,this._randoms1=this.random1,this._simulationWorldPostion=C$zud}C$zur($m,"laya.d3.graphics.VertexShurikenParticleMesh");var C$zut=$m.prototype;C$zuy.imps(C$zut,{"laya.d3.graphics.IVertex":!0}),C$zuo(0,C$zut,"cornerTextureCoordinate",function(){return this._cornerTextureCoordinate}),C$zuo(0,C$zut,"velocity",function(){return this._velocity}),C$zuo(0,C$zut,"position",function(){return this._positionStartLifeTime}),C$zuo(0,C$zut,"random0",function(){return this._randoms0}),C$zuo(0,C$zut,"startSize",function(){return this._startSize}),C$zuo(0,C$zut,"startColor",function(){return this._startColor}),C$zuo(0,C$zut,"startRotation0",function(){return this._startRotation0}),C$zuo(0,C$zut,"startRotation1",function(){return this._startRotation1}),C$zuo(0,C$zut,"random1",function(){return this._randoms1}),C$zuo(0,C$zut,"startRotation2",function(){return this._startRotation2}),C$zuo(0,C$zut,"startLifeTime",function(){return this._startLifeTime}),C$zuo(0,C$zut,"time",function(){return this._time}),C$zuo(0,C$zut,"startSpeed",function(){return this._startSpeed}),C$zuo(0,C$zut,"simulationWorldPostion",function(){return this._simulationWorldPostion}),C$zuo(0,C$zut,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zuo(1,$m,"vertexDeclaration",function(){return $m._vertexDeclaration}),C$zus($m,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$zuot(172,[new C$zue(0,"vector3",0),new C$zue(12,"vector4",1),new C$zue(28,"vector2",2),new C$zue(36,"vector4",30),new C$zue(52,"vector4",32),new C$zue(68,"vector4",19),new C$zue(84,"vector3",20),new C$zue(96,"vector3",22),new C$zue(108,"single",31),new C$zue(112,"vector4",34),new C$zue(128,"vector4",35),new C$zue(144,"vector3",36),new C$zue(156,"vector4",37)])}])}(),C$zur($a,"laya.d3.loaders.LoadModelV01"),(C$zut=$a.prototype)._onLoaded=function(C$zut){this._readData=C$zut,this.READ_BLOCK();for(var C$zue=0;C$zue<this._BLOCK.count;C$zue++){var C$zui=this._readData.getUint16(),C$zun=this._strings[C$zui],C$zur=this["READ_"+C$zun];if(null==C$zur)throw new Error("model file err,no this function:"+C$zui+" "+C$zun);if(!C$zur.call(this))break}return this._mesh},C$zut.onError=function(){},C$zut._readString=function(){return this._strings[this._readData.getUint16()]},C$zut.READ_BLOCK=function(){return this._readData.getUint16(),this._BLOCK.count=this._readData.getUint16(),!0},C$zut.READ_DATA=function(){return this._DATA.offset=this._readData.getUint32(),this._DATA.size=this._readData.getUint32(),!0},C$zut.READ_STRINGS=function(){this._STRINGS.offset=this._readData.getUint16(),this._STRINGS.size=this._readData.getUint16();var C$zut=this._readData.pos;this._readData.pos=this._STRINGS.offset+this._DATA.offset;for(var C$zue=0;C$zue<this._STRINGS.size;C$zue++)this._strings[C$zue]=this._readData.readUTFString();return this._readData.pos=C$zut,!0},C$zut.READ_MATERIAL=function(){var C$zut=this._readData.getUint16(),C$zue=(this._readString(),this._readString());return this._materials[C$zut]="null"!==C$zue?C$zug.getRes(this._materialMap[C$zue]):new C$zuCe,!0},C$zut.READ_MESH=function(){switch(this._readString(),this._version){case"LAYAMODEL:01":console.log("Warning: The (.lm) file is converted by old fbxTools,please reConverted it use  lastest fbxTools version,later we will remove the  support of old version (.lm) support.");break;case"LAYASKINANI:01":case"LAYAMODEL:02":var C$zut,C$zue=this._readData.__getBuffer(),C$zui=0,C$zun=this._readData.getUint32(),C$zur=this._readData.getUint32(),C$zun=(new Float32Array(C$zue.slice(C$zun+this._DATA.offset,C$zun+this._DATA.offset+C$zur)),this._readData.getUint32()),C$zur=this._readData.getUint32(),C$zus=new Float32Array(C$zue.slice(C$zun+this._DATA.offset,C$zun+this._DATA.offset+C$zur));for(this.mesh._inverseBindPoses=[],C$zui=0,C$zut=C$zus.length;C$zui<C$zut;C$zui+=16){var C$zua=new C$zuee(C$zus[C$zui+0],C$zus[C$zui+1],C$zus[C$zui+2],C$zus[C$zui+3],C$zus[C$zui+4],C$zus[C$zui+5],C$zus[C$zui+6],C$zus[C$zui+7],C$zus[C$zui+8],C$zus[C$zui+9],C$zus[C$zui+10],C$zus[C$zui+11],C$zus[C$zui+12],C$zus[C$zui+13],C$zus[C$zui+14],C$zus[C$zui+15]);this.mesh._inverseBindPoses.push(C$zua)}break;default:throw new Error("LoadModel:unknown version.")}return!0},C$zut.READ_SUBMESH=function(){this._readString(),this._readData.getUint8();var C$zut=this._readString();this._shaderAttributes=C$zut.match($a._attrReg);var C$zut=this._readData.getUint32(),C$zue=this._readData.getUint32(),C$zui=(this._readData.getUint32(),this._readData.getUint32(),this._readData.getUint32()),C$zun=this._readData.getUint32(),C$zur=this._readData.getUint32(),C$zuu=this._readData.getUint32(),C$zus=this._readData.__getBuffer(),C$zua=new C$zule(this._mesh),C$zuo=this._getVertexDeclaration(),C$zuh=C$zuFe.create(C$zuo,C$zun/C$zuo.vertexStride,35044,!0),C$zuo=C$zui+this._DATA.offset,C$zui=C$zus.slice(C$zuo,C$zuo+C$zun);C$zuh.setData(new Float32Array(C$zui));for(var C$zuc=(C$zua._vertexBuffer=C$zuh).vertexDeclaration.getVertexElements(),C$zul=0;C$zul<C$zuc.length;C$zul++)C$zua._bufferUsage[C$zuc[C$zul].elementUsage]=C$zuh;C$zuo=C$zuNe.create("ushort",C$zue/2,35044,!0),C$zun=C$zut+this._DATA.offset,C$zui=C$zus.slice(C$zun,C$zun+C$zue);C$zuo.setData(new Uint16Array(C$zui)),C$zua._indexBuffer=C$zuo;C$zut=C$zus.slice(C$zur+this._DATA.offset,C$zur+this._DATA.offset+C$zuu);return C$zua._boneIndicesList[0]=new Uint8Array(C$zut),this._subMeshes.push(C$zua),!0},C$zut.READ_DATAAREA=function(){return!1},C$zut._getVertexDeclaration=function(){for(var C$zut,C$zue=!1,C$zui=!1,C$zun=!1,C$zur=!1,C$zus=!1,C$zua=!1,C$zuo=!1,C$zuh=!1,C$zul=!1,C$zuu=0;C$zuu<this._shaderAttributes.length;C$zuu+=8)switch(this._shaderAttributes[C$zuu]){case"POSITION":C$zue=!0;break;case"NORMAL":C$zui=!0;break;case"COLOR":C$zun=!0;break;case"UV":C$zur=!0;break;case"UV1":C$zus=!0;break;case"BLENDWEIGHT":C$zuo=!0;break;case"BLENDINDICES":C$zuh=!0;break;case"TANGENT":C$zua=!0;break;case"BINORMAL":C$zul=!0}return C$zue&&C$zui&&C$zun&&C$zur&&C$zus&&C$zuo&&C$zuh&&C$zua?C$zut=C$zuxt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zur&&C$zus&&C$zuo&&C$zuh?C$zut=C$zuvt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zus&&C$zuo&&C$zuh&&C$zua?C$zut=C$zuLt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zus&&C$zuo&&C$zuh?C$zut=C$zuIt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zur&&C$zuo&&C$zuh&&C$zua?C$zut=C$zuMt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zur&&C$zuo&&C$zuh?C$zut=C$zuTt.vertexDeclaration:C$zue&&C$zui&&C$zua&&C$zul&&C$zur&&C$zuo&&C$zuh?C$zut=C$zuzt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zuo&&C$zuh&&C$zua?C$zut=C$zuVt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zuo&&C$zuh?C$zut=C$zuFt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zuo&&C$zuh&&C$zua?C$zut=C$zudt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zuo&&C$zuh?C$zut=C$zuct.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zur&&C$zus&&C$zua?C$zut=C$zubt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zur&&C$zus?C$zut=C$zugt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zus&&C$zua?C$zut=C$zuNt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zus?C$zut=C$zuAt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zur&&C$zua?C$zut=C$zuCt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zua&&C$zul?C$zut=C$zuHt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zur?C$zut=C$zumt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zua?C$zut=C$zuUt.vertexDeclaration:C$zue&&C$zui&&C$zur?C$zut=C$zuPt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zua?C$zut=C$zupt.vertexDeclaration:C$zue&&C$zui&&C$zun&&(C$zut=C$zuut.vertexDeclaration),C$zut},C$zuo(0,C$zut,"mesh",function(){return this._mesh}),$a._attrReg=new RegExp("(\\w+)|([:,;])","g"),$a),C$zuXt=(C$zur($E,"laya.d3.loaders.LoadModelV02"),$E.parse=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){$E._mesh=C$zui,$E._materials=C$zun,$E._subMeshes=C$zur,$E._materialMap=C$zus,$E._version=C$zue,$E._readData=C$zut,$E.READ_DATA(),$E.READ_BLOCK(),$E.READ_STRINGS();for(var C$zua=0,C$zuu=$E._BLOCK.count;C$zua<C$zuu;C$zua++){$E._readData.pos=$E._BLOCK.blockStarts[C$zua];var C$zuo=$E._readData.getUint16(),C$zuh=$E._strings[C$zuo],C$zul=$E["READ_"+C$zuh];if(null==C$zul)throw new Error("model file err,no this function:"+C$zuo+" "+C$zuh);C$zul.call()}$E._strings.length=0,$E._readData=null,$E._version=null,$E._mesh=null,$E._materials=null,$E._subMeshes=null,$E._materialMap=null},$E._readString=function(){return $E._strings[$E._readData.getUint16()]},$E.READ_DATA=function(){$E._DATA.offset=$E._readData.getUint32(),$E._DATA.size=$E._readData.getUint32()},$E.READ_BLOCK=function(){for(var C$zut=$E._BLOCK.count=$E._readData.getUint16(),C$zue=$E._BLOCK.blockStarts=[],C$zui=$E._BLOCK.blockLengths=[],C$zun=0;C$zun<C$zut;C$zun++)C$zue.push($E._readData.getUint32()),C$zui.push($E._readData.getUint32())},$E.READ_STRINGS=function(){var C$zut=$E._readData.getUint32(),C$zue=$E._readData.getUint16(),C$zui=$E._readData.pos;$E._readData.pos=C$zut+$E._DATA.offset;for(var C$zun=0;C$zun<C$zue;C$zun++)$E._strings[C$zun]=$E._readData.readUTFString();$E._readData.pos=C$zui},$E.READ_MATERIAL=function(){$E._readString(),$E._readString();var C$zut=$E._readString();return""!==C$zut&&$E._materials.push(C$zug.getRes($E._materialMap[C$zut])),!0},$E.READ_MESH=function(){$E._readString();var C$zut,C$zue=$E._readData.__getBuffer(),C$zui=0,C$zuu=$E._readData.getInt16(),C$zun=$E._DATA.offset;for(C$zui=0;C$zui<C$zuu;C$zui++){var C$zur=C$zun+$E._readData.getUint32(),C$zus=$E._readData.getUint32(),C$zur=new Float32Array(C$zue.slice(C$zur,C$zur+C$zus)),C$zus=$E._readString().match($E._attrReg),C$zus=$E._getVertexDeclaration(C$zus),C$zus=C$zuFe.create(C$zus,4*C$zur.length/C$zus.vertexStride,35044,!0);C$zus.setData(C$zur),$E._mesh._vertexBuffers.push(C$zus)}var C$zua=C$zun+$E._readData.getUint32(),C$zuo=$E._readData.getUint32(),C$zua=new Uint16Array(C$zue.slice(C$zua,C$zua+C$zuo)),C$zuo=C$zuNe.create("ushort",C$zuo/2,35044,!0);C$zuo.setData(C$zua),$E._mesh._indexBuffer=C$zuo;var C$zuh=$E._mesh._boneNames=[],C$zuc=$E._readData.getUint16();for(C$zuh.length=C$zuc,C$zui=0;C$zui<C$zuc;C$zui++)C$zuh[C$zui]=$E._strings[$E._readData.getUint16()];var C$zua=$E._readData.getUint32(),C$zuo=$E._readData.getUint32(),C$zua=(new Float32Array(C$zue.slice(C$zun+C$zua,C$zun+C$zua+C$zuo)),$E._readData.getUint32()),C$zuo=$E._readData.getUint32(),C$zul=new Float32Array(C$zue.slice(C$zun+C$zua,C$zun+C$zua+C$zuo));for($E._mesh._inverseBindPoses=[],C$zui=0,C$zut=C$zul.length;C$zui<C$zut;C$zui+=16){var C$zu_=new C$zuee(C$zul[C$zui+0],C$zul[C$zui+1],C$zul[C$zui+2],C$zul[C$zui+3],C$zul[C$zui+4],C$zul[C$zui+5],C$zul[C$zui+6],C$zul[C$zui+7],C$zul[C$zui+8],C$zul[C$zui+9],C$zul[C$zui+10],C$zul[C$zui+11],C$zul[C$zui+12],C$zul[C$zui+13],C$zul[C$zui+14],C$zul[C$zui+15]);$E._mesh._inverseBindPoses.push(C$zu_)}return $E._mesh._skinnedDatas=new Float32Array(16*C$zul.length),!0},$E.READ_SUBMESH=function(){var C$zuu=$E._readData.__getBuffer(),C$zut=new C$zule($E._mesh),C$zue=$E._readData.getInt16(),C$zui=$E._readData.getUint32(),C$zun=$E._readData.getUint32();C$zut._vertexBuffer=$E._mesh._vertexBuffers[C$zue],C$zut._vertexStart=C$zui,C$zut._vertexCount=C$zun;C$zue=$E._readData.getUint32(),C$zui=$E._readData.getUint32(),C$zun=$E._mesh._indexBuffer;C$zut._indexBuffer=C$zun,C$zut._indexStart=C$zue,C$zut._indexCount=C$zui,C$zut._indices=new Uint16Array(C$zun.getData().buffer,2*C$zue,C$zui);var C$zur=$E._DATA.offset,C$zus=C$zut._subIndexBufferStart,C$zua=C$zut._subIndexBufferCount,C$zun=C$zut._boneIndicesList,C$zuo=$E._readData.getUint16();C$zus.length=C$zuo,C$zua.length=C$zuo,C$zun.length=C$zuo;for(var C$zuh=0;C$zuh<C$zuo;C$zuh++){C$zus[C$zuh]=$E._readData.getUint32(),C$zua[C$zuh]=$E._readData.getUint32();var C$zul=$E._readData.getUint32(),C$zuc=$E._readData.getUint32();C$zut._boneIndicesList[C$zuh]=new Uint8Array(C$zuu.slice(C$zur+C$zul,C$zur+C$zul+C$zuc))}return $E._subMeshes.push(C$zut),!0},$E._getVertexDeclaration=function(C$zuu){for(var C$zut,C$zue=!1,C$zui=!1,C$zun=!1,C$zur=!1,C$zus=!1,C$zua=!1,C$zuo=!1,C$zuh=!1,C$zuc=!1,C$zul=0;C$zul<C$zuu.length;C$zul++)switch(C$zuu[C$zul]){case"POSITION":C$zue=!0;break;case"NORMAL":C$zui=!0;break;case"COLOR":C$zun=!0;break;case"UV":C$zur=!0;break;case"UV1":C$zus=!0;break;case"BLENDWEIGHT":C$zuo=!0;break;case"BLENDINDICES":C$zuh=!0;break;case"TANGENT":C$zua=!0;break;case"BINORMAL":C$zuc=!0}return C$zue&&C$zui&&C$zun&&C$zur&&C$zus&&C$zuo&&C$zuh&&C$zua?C$zut=C$zuxt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zur&&C$zus&&C$zuo&&C$zuh?C$zut=C$zuvt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zus&&C$zuo&&C$zuh&&C$zua?C$zut=C$zuLt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zus&&C$zuo&&C$zuh?C$zut=C$zuIt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zur&&C$zuo&&C$zuh&&C$zua?C$zut=C$zuMt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zur&&C$zuo&&C$zuh?C$zut=C$zuTt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zuo&&C$zuh&&C$zua?C$zut=C$zuVt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zuo&&C$zuh?C$zut=C$zuFt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zuo&&C$zuh&&C$zua?C$zut=C$zudt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zuo&&C$zuh?C$zut=C$zuct.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zur&&C$zus&&C$zua?C$zut=C$zubt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zur&&C$zus?C$zut=C$zugt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zus&&C$zua?C$zut=C$zuNt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zus?C$zut=C$zuAt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zur&&C$zua?C$zut=C$zuCt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zua&&C$zuc?C$zut=C$zuHt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zur?C$zut=C$zumt.vertexDeclaration:C$zue&&C$zui&&C$zur&&C$zua?C$zut=C$zuUt.vertexDeclaration:C$zue&&C$zui&&C$zur?C$zut=C$zuPt.vertexDeclaration:C$zue&&C$zui&&C$zun&&C$zua?C$zut=C$zupt.vertexDeclaration:C$zue&&C$zui&&C$zun&&(C$zut=C$zuut.vertexDeclaration),C$zut},$E._attrReg=new RegExp("(\\w+)|([:,;])","g"),$E._strings=[],$E._readData=null,$E._version=null,$E._mesh=null,$E._materials=null,$E._subMeshes=null,$E._materialMap=null,C$zus($E,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]),$E),C$zuKt=(C$zur($W,"laya.d3.loaders.LoadModelV03"),$W.parse=function(C$zut,C$zue,C$zui,C$zun,C$zur){$W._mesh=C$zui,$W._subMeshes=C$zun,$W._materialMap=C$zur,$W._version=C$zue,$W._readData=C$zut,$W.READ_DATA(),$W.READ_BLOCK(),$W.READ_STRINGS();for(var C$zus=0,C$zua=$W._BLOCK.count;C$zus<C$zua;C$zus++){$W._readData.pos=$W._BLOCK.blockStarts[C$zus];var C$zuo=$W._readData.getUint16(),C$zuh=$W._strings[C$zuo],C$zul=$W["READ_"+C$zuh];if(null==C$zul)throw new Error("model file err,no this function:"+C$zuo+" "+C$zuh);C$zul.call()}$W._strings.length=0,$W._readData=null,$W._version=null,$W._mesh=null,$W._subMeshes=null,$W._materialMap=null},$W._readString=function(){return $W._strings[$W._readData.getUint16()]},$W.READ_DATA=function(){$W._DATA.offset=$W._readData.getUint32(),$W._DATA.size=$W._readData.getUint32()},$W.READ_BLOCK=function(){for(var C$zut=$W._BLOCK.count=$W._readData.getUint16(),C$zue=$W._BLOCK.blockStarts=[],C$zui=$W._BLOCK.blockLengths=[],C$zun=0;C$zun<C$zut;C$zun++)C$zue.push($W._readData.getUint32()),C$zui.push($W._readData.getUint32())},$W.READ_STRINGS=function(){var C$zut=$W._readData.getUint32(),C$zue=$W._readData.getUint16(),C$zui=$W._readData.pos;$W._readData.pos=C$zut+$W._DATA.offset;for(var C$zun=0;C$zun<C$zue;C$zun++)$W._strings[C$zun]=$W._readData.readUTFString();$W._readData.pos=C$zui},$W.READ_MESH=function(){var C$zuu,C$zuc=$W._readString(),C$zut=$W._readData.__getBuffer(),C$zue=0,C$zu_=$W._readData.getInt16(),C$zui=$W._DATA.offset;for(C$zue=0;C$zue<C$zu_;C$zue++){var C$zun,C$zur=C$zui+$W._readData.getUint32(),C$zus=$W._readData.getUint32(),C$zur=new Float32Array(C$zut.slice(C$zur,C$zur+C$zus)),C$zua=$W._readString();switch($W._version){case"LAYAMODEL:03":C$zun=$W._vertexDeclarationMap_Discard[C$zua];break;case"LAYAMODEL:0301":C$zun=$W._vertexDeclarationMap[C$zua];break;default:throw new Error("LoadModelV03: unknown version.")}if(!C$zun)throw new Error("LoadModelV03: unknown vertexDeclaration.  version="+$W._version+"  bufferAttribute="+C$zua+"  name="+C$zuc+"  url="+($W._mesh?$W._mesh.url:"null"));C$zus=C$zuFe.create(C$zun,4*C$zur.length/C$zun.vertexStride,35044,!0,$W._mesh._url+"_"+C$zue);C$zus.setData(C$zur),$W._mesh._vertexBuffers.push(C$zus)}var C$zuo=C$zui+$W._readData.getUint32(),C$zuh=$W._readData.getUint32(),C$zuo=new Uint16Array(C$zut.slice(C$zuo,C$zuo+C$zuh)),C$zuh=C$zuNe.create("ushort",C$zuh/2,35044,!0,$W._mesh._url);C$zuh.setData(C$zuo),$W._mesh._indexBuffer=C$zuh;var C$zud=$W._mesh._boneNames=[],C$zuf=$W._readData.getUint16();for(C$zud.length=C$zuf,C$zue=0;C$zue<C$zuf;C$zue++)C$zud[C$zue]=$W._strings[$W._readData.getUint16()];$W._readData.pos+=8;var C$zuo=$W._readData.getUint32(),C$zuh=$W._readData.getUint32(),C$zul=new Float32Array(C$zut.slice(C$zui+C$zuo,C$zui+C$zuo+C$zuh));for($W._mesh._inverseBindPoses=[],C$zue=0,C$zuu=C$zul.length;C$zue<C$zuu;C$zue+=16){var C$zup=new C$zuee(C$zul[C$zue+0],C$zul[C$zue+1],C$zul[C$zue+2],C$zul[C$zue+3],C$zul[C$zue+4],C$zul[C$zue+5],C$zul[C$zue+6],C$zul[C$zue+7],C$zul[C$zue+8],C$zul[C$zue+9],C$zul[C$zue+10],C$zul[C$zue+11],C$zul[C$zue+12],C$zul[C$zue+13],C$zul[C$zue+14],C$zul[C$zue+15]);$W._mesh._inverseBindPoses.push(C$zup)}return $W._mesh._skinnedDatas=new Float32Array(16*C$zul.length),!0},$W.READ_SUBMESH=function(){var C$zuu=$W._readData.__getBuffer(),C$zut=new C$zule($W._mesh),C$zue=$W._readData.getInt16(),C$zui=$W._readData.getUint32(),C$zun=$W._readData.getUint32();C$zut._vertexBuffer=$W._mesh._vertexBuffers[C$zue],C$zut._vertexStart=C$zui,C$zut._vertexCount=C$zun;C$zue=$W._readData.getUint32(),C$zui=$W._readData.getUint32(),C$zun=$W._mesh._indexBuffer;C$zut._indexBuffer=C$zun,C$zut._indexStart=C$zue,C$zut._indexCount=C$zui,C$zut._indices=new Uint16Array(C$zun.getData().buffer,2*C$zue,C$zui);var C$zur=$W._DATA.offset,C$zus=C$zut._subIndexBufferStart,C$zua=C$zut._subIndexBufferCount,C$zuo=C$zut._boneIndicesList,C$zuh=$W._readData.getUint16();C$zus.length=C$zuh,C$zua.length=C$zuh,C$zuo.length=C$zuh;for(var C$zul=0;C$zul<C$zuh;C$zul++){C$zus[C$zul]=$W._readData.getUint32(),C$zua[C$zul]=$W._readData.getUint32();var C$zuc=$W._readData.getUint32(),C$zu_=$W._readData.getUint32();C$zuo[C$zul]=new Uint8Array(C$zuu.slice(C$zur+C$zuc,C$zur+C$zuc+C$zu_))}return $W._subMeshes.push(C$zut),!0},$W._strings=[],$W._readData=null,$W._version=null,$W._mesh=null,$W._subMeshes=null,$W._materialMap=null,C$zus($W,["_vertexDeclarationMap_Discard",function(){return this._vertexDeclarationMap_Discard={"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$zuxt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$zuvt.vertexDeclaration,"POSITION,NORMAL,TANGENT,BINORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,":C$zuWt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$zuLt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$zuIt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$zuMt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES":C$zuTt.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$zuVt.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES":C$zuFt.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES,TANGENT":C$zudt.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES":C$zuct.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,TANGENT":C$zubt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1":C$zugt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,TANGENT":C$zuNt.vertexDeclaration,"POSITION,NORMAL,UV,UV1":C$zuAt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,TANGENT":C$zuCt.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT,BINORMAL":C$zuHt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV":C$zumt.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT":C$zuUt.vertexDeclaration,"POSITION,NORMAL,UV":C$zuPt.vertexDeclaration,"POSITION,NORMAL,COLOR,TANGENT":C$zupt.vertexDeclaration,"POSITION,NORMAL,COLOR":C$zuut.vertexDeclaration,"POSITION,NORMAL,TANGENT":C$zuEt.vertexDeclaration,"POSITION,NORMAL":C$zult.vertexDeclaration,"POSITION,UV":C$zuGt.vertexDeclaration,POSITION:C$zuht.vertexDeclaration}},"_vertexDeclarationMap",function(){return this._vertexDeclarationMap={"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$zu$t.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$zuvt.vertexDeclaration,"POSITION,NORMAL,TANGENT,BINORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,":C$zuWt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$zuRt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$zuIt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$zuwt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES":C$zuTt.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$zuOt.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES":C$zuFt.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES,TANGENT":C$zu_t.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES":C$zuct.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,TANGENT":C$zuyt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1":C$zugt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,TANGENT":C$zuBt.vertexDeclaration,"POSITION,NORMAL,UV,UV1":C$zuAt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,TANGENT":C$zuSt.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT,BINORMAL":C$zuHt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV":C$zumt.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT":C$zukt.vertexDeclaration,"POSITION,NORMAL,UV":C$zuPt.vertexDeclaration,"POSITION,NORMAL,COLOR,TANGENT":C$zuft.vertexDeclaration,"POSITION,NORMAL,COLOR":C$zuut.vertexDeclaration,"POSITION,NORMAL,TANGENT":C$zuDt.vertexDeclaration,"POSITION,NORMAL":C$zult.vertexDeclaration,"POSITION,UV":C$zuGt.vertexDeclaration,POSITION:C$zuht.vertexDeclaration}},"_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]),$W),C$zuqt=function(){function $Y(){}return C$zur($Y,"laya.d3.loaders.MeshReader"),$Y.read=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=new C$zu$(C$zut);C$zus.pos=0;var C$zua=C$zus.readUTFString();switch(C$zua){case"LAYAMODEL:01":case"LAYASKINANI:01":$Y._readVersion01(C$zus,C$zua,C$zue,C$zui,C$zun,C$zur);break;case"LAYAMODEL:02":C$zuXt.parse(C$zus,C$zua,C$zue,C$zui,C$zun,C$zur);break;case"LAYAMODEL:03":case"LAYAMODEL:0301":C$zuKt.parse(C$zus,C$zua,C$zue,C$zun,C$zur);break;default:throw new Error("MeshReader: unknown mesh version.")}C$zue._setSubMeshes(C$zun)},$Y._readVersion01=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){new C$zuYt(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus)},$Y}(),C$zujt=function(){function $m(C$zut,C$zue){this.min=null,this.max=null,this.min=C$zut,this.max=C$zue}C$zur($m,"laya.d3.math.BoundBox");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.getCorners=function(C$zut){C$zut.length=8;var C$zue=this.min.elements,C$zui=this.max.elements,C$zun=C$zue[0],C$zur=C$zue[1],C$zue=C$zue[2],C$zus=C$zui[0],C$zua=C$zui[1],C$zui=C$zui[2];C$zut[0]=new C$zuE(C$zun,C$zua,C$zui),C$zut[1]=new C$zuE(C$zus,C$zua,C$zui),C$zut[2]=new C$zuE(C$zus,C$zur,C$zui),C$zut[3]=new C$zuE(C$zun,C$zur,C$zui),C$zut[4]=new C$zuE(C$zun,C$zua,C$zue),C$zut[5]=new C$zuE(C$zus,C$zua,C$zue),C$zut[6]=new C$zuE(C$zus,C$zur,C$zue),C$zut[7]=new C$zuE(C$zun,C$zur,C$zue)},C$zut.toDefault=function(){this.min.toDefault(),this.max.toDefault()},C$zut.cloneTo=function(C$zut){this.min.cloneTo(C$zut.min),this.max.cloneTo(C$zut.max)},C$zut.clone=function(){var C$zut=new this.constructor(new C$zuE,new C$zuE);return this.cloneTo(C$zut),C$zut},$m.createfromPoints=function(C$zut,C$zue){if(null==C$zut)throw new Error("points");var C$zui=C$zue.min,C$zun=C$zue.max,C$zue=C$zui.elements;C$zue[0]=Number.MAX_VALUE,C$zue[1]=Number.MAX_VALUE,C$zue[2]=Number.MAX_VALUE;C$zue=C$zun.elements;C$zue[0]=-Number.MAX_VALUE,C$zue[1]=-Number.MAX_VALUE,C$zue[2]=-Number.MAX_VALUE;for(var C$zur=0,C$zus=C$zut.length;C$zur<C$zus;++C$zur)C$zuE.min(C$zui,C$zut[C$zur],C$zui),C$zuE.max(C$zun,C$zut[C$zur],C$zun)},$m.merge=function(C$zut,C$zue,C$zui){C$zuE.min(C$zut.min,C$zue.min,C$zui.min),C$zuE.max(C$zut.max,C$zue.max,C$zui.max)},$m}(),C$zuZt=function(){function $K(C$zut){this._matrix=null,this._near=null,this._far=null,this._left=null,this._right=null,this._top=null,this._bottom=null,this._matrix=C$zut,this._near=new C$zuie(new C$zuE),this._far=new C$zuie(new C$zuE),this._left=new C$zuie(new C$zuE),this._right=new C$zuie(new C$zuE),this._top=new C$zuie(new C$zuE),this._bottom=new C$zuie(new C$zuE),$K._getPlanesFromMatrix(this._matrix,this._near,this._far,this._left,this._right,this._top,this._bottom)}C$zur($K,"laya.d3.math.BoundFrustum");var C$zut=$K.prototype;return C$zut.equalsBoundFrustum=function(C$zut){return this._matrix.equalsOtherMatrix(C$zut.matrix)},C$zut.equalsObj=function(C$zut){return C$zut instanceof laya.d3.math.BoundFrustum&&this.equalsBoundFrustum(C$zut)},C$zut.getPlane=function(C$zut){switch(C$zut){case 0:return this._near;case 1:return this._far;case 2:return this._left;case 3:return this._right;case 4:return this._top;case 5:return this._bottom;default:return null}},C$zut.getCorners=function(C$zut){$K._get3PlaneInterPoint(this._near,this._bottom,this._right).cloneTo(C$zut[0]),$K._get3PlaneInterPoint(this._near,this._top,this._right).cloneTo(C$zut[1]),$K._get3PlaneInterPoint(this._near,this._top,this._left).cloneTo(C$zut[2]),$K._get3PlaneInterPoint(this._near,this._bottom,this._left).cloneTo(C$zut[3]),$K._get3PlaneInterPoint(this._far,this._bottom,this._right).cloneTo(C$zut[4]),$K._get3PlaneInterPoint(this._far,this._top,this._right).cloneTo(C$zut[5]),$K._get3PlaneInterPoint(this._far,this._top,this._left).cloneTo(C$zut[6]),$K._get3PlaneInterPoint(this._far,this._bottom,this._left).cloneTo(C$zut[7])},C$zut.containsPoint=function(C$zut){for(var C$zue=C$zuie.PlaneIntersectionType_Front,C$zui=C$zuie.PlaneIntersectionType_Front,C$zun=0;C$zun<6;C$zun++){switch(C$zun){case 0:C$zui=Collision.intersectsPlaneAndPoint(this._near,C$zut);break;case 1:C$zui=Collision.intersectsPlaneAndPoint(this._far,C$zut);break;case 2:C$zui=Collision.intersectsPlaneAndPoint(this._left,C$zut);break;case 3:C$zui=Collision.intersectsPlaneAndPoint(this._right,C$zut);break;case 4:C$zui=Collision.intersectsPlaneAndPoint(this._top,C$zut);break;case 5:C$zui=Collision.intersectsPlaneAndPoint(this._bottom,C$zut)}switch(C$zui){case C$zuie.PlaneIntersectionType_Back:return 0;case C$zuie.PlaneIntersectionType_Intersecting:C$zue=C$zuie.PlaneIntersectionType_Intersecting}}return C$zue!==C$zuie.PlaneIntersectionType_Intersecting?1:2},C$zut.containsBoundBox=function(C$zut){for(var C$zue,C$zui=$K._tempV30,C$zun=$K._tempV31,C$zur=1,C$zus=0;C$zus<6;C$zus++){if(C$zue=this.getPlane(C$zus),this._getBoxToPlanePVertexNVertex(C$zut,C$zue.normal,C$zui,C$zun),Collision.intersectsPlaneAndPoint(C$zue,C$zui)===C$zuie.PlaneIntersectionType_Back)return 0;Collision.intersectsPlaneAndPoint(C$zue,C$zun)===C$zuie.PlaneIntersectionType_Back&&(C$zur=2)}return C$zur},C$zut.containsBoundSphere=function(C$zut){for(var C$zue=C$zuie.PlaneIntersectionType_Front,C$zui=C$zuie.PlaneIntersectionType_Front,C$zun=0;C$zun<6;C$zun++){switch(C$zun){case 0:C$zui=Collision.intersectsPlaneAndSphere(this._near,C$zut);break;case 1:C$zui=Collision.intersectsPlaneAndSphere(this._far,C$zut);break;case 2:C$zui=Collision.intersectsPlaneAndSphere(this._left,C$zut);break;case 3:C$zui=Collision.intersectsPlaneAndSphere(this._right,C$zut);break;case 4:C$zui=Collision.intersectsPlaneAndSphere(this._top,C$zut);break;case 5:C$zui=Collision.intersectsPlaneAndSphere(this._bottom,C$zut)}switch(C$zui){case C$zuie.PlaneIntersectionType_Back:return 0;case C$zuie.PlaneIntersectionType_Intersecting:C$zue=C$zuie.PlaneIntersectionType_Intersecting}}return C$zue!==C$zuie.PlaneIntersectionType_Intersecting?1:2},C$zut._getBoxToPlanePVertexNVertex=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut.min,C$zus=C$zur.elements,C$zut=C$zut.max,C$zua=C$zut.elements,C$zue=C$zue.elements,C$zuo=C$zue[0],C$zuh=C$zue[1],C$zue=C$zue[2];C$zur.cloneTo(C$zui);C$zur=C$zui.elements;0<=C$zuo&&(C$zur[0]=C$zua[0]),0<=C$zuh&&(C$zur[1]=C$zua[1]),0<=C$zue&&(C$zur[2]=C$zua[2]),C$zut.cloneTo(C$zun);C$zui=C$zun.elements;0<=C$zuo&&(C$zui[0]=C$zus[0]),0<=C$zuh&&(C$zui[1]=C$zus[1]),0<=C$zue&&(C$zui[2]=C$zus[2])},C$zuo(0,C$zut,"top",function(){return this._top}),C$zuo(0,C$zut,"matrix",function(){return this._matrix},function(C$zut){this._matrix=C$zut,$K._getPlanesFromMatrix(this._matrix,this._near,this._far,this._left,this._right,this._top,this._bottom)}),C$zuo(0,C$zut,"near",function(){return this._near}),C$zuo(0,C$zut,"far",function(){return this._far}),C$zuo(0,C$zut,"left",function(){return this._left}),C$zuo(0,C$zut,"right",function(){return this._right}),C$zuo(0,C$zut,"bottom",function(){return this._bottom}),$K._getPlanesFromMatrix=function(C$zut,C$zue,C$zui,C$zun,C$zuu,C$zuc,C$zu_){var C$zut=C$zut.elements,C$zud=C$zut[0],C$zuf=C$zut[1],C$zur=C$zut[2],C$zus=C$zut[3],C$zup=C$zut[4],C$zum=C$zut[5],C$zua=C$zut[6],C$zuo=C$zut[7],C$zug=C$zut[8],C$zuv=C$zut[9],C$zu$=C$zut[10],C$zuh=C$zut[11],C$zux=C$zut[12],C$zuy=C$zut[13],C$zub=C$zut[14],C$zut=C$zut[15],C$zul=C$zue.normal.elements;C$zul[0]=C$zus+C$zur,C$zul[1]=C$zuo+C$zua,C$zul[2]=C$zuh+C$zu$,C$zue.distance=C$zut+C$zub,C$zue.normalize();C$zul=C$zui.normal.elements;C$zul[0]=C$zus-C$zur,C$zul[1]=C$zuo-C$zua,C$zul[2]=C$zuh-C$zu$,C$zui.distance=C$zut-C$zub,C$zui.normalize();C$zue=C$zun.normal.elements;C$zue[0]=C$zus+C$zud,C$zue[1]=C$zuo+C$zup,C$zue[2]=C$zuh+C$zug,C$zun.distance=C$zut+C$zux,C$zun.normalize();C$zur=C$zuu.normal.elements;C$zur[0]=C$zus-C$zud,C$zur[1]=C$zuo-C$zup,C$zur[2]=C$zuh-C$zug,C$zuu.distance=C$zut-C$zux,C$zuu.normalize();C$zua=C$zuc.normal.elements;C$zua[0]=C$zus-C$zuf,C$zua[1]=C$zuo-C$zum,C$zua[2]=C$zuh-C$zuv,C$zuc.distance=C$zut-C$zuy,C$zuc.normalize();C$zul=C$zu_.normal.elements;C$zul[0]=C$zus+C$zuf,C$zul[1]=C$zuo+C$zum,C$zul[2]=C$zuh+C$zuv,C$zu_.distance=C$zut+C$zuy,C$zu_.normalize()},$K._get3PlaneInterPoint=function(C$zut,C$zue,C$zui){var C$zun=C$zut.normal,C$zur=C$zue.normal,C$zus=C$zui.normal;C$zuE.cross(C$zur,C$zus,$K._tempV30),C$zuE.cross(C$zus,C$zun,$K._tempV31),C$zuE.cross(C$zun,C$zur,$K._tempV32);C$zun=C$zuE.dot(C$zun,$K._tempV30),C$zur=C$zuE.dot(C$zur,$K._tempV31),C$zus=C$zuE.dot(C$zus,$K._tempV32);return C$zuE.scale($K._tempV30,-C$zut.distance/C$zun,$K._tempV33),C$zuE.scale($K._tempV31,-C$zue.distance/C$zur,$K._tempV34),C$zuE.scale($K._tempV32,-C$zui.distance/C$zus,$K._tempV35),C$zuE.add($K._tempV33,$K._tempV34,$K._tempV36),C$zuE.add($K._tempV35,$K._tempV36,$K._tempV37),$K._tempV37},C$zus($K,["_tempV30",function(){return this._tempV30=new C$zuE},"_tempV31",function(){return this._tempV31=new C$zuE},"_tempV32",function(){return this._tempV32=new C$zuE},"_tempV33",function(){return this._tempV33=new C$zuE},"_tempV34",function(){return this._tempV34=new C$zuE},"_tempV35",function(){return this._tempV35=new C$zuE},"_tempV36",function(){return this._tempV36=new C$zuE},"_tempV37",function(){return this._tempV37=new C$zuE}]),$K}(),C$zuQt=(C$zur($D,"laya.d3.math.BoundSphere"),C$zut=$D.prototype,C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.toDefault=function(){this.center.toDefault(),this.radius=0},C$zut.intersectsRayDistance=function(C$zut){return Collision.intersectsRayAndSphereRD(C$zut,this)},C$zut.intersectsRayPoint=function(C$zut,C$zue){return Collision.intersectsRayAndSphereRP(C$zut,this,C$zue)},C$zut.cloneTo=function(C$zut){this.center.cloneTo(C$zut.center),C$zut.radius=this.radius},C$zut.clone=function(){var C$zut=new this.constructor(new C$zuE,new C$zuE);return this.cloneTo(C$zut),C$zut},$D.createFromSubPoints=function(C$zut,C$zue,C$zui,C$zun){if(null==C$zut)throw new Error("points");if(C$zue<0||C$zue>=C$zut.length)throw new Error("start"+C$zue+"Must be in the range [0, "+(C$zut.length-1)+"]");if(C$zui<0||C$zue+C$zui>C$zut.length)throw new Error("count"+C$zui+"Must be in the range <= "+C$zut.length+"}");var C$zur=C$zue+C$zui,C$zus=$D._tempVector3;C$zus.elements[0]=0,C$zus.elements[1]=0,C$zus.elements[2]=0;for(var C$zua=C$zue;C$zua<C$zur;++C$zua)C$zuE.add(C$zut[C$zua],C$zus,C$zus);var C$zuo=C$zun.center;C$zuE.scale(C$zus,1/C$zui,C$zuo);var C$zuh=0;for(C$zua=C$zue;C$zua<C$zur;++C$zua){var C$zul=C$zuE.distanceSquared(C$zuo,C$zut[C$zua]);C$zuh<C$zul&&(C$zuh=C$zul)}C$zun.radius=Math.sqrt(C$zuh)},$D.createfromPoints=function(C$zut,C$zue){if(null==C$zut)throw new Error("points");$D.createFromSubPoints(C$zut,0,C$zut.length,C$zue)},C$zus($D,["_tempVector3",function(){return this._tempVector3=new C$zuE}]),$D),C$zuJt=(function(){function $m(){}C$zur($m,"laya.d3.math.ContainmentType"),$m.Disjoint=0,$m.Contains=1,$m.Intersects=2}(),C$zur($h,"laya.d3.math.MathUtils3D"),$h.isZero=function(C$zut){return Math.abs(C$zut)<$h.zeroTolerance},$h.nearEqual=function(C$zut,C$zue){return!!$h.isZero(C$zut-C$zue)},$h.fastInvSqrt=function(C$zut){return $h.isZero(C$zut)?C$zut:1/Math.sqrt(C$zut)},C$zus($h,["zeroTolerance",function(){return this.zeroTolerance=1e-6},"MaxValue",function(){return this.MaxValue=340282347e30},"MinValue",function(){return this.MinValue=-340282347e30}]),$h),C$zute=(C$zur($d,"laya.d3.math.Matrix3x3"),C$zut=$d.prototype,C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.determinant=function(){var C$zut=this.elements,C$zue=C$zut[0],C$zui=C$zut[1],C$zun=C$zut[2],C$zur=C$zut[3],C$zus=C$zut[4],C$zua=C$zut[5],C$zuo=C$zut[6],C$zuh=C$zut[7],C$zut=C$zut[8];return C$zue*(C$zut*C$zus-C$zua*C$zuh)+C$zui*(-C$zut*C$zur+C$zua*C$zuo)+C$zun*(C$zuh*C$zur-C$zus*C$zuo)},C$zut.translate=function(C$zut,C$zue){var C$zue=C$zue.elements,C$zui=this.elements,C$zut=C$zut.elements,C$zun=C$zui[0],C$zur=C$zui[1],C$zus=C$zui[2],C$zua=C$zui[3],C$zuo=C$zui[4],C$zuh=C$zui[5],C$zuu=C$zui[6],C$zuc=C$zui[7],C$zui=C$zui[8],C$zul=C$zut[0],C$zut=C$zut[1];C$zue[0]=C$zun,C$zue[1]=C$zur,C$zue[2]=C$zus,C$zue[3]=C$zua,C$zue[4]=C$zuo,C$zue[5]=C$zuh,C$zue[6]=C$zul*C$zun+C$zut*C$zua+C$zuu,C$zue[7]=C$zul*C$zur+C$zut*C$zuo+C$zuc,C$zue[8]=C$zul*C$zus+C$zut*C$zuh+C$zui},C$zut.rotate=function(C$zut,C$zue){var C$zue=C$zue.elements,C$zui=this.elements,C$zun=C$zui[0],C$zur=C$zui[1],C$zus=C$zui[2],C$zua=C$zui[3],C$zuo=C$zui[4],C$zuh=C$zui[5],C$zuu=C$zui[6],C$zuc=C$zui[7],C$zui=C$zui[8],C$zul=Math.sin(C$zut),C$zut=Math.cos(C$zut);C$zue[0]=C$zut*C$zun+C$zul*C$zua,C$zue[1]=C$zut*C$zur+C$zul*C$zuo,C$zue[2]=C$zut*C$zus+C$zul*C$zuh,C$zue[3]=C$zut*C$zua-C$zul*C$zun,C$zue[4]=C$zut*C$zuo-C$zul*C$zur,C$zue[5]=C$zut*C$zuh-C$zul*C$zus,C$zue[6]=C$zuu,C$zue[7]=C$zuc,C$zue[8]=C$zui},C$zut.scale=function(C$zut,C$zue){var C$zue=C$zue.elements,C$zui=this.elements,C$zut=C$zut.elements,C$zun=C$zut[0],C$zut=C$zut[1];C$zue[0]=C$zun*C$zui[0],C$zue[1]=C$zun*C$zui[1],C$zue[2]=C$zun*C$zui[2],C$zue[3]=C$zut*C$zui[3],C$zue[4]=C$zut*C$zui[4],C$zue[5]=C$zut*C$zui[5],C$zue[6]=C$zui[6],C$zue[7]=C$zui[7],C$zue[8]=C$zui[8]},C$zut.invert=function(C$zuu){var C$zut=C$zuu.elements,C$zue=this.elements,C$zui=C$zue[0],C$zun=C$zue[1],C$zur=C$zue[2],C$zus=C$zue[3],C$zua=C$zue[4],C$zuo=C$zue[5],C$zuh=C$zue[6],C$zuc=C$zue[7],C$zue=C$zue[8],C$zu_=C$zue*C$zua-C$zuo*C$zuc,C$zud=-C$zue*C$zus+C$zuo*C$zuh,C$zuf=C$zuc*C$zus-C$zua*C$zuh,C$zul=C$zui*C$zu_+C$zun*C$zud+C$zur*C$zuf;C$zul||(C$zuu=null),C$zut[0]=C$zu_*(C$zul=1/C$zul),C$zut[1]=(-C$zue*C$zun+C$zur*C$zuc)*C$zul,C$zut[2]=(C$zuo*C$zun-C$zur*C$zua)*C$zul,C$zut[3]=C$zud*C$zul,C$zut[4]=(C$zue*C$zui-C$zur*C$zuh)*C$zul,C$zut[5]=(-C$zuo*C$zui+C$zur*C$zus)*C$zul,C$zut[6]=C$zuf*C$zul,C$zut[7]=(-C$zuc*C$zui+C$zun*C$zuh)*C$zul,C$zut[8]=(C$zua*C$zui-C$zun*C$zus)*C$zul},C$zut.transpose=function(C$zut){var C$zue=C$zut.elements,C$zui=this.elements;var C$zun,C$zur;C$zut===this?(C$zut=C$zui[1],C$zun=C$zui[2],C$zur=C$zui[5],C$zue[1]=C$zui[3],C$zue[2]=C$zui[6],C$zue[3]=C$zut,C$zue[5]=C$zui[7],C$zue[6]=C$zun,C$zue[7]=C$zur):(C$zue[0]=C$zui[0],C$zue[1]=C$zui[3],C$zue[2]=C$zui[6],C$zue[3]=C$zui[1],C$zue[4]=C$zui[4],C$zue[5]=C$zui[7],C$zue[6]=C$zui[2],C$zue[7]=C$zui[5],C$zue[8]=C$zui[8])},C$zut.identity=function(){var C$zut=this.elements;C$zut[0]=1,C$zut[1]=0,C$zut[2]=0,C$zut[3]=0,C$zut[4]=1,C$zut[5]=0,C$zut[6]=0,C$zut[7]=0,C$zut[8]=1},C$zut.cloneTo=function(C$zut){var C$zue,C$zui,C$zun;if((C$zui=this.elements)!==(C$zun=C$zut.elements))for(C$zue=0;C$zue<9;++C$zue)C$zun[C$zue]=C$zui[C$zue]},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},$d.createFromTranslation=function(C$zut,C$zue){C$zue.elements;C$zut=C$zut.elements;C$zue[0]=1,C$zue[1]=0,C$zue[2]=0,C$zue[3]=0,C$zue[4]=1,C$zue[5]=0,C$zue[6]=C$zut[0],C$zue[7]=C$zut[1],C$zue[8]=1},$d.createFromRotation=function(C$zut,C$zue){var C$zue=C$zue.elements,C$zui=Math.sin(C$zut),C$zut=Math.cos(C$zut);C$zue[0]=C$zut,C$zue[1]=C$zui,C$zue[2]=0,C$zue[3]=-C$zui,C$zue[4]=C$zut,C$zue[5]=0,C$zue[6]=0,C$zue[7]=0,C$zue[8]=1},$d.createFromScaling=function(C$zut,C$zue){C$zue=C$zue.elements,C$zut=C$zut.elements;C$zue[0]=C$zut[0],C$zue[1]=0,C$zue[2]=0,C$zue[3]=0,C$zue[4]=C$zut[1],C$zue[5]=0,C$zue[6]=0,C$zue[7]=0,C$zue[8]=1},$d.createFromMatrix4x4=function(C$zut,C$zue){C$zue[0]=C$zut[0],C$zue[1]=C$zut[1],C$zue[2]=C$zut[2],C$zue[3]=C$zut[4],C$zue[4]=C$zut[5],C$zue[5]=C$zut[6],C$zue[6]=C$zut[8],C$zue[7]=C$zut[9],C$zue[8]=C$zut[10]},$d.multiply=function(C$zut,C$zue,C$zui){var C$zui=C$zui.elements,C$zut=C$zut.elements,C$zue=C$zue.elements,C$zun=C$zut[0],C$zur=C$zut[1],C$zus=C$zut[2],C$zua=C$zut[3],C$zuo=C$zut[4],C$zuh=C$zut[5],C$zul=C$zut[6],C$zuu=C$zut[7],C$zut=C$zut[8],C$zuc=C$zue[0],C$zu_=C$zue[1],C$zud=C$zue[2],C$zuf=C$zue[3],C$zup=C$zue[4],C$zum=C$zue[5],C$zug=C$zue[6],C$zuv=C$zue[7],C$zue=C$zue[8];C$zui[0]=C$zuc*C$zun+C$zu_*C$zua+C$zud*C$zul,C$zui[1]=C$zuc*C$zur+C$zu_*C$zuo+C$zud*C$zuu,C$zui[2]=C$zuc*C$zus+C$zu_*C$zuh+C$zud*C$zut,C$zui[3]=C$zuf*C$zun+C$zup*C$zua+C$zum*C$zul,C$zui[4]=C$zuf*C$zur+C$zup*C$zuo+C$zum*C$zuu,C$zui[5]=C$zuf*C$zus+C$zup*C$zuh+C$zum*C$zut,C$zui[6]=C$zug*C$zun+C$zuv*C$zua+C$zue*C$zul,C$zui[7]=C$zug*C$zur+C$zuv*C$zuo+C$zue*C$zuu,C$zui[8]=C$zug*C$zus+C$zuv*C$zuh+C$zue*C$zut},$d.lookAt=function(C$zut,C$zue,C$zui,C$zun){C$zuE.subtract(C$zut,C$zue,$d._tempV30),C$zuE.normalize($d._tempV30,$d._tempV30),C$zuE.cross(C$zui,$d._tempV30,$d._tempV31),C$zuE.normalize($d._tempV31,$d._tempV31),C$zuE.cross($d._tempV30,$d._tempV31,$d._tempV32);C$zut=$d._tempV30.elements,C$zue=$d._tempV31.elements,C$zui=$d._tempV32.elements,C$zun=C$zun.elements;C$zun[0]=C$zue[0],C$zun[3]=C$zue[1],C$zun[6]=C$zue[2],C$zun[1]=C$zui[0],C$zun[4]=C$zui[1],C$zun[7]=C$zui[2],C$zun[2]=C$zut[0],C$zun[5]=C$zut[1],C$zun[8]=C$zut[2]},$d.DEFAULT=new $d,C$zus($d,["_tempV30",function(){return this._tempV30=new C$zuE},"_tempV31",function(){return this._tempV31=new C$zuE},"_tempV32",function(){return this._tempV32=new C$zuE}]),$d),C$zuee=(C$zur($b,"laya.d3.math.Matrix4x4"),C$zut=$b.prototype,C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.getElementByRowColumn=function(C$zut,C$zue){if(C$zut<0||3<C$zut)throw new Error("row","Rows and columns for matrices run from 0 to 3, inclusive.");if(C$zue<0||3<C$zue)throw new Error("column","Rows and columns for matrices run from 0 to 3, inclusive.");return this.elements[4*C$zut+C$zue]},C$zut.setElementByRowColumn=function(C$zut,C$zue,C$zui){if(C$zut<0||3<C$zut)throw new Error("row","Rows and columns for matrices run from 0 to 3, inclusive.");if(C$zue<0||3<C$zue)throw new Error("column","Rows and columns for matrices run from 0 to 3, inclusive.");this.elements[4*C$zut+C$zue]=C$zui},C$zut.equalsOtherMatrix=function(C$zut){var C$zue=this.elements,C$zut=C$zut.elements;return C$zuJt.nearEqual(C$zue[0],C$zut[0])&&C$zuJt.nearEqual(C$zue[1],C$zut[1])&&C$zuJt.nearEqual(C$zue[2],C$zut[2])&&C$zuJt.nearEqual(C$zue[3],C$zut[3])&&C$zuJt.nearEqual(C$zue[4],C$zut[4])&&C$zuJt.nearEqual(C$zue[5],C$zut[5])&&C$zuJt.nearEqual(C$zue[6],C$zut[6])&&C$zuJt.nearEqual(C$zue[7],C$zut[7])&&C$zuJt.nearEqual(C$zue[8],C$zut[8])&&C$zuJt.nearEqual(C$zue[9],C$zut[9])&&C$zuJt.nearEqual(C$zue[10],C$zut[10])&&C$zuJt.nearEqual(C$zue[11],C$zut[11])&&C$zuJt.nearEqual(C$zue[12],C$zut[12])&&C$zuJt.nearEqual(C$zue[13],C$zut[13])&&C$zuJt.nearEqual(C$zue[14],C$zut[14])&&C$zuJt.nearEqual(C$zue[15],C$zut[15])},C$zut.decomposeTransRotScale=function(C$zut,C$zue,C$zui){var C$zun=$b._tempMatrix4x4;return this.decomposeTransRotMatScale(C$zut,C$zun,C$zui)?(C$zune.createFromMatrix4x4(C$zun,C$zue),!0):(C$zue.identity(),!1)},C$zut.decomposeTransRotMatScale=function(C$zut,C$zue,C$zui){var C$zun=this.elements,C$zut=C$zut.elements,C$zue=C$zue.elements,C$zui=C$zui.elements;C$zut[0]=C$zun[12],C$zut[1]=C$zun[13],C$zut[2]=C$zun[14];var C$zut=C$zun[0],C$zur=C$zun[1],C$zuu=C$zun[2],C$zuc=C$zun[4],C$zu_=C$zun[5],C$zud=C$zun[6],C$zuf=C$zun[8],C$zup=C$zun[9],C$zun=C$zun[10],C$zus=C$zui[0]=Math.sqrt(C$zut*C$zut+C$zur*C$zur+C$zuu*C$zuu),C$zum=C$zui[1]=Math.sqrt(C$zuc*C$zuc+C$zu_*C$zu_+C$zud*C$zud),C$zua=C$zui[2]=Math.sqrt(C$zuf*C$zuf+C$zup*C$zup+C$zun*C$zun);if(C$zuJt.isZero(C$zus)||C$zuJt.isZero(C$zum)||C$zuJt.isZero(C$zua))return C$zue[1]=C$zue[2]=C$zue[3]=C$zue[4]=C$zue[6]=C$zue[7]=C$zue[8]=C$zue[9]=C$zue[11]=C$zue[12]=C$zue[13]=C$zue[14]=0,!(C$zue[0]=C$zue[5]=C$zue[10]=C$zue[15]=1);var C$zuo=$b._tempVector0,C$zuh=C$zuo.elements;C$zuh[0]=C$zuf/C$zua,C$zuh[1]=C$zup/C$zua,C$zuh[2]=C$zun/C$zua;var C$zuh=$b._tempVector1,C$zul=C$zuh.elements;C$zul[0]=C$zut/C$zus,C$zul[1]=C$zur/C$zus,C$zul[2]=C$zuu/C$zus;C$zul=$b._tempVector2;C$zuE.cross(C$zuo,C$zuh,C$zul);C$zuh=$b._tempVector1;return C$zuE.cross(C$zul,C$zuo,C$zuh),C$zue[3]=C$zue[7]=C$zue[11]=C$zue[12]=C$zue[13]=C$zue[14]=0,C$zue[15]=1,C$zue[0]=C$zuh.x,C$zue[1]=C$zuh.y,C$zue[2]=C$zuh.z,C$zue[4]=C$zul.x,C$zue[5]=C$zul.y,C$zue[6]=C$zul.z,C$zue[8]=C$zuo.x,C$zue[9]=C$zuo.y,C$zue[10]=C$zuo.z,C$zue[0]*C$zut+C$zue[1]*C$zur+C$zue[2]*C$zuu<0&&(C$zui[0]=-C$zus),C$zue[4]*C$zuc+C$zue[5]*C$zu_+C$zue[6]*C$zud<0&&(C$zui[1]=-C$zum),C$zue[8]*C$zuf+C$zue[9]*C$zup+C$zue[10]*C$zun<0&&(C$zui[2]=-C$zua),!0},C$zut.decomposeYawPitchRoll=function(C$zut){var C$zut=C$zut.elements,C$zue=Math.asin(-this.elements[9]);C$zut[1]=C$zue,Math.cos(C$zue)>C$zuJt.zeroTolerance?(C$zut[2]=Math.atan2(this.elements[1],this.elements[5]),C$zut[0]=Math.atan2(this.elements[8],this.elements[10])):(C$zut[2]=Math.atan2(-this.elements[4],this.elements[0]),C$zut[0]=0)},C$zut.normalize=function(){var C$zut=this.elements,C$zue=C$zut[0],C$zui=C$zut[1],C$zun=C$zut[2],C$zur=Math.sqrt(C$zue*C$zue+C$zui*C$zui+C$zun*C$zun);if(!C$zur)return C$zut[0]=0,C$zut[1]=0,void(C$zut[2]=0);1!=C$zur&&(C$zut[0]=C$zue*(C$zur=1/C$zur),C$zut[1]=C$zui*C$zur,C$zut[2]=C$zun*C$zur)},C$zut.transpose=function(){var C$zut,C$zue;return C$zue=(C$zut=this.elements)[1],C$zut[1]=C$zut[4],C$zut[4]=C$zue,C$zue=C$zut[2],C$zut[2]=C$zut[8],C$zut[8]=C$zue,C$zue=C$zut[3],C$zut[3]=C$zut[12],C$zut[12]=C$zue,C$zue=C$zut[6],C$zut[6]=C$zut[9],C$zut[9]=C$zue,C$zue=C$zut[7],C$zut[7]=C$zut[13],C$zut[13]=C$zue,C$zue=C$zut[11],C$zut[11]=C$zut[14],C$zut[14]=C$zue,this},C$zut.invert=function(C$zut){var C$zue=this.elements,C$zut=C$zut.elements,C$zui=C$zue[0],C$zun=C$zue[1],C$zur=C$zue[2],C$zus=C$zue[3],C$zua=C$zue[4],C$zuo=C$zue[5],C$zuh=C$zue[6],C$zuu=C$zue[7],C$zuc=C$zue[8],C$zu_=C$zue[9],C$zud=C$zue[10],C$zuf=C$zue[11],C$zup=C$zue[12],C$zum=C$zue[13],C$zug=C$zue[14],C$zue=C$zue[15],C$zuv=C$zui*C$zuo-C$zun*C$zua,C$zu$=C$zui*C$zuh-C$zur*C$zua,C$zux=C$zui*C$zuu-C$zus*C$zua,C$zuy=C$zun*C$zuh-C$zur*C$zuo,C$zub=C$zun*C$zuu-C$zus*C$zuo,C$zuT=C$zur*C$zuu-C$zus*C$zuh,C$zuw=C$zuc*C$zum-C$zu_*C$zup,C$zuM=C$zuc*C$zug-C$zud*C$zup,C$zuS=C$zuc*C$zue-C$zuf*C$zup,C$zuC=C$zu_*C$zug-C$zud*C$zum,C$zuD=C$zu_*C$zue-C$zuf*C$zum,C$zuE=C$zud*C$zue-C$zuf*C$zug,C$zul=C$zuv*C$zuE-C$zu$*C$zuD+C$zux*C$zuC+C$zuy*C$zuS-C$zub*C$zuM+C$zuT*C$zuw;0!==Math.abs(C$zul)&&(C$zut[0]=(C$zuo*C$zuE-C$zuh*C$zuD+C$zuu*C$zuC)*(C$zul=1/C$zul),C$zut[1]=(C$zur*C$zuD-C$zun*C$zuE-C$zus*C$zuC)*C$zul,C$zut[2]=(C$zum*C$zuT-C$zug*C$zub+C$zue*C$zuy)*C$zul,C$zut[3]=(C$zud*C$zub-C$zu_*C$zuT-C$zuf*C$zuy)*C$zul,C$zut[4]=(C$zuh*C$zuS-C$zua*C$zuE-C$zuu*C$zuM)*C$zul,C$zut[5]=(C$zui*C$zuE-C$zur*C$zuS+C$zus*C$zuM)*C$zul,C$zut[6]=(C$zug*C$zux-C$zup*C$zuT-C$zue*C$zu$)*C$zul,C$zut[7]=(C$zuc*C$zuT-C$zud*C$zux+C$zuf*C$zu$)*C$zul,C$zut[8]=(C$zua*C$zuD-C$zuo*C$zuS+C$zuu*C$zuw)*C$zul,C$zut[9]=(C$zun*C$zuS-C$zui*C$zuD-C$zus*C$zuw)*C$zul,C$zut[10]=(C$zup*C$zub-C$zum*C$zux+C$zue*C$zuv)*C$zul,C$zut[11]=(C$zu_*C$zux-C$zuc*C$zub-C$zuf*C$zuv)*C$zul,C$zut[12]=(C$zuo*C$zuM-C$zua*C$zuC-C$zuh*C$zuw)*C$zul,C$zut[13]=(C$zui*C$zuC-C$zun*C$zuM+C$zur*C$zuw)*C$zul,C$zut[14]=(C$zum*C$zu$-C$zup*C$zuy-C$zug*C$zuv)*C$zul,C$zut[15]=(C$zuc*C$zuy-C$zu_*C$zu$+C$zud*C$zuv)*C$zul)},C$zut.identity=function(){var C$zut=this.elements;C$zut[1]=C$zut[2]=C$zut[3]=C$zut[4]=C$zut[6]=C$zut[7]=C$zut[8]=C$zut[9]=C$zut[11]=C$zut[12]=C$zut[13]=C$zut[14]=0,C$zut[0]=C$zut[5]=C$zut[10]=C$zut[15]=1},C$zut.cloneTo=function(C$zut){var C$zue,C$zui,C$zun;if((C$zui=this.elements)!==(C$zun=C$zut.elements))for(C$zue=0;C$zue<16;++C$zue)C$zun[C$zue]=C$zui[C$zue]},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zut.getTranslationVector=function(C$zut){var C$zue=this.elements,C$zut=C$zut.elements;C$zut[0]=C$zue[12],C$zut[1]=C$zue[13],C$zut[2]=C$zue[14]},C$zut.setTranslationVector=function(C$zut){var C$zue=this.elements,C$zut=C$zut.elements;C$zue[12]=C$zut[0],C$zue[13]=C$zut[1],C$zue[14]=C$zut[2]},C$zut.getForward=function(C$zut){var C$zue=this.elements,C$zut=C$zut.elements;C$zut[0]=-C$zue[8],C$zut[1]=-C$zue[9],C$zut[2]=-C$zue[10]},C$zut.setForward=function(C$zut){var C$zue=this.elements,C$zut=C$zut.elements;C$zue[8]=-C$zut[0],C$zue[9]=-C$zut[1],C$zue[10]=-C$zut[2]},$b.createRotationX=function(C$zut,C$zue){var C$zue=C$zue.elements,C$zui=Math.sin(C$zut),C$zut=Math.cos(C$zut);C$zue[1]=C$zue[2]=C$zue[3]=C$zue[4]=C$zue[7]=C$zue[8]=C$zue[11]=C$zue[12]=C$zue[13]=C$zue[14]=0,C$zue[0]=C$zue[15]=1,C$zue[5]=C$zue[10]=C$zut,C$zue[6]=C$zui,C$zue[9]=-C$zui},$b.createRotationY=function(C$zut,C$zue){var C$zue=C$zue.elements,C$zui=Math.sin(C$zut),C$zut=Math.cos(C$zut);C$zue[1]=C$zue[3]=C$zue[4]=C$zue[6]=C$zue[7]=C$zue[9]=C$zue[11]=C$zue[12]=C$zue[13]=C$zue[14]=0,C$zue[5]=C$zue[15]=1,C$zue[0]=C$zue[10]=C$zut,C$zue[2]=-C$zui,C$zue[8]=C$zui},$b.createRotationZ=function(C$zut,C$zue){var C$zue=C$zue.elements,C$zui=Math.sin(C$zut),C$zut=Math.cos(C$zut);C$zue[2]=C$zue[3]=C$zue[6]=C$zue[7]=C$zue[8]=C$zue[9]=C$zue[11]=C$zue[12]=C$zue[13]=C$zue[14]=0,C$zue[10]=C$zue[15]=1,C$zue[0]=C$zue[5]=C$zut,C$zue[1]=C$zui,C$zue[4]=-C$zui},$b.createRotationYawPitchRoll=function(C$zut,C$zue,C$zui,C$zun){C$zune.createFromYawPitchRoll(C$zut,C$zue,C$zui,$b._tempQuaternion),$b.createRotationQuaternion($b._tempQuaternion,C$zun)},$b.createRotationAxis=function(C$zut,C$zue,C$zui){var C$zut=C$zut.elements,C$zun=C$zut[0],C$zur=C$zut[1],C$zut=C$zut[2],C$zus=Math.cos(C$zue),C$zue=Math.sin(C$zue),C$zua=C$zun*C$zun,C$zuu=C$zur*C$zur,C$zuc=C$zut*C$zut,C$zuo=C$zun*C$zur,C$zuh=C$zun*C$zut,C$zul=C$zur*C$zut,C$zui=C$zui.elements;C$zui[3]=C$zui[7]=C$zui[11]=C$zui[12]=C$zui[13]=C$zui[14]=0,C$zui[15]=1,C$zui[0]=C$zua+C$zus*(1-C$zua),C$zui[1]=C$zuo-C$zus*C$zuo+C$zue*C$zut,C$zui[2]=C$zuh-C$zus*C$zuh-C$zue*C$zur,C$zui[4]=C$zuo-C$zus*C$zuo-C$zue*C$zut,C$zui[5]=C$zuu+C$zus*(1-C$zuu),C$zui[6]=C$zul-C$zus*C$zul+C$zue*C$zun,C$zui[8]=C$zuh-C$zus*C$zuh+C$zue*C$zur,C$zui[9]=C$zul-C$zus*C$zul-C$zue*C$zun,C$zui[10]=C$zuc+C$zus*(1-C$zuc)},$b.createRotationQuaternion=function(C$zut,C$zue){var C$zut=C$zut.elements,C$zue=C$zue.elements,C$zui=C$zut[0],C$zun=C$zut[1],C$zur=C$zut[2],C$zut=C$zut[3],C$zus=C$zui*C$zui,C$zua=C$zun*C$zun,C$zuo=C$zur*C$zur,C$zuh=C$zui*C$zun,C$zul=C$zur*C$zut,C$zuu=C$zur*C$zui,C$zuc=C$zun*C$zut,C$zun=C$zun*C$zur,C$zur=C$zui*C$zut;C$zue[3]=C$zue[7]=C$zue[11]=C$zue[12]=C$zue[13]=C$zue[14]=0,C$zue[15]=1,C$zue[0]=1-2*(C$zua+C$zuo),C$zue[1]=2*(C$zuh+C$zul),C$zue[2]=2*(C$zuu-C$zuc),C$zue[4]=2*(C$zuh-C$zul),C$zue[5]=1-2*(C$zuo+C$zus),C$zue[6]=2*(C$zun+C$zur),C$zue[8]=2*(C$zuu+C$zuc),C$zue[9]=2*(C$zun-C$zur),C$zue[10]=1-2*(C$zua+C$zus)},$b.createTranslate=function(C$zut,C$zue){C$zut=C$zut.elements,C$zue=C$zue.elements;C$zue[4]=C$zue[8]=C$zue[1]=C$zue[9]=C$zue[2]=C$zue[6]=C$zue[3]=C$zue[7]=C$zue[11]=0,C$zue[0]=C$zue[5]=C$zue[10]=C$zue[15]=1,C$zue[12]=C$zut[0],C$zue[13]=C$zut[1],C$zue[14]=C$zut[2]},$b.createScaling=function(C$zut,C$zue){C$zut=C$zut.elements,C$zue=C$zue.elements;C$zue[0]=C$zut[0],C$zue[5]=C$zut[1],C$zue[10]=C$zut[2],C$zue[1]=C$zue[4]=C$zue[8]=C$zue[12]=C$zue[9]=C$zue[13]=C$zue[2]=C$zue[6]=C$zue[14]=C$zue[3]=C$zue[7]=C$zue[11]=0,C$zue[15]=1},$b.multiply=function(C$zut,C$zue,C$zuu){var C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul;for(C$zun=C$zuu.elements,C$zur=C$zut.elements,C$zun===(C$zus=C$zue.elements)&&(C$zus=C$zus.slice()),C$zui=0;C$zui<4;C$zui++)C$zua=C$zur[C$zui],C$zuo=C$zur[C$zui+4],C$zuh=C$zur[C$zui+8],C$zul=C$zur[C$zui+12],C$zun[C$zui]=C$zua*C$zus[0]+C$zuo*C$zus[1]+C$zuh*C$zus[2]+C$zul*C$zus[3],C$zun[C$zui+4]=C$zua*C$zus[4]+C$zuo*C$zus[5]+C$zuh*C$zus[6]+C$zul*C$zus[7],C$zun[C$zui+8]=C$zua*C$zus[8]+C$zuo*C$zus[9]+C$zuh*C$zus[10]+C$zul*C$zus[11],C$zun[C$zui+12]=C$zua*C$zus[12]+C$zuo*C$zus[13]+C$zuh*C$zus[14]+C$zul*C$zus[15]},$b.createFromQuaternion=function(C$zut,C$zue){var C$zue=C$zue.elements,C$zut=C$zut.elements,C$zui=C$zut[0],C$zun=C$zut[1],C$zur=C$zut[2],C$zut=C$zut[3],C$zus=C$zui+C$zui,C$zua=C$zun+C$zun,C$zuo=C$zur+C$zur,C$zui=C$zui*C$zus,C$zuh=C$zun*C$zus,C$zun=C$zun*C$zua,C$zul=C$zur*C$zus,C$zuu=C$zur*C$zua,C$zur=C$zur*C$zuo,C$zus=C$zut*C$zus,C$zua=C$zut*C$zua,C$zut=C$zut*C$zuo;C$zue[0]=1-C$zun-C$zur,C$zue[1]=C$zuh+C$zut,C$zue[2]=C$zul-C$zua,C$zue[3]=0,C$zue[4]=C$zuh-C$zut,C$zue[5]=1-C$zui-C$zur,C$zue[6]=C$zuu+C$zus,C$zue[7]=0,C$zue[8]=C$zul+C$zua,C$zue[9]=C$zuu-C$zus,C$zue[10]=1-C$zui-C$zun,C$zue[11]=0,C$zue[12]=0,C$zue[13]=0,C$zue[14]=0,C$zue[15]=1},$b.createAffineTransformation=function(C$zut,C$zue,C$zui,C$zun){var C$zut=C$zut.elements,C$zue=C$zue.elements,C$zui=C$zui.elements,C$zun=C$zun.elements,C$zur=C$zue[0],C$zus=C$zue[1],C$zua=C$zue[2],C$zue=C$zue[3],C$zuo=C$zur+C$zur,C$zuh=C$zus+C$zus,C$zul=C$zua+C$zua,C$zuu=C$zur*C$zuo,C$zuc=C$zur*C$zuh,C$zur=C$zur*C$zul,C$zu_=C$zus*C$zuh,C$zus=C$zus*C$zul,C$zua=C$zua*C$zul,C$zuo=C$zue*C$zuo,C$zuh=C$zue*C$zuh,C$zue=C$zue*C$zul,C$zul=C$zui[0],C$zud=C$zui[1],C$zui=C$zui[2];C$zun[0]=(1-(C$zu_+C$zua))*C$zul,C$zun[1]=(C$zuc+C$zue)*C$zul,C$zun[2]=(C$zur-C$zuh)*C$zul,C$zun[3]=0,C$zun[4]=(C$zuc-C$zue)*C$zud,C$zun[5]=(1-(C$zuu+C$zua))*C$zud,C$zun[6]=(C$zus+C$zuo)*C$zud,C$zun[7]=0,C$zun[8]=(C$zur+C$zuh)*C$zui,C$zun[9]=(C$zus-C$zuo)*C$zui,C$zun[10]=(1-(C$zuu+C$zu_))*C$zui,C$zun[11]=0,C$zun[12]=C$zut[0],C$zun[13]=C$zut[1],C$zun[14]=C$zut[2],C$zun[15]=1},$b.createLookAt=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zun.elements,C$zus=$b._tempVector0,C$zua=$b._tempVector1,C$zuo=$b._tempVector2;C$zuE.subtract(C$zut,C$zue,C$zuo),C$zuE.normalize(C$zuo,C$zuo),C$zuE.cross(C$zui,C$zuo,C$zus),C$zuE.normalize(C$zus,C$zus),C$zuE.cross(C$zuo,C$zus,C$zua),C$zun.identity(),C$zur[0]=C$zus.x,C$zur[4]=C$zus.y,C$zur[8]=C$zus.z,C$zur[1]=C$zua.x,C$zur[5]=C$zua.y,C$zur[9]=C$zua.z,C$zur[2]=C$zuo.x,C$zur[6]=C$zuo.y,C$zur[10]=C$zuo.z,C$zur[12]=-C$zuE.dot(C$zus,C$zut),C$zur[13]=-C$zuE.dot(C$zua,C$zut),C$zur[14]=-C$zuE.dot(C$zuo,C$zut)},$b.createPerspective=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zur=C$zur.elements,C$zut=1/Math.tan(C$zut/2),C$zus=1/(C$zui-C$zun);C$zur[0]=C$zut/C$zue,C$zur[5]=C$zut,C$zur[10]=(C$zun+C$zui)*C$zus,C$zur[11]=-1,C$zur[14]=2*C$zun*C$zui*C$zus,C$zur[1]=C$zur[2]=C$zur[3]=C$zur[4]=C$zur[6]=C$zur[7]=C$zur[8]=C$zur[9]=C$zur[12]=C$zur[13]=C$zur[15]=0},$b.createOrthoOffCenterRH=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){var C$zua=C$zua.elements,C$zuo=1/(C$zut-C$zue),C$zuh=1/(C$zui-C$zun),C$zul=1/(C$zur-C$zus);C$zua[1]=C$zua[2]=C$zua[3]=C$zua[4]=C$zua[6]=C$zua[7]=C$zua[8]=C$zua[9]=C$zua[11]=0,C$zua[15]=1,C$zua[0]=-2*C$zuo,C$zua[5]=-2*C$zuh,C$zua[10]=2*C$zul,C$zua[12]=(C$zut+C$zue)*C$zuo,C$zua[13]=(C$zun+C$zui)*C$zuh,C$zua[14]=(C$zus+C$zur)*C$zul},$b.translation=function(C$zut,C$zue){C$zut=C$zut.elements,C$zue=C$zue.elements;C$zue[0]=C$zue[5]=C$zue[10]=C$zue[15]=1,C$zue[12]=C$zut[0],C$zue[13]=C$zut[1],C$zue[14]=C$zut[2]},C$zus($b,["_tempMatrix4x4",function(){return this._tempMatrix4x4=new $b},"_tempVector0",function(){return this._tempVector0=new C$zuE},"_tempVector1",function(){return this._tempVector1=new C$zuE},"_tempVector2",function(){return this._tempVector2=new C$zuE},"_tempQuaternion",function(){return this._tempQuaternion=new C$zune},"DEFAULT",function(){return this.DEFAULT=new $b},"ZERO",function(){return this.ZERO=new $b(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}]),$b),C$zuie=(function(){function $a(C$zut,C$zue){this.extents=null,this.transformation=null,this.extents=C$zut,this.transformation=C$zue}C$zur($a,"laya.d3.math.OrientedBoundBox");var C$zut=$a.prototype;C$zut.getCorners=function(C$zut){var C$zue=$a._tempV30.elements,C$zui=$a._tempV31.elements,C$zun=$a._tempV32.elements,C$zur=this.extents.elements;C$zue[0]=C$zur[0],C$zue[1]=C$zue[2]=0,C$zui[1]=C$zur[1],C$zui[0]=C$zui[2]=0,C$zun[2]=C$zur[2],C$zun[0]=C$zun[1]=0,C$zuE.TransformNormal($a._tempV30,this.transformation,$a._tempV30),C$zuE.TransformNormal($a._tempV31,this.transformation,$a._tempV31),C$zuE.TransformNormal($a._tempV32,this.transformation,$a._tempV32);C$zue=$a._tempV33;this.transformation.getTranslationVector(C$zue),C$zut.length=8,C$zuE.add(C$zue,$a._tempV30,$a._tempV34),C$zuE.add($a._tempV34,$a._tempV31,$a._tempV34),C$zuE.add($a._tempV34,$a._tempV32,C$zut[0]),C$zuE.add(C$zue,$a._tempV30,$a._tempV34),C$zuE.add($a._tempV34,$a._tempV31,$a._tempV34),C$zuE.subtract($a._tempV34,$a._tempV32,C$zut[1]),C$zuE.subtract(C$zue,$a._tempV30,$a._tempV34),C$zuE.add($a._tempV34,$a._tempV31,$a._tempV34),C$zuE.subtract($a._tempV34,$a._tempV32,C$zut[2]),C$zuE.subtract(C$zue,$a._tempV30,$a._tempV34),C$zuE.add($a._tempV34,$a._tempV31,$a._tempV34),C$zuE.add($a._tempV34,$a._tempV32,C$zut[3]),C$zuE.add(C$zue,$a._tempV30,$a._tempV34),C$zuE.subtract($a._tempV34,$a._tempV31,$a._tempV34),C$zuE.add($a._tempV34,$a._tempV32,C$zut[4]),C$zuE.add(C$zue,$a._tempV30,$a._tempV34),C$zuE.subtract($a._tempV34,$a._tempV31,$a._tempV34),C$zuE.subtract($a._tempV34,$a._tempV32,C$zut[5]),C$zuE.subtract(C$zue,$a._tempV30,$a._tempV34),C$zuE.subtract($a._tempV34,$a._tempV31,$a._tempV34),C$zuE.subtract($a._tempV34,$a._tempV32,C$zut[6]),C$zuE.subtract(C$zue,$a._tempV30,$a._tempV34),C$zuE.subtract($a._tempV34,$a._tempV31,$a._tempV34),C$zuE.add($a._tempV34,$a._tempV32,C$zut[7])},C$zut.transform=function(C$zut){C$zuee.multiply(this.transformation,C$zut,this.transformation)},C$zut.scale=function(C$zut){C$zuE.multiply(this.extents,C$zut,this.extents)},C$zut.translate=function(C$zut){this.transformation.getTranslationVector($a._tempV30),C$zuE.add($a._tempV30,C$zut,$a._tempV31),this.transformation.setTranslationVector($a._tempV31)},C$zut.Size=function(C$zut){C$zuE.scale(this.extents,2,C$zut)},C$zut.getSize=function(C$zut){var C$zue=this.extents.elements;$a._tempV30.x=C$zue[0],$a._tempV31.y=C$zue[1],$a._tempV32.z=C$zue[2],C$zuE.TransformNormal($a._tempV30,this.transformation,$a._tempV30),C$zuE.TransformNormal($a._tempV31,this.transformation,$a._tempV31),C$zuE.TransformNormal($a._tempV31,this.transformation,$a._tempV32);C$zue=C$zut.elements;C$zue[0]=C$zuE.scalarLength($a._tempV30),C$zue[1]=C$zuE.scalarLength($a._tempV31),C$zue[2]=C$zuE.scalarLength($a._tempV32)},C$zut.getSizeSquared=function(C$zut){var C$zue=this.extents.elements;$a._tempV30.x=C$zue[0],$a._tempV31.y=C$zue[1],$a._tempV32.z=C$zue[2],C$zuE.TransformNormal($a._tempV30,this.transformation,$a._tempV30),C$zuE.TransformNormal($a._tempV31,this.transformation,$a._tempV31),C$zuE.TransformNormal($a._tempV31,this.transformation,$a._tempV32);C$zue=C$zut.elements;C$zue[0]=C$zuE.scalarLengthSquared($a._tempV30),C$zue[1]=C$zuE.scalarLengthSquared($a._tempV31),C$zue[2]=C$zuE.scalarLengthSquared($a._tempV32)},C$zut.getCenter=function(C$zut){this.transformation.getTranslationVector(C$zut)},C$zut.containsPoint=function(C$zut){var C$zue=this.extents.elements,C$zui=C$zue[0],C$zun=C$zue[1],C$zue=C$zue[2];this.transformation.invert($a._tempM0),C$zuE.transformCoordinate(C$zut,$a._tempM0,$a._tempV30);var C$zut=$a._tempV30.elements,C$zur=Math.abs(C$zut[0]),C$zus=Math.abs(C$zut[1]),C$zut=Math.abs(C$zut[2]);return C$zuJt.nearEqual(C$zur,C$zui)&&C$zuJt.nearEqual(C$zus,C$zun)&&C$zuJt.nearEqual(C$zut,C$zue)?2:C$zur<C$zui&&C$zus<C$zun&&C$zut<C$zue?1:0},C$zut.containsPoints=function(C$zut){var C$zue=this.extents.elements,C$zui=C$zue[0],C$zun=C$zue[1],C$zur=C$zue[2];this.transformation.invert($a._tempM0);for(var C$zus=!0,C$zua=!1,C$zuo=0;C$zuo<C$zut.length;C$zuo++){C$zuE.transformCoordinate(C$zut[C$zuo],$a._tempM0,$a._tempV30);var C$zuh=$a._tempV30.elements,C$zul=Math.abs(C$zuh[0]),C$zuu=Math.abs(C$zuh[1]),C$zuh=Math.abs(C$zuh[2]);C$zuJt.nearEqual(C$zul,C$zui)&&C$zuJt.nearEqual(C$zuu,C$zun)&&C$zuJt.nearEqual(C$zuh,C$zur)&&(C$zua=!0),C$zul<C$zui&&C$zuu<C$zun&&C$zuh<C$zur?C$zua=!0:C$zus=!1}return C$zus?1:C$zua?2:0},C$zut.containsSphere=function(C$zut,C$zue){void 0===C$zue&&(C$zue=!1);var C$zui=this.extents.elements,C$zun=C$zui[0],C$zur=C$zui[1],C$zui=C$zui[2],C$zus=C$zut.radius;this.transformation.invert($a._tempM0),C$zuE.transformCoordinate(C$zut.center,$a._tempM0,$a._tempV30);if(C$zut=C$zue?C$zus:(C$zuE.scale(C$zuE.UnitX,C$zus,$a._tempV31),C$zuE.TransformNormal($a._tempV31,$a._tempM0,$a._tempV31),C$zuE.scalarLength($a._tempV31)),C$zuE.scale(this.extents,-1,$a._tempV32),C$zuE.Clamp($a._tempV30,$a._tempV32,this.extents,$a._tempV33),C$zut*C$zut<C$zuE.distanceSquared($a._tempV30,$a._tempV33))return 0;var C$zue=$a._tempV30.elements,C$zus=C$zue[0],C$zua=C$zue[1],C$zue=C$zue[2],C$zuo=$a._tempV32.elements,C$zuh=C$zuo[0],C$zul=C$zuo[1],C$zuo=C$zuo[2];return C$zuh+C$zut<=C$zus&&C$zus<=C$zun-C$zut&&C$zut<C$zun-C$zuh&&C$zul+C$zut<=C$zua&&C$zua<=C$zur-C$zut&&C$zut<C$zur-C$zul&&C$zuo+C$zut<=C$zue&&C$zue<=C$zui-C$zut&&C$zut<C$zui-C$zuo?1:2},C$zut.containsOrientedBoundBox=function(C$zut){var C$zue=0,C$zui=0;C$zut.getCorners($a._corners);var C$zuu=this.containsPoints($a._corners);if(0!=C$zuu)return C$zuu;var C$zun=this.extents.elements;C$zut.extents.cloneTo($a._tempV35);var C$zur=$a._tempV35.elements;$a._getRows(this.transformation,$a._rows1),$a._getRows(C$zut.transformation,$a._rows2);var C$zus;for(C$zue=0;C$zue<4;C$zue++)for(C$zui=0;C$zui<4;C$zui++)3==C$zue||3==C$zui?($a._tempM0.setElementByRowColumn(C$zue,C$zui,0),$a._tempM1.setElementByRowColumn(C$zue,C$zui,0)):(C$zus=C$zuE.dot($a._rows1[C$zue],$a._rows2[C$zui]),$a._tempM0.setElementByRowColumn(C$zue,C$zui,C$zus),$a._tempM1.setElementByRowColumn(C$zue,C$zui,Math.abs(C$zus)));C$zut.getCenter($a._tempV34),this.getCenter($a._tempV36),C$zuE.subtract($a._tempV34,$a._tempV36,$a._tempV30);var C$zua=$a._tempV31.elements;C$zua[0]=C$zuE.dot($a._tempV30,$a._rows1[0]),C$zua[1]=C$zuE.dot($a._tempV30,$a._rows1[1]),C$zua[2]=C$zuE.dot($a._tempV30,$a._rows1[2]);var C$zuo=$a._tempV32.elements,C$zuc=$a._tempV33.elements;for(C$zue=0;C$zue<3;C$zue++)if(C$zuo[0]=$a._tempM1.getElementByRowColumn(C$zue,0),C$zuo[1]=$a._tempM1.getElementByRowColumn(C$zue,1),C$zuo[2]=$a._tempM1.getElementByRowColumn(C$zue,2),C$zun[C$zue]+C$zuE.dot($a._tempV35,$a._tempV32)<Math.abs(C$zua[C$zue]))return 0;for(C$zui=0;C$zui<3;C$zui++)if(C$zuo[0]=$a._tempM1.getElementByRowColumn(0,C$zui),C$zuo[1]=$a._tempM1.getElementByRowColumn(1,C$zui),C$zuo[2]=$a._tempM1.getElementByRowColumn(2,C$zui),C$zuc[0]=$a._tempM0.getElementByRowColumn(0,C$zui),C$zuc[1]=$a._tempM0.getElementByRowColumn(1,C$zui),C$zuc[2]=$a._tempM0.getElementByRowColumn(2,C$zui),C$zuE.dot(this.extents,$a._tempV32)+C$zur[C$zui]<Math.abs(C$zuE.dot($a._tempV31,$a._tempV33)))return 0;for(C$zue=0;C$zue<3;C$zue++)for(C$zui=0;C$zui<3;C$zui++){var C$zuh=(C$zue+1)%3,C$zul=(C$zue+2)%3,C$zu_=(C$zui+1)%3,C$zud=(C$zui+2)%3;if(C$zun[C$zuh]*$a._tempM1.getElementByRowColumn(C$zul,C$zui)+C$zun[C$zul]*$a._tempM1.getElementByRowColumn(C$zuh,C$zui)+(C$zur[C$zu_]*$a._tempM1.getElementByRowColumn(C$zue,C$zud)+C$zur[C$zud]*$a._tempM1.getElementByRowColumn(C$zue,C$zu_))<Math.abs(C$zua[C$zul]*$a._tempM0.getElementByRowColumn(C$zuh,C$zui)-C$zua[C$zuh]*$a._tempM0.getElementByRowColumn(C$zul,C$zui)))return 0}return 2},C$zut.containsLine=function(C$zut,C$zue){$a._corners[0]=C$zut,$a._corners[1]=C$zue;var C$zui=this.containsPoints($a._corners);if(0!=C$zui)return C$zui;var C$zui=this.extents.elements,C$zun=C$zui[0],C$zur=C$zui[1],C$zui=C$zui[2];this.transformation.invert($a._tempM0),C$zuE.transformCoordinate(C$zut,$a._tempM0,$a._tempV30),C$zuE.transformCoordinate(C$zue,$a._tempM0,$a._tempV31),C$zuE.add($a._tempV30,$a._tempV31,$a._tempV32),C$zuE.scale($a._tempV32,.5,$a._tempV32),C$zuE.subtract($a._tempV30,$a._tempV32,$a._tempV33);var C$zut=$a._tempV33.elements,C$zue=C$zut[0],C$zuu=C$zut[1],C$zuc=C$zut[2],C$zus=$a._tempV34.elements,C$zua=C$zus[0]=Math.abs(C$zut[0]),C$zuo=C$zus[1]=Math.abs(C$zut[1]),C$zus=C$zus[2]=Math.abs(C$zut[2]),C$zut=$a._tempV32.elements,C$zuh=C$zut[0],C$zul=C$zut[1],C$zut=C$zut[2];return Math.abs(C$zuh)>C$zun+C$zua||Math.abs(C$zul)>C$zur+C$zuo||Math.abs(C$zut)>C$zui+C$zus||Math.abs(C$zul*C$zuc-C$zut*C$zuu)>C$zur*C$zus+C$zui*C$zuo||Math.abs(C$zuh*C$zuc-C$zut*C$zue)>C$zun*C$zus+C$zui*C$zua||Math.abs(C$zuh*C$zuu-C$zul*C$zue)>C$zun*C$zuo+C$zur*C$zua?0:2},C$zut.containsBoundBox=function(C$zut){var C$zue=0,C$zui=0,C$zuu=C$zut.min,C$zuc=C$zut.max;C$zut.getCorners($a._corners);C$zut=this.containsPoints($a._corners);if(0!=C$zut)return C$zut;C$zuE.subtract(C$zuc,C$zuu,$a._tempV30),C$zuE.scale($a._tempV30,.5,$a._tempV30),C$zuE.add(C$zuu,$a._tempV30,$a._tempV30),C$zuE.subtract(C$zuc,$a._tempV30,$a._tempV31);var C$zun=this.extents.elements,C$zur=$a._tempV31.elements;for($a._getRows(this.transformation,$a._rows1),this.transformation.invert($a._tempM0),C$zue=0;C$zue<3;C$zue++)for(C$zui=0;C$zui<3;C$zui++)$a._tempM1.setElementByRowColumn(C$zue,C$zui,Math.abs($a._tempM0.getElementByRowColumn(C$zue,C$zui)));this.getCenter($a._tempV35),C$zuE.subtract($a._tempV30,$a._tempV35,$a._tempV32);var C$zus=$a._tempV31.elements;C$zus[0]=C$zuE.dot($a._tempV32,$a._rows1[0]),C$zus[1]=C$zuE.dot($a._tempV32,$a._rows1[1]),C$zus[2]=C$zuE.dot($a._tempV32,$a._rows1[2]);var C$zua=$a._tempV33.elements,C$zuo=$a._tempV34.elements;for(C$zue=0;C$zue<3;C$zue++)if(C$zua[0]=$a._tempM1.getElementByRowColumn(C$zue,0),C$zua[1]=$a._tempM1.getElementByRowColumn(C$zue,1),C$zua[2]=$a._tempM1.getElementByRowColumn(C$zue,2),C$zun[C$zue]+C$zuE.dot($a._tempV31,$a._tempV33)<Math.abs(C$zus[C$zue]))return 0;for(C$zui=0;C$zui<3;C$zui++)if(C$zua[0]=$a._tempM1.getElementByRowColumn(0,C$zui),C$zua[1]=$a._tempM1.getElementByRowColumn(1,C$zui),C$zua[2]=$a._tempM1.getElementByRowColumn(2,C$zui),C$zuo[0]=$a._tempM0.getElementByRowColumn(0,C$zui),C$zuo[1]=$a._tempM0.getElementByRowColumn(1,C$zui),C$zuo[2]=$a._tempM0.getElementByRowColumn(2,C$zui),C$zuE.dot(this.extents,$a._tempV33)+C$zur[C$zui]<Math.abs(C$zuE.dot($a._tempV31,$a._tempV34)))return 0;for(C$zue=0;C$zue<3;C$zue++)for(C$zui=0;C$zui<3;C$zui++){var C$zuh=(C$zue+1)%3,C$zul=(C$zue+2)%3,C$zu_=(C$zui+1)%3,C$zud=(C$zui+2)%3;if(C$zun[C$zuh]*$a._tempM1.getElementByRowColumn(C$zul,C$zui)+C$zun[C$zul]*$a._tempM1.getElementByRowColumn(C$zuh,C$zui)+(C$zur[C$zu_]*$a._tempM1.getElementByRowColumn(C$zue,C$zud)+C$zur[C$zud]*$a._tempM1.getElementByRowColumn(C$zue,C$zu_))<Math.abs(C$zus[C$zul]*$a._tempM0.getElementByRowColumn(C$zuh,C$zui)-C$zus[C$zuh]*$a._tempM0.getElementByRowColumn(C$zul,C$zui)))return 0}return 2},C$zut.intersectsRay=function(C$zut,C$zue){C$zuE.scale(this.extents,-1,$a._tempV30),this.transformation.invert($a._tempM0),C$zuE.TransformNormal(C$zut.direction,$a._tempM0,$a._ray.direction),C$zuE.transformCoordinate(C$zut.origin,$a._tempM0,$a._ray.origin),$a._boxBound1.min=$a._tempV30,$a._boxBound1.max=this.extents;C$zut=Collision.intersectsRayAndBoxRP($a._ray,$a._boxBound1,C$zue);return-1!==C$zut&&C$zuE.transformCoordinate(C$zue,this.transformation,C$zue),C$zut},C$zut._getLocalCorners=function(C$zut){C$zut.length=8;var C$zue=this.extents.elements;$a._tempV30.x=C$zue[0],$a._tempV31.y=C$zue[1],$a._tempV32.z=C$zue[2],C$zuE.add($a._tempV30,$a._tempV31,$a._tempV33),C$zuE.add($a._tempV33,$a._tempV32,C$zut[0]),C$zuE.add($a._tempV30,$a._tempV31,$a._tempV33),C$zuE.subtract($a._tempV33,$a._tempV32,C$zut[1]),C$zuE.subtract($a._tempV31,$a._tempV30,$a._tempV33),C$zuE.subtract($a._tempV33,$a._tempV30,C$zut[2]),C$zuE.subtract($a._tempV31,$a._tempV30,$a._tempV33),C$zuE.add($a._tempV33,$a._tempV32,C$zut[3]),C$zuE.subtract($a._tempV30,$a._tempV31,$a._tempV33),C$zuE.add($a._tempV33,$a._tempV32,C$zut[4]),C$zuE.subtract($a._tempV30,$a._tempV31,$a._tempV33),C$zuE.subtract($a._tempV33,$a._tempV32,C$zut[5]),C$zuE.scale(C$zut[0],-1,C$zut[6]),C$zuE.subtract($a._tempV32,$a._tempV30,$a._tempV33),C$zuE.subtract($a._tempV33,$a._tempV31,C$zut[7])},C$zut.equals=function(C$zut){return this.extents==C$zut.extents&&this.transformation==C$zut.transformation},C$zut.cloneTo=function(C$zut){this.extents.cloneTo(C$zut.extents),this.transformation.cloneTo(C$zut.transformation)},$a.createByBoundBox=function(C$zut,C$zue){var C$zui=C$zut.min,C$zut=C$zut.max;C$zuE.subtract(C$zut,C$zui,$a._tempV30),C$zuE.scale($a._tempV30,.5,$a._tempV30),C$zuE.add(C$zui,$a._tempV30,$a._tempV31),C$zuE.subtract(C$zut,$a._tempV31,$a._tempV32),C$zuee.translation($a._tempV31,$a._tempM0);C$zui=$a._tempV32.clone(),C$zut=$a._tempM0.clone();C$zue.extents=C$zui,C$zue.transformation=C$zut},$a.createByMinAndMaxVertex=function(C$zut,C$zue){return C$zuE.subtract(C$zue,C$zut,$a._tempV30),C$zuE.scale($a._tempV30,.5,$a._tempV30),C$zuE.add(C$zut,$a._tempV30,$a._tempV31),C$zuE.subtract(C$zue,$a._tempV31,$a._tempV32),C$zuee.translation($a._tempV31,$a._tempM0),new $a($a._tempV32,$a._tempM0)},$a._getRows=function(C$zut,C$zue){C$zue.length=3;var C$zut=C$zut.elements,C$zui=C$zue[0].elements;C$zui[0]=C$zut[0],C$zui[1]=C$zut[1],C$zui[2]=C$zut[2];C$zui=C$zue[1].elements;C$zui[0]=C$zut[4],C$zui[1]=C$zut[5],C$zui[2]=C$zut[6];C$zui=C$zue[2].elements;C$zui[0]=C$zut[8],C$zui[1]=C$zut[9],C$zui[2]=C$zut[10]},$a.getObbtoObbMatrix4x4=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut.transformation,C$zus=C$zue.transformation;if(C$zui){$a._getRows(C$zur,$a._rows1),$a._getRows(C$zus,$a._rows2);for(var C$zua=0;C$zua<3;C$zua++)for(var C$zuo=0;C$zuo<3;C$zuo++)C$zun.setElementByRowColumn(C$zua,C$zuo,C$zuE.dot($a._rows2[C$zua],$a._rows1[C$zuo]));C$zue.getCenter($a._tempV30),C$zut.getCenter($a._tempV31),C$zuE.subtract($a._tempV30,$a._tempV31,$a._tempV32);C$zui=C$zun.elements;C$zui[12]=C$zuE.dot($a._tempV32,$a._rows1[0]),C$zui[13]=C$zuE.dot($a._tempV32,$a._rows1[1]),C$zui[14]=C$zuE.dot($a._tempV32,$a._rows1[2]),C$zui[15]=1}else C$zur.invert($a._tempM0),C$zuee.multiply(C$zus,$a._tempM0,C$zun)},$a.merge=function(C$zut,C$zue,C$zui){var C$zun=C$zut.extents,C$zur=C$zut.transformation;$a.getObbtoObbMatrix4x4(C$zut,C$zue,C$zui,$a._tempM0),C$zue._getLocalCorners($a._corners),C$zuE.transformCoordinate($a._corners[0],$a._tempM0,$a._corners[0]),C$zuE.transformCoordinate($a._corners[1],$a._tempM0,$a._corners[1]),C$zuE.transformCoordinate($a._corners[2],$a._tempM0,$a._corners[2]),C$zuE.transformCoordinate($a._corners[3],$a._tempM0,$a._corners[3]),C$zuE.transformCoordinate($a._corners[4],$a._tempM0,$a._corners[4]),C$zuE.transformCoordinate($a._corners[5],$a._tempM0,$a._corners[5]),C$zuE.transformCoordinate($a._corners[6],$a._tempM0,$a._corners[6]),C$zuE.transformCoordinate($a._corners[7],$a._tempM0,$a._corners[7]),C$zuE.scale(C$zun,-1,$a._boxBound1.min),C$zun.cloneTo($a._boxBound1.max),C$zujt.createfromPoints($a._corners,$a._boxBound2),C$zujt.merge($a._boxBound2,$a._boxBound1,$a._boxBound3);C$zut=$a._boxBound3.min,C$zui=$a._boxBound3.max;C$zuE.subtract(C$zui,C$zut,$a._tempV30),C$zuE.scale($a._tempV30,.5,$a._tempV30),C$zuE.add(C$zut,$a._tempV30,$a._tempV32),C$zuE.subtract(C$zui,$a._tempV32,C$zun),C$zuE.transformCoordinate($a._tempV32,C$zur,$a._tempV33)},C$zus($a,["_tempV30",function(){return this._tempV30=new C$zuE},"_tempV31",function(){return this._tempV31=new C$zuE},"_tempV32",function(){return this._tempV32=new C$zuE},"_tempV33",function(){return this._tempV33=new C$zuE},"_tempV34",function(){return this._tempV34=new C$zuE},"_tempV35",function(){return this._tempV35=new C$zuE},"_tempV36",function(){return this._tempV36=new C$zuE},"_tempM0",function(){return this._tempM0=new C$zuee},"_tempM1",function(){return this._tempM1=new C$zuee},"_corners",function(){return this._corners=[new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE]},"_rows1",function(){return this._rows1=[new C$zuE,new C$zuE,new C$zuE]},"_rows2",function(){return this._rows2=[new C$zuE,new C$zuE,new C$zuE]},"_ray",function(){return this._ray=new C$zuse(new C$zuE,new C$zuE)},"_boxBound1",function(){return this._boxBound1=new C$zujt(new C$zuE,new C$zuE)},"_boxBound2",function(){return this._boxBound2=new C$zujt(new C$zuE,new C$zuE)},"_boxBound3",function(){return this._boxBound3=new C$zujt(new C$zuE,new C$zuE)}])}(),C$zur($H,"laya.d3.math.Plane"),$H.prototype.normalize=function(){var C$zut=this.normal.elements,C$zue=C$zut[0],C$zui=C$zut[1],C$zun=C$zut[2],C$zur=1/Math.sqrt(C$zue*C$zue+C$zui*C$zui+C$zun*C$zun);C$zut[0]=C$zue*C$zur,C$zut[1]=C$zui*C$zur,C$zut[2]=C$zun*C$zur,this.distance*=C$zur},$H.createPlaneBy3P=function(C$zut,C$zue,C$zui){var C$zut=C$zut.elements,C$zue=C$zue.elements,C$zui=C$zui.elements,C$zun=C$zue[0]-C$zut[0],C$zur=C$zue[1]-C$zut[1],C$zue=C$zue[2]-C$zut[2],C$zus=C$zui[0]-C$zut[0],C$zua=C$zui[1]-C$zut[1],C$zui=C$zui[2]-C$zut[2],C$zuo=C$zur*C$zui-C$zue*C$zua,C$zue=C$zue*C$zus-C$zun*C$zui,C$zui=C$zun*C$zua-C$zur*C$zus,C$zun=1/Math.sqrt(C$zuo*C$zuo+C$zue*C$zue+C$zui*C$zui),C$zua=C$zuo*C$zun,C$zur=C$zue*C$zun,C$zus=C$zui*C$zun,C$zuo=$H._TEMPVec3.elements;C$zuo[0]=C$zua,C$zuo[1]=C$zur,C$zuo[2]=C$zus;C$zue=-(C$zua*C$zut[0]+C$zur*C$zut[1]+C$zus*C$zut[2]);return new $H($H._TEMPVec3,C$zue)},$H.PlaneIntersectionType_Back=0,$H.PlaneIntersectionType_Front=1,$H.PlaneIntersectionType_Intersecting=2,C$zus($H,["_TEMPVec3",function(){return this._TEMPVec3=new C$zuE}]),$H),C$zune=function(){function $L(C$zut,C$zue,C$zui,C$zun){this.elements=new Float32Array(4),void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0),void 0===C$zun&&(C$zun=1),this.elements[0]=C$zut=void 0===C$zut?0:C$zut,this.elements[1]=C$zue,this.elements[2]=C$zui,this.elements[3]=C$zun}C$zur($L,"laya.d3.math.Quaternion");var C$zut=$L.prototype;return C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.scaling=function(C$zut,C$zue){var C$zue=C$zue.elements,C$zui=this.elements;C$zue[0]=C$zui[0]*C$zut,C$zue[1]=C$zui[1]*C$zut,C$zue[2]=C$zui[2]*C$zut,C$zue[3]=C$zui[3]*C$zut},C$zut.normalize=function(C$zut){var C$zut=C$zut.elements,C$zue=this.elements,C$zui=C$zue[0],C$zun=C$zue[1],C$zur=C$zue[2],C$zue=C$zue[3],C$zus=C$zui*C$zui+C$zun*C$zun+C$zur*C$zur+C$zue*C$zue;0<C$zus&&(C$zus=1/Math.sqrt(C$zus),C$zut[0]=C$zui*C$zus,C$zut[1]=C$zun*C$zus,C$zut[2]=C$zur*C$zus,C$zut[3]=C$zue*C$zus)},C$zut.length=function(){var C$zut=this.elements,C$zue=C$zut[0],C$zui=C$zut[1],C$zun=C$zut[2],C$zut=C$zut[3];return Math.sqrt(C$zue*C$zue+C$zui*C$zui+C$zun*C$zun+C$zut*C$zut)},C$zut.rotateX=function(C$zut,C$zue){var C$zue=C$zue.elements,C$zui=this.elements;C$zut*=.5;var C$zun=C$zui[0],C$zur=C$zui[1],C$zus=C$zui[2],C$zui=C$zui[3],C$zua=Math.sin(C$zut),C$zut=Math.cos(C$zut);C$zue[0]=C$zun*C$zut+C$zui*C$zua,C$zue[1]=C$zur*C$zut+C$zus*C$zua,C$zue[2]=C$zus*C$zut-C$zur*C$zua,C$zue[3]=C$zui*C$zut-C$zun*C$zua},C$zut.rotateY=function(C$zut,C$zue){var C$zue=C$zue.elements,C$zui=this.elements;C$zut*=.5;var C$zun=C$zui[0],C$zur=C$zui[1],C$zus=C$zui[2],C$zui=C$zui[3],C$zua=Math.sin(C$zut),C$zut=Math.cos(C$zut);C$zue[0]=C$zun*C$zut-C$zus*C$zua,C$zue[1]=C$zur*C$zut+C$zui*C$zua,C$zue[2]=C$zus*C$zut+C$zun*C$zua,C$zue[3]=C$zui*C$zut-C$zur*C$zua},C$zut.rotateZ=function(C$zut,C$zue){var C$zue=C$zue.elements,C$zui=this.elements;C$zut*=.5;var C$zun=C$zui[0],C$zur=C$zui[1],C$zus=C$zui[2],C$zui=C$zui[3],C$zua=Math.sin(C$zut),C$zut=Math.cos(C$zut);C$zue[0]=C$zun*C$zut+C$zur*C$zua,C$zue[1]=C$zur*C$zut-C$zun*C$zua,C$zue[2]=C$zus*C$zut+C$zui*C$zua,C$zue[3]=C$zui*C$zut-C$zus*C$zua},C$zut.getYawPitchRoll=function(C$zut){C$zuE.transformQuat(C$zuE.ForwardRH,this,$L.TEMPVector31),C$zuE.transformQuat(C$zuE.Up,this,$L.TEMPVector32);var C$zue=$L.TEMPVector32.elements;$L.angleTo(C$zuE.ZERO,$L.TEMPVector31,$L.TEMPVector33);var C$zui=$L.TEMPVector33.elements;C$zui[0]==Math.PI/2?(C$zui[1]=$L.arcTanAngle(C$zue[2],C$zue[0]),C$zui[2]=0):C$zui[0]==-Math.PI/2?(C$zui[1]=$L.arcTanAngle(-C$zue[2],-C$zue[0]),C$zui[2]=0):(C$zuee.createRotationY(-C$zui[1],$L.TEMPMatrix0),C$zuee.createRotationX(-C$zui[0],$L.TEMPMatrix1),C$zuE.transformCoordinate($L.TEMPVector32,$L.TEMPMatrix0,$L.TEMPVector32),C$zuE.transformCoordinate($L.TEMPVector32,$L.TEMPMatrix1,$L.TEMPVector32),C$zui[2]=$L.arcTanAngle(C$zue[1],-C$zue[0])),C$zui[1]<=-Math.PI&&(C$zui[1]=Math.PI),C$zui[2]<=-Math.PI&&(C$zui[2]=Math.PI),C$zui[1]>=Math.PI&&C$zui[2]>=Math.PI&&(C$zui[1]=0,C$zui[2]=0,C$zui[0]=Math.PI-C$zui[0]);C$zue=C$zut.elements;C$zue[0]=C$zui[1],C$zue[1]=C$zui[0],C$zue[2]=C$zui[2]},C$zut.invert=function(C$zut){var C$zut=C$zut.elements,C$zue=this.elements,C$zui=C$zue[0],C$zun=C$zue[1],C$zur=C$zue[2],C$zue=C$zue[3],C$zus=C$zui*C$zui+C$zun*C$zun+C$zur*C$zur+C$zue*C$zue,C$zus=C$zus?1/C$zus:0;C$zut[0]=-C$zui*C$zus,C$zut[1]=-C$zun*C$zus,C$zut[2]=-C$zur*C$zus,C$zut[3]=C$zue*C$zus},C$zut.identity=function(){var C$zut=this.elements;C$zut[0]=0,C$zut[1]=0,C$zut[2]=0,C$zut[3]=1},C$zut.fromArray=function(C$zut,C$zue){this.elements[0]=C$zut[(C$zue=void 0===C$zue?0:C$zue)+0],this.elements[1]=C$zut[C$zue+1],this.elements[2]=C$zut[C$zue+2],this.elements[3]=C$zut[C$zue+3]},C$zut.cloneTo=function(C$zut){var C$zue,C$zui,C$zun;if((C$zui=this.elements)!==(C$zun=C$zut.elements))for(C$zue=0;C$zue<4;++C$zue)C$zun[C$zue]=C$zui[C$zue]},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zut.equals=function(C$zut){var C$zue=this.elements,C$zut=C$zut.elements;return C$zuJt.nearEqual(C$zue[0],C$zut[0])&&C$zuJt.nearEqual(C$zue[1],C$zut[1])&&C$zuJt.nearEqual(C$zue[2],C$zut[2])&&C$zuJt.nearEqual(C$zue[3],C$zut[3])},C$zut.lengthSquared=function(){var C$zut=this.elements[0],C$zue=this.elements[1],C$zui=this.elements[2],C$zun=this.elements[3];return C$zut*C$zut+C$zue*C$zue+C$zui*C$zui+C$zun*C$zun},C$zuo(0,C$zut,"x",function(){return this.elements[0]}),C$zuo(0,C$zut,"y",function(){return this.elements[1]}),C$zuo(0,C$zut,"z",function(){return this.elements[2]}),C$zuo(0,C$zut,"w",function(){return this.elements[3]}),$L.createFromYawPitchRoll=function(C$zut,C$zue,C$zui,C$zun){var C$zui=.5*C$zui,C$zue=.5*C$zue,C$zut=.5*C$zut,C$zur=Math.sin(C$zui),C$zui=Math.cos(C$zui),C$zus=Math.sin(C$zue),C$zue=Math.cos(C$zue),C$zua=Math.sin(C$zut),C$zut=Math.cos(C$zut),C$zun=C$zun.elements;C$zun[0]=C$zut*C$zus*C$zui+C$zua*C$zue*C$zur,C$zun[1]=C$zua*C$zue*C$zui-C$zut*C$zus*C$zur,C$zun[2]=C$zut*C$zue*C$zur-C$zua*C$zus*C$zui,C$zun[3]=C$zut*C$zue*C$zui+C$zua*C$zus*C$zur},$L.multiply=function(C$zut,C$zue,C$zui){var C$zut=C$zut.elements,C$zue=C$zue.elements,C$zui=C$zui.elements,C$zun=C$zut[0],C$zur=C$zut[1],C$zus=C$zut[2],C$zut=C$zut[3],C$zua=C$zue[0],C$zuo=C$zue[1],C$zuh=C$zue[2],C$zue=C$zue[3],C$zul=C$zus*C$zua-C$zun*C$zuh,C$zuu=C$zun*C$zuo-C$zur*C$zua,C$zuc=C$zun*C$zua+C$zur*C$zuo+C$zus*C$zuh;C$zui[0]=C$zun*C$zue+C$zua*C$zut+(C$zur*C$zuh-C$zus*C$zuo),C$zui[1]=C$zur*C$zue+C$zuo*C$zut+C$zul,C$zui[2]=C$zus*C$zue+C$zuh*C$zut+C$zuu,C$zui[3]=C$zut*C$zue-C$zuc},$L.arcTanAngle=function(C$zut,C$zue){return 0==C$zut?1==C$zue?Math.PI/2:-Math.PI/2:0<C$zut?Math.atan(C$zue/C$zut):C$zut<0?0<C$zue?Math.atan(C$zue/C$zut)+Math.PI:Math.atan(C$zue/C$zut)-Math.PI:0},$L.angleTo=function(C$zut,C$zue,C$zui){C$zuE.subtract(C$zue,C$zut,$L.TEMPVector30),C$zuE.normalize($L.TEMPVector30,$L.TEMPVector30),C$zui.elements[0]=Math.asin($L.TEMPVector30.y),C$zui.elements[1]=$L.arcTanAngle(-$L.TEMPVector30.z,-$L.TEMPVector30.x)},$L.createFromAxisAngle=function(C$zut,C$zue,C$zui){C$zui=C$zui.elements,C$zut=C$zut.elements;C$zue*=.5;var C$zun=Math.sin(C$zue);C$zui[0]=C$zun*C$zut[0],C$zui[1]=C$zun*C$zut[1],C$zui[2]=C$zun*C$zut[2],C$zui[3]=Math.cos(C$zue)},$L.createFromMatrix3x3=function(C$zut,C$zue){var C$zui,C$zue=C$zue.elements,C$zut=C$zut.elements,C$zun=C$zut[0]+C$zut[4]+C$zut[8];var C$zur,C$zus;0<C$zun?(C$zui=Math.sqrt(C$zun+1),C$zue[3]=.5*C$zui,C$zue[0]=(C$zut[5]-C$zut[7])*(C$zui=.5/C$zui),C$zue[1]=(C$zut[6]-C$zut[2])*C$zui,C$zue[2]=(C$zut[1]-C$zut[3])*C$zui):(C$zut[4]>C$zut[C$zun=0]&&(C$zun=1),C$zur=((C$zun=C$zut[8]>C$zut[3*C$zun+C$zun]?2:C$zun)+1)%3,C$zus=(C$zun+2)%3,C$zui=Math.sqrt(C$zut[3*C$zun+C$zun]-C$zut[3*C$zur+C$zur]-C$zut[3*C$zus+C$zus]+1),C$zue[C$zun]=.5*C$zui,C$zue[3]=(C$zut[3*C$zur+C$zus]-C$zut[3*C$zus+C$zur])*(C$zui=.5/C$zui),C$zue[C$zur]=(C$zut[3*C$zur+C$zun]+C$zut[3*C$zun+C$zur])*C$zui,C$zue[C$zus]=(C$zut[3*C$zus+C$zun]+C$zut[3*C$zun+C$zus])*C$zui)},$L.createFromMatrix4x4=function(C$zut,C$zue){var C$zui,C$zun,C$zut=C$zut.elements,C$zue=C$zue.elements,C$zur=C$zut[0]+C$zut[5]+C$zut[10];0<C$zur?(C$zui=Math.sqrt(C$zur+1),C$zue[3]=.5*C$zui,C$zue[0]=(C$zut[6]-C$zut[9])*(C$zui=.5/C$zui),C$zue[1]=(C$zut[8]-C$zut[2])*C$zui,C$zue[2]=(C$zut[1]-C$zut[4])*C$zui):C$zut[0]>=C$zut[5]&&C$zut[0]>=C$zut[10]?(C$zun=.5/(C$zui=Math.sqrt(1+C$zut[0]-C$zut[5]-C$zut[10])),C$zue[0]=.5*C$zui,C$zue[1]=(C$zut[1]+C$zut[4])*C$zun,C$zue[2]=(C$zut[2]+C$zut[8])*C$zun,C$zue[3]=(C$zut[6]-C$zut[9])*C$zun):C$zut[5]>C$zut[10]?(C$zun=.5/(C$zui=Math.sqrt(1+C$zut[5]-C$zut[0]-C$zut[10])),C$zue[0]=(C$zut[4]+C$zut[1])*C$zun,C$zue[1]=.5*C$zui,C$zue[2]=(C$zut[9]+C$zut[6])*C$zun,C$zue[3]=(C$zut[8]-C$zut[2])*C$zun):(C$zun=.5/(C$zui=Math.sqrt(1+C$zut[10]-C$zut[0]-C$zut[5])),C$zue[0]=(C$zut[8]+C$zut[2])*C$zun,C$zue[1]=(C$zut[9]+C$zut[6])*C$zun,C$zue[2]=.5*C$zui,C$zue[3]=(C$zut[1]-C$zut[4])*C$zun)},$L.slerp=function(C$zut,C$zue,C$zui,C$zun){var C$zur,C$zus,C$zua,C$zut=C$zut.elements,C$zue=C$zue.elements,C$zun=C$zun.elements,C$zuu=C$zut[0],C$zuc=C$zut[1],C$zu_=C$zut[2],C$zut=C$zut[3],C$zuo=C$zue[0],C$zuh=C$zue[1],C$zul=C$zue[2],C$zue=C$zue[3];return(C$zua=C$zuu*C$zuo+C$zuc*C$zuh+C$zu_*C$zul+C$zut*C$zue)<0&&(C$zua=-C$zua,C$zuo=-C$zuo,C$zuh=-C$zuh,C$zul=-C$zul,C$zue=-C$zue),C$zua=1e-6<1-C$zua?(C$zua=Math.acos(C$zua),C$zur=Math.sin(C$zua),C$zus=Math.sin((1-C$zui)*C$zua)/C$zur,Math.sin(C$zui*C$zua)/C$zur):(C$zus=1-C$zui,C$zui),C$zun[0]=C$zus*C$zuu+C$zua*C$zuo,C$zun[1]=C$zus*C$zuc+C$zua*C$zuh,C$zun[2]=C$zus*C$zu_+C$zua*C$zul,C$zun[3]=C$zus*C$zut+C$zua*C$zue,C$zun},$L.lerp=function(C$zut,C$zue,C$zui,C$zun){var C$zun=C$zun.elements,C$zut=C$zut.elements,C$zue=C$zue.elements,C$zur=C$zut[0],C$zus=C$zut[1],C$zua=C$zut[2],C$zut=C$zut[3];C$zun[0]=C$zur+C$zui*(C$zue[0]-C$zur),C$zun[1]=C$zus+C$zui*(C$zue[1]-C$zus),C$zun[2]=C$zua+C$zui*(C$zue[2]-C$zua),C$zun[3]=C$zut+C$zui*(C$zue[3]-C$zut)},$L.add=function(C$zut,C$zue,C$zui){C$zui=C$zui.elements,C$zut=C$zut.elements,C$zue=C$zue.elements;C$zui[0]=C$zut[0]+C$zue[0],C$zui[1]=C$zut[1]+C$zue[1],C$zui[2]=C$zut[2]+C$zue[2],C$zui[3]=C$zut[3]+C$zue[3]},$L.dot=function(C$zut,C$zue){C$zut=C$zut.elements,C$zue=C$zue.elements;return C$zut[0]*C$zue[0]+C$zut[1]*C$zue[1]+C$zut[2]*C$zue[2]+C$zut[3]*C$zue[3]},$L.rotationLookAt=function(C$zut,C$zue,C$zui){$L.lookAt(C$zuE.ZERO,C$zut,C$zue,C$zui)},$L.lookAt=function(C$zut,C$zue,C$zui,C$zun){C$zute.lookAt(C$zut,C$zue,C$zui,$L._tempMatrix3x3),$L.rotationMatrix($L._tempMatrix3x3,C$zun)},$L.invert=function(C$zut,C$zue){var C$zui=C$zut.elements,C$zue=C$zue.elements,C$zut=C$zut.lengthSquared();C$zuJt.isZero(C$zut)||(C$zue[0]=-C$zui[0]*(C$zut=1/C$zut),C$zue[1]=-C$zui[1]*C$zut,C$zue[2]=-C$zui[2]*C$zut,C$zue[3]=C$zui[3]*C$zut)},$L.rotationMatrix=function(C$zut,C$zue){var C$zut=C$zut.elements,C$zui=C$zut[0],C$zun=C$zut[1],C$zur=C$zut[2],C$zus=C$zut[3],C$zua=C$zut[4],C$zuo=C$zut[5],C$zuu=C$zut[6],C$zuc=C$zut[7],C$zut=C$zut[8],C$zue=C$zue.elements,C$zuh=NaN,C$zul=NaN,C$zu_=C$zui+C$zua+C$zut;0<C$zu_?(C$zuh=Math.sqrt(C$zu_+1),C$zue[3]=.5*C$zuh,C$zue[0]=(C$zuo-C$zuc)*(C$zuh=.5/C$zuh),C$zue[1]=(C$zuu-C$zur)*C$zuh,C$zue[2]=(C$zun-C$zus)*C$zuh):C$zua<=C$zui&&C$zut<=C$zui?(C$zul=.5/(C$zuh=Math.sqrt(1+C$zui-C$zua-C$zut)),C$zue[0]=.5*C$zuh,C$zue[1]=(C$zun+C$zus)*C$zul,C$zue[2]=(C$zur+C$zuu)*C$zul,C$zue[3]=(C$zuo-C$zuc)*C$zul):C$zut<C$zua?(C$zul=.5/(C$zuh=Math.sqrt(1+C$zua-C$zui-C$zut)),C$zue[0]=(C$zus+C$zun)*C$zul,C$zue[1]=.5*C$zuh,C$zue[2]=(C$zuc+C$zuo)*C$zul,C$zue[3]=(C$zuu-C$zur)*C$zul):(C$zul=.5/(C$zuh=Math.sqrt(1+C$zut-C$zui-C$zua)),C$zue[0]=(C$zuu+C$zur)*C$zul,C$zue[1]=(C$zuc+C$zuo)*C$zul,C$zue[2]=.5*C$zuh,C$zue[3]=(C$zun-C$zus)*C$zul)},$L.DEFAULT=new $L,C$zus($L,["TEMPVector30",function(){return this.TEMPVector30=new C$zuE},"TEMPVector31",function(){return this.TEMPVector31=new C$zuE},"TEMPVector32",function(){return this.TEMPVector32=new C$zuE},"TEMPVector33",function(){return this.TEMPVector33=new C$zuE},"TEMPMatrix0",function(){return this.TEMPMatrix0=new C$zuee},"TEMPMatrix1",function(){return this.TEMPMatrix1=new C$zuee},"_tempMatrix3x3",function(){return this._tempMatrix3x3=new C$zute},"NAN",function(){return this.NAN=new $L(NaN,NaN,NaN,NaN)}]),$L}(),C$zure=function(){function $m(C$zut){this._temp=new Uint32Array(1),this.seeds=new Uint32Array(4),this.seeds[0]=C$zut,this.seeds[1]=1812433253*this.seeds[0]+1,this.seeds[2]=1812433253*this.seeds[1]+1,this.seeds[3]=1812433253*this.seeds[2]+1}C$zur($m,"laya.d3.math.Rand");var C$zut=$m.prototype;return C$zut.getUint=function(){return this._temp[0]=this.seeds[0]^this.seeds[0]<<11,this.seeds[0]=this.seeds[1],this.seeds[1]=this.seeds[2],this.seeds[2]=this.seeds[3],this.seeds[3]=this.seeds[3]^this.seeds[3]>>>19^this._temp[0]^this._temp[0]>>>8,this.seeds[3]},C$zut.getFloat=function(){return this.getUint(),(8388607&this.seeds[3])*(1/8388607)},C$zut.getSignedFloat=function(){return 2*this.getFloat()-1},C$zuo(0,C$zut,"seed",function(){return this.seeds[0]},function(C$zut){this.seeds[0]=C$zut,this.seeds[1]=1812433253*this.seeds[0]+1,this.seeds[2]=1812433253*this.seeds[1]+1,this.seeds[3]=1812433253*this.seeds[2]+1}),$m.getFloatFromInt=function(C$zut){return 1/8388607*(8388607&C$zut)},$m.getByteFromInt=function(C$zut){return(8388607&C$zut)>>>15},$m}(),C$zuse=(function(){function $L(C$zut){if(this._state0U=NaN,this._state0L=NaN,this._state1U=NaN,this._state1L=NaN,!(C$zut instanceof Array)||4!==C$zut.length)throw new Error("Rand:Seed must be an array with 4 numbers");this._state0U=0|C$zut[0],this._state0L=0|C$zut[1],this._state1U=0|C$zut[2],this._state1L=0|C$zut[3]}C$zur($L,"laya.d3.math.RandX");var C$zut=$L.prototype;C$zut.randomint=function(){var C$zut,C$zue=this._state0U,C$zui=this._state0L,C$zun=this._state1U,C$zur=this._state1L,C$zus=(C$zur>>>0)+(C$zui>>>0),C$zua=C$zun+C$zue+(C$zus/2>>>31)>>>0,C$zus=C$zus>>>0,C$zuo=0;return C$zut=(C$zue^=C$zue<<23|(-512&C$zui)>>>9)^(this._state0U=C$zun),C$zuo=(C$zuo=(C$zui^=C$zuo=C$zui<<23)^(this._state0L=C$zur))^(C$zui>>>18|(262143&C$zue)<<14)^(C$zur>>>5|(31&C$zun)<<27),this._state1U=C$zut^C$zue>>>18^C$zun>>>5,this._state1L=C$zuo,[C$zua,C$zus]},C$zut.random=function(){var C$zut=this.randomint(),C$zue=C$zut[0],C$zut=C$zut[1]>>>12|(4095&C$zue)<<20|0;return $L._CONVERTION_BUFFER.setUint32(0,1023<<20|C$zue>>>12,!1),$L._CONVERTION_BUFFER.setUint32(4,C$zut,!1),C$zure._CONVERTION_BUFFER.getFloat64(0,!1)-1},C$zus($L,["_CONVERTION_BUFFER",function(){return this._CONVERTION_BUFFER=new DataView(new ArrayBuffer(8))},"defaultRand",function(){return this.defaultRand=new C$zure([0,Date.now()/65536,0,Date.now()%65536])}])}(),function(){function $m(C$zut,C$zue){this.origin=null,this.direction=null,this.origin=C$zut,this.direction=C$zue}return C$zur($m,"laya.d3.math.Ray"),$m}()),C$zuae=function(){function $m(C$zut,C$zue){this.elements=new Float32Array(2),void 0===C$zue&&(C$zue=0);var C$zui=this.elements;C$zui[0]=C$zut=void 0===C$zut?0:C$zut,C$zui[1]=C$zue}C$zur($m,"laya.d3.math.Vector2");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.fromArray=function(C$zut,C$zue){this.elements[0]=C$zut[(C$zue=void 0===C$zue?0:C$zue)+0],this.elements[1]=C$zut[C$zue+1]},C$zut.cloneTo=function(C$zut){var C$zut=C$zut.elements,C$zue=this.elements;C$zut[0]=C$zue[0],C$zut[1]=C$zue[1]},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zuo(0,C$zut,"x",function(){return this.elements[0]},function(C$zut){this.elements[0]=C$zut}),C$zuo(0,C$zut,"y",function(){return this.elements[1]},function(C$zut){this.elements[1]=C$zut}),$m.scale=function(C$zut,C$zue,C$zui){C$zui=C$zui.elements,C$zut=C$zut.elements;C$zui[0]=C$zut[0]*C$zue,C$zui[1]=C$zut[1]*C$zue},C$zus($m,["ZERO",function(){return this.ZERO=new $m(0,0)},"ONE",function(){return this.ONE=new $m(1,1)}]),$m}(),C$zuE=function(){function $D(C$zut,C$zue,C$zui){this.elements=new Float32Array(3),void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0);var C$zun=this.elements;C$zun[0]=C$zut=void 0===C$zut?0:C$zut,C$zun[1]=C$zue,C$zun[2]=C$zui}C$zur($D,"laya.d3.math.Vector3");var C$zut=$D.prototype;return C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.fromArray=function(C$zut,C$zue){this.elements[0]=C$zut[(C$zue=void 0===C$zue?0:C$zue)+0],this.elements[1]=C$zut[C$zue+1],this.elements[2]=C$zut[C$zue+2]},C$zut.cloneTo=function(C$zut){var C$zut=C$zut.elements,C$zue=this.elements;C$zut[0]=C$zue[0],C$zut[1]=C$zue[1],C$zut[2]=C$zue[2]},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zut.toDefault=function(){this.elements[0]=0,this.elements[1]=0,this.elements[2]=0},C$zut.reset=function(C$zut,C$zue,C$zui){this.elements[0]=C$zut,this.elements[1]=C$zue,this.elements[2]=C$zui},C$zuo(0,C$zut,"x",function(){return this.elements[0]},function(C$zut){this.elements[0]=C$zut}),C$zuo(0,C$zut,"y",function(){return this.elements[1]},function(C$zut){this.elements[1]=C$zut}),C$zuo(0,C$zut,"z",function(){return this.elements[2]},function(C$zut){this.elements[2]=C$zut}),$D.distanceSquared=function(C$zut,C$zue){var C$zut=C$zut.elements,C$zue=C$zue.elements,C$zui=C$zut[0]-C$zue[0],C$zun=C$zut[1]-C$zue[1],C$zut=C$zut[2]-C$zue[2];return C$zui*C$zui+C$zun*C$zun+C$zut*C$zut},$D.distance=function(C$zut,C$zue){var C$zut=C$zut.elements,C$zue=C$zue.elements,C$zui=C$zut[0]-C$zue[0],C$zun=C$zut[1]-C$zue[1],C$zut=C$zut[2]-C$zue[2];return Math.sqrt(C$zui*C$zui+C$zun*C$zun+C$zut*C$zut)},$D.min=function(C$zut,C$zue,C$zui){C$zui=C$zui.elements,C$zut=C$zut.elements,C$zue=C$zue.elements;C$zui[0]=Math.min(C$zut[0],C$zue[0]),C$zui[1]=Math.min(C$zut[1],C$zue[1]),C$zui[2]=Math.min(C$zut[2],C$zue[2])},$D.max=function(C$zut,C$zue,C$zui){C$zui=C$zui.elements,C$zut=C$zut.elements,C$zue=C$zue.elements;C$zui[0]=Math.max(C$zut[0],C$zue[0]),C$zui[1]=Math.max(C$zut[1],C$zue[1]),C$zui[2]=Math.max(C$zut[2],C$zue[2])},$D.transformQuat=function(C$zut,C$zue,C$zui){var C$zui=C$zui.elements,C$zut=C$zut.elements,C$zue=C$zue.elements,C$zun=C$zut[0],C$zur=C$zut[1],C$zut=C$zut[2],C$zus=C$zue[0],C$zua=C$zue[1],C$zuo=C$zue[2],C$zue=C$zue[3],C$zuh=C$zue*C$zun+C$zua*C$zut-C$zuo*C$zur,C$zul=C$zue*C$zur+C$zuo*C$zun-C$zus*C$zut,C$zuu=C$zue*C$zut+C$zus*C$zur-C$zua*C$zun,C$zun=-C$zus*C$zun-C$zua*C$zur-C$zuo*C$zut;C$zui[0]=C$zuh*C$zue+C$zun*-C$zus+C$zul*-C$zuo-C$zuu*-C$zua,C$zui[1]=C$zul*C$zue+C$zun*-C$zua+C$zuu*-C$zus-C$zuh*-C$zuo,C$zui[2]=C$zuu*C$zue+C$zun*-C$zuo+C$zuh*-C$zua-C$zul*-C$zus},$D.scalarLength=function(C$zut){var C$zut=C$zut.elements,C$zue=C$zut[0],C$zui=C$zut[1],C$zut=C$zut[2];return Math.sqrt(C$zue*C$zue+C$zui*C$zui+C$zut*C$zut)},$D.scalarLengthSquared=function(C$zut){var C$zut=C$zut.elements,C$zue=C$zut[0],C$zui=C$zut[1],C$zut=C$zut[2];return C$zue*C$zue+C$zui*C$zui+C$zut*C$zut},$D.normalize=function(C$zut,C$zue){var C$zut=C$zut.elements,C$zue=C$zue.elements,C$zui=C$zut[0],C$zun=C$zut[1],C$zur=C$zut[2],C$zui=C$zui*C$zui+C$zun*C$zun+C$zur*C$zur;0<C$zui&&(C$zui=1/Math.sqrt(C$zui),C$zue[0]=C$zut[0]*C$zui,C$zue[1]=C$zut[1]*C$zui,C$zue[2]=C$zut[2]*C$zui)},$D.multiply=function(C$zut,C$zue,C$zui){C$zui=C$zui.elements,C$zut=C$zut.elements,C$zue=C$zue.elements;C$zui[0]=C$zut[0]*C$zue[0],C$zui[1]=C$zut[1]*C$zue[1],C$zui[2]=C$zut[2]*C$zue[2]},$D.scale=function(C$zut,C$zue,C$zui){C$zui=C$zui.elements,C$zut=C$zut.elements;C$zui[0]=C$zut[0]*C$zue,C$zui[1]=C$zut[1]*C$zue,C$zui[2]=C$zut[2]*C$zue},$D.lerp=function(C$zut,C$zue,C$zui,C$zun){var C$zun=C$zun.elements,C$zut=C$zut.elements,C$zue=C$zue.elements,C$zur=C$zut[0],C$zus=C$zut[1],C$zut=C$zut[2];C$zun[0]=C$zur+C$zui*(C$zue[0]-C$zur),C$zun[1]=C$zus+C$zui*(C$zue[1]-C$zus),C$zun[2]=C$zut+C$zui*(C$zue[2]-C$zut)},$D.transformV3ToV3=function(C$zut,C$zue,C$zui){var C$zun=$D._tempVector4;$D.transformV3ToV4(C$zut,C$zue,C$zun);C$zut=C$zun.elements,C$zue=C$zui.elements;C$zue[0]=C$zut[0],C$zue[1]=C$zut[1],C$zue[2]=C$zut[2]},$D.transformV3ToV4=function(C$zut,C$zue,C$zui){var C$zut=C$zut.elements,C$zun=C$zut[0],C$zur=C$zut[1],C$zut=C$zut[2],C$zue=C$zue.elements,C$zui=C$zui.elements;C$zui[0]=C$zun*C$zue[0]+C$zur*C$zue[4]+C$zut*C$zue[8]+C$zue[12],C$zui[1]=C$zun*C$zue[1]+C$zur*C$zue[5]+C$zut*C$zue[9]+C$zue[13],C$zui[2]=C$zun*C$zue[2]+C$zur*C$zue[6]+C$zut*C$zue[10]+C$zue[14],C$zui[3]=C$zun*C$zue[3]+C$zur*C$zue[7]+C$zut*C$zue[11]+C$zue[15]},$D.TransformNormal=function(C$zut,C$zue,C$zui){var C$zut=C$zut.elements,C$zun=C$zut[0],C$zur=C$zut[1],C$zut=C$zut[2],C$zue=C$zue.elements,C$zui=C$zui.elements;C$zui[0]=C$zun*C$zue[0]+C$zur*C$zue[4]+C$zut*C$zue[8],C$zui[1]=C$zun*C$zue[1]+C$zur*C$zue[5]+C$zut*C$zue[9],C$zui[2]=C$zun*C$zue[2]+C$zur*C$zue[6]+C$zut*C$zue[10]},$D.transformCoordinate=function(C$zut,C$zue,C$zui){var C$zun=$D._tempVector4.elements,C$zut=C$zut.elements,C$zur=C$zut[0],C$zus=C$zut[1],C$zut=C$zut[2],C$zue=C$zue.elements;C$zun[0]=C$zur*C$zue[0]+C$zus*C$zue[4]+C$zut*C$zue[8]+C$zue[12],C$zun[1]=C$zur*C$zue[1]+C$zus*C$zue[5]+C$zut*C$zue[9]+C$zue[13],C$zun[2]=C$zur*C$zue[2]+C$zus*C$zue[6]+C$zut*C$zue[10]+C$zue[14],C$zun[3]=1/(C$zur*C$zue[3]+C$zus*C$zue[7]+C$zut*C$zue[11]+C$zue[15]);C$zur=C$zui.elements;C$zur[0]=C$zun[0]*C$zun[3],C$zur[1]=C$zun[1]*C$zun[3],C$zur[2]=C$zun[2]*C$zun[3]},$D.Clamp=function(C$zut,C$zue,C$zui,C$zun){var C$zut=C$zut.elements,C$zur=C$zut[0],C$zus=C$zut[1],C$zut=C$zut[2],C$zue=C$zue.elements,C$zua=C$zue[0],C$zuo=C$zue[1],C$zue=C$zue[2],C$zui=C$zui.elements,C$zuh=C$zui[0],C$zul=C$zui[1],C$zui=C$zui[2],C$zun=C$zun.elements;C$zur=(C$zur=C$zuh<C$zur?C$zuh:C$zur)<C$zua?C$zua:C$zur,C$zus=(C$zus=C$zul<C$zus?C$zul:C$zus)<C$zuo?C$zuo:C$zus,C$zut=(C$zut=C$zui<C$zut?C$zui:C$zut)<C$zue?C$zue:C$zut,C$zun[0]=C$zur,C$zun[1]=C$zus,C$zun[2]=C$zut},$D.add=function(C$zut,C$zue,C$zui){C$zui=C$zui.elements,C$zut=C$zut.elements,C$zue=C$zue.elements;C$zui[0]=C$zut[0]+C$zue[0],C$zui[1]=C$zut[1]+C$zue[1],C$zui[2]=C$zut[2]+C$zue[2]},$D.subtract=function(C$zut,C$zue,C$zui){C$zui=C$zui.elements,C$zut=C$zut.elements,C$zue=C$zue.elements;C$zui[0]=C$zut[0]-C$zue[0],C$zui[1]=C$zut[1]-C$zue[1],C$zui[2]=C$zut[2]-C$zue[2]},$D.cross=function(C$zut,C$zue,C$zui){var C$zut=C$zut.elements,C$zue=C$zue.elements,C$zui=C$zui.elements,C$zun=C$zut[0],C$zur=C$zut[1],C$zut=C$zut[2],C$zus=C$zue[0],C$zua=C$zue[1],C$zue=C$zue[2];C$zui[0]=C$zur*C$zue-C$zut*C$zua,C$zui[1]=C$zut*C$zus-C$zun*C$zue,C$zui[2]=C$zun*C$zua-C$zur*C$zus},$D.dot=function(C$zut,C$zue){C$zut=C$zut.elements,C$zue=C$zue.elements;return C$zut[0]*C$zue[0]+C$zut[1]*C$zue[1]+C$zut[2]*C$zue[2]},$D.equals=function(C$zut,C$zue){C$zut=C$zut.elements,C$zue=C$zue.elements;return C$zuJt.nearEqual(Math.abs(C$zut[0]),Math.abs(C$zue[0]))&&C$zuJt.nearEqual(Math.abs(C$zut[1]),Math.abs(C$zue[1]))&&C$zuJt.nearEqual(Math.abs(C$zut[2]),Math.abs(C$zue[2]))},$D.ZERO=new $D(0,0,0),$D.ONE=new $D(1,1,1),$D.NegativeUnitX=new $D(-1,0,0),$D.UnitX=new $D(1,0,0),$D.UnitY=new $D(0,1,0),$D.UnitZ=new $D(0,0,1),$D.ForwardRH=new $D(0,0,-1),$D.ForwardLH=new $D(0,0,1),$D.Up=new $D(0,1,0),$D.NAN=new $D(NaN,NaN,NaN),C$zus($D,["_tempVector4",function(){return this._tempVector4=new C$zuoe}]),$D}(),C$zuoe=function(){function $m(C$zut,C$zue,C$zui,C$zun){this.elements=new Float32Array(4),void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0),void 0===C$zun&&(C$zun=0);var C$zur=this.elements;C$zur[0]=C$zut=void 0===C$zut?0:C$zut,C$zur[1]=C$zue,C$zur[2]=C$zui,C$zur[3]=C$zun}C$zur($m,"laya.d3.math.Vector4");var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut.fromArray=function(C$zut,C$zue){this.elements[0]=C$zut[(C$zue=void 0===C$zue?0:C$zue)+0],this.elements[1]=C$zut[C$zue+1],this.elements[2]=C$zut[C$zue+2],this.elements[3]=C$zut[C$zue+3]},C$zut.cloneTo=function(C$zut){var C$zut=C$zut.elements,C$zue=this.elements;C$zut[0]=C$zue[0],C$zut[1]=C$zue[1],C$zut[2]=C$zue[2],C$zut[3]=C$zue[3]},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zut.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},C$zut.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},C$zuo(0,C$zut,"x",function(){return this.elements[0]},function(C$zut){this.elements[0]=C$zut}),C$zuo(0,C$zut,"y",function(){return this.elements[1]},function(C$zut){this.elements[1]=C$zut}),C$zuo(0,C$zut,"z",function(){return this.elements[2]},function(C$zut){this.elements[2]=C$zut}),C$zuo(0,C$zut,"w",function(){return this.elements[3]},function(C$zut){this.elements[3]=C$zut}),$m.lerp=function(C$zut,C$zue,C$zui,C$zun){var C$zun=C$zun.elements,C$zut=C$zut.elements,C$zue=C$zue.elements,C$zur=C$zut[0],C$zus=C$zut[1],C$zua=C$zut[2],C$zut=C$zut[3];C$zun[0]=C$zur+C$zui*(C$zue[0]-C$zur),C$zun[1]=C$zus+C$zui*(C$zue[1]-C$zus),C$zun[2]=C$zua+C$zui*(C$zue[2]-C$zua),C$zun[3]=C$zut+C$zui*(C$zue[3]-C$zut)},$m.transformByM4x4=function(C$zut,C$zue,C$zui){var C$zut=C$zut.elements,C$zun=C$zut[0],C$zur=C$zut[1],C$zus=C$zut[2],C$zut=C$zut[3],C$zue=C$zue.elements,C$zui=C$zui.elements;C$zui[0]=C$zun*C$zue[0]+C$zur*C$zue[4]+C$zus*C$zue[8]+C$zut*C$zue[12],C$zui[1]=C$zun*C$zue[1]+C$zur*C$zue[5]+C$zus*C$zue[9]+C$zut*C$zue[13],C$zui[2]=C$zun*C$zue[2]+C$zur*C$zue[6]+C$zus*C$zue[10]+C$zut*C$zue[14],C$zui[3]=C$zun*C$zue[3]+C$zur*C$zue[7]+C$zus*C$zue[11]+C$zut*C$zue[15]},$m.equals=function(C$zut,C$zue){C$zut=C$zut.elements,C$zue=C$zue.elements;return C$zuJt.nearEqual(Math.abs(C$zut[0]),Math.abs(C$zue[0]))&&C$zuJt.nearEqual(Math.abs(C$zut[1]),Math.abs(C$zue[1]))&&C$zuJt.nearEqual(Math.abs(C$zut[2]),Math.abs(C$zue[2]))&&C$zuJt.nearEqual(Math.abs(C$zut[3]),Math.abs(C$zue[3]))},$m.normalize=function(C$zut,C$zue){var C$zui=C$zut.elements,C$zue=C$zue.elements,C$zut=C$zut.length();0<C$zut&&(C$zue[0]=C$zui[0]*C$zut,C$zue[1]=C$zui[1]*C$zut,C$zue[2]=C$zui[2]*C$zut,C$zue[3]=C$zui[3]*C$zut)},$m.add=function(C$zut,C$zue,C$zui){C$zui=C$zui.elements,C$zut=C$zut.elements,C$zue=C$zue.elements;C$zui[0]=C$zut[0]+C$zue[0],C$zui[1]=C$zut[1]+C$zue[1],C$zui[2]=C$zut[2]+C$zue[2],C$zui[3]=C$zut[3]+C$zue[3]},$m.subtract=function(C$zut,C$zue,C$zui){C$zui=C$zui.elements,C$zut=C$zut.elements,C$zue=C$zue.elements;C$zui[0]=C$zut[0]-C$zue[0],C$zui[1]=C$zut[1]-C$zue[1],C$zui[2]=C$zut[2]-C$zue[2],C$zui[3]=C$zut[3]-C$zue[3]},$m.multiply=function(C$zut,C$zue,C$zui){C$zui=C$zui.elements,C$zut=C$zut.elements,C$zue=C$zue.elements;C$zui[0]=C$zut[0]*C$zue[0],C$zui[1]=C$zut[1]*C$zue[1],C$zui[2]=C$zut[2]*C$zue[2],C$zui[3]=C$zut[3]*C$zue[3]},$m.scale=function(C$zut,C$zue,C$zui){C$zui=C$zui.elements,C$zut=C$zut.elements;C$zui[0]=C$zut[0]*C$zue,C$zui[1]=C$zut[1]*C$zue,C$zui[2]=C$zut[2]*C$zue,C$zui[3]=C$zut[3]*C$zue},$m.Clamp=function(C$zut,C$zue,C$zui,C$zun){var C$zut=C$zut.elements,C$zur=C$zut[0],C$zus=C$zut[1],C$zua=C$zut[2],C$zut=C$zut[3],C$zue=C$zue.elements,C$zuo=C$zue[0],C$zuh=C$zue[1],C$zul=C$zue[2],C$zue=C$zue[3],C$zui=C$zui.elements,C$zuu=C$zui[0],C$zuc=C$zui[1],C$zu_=C$zui[2],C$zui=C$zui[3],C$zun=C$zun.elements;C$zur=(C$zur=C$zuu<C$zur?C$zuu:C$zur)<C$zuo?C$zuo:C$zur,C$zus=(C$zus=C$zuc<C$zus?C$zuc:C$zus)<C$zuh?C$zuh:C$zus,C$zua=(C$zua=C$zu_<C$zua?C$zu_:C$zua)<C$zul?C$zul:C$zua,C$zut=(C$zut=C$zui<C$zut?C$zui:C$zut)<C$zue?C$zue:C$zut,C$zun[0]=C$zur,C$zun[1]=C$zus,C$zun[2]=C$zua,C$zun[3]=C$zut},$m.distanceSquared=function(C$zut,C$zue){var C$zut=C$zut.elements,C$zue=C$zue.elements,C$zui=C$zut[0]-C$zue[0],C$zun=C$zut[1]-C$zue[1],C$zur=C$zut[2]-C$zue[2],C$zut=C$zut[3]-C$zue[3];return C$zui*C$zui+C$zun*C$zun+C$zur*C$zur+C$zut*C$zut},$m.distance=function(C$zut,C$zue){var C$zut=C$zut.elements,C$zue=C$zue.elements,C$zui=C$zut[0]-C$zue[0],C$zun=C$zut[1]-C$zue[1],C$zur=C$zut[2]-C$zue[2],C$zut=C$zut[3]-C$zue[3];return Math.sqrt(C$zui*C$zui+C$zun*C$zun+C$zur*C$zur+C$zut*C$zut)},$m.dot=function(C$zut,C$zue){C$zut=C$zut.elements,C$zue=C$zue.elements;return C$zut[0]*C$zue[0]+C$zut[1]*C$zue[1]+C$zut[2]*C$zue[2]+C$zut[3]*C$zue[3]},$m.min=function(C$zut,C$zue,C$zui){C$zui=C$zui.elements,C$zut=C$zut.elements,C$zue=C$zue.elements;C$zui[0]=Math.min(C$zut[0],C$zue[0]),C$zui[1]=Math.min(C$zut[1],C$zue[1]),C$zui[2]=Math.min(C$zut[2],C$zue[2]),C$zui[3]=Math.min(C$zut[3],C$zue[3])},$m.max=function(C$zut,C$zue,C$zui){C$zui=C$zui.elements,C$zut=C$zut.elements,C$zue=C$zue.elements;C$zui[0]=Math.max(C$zut[0],C$zue[0]),C$zui[1]=Math.max(C$zut[1],C$zue[1]),C$zui[2]=Math.max(C$zut[2],C$zue[2]),C$zui[3]=Math.max(C$zut[3],C$zue[3])},C$zus($m,["ZERO",function(){return this.ZERO=new $m},"ONE",function(){return this.ONE=new $m(1,1,1,1)},"UnitX",function(){return this.UnitX=new $m(1,0,0,0)},"UnitY",function(){return this.UnitY=new $m(0,1,0,0)},"UnitZ",function(){return this.UnitZ=new $m(0,0,1,0)},"UnitW",function(){return this.UnitW=new $m(0,0,0,1)}]),$m}(),C$zuhe=function(){function $q(C$zut,C$zue,C$zui,C$zun){this.minDepth=0,this.maxDepth=1,this.x=C$zut,this.y=C$zue,this.width=C$zui,this.height=C$zun}C$zur($q,"laya.d3.math.Viewport");var C$zut=$q.prototype;return C$zut.project=function(C$zut,C$zue,C$zui){C$zuE.transformV3ToV3(C$zut,C$zue,C$zui);C$zut=C$zut.elements,C$zue=C$zue.elements,C$zui=C$zui.elements,C$zut=C$zut[0]*C$zue[3]+C$zut[1]*C$zue[7]+C$zut[2]*C$zue[11]+C$zue[15];1!==C$zut&&(C$zui[0]=C$zui[0]/C$zut,C$zui[1]=C$zui[1]/C$zut,C$zui[2]=C$zui[2]/C$zut),C$zui[0]=.5*(C$zui[0]+1)*this.width+this.x,C$zui[1]=.5*(1-C$zui[1])*this.height+this.y,C$zui[2]=C$zui[2]*(this.maxDepth-this.minDepth)+this.minDepth},C$zut.unprojectFromMat=function(C$zut,C$zue,C$zui){var C$zut=C$zut.elements,C$zun=C$zue.elements,C$zur=C$zui.elements;C$zur[0]=(C$zut[0]-this.x)/this.width*2-1,C$zur[1]=-((C$zut[1]-this.y)/this.height*2-1);var C$zus=(this.maxDepth-this.minDepth)/2;C$zur[2]=(C$zut[2]-this.minDepth-C$zus)/C$zus;C$zut=C$zur[0]*C$zun[3]+C$zur[1]*C$zun[7]+C$zur[2]*C$zun[11]+C$zun[15];C$zuE.transformV3ToV3(C$zui,C$zue,C$zui),1!==C$zut&&(C$zur[0]=C$zur[0]/C$zut,C$zur[1]=C$zur[1]/C$zut,C$zur[2]=C$zur[2]/C$zut)},C$zut.unprojectFromWVP=function(C$zut,C$zue,C$zui,C$zun,C$zur){C$zuee.multiply(C$zue,C$zui,$q._tempMatrix4x4),C$zun&&C$zuee.multiply($q._tempMatrix4x4,C$zun,$q._tempMatrix4x4),$q._tempMatrix4x4.invert($q._tempMatrix4x4),this.unprojectFromMat(C$zut,$q._tempMatrix4x4,C$zur)},C$zus($q,["_tempMatrix4x4",function(){return this._tempMatrix4x4=new C$zuee}]),$q}(),C$zule=(C$zur($x,"laya.d3.resource.models.SubMesh"),C$zut=$x.prototype,C$zuy.imps(C$zut,{"laya.d3.core.render.IRenderable":!0,"laya.resource.IDispose":!0}),C$zut._getVertexBuffer=function(C$zut){return 0===(C$zut=void 0===C$zut?0:C$zut)?this._vertexBuffer:null},C$zut._getIndexBuffer=function(){return this._indexBuffer},C$zut._getStaticBatchBakedVertexs=function(C$zuu,C$zuc){var C$zut,C$zu_,C$zue=this._vertexBuffer,C$zui=C$zue.vertexDeclaration,C$zud=C$zui.getVertexElementByUsage(0).offset/4,C$zuf=C$zui.getVertexElementByUsage(3).offset/4,C$zun=C$zuc.meshRender.lightmapScaleOffset,C$zur=0,C$zup=0,C$zus=0,C$zua=0,C$zum=0,C$zuo=0;if(C$zun)if(C$zu_=C$zui.getVertexElementByUsage(15))C$zus=C$zui.vertexStride/4,C$zut=0<this._vertexCount?C$zue.getData().slice(this._vertexStart*C$zus,(this._vertexStart+this._vertexCount)*C$zus):C$zue.getData().slice(),C$zua=C$zu_.offset/4;else{C$zus=2+(C$zuo=C$zui.vertexStride/4),C$zut=this._vertexCount?new Float32Array(this._vertexCount*(C$zue.vertexDeclaration.vertexStride/4+2)):new Float32Array(C$zue.vertexCount*(C$zue.vertexDeclaration.vertexStride/4+2)),C$zua=2+(C$zum=C$zui.getVertexElementByUsage(2).offset/4);var C$zug=C$zue.getData();for(C$zur=0,C$zup=C$zug.length/C$zuo;C$zur<C$zup;C$zur++){var C$zuv;C$zuv=0<this._vertexCount?(this._vertexStart+C$zur)*C$zuo:C$zur*C$zuo;var C$zu$=C$zur*C$zus,C$zuh=0;for(C$zuh=0;C$zuh<C$zua;C$zuh++)C$zut[C$zu$+C$zuh]=C$zug[C$zuv+C$zuh];for(C$zuh=C$zua;C$zuh<C$zuo;C$zuh++)C$zut[C$zu$+C$zuh+2]=C$zug[C$zuv+C$zuh]}}else C$zus=C$zui.vertexStride/4,C$zut=this._vertexCount?C$zue.getData().slice(this._vertexStart*C$zus,(this._vertexStart+this._vertexCount)*C$zus):C$zue.getData().slice();var C$zux;C$zuu?(C$zuu.worldMatrix.invert(C$zui=$x._tempMatrix4x40),C$zue=C$zuc.transform.worldMatrix,C$zuee.multiply(C$zui,C$zue,C$zux=$x._tempMatrix4x41)):C$zux=C$zuc.transform.worldMatrix;var C$zuy=$x._tempQuaternion0;for(C$zux.decomposeTransRotScale($x._tempVector30,C$zuy,$x._tempVector31),C$zur=0,C$zup=C$zut.length/C$zus;C$zur<C$zup;C$zur++){var C$zul=C$zur*C$zus+C$zud,C$zub=C$zur*C$zus+C$zuf;C$zume.transformVector3ArrayToVector3ArrayCoordinate(C$zut,C$zul,C$zux,C$zut,C$zul),C$zume.transformVector3ArrayByQuat(C$zut,C$zub,C$zuy,C$zut,C$zub),C$zun&&(C$zul=C$zur*C$zus+C$zua,C$zu_?C$zume.transformLightingMapTexcoordByUV1Array(C$zut,C$zul,C$zun,C$zut,C$zul):C$zume.transformLightingMapTexcoordByUV0Array(C$zug,C$zur*C$zuo+C$zum,C$zun,C$zut,C$zul))}return C$zut},C$zut._getVertexBuffers=function(){return null},C$zut._beforeRender=function(C$zut){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},C$zut._render=function(C$zut){var C$zue,C$zui=0,C$zun=C$zut.renderElement;if(1<this._indexCount){var C$zur=this._boneIndicesList.length;if(1<C$zur){for(var C$zus=0;C$zus<C$zur;C$zus++)(C$zue=C$zun._skinAnimationDatas||this._skinAnimationDatas)&&(C$zun._shaderValue.setValue(0,C$zue[C$zus]),C$zut._shader.uploadRenderElementUniforms(C$zun._shaderValue.data)),C$zuI.mainContext.drawElements(4,this._subIndexBufferCount[C$zus],5123,2*this._subIndexBufferStart[C$zus]);C$zuC.drawCall+=C$zur}else(C$zue=C$zun._skinAnimationDatas||this._skinAnimationDatas)&&(C$zun._shaderValue.setValue(0,C$zue[0]),C$zut._shader.uploadRenderElementUniforms(C$zun._shaderValue.data)),C$zuI.mainContext.drawElements(4,this._indexCount,5123,2*this._indexStart),C$zuC.drawCall++;C$zui=this._indexCount}else C$zui=this._indexBuffer.indexCount,(C$zue=C$zun._skinAnimationDatas||this._skinAnimationDatas)&&(C$zun._shaderValue.setValue(0,C$zue[0]),C$zut._shader.uploadRenderElementUniforms(C$zun._shaderValue.data)),C$zuI.mainContext.drawElements(4,C$zui,5123,0),C$zuC.drawCall++;C$zuC.trianglesFaces+=C$zui/3},C$zut.getIndices=function(){return 0<this._indexCount?this._indices:this._indexBuffer.getData()},C$zut.dispose=function(){this._indexBuffer.destroy(),this._vertexBuffer.destroy(),this._mesh=null,this._boneIndicesList=null,this._subIndexBufferStart=null,this._subIndexBufferCount=null,this._skinAnimationDatas=null,this._bufferUsage=null,this._vertexBuffer=null,this._indexBuffer=null},C$zuo(0,C$zut,"_vertexBufferCount",function(){return 1}),C$zuo(0,C$zut,"triangleCount",function(){return this._indexBuffer.indexCount/3}),C$zus($x,["_tempVector30",function(){return this._tempVector30=new C$zuE},"_tempVector31",function(){return this._tempVector31=new C$zuE},"_tempQuaternion0",function(){return this._tempQuaternion0=new C$zune},"_tempMatrix4x40",function(){return this._tempMatrix4x40=new C$zuee},"_tempMatrix4x41",function(){return this._tempMatrix4x41=new C$zuee}]),$x),C$zuue=function(){function $m(C$zut){this.defineCounter=0,this.defines=null,C$zut?(this.defineCounter=C$zut.defineCounter,this.defines=C$zut.defines.slice()):(this.defineCounter=0,this.defines=[])}return C$zur($m,"laya.d3.shader.ShaderDefines",null,"ShaderDefines$1"),$m.prototype.registerDefine=function(C$zut){var C$zue=Math.pow(2,this.defineCounter++);return this.defines[C$zue]=C$zut,C$zue},$m}(),C$zuce=function(){function $m(){}return C$zur($m,"laya.d3.shader.ShaderInit3D"),$m.__init__=function(){var C$zut,C$zue;C$zuTe._globalRegDefine("HIGHPRECISION",C$zuTe.SHADERDEFINE_HIGHPRECISION),C$zuTe._globalRegDefine("FOG",C$zuTe.SHADERDEFINE_FOG),C$zuTe._globalRegDefine("DIRECTIONLIGHT",C$zuTe.SHADERDEFINE_DIRECTIONLIGHT),C$zuTe._globalRegDefine("POINTLIGHT",C$zuTe.SHADERDEFINE_POINTLIGHT),C$zuTe._globalRegDefine("SPOTLIGHT",C$zuTe.SHADERDEFINE_SPOTLIGHT),C$zuTe._globalRegDefine("UV",C$zuTe.SHADERDEFINE_UV0),C$zuTe._globalRegDefine("COLOR",C$zuTe.SHADERDEFINE_COLOR),C$zuTe._globalRegDefine("UV1",C$zuTe.SHADERDEFINE_UV1),C$zuTe._globalRegDefine("CASTSHADOW",C$zude.SHADERDEFINE_CAST_SHADOW),C$zuTe._globalRegDefine("SHADOWMAP_PSSM1",C$zude.SHADERDEFINE_SHADOW_PSSM1),C$zuTe._globalRegDefine("SHADOWMAP_PSSM2",C$zude.SHADERDEFINE_SHADOW_PSSM2),C$zuTe._globalRegDefine("SHADOWMAP_PSSM3",C$zude.SHADERDEFINE_SHADOW_PSSM3),C$zuTe._globalRegDefine("SHADOWMAP_PCF_NO",C$zude.SHADERDEFINE_SHADOW_PCF_NO),C$zuTe._globalRegDefine("SHADOWMAP_PCF1",C$zude.SHADERDEFINE_SHADOW_PCF1),C$zuTe._globalRegDefine("SHADOWMAP_PCF2",C$zude.SHADERDEFINE_SHADOW_PCF2),C$zuTe._globalRegDefine("SHADOWMAP_PCF3",C$zude.SHADERDEFINE_SHADOW_PCF3),C$zuTe._globalRegDefine("DEPTHFOG",C$zuTe.SAHDERDEFINE_DEPTHFOG),C$zuLe.addInclude("LightHelper.glsl","\nstruct DirectionLight\n{\n vec3 Direction;\n vec3 Diffuse;\n};\n\nstruct PointLight\n{\n vec3 Diffuse;\n vec3 Attenuation;\n vec3 Position;\n float Range;\n};\n\nstruct SpotLight\n{\n vec3 Diffuse;\n vec3 Attenuation;\n vec3 Position;\n vec3 Direction;\n float Spot;\n float Range;\n};\n\n\nvec3 NormalSampleToWorldSpace(vec3 normalMapSample, vec3 unitNormal, vec3 tangent)\n{\n\tvec3 normalT = 2.0*normalMapSample - 1.0;\n\n\t// Build orthonormal basis.\n\tvec3 N = normalize(unitNormal);\n\tvec3 T = normalize(tangent- dot(tangent, N)*N);\n\tvec3 B = cross(T, N);\n\n\tmat3 TBN = mat3(T, B, N);\n\n\t// Transform from tangent space to world space.\n\tvec3 bumpedNormal = TBN*normalT;\n\n\treturn bumpedNormal;\n}\n\n\nvoid  computeDirectionLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in DirectionLight dirLight,in vec3 ambinentColor,in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n\tdif=vec3(0.0);//\u4e0d\u521d\u59cb\u5316\u5728IOS\u4e2d\u95ea\u70c1\uff0cPC\u4e2d\u4e0d\u4f1a\u95ea\u70c1\n\tamb=vec3(0.0);\n\tspec=vec3(0.0);\n\tvec3 lightVec=-normalize(dirLight.Direction);\n\t\n\tamb=matAmb*ambinentColor;\n\t\n\tfloat  diffuseFactor=dot(lightVec, normal);\n\t\n\tif(diffuseFactor>0.0)\n\t{\n\t   vec3 v = reflect(-lightVec, normal);\n\t   float specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n\t   \n\t   dif = diffuseFactor * matDif * dirLight.Diffuse;\n\t   spec = specFactor * matSpe.rgb;\n\t}\n\t\n}\n\nvoid computePointLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in PointLight poiLight,in vec3 ambinentColor, in vec3 pos,in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n\tdif=vec3(0.0);\n\tamb=vec3(0.0);\n\tspec=vec3(0.0);\n\tvec3 lightVec = poiLight.Position - pos;\n\t\t\n\tfloat d = length(lightVec);\n\t\n\tif( d > poiLight.Range )\n\t\treturn;\n\t\t\n\tlightVec /= d; \n\t\n\tamb = matAmb*ambinentColor;\t\n\n\tfloat diffuseFactor = dot(lightVec, normal);\n\n\tif( diffuseFactor > 0.0 )\n\t{\n\t\tvec3 v= reflect(-lightVec, normal);\n\t\tfloat specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n\t\t\t\t\t\n\t\tdif = diffuseFactor * matDif * poiLight.Diffuse;\n\t\tspec = specFactor * matSpe.rgb;\n\t}\n\n\tfloat attenuate = 1.0 / dot(poiLight.Attenuation, vec3(1.0, d, d*d));\n\n\tdif *= attenuate;\n\tspec*= attenuate;\n}\n\nvoid ComputeSpotLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in SpotLight spoLight,in vec3 ambinentColor,in vec3 pos, in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n\tamb = vec3(0.0);\n\tdif =vec3(0.0);\n\tspec= vec3(0.0);\n\tvec3 lightVec = spoLight.Position - pos;\n\t\t\n\tfloat d = length(lightVec);\n\t\n\tif( d > spoLight.Range)\n\t\treturn;\n\t\t\n\tlightVec /= d; \n\t\n\tamb = matAmb*ambinentColor;\t\n\n\tfloat diffuseFactor = dot(lightVec, normal);\n\n\tif(diffuseFactor > 0.0)\n\t{\n\t\tvec3 v= reflect(-lightVec, normal);\n\t\tfloat specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n\t\t\t\t\t\n\t\tdif = diffuseFactor * matDif * spoLight.Diffuse;\n\t\tspec = specFactor * matSpe.rgb;\n\t}\n\t\n\tfloat spot = pow(max(dot(-lightVec, normalize(spoLight.Direction)), 0.0), spoLight.Spot);\n\n\tfloat attenuate = spot/dot(spoLight.Attenuation, vec3(1.0, d, d*d));\n\n\tamb *= spot;\n\tdif *= attenuate;\n\tspec*= attenuate;\n}\n\n"),C$zuLe.addInclude("ShadowHelper.glsl","uniform sampler2D u_shadowMap1;\nuniform sampler2D u_shadowMap2;\nuniform sampler2D u_shadowMap3;\nuniform vec2\t  u_shadowPCFoffset;\nuniform vec4     u_shadowPSSMDistance;\nvec4 packDepth(const in float depth)\n{\n\tconst vec4 bitShift = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n\tconst vec4 bitMask\t= vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n\tvec4 res = mod(depth*bitShift*vec4(255), vec4(256))/vec4(255);\n\tres -= res.xxyz * bitMask;\n\treturn res;\n}\nfloat unpackDepth(const in vec4 rgbaDepth)\n{\n\tconst vec4 bitShift = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n\tfloat depth = dot(rgbaDepth, bitShift);\n\treturn depth;\n}\nfloat tex2DPCF( sampler2D shadowMap,vec2 texcoord,vec2 invsize,float zRef )\n{\n\tvec2 texelpos =texcoord / invsize;\n\tvec2 lerps = fract( texelpos );\n\tfloat sourcevals[4];\n\tsourcevals[0] = float( unpackDepth(texture2D(shadowMap,texcoord)) > zRef );\n\tsourcevals[1] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(invsize.x,0))) > zRef );\n\tsourcevals[2] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(0,invsize.y))) > zRef );\n\tsourcevals[3] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(invsize.x, invsize.y) )) > zRef );\n\treturn mix( mix(sourcevals[0],sourcevals[2],lerps.y),mix(sourcevals[1],sourcevals[3],lerps.y),lerps.x );\n}\nfloat getShadowPSSM3( sampler2D shadowMap1,sampler2D shadowMap2,sampler2D shadowMap3,mat4 lightShadowVP[4],vec4 pssmDistance,vec2 shadowPCFOffset,vec3 worldPos,float posViewZ,float zBias )\n{\n\tfloat value = 1.0;\n\tint nPSNum = int(posViewZ>pssmDistance.x);\n\tnPSNum += int(posViewZ>pssmDistance.y);\n\tnPSNum += int(posViewZ>pssmDistance.z);\n\t//\u771fSB,webgl\u4e0d\u652f\u6301\u5728PS\u4e2d\u76f4\u63a5\u8bbf\u95ee\u6570\u7ec4\n\tmat4 lightVP;\n\tif( nPSNum == 0 )\n\t{\n\t\tlightVP = lightShadowVP[1];\n\t}\n\telse if( nPSNum == 1 )\n\t{\n\t\tlightVP = lightShadowVP[2];\n\t}\n\telse if( nPSNum == 2 )\n\t{\n\t\tlightVP = lightShadowVP[3];\n\t}\n\tvec4 vLightMVPPos = lightVP * vec4(worldPos,1.0);\n\t//\u4e3a\u4e86\u6548\u7387\uff0c\u5728CPU\u8ba1\u7b97/2.0 + 0.5\n\t//vec3 vText = (vLightMVPPos.xyz / vLightMVPPos.w)/2.0 + 0.5;\n\tvec3 vText = vLightMVPPos.xyz / vLightMVPPos.w;\n\tfloat fMyZ = vText.z - zBias;\n\t/*\n\tbvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n\tbool bInFrustum = all( bInFrustumVec );\n\tbvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n\tbool bFrustumTest = all( bFrustumTestVec );\n\tif ( bFrustumTest ) \n\t*/\n\tif( fMyZ <= 1.0 )\n\t{\n\t\tfloat zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue = value/4.0;\n\t\t} \n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap3,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF2\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap3,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n\n#endif\n#ifdef SHADOWMAP_PCF1\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap2,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap3,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF_NO\n\t\tvec4 color;\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap1,vText.xy );\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap2,vText.xy );\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap3,vText.xy );\n\t\t}\n\t\tzdepth = unpackDepth(color);\n\t\tvalue = float(fMyZ < zdepth);\n#endif\n\t}\n\treturn value;\n}\nfloat getShadowPSSM2( sampler2D shadowMap1,sampler2D shadowMap2,mat4 lightShadowVP[4],vec4 pssmDistance,vec2 shadowPCFOffset,vec3 worldPos,float posViewZ,float zBias )\n{\n\tfloat value = 1.0;\n\tint nPSNum = int(posViewZ>pssmDistance.x);\n\tnPSNum += int(posViewZ>pssmDistance.y);\n\t//\u771fSB,webgl\u4e0d\u652f\u6301\u5728PS\u4e2d\u76f4\u63a5\u8bbf\u95ee\u6570\u7ec4\n\tmat4 lightVP;\n\tif( nPSNum == 0 )\n\t{\n\t\tlightVP = lightShadowVP[1];\n\t}\n\telse if( nPSNum == 1 )\n\t{\n\t\tlightVP = lightShadowVP[2];\n\t}\n\tvec4 vLightMVPPos = lightVP * vec4(worldPos,1.0);\n\t//\u4e3a\u4e86\u6548\u7387\uff0c\u5728CPU\u8ba1\u7b97/2.0 + 0.5\n\t//vec3 vText = (vLightMVPPos.xyz / vLightMVPPos.w)/2.0 + 0.5;\n\tvec3 vText = vLightMVPPos.xyz / vLightMVPPos.w;\n\tfloat fMyZ = vText.z - zBias;\n\t/*\n\tbvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n\tbool bInFrustum = all( bInFrustumVec );\n\tbvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n\tbool bFrustumTest = all( bFrustumTestVec );\n\tif ( bFrustumTest ) \n\t*/\n\tif( fMyZ <= 1.0 )\n\t{\n\t\tfloat zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue = value/4.0;\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF2\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF1\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap2,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF_NO\n\t\tvec4 color;\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap1,vText.xy );\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap2,vText.xy );\n\t\t}\n\t\tzdepth = unpackDepth(color);\n\t\tvalue = float(fMyZ < zdepth);\n#endif\n\t}\n\treturn value;\n}\nfloat getShadowPSSM1( sampler2D shadowMap1,vec4 lightMVPPos,vec4 pssmDistance,vec2 shadowPCFOffset,float posViewZ,float zBias )\n{\n\tfloat value = 1.0;\n\tif( posViewZ < pssmDistance.x )\n\t{\n\t\tvec3 vText = lightMVPPos.xyz / lightMVPPos.w;\n\t\tfloat fMyZ = vText.z - zBias;\n\t\t/*\n\t\tbvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n\t\tbool bInFrustum = all( bInFrustumVec );\n\t\tbvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n\t\tbool bFrustumTest = all( bFrustumTestVec );\n\t\t*/\n\t\tif ( fMyZ <= 1.0 ) \n\t\t{\n\t\t\tfloat zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n\t\t\tvalue =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,fMyZ );\n\t\t\tvalue = value/4.0;\n#endif\n#ifdef SHADOWMAP_PCF2\t\t\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n#endif\n#ifdef SHADOWMAP_PCF1\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n#endif\n#ifdef SHADOWMAP_PCF_NO\t\t\n\t\t\tvec4 color = texture2D( shadowMap1,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n#endif\n\t\t}\n\t}\n\treturn value;\n}"),C$zut={a_Position:0,a_Color:1,a_Normal:3,a_Texcoord0:2,a_Texcoord1:15,a_TexcoordNext0:14,a_BoneWeights:7,a_BoneIndices:6,a_Tangent0:5},C$zue={u_Bones:[0,0],u_DiffuseTexture:[1,1],u_SpecularTexture:[3,1],u_NormalTexture:[2,1],u_AmbientTexture:[5,1],u_ReflectTexture:[6,1],u_AlphaTestValue:[0,1],u_Albedo:[7,1],u_UVMatrix:[13,1],u_UVAge:[14,1],u_UVAniAge:[8,1],u_MaterialDiffuse:[10,1],u_MaterialAmbient:[9,1],u_MaterialSpecular:[11,1],u_MaterialReflect:[12,1],u_TilingOffset:[15,1],u_WorldMat:[0,2],u_MvpMatrix:[1,2],u_LightmapScaleOffset:[2,2],u_LightMap:[3,2],u_CameraPos:[0,3],u_FogStart:[1,4],u_FogRange:[2,4],u_FogColor:[0,4],"u_DirectionLight.Direction":[3,4],"u_DirectionLight.Diffuse":[4,4],"u_PointLight.Position":[5,4],"u_PointLight.Range":[6,4],"u_PointLight.Attenuation":[7,4],"u_PointLight.Diffuse":[8,4],"u_SpotLight.Position":[9,4],"u_SpotLight.Direction":[10,4],"u_SpotLight.Range":[12,4],"u_SpotLight.Spot":[11,4],"u_SpotLight.Attenuation":[13,4],"u_SpotLight.Diffuse":[14,4],u_AmbientColor:[21,4],u_shadowMap1:[18,4],u_shadowMap2:[19,4],u_shadowMap3:[20,4],u_shadowPSSMDistance:[15,4],u_lightShadowVP:[16,4],u_shadowPCFoffset:[17,4]};var C$zui=C$zuLe.nameKey.add("SIMPLE");shaderCompile=C$zuTe.add(C$zui,"attribute vec4 a_Position;\nuniform mat4 u_MvpMatrix;\n\n\n\n#if defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(COLOR)&&defined(SPECULARMAP)||defined(NORMALMAP)))||(defined(LIGHTMAP)&&defined(UV))\nattribute vec2 a_Texcoord0;\nvarying vec2 v_Texcoord0;\n  #ifdef UVTRANSFORM \n  uniform mat4 u_UVMatrix;\n  #endif\n#endif\n\n#if defined(AMBIENTMAP)||(defined(LIGHTMAP)&&defined(UV1))\nattribute vec2 a_Texcoord1;\n#endif\n\n#if defined(AMBIENTMAP)||defined(LIGHTMAP)\nuniform vec4 u_LightmapScaleOffset;\nvarying vec2 v_LightMapUV;\n#endif\n\n\n#ifdef COLOR\nattribute vec4 a_Color;\nvarying vec4 v_Color;\n#endif\n\n#ifdef BONE\nattribute vec4 a_BoneIndices;\nattribute vec4 a_BoneWeights;\nconst int c_MaxBoneCount = 24;\nuniform mat4 u_Bones[c_MaxBoneCount];\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\nattribute vec3 a_Normal;\nvarying vec3 v_Normal;\n#endif\n\n#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP))&&defined(NORMALMAP)\nattribute vec3 a_Tangent0;\nvarying vec3 v_Tangent0;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)||defined(RECEIVESHADOW)\nuniform mat4 u_WorldMat;\nvarying vec3 v_PositionWorld;\n#endif\n\nvarying float v_posViewZ;\n#ifdef RECEIVESHADOW\n  #ifdef SHADOWMAP_PSSM1 \n  varying vec4 v_lightMVPPos;\n  uniform mat4 u_lightShadowVP[4];\n  #endif\n#endif\n\n#ifdef TILINGOFFSET\n\tuniform vec4 u_TilingOffset;\n#endif\n\nvoid main_castShadow()\n{\n#ifdef BONE\n\tmat4 skinTransform=mat4(0.0);\n\tskinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n\tskinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n\tskinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n\tskinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n\tvec4 position=skinTransform*a_Position;\n\tgl_Position = u_MvpMatrix * position;\n#else\n\tgl_Position = u_MvpMatrix * a_Position;\n#endif\n \n//TODO\u6ca1\u8003\u8651UV\u52a8\u753b\u5462\n#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n\tv_Texcoord0=a_Texcoord0;\n#endif\n\tv_posViewZ = gl_Position.z;\n}\n\nvoid main_normal()\n{\n#ifdef BONE\n\tmat4 skinTransform=mat4(0.0);\n\tskinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n\tskinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n\tskinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n\tskinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n\tvec4 position=skinTransform*a_Position;\n\tgl_Position = u_MvpMatrix * position;\n#else\n\tgl_Position = u_MvpMatrix * a_Position;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n\tmat3 worldMat;\n\t#ifdef BONE\n\t\tworldMat=mat3(u_WorldMat*skinTransform);\n\t#else\n\t\tworldMat=mat3(u_WorldMat);\n\t#endif  \n\tv_Normal=worldMat*a_Normal;\n\t#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\n\t\tv_Tangent0=worldMat*a_Tangent0;\n\t#endif\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)||defined(RECEIVESHADOW)\n\t#ifdef BONE\n\t\tv_PositionWorld=(u_WorldMat*position).xyz;\n\t#else\n\t\tv_PositionWorld=(u_WorldMat*a_Position).xyz;\n\t#endif\n#endif\n\n#if defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(COLOR)&&defined(SPECULARMAP)||defined(NORMALMAP)))\n\tv_Texcoord0=a_Texcoord0;\n\t#ifdef TILINGOFFSET\n\t\tv_Texcoord0=(vec2(v_Texcoord0.x,v_Texcoord0.y-1.0)*u_TilingOffset.xy)+u_TilingOffset.zw;\n\t\tv_Texcoord0=vec2(v_Texcoord0.x,v_Texcoord0.y+1.0);\n\t#endif\n\t#ifdef UVTRANSFORM\n\t\tv_Texcoord0=(u_UVMatrix*vec4(v_Texcoord0,0.0,1.0)).xy;\n\t#endif\n#endif\n\n#if defined(AMBIENTMAP)||defined(LIGHTMAP)\n\t#ifdef SCALEOFFSETLIGHTINGMAPUV\n\t\t#ifdef UV1\n\t\t\tv_LightMapUV=vec2(a_Texcoord1.x*u_LightmapScaleOffset.x+u_LightmapScaleOffset.z,1.0+a_Texcoord1.y*u_LightmapScaleOffset.y+u_LightmapScaleOffset.w);\n\t\t#else\n\t\t\tv_LightMapUV=vec2(a_Texcoord0.x,a_Texcoord0.y-1.0)*u_LightmapScaleOffset.xy+u_LightmapScaleOffset.zw;\n\t\t#endif \n\t#else\n\t\t#ifdef UV1\n\t\t\tv_LightMapUV=a_Texcoord1;\n\t\t#else\n\t\t\tv_LightMapUV=a_Texcoord0;\n\t\t#endif \n\t#endif \n#endif\n\n#ifdef COLOR\n\tv_Color=a_Color;\n#endif\n\n#ifdef RECEIVESHADOW\n\tv_posViewZ = gl_Position.w;\n\t#ifdef SHADOWMAP_PSSM1 \n\t\tv_lightMVPPos = u_lightShadowVP[0] * vec4(v_PositionWorld,1.0);\n\t#endif\n#endif\n}\n\nvoid main()\n{\n#ifdef CASTSHADOW\n\tmain_castShadow();\n#else\n\tmain_normal();\n#endif\n}",'#ifdef HIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\n#include "LightHelper.glsl";\n\nuniform vec4 u_Albedo;\n\n#ifdef ALPHATEST\nuniform float u_AlphaTestValue;\n#endif\n\n#ifdef DIFFUSEMAP\nuniform sampler2D u_DiffuseTexture;\n#endif\n\n#ifdef REFLECTMAP\nuniform samplerCube u_ReflectTexture;\nuniform vec3 u_MaterialReflect;\n#endif\n\n#if   defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(COLOR)&&defined(SPECULARMAP)||defined(NORMALMAP)))\nvarying vec2 v_Texcoord0;\n#endif\n\n#if defined(AMBIENTMAP)||defined(LIGHTMAP)\nvarying vec2 v_LightMapUV;\n#endif\n#ifdef AMBIENTMAP\nuniform sampler2D u_AmbientTexture;\n#endif\n#ifdef LIGHTMAP\nuniform sampler2D u_LightMap;\n#endif\n\n#ifdef COLOR\nvarying vec4 v_Color;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\nuniform vec3 u_MaterialDiffuse;\nuniform vec4 u_MaterialSpecular;\n  #if (defined(DIFFUSEMAP)||defined(COLOR))&&defined(SPECULARMAP) \n  uniform sampler2D u_SpecularTexture;\n  #endif\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(AMBIENTMAP)||defined(LIGHTMAP)\nuniform vec3 u_MaterialAmbient;\n#endif\n\n#if defined(FOG)||defined(DEPTHFOG)\n\tuniform float u_FogStart;\n\tuniform float u_FogRange;\n\t#ifdef ADDTIVEFOG\n\t#else\n\t\tuniform vec3 u_FogColor;\n\t#endif\n#endif\n\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\nvarying vec3 v_Normal;\n#endif\n\n#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\nuniform sampler2D u_NormalTexture;\nvarying vec3 v_Tangent0;\n#endif\n\n#ifdef DIRECTIONLIGHT\nuniform DirectionLight u_DirectionLight;\n#endif\n\n#ifdef POINTLIGHT\nuniform PointLight u_PointLight;\n#endif\n\n#ifdef SPOTLIGHT\nuniform SpotLight u_SpotLight;\n#endif\n\nuniform vec3 u_AmbientColor;\n\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)||(defined(RECEIVESHADOW)&&(defined(SHADOWMAP_PSM2)||defined(SHADOWMAP_PSM3)))\nuniform vec3 u_CameraPos;\n#endif\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)\nvarying vec3 v_PositionWorld;\n#endif\n\n#include "ShadowHelper.glsl"\n#ifdef RECEIVESHADOW\n\t#if defined(SHADOWMAP_PSSM2)||defined(SHADOWMAP_PSSM3)\n\tuniform mat4 u_lightShadowVP[4];\n\t#endif\n\t#ifdef SHADOWMAP_PSSM1 \n\tvarying vec4 v_lightMVPPos;\n\t#endif\n#endif\nvarying float v_posViewZ;\n\n\n\nvoid main_castShadow()\n{\n\t//gl_FragColor=vec4(v_posViewZ,0.0,0.0,1.0);\n\tgl_FragColor=packDepth(v_posViewZ);\n\t#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n\t\tfloat alpha = texture2D(u_DiffuseTexture,v_Texcoord0).w;\n\t\tif( alpha < u_AlphaTestValue )\n\t\t{\n\t\t\tdiscard;\n\t\t}\n\t#endif\n}\nvoid main_normal()\n{\n#if defined(DIFFUSEMAP)&&!defined(COLOR)\n\tgl_FragColor=texture2D(u_DiffuseTexture, v_Texcoord0);\n#endif \n  \n#if defined(COLOR)&&!defined(DIFFUSEMAP)\n\tgl_FragColor=v_Color;\n#endif \n  \n#if defined(DIFFUSEMAP)&&defined(COLOR)\n\tvec4 texColor=texture2D(u_DiffuseTexture, v_Texcoord0);\n\tgl_FragColor=texColor*v_Color;\n#endif\n  \n#if !defined(DIFFUSEMAP)&&!defined(COLOR)\n\tgl_FragColor=vec4(1.0,1.0,1.0,1.0);\n#endif \n    \n#ifdef ALPHATEST\n\tif(gl_FragColor.a-u_AlphaTestValue<0.0)\n\t\tdiscard;\n#endif\n  \n  \n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n\tvec3 normal;\n    #if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\n\t\tvec3 normalMapSample = texture2D(u_NormalTexture, v_Texcoord0).rgb;\n\t\tnormal = normalize(NormalSampleToWorldSpace(normalMapSample, v_Normal, v_Tangent0));\n\t#else\n\t\tnormal = normalize(v_Normal);\n    #endif\n#endif\n\t\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\tvec3 diffuse = vec3(0.0);\n\tvec3 ambient = vec3(0.0);\n\tvec3 specular= vec3(0.0);\n\tvec3 dif, amb, spe;\n#endif\n  \n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(REFLECTMAP)\n\tvec3 toEye;\n\t#ifdef FOG\n\t\ttoEye=u_CameraPos-v_PositionWorld;\n\t\tfloat toEyeLength=length(toEye);\n\t\ttoEye/=toEyeLength;\n\t#else\n\t\ttoEye=normalize(u_CameraPos-v_PositionWorld);\n\t#endif\n#endif\n\t\n#ifdef DIRECTIONLIGHT\n\tcomputeDirectionLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_DirectionLight,u_AmbientColor,normal,toEye, dif, amb, spe);\n\tdiffuse+=dif;\n\tambient+=amb;\n\tspecular+=spe;\n#endif\n \n#ifdef POINTLIGHT\n\tcomputePointLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_PointLight,u_AmbientColor,v_PositionWorld,normal,toEye, dif, amb, spe);\n\tdiffuse+=dif;\n\tambient+=amb;\n\tspecular+=spe;\n#endif\n\n#ifdef SPOTLIGHT\n\tComputeSpotLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_SpotLight,u_AmbientColor,v_PositionWorld,normal,toEye, dif, amb, spe);\n\tdiffuse+=dif;\n\tambient+=amb;\n\tspecular+=spe;\n#endif\n\n#ifdef RECEIVESHADOW\n\tfloat shadowValue = 1.0;\n\t#ifdef SHADOWMAP_PSSM3\n\t\tshadowValue = getShadowPSSM3( u_shadowMap1,u_shadowMap2,u_shadowMap3,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n\t#endif\n\t#ifdef SHADOWMAP_PSSM2\n\t\tshadowValue = getShadowPSSM2( u_shadowMap1,u_shadowMap2,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n\t#endif \n\t#ifdef SHADOWMAP_PSSM1\n\t\tshadowValue = getShadowPSSM1( u_shadowMap1,v_lightMVPPos,u_shadowPSSMDistance,u_shadowPCFoffset,v_posViewZ,0.001);\n\t#endif\n#endif\n\n#ifdef AMBIENTMAP\n\t#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_AmbientTexture, v_LightMapUV).rgb); \n\t#else\n\t\t#if defined(RECEIVESHADOW)\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_AmbientTexture, v_LightMapUV).rgb * shadowValue);\n\t\t#else\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_AmbientTexture, v_LightMapUV).rgb); \n\t\t#endif\n\t#endif\n#endif\n\n#ifdef LIGHTMAP\n\t#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb); \n\t#else\n\t\t#if defined(RECEIVESHADOW)\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb * shadowValue);\n\t\t#else\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb); \n\t\t#endif\n\t#endif\n#endif\n\ngl_FragColor=gl_FragColor*u_Albedo;\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\t#if (defined(DIFFUSEMAP)||defined(COLOR))&&defined(SPECULARMAP)\n\t\tspecular =specular*texture2D(u_SpecularTexture, v_Texcoord0).rgb;\n    #endif\n\t#ifdef RECEIVESHADOW\n\t\tgl_FragColor =vec4( gl_FragColor.rgb*(ambient + diffuse*shadowValue) + specular*shadowValue,gl_FragColor.a);\n\t#else\n\t\tgl_FragColor =vec4( gl_FragColor.rgb*(ambient + diffuse) + specular,gl_FragColor.a);\n\t#endif\n#endif\n  \n#ifdef REFLECTMAP\n\tvec3 incident = -toEye;\n\tvec3 reflectionVector = reflect(incident,normal);\n\tvec3 reflectionColor  = textureCube(u_ReflectTexture,reflectionVector).rgb;\n\tgl_FragColor.rgb += u_MaterialReflect*reflectionColor;\n#endif\n  \n#ifdef FOG\n\tfloat lerpFact=clamp((toEyeLength-u_FogStart)/u_FogRange,0.0,1.0);\n\t#ifdef ADDTIVEFOG\n\t\tgl_FragColor.rgb=mix(gl_FragColor.rgb,vec3(0.0,0.0,0.0),lerpFact);\n\t#else\n\t\tgl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor,lerpFact);\n\t#endif\n#endif\n#ifdef DEPTHFOG\n\tfloat lerpFact = (-v_PositionWorld.y-u_FogStart)/u_FogRange;\n\tgl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor,lerpFact);\n#endif\n}\n\nvoid main()\n{\n#ifdef CASTSHADOW\t\t\n\tmain_castShadow();\n#else\n  main_normal();\n#endif  \n}\n\n',C$zut,C$zue),C$zuBe.SHADERDEFINE_DIFFUSEMAP=shaderCompile.registerMaterialDefine("DIFFUSEMAP"),C$zuBe.SHADERDEFINE_NORMALMAP=shaderCompile.registerMaterialDefine("NORMALMAP"),C$zuBe.SHADERDEFINE_SPECULARMAP=shaderCompile.registerMaterialDefine("SPECULARMAP"),C$zuBe.SHADERDEFINE_EMISSIVEMAP=shaderCompile.registerMaterialDefine("EMISSIVEMAP"),C$zuBe.SHADERDEFINE_AMBIENTMAP=shaderCompile.registerMaterialDefine("AMBIENTMAP"),C$zuBe.SHADERDEFINE_REFLECTMAP=shaderCompile.registerMaterialDefine("REFLECTMAP"),C$zuBe.SHADERDEFINE_UVTRANSFORM=shaderCompile.registerMaterialDefine("UVTRANSFORM"),C$zuBe.SHADERDEFINE_TILINGOFFSET=shaderCompile.registerMaterialDefine("TILINGOFFSET"),C$zuBe.SHADERDEFINE_ADDTIVEFOG=shaderCompile.registerMaterialDefine("ADDTIVEFOG")},$m}(),C$zu_e=function(){function $m(){this._data=null,this._data=[]}C$zur($m,"laya.d3.shader.ValusArray");var C$zut=$m.prototype;return C$zut.setValue=function(C$zut,C$zue){this._data[C$zut]=C$zue},C$zuo(0,C$zut,"data",function(){return this._data}),$m}(),C$zude=function(){function $m(){}return $m.SHADERDEFINE_RECEIVE_SHADOW=1,$m.SHADERDEFINE_CAST_SHADOW=512,$m.SHADERDEFINE_SHADOW_PSSM1=1024,$m.SHADERDEFINE_SHADOW_PSSM2=2048,$m.SHADERDEFINE_SHADOW_PSSM3=4096,$m.SHADERDEFINE_SHADOW_PCF_NO=8192,$m.SHADERDEFINE_SHADOW_PCF1=16384,$m.SHADERDEFINE_SHADOW_PCF2=32768,$m.SHADERDEFINE_SHADOW_PCF3=65536,$m.MAX_PSSM_COUNT=3,$m}(),C$zufe=(C$zur($f,"laya.d3.utils.Picker"),$f.calculateCursorRay=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){var C$zua=C$zut.elements[0],C$zut=C$zut.elements[1],C$zuo=$f._tempVector30,C$zuh=C$zuo.elements;C$zuh[0]=C$zua,C$zuh[1]=C$zut,C$zuh[2]=C$zue.minDepth;var C$zuh=$f._tempVector31,C$zul=C$zuh.elements;C$zul[0]=C$zua,C$zul[1]=C$zut,C$zul[2]=C$zue.maxDepth;C$zua=C$zus.origin,C$zut=$f._tempVector32;C$zue.unprojectFromWVP(C$zuo,C$zui,C$zun,C$zur,C$zua),C$zue.unprojectFromWVP(C$zuh,C$zui,C$zun,C$zur,C$zut);C$zul=C$zus.direction.elements;C$zul[0]=C$zut.x-C$zua.x,C$zul[1]=C$zut.y-C$zua.y,C$zul[2]=C$zut.z-C$zua.z,C$zuE.normalize(C$zus.direction,C$zus.direction)},$f.rayIntersectsPositionsAndIndices=function(C$zuu,C$zut,C$zue,C$zuc,C$zui){for(var C$zu_=C$zue.vertexStride/4,C$zun=C$zue.getVertexElementByUsage(0).offset/4,C$zud=Number.MAX_VALUE,C$zuf=-1,C$zup=-1,C$zum=-1,C$zug=0;C$zug<C$zuc.length;C$zug+=3){var C$zuv=$f._tempVector35,C$zu$=C$zuv.elements,C$zux=C$zuc[C$zug]*C$zu_,C$zur=C$zux+C$zun;C$zu$[0]=C$zut[C$zur],C$zu$[1]=C$zut[1+C$zur],C$zu$[2]=C$zut[2+C$zur];var C$zu$=$f._tempVector36,C$zur=C$zu$.elements,C$zuy=C$zuc[C$zug+1]*C$zu_,C$zus=C$zuy+C$zun;C$zur[0]=C$zut[C$zus],C$zur[1]=C$zut[1+C$zus],C$zur[2]=C$zut[2+C$zus];var C$zur=$f._tempVector37,C$zus=C$zur.elements,C$zub=C$zuc[C$zug+2]*C$zu_,C$zuT=C$zub+C$zun;C$zus[0]=C$zut[C$zuT],C$zus[1]=C$zut[1+C$zuT],C$zus[2]=C$zut[2+C$zuT];C$zus=laya.d3.utils.Picker.rayIntersectsTriangle(C$zuu,C$zuv,C$zu$,C$zur);!isNaN(C$zus)&&C$zus<C$zud&&(C$zud=C$zus,C$zuf=C$zux,C$zup=C$zuy,C$zum=C$zub)}if(C$zud===Number.MAX_VALUE)return C$zui.position.toDefault(),C$zui.distance=Number.MAX_VALUE,C$zui.trianglePositions[0].toDefault(),C$zui.trianglePositions[1].toDefault(),C$zui.trianglePositions[2].toDefault(),C$zui.triangleNormals[0].toDefault(),C$zui.triangleNormals[1].toDefault(),C$zui.triangleNormals[2].toDefault(),!1;C$zui.distance=C$zud,C$zuE.scale(C$zuu.direction,C$zud,C$zui.position),C$zuE.add(C$zuu.origin,C$zui.position,C$zui.position);var C$zua=C$zui.trianglePositions,C$zuo=C$zua[0],C$zuh=C$zua[1],C$zua=C$zua[2],C$zuo=C$zuo.elements,C$zuh=C$zuh.elements,C$zua=C$zua.elements,C$zul=C$zuf+C$zun;C$zuo[0]=C$zut[C$zul],C$zuo[1]=C$zut[C$zul+1],C$zuo[2]=C$zut[C$zul+2];C$zuo=C$zup+C$zun;C$zuh[0]=C$zut[C$zuo],C$zuh[1]=C$zut[C$zuo+1],C$zuh[2]=C$zut[C$zuo+2];C$zul=C$zum+C$zun;C$zua[0]=C$zut[C$zul],C$zua[1]=C$zut[C$zul+1],C$zua[2]=C$zut[C$zul+2];C$zuh=C$zue.getVertexElementByUsage(3);return C$zuh&&(C$zuo=C$zuh.offset/4,C$zul=(C$zua=C$zui.triangleNormals)[0],C$zue=C$zua[1],C$zuh=C$zua[2],C$zui=C$zul.elements,C$zua=C$zue.elements,C$zul=C$zuh.elements,C$zui[0]=C$zut[C$zue=C$zuf+C$zuo],C$zui[1]=C$zut[C$zue+1],C$zui[2]=C$zut[C$zue+2],C$zua[0]=C$zut[C$zuh=C$zup+C$zuo],C$zua[1]=C$zut[C$zuh+1],C$zua[2]=C$zut[C$zuh+2],C$zul[0]=C$zut[C$zui=C$zum+C$zuo],C$zul[1]=C$zut[C$zui+1],C$zul[2]=C$zut[C$zui+2]),!0},$f.rayIntersectsTriangle=function(C$zut,C$zue,C$zui,C$zun){var C$zur=$f._tempVector30,C$zus=$f._tempVector31;C$zuE.subtract(C$zui,C$zue,C$zur),C$zuE.subtract(C$zun,C$zue,C$zus);C$zui=$f._tempVector32;if(C$zuE.cross(C$zut.direction,C$zus,C$zui),(C$zun=C$zuE.dot(C$zur,C$zui))>-Number.MIN_VALUE&&C$zun<Number.MIN_VALUE)return Number.NaN;var C$zun=1/C$zun,C$zua=$f._tempVector33;if(C$zuE.subtract(C$zut.origin,C$zue,C$zua),C$zue=C$zuE.dot(C$zua,C$zui),(C$zue*=C$zun)<0||1<C$zue)return Number.NaN;C$zui=$f._tempVector34;return C$zuE.cross(C$zua,C$zur,C$zui),C$zua=C$zuE.dot(C$zut.direction,C$zui),(C$zua*=C$zun)<0||1<C$zue+C$zua?Number.NaN:(C$zur=C$zuE.dot(C$zus,C$zui),(C$zur*=C$zun)<0?Number.NaN:C$zur)},C$zus($f,["_tempVector30",function(){return this._tempVector30=new C$zuE},"_tempVector31",function(){return this._tempVector31=new C$zuE},"_tempVector32",function(){return this._tempVector32=new C$zuE},"_tempVector33",function(){return this._tempVector33=new C$zuE},"_tempVector34",function(){return this._tempVector34=new C$zuE},"_tempVector35",function(){return this._tempVector35=new C$zuE},"_tempVector36",function(){return this._tempVector36=new C$zuE},"_tempVector37",function(){return this._tempVector37=new C$zuE}]),$f),C$zupe=(function(){function $m(){this.distance=NaN,this.trianglePositions=null,this.triangleNormals=null,this.position=null,this.sprite3D=null,this.distance=-1,this.trianglePositions=[new C$zuE,new C$zuE,new C$zuE],this.trianglePositions.length=3,this.triangleNormals=[new C$zuE,new C$zuE,new C$zuE],this.triangleNormals.length=3,this.position=new C$zuE}C$zur($m,"laya.d3.utils.RaycastHit"),$m.prototype.cloneTo=function(C$zut){C$zut.distance=this.distance,this.trianglePositions[0].cloneTo(C$zut.trianglePositions[0]),this.trianglePositions[1].cloneTo(C$zut.trianglePositions[1]),this.trianglePositions[2].cloneTo(C$zut.trianglePositions[2]),this.triangleNormals[0].cloneTo(C$zut.triangleNormals[0]),this.triangleNormals[1].cloneTo(C$zut.triangleNormals[1]),this.triangleNormals[2].cloneTo(C$zut.triangleNormals[2]),this.position.cloneTo(C$zut.position),C$zut.sprite3D=this.sprite3D}}(),function(){function $m(C$zut,C$zue){this._width=0,this._height=0,this._width=C$zut,this._height=C$zue}C$zur($m,"laya.d3.utils.Size");var C$zut=$m.prototype;return C$zuo(0,C$zut,"width",function(){return-1===this._width?C$zuj.clientWidth:this._width}),C$zuo(0,C$zut,"height",function(){return-1===this._height?C$zuj.clientHeight:this._height}),C$zuo(1,$m,"fullScreen",function(){return new $m(-1,-1)}),$m}()),C$zume=(C$zur($N,"laya.d3.utils.Utils3D"),$N._rotationTransformScaleSkinAnimation=function(C$zuu,C$zuc,C$zu_,C$zud,C$zut,C$zue,C$zuf,C$zup,C$zum,C$zug,C$zuv,C$zu$){var C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo=$N._tempArray16_0,C$zuh=$N._tempArray16_1,C$zul=$N._tempArray16_2,C$zux=C$zud+C$zud,C$zuy=C$zut+C$zut,C$zub=C$zue+C$zue,C$zud=C$zud*C$zux,C$zuT=C$zut*C$zux,C$zut=C$zut*C$zuy,C$zuw=C$zue*C$zux,C$zuM=C$zue*C$zuy,C$zue=C$zue*C$zub,C$zux=C$zuf*C$zux,C$zuy=C$zuf*C$zuy,C$zuf=C$zuf*C$zub;for(C$zuo[15]=1,C$zuo[0]=1-C$zut-C$zue,C$zuo[1]=C$zuT+C$zuf,C$zuo[2]=C$zuw-C$zuy,C$zuo[4]=C$zuT-C$zuf,C$zuo[5]=1-C$zud-C$zue,C$zuo[6]=C$zuM+C$zux,C$zuo[8]=C$zuw+C$zuy,C$zuo[9]=C$zuM-C$zux,C$zuo[10]=1-C$zud-C$zut,C$zuh[15]=1,C$zuh[0]=C$zup,C$zuh[5]=C$zum,C$zuh[10]=C$zug,C$zui=0;C$zui<4;C$zui++)C$zun=C$zuo[C$zui],C$zur=C$zuo[C$zui+4],C$zus=C$zuo[C$zui+8],C$zua=C$zuo[C$zui+12],C$zul[C$zui]=C$zun,C$zul[C$zui+4]=C$zur,C$zul[C$zui+8]=C$zus,C$zul[C$zui+12]=C$zun*C$zuu+C$zur*C$zuc+C$zus*C$zu_+C$zua;for(C$zui=0;C$zui<4;C$zui++)C$zun=C$zul[C$zui],C$zur=C$zul[C$zui+4],C$zus=C$zul[C$zui+8],C$zua=C$zul[C$zui+12],C$zuv[C$zui+C$zu$]=C$zun*C$zuh[0]+C$zur*C$zuh[1]+C$zus*C$zuh[2]+C$zua*C$zuh[3],C$zuv[C$zui+C$zu$+4]=C$zun*C$zuh[4]+C$zur*C$zuh[5]+C$zus*C$zuh[6]+C$zua*C$zuh[7],C$zuv[C$zui+C$zu$+8]=C$zun*C$zuh[8]+C$zur*C$zuh[9]+C$zus*C$zuh[10]+C$zua*C$zuh[11],C$zuv[C$zui+C$zu$+12]=C$zun*C$zuh[12]+C$zur*C$zuh[13]+C$zus*C$zuh[14]+C$zua*C$zuh[15]},$N._createNodeByJson=function(C$zut,C$zue,C$zui,C$zun){if(!C$zui)switch(C$zue.type){case"Sprite3D":C$zui=new C$zuRe;break;case"MeshSprite3D":C$zui=new C$zuYe;break;case"SkinnedMeshSprite3D":C$zui=new SkinnedMeshSprite3D;break;case"ShuriKenParticle3D":case"MyShuriKenParticle3D":C$zui=new ShuriKenParticle3D;break;case"TrailSprite3D":C$zui=new TrailSprite3D;break;case"Terrain":C$zui=new Terrain;break;case"Camera":C$zui=new C$zuGe;break;case"DirectionLight":C$zui=new DirectionLight;break;default:throw new Error("Utils3D:unidentified class type in (.lh) file.")}var C$zur=C$zue.props;if(C$zur)for(var C$zus in C$zur)C$zui[C$zus]=C$zur[C$zus];var C$zua=C$zue.customProps;C$zua&&(C$zui instanceof laya.d3.core.Sprite3D?(C$zui._parseBaseCustomProps(C$zua),C$zui._parseCustomProps(C$zut,C$zun,C$zua,C$zue),C$zui._parseCustomComponent(C$zut,C$zun,C$zue.components)):C$zui._parseCustomProps(C$zut,C$zun,C$zua,C$zue));var C$zuo=C$zue.child;if(C$zuo)for(var C$zuh=0,C$zul=C$zuo.length;C$zuh<C$zul;C$zuh++){var C$zuu=$N._createNodeByJson(C$zut,C$zuo[C$zuh],null,C$zun);C$zui.addChild(C$zuu)}return C$zui},$N._computeBoneAndAnimationDatasByBindPoseMatrxix=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){var C$zua,C$zuo,C$zuh=0,C$zul=0,C$zuu=C$zut.length;for(C$zua=0;C$zua<C$zuu;C$zuh+=C$zut[C$zua].keyframeWidth,C$zul+=16,C$zua++)laya.d3.utils.Utils3D._rotationTransformScaleSkinAnimation(C$zue[C$zuh+0],C$zue[C$zuh+1],C$zue[C$zuh+2],C$zue[C$zuh+3],C$zue[C$zuh+4],C$zue[C$zuh+5],C$zue[C$zuh+6],C$zue[C$zuh+7],C$zue[C$zuh+8],C$zue[C$zuh+9],C$zun,C$zul),0!=C$zua&&(C$zuo=16*C$zut[C$zua].parentIndex,laya.d3.utils.Utils3D.mulMatrixByArray(C$zun,C$zuo,C$zun,C$zul,C$zun,C$zul));var C$zuc=C$zui.length;for(C$zua=0;C$zua<C$zuc;C$zua++)laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$zun,16*C$zus[C$zua],C$zui[C$zua],C$zur,16*C$zua)},$N._computeAnimationDatasByArrayAndMatrixFast=function(C$zut,C$zue,C$zui,C$zun){for(var C$zur=0,C$zus=C$zut.length;C$zur<C$zus;C$zur++)laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$zue,16*C$zun[C$zur],C$zut[C$zur],C$zui,16*C$zur)},$N._computeBoneAndAnimationDatasByBindPoseMatrxixOld=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus,C$zua,C$zuo=0,C$zuh=0,C$zuu=C$zut.length;for(C$zus=0;C$zus<C$zuu;C$zuo+=C$zut[C$zus].keyframeWidth,C$zuh+=16,C$zus++)laya.d3.utils.Utils3D._rotationTransformScaleSkinAnimation(C$zue[C$zuo+7],C$zue[C$zuo+8],C$zue[C$zuo+9],C$zue[C$zuo+3],C$zue[C$zuo+4],C$zue[C$zuo+5],C$zue[C$zuo+6],C$zue[C$zuo+0],C$zue[C$zuo+1],C$zue[C$zuo+2],C$zun,C$zuh),0!=C$zus&&(C$zua=16*C$zut[C$zus].parentIndex,laya.d3.utils.Utils3D.mulMatrixByArray(C$zun,C$zua,C$zun,C$zuh,C$zun,C$zuh));var C$zuc=C$zui.length;for(C$zus=0;C$zus<C$zuc;C$zus++){var C$zul=16*C$zus;laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$zun,C$zul,C$zui[C$zus],C$zur,C$zul)}},$N._computeAnimationDatasByArrayAndMatrixFastOld=function(C$zut,C$zue,C$zui){for(var C$zun=C$zut.length,C$zur=0;C$zur<C$zun;C$zur++){var C$zus=16*C$zur;laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$zue,C$zus,C$zut[C$zur],C$zui,C$zus)}},$N._computeRootAnimationData=function(C$zut,C$zue,C$zui){for(var C$zun=0,C$zur=0,C$zus=0,C$zua=C$zut.length;C$zun<C$zua;C$zur+=C$zut[C$zun].keyframeWidth,C$zus+=16,C$zun++)laya.d3.utils.Utils3D.createAffineTransformationArray(C$zue[C$zur+0],C$zue[C$zur+1],C$zue[C$zur+2],C$zue[C$zur+3],C$zue[C$zur+4],C$zue[C$zur+5],C$zue[C$zur+6],C$zue[C$zur+7],C$zue[C$zur+8],C$zue[C$zur+9],C$zui,C$zus)},$N.transformVector3ArrayByQuat=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zui=C$zui.elements,C$zus=C$zut[C$zue],C$zua=C$zut[C$zue+1],C$zut=C$zut[C$zue+2],C$zue=C$zui[0],C$zuo=C$zui[1],C$zuh=C$zui[2],C$zui=C$zui[3],C$zul=C$zui*C$zus+C$zuo*C$zut-C$zuh*C$zua,C$zuu=C$zui*C$zua+C$zuh*C$zus-C$zue*C$zut,C$zuc=C$zui*C$zut+C$zue*C$zua-C$zuo*C$zus,C$zus=-C$zue*C$zus-C$zuo*C$zua-C$zuh*C$zut;C$zun[C$zur]=C$zul*C$zui+C$zus*-C$zue+C$zuu*-C$zuh-C$zuc*-C$zuo,C$zun[C$zur+1]=C$zuu*C$zui+C$zus*-C$zuo+C$zuc*-C$zue-C$zul*-C$zuh,C$zun[C$zur+2]=C$zuc*C$zui+C$zus*-C$zuh+C$zul*-C$zuo-C$zuu*-C$zue},$N.mulMatrixByArray=function(C$zut,C$zuu,C$zue,C$zui,C$zun,C$zur){var C$zus,C$zua,C$zuo,C$zuh,C$zul;if(C$zun===C$zue){for(C$zue=$N._tempArray16_3,C$zus=0;C$zus<16;++C$zus)C$zue[C$zus]=C$zun[C$zur+C$zus];C$zui=0}for(C$zus=0;C$zus<4;C$zus++)C$zua=C$zut[C$zuu+C$zus],C$zuo=C$zut[C$zuu+C$zus+4],C$zuh=C$zut[C$zuu+C$zus+8],C$zul=C$zut[C$zuu+C$zus+12],C$zun[C$zur+C$zus]=C$zua*C$zue[C$zui+0]+C$zuo*C$zue[C$zui+1]+C$zuh*C$zue[C$zui+2]+C$zul*C$zue[C$zui+3],C$zun[C$zur+C$zus+4]=C$zua*C$zue[C$zui+4]+C$zuo*C$zue[C$zui+5]+C$zuh*C$zue[C$zui+6]+C$zul*C$zue[C$zui+7],C$zun[C$zur+C$zus+8]=C$zua*C$zue[C$zui+8]+C$zuo*C$zue[C$zui+9]+C$zuh*C$zue[C$zui+10]+C$zul*C$zue[C$zui+11],C$zun[C$zur+C$zus+12]=C$zua*C$zue[C$zui+12]+C$zuo*C$zue[C$zui+13]+C$zuh*C$zue[C$zui+14]+C$zul*C$zue[C$zui+15]},$N.mulMatrixByArrayFast=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zuu){var C$zus,C$zua,C$zuo,C$zuh,C$zul;for(C$zus=0;C$zus<4;C$zus++)C$zua=C$zut[C$zue+C$zus],C$zuo=C$zut[C$zue+C$zus+4],C$zuh=C$zut[C$zue+C$zus+8],C$zul=C$zut[C$zue+C$zus+12],C$zur[C$zuu+C$zus]=C$zua*C$zui[C$zun+0]+C$zuo*C$zui[C$zun+1]+C$zuh*C$zui[C$zun+2]+C$zul*C$zui[C$zun+3],C$zur[C$zuu+C$zus+4]=C$zua*C$zui[C$zun+4]+C$zuo*C$zui[C$zun+5]+C$zuh*C$zui[C$zun+6]+C$zul*C$zui[C$zun+7],C$zur[C$zuu+C$zus+8]=C$zua*C$zui[C$zun+8]+C$zuo*C$zui[C$zun+9]+C$zuh*C$zui[C$zun+10]+C$zul*C$zui[C$zun+11],C$zur[C$zuu+C$zus+12]=C$zua*C$zui[C$zun+12]+C$zuo*C$zui[C$zun+13]+C$zuh*C$zui[C$zun+14]+C$zul*C$zui[C$zun+15]},$N.mulMatrixByArrayAndMatrixFast=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus,C$zua,C$zuo,C$zuh,C$zul,C$zui=C$zui.elements,C$zuu=C$zui[0],C$zuc=C$zui[1],C$zu_=C$zui[2],C$zud=C$zui[3],C$zuf=C$zui[4],C$zup=C$zui[5],C$zum=C$zui[6],C$zug=C$zui[7],C$zuv=C$zui[8],C$zu$=C$zui[9],C$zux=C$zui[10],C$zuy=C$zui[11],C$zub=C$zui[12],C$zuT=C$zui[13],C$zuw=C$zui[14],C$zuM=C$zui[15],C$zuS=C$zue,C$zuC=C$zue+4,C$zuD=C$zue+8,C$zuE=C$zue+12,C$zuP=C$zur,C$zuA=C$zur+4,C$zuI=C$zur+8,C$zuR=C$zur+12;for(C$zus=0;C$zus<4;C$zus++)C$zua=C$zut[C$zuS+C$zus],C$zuo=C$zut[C$zuC+C$zus],C$zuh=C$zut[C$zuD+C$zus],C$zul=C$zut[C$zuE+C$zus],C$zun[C$zuP+C$zus]=C$zua*C$zuu+C$zuo*C$zuc+C$zuh*C$zu_+C$zul*C$zud,C$zun[C$zuA+C$zus]=C$zua*C$zuf+C$zuo*C$zup+C$zuh*C$zum+C$zul*C$zug,C$zun[C$zuI+C$zus]=C$zua*C$zuv+C$zuo*C$zu$+C$zuh*C$zux+C$zul*C$zuy,C$zun[C$zuR+C$zus]=C$zua*C$zub+C$zuo*C$zuT+C$zuh*C$zuw+C$zul*C$zuM},$N.createAffineTransformationArray=function(C$zuu,C$zuc,C$zu_,C$zut,C$zue,C$zui,C$zun,C$zur,C$zud,C$zuf,C$zus,C$zua){var C$zuo=C$zut+C$zut,C$zuh=C$zue+C$zue,C$zul=C$zui+C$zui,C$zup=C$zut*C$zuo,C$zum=C$zut*C$zuh,C$zut=C$zut*C$zul,C$zug=C$zue*C$zuh,C$zue=C$zue*C$zul,C$zui=C$zui*C$zul,C$zuo=C$zun*C$zuo,C$zuh=C$zun*C$zuh,C$zun=C$zun*C$zul;C$zus[C$zua+0]=(1-(C$zug+C$zui))*C$zur,C$zus[C$zua+1]=(C$zum+C$zun)*C$zur,C$zus[C$zua+2]=(C$zut-C$zuh)*C$zur,C$zus[C$zua+3]=0,C$zus[C$zua+4]=(C$zum-C$zun)*C$zud,C$zus[C$zua+5]=(1-(C$zup+C$zui))*C$zud,C$zus[C$zua+6]=(C$zue+C$zuo)*C$zud,C$zus[C$zua+7]=0,C$zus[C$zua+8]=(C$zut+C$zuh)*C$zuf,C$zus[C$zua+9]=(C$zue-C$zuo)*C$zuf,C$zus[C$zua+10]=(1-(C$zup+C$zug))*C$zuf,C$zus[C$zua+11]=0,C$zus[C$zua+12]=C$zuu,C$zus[C$zua+13]=C$zuc,C$zus[C$zua+14]=C$zu_,C$zus[C$zua+15]=1},$N.transformVector3ArrayToVector3ArrayCoordinate=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=$N._tempArray4_0,C$zua=C$zut[C$zue+0],C$zuo=C$zut[C$zue+1],C$zut=C$zut[C$zue+2],C$zue=C$zui.elements;C$zus[0]=C$zua*C$zue[0]+C$zuo*C$zue[4]+C$zut*C$zue[8]+C$zue[12],C$zus[1]=C$zua*C$zue[1]+C$zuo*C$zue[5]+C$zut*C$zue[9]+C$zue[13],C$zus[2]=C$zua*C$zue[2]+C$zuo*C$zue[6]+C$zut*C$zue[10]+C$zue[14],C$zus[3]=1/(C$zua*C$zue[3]+C$zuo*C$zue[7]+C$zut*C$zue[11]+C$zue[15]),C$zun[C$zur+0]=C$zus[0]*C$zus[3],C$zun[C$zur+1]=C$zus[1]*C$zus[3],C$zun[C$zur+2]=C$zus[2]*C$zus[3]},$N.transformLightingMapTexcoordByUV0Array=function(C$zut,C$zue,C$zui,C$zun,C$zur){C$zui=C$zui.elements;C$zun[C$zur+0]=C$zut[C$zue+0]*C$zui[0]+C$zui[2],C$zun[C$zur+1]=(C$zut[C$zue+1]-1)*C$zui[1]+C$zui[3]},$N.transformLightingMapTexcoordByUV1Array=function(C$zut,C$zue,C$zui,C$zun,C$zur){C$zui=C$zui.elements;C$zun[C$zur+0]=C$zut[C$zue+0]*C$zui[0]+C$zui[2],C$zun[C$zur+1]=1+C$zut[C$zue+1]*C$zui[1]+C$zui[3]},$N.getURLVerion=function(C$zut){var C$zue=C$zut.indexOf("?");return 0<=C$zue?C$zut.substr(C$zue):null},$N._quaternionCreateFromYawPitchRollArray=function(C$zut,C$zue,C$zui,C$zun){var C$zui=.5*C$zui,C$zue=.5*C$zue,C$zut=.5*C$zut,C$zur=Math.sin(C$zui),C$zui=Math.cos(C$zui),C$zus=Math.sin(C$zue),C$zue=Math.cos(C$zue),C$zua=Math.sin(C$zut),C$zut=Math.cos(C$zut);C$zun[0]=C$zut*C$zus*C$zui+C$zua*C$zue*C$zur,C$zun[1]=C$zua*C$zue*C$zui-C$zut*C$zus*C$zur,C$zun[2]=C$zut*C$zue*C$zur-C$zua*C$zus*C$zui,C$zun[3]=C$zut*C$zue*C$zui+C$zua*C$zus*C$zur},$N._createAffineTransformationArray=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zue[0],C$zus=C$zue[1],C$zua=C$zue[2],C$zue=C$zue[3],C$zuo=C$zur+C$zur,C$zuh=C$zus+C$zus,C$zul=C$zua+C$zua,C$zuu=C$zur*C$zuo,C$zuc=C$zur*C$zuh,C$zur=C$zur*C$zul,C$zu_=C$zus*C$zuh,C$zus=C$zus*C$zul,C$zua=C$zua*C$zul,C$zuo=C$zue*C$zuo,C$zuh=C$zue*C$zuh,C$zue=C$zue*C$zul,C$zul=C$zui[0],C$zud=C$zui[1],C$zui=C$zui[2];C$zun[0]=(1-(C$zu_+C$zua))*C$zul,C$zun[1]=(C$zuc+C$zue)*C$zul,C$zun[2]=(C$zur-C$zuh)*C$zul,C$zun[3]=0,C$zun[4]=(C$zuc-C$zue)*C$zud,C$zun[5]=(1-(C$zuu+C$zua))*C$zud,C$zun[6]=(C$zus+C$zuo)*C$zud,C$zun[7]=0,C$zun[8]=(C$zur+C$zuh)*C$zui,C$zun[9]=(C$zus-C$zuo)*C$zui,C$zun[10]=(1-(C$zuu+C$zu_))*C$zui,C$zun[11]=0,C$zun[12]=C$zut[0],C$zun[13]=C$zut[1],C$zun[14]=C$zut[2],C$zun[15]=1},$N._mulMatrixArray=function(C$zut,C$zue,C$zui,C$zun){var C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zue=C$zue.elements,C$zul=C$zue[0],C$zuu=C$zue[1],C$zuc=C$zue[2],C$zu_=C$zue[3],C$zud=C$zue[4],C$zuf=C$zue[5],C$zup=C$zue[6],C$zum=C$zue[7],C$zug=C$zue[8],C$zuv=C$zue[9],C$zu$=C$zue[10],C$zux=C$zue[11],C$zuy=C$zue[12],C$zub=C$zue[13],C$zuT=C$zue[14],C$zuw=C$zue[15],C$zuM=C$zun,C$zuS=C$zun+4,C$zuC=C$zun+8,C$zuD=C$zun+12;for(C$zur=0;C$zur<4;C$zur++)C$zus=C$zut[C$zur],C$zua=C$zut[C$zur+4],C$zuo=C$zut[C$zur+8],C$zuh=C$zut[C$zur+12],C$zui[C$zuM+C$zur]=C$zus*C$zul+C$zua*C$zuu+C$zuo*C$zuc+C$zuh*C$zu_,C$zui[C$zuS+C$zur]=C$zus*C$zud+C$zua*C$zuf+C$zuo*C$zup+C$zuh*C$zum,C$zui[C$zuC+C$zur]=C$zus*C$zug+C$zua*C$zuv+C$zuo*C$zu$+C$zuh*C$zux,C$zui[C$zuD+C$zur]=C$zus*C$zuy+C$zua*C$zub+C$zuo*C$zuT+C$zuh*C$zuw},$N.getYawPitchRoll=function(C$zut,C$zue){$N.transformQuat(C$zuE.ForwardRH,C$zut,C$zune.TEMPVector31),$N.transformQuat(C$zuE.Up,C$zut,C$zune.TEMPVector32);C$zut=C$zune.TEMPVector32.elements;$N.angleTo(C$zuE.ZERO,C$zune.TEMPVector31,C$zune.TEMPVector33);var C$zui=C$zune.TEMPVector33.elements;C$zui[0]==Math.PI/2?(C$zui[1]=$N.arcTanAngle(C$zut[2],C$zut[0]),C$zui[2]=0):C$zui[0]==-Math.PI/2?(C$zui[1]=$N.arcTanAngle(-C$zut[2],-C$zut[0]),C$zui[2]=0):(C$zuee.createRotationY(-C$zui[1],C$zune.TEMPMatrix0),C$zuee.createRotationX(-C$zui[0],C$zune.TEMPMatrix1),C$zuE.transformCoordinate(C$zune.TEMPVector32,C$zune.TEMPMatrix0,C$zune.TEMPVector32),C$zuE.transformCoordinate(C$zune.TEMPVector32,C$zune.TEMPMatrix1,C$zune.TEMPVector32),C$zui[2]=$N.arcTanAngle(C$zut[1],-C$zut[0])),C$zui[1]<=-Math.PI&&(C$zui[1]=Math.PI),C$zui[2]<=-Math.PI&&(C$zui[2]=Math.PI),C$zui[1]>=Math.PI&&C$zui[2]>=Math.PI&&(C$zui[1]=0,C$zui[2]=0,C$zui[0]=Math.PI-C$zui[0]),C$zue[0]=C$zui[1],C$zue[1]=C$zui[0],C$zue[2]=C$zui[2]},$N.arcTanAngle=function(C$zut,C$zue){return 0==C$zut?1==C$zue?Math.PI/2:-Math.PI/2:0<C$zut?Math.atan(C$zue/C$zut):C$zut<0?0<C$zue?Math.atan(C$zue/C$zut)+Math.PI:Math.atan(C$zue/C$zut)-Math.PI:0},$N.angleTo=function(C$zut,C$zue,C$zui){C$zuE.subtract(C$zue,C$zut,C$zune.TEMPVector30),C$zuE.normalize(C$zune.TEMPVector30,C$zune.TEMPVector30),C$zui.elements[0]=Math.asin(C$zune.TEMPVector30.y),C$zui.elements[1]=$N.arcTanAngle(-C$zune.TEMPVector30.z,-C$zune.TEMPVector30.x)},$N.transformQuat=function(C$zut,C$zue,C$zui){var C$zui=C$zui.elements,C$zut=C$zut.elements,C$zun=C$zut[0],C$zur=C$zut[1],C$zut=C$zut[2],C$zus=C$zue[0],C$zua=C$zue[1],C$zuo=C$zue[2],C$zue=C$zue[3],C$zuh=C$zue*C$zun+C$zua*C$zut-C$zuo*C$zur,C$zul=C$zue*C$zur+C$zuo*C$zun-C$zus*C$zut,C$zuu=C$zue*C$zut+C$zus*C$zur-C$zua*C$zun,C$zun=-C$zus*C$zun-C$zua*C$zur-C$zuo*C$zut;C$zui[0]=C$zuh*C$zue+C$zun*-C$zus+C$zul*-C$zuo-C$zuu*-C$zua,C$zui[1]=C$zul*C$zue+C$zun*-C$zua+C$zuu*-C$zus-C$zuh*-C$zuo,C$zui[2]=C$zuu*C$zue+C$zun*-C$zuo+C$zuh*-C$zua-C$zul*-C$zus},$N.quaterionNormalize=function(C$zut,C$zue){var C$zui=C$zut[0],C$zun=C$zut[1],C$zur=C$zut[2],C$zut=C$zut[3],C$zus=C$zui*C$zui+C$zun*C$zun+C$zur*C$zur+C$zut*C$zut;0<C$zus&&(C$zus=1/Math.sqrt(C$zus),C$zue[0]=C$zui*C$zus,C$zue[1]=C$zun*C$zus,C$zue[2]=C$zur*C$zus,C$zue[3]=C$zut*C$zus)},$N.matrix4x4MultiplyFFF=function(C$zut,C$zue,C$zui){var C$zun,C$zur,C$zus,C$zua,C$zuo;if(C$zui===C$zue)for(C$zue=new Float32Array(16),C$zun=0;C$zun<16;++C$zun)C$zue[C$zun]=C$zui[C$zun];for(C$zun=0;C$zun<4;C$zun++)C$zur=C$zut[C$zun],C$zus=C$zut[C$zun+4],C$zua=C$zut[C$zun+8],C$zuo=C$zut[C$zun+12],C$zui[C$zun]=C$zur*C$zue[0]+C$zus*C$zue[1]+C$zua*C$zue[2]+C$zuo*C$zue[3],C$zui[C$zun+4]=C$zur*C$zue[4]+C$zus*C$zue[5]+C$zua*C$zue[6]+C$zuo*C$zue[7],C$zui[C$zun+8]=C$zur*C$zue[8]+C$zus*C$zue[9]+C$zua*C$zue[10]+C$zuo*C$zue[11],C$zui[C$zun+12]=C$zur*C$zue[12]+C$zus*C$zue[13]+C$zua*C$zue[14]+C$zuo*C$zue[15]},$N.matrix4x4MultiplyMFM=function(C$zut,C$zue,C$zui){$N.matrix4x4MultiplyFFF(C$zut.elements,C$zue,C$zui.elements)},C$zus($N,["_typeToFunO",function(){return this._typeToFunO={INT16:"writeInt16",SHORT:"writeInt16",UINT16:"writeUint16",UINT32:"writeUint32",FLOAT32:"writeFloat32",INT:"writeInt32",UINT:"writeUint32",BYTE:"writeByte",STRING:"writeUTFString"}},"_tempVector3_0",function(){return this._tempVector3_0=new C$zuE},"_tempVector3_1",function(){return this._tempVector3_1=new C$zuE},"_tempVector3_2",function(){return this._tempVector3_2=new C$zuE},"_tempVector3_3",function(){return this._tempVector3_3=new C$zuE},"_tempVector3_4",function(){return this._tempVector3_4=new C$zuE},"_tempVector3_5",function(){return this._tempVector3_5=new C$zuE},"_tempVector3_6",function(){return this._tempVector3_6=new C$zuE},"_tempArray4_0",function(){return this._tempArray4_0=new Float32Array(4)},"_tempArray16_0",function(){return this._tempArray16_0=new Float32Array(16)},"_tempArray16_1",function(){return this._tempArray16_1=new Float32Array(16)},"_tempArray16_2",function(){return this._tempArray16_2=new Float32Array(16)},"_tempArray16_3",function(){return this._tempArray16_3=new Float32Array(16)}]),$N),C$zuge=(C$zur($M,"Laya3D"),$M._cancelLoadByUrl=function(C$zut){C$zuy.loader.cancelLoadByUrl(C$zut),$M._innerFirstLevelLoaderManager.cancelLoadByUrl(C$zut),$M._innerSecondLevelLoaderManager.cancelLoadByUrl(C$zut),$M._innerThirdLevelLoaderManager.cancelLoadByUrl(C$zut),$M._innerFourthLevelLoaderManager.cancelLoadByUrl(C$zut)},$M._changeWebGLSize=function(C$zut,C$zue){C$zuI.onStageResize(C$zut,C$zue),C$zuj.clientWidth=C$zut,C$zuj.clientHeight=C$zue},$M.__init__=function(){var C$zut=C$zud.createMap;C$zut.lh=[C$zuRe,"SPRITE3DHIERARCHY"],C$zut.ls=[C$zuIe,"SPRITE3DHIERARCHY"],C$zut.lm=[C$zuke,"MESH"],C$zut.lmat=[C$zuBe,"MATERIAL"],C$zut.jpg=[C$zuHe,"nativeimage"],C$zut.jpeg=[C$zuHe,"nativeimage"],C$zut.png=[C$zuHe,"nativeimage"],C$zut.pkm=[C$zuHe,"arraybuffer"],C$zut.raw=[C$zuOe,"arraybuffer"],C$zut.mipmaps=[C$zuOe,"arraybuffer"],C$zug.parserMap.SPRITE3DHIERARCHY=$M._loadHierarchy,C$zug.parserMap.MESH=$M._loadMesh,C$zug.parserMap.MATERIAL=$M._loadMaterial,C$zug.parserMap.TEXTURECUBE=$M._loadTextureCube,C$zug.parserMap.TERRAIN=$M._loadTerrain,$M._innerFirstLevelLoaderManager.on("error",null,$M._eventLoadManagerError),$M._innerSecondLevelLoaderManager.on("error",null,$M._eventLoadManagerError),$M._innerThirdLevelLoaderManager.on("error",null,$M._eventLoadManagerError),$M._innerFourthLevelLoaderManager.on("error",null,$M._eventLoadManagerError)},$M.READ_BLOCK=function(){return $M._readData.pos+=4,!0},$M.READ_DATA=function(){return $M._DATA.offset=$M._readData.getUint32(),$M._DATA.size=$M._readData.getUint32(),!0},$M.READ_STRINGS=function(){var C$zut=[],C$zue={offset:0,size:0};C$zue.offset=$M._readData.getUint16(),C$zue.size=$M._readData.getUint16(),$M._readData.pos,$M._readData.pos=C$zue.offset+$M._DATA.offset;for(var C$zui=0;C$zui<C$zue.size;C$zui++){var C$zun=$M._readData.readUTFString();-1===C$zun.lastIndexOf(".lmat")&&-1===C$zun.lastIndexOf(".lpbr")||C$zut.push(C$zun)}return C$zut},$M.formatRelativePath=function(C$zut,C$zue){var C$zui;if("."===C$zue.charAt(0)){for(var C$zun=(C$zut+C$zue).split("/"),C$zur=0,C$zus=C$zun.length;C$zur<C$zus;C$zur++){var C$zua;".."!=C$zun[C$zur]||0<(C$zua=C$zur-1)&&".."!==C$zun[C$zua]&&(C$zun.splice(C$zua,2),C$zur-=2)}C$zui=C$zun.join("/")}else C$zui=C$zut+C$zue;return C$zui=null!=C$zuP.customFormat?C$zuP.customFormat(C$zui,null):C$zui},$M._eventLoadManagerError=function(C$zut){C$zuy.loader.event("error",C$zut)},$M._addHierarchyInnerUrls=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){C$zun=$M.formatRelativePath(C$zun,C$zur);C$zui&&(C$zun+=C$zui),C$zut.push({url:C$zun,clas:C$zus}),C$zue[C$zur]=C$zun},$M._getSprite3DHierarchyInnerUrls=function(C$zut,C$zuu,C$zuc,C$zue,C$zui,C$zun,C$zur){var C$zu_,C$zus=0,C$zua=0;switch(C$zut.type){case"Scene":var C$zud=C$zut.customProps.lightmaps;for(C$zus=0,C$zua=C$zud.length;C$zus<C$zua;C$zus++){var C$zuf=C$zud[C$zus].replace(".exr",".png");$M._addHierarchyInnerUrls(C$zue,C$zui,C$zun,C$zur,C$zuf,C$zuHe)}break;case"MeshSprite3D":case"TrailSprite3D":case"LineSprite3D":case"SkinnedMeshSprite3D":if(C$zut.instanceParams)(C$zul=C$zut.instanceParams.loadPath)&&$M._addHierarchyInnerUrls(C$zuu,C$zui,C$zun,C$zur,C$zul,C$zuke);else{(C$zul=(C$zu_=C$zut.customProps).meshPath)&&$M._addHierarchyInnerUrls(C$zuu,C$zui,C$zun,C$zur,C$zul,C$zuke);var C$zup=C$zu_.materials;if(C$zup)for(C$zus=0,C$zua=C$zup.length;C$zus<C$zua;C$zus++){for(var C$zum=C$zup[C$zus],C$zug=C$zum.type.split("."),C$zuo=C$zuw.window,C$zuh=0,C$zuv=C$zug.length;C$zuh<C$zuv;++C$zuh)C$zuo=C$zuo[this.clasPaths[C$zuh]];if("function"!=typeof C$zuo)throw"_getSprite3DHierarchyInnerUrls \u9519\u8bef: "+C$zum.type+" \u4e0d\u662f\u7c7b";$M._addHierarchyInnerUrls(C$zuc,C$zui,C$zun,C$zur,C$zum.path,C$zuo)}}break;case"ShuriKenParticle3D":case"MyShuriKenParticle3D":var C$zul=(C$zu_=C$zut.customProps).meshPath;C$zul&&$M._addHierarchyInnerUrls(C$zuu,C$zui,C$zun,C$zur,C$zul,C$zuke);C$zul=C$zu_.material;if(C$zul){for(C$zug=C$zul.type.split("."),C$zuo=C$zuw.window,C$zuh=0,C$zuv=C$zug.length;C$zuh<C$zuv;++C$zuh)C$zuo=C$zuo[this.clasPaths[C$zuh]];$M._addHierarchyInnerUrls(C$zuc,C$zui,C$zun,C$zur,C$zul.path,C$zuo)}else{C$zul=C$zu_.materialPath;C$zul?$M._addHierarchyInnerUrls(C$zuc,C$zui,C$zun,C$zur,C$zul,ShurikenParticleMaterial):(C$zul=C$zu_.texturePath)&&$M._addHierarchyInnerUrls(C$zue,C$zui,C$zun,C$zur,C$zul,C$zuHe)}break;case"Terrain":$M._addHierarchyInnerUrls(C$zue,C$zui,C$zun,C$zur,C$zut.customProps.dataPath,TerrainRes)}var C$zu$=C$zut.components;for(var C$zux in C$zu$){var C$zuy=C$zu$[C$zux];if("Animator"===C$zux){C$zux=C$zuy.avatarPath;C$zux?$M._addHierarchyInnerUrls(C$zue,C$zui,C$zun,C$zur,C$zux,Avatar):(C$zux=C$zuy.avatar)&&$M._addHierarchyInnerUrls(C$zue,C$zui,C$zun,C$zur,C$zux.path,Avatar);var C$zub=C$zuy.clipPaths;for(C$zus=0,C$zua=C$zub.length;C$zus<C$zua;C$zus++)$M._addHierarchyInnerUrls(C$zue,C$zui,C$zun,C$zur,C$zub[C$zus],AnimationClip)}}var C$zuT=C$zut.child;for(C$zus=0,C$zua=C$zuT.length;C$zus<C$zua;C$zus++)$M._getSprite3DHierarchyInnerUrls(C$zuT[C$zus],C$zuu,C$zuc,C$zue,C$zui,C$zun,C$zur)},$M._loadHierarchy=function(C$zut){C$zut.on("loaded",null,$M._onHierarchylhLoaded,[C$zut,C$zut._class._getGroup()]),C$zut.load(C$zut.url,"json",!1,null,!0)},$M._onHierarchylhLoaded=function(C$zut,C$zue,C$zui){var C$zun,C$zur,C$zus,C$zuu,C$zua,C$zuo,C$zuh,C$zul;C$zut._class.destroyed?C$zut.endLoad():(C$zua=C$zut.url,C$zul=C$zume.getURLVerion(C$zua),C$zua=C$zuP.getPath(C$zua),$M._getSprite3DHierarchyInnerUrls(C$zui,C$zun=[],C$zur=[],C$zus=[],C$zuu={},C$zul,C$zua),$M._onProcessChange(C$zut,0,C$zuo=1/(C$zua=(C$zul=C$zun.length+C$zur.length+C$zus.length)+1),1),0<C$zus.length?(C$zul=C$zub.create(null,$M._onProcessChange,[C$zut,C$zuo,C$zuh=C$zul/C$zua],!1),$M._innerFourthLevelLoaderManager.create(C$zus,C$zub.create(null,$M._onHierarchyInnerForthLevResouLoaded,[C$zut,C$zue,C$zul,C$zui,C$zuu,C$zun,C$zur,C$zuo+C$zuh*C$zus.length,C$zuh]),C$zul,null,null,1,!0,C$zue)):$M._onHierarchyInnerForthLevResouLoaded(C$zut,C$zue,null,C$zui,C$zuu,C$zun,C$zur,C$zuo,C$zuh))},$M._onHierarchyInnerForthLevResouLoaded=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh){var C$zul;C$zut._class.destroyed?C$zut.endLoad():(C$zui&&C$zui.recover(),0<C$zua.length?(C$zul=C$zub.create(null,$M._onProcessChange,[C$zut,C$zuo,C$zuh],!1),$M._innerSecondLevelLoaderManager.create(C$zua,C$zub.create(null,$M._onHierarchyInnerSecondLevResouLoaded,[C$zut,C$zue,C$zul,C$zun,C$zur,C$zus,C$zuo+C$zuh*C$zua.length,C$zuh]),C$zui,null,null,1,!0,C$zue)):$M._onHierarchyInnerSecondLevResouLoaded(C$zut,C$zue,null,C$zun,C$zur,C$zus,C$zuo,C$zuh))},$M._onHierarchyInnerSecondLevResouLoaded=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo){C$zut._class.destroyed?C$zut.endLoad():(C$zui&&C$zui.recover(),0<C$zus.length?(C$zua=C$zub.create(null,$M._onProcessChange,[C$zut,C$zua,C$zuo],!1),$M._innerFirstLevelLoaderManager.create(C$zus,C$zub.create(null,$M._onHierarchyInnerFirstLevResouLoaded,[C$zut,C$zua,C$zun,C$zur]),C$zui,null,null,1,!0,C$zue)):$M._onHierarchyInnerFirstLevResouLoaded(C$zut,null,C$zun,C$zur))},$M._onHierarchyInnerFirstLevResouLoaded=function(C$zut,C$zue,C$zui,C$zun){C$zue&&C$zue.recover(),C$zut.endLoad([C$zui,C$zun])},$M._loadTerrain=function(C$zut){C$zut.on("loaded",null,$M._onTerrainLtLoaded,[C$zut,C$zut._class._getGroup()]),C$zut.load(C$zut.url,"json",!1,null,!0)},$M._onTerrainLtLoaded=function(C$zut,C$zuu,C$zue){if(C$zut._class.destroyed)C$zut.endLoad();else{var C$zui,C$zun=C$zut.url,C$zur=C$zume.getURLVerion(C$zun),C$zuc=C$zuP.getPath(C$zun),C$zus=[],C$zua={},C$zuo=0,C$zuh=0,C$zun=C$zue.heightData;C$zul=C$zun.url,C$zui=$M.formatRelativePath(C$zuc,C$zul),C$zur&&(C$zui+=C$zur),C$zul=C$zua[C$zul]=C$zui;var C$zu_=C$zue.detailTexture;for(C$zuo=0,C$zuh=C$zu_.length;C$zuo<C$zuh;C$zuo++)C$zus.push({url:C$zu_[C$zuo].diffuse});var C$zud=C$zue.normalMap;for(C$zuo=0,C$zuh=C$zud.length;C$zuo<C$zuh;C$zuo++)C$zus.push({url:C$zud[C$zuo]});var C$zuf=C$zue.alphaMap;for(C$zuo=0,C$zuh=C$zuf.length;C$zuo<C$zuh;C$zuo++)C$zus.push({url:C$zuf[C$zuo],params:[!1,!1,6408,!0]});for(C$zuo=0,C$zuh=C$zus.length;C$zuo<C$zuh;C$zuo++){var C$zup=C$zus[C$zuo].url;C$zui=$M.formatRelativePath(C$zuc,C$zup),C$zur&&(C$zui+=C$zur),C$zus[C$zuo].url=C$zui,C$zua[C$zup]=C$zui}var C$zum=C$zus.length,C$zug=C$zum+2,C$zuv=1/C$zug;$M._onProcessChange(C$zut,0,C$zuv,1);var C$zu$={heightMapLoaded:!1,texturesLoaded:!1},C$zux=C$zub.create(null,$M._onProcessChange,[C$zut,C$zuv,C$zuv],!1);$M._innerFourthLevelLoaderManager.create(C$zul,C$zub.create(null,$M._onTerrainHeightMapLoaded,[C$zut,C$zux,C$zue,C$zua,C$zu$]),C$zux,null,[C$zun.numX,C$zun.numZ,C$zun.bitType,C$zun.value],1,!0,C$zuu);var C$zul=C$zub.create(null,$M._onProcessChange,[C$zut,2*C$zuv,C$zum/C$zug],!1);$M._innerFourthLevelLoaderManager.create(C$zus,C$zub.create(null,$M._onTerrainTexturesLoaded,[C$zut,C$zul,C$zue,C$zua,C$zu$]),C$zul,null,null,1,!0,C$zuu)}},$M._onTerrainHeightMapLoaded=function(C$zut,C$zue,C$zui,C$zun,C$zur){C$zur.heightMapLoaded=!0,C$zur.texturesLoaded&&(C$zut.endLoad([C$zui,C$zun]),C$zue.recover())},$M._onTerrainTexturesLoaded=function(C$zut,C$zue,C$zui,C$zun,C$zur){C$zur.texturesLoaded=!0,C$zur.heightMapLoaded&&(C$zut.endLoad([C$zui,C$zun]),C$zue.recover())},$M._loadMesh=function(C$zut){C$zut.on("loaded",null,$M._onMeshLmLoaded,[C$zut,C$zut._class._getGroup()]),C$zut.load(C$zut.url,"arraybuffer",!1,null,!0)},$M._onMeshLmLoaded=function(C$zut,C$zuu,C$zue){if(C$zut._class.destroyed)C$zut.endLoad();else{var C$zui,C$zun,C$zur,C$zus,C$zua=C$zut.url,C$zuc=C$zume.getURLVerion(C$zua),C$zu_=C$zuP.getPath(C$zua),C$zuo={},C$zuh=0;switch(($M._readData=new C$zu$(C$zue)).pos=0,$M._readData.readUTFString()){case"LAYAMODEL:02":case"LAYAMODEL:03":case"LAYAMODEL:0301":var C$zud=$M._readData.getUint32();$M._readData.pos=$M._readData.pos+4,C$zus=$M._readData.getUint16(),$M._readData.pos=$M._readData.pos+8*C$zus;var C$zuf=$M._readData.getUint32();for(C$zus=$M._readData.getUint16(),$M._readData.pos=C$zud+C$zuf,C$zui=[],C$zuh=0;C$zuh<C$zus;C$zuh++){var C$zup=$M._readData.readUTFString();-1!==C$zup.lastIndexOf(".lmat")&&C$zui.push(C$zup)}break;default:for($M.READ_BLOCK(),C$zuh=0;C$zuh<2;C$zuh++){var C$zum=$M._readData.getUint16(),C$zug=$M._strings[C$zum],C$zul=$M["READ_"+C$zug];if(null==C$zul)throw new Error("model file err,no this function:"+C$zum+" "+C$zug);1===C$zuh?C$zui=C$zul.call():C$zul.call()}}for(C$zuh=0,C$zur=C$zui.length;C$zuh<C$zur;C$zuh++){var C$zuv=C$zui[C$zuh];C$zun=$M.formatRelativePath(C$zu_,C$zuv),C$zuc&&(C$zun+=C$zuc),C$zui[C$zuh]=C$zun,C$zuo[C$zuv]=C$zun}0<C$zui.length?($M._onProcessChange(C$zut,0,.5,1),C$zua=C$zub.create(null,$M._onProcessChange,[C$zut,.5,.5],!1),$M._innerSecondLevelLoaderManager.create(C$zui,C$zub.create(null,$M._onMeshMateialLoaded,[C$zut,C$zua,C$zue,C$zuo]),C$zua,null,null,1,!0,C$zuu)):C$zut.endLoad([C$zue,C$zuo])}},$M._onMeshMateialLoaded=function(C$zut,C$zue,C$zui,C$zun){C$zut.endLoad([C$zui,C$zun]),C$zue.recover()},$M._getMaterialTexturePath=function(C$zut,C$zue,C$zui){var C$zun=C$zut.length-4;return C$zut.indexOf(".dds")!=C$zun&&C$zut.indexOf(".tga")!=C$zun&&C$zut.indexOf(".exr")!=C$zun&&C$zut.indexOf(".DDS")!=C$zun&&C$zut.indexOf(".TGA")!=C$zun&&C$zut.indexOf(".EXR")!=C$zun||(C$zut=C$zut.substr(0,C$zun)+".png"),C$zut=$M.formatRelativePath(C$zui,C$zut),C$zue&&(C$zut+=C$zue),C$zut},$M._loadMaterial=function(C$zut){C$zut.on("loaded",null,$M._onMaterilLmatLoaded,[C$zut,C$zut._class._getGroup()]),C$zut.load(C$zut.url,"json",!1,null,!0)},$M._onMaterilLmatLoaded=function(C$zut,C$zuu,C$zuc){if(C$zut._class.destroyed)C$zut.endLoad();else{var C$zue,C$zui=C$zut.url,C$zun=C$zume.getURLVerion(C$zui),C$zur=C$zuP.getPath(C$zui),C$zus=[],C$zua={},C$zui=C$zuc.customProps,C$zuo=C$zuc.version;if(C$zuo)switch(C$zuo){case"LAYAMATERIAL:01":case"LAYAMATERIAL:02":for(var C$zu_=C$zuc.props.textures,C$zud=0,C$zuf=C$zu_.length;C$zud<C$zuf;C$zud++){var C$zup=C$zu_[C$zud],C$zuh=C$zup.path;var C$zum;C$zuh&&(C$zum=C$zuh.length-4,C$zuh.indexOf(".exr")!=C$zum&&C$zuh.indexOf(".EXR")!=C$zum||(C$zuh=C$zuh.substr(0,C$zum)+".png"),C$zue=$M.formatRelativePath(C$zur,C$zuh),C$zun&&(C$zue+=C$zun),C$zus.push({url:C$zue,params:C$zup.params}),C$zua[C$zuh]=C$zue)}break;default:throw new Error("Laya3D:unkonwn version.")}else{C$zuo=C$zui.diffuseTexture.texture2D;C$zuo&&(C$zue=$M._getMaterialTexturePath(C$zuo,C$zun,C$zur),C$zus.push(C$zue),C$zua[C$zuo]=C$zue),C$zui.normalTexture&&(C$zul=C$zui.normalTexture.texture2D)&&(C$zue=$M._getMaterialTexturePath(C$zul,C$zun,C$zur),C$zus.push(C$zue),C$zua[C$zul]=C$zue),!C$zui.specularTexture||(C$zuo=C$zui.specularTexture.texture2D)&&(C$zue=$M._getMaterialTexturePath(C$zuo,C$zun,C$zur),C$zus.push(C$zue),C$zua[C$zuo]=C$zue),!C$zui.emissiveTexture||(C$zul=C$zui.emissiveTexture.texture2D)&&(C$zue=$M._getMaterialTexturePath(C$zul,C$zun,C$zur),C$zus.push(C$zue),C$zua[C$zul]=C$zue),!C$zui.ambientTexture||(C$zuo=C$zui.ambientTexture.texture2D)&&(C$zue=$M._getMaterialTexturePath(C$zuo,C$zun,C$zur),C$zus.push(C$zue),C$zua[C$zuo]=C$zue),!C$zui.reflectTexture||(C$zul=C$zui.reflectTexture.texture2D)&&(C$zue=$M._getMaterialTexturePath(C$zul,C$zun,C$zur),C$zus.push(C$zue),C$zua[C$zul]=C$zue)}var C$zuo=C$zus.length,C$zui=C$zuo+1,C$zul=1/C$zui;$M._onProcessChange(C$zut,0,C$zul,1),0<C$zuo?(C$zul=C$zub.create(null,$M._onProcessChange,[C$zut,C$zul,C$zuo/C$zui],!1),$M._innerFourthLevelLoaderManager.create(C$zus,C$zub.create(null,$M._onMateialTexturesLoaded,[C$zut,C$zul,C$zuc,C$zua]),C$zul,C$zuHe,null,1,!0,C$zuu)):$M._onMateialTexturesLoaded(C$zut,null,C$zuc,null)}},$M._onMateialTexturesLoaded=function(C$zut,C$zue,C$zui,C$zun){C$zut.endLoad([C$zui,C$zun]),C$zue&&C$zue.recover()},$M._loadTextureCube=function(C$zut){C$zut.on("loaded",null,$M._onTextureCubeLtcLoaded,[C$zut]),C$zut.load(C$zut.url,"json",!1,null,!0)},$M._onTextureCubeLtcLoaded=function(C$zut,C$zue){var C$zui;C$zut._class.destroyed?C$zut.endLoad():(C$zui=C$zuP.getPath(C$zut.url),C$zui=[$M.formatRelativePath(C$zui,C$zue.px),$M.formatRelativePath(C$zui,C$zue.nx),$M.formatRelativePath(C$zui,C$zue.py),$M.formatRelativePath(C$zui,C$zue.ny),$M.formatRelativePath(C$zui,C$zue.pz),$M.formatRelativePath(C$zui,C$zue.nz)],$M._onProcessChange(C$zut,0,1/7,1),C$zue=C$zub.create(null,$M._onProcessChange,[C$zut,1/7,6/7],!1),$M._innerFourthLevelLoaderManager.load(C$zui,C$zub.create(null,$M._onTextureCubeImagesLoaded,[C$zut,C$zui,C$zue]),C$zue,"nativeimage"))},$M._onTextureCubeImagesLoaded=function(C$zut,C$zue,C$zui){var C$zun=[];C$zun.length=6;for(var C$zur=0;C$zur<6;C$zur++){var C$zus=C$zue[C$zur];C$zun[C$zur]=C$zug.getRes(C$zus),C$zug.clearRes(C$zus)}C$zut.endLoad(C$zun),C$zui.recover()},$M._onProcessChange=function(C$zut,C$zue,C$zui,C$zun){(C$zun=C$zue+C$zun*C$zui)<1&&C$zut.event("progress",C$zun)},$M.init=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){if(void 0===C$zui&&(C$zui=!1),void 0===C$zun&&(C$zun=!1),void 0===C$zur&&(C$zur=!0),void 0===C$zus&&(C$zus=!0),C$zuT.update3DLoop=function(){},C$zuT.cancelLoadByUrl=function(C$zut){$M._cancelLoadByUrl(C$zut)},C$zuc.isAntialias=C$zui,C$zuc.isAlpha=C$zun,C$zuc.premultipliedAlpha=C$zur,C$zuc.isStencil=C$zus,!C$zuI.enable())throw new Error("Laya3D\u542f\u52a8\u5931\u8d25\uff01\n\u6a21\u62df\u5668\uff1a\u8bf7\u5c1d\u8bd5\u4f7f\u7528\u300a\u96f7\u7535\u6a21\u62df\u5668\u300b\u6700\u65b0\u7248\u672c\uff01\n\u6d4f\u89c8\u5668\uff1a\u8bf7\u5c1d\u8bd5\u5173\u95ed\u6d4f\u89c8\u5668\uff0c\u786e\u4fdd\u6d4f\u89c8\u5668\u8fdb\u7a0b\u5168\u90e8\u7ed3\u675f\u540e\u518d\u8fdb\u6e38\u620f\uff01");C$zuT.changeWebGLSize=$M._changeWebGLSize,C$zum.is3DMode=!0,C$zuy.init(C$zut,C$zue),C$zuO.__init__(),C$zuce.__init__(),C$zuYe.__init__(),C$zuB.__init__(),$M.__init__(),C$zuh.maxTextureCount=2,($M.debugMode||C$zuZ.debugMode)&&($M._debugPhasorSprite=new C$zuX)},$M.HIERARCHY="SPRITE3DHIERARCHY",$M.MESH="MESH",$M.MATERIAL="MATERIAL",$M.PBRMATERIAL="PBRMTL",$M.TEXTURECUBE="TEXTURECUBE",$M.TERRAIN="TERRAIN",$M._readData=null,$M._debugPhasorSprite=null,$M.debugMode=!1,C$zus($M,["_DATA",function(){return this._DATA={offset:0,size:0}},"_strings",function(){return this._strings=["BLOCK","DATA","STRINGS"]},"_innerFirstLevelLoaderManager",function(){return this._innerFirstLevelLoaderManager=new C$zud},"_innerSecondLevelLoaderManager",function(){return this._innerSecondLevelLoaderManager=new C$zud},"_innerThirdLevelLoaderManager",function(){return this._innerThirdLevelLoaderManager=new C$zud},"_innerFourthLevelLoaderManager",function(){return this._innerFourthLevelLoaderManager=new C$zud}]),$M),C$zuve=function(){function $L(C$zut){$L.__super.call(this),this._owner=C$zut,this._childs=[],this._localMatrix=new Float32Array(16),this._localQuaternionUpdate=!1,this._locaEulerlUpdate=!1,this._localUpdate=!1,this._worldUpdate=!0}C$zur($L,"laya.d3.animation.AnimationTransform3D",C$zu_);var C$zut=$L.prototype;return C$zut._getlocalMatrix=function(){return this._localUpdate&&(C$zume._createAffineTransformationArray(this._localPosition,this._localRotation,this._localScale,this._localMatrix),this._localUpdate=!1),this._localMatrix},C$zut._onWorldTransform=function(){if(!this._worldUpdate){this._worldUpdate=!0;for(var C$zut=0,C$zue=this._childs.length;C$zut<C$zue;C$zut++)this._childs[C$zut]._onWorldTransform()}},C$zut._setWorldMatrixAndUpdate=function(C$zut){if(this._worldMatrix=C$zut,null==this._parent)throw new Error("don't need to set worldMatrix to root Node.");if(null==this._parent._parent)for(var C$zue=this._getlocalMatrix(),C$zui=0;C$zui<16;++C$zui)this._worldMatrix[C$zui]=C$zue[C$zui];else C$zume.matrix4x4MultiplyFFF(this._parent.getWorldMatrix(),this._getlocalMatrix(),this._worldMatrix);this._worldUpdate=!1},C$zut._setWorldMatrixNoUpdate=function(C$zut){this._worldMatrix=C$zut},C$zut._setWorldMatrixIgnoreUpdate=function(C$zut){this._worldMatrix=C$zut,this._worldUpdate=!1},C$zut.getLocalPosition=function(){return this._localPosition},C$zut.setLocalPosition=function(C$zut){var C$zue,C$zui,C$zun;this._parent?(this._localPosition=C$zut,this._localUpdate=!0,this._onWorldTransform()):(C$zue=this._entity.owner._transform,(C$zun=(C$zui=this._entity.localPosition).elements)[0]=C$zut[0],C$zun[1]=C$zut[1],C$zun[2]=C$zut[2],C$zue.localPosition=C$zui)},C$zut.getLocalRotation=function(){var C$zut;return this._localQuaternionUpdate&&(C$zut=this._localRotationEuler,C$zume._quaternionCreateFromYawPitchRollArray(C$zut[1]/$L._angleToRandin,C$zut[0]/$L._angleToRandin,C$zut[2]/$L._angleToRandin,this._localRotation),this._localQuaternionUpdate=!1),this._localRotation},C$zut.setLocalRotation=function(C$zut){var C$zue,C$zui,C$zun;this._parent?(this._localRotation=C$zut,C$zume.quaterionNormalize(this._localRotation,this._localRotation),this._locaEulerlUpdate=!0,this._localQuaternionUpdate=!1,this._localUpdate=!0,this._onWorldTransform()):(C$zue=this._entity.owner._transform,(C$zun=(C$zui=this._entity.localRotation).elements)[0]=C$zut[0],C$zun[1]=C$zut[1],C$zun[2]=C$zut[2],C$zun[3]=C$zut[3],C$zue.localRotation=C$zui)},C$zut.getLocalScale=function(){return this._localScale},C$zut.setLocalScale=function(C$zut){var C$zue,C$zui,C$zun;this._parent?(this._localScale=C$zut,this._localUpdate=!0,this._onWorldTransform()):(C$zue=this._entity.owner._transform,(C$zun=(C$zui=this._entity.localScale).elements)[0]=C$zut[0],C$zun[1]=C$zut[1],C$zun[2]=C$zut[2],C$zue.localScale=C$zui)},C$zut.getLocalRotationEuler=function(){var C$zut,C$zue;return this._locaEulerlUpdate&&(C$zume.getYawPitchRoll(this._localRotation,$L._tempVector3),(C$zue=this._localRotationEuler)[0]=(C$zut=$L._tempVector3)[1]*$L._angleToRandin,C$zue[1]=C$zut[0]*$L._angleToRandin,C$zue[2]=C$zut[2]*$L._angleToRandin,this._locaEulerlUpdate=!1),this._localRotationEuler},C$zut.setLocalRotationEuler=function(C$zut){var C$zue,C$zui,C$zun;this._parent?(C$zume._quaternionCreateFromYawPitchRollArray(C$zut[1]/$L._angleToRandin,C$zut[0]/$L._angleToRandin,C$zut[2]/$L._angleToRandin,this._localRotation),this._localRotationEuler=C$zut,this._locaEulerlUpdate=!1,this._localQuaternionUpdate=!1,this._localUpdate=!0,this._onWorldTransform()):(C$zue=this._entity.owner._transform,(C$zun=(C$zui=this._entity.localRotationEuler).elements)[0]=C$zut[0],C$zun[1]=C$zut[1],C$zun[2]=C$zut[2],C$zue.localRotationEuler=C$zui)},C$zut.getWorldMatrix=function(){if(this._worldUpdate){if(null!=this._parent._parent)C$zume.matrix4x4MultiplyFFF(this._parent.getWorldMatrix(),this._getlocalMatrix(),this._worldMatrix);else for(var C$zut=this._getlocalMatrix(),C$zue=0;C$zue<16;++C$zue)this._worldMatrix[C$zue]=C$zut[C$zue];this._worldUpdate=!1}return this._worldMatrix},C$zut.setParent=function(C$zut){var C$zue,C$zui;this._parent!==C$zut&&(this._parent&&(C$zui=(C$zue=this._parent._childs).indexOf(this),C$zue.splice(C$zui,1)),C$zut&&(C$zut._childs.push(this),C$zut&&this._onWorldTransform()),this._parent=C$zut)},C$zus($L,["_tempVector3",function(){return this._tempVector3=new Float32Array(3)},"_angleToRandin",function(){return this._angleToRandin=180/Math.PI}]),$L}(),C$zu$e=function(){function $p(){this._destroyed=!1,this._id=0,this._enable=!1,this._owner=null,this.started=!1,$p.__super.call(this),this._destroyed=!1,this._id=$p._uniqueIDCounter,$p._uniqueIDCounter++}C$zur($p,"laya.d3.component.Component3D",C$zu_);var C$zut=$p.prototype;return C$zuy.imps(C$zut,{"laya.d3.core.render.IUpdate":!0,"laya.resource.IDestroy":!0}),C$zut._initialize=function(C$zut){this._owner=C$zut,this._enable=!0,this.started=!1,this._load(C$zut)},C$zut._destroy=function(){this._unload(this._owner),this._owner=null,this._destroyed=!0},C$zut._load=function(C$zut){},C$zut._start=function(C$zut){},C$zut._update=function(C$zut){},C$zut._lateUpdate=function(C$zut){},C$zut._preRenderUpdate=function(C$zut){},C$zut._postRenderUpdate=function(C$zut){},C$zut._unload=function(C$zut){this.offAll()},C$zut._cloneTo=function(C$zut){},C$zuo(0,C$zut,"id",function(){return this._id}),C$zuo(0,C$zut,"destroyed",function(){return this._destroyed}),C$zuo(0,C$zut,"owner",function(){return this._owner}),C$zuo(0,C$zut,"enable",function(){return this._enable},function(C$zut){this._enable!==C$zut&&(this._enable=C$zut,this.event("enablechanged",this._enable))}),C$zuo(0,C$zut,"isSingleton",function(){return $p._isSingleton}),$p._isSingleton=!0,$p._uniqueIDCounter=1,$p}(),C$zut=function(){function $p(){this._destroyed=!1,$p.__super.call(this),this._destroyed=!1}C$zur($p,"laya.d3.core.GeometryFilter",C$zu_);var C$zut=$p.prototype;return C$zuy.imps(C$zut,{"laya.resource.IDestroy":!0}),C$zut._destroy=function(){this.offAll(),this._destroyed=!0},C$zuo(0,C$zut,"_isAsyncLoaded",function(){return!0}),C$zuo(0,C$zut,"_originalBoundingBoxCorners",function(){throw new Error("BaseRender: must override it.")}),C$zuo(0,C$zut,"_originalBoundingSphere",function(){throw new Error("BaseRender: must override it.")}),C$zuo(0,C$zut,"_originalBoundingBox",function(){throw new Error("BaseRender: must override it.")}),C$zuo(0,C$zut,"destroyed",function(){return this._destroyed}),$p}(),C$zuxe=function(){function $P(C$zut){$P.__super.call(this),this._id=++$P._uniqueIDCounter,this._indexInSceneFrustumCullingObjects=-1,this._boundingBox=new C$zujt(new C$zuE,new C$zuE),this._boundingBoxCenter=new C$zuE,this._boundingSphere=new C$zuQt(new C$zuE,0),this._boundingSphereNeedChange=!0,this._boundingBoxNeedChange=!0,this._boundingBoxCenterNeedChange=!0,this._octreeNodeNeedChange=!0,this._materials=[],this._renderElements=[],this._isPartOfStaticBatch=!1,this._destroyed=!1,this._owner=C$zut,this._enable=!0,this._materialsInstance=[],this.lightmapIndex=-1,this.castShadow=!1,this.receiveShadow=!1,this.sortingFudge=0,this._owner.transform.on("worldmatrixneedchanged",this,this._onWorldMatNeedChange)}C$zur($P,"laya.d3.core.render.BaseRender",C$zu_);var C$zut=$P.prototype;return C$zuy.imps(C$zut,{"laya.resource.IDestroy":!0}),C$zut._changeMaterialReference=function(C$zut,C$zue){C$zut&&C$zut._removeReference(),C$zue._addReference()},C$zut._getInstanceMaterial=function(C$zut,C$zue){var C$zui=new C$zut.constructor;return C$zut.cloneTo(C$zui),C$zui.name=C$zui.name+"(Instance)",this._materialsInstance[C$zue]=!0,this._changeMaterialReference(this._materials[C$zue],C$zui),this._materials[C$zue]=C$zui},C$zut._setShaderValuelightMap=function(C$zut){this._setShaderValueTexture(3,C$zut)},C$zut._onWorldMatNeedChange=function(){this._boundingSphereNeedChange=!0,this._boundingBoxNeedChange=!0,this._boundingBoxCenterNeedChange=!0,this._octreeNodeNeedChange=!0},C$zut._renderRenderableBoundBox=function(){var C$zut=C$zuge._debugPhasorSprite,C$zue=this.boundingBox,C$zui=$P._tempBoundBoxCorners;C$zue.getCorners(C$zui),C$zut.line(C$zui[0],$P._greenColor,C$zui[1],$P._greenColor),C$zut.line(C$zui[2],$P._greenColor,C$zui[3],$P._greenColor),C$zut.line(C$zui[4],$P._greenColor,C$zui[5],$P._greenColor),C$zut.line(C$zui[6],$P._greenColor,C$zui[7],$P._greenColor),C$zut.line(C$zui[0],$P._greenColor,C$zui[3],$P._greenColor),C$zut.line(C$zui[1],$P._greenColor,C$zui[2],$P._greenColor),C$zut.line(C$zui[2],$P._greenColor,C$zui[6],$P._greenColor),C$zut.line(C$zui[3],$P._greenColor,C$zui[7],$P._greenColor),C$zut.line(C$zui[0],$P._greenColor,C$zui[4],$P._greenColor),C$zut.line(C$zui[1],$P._greenColor,C$zui[5],$P._greenColor),C$zut.line(C$zui[4],$P._greenColor,C$zui[7],$P._greenColor),C$zut.line(C$zui[5],$P._greenColor,C$zui[6],$P._greenColor)},C$zut._calculateBoundingSphere=function(){throw"BaseRender: must override it."},C$zut._calculateBoundingBox=function(){throw"BaseRender: must override it."},C$zut._setShaderValueTexture=function(C$zut,C$zue){this._owner._shaderValues.setValue(C$zut,C$zue)},C$zut._setShaderValueMatrix4x4=function(C$zut,C$zue){this._owner._shaderValues.setValue(C$zut,C$zue?C$zue.elements:null)},C$zut._setShaderValueColor=function(C$zut,C$zue){this._owner._shaderValues.setValue(C$zut,C$zue?C$zue.elements:null)},C$zut._setShaderValueBuffer=function(C$zut,C$zue){this._owner._shaderValues.setValue(C$zut,C$zue)},C$zut._setShaderValueInt=function(C$zut,C$zue){this._owner._shaderValues.setValue(C$zut,C$zue)},C$zut._setShaderValueBool=function(C$zut,C$zue){this._owner._shaderValues.setValue(C$zut,C$zue)},C$zut._setShaderValueNumber=function(C$zut,C$zue){this._owner._shaderValues.setValue(C$zut,C$zue)},C$zut._setShaderValueVector2=function(C$zut,C$zue){this._owner._shaderValues.setValue(C$zut,C$zue?C$zue.elements:null)},C$zut._addShaderDefine=function(C$zut){this._owner._shaderDefineValue|=C$zut},C$zut._removeShaderDefine=function(C$zut){this._owner._shaderDefineValue&=~C$zut},C$zut._renderUpdate=function(C$zut){return!0},C$zut._applyLightMapParams=function(){var C$zut,C$zue;0<=this._lightmapIndex&&(C$zut=this._owner.scene)&&(C$zue=C$zut.getlightmaps()[this._lightmapIndex])?(this._addShaderDefine(C$zuze.SAHDERDEFINE_LIGHTMAP),C$zue.loaded?this._setShaderValuelightMap(C$zue):C$zue.once("loaded",this,this._setShaderValuelightMap)):this._removeShaderDefine(C$zuze.SAHDERDEFINE_LIGHTMAP)},C$zut._updateOctreeNode=function(){var C$zut=this._treeNode;C$zut&&this._octreeNodeNeedChange&&(C$zut.updateObject(this),this._octreeNodeNeedChange=!1)},C$zut._destroy=function(){this.offAll();var C$zut=0,C$zue=0;for(C$zut=0,C$zue=this._renderElements.length;C$zut<C$zue;C$zut++)this._renderElements[C$zut]._destroy();for(C$zut=0,C$zue=this._materials.length;C$zut<C$zue;C$zut++)this._materials[C$zut]._removeReference();this._renderElements=null,this._owner=null,this._materials=null,this._boundingBox=null,this._boundingBoxCenter=null,this._boundingSphere=null,this._lightmapScaleOffset=null,this._destroyed=!0},C$zuo(0,C$zut,"boundingSphere",function(){return this._boundingSphereNeedChange&&(this._calculateBoundingSphere(),this._boundingSphereNeedChange=!1),this._boundingSphere}),C$zuo(0,C$zut,"id",function(){return this._id}),C$zuo(0,C$zut,"material",function(){var C$zut=this._materials[0];return C$zut&&!this._materialsInstance[0]&&(C$zut=this._getInstanceMaterial(C$zut,0),this.event("materialchanged",[this,0,C$zut])),this._materials[0]},function(C$zut){this.sharedMaterial=C$zut}),C$zuo(0,C$zut,"sharedMaterial",function(){return this._materials[0]},function(C$zut){var C$zue=this._materials[0];C$zue!==C$zut&&(this._materials[0]=C$zut,this._materialsInstance[0]=!1,this._changeMaterialReference(C$zue,C$zut),this.event("materialchanged",[this,0,C$zut]))}),C$zuo(0,C$zut,"lightmapIndex",function(){return this._lightmapIndex},function(C$zut){this._lightmapIndex=C$zut,this._applyLightMapParams()}),C$zuo(0,C$zut,"lightmapScaleOffset",function(){return this._lightmapScaleOffset},function(C$zut){this._lightmapScaleOffset=C$zut,this._setShaderValueColor(2,C$zut),this._addShaderDefine(C$zuze.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV)}),C$zuo(0,C$zut,"enable",function(){return this._enable},function(C$zut){this._enable=C$zut,this.event("enablechanged",[this,C$zut])}),C$zuo(0,C$zut,"materials",function(){for(var C$zut=0,C$zue=this._materials.length;C$zut<C$zue;C$zut++){var C$zui;this._materialsInstance[C$zut]||(C$zui=this._getInstanceMaterial(this._materials[C$zut],C$zut),this.event("materialchanged",[this,C$zut,C$zui]))}return this._materials.slice()},function(C$zut){this.sharedMaterials=C$zut}),C$zuo(0,C$zut,"sharedMaterials",function(){return this._materials.slice()},function(C$zut){if(!C$zut)throw new Error("MeshRender: shadredMaterials value can't be null.");var C$zue=C$zut.length;this._materialsInstance.length=C$zue;for(var C$zui=0;C$zui<C$zue;C$zui++){var C$zun=this._materials[C$zui];C$zun!==C$zut[C$zui]&&(this._materialsInstance[C$zui]=!1,this._changeMaterialReference(C$zun,C$zut[C$zui]),this.event("materialchanged",[this,C$zui,C$zut[C$zui]]))}this._materials=C$zut}),C$zuo(0,C$zut,"boundingBox",function(){return this._boundingBoxNeedChange&&(this._calculateBoundingBox(),this._boundingBoxNeedChange=!1),this._boundingBox}),C$zuo(0,C$zut,"boundingBoxCenter",function(){var C$zut;return this._boundingBoxCenterNeedChange&&(C$zut=this.boundingBox,C$zuE.add(C$zut.min,C$zut.max,this._boundingBoxCenter),C$zuE.scale(this._boundingBoxCenter,.5,this._boundingBoxCenter),this._boundingBoxCenterNeedChange=!1),this._boundingBoxCenter}),C$zuo(0,C$zut,"receiveShadow",function(){return this._receiveShadow},function(C$zut){this._receiveShadow!==C$zut&&((this._receiveShadow=C$zut)?this._addShaderDefine(C$zude.SHADERDEFINE_RECEIVE_SHADOW):this._removeShaderDefine(C$zude.SHADERDEFINE_RECEIVE_SHADOW))}),C$zuo(0,C$zut,"destroyed",function(){return this._destroyed}),$P._uniqueIDCounter=0,C$zus($P,["_tempBoundBoxCorners",function(){return this._tempBoundBoxCorners=[new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE]},"_greenColor",function(){return this._greenColor=new C$zuoe(0,1,0,1)}]),$P}(),C$zuye=function(){function $Y(C$zut){this._owner=null,this._localQuaternionUpdate=!1,this._locaEulerlUpdate=!1,this._localUpdate=!1,this._worldUpdate=!0,this._positionUpdate=!0,this._rotationUpdate=!0,this._scaleUpdate=!0,this._parent=null,this._childs=null,this._dummy=null,this.pivot=null,$Y.__super.call(this),this._localPosition=new C$zuE,this._localRotation=new C$zune(0,0,0,1),this._localScale=new C$zuE(1,1,1),this._localRotationEuler=new C$zuE,this._localMatrix=new C$zuee,this._position=new C$zuE,this._rotation=new C$zune(0,0,0,1),this._scale=new C$zuE(1,1,1),this._worldMatrix=new C$zuee,this._forward=new C$zuE,this._up=new C$zuE,this._right=new C$zuE,this._owner=C$zut,this._childs=[]}C$zur($Y,"laya.d3.core.Transform3D",C$zu_);var C$zut=$Y.prototype;return C$zut._updateLocalMatrix=function(){var C$zut,C$zue,C$zui,C$zun;!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?C$zuee.createAffineTransformation(this._localPosition,this.localRotation,this._localScale,this._localMatrix):(C$zuE.multiply(this.pivot,this._localScale,C$zun=$Y._tempVector30),C$zuE.subtract(C$zun,this.pivot,C$zut=$Y._tempVector31),C$zui=this.localRotation,C$zuE.transformQuat(C$zun,C$zui,C$zue=$Y._tempVector32),C$zuE.subtract(C$zue,C$zun,C$zue),C$zuE.subtract(this._localPosition,C$zut,C$zun=$Y._tempVector33),C$zuE.subtract(C$zun,C$zue,C$zun),C$zuee.createAffineTransformation(C$zun,C$zui,this._localScale,this._localMatrix))},C$zut._onWorldPositionRotationTransform=function(){if(!this._worldUpdate||!this._positionUpdate||!this._rotationUpdate){this._worldUpdate=this._positionUpdate=this._rotationUpdate=!0,this.event("worldmatrixneedchanged");for(var C$zut=0,C$zue=this._childs.length;C$zut<C$zue;C$zut++)this._childs[C$zut]._onWorldPositionRotationTransform()}},C$zut._onWorldPositionScaleTransform=function(){if(!this._worldUpdate||!this._positionUpdate||!this._scaleUpdate){this._worldUpdate=this._positionUpdate=this._scaleUpdate=!0,this.event("worldmatrixneedchanged");for(var C$zut=0,C$zue=this._childs.length;C$zut<C$zue;C$zut++)this._childs[C$zut]._onWorldPositionScaleTransform()}},C$zut._onWorldPositionTransform=function(){if(!this._worldUpdate||!this._positionUpdate){this._worldUpdate=this._positionUpdate=!0,this.event("worldmatrixneedchanged");for(var C$zut=0,C$zue=this._childs.length;C$zut<C$zue;C$zut++)this._childs[C$zut]._onWorldPositionTransform()}},C$zut._onWorldRotationTransform=function(){if(!this._worldUpdate||!this._rotationUpdate){this._worldUpdate=this._rotationUpdate=!0,this.event("worldmatrixneedchanged");for(var C$zut=0,C$zue=this._childs.length;C$zut<C$zue;C$zut++)this._childs[C$zut]._onWorldPositionRotationTransform()}},C$zut._onWorldScaleTransform=function(){if(!this._worldUpdate||!this._scaleUpdate){this._worldUpdate=this._scaleUpdate=!0,this.event("worldmatrixneedchanged");for(var C$zut=0,C$zue=this._childs.length;C$zut<C$zue;C$zut++)this._childs[C$zut]._onWorldPositionScaleTransform()}},C$zut._onWorldTransform=function(){if(!(this._worldUpdate&&this._positionUpdate&&this._rotationUpdate&&this._scaleUpdate)){this._worldUpdate=this._positionUpdate=this._rotationUpdate=this._scaleUpdate=!0,this.event("worldmatrixneedchanged");for(var C$zut=0,C$zue=this._childs.length;C$zut<C$zue;C$zut++)this._childs[C$zut]._onWorldTransform()}},C$zut.translate=function(C$zut,C$zue){(C$zue=void 0===C$zue?!0:C$zue)?(C$zuee.createFromQuaternion(this.localRotation,$Y._tempMatrix0),C$zuE.transformCoordinate(C$zut,$Y._tempMatrix0,$Y._tempVector30),C$zuE.add(this.localPosition,$Y._tempVector30,this._localPosition),this.localPosition=this._localPosition):(C$zuE.add(this.position,C$zut,this._position),this.position=this._position)},C$zut.rotate=function(C$zut,C$zue,C$zui){void 0===C$zue&&(C$zue=!0),C$zui=(C$zui=void 0===C$zui?!0:C$zui)?C$zut:(C$zuE.scale(C$zut,Math.PI/180,$Y._tempVector30),$Y._tempVector30),C$zune.createFromYawPitchRoll(C$zui.y,C$zui.x,C$zui.z,$Y._tempQuaternion0),C$zue?(C$zune.multiply(this._localRotation,$Y._tempQuaternion0,this._localRotation),this.localRotation=this._localRotation):(C$zune.multiply($Y._tempQuaternion0,this.rotation,this._rotation),this.rotation=this._rotation)},C$zut.lookAt=function(C$zut,C$zue,C$zui){var C$zun,C$zur=C$zut.elements;(C$zui=void 0===C$zui?!1:C$zui)?(C$zun=this._localPosition.elements,Math.abs(C$zun[0]-C$zur[0])<C$zuJt.zeroTolerance&&Math.abs(C$zun[1]-C$zur[1])<C$zuJt.zeroTolerance&&Math.abs(C$zun[2]-C$zur[2])<C$zuJt.zeroTolerance||(C$zune.lookAt(this._localPosition,C$zut,C$zue,this._localRotation),this._localRotation.invert(this._localRotation),this.localRotation=this._localRotation)):(C$zun=(C$zui=this.position).elements,Math.abs(C$zun[0]-C$zur[0])<C$zuJt.zeroTolerance&&Math.abs(C$zun[1]-C$zur[1])<C$zuJt.zeroTolerance&&Math.abs(C$zun[2]-C$zur[2])<C$zuJt.zeroTolerance||(C$zune.lookAt(C$zui,C$zut,C$zue,this._rotation),this._rotation.invert(this._rotation),this.rotation=this._rotation))},C$zuo(0,C$zut,"_isFrontFaceInvert",function(){var C$zut=this.scale,C$zue=C$zut.x<0;return C$zut.y<0&&(C$zue=!C$zue),C$zue=C$zut.z<0?!C$zue:C$zue}),C$zuo(0,C$zut,"owner",function(){return this._owner}),C$zuo(0,C$zut,"localRotation",function(){var C$zut;return this._localQuaternionUpdate&&(C$zut=this._localRotationEuler.elements,C$zune.createFromYawPitchRoll(C$zut[1]/$Y._angleToRandin,C$zut[0]/$Y._angleToRandin,C$zut[2]/$Y._angleToRandin,this._localRotation)),this._localRotation},function(C$zut){this._localRotation=C$zut,this._localRotation.normalize(this._localRotation),this._locaEulerlUpdate=!0,this._localQuaternionUpdate=!1,this._localUpdate=!0,!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?this._onWorldRotationTransform():this._onWorldPositionRotationTransform()}),C$zuo(0,C$zut,"worldMatrix",function(){return this._worldUpdate&&(null!=this._parent?C$zuee.multiply(this._parent.worldMatrix,this.localMatrix,this._worldMatrix):this.localMatrix.cloneTo(this._worldMatrix),this._worldUpdate=!1),this._worldMatrix},function(C$zut){null===this._parent?C$zut.cloneTo(this._localMatrix):(this._parent.worldMatrix.invert(this._localMatrix),C$zuee.multiply(this._localMatrix,C$zut,this._localMatrix)),this.localMatrix=this._localMatrix,this._worldMatrix=C$zut,this._worldUpdate=!1}),C$zuo(0,C$zut,"worldNeedUpdate",function(){return this._worldUpdate}),C$zuo(0,C$zut,"localMatrix",function(){return this._localUpdate&&(this._updateLocalMatrix(),this._localUpdate=!1),this._localMatrix},function(C$zut){this._localMatrix=C$zut,this._localMatrix.decomposeTransRotScale(this._localPosition,this._localRotation,this._localScale),this._localUpdate=!1,this._onWorldTransform()}),C$zuo(0,C$zut,"dummy",function(){return this._dummy},function(C$zut){this._dummy!==C$zut&&(this._dummy&&(this._dummy._entity=null),C$zut&&(C$zut._entity=this),this._dummy=C$zut)}),C$zuo(0,C$zut,"localPosition",function(){return this._localPosition},function(C$zut){this._localPosition=C$zut,this._localUpdate=!0,this._onWorldPositionTransform()}),C$zuo(0,C$zut,"position",function(){var C$zut;return this._positionUpdate&&(null!=this._parent?(C$zut=this._parent.position,C$zuE.multiply(this._localPosition,this._parent.scale,$Y._tempVector30),C$zuE.transformQuat($Y._tempVector30,this._parent.rotation,$Y._tempVector30),C$zuE.add(C$zut,$Y._tempVector30,this._position)):this._localPosition.cloneTo(this._position),this._positionUpdate=!1),this._position},function(C$zut){var C$zue,C$zui,C$zun,C$zur,C$zus;null!=this._parent?(C$zuE.subtract(C$zut,this._parent.position,this._localPosition),C$zue=(C$zun=this._parent.scale.elements)[0],C$zui=C$zun[1],C$zun=C$zun[2],1===C$zue&&1===C$zui&&1===C$zun||((C$zus=(C$zur=$Y._tempVector30).elements)[0]=1/C$zue,C$zus[1]=1/C$zui,C$zus[2]=1/C$zun,C$zuE.multiply(this._localPosition,C$zur,this._localPosition)),this._parent.rotation.invert($Y._tempQuaternion0),C$zuE.transformQuat(this._localPosition,$Y._tempQuaternion0,this._localPosition)):C$zut.cloneTo(this._localPosition),this.localPosition=this._localPosition,this._position=C$zut,this._positionUpdate=!1}),C$zuo(0,C$zut,"localScale",function(){return this._localScale},function(C$zut){this._localScale=C$zut,this._localUpdate=!0,!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?this._onWorldScaleTransform():this._onWorldPositionScaleTransform()}),C$zuo(0,C$zut,"localRotationEuler",function(){var C$zut,C$zue;return this._locaEulerlUpdate&&(this._localRotation.getYawPitchRoll($Y._tempVector30),C$zut=$Y._tempVector30.elements,(C$zue=this._localRotationEuler.elements)[0]=C$zut[1]*$Y._angleToRandin,C$zue[1]=C$zut[0]*$Y._angleToRandin,C$zue[2]=C$zut[2]*$Y._angleToRandin),this._localRotationEuler},function(C$zut){this._localRotationEuler=C$zut,this._locaEulerlUpdate=!1,this._localQuaternionUpdate=!0,this._localUpdate=!0,!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?this._onWorldRotationTransform():this._onWorldPositionRotationTransform()}),C$zuo(0,C$zut,"rotation",function(){return this._rotationUpdate&&(null!=this._parent?C$zune.multiply(this._parent.rotation,this.localRotation,this._rotation):this.localRotation.cloneTo(this._rotation),this._rotationUpdate=!1),this._rotation},function(C$zut){null!=this._parent?(this._parent.rotation.invert($Y._tempQuaternion0),C$zune.multiply(C$zut,$Y._tempQuaternion0,this._localRotation)):C$zut.cloneTo(this._localRotation),this.localRotation=this._localRotation,this._rotation=C$zut,this._rotationUpdate=!1}),C$zuo(0,C$zut,"scale",function(){return this._scaleUpdate&&(null!==this._parent?C$zuE.multiply(this._parent.scale,this._localScale,this._scale):this._localScale.cloneTo(this._scale),this._scaleUpdate=!1),this._scale},function(C$zut){var C$zue,C$zui;null!==this._parent?(C$zue=this._parent.scale.elements,(C$zui=$Y._tempVector30.elements)[0]=1/C$zue[0],C$zui[1]=1/C$zue[1],C$zui[2]=1/C$zue[2],C$zuE.multiply(C$zut,$Y._tempVector30,this._localScale)):C$zut.cloneTo(this._localScale),this.localScale=this._localScale,this._scale=C$zut,this._scaleUpdate=!1}),C$zuo(0,C$zut,"rotationEuler",null,function(C$zut){C$zune.createFromYawPitchRoll(C$zut.y,C$zut.x,C$zut.z,this._rotation),this.rotation=this._rotation}),C$zuo(0,C$zut,"forward",function(){var C$zut=this.worldMatrix.elements;return this._forward.elements[0]=-C$zut[8],this._forward.elements[1]=-C$zut[9],this._forward.elements[2]=-C$zut[10],this._forward}),C$zuo(0,C$zut,"up",function(){var C$zut=this.worldMatrix.elements;return this._up.elements[0]=C$zut[4],this._up.elements[1]=C$zut[5],this._up.elements[2]=C$zut[6],this._up}),C$zuo(0,C$zut,"right",function(){var C$zut=this.worldMatrix.elements;return this._right.elements[0]=C$zut[0],this._right.elements[1]=C$zut[1],this._right.elements[2]=C$zut[2],this._right}),C$zuo(0,C$zut,"parent",function(){return this._parent},function(C$zut){var C$zue,C$zui;this._parent!==C$zut&&(this._parent&&(C$zui=(C$zue=this._parent._childs).indexOf(this),C$zue.splice(C$zui,1)),C$zut&&(C$zut._childs.push(this),C$zut&&this._onWorldTransform()),this._parent=C$zut)}),C$zus($Y,["_tempVector30",function(){return this._tempVector30=new C$zuE},"_tempVector31",function(){return this._tempVector31=new C$zuE},"_tempVector32",function(){return this._tempVector32=new C$zuE},"_tempVector33",function(){return this._tempVector33=new C$zuE},"_tempQuaternion0",function(){return this._tempQuaternion0=new C$zune},"_tempMatrix0",function(){return this._tempMatrix0=new C$zuee},"_angleToRandin",function(){return this._angleToRandin=180/Math.PI}]),$Y}(),C$zube=(function(){function $p(){this._rotation=0,this._matNeedUpdte=!1,$p.__super.call(this),this._matrix=new C$zuee,this._offset=new C$zuae,this._tiling=new C$zuae(1,1)}C$zur($p,"laya.d3.core.TransformUV",C$zu_);var C$zut=$p.prototype;C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut._updateMatrix=function(){$p._tempOffsetV3.elements[0]=this._offset.x,$p._tempOffsetV3.elements[1]=this._offset.y,C$zune.createFromYawPitchRoll(0,0,this._rotation,$p._tempRotationQua),$p._tempTitlingV3.elements[0]=this._tiling.x,$p._tempTitlingV3.elements[1]=this._tiling.y,C$zuee.createAffineTransformation($p._tempOffsetV3,$p._tempRotationQua,$p._tempTitlingV3,this._matrix)},C$zut.cloneTo=function(C$zut){C$zut._matrix=this._matrix.clone(),C$zut._offset=this._offset.clone(),C$zut._rotation=this._rotation,C$zut._tiling=this._tiling.clone()},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zuo(0,C$zut,"matrix",function(){return this._matNeedUpdte&&(this._updateMatrix(),this._matNeedUpdte=!1),this._matrix}),C$zuo(0,C$zut,"tiling",function(){return this._tiling},function(C$zut){this._tiling=C$zut,this._matNeedUpdte=!0}),C$zuo(0,C$zut,"offset",function(){return this._offset},function(C$zut){this._offset=C$zut,this._matNeedUpdte=!0}),C$zuo(0,C$zut,"rotation",function(){return this._rotation},function(C$zut){this._rotation=C$zut,this._matNeedUpdte=!0}),C$zus($p,["_tempOffsetV3",function(){return this._tempOffsetV3=new C$zuE(0,0,0)},"_tempRotationQua",function(){return this._tempRotationQua=new C$zune},"_tempTitlingV3",function(){return this._tempTitlingV3=new C$zuE(1,1,1)}])}(),function(C$zue){function $m(){this.x=NaN,this.y=NaN,this.z=NaN,$m.__super.call(this),this.x=1,this.y=1,this.z=1,this.randomDirection=!1}C$zur($m,"laya.d3.core.particleShuriKen.module.shape.BoxShape",C$zue);var C$zut=$m.prototype;C$zut._getShapeBoundBox=function(C$zut){var C$zue=C$zut.min.elements;C$zue[0]=.5*-this.x,C$zue[1]=.5*-this.y,C$zue[2]=.5*-this.z;C$zue=C$zut.max.elements;C$zue[0]=.5*this.x,C$zue[1]=.5*this.y,C$zue[2]=.5*this.z},C$zut._getSpeedBoundBox=function(C$zut){var C$zue=C$zut.min.elements;C$zue[0]=0,C$zue[1]=0,C$zue[2]=0;C$zue=C$zut.max.elements;C$zue[0]=0,C$zue[1]=1,C$zue[2]=0},C$zut.generatePositionAndDirection=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut.elements,C$zus=C$zue.elements;C$zui?(C$zui.seed=C$zun[16],C$zuG._randomPointInsideHalfUnitBox(C$zut,C$zui),C$zun[16]=C$zui.seed):C$zuG._randomPointInsideHalfUnitBox(C$zut),C$zur[0]=this.x*C$zur[0],C$zur[1]=this.y*C$zur[1],C$zur[2]=this.z*C$zur[2],this.randomDirection?C$zui?(C$zui.seed=C$zun[17],C$zuG._randomPointUnitSphere(C$zue,C$zui),C$zun[17]=C$zui.seed):C$zuG._randomPointUnitSphere(C$zue):(C$zus[0]=0,C$zus[1]=0,C$zus[2]=1)},C$zut.cloneTo=function(C$zut){C$zue.prototype.cloneTo.call(this,C$zut);C$zut.x=this.x,C$zut.y=this.y,C$zut.z=this.z,C$zut.randomDirection=this.randomDirection}}(C$zuz),function(C$zue){function $k(){this.radius=NaN,this.arc=NaN,this.emitFromEdge=!1,$k.__super.call(this),this.radius=1,this.arc=2*Math.PI,this.emitFromEdge=!1,this.randomDirection=!1}C$zur($k,"laya.d3.core.particleShuriKen.module.shape.CircleShape",C$zue);var C$zut=$k.prototype;C$zut._getShapeBoundBox=function(C$zut){var C$zue=C$zut.min.elements;C$zue[0]=C$zue[2]=-this.radius,C$zue[1]=0;C$zue=C$zut.max.elements;C$zue[0]=C$zue[2]=this.radius,C$zue[1]=0},C$zut._getSpeedBoundBox=function(C$zut){var C$zue=C$zut.min.elements;C$zue[0]=C$zue[1]=-1,C$zue[2]=0;C$zue=C$zut.max.elements;C$zue[0]=C$zue[1]=1,C$zue[2]=0},C$zut.generatePositionAndDirection=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut.elements,C$zus=$k._tempPositionPoint.elements;C$zui?(C$zui.seed=C$zun[16],this.emitFromEdge?C$zuG._randomPointUnitArcCircle(this.arc,$k._tempPositionPoint,C$zui):C$zuG._randomPointInsideUnitArcCircle(this.arc,$k._tempPositionPoint,C$zui),C$zun[16]=C$zui.seed):this.emitFromEdge?C$zuG._randomPointUnitArcCircle(this.arc,$k._tempPositionPoint):C$zuG._randomPointInsideUnitArcCircle(this.arc,$k._tempPositionPoint),C$zur[0]=-C$zus[0],C$zur[1]=C$zus[1],C$zur[2]=0,C$zuE.scale(C$zut,this.radius,C$zut),this.randomDirection?C$zui?(C$zui.seed=C$zun[17],C$zuG._randomPointUnitSphere(C$zue,C$zui),C$zun[17]=C$zui.seed):C$zuG._randomPointUnitSphere(C$zue):C$zut.cloneTo(C$zue)},C$zut.cloneTo=function(C$zut){C$zue.prototype.cloneTo.call(this,C$zut);C$zut.radius=this.radius,C$zut.arc=this.arc,C$zut.emitFromEdge=this.emitFromEdge,C$zut.randomDirection=this.randomDirection},C$zus($k,["_tempPositionPoint",function(){return this._tempPositionPoint=new C$zuae}])}(C$zuz),C$zur($R,"laya.d3.core.particleShuriKen.module.shape.ConeShape",C$zuXe=C$zuz),(C$zuKe=$R.prototype)._getShapeBoundBox=function(C$zut){var C$zue=this.radius+this.length*Math.sin(this.angle),C$zui=this.length*Math.cos(this.angle),C$zun=C$zut.min.elements;C$zun[0]=C$zun[1]=-C$zue,C$zun[2]=0;C$zun=C$zut.max.elements;C$zun[0]=C$zun[1]=C$zue,C$zun[2]=C$zui},C$zuKe._getSpeedBoundBox=function(C$zut){var C$zue=Math.sin(this.angle),C$zui=C$zut.min.elements;C$zui[0]=C$zui[1]=-C$zue,C$zui[2]=0;C$zut=C$zut.max.elements;C$zut[0]=C$zui[1]=C$zue,C$zut[2]=1},C$zuKe.generatePositionAndDirection=function(C$zuu,C$zut,C$zue,C$zui){var C$zun,C$zur=C$zuu.elements,C$zus=C$zut.elements,C$zua=$R._tempPositionPoint.elements,C$zuo=NaN,C$zuh=NaN,C$zuc=Math.cos(this.angle),C$zul=Math.sin(this.angle);switch(this.emitType){case 0:C$zue?(C$zue.seed=C$zui[16],C$zuG._randomPointInsideUnitCircle($R._tempPositionPoint,C$zue),C$zui[16]=C$zue.seed):C$zuG._randomPointInsideUnitCircle($R._tempPositionPoint),C$zuo=C$zua[0],C$zuh=C$zua[1],C$zur[0]=C$zuo*this.radius,C$zur[1]=C$zuh*this.radius,C$zur[2]=0,this.randomDirection?(C$zue?(C$zue.seed=C$zui[17],C$zuG._randomPointInsideUnitCircle($R._tempDirectionPoint,C$zue),C$zui[17]=C$zue.seed):C$zuG._randomPointInsideUnitCircle($R._tempDirectionPoint),C$zun=$R._tempDirectionPoint.elements,C$zus[0]=C$zun[0]*C$zul,C$zus[1]=C$zun[1]*C$zul):(C$zus[0]=C$zuo*C$zul,C$zus[1]=C$zuh*C$zul),C$zus[2]=C$zuc;break;case 1:C$zue?(C$zue.seed=C$zui[16],C$zuG._randomPointUnitCircle($R._tempPositionPoint,C$zue),C$zui[16]=C$zue.seed):C$zuG._randomPointUnitCircle($R._tempPositionPoint),C$zuo=C$zua[0],C$zuh=C$zua[1],C$zur[0]=C$zuo*this.radius,C$zur[1]=C$zuh*this.radius,C$zur[2]=0,this.randomDirection?(C$zue?(C$zue.seed=C$zui[17],C$zuG._randomPointInsideUnitCircle($R._tempDirectionPoint,C$zue),C$zui[17]=C$zue.seed):C$zuG._randomPointInsideUnitCircle($R._tempDirectionPoint),C$zun=$R._tempDirectionPoint.elements,C$zus[0]=C$zun[0]*C$zul,C$zus[1]=C$zun[1]*C$zul):(C$zus[0]=C$zuo*C$zul,C$zus[1]=C$zuh*C$zul),C$zus[2]=C$zuc;break;case 2:C$zue?(C$zue.seed=C$zui[16],C$zuG._randomPointInsideUnitCircle($R._tempPositionPoint,C$zue)):C$zuG._randomPointInsideUnitCircle($R._tempPositionPoint),C$zuo=C$zua[0],C$zuh=C$zua[1],C$zur[0]=C$zuo*this.radius,C$zur[1]=C$zuh*this.radius,C$zus[C$zur[2]=0]=C$zuo*C$zul,C$zus[1]=C$zuh*C$zul,C$zus[2]=C$zuc,C$zuE.normalize(C$zut,C$zut),C$zue?(C$zuE.scale(C$zut,this.length*C$zue.getFloat(),C$zut),C$zui[16]=C$zue.seed):C$zuE.scale(C$zut,this.length*Math.random(),C$zut),C$zuE.add(C$zuu,C$zut,C$zuu),this.randomDirection&&(C$zue?(C$zue.seed=C$zui[17],C$zuG._randomPointUnitSphere(C$zut,C$zue),C$zui[17]=C$zue.seed):C$zuG._randomPointUnitSphere(C$zut));break;case 3:C$zue?(C$zue.seed=C$zui[16],C$zuG._randomPointUnitCircle($R._tempPositionPoint,C$zue)):C$zuG._randomPointUnitCircle($R._tempPositionPoint),C$zuo=C$zua[0],C$zuh=C$zua[1],C$zur[0]=C$zuo*this.radius,C$zur[1]=C$zuh*this.radius,C$zus[C$zur[2]=0]=C$zuo*C$zul,C$zus[1]=C$zuh*C$zul,C$zus[2]=C$zuc,C$zuE.normalize(C$zut,C$zut),C$zue?(C$zuE.scale(C$zut,this.length*C$zue.getFloat(),C$zut),C$zui[16]=C$zue.seed):C$zuE.scale(C$zut,this.length*Math.random(),C$zut),C$zuE.add(C$zuu,C$zut,C$zuu),this.randomDirection&&(C$zue?(C$zue.seed=C$zui[17],C$zuG._randomPointUnitSphere(C$zut,C$zue),C$zui[17]=C$zue.seed):C$zuG._randomPointUnitSphere(C$zut));break;default:throw new Error("ConeShape:emitType is invalid.")}},C$zuKe.cloneTo=function(C$zut){C$zuXe.prototype.cloneTo.call(this,C$zut);C$zut.angle=this.angle,C$zut.radius=this.radius,C$zut.length=this.length,C$zut.emitType=this.emitType,C$zut.randomDirection=this.randomDirection},C$zus($R,["_tempPositionPoint",function(){return this._tempPositionPoint=new C$zuae},"_tempDirectionPoint",function(){return this._tempDirectionPoint=new C$zuae}]),function(C$zue){function $m(){this.radius=NaN,this.emitFromShell=!1,$m.__super.call(this),this.radius=1,this.emitFromShell=!1,this.randomDirection=!1}C$zur($m,"laya.d3.core.particleShuriKen.module.shape.HemisphereShape",C$zue);var C$zut=$m.prototype;C$zut._getShapeBoundBox=function(C$zut){var C$zue=C$zut.min.elements;C$zue[0]=C$zue[1]=C$zue[2]=-this.radius;C$zue=C$zut.max.elements;C$zue[0]=C$zue[1]=this.radius,C$zue[2]=0},C$zut._getSpeedBoundBox=function(C$zut){var C$zue=C$zut.min.elements;C$zue[0]=C$zue[1]=-1,C$zue[2]=0;C$zue=C$zut.max.elements;C$zue[0]=C$zue[1]=C$zue[2]=1},C$zut.generatePositionAndDirection=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut.elements;C$zui?(C$zui.seed=C$zun[16],this.emitFromShell?C$zuG._randomPointUnitSphere(C$zut,C$zui):C$zuG._randomPointInsideUnitSphere(C$zut,C$zui),C$zun[16]=C$zui.seed):this.emitFromShell?C$zuG._randomPointUnitSphere(C$zut):C$zuG._randomPointInsideUnitSphere(C$zut),C$zuE.scale(C$zut,this.radius,C$zut);var C$zus=C$zur[2];C$zus<0&&(C$zur[2]=-1*C$zus),this.randomDirection?C$zui?(C$zui.seed=C$zun[17],C$zuG._randomPointUnitSphere(C$zue,C$zui),C$zun[17]=C$zui.seed):C$zuG._randomPointUnitSphere(C$zue):C$zut.cloneTo(C$zue)},C$zut.cloneTo=function(C$zut){C$zue.prototype.cloneTo.call(this,C$zut);C$zut.radius=this.radius,C$zut.emitFromShell=this.emitFromShell,C$zut.randomDirection=this.randomDirection}}(C$zuz),function(C$zue){function $m(){this.radius=NaN,this.emitFromShell=!1,$m.__super.call(this),this.radius=1,this.emitFromShell=!1,this.randomDirection=!1}C$zur($m,"laya.d3.core.particleShuriKen.module.shape.SphereShape",C$zue);var C$zut=$m.prototype;C$zut._getShapeBoundBox=function(C$zut){var C$zue=C$zut.min.elements;C$zue[0]=C$zue[1]=C$zue[2]=-this.radius;C$zue=C$zut.max.elements;C$zue[0]=C$zue[1]=C$zue[2]=this.radius},C$zut._getSpeedBoundBox=function(C$zut){var C$zue=C$zut.min.elements;C$zue[0]=C$zue[1]=C$zue[2]=-1;C$zue=C$zut.max.elements;C$zue[0]=C$zue[1]=C$zue[2]=1},C$zut.generatePositionAndDirection=function(C$zut,C$zue,C$zui,C$zun){C$zui?(C$zui.seed=C$zun[16],this.emitFromShell?C$zuG._randomPointUnitSphere(C$zut,C$zui):C$zuG._randomPointInsideUnitSphere(C$zut,C$zui),C$zun[16]=C$zui.seed):this.emitFromShell?C$zuG._randomPointUnitSphere(C$zut):C$zuG._randomPointInsideUnitSphere(C$zut),C$zuE.scale(C$zut,this.radius,C$zut),this.randomDirection?C$zui?(C$zui.seed=C$zun[17],C$zuG._randomPointUnitSphere(C$zue,C$zui),C$zun[17]=C$zui.seed):C$zuG._randomPointUnitSphere(C$zue):C$zut.cloneTo(C$zue)},C$zut.cloneTo=function(C$zut){C$zue.prototype.cloneTo.call(this,C$zut);C$zut.radius=this.radius,C$zut.emitFromShell=this.emitFromShell,C$zut.randomDirection=this.randomDirection}}(C$zuz),function(){function $p(){this._batchIndexStart=0,this._batchIndexEnd=0,this._skinAnimationDatas=null,$p.__super.call(this)}return C$zur($p,"laya.d3.core.render.SubMeshRenderElement",C$zuK),$p}()),C$zuTe=(C$zur($n,"laya.d3.shader.ShaderCompile3D",C$zuM),(C$zuKe=$n.prototype)._definesToNameDic=function(C$zut,C$zue){for(var C$zui={},C$zun=1,C$zur=0;C$zur<32&&!(C$zut<(C$zun=1<<C$zur));C$zur++){var C$zus;C$zut&C$zun&&((C$zus=C$zue[C$zun])&&(C$zui[C$zus]=""))}return C$zui},C$zuKe.withCompile=function(C$zut,C$zue,C$zui,C$zuu){var C$zun,C$zur;if(C$zua=this.sharders[C$zut])if(C$zur=C$zua[C$zue]){if(C$zun=C$zur[C$zui])return C$zun}else C$zur=C$zua[C$zue]=[];else C$zur=(C$zua=this.sharders[C$zut]=[])[C$zue]=[];var C$zus,C$zua=this._definesToNameDic(C$zut,$n._globalInt2name),C$zuo=this._definesToNameDic(C$zue,this._spriteInt2name),C$zuc=this._definesToNameDic(C$zui,this._materialInt2name),C$zuh={},C$zul="";if(C$zua)for(C$zus in C$zua)C$zul+="#define "+C$zus+"\n",C$zuh[C$zus]=!0;if(C$zuo)for(C$zus in C$zuo)C$zul+="#define "+C$zus+"\n",C$zuh[C$zus]=!0;if(C$zuc)for(C$zus in C$zuc)C$zul+="#define "+C$zus+"\n",C$zuh[C$zus]=!0;C$zua=C$zuLe.nameKey.getName(this._name)+" compile ("+C$zut+","+C$zue+","+C$zui+")",C$zuo=this._VS.toscript(C$zuh,[]),C$zuc=this._PS.toscript(C$zuh,[]);return C$zuw.now(),C$zun=C$zuLe.create(C$zul+C$zuo.join("\n"),C$zul+C$zuc.join("\n"),this._attributeMap,this._sceneUniformMap,this._cameraUniformMap,this._spriteUniformMap,this._materialUniformMap,this._renderElementUniformMap,C$zuu,C$zua),C$zur[C$zui]=C$zun,laya.d3.shader.ShaderCompile3D.debugMode&&C$zuw.now(),C$zun},C$zuKe.precompileShaderWithShaderDefine=function(C$zut,C$zue,C$zui){this.withCompile(C$zut,C$zue,C$zui,!0)},C$zuKe.addMaterialDefines=function(C$zut){var C$zue=C$zut.defines;for(var C$zui in C$zue){var C$zun=C$zue[C$zui],C$zui=parseInt(C$zui);this._materialInt2name[C$zui]=C$zun,this._materialName2Int[C$zun]=C$zui}},C$zuKe.addSpriteDefines=function(C$zut){var C$zue=C$zut.defines;for(var C$zui in C$zue){var C$zun=C$zue[C$zui],C$zui=parseInt(C$zui);this._spriteInt2name[C$zui]=C$zun,this._spriteName2Int[C$zun]=C$zui}},C$zuKe.getMaterialDefineByName=function(C$zut){return this._materialName2Int[C$zut]},C$zuKe.registerMaterialDefine=function(C$zut){var C$zue=Math.pow(2,this._materialDefineCounter++);return this._materialInt2name[C$zue]=C$zut,this._materialName2Int[C$zut]=C$zue},C$zuKe.registerSpriteDefine=function(C$zut){var C$zue=Math.pow(2,this._spriteDefineCounter++);return this._spriteInt2name[C$zue]=C$zut,this._spriteName2Int[C$zut]=C$zue},$n._globalRegDefine=function(C$zut,C$zue){$n._globalInt2name[C$zue]=C$zut},$n.add=function(C$zut,C$zue,C$zui,C$zun,C$zur){return laya.d3.shader.ShaderCompile3D._preCompileShader[C$zut]=new $n(C$zut,C$zue,C$zui,C$zun,C$zur,C$zuM.includes)},$n.get=function(C$zut){return laya.d3.shader.ShaderCompile3D._preCompileShader[C$zuLe.nameKey.getID(C$zut)]},$n._preCompileShader={},$n._globalInt2name=[],$n.debugMode=!1,$n.SHADERDEFINE_HIGHPRECISION=1,$n.SHADERDEFINE_FOG=4,$n.SHADERDEFINE_DIRECTIONLIGHT=8,$n.SHADERDEFINE_POINTLIGHT=16,$n.SHADERDEFINE_SPOTLIGHT=32,$n.SHADERDEFINE_UV0=64,$n.SHADERDEFINE_COLOR=128,$n.SHADERDEFINE_UV1=256,$n.SAHDERDEFINE_DEPTHFOG=131072,$n),C$zuwe=(C$zur($A,"laya.d3.graphics.MeshSprite3DStaticBatchManager",C$zust),(C$zuz=$A.prototype)._getStaticBatch=function(C$zut,C$zue,C$zui,C$zun){var C$zur;return C$zun=C$zut?C$zut.id.toString()+C$zui.id.toString()+C$zue.id.toString()+C$zun.toString():C$zui.id.toString()+C$zue.id.toString()+C$zun.toString(),this._staticBatches[C$zun]?C$zur=this._staticBatches[C$zun]:this._staticBatches[C$zun]=C$zur=new C$zuMe(C$zun,this,C$zut,C$zue,C$zui),C$zur},C$zuz._initStaticBatchs=function(C$zuu){var C$zut,C$zue;this._initBatchRenderElements.sort($A._sortPrepareStaticBatch);for(var C$zui,C$zun=!1,C$zur=0,C$zus=0,C$zuc=this._initBatchRenderElements.length;C$zus<C$zuc;C$zus++){var C$zua,C$zuo=this._initBatchRenderElements[C$zus],C$zuh=C$zuo.renderObj._getVertexBuffer(0);var C$zul,C$zu_,C$zud;C$zuo._sprite3D,C$zue===C$zuh.vertexDeclaration&&C$zut===C$zuo._material?C$zun?C$zui._addCombineBatchRenderObjTest(C$zuo)?(C$zua=C$zuo._staticBatch)!==C$zui&&(C$zua&&C$zua._deleteCombineBatchRenderObj(C$zuo),C$zui._addCombineBatchRenderObj(C$zuo)):(C$zun=!1,C$zur++):(C$zu_=(C$zul=this._initBatchRenderElements[C$zus-1]).renderObj,C$zud=C$zuo.renderObj,C$zun=!(65535<C$zu_._getVertexBuffer().vertexCount+C$zud._getVertexBuffer().vertexCount||(C$zui=this._getStaticBatch(C$zuu,C$zue,C$zut,C$zur),(C$zua=C$zul._staticBatch)!==C$zui&&(C$zua&&C$zua._deleteCombineBatchRenderObj(C$zul),C$zui._addCombineBatchRenderObj(C$zul)),(C$zua=C$zuo._staticBatch)!==C$zui&&(C$zua&&C$zua._deleteCombineBatchRenderObj(C$zuo),C$zui._addCombineBatchRenderObj(C$zuo)),0))):(C$zun=!1,C$zur=0),C$zut=C$zuo._material,C$zue=C$zuh.vertexDeclaration}},$A._sortPrepareStaticBatch=function(C$zut,C$zue){var C$zui=C$zut._render,C$zun=C$zue._render,C$zur=C$zui.lightmapIndex-C$zun.lightmapIndex;if(0!=C$zur)return C$zur;C$zur=C$zui.receiveShadow-C$zun.receiveShadow;if(0!=C$zur)return C$zur;C$zui=C$zut._mainSortID-C$zue._mainSortID;return 0==C$zui?C$zut.renderObj.triangleCount-C$zue.renderObj.triangleCount:C$zui},$A),C$zuMe=function(){function $q(C$zut,C$zue,C$zui,C$zun,C$zur){this._batchOwnerIndices=null,this._batchOwners=null,this._needFinishCombine=!1,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._vertexDeclaration=null,this._vertexBuffer=null,this._indexBuffer=null,$q.__super.call(this,C$zut,C$zue,C$zui),this._batchOwnerIndices=[],this._batchOwners=[],this._needFinishCombine=!1,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._vertexDeclaration=C$zun,this._material=C$zur}C$zur($q,"laya.d3.graphics.SubMeshStaticBatch",C$zuat);var C$zut=$q.prototype;return C$zut._compareBatchRenderElement=function(C$zut,C$zue){return C$zut._batchIndexStart>C$zue._batchIndexStart},C$zut._addCombineBatchRenderObjTest=function(C$zut){var C$zue=C$zut.renderObj._vertexCount;return!(65535<(0<C$zue?this._currentCombineVertexCount+C$zue:this._currentCombineVertexCount+C$zut.renderObj._getVertexBuffer().vertexCount))},C$zut._addCombineBatchRenderObj=function(C$zut){var C$zue=C$zut.renderObj,C$zui=C$zue._vertexCount;this._initBatchRenderElements.push(C$zut),C$zut._staticBatch=this,0<C$zui?(this._currentCombineIndexCount+=C$zue._indexCount,this._currentCombineVertexCount+=C$zui):(this._currentCombineIndexCount=this._currentCombineIndexCount+C$zue._getIndexBuffer().indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount+C$zue._getVertexBuffer().vertexCount),this._needFinishCombine=!0},C$zut._deleteCombineBatchRenderObj=function(C$zut){var C$zue=C$zut.renderObj,C$zui=this._initBatchRenderElements.indexOf(C$zut);-1!==C$zui&&(this._initBatchRenderElements.splice(C$zui,1),C$zut._staticBatch=null,0<(C$zui=C$zue._vertexCount)?(this._currentCombineIndexCount=this._currentCombineIndexCount-C$zue._indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount-C$zui):(this._currentCombineIndexCount=this._currentCombineIndexCount-C$zue._getIndexBuffer().indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount-C$zue._getVertexBuffer().vertexCount),this._needFinishCombine=!0)},C$zut._finishInit=function(){if(this._needFinishCombine){var C$zut=0,C$zue=0;(0<=this._initBatchRenderElements[0]._sprite3D._render.lightmapIndex||this._material instanceof laya.d3.core.material.StandardMaterial&&this._material.ambientTexture)&&(this._vertexDeclaration=this._getVertexDecLightMap(this._vertexDeclaration));var C$zuu=new Float32Array(this._vertexDeclaration.vertexStride/4*this._currentCombineVertexCount),C$zui=new Uint16Array(this._currentCombineIndexCount);this._vertexBuffer&&(this._vertexBuffer.destroy(),this._indexBuffer.destroy()),this._vertexBuffer=C$zuFe.create(this._vertexDeclaration,this._currentCombineVertexCount,35044),this._indexBuffer=C$zuNe.create("ushort",this._currentCombineIndexCount,35044);for(var C$zun=0,C$zuc=this._initBatchRenderElements.length;C$zun<C$zuc;C$zun++){var C$zur=this._initBatchRenderElements[C$zun],C$zus=C$zur.renderObj,C$zu_=C$zus._getStaticBatchBakedVertexs(this._rootOwner?this._rootOwner._transform:null,C$zur._sprite3D),C$zua=C$zus.getIndices(),C$zud=C$zur._sprite3D.transform._isFrontFaceInvert,C$zuo=C$zut/(this._vertexDeclaration.vertexStride/4)-C$zus._vertexStart,C$zus=C$zue,C$zuh=C$zus+C$zua.length;C$zur._batchIndexStart=C$zus,C$zur._batchIndexEnd=C$zuh,C$zui.set(C$zua,C$zue);var C$zul=0;if(C$zud)for(C$zul=C$zus;C$zul<C$zuh;C$zul+=3){C$zui[C$zul]=C$zuo+C$zui[C$zul];var C$zuf=C$zui[C$zul+1],C$zup=C$zui[C$zul+2];C$zui[C$zul+1]=C$zuo+C$zup,C$zui[C$zul+2]=C$zuo+C$zuf}else for(C$zul=C$zus;C$zul<C$zuh;C$zul+=3)C$zui[C$zul]=C$zuo+C$zui[C$zul],C$zui[C$zul+1]=C$zuo+C$zui[C$zul+1],C$zui[C$zul+2]=C$zuo+C$zui[C$zul+2];C$zue+=C$zua.length,C$zuu.set(C$zu_,C$zut),C$zut+=C$zu_.length}this._vertexBuffer.setData(C$zuu),this._indexBuffer.setData(C$zui),this._needFinishCombine=!1}},C$zut._getCombineRenderElementFromPool=function(){return this._combineRenderElementPool[this._combineRenderElementPoolIndex++]||(this._combineRenderElementPool[this._combineRenderElementPoolIndex-1]=new C$zube)},C$zut._getRenderElement=function(C$zuu,C$zuc,C$zu_){for(var C$zut,C$zud=this._batchRenderElements.length,C$zue=!0,C$zui=0;C$zui<C$zud;C$zui++){var C$zun,C$zur=(C$zut=this._batchRenderElements[C$zui])._sprite3D._render;var C$zus,C$zua,C$zuo,C$zuh,C$zul;(C$zue=0!==C$zui?(C$zus=(C$zua=this._batchRenderElements[C$zui-1])._sprite3D._render).lightmapIndex!==C$zur.lightmapIndex||C$zus.receiveShadow!==C$zur.receiveShadow||C$zua._batchIndexEnd!==C$zut._batchIndexStart:C$zue)?((C$zun=this._getCombineRenderElementFromPool()).renderObj=this,C$zun._material=this._material,C$zun._batchIndexStart=C$zut._batchIndexStart,C$zun._batchIndexEnd=C$zut._batchIndexEnd,C$zus=C$zur.lightmapIndex,void 0===(C$zul=(C$zuo=(C$zuo=this._batchOwnerIndices[C$zua=C$zus+1])||(this._batchOwnerIndices[C$zua]=[]))[C$zut._render.receiveShadow?1:0])?(C$zuo[C$zur.receiveShadow?1:0]=this._batchOwners.length,(C$zuh=new C$zuYe(null,"StaticBatchMeshSprite3D"))._scene=C$zuc,C$zuh._transform=this._rootOwner?this._rootOwner._transform:null,C$zuh._render.lightmapIndex=C$zus,C$zuh._render.receiveShadow=C$zut._render.receiveShadow,this._batchOwners.push(C$zuh)):C$zuh=this._batchOwners[C$zul],C$zuh._render._renderUpdate(C$zu_),C$zun._sprite3D=C$zuh,C$zuu.push(C$zun)):C$zun._batchIndexEnd=C$zut._batchIndexEnd}},C$zut._beforeRender=function(C$zut){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},C$zut._render=function(C$zut){var C$zut=C$zut.renderElement,C$zue=C$zut._batchIndexStart,C$zut=C$zut._batchIndexEnd-C$zue;C$zuI.mainContext.drawElements(4,C$zut,5123,2*C$zue),C$zuC.drawCall++,C$zuC.trianglesFaces+=C$zut/3},C$zut.dispose=function(){this._batchOwnerIndices=null,this._batchOwners=null,this._vertexDeclaration=null,this._vertexBuffer.destroy(),this._indexBuffer.destroy()},C$zut._getVertexBuffer=function(C$zut){return void 0===C$zut&&(C$zut=0),this._vertexBuffer},$q}(),C$zuSe=function(){function $p(){this._componentsMap=null,this._typeComponentsIndices=null,this._components=null,this._scripts=null,$p.__super.call(this),this._componentsMap=[],this._typeComponentsIndices=[],this._components=[],this._scripts=[]}C$zur($p,"laya.d3.core.ComponentNode",C$zuf);var C$zut=$p.prototype;return C$zut.addComponent=function(C$zut){var C$zue,C$zui=this._componentsMap.indexOf(C$zut);if(-1===C$zui)C$zue=[],this._componentsMap.push(C$zut),this._typeComponentsIndices.push(C$zue);else if(C$zue=this._typeComponentsIndices[C$zui],this._components[C$zue[0]].isSingleton)throw new Error("\u65e0\u6cd5\u5355\u5b9e\u4f8b\u521b\u5efa"+C$zut+"\u7ec4\u4ef6\uff0c"+C$zut+"\u7ec4\u4ef6\u5df2\u5b58\u5728\uff01");C$zui=C$zuu.getInstance(C$zut);return C$zue.push(this._components.length),this._components.push(C$zui),C$zui instanceof laya.d3.component.Script&&this._scripts.push(C$zui),C$zui._initialize(this),C$zui},C$zut._removeComponent=function(C$zut,C$zue){var C$zui=this._typeComponentsIndices[C$zut],C$zun=C$zui[C$zue],C$zur=this._components[C$zun];this._components.splice(C$zun,1),C$zur instanceof laya.d3.component.Script&&this._scripts.splice(this._scripts.indexOf(C$zur),1),C$zui.splice(C$zue,1),0===C$zui.length&&(this._typeComponentsIndices.splice(C$zut,1),this._componentsMap.splice(C$zut,1));for(var C$zus=0,C$zua=this._componentsMap.length;C$zus<C$zua;C$zus++)for(var C$zuo=(C$zui=this._typeComponentsIndices[C$zus]).length-1;0<=C$zuo;C$zuo--){var C$zuh=C$zui[C$zuo];if(!(C$zun<C$zuh))break;C$zui[C$zuo]=--C$zuh}C$zur._destroy()},C$zut.getComponentByType=function(C$zut,C$zue){void 0===C$zue&&(C$zue=0);C$zut=this._componentsMap.indexOf(C$zut);return-1===C$zut?null:this._components[this._typeComponentsIndices[C$zut][C$zue]]},C$zut.getComponentsByType=function(C$zut,C$zue){C$zut=this._componentsMap.indexOf(C$zut);if(-1!==C$zut){var C$zui=this._typeComponentsIndices[C$zut],C$zun=C$zui.length;C$zue.length=C$zun;for(var C$zur=0;C$zur<C$zun;C$zur++)C$zue[C$zur]=this._components[C$zui[C$zur]]}else C$zue.length=0},C$zut.getComponentByIndex=function(C$zut){return this._components[C$zut]},C$zut.removeComponentByType=function(C$zut,C$zue){void 0===C$zue&&(C$zue=0);C$zut=this._componentsMap.indexOf(C$zut);-1!==C$zut&&this._removeComponent(C$zut,C$zue)},C$zut.removeComponentsByType=function(C$zut){var C$zue=this._componentsMap.indexOf(C$zut);if(-1!==C$zue)for(var C$zui=this._typeComponentsIndices[C$zue],C$zun=0,C$zur=C$zui.length;C$zun<C$zur;C$zui.length<C$zur?C$zur--:C$zun++)this._removeComponent(C$zue,C$zun)},C$zut.removeAllComponent=function(){for(var C$zut=0,C$zue=this._componentsMap.length;C$zut<C$zue;this._componentsMap.length<C$zue?C$zue--:C$zut++)this.removeComponentsByType(this._componentsMap[C$zut])},C$zut._updateComponents=function(C$zut){for(var C$zue=0,C$zui=this._components.length;C$zue<C$zui;C$zue++){var C$zun=this._components[C$zue];C$zun.started||(C$zun._start(C$zut),C$zun.started=!0),C$zun.enable&&C$zun._update(C$zut)}},C$zut._lateUpdateComponents=function(C$zut){for(var C$zue=0;C$zue<this._components.length;C$zue++){var C$zui=this._components[C$zue];C$zui.started||(C$zui._start(C$zut),C$zui.started=!0),C$zui.enable&&C$zui._lateUpdate(C$zut)}},C$zut._preRenderUpdateComponents=function(C$zut){for(var C$zue=0;C$zue<this._components.length;C$zue++){var C$zui=this._components[C$zue];C$zui.started||(C$zui._start(C$zut),C$zui.started=!0),C$zui.enable&&C$zui._preRenderUpdate(C$zut)}},C$zut._postRenderUpdateComponents=function(C$zut){for(var C$zue=0;C$zue<this._components.length;C$zue++){var C$zui=this._components[C$zue];C$zui.started||(C$zui._start(C$zut),C$zui.started=!0),C$zui.enable&&C$zui._postRenderUpdate(C$zut)}},$p}(),C$zuCe=function(C$zun){function $m(){$m.__super.call(this),this._shaderDefineValue=0,this._disablePublicShaderDefine=0,this._shaderValues=new C$zu_e,this._values=[],this.renderQueue=2e3,this._alphaTest=!1,this.cull=2,this.blend=0,this.srcBlend=1,this.dstBlend=0,this.srcBlendRGB=1,this.dstBlendRGB=0,this.srcBlendAlpha=1,this.dstBlendAlpha=0,this.blendConstColor=new C$zuoe(1,1,1,1),this.blendEquation=0,this.blendEquationRGB=0,this.blendEquationAlpha=0,this.depthTest=513,this.depthWrite=!0}C$zur($m,"laya.d3.core.material.BaseMaterial",C$zun);var C$zut=$m.prototype;return C$zuy.imps(C$zut,{"laya.d3.core.IClone":!0}),C$zut._addShaderDefine=function(C$zut){this._shaderDefineValue|=C$zut},C$zut._removeShaderDefine=function(C$zut){this._shaderDefineValue&=~C$zut},C$zut._addDisablePublicShaderDefine=function(C$zut){this._disablePublicShaderDefine|=C$zut},C$zut._removeDisablePublicShaderDefine=function(C$zut){this._disablePublicShaderDefine&=~C$zut},C$zut._setBuffer=function(C$zut,C$zue){this._shaderValues.setValue(C$zut,C$zue),this._values[C$zut]=C$zue},C$zut._getBuffer=function(C$zut){return this._values[C$zut]},C$zut._setMatrix4x4=function(C$zut,C$zue){this._shaderValues.setValue(C$zut,C$zue?C$zue.elements:null),this._values[C$zut]=C$zue},C$zut._getMatrix4x4=function(C$zut){return this._values[C$zut]},C$zut._setInt=function(C$zut,C$zue){this._shaderValues.setValue(C$zut,C$zue),this._values[C$zut]=C$zue},C$zut._getInt=function(C$zut){return this._values[C$zut]},C$zut._setNumber=function(C$zut,C$zue){this._shaderValues.setValue(C$zut,C$zue),this._values[C$zut]=C$zue},C$zut._getNumber=function(C$zut){return this._values[C$zut]},C$zut._setBool=function(C$zut,C$zue){this._shaderValues.setValue(C$zut,C$zue),this._values[C$zut]=C$zue},C$zut._getBool=function(C$zut){return this._values[C$zut]},C$zut._setVector2=function(C$zut,C$zue){this._shaderValues.setValue(C$zut,C$zue?C$zue.elements:null),this._values[C$zut]=C$zue},C$zut._getVector2=function(C$zut){return this._values[C$zut]},C$zut._setColor=function(C$zut,C$zue){this._shaderValues.setValue(C$zut,C$zue?C$zue.elements:null),this._values[C$zut]=C$zue},C$zut._getColor=function(C$zut){return this._values[C$zut]},C$zut._setTexture=function(C$zut,C$zue){var C$zui=this._values[C$zut];this._values[C$zut]=C$zue,this._shaderValues.setValue(C$zut,C$zue),0<this.referenceCount&&(C$zui&&C$zui._removeReference(),C$zue&&C$zue._addReference())},C$zut._getTexture=function(C$zut){return this._values[C$zut]},C$zut._upload=function(){this._shader.uploadMaterialUniforms(this._shaderValues.data)},C$zut._getShader=function(C$zut,C$zue,C$zui){C$zut=(C$zut|C$zue)&~this._disablePublicShaderDefine;return this._shader=this._shaderCompile.withCompile(C$zut,C$zui,this._shaderDefineValue),this._shader},C$zut._setRenderStateBlendDepth=function(){var C$zut=C$zuI.mainContext;switch(C$zuR.setDepthMask(C$zut,this.depthWrite),0===this.depthTest?C$zuR.setDepthTest(C$zut,!1):(C$zuR.setDepthTest(C$zut,!0),C$zuR.setDepthFunc(C$zut,this.depthTest)),this.blend){case 0:C$zuR.setBlend(C$zut,!1);break;case 1:C$zuR.setBlend(C$zut,!0),C$zuR.setBlendFunc(C$zut,this.srcBlend,this.dstBlend);break;case 2:C$zuR.setBlend(C$zut,!0)}},C$zut._setRenderStateFrontFace=function(C$zut,C$zue){var C$zui=C$zuI.mainContext,C$zun=0;switch(this.cull){case 0:C$zuR.setCullFace(C$zui,!1);break;case 1:C$zuR.setCullFace(C$zui,!0),C$zun=C$zut?C$zue&&C$zue._isFrontFaceInvert?2305:2304:C$zue&&C$zue._isFrontFaceInvert?2304:2305,C$zuR.setFrontFace(C$zui,C$zun);break;case 2:C$zuR.setCullFace(C$zui,!0),C$zun=C$zut?C$zue&&C$zue._isFrontFaceInvert?2304:2305:C$zue&&C$zue._isFrontFaceInvert?2305:2304,C$zuR.setFrontFace(C$zui,C$zun)}},C$zut.onAsynLoaded=function(C$zuu,C$zuc,C$zu_){var C$zud=C$zuc[0],C$zuf=C$zuc[1];switch(C$zud.version){case"LAYAMATERIAL:01":var C$zut=0,C$zue=0,C$zui=C$zud.props;for(var C$zun in C$zui)switch(C$zun){case"vectors":var C$zur=C$zui[C$zun];for(C$zut=0,C$zue=C$zur.length;C$zut<C$zue;C$zut++){var C$zus=C$zur[C$zut],C$zua=C$zus.value;switch(C$zua.length){case 2:this[C$zus.name]=new C$zuae(C$zua[0],C$zua[1]);break;case 3:this[C$zus.name]=new C$zuE(C$zua[0],C$zua[1],C$zua[2]);break;case 4:this[C$zus.name]=new C$zuoe(C$zua[0],C$zua[1],C$zua[2],C$zua[3]);break;default:throw new Error("BaseMaterial:unkonwn color length.")}}break;case"textures":var C$zuo=C$zui[C$zun];for(C$zut=0,C$zue=C$zuo.length;C$zut<C$zue;C$zut++){var C$zuh=C$zuo[C$zut],C$zul=C$zuh.path;C$zul&&(this[C$zuh.name]=C$zug.getRes(C$zuf[C$zul]))}break;case"defines":var C$zup=C$zui[C$zun];for(C$zut=0,C$zue=C$zup.length;C$zut<C$zue;C$zut++){var C$zum=this._shaderCompile.getMaterialDefineByName(C$zup[C$zut]);this._addShaderDefine(C$zum)}break;case"cull":case"blend":case"srcBlend":case"dstBlend":case"depthWrite":this[C$zun]=C$zui[C$zun];break;case"renderQueue":switch(C$zui[C$zun]){case 1:this.renderQueue=2e3;break;case 2:this.renderQueue=3e3}break;default:this[C$zun]=C$zui[C$zun]}break;case"LAYAMATERIAL:02":for(C$zun in C$zui=C$zud.props)switch(C$zun){case"vectors":for(C$zut=0,C$zue=(C$zur=C$zui[C$zun]).length;C$zut<C$zue;C$zut++)switch((C$zua=(C$zus=C$zur[C$zut]).value).length){case 2:this[C$zus.name]=new C$zuae(C$zua[0],C$zua[1]);break;case 3:this[C$zus.name]=new C$zuE(C$zua[0],C$zua[1],C$zua[2]);break;case 4:this[C$zus.name]=new C$zuoe(C$zua[0],C$zua[1],C$zua[2],C$zua[3]);break;default:throw new Error("BaseMaterial:unkonwn color length.")}break;case"textures":for(C$zut=0,C$zue=(C$zuo=C$zui[C$zun]).length;C$zut<C$zue;C$zut++)(C$zul=(C$zuh=C$zuo[C$zut]).path)&&(this[C$zuh.name]=C$zug.getRes(C$zuf[C$zul]));break;case"defines":for(C$zut=0,C$zue=(C$zup=C$zui[C$zun]).length;C$zut<C$zue;C$zut++)C$zum=this._shaderCompile.getMaterialDefineByName(C$zup[C$zut]),this._addShaderDefine(C$zum);break;default:this[C$zun]=C$zui[C$zun]}break;default:throw new Error("BaseMaterial:unkonwn version.")}this._endLoaded()},C$zut._addReference=function(){C$zun.prototype._addReference.call(this);for(var C$zut=0,C$zue=this._values.length;C$zut<C$zue;C$zut++){var C$zui=this._values[C$zut];C$zui&&C$zui instanceof laya.d3.resource.BaseTexture&&C$zui._addReference()}},C$zut._removeReference=function(){C$zun.prototype._removeReference.call(this);for(var C$zut=0,C$zue=this._values.length;C$zut<C$zue;C$zut++){var C$zui=this._values[C$zut];C$zui&&C$zui instanceof laya.d3.resource.BaseTexture&&C$zui._removeReference()}},C$zut.disposeResource=function(){this.blendConstColor=null,this._shader=null,this._shaderValues=null,this._values=null},C$zut.setShaderName=function(C$zut){C$zut=C$zuLe.nameKey.getID(C$zut);if(-1===C$zut)throw new Error("BaseMaterial: unknown shader name.");this._shaderCompile=C$zuTe._preCompileShader[C$zut]},C$zut.cloneTo=function(C$zut){C$zut.name=this.name,C$zut.cull=this.cull,C$zut.blend=this.blend,C$zut.srcBlend=this.srcBlend,C$zut.dstBlend=this.dstBlend,C$zut.srcBlendRGB=this.srcBlendRGB,C$zut.dstBlendRGB=this.dstBlendRGB,C$zut.srcBlendAlpha=this.srcBlendAlpha,C$zut.dstBlendAlpha=this.dstBlendAlpha,this.blendConstColor.cloneTo(C$zut.blendConstColor),C$zut.blendEquation=this.blendEquation,C$zut.blendEquationRGB=this.blendEquationRGB,C$zut.blendEquationAlpha=this.blendEquationAlpha,C$zut.depthTest=this.depthTest,C$zut.depthWrite=this.depthWrite,C$zut.renderQueue=this.renderQueue,C$zut._shader=this._shader,C$zut._disablePublicShaderDefine=this._disablePublicShaderDefine,C$zut._shaderDefineValue=this._shaderDefineValue;var C$zue,C$zui=0,C$zun=C$zut._shaderValues;C$zut._shaderValues.data.length=this._shaderValues.data.length;var C$zur=this._values.length,C$zus=C$zut._values;for(C$zui=0,C$zue=C$zus.length=C$zur;C$zui<C$zue;C$zui++){var C$zua=this._values[C$zui];var C$zuo,C$zuh;C$zua&&("number"==typeof C$zua||"boolean"==typeof C$zua?(C$zus[C$zui]=C$zua,C$zun.data[C$zui]=C$zua):C$zua instanceof laya.d3.math.Vector2?(C$zuo=C$zus[C$zui]||(C$zus[C$zui]=new C$zuae),C$zua.cloneTo(C$zuo),C$zun.data[C$zui]=C$zuo.elements):C$zua instanceof laya.d3.math.Vector3?(C$zuo=C$zus[C$zui]||(C$zus[C$zui]=new C$zuE),C$zua.cloneTo(C$zuo),C$zun.data[C$zui]=C$zuo.elements):C$zua instanceof laya.d3.math.Vector4?(C$zuh=C$zus[C$zui]||(C$zus[C$zui]=new C$zuoe),C$zua.cloneTo(C$zuh),C$zun.data[C$zui]=C$zuh.elements):C$zua instanceof laya.d3.math.Matrix4x4?(C$zuh=C$zus[C$zui]||(C$zus[C$zui]=new C$zuee),C$zua.cloneTo(C$zuh),C$zun.data[C$zui]=C$zuh.elements):C$zua instanceof laya.d3.resource.BaseTexture&&(C$zus[C$zui]=C$zua,C$zun.data[C$zui]=C$zua))}},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zuo(0,C$zut,"alphaTestValue",function(){return this._getNumber(0)},function(C$zut){this._setNumber(0,C$zut)}),C$zuo(0,C$zut,"alphaTest",function(){return this._alphaTest},function(C$zut){(this._alphaTest=C$zut)?this._addShaderDefine(laya.d3.core.material.BaseMaterial.SHADERDEFINE_ALPHATEST):this._removeShaderDefine(laya.d3.core.material.BaseMaterial.SHADERDEFINE_ALPHATEST)}),$m.__init__=function(){$m.SHADERDEFINE_ALPHATEST=$m.shaderDefines.registerDefine("ALPHATEST")},$m.RENDERQUEUE_OPAQUE=2e3,$m.RENDERQUEUE_ALPHATEST=2450,$m.RENDERQUEUE_TRANSPARENT=3e3,$m.CULL_NONE=0,$m.CULL_FRONT=1,$m.CULL_BACK=2,$m.BLEND_DISABLE=0,$m.BLEND_ENABLE_ALL=1,$m.BLEND_ENABLE_SEPERATE=2,$m.BLENDPARAM_ZERO=0,$m.BLENDPARAM_ONE=1,$m.BLENDPARAM_SRC_COLOR=768,$m.BLENDPARAM_ONE_MINUS_SRC_COLOR=769,$m.BLENDPARAM_DST_COLOR=774,$m.BLENDPARAM_ONE_MINUS_DST_COLOR=775,$m.BLENDPARAM_SRC_ALPHA=770,$m.BLENDPARAM_ONE_MINUS_SRC_ALPHA=771,$m.BLENDPARAM_DST_ALPHA=772,$m.BLENDPARAM_ONE_MINUS_DST_ALPHA=773,$m.BLENDPARAM_SRC_ALPHA_SATURATE=776,$m.BLENDEQUATION_ADD=0,$m.BLENDEQUATION_SUBTRACT=1,$m.BLENDEQUATION_REVERSE_SUBTRACT=2,$m.DEPTHTEST_OFF=0,$m.DEPTHTEST_NEVER=512,$m.DEPTHTEST_LESS=513,$m.DEPTHTEST_EQUAL=514,$m.DEPTHTEST_LEQUAL=515,$m.DEPTHTEST_GREATER=516,$m.DEPTHTEST_NOTEQUAL=517,$m.DEPTHTEST_GEQUAL=518,$m.DEPTHTEST_ALWAYS=519,$m.SHADERDEFINE_ALPHATEST=1,$m.ALPHATESTVALUE=0,C$zus($m,["shaderDefines",function(){return this.shaderDefines=new C$zuue}]),$m}(C$zux),C$zuDe=function(){function $p(){this._type=0,this._width=0,this._height=0,this._size=null,this._repeat=!1,this._mipmap=!1,this._minFifter=0,this._magFifter=0,this._format=0,this._source=null,this._conchTexture=null,this._wrapModeU=0,this._wrapModeV=0,$p.__super.call(this),this._repeat=!0,this.mipmap=!0,this.minFifter=-1,this.magFifter=-1}C$zur($p,"laya.d3.resource.BaseTexture",C$zux);var C$zut=$p.prototype;return C$zuo(0,C$zut,"width",function(){return this._width}),C$zuo(0,C$zut,"repeat",function(){return this._repeat},function(C$zut){this._repeat!==C$zut&&(this._repeat=C$zut,this._source)&&(C$zut=C$zuI.mainContext,C$zuR.bindTexture(C$zut,this._type,this._source),C$zup.isPOT(this._width,this._height)&&this._repeat?(C$zut.texParameteri(this._type,10242,10497),C$zut.texParameteri(this._type,10243,10497)):(C$zut.texParameteri(this._type,10242,33071),C$zut.texParameteri(this._type,10243,33071)))}),C$zuo(0,C$zut,"height",function(){return this._height}),C$zuo(0,C$zut,"magFifter",function(){return this._magFifter},function(C$zut){(this._magFifter=C$zut)!=this._magFifter&&this._conchTexture&&this._conchTexture.setMaxFifter(C$zut)}),C$zuo(0,C$zut,"wrapModeV",function(){return this._wrapModeV}),C$zuo(0,C$zut,"size",function(){return this._size}),C$zuo(0,C$zut,"wrapModeU",function(){return this._wrapModeU}),C$zuo(0,C$zut,"mipmap",function(){return this._mipmap},function(C$zut){this._mipmap=C$zut,this._mipmap!=C$zut&&this._conchTexture&&this._conchTexture.setMipMap(C$zut)}),C$zuo(0,C$zut,"minFifter",function(){return this._minFifter},function(C$zut){this._minFifter=C$zut,this._minFifter!=C$zut&&this._conchTexture&&this._conchTexture.setMinFifter(C$zut)}),C$zuo(0,C$zut,"format",function(){return this._format}),C$zuo(0,C$zut,"source",function(){return this.activeResource(),this._source}),C$zuo(0,C$zut,"defaulteTexture",function(){return C$zuUe.grayTexture}),$p.WARPMODE_REPEAT=0,$p.WARPMODE_CLAMP=1,$p}(),C$zuEe=function(){function $p(){this._subMeshCount=0,this._boundingBox=null,this._boundingSphere=null,this._boundingBoxCorners=null,this._positions=null,$p.__super.call(this),this._boundingBoxCorners=C$zui(8,null)}C$zur($p,"laya.d3.resource.models.BaseMesh",C$zux);var C$zut=$p.prototype;return C$zut._getPositions=function(){throw new Error("\u672aOverride,\u8bf7\u91cd\u8f7d\u8be5\u5c5e\u6027\uff01")},C$zut._generateBoundingObject=function(){this._boundingSphere=new C$zuQt(new C$zuE,0),C$zuQt.createfromPoints(this._positions,this._boundingSphere),this._boundingBox=new C$zujt(new C$zuE,new C$zuE),C$zujt.createfromPoints(this._positions,this._boundingBox),this._boundingBox.getCorners(this._boundingBoxCorners)},C$zut.getRenderElementsCount=function(){throw new Error("\u672aOverride,\u8bf7\u91cd\u8f7d\u8be5\u5c5e\u6027\uff01")},C$zut.getRenderElement=function(C$zut){throw new Error("\u672aOverride,\u8bf7\u91cd\u8f7d\u8be5\u5c5e\u6027\uff01")},C$zuo(0,C$zut,"subMeshCount",function(){return this._subMeshCount}),C$zuo(0,C$zut,"boundingBox",function(){return this._boundingBox}),C$zuo(0,C$zut,"boundingBoxCorners",function(){return this._boundingBoxCorners}),C$zuo(0,C$zut,"boundingSphere",function(){return this._boundingSphere}),$p}(),C$zuPe=(function(){function $p(){$p.__super.call(this)}C$zur($p,"laya.d3.component.Script",C$zu$e);var C$zut=$p.prototype;C$zut.onTriggerEnter=function(C$zut){},C$zut.onTriggerExit=function(C$zut){},C$zut.onTriggerStay=function(C$zut){},C$zuo(0,C$zut,"isSingleton",function(){return $p._isSingleton}),$p._isSingleton=!1}(),function(C$zut){function $p(C$zut){this._owner=null,this._sharedMesh=null,$p.__super.call(this),this._owner=C$zut}C$zur($p,"laya.d3.core.MeshFilter",C$zut);var C$zue=$p.prototype;return C$zue._sharedMeshLoaded=function(){this.event("loaded")},C$zue._destroy=function(){C$zut.prototype._destroy.call(this),this._owner=null,this._sharedMesh&&(this._sharedMesh._removeReference(),this._sharedMesh=null)},C$zuo(0,C$zue,"sharedMesh",function(){return this._sharedMesh},function(C$zut){var C$zue=this._sharedMesh;C$zue&&C$zue._removeReference(),(this._sharedMesh=C$zut)._addReference(),this.event("meshchanged",[this,C$zue,C$zut]),C$zut.loaded||this._sharedMesh.once("loaded",this,this._sharedMeshLoaded)}),C$zuo(0,C$zue,"_isAsyncLoaded",function(){return this._sharedMesh.loaded}),C$zuo(0,C$zue,"_originalBoundingBoxCorners",function(){return this._sharedMesh.boundingBoxCorners}),C$zuo(0,C$zue,"_originalBoundingSphere",function(){return this._sharedMesh.boundingSphere}),C$zuo(0,C$zue,"_originalBoundingBox",function(){return this._sharedMesh.boundingBox}),$p}(C$zut)),C$zuAe=function(){function $p(C$zut){$p.__super.call(this,C$zut),C$zut.meshFilter.on("meshchanged",this,this._onMeshChanged)}C$zur($p,"laya.d3.core.MeshRender",C$zuxe);var C$zut=$p.prototype;return C$zut._onMeshChanged=function(C$zut,C$zue,C$zui){C$zui.loaded?this._boundingSphereNeedChange=this._boundingBoxNeedChange=this._boundingBoxCenterNeedChange=this._octreeNodeNeedChange=!0:C$zui.once("loaded",this,this._onMeshLoaed)},C$zut._onMeshLoaed=function(C$zut,C$zue){this._boundingSphereNeedChange=this._boundingBoxNeedChange=this._boundingBoxCenterNeedChange=this._octreeNodeNeedChange=!0},C$zut._calculateBoundingSphereByInitSphere=function(C$zut){var C$zue=this._owner.transform,C$zui=C$zue.scale.elements,C$zun=Math.abs(C$zui[0]),C$zur=Math.abs(C$zui[1]),C$zui=Math.abs(C$zui[2]);C$zun=C$zur<=C$zun&&C$zui<=C$zun?C$zun:C$zui<=C$zur?C$zur:C$zui,C$zuE.transformCoordinate(C$zut.center,C$zue.worldMatrix,this._boundingSphere.center),this._boundingSphere.radius=C$zut.radius*C$zun},C$zut._calculateBoundBoxByInitCorners=function(C$zut){for(var C$zue=this._owner.transform.worldMatrix,C$zui=0;C$zui<8;C$zui++)C$zuE.transformCoordinate(C$zut[C$zui],C$zue,C$zuxe._tempBoundBoxCorners[C$zui]);C$zujt.createfromPoints(C$zuxe._tempBoundBoxCorners,this._boundingBox)},C$zut._calculateBoundingSphere=function(){var C$zut=this._owner.meshFilter.sharedMesh;null==C$zut||null==C$zut.boundingSphere?this._boundingSphere.toDefault():this._calculateBoundingSphereByInitSphere(C$zut.boundingSphere)},C$zut._calculateBoundingBox=function(){var C$zut=this._owner.meshFilter.sharedMesh;null==C$zut||null==C$zut.boundingBox?this._boundingBox.toDefault():this._calculateBoundBoxByInitCorners(C$zut.boundingBoxCorners)},C$zut._renderUpdate=function(C$zut){var C$zue=this._owner.transform;return C$zue?(this._setShaderValueMatrix4x4(0,C$zue.worldMatrix),C$zue=this._owner.getProjectionViewWorldMatrix(C$zut),this._setShaderValueMatrix4x4(1,C$zue)):(this._setShaderValueMatrix4x4(0,C$zuee.DEFAULT),this._setShaderValueMatrix4x4(1,C$zut)),C$zuge.debugMode&&this._renderRenderableBoundBox(),!0},$p}(),C$zuIe=function(C$zue){function $P(){this._time=0,this._enableLightCount=3,this._customRenderQueneIndex=11,this.enableLight=!0,$P.__super.call(this),this._renderState=new C$zuj,this._lights=[],this._quenes=[],this._cameraPool=[],this._renderableSprite3Ds=[],this.__loaded=!0,this._lightmaps=[],this._shaderValues=new C$zu_e,this.parallelSplitShadowMaps=[],this._dynamicBatchManager=new C$zunt,this._cullingRenders=[],this._cullingRendersLength=0,this.enableFog=!1,this.fogStart=300,this.fogRange=1e3,this.fogColor=new C$zuE(.7,.7,.7),this.ambientColor=new C$zuE(.212,.227,.259),C$zuI.shaderHighPrecision&&this.addShaderDefine(C$zuTe.SHADERDEFINE_HIGHPRECISION),this.on("display",this,this._display),this.on("undisplay",this,this._unDisplay),this._componentsMap=[],this._typeComponentsIndices=[],this._components=[]}C$zur($P,"laya.d3.core.scene.Scene",C$zue);var C$zut=$P.prototype;return C$zuy.imps(C$zut,{"laya.webgl.submit.ISubmit":!0,"laya.resource.ICreateResource":!0}),C$zut._setUrl=function(C$zut){this._url=C$zut},C$zut._getGroup=function(){return this._group},C$zut._setGroup=function(C$zut){this._group=C$zut},C$zut._display=function(){C$zuy.stage._scenes.push(this),C$zuy.stage._scenes.sort($P._sortScenes);for(var C$zut=0,C$zue=this._childs.length;C$zut<C$zue;C$zut++){var C$zui=this._childs[C$zut];C$zui.active&&C$zui._activeHierarchy()}},C$zut._unDisplay=function(){var C$zut=C$zuy.stage._scenes;C$zut.splice(C$zut.indexOf(this),1);for(var C$zue=0,C$zui=this._childs.length;C$zue<C$zui;C$zue++){var C$zun=this._childs[C$zue];C$zun.active&&C$zun._inActiveHierarchy()}},C$zut._addChild3D=function(C$zut){C$zut.transform._onWorldTransform(),C$zut._setBelongScene(this),this.displayedInStage&&C$zut.active&&C$zut._activeHierarchy()},C$zut._removeChild3D=function(C$zut){C$zut.transform.parent=null,this.displayedInStage&&C$zut.active&&C$zut._inActiveHierarchy(),C$zut._setUnBelongScene()},C$zut.initOctree=function(C$zut,C$zue,C$zui,C$zun,C$zur){void 0===C$zur&&(C$zur=6),this.treeSize=new C$zuE(C$zut,C$zue,C$zui),this.treeLevel=C$zur,this.treeRoot=new C$zuZ(this,0),this.treeRoot.init(C$zun,this.treeSize)},C$zut._prepareUpdateToRenderState=function(C$zut,C$zue){C$zue.elapsedTime=this._lastCurrentTime?this.timer.currTimer-this._lastCurrentTime:0,this._lastCurrentTime=this.timer.currTimer,C$zue.scene=this},C$zut._prepareSceneToRender=function(C$zut){var C$zue=this._lights.length;if(0<C$zue)for(var C$zui=0,C$zun=0;C$zun<C$zue&&!(this._lights[C$zun]._prepareToScene(C$zut)&&++C$zui>=this._enableLightCount);C$zun++);},C$zut._updateChilds=function(C$zut){for(var C$zue=0,C$zui=this._childs.length;C$zue<C$zui;++C$zue)this._childs[C$zue]._update(C$zut)},C$zut._preRenderScene=function(C$zut,C$zue,C$zui){var C$zun,C$zur=C$zue._viewMatrix,C$zus=C$zue._projectionMatrix,C$zua=C$zue._projectionViewMatrix,C$zuo=0,C$zuh=C$zue.camera;for(C$zuh.useOcclusionCulling?this.treeRoot?C$zurt.renderObjectCullingOctree(C$zui,this,C$zuh,C$zur,C$zus,C$zua):C$zurt.renderObjectCulling(C$zui,this,C$zuh,C$zur,C$zus,C$zua):C$zurt.renderObjectCullingNoBoundFrustum(this,C$zuh,C$zur,C$zus,C$zua),C$zuo=0,C$zun=this._quenes.length;C$zuo<C$zun;C$zuo++)this._quenes[C$zuo]&&this._quenes[C$zuo]._preRender(C$zue)},C$zut._clear=function(C$zut,C$zue){var C$zui=C$zue._viewport,C$zun=C$zue.camera,C$zur=C$zui.x,C$zus=C$zun.renderTargetSize.height-C$zui.y-C$zui.height,C$zuu=C$zui.width,C$zuc=C$zui.height;C$zut.viewport(C$zur,C$zus,C$zuu,C$zuc);var C$zua=256,C$zuo=C$zun.renderTarget;switch(C$zun.clearFlag){case 0:var C$zuh=C$zun.clearColor;var C$zul;if(C$zuh&&(C$zut.enable(3089),C$zut.scissor(C$zur,C$zus,C$zuu,C$zuc),C$zul=C$zuh.elements,C$zut.clearColor(C$zul[0],C$zul[1],C$zul[2],C$zul[3]),C$zua|=16384),C$zuo)switch(C$zuh||(C$zua=16384),C$zuo.depthStencilFormat){case 33189:C$zua|=256;break;case 36168:C$zua|=1024;break;case 34041:C$zua=C$zua|256|1024}C$zut.clear(C$zua),C$zuh&&C$zut.disable(3089);break;case 1:case 2:if(C$zuo)switch(C$zua=16384,C$zuo.depthStencilFormat){case 33189:C$zua|=256;break;case 36168:C$zua|=1024;break;case 34041:C$zua=C$zua|256|1024}C$zut.clear(C$zua);break;case 3:break;default:throw new Error("BaseScene:camera clearFlag invalid.")}},C$zut._renderScene=function(C$zut,C$zue){var C$zui,C$zun,C$zur=C$zue.camera,C$zus=0;for(C$zus=0;C$zus<2;C$zus++)(C$zun=this._quenes[C$zus])&&(C$zur.renderTarget?C$zun._render(C$zue,!0):C$zun._render(C$zue,!1));var C$zua;for(1!==C$zur.clearFlag||(C$zua=C$zur.sky)&&(C$zuR.setCullFace(C$zut,!1),C$zuR.setDepthFunc(C$zut,515),C$zuR.setDepthMask(C$zut,!1),C$zua._render(C$zue),C$zuR.setDepthFunc(C$zut,513),C$zuR.setDepthMask(C$zut,!0)),C$zus=2,C$zui=this._quenes.length;C$zus<C$zui;C$zus++)(C$zun=this._quenes[C$zus])&&(C$zun._sortAlpha(C$zue.camera.transform.position),C$zur.renderTarget?C$zun._render(C$zue,!0):C$zun._render(C$zue,!1))},C$zut._set3DRenderConfig=function(C$zut){C$zut.disable(3042),C$zuR._blend=!1,C$zut.blendFunc(770,771),C$zuR._sFactor=770,C$zuR._dFactor=771,C$zut.disable(2929),C$zuR._depthTest=!1,C$zut.enable(2884),C$zuR._cullFace=!0,C$zut.depthMask(1),C$zuR._depthMask=!0,C$zut.frontFace(2304),C$zuR._frontFace=2304},C$zut._set2DRenderConfig=function(C$zut){C$zuR.setBlend(C$zut,!0),C$zuR.setBlendFunc(C$zut,1,771),C$zuR.setDepthTest(C$zut,!1),C$zuR.setCullFace(C$zut,!1),C$zuR.setDepthMask(C$zut,!0),C$zuR.setFrontFace(C$zut,2305),C$zut.viewport(0,0,C$zuv.width,C$zuv.height)},C$zut._parseCustomProps=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zun.customProps.lightmaps,C$zus=C$zur.length,C$zua=this._lightmaps;C$zua.length=C$zus;for(var C$zuo=0;C$zuo<C$zus;C$zuo++)C$zua[C$zuo]=C$zug.getRes(C$zue[C$zur[C$zuo].replace(".exr",".png")]);this.setlightmaps(C$zua);var C$zuh=C$zun.customProps.ambientColor;C$zuh&&(this.ambientColor=new C$zuE(C$zuh[0],C$zuh[1],C$zuh[2]));C$zuh=C$zun.customProps.fogColor;C$zuh&&(this.fogColor=new C$zuE(C$zuh[0],C$zuh[1],C$zuh[2]))},C$zut._addLight=function(C$zut){this._lights.indexOf(C$zut)<0&&this._lights.push(C$zut)},C$zut._removeLight=function(C$zut){C$zut=this._lights.indexOf(C$zut);0<=C$zut&&this._lights.splice(C$zut,1)},C$zut._updateScene=function(){var C$zut=this._renderState;this._prepareUpdateToRenderState(C$zuI.mainContext,C$zut),this._updateComponents(C$zut),this._updateChilds(C$zut),this._lateUpdateComponents(C$zut),this._time+=C$zut.elapsedTime/1e3,this._shaderValues.setValue(22,this._time)},C$zut._updateSceneConch=function(){var C$zut=this._renderState;this._prepareUpdateToRenderState(C$zuI.mainContext,C$zut),this._updateComponents(C$zut),this._lateUpdateComponents(C$zut),this._prepareSceneToRender(C$zut);for(var C$zue=0,C$zui=this._cameraPool.length;C$zue<C$zui;C$zue++){var C$zun=this._cameraPool[C$zue];(C$zut.camera=C$zun)._prepareCameraToRender()}},C$zut._preRenderShadow=function(C$zut,C$zue,C$zui,C$zun,C$zur){this.treeRoot?C$zurt.renderShadowObjectCullingOctree(this,C$zue,C$zui,C$zun,C$zur):C$zurt.renderShadowObjectCulling(this,C$zue,C$zui,C$zun,C$zur);for(var C$zus=0,C$zua=C$zui.length;C$zus<C$zua;C$zus++)C$zui[C$zus]&&C$zui[C$zus]._preRender(C$zut)},C$zut._renderShadowMap=function(C$zut,C$zue,C$zui){var C$zun=this.parallelSplitShadowMaps[0];C$zun._calcAllLightCameraInfo(C$zui);var C$zur,C$zus,C$zua,C$zuo=C$zun.PSSMNum;if(this._preRenderShadow(C$zue,C$zun._lightCulling,C$zun._shadowQuenes,C$zun._lightVPMatrix[0],C$zuo),this.addShaderDefine(C$zude.SHADERDEFINE_CAST_SHADOW),1<C$zuo)for(var C$zuh=0;C$zuh<C$zuo;C$zuh++)C$zur=C$zun.getRenderTarget(C$zuh+1),C$zun.beginRenderTarget(C$zuh+1),C$zut.clearColor(1,1,1,1),C$zut.clear(16640),C$zut.viewport(0,0,C$zur.width,C$zur.height),C$zue.camera=C$zua=C$zun.getLightCamera(C$zuh),C$zua._prepareCameraToRender(),C$zua._prepareCameraViewProject(C$zua.viewMatrix,C$zua.projectionMatrix),C$zue._projectionViewMatrix=C$zun._lightVPMatrix[C$zuh+1],(C$zus=C$zun._shadowQuenes[C$zuh])._preRender(C$zue),C$zus._renderShadow(C$zue,!1),C$zun.endRenderTarget(C$zuh+1);else C$zur=C$zun.getRenderTarget(1),C$zun.beginRenderTarget(1),C$zut.clearColor(1,1,1,1),C$zut.clear(16640),C$zut.viewport(0,0,C$zur.width,C$zur.height),C$zue.camera=C$zua=C$zun.getLightCamera(0),C$zua._prepareCameraToRender(),C$zua._prepareCameraViewProject(C$zua.viewMatrix,C$zua.projectionMatrix),C$zue._projectionViewMatrix=C$zun._lightVPMatrix[0],(C$zus=C$zun._shadowQuenes[0])._preRender(C$zue),C$zus._renderShadow(C$zue,!0),C$zun.endRenderTarget(1);this.removeShaderDefine(C$zude.SHADERDEFINE_CAST_SHADOW)},C$zut.addTreeNode=function(C$zut){this.treeRoot.addTreeNode(C$zut)},C$zut.removeTreeNode=function(C$zut){this.treeSize&&C$zut._treeNode&&C$zut._treeNode.removeObject(C$zut)},C$zut.setlightmaps=function(C$zut){this._lightmaps=C$zut;for(var C$zue=0,C$zui=this._renderableSprite3Ds.length;C$zue<C$zui;C$zue++)this._renderableSprite3Ds[C$zue]._render._applyLightMapParams()},C$zut.getlightmaps=function(){return this._lightmaps},C$zut.addChildAt=function(C$zut,C$zue){if(!(C$zut instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.  className="+(C$zut&&C$zut.__className));if(!C$zut||this.destroyed||C$zut===this)return C$zut;var C$zui;if(C$zut.zOrder&&this._set$P("hasZorder",!0),0<=C$zue&&C$zue<=this._childs.length)return C$zut._parent===this?(C$zui=this.getChildIndex(C$zut),this._childs.splice(C$zui,1),this._childs.splice(C$zue,0,C$zut),this.conchModel&&(this.conchModel.removeChild(C$zut.conchModel),this.conchModel.addChildAt(C$zut.conchModel,C$zue)),this._childChanged()):(C$zut.parent&&C$zut.parent.removeChild(C$zut),this._childs===C$zuf.ARRAY_EMPTY&&(this._childs=[]),this._childs.splice(C$zue,0,C$zut),this.conchModel&&this.conchModel.addChildAt(C$zut.conchModel,C$zue),(C$zut.parent=this)._addChild3D(C$zut)),C$zut;throw new Error("appendChildAt:The index is out of bounds")},C$zut.addChild=function(C$zut){if(!(C$zut instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");return!C$zut||this.destroyed||C$zut===this||(C$zut.zOrder&&this._set$P("hasZorder",!0),C$zut._parent===this?(C$zue=this.getChildIndex(C$zut))!==this._childs.length-1&&(this._childs.splice(C$zue,1),this._childs.push(C$zut),this.conchModel&&(this.conchModel.removeChild(C$zut.conchModel),this.conchModel.addChildAt(C$zut.conchModel,this._childs.length-1)),this._childChanged()):(C$zut.parent&&C$zut.parent.removeChild(C$zut),this._childs===C$zuf.ARRAY_EMPTY&&(this._childs=[]),this._childs.push(C$zut),this.conchModel&&this.conchModel.addChildAt(C$zut.conchModel,this._childs.length-1),(C$zut.parent=this)._childChanged(),this._addChild3D(C$zut))),C$zut;var C$zue},C$zut.removeChildAt=function(C$zut){var C$zue=this.getChildAt(C$zut);return C$zue&&(this._removeChild3D(C$zue),this._childs.splice(C$zut,1),this.conchModel&&this.conchModel.removeChild(C$zue.conchModel),C$zue.parent=null),C$zue},C$zut.removeChildren=function(C$zut,C$zue){if(void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=2147483647),this._childs&&0<this._childs.length){var C$zui=this._childs;var C$zun;0===C$zut&&C$zus<=C$zue?(C$zun=C$zui,this._childs=C$zuf.ARRAY_EMPTY):C$zun=C$zui.splice(C$zut,C$zue-C$zut);for(var C$zur=0,C$zus=C$zun.length;C$zur<C$zus;C$zur++)this._removeChild3D(C$zun[C$zur]),C$zun[C$zur].parent=null,this.conchModel&&this.conchModel.removeChild(C$zun[C$zur].conchModel)}return this},C$zut.addFrustumCullingObject=function(C$zut){this.treeRoot?this.addTreeNode(C$zut):(this._cullingRendersLength===this._cullingRenders.length?this._cullingRenders.push(C$zut):this._cullingRenders[this._cullingRendersLength]=C$zut,C$zut._indexInSceneFrustumCullingObjects=this._cullingRendersLength++)},C$zut.removeFrustumCullingObject=function(C$zut){var C$zue,C$zui;this.treeRoot?this.removeTreeNode(C$zut):(this._cullingRendersLength--,(C$zue=C$zut._indexInSceneFrustumCullingObjects)!==this._cullingRendersLength&&(C$zui=this._cullingRenders[this._cullingRendersLength],(this._cullingRenders[C$zue]=C$zui)._indexInSceneFrustumCullingObjects=C$zue,C$zut._indexInSceneFrustumCullingObjects=-1))},C$zut.getRenderQueue=function(C$zut){return C$zut<3e3?this._quenes[1]||(this._quenes[1]=new C$zuq(this)):this._quenes[2]||(this._quenes[2]=new C$zuq(this))},C$zut.addRenderQuene=function(){this._quenes[this._customRenderQueneIndex++]=new C$zuq(this)},C$zut.addShaderDefine=function(C$zut){this._shaderDefineValue|=C$zut},C$zut.removeShaderDefine=function(C$zut){this._shaderDefineValue&=~C$zut},C$zut.addScript=function(C$zut){return this._addComponent(C$zut)},C$zut.getScriptByType=function(C$zut,C$zue){return this._getComponentByType(C$zut,C$zue=void 0===C$zue?0:C$zue)},C$zut.getScriptsByType=function(C$zut,C$zue){this._getComponentsByType(C$zut,C$zue)},C$zut.getScriptByIndex=function(C$zut){return this._getComponentByIndex(C$zut)},C$zut.removeScriptByType=function(C$zut,C$zue){this._removeComponentByType(C$zut,C$zue=void 0===C$zue?0:C$zue)},C$zut.removeScriptsByType=function(C$zut){this._removeComponentByType(C$zut)},C$zut.removeAllScript=function(){this._removeAllComponent()},C$zut.render=function(C$zut,C$zue,C$zui){(C$zum._context.ctx._renderKey=0)<this._childs.length&&C$zut.addRenderObject(this)},C$zut.renderSubmit=function(){var C$zut=C$zuI.mainContext,C$zue=this._renderState;this._set3DRenderConfig(C$zut),this._prepareSceneToRender(this._renderState);var C$zui,C$zun=0,C$zur=0;if(C$zuge.debugMode||C$zuZ.debugMode)for(C$zun=0,C$zur=this._cameraPool.length;C$zun<C$zur;C$zun++)C$zui=this._cameraPool[C$zun],C$zuge._debugPhasorSprite.begin(1,C$zui),C$zui.activeInHierarchy&&C$zui._renderCamera(C$zut,C$zue,this),C$zuge._debugPhasorSprite.end();else for(C$zun=0,C$zur=this._cameraPool.length;C$zun<C$zur;C$zun++)(C$zui=this._cameraPool[C$zun]).activeInHierarchy&&C$zui._renderCamera(C$zut,C$zue,this);return this._set2DRenderConfig(C$zut),1},C$zut.onAsynLoaded=function(C$zut,C$zue,C$zui){var C$zun=C$zue[0];if("Scene"!==C$zun.type)throw new Error("Scene: the .lh file root type must be Scene,please use other function to  load  this file.");C$zue=C$zue[1];C$zume._createNodeByJson(this,C$zun,this,C$zue),this.event("hierarchyloaded",[this]),this.__loaded=!0},C$zut.destroy=function(C$zut){void 0===C$zut&&(C$zut=!0),this.destroyed||(C$zue.prototype.destroy.call(this,C$zut),this._renderState=null,this._lights=null,this._lightmaps=null,this._renderTargetTexture=null,this._shaderValues=null,this._cullingRenders=null,this._dynamicBatchManager=null,this._quenes=null,this._cameraPool=null,this._renderableSprite3Ds=null,this.treeRoot=null,this.treeSize=null,this.parallelSplitShadowMaps=null,this._typeComponentsIndices=null,this._components=null,C$zug.clearRes(this.url),this.loaded||C$zuge._cancelLoadByUrl(this.url))},C$zut.getRenderType=function(){return 0},C$zut.releaseRender=function(){},C$zut._addComponent=function(C$zut){var C$zue,C$zui=this._componentsMap.indexOf(C$zut);if(-1===C$zui)C$zue=[],this._componentsMap.push(C$zut),this._typeComponentsIndices.push(C$zue);else if(C$zue=this._typeComponentsIndices[C$zui],this._components[C$zue[0]].isSingleton)throw new Error("\u65e0\u6cd5\u5355\u5b9e\u4f8b\u521b\u5efa"+C$zut+"\u7ec4\u4ef6\uff0c"+C$zut+"\u7ec4\u4ef6\u5df2\u5b58\u5728\uff01");C$zui=C$zuu.getInstance(C$zut);return C$zue.push(this._components.length),this._components.push(C$zui),C$zui._initialize(this),C$zui},C$zut._removeComponent=function(C$zut,C$zue){var C$zui=this._typeComponentsIndices[C$zut],C$zun=C$zui[C$zue],C$zur=this._components[C$zun];this._components.splice(C$zun,1),C$zui.splice(C$zue,1),0===C$zui.length&&(this._typeComponentsIndices.splice(C$zut,1),this._componentsMap.splice(C$zut,1));for(var C$zus=0,C$zua=this._componentsMap.length;C$zus<C$zua;C$zus++)for(var C$zuo=(C$zui=this._typeComponentsIndices[C$zus]).length-1;0<=C$zuo;C$zuo--){var C$zuh=C$zui[C$zuo];if(!(C$zun<C$zuh))break;C$zui[C$zuo]=--C$zuh}C$zur._destroy()},C$zut._getComponentByType=function(C$zut,C$zue){void 0===C$zue&&(C$zue=0);C$zut=this._componentsMap.indexOf(C$zut);return-1===C$zut?null:this._components[this._typeComponentsIndices[C$zut][C$zue]]},C$zut._getComponentsByType=function(C$zut,C$zue){C$zut=this._componentsMap.indexOf(C$zut);if(-1!==C$zut){var C$zui=this._typeComponentsIndices[C$zut],C$zun=C$zui.length;C$zue.length=C$zun;for(var C$zur=0;C$zur<C$zun;C$zur++)C$zue[C$zur]=this._components[C$zui[C$zur]]}else C$zue.length=0},C$zut._getComponentByIndex=function(C$zut){return this._components[C$zut]},C$zut._removeComponentByType=function(C$zut,C$zue){void 0===C$zue&&(C$zue=0);C$zut=this._componentsMap.indexOf(C$zut);-1!==C$zut&&this._removeComponent(C$zut,C$zue)},C$zut._removeComponentsByType=function(C$zut){var C$zue=this._componentsMap.indexOf(C$zut);if(-1!==C$zue)for(var C$zui=this._typeComponentsIndices[C$zue],C$zun=0,C$zur=C$zui.length;C$zun<C$zur;C$zui.length<C$zur?C$zur--:C$zun++)this._removeComponent(C$zue,C$zun)},C$zut._removeAllComponent=function(){for(var C$zut=0,C$zue=this._componentsMap.length;C$zut<C$zue;this._componentsMap.length<C$zue?C$zue--:C$zut++)this._removeComponentsByType(this._componentsMap[C$zut])},C$zut._updateComponents=function(C$zut){for(var C$zue=0,C$zui=this._components.length;C$zue<C$zui;C$zue++){var C$zun=this._components[C$zue];C$zun.started||(C$zun._start(C$zut),C$zun.started=!0),C$zun.enable&&C$zun._update(C$zut)}},C$zut._lateUpdateComponents=function(C$zut){for(var C$zue=0;C$zue<this._components.length;C$zue++){var C$zui=this._components[C$zue];C$zui.started||(C$zui._start(C$zut),C$zui.started=!0),C$zui.enable&&C$zui._lateUpdate(C$zut)}},C$zut._preRenderUpdateComponents=function(C$zut){for(var C$zue=0;C$zue<this._components.length;C$zue++){var C$zui=this._components[C$zue];C$zui.started||(C$zui._start(C$zut),C$zui.started=!0),C$zui.enable&&C$zui._preRenderUpdate(C$zut)}},C$zut._postRenderUpdateComponents=function(C$zut){for(var C$zue=0;C$zue<this._components.length;C$zue++){var C$zui=this._components[C$zue];C$zui.started||(C$zui._start(C$zut),C$zui.started=!0),C$zui.enable&&C$zui._postRenderUpdate(C$zut)}},C$zuo(0,C$zut,"_loaded",null,function(C$zut){this.__loaded=C$zut}),C$zuo(0,C$zut,"fogColor",function(){return this._fogColor},function(C$zut){this._fogColor=C$zut,this._shaderValues.setValue(0,C$zut.elements)}),C$zuo(0,C$zut,"enableFog",function(){return this._enableFog},function(C$zut){this._enableFog!==C$zut&&((this._enableFog=C$zut)?(this.addShaderDefine(C$zuTe.SHADERDEFINE_FOG),this.removeShaderDefine(C$zuTe.SAHDERDEFINE_DEPTHFOG)):this.removeShaderDefine(C$zuTe.SHADERDEFINE_FOG))}),C$zuo(0,C$zut,"url",function(){return this._url}),C$zuo(0,C$zut,"loaded",function(){return this.__loaded}),C$zuo(0,C$zut,"enableDepthFog",function(){return this._enableDepthFog},function(C$zut){this._enableDepthFog!=C$zut&&((this._enableDepthFog=C$zut)?(this.addShaderDefine(C$zuTe.SAHDERDEFINE_DEPTHFOG),this.removeShaderDefine(C$zuTe.SHADERDEFINE_FOG)):this.removeShaderDefine(C$zuTe.SAHDERDEFINE_DEPTHFOG))}),C$zuo(0,C$zut,"fogStart",function(){return this._fogStart},function(C$zut){this._fogStart=C$zut,this._shaderValues.setValue(1,C$zut)}),C$zuo(0,C$zut,"fogRange",function(){return this._fogRange},function(C$zut){this._fogRange=C$zut,this._shaderValues.setValue(2,C$zut)}),C$zuo(0,C$zut,"ambientColor",function(){return this._ambientColor},function(C$zut){this._ambientColor=C$zut,this._shaderValues.setValue(21,C$zut.elements)}),C$zuo(0,C$zut,"scene",function(){return this}),C$zuo(0,C$zut,"renderableSprite3Ds",function(){return this._renderableSprite3Ds.slice()}),$P._sortScenes=function(C$zut,C$zue){if(C$zut.parent!==C$zuy.stage||C$zue.parent!==C$zuy.stage)return C$zut.parent!==C$zuy.stage&&C$zue.parent!==C$zuy.stage?$P._sortScenes(C$zut.parent,C$zue.parent):C$zut.parent===C$zuy.stage?-1:1;var C$zui=C$zuy.stage._childs;return C$zui.indexOf(C$zut)-C$zui.indexOf(C$zue)},$P.load=function(C$zut){return C$zuy.loader.create(C$zut,null,null,$P)},$P.FOGCOLOR=0,$P.FOGSTART=1,$P.FOGRANGE=2,$P.LIGHTDIRECTION=3,$P.LIGHTDIRCOLOR=4,$P.POINTLIGHTPOS=5,$P.POINTLIGHTRANGE=6,$P.POINTLIGHTATTENUATION=7,$P.POINTLIGHTCOLOR=8,$P.SPOTLIGHTPOS=9,$P.SPOTLIGHTDIRECTION=10,$P.SPOTLIGHTSPOT=11,$P.SPOTLIGHTRANGE=12,$P.SPOTLIGHTATTENUATION=13,$P.SPOTLIGHTCOLOR=14,$P.SHADOWDISTANCE=15,$P.SHADOWLIGHTVIEWPROJECT=16,$P.SHADOWMAPPCFOFFSET=17,$P.SHADOWMAPTEXTURE1=18,$P.SHADOWMAPTEXTURE2=19,$P.SHADOWMAPTEXTURE3=20,$P.AMBIENTCOLOR=21,$P.TIME=22,$P}(C$zuS),C$zuRe=function(){function $p(C$zut){$p.__super.call(this),this.__loaded=!0,this._projectionViewWorldUpdateLoopCount=-1,this._activeInHierarchy=!1,this._projectionViewWorldMatrix=new C$zuee,this._shaderValues=new C$zu_e,this._colliders=[],this._id=++$p._uniqueIDCounter,this._transform=new C$zuye(this),this.name=C$zut||"Sprite3D-"+$p._nameNumberCounter++,this.layer=C$zuO.currentCreationLayer,this.active=!0}C$zur($p,"laya.d3.core.Sprite3D",C$zuSe);var C$zut=$p.prototype;return C$zuy.imps(C$zut,{"laya.d3.core.render.IUpdate":!0,"laya.resource.ICreateResource":!0,"laya.d3.core.IClone":!0}),C$zut._setUrl=function(C$zut){this._url=C$zut},C$zut._getGroup=function(){return this._group},C$zut._setGroup=function(C$zut){this._group=C$zut},C$zut._addChild3D=function(C$zut){C$zut.transform.parent=this.transform,this._hierarchyAnimator&&(C$zut._hierarchyAnimator||C$zut._setHierarchyAnimator(this._hierarchyAnimator,null),this._getAnimatorToLinkSprite3D(C$zut,!0,[C$zut.name])),this._scene&&(C$zut._setBelongScene(this._scene),this._activeInHierarchy&&C$zut._active&&C$zut._activeHierarchy())},C$zut._removeChild3D=function(C$zut){C$zut.transform.parent=null,this._scene&&(this._activeInHierarchy&&C$zut._active&&C$zut._inActiveHierarchy(),C$zut._setUnBelongScene()),this._hierarchyAnimator&&(C$zut._hierarchyAnimator==this._hierarchyAnimator&&C$zut._clearHierarchyAnimator(this._hierarchyAnimator,null),this._getAnimatorToLinkSprite3D(C$zut,!1,[C$zut.name]))},C$zut._parseBaseCustomProps=function(C$zut){var C$zue=this.transform.localPosition;C$zut.translate?(C$zue.fromArray(C$zut.translate),C$zue.x*=100,C$zue.y*=100,C$zue.z*=100):C$zue.elements.fill(0),this.transform.localPosition=C$zue;C$zue=this.transform.localRotation;C$zut.rotation?C$zue.fromArray(C$zut.rotation):C$zue.fromArray([0,0,0,-1]),this.transform.localRotation=C$zue;C$zue=this.transform.localScale;C$zut.scale?C$zue.fromArray(C$zut.scale):C$zue.elements.fill(1),this.transform.localScale=C$zue;C$zue=C$zut.layer;null!=C$zue&&(this.layer=C$zuO.getLayerByNumber(C$zue))},C$zut._parseCustomComponent=function(C$zuu,C$zut,C$zue){for(var C$zui in C$zue){var C$zun=C$zue[C$zui];switch(C$zui){case"Animator":var C$zur=this.addComponent(Animator);C$zun.avatarPath?C$zur.avatar=C$zug.getRes(C$zut[C$zun.avatarPath]):(C$zuo=C$zun.avatar)&&(C$zur.avatar=C$zug.getRes(C$zut[C$zuo.path]),(C$zuo=C$zuo.linkSprites)&&C$zuu.once("hierarchyloaded",this,this._onRootNodeHierarchyLoaded,[C$zur,C$zuo]));for(var C$zus=C$zun.clipPaths,C$zuc=C$zus.length,C$zua=0;C$zua<C$zuc;C$zua++)C$zur.addClip(C$zug.getRes(C$zut[C$zus[C$zua]]));C$zur.clip=C$zug.getRes(C$zut[C$zus[0]]);var C$zuo=C$zun.playOnWake;void 0!==C$zuo&&(C$zur.playOnWake=C$zuo);break;case"Rigidbody":this.addComponent(Rigidbody);break;case"SphereCollider":var C$zuh=this.addComponent(SphereCollider);C$zuh.isTrigger=C$zun.isTrigger;var C$zul=C$zuh.center;C$zul.fromArray(C$zun.center),C$zuh.center=C$zul,C$zuh.radius=C$zun.radius;break;case"BoxCollider":C$zul=this.addComponent(BoxCollider);C$zul.isTrigger=C$zun.isTrigger,C$zul.center.fromArray(C$zun.center);C$zuh=C$zul.size;C$zuh.fromArray(C$zun.size),C$zul.size=C$zuh;break;case"MeshCollider":this.addComponent(MeshCollider)}}},C$zut._onRootNodeHierarchyLoaded=function(C$zut,C$zue){for(var C$zui in C$zue){for(var C$zun=this,C$zur=C$zue[C$zui],C$zus=0,C$zua=C$zur.length;C$zus<C$zua;C$zus++){var C$zuo=C$zur[C$zus];if(""===C$zuo)break;if(!(C$zun=C$zun.getChildByName(C$zuo)))break}C$zun&&C$zut.linkSprite3DToAvatarNode(C$zui,C$zun)}},C$zut._setHierarchyAnimator=function(C$zut,C$zue){this._changeHierarchyAnimator(C$zut);for(var C$zui=0,C$zun=this._childs.length;C$zui<C$zun;C$zui++){var C$zur=this._childs[C$zui];C$zur._hierarchyAnimator==C$zue&&C$zur._setHierarchyAnimator(C$zut,C$zue)}},C$zut._clearHierarchyAnimator=function(C$zut,C$zue){this._changeHierarchyAnimator(C$zue);for(var C$zui=0,C$zun=this._childs.length;C$zui<C$zun;C$zui++){var C$zur=this._childs[C$zui];C$zur._hierarchyAnimator==C$zut&&C$zur._clearHierarchyAnimator(C$zut,C$zue)}},C$zut._getAnimatorToLinkSprite3D=function(C$zut,C$zue,C$zui){var C$zun=this.getComponentByType(Animator);C$zun&&(C$zun.avatar?C$zun.avatar._version||C$zut._setAnimatorToLinkAvatar(C$zun,C$zue):C$zut._setAnimatorToLinkSprite3DNoAvatar(C$zun,C$zue,C$zui)),this._parent&&this._parent instanceof laya.d3.core.Sprite3D&&(C$zui.unshift(this._parent.name),(C$zun=this._parent)._hierarchyAnimator&&C$zun._getAnimatorToLinkSprite3D(C$zut,C$zue,C$zui))},C$zut._setAnimatorToLinkSprite3DNoAvatar=function(C$zut,C$zue,C$zui){var C$zun=0,C$zur=0;for(C$zun=0,C$zur=C$zut.getClipCount();C$zun<C$zur;C$zun++)C$zut._handleSpriteOwnersBySprite(C$zun,C$zue,C$zui,this);for(C$zun=0,C$zur=this._childs.length;C$zun<C$zur;C$zun++){var C$zus=this._childs[C$zun],C$zua=C$zui.length;C$zui.push(C$zus.name),C$zus._setAnimatorToLinkSprite3DNoAvatar(C$zut,C$zue,C$zui),C$zui.splice(C$zua,1)}},C$zut._changeHierarchyAnimator=function(C$zut){this._hierarchyAnimator=C$zut},C$zut._isLinkSpriteToAnimationNode=function(C$zut,C$zue,C$zui){var C$zun=C$zut._avatarNodes.indexOf(C$zue),C$zur=C$zut._cacheSpriteToNodesMap;C$zui?(this._transform.dummy=C$zue.transform,C$zut._cacheNodesToSpriteMap[C$zun]=C$zur.length,C$zur.push(C$zun)):(this._transform.dummy=null,C$zui=C$zut._cacheNodesToSpriteMap[C$zun],C$zut._cacheNodesToSpriteMap[C$zun]=null,C$zur.splice(C$zui,1))},C$zut._setBelongScene=function(C$zut){this._scene=C$zut;for(var C$zue=0,C$zui=this._childs.length;C$zue<C$zui;C$zue++)this._childs[C$zue]._setBelongScene(C$zut)},C$zut._setUnBelongScene=function(){this._scene=null;for(var C$zut=0,C$zue=this._childs.length;C$zut<C$zue;C$zut++)this._childs[C$zut]._setUnBelongScene()},C$zut._activeHierarchy=function(){var C$zut=0,C$zue=0;for(this._activeInHierarchy=!0,this._addSelfRenderObjects(),C$zut=0,C$zue=this._colliders.length;C$zut<C$zue;C$zut++)this._layer._addCollider(this._colliders[C$zut]);for(this.event("activeinhierarchychanged",!0),C$zut=0,C$zue=this._childs.length;C$zut<C$zue;C$zut++){var C$zui=this._childs[C$zut];C$zui._active&&C$zui._activeHierarchy()}},C$zut._inActiveHierarchy=function(){var C$zut=0,C$zue=0;for(this._activeInHierarchy=!1,this._clearSelfRenderObjects(),C$zut=0,C$zue=this._colliders.length;C$zut<C$zue;C$zut++){var C$zui=this._colliders[C$zut];C$zui._clearCollsionMap(),this._layer._removeCollider(C$zui)}for(this.event("activeinhierarchychanged",!1),C$zut=0,C$zue=this._childs.length;C$zut<C$zue;C$zut++){var C$zun=this._childs[C$zut];C$zun._active&&C$zun._inActiveHierarchy()}},C$zut.addComponent=function(C$zut){var C$zue,C$zui=this._componentsMap.indexOf(C$zut);if(-1===C$zui)C$zue=[],this._componentsMap.push(C$zut),this._typeComponentsIndices.push(C$zue);else if(C$zue=this._typeComponentsIndices[C$zui],this._components[C$zue[0]].isSingleton)throw new Error("\u65e0\u6cd5\u5355\u5b9e\u4f8b\u521b\u5efa"+C$zut+"\u7ec4\u4ef6\uff0c"+C$zut+"\u7ec4\u4ef6\u5df2\u5b58\u5728\uff01");C$zui=C$zuu.getInstance(C$zut);return C$zue.push(this._components.length),this._components.push(C$zui),C$zui instanceof laya.d3.component.Script&&this._scripts.push(C$zui),C$zui._initialize(this),C$zui},C$zut._removeComponent=function(C$zut,C$zue){var C$zui,C$zun=0,C$zur=this._typeComponentsIndices[C$zut],C$zus=C$zur[C$zue],C$zua=this._components[C$zus];for(C$zua instanceof laya.d3.component.Script&&this._scripts.splice(this._scripts.indexOf(C$zua),1),C$zur.splice(C$zue,1),0===C$zur.length&&(this._typeComponentsIndices.splice(C$zut,1),this._componentsMap.splice(C$zut,1)),C$zun=0,C$zui=this._componentsMap.length;C$zun<C$zui;C$zun++)for(var C$zuo=(C$zur=this._typeComponentsIndices[C$zun]).length-1;0<=C$zuo;C$zuo--){var C$zuh=C$zur[C$zuo];if(!(C$zus<C$zuh))break;C$zur[C$zuo]=--C$zuh}C$zua._destroy()},C$zut._clearSelfRenderObjects=function(){},C$zut._addSelfRenderObjects=function(){},C$zut._parseCustomProps=function(C$zut,C$zue,C$zui,C$zun){},C$zut._updateChilds=function(C$zut){var C$zue=this._childs.length;if(0!==C$zue)for(var C$zui=0;C$zui<C$zue;++C$zui)this._childs[C$zui]._update(C$zut)},C$zut._getSortID=function(C$zut,C$zue){return 1e3*C$zue.id+C$zut._getVertexBuffer().vertexDeclaration.id},C$zut._update=function(C$zut){(C$zut.owner=this)._activeInHierarchy&&(this._updateComponents(C$zut),this._lateUpdateComponents(C$zut),C$zuC.spriteCount++,this._childs.length&&this._updateChilds(C$zut))},C$zut.getProjectionViewWorldMatrix=function(C$zut){return C$zuee.multiply(C$zut,this.transform.worldMatrix,this._projectionViewWorldMatrix),this._projectionViewWorldMatrix},C$zut.loadHierarchy=function(C$zut){this.addChild(laya.d3.core.Sprite3D.load(C$zut))},C$zut.addChildAt=function(C$zut,C$zue){if(!(C$zut instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");if(!C$zut||this.destroyed||C$zut===this)return C$zut;var C$zui;if(C$zut.zOrder&&this._set$P("hasZorder",!0),0<=C$zue&&C$zue<=this._childs.length)return C$zut._parent===this?(C$zui=this.getChildIndex(C$zut),this._childs.splice(C$zui,1),this._childs.splice(C$zue,0,C$zut),this.conchModel&&(this.conchModel.removeChild(C$zut.conchModel),this.conchModel.addChildAt(C$zut.conchModel,C$zue)),this._childChanged()):(C$zut.parent&&C$zut.parent.removeChild(C$zut),this._childs===C$zuf.ARRAY_EMPTY&&(this._childs=[]),this._childs.splice(C$zue,0,C$zut),this.conchModel&&this.conchModel.addChildAt(C$zut.conchModel,C$zue),(C$zut.parent=this)._addChild3D(C$zut)),C$zut;throw new Error("appendChildAt:The index is out of bounds")},C$zut.addChild=function(C$zut){if(!(C$zut instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");return!C$zut||this.destroyed||C$zut===this||(C$zut.zOrder&&this._set$P("hasZorder",!0),C$zut._parent===this?(C$zue=this.getChildIndex(C$zut))!==this._childs.length-1&&(this._childs.splice(C$zue,1),this._childs.push(C$zut),this.conchModel&&(this.conchModel.removeChild(C$zut.conchModel),this.conchModel.addChildAt(C$zut.conchModel,this._childs.length-1)),this._childChanged()):(C$zut.parent&&C$zut.parent.removeChild(C$zut),this._childs===C$zuf.ARRAY_EMPTY&&(this._childs=[]),this._childs.push(C$zut),this.conchModel&&this.conchModel.addChildAt(C$zut.conchModel,this._childs.length-1),(C$zut.parent=this)._childChanged(),this._addChild3D(C$zut))),C$zut;var C$zue},C$zut.removeChildAt=function(C$zut){var C$zue=this.getChildAt(C$zut);return C$zue&&(this._removeChild3D(C$zue),this._childs.splice(C$zut,1),this.conchModel&&this.conchModel.removeChild(C$zue.conchModel),C$zue.parent=null),C$zue},C$zut.removeChildren=function(C$zut,C$zue){if(void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=2147483647),this._childs&&0<this._childs.length){var C$zui=this._childs;var C$zun;0===C$zut&&C$zus<=C$zue?(C$zun=C$zui,this._childs=C$zuf.ARRAY_EMPTY):C$zun=C$zui.splice(C$zut,C$zue-C$zut);for(var C$zur=0,C$zus=C$zun.length;C$zur<C$zus;C$zur++)this._removeChild3D(C$zun[C$zur]),C$zun[C$zur].parent=null,this.conchModel&&this.conchModel.removeChild(C$zun[C$zur].conchModel)}return this},C$zut.onAsynLoaded=function(C$zut,C$zue,C$zui){var C$zun=C$zue[0];if("Sprite3D"!==C$zun.type)throw new Error("Sprite3D: The .lh file root type must be Sprite3D,please use other function to  load  this file.");C$zue=C$zue[1];C$zume._createNodeByJson(this,C$zun,this,C$zue),this.event("hierarchyloaded",[this]),this.__loaded=!0},C$zut.cloneTo=function(C$zut){if(this.destroyed)throw new Error("Sprite3D: Can't be cloned if the Sprite3D has destroyed.");var C$zue=C$zut;C$zue.name=this.name,C$zue._destroyed=this._destroyed,C$zue.timer=this.timer,C$zue._$P=this._$P,C$zue.active=this._active;C$zut=C$zue.transform.localPosition;this.transform.localPosition.cloneTo(C$zut),C$zue.transform.localPosition=C$zut;C$zut=C$zue.transform.localRotation;this.transform.localRotation.cloneTo(C$zut),C$zue.transform.localRotation=C$zut;C$zut=C$zue.transform.localScale;this.transform.localScale.cloneTo(C$zut),C$zue.transform.localScale=C$zut,C$zue.isStatic=this.isStatic;var C$zui=0,C$zun=0;for(C$zui=0,C$zun=this._componentsMap.length;C$zui<C$zun;C$zui++){var C$zuu=C$zue.addComponent(this._componentsMap[C$zui]);this._components[C$zui]._cloneTo(C$zuu)}for(C$zui=0,C$zun=this._childs.length;C$zui<C$zun;C$zui++)C$zue.addChild(this._childs[C$zui].clone());var C$zur=C$zue.getComponentByType(Animator);if(C$zur){var C$zus=C$zur._linkSpritesData;if(C$zus)for(var C$zua in C$zus){for(var C$zuo=C$zus[C$zua],C$zuh=C$zue,C$zul=0,C$zuc=C$zuo.length;C$zul<C$zuc&&(C$zuh=C$zuh.getChildByName(C$zuo[C$zul]));C$zul++);C$zuh&&(C$zua=C$zur._avatarNodeMap[C$zua],C$zuh._isLinkSpriteToAnimationNode(C$zur,C$zua,!0))}}},C$zut.clone=function(){var C$zut=new this.constructor;return this.cloneTo(C$zut),C$zut},C$zut.destroy=function(C$zut){if(void 0===C$zut&&(C$zut=!0),!this.destroyed){laya.display.Node.prototype.destroy.call(this,C$zut);var C$zue,C$zui=0;for(C$zui=0,C$zue=this._components.length;C$zui<C$zue;C$zui++)this._components[C$zui]._destroy();this._components=null,this._componentsMap=null,this._typeComponentsIndices=null,this._transform=null,this._colliders=null,C$zug.clearRes(this.url),this.loaded||C$zuge._cancelLoadByUrl(this.url)}},C$zut._handleSpriteToAvatar=function(C$zut,C$zue){C$zut._avatarNodes;var C$zui=C$zut._avatarNodeMap[this.name];C$zui&&C$zui.name===this.name&&!this._transform.dummy&&this._isLinkSpriteToAnimationNode(C$zut,C$zui,C$zue)},C$zut._setAnimatorToLinkAvatar=function(C$zut,C$zue){this._handleSpriteToAvatar(C$zut,C$zue);for(var C$zui=0,C$zun=this._childs.length;C$zui<C$zun;C$zui++)this._childs[C$zui]._setAnimatorToLinkAvatar(C$zut,C$zue)},C$zuo(0,C$zut,"activeInHierarchy",function(){return this._activeInHierarchy}),C$zuo(0,C$zut,"_loaded",null,function(C$zut){this.__loaded=C$zut}),C$zuo(0,C$zut,"active",function(){return this._active},function(C$zut){this._active!==C$zut&&(this._active=C$zut,this._parent&&(this._parent===this._scene&&this._parent.displayedInStage||this._parent._activeInHierarchy)&&(C$zut?this._activeHierarchy():this._inActiveHierarchy()))}),C$zuo(0,C$zut,"componentsCount",function(){return this._components.length}),C$zuo(0,C$zut,"loaded",function(){return this.__loaded}),C$zuo(0,C$zut,"id",function(){return this._id}),C$zuo(0,C$zut,"url",function(){return this._url}),C$zuo(0,C$zut,"layer",function(){return this._layer},function(C$zut){if(this._layer!==C$zut){if(!C$zut)throw new Error("Layer value can be null.");if(this._activeInHierarchy){var C$zue=0,C$zui=this._colliders.length;if(this._layer)for(C$zue=0;C$zue<C$zui;C$zue++)this._layer._removeCollider(this._colliders[C$zue]);for(C$zue=0;C$zue<C$zui;C$zue++)C$zut._addCollider(this._colliders[C$zue])}this._layer=C$zut,this.event("layerchanged",C$zut)}}),C$zuo(0,C$zut,"scene",function(){return this._scene}),C$zuo(0,C$zut,"transform",function(){return this._transform}),$p.instantiate=function(C$zut,C$zue,C$zui,C$zun,C$zur){void 0===C$zui&&(C$zui=!0);var C$zus=C$zut.clone();C$zue&&C$zue.addChild(C$zus);C$zue=C$zus.transform;return C$zui?(C$zui=C$zue.worldMatrix,C$zut.transform.worldMatrix.cloneTo(C$zui),C$zue.worldMatrix=C$zui):(C$zun&&(C$zue.position=C$zun),C$zur&&(C$zue.rotation=C$zur)),C$zus},$p.load=function(C$zut){return C$zuy.loader.create(C$zut,null,null,$p)},$p.WORLDMATRIX=0,$p.MVPMATRIX=1,$p._uniqueIDCounter=0,$p._nameNumberCounter=0,$p}(),C$zuLe=function(){function $D(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul){if(this._curActTexIndex=0,this._program=null,this._attributeParams=null,this._uniformParams=null,this._attributeParamsMap=[],this._sceneUniformParamsMap=[],this._cameraUniformParamsMap=[],this._spriteUniformParamsMap=[],this._materialUniformParamsMap=[],this._renderElementUniformParamsMap=[],$D.__super.call(this),!C$zut||!C$zue)throw"Shader Error";this._id=++$D._count,this._vs=C$zut,this._ps=C$zue,this._attributeMap=C$zui,this._sceneUniformMap=C$zun,this._cameraUniformMap=C$zur,this._spriteUniformMap=C$zus,this._materialUniformMap=C$zua,this._renderElementUniformMap=C$zuo,this._precompile=C$zuh,this._define=C$zul,this._precompile&&$D.extCompileObj&&$D.extCompileFunc?$D.extCompileFunc.call($D.extCompileObj,C$zut,C$zue,C$zul):this.recreateResource()}C$zur($D,"laya.d3.shader.Shader3D",C$zun);var C$zut=$D.prototype;return C$zut.recreateResource=function(){C$zuw.now(),this._compile(),this.completeCreate(),this.memorySize=0},C$zut.disposeResource=function(){C$zuI.mainContext.deleteShader(this._vshader),C$zuI.mainContext.deleteShader(this._pshader),C$zuI.mainContext.deleteProgram(this._program),this._vshader=this._pshader=this._program=null,this._attributeParams=null,this._uniformParams=null,this.memorySize=0,this._curActTexIndex=0},C$zut._compile=function(){if(!C$zuI.mainContext.isContextLost()&&this._vs&&this._ps&&!this._attributeParams&&!this._uniformParams){this._reCompile=!0,this._attributeParams=[],this._uniformParams=[];var C$zut=[this._vs,this._ps],C$zue=C$zuI.mainContext;if(this._program=C$zue.createProgram(),this._vshader=$D._createShader(C$zue,C$zut[0],35633),this._pshader=$D._createShader(C$zue,C$zut[1],35632),C$zue.attachShader(this._program,this._vshader),C$zue.attachShader(this._program,this._pshader),C$zue.linkProgram(this._program),!C$zum.isConchApp&&C$zuTe.debugMode&&!C$zue.getProgramParameter(this._program,35714))throw C$zue.getProgramInfoLog(this._program);var C$zui,C$zun,C$zur=0,C$zus=0;for(C$zun=C$zum.isConchApp?C$zue.getProgramParameterEx(this._vs,this._ps,"",35721):C$zue.getProgramParameter(this._program,35721),C$zur=0;C$zur<C$zun;C$zur++){var C$zua=null;C$zui={vartype:"attribute",ivartype:0,attrib:C$zua=C$zum.isConchApp?C$zue.getActiveAttribEx(this._vs,this._ps,"",C$zur):C$zue.getActiveAttrib(this._program,C$zur),location:C$zue.getAttribLocation(this._program,C$zua.name),name:C$zua.name,type:C$zua.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0},this._attributeParams.push(C$zui)}var C$zuo;for(C$zuo=C$zum.isConchApp?C$zue.getProgramParameterEx(this._vs,this._ps,"",35718):C$zue.getProgramParameter(this._program,35718),C$zur=0;C$zur<C$zuo;C$zur++){var C$zuh=null;C$zuh=C$zum.isConchApp?C$zue.getActiveUniformEx(this._vs,this._ps,"",C$zur):C$zue.getActiveUniform(this._program,C$zur),0<(C$zui={vartype:"uniform",ivartype:1,attrib:C$zua,location:C$zue.getUniformLocation(this._program,C$zuh.name),name:C$zuh.name,type:C$zuh.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0}).name.indexOf("[0]")&&(C$zui.name=C$zui.name.substr(0,C$zui.name.length-3),C$zui.isArray=!0,C$zui.location=C$zue.getUniformLocation(this._program,C$zui.name)),this._uniformParams.push(C$zui)}for(C$zur=0,C$zus=this._attributeParams.length;C$zur<C$zus;C$zur++)(C$zui=this._attributeParams[C$zur]).indexOfParams=C$zur,C$zui.index=1,C$zui.value=[C$zui.location,null],C$zui.codename=C$zui.name,C$zui.name=null!=this._attributeMap[C$zui.codename]?this._attributeMap[C$zui.codename]:C$zui.codename,this._attributeParamsMap.push(C$zui.name),this._attributeParamsMap.push(C$zui),C$zui._this=this,C$zui.uploadedValue=[],C$zui.fun=this._attribute;for(C$zur=0,C$zus=this._uniformParams.length;C$zur<C$zus;C$zur++)switch((C$zui=this._uniformParams[C$zur]).indexOfParams=C$zur,C$zui.index=1,C$zui.value=[C$zui.location,null],C$zui.codename=C$zui.name,null!=this._sceneUniformMap[C$zui.codename]?(C$zui.name=this._sceneUniformMap[C$zui.codename],this._sceneUniformParamsMap.push(C$zui.name),this._sceneUniformParamsMap.push(C$zui)):null!=this._cameraUniformMap[C$zui.codename]?(C$zui.name=this._cameraUniformMap[C$zui.codename],this._cameraUniformParamsMap.push(C$zui.name),this._cameraUniformParamsMap.push(C$zui)):null!=this._spriteUniformMap[C$zui.codename]?(C$zui.name=this._spriteUniformMap[C$zui.codename],this._spriteUniformParamsMap.push(C$zui.name),this._spriteUniformParamsMap.push(C$zui)):null!=this._materialUniformMap[C$zui.codename]?(C$zui.name=this._materialUniformMap[C$zui.codename],this._materialUniformParamsMap.push(C$zui.name),this._materialUniformParamsMap.push(C$zui)):null!=this._renderElementUniformMap[C$zui.codename]?(C$zui.name=this._renderElementUniformMap[C$zui.codename],this._renderElementUniformParamsMap.push(C$zui.name),this._renderElementUniformParamsMap.push(C$zui)):console.log("Shader:can't find uinform name:"+C$zui.codename+" in shader file."),C$zui._this=this,C$zui.uploadedValue=[],C$zui.type){case 5124:C$zui.fun=C$zui.isArray?this._uniform1iv:this._uniform1i;break;case 5126:C$zui.fun=C$zui.isArray?this._uniform1fv:this._uniform1f;break;case 35664:C$zui.fun=C$zui.isArray?this._uniform_vec2v:this._uniform_vec2;break;case 35665:C$zui.fun=C$zui.isArray?this._uniform_vec3v:this._uniform_vec3;break;case 35666:C$zui.fun=C$zui.isArray?this._uniform_vec4v:this._uniform_vec4;break;case 35678:C$zui.fun=this._uniform_sampler2D;break;case 35680:C$zui.fun=this._uniform_samplerCube;break;case 35676:C$zui.fun=this._uniformMatrix4fv;break;case 35670:C$zui.fun=this._uniform1i;break;case 35674:C$zui.fun=this._uinformMatrix2fv;break;case 35675:C$zui.fun=this._uinformMatrix3fv;break;default:throw new Error("compile shader err!")}}},C$zut._attribute=function(C$zut,C$zue){var C$zui=C$zuI.mainContext,C$zun=C$zul._enableAtributes,C$zut=C$zut.location;return C$zun[C$zut]||C$zui.enableVertexAttribArray(C$zut),C$zui.vertexAttribPointer(C$zut,C$zue[0],C$zue[1],C$zue[2],C$zue[3],C$zue[4]),C$zun[C$zut]=C$zul._bindVertexBuffer,1},C$zut._uniform1f=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue?(C$zuI.mainContext.uniform1f(C$zut.location,C$zui[0]=C$zue),1):0},C$zut._uniform1fv=function(C$zut,C$zue){var C$zui;return C$zue.length<4?(C$zui=C$zut.uploadedValue)[0]!==C$zue[0]||C$zui[1]!==C$zue[1]||C$zui[2]!==C$zue[2]||C$zui[3]!==C$zue[3]?(C$zuI.mainContext.uniform1fv(C$zut.location,C$zue),C$zui[0]=C$zue[0],C$zui[1]=C$zue[1],C$zui[2]=C$zue[2],C$zui[3]=C$zue[3],1):0:(C$zuI.mainContext.uniform1fv(C$zut.location,C$zue),1)},C$zut._uniform_vec2=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue[0]||C$zui[1]!==C$zue[1]?(C$zuI.mainContext.uniform2f(C$zut.location,C$zui[0]=C$zue[0],C$zui[1]=C$zue[1]),1):0},C$zut._uniform_vec2v=function(C$zut,C$zue){var C$zui;return C$zue.length<2?(C$zui=C$zut.uploadedValue)[0]!==C$zue[0]||C$zui[1]!==C$zue[1]||C$zui[2]!==C$zue[2]||C$zui[3]!==C$zue[3]?(C$zuI.mainContext.uniform2fv(C$zut.location,C$zue),C$zui[0]=C$zue[0],C$zui[1]=C$zue[1],C$zui[2]=C$zue[2],C$zui[3]=C$zue[3],1):0:(C$zuI.mainContext.uniform2fv(C$zut.location,C$zue),1)},C$zut._uniform_vec3=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue[0]||C$zui[1]!==C$zue[1]||C$zui[2]!==C$zue[2]?(C$zuI.mainContext.uniform3f(C$zut.location,C$zui[0]=C$zue[0],C$zui[1]=C$zue[1],C$zui[2]=C$zue[2]),1):0},C$zut._uniform_vec3v=function(C$zut,C$zue){return C$zuI.mainContext.uniform3fv(C$zut.location,C$zue),1},C$zut._uniform_vec4=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue[0]||C$zui[1]!==C$zue[1]||C$zui[2]!==C$zue[2]||C$zui[3]!==C$zue[3]?(C$zuI.mainContext.uniform4f(C$zut.location,C$zui[0]=C$zue[0],C$zui[1]=C$zue[1],C$zui[2]=C$zue[2],C$zui[3]=C$zue[3]),1):0},C$zut._uniform_vec4v=function(C$zut,C$zue){return C$zuI.mainContext.uniform4fv(C$zut.location,C$zue),1},C$zut._uniformMatrix2fv=function(C$zut,C$zue){return C$zuI.mainContext.uniformMatrix2fv(C$zut.location,!1,C$zue),1},C$zut._uniformMatrix3fv=function(C$zut,C$zue){return C$zuI.mainContext.uniformMatrix3fv(C$zut.location,!1,C$zue),1},C$zut._uniformMatrix4fv=function(C$zut,C$zue){return C$zuI.mainContext.uniformMatrix4fv(C$zut.location,!1,C$zue),1},C$zut._uinformMatrix2fv=function(C$zut,C$zue){return C$zuI.mainContext.uniformMatrix2fv(C$zut.location,!1,C$zue),1},C$zut._uinformMatrix3fv=function(C$zut,C$zue){return C$zuI.mainContext.uniformMatrix3fv(C$zut.location,!1,C$zue),1},C$zut._uniform1i=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue?(C$zuI.mainContext.uniform1i(C$zut.location,C$zui[0]=C$zue),1):0},C$zut._uniform1iv=function(C$zut,C$zue){return C$zuI.mainContext.uniform1iv(C$zut.location,C$zue),1},C$zut._uniform_ivec2=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue[0]||C$zui[1]!==C$zue[1]?(C$zuI.mainContext.uniform2i(C$zut.location,C$zui[0]=C$zue[0],C$zui[1]=C$zue[1]),1):0},C$zut._uniform_ivec2v=function(C$zut,C$zue){return C$zuI.mainContext.uniform2iv(C$zut.location,C$zue),1},C$zut._uniform_vec3i=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue[0]||C$zui[1]!==C$zue[1]||C$zui[2]!==C$zue[2]?(C$zuI.mainContext.uniform3i(C$zut.location,C$zui[0]=C$zue[0],C$zui[1]=C$zue[1],C$zui[2]=C$zue[2]),1):0},C$zut._uniform_vec3vi=function(C$zut,C$zue){return C$zuI.mainContext.uniform3iv(C$zut.location,C$zue),1},C$zut._uniform_vec4i=function(C$zut,C$zue){var C$zui=C$zut.uploadedValue;return C$zui[0]!==C$zue[0]||C$zui[1]!==C$zue[1]||C$zui[2]!==C$zue[2]||C$zui[3]!==C$zue[3]?(C$zuI.mainContext.uniform4i(C$zut.location,C$zui[0]=C$zue[0],C$zui[1]=C$zue[1],C$zui[2]=C$zue[2],C$zui[3]=C$zue[3]),1):0},C$zut._uniform_vec4vi=function(C$zut,C$zue){return C$zuI.mainContext.uniform4iv(C$zut.location,C$zue),1},C$zut._uniform_sampler2D=function(C$zut,C$zue){var C$zue=C$zue.source||C$zue.defaulteTexture.source,C$zui=C$zuI.mainContext,C$zun=C$zut.uploadedValue;if(null!=C$zun[0])return C$zui.activeTexture($D._TEXTURES[C$zun[0]]),C$zue&&C$zuR.bindTexture(C$zui,3553,C$zue),0;if(7<this._curActTexIndex)throw new Error("Shader3D: shader support textures max count is 8,can't large than it.");return C$zun[0]=this._curActTexIndex,C$zui.uniform1i(C$zut.location,this._curActTexIndex),C$zui.activeTexture($D._TEXTURES[this._curActTexIndex]),C$zue&&C$zuR.bindTexture(C$zui,3553,C$zue),this._curActTexIndex++,1},C$zut._uniform_samplerCube=function(C$zut,C$zue){var C$zue=C$zue.source||C$zue.defaulteTexture.source,C$zui=C$zuI.mainContext,C$zun=C$zut.uploadedValue;if(null!=C$zun[0])return C$zui.activeTexture($D._TEXTURES[C$zun[0]]),C$zue?C$zuR.bindTexture(C$zui,34067,C$zue):C$zuR.bindTexture(C$zui,34067,SolidColorTextureCube.grayTexture.source),0;if(7<this._curActTexIndex)throw new Error("Shader3D: shader support textures max count is 8,can't large than it.");return C$zun[0]=this._curActTexIndex,C$zui.uniform1i(C$zut.location,this._curActTexIndex),C$zui.activeTexture($D._TEXTURES[this._curActTexIndex]),C$zue?C$zuR.bindTexture(C$zui,34067,C$zue):C$zuR.bindTexture(C$zui,34067,SolidColorTextureCube.grayTexture.source),this._curActTexIndex++,1},C$zut._noSetValue=function(C$zut){console.log("no....:"+C$zut.name)},C$zut.bind=function(){return C$zun.activeShader=this,(C$zun.bindShader=this).activeResource(),C$zuR.UseProgram(this._program)},C$zut.uploadAttributes=function(C$zut,C$zue){for(var C$zui,C$zun,C$zur=0,C$zus=0,C$zua=this._attributeParamsMap.length;C$zus<C$zua;C$zus+=2)C$zun=this._attributeParamsMap[C$zus+1],null!=(C$zui=C$zut[this._attributeParamsMap[C$zus]])&&(C$zue&&C$zue[C$zun.name]&&C$zue[C$zun.name].bind(),C$zur+=C$zun.fun.call(this,C$zun,C$zui));C$zuC.shaderCall+=C$zur},C$zut.uploadAttributesX=function(C$zut,C$zue){for(var C$zui,C$zun,C$zur=0,C$zus=0,C$zua=this._attributeParamsMap.length;C$zus<C$zua;C$zus+=2)C$zun=this._attributeParamsMap[C$zus+1],null!=(C$zui=C$zut[this._attributeParamsMap[C$zus]])&&(C$zue._bind(),C$zur+=C$zun.fun.call(this,C$zun,C$zui));C$zuC.shaderCall+=C$zur},C$zut.uploadSceneUniforms=function(C$zut){for(var C$zue,C$zui,C$zun=0,C$zur=0,C$zus=this._sceneUniformParamsMap.length;C$zur<C$zus;C$zur+=2)C$zui=this._sceneUniformParamsMap[C$zur+1],null!=(C$zue=C$zut[this._sceneUniformParamsMap[C$zur]])&&(C$zun+=C$zui.fun.call(this,C$zui,C$zue));C$zuC.shaderCall+=C$zun},C$zut.uploadCameraUniforms=function(C$zut){for(var C$zue,C$zui,C$zun=0,C$zur=0,C$zus=this._cameraUniformParamsMap.length;C$zur<C$zus;C$zur+=2)C$zui=this._cameraUniformParamsMap[C$zur+1],null!=(C$zue=C$zut[this._cameraUniformParamsMap[C$zur]])&&(C$zun+=C$zui.fun.call(this,C$zui,C$zue));C$zuC.shaderCall+=C$zun},C$zut.uploadSpriteUniforms=function(C$zut){for(var C$zue,C$zui,C$zun=0,C$zur=0,C$zus=this._spriteUniformParamsMap.length;C$zur<C$zus;C$zur+=2)C$zui=this._spriteUniformParamsMap[C$zur+1],null!=(C$zue=C$zut[this._spriteUniformParamsMap[C$zur]])&&(C$zun+=C$zui.fun.call(this,C$zui,C$zue));C$zuC.shaderCall+=C$zun},C$zut.uploadMaterialUniforms=function(C$zut){for(var C$zue,C$zui,C$zun=0,C$zur=0,C$zus=this._materialUniformParamsMap.length;C$zur<C$zus;C$zur+=2)C$zui=this._materialUniformParamsMap[C$zur+1],null!=(C$zue=C$zut[this._materialUniformParamsMap[C$zur]])&&(C$zun+=C$zui.fun.call(this,C$zui,C$zue));C$zuC.shaderCall+=C$zun},C$zut.uploadRenderElementUniforms=function(C$zut){for(var C$zue,C$zui,C$zun=0,C$zur=0,C$zus=this._renderElementUniformParamsMap.length;C$zur<C$zus;C$zur+=2)C$zui=this._renderElementUniformParamsMap[C$zur+1],null!=(C$zue=C$zut[this._renderElementUniformParamsMap[C$zur]])&&(C$zun+=C$zui.fun.call(this,C$zui,C$zue));C$zuC.shaderCall+=C$zun},$D.create=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul){return new $D(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul)},$D.addInclude=function(C$zut,C$zue){C$zuM.addInclude(C$zut,C$zue)},$D._createShader=function(C$zut,C$zue,C$zui){C$zui=C$zut.createShader(C$zui);if(C$zut.shaderSource(C$zui,C$zue),C$zut.compileShader(C$zui),C$zuTe.debugMode&&!C$zut.getShaderParameter(C$zui,35713))throw C$zut.getShaderInfoLog(C$zui);return C$zui},$D.PERIOD_RENDERELEMENT=0,$D.PERIOD_MATERIAL=1,$D.PERIOD_SPRITE=2,$D.PERIOD_CAMERA=3,$D.PERIOD_SCENE=4,$D._TEXTURES=[33984,33985,33986,33987,33988,33989,33990,33991],$D._count=0,$D._preCompile=!1,$D.extCompileFunc=null,$D.extCompileObj=null,C$zus($D,["shaderParamsMap",function(){return this.shaderParamsMap={float:5126,int:5124,bool:35670,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676,sampler2D:35678,samplerCube:35680}},"nameKey",function(){return this.nameKey=new C$zuD}]),$D}(),C$zuBe=function(C$zua){function $d(){this._transformUV=null,$d.__super.call(this),this.setShaderName("SIMPLE"),this._setColor(9,new C$zuE(.6,.6,.6)),this._setColor(10,new C$zuE(1,1,1)),this._setColor(11,new C$zuoe(1,1,1,8)),this._setColor(12,new C$zuE(1,1,1)),this._setColor(7,new C$zuoe(1,1,1,1)),this._setNumber(0,.5),this._setColor(15,new C$zuoe(1,1,0,0)),this.renderMode=1}C$zur($d,"laya.d3.core.material.StandardMaterial",C$zua);var C$zut=$d.prototype;return C$zut.disableLight=function(){this._addDisablePublicShaderDefine(C$zuTe.SHADERDEFINE_POINTLIGHT|C$zuTe.SHADERDEFINE_SPOTLIGHT|C$zuTe.SHADERDEFINE_DIRECTIONLIGHT)},C$zut.disableFog=function(){this._addDisablePublicShaderDefine(C$zuTe.SHADERDEFINE_FOG)},C$zut.onAsynLoaded=function(C$zut,C$zue,C$zui){var C$zun=C$zue[0];if(C$zun.version)C$zua.prototype.onAsynLoaded.call(this,C$zut,C$zue,C$zui);else{var C$zut=C$zue[1],C$zur=C$zun.props;for(var C$zus in C$zur)this[C$zus]=C$zur[C$zus];$d._parseStandardMaterial(C$zut,this,C$zun),this._endLoaded()}},C$zut.cloneTo=function(C$zut){C$zua.prototype.cloneTo.call(this,C$zut);this._transformUV&&(C$zut._transformUV=this._transformUV.clone())},C$zuo(0,C$zut,"ambientColor",function(){return this._getColor(9)},function(C$zut){this._setColor(9,C$zut)}),C$zuo(0,C$zut,"ambientTexture",function(){return this._getTexture(5)},function(C$zut){C$zut?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_AMBIENTMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_AMBIENTMAP),this._setTexture(5,C$zut)}),C$zuo(0,C$zut,"renderMode",null,function(C$zut){switch(C$zut){case 1:this.renderQueue=2e3,this.depthWrite=!0,this.cull=2,this.blend=0,this.alphaTest=!1,this._removeShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;case 2:this.renderQueue=2e3,this.depthWrite=!0,this.cull=0,this.blend=0,this.alphaTest=!1,this._removeShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;case 3:this.depthWrite=!0,this.cull=2,this.blend=0,this.renderQueue=2e3,this.alphaTest=!0,this._removeShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;case 4:this.renderQueue=2e3,this.depthWrite=!0,this.cull=0,this.blend=0,this.alphaTest=!0,this._removeShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;case 13:this.renderQueue=3e3,this.depthWrite=!0,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;case 14:this.renderQueue=3e3,this.depthWrite=!0,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;case 15:this.renderQueue=3e3,this.depthWrite=!0,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;case 16:this.renderQueue=3e3,this.depthWrite=!0,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;case 5:this.renderQueue=3e3,this.depthWrite=!1,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;case 6:this.renderQueue=3e3,this.depthWrite=!1,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;case 7:this.renderQueue=3e3,this.depthWrite=!1,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;case 8:this.renderQueue=3e3,this.depthWrite=!1,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;case 9:this.renderQueue=3e3,this.depthTest=513,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;case 10:this.renderQueue=3e3,this.depthTest=513,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;case 11:this.renderQueue=3e3,this.depthTest=513,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;case 12:this.renderQueue=3e3,this.depthTest=513,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine($d.SHADERDEFINE_ADDTIVEFOG);break;default:throw new Error("Material:renderMode value error.")}this._conchMaterial&&this._conchMaterial.setRenderMode(C$zut)}),C$zuo(0,C$zut,"reflectColor",function(){return this._getColor(12)},function(C$zut){this._setColor(12,C$zut)}),C$zuo(0,C$zut,"tilingOffset",function(){return this._getColor(15)},function(C$zut){var C$zue;C$zut&&(1!=(C$zue=C$zut.elements)[0]||1!=C$zue[1]||0!=C$zue[2]||0!=C$zue[3])?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_TILINGOFFSET):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_TILINGOFFSET),this._setColor(15,C$zut)}),C$zuo(0,C$zut,"albedo",function(){return this._getColor(7)},function(C$zut){this._setColor(7,C$zut)}),C$zuo(0,C$zut,"diffuseColor",function(){return this._getColor(10)},function(C$zut){this._setColor(10,C$zut)}),C$zuo(0,C$zut,"albedoColor",function(){return this._getColor(7)},function(C$zut){this._setColor(7,C$zut)}),C$zuo(0,C$zut,"specularColor",function(){return this._getColor(11)},function(C$zut){this._setColor(11,C$zut)}),C$zuo(0,C$zut,"diffuseTexture",function(){return this._getTexture(1)},function(C$zut){C$zut?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_DIFFUSEMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_DIFFUSEMAP),this._setTexture(1,C$zut)}),C$zuo(0,C$zut,"normalTexture",function(){return this._getTexture(2)},function(C$zut){C$zut?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_NORMALMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_NORMALMAP),this._setTexture(2,C$zut)}),C$zuo(0,C$zut,"specularTexture",function(){return this._getTexture(3)},function(C$zut){C$zut?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_SPECULARMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_SPECULARMAP),this._setTexture(3,C$zut)}),C$zuo(0,C$zut,"emissiveTexture",function(){return this._getTexture(4)},function(C$zut){C$zut?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_EMISSIVEMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_EMISSIVEMAP),this._setTexture(4,C$zut)}),C$zuo(0,C$zut,"reflectTexture",function(){return this._getTexture(6)},function(C$zut){C$zut?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_REFLECTMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_REFLECTMAP),this._setTexture(6,C$zut)}),C$zuo(0,C$zut,"transformUV",function(){return this._transformUV},function(C$zut){this._transformUV=C$zut,this._setMatrix4x4(13,C$zut.matrix),C$zut?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_UVTRANSFORM):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_UVTRANSFORM),this._conchMaterial&&this._conchMaterial.setShaderValue(13,C$zut.matrix.elements,0)}),$d.__init__=function(){$d.SHADERDEFINE_DIFFUSEMAP=$d.shaderDefines.registerDefine("DIFFUSEMAP"),$d.SHADERDEFINE_NORMALMAP=$d.shaderDefines.registerDefine("NORMALMAP"),$d.SHADERDEFINE_SPECULARMAP=$d.shaderDefines.registerDefine("SPECULARMAP"),$d.SHADERDEFINE_EMISSIVEMAP=$d.shaderDefines.registerDefine("EMISSIVEMAP"),$d.SHADERDEFINE_AMBIENTMAP=$d.shaderDefines.registerDefine("AMBIENTMAP"),$d.SHADERDEFINE_REFLECTMAP=$d.shaderDefines.registerDefine("REFLECTMAP"),$d.SHADERDEFINE_UVTRANSFORM=$d.shaderDefines.registerDefine("UVTRANSFORM"),$d.SHADERDEFINE_TILINGOFFSET=$d.shaderDefines.registerDefine("TILINGOFFSET"),$d.SHADERDEFINE_ADDTIVEFOG=$d.shaderDefines.registerDefine("ADDTIVEFOG")},$d.load=function(C$zut){return C$zuy.loader.create(C$zut,null,null,$d)},$d._parseStandardMaterial=function(C$zut,C$zue,C$zui){var C$zui=C$zui.customProps,C$zun=C$zui.ambientColor;C$zue.ambientColor=new C$zuE(C$zun[0],C$zun[1],C$zun[2]);C$zun=C$zui.diffuseColor;C$zue.diffuseColor=new C$zuE(C$zun[0],C$zun[1],C$zun[2]);C$zun=C$zui.specularColor;C$zue.specularColor=new C$zuoe(C$zun[0],C$zun[1],C$zun[2],C$zun[3]);C$zun=C$zui.reflectColor;C$zue.reflectColor=new C$zuE(C$zun[0],C$zun[1],C$zun[2]);C$zun=C$zui.albedoColor;C$zun&&(C$zue.albedo=new C$zuoe(C$zun[0],C$zun[1],C$zun[2],C$zun[3]));C$zun=C$zui.diffuseTexture.texture2D;C$zun&&(C$zue.diffuseTexture=C$zug.getRes(C$zut[C$zun]));C$zun=C$zui.normalTexture.texture2D;C$zun&&(C$zue.normalTexture=C$zug.getRes(C$zut[C$zun]));C$zun=C$zui.specularTexture.texture2D;C$zun&&(C$zue.specularTexture=C$zug.getRes(C$zut[C$zun]));C$zun=C$zui.emissiveTexture.texture2D;C$zun&&(C$zue.emissiveTexture=C$zug.getRes(C$zut[C$zun]));C$zun=C$zui.ambientTexture.texture2D;C$zun&&(C$zue.ambientTexture=C$zug.getRes(C$zut[C$zun]));C$zun=C$zui.reflectTexture.texture2D;C$zun&&(C$zue.reflectTexture=C$zug.getRes(C$zut[C$zun]))},$d.RENDERMODE_OPAQUE=1,$d.RENDERMODE_OPAQUEDOUBLEFACE=2,$d.RENDERMODE_CUTOUT=3,$d.RENDERMODE_CUTOUTDOUBLEFACE=4,$d.RENDERMODE_TRANSPARENT=13,$d.RENDERMODE_TRANSPARENTDOUBLEFACE=14,$d.RENDERMODE_ADDTIVE=15,$d.RENDERMODE_ADDTIVEDOUBLEFACE=16,$d.RENDERMODE_DEPTHREAD_TRANSPARENT=5,$d.RENDERMODE_DEPTHREAD_TRANSPARENTDOUBLEFACE=6,$d.RENDERMODE_DEPTHREAD_ADDTIVE=7,$d.RENDERMODE_DEPTHREAD_ADDTIVEDOUBLEFACE=8,$d.RENDERMODE_NONDEPTH_TRANSPARENT=9,$d.RENDERMODE_NONDEPTH_TRANSPARENTDOUBLEFACE=10,$d.RENDERMODE_NONDEPTH_ADDTIVE=11,$d.RENDERMODE_NONDEPTH_ADDTIVEDOUBLEFACE=12,$d.SHADERDEFINE_DIFFUSEMAP=0,$d.SHADERDEFINE_NORMALMAP=0,$d.SHADERDEFINE_SPECULARMAP=0,$d.SHADERDEFINE_EMISSIVEMAP=0,$d.SHADERDEFINE_AMBIENTMAP=0,$d.SHADERDEFINE_REFLECTMAP=0,$d.SHADERDEFINE_UVTRANSFORM=0,$d.SHADERDEFINE_TILINGOFFSET=0,$d.SHADERDEFINE_ADDTIVEFOG=0,$d.DIFFUSETEXTURE=1,$d.NORMALTEXTURE=2,$d.SPECULARTEXTURE=3,$d.EMISSIVETEXTURE=4,$d.AMBIENTTEXTURE=5,$d.REFLECTTEXTURE=6,$d.ALBEDO=7,$d.UVANIAGE=8,$d.MATERIALAMBIENT=9,$d.MATERIALDIFFUSE=10,$d.MATERIALSPECULAR=11,$d.MATERIALREFLECT=12,$d.UVMATRIX=13,$d.UVAGE=14,$d.TILINGOFFSET=15,C$zus($d,["defaultMaterial",function(){var C$zut=new $d;return C$zut.lock=!0,this.defaultMaterial=C$zut},"shaderDefines",function(){return this.shaderDefines=new C$zuue(C$zuCe.shaderDefines)}]),$d}(C$zuCe),C$zuNe=function(C$zut){function $k(C$zut,C$zue,C$zui,C$zun,C$zur){if(this._indexType=null,this._indexTypeByteCount=0,this._indexCount=0,this._canRead=!1,void 0===C$zui&&(C$zui=35044),void 0===C$zun&&(C$zun=!1),$k.__super.call(this),this._indexType=C$zut,this._indexCount=C$zue,this._bufferUsage=C$zui,this._bufferType=34963,this._canRead=C$zun,"ushort"==C$zut)this._indexTypeByteCount=2;else{if("ubyte"!=C$zut)throw new Error("unidentification index type.");this._indexTypeByteCount=1}C$zui=this._indexTypeByteCount*C$zue,this._byteLength=C$zui,this._bind(),C$zul._gl.bufferData(this._bufferType,C$zui,this._bufferUsage),this.uri=C$zur,C$zun?("ushort"==C$zut?this._buffer=new Uint16Array(C$zue):"ubyte"==C$zut&&(this._buffer=new Uint8Array(C$zue)),this.memorySize=2*C$zui):this.memorySize=C$zui}C$zur($k,"laya.d3.graphics.IndexBuffer3D",C$zut);var C$zue=$k.prototype;return C$zue.setData=function(C$zut,C$zue,C$zui,C$zun){void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0),void 0===C$zun&&(C$zun=4294967295);var C$zur=0;if("ushort"==this._indexType?(C$zur=2,0===C$zui&&4294967295===C$zun||(C$zut=new Uint16Array(C$zut.buffer,C$zui*C$zur,C$zun))):"ubyte"==this._indexType&&(C$zur=1,0===C$zui&&4294967295===C$zun||(C$zut=new Uint8Array(C$zut.buffer,C$zui*C$zur,C$zun))),this._bind(),C$zul._gl.bufferSubData(this._bufferType,C$zue*C$zur,C$zut),this._canRead)if(0!==C$zue||0!==C$zui||4294967295!==C$zun){C$zur=this._buffer.length-C$zue;C$zur<C$zun&&(C$zun=C$zur);for(var C$zus=0;C$zus<C$zun;C$zus++)this._buffer[C$zue+C$zus]=C$zut[C$zus]}else this._buffer=C$zut},C$zue.getData=function(){if(this._canRead)return this._buffer;throw new Error("Can't read data from VertexBuffer with only write flag!")},C$zue.disposeResource=function(){C$zut.prototype.disposeResource.call(this),this._buffer=null,this.memorySize=0},C$zuo(0,C$zue,"indexType",function(){return this._indexType}),C$zuo(0,C$zue,"indexTypeByteCount",function(){return this._indexTypeByteCount}),C$zuo(0,C$zue,"indexCount",function(){return this._indexCount}),C$zuo(0,C$zue,"canRead",function(){return this._canRead}),$k.INDEXTYPE_UBYTE="ubyte",$k.INDEXTYPE_USHORT="ushort",$k.create=function(C$zut,C$zue,C$zui,C$zun,C$zur){return new $k(C$zut,C$zue,C$zui=void 0===C$zui?35044:C$zui,C$zun=void 0===C$zun?!1:C$zun,C$zur)},$k}(C$zul),C$zuFe=function(C$zus){function $k(C$zut,C$zue,C$zui,C$zun,C$zur){this._vertexDeclaration=null,this._vertexCount=0,this._canRead=!1,void 0===C$zun&&(C$zun=!1),$k.__super.call(this),this._vertexDeclaration=C$zut,this._vertexCount=C$zue,this._bufferUsage=C$zui,this._bufferType=34962,this._canRead=C$zun,this.uri=C$zur,this.memorySize=this._byteLength=this._vertexDeclaration.vertexStride*C$zue,this._bind(),C$zul._gl.bufferData(this._bufferType,this._byteLength,this._bufferUsage),C$zun&&(this._buffer=new Float32Array(this._byteLength/4))}C$zur($k,"laya.d3.graphics.VertexBuffer3D",C$zus);var C$zut=$k.prototype;return C$zut.bindWithIndexBuffer=function(C$zut){C$zut&&C$zut._bind(),this._bind()},C$zut.setData=function(C$zut,C$zue,C$zui,C$zun){if(void 0===C$zue&&(C$zue=0),void 0===C$zun&&(C$zun=4294967295),0===(C$zui=void 0===C$zui?0:C$zui)&&4294967295===C$zun||(C$zut=new Float32Array(C$zut.buffer,4*C$zui,C$zun)),this._bind(),C$zul._gl.bufferSubData(this._bufferType,4*C$zue,C$zut),this._canRead)if(0!==C$zue||0!==C$zui||4294967295!==C$zun){C$zui=this._buffer.length-C$zue;C$zui<C$zun&&(C$zun=C$zui);for(var C$zur=0;C$zur<C$zun;C$zur++)this._buffer[C$zue+C$zur]=C$zut[C$zur]}else this._buffer=C$zut},C$zut.getData=function(){if(this._canRead)return this._buffer;throw new Error("Can't read data from VertexBuffer with only write flag!")},C$zut.disposeResource=function(){for(var C$zut=C$zuI.mainContext,C$zue=this._vertexDeclaration.getVertexElements(),C$zui=C$zul._enableAtributes,C$zun=0,C$zur=C$zue.length;C$zun<C$zur;C$zun++)C$zui[C$zun]===this._glBuffer&&(C$zut.disableVertexAttribArray(C$zun),C$zui[C$zun]=null);C$zus.prototype.disposeResource.call(this),this._buffer=null,this._vertexDeclaration=null,this.memorySize=0},C$zuo(0,C$zut,"vertexDeclaration",function(){return this._vertexDeclaration}),C$zuo(0,C$zut,"vertexCount",function(){return this._vertexCount}),C$zuo(0,C$zut,"canRead",function(){return this._canRead}),$k.create=function(C$zut,C$zue,C$zui,C$zun,C$zur){return new $k(C$zut,C$zue,C$zui=void 0===C$zui?35044:C$zui,C$zun=void 0===C$zun?!1:C$zun,C$zur)},$k}(C$zul),C$zuOe=function(){function $a(){this.simLodInfo=null,this._src=null,this._buffer=null,this._image=null,this._mipmaps=null,this._recreateLock=!1,this._needReleaseAgain=!1,$a.__super.call(this),this._type=3553}C$zur($a,"laya.d3.resource.DataTexture2D",C$zuDe);var C$zut=$a.prototype;return C$zut.genDebugMipmaps=function(){var C$zut=[];return C$zut.push(new Uint8Array(new Uint32Array(131072).fill(4278190335).buffer)),C$zut.push(new Uint8Array(new Uint32Array(32768).fill(4278223103).buffer)),C$zut.push(new Uint8Array(new Uint32Array(8192).fill(4278255615).buffer)),C$zut.push(new Uint8Array(new Uint32Array(2048).fill(4278255360).buffer)),C$zut.push(new Uint8Array(new Uint32Array(512).fill(4286595072).buffer)),C$zut.push(new Uint8Array(new Uint32Array(128).fill(4294901760).buffer)),C$zut.push(new Uint8Array(new Uint32Array(32).fill(4294901888).buffer)),C$zut.push(new Uint8Array(new Uint32Array(8).fill(0).buffer)),C$zut.push(new Uint8Array(new Uint32Array(2).fill(4286611584).buffer)),C$zut.push(new Uint8Array(new Uint32Array(1).fill(4294967295).buffer)),C$zut},C$zut._onTextureLoaded=function(C$zut){},C$zut._createWebGlTexture=function(){if(!this._buffer&&!this._image&&!this._mipmaps)throw"create GLTextur err:no data";var C$zut=C$zuI.mainContext,C$zue=this._source=C$zut.createTexture(),C$zui=this._width,C$zun=this._height,C$zuu=C$zuR.curBindTexTarget,C$zuc=C$zuR.curBindTexValue,C$zu_=!1;if(C$zuR.bindTexture(C$zut,this._type,C$zue),this._mipmaps){if(laya.d3.resource.DataTexture2D.lodasatlas){var C$zur=0;C$zut.texImage2D(this._type,0,6408,this._width,this._height,0,6408,5121,null);for(var C$zus=0;C$zus<this._mipmaps.length;C$zus++){if(this._mipmaps[C$zus].byteLength!=C$zua*C$zuo*4)throw"mipmap size error  level:"+C$zus;C$zut.texSubImage2D(this._type,0,$a.simLodRect[C$zur++],$a.simLodRect[C$zur++],$a.simLodRect[C$zur++],$a.simLodRect[C$zur++],6408,5121,new Uint8Array(this._mipmaps[C$zus]))}this.minFifter=9729,this.magFifter=9729}else{var C$zua=this._width,C$zuo=this._height;for(C$zut.texImage2D(this._type,C$zur=0,6408,this._width,this._height,0,6408,5121,null),C$zus=0;C$zus<this._mipmaps.length;C$zus++){if(this._mipmaps[C$zus].byteLength!=C$zua*C$zuo*4)throw"mipmap size error  level:"+C$zus;C$zut.texImage2D(this._type,C$zus,6408,C$zua,C$zuo,0,6408,5121,new Uint8Array(this._mipmaps[C$zus])),(C$zua/=2)<1&&(C$zua=1),(C$zuo/=2)<1&&(C$zuo=1),this.minFifter=9987,this.magFifter=9729}}this.mipmap=!1}else this._image?(6407==this._format&&C$zut.pixelStorei(C$zut.UNPACK_ALIGNMENT,1),C$zut.texImage2D(this._type,0,this._format,this._format,5121,this._image)):this._buffer&&(C$zue=0,C$zul=C$zuh=!1,this._buffer.byteLength==4*C$zui*C$zun?(C$zue=6408,C$zuh=!0):this._buffer.byteLength==3*C$zui*C$zun?(C$zue=6407,C$zul=!0):C$zue=this._format,C$zuh||C$zul?(this._buffer instanceof Uint8Array||(this._buffer=new Uint8Array(this._buffer)),C$zul&&C$zut.pixelStorei(C$zut.UNPACK_ALIGNMENT,1),C$zut.texImage2D(this._type,0,C$zue,C$zui,C$zun,0,C$zue,5121,this._buffer)):C$zut&&C$zue==C$zut.ALPHA?(C$zut.texImage2D(3553,0,C$zue,C$zui,C$zun,0,C$zue,C$zut.UNSIGNED_BYTE,this._buffer),C$zu_=!0):0!=C$zue&&(C$zut.compressedTexImage2D(3553,0,C$zue,C$zui,C$zun,0,this._buffer),C$zu_=!0));var C$zuh=this._minFifter,C$zul=this._magFifter,C$zue=0==this._wrapModeU?10497:33071,C$zud=0==this._wrapModeV?10497:33071,C$zuf=C$zup.isPOT(C$zui,C$zun);C$zuf?(this._mipmap||this._mipmaps?-1!==C$zuh||(C$zuh=9987):-1!==C$zuh||(C$zuh=9729),-1!==C$zul||(C$zul=9729),C$zut.texParameteri(this._type,10241,C$zuh),C$zut.texParameteri(this._type,10240,C$zul),C$zut.texParameteri(this._type,10242,C$zue),C$zut.texParameteri(this._type,10243,C$zud),this._mipmap&&C$zut.generateMipmap(this._type)):(-1!==C$zul||(C$zul=9729),C$zut.texParameteri(this._type,10241,C$zuh=-1!==C$zuh?C$zuh:9729),C$zut.texParameteri(this._type,10240,C$zul),C$zut.texParameteri(this._type,10242,33071),C$zut.texParameteri(this._type,10243,33071)),C$zuu&&C$zuc&&C$zuR.bindTexture(C$zut,C$zuu,C$zuc),this.memorySize=C$zu_?this._buffer.length:C$zuf?C$zui*C$zun*4*(1+1/3):C$zui*C$zun*4,this.src&&0<this.src.length&&(this._buffer=null,this._image=null),this._recreateLock=!1},C$zut.recreateResource=function(){(this._buffer||this._image||null!=this._src&&""!==this._src)&&(this._needReleaseAgain=!1,this._buffer||this._image||this._mipmaps?this._recreateLock||(this._createWebGlTexture(),this.completeCreate()):this._recreateLock=!0)},C$zut.onAsynLoaded=function(C$zut,C$zue,C$zui){var C$zun;(C$zun=C$zui?C$zui[0].call(this,C$zue):C$zun)&&(this._width=C$zun.width,this._height=C$zun.height,this._buffer=C$zun.data),this._src=C$zut,this._size=new C$zupe(this._width,this._height),this._conchTexture?alert("\u600e\u4e48\u7ed9runtime\u4f20\u9012datatexture\u6570\u636e"):this.activeResource(),this._endLoaded()},C$zut.getPixels=function(){return new Uint8Array(this._buffer)},C$zut.disposeResource=function(){this._recreateLock&&(this._needReleaseAgain=!0),this._source&&(C$zuI.mainContext.deleteTexture(this._source),this._source=null,this._buffer=null,this._image=null,this.memorySize=0)},C$zuo(0,C$zut,"src",function(){return this._src}),$a.create=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua){if(void 0===C$zun&&(C$zun=9729),void 0===C$zur&&(C$zur=9729),void 0===C$zus&&(C$zus=!0),!C$zut||C$zut.byteLength<C$zue*C$zui*4)throw"DataTexture2D create error";var C$zuo=new $a;return C$zuo.uri=C$zua,C$zuo._buffer=C$zut,C$zuo._width=C$zue,C$zuo._height=C$zui,C$zuo._mipmap=C$zus,C$zuo._magFifter=C$zun,C$zuo._minFifter=C$zur,C$zuo._size=new C$zupe(C$zuo._width,C$zuo._height),C$zuo._conchTexture?alert("\u600e\u4e48\u7ed9runtime\u4f20\u9012datatexture\u6570\u636e"):C$zuo.activeResource(),C$zuo},$a.load=function(C$zut,C$zue,C$zui,C$zun,C$zur){if(void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0),void 0===C$zun&&(C$zun=9729),void 0===C$zur&&(C$zur=9729),"mipmaps"===C$zuA.getFileExtension(C$zut)){var C$zus=C$zuy.loader.create(C$zut,null,null,$a,[function(C$zut){this._mipmaps=[];var C$zue=new Uint32Array(C$zut);this._width=C$zue[0];var C$zui=512;if(laya.d3.resource.DataTexture2D.lodasatlas&&(this._width*=2,C$zui=1024),this._width!=C$zui)throw"\u73b0\u5728\u53ea\u652f\u6301512x256\u7684\u73af\u5883\u8d34\u56fe\u3002\u5f53\u524d\u7684\u662f"+C$zue[0];this._height=C$zue[1];for(var C$zun=laya.d3.resource.DataTexture2D.lodasatlas?this._width/2:this._width,C$zur=this._height,C$zus=8;;){var C$zua=C$zun*C$zur*4;if(C$zus+C$zua>C$zut.byteLength)throw"load mipmaps data size error ";var C$zuo=new Uint8Array(C$zut,C$zus,C$zua);if(this._mipmaps.push(C$zuo),C$zus+=C$zua,1==C$zun&&1==C$zur)break;(C$zun/=2)<1&&(C$zun=1),(C$zur/=2)<1&&(C$zur=1)}return null}]);if(laya.d3.resource.DataTexture2D.lodasatlas){C$zus.simLodInfo=new Float32Array(40);for(var C$zua=0;C$zua<C$zus.simLodInfo.length;)C$zus.simLodInfo[C$zua]=($a.simLodRect[C$zua]+.5)/1024,C$zus.simLodInfo[++C$zua]=($a.simLodRect[C$zua]+.5)/256,C$zus.simLodInfo[++C$zua]=Math.max($a.simLodRect[C$zua]-1,.1)/1024,C$zus.simLodInfo[++C$zua]=Math.max($a.simLodRect[C$zua]-1.5,.1)/256,C$zua++}return C$zus}if("number"==typeof C$zue)return C$zuy.loader.create(C$zut,null,null,$a,[function(C$zut){return this._width=C$zue,this._height=C$zui,this._buffer=C$zut,null}]);if("function"==typeof C$zue)return C$zuy.loader.create(C$zut,null,null,$a,[C$zue]);throw new Error("unknown params.")},$a.lodasatlas=!1,C$zus($a,["simLodRect",function(){return this.simLodRect=new Uint32Array([0,0,512,256,512,0,256,128,768,0,128,64,896,0,64,32,960,0,32,16,992,0,16,8,1008,0,8,4,1016,0,4,2,1020,0,2,1,1022,0,1,1])}]),$a}(),C$zuVe=function(){function $p(){this._numberVertices=0,this._numberIndices=0,this._vertexBuffer=null,this._indexBuffer=null,$p.__super.call(this)}C$zur($p,"laya.d3.resource.models.PrimitiveMesh",C$zuEe);var C$zut=$p.prototype;return C$zuy.imps(C$zut,{"laya.d3.core.render.IRenderable":!0}),C$zut._getVertexBuffer=function(C$zut){return 0===(C$zut=void 0===C$zut?0:C$zut)?this._vertexBuffer:null},C$zut._getVertexBuffers=function(){return null},C$zut._getIndexBuffer=function(){return this._indexBuffer},C$zut._getPositions=function(){var C$zut,C$zue=[],C$zui=this._vertexBuffer.vertexDeclaration.getVertexElements(),C$zun=0;for(C$zun=0;C$zun<C$zui.length;C$zun++){var C$zur=C$zui[C$zun];if("vector3"===C$zur.elementFormat&&0===C$zur.elementUsage){C$zut=C$zur;break}}var C$zus=this._vertexBuffer.getData();for(C$zun=0;C$zun<C$zus.length;C$zun+=this._vertexBuffer.vertexDeclaration.vertexStride/4){var C$zua=C$zun+C$zut.offset/4,C$zua=new C$zuE(C$zus[C$zua+0],C$zus[C$zua+1],C$zus[C$zua+2]);C$zue.push(C$zua)}return C$zue},C$zut.getRenderElement=function(C$zut){return this},C$zut.getRenderElementsCount=function(){return 1},C$zut.disposeResource=function(){this._vertexBuffer&&(this._vertexBuffer._removeReference(),this._vertexBuffer=null),this._indexBuffer&&(this._indexBuffer._removeReference(),this._indexBuffer=null),this.memorySize=0},C$zut._beforeRender=function(C$zut){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0},C$zut._render=function(C$zut){C$zuI.mainContext.drawElements(4,this._numberIndices,5123,0),C$zuC.drawCall++,C$zuC.trianglesFaces+=this._numberIndices/3},C$zuo(0,C$zut,"_vertexBufferCount",function(){return 1}),C$zuo(0,C$zut,"triangleCount",function(){return this._indexBuffer.indexCount/3}),$p}(),C$zuke=function(){function $p(){this._materials=null,this._subMeshes=null,this._vertexBuffers=null,this._indexBuffer=null,this._boneNames=null,this._inverseBindPoses=null,this._skinnedDatas=null,$p.__super.call(this),this._subMeshes=[],this._materials=[],this._vertexBuffers=[]}C$zur($p,"laya.d3.resource.models.Mesh",C$zuEe);var C$zut=$p.prototype;return C$zut._getPositions=function(){var C$zut,C$zue,C$zui,C$zun,C$zur,C$zus=[],C$zua=0,C$zuo=0,C$zuh=0;if(0!==this._vertexBuffers.length){var C$zul=this._vertexBuffers.length;for(C$zua=0;C$zua<C$zul;C$zua++){for(C$zui=(C$zut=this._vertexBuffers[C$zua]).vertexDeclaration.getVertexElements(),C$zuo=0;C$zuo<C$zui.length;C$zuo++)if("vector3"===(C$zun=C$zui[C$zuo]).elementFormat&&0===C$zun.elementUsage){C$zue=C$zun;break}for(C$zur=C$zut.getData(),C$zuo=0;C$zuo<C$zur.length;C$zuo+=C$zut.vertexDeclaration.vertexStride/4)C$zuh=C$zuo+C$zue.offset/4,C$zus.push(new C$zuE(C$zur[C$zuh+0],C$zur[C$zuh+1],C$zur[C$zuh+2]))}}else{var C$zuu=this._subMeshes.length;for(C$zua=0;C$zua<C$zuu;C$zua++){for(C$zui=(C$zut=this._subMeshes[C$zua]._getVertexBuffer()).vertexDeclaration.getVertexElements(),C$zuo=0;C$zuo<C$zui.length;C$zuo++)if("vector3"===(C$zun=C$zui[C$zuo]).elementFormat&&0===C$zun.elementUsage){C$zue=C$zun;break}for(C$zur=C$zut.getData(),C$zuo=0;C$zuo<C$zur.length;C$zuo+=C$zut.vertexDeclaration.vertexStride/4)C$zuh=C$zuo+C$zue.offset/4,C$zus.push(new C$zuE(C$zur[C$zuh+0],C$zur[C$zuh+1],C$zur[C$zuh+2]))}}return C$zus},C$zut._setSubMeshes=function(C$zut){this._subMeshes=C$zut,this._subMeshCount=C$zut.length;for(var C$zue=0;C$zue<this._subMeshCount;C$zue++)C$zut[C$zue]._indexInMesh=C$zue;this._positions=this._getPositions(),this._generateBoundingObject()},C$zut.onAsynLoaded=function(C$zut,C$zue,C$zui){var C$zun=C$zue[0],C$zue=C$zue[1];C$zuqt.read(C$zun,this,this._materials,this._subMeshes,C$zue),this.completeCreate(),this._endLoaded()},C$zut.getSubMesh=function(C$zut){return this._subMeshes[C$zut]},C$zut.getSubMeshCount=function(){return this._subMeshes.length},C$zut.getRenderElementsCount=function(){return this._subMeshes.length},C$zut.getRenderElement=function(C$zut){return this._subMeshes[C$zut]},C$zut.disposeResource=function(){for(var C$zut=0;C$zut<this._subMeshes.length;C$zut++)this._subMeshes[C$zut].dispose();this._materials=null,this._subMeshes=null,this._vertexBuffers=null,this._indexBuffer=null,this._boneNames=null,this._inverseBindPoses=null},C$zuo(0,C$zut,"materials",function(){return this._materials.slice()}),C$zuo(0,C$zut,"InverseAbsoluteBindPoses",function(){return this._inverseBindPoses}),$p.load=function(C$zut){return C$zuy.loader.create(C$zut,null,null,$p)},$p}(),C$zuUe=(function(){function $K(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh){this._alreadyResolved=!1,this._surfaceFormat=0,this._surfaceType=0,this._depthStencilFormat=0,this._frameBuffer=null,this._depthStencilBuffer=null,void 0===C$zui&&(C$zui=6408),void 0===C$zun&&(C$zun=5121),void 0===C$zur&&(C$zur=33189),void 0===C$zus&&(C$zus=!1),void 0===C$zua&&(C$zua=!1),void 0===C$zuo&&(C$zuo=-1),void 0===C$zuh&&(C$zuh=-1),$K.__super.call(this),this._type=3553,this._width=C$zut,this._height=C$zue,this._size=new C$zupe(C$zut,C$zue),this._surfaceFormat=C$zui,this._surfaceType=C$zun,this._depthStencilFormat=C$zur,C$zum.isConchWebGL&&34041===this._depthStencilFormat&&(this._depthStencilFormat=33189),this._mipmap=C$zus,this._repeat=C$zua,this._minFifter=C$zuo,this._magFifter=C$zuh,this.activeResource(),this._alreadyResolved=!0}C$zur($K,"laya.d3.resource.RenderTexture",C$zuDe);var C$zut=$K.prototype;C$zut.recreateResource=function(){var C$zut=C$zuI.mainContext;this._frameBuffer=C$zut.createFramebuffer(),this._source=C$zut.createTexture();var C$zue=C$zuR.curBindTexTarget,C$zui=C$zuR.curBindTexValue;C$zuR.bindTexture(C$zut,this._type,this._source),C$zut.texImage2D(this._type,0,6408,this._width,this._height,0,this._surfaceFormat,this._surfaceType,null);var C$zun=this._minFifter,C$zur=this._magFifter,C$zus=this._repeat?10497:33071;if(C$zup.isPOT(this._width,this._height)?(this._mipmap?-1!==C$zun||(C$zun=9987):-1!==C$zun||(C$zun=9729),-1!==C$zur||(C$zur=9729),C$zut.texParameteri(this._type,10241,C$zun),C$zut.texParameteri(this._type,10240,C$zur),C$zut.texParameteri(this._type,10242,C$zus),C$zut.texParameteri(this._type,10243,C$zus),this._mipmap&&C$zut.generateMipmap(this._type)):(-1!==C$zur||(C$zur=9729),C$zut.texParameteri(this._type,10241,C$zun=-1!==C$zun?C$zun:9729),C$zut.texParameteri(this._type,10240,C$zur),C$zut.texParameteri(this._type,10242,33071),C$zut.texParameteri(this._type,10243,33071)),C$zue&&C$zui&&C$zuR.bindTexture(C$zut,C$zue,C$zui),C$zut.bindFramebuffer(36160,this._frameBuffer),this._depthStencilFormat)switch(this._depthStencilBuffer=C$zut.createRenderbuffer(),C$zut.bindRenderbuffer(36161,this._depthStencilBuffer),C$zut.renderbufferStorage(36161,this._depthStencilFormat,this._width,this._height),C$zut.bindRenderbuffer(36161,null),this._depthStencilFormat){case 33189:C$zut.framebufferRenderbuffer(36160,36096,36161,this._depthStencilBuffer);break;case 36168:C$zut.framebufferRenderbuffer(36160,36128,36161,this._depthStencilBuffer);break;case 34041:C$zut.framebufferRenderbuffer(36160,33306,36161,this._depthStencilBuffer)}C$zut.framebufferTexture2D(36160,36064,3553,this._source,0),C$zut.bindFramebuffer(36160,null),this.memorySize=this._width*this._height*4,this.completeCreate()},C$zut.start=function(){C$zuI.mainContext.bindFramebuffer(36160,this.frameBuffer),($K._currentRenderTarget=this)._alreadyResolved=!1},C$zut.end=function(){C$zuI.mainContext.bindFramebuffer(36160,null),$K._currentRenderTarget=null,this._alreadyResolved=!0},C$zut.getData=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zuI.mainContext;if(C$zur.bindFramebuffer(36160,this._frameBuffer),36053!==C$zur.checkFramebufferStatus(36160))return C$zur.bindFramebuffer(36160,null),null;var C$zus=new Uint8Array(this._width*this._height*4);return C$zur.readPixels(C$zut,C$zue,C$zui,C$zun,this._surfaceFormat,this._surfaceType,C$zus),C$zur.bindFramebuffer(36160,null),C$zus},C$zut.disposeResource=function(){var C$zut;this._frameBuffer&&((C$zut=C$zuI.mainContext).deleteTexture(this._source),C$zut.deleteFramebuffer(this._frameBuffer),C$zut.deleteRenderbuffer(this._depthStencilBuffer),this._source=null,this._frameBuffer=null,this._depthStencilBuffer=null,this.memorySize=0)},C$zuo(0,C$zut,"surfaceFormat",function(){return this._surfaceFormat}),C$zuo(0,C$zut,"surfaceType",function(){return this._surfaceType}),C$zuo(0,C$zut,"depthStencilFormat",function(){return this._depthStencilFormat}),C$zuo(0,C$zut,"source",function(){return this._alreadyResolved?C$zuy.superGet(C$zuDe,this,"source"):null}),C$zuo(0,C$zut,"depthStencilBuffer",function(){return this._depthStencilBuffer}),C$zuo(0,C$zut,"frameBuffer",function(){return this._frameBuffer}),$K._currentRenderTarget=null}(),function(){function $p(C$zut){this._color=null,this._pixels=null,$p.__super.call(this),this._type=3553,this._width=1,this._height=1,this._size=new C$zupe(this.width,this.height),this._color=C$zut,this._pixels=new Uint8Array([255*C$zut.x,255*C$zut.y,255*C$zut.z,255*C$zut.w]),this.uri="SolidColorTexture2D_"+this.id}C$zur($p,"laya.d3.resource.SolidColorTexture2D",C$zuDe);var C$zut=$p.prototype;return C$zut._createWebGlTexture=function(){var C$zut=C$zuI.mainContext,C$zue=this._source=C$zut.createTexture(),C$zui=this._width,C$zun=this._height,C$zur=C$zuR.curBindTexTarget,C$zus=C$zuR.curBindTexValue;C$zuR.bindTexture(C$zut,this._type,C$zue),C$zut.texImage2D(this._type,0,6408,C$zui,C$zun,0,6408,5121,this._pixels);var C$zue=this._minFifter,C$zua=this._magFifter,C$zuo=this._repeat?10497:33071,C$zuh=C$zup.isPOT(C$zui,C$zun);C$zuh?(this._mipmap?-1!==C$zue||(C$zue=9987):-1!==C$zue||(C$zue=9729),-1!==C$zua||(C$zua=9729),C$zut.texParameteri(this._type,10241,C$zue),C$zut.texParameteri(this._type,10240,C$zua),C$zut.texParameteri(this._type,10242,C$zuo),C$zut.texParameteri(this._type,10243,C$zuo),this._mipmap&&C$zut.generateMipmap(this._type)):(-1!==C$zua||(C$zua=9729),C$zut.texParameteri(this._type,10241,C$zue=-1!==C$zue?C$zue:9729),C$zut.texParameteri(this._type,10240,C$zua),C$zut.texParameteri(this._type,10242,33071),C$zut.texParameteri(this._type,10243,33071)),C$zur&&C$zus&&C$zuR.bindTexture(C$zut,C$zur,C$zus),this.memorySize=C$zuh?C$zui*C$zun*4*(1+1/3):C$zui*C$zun*4},C$zut.recreateResource=function(){this._createWebGlTexture(),this.completeCreate()},C$zut.disposeResource=function(){this._source&&(C$zuI.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0)},C$zus($p,["magentaTexture",function(){var C$zut=new $p(new C$zuoe(1,0,1,1));return C$zut.lock=!0,this.magentaTexture=C$zut},"grayTexture",function(){var C$zut=new $p(new C$zuoe(.5,.5,.5,1));return C$zut.lock=!0,this.grayTexture=C$zut}]),$p}()),C$zuHe=function(){function $L(C$zut,C$zue,C$zui,C$zun){this._canRead=!1,this._image=null,this._pixels=null,void 0===C$zut&&(C$zut=!1),void 0===C$zue&&(C$zue=!0),void 0===C$zui&&(C$zui=6408),void 0===C$zun&&(C$zun=!0),$L.__super.call(this),this._type=3553,this._repeat=C$zue,this._canRead=C$zut,this._format=C$zui,this._mipmap=C$zun}C$zur($L,"laya.d3.resource.Texture2D",C$zuDe);var C$zut=$L.prototype;return C$zut._createWebGlTexture=function(){if(!this._image)throw"create GLTextur err:no data:"+this._image;var C$zut=C$zuI.mainContext,C$zue=this._source=C$zut.createTexture(),C$zui=this._width,C$zun=this._height,C$zur=C$zuR.curBindTexTarget,C$zus=C$zuR.curBindTexValue;switch(C$zuR.bindTexture(C$zut,this._type,C$zue),this._format){case 6407:case 6408:this._canRead?C$zut.texImage2D(this._type,0,this._format,C$zui,C$zun,0,this._format,5121,this._pixels):this._image&&this._image instanceof laya.webgl.resource.WebGLImage?C$zut.texImage2D(this._type,0,this._image._format,C$zui,C$zun,0,this._image._format,5121,this._image.atlasSource):C$zut.texImage2D(this._type,0,this._format,this._format,5121,this._image);break;case C$zuI.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:C$zut.compressedTexImage2D(this._type,0,this._format,this._width,this._height,0,this._image);break;default:console.error("\u6536\u5230\u5176\u4ed6\u7684\u7eb9\u7406\u7c7b\u578b\uff1a",this._format)}var C$zue=this._minFifter,C$zua=this._magFifter,C$zuo=this._repeat?10497:33071,C$zuh=0==this._wrapModeU?10497:33071,C$zuu=0==this._wrapModeV?10497:33071,C$zul=C$zup.isPOT(C$zui,C$zun);C$zul?(this._mipmap?-1!==C$zue||(C$zue=9987):-1!==C$zue||(C$zue=9729),-1!==C$zua||(C$zua=9729),C$zut.texParameteri(this._type,10241,C$zue),C$zut.texParameteri(this._type,10240,C$zua),C$zut.texParameteri(this._type,10242,C$zuo),C$zut.texParameteri(this._type,10243,C$zuo),C$zut.texParameteri(this._type,10242,C$zuh),C$zut.texParameteri(this._type,10243,C$zuu),this._mipmap&&C$zut.generateMipmap(this._type)):(-1!==C$zua||(C$zua=9729),C$zut.texParameteri(this._type,10241,C$zue=-1!==C$zue?C$zue:9729),C$zut.texParameteri(this._type,10240,C$zua),C$zut.texParameteri(this._type,10242,33071),C$zut.texParameteri(this._type,10243,33071)),C$zur&&C$zus&&C$zuR.bindTexture(C$zut,C$zur,C$zus),this._image.onload=null,this._image=null,this.memorySize=C$zul?C$zui*C$zun*4*(1+1/3):C$zui*C$zun*4},C$zut.recreateResource=function(){this._createWebGlTexture(),this.completeCreate()},C$zut.onAsynLoaded=function(C$zut,C$zue,C$zui){var C$zun;switch(C$zui&&(void 0!==(C$zun=C$zui[0])&&(this._canRead=C$zun),void 0!==(C$zun=C$zui[1])&&(this._repeat=C$zun),void 0!==(C$zun=C$zui[2])&&(this._format=C$zun),void 0!==(C$zun=C$zui[3])&&(this._mipmap=C$zun),void 0!==(C$zun=C$zui.wrapModeU)&&(this._wrapModeU=C$zun),void 0!==(C$zun=C$zui.wrapModeV)&&(this._wrapModeV=C$zun)),this._format){case 6407:case 6408:var C$zur=(this._image=C$zue).width,C$zus=C$zue.height;this._width=C$zur,this._height=C$zus,this._size=new C$zupe(C$zur,C$zus),this._canRead&&(C$zum.isConchApp?C$zue instanceof C$zua.HTMLElement&&(this._pixels=new Uint8Array(C$zue.getImageData(0,0,C$zur,C$zus))):(C$zuw.canvas.size(C$zur,C$zus),C$zuw.canvas.clear(),C$zuw.context.drawImage(C$zue,0,0,C$zur,C$zus),this._pixels=new Uint8Array(C$zuw.context.getImageData(0,0,C$zur,C$zus).data.buffer)));break;case C$zuI.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:C$zur=new C$zu$(C$zue);C$zur.readUTFBytes(4),C$zur.readUTFBytes(2),C$zur.getInt16(),C$zur.endian="bigEndian",this._width=C$zur.getInt16(),this._height=C$zur.getInt16(),this._size=new C$zupe(this._width,this._height),C$zur.getInt16(),C$zur.getInt16(),this._image=new Uint8Array(C$zue,C$zur.pos)}this.recreateResource(),this._endLoaded()},C$zut.getPixels=function(){if(this._canRead)return this._pixels;throw new Error("Texture2D: must set texture canRead is true.")},C$zut.disposeResource=function(){this._source&&(C$zuI.mainContext.deleteTexture(this._source),this._source=null,this._image=null,this.memorySize=0)},C$zuo(0,C$zut,"_src",function(){return this.url}),C$zuo(0,C$zut,"src",function(){return this.url}),$L.load=function(C$zut){return C$zuy.loader.create(C$zut,null,null,$L)},$L}(),C$zuWe=function(C$zue){function $h(C$zut,C$zue){$h.__super.call(this),void 0===C$zut&&(C$zut=.3),void 0===C$zue&&(C$zue=1e3),this._tempVector3=new C$zuE,this._position=new C$zuE,this._up=new C$zuE,this._forward=new C$zuE,this._right=new C$zuE,this._fieldOfView=60,this._useUserProjectionMatrix=!1,this._orthographic=!1,this._viewportExpressedInClipSpace=!0,this._renderTargetSize=C$zupe.fullScreen,this._orthographicVerticalSize=10,this.renderingOrder=0,this._nearPlane=C$zut,this._farPlane=C$zue,this.cullingMask=2147483647,this.clearFlag=0,this.useOcclusionCulling=!0,this._calculateProjectionMatrix(),C$zuy.stage.on("resize",this,this._onScreenSizeChanged)}C$zur($h,"laya.d3.core.BaseCamera",C$zue);var C$zut=$h.prototype;return C$zut._sortCamerasByRenderingOrder=function(){if(this._displayedInStage)for(var C$zut=this.scene._cameraPool,C$zue=C$zut.length-1,C$zui=0;C$zui<C$zue;C$zui++){var C$zun;C$zut[C$zui].renderingOrder>C$zut[C$zue].renderingOrder&&(C$zun=C$zut[C$zui],C$zut[C$zui]=C$zut[C$zue],C$zut[C$zue]=C$zun)}},C$zut._calculateProjectionMatrix=function(){},C$zut._onScreenSizeChanged=function(){this._calculateProjectionMatrix()},C$zut._prepareCameraToRender=function(){C$zuO._currentCameraCullingMask=this.cullingMask;var C$zut=this._shaderValues;C$zut.setValue(0,this.transform.position.elements),C$zut.setValue(5,this.forward.elements),C$zut.setValue(6,this.up.elements)},C$zut._prepareCameraViewProject=function(C$zut,C$zue){var C$zui=this._shaderValues;C$zui.setValue(1,C$zut.elements),C$zui.setValue(2,C$zue.elements)},C$zut._renderCamera=function(C$zut,C$zue,C$zui){},C$zut.addLayer=function(C$zut){29!==C$zut.number&&30!=C$zut.number&&(this.cullingMask=this.cullingMask|C$zut.mask)},C$zut.removeLayer=function(C$zut){29!==C$zut.number&&30!=C$zut.number&&(this.cullingMask=this.cullingMask&~C$zut.mask)},C$zut.addAllLayers=function(){this.cullingMask=2147483647},C$zut.removeAllLayers=function(){this.cullingMask=0|C$zuO.getLayerByNumber(29).mask|C$zuO.getLayerByNumber(30).mask},C$zut.ResetProjectionMatrix=function(){this._useUserProjectionMatrix=!1,this._calculateProjectionMatrix()},C$zut.moveForward=function(C$zut){this._tempVector3.elements[0]=this._tempVector3.elements[1]=0,this._tempVector3.elements[2]=C$zut,this.transform.translate(this._tempVector3)},C$zut.moveRight=function(C$zut){this._tempVector3.elements[1]=this._tempVector3.elements[2]=0,this._tempVector3.elements[0]=C$zut,this.transform.translate(this._tempVector3)},C$zut.moveVertical=function(C$zut){this._tempVector3.elements[0]=this._tempVector3.elements[2]=0,this._tempVector3.elements[1]=C$zut,this.transform.translate(this._tempVector3,!1)},C$zut._addSelfRenderObjects=function(){var C$zut=this.scene._cameraPool,C$zue=C$zut.length;if(0<C$zue){for(var C$zui=C$zue-1;0<=C$zui;C$zui--)if(this.renderingOrder<=C$zut[C$zui].renderingOrder){C$zut.splice(C$zui+1,0,this);break}}else C$zut.push(this),this.scene.conchModel&&this.scene.conchModel.setCurrentCamera(this.conchModel)},C$zut._clearSelfRenderObjects=function(){var C$zut=this.scene._cameraPool;C$zut.splice(C$zut.indexOf(this),1)},C$zut.destroy=function(C$zut){void 0===C$zut&&(C$zut=!0),this._sky&&this._sky.destroy(),this.renderTarget=null,C$zuy.stage.off("resize",this,this._onScreenSizeChanged),C$zue.prototype.destroy.call(this,C$zut)},C$zuo(0,C$zut,"sky",function(){return this._sky},function(C$zut){(this._sky=C$zut)._ownerCamera=this}),C$zuo(0,C$zut,"forward",function(){var C$zut=this.transform.worldMatrix.elements,C$zue=this._forward.elements;return C$zue[0]=-C$zut[8],C$zue[1]=-C$zut[9],C$zue[2]=-C$zut[10],this._forward}),C$zuo(0,C$zut,"position",function(){var C$zut=this.transform.worldMatrix.elements,C$zue=this._position.elements;return C$zue[0]=C$zut[12],C$zue[1]=C$zut[13],C$zue[2]=C$zut[14],this._position}),C$zuo(0,C$zut,"renderTarget",function(){return this._renderTarget},function(C$zut){null!=(this._renderTarget=C$zut)&&(this._renderTargetSize=C$zut.size)}),C$zuo(0,C$zut,"up",function(){var C$zut=this.transform.worldMatrix.elements,C$zue=this._up.elements;return C$zue[0]=C$zut[4],C$zue[1]=C$zut[5],C$zue[2]=C$zut[6],this._up}),C$zuo(0,C$zut,"right",function(){var C$zut=this.transform.worldMatrix.elements,C$zue=this._right.elements;return C$zue[0]=C$zut[0],C$zue[1]=C$zut[1],C$zue[2]=C$zut[2],this._right}),C$zuo(0,C$zut,"renderTargetSize",function(){return this._renderTargetSize},function(C$zut){null!=this.renderTarget&&this._renderTargetSize,this._renderTargetSize=C$zut,this._calculateProjectionMatrix()}),C$zuo(0,C$zut,"fieldOfView",function(){return this._fieldOfView},function(C$zut){this._fieldOfView=C$zut,this._calculateProjectionMatrix()}),C$zuo(0,C$zut,"nearPlane",function(){return this._nearPlane},function(C$zut){this._nearPlane=C$zut,this._calculateProjectionMatrix()}),C$zuo(0,C$zut,"farPlane",function(){return this._farPlane},function(C$zut){this._farPlane=C$zut,this._calculateProjectionMatrix()}),C$zuo(0,C$zut,"orthographic",function(){return this._orthographic},function(C$zut){this._orthographic=C$zut,this._calculateProjectionMatrix()}),C$zuo(0,C$zut,"orthographicVerticalSize",function(){return this._orthographicVerticalSize},function(C$zut){this._orthographicVerticalSize=C$zut,this._calculateProjectionMatrix()}),C$zuo(0,C$zut,"renderingOrder",function(){return this._renderingOrder},function(C$zut){this._renderingOrder=C$zut,this._sortCamerasByRenderingOrder()}),$h.CAMERAPOS=0,$h.VIEWMATRIX=1,$h.PROJECTMATRIX=2,$h.VPMATRIX=3,$h.VPMATRIX_NO_TRANSLATE=4,$h.CAMERADIRECTION=5,$h.CAMERAUP=6,$h.ENVIRONMENTDIFFUSE=7,$h.ENVIRONMENTSPECULAR=8,$h.SIMLODINFO=9,$h.DIFFUSEIRRADMATR=10,$h.DIFFUSEIRRADMATG=11,$h.DIFFUSEIRRADMATB=12,$h.HDREXPOSURE=13,$h.RENDERINGTYPE_DEFERREDLIGHTING="DEFERREDLIGHTING",$h.RENDERINGTYPE_FORWARDRENDERING="FORWARDRENDERING",$h.CLEARFLAG_SOLIDCOLOR=0,$h.CLEARFLAG_SKY=1,$h.CLEARFLAG_DEPTHONLY=2,$h.CLEARFLAG_NONE=3,C$zus($h,["_invertYScaleMatrix",function(){return this._invertYScaleMatrix=new C$zuee(1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1)},"_invertYProjectionMatrix",function(){return this._invertYProjectionMatrix=new C$zuee},"_invertYProjectionViewMatrix",function(){return this._invertYProjectionViewMatrix=new C$zuee}]),$h}(C$zuRe),C$zuze=function(C$zui){function $p(C$zut){this._render=null,this._geometryFilter=null,$p.__super.call(this,C$zut)}C$zur($p,"laya.d3.core.RenderableSprite3D",C$zui);var C$zut=$p.prototype;return C$zut._addToInitStaticBatchManager=function(){},C$zut._setBelongScene=function(C$zut){C$zui.prototype._setBelongScene.call(this,C$zut),C$zut._renderableSprite3Ds.push(this),this._render._applyLightMapParams()},C$zut._setUnBelongScene=function(){var C$zut=this._scene._renderableSprite3Ds,C$zue=C$zut.indexOf(this);C$zut.splice(C$zue,1),this._render._removeShaderDefine(laya.d3.core.RenderableSprite3D.SAHDERDEFINE_LIGHTMAP),C$zui.prototype._setUnBelongScene.call(this)},C$zut._update=function(C$zut){(C$zut.owner=this)._activeInHierarchy&&(this._updateComponents(C$zut),this._render._updateOctreeNode(),this._lateUpdateComponents(C$zut),C$zuC.spriteCount++,this._childs.length&&this._updateChilds(C$zut))},C$zut.destroy=function(C$zut){C$zui.prototype.destroy.call(this,C$zut=void 0===C$zut?!0:C$zut),this._render._destroy(),this._render=null},$p.__init__=function(){$p.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV=$p.shaderDefines.registerDefine("SCALEOFFSETLIGHTINGMAPUV"),$p.SAHDERDEFINE_LIGHTMAP=$p.shaderDefines.registerDefine("LIGHTMAP")},$p.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV=2,$p.SAHDERDEFINE_LIGHTMAP=4,$p.LIGHTMAPSCALEOFFSET=2,$p.LIGHTMAP=3,C$zus($p,["shaderDefines",function(){return this.shaderDefines=new C$zuue}]),$p}(C$zuRe),C$zuGe=(function(){function $P(C$zut,C$zue,C$zui){this._long=NaN,this._width=NaN,this._height=NaN,void 0===C$zut&&(C$zut=1),void 0===C$zue&&(C$zue=1),void 0===C$zui&&(C$zui=1),$P.__super.call(this),this._long=C$zut,this._width=C$zue,this._height=C$zui,this.activeResource(),this._positions=this._getPositions(),this._generateBoundingObject()}C$zur($P,"laya.d3.resource.models.BoxMesh",C$zuVe);var C$zut=$P.prototype;C$zut.recreateResource=function(){this.disposeResource(),this._numberVertices=24,this._numberIndices=36;var C$zut=C$zuPt.vertexDeclaration,C$zue=(C$zut.vertexStride,this._long/2),C$zui=this._height/2,C$zun=this._width/2,C$zue=new Float32Array([-C$zue,C$zui,-C$zun,0,1,0,0,0,C$zue,C$zui,-C$zun,0,1,0,1,0,C$zue,C$zui,C$zun,0,1,0,1,1,-C$zue,C$zui,C$zun,0,1,0,0,1,-C$zue,-C$zui,-C$zun,0,-1,0,0,1,C$zue,-C$zui,-C$zun,0,-1,0,1,1,C$zue,-C$zui,C$zun,0,-1,0,1,0,-C$zue,-C$zui,C$zun,0,-1,0,0,0,-C$zue,C$zui,-C$zun,-1,0,0,0,0,-C$zue,C$zui,C$zun,-1,0,0,1,0,-C$zue,-C$zui,C$zun,-1,0,0,1,1,-C$zue,-C$zui,-C$zun,-1,0,0,0,1,C$zue,C$zui,-C$zun,1,0,0,1,0,C$zue,C$zui,C$zun,1,0,0,0,0,C$zue,-C$zui,C$zun,1,0,0,0,1,C$zue,-C$zui,-C$zun,1,0,0,1,1,-C$zue,C$zui,C$zun,0,0,1,0,0,C$zue,C$zui,C$zun,0,0,1,1,0,C$zue,-C$zui,C$zun,0,0,1,1,1,-C$zue,-C$zui,C$zun,0,0,1,0,1,-C$zue,C$zui,-C$zun,0,0,-1,1,0,C$zue,C$zui,-C$zun,0,0,-1,0,0,C$zue,-C$zui,-C$zun,0,0,-1,0,1,-C$zue,-C$zui,-C$zun,0,0,-1,1,1]),C$zui=new Uint16Array([0,1,2,2,3,0,4,7,6,6,5,4,8,9,10,10,11,8,12,15,14,14,13,12,16,17,18,18,19,16,20,23,22,22,21,20]);this._vertexBuffer=new C$zuFe(C$zut,this._numberVertices,35044,!0),this._indexBuffer=new C$zuNe("ushort",this._numberIndices,35044,!0),this._vertexBuffer._addReference(),this._indexBuffer._addReference(),this._vertexBuffer.setData(C$zue),this._indexBuffer.setData(C$zui),this.memorySize=2*(this._vertexBuffer._byteLength+this._indexBuffer._byteLength),this.completeCreate()},C$zuo(0,C$zut,"long",function(){return this._long},function(C$zut){this._long!==C$zut&&(this._long=C$zut,this.releaseResource(),this.activeResource())}),C$zuo(0,C$zut,"width",function(){return this._width},function(C$zut){this._width!==C$zut&&(this._width=C$zut,this.releaseResource(),this.activeResource())}),C$zuo(0,C$zut,"height",function(){return this._height},function(C$zut){this._height!==C$zut&&(this._height=C$zut,this.releaseResource(),this.activeResource())})}(),function(){function $L(C$zut,C$zue,C$zui,C$zun){this._long=NaN,this._width=NaN,this._stacks=0,void(this._slices=0)===C$zut&&(C$zut=10),void 0===C$zue&&(C$zue=10),void 0===C$zui&&(C$zui=10),void 0===C$zun&&(C$zun=10),$L.__super.call(this),this._long=C$zut,this._width=C$zue,this._stacks=C$zui,this._slices=C$zun,this.activeResource(),this._positions=this._getPositions(),this._generateBoundingObject()}C$zur($L,"laya.d3.resource.models.PlaneMesh",C$zuVe);var C$zut=$L.prototype;C$zut.recreateResource=function(){this.disposeResource(),this._numberVertices=(this._stacks+1)*(this._slices+1),this._numberIndices=this._stacks*this._slices*2*3;for(var C$zut=new Uint16Array(this._numberIndices),C$zue=C$zuPt.vertexDeclaration,C$zui=C$zue.vertexStride/4,C$zun=new Float32Array(this._numberVertices*C$zui),C$zur=this._long/2,C$zus=this._width/2,C$zuu=this._long/this._stacks,C$zuc=this._width/this._slices,C$zua=0,C$zuo=0;C$zuo<=this._slices;C$zuo++)for(var C$zuh=0;C$zuh<=this._stacks;C$zuh++)C$zun[C$zua++]=C$zuh*C$zuu-C$zur,C$zun[C$zua++]=0,C$zun[C$zua++]=C$zuo*C$zuc-C$zus,C$zun[C$zua++]=0,C$zun[C$zua++]=1,C$zun[C$zua++]=0,C$zun[C$zua++]=+C$zuh/this._stacks,C$zun[C$zua++]=+C$zuo/this._slices;var C$zul=0;for(C$zuo=0;C$zuo<this._slices;C$zuo++)for(C$zuh=0;C$zuh<this._stacks;C$zuh++)C$zut[C$zul++]=(C$zuo+1)*(this._stacks+1)+C$zuh,C$zut[C$zul++]=C$zuo*(this._stacks+1)+C$zuh,C$zut[C$zul++]=(C$zuo+1)*(this._stacks+1)+C$zuh+1,C$zut[C$zul++]=C$zuo*(this._stacks+1)+C$zuh,C$zut[C$zul++]=C$zuo*(this._stacks+1)+C$zuh+1,C$zut[C$zul++]=(C$zuo+1)*(this._stacks+1)+C$zuh+1;this._vertexBuffer=new C$zuFe(C$zue,this._numberVertices,35044,!0),this._vertexBuffer._addReference(),this._indexBuffer=new C$zuNe("ushort",this._numberIndices,35044,!0),this._indexBuffer._addReference(),this._vertexBuffer.setData(C$zun),this._indexBuffer.setData(C$zut),this.memorySize=2*(this._vertexBuffer._byteLength+this._indexBuffer._byteLength),this.completeCreate()},C$zuo(0,C$zut,"long",function(){return this._long},function(C$zut){this._long!==C$zut&&(this._long=C$zut,this.releaseResource(),this.activeResource())}),C$zuo(0,C$zut,"width",function(){return this._width},function(C$zut){this._width!==C$zut&&(this._width=C$zut,this.releaseResource(),this.activeResource())}),C$zuo(0,C$zut,"stacks",function(){return this._stacks},function(C$zut){this._stacks!==C$zut&&(this._stacks=C$zut,this.releaseResource(),this.activeResource())}),C$zuo(0,C$zut,"slices",function(){return this._slices},function(C$zut){this._slices!==C$zut&&(this._slices=C$zut,this.releaseResource(),this.activeResource())})}(),function(){function $k(C$zut,C$zue,C$zui){void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=.3),void 0===C$zui&&(C$zui=1e3),this._viewMatrix=new C$zuee,this._projectionMatrix=new C$zuee,this._projectionViewMatrix=new C$zuee,this._viewport=new C$zuhe(0,0,0,0),this._normalizedViewport=new C$zuhe(0,0,1,1),this._aspectRatio=C$zut,this._boundFrustumUpdate=!0,this._boundFrustum=new C$zuZt(C$zuee.DEFAULT),$k.__super.call(this,C$zue,C$zui),this.transform.on("worldmatrixneedchanged",this,this._onWorldMatrixChanged)}C$zur($k,"laya.d3.core.Camera",C$zuWe);var C$zut=$k.prototype;return C$zut._onWorldMatrixChanged=function(){this._boundFrustumUpdate=!0},C$zut._parseCustomProps=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zui.clearColor;this.clearColor=new C$zuoe(C$zur[0],C$zur[1],C$zur[2],C$zur[3]);C$zur=C$zui.viewport;this.normalizedViewport=new C$zuhe(C$zur[0],C$zur[1],C$zur[2],C$zur[3])},C$zut._calculateProjectionMatrix=function(){var C$zut,C$zue;this._useUserProjectionMatrix||(this._orthographic?(C$zut=this.orthographicVerticalSize*this.aspectRatio*.5,C$zue=.5*this.orthographicVerticalSize,C$zuee.createOrthoOffCenterRH(-C$zut,C$zut,-C$zue,C$zue,this.nearPlane,this.farPlane,this._projectionMatrix)):C$zuee.createPerspective(3.1416*this.fieldOfView/180,this.aspectRatio,this.nearPlane,this.farPlane,this._projectionMatrix)),this._boundFrustumUpdate=!0},C$zut._update=function(C$zut){this.conchModel&&(this.conchModel.setViewMatrix(this.viewMatrix.elements),this.conchModel.setProjectMatrix(this.projectionMatrix.elements)),laya.d3.core.Sprite3D.prototype._update.call(this,C$zut)},C$zut._renderCamera=function(C$zut,C$zue,C$zui){var C$zun,C$zur;C$zui.parallelSplitShadowMaps[0]&&C$zui._renderShadowMap(C$zut,C$zue,this),(C$zue.camera=this)._prepareCameraToRender(),C$zui._preRenderUpdateComponents(C$zue),C$zun=C$zue._viewMatrix=this.viewMatrix;var C$zus=this._renderTarget;C$zus?(C$zus.start(),C$zuee.multiply(C$zuWe._invertYScaleMatrix,this._projectionMatrix,C$zuWe._invertYProjectionMatrix),C$zuee.multiply(C$zuWe._invertYScaleMatrix,this.projectionViewMatrix,C$zuWe._invertYProjectionViewMatrix),C$zur=C$zue._projectionMatrix=C$zuWe._invertYProjectionMatrix,C$zue._projectionViewMatrix=C$zuWe._invertYProjectionViewMatrix):(C$zur=C$zue._projectionMatrix=this._projectionMatrix,C$zue._projectionViewMatrix=this.projectionViewMatrix),this._prepareCameraViewProject(C$zun,C$zur),C$zue._viewport=this.viewport,C$zui._preRenderScene(C$zut,C$zue,this.boundFrustum),C$zui._clear(C$zut,C$zue),C$zui._renderScene(C$zut,C$zue),C$zui._postRenderUpdateComponents(C$zue),C$zus&&C$zus.end()},C$zut.viewportPointToRay=function(C$zut,C$zue){C$zufe.calculateCursorRay(C$zut,this.viewport,this._projectionMatrix,this.viewMatrix,null,C$zue)},C$zut.normalizedViewportPointToRay=function(C$zut,C$zue){var C$zui=$k._tempVector20,C$zun=this.viewport,C$zut=C$zut.elements,C$zur=C$zui.elements;C$zur[0]=C$zut[0]*C$zun.width,C$zur[1]=C$zut[1]*C$zun.height,C$zufe.calculateCursorRay(C$zui,this.viewport,this._projectionMatrix,this.viewMatrix,null,C$zue)},C$zut.worldToViewportPoint=function(C$zut,C$zue){C$zuee.multiply(this._projectionMatrix,this._viewMatrix,this._projectionViewMatrix),this.viewport.project(C$zut,this._projectionViewMatrix,C$zue);C$zut=C$zue.elements;C$zut[0]=C$zut[0]/C$zuy.stage.clientScaleX,C$zut[1]=C$zut[1]/C$zuy.stage.clientScaleY},C$zut.worldToNormalizedViewportPoint=function(C$zut,C$zue){C$zuee.multiply(this._projectionMatrix,this._viewMatrix,this._projectionViewMatrix),this.normalizedViewport.project(C$zut,this._projectionViewMatrix,C$zue);C$zut=C$zue.elements;C$zut[0]=C$zut[0]/C$zuy.stage.clientScaleX,C$zut[1]=C$zut[1]/C$zuy.stage.clientScaleY},C$zut.convertScreenCoordToOrthographicCoord=function(C$zut,C$zue){var C$zui,C$zun,C$zur,C$zus,C$zua;return!!this._orthographic&&(C$zui=C$zuj.clientWidth,C$zun=C$zuj.clientHeight,C$zur=this.orthographicVerticalSize*this.aspectRatio/C$zui,C$zus=this.orthographicVerticalSize/C$zun,C$zut=C$zut.elements,(C$zua=C$zue.elements)[0]=(-C$zui/2+C$zut[0])*C$zur,C$zua[1]=(C$zun/2-C$zut[1])*C$zus,C$zua[2]=(this.nearPlane-this.farPlane)*(C$zut[2]+1)/2-this.nearPlane,C$zuE.transformCoordinate(C$zue,this.transform.worldMatrix,C$zue),!0)},C$zuo(0,C$zut,"projectionViewMatrix",function(){return C$zuee.multiply(this.projectionMatrix,this.viewMatrix,this._projectionViewMatrix),this._projectionViewMatrix}),C$zuo(0,C$zut,"aspectRatio",function(){if(0!==this._aspectRatio)return this._aspectRatio;var C$zut=this.viewport;return C$zut.width/C$zut.height},function(C$zut){if(C$zut<0)throw new Error("Camera: the aspect ratio has to be a positive real number.");this._aspectRatio=C$zut,this._calculateProjectionMatrix()}),C$zuo(0,C$zut,"boundFrustum",function(){return this._boundFrustumUpdate&&(this._boundFrustum.matrix=this.projectionViewMatrix),this._boundFrustum}),C$zuo(0,C$zut,"needViewport",function(){var C$zut=this.normalizedViewport;return 0===C$zut.x&&0===C$zut.y&&1===C$zut.width&&1===C$zut.height}),C$zuo(0,C$zut,"viewport",function(){var C$zut,C$zue,C$zui;return this._viewportExpressedInClipSpace&&(C$zut=this._normalizedViewport,C$zue=(C$zui=this.renderTargetSize).width,C$zui=C$zui.height,this._viewport.x=C$zut.x*C$zue,this._viewport.y=C$zut.y*C$zui,this._viewport.width=C$zut.width*C$zue,this._viewport.height=C$zut.height*C$zui),this._viewport},function(C$zut){if(null!=this.renderTarget&&(C$zut.x<0||C$zut.y<0||0==C$zut.width||0==C$zut.height))throw new Error("Camera: viewport size invalid.","value");this._viewportExpressedInClipSpace=!1,this._viewport=C$zut,this._calculateProjectionMatrix()}),C$zuo(0,C$zut,"normalizedViewport",function(){var C$zut,C$zue,C$zui;return this._viewportExpressedInClipSpace||(C$zut=this._viewport,C$zue=(C$zui=this.renderTargetSize).width,C$zui=C$zui.height,this._normalizedViewport.x=C$zut.x/C$zue,this._normalizedViewport.y=C$zut.y/C$zui,this._normalizedViewport.width=C$zut.width/C$zue,this._normalizedViewport.height=C$zut.height/C$zui),this._normalizedViewport},function(C$zut){C$zut.x<0&&(C$zut.x=0,console.warn("Camera: viewport.x must large than 0.0.")),C$zut.y<0&&(C$zut.y=0,console.warn("Camera: viewport.y must large than 0.0.")),1<C$zut.x+C$zut.width&&(C$zut.width=1-C$zut.x,console.warn("Camera: viewport.width + viewport.x must less than 1.0.")),1<C$zut.y+C$zut.height&&(C$zut.height=1-C$zut.y,console.warn("Camera: viewport.height + viewport.y must less than 1.0.")),this._viewportExpressedInClipSpace=!0,this._normalizedViewport=C$zut,this._calculateProjectionMatrix()}),C$zuo(0,C$zut,"projectionMatrix",function(){return this._projectionMatrix},function(C$zut){this._projectionMatrix=C$zut,this._useUserProjectionMatrix=!0}),C$zuo(0,C$zut,"viewMatrix",function(){return this.transform.worldMatrix.invert(this._viewMatrix),this._viewMatrix}),C$zus($k,["_tempVector20",function(){return this._tempVector20=new C$zuae}]),$k}()),C$zuYe=function(C$zui){function $P(C$zut,C$zue){$P.__super.call(this,C$zue),this._geometryFilter=new C$zuPe(this),this._render=new C$zuAe(this),this._geometryFilter.on("meshchanged",this,this._onMeshChanged),this._render.on("materialchanged",this,this._onMaterialChanged),C$zut&&(this._geometryFilter.sharedMesh=C$zut)instanceof laya.d3.resource.models.Mesh&&(C$zut.loaded?this._render.sharedMaterials=C$zut.materials:C$zut.once("loaded",this,this._applyMeshMaterials))}C$zur($P,"laya.d3.core.MeshSprite3D",C$zui);var C$zut=$P.prototype;return C$zut._changeRenderObjectByMesh=function(C$zut){var C$zue=this._render._renderElements,C$zui=C$zue[C$zut];(C$zui=C$zui||(C$zue[C$zut]=new C$zube))._render=this._render;C$zue=this._render.sharedMaterials[C$zut];C$zue=C$zue||C$zuBe.defaultMaterial;C$zut=this._geometryFilter.sharedMesh.getRenderElement(C$zut);return C$zui._mainSortID=this._getSortID(C$zut,C$zue),C$zui._sprite3D=this,C$zui.renderObj=C$zut,C$zui._material=C$zue,C$zui},C$zut._changeRenderObjectByMaterial=function(C$zut,C$zue){var C$zui=this._render._renderElements[C$zut];C$zue=C$zue||C$zuBe.defaultMaterial;C$zut=this._geometryFilter.sharedMesh.getRenderElement(C$zut);return C$zui._mainSortID=this._getSortID(C$zut,C$zue),C$zui._sprite3D=this,C$zui.renderObj=C$zut,C$zui._material=C$zue,C$zui},C$zut._changeRenderObjectsByMesh=function(){var C$zut=this._geometryFilter.sharedMesh.getRenderElementsCount();this._render._renderElements.length=C$zut;for(var C$zue=0;C$zue<C$zut;C$zue++)this._changeRenderObjectByMesh(C$zue)},C$zut._onMeshChanged=function(C$zut){C$zut=C$zut.sharedMesh;C$zut.loaded?this._changeRenderObjectsByMesh():C$zut.once("loaded",this,this._onMeshLoaded)},C$zut._onMeshLoaded=function(C$zut){C$zut===this.meshFilter.sharedMesh&&this._changeRenderObjectsByMesh()},C$zut._onMaterialChanged=function(C$zut,C$zue,C$zui){C$zue<this._render._renderElements.length&&this._changeRenderObjectByMaterial(C$zue,C$zui)},C$zut._clearSelfRenderObjects=function(){this.scene.removeFrustumCullingObject(this._render)},C$zut._addSelfRenderObjects=function(){this.scene.addFrustumCullingObject(this._render)},C$zut._parseCustomProps=function(C$zuu,C$zut,C$zue,C$zui){var C$zun=this.meshRender,C$zur=C$zue.lightmapIndex;null!=C$zur&&(C$zun.lightmapIndex=C$zur);var C$zus,C$zua,C$zur=C$zue.lightmapScaleOffset;if(C$zur&&(C$zun.lightmapScaleOffset=new C$zuoe(C$zur[0],C$zur[1],C$zur[2],C$zur[3])),C$zui.instanceParams)(C$zus=C$zui.instanceParams.loadPath)&&(C$zua=C$zug.getRes(C$zut[C$zus]),(this.meshFilter.sharedMesh=C$zua).loaded?C$zun.sharedMaterials=C$zua.materials:C$zua.once("loaded",this,this._applyMeshMaterials));else{(C$zus=C$zue.meshPath)&&(C$zua=C$zug.getRes(C$zut[C$zus]),this.meshFilter.sharedMesh=C$zua);var C$zuo=C$zue.materials;if(C$zuo){var C$zuh=C$zun.sharedMaterials,C$zuc=C$zuo.length;C$zuh.length=C$zuc;for(var C$zul=0;C$zul<C$zuc;C$zul++)C$zuh[C$zul]=C$zug.getRes(C$zut[C$zuo[C$zul].path]);C$zun.sharedMaterials=C$zuh}}},C$zut._applyMeshMaterials=function(C$zut){for(var C$zue=this._render.sharedMaterials,C$zui=C$zut.materials,C$zun=0,C$zur=C$zui.length;C$zun<C$zur;C$zun++)C$zue[C$zun]||(C$zue[C$zun]=C$zui[C$zun]);this._render.sharedMaterials=C$zue},C$zut._addToInitStaticBatchManager=function(){$P._staticBatchManager._addInitBatchSprite(this)},C$zut.cloneTo=function(C$zut){var C$zue=C$zut;C$zue._geometryFilter.sharedMesh=this._geometryFilter.sharedMesh;var C$zui=this._render,C$zue=C$zue._render;C$zue.enable=C$zui.enable,C$zue.sharedMaterials=C$zui.sharedMaterials,C$zue.castShadow=C$zui.castShadow;var C$zun=C$zui.lightmapScaleOffset;C$zun&&(C$zue.lightmapScaleOffset=C$zun.clone()),C$zue.lightmapIndex=C$zui.lightmapIndex,C$zue.receiveShadow=C$zui.receiveShadow,C$zue.sortingFudge=C$zui.sortingFudge,laya.d3.core.Sprite3D.prototype.cloneTo.call(this,C$zut)},C$zut.destroy=function(C$zut){var C$zue;void 0===C$zut&&(C$zut=!0),this.destroyed||(null!=(C$zue=this.meshFilter.sharedMesh)&&(C$zue.loaded||C$zue.off("loaded",this,this._applyMeshMaterials)),C$zui.prototype.destroy.call(this,C$zut),this._geometryFilter._destroy())},C$zuo(0,C$zut,"meshFilter",function(){return this._geometryFilter}),C$zuo(0,C$zut,"meshRender",function(){return this._render}),$P.__init__=function(){C$zust._staticBatchManagers.push($P._staticBatchManager)},$P.load=function(C$zut){return C$zuy.loader.create(C$zut,null,null,$P)},C$zus($P,["_staticBatchManager",function(){return this._staticBatchManager=new C$zuwe}]),$P}(C$zuze);function $A(){$A.__super.call(this)}function $n(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){for(var C$zua in this._name=NaN,this._attributeMap=null,this._renderElementUniformMap=null,this._materialUniformMap=null,this._spriteUniformMap=null,this._cameraUniformMap=null,this._sceneUniformMap=null,this.sharders=null,this._spriteDefineCounter=3,this._spriteInt2name=[],this._spriteName2Int={},this._materialDefineCounter=1,this._materialInt2name=[],this._materialName2Int={},this._conchShader=null,this._name=C$zut,this._renderElementUniformMap={},this._materialUniformMap={},this._spriteUniformMap={},this._cameraUniformMap={},this._sceneUniformMap={},this.sharders=[],this._spriteInt2name[C$zude.SHADERDEFINE_RECEIVE_SHADOW]="RECEIVESHADOW",this._spriteInt2name[C$zuze.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV]="SCALEOFFSETLIGHTINGMAPUV",this._spriteInt2name[C$zuze.SAHDERDEFINE_LIGHTMAP]="LIGHTMAP",this._spriteInt2name[0]="BONE",this._materialInt2name[C$zuCe.SHADERDEFINE_ALPHATEST]="ALPHATEST",$n.__super.call(this,C$zut,C$zue,C$zui,null,{}),this._attributeMap=C$zun,C$zur){var C$zuo=C$zur[C$zua];switch(C$zuo[1]){case 0:this._renderElementUniformMap[C$zua]=C$zuo[0];break;case 1:this._materialUniformMap[C$zua]=C$zuo[0];break;case 2:this._spriteUniformMap[C$zua]=C$zuo[0];break;case 3:this._cameraUniformMap[C$zua]=C$zuo[0];break;case 4:this._sceneUniformMap[C$zua]=C$zuo[0];break;default:throw new Error("ShaderCompile3D: period is unkonw.")}}}function $R(){this.angle=NaN,this.radius=NaN,this.length=NaN,this.emitType=0,$R.__super.call(this),this.angle=25/180*Math.PI,this.radius=1,this.length=5,this.emitType=0,this.randomDirection=!1}var C$zuXe,C$zuKe;function $M(){}function $N(){}function $f(){}function $x(C$zut){this._mesh=null,this._boneIndicesList=null,this._subIndexBufferStart=null,this._subIndexBufferCount=null,this._skinAnimationDatas=null,this._bufferUsage=null,this._indexInMesh=0,this._vertexBuffer=null,this._vertexStart=0,this._vertexCount=0,this._indexBuffer=null,this._indexStart=0,this._indexCount=0,this._indices=null,this._bufferUsage={},this._mesh=C$zut,this._boneIndicesList=[],this._subIndexBufferStart=[],this._subIndexBufferCount=[]}function $H(C$zut,C$zue){this.normal=null,this.distance=NaN,void 0===C$zue&&(C$zue=0),this.normal=C$zut,this.distance=C$zue}function $b(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zuu,C$zuc,C$zu_,C$zud,C$zuf,C$zup,C$zum){void 0===C$zut&&(C$zut=1),void 0===C$zue&&(C$zue=0),void 0===C$zui&&(C$zui=0),void 0===C$zun&&(C$zun=0),void 0===C$zur&&(C$zur=0),void 0===C$zus&&(C$zus=1),void 0===C$zua&&(C$zua=0),void 0===C$zuo&&(C$zuo=0),void 0===C$zuh&&(C$zuh=0),void 0===C$zuu&&(C$zuu=0),void 0===C$zuc&&(C$zuc=1),void 0===C$zu_&&(C$zu_=0),void 0===C$zud&&(C$zud=0),void 0===C$zuf&&(C$zuf=0),void 0===C$zup&&(C$zup=0),void 0===C$zum&&(C$zum=1);var C$zul=this.elements=new Float32Array(16);C$zul[0]=C$zut,C$zul[1]=C$zue,C$zul[2]=C$zui,C$zul[3]=C$zun,C$zul[4]=C$zur,C$zul[5]=C$zus,C$zul[6]=C$zua,C$zul[7]=C$zuo,C$zul[8]=C$zuh,C$zul[9]=C$zuu,C$zul[10]=C$zuc,C$zul[11]=C$zu_,C$zul[12]=C$zud,C$zul[13]=C$zuf,C$zul[14]=C$zup,C$zul[15]=C$zum}function $d(){var C$zut=this.elements=new Float32Array(9);C$zut[0]=1,C$zut[1]=0,C$zut[2]=0,C$zut[3]=0,C$zut[4]=1,C$zut[5]=0,C$zut[6]=0,C$zut[7]=0,C$zut[8]=1}function $h(){}function $D(C$zut,C$zue){this.center=null,this.radius=NaN,this.center=C$zut,this.radius=C$zue}function $W(){}function $E(){}function $a(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){this._version=null,this._strings=["BLOCK","DATA","STRINGS"],this._materials=null,this._subMeshes=null,this._materialMap=null,this._readData=null,this._mesh=null,this._BLOCK={count:0},this._DATA={offset:0,size:0},this._STRINGS={offset:0,size:0},this._shaderAttributes=null,this._mesh=C$zui,this._materials=C$zun,this._subMeshes=C$zur,this._materialMap=C$zus,this._version=C$zue,this._onLoaded(C$zut)}function $Z(C$zut){this._vertexDeclaration=null,this._vertexDatas=null,this._indexDatas=null,this._vertexBuffer=null,this._indexBuffer=null,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._combineRenderElements=null,this._materials=null,this._materialToRenderElementsOffsets=null,this._merageElements=null,this._combineRenderElementPool=null,this._combineRenderElementPoolIndex=0,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._combineRenderElements=[],this._materialToRenderElementsOffsets=[],this._materials=[],this._merageElements=[],this._combineRenderElementPool=[],this._combineRenderElementPoolIndex=0,this._vertexDeclaration=C$zut}function $k(C$zut,C$zue){this._exactBox=null,this._relaxBox=null,this._scene=null,this._parent=null,this._currentDepth=0,this._boundingSphere=new C$zuQt(new C$zuE,0),this._corners=[new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE],this._boundingBoxCenter=new C$zuE,this._children=C$zui(8),this._objects=[],this._tempBoundBoxCorners=[new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE,new C$zuE],this._scene=C$zut,this._currentDepth=C$zue}function $p(C$zut){this._id=0,this._needSort=!1,this._renderElements=null,this._renderableRenderObjects=null,this._dynamicBatchCombineRenderElements=null,this._finalElements=null,this._scene=null,this._id=++$p._uniqueIDCounter,this._needSort=!1,this._scene=C$zut,this._renderElements=[],this._renderableRenderObjects=[],this._dynamicBatchCombineRenderElements=[],this._errorRecord={}}var C$zut;function $q(){}function $Y(){this._type=0,this._separateAxes=!1,this._gradient=null,this._gradientX=null,this._gradientY=null,this._gradientZ=null,this._constantMin=NaN,this._constantMax=NaN,this._constantMinSeparate=null,this._constantMaxSeparate=null,this._gradientMin=null,this._gradientMax=null,this._gradientXMin=null,this._gradientXMax=null,this._gradientYMin=null,this._gradientYMax=null,this._gradientZMin=null,this._gradientZMax=null}function $K(){this._type=0,this._separateAxes=!1,this._constant=NaN,this._constantSeparate=null,this._gradient=null,this._gradientX=null,this._gradientY=null,this._gradientZ=null,this._gradientW=null,this._constantMin=NaN,this._constantMax=NaN,this._constantMinSeparate=null,this._constantMaxSeparate=null,this._gradientMin=null,this._gradientMax=null,this._gradientXMin=null,this._gradientXMax=null,this._gradientYMin=null,this._gradientYMax=null,this._gradientZMin=null,this._gradientZMax=null,this._gradientWMin=null,this._gradientWMax=null}function $L(){this._visible=!0,this._nonRigidbodyOffset=0,this._colliders=[]}function $J(C$zut,C$zue,C$zui,C$zun){this._datas=null,this._w=0,this._h=0,this._minHeight=NaN,this._maxHeight=NaN,this._datas=[],this._w=C$zut,this._h=C$zue,this._minHeight=C$zui,this._maxHeight=C$zun}function $P(){this._childs=[],this.transform=new C$zuve(this)}var C$zuz;function $m(){this.time=NaN,this.eventName=null,this.params=null}}(window,(document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$zut,C$zue){"use strict";for(var C$zui in Object.defineProperty(C$zue,"__esModule",{value:!0}),Laya){var C$zun=Laya[C$zui];C$zun&&C$zun.__isclass&&(C$zue[C$zui]=C$zun)}}),function(C$zuA){C$zuA.un,C$zuA.uns;var C$zut=C$zuA.static,C$zui=C$zuA.class,C$zun=C$zuA.getset,C$zup=C$zuA.__newvec,C$zus=laya.maths.Bezier,C$zuu=laya.utils.Browser,C$zuDt=laya.utils.Byte,C$zue=(laya.events.Event,laya.events.EventDispatcher),C$zua=laya.display.Graphics,C$zuo=(laya.resource.HTMLCanvas,laya.utils.Handler),C$zuh=laya.net.Loader,C$zuc=laya.maths.MathUtil,C$zuCt=laya.maths.Matrix,C$zul=(laya.display.Node,laya.maths.Point,laya.maths.Rectangle,laya.renders.Render),C$zu_=(laya.renders.RenderContext,laya.resource.Resource),C$zud=laya.utils.RunDriver,C$zuI=laya.display.Sprite,C$zuf=laya.utils.Stat,C$zuEt=laya.resource.Texture,C$zum=(laya.net.URL,laya.utils.Utils),C$zuS=(C$zui($m,"laya.ani.AnimationContent"),$m),C$zuC=function(){function $m(){this.name=null,this.parentIndex=0,this.parent=null,this.keyframeWidth=0,this.lerpType=0,this.interpolationMethod=null,this.childs=null,this.keyFrame=null,this.playTime=NaN,this.extenData=null,this.dataOffset=0}return C$zui($m,"laya.ani.AnimationNodeContent"),$m}(),C$zug=function(){function $m(){}return C$zui($m,"laya.ani.AnimationParser01"),$m.parse=function(C$zut,C$zue){var C$zuu,C$zuc=C$zue.__getBuffer(),C$zu_=0,C$zud=0,C$zui=0,C$zun=0,C$zuf=0,C$zur=0,C$zup=C$zue.readUTFString();C$zut._aniClassName=C$zup;var C$zum,C$zug=C$zue.readUTFString().split("\n"),C$zuv=C$zue.getUint8(),C$zup=C$zue.getUint32(),C$zu$=C$zue.getUint32();0<C$zup&&(C$zum=C$zuc.slice(C$zup,C$zu$));var C$zux=new C$zuDt(C$zum);for(0<C$zu$&&(C$zut._publicExtData=C$zuc.slice(C$zu$,C$zuc.byteLength)),C$zut._useParent=!!C$zue.getUint8(),C$zut._anis.length=C$zuv,C$zu_=0;C$zu_<C$zuv;C$zu_++){var C$zus=C$zut._anis[C$zu_]=new C$zuS;C$zus.nodes=new Array;var C$zuy=C$zus.name=C$zug[C$zue.getUint16()];C$zut._aniMap[C$zuy]=C$zu_,C$zus.bone3DMap={},C$zus.playTime=C$zue.getFloat32(),C$zus.playTime<=0&&console.error("\u64ad\u653e\u65f6\u95f4\u4e0d\u80fd\u4e3a0  url="+C$zut.url+" name="+C$zus.name);var C$zub=C$zus.nodes.length=C$zue.getUint8();for(C$zud=C$zus.totalKeyframeDatasLength=0;C$zud<C$zub;C$zud++){var C$zua=C$zus.nodes[C$zud]=new C$zuC;C$zua.childs=[];var C$zuo=C$zue.getInt16();0<=C$zuo&&(C$zua.name=C$zug[C$zuo],C$zus.bone3DMap[C$zua.name]=C$zud),C$zua.keyFrame=new Array,C$zua.parentIndex=C$zue.getInt16(),-1==C$zua.parentIndex?C$zua.parent=null:C$zua.parent=C$zus.nodes[C$zua.parentIndex],C$zua.lerpType=C$zue.getUint8();C$zuo=C$zue.getUint32();C$zux.pos=C$zuo;var C$zuh=C$zua.keyframeWidth=C$zux.getUint16();if(C$zus.totalKeyframeDatasLength+=C$zuh,0===C$zua.lerpType||1===C$zua.lerpType)for(C$zua.interpolationMethod=[],C$zua.interpolationMethod.length=C$zuh,C$zui=0;C$zui<C$zuh;C$zui++)C$zua.interpolationMethod[C$zui]=C$zuE.interpolation[C$zux.getUint8()];null!=C$zua.parent&&C$zua.parent.childs.push(C$zua);C$zuo=C$zue.getUint16();0<C$zuo&&(C$zua.extenData=C$zuc.slice(C$zue.pos,C$zue.pos+C$zuo),C$zue.pos+=C$zuo);var C$zul,C$zuo=C$zue.getUint16(),C$zuT=0;for(C$zui=0,C$zuu=C$zua.keyFrame.length=C$zuo;C$zui<C$zuu;C$zui++){if((C$zul=C$zua.keyFrame[C$zui]=new C$zuD).duration=C$zue.getFloat32(),C$zul.startTime=C$zuT,2===C$zua.lerpType){C$zul.interpolationData=[];var C$zuw,C$zuM=C$zue.getUint8();switch(C$zuw=C$zue.getFloat32()){case 254:for(C$zul.interpolationData.length=C$zuh,C$zur=0;C$zur<C$zuh;C$zur++)C$zul.interpolationData[C$zur]=0;break;case 255:for(C$zul.interpolationData.length=C$zuh,C$zur=0;C$zur<C$zuh;C$zur++)C$zul.interpolationData[C$zur]=5;break;default:for(C$zul.interpolationData.push(C$zuw),C$zuf=1;C$zuf<C$zuM;C$zuf++)C$zul.interpolationData.push(C$zue.getFloat32())}}for(C$zul.data=new Float32Array(C$zuh),C$zun=0;C$zun<C$zuh;C$zun++)C$zul.data[C$zun]=C$zue.getFloat32(),-1e-8<C$zul.data[C$zun]&&C$zul.data[C$zun]<1e-8&&(C$zul.data[C$zun]=0);C$zuT+=C$zul.duration}C$zul.startTime=C$zus.playTime,C$zua.playTime=C$zus.playTime,C$zut._calculateKeyFrame(C$zua,C$zuo,C$zuh)}}},$m}(),C$zuv=(C$zui($H,"laya.ani.AnimationParser02"),$H.READ_DATA=function(){$H._DATA.offset=$H._reader.getUint32(),$H._DATA.size=$H._reader.getUint32()},$H.READ_BLOCK=function(){for(var C$zut=$H._BLOCK.count=$H._reader.getUint16(),C$zue=$H._BLOCK.blockStarts=[],C$zui=$H._BLOCK.blockLengths=[],C$zun=0;C$zun<C$zut;C$zun++)C$zue.push($H._reader.getUint32()),C$zui.push($H._reader.getUint32())},$H.READ_STRINGS=function(){var C$zut=$H._reader.getUint32(),C$zue=$H._reader.getUint16(),C$zui=$H._reader.pos;$H._reader.pos=C$zut+$H._DATA.offset;for(var C$zun=0;C$zun<C$zue;C$zun++)$H._strings[C$zun]=$H._reader.readUTFString();$H._reader.pos=C$zui},$H.parse=function(C$zut,C$zue){$H._templet=C$zut,($H._reader=C$zue).__getBuffer(),$H.READ_DATA(),$H.READ_BLOCK(),$H.READ_STRINGS();for(var C$zui=0,C$zun=$H._BLOCK.count;C$zui<C$zun;C$zui++){var C$zur=C$zue.getUint16(),C$zus=$H._strings[C$zur],C$zua=$H["READ_"+C$zus];if(null==C$zua)throw new Error("model file err,no this function:"+C$zur+" "+C$zus);C$zua.call()}},$H.READ_ANIMATIONS=function(){var C$zuu,C$zut=$H._reader,C$zuc=C$zut.__getBuffer(),C$zue=0,C$zui=0,C$zun=0,C$zur=C$zut.getUint16(),C$zu_=[];for(C$zu_.length=C$zur,C$zue=0;C$zue<C$zur;C$zue++)C$zu_[C$zue]=C$zuE.interpolation[C$zut.getByte()];var C$zud=C$zut.getUint8();for($H._templet._anis.length=C$zud,C$zue=0;C$zue<C$zud;C$zue++){var C$zus=$H._templet._anis[C$zue]={};C$zus.nodes=new Array;var C$zuf=C$zus.name=$H._strings[C$zut.getUint16()];$H._templet._aniMap[C$zuf]=C$zue,C$zus.bone3DMap={},C$zus.playTime=C$zut.getFloat32();var C$zup=C$zus.nodes.length=C$zut.getInt16();for(C$zui=C$zus.totalKeyframeDatasLength=0;C$zui<C$zup;C$zui++){var C$zua=C$zus.nodes[C$zui]={};C$zua.keyframeWidth=C$zur,C$zua.childs=[];var C$zuo=C$zut.getUint16();0<=C$zuo&&(C$zua.name=$H._strings[C$zuo],C$zus.bone3DMap[C$zua.name]=C$zui),C$zua.keyFrame=new Array,C$zua.parentIndex=C$zut.getInt16(),-1==C$zua.parentIndex?C$zua.parent=null:C$zua.parent=C$zus.nodes[C$zua.parentIndex],C$zus.totalKeyframeDatasLength+=C$zur,C$zua.interpolationMethod=C$zu_,null!=C$zua.parent&&C$zua.parent.childs.push(C$zua);var C$zuo=C$zut.getUint16(),C$zuh=null,C$zul=null;for(C$zun=0,C$zuu=C$zua.keyFrame.length=C$zuo;C$zun<C$zuu;C$zun++){(C$zuh=C$zua.keyFrame[C$zun]={}).startTime=C$zut.getFloat32(),C$zul&&(C$zul.duration=C$zuh.startTime-C$zul.startTime);var C$zum=$H._DATA.offset,C$zug=C$zut.getUint32(),C$zum=C$zuc.slice(C$zum+C$zug,C$zum+C$zug+4*C$zur);C$zuh.data=new Float32Array(C$zum),C$zul=C$zuh}C$zuh.duration=0,C$zua.playTime=C$zus.playTime,$H._templet._calculateKeyFrame(C$zua,C$zuo,C$zur)}}},$H._templet=null,$H._reader=null,$H._strings=[],C$zut($H,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]),$H),C$zuPt=(function(){function $m(){}C$zui($m,"laya.ani.AnimationState"),$m.stopped=0,$m.paused=1,$m.playing=2}(),C$zui($L,"laya.ani.bone.Bone"),(C$zur=$L.prototype).setTempMatrix=function(C$zut){this._tempMatrix=C$zut;var C$zue,C$zui=0;for(C$zui=0,C$zue=this._children.length;C$zui<C$zue;C$zui++)this._children[C$zui].setTempMatrix(this._tempMatrix)},C$zur.update=function(C$zut){var C$zue;var C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo;this.rotation=this.transform.skX,C$zut?(C$zue=this.resultTransform.getMatrix(),C$zuCt.mul(C$zue,C$zut,this.resultMatrix),this.resultRotation=this.rotation):(this.resultRotation=this.rotation+this.parentBone.resultRotation,this.parentBone?this.inheritRotation&&this.inheritScale?(C$zue=this.resultTransform.getMatrix(),C$zuCt.mul(C$zue,this.parentBone.resultMatrix,this.resultMatrix)):(C$zut=this.parentBone,C$zur=C$zun=C$zui=NaN,C$zua=this.parentBone.resultMatrix,C$zue=this.resultTransform.getMatrix(),C$zus=C$zua.a*C$zue.tx+C$zua.c*C$zue.ty+C$zua.tx,C$zua=C$zua.b*C$zue.tx+C$zua.d*C$zue.ty+C$zua.ty,C$zuo=new C$zuCt,this.inheritRotation?(C$zui=Math.atan2(C$zut.resultMatrix.b,C$zut.resultMatrix.a),C$zun=Math.cos(C$zui),C$zur=Math.sin(C$zui),C$zuo.setTo(C$zun,C$zur,-C$zur,C$zun,0,0),C$zuCt.mul(this._tempMatrix,C$zuo,C$zuCt.TEMP),C$zuCt.TEMP.copyTo(C$zuo),C$zue=this.resultTransform.getMatrix(),C$zuCt.mul(C$zue,C$zuo,this.resultMatrix),this.resultTransform.scX*this.resultTransform.scY<0&&this.resultMatrix.rotate(.5*Math.PI)):(this.inheritScale,C$zue=this.resultTransform.getMatrix(),C$zuCt.TEMP.identity(),C$zuCt.TEMP.d=this.d,C$zuCt.mul(C$zue,C$zuCt.TEMP,this.resultMatrix)),this.resultMatrix.tx=C$zus,this.resultMatrix.ty=C$zua):(C$zue=this.resultTransform.getMatrix()).copyTo(this.resultMatrix));var C$zuh,C$zul=0;for(C$zul=0,C$zuh=this._children.length;C$zul<C$zuh;C$zul++)this._children[C$zul].update()},C$zur.updateChild=function(){var C$zut,C$zue=0;for(C$zue=0,C$zut=this._children.length;C$zue<C$zut;C$zue++)this._children[C$zue].update()},C$zur.setRotation=function(C$zut){this._sprite&&(this._sprite.rotation=180*C$zut/Math.PI)},C$zur.updateDraw=function(C$zut,C$zue){$L.ShowBones&&!$L.ShowBones[this.name]||(this._sprite||(this._sprite=new C$zuI,this._sprite.graphics.drawCircle(0,0,5,"#ff0000"),this._sprite.graphics.drawLine(0,0,this.length,0,"#00ff00"),this._sprite.graphics.fillText(this.name,0,0,"20px Arial","#00ff00","center"),C$zuA.stage.addChild(this._sprite)),this._sprite.x=C$zut+this.resultMatrix.tx,this._sprite.y=C$zue+this.resultMatrix.ty);var C$zui,C$zun=0;for(C$zun=0,C$zui=this._children.length;C$zun<C$zui;C$zun++)this._children[C$zun].updateDraw(C$zut,C$zue)},C$zur.addChild=function(C$zut){this._children.push(C$zut),C$zut.parentBone=this},C$zur.findBone=function(C$zut){if(this.name==C$zut)return this;var C$zue,C$zui,C$zun=0;for(C$zun=0,C$zue=this._children.length;C$zun<C$zue;C$zun++)if(C$zui=this._children[C$zun].findBone(C$zut))return C$zui;return null},C$zur.localToWorld=function(C$zut){var C$zue=C$zut[0],C$zui=C$zut[1];C$zut[0]=C$zue*this.resultMatrix.a+C$zui*this.resultMatrix.c+this.resultMatrix.tx,C$zut[1]=C$zue*this.resultMatrix.b+C$zui*this.resultMatrix.d+this.resultMatrix.ty},$L.ShowBones={},$L),C$zuAt=(C$zui($B,"laya.ani.bone.BoneSlot"),(C$zur=$B.prototype).showSlotData=function(C$zut,C$zue){void 0===C$zue&&(C$zue=!0),this.currSlotData=C$zut,C$zue&&(this.displayIndex=this.srcDisplayIndex),this.currDisplayData=null,this.currTexture=null},C$zur.showDisplayByName=function(C$zut){this.currSlotData&&this.showDisplayByIndex(this.currSlotData.getDisplayByName(C$zut))},C$zur.replaceDisplayByName=function(C$zut,C$zue){this.currSlotData&&(C$zut=this.currSlotData.getDisplayByName(C$zut),C$zue=this.currSlotData.getDisplayByName(C$zue),this.replaceDisplayByIndex(C$zut,C$zue))},C$zur.replaceDisplayByIndex=function(C$zut,C$zue){this.currSlotData&&(this._replaceDic[C$zut]=C$zue,this.displayIndex==C$zut&&this.showDisplayByIndex(C$zut))},C$zur.showDisplayByIndex=function(C$zut){null!=this._replaceDic[C$zut]&&(C$zut=this._replaceDic[C$zut]),this.currSlotData&&-1<C$zut&&C$zut<this.currSlotData.displayArr.length?(this.displayIndex=C$zut,this.currDisplayData=this.currSlotData.displayArr[C$zut],this.currDisplayData&&(C$zut=this.currDisplayData.name,this.currTexture=this.templet.getTexture(C$zut),this.currTexture&&0==this.currDisplayData.type&&this.currDisplayData.uvs&&(!C$zul.isConchApp||C$zul.isConchApp&&"0.9.15"<C$zuI.RUNTIMEVERION)&&(this.currTexture=this.currDisplayData.createTexture(this.currTexture)))):(this.displayIndex=-1,this.currDisplayData=null,this.currTexture=null)},C$zur.replaceSkin=function(C$zut){this._diyTexture=C$zut,this._curDiyUV&&(this._curDiyUV.length=0),this.currDisplayData&&this._diyTexture==this.currDisplayData.texture&&(this._diyTexture=null)},C$zur.setParentMatrix=function(C$zut){this._parentMatrix=C$zut},C$zur.draw=function(C$zut,C$zue,C$zui,C$zun){if(void 0===C$zui&&(C$zui=!1),void 0===C$zun&&(C$zun=1),(null!=this._diyTexture||null!=this.currTexture)&&null!=this.currDisplayData||this.currDisplayData&&3==this.currDisplayData.type){var C$zur,C$zus=this.currTexture;switch(this._diyTexture&&(C$zus=this._diyTexture),this.currDisplayData.type){case 0:C$zut&&(C$zuo=this.getDisplayMatrix(),this._parentMatrix&&(C$zua=!1,C$zuo&&(C$zuCt.mul(C$zuo,this._parentMatrix,C$zuCt.TEMP),C$zuo=C$zui?(null==this._resultMatrix&&(this._resultMatrix=new C$zuCt),this._resultMatrix):new C$zuCt,!C$zul.isWebGL&&this.currDisplayData.uvs||C$zul.isWebGL&&this._diyTexture&&this.currDisplayData.uvs?((C$zuh=$B._tempMatrix).identity(),this.currDisplayData.uvs[1]>this.currDisplayData.uvs[5]&&(C$zuh.d=-1),this.currDisplayData.uvs[0]>this.currDisplayData.uvs[4]&&this.currDisplayData.uvs[1]>this.currDisplayData.uvs[5]&&(C$zua=!0,C$zuh.rotate(-Math.PI/2)),C$zuCt.mul(C$zuh,C$zuCt.TEMP,C$zuo)):C$zuCt.TEMP.copyTo(C$zuo),C$zua?C$zut.drawTexture(C$zus,-this.currDisplayData.height/2,-this.currDisplayData.width/2,this.currDisplayData.height,this.currDisplayData.width,C$zuo):C$zut.drawTexture(C$zus,-this.currDisplayData.width/2,-this.currDisplayData.height/2,this.currDisplayData.width,this.currDisplayData.height,C$zuo))));break;case 1:if(null==(C$zur=C$zui?(null==this._skinSprite&&(this._skinSprite=$B.createSkinMesh()),this._skinSprite):$B.createSkinMesh()))return;var C$zua,C$zuo,C$zuh;null==this.currDisplayData.bones?(C$zuh=this.currDisplayData.weights,this.deformData&&(C$zuh=this.deformData),C$zua=this._diyTexture?(this._curDiyUV||(this._curDiyUV=[]),0==this._curDiyUV.length&&(this._curDiyUV=C$zub.getRelativeUV(this.currTexture.uv,this.currDisplayData.uvs,this._curDiyUV),this._curDiyUV=C$zub.getAbsoluteUV(this._diyTexture.uv,this._curDiyUV,this._curDiyUV)),this._curDiyUV):this.currDisplayData.uvs,this._mVerticleArr=C$zuh,this.currDisplayData.triangles.length,C$zuo=this.currDisplayData.triangles,C$zur.init2(C$zus,null,C$zuo,this._mVerticleArr,C$zua),C$zuh=this.getDisplayMatrix(),this._parentMatrix&&C$zuh&&(C$zuCt.mul(C$zuh,this._parentMatrix,C$zuCt.TEMP),C$zuo=C$zui?(null==this._resultMatrix&&(this._resultMatrix=new C$zuCt),this._resultMatrix):new C$zuCt,C$zuCt.TEMP.copyTo(C$zuo),C$zur.transform=C$zuo)):this.skinMesh(C$zue,C$zur,C$zun),C$zut.drawSkin(C$zur);break;case 2:if(null==(C$zur=C$zui?(null==this._skinSprite&&(this._skinSprite=$B.createSkinMesh()),this._skinSprite):$B.createSkinMesh()))return;this.skinMesh(C$zue,C$zur,C$zun),C$zut.drawSkin(C$zur)}}},C$zur.skinMesh=function(C$zuu,C$zuc,C$zu_){var C$zud,C$zuf=this.currTexture,C$zut=this.currDisplayData.bones;C$zud=this._diyTexture?(C$zuf=this._diyTexture,this._curDiyUV||(this._curDiyUV=[]),0==this._curDiyUV.length&&(this._curDiyUV=C$zub.getRelativeUV(this.currTexture.uv,this.currDisplayData.uvs,this._curDiyUV),this._curDiyUV=C$zub.getAbsoluteUV(this._diyTexture.uv,this._curDiyUV,this._curDiyUV)),this._curDiyUV):this.currDisplayData.uvs;var C$zue,C$zui=this.currDisplayData.weights,C$zup=this.currDisplayData.triangles,C$zun=0,C$zur=0,C$zum=0,C$zus=NaN,C$zua=NaN,C$zuo=0,C$zuh=0,C$zug=[],C$zul=0,C$zuv=0;if(this.deformData&&0<this.deformData.length){var C$zu$=0;for(C$zul=0,C$zuv=C$zut.length;C$zul<C$zuv;){for(C$zum=C$zut[C$zul++]+C$zul,C$zur=C$zun=0;C$zul<C$zum;C$zul++)C$zue=C$zuu[C$zut[C$zul]],C$zus=C$zui[C$zuo]+this.deformData[C$zu$++],C$zua=C$zui[C$zuo+1]+this.deformData[C$zu$++],C$zuh=C$zui[C$zuo+2],C$zun+=(C$zus*C$zue.a+C$zua*C$zue.c+C$zue.tx)*C$zuh,C$zur+=(C$zus*C$zue.b+C$zua*C$zue.d+C$zue.ty)*C$zuh,C$zuo+=3;C$zug.push(C$zun,C$zur)}}else for(C$zul=0,C$zuv=C$zut.length;C$zul<C$zuv;){for(C$zum=C$zut[C$zul++]+C$zul,C$zur=C$zun=0;C$zul<C$zum;C$zul++)C$zue=C$zuu[C$zut[C$zul]],C$zus=C$zui[C$zuo],C$zua=C$zui[C$zuo+1],C$zuh=C$zui[C$zuo+2],C$zun+=(C$zus*C$zue.a+C$zua*C$zue.c+C$zue.tx)*C$zuh,C$zur+=(C$zus*C$zue.b+C$zua*C$zue.d+C$zue.ty)*C$zuh,C$zuo+=3;C$zug.push(C$zun,C$zur)}this._mVerticleArr=C$zug,C$zuc.init2(C$zuf,null,C$zup,this._mVerticleArr,C$zud)},C$zur.drawBonePoint=function(C$zut){C$zut&&this._parentMatrix&&C$zut.drawCircle(this._parentMatrix.tx,this._parentMatrix.ty,5,"#ff0000")},C$zur.getDisplayMatrix=function(){return this.currDisplayData?this.currDisplayData.transform.getMatrix():null},C$zur.getMatrix=function(){return this._resultMatrix},C$zur.copy=function(){var C$zut=new $B;return C$zut.type="copy",C$zut.name=this.name,C$zut.attachmentName=this.attachmentName,C$zut.srcDisplayIndex=this.srcDisplayIndex,C$zut.parent=this.parent,C$zut.displayIndex=this.displayIndex,C$zut.templet=this.templet,C$zut.currSlotData=this.currSlotData,C$zut.currTexture=this.currTexture,C$zut.currDisplayData=this.currDisplayData,C$zut},$B.createSkinMesh=function(){return C$zul.isWebGL||C$zul.isConchApp?C$zud.skinAniSprite():(C$zul.isWebGL,null)},C$zut($B,["_tempMatrix",function(){return this._tempMatrix=new C$zuCt}]),$B),C$zuIt=function(){function $m(){this.skinName=null,this.deformSlotDataList=[]}return C$zui($m,"laya.ani.bone.DeformAniData"),$m}(),C$zuRt=function(){function $m(){this.deformSlotDisplayList=[]}return C$zui($m,"laya.ani.bone.DeformSlotData"),$m}(),C$zuLt=function(){function $m(){this.boneSlot=null,this.slotIndex=-1,this.attachment=null,this.deformData=null,this.frameIndex=0,this.timeList=[],this.vectices=[],this.tweenKeyList=[]}C$zui($m,"laya.ani.bone.DeformSlotDisplayData");var C$zut=$m.prototype;return C$zut.binarySearch1=function(C$zut,C$zue){var C$zui=0,C$zun=C$zut.length-2;if(0==C$zun)return 1;for(var C$zur=C$zun>>>1;;){if(C$zut[Math.floor(C$zur+1)]<=C$zue?C$zui=C$zur+1:C$zun=C$zur,C$zui==C$zun)return C$zui+1;C$zur=C$zui+C$zun>>>1}return 0},C$zut.apply=function(C$zut,C$zuu,C$zue){if(void 0===C$zue&&(C$zue=1),C$zut+=.05,!(this.timeList.length<=0)){var C$zui=0;if(!(C$zut<this.timeList[0])){var C$zun=this.vectices[0].length,C$zur=[],C$zus=this.binarySearch1(this.timeList,C$zut);if(this.frameIndex=C$zus,C$zut>=this.timeList[this.timeList.length-1]){var C$zua=this.vectices[this.vectices.length-1];if(C$zue<1)for(C$zui=0;C$zui<C$zun;C$zui++)C$zur[C$zui]+=(C$zua[C$zui]-C$zur[C$zui])*C$zue;else for(C$zui=0;C$zui<C$zun;C$zui++)C$zur[C$zui]=C$zua[C$zui];this.deformData=C$zur}else{this.tweenKeyList[this.frameIndex];var C$zuo=this.vectices[this.frameIndex-1],C$zuc=this.vectices[this.frameIndex],C$zuh=this.timeList[this.frameIndex-1],C$zu_=this.timeList[this.frameIndex];C$zue=this.tweenKeyList[C$zus-1]?(C$zut-C$zuh)/(C$zu_-C$zuh):0;var C$zul;for(C$zui=0;C$zui<C$zun;C$zui++)C$zul=C$zuo[C$zui],C$zur[C$zui]=C$zul+(C$zuc[C$zui]-C$zul)*C$zue;this.deformData=C$zur}}}},$m}(),C$zuBt=function(){function $m(){this.time=NaN,this.drawOrder=[]}return C$zui($m,"laya.ani.bone.DrawOrderData"),$m}(),C$zuNt=function(){function $m(){this.name=null,this.intValue=0,this.floatValue=NaN,this.stringValue=null,this.time=NaN}return C$zui($m,"laya.ani.bone.EventData"),$m}(),C$zu$=(C$zui($Pm,"laya.ani.bone.IkConstraint"),(C$zur=$Pm.prototype).apply=function(){switch(this._bones.length){case 1:this._applyIk1(this._bones[0],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.mix);break;case 2:this.isSpine?this._applyIk2(this._bones[0],this._bones[1],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.bendDirection,this.mix):this._applyIk3(this._bones[0],this._bones[1],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.bendDirection,this.mix)}},C$zur._applyIk1=function(C$zut,C$zue,C$zui,C$zun){var C$zur=C$zut.parentBone,C$zus=1/(C$zur.resultMatrix.a*C$zur.resultMatrix.d-C$zur.resultMatrix.b*C$zur.resultMatrix.c),C$zue=C$zue-C$zur.resultMatrix.tx,C$zui=C$zui-C$zur.resultMatrix.ty,C$zua=(C$zue*C$zur.resultMatrix.d-C$zui*C$zur.resultMatrix.c)*C$zus-C$zut.transform.x,C$zui=(C$zui*C$zur.resultMatrix.a-C$zue*C$zur.resultMatrix.b)*C$zus-C$zut.transform.y,C$zue=Math.atan2(C$zui,C$zua)*$Pm.radDeg-C$zut.transform.skX;C$zut.transform.scX<0&&(C$zue+=180),180<C$zue?C$zue-=360:C$zue<-180&&(C$zue+=360),C$zut.transform.skX=C$zut.transform.skY=C$zut.transform.skX+C$zue*C$zun,C$zut.update()},C$zur.updatePos=function(C$zut,C$zue){this._sp&&this._sp.pos(C$zut,C$zue)},C$zur._applyIk2=function(C$zut,C$zuu,C$zue,C$zuc,C$zu_,C$zud){var C$zuf,C$zup,C$zum,C$zug,C$zuv,C$zu$,C$zux,C$zuy,C$zub,C$zui,C$zun,C$zur,C$zus,C$zuT,C$zuw,C$zuM,C$zua,C$zuS,C$zuC,C$zuo,C$zuD,C$zuE,C$zuP,C$zuh,C$zul;0!=C$zud&&(C$zuf=C$zut.resultTransform.x,C$zup=C$zut.resultTransform.y,C$zuv=(C$zuD=C$zut.transform.scX)<(C$zuv=C$zug=C$zum=0)?(C$zuD=-C$zuD,C$zum=180,-1):(C$zum=0,1),(C$zuC=C$zut.transform.scY)<0&&(C$zuC=-C$zuC,C$zuv=-C$zuv),C$zug=(C$zuh=C$zuu.transform.scX)<0?(C$zuh=-C$zuh,180):0,C$zu$=C$zuu.resultTransform.x,C$zur=C$zun=C$zux=NaN,C$zul=C$zut.resultMatrix.a,C$zuy=C$zut.resultMatrix.c,C$zuo=C$zut.resultMatrix.b,C$zub=C$zut.resultMatrix.d,C$zur=(C$zuP=Math.abs(C$zuD-C$zuC)<=1e-4)?(C$zun=C$zul*C$zu$+C$zuy*(C$zux=C$zuu.resultTransform.y)+C$zut.resultMatrix.tx,C$zuo*C$zu$+C$zub*C$zux+C$zut.resultMatrix.ty):(C$zux=0,C$zun=C$zul*C$zu$+C$zut.resultMatrix.tx,C$zuo*C$zu$+C$zut.resultMatrix.ty),this.isDebug&&(this._sp||(this._sp=new C$zuI,C$zuA.stage.addChild(this._sp)),this._sp.graphics.clear(),this._sp.graphics.drawCircle(C$zue,C$zuc,15,"#ffff00"),this._sp.graphics.drawCircle(C$zun,C$zur,15,"#ff00ff")),C$zut.setRotation(Math.atan2(C$zur-C$zut.resultMatrix.ty,C$zun-C$zut.resultMatrix.tx)),C$zul=(C$zui=C$zut.parentBone).resultMatrix.a,C$zuy=C$zui.resultMatrix.c,C$zuo=C$zui.resultMatrix.b,C$zus=1/(C$zul*(C$zub=C$zui.resultMatrix.d)-C$zuy*C$zuo),C$zua=((C$zue=C$zue-C$zui.resultMatrix.tx)*C$zub-(C$zuc=C$zuc-C$zui.resultMatrix.ty)*C$zuy)*C$zus-C$zuf,C$zuT=(C$zuc*C$zul-C$zue*C$zuo)*C$zus-C$zup,C$zun=((C$zue=C$zun-C$zui.resultMatrix.tx)*C$zub-(C$zuc=C$zur-C$zui.resultMatrix.ty)*C$zuy)*C$zus-C$zuf,C$zur=(C$zuc*C$zul-C$zue*C$zuo)*C$zus-C$zup,C$zui=Math.sqrt(C$zun*C$zun+C$zur*C$zur),C$zus=C$zuu.length*C$zuh,C$zur=C$zun=NaN,C$zuP?((C$zuh=(C$zua*C$zua+C$zuT*C$zuT-C$zui*C$zui-(C$zus*=C$zuD)*C$zus)/(2*C$zui*C$zus))<-1?C$zuh=-1:1<C$zuh&&(C$zuh=1),C$zur=Math.acos(C$zuh)*C$zu_,C$zul=C$zui+C$zus*C$zuh,C$zuy=C$zus*Math.sin(C$zur),C$zun=Math.atan2(C$zuT*C$zul-C$zua*C$zuy,C$zua*C$zul+C$zuT*C$zuy)):(C$zuP=(C$zul=C$zuD*C$zus)*C$zul,C$zuh=(C$zuy=C$zuC*C$zus)*C$zuy,C$zus=C$zua*C$zua+C$zuT*C$zuT,C$zuT=Math.atan2(C$zuT,C$zua),0<(C$zub=(C$zua=-2*C$zuh*C$zui)*C$zua-4*(C$zuS=C$zuh-C$zuP)*(C$zuo=C$zuh*C$zui*C$zui+C$zuP*C$zus-C$zuP*C$zuh))&&(C$zuw=Math.sqrt(C$zub),C$zua=(C$zuw=-(C$zua+(C$zuw=C$zua<0?-C$zuw:C$zuw))/2)/C$zuS,C$zuS=C$zuo/C$zuw,(C$zuo=Math.abs(C$zua)<Math.abs(C$zuS)?C$zua:C$zuS)*C$zuo<=C$zus&&(C$zuc=Math.sqrt(C$zus-C$zuo*C$zuo)*C$zu_,C$zun=C$zuT-Math.atan2(C$zuc,C$zuo),C$zur=Math.atan2(C$zuc/C$zuC,(C$zuo-C$zui)/C$zuD))),C$zuE=C$zuD=C$zuo=C$zuC=C$zuS=C$zua=C$zuw=0,C$zuo<(C$zub=(C$zue=C$zui+C$zul)*C$zue)&&(C$zuC=0,C$zuo=C$zub,C$zuD=C$zue),(C$zub=(C$zue=C$zui-C$zul)*C$zue)<(C$zuM=Number.MAX_VALUE)&&(C$zuw=Math.PI,C$zuM=C$zub,C$zua=C$zue),C$zuP=Math.acos(-C$zul*C$zui/(C$zuP-C$zuh)),(C$zub=(C$zue=C$zul*Math.cos(C$zuP)+C$zui)*C$zue+(C$zuc=C$zuy*Math.sin(C$zuP))*C$zuc)<C$zuM&&(C$zuw=C$zuP,C$zuM=C$zub,C$zua=C$zue,C$zuS=C$zuc),C$zuo<C$zub&&(C$zuC=C$zuP,C$zuo=C$zub,C$zuD=C$zue,C$zuE=C$zuc),C$zur=C$zus<=(C$zuM+C$zuo)/2?(C$zun=C$zuT-Math.atan2(C$zuS*C$zu_,C$zua),C$zuw*C$zu_):(C$zun=C$zuT-Math.atan2(C$zuE*C$zu_,C$zuD),C$zuC*C$zu_)),C$zuh=Math.atan2(C$zux,C$zu$)*C$zuv,C$zul=C$zut.resultTransform.skX,180<(C$zun=(C$zun-C$zuh)*$Pm.radDeg+C$zum-C$zul)?C$zun-=360:C$zun<-180&&(C$zun+=360),C$zut.resultTransform.x=C$zuf,C$zut.resultTransform.y=C$zup,C$zut.resultTransform.skX=C$zut.resultTransform.skY=C$zul+C$zun*C$zud,C$zul=C$zuu.resultTransform.skX,180<(C$zur=(C$zur+C$zuh)*$Pm.radDeg*C$zuv+C$zug-(C$zul%=360))?C$zur-=360:C$zur<-180&&(C$zur+=360),C$zuu.resultTransform.x=C$zu$,C$zuu.resultTransform.y=C$zux,C$zuu.resultTransform.skX=C$zuu.resultTransform.skY=C$zuu.resultTransform.skY+C$zur*C$zud,C$zut.update())},C$zur._applyIk3=function(C$zut,C$zue,C$zuu,C$zuc,C$zu_,C$zui){var C$zud,C$zuf,C$zup,C$zum,C$zun,C$zur,C$zug,C$zus,C$zua,C$zuo,C$zuh,C$zul;0!=C$zui&&(C$zui=(C$zui=C$zue.resultMatrix.a*C$zue.length)*C$zui+(C$zui=C$zue.resultMatrix.b*C$zue.length)*C$zui,C$zur=Math.sqrt(C$zui),C$zud=C$zut.resultMatrix.tx,C$zuf=C$zut.resultMatrix.ty,C$zuo=(C$zul=(C$zup=C$zue.resultMatrix.tx)-C$zud)*C$zul+(C$zua=(C$zum=C$zue.resultMatrix.ty)-C$zuf)*C$zua,C$zus=Math.sqrt(C$zuo),C$zun=(C$zul=C$zuu-C$zut.resultMatrix.tx)*C$zul+(C$zua=C$zuc-C$zut.resultMatrix.ty)*C$zua,C$zum=C$zur+C$zus<=(C$zuh=Math.sqrt(C$zun))||C$zuh+C$zur<=C$zus||C$zuh+C$zus<=C$zur?(C$zug=NaN,C$zup=C$zud+(C$zug=C$zur+C$zus<=C$zuh?1:-1)*(C$zuu-C$zud)*C$zus/C$zuh,C$zuf+C$zug*(C$zuc-C$zuf)*C$zus/C$zuh):(C$zug=C$zud+C$zul*(C$zur=(C$zuo-C$zui+C$zun)/(2*C$zun)),C$zus=C$zuf+C$zua*C$zur,C$zua=-C$zua*(C$zui=Math.sqrt(C$zuo-C$zur*C$zur*C$zun)/C$zuh),C$zuo=C$zul*C$zui,0<C$zu_?(C$zup=C$zug-C$zua,C$zus-C$zuo):(C$zup=C$zug+C$zua,C$zus+C$zuo)),C$zur=C$zup,C$zun=C$zum,this.isDebug&&(this._sp||(this._sp=new C$zuI,C$zuA.stage.addChild(this._sp)),this._sp.graphics.clear(),this._sp.graphics.drawCircle(C$zud,C$zuf,15,"#ff00ff"),this._sp.graphics.drawCircle(C$zuu,C$zuc,15,"#ffff00"),this._sp.graphics.drawCircle(C$zur,C$zun,15,"#ff00ff")),C$zuh=Math.atan2(C$zun-C$zut.resultMatrix.ty,C$zur-C$zut.resultMatrix.tx),C$zut.setRotation(C$zuh),(C$zul=$Pm._tempMatrix).identity(),C$zul.rotate(C$zuh),C$zul.scale(C$zut.resultMatrix.getScaleX(),C$zut.resultMatrix.getScaleY()),C$zul.translate(C$zut.resultMatrix.tx,C$zut.resultMatrix.ty),C$zul.copyTo(C$zut.resultMatrix),C$zut.updateChild(),C$zui=Math.atan2(C$zuc-C$zun,C$zuu-C$zur),C$zue.setRotation(C$zui),(C$zu_=$Pm._tempMatrix).identity(),C$zu_.rotate(C$zui),C$zu_.scale(C$zue.resultMatrix.getScaleX(),C$zue.resultMatrix.getScaleY()),C$zu_.translate(C$zur,C$zun),C$zul.copyTo(C$zue.resultMatrix),C$zue.updateChild())},C$zut($Pm,["radDeg",function(){return this.radDeg=180/Math.PI},"degRad",function(){return this.degRad=Math.PI/180},"_tempMatrix",function(){return this._tempMatrix=new C$zuCt}]),$Pm),C$zuFt=function(){function $m(){this.name=null,this.targetBoneName=null,this.bendDirection=1,this.mix=1,this.isSpine=!0,this.targetBoneIndex=-1,this.boneNames=[],this.boneIndexs=[]}return C$zui($m,"laya.ani.bone.IkConstraintData"),$m}(),C$zux=(C$zui($N,"laya.ani.bone.PathConstraint"),(C$zur=$N.prototype).apply=function(C$zuu,C$zuc){if(this.target){var C$zu_=this.translateMix,C$zud=this.translateMix,C$zuf=0<C$zud,C$zup=this.data.spacingMode,C$zum="length"==C$zup,C$zug=this.data.rotateMode,C$zuv="tangent"==C$zug,C$zu$="chainScale"==C$zug,C$zux=[],C$zuy=this.bones.length,C$zub=C$zuv?C$zuy:C$zuy+1,C$zuT=[];(this._spaces=C$zuT)[0]=this.position;var C$zuw=this.spacing;if(C$zu$||C$zum)for(var C$zut=0,C$zuM=C$zub-1;C$zut<C$zuM;){var C$zue=this.bones[C$zut],C$zui=C$zue.length,C$zuS=C$zui*C$zue.resultMatrix.a,C$zuC=C$zui*C$zue.resultMatrix.b;C$zui=Math.sqrt(C$zuS*C$zuS+C$zuC*C$zuC),C$zu$&&(C$zux[C$zut]=C$zui),C$zuT[++C$zut]=C$zum?Math.max(0,C$zui+C$zuw):C$zuw}else for(C$zut=1;C$zut<C$zub;C$zut++)C$zuT[C$zut]=C$zuw;var C$zun=this.computeWorldPositions(this.target,C$zuu,C$zuc,C$zub,C$zuv,"percent"==this.data.positionMode,"percent"==C$zup);if(this._debugKey){for(C$zut=0;C$zut<C$zun.length;C$zut++)C$zuc.drawCircle(C$zun[C$zut++],C$zun[C$zut++],5,"#00ff00");var C$zuD=[];for(C$zut=0;C$zut<C$zun.length;C$zut++)C$zuD.push(C$zun[C$zut++],C$zun[C$zut++]);C$zuc.drawLines(0,0,C$zuD,"#ff0000")}var C$zuE=C$zun[0],C$zuP=C$zun[1],C$zuA=this.data.offsetRotation,C$zuI="chain"==C$zug&&0==C$zuA,C$zur=NaN;for(C$zut=0,C$zur=3;C$zut<C$zuy;C$zut++,C$zur+=3){(C$zue=this.bones[C$zut]).resultMatrix.tx+=(C$zuE-C$zue.resultMatrix.tx)*C$zu_,C$zue.resultMatrix.ty+=(C$zuP-C$zue.resultMatrix.ty)*C$zu_;var C$zuR=(C$zuS=C$zun[C$zur])-C$zuE,C$zuL=(C$zuC=C$zun[C$zur+1])-C$zuP;var C$zus,C$zuB,C$zua,C$zuN,C$zuo,C$zuh,C$zul;C$zu$&&0!=(C$zui=C$zux[C$zut])&&(C$zus=(Math.sqrt(C$zuR*C$zuR+C$zuL*C$zuL)/C$zui-1)*C$zud+1,C$zue.resultMatrix.a*=C$zus,C$zue.resultMatrix.c*=C$zus),C$zuE=C$zuS,C$zuP=C$zuC,C$zuf&&(C$zus=C$zue.resultMatrix.a,C$zuB=C$zue.resultMatrix.c,C$zua=C$zue.resultMatrix.b,C$zuN=C$zue.resultMatrix.d,C$zul=C$zuh=C$zuo=NaN,C$zuo=C$zuv?C$zun[C$zur-1]:0==C$zuT[C$zut+1]?C$zun[C$zur+2]:Math.atan2(C$zuL,C$zuR),C$zuo-=Math.atan2(C$zua,C$zus)-C$zuA/180*Math.PI,C$zuI&&(C$zuh=Math.cos(C$zuo),C$zul=Math.sin(C$zuo),C$zuE+=((C$zui=C$zue.length)*(C$zuh*C$zus-C$zul*C$zua)-C$zuR)*C$zud,C$zuP+=(C$zui*(C$zul*C$zus+C$zuh*C$zua)-C$zuL)*C$zud),C$zuo>Math.PI?C$zuo-=2*Math.PI:C$zuo<-Math.PI&&(C$zuo+=2*Math.PI),C$zuo*=C$zud,C$zuh=Math.cos(C$zuo),C$zul=Math.sin(C$zuo),C$zue.resultMatrix.a=C$zuh*C$zus-C$zul*C$zua,C$zue.resultMatrix.c=C$zuh*C$zuB-C$zul*C$zuN,C$zue.resultMatrix.b=C$zul*C$zus+C$zuh*C$zua,C$zue.resultMatrix.d=C$zul*C$zuB+C$zuh*C$zuN)}}},C$zur.computeWorldVertices2=function(C$zut,C$zue,C$zuu,C$zuc,C$zu_,C$zud){var C$zui,C$zun,C$zuf,C$zup=C$zut.currDisplayData.bones,C$zum=C$zut.currDisplayData.weights,C$zug=C$zut.currDisplayData.triangles,C$zur=0,C$zus=0,C$zuv=0,C$zu$=0,C$zua=0,C$zux=0,C$zuy=0,C$zub=0,C$zuo=0,C$zuh=0;if(null!=C$zup){for(C$zur=0;C$zur<C$zuu;C$zur+=2)C$zus+=(C$zu$=C$zup[C$zus])+1,C$zuv+=C$zu$;var C$zuT=C$zue;for(C$zua=C$zud,C$zux=3*C$zuv;C$zua<C$zuc;C$zua+=2){for(C$zub=C$zuy=0,C$zu$=C$zup[C$zus++],C$zu$+=C$zus;C$zus<C$zu$;C$zus++,C$zux+=3){C$zui=C$zuT[C$zup[C$zus]].resultMatrix,C$zuo=C$zum[C$zux],C$zuh=C$zum[C$zux+1];var C$zuw=C$zum[C$zux+2];C$zuy+=(C$zuo*C$zui.a+C$zuh*C$zui.c+C$zui.tx)*C$zuw,C$zub+=(C$zuo*C$zui.b+C$zuh*C$zui.d+C$zui.ty)*C$zuw}C$zu_[C$zua]=C$zuy,C$zu_[C$zua+1]=C$zub}}else{var C$zuM,C$zul;if(C$zug=C$zug||C$zum,C$zut.deformData&&(C$zug=C$zut.deformData),C$zuM=C$zut.parent,C$zue)for(C$zuf=C$zue.length,C$zur=0;C$zur<C$zuf;C$zur++)if(C$zue[C$zur].name==C$zuM){C$zun=C$zue[C$zur];break}var C$zuS=(C$zul=(C$zul=C$zun?C$zun.resultMatrix:C$zul)||$N._tempMt).tx,C$zuC=C$zul.ty,C$zuD=C$zul.a,C$zuE=C$zul.b,C$zuP=C$zul.c,C$zuA=C$zul.d;for(C$zun&&(C$zuA*=C$zun.d),C$zus=C$zuu,C$zua=C$zud;C$zua<C$zuc;C$zus+=2,C$zua+=2)C$zuo=C$zug[C$zus],C$zuh=C$zug[C$zus+1],C$zu_[C$zua]=C$zuo*C$zuD+C$zuh*C$zuE+C$zuS,C$zu_[C$zua+1]=-(C$zuo*C$zuP+C$zuh*C$zuA+C$zuC)}},C$zur.computeWorldPositions=function(C$zuu,C$zuc,C$zu_,C$zud,C$zuf,C$zup,C$zum){C$zuu.currDisplayData.bones,C$zuu.currDisplayData.weights,C$zuu.currDisplayData.triangles;var C$zut,C$zug,C$zuv=[],C$zue=0,C$zu$=C$zuu.currDisplayData.verLen,C$zux=this.position,C$zuy=this._spaces,C$zub=[],C$zuT=C$zu$/6,C$zuw=-1,C$zui=NaN,C$zuM=0,C$zuS=0,C$zun=NaN,C$zuC=NaN,C$zuD=NaN;if(C$zuT--,this.computeWorldVertices2(C$zuu,C$zuc,2,C$zu$-=4,C$zuv,0),this._debugKey)for(C$zue=0;C$zue<C$zuv.length;)C$zu_.drawCircle(C$zuv[C$zue++],C$zuv[C$zue++],10,"#ff0000");C$zut=C$zuv,this._curves.length=C$zuT;var C$zuE=this._curves,C$zuP=C$zut[C$zui=0],C$zuA=C$zut[1],C$zuI=0,C$zuR=0,C$zuL=0,C$zuB=0,C$zuN=0,C$zuF=0,C$zuO=NaN,C$zuV=NaN,C$zuk=NaN,C$zuU=NaN,C$zur=NaN,C$zus=NaN,C$zua=NaN,C$zuo=NaN,C$zuH=0;for(C$zue=0,C$zuH=2;C$zue<C$zuT;C$zue++,C$zuH+=6)C$zur=2*(C$zuO=.1875*(C$zuP-2*(C$zuI=C$zut[C$zuH])+(C$zuL=C$zut[C$zuH+2])))+(C$zuk=.09375*(3*(C$zuI-C$zuL)-C$zuP+(C$zuN=C$zut[C$zuH+4]))),C$zus=2*(C$zuV=.1875*(C$zuA-2*(C$zuR=C$zut[C$zuH+1])+(C$zuB=C$zut[C$zuH+3])))+(C$zuU=.09375*(3*(C$zuR-C$zuB)-C$zuA+(C$zuF=C$zut[C$zuH+5]))),C$zua=.75*(C$zuI-C$zuP)+C$zuO+.16666667*C$zuk,C$zuo=.75*(C$zuR-C$zuA)+C$zuV+.16666667*C$zuU,C$zui+=Math.sqrt(C$zua*C$zua+C$zuo*C$zuo),C$zua+=C$zur,C$zuo+=C$zus,C$zur+=C$zuk,C$zus+=C$zuU,C$zui+=Math.sqrt(C$zua*C$zua+C$zuo*C$zuo),C$zua+=C$zur,C$zuo+=C$zus,C$zui+=Math.sqrt(C$zua*C$zua+C$zuo*C$zuo),C$zua+=C$zur+C$zuk,C$zuo+=C$zus+C$zuU,C$zui+=Math.sqrt(C$zua*C$zua+C$zuo*C$zuo),C$zuE[C$zue]=C$zui,C$zuP=C$zuN,C$zuA=C$zuF;if(C$zup&&(C$zux*=C$zui),C$zum)for(C$zue=0;C$zue<C$zud;C$zue++)C$zuy[C$zue]*=C$zui;var C$zuW=this._segments,C$zuh=0,C$zuz=0;for(C$zuz=C$zuS=C$zuM=C$zue=0;C$zue<C$zud;C$zue++,C$zuM+=3)if((C$zun=C$zux+=C$zug=C$zuy[C$zue])<0)this.addBeforePosition(C$zun,C$zut,0,C$zub,C$zuM);else if(C$zui<C$zun)this.addAfterPosition(C$zun-C$zui,C$zut,C$zu$-4,C$zub,C$zuM);else{for(;;C$zuS++)if(!((C$zuD=C$zuE[C$zuS])<C$zun)){0==C$zuS?C$zun/=C$zuD:C$zun=(C$zun-(C$zuC=C$zuE[C$zuS-1]))/(C$zuD-C$zuC);break}if(C$zuS!=C$zuw){var C$zul=6*(C$zuw=C$zuS);for(C$zur=2*(C$zuO=.03*((C$zuP=C$zut[C$zul])-2*(C$zuI=C$zut[C$zul+2])+(C$zuL=C$zut[C$zul+4])))+(C$zuk=.006*(3*(C$zuI-C$zuL)-C$zuP+(C$zuN=C$zut[C$zul+6]))),C$zus=2*(C$zuV=.03*((C$zuA=C$zut[C$zul+1])-2*(C$zuR=C$zut[C$zul+3])+(C$zuB=C$zut[C$zul+5])))+(C$zuU=.006*(3*(C$zuR-C$zuB)-C$zuA+(C$zuF=C$zut[C$zul+7]))),C$zua=.3*(C$zuI-C$zuP)+C$zuO+.16666667*C$zuk,C$zuo=.3*(C$zuR-C$zuA)+C$zuV+.16666667*C$zuU,C$zuh=Math.sqrt(C$zua*C$zua+C$zuo*C$zuo),C$zuW[0]=C$zuh,C$zul=1;C$zul<8;C$zul++)C$zua+=C$zur,C$zuo+=C$zus,C$zur+=C$zuk,C$zus+=C$zuU,C$zuh+=Math.sqrt(C$zua*C$zua+C$zuo*C$zuo),C$zuW[C$zul]=C$zuh;C$zua+=C$zur,C$zuo+=C$zus,C$zuh+=Math.sqrt(C$zua*C$zua+C$zuo*C$zuo),C$zuW[8]=C$zuh,C$zua+=C$zur+C$zuk,C$zuo+=C$zus+C$zuU,C$zuh+=Math.sqrt(C$zua*C$zua+C$zuo*C$zuo),C$zuW[9]=C$zuh,C$zuz=0}for(C$zun*=C$zuh;;C$zuz++)if(!((C$zuD=C$zuW[C$zuz])<C$zun)){0==C$zuz?C$zun/=C$zuD:C$zun=C$zuz+(C$zun-(C$zuC=C$zuW[C$zuz-1]))/(C$zuD-C$zuC);break}this.addCurvePosition(.1*C$zun,C$zuP,C$zuA,C$zuI,C$zuR,C$zuL,C$zuB,C$zuN,C$zuF,C$zub,C$zuM,C$zuf||0<C$zue&&0==C$zug)}return C$zub},C$zur.addBeforePosition=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=C$zue[C$zui],C$zua=C$zue[C$zui+1],C$zuo=C$zue[C$zui+2]-C$zus,C$zue=C$zue[C$zui+3]-C$zua,C$zui=Math.atan2(C$zue,C$zuo);C$zun[C$zur]=C$zus+C$zut*Math.cos(C$zui),C$zun[C$zur+1]=C$zua+C$zut*Math.sin(C$zui),C$zun[C$zur+2]=C$zui},C$zur.addAfterPosition=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=C$zue[C$zui+2],C$zua=C$zue[C$zui+3],C$zuo=C$zus-C$zue[C$zui],C$zue=C$zua-C$zue[C$zui+1],C$zui=Math.atan2(C$zue,C$zuo);C$zun[C$zur]=C$zus+C$zut*Math.cos(C$zui),C$zun[C$zur+1]=C$zua+C$zut*Math.sin(C$zui),C$zun[C$zur+2]=C$zui},C$zur.addCurvePosition=function(C$zut,C$zue,C$zuu,C$zuc,C$zu_,C$zud,C$zuf,C$zui,C$zup,C$zun,C$zur,C$zum){var C$zus=(C$zut=0==C$zut?1e-4:C$zut)*C$zut,C$zug=C$zus*C$zut,C$zua=1-C$zut,C$zuo=C$zua*C$zua,C$zuv=C$zuo*C$zua,C$zuh=C$zua*C$zut,C$zul=3*C$zuh,C$zua=C$zua*C$zul,C$zul=C$zul*C$zut,C$zut=C$zue*C$zuv+C$zuc*C$zua+C$zud*C$zul+C$zui*C$zug,C$zui=C$zuu*C$zuv+C$zu_*C$zua+C$zuf*C$zul+C$zup*C$zug;C$zun[C$zur]=C$zut,C$zun[C$zur+1]=C$zui,C$zun[C$zur+2]=C$zum?Math.atan2(C$zui-(C$zuu*C$zuo+C$zu_*C$zuh*2+C$zuf*C$zus),C$zut-(C$zue*C$zuo+C$zuc*C$zuh*2+C$zud*C$zus)):0},$N.NONE=-1,$N.BEFORE=-2,$N.AFTER=-3,C$zut($N,["_tempMt",function(){return this._tempMt=new C$zuCt}]),$N),C$zuOt=function(){function $m(){this.name=null,this.target=null,this.positionMode=null,this.spacingMode=null,this.rotateMode=null,this.offsetRotation=NaN,this.position=NaN,this.spacing=NaN,this.rotateMix=NaN,this.translateMix=NaN,this.bones=[]}return C$zui($m,"laya.ani.bone.PathConstraintData"),$m}(),C$zuVt=function(){function $m(){this.name=null,this.slotArr=[]}return C$zui($m,"laya.ani.bone.SkinData"),$m}(),C$zukt=function(){function $m(){this.name=null,this.attachmentName=null,this.type=0,this.transform=null,this.width=NaN,this.height=NaN,this.texture=null,this.bones=null,this.uvs=null,this.weights=null,this.triangles=null,this.vertices=null,this.lengths=null,this.verLen=0}C$zui($m,"laya.ani.bone.SkinSlotDisplayData");var C$zut=$m.prototype;return C$zut.createTexture=function(C$zut){return this.texture||(this.texture=new C$zuEt(C$zut.bitmap,this.uvs),C$zut.bitmap.alphaTexture&&(this.texture.alphaTexture=new C$zuEt(C$zut.bitmap.alphaTexture,this.uvs)),this.uvs[0]>this.uvs[4]&&this.uvs[1]>this.uvs[5]?(this.texture.width=C$zut.height,this.texture.height=C$zut.width,this.texture.offsetX=-C$zut.offsetX,this.texture.offsetY=-C$zut.offsetY,this.texture.sourceWidth=C$zut.sourceHeight,this.texture.sourceHeight=C$zut.sourceWidth):(this.texture.width=C$zut.width,this.texture.height=C$zut.height,this.texture.offsetX=-C$zut.offsetX,this.texture.offsetY=-C$zut.offsetY,this.texture.sourceWidth=C$zut.sourceWidth,this.texture.sourceHeight=C$zut.sourceHeight),C$zul.isWebGL||this.uvs[1]>this.uvs[5]&&(this.texture.offsetY=this.texture.sourceHeight-this.texture.height-this.texture.offsetY)),this.texture},C$zut.destory=function(){this.texture&&this.texture.destroy()},$m}(),C$zuUt=function(){function $m(){this.name=null,this.displayArr=[]}return C$zui($m,"laya.ani.bone.SlotData"),$m.prototype.getDisplayByName=function(C$zut){for(var C$zue=0,C$zui=this.displayArr.length;C$zue<C$zui;C$zue++)if(this.displayArr[C$zue].attachmentName==C$zut)return C$zue;return-1},$m}(),C$zuy=function(){function $m(C$zut,C$zue){this._data=null,this._bones=null,this.target=null,this.rotateMix=NaN,this.translateMix=NaN,this.scaleMix=NaN,this.shearMix=NaN,this._temp=C$zup(2,0),this._data=C$zut,null==this._bones&&(this._bones=[]),this.target=C$zue[C$zut.targetIndex];var C$zui,C$zun=0;for(C$zun=0,C$zui=C$zut.boneIndexs.length;C$zun<C$zui;C$zun++)this._bones.push(C$zue[C$zut.boneIndexs[C$zun]]);this.rotateMix=C$zut.rotateMix,this.translateMix=C$zut.translateMix,this.scaleMix=C$zut.scaleMix,this.shearMix=C$zut.shearMix}return C$zui($m,"laya.ani.bone.TfConstraint"),$m.prototype.apply=function(){for(var C$zut,C$zue=this.target.resultMatrix.a,C$zuu=this.target.resultMatrix.b,C$zuc=this.target.resultMatrix.c,C$zu_=this.target.resultMatrix.d,C$zud=0,C$zuf=this._bones.length;C$zud<C$zuf;C$zud++){var C$zui,C$zun,C$zur,C$zus;var C$zua,C$zuo,C$zuh;var C$zul;C$zut=this._bones[C$zud],0<this.rotateMix&&(C$zua=C$zut.resultMatrix.a,C$zui=C$zut.resultMatrix.b,C$zuo=C$zut.resultMatrix.c,C$zun=C$zut.resultMatrix.d,(C$zur=Math.atan2(C$zuc,C$zue)-Math.atan2(C$zuo,C$zua)+this._data.offsetRotation*Math.PI/180)>Math.PI?C$zur-=2*Math.PI:C$zur<-Math.PI&&(C$zur+=2*Math.PI),C$zur*=this.rotateMix,C$zus=Math.cos(C$zur),C$zul=Math.sin(C$zur),C$zut.resultMatrix.a=C$zus*C$zua-C$zul*C$zuo,C$zut.resultMatrix.b=C$zus*C$zui-C$zul*C$zun,C$zut.resultMatrix.c=C$zul*C$zua+C$zus*C$zuo,C$zut.resultMatrix.d=C$zul*C$zui+C$zus*C$zun),this.translateMix&&(this._temp[0]=this._data.offsetX,this._temp[1]=this._data.offsetY,this.target.localToWorld(this._temp),C$zut.resultMatrix.tx+=(this._temp[0]-C$zut.resultMatrix.tx)*this.translateMix,C$zut.resultMatrix.ty+=(this._temp[1]-C$zut.resultMatrix.ty)*this.translateMix,C$zut.updateChild()),0<this.scaleMix&&(C$zua=Math.sqrt(C$zut.resultMatrix.a*C$zut.resultMatrix.a+C$zut.resultMatrix.c*C$zut.resultMatrix.c),C$zuo=Math.sqrt(C$zue*C$zue+C$zuc*C$zuc),C$zuh=1e-5<C$zua?(C$zua+(C$zuo-C$zua+this._data.offsetScaleX)*this.scaleMix)/C$zua:0,C$zut.resultMatrix.a*=C$zuh,C$zut.resultMatrix.c*=C$zuh,C$zua=Math.sqrt(C$zut.resultMatrix.b*C$zut.resultMatrix.b+C$zut.resultMatrix.d*C$zut.resultMatrix.d),C$zuo=Math.sqrt(C$zuu*C$zuu+C$zu_*C$zu_),C$zuh=1e-5<C$zua?(C$zua+(C$zuo-C$zua+this._data.offsetScaleY)*this.scaleMix)/C$zua:0,C$zut.resultMatrix.b*=C$zuh,C$zut.resultMatrix.d*=C$zuh),0<this.shearMix&&(C$zui=C$zut.resultMatrix.b,C$zun=C$zut.resultMatrix.d,C$zul=Math.atan2(C$zun,C$zui),(C$zur=Math.atan2(C$zu_,C$zuu)-Math.atan2(C$zuc,C$zue)-(C$zul-Math.atan2(C$zut.resultMatrix.c,C$zut.resultMatrix.a)))>Math.PI?C$zur-=2*Math.PI:C$zur<-Math.PI&&(C$zur+=2*Math.PI),C$zur=C$zul+(C$zur+this._data.offsetShearY*Math.PI/180)*this.shearMix,C$zuh=Math.sqrt(C$zui*C$zui+C$zun*C$zun),C$zut.resultMatrix.b=Math.cos(C$zur)*C$zuh,C$zut.resultMatrix.d=Math.sin(C$zur)*C$zuh)}},$m}(),C$zuHt=function(){function $m(){this.name=null,this.targetIndex=0,this.rotateMix=NaN,this.translateMix=NaN,this.scaleMix=NaN,this.shearMix=NaN,this.offsetRotation=NaN,this.offsetX=NaN,this.offsetY=NaN,this.offsetScaleX=NaN,this.offsetScaleY=NaN,this.offsetShearY=NaN,this.boneIndexs=[]}return C$zui($m,"laya.ani.bone.TfConstraintData"),$m}(),C$zuWt=function(){function $m(){this.skX=0,this.skY=0,this.scX=1,this.scY=1,this.x=0,this.y=0,this.skewX=0,this.skewY=0,this.mMatrix=null}C$zui($m,"laya.ani.bone.Transform");var C$zut=$m.prototype;return C$zut.initData=function(C$zut){null!=C$zut.x&&(this.x=C$zut.x),null!=C$zut.y&&(this.y=C$zut.y),null!=C$zut.skX&&(this.skX=C$zut.skX),null!=C$zut.skY&&(this.skY=C$zut.skY),null!=C$zut.scX&&(this.scX=C$zut.scX),null!=C$zut.scY&&(this.scY=C$zut.scY)},C$zut.getMatrix=function(){var C$zut;return(C$zut=this.mMatrix||(this.mMatrix=new C$zuCt)).identity(),C$zut.scale(this.scX,this.scY),(this.skewX||this.skewY)&&this.skew(C$zut,this.skewX*Math.PI/180,this.skewY*Math.PI/180),C$zut.rotate(this.skX*Math.PI/180),C$zut.translate(this.x,this.y),C$zut},C$zut.skew=function(C$zut,C$zue,C$zui){var C$zun=Math.sin(C$zui),C$zui=Math.cos(C$zui),C$zur=Math.sin(C$zue),C$zue=Math.cos(C$zue);return C$zut.setTo(C$zut.a*C$zue-C$zut.b*C$zun,C$zut.a*C$zur+C$zut.b*C$zui,C$zut.c*C$zue-C$zut.d*C$zun,C$zut.c*C$zur+C$zut.d*C$zui,C$zut.tx*C$zue-C$zut.ty*C$zun,C$zut.tx*C$zur+C$zut.ty*C$zui),C$zut},$m}(),C$zub=function(){function $m(){}return C$zui($m,"laya.ani.bone.UVTools"),$m.getRelativeUV=function(C$zut,C$zue,C$zui){var C$zun=C$zut[0],C$zur=C$zut[2]-C$zut[0],C$zus=C$zut[1],C$zut=C$zut[5]-C$zut[1];(C$zui=C$zui||[]).length=C$zue.length;var C$zua,C$zuo=0;C$zua=C$zui.length;var C$zuh=1/C$zur,C$zul=1/C$zut;for(C$zuo=0;C$zuo<C$zua;C$zuo+=2)C$zui[C$zuo]=(C$zue[C$zuo]-C$zun)*C$zuh,C$zui[C$zuo+1]=(C$zue[C$zuo+1]-C$zus)*C$zul;return C$zui},$m.getAbsoluteUV=function(C$zut,C$zue,C$zui){if(0==C$zut[0]&&0==C$zut[1]&&1==C$zut[4]&&1==C$zut[5])return C$zui?(C$zum.copyArray(C$zui,C$zue),C$zui):C$zue;var C$zun=C$zut[0],C$zur=C$zut[2]-C$zut[0],C$zus=C$zut[1],C$zua=C$zut[5]-C$zut[1];(C$zui=C$zui||[]).length=C$zue.length;var C$zuo,C$zuh=0;for(C$zuo=C$zui.length,C$zuh=0;C$zuh<C$zuo;C$zuh+=2)C$zui[C$zuh]=C$zue[C$zuh]*C$zur+C$zun,C$zui[C$zuh+1]=C$zue[C$zuh+1]*C$zua+C$zus;return C$zui},$m}(),C$zuD=function(){function $m(){this.startTime=NaN,this.duration=NaN,this.interpolationData=null,this.data=null,this.nextData=null}return C$zui($m,"laya.ani.KeyFramesContent"),$m}(),C$zuT=(C$zui($D,"laya.ani.math.BezierLerp"),$D.getBezierRate=function(C$zut,C$zue,C$zui,C$zun,C$zur){var C$zus=$D._getBezierParamKey(C$zue,C$zui,C$zun,C$zur),C$zua=100*C$zus+C$zut;if($D._bezierResultCache[C$zua])return $D._bezierResultCache[C$zua];var C$zuo,C$zuh=$D._getBezierPoints(C$zue,C$zui,C$zun,C$zur,C$zus),C$zul=0;for(C$zuo=C$zuh.length,C$zul=0;C$zul<C$zuo;C$zul+=2)if(C$zut<=C$zuh[C$zul])return $D._bezierResultCache[C$zua]=C$zuh[C$zul+1],C$zuh[C$zul+1];return $D._bezierResultCache[C$zua]=1},$D._getBezierParamKey=function(C$zut,C$zue,C$zui,C$zun){return 100*(100*(100*(100*C$zut+C$zue)+C$zui)+C$zun)},$D._getBezierPoints=function(C$zut,C$zue,C$zui,C$zun,C$zur){return $D._bezierPointsCache[C$zur]||(C$zut=[0,0,C$zut,C$zue,C$zui,C$zun,1,1],C$zue=(new C$zus).getBezierPoints(C$zut,100,3),$D._bezierPointsCache[C$zur]=C$zue)},$D._bezierResultCache={},$D._bezierPointsCache={},$D),C$zuw=(C$zui($p,"laya.ani.AnimationPlayer",C$zue),C$zur=$p.prototype,C$zuA.imps(C$zur,{"laya.resource.IDestroy":!0}),C$zur._onTempletLoadedComputeFullKeyframeIndices=function(C$zut,C$zue,C$zui){this._templet===C$zui&&this._cachePlayRate===C$zut&&this._cacheFrameRate===C$zue&&this._computeFullKeyframeIndices()},C$zur._computeFullKeyframeIndices=function(){for(var C$zuu=this._fullFrames=[],C$zut=this._templet,C$zue=this._cacheFrameRateInterval*this._cachePlayRate,C$zui=0,C$zuc=C$zut.getAnimationCount();C$zui<C$zuc;C$zui++){for(var C$zun=[],C$zur=0,C$zu_=C$zut.getAnimation(C$zui).nodes.length;C$zur<C$zu_;C$zur++){for(var C$zus=C$zut.getAnimation(C$zui).nodes[C$zur],C$zud=Math.floor(C$zus.playTime/C$zue+.01),C$zua=new Uint16Array(C$zud+1),C$zuf=-1,C$zuo=0,C$zup=C$zus.keyFrame.length;C$zuo<C$zup;C$zuo++){var C$zum=C$zus.keyFrame[C$zuo],C$zuh=C$zum.startTime,C$zug=C$zuh+C$zum.duration+C$zue;do{for(var C$zuv=Math.floor(C$zuh/C$zue+.5),C$zul=C$zuf+1;C$zul<C$zuv;C$zul++)C$zua[C$zul]=C$zuo}while(C$zua[C$zuf=C$zuv]=C$zuo,(C$zuh+=C$zue)<=C$zug)}C$zun.push(C$zua)}C$zuu.push(C$zun)}},C$zur._onAnimationTempletLoaded=function(){this.destroyed||this._calculatePlayDuration()},C$zur._calculatePlayDuration=function(){var C$zut;0!==this.state&&(C$zut=this._templet.getAniDuration(this._currentAnimationClipIndex),0===this._playEnd&&(this._playEnd=C$zut),this._playEnd>C$zut&&(this._playEnd=C$zut),this._playDuration=this._playEnd-this._playStart)},C$zur._setPlayParams=function(C$zut,C$zue){this._currentTime=C$zut,this._currentKeyframeIndex=Math.max(Math.floor(this.currentPlayTime/C$zue+.01),0),this._currentFrameTime=this._currentKeyframeIndex*C$zue},C$zur._setPlayParamsWhenStop=function(C$zut,C$zue){this._currentTime=C$zut,this._currentKeyframeIndex=Math.max(Math.floor(C$zut/C$zue+.01),0),this._currentFrameTime=this._currentKeyframeIndex*C$zue,this._currentAnimationClipIndex=-1},C$zur._update=function(C$zut){if(-1!==this._currentAnimationClipIndex&&!this._paused&&this._templet&&this._templet.loaded){var C$zue=this._cacheFrameRateInterval*this._cachePlayRate,C$zui=0;this._startUpdateLoopCount!==C$zuf.loopCount&&(C$zui=C$zut*this.playbackRate,this._elapsedPlaybackTime+=C$zui);var C$zun=this.playDuration;if(0!==this._overallDuration&&this._elapsedPlaybackTime>=this._overallDuration||0===this._overallDuration&&this._elapsedPlaybackTime>=C$zun)return this._setPlayParamsWhenStop(C$zun,C$zue),void this.event("stopped");if(C$zui+=this._currentTime,0<C$zun)if(C$zun<=C$zui){do{if(C$zui-=C$zun,this._stopWhenCircleFinish)return this._setPlayParamsWhenStop(C$zun,C$zue),this._stopWhenCircleFinish=!1,void this.event("stopped")}while(C$zui<C$zun&&(this._setPlayParams(C$zui,C$zue),this.event("complete")),C$zun<=C$zui)}else this._setPlayParams(C$zui,C$zue);else{if(this._stopWhenCircleFinish)return this._setPlayParamsWhenStop(C$zun,C$zue),this._stopWhenCircleFinish=!1,void this.event("stopped");this._currentTime=this._currentFrameTime=this._currentKeyframeIndex=0,this.event("complete")}}},C$zur._destroy=function(){this.offAll(),this._templet=null,this._fullFrames=null,this._destroyed=!0},C$zur.play=function(C$zut,C$zue,C$zui,C$zun,C$zur){if(void 0===C$zut&&(C$zut=0),void 0===C$zue&&(C$zue=1),void 0===C$zui&&(C$zui=2147483647),void 0===C$zun&&(C$zun=0),void 0===C$zur&&(C$zur=0),!this._templet)throw new Error("AnimationPlayer:templet must not be null,maybe you need to set url.");if(C$zui<0||C$zun<0||C$zur<0)throw new Error("AnimationPlayer:overallDuration,playStart and playEnd must large than zero.");if(0!==C$zur&&C$zur<C$zun)throw new Error("AnimationPlayer:start must less than end.");this._currentTime=0,this._currentFrameTime=0,this._elapsedPlaybackTime=0,this.playbackRate=C$zue,this._overallDuration=C$zui,this._playStart=C$zun,this._playEnd=C$zur,this._paused=!1,this._currentAnimationClipIndex=C$zut,this._currentKeyframeIndex=0,this._startUpdateLoopCount=C$zuf.loopCount,this.event("played"),this._templet.loaded?this._calculatePlayDuration():this._templet.once("loaded",this,this._onAnimationTempletLoaded),this._update(0)},C$zur.playByFrame=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){C$zus=1e3/(C$zus=void 0===C$zus?30:C$zus);this.play(C$zut=void 0===C$zut?0:C$zut,C$zue=void 0===C$zue?1:C$zue,C$zui=void 0===C$zui?2147483647:C$zui,(C$zun=void 0===C$zun?0:C$zun)*C$zus,(C$zur=void 0===C$zur?0:C$zur)*C$zus)},C$zur.stop=function(C$zut){(C$zut=void 0===C$zut?!0:C$zut)?(this._currentTime=this._currentFrameTime=this._currentKeyframeIndex=0,this._currentAnimationClipIndex=-1,this.event("stopped")):this._stopWhenCircleFinish=!0},C$zun(0,C$zur,"playEnd",function(){return this._playEnd}),C$zun(0,C$zur,"templet",function(){return this._templet},function(C$zut){0===!this.state&&this.stop(!0),this._templet!==C$zut&&((this._templet=C$zut).loaded?this._computeFullKeyframeIndices():C$zut.once("loaded",this,this._onTempletLoadedComputeFullKeyframeIndices,[this._cachePlayRate,this._cacheFrameRate]))}),C$zun(0,C$zur,"playStart",function(){return this._playStart}),C$zun(0,C$zur,"playDuration",function(){return this._playDuration}),C$zun(0,C$zur,"state",function(){return-1===this._currentAnimationClipIndex?0:this._paused?1:2}),C$zun(0,C$zur,"currentKeyframeIndex",function(){return this._currentKeyframeIndex}),C$zun(0,C$zur,"overallDuration",function(){return this._overallDuration}),C$zun(0,C$zur,"currentFrameTime",function(){return this._currentFrameTime}),C$zun(0,C$zur,"currentAnimationClipIndex",function(){return this._currentAnimationClipIndex}),C$zun(0,C$zur,"currentPlayTime",function(){return this._currentTime+this._playStart}),C$zun(0,C$zur,"cachePlayRate",function(){return this._cachePlayRate},function(C$zut){this._cachePlayRate!==C$zut&&(this._cachePlayRate=C$zut,this._templet&&(this._templet.loaded?this._computeFullKeyframeIndices():this._templet.once("loaded",this,this._onTempletLoadedComputeFullKeyframeIndices,[C$zut,this._cacheFrameRate])))}),C$zun(0,C$zur,"cacheFrameRate",function(){return this._cacheFrameRate},function(C$zut){this._cacheFrameRate!==C$zut&&(this._cacheFrameRate=C$zut,this._cacheFrameRateInterval=1e3/this._cacheFrameRate,this._templet&&(this._templet.loaded?this._computeFullKeyframeIndices():this._templet.once("loaded",this,this._onTempletLoadedComputeFullKeyframeIndices,[this._cachePlayRate,C$zut])))}),C$zun(0,C$zur,"currentTime",null,function(C$zut){if(-1!==this._currentAnimationClipIndex&&this._templet&&this._templet.loaded){if(C$zut<this._playStart||C$zut>this._playEnd)throw new Error("AnimationPlayer:value must large than playStartTime,small than playEndTime.");this._startUpdateLoopCount=C$zuf.loopCount;var C$zue=this._cacheFrameRateInterval*this._cachePlayRate;this._currentTime=C$zut,this._currentKeyframeIndex=Math.max(Math.floor(this.currentPlayTime/C$zue),0),this._currentFrameTime=this._currentKeyframeIndex*C$zue}}),C$zun(0,C$zur,"paused",function(){return this._paused},function(C$zut){(this._paused=C$zut)&&this.event("paused")}),C$zun(0,C$zur,"cacheFrameRateInterval",function(){return this._cacheFrameRateInterval}),C$zun(0,C$zur,"destroyed",function(){return this._destroyed}),$p),C$zuR=function(){function $p(){$p.__super.call(this),C$zul.isConchNode&&(this.drawSkin=function(C$zut){C$zut.transform||(C$zut.transform=C$zuCt.EMPTY),this._addCmd([C$zut]),this.setSkinMesh&&this.setSkinMesh(C$zut._ps,C$zut.mVBData,C$zut.mEleNum,0,C$zut.mTexture,C$zut.transform)})}return C$zui($p,"laya.ani.GraphicsAni",C$zua),$p.prototype.drawSkin=function(C$zut){this._saveToCmd(C$zul._context._drawSkin,[C$zut])},$p.create=function(){return $p._caches.pop()||new $p},$p.recycle=function(C$zut){C$zut.clear(),$p._caches.push(C$zut)},$p._caches=[],$p}(),C$zuE=(C$zui($e,"laya.ani.AnimationTemplet",C$zu_),(C$zut=$e.prototype).parse=function(C$zut){C$zut=new C$zuDt(C$zut);this._aniVersion=C$zut.readUTFString(),C$zug.parse(this,C$zut)},C$zut._calculateKeyFrame=function(C$zut,C$zue,C$zui){var C$zun=C$zut.keyFrame;C$zun[C$zue]=C$zun[0];for(var C$zur=0;C$zur<C$zue;C$zur++){var C$zus=C$zun[C$zur];C$zus.nextData=(0===C$zus.duration?C$zus:C$zun[C$zur+1]).data}C$zun.length--},C$zut.onAsynLoaded=function(C$zut,C$zue,C$zui){C$zue=new C$zuDt(C$zue);("LAYAANIMATION:02"===(this._aniVersion=C$zue.readUTFString(),this._aniVersion)?C$zuv:C$zug).parse(this,C$zue),this._endLoaded()},C$zut.disposeResource=function(){this._aniVersion=null,this._anis=null,this._aniMap=null,this._publicExtData=null,this.unfixedCurrentFrameIndexes=null,this.unfixedCurrentTimes=null,this.unfixedKeyframes=null,this._aniClassName=null,this._animationDatasCache=null},C$zut.getAnimationCount=function(){return this._anis.length},C$zut.getAnimation=function(C$zut){return this._anis[C$zut]},C$zut.getAniDuration=function(C$zut){return this._anis[C$zut].playTime},C$zut.getNodes=function(C$zut){return this._anis[C$zut].nodes},C$zut.getNodeIndexWithName=function(C$zut,C$zue){return this._anis[C$zut].bone3DMap[C$zue]},C$zut.getNodeCount=function(C$zut){return this._anis[C$zut].nodes.length},C$zut.getTotalkeyframesLength=function(C$zut){return this._anis[C$zut].totalKeyframeDatasLength},C$zut.getPublicExtData=function(){return this._publicExtData},C$zut.getAnimationDataWithCache=function(C$zut,C$zue,C$zui,C$zun){C$zue=C$zue[C$zui];return C$zue&&(C$zui=C$zue[C$zut])?C$zui[C$zun]:null},C$zut.setAnimationDataWithCache=function(C$zut,C$zue,C$zui,C$zun,C$zur){C$zue=C$zue[C$zui]||(C$zue[C$zui]={});(C$zue[C$zut]||(C$zue[C$zut]=[]))[C$zun]=C$zur},C$zut.getOriginalData=function(C$zuu,C$zut,C$zuc,C$zu_,C$zud){for(var C$zuf=this._anis[C$zuu].nodes,C$zue=0,C$zui=0,C$zup=C$zuf.length,C$zun=0;C$zui<C$zup;C$zui++){var C$zur,C$zus=C$zuf[C$zui];C$zur=C$zus.keyFrame[C$zuc[C$zui][C$zu_]],C$zus.dataOffset=C$zun;var C$zua=C$zud-C$zur.startTime,C$zum=C$zus.lerpType;if(C$zum)switch(C$zum){case 0:case 1:for(C$zue=0;C$zue<C$zus.keyframeWidth;)C$zue+=C$zus.interpolationMethod[C$zue](C$zus,C$zue,C$zut,C$zun+C$zue,C$zur.data,C$zua,null,C$zur.duration,C$zur.nextData);break;case 2:var C$zuo=C$zur.interpolationData,C$zug=C$zuo.length,C$zuh=0;for(C$zue=0;C$zue<C$zug;){var C$zul=C$zuo[C$zue];switch(C$zul){case 6:case 7:C$zue+=$e.interpolation[C$zul](C$zus,C$zuh,C$zut,C$zun+C$zuh,C$zur.data,C$zua,null,C$zur.duration,C$zur.nextData,C$zuo,C$zue+1);break;default:C$zue+=$e.interpolation[C$zul](C$zus,C$zuh,C$zut,C$zun+C$zuh,C$zur.data,C$zua,null,C$zur.duration,C$zur.nextData)}C$zuh++}}else for(C$zue=0;C$zue<C$zus.keyframeWidth;)C$zue+=C$zus.interpolationMethod[C$zue](C$zus,C$zue,C$zut,C$zun+C$zue,C$zur.data,C$zua,null,C$zur.duration,C$zur.nextData);C$zun+=C$zus.keyframeWidth}},C$zut.getNodesCurrentFrameIndex=function(C$zut,C$zue){var C$zui=this._anis[C$zut].nodes;C$zut!==this.unfixedLastAniIndex&&(this.unfixedCurrentFrameIndexes=new Uint32Array(C$zui.length),this.unfixedCurrentTimes=new Float32Array(C$zui.length),this.unfixedLastAniIndex=C$zut);for(var C$zun=0,C$zur=C$zui.length;C$zun<C$zur;C$zun++){var C$zus=C$zui[C$zun];for(C$zue<this.unfixedCurrentTimes[C$zun]&&(this.unfixedCurrentFrameIndexes[C$zun]=0),this.unfixedCurrentTimes[C$zun]=C$zue;this.unfixedCurrentFrameIndexes[C$zun]<C$zus.keyFrame.length&&!(C$zus.keyFrame[this.unfixedCurrentFrameIndexes[C$zun]].startTime>this.unfixedCurrentTimes[C$zun]);)this.unfixedCurrentFrameIndexes[C$zun]++;this.unfixedCurrentFrameIndexes[C$zun]--}return this.unfixedCurrentFrameIndexes},C$zut.getOriginalDataUnfixedRate=function(C$zut,C$zue,C$zuu){var C$zui=this._anis[C$zut].nodes;C$zut!==this.unfixedLastAniIndex&&(this.unfixedCurrentFrameIndexes=new Uint32Array(C$zui.length),this.unfixedCurrentTimes=new Float32Array(C$zui.length),this.unfixedKeyframes=C$zup(C$zui.length),this.unfixedLastAniIndex=C$zut);for(var C$zun=0,C$zur=0,C$zuc=C$zui.length,C$zus=0;C$zur<C$zuc;C$zur++){var C$zua=C$zui[C$zur];for(C$zuu<this.unfixedCurrentTimes[C$zur]&&(this.unfixedCurrentFrameIndexes[C$zur]=0),this.unfixedCurrentTimes[C$zur]=C$zuu;this.unfixedCurrentFrameIndexes[C$zur]<C$zua.keyFrame.length&&!(C$zua.keyFrame[this.unfixedCurrentFrameIndexes[C$zur]].startTime>this.unfixedCurrentTimes[C$zur]);)this.unfixedKeyframes[C$zur]=C$zua.keyFrame[this.unfixedCurrentFrameIndexes[C$zur]],this.unfixedCurrentFrameIndexes[C$zur]++;var C$zuo=this.unfixedKeyframes[C$zur];C$zua.dataOffset=C$zus;var C$zuh=C$zuu-C$zuo.startTime;if(C$zua.lerpType)switch(C$zua.lerpType){case 0:case 1:for(C$zun=0;C$zun<C$zua.keyframeWidth;)C$zun+=C$zua.interpolationMethod[C$zun](C$zua,C$zun,C$zue,C$zus+C$zun,C$zuo.data,C$zuh,null,C$zuo.duration,C$zuo.nextData);break;case 2:var C$zu_=C$zuo.interpolationData,C$zud=C$zu_.length,C$zul=0;for(C$zun=0;C$zun<C$zud;){var C$zuf=C$zu_[C$zun];switch(C$zuf){case 6:case 7:C$zun+=$e.interpolation[C$zuf](C$zua,C$zul,C$zue,C$zus+C$zul,C$zuo.data,C$zuh,null,C$zuo.duration,C$zuo.nextData,C$zu_,C$zun+1);break;default:C$zun+=$e.interpolation[C$zuf](C$zua,C$zul,C$zue,C$zus+C$zul,C$zuo.data,C$zuh,null,C$zuo.duration,C$zuo.nextData)}C$zul++}}else for(C$zun=0;C$zun<C$zua.keyframeWidth;)C$zun+=C$zua.interpolationMethod[C$zun](C$zua,C$zun,C$zue,C$zus+C$zun,C$zuo.data,C$zuh,null,C$zuo.duration,C$zuo.nextData);C$zus+=C$zua.keyframeWidth}},$e._LinearInterpolation_0=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul){C$zus=0===C$zuo?0:C$zus/C$zuo;return C$zui[C$zun]=(1-C$zus)*C$zur[C$zue]+C$zus*C$zuh[C$zue],1},$e._QuaternionInterpolation_1=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul){return C$zuc.slerpQuaternionArray(C$zur,C$zue,C$zuh,C$zue,0===C$zuo?0:C$zus/C$zuo,C$zui,C$zun),4},$e._AngleInterpolation_2=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul){return 0},$e._RadiansInterpolation_3=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul){return 0},$e._Matrix4x4Interpolation_4=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zul,C$zuu){for(var C$zuh=0;C$zuh<16;C$zuh++,C$zue++)C$zui[C$zun+C$zuh]=C$zur[C$zue]+C$zus*C$zua[C$zue];return 16},$e._NoInterpolation_5=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zuo,C$zuh,C$zul){return C$zui[C$zun]=C$zur[C$zue],1},$e._BezierInterpolation_6=function(C$zul,C$zut,C$zue,C$zui,C$zun,C$zur,C$zuu,C$zus,C$zua,C$zuo,C$zuh){return C$zue[C$zui]=C$zun[C$zut]+(C$zua[C$zut]-C$zun[C$zut])*C$zuT.getBezierRate(C$zur/C$zus,C$zuo[C$zuh=void 0===C$zuh?0:C$zuh],C$zuo[C$zuh+1],C$zuo[C$zuh+2],C$zuo[C$zuh+3]),5},$e._BezierInterpolation_7=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus,C$zua,C$zul,C$zuu,C$zuo,C$zuh){return C$zui[C$zun]=C$zuo[(C$zuh=void 0===C$zuh?0:C$zuh)+4]+C$zuo[C$zuh+5]*C$zuT.getBezierRate((.001*C$zus+C$zuo[C$zuh+6])/C$zuo[C$zuh+7],C$zuo[C$zuh],C$zuo[C$zuh+1],C$zuo[C$zuh+2],C$zuo[C$zuh+3]),9},$e.load=function(C$zut){return C$zuA.loader.create(C$zut,null,null,$e)},$e.interpolation=[$e._LinearInterpolation_0,$e._QuaternionInterpolation_1,$e._AngleInterpolation_2,$e._RadiansInterpolation_3,$e._Matrix4x4Interpolation_4,$e._NoInterpolation_5,$e._BezierInterpolation_6,$e._BezierInterpolation_7],$e),C$zuM=(C$zui($h,"laya.ani.bone.Skeleton",C$zuL=C$zuI),(C$zue=$h.prototype).init=function(C$zut,C$zue){var C$zui,C$zun,C$zur,C$zus=0,C$zua=0;if(1==(C$zue=void 0===C$zue?0:C$zue))for(this._graphicsCache=[],C$zus=0,C$zua=C$zut.getAnimationCount();C$zus<C$zua;C$zus++)this._graphicsCache.push([]);if(this._yReverseMatrix=C$zut.yReverseMatrix,this._aniMode=C$zue,this._templet=C$zut,this._player=new C$zuw,this._player.cacheFrameRate=C$zut.rate,this._player.templet=C$zut,this._player.play(),this._parseSrcBoneMatrix(),this._boneList=C$zut.mBoneArr,this._rootBone=C$zut.mRootBone,this._aniSectionDic=C$zut.aniSectionDic,0<C$zut.ikArr.length)for(this._ikArr=[],C$zus=0,C$zua=C$zut.ikArr.length;C$zus<C$zua;C$zus++)this._ikArr.push(new C$zu$(C$zut.ikArr[C$zus],this._boneList));if(0<C$zut.pathArr.length)for(null==this._pathDic&&(this._pathDic={}),C$zus=0,C$zua=C$zut.pathArr.length;C$zus<C$zua;C$zus++)C$zui=C$zut.pathArr[C$zus],C$zun=new C$zux(C$zui,this._boneList),(C$zur=this._boneSlotDic[C$zui.name])&&((C$zun=new C$zux(C$zui,this._boneList)).target=C$zur),this._pathDic[C$zui.name]=C$zun;if(0<C$zut.tfArr.length)for(this._tfArr=[],C$zus=0,C$zua=C$zut.tfArr.length;C$zus<C$zua;C$zus++)this._tfArr.push(new C$zuy(C$zut.tfArr[C$zus],this._boneList));0<C$zut.skinDataArray.length&&(C$zue=this._templet.skinDataArray[this._skinIndex],this._skinName=C$zue.name),this._player.on("played",this,this._onPlay),this._player.on("stopped",this,this._onStop),this._player.on("paused",this,this._onPause)},C$zue.load=function(C$zut,C$zue,C$zui){},C$zue._onLoaded=function(){},C$zue._parseComplete=function(){var C$zut=C$zuP.TEMPLET_DICTIONARY[this._aniPath];C$zut&&(this.init(C$zut,this._loadAniMode),this.play(0,!0)),this._complete&&this._complete.runWith(this)},C$zue._parseFail=function(){console.error("[Error]:"+this._aniPath+"\u89e3\u6790\u5931\u8d25")},C$zue._onPlay=function(){this.event("played")},C$zue._onStop=function(){var C$zut,C$zue=this._templet.eventAniArr[this._aniClipIndex];if(C$zue&&this._eventIndex<C$zue.length)for(;this._eventIndex<C$zue.length;this._eventIndex++)(C$zut=C$zue[this._eventIndex]).time>=this._player.playStart&&C$zut.time<=this._player.playEnd&&this.event("label",C$zut);this._eventIndex=0,this._drawOrder=null,this.event("stopped")},C$zue._onPause=function(){this.event("paused")},C$zue._parseSrcBoneMatrix=function(){var C$zut=0,C$zue=0;for(C$zue=this._templet.srcBoneMatrixArr.length,C$zut=0;C$zut<C$zue;C$zut++)this._boneMatrixArray.push(new C$zuCt);if(0==this._aniMode)this._boneSlotDic=this._templet.boneSlotDic,this._bindBoneBoneSlotDic=this._templet.bindBoneBoneSlotDic,this._boneSlotArray=this._templet.boneSlotArray;else{null==this._boneSlotDic&&(this._boneSlotDic={}),null==this._bindBoneBoneSlotDic&&(this._bindBoneBoneSlotDic={}),null==this._boneSlotArray&&(this._boneSlotArray=[]);var C$zui,C$zun,C$zur=this._templet.boneSlotArray;for(C$zut=0,C$zue=C$zur.length;C$zut<C$zue;C$zut++)C$zui=C$zur[C$zut],null==(C$zun=this._bindBoneBoneSlotDic[C$zui.parent])&&(this._bindBoneBoneSlotDic[C$zui.parent]=C$zun=[]),this._boneSlotDic[C$zui.name]=C$zui=C$zui.copy(),C$zun.push(C$zui),this._boneSlotArray.push(C$zui)}},C$zue._emitMissedEvents=function(C$zut,C$zue,C$zui){void 0===C$zui&&(C$zui=0);var C$zun=this._templet.eventAniArr[this._player.currentAnimationClipIndex];if(C$zun){var C$zur,C$zus,C$zua=0;for(C$zur=C$zun.length,C$zua=C$zui;C$zua<C$zur;C$zua++)(C$zus=C$zun[C$zua]).time>=this._player.playStart&&C$zus.time<=this._player.playEnd&&this.event("label",C$zus)}},C$zue._update=function(C$zut){if(void 0===C$zut&&(C$zut=!0),!(this._pause||C$zut&&this._indexControl)){var C$zue=this.timer.currTimer,C$zui=this._player.currentKeyframeIndex,C$zun=C$zue-this._lastTime;if(C$zut?this._player._update(C$zun):C$zui=-1,this._lastTime=C$zue,this._player&&(this._index=this._clipIndex=this._player.currentKeyframeIndex,!(this._index<0||0<C$zun&&this._clipIndex==C$zui&&this._lastUpdateAniClipIndex==this._aniClipIndex))){this._lastUpdateAniClipIndex=this._aniClipIndex,C$zui>this._clipIndex&&0!=this._eventIndex&&(this._emitMissedEvents(this._player.playStart,this._player.playEnd,this._eventIndex),this._eventIndex=0);var C$zur,C$zut=this._templet.eventAniArr[this._aniClipIndex];if(C$zut&&this._eventIndex<C$zut.length&&((C$zue=C$zut[this._eventIndex]).time>=this._player.playStart&&C$zue.time<=this._player.playEnd?this._player.currentPlayTime>=C$zue.time&&(this.event("label",C$zue),this._eventIndex++):this._eventIndex++),0==this._aniMode){if(C$zur=this._templet.getGrahicsDataWithCache(this._aniClipIndex,this._clipIndex))return void(this.graphics!=C$zur&&(this.graphics=C$zur));var C$zus=0,C$zua=0;for(C$zua=this._clipIndex;!this._templet.getGrahicsDataWithCache(this._aniClipIndex,C$zua-1)&&0<C$zua;)C$zua--;if(C$zua<this._clipIndex)for(C$zus=C$zua;C$zus<this._clipIndex;C$zus++)this._createGraphics(C$zus)}else if(1==this._aniMode){if(C$zur=this._getGrahicsDataWithCache(this._aniClipIndex,this._clipIndex))return void(this.graphics!=C$zur&&(this.graphics=C$zur));for(C$zua=this._clipIndex;!this._getGrahicsDataWithCache(this._aniClipIndex,C$zua-1)&&0<C$zua;)C$zua--;if(C$zua<this._clipIndex)for(C$zus=C$zua;C$zus<this._clipIndex;C$zus++)this._createGraphics(C$zus)}this._createGraphics()}}},C$zue._createGraphics=function(C$zut){var C$zuu,C$zue,C$zuc=(C$zut=-1==(C$zut=void 0===C$zut?-1:C$zut)?this._clipIndex:C$zut)*this._player.cacheFrameRateInterval,C$zu_=this._templet.drawOrderAniArr[this._aniClipIndex];if(C$zu_&&0<C$zu_.length)for(this._drawOrderIndex=0,C$zuu=C$zu_[this._drawOrderIndex];C$zuc>=C$zuu.time&&(this._drawOrder=C$zuu.drawOrder,this._drawOrderIndex++,!(this._drawOrderIndex>=C$zu_.length));)C$zuu=C$zu_[this._drawOrderIndex];0!=this._aniMode&&1!=this._aniMode&&this.graphics instanceof laya.ani.GraphicsAni?this.graphics.clear():this.graphics=C$zuR.create(),C$zue=this.graphics;var C$zud=this._templet.getNodes(this._aniClipIndex);this._templet.getOriginalData(this._aniClipIndex,this._curOriginalData,this._player._fullFrames[this._aniClipIndex],C$zut,C$zuc);var C$zui,C$zuf,C$zun,C$zur,C$zup=this._aniSectionDic[this._aniClipIndex],C$zus=0,C$zua=0,C$zum=0,C$zug=0,C$zuo=0,C$zuv=this._templet.srcBoneMatrixArr.length;for(C$zuo=C$zup[C$zua=0];C$zua<C$zuv;C$zua++)C$zur=this._boneList[C$zua],C$zun=this._templet.srcBoneMatrixArr[C$zua],C$zur.resultTransform.scX=C$zun.scX*this._curOriginalData[C$zus++],C$zur.resultTransform.skX=C$zun.skX+this._curOriginalData[C$zus++],C$zur.resultTransform.skY=C$zun.skY+this._curOriginalData[C$zus++],C$zur.resultTransform.scY=C$zun.scY*this._curOriginalData[C$zus++],C$zur.resultTransform.x=C$zun.x+this._curOriginalData[C$zus++],C$zur.resultTransform.y=C$zun.y+this._curOriginalData[C$zus++],8===this._templet.tMatrixDataLen&&(C$zur.resultTransform.skewX=C$zun.skewX+this._curOriginalData[C$zus++],C$zur.resultTransform.skewY=C$zun.skewY+this._curOriginalData[C$zus++]);var C$zu$,C$zux={},C$zuy={};for(C$zuo+=C$zup[1];C$zua<C$zuo;C$zua++)C$zux[(C$zu$=C$zud[C$zua]).name]=this._curOriginalData[C$zus++],C$zuy[C$zu$.name]=this._curOriginalData[C$zus++],this._curOriginalData[C$zus++],this._curOriginalData[C$zus++],this._curOriginalData[C$zus++],this._curOriginalData[C$zus++];var C$zub,C$zuT,C$zuw={},C$zuM={};for(C$zuo+=C$zup[2];C$zua<C$zuo;C$zua++)C$zuw[(C$zu$=C$zud[C$zua]).name]=this._curOriginalData[C$zus++],C$zuM[C$zu$.name]=this._curOriginalData[C$zus++],this._curOriginalData[C$zus++],this._curOriginalData[C$zus++],this._curOriginalData[C$zus++],this._curOriginalData[C$zus++];if(this._pathDic)for(C$zuo+=C$zup[3];C$zua<C$zuo;C$zua++)if(C$zu$=C$zud[C$zua],C$zub=this._pathDic[C$zu$.name])switch(new C$zuDt(C$zu$.extenData).getByte()){case 1:C$zub.position=this._curOriginalData[C$zus++];break;case 2:C$zub.spacing=this._curOriginalData[C$zus++];break;case 3:C$zub.rotateMix=this._curOriginalData[C$zus++],C$zub.translateMix=this._curOriginalData[C$zus++]}if(this._yReverseMatrix?this._rootBone.update(this._yReverseMatrix):this._rootBone.update(C$zuCt.TEMP.identity()),this._ikArr)for(C$zua=0,C$zuo=this._ikArr.length;C$zua<C$zuo;C$zua++)C$zuT=this._ikArr[C$zua],C$zuw.hasOwnProperty(C$zuT.name)&&(C$zuT.bendDirection=C$zuw[C$zuT.name]),C$zuM.hasOwnProperty(C$zuT.name)&&(C$zuT.mix=C$zuM[C$zuT.name]),C$zuT.apply();if(this._pathDic)for(var C$zuS in this._pathDic)(C$zub=this._pathDic[C$zuS]).apply(this._boneList,C$zue);if(this._tfArr)for(C$zua=0,C$zug=this._tfArr.length;C$zua<C$zug;C$zua++)this._tfArr[C$zua].apply();for(C$zua=0,C$zug=this._boneList.length;C$zua<C$zug;C$zua++)if(C$zur=this._boneList[C$zua],C$zuf=this._bindBoneBoneSlotDic[C$zur.name],C$zur.resultMatrix.copyTo(this._boneMatrixArray[C$zua]),C$zuf)for(C$zum=0,C$zuo=C$zuf.length;C$zum<C$zuo;C$zum++)(C$zui=C$zuf[C$zum])&&C$zui.setParentMatrix(C$zur.resultMatrix);var C$zuC,C$zuh,C$zul,C$zuD,C$zuE={},C$zup=this._templet.deformAniArr;if(C$zup&&0<C$zup.length){if(this._lastAniClipIndex!=this._aniClipIndex)for(this._lastAniClipIndex=this._aniClipIndex,C$zua=0,C$zuo=this._boneSlotArray.length;C$zua<C$zuo;C$zua++)(C$zui=this._boneSlotArray[C$zua]).deformData=null;var C$zuP,C$zuA=C$zup[this._aniClipIndex];for(C$zuP in C$zuC=C$zuA.default,this._setDeform(C$zuC,C$zuE,this._boneSlotArray,C$zuc),C$zuA)"default"!=C$zuP&&C$zuP!=this._skinName&&(C$zuC=C$zuA[C$zuP],this._setDeform(C$zuC,C$zuE,this._boneSlotArray,C$zuc));C$zuC=C$zuA[this._skinName],this._setDeform(C$zuC,C$zuE,this._boneSlotArray,C$zuc)}if(this._drawOrder)for(C$zua=0,C$zuo=this._drawOrder.length;C$zua<C$zuo;C$zua++)C$zuh=C$zux[(C$zui=this._boneSlotArray[this._drawOrder[C$zua]]).name],C$zul=C$zuy[C$zui.name],isNaN(C$zul)||(C$zue.save(),C$zue.alpha(C$zul)),isNaN(C$zuh)||-2==C$zuh||(this._templet.attachmentNames?C$zui.showDisplayByName(this._templet.attachmentNames[C$zuh]):C$zui.showDisplayByIndex(C$zuh)),C$zuE[this._drawOrder[C$zua]]?(C$zuD=C$zuE[this._drawOrder[C$zua]],C$zui.currDisplayData&&C$zuD[C$zui.currDisplayData.attachmentName]?C$zui.deformData=C$zuD[C$zui.currDisplayData.attachmentName]:C$zui.deformData=null):C$zui.deformData=null,isNaN(C$zul)?C$zui.draw(C$zue,this._boneMatrixArray,2==this._aniMode):C$zui.draw(C$zue,this._boneMatrixArray,2==this._aniMode,C$zul),isNaN(C$zul)||C$zue.restore();else for(C$zua=0,C$zuo=this._boneSlotArray.length;C$zua<C$zuo;C$zua++)C$zuh=C$zux[(C$zui=this._boneSlotArray[C$zua]).name],C$zul=C$zuy[C$zui.name],isNaN(C$zul)||(C$zue.save(),C$zue.alpha(C$zul)),isNaN(C$zuh)||-2==C$zuh||(this._templet.attachmentNames?C$zui.showDisplayByName(this._templet.attachmentNames[C$zuh]):C$zui.showDisplayByIndex(C$zuh)),C$zuE[C$zua]?(C$zuD=C$zuE[C$zua],C$zui.currDisplayData&&C$zuD[C$zui.currDisplayData.attachmentName]?C$zui.deformData=C$zuD[C$zui.currDisplayData.attachmentName]:C$zui.deformData=null):C$zui.deformData=null,isNaN(C$zul)?C$zui.draw(C$zue,this._boneMatrixArray,2==this._aniMode):C$zui.draw(C$zue,this._boneMatrixArray,2==this._aniMode,C$zul),isNaN(C$zul)||C$zue.restore();0==this._aniMode?this._templet.setGrahicsDataWithCache(this._aniClipIndex,C$zut,C$zue):1==this._aniMode&&this._setGrahicsDataWithCache(this._aniClipIndex,C$zut,C$zue)},C$zue._setDeform=function(C$zut,C$zue,C$zui,C$zun){if(C$zut){var C$zur,C$zus,C$zua,C$zuo,C$zuh=0,C$zul=0;if(C$zut)for(C$zuh=0,C$zuo=C$zut.deformSlotDataList.length;C$zuh<C$zuo;C$zuh++)for(C$zur=C$zut.deformSlotDataList[C$zuh],C$zul=0;C$zul<C$zur.deformSlotDisplayList.length;C$zul++)C$zua=C$zui[(C$zus=C$zur.deformSlotDisplayList[C$zul]).slotIndex],C$zus.apply(C$zun,C$zua),C$zue[C$zus.slotIndex]||(C$zue[C$zus.slotIndex]={}),C$zue[C$zus.slotIndex][C$zus.attachment]=C$zus.deformData}},C$zue.getAnimNum=function(){return this._templet.getAnimationCount()},C$zue.getAniNameByIndex=function(C$zut){return this._templet.getAniNameByIndex(C$zut)},C$zue.getSlotByName=function(C$zut){return this._boneSlotDic[C$zut]},C$zue.showSkinByName=function(C$zut,C$zue){void 0===C$zue&&(C$zue=!0),this.showSkinByIndex(this._templet.getSkinIndexByName(C$zut),C$zue)},C$zue.showSkinByIndex=function(C$zut,C$zue){void 0===C$zue&&(C$zue=!0);for(var C$zui=0;C$zui<this._boneSlotArray.length;C$zui++)this._boneSlotArray[C$zui].showSlotData(null,C$zue);var C$zun;this._templet.showSkinByIndex(this._boneSlotDic,C$zut,C$zue)&&(C$zun=this._templet.skinDataArray[C$zut],this._skinIndex=C$zut,this._skinName=C$zun.name),this._clearCache()},C$zue.showSlotSkinByIndex=function(C$zut,C$zue){0!=this._aniMode&&((C$zut=this.getSlotByName(C$zut))&&C$zut.showDisplayByIndex(C$zue),this._clearCache())},C$zue.showSlotSkinByName=function(C$zut,C$zue){0!=this._aniMode&&((C$zut=this.getSlotByName(C$zut))&&C$zut.showDisplayByName(C$zue),this._clearCache())},C$zue.replaceSlotSkinName=function(C$zut,C$zue,C$zui){0!=this._aniMode&&((C$zut=this.getSlotByName(C$zut))&&C$zut.replaceDisplayByName(C$zue,C$zui),this._clearCache())},C$zue.replaceSlotSkinByIndex=function(C$zut,C$zue,C$zui){0!=this._aniMode&&((C$zut=this.getSlotByName(C$zut))&&C$zut.replaceDisplayByIndex(C$zue,C$zui),this._clearCache())},C$zue.setSlotSkin=function(C$zut,C$zue){0!=this._aniMode&&((C$zut=this.getSlotByName(C$zut))&&C$zut.replaceSkin(C$zue),this._clearCache())},C$zue._clearCache=function(){if(1==this._aniMode)for(var C$zut=0,C$zue=this._graphicsCache.length;C$zut<C$zue;C$zut++){for(var C$zui=0,C$zun=this._graphicsCache[C$zut].length;C$zui<C$zun;C$zui++){var C$zur=this._graphicsCache[C$zut][C$zui];C$zur!=this.graphics&&C$zuR.recycle(C$zur)}this._graphicsCache[C$zut].length=0}},C$zue.play=function(C$zut,C$zue,C$zui,C$zun,C$zur,C$zus){void 0===C$zui&&(C$zui=!0),void 0===C$zun&&(C$zun=0),void 0===C$zur&&(C$zur=0),void 0===C$zus&&(C$zus=!0),this._indexControl=!1;var C$zua=-1;if(C$zue=C$zue?2147483647:0,"string"==typeof C$zut)for(var C$zuo=0,C$zuh=this._templet.getAnimationCount();C$zuo<C$zuh;C$zuo++){var C$zul=this._templet.getAnimation(C$zuo);if(C$zul&&C$zut==C$zul.name){C$zua=C$zuo;break}}else C$zua=C$zut;-1<C$zua&&C$zua<this.getAnimNum()&&(this._aniClipIndex=C$zua,(C$zui||this._pause||this._currAniIndex!=C$zua)&&(this._currAniIndex=C$zua,this._curOriginalData=new Float32Array(this._templet.getTotalkeyframesLength(C$zua)),this._drawOrder=null,this._eventIndex=0,this._player.play(C$zua,this._player.playbackRate,C$zue,C$zun,C$zur),C$zus&&this._templet.showSkinByIndex(this._boneSlotDic,this._skinIndex),this._pause&&(this._pause=!1,this._lastTime=C$zuu.now(),this.timer.frameLoop(1,this,this._update,null,!0)),this._update()))},C$zue.stop=function(){this._pause||(this._pause=!0,this._player&&this._player.stop(!0),this.timer.clear(this,this._update))},C$zue.playbackRate=function(C$zut){this._player&&(this._player.playbackRate=C$zut)},C$zue.paused=function(){this._pause||(this._pause=!0,this._player&&(this._player.paused=!0),this.timer.clear(this,this._update))},C$zue.resume=function(){this._indexControl=!1,this._pause&&(this._pause=!1,this._player&&(this._player.paused=!1),this._lastTime=C$zuu.now(),this.timer.frameLoop(1,this,this._update,null,!0))},C$zue._getGrahicsDataWithCache=function(C$zut,C$zue){return this._graphicsCache[C$zut][C$zue]},C$zue._setGrahicsDataWithCache=function(C$zut,C$zue,C$zui){this._graphicsCache[C$zut][C$zue]=C$zui},C$zue.destroy=function(C$zut){C$zuL.prototype.destroy.call(this,C$zut=void 0===C$zut?!0:C$zut),this._templet=null,this._player&&this._player.offAll(),this._player=null,this._curOriginalData=null,this._boneMatrixArray.length=0,this._lastTime=0,this.timer.clear(this,this._update)},C$zun(0,C$zue,"url",function(){return this._aniPath},function(C$zut){this.load(C$zut)}),C$zun(0,C$zue,"index",function(){return this._index},function(C$zut){this.player&&(this._index=C$zut,this._player.currentTime=1e3*this._index/this._player.cacheFrameRate,this._indexControl=!0,this._update(!1))}),C$zun(0,C$zue,"total",function(){return this._templet&&this._player?this._total=Math.floor(this._templet.getAniDuration(this._player.currentAnimationClipIndex)/1e3*this._player.cacheFrameRate):this._total=-1,this._total}),C$zun(0,C$zue,"templet",function(){return this._templet}),C$zun(0,C$zue,"player",function(){return this._player}),$h.useSimpleMeshInCanvas=!1,$h),C$zuP=function(C$zue){function $L(){this._mainTexture=null,this._textureJson=null,this._graphicsCache=[],this.srcBoneMatrixArr=[],this.ikArr=[],this.tfArr=[],this.pathArr=[],this.boneSlotDic={},this.bindBoneBoneSlotDic={},this.boneSlotArray=[],this.skinDataArray=[],this.skinDic={},this.subTextureDic={},this.isParseFail=!1,this.yReverseMatrix=null,this.drawOrderAniArr=[],this.eventAniArr=[],this.attachmentNames=null,this.deformAniArr=[],this._isDestroyed=!1,this._rate=30,this.isParserComplete=!1,this.aniSectionDic={},this._skBufferUrl=null,this._textureDic={},this._loadList=null,this._path=null,this.tMatrixDataLen=0,this.mRootBone=null,$L.__super.call(this),this.skinSlotDisplayDataArr=[],this.mBoneArr=[]}C$zui($L,"laya.ani.bone.Templet",C$zue);var C$zut=$L.prototype;return C$zut.getLoadList=function(){return this._loadList},C$zut.loadAni=function(C$zut){this._skBufferUrl=C$zut,C$zuA.loader.load(C$zut,C$zuo.create(this,this.onComplete),null,"arraybuffer")},C$zut.onComplete=function(C$zut){var C$zue;this._isDestroyed?this.destroy():(C$zue=C$zuh.getRes(this._skBufferUrl))?(this._path=this._skBufferUrl.slice(0,this._skBufferUrl.lastIndexOf("/"))+"/",this.parseData(null,C$zue)):this.event("error","load failed:"+this._skBufferUrl)},C$zut.parseData=function(C$zut,C$zue,C$zui){void 0===C$zui&&(C$zui=30),!this._path&&this.url&&(this._path=this.url.slice(0,this.url.lastIndexOf("/"))+"/"),this._mainTexture=C$zut,this._mainTexture&&C$zul.isWebGL&&C$zut.bitmap&&(C$zut.bitmap.enableMerageInAtlas=!1),this._rate=C$zui,this.parse(C$zue)},C$zut.buildArmature=function(C$zut){return new C$zuM(this,C$zut=void 0===C$zut?0:C$zut)},C$zut.parse=function(C$zut){C$zue.prototype.parse.call(this,C$zut),this._endLoaded(),this._aniVersion!=$L.LAYA_ANIMATION_VISION&&(console.error("[Error] \u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u8bf7\u4f7f\u7528IDE\u7248\u672c\u914d\u5957\u7684\u91cd\u65b0\u5bfc\u51fa"+this._aniVersion+"->"+$L.LAYA_ANIMATION_VISION),this._loaded=!1),this.loaded?this._mainTexture?this._parsePublicExtData():this._parseTexturePath():(this.event("error",this),this.isParseFail=!0)},C$zut._parseTexturePath=function(){if(this._isDestroyed)this.destroy();else{var C$zut=0;this._loadList=[];var C$zue,C$zui=new C$zuDt(this.getPublicExtData()),C$zun=0,C$zur=C$zui.getInt32(),C$zus=C$zui.readUTFString().split("\n");for(C$zut=0;C$zut<C$zur;C$zut++)C$zue=this._path+C$zus[2*C$zut],C$zus[2*C$zut+1],C$zui.getFloat32(),C$zui.getFloat32(),C$zui.getFloat32(),C$zui.getFloat32(),C$zun=C$zui.getFloat32(),isNaN(C$zun),C$zun=C$zui.getFloat32(),isNaN(C$zun),C$zun=C$zui.getFloat32(),isNaN(C$zun),C$zun=C$zui.getFloat32(),isNaN(C$zun),-1==this._loadList.indexOf(C$zue)&&this._loadList.push(C$zue);this.event("inited",this)}},C$zut._textureComplete=function(){for(var C$zut,C$zue=0,C$zui=this._loadList.length;C$zue<C$zui;C$zue++)C$zut=this._loadList[C$zue],C$zut=this._textureDic[C$zut]=C$zuh.getRes(C$zut),C$zul.isWebGL&&C$zut&&C$zut.bitmap&&(C$zut.bitmap.enableMerageInAtlas=!1);this._parsePublicExtData()},C$zut._parsePublicExtData=function(){var C$zut=0,C$zue=0,C$zuu=0,C$zui=0,C$zuc=0;for(C$zut=0,C$zuc=this.getAnimationCount();C$zut<C$zuc;C$zut++)this._graphicsCache.push([]);var C$zu_;C$zu_="Dragon"!=this._aniClassName;var C$zud,C$zuf,C$zup,C$zum,C$zug,C$zuv,C$zu$,C$zux,C$zuy,C$zun=new C$zuDt(this.getPublicExtData()),C$zur=0,C$zub=C$zun.getInt32(),C$zuT=C$zun.readUTFString(),C$zuw=C$zuT.split("\n");for(C$zut=0;C$zut<C$zub;C$zut++){if(C$zud=this._mainTexture,C$zuf=this._path+C$zuw[2*C$zut],C$zuT=C$zuw[2*C$zut+1],!(C$zud=null==this._mainTexture?this._textureDic[C$zuf]:C$zud))return this.event("error",this),void(this.isParseFail=!0);C$zuf=C$zun.getFloat32(),C$zup=C$zun.getFloat32(),C$zum=C$zun.getFloat32(),C$zug=C$zun.getFloat32(),C$zur=C$zun.getFloat32(),C$zuv=isNaN(C$zur)?0:C$zur,C$zur=C$zun.getFloat32(),C$zu$=isNaN(C$zur)?0:C$zur,C$zur=C$zun.getFloat32(),C$zux=isNaN(C$zur)?C$zum:C$zur,C$zur=C$zun.getFloat32(),C$zuy=isNaN(C$zur)?C$zug:C$zur,this.subTextureDic[C$zuT]=C$zuEt.create(C$zud,C$zuf,C$zup,C$zum,C$zug,-C$zuv,-C$zu$,C$zux,C$zuy),C$zud.alphaTexture&&(this.subTextureDic[C$zuT].alphaTexture=C$zuEt.create(C$zud.alphaTexture,C$zuf,C$zup,C$zum,C$zug,-C$zuv,-C$zu$,C$zux,C$zuy))}this._mainTexture=C$zud;var C$zuM,C$zus,C$zuS,C$zuC,C$zuD=C$zun.getUint16();for(C$zut=0;C$zut<C$zuD;C$zut++)(C$zuM=[]).push(C$zun.getUint16()),C$zuM.push(C$zun.getUint16()),C$zuM.push(C$zun.getUint16()),C$zuM.push(C$zun.getUint16()),this.aniSectionDic[C$zut]=C$zuM;var C$zuE,C$zuP=C$zun.getInt16(),C$zuA={};for(C$zut=0;C$zut<C$zuP;C$zut++)C$zus=new C$zuPt,0==C$zut?C$zuE=C$zus:C$zus.root=C$zuE,C$zus.d=C$zu_?-1:1,C$zuS=C$zun.readUTFString(),C$zuC=C$zun.readUTFString(),C$zus.length=C$zun.getFloat32(),1==C$zun.getByte()&&(C$zus.inheritRotation=!1),1==C$zun.getByte()&&(C$zus.inheritScale=!1),C$zus.name=C$zuS,C$zuC&&((C$zuC=C$zuA[C$zuC])?C$zuC.addChild(C$zus):this.mRootBone=C$zus),C$zuA[C$zuS]=C$zus,this.mBoneArr.push(C$zus);this.tMatrixDataLen=C$zun.getUint16();var C$zuI,C$zuR,C$zuL=C$zun.getUint16(),C$zuB=Math.floor(C$zuL/this.tMatrixDataLen),C$zuN=this.srcBoneMatrixArr;for(C$zut=0;C$zut<C$zuB;C$zut++)(C$zuI=new C$zuWt).scX=C$zun.getFloat32(),C$zuI.skX=C$zun.getFloat32(),C$zuI.skY=C$zun.getFloat32(),C$zuI.scY=C$zun.getFloat32(),C$zuI.x=C$zun.getFloat32(),C$zuI.y=C$zun.getFloat32(),8===this.tMatrixDataLen&&(C$zuI.skewX=C$zun.getFloat32(),C$zuI.skewY=C$zun.getFloat32()),C$zuN.push(C$zuI),(C$zus=this.mBoneArr[C$zut]).transform=C$zuI;var C$zua,C$zuF,C$zuO=C$zun.getUint16();for(C$zut=0;C$zut<C$zuO;C$zut++){for(C$zuR=new C$zuFt,C$zuF=C$zun.getUint16(),C$zue=0;C$zue<C$zuF;C$zue++)C$zuR.boneNames.push(C$zun.readUTFString()),C$zuR.boneIndexs.push(C$zun.getInt16());C$zuR.name=C$zun.readUTFString(),C$zuR.targetBoneName=C$zun.readUTFString(),C$zuR.targetBoneIndex=C$zun.getInt16(),C$zuR.bendDirection=C$zun.getFloat32(),C$zuR.mix=C$zun.getFloat32(),C$zuR.isSpine=C$zu_,this.ikArr.push(C$zuR)}var C$zuo,C$zuV,C$zuk=C$zun.getUint16();for(C$zut=0;C$zut<C$zuk;C$zut++){for(C$zua=new C$zuHt,C$zuV=C$zun.getUint16(),C$zue=0;C$zue<C$zuV;C$zue++)C$zua.boneIndexs.push(C$zun.getInt16());C$zua.name=C$zun.getUTFString(),C$zua.targetIndex=C$zun.getInt16(),C$zua.rotateMix=C$zun.getFloat32(),C$zua.translateMix=C$zun.getFloat32(),C$zua.scaleMix=C$zun.getFloat32(),C$zua.shearMix=C$zun.getFloat32(),C$zua.offsetRotation=C$zun.getFloat32(),C$zua.offsetX=C$zun.getFloat32(),C$zua.offsetY=C$zun.getFloat32(),C$zua.offsetScaleX=C$zun.getFloat32(),C$zua.offsetScaleY=C$zun.getFloat32(),C$zua.offsetShearY=C$zun.getFloat32(),this.tfArr.push(C$zua)}var C$zuU,C$zuH=C$zun.getUint16();for(C$zut=0;C$zut<C$zuH;C$zut++){for((C$zuo=new C$zuOt).name=C$zun.readUTFString(),C$zuU=C$zun.getUint16(),C$zue=0;C$zue<C$zuU;C$zue++)C$zuo.bones.push(C$zun.getInt16());C$zuo.target=C$zun.readUTFString(),C$zuo.positionMode=C$zun.readUTFString(),C$zuo.spacingMode=C$zun.readUTFString(),C$zuo.rotateMode=C$zun.readUTFString(),C$zuo.offsetRotation=C$zun.getFloat32(),C$zuo.position=C$zun.getFloat32(),C$zuo.spacing=C$zun.getFloat32(),C$zuo.rotateMix=C$zun.getFloat32(),C$zuo.translateMix=C$zun.getFloat32(),this.pathArr.push(C$zuo)}var C$zuW,C$zuz,C$zuG,C$zuY,C$zuX,C$zuK,C$zuq,C$zuj,C$zuZ,C$zuQ,C$zuJ=C$zun.getInt16();for(C$zut=0;C$zut<C$zuJ;C$zut++){var C$zutt=C$zun.getUint8(),C$zuet={};this.deformAniArr.push(C$zuet);for(var C$zuit=0;C$zuit<C$zutt;C$zuit++)for((C$zuW=new C$zuIt).skinName=C$zun.getUTFString(),C$zuet[C$zuW.skinName]=C$zuW,C$zuK=C$zun.getInt16(),C$zue=0;C$zue<C$zuK;C$zue++)for(C$zuz=new C$zuRt,C$zuW.deformSlotDataList.push(C$zuz),C$zuq=C$zun.getInt16(),C$zuu=0;C$zuu<C$zuq;C$zuu++)for(C$zuG=new C$zuLt,C$zuz.deformSlotDisplayList.push(C$zuG),C$zuG.slotIndex=C$zun.getInt16(),C$zuG.attachment=C$zun.getUTFString(),C$zuj=C$zun.getInt16(),C$zui=0;C$zui<C$zuj;C$zui++)for(1==C$zun.getByte()?C$zuG.tweenKeyList.push(!0):C$zuG.tweenKeyList.push(!1),C$zuZ=C$zun.getFloat32(),C$zuG.timeList.push(C$zuZ),C$zuG.vectices.push(C$zuY=[]),C$zuQ=C$zun.getInt16(),C$zuc=0;C$zuc<C$zuQ;C$zuc++)C$zuY.push(C$zun.getFloat32())}var C$zunt,C$zurt,C$zust,C$zuat,C$zuot=C$zun.getInt16();for(C$zut=0;C$zut<C$zuot;C$zut++){for(C$zust=C$zun.getInt16(),C$zuX=[],C$zue=0;C$zue<C$zust;C$zue++){for((C$zunt=new C$zuBt).time=C$zun.getFloat32(),C$zuat=C$zun.getInt16(),C$zuu=0;C$zuu<C$zuat;C$zuu++)C$zunt.drawOrder.push(C$zun.getInt16());C$zuX.push(C$zunt)}this.drawOrderAniArr.push(C$zuX)}var C$zuht,C$zult,C$zuut=C$zun.getInt16();for(C$zut=0;C$zut<C$zuut;C$zut++){for(C$zult=C$zun.getInt16(),C$zurt=[],C$zue=0;C$zue<C$zult;C$zue++)(C$zuht=new C$zuNt).name=C$zun.getUTFString(),C$zuht.intValue=C$zun.getInt32(),C$zuht.floatValue=C$zun.getFloat32(),C$zuht.stringValue=C$zun.getUTFString(),C$zuht.time=C$zun.getFloat32(),C$zurt.push(C$zuht);this.eventAniArr.push(C$zurt)}var C$zuct=C$zun.getInt16();if(0<C$zuct)for(this.attachmentNames=[],C$zut=0;C$zut<C$zuct;C$zut++)this.attachmentNames.push(C$zun.getUTFString());var C$zuh,C$zu_t,C$zudt=C$zun.getInt16();for(C$zut=0;C$zut<C$zudt;C$zut++)(C$zuh=new C$zuAt).name=C$zun.readUTFString(),C$zuh.parent=C$zun.readUTFString(),C$zuh.attachmentName=C$zun.readUTFString(),C$zuh.srcDisplayIndex=C$zuh.displayIndex=C$zun.getInt16(),(C$zuh.templet=this).boneSlotDic[C$zuh.name]=C$zuh,null==(C$zu_t=this.bindBoneBoneSlotDic[C$zuh.parent])&&(this.bindBoneBoneSlotDic[C$zuh.parent]=C$zu_t=[]),C$zu_t.push(C$zuh),this.boneSlotArray.push(C$zuh);var C$zuft,C$zupt,C$zul,C$zumt,C$zugt,C$zuvt,C$zu$t,C$zuxt,C$zuyt,C$zubt,C$zuTt=C$zun.readUTFString().split("\n"),C$zuwt=0,C$zuMt=C$zun.getUint8();for(C$zut=0;C$zut<C$zuMt;C$zut++){for((C$zuft=new C$zuVt).name=C$zuTt[C$zuwt++],C$zumt=C$zun.getUint8(),C$zue=0;C$zue<C$zumt;C$zue++){for((C$zupt=new C$zuUt).name=C$zuTt[C$zuwt++],C$zuh=this.boneSlotDic[C$zupt.name],C$zugt=C$zun.getUint8(),C$zuu=0;C$zuu<C$zugt;C$zuu++){if(C$zul=new C$zukt,this.skinSlotDisplayDataArr.push(C$zul),C$zul.name=C$zuTt[C$zuwt++],C$zul.attachmentName=C$zuTt[C$zuwt++],C$zul.transform=new C$zuWt,C$zul.transform.scX=C$zun.getFloat32(),C$zul.transform.skX=C$zun.getFloat32(),C$zul.transform.skY=C$zun.getFloat32(),C$zul.transform.scY=C$zun.getFloat32(),C$zul.transform.x=C$zun.getFloat32(),C$zul.transform.y=C$zun.getFloat32(),C$zupt.displayArr.push(C$zul),C$zul.width=C$zun.getFloat32(),C$zul.height=C$zun.getFloat32(),C$zul.type=C$zun.getUint8(),C$zul.verLen=C$zun.getUint16(),0<(C$zuP=C$zun.getUint16()))for(C$zul.bones=[],C$zui=0;C$zui<C$zuP;C$zui++){var C$zuSt=C$zun.getUint16();C$zul.bones.push(C$zuSt)}if(0<(C$zuvt=C$zun.getUint16()))for(C$zul.uvs=[],C$zui=0;C$zui<C$zuvt;C$zui++)C$zul.uvs.push(C$zun.getFloat32());if(0<(C$zu$t=C$zun.getUint16()))for(C$zul.weights=[],C$zui=0;C$zui<C$zu$t;C$zui++)C$zul.weights.push(C$zun.getFloat32());if(0<(C$zuxt=C$zun.getUint16()))for(C$zul.triangles=[],C$zui=0;C$zui<C$zuxt;C$zui++)C$zul.triangles.push(C$zun.getUint16());if(0<(C$zuyt=C$zun.getUint16()))for(C$zul.vertices=[],C$zui=0;C$zui<C$zuyt;C$zui++)C$zul.vertices.push(C$zun.getFloat32());if(0<(C$zubt=C$zun.getUint16()))for(C$zul.lengths=[],C$zui=0;C$zui<C$zubt;C$zui++)C$zul.lengths.push(C$zun.getFloat32())}C$zuft.slotArr.push(C$zupt)}this.skinDic[C$zuft.name]=C$zuft,this.skinDataArray.push(C$zuft)}1==C$zun.getUint8()?(this.yReverseMatrix=new C$zuCt(1,0,0,-1,0,0),C$zuE&&C$zuE.setTempMatrix(this.yReverseMatrix)):C$zuE&&C$zuE.setTempMatrix(new C$zuCt),this.showSkinByIndex(this.boneSlotDic,0),this.isParserComplete=!0,this.event("complete",this)},C$zut.getTexture=function(C$zut){var C$zue=this.subTextureDic[C$zut];return null==(C$zue=C$zue||this.subTextureDic[C$zut.substr(0,C$zut.length-1)])?this._mainTexture:C$zue},C$zut.showSkinByIndex=function(C$zut,C$zue,C$zui){if(void 0===C$zui&&(C$zui=!0),C$zue<0&&C$zue>=this.skinDataArray.length)return!1;var C$zun,C$zur,C$zus,C$zua=0,C$zuo=this.skinDataArray[C$zue];if(C$zuo){for(C$zua=0,C$zus=C$zuo.slotArr.length;C$zua<C$zus;C$zua++)(C$zur=C$zuo.slotArr[C$zua])&&(C$zun=C$zut[C$zur.name])&&(C$zun.showSlotData(C$zur,C$zui),C$zui&&"undefined"!=C$zun.attachmentName&&"null"!=C$zun.attachmentName?C$zun.showDisplayByName(C$zun.attachmentName):C$zun.showDisplayByIndex(C$zun.displayIndex));return!0}return!1},C$zut.getSkinIndexByName=function(C$zut){for(var C$zue=0,C$zui=this.skinDataArray.length;C$zue<C$zui;C$zue++)if(this.skinDataArray[C$zue].name==C$zut)return C$zue;return-1},C$zut.getGrahicsDataWithCache=function(C$zut,C$zue){return this._graphicsCache[C$zut][C$zue]},C$zut.setGrahicsDataWithCache=function(C$zut,C$zue,C$zui){this._graphicsCache[C$zut][C$zue]=C$zui},C$zut.destroy=function(){var C$zut;for(var C$zue in this._isDestroyed=!0,this.subTextureDic)(C$zut=this.subTextureDic[C$zue])&&C$zut.destroy();for(C$zue in this._textureDic)(C$zut=this._textureDic[C$zue])&&C$zut.destroy();for(var C$zui=0,C$zun=this.skinSlotDisplayDataArr.length;C$zui<C$zun;C$zui++)this.skinSlotDisplayDataArr[C$zui].destory();this.skinSlotDisplayDataArr.length=0,this.url&&delete $L.TEMPLET_DICTIONARY[this.url],laya.resource.Resource.prototype.destroy.call(this)},C$zut.getAniNameByIndex=function(C$zut){C$zut=this.getAnimation(C$zut);return C$zut?C$zut.name:null},C$zun(0,C$zut,"rate",function(){return this._rate},function(C$zut){this._rate=C$zut}),$L.LAYA_ANIMATION_VISION="LAYAANIMATION:1.6.0",$L.TEMPLET_DICTIONARY=null,$L}(C$zuE);function $h(C$zut,C$zue){this._templet=null,this._player=null,this._curOriginalData=null,this._boneMatrixArray=[],this._lastTime=0,this._currAniName=null,this._currAniIndex=-1,this._pause=!0,this._aniClipIndex=-1,this._clipIndex=-1,this._skinIndex=0,this._skinName="default",this._aniMode=0,this._graphicsCache=null,this._boneSlotDic=null,this._bindBoneBoneSlotDic=null,this._boneSlotArray=null,this._index=-1,this._total=-1,this._indexControl=!1,this._aniPath=null,this._texturePath=null,this._complete=null,this._loadAniMode=0,this._yReverseMatrix=null,this._ikArr=null,this._tfArr=null,this._pathDic=null,this._rootBone=null,this._boneList=null,this._aniSectionDic=null,this._eventIndex=0,this._drawOrderIndex=0,this._drawOrder=null,this._lastAniClipIndex=-1,this._lastUpdateAniClipIndex=-1,$h.__super.call(this),void 0===C$zue&&(C$zue=0),C$zut&&this.init(C$zut,C$zue)}var C$zuL;function $e(){this._aniMap={},this.unfixedLastAniIndex=-1,$e.__super.call(this),this._anis=new Array}function $p(){this._destroyed=!1,this._templet=null,this._currentTime=NaN,this._currentFrameTime=NaN,this._playStart=NaN,this._playEnd=NaN,this._playDuration=NaN,this._overallDuration=NaN,this._stopWhenCircleFinish=!1,this._elapsedPlaybackTime=NaN,this._startUpdateLoopCount=NaN,this._currentAnimationClipIndex=0,this._currentKeyframeIndex=0,this._paused=!1,this._cacheFrameRate=0,this._cacheFrameRateInterval=NaN,this._cachePlayRate=NaN,this._fullFrames=null,this.isCache=!0,this.playbackRate=1,this.returnToZeroStopped=!1,$p.__super.call(this),this._destroyed=!1,this._currentAnimationClipIndex=-1,this._currentKeyframeIndex=-1,this._currentTime=0,this._overallDuration=Number.MAX_VALUE,this._stopWhenCircleFinish=!1,this._elapsedPlaybackTime=0,this._startUpdateLoopCount=-1,this._cachePlayRate=1,this.cacheFrameRate=60,this.returnToZeroStopped=!1}function $D(){}function $N(C$zut,C$zue){this.target=null,this.data=null,this.bones=null,this.position=NaN,this.spacing=NaN,this.rotateMix=NaN,this.translateMix=NaN,this._debugKey=!1,this._spaces=null,this._segments=[],this._curves=[],this.data=C$zut,this.position=C$zut.position,this.spacing=C$zut.spacing,this.rotateMix=C$zut.rotateMix,this.translateMix=C$zut.translateMix,this.bones=[];for(var C$zui=this.data.bones,C$zun=0,C$zur=C$zui.length;C$zun<C$zur;C$zun++)this.bones.push(C$zue[C$zui[C$zun]])}function $Pm(C$zut,C$zue){this._targetBone=null,this._bones=null,this._data=null,this.name=null,this.mix=NaN,this.bendDirection=NaN,this.isSpine=!0,this._sp=null,this.isDebug=!1,this._data=C$zut,this._targetBone=C$zue[C$zut.targetBoneIndex],this.isSpine=C$zut.isSpine,null==this._bones&&(this._bones=[]);for(var C$zui=this._bones.length=0,C$zun=C$zut.boneIndexs.length;C$zui<C$zun;C$zui++)this._bones.push(C$zue[C$zut.boneIndexs[C$zui]]);this.name=C$zut.name,this.mix=C$zut.mix,this.bendDirection=C$zut.bendDirection}function $B(){this.name=null,this.parent=null,this.attachmentName=null,this.srcDisplayIndex=-1,this.type="src",this.templet=null,this.currSlotData=null,this.currTexture=null,this.currDisplayData=null,this.displayIndex=-1,this._diyTexture=null,this._parentMatrix=null,this._resultMatrix=null,this._replaceDic={},this._curDiyUV=null,this._curDiyVS=null,this._skinSprite=null,this.deformData=null,this._mVerticleArr=null}function $L(){this.name=null,this.root=null,this.parentBone=null,this.length=10,this.transform=null,this.inheritScale=!0,this.inheritRotation=!0,this.rotation=NaN,this.resultRotation=NaN,this.d=-1,this._tempMatrix=null,this._sprite=null,this.resultTransform=new C$zuWt,this.resultMatrix=new C$zuCt,this._children=[]}var C$zur;function $H(){}function $m(){this.nodes=null,this.name=null,this.playTime=NaN,this.bone3DMap=null,this.totalKeyframeDatasLength=0}}((window,document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$zut,C$zue){"use strict";for(var C$zui in Object.defineProperty(C$zue,"__esModule",{value:!0}),Laya){var C$zun=Laya[C$zui];C$zun&&C$zun.__isclass&&(C$zue[C$zui]=C$zun)}});