!function(C$zuo,C$zul){C$zul.un,C$zul.uns;var C$zui=C$zul.static,C$zua=C$zul.class,C$zun=C$zul.getset;C$zul.__newvec;var C$zud=laya.utils.Browser,C$zue=(laya.events.Event,laya.events.EventDispatcher);var C$zus=laya.resource.HTMLImage,C$zuc=laya.utils.Handler,C$zut=laya.display.Input,C$zuf=laya.net.Loader;laya.maths.Matrix;var C$zuh=laya.renders.Render,C$zuM=laya.utils.RunDriver;laya.media.Sound;var C$zup=laya.media.SoundChannel,C$zuv=laya.media.SoundManager,C$zum=(laya.display.Stage,laya.net.URL);var C$zug=laya.utils.Utils;C$zua(MiniAdpter,"laya.wx.mini.MiniAdpter"),MiniAdpter.getJson=function(C$zui){return JSON.parse(C$zui)},MiniAdpter.init=function(C$zui,C$zun){void 0===C$zui&&(C$zui=!1),void 0===C$zun&&(C$zun=!1),MiniAdpter._inited||(MiniAdpter.window=C$zuo).navigator.userAgent.indexOf("MiniGame")<0||(MiniAdpter._inited=!0,MiniAdpter.isZiYu=C$zun,MiniAdpter.isPosMsgYu=C$zui,MiniAdpter.EnvConfig={},MiniAdpter.isZiYu||(C$zur.setNativeFileDir("/layaairGame"),C$zur.existDir(C$zur.fileNativeDir,C$zuc.create(MiniAdpter,MiniAdpter.onMkdirCallBack))),MiniAdpter.window.focus=function(){},C$zul.getUrlPath=function(){},MiniAdpter.window.logtime=function(C$zui){},MiniAdpter.window.alertTimeLog=function(C$zui){},MiniAdpter.window.resetShareInfo=function(){},MiniAdpter.window.CanvasRenderingContext2D=function(){},MiniAdpter.window.CanvasRenderingContext2D.prototype=MiniAdpter.window.wx.createCanvas().getContext("2d").__proto__,MiniAdpter.window.document.body.appendChild=function(){},MiniAdpter.EnvConfig.pixelRatioInt=0,C$zuM.getPixelRatio=MiniAdpter.pixelRatio,MiniAdpter._preCreateElement=C$zud.createElement,C$zud.createElement=MiniAdpter.createElement,C$zuM.createShaderCondition=MiniAdpter.createShaderCondition,C$zug.parseXMLFromString=MiniAdpter.parseXMLFromString,C$zut._createInputElement=C$zuF._createInputElement,MiniAdpter.EnvConfig.load=C$zuf.prototype.load,C$zuf.prototype.load=C$zuy.prototype.load,MiniAdpter.isZiYu&&C$zui&&wx.onMessage(function(C$zui){C$zui.isLoad&&(C$zur.ziyuFileData[C$zui.url]=C$zui.data)}))},MiniAdpter.onMkdirCallBack=function(C$zui,C$zun){C$zui||(C$zur.filesListObj=JSON.parse(C$zun.data))},MiniAdpter.pixelRatio=function(){if(!MiniAdpter.EnvConfig.pixelRatioInt)try{var C$zui=wx.getSystemInfoSync();return MiniAdpter.EnvConfig.pixelRatioInt=C$zui.pixelRatio,C$zui.pixelRatio}catch(C$zui){}return MiniAdpter.EnvConfig.pixelRatioInt},MiniAdpter.createElement=function(C$zui){return"canvas"!=C$zui?"textarea"==C$zui||"input"==C$zui?MiniAdpter.onCreateInput(C$zui):"div"==C$zui?((C$zue=MiniAdpter._preCreateElement(C$zui)).contains=function(C$zui){return null},C$zue.removeChild=function(C$zui){},C$zue):MiniAdpter._preCreateElement(C$zui):(1==MiniAdpter.idx?MiniAdpter.isZiYu?(C$zun=sharedCanvas).style={}:C$zun=C$zuo.canvas:C$zun=C$zuo.wx.createCanvas(),MiniAdpter.idx++,C$zun);var C$zun;var C$zue},MiniAdpter.onCreateInput=function(C$zui){C$zui=MiniAdpter._preCreateElement(C$zui);return C$zui.focus=C$zuF.wxinputFocus,C$zui.blur=C$zuF.wxinputblur,C$zui.style={},C$zui.value=0,C$zui.parentElement={},C$zui.placeholder={},C$zui.type={},C$zui.setColor=function(C$zui){},C$zui.setType=function(C$zui){},C$zui.setFontFace=function(C$zui){},C$zui.addEventListener=function(C$zui){},C$zui.contains=function(C$zui){return null},C$zui.removeChild=function(C$zui){},C$zui},MiniAdpter.createShaderCondition=function(C$zui){var C$zun=this;return function(){return C$zun[C$zui.replace("this.","")]}},MiniAdpter.EnvConfig=null,MiniAdpter.window=null,MiniAdpter._preCreateElement=null,MiniAdpter._inited=!1,MiniAdpter.wxRequest=null,MiniAdpter.systemInfo=null,MiniAdpter.version="0.0.1",MiniAdpter.isZiYu=!1,MiniAdpter.isPosMsgYu=!1,MiniAdpter.parseXMLFromString=function(C$zui){var C$zun;C$zui=C$zui.replace(/>\s+</g,"><");try{C$zun=(new C$zuo.Parser.DOMParser).parseFromString(C$zui,"text/xml")}catch(C$zui){throw"\u9700\u8981\u5f15\u5165xml\u89e3\u6790\u5e93\u6587\u4ef6"}return C$zun},MiniAdpter.idx=1;var C$zuu=MiniAdpter;function MiniAdpter(){}C$zua(MiniImage,"laya.wx.mini.MiniImage"),MiniImage.prototype._loadImage=function(C$zui){var C$zun=!1;-1==C$zui.indexOf("layaNativeDir/")&&(C$zun=!0,C$zui=C$zum.formatURL(C$zui)),C$zur.getFileInfo(C$zui)?MiniImage.onCreateImage(C$zui,this,!C$zun):-1!=C$zui.indexOf("http://")||-1!=C$zui.indexOf("https://")?C$zur.downImg(C$zui,new C$zuc(MiniImage,MiniImage.onDownImgCallBack,[C$zui,this]),C$zui):MiniImage.onCreateImage(C$zui,this,!0)},MiniImage.onDownImgCallBack=function(C$zui,C$zun,C$zue){C$zue?C$zun.onError(null):MiniImage.onCreateImage(C$zui,C$zun)},MiniImage.onCreateImage=function(C$zun,C$zue,C$zui){var C$zut;function clear(){C$zut.onload=null,C$zut.onerror=null,delete C$zue.imgCache[C$zun]}C$zui=(C$zui=void 0===C$zui?!1:C$zui)?C$zun:(C$zui=C$zur.getFileInfo(C$zun).md5,C$zur.getFileNativePath(C$zui)),null==C$zue.imgCache&&(C$zue.imgCache={});function C$zuks(){clear(),C$zue.onLoaded(C$zut)}function C$zuAs(){clear(),C$zue.event("error","Load image failed")}"nativeimage"==C$zue._type?((C$zut=new C$zud.window.Image).crossOrigin="",C$zut.onload=C$zuks,C$zut.onerror=C$zuAs,C$zut.src=C$zui,C$zue.imgCache[C$zun]=C$zut):new C$zus.create(C$zui,{onload:C$zuks,onerror:C$zuAs,onCreate:function(C$zui){C$zut=C$zui,C$zue.imgCache[C$zun]=C$zui}})};function MiniImage(){}C$zua(MiniInput,"laya.wx.mini.MiniInput"),MiniInput._createInputElement=function(){C$zut._initInput(C$zut.area=C$zud.createElement("textarea")),C$zut._initInput(C$zut.input=C$zud.createElement("input")),C$zut.inputContainer=C$zud.createElement("div"),C$zut.inputContainer.style.position="absolute",C$zut.inputContainer.style.zIndex=1e5,C$zud.container.appendChild(C$zut.inputContainer),C$zut.inputContainer.setPos=function(C$zui,C$zun){C$zut.inputContainer.style.left=C$zui+"px",C$zut.inputContainer.style.top=C$zun+"px"},C$zul.stage.on("resize",null,MiniInput._onStageResize),wx.onWindowResize&&wx.onWindowResize(function(C$zui){C$zuo.dispatchEvent&&C$zuo.dispatchEvent("resize")}),C$zuv._soundClass=C$zuE,C$zuv._musicClass=C$zuE,C$zuo._videoClass=C$zu_},MiniInput._onStageResize=function(){C$zul.stage._canvasTransform.identity().scale(C$zud.width/C$zuh.canvas.width/C$zuM.getPixelRatio(),C$zud.height/C$zuh.canvas.height/C$zuM.getPixelRatio())},MiniInput.wxinputFocus=function(C$zui){var C$zun=C$zut.inputElement.target;C$zun&&!C$zun.editable||(C$zuu.window.wx.offKeyboardConfirm(),C$zuu.window.wx.offKeyboardInput(),C$zuu.window.wx.showKeyboard({defaultValue:C$zun.text,maxLength:C$zun.maxChars,multiple:C$zun.multiline,confirmHold:!0,confirmType:"done",success:function(C$zui){},fail:function(C$zui){}}),C$zuu.window.wx.onKeyboardConfirm(function(C$zui){C$zui=C$zui?C$zui.value:"";C$zun.text=C$zui,C$zun.event("input"),laya.wx.mini.MiniInput.inputEnter()}),C$zuu.window.wx.onKeyboardInput(function(C$zui){C$zui=C$zui?C$zui.value:"";C$zun.multiline||-1==C$zui.indexOf("\n")?(C$zun.text=C$zui,C$zun.event("input")):laya.wx.mini.MiniInput.inputEnter()}))},MiniInput.inputEnter=function(){C$zut.inputElement.target.focus=!1},MiniInput.wxinputblur=function(){MiniInput.hideKeyboard()},MiniInput.hideKeyboard=function(){C$zuu.window.wx.offKeyboardConfirm(),C$zuu.window.wx.offKeyboardInput(),C$zuu.window.wx.hideKeyboard({success:function(C$zui){console.log("\u9690\u85cf\u952e\u76d8")},fail:function(C$zui){console.log("\u9690\u85cf\u952e\u76d8\u51fa\u9519:"+(C$zui?C$zui.errMsg:""))}})};var C$zuF=MiniInput;function MiniInput(){}C$zua(MiniLoader,"laya.wx.mini.MiniLoader"),(C$zuw=MiniLoader.prototype).load=function(C$zui,C$zun,C$zue,C$zut,C$zuo){void 0===C$zue&&(C$zue=!0),void 0===C$zuo&&(C$zuo=!1);0===(this._url=C$zui).indexOf("data:image")?this._type=C$zun="image":this._type=C$zun=C$zun||this.getTypeFromUrl(C$zui),this._cache=C$zue,this._data=null;var C$zul="ascii";-1!=C$zui.indexOf(".fnt")?C$zul="utf8":"arraybuffer"==C$zun&&(C$zul="");var C$zua=C$zug.getFileExtension(C$zui);if(-1!=MiniLoader._fileTypeArr.indexOf(C$zua))C$zuu.EnvConfig.load.call(this,C$zui,C$zun,C$zue,C$zut,C$zuo);else if(C$zur.getFileInfo(C$zui))C$zuu.EnvConfig.load.call(this,C$zui,C$zun,C$zue,C$zut,C$zuo);else{if(-1!=C$zui.indexOf("layaNativeDir/"))return C$zuu.isZiYu?(C$zua=C$zur.ziyuFileData[C$zui],void this.onLoaded(C$zua)):(cosnole.log("read read"),void C$zur.read(C$zui,C$zul,new C$zuc(MiniLoader,MiniLoader.onReadNativeCallBack,[C$zul,C$zui,C$zun,C$zue,C$zut,C$zuo,this])));C$zua=""==C$zum.rootPath?C$zui:C$zui.split(C$zum.rootPath)[0],-1!=C$zui.indexOf("http://")||-1!=C$zui.indexOf("https://")?C$zuu.EnvConfig.load.call(this,C$zui,C$zun,C$zue,C$zut,C$zuo):C$zur.readFile(C$zua,C$zul,new C$zuc(MiniLoader,MiniLoader.onReadNativeCallBack,[C$zul,C$zui,C$zun,C$zue,C$zut,C$zuo,this]),C$zui)}},C$zuw.resMgrLoad=function(C$zui,C$zut,C$zun,C$zue,C$zuo,C$zul,C$zua){void 0===C$zun&&(C$zun=0),void 0===C$zue&&(C$zue=!1),void 0===C$zuo&&(C$zuo=!1),void 0===C$zul&&(C$zul=0),void 0===C$zua&&(C$zua=3),-1!=C$zui.indexOf("mpack")&&console.log("=============resMgrLoad url:",C$zui),C$zuu.EnvConfig.resMgrLoad(C$zui,(C$zui,C$zun,C$zue)=>{MiniLoader.prototype.resMgrLoadCallBack(C$zui,C$zun,C$zue,C$zut)},C$zun,C$zue,C$zuo,C$zul,C$zua)},C$zuw.resMgrLoadCallBack=function(C$zui,C$zun,C$zue,C$zut){console.log("buff:::",C$zui,C$zue,C$zur.fileNativeDir+"///"+C$zur.fileListName),C$zut(C$zui,C$zun,C$zue)},C$zuw.clearRes=function(C$zui,C$zun){this.clearRes(C$zui,C$zun=void 0===C$zun?!1:C$zun);C$zun=C$zur.getFileInfo(C$zui);!C$zun||-1==C$zui.indexOf("http://")&&-1==C$zui.indexOf("https://")||(C$zui=C$zun.md5,C$zun=C$zur.getFileNativePath(C$zui),C$zur.remove(C$zun))},MiniLoader.onReadNativeCallBack=function(C$zui,C$zun,C$zue,C$zut,C$zuo,C$zul,C$zua,C$zur,C$zud){void 0===C$zut&&(C$zut=!0),void 0===C$zul&&(C$zul=!1),(C$zur=void 0===C$zur?0:C$zur)?1==C$zur&&C$zuu.EnvConfig.load.call(C$zua,C$zun,C$zue,C$zut,C$zuo,C$zul):(C$zur="json"==C$zue||"atlas"==C$zue?C$zuu.getJson(C$zud.data):"xml"==C$zue?C$zug.parseXMLFromString(C$zud.data):C$zud.data,C$zua.onLoaded(C$zur),!C$zuu.isZiYu&&C$zuu.isPosMsgYu&&"arraybuffer"!=C$zue&&wx.postMessage({url:C$zun,data:C$zur,isLoad:!0}))},C$zui(MiniLoader,["_fileTypeArr",function(){return this._fileTypeArr=["png","jpg","bmp","jpeg","gif"]}]);var C$zuy=MiniLoader;function MiniLoader(){}C$zua(MiniFileMgr,"laya.wx.mini.MiniFileMgr",C$zue),MiniFileMgr.isLoadFile=function(C$zui){return-1!=MiniFileMgr._fileTypeArr.indexOf(C$zui)},MiniFileMgr.getFileInfo=function(C$zui){C$zui=C$zui.split("?")[0];C$zui=MiniFileMgr.filesListObj[C$zui];return null==C$zui?null:C$zui},MiniFileMgr.onFileUpdate=function(C$zui,C$zun){C$zui=C$zui.split("/");C$zui=C$zui[C$zui.length-1];var C$zue=MiniFileMgr.getFileInfo(C$zun);null==C$zue?MiniFileMgr.onSaveFile(C$zun,C$zui):C$zue.readyUrl!=C$zun&&MiniFileMgr.remove(C$zui,C$zun)},MiniFileMgr.exits=function(C$zui,C$zun){C$zui=MiniFileMgr.getFileNativePath(C$zui);MiniFileMgr.fs.getFileInfo({filePath:C$zui,success:function(C$zui){null!=C$zun&&C$zun.runWith([0,C$zui])},fail:function(C$zui){null!=C$zun&&C$zun.runWith([1,C$zui])}})},MiniFileMgr.read=function(C$zui,C$zun,C$zue,C$zut){void 0===C$zun&&(C$zun="ascill"),C$zui=""!=(C$zut=void 0===C$zut?"":C$zut)?MiniFileMgr.getFileNativePath(C$zui):C$zui,MiniFileMgr.fs.readFile({filePath:C$zui,encoding:C$zun,success:function(C$zui){null!=C$zue&&C$zue.runWith([0,C$zui])},fail:function(C$zui){C$zui&&""!=C$zut?MiniFileMgr.down(C$zut,C$zun,C$zue,C$zut):null!=C$zue&&C$zue.runWith([1])}})},MiniFileMgr.readNativeFile=function(C$zui,C$zun){MiniFileMgr.fs.readFile({filePath:C$zui,encoding:"",success:function(C$zui){null!=C$zun&&C$zun.runWith([0])},fail:function(C$zui){null!=C$zun&&C$zun.runWith([1])}})},MiniFileMgr.down=function(C$zui,C$zun,C$zue,C$zut){void 0===C$zun&&(C$zun="ascill"),void 0===C$zut&&(C$zut="");var C$zuo=MiniFileMgr.getFileNativePath(C$zut);MiniFileMgr.wxdown({url:C$zui,filePath:C$zuo,success:function(C$zui){200===C$zui.statusCode&&MiniFileMgr.readFile(C$zui.filePath,C$zun,C$zue,C$zut)},fail:function(C$zui){null!=C$zue&&C$zue.runWith([1,C$zui])}}).onProgressUpdate(function(C$zui){null!=C$zue&&C$zue.runWith([2,C$zui.progress])})},MiniFileMgr.readFile=function(C$zun,C$zui,C$zue,C$zut){void 0===C$zut&&(C$zut=""),MiniFileMgr.fs.readFile({filePath:C$zun,encoding:C$zui=void 0===C$zui?"ascill":C$zui,success:function(C$zui){-1==C$zun.indexOf("http://")&&-1==C$zun.indexOf("https://")||MiniFileMgr.onFileUpdate(C$zun,C$zut),null!=C$zue&&C$zue.runWith([0,C$zui])},fail:function(C$zui){C$zui&&null!=C$zue&&C$zue.runWith([1,C$zui])}})},MiniFileMgr.downImg=function(C$zui,C$zun,C$zue){void 0===C$zue&&(C$zue="");MiniFileMgr.wxdown({url:C$zui,success:function(C$zui){200===C$zui.statusCode&&MiniFileMgr.copyFile(C$zui.tempFilePath,C$zue,C$zun)},fail:function(C$zui){null!=C$zun&&C$zun.runWith([1,C$zui])}})},MiniFileMgr.copyFile=function(C$zui,C$zun,C$zue){var C$zut=C$zui.split("/");var C$zuo=C$zut[C$zut.length-1];C$zun.split("?")[0];var C$zul=MiniFileMgr.getFileInfo(C$zun);C$zut=MiniFileMgr.getFileNativePath(C$zuo);MiniFileMgr.fs.copyFile({srcPath:C$zui,destPath:C$zut,success:function(C$zui){C$zul?C$zul.readyUrl!=C$zun&&MiniFileMgr.remove(C$zuo,C$zun,C$zue):(MiniFileMgr.onSaveFile(C$zun,C$zuo),null!=C$zue&&C$zue.runWith([0]))},fail:function(C$zui){null!=C$zue&&C$zue.runWith([1,C$zui])}})},MiniFileMgr.getFileNativePath=function(C$zui){return laya.wx.mini.MiniFileMgr.fileNativeDir+"/"+C$zui},MiniFileMgr.remove=function(C$zun,C$zue,C$zut){void 0===C$zue&&(C$zue="");var C$zui=MiniFileMgr.getFileInfo(C$zue);var C$zuo=MiniFileMgr.getFileNativePath(C$zui.md5);C$zul.loader.clearRes(C$zui.readyUrl),MiniFileMgr.fs.unlink({filePath:C$zuo,success:function(C$zui){""!=C$zue&&MiniFileMgr.onSaveFile(C$zue,C$zun),null!=C$zut&&C$zut.runWith([0])},fail:function(C$zui){}})},MiniFileMgr.onSaveFile=function(C$zui,C$zun){var C$zue=C$zui.split("?")[0];MiniFileMgr.filesListObj[C$zue]={md5:C$zun,readyUrl:C$zui},MiniFileMgr.fs.writeFile({filePath:MiniFileMgr.fileNativeDir+"/"+MiniFileMgr.fileListName,encoding:"utf8",data:JSON.stringify(MiniFileMgr.filesListObj),success:function(C$zui){console.log("\u5199\u5165\u6d4b\u8bd5\u6d4b\u8bd5\u6210\u529f\uff1a",C$zui)},fail:function(C$zui){console.log("\u5199\u5165\u6d4b\u8bd5\u6d4b\u8bd5\u5931\u8d25\uff1a",C$zui)}})},MiniFileMgr.existDir=function(C$zui,C$zun){MiniFileMgr.fs.mkdir({dirPath:C$zui,success:function(C$zui){null!=C$zun&&C$zun.runWith([0,{data:JSON.stringify({})}])},fail:function(C$zui){-1!=C$zui.errMsg.indexOf("file already exists")?MiniFileMgr.readSync(MiniFileMgr.fileListName,"utf8",C$zun):null!=C$zun&&C$zun.runWith([1,C$zui])}})},MiniFileMgr.readSync=function(C$zui,C$zun,C$zue,C$zut){void 0===C$zun&&(C$zun="ascill"),void 0===C$zut&&(C$zut="");C$zun=MiniFileMgr.getFileNativePath(C$zui);var C$zuo;try{C$zuo=MiniFileMgr.fs.readFileSync(C$zun),null!=C$zue&&C$zue.runWith([0,{data:C$zuo}])}catch(C$zui){null!=C$zue&&C$zue.runWith([1])}},MiniFileMgr.readCache=function(){},MiniFileMgr.writeCache=function(C$zui){var C$zun=readyUrl.split("?")[0];MiniFileMgr.filesListObj[C$zun]={md5:md5Name,readyUrl:readyUrl},MiniFileMgr.fs.writeFile({filePath:MiniFileMgr.fileNativeDir+"/"+MiniFileMgr.fileListName,encoding:"utf8",data:JSON.stringify(MiniFileMgr.filesListObj),success:function(C$zui){},fail:function(C$zui){}})},MiniFileMgr.setNativeFileDir=function(C$zui){MiniFileMgr.fileNativeDir=wx.env.USER_DATA_PATH+C$zui},MiniFileMgr.filesListObj={},MiniFileMgr.fileNativeDir=null,MiniFileMgr.fileListName="layaairfiles.txt",MiniFileMgr.ziyuFileData={},C$zui(MiniFileMgr,["_fileTypeArr",function(){return this._fileTypeArr=["json","ani","xml","sk","txt","atlas","swf","part","fnt","proto","lh","lav","lani","lmat","lm","ltc"]},"fs",function(){return this.fs=wx.getFileSystemManager()},"wxdown",function(){return this.wxdown=wx.downloadFile}]);var C$zur=MiniFileMgr;function MiniFileMgr(){MiniFileMgr.__super.call(this)}C$zua(MiniSound,"laya.wx.mini.MiniSound",C$zue),(C$zuw=MiniSound.prototype).load=function(C$zui){var C$zun;C$zui=C$zum.formatURL(C$zui),this.url=C$zui,MiniSound._audioCache[C$zui]?this.event("complete"):(this._sound.onCanplay(function(){C$zun.loaded=!0,C$zun.event("complete"),MiniSound._audioCache[C$zun.url]=C$zun}),this._sound.onError(function(C$zui){console.error("errCode="+C$zui.errCode+"  errMsg="+C$zui.errMsg),C$zun.event("error")}),this._sound.src=C$zui,C$zun=this)},C$zuw.play=function(C$zui,C$zun){var C$zue;var C$zut;return void 0===C$zui&&(C$zui=0),void 0===C$zun&&(C$zun=0),C$zut=(C$zue=this.url==C$zuv._tMusic?(MiniSound._musicAudio||(MiniSound._musicAudio=this._sound),MiniSound._musicAudio):this._sound,this._chanell),C$zue.src=this.url,C$zue.startTime=0,C$zut.isStopped&&(C$zut.url=this.url,C$zut.loops=C$zun,C$zut.startTime=C$zui,C$zut.play(),C$zuv.addChannel(C$zut)),C$zut},C$zuw.dispose=function(){var C$zui=MiniSound._audioCache[this.url];C$zui&&(C$zui.src="",delete MiniSound._audioCache[this.url])},C$zun(0,C$zuw,"duration",function(){return this._sound.duration}),MiniSound._createSound=function(){return MiniSound._id++,C$zuu.window.wx.createInnerAudioContext({useWebAudioImplement:!1})},MiniSound._musicAudio=null,MiniSound._id=0,MiniSound._audioCache={},MiniSound._null=void 0;var C$zuE=MiniSound;function MiniSound(){this._sound=null,this._chanell=null,this.url=null,this.loaded=!1,MiniSound.__super.call(this),this._sound=MiniSound._createSound(),this._chanell=new C$zuC(this._sound)}var C$zuw;C$zua(MiniSoundChannel,"laya.wx.mini.MiniSoundChannel",C$zup),(C$zui=MiniSoundChannel.prototype).__onEnd=function(){if(1==this.loops)return this.completeHandler&&(C$zul.timer.once(10,this,this.__runComplete,[this.completeHandler],!1),this.completeHandler=null),this.stop(),void this.event("complete");0<this.loops&&this.loops--,this.startTime=0,this.play()},C$zui.__onNull=function(){},C$zui.play=function(){this.isStopped=!1,C$zuv.addChannel(this),this._audio&&this._audio.play()},C$zui.stop=function(){this.isStopped=!0,C$zuv.removeChannel(this),this.completeHandler=null,this._audio&&this._audio.stop()},C$zui.pause=function(){this.isStopped=!0,this._audio.pause()},C$zui.resume=function(){this._audio&&(this.isStopped=!1,C$zuv.addChannel(this),this._audio.play())},C$zun(0,C$zui,"position",function(){return this._audio?this._audio.currentTime:0}),C$zun(0,C$zui,"duration",function(){return this._audio?this._audio.duration:0}),C$zun(0,C$zui,"volume",function(){return 1},function(C$zui){}),MiniSoundChannel._null=void 0;var C$zuC=MiniSoundChannel;function MiniSoundChannel(C$zui){this._audio=null,this._onEnd=null,MiniSoundChannel.__super.call(this),this.isStopped=!0,this._audio=C$zui,this._onEnd=C$zug.bind(this.__onEnd,this),C$zui.onEnded(this._onEnd)}C$zua(MiniVideo,"laya.wx.mini.MiniVideo"),(C$zue=MiniVideo.prototype).on=function(C$zui,C$zun,C$zue){"loadedmetadata"==C$zui?(this.onPlayFunc=C$zue.bind(C$zun),this.videoElement.onPlay=this.onPlayFunction.bind(this)):"ended"==C$zui&&(this.onEndedFunC=C$zue.bind(C$zun),this.videoElement.onEnded=this.onEndedFunction.bind(this)),this.videoElement.onTimeUpdate=this.onTimeUpdateFunc.bind(this)},C$zue.onTimeUpdateFunc=function(C$zui){this.position=C$zui.position,this._duration=C$zui.duration},C$zue.onPlayFunction=function(){this.videoElement&&(this.videoElement.readyState=200),console.log("=====\u89c6\u9891\u52a0\u8f7d\u5b8c\u6210========"),null!=this.onPlayFunc&&this.onPlayFunc()},C$zue.onended=function(C$zui,C$zun){this.onEndedFunC=C$zun.bind(C$zui),this.videoElement.onended=this.onEndedFunction.bind(this)},C$zue.onEndedFunction=function(){this.videoElement&&(this.videoend=!0,console.log("=====\u89c6\u9891\u64ad\u653e\u5b8c\u6bd5========"),null!=this.onEndedFunC&&this.onEndedFunC())},C$zue.off=function(C$zui,C$zun,C$zue){"loadedmetadata"==C$zui?(this.onPlayFunc=C$zue.bind(C$zun),this.videoElement.offPlay=this.onPlayFunction.bind(this)):"ended"==C$zui&&(this.onEndedFunC=C$zue.bind(C$zun),this.videoElement.offEnded=this.onEndedFunction.bind(this))},C$zue.load=function(C$zui){this.videoElement&&(this.videoElement.src=C$zui)},C$zue.play=function(){this.videoElement&&(this.videoend=!1,this.videoElement.play())},C$zue.pause=function(){this.videoElement&&(this.videoend=!0,this.videoElement.pause())},C$zue.size=function(C$zui,C$zun){this.videoElement&&(this.videoElement.width=C$zui,this.videoElement.height=C$zun)},C$zue.destroy=function(){this.videoElement&&this.videoElement.destroy(),this.videoElement=null,this.onEndedFunC=null,this.onPlayFunc=null,this.videoend=!1,this.videourl=null},C$zue.reload=function(){this.videoElement&&(this.videoElement.src=this.videourl)},C$zun(0,C$zue,"duration",function(){return this._duration}),C$zun(0,C$zue,"currentTime",function(){return this.videoElement?this.videoElement.initialTime:0},function(C$zui){this.videoElement&&(this.videoElement.initialTime=C$zui)}),C$zun(0,C$zue,"videoWidth",function(){return this.videoElement?this.videoElement.width:0}),C$zun(0,C$zue,"videoHeight",function(){return this.videoElement?this.videoElement.height:0}),C$zun(0,C$zue,"ended",function(){return this.videoend}),C$zun(0,C$zue,"loop",function(){return!!this.videoElement&&this.videoElement.loop},function(C$zui){this.videoElement&&(this.videoElement.loop=C$zui)}),C$zun(0,C$zue,"playbackRate",function(){return this.videoElement?this.videoElement.playbackRate:0},function(C$zui){this.videoElement&&(this.videoElement.playbackRate=C$zui)}),C$zun(0,C$zue,"muted",function(){return!!this.videoElement&&this.videoElement.muted},function(C$zui){this.videoElement&&(this.videoElement.muted=C$zui)}),C$zun(0,C$zue,"paused",function(){return!!this.videoElement&&this.videoElement.paused}),C$zun(0,C$zue,"x",function(){return this.videoElement?this.videoElement.x:0},function(C$zui){this.videoElement&&(this.videoElement.x=C$zui)}),C$zun(0,C$zue,"y",function(){return this.videoElement?this.videoElement.y:0},function(C$zui){this.videoElement&&(this.videoElement.y=C$zui)}),C$zun(0,C$zue,"currentSrc",function(){return this.videoElement.src}),C$zun(0,C$zue,"src",function(){return this.videoElement?this.videoElement.src:0},function(C$zui){this.videoElement&&(this.videoElement.src=C$zui)}),C$zun(0,C$zue,"controls",function(){if(this.videoElement)return this.videoElement.controls},function(C$zui){this.videoElement&&(this.videoElement.controls=C$zui)}),C$zun(0,C$zue,"autoplay",function(){if(this.videoElement)return this.videoElement.autoplay},function(C$zui){this.videoElement&&(this.videoElement.autoplay=C$zui)});var C$zu_=MiniVideo;function MiniVideo(){this.videoend=!1,this.videourl="",this.videoElement=C$zuu.window.wx.createVideo({showCenterPlayBtn:!1,showProgressInControlMode:!1,objectFit:"fill"})}}(window,(document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$zui,C$zun){"use strict";for(var C$zue in Object.defineProperty(C$zun,"__esModule",{value:!0}),Laya){var C$zut=Laya[C$zue];C$zut&&C$zut.__isclass&&(C$zun[C$zue]=C$zut)}});