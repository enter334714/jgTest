var Laya=window.Laya=function(C$99l){var C$99u={__internals:[],__packages:{},__classmap:{Object:Object,Function:Function,Array:Array,String:String},__sysClass:{object:"Object",array:"Array",string:"String",dictionary:"Dictionary"},__propun:{writable:!0,enumerable:!1,configurable:!0},__presubstr:String.prototype.substr,__substr:function(C$99t,C$99e){return 1==arguments.length?C$99u.__presubstr.call(this,C$99t):C$99u.__presubstr.call(this,C$99t,0<C$99e?C$99e:this.length+C$99e);},__init:function(C$99t){C$99t.forEach(function(C$99t){C$99t.__init$&&C$99t.__init$();});},__isClass:function(C$99t){return C$99t&&(C$99t.__isclass||C$99t==Object||C$99t==String||C$99t==Array);},__newvec:function(C$99t,C$99e){var C$99i=[];C$99i.length=C$99t;for(var C$99n=0;C$99n<C$99t;C$99n++)C$99i[C$99n]=C$99e;return C$99i;},__extend:function(C$99t,C$99e){for(var C$99i in C$99e){var C$99n,C$99r,C$99s;C$99e.hasOwnProperty(C$99i)&&(C$99r=(C$99n=Object.getOwnPropertyDescriptor(C$99e,C$99i)).get,C$99s=C$99n.set,C$99r||C$99s?C$99r&&C$99s?Object.defineProperty(C$99t,C$99i,C$99n):(C$99r&&Object.defineProperty(C$99t,C$99i,C$99r),C$99s&&Object.defineProperty(C$99t,C$99i,C$99s)):C$99t[C$99i]=C$99e[C$99i]);}function e$A(){C$99u.un(this,"constructor",C$99t);}e$A.prototype=C$99e.prototype,C$99t.prototype=new e$A(),C$99u.un(C$99t.prototype,"__imps",C$99u.__copy({},C$99e.prototype.__imps));},__copy:function(C$99t,C$99e){if(!C$99e)return null;for(var C$99i in C$99t=C$99t||{},C$99e)C$99t[C$99i]=C$99e[C$99i];return C$99t;},__package:function(C$99t,C$99e){if(!C$99u.__packages[C$99t]){C$99u.__packages[C$99t]=!0;var C$99i=C$99l,C$99n=C$99t.split(".");if(1<C$99n.length)for(var C$99r=0,C$99s=C$99n.length-1;C$99r<C$99s;C$99r++)C$99i=C$99i[C$99n[C$99r]]||(C$99i[C$99n[C$99r]]={});C$99i[C$99n[C$99n.length-1]]||(C$99i[C$99n[C$99n.length-1]]=C$99e||{});}},__hasOwnProperty:function(C$99t,C$99e){return C$99e=C$99e||this,Object.hasOwnProperty.call(C$99e,C$99t)||function e$d(C$99t,C$99e){if(Object.hasOwnProperty.call(C$99e.prototype,C$99t))return!0;C$99e=C$99e.prototype.__super;return null==C$99e?null:e$d(C$99t,C$99e);}(C$99t,C$99e.__class);},__typeof:function(C$99t,C$99e){if(!C$99t||!C$99e)return!1;if(C$99e===String)return"string"==typeof C$99t;if(C$99e===Number)return"number"==typeof C$99t;if(C$99e.__interface__)C$99e=C$99e.__interface__;else if("string"!=typeof C$99e)return C$99t instanceof C$99e;return C$99t.__imps&&C$99t.__imps[C$99e]||C$99t.__class==C$99e;},__as:function(C$99t,C$99e){return this.__typeof(C$99t,C$99e)?C$99t:null;},__int:function(C$99t){return C$99t?parseInt(C$99t):0;},interface:function(C$99t,C$99e){C$99u.__package(C$99t,{});var C$99i=C$99u.__internals,C$99n=C$99i[C$99t]=C$99i[C$99t]||{self:C$99t};if(C$99e){var C$99r=C$99e.split(",");C$99n.extend=[];for(var C$99s=0;C$99s<C$99r.length;C$99s++){var C$99a=C$99r[C$99s];C$99i[C$99a]=C$99i[C$99a]||{self:C$99a},C$99n.extend.push(C$99i[C$99a]);}}var C$99o=C$99l,C$99h=C$99t.split(".");for(C$99s=0;C$99s<C$99h.length-1;C$99s++)C$99o=C$99o[C$99h[C$99s]];C$99o[C$99h[C$99h.length-1]]={__interface__:C$99t};},class:function(C$99t,C$99e,C$99i,C$99n){C$99i&&C$99u.__extend(C$99t,C$99i),C$99e&&(C$99u.__package(C$99e,C$99t),C$99u.__classmap[C$99e]=C$99t,0<C$99e.indexOf(".")?0==C$99e.indexOf("laya.")&&(C$99r=C$99e.split("."),C$99n=C$99n||C$99r[C$99r.length-1],C$99u[C$99n]&&console.log("Warning!,this class["+C$99n+"] already exist:",C$99u[C$99n]),C$99u[C$99n]=C$99t):"Main"==C$99e?C$99l.Main=C$99t:"MainWX"==C$99e?C$99l.MainWX=C$99t:(C$99u[C$99e]&&console.log("Error!,this class["+C$99e+"] already exist:",C$99u[C$99e]),C$99u[C$99e]=C$99t));var C$99r=C$99u.un,C$99n=C$99t.prototype;C$99r(C$99n,"hasOwnProperty",C$99u.__hasOwnProperty),C$99r(C$99n,"__class",C$99t),C$99r(C$99n,"__super",C$99i),C$99r(C$99n,"__className",C$99e),C$99r(C$99t,"__super",C$99i),C$99r(C$99t,"__className",C$99e),C$99r(C$99t,"__isclass",!0),C$99r(C$99t,"super",function(C$99t){this.__super.call(C$99t);});},imps:function(C$99t,C$99e){if(!C$99e)return null;var C$99r=C$99t.__imps||C$99u.un(C$99t,"__imps",{});for(var C$99i in C$99e)!function e$i(C$99t){var C$99e,C$99i;if((C$99e=C$99u.__internals[C$99t])&&(C$99r[C$99t]=!0,C$99i=C$99e.extend))for(var C$99n=0;C$99n<C$99i.length;C$99n++)e$i(C$99i[C$99n].self);}(C$99i);},superSet:function(C$99t,C$99e,C$99i,C$99n){C$99t=C$99t.prototype["_$set_"+C$99i];C$99t&&C$99t.call(C$99e,C$99n);},superGet:function(C$99t,C$99e,C$99i){C$99t=C$99t.prototype["_$get_"+C$99i];return C$99t?C$99t.call(C$99e):null;},getset:function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99t?(C$99n&&(C$99e["_$GET_"+C$99i]=C$99n),C$99r&&(C$99e["_$SET_"+C$99i]=C$99r)):(C$99n&&C$99u.un(C$99e,"_$get_"+C$99i,C$99n),C$99r&&C$99u.un(C$99e,"_$set_"+C$99i,C$99r)),C$99n&&C$99r?Object.defineProperty(C$99e,C$99i,{get:C$99n,set:C$99r,enumerable:!1,configurable:!0}):(C$99n&&Object.defineProperty(C$99e,C$99i,{get:C$99n,enumerable:!1,configurable:!0}),C$99r&&Object.defineProperty(C$99e,C$99i,{set:C$99r,enumerable:!1,configurable:!0}));},static:function(C$99i,C$99n){for(var C$99r=0,C$99t=C$99n.length;C$99r<C$99t;C$99r+=2)"length"==C$99n[C$99r]?C$99i.length=C$99n[C$99r+1].call(C$99i):function(){var C$99e=C$99n[C$99r],C$99t=C$99n[C$99r+1];Object.defineProperty(C$99i,C$99e,{get:function(){return delete this[C$99e],this[C$99e]=C$99t.call(this);},set:function(C$99t){delete this[C$99e],this[C$99e]=C$99t;},enumerable:!0,configurable:!0});}();},un:function(C$99t,C$99e,C$99i){return C$99i=C$99i||C$99t[C$99e],C$99u.__propun.value=C$99i,Object.defineProperty(C$99t,C$99e,C$99u.__propun),C$99i;},uns:function(C$99e,C$99t){C$99t.forEach(function(C$99t){C$99u.un(C$99e,C$99t);});}};return C$99l.console=C$99l.console||{log:function(){}},C$99l.trace=C$99l.console.log,Error.prototype.throwError=function(){throw arguments;},Object.defineProperty(Array.prototype,"fixed",{enumerable:!1}),C$99u;}(window,document);window,document,Laya.un,Laya.uns,Laya.static,Laya.class,Laya.getset,Laya.__newvec,function(C$99s,C$99r,C$99y){C$99y.un,C$99y.uns;var C$99a=C$99y.static,C$99i=C$99y.class,C$99n=C$99y.getset;C$99y.__newvec,C$99y.interface("laya.runtime.IMarket"),C$99y.interface("laya.filters.IFilter"),C$99y.interface("laya.display.ILayout"),C$99y.interface("laya.resource.IDispose"),C$99y.interface("laya.runtime.IPlatform"),C$99y.interface("laya.resource.IDestroy"),C$99y.interface("laya.runtime.IConchNode"),C$99y.interface("laya.filters.IFilterAction"),C$99y.interface("laya.runtime.ICPlatformClass"),C$99y.interface("laya.resource.ICreateResource"),C$99y.interface("laya.runtime.IConchRenderObject"),C$99y.interface("laya.runtime.IPlatformClass","laya.runtime.IPlatform");C$99i(e$i,"laya.utils.RunDriver"),e$i.FILTER_ACTIONS=[],e$i.pixelRatio=-1,e$i._charSizeTestDiv=null,e$i.now=function(){return Date.now();},e$i.getWindow=function(){return C$99s;},e$i.getPixelRatio=function(){var C$99t;return e$i.pixelRatio<0&&(C$99t=(C$99t=C$99S.context).backingStorePixelRatio||C$99t.webkitBackingStorePixelRatio||C$99t.mozBackingStorePixelRatio||C$99t.msBackingStorePixelRatio||C$99t.oBackingStorePixelRatio||C$99t.backingStorePixelRatio||1,(e$i.pixelRatio=(C$99S.window.devicePixelRatio||1)/C$99t)<1&&(e$i.pixelRatio=1)),e$i.pixelRatio;},e$i.getIncludeStr=function(C$99t){return null;},e$i.createShaderCondition=function(C$99t){return C$99y._runScript("(function() {return "+C$99t+";})");},e$i.fontMap=[],e$i.measureText=function(C$99t,C$99e){var C$99i=e$i.hanzi.test(C$99t);if(C$99i&&e$i.fontMap[C$99e])return e$i.fontMap[C$99e];var C$99n=C$99S.context;C$99n.font=C$99e;C$99n=C$99n.measureText(C$99t);return C$99n=C$99n||{width:16,height:16},C$99i&&(e$i.fontMap[C$99e]=C$99n),C$99n;},e$i.getWebGLContext=function(C$99t){},e$i.beginFlush=function(){},e$i.endFinish=function(){},e$i.addToAtlas=null,e$i.flashFlushImage=function(C$99t){},e$i.drawToCanvas=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=C$99$t.create("2D"),C$99i=new C$99N(C$99i,C$99n,C$99a);return C$99k.renders[C$99e]._fun(C$99t,C$99i,C$99r,C$99s),C$99a;},e$i.createParticleTemplate2D=null,e$i.createGLTextur=null,e$i.createWebGLContext2D=null,e$i.changeWebGLSize=function(C$99t,C$99e){},e$i.createRenderSprite=function(C$99t,C$99e){return new C$99k(C$99t,C$99e);},e$i.createFilterAction=function(C$99t){return new C$99w();},e$i.createGraphics=function(){return new C$99_();},e$i.clear=function(C$99t){C$99T._context.ctx.clear();},e$i.cancelLoadByUrl=function(C$99t){},e$i.clearAtlas=function(C$99t){},e$i.isAtlas=function(C$99t){return!1;},e$i.addTextureToAtlas=function(C$99t){},e$i.getTexturePixels=function(C$99t,C$99e,C$99i,C$99n,C$99r){return null;},e$i.skinAniSprite=function(){return null;},e$i.update3DLoop=function(){},C$99a(e$i,["hanzi",function(){return this.hanzi=new RegExp("^[\u4e00-\u9fa5]$");}]);var C$99m=e$i,C$99o=(C$99n(1,C$99y,"alertGlobalError",null,function(C$99t){var C$99s=0;C$99S.window.onerror=C$99t?function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99s++<5&&C$99r&&alert(C$99r.stack||C$99r);}:null;}),C$99y.init=function(C$99t,C$99e,C$99i){for(var C$99n=[],C$99r=2,C$99s=arguments.length;C$99r<C$99s;C$99r++)C$99n.push(arguments[C$99r]);if(!C$99y._isinit){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=C$99y._arrayBufferSlice),C$99y._isinit=!0,C$99S.__init__(),C$99O.__init__(),C$99_.__init__(),C$99y.timer=new C$99K(),C$99y.scaleTimer=new C$99K(),C$99y.loader=new C$99lt(),C$99J.__init__(),C$99r=0;for(var C$99a=C$99n.length;C$99r<C$99a;C$99r++)C$99n[C$99r].enable&&C$99n[C$99r].enable();return C$99u.__init__(),C$99l.__init__(),C$99V.__init__(),C$99U.beginCheck(),C$99y._currentStage=C$99y.stage=new C$99gt(),C$99y.stage.conchModel&&C$99y.stage.conchModel.setRootNode(),C$99y._getUrlPath(),C$99y.render=new C$99T(0,0),C$99y.stage.size(C$99t,C$99e),C$99k.__init__(),C$99p.__init__(),C$99$.instance.__init__(C$99y.stage,C$99T.canvas),C$99xt.__init__(),C$99R.autoStopMusic=!0,C$99P.__init__(),C$99T.canvas;}},C$99y._getUrlPath=function(){var C$99t=C$99S.window.location,C$99e=C$99t.pathname;C$99e=C$99e&&":"==C$99e.charAt(2)?C$99e.substring(1):C$99e,C$99L.rootPath=C$99L.basePath=C$99L.getPath("file:"==C$99t.protocol?C$99e:C$99t.protocol+"//"+C$99t.host+C$99t.pathname);},C$99y._arrayBufferSlice=function(C$99t,C$99e){C$99e=new Uint8Array(this,C$99t,C$99e-C$99t),C$99t=new Uint8Array(C$99e.length);return C$99t.set(C$99e),C$99t.buffer;},C$99y._runScript=function(C$99t){return C$99S.window[C$99y._evcode](C$99t);},C$99y.stage=null,C$99y.timer=null,C$99y.scaleTimer=null,C$99y.loader=null,C$99y.version="1.8.6",C$99y.render=null,C$99y._currentStage=null,C$99y._isinit=!1,C$99y.isDebug=!1,C$99y.MiniAdpter={init:function(){C$99s.navigator&&C$99s.navigator.userAgent&&-1<C$99s.navigator.userAgent.indexOf("MiniGame")&&console.error("\u8bf7\u5148\u5f15\u7528\u5c0f\u6e38\u620f\u9002\u914d\u5e93laya.wxmini.js,\u8be6\u7ec6\u6559\u7a0b\uff1ahttps://ldc.layabox.com/doc/?nav=zh-ts-5-0-0");}},C$99a(C$99y,["conchMarket",function(){return this.conchMarket=C$99s.conch?conchMarket:null;},"PlatformClass",function(){return this.PlatformClass=C$99s.PlatformClass;},"_evcode",function(){return this._evcode="e"+String.fromCharCode(118)+"al";}]),C$99i(e$d,"Config"),e$d.WebGLTextCacheCount=500,e$d.atlasEnable=!1,e$d.showCanvasMark=!1,e$d.animationInterval=50,e$d.isAntialias=!1,e$d.isAlpha=!1,e$d.premultipliedAlpha=!0,e$d.isStencil=!0,e$d.preserveDrawingBuffer=!1,e$d),C$99h=(C$99i(e$I,"laya.events.EventDispatcher"),(C$99e=e$I.prototype).hasListener=function(C$99t){return!(!this._events||!this._events[C$99t]);},C$99e.getListener=function(C$99t){return this._events?this._events[C$99t]:null;},C$99e.event=function(C$99t,C$99e){if(!this._events||!this._events[C$99t])return!1;var C$99i=this._events[C$99t];if(C$99i.lock)C$99i.queue||(C$99i.queue=[]),C$99i.queue.push(C$99e);else{var C$99n;for(C$99i.lock=!0,C$99i.cursor=C$99i.head;C$99i.cursor;)(C$99n=C$99i.cursor).recover?(C$99i.head=C$99i.tail=C$99i.cursor=null,console.error("node is recover\uff1a"+C$99n.id)):(C$99i.cursor=C$99n.next,C$99n.once&&e$I.delNode(C$99i,C$99n),C$99n.method&&(null!=C$99e?C$99n.args?C$99n.method.apply(C$99n.caller,C$99n.args.concat(C$99e)):C$99e instanceof Array?C$99n.method.apply(C$99n.caller,C$99e):C$99n.caller?C$99n.method.call(C$99n.caller,C$99e):C$99y.recordError("\u4e8b\u4ef6\u6d3e\u53d1\u9519\u8bef","node.caller:"+C$99n.caller+"node.method:"+C$99n.method+"data:"+C$99e+"node.prev"+C$99n.prev):C$99n.method.apply(C$99n.caller,C$99n.args)),C$99n.once&&e$I.recoverHandler(C$99n));C$99i.lock=!1,!C$99i.head&&this._events&&this._events[C$99t]==C$99i&&delete this._events[C$99t],C$99i.queue&&C$99i.queue.length&&this.event(C$99t,C$99i.queue.shift());}return!0;},C$99e.on=function(C$99t,C$99e,C$99i,C$99n){return this._createListener(C$99t,C$99e,C$99i,C$99n,!1);},C$99e.once=function(C$99t,C$99e,C$99i,C$99n){return this._createListener(C$99t,C$99e,C$99i,C$99n,!0);},C$99e._createListener=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){(C$99s=void 0===C$99s?!0:C$99s)&&this.off(C$99t,C$99e,C$99i,C$99r);C$99s=e$I.createHandler(C$99e||this,C$99i,C$99n,C$99r);this._events||(this._events={});C$99e=this._events,C$99i=C$99e[C$99t];return C$99i?C$99i.tail?(C$99s.prev=C$99i.tail,C$99i.tail.next=C$99s,C$99i.tail=C$99s):C$99i.head=C$99i.tail=C$99s:C$99e[C$99t]={head:C$99s,tail:C$99s,cursor:null,lock:!1},this;},C$99e.off=function(C$99t,C$99e,C$99i,C$99n){if(void 0===C$99n&&(C$99n=!1),!this._events||!this._events[C$99t])return this;for(var C$99r=this._events[C$99t],C$99s=C$99r.head;C$99s;){if((!C$99e||C$99s.caller===C$99e)&&C$99s.method===C$99i&&(!C$99n||C$99s.once)){e$I.delNode(C$99r,C$99s),C$99r.cursor==C$99s&&(C$99r.cursor=C$99s.next),e$I.recoverHandler(C$99s);break;}C$99s=C$99s.next;}return this;},C$99e.offAll=function(C$99t){var C$99e=this._events;if(!C$99e)return this;if(C$99t)this._recoverHandlers(C$99e[C$99t]),delete C$99e[C$99t];else{for(var C$99i in C$99e)this._recoverHandlers(C$99e[C$99i]);this._events=null;}return this;},C$99e._recoverHandlers=function(C$99t){if(C$99t){for(var C$99e=C$99t.head;C$99e;){e$I.delNode(C$99t,C$99e);var C$99i=C$99e.next;e$I.recoverHandler(C$99e),C$99e=C$99i;}C$99t.cursor=null;}},C$99e.isMouseEvent=function(C$99t){return e$I.MOUSE_EVENTS[C$99t];},e$I.MOUSE_EVENTS={rightmousedown:!0,rightmouseup:!0,rightclick:!0,mousedown:!0,mouseup:!0,mousemove:!0,mouseover:!0,mouseout:!0,click:!0,doubleclick:!0},e$I.__init$=function(){Object.defineProperty(laya.events.EventDispatcher.prototype,"_events",{enumerable:!1,writable:!0});},e$I.delNode=function(C$99t,C$99e){C$99e.prev?C$99e.prev.next=C$99e.next:C$99t.head=C$99e.next,C$99e.next?C$99e.next.prev=C$99e.prev:C$99t.tail=C$99e.prev;},e$I.createHandler=function(C$99t,C$99e,C$99i,C$99n){var C$99r=500<e$I._freeHandler.length?e$I._freeHandler.shift():null;if(C$99r){if(C$99r.recover)C$99r.recover=!1,C$99r.caller=C$99t,C$99r.method=C$99e,C$99r.args=C$99i,C$99r.once=C$99n;else{var C$99s="";try{arguments.propertyIsEnumerable.caller;}catch(C$99t){C$99s=C$99t.stack;}var C$99a=C$99r.caller?(C$99r.caller.__proto__&&C$99r.caller.__proto__.constructor&&C$99r.caller.__proto__.constructor.name)+"|"+C$99r.caller.__className+"|"+C$99r.caller.name:"",C$99o=C$99r.method?C$99r.method.name:"";C$99y.recordError("EventDispatcher\u91cd\u590d\u521b\u5efa","caller="+C$99a+"  method="+C$99o+"  stack="+C$99s),C$99r={id:++e$I._nodeCount,caller:C$99t,method:C$99e,args:C$99i,once:C$99n,recover:!1};}}else C$99r={id:++e$I._nodeCount,caller:C$99t,method:C$99e,args:C$99i,once:C$99n,recover:!1};return C$99r.prev=C$99r.next=null,C$99r;},e$I.recoverHandler=function(C$99t){if(C$99t.recover){if(e$I._errorCount<5){e$I._errorCount++;var C$99e="";try{arguments.propertyIsEnumerable.caller;}catch(C$99t){C$99e=C$99t.stack;}var C$99i=C$99t.caller?(C$99t.caller.__proto__&&C$99t.caller.__proto__.constructor&&C$99t.caller.__proto__.constructor.name)+"|"+C$99t.caller.__className+"|"+C$99t.caller.name:"",C$99n=C$99t.method?C$99t.method.name:"";C$99y.recordError("EventDispatcher\u91cd\u590d\u56de\u6536","id="+C$99t.id+"  caller="+C$99i+"  method="+C$99n+"  stack="+C$99e);}C$99t.caller=C$99t.method=C$99t.args=C$99t.prev=null;}else C$99t.recover=!0,C$99t.caller=C$99t.method=C$99t.args=C$99t.prev=C$99t.next=null,e$I._freeHandler&&e$I._freeHandler.length<3e3&&e$I._freeHandler.push(C$99t);},e$I._freeHandler=[],e$I._nodeCount=0,e$I._errorCount=0,e$I),C$99g=(C$99i(e$W,"laya.utils.Handler"),(C$99e=e$W.prototype).setTo=function(C$99t,C$99e,C$99i,C$99n){return this._id=e$W._gid++,this.caller=C$99t,this.method=C$99e,this.args=C$99i,this.once=C$99n,this;},C$99e.run=function(){if(null==this.method)return null;var C$99t=this._id,C$99e=this.method.apply(this.caller,this.args);return this._id===C$99t&&this.once&&this.recover(),C$99e;},C$99e.runWith=function(C$99t){if(null==this.method)return null;var C$99e=this._id;return C$99t=null==C$99t?this.method.apply(this.caller,this.args):this.args||C$99t.unshift?this.args?this.method.apply(this.caller,this.args.concat(C$99t)):this.method.apply(this.caller,C$99t):this.method.call(this.caller,C$99t),this._id===C$99e&&this.once&&this.recover(),C$99t;},C$99e.clear=function(){return this.caller=null,this.method=null,this.args=null,this;},C$99e.recover=function(){0<this._id&&(this._id=0,this.clear());},e$W.create=function(C$99t,C$99e,C$99i,C$99n){return new e$W(C$99t,C$99e,C$99i,C$99n=void 0===C$99n?!0:C$99n);},e$W._gid=1,e$W),C$99v=function(){function e$d(){this._texture=null,this._fontCharDic={},this._fontWidthMap={},this._complete=null,this._path=null,this._maxWidth=0,this._spaceWidth=10,this._padding=null,this.fontSize=12,this.autoScaleSize=!1,this.letterSpacing=0;}C$99i(e$d,"laya.display.BitmapFont");var C$99t=e$d.prototype;return C$99t.loadFont=function(C$99t,C$99e){this._path=C$99t,this._complete=C$99e,C$99y.loader.load([{url:this._path,type:"xml"},{url:this._path.replace(".fnt",".png"),type:"image"}],C$99g.create(this,this.onLoaded));},C$99t.onLoaded=function(){this.parseFont(C$99ht.getRes(this._path),C$99ht.getRes(this._path.replace(".fnt",".png"))),this._complete&&this._complete.runWith(this._texture?this:null);},C$99t.parseFont=function(C$99t,C$99e){if(null!=C$99t&&null!=C$99e){this._texture=C$99e;var C$99i=C$99t.getElementsByTagName("info");if(!C$99i[0].getAttributeNode)return this.parseFont2(C$99t,C$99e);this.fontSize=parseInt(C$99i[0].getAttributeNode("size").nodeValue);var C$99n,C$99i=C$99i[0].getAttributeNode("padding").nodeValue.split(",");this._padding=[parseInt(C$99i[0]),parseInt(C$99i[1]),parseInt(C$99i[2]),parseInt(C$99i[3])],C$99n=C$99t.getElementsByTagName("char");var C$99r=0;for(C$99r=0;C$99r<C$99n.length;C$99r++){var C$99s=C$99n[C$99r],C$99a=parseInt(C$99s.getAttributeNode("id").nodeValue),C$99o=+parseInt(C$99s.getAttributeNode("xoffset").nodeValue),C$99u=+parseInt(C$99s.getAttributeNode("yoffset").nodeValue),C$99h=+parseInt(C$99s.getAttributeNode("xadvance").nodeValue),C$99l=new C$99E();C$99l.x=parseInt(C$99s.getAttributeNode("x").nodeValue),C$99l.y=parseInt(C$99s.getAttributeNode("y").nodeValue),C$99l.width=parseInt(C$99s.getAttributeNode("width").nodeValue),C$99l.height=parseInt(C$99s.getAttributeNode("height").nodeValue);C$99s=C$99ct.create(C$99e,C$99l.x,C$99l.y,C$99l.width,C$99l.height,C$99o,C$99u);this._maxWidth=Math.max(this._maxWidth,C$99h+this.letterSpacing),this._fontCharDic[C$99a]=C$99s,this._fontWidthMap[C$99a]=C$99h;}}},C$99t.parseFont2=function(C$99t,C$99e){if(null!=C$99t&&null!=C$99e){this._texture=C$99e;var C$99i=C$99t.getElementsByTagName("info");this.fontSize=parseInt(C$99i[0].attributes.size.nodeValue);C$99i=C$99i[0].attributes.padding.nodeValue.split(",");this._padding=[parseInt(C$99i[0]),parseInt(C$99i[1]),parseInt(C$99i[2]),parseInt(C$99i[3])];var C$99n=C$99t.getElementsByTagName("char"),C$99r=0;for(C$99r=0;C$99r<C$99n.length;C$99r++){var C$99s=C$99n[C$99r].attributes,C$99a=parseInt(C$99s.id.nodeValue),C$99o=+parseInt(C$99s.xoffset.nodeValue),C$99u=+parseInt(C$99s.yoffset.nodeValue),C$99h=+parseInt(C$99s.xadvance.nodeValue),C$99l=new C$99E();C$99l.x=parseInt(C$99s.x.nodeValue),C$99l.y=parseInt(C$99s.y.nodeValue),C$99l.width=parseInt(C$99s.width.nodeValue),C$99l.height=parseInt(C$99s.height.nodeValue);C$99s=C$99ct.create(C$99e,C$99l.x,C$99l.y,C$99l.width,C$99l.height,C$99o,C$99u);this._maxWidth=Math.max(this._maxWidth,C$99h+this.letterSpacing),this._fontCharDic[C$99a]=C$99s,this._fontWidthMap[C$99a]=C$99h;}}},C$99t.getCharTexture=function(C$99t){return this._fontCharDic[C$99t.charCodeAt(0)];},C$99t.destroy=function(){if(this._texture){for(var C$99t in this._fontCharDic){C$99t=this._fontCharDic[C$99t];C$99t&&C$99t.destroy();}this._texture.destroy(),this._fontCharDic=null,this._fontWidthMap=null,this._texture=null;}},C$99t.setSpaceWidth=function(C$99t){this._spaceWidth=C$99t;},C$99t.getCharWidth=function(C$99t){var C$99e=C$99t.charCodeAt(0);return this._fontWidthMap[C$99e]?this._fontWidthMap[C$99e]+this.letterSpacing:" "==C$99t?this._spaceWidth+this.letterSpacing:0;},C$99t.getTextWidth=function(C$99t){for(var C$99e=0,C$99i=0,C$99n=C$99t.length;C$99i<C$99n;C$99i++)C$99e+=this.getCharWidth(C$99t.charAt(C$99i));return C$99e;},C$99t.getMaxWidth=function(){return this._maxWidth;},C$99t.getMaxHeight=function(){return this.fontSize;},C$99t.drawText=function(C$99t,C$99e,C$99i,C$99u,C$99n,C$99r){var C$99s,C$99a=this.getTextWidth(C$99t),C$99o=0;"center"===C$99n&&(C$99o=(C$99r-C$99a)/2),"right"===C$99n&&(C$99o=C$99r-C$99a);for(var C$99h=0,C$99l=0,C$99c=C$99t.length;C$99l<C$99c;C$99l++)(C$99s=this.getCharTexture(C$99t.charAt(C$99l)))&&(C$99e.graphics.drawTexture(C$99s,C$99i+C$99h+C$99o,C$99u),C$99h+=this.getCharWidth(C$99t.charAt(C$99l)));},e$d;}(),C$99l=(C$99i(e$l,"laya.display.css.Style"),(C$99e=e$l.prototype).getTransform=function(){return this._tf;},C$99e.setTransform=function(C$99t){this._tf="none"!==C$99t&&C$99t?C$99t:e$l._TF_EMPTY;},C$99e.setTranslateX=function(C$99t){this._tf===e$l._TF_EMPTY&&(this._tf=new C$99c()),this._tf.translateX=C$99t;},C$99e.setTranslateY=function(C$99t){this._tf===e$l._TF_EMPTY&&(this._tf=new C$99c()),this._tf.translateY=C$99t;},C$99e.setScaleX=function(C$99t){this._tf===e$l._TF_EMPTY&&(this._tf=new C$99c()),this._tf.scaleX=C$99t;},C$99e.setScale=function(C$99t,C$99e){this._tf===e$l._TF_EMPTY&&(this._tf=new C$99c()),this._tf.scaleX=C$99t,this._tf.scaleY=C$99e;},C$99e.setScaleY=function(C$99t){this._tf===e$l._TF_EMPTY&&(this._tf=new C$99c()),this._tf.scaleY=C$99t;},C$99e.setRotate=function(C$99t){this._tf===e$l._TF_EMPTY&&(this._tf=new C$99c()),this._tf.rotate=C$99t;},C$99e.setSkewX=function(C$99t){this._tf===e$l._TF_EMPTY&&(this._tf=new C$99c()),this._tf.skewX=C$99t;},C$99e.setSkewY=function(C$99t){this._tf===e$l._TF_EMPTY&&(this._tf=new C$99c()),this._tf.skewY=C$99t;},C$99e.destroy=function(){this.scrollRect=null;},C$99e.render=function(C$99t,C$99e,C$99i,C$99n){},C$99e.getCSSStyle=function(){return C$99it.EMPTY;},C$99e._enableLayout=function(){return!1;},C$99n(0,C$99e,"scaleX",function(){return this._tf.scaleX;},function(C$99t){this.setScaleX(C$99t);}),C$99n(0,C$99e,"transform",function(){return this.getTransform();},function(C$99t){this.setTransform(C$99t);}),C$99n(0,C$99e,"translateX",function(){return this._tf.translateX;},function(C$99t){this.setTranslateX(C$99t);}),C$99n(0,C$99e,"translateY",function(){return this._tf.translateY;},function(C$99t){this.setTranslateY(C$99t);}),C$99n(0,C$99e,"scaleY",function(){return this._tf.scaleY;},function(C$99t){this.setScaleY(C$99t);}),C$99n(0,C$99e,"block",function(){return 0!=(1&this._type);}),C$99n(0,C$99e,"skewY",function(){return this._tf.skewY;},function(C$99t){this.setSkewY(C$99t);}),C$99n(0,C$99e,"rotate",function(){return this._tf.rotate;},function(C$99t){this.setRotate(C$99t);}),C$99n(0,C$99e,"skewX",function(){return this._tf.skewX;},function(C$99t){this.setSkewX(C$99t);}),C$99n(0,C$99e,"paddingLeft",function(){return 0;}),C$99n(0,C$99e,"paddingTop",function(){return 0;}),C$99n(0,C$99e,"absolute",function(){return!0;}),e$l.__init__=function(){e$l._TF_EMPTY=new C$99c(),e$l.EMPTY=new e$l();},e$l.EMPTY=null,e$l._TF_EMPTY=null,e$l),C$99u=(C$99i(e$t,"laya.display.css.Font"),(C$99e=e$t.prototype).set=function(C$99t){this._text=null;for(var C$99e=C$99t.split(" "),C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++){var C$99r=C$99e[C$99i];switch(C$99r){case"italic":this.italic=!0;continue;case"bold":this.bold=!0;continue;}0<C$99r.indexOf("px")&&(this.size=parseInt(C$99r),this.family=C$99e[C$99i+1],C$99i++);}},C$99e.toString=function(){return this._text="",this.italic&&(this._text+="italic "),this.bold&&(this._text+="bold "),this._text+=this.size+"px "+this.family;},C$99e.copyTo=function(C$99t){C$99t._type=this._type,C$99t._text=this._text,C$99t._weight=this._weight,C$99t._color=this._color,C$99t.family=this.family,C$99t.stroke=this.stroke!=e$t._STROKE?this.stroke.slice():e$t._STROKE,C$99t.indent=this.indent,C$99t.size=this.size;},C$99n(0,C$99e,"password",function(){return 0!=(1024&this._type);},function(C$99t){C$99t?this._type|=1024:this._type&=-1025;}),C$99n(0,C$99e,"color",function(){return this._color.strColor;},function(C$99t){this._color=C$99H.create(C$99t);}),C$99n(0,C$99e,"italic",function(){return 0!=(512&this._type);},function(C$99t){C$99t?this._type|=512:this._type&=-513;}),C$99n(0,C$99e,"bold",function(){return 0!=(2048&this._type);},function(C$99t){C$99t?this._type|=2048:this._type&=-2049;}),C$99n(0,C$99e,"weight",function(){return""+this._weight;},function(C$99t){var C$99e=0;switch(C$99t){case"normal":break;case"bold":this.bold=!0,C$99e=700;break;case"bolder":C$99e=800;break;case"lighter":C$99e=100;break;default:C$99e=parseInt(C$99t);}this._weight=C$99e,this._text=null;}),C$99n(0,C$99e,"decoration",function(){return this._decoration?this._decoration.value:null;},function(C$99t){var C$99e=C$99t.split(" ");switch(this._decoration||(this._decoration={}),C$99e[0]){case"_":this._decoration.type="underline";break;case"-":this._decoration.type="line-through";break;case"overline":this._decoration.type="overline";break;default:this._decoration.type=C$99e[0];}C$99e[1]&&(this._decoration.color=C$99H.create(C$99e)),this._decoration.value=C$99t;}),e$t.__init__=function(){e$t.EMPTY=new e$t(null);},e$t.EMPTY=null,e$t.defaultColor="#000000",e$t.defaultSize=12,e$t.defaultFamily="Arial",e$t.defaultFont="12px Arial",e$t._STROKE=[0,"#000000"],e$t._ITALIC=512,e$t._PASSWORD=1024,e$t._BOLD=2048,e$t),C$99c=function(){function e$d(){this.translateX=0,this.translateY=0,this.scaleX=1,this.scaleY=1,this.rotate=0,this.skewX=0,this.skewY=0;}return C$99i(e$d,"laya.display.css.TransformInfo"),e$d;}(),C$99_=(C$99i(e$f,"laya.display.Graphics"),(C$99e=e$f.prototype).destroy=function(){this.clear(),this._graphicBounds&&this._graphicBounds.destroy(),this._graphicBounds=null,this._vectorgraphArray=null,this._sp&&(this._sp._renderType=0),this._sp=null;},C$99e.clear=function(C$99t){var C$99e=0,C$99i=0;if(C$99t=void 0===C$99t?!1:C$99t){var C$99n=this._one;if(this._cmds){for(C$99i=this._cmds.length,C$99e=0;C$99e<C$99i;C$99e++)!(C$99n=this._cmds[C$99e])||C$99n.callee!==C$99T._context._drawTexture&&C$99n.callee!==C$99T._context._drawTextureWithTransform||(C$99n[0]=null,e$f._cache.push(C$99n));this._cmds.length=0;}else C$99n&&(!C$99n||C$99n.callee!==C$99T._context._drawTexture&&C$99n.callee!==C$99T._context._drawTextureWithTransform||(C$99n[0]=null,e$f._cache.push(C$99n)));}else this._cmds=null;if(this._one=null,this._render=this._renderEmpty,this._sp&&(this._sp._renderType&=-514),this._repaint(),this._vectorgraphArray){for(C$99e=0,C$99i=this._vectorgraphArray.length;C$99e<C$99i;C$99e++)C$99Q.getInstance().deleteShape(this._vectorgraphArray[C$99e]);this._vectorgraphArray.length=0;}},C$99e._clearBoundsCache=function(){this._graphicBounds&&this._graphicBounds.reset();},C$99e._initGraphicBounds=function(){this._graphicBounds||(this._graphicBounds=new C$99d(),this._graphicBounds._graphics=this);},C$99e._repaint=function(){this._clearBoundsCache(),this._sp&&this._sp.repaint();},C$99e._isOnlyOne=function(){return!this._cmds||0===this._cmds.length;},C$99e.getBounds=function(C$99t){return void 0===C$99t&&(C$99t=!1),this._initGraphicBounds(),this._graphicBounds.getBounds(C$99t);},C$99e.getBoundPoints=function(C$99t){return void 0===C$99t&&(C$99t=!1),this._initGraphicBounds(),this._graphicBounds.getBoundPoints(C$99t);},C$99e._addCmd=function(C$99t){this._cmds=this._cmds||[],C$99t.callee=C$99t.shift(),this._cmds.push(C$99t);},C$99e.setFilters=function(C$99t){this._saveToCmd(C$99T._context._setFilters,C$99t);},C$99e.drawTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){if(void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99a&&(C$99a=1),!C$99t||C$99a<.01)return null;C$99n=(C$99n=void 0===C$99n?0:C$99n)||C$99t.sourceWidth,C$99r=(C$99r=void 0===C$99r?0:C$99r)||C$99t.sourceHeight,C$99a=C$99a<0?0:1<C$99a?1:C$99a;var C$99o,C$99h=!C$99T.isWebGL&&(C$99S.onFirefox||C$99S.onEdge||C$99S.onIE||C$99S.onSafari)?.5:0,C$99l=C$99n/C$99t.sourceWidth,C$99u=C$99r/C$99t.sourceHeight;return C$99n=C$99t.width*C$99l,C$99r=C$99t.height*C$99u,C$99t.loaded&&(C$99n<=0||C$99r<=0)?null:(C$99e+=C$99t.offsetX*C$99l,C$99i+=C$99t.offsetY*C$99u,this._sp&&(this._sp._renderType|=512),C$99e-=C$99h,C$99i-=C$99h,C$99n+=2*C$99h,C$99r+=2*C$99h,e$f._cache.length?((C$99o=e$f._cache.pop())[0]=C$99t,C$99o[1]=C$99e,C$99o[2]=C$99i,C$99o[3]=C$99n,C$99o[4]=C$99r,C$99o[5]=C$99s,C$99o[6]=C$99a):C$99o=[C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a],C$99o.callee=C$99s||1!=C$99a?C$99T._context._drawTextureWithTransform:C$99T._context._drawTexture,null!=this._one||C$99s||1!=C$99a?this._saveToCmd(C$99o.callee,C$99o):(this._one=C$99o,this._render=this._renderOneImg),C$99t.loaded||C$99t.once("loaded",this,this._textureLoaded,[C$99t,C$99o]),this._repaint(),C$99o);},C$99e.cleanByTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r){if(void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0),!C$99t)return this.clear();var C$99s,C$99a;this._one&&this._render===this._renderOneImg?(C$99n=C$99n||C$99t.sourceWidth,C$99r=C$99r||C$99t.sourceHeight,C$99s=C$99n/C$99t.sourceWidth,C$99a=C$99r/C$99t.sourceHeight,C$99n=C$99t.width*C$99s,C$99r=C$99t.height*C$99a,C$99e+=C$99t.offsetX*C$99s,C$99i+=C$99t.offsetY*C$99a,this._one[0]=C$99t,this._one[1]=C$99e,this._one[2]=C$99i,this._one[3]=C$99n,this._one[4]=C$99r,this._repaint()):(this.clear(),C$99t&&this.drawTexture(C$99t,C$99e,C$99i,C$99n,C$99r));},C$99e.drawTextures=function(C$99t,C$99e){C$99t&&this._saveToCmd(C$99T._context._drawTextures,[C$99t,C$99e]);},C$99e.fillTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0),void 0===C$99s&&(C$99s="repeat"),C$99t&&(C$99e=[C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a||C$99D.EMPTY,{}],C$99t.loaded||C$99t.once("loaded",this,this._textureLoaded,[C$99t,C$99e]),this._saveToCmd(C$99T._context._fillTexture,C$99e));},C$99e._textureLoaded=function(C$99t,C$99e){C$99e[3]=C$99e[3]||C$99t.width,C$99e[4]=C$99e[4]||C$99t.height,this._repaint();},C$99e.fillCircle=function(C$99u,C$99c,C$99t,C$99e,C$99i,C$99_,C$99n){C$99t.bitmap.enableMerageInAtlas=!1;var C$99r=new Float32Array(2*(C$99n+1)),C$99s=new Float32Array(2*(C$99n+1)),C$99a=new Uint16Array(3*C$99n),C$99d=2*Math.PI/C$99n,C$99o=0;C$99r[0]=C$99e,C$99r[1]=C$99i,C$99s[0]=C$99e/C$99t.width,C$99s[1]=C$99i/C$99t.height;for(var C$99h=2,C$99l=0;C$99l<C$99n;C$99l++){var C$99f=C$99_*Math.cos(C$99o)+C$99e,C$99p=C$99_*Math.sin(C$99o)+C$99i;C$99r[C$99h]=C$99f,C$99r[C$99h+1]=C$99p,C$99s[C$99h]=C$99f/C$99t.width,C$99s[C$99h+1]=C$99p/C$99t.height,C$99o+=C$99d,C$99h+=2;}for(C$99l=C$99h=0;C$99l<C$99n;C$99l++)C$99a[C$99h++]=0,C$99a[C$99h++]=C$99l+1,C$99a[C$99h++]=C$99n+1<=C$99l+2?1:C$99l+2;this.drawTriangles(C$99t,C$99u,C$99c,C$99r,C$99s,C$99a);},C$99e.drawTriangles=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){this._saveToCmd(C$99T._context.drawTriangles,[C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o=void 0===C$99o?1:C$99o,C$99h,C$99l]);},C$99e._saveToCmd=function(C$99t,C$99e){return this._sp&&(this._sp._renderType|=512),null==this._one?(this._one=C$99e,this._render=this._renderOne):(this._sp&&(this._sp._renderType&=-2),this._render=this._renderAll,0===(this._cmds||(this._cmds=[])).length&&this._cmds.push(this._one),this._cmds.push(C$99e)),C$99e.callee=C$99t,this._repaint(),C$99e;},C$99e.clipRect=function(C$99t,C$99e,C$99i,C$99n){this._saveToCmd(C$99T._context._clipRect,[C$99t,C$99e,C$99i,C$99n]);},C$99e.fillText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){void 0===C$99a&&(C$99a=0),this._saveToCmd(C$99T._context._fillText,[C$99t,C$99e,C$99i,C$99n||C$99u.defaultFont,C$99r,C$99s]);},C$99e.fillBorderText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){this._saveToCmd(C$99T._context._fillBorderText,[C$99t,C$99e,C$99i,C$99n||C$99u.defaultFont,C$99r,C$99s,C$99a,C$99o]);},C$99e.strokeText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._saveToCmd(C$99T._context._strokeText,[C$99t,C$99e,C$99i,C$99n||C$99u.defaultFont,C$99r,C$99s,C$99a]);},C$99e.alpha=function(C$99t){this._saveToCmd(C$99T._context._alpha,[C$99t=C$99t<0?0:1<C$99t?1:C$99t]);},C$99e.setAlpha=function(C$99t){this._saveToCmd(C$99T._context._setAlpha,[C$99t=C$99t<0?0:1<C$99t?1:C$99t]);},C$99e.transform=function(C$99t,C$99e,C$99i){this._saveToCmd(C$99T._context._transform,[C$99t,C$99e=void 0===C$99e?0:C$99e,C$99i=void 0===C$99i?0:C$99i]);},C$99e.rotate=function(C$99t,C$99e,C$99i){this._saveToCmd(C$99T._context._rotate,[C$99t,C$99e=void 0===C$99e?0:C$99e,C$99i=void 0===C$99i?0:C$99i]);},C$99e.scale=function(C$99t,C$99e,C$99i,C$99n){this._saveToCmd(C$99T._context._scale,[C$99t,C$99e,C$99i=void 0===C$99i?0:C$99i,C$99n=void 0===C$99n?0:C$99n]);},C$99e.translate=function(C$99t,C$99e){this._saveToCmd(C$99T._context._translate,[C$99t,C$99e]);},C$99e.save=function(){this._saveToCmd(C$99T._context._save,[]);},C$99e.restore=function(){this._saveToCmd(C$99T._context._restore,[]);},C$99e.replaceText=function(C$99t){this._repaint();var C$99e=this._cmds;if(C$99e){for(var C$99i=C$99e.length-1;-1<C$99i;C$99i--)if(this._isTextCmd(C$99e[C$99i].callee))return C$99e[C$99i][0].toUpperCase?C$99e[C$99i][0]=C$99t:C$99e[C$99i][0].setText(C$99t),!0;}else if(this._one&&this._isTextCmd(this._one.callee))return this._one[0].toUpperCase?this._one[0]=C$99t:this._one[0].setText(C$99t),!0;return!1;},C$99e._isTextCmd=function(C$99t){return C$99t===C$99T._context._fillText||C$99t===C$99T._context._fillBorderText||C$99t===C$99T._context._strokeText;},C$99e.replaceTextColor=function(C$99t){this._repaint();var C$99e=this._cmds;if(C$99e)for(var C$99i=C$99e.length-1;-1<C$99i;C$99i--)this._isTextCmd(C$99e[C$99i].callee)&&(C$99e[C$99i][4]=C$99t,C$99e[C$99i][0].toUpperCase||(C$99e[C$99i][0].changed=!0));else this._one&&this._isTextCmd(this._one.callee)&&(this._one[4]=C$99t,this._one[0].toUpperCase||(this._one[0].changed=!0));},C$99e.loadImage=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=this;void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0);var C$99o=C$99ht.getRes(C$99t);function e$o(C$99t){C$99t&&(C$99a.drawTexture(C$99t,C$99e,C$99i,C$99n,C$99r),null!=C$99s&&C$99s.call(C$99a._sp,C$99t));}C$99o?e$o(C$99o):C$99y.loader.load(C$99t,C$99g.create(null,e$o),null,"image");},C$99e._renderEmpty=function(C$99t,C$99e,C$99i,C$99n){},C$99e._renderAll=function(C$99t,C$99e,C$99i,C$99n){for(var C$99r,C$99s=this._cmds,C$99a=0,C$99o=C$99s.length;C$99a<C$99o;C$99a++)(C$99r=C$99s[C$99a]).callee.call(C$99e,C$99i,C$99n,C$99r);},C$99e._renderOne=function(C$99t,C$99e,C$99i,C$99n){this._one.callee.call(C$99e,C$99i,C$99n,this._one);},C$99e._renderOneImg=function(C$99t,C$99e,C$99i,C$99n){this._one.callee.call(C$99e,C$99i,C$99n,this._one),2305!==C$99t._renderType&&(C$99t._renderType|=1);},C$99e.drawLine=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){void 0===C$99s&&(C$99s=1);var C$99a=0;C$99T.isWebGL&&(C$99a=C$99Q.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$99a));var C$99o=C$99s%2==0?0:.5;this._saveToCmd(C$99T._context._drawLine,[C$99t+C$99o,C$99e+C$99o,C$99i+C$99o,C$99n+C$99o,C$99r,C$99s,C$99a]);},C$99e.drawLines=function(C$99t,C$99e,C$99i,C$99n,C$99r){void 0===C$99r&&(C$99r=1);var C$99s=0;!C$99i||C$99i.length<4||(C$99T.isWebGL&&(C$99s=C$99Q.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$99s)),this._saveToCmd(C$99T._context._drawLines,[C$99t+(C$99t=C$99r%2==0?0:.5),C$99e+C$99t,C$99i,C$99n,C$99r,C$99s]));},C$99e.drawCurves=function(C$99t,C$99e,C$99i,C$99n,C$99r){this._saveToCmd(C$99T._context._drawCurves,[C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?1:C$99r]);},C$99e.drawRect=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){void 0===C$99a&&(C$99a=1);var C$99o=C$99s?C$99a/2:0,C$99h=C$99s?C$99a:0;this._saveToCmd(C$99T._context._drawRect,[C$99t+C$99o,C$99e+C$99o,C$99i-C$99h,C$99n-C$99h,C$99r,C$99s,C$99a]);},C$99e.drawCircle=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){void 0===C$99s&&(C$99s=1);var C$99a=C$99r?C$99s/2:0,C$99o=0;C$99T.isWebGL&&(C$99o=C$99Q.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$99o)),this._saveToCmd(C$99T._context._drawCircle,[C$99t,C$99e,C$99i-C$99a,C$99n,C$99r,C$99s,C$99o]);},C$99e.drawPie=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){void 0===C$99o&&(C$99o=1);var C$99h=C$99a?C$99o/2:0,C$99u=C$99a?C$99o:0,C$99l=0;C$99T.isWebGL&&(C$99l=C$99Q.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$99l));C$99t=[C$99t+C$99h,C$99e+C$99h,C$99i-C$99u,C$99n,C$99r,C$99s,C$99a,C$99o,C$99l];C$99t[3]=C$99Z.toRadian(C$99n),C$99t[4]=C$99Z.toRadian(C$99r),this._saveToCmd(C$99T._context._drawPie,C$99t);},C$99e.drawPoly=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){void 0===C$99s&&(C$99s=1);var C$99a=0,C$99o=!1;C$99T.isWebGL&&(C$99a=C$99Q.getInstance().getId(),null==this._vectorgraphArray&&(this._vectorgraphArray=[]),this._vectorgraphArray.push(C$99a),C$99o=!(6<C$99i.length));var C$99h=!C$99r||C$99s%2==0?0:.5;this._saveToCmd(C$99T._context._drawPoly,[C$99t+C$99h,C$99e+C$99h,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o]);},C$99e.drawPath=function(C$99t,C$99e,C$99i,C$99n,C$99r){this._saveToCmd(C$99T._context._drawPath,[C$99t,C$99e,C$99i,C$99n,C$99r]);},C$99n(0,C$99e,"cmds",function(){return this._cmds;},function(C$99t){this._sp&&(this._sp._renderType|=512),this._cmds=C$99t,this._render=this._renderAll,this._repaint();}),e$f.__init__=function(){if(C$99T.isConchNode){for(var C$99t=laya.display.Graphics.prototype,C$99e=C$99S.window.ConchGraphics.prototype,C$99i=["clear","destroy","alpha","rotate","transform","scale","translate","save","restore","clipRect","blendMode","fillText","fillBorderText","_fands","drawRect","drawCircle","drawPie","drawPoly","drawPath","drawImageM","drawLine","drawLines","_drawPs","drawCurves","replaceText","replaceTextColor","_fillImage","fillTexture","setSkinMesh","drawParticle","drawImageS"],C$99n=0,C$99r=C$99i.length;C$99n<=C$99r;C$99n++){var C$99s=C$99i[C$99n];C$99t[C$99s]=C$99e[C$99s];}C$99t._saveToCmd=null,C$99e.drawImageS&&(C$99t.drawTextures=function(C$99t,C$99e){var C$99i,C$99n,C$99r;C$99t&&C$99t.loaded&&C$99t.bitmap&&C$99t.source&&(C$99i=C$99t.uv,C$99n=C$99t.bitmap.width,C$99r=C$99t.bitmap.height,this.drawImageS(C$99t.bitmap.source,C$99i[0]*C$99n,C$99i[1]*C$99r,(C$99i[2]-C$99i[0])*C$99n,(C$99i[5]-C$99i[3])*C$99r,C$99t.offsetX,C$99t.offsetY,C$99t.width,C$99t.height,C$99e));}),C$99t.drawTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){var C$99o,C$99h,C$99l;void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0),void 0===C$99a&&(C$99a=1),C$99t&&(C$99t.loaded?C$99t.loaded&&C$99t.bitmap&&C$99t.source&&(C$99n=C$99n||C$99t.sourceWidth,C$99r=C$99r||C$99t.sourceHeight,C$99a=C$99a<0?0:1<C$99a?1:C$99a,C$99n=C$99n-C$99t.sourceWidth+C$99t.width,C$99r=C$99r-C$99t.sourceHeight+C$99t.height,!(C$99n<=0||C$99r<=0))&&(C$99e+=C$99t.offsetX,C$99i+=C$99t.offsetY,C$99o=C$99t.uv,C$99h=C$99t.bitmap.width,C$99l=C$99t.bitmap.height,C$99o[4]<C$99o[0]&&C$99o[5]<C$99o[1]?this.drawImageM(C$99t.bitmap.source,C$99o[4]*C$99h,C$99o[5]*C$99l,(C$99o[0]-C$99o[4])*C$99h,(C$99o[1]-C$99o[5])*C$99l,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a):this.drawImageM(C$99t.bitmap.source,C$99o[0]*C$99h,C$99o[1]*C$99l,(C$99o[2]-C$99o[0])*C$99h,(C$99o[5]-C$99o[3])*C$99l,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a),this._repaint()):C$99t.once("loaded",this,function(){this.drawTexture(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s);}));},C$99t.fillTexture=function(C$99t,C$99e,C$99u,C$99i,C$99n,C$99r,C$99s){var C$99a,C$99o,C$99h,C$99l;void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r="repeat"),C$99t&&C$99t.loaded&&(C$99a=C$99T._context.ctx,C$99o=C$99t.bitmap.width,C$99l=C$99t.bitmap.height,C$99h=C$99t.uv,C$99o=C$99t.uv!=C$99ct.DEF_UV?C$99a.createPattern(C$99t.bitmap.source,C$99r,C$99h[0]*C$99o,C$99h[1]*C$99l,(C$99h[2]-C$99h[0])*C$99o,(C$99h[5]-C$99h[3])*C$99l):C$99a.createPattern(C$99t.bitmap.source,C$99r),C$99l=C$99h=0,C$99s&&(C$99e+=C$99s.x%C$99t.width,C$99u+=C$99s.y%C$99t.height,C$99h-=C$99s.x%C$99t.width,C$99l-=C$99s.y%C$99t.height),this._fillImage(C$99o,C$99e,C$99u,C$99h,C$99l,C$99i,C$99n));};}},e$f._cache=[],e$f),C$99d=(C$99i(e$g,"laya.display.GraphicsBounds"),(C$99e=e$g.prototype).destroy=function(){this._graphics=null,this._temp=null,this._rstBoundPoints=null,this._bounds=null;},C$99e.reset=function(){this._temp&&(this._temp.length=0);},C$99e.getBounds=function(C$99t){return void 0===C$99t&&(C$99t=!1),this._bounds&&this._temp&&!(this._temp.length<1)&&C$99t==this._cacheBoundsType||(this._bounds=C$99E._getWrapRec(this.getBoundPoints(C$99t),this._bounds)),this._cacheBoundsType=C$99t,this._bounds;},C$99e.getBoundPoints=function(C$99t){return void 0===C$99t&&(C$99t=!1),(!this._temp||this._temp.length<1||C$99t!=this._cacheBoundsType)&&(this._temp=this._getCmdPoints(C$99t)),this._cacheBoundsType=C$99t,this._rstBoundPoints=C$99Z.copyArray(this._rstBoundPoints,this._temp);},C$99e._getCmdPoints=function(C$99u){void 0===C$99u&&(C$99u=!1);var C$99t,C$99c,C$99e=C$99T._context,C$99_=this._graphics.cmds;if((C$99t=this._temp||(this._temp=[])).length=0,C$99_||null==this._graphics._one||(e$g._tempCmds.length=0,e$g._tempCmds.push(this._graphics._one),C$99_=e$g._tempCmds),!C$99_)return C$99t;(C$99c=e$g._tempMatrixArrays).length=0;var C$99i=e$g._initMatrix;C$99i.identity();for(var C$99n,C$99r,C$99s=e$g._tempMatrix,C$99a=NaN,C$99o=NaN,C$99d=NaN,C$99f=NaN,C$99h=NaN,C$99p=NaN,C$99m=0,C$99g=C$99_.length;C$99m<C$99g;C$99m++)if((C$99n=C$99_[C$99m]).callee)switch(C$99n.callee){case C$99e._save:case 7:C$99c.push(C$99i),C$99i=C$99i.clone();break;case C$99e._restore:case 8:C$99i=C$99c.pop();break;case C$99e._scale:case 5:C$99s.identity(),C$99s.translate(-C$99n[2],-C$99n[3]),C$99s.scale(C$99n[0],C$99n[1]),C$99s.translate(C$99n[2],C$99n[3]),this._switchMatrix(C$99i,C$99s);break;case C$99e._rotate:case 3:C$99s.identity(),C$99s.translate(-C$99n[1],-C$99n[2]),C$99s.rotate(C$99n[0]),C$99s.translate(C$99n[1],C$99n[2]),this._switchMatrix(C$99i,C$99s);break;case C$99e._translate:case 6:C$99s.identity(),C$99s.translate(C$99n[0],C$99n[1]),this._switchMatrix(C$99i,C$99s);break;case C$99e._transform:case 4:C$99s.identity(),C$99s.translate(-C$99n[1],-C$99n[2]),C$99s.concat(C$99n[0]),C$99s.translate(C$99n[1],C$99n[2]),this._switchMatrix(C$99i,C$99s);break;case 16:case 24:e$g._addPointArrToRst(C$99t,C$99E._getBoundPointS(C$99n[0],C$99n[1],C$99n[2],C$99n[3]),C$99i);break;case 17:C$99i.copyTo(C$99s),C$99s.concat(C$99n[4]),e$g._addPointArrToRst(C$99t,C$99E._getBoundPointS(C$99n[0],C$99n[1],C$99n[2],C$99n[3]),C$99s);break;case C$99e._drawTexture:C$99r=C$99n[0],C$99u?C$99n[3]&&C$99n[4]?e$g._addPointArrToRst(C$99t,C$99E._getBoundPointS(C$99n[1],C$99n[2],C$99n[3],C$99n[4]),C$99i):(C$99r=C$99n[0],e$g._addPointArrToRst(C$99t,C$99E._getBoundPointS(C$99n[1],C$99n[2],C$99r.width,C$99r.height),C$99i)):(C$99a=(C$99n[3]||C$99r.sourceWidth)/C$99r.width,C$99o=(C$99n[4]||C$99r.sourceHeight)/C$99r.height,C$99d=C$99a*C$99r.sourceWidth,C$99f=C$99o*C$99r.sourceHeight,C$99h=0<C$99r.offsetX?C$99r.offsetX:0,C$99p=0<C$99r.offsetY?C$99r.offsetY:0,C$99h*=C$99a,C$99p*=C$99o,e$g._addPointArrToRst(C$99t,C$99E._getBoundPointS(C$99n[1]-C$99h,C$99n[2]-C$99p,C$99d,C$99f),C$99i));break;case C$99e._fillTexture:C$99n[3]&&C$99n[4]?e$g._addPointArrToRst(C$99t,C$99E._getBoundPointS(C$99n[1],C$99n[2],C$99n[3],C$99n[4]),C$99i):(C$99r=C$99n[0],e$g._addPointArrToRst(C$99t,C$99E._getBoundPointS(C$99n[1],C$99n[2],C$99r.width,C$99r.height),C$99i));break;case C$99e._drawTextureWithTransform:C$99l=C$99n[5]?(C$99i.copyTo(C$99s),C$99s.concat(C$99n[5]),C$99s):C$99i,C$99u?C$99n[3]&&C$99n[4]?e$g._addPointArrToRst(C$99t,C$99E._getBoundPointS(C$99n[1],C$99n[2],C$99n[3],C$99n[4]),C$99l):(C$99r=C$99n[0],e$g._addPointArrToRst(C$99t,C$99E._getBoundPointS(C$99n[1],C$99n[2],C$99r.width,C$99r.height),C$99l)):(C$99r=C$99n[0],C$99a=(C$99n[3]||C$99r.sourceWidth)/C$99r.width,C$99o=(C$99n[4]||C$99r.sourceHeight)/C$99r.height,C$99d=C$99a*C$99r.sourceWidth,C$99f=C$99o*C$99r.sourceHeight,C$99h=0<C$99r.offsetX?C$99r.offsetX:0,C$99p=0<C$99r.offsetY?C$99r.offsetY:0,C$99h*=C$99a,C$99p*=C$99o,e$g._addPointArrToRst(C$99t,C$99E._getBoundPointS(C$99n[1]-C$99h,C$99n[2]-C$99p,C$99d,C$99f),C$99l));break;case C$99e._drawRect:case 13:e$g._addPointArrToRst(C$99t,C$99E._getBoundPointS(C$99n[0],C$99n[1],C$99n[2],C$99n[3]),C$99i);break;case C$99e._drawCircle:case C$99e._fillCircle:case 14:e$g._addPointArrToRst(C$99t,C$99E._getBoundPointS(C$99n[0]-C$99n[2],C$99n[1]-C$99n[2],C$99n[2]+C$99n[2],C$99n[2]+C$99n[2]),C$99i);break;case C$99e._drawLine:case 20:var C$99l;e$g._tempPoints.length=0,C$99l=.5*C$99n[5],C$99n[0]==C$99n[2]?e$g._tempPoints.push(C$99n[0]+C$99l,C$99n[1],C$99n[2]+C$99l,C$99n[3],C$99n[0]-C$99l,C$99n[1],C$99n[2]-C$99l,C$99n[3]):C$99n[1]==C$99n[3]?e$g._tempPoints.push(C$99n[0],C$99n[1]+C$99l,C$99n[2],C$99n[3]+C$99l,C$99n[0],C$99n[1]-C$99l,C$99n[2],C$99n[3]-C$99l):e$g._tempPoints.push(C$99n[0],C$99n[1],C$99n[2],C$99n[3]),e$g._addPointArrToRst(C$99t,e$g._tempPoints,C$99i);break;case C$99e._drawCurves:case 22:e$g._addPointArrToRst(C$99t,C$99M.I.getBezierPoints(C$99n[2]),C$99i,C$99n[0],C$99n[1]);break;case C$99e._drawPoly:case C$99e._drawLines:case 18:e$g._addPointArrToRst(C$99t,C$99n[2],C$99i,C$99n[0],C$99n[1]);break;case C$99e._drawPath:case 19:e$g._addPointArrToRst(C$99t,this._getPathPoints(C$99n[2]),C$99i,C$99n[0],C$99n[1]);break;case C$99e._drawPie:case 15:e$g._addPointArrToRst(C$99t,this._getPiePoints(C$99n[0],C$99n[1],C$99n[2],C$99n[3],C$99n[4]),C$99i);}return 200<C$99t.length?C$99t=C$99Z.copyArray(C$99t,C$99E._getWrapRec(C$99t)._getBoundPoints()):8<C$99t.length&&(C$99t=C$99C.scanPList(C$99t)),C$99t;},C$99e._switchMatrix=function(C$99t,C$99e){C$99e.concat(C$99t),C$99e.copyTo(C$99t);},C$99e._getPiePoints=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=e$g._tempPoints;e$g._tempPoints.length=0,C$99s.push(C$99t,C$99e);var C$99a=(C$99r-C$99n)%(2*Math.PI)/10,C$99o=NaN,C$99h=C$99n;for(C$99o=0;C$99o<=10;C$99o++)C$99s.push(C$99t+C$99i*Math.cos(C$99h),C$99e+C$99i*Math.sin(C$99h)),C$99h+=C$99a;return C$99s;},C$99e._getPathPoints=function(C$99t){var C$99e,C$99i,C$99n=0,C$99r=e$g._tempPoints;for(C$99r.length=0,C$99e=C$99t.length,C$99n=0;C$99n<C$99e;C$99n++)1<(C$99i=C$99t[C$99n]).length&&(C$99r.push(C$99i[1],C$99i[2]),3<C$99i.length&&C$99r.push(C$99i[3],C$99i[4]));return C$99r;},e$g._addPointArrToRst=function(C$99t,C$99e,C$99i,C$99n,C$99r){void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0);var C$99s,C$99a=0;for(C$99s=C$99e.length,C$99a=0;C$99a<C$99s;C$99a+=2)e$g._addPointToRst(C$99t,C$99e[C$99a]+C$99n,C$99e[C$99a+1]+C$99r,C$99i);},e$g._addPointToRst=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99D.TEMP;C$99r.setTo(C$99e||0,C$99i||0),C$99n.transformPoint(C$99r),C$99t.push(C$99r.x,C$99r.y);},e$g._tempPoints=[],e$g._tempMatrixArrays=[],e$g._tempCmds=[],C$99a(e$g,["_tempMatrix",function(){return this._tempMatrix=new C$99I();},"_initMatrix",function(){return this._initMatrix=new C$99I();}]),e$g),C$99f=function(){function e$d(){}C$99i(e$d,"laya.events.Event");var C$99t=e$d.prototype;return C$99t.setTo=function(C$99t,C$99e,C$99i){return this.type=C$99t,this.currentTarget=C$99e,this.target=C$99i,this;},C$99t.stopPropagation=function(){this._stoped=!0;},C$99n(0,C$99t,"stageY",function(){return C$99y.stage.mouseY;}),C$99n(0,C$99t,"charCode",function(){return this.nativeEvent.charCode;}),C$99n(0,C$99t,"touches",function(){var C$99t=this.nativeEvent.touches;if(C$99t)for(var C$99e=C$99y.stage,C$99i=0,C$99n=C$99t.length;C$99i<C$99n;C$99i++){var C$99r=C$99t[C$99i],C$99s=C$99D.TEMP;C$99s.setTo(C$99r.clientX,C$99r.clientY),C$99e._canvasTransform.invertTransformPoint(C$99s),C$99e.transform.invertTransformPoint(C$99s),C$99r.stageX=C$99s.x,C$99r.stageY=C$99s.y;}return C$99t;}),C$99n(0,C$99t,"keyLocation",function(){return this.nativeEvent.keyLocation;}),C$99n(0,C$99t,"ctrlKey",function(){return this.nativeEvent.ctrlKey;}),C$99n(0,C$99t,"altKey",function(){return this.nativeEvent.altKey;}),C$99n(0,C$99t,"shiftKey",function(){return this.nativeEvent.shiftKey;}),C$99n(0,C$99t,"stageX",function(){return C$99y.stage.mouseX;}),e$d.EMPTY=new e$d(),e$d.MOUSE_DOWN="mousedown",e$d.MOUSE_UP="mouseup",e$d.CLICK="click",e$d.RIGHT_MOUSE_DOWN="rightmousedown",e$d.RIGHT_MOUSE_UP="rightmouseup",e$d.RIGHT_CLICK="rightclick",e$d.MOUSE_MOVE="mousemove",e$d.MOUSE_OVER="mouseover",e$d.MOUSE_OUT="mouseout",e$d.MOUSE_WHEEL="mousewheel",e$d.ROLL_OVER="mouseover",e$d.ROLL_OUT="mouseout",e$d.DOUBLE_CLICK="doubleclick",e$d.CHANGE="change",e$d.CHANGED="changed",e$d.RESIZE="resize",e$d.ADDED="added",e$d.REMOVED="removed",e$d.DISPLAY="display",e$d.UNDISPLAY="undisplay",e$d.ERROR="error",e$d.COMPLETE="complete",e$d.LOADED="loaded",e$d.INITED="inited",e$d.PROGRESS="progress",e$d.INPUT="input",e$d.RENDER="render",e$d.OPEN="open",e$d.MESSAGE="message",e$d.CLOSE="close",e$d.KEY_DOWN="keydown",e$d.KEY_PRESS="keypress",e$d.KEY_UP="keyup",e$d.FRAME="enterframe",e$d.DRAG_START="dragstart",e$d.DRAG_MOVE="dragmove",e$d.DRAG_END="dragend",e$d.ENTER="enter",e$d.SELECT="select",e$d.BLUR="blur",e$d.FOCUS="focus",e$d.VISIBILITY_CHANGE="visibilitychange",e$d.FOCUS_CHANGE="focuschange",e$d.PLAYED="played",e$d.PAUSED="paused",e$d.STOPPED="stopped",e$d.START="start",e$d.END="end",e$d.ENABLE_CHANGED="enablechanged",e$d.ACTIVE_IN_HIERARCHY_CHANGED="activeinhierarchychanged",e$d.COMPONENT_ADDED="componentadded",e$d.COMPONENT_REMOVED="componentremoved",e$d.LAYER_CHANGED="layerchanged",e$d.HIERARCHY_LOADED="hierarchyloaded",e$d.RECOVERED="recovered",e$d.RELEASED="released",e$d.LINK="link",e$d.LABEL="label",e$d.FULL_SCREEN_CHANGE="fullscreenchange",e$d.DEVICE_LOST="devicelost",e$d.MESH_CHANGED="meshchanged",e$d.MATERIAL_CHANGED="materialchanged",e$d.WORLDMATRIX_NEEDCHANGE="worldmatrixneedchanged",e$d.ANIMATION_CHANGED="animationchanged",e$d.TRIGGER_ENTER="triggerenter",e$d.TRIGGER_STAY="triggerstay",e$d.TRIGGER_EXIT="triggerexit",e$d.TRAIL_FILTER_CHANGE="trailfilterchange",e$d.DOMINO_FILTER_CHANGE="dominofilterchange",e$d;}(),C$99p=(function(){function e$d(){}C$99i(e$d,"laya.events.Keyboard"),e$d.NUMBER_0=48,e$d.NUMBER_1=49,e$d.NUMBER_2=50,e$d.NUMBER_3=51,e$d.NUMBER_4=52,e$d.NUMBER_5=53,e$d.NUMBER_6=54,e$d.NUMBER_7=55,e$d.NUMBER_8=56,e$d.NUMBER_9=57,e$d.A=65,e$d.B=66,e$d.C=67,e$d.D=68,e$d.E=69,e$d.F=70,e$d.G=71,e$d.H=72,e$d.I=73,e$d.J=74,e$d.K=75,e$d.L=76,e$d.M=77,e$d.N=78,e$d.O=79,e$d.P=80,e$d.Q=81,e$d.R=82,e$d.S=83,e$d.T=84,e$d.U=85,e$d.V=86,e$d.W=87,e$d.X=88,e$d.Y=89,e$d.Z=90,e$d.F1=112,e$d.F2=113,e$d.F3=114,e$d.F4=115,e$d.F5=116,e$d.F6=117,e$d.F7=118,e$d.F8=119,e$d.F9=120,e$d.F10=121,e$d.F11=122,e$d.F12=123,e$d.F13=124,e$d.F14=125,e$d.F15=126,e$d.NUMPAD=21,e$d.NUMPAD_0=96,e$d.NUMPAD_1=97,e$d.NUMPAD_2=98,e$d.NUMPAD_3=99,e$d.NUMPAD_4=100,e$d.NUMPAD_5=101,e$d.NUMPAD_6=102,e$d.NUMPAD_7=103,e$d.NUMPAD_8=104,e$d.NUMPAD_9=105,e$d.NUMPAD_ADD=107,e$d.NUMPAD_DECIMAL=110,e$d.NUMPAD_DIVIDE=111,e$d.NUMPAD_ENTER=108,e$d.NUMPAD_MULTIPLY=106,e$d.NUMPAD_SUBTRACT=109,e$d.SEMICOLON=186,e$d.EQUAL=187,e$d.COMMA=188,e$d.MINUS=189,e$d.PERIOD=190,e$d.SLASH=191,e$d.BACKQUOTE=192,e$d.LEFTBRACKET=219,e$d.BACKSLASH=220,e$d.RIGHTBRACKET=221,e$d.QUOTE=222,e$d.ALTERNATE=18,e$d.BACKSPACE=8,e$d.CAPS_LOCK=20,e$d.COMMAND=15,e$d.CONTROL=17,e$d.DELETE=46,e$d.ENTER=13,e$d.ESCAPE=27,e$d.PAGE_UP=33,e$d.PAGE_DOWN=34,e$d.END=35,e$d.HOME=36,e$d.LEFT=37,e$d.UP=38,e$d.RIGHT=39,e$d.DOWN=40,e$d.SHIFT=16,e$d.SPACE=32,e$d.TAB=9,e$d.INSERT=45;}(),function(){function e$W(){}return C$99i(e$W,"laya.events.KeyBoardManager"),e$W.__init__=function(){e$W._addEvent("keydown"),e$W._addEvent("keypress"),e$W._addEvent("keyup");},e$W._addEvent=function(C$99e){C$99S.document.addEventListener(C$99e,function(C$99t){laya.events.KeyBoardManager._dispatch(C$99t,C$99e);},!0);},e$W._dispatch=function(C$99t,C$99e){if(e$W.enabled){e$W._event._stoped=!1,e$W._event.nativeEvent=C$99t,e$W._event.keyCode=C$99t.keyCode||C$99t.which||C$99t.charCode,"keydown"===C$99e?e$W._pressKeys[e$W._event.keyCode]=!0:"keyup"===C$99e&&(e$W._pressKeys[e$W._event.keyCode]=null);for(var C$99i=C$99y.stage.focus&&null!=C$99y.stage.focus.event&&C$99y.stage.focus.displayedInStage?C$99y.stage.focus:C$99y.stage,C$99n=C$99i;C$99n;)C$99n.event(C$99e,e$W._event.setTo(C$99e,C$99n,C$99i)),C$99n=C$99n.parent;}},e$W.hasKeyDown=function(C$99t){return e$W._pressKeys[C$99t];},e$W._pressKeys={},e$W.enabled=!0,C$99a(e$W,["_event",function(){return this._event=new C$99f();}]),e$W;}()),C$99$=(function(){function e$d(){}C$99i(e$d,"laya.events.KeyLocation"),e$d.STANDARD=0,e$d.LEFT=1,e$d.RIGHT=2,e$d.NUM_PAD=3;}(),function(){function e$I(){this.mouseX=0,this.mouseY=0,this.disableMouseEvent=!1,this.mouseDownTime=0,this.mouseEventTime=C$99S.now(),this.mouseMoveAccuracy=2,this._stage=null,this._target=null,this._lastMoveTimer=0,this._isLeftMouse=!1,this._eventList=[],this._touchIDs={},this._id=1,this._tTouchID=0,this._event=new C$99f(),this._matrix=new C$99I(),this._point=new C$99D(),this._rect=new C$99E(),this._prePoint=new C$99D(),this._curTouchID=NaN;}C$99i(e$I,"laya.events.MouseManager");var C$99t=e$I.prototype;return C$99t.__init__=function(C$99t,C$99e){var C$99i=this;this._stage=C$99t;var C$99n=this,C$99r=this._eventList;C$99e.oncontextmenu=function(C$99t){if(e$I.enabled)return!1;},C$99e.addEventListener("mousedown",function(C$99t){e$I.enabled&&(C$99S.onIE||C$99t.preventDefault(),C$99r.push(C$99t),C$99n.mouseDownTime=C$99S.now());}),C$99e.addEventListener("mouseup",function(C$99t){e$I.enabled&&(C$99t.preventDefault(),C$99r.push(C$99t),C$99n.mouseDownTime=-C$99S.now());},!0),C$99e.addEventListener("mousemove",function(C$99t){var C$99e;e$I.enabled&&(C$99t.preventDefault(),(C$99e=C$99S.now())-C$99n._lastMoveTimer<10||(C$99n._lastMoveTimer=C$99e,C$99r.push(C$99t)));},!0),C$99e.addEventListener("mouseout",function(C$99t){e$I.enabled&&C$99r.push(C$99t);}),C$99e.addEventListener("mouseover",function(C$99t){e$I.enabled&&C$99r.push(C$99t);}),C$99e.addEventListener("touchstart",function(C$99t){e$I.enabled&&(C$99r.push(C$99t),e$I._isFirstTouch||C$99xt.isInputting||C$99t.preventDefault(),C$99n.mouseDownTime=C$99S.now());}),C$99e.addEventListener("touchend",function(C$99t){e$I.enabled?(e$I._isFirstTouch||C$99xt.isInputting||C$99t.preventDefault(),e$I._isFirstTouch=!1,C$99r.push(C$99t),C$99n.mouseDownTime=-C$99S.now()):C$99i._curTouchID=NaN;},!0),C$99e.addEventListener("touchmove",function(C$99t){e$I.enabled&&(C$99t.preventDefault(),C$99r.push(C$99t));},!0),C$99e.addEventListener("touchcancel",function(C$99t){e$I.enabled?(C$99t.preventDefault(),C$99r.push(C$99t)):C$99i._curTouchID=NaN;},!0),C$99e.addEventListener("mousewheel",function(C$99t){e$I.enabled&&C$99r.push(C$99t);}),C$99e.addEventListener("DOMMouseScroll",function(C$99t){e$I.enabled&&C$99r.push(C$99t);});},C$99t.initEvent=function(C$99t,C$99e){this._event._stoped=!1,this._event.nativeEvent=C$99e||C$99t,this._target=null,this._point.setTo(C$99t.pageX||C$99t.clientX,C$99t.pageY||C$99t.clientY),this._stage._canvasTransform.invertTransformPoint(this._point),this.mouseX=this._point.x,this.mouseY=this._point.y,this._event.touchId=C$99t.identifier||0,this._tTouchID=this._event.touchId,(C$99e=C$99x.I._event)._stoped=!1,C$99e.nativeEvent=this._event.nativeEvent,C$99e.touchId=this._event.touchId;},C$99t.checkMouseWheel=function(C$99t){this._event.delta=C$99t.wheelDelta?.025*C$99t.wheelDelta:-C$99t.detail;for(var C$99e=C$99x.I.getLastOvers(),C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++){var C$99r=C$99e[C$99i];C$99r.event("mousewheel",this._event.setTo("mousewheel",C$99r,this._target));}},C$99t.onMouseMove=function(C$99t){C$99x.I.onMouseMove(C$99t,this._tTouchID);},C$99t.onMouseDown=function(C$99t){var C$99e,C$99i;C$99xt.isInputting&&C$99y.stage.focus&&C$99y.stage.focus.focus&&!C$99y.stage.focus.contains(this._target)&&(C$99e=C$99y.stage.focus._tf||C$99y.stage.focus,(C$99i=C$99t._tf||C$99t)instanceof laya.display.Input&&C$99i.multiline==C$99e.multiline?C$99e._focusOut():C$99e.focus=!1),C$99x.I.onMouseDown(C$99t,this._tTouchID,this._isLeftMouse);},C$99t.onMouseUp=function(C$99t){C$99x.I.onMouseUp(C$99t,this._tTouchID,this._isLeftMouse);},C$99t.check=function(C$99t,C$99e,C$99i,C$99n){this._point.setTo(C$99e,C$99i),C$99t.fromParentPoint(this._point),C$99e=this._point.x,C$99i=this._point.y;var C$99r=C$99t.scrollRect;if(C$99r&&(this._rect.setTo(C$99r.x,C$99r.y,C$99r.width,C$99r.height),!this._rect.contains(C$99e,C$99i)))return!1;if(!this.disableMouseEvent){if(C$99t.hitTestPrior&&!C$99t.mouseThrough&&!this.hitTest(C$99t,C$99e,C$99i))return!1;for(var C$99s=C$99t._childs.length-1;-1<C$99s;C$99s--){var C$99a=C$99t._childs[C$99s];if(!C$99a.destroyed&&C$99a.mouseEnabled&&C$99a.visible&&this.check(C$99a,C$99e,C$99i,C$99n))return!0;}}C$99r=!(!C$99t.hitTestPrior||C$99t.mouseThrough||this.disableMouseEvent)||this.hitTest(C$99t,C$99e,C$99i);return C$99r?(this._target=C$99t,C$99n.call(this,C$99t)):C$99n===this.onMouseUp&&C$99t===this._stage&&(this._target=this._stage,C$99n.call(this,this._target)),C$99r;},C$99t.hitTest=function(C$99t,C$99e,C$99i){var C$99n=!1;return C$99t.scrollRect&&(C$99e-=C$99t.scrollRect.x,C$99i-=C$99t.scrollRect.y),C$99t.hitArea instanceof laya.utils.HitArea?C$99t.hitArea.isHit(C$99e,C$99i):0<C$99t.width&&0<C$99t.height||C$99t.mouseThrough||C$99t.hitArea?C$99t.mouseThrough?C$99t.getGraphicBounds().contains(C$99e,C$99i):(C$99r=this._rect,C$99t.hitArea?C$99r=C$99t.hitArea:C$99r.setTo(0,0,C$99t.width,C$99t.height),C$99r.contains(C$99e,C$99i)):C$99n;var C$99r;},C$99t.runEvent=function(){var C$99t=this._eventList.length;if(C$99t){this.mouseEventTime=C$99S.now();var C$99e,C$99i=0,C$99n=0,C$99r=0;try{for(;C$99i<C$99t;){var C$99s=this._eventList[C$99i];switch("mousemove"!==C$99s.type&&(this._prePoint.x=this._prePoint.y=-1e6),C$99s.type){case"mousedown":this._touchIDs[0]=this._id++,e$I._isTouchRespond?e$I._isTouchRespond=!1:(this._isLeftMouse=0===C$99s.button,this.initEvent(C$99s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseDown));break;case"mouseup":this._isLeftMouse=0===C$99s.button,this.initEvent(C$99s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseUp);break;case"mousemove":Math.abs(this._prePoint.x-C$99s.clientX)+Math.abs(this._prePoint.y-C$99s.clientY)>=this.mouseMoveAccuracy&&(this._prePoint.x=C$99s.clientX,this._prePoint.y=C$99s.clientY,this.initEvent(C$99s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseMove));break;case"touchstart":e$I._isTouchRespond=!0,this._isLeftMouse=!0;var C$99a=C$99s.changedTouches;for(C$99n=0,C$99r=C$99a.length;C$99n<C$99r;C$99n++)C$99e=C$99a[C$99n],(e$I.multiTouchEnabled||isNaN(this._curTouchID))&&(this._curTouchID=C$99e.identifier,this._id%200==0&&(this._touchIDs={}),this._touchIDs[C$99e.identifier]=this._id++,this.initEvent(C$99e,C$99s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseDown));break;case"touchend":case"touchcancel":e$I._isTouchRespond=!0,this._isLeftMouse=!0;var C$99o=C$99s.changedTouches;for(C$99n=0,C$99r=C$99o.length;C$99n<C$99r;C$99n++)C$99e=C$99o[C$99n],!e$I.multiTouchEnabled&&C$99e.identifier!=this._curTouchID||(this._curTouchID=NaN,this.initEvent(C$99e,C$99s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseUp)||this.onMouseUp(null));break;case"touchmove":var C$99h=C$99s.changedTouches;for(C$99n=0,C$99r=C$99h.length;C$99n<C$99r;C$99n++)C$99e=C$99h[C$99n],!e$I.multiTouchEnabled&&C$99e.identifier!=this._curTouchID||(this.initEvent(C$99e,C$99s),this.check(this._stage,this.mouseX,this.mouseY,this.onMouseMove));break;case"wheel":case"mousewheel":case"DOMMouseScroll":this.checkMouseWheel(C$99s);break;case"mouseout":C$99x.I.stageMouseOut();break;case"mouseover":this._stage.event("mouseover",this._event.setTo("mouseover",this._stage,this._stage));}C$99i++;}}catch(C$99t){throw this._eventList.length=0,C$99t;}this._eventList.length=0;}},e$I.enabled=!0,e$I.multiTouchEnabled=!0,e$I._isTouchRespond=!1,e$I._isFirstTouch=!0,C$99a(e$I,["instance",function(){return this.instance=new e$I();}]),e$I;}()),C$99x=(C$99i(e$Y,"laya.events.TouchManager"),(C$99e=e$Y.prototype)._clearTempArrs=function(){e$Y._oldArr.length=0,e$Y._newArr.length=0,e$Y._tEleArr.length=0;},C$99e.getTouchFromArr=function(C$99t,C$99e){var C$99i,C$99n,C$99r=0;for(C$99i=C$99e.length,C$99r=0;C$99r<C$99i;C$99r++)if((C$99n=C$99e[C$99r]).id==C$99t)return C$99n;return null;},C$99e.removeTouchFromArr=function(C$99t,C$99e){var C$99i=0;for(C$99i=C$99e.length-1;0<=C$99i;C$99i--)C$99e[C$99i].id==C$99t&&C$99e.splice(C$99i,1);},C$99e.createTouchO=function(C$99t,C$99e){var C$99i;return(C$99i=C$99X.getItem("TouchData")||{}).id=C$99e,C$99i.tar=C$99t,C$99i;},C$99e.onMouseDown=function(C$99t,C$99e,C$99i){var C$99n,C$99r,C$99s,C$99a;void 0===C$99i&&(C$99i=!1),this.enable&&(C$99n=this.getTouchFromArr(C$99e,this.preOvers),C$99s=this.getEles(C$99t,null,e$Y._tEleArr),C$99n?C$99n.tar=C$99t:(C$99r=this.createTouchO(C$99t,C$99e),this.preOvers.push(C$99r)),C$99S.onMobile&&this.sendEvents(C$99s,"mouseover",C$99e),C$99a=C$99i?this.preDowns:this.preRightDowns,(C$99n=this.getTouchFromArr(C$99e,C$99a))?C$99n.tar=C$99t:(C$99r=this.createTouchO(C$99t,C$99e),C$99a.push(C$99r)),this.sendEvents(C$99s,C$99i?"mousedown":"rightmousedown",C$99e),this._clearTempArrs());},C$99e.sendEvents=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=0);var C$99n,C$99r,C$99s,C$99a=0;for(C$99n=C$99t.length,this._event._stoped=!1,C$99r=C$99t[0],C$99a=0;C$99a<C$99n;C$99a++){if((C$99s=C$99t[C$99a]).destroyed)return;if(C$99s.event(C$99e,this._event.setTo(C$99e,C$99s,C$99r)),this._event._stoped)break;}},C$99e.getEles=function(C$99t,C$99e,C$99i){for(C$99i?C$99i.length=0:C$99i=[];C$99t&&C$99t!=C$99e;)C$99i.push(C$99t),C$99t=C$99t.parent;return C$99i;},C$99e.checkMouseOutAndOverOfMove=function(C$99t,C$99e,C$99i){if(void 0===C$99i&&(C$99i=0),C$99e!=C$99t){var C$99n,C$99r,C$99s,C$99a=0;if(C$99e.contains(C$99t))C$99r=this.getEles(C$99t,C$99e,e$Y._tEleArr),this.sendEvents(C$99r,"mouseover",C$99i);else if(C$99t.contains(C$99e))C$99r=this.getEles(C$99e,C$99t,e$Y._tEleArr),this.sendEvents(C$99r,"mouseout",C$99i);else{var C$99o,C$99h;(C$99r=e$Y._tEleArr).length=0,C$99o=this.getEles(C$99e,null,e$Y._oldArr),C$99h=this.getEles(C$99t,null,e$Y._newArr),C$99s=C$99o.length;var C$99l;for(C$99a=0;C$99a<C$99s;C$99a++){if(C$99n=C$99o[C$99a],0<=(C$99l=C$99h.indexOf(C$99n))){C$99h.splice(C$99l,C$99h.length-C$99l);break;}C$99r.push(C$99n);}0<C$99r.length&&this.sendEvents(C$99r,"mouseout",C$99i),0<C$99h.length&&this.sendEvents(C$99h,"mouseover",C$99i);}}},C$99e.onMouseMove=function(C$99t,C$99e){var C$99i,C$99n;this.enable&&((C$99i=this.getTouchFromArr(C$99e,this.preOvers))?(this.checkMouseOutAndOverOfMove(C$99t,C$99i.tar),C$99i.tar=C$99t,C$99n=this.getEles(C$99t,null,e$Y._tEleArr)):(C$99n=this.getEles(C$99t,null,e$Y._tEleArr),this.sendEvents(C$99n,"mouseover",C$99e),this.preOvers.push(this.createTouchO(C$99t,C$99e))),this.sendEvents(C$99n,"mousemove",C$99e),this._clearTempArrs());},C$99e.getLastOvers=function(){return(e$Y._tEleArr.length=0)<this.preOvers.length&&this.preOvers[0].tar?this.getEles(this.preOvers[0].tar,null,e$Y._tEleArr):(e$Y._tEleArr.push(C$99y.stage),e$Y._tEleArr);},C$99e.stageMouseOut=function(){var C$99t;C$99t=this.getLastOvers(),this.preOvers.length=0,this.sendEvents(C$99t,"mouseout",0);},C$99e.onMouseUp=function(C$99t,C$99e,C$99i){if(void 0===C$99i&&(C$99i=!1),this.enable){var C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99u,C$99l=0,C$99c=C$99S.onMobile;if(C$99r=this.getEles(C$99t,null,e$Y._tEleArr),this.sendEvents(C$99r,C$99i?"mouseup":"rightmouseup",C$99e),C$99h=C$99i?this.preDowns:this.preRightDowns,C$99n=this.getTouchFromArr(C$99e,C$99h)){var C$99_,C$99d=C$99S.now();if(C$99_=C$99d-this._lastClickTime<300,this._lastClickTime=C$99d,C$99t==C$99n.tar)C$99o=C$99r;else for(C$99s=this.getEles(C$99n.tar,null,e$Y._oldArr),(C$99o=e$Y._newArr).length=0,C$99u=C$99s.length,C$99l=0;C$99l<C$99u;C$99l++)C$99a=C$99s[C$99l],0<=C$99r.indexOf(C$99a)&&C$99o.push(C$99a);0<C$99o.length&&this.sendEvents(C$99o,C$99i?"click":"rightclick",C$99e),C$99i&&C$99_&&this.sendEvents(C$99o,"doubleclick",C$99e),this.removeTouchFromArr(C$99e,C$99h),C$99n.tar=null,C$99X.recover("TouchData",C$99n);}(C$99n=this.getTouchFromArr(C$99e,this.preOvers))&&C$99c&&((C$99o=this.getEles(C$99n.tar,null,C$99o))&&0<C$99o.length&&this.sendEvents(C$99o,"mouseout",C$99e),this.removeTouchFromArr(C$99e,this.preOvers),C$99n.tar=null,C$99X.recover("TouchData",C$99n)),this._clearTempArrs();}},e$Y._oldArr=[],e$Y._newArr=[],e$Y._tEleArr=[],C$99a(e$Y,["I",function(){return this.I=new e$Y();}]),e$Y),C$99b=function(){function e$d(){this._action=null;}C$99i(e$d,"laya.filters.Filter");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.filters.IFilter":!0}),C$99t.callNative=function(C$99t){},C$99n(0,C$99t,"type",function(){return-1;}),C$99n(0,C$99t,"action",function(){return this._action;}),e$d.BLUR=16,e$d.COLOR=32,e$d.GLOW=8,e$d._filterStart=null,e$d._filterEnd=null,e$d._EndTarget=null,e$d._recycleScope=null,e$d._filter=null,e$d._useSrc=null,e$d._endSrc=null,e$d._useOut=null,e$d._endOut=null,e$d;}(),C$99w=function(){function e$d(){this.data=null;}C$99i(e$d,"laya.filters.ColorFilterAction");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.filters.IFilterAction":!0}),C$99t.apply=function(C$99t){var C$99e=C$99t.ctx.ctx,C$99i=C$99t.ctx.ctx.canvas;if(0==C$99i.width||0==C$99i.height)return C$99i;for(var C$99n,C$99i=C$99e.getImageData(0,0,C$99i.width,C$99i.height),C$99r=C$99i.data,C$99s=0,C$99a=C$99r.length;C$99s<C$99a;C$99s+=4)C$99n=this.getColor(C$99r[C$99s],C$99r[C$99s+1],C$99r[C$99s+2],C$99r[C$99s+3]),0!=C$99r[C$99s+3]&&(C$99r[C$99s]=C$99n[0],C$99r[C$99s+1]=C$99n[1],C$99r[C$99s+2]=C$99n[2],C$99r[C$99s+3]=C$99n[3]);return C$99e.putImageData(C$99i,0,0),C$99t;},C$99t.getColor=function(C$99t,C$99e,C$99i,C$99n){var C$99r=[];var C$99s,C$99a;return this.data._mat&&this.data._alpha&&(C$99s=this.data._mat,C$99a=this.data._alpha,C$99r[0]=C$99s[0]*C$99t+C$99s[1]*C$99e+C$99s[2]*C$99i+C$99s[3]*C$99n+C$99a[0],C$99r[1]=C$99s[4]*C$99t+C$99s[5]*C$99e+C$99s[6]*C$99i+C$99s[7]*C$99n+C$99a[1],C$99r[2]=C$99s[8]*C$99t+C$99s[9]*C$99e+C$99s[10]*C$99i+C$99s[11]*C$99n+C$99a[2],C$99r[3]=C$99s[12]*C$99t+C$99s[13]*C$99e+C$99s[14]*C$99i+C$99s[15]*C$99n+C$99a[3]),C$99r;},e$d;}(),C$99M=(function(){function e$d(){}C$99i(e$d,"laya.maths.Arith"),e$d.formatR=function(C$99t){return C$99t>Math.PI&&(C$99t-=2*Math.PI),C$99t<-Math.PI&&(C$99t+=2*Math.PI),C$99t;},e$d.isPOT=function(C$99t,C$99e){return 0<C$99t&&0==(C$99t&C$99t-1)&&0<C$99e&&0==(C$99e&C$99e-1);},e$d.setMatToArray=function(C$99t,C$99e){C$99t.a,C$99t.b,C$99t.c,C$99t.d,C$99t.tx,C$99t.ty,C$99e[0]=C$99t.a,C$99e[1]=C$99t.b,C$99e[4]=C$99t.c,C$99e[5]=C$99t.d,C$99e[12]=C$99t.tx,C$99e[13]=C$99t.ty;};}(),function(){function e$d(){this._controlPoints=[new C$99D(),new C$99D(),new C$99D()],this._calFun=this.getPoint2;}C$99i(e$d,"laya.maths.Bezier");var C$99t=e$d.prototype;return C$99t._switchPoint=function(C$99t,C$99e){var C$99i=this._controlPoints.shift();C$99i.setTo(C$99t,C$99e),this._controlPoints.push(C$99i);},C$99t.getPoint2=function(C$99t,C$99e){var C$99i=this._controlPoints[0],C$99n=this._controlPoints[1],C$99r=this._controlPoints[2],C$99s=Math.pow(1-C$99t,2)*C$99i.x+2*C$99t*(1-C$99t)*C$99n.x+Math.pow(C$99t,2)*C$99r.x,C$99i=Math.pow(1-C$99t,2)*C$99i.y+2*C$99t*(1-C$99t)*C$99n.y+Math.pow(C$99t,2)*C$99r.y;C$99e.push(C$99s,C$99i);},C$99t.getPoint3=function(C$99t,C$99e){var C$99i=this._controlPoints[0],C$99n=this._controlPoints[1],C$99r=this._controlPoints[2],C$99s=this._controlPoints[3],C$99a=Math.pow(1-C$99t,3)*C$99i.x+3*C$99n.x*C$99t*(1-C$99t)*(1-C$99t)+3*C$99r.x*C$99t*C$99t*(1-C$99t)+C$99s.x*Math.pow(C$99t,3),C$99i=Math.pow(1-C$99t,3)*C$99i.y+3*C$99n.y*C$99t*(1-C$99t)*(1-C$99t)+3*C$99r.y*C$99t*C$99t*(1-C$99t)+C$99s.y*Math.pow(C$99t,3);C$99e.push(C$99a,C$99i);},C$99t.insertPoints=function(C$99t,C$99e){var C$99i,C$99n=NaN;for(C$99i=1/(C$99t=0<C$99t?C$99t:5),C$99n=0;C$99n<=1;C$99n+=C$99i)this._calFun(C$99n,C$99e);},C$99t.getBezierPoints=function(C$99t,C$99e,C$99i){void 0===C$99e&&(C$99e=5);var C$99n,C$99r,C$99s=0;if((C$99n=C$99t.length)<2*((C$99i=void 0===C$99i?2:C$99i)+1))return[];switch(C$99r=[],C$99i){case 2:this._calFun=this.getPoint2;break;case 3:this._calFun=this.getPoint3;break;default:return[];}for(;this._controlPoints.length<=C$99i;)this._controlPoints.push(new C$99D());for(C$99s=0;C$99s<2*C$99i;C$99s+=2)this._switchPoint(C$99t[C$99s],C$99t[C$99s+1]);for(C$99s=2*C$99i;C$99s<C$99n;C$99s+=2)this._switchPoint(C$99t[C$99s],C$99t[C$99s+1]),C$99s/2%C$99i==0&&this.insertPoints(C$99e,C$99r);return C$99r;},C$99a(e$d,["I",function(){return this.I=new e$d();}]),e$d;}()),C$99C=function(){function e$I(){}return C$99i(e$I,"laya.maths.GrahamScan"),e$I.multiply=function(C$99t,C$99e,C$99i){return(C$99t.x-C$99i.x)*(C$99e.y-C$99i.y)-(C$99e.x-C$99i.x)*(C$99t.y-C$99i.y);},e$I.dis=function(C$99t,C$99e){return(C$99t.x-C$99e.x)*(C$99t.x-C$99e.x)+(C$99t.y-C$99e.y)*(C$99t.y-C$99e.y);},e$I._getPoints=function(C$99t,C$99e,C$99i){for(void 0===C$99e&&(C$99e=!1),e$I._mPointList||(e$I._mPointList=[]);e$I._mPointList.length<C$99t;)e$I._mPointList.push(new C$99D());return(C$99i=C$99i||[]).length=0,C$99e?e$I.getFrom(C$99i,e$I._mPointList,C$99t):e$I.getFromR(C$99i,e$I._mPointList,C$99t),C$99i;},e$I.getFrom=function(C$99t,C$99e,C$99i){var C$99n=0;for(C$99n=0;C$99n<C$99i;C$99n++)C$99t.push(C$99e[C$99n]);return C$99t;},e$I.getFromR=function(C$99t,C$99e,C$99i){var C$99n=0;for(C$99n=0;C$99n<C$99i;C$99n++)C$99t.push(C$99e.pop());return C$99t;},e$I.pListToPointList=function(C$99t,C$99e){var C$99i=0,C$99n=C$99t.length/2,C$99r=e$I._getPoints(C$99n,C$99e=void 0===C$99e?!1:C$99e,e$I._tempPointList);for(C$99i=0;C$99i<C$99n;C$99i++)C$99r[C$99i].setTo(C$99t[C$99i+C$99i],C$99t[C$99i+C$99i+1]);return C$99r;},e$I.pointListToPlist=function(C$99t){var C$99e,C$99i=0,C$99n=C$99t.length,C$99r=e$I._temPList;for(C$99i=C$99r.length=0;C$99i<C$99n;C$99i++)C$99e=C$99t[C$99i],C$99r.push(C$99e.x,C$99e.y);return C$99r;},e$I.scanPList=function(C$99t){return C$99Z.copyArray(C$99t,e$I.pointListToPlist(e$I.scan(e$I.pListToPointList(C$99t,!0))));},e$I.scan=function(C$99t){var C$99e,C$99i,C$99n,C$99r,C$99s=0,C$99a=0,C$99o=0,C$99h=(C$99t.length,{});for((C$99i=e$I._temArr).length=0,C$99s=C$99t.length-1;0<=C$99s;C$99s--)C$99n=(C$99e=C$99t[C$99s]).x+"_"+C$99e.y,C$99h.hasOwnProperty(C$99n)||(C$99h[C$99n]=!0,C$99i.push(C$99e));for(C$99r=C$99i.length,C$99Z.copyArray(C$99t,C$99i),C$99s=1;C$99s<C$99r;C$99s++)(C$99t[C$99s].y<C$99t[C$99o].y||C$99t[C$99s].y==C$99t[C$99o].y&&C$99t[C$99s].x<C$99t[C$99o].x)&&(C$99o=C$99s);for(C$99e=C$99t[0],C$99t[0]=C$99t[C$99o],C$99t[C$99o]=C$99e,C$99s=1;C$99s<C$99r-1;C$99s++){for(C$99a=(C$99o=C$99s)+1;C$99a<C$99r;C$99a++)(0<e$I.multiply(C$99t[C$99a],C$99t[C$99o],C$99t[0])||0==e$I.multiply(C$99t[C$99a],C$99t[C$99o],C$99t[0])&&e$I.dis(C$99t[0],C$99t[C$99a])<e$I.dis(C$99t[0],C$99t[C$99o]))&&(C$99o=C$99a);C$99e=C$99t[C$99s],C$99t[C$99s]=C$99t[C$99o],C$99t[C$99o]=C$99e;}if((C$99i=e$I._temArr).length=0,C$99t.length<3)return C$99Z.copyArray(C$99i,C$99t);for(C$99i.push(C$99t[0],C$99t[1],C$99t[2]),C$99s=3;C$99s<C$99r;C$99s++){for(;2<=C$99i.length&&0<=e$I.multiply(C$99t[C$99s],C$99i[C$99i.length-1],C$99i[C$99i.length-2]);)C$99i.pop();C$99t[C$99s]&&C$99i.push(C$99t[C$99s]);}return C$99i;},e$I._mPointList=null,e$I._tempPointList=[],e$I._temPList=[],e$I._temArr=[],e$I;}(),C$99A=function(){function e$W(){}return C$99i(e$W,"laya.maths.MathUtil"),e$W.subtractVector3=function(C$99t,C$99e,C$99i){C$99i[0]=C$99t[0]-C$99e[0],C$99i[1]=C$99t[1]-C$99e[1],C$99i[2]=C$99t[2]-C$99e[2];},e$W.lerp=function(C$99t,C$99e,C$99i){return C$99t*(1-C$99i)+C$99e*C$99i;},e$W.scaleVector3=function(C$99t,C$99e,C$99i){C$99i[0]=C$99t[0]*C$99e,C$99i[1]=C$99t[1]*C$99e,C$99i[2]=C$99t[2]*C$99e;},e$W.lerpVector3=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t[0],C$99s=C$99t[1],C$99t=C$99t[2];C$99n[0]=C$99r+C$99i*(C$99e[0]-C$99r),C$99n[1]=C$99s+C$99i*(C$99e[1]-C$99s),C$99n[2]=C$99t+C$99i*(C$99e[2]-C$99t);},e$W.lerpVector4=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t[0],C$99s=C$99t[1],C$99a=C$99t[2],C$99t=C$99t[3];C$99n[0]=C$99r+C$99i*(C$99e[0]-C$99r),C$99n[1]=C$99s+C$99i*(C$99e[1]-C$99s),C$99n[2]=C$99a+C$99i*(C$99e[2]-C$99a),C$99n[3]=C$99t+C$99i*(C$99e[3]-C$99t);},e$W.slerpQuaternionArray=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){var C$99u,C$99o,C$99c=C$99t[C$99e+0],C$99_=C$99t[C$99e+1],C$99d=C$99t[C$99e+2],C$99t=C$99t[C$99e+3],C$99e=C$99i[C$99n+0],C$99h=C$99i[C$99n+1],C$99l=C$99i[C$99n+2],C$99i=C$99i[C$99n+3];return(C$99n=C$99c*C$99e+C$99_*C$99h+C$99d*C$99l+C$99t*C$99i)<0&&(C$99n=-C$99n,C$99e=-C$99e,C$99h=-C$99h,C$99l=-C$99l,C$99i=-C$99i),C$99n=1e-6<1-C$99n?(C$99n=Math.acos(C$99n),C$99u=Math.sin(C$99n),C$99o=Math.sin((1-C$99r)*C$99n)/C$99u,Math.sin(C$99r*C$99n)/C$99u):(C$99o=1-C$99r,C$99r),C$99s[C$99a+0]=C$99o*C$99c+C$99n*C$99e,C$99s[C$99a+1]=C$99o*C$99_+C$99n*C$99h,C$99s[C$99a+2]=C$99o*C$99d+C$99n*C$99l,C$99s[C$99a+3]=C$99o*C$99t+C$99n*C$99i,C$99s;},e$W.getRotation=function(C$99t,C$99e,C$99i,C$99n){return Math.atan2(C$99n-C$99e,C$99i-C$99t)/Math.PI*180;},e$W.sortBigFirst=function(C$99t,C$99e){return C$99t==C$99e?0:C$99t<C$99e?1:-1;},e$W.sortSmallFirst=function(C$99t,C$99e){return C$99t==C$99e?0:C$99t<C$99e?-1:1;},e$W.sortNumBigFirst=function(C$99t,C$99e){return parseFloat(C$99e)-parseFloat(C$99t);},e$W.sortNumSmallFirst=function(C$99t,C$99e){return parseFloat(C$99t)-parseFloat(C$99e);},e$W.sortByKey=function(C$99i,C$99t,C$99e){var C$99n;return void 0===C$99e&&(C$99e=!0),C$99n=(C$99t=void 0===C$99t?!1:C$99t)?C$99e?e$W.sortNumBigFirst:e$W.sortBigFirst:C$99e?e$W.sortNumSmallFirst:e$W.sortSmallFirst,function(C$99t,C$99e){return C$99n(C$99t[C$99i],C$99e[C$99i]);};},e$W;}(),C$99I=function(){function e$l(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this.inPool=!1,this.bTransform=!1,void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=1),void 0===C$99r&&(C$99r=0),void 0===C$99s&&(C$99s=0),this.a=C$99t=void 0===C$99t?1:C$99t,this.b=C$99e,this.c=C$99i,this.d=C$99n,this.tx=C$99r,this.ty=C$99s,this._checkTransform();}C$99i(e$l,"laya.maths.Matrix");var C$99t=e$l.prototype;return C$99t.identity=function(){return this.a=this.d=1,this.b=this.tx=this.ty=this.c=0,this.bTransform=!1,this;},C$99t._checkTransform=function(){return this.bTransform=1!==this.a||0!==this.b||0!==this.c||1!==this.d;},C$99t.setTranslate=function(C$99t,C$99e){return this.tx=C$99t,this.ty=C$99e,this;},C$99t.translate=function(C$99t,C$99e){return this.tx+=C$99t,this.ty+=C$99e,this;},C$99t.scale=function(C$99t,C$99e){this.a*=C$99t,this.d*=C$99e,this.c*=C$99t,this.b*=C$99e,this.tx*=C$99t,this.ty*=C$99e,this.bTransform=!0;},C$99t.rotate=function(C$99t){var C$99e=Math.cos(C$99t),C$99t=Math.sin(C$99t),C$99i=this.a,C$99n=this.c,C$99r=this.tx;this.a=C$99i*C$99e-this.b*C$99t,this.b=C$99i*C$99t+this.b*C$99e,this.c=C$99n*C$99e-this.d*C$99t,this.d=C$99n*C$99t+this.d*C$99e,this.tx=C$99r*C$99e-this.ty*C$99t,this.ty=C$99r*C$99t+this.ty*C$99e,this.bTransform=!0;},C$99t.skew=function(C$99t,C$99e){var C$99t=Math.tan(C$99t),C$99e=Math.tan(C$99e),C$99i=this.a,C$99n=this.b;return this.a+=C$99e*this.c,this.b+=C$99e*this.d,this.c+=C$99t*C$99i,this.d+=C$99t*C$99n,this;},C$99t.invertTransformPoint=function(C$99t){var C$99e=this.a,C$99i=this.b,C$99n=this.c,C$99r=this.d,C$99s=this.tx,C$99a=C$99e*C$99r-C$99i*C$99n,C$99o=(C$99n*this.ty-C$99r*C$99s)/C$99a,C$99s=-(C$99e*this.ty-C$99i*C$99s)/C$99a;return C$99t.setTo(C$99r/C$99a*C$99t.x+-C$99n/C$99a*C$99t.y+C$99o,-C$99i/C$99a*C$99t.x+C$99e/C$99a*C$99t.y+C$99s);},C$99t.transformPoint=function(C$99t){return C$99t.setTo(this.a*C$99t.x+this.c*C$99t.y+this.tx,this.b*C$99t.x+this.d*C$99t.y+this.ty);},C$99t.transformPointN=function(C$99t){return C$99t.setTo(this.a*C$99t.x+this.c*C$99t.y,this.b*C$99t.x+this.d*C$99t.y);},C$99t.transformPointArray=function(C$99t,C$99e){for(var C$99i=C$99t.length,C$99n=0;C$99n<C$99i;C$99n+=2){var C$99r=C$99t[C$99n],C$99s=C$99t[C$99n+1];C$99e[C$99n]=this.a*C$99r+this.c*C$99s+this.tx,C$99e[C$99n+1]=this.b*C$99r+this.d*C$99s+this.ty;}return C$99e;},C$99t.transformPointArrayScale=function(C$99t,C$99e){for(var C$99i=C$99t.length,C$99n=0;C$99n<C$99i;C$99n+=2){var C$99r=C$99t[C$99n],C$99s=C$99t[C$99n+1];C$99e[C$99n]=this.a*C$99r+this.c*C$99s,C$99e[C$99n+1]=this.b*C$99r+this.d*C$99s;}return C$99e;},C$99t.getScaleX=function(){return 0===this.b?this.a:Math.sqrt(this.a*this.a+this.b*this.b);},C$99t.getScaleY=function(){return 0===this.c?this.d:Math.sqrt(this.c*this.c+this.d*this.d);},C$99t.invert=function(){var C$99t=this.a,C$99e=this.b,C$99i=this.c,C$99n=this.d,C$99r=this.tx,C$99s=C$99t*C$99n-C$99e*C$99i;return this.a=C$99n/C$99s,this.b=-C$99e/C$99s,this.c=-C$99i/C$99s,this.d=C$99t/C$99s,this.tx=(C$99i*this.ty-C$99n*C$99r)/C$99s,this.ty=-(C$99t*this.ty-C$99e*C$99r)/C$99s,this;},C$99t.setTo=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){return this.a=C$99t,this.b=C$99e,this.c=C$99i,this.d=C$99n,this.tx=C$99r,this.ty=C$99s,this;},C$99t.concat=function(C$99t){var C$99e=this.a,C$99i=this.c,C$99n=this.tx;return this.a=C$99e*C$99t.a+this.b*C$99t.c,this.b=C$99e*C$99t.b+this.b*C$99t.d,this.c=C$99i*C$99t.a+this.d*C$99t.c,this.d=C$99i*C$99t.b+this.d*C$99t.d,this.tx=C$99n*C$99t.a+this.ty*C$99t.c+C$99t.tx,this.ty=C$99n*C$99t.b+this.ty*C$99t.d+C$99t.ty,this;},C$99t.scaleEx=function(C$99t,C$99e){var C$99i=this.a,C$99n=this.b,C$99r=this.c,C$99s=this.d;0!==C$99n||0!==C$99r?(this.a=C$99t*C$99i,this.b=C$99t*C$99n,this.c=C$99e*C$99r):(this.a=C$99t*C$99i,this.b=0*C$99s,this.c=0*C$99i),this.d=C$99e*C$99s,this.bTransform=!0;},C$99t.rotateEx=function(C$99t){var C$99e=Math.cos(C$99t),C$99t=Math.sin(C$99t),C$99i=this.a,C$99n=this.b,C$99r=this.c,C$99s=this.d;0!==C$99n||0!==C$99r?(this.a=C$99e*C$99i+C$99t*C$99r,this.b=C$99e*C$99n+C$99t*C$99s,this.c=-C$99t*C$99i+C$99e*C$99r,this.d=-C$99t*C$99n+C$99e*C$99s):(this.a=C$99e*C$99i,this.b=C$99t*C$99s,this.c=-C$99t*C$99i,this.d=C$99e*C$99s),this.bTransform=!0;},C$99t.clone=function(){var C$99t=e$l.create();return C$99t.a=this.a,C$99t.b=this.b,C$99t.c=this.c,C$99t.d=this.d,C$99t.tx=this.tx,C$99t.ty=this.ty,C$99t.bTransform=this.bTransform,C$99t;},C$99t.copyTo=function(C$99t){return C$99t.a=this.a,C$99t.b=this.b,C$99t.c=this.c,C$99t.d=this.d,C$99t.tx=this.tx,C$99t.ty=this.ty,C$99t.bTransform=this.bTransform,C$99t;},C$99t.toString=function(){return this.a+","+this.b+","+this.c+","+this.d+","+this.tx+","+this.ty;},C$99t.destroy=function(){var C$99t;this.inPool||(C$99t=e$l._cache,this.inPool=!0,C$99t._length||(C$99t._length=0),(C$99t[C$99t._length++]=this).a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.bTransform=!1);},e$l.mul=function(C$99t,C$99e,C$99i){var C$99n=C$99t.a,C$99r=C$99t.b,C$99s=C$99t.c,C$99u=C$99t.d,C$99c=C$99t.tx,C$99t=C$99t.ty,C$99a=C$99e.a,C$99o=C$99e.b,C$99h=C$99e.c,C$99l=C$99e.d,C$99_=C$99e.tx,C$99e=C$99e.ty;return 0!==C$99o||0!==C$99h?(C$99i.a=C$99n*C$99a+C$99r*C$99h,C$99i.b=C$99n*C$99o+C$99r*C$99l,C$99i.c=C$99s*C$99a+C$99u*C$99h,C$99i.d=C$99s*C$99o+C$99u*C$99l,C$99i.tx=C$99a*C$99c+C$99h*C$99t+C$99_,C$99i.ty=C$99o*C$99c+C$99l*C$99t+C$99e):(C$99i.a=C$99n*C$99a,C$99i.b=C$99r*C$99l,C$99i.c=C$99s*C$99a,C$99i.d=C$99u*C$99l,C$99i.tx=C$99a*C$99c+C$99_,C$99i.ty=C$99l*C$99t+C$99e),C$99i;},e$l.mul16=function(C$99t,C$99e,C$99i){var C$99n=C$99t.a,C$99r=C$99t.b,C$99s=C$99t.c,C$99u=C$99t.d,C$99c=C$99t.tx,C$99t=C$99t.ty,C$99a=C$99e.a,C$99o=C$99e.b,C$99h=C$99e.c,C$99l=C$99e.d,C$99_=C$99e.tx,C$99e=C$99e.ty;return 0!==C$99o||0!==C$99h?(C$99i[0]=C$99n*C$99a+C$99r*C$99h,C$99i[1]=C$99n*C$99o+C$99r*C$99l,C$99i[4]=C$99s*C$99a+C$99u*C$99h,C$99i[5]=C$99s*C$99o+C$99u*C$99l,C$99i[12]=C$99a*C$99c+C$99h*C$99t+C$99_,C$99i[13]=C$99o*C$99c+C$99l*C$99t+C$99e):(C$99i[0]=C$99n*C$99a,C$99i[1]=C$99r*C$99l,C$99i[4]=C$99s*C$99a,C$99i[5]=C$99u*C$99l,C$99i[12]=C$99a*C$99c+C$99_,C$99i[13]=C$99l*C$99t+C$99e),C$99i;},e$l.mulPre=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99u,C$99c,C$99s){var C$99a=C$99t.a,C$99o=C$99t.b,C$99h=C$99t.c,C$99l=C$99t.d,C$99_=C$99t.tx,C$99t=C$99t.ty;return 0!==C$99i||0!==C$99n?(C$99s.a=C$99a*C$99e+C$99o*C$99n,C$99s.b=C$99a*C$99i+C$99o*C$99r,C$99s.c=C$99h*C$99e+C$99l*C$99n,C$99s.d=C$99h*C$99i+C$99l*C$99r,C$99s.tx=C$99e*C$99_+C$99n*C$99t+C$99u,C$99s.ty=C$99i*C$99_+C$99r*C$99t+C$99c):(C$99s.a=C$99a*C$99e,C$99s.b=C$99o*C$99r,C$99s.c=C$99h*C$99e,C$99s.d=C$99l*C$99r,C$99s.tx=C$99e*C$99_+C$99u,C$99s.ty=C$99r*C$99t+C$99c),C$99s;},e$l.mulPos=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99u,C$99c,C$99s){var C$99a=C$99t.a,C$99o=C$99t.b,C$99h=C$99t.c,C$99l=C$99t.d,C$99_=C$99t.tx,C$99t=C$99t.ty;return 0!==C$99o||0!==C$99h?(C$99s.a=C$99e*C$99a+C$99i*C$99h,C$99s.b=C$99e*C$99o+C$99i*C$99l,C$99s.c=C$99n*C$99a+C$99r*C$99h,C$99s.d=C$99n*C$99o+C$99r*C$99l,C$99s.tx=C$99a*C$99u+C$99h*C$99c+C$99_,C$99s.ty=C$99o*C$99u+C$99l*C$99c+C$99t):(C$99s.a=C$99e*C$99a,C$99s.b=C$99i*C$99l,C$99s.c=C$99n*C$99a,C$99s.d=C$99r*C$99l,C$99s.tx=C$99a*C$99u+C$99_,C$99s.ty=C$99l*C$99c+C$99t),C$99s;},e$l.preMul=function(C$99t,C$99e,C$99i){var C$99n=C$99t.a,C$99r=C$99t.b,C$99s=C$99t.c,C$99a=C$99t.d,C$99o=C$99e.a,C$99h=C$99e.b,C$99l=C$99e.c,C$99u=C$99e.d,C$99c=C$99e.tx,C$99e=C$99e.ty;return C$99i.a=C$99o*C$99n,C$99i.b=C$99i.c=0,C$99i.d=C$99u*C$99a,C$99i.tx=C$99c*C$99n+C$99t.tx,C$99i.ty=C$99e*C$99a+C$99t.ty,0===C$99h&&0===C$99l&&0===C$99r&&0===C$99s||(C$99i.a+=C$99h*C$99s,C$99i.d+=C$99l*C$99r,C$99i.b+=C$99o*C$99r+C$99h*C$99a,C$99i.c+=C$99l*C$99n+C$99u*C$99s,C$99i.tx+=C$99e*C$99s,C$99i.ty+=C$99c*C$99r),C$99i;},e$l.preMulXY=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.a,C$99s=C$99t.b,C$99a=C$99t.c,C$99o=C$99t.d;return C$99n.a=C$99r,C$99n.b=C$99s,C$99n.c=C$99a,C$99n.d=C$99o,C$99n.tx=C$99e*C$99r+C$99t.tx+C$99i*C$99a,C$99n.ty=C$99i*C$99o+C$99t.ty+C$99e*C$99s,C$99n;},e$l.create=function(){var C$99t=e$l._cache,C$99t=C$99t._length?C$99t[--C$99t._length]:new e$l();return C$99t.inPool=!1,C$99t;},e$l.EMPTY=new e$l(),e$l.TEMP=new e$l(),e$l._cache=[],e$l;}(),C$99D=function(){function e$d(C$99t,C$99e){void 0===C$99e&&(C$99e=0),this.x=C$99t=void 0===C$99t?0:C$99t,this.y=C$99e;}C$99i(e$d,"laya.maths.Point");var C$99t=e$d.prototype;return C$99t.setTo=function(C$99t,C$99e){return this.x=C$99t,this.y=C$99e,this;},C$99t.distance=function(C$99t,C$99e){return Math.sqrt((this.x-C$99t)*(this.x-C$99t)+(this.y-C$99e)*(this.y-C$99e));},C$99t.toString=function(){return this.x+","+this.y;},C$99t.normalize=function(){var C$99t=Math.sqrt(this.x*this.x+this.y*this.y);0<C$99t&&(this.x*=C$99t=1/C$99t,this.y*=C$99t);},e$d.TEMP=new e$d(),e$d.EMPTY=new e$d(),e$d;}(),C$99E=function(){function e$I(C$99t,C$99e,C$99i,C$99n){void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=0),this.x=C$99t=void 0===C$99t?0:C$99t,this.y=C$99e,this.width=C$99i,this.height=C$99n;}C$99i(e$I,"laya.maths.Rectangle");var C$99t=e$I.prototype;return C$99t.setTo=function(C$99t,C$99e,C$99i,C$99n){return this.x=C$99t,this.y=C$99e,this.width=C$99i,this.height=C$99n,this;},C$99t.copyFrom=function(C$99t){return this.x=C$99t.x,this.y=C$99t.y,this.width=C$99t.width,this.height=C$99t.height,this;},C$99t.contains=function(C$99t,C$99e){return!(this.width<=0||this.height<=0)&&C$99t>=this.x&&C$99t<this.right&&C$99e>=this.y&&C$99e<this.bottom;},C$99t.intersects=function(C$99t){return!(C$99t.x>this.x+this.width||C$99t.x+C$99t.width<this.x||C$99t.y>this.y+this.height||C$99t.y+C$99t.height<this.y);},C$99t.intersection=function(C$99t,C$99e){return this.intersects(C$99t)?((C$99e=C$99e||new e$I()).x=Math.max(this.x,C$99t.x),C$99e.y=Math.max(this.y,C$99t.y),C$99e.width=Math.min(this.right,C$99t.right)-C$99e.x,C$99e.height=Math.min(this.bottom,C$99t.bottom)-C$99e.y,C$99e):null;},C$99t.union=function(C$99t,C$99e){return C$99e=C$99e||new e$I(),this.clone(C$99e),C$99t.width<=0||C$99t.height<=0?C$99e:(C$99e.addPoint(C$99t.x,C$99t.y),C$99e.addPoint(C$99t.right,C$99t.bottom),this);},C$99t.clone=function(C$99t){return(C$99t=C$99t||new e$I()).x=this.x,C$99t.y=this.y,C$99t.width=this.width,C$99t.height=this.height,C$99t;},C$99t.toString=function(){return this.x+","+this.y+","+this.width+","+this.height;},C$99t.equals=function(C$99t){return!(!C$99t||C$99t.x!==this.x||C$99t.y!==this.y||C$99t.width!==this.width||C$99t.height!==this.height);},C$99t.addPoint=function(C$99t,C$99e){return this.x>C$99t&&(this.width+=this.x-C$99t,this.x=C$99t),this.y>C$99e&&(this.height+=this.y-C$99e,this.y=C$99e),this.width<C$99t-this.x&&(this.width=C$99t-this.x),this.height<C$99e-this.y&&(this.height=C$99e-this.y),this;},C$99t._getBoundPoints=function(){var C$99t=e$I._temB;return(C$99t.length=0)==this.width||0==this.height||C$99t.push(this.x,this.y,this.x+this.width,this.y,this.x,this.y+this.height,this.x+this.width,this.y+this.height),C$99t;},C$99t.isEmpty=function(){return this.width<=0||this.height<=0;},C$99n(0,C$99t,"right",function(){return this.x+this.width;}),C$99n(0,C$99t,"bottom",function(){return this.y+this.height;}),e$I._getBoundPointS=function(C$99t,C$99e,C$99i,C$99n){var C$99r=e$I._temA;return(C$99r.length=0)==C$99i||0==C$99n||C$99r.push(C$99t,C$99e,C$99t+C$99i,C$99e,C$99t,C$99e+C$99n,C$99t+C$99i,C$99e+C$99n),C$99r;},e$I._getWrapRec=function(C$99t,C$99e){if(!C$99t||C$99t.length<1)return(C$99e||e$I.TEMP).setTo(0,0,0,0);C$99e=C$99e||new e$I();var C$99i,C$99n,C$99r,C$99s,C$99a,C$99o=C$99t.length,C$99h=C$99D.TEMP;for(C$99r=C$99a=-(C$99n=C$99s=99999),C$99i=0;C$99i<C$99o;C$99i+=2)C$99h.x=C$99t[C$99i],C$99h.y=C$99t[C$99i+1],C$99n=C$99n<C$99h.x?C$99n:C$99h.x,C$99s=C$99s<C$99h.y?C$99s:C$99h.y,C$99r=C$99r>C$99h.x?C$99r:C$99h.x,C$99a=C$99a>C$99h.y?C$99a:C$99h.y;return C$99e.setTo(C$99n,C$99s,C$99r-C$99n,C$99a-C$99s);},e$I.EMPTY=new e$I(),e$I.TEMP=new e$I(),e$I._temB=[],e$I._temA=[],e$I;}(),C$99R=(C$99i(e$o,"laya.media.SoundManager"),C$99n(1,e$o,"useAudioMusic",function(){return e$o._useAudioMusic;},function(C$99t){e$o._useAudioMusic=C$99t,e$o._musicClass=C$99t?C$99nt:null;}),C$99n(1,e$o,"autoStopMusic",function(){return e$o._autoStopMusic;},function(C$99t){C$99y.stage.off("blur",null,e$o._stageOnBlur),C$99y.stage.off("focus",null,e$o._stageOnFocus),C$99y.stage.off("visibilitychange",null,e$o._visibilityChange),(e$o._autoStopMusic=C$99t)&&(C$99y.stage.on("blur",null,e$o._stageOnBlur),C$99y.stage.on("focus",null,e$o._stageOnFocus),C$99y.stage.on("visibilitychange",null,e$o._visibilityChange));}),C$99n(1,e$o,"muted",function(){return e$o._muted;},function(C$99t){C$99t!=e$o._muted&&(C$99t&&e$o.stopAllSound(),e$o.musicMuted=C$99t,e$o._muted=C$99t);}),C$99n(1,e$o,"musicMuted",function(){return e$o._musicMuted;},function(C$99t){C$99t!=e$o._musicMuted&&(C$99t?(e$o._tMusic&&e$o._musicChannel&&!e$o._musicChannel.isStopped?e$o._musicChannel.pause():e$o._musicChannel=null,e$o._musicMuted=C$99t):(e$o._musicMuted=C$99t,e$o._tMusic&&e$o._musicChannel&&e$o._musicChannel.resume()));}),C$99n(1,e$o,"soundMuted",function(){return e$o._soundMuted;},function(C$99t){e$o._soundMuted=C$99t;}),e$o.addChannel=function(C$99t){0<=e$o._channels.indexOf(C$99t)||(e$o._channels.push(C$99t),e$o.autoReleaseSound&&0!=e$o._notUsedCount&&e$o._notUsedUrls[C$99t.url]&&(delete e$o._notUsedUrls[C$99t.url],0==--e$o._notUsedCount&&C$99y.timer.clear(e$o,e$o.disposeSoundIfNotUsed)));},e$o.removeChannel=function(C$99t){var C$99e=e$o._channels,C$99i=C$99e.indexOf(C$99t);if(-1!=C$99i&&(C$99e.splice(C$99i,1),e$o.autoReleaseSound)){var C$99n=C$99t.url,C$99t=e$o.defaultIntervals[C$99n]||2e4;if(0<C$99t){var C$99r=!0;for(C$99i=C$99e.length-1;0<=C$99i;C$99i--)if(C$99e[C$99i].url==C$99n){C$99r=!1;break;}C$99r&&(e$o._notUsedUrls[C$99n]=Date.now()+C$99t,0==e$o._notUsedCount++&&C$99y.timer.loop(1e4,e$o,e$o.disposeSoundIfNotUsed));}}},e$o.disposeSoundIfNotUsed=function(){var C$99t=e$o._notUsedUrls;if(0!=e$o._notUsedCount){var C$99e=Date.now();for(var C$99i in C$99t)C$99e>=C$99t[C$99i]&&(delete C$99t[C$99i],--e$o._notUsedCount,e$o.destroySound(C$99i));if(0!=e$o._notUsedCount)return;}C$99y.timer.clear(e$o,e$o.disposeSoundIfNotUsed);},e$o._visibilityChange=function(){C$99y.stage.isVisibility?e$o._stageOnFocus():e$o._stageOnBlur();},e$o._stageOnBlur=function(){e$o._isActive=!1,e$o._musicChannel&&(e$o._musicChannel.isStopped||(e$o._blurPaused=!0,e$o._musicChannel.pause())),e$o.stopAllSound(),C$99y.stage.once("mousedown",null,e$o._stageOnFocus);},e$o._recoverWebAudio=function(){C$99at.ctx&&"running"!=C$99at.ctx.state&&C$99at.ctx.resume&&C$99at.ctx.resume();},e$o._stageOnFocus=function(){var C$99t;e$o._isActive=!0,e$o._recoverWebAudio(),C$99y.stage.off("mousedown",null,e$o._stageOnFocus),e$o._blurPaused&&(C$99t=e$o._musicChannel)&&e$o._music&&C$99t.isStopped&&(e$o._blurPaused=!1,e$o._music._disposed?e$o.playMusic(C$99t.url,C$99t.loops,C$99t.startHandler,C$99t.completeHandler,C$99t.startTime):C$99t.audioBuffer?C$99t.resume():e$o._music.play(C$99t.startTime,C$99t.loops,C$99t.startHandler,C$99t));},e$o.playSound=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){if(void 0===C$99e&&(C$99e=1),void 0===C$99s&&(C$99s=0),!C$99t)return null;if(e$o._muted)return null;if(e$o._recoverWebAudio(),C$99t==e$o._tMusic){if(e$o._musicMuted)return null;}else{if(!e$o._isActive)return null;if(e$o._soundMuted)return null;}var C$99a=e$o._pool[C$99t];return C$99r=C$99r||e$o._soundClass,C$99a||((C$99a=new C$99r()).load(C$99t),e$o._pool[C$99t]=C$99a),(C$99r=C$99a.play(C$99s,C$99e,C$99i))?(C$99t==e$o._tMusic&&(e$o._music=C$99a,e$o._isActive||(e$o._blurPaused=!0,C$99r.pause())),C$99r.url=C$99t,C$99r.volume=C$99t==e$o._tMusic?e$o.musicVolume:e$o.soundVolume,C$99r.completeHandler=C$99n,C$99r):null;},e$o.destroySound=function(C$99t){var C$99e=e$o._pool[C$99t];C$99e&&(delete e$o._pool[C$99t],C$99e.dispose());},e$o.playMusic=function(C$99t,C$99e,C$99i,C$99n,C$99r){return void 0===C$99e&&(C$99e=0),void 0===C$99r&&(C$99r=0),e$o._tMusic=C$99t,e$o._musicChannel&&e$o._musicChannel.stop(),e$o._musicChannel=e$o.playSound(C$99t,C$99e,C$99i,C$99n,null,C$99r);},e$o.stopSound=function(C$99t){for(var C$99e,C$99i=e$o._channels.length-1;0<=C$99i;C$99i--)(C$99e=e$o._channels[C$99i]).url==C$99t&&C$99e.stop();},e$o.stopAll=function(){e$o._tMusic=null;var C$99t=0;for(C$99t=e$o._channels.length-1;0<=C$99t;C$99t--)e$o._channels[C$99t].stop();},e$o.stopAllSound=function(){var C$99t,C$99e=0;for(C$99e=e$o._channels.length-1;0<=C$99e;C$99e--)(C$99t=e$o._channels[C$99e]).url!=e$o._tMusic&&C$99t.stop();},e$o.stopMusic=function(){e$o._musicChannel&&e$o._musicChannel.stop(),e$o._tMusic=null;},e$o.setSoundVolume=function(C$99t,C$99e){if(C$99e)e$o._setVolume(C$99e,C$99t);else{e$o.soundVolume=C$99t;var C$99i,C$99n=0;for(C$99n=e$o._channels.length-1;0<=C$99n;C$99n--)(C$99i=e$o._channels[C$99n]).url!=e$o._tMusic&&(C$99i.volume=C$99t);}},e$o.setMusicVolume=function(C$99t){e$o.musicVolume=C$99t,e$o._setVolume(e$o._tMusic,C$99t);},e$o._setVolume=function(C$99t,C$99e){for(var C$99i,C$99n=e$o._channels.length-1;0<=C$99n;C$99n--)(C$99i=e$o._channels[C$99n]).url==C$99t&&(C$99i.volume=C$99e);},e$o.musicVolume=1,e$o.soundVolume=1,e$o.playbackRate=1,e$o._useAudioMusic=!0,e$o._muted=!1,e$o._soundMuted=!1,e$o._musicMuted=!1,e$o._tMusic=null,e$o._musicChannel=null,e$o._music=null,e$o._channels=[],e$o._autoStopMusic=!1,e$o._blurPaused=!1,e$o._isActive=!0,e$o._soundClass=null,e$o._musicClass=null,e$o.autoReleaseSound=!0,e$o._pool={},e$o.defaultIntervals={},e$o._notUsedUrls={},e$o._notUsedCount=0,e$o),C$99P=function(){var C$99t;function e$l(){}return C$99i(e$l,"laya.net.LocalStorage"),e$l.__init__=function(){e$l._baseClass||(e$l._baseClass=C$99t).init(),e$l.items=e$l._baseClass.items,e$l.support=e$l._baseClass.support;},e$l.setItem=function(C$99t,C$99e){e$l._baseClass.setItem(C$99t,C$99e);},e$l.getItem=function(C$99t){return e$l._baseClass.getItem(C$99t);},e$l.setJSON=function(C$99t,C$99e){e$l._baseClass.setJSON(C$99t,C$99e);},e$l.getJSON=function(C$99t){return e$l._baseClass.getJSON(C$99t);},e$l.removeItem=function(C$99t){e$l._baseClass.removeItem(C$99t);},e$l.clear=function(){e$l._baseClass.clear();},e$l._baseClass=null,e$l.items=null,e$l.support=!1,e$l.__init$=function(){function e$l(){}C$99i(e$l,""),e$l.init=function(){try{e$l.support=!0,e$l.items=C$99s.localStorage,e$l.setItem("laya","1"),e$l.removeItem("laya");}catch(C$99t){e$l.support=!1;}e$l.support||console.log("LocalStorage is not supprot or browser is private mode.");},e$l.setItem=function(C$99t,C$99e){try{e$l.support&&e$l.items.setItem(C$99t,C$99e);}catch(C$99t){console.warn("set localStorage failed",C$99t);}},e$l.getItem=function(C$99t){return e$l.support?e$l.items.getItem(C$99t):null;},e$l.setJSON=function(C$99t,C$99e){try{e$l.support&&e$l.items.setItem(C$99t,JSON.stringify(C$99e));}catch(C$99t){console.warn("set localStorage failed",C$99t);}},e$l.getJSON=function(C$99t){return JSON.parse(e$l.support?e$l.items.getItem(C$99t):null);},e$l.removeItem=function(C$99t){e$l.support&&e$l.items.removeItem(C$99t);},e$l.clear=function(){e$l.support&&e$l.items.clear();},e$l.items=null,e$l.support=!1,C$99t=e$l;},e$l;}(),C$99B=(C$99i(e$k,"laya.net.ResourceVersion"),e$k.enable=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=2),laya.net.ResourceVersion.type=C$99i,C$99y.loader.load(C$99t,C$99g.create(null,e$k.onManifestLoaded,[C$99e]),null,"json"),C$99L.customFormat=e$k.addVersionPrefix;},e$k.onManifestLoaded=function(C$99t,C$99e){e$k.manifest=C$99e,C$99t.run(),C$99e||console.warn("\u8d44\u6e90\u7248\u672c\u6e05\u5355\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u4e0d\u4f7f\u7528\u8d44\u6e90\u7248\u672c\u7ba1\u7406\u3002\u5ffd\u7565ERR_FILE_NOT_FOUND\u9519\u8bef\u3002");},e$k.addVersionPrefix=function(C$99t){return e$k.manifest&&e$k.manifest[C$99t]?2==e$k.type?e$k.manifest[C$99t]:e$k.manifest[C$99t]+"/"+C$99t:C$99t;},e$k.FOLDER_VERSION=1,e$k.FILENAME_VERSION=2,e$k.manifest=null,e$k.type=1,function(){function e$d(){this.fontName=null,this.complete=null,this.err=null,this._fontTxt=null,this._url=null,this._div=null,this._txtWidth=NaN,this._http=null;}C$99i(e$d,"laya.net.TTFLoader");var C$99t=e$d.prototype;return C$99t.load=function(C$99t){C$99t=(this._url=C$99t).split(".ttf")[0].split("/");this.fontName=C$99t[C$99t.length-1],C$99S.window.conch?this._loadConch():C$99S.window.FontFace?this._loadWithFontFace():this._loadWithCSS();},C$99t._loadConch=function(){this._http=new C$99ot(),this._http.on("error",this,this._onErr),this._http.on("complete",this,this._onHttpLoaded),this._http.send(this._url,null,"get","arraybuffer");},C$99t._onHttpLoaded=function(C$99t){C$99S.window.conch.setFontFaceFromBuffer(this.fontName,C$99t),this._clearHttp(),this._complete();},C$99t._clearHttp=function(){this._http&&(this._http.off("error",this,this._onErr),this._http.off("complete",this,this._onHttpLoaded),this._http=null);},C$99t._onErr=function(){this._clearHttp(),this.err&&(this.err.runWith("fail:"+this._url),this.err=null);},C$99t._complete=function(){C$99y.timer.clear(this,this._complete),C$99y.timer.clear(this,this._checkComplete),this._div&&this._div.parentNode&&(this._div.parentNode.removeChild(this._div),this._div=null),this.complete&&(this.complete.runWith(this),this.complete=null);},C$99t._checkComplete=function(){C$99m.measureText("LayaTTFFont",this._fontTxt).width!=this._txtWidth&&this._complete();},C$99t._loadWithFontFace=function(){var C$99t=new C$99S.window.FontFace(this.fontName,"url('"+this._url+"')");C$99S.window.document.fonts.add(C$99t);var C$99e=this;C$99t.loaded.then(function(){C$99e._complete();}),C$99t.load();},C$99t._createDiv=function(){this._div=C$99S.createElement("div"),this._div.innerHTML="laya";var C$99t=this._div.style;C$99t.fontFamily=this.fontName,C$99t.position="absolute",C$99t.left="-100px",C$99t.top="-100px",C$99S.document.body.appendChild(this._div);},C$99t._loadWithCSS=function(){var C$99t=this,C$99e=C$99S.createElement("style");C$99e.type="text/css",C$99S.document.body.appendChild(C$99e),C$99e.textContent="@font-face { font-family:'"+this.fontName+"'; src:url('"+this._url+"');}",this._fontTxt="40px "+this.fontName,this._txtWidth=C$99m.measureText("LayaTTFFont",this._fontTxt).width;var C$99i=this;C$99e.onload=function(){C$99y.timer.once(1e4,C$99i,C$99t._complete);},C$99y.timer.loop(20,this,this._checkComplete),this._createDiv();},e$d._testString="LayaTTFFont",e$d;}()),C$99L=function(){function e$k(C$99t){this._url=null,this._path=null,this._url=e$k.formatURL(C$99t),this._path=e$k.getPath(C$99t);}C$99i(e$k,"laya.net.URL");var C$99t=e$k.prototype;return C$99n(0,C$99t,"path",function(){return this._path;}),C$99n(0,C$99t,"url",function(){return this._url;}),e$k.formatURL=function(C$99t,C$99e){if(!C$99t)return"null path";if(0<C$99t.indexOf(":"))return C$99t;var C$99i=(C$99t=null!=e$k.customFormat?e$k.customFormat(C$99t,C$99e):C$99t).charAt(0);if("."===C$99i)return e$k.formatRelativePath((C$99e||e$k.basePath)+C$99t);if("~"===C$99i)return e$k.rootPath+C$99t.substring(1);if("d"===C$99i){if(0===C$99t.indexOf("data:image"))return C$99t;}else if("/"===C$99i)return C$99t;return(C$99e||e$k.basePath)+C$99t;},e$k.formatRelativePath=function(C$99t){for(var C$99e=C$99t.split("/"),C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)".."==C$99e[C$99i]&&(C$99e.splice(C$99i-1,2),C$99i-=2);return C$99e.join("/");},e$k.isAbsolute=function(C$99t){return 0<C$99t.indexOf(":")||"/"==C$99t.charAt(0);},e$k.getPath=function(C$99t){var C$99e=C$99t.lastIndexOf("/");return 0<C$99e?C$99t.substr(0,C$99e+1):"";},e$k.getFileName=function(C$99t){var C$99e=C$99t.lastIndexOf("/");return 0<C$99e?C$99t.substr(C$99e+1):C$99t;},e$k.version={},e$k.basePath="",e$k.rootPath="",e$k.customFormat=function(C$99t){var C$99e=e$k.version[C$99t];return!C$99T.isConchApp&&C$99e&&(C$99t+="?v="+C$99e),C$99t;},e$k;}(),C$99T=function(){function e$W(C$99t,C$99e){this._timeId=0;var C$99i=e$W._mainCanvas.source.style;C$99i.position="absolute",C$99i.top=C$99i.left="0px",C$99i.background="#000000",e$W._mainCanvas.source.id="layaCanvas";C$99i=laya.renders.Render.isWebGL;e$W._mainCanvas.source.width=C$99t,e$W._mainCanvas.source.height=C$99e,C$99i&&e$W.WebGL.init(e$W._mainCanvas,C$99t,C$99e),C$99S.container.appendChild(e$W._mainCanvas.source),(e$W._context=new C$99N(C$99t,C$99e,C$99i?null:e$W._mainCanvas)).ctx.setIsMainContext(),C$99S.window.requestAnimationFrame(function e$d(C$99t){C$99S.window.requestAnimationFrame(e$d),C$99y.stage._loop();}),C$99y.stage.on("visibilitychange",this,this._onVisibilitychange);}C$99i(e$W,"laya.renders.Render");var C$99t=e$W.prototype;return C$99t._onVisibilitychange=function(){C$99y.stage.isVisibility?0!=this._timeId&&C$99S.window.clearInterval(this._timeId):this._timeId=C$99S.window.setInterval(this._enterFrame,1e3);},C$99t._enterFrame=function(C$99t){C$99y.stage._loop();},C$99n(1,e$W,"context",function(){return e$W._context;}),C$99n(1,e$W,"canvas",function(){return e$W._mainCanvas.source;}),e$W._context=null,e$W._mainCanvas=null,e$W.WebGL=null,e$W.isConchNode=!1,e$W.isConchApp=!1,e$W.isConchWebGL=!1,e$W.isWebGL=!1,e$W.is3DMode=!1,e$W.optimizeTextureMemory=function(C$99t,C$99e){return!0;},e$W.__init$=function(){C$99s.ConchRenderType=C$99s.ConchRenderType||1,C$99s.ConchRenderType|=C$99s.conch?4:0,e$W.isConchNode=5==(5&C$99s.ConchRenderType),e$W.isConchApp=4==(4&C$99s.ConchRenderType),e$W.isConchWebGL=6==C$99s.ConchRenderType;},e$W;}(),C$99N=(C$99i(e$A,"laya.renders.RenderContext"),(C$99e=e$A.prototype).destroy=function(){this.canvas&&(this.canvas.destroy(),this.canvas=null,this.ctx=null),this.ctx&&(this.ctx.destroy(),this.ctx=null);},C$99e.drawTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99t.loaded&&this.ctx.drawTexture(C$99t,C$99e,C$99i,C$99n,C$99r,this.x,this.y);},C$99e._drawTextures=function(C$99t,C$99e,C$99i){C$99i[0].loaded&&this.ctx.drawTextures(C$99i[0],C$99i[1],C$99t+this.x,C$99e+this.y);},C$99e.drawTextureWithTransform=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){C$99t.loaded&&this.ctx.drawTextureWithTransform(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,this.x,this.y,C$99a);},C$99e.fillQuadrangle=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.ctx.fillQuadrangle(C$99t,C$99e,C$99i,C$99n,C$99r);},C$99e.drawCanvas=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.ctx.drawCanvas(C$99t,C$99e+this.x,C$99i+this.y,C$99n,C$99r);},C$99e.drawRect=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){void 0===C$99s&&(C$99s=1);var C$99a=this.ctx;C$99a.strokeStyle=C$99r,C$99a.lineWidth=C$99s,C$99a.strokeRect(C$99t+this.x,C$99e+this.y,C$99i,C$99n,C$99s);},C$99e._fillAndStroke=function(C$99t,C$99e,C$99i,C$99n){void 0===C$99n&&(C$99n=!1);var C$99r=this.ctx;null!=C$99t&&(C$99r.fillStyle=C$99t,C$99T.isWebGL?C$99r.fill(C$99n):C$99r.fill()),null!=C$99e&&0<C$99i&&(C$99r.strokeStyle=C$99e,C$99r.lineWidth=C$99i,C$99r.stroke());},C$99e.clipRect=function(C$99t,C$99e,C$99i,C$99n){this.ctx.clipRect(C$99t+this.x,C$99e+this.y,C$99i,C$99n);},C$99e.fillRect=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.ctx.fillRect(C$99t+this.x,C$99e+this.y,C$99i,C$99n,C$99r);},C$99e.drawCircle=function(C$99t,C$99e,C$99i,C$99n,C$99r){void 0===C$99r&&(C$99r=1),C$99j.drawCall++;var C$99s=this.ctx;C$99s.beginPath(),C$99s.strokeStyle=C$99n,C$99s.lineWidth=C$99r,C$99s.arc(C$99t+this.x,C$99e+this.y,C$99i,0,e$A.PI2),C$99s.stroke();},C$99e.drawTriangles=function(C$99t,C$99e,C$99i){if(C$99T.isWebGL)this.ctx.drawTriangles(C$99i[0],C$99t+C$99i[1],C$99e+C$99i[2],C$99i[3],C$99i[4],C$99i[5],C$99i[6],C$99i[7],C$99i[8],C$99i[9]);else{var C$99n=C$99i[5],C$99r=0,C$99s=C$99n.length,C$99a=this.ctx;for(C$99r=0;C$99r<C$99s;C$99r+=3){var C$99o=2*C$99n[C$99r],C$99h=2*C$99n[C$99r+1],C$99l=2*C$99n[C$99r+2];C$99a.drawTriangle(C$99i[0],C$99i[3],C$99i[4],C$99o,C$99h,C$99l,C$99i[6],!0);}}},C$99e.fillCircle=function(C$99t,C$99e,C$99i,C$99n){C$99j.drawCall++;var C$99r=this.ctx;C$99r.beginPath(),C$99r.fillStyle=C$99n,C$99r.arc(C$99t+this.x,C$99e+this.y,C$99i,0,e$A.PI2),C$99r.fill();},C$99e.setShader=function(C$99t){this.ctx.setShader(C$99t);},C$99e.drawLine=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){void 0===C$99s&&(C$99s=1);var C$99a=this.ctx;C$99a.beginPath(),C$99a.strokeStyle=C$99r,C$99a.lineWidth=C$99s,C$99a.moveTo(this.x+C$99t,this.y+C$99e),C$99a.lineTo(this.x+C$99i,this.y+C$99n),C$99a.stroke();},C$99e.clear=function(){this.ctx.clear();},C$99e.transformByMatrix=function(C$99t){this.ctx.transformByMatrix(C$99t);},C$99e.setTransform=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this.ctx.setTransform(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s);},C$99e.setTransformByMatrix=function(C$99t){this.ctx.setTransformByMatrix(C$99t);},C$99e.save=function(){this.ctx.save();},C$99e.restore=function(){this.ctx.restore();},C$99e.translate=function(C$99t,C$99e){this.ctx.translate(C$99t,C$99e);},C$99e.transform=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this.ctx.transform(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s);},C$99e.rotate=function(C$99t){this.ctx.rotate(C$99t);},C$99e.scale=function(C$99t,C$99e){this.ctx.scale(C$99t,C$99e);},C$99e.alpha=function(C$99t){this.ctx.globalAlpha*=C$99t;},C$99e.setAlpha=function(C$99t){this.ctx.globalAlpha=C$99t;},C$99e.fillWords=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this.ctx.fillWords(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s=void 0===C$99s?0:C$99s);},C$99e.fillBorderWords=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this.ctx.fillBorderWords(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a);},C$99e.fillText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this.ctx.fillText(C$99t,C$99e+this.x,C$99i+this.y,C$99n,C$99r,C$99s);},C$99e.strokeText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this.ctx.strokeText(C$99t,C$99e+this.x,C$99i+this.y,C$99n,C$99r,C$99s,C$99a);},C$99e.blendMode=function(C$99t){this.ctx.globalCompositeOperation=C$99t;},C$99e.flush=function(){this.ctx.flush&&this.ctx.flush();},C$99e.addRenderObject=function(C$99t){this.ctx.addRenderObject(C$99t);},C$99e.beginClip=function(C$99t,C$99e,C$99i,C$99n){this.ctx.beginClip&&this.ctx.beginClip(C$99t,C$99e,C$99i,C$99n);},C$99e.endClip=function(){this.ctx.endClip&&this.ctx.endClip();},C$99e.fillTrangles=function(C$99t,C$99e,C$99i){this.ctx.fillTrangles(C$99i[0],C$99i[1],C$99i[2],C$99i[3],4<C$99i.length?C$99i[4]:null);},e$A.PI2=2*Math.PI,e$A),C$99k=function(){function e$A(C$99t,C$99e){switch(this._next=C$99e||e$A.NORENDER,C$99t){case 0:return void(this._fun=this._no);case 1:return void(this._fun=this._image);case 2:return void(this._fun=this._alpha);case 4:return void(this._fun=this._transform);case 8:return void(this._fun=this._blend);case 16:return void(this._fun=this._canvas);case 64:return void(this._fun=this._mask);case 128:return void(this._fun=this._clip);case 256:return void(this._fun=this._style);case 512:return void(this._fun=this._graphics);case 2048:return void(this._fun=this._childs);case 1024:return void(this._fun=this._custom);case 513:case 517:return void(this._fun=this._image2);case 32:return void(this._fun=C$99b._filter);case 69905:return void(this._fun=e$A._initRenderFun);}this.onCreate(C$99t);}C$99i(e$A,"laya.renders.RenderSprite");var C$99t=e$A.prototype;return C$99t.onCreate=function(C$99t){},C$99t._style=function(C$99t,C$99e,C$99i,C$99n){C$99t._style.render(C$99t,C$99e,C$99i,C$99n);var C$99r=this._next;C$99r._fun.call(C$99r,C$99t,C$99e,C$99i,C$99n);},C$99t._no=function(C$99t,C$99e,C$99i,C$99n){},C$99t._custom=function(C$99t,C$99e,C$99i,C$99n){C$99t.customRender(C$99e,C$99i,C$99n);var C$99r=C$99t._style._tf;this._next._fun.call(this._next,C$99t,C$99e,C$99i-C$99r.translateX,C$99n-C$99r.translateY);},C$99t._clip=function(C$99t,C$99e,C$99i,C$99n){var C$99r=this._next;var C$99s;C$99r!=e$A.NORENDER&&(C$99s=C$99t._style.scrollRect,C$99e.ctx.save(),C$99e.ctx.clipRect(C$99i,C$99n,C$99s.width,C$99s.height),C$99r._fun.call(C$99r,C$99t,C$99e,C$99i-C$99s.x,C$99n-C$99s.y),C$99e.ctx.restore());},C$99t._blend=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._style;C$99r.blendMode&&(C$99e.ctx.globalCompositeOperation=C$99r.blendMode);C$99r=this._next;C$99r._fun.call(C$99r,C$99t,C$99e,C$99i,C$99n),C$99e.ctx.globalCompositeOperation="source-over";},C$99t._mask=function(C$99t,C$99e,C$99i,C$99n){var C$99r=this._next;C$99r._fun.call(C$99r,C$99t,C$99e,C$99i,C$99n);C$99r=C$99t.mask;C$99r&&(C$99e.ctx.globalCompositeOperation="destination-in",(0<C$99r.numChildren||!C$99r.graphics._isOnlyOne())&&(C$99r.cacheAsBitmap=!0),C$99r.render(C$99e,C$99i-C$99t.pivotX,C$99n-C$99t.pivotY)),C$99e.ctx.globalCompositeOperation="source-over";},C$99t._graphics=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._style._tf;C$99t._graphics&&C$99t._graphics._render(C$99t,C$99e,C$99i-C$99r.translateX,C$99n-C$99r.translateY);C$99r=this._next;C$99r._fun.call(C$99r,C$99t,C$99e,C$99i,C$99n);},C$99t._image=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._style;C$99e.ctx.drawTexture2(C$99i,C$99n,C$99r._tf.translateX,C$99r._tf.translateY,C$99t.transform,C$99r.alpha,C$99r.blendMode,C$99t._graphics._one);},C$99t._image2=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._style._tf;C$99e.ctx.drawTexture2(C$99i,C$99n,C$99r.translateX,C$99r.translateY,C$99t.transform,1,null,C$99t._graphics._one);},C$99t._alpha=function(C$99t,C$99e,C$99i,C$99n){var C$99r,C$99s;(.01<(C$99s=C$99t._style.alpha)||C$99t._needRepaint())&&(C$99r=C$99e.ctx.globalAlpha,C$99e.ctx.globalAlpha*=C$99s,(C$99s=this._next)._fun.call(C$99s,C$99t,C$99e,C$99i,C$99n),C$99e.ctx.globalAlpha=C$99r);},C$99t._transform=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.transform,C$99s=this._next;C$99r&&C$99s!=e$A.NORENDER?(C$99e.save(),C$99e.transform(C$99r.a,C$99r.b,C$99r.c,C$99r.d,C$99r.tx+C$99i,C$99r.ty+C$99n),C$99s._fun.call(C$99s,C$99t,C$99e,0,0),C$99e.restore()):C$99s._fun.call(C$99s,C$99t,C$99e,C$99i,C$99n);},C$99t._childs=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._style,C$99s=C$99r._tf;C$99i=C$99i-C$99s.translateX+C$99r.paddingLeft,C$99n=C$99n-C$99s.translateY+C$99r.paddingTop,C$99r._calculation&&(!(C$99s=C$99t._getWords())||(C$99r=C$99r)&&(C$99r.stroke?C$99e.fillBorderWords(C$99s,C$99i,C$99n,C$99r.font,C$99r.color,C$99r.strokeColor,C$99r.stroke):C$99e.fillWords(C$99s,C$99i,C$99n,C$99r.font,C$99r.color,"none"!=C$99r.textDecoration&&C$99r.underLine?1:0)));var C$99a,C$99o=C$99t._childs,C$99h=C$99o.length;if(C$99t.viewport||C$99t.optimizeScrollRect&&C$99t._style.scrollRect){var C$99s=C$99t.viewport||C$99t._style.scrollRect,C$99u=C$99s.x,C$99c=C$99s.y,C$99_=C$99s.right,C$99d=C$99s.bottom,C$99f=NaN,C$99p=NaN;for(C$99l=0;C$99l<C$99h;++C$99l)(C$99a=C$99o[C$99l]).visible&&(C$99f=C$99a._x)<C$99_&&C$99f+C$99a.width>C$99u&&(C$99p=C$99a._y)<C$99d&&C$99p+C$99a.height>C$99c&&C$99a.render(C$99e,C$99i,C$99n);}else for(var C$99l=0;C$99l<C$99h;++C$99l)(C$99a=C$99o[C$99l])._style.visible&&C$99a.render(C$99e,C$99i,C$99n);},C$99t._canvas=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._$P.cacheCanvas;var C$99s;C$99r?("bitmap"===C$99r.type?C$99j.canvasBitmap++:C$99j.canvasNormal++,C$99s=C$99r.ctx,C$99t._needRepaint()||!C$99s?this._canvas_repaint(C$99t,C$99e,C$99i,C$99n):(C$99r=C$99r._cacheRec,C$99e.drawCanvas(C$99s.canvas,C$99i+C$99r.x,C$99n+C$99r.y,C$99r.width,C$99r.height))):this._next._fun.call(this._next,C$99t,C$99e,C$99i,C$99n);},C$99t._canvas_repaint=function(C$99t,C$99u,C$99c,C$99_){var C$99e=C$99t._$P.cacheCanvas,C$99i=this._next;if(C$99e){var C$99n,C$99d,C$99f,C$99r,C$99s=C$99e.ctx,C$99a=C$99t._needRepaint()||!C$99s,C$99p=C$99e.type;if("bitmap"===C$99p?C$99j.canvasBitmap++:C$99j.canvasNormal++,C$99a){var C$99m;C$99e._cacheRec||(C$99e._cacheRec=new C$99E()),C$99T.isWebGL&&"bitmap"!==C$99p?C$99e._cacheRec.setTo(-C$99t.pivotX,-C$99t.pivotY,1,1):((C$99r=C$99t.getSelfBounds()).x=C$99r.x-C$99t.pivotX,C$99r.y=C$99r.y-C$99t.pivotY,C$99r.x=C$99r.x-16,C$99r.y=C$99r.y-16,C$99r.width=C$99r.width+32,C$99r.height=C$99r.height+32,C$99r.x=Math.floor(C$99r.x+C$99c)-C$99c,C$99r.y=Math.floor(C$99r.y+C$99_)-C$99_,C$99r.width=Math.floor(C$99r.width),C$99r.height=Math.floor(C$99r.height),C$99e._cacheRec.copyFrom(C$99r)),C$99r=C$99e._cacheRec;var C$99g,C$99a=C$99T.isWebGL?1:C$99S.pixelRatio*C$99y.stage.clientScaleX,C$99v=C$99T.isWebGL?1:C$99S.pixelRatio*C$99y.stage.clientScaleY;if(!C$99T.isWebGL){var C$99o,C$99$=1,C$99x=1;for(C$99o=C$99t;C$99o&&C$99o!=C$99y.stage;)C$99$*=C$99o.scaleX,C$99x*=C$99o.scaleY,C$99o=C$99o.parent;C$99T.isWebGL?(C$99$<1&&(C$99a*=C$99$),C$99x<1&&(C$99v*=C$99x)):(1<C$99$&&(C$99a*=C$99$),1<C$99x&&(C$99v*=C$99x));}var C$99h;if(C$99t.scrollRect&&(C$99h=C$99t.scrollRect,C$99r.x-=C$99h.x,C$99r.y-=C$99h.y),C$99h=C$99r.width*C$99a,C$99m=C$99r.height*C$99v,C$99d=C$99r.x,C$99f=C$99r.y,C$99T.isWebGL&&"bitmap"===C$99p&&(2048<C$99h||2048<C$99m))return console.warn("cache bitmap size larger than 2048,cache ignored"),C$99e.ctx&&(C$99X.recover("RenderContext",C$99e.ctx),C$99e.ctx.canvas.size(0,0),C$99e.ctx=null),void C$99i._fun.call(C$99i,C$99t,C$99u,C$99c,C$99_);var C$99l;(C$99s=C$99s||(C$99e.ctx=C$99X.getItem("RenderContext")||new C$99N(C$99h,C$99m,C$99$t.create("AUTO")))).ctx.sprite=C$99t,(C$99n=C$99s.canvas).clear(),C$99n.width==C$99h&&C$99n.height==C$99m||C$99n.size(C$99h,C$99m),"bitmap"===C$99p?C$99n.context.asBitmap=!0:"normal"===C$99p&&(C$99n.context.asBitmap=!1),1!=C$99a||1!=C$99v?((C$99l=C$99s.ctx).save(),C$99l.scale(C$99a,C$99v),!C$99T.isConchWebGL&&C$99T.isConchApp&&(C$99g=C$99t._$P.cf)&&C$99l.setFilterMatrix&&C$99l.setFilterMatrix(C$99g._mat,C$99g._alpha),C$99i._fun.call(C$99i,C$99t,C$99s,-C$99d,-C$99f),C$99l.restore()):(C$99l=C$99s.ctx,!C$99T.isConchWebGL&&C$99T.isConchApp&&(C$99g=C$99t._$P.cf)&&C$99l.setFilterMatrix&&C$99l.setFilterMatrix(C$99g._mat,C$99g._alpha),C$99i._fun.call(C$99i,C$99t,C$99s,-C$99d,-C$99f)),C$99T.isConchApp&&!C$99T.isConchWebGL||C$99t._applyFilters(),C$99t._$P.staticCache&&(C$99e.reCache=!1),C$99j.canvasReCache++;}else C$99d=(C$99r=C$99e._cacheRec).x,C$99f=C$99r.y,C$99n=C$99s.canvas;C$99u.drawCanvas(C$99n,C$99c+C$99d,C$99_+C$99f,C$99r.width,C$99r.height);}else C$99i._fun.call(C$99i,C$99t,C$99s,C$99c,C$99_);},e$A.__init__=function(){var C$99t,C$99e=0;for(C$99t=C$99m.createRenderSprite(69905,null),e$A.renders.length=4096,C$99e=0;C$99e<4096;C$99e++)e$A.renders[C$99e]=C$99t;e$A.renders[0]=C$99m.createRenderSprite(0,null);var C$99i=[1,512,4,2];var C$99n=new e$A(1,null);for(var C$99r=0,C$99s=0;C$99s<C$99i.length;C$99s++)e$A.renders[C$99r|=C$99i[C$99s]]=C$99n;e$A.renders[513]=C$99m.createRenderSprite(513,null),e$A.renders[517]=new e$A(517,null);},e$A._initRenderFun=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._renderType;(e$A.renders[C$99r]=e$A._getTypeRender(C$99r))._fun(C$99t,C$99e,C$99i,C$99n);},e$A._getTypeRender=function(C$99t){for(var C$99e=null,C$99i=2048;1<C$99i;)C$99i&C$99t&&(C$99e=C$99m.createRenderSprite(C$99i,C$99e)),C$99i>>=1;return C$99e;},e$A.IMAGE=1,e$A.ALPHA=2,e$A.TRANSFORM=4,e$A.BLEND=8,e$A.CANVAS=16,e$A.FILTERS=32,e$A.MASK=64,e$A.CLIP=128,e$A.STYLE=256,e$A.GRAPHICS=512,e$A.CUSTOM=1024,e$A.CHILDS=2048,e$A.INIT=69905,e$A.renders=[],e$A.NORENDER=new e$A(0,null),e$A;}(),C$99O=(C$99i(e$B,"laya.resource.Context"),(C$99e=e$B.prototype).replaceReset=function(){var C$99t,C$99e,C$99i=0;for(C$99t=e$B.replaceKeys.length,C$99i=0;C$99i<C$99t;C$99i++)C$99e=e$B.replaceKeys[C$99i],this[e$B.newKeys[C$99i]]=this[C$99e];},C$99e.replaceResotre=function(){this.__restore(),this.__reset();},C$99e.setIsMainContext=function(){},C$99e.drawTextures=function(C$99t,C$99e,C$99i,C$99n){C$99j.drawCall+=C$99e.length/2;for(var C$99r=C$99t.width,C$99s=C$99t.height,C$99a=0,C$99o=C$99e.length;C$99a<C$99o;C$99a+=2)this.drawTexture(C$99t,C$99e[C$99a],C$99e[C$99a+1],C$99r,C$99s,C$99i,C$99n);},C$99e.drawCanvas=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99j.drawCall++,this.drawImage(C$99t.source,C$99e,C$99i,C$99n,C$99r);},C$99e.fillRect=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99j.drawCall++,C$99r&&(this.fillStyle=C$99r),this.__fillRect(C$99t,C$99e,C$99i,C$99n);},C$99e.fillText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){C$99j.drawCall++,3<arguments.length&&null!=C$99n&&(this.font=C$99n,this.fillStyle=C$99r,this.textAlign=C$99s,this.textBaseline="top"),this.__fillText(C$99t,C$99e,C$99i);},C$99e.fillBorderText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){C$99j.drawCall++,this.font=C$99n,this.fillStyle=C$99r,this.textBaseline="top",this.strokeStyle=C$99s,this.lineWidth=C$99a,this.textAlign=C$99o,this.__strokeText(C$99t,C$99e,C$99i),this.__fillText(C$99t,C$99e,C$99i);},C$99e.strokeText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){C$99j.drawCall++,3<arguments.length&&null!=C$99n&&(this.font=C$99n,this.strokeStyle=C$99r,this.lineWidth=C$99s,this.textAlign=C$99a,this.textBaseline="top"),this.__strokeText(C$99t,C$99e,C$99i);},C$99e.transformByMatrix=function(C$99t){this.transform(C$99t.a,C$99t.b,C$99t.c,C$99t.d,C$99t.tx,C$99t.ty);},C$99e.setTransformByMatrix=function(C$99t){this.setTransform(C$99t.a,C$99t.b,C$99t.c,C$99t.d,C$99t.tx,C$99t.ty);},C$99e.clipRect=function(C$99t,C$99e,C$99i,C$99n){C$99j.drawCall++,this.beginPath(),this.rect(C$99t,C$99e,C$99i,C$99n),this.clip();},C$99e.drawTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){C$99j.drawCall++;var C$99o=C$99t.uv,C$99h=C$99t.bitmap.width,C$99l=C$99t.bitmap.height;this.drawImage(C$99t.source,C$99o[0]*C$99h,C$99o[1]*C$99l,(C$99o[2]-C$99o[0])*C$99h,(C$99o[5]-C$99o[3])*C$99l,C$99e+C$99s,C$99i+C$99a,C$99n,C$99r);},C$99e.drawTextureWithTransform=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99u,C$99c){C$99j.drawCall++;var C$99o=C$99t.uv,C$99h=C$99t.bitmap.width,C$99l=C$99t.bitmap.height;this.save(),1!=C$99c&&(this.globalAlpha*=C$99c),C$99s?(this.transform(C$99s.a,C$99s.b,C$99s.c,C$99s.d,C$99s.tx+C$99a,C$99s.ty+C$99u),this.drawImage(C$99t.source,C$99o[0]*C$99h,C$99o[1]*C$99l,(C$99o[2]-C$99o[0])*C$99h,(C$99o[5]-C$99o[3])*C$99l,C$99e,C$99i,C$99n,C$99r)):this.drawImage(C$99t.source,C$99o[0]*C$99h,C$99o[1]*C$99l,(C$99o[2]-C$99o[0])*C$99h,(C$99o[5]-C$99o[3])*C$99l,C$99e+C$99a,C$99i+C$99u,C$99n,C$99r),this.restore();},C$99e.drawTexture2=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99u,C$99a){var C$99o=C$99a[0];var C$99c,C$99_,C$99h,C$99l;C$99o.loaded&&C$99o.bitmap&&C$99o.source&&(C$99j.drawCall++,(C$99c=1!==C$99s)&&(C$99_=this.globalAlpha,this.globalAlpha*=C$99s),C$99s=C$99o.uv,C$99h=C$99o.bitmap.width,C$99l=C$99o.bitmap.height,C$99r?(this.save(),this.transform(C$99r.a,C$99r.b,C$99r.c,C$99r.d,C$99r.tx+C$99t,C$99r.ty+C$99e),this.drawImage(C$99o.source,C$99s[0]*C$99h,C$99s[1]*C$99l,(C$99s[2]-C$99s[0])*C$99h,(C$99s[5]-C$99s[3])*C$99l,C$99a[1]-C$99i,C$99a[2]-C$99n,C$99a[3],C$99a[4]),this.restore()):this.drawImage(C$99o.source,C$99s[0]*C$99h,C$99s[1]*C$99l,(C$99s[2]-C$99s[0])*C$99h,(C$99s[5]-C$99s[3])*C$99l,C$99a[1]-C$99i+C$99t,C$99a[2]-C$99n+C$99e,C$99a[3],C$99a[4]),C$99c&&(this.globalAlpha=C$99_));},C$99e.fillTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){C$99o.pat||(C$99t.uv!=C$99ct.DEF_UV&&((C$99h=new C$99$t("2D")).getContext("2d"),C$99h.size(C$99t.width,C$99t.height),C$99h.context.drawTexture(C$99t,0,0,C$99t.width,C$99t.height,0,0),C$99t=new C$99ct(C$99h)),C$99o.pat=this.createPattern(C$99t.bitmap.source,C$99s));var C$99h=C$99e,C$99s=C$99i,C$99e=0,C$99i=0;C$99a&&(C$99h+=C$99a.x%C$99t.width,C$99s+=C$99a.y%C$99t.height,C$99e-=C$99a.x%C$99t.width,C$99i-=C$99a.y%C$99t.height),this.translate(C$99h,C$99s),this.fillRect(C$99e,C$99i,C$99n,C$99r,C$99o.pat),this.translate(-C$99h,-C$99s);},C$99e.drawTriangle=function(C$99u,C$99t,C$99e,C$99i,C$99n,C$99r,C$99c,C$99s){var C$99_=C$99u.bitmap,C$99d=C$99_.source,C$99f=C$99u.width,C$99p=C$99u.height,C$99m=C$99_.width,C$99_=C$99_.height,C$99a=C$99e[C$99i]*C$99m,C$99o=C$99e[C$99n]*C$99m,C$99g=C$99e[C$99r]*C$99m,C$99v=C$99e[C$99i+1]*C$99_,C$99$=C$99e[C$99n+1]*C$99_,C$99e=C$99e[C$99r+1]*C$99_,C$99x=C$99t[C$99i],C$99y=C$99t[C$99n],C$99b=C$99t[C$99r],C$99i=C$99t[C$99i+1],C$99n=C$99t[C$99n+1],C$99t=C$99t[C$99r+1];var C$99w,C$99h;C$99s&&(C$99s=C$99i-(C$99r=(C$99i+C$99n+C$99t)/3),C$99x=(C$99l=(C$99x+C$99y+C$99b)/3)+(C$99w=C$99x-C$99l)/(C$99h=Math.sqrt(C$99w*C$99w+C$99s*C$99s))*(C$99h+1),C$99i=C$99r+C$99s/C$99h*(C$99h+1),C$99s=C$99n-C$99r,C$99y=C$99l+(C$99w=C$99y-C$99l)/(C$99h=Math.sqrt(C$99w*C$99w+C$99s*C$99s))*(C$99h+1),C$99n=C$99r+C$99s/C$99h*(C$99h+1),C$99s=C$99t-C$99r,C$99b=C$99l+(C$99w=C$99b-C$99l)/(C$99h=Math.sqrt(C$99w*C$99w+C$99s*C$99s))*(C$99h+1),C$99t=C$99r+C$99s/C$99h*(C$99h+1)),this.save(),C$99c&&this.transform(C$99c.a,C$99c.b,C$99c.c,C$99c.d,C$99c.tx,C$99c.ty),this.beginPath(),this.moveTo(C$99x,C$99i),this.lineTo(C$99y,C$99n),this.lineTo(C$99b,C$99t),this.closePath(),this.clip();var C$99l=1/(C$99a*C$99$+C$99v*C$99g+C$99o*C$99e-C$99$*C$99g-C$99v*C$99o-C$99a*C$99e);this.transform((C$99x*C$99$+C$99v*C$99b+C$99y*C$99e-C$99$*C$99b-C$99v*C$99y-C$99x*C$99e)*C$99l,(C$99i*C$99$+C$99v*C$99t+C$99n*C$99e-C$99$*C$99t-C$99v*C$99n-C$99i*C$99e)*C$99l,(C$99a*C$99y+C$99x*C$99g+C$99o*C$99b-C$99y*C$99g-C$99x*C$99o-C$99a*C$99b)*C$99l,(C$99a*C$99n+C$99i*C$99g+C$99o*C$99t-C$99n*C$99g-C$99i*C$99o-C$99a*C$99t)*C$99l,(C$99a*C$99$*C$99b+C$99v*C$99y*C$99g+C$99x*C$99o*C$99e-C$99x*C$99$*C$99g-C$99v*C$99o*C$99b-C$99a*C$99y*C$99e)*C$99l,(C$99a*C$99$*C$99t+C$99v*C$99n*C$99g+C$99i*C$99o*C$99e-C$99i*C$99$*C$99g-C$99v*C$99o*C$99t-C$99a*C$99n*C$99e)*C$99l),this.drawImage(C$99d,C$99u.uv[0]*C$99m,C$99u.uv[1]*C$99_,C$99f,C$99p,C$99u.uv[0]*C$99m,C$99u.uv[1]*C$99_,C$99f,C$99p),this.restore();},C$99e.flush=function(){return 0;},C$99e.fillWords=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){C$99n&&(this.font=C$99n),C$99r&&(this.fillStyle=C$99r),this.textBaseline="top",this.textAlign="left";for(var C$99a=0,C$99u=C$99t.length;C$99a<C$99u;C$99a++){var C$99o=C$99t[C$99a];var C$99h,C$99l;this.__fillText(C$99o.char,C$99o.x+C$99e,C$99o.y+C$99i),1===C$99s&&(C$99h=C$99o.height,C$99l=(C$99l=.5*C$99o.style.letterSpacing)||0,this.beginPath(),this.strokeStyle=C$99r,this.lineWidth=1,this.moveTo(C$99e+C$99o.x-C$99l+.5,C$99i+C$99o.y+C$99h+.5),this.lineTo(C$99e+C$99o.x+C$99o.width+C$99l+.5,C$99i+C$99o.y+C$99h+.5),this.stroke());}},C$99e.fillBorderWords=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){C$99n&&(this.font=C$99n),C$99r&&(this.fillStyle=C$99r),this.textBaseline="top",this.lineWidth=C$99a,this.textAlign="left",this.strokeStyle=C$99s;for(var C$99o=0,C$99h=C$99t.length;C$99o<C$99h;C$99o++){var C$99l=C$99t[C$99o];this.__strokeText(C$99l.char,C$99l.x+C$99e,C$99l.y+C$99i),this.__fillText(C$99l.char,C$99l.x+C$99e,C$99l.y+C$99i);}},C$99e.destroy=function(){this.canvas.width=this.canvas.height=0;},C$99e.clear=function(){this.clearRect(0,0,this._canvas.width,this._canvas.height),this._repaint=!1;},C$99e.drawCurves=function(C$99t,C$99e,C$99i){this.beginPath(),this.strokeStyle=C$99i[3],this.lineWidth=C$99i[4];var C$99n=C$99i[2];C$99t+=C$99i[0],C$99e+=C$99i[1],this.moveTo(C$99t+C$99n[0],C$99e+C$99n[1]);for(var C$99r=2,C$99s=C$99n.length;C$99r<C$99s;)this.quadraticCurveTo(C$99t+C$99n[C$99r++],C$99e+C$99n[C$99r++],C$99t+C$99n[C$99r++],C$99e+C$99n[C$99r++]);this.stroke();},e$B.__init__=function(C$99e){var C$99i=laya.resource.Context.prototype;(C$99e=C$99e||CanvasRenderingContext2D.prototype).inited||(C$99e.inited=!0,C$99e.__fillText=C$99e.fillText,C$99e.__fillRect=C$99e.fillRect,C$99e.__strokeText=C$99e.strokeText,["drawTextures","drawTriangle","fillWords","fillBorderWords","setIsMainContext","fillRect","strokeText","fillTexture","fillText","transformByMatrix","setTransformByMatrix","clipRect","drawTexture","drawTexture2","drawTextureWithTransform","flush","clear","destroy","drawCanvas","fillBorderText","drawCurves"].forEach(function(C$99t){C$99e[C$99t]=C$99i[C$99t];}));},e$B.replaceCanvasGetSet=function(C$99t,C$99e){var C$99i=Object.getOwnPropertyDescriptor(C$99t,C$99e);if(!C$99i||!C$99i.configurable)return!1;var C$99n,C$99r={};for(C$99n in C$99i)"set"!=C$99n&&(C$99r[C$99n]=C$99i[C$99n]);var C$99s=C$99i.set;return C$99r.set=function(C$99t){C$99s.call(this,C$99t);C$99t=this.getContext("2d");C$99t&&"__reset"in C$99t&&C$99t.__reset();},Object.defineProperty(C$99t,C$99e,C$99r),!0;},e$B.replaceGetSet=function(C$99t,C$99e){var C$99i=Object.getOwnPropertyDescriptor(C$99t,C$99e);if(!C$99i||!C$99i.configurable)return!1;var C$99n,C$99r={};for(C$99n in C$99i)"set"!=C$99n&&(C$99r[C$99n]=C$99i[C$99n]);var C$99s=C$99i.set,C$99a="___"+C$99e+"__";return e$B.newKeys.push(C$99a),C$99r.set=function(C$99t){C$99t!=this[C$99a]&&(this[C$99a]=C$99t,C$99s.call(this,C$99t));},Object.defineProperty(C$99t,C$99e,C$99r),!0;},e$B._default=new e$B(),e$B.newKeys=[],C$99a(e$B,["replaceKeys",function(){return this.replaceKeys=["font","fillStyle","textBaseline"];}]),e$B),C$99V=function(){function e$i(C$99t){this._id=0,this._name=null,this._resources=null,this._memorySize=0,this._garbageCollectionRate=NaN,this._isOverflow=!1,this.autoRelease=!1,this.autoReleaseMaxSize=0,this._id=++e$i._uniqueIDCounter,this._name=C$99t||"Content Manager",e$i._isResourceManagersSorted=!1,this._memorySize=0,this._isOverflow=!1,this.autoRelease=!1,this.autoReleaseMaxSize=536870912,this._garbageCollectionRate=.2,e$i._resourceManagers.push(this),this._resources=[],this._records={};}C$99i(e$i,"laya.resource.ResourceManager");var C$99t=e$i.prototype;return C$99y.imps(C$99t,{"laya.resource.IDispose":!0}),C$99t.getResourceByIndex=function(C$99t){return this._resources[C$99t];},C$99t.getResourcesLength=function(){return this._resources.length;},C$99t.addResource=function(C$99t){return C$99t.resourceManager&&C$99t.resourceManager.removeResource(C$99t),-1===this._resources.indexOf(C$99t)&&((C$99t._resourceManager=this)._resources.push(C$99t),this.addRecord(C$99t.uri,C$99t.__className,C$99t.memorySize),this.addSize(C$99t.memorySize),!0);},C$99t.removeResource=function(C$99t){var C$99e=this._resources.indexOf(C$99t);return-1!==C$99e&&(this._resources.splice(C$99e,1),C$99t._resourceManager=null,this._memorySize-=C$99t.memorySize,this.addRecord(C$99t.uri,C$99t.__className,-C$99t.memorySize),!0);},C$99t.unload=function(){for(var C$99t=this._resources.slice(0,this._resources.length),C$99e=0;C$99e<C$99t.length;C$99e++)C$99t[C$99e].destroy();C$99t.length=0;},C$99t.dispose=function(){if(this===e$i._systemResourceManager)throw new Error("systemResourceManager\u4e0d\u80fd\u88ab\u91ca\u653e\uff01");e$i._resourceManagers.splice(e$i._resourceManagers.indexOf(this),1),e$i._isResourceManagersSorted=!1;for(var C$99t=this._resources.slice(0,this._resources.length),C$99e=0;C$99e<C$99t.length;C$99e++){var C$99i=C$99t[C$99e];C$99i.resourceManager.removeResource(C$99i),C$99i.destroy();}C$99t.length=0;},C$99t.addSize=function(C$99t){C$99t&&(this.autoRelease&&0<C$99t&&this._memorySize+C$99t>this.autoReleaseMaxSize&&this.garbageCollection((1-this._garbageCollectionRate)*this.autoReleaseMaxSize),this._memorySize+=C$99t);},C$99t.addRecord=function(C$99t,C$99e,C$99i){},C$99t.garbageCollection=function(C$99t){var C$99e=this._resources;(C$99e=C$99e.slice()).sort(function(C$99t,C$99e){if(!C$99t||!C$99e)throw new Error("a\u6216b\u4e0d\u80fd\u4e3a\u7a7a\uff01");return C$99t.released&&C$99e.released?0:C$99t.released?1:C$99e.released?-1:C$99t._lastUseFrameCount-C$99e._lastUseFrameCount;});for(var C$99i=C$99j.loopCount,C$99n=0,C$99r=C$99e.length;C$99n<C$99r;C$99n++){var C$99s=C$99e[C$99n];if(!(1<C$99i-C$99s._lastUseFrameCount))return void(this._memorySize>=C$99t&&(this._isOverflow=!0));if(C$99s.releaseResource(),this._memorySize<C$99t)return void(this._isOverflow=!1);}},C$99n(0,C$99t,"id",function(){return this._id;}),C$99n(0,C$99t,"name",function(){return this._name;},function(C$99t){!C$99t&&""===C$99t||this._name===C$99t||(this._name=C$99t,e$i._isResourceManagersSorted=!1);}),C$99n(0,C$99t,"memorySize",function(){return this._memorySize;}),C$99n(0,C$99t,"records",function(){return this._records;}),C$99n(1,e$i,"systemResourceManager",function(){return e$i._systemResourceManager;}),e$i.__init__=function(){e$i.currentResourceManager=e$i.systemResourceManager;},e$i.getLoadedResourceManagerByIndex=function(C$99t){return e$i._resourceManagers[C$99t];},e$i.getLoadedResourceManagersCount=function(){return e$i._resourceManagers.length;},e$i.recreateContentManagers=function(C$99t){void 0===C$99t&&(C$99t=!1);for(var C$99e=e$i.currentResourceManager,C$99i=0;C$99i<e$i._resourceManagers.length;C$99i++){e$i.currentResourceManager=e$i._resourceManagers[C$99i];for(var C$99n=0;C$99n<e$i.currentResourceManager._resources.length;C$99n++)e$i.currentResourceManager._resources[C$99n].releaseResource(C$99t),e$i.currentResourceManager._resources[C$99n].activeResource(C$99t);}e$i.currentResourceManager=C$99e;},e$i.releaseContentManagers=function(C$99t){void 0===C$99t&&(C$99t=!1);for(var C$99e=e$i.currentResourceManager,C$99i=0;C$99i<e$i._resourceManagers.length;C$99i++){e$i.currentResourceManager=e$i._resourceManagers[C$99i];for(var C$99n=0;C$99n<e$i.currentResourceManager._resources.length;C$99n++){var C$99r=e$i.currentResourceManager._resources[C$99n];C$99r.released||C$99r.releaseResource(C$99t);}}e$i.currentResourceManager=C$99e;},e$i._uniqueIDCounter=0,e$i._isResourceManagersSorted=!1,e$i._resourceManagers=[],C$99a(e$i,["_systemResourceManager",function(){return this._systemResourceManager=new e$i("System Resource Manager");},"currentResourceManager",function(){return this.currentResourceManager=e$i._systemResourceManager;}]),e$i;}(),C$99S=(function(){function e$d(){}C$99i(e$d,"laya.system.System"),e$d.changeDefinition=function(C$99t,C$99e){C$99y[C$99t]=C$99e,C$99y._runScript(C$99t+"=classObj");},e$d.__init__=function(){C$99T.isConchApp&&(conch.disableConchResManager(),conch.disableConchAutoRestoreLostedDevice());};}(),function(){function e$l(){}return C$99i(e$l,"laya.utils.Browser"),C$99n(1,e$l,"pixelRatio",function(){return e$l.__init__(),-1<e$l.userAgent.indexOf("Mozilla/6.0(Linux; Android 6.0; HUAWEI NXT-AL10 Build/HUAWEINXT-AL10)")?2:C$99m.getPixelRatio();}),C$99n(1,e$l,"height",function(){return e$l.__init__(),(C$99y.stage&&C$99y.stage.canvasRotation?e$l.clientWidth:e$l.clientHeight)*e$l.pixelRatio;}),C$99n(1,e$l,"clientWidth",function(){return e$l.__init__(),e$l.window.innerWidth||e$l.document.body.clientWidth;}),C$99n(1,e$l,"window",function(){return e$l.__init__(),e$l._window;}),C$99n(1,e$l,"clientHeight",function(){return e$l.__init__(),e$l.window.innerHeight||e$l.document.body.clientHeight||e$l.document.documentElement.clientHeight;}),C$99n(1,e$l,"width",function(){return e$l.__init__(),(C$99y.stage&&C$99y.stage.canvasRotation?e$l.clientHeight:e$l.clientWidth)*e$l.pixelRatio;}),C$99n(1,e$l,"container",function(){return e$l.__init__(),e$l._container||((e$l._container=e$l.createElement("div")).id="layaContainer",e$l.document.body.appendChild(e$l._container)),e$l._container;},function(C$99t){e$l._container=C$99t;}),C$99n(1,e$l,"document",function(){return e$l.__init__(),e$l._document;}),e$l.__init__=function(){var C$99t;e$l._window||(e$l._window=C$99m.getWindow(),e$l._document=e$l.window.document,e$l._window.addEventListener("message",function(C$99t){laya.utils.Browser._onMessage(C$99t);},!1),e$l.document.__createElement=e$l.document.createElement,C$99s.requestAnimationFrame=C$99s.requestAnimationFrame||C$99s.webkitRequestAnimationFrame||C$99s.mozRequestAnimationFrame||C$99s.oRequestAnimationFrame||C$99s.msRequestAnimationFrame||function(C$99t){return C$99s.setTimeout(C$99t,1e3/60);},(C$99t=C$99s.document.body.style)["-webkit-user-select"]="none",C$99t["-webkit-tap-highlight-color"]="rgba(200,200,200,0)",e$l.userAgent=e$l.window.navigator.userAgent,e$l.onIOS=!!(e$l.u=e$l.userAgent).match(/\(i[^;]+;(U;)? CPU.+Mac OS X/),e$l.onMobile=-1<e$l.u.indexOf("Mobile"),e$l.onIPhone=-1<e$l.u.indexOf("iPhone"),e$l.onMac=-1<e$l.u.indexOf("Mac OS X"),e$l.onIPad=-1<e$l.u.indexOf("iPad"),e$l.onAndroid=-1<e$l.u.indexOf("Android")||-1<e$l.u.indexOf("Adr"),e$l.onWP=-1<e$l.u.indexOf("Windows Phone"),e$l.onQQBrowser=-1<e$l.u.indexOf("QQBrowser"),e$l.onMQQBrowser=-1<e$l.u.indexOf("MQQBrowser")||-1<e$l.u.indexOf("Mobile")&&-1<e$l.u.indexOf("QQ"),e$l.onIE=!!e$l.window.ActiveXObject||"ActiveXObject"in e$l.window,e$l.onWeiXin=-1<e$l.u.indexOf("MicroMessenger"),e$l.onPC=!e$l.onMobile,e$l.onSafari=-1<e$l.u.indexOf("Safari"),e$l.onFirefox=-1<e$l.u.indexOf("Firefox"),e$l.onEdge=-1<e$l.u.indexOf("Edge"),e$l.onMiniGame=-1<e$l.u.indexOf("MiniGame"),e$l.onLimixiu=-1<e$l.u.indexOf("limixiu"),e$l.httpProtocol="http:"==e$l.window.location.protocol,e$l.onMiniGame&&null==e$l.window.focus&&console.error("\u8bf7\u5148\u521d\u59cb\u5316\u5c0f\u6e38\u620f\u9002\u914d\u5e93\uff0c\u8be6\u7ec6\u6559\u7a0bhttps://ldc.layabox.com/doc/?nav=zh-ts-5-0-0"),e$l.webAudioEnabled=!!(e$l.window.AudioContext||e$l.window.webkitAudioContext||e$l.window.mozAudioContext),e$l.soundType=e$l.webAudioEnabled?"WEBAUDIOSOUND":"AUDIOSOUND",C$99st=e$l.webAudioEnabled?C$99at:C$99nt,e$l.webAudioEnabled&&C$99at.initWebAudio(),C$99nt._initMusicAudio(),e$l.enableTouch="ontouchstart"in C$99s||C$99s.DocumentTouch&&C$99r instanceof DocumentTouch,C$99s.focus(),C$99R._soundClass=C$99st,C$99R._musicClass=C$99nt,C$99T._mainCanvas=C$99T._mainCanvas||C$99$t.create("2D"),e$l.canvas||(e$l.canvas=C$99$t.create("2D"),e$l.context=e$l.canvas.getContext("2d")));},e$l._onMessage=function(C$99t){C$99t.data&&"size"==C$99t.data.name&&(e$l.window.innerWidth=C$99t.data.width,e$l.window.innerHeight=C$99t.data.height,e$l.window.__innerHeight=C$99t.data.clientHeight,e$l.document.createEvent?((C$99t=e$l.document.createEvent("HTMLEvents")).initEvent("resize",!1,!1),e$l.window.dispatchEvent(C$99t)):console.warn("no document.createEvent"));},e$l.createElement=function(C$99t){return e$l.__init__(),e$l.document.__createElement(C$99t);},e$l.getElementById=function(C$99t){return e$l.__init__(),e$l.document.getElementById(C$99t);},e$l.removeElement=function(C$99t){C$99t&&C$99t.parentNode&&C$99t.parentNode.removeChild(C$99t);},e$l.now=function(){return C$99m.now();},e$l._window=null,e$l._document=null,e$l._container=null,e$l.userAgent=null,e$l.u=null,e$l.onIOS=!1,e$l.onMac=!1,e$l.onMobile=!1,e$l.onIPhone=!1,e$l.onIPad=!1,e$l.onAndroid=!1,e$l.onWP=!1,e$l.onQQBrowser=!1,e$l.onMQQBrowser=!1,e$l.onSafari=!1,e$l.onFirefox=!1,e$l.onEdge=!1,e$l.onIE=!1,e$l.onWeiXin=!1,e$l.onMiniGame=!1,e$l.onLimixiu=!1,e$l.onPC=!1,e$l.httpProtocol=!1,e$l.webAudioEnabled=!1,e$l.soundType=null,e$l.enableTouch=!1,e$l.canvas=null,e$l.context=null,e$l.__init$=function(){},e$l;}()),C$99F=function(){function e$t(C$99t){this._xd_=!0,this._allocated_=8,this._pos_=0,this._length=0,C$99t?(this._u8d_=new Uint8Array(C$99t),this._d_=new DataView(this._u8d_.buffer),this._length=this._d_.byteLength):this.___resizeBuffer(this._allocated_);}C$99i(e$t,"laya.utils.Byte");var C$99t=e$t.prototype;return C$99t.___resizeBuffer=function(C$99t){try{var C$99e=new Uint8Array(C$99t);null!=this._u8d_&&(this._u8d_.length<=C$99t?C$99e.set(this._u8d_):C$99e.set(this._u8d_.subarray(0,C$99t))),this._u8d_=C$99e,this._d_=new DataView(C$99e.buffer);}catch(C$99e){throw"___resizeBuffer err:"+C$99t;}},C$99t.getString=function(){return this.rUTF(this.getUint16());},C$99t.getFloat32Array=function(C$99t,C$99e){C$99e=C$99t+C$99e;C$99e=C$99e>this._length?this._length:C$99e;C$99t=new Float32Array(this._d_.buffer.slice(C$99t,C$99e));return this._pos_=C$99e,C$99t;},C$99t.getUint8Array=function(C$99t,C$99e){C$99e=C$99t+C$99e;C$99e=C$99e>this._length?this._length:C$99e;C$99t=new Uint8Array(this._d_.buffer.slice(C$99t,C$99e));return this._pos_=C$99e,C$99t;},C$99t.getInt16Array=function(C$99t,C$99e){C$99e=C$99t+C$99e;C$99e=C$99e>this._length?this._length:C$99e;C$99t=new Int16Array(this._d_.buffer.slice(C$99t,C$99e));return this._pos_=C$99e,C$99t;},C$99t.getFloat32=function(){if(this._pos_+4>this._length)throw"getFloat32 error - Out of bounds";var C$99t=this._d_.getFloat32(this._pos_,this._xd_);return this._pos_+=4,C$99t;},C$99t.getFloat64=function(){if(this._pos_+8>this._length)throw"getFloat64 error - Out of bounds";var C$99t=this._d_.getFloat64(this._pos_,this._xd_);return this._pos_+=8,C$99t;},C$99t.writeFloat32=function(C$99t){this.ensureWrite(this._pos_+4),this._d_.setFloat32(this._pos_,C$99t,this._xd_),this._pos_+=4;},C$99t.writeFloat64=function(C$99t){this.ensureWrite(this._pos_+8),this._d_.setFloat64(this._pos_,C$99t,this._xd_),this._pos_+=8;},C$99t.getInt32=function(){if(this._pos_+4>this._length)throw"getInt32 error - Out of bounds";var C$99t=this._d_.getInt32(this._pos_,this._xd_);return this._pos_+=4,C$99t;},C$99t.getUint32=function(){if(this._pos_+4>this._length)throw"getUint32 error - Out of bounds";var C$99t=this._d_.getUint32(this._pos_,this._xd_);return this._pos_+=4,C$99t;},C$99t.writeInt32=function(C$99t){this.ensureWrite(this._pos_+4),this._d_.setInt32(this._pos_,C$99t,this._xd_),this._pos_+=4;},C$99t.writeUint32=function(C$99t){this.ensureWrite(this._pos_+4),this._d_.setUint32(this._pos_,C$99t,this._xd_),this._pos_+=4;},C$99t.getInt16=function(){if(this._pos_+2>this._length)throw"getInt16 error - Out of bounds";var C$99t=this._d_.getInt16(this._pos_,this._xd_);return this._pos_+=2,C$99t;},C$99t.getUint16=function(){if(this._pos_+2>this._length)throw"getUint16 error - Out of bounds";var C$99t=this._d_.getUint16(this._pos_,this._xd_);return this._pos_+=2,C$99t;},C$99t.writeUint16=function(C$99t){this.ensureWrite(this._pos_+2),this._d_.setUint16(this._pos_,C$99t,this._xd_),this._pos_+=2;},C$99t.writeInt16=function(C$99t){this.ensureWrite(this._pos_+2),this._d_.setInt16(this._pos_,C$99t,this._xd_),this._pos_+=2;},C$99t.getUint8=function(){if(this._pos_+1>this._length)throw"getUint8 error - Out of bounds";return this._d_.getUint8(this._pos_++);},C$99t.writeUint8=function(C$99t){this.ensureWrite(this._pos_+1),this._d_.setUint8(this._pos_,C$99t),this._pos_++;},C$99t._getUInt8=function(C$99t){return this._d_.getUint8(C$99t);},C$99t._getUint16=function(C$99t){return this._d_.getUint16(C$99t,this._xd_);},C$99t._getMatrix=function(){return new C$99I(this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32());},C$99t.rUTF=function(C$99t){for(var C$99e,C$99i,C$99n=[],C$99r=this._pos_+C$99t,C$99s=0,C$99a=String.fromCharCode,C$99o=this._u8d_;this._pos_<C$99r;)(C$99e=C$99o[this._pos_++])<128?0!=C$99e&&C$99n.push(C$99a(C$99e)):C$99e<224?C$99n.push(C$99a((63&C$99e)<<6|127&C$99o[this._pos_++])):C$99e<240?(C$99s=C$99o[this._pos_++],C$99n.push(C$99a((31&C$99e)<<12|(127&C$99s)<<6|127&C$99o[this._pos_++]))):(C$99s=C$99o[this._pos_++],C$99i=C$99o[this._pos_++],C$99n.push(C$99a((15&C$99e)<<18|(127&C$99s)<<12|C$99i<<6&127|127&C$99o[this._pos_++])));return C$99n.join("");},C$99t.getCustomString=function(C$99t){for(var C$99e,C$99i=[],C$99n=0,C$99r=0,C$99s=String.fromCharCode,C$99a=this._u8d_;0<C$99t;)if((C$99r=C$99a[this._pos_])<128)C$99i.push(C$99s(C$99r)),this._pos_++,C$99t--;else for(C$99n=C$99r-128,this._pos_++,C$99t-=C$99n;0<C$99n;)C$99r=C$99a[this._pos_++],C$99e=C$99a[this._pos_++],C$99i.push(C$99s(C$99e<<8|C$99r)),C$99n--;return C$99i.join("");},C$99t.clear=function(){this._pos_=0,this.length=0;},C$99t.__getBuffer=function(){return this._d_.buffer;},C$99t.writeUTFBytes=function(C$99t){for(var C$99e=0,C$99i=(C$99t+="").length;C$99e<C$99i;C$99e++){var C$99n=C$99t.charCodeAt(C$99e);C$99n<=127?this.writeByte(C$99n):C$99n<=2047?(this.ensureWrite(this._pos_+2),this._u8d_.set([192|C$99n>>6,128|63&C$99n],this._pos_),this._pos_+=2):C$99n<=65535?(this.ensureWrite(this._pos_+3),this._u8d_.set([224|C$99n>>12,128|C$99n>>6&63,128|63&C$99n],this._pos_),this._pos_+=3):(this.ensureWrite(this._pos_+4),this._u8d_.set([240|C$99n>>18,128|C$99n>>12&63,128|C$99n>>6&63,128|63&C$99n],this._pos_),this._pos_+=4);}},C$99t.writeUTFString=function(C$99t){var C$99e=this.pos;this.writeUint16(1),this.writeUTFBytes(C$99t);C$99t=this.pos-C$99e-2;if(65536<=C$99t)throw"writeUTFString byte len more than 65536";this._d_.setUint16(C$99e,C$99t,this._xd_);},C$99t.readUTFString=function(){return this.readUTFBytes(this.getUint16());},C$99t.getUTFString=function(){return this.readUTFString();},C$99t.readUTFBytes=function(C$99t){if(0==(C$99t=void 0===C$99t?-1:C$99t))return"";var C$99e=this.bytesAvailable;if(C$99e<C$99t)throw"readUTFBytes error - Out of bounds";return this.rUTF(C$99t=0<C$99t?C$99t:C$99e);},C$99t.getUTFBytes=function(C$99t){return this.readUTFBytes(C$99t=void 0===C$99t?-1:C$99t);},C$99t.writeByte=function(C$99t){this.ensureWrite(this._pos_+1),this._d_.setInt8(this._pos_,C$99t),this._pos_+=1;},C$99t.readByte=function(){if(this._pos_+1>this._length)throw"readByte error - Out of bounds";return this._d_.getInt8(this._pos_++);},C$99t.getByte=function(){return this.readByte();},C$99t.ensureWrite=function(C$99t){this._length<C$99t&&(this._length=C$99t),this._allocated_<C$99t&&(this.length=C$99t);},C$99t.writeArrayBuffer=function(C$99t,C$99e,C$99i){if(void 0===C$99i&&(C$99i=0),(C$99e=void 0===C$99e?0:C$99e)<0||C$99i<0)throw"writeArrayBuffer error - Out of bounds";0==C$99i&&(C$99i=C$99t.byteLength-C$99e),this.ensureWrite(this._pos_+C$99i);C$99t=new Uint8Array(C$99t);this._u8d_.set(C$99t.subarray(C$99e,C$99e+C$99i),this._pos_),this._pos_+=C$99i;},C$99n(0,C$99t,"buffer",function(){var C$99t=this._d_.buffer;return C$99t.byteLength==this.length?C$99t:C$99t.slice(0,this.length);}),C$99n(0,C$99t,"endian",function(){return this._xd_?"littleEndian":"bigEndian";},function(C$99t){this._xd_="littleEndian"==C$99t;}),C$99n(0,C$99t,"length",function(){return this._length;},function(C$99t){this._allocated_<C$99t?this.___resizeBuffer(this._allocated_=Math.floor(Math.max(C$99t,2*this._allocated_))):this._allocated_>C$99t&&this.___resizeBuffer(this._allocated_=C$99t),this._length=C$99t;}),C$99n(0,C$99t,"pos",function(){return this._pos_;},function(C$99t){this._pos_=C$99t;}),C$99n(0,C$99t,"bytesAvailable",function(){return this._length-this._pos_;}),e$t.getSystemEndian=function(){var C$99t;return e$t._sysEndian||(C$99t=new ArrayBuffer(2),new DataView(C$99t).setInt16(0,256,!0),e$t._sysEndian=256===new Int16Array(C$99t)[0]?"littleEndian":"bigEndian"),e$t._sysEndian;},e$t.BIG_ENDIAN="bigEndian",e$t.LITTLE_ENDIAN="littleEndian",e$t._sysEndian=null,e$t;}(),C$99U=function(){function e$W(){}return C$99i(e$W,"laya.utils.CacheManager"),e$W.regCacheByFunction=function(C$99t,C$99e){e$W.unRegCacheByFunction(C$99t,C$99e),e$W._cacheList.push({tryDispose:C$99t,getCacheList:C$99e});},e$W.unRegCacheByFunction=function(C$99t,C$99e){var C$99i,C$99n=0;for(C$99i=e$W._cacheList.length,C$99n=0;C$99n<C$99i;C$99n++)if(e$W._cacheList[C$99n].tryDispose==C$99t&&e$W._cacheList[C$99n].getCacheList==C$99e)return void e$W._cacheList.splice(C$99n,1);},e$W.forceDispose=function(){var C$99t=0,C$99e=e$W._cacheList.length;for(C$99t=0;C$99t<C$99e;C$99t++)e$W._cacheList[C$99t].tryDispose(!0);},e$W.beginCheck=function(C$99t){C$99y.timer.loop(C$99t=void 0===C$99t?15e3:C$99t,null,e$W._checkLoop);},e$W.stopCheck=function(){C$99y.timer.clear(null,e$W._checkLoop);},e$W._checkLoop=function(){var C$99t=e$W._cacheList;if(!(C$99t.length<1)){var C$99e,C$99i=C$99S.now(),C$99n=0;for(C$99e=C$99n=C$99t.length;0<C$99n&&(C$99t[e$W._index=++e$W._index%C$99e].tryDispose(!1),!(C$99S.now()-C$99i>e$W.loopTimeLimit));)C$99n--;}},e$W.loopTimeLimit=2,e$W._cacheList=[],e$W._index=0,e$W;}(),C$99W=(C$99i(e$c,"laya.utils.ClassUtils"),e$c.regClass=function(C$99t,C$99e){e$c._classMap[C$99t]=C$99e;},e$c.getRegClass=function(C$99t){return e$c._classMap[C$99t];},e$c.getInstance=function(C$99t){var C$99e=e$c.getClass(C$99t);return C$99e?new C$99e():(console.warn("[error] Undefined class:",C$99t),null);},e$c.createByJson=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=(C$99t="string"==typeof C$99t?JSON.parse(C$99t):C$99t).props;if(!C$99e&&!(C$99e=C$99r?C$99r.runWith(C$99t):e$c.getInstance(C$99s.runtime||C$99t.type)))return null;var C$99u=C$99t.child;if(C$99u)for(var C$99c=0,C$99_=C$99u.length;C$99c<C$99_;C$99c++){var C$99a=C$99u[C$99c];var C$99o;"render"!==C$99a.props.name&&"render"!==C$99a.props.renderType||!C$99e._$set_itemRender?"Graphic"==C$99a.type?e$c.addGraphicsToSprite(C$99a,C$99e):e$c.isDrawType(C$99a.type)?e$c.addGraphicToSprite(C$99a,C$99e,!0):(C$99o=e$c.createByJson(C$99a,null,C$99i,C$99n,C$99r),"Script"==C$99a.type?C$99o.hasOwnProperty("owner")?C$99o.owner=C$99e:C$99o.hasOwnProperty("target")&&(C$99o.target=C$99e):"mask"==C$99a.props.renderType?C$99e.mask=C$99o:C$99e.addChild(C$99o)):C$99e.itemRender=C$99a;}if(C$99s)for(var C$99h in C$99s){var C$99l=C$99s[C$99h];"var"===C$99h&&C$99i?C$99i[C$99l]=C$99e:C$99l instanceof Array&&"function"==typeof C$99e[C$99h]?C$99e[C$99h].apply(C$99e,C$99l):C$99e[C$99h]=C$99l;}return C$99n&&C$99t.customProps&&C$99n.runWith([C$99e,C$99t]),C$99e.created&&C$99e.created(),C$99e;},e$c.addGraphicsToSprite=function(C$99t,C$99e){var C$99i;if((C$99i=C$99t.child)&&!(C$99i.length<1)){var C$99n;C$99n=e$c._getGraphicsFromSprite(C$99t,C$99e);var C$99e=0,C$99r=0;C$99t.props&&(C$99e=e$c._getObjVar(C$99t.props,"x",0),C$99r=e$c._getObjVar(C$99t.props,"y",0)),0!=C$99e&&0!=C$99r&&C$99n.translate(C$99e,C$99r);var C$99s,C$99a=0;for(C$99s=C$99i.length,C$99a=0;C$99a<C$99s;C$99a++)e$c._addGraphicToGraphics(C$99i[C$99a],C$99n);0!=C$99e&&0!=C$99r&&C$99n.translate(-C$99e,-C$99r);}},e$c.addGraphicToSprite=function(C$99t,C$99e,C$99i){C$99i=(C$99i=void 0===C$99i?!1:C$99i)?e$c._getGraphicsFromSprite(C$99t,C$99e):C$99e.graphics,e$c._addGraphicToGraphics(C$99t,C$99i);},e$c._getGraphicsFromSprite=function(C$99t,C$99e){var C$99i,C$99n;if(!C$99t||!C$99t.props)return C$99e.graphics;switch(C$99n=C$99t.props.renderType){case"hit":case"unHit":var C$99r;C$99e.hitArea||(C$99e.hitArea=new C$99Y()),(C$99r=C$99e.hitArea)[C$99n]||(C$99r[C$99n]=new C$99_()),C$99i=C$99r[C$99n];}return C$99i=C$99i||C$99e.graphics;},e$c._getTransformData=function(C$99t){var C$99e;(C$99t.hasOwnProperty("pivotX")||C$99t.hasOwnProperty("pivotY"))&&(C$99e=C$99e||new C$99I()).translate(-e$c._getObjVar(C$99t,"pivotX",0),-e$c._getObjVar(C$99t,"pivotY",0));var C$99i=e$c._getObjVar(C$99t,"scaleX",1),C$99n=e$c._getObjVar(C$99t,"scaleY",1),C$99r=e$c._getObjVar(C$99t,"rotation",0);return e$c._getObjVar(C$99t,"skewX",0),e$c._getObjVar(C$99t,"skewY",0),1==C$99i&&1==C$99n&&0==C$99r||((C$99e=C$99e||new C$99I()).scale(C$99i,C$99n),C$99e.rotate(.0174532922222222*C$99r)),C$99e;},e$c._addGraphicToGraphics=function(C$99t,C$99e){var C$99i;var C$99n;(C$99n=C$99t.props)&&(C$99i=e$c.DrawTypeDic[C$99t.type])&&(C$99t=C$99e,C$99e=e$c._getParams(C$99n,C$99i[1],C$99i[2],C$99i[3]),!(C$99n=e$c._tM)&&1==e$c._alpha||(C$99t.save(),C$99n&&C$99t.transform(C$99n),1!=e$c._alpha&&C$99t.alpha(e$c._alpha)),C$99t[C$99i[0]].apply(C$99t,C$99e),!C$99n&&1==e$c._alpha||C$99t.restore());},e$c._adptLineData=function(C$99t){return C$99t[2]=parseFloat(C$99t[0])+parseFloat(C$99t[2]),C$99t[3]=parseFloat(C$99t[1])+parseFloat(C$99t[3]),C$99t;},e$c._adptTextureData=function(C$99t){return C$99t[0]=C$99ht.getRes(C$99t[0]),C$99t;},e$c._adptLinesData=function(C$99t){return C$99t[2]=e$c._getPointListByStr(C$99t[2]),C$99t;},e$c.isDrawType=function(C$99t){return"Image"!=C$99t&&e$c.DrawTypeDic.hasOwnProperty(C$99t);},e$c._getParams=function(C$99t,C$99e,C$99i,C$99n){var C$99r;void 0===C$99i&&(C$99i=0),(C$99r=e$c._temParam).length=C$99e.length;var C$99s,C$99a,C$99o=0;for(C$99s=C$99e.length,C$99o=0;C$99o<C$99s;C$99o++)C$99r[C$99o]=e$c._getObjVar(C$99t,C$99e[C$99o][0],C$99e[C$99o][1]);return e$c._alpha=e$c._getObjVar(C$99t,"alpha",1),C$99a=e$c._getTransformData(C$99t),e$c._tM=C$99a?(C$99a.translate(C$99r[C$99i=C$99i||0],C$99r[C$99i+1]),C$99r[C$99i]=C$99r[C$99i+1]=0,C$99a):null,C$99r=C$99n&&e$c[C$99n]?e$c[C$99n](C$99r):C$99r;},e$c._getPointListByStr=function(C$99t){var C$99e,C$99i,C$99n=0;for(C$99i=(C$99e=C$99t.split(",")).length,C$99n=0;C$99n<C$99i;C$99n++)C$99e[C$99n]=parseFloat(C$99e[C$99n]);return C$99e;},e$c._getObjVar=function(C$99t,C$99e,C$99i){return C$99t.hasOwnProperty(C$99e)?C$99t[C$99e]:C$99i;},e$c._temParam=[],e$c._classMap={Sprite:"laya.display.Sprite",Text:"laya.display.Text",Animation:"laya.display.Animation",Skeleton:"laya.ani.bone.Skeleton",Particle2D:"laya.particle.Particle2D",div:"laya.html.dom.HTMLDivElement",p:"laya.html.dom.HTMLElement",img:"laya.html.dom.HTMLImageElement",span:"laya.html.dom.HTMLElement",br:"laya.html.dom.HTMLBrElement",style:"laya.html.dom.HTMLStyleElement",font:"laya.html.dom.HTMLElement",a:"laya.html.dom.HTMLElement","#text":"laya.html.dom.HTMLElement"},e$c.getClass=function(C$99t){C$99t=e$c._classMap[C$99t]||C$99t;return"string"==typeof C$99t?C$99y.__classmap[C$99t]:C$99t;},e$c._tM=null,e$c._alpha=NaN,C$99a(e$c,["DrawTypeDic",function(){return this.DrawTypeDic={Rect:["drawRect",[["x",0],["y",0],["width",0],["height",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Circle:["drawCircle",[["x",0],["y",0],["radius",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Pie:["drawPie",[["x",0],["y",0],["radius",0],["startAngle",0],["endAngle",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Image:["drawTexture",[["x",0],["y",0],["width",0],["height",0]]],Texture:["drawTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0]],1,"_adptTextureData"],FillTexture:["fillTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0],["repeat",null]],1,"_adptTextureData"],FillText:["fillText",[["text",""],["x",0],["y",0],["font",null],["color",null],["textAlign",null]],1],Line:["drawLine",[["x",0],["y",0],["toX",0],["toY",0],["lineColor",null],["lineWidth",0]],0,"_adptLineData"],Lines:["drawLines",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],Curves:["drawCurves",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],Poly:["drawPoly",[["x",0],["y",0],["points",""],["fillColor",null],["lineColor",null],["lineWidth",1]],0,"_adptLinesData"]};}]),e$c),C$99H=function(){function e$i(C$99t){if(this._color=[],"string"==typeof C$99t){var C$99e=(C$99t="#"==(C$99t=null===(this.strColor=C$99t)?"#000000":C$99t).charAt(0)?C$99t.substr(1):C$99t).length;if(3==C$99e||4==C$99e){for(var C$99i="",C$99n=0;C$99n<C$99e;C$99n++)C$99i+=C$99t[C$99n]+C$99t[C$99n];C$99t=C$99i;}var C$99r=this.numColor=parseInt(C$99t,16);if(8==C$99t.length)return void(this._color=[parseInt(C$99t.substr(0,2),16)/255,((16711680&C$99r)>>16)/255,((65280&C$99r)>>8)/255,(255&C$99r)/255]);}else C$99r=this.numColor=C$99t,this.strColor=C$99Z.toHexColor(C$99r);this._color=[((16711680&C$99r)>>16)/255,((65280&C$99r)>>8)/255,(255&C$99r)/255,1],this._color.__id=++e$i._COLODID;}return C$99i(e$i,"laya.utils.Color"),e$i._initDefault=function(){for(var C$99t in e$i._DEFAULT={},e$i._COLOR_MAP)e$i._SAVE[C$99t]=e$i._DEFAULT[C$99t]=new e$i(e$i._COLOR_MAP[C$99t]);return e$i._DEFAULT;},e$i._initSaveMap=function(){for(var C$99t in e$i._SAVE_SIZE=0,e$i._SAVE={},e$i._DEFAULT)e$i._SAVE[C$99t]=e$i._DEFAULT[C$99t];},e$i.create=function(C$99t){var C$99e=e$i._SAVE[C$99t+""];return null!=C$99e?C$99e:(e$i._SAVE_SIZE<1e3||e$i._initSaveMap(),e$i._SAVE[C$99t+""]=new e$i(C$99t));},e$i._SAVE={},e$i._SAVE_SIZE=0,e$i._COLOR_MAP={white:"#FFFFFF",red:"#FF0000",green:"#00FF00",blue:"#0000FF",black:"#000000",yellow:"#FFFF00",gray:"#AAAAAA"},e$i._DEFAULT=e$i._initDefault(),e$i._COLODID=1,e$i;}(),C$99G=(function(){function e$d(){this._values=[],this._keys=[];}C$99i(e$d,"laya.utils.Dictionary");var C$99t=e$d.prototype;C$99t.set=function(C$99t,C$99e){var C$99i=this.indexOf(C$99t);0<=C$99i?this._values[C$99i]=C$99e:(this._keys.push(C$99t),this._values.push(C$99e));},C$99t.indexOf=function(C$99t){var C$99e=this._keys.indexOf(C$99t);return 0<=C$99e?C$99e:(C$99t="string"==typeof C$99t?Number(C$99t):"number"==typeof C$99t?C$99t.toString():C$99t,this._keys.indexOf(C$99t));},C$99t.get=function(C$99t){C$99t=this.indexOf(C$99t);return C$99t<0?null:this._values[C$99t];},C$99t.remove=function(C$99t){C$99t=this.indexOf(C$99t);return 0<=C$99t&&(this._keys.splice(C$99t,1),this._values.splice(C$99t,1),!0);},C$99t.clear=function(){this._values.length=0,this._keys.length=0;},C$99n(0,C$99t,"values",function(){return this._values;}),C$99n(0,C$99t,"keys",function(){return this._keys;});}(),function(){function e$d(){this.ratio=.92,this.maxOffset=60,this._dragging=!1,this._clickOnly=!0;}C$99i(e$d,"laya.utils.Dragging");var C$99t=e$d.prototype;return C$99t.start=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){void 0===C$99o&&(C$99o=.92),this.clearTimer(),this.target=C$99t,this.area=C$99e,this.hasInertia=C$99i,this.elasticDistance=C$99e?C$99n:0,this.elasticBackTime=C$99r,this.data=C$99s,this._disableMouseEvent=C$99a,this.ratio=C$99o,1!=C$99t.globalScaleX||1!=C$99t.globalScaleY?this._parent=C$99t.parent:this._parent=C$99y.stage,this._clickOnly=!0,this._dragging=!0,this._elasticRateX=this._elasticRateY=1,this._lastX=this._parent.mouseX,this._lastY=this._parent.mouseY,C$99y.stage.on("mouseup",this,this.onStageMouseUp),C$99y.stage.on("mouseout",this,this.onStageMouseUp),C$99y.timer.frameLoop(1,this,this.loop);},C$99t.clearTimer=function(){C$99y.timer.clear(this,this.loop),C$99y.timer.clear(this,this.tweenMove),this._tween&&(this._tween.recover(),this._tween=null);},C$99t.stop=function(){this._dragging&&(C$99$.instance.disableMouseEvent=!1,C$99y.stage.off("mouseup",this,this.onStageMouseUp),C$99y.stage.off("mouseout",this,this.onStageMouseUp),this._dragging=!1,this.target&&this.area&&this.backToArea(),this.clear());},C$99t.loop=function(){var C$99t=this._parent.getMousePoint(),C$99e=C$99t.x,C$99t=C$99t.y,C$99i=C$99e-this._lastX,C$99n=C$99t-this._lastY;if(this._clickOnly){if(!(1<Math.abs(C$99i*C$99y.stage._canvasTransform.getScaleX())||1<Math.abs(C$99n*C$99y.stage._canvasTransform.getScaleY())))return;this._clickOnly=!1,this._offsets||(this._offsets=[]),this._offsets.length=0,this.target.event("dragstart",this.data),C$99$.instance.disableMouseEvent=this._disableMouseEvent,this.target._set$P("$_MOUSEDOWN",!1);}else this._offsets.push(C$99i,C$99n);0==C$99i&&0==C$99n||(this._lastX=C$99e,this._lastY=C$99t,this.target.x+=C$99i*this._elasticRateX,this.target.y+=C$99n*this._elasticRateY,this.area&&this.checkArea(),this.target.event("dragmove",this.data));},C$99t.checkArea=function(){var C$99t;this.elasticDistance<=0?this.backToArea():(C$99t=this.target.x<this.area.x?this.area.x-this.target.x:this.target.x>this.area.x+this.area.width?this.target.x-this.area.x-this.area.width:0,this._elasticRateX=Math.max(0,1-C$99t/this.elasticDistance),C$99t=this.target.y<this.area.y?this.area.y-this.target.y:this.target.y>this.area.y+this.area.height?this.target.y-this.area.y-this.area.height:0,this._elasticRateY=Math.max(0,1-C$99t/this.elasticDistance));},C$99t.backToArea=function(){this.target.x=Math.min(Math.max(this.target.x,this.area.x),this.area.x+this.area.width),this.target.y=Math.min(Math.max(this.target.y,this.area.y),this.area.y+this.area.height);},C$99t.onStageMouseUp=function(C$99t){if(C$99$.instance.disableMouseEvent=!1,C$99y.stage.off("mouseup",this,this.onStageMouseUp),C$99y.stage.off("mouseout",this,this.onStageMouseUp),C$99y.timer.clear(this,this.loop),!this._clickOnly&&this.target)if(this.hasInertia){this._offsets.length<1&&this._offsets.push(this._parent.mouseX-this._lastX,this._parent.mouseY-this._lastY),this._offsetX=this._offsetY=0;for(var C$99e=this._offsets.length,C$99i=Math.min(C$99e,6),C$99n=this._offsets.length-C$99i,C$99r=C$99e-1;C$99n<C$99r;C$99r--)this._offsetY+=this._offsets[C$99r--],this._offsetX+=this._offsets[C$99r];this._offsetX=this._offsetX/C$99i*2,this._offsetY=this._offsetY/C$99i*2,Math.abs(this._offsetX)>this.maxOffset&&(this._offsetX=0<this._offsetX?this.maxOffset:-this.maxOffset),Math.abs(this._offsetY)>this.maxOffset&&(this._offsetY=0<this._offsetY?this.maxOffset:-this.maxOffset),C$99y.timer.frameLoop(1,this,this.tweenMove);}else 0<this.elasticDistance?this.checkElastic():this.clear();},C$99t.checkElastic=function(){var C$99t=NaN,C$99e=NaN;var C$99i;this.target.x<this.area.x?C$99t=this.area.x:this.target.x>this.area.x+this.area.width&&(C$99t=this.area.x+this.area.width),this.target.y<this.area.y?C$99e=this.area.y:this.target.y>this.area.y+this.area.height&&(C$99e=this.area.y+this.area.height),isNaN(C$99t)&&isNaN(C$99e)?this.clear():(C$99i={},isNaN(C$99t)||(C$99i.x=C$99t),isNaN(C$99e)||(C$99i.y=C$99e),this._tween=C$99q.to(this.target,C$99i,this.elasticBackTime,C$99z.sineOut,C$99g.create(this,this.clear),0,!1,!1));},C$99t.tweenMove=function(){this._offsetX*=this.ratio*this._elasticRateX,this._offsetY*=this.ratio*this._elasticRateY,this.target.x+=this._offsetX,this.target.y+=this._offsetY,this.area&&this.checkArea(),this.target.event("dragmove",this.data),(Math.abs(this._offsetX)<1&&Math.abs(this._offsetY)<1||this._elasticRateX<.5||this._elasticRateY<.5)&&(C$99y.timer.clear(this,this.tweenMove),0<this.elasticDistance?this.checkElastic():this.clear());},C$99t.clear=function(){var C$99t;this.target&&(this.clearTimer(),C$99t=this.target,this.target=null,this._parent=null,C$99t.event("dragend",this.data));},e$d;}()),C$99z=function(){function e$B(){}return C$99i(e$B,"laya.utils.Ease"),e$B.linearNone=function(C$99t,C$99e,C$99i,C$99n){return C$99i*C$99t/C$99n+C$99e;},e$B.linearIn=function(C$99t,C$99e,C$99i,C$99n){return C$99i*C$99t/C$99n+C$99e;},e$B.linearInOut=function(C$99t,C$99e,C$99i,C$99n){return C$99i*C$99t/C$99n+C$99e;},e$B.linearOut=function(C$99t,C$99e,C$99i,C$99n){return C$99i*C$99t/C$99n+C$99e;},e$B.bounceIn=function(C$99t,C$99e,C$99i,C$99n){return C$99i-e$B.bounceOut(C$99n-C$99t,0,C$99i,C$99n)+C$99e;},e$B.bounceInOut=function(C$99t,C$99e,C$99i,C$99n){return C$99t<.5*C$99n?.5*e$B.bounceIn(2*C$99t,0,C$99i,C$99n)+C$99e:.5*e$B.bounceOut(2*C$99t-C$99n,0,C$99i,C$99n)+.5*C$99i+C$99e;},e$B.bounceOut=function(C$99t,C$99e,C$99i,C$99n){return(C$99t/=C$99n)<1/2.75?C$99i*(7.5625*C$99t*C$99t)+C$99e:C$99t<2/2.75?C$99i*(7.5625*(C$99t-=1.5/2.75)*C$99t+.75)+C$99e:C$99t<2.5/2.75?C$99i*(7.5625*(C$99t-=2.25/2.75)*C$99t+.9375)+C$99e:C$99i*(7.5625*(C$99t-=2.625/2.75)*C$99t+.984375)+C$99e;},e$B.backIn=function(C$99t,C$99e,C$99i,C$99n,C$99r){return C$99i*(C$99t/=C$99n)*C$99t*(((C$99r=void 0===C$99r?1.70158:C$99r)+1)*C$99t-C$99r)+C$99e;},e$B.backInOut=function(C$99t,C$99e,C$99i,C$99n,C$99r){return void 0===C$99r&&(C$99r=1.70158),(C$99t/=.5*C$99n)<1?.5*C$99i*(C$99t*C$99t*((1+(C$99r*=1.525))*C$99t-C$99r))+C$99e:C$99i/2*((C$99t-=2)*C$99t*((1+(C$99r*=1.525))*C$99t+C$99r)+2)+C$99e;},e$B.backOut=function(C$99t,C$99e,C$99i,C$99n,C$99r){return C$99i*((C$99t=C$99t/C$99n-1)*C$99t*(((C$99r=void 0===C$99r?1.70158:C$99r)+1)*C$99t+C$99r)+1)+C$99e;},e$B.elasticIn=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){return void 0===C$99r&&(C$99r=0),void 0===C$99s&&(C$99s=0),0==C$99t?C$99e:1==(C$99t/=C$99n)?C$99e+C$99i:(C$99s=C$99s||.3*C$99n,C$99i=!C$99r||0<C$99i&&C$99r<C$99i||C$99i<0&&C$99r<-C$99i?(C$99r=C$99i,C$99s/4):C$99s/e$B.PI2*Math.asin(C$99i/C$99r),-C$99r*Math.pow(2,10*--C$99t)*Math.sin((C$99t*C$99n-C$99i)*e$B.PI2/C$99s)+C$99e);},e$B.elasticInOut=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a;return void 0===C$99r&&(C$99r=0),void 0===C$99s&&(C$99s=0),0==C$99t?C$99e:2==(C$99t/=.5*C$99n)?C$99e+C$99i:(C$99s=C$99s||C$99n*(.3*1.5),C$99a=!C$99r||0<C$99i&&C$99r<C$99i||C$99i<0&&C$99r<-C$99i?(C$99r=C$99i,C$99s/4):C$99s/e$B.PI2*Math.asin(C$99i/C$99r),C$99t<1?C$99r*Math.pow(2,10*--C$99t)*Math.sin((C$99t*C$99n-C$99a)*e$B.PI2/C$99s)*-.5+C$99e:C$99r*Math.pow(2,-10*--C$99t)*Math.sin((C$99t*C$99n-C$99a)*e$B.PI2/C$99s)*.5+C$99i+C$99e);},e$B.elasticOut=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a;return void 0===C$99r&&(C$99r=0),void 0===C$99s&&(C$99s=0),0==C$99t?C$99e:1==(C$99t/=C$99n)?C$99e+C$99i:(C$99s=C$99s||.3*C$99n,C$99a=!C$99r||0<C$99i&&C$99r<C$99i||C$99i<0&&C$99r<-C$99i?(C$99r=C$99i,C$99s/4):C$99s/e$B.PI2*Math.asin(C$99i/C$99r),C$99r*Math.pow(2,-10*C$99t)*Math.sin((C$99t*C$99n-C$99a)*e$B.PI2/C$99s)+C$99i+C$99e);},e$B.strongIn=function(C$99t,C$99e,C$99i,C$99n){return C$99i*(C$99t/=C$99n)*C$99t*C$99t*C$99t*C$99t+C$99e;},e$B.strongInOut=function(C$99t,C$99e,C$99i,C$99n){return(C$99t/=.5*C$99n)<1?.5*C$99i*C$99t*C$99t*C$99t*C$99t*C$99t+C$99e:.5*C$99i*((C$99t-=2)*C$99t*C$99t*C$99t*C$99t+2)+C$99e;},e$B.strongOut=function(C$99t,C$99e,C$99i,C$99n){return C$99i*((C$99t=C$99t/C$99n-1)*C$99t*C$99t*C$99t*C$99t+1)+C$99e;},e$B.sineInOut=function(C$99t,C$99e,C$99i,C$99n){return .5*-C$99i*(Math.cos(Math.PI*C$99t/C$99n)-1)+C$99e;},e$B.sineIn=function(C$99t,C$99e,C$99i,C$99n){return-C$99i*Math.cos(C$99t/C$99n*e$B.HALF_PI)+C$99i+C$99e;},e$B.sineOut=function(C$99t,C$99e,C$99i,C$99n){return C$99i*Math.sin(C$99t/C$99n*e$B.HALF_PI)+C$99e;},e$B.quintIn=function(C$99t,C$99e,C$99i,C$99n){return C$99i*(C$99t/=C$99n)*C$99t*C$99t*C$99t*C$99t+C$99e;},e$B.quintInOut=function(C$99t,C$99e,C$99i,C$99n){return(C$99t/=.5*C$99n)<1?.5*C$99i*C$99t*C$99t*C$99t*C$99t*C$99t+C$99e:.5*C$99i*((C$99t-=2)*C$99t*C$99t*C$99t*C$99t+2)+C$99e;},e$B.quintOut=function(C$99t,C$99e,C$99i,C$99n){return C$99i*((C$99t=C$99t/C$99n-1)*C$99t*C$99t*C$99t*C$99t+1)+C$99e;},e$B.quartIn=function(C$99t,C$99e,C$99i,C$99n){return C$99i*(C$99t/=C$99n)*C$99t*C$99t*C$99t+C$99e;},e$B.quartInOut=function(C$99t,C$99e,C$99i,C$99n){return(C$99t/=.5*C$99n)<1?.5*C$99i*C$99t*C$99t*C$99t*C$99t+C$99e:.5*-C$99i*((C$99t-=2)*C$99t*C$99t*C$99t-2)+C$99e;},e$B.quartOut=function(C$99t,C$99e,C$99i,C$99n){return-C$99i*((C$99t=C$99t/C$99n-1)*C$99t*C$99t*C$99t-1)+C$99e;},e$B.cubicIn=function(C$99t,C$99e,C$99i,C$99n){return C$99i*(C$99t/=C$99n)*C$99t*C$99t+C$99e;},e$B.cubicInOut=function(C$99t,C$99e,C$99i,C$99n){return(C$99t/=.5*C$99n)<1?.5*C$99i*C$99t*C$99t*C$99t+C$99e:.5*C$99i*((C$99t-=2)*C$99t*C$99t+2)+C$99e;},e$B.cubicOut=function(C$99t,C$99e,C$99i,C$99n){return C$99i*((C$99t=C$99t/C$99n-1)*C$99t*C$99t+1)+C$99e;},e$B.quadIn=function(C$99t,C$99e,C$99i,C$99n){return C$99i*(C$99t/=C$99n)*C$99t+C$99e;},e$B.quadInOut=function(C$99t,C$99e,C$99i,C$99n){return(C$99t/=.5*C$99n)<1?.5*C$99i*C$99t*C$99t+C$99e:.5*-C$99i*(--C$99t*(C$99t-2)-1)+C$99e;},e$B.quadOut=function(C$99t,C$99e,C$99i,C$99n){return-C$99i*(C$99t/=C$99n)*(C$99t-2)+C$99e;},e$B.expoIn=function(C$99t,C$99e,C$99i,C$99n){return 0==C$99t?C$99e:C$99i*Math.pow(2,10*(C$99t/C$99n-1))+C$99e-.001*C$99i;},e$B.expoInOut=function(C$99t,C$99e,C$99i,C$99n){return 0==C$99t?C$99e:C$99t==C$99n?C$99e+C$99i:(C$99t/=.5*C$99n)<1?.5*C$99i*Math.pow(2,10*(C$99t-1))+C$99e:.5*C$99i*(2-Math.pow(2,-10*--C$99t))+C$99e;},e$B.expoOut=function(C$99t,C$99e,C$99i,C$99n){return C$99t==C$99n?C$99e+C$99i:C$99i*(1-Math.pow(2,-10*C$99t/C$99n))+C$99e;},e$B.circIn=function(C$99t,C$99e,C$99i,C$99n){return-C$99i*(Math.sqrt(1-(C$99t/=C$99n)*C$99t)-1)+C$99e;},e$B.circInOut=function(C$99t,C$99e,C$99i,C$99n){return(C$99t/=.5*C$99n)<1?.5*-C$99i*(Math.sqrt(1-C$99t*C$99t)-1)+C$99e:.5*C$99i*(Math.sqrt(1-(C$99t-=2)*C$99t)+1)+C$99e;},e$B.circOut=function(C$99t,C$99e,C$99i,C$99n){return C$99i*Math.sqrt(1-(C$99t=C$99t/C$99n-1)*C$99t)+C$99e;},e$B.HALF_PI=.5*Math.PI,e$B.PI2=2*Math.PI,e$B;}(),C$99Y=function(){function e$f(){this._hit=null,this._unHit=null;}C$99i(e$f,"laya.utils.HitArea");var C$99t=e$f.prototype;return C$99t.isHit=function(C$99t,C$99e){return!!e$f.isHitGraphic(C$99t,C$99e,this.hit)&&!e$f.isHitGraphic(C$99t,C$99e,this.unHit);},C$99t.contains=function(C$99t,C$99e){return this.isHit(C$99t,C$99e);},C$99n(0,C$99t,"hit",function(){return this._hit||(this._hit=new C$99_()),this._hit;},function(C$99t){this._hit=C$99t;}),C$99n(0,C$99t,"unHit",function(){return this._unHit||(this._unHit=new C$99_()),this._unHit;},function(C$99t){this._unHit=C$99t;}),e$f.isHitGraphic=function(C$99t,C$99e,C$99i){if(!C$99i)return!1;var C$99n;if(!(C$99n=C$99i.cmds)&&C$99i._one&&((C$99n=e$f._cmds).length=1,C$99n[0]=C$99i._one),!C$99n)return!1;var C$99r,C$99s,C$99a=0;for(C$99r=C$99n.length,C$99a=0;C$99a<C$99r;C$99a++)if(C$99s=C$99n[C$99a]){var C$99o=C$99T._context;switch(C$99s.callee){case C$99o._translate:case 6:C$99t-=C$99s[0],C$99e-=C$99s[1];}if(e$f.isHitCmd(C$99t,C$99e,C$99s))return!0;}return!1;},e$f.isHitCmd=function(C$99t,C$99e,C$99i){if(!C$99i)return!1;var C$99n=C$99T._context,C$99r=!1;switch(C$99i.callee){case C$99n._drawRect:case 13:e$f._rec.setTo(C$99i[0],C$99i[1],C$99i[2],C$99i[3]),C$99r=e$f._rec.contains(C$99t,C$99e);break;case C$99n._drawCircle:case C$99n._fillCircle:case 14:C$99r=(C$99t-=C$99i[0])*C$99t+(C$99e-=C$99i[1])*C$99e<C$99i[2]*C$99i[2];break;case C$99n._drawPoly:case 18:C$99t-=C$99i[0],C$99e-=C$99i[1],C$99r=e$f.ptInPolygon(C$99t,C$99e,C$99i[2]);}return C$99r;},e$f.ptInPolygon=function(C$99t,C$99u,C$99e){var C$99i;(C$99i=e$f._ptPoint).setTo(C$99t,C$99u);var C$99n,C$99r,C$99s,C$99a,C$99o,C$99h=0;C$99n=C$99e.length;for(var C$99l=0;C$99l<C$99n;C$99l+=2)C$99r=C$99e[C$99l],C$99s=C$99e[C$99l+1],C$99a=C$99e[(C$99l+2)%C$99n],C$99s!=(C$99o=C$99e[(C$99l+3)%C$99n])&&(C$99i.y<Math.min(C$99s,C$99o)||C$99i.y>=Math.max(C$99s,C$99o)||(C$99i.y-C$99s)*(C$99a-C$99r)/(C$99o-C$99s)+C$99r>C$99i.x&&C$99h++);return C$99h%2==1;},e$f._cmds=[],C$99a(e$f,["_rec",function(){return this._rec=new C$99E();},"_ptPoint",function(){return this._ptPoint=new C$99D();}]),e$f;}(),C$99X=(function(){function e$W(C$99t,C$99e,C$99i,C$99n){this.char=C$99t,this.charNum=C$99t.charCodeAt(0),this._x=this._y=0,this.width=C$99e,this.height=C$99i,this.style=C$99n,this.isWord=!e$W._isWordRegExp.test(C$99t);}C$99i(e$W,"laya.utils.HTMLChar");var C$99t=e$W.prototype;C$99y.imps(C$99t,{"laya.display.ILayout":!0}),C$99t.setSprite=function(C$99t){this._sprite=C$99t;},C$99t.getSprite=function(){return this._sprite;},C$99t._isChar=function(){return!0;},C$99t._getCSSStyle=function(){return this.style;},C$99n(0,C$99t,"width",function(){return this._w;},function(C$99t){this._w=C$99t;}),C$99n(0,C$99t,"x",function(){return this._x;},function(C$99t){this._sprite&&(this._sprite.x=C$99t),this._x=C$99t;}),C$99n(0,C$99t,"y",function(){return this._y;},function(C$99t){this._sprite&&(this._sprite.y=C$99t),this._y=C$99t;}),C$99n(0,C$99t,"height",function(){return this._h;},function(C$99t){this._h=C$99t;}),e$W._isWordRegExp=new RegExp("[\\w.]","");}(),function(){function e$t(){}C$99i(e$t,"laya.utils.Log"),e$t.enable=function(){e$t._logdiv||(e$t._logdiv=C$99S.window.document.createElement("div"),C$99S.window.document.body.appendChild(e$t._logdiv),e$t._logdiv.style.cssText="pointer-events:none;border:white;overflow:hidden;z-index:1000000;background:rgba(100,100,100,0.6);color:white;position: absolute;left:0px;top:0px;width:50%;height:50%;");},e$t.toggle=function(){var C$99t=e$t._logdiv.style;"1px"==C$99t.width?C$99t.width=C$99t.height="50%":C$99t.width=C$99t.height="1px";},e$t.print=function(C$99t){e$t._logdiv&&(e$t.maxCount<=e$t._count&&e$t.clear(),e$t._count++,e$t._logdiv.innerText+=C$99t+"\n",e$t._logdiv.scrollTop=e$t._logdiv.scrollHeight);},e$t.clear=function(){e$t._logdiv.innerText="",e$t._count=0;},e$t._logdiv=null,e$t._count=0,e$t.maxCount=20;}(),function(){function e$t(){}C$99i(e$t,"laya.utils.Mouse"),C$99n(1,e$t,"cursor",function(){return e$t._style.cursor;},function(C$99t){e$t._style.cursor=C$99t;}),e$t.hide=function(){"none"!=e$t.cursor&&(e$t._preCursor=e$t.cursor,e$t.cursor="none");},e$t.show=function(){"none"==e$t.cursor&&(e$t.cursor=e$t._preCursor||"auto");},e$t._preCursor=null,C$99a(e$t,["_style",function(){return this._style=C$99S.document.body.style;}]);}(),function(){function e$i(){}return C$99i(e$i,"laya.utils.Pool"),e$i.getPoolBySign=function(C$99t){return e$i._poolDic[C$99t]||(e$i._poolDic[C$99t]=[]);},e$i.clearBySign=function(C$99t){e$i._poolDic[C$99t]&&(e$i._poolDic[C$99t].length=0);},e$i.recover=function(C$99t,C$99e){C$99e.__InPool||(C$99e.__InPool=!0,e$i.getPoolBySign(C$99t).push(C$99e));},e$i.getItemByClass=function(C$99t,C$99e){C$99t=e$i.getPoolBySign(C$99t),C$99t=C$99t.length?C$99t.pop():new C$99e();return C$99t.__InPool=!1,C$99t;},e$i.getItemByCreateFun=function(C$99t,C$99e,C$99i){C$99t=e$i.getPoolBySign(C$99t),C$99t=C$99t.length?C$99t.pop():C$99e.call(C$99i);return C$99t.__InPool=!1,C$99t;},e$i.getItem=function(C$99t){C$99t=e$i.getPoolBySign(C$99t),C$99t=C$99t.length?C$99t.pop():null;return C$99t&&(C$99t.__InPool=!1),C$99t;},e$i._poolDic={},e$i.InPoolSign="__InPool",e$i;}()),C$99j=function(){function e$o(){}return C$99i(e$o,"laya.utils.Stat"),C$99n(1,e$o,"onclick",null,function(C$99t){e$o._sp&&e$o._sp.on("click",e$o._sp,C$99t),e$o._canvas&&(e$o._canvas.source.onclick=C$99t,e$o._canvas.source.style.pointerEvents="");}),e$o.show=function(C$99t,C$99e,C$99i){var C$99n;void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),!C$99T.isConchApp||C$99T.isConchWebGL?(C$99T.isConchWebGL||C$99S.onMiniGame||C$99S.onLimixiu||(e$o._useCanvas=!0),e$o._show=!0,e$o._fpsData.length=60,e$o._view[0]={title:"FPS(Canvas)",value:"_fpsStr",color:"yellow",units:"int"},e$o._view[1]={title:"Sprite",value:"_spriteStr",color:"white",units:"int"},e$o._view[2]={title:"DrawCall",value:"drawCall",color:"green",units:"int"},e$o._view[3]={title:"CurMem",value:"currentMemorySize",color:"yellow",units:"M"},C$99T.isWebGL?(e$o._view[4]={title:"Shader",value:"shaderCall",color:"red",units:"int"},C$99T.is3DMode?(e$o._view[0].title="FPS(3D)",e$o._view[5]={title:"TriFaces",value:"trianglesFaces",color:"blue",units:"int"},e$o._view[6]={title:"treeNodeColl",value:"treeNodeCollision",color:"white",units:"int"},e$o._view[7]={title:"treeSpriteColl",value:"treeSpriteCollision",color:"white",units:"int"},1==C$99i?(C$99n=8,e$o._view[C$99n++]={title:"VATTRIBS",value:"MAX_VERTEX_ATTRIBS",color:"white",units:"int",varying:1},e$o._view[C$99n++]={title:"VUNIFORMS",value:"MAX_VERTEX_UNIFORM_VECTORS",color:"white",units:"int",varying:1},e$o._view[C$99n++]={title:"VARYINGS",value:"MAX_VARYING_VECTORS",color:"white",units:"int",varying:1},e$o._view[C$99n++]={title:"CTEXTURES",value:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",color:"white",units:"int",varying:1},e$o._view[C$99n++]={title:"VTEXTURES",value:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",color:"white",units:"int",varying:1},e$o._view[C$99n++]={title:"TEXTURES",value:"MAX_TEXTURE_IMAGE_UNITS",color:"white",units:"int",varying:1},e$o._view[C$99n++]={title:"FUNIFORMS",value:"MAX_FRAGMENT_UNIFORM_VECTORS",color:"white",units:"int",varying:1},e$o._view[C$99n++]={title:"SVERSION",value:"SHADING_LANGUAGE_VERSION",color:"white",units:"string",varying:1},e$o._view[C$99n++]={title:"VERSION",value:"VERSION",color:"white",units:"string",varying:1}):2==C$99i&&(C$99n=8,e$o._view[C$99n++]={title:"astc",value:"WEBGL_compressed_texture_astc",color:"white",units:"object",varying:2},e$o._view[C$99n++]={title:"atc",value:"WEBGL_compressed_texture_atc",color:"white",units:"object",varying:2},e$o._view[C$99n++]={title:"etc",value:"WEBGL_compressed_texture_etc",color:"white",units:"object",varying:2},e$o._view[C$99n++]={title:"etc1",value:"WEBGL_compressed_texture_etc1",color:"white",units:"object",varying:2},e$o._view[C$99n++]={title:"pvrtc",value:"WEBGL_compressed_texture_pvrtc",color:"white",units:"object",varying:2},e$o._view[C$99n++]={title:"s3tc",value:"WEBGL_compressed_texture_s3tc",color:"white",units:"object",varying:2},e$o._view[C$99n++]={title:"srgb",value:"WEBGL_compressed_texture_s3tc_srgb",color:"white",units:"object",varying:2})):(e$o._view[0].title="FPS(WebGL)",e$o._view[5]={title:"Canvas",value:"_canvasStr",color:"white",units:"int"})):e$o._view[4]={title:"Canvas",value:"_canvasStr",color:"white",units:"int"},e$o._useCanvas?e$o.createUIPre(C$99t,C$99e):e$o.createUI(C$99t,C$99e),e$o.enable()):C$99S.window.conch.showFPS&&C$99S.window.conch.showFPS(C$99t,C$99e);},e$o.createUIPre=function(C$99t,C$99e){var C$99i=C$99S.pixelRatio;e$o._width=170*C$99i,e$o._vx=75*C$99i,e$o._height=C$99i*(12*e$o._view.length+3*C$99i)+4,e$o._fontSize=12*C$99i;for(var C$99n=0;C$99n<e$o._view.length;C$99n++)e$o._view[C$99n].x=4,e$o._view[C$99n].y=C$99n*e$o._fontSize+2*C$99i;e$o._canvas||((e$o._canvas=new C$99$t("2D")).size(e$o._width,e$o._height),(e$o._ctx=e$o._canvas.getContext("2d")).textBaseline="top",e$o._ctx.font=e$o._fontSize+"px Sans-serif",e$o._canvas.source.style.cssText="pointer-events:none;background:rgba(150,150,150,0.8);z-index:100000;position: absolute;direction:ltr;left:"+C$99t+"px;top:"+C$99e+"px;width:"+e$o._width/C$99i+"px;height:"+e$o._height/C$99i+"px;"),e$o._first=!0,e$o.loop(),e$o._first=!1,C$99S.container.appendChild(e$o._canvas.source);},e$o.createUI=function(C$99t,C$99e){var C$99i=e$o._sp,C$99n=C$99S.pixelRatio;C$99i||(C$99i=new C$99_t(),(e$o._leftText=new C$99mt()).pos(5,5),e$o._leftText.color="#ffffff",C$99i.addChild(e$o._leftText),(e$o._txt=new C$99mt()).pos(80*C$99n,5),e$o._txt.color="#ffffff",C$99i.addChild(e$o._txt),e$o._sp=C$99i),C$99i.pos(C$99t,C$99e);for(var C$99r="",C$99s=0;C$99s<e$o._view.length;C$99s++)C$99r+=e$o._view[C$99s].title+"\n";e$o._leftText.text=C$99r;C$99t=170*C$99n,C$99e=C$99n*(12*e$o._view.length+3*C$99n)+4;e$o._txt.fontSize=e$o._fontSize*C$99n,e$o._leftText.fontSize=e$o._fontSize*C$99n,C$99i.size(C$99t,C$99e),C$99i.graphics.clear(),C$99i.graphics.setAlpha(.5),C$99i.graphics.drawRect(0,0,C$99t,C$99e,"#999999"),C$99i.graphics.setAlpha(1),e$o.loop();},e$o.enable=function(){C$99y.timer.frameLoop(1,e$o,e$o.loop);},e$o.hide=function(){e$o._show=!1,C$99y.timer.clear(e$o,e$o.loop),e$o._canvas&&C$99S.removeElement(e$o._canvas.source);},e$o.clear=function(){e$o.trianglesFaces=e$o.drawCall=e$o.shaderCall=e$o.spriteCount=e$o.spriteRenderUseCacheCount=e$o.treeNodeCollision=e$o.treeSpriteCollision=e$o.canvasNormal=e$o.canvasBitmap=e$o.canvasReCache=0;},e$o.loop=function(){e$o._count++;var C$99t=C$99S.now();var C$99e;C$99t-e$o._timer<1e3||(C$99e=e$o._count,e$o.FPS=Math.round(1e3*C$99e/(C$99t-e$o._timer)),e$o._show&&(e$o.trianglesFaces=Math.round(e$o.trianglesFaces/C$99e),e$o.spriteCount=e$o._useCanvas?(e$o.drawCall=Math.round(e$o.drawCall/C$99e)-2,e$o.shaderCall=Math.round(e$o.shaderCall/C$99e),Math.round(e$o.spriteCount/C$99e)-1):(e$o.drawCall=Math.round(e$o.drawCall/C$99e)-2,e$o.shaderCall=Math.round(e$o.shaderCall/C$99e)-4,Math.round(e$o.spriteCount/C$99e)-4),e$o.spriteRenderUseCacheCount=Math.round(e$o.spriteRenderUseCacheCount/C$99e),e$o.canvasNormal=Math.round(e$o.canvasNormal/C$99e),e$o.canvasBitmap=Math.round(e$o.canvasBitmap/C$99e),e$o.canvasReCache=Math.ceil(e$o.canvasReCache/C$99e),e$o.treeNodeCollision=Math.round(e$o.treeNodeCollision/C$99e),e$o.treeSpriteCollision=Math.round(e$o.treeSpriteCollision/C$99e),C$99e=0<e$o.FPS?Math.floor(1e3/e$o.FPS).toString():" ",e$o._fpsStr=e$o.FPS+(e$o.renderSlow?" slow":"")+" "+C$99e,e$o._spriteStr=e$o.spriteCount+(e$o.spriteRenderUseCacheCount?"/"+e$o.spriteRenderUseCacheCount:""),e$o._canvasStr=e$o.canvasReCache+"/"+e$o.canvasNormal+"/"+e$o.canvasBitmap,e$o.currentMemorySize=C$99V.systemResourceManager.memorySize,e$o._useCanvas?e$o.renderInfoPre():e$o.renderInfo(),e$o.clear()),e$o._count=0,e$o._timer=C$99t);},e$o.renderInfoPre=function(){if(e$o._canvas){var C$99t=e$o._ctx;C$99t.clearRect(e$o._first?0:e$o._vx,0,e$o._width,e$o._height);for(var C$99e=C$99T.WebGL.mainContext,C$99i=0;C$99i<e$o._view.length;C$99i++){var C$99n=e$o._view[C$99i];e$o._first&&(C$99t.fillStyle="white",C$99t.fillText(C$99n.title,C$99n.x,C$99n.y,null,null,null)),C$99t.fillStyle=C$99n.color;var C$99r=-1;if((C$99n=e$o._view[C$99i]).varying){if(C$99e)switch(C$99n.varying){case 1:C$99r=C$99e.getParameter(C$99e[C$99n.value]);break;case 2:C$99r=C$99e.getExtension(C$99n.value);}}else C$99r=e$o[C$99n.value];"M"==C$99n.units&&(C$99r=Math.floor(C$99r/1048576*100)/100+" M"),"K"==C$99n.units&&(C$99r=Math.floor(C$99r/1024*100)/100+" K"),"string"==C$99n.units&&(C$99r=C$99r.match(/\d+\.?\d/i)),C$99t.fillText(C$99r+"",C$99n.x+e$o._vx,C$99n.y,null,null,null);}}},e$o.renderInfo=function(){for(var C$99t="",C$99e=C$99T.WebGL.mainContext,C$99i=0;C$99i<e$o._view.length;C$99i++){var C$99n=e$o._view[C$99i],C$99r=-1;if(C$99n.varying){if(C$99e)switch(C$99n.varying){case 1:C$99r=C$99e.getParameter(C$99e[C$99n.value]);break;case 2:C$99r=C$99e.getExtension(C$99n.value);}}else C$99r=e$o[C$99n.value];"M"==C$99n.units&&(C$99r=Math.floor(C$99r/1048576*100)/100+" M"),"K"==C$99n.units&&(C$99r=Math.floor(C$99r/1024*100)/100+" K"),C$99t+=(C$99r="string"==C$99n.units?C$99r.match(/\d+\.?\d/i):C$99r)+"\n";}e$o._txt.text=C$99t;},e$o.FPS=0,e$o.loopCount=0,e$o.shaderCall=0,e$o.drawCall=0,e$o.trianglesFaces=0,e$o.spriteCount=0,e$o.spriteRenderUseCacheCount=0,e$o.treeNodeCollision=0,e$o.treeSpriteCollision=0,e$o.canvasNormal=0,e$o.canvasBitmap=0,e$o.canvasReCache=0,e$o.renderSlow=!1,e$o.currentMemorySize=0,e$o._fpsStr=null,e$o._canvasStr=null,e$o._spriteStr=null,e$o._fpsData=[],e$o._timer=0,e$o._count=0,e$o._view=[],e$o._fontSize=12,e$o._txt=null,e$o._leftText=null,e$o._sp=null,e$o._show=!1,e$o._useCanvas=!1,e$o._canvas=null,e$o._ctx=null,e$o._first=!1,e$o._vx=NaN,e$o._width=0,e$o._height=100,e$o;}(),C$99K=(function(){function e$d(){this._strsToID={},this._idToStrs=[],this._length=0;}C$99i(e$d,"laya.utils.StringKey");var C$99t=e$d.prototype;C$99t.add=function(C$99t){var C$99e=this._strsToID[C$99t];return null!=C$99e?C$99e:(this._idToStrs[this._length]=C$99t,this._strsToID[C$99t]=this._length++);},C$99t.getID=function(C$99t){C$99t=this._strsToID[C$99t];return null==C$99t?-1:C$99t;},C$99t.getName=function(C$99t){C$99t=this._idToStrs[C$99t];return null==C$99t?void 0:C$99t;};}(),function(){var C$99l;function e$d(){this._delta=0,this.scale=1,this.currFrame=0,this._mid=1,this._map={},this._laters=[],this._handlers=[],this._temp=[],this._count=0,this._errorRecord=!1,this.currTimer=this._now(),this._lastTimer=this._now(),this._init();}C$99i(e$d,"laya.utils.Timer");var C$99t=e$d.prototype;return C$99t._init=function(){C$99y.timer&&C$99y.timer.frameLoop(1,this,this._update);},C$99t._now=function(){return Date.now();},C$99t._update=function(){if(this.scale<=0)this._lastTimer=this._now();else{var C$99t=this.currFrame=this.currFrame+this.scale,C$99e=this._now();this._delta=(C$99e-this._lastTimer)*this.scale;var C$99i=this.currTimer=this.currTimer+this._delta;C$99y.isDebug&&6e4<Math.abs(C$99e-this._lastTimer)&&console.error("\u7cfb\u7edf\u65f6\u95f4\u9519\u8bef\uff01"+(C$99e-this._lastTimer)),this._lastTimer=C$99e;var C$99n=this._handlers;for(C$99a=this._count=0,C$99o=C$99n.length;C$99a<C$99o;C$99a++)if(null!==(C$99h=C$99n[C$99a]).method){var C$99r=C$99h.userFrame?C$99t:C$99i;if(C$99r>=C$99h.exeTime)if(C$99h.repeat){if(C$99h.jumpFrame)for(;C$99r>=C$99h.exeTime;)C$99h.exeTime+=C$99h.delay,C$99h.run(!1);else C$99h.exeTime+=C$99h.delay,C$99h.run(!1),C$99r>C$99h.exeTime&&(C$99h.exeTime+=Math.ceil((C$99r-C$99h.exeTime)/C$99h.delay)*C$99h.delay);}else C$99h.run(!0);}else this._count++;(30<this._count||C$99t%200==0)&&this._clearHandlers();for(var C$99s=this._laters,C$99a=0,C$99o=C$99s.length-1;C$99a<=C$99o;C$99a++){var C$99h=C$99s[C$99a];this._isIgnoreRecover(C$99h)||(null!==C$99h.method&&(delete this._map[C$99h.key],C$99h.run(!1)),this._recoverHandler(C$99h)),C$99a===C$99o&&(C$99o=C$99s.length-1);}C$99s.length=0;}},C$99t._clearHandlers=function(){for(var C$99t=this._handlers,C$99e=0,C$99i=C$99t.length;C$99e<C$99i;C$99e++){var C$99n=C$99t[C$99e];null!==C$99n.method||this._isIgnoreRecover(C$99n)?this._temp.push(C$99n):this._recoverHandler(C$99n);}this._handlers=this._temp,this._temp=C$99t,this._temp.length=0;},C$99t._recoverHandler=function(C$99t){this._map[C$99t.key]==C$99t&&delete this._map[C$99t.key],C$99t.recover();},C$99t._create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){if(!C$99i)return C$99r.apply(C$99n,C$99s),null;if(C$99a){var C$99h=this._getHandler(C$99n,C$99r);if(C$99h)return C$99h.repeat=C$99e,C$99h.userFrame=C$99t,C$99h.delay=C$99i,C$99h.ignoreRecover=C$99o,C$99h.caller=C$99n,C$99h.method=C$99r,C$99h.args=C$99s,C$99h.exeTime=C$99i+(C$99t?this.currFrame:this.currTimer+this._now()-this._lastTimer),C$99h;}return(C$99h=C$99l.create()).repeat=C$99e,C$99h.userFrame=C$99t,C$99h.delay=C$99i,C$99h.ignoreRecover=C$99o,C$99h.caller=C$99n,C$99h.method=C$99r,C$99h.args=C$99s,C$99h.exeTime=C$99i+(C$99t?this.currFrame:this.currTimer+this._now()-this._lastTimer)+1,this._indexHandler(C$99h),this._handlers.push(C$99h),C$99h;},C$99t._indexHandler=function(C$99t){var C$99e=C$99t.caller,C$99i=C$99t.method,C$99e=C$99e?C$99e.$_GID||(C$99e.$_GID=C$99Z.getGID()):0,C$99i=C$99i.$_TID||(C$99i.$_TID=this._mid++);C$99t.key=C$99e+"_"+C$99i,this._map[C$99t.key]=C$99t;},C$99t.once=function(C$99t,C$99e,C$99i,C$99n,C$99r){this._create(!1,!1,C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r,!1);},C$99t.loop=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){void 0===C$99s&&(C$99s=!1);C$99t=this._create(!1,!0,C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r,C$99a=void 0===C$99a?!1:C$99a);C$99t&&(C$99t.jumpFrame=C$99s);},C$99t.frameOnce=function(C$99t,C$99e,C$99i,C$99n,C$99r){this._create(!0,!1,C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r,!1);},C$99t.frameLoop=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._create(!0,!0,C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r,C$99s=void 0===C$99s?!1:C$99s);},C$99t.toString=function(){return"callLater:"+this._laters.length+" handlers:"+this._handlers.length+" pool:"+C$99l._freeCount;},C$99t.clear=function(C$99t,C$99e){C$99t=this._getHandler(C$99t,C$99e);return!(!C$99t||this._isIgnoreRecover(C$99t)||(delete this._map[C$99t.key],C$99t.key=null,C$99t.clear(),0));},C$99t.clearAll=function(C$99t){if(C$99t)for(var C$99e=0,C$99i=this._handlers.length;C$99e<C$99i;C$99e++){var C$99n=this._handlers[C$99e];C$99n.caller===C$99t&&(this._isIgnoreRecover(C$99n)||(delete this._map[C$99n.key],C$99n.key=null,C$99n.clear()));}},C$99t._getHandler=function(C$99t,C$99e){C$99t=C$99t?C$99t.$_GID||(C$99t.$_GID=C$99Z.getGID()):0,C$99e=C$99e.$_TID||(C$99e.$_TID=this._mid++);return this._map[C$99t+"_"+C$99e];},C$99t._isIgnoreRecover=function(C$99t){if(C$99t.ignoreRecover||C$99t.caller&&"IgnoreRecover"==C$99t.caller.callername){if(this._errorRecord)console.warn("\u6838\u5fc3\u5b9a\u65f6\u5668\u9500\u6bc1\u5ffd\u7565");else{this._errorRecord=!0;var C$99e="";try{arguments.propertyIsEnumerable.caller;}catch(C$99t){C$99e=C$99t.stack;}C$99y.recordError("\u62a5\u9519\uff1a\u6838\u5fc3\u5b9a\u65f6\u5668\u9500\u6bc1\u5ffd\u7565  "+C$99e);}return!0;}return!1;},C$99t.hasHandler=function(C$99t,C$99e){return this._map[C$99t.$_GID+"_"+C$99e.$_TID];},C$99t.callLater=function(C$99t,C$99e,C$99i){var C$99n;null==this._getHandler(C$99t,C$99e)&&((C$99n=C$99l.create()).caller=C$99t,C$99n.method=C$99e,C$99n.args=C$99i,this._indexHandler(C$99n),this._laters.push(C$99n));},C$99t.runCallLater=function(C$99t,C$99e){C$99t=this._getHandler(C$99t,C$99e);C$99t&&null!=C$99t.method&&(this._isIgnoreRecover(C$99t)||(delete this._map[C$99t.key],C$99t.run(!0)));},C$99t.runTimer=function(C$99t,C$99e){this.runCallLater(C$99t,C$99e);},C$99n(0,C$99t,"delta",function(){return this._delta;}),e$d.__init$=function(){function e$t(){this.key=null,this.repeat=!1,this.delay=0,this.userFrame=!1,this.ignoreRecover=!1,this.exeTime=0,this.caller=null,this.method=null,this.args=null,this.jumpFrame=!1;}var C$99t;C$99i(e$t,""),(C$99t=e$t.prototype).clear=function(){this.caller=null,this.method=null,this.args=null,this.ignoreRecover=!1;},C$99t.recover=function(){this.clear(),this.args=e$t._freeHandler,e$t._freeHandler=this,e$t._freeCount++;},C$99t.run=function(C$99t){var C$99e=this.caller;if(C$99e&&C$99e.destroyed)return this.clear();var C$99i=this.method,C$99n=this.args;C$99t&&this.clear(),null!=C$99i&&(C$99n?C$99i.apply(C$99e,C$99n):C$99i.call(C$99e));},e$t._freeHandler=null,e$t._freeCount=0,e$t.create=function(){var C$99t=e$t._freeHandler;return C$99t?(e$t._freeHandler=C$99t.args,--e$t._freeCount,C$99t.args=null,C$99t):new e$t();},C$99l=e$t;},e$d;}()),C$99q=function(){function e$f(){this.gid=0;}C$99i(e$f,"laya.utils.Tween");var C$99t=e$f.prototype;return C$99t.to=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){return this._create(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s=void 0===C$99s?0:C$99s,C$99a=void 0===C$99a?!1:C$99a,!0,!1,!0);},C$99t.from=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){return this._create(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s=void 0===C$99s?0:C$99s,C$99a=void 0===C$99a?!1:C$99a,!1,!1,!0);},C$99t._create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){if(!C$99t)throw new Error("Tween:target is null");this._target=C$99t,this._duration=C$99i,this._ease=C$99n||C$99e.ease||e$f.easeNone,this._complete=C$99r||C$99e.complete,this._delay=C$99s,this._props=[],this._usedTimer=0,this._startTimer=C$99S.now(),this._usedPool=C$99h,this._delayParam=null,this.update=C$99e.update;C$99i=C$99t.$_GID||(C$99t.$_GID=C$99Z.getGID());return e$f.tweenMap[C$99i]?(C$99a&&e$f.clearTween(C$99t),e$f.tweenMap[C$99i].push(this)):e$f.tweenMap[C$99i]=[this],C$99l?C$99s<=0?this.firstStart(C$99t,C$99e,C$99o):(this._delayParam=[C$99t,C$99e,C$99o],C$99y.scaleTimer.once(C$99s,this,this.firstStart,this._delayParam)):this._initProps(C$99t,C$99e,C$99o),this;},C$99t.firstStart=function(C$99t,C$99e,C$99i){this._delayParam=null,C$99t.destroyed?this.clear():(this._initProps(C$99t,C$99e,C$99i),this._beginLoop());},C$99t._initProps=function(C$99t,C$99e,C$99i){for(var C$99n in C$99e){var C$99r,C$99s;"number"==typeof C$99t[C$99n]&&(C$99r=(C$99i?C$99t:C$99e)[C$99n],C$99s=(C$99i?C$99e:C$99t)[C$99n],this._props.push([C$99n,C$99r,C$99s-C$99r]),C$99i||(C$99t[C$99n]=C$99r));}},C$99t._beginLoop=function(){C$99y.scaleTimer.frameLoop(1,this,this._doEase);},C$99t._doEase=function(){this._updateEase(C$99S.now());},C$99t._updateEase=function(C$99t){var C$99e=this._target;if(C$99e){if(C$99e.destroyed)return e$f.clearTween(C$99e);C$99t=this._usedTimer=C$99t-this._startTimer-this._delay;if(!(C$99t<0)){if(C$99t>=this._duration)return this.complete();for(var C$99i=0<C$99t?this._ease(C$99t,0,1,this._duration):0,C$99n=this._props,C$99r=0,C$99s=C$99n.length;C$99r<C$99s;C$99r++){var C$99a=C$99n[C$99r];C$99e[C$99a[0]]=C$99a[1]+C$99i*C$99a[2];}this.update&&this.update.run();}}},C$99t.complete=function(){if(this._target){C$99y.scaleTimer.runTimer(this,this.firstStart);for(var C$99t=this._target,C$99e=this._props,C$99i=this._complete,C$99n=0,C$99r=C$99e.length;C$99n<C$99r;C$99n++){var C$99s=C$99e[C$99n];C$99t[C$99s[0]]=C$99s[1]+C$99s[2];}this.update&&this.update.run(),this.clear(),C$99i&&C$99i.run();}},C$99t.pause=function(){var C$99t;C$99y.scaleTimer.clear(this,this._beginLoop),C$99y.scaleTimer.clear(this,this._doEase),C$99y.scaleTimer.clear(this,this.firstStart),(C$99t=C$99S.now()-this._startTimer-this._delay)<0&&(this._usedTimer=C$99t);},C$99t.setStartTime=function(C$99t){this._startTimer=C$99t;},C$99t.clear=function(){this._target&&(this._remove(),this._clear());},C$99t._clear=function(){this.pause(),C$99y.scaleTimer.clear(this,this.firstStart),this._complete=null,this._target=null,this._ease=null,this._props=null,this._delayParam=null,this._usedPool&&(this.update=null,C$99X.recover("tween",this));},C$99t.recover=function(){this._usedPool=!0,this._clear();},C$99t._remove=function(){var C$99t=e$f.tweenMap[this._target.$_GID];if(C$99t)for(var C$99e=0,C$99i=C$99t.length;C$99e<C$99i;C$99e++)if(C$99t[C$99e]===this){C$99t.splice(C$99e,1);break;}},C$99t.restart=function(){if(this.pause(),this._usedTimer=0,this._startTimer=C$99S.now(),this._delayParam)C$99y.scaleTimer.once(this._delay,this,this.firstStart,this._delayParam);else{for(var C$99t=this._props,C$99e=0,C$99i=C$99t.length;C$99e<C$99i;C$99e++){var C$99n=C$99t[C$99e];this._target[C$99n[0]]=C$99n[1];}C$99y.scaleTimer.once(this._delay,this,this._beginLoop);}},C$99t.resume=function(){this._usedTimer>=this._duration||(this._startTimer=C$99S.now()-this._usedTimer-this._delay,this._delayParam?this._usedTimer<0?C$99y.scaleTimer.once(-this._usedTimer,this,this.firstStart,this._delayParam):this.firstStart.apply(this,this._delayParam):this._beginLoop());},C$99n(0,C$99t,"progress",null,function(C$99t){C$99t*=this._duration;this._startTimer=C$99S.now()-this._delay-C$99t;}),e$f.to=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){return void 0===C$99s&&(C$99s=0),void 0===C$99a&&(C$99a=!1),void 0===C$99o&&(C$99o=!0),C$99X.getItemByClass("tween",e$f)._create(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,!0,C$99o,!0);},e$f.from=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){return void 0===C$99s&&(C$99s=0),void 0===C$99a&&(C$99a=!1),void 0===C$99o&&(C$99o=!0),C$99X.getItemByClass("tween",e$f)._create(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,!1,C$99o,!0);},e$f.clearAll=function(C$99t){if(C$99t&&C$99t.$_GID){var C$99e=e$f.tweenMap[C$99t.$_GID];if(C$99e){for(var C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)C$99e[C$99i]._clear();C$99e.length=0;}}},e$f.clear=function(C$99t){C$99t.clear();},e$f.clearTween=function(C$99t){e$f.clearAll(C$99t);},e$f.easeNone=function(C$99t,C$99e,C$99i,C$99n){return C$99i*C$99t/C$99n+C$99e;},e$f.tweenMap={},e$f;}(),C$99Z=function(){function e$B(){}return C$99i(e$B,"laya.utils.Utils"),e$B.toRadian=function(C$99t){return C$99t*e$B._pi2;},e$B.toAngle=function(C$99t){return C$99t*e$B._pi;},e$B.toHexColor=function(C$99t){if(C$99t<0||isNaN(C$99t))return null;for(var C$99e=C$99t.toString(16);C$99e.length<6;)C$99e="0"+C$99e;return"#"+C$99e;},e$B.getGID=function(){return e$B._gid++;},e$B.concatArray=function(C$99t,C$99e){if(!C$99e)return C$99t;if(!C$99t)return C$99e;var C$99i=0,C$99n=C$99e.length;for(C$99i=0;C$99i<C$99n;C$99i++)C$99t.push(C$99e[C$99i]);return C$99t;},e$B.clearArray=function(C$99t){return C$99t&&(C$99t.length=0),C$99t;},e$B.copyArray=function(C$99t,C$99e){if(C$99t=C$99t||[],!C$99e)return C$99t;C$99t.length=C$99e.length;var C$99i=0,C$99n=C$99e.length;for(C$99i=0;C$99i<C$99n;C$99i++)C$99t[C$99i]=C$99e[C$99i];return C$99t;},e$B.getGlobalRecByPoints=function(C$99t,C$99e,C$99i,C$99n,C$99r){return C$99e=new C$99D(C$99e,C$99i),C$99e=C$99t.localToGlobal(C$99e),C$99i=new C$99D(C$99n,C$99r),C$99i=C$99t.localToGlobal(C$99i),C$99E._getWrapRec([C$99e.x,C$99e.y,C$99i.x,C$99i.y]);},e$B.getGlobalPosAndScale=function(C$99t){return e$B.getGlobalRecByPoints(C$99t,0,0,1,1);},e$B.bind=function(C$99t,C$99e){return C$99t.bind(C$99e);},e$B.measureText=function(C$99t,C$99e){return C$99m.measureText(C$99t,C$99e);},e$B.contextMeasureText=function(C$99t){C$99t=C$99S.context.measureText(C$99t);return C$99t=C$99t||{width:16,height:16};},e$B.updateOrder=function(C$99t){if(!C$99t||C$99t.length<2)return!1;for(var C$99e,C$99i,C$99n=1,C$99r=0,C$99s=C$99t.length;C$99n<C$99s;){for(C$99e=C$99t[C$99r=C$99n],C$99i=C$99t[C$99r]._zOrder;-1<--C$99r&&C$99t[C$99r]._zOrder>C$99i;)C$99t[C$99r+1]=C$99t[C$99r];C$99t[C$99r+1]=C$99e,C$99n++;}var C$99a=C$99e.parent.conchModel;if(C$99a)if(null!=C$99a.updateZOrder)C$99a.updateZOrder();else{for(C$99n=0;C$99n<C$99s;C$99n++)C$99a.removeChild(C$99t[C$99n].conchModel);for(C$99n=0;C$99n<C$99s;C$99n++)C$99a.addChildAt(C$99t[C$99n].conchModel,C$99n);}return!0;},e$B.transPointList=function(C$99t,C$99e,C$99i){var C$99n=0,C$99r=C$99t.length;for(C$99n=0;C$99n<C$99r;C$99n+=2)C$99t[C$99n]+=C$99e,C$99t[C$99n+1]+=C$99i;},e$B.parseInt=function(C$99t,C$99e){C$99t=C$99S.window.parseInt(C$99t,C$99e=void 0===C$99e?0:C$99e);return isNaN(C$99t)?0:C$99t;},e$B.getFileExtension=function(C$99t){e$B._extReg.lastIndex=C$99t.lastIndexOf(".");C$99t=e$B._extReg.exec(C$99t);return C$99t&&1<C$99t.length?C$99t[1].toLowerCase():null;},e$B.getTransformRelativeToWindow=function(C$99t,C$99e,C$99i){var C$99n=C$99y.stage,C$99t=laya.utils.Utils.getGlobalPosAndScale(C$99t),C$99n=C$99n._canvasTransform.clone(),C$99r=C$99n.tx,C$99s=C$99n.ty;C$99n.rotate(-Math.PI/180*C$99y.stage.canvasDegree),C$99n.scale(C$99y.stage.clientScaleX,C$99y.stage.clientScaleY);var C$99a=C$99y.stage.canvasDegree%180!=0,C$99o=NaN,C$99h=NaN;C$99a?(C$99o=C$99i+C$99t.y,C$99h=C$99e+C$99t.x,C$99o*=C$99n.d,C$99h*=C$99n.a,90==C$99y.stage.canvasDegree?(C$99o=C$99r-C$99o,C$99h+=C$99s):(C$99o+=C$99r,C$99h=C$99s-C$99h)):(C$99o=C$99e+C$99t.x,C$99h=C$99i+C$99t.y,C$99o=C$99o*C$99n.a+C$99r,C$99h=C$99h*C$99n.d+C$99s);C$99e=NaN;return C$99i=C$99a?(C$99e=C$99n.d*C$99t.height,C$99n.a*C$99t.width):(C$99e=C$99n.a*C$99t.width,C$99n.d*C$99t.height),{x:C$99o,y:C$99h,scaleX:C$99e,scaleY:C$99i};},e$B.fitDOMElementInArea=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){C$99t._fitLayaAirInitialized||(C$99t._fitLayaAirInitialized=!0,C$99t.style.transformOrigin=C$99t.style.webKittransformOrigin="left top",C$99t.style.position="absolute");C$99e=e$B.getTransformRelativeToWindow(C$99e,C$99i,C$99n);C$99t.style.transform=C$99t.style.webkitTransform="scale("+C$99e.scaleX+","+C$99e.scaleY+") rotate("+C$99y.stage.canvasDegree+"deg)",C$99t.style.width=C$99r+"px",C$99t.style.height=C$99s+"px",C$99t.style.left=C$99e.x+"px",C$99t.style.top=C$99e.y+"px";},e$B.isOkTextureList=function(C$99t){if(!C$99t)return!1;var C$99e,C$99i=0,C$99n=C$99t.length;for(C$99i=0;C$99i<C$99n;C$99i++)if(!(C$99e=C$99t[C$99i])||!C$99e.source)return!1;return!0;},e$B.isOKCmdList=function(C$99t){if(!C$99t)return!1;var C$99e,C$99i,C$99n=0,C$99r=C$99t.length,C$99s=C$99T._context;for(C$99n=0;C$99n<C$99r;C$99n++)switch((C$99e=C$99t[C$99n]).callee){case C$99s._drawTexture:case C$99s._fillTexture:case C$99s._drawTextureWithTransform:if(!(C$99i=C$99e[0])||!C$99i.source)return!1;}return!0;},e$B._gid=1,e$B._pi=180/Math.PI,e$B._pi2=Math.PI/180,e$B._extReg=/\.(\w+)\??/g,e$B.parseXMLFromString=function(C$99t){if(C$99t=C$99t.replace(/>\s+</g,"><"),-1<(C$99t=new DOMParser().parseFromString(C$99t,"text/xml")).firstChild.textContent.indexOf("This page contains the following errors"))throw new Error(C$99t.firstChild.firstChild.textContent);return C$99t;},e$B;}(),C$99Q=function(){function e$d(){this.useDic={},this.shapeDic={},this.shapeLineDic={},this._id=0,this._checkKey=!1,this._freeIdArray=[],C$99T.isWebGL&&C$99U.regCacheByFunction(C$99Z.bind(this.startDispose,this),C$99Z.bind(this.getCacheList,this));}C$99i(e$d,"laya.utils.VectorGraphManager");var C$99t=e$d.prototype;return C$99t.getId=function(){return this._id++;},C$99t.addShape=function(C$99t,C$99e){this.shapeDic[C$99t]=C$99e,this.useDic[C$99t]||(this.useDic[C$99t]=!0);},C$99t.addLine=function(C$99t,C$99e){this.shapeLineDic[C$99t]=C$99e,this.shapeLineDic[C$99t]||(this.shapeLineDic[C$99t]=!0);},C$99t.getShape=function(C$99t){this._checkKey&&null!=this.useDic[C$99t]&&(this.useDic[C$99t]=!0);},C$99t.deleteShape=function(C$99t){this.shapeDic[C$99t]&&(this.shapeDic[C$99t]=null,delete this.shapeDic[C$99t]),this.shapeLineDic[C$99t]&&(this.shapeLineDic[C$99t]=null,delete this.shapeLineDic[C$99t]),null!=this.useDic[C$99t]&&delete this.useDic[C$99t];},C$99t.getCacheList=function(){var C$99t,C$99e=[];for(C$99t in this.shapeDic)C$99e.push(this.shapeDic[C$99t]);for(C$99t in this.shapeLineDic)C$99e.push(this.shapeLineDic[C$99t]);return C$99e;},C$99t.startDispose=function(C$99t){for(var C$99e in this.useDic)this.useDic[C$99e]=!1;this._checkKey=!0;},C$99t.endDispose=function(){if(this._checkKey){for(var C$99t in this.useDic)this.useDic[C$99t]||this.deleteShape(C$99t);this._checkKey=!1;}},e$d.getInstance=function(){return e$d.instance=e$d.instance||new e$d();},e$d.instance=null,e$d;}(),C$99J=function(){function e$k(){this._obj=null,this._obj=e$k.supportWeakMap?new C$99S.window.WeakMap():{},e$k.supportWeakMap||e$k._maps.push(this);}C$99i(e$k,"laya.utils.WeakObject");var C$99t=e$k.prototype;return C$99t.set=function(C$99t,C$99e){var C$99i;null!=C$99t&&(e$k.supportWeakMap?("string"!=typeof(C$99i=C$99t)&&"number"!=typeof C$99t||(C$99i=e$k._keys[C$99t])||(C$99i=e$k._keys[C$99t]={k:C$99t}),this._obj.set(C$99i,C$99e)):"string"==typeof C$99t||"number"==typeof C$99t?this._obj[C$99t]=C$99e:(C$99t.$_GID||(C$99t.$_GID=C$99Z.getGID()),this._obj[C$99t.$_GID]=C$99e));},C$99t.get=function(C$99t){return null==C$99t?null:e$k.supportWeakMap?(C$99e="string"==typeof C$99t||"number"==typeof C$99t?e$k._keys[C$99t]:C$99t)?this._obj.get(C$99e):null:"string"==typeof C$99t||"number"==typeof C$99t?this._obj[C$99t]:this._obj[C$99t.$_GID];var C$99e;},C$99t.del=function(C$99t){var C$99e;null!=C$99t&&(e$k.supportWeakMap?(C$99e="string"==typeof C$99t||"number"==typeof C$99t?e$k._keys[C$99t]:C$99t)&&this._obj.delete(C$99e):"string"==typeof C$99t||"number"==typeof C$99t?delete this._obj[C$99t]:delete this._obj[this._obj.$_GID]);},C$99t.has=function(C$99t){return null!=C$99t&&(e$k.supportWeakMap?(C$99e="string"==typeof C$99t||"number"==typeof C$99t?e$k._keys[C$99t]:C$99t,this._obj.has(C$99e)):"string"==typeof C$99t||"number"==typeof C$99t?null!=this._obj[C$99t]:null!=this._obj[this._obj.$_GID]);var C$99e;},e$k.__init__=function(){(e$k.supportWeakMap=null!=C$99S.window.WeakMap)||C$99y.timer.loop(e$k.delInterval,null,e$k.clearCache);},e$k.clearCache=function(){for(var C$99t=0,C$99e=e$k._maps.length;C$99t<C$99e;C$99t++)e$k._maps[C$99t]._obj={};},e$k.supportWeakMap=!1,e$k.delInterval=3e5,e$k._keys={},e$k._maps=[],C$99a(e$k,["I",function(){return this.I=new e$k();}]),e$k;}(),C$99tt=function(){function e$d(){this.id=NaN,this.save=[],this.toUpperCase=null,this.changed=!1,this._text=null;}C$99i(e$d,"laya.utils.WordText");var C$99t=e$d.prototype;return C$99t.setText=function(C$99t){this.changed=!0,this._text=C$99t;},C$99t.toString=function(){return this._text;},C$99t.charCodeAt=function(C$99t){return this._text?this._text.charCodeAt(C$99t):NaN;},C$99t.charAt=function(C$99t){return this._text?this._text.charAt(C$99t):null;},C$99n(0,C$99t,"length",function(){return this._text?this._text.length:0;}),e$d;}(),C$99et=function(){function e$A(){this._bits=0,this._displayedInStage=!1,this._parent=null,this.conchModel=null,this.name="",this._destroyed=!1,e$A.__super.call(this),this._childs=e$A.ARRAY_EMPTY,this._$P=e$A.PROP_EMPTY,this.timer=C$99y.scaleTimer,this.conchModel=C$99T.isConchNode?this.createConchModel():null;}C$99i(e$A,"laya.display.Node",C$99h);var C$99t=e$A.prototype;return C$99t._setBit=function(C$99t,C$99e){1==C$99t&&this._getBit(C$99t)!=C$99e&&this._updateDisplayedInstage(),C$99e?this._bits|=C$99t:this._bits&=~C$99t;},C$99t._getBit=function(C$99t){return 0!=(this._bits&C$99t);},C$99t._setUpNoticeChain=function(){this._getBit(1)&&this._setUpNoticeType(1);},C$99t._setUpNoticeType=function(C$99t){var C$99e=this;for(C$99e._setBit(C$99t,!0),C$99e=C$99e.parent;C$99e;){if(C$99e._getBit(C$99t))return;C$99e._setBit(C$99t,!0),C$99e=C$99e.parent;}},C$99t.on=function(C$99t,C$99e,C$99i,C$99n){return"display"!==C$99t&&"undisplay"!==C$99t||this._getBit(1)||this._setUpNoticeType(1),this._createListener(C$99t,C$99e,C$99i,C$99n,!1);},C$99t.once=function(C$99t,C$99e,C$99i,C$99n){return"display"!==C$99t&&"undisplay"!==C$99t||this._getBit(1)||this._setUpNoticeType(1),this._createListener(C$99t,C$99e,C$99i,C$99n,!0);},C$99t.createConchModel=function(){return null;},C$99t.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this._destroyed=!0,this._parent&&this._parent.removeChild(this),this._childs&&(C$99t?this.destroyChildren():this.removeChildren()),this._childs=null,this._$P=null,this.offAll(),this.timer.clearAll(this);},C$99t.destroyChildren=function(){if(this._childs)for(var C$99t=this._childs.length-1;-1<C$99t;C$99t--)this._childs[C$99t].destroy(!0);},C$99t.addChild=function(C$99t){return!C$99t||this.destroyed||C$99t===this||(C$99t.zOrder&&this._set$P("hasZorder",!0),C$99t._parent===this?(C$99e=this.getChildIndex(C$99t))!==this._childs.length-1&&(this._childs.splice(C$99e,1),this._childs.push(C$99t),this.conchModel&&(this.conchModel.removeChild(C$99t.conchModel),this.conchModel.addChildAt(C$99t.conchModel,this._childs.length-1)),this._childChanged()):(C$99t.parent&&C$99t.parent.removeChild(C$99t),this._childs===e$A.ARRAY_EMPTY&&(this._childs=[]),this._childs.push(C$99t),this.conchModel&&this.conchModel.addChildAt(C$99t.conchModel,this._childs.length-1),(C$99t.parent=this)._childChanged())),C$99t;var C$99e;},C$99t.addChildren=function(C$99t){for(var C$99e=arguments,C$99i=0,C$99n=C$99e.length;C$99i<C$99n;)this.addChild(C$99e[C$99i++]);},C$99t.addChildAt=function(C$99t,C$99e){if(!C$99t||this.destroyed||C$99t===this)return C$99t;var C$99i;if(C$99t.zOrder&&this._set$P("hasZorder",!0),0<=C$99e&&C$99e<=this._childs.length)return C$99t._parent===this?(C$99i=this.getChildIndex(C$99t),this._childs.splice(C$99i,1),this._childs.splice(C$99e,0,C$99t),this.conchModel&&(this.conchModel.removeChild(C$99t.conchModel),this.conchModel.addChildAt(C$99t.conchModel,C$99e)),this._childChanged()):(C$99t.parent&&C$99t.parent.removeChild(C$99t),this._childs===e$A.ARRAY_EMPTY&&(this._childs=[]),this._childs.splice(C$99e,0,C$99t),this.conchModel&&this.conchModel.addChildAt(C$99t.conchModel,C$99e),C$99t.parent=this),C$99t;throw new Error("appendChildAt:The index is out of bounds");},C$99t.getChildIndex=function(C$99t){return this._childs.indexOf(C$99t);},C$99t.getChildByName=function(C$99t){var C$99e=this._childs;if(C$99e)for(var C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++){var C$99r=C$99e[C$99i];if(C$99r.name===C$99t)return C$99r;}return null;},C$99t._get$P=function(C$99t){return this._$P[C$99t];},C$99t._set$P=function(C$99t,C$99e){return this.destroyed||(this._$P===e$A.PROP_EMPTY&&(this._$P={}),this._$P[C$99t]=C$99e),C$99e;},C$99t.getChildAt=function(C$99t){return this._childs[C$99t];},C$99t.setChildIndex=function(C$99t,C$99e){var C$99i=this._childs;if(C$99e<0||C$99e>=C$99i.length)throw new Error("setChildIndex:The index is out of bounds.");var C$99n=this.getChildIndex(C$99t);if(C$99n<0)throw new Error("setChildIndex:node is must child of this object.");return C$99i.splice(C$99n,1),C$99i.splice(C$99e,0,C$99t),this.conchModel&&(this.conchModel.removeChild(C$99t.conchModel),this.conchModel.addChildAt(C$99t.conchModel,C$99e)),this._childChanged(),C$99t;},C$99t._childChanged=function(C$99t){},C$99t.removeChild=function(C$99t){if(!this._childs)return C$99t;C$99t=this._childs.indexOf(C$99t);return this.removeChildAt(C$99t);},C$99t.removeSelf=function(){return this._parent&&this._parent.removeChild(this),this;},C$99t.removeChildByName=function(C$99t){C$99t=this.getChildByName(C$99t);return C$99t&&this.removeChild(C$99t),C$99t;},C$99t.removeChildAt=function(C$99t){var C$99e=this.getChildAt(C$99t);if(C$99e){for(var C$99i=this._childs.length-1,C$99n=C$99t;C$99n<C$99i;++C$99n)this._childs[C$99n]=this._childs[C$99n+1];this._childs.length=C$99i,this.conchModel&&this.conchModel.removeChild(C$99e.conchModel),C$99e.parent=null;}return C$99e;},C$99t.removeChildren=function(C$99t,C$99e){if(void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=2147483647),this._childs&&0<this._childs.length){var C$99i=this._childs;var C$99n;0===C$99t&&C$99s<=C$99e?(C$99n=C$99i,this._childs=e$A.ARRAY_EMPTY):C$99n=C$99i.splice(C$99t,C$99e-C$99t);for(var C$99r=0,C$99s=C$99n.length;C$99r<C$99s;C$99r++)C$99n[C$99r].parent=null,this.conchModel&&this.conchModel.removeChild(C$99n[C$99r].conchModel);}return this;},C$99t.replaceChild=function(C$99t,C$99e){var C$99i=this._childs.indexOf(C$99e);return-1<C$99i?(this._childs.splice(C$99i,1,C$99t),this.conchModel&&(this.conchModel.removeChild(C$99e.conchModel),this.conchModel.addChildAt(C$99t.conchModel,C$99i)),C$99e.parent=null,C$99t.parent=this,C$99t):null;},C$99t._updateDisplayedInstage=function(){var C$99t;var C$99e=C$99y.stage;for((C$99t=this)._displayedInStage=!1;C$99t;){if(C$99t._getBit(1)){this._displayedInStage=C$99t._displayedInStage;break;}if(C$99t==C$99e||C$99t._displayedInStage){this._displayedInStage=!0;break;}C$99t=C$99t.parent;}},C$99t._setDisplay=function(C$99t){this._displayedInStage!==C$99t&&((this._displayedInStage=C$99t)?this.event("display"):this.event("undisplay"));},C$99t._displayChild=function(C$99t,C$99e){var C$99i=C$99t._childs;if(C$99i)for(var C$99n=0;C$99n<C$99i.length;C$99n++){var C$99r=C$99i[C$99n];C$99r&&C$99r._getBit(1)&&(0<C$99r._childs.length?this._displayChild(C$99r,C$99e):C$99r._setDisplay(C$99e));}C$99t._setDisplay(C$99e);},C$99t.contains=function(C$99t){if(C$99t===this)return!0;for(;C$99t;){if(C$99t.parent===this)return!0;C$99t=C$99t.parent;}return!1;},C$99t.timerLoop=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this.timer.loop(C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r,C$99s=void 0===C$99s?!1:C$99s);},C$99t.timerOnce=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.timer._create(!1,!1,C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r);},C$99t.frameLoop=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.timer._create(!0,!0,C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r);},C$99t.frameOnce=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.timer._create(!0,!1,C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?!0:C$99r);},C$99t.clearTimer=function(C$99t,C$99e){this.timer.clear(C$99t,C$99e);},C$99n(0,C$99t,"numChildren",function(){return this._childs.length;}),C$99n(0,C$99t,"destroyed",function(){return this._destroyed;}),C$99n(0,C$99t,"parent",function(){return this._parent;},function(C$99t){this._parent!==C$99t&&(C$99t?(this._parent=C$99t,this.event("added"),this._getBit(1)&&(this._setUpNoticeChain(),C$99t.displayedInStage&&this._displayChild(this,!0)),C$99t._childChanged(this)):(this.event("removed"),this._parent._childChanged(),this._getBit(1)&&this._displayChild(this,!1),this._parent=C$99t));}),C$99n(0,C$99t,"displayedInStage",function(){return this._getBit(1)||this._setUpNoticeType(1),this._displayedInStage;}),e$A.ARRAY_EMPTY=[],e$A.PROP_EMPTY={},e$A.NOTICE_DISPLAY=1,e$A.MOUSEENABLE=2,e$A;}(),C$99it=(C$99i(e$J,"laya.display.css.CSSStyle",C$99e=C$99l),(C$99t=e$J.prototype).destroy=function(){this._ower=null,this._font=null,this._rect=null;},C$99t.inherit=function(C$99t){this._font=C$99t._font,this._spacing=C$99t._spacing===e$J._SPACING?e$J._SPACING:C$99t._spacing.slice(),this.lineHeight=C$99t.lineHeight;},C$99t._widthAuto=function(){return 0!=(262144&this._type);},C$99t.widthed=function(C$99t){return 0!=(8&this._type);},C$99t._calculation=function(C$99t,C$99e){if(C$99e.indexOf("%")<0)return!1;var C$99n=this._ower,C$99r=C$99n.parent,C$99s=this._rect;function e$A(C$99t,C$99e,C$99i){return C$99t*C$99i[0]+C$99e*C$99i[1]+C$99i[2];}function e$l(C$99t){var C$99e=C$99r.width,C$99i=C$99n.width;C$99s.width&&(C$99n.width=e$A(C$99e,C$99i,C$99s.width)),C$99s.height&&(C$99n.height=e$A(C$99e,C$99i,C$99s.height)),C$99s.left&&(C$99n.x=e$A(C$99e,C$99i,C$99s.left)),C$99s.top&&(C$99n.y=e$A(C$99e,C$99i,C$99s.top));}null===C$99s&&(C$99r._getCSSStyle()._type|=524288,C$99r.on("resize",this,e$l),this._rect=C$99s={input:{}});var C$99i=C$99e.split(" ");return C$99i[0]=parseFloat(C$99i[0])/100,1==C$99i.length?C$99i[1]=C$99i[2]=0:(C$99i[1]=parseFloat(C$99i[1])/100,C$99i[2]=parseFloat(C$99i[2])),C$99s[C$99t]=C$99i,C$99s.input[C$99t]=C$99e,e$l(),!0;},C$99t.heighted=function(C$99t){return 0!=(8192&this._type);},C$99t.size=function(C$99t,C$99e){var C$99i=this._ower,C$99n=!1;-1!==C$99t&&C$99t!=this._ower.width&&(this._type|=8,this._ower.width=C$99t,C$99n=!0),-1!==C$99e&&C$99e!=this._ower.height&&(this._type|=8192,this._ower.height=C$99e,C$99n=!0),C$99n&&(C$99i._layoutLater(),524288&this._type&&C$99i.event("resize",this));},C$99t._getAlign=function(){return this._aligns[0];},C$99t._getValign=function(){return this._aligns[1];},C$99t._getCssFloat=function(){return 0!=(32768&this._type)?32768:0;},C$99t._createFont=function(){return 4096&this._type?this._font:(this._type|=4096,this._font=new C$99u(this._font));},C$99t.render=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.width,C$99s=C$99t.height;C$99i-=C$99t.pivotX,C$99n-=C$99t.pivotY,this._bgground&&null!=this._bgground.color&&C$99e.ctx.fillRect(C$99i,C$99n,C$99r,C$99s,this._bgground.color),this._border&&this._border.color&&C$99e.drawRect(C$99i,C$99n,C$99r,C$99s,this._border.color.strColor,this._border.size);},C$99t.getCSSStyle=function(){return this;},C$99t.cssText=function(C$99t){this.attrs(e$J.parseOneCSS(C$99t,";"));},C$99t.attrs=function(C$99t){if(C$99t)for(var C$99e=0,C$99i=C$99t.length;C$99e<C$99i;C$99e++){var C$99n=C$99t[C$99e];this[C$99n[0]]=C$99n[1];}},C$99t.setTransform=function(C$99t){"none"===C$99t?this._tf=C$99l._TF_EMPTY:this.attrs(e$J.parseOneCSS(C$99t,","));},C$99t.translate=function(C$99t,C$99e){this._tf===C$99l._TF_EMPTY&&(this._tf=new C$99c()),this._tf.translateX=C$99t,this._tf.translateY=C$99e;},C$99t.scale=function(C$99t,C$99e){this._tf===C$99l._TF_EMPTY&&(this._tf=new C$99c()),this._tf.scaleX=C$99t,this._tf.scaleY=C$99e;},C$99t._enableLayout=function(){return 0==(2&this._type)&&0==(4&this._type);},C$99n(0,C$99t,"block",C$99e.prototype._$get_block,function(C$99t){C$99t?this._type|=1:this._type&=-2;}),C$99n(0,C$99t,"valign",function(){return e$J._valigndef[this._aligns[1]];},function(C$99t){this._aligns===e$J._ALIGNS&&(this._aligns=[0,0,0]),this._aligns[1]=e$J._valigndef[C$99t];}),C$99n(0,C$99t,"height",null,function(C$99t){if(this._type|=8192,"string"==typeof C$99t){if(this._calculation("height",C$99t))return;C$99t=parseInt(C$99t);}this.size(-1,C$99t);}),C$99n(0,C$99t,"width",null,function(C$99t){if(this._type|=8,"string"==typeof C$99t){var C$99e=C$99t.indexOf("auto");if(0<=C$99e&&(this._type|=262144,C$99t=C$99t.substr(0,C$99e)),this._calculation("width",C$99t))return;C$99t=parseInt(C$99t);}this.size(C$99t,-1);}),C$99n(0,C$99t,"fontWeight",function(){return this._font.weight;},function(C$99t){this._createFont().weight=C$99t;}),C$99n(0,C$99t,"left",null,function(C$99t){var C$99e=this._ower;if("string"==typeof C$99t){if("center"===C$99t?C$99t="50% -50% 0":"right"===C$99t&&(C$99t="100% -100% 0"),this._calculation("left",C$99t))return;C$99t=parseInt(C$99t);}C$99e.x=C$99t;}),C$99n(0,C$99t,"_translate",null,function(C$99t){this.translate(C$99t[0],C$99t[1]);}),C$99n(0,C$99t,"absolute",function(){return 0!=(4&this._type);}),C$99n(0,C$99t,"top",null,function(C$99t){var C$99e=this._ower;if("string"==typeof C$99t){if("middle"===C$99t?C$99t="50% -50% 0":"bottom"===C$99t&&(C$99t="100% -100% 0"),this._calculation("top",C$99t))return;C$99t=parseInt(C$99t);}C$99e.y=C$99t;}),C$99n(0,C$99t,"align",function(){return e$J._aligndef[this._aligns[0]];},function(C$99t){this._aligns===e$J._ALIGNS&&(this._aligns=[0,0,0]),this._aligns[0]=e$J._aligndef[C$99t];}),C$99n(0,C$99t,"bold",function(){return this._font.bold;},function(C$99t){this._createFont().bold=C$99t;}),C$99n(0,C$99t,"padding",function(){return this._padding;},function(C$99t){this._padding=C$99t;}),C$99n(0,C$99t,"leading",function(){return this._spacing[1];},function(C$99t){"string"==typeof C$99t&&(C$99t=parseInt(C$99t+"")),this._spacing===e$J._SPACING&&(this._spacing=[0,0]),this._spacing[1]=C$99t;}),C$99n(0,C$99t,"lineElement",function(){return 0!=(65536&this._type);},function(C$99t){C$99t?this._type|=65536:this._type&=-65537;}),C$99n(0,C$99t,"cssFloat",function(){return 0!=(32768&this._type)?"right":"left";},function(C$99t){this.lineElement=!1,"right"===C$99t?this._type|=32768:this._type&=-32769;}),C$99n(0,C$99t,"textDecoration",function(){return this._font.decoration;},function(C$99t){this._createFont().decoration=C$99t;}),C$99n(0,C$99t,"whiteSpace",function(){return 131072&this._type?"nowrap":"";},function(C$99t){"nowrap"===C$99t&&(this._type|=131072),"none"===C$99t&&(this._type&=-131073);}),C$99n(0,C$99t,"background",null,function(C$99t){C$99t?(this._bgground||(this._bgground={}),this._bgground.color=C$99t,this._ower.conchModel&&this._ower.conchModel.bgColor(C$99t),this._type|=16384,this._ower._renderType|=256):this._bgground=null;}),C$99n(0,C$99t,"wordWrap",function(){return 0==(131072&this._type);},function(C$99t){C$99t?this._type&=-131073:this._type|=131072;}),C$99n(0,C$99t,"color",function(){return this._font.color;},function(C$99t){this._createFont().color=C$99t;}),C$99n(0,C$99t,"password",function(){return this._font.password;},function(C$99t){this._createFont().password=C$99t;}),C$99n(0,C$99t,"backgroundColor",function(){return this._bgground?this._bgground.color:null;},function(C$99t){"none"===C$99t?this._bgground=null:(this._bgground||(this._bgground={}),this._bgground.color=C$99t),this._ower.conchModel&&this._ower.conchModel.bgColor(C$99t),this._ower._renderType|=256;}),C$99n(0,C$99t,"font",function(){return this._font.toString();},function(C$99t){this._createFont().set(C$99t);}),C$99n(0,C$99t,"weight",null,function(C$99t){this._createFont().weight=C$99t;}),C$99n(0,C$99t,"letterSpacing",function(){return this._spacing[0];},function(C$99t){"string"==typeof C$99t&&(C$99t=parseInt(C$99t+"")),this._spacing===e$J._SPACING&&(this._spacing=[0,0]),this._spacing[0]=C$99t;}),C$99n(0,C$99t,"fontSize",function(){return this._font.size;},function(C$99t){this._createFont().size=C$99t;}),C$99n(0,C$99t,"italic",function(){return this._font.italic;},function(C$99t){this._createFont().italic=C$99t;}),C$99n(0,C$99t,"fontFamily",function(){return this._font.family;},function(C$99t){this._createFont().family=C$99t;}),C$99n(0,C$99t,"stroke",function(){return this._font.stroke[0];},function(C$99t){this._createFont().stroke===C$99u._STROKE&&(this._font.stroke=[0,"#000000"]),this._font.stroke[0]=C$99t;}),C$99n(0,C$99t,"strokeColor",function(){return this._font.stroke[1];},function(C$99t){this._createFont().stroke===C$99u._STROKE&&(this._font.stroke=[0,"#000000"]),this._font.stroke[1]=C$99t;}),C$99n(0,C$99t,"border",function(){return this._border?this._border.value:"";},function(C$99t){if("none"!=C$99t){this._border||(this._border={});C$99t=(this._border.value=C$99t).split(" ");if(this._border.color=C$99H.create(C$99t[C$99t.length-1]),1==C$99t.length)return this._border.size=1,void(this._border.type="solid");var C$99e=0;0<C$99t[0].indexOf("px")?(this._border.size=parseInt(C$99t[0]),C$99e++):this._border.size=1,this._border.type=C$99t[C$99e],this._ower._renderType|=256;}else this._border=null;}),C$99n(0,C$99t,"borderColor",function(){return this._border&&this._border.color?this._border.color.strColor:null;},function(C$99t){C$99t?(this._border||(this._border={size:1,type:"solid"}),this._border.color=null==C$99t?null:C$99H.create(C$99t),this._ower.conchModel&&this._ower.conchModel.border(this._border.color.strColor),this._ower._renderType|=256):this._border=null;}),C$99n(0,C$99t,"position",function(){return 4&this._type?"absolute":"";},function(C$99t){"absolute"==C$99t?this._type|=4:this._type&=-5;}),C$99n(0,C$99t,"display",null,function(C$99t){switch(C$99t){case"":this._type&=-3,this.visible=!0;break;case"none":this._type|=2,this.visible=!1,this._ower._layoutLater();}}),C$99n(0,C$99t,"paddingLeft",function(){return this.padding[3];}),C$99n(0,C$99t,"paddingTop",function(){return this.padding[0];}),C$99n(0,C$99t,"_scale",null,function(C$99t){this._ower.scale(C$99t[0],C$99t[1]);}),C$99n(0,C$99t,"_rotate",null,function(C$99t){this._ower.rotation=C$99t;}),e$J.parseOneCSS=function(C$99t,C$99u){for(var C$99e,C$99i=[],C$99n=C$99t.split(C$99u),C$99r=0,C$99c=C$99n.length;C$99r<C$99c;C$99r++){var C$99s=C$99n[C$99r],C$99a=C$99s.indexOf(":"),C$99o=C$99s.substr(0,C$99a).replace(/^\s+|\s+$/g,"");if(0!=C$99o.length){var C$99h=C$99s.substr(C$99a+1).replace(/^\s+|\s+$/g,""),C$99l=[C$99o,C$99h];switch(C$99o){case"italic":case"bold":C$99l[1]="true"==C$99h;break;case"line-height":C$99l[0]="lineHeight",C$99l[1]=parseInt(C$99h);break;case"font-size":C$99l[0]="fontSize",C$99l[1]=parseInt(C$99h);break;case"padding":1<(C$99e=C$99h.split(" ")).length||(C$99e[1]=C$99e[2]=C$99e[3]=C$99e[0]),C$99l[1]=[parseInt(C$99e[0]),parseInt(C$99e[1]),parseInt(C$99e[2]),parseInt(C$99e[3])];break;case"rotate":C$99l[0]="_rotate",C$99l[1]=parseFloat(C$99h);break;case"scale":C$99e=C$99h.split(" "),C$99l[0]="_scale",C$99l[1]=[parseFloat(C$99e[0]),parseFloat(C$99e[1])];break;case"translate":C$99e=C$99h.split(" "),C$99l[0]="_translate",C$99l[1]=[parseInt(C$99e[0]),parseInt(C$99e[1])];break;default:(C$99l[0]=e$J._CSSTOVALUE[C$99o])||(C$99l[0]=C$99o);}C$99i.push(C$99l);}}return C$99i;},e$J.parseCSS=function(C$99t,C$99e){for(var C$99i;null!=(C$99i=e$J._parseCSSRegExp.exec(C$99t));)e$J.styleSheets[C$99i[1]]=e$J.parseOneCSS(C$99i[2],";");},e$J.EMPTY=new e$J(null),e$J._CSSTOVALUE={"letter-spacing":"letterSpacing","line-spacing":"lineSpacing","white-space":"whiteSpace","line-height":"lineHeight","scale-x":"scaleX","scale-y":"scaleY","translate-x":"translateX","translate-y":"translateY","font-family":"fontFamily","font-weight":"fontWeight","vertical-align":"valign","text-decoration":"textDecoration","background-color":"backgroundColor","border-color":"borderColor",float:"cssFloat"},e$J._parseCSSRegExp=new RegExp("([.#]\\w+)\\s*{([\\s\\S]*?)}","g"),e$J._aligndef={left:0,center:1,right:2,0:"left",1:"center",2:"right"},e$J._valigndef={top:0,middle:1,bottom:2,0:"top",1:"middle",2:"bottom"},e$J.styleSheets={},e$J.ALIGN_CENTER=1,e$J.ALIGN_RIGHT=2,e$J.VALIGN_MIDDLE=1,e$J.VALIGN_BOTTOM=2,e$J._CSS_BLOCK=1,e$J._DISPLAY_NONE=2,e$J._ABSOLUTE=4,e$J._WIDTH_SET=8,e$J._PADDING=[0,0,0,0],e$J._RECT=[-1,-1,-1,-1],e$J._SPACING=[0,0],e$J._ALIGNS=[0,0,0],e$J.ADDLAYOUTED=512,e$J._NEWFONT=4096,e$J._HEIGHT_SET=8192,e$J._BACKGROUND_SET=16384,e$J._FLOAT_RIGHT=32768,e$J._LINE_ELEMENT=65536,e$J._NOWARP=131072,e$J._WIDTHAUTO=262144,e$J._LISTERRESZIE=524288,e$J),C$99nt=function(){function e$A(){this.url=null,this.audio=null,this.loaded=!1,e$A.__super.call(this);}C$99i(e$A,"laya.media.h5audio.AudioSound",C$99h);var C$99t=e$A.prototype;return C$99t.dispose=function(){var C$99t=e$A._audioCache[this.url];C$99t&&(C$99t.src="",delete e$A._audioCache[this.url]);},C$99t.load=function(C$99t){var C$99e;var C$99i;function e$k(){e$i(),C$99i.loaded=!0,C$99i.event("complete");}function e$W(){C$99e.load=null,e$i(),C$99i.event("error");}function e$i(){C$99e.removeEventListener("canplaythrough",e$k),C$99e.removeEventListener("error",e$W);}C$99t=C$99L.formatURL(C$99t),(this.url=C$99t)==C$99R._tMusic?(e$A._initMusicAudio(),(C$99e=e$A._musicAudio).src!=C$99t&&(e$A._audioCache[C$99e.src]=null,C$99e=null)):C$99e=e$A._audioCache[C$99t],C$99e&&2<=C$99e.readyState?this.event("complete"):(C$99e||(C$99e=C$99t==C$99R._tMusic?(e$A._initMusicAudio(),e$A._musicAudio):C$99S.createElement("audio"),(e$A._audioCache[C$99t]=C$99e).src=C$99t),C$99e.addEventListener("canplaythrough",e$k),C$99e.addEventListener("error",e$W),((C$99i=this).audio=C$99e).load?C$99e.load():e$W());},C$99t.play=function(C$99t,C$99e,C$99i){if(void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),!this.url)return null;var C$99n;if(!(C$99r=this.url==C$99R._tMusic?e$A._musicAudio:e$A._audioCache[this.url]))return null;C$99n=C$99X.getItem("audio:"+this.url),C$99T.isConchApp?C$99n||((C$99n=C$99S.createElement("audio")).src=this.url):this.url==C$99R._tMusic?(e$A._initMusicAudio(),(C$99n=e$A._musicAudio).src=this.url):C$99n=C$99n||C$99r.cloneNode(!0);var C$99r=new C$99dt(C$99n);return C$99r.url=this.url,C$99r.loops=C$99e,C$99r.startTime=C$99t,C$99r.startHandler=C$99i,C$99r.play(!1),C$99R.addChannel(C$99r),C$99r;},C$99n(0,C$99t,"duration",function(){var C$99t;return(C$99t=e$A._audioCache[this.url])?C$99t.duration:0;}),e$A._initMusicAudio=function(){e$A._musicAudio||(e$A._musicAudio=C$99S.createElement("audio"),C$99T.isConchApp||C$99S.document.addEventListener("mousedown",e$A._makeMusicOK));},e$A._makeMusicOK=function(){C$99S.document.removeEventListener("mousedown",e$A._makeMusicOK),e$A._musicAudio.src?e$A._musicAudio.play():(e$A._musicAudio.src="",e$A._musicAudio.load());},e$A._audioCache={},e$A._musicAudio=null,e$A;}(),C$99rt=function(){function e$t(){this.url=null,this.loops=0,this.startTime=NaN,this.isStopped=!1,this.startHandler=null,this.completeHandler=null,e$t.__super.call(this);}C$99i(e$t,"laya.media.SoundChannel",C$99h);var C$99t=e$t.prototype;return C$99t.play=function(){},C$99t.stop=function(){},C$99t.pause=function(){},C$99t.resume=function(){},C$99t.__runComplete=function(C$99t){C$99t&&C$99t.run();},C$99n(0,C$99t,"volume",function(){return 1;},function(C$99t){}),C$99n(0,C$99t,"position",function(){return 0;}),C$99n(0,C$99t,"duration",function(){return 0;}),e$t;}(),C$99st=function(){function e$t(){e$t.__super.call(this);}C$99i(e$t,"laya.media.Sound",C$99h);var C$99t=e$t.prototype;return C$99t.load=function(C$99t){},C$99t.play=function(C$99t,C$99e,C$99i){return void 0===C$99t&&(C$99t=0),null;},C$99t.dispose=function(){},C$99n(0,C$99t,"duration",function(){return 0;}),e$t;}(),C$99at=function(){function e$W(){this.url=null,this.loaded=!1,this.data=null,this.audioBuffer=null,this.__toPlays=null,this._disposed=!1,e$W.__super.call(this);}C$99i(e$W,"laya.media.webaudio.WebAudioSound",C$99h);var C$99t=e$W.prototype;return C$99t.load=function(C$99t){this.url=C$99t,this.audioBuffer=e$W._dataCache[C$99t],this.audioBuffer?this._loaded(this.audioBuffer):(e$W.e.on("loaded:"+C$99t,this,this._loaded),e$W.e.on("err:"+C$99t,this,this._err),e$W.__loadingSound[C$99t]||(e$W.__loadingSound[C$99t]=!0,C$99y.loader.load(C$99t,C$99g.create(this,this.onloaded),null,C$99ht.BUFFER,4,!1,null,!0)));},C$99t.onloaded=function(C$99t){C$99t||this._err(),this._disposed?this._removeLoadEvents():(this.data=C$99t,e$W.buffs.push({buffer:this.data,url:this.url}),e$W.decode());},C$99t._err=function(){if(this._removeLoadEvents(),e$W.__loadingSound[this.url]=!1,this.event("error"),this.__toPlays){var C$99t,C$99e,C$99i,C$99n=0;for(C$99t=(C$99e=this.__toPlays).length,C$99n=0;C$99n<C$99t;C$99n++)(C$99i=C$99e[C$99n])[3]&&!C$99i[3].isStopped&&C$99i[3].event("error");this.__toPlays.length=0;}},C$99t._loaded=function(C$99t){this._removeLoadEvents(),this._disposed||(this.audioBuffer=C$99t,this.loaded=!0,this.event("complete"));},C$99t._removeLoadEvents=function(){e$W.e.off("loaded:"+this.url,this,this._loaded),e$W.e.off("err:"+this.url,this,this._err);},C$99t.__playAfterLoaded=function(){if(this.__toPlays){var C$99t,C$99e,C$99i,C$99n=0;for(C$99t=(C$99e=this.__toPlays).length,C$99n=0;C$99n<C$99t;C$99n++)(C$99i=C$99e[C$99n])[3]&&!C$99i[3].isStopped&&this.play(C$99i[0],C$99i[1],C$99i[2],C$99i[3]);this.__toPlays.length=0;}},C$99t.play=function(C$99t,C$99e,C$99i,C$99n){return void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),C$99n=C$99n||new C$99ft(),this.audioBuffer||this.url&&(this.__toPlays||(this.__toPlays=[]),this.__toPlays.push([C$99t,C$99e,C$99i,C$99n]),this.once("complete",this,this.__playAfterLoaded),this.load(this.url)),C$99n.url=this.url,C$99n.loops=C$99e,C$99n.audioBuffer=this.audioBuffer,C$99n.startTime=C$99t,C$99n.startHandler=C$99i,C$99n.play(!1),C$99R.addChannel(C$99n),C$99n;},C$99t.dispose=function(){this._disposed=!0,delete e$W._dataCache[this.url],delete e$W.__loadingSound[this.url],this.audioBuffer=null,this.data=null,this.__toPlays=[];},C$99n(0,C$99t,"duration",function(){return this.audioBuffer?this.audioBuffer.duration:0;}),e$W.decode=function(){if(!(e$W.buffs.length<=0||e$W.isDecoding))if(e$W.isDecoding=!0,(e$W.tInfo=e$W.buffs.shift())&&e$W.tInfo.buffer&&e$W.tInfo.buffer.byteLength)try{e$W.ctx.decodeAudioData(e$W.tInfo.buffer,e$W._done,e$W._fail);}catch(C$99t){console.error("decodeAudioData error  byteLength:"+e$W.tInfo.buffer.byteLength+"  url:"+e$W.tInfo.url);}else e$W._fail();},e$W._done=function(C$99t){e$W.e.event("loaded:"+e$W.tInfo.url,C$99t),e$W._dataCache[e$W.tInfo.url]=C$99t,e$W.isDecoding=!1,e$W.decode();},e$W._fail=function(){e$W.e.event("err:"+e$W.tInfo.url,null),e$W.isDecoding=!1,e$W.decode();},e$W._playEmptySound=function(){if(null!=e$W.ctx){if(e$W._emptySource&&(e$W._emptySource.stop(),e$W._emptySource.disconnect(0),!C$99ft._tryCleanFailed))try{e$W._emptySource.buffer=null;}catch(C$99t){C$99ft._tryCleanFailed=!0;}var C$99t=e$W.ctx.createBufferSource();C$99t.buffer=e$W._miniBuffer,C$99t.connect(e$W.ctx.destination),C$99t.start(0,0,0),e$W._emptySource=C$99t;}},e$W._unlock=function(){e$W._unlocked||(e$W._playEmptySound(),"running"==e$W.ctx.state?(C$99S.document.removeEventListener("mousedown",e$W._unlock,!0),C$99S.document.removeEventListener("touchend",e$W._unlock,!0),C$99S.document.removeEventListener("touchstart",e$W._unlock,!0),e$W._unlocked=!0):"suspended"==e$W.ctx.state&&C$99R._recoverWebAudio());},e$W.initWebAudio=function(){"running"!=e$W.ctx.state&&(e$W._unlock(),C$99S.document.addEventListener("mousedown",e$W._unlock,!0),C$99S.document.addEventListener("touchend",e$W._unlock,!0),C$99S.document.addEventListener("touchstart",e$W._unlock,!0));},e$W._emptySource=null,e$W._dataCache={},e$W.buffs=[],e$W.isDecoding=!1,e$W._unlocked=!1,e$W.tInfo=null,e$W.__loadingSound={},C$99a(e$W,["window",function(){return this.window=C$99S.window;},"webAudioEnabled",function(){return this.webAudioEnabled=e$W.window.AudioContext||e$W.window.webkitAudioContext||e$W.window.mozAudioContext;},"ctx",function(){return this.ctx=e$W.webAudioEnabled?new(e$W.window.AudioContext||e$W.window.webkitAudioContext||e$W.window.mozAudioContext)():void 0;},"_miniBuffer",function(){return this._miniBuffer=e$W.ctx.createBuffer(1,1,22050);},"e",function(){return this.e=new C$99h();}]),e$W;}(),C$99ot=function(){function e$t(){this._responseType=null,this._data=null,e$t.__super.call(this),this._http=new C$99S.window.XMLHttpRequest();}C$99i(e$t,"laya.net.HttpRequest",C$99h);var C$99t=e$t.prototype;return C$99t.send=function(C$99t,C$99e,C$99i,C$99n,C$99r){void 0===C$99i&&(C$99i="get"),this._responseType=C$99n=void 0===C$99n?"text":C$99n,this._data=null;var C$99s=this,C$99a=this._http;if(C$99a.open(C$99i,C$99t,!0),C$99r)for(var C$99o=0;C$99o<C$99r.length;C$99o++)C$99a.setRequestHeader(C$99r[C$99o++],C$99r[C$99o]);else C$99T.isConchApp||(C$99e&&"string"!=typeof C$99e?C$99a.setRequestHeader("Content-Type","application/json"):C$99a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"));C$99a.responseType="arraybuffer"!==C$99n?"text":"arraybuffer",C$99a.onerror=function(C$99t){C$99s._onError(C$99t);},C$99a.onabort=function(C$99t){C$99s._onAbort(C$99t);},C$99a.onprogress=function(C$99t){C$99s._onProgress(C$99t);},C$99a.onload=function(C$99t){C$99s._onLoad(C$99t);},C$99a.send(C$99e);},C$99t._onProgress=function(C$99t){C$99t&&C$99t.lengthComputable&&this.event("progress",C$99t.loaded/C$99t.total);},C$99t._onAbort=function(C$99t){this.error("Request was aborted by user");},C$99t._onError=function(C$99t){this.error("Request failed Status:"+this._http.status+" text:"+this._http.statusText);},C$99t._onLoad=function(C$99t){var C$99e=this._http,C$99i=void 0!==C$99e.status?C$99e.status:200;200===C$99i||204===C$99i||0===C$99i?this.complete():this.error("["+C$99e.status+"]"+C$99e.statusText+":"+C$99e.responseURL);},C$99t.error=function(C$99t){this.clear(),this.event("error",C$99t);},C$99t.complete=function(){this.clear();var C$99e=!0;try{"json"===this._responseType?this._data=JSON.parse(this._http.responseText):"xml"===this._responseType?this._data=C$99Z.parseXMLFromString(this._http.responseText):this._data=this._http.response||this._http.responseText;}catch(C$99t){C$99e=!1,this.error(C$99t.message);}C$99e&&this.event("complete",this._data instanceof Array?[this._data]:this._data);},C$99t.clear=function(){var C$99t=this._http;C$99t.onerror=C$99t.onabort=C$99t.onprogress=C$99t.onload=null;},C$99n(0,C$99t,"url",function(){return this._http.responseURL;}),C$99n(0,C$99t,"http",function(){return this._http;}),C$99n(0,C$99t,"data",function(){return this._data;}),e$t;}(),C$99ht=(C$99i(e$p,"laya.net.Loader",C$99h),(C$99e=e$p.prototype).load=function(C$99t,C$99e,C$99i,C$99n,C$99r){return C$99t&&""!=C$99t||console.error("Loader \u52a0\u8f7d\u7684url\u4e0d\u5408\u6cd5 "+C$99t),void 0===C$99i&&(C$99i=!0),void 0===C$99r&&(C$99r=!1),0===(this._url=C$99t).indexOf("data:image")?this._type=C$99e="image":this._type=C$99e=C$99e||this.getTypeFromUrl(C$99t),this._cache=C$99i,this._data=null,!C$99r&&e$p.loadedMap[C$99t]?(this._data=e$p.loadedMap[C$99t],this.event("progress",1),void this.event("complete",this._data)):(C$99n&&e$p.setGroup(C$99t,C$99n),null!=e$p.parserMap[C$99e]?(this._customParse=!0,void(e$p.parserMap[C$99e]instanceof laya.utils.Handler?e$p.parserMap[C$99e].runWith(this):e$p.parserMap[C$99e].call(null,this))):"image"===C$99e||"htmlimage"===C$99e||"nativeimage"===C$99e?this._loadImage(C$99t):"ttf"===C$99e?this._loadTTF(C$99t):void(e$p.preLoadedMap[C$99t]?this.onLoaded(e$p.preLoadedMap[C$99t]):C$99s.resMgrLoad(C$99t,this._onLoadedCallback,0<=this.priority?this.priority:2,this.realTime)));},C$99e.getTypeFromUrl=function(C$99t){var C$99e=C$99Z.getFileExtension(C$99t);return C$99e?e$p.typeMap[C$99e]:(console.warn("Not recognize the resources suffix",C$99t),"text");},C$99e._loadTTF=function(C$99t){C$99t=C$99L.formatURL(C$99t);var C$99e=new C$99B();C$99e.complete=C$99g.create(this,this.onLoaded),C$99e.load(C$99t);},C$99e._loadImage=function(C$99t){C$99s.imgMgrLoad(C$99t,this._onImageCallback,0<=this.priority?this.priority:2,this.realTime);},C$99e._loadImageComplete=function(C$99t,C$99e,C$99i){var C$99n;null!=C$99i?C$99i instanceof ArrayBuffer?(C$99n=new DataView(C$99i),C$99n=new laya.webgl.resource.WebGLImage(new Uint8Array(C$99i,8),C$99t,0,!1,C$99n.getUint32(0),C$99n.getUint32(4)),this.onLoaded(C$99n)):C$99i instanceof C$99ct?(e$p.imgMgrSet[C$99t]=C$99e,C$99s.imgMgrLock(C$99t,e$p.imgMgrSet[C$99t]),this._url=C$99t,this.complete(C$99i)):(C$99e=-1!=C$99t.indexOf(".png",C$99t.length-4)?6408:6407,C$99n=new laya.webgl.resource.WebGLImage(C$99i,C$99t,C$99e,!1,C$99i.width,C$99i.height),this.onLoaded(C$99n)):this.event("error","Load image failed");},C$99e.imageCancel=function(C$99t,C$99e,C$99i){C$99s.imgMgrCancel&&C$99s.imgMgrCancel(C$99t,this._onImageCallback);},C$99e._loadSound=function(C$99t){var C$99e=new C$99R._soundClass(),C$99i=this;function e$k(){C$99e.offAll();}C$99e.on("complete",this,function(){e$k(),C$99i.onLoaded(C$99e);}),C$99e.on("error",this,function(){e$k(),C$99e.dispose(),C$99i.event("error","Load sound failed");}),C$99e.load(C$99t);},C$99e.onProgress=function(C$99t){"atlas"===this._type?this.event("progress",.3*C$99t):this.event("progress",C$99t);},C$99e.onError=function(C$99t){this.event("error",C$99t);},C$99e._loadedComplete=function(C$99t,C$99e,C$99i){if(null!=C$99i)switch(this._type){case"atlas":case"plf":case"json":var C$99n=new C$99F(C$99i);this.onLoaded(JSON.parse(C$99n.readUTFBytes()));break;case"font":C$99n=new C$99F(C$99i),this.onLoaded(C$99Z.parseXMLFromString(C$99n.readUTFBytes()));break;default:this.onLoaded(C$99i);}else this.event("error",C$99t);},C$99e.onLoaded=function(C$99t){var C$99e=this._type;if("plf"==C$99e)this.parsePLFData(C$99t),this.complete(C$99t);else if("image"===C$99e){var C$99i=new C$99ct(C$99t);C$99i.url=this._url,this.complete(C$99i);}else if("sound"===C$99e||"htmlimage"===C$99e||"nativeimage"===C$99e)this.complete(C$99t);else if("atlas"===C$99e){if(!C$99t.src&&!C$99t._setContext){if(!this._data){if((this._data=C$99t).meta&&C$99t.meta.image)for(var C$99n=C$99t.meta.image.split(","),C$99i=0<=this._url.indexOf("/")?"/":"\\",C$99i=this._url.lastIndexOf(C$99i),C$99u=0<=C$99i?this._url.substr(0,C$99i+1):"",C$99r=0,C$99c=C$99n.length;C$99r<C$99c;C$99r++)C$99n[C$99r]=C$99u+C$99n[C$99r];else C$99n=[this._url.replace(".json",".png")];C$99n.reverse(),C$99t.toLoads=C$99n,C$99t.pics=[];}return this.event("progress",.3+1/C$99n.length*.6),this._loadImage(C$99n.pop());}if(!this._data.pics)throw new Error("this._data.pics == null, "+this._url);if(this._data.pics.push(C$99t),0<this._data.toLoads.length)return this.event("progress",.3+1/this._data.toLoads.length*.6),this._loadImage(this._data.toLoads.pop());var C$99_=this._data.frames,C$99i=this._url.split("?")[0],C$99s=this._data.meta&&this._data.meta.prefix?this._data.meta.prefix:C$99i.substring(0,C$99i.lastIndexOf("."))+"/",C$99d=this._data.pics,C$99i=C$99L.formatURL(this._url),C$99f=e$p.atlasMap[C$99i]||(e$p.atlasMap[C$99i]=[]);C$99f.dir=C$99s;var C$99p;if(this._data.meta&&this._data.meta.scale&&1!=this._data.meta.scale)for(var C$99a in C$99p=parseFloat(this._data.meta.scale),C$99_){var C$99m,C$99o=C$99_[C$99a],C$99g=C$99d[C$99o.frame.idx||0],C$99h=C$99L.formatURL(C$99s+C$99a);C$99g.scaleRate=C$99p,C$99m=C$99ct.create(C$99g,C$99o.frame.x,C$99o.frame.y,C$99o.frame.w,C$99o.frame.h,C$99o.spriteSourceSize.x,C$99o.spriteSourceSize.y,C$99o.sourceSize.w,C$99o.sourceSize.h),e$p.cacheRes(C$99h,C$99m),e$p.keepCache(this._url,C$99s+C$99a),C$99m.url=C$99h,C$99f.push(C$99h);}else for(C$99a in C$99_)C$99g=C$99d[(C$99o=C$99_[C$99a]).frame.idx?C$99o.frame.idx:0],C$99h=C$99L.formatURL(C$99s+C$99a),e$p.cacheRes(C$99h,C$99ct.create(C$99g,C$99o.frame.x,C$99o.frame.y,C$99o.frame.w,C$99o.frame.h,C$99o.spriteSourceSize.x,C$99o.spriteSourceSize.y,C$99o.sourceSize.w,C$99o.sourceSize.h)),e$p.loadedMap[C$99h].url=C$99h,e$p.keepCache(this._url,C$99s+C$99a),C$99f.push(C$99h);delete this._data.pics,this.complete(this._data);}else if("font"==C$99e){if(!C$99t.src)return this._data=C$99t,this.event("progress",.5),this._loadImage(this._url.replace(".fnt",".png"));C$99i=new C$99v();C$99i.parseFont(this._data,C$99t);var C$99l=this._url.split(".fnt")[0].split("/"),C$99l=C$99l[C$99l.length-1];C$99mt.registerBitmapFont(C$99l,C$99i),this._data=C$99i,this.complete(this._data);}else"pkm"==C$99e?(C$99l=C$99yt.create(C$99t,this._url),(C$99i=new C$99ct(C$99l)).url=this._url,this.complete(C$99i)):this.complete(C$99t);},C$99e.parsePLFData=function(C$99t){var C$99e,C$99i,C$99n;for(C$99e in C$99t)for(C$99i in C$99e,C$99n=C$99t[C$99e])e$p.preLoadedMap[C$99L.formatURL(C$99i)]=C$99n[C$99i];},C$99e.complete=function(C$99t){this._data=C$99t,this._customParse?this.event("loaded",C$99t instanceof Array?[C$99t]:C$99t):(e$p._loaders.push(this),e$p._isWorking||e$p.checkNext());},C$99e.endLoad=function(C$99t){C$99t&&(this._data=C$99t),this._cache&&e$p.cacheRes(this._url,this._data),this.event("progress",1),this.event("complete",this.data instanceof Array?[this.data]:this.data);},C$99n(0,C$99e,"url",function(){return this._url;}),C$99n(0,C$99e,"data",function(){return this._data;}),C$99n(0,C$99e,"cache",function(){return this._cache;}),C$99n(0,C$99e,"type",function(){return this._type;}),e$p.checkNext=function(){e$p._isWorking=!0;for(var C$99t=C$99S.now();e$p._startIndex<e$p._loaders.length;)if(C$99S.now(),e$p._loaders[e$p._startIndex].endLoad(),e$p._startIndex++,C$99S.now()-C$99t>e$p.maxTimeOut)return console.warn("loader callback cost a long time:"+(C$99S.now()-C$99t)+" url="+e$p._loaders[e$p._startIndex-1].url),void C$99y.timer.frameOnce(1,null,e$p.checkNext);e$p._loaders.length=0,e$p._startIndex=0,e$p._isWorking=!1;},e$p.clearRes=function(C$99t,C$99e){if(null!=C$99t){void 0===C$99e&&(C$99e=!1),C$99t=C$99L.formatURL(C$99t);var C$99i=e$p.getAtlas(C$99t);if(C$99i){for(var C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99n++){var C$99s=C$99i[C$99n],C$99a=e$p.getRes(C$99s);delete e$p.loadedMap[C$99s],e$p.clearCache(C$99t.substring(C$99L.basePath.length),C$99s.substring(C$99L.basePath.length)),C$99a&&C$99a.destroy(C$99e);}C$99i.length=0,delete e$p.atlasMap[C$99t],delete e$p.loadedMap[C$99t];}else{var C$99o=e$p.loadedMap[C$99t];C$99o&&(delete e$p.loadedMap[C$99t],C$99o instanceof laya.resource.Texture&&C$99o.bitmap&&C$99o.destroy(C$99e));}}},e$p.clearTextureRes=function(C$99t){C$99t=C$99L.formatURL(C$99t);var C$99e=laya.net.Loader.getAtlas(C$99t),C$99e=C$99e&&0<C$99e.length?laya.net.Loader.getRes(C$99e[0]):laya.net.Loader.getRes(C$99t);C$99e&&C$99e.bitmap&&(C$99T.isConchApp&&!C$99T.isConchWebGL?C$99e.bitmap.source.releaseTexture&&C$99e.bitmap.source.releaseTexture():null==C$99e.bitmap._atlaser&&C$99e.bitmap.releaseResource(!0));},e$p.getRes=function(C$99t){return e$p.loadedMap[C$99L.formatURL(C$99t)];},e$p.getAtlas=function(C$99t){return e$p.atlasMap[C$99L.formatURL(C$99t)];},e$p.cacheRes=function(C$99t,C$99e){C$99t=C$99L.formatURL(C$99t),null!=e$p.loadedMap[C$99t]?console.warn("Resources already exist,is repeated loading:",C$99t):e$p.loadedMap[C$99t]=C$99e;},e$p.setGroup=function(C$99t,C$99e){e$p.groupMap[C$99e]||(e$p.groupMap[C$99e]=[]),e$p.groupMap[C$99e].push(C$99t);},e$p.clearResByGroup=function(C$99t){if(e$p.groupMap[C$99t]){var C$99e=e$p.groupMap[C$99t],C$99i=0,C$99n=C$99e.length;for(C$99i=0;C$99i<C$99n;C$99i++)e$p.clearRes(C$99e[C$99i]);C$99e.length=0;}},e$p.keepCache=function(C$99t,C$99e){var C$99i;C$99t&&C$99e&&((C$99i=e$p.cacheSet[C$99e])?-1==C$99i.indexOf(C$99t)&&C$99i.push(C$99t):e$p.cacheSet[C$99e]=[C$99t]);},e$p.clearCache=function(C$99t,C$99e){var C$99i,C$99n;C$99t&&C$99e&&(!(C$99i=e$p.cacheSet[C$99e])||-1!==(C$99t=C$99i.indexOf(C$99t))&&(0==(C$99n=C$99i.length-1)?(delete e$p.cacheSet[C$99e],0<e$p.imgMgrSet[C$99e]?C$99s.imgMgrFree(C$99e,e$p.imgMgrSet[C$99e]):e$p.clearRes(C$99e,!0)):(C$99i[C$99t]=C$99i[C$99n],C$99i.length=C$99n)));},e$p.saveObject=function(C$99t,C$99e,C$99i){var C$99n;C$99e&&C$99t&&((C$99n=e$p.objectSet[C$99t])?(console.warn("Loader.saveObject: "+C$99t),C$99n[0]=C$99e,C$99n[1]=C$99i):e$p.objectSet[C$99t]=[C$99e,C$99i,[]]);},e$p.findObject=function(C$99t){if(C$99t){C$99t=e$p.objectSet[C$99t];if(C$99t)return C$99t[0];}return null;},e$p.keepObject=function(C$99t,C$99e){C$99t&&C$99e&&(C$99e=e$p.objectSet[C$99e])&&-1===C$99e[2].indexOf(C$99t)&&C$99e[2].push(C$99t);},e$p.clearObject=function(C$99t,C$99e){var C$99i,C$99n,C$99r;C$99t&&C$99e&&(!(C$99i=e$p.objectSet[C$99e])||-1!==(C$99t=(C$99n=C$99i[2]).indexOf(C$99t))&&(0==(C$99r=C$99n.length-1)?(delete e$p.objectSet[C$99e],C$99i[1]&&C$99i[1].call(null,C$99i[0])):(C$99n[C$99t]=C$99n[C$99r],C$99n.length=C$99r)));},e$p.TEXT="text",e$p.JSON="json",e$p.XML="xml",e$p.BUFFER="arraybuffer",e$p.IMAGE="image",e$p.SOUND="sound",e$p.ATLAS="atlas",e$p.FONT="font",e$p.TTF="ttf",e$p.PLF="plf",e$p.PKM="pkm",e$p.typeMap={png:"image",jpg:"image",jpeg:"image",txt:"text",json:"json",xml:"xml",als:"atlas",atlas:"atlas",mp3:"sound",ogg:"sound",wav:"sound",part:"json",fnt:"font",pkm:"pkm",ttf:"ttf",plf:"plf"},e$p.parserMap={},e$p.groupMap={},e$p.maxTimeOut=100,e$p.loadedMap={},e$p.preLoadedMap={},e$p.atlasMap={},e$p._loaders=[],e$p._isWorking=!1,e$p._startIndex=0,e$p.imgCache={},e$p.cacheSet={},e$p.objectSet={},e$p.imgMgrSet={},e$p),C$99lt=function(){var C$99_;function e$c(){this.retryNum=0,this.retryDelay=10,this.maxLoader=8,this._loaders=[],this._loaderCount=0,this._loaderMap={},this._resInfos=[],this._infoPool=[],this._maxPriority=5,this._failRes={},e$c.__super.call(this);for(var C$99t=0;C$99t<this._maxPriority;C$99t++)this._resInfos[C$99t]=[];}C$99i(e$c,"laya.net.LoaderManager",C$99h);var C$99t=e$c.prototype;return C$99t.create=function(C$99t,C$99i,C$99e,C$99n,C$99u,C$99r,C$99s,C$99c){if(null==C$99r&&(C$99r=2),null==C$99s&&(C$99s=!0),C$99t instanceof Array){var C$99a=C$99t,C$99o=C$99a.length,C$99_=0;var C$99d;C$99e&&(C$99d=C$99g.create(C$99e.caller,C$99e.method,C$99e.args,!1));for(var C$99h=0;C$99h<C$99o;C$99h++){var C$99l=C$99a[C$99h];(C$99l="string"==typeof C$99l?C$99a[C$99h]={url:C$99l}:C$99l).progress=0;}for(C$99h=0;C$99h<C$99o;C$99h++){C$99l=C$99a[C$99h];var C$99f=C$99e?C$99g.create(null,e$z,[C$99l],!1):null,C$99p=C$99e||C$99i?C$99g.create(null,e$D,[C$99l]):null;this._create(C$99l.url,C$99p,C$99f,C$99l.clas||C$99n,C$99l.params||C$99u,null!=C$99l.priority&&0<=C$99l.priority?C$99l.priority:C$99r,C$99s,C$99l.group||C$99c);}function e$D(C$99t,C$99e){C$99_++,C$99t.progress=1,C$99_===C$99o&&C$99i&&C$99i.run();}function e$z(C$99t,C$99e){C$99t.progress=C$99e;for(var C$99i=0,C$99n=0;C$99n<C$99o;C$99n++)C$99i+=C$99a[C$99n].progress;C$99d.runWith(C$99i/C$99o);}return!0;}return this._create(C$99t,C$99i,C$99e,C$99n,C$99u,C$99r,C$99s,C$99c);},C$99t._create=function(C$99e,C$99i,C$99t,C$99n,C$99u,C$99r,C$99s,C$99a){C$99e&&""!=C$99e||console.error("\u52a0\u8f7d\u7684url\u4e0d\u5408\u6cd5 "+C$99e),null==C$99r&&(C$99r=2),null==C$99s&&(C$99s=!0);var C$99c=C$99L.formatURL(C$99e),C$99o=this.getRes(C$99c);if(C$99o)!C$99o.hasOwnProperty("loaded")||C$99o.loaded?(C$99t&&C$99t.runWith(1),C$99i&&C$99i.run()):C$99i&&C$99y.loader._createListener(C$99e,C$99i.caller,C$99i.method,C$99i.args,!0,!1);else{var C$99h=C$99Z.getFileExtension(C$99e),C$99l=e$c.createMap[C$99h];if(!C$99l)throw new Error("LoaderManager:unknown file("+C$99e+") extension with: "+C$99h+".");C$99n=C$99n||C$99l[0];C$99l=C$99l[1];"atlas"==C$99h?this.load(C$99e,C$99i,C$99t,C$99l,C$99r,C$99s):(C$99n===C$99ct&&(C$99l="htmlimage"),(C$99o=C$99n?new C$99n():null).hasOwnProperty("_loaded")&&(C$99o._loaded=!1),C$99o._setUrl(C$99e),C$99a&&C$99o._setGroup(C$99a),this._createLoad(C$99o,C$99e,C$99g.create(null,function(C$99t){C$99o&&!C$99o.destroyed&&C$99t&&C$99o.onAsynLoaded.call(C$99o,C$99e,C$99t,C$99u),C$99i&&C$99i.run(),C$99y.loader.event(C$99e);}),C$99t,C$99l,C$99r,!1,C$99a,!0),C$99s&&this.cacheRes(C$99c,C$99o));}return C$99o;},C$99t.load=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){C$99t&&""!=C$99t||console.error("\u52a0\u8f7d\u7684url\u4e0d\u5408\u6cd5 "+C$99t);var C$99h=this;if(null==C$99r&&(C$99r=2),null==C$99s&&(C$99s=!0),void 0===C$99o&&(C$99o=!1),C$99t instanceof Array)return this._loadAssets(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a);var C$99u=C$99ht.getRes(C$99t);var C$99l;return null!=C$99u?C$99y.timer.frameOnce(1,null,function(){C$99i&&C$99i.runWith(1),C$99e&&C$99e.runWith(C$99u),C$99h._loaderCount||C$99h.event("complete");}):(C$99l=e$c._resMap[C$99t])?(C$99e&&C$99l._createListener("complete",C$99e.caller,C$99e.method,C$99e.args,!1,!1),C$99i&&C$99l._createListener("progress",C$99i.caller,C$99i.method,C$99i.args,!1,!1)):((C$99l=this._infoPool.length?this._infoPool.pop():new C$99_()).url=C$99t,C$99l.clas=null,C$99l.type=C$99n,C$99l.cache=C$99s,C$99l.group=C$99a,C$99l.ignoreCache=C$99o,C$99l.priority=C$99r,C$99e&&C$99l.on("complete",C$99e.caller,C$99e.method,C$99e.args),C$99i&&C$99l.on("progress",C$99i.caller,C$99i.method,C$99i.args),e$c._resMap[C$99t]=C$99l,C$99r=C$99r<this._maxPriority?0<=C$99r?C$99r:0:this._maxPriority-1,this._resInfos[C$99r].push(C$99l),this._next()),this;},C$99t.cancel=function(C$99t,C$99e,C$99i){if(C$99a=e$c._resMap[C$99t]){C$99e&&C$99a.off("complete",C$99e.caller,C$99e.method,!1),C$99i&&C$99a.off("progress",C$99i.caller,C$99i.method,!1);C$99e=C$99a.getListener("complete"),C$99i=C$99a.getListener("progress");if(!(C$99e&&C$99e.head||C$99i&&C$99i.head)){C$99a.loader&&((C$99e=C$99a.loader).imageCancel(C$99t),C$99e.offAll(),C$99e._data=null,C$99e._customParse=!1,C$99e._url=null,C$99e._class=null,C$99e._type=null,this._loaders.push(C$99e),this._loaderCount--,delete this._loaderMap[C$99a.url]);for(var C$99n=0;C$99n<this._maxPriority;C$99n++)for(var C$99r=this._resInfos[C$99n],C$99s=C$99r.length-1;-1<C$99s;C$99s--){var C$99a;(C$99a=C$99r[C$99s])&&C$99a.url===C$99t&&(C$99r[C$99s]=null,C$99a.destroy(),C$99a.offAll(),this._infoPool.push(C$99a));}delete e$c._resMap[C$99t],this._next();}}},C$99t._createLoad=function(C$99u,C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){var C$99h=this;if(null==C$99r&&(C$99r=2),null==C$99s&&(C$99s=!0),void 0===C$99o&&(C$99o=!1),C$99t instanceof Array)return this._loadAssets(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a);var C$99c=C$99ht.getRes(C$99t);var C$99l;return null!=C$99c?C$99y.timer.frameOnce(1,null,function(){C$99i&&C$99i.runWith(1),C$99e&&C$99e.runWith(C$99c),C$99h._loaderCount||C$99h.event("complete");}):(C$99l=e$c._resMap[C$99t])?(C$99e&&C$99l._createListener("complete",C$99e.caller,C$99e.method,C$99e.args,!1,!1),C$99i&&C$99l._createListener("progress",C$99i.caller,C$99i.method,C$99i.args,!1,!1)):((C$99l=this._infoPool.length?this._infoPool.pop():new C$99_()).url=C$99t,C$99l.clas=C$99u,C$99l.type=C$99n,C$99l.cache=C$99s,C$99l.group=C$99a,C$99l.ignoreCache=C$99o,C$99l.priority=C$99r,C$99e&&C$99l.on("complete",C$99e.caller,C$99e.method,C$99e.args),C$99i&&C$99l.on("progress",C$99i.caller,C$99i.method,C$99i.args),e$c._resMap[C$99t]=C$99l,C$99r=C$99r<this._maxPriority?0<=C$99r?C$99r:0:this._maxPriority-1,this._resInfos[C$99r].push(C$99l),this._next()),this;},C$99t._next=function(){if(!(this._loaderCount>=this.maxLoader)){for(var C$99t=0;C$99t<this._maxPriority;C$99t++)for(var C$99e=this._resInfos[C$99t];0<C$99e.length;){var C$99i=C$99e.shift();if(C$99i)return this._doLoad(C$99i);}this._loaderCount||this.event("complete");}},C$99t._doLoad=function(C$99e){var C$99i=this._loaders.length?this._loaders.pop():new C$99ht();this._loaderCount++,(this._loaderMap[C$99e.url]=C$99i).on("complete",null,e$W),C$99i.on("progress",null,function(C$99t){C$99e.event("progress",C$99t);}),C$99i.on("error",null,function(C$99t){e$W(null);}),C$99e.loader=C$99i;var C$99n=this;function e$W(C$99t){C$99i.offAll(),C$99i._data=null,C$99i._customParse=!1,C$99i._url=null,C$99i._class=null,C$99i._type=null,C$99n._loaders.push(C$99i),C$99n._loaderCount--,delete C$99n._loaderMap[C$99e.url],C$99n._endLoad(C$99e,C$99t instanceof Array?[C$99t]:C$99t),C$99n._next();}C$99i._class=C$99e.clas,1<=C$99e.priority?(C$99i.priority=C$99e.priority,C$99i.realTime=!1):(C$99i.priority=0,C$99i.realTime=!0),C$99i.load(C$99e.url,C$99e.type,C$99e.cache,C$99e.group,C$99e.ignoreCache);},C$99t._endLoad=function(C$99t,C$99e){var C$99i=C$99t.url;if(null==C$99e){var C$99n=this._failRes[C$99i]||0;if(C$99n<this.retryNum)return console.warn("[warn]Retry to load:",C$99i),this._failRes[C$99i]=C$99n+1,void C$99y.timer.once(this.retryDelay,this,this._addReTry,[C$99t],!1);console.warn("[error]Failed to load:",C$99i),this.event("error",C$99i);}this._failRes[C$99i]&&(this._failRes[C$99i]=0),delete e$c._resMap[C$99i],C$99t.event("complete",C$99e),C$99t.destroy(),C$99t.offAll(),this._infoPool.push(C$99t);},C$99t._addReTry=function(C$99t){this._resInfos[this._maxPriority-1].push(C$99t),this._next();},C$99t.clearRes=function(C$99t,C$99e){C$99ht.clearRes(C$99t,C$99e=void 0===C$99e?!1:C$99e);},C$99t.getRes=function(C$99t){return C$99ht.getRes(C$99t);},C$99t.cacheRes=function(C$99t,C$99e){C$99ht.cacheRes(C$99t,C$99e);},C$99t.clearTextureRes=function(C$99t){C$99ht.clearTextureRes(C$99t);},C$99t.setGroup=function(C$99t,C$99e){C$99ht.setGroup(C$99t,C$99e);},C$99t.clearResByGroup=function(C$99t){C$99ht.clearResByGroup(C$99t);},C$99t.clearUnLoaded=function(){for(var C$99t=0;C$99t<this._maxPriority;C$99t++){for(var C$99e=this._resInfos[C$99t],C$99i=C$99e.length-1;-1<C$99i;C$99i--){var C$99n=C$99e[C$99i];C$99n&&(C$99n.destroy(),C$99n.offAll(),this._infoPool.push(C$99n));}C$99e.length=0;}this._loaderCount=0,e$c._resMap={};},C$99t.cancelLoadByUrls=function(C$99t){if(C$99t)for(var C$99e=0,C$99i=C$99t.length;C$99e<C$99i;C$99e++)this.cancelLoadByUrl(C$99t[C$99e]);},C$99t.cancelLoadByUrl=function(C$99t){for(var C$99e=0;C$99e<this._maxPriority;C$99e++)for(var C$99i=this._resInfos[C$99e],C$99n=C$99i.length-1;-1<C$99n;C$99n--){var C$99r=C$99i[C$99n];C$99r&&C$99r.url===C$99t&&(C$99i[C$99n]=null,C$99r.destroy(),C$99r.offAll(),this._infoPool.push(C$99r));}e$c._resMap[C$99t]&&delete e$c._resMap[C$99t];},C$99t._loadAssets=function(C$99t,C$99i,C$99s,C$99u,C$99e,C$99n,C$99c){null==C$99e&&(C$99e=2),null==C$99n&&(C$99n=!0);for(var C$99r=C$99t.length,C$99a=0,C$99_=0,C$99o=[],C$99d=!0,C$99h=0;C$99h<C$99r;C$99h++){var C$99l=C$99t[C$99h];if(!C$99l)throw new Error("LoaderManager._loadAssets \u52a0\u8f7d\u5217\u8868\u9519\u8bef arr="+C$99t);(C$99l="string"==typeof C$99l?{url:C$99l,type:C$99u,size:1,priority:C$99e}:C$99l).size||(C$99l.size=1),C$99l.progress=0,C$99_+=C$99l.size,C$99o.push(C$99l);var C$99f=C$99s?C$99g.create(null,e$z,[C$99l],!1):null,C$99p=C$99i||C$99s?C$99g.create(null,e$D,[C$99l]):null;this.load(C$99l.url,C$99p,C$99f,C$99l.type,null!=C$99l.priority&&0<=C$99l.priority?C$99l.priority:2,C$99n,C$99l.group||C$99c);}function e$D(C$99t,C$99e){C$99a++,C$99t.progress=1,C$99e||(C$99d=!1),C$99a===C$99r&&C$99i&&C$99i.runWith(C$99d);}function e$z(C$99t,C$99e){if(null!=C$99s){C$99t.progress=C$99e;for(var C$99i=0,C$99n=0;C$99n<C$99o.length;C$99n++){var C$99r=C$99o[C$99n];C$99i+=C$99r.size*C$99r.progress;}C$99t=C$99i/C$99_;C$99s.runWith(C$99t);}}return this;},e$c.cacheRes=function(C$99t,C$99e){C$99ht.cacheRes(C$99t,C$99e);},e$c._resMap={},C$99a(e$c,["createMap",function(){return this.createMap={atlas:[null,"atlas"]};}]),e$c.__init$=function(){function e$t(){this.url=null,this.type=null,this.cache=!1,this.group=null,this.ignoreCache=!1,this.clas=null,this.loader=null,this.priority=-1,e$t.__super.call(this);}C$99i(e$t,"",C$99h),e$t.prototype.destroy=function(){this.url=null,this.type=null,this.cache=!1,this.group=null,this.ignoreCache=!1,this.clas=null,this.loader=void 0,this.priority=-1;},C$99_=e$t;},e$c;}(),C$99ut=(function(){function e$W(C$99t){e$W.__super.call(this),C$99t=C$99t||[.3,.59,.11,0,0,.3,.59,.11,0,0,.3,.59,.11,0,0,0,0,0,1,0],this._mat=new Float32Array(16),this._alpha=new Float32Array(4);for(var C$99e=0,C$99i=0,C$99n=0;C$99n<20;C$99n++)C$99n%5!=4?this._mat[C$99e++]=C$99t[C$99n]:this._alpha[C$99i++]=C$99t[C$99n];this._action=C$99m.createFilterAction(32),this._action.data=this;}C$99i(e$W,"laya.filters.ColorFilter",C$99b);var C$99t=e$W.prototype;C$99y.imps(C$99t,{"laya.filters.IFilter":!0}),C$99t.callNative=function(C$99t){C$99t._$P.cf=this,C$99t.conchModel&&C$99t.conchModel.setFilterMatrix&&C$99t.conchModel.setFilterMatrix(this._mat,this._alpha);},C$99n(0,C$99t,"type",function(){return 32;}),C$99n(0,C$99t,"action",function(){return this._action;});}(),function(){function e$k(C$99t,C$99e,C$99i){this._endian=null,this._stamp=NaN,this._socket=null,this._connected=!1,this._addInputPosition=0,this._input=null,this._output=null,this.timeout=0,this.objectEncoding=0,this.disableInput=!1,this._byteClass=null,this.protocols=[],void 0===C$99e&&(C$99e=0),e$k.__super.call(this),this._byteClass=C$99i||C$99F,this.endian="bigEndian",this.timeout=2e4,this._addInputPosition=0,C$99t&&0<C$99e&&C$99e<65535&&this.connect(C$99t,C$99e);}C$99i(e$k,"laya.net.Socket",C$99h);var C$99t=e$k.prototype;C$99t.connect=function(C$99t,C$99e){C$99t="https:"==C$99S.window.location.protocol?"wss://"+C$99t+":"+C$99e:"ws://"+C$99t+":"+C$99e,this.connectByUrl(C$99t);},C$99t.connectByUrl=function(C$99t){var C$99e=this;null!=this._socket&&this.close(),this._socket&&this.cleanSocket(),this.protocols&&0!=this.protocols.length?this._socket=new C$99S.window.WebSocket(C$99t,this.protocols):this._socket=new C$99S.window.WebSocket(C$99t),this._socket.binaryType="arraybuffer",this._output=new this._byteClass(),this._output.endian=this.endian,this._input=new this._byteClass(),this._input.endian=this.endian,this._addInputPosition=0,this._socket.onopen=function(C$99t){C$99e._onOpen(C$99t);},this._socket.onmessage=function(C$99t){C$99e._onMessage(C$99t);},this._socket.onclose=function(C$99t){C$99e._onClose(C$99t);},this._socket.onerror=function(C$99t){C$99e._onError(C$99t);};},C$99t.cleanSocket=function(){try{this._socket.close();}catch(C$99t){}this._connected=!1,this._socket.onopen=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket.onerror=null,this._socket=null;},C$99t.close=function(){if(null!=this._socket)try{this._socket.close();}catch(C$99t){}},C$99t._onOpen=function(C$99t){this._connected=!0,this.event("open",C$99t);},C$99t._onMessage=function(C$99t){var C$99e;C$99t&&C$99t.data&&(C$99t=C$99t.data,this.disableInput&&C$99t||(0<this._input.length&&this._input.bytesAvailable<1&&(this._input.clear(),this._addInputPosition=0),C$99e=this._input.pos,this._addInputPosition||(this._addInputPosition=0),this._input.pos=this._addInputPosition,C$99t&&("string"==typeof C$99t?this._input.writeUTFBytes(C$99t):this._input.writeArrayBuffer(C$99t),this._addInputPosition=this._input.pos,this._input.pos=C$99e)),this.event("message",C$99t));},C$99t._onClose=function(C$99t){this._connected=!1,this.event("close",C$99t);},C$99t._onError=function(C$99t){this.event("error",C$99t);},C$99t.send=function(C$99t){this._socket.send(C$99t);},C$99t.flush=function(){if(this._output&&0<this._output.length){var C$99e;try{this._socket&&this._socket.send(this._output.__getBuffer().slice(0,this._output.length));}catch(C$99t){C$99e=C$99t;}this._output.endian=this.endian,this._output.clear(),C$99e&&this.event("error",C$99e);}},C$99n(0,C$99t,"input",function(){return this._input;}),C$99n(0,C$99t,"output",function(){return this._output;}),C$99n(0,C$99t,"connected",function(){return this._connected;}),C$99n(0,C$99t,"endian",function(){return this._endian;},function(C$99t){this._endian=C$99t,null!=this._input&&(this._input.endian=C$99t),null!=this._output&&(this._output.endian=C$99t);}),e$k.LITTLE_ENDIAN="littleEndian",e$k.BIG_ENDIAN="bigEndian";}(),function(){function e$B(){e$B.__super.call(this),this._$1__id=++e$B._uniqueIDCounter,this.__loaded=!0,this._destroyed=!1,this._referenceCount=0,(e$B._idResourcesMap[this.id]=this)._released=!0,this.lock=!1,this._memorySize=0,this._lastUseFrameCount=-1,C$99V.currentResourceManager&&C$99V.currentResourceManager.addResource(this);}C$99i(e$B,"laya.resource.Resource",C$99h);var C$99t=e$B.prototype;return C$99y.imps(C$99t,{"laya.resource.ICreateResource":!0,"laya.resource.IDispose":!0}),C$99t._setUrl=function(C$99t){var C$99e;this._url!==C$99t&&(this._url&&((C$99e=e$B._urlResourcesMap[this._url]).splice(C$99e.indexOf(this),1),0===C$99e.length&&delete e$B._urlResourcesMap[this._url]),C$99t&&((C$99e=e$B._urlResourcesMap[C$99t])||(e$B._urlResourcesMap[C$99t]=C$99e=[]),C$99e.push(this)),this._url=C$99t);},C$99t._getGroup=function(){return this._group;},C$99t._setGroup=function(C$99t){var C$99e;this._group!==C$99t&&(this._group&&((C$99e=e$B._groupResourcesMap[this._group]).splice(C$99e.indexOf(this),1),0===C$99e.length&&delete e$B._groupResourcesMap[this._group]),C$99t&&((C$99e=e$B._groupResourcesMap[C$99t])||(e$B._groupResourcesMap[C$99t]=C$99e=[]),C$99e.push(this)),this._group=C$99t);},C$99t._addReference=function(){this._referenceCount++;},C$99t._removeReference=function(){this._referenceCount--;},C$99t._clearReference=function(){this._referenceCount=0;},C$99t._endLoaded=function(){this.__loaded=!0,this.event("loaded",this);},C$99t.recreateResource=function(){this.completeCreate();},C$99t.disposeResource=function(){},C$99t.activeResource=function(C$99t){void 0===C$99t&&(C$99t=!1),this._lastUseFrameCount=C$99j.loopCount,!this._destroyed&&this.__loaded&&(this._released||C$99t)&&this.recreateResource();},C$99t.releaseResource=function(C$99t){return!(!(C$99t=void 0===C$99t?!0:C$99t)&&this.lock||this._released&&!C$99t||(this.disposeResource(),this._released=!0,this._lastUseFrameCount=-1,this.event("released",this),0));},C$99t.onAsynLoaded=function(C$99t,C$99e,C$99i){throw new Error("Resource: must override this function!");},C$99t.destroy=function(){var C$99t;this._destroyed||(null!==this._resourceManager&&this._resourceManager.removeResource(this),this._destroyed=!0,this.lock=!1,this.releaseResource(),delete e$B._idResourcesMap[this.id],this._url&&((C$99t=e$B._urlResourcesMap[this._url])&&(C$99t.splice(C$99t.indexOf(this),1),0===C$99t.length&&delete e$B._urlResourcesMap[this.url]),C$99ht.clearRes(this._url),this.__loaded||C$99m.cancelLoadByUrl(this._url)),this._group&&((C$99t=e$B._groupResourcesMap[this._group]).splice(C$99t.indexOf(this),1),0===C$99t.length&&delete e$B._groupResourcesMap[this.url]));},C$99t.completeCreate=function(){this._released=!1,this.event("recovered",this);},C$99t.dispose=function(){this.destroy();},C$99n(0,C$99t,"memorySize",function(){return this._memorySize;},function(C$99t){var C$99e=C$99t-this._memorySize;this._memorySize=C$99t,this.resourceManager&&this.resourceManager.addRecord(this.uri,this.__className,C$99e),this.resourceManager&&this.resourceManager.addSize(C$99e);}),C$99n(0,C$99t,"_loaded",null,function(C$99t){this.__loaded=C$99t;}),C$99n(0,C$99t,"loaded",function(){return this.__loaded;}),C$99n(0,C$99t,"id",function(){return this._$1__id;}),C$99n(0,C$99t,"destroyed",function(){return this._destroyed;}),C$99n(0,C$99t,"group",function(){return this._getGroup();},function(C$99t){this._setGroup(C$99t);}),C$99n(0,C$99t,"resourceManager",function(){return this._resourceManager;}),C$99n(0,C$99t,"url",function(){return this._url;}),C$99n(0,C$99t,"released",function(){return this._released;}),C$99n(0,C$99t,"referenceCount",function(){return this._referenceCount;}),e$B.getResourceByID=function(C$99t){return e$B._idResourcesMap[C$99t];},e$B.getResourceByURL=function(C$99t,C$99e){return void 0===C$99e&&(C$99e=0),null==e$B._urlResourcesMap[C$99t]?null:e$B._urlResourcesMap[C$99t][C$99e];},e$B.getResourceCountByURL=function(C$99t){return e$B._urlResourcesMap[C$99t].length;},e$B.destroyUnusedResources=function(C$99t){var C$99e;if(C$99t){C$99t=e$B._groupResourcesMap[C$99t];if(C$99t)for(var C$99i=C$99t.slice(),C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99n++)(C$99e=C$99i[C$99n]).lock||0!==C$99e._referenceCount||C$99e.destroy();}else for(var C$99s in e$B._idResourcesMap)(C$99e=e$B._idResourcesMap[C$99s]).lock||0!==C$99e._referenceCount||C$99e.destroy();},e$B._uniqueIDCounter=0,e$B._idResourcesMap={},e$B._urlResourcesMap={},e$B._groupResourcesMap={},e$B;}()),C$99ct=function(){function e$p(C$99t,C$99e){this.offsetX=0,this.offsetY=0,this.sourceWidth=0,this.sourceHeight=0,this._w=0,this._h=0,this._uvID=0,this._atlasID=-1,this.scaleRate=1,e$p.__super.call(this),C$99t&&null!=C$99t._addReference&&C$99t._addReference(),this.setTo(C$99t,C$99e);}C$99i(e$p,"laya.resource.Texture",C$99h);var C$99t=e$p.prototype;return C$99t._setUrl=function(C$99t){this.url=C$99t;},C$99t.setTo=function(C$99t,C$99e){var C$99i;var C$99n;C$99t instanceof C$99s.HTMLElement?(C$99i=C$99$t.create("2D",C$99t),this.bitmap=C$99i):this.bitmap=C$99t,this.uv=C$99e||e$p.DEF_UV,C$99t&&(this._w=C$99t.width,this._h=C$99t.height,this.sourceWidth=this.sourceWidth||this._w,this.sourceHeight=this.sourceHeight||this._h,this._loaded=0<this._w,(C$99n=this)._loaded?C$99m.addToAtlas&&C$99m.addToAtlas(C$99n):C$99t instanceof laya.resource.HTMLImage&&C$99t.image&&C$99t.image.addEventListener("load",function(C$99t){C$99m.addToAtlas&&C$99m.addToAtlas(C$99n);},!1));},C$99t.active=function(){this.bitmap&&this.bitmap.activeResource();},C$99t.destroy=function(C$99t){var C$99e;void 0===C$99t&&(C$99t=!1),this.alphaTexture&&(this.alphaTexture.destroy(C$99t),this.alphaTexture=null),this.bitmap&&0<this.bitmap.referenceCount&&(C$99e=this.bitmap,C$99t?(C$99T.isConchApp&&C$99e.source&&C$99e.source.conchDestroy&&this.bitmap.source.conchDestroy(),this.bitmap=null,C$99e.dispose(),C$99e._clearReference()):(C$99e._removeReference(),0==C$99e.referenceCount&&(C$99T.isConchApp&&C$99e.source&&C$99e.source.conchDestroy&&this.bitmap.source.conchDestroy(),this.bitmap=null,C$99e.dispose())),this.url&&this===C$99y.loader.getRes(this.url)&&C$99y.loader.clearRes(this.url,C$99t),this._loaded=!1);},C$99t.load=function(C$99t){var C$99e=this;this._loaded=!1,C$99t=C$99L.customFormat(C$99t);var C$99i=this.bitmap||(this.bitmap=C$99yt.create(C$99t));C$99i.uri=C$99t,C$99i&&C$99i._addReference();var C$99n=this;C$99i.onload=function(){C$99i.onload=null,C$99n._loaded=!0,C$99e.sourceWidth=C$99e._w=C$99i.width,C$99e.sourceHeight=C$99e._h=C$99i.height,C$99n.event("loaded",this),C$99m.addToAtlas&&C$99m.addToAtlas(C$99n);};},C$99t.addTextureToAtlas=function(C$99t){C$99m.addTextureToAtlas(this);},C$99t.getPixels=function(C$99t,C$99e,C$99i,C$99n){var C$99r;return C$99T.isConchApp?(C$99r=this.bitmap).source&&C$99r.source.getImageData?(C$99r=C$99r.source.getImageData(C$99t,C$99e,C$99i,C$99n),C$99r=new Uint8Array(C$99r),Array.from(C$99r)):null:C$99T.isWebGL?C$99m.getTexturePixels(this,C$99t,C$99e,C$99i,C$99n):(C$99S.canvas.size(C$99i,C$99n),C$99S.canvas.clear(),C$99S.context.drawTexture(this,-C$99t,-C$99e,this.width,this.height,0,0),C$99S.context.getImageData(0,0,C$99i,C$99n).data);},C$99t.onAsynLoaded=function(C$99t,C$99e){if(C$99e){if("function"!=typeof C$99e._addReference)throw new Error("bitmap._addReference is not a function. "+C$99e.className+" "+typeof C$99e._addReference+" "+C$99e.constructor);C$99e._addReference();}this.setTo(C$99e,this.uv),this._loaded&&this.event("loaded",this);},C$99n(0,C$99t,"source",function(){return this.bitmap?(this.bitmap.activeResource(),this.bitmap.source):null;}),C$99n(0,C$99t,"loaded",function(){return this._loaded;}),C$99n(0,C$99t,"released",function(){return!this.bitmap||this.bitmap.released;}),C$99n(0,C$99t,"width",function(){return this._w||(this.uv&&this.uv!==e$p.DEF_UV?(this.uv[2]-this.uv[0])*this.bitmap.width:this.bitmap.width);},function(C$99t){this._w=C$99t,this.sourceWidth||(this.sourceWidth=C$99t);}),C$99n(0,C$99t,"repeat",function(){return!C$99T.isWebGL||!this.bitmap||this.bitmap.repeat;},function(C$99t){C$99t&&C$99T.isWebGL&&this.bitmap&&(this.bitmap.repeat=C$99t)&&(this.bitmap.enableMerageInAtlas=!1);}),C$99n(0,C$99t,"height",function(){return this._h||(this.uv&&this.uv!==e$p.DEF_UV?(this.uv[5]-this.uv[1])*this.bitmap.height:this.bitmap.height);},function(C$99t){this._h=C$99t,this.sourceHeight||(this.sourceHeight=C$99t);}),C$99n(0,C$99t,"isLinearSampling",function(){return!C$99T.isWebGL||9728!=this.bitmap.minFifter;},function(C$99t){!C$99t&&C$99T.isWebGL&&(C$99t||-1!=this.bitmap.minFifter||-1!=this.bitmap.magFifter||(this.bitmap.minFifter=9728,this.bitmap.magFifter=9728,this.bitmap.enableMerageInAtlas=!1));}),e$p.moveUV=function(C$99t,C$99e,C$99i){for(var C$99n=0;C$99n<8;C$99n+=2)C$99i[C$99n]+=C$99t,C$99i[C$99n+1]+=C$99e;return C$99i;},e$p.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99u,C$99c){void 0===C$99s&&(C$99s=0),void 0===C$99a&&(C$99a=0),void 0===C$99u&&(C$99u=0),void 0===C$99c&&(C$99c=0);var C$99o=C$99t instanceof laya.resource.Texture,C$99h=C$99o?C$99t.uv:e$p.DEF_UV,C$99o=C$99o?C$99t.bitmap:C$99t,C$99_=C$99m.isAtlas(C$99o);if(C$99_){var C$99l=C$99o._atlaser,C$99t=C$99t._atlasID;if(-1==C$99t)throw new Error("create texture error");C$99o=C$99l._inAtlasTextureBitmapValue[C$99t],C$99h=C$99l._inAtlasTextureOriUVValue[C$99t];}C$99l=new e$p(C$99o,null);C$99o.width&&C$99e+C$99n>C$99o.width&&(C$99n=C$99o.width-C$99e),C$99o.height&&C$99i+C$99r>C$99o.height&&(C$99r=C$99o.height-C$99i),C$99l.width=C$99n,C$99l.height=C$99r,C$99l.offsetX=C$99s,C$99l.offsetY=C$99a,C$99l.sourceWidth=C$99u||C$99n,C$99l.sourceHeight=C$99c||C$99r;C$99t=1/C$99o.width,C$99s=1/C$99o.height;var C$99a=C$99l.uv[0],C$99u=C$99l.uv[1],C$99c=C$99l.uv[4],C$99d=C$99l.uv[5],C$99f=C$99c-C$99a,C$99p=C$99d-C$99u,C$99h=e$p.moveUV(C$99h[0],C$99h[1],[C$99e*=C$99t,C$99i*=C$99s,C$99e+(C$99n*=C$99t),C$99i,C$99e+C$99n,C$99i+(C$99r*=C$99s),C$99e,C$99i+C$99r]);C$99l.uv=[C$99a+C$99h[0]*C$99f,C$99u+C$99h[1]*C$99p,C$99c-(1-C$99h[2])*C$99f,C$99u+C$99h[3]*C$99p,C$99c-(1-C$99h[4])*C$99f,C$99d-(1-C$99h[5])*C$99p,C$99a+C$99h[6]*C$99f,C$99d-(1-C$99h[7])*C$99p],C$99_&&C$99l.addTextureToAtlas();C$99t=C$99o.scaleRate;return C$99t&&1!=C$99t?(C$99l.sourceWidth/=C$99t,C$99l.sourceHeight/=C$99t,C$99l.width/=C$99t,C$99l.height/=C$99t,C$99l.scaleRate=C$99t,C$99l.offsetX/=C$99t,C$99l.offsetY/=C$99t):C$99l.scaleRate=1,C$99l;},e$p.createFromTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99t.scaleRate;1!=C$99s&&(C$99e*=C$99s,C$99i*=C$99s,C$99n*=C$99s,C$99r*=C$99s);var C$99s=C$99E.TEMP.setTo(C$99e-C$99t.offsetX,C$99i-C$99t.offsetY,C$99n,C$99r),C$99a=C$99s.intersection(e$p._rect1.setTo(0,0,C$99t.width,C$99t.height),e$p._rect2);if(!C$99a)return null;var C$99o=e$p.create(C$99t,C$99a.x,C$99a.y,C$99a.width,C$99a.height,C$99a.x-C$99s.x,C$99a.y-C$99s.y,C$99n,C$99r);if(C$99o.bitmap&&C$99o.bitmap._removeReference)return C$99o.bitmap._removeReference(),C$99o;C$99o="bitmap:"+(C$99o.bitmap?C$99o.bitmap.constructor?C$99o.bitmap.constructor.name:C$99o.bitmap.__className:"")+", url:"+C$99t.url+" | "+(C$99o.bitmap||C$99t).url+", x="+C$99e+",y="+C$99i+",width="+C$99n+",height="+C$99r+", result="+(C$99a?C$99a.x+","+C$99a.y+","+C$99a.width+","+C$99a.height:"null")+", rect="+C$99s.x+","+C$99s.y+","+C$99s.width+","+C$99s.height;throw new Error("\u62a5\u9519\uff1abitmap._removeReference is not a function  "+C$99o);},e$p.DEF_UV=[0,0,1,0,1,1,0,1],e$p.INV_UV=[0,1,1,1,1,0,0,0],e$p._rect1=new C$99E(),e$p._rect2=new C$99E(),e$p;}(),C$99t=function(){var C$99o;function e$i(){this._labelDic=null,this._tweenDic={},this._tweenDataList=[],this._endTweenDataList=null,this._currTime=0,this._lastTime=0,this._startTime=0,this._index=0,this._gidIndex=0,this._firstTweenDic={},this._startTimeSort=!1,this._endTimeSort=!1,this._loopKey=!1,this.scale=1,this._frameRate=60,this._frameIndex=0,this._total=0,e$i.__super.call(this);}C$99i(e$i,"laya.utils.TimeLine",C$99h);var C$99t=e$i.prototype;return C$99t.to=function(C$99t,C$99e,C$99i,C$99n,C$99r){return this._create(C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?0:C$99r,!0);},C$99t.from=function(C$99t,C$99e,C$99i,C$99n,C$99r){return this._create(C$99t,C$99e,C$99i,C$99n,C$99r=void 0===C$99r?0:C$99r,!1);},C$99t._create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=C$99X.getItemByClass("tweenData",C$99o);return C$99a.isTo=C$99s,C$99a.type=0,C$99a.target=C$99t,C$99a.duration=C$99i,C$99a.data=C$99e,C$99a.startTime=this._startTime+C$99r,C$99a.endTime=C$99a.startTime+C$99a.duration,C$99a.ease=C$99n,this._startTime=Math.max(C$99a.endTime,this._startTime),this._tweenDataList.push(C$99a),this._startTimeSort=!0,this._endTimeSort=!0,this;},C$99t.addLabel=function(C$99t,C$99e){var C$99i=C$99X.getItemByClass("tweenData",C$99o);return C$99i.type=1,C$99i.data=C$99t,C$99i.endTime=C$99i.startTime=this._startTime+C$99e,this._labelDic||(this._labelDic={}),this._labelDic[C$99t]=C$99i,this._tweenDataList.push(C$99i),this;},C$99t.removeLabel=function(C$99t){var C$99e;this._labelDic&&this._labelDic[C$99t]&&(!(C$99e=this._labelDic[C$99t])||-1<(C$99e=this._tweenDataList.indexOf(C$99e))&&this._tweenDataList.splice(C$99e,1),delete this._labelDic[C$99t]);},C$99t.gotoTime=function(C$99t){if(null!=this._tweenDataList&&0!=this._tweenDataList.length){var C$99e,C$99i,C$99n,C$99r;for(var C$99s in this._firstTweenDic)if(C$99i=this._firstTweenDic[C$99s])for(var C$99a in C$99i)C$99i.diyTarget.hasOwnProperty(C$99a)&&(C$99i.diyTarget[C$99a]=C$99i[C$99a]);for(C$99s in this._tweenDic)(C$99e=this._tweenDic[C$99s]).clear(),delete this._tweenDic[C$99s];this._index=0,this._gidIndex=0,this._currTime=C$99t,this._lastTime=C$99S.now(),null==this._endTweenDataList||this._endTimeSort?(this._endTimeSort=!1,this._endTweenDataList=C$99n=this._tweenDataList.concat(),C$99n.sort(function(C$99t,C$99e){return C$99t.endTime>C$99e.endTime?1:C$99t.endTime<C$99e.endTime?-1:0;})):C$99n=this._endTweenDataList;for(var C$99o=0,C$99h=C$99n.length;C$99o<C$99h;C$99o++)if(0==(C$99r=C$99n[C$99o]).type){if(!(C$99t>=C$99r.endTime))break;this._index=Math.max(this._index,C$99o+1);var C$99l=C$99r.data;if(C$99r.isTo)for(var C$99u in C$99l)C$99r.target[C$99u]=C$99l[C$99u];}for(C$99o=0,C$99h=this._tweenDataList.length;C$99o<C$99h;C$99o++)0==(C$99r=this._tweenDataList[C$99o]).type&&C$99t>=C$99r.startTime&&C$99t<C$99r.endTime&&(this._index=Math.max(this._index,C$99o+1),this._gidIndex++,(C$99e=C$99X.getItemByClass("tween",C$99q))._create(C$99r.target,C$99r.data,C$99r.duration,C$99r.ease,C$99g.create(this,this._animComplete,[this._gidIndex]),0,!1,C$99r.isTo,!0,!1),C$99e.setStartTime(this._currTime-(C$99t-C$99r.startTime)),C$99e._updateEase(this._currTime),C$99e.gid=this._gidIndex,this._tweenDic[this._gidIndex]=C$99e);}},C$99t.gotoLabel=function(C$99t){null==this._labelDic||(C$99t=this._labelDic[C$99t])&&this.gotoTime(C$99t.startTime);},C$99t.pause=function(){C$99y.timer.clear(this,this._update);},C$99t.resume=function(){this.play(this._currTime,this._loopKey);},C$99t.play=function(C$99t,C$99e){if(void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=!1),this._tweenDataList){if(this._startTimeSort){this._startTimeSort=!1,this._tweenDataList.sort(function(C$99t,C$99e){return C$99t.startTime>C$99e.startTime?1:C$99t.startTime<C$99e.startTime?-1:0;});for(var C$99i=0,C$99n=this._tweenDataList.length;C$99i<C$99n;C$99i++){var C$99r=this._tweenDataList[C$99i];if(null!=C$99r&&0==C$99r.type){var C$99s=C$99r.target,C$99a=C$99s.$_GID||(C$99s.$_GID=C$99Z.getGID()),C$99o=null;for(var C$99h in null==this._firstTweenDic[C$99a]?((C$99o={}).diyTarget=C$99s,this._firstTweenDic[C$99a]=C$99o):C$99o=this._firstTweenDic[C$99a],C$99r.data)null==C$99o[C$99h]&&(C$99o[C$99h]=C$99s[C$99h]);}}}"string"==typeof C$99t?this.gotoLabel(C$99t):this.gotoTime(C$99t),this._loopKey=C$99e,this._lastTime=C$99S.now(),C$99y.timer.frameLoop(1,this,this._update);}},C$99t._update=function(){if(this._currTime>=this._startTime){if(!this._loopKey){for(var C$99t in this._tweenDic)(C$99e=this._tweenDic[C$99t]).complete();return this._complete(),void this.pause();}if(this._complete(),!this._tweenDataList)return;this.gotoTime(0);}var C$99e,C$99i=C$99S.now(),C$99n=C$99i-this._lastTime,C$99r=this._currTime+=C$99n*this.scale;for(C$99t in this._lastTime=C$99i,this._tweenDic)(C$99e=this._tweenDic[C$99t])._updateEase(C$99r);0!=this._tweenDataList.length&&this._index<this._tweenDataList.length&&C$99r>=(C$99n=this._tweenDataList[this._index]).startTime&&(this._index++,0==C$99n.type?(this._gidIndex++,(C$99e=C$99X.getItemByClass("tween",C$99q))._create(C$99n.target,C$99n.data,C$99n.duration,C$99n.ease,C$99g.create(this,this._animComplete,[this._gidIndex]),0,!1,C$99n.isTo,!0,!1),C$99e.setStartTime(C$99r),C$99e.gid=this._gidIndex,(this._tweenDic[this._gidIndex]=C$99e)._updateEase(C$99r)):this.event("label",C$99n.data));},C$99t._animComplete=function(C$99t){this._tweenDic[C$99t]&&delete this._tweenDic[C$99t];},C$99t._complete=function(){this.event("complete");},C$99t.reset=function(){if(this._labelDic)for(var C$99t in this._labelDic)delete this._labelDic[C$99t];for(C$99t in this._tweenDic)this._tweenDic[C$99t].clear(),delete this._tweenDic[C$99t];for(C$99t in this._firstTweenDic)delete this._firstTweenDic[C$99t];if(this._endTweenDataList=null,this._tweenDataList&&this._tweenDataList.length){var C$99e,C$99i=0;for(C$99e=this._tweenDataList.length,C$99i=0;C$99i<C$99e;C$99i++)this._tweenDataList[C$99i]&&this._tweenDataList[C$99i].destroy();}this._tweenDataList.length=0,this._currTime=0,this._lastTime=0,this._startTime=0,this._index=0,this._gidIndex=0,this.scale=1,C$99y.timer.clear(this,this._update);},C$99t.destroy=function(){this.reset(),this._labelDic=null,this._tweenDic=null,this._tweenDataList=null,this._firstTweenDic=null;},C$99n(0,C$99t,"index",function(){return this._frameIndex;},function(C$99t){this._frameIndex=C$99t,this.gotoTime(this._frameIndex/this._frameRate*1e3);}),C$99n(0,C$99t,"total",function(){return this._total=Math.floor(this._startTime/1e3*this._frameRate),this._total;}),e$i.to=function(C$99t,C$99e,C$99i,C$99n,C$99r){return void 0===C$99r&&(C$99r=0),new e$i().to(C$99t,C$99e,C$99i,C$99n,C$99r);},e$i.from=function(C$99t,C$99e,C$99i,C$99n,C$99r){return void 0===C$99r&&(C$99r=0),new e$i().from(C$99t,C$99e,C$99i,C$99n,C$99r);},e$i.__init$=function(){function e$d(){this.type=0,this.isTo=!0,this.startTime=NaN,this.endTime=NaN,this.target=null,this.duration=NaN,this.ease=null,this.data=null;}C$99i(e$d,""),e$d.prototype.destroy=function(){this.target=null,this.ease=null,this.data=null,this.isTo=!0,this.type=0,C$99X.recover("tweenData",this);},C$99o=e$d;},e$i;}(),C$99_t=function(C$99r){function e$l(){this._transform=null,this._tfChanged=!1,this._x=0,this._y=0,this._width=0,this._height=0,this._repaint=1,this._mouseEnableState=0,this._zOrder=0,this._graphics=null,this._renderType=0,this._optimizeScrollRect=!1,this._texture=null,this.mouseThrough=!1,this.autoSize=!1,this.hitTestPrior=!1,this.viewport=null,e$l.__super.call(this),this._style=C$99l.EMPTY;}C$99i(e$l,"laya.display.Sprite",C$99r);var C$99t=e$l.prototype;return C$99y.imps(C$99t,{"laya.display.ILayout":!0}),C$99t.createConchModel=function(){return new ConchNode();},C$99t.destroy=function(C$99t){var C$99e;void 0===C$99t&&(C$99t=!0),this._releaseMem(),this._destroyed||(this.filters=null,(C$99e=this.mask)&&(this.mask=null,C$99e.destroy(C$99t))),C$99r.prototype.destroy.call(this,C$99t),this._style&&this._style.destroy(),this._transform&&this._transform.destroy(),this._transform=null,this._style=null,this._graphics=null;},C$99t.updateZOrder=function(){C$99Z.updateOrder(this._childs)&&this.repaint();},C$99t.reCache=function(){this._$P.cacheCanvas&&(this._$P.cacheCanvas.reCache=!0),this._repaint=1;},C$99t.setBounds=function(C$99t){this._set$P("uBounds",C$99t);},C$99t.getBounds=function(){return this._$P.mBounds||this._set$P("mBounds",new C$99E()),C$99E._getWrapRec(this._boundPointsToParent(),this._$P.mBounds);},C$99t.getSelfBounds=function(){return this._$P.uBounds||(this._$P.mBounds||this._set$P("mBounds",new C$99E()),C$99E._getWrapRec(this._getBoundPointsM(!1),this._$P.mBounds));},C$99t._boundPointsToParent=function(C$99t){void 0===C$99t&&(C$99t=!1);var C$99e=0,C$99i=0;this._style&&(C$99e=this._style._tf.translateX,C$99i=this._style._tf.translateY,C$99t=C$99t||0!==this._style._tf.rotate,this._style.scrollRect&&(C$99e+=this._style.scrollRect.x,C$99i+=this._style.scrollRect.y));var C$99n=this._getBoundPointsM(C$99t);if(!C$99n||C$99n.length<1)return C$99n;if(8!=C$99n.length&&(C$99n=C$99t?C$99C.scanPList(C$99n):C$99E._getWrapRec(C$99n,C$99E.TEMP)._getBoundPoints()),!this.transform)return C$99Z.transPointList(C$99n,this._x-C$99e,this._y-C$99i),C$99n;var C$99r=C$99D.TEMP,C$99s=0,C$99a=C$99n.length;for(C$99s=0;C$99s<C$99a;C$99s+=2)C$99r.x=C$99n[C$99s],C$99r.y=C$99n[C$99s+1],this.toParentPoint(C$99r),C$99n[C$99s]=C$99r.x,C$99n[C$99s+1]=C$99r.y;return C$99n;},C$99t.getGraphicBounds=function(C$99t){return void 0===C$99t&&(C$99t=!1),this._graphics?this._graphics.getBounds(C$99t):C$99E.TEMP.setTo(0,0,0,0);},C$99t._getBoundPointsM=function(C$99t){if(void 0===C$99t&&(C$99t=!1),this._$P.uBounds)return this._$P.uBounds._getBoundPoints();var C$99e,C$99i;if(this._$P.temBM||this._set$P("temBM",[]),this.scrollRect)return C$99e=C$99Z.clearArray(this._$P.temBM),(C$99i=C$99E.TEMP).copyFrom(this.scrollRect),C$99Z.concatArray(C$99e,C$99i._getBoundPoints()),C$99e;for(var C$99n,C$99r,C$99s,C$99a=this._graphics?this._graphics.getBoundPoints():C$99Z.clearArray(this._$P.temBM),C$99o=0,C$99h=(C$99s=this._childs).length;C$99o<C$99h;C$99o++)(C$99n=C$99s[C$99o])instanceof laya.display.Sprite&&1==C$99n.visible&&(C$99r=C$99n._boundPointsToParent(C$99t))&&(C$99a=C$99a?C$99Z.concatArray(C$99a,C$99r):C$99r);return C$99a;},C$99t.getStyle=function(){return this._style===C$99l.EMPTY&&(this._style=new C$99l()),this._style;},C$99t.setStyle=function(C$99t){this._style=C$99t;},C$99t._adjustTransform=function(){this._tfChanged=!1;var C$99t,C$99e=this._style._tf,C$99i=C$99e.scaleX,C$99n=C$99e.scaleY;var C$99r,C$99s,C$99a;return C$99e.rotate||1!==C$99i||1!==C$99n||C$99e.skewX||C$99e.skewY?((C$99t=this._transform||(this._transform=C$99I.create())).bTransform=!0,C$99a=.0174532922222222*(C$99e.rotate-C$99e.skewX),C$99e=.0174532922222222*(C$99e.rotate+C$99e.skewY),C$99r=Math.cos(C$99e),C$99e=Math.sin(C$99e),C$99s=Math.sin(C$99a),C$99a=Math.cos(C$99a),C$99t.a=C$99i*C$99r,C$99t.b=C$99i*C$99e,C$99t.c=-C$99n*C$99s,C$99t.d=C$99n*C$99a,C$99t.tx=C$99t.ty=0):(this._transform&&this._transform.destroy(),this._transform=null,this._renderType&=-5),C$99t;},C$99t.pos=function(C$99t,C$99e,C$99i){if(void 0===C$99i&&(C$99i=!1),this._x!==C$99t||this._y!==C$99e){if(this.destroyed)return this;C$99i?(this._x=C$99t,this._y=C$99e,this.conchModel&&this.conchModel.pos(this._x,this._y),(C$99i=this._parent)&&0===C$99i._repaint&&(C$99i._repaint=1,C$99i.parentRepaint()),this._$P.maskParent&&0===this._$P.maskParent._repaint&&(this._$P.maskParent._repaint=1,this._$P.maskParent.parentRepaint())):(this.x=C$99t,this.y=C$99e);}return this;},C$99t.pivot=function(C$99t,C$99e){return this.pivotX=C$99t,this.pivotY=C$99e,this;},C$99t.size=function(C$99t,C$99e){return this.width=C$99t,this.height=C$99e,this;},C$99t.scale=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=!1);var C$99n=this.getStyle(),C$99r=C$99n._tf;if(C$99r.scaleX!=C$99t||C$99r.scaleY!=C$99e){if(this.destroyed)return this;C$99i?(C$99n.setScale(C$99t,C$99e),this._tfChanged=!0,this.conchModel&&this.conchModel.scale(C$99t,C$99e),this._renderType|=4,(C$99r=this._parent)&&0===C$99r._repaint&&(C$99r._repaint=1,C$99r.parentRepaint())):(this.scaleX=C$99t,this.scaleY=C$99e);}return this;},C$99t.skew=function(C$99t,C$99e){return this.skewX=C$99t,this.skewY=C$99e,this;},C$99t.render=function(C$99t,C$99e,C$99i){C$99j.spriteCount++,C$99k.renders[this._renderType]._fun(this,C$99t,C$99e+this._x,C$99i+this._y),this._repaint=0;},C$99t.drawToCanvas=function(C$99t,C$99e,C$99i,C$99n){var C$99r;return C$99T.isConchNode?(C$99r=C$99$t.create("2D"),new C$99N(C$99t,C$99e,C$99r).ctx.setCanvasType(1),this.conchModel.drawToCanvas(C$99r.source,C$99i,C$99n),C$99r):C$99m.drawToCanvas(this,this._renderType,C$99t,C$99e,C$99i,C$99n);},C$99t.customRender=function(C$99t,C$99e,C$99i){this._renderType|=1024;},C$99t._applyFilters=function(){var C$99t;if(!C$99T.isWebGL&&(C$99t=this._$P.filters)&&!(C$99t.length<1))for(var C$99e=0,C$99i=C$99t.length;C$99e<C$99i;C$99e++)C$99t[C$99e].action.apply(this._$P.cacheCanvas);},C$99t._isHaveGlowFilter=function(){var C$99t,C$99e=0;if(this.filters)for(C$99e=0;C$99e<this.filters.length;C$99e++)if(8==this.filters[C$99e].type)return!0;for(C$99e=0,C$99t=this._childs.length;C$99e<C$99t;C$99e++)if(this._childs[C$99e]._isHaveGlowFilter())return!0;return!1;},C$99t.localToGlobal=function(C$99t,C$99e){!0===(C$99e=void 0===C$99e?!1:C$99e)&&(C$99t=new C$99D(C$99t.x,C$99t.y));for(var C$99i=this;C$99i&&C$99i!=C$99y.stage;)C$99t=C$99i.toParentPoint(C$99t),C$99i=C$99i.parent;return C$99t;},C$99t.globalToLocal=function(C$99t,C$99e){(C$99e=void 0===C$99e?!1:C$99e)&&(C$99t=new C$99D(C$99t.x,C$99t.y));for(var C$99i=this,C$99n=[];C$99i&&C$99i!=C$99y.stage;)C$99n.push(C$99i),C$99i=C$99i.parent;for(var C$99r=C$99n.length-1;0<=C$99r;)C$99t=(C$99i=C$99n[C$99r]).fromParentPoint(C$99t),C$99r--;return C$99t;},C$99t.toParentPoint=function(C$99t){if(!C$99t)return C$99t;C$99t.x-=this.pivotX,C$99t.y-=this.pivotY,this.transform&&this._transform.transformPoint(C$99t),C$99t.x+=this._x,C$99t.y+=this._y;var C$99e=this._style.scrollRect;return C$99e&&(C$99t.x-=C$99e.x,C$99t.y-=C$99e.y),C$99t;},C$99t.fromParentPoint=function(C$99t){if(!C$99t)return C$99t;C$99t.x-=this._x,C$99t.y-=this._y;var C$99e=this._style.scrollRect;return C$99e&&(C$99t.x+=C$99e.x,C$99t.y+=C$99e.y),this.transform&&this._transform.invertTransformPoint(C$99t),C$99t.x+=this.pivotX,C$99t.y+=this.pivotY,C$99t;},C$99t.on=function(C$99t,C$99e,C$99i,C$99n){return 1!==this._mouseEnableState&&this.isMouseEvent(C$99t)?(this.mouseEnabled=!0,this._setBit(2,!0),this._parent&&this._$2__onDisplay(),this._createListener(C$99t,C$99e,C$99i,C$99n,!1)):C$99r.prototype.on.call(this,C$99t,C$99e,C$99i,C$99n);},C$99t.once=function(C$99t,C$99e,C$99i,C$99n){return 1!==this._mouseEnableState&&this.isMouseEvent(C$99t)?(this.mouseEnabled=!0,this._setBit(2,!0),this._parent&&this._$2__onDisplay(),this._createListener(C$99t,C$99e,C$99i,C$99n,!0)):C$99r.prototype.once.call(this,C$99t,C$99e,C$99i,C$99n);},C$99t._$2__onDisplay=function(){if(1!==this._mouseEnableState){var C$99t=this;for(C$99t=C$99t.parent;C$99t&&1!==C$99t._mouseEnableState&&!C$99t._getBit(2);)C$99t.mouseEnabled=!0,C$99t._setBit(2,!0),C$99t=C$99t.parent;}},C$99t.loadImage=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=this;return void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0),this.graphics.loadImage(C$99t,C$99e,C$99i,C$99n,C$99r,function(C$99t){C$99a.destroyed||(C$99a.size(C$99e+(C$99n||C$99t.width),C$99i+(C$99r||C$99t.height)),C$99a.repaint(),C$99s&&C$99s.runWith(C$99t));}),this;},C$99t.repaint=function(){this.conchModel&&this.conchModel.repaint&&this.conchModel.repaint(),0===this._repaint&&(this._repaint=1,this.parentRepaint()),this._$P&&this._$P.maskParent&&this._$P.maskParent.repaint();},C$99t._needRepaint=function(){return 0!==this._repaint&&this._$P.cacheCanvas&&this._$P.cacheCanvas.reCache;},C$99t._childChanged=function(C$99t){this._childs.length?this._renderType|=2048:this._renderType&=-2049,C$99t&&this._get$P("hasZorder")&&C$99y.timer.callLater(this,this.updateZOrder),this.repaint();},C$99t.parentRepaint=function(){var C$99t=this._parent;C$99t&&0===C$99t._repaint&&(C$99t._repaint=1,C$99t.parentRepaint());},C$99t.startDrag=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){void 0===C$99e&&(C$99e=!1),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=300),void 0===C$99s&&(C$99s=!1),void 0===C$99a&&(C$99a=.92),this._$P.dragging||this._set$P("dragging",new C$99G()),this._$P.dragging.start(this,C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a);},C$99t.stopDrag=function(){this._$P.dragging&&this._$P.dragging.stop();},C$99t._releaseMem=function(){var C$99t;this._$P&&((C$99t=this._$P.cacheCanvas)&&C$99t.ctx&&(C$99X.recover("RenderContext",C$99t.ctx),C$99t.ctx.canvas.size(0,0),C$99t.ctx=null),(C$99t=this._$P._filterCache)&&(C$99t.destroy(),C$99t.recycle(),this._set$P("_filterCache",null)),this._$P._isHaveGlowFilter&&this._set$P("_isHaveGlowFilter",!1),this._$P._isHaveGlowFilter=null);},C$99t._setDisplay=function(C$99t){C$99t||this._releaseMem(),C$99r.prototype._setDisplay.call(this,C$99t);},C$99t.hitTestPoint=function(C$99t,C$99e){var C$99i=this.globalToLocal(C$99D.TEMP.setTo(C$99t,C$99e));return C$99t=C$99i.x,C$99e=C$99i.y,(this._$P.hitArea||(0<this._width&&0<this._height?C$99E.TEMP.setTo(0,0,this._width,this._height):this.getSelfBounds())).contains(C$99t,C$99e);},C$99t.getMousePoint=function(){return this.globalToLocal(C$99D.TEMP.setTo(C$99y.stage.mouseX,C$99y.stage.mouseY));},C$99t._getWords=function(){return null;},C$99t._addChildsToLayout=function(C$99t){var C$99e=this._getWords();if(null==C$99e&&0==this._childs.length)return!1;if(C$99e)for(var C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)C$99t.push(C$99e[C$99i]);C$99i=0;for(var C$99r=this._childs.length;C$99i<C$99r;++C$99i){var C$99s=this._childs[C$99i];C$99s._style._enableLayout()&&C$99s._addToLayout(C$99t);}return!0;},C$99t._addToLayout=function(C$99t){this._style.absolute||(this._style.block?C$99t.push(this):this._addChildsToLayout(C$99t)&&(this.x=this.y=0));},C$99t._isChar=function(){return!1;},C$99t._getCSSStyle=function(){return this._style.getCSSStyle();},C$99t._setAttributes=function(C$99t,C$99e){switch(C$99t){case"x":this.x=parseFloat(C$99e);break;case"y":this.y=parseFloat(C$99e);break;case"width":this.width=parseFloat(C$99e);break;case"height":this.height=parseFloat(C$99e);break;default:this[C$99t]=C$99e;}},C$99t._layoutLater=function(){this.parent&&this.parent._layoutLater();},C$99n(0,C$99t,"optimizeScrollRect",function(){return this._optimizeScrollRect;},function(C$99t){this._optimizeScrollRect!=C$99t&&(this._optimizeScrollRect=C$99t,this.conchModel&&this.conchModel.optimizeScrollRect(C$99t));}),C$99n(0,C$99t,"customRenderEnable",null,function(C$99t){C$99t&&(this._renderType|=1024,C$99T.isConchNode)&&(e$l.CustomList.push(this),(C$99t=new C$99$t("2d"))._setContext(new CanvasRenderingContext2D()),this.customContext=new C$99N(0,0,C$99t),C$99t.context.setCanvasType&&C$99t.context.setCanvasType(2),this.conchModel.custom(C$99t.context));}),C$99n(0,C$99t,"cacheAsBitmap",function(){return"none"!==this.cacheAs;},function(C$99t){this.cacheAs=!C$99t||this._$P.hasFilter?"none":"normal";}),C$99n(0,C$99t,"cacheAs",function(){return null==this._$P.cacheCanvas?"none":this._$P.cacheCanvas.type;},function(C$99t){var C$99e=this._$P.cacheCanvas;C$99t!==(C$99e?C$99e.type:"none")&&("none"!==C$99t?(this._getBit(1)||this._setUpNoticeType(1),(C$99e=C$99e||this._set$P("cacheCanvas",C$99X.getItemByClass("cacheCanvas",Object))).type=C$99t,C$99e.reCache=!0,this._renderType|=16,"bitmap"==C$99t&&this.conchModel&&this.conchModel.cacheAs(1),this._set$P("cacheForFilters",!1)):this._$P._mask||(this._$P.hasFilter?this._set$P("cacheForFilters",!0):(C$99e&&((C$99t=C$99e)&&C$99t.ctx&&(C$99X.recover("RenderContext",C$99t.ctx),C$99t.ctx.canvas.size(0,0),C$99t.ctx=null),C$99X.recover("cacheCanvas",C$99e)),this._$P.cacheCanvas=null,this._renderType&=-17,this.conchModel&&this.conchModel.cacheAs(0))),this.repaint());}),C$99n(0,C$99t,"zOrder",function(){return this._zOrder;},function(C$99t){this._zOrder!=C$99t&&(this._zOrder=C$99t,this.conchModel&&this.conchModel.setZOrder&&this.conchModel.setZOrder(C$99t),this._parent&&(C$99t&&this._parent._set$P("hasZorder",!0),C$99y.timer.callLater(this._parent,this.updateZOrder)));}),C$99n(0,C$99t,"rotation",function(){return this._style._tf.rotate;},function(C$99t){var C$99e=this.getStyle();C$99e._tf.rotate!==C$99t&&(C$99e.setRotate(C$99t),this._tfChanged=!0,this.conchModel&&this.conchModel.rotate(C$99t),this._renderType|=4,(C$99e=this._parent)&&0===C$99e._repaint&&(C$99e._repaint=1,C$99e.parentRepaint()));}),C$99n(0,C$99t,"width",function(){return this.autoSize?this.getSelfBounds().width:this._width;},function(C$99t){this._width!==C$99t&&(this._width=C$99t,this.conchModel&&this.conchModel.size(C$99t,this._height),this.repaint());}),C$99n(0,C$99t,"x",function(){return this._x;},function(C$99t){this._x!==C$99t&&(this.destroyed||(this._x=C$99t,this.conchModel&&this.conchModel.pos(C$99t,this._y),(C$99t=this._parent)&&0===C$99t._repaint&&(C$99t._repaint=1,C$99t.parentRepaint()),this._$P.maskParent&&0===this._$P.maskParent._repaint&&(this._$P.maskParent._repaint=1,this._$P.maskParent.parentRepaint())));}),C$99n(0,C$99t,"globalScaleY",function(){for(var C$99t=1,C$99e=this;C$99e&&C$99e!==C$99y.stage;)C$99t*=C$99e.scaleY,C$99e=C$99e.parent;return C$99t;}),C$99n(0,C$99t,"hitArea",function(){return this._$P.hitArea;},function(C$99t){this._set$P("hitArea",C$99t);}),C$99n(0,C$99t,"staticCache",function(){return this._$P.staticCache;},function(C$99t){this._set$P("staticCache",C$99t),C$99t||this.reCache();}),C$99n(0,C$99t,"texture",function(){return this._texture;},function(C$99t){this._texture!=C$99t&&(this._texture=C$99t,this.graphics.cleanByTexture(C$99t,0,0));}),C$99n(0,C$99t,"y",function(){return this._y;},function(C$99t){this._y!==C$99t&&(this.destroyed||(this._y=C$99t,this.conchModel&&this.conchModel.pos(this._x,C$99t),(C$99t=this._parent)&&0===C$99t._repaint&&(C$99t._repaint=1,C$99t.parentRepaint()),this._$P.maskParent&&0===this._$P.maskParent._repaint&&(this._$P.maskParent._repaint=1,this._$P.maskParent.parentRepaint())));}),C$99n(0,C$99t,"height",function(){return this.autoSize?this.getSelfBounds().height:this._height;},function(C$99t){this._height!==C$99t&&(this._height=C$99t,this.conchModel&&this.conchModel.size(this._width,C$99t),this.repaint());}),C$99n(0,C$99t,"blendMode",function(){return this._style.blendMode;},function(C$99t){this.getStyle().blendMode=C$99t,this.conchModel&&this.conchModel.blendMode(C$99t),C$99t&&"source-over"!=C$99t?this._renderType|=8:this._renderType&=-9,this.parentRepaint();}),C$99n(0,C$99t,"scaleX",function(){return this._style._tf.scaleX;},function(C$99t){var C$99e=this.getStyle();C$99e._tf.scaleX!==C$99t&&(C$99e.setScaleX(C$99t),this._tfChanged=!0,this.conchModel&&this.conchModel.scale(C$99t,C$99e._tf.scaleY),this._renderType|=4,(C$99t=this._parent)&&0===C$99t._repaint&&(C$99t._repaint=1,C$99t.parentRepaint()));}),C$99n(0,C$99t,"scaleY",function(){return this._style._tf.scaleY;},function(C$99t){var C$99e=this.getStyle();C$99e._tf.scaleY!==C$99t&&(C$99e.setScaleY(C$99t),this._tfChanged=!0,this.conchModel&&this.conchModel.scale(C$99e._tf.scaleX,C$99t),this._renderType|=4,(C$99e=this._parent)&&0===C$99e._repaint&&(C$99e._repaint=1,C$99e.parentRepaint()));}),C$99n(0,C$99t,"stage",function(){return C$99y.stage;}),C$99n(0,C$99t,"skewX",function(){return this._style._tf.skewX;},function(C$99t){var C$99e=this.getStyle();C$99e._tf.skewX!==C$99t&&(C$99e.setSkewX(C$99t),this._tfChanged=!0,this.conchModel&&this.conchModel.skew(C$99t,C$99e._tf.skewY),this._renderType|=4,(C$99t=this._parent)&&0===C$99t._repaint&&(C$99t._repaint=1,C$99t.parentRepaint()));}),C$99n(0,C$99t,"scrollRect",function(){return this._style.scrollRect;},function(C$99t){this.getStyle().scrollRect=C$99t,this.repaint(),C$99t?(this._renderType|=128,this.conchModel&&this.conchModel.scrollRect(C$99t.x,C$99t.y,C$99t.width,C$99t.height)):(this._renderType&=-129,this.conchModel&&(e$l.RUNTIMEVERION<"0.9.1"?this.conchModel.removeType(64):this.conchModel.removeType(128)));}),C$99n(0,C$99t,"skewY",function(){return this._style._tf.skewY;},function(C$99t){var C$99e=this.getStyle();C$99e._tf.skewY!==C$99t&&(C$99e.setSkewY(C$99t),this._tfChanged=!0,this.conchModel&&this.conchModel.skew(C$99e._tf.skewX,C$99t),this._renderType|=4,(C$99e=this._parent)&&0===C$99e._repaint&&(C$99e._repaint=1,C$99e.parentRepaint()));}),C$99n(0,C$99t,"transform",function(){return this._tfChanged?this._adjustTransform():this._transform;},function(C$99t){this._tfChanged=!1,(this._transform=C$99t)&&(this._x=C$99t.tx,this._y=C$99t.ty,C$99t.tx=C$99t.ty=0,this.conchModel&&this.conchModel.transform(C$99t.a,C$99t.b,C$99t.c,C$99t.d,this._x,this._y)),C$99t?this._renderType|=4:(this._renderType&=-5,this.conchModel&&this.conchModel.removeType(4)),this.parentRepaint();}),C$99n(0,C$99t,"pivotX",function(){return this._style._tf.translateX;},function(C$99t){this.getStyle().setTranslateX(C$99t),this.conchModel&&this.conchModel.pivot(C$99t,this._style._tf.translateY),this.repaint();}),C$99n(0,C$99t,"pivotY",function(){return this._style._tf.translateY;},function(C$99t){this.getStyle().setTranslateY(C$99t),this.conchModel&&this.conchModel.pivot(this._style._tf.translateX,C$99t),this.repaint();}),C$99n(0,C$99t,"alpha",function(){return this._style.alpha;},function(C$99t){this._style&&this._style.alpha!==C$99t&&(C$99t=C$99t<0?0:1<C$99t?1:C$99t,this.getStyle().alpha=C$99t,this.conchModel&&this.conchModel.alpha(C$99t),1!==C$99t?this._renderType|=2:this._renderType&=-3,this.parentRepaint());}),C$99n(0,C$99t,"visible",function(){return this._style.visible;},function(C$99t){this._style&&this._style.visible!==C$99t&&(this.getStyle().visible=C$99t,this.conchModel&&this.conchModel.visible(C$99t),this.parentRepaint());}),C$99n(0,C$99t,"graphics",function(){return this._graphics||(this.graphics=C$99m.createGraphics());},function(C$99t){this._graphics&&(this._graphics._sp=null),(this._graphics=C$99t)?(this._renderType&=-2,this._renderType|=512,(C$99t._sp=this).conchModel&&this.conchModel.graphics(this._graphics)):(this._renderType&=-513,this._renderType&=-2,this.conchModel&&(e$l.RUNTIMEVERION<"0.9.1"?this.conchModel.removeType(256):this.conchModel.removeType(512))),this.repaint();}),C$99n(0,C$99t,"filters",function(){return this._$P.filters;},function(C$99t){C$99t&&0===C$99t.length&&(C$99t=null),this._$P.filters!=C$99t&&(this._set$P("filters",C$99t?C$99t.slice():null),C$99T.isConchApp&&(this.conchModel&&(e$l.RUNTIMEVERION<"0.9.1"?this.conchModel.removeType(16):this.conchModel.removeType(32)),this._$P.filters&&1==this._$P.filters.length&&this._$P.filters[0].callNative(this)),C$99T.isWebGL&&(C$99t&&C$99t.length?this._renderType|=32:this._renderType&=-33),C$99t&&0<C$99t.length?(this._getBit(1)||this._setUpNoticeType(1),C$99T.isWebGL&&1==C$99t.length&&C$99t[0]instanceof laya.filters.ColorFilter||("bitmap"!=this.cacheAs&&(C$99T.isConchNode||(this.cacheAs="bitmap"),this._set$P("cacheForFilters",!0)),this._set$P("hasFilter",!0))):(this._set$P("hasFilter",!1),this._$P.cacheForFilters&&"bitmap"==this.cacheAs&&(this.cacheAs="none")),this.repaint());}),C$99n(0,C$99t,"parent",C$99r.prototype._$get_parent,function(C$99t){C$99y.superSet(C$99et,this,"parent",C$99t),C$99t&&this._getBit(2)&&this._$2__onDisplay();}),C$99n(0,C$99t,"mask",function(){return this._$P._mask;},function(C$99t){C$99t&&this.mask&&this.mask._$P.maskParent||(C$99t?(this.cacheAs="bitmap",this._set$P("_mask",C$99t),C$99t._set$P("maskParent",this)):(this.mask&&this.mask._set$P("maskParent",null),this._set$P("_mask",C$99t),this.cacheAs="none"),this.conchModel&&this.conchModel.mask(C$99t?C$99t.conchModel:null),this._renderType|=64,this.parentRepaint());}),C$99n(0,C$99t,"mouseEnabled",function(){return 1<this._mouseEnableState;},function(C$99t){this._mouseEnableState=C$99t?2:1;}),C$99n(0,C$99t,"globalScaleX",function(){for(var C$99t=1,C$99e=this;C$99e&&C$99e!==C$99y.stage;)C$99t*=C$99e.scaleX,C$99e=C$99e.parent;return C$99t;}),C$99n(0,C$99t,"mouseX",function(){return this.getMousePoint().x;}),C$99n(0,C$99t,"mouseY",function(){return this.getMousePoint().y;}),e$l.fromImage=function(C$99t){return new e$l().loadImage(C$99t);},e$l._cachePool=[],e$l.CustomList=[],C$99a(e$l,["RUNTIMEVERION",function(){return this.RUNTIMEVERION=C$99s.conch?conchConfig.getRuntimeVersion().substr(conchConfig.getRuntimeVersion().lastIndexOf("-")+1):"";}]),e$l;}(C$99et),C$99dt=function(){function e$t(C$99t){this._audio=null,this._onEnd=null,this._resumePlay=null,e$t.__super.call(this),this._onEnd=C$99Z.bind(this.__onEnd,this),this._resumePlay=C$99Z.bind(this.__resumePlay,this),C$99t.addEventListener("ended",this._onEnd),this._audio=C$99t;}C$99i(e$t,"laya.media.h5audio.AudioSoundChannel",C$99rt);var C$99t=e$t.prototype;return C$99t.__onEnd=function(){if(1==this.loops)return this.completeHandler&&(C$99y.timer.once(10,this,this.__runComplete,[this.completeHandler],!1),this.completeHandler=null),this.stop(),void this.event("complete");0<this.loops&&this.loops--,this.startTime=0,this.play(!0);},C$99t.__resumePlay=function(){this._audio&&this._audio.removeEventListener("canplay",this._resumePlay);try{this._audio.currentTime=this.startTime,C$99S.container.appendChild(this._audio),this._audio.play();}catch(C$99t){this.event("error");}},C$99t.play=function(C$99t){this.isStopped=!1;try{this._audio.playbackRate=C$99R.playbackRate,this._audio.currentTime=this.startTime;}catch(C$99t){return void this._audio.addEventListener("canplay",this._resumePlay);}C$99R.addChannel(this),C$99S.container.appendChild(this._audio),!C$99t&&this.startHandler&&this.startHandler.runWith(this),"play"in this._audio&&this._audio.play();},C$99t.stop=function(){this.isStopped=!0,C$99R.removeChannel(this),this.startHandler=null,this.completeHandler=null,this._audio&&("pause"in this._audio&&C$99T.isConchApp&&this._audio.stop(),this._audio.pause(),this._audio.removeEventListener("ended",this._onEnd),this._audio.removeEventListener("canplay",this._resumePlay),C$99S.onIE||this._audio!=C$99nt._musicAudio&&C$99X.recover("audio:"+this.url,this._audio),C$99S.removeElement(this._audio),this._audio=null);},C$99t.pause=function(){this.isStopped=!0,C$99R.removeChannel(this),"pause"in this._audio&&this._audio.pause();},C$99t.resume=function(){this._audio&&(this.isStopped=!1,C$99R.addChannel(this),this.startHandler&&this.startHandler.runWith(this),"play"in this._audio&&this._audio.play());},C$99n(0,C$99t,"position",function(){return this._audio?this._audio.currentTime:0;}),C$99n(0,C$99t,"duration",function(){return this._audio?this._audio.duration:0;}),C$99n(0,C$99t,"volume",function(){return this._audio?this._audio.volume:1;},function(C$99t){this._audio&&(this._audio.volume=C$99t);}),e$t;}(),C$99ft=function(){function e$t(){this.audioBuffer=null,this.gain=null,this.bufferSource=null,this._currentTime=0,this._volume=1,this._startTime=0,this._pauseTime=0,this._onPlayEnd=null,this.context=C$99at.ctx,e$t.__super.call(this),this._onPlayEnd=C$99Z.bind(this.__onPlayEnd,this),this.context.createGain?this.gain=this.context.createGain():this.gain=this.context.createGainNode();}C$99i(e$t,"laya.media.webaudio.WebAudioSoundChannel",C$99rt);var C$99t=e$t.prototype;return C$99t.play=function(C$99t){var C$99e,C$99i,C$99n;C$99R.addChannel(this),this.isStopped=!1,this._clearBufferSource(),this.audioBuffer&&(C$99e=this.context,C$99i=this.gain,C$99n=C$99e.createBufferSource(),(this.bufferSource=C$99n).buffer=this.audioBuffer,C$99n.connect(C$99i),C$99i&&C$99i.disconnect(),C$99i.connect(C$99e.destination),C$99n.onended=this._onPlayEnd,this.startTime>=this.duration&&(this.startTime=0),this._startTime=C$99S.now(),this.gain.gain.setTargetAtTime?this.gain.gain.setTargetAtTime(this._volume,this.context.currentTime,.1):this.gain.gain.value=this._volume,0==this.loops&&(C$99n.loop=!0),C$99n.playbackRate.setTargetAtTime?C$99n.playbackRate.setTargetAtTime(C$99R.playbackRate,this.context.currentTime,.1):C$99n.playbackRate.value=C$99R.playbackRate,C$99n.start(0,this.startTime),!C$99t&&this.startHandler&&this.startHandler.runWith(this),this._currentTime=0);},C$99t.__onPlayEnd=function(){if(1==this.loops)return this.completeHandler&&(C$99y.timer.once(10,this,this.__runComplete,[this.completeHandler],!1),this.completeHandler=null),this.stop(),void this.event("complete");0<this.loops&&this.loops--,this.startTime=0,this.play(!0);},C$99t._clearBufferSource=function(){var C$99t;this.bufferSource&&((C$99t=this.bufferSource).stop?C$99t.stop(0):C$99t.noteOff(0),C$99t.disconnect(0),C$99t.onended=null,e$t._tryCleanFailed||this._tryClearBuffer(C$99t),this.bufferSource=null);},C$99t._tryClearBuffer=function(C$99t){try{C$99t.buffer=null;}catch(C$99t){e$t._tryCleanFailed=!0;}},C$99t.stop=function(){this._clearBufferSource(),this.audioBuffer=null,this.gain&&this.gain.disconnect(),this.isStopped=!0,C$99R.removeChannel(this),this.startHandler=null,this.completeHandler=null;},C$99t.pause=function(){this.isStopped||(this._pauseTime=this.position),this._clearBufferSource(),this.gain&&this.gain.disconnect(),this.isStopped=!0,C$99R.removeChannel(this);},C$99t.resume=function(){this.startTime=this._pauseTime,this.play(!1);},C$99n(0,C$99t,"position",function(){return this.bufferSource?(C$99S.now()-this._startTime)/1e3+this.startTime:0;}),C$99n(0,C$99t,"duration",function(){return this.audioBuffer?this.audioBuffer.duration:0;}),C$99n(0,C$99t,"volume",function(){return this._volume;},function(C$99t){this.isStopped||(this._volume=C$99t,this.gain.gain.setTargetAtTime?this.gain.gain.setTargetAtTime(C$99t,this.context.currentTime,.1):this.gain.gain.value=C$99t);}),e$t._tryCleanFailed=!1,e$t;}(),C$99pt=function(){function e$t(){e$t.__super.call(this),this._w=0,this._h=0;}C$99i(e$t,"laya.resource.Bitmap",C$99ut);var C$99t=e$t.prototype;return C$99n(0,C$99t,"width",function(){return this._w;}),C$99n(0,C$99t,"height",function(){return this._h;}),C$99n(0,C$99t,"source",function(){return this._source;}),e$t;}(),C$99e=function(C$99e){function e$d(){this.loop=!1,this.wrapMode=0,this._index=0,this._count=0,this._isPlaying=!1,this._labels=null,this._isReverse=!1,this._frameRateChanged=!1,this._controlNode=null,this._actionName=null,e$d.__super.call(this),this._interval=C$99o.animationInterval,this._setUpNoticeType(1);}C$99i(e$d,"laya.display.AnimationPlayerBase",C$99e);var C$99t=e$d.prototype;return C$99t.play=function(C$99t,C$99e,C$99i,C$99n){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=!0),void 0===C$99i&&(C$99i=""),void 0===C$99n&&(C$99n=!0),this._isPlaying=!0,this.index="string"==typeof C$99t?this._getFrameByLabel(C$99t):C$99t,this.loop=C$99e,this._actionName=C$99i,this._isReverse=1==this.wrapMode,0<this.interval&&this.timerLoop(this.interval,this,this._frameLoop,null,!0,!0);},C$99t._getFrameByLabel=function(C$99t){var C$99e=0;for(C$99e=0;C$99e<this._count;C$99e++)if(this._labels[C$99e]&&0<=this._labels[C$99e].indexOf(C$99t))return C$99e;return 0;},C$99t._frameLoop=function(){if(this._isReverse){if(this._index--,this._index<0){if(!this.loop)return this._index=0,this.stop(),void this.event("complete");2==this.wrapMode?(this._index=0<this._count?1:0,this._isReverse=!1):this._index=this._count-1,this.event("complete");}}else if(this._index++,this._index>=this._count){if(!this.loop)return this._index--,this.stop(),void this.event("complete");2==this.wrapMode?(this._index=0<=this._count-2?this._count-2:0,this._isReverse=!0):this._index=0,this.event("complete");}this.index=this._index;},C$99t._setControlNode=function(C$99t){this._controlNode&&(this._controlNode.off("display",this,this._checkResumePlaying),this._controlNode.off("undisplay",this,this._checkResumePlaying)),(this._controlNode=C$99t)&&C$99t!=this&&(C$99t.on("display",this,this._checkResumePlaying),C$99t.on("undisplay",this,this._checkResumePlaying));},C$99t._setDisplay=function(C$99t){C$99e.prototype._setDisplay.call(this,C$99t),this._checkResumePlaying();},C$99t._checkResumePlaying=function(){this._isPlaying&&(this._controlNode.displayedInStage?this.play(this._index,this.loop,this._actionName):this.clearTimer(this,this._frameLoop));},C$99t.stop=function(){this._isPlaying=!1,this.clearTimer(this,this._frameLoop);},C$99t.addLabel=function(C$99t,C$99e){this._labels||(this._labels={}),this._labels[C$99e]||(this._labels[C$99e]=[]),this._labels[C$99e].push(C$99t);},C$99t.removeLabel=function(C$99t){if(C$99t){if(this._labels)for(var C$99e in this._labels)this._removeLabelFromLabelList(this._labels[C$99e],C$99t);}else this._labels=null;},C$99t._removeLabelFromLabelList=function(C$99t,C$99e){if(C$99t)for(var C$99i=C$99t.length-1;0<=C$99i;C$99i--)C$99t[C$99i]==C$99e&&C$99t.splice(C$99i,1);},C$99t.gotoAndStop=function(C$99t){this.index="string"==typeof C$99t?this._getFrameByLabel(C$99t):C$99t,this.stop();},C$99t._displayToIndex=function(C$99t){},C$99t.clear=function(){this.stop(),this._labels=null;},C$99n(0,C$99t,"interval",function(){return this._interval;},function(C$99t){this._interval!=C$99t&&(this._frameRateChanged=!0,this._interval=C$99t,this._isPlaying&&0<C$99t&&this.timerLoop(C$99t,this,this._frameLoop,null,!0,!0));}),C$99n(0,C$99t,"isPlaying",function(){return this._isPlaying;}),C$99n(0,C$99t,"index",function(){return this._index;},function(C$99t){if(this._index=C$99t,this._displayToIndex(C$99t),this._labels&&this._labels[C$99t])for(var C$99e=this._labels[C$99t],C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)this.event("label",C$99e[C$99i]);}),C$99n(0,C$99t,"count",function(){return this._count;}),e$d.WRAP_POSITIVE=0,e$d.WRAP_REVERSE=1,e$d.WRAP_PINGPONG=2,e$d;}(C$99_t),C$99mt=function(C$99e){function e$c(){this._clipPoint=null,this._currBitmapFont=null,this._text=null,this._isChanged=!1,this._textWidth=0,this._textHeight=0,this._lines=[],this._lineWidths=[],this._startX=NaN,this._startY=NaN,this._lastVisibleLineIndex=-1,this._words=null,this._charSize={},this.underline=!1,this._underlineColor=null,e$c.__super.call(this),this.overflow=e$c.VISIBLE,this._style=new C$99it(this),this._style.wordWrap=!1;}C$99i(e$c,"laya.display.Text",C$99e);var C$99t=e$c.prototype;return C$99t.destroy=function(C$99t){C$99e.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._lines=null,this._words&&(this._words.length=0,this._words=null);},C$99t._getBoundPointsM=function(C$99t){void 0===C$99t&&(C$99t=!1);C$99t=C$99E.TEMP;return C$99t.setTo(0,0,this.width,this.height),C$99t._getBoundPoints();},C$99t.getGraphicBounds=function(C$99t){void 0===C$99t&&(C$99t=!1);C$99t=C$99E.TEMP;return C$99t.setTo(0,0,this.width,this.height),C$99t;},C$99t._getCSSStyle=function(){return this._style;},C$99t.lang=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99l,C$99u,C$99c,C$99_){if(C$99t=e$c.langPacks&&e$c.langPacks[C$99t]?e$c.langPacks[C$99t]:C$99t,arguments.length<2)this._text=C$99t;else{for(var C$99o=0,C$99h=arguments.length;C$99o<C$99h;C$99o++)C$99t=C$99t.replace("{"+C$99o+"}",arguments[C$99o+1]);this._text=C$99t;}},C$99t._isPassWordMode=function(){var C$99t=this._style.password;return C$99t="prompt"in this&&this.prompt==this._text?!1:C$99t;},C$99t._getPassWordTxt=function(C$99t){var C$99e;C$99e="";for(var C$99i=C$99t.length;0<C$99i;C$99i--)C$99e+="\u25cf";return C$99e;},C$99t.renderText=function(C$99u,C$99c){var C$99t=this.graphics;C$99t.clear(!0);var C$99_=(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.fontSize+"px "+(C$99S.onIPhone&&laya.display.Text._fontFamilyMap[this.font]||this.font);C$99S.context.font=C$99_;var C$99e=this.padding,C$99d=C$99e[3],C$99i="left",C$99f=this._lines,C$99p=this.leading+this._charSize.height,C$99n=this._currBitmapFont;C$99n&&(C$99p=this.leading+C$99n.getMaxHeight());var C$99m=C$99e[0];!C$99n&&0<this._width&&this._textWidth<=this._width&&("right"==this.align?(C$99i="right",C$99d=this._width-C$99e[1]):"center"==this.align&&(C$99i="center",C$99d=.5*this._width+C$99e[3]-C$99e[1])),0<this._height&&("middle"===(C$99l=this._textHeight>this._height?"top":this.valign)?C$99m=.5*(this._height-C$99c*C$99p)+C$99e[0]-C$99e[2]:"bottom"===C$99l&&(C$99m=this._height-C$99c*C$99p-C$99e[2]));var C$99g=this._style;var C$99r;var C$99v;C$99n&&C$99n.autoScaleSize&&(C$99r=C$99n.fontSize/this.fontSize),this._clipPoint&&(C$99t.save(),C$99n&&C$99n.autoScaleSize?(C$99v=C$99l=0,C$99l=this._width?this._width-C$99e[3]-C$99e[1]:this._textWidth,C$99v=this._height?this._height-C$99e[0]-C$99e[2]:this._textHeight,C$99t.clipRect(C$99e[3],C$99e[0],C$99l*=C$99r,C$99v*=C$99r)):C$99t.clipRect(C$99e[3],C$99e[0],this._width?this._width-C$99e[3]-C$99e[1]:this._textWidth,this._height?this._height-C$99e[0]-C$99e[2]:this._textHeight));var C$99$=C$99g.password;"prompt"in this&&this.prompt==this._text&&(C$99$=!1);for(var C$99s,C$99x=Math.min(this._lines.length,C$99c+C$99u)||1,C$99a=C$99u;C$99a<C$99x;C$99a++){var C$99y,C$99o=C$99f[C$99a];if(C$99$){var C$99h=C$99o.length;C$99o="";for(var C$99b=C$99h;0<C$99b;C$99b--)C$99o+="\u25cf";}var C$99w;C$99h=C$99d-(this._clipPoint?this._clipPoint.x:0),C$99s=C$99m+C$99p*C$99a-(this._clipPoint?this._clipPoint.y:0),this.underline&&this.drawUnderline(C$99i,C$99h,C$99s,C$99a),C$99n?(C$99w=this.width,C$99n.autoScaleSize&&(C$99w=this.width*C$99r),C$99n.drawText(C$99o,this,C$99h,C$99s,this.align,C$99w)):(C$99T.isWebGL?(this._words||(this._words=[]),(C$99y=this._words.length>C$99a-C$99u?this._words[C$99a-C$99u]:new C$99tt()).setText(C$99o)):C$99y=C$99o,C$99g.stroke?C$99t.fillBorderText(C$99y,C$99h,C$99s,C$99_,this.color,C$99g.strokeColor,C$99g.stroke,C$99i):C$99t.fillText(C$99y,C$99h,C$99s,C$99_,this.color,C$99i));}var C$99l;C$99n&&C$99n.autoScaleSize&&this.scale(C$99l=1/C$99r,C$99l),this._clipPoint&&C$99t.restore(),this._startX=C$99d,this._startY=C$99m;},C$99t.drawUnderline=function(C$99t,C$99e,C$99i,C$99n){var C$99r=this._lineWidths[C$99n];switch(C$99t){case"center":C$99e-=C$99r/2;break;case"right":C$99e-=C$99r;}C$99i+=this._charSize.height,this._graphics.drawLine(C$99e,C$99i,C$99e+C$99r,C$99i,this.underlineColor||this.color,1);},C$99t.typeset=function(){if(this._isChanged=!1,!this._text)return this._clipPoint=null,this._textWidth=this._textHeight=0,void this.graphics.clear(!0);C$99S.context.font=this._getCSSStyle().font,this._lines.length=0,this._lineWidths.length=0,this._isPassWordMode()?this.parseLines(this._getPassWordTxt(this._text)):this.parseLines(this._text),this.evalTextSize(),this.checkEnabledViewportOrNot()?this._clipPoint||(this._clipPoint=new C$99D(0,0)):this._clipPoint=null;var C$99t=this._lines.length;this.overflow!=e$c.VISIBLE&&(C$99e=this.overflow==e$c.HIDDEN?Math.floor:Math.ceil,C$99t=Math.min(C$99t,C$99e((this.height-this.padding[0]-this.padding[2])/(this.leading+this._charSize.height))));var C$99e=this.scrollY/(this._charSize.height+this.leading)|0;this.renderText(C$99e,C$99t),this.repaint();},C$99t.evalTextSize=function(){var C$99t,C$99e;C$99t=Math.max.apply(this,this._lineWidths),C$99e=this._currBitmapFont?this._lines.length*(this._currBitmapFont.getMaxHeight()+this.leading)+this.padding[0]+this.padding[2]:this._lines.length*(this._charSize.height+this.leading)+this.padding[0]+this.padding[2],C$99t==this._textWidth&&C$99e==this._textHeight||(this._textWidth=C$99t,this._textHeight=C$99e,this._width&&this._height||this.conchModel&&this.conchModel.size(this._width||this._textWidth,this._height||this._textHeight));},C$99t.checkEnabledViewportOrNot=function(){return this.overflow==e$c.SCROLL&&(0<this._width&&this._textWidth>this._width||0<this._height&&this._textHeight>this._height);},C$99t.changeText=function(C$99t){this._text!==C$99t&&(this.lang(C$99t+""),this._graphics&&this._graphics.replaceText(this._text)||this.typeset());},C$99t.parseLines=function(C$99t){var C$99e=this.wordWrap||this.overflow==e$c.HIDDEN;var C$99i;var C$99n;C$99e&&(C$99i=this.getWordWrapWidth()),this._currBitmapFont?(this._charSize.width=this._currBitmapFont.getMaxWidth(),this._charSize.height=this._currBitmapFont.getMaxHeight()):(C$99n=C$99Z.contextMeasureText(e$c._testWord),C$99T.isConchApp&&0===C$99n.width&&0===C$99n.height&&(C$99n=C$99Z.contextMeasureText("W")),this._charSize.width=C$99n.width,this._charSize.height=C$99n.height||this.fontSize);for(var C$99r=C$99t.replace(/\r\n/g,"\n").split("\n"),C$99s=0,C$99a=C$99r.length;C$99s<C$99a;C$99s++){var C$99o=C$99r[C$99s];C$99e?this.parseLine(C$99o,C$99i):(this._lineWidths.push(this.getTextWidth(C$99o)),this._lines.push(C$99o));}},C$99t.parseLine=function(C$99t,C$99u){C$99S.context;var C$99e,C$99i=this._lines,C$99n=0,C$99r=NaN,C$99s=NaN,C$99a=0;if((C$99r=this.getTextWidth(C$99t))<=C$99u)return C$99i.push(C$99t),void this._lineWidths.push(C$99r);C$99r=this._charSize.width,0==(C$99n=Math.floor(C$99u/C$99r))&&(C$99n=1),C$99s=C$99r=this.getTextWidth(C$99t.substring(0,C$99n));for(var C$99o=C$99n,C$99h=C$99t.length;C$99o<C$99h;C$99o++)if(C$99u<(C$99s+=C$99r=this.getTextWidth(C$99t.charAt(C$99o))))if(this.wordWrap){var C$99l=C$99t.substring(C$99a,C$99o);if(C$99l.charCodeAt(C$99l.length-1)<255?(C$99e=/(?:\w|-)+$/.exec(C$99l))&&(C$99o=C$99e.index+C$99a,0==C$99e.index?C$99o+=C$99l.length:C$99l=C$99t.substring(C$99a,C$99o)):e$c.RightToLeft&&(C$99e=/([\u0600-\u06FF])+$/.exec(C$99l))&&(C$99o=C$99e.index+C$99a,0==C$99e.index?C$99o+=C$99l.length:C$99l=C$99t.substring(C$99a,C$99o)),C$99i.push(C$99l),this._lineWidths.push(C$99s-C$99r),!((C$99a=C$99o)+C$99n<C$99h)){C$99i.push(C$99t.substring(C$99a,C$99h)),this._lineWidths.push(this.getTextWidth(C$99i[C$99i.length-1])),C$99a=-1;break;}C$99o+=C$99n,C$99s=C$99r=this.getTextWidth(C$99t.substring(C$99a,C$99o)),C$99o--;}else if(this.overflow==e$c.HIDDEN)return C$99i.push(C$99t.substring(0,C$99o)),void this._lineWidths.push(this.getTextWidth(C$99i[C$99i.length-1]));this.wordWrap&&-1!=C$99a&&(C$99i.push(C$99t.substring(C$99a,C$99h)),this._lineWidths.push(this.getTextWidth(C$99i[C$99i.length-1])));},C$99t.getTextWidth=function(C$99t){return this._currBitmapFont?this._currBitmapFont.getTextWidth(C$99t):C$99Z.contextMeasureText(C$99t).width;},C$99t.getWordWrapWidth=function(){var C$99t=this.padding,C$99e=NaN;return(C$99e=(C$99e=(C$99e=this._currBitmapFont&&this._currBitmapFont.autoScaleSize?this._width*(this._currBitmapFont.fontSize/this.fontSize):this._width)<=0?this.wordWrap?100:C$99S.width:C$99e)<=0?100:C$99e)-C$99t[3]-C$99t[1];},C$99t.getCharPoint=function(C$99t,C$99e){this._isChanged&&C$99y.timer.runCallLater(this,this.typeset);for(var C$99i=0,C$99n=this._lines,C$99r=0,C$99s=0,C$99a=C$99n.length;C$99s<C$99a;C$99s++){if(C$99t<(C$99i+=C$99n[C$99s].length)){var C$99o=C$99s;break;}C$99r=C$99i;}var C$99h=(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.fontSize+"px "+this.font;C$99S.context.font=C$99h;C$99h=this.getTextWidth(this._text.substring(C$99r,C$99t));return(C$99e||new C$99D()).setTo(this._startX+C$99h-(this._clipPoint?this._clipPoint.x:0),this._startY+C$99o*(this._charSize.height+this.leading)-(this._clipPoint?this._clipPoint.y:0));},C$99n(0,C$99t,"width",function(){return this._width||this.textWidth+this.padding[1]+this.padding[3];},function(C$99t){C$99t!=this._width&&(C$99y.superSet(C$99_t,this,"width",C$99t),this.isChanged=!0);}),C$99n(0,C$99t,"textWidth",function(){return this._isChanged&&C$99y.timer.runCallLater(this,this.typeset),this._textWidth;}),C$99n(0,C$99t,"height",function(){return this._height||this.textHeight;},function(C$99t){C$99t!=this._height&&(C$99y.superSet(C$99_t,this,"height",C$99t),this.isChanged=!0);}),C$99n(0,C$99t,"textHeight",function(){return this._isChanged&&C$99y.timer.runCallLater(this,this.typeset),this._textHeight;}),C$99n(0,C$99t,"padding",function(){return this._getCSSStyle().padding;},function(C$99t){this._getCSSStyle().padding=C$99t,this.isChanged=!0;}),C$99n(0,C$99t,"bold",function(){return this._getCSSStyle().bold;},function(C$99t){this._getCSSStyle().bold=C$99t,this.isChanged=!0;}),C$99n(0,C$99t,"text",function(){return this._text||"";},function(C$99t){this._text!==C$99t&&(this.lang(C$99t+""),this.isChanged=!0,this.event("change"));}),C$99n(0,C$99t,"color",function(){return this._getCSSStyle().color;},function(C$99t){this._getCSSStyle().color!=C$99t&&(this._getCSSStyle().color=C$99t,!this._isChanged&&this._graphics?this._graphics.replaceTextColor(this.color):this.isChanged=!0);}),C$99n(0,C$99t,"font",function(){return this._getCSSStyle().fontFamily;},function(C$99t){this._currBitmapFont&&(this._currBitmapFont=null,this.scale(1,1)),e$c._bitmapFonts&&e$c._bitmapFonts[C$99t]&&(this._currBitmapFont=e$c._bitmapFonts[C$99t]),this._getCSSStyle().fontFamily=C$99t,this.isChanged=!0;}),C$99n(0,C$99t,"fontSize",function(){return this._getCSSStyle().fontSize;},function(C$99t){this._getCSSStyle().fontSize=C$99t,this.isChanged=!0;}),C$99n(0,C$99t,"italic",function(){return this._getCSSStyle().italic;},function(C$99t){this._getCSSStyle().italic=C$99t,this.isChanged=!0;}),C$99n(0,C$99t,"align",function(){return this._getCSSStyle().align;},function(C$99t){this._getCSSStyle().align=C$99t,this.isChanged=!0;}),C$99n(0,C$99t,"valign",function(){return this._getCSSStyle().valign;},function(C$99t){this._getCSSStyle().valign=C$99t,this.isChanged=!0;}),C$99n(0,C$99t,"wordWrap",function(){return this._getCSSStyle().wordWrap;},function(C$99t){this._getCSSStyle().wordWrap=C$99t,this.isChanged=!0;}),C$99n(0,C$99t,"leading",function(){return this._getCSSStyle().leading;},function(C$99t){this._getCSSStyle().leading=C$99t,this.isChanged=!0;}),C$99n(0,C$99t,"bgColor",function(){return this._getCSSStyle().backgroundColor;},function(C$99t){this._getCSSStyle().backgroundColor=C$99t,this.isChanged=!0;}),C$99n(0,C$99t,"borderColor",function(){return this._getCSSStyle().borderColor;},function(C$99t){this._getCSSStyle().borderColor=C$99t,this.isChanged=!0;}),C$99n(0,C$99t,"stroke",function(){return this._getCSSStyle().stroke;},function(C$99t){this._getCSSStyle().stroke=C$99t,this.isChanged=!0;}),C$99n(0,C$99t,"strokeColor",function(){return this._getCSSStyle().strokeColor;},function(C$99t){this._getCSSStyle().strokeColor=C$99t,this.isChanged=!0;}),C$99n(0,C$99t,"isChanged",null,function(C$99t){this._isChanged!==C$99t&&(this._isChanged=C$99t)&&C$99y.timer.callLater(this,this.typeset);}),C$99n(0,C$99t,"scrollX",function(){return this._clipPoint?this._clipPoint.x:0;},function(C$99t){var C$99e,C$99i;this.overflow!=e$c.SCROLL||this.textWidth<this._width||!this._clipPoint||(C$99t=C$99t<this.padding[3]?this.padding[3]:C$99t,C$99e=this._textWidth-this._width,C$99i=this._height/(this._charSize.height+this.leading)|1,this._clipPoint.x=C$99t=C$99e<C$99t?C$99e:C$99t,this.renderText(this._lastVisibleLineIndex,C$99i));}),C$99n(0,C$99t,"scrollY",function(){return this._clipPoint?this._clipPoint.y:0;},function(C$99t){var C$99e,C$99i;this.overflow!=e$c.SCROLL||this.textHeight<this._height||!this._clipPoint||(C$99t=C$99t<this.padding[0]?this.padding[0]:C$99t,C$99e=(C$99t=(C$99e=this._textHeight-this._height)<C$99t?C$99e:C$99t)/(this._charSize.height+this.leading)|0,this._lastVisibleLineIndex=C$99e,C$99i=1+(this._height/(this._charSize.height+this.leading)|0),this._clipPoint.y=C$99t,this.renderText(C$99e,C$99i));}),C$99n(0,C$99t,"maxScrollX",function(){return this.textWidth<this._width?0:this._textWidth-this._width;}),C$99n(0,C$99t,"maxScrollY",function(){return this.textHeight<this._height?0:this._textHeight-this._height;}),C$99n(0,C$99t,"lines",function(){return this._isChanged&&this.typeset(),this._lines;}),C$99n(0,C$99t,"underlineColor",function(){return this._underlineColor;},function(C$99t){this._underlineColor=C$99t,this._isChanged=!0,this.typeset();}),e$c.registerBitmapFont=function(C$99t,C$99e){(e$c._bitmapFonts=e$c._bitmapFonts?e$c._bitmapFonts:{})[C$99t]=C$99e;},e$c.unregisterBitmapFont=function(C$99t,C$99e){var C$99i;void 0===C$99e&&(C$99e=!0),e$c._bitmapFonts&&e$c._bitmapFonts[C$99t]&&(C$99i=e$c._bitmapFonts[C$99t],C$99e&&C$99i.destroy(),delete e$c._bitmapFonts[C$99t]);},e$c.setTextRightToLeft=function(){var C$99t;(C$99t=C$99S.canvas.source.style).display="none",C$99t.position="absolute",C$99t.direction="rtl",C$99T._mainCanvas.source.style.direction="rtl",laya.display.Text.RightToLeft=!0,C$99S.document.body.appendChild(C$99S.canvas.source);},e$c.supportFont=function(C$99t){C$99S.context.font="10px sans-serif";var C$99e=C$99Z.contextMeasureText("abcji").width;C$99S.context.font="10px "+C$99t;C$99t=C$99Z.contextMeasureText("abcji").width;return console.log(C$99e,C$99t),C$99e!==C$99t;},e$c._testWord="\u6e38",e$c.langPacks=null,e$c.VISIBLE="visible",e$c.SCROLL="scroll",e$c.HIDDEN="hidden",e$c.CharacterCache=!0,e$c.RightToLeft=!1,e$c._bitmapFonts=null,C$99a(e$c,["_fontFamilyMap",function(){return this._fontFamilyMap={"\u62a5\u96b6":"\u62a5\u96b6-\u7b80","\u9ed1\u4f53":"\u9ed1\u4f53-\u7b80","\u6977\u4f53":"\u6977\u4f53-\u7b80","\u5170\u4ead\u9ed1":"\u5170\u4ead\u9ed1-\u7b80","\u96b6\u53d8":"\u96b6\u53d8-\u7b80","\u51cc\u6167\u4f53":"\u51cc\u6167\u4f53-\u7b80","\u7fe9\u7fe9\u4f53":"\u7fe9\u7fe9\u4f53-\u7b80","\u82f9\u65b9":"\u82f9\u65b9-\u7b80","\u624b\u672d\u4f53":"\u624b\u672d\u4f53-\u7b80","\u5b8b\u4f53":"\u5b8b\u4f53-\u7b80","\u5a03\u5a03\u4f53":"\u5a03\u5a03\u4f53-\u7b80","\u9b4f\u7891":"\u9b4f\u7891-\u7b80","\u884c\u6977":"\u884c\u6977-\u7b80","\u96c5\u75de":"\u96c5\u75de-\u7b80","\u5706\u4f53":"\u5706\u4f53-\u7b80"};}]),e$c;}(C$99_t),C$99gt=function(C$99u){function e$A(){this.focus=null,this.designWidth=0,this.designHeight=0,this.canvasRotation=!1,this.canvasDegree=0,this.renderingEnabled=!0,this.screenAdaptationEnabled=!0,this._screenMode="none",this._scaleMode="noscale",this._alignV="top",this._alignH="left",this._bgColor="black",this._mouseMoveTime=0,this._renderCount=0,this._frameStartTime=NaN,this._isFocused=!1,this._isVisibility=!1,this._scenes=null,this._frameRate="fast",e$A.__super.call(this),this.offset=new C$99D(),this._canvasTransform=new C$99I(),this._previousOrientation=C$99S.window.orientation;var C$99e=this;this.transform=C$99I.create(),this._scenes=[],this.mouseEnabled=!0,this.hitTestPrior=!0,this.autoSize=!1,this._displayedInStage=!0,this._isFocused=!0,this._isVisibility=!0;var C$99t=C$99S.window,C$99i=this;C$99t.addEventListener("focus",function(){C$99e._isFocused=!0,C$99i.event("focus"),C$99i.event("focuschange");}),C$99t.addEventListener("blur",function(){C$99e._isFocused=!1,C$99i.event("blur"),C$99i.event("focuschange"),C$99i._isInputting()&&(C$99xt.inputElement.target.focus=!1);});var C$99n="visibilityState",C$99r="visibilitychange",C$99s=C$99t.document;void 0!==C$99s.hidden?(C$99r="visibilitychange",C$99n="visibilityState"):void 0!==C$99s.mozHidden?(C$99r="mozvisibilitychange",C$99n="mozVisibilityState"):void 0!==C$99s.msHidden?(C$99r="msvisibilitychange",C$99n="msVisibilityState"):void 0!==C$99s.webkitHidden&&(C$99r="webkitvisibilitychange",C$99n="webkitVisibilityState"),C$99t.document.addEventListener(C$99r,function(){"hidden"==C$99S.document[C$99n]?C$99i._setStageVisible(!1):C$99i._setStageVisible(!0);}),C$99t.document.addEventListener("qbrowserVisibilityChange",function(C$99t){C$99i._setStageVisible(!C$99t.hidden);}),C$99t.addEventListener("resize",function(){var C$99t=C$99S.window.orientation;null!=C$99t&&C$99t!=C$99e._previousOrientation&&C$99i._isInputting()&&(C$99xt.inputElement.target.focus=!1),C$99e._previousOrientation=C$99t,C$99i._isInputting()||C$99i._resetCanvas();}),C$99t.addEventListener("orientationchange",function(C$99t){C$99i._resetCanvas();}),this.on("mousemove",this,this._onmouseMove),C$99S.onMobile&&this.on("mousedown",this,this._onmouseMove);}C$99i(e$A,"laya.display.Stage",C$99u);var C$99t=e$A.prototype;return C$99t._setStageVisible=function(C$99t){this._isVisibility!=C$99t&&(this._isVisibility=C$99t,this._isVisibility||this._isInputting()&&(C$99xt.inputElement.target.focus=!1),this.event("visibilitychange"));},C$99t._isInputting=function(){return C$99S.onMobile&&C$99xt.isInputting;},C$99t._changeCanvasSize=function(){this.setScreenSize(C$99S.clientWidth*C$99S.pixelRatio,C$99S.clientHeight*C$99S.pixelRatio);},C$99t._resetCanvas=function(){var C$99t;this.screenAdaptationEnabled&&((C$99t=C$99T._mainCanvas).source.style,C$99t.size(1,1),C$99y.timer.once(100,this,this._changeCanvasSize));},C$99t.setScreenSize=function(C$99t,C$99e){var C$99u=!1;"none"!==this._screenMode&&(C$99u=(C$99t/C$99e<1?"vertical":"horizontal")!==this._screenMode)&&(C$99c=C$99e,C$99e=C$99t,C$99t=C$99c),this.canvasRotation=C$99u;var C$99c=C$99T._mainCanvas,C$99i=C$99c.source.style,C$99n=this._canvasTransform.identity(),C$99_=this._scaleMode,C$99r=C$99t/this.designWidth,C$99s=C$99e/this.designHeight,C$99a=this.designWidth,C$99o=this.designHeight,C$99h=C$99t,C$99d=C$99e,C$99l=C$99S.pixelRatio;switch(this._width=this.designWidth,this._height=this.designHeight,C$99_){case"noscale":C$99r=C$99s=1,C$99h=this.designWidth,C$99d=this.designHeight;break;case"showall":C$99r=C$99s=Math.min(C$99r,C$99s),C$99a=C$99h=Math.round(this.designWidth*C$99r),C$99o=C$99d=Math.round(this.designHeight*C$99s);break;case"noborder":C$99r=C$99s=Math.max(C$99r,C$99s),C$99h=Math.round(this.designWidth*C$99r),C$99d=Math.round(this.designHeight*C$99s);break;case"full":C$99r=C$99s=1,this._width=C$99a=C$99t,this._height=C$99o=C$99e;break;case"fixedwidth":C$99s=C$99r,this._height=C$99o=Math.round(C$99e/C$99r);break;case"fixedheight":C$99r=C$99s,this._width=C$99a=Math.round(C$99t/C$99s);break;case"fixedauto":C$99t/C$99e<this.designWidth/this.designHeight?(C$99s=C$99r,this._height=C$99o=Math.round(C$99e/C$99r)):(C$99r=C$99s,this._width=C$99a=Math.round(C$99t/C$99s));}this._height=this._height+1&2147483646,this._width=this._width+1&2147483646,C$99a=C$99a+1&2147483646,C$99o=C$99o+1&2147483646,this.conchModel&&this.conchModel.size(this._width,this._height),C$99r*=this.scaleX,C$99s*=this.scaleY,1===C$99r&&1===C$99s?this.transform.identity():(this.transform.a=this._formatData(C$99r/(C$99h/C$99a)),this.transform.d=this._formatData(C$99s/(C$99d/C$99o)),this.conchModel&&this.conchModel.scale(this.transform.a,this.transform.d)),C$99c.size(C$99a,C$99o),C$99m.changeWebGLSize(C$99a,C$99o),C$99n.scale(C$99h/C$99a/C$99l,C$99d/C$99o/C$99l),"left"===this._alignH?this.offset.x=0:"right"===this._alignH?this.offset.x=(C$99t-C$99h)/C$99l:this.offset.x=.5*(C$99t-C$99h)/C$99l,"top"===this._alignV?this.offset.y=0:"bottom"===this._alignV?this.offset.y=(C$99e-C$99d)/C$99l:this.offset.y=.5*(C$99e-C$99d)/C$99l,this.offset.x=Math.round(this.offset.x),this.offset.y=Math.round(this.offset.y),C$99n.translate(this.offset.x,this.offset.y),this.canvasDegree=0,C$99u&&("horizontal"===this._screenMode?(C$99n.rotate(Math.PI/2),C$99n.translate(C$99e/C$99l,0),this.canvasDegree=90):(C$99n.rotate(-Math.PI/2),C$99n.translate(0,C$99t/C$99l),this.canvasDegree=-90)),C$99n.a=this._formatData(C$99n.a),C$99n.d=this._formatData(C$99n.d),C$99n.tx=this._formatData(C$99n.tx),C$99n.ty=this._formatData(C$99n.ty),C$99i.transformOrigin=C$99i.webkitTransformOrigin=C$99i.msTransformOrigin=C$99i.mozTransformOrigin=C$99i.oTransformOrigin="0px 0px 0px",C$99i.transform=C$99i.webkitTransform=C$99i.msTransform=C$99i.mozTransform=C$99i.oTransform="matrix("+C$99n.toString()+")",C$99n.translate(parseInt(C$99i.left)||0,parseInt(C$99i.top)||0),this.visible=!0,this._repaint=1,this.event("resize");},C$99t._formatData=function(C$99t){return Math.abs(C$99t)<1e-6?0:Math.abs(1-C$99t)<.001?0<C$99t?1:-1:C$99t;},C$99t.getMousePoint=function(){return C$99D.TEMP.setTo(this.mouseX,this.mouseY);},C$99t.repaint=function(){this._repaint=1;},C$99t.parentRepaint=function(){},C$99t._loop=function(){return this.render(C$99T.context,0,0),!0;},C$99t._onmouseMove=function(C$99t){this._mouseMoveTime=C$99S.now();},C$99t.getTimeFromFrameStart=function(){return C$99S.now()-this._frameStartTime;},C$99t.render=function(C$99t,C$99e,C$99i){if("sleep"===this._frameRate&&!C$99T.isConchApp){var C$99n=C$99S.now();if(!(1e3<=C$99n-this._frameStartTime))return this._renderCount++,void(this._renderCount%2==0&&(C$99j.loopCount++,C$99$.instance.runEvent(),C$99y.timer._update()));this._frameStartTime=C$99n;}if(this._renderCount++,C$99T.isFlash&&this.repaint(),this._style.visible){this._frameStartTime=C$99S.now();var C$99n="slow"!==("mouse"===this._frameRate?this._frameStartTime-this._mouseMoveTime<2e3?"fast":"slow":this._frameRate),C$99r=this._renderCount%2==0;if(C$99j.renderSlow=!C$99n,C$99n||C$99r||C$99T.isConchApp){var C$99s;C$99j.loopCount++,C$99$.instance.runEvent(),C$99y.timer._update(),C$99m.update3DLoop();var C$99a=0,C$99o=0;if(C$99T.isConchNode)for(C$99a=0,C$99o=this._scenes.length;C$99a<C$99o;C$99a++)(C$99s=this._scenes[C$99a])&&C$99s._updateSceneConch();else for(C$99a=0,C$99o=this._scenes.length;C$99a<C$99o;C$99a++)(C$99s=this._scenes[C$99a])&&C$99s._updateScene();if(C$99T.isConchNode){var C$99h=C$99_t.CustomList;for(C$99a=0,C$99o=C$99h.length;C$99a<C$99o;C$99a++){var C$99l=C$99h[C$99a];C$99l.customRender(C$99l.customContext,0,0);}return;}}C$99T.isConchNode||this.renderingEnabled&&(C$99n||!C$99r||C$99T.isConchWebGL)&&(C$99T.isWebGL?C$99T.WebGL.mainContext&&!C$99T.WebGL.mainContext.isContextLost()&&(C$99t.clear(),C$99u.prototype.render.call(this,C$99t,C$99e,C$99i),C$99j._show&&C$99j._sp&&C$99j._sp.render(C$99t,C$99e,C$99i),C$99m.clear(this._bgColor),C$99m.beginFlush(),C$99t.flush(),C$99m.endFinish(),C$99Q.instance&&C$99Q.getInstance().endDispose()):(C$99m.clear(this._bgColor),C$99u.prototype.render.call(this,C$99t,C$99e,C$99i),C$99j._show&&C$99j._sp&&C$99j._sp.render(C$99t,C$99e,C$99i)));}else this._renderCount%5==0&&(C$99j.loopCount++,C$99$.instance.runEvent(),C$99y.timer._update());},C$99t._requestFullscreen=function(){var C$99t=C$99S.document.documentElement;C$99t.requestFullscreen?C$99t.requestFullscreen():C$99t.mozRequestFullScreen?C$99t.mozRequestFullScreen():C$99t.webkitRequestFullscreen?C$99t.webkitRequestFullscreen():C$99t.msRequestFullscreen&&C$99t.msRequestFullscreen();},C$99t._fullScreenChanged=function(){C$99y.stage.event("fullscreenchange");},C$99t.exitFullscreen=function(){var C$99t=C$99S.document;C$99t.exitFullscreen?C$99t.exitFullscreen():C$99t.mozCancelFullScreen?C$99t.mozCancelFullScreen():C$99t.webkitExitFullscreen&&C$99t.webkitExitFullscreen();},C$99n(0,C$99t,"clientScaleX",function(){return this._transform?this._transform.getScaleX():1;}),C$99n(0,C$99t,"desginHeight",function(){return console.debug("desginHeight\u5df2\u7ecf\u5f03\u7528\uff0c\u8bf7\u4f7f\u7528designHeight\u4ee3\u66ff"),this.designHeight;}),C$99n(0,C$99t,"frameRate",function(){return this._frameRate;},function(C$99t){if(this._frameRate=C$99t,C$99T.isConchApp)switch(this._frameRate){case"slow":C$99S.window.conch&&C$99S.window.conchConfig.setSlowFrame&&C$99S.window.conchConfig.setSlowFrame(!0);break;case"fast":C$99S.window.conch&&C$99S.window.conchConfig.setSlowFrame&&C$99S.window.conchConfig.setSlowFrame(!1);break;case"mouse":C$99S.window.conch&&C$99S.window.conchConfig.setMouseFrame&&C$99S.window.conchConfig.setMouseFrame(2e3);break;case"sleep":C$99S.window.conch&&C$99S.window.conchConfig.setLimitFPS&&C$99S.window.conchConfig.setLimitFPS(1);break;default:throw new Error("Stage:frameRate invalid.");}}),C$99n(0,C$99t,"clientScaleY",function(){return this._transform?this._transform.getScaleY():1;}),C$99n(0,C$99t,"width",C$99u.prototype._$get_width,function(C$99t){this.designWidth=C$99t,C$99y.superSet(C$99_t,this,"width",C$99t),C$99y.timer.callLater(this,this._changeCanvasSize);}),C$99n(0,C$99t,"alignH",function(){return this._alignH;},function(C$99t){this._alignH=C$99t,C$99y.timer.callLater(this,this._changeCanvasSize);}),C$99n(0,C$99t,"isFocused",function(){return this._isFocused;}),C$99n(0,C$99t,"height",C$99u.prototype._$get_height,function(C$99t){this.designHeight=C$99t,C$99y.superSet(C$99_t,this,"height",C$99t),C$99y.timer.callLater(this,this._changeCanvasSize);}),C$99n(0,C$99t,"transform",function(){return this._tfChanged&&this._adjustTransform(),this._transform=this._transform||C$99I.create();},C$99u.prototype._$set_transform),C$99n(0,C$99t,"isVisibility",function(){return this._isVisibility;}),C$99n(0,C$99t,"desginWidth",function(){return console.debug("desginWidth\u5df2\u7ecf\u5f03\u7528\uff0c\u8bf7\u4f7f\u7528designWidth\u4ee3\u66ff"),this.designWidth;}),C$99n(0,C$99t,"scaleMode",function(){return this._scaleMode;},function(C$99t){this._scaleMode=C$99t,C$99y.timer.callLater(this,this._changeCanvasSize);}),C$99n(0,C$99t,"alignV",function(){return this._alignV;},function(C$99t){this._alignV=C$99t,C$99y.timer.callLater(this,this._changeCanvasSize);}),C$99n(0,C$99t,"bgColor",function(){return this._bgColor;},function(C$99t){this._bgColor=C$99t,this.conchModel&&this.conchModel.bgColor(C$99t),C$99T.isWebGL&&(C$99t?e$A._wgColor=C$99H.create(C$99t)._color:C$99S.onMiniGame||(e$A._wgColor=null)),C$99S.onLimixiu?e$A._wgColor=C$99H.create(C$99t)._color:C$99T.canvas.style.background=C$99t||"none";}),C$99n(0,C$99t,"mouseX",function(){return Math.round(C$99$.instance.mouseX/this.clientScaleX);}),C$99n(0,C$99t,"mouseY",function(){return Math.round(C$99$.instance.mouseY/this.clientScaleY);}),C$99n(0,C$99t,"screenMode",function(){return this._screenMode;},function(C$99t){this._screenMode=C$99t;}),C$99n(0,C$99t,"visible",C$99u.prototype._$get_visible,function(C$99t){this.visible!==C$99t&&(C$99y.superSet(C$99_t,this,"visible",C$99t),C$99T._mainCanvas.source.style.visibility=C$99t?"visible":"hidden");}),C$99n(0,C$99t,"fullScreenEnabled",null,function(C$99t){var C$99e=C$99S.document,C$99i=C$99T.canvas;C$99t?(C$99i.addEventListener("mousedown",this._requestFullscreen),C$99i.addEventListener("touchstart",this._requestFullscreen),C$99e.addEventListener("fullscreenchange",this._fullScreenChanged),C$99e.addEventListener("mozfullscreenchange",this._fullScreenChanged),C$99e.addEventListener("webkitfullscreenchange",this._fullScreenChanged),C$99e.addEventListener("msfullscreenchange",this._fullScreenChanged)):(C$99i.removeEventListener("mousedown",this._requestFullscreen),C$99i.removeEventListener("touchstart",this._requestFullscreen),C$99e.removeEventListener("fullscreenchange",this._fullScreenChanged),C$99e.removeEventListener("mozfullscreenchange",this._fullScreenChanged),C$99e.removeEventListener("webkitfullscreenchange",this._fullScreenChanged),C$99e.removeEventListener("msfullscreenchange",this._fullScreenChanged));}),e$A.SCALE_NOSCALE="noscale",e$A.SCALE_EXACTFIT="exactfit",e$A.SCALE_SHOWALL="showall",e$A.SCALE_NOBORDER="noborder",e$A.SCALE_FULL="full",e$A.SCALE_FIXED_WIDTH="fixedwidth",e$A.SCALE_FIXED_HEIGHT="fixedheight",e$A.SCALE_FIXED_AUTO="fixedauto",e$A.ALIGN_LEFT="left",e$A.ALIGN_RIGHT="right",e$A.ALIGN_CENTER="center",e$A.ALIGN_TOP="top",e$A.ALIGN_MIDDLE="middle",e$A.ALIGN_BOTTOM="bottom",e$A.SCREEN_NONE="none",e$A.SCREEN_HORIZONTAL="horizontal",e$A.SCREEN_VERTICAL="vertical",e$A.FRAME_FAST="fast",e$A.FRAME_SLOW="slow",e$A.FRAME_MOUSE="mouse",e$A.FRAME_SLEEP="sleep",e$A.FRAME_MOUSE_THREDHOLD=2e3,C$99a(e$A,["_wgColor",function(){return this._wgColor=[0,0,0,1];}]),e$A;}(C$99_t),C$99vt=(function(){function e$t(){this.url=null,this._channel=null,this._tar=null,this._playEvents=null,this._stopEvents=null,e$t.__super.call(this),this.visible=!1,this.on("added",this,this._onParentChange),this.on("removed",this,this._onParentChange);}C$99i(e$t,"laya.media.SoundNode",C$99_t);var C$99t=e$t.prototype;C$99t._onParentChange=function(){this.target=this.parent;},C$99t.play=function(C$99t,C$99e){void 0===C$99t&&(C$99t=1),isNaN(C$99t)&&(C$99t=1),this.url&&(this.stop(),this._channel=C$99R.playSound(this.url,C$99t,null,C$99e));},C$99t.stop=function(){this._channel&&!this._channel.isStopped&&this._channel.stop(),this._channel=null;},C$99t._setPlayAction=function(C$99t,C$99e,C$99i,C$99n){void 0===C$99n&&(C$99n=!0),this[C$99i]&&C$99t&&(C$99n?C$99t.on(C$99e,this,this[C$99i]):C$99t.off(C$99e,this,this[C$99i]));},C$99t._setPlayActions=function(C$99t,C$99e,C$99i,C$99n){if(void 0===C$99n&&(C$99n=!0),C$99t&&C$99e){var C$99r,C$99s=C$99e.split(","),C$99a=0;for(C$99r=C$99s.length,C$99a=0;C$99a<C$99r;C$99a++)this._setPlayAction(C$99t,C$99s[C$99a],C$99i,C$99n);}},C$99n(0,C$99t,"playEvent",null,function(C$99t){(this._playEvents=C$99t)&&this._tar&&this._setPlayActions(this._tar,C$99t,"play");}),C$99n(0,C$99t,"target",null,function(C$99t){this._tar&&(this._setPlayActions(this._tar,this._playEvents,"play",!1),this._setPlayActions(this._tar,this._stopEvents,"stop",!1)),this._tar=C$99t,this._tar&&(this._setPlayActions(this._tar,this._playEvents,"play",!0),this._setPlayActions(this._tar,this._stopEvents,"stop",!0));}),C$99n(0,C$99t,"stopEvent",null,function(C$99t){(this._stopEvents=C$99t)&&this._tar&&this._setPlayActions(this._tar,C$99t,"stop");});}(),function(){function e$t(){this._src=null,this._onload=null,this._onerror=null,e$t.__super.call(this);}C$99i(e$t,"laya.resource.FileBitmap",C$99pt);var C$99t=e$t.prototype;return C$99n(0,C$99t,"src",function(){return this._src;},function(C$99t){this._src=C$99t;}),C$99n(0,C$99t,"onload",null,function(C$99t){}),C$99n(0,C$99t,"onerror",null,function(C$99t){}),e$t;}()),C$99$t=function(){function e$l(C$99t,C$99e){this._is2D=!1,e$l.__super.call(this);var C$99i=this;var C$99n;this._source=this,"2D"!==C$99t&&("AUTO"!==C$99t||C$99T.isWebGL)||(this._is2D=!0,this._source=C$99e||C$99S.createElement("canvas"),this._w=this._source.width,this._h=this._source.height,(C$99n=this).getContext=function(C$99t,C$99e){if(C$99i._ctx)return C$99i._ctx;C$99t=C$99i._ctx=C$99i._source.getContext(C$99t,C$99e);return C$99t&&(C$99t._canvas=C$99n,C$99T.isFlash||C$99S.onLimixiu||(C$99t.size=function(C$99t,C$99e){})),C$99t;}),this.uri="HTMLCanvas_"+this.id,this.lock=!0;}C$99i(e$l,"laya.resource.HTMLCanvas",C$99pt);var C$99t=e$l.prototype;return C$99t.clear=function(){this._ctx&&this._ctx.clear();},C$99t.destroy=function(){this._ctx&&this._ctx.destroy(),this._ctx=null,laya.resource.Resource.prototype.destroy.call(this);},C$99t.release=function(){},C$99t._setContext=function(C$99t){this._ctx=C$99t;},C$99t.getContext=function(C$99t,C$99e){return this._ctx||(this._ctx=e$l._createContext(this));},C$99t.getMemSize=function(){return 0;},C$99t.size=function(C$99t,C$99e){this._w==C$99t&&this._h==C$99e&&(!this._source||this._source.width==C$99t&&this._source.height==C$99e)||(this._w=C$99t,this._h=C$99e,this.memorySize=this._w*this._h*4,this._ctx&&this._ctx.size(C$99t,C$99e),this._source&&(this._source.height=C$99e,this._source.width=C$99t));},C$99t.getCanvas=function(){return this._source;},C$99t.toBase64=function(C$99t,C$99e,C$99i){this._source&&(C$99T.isConchApp&&this._source.toBase64?this._source.toBase64(C$99t,C$99e,C$99i):(C$99t=this._source.toDataURL(C$99t,C$99e),C$99i.call(this,C$99t)));},C$99n(0,C$99t,"context",function(){return this._ctx;}),C$99n(0,C$99t,"asBitmap",null,function(C$99t){}),e$l.create=function(C$99t,C$99e){return new e$l(C$99t,C$99e);},e$l.TYPE2D="2D",e$l.TYPE3D="3D",e$l.TYPEAUTO="AUTO",e$l._createContext=null,e$l;}(),C$99e=(function(){function e$o(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){throw e$o.__super.call(this),new Error("\u4e0d\u5141\u8bb8new\uff01");}C$99i(e$o,"laya.resource.HTMLSubImage",C$99pt),e$o.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){return void 0===C$99o&&(C$99o=!1),new e$o();};}(),function(C$99t){function e$f(){this._frames=null,this._url=null,e$f.__super.call(this),this._setControlNode(this);}C$99i(e$f,"laya.display.Animation",C$99t);var C$99e=e$f.prototype;C$99e.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this.stop(),laya.display.Sprite.prototype.destroy.call(this,C$99t),this._frames=null,this._labels=null;},C$99e.play=function(C$99t,C$99e,C$99i,C$99n){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=!0),void 0===C$99n&&(C$99n=!0),(C$99i=void 0===C$99i?"":C$99i)&&this._setFramesFromCache(C$99i,C$99n),this._isPlaying=!0,this.index="string"==typeof C$99t?this._getFrameByLabel(C$99t):C$99t,this.loop=C$99e,this._actionName=C$99i,this._isReverse=1==this.wrapMode,this._frames&&0<this.interval&&this.timerLoop(this.interval,this,this._frameLoop,null,!0,!0);},C$99e._setFramesFromCache=function(C$99t,C$99e){var C$99i;return void 0===C$99e&&(C$99e=!1),(C$99t=this._url?this._url+"#"+C$99t:C$99t)&&e$f.framesMap[C$99t]?((C$99i=e$f.framesMap[C$99t])instanceof Array?(this._frames=e$f.framesMap[C$99t],this._count=this._frames.length):(C$99i.nodeRoot&&(e$f.framesMap[C$99t]=this._parseGraphicAnimationByData(C$99i),C$99i=e$f.framesMap[C$99t]),this._frames=C$99i.frames,this._count=this._frames.length,this._frameRateChanged||(this._interval=C$99i.interval),this._labels=this._copyLabels(C$99i.labels)),!0):(C$99e&&console.log("ani not found:",C$99t),!1);},C$99e._copyLabels=function(C$99t){if(!C$99t)return null;var C$99e,C$99i;for(C$99i in C$99e={},C$99t)C$99e[C$99i]=C$99Z.copyArray([],C$99t[C$99i]);return C$99e;},C$99e._frameLoop=function(){this._style.visible&&.01<this._style.alpha&&C$99t.prototype._frameLoop.call(this);},C$99e._displayToIndex=function(C$99t){this._frames&&(this.graphics=this._frames[C$99t]);},C$99e.clear=function(){this.stop(),this.graphics=null,this._frames=null,this._labels=null;},C$99e.loadImages=function(C$99t,C$99e){return void 0===C$99e&&(C$99e=""),this._url="",this._setFramesFromCache(C$99e)||(this.frames=e$f.framesMap[C$99e]||e$f.createFrames(C$99t,C$99e)),this;},C$99e.loadAtlas=function(C$99e,C$99i,C$99n){void 0===C$99n&&(C$99n=""),this._url="";var C$99r=this;function e$d(C$99t){C$99e===C$99t&&(C$99r.frames=e$f.framesMap[C$99n]||e$f.createFrames(C$99e,C$99n),C$99i&&C$99i.run());}return C$99r._setFramesFromCache(C$99n)||(C$99ht.getAtlas(C$99e)?e$d(C$99e):C$99y.loader.load(C$99e,C$99g.create(null,e$d,[C$99e]),null,"atlas")),this;},C$99e.loadAnimation=function(C$99t,C$99e,C$99i){return this._url=C$99t,this._actionName||(this._actionName=""),this._setFramesFromCache("")?(this._setFramesFromCache(this._actionName,!0),this.index=0,C$99e&&C$99e.run()):!C$99i||C$99ht.getAtlas(C$99i)?this._loadAnimationData(C$99t,C$99e,C$99i):C$99y.loader.load(C$99i,C$99g.create(this,this._loadAnimationData,[C$99t,C$99e,C$99i]),null,"atlas"),this;},C$99e._loadAnimationData=function(C$99a,C$99o,C$99t){var C$99h=this;var C$99l;function e$t(C$99t){if(C$99ht.getRes(C$99t)&&C$99a===C$99t){var C$99e;if(e$f.framesMap[C$99a+"#"])C$99l._setFramesFromCache(C$99h._actionName,!0),C$99h.index=0,C$99h._checkResumePlaying();else{C$99t=C$99l._parseGraphicAnimation(C$99ht.getRes(C$99a));if(!C$99t)return;var C$99i,C$99n=C$99t.animationList,C$99r=0,C$99s=C$99n.length;for(C$99r=0;C$99r<C$99s;C$99r++)C$99e=C$99n[C$99r],e$f.framesMap[C$99a+"#"+C$99e.name]=C$99e,C$99i=C$99i||C$99e;C$99i&&(e$f.framesMap[C$99a+"#"]=C$99i,C$99l._setFramesFromCache(C$99h._actionName,!0),C$99h.index=0),C$99h._checkResumePlaying();}C$99o&&C$99o.run();}}!C$99t||C$99ht.getAtlas(C$99t)?(C$99l=this,C$99ht.getRes(C$99a)?e$t(C$99a):C$99y.loader.load(C$99a,C$99g.create(null,e$t,[C$99a]),null,"json"),C$99ht.clearRes(C$99a)):console.warn("atlas load fail:"+C$99t);},C$99e._parseGraphicAnimation=function(C$99t){return C$99bt.parseAnimationData(C$99t);},C$99e._parseGraphicAnimationByData=function(C$99t){return C$99bt.parseAnimationByData(C$99t);},C$99n(0,C$99e,"frames",function(){return this._frames;},function(C$99t){(this._frames=C$99t)&&(this._count=C$99t.length,this._isPlaying?this.play(this._index,this.loop,this._actionName):this.index=this._index);}),C$99n(0,C$99e,"autoPlay",null,function(C$99t){C$99t?this.play():this.stop();}),C$99n(0,C$99e,"source",null,function(C$99t){-1<C$99t.indexOf(".ani")?this.loadAnimation(C$99t):-1<C$99t.indexOf(".json")||-1<C$99t.indexOf("als")||-1<C$99t.indexOf("atlas")?this.loadAtlas(C$99t):this.loadImages(C$99t.split(","));}),C$99n(0,C$99e,"autoAnimation",null,function(C$99t){this.play(0,!0,C$99t,!1);}),e$f.createFrames=function(C$99t,C$99e){var C$99i,C$99n,C$99r=0,C$99s=0;if("string"==typeof C$99t){var C$99a=C$99ht.getAtlas(C$99t);if(C$99a&&C$99a.length)for(C$99i=[],C$99r=0,C$99s=C$99a.length;C$99r<C$99s;C$99r++)(C$99n=new C$99m.createGraphics()).drawTexture(C$99ht.getRes(C$99a[C$99r]),0,0),C$99i.push(C$99n);}else if(C$99t instanceof Array)for(C$99i=[],C$99r=0,C$99s=C$99t.length;C$99r<C$99s;C$99r++)(C$99n=new C$99m.createGraphics()).loadImage(C$99t[C$99r],0,0),C$99i.push(C$99n);return C$99e&&(e$f.framesMap[C$99e]=C$99i),C$99i;},e$f.clearCache=function(C$99t){var C$99e,C$99i=C$99t+"#";for(C$99e in e$f.framesMap)C$99e!==C$99t&&0!=C$99e.indexOf(C$99i)||delete e$f.framesMap[C$99e];},e$f.framesMap={};}(C$99e),function(C$99t){function e$i(){this._targetDic=null,this._animationData=null,this._animationNewFrames=null,e$i.__super.call(this),null==e$i._sortIndexFun&&(e$i._sortIndexFun=C$99A.sortByKey("index",!1,!0));}C$99i(e$i,"laya.display.FrameAnimation",C$99t);var C$99e=e$i.prototype;return C$99e._setUp=function(C$99t,C$99e){this._labels=null,this._animationNewFrames=null,this._targetDic=C$99t,this._animationData=C$99e,this.interval=1e3/C$99e.frameRate,C$99e.parsed?(this._count=C$99e.count,this._labels=C$99e.labels,this._animationNewFrames=C$99e.animationNewFrames):(this._animationNewFrames=[],this._calculateDatas()),C$99e.parsed=!0,C$99e.labels=this._labels,C$99e.count=this._count,C$99e.animationNewFrames=this._animationNewFrames;},C$99e.clear=function(){C$99t.prototype.clear.call(this),this._targetDic=null,this._animationData=null;},C$99e._displayToIndex=function(C$99t){if(this._animationData){(C$99t=C$99t<0?0:C$99t)>this._count&&(C$99t=this._count);var C$99e=this._animationData.nodes,C$99i=0,C$99n=C$99e.length;for(C$99i=0;C$99i<C$99n;C$99i++)this._displayNodeToFrame(C$99e[C$99i],C$99t);}},C$99e._displayNodeToFrame=function(C$99t,C$99e,C$99i){var C$99n=(C$99i=C$99i||this._targetDic)[C$99t.target];if(C$99n){var C$99r,C$99s,C$99a=C$99t.frames,C$99o=C$99t.keys,C$99h=0,C$99l=C$99o.length;for(C$99h=0;C$99h<C$99l;C$99h++)C$99s=(C$99s=C$99a[C$99r=C$99o[C$99h]]).length>C$99e?C$99s[C$99e]:C$99s[C$99s.length-1],C$99n[C$99r]=C$99s;}},C$99e._calculateDatas=function(){if(this._animationData){var C$99t,C$99e=this._animationData.nodes,C$99i=0,C$99n=C$99e.length;for(C$99i=this._count=0;C$99i<C$99n;C$99i++)C$99t=C$99e[C$99i],this._calculateNodeKeyFrames(C$99t);this._count+=1;}},C$99e._calculateNodeKeyFrames=function(C$99t){var C$99e,C$99i,C$99n=C$99t.keyframes,C$99r=C$99t.target;for(C$99e in C$99t.frames||(C$99t.frames={}),C$99t.keys?C$99t.keys.length=0:C$99t.keys=[],C$99t.initValues||(C$99t.initValues={}),C$99n)C$99i=C$99n[C$99e],C$99t.frames[C$99e]||(C$99t.frames[C$99e]=[]),this._targetDic&&this._targetDic[C$99r]&&(C$99t.initValues[C$99e]=this._targetDic[C$99r][C$99e]),C$99i.sort(e$i._sortIndexFun),C$99t.keys.push(C$99e),this._calculateNodePropFrames(C$99i,C$99t.frames[C$99e],C$99e,C$99r);},C$99e.resetToInitState=function(){if(this._targetDic&&this._animationData){var C$99t,C$99e,C$99i=this._animationData.nodes,C$99n=0,C$99r=C$99i.length;for(C$99n=0;C$99n<C$99r;C$99n++)if(C$99e=(C$99t=C$99i[C$99n]).initValues){var C$99s,C$99a=this._targetDic[C$99t.target];if(C$99a)for(C$99s in C$99e)C$99a[C$99s]=C$99e[C$99s];}}},C$99e._calculateNodePropFrames=function(C$99t,C$99e,C$99i,C$99n){var C$99r=0,C$99s=C$99t.length-1;if(0<C$99s){for(C$99e.length=C$99t[C$99s].index+1,C$99r=0;C$99r<C$99s;C$99r++)this._dealKeyFrame(C$99t[C$99r]),this._calculateFrameValues(C$99t[C$99r],C$99t[C$99r+1],C$99e);this._dealKeyFrame(C$99t[C$99r]);}0==C$99s&&(C$99e[C$99t[0].index]=C$99t[0].value,this._animationNewFrames&&(this._animationNewFrames[C$99t[0].index]=!0));},C$99e._dealKeyFrame=function(C$99t){C$99t.label&&""!=C$99t.label&&this.addLabel(C$99t.label,C$99t.index);},C$99e._calculateFrameValues=function(C$99t,C$99e,C$99i){var C$99n,C$99r=0,C$99s=C$99t.index,C$99a=C$99e.index,C$99o=C$99t.value,C$99h=C$99e.value-C$99t.value,C$99l=C$99a-C$99s;if(C$99a>this._count&&(this._count=C$99a),C$99t.tween)for(null==(C$99n=C$99z[C$99t.tweenMethod])&&(C$99n=C$99z.linearNone),C$99r=C$99s;C$99r<C$99a;C$99r++)C$99i[C$99r]=C$99n(C$99r-C$99s,C$99o,C$99h,C$99l),this._animationNewFrames&&(this._animationNewFrames[C$99r]=!0);else for(C$99r=C$99s;C$99r<C$99a;C$99r++)C$99i[C$99r]=C$99o;this._animationNewFrames&&(this._animationNewFrames[C$99t.index]=!0,this._animationNewFrames[C$99e.index]=!0),C$99i[C$99e.index]=C$99e.value;},e$i._sortIndexFun=null,e$i;}(C$99e)),C$99xt=function(C$99e){function e$W(){this._focus=!1,this._multiline=!1,this._editable=!0,this._restrictPattern=null,this._type="text",this._prompt="",this._promptColor="#A9A9A9",this._originColor="#000000",this._content="",e$W.__super.call(this),this._maxChars=1e5,this._width=100,this._height=20,this.multiline=!1,this.overflow=C$99mt.SCROLL,this.on("mousedown",this,this._onMouseDown),this.on("undisplay",this,this._onUnDisplay);}C$99i(e$W,"laya.display.Input",C$99e);var C$99t=e$W.prototype;return C$99t.setSelection=function(C$99t,C$99e){this.focus=!0,laya.display.Input.inputElement.selectionStart=C$99t,laya.display.Input.inputElement.selectionEnd=C$99e;},C$99t._onUnDisplay=function(C$99t){this.focus=!1;},C$99t._onMouseDown=function(C$99t){this.focus=!0;},C$99t._syncInputTransform=function(){var C$99t=this.nativeInput,C$99e=C$99Z.getTransformRelativeToWindow(this,this.padding[3],this.padding[0]),C$99i=this._width-this.padding[1]-this.padding[3],C$99n=this._height-this.padding[0]-this.padding[2];C$99T.isConchApp?(C$99t.setScale(C$99e.scaleX,C$99e.scaleY),C$99t.setSize(C$99i,C$99n),C$99t.setPos(C$99e.x,C$99e.y)):(e$W.inputContainer.style.transform=e$W.inputContainer.style.webkitTransform="scale("+C$99e.scaleX+","+C$99e.scaleY+") rotate("+C$99y.stage.canvasDegree+"deg)",C$99t.style.width=C$99i+"px",C$99t.style.height=C$99n+"px",e$W.inputContainer.style.left=C$99e.x+"px",e$W.inputContainer.style.top=C$99e.y+"px");},C$99t.select=function(){this.nativeInput&&this.nativeInput.select&&this.nativeInput.select();},C$99t._setInputMethod=function(){e$W.input.parentElement&&e$W.inputContainer.removeChild(e$W.input),e$W.area.parentElement&&e$W.inputContainer.removeChild(e$W.area),e$W.inputElement=this._multiline?e$W.area:e$W.input,e$W.inputContainer.appendChild(e$W.inputElement),C$99mt.RightToLeft&&(e$W.inputElement.style.direction="rtl");},C$99t._focusIn=function(){laya.display.Input.isInputting=!0;var C$99t=this.nativeInput;this._focus=!0;var C$99e=C$99t.style;C$99e.whiteSpace=this.wordWrap?"pre-wrap":"nowrap",this._setPromptColor(),C$99t.readOnly=!this._editable,C$99T.isConchApp&&(C$99t.setType(this._type),C$99t.setForbidEdit(!this._editable)),C$99t.maxLength=this._maxChars,this.padding,C$99t.type=this._type,C$99t.value=this._content,C$99t.placeholder=this._prompt,C$99y.stage.off("keydown",this,this._onKeyDown),C$99y.stage.on("keydown",this,this._onKeyDown),(C$99y.stage.focus=this).event("focus"),C$99S.onPC&&C$99t.focus(),C$99S.onMiniGame||(this._text,this._text=null),this.typeset(),C$99t.setColor(this._originColor),C$99t.setFontSize(this.fontSize),C$99t.setFontFace(C$99S.onIPhone&&C$99mt._fontFamilyMap[this.font]||this.font),C$99T.isConchApp&&C$99t.setMultiAble&&C$99t.setMultiAble(this._multiline),C$99e.lineHeight=this.leading+this.fontSize+"px",C$99e.fontStyle=this.italic?"italic":"normal",C$99e.fontWeight=this.bold?"bold":"normal",C$99e.textAlign=this.align,C$99e.padding="0 0",this._syncInputTransform(),!C$99T.isConchApp&&C$99S.onPC&&C$99y.timer.frameLoop(1,this,this._syncInputTransform);},C$99t._setPromptColor=function(){(e$W.promptStyleDOM=C$99S.getElementById("promptStyle"))||((e$W.promptStyleDOM=C$99S.createElement("style")).setAttribute("id","promptStyle"),C$99S.document.head.appendChild(e$W.promptStyleDOM)),e$W.promptStyleDOM.innerText="input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {color:"+this._promptColor+"}input:-moz-placeholder, textarea:-moz-placeholder {color:"+this._promptColor+"}input::-moz-placeholder, textarea::-moz-placeholder {color:"+this._promptColor+"}input:-ms-input-placeholder, textarea:-ms-input-placeholder {color:"+this._promptColor+"}";},C$99t._focusOut=function(){laya.display.Input.isInputting=!1,this._focus=!1,this._text=null,this._content=this.nativeInput.value,this._content?(C$99y.superSet(C$99mt,this,"text",this._content),C$99y.superSet(C$99mt,this,"color",this._originColor)):(C$99y.superSet(C$99mt,this,"text",this._prompt),C$99y.superSet(C$99mt,this,"color",this._promptColor)),C$99y.stage.off("keydown",this,this._onKeyDown),C$99y.stage.focus=null,this.event("blur"),C$99T.isConchApp&&this.nativeInput.blur(),C$99S.onPC&&C$99y.timer.clear(this,this._syncInputTransform);},C$99t._onKeyDown=function(C$99t){13===C$99t.keyCode&&(C$99S.onMobile&&!this._multiline&&(this.focus=!1),this.event("enter"));},C$99t.changeText=function(C$99t){this._content=C$99t,this._focus?(this.nativeInput.value=C$99t||"",this.event("change")):C$99e.prototype.changeText.call(this,C$99t);},C$99n(0,C$99t,"color",C$99e.prototype._$get_color,function(C$99t){this._focus&&this.nativeInput.setColor(C$99t),C$99y.superSet(C$99mt,this,"color",this._content?C$99t:this._promptColor),this._originColor=C$99t;}),C$99n(0,C$99t,"inputElementYAdjuster",function(){return console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementYAdjuster\u5df2\u5f03\u7528\u3002"),0;},function(C$99t){console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementYAdjuster\u5df2\u5f03\u7528\u3002");}),C$99n(0,C$99t,"multiline",function(){return this._multiline;},function(C$99t){this._multiline=C$99t,this.valign=C$99t?"top":"middle";}),C$99n(0,C$99t,"maxChars",function(){return this._maxChars;},function(C$99t){this._maxChars=C$99t=C$99t<=0?1e5:C$99t;}),C$99n(0,C$99t,"text",function(){return this._focus?this.nativeInput.value:this._content||"";},function(C$99t){C$99y.superSet(C$99mt,this,"color",this._originColor),C$99t+="",this._focus?(this.nativeInput.value=C$99t||"",this.event("change")):(this._multiline||(C$99t=C$99t.replace(/\r?\n/g,"")),(this._content=C$99t)?C$99y.superSet(C$99mt,this,"text",C$99t):(C$99y.superSet(C$99mt,this,"text",this._prompt),C$99y.superSet(C$99mt,this,"color",this.promptColor)));}),C$99n(0,C$99t,"nativeInput",function(){return this._multiline?e$W.area:e$W.input;}),C$99n(0,C$99t,"prompt",function(){return this._prompt;},function(C$99t){!this._text&&C$99t&&C$99y.superSet(C$99mt,this,"color",this._promptColor),this.promptColor=this._promptColor,this._text?C$99y.superSet(C$99mt,this,"text",this._text==this._prompt?C$99t:this._text):C$99y.superSet(C$99mt,this,"text",C$99t),this._prompt=C$99mt.langPacks&&C$99mt.langPacks[C$99t]?C$99mt.langPacks[C$99t]:C$99t;}),C$99n(0,C$99t,"focus",function(){return this._focus;},function(C$99t){var C$99e=this.nativeInput;this._focus!==C$99t&&(C$99t?(C$99e.target?C$99e.target._focusOut():this._setInputMethod(),(C$99e.target=this)._focusIn()):(C$99e.target=null,this._focusOut(),C$99S.document.body.scrollTop=0,C$99e.blur(),C$99T.isConchApp?C$99e.setPos(-1e4,-1e4):e$W.inputContainer.contains(C$99e)&&e$W.inputContainer.removeChild(C$99e)));}),C$99n(0,C$99t,"restrict",function(){return this._restrictPattern?this._restrictPattern.source:"";},function(C$99t){C$99t?(-1<(C$99t="[^"+C$99t+"]").indexOf("^^")&&(C$99t=C$99t.replace("^^","")),this._restrictPattern=new RegExp(C$99t,"g")):this._restrictPattern=null;}),C$99n(0,C$99t,"editable",function(){return this._editable;},function(C$99t){this._editable=C$99t,C$99T.isConchApp&&e$W.input.setForbidEdit(!C$99t);}),C$99n(0,C$99t,"promptColor",function(){return this._promptColor;},function(C$99t){this._promptColor=C$99t,this._content||C$99y.superSet(C$99mt,this,"color",C$99t);}),C$99n(0,C$99t,"type",function(){return this._type;},function(C$99t){this._getCSSStyle().password="password"==C$99t,this._type=C$99t,C$99T.isConchApp&&this.nativeInput.setType(C$99t);}),C$99n(0,C$99t,"inputElementXAdjuster",function(){return console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementXAdjuster\u5df2\u5f03\u7528\u3002"),0;},function(C$99t){console.warn("deprecated: \u7531\u4e8e\u5373\u4f7f\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5728\u5404\u5e73\u53f0\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u4e5f\u4e0d\u4e00\u5b9a\u4e00\u81f4\uff0cinputElementXAdjuster\u5df2\u5f03\u7528\u3002");}),C$99n(0,C$99t,"asPassword",function(){return this._getCSSStyle().password;},function(C$99t){this._getCSSStyle().password=C$99t,this._type="password",console.warn('deprecated: \u4f7f\u7528type="password"\u66ff\u4ee3\u8bbe\u7f6easPassword, asPassword\u5c06\u5728\u4e0b\u6b21\u91cd\u5927\u66f4\u65b0\u65f6\u5220\u53bb'),this.isChanged=!0;}),e$W.__init__=function(){e$W._createInputElement(),C$99S.onMobile&&C$99T.canvas.addEventListener(!e$W.IOS_IFRAME||C$99S.onMiniGame?"touchend":"click",e$W._popupInputMethod);},e$W._popupInputMethod=function(C$99t){laya.display.Input.isInputting&&laya.display.Input.inputElement.focus();},e$W._createInputElement=function(){e$W._initInput(e$W.area=C$99S.createElement("textarea")),e$W._initInput(e$W.input=C$99S.createElement("input")),(e$W.inputContainer=C$99S.createElement("div")).style.position="absolute",e$W.inputContainer.style.zIndex=1e5,C$99S.container.appendChild(e$W.inputContainer),e$W.inputContainer.setPos=function(C$99t,C$99e){e$W.inputContainer.style.left=C$99t+"px",e$W.inputContainer.style.top=C$99e+"px";};},e$W._initInput=function(C$99e){var C$99t=C$99e.style;C$99t.cssText="position:absolute;overflow:hidden;resize:none;transform-origin:0 0;-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-o-transform-origin:0 0;",C$99t.resize="none",C$99t.backgroundColor="transparent",C$99t.border="none",C$99t.outline="none",C$99t.zIndex=1,C$99e.addEventListener("input",e$W._processInputting),C$99e.addEventListener("mousemove",e$W._stopEvent),C$99e.addEventListener("mousedown",e$W._stopEvent),C$99e.addEventListener("touchmove",e$W._stopEvent),C$99e.setFontFace=function(C$99t){C$99e.style.fontFamily=C$99t;},C$99T.isConchApp||(C$99e.setColor=function(C$99t){C$99e.style.color=C$99t;},C$99e.setFontSize=function(C$99t){C$99e.style.fontSize=C$99t+"px";});},e$W._processInputting=function(C$99t){var C$99e=laya.display.Input.inputElement.target;var C$99i;C$99e&&(C$99i=laya.display.Input.inputElement.value,C$99e._restrictPattern&&(C$99i=C$99i.replace(/\u2006|\x27/g,""),C$99e._restrictPattern.test(C$99i)&&(C$99i=C$99i.replace(C$99e._restrictPattern,""),laya.display.Input.inputElement.value=C$99i)),C$99e._text=C$99i,C$99e.event("input"));},e$W._stopEvent=function(C$99t){"touchmove"==C$99t.type&&C$99t.preventDefault(),C$99t.stopPropagation&&C$99t.stopPropagation();},e$W.TYPE_TEXT="text",e$W.TYPE_PASSWORD="password",e$W.TYPE_EMAIL="email",e$W.TYPE_URL="url",e$W.TYPE_NUMBER="number",e$W.TYPE_RANGE="range",e$W.TYPE_DATE="date",e$W.TYPE_MONTH="month",e$W.TYPE_WEEK="week",e$W.TYPE_TIME="time",e$W.TYPE_DATE_TIME="datetime",e$W.TYPE_DATE_TIME_LOCAL="datetime-local",e$W.TYPE_SEARCH="search",e$W.input=null,e$W.area=null,e$W.inputElement=null,e$W.inputContainer=null,e$W.confirmButton=null,e$W.promptStyleDOM=null,e$W.inputHeight=45,e$W.isInputting=!1,e$W.stageMatrix=null,C$99a(e$W,["IOS_IFRAME",function(){return this.IOS_IFRAME=C$99S.onIOS&&C$99S.window.top!=C$99S.window.self;}]),e$W;}(C$99mt),C$99yt=function(){function e$l(C$99t,C$99e){this._recreateLock=!1,this._needReleaseAgain=!1,this._enableMerageInAtlas=!0,e$l.__super.call(this),C$99t&&this._init_(C$99t,C$99e);}C$99i(e$l,"laya.resource.HTMLImage",C$99vt);var C$99t=e$l.prototype;return C$99t._init_=function(C$99t,C$99e){this._src=C$99t,this._source=new C$99S.window.Image(),C$99e&&(C$99e.onload&&(this.onload=C$99e.onload),C$99e.onerror&&(this.onerror=C$99e.onerror),C$99e.onCreate&&C$99e.onCreate(this)),0!=C$99t.indexOf("data:image")&&(this._source.crossOrigin=""),C$99t&&(this._source.src=C$99t);},C$99t.recreateResource=function(){var C$99t=this;if(""===this._src)throw new Error("src no null\uff01");var C$99e;this._needReleaseAgain=!1,this._source?this._recreateLock||(this.memorySize=this._w*this._h*4,this._recreateLock=!1,this.completeCreate()):(this._recreateLock=!0,(C$99e=this)._source=new C$99S.window.Image(),this._source.crossOrigin="",this._source.onload=function(){if(C$99e._needReleaseAgain)return C$99e._needReleaseAgain=!1,C$99e._source.onload=null,void(C$99e._source=null);C$99e._source.onload=null,C$99e.memorySize=C$99t._w*C$99t._h*4,C$99e._recreateLock=!1,C$99e.completeCreate();},this._source.src=this._src);},C$99t.disposeResource=function(){this._recreateLock&&(this._needReleaseAgain=!0),this._source&&(this._source=null,this.memorySize=0);},C$99t.onresize=function(){this._w=this._source.width,this._h=this._source.height;},C$99n(0,C$99t,"onload",null,function(C$99t){var C$99e=this;this._onload=C$99t,this._source&&(this._source.onload=null!=this._onload?function(){C$99e.onresize(),C$99e._onload();}:null);}),C$99n(0,C$99t,"onerror",null,function(C$99t){var C$99e=this;this._onerror=C$99t,this._source&&(this._source.onerror=null!=this._onerror?function(){C$99e._onerror();}:null);}),C$99n(0,C$99t,"enableMerageInAtlas",function(){return this._enableMerageInAtlas;},function(C$99t){this._enableMerageInAtlas=C$99t,C$99T.isConchApp&&this._source&&(this._source.enableMerageInAtlas=C$99t);}),e$l.create=function(C$99t,C$99e){return new e$l(C$99t,C$99e);},e$l;}(),C$99bt=(function(C$99s){function e$d(){this._target=null,this._playEvents=null,this._initData={},this._aniKeys=null,this._effectClass=null,e$d.__super.call(this);}C$99i(e$d,"laya.display.EffectAnimation",C$99s);var C$99t=e$d.prototype;C$99t._onOtherBegin=function(C$99t){C$99t!=this&&this.stop();},C$99t.addEvent=function(){this._target&&this._playEvents&&(this._setControlNode(this._target),this._target.on(this._playEvents,this,this._onPlayAction));},C$99t._onPlayAction=function(){this.play(0,!1);},C$99t.play=function(C$99t,C$99e,C$99i,C$99n){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=!0),void 0===C$99i&&(C$99i=""),void 0===C$99n&&(C$99n=!0),this._target&&(this._target.event("effectanimationbegin",[this]),this._recordInitData(),laya.display.AnimationPlayerBase.prototype.play.call(this,C$99t,C$99e,C$99i,C$99n));},C$99t._recordInitData=function(){if(this._aniKeys){var C$99t,C$99e,C$99i=0;for(C$99t=this._aniKeys.length,C$99i=0;C$99i<C$99t;C$99i++)C$99e=this._aniKeys[C$99i],this._initData[C$99e]=this._target[C$99e];}},C$99t._displayToIndex=function(C$99t){if(this._animationData){(C$99t=C$99t<0?0:C$99t)>this._count&&(C$99t=this._count);var C$99e=this._animationData.nodes,C$99i=0,C$99n=C$99e.length;for(C$99n=1<C$99n?1:C$99n,C$99i=0;C$99i<C$99n;C$99i++)this._displayNodeToFrame(C$99e[C$99i],C$99t);}},C$99t._displayNodeToFrame=function(C$99t,C$99e,C$99u){if(this._target){var C$99i;C$99i=this._target;var C$99n,C$99r,C$99s,C$99c=C$99t.frames,C$99a=C$99t.keys,C$99o=0,C$99_=C$99a.length;C$99s=C$99t.secondFrames;var C$99h,C$99l;for(C$99o=0;C$99o<C$99_;C$99o++)C$99r=C$99c[C$99n=C$99a[C$99o]],C$99h=-1==(C$99l=C$99s[C$99n])?this._initData[C$99n]:C$99e<C$99l?(C$99h=(C$99l=C$99t.keyframes[C$99n])[0]).tween?(null==(C$99h=C$99z[C$99h.tweenMethod])&&(C$99h=C$99z.linearNone),C$99l=C$99l[1],C$99h(C$99e,this._initData[C$99n],C$99l.value-this._initData[C$99n],C$99l.index)):this._initData[C$99n]:C$99r.length>C$99e?C$99r[C$99e]:C$99r[C$99r.length-1],C$99i[C$99n]=C$99h;}},C$99t._calculateNodeKeyFrames=function(C$99t){C$99s.prototype._calculateNodeKeyFrames.call(this,C$99t);var C$99e,C$99i,C$99n,C$99r=C$99t.keyframes;for(C$99e in C$99t.target,C$99t.secondFrames=C$99n={},C$99r)(C$99i=C$99r[C$99e]).length<=1?C$99n[C$99e]=-1:C$99n[C$99e]=C$99i[1].index;},C$99n(0,C$99t,"target",function(){return this._target;},function(C$99t){this._target&&this._target.off("effectanimationbegin",this,this._onOtherBegin),this._target=C$99t,this._target&&this._target.on("effectanimationbegin",this,this._onOtherBegin),this.addEvent();}),C$99n(0,C$99t,"playEvent",null,function(C$99t){(this._playEvents=C$99t)&&this.addEvent();}),C$99n(0,C$99t,"effectData",null,function(C$99t){var C$99e;C$99t&&(C$99e=C$99t.animations)&&C$99e[0]&&(this._setUp({},C$99e[0]),C$99e[0].nodes&&C$99e[0].nodes[0]&&(this._aniKeys=C$99e[0].nodes[0].keys));}),C$99n(0,C$99t,"effectClass",null,function(C$99t){var C$99e,C$99i;this._effectClass=C$99W.getClass(C$99t),this._effectClass&&(C$99e=this._effectClass.uiView)&&(C$99i=C$99e.animations)&&C$99i[0]&&(this._setUp({},C$99i[0]),C$99i[0].nodes&&C$99i[0].nodes[0]&&(this._aniKeys=C$99i[0].nodes[0].keys));}),e$d.EffectAnimationBegin="effectanimationbegin";}(C$99e),C$99i(e$T,"laya.utils.GraphicAnimation",C$99wt=C$99e),(C$99e=e$T.prototype)._parseNodeList=function(C$99t){this._nodeList||(this._nodeList=[]),this._nodeDefaultProps[C$99t.compId]=C$99t.props,C$99t.compId&&this._nodeList.push(C$99t.compId);var C$99e=C$99t.child;if(C$99e){var C$99i=0,C$99n=C$99e.length;for(C$99i=0;C$99i<C$99n;C$99i++)this._parseNodeList(C$99e[C$99i]);}},C$99e._calGraphicData=function(C$99t){if(this._setUp(null,C$99t),this._createGraphicData(),this._nodeIDAniDic)for(var C$99e in this._nodeIDAniDic)this._nodeIDAniDic[C$99e]=null;},C$99e._createGraphicData=function(){var C$99t,C$99e=[],C$99i=0,C$99n=this.count,C$99r=this._animationNewFrames;for(C$99r=C$99r||[],C$99i=0;C$99i<C$99n;C$99i++)!C$99r[C$99i]&&C$99t||(C$99t=this._createFrameGraphic(C$99i)),C$99e.push(C$99t);this._gList=C$99e;},C$99e._createFrameGraphic=function(C$99t){var C$99e=C$99m.createGraphics();return e$T._rootMatrix||(e$T._rootMatrix=new C$99I()),this._updateNodeGraphic(this._rootNode,C$99t,e$T._rootMatrix,C$99e),C$99e;},C$99e._updateNodeGraphic=function(C$99t,C$99e,C$99u,C$99i,C$99n){var C$99r;void 0===C$99n&&(C$99n=1);var C$99s,C$99a,C$99o,C$99h=(C$99r=this._nodeGDic[C$99t.compId]=this._getNodeGraphicData(C$99t.compId,C$99e,this._nodeGDic[C$99t.compId])).alpha*C$99n;if(!(C$99h<.01)&&(C$99r.resultTransform||(C$99r.resultTransform=C$99I.create()),C$99s=C$99r.resultTransform,C$99I.mul(C$99r.transform,C$99u,C$99s),C$99r.skin&&(C$99a=this._getTextureByUrl(C$99r.skin))&&(C$99s._checkTransform()?(C$99i.drawTexture(C$99a,0,0,C$99r.width,C$99r.height,C$99s,C$99h),C$99r.resultTransform=null):C$99i.drawTexture(C$99a,C$99s.tx,C$99s.ty,C$99r.width,C$99r.height,null,C$99h)),C$99o=C$99t.child)){var C$99c,C$99l=0;for(C$99c=C$99o.length,C$99l=0;C$99l<C$99c;C$99l++)this._updateNodeGraphic(C$99o[C$99l],C$99e,C$99s,C$99i,C$99h);}},C$99e._updateNoChilds=function(C$99t,C$99e){var C$99i,C$99n;!C$99t.skin||(C$99i=this._getTextureByUrl(C$99t.skin))&&((C$99n=C$99t.transform)._checkTransform(),C$99n.bTransform?C$99e.drawTexture(C$99i,0,0,C$99t.width,C$99t.height,C$99n.clone(),C$99t.alpha):C$99e.drawTexture(C$99i,C$99n.tx,C$99n.ty,C$99t.width,C$99t.height,null,C$99t.alpha));},C$99e._updateNodeGraphic2=function(C$99t,C$99e,C$99i){var C$99n;if(C$99n=this._nodeGDic[C$99t.compId]=this._getNodeGraphicData(C$99t.compId,C$99e,this._nodeGDic[C$99t.compId]),C$99t.child){var C$99r=C$99n.transform;var C$99s,C$99a;var C$99o,C$99h,C$99u;if(C$99r._checkTransform(),C$99a=(C$99s=!C$99r.bTransform)&&(0!=C$99r.tx||0!=C$99r.ty),(C$99o=C$99r.bTransform||1!=C$99n.alpha)&&C$99i.save(),1!=C$99n.alpha&&C$99i.alpha(C$99n.alpha),C$99s?C$99a&&C$99i.translate(C$99r.tx,C$99r.ty):C$99i.transform(C$99r.clone()),C$99h=C$99t.child,C$99n.skin&&(C$99u=this._getTextureByUrl(C$99n.skin))&&C$99i.drawTexture(C$99u,0,0,C$99n.width,C$99n.height),C$99h){var C$99c,C$99l=0;for(C$99c=C$99h.length,C$99l=0;C$99l<C$99c;C$99l++)this._updateNodeGraphic2(C$99h[C$99l],C$99e,C$99i);}C$99o?C$99i.restore():C$99s?C$99a&&C$99i.translate(-C$99r.tx,-C$99r.ty):C$99i.transform(C$99r.clone().invert());}else this._updateNoChilds(C$99n,C$99i);},C$99e._calculateNodeKeyFrames=function(C$99t){C$99wt.prototype._calculateNodeKeyFrames.call(this,C$99t),this._nodeIDAniDic[C$99t.target]=C$99t;},C$99e.getNodeDataByID=function(C$99t){return this._nodeIDAniDic[C$99t];},C$99e._getParams=function(C$99t,C$99e,C$99i,C$99n){var C$99r=e$T._temParam;C$99r.length=C$99e.length;var C$99s=0,C$99a=C$99e.length;for(C$99s=0;C$99s<C$99a;C$99s++)C$99r[C$99s]=this._getObjVar(C$99t,C$99e[C$99s][0],C$99i,C$99e[C$99s][1],C$99n);return C$99r;},C$99e._getObjVar=function(C$99t,C$99e,C$99i,C$99n,C$99r){if(C$99t.hasOwnProperty(C$99e)){var C$99s=C$99t[C$99e];if(C$99i>=C$99s.length&&(C$99i=C$99s.length-1),null!=C$99t[C$99e][C$99i])return C$99t[C$99e][C$99i];}return C$99r.hasOwnProperty(C$99e)?C$99r[C$99e]:C$99n;},C$99e._getNodeGraphicData=function(C$99t,C$99e,C$99i){(C$99i=C$99i||C$99Tt.create()).transform?C$99i.transform.identity():C$99i.transform=C$99I.create();var C$99n=this.getNodeDataByID(C$99t);if(!C$99n)return C$99i;var C$99r,C$99n=C$99n.frames,C$99n=this._getParams(C$99n,e$T._drawTextureCmd,C$99e,this._nodeDefaultProps[C$99t]),C$99e=C$99n[0],C$99t=NaN,C$99s=NaN,C$99a=C$99n[5],C$99o=C$99n[6],C$99h=C$99n[13],C$99l=C$99n[14],C$99u=C$99n[7],C$99c=C$99n[8],C$99_=C$99n[9],C$99d=C$99n[11],C$99f=C$99n[12];C$99t=C$99n[3],C$99s=C$99n[4],0!=C$99t&&0!=C$99s||(C$99e=null),-1==C$99t&&(C$99t=0),-1==C$99s&&(C$99s=0),C$99i.skin=C$99e,C$99i.width=C$99t,C$99i.height=C$99s,C$99e&&((C$99r=this._getTextureByUrl(C$99e))?(C$99t=C$99t||C$99r.sourceWidth,C$99s=C$99s||C$99r.sourceHeight):console.warn("lost skin:",C$99e,",you may load pics first")),C$99i.alpha=C$99n[10],C$99r=C$99i.transform,0!=C$99l&&(C$99o=C$99l*C$99s),0==(C$99a=0!=C$99h?C$99h*C$99t:C$99a)&&0==C$99o||C$99r.translate(-C$99a,-C$99o);C$99e=null;return(C$99_||1!==C$99u||1!==C$99c||C$99d||C$99f)&&((C$99e=e$T._tempMt).identity(),C$99e.bTransform=!0,C$99l=.0174532922222222*(C$99_-C$99d),C$99s=.0174532922222222*(C$99_+C$99f),C$99h=Math.cos(C$99s),C$99t=Math.sin(C$99s),C$99a=Math.sin(C$99l),C$99o=Math.cos(C$99l),C$99e.a=C$99u*C$99h,C$99e.b=C$99u*C$99t,C$99e.c=-C$99c*C$99a,C$99e.d=C$99c*C$99o,C$99e.tx=C$99e.ty=0),(C$99r=C$99e?C$99I.mul(C$99r,C$99e,C$99r):C$99r).translate(C$99n[1],C$99n[2]),C$99i;},C$99e._getTextureByUrl=function(C$99t){return C$99ht.getRes(C$99t);},C$99e.setAniData=function(C$99t,C$99e){if(C$99t.animations){this._nodeDefaultProps={},this._nodeGDic={},this._nodeList&&(this._nodeList.length=0),this._rootNode=C$99t,this._parseNodeList(C$99t);var C$99i,C$99n={},C$99r=[],C$99s=C$99t.animations,C$99a=0,C$99o=C$99s.length;for(C$99a=0;C$99a<C$99o;C$99a++)if(C$99i=C$99s[C$99a],this._labels=null,(!C$99e||C$99e==C$99i.name)&&C$99i){try{this._calGraphicData(C$99i);}catch(C$99t){console.warn("parse animation fail:"+C$99i.name+",empty animation created"),this._gList=[];}var C$99h={};C$99h.interval=1e3/C$99i.frameRate,C$99h.frames=this._gList,C$99h.labels=this._labels,C$99h.name=C$99i.name,C$99r.push(C$99h),C$99n[C$99i.name]=C$99h;}this.animationList=C$99r,this.animationDic=C$99n;}e$T._temParam.length=0;},C$99e.parseByData=function(C$99t){var C$99e;C$99i=C$99t.nodeRoot,C$99e=C$99t.aniO,delete C$99t.nodeRoot,delete C$99t.aniO,this._nodeDefaultProps={},this._nodeGDic={},this._nodeList&&(this._nodeList.length=0),this._rootNode=C$99i,this._parseNodeList(C$99i),this._labels=null;try{this._calGraphicData(C$99e);}catch(C$99t){console.warn("parse animation fail:"+C$99e.name+",empty animation created"),this._gList=[];}var C$99i=C$99t;return C$99i.interval=1e3/C$99e.frameRate,C$99i.frames=this._gList,C$99i.labels=this._labels,C$99i.name=C$99e.name,C$99i;},C$99e.setUpAniData=function(C$99t){if(C$99t.animations){var C$99e,C$99i={},C$99n=[],C$99r=C$99t.animations,C$99s=0,C$99a=C$99r.length;for(C$99s=0;C$99s<C$99a;C$99s++){var C$99o;(C$99e=C$99r[C$99s])&&((C$99o={}).name=C$99e.name,C$99o.aniO=C$99e,C$99o.nodeRoot=C$99t,C$99n.push(C$99o),C$99i[C$99e.name]=C$99o);}this.animationList=C$99n,this.animationDic=C$99i;}},C$99e._clear=function(){var C$99t,C$99e;if(this.animationList=null,this.animationDic=null,this._gList=null,this._nodeGDic)for(C$99t in this._nodeGDic)(C$99e=this._nodeGDic[C$99t])&&C$99e.recover();this._nodeGDic=null;},e$T.parseAnimationByData=function(C$99t){return C$99t=(e$T._I=e$T._I?e$T._I:new e$T()).parseByData(C$99t),e$T._I._clear(),C$99t;},e$T.parseAnimationData=function(C$99t){return(e$T._I=e$T._I?e$T._I:new e$T()).setUpAniData(C$99t),(C$99t={}).animationList=e$T._I.animationList,C$99t.animationDic=e$T._I.animationDic,e$T._I._clear(),C$99t;},e$T._drawTextureCmd=[["skin",null],["x",0],["y",0],["width",-1],["height",-1],["pivotX",0],["pivotY",0],["scaleX",1],["scaleY",1],["rotation",0],["alpha",1],["skewX",0],["skewY",0],["anchorX",0],["anchorY",0]],e$T._temParam=[],e$T._I=null,e$T._rootMatrix=null,C$99a(e$T,["_tempMt",function(){return this._tempMt=new C$99I();}]),e$T.__init$=function(){function e$d(){this.skin=null,this.transform=null,this.resultTransform=null,this.width=NaN,this.height=NaN,this.alpha=1;}C$99i(e$d,""),e$d.prototype.recover=function(){this.skin=null,this.width=0,this.height=0,this.alpha=1,this.transform&&(this.transform.destroy(),this.transform=null),this.resultTransform&&(this.resultTransform.destroy(),this.resultTransform=null),C$99X.recover("GraphicNode",this);},e$d.create=function(){return C$99X.getItemByClass("GraphicNode",e$d);},C$99Tt=e$d;},e$T);function e$T(){this.animationList=null,this.animationDic=null,this._nodeList=null,this._nodeDefaultProps=null,this._gList=null,this._nodeIDAniDic={},this._rootNode=null,this._nodeGDic=null,e$T.__super.call(this);}var C$99wt,C$99Tt;function e$p(){this._data=null,this._class=null,this._url=null,this._type=null,this._cache=!1,this._http=null,this._customParse=!1,e$p.__super.call(this),this._onImageCallback=this._loadImageComplete.bind(this),this._onLoadedCallback=this._loadedComplete.bind(this),this.priority=-1,this.realTime=!1;}function e$J(C$99t){this._bgground=null,this._border=null,this._rect=null,this.underLine=0,this.lineHeight=0,e$J.__super.call(this),this._padding=e$J._PADDING,this._spacing=e$J._SPACING,this._aligns=e$J._ALIGNS,this._font=C$99u.EMPTY,this._ower=C$99t;}var C$99t;function e$c(){}function e$B(){this._repaint=!1;}function e$A(C$99t,C$99e,C$99i){this.x=0,this.y=0,this._drawTexture=function(C$99t,C$99e,C$99i){C$99i[0].loaded&&this.ctx.drawTexture(C$99i[0],C$99i[1],C$99i[2],C$99i[3],C$99i[4],C$99t,C$99e);},this._fillTexture=function(C$99t,C$99e,C$99i){C$99i[0].loaded&&this.ctx.fillTexture(C$99i[0],C$99i[1]+C$99t,C$99i[2]+C$99e,C$99i[3],C$99i[4],C$99i[5],C$99i[6],C$99i[7]);},this._drawTextureWithTransform=function(C$99t,C$99e,C$99i){C$99i[0].loaded&&this.ctx.drawTextureWithTransform(C$99i[0],C$99i[1],C$99i[2],C$99i[3],C$99i[4],C$99i[5],C$99t,C$99e,C$99i[6]);},this._fillQuadrangle=function(C$99t,C$99e,C$99i){this.ctx.fillQuadrangle(C$99i[0],C$99i[1],C$99i[2],C$99i[3],C$99i[4]);},this._drawRect=function(C$99t,C$99e,C$99i){var C$99n=this.ctx;null!=C$99i[4]&&(C$99n.fillStyle=C$99i[4],C$99n.fillRect(C$99t+C$99i[0],C$99e+C$99i[1],C$99i[2],C$99i[3],null)),null!=C$99i[5]&&(C$99n.strokeStyle=C$99i[5],C$99n.lineWidth=C$99i[6],C$99n.strokeRect(C$99t+C$99i[0],C$99e+C$99i[1],C$99i[2],C$99i[3],C$99i[6]));},this._drawPie=function(C$99t,C$99e,C$99i){var C$99n=this.ctx;C$99T.isWebGL&&C$99n.setPathId(C$99i[8]),C$99n.beginPath(),C$99T.isWebGL?(C$99n.movePath(C$99i[0]+C$99t,C$99i[1]+C$99e),C$99n.moveTo(0,0)):C$99n.moveTo(C$99t+C$99i[0],C$99e+C$99i[1]),C$99n.arc(C$99t+C$99i[0],C$99e+C$99i[1],C$99i[2],C$99i[3],C$99i[4]),C$99n.closePath(),this._fillAndStroke(C$99i[5],C$99i[6],C$99i[7],!0);},this._clipRect=function(C$99t,C$99e,C$99i){this.ctx.clipRect(C$99t+C$99i[0],C$99e+C$99i[1],C$99i[2],C$99i[3]);},this._fillRect=function(C$99t,C$99e,C$99i){this.ctx.fillRect(C$99t+C$99i[0],C$99e+C$99i[1],C$99i[2],C$99i[3],C$99i[4]);},this._drawCircle=function(C$99t,C$99e,C$99i){var C$99n=this.ctx;C$99T.isWebGL&&C$99n.setPathId(C$99i[6]),C$99j.drawCall++,C$99n.beginPath(),C$99T.isWebGL&&C$99n.movePath(C$99i[0]+C$99t,C$99i[1]+C$99e),C$99n.arc(C$99i[0]+C$99t,C$99i[1]+C$99e,C$99i[2],0,e$A.PI2),C$99n.closePath(),this._fillAndStroke(C$99i[3],C$99i[4],C$99i[5],!0);},this._fillCircle=function(C$99t,C$99e,C$99i){C$99j.drawCall++;var C$99n=this.ctx;C$99n.beginPath(),C$99n.fillStyle=C$99i[3],C$99n.arc(C$99i[0]+C$99t,C$99i[1]+C$99e,C$99i[2],0,e$A.PI2),C$99n.fill();},this._setShader=function(C$99t,C$99e,C$99i){this.ctx.setShader(C$99i[0]);},this._drawLine=function(C$99t,C$99e,C$99i){var C$99n=this.ctx;C$99T.isWebGL&&C$99n.setPathId(C$99i[6]),C$99n.beginPath(),C$99n.strokeStyle=C$99i[4],C$99n.lineWidth=C$99i[5],C$99T.isWebGL?(C$99n.movePath(C$99t,C$99e),C$99n.moveTo(C$99i[0],C$99i[1]),C$99n.lineTo(C$99i[2],C$99i[3])):(C$99n.moveTo(C$99t+C$99i[0],C$99e+C$99i[1]),C$99n.lineTo(C$99t+C$99i[2],C$99e+C$99i[3])),C$99n.stroke();},this._drawLines=function(C$99t,C$99e,C$99i){var C$99n=this.ctx;C$99T.isWebGL&&C$99n.setPathId(C$99i[5]),C$99n.beginPath(),C$99t+=C$99i[0],C$99e+=C$99i[1],C$99T.isWebGL&&C$99n.movePath(C$99t,C$99e),C$99n.strokeStyle=C$99i[3],C$99n.lineWidth=C$99i[4];var C$99r=C$99i[2],C$99s=2,C$99a=C$99r.length;if(C$99T.isWebGL)for(C$99n.moveTo(C$99r[0],C$99r[1]);C$99s<C$99a;)C$99n.lineTo(C$99r[C$99s++],C$99r[C$99s++]);else for(C$99n.moveTo(C$99t+C$99r[0],C$99e+C$99r[1]);C$99s<C$99a;)C$99n.lineTo(C$99t+C$99r[C$99s++],C$99e+C$99r[C$99s++]);C$99n.stroke();},this._drawLinesWebGL=function(C$99t,C$99e,C$99i){this.ctx.drawLines(C$99t+this.x+C$99i[0],C$99e+this.y+C$99i[1],C$99i[2],C$99i[3],C$99i[4]);},this._drawCurves=function(C$99t,C$99e,C$99i){this.ctx.drawCurves(C$99t,C$99e,C$99i);},this._draw=function(C$99t,C$99e,C$99i){C$99i[0].call(null,this,C$99t,C$99e);},this._transformByMatrix=function(C$99t,C$99e,C$99i){this.ctx.transformByMatrix(C$99i[0]);},this._setTransform=function(C$99t,C$99e,C$99i){this.ctx.setTransform(C$99i[0],C$99i[1],C$99i[2],C$99i[3],C$99i[4],C$99i[5]);},this._setTransformByMatrix=function(C$99t,C$99e,C$99i){this.ctx.setTransformByMatrix(C$99i[0]);},this._save=function(C$99t,C$99e,C$99i){this.ctx.save();},this._restore=function(C$99t,C$99e,C$99i){this.ctx.restore();},this._translate=function(C$99t,C$99e,C$99i){this.ctx.translate(C$99i[0],C$99i[1]);},this._transform=function(C$99t,C$99e,C$99i){this.ctx.translate(C$99i[1]+C$99t,C$99i[2]+C$99e);var C$99n=C$99i[0];this.ctx.transform(C$99n.a,C$99n.b,C$99n.c,C$99n.d,C$99n.tx,C$99n.ty),this.ctx.translate(-C$99t-C$99i[1],-C$99e-C$99i[2]);},this._rotate=function(C$99t,C$99e,C$99i){this.ctx.translate(C$99i[1]+C$99t,C$99i[2]+C$99e),this.ctx.rotate(C$99i[0]),this.ctx.translate(-C$99t-C$99i[1],-C$99e-C$99i[2]);},this._scale=function(C$99t,C$99e,C$99i){this.ctx.translate(C$99i[2]+C$99t,C$99i[3]+C$99e),this.ctx.scale(C$99i[0],C$99i[1]),this.ctx.translate(-C$99t-C$99i[2],-C$99e-C$99i[3]);},this._alpha=function(C$99t,C$99e,C$99i){this.ctx.globalAlpha*=C$99i[0];},this._setAlpha=function(C$99t,C$99e,C$99i){this.ctx.globalAlpha=C$99i[0];},this._fillText=function(C$99t,C$99e,C$99i){this.ctx.fillText(C$99i[0],C$99i[1]+C$99t,C$99i[2]+C$99e,C$99i[3],C$99i[4],C$99i[5]);},this._strokeText=function(C$99t,C$99e,C$99i){this.ctx.strokeText(C$99i[0],C$99i[1]+C$99t,C$99i[2]+C$99e,C$99i[3],C$99i[4],C$99i[5],C$99i[6]);},this._fillBorderText=function(C$99t,C$99e,C$99i){this.ctx.fillBorderText(C$99i[0],C$99i[1]+C$99t,C$99i[2]+C$99e,C$99i[3],C$99i[4],C$99i[5],C$99i[6],C$99i[7]);},this._blendMode=function(C$99t,C$99e,C$99i){this.ctx.globalCompositeOperation=C$99i[0];},this._beginClip=function(C$99t,C$99e,C$99i){this.ctx.beginClip&&this.ctx.beginClip(C$99t+C$99i[0],C$99e+C$99i[1],C$99i[2],C$99i[3]);},this._setIBVB=function(C$99t,C$99e,C$99i){this.ctx.setIBVB(C$99i[0]+C$99t,C$99i[1]+C$99e,C$99i[2],C$99i[3],C$99i[4],C$99i[5],C$99i[6],C$99i[7]);},this._fillTrangles=function(C$99t,C$99e,C$99i){this.ctx.fillTrangles(C$99i[0],C$99i[1]+C$99t,C$99i[2]+C$99e,C$99i[3],C$99i[4]);},this._drawPath=function(C$99t,C$99e,C$99i){var C$99n=this.ctx;C$99T.isWebGL&&C$99n.setPathId(-1),C$99n.beginPath(),C$99t+=C$99i[0],C$99e+=C$99i[1],C$99T.isWebGL&&C$99n.movePath(C$99t,C$99e);for(var C$99r=C$99i[2],C$99s=0,C$99a=C$99r.length;C$99s<C$99a;C$99s++){var C$99o=C$99r[C$99s];switch(C$99o[0]){case"moveTo":C$99T.isWebGL?C$99n.moveTo(C$99o[1],C$99o[2]):C$99n.moveTo(C$99t+C$99o[1],C$99e+C$99o[2]);break;case"lineTo":C$99T.isWebGL?C$99n.lineTo(C$99o[1],C$99o[2]):C$99n.lineTo(C$99t+C$99o[1],C$99e+C$99o[2]);break;case"arcTo":C$99T.isWebGL?C$99n.arcTo(C$99o[1],C$99o[2],C$99o[3],C$99o[4],C$99o[5]):C$99n.arcTo(C$99t+C$99o[1],C$99e+C$99o[2],C$99t+C$99o[3],C$99e+C$99o[4],C$99o[5]);break;case"closePath":C$99n.closePath();}}var C$99h=C$99i[3];null!=C$99h&&(C$99n.fillStyle=C$99h.fillStyle,C$99n.fill());C$99h=C$99i[4];null!=C$99h&&(C$99n.strokeStyle=C$99h.strokeStyle,C$99n.lineWidth=C$99h.lineWidth||1,C$99n.lineJoin=C$99h.lineJoin,C$99n.lineCap=C$99h.lineCap,C$99n.miterLimit=C$99h.miterLimit,C$99n.stroke());},this.drawPoly=function(C$99t,C$99e,C$99i){this.ctx.drawPoly(C$99t+this.x+C$99i[0],C$99e+this.y+C$99i[1],C$99i[2],C$99i[3],C$99i[4],C$99i[5],C$99i[6]);},this._drawPoly=function(C$99t,C$99e,C$99i){var C$99n=this.ctx,C$99r=C$99i[2],C$99s=2,C$99a=C$99r.length;if(C$99T.isWebGL)for(C$99n.setPathId(C$99i[6]),C$99n.beginPath(),C$99t+=C$99i[0],C$99e+=C$99i[1],C$99n.movePath(C$99t,C$99e),C$99n.moveTo(C$99r[0],C$99r[1]);C$99s<C$99a;)C$99n.lineTo(C$99r[C$99s++],C$99r[C$99s++]);else for(C$99n.beginPath(),C$99t+=C$99i[0],C$99e+=C$99i[1],C$99n.moveTo(C$99t+C$99r[0],C$99e+C$99r[1]);C$99s<C$99a;)C$99n.lineTo(C$99t+C$99r[C$99s++],C$99e+C$99r[C$99s++]);C$99n.closePath(),this._fillAndStroke(C$99i[3],C$99i[4],C$99i[5],C$99i[7]);},this._drawSkin=function(C$99t,C$99e,C$99i){C$99i=C$99i[0];var C$99n;C$99i&&(C$99n=this.ctx,C$99i.render(C$99n,C$99t,C$99e));},this._drawParticle=function(C$99t,C$99e,C$99i){this.ctx.drawParticle(C$99t+this.x,C$99e+this.y,C$99i[0]);},this._setFilters=function(C$99t,C$99e,C$99i){this.ctx.setFilters(C$99i);},C$99i?this.ctx=C$99i.getContext("2d"):(C$99i=C$99$t.create("3D"),this.ctx=C$99m.createWebGLContext2D(C$99i),C$99i._setContext(this.ctx)),C$99i.size(C$99t,C$99e),this.canvas=C$99i;}function e$k(){}function e$o(){}function e$Y(){this.preOvers=[],this.preDowns=[],this.preRightDowns=[],this.enable=!0,this._lastClickTime=0,this._event=new C$99f();}function e$g(){this._cacheBoundsType=!1;}function e$f(){this._one=null,this._cmds=null,this._render=this._renderEmpty,C$99T.isConchNode&&(this._nativeObj=new C$99s._conchGraphics(),this.id=this._nativeObj.conchID);}function e$t(C$99t){this._type=0,this._weight=0,this._decoration=null,this._text=null,this.indent=0,this._color=C$99H.create(e$t.defaultColor),this.family=e$t.defaultFamily,this.stroke=e$t._STROKE,this.size=e$t.defaultSize,C$99t&&C$99t!==e$t.EMPTY&&C$99t.copyTo(this);}function e$l(){this.alpha=1,this.visible=!0,this.scrollRect=null,this.blendMode=null,this._type=0,this._tf=e$l._TF_EMPTY;}function e$W(C$99t,C$99e,C$99i,C$99n){this.once=!1,void(this._id=0)===C$99n&&(C$99n=!1),this.setTo(C$99t,C$99e,C$99i,C$99n);}function e$I(){this._events=null;}var C$99e;function e$d(){}function e$i(){}C$99y.__init([C$99h,C$99lt,C$99T,C$99S,C$99K,C$99P,C$99t,C$99bt]);}(window,document,Laya),function(){Laya.un,Laya.uns,Laya.static;var C$99t=Laya.class;function e$d(){}Laya.getset,Laya.__newvec,C$99t(e$d,"LayaMain");}((window,document)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$99t,C$99e){"use strict";for(var C$99i in Object.defineProperty(C$99e,"__esModule",{value:!0}),Laya){var C$99n=Laya[C$99i];C$99n&&C$99n.__isclass&&(C$99e[C$99i]=C$99n);}}),function(C$99g){C$99g.un,C$99g.uns;var C$99e=C$99g.static,C$99i=C$99g.class,C$99n=C$99g.getset,C$99s=C$99g.__newvec,C$99c=laya.maths.Arith,C$99_=laya.maths.Bezier,C$99r=laya.resource.Bitmap,C$99o=laya.utils.Browser,C$99a=laya.utils.Byte,C$99d=laya.utils.Color,C$99m=(laya.filters.ColorFilter,C$99g.Config),C$99f=laya.resource.Context,C$99x=(laya.events.Event,laya.filters.Filter),C$99p=laya.display.Graphics,C$99v=laya.resource.HTMLCanvas,C$99$=(laya.utils.HTMLChar,laya.resource.HTMLImage),C$99y=laya.resource.HTMLSubImage,C$99b=(laya.utils.Handler,laya.net.Loader,laya.maths.Matrix),C$99w=laya.maths.Point,C$99T=laya.maths.Rectangle,C$99S=laya.renders.Render,C$99M=(laya.renders.RenderContext,laya.renders.RenderSprite),C$99C=laya.resource.Resource,C$99A=laya.resource.ResourceManager,C$99I=laya.utils.RunDriver,C$99D=laya.display.Sprite,C$99E=laya.display.Stage,C$99R=laya.utils.Stat,C$99P=laya.utils.StringKey,C$99B=(laya.display.css.Style,laya.system.System),C$99L=laya.display.Text,C$99N=laya.resource.Texture,C$99k=(laya.display.css.TransformInfo,laya.net.URL,laya.utils.Utils),C$99O=laya.utils.VectorGraphManager;laya.utils.WordText,C$99g.interface("laya.webgl.shapes.IShape"),C$99g.interface("laya.webgl.submit.ISubmit"),C$99g.interface("laya.webgl.text.ICharSegment"),C$99g.interface("laya.webgl.canvas.save.ISaveData"),C$99g.interface("laya.webgl.resource.IMergeAtlasBitmap"),C$99g.interface("laya.filters.IFilterActionGL","laya.filters.IFilterAction");C$99i(e$d,"laya.filters.webgl.FilterActionGL"),C$99t=e$d.prototype,C$99g.imps(C$99t,{"laya.filters.IFilterActionGL":!0}),C$99t.setValue=function(C$99t){},C$99t.setValueMix=function(C$99t){},C$99t.apply3d=function(C$99t,C$99e,C$99i,C$99n,C$99r){return null;},C$99t.apply=function(C$99t){return null;},C$99n(0,C$99t,"typeMix",function(){return 0;});var C$99V=e$d,C$99F=function(){function e$d(){}return C$99i(e$d,"laya.webgl.shader.ShaderValue"),e$d;}(),C$99U=function(){var C$99n,C$99r;function e$d(C$99t,C$99e,C$99i){this._atlasID=0,this._width=0,this._height=0,this._texCount=0,this._rowInfo=null,this._cells=null,this._failSize=new C$99r(),void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),this._cells=null,this._rowInfo=null,this._init(C$99t,C$99e),this._atlasID=C$99i;}C$99i(e$d,"laya.webgl.atlas.AtlasGrid");var C$99t=e$d.prototype;return C$99t.getAltasID=function(){return this._atlasID;},C$99t.setAltasID=function(C$99t){0<=C$99t&&(this._atlasID=C$99t);},C$99t.addTex=function(C$99t,C$99e,C$99i){var C$99n=this._get(C$99e,C$99i);return 0==C$99n.ret||(this._fill(C$99n.x,C$99n.y,C$99e,C$99i,C$99t),this._texCount++),C$99n;},C$99t._release=function(){null!=this._cells&&(this._cells.length=0,this._cells=null),this._rowInfo&&(this._rowInfo.length=0,this._rowInfo=null);},C$99t._init=function(C$99t,C$99e){if(this._width=C$99t,this._height=C$99e,this._release(),0==this._width)return!1;this._cells=new Uint8Array(this._width*this._height*3),this._rowInfo=C$99s(this._height);for(var C$99i=0;C$99i<this._height;C$99i++)this._rowInfo[C$99i]=new C$99n();return this._clear(),!0;},C$99t._get=function(C$99t,C$99e){var C$99i=new C$99H();if(C$99t>=this._failSize.width&&C$99e>=this._failSize.height)return C$99i;for(var C$99n,C$99r=-1,C$99u=this._width,C$99c=this._height,C$99s=this._cells,C$99a=0;C$99a<C$99c;C$99a++)if(!(this._rowInfo[C$99a].spaceCount<C$99t))for(var C$99o=0;C$99o<C$99u;){var C$99h=3*(C$99a*C$99u+C$99o);if(0!=C$99s[C$99h]||C$99s[1+C$99h]<C$99t||C$99s[2+C$99h]<C$99e)C$99o+=C$99s[1+C$99h];else{C$99r=C$99o,C$99n=C$99a;for(var C$99l=0;C$99l<C$99t;C$99l++)if(C$99s[3*C$99l+C$99h+2]<C$99e){C$99r=-1;break;}if(!(C$99r<0))return C$99i.ret=!0,C$99i.x=C$99r,C$99i.y=C$99n,C$99i;C$99o+=C$99s[1+C$99h];}}return C$99i;},C$99t._fill=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=this._width,C$99u=this._height;this._check(C$99t+C$99i<=C$99s&&C$99e+C$99n<=C$99u);for(var C$99a=C$99e;C$99a<C$99n+C$99e;++C$99a){this._check(this._rowInfo[C$99a].spaceCount>=C$99i),this._rowInfo[C$99a].spaceCount-=C$99i;for(var C$99o=0;C$99o<C$99i;C$99o++){var C$99h=3*(C$99t+C$99a*C$99s+C$99o);this._check(0==this._cells[C$99h]),this._cells[C$99h]=C$99r,this._cells[1+C$99h]=C$99i,this._cells[2+C$99h]=C$99n;}}if(0<C$99t)for(C$99a=0;C$99a<C$99n;++C$99a){var C$99l=0;for(C$99o=C$99t-1;0<=C$99o&&0==this._cells[3*((C$99e+C$99a)*C$99s+C$99o)];--C$99o,++C$99l);for(C$99o=C$99l;0<C$99o;--C$99o)this._cells[3*((C$99e+C$99a)*C$99s+C$99t-C$99o)+1]=C$99o,this._check(0<C$99o);}if(0<C$99e)for(C$99o=C$99t;C$99o<C$99t+C$99i;++C$99o){for(C$99l=0,C$99a=C$99e-1;0<=C$99a&&0==this._cells[3*(C$99o+C$99a*C$99s)];--C$99a,C$99l++);for(C$99a=C$99l;0<C$99a;--C$99a)this._cells[3*(C$99o+(C$99e-C$99a)*C$99s)+2]=C$99a,this._check(0<C$99a);}},C$99t._check=function(C$99t){0==C$99t&&console.log("xtexMerger \u9519\u8bef\u5566");},C$99t._clear=function(){for(var C$99t=this._texCount=0;C$99t<this._height;C$99t++)this._rowInfo[C$99t].spaceCount=this._width;for(var C$99e=0;C$99e<this._height;C$99e++)for(var C$99i=0;C$99i<this._width;C$99i++){var C$99n=3*(C$99e*this._width+C$99i);this._cells[C$99n]=0,this._cells[1+C$99n]=this._width-C$99i,this._cells[2+C$99n]=this._width-C$99e;}this._failSize.width=this._width+1,this._failSize.height=this._height+1;},e$d.__init$=function(){function e$d(){this.spaceCount=0;}C$99i(e$d,""),C$99n=e$d,C$99r=function(){function e$d(){this.width=0,this.height=0;}return C$99i(e$d,""),e$d;}();},e$d;}(),C$99W=(C$99i(e$z,"laya.webgl.atlas.AtlasResourceManager"),(C$99t=e$z.prototype).setAtlasParam=function(C$99t,C$99e,C$99i,C$99n){if(1==this._setAtlasParam)return e$z._sid_=0,this._width=C$99t,this._height=C$99e,this._gridSize=C$99i,this._maxAtlaserCount=C$99n,this._gridNumX=C$99t/C$99i,this._gridNumY=C$99e/C$99i,this._curAtlasIndex=0,this.freeAll(),!0;throw console.log("\u8bbe\u7f6e\u5927\u56fe\u5408\u96c6\u53c2\u6570\u9519\u8bef\uff0c\u53ea\u80fd\u5728\u5f00\u59cb\u9875\u9762\u8bbe\u7f6e\u5404\u79cd\u53c2\u6570"),-1;},C$99t.pushData=function(C$99t){var C$99e,C$99i=C$99t.bitmap,C$99n=-1,C$99r=null,C$99s=0,C$99a=0;for(C$99s=0,C$99e=this._atlaserArray.length;C$99s<C$99e&&(C$99a=(this._curAtlasIndex+C$99s)%C$99e,-1==(C$99n=(C$99r=this._atlaserArray[C$99a]).findBitmapIsExist(C$99i)));C$99s++);var C$99u;if(-1!=C$99n)return C$99h=(C$99u=C$99r.InAtlasWebGLImagesOffsetValue[C$99n])[0],C$99l=C$99u[1],C$99r.addToAtlas(C$99t,C$99h,C$99l),!0;this._setAtlasParam=!1;for(var C$99c=Math.ceil((C$99t.bitmap.width+2)/this._gridSize),C$99_=Math.ceil((C$99t.bitmap.height+2)/this._gridSize),C$99o=!1,C$99d=0;C$99d<2;C$99d++){var C$99f=this._maxAtlaserCount;for(C$99s=0;C$99s<C$99f;C$99s++){C$99a=(this._curAtlasIndex+C$99s)%C$99f,this._atlaserArray.length-1>=C$99a||this._atlaserArray.push(new C$99Mt(this._gridNumX,this._gridNumY,this._width,this._height,e$z._sid_++));var C$99p=this._atlaserArray[C$99a],C$99h=0,C$99l=0,C$99m=C$99p.addTex(1,C$99c,C$99_);if(C$99m.ret){C$99h=C$99m.x*this._gridSize+1,C$99l=C$99m.y*this._gridSize+1,C$99i.lock=!0,C$99p.addToAtlasTexture(C$99i,C$99h,C$99l),C$99p.addToAtlas(C$99t,C$99h,C$99l),C$99o=!0,this._curAtlasIndex=C$99a;break;}}if(C$99o)break;this._atlaserArray.push(new C$99Mt(this._gridNumX,this._gridNumY,this._width,this._height,e$z._sid_++)),this._needGC=!0,this.garbageCollection(),this._curAtlasIndex=this._atlaserArray.length-1;}return C$99o||console.log(">>>AtlasManager pushData error"),C$99o;},C$99t.addToAtlas=function(C$99t){laya.webgl.atlas.AtlasResourceManager.instance.pushData(C$99t);},C$99t.garbageCollection=function(){if(!0===this._needGC){for(var C$99t=this._atlaserArray.length-this._maxAtlaserCount,C$99e=0;C$99e<C$99t;C$99e++)this._atlaserArray[C$99e].dispose(),console.log("AtlasResourceManager:Dispose the inner Atlas\u3002");console.log(">>>>altas garbageCollection ="+C$99t),this._atlaserArray.splice(0,C$99t),this._needGC=!1;}return!0;},C$99t.freeAll=function(){for(var C$99t=0,C$99e=this._atlaserArray.length;C$99t<C$99e;C$99t++)this._atlaserArray[C$99t].dispose();this._atlaserArray.length=0,this._curAtlasIndex=0;},C$99t.getAtlaserCount=function(){return this._atlaserArray.length;},C$99t.getAtlaserByIndex=function(C$99t){return this._atlaserArray[C$99t];},C$99n(1,e$z,"instance",function(){return e$z._Instance=e$z._Instance?e$z._Instance:new e$z(laya.webgl.atlas.AtlasResourceManager.atlasTextureWidth,laya.webgl.atlas.AtlasResourceManager.atlasTextureHeight,16,laya.webgl.atlas.AtlasResourceManager.maxTextureCount);}),C$99n(1,e$z,"enabled",function(){return C$99m.atlasEnable;}),C$99n(1,e$z,"atlasLimitWidth",function(){return e$z._atlasLimitWidth;},function(C$99t){e$z._atlasLimitWidth=C$99t;}),C$99n(1,e$z,"atlasLimitHeight",function(){return e$z._atlasLimitHeight;},function(C$99t){e$z._atlasLimitHeight=C$99t;}),e$z._enable=function(){C$99m.atlasEnable=!0;},e$z._disable=function(){C$99m.atlasEnable=!1;},e$z.__init__=function(){e$z.atlasTextureWidth=2048,e$z.atlasTextureHeight=2048,e$z.maxTextureCount=6,e$z.atlasLimitWidth=512,e$z.atlasLimitHeight=512;},e$z._atlasLimitWidth=0,e$z._atlasLimitHeight=0,e$z.gridSize=16,e$z.atlasTextureWidth=0,e$z.atlasTextureHeight=0,e$z.maxTextureCount=0,e$z._atlasRestore=0,e$z.BOARDER_TYPE_NO=0,e$z.BOARDER_TYPE_RIGHT=1,e$z.BOARDER_TYPE_LEFT=2,e$z.BOARDER_TYPE_BOTTOM=4,e$z.BOARDER_TYPE_TOP=8,e$z.BOARDER_TYPE_ALL=15,e$z._sid_=0,e$z._Instance=null,e$z),C$99H=function(){function e$d(){this.x=0,this.y=0,this.ret=!1,this.ret=!1,this.x=0,this.y=0;}return C$99i(e$d,"laya.webgl.atlas.MergeFillInfo"),e$d;}(),C$99G=(C$99i(e$t,"laya.webgl.canvas.BlendMode"),e$t._init_=function(C$99t){e$t.fns=[e$t.BlendNormal,e$t.BlendAdd,e$t.BlendMultiply,e$t.BlendScreen,e$t.BlendOverlay,e$t.BlendLight,e$t.BlendMask,e$t.BlendDestinationOut],e$t.targetFns=[e$t.BlendNormalTarget,e$t.BlendAddTarget,e$t.BlendMultiplyTarget,e$t.BlendScreenTarget,e$t.BlendOverlayTarget,e$t.BlendLightTarget,e$t.BlendMask,e$t.BlendDestinationOut];},e$t.BlendNormal=function(C$99t){C$99t.blendFunc(1,771);},e$t.BlendAdd=function(C$99t){C$99t.blendFunc(1,772);},e$t.BlendMultiply=function(C$99t){C$99t.blendFunc(774,771);},e$t.BlendScreen=function(C$99t){C$99t.blendFunc(1,1);},e$t.BlendOverlay=function(C$99t){C$99t.blendFunc(1,769);},e$t.BlendLight=function(C$99t){C$99t.blendFunc(1,1);},e$t.BlendNormalTarget=function(C$99t){C$99t.blendFunc(1,771);},e$t.BlendAddTarget=function(C$99t){C$99t.blendFunc(1,772);},e$t.BlendMultiplyTarget=function(C$99t){C$99t.blendFunc(774,771);},e$t.BlendScreenTarget=function(C$99t){C$99t.blendFunc(1,1);},e$t.BlendOverlayTarget=function(C$99t){C$99t.blendFunc(1,769);},e$t.BlendLightTarget=function(C$99t){C$99t.blendFunc(1,1);},e$t.BlendMask=function(C$99t){C$99t.blendFunc(0,770);},e$t.BlendDestinationOut=function(C$99t){C$99t.blendFunc(0,0);},e$t.activeBlendFunction=null,e$t.NAMES=["normal","add","multiply","screen","overlay","light","mask","destination-out"],e$t.TOINT={normal:0,add:1,multiply:2,screen:3,lighter:1,overlay:4,light:5,mask:6,"destination-out":7},e$t.NORMAL="normal",e$t.ADD="add",e$t.MULTIPLY="multiply",e$t.SCREEN="screen",e$t.LIGHT="light",e$t.OVERLAY="overlay",e$t.DESTINATIONOUT="destination-out",e$t.fns=[],e$t.targetFns=[],e$t),C$99z=(C$99i(e$l,"laya.webgl.canvas.DrawStyle"),(C$99t=e$l.prototype).setValue=function(C$99t){C$99t&&("string"!=typeof C$99t?C$99t instanceof laya.utils.Color&&(this._color=C$99t):this._color=C$99d.create(C$99t));},C$99t.reset=function(){this._color=C$99d.create("black");},C$99t.equal=function(C$99t){return"string"==typeof C$99t?this._color.strColor===C$99t:C$99t instanceof laya.utils.Color&&this._color.numColor===C$99t.numColor;},C$99t.toColorStr=function(){return this._color.strColor;},e$l.create=function(C$99t){var C$99e;return C$99t&&("string"==typeof C$99t?C$99e=C$99d.create(C$99t):C$99t instanceof laya.utils.Color&&(C$99e=C$99t),C$99e)?C$99e._drawStyle||(C$99e._drawStyle=new e$l(C$99t)):laya.webgl.canvas.DrawStyle.DEFAULT;},C$99e(e$l,["DEFAULT",function(){return this.DEFAULT=new e$l("#000000");}]),e$l),C$99Y=function(){function e$d(){this._x=0,this._y=0,this.dirty=!1,this.offset=0,this.count=0,this.geoStart=0,this.tempArray=[],this.closePath=!1,this.geomatrys=[],C$99u.mainContext,this.ib=C$99Zt.create(35048),this.vb=C$99Qt.create(5);}C$99i(e$d,"laya.webgl.canvas.Path");var C$99t=e$d.prototype;return C$99t.addPoint=function(C$99t,C$99e){this.tempArray.push(C$99t,C$99e);},C$99t.getEndPointX=function(){return this.tempArray[this.tempArray.length-2];},C$99t.getEndPointY=function(){return this.tempArray[this.tempArray.length-1];},C$99t.polygon=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){return this.geomatrys.push(this._curGeomatry=C$99t=new C$99Dt(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s)),C$99n||(C$99t.fill=!1),null==C$99s&&(C$99t.borderWidth=0),C$99t;},C$99t.setGeomtry=function(C$99t){this.geomatrys.push(this._curGeomatry=C$99t);},C$99t.drawLine=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s;return this.closePath?this.geomatrys.push(this._curGeomatry=C$99s=new C$99It(C$99t,C$99e,C$99i,C$99n,C$99r)):this.geomatrys.push(this._curGeomatry=C$99s=new C$99At(C$99t,C$99e,C$99i,C$99n,C$99r)),C$99s.fill=!1,C$99s;},C$99t.update=function(){var C$99t=this.ib._byteLength,C$99e=this.geomatrys.length;this.offset=C$99t;for(var C$99i=this.geoStart;C$99i<C$99e;C$99i++)this.geomatrys[C$99i].getData(this.ib,this.vb,this.vb._byteLength/20);this.geoStart=C$99e,this.count=(this.ib._byteLength-C$99t)/C$99gt.BYTES_PIDX;},C$99t.reset=function(){this.vb.clear(),this.ib.clear(),this.offset=this.count=this.geoStart=0,this.geomatrys.length=0;},C$99t.recover=function(){this._curGeomatry=null,this.vb.destory(),this.vb=null,this.ib.destory(),this.ib=null;},e$d;}(),C$99X=(C$99i(e$B,"laya.webgl.canvas.save.SaveBase"),C$99t=e$B.prototype,C$99g.imps(C$99t,{"laya.webgl.canvas.save.ISaveData":!0}),C$99t.isSaveMark=function(){return!1;},C$99t.restore=function(C$99t){this._dataObj[this._valueName]=this._value,(e$B._cache[e$B._cache._length++]=this)._newSubmit&&(C$99t._curSubmit=C$99ot.RENDERBASE,C$99t._renderKey=0);},e$B._createArray=function(){var C$99t=[];return C$99t._length=0,C$99t;},e$B._init=function(){var C$99t=e$B._namemap={};return C$99t[1]="ALPHA",C$99t[2]="fillStyle",C$99t[8]="font",C$99t[256]="lineWidth",C$99t[512]="strokeStyle",C$99t[8192]="_mergeID",C$99t[1024]=C$99t[2048]=C$99t[4096]=[],C$99t[16384]="textBaseline",C$99t[32768]="textAlign",C$99t[65536]="_nBlendType",C$99t[1048576]="shader",C$99t[2097152]="filters",C$99t;},e$B.save=function(C$99t,C$99e,C$99i,C$99n){var C$99r;(C$99t._saveMark._saveuse&C$99e)!==C$99e&&(C$99t._saveMark._saveuse|=C$99e,(C$99r=0<(C$99r=e$B._cache)._length?C$99r[--C$99r._length]:new e$B())._value=C$99i[C$99r._valueName=e$B._namemap[C$99e]],C$99r._dataObj=C$99i,C$99r._newSubmit=C$99n,(C$99e=C$99t._save)[C$99e._length++]=C$99r);},e$B._cache=laya.webgl.canvas.save.SaveBase._createArray(),e$B._namemap=e$B._init(),e$B),C$99j=(C$99i(e$i,"laya.webgl.canvas.save.SaveClipRect"),C$99t=e$i.prototype,C$99g.imps(C$99t,{"laya.webgl.canvas.save.ISaveData":!0}),C$99t.isSaveMark=function(){return!1;},C$99t.restore=function(C$99t){C$99t._clipRect=this._clipSaveRect,(e$i._cache[e$i._cache._length++]=this)._submitScissor.submitLength=C$99t._submits._length-this._submitScissor.submitIndex,C$99t._curSubmit=C$99ot.RENDERBASE,C$99t._renderKey=0;},e$i.save=function(C$99t,C$99e){var C$99i;131072!=(131072&C$99t._saveMark._saveuse)&&(C$99t._saveMark._saveuse|=131072,(C$99i=0<(C$99i=e$i._cache)._length?C$99i[--C$99i._length]:new e$i())._clipSaveRect=C$99t._clipRect,C$99t._clipRect=C$99i._clipRect.copyFrom(C$99t._clipRect),C$99i._submitScissor=C$99e,(C$99e=C$99t._save)[C$99e._length++]=C$99i);},C$99e(e$i,["_cache",function(){return this._cache=C$99X._createArray();}]),e$i),C$99K=(C$99i(e$c,"laya.webgl.canvas.save.SaveClipRectStencil"),C$99t=e$c.prototype,C$99g.imps(C$99t,{"laya.webgl.canvas.save.ISaveData":!0}),C$99t.isSaveMark=function(){return!1;},C$99t.restore=function(C$99t){C$99_t.restore(C$99t,this._rect,this._saveMatrix,this._contextX,this._contextY),C$99t._clipRect=this._clipSaveRect,C$99t._curMat=this._saveMatrix,C$99t._x=this._contextX,C$99t._y=this._contextY,e$c._cache[e$c._cache._length++]=this,C$99t._curSubmit=C$99ot.RENDERBASE;},e$c.save=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99u){var C$99l;262144!=(262144&C$99t._saveMark._saveuse)&&(C$99t._saveMark._saveuse|=262144,(C$99l=0<(C$99l=e$c._cache)._length?C$99l[--C$99l._length]:new e$c())._clipSaveRect=C$99t._clipRect,C$99l._clipRect.setTo(C$99a,C$99o,C$99h,C$99u),C$99t._clipRect=C$99l._clipRect,C$99l._rect.x=C$99i,C$99l._rect.y=C$99n,C$99l._rect.width=C$99r,C$99l._rect.height=C$99s,C$99l._contextX=C$99t._x,C$99l._contextY=C$99t._y,C$99l._saveMatrix=C$99t._curMat,C$99t._curMat.copyTo(C$99l._matrix),C$99t._curMat=C$99l._matrix,C$99l._submitStencil=C$99e,(C$99a=C$99t._save)[C$99a._length++]=C$99l);},C$99e(e$c,["_cache",function(){return this._cache=C$99X._createArray();}]),e$c),C$99q=(C$99i(e$k,"laya.webgl.canvas.save.SaveMark"),C$99t=e$k.prototype,C$99g.imps(C$99t,{"laya.webgl.canvas.save.ISaveData":!0}),C$99t.isSaveMark=function(){return!0;},C$99t.restore=function(C$99t){C$99t._saveMark=this._preSaveMark,e$k._no[e$k._no._length++]=this;},e$k.Create=function(C$99t){var C$99e=e$k._no,C$99e=0<C$99e._length?C$99e[--C$99e._length]:new e$k();return C$99e._saveuse=0,C$99e._preSaveMark=C$99t._saveMark,C$99t._saveMark=C$99e;},C$99e(e$k,["_no",function(){return this._no=C$99X._createArray();}]),e$k),C$99Z=function(){function e$i(){this._matrix=new C$99b();}C$99i(e$i,"laya.webgl.canvas.save.SaveTransform");var C$99t=e$i.prototype;return C$99g.imps(C$99t,{"laya.webgl.canvas.save.ISaveData":!0}),C$99t.isSaveMark=function(){return!1;},C$99t.restore=function(C$99t){C$99t._curMat=this._savematrix,e$i._no[e$i._no._length++]=this;},e$i.save=function(C$99t){var C$99e=C$99t._saveMark;2048!=(2048&C$99e._saveuse)&&(C$99e._saveuse|=2048,(C$99e=0<(C$99e=e$i._no)._length?C$99e[--C$99e._length]:new e$i())._savematrix=C$99t._curMat,C$99t._curMat=C$99t._curMat.copyTo(C$99e._matrix),(C$99t=C$99t._save)[C$99t._length++]=C$99e);},C$99e(e$i,["_no",function(){return this._no=C$99X._createArray();}]),e$i;}(),C$99Q=(C$99i(e$W,"laya.webgl.canvas.save.SaveTranslate"),C$99t=e$W.prototype,C$99g.imps(C$99t,{"laya.webgl.canvas.save.ISaveData":!0}),C$99t.isSaveMark=function(){return!1;},C$99t.restore=function(C$99t){C$99t._curMat,C$99t._x=this._x,C$99t._y=this._y,e$W._no[e$W._no._length++]=this;},e$W.save=function(C$99t){var C$99e=e$W._no,C$99e=0<C$99e._length?C$99e[--C$99e._length]:new e$W();C$99e._x=C$99t._x,C$99e._y=C$99t._y;C$99t=C$99t._save;C$99t[C$99t._length++]=C$99e;},C$99e(e$W,["_no",function(){return this._no=C$99X._createArray();}]),e$W),C$99J=function(){function e$d(){this.target=null,this.repaint=!1,this._width=NaN,this._height=NaN,this._sp=null,this._clipRect=new C$99T();}C$99i(e$d,"laya.webgl.resource.RenderTargetMAX");var C$99t=e$d.prototype;return C$99t.setSP=function(C$99t){this._sp=C$99t;},C$99t.size=function(C$99t,C$99e){var C$99i=this;this._width!==C$99t||this._height!==C$99e?(this.repaint=!0,this._width=C$99t,this._height=C$99e,this.target?this.target.size(C$99t,C$99e):this.target=C$99Lt.create(C$99t,C$99e),this.target.hasListener("recovered")||this.target.on("recovered",this,function(C$99t){C$99g.timer.callLater(C$99i._sp,C$99i._sp.repaint);})):this.target.size(C$99t,C$99e);},C$99t._flushToTarget=function(C$99t,C$99e){var C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h;C$99e._destroy||(C$99i=C$99l.worldScissorTest,C$99n=C$99l.worldClipRect,C$99l.worldClipRect=this._clipRect,this._clipRect.x=this._clipRect.y=0,this._clipRect.width=this._width,this._clipRect.height=this._height,C$99l.worldScissorTest=!1,C$99u.mainContext.disable(3089),C$99r=C$99l.worldAlpha,C$99s=C$99l.worldMatrix4,C$99a=C$99l.worldMatrix,C$99o=C$99l.worldFilters,C$99h=C$99l.worldShaderDefines,C$99l.worldMatrix=C$99b.EMPTY,C$99l.restoreTempArray(),C$99l.worldMatrix4=C$99l.TEMPMAT4_ARRAY,C$99l.worldAlpha=1,C$99l.worldFilters=null,C$99l.worldShaderDefines=null,C$99Bt.activeShader=null,C$99e.start(),C$99m.showCanvasMark?C$99e.clear(0,1,0,.3):C$99e.clear(0,0,0,0),C$99t.flush(),C$99e.end(),C$99Bt.activeShader=null,C$99l.worldAlpha=C$99r,C$99l.worldMatrix4=C$99s,C$99l.worldMatrix=C$99a,C$99l.worldFilters=C$99o,C$99l.worldShaderDefines=C$99h,(C$99l.worldScissorTest=C$99i)&&(C$99t=C$99l.height-C$99n.y-C$99n.height,C$99u.mainContext.scissor(C$99n.x,C$99t,C$99n.width,C$99n.height),C$99u.mainContext.enable(3089)),C$99l.worldClipRect=C$99n);},C$99t.flush=function(C$99t){this.repaint&&(this._flushToTarget(C$99t,this.target),this.repaint=!1);},C$99t.drawTo=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99t.drawTexture(this.target.getTexture(),C$99e,C$99i,C$99n,C$99r,0,0);},C$99t.destroy=function(){this.target&&(this.target.destroy(),this.target=null,this._sp=null);},e$d;}(),C$99tt=function(){function e$d(){this.ALPHA=1,this.shaderType=0,this.defines=new C$99Ct();}return C$99i(e$d,"laya.webgl.shader.d2.Shader2D"),e$d.prototype.destroy=function(){this.defines=null,this.filters=null,this.glTexture=null,this.strokeStyle=null,this.fillStyle=null;},e$d.__init__=function(){C$99Xt.addInclude("parts/ColorFilter_ps_uniform.glsl","uniform vec4 colorAlpha;\nuniform mat4 colorMat;"),C$99Xt.addInclude("parts/ColorFilter_ps_logic.glsl","mat4 alphaMat =colorMat;\n\nalphaMat[0][3] *= gl_FragColor.a;\nalphaMat[1][3] *= gl_FragColor.a;\nalphaMat[2][3] *= gl_FragColor.a;\n\ngl_FragColor = gl_FragColor * alphaMat;\ngl_FragColor += colorAlpha/255.0*gl_FragColor.a;\n"),C$99Xt.addInclude("parts/GlowFilter_ps_uniform.glsl","uniform vec4 u_color;\nuniform float u_strength;\nuniform float u_blurX;\nuniform float u_blurY;\nuniform float u_offsetX;\nuniform float u_offsetY;\nuniform float u_textW;\nuniform float u_textH;"),C$99Xt.addInclude("parts/GlowFilter_ps_logic.glsl","const float c_IterationTime = 10.0;\nfloat floatIterationTotalTime = c_IterationTime * c_IterationTime;\nvec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\nvec2 vec2FilterDir = vec2(-(u_offsetX)/u_textW,-(u_offsetY)/u_textH);\nvec2 vec2FilterOff = vec2(u_blurX/u_textW/c_IterationTime * 2.0,u_blurY/u_textH/c_IterationTime * 2.0);\nfloat maxNum = u_blurX * u_blurY;\nvec2 vec2Off = vec2(0.0,0.0);\nfloat floatOff = c_IterationTime/2.0;\nfor(float i = 0.0;i<=c_IterationTime; ++i){\n\tfor(float j = 0.0;j<=c_IterationTime; ++j){\n\t\tvec2Off = vec2(vec2FilterOff.x * (i - floatOff),vec2FilterOff.y * (j - floatOff));\n\t\tvec4 vec4Color2 = texture2D(texture, v_texcoord + vec2FilterDir + vec2Off); \n\n      #ifdef TXTALPHA\n   vec4Color2.a = texture2D(texture1, v_texcoord + vec2FilterDir + vec2Off).a;\n   #endif\n\n    vec4Color += vec4Color2/floatIterationTotalTime;        \n\t}\n}\ngl_FragColor = vec4(u_color.rgb,vec4Color.a * u_strength);\ngl_FragColor.rgb *= gl_FragColor.a;"),C$99Xt.addInclude("parts/BlurFilter_ps_logic.glsl","gl_FragColor =   blur();\ngl_FragColor.w*=alpha;"),C$99Xt.addInclude("parts/BlurFilter_ps_uniform.glsl","uniform vec4 strength_sig2_2sig2_gauss1;\nuniform vec2 blurInfo;\n\n#define PI 3.141593\n\n//float sigma=strength/3.0;//3\u03c3\u4ee5\u5916\u5f71\u54cd\u5f88\u5c0f\u3002\u5373\u5f53\u03c3=1\u7684\u65f6\u5019\uff0c\u534a\u5f84\u4e3a3\n//float sig2 = sigma*sigma;\n//float _2sig2 = 2.0*sig2;\n//return 1.0/(2*PI*sig2)*exp(-(x*x+y*y)/_2sig2)\n//float gauss1 = 1.0/(2.0*PI*sig2);\n\nfloat getGaussian(float x, float y){\n    return strength_sig2_2sig2_gauss1.w*exp(-(x*x+y*y)/strength_sig2_2sig2_gauss1.z);\n}\n\nvec4 blur(){\n    const float blurw = 9.0;\n    vec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\n    vec2 halfsz=vec2(blurw,blurw)/2.0/blurInfo;    \n    vec2 startpos=v_texcoord-halfsz;\n    vec2 ctexcoord = startpos;\n    vec2 step = 1.0/blurInfo;  //\u6bcf\u4e2a\u50cf\u7d20      \n    \n    for(float y = 0.0;y<=blurw; ++y){\n        ctexcoord.x=startpos.x;\n        for(float x = 0.0;x<=blurw; ++x){\n            //TODO \u7eb9\u7406\u5750\u6807\u7684\u56fa\u5b9a\u504f\u79fb\u5e94\u8be5\u5728vs\u4e2d\u5904\u7406\n            vec4 vec4Color1 = texture2D(texture, ctexcoord); \n\n      #ifdef TXTALPHA\n   vec4Color1.a = texture2D(texture1, ctexcoord).a;\n   #endif\n\n    vec4Color += vec4Color1*getGaussian(x-blurw/2.0,y-blurw/2.0);\n            ctexcoord.x+=step.x;\n        }\n        ctexcoord.y+=step.y;\n    }\n    return vec4Color;\n}"),C$99Xt.addInclude("parts/ColorAdd_ps_uniform.glsl","uniform vec4 colorAdd;\n"),C$99Xt.addInclude("parts/ColorAdd_ps_logic.glsl","gl_FragColor = vec4(colorAdd.rgb,colorAdd.a*gl_FragColor.a);\ngl_FragColor.xyz *= colorAdd.a;"),C$99Xt.preCompile2D(0,1,"attribute vec4 position;\nattribute vec2 texcoord;\nuniform vec2 size;\n\n#ifdef WORLDMAT\nuniform mat4 mmat;\n#endif\nvarying vec2 v_texcoord;\nvoid main() {\n  #ifdef WORLDMAT\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  #else\n  gl_Position =vec4((position.x/size.x-0.5)*2.0,(0.5-position.y/size.y)*2.0,position.z,1.0);\n  #endif\n  \n  v_texcoord = texcoord;\n}",'precision mediump float;\nvarying vec2 v_texcoord;\nuniform sampler2D texture;\n\n#ifdef TXTALPHA\nuniform sampler2D texture1;\n#endif\n\nuniform float alpha;\n#include?BLUR_FILTER  "parts/BlurFilter_ps_uniform.glsl";\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\n#include?GLOW_FILTER "parts/GlowFilter_ps_uniform.glsl";\n#include?COLOR_ADD "parts/ColorAdd_ps_uniform.glsl";\n\nvoid main() {\n   vec4 color= texture2D(texture, v_texcoord);\n\n   #ifdef TXTCOMPRESS\n   color.rgb *= color.a;\n   #endif\n\n   #ifdef TXTALPHA\n   color.rgba *= texture2D(texture1, v_texcoord).a;\n   #endif\n\n   color.a*=alpha;\n   color.rgb*=alpha;\n   gl_FragColor=color;\n   #include?COLOR_ADD "parts/ColorAdd_ps_logic.glsl";   \n   #include?BLUR_FILTER  "parts/BlurFilter_ps_logic.glsl";\n   #include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n   #include?GLOW_FILTER "parts/GlowFilter_ps_logic.glsl";\n}',null),C$99Xt.preCompile2D(0,2,"attribute vec4 position;\nuniform vec2 size;\nuniform mat4 mmat;\nvoid main() {\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n}",'precision mediump float;\nuniform vec4 color;\nuniform float alpha;\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\nvoid main() {\n\tvec4 a = vec4(color.r, color.g, color.b, color.a);\n\ta.w = alpha;\n\ta.xyz *= alpha;\n\tgl_FragColor = a;\n\t#include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n}',null),C$99Xt.preCompile2D(0,4,"attribute vec4 position;\nattribute vec3 a_color;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\nuniform vec2 u_pos;\nuniform vec2 size;\nvarying vec3 color;\nvoid main(){\n  vec4 tPos = vec4(position.x + u_pos.x,position.y + u_pos.y,position.z,position.w);\n  vec4 pos=mmat*u_mmat2*tPos;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  color=a_color;\n}","precision mediump float;\nvarying vec3 color;\nuniform float alpha;\nvoid main(){\n\t//vec4 a=vec4(color.r, color.g, color.b, 1);\n\t//a.a*=alpha;\n    gl_FragColor=vec4(color.r, color.g, color.b, alpha);\n\tgl_FragColor.rgb*=alpha;\n}",null),C$99Xt.preCompile2D(0,256,"attribute vec4 position;\nattribute vec2 texcoord;\nuniform vec2 size;\n\n#ifdef WORLDMAT\nuniform mat4 mmat;\n#endif\nvarying vec2 v_texcoord;\nvoid main() {\n  #ifdef WORLDMAT\n  vec4 pos=mmat*position;\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  #else\n  gl_Position =vec4((position.x/size.x-0.5)*2.0,(0.5-position.y/size.y)*2.0,position.z,1.0);\n  #endif\n  \n  v_texcoord = texcoord;\n}",'#ifdef FSHIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n//precision highp float;\nvarying vec2 v_texcoord;\nuniform sampler2D texture;\n\n#ifdef TXTALPHA\nuniform sampler2D texture1;\n#endif\n\nuniform float alpha;\nuniform vec4 u_TexRange;\nuniform vec2 u_offset;\n#include?BLUR_FILTER  "parts/BlurFilter_ps_uniform.glsl";\n#include?COLOR_FILTER "parts/ColorFilter_ps_uniform.glsl";\n#include?GLOW_FILTER "parts/GlowFilter_ps_uniform.glsl";\n#include?COLOR_ADD "parts/ColorAdd_ps_uniform.glsl";\n\nvoid main() {\n   vec2 newTexCoord;\n   newTexCoord.x = mod(u_offset.x + v_texcoord.x,u_TexRange.y) + u_TexRange.x;\n   newTexCoord.y = mod(u_offset.y + v_texcoord.y,u_TexRange.w) + u_TexRange.z;\n   vec4 color= texture2D(texture, newTexCoord);\n\n   #ifdef TXTALPHA\n   color.a = texture2D(texture1, newTexCoord).a;\n   #endif\n\n   color.a*=alpha;\n   gl_FragColor=color;\n   #include?COLOR_ADD "parts/ColorAdd_ps_logic.glsl";   \n   #include?BLUR_FILTER  "parts/BlurFilter_ps_logic.glsl";\n   #include?COLOR_FILTER "parts/ColorFilter_ps_logic.glsl";\n   #include?GLOW_FILTER "parts/GlowFilter_ps_logic.glsl";\n}',null),C$99Xt.preCompile2D(0,512,"attribute vec2 position;\nattribute vec2 texcoord;\nattribute vec4 color;\nuniform vec2 size;\nuniform float offsetX;\nuniform float offsetY;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nvoid main() {\n  vec4 pos=mmat*u_mmat2*vec4(offsetX+position.x,offsetY+position.y,0,1 );\n  gl_Position = vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  v_color = color;\n  v_color.rgb *= v_color.a;\n  v_texcoord = texcoord;  \n}","precision mediump float;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nuniform sampler2D texture;\n\n#ifdef TXTALPHA\nuniform sampler2D texture1;\n#endif\n\nuniform float alpha;\nvoid main() {\n\tvec4 t_color = texture2D(texture, v_texcoord);\n\n   #ifdef TXTALPHA\n   t_color.a = texture2D(texture1, v_texcoord).a;\n   #endif\n\n\tgl_FragColor = t_color.rgba * v_color;\n\tgl_FragColor *= alpha;\n}",null);},e$d;}(),C$99et=function(){function e$t(C$99t,C$99e,C$99i){this._value=0,this._name2int=C$99t,this._int2name=C$99e,this._int2nameMap=C$99i;}C$99i(e$t,"laya.webgl.shader.ShaderDefines");var C$99t=e$t.prototype;return C$99t.add=function(C$99t){return"string"==typeof C$99t&&(C$99t=this._name2int[C$99t]),this._value|=C$99t,this._value;},C$99t.addInt=function(C$99t){return this._value|=C$99t,this._value;},C$99t.remove=function(C$99t){return"string"==typeof C$99t&&(C$99t=this._name2int[C$99t]),this._value&=~C$99t,this._value;},C$99t.isDefine=function(C$99t){return(this._value&C$99t)===C$99t;},C$99t.getValue=function(){return this._value;},C$99t.setValue=function(C$99t){this._value=C$99t;},C$99t.toNameDic=function(){return this._int2nameMap[this._value]||e$t._toText(this._value,this._int2name,this._int2nameMap);},e$t._reg=function(C$99t,C$99e,C$99i,C$99n){C$99n[C$99i[C$99t]=C$99e]=C$99t;},e$t._toText=function(C$99t,C$99e,C$99i){var C$99n=C$99i[C$99t];if(C$99n)return C$99n;for(var C$99r={},C$99s=1,C$99a=0;C$99a<32&&!(C$99t<(C$99s=1<<C$99a));C$99a++){var C$99o;C$99t&C$99s&&(C$99o=C$99e[C$99s])&&(C$99r[C$99o]="");}return C$99i[C$99t]=C$99r;},e$t._toInt=function(C$99t,C$99e){for(var C$99i=C$99t.split("."),C$99n=0,C$99r=0,C$99s=C$99i.length;C$99r<C$99s;C$99r++){var C$99a=C$99e[C$99i[C$99r]];if(!C$99a)throw new Error("Defines to int err:"+C$99t+"/"+C$99i[C$99r]);C$99n|=C$99a;}return C$99n;},e$t;}(),C$99it=(C$99i(e$A,"laya.webgl.shader.d2.skinAnishader.SkinMesh"),(C$99t=e$A.prototype).init=function(C$99t,C$99e,C$99i){var C$99n;C$99e?this._vs=C$99e:(this._vs=[],C$99e=C$99t.width,C$99n=C$99t.height,this._vs.push(0,0,0,0,1,1,1,1),this._vs.push(C$99e,0,1,0,1,1,1,1),this._vs.push(C$99e,C$99n,1,1,1,1,1,1),this._vs.push(0,C$99n,0,1,1,1,1,1)),C$99i?this._ps=C$99i:(e$A._defaultPS||(e$A._defaultPS=[]).push(0,1,3,3,1,2),this._ps=e$A._defaultPS),this.mVBData=new Float32Array(this._vs),this.mIBData=new Uint16Array(this._ps.length),this.mIBData.start=-1,this.mEleNum=this._ps.length,this.mTexture=C$99t;},C$99t.init2=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.transform&&(this.transform=null),C$99i?this._ps=C$99i:(this._ps=[],this._ps.push(0,1,3,3,1,2)),this._verticles=C$99n,this._uvs=C$99r,this.mEleNum=this._ps.length,this.mTexture=C$99t,(C$99S.isConchNode||C$99S.isConchApp)&&(this._initMyData(),this.mVBData=new Float32Array(this._vs));},C$99t._initMyData=function(){var C$99t=0,C$99e=0,C$99i=4*this._verticles.length;this._vs=e$A._tempVS;var C$99n=!1;if((C$99S.isConchNode||C$99S.isConchApp||this._vs.length<C$99i)&&(this._vs.length=C$99i,C$99n=!0),e$A._tVSLen=C$99i,C$99n)for(;C$99t<C$99i;)this._vs[C$99t]=this._verticles[C$99e],this._vs[C$99t+1]=this._verticles[C$99e+1],this._vs[C$99t+2]=this._uvs[C$99e],this._vs[C$99t+3]=this._uvs[C$99e+1],this._vs[C$99t+4]=1,this._vs[C$99t+5]=1,this._vs[C$99t+6]=1,this._vs[C$99t+7]=1,C$99t+=8,C$99e+=2;else for(;C$99t<C$99i;)this._vs[C$99t]=this._verticles[C$99e],this._vs[C$99t+1]=this._verticles[C$99e+1],this._vs[C$99t+2]=this._uvs[C$99e],this._vs[C$99t+3]=this._uvs[C$99e+1],C$99t+=8,C$99e+=2;},C$99t.getData2=function(C$99t,C$99e,C$99i){var C$99n;this.mVBBuffer=C$99t,this.mIBBuffer=C$99e,this._initMyData(),C$99t.appendEx2(this._vs,Float32Array,e$A._tVSLen,4),this._indexStart=C$99e._byteLength,(C$99n=e$A._tempIB).length<this._ps.length&&(C$99n.length=this._ps.length);for(var C$99r=0,C$99s=this._ps.length;C$99r<C$99s;C$99r++)C$99n[C$99r]=this._ps[C$99r]+C$99i;C$99e.appendEx2(C$99n,Uint16Array,this._ps.length,2);},C$99t.getData=function(C$99t,C$99e,C$99i){if(this.mVBBuffer=C$99t,this.mIBBuffer=C$99e,C$99t.append(this.mVBData),this._indexStart=C$99e._byteLength,this.mIBData.start!=C$99i){for(var C$99n=0,C$99r=this._ps.length;C$99n<C$99r;C$99n++)this.mIBData[C$99n]=this._ps[C$99n]+C$99i;this.mIBData.start=C$99i;}C$99e.append(this.mIBData);},C$99t.render=function(C$99t,C$99e,C$99i){var C$99n,C$99r,C$99s;C$99S.isWebGL&&this.mTexture?(C$99t._renderKey=0,C$99t._shader2D.glTexture=null,C$99nt.getInstance().addSkinMesh(this),C$99n=C$99ot.createShape(C$99t,this.mIBBuffer,this.mVBBuffer,this.mEleNum,this._indexStart,C$99wt.create(512,0)),this.transform||(this.transform=C$99b.EMPTY),this.transform.translate(C$99e,C$99i),C$99b.mul(this.transform,C$99t._curMat,this._tempMatrix),this.transform.translate(-C$99e,-C$99i),C$99s=(C$99r=C$99n.shaderValue).u_mmat2||C$99l.getMatrArray(),C$99l.mat2MatArray(this._tempMatrix,C$99s),C$99r.textureHost=this.mTexture,C$99r.offsetX=0,C$99r.offsetY=0,C$99r.u_mmat2=C$99s,C$99r.ALPHA=C$99t._shader2D.ALPHA,C$99t._submits[C$99t._submits._length++]=C$99n):C$99S.isConchApp&&this.mTexture&&(this.transform||(this.transform=C$99b.EMPTY),C$99t.setSkinMesh&&C$99t.setSkinMesh(C$99e,C$99i,this._ps,this.mVBData,this.mEleNum,0,this.mTexture,this.transform));},e$A._tempVS=[],e$A._tempIB=[],e$A._defaultPS=null,e$A._tVSLen=0,e$A),C$99nt=function(){function e$d(){this.ib=null,this.vb=null,C$99u.mainContext,this.ib=C$99Zt.create(35048),this.vb=C$99Qt.create(8);}C$99i(e$d,"laya.webgl.shader.d2.skinAnishader.SkinMeshBuffer");var C$99t=e$d.prototype;return C$99t.addSkinMesh=function(C$99t){C$99t.getData2(this.vb,this.ib,this.vb._byteLength/32);},C$99t.reset=function(){this.vb.clear(),this.ib.clear();},e$d.getInstance=function(){return e$d.instance=e$d.instance||new e$d();},e$d.instance=null,e$d;}(),C$99rt=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){this.r0=0,this.fill=!0,this.r1=Math.PI/2,void 0===C$99h&&(C$99h=0),this.x=C$99t,this.y=C$99e,this.width=C$99i,this.height=C$99n,this.edges=C$99r,this.color=C$99s,this.borderWidth=C$99a,this.borderColor=C$99o;}C$99i(e$d,"laya.webgl.shapes.BasePoly");var C$99t=e$d.prototype;return C$99g.imps(C$99t,{"laya.webgl.shapes.IShape":!0}),C$99t.getData=function(C$99t,C$99e,C$99i){},C$99t.rebuild=function(C$99t){},C$99t.setMatrix=function(C$99t){},C$99t.needUpdate=function(C$99t){return!0;},C$99t.sector=function(C$99t,C$99u,C$99e){var C$99i=this.x,C$99n=this.y,C$99r=this.edges,C$99s=(this.r1-this.r0)/C$99r,C$99c=this.width,C$99_=this.height,C$99a=this.color,C$99o=(C$99a>>16&255)/255,C$99h=(C$99a>>8&255)/255,C$99d=(255&C$99a)/255;C$99t.push(C$99i,C$99n,C$99o,C$99h,C$99d);for(var C$99l=0;C$99l<C$99r+1;C$99l++)C$99t.push(C$99i+Math.sin(C$99s*C$99l+this.r0)*C$99c,C$99n+Math.cos(C$99s*C$99l+this.r0)*C$99_),C$99t.push(C$99o,C$99h,C$99d);for(C$99l=0;C$99l<C$99r;C$99l++)C$99u.push(C$99e,C$99e+C$99l+1,C$99e+C$99l+2);},C$99t.createLine2=function(C$99u,C$99c,C$99_,C$99d,C$99f,C$99p){var C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99m,C$99g,C$99v,C$99$,C$99a,C$99x,C$99o,C$99y,C$99h=C$99u.concat(),C$99b=C$99f,C$99u=this.borderColor,C$99w=(C$99u>>16&255)/255,C$99T=(C$99u>>8&255)/255,C$99S=(255&C$99u)/255,C$99M=C$99h.length/2,C$99C=C$99d,C$99A=C$99_/2;C$99t=C$99h[0],C$99e=C$99h[1],C$99s=C$99t-(C$99i=C$99h[2]),C$99r=(C$99r=-(C$99e-(C$99n=C$99h[3])))/(C$99y=Math.sqrt(C$99r*C$99r+C$99s*C$99s))*C$99A,C$99b.push(C$99t-C$99r+this.x,C$99e-(C$99s=C$99s/C$99y*C$99A)+this.y,C$99w,C$99T,C$99S,C$99t+C$99r+this.x,C$99e+C$99s+this.y,C$99w,C$99T,C$99S);for(var C$99l=1;C$99l<C$99M-1;C$99l++)C$99t=C$99h[2*(C$99l-1)],C$99e=C$99h[2*(C$99l-1)+1],C$99i=C$99h[2*C$99l],C$99n=C$99h[2*C$99l+1],C$99$=C$99h[2*(C$99l+1)],C$99g=C$99h[2*(C$99l+1)+1],C$99s=C$99t-C$99i,C$99o=C$99i-C$99$,C$99v=(-(C$99r=(C$99r=-(C$99e-C$99n))/(C$99y=Math.sqrt(C$99r*C$99r+C$99s*C$99s))*C$99A)+C$99t)*(-(C$99s=C$99s/C$99y*C$99A)+C$99n)-(-C$99r+C$99i)*(-C$99s+C$99e),C$99x=(-(C$99a=(C$99a=-(C$99n-C$99g))/(C$99y=Math.sqrt(C$99a*C$99a+C$99o*C$99o))*C$99A)+C$99$)*(-(C$99o=C$99o/C$99y*C$99A)+C$99n)-(-C$99a+C$99i)*(-C$99o+C$99g),C$99o=(C$99m=-C$99s+C$99e-(-C$99s+C$99n))*(C$99a=-C$99a+C$99i-(-C$99a+C$99$))-(C$99$=-C$99o+C$99g-(-C$99o+C$99n))*(C$99g=-C$99r+C$99i-(-C$99r+C$99t)),Math.abs(C$99o)<.1?(C$99o+=10.1,C$99b.push(C$99i-C$99r+this.x,C$99n-C$99s+this.y,C$99w,C$99T,C$99S,C$99i+C$99r+this.x,C$99n+C$99s+this.y,C$99w,C$99T,C$99S)):C$99b.push((C$99g=(C$99g*C$99x-C$99a*C$99v)/C$99o)+this.x,(C$99a=(C$99$*C$99v-C$99m*C$99x)/C$99o)+this.y,C$99w,C$99T,C$99S,C$99i-(C$99g-C$99i)+this.x,C$99n-(C$99a-C$99n)+this.y,C$99w,C$99T,C$99S);C$99t=C$99h[C$99h.length-4],C$99e=C$99h[C$99h.length-3],C$99s=C$99t-(C$99i=C$99h[C$99h.length-2]),C$99r=(C$99r=-(C$99e-(C$99n=C$99h[C$99h.length-1])))/(C$99y=Math.sqrt(C$99r*C$99r+C$99s*C$99s))*C$99A,C$99b.push(C$99i-C$99r+this.x,C$99n-(C$99s=C$99s/C$99y*C$99A)+this.y,C$99w,C$99T,C$99S,C$99i+C$99r+this.x,C$99n+C$99s+this.y,C$99w,C$99T,C$99S);var C$99I=C$99p;for(C$99l=1;C$99l<C$99I;C$99l++)C$99c.push(C$99C+2*(C$99l-1),C$99C+2*(C$99l-1)+1,C$99C+2*C$99l+1,C$99C+2*C$99l+1,C$99C+2*C$99l,C$99C+2*(C$99l-1));return C$99b;},C$99t.createLine=function(C$99u,C$99c,C$99_,C$99d){var C$99t=C$99u.concat(),C$99f=C$99u,C$99u=this.borderColor,C$99p=(C$99u>>16&255)/255,C$99m=(C$99u>>8&255)/255,C$99g=(255&C$99u)/255;C$99t.splice(0,5);var C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99v,C$99$,C$99x,C$99y,C$99o,C$99b,C$99h,C$99w,C$99T=C$99t.length/5,C$99S=C$99d,C$99M=C$99_/2;C$99e=C$99t[0],C$99i=C$99t[1],C$99a=C$99e-(C$99n=C$99t[5]),C$99s=(C$99s=-(C$99i-(C$99r=C$99t[6])))/(C$99w=Math.sqrt(C$99s*C$99s+C$99a*C$99a))*C$99M,C$99f.push(C$99e-C$99s,C$99i-(C$99a=C$99a/C$99w*C$99M),C$99p,C$99m,C$99g,C$99e+C$99s,C$99i+C$99a,C$99p,C$99m,C$99g);for(var C$99l=1;C$99l<C$99T-1;C$99l++)C$99e=C$99t[5*(C$99l-1)],C$99i=C$99t[5*(C$99l-1)+1],C$99n=C$99t[5*C$99l],C$99r=C$99t[5*C$99l+1],C$99y=C$99t[5*(C$99l+1)],C$99$=C$99t[5*(C$99l+1)+1],C$99a=C$99e-C$99n,C$99h=C$99n-C$99y,C$99x=(-(C$99s=(C$99s=-(C$99i-C$99r))/(C$99w=Math.sqrt(C$99s*C$99s+C$99a*C$99a))*C$99M)+C$99e)*(-(C$99a=C$99a/C$99w*C$99M)+C$99r)-(-C$99s+C$99n)*(-C$99a+C$99i),C$99b=(-(C$99o=(C$99o=-(C$99r-C$99$))/(C$99w=Math.sqrt(C$99o*C$99o+C$99h*C$99h))*C$99M)+C$99y)*(-(C$99h=C$99h/C$99w*C$99M)+C$99r)-(-C$99o+C$99n)*(-C$99h+C$99$),C$99h=(C$99v=-C$99a+C$99i-(-C$99a+C$99r))*(C$99o=-C$99o+C$99n-(-C$99o+C$99y))-(C$99y=-C$99h+C$99$-(-C$99h+C$99r))*(C$99$=-C$99s+C$99n-(-C$99s+C$99e)),Math.abs(C$99h)<.1?(C$99h+=10.1,C$99f.push(C$99n-C$99s,C$99r-C$99a,C$99p,C$99m,C$99g,C$99n+C$99s,C$99r+C$99a,C$99p,C$99m,C$99g)):C$99f.push(C$99$=(C$99$*C$99b-C$99o*C$99x)/C$99h,C$99o=(C$99y*C$99x-C$99v*C$99b)/C$99h,C$99p,C$99m,C$99g,C$99n-(C$99$-C$99n),C$99r-(C$99o-C$99r),C$99p,C$99m,C$99g);C$99e=C$99t[C$99t.length-10],C$99i=C$99t[C$99t.length-9],C$99a=C$99e-(C$99n=C$99t[C$99t.length-5]),C$99s=(C$99s=-(C$99i-(C$99r=C$99t[C$99t.length-4])))/(C$99w=Math.sqrt(C$99s*C$99s+C$99a*C$99a))*C$99M,C$99f.push(C$99n-C$99s,C$99r-(C$99a=C$99a/C$99w*C$99M),C$99p,C$99m,C$99g,C$99n+C$99s,C$99r+C$99a,C$99p,C$99m,C$99g);var C$99C=this.edges+1;for(C$99l=1;C$99l<C$99C;C$99l++)C$99c.push(C$99S+2*(C$99l-1),C$99S+2*(C$99l-1)+1,C$99S+2*C$99l+1,C$99S+2*C$99l+1,C$99S+2*C$99l,C$99S+2*(C$99l-1));return C$99f;},C$99t.createLoopLine=function(C$99u,C$99c,C$99_,C$99d,C$99t,C$99f){var C$99e=C$99u.concat(),C$99p=C$99t||C$99u,C$99t=this.borderColor,C$99m=(C$99t>>16&255)/255,C$99g=(C$99t>>8&255)/255,C$99v=(255&C$99t)/255;C$99e.splice(0,5);var C$99u=[C$99e[0],C$99e[1]],C$99t=[C$99e[C$99e.length-5],C$99e[C$99e.length-4]],C$99$=C$99t[0]+.5*(C$99u[0]-C$99t[0]),C$99u=C$99t[1]+.5*(C$99u[1]-C$99t[1]);C$99e.unshift(C$99$,C$99u,0,0,0),C$99e.push(C$99$,C$99u,0,0,0);var C$99x,C$99y,C$99i,C$99n,C$99r,C$99s,C$99b,C$99w,C$99T,C$99S,C$99a,C$99M,C$99o,C$99C,C$99A=C$99e.length/5,C$99h=C$99d,C$99I=C$99_/2;C$99x=C$99e[0],C$99y=C$99e[1],C$99s=C$99x-C$99e[5],C$99r=(C$99r=-(C$99y-C$99e[6]))/(C$99C=Math.sqrt(C$99r*C$99r+C$99s*C$99s))*C$99I,C$99p.push(C$99x-C$99r,C$99y-(C$99s=C$99s/C$99C*C$99I),C$99m,C$99g,C$99v,C$99x+C$99r,C$99y+C$99s,C$99m,C$99g,C$99v);for(var C$99l=1;C$99l<C$99A-1;C$99l++)C$99x=C$99e[5*(C$99l-1)],C$99y=C$99e[5*(C$99l-1)+1],C$99i=C$99e[5*C$99l],C$99n=C$99e[5*C$99l+1],C$99S=C$99e[5*(C$99l+1)],C$99w=C$99e[5*(C$99l+1)+1],C$99s=C$99x-C$99i,C$99o=C$99i-C$99S,C$99T=(-(C$99r=(C$99r=-(C$99y-C$99n))/(C$99C=Math.sqrt(C$99r*C$99r+C$99s*C$99s))*C$99I)+C$99x)*(-(C$99s=C$99s/C$99C*C$99I)+C$99n)-(-C$99r+C$99i)*(-C$99s+C$99y),C$99M=(-(C$99a=(C$99a=-(C$99n-C$99w))/(C$99C=Math.sqrt(C$99a*C$99a+C$99o*C$99o))*C$99I)+C$99S)*(-(C$99o=C$99o/C$99C*C$99I)+C$99n)-(-C$99a+C$99i)*(-C$99o+C$99w),C$99o=(C$99b=-C$99s+C$99y-(-C$99s+C$99n))*(C$99a=-C$99a+C$99i-(-C$99a+C$99S))-(C$99S=-C$99o+C$99w-(-C$99o+C$99n))*(C$99w=-C$99r+C$99i-(-C$99r+C$99x)),Math.abs(C$99o)<.1?(C$99o+=10.1,C$99p.push(C$99i-C$99r,C$99n-C$99s,C$99m,C$99g,C$99v,C$99i+C$99r,C$99n+C$99s,C$99m,C$99g,C$99v)):C$99p.push(C$99w=(C$99w*C$99M-C$99a*C$99T)/C$99o,C$99a=(C$99S*C$99T-C$99b*C$99M)/C$99o,C$99m,C$99g,C$99v,C$99i-(C$99w-C$99i),C$99n-(C$99a-C$99n),C$99m,C$99g,C$99v);C$99f&&(C$99c=C$99f);var C$99D=this.edges+1;for(C$99l=1;C$99l<C$99D;C$99l++)C$99c.push(C$99h+2*(C$99l-1),C$99h+2*(C$99l-1)+1,C$99h+2*C$99l+1,C$99h+2*C$99l+1,C$99h+2*C$99l,C$99h+2*(C$99l-1));return C$99c.push(C$99h+2*(C$99l-1),C$99h+2*(C$99l-1)+1,C$99h+1,C$99h+1,C$99h,C$99h+2*(C$99l-1)),C$99p;},e$d;}(),C$99st=(C$99i(e$w,"laya.webgl.shapes.Earcut"),e$w.earcut=function(C$99t,C$99e,C$99i){C$99i=C$99i||2;var C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l,C$99u=C$99e&&C$99e.length,C$99c=C$99u?C$99e[0]*C$99i:C$99t.length,C$99_=e$w.linkedList(C$99t,0,C$99c,C$99i,!0),C$99d=[];if(!C$99_)return C$99d;if(C$99u&&(C$99_=e$w.eliminateHoles(C$99t,C$99e,C$99_,C$99i)),C$99t.length>80*C$99i){C$99n=C$99s=C$99t[0],C$99r=C$99a=C$99t[1];for(var C$99f=C$99i;C$99f<C$99c;C$99f+=C$99i)(C$99o=C$99t[C$99f])<C$99n&&(C$99n=C$99o),(C$99h=C$99t[C$99f+1])<C$99r&&(C$99r=C$99h),C$99s<C$99o&&(C$99s=C$99o),C$99a<C$99h&&(C$99a=C$99h);C$99l=0!==(C$99l=Math.max(C$99s-C$99n,C$99a-C$99r))?1/C$99l:0;}return e$w.earcutLinked(C$99_,C$99d,C$99i,C$99n,C$99r,C$99l),C$99d;},e$w.linkedList=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s,C$99a;if(C$99r===0<e$w.signedArea(C$99t,C$99e,C$99i,C$99n))for(C$99s=C$99e;C$99s<C$99i;C$99s+=C$99n)C$99a=e$w.insertNode(C$99s,C$99t[C$99s],C$99t[C$99s+1],C$99a);else for(C$99s=C$99i-C$99n;C$99e<=C$99s;C$99s-=C$99n)C$99a=e$w.insertNode(C$99s,C$99t[C$99s],C$99t[C$99s+1],C$99a);return C$99a&&e$w.equals(C$99a,C$99a.next)&&(e$w.removeNode(C$99a),C$99a=C$99a.next),C$99a;},e$w.filterPoints=function(C$99t,C$99e){if(!C$99t)return C$99t;C$99e=C$99e||C$99t;var C$99i,C$99n=C$99t;do{if(C$99i=!1,C$99n.steiner||!e$w.equals(C$99n,C$99n.next)&&0!==e$w.area(C$99n.prev,C$99n,C$99n.next))C$99n=C$99n.next;else{if(e$w.removeNode(C$99n),(C$99n=C$99e=C$99n.prev)===C$99n.next)break;C$99i=!0;}}while(C$99i||C$99n!==C$99e);return C$99e;},e$w.earcutLinked=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){if(C$99t){!C$99a&&C$99s&&e$w.indexCurve(C$99t,C$99n,C$99r,C$99s);for(var C$99o,C$99h,C$99l=C$99t;C$99t.prev!==C$99t.next;)if(C$99o=C$99t.prev,C$99h=C$99t.next,C$99s?e$w.isEarHashed(C$99t,C$99n,C$99r,C$99s):e$w.isEar(C$99t))C$99e.push(C$99o.i/C$99i),C$99e.push(C$99t.i/C$99i),C$99e.push(C$99h.i/C$99i),e$w.removeNode(C$99t),C$99t=C$99h.next,C$99l=C$99h.next;else if((C$99t=C$99h)===C$99l){C$99a?1===C$99a?(C$99t=e$w.cureLocalIntersections(C$99t,C$99e,C$99i),e$w.earcutLinked(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,2)):2===C$99a&&e$w.splitEarcut(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s):e$w.earcutLinked(e$w.filterPoints(C$99t,null),C$99e,C$99i,C$99n,C$99r,C$99s,1);break;}}},e$w.isEar=function(C$99t){var C$99e=C$99t.prev,C$99i=C$99t,C$99n=C$99t.next;if(0<=e$w.area(C$99e,C$99i,C$99n))return!1;for(var C$99r=C$99t.next.next;C$99r!==C$99t.prev;){if(e$w.pointInTriangle(C$99e.x,C$99e.y,C$99i.x,C$99i.y,C$99n.x,C$99n.y,C$99r.x,C$99r.y)&&0<=e$w.area(C$99r.prev,C$99r,C$99r.next))return!1;C$99r=C$99r.next;}return!0;},e$w.isEarHashed=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.prev,C$99s=C$99t,C$99a=C$99t.next;if(0<=e$w.area(C$99r,C$99s,C$99a))return!1;for(var C$99o=(C$99r.x<C$99s.x?C$99r.x<C$99a.x?C$99r:C$99a:C$99s.x<C$99a.x?C$99s:C$99a).x,C$99h=(C$99r.y<C$99s.y?C$99r.y<C$99a.y?C$99r:C$99a:C$99s.y<C$99a.y?C$99s:C$99a).y,C$99u=(C$99r.x>C$99s.x?C$99r.x>C$99a.x?C$99r:C$99a:C$99s.x>C$99a.x?C$99s:C$99a).x,C$99c=(C$99r.y>C$99s.y?C$99r.y>C$99a.y?C$99r:C$99a:C$99s.y>C$99a.y?C$99s:C$99a).y,C$99_=e$w.zOrder(C$99o,C$99h,C$99e,C$99i,C$99n),C$99d=e$w.zOrder(C$99u,C$99c,C$99e,C$99i,C$99n),C$99l=C$99t.nextZ;C$99l&&C$99l.z<=C$99d;){if(C$99l!==C$99t.prev&&C$99l!==C$99t.next&&e$w.pointInTriangle(C$99r.x,C$99r.y,C$99s.x,C$99s.y,C$99a.x,C$99a.y,C$99l.x,C$99l.y)&&0<=e$w.area(C$99l.prev,C$99l,C$99l.next))return!1;C$99l=C$99l.nextZ;}for(C$99l=C$99t.prevZ;C$99l&&C$99l.z>=C$99_;){if(C$99l!==C$99t.prev&&C$99l!==C$99t.next&&e$w.pointInTriangle(C$99r.x,C$99r.y,C$99s.x,C$99s.y,C$99a.x,C$99a.y,C$99l.x,C$99l.y)&&0<=e$w.area(C$99l.prev,C$99l,C$99l.next))return!1;C$99l=C$99l.prevZ;}return!0;},e$w.cureLocalIntersections=function(C$99t,C$99e,C$99i){var C$99n=C$99t;do{var C$99r=C$99n.prev,C$99s=C$99n.next.next;}while((!e$w.equals(C$99r,C$99s)&&e$w.intersects(C$99r,C$99n,C$99n.next,C$99s)&&e$w.locallyInside(C$99r,C$99s)&&e$w.locallyInside(C$99s,C$99r)&&(C$99e.push(C$99r.i/C$99i),C$99e.push(C$99n.i/C$99i),C$99e.push(C$99s.i/C$99i),e$w.removeNode(C$99n),e$w.removeNode(C$99n.next),C$99n=C$99t=C$99s),(C$99n=C$99n.next)!==C$99t));return C$99n;},e$w.splitEarcut=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=C$99t;do{for(var C$99o=C$99a.next.next;C$99o!==C$99a.prev;){var C$99h;if(C$99a.i!==C$99o.i&&e$w.isValidDiagonal(C$99a,C$99o))return C$99h=e$w.splitPolygon(C$99a,C$99o),C$99a=e$w.filterPoints(C$99a,C$99a.next),C$99h=e$w.filterPoints(C$99h,C$99h.next),e$w.earcutLinked(C$99a,C$99e,C$99i,C$99n,C$99r,C$99s),void e$w.earcutLinked(C$99h,C$99e,C$99i,C$99n,C$99r,C$99s);C$99o=C$99o.next;}}while((C$99a=C$99a.next)!==C$99t);},e$w.eliminateHoles=function(C$99t,C$99e,C$99i,C$99n){var C$99r,C$99s,C$99a,C$99o,C$99h=[];for(C$99r=0,C$99s=C$99e.length;C$99r<C$99s;C$99r++)C$99o=C$99e[C$99r]*C$99n,C$99a=C$99r<C$99s-1?C$99e[C$99r+1]*C$99n:C$99t.length,(C$99o=e$w.linkedList(C$99t,C$99o,C$99a,C$99n,!1))===C$99o.next&&(C$99o.steiner=!0),C$99h.push(e$w.getLeftmost(C$99o));for(C$99h.sort(e$w.compareX),C$99r=0;C$99r<C$99h.length;C$99r++)e$w.eliminateHole(C$99h[C$99r],C$99i),C$99i=e$w.filterPoints(C$99i,C$99i.next);return C$99i;},e$w.compareX=function(C$99t,C$99e){return C$99t.x-C$99e.x;},e$w.eliminateHole=function(C$99t,C$99e){(C$99e=e$w.findHoleBridge(C$99t,C$99e))&&(C$99e=e$w.splitPolygon(C$99e,C$99t),e$w.filterPoints(C$99e,C$99e.next));},e$w.findHoleBridge=function(C$99t,C$99u){var C$99e,C$99i=C$99u,C$99n=C$99t.x,C$99r=C$99t.y,C$99s=-1/0;do{if(C$99r<=C$99i.y&&C$99r>=C$99i.next.y&&C$99i.next.y!==C$99i.y){var C$99a=C$99i.x+(C$99r-C$99i.y)*(C$99i.next.x-C$99i.x)/(C$99i.next.y-C$99i.y);if(C$99a<=C$99n&&C$99s<C$99a){if((C$99s=C$99a)===C$99n){if(C$99r===C$99i.y)return C$99i;if(C$99r===C$99i.next.y)return C$99i.next;}C$99e=C$99i.x<C$99i.next.x?C$99i:C$99i.next;}}}while((C$99i=C$99i.next)!==C$99u);if(!C$99e)return null;if(C$99n===C$99s)return C$99e.prev;var C$99o,C$99c=C$99e,C$99_=C$99e.x,C$99h=C$99e.y,C$99l=1/0;for(C$99i=C$99e.next;C$99i!==C$99c;)C$99n>=C$99i.x&&C$99i.x>=C$99_&&C$99n!==C$99i.x&&e$w.pointInTriangle(C$99r<C$99h?C$99n:C$99s,C$99r,C$99_,C$99h,C$99r<C$99h?C$99s:C$99n,C$99r,C$99i.x,C$99i.y)&&((C$99o=Math.abs(C$99r-C$99i.y)/(C$99n-C$99i.x))<C$99l||C$99o===C$99l&&C$99i.x>C$99e.x)&&e$w.locallyInside(C$99i,C$99t)&&(C$99e=C$99i,C$99l=C$99o),C$99i=C$99i.next;return C$99e;},e$w.indexCurve=function(C$99t,C$99e,C$99i,C$99n){for(var C$99r=C$99t;null===C$99r.z&&(C$99r.z=e$w.zOrder(C$99r.x,C$99r.y,C$99e,C$99i,C$99n)),C$99r.prevZ=C$99r.prev,C$99r.nextZ=C$99r.next,(C$99r=C$99r.next)!==C$99t;);C$99r.prevZ.nextZ=null,C$99r.prevZ=null,e$w.sortLinked(C$99r);},e$w.sortLinked=function(C$99t){var C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l=1;do{for(C$99i=C$99t,C$99s=C$99t=null,C$99a=0;C$99i;){for(C$99a++,C$99n=C$99i,C$99e=C$99o=0;C$99e<C$99l&&(C$99o++,C$99n=C$99n.nextZ);C$99e++);for(C$99h=C$99l;0<C$99o||0<C$99h&&C$99n;)0!==C$99o&&(0===C$99h||!C$99n||C$99i.z<=C$99n.z)?(C$99i=(C$99r=C$99i).nextZ,C$99o--):(C$99n=(C$99r=C$99n).nextZ,C$99h--),C$99s?C$99s.nextZ=C$99r:C$99t=C$99r,C$99r.prevZ=C$99s,C$99s=C$99r;C$99i=C$99n;}}while((C$99s.nextZ=null,C$99l*=2,1<C$99a));return C$99t;},e$w.zOrder=function(C$99t,C$99e,C$99i,C$99n,C$99r){return(C$99t=1431655765&((C$99t=858993459&((C$99t=252645135&((C$99t=16711935&((C$99t=32767*(C$99t-C$99i)*C$99r)|C$99t<<8))|C$99t<<4))|C$99t<<2))|C$99t<<1))|(1431655765&((C$99e=858993459&((C$99e=252645135&((C$99e=16711935&((C$99e=32767*(C$99e-C$99n)*C$99r)|C$99e<<8))|C$99e<<4))|C$99e<<2))|C$99e<<1))<<1;},e$w.getLeftmost=function(C$99t){for(var C$99e=C$99t,C$99i=C$99t;C$99e.x<C$99i.x&&(C$99i=C$99e),(C$99e=C$99e.next)!==C$99t;);return C$99i;},e$w.pointInTriangle=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){return 0<=(C$99r-C$99a)*(C$99e-C$99o)-(C$99t-C$99a)*(C$99s-C$99o)&&0<=(C$99t-C$99a)*(C$99n-C$99o)-(C$99i-C$99a)*(C$99e-C$99o)&&0<=(C$99i-C$99a)*(C$99s-C$99o)-(C$99r-C$99a)*(C$99n-C$99o);},e$w.isValidDiagonal=function(C$99t,C$99e){return C$99t.next.i!==C$99e.i&&C$99t.prev.i!==C$99e.i&&!e$w.intersectsPolygon(C$99t,C$99e)&&e$w.locallyInside(C$99t,C$99e)&&e$w.locallyInside(C$99e,C$99t)&&e$w.middleInside(C$99t,C$99e);},e$w.area=function(C$99t,C$99e,C$99i){return(C$99e.y-C$99t.y)*(C$99i.x-C$99e.x)-(C$99e.x-C$99t.x)*(C$99i.y-C$99e.y);},e$w.equals=function(C$99t,C$99e){return C$99t.x===C$99e.x&&C$99t.y===C$99e.y;},e$w.intersects=function(C$99t,C$99e,C$99i,C$99n){return!!(e$w.equals(C$99t,C$99e)&&e$w.equals(C$99i,C$99n)||e$w.equals(C$99t,C$99n)&&e$w.equals(C$99i,C$99e))||0<e$w.area(C$99t,C$99e,C$99i)!=0<e$w.area(C$99t,C$99e,C$99n)&&0<e$w.area(C$99i,C$99n,C$99t)!=0<e$w.area(C$99i,C$99n,C$99e);},e$w.intersectsPolygon=function(C$99t,C$99e){var C$99i=C$99t;do{if(C$99i.i!==C$99t.i&&C$99i.next.i!==C$99t.i&&C$99i.i!==C$99e.i&&C$99i.next.i!==C$99e.i&&e$w.intersects(C$99i,C$99i.next,C$99t,C$99e))return!0;}while((C$99i=C$99i.next)!==C$99t);return!1;},e$w.locallyInside=function(C$99t,C$99e){return e$w.area(C$99t.prev,C$99t,C$99t.next)<0?0<=e$w.area(C$99t,C$99e,C$99t.next)&&0<=e$w.area(C$99t,C$99t.prev,C$99e):e$w.area(C$99t,C$99e,C$99t.prev)<0||e$w.area(C$99t,C$99t.next,C$99e)<0;},e$w.middleInside=function(C$99t,C$99e){for(var C$99i=C$99t,C$99n=!1,C$99r=(C$99t.x+C$99e.x)/2,C$99s=(C$99t.y+C$99e.y)/2;C$99i.y>C$99s!=C$99i.next.y>C$99s&&C$99i.next.y!==C$99i.y&&C$99r<(C$99i.next.x-C$99i.x)*(C$99s-C$99i.y)/(C$99i.next.y-C$99i.y)+C$99i.x&&(C$99n=!C$99n),(C$99i=C$99i.next)!==C$99t;);return C$99n;},e$w.splitPolygon=function(C$99t,C$99e){var C$99i=new C$99at(C$99t.i,C$99t.x,C$99t.y),C$99n=new C$99at(C$99e.i,C$99e.x,C$99e.y),C$99r=C$99t.next,C$99s=C$99e.prev;return(C$99t.next=C$99e).prev=C$99t,(C$99i.next=C$99r).prev=C$99i,(C$99n.next=C$99i).prev=C$99n,(C$99s.next=C$99n).prev=C$99s,C$99n;},e$w.insertNode=function(C$99t,C$99e,C$99i,C$99n){C$99t=new C$99at(C$99t,C$99e,C$99i);return C$99n?(C$99t.next=C$99n.next,(C$99t.prev=C$99n).next.prev=C$99t,C$99n.next=C$99t):(C$99t.prev=C$99t).next=C$99t,C$99t;},e$w.removeNode=function(C$99t){C$99t.next.prev=C$99t.prev,C$99t.prev.next=C$99t.next,C$99t.prevZ&&(C$99t.prevZ.nextZ=C$99t.nextZ),C$99t.nextZ&&(C$99t.nextZ.prevZ=C$99t.prevZ);},e$w.signedArea=function(C$99t,C$99e,C$99i,C$99n){for(var C$99r=0,C$99s=C$99e,C$99a=C$99i-C$99n;C$99s<C$99i;C$99s+=C$99n)C$99r+=(C$99t[C$99a]-C$99t[C$99s])*(C$99t[C$99s+1]+C$99t[C$99a+1]),C$99a=C$99s;return C$99r;},e$w),C$99at=function(){function e$d(C$99t,C$99e,C$99i){this.i=null,this.x=null,this.y=null,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=null,this.i=C$99t,this.x=C$99e,this.y=C$99i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1;}return C$99i(e$d,"laya.webgl.shapes.EarcutNode"),e$d;}(),C$99ot=(function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this.lineWidth=C$99t,this.lineColor=C$99e,this.lineAlpha=C$99i,this.fillColor=C$99n,this.fillAlpha=C$99r,this.shape=C$99a,this.fill=C$99s;}C$99i(e$d,"laya.webgl.shapes.GeometryData");var C$99t=e$d.prototype;C$99t.clone=function(){return new e$d(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape);},C$99t.getIndexData=function(){return null;},C$99t.getVertexData=function(){return null;},C$99t.destroy=function(){this.shape=null;};}(),function(){function e$d(C$99t){C$99t instanceof Float32Array?this.points=C$99t:C$99t instanceof Array&&(C$99t.length,this.points=new Float32Array(C$99t));}C$99i(e$d,"laya.webgl.shapes.Vertex");var C$99t=e$d.prototype;C$99g.imps(C$99t,{"laya.webgl.shapes.IShape":!0}),C$99t.getData=function(C$99t,C$99e,C$99i){},C$99t.needUpdate=function(C$99t){return!1;},C$99t.rebuild=function(C$99t){},C$99t.setMatrix=function(C$99t){};}(),C$99i(e$o,"laya.webgl.submit.Submit"),C$99t=e$o.prototype,C$99g.imps(C$99t,{"laya.webgl.submit.ISubmit":!0}),C$99t.releaseRender=function(){var C$99t=e$o._cache;(C$99t[C$99t._length++]=this).shaderValue.release(),this.shaderValue=null,this._vb=null,this._ib=null;},C$99t.getRenderType=function(){return this._renderType;},C$99t.renderSubmit=function(){if(0===this._numEle)return 1;var C$99t=this.shaderValue.textureHost;if(C$99t){var C$99e=C$99t.source;if(!C$99t.bitmap||!C$99e)return 1;this.shaderValue.texture=C$99e,C$99t.alphaTexture&&C$99t.alphaTexture.source&&(this.shaderValue.texture1=C$99t.alphaTexture.source);}this._vb.bind_upload(this._ib);C$99e=C$99u.mainContext;return this.shaderValue.upload(),C$99G.activeBlendFunction!==this._blendFn&&(C$99e.enable(3042),this._blendFn(C$99e),C$99G.activeBlendFunction=this._blendFn),C$99R.drawCall++,C$99R.trianglesFaces+=this._numEle/3,C$99e.drawElements(4,this._numEle,5123,this._startIdx),1;},e$o.__init__=function(){var C$99t=e$o.RENDERBASE=new e$o(-1);C$99t.shaderValue=new C$99wt(0,0),C$99t.shaderValue.ALPHA=-1234;},e$o.createSubmit=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=e$o._cache._length?e$o._cache[--e$o._cache._length]:new e$o();null==C$99i&&((C$99i=C$99s._selfVb||(C$99s._selfVb=C$99Qt.create(-1))).clear(),C$99n=0),C$99s._ib=C$99e,C$99s._vb=C$99i,C$99s._startIdx=C$99n*C$99gt.BYTES_PIDX,C$99s._numEle=0;C$99e=C$99t._nBlendType;C$99s._blendFn=(C$99t._targets?C$99G.targetFns:C$99G.fns)[C$99e],C$99s.shaderValue=C$99r,C$99s.shaderValue.setValue(C$99t._shader2D);C$99i=C$99t._shader2D.filters;return C$99i&&C$99s.shaderValue.setFilters(C$99i),C$99s;},e$o.createShape=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=e$o._cache._length?e$o._cache[--e$o._cache._length]:new e$o();C$99a._ib=C$99e,C$99a._vb=C$99i,C$99a._numEle=C$99n,C$99a._startIdx=C$99r,C$99a.shaderValue=C$99s,C$99a.shaderValue.setValue(C$99t._shader2D);C$99e=C$99t._nBlendType;return C$99a._blendFn=(C$99t._targets?C$99G.targetFns:C$99G.fns)[C$99e],C$99a;},e$o.TYPE_2D=1e4,e$o.TYPE_CANVAS=10003,e$o.TYPE_CMDSETRT=10004,e$o.TYPE_CUSTOM=10005,e$o.TYPE_BLURRT=10006,e$o.TYPE_CMDDESTORYPRERT=10007,e$o.TYPE_DISABLESTENCIL=10008,e$o.TYPE_OTHERIBVB=10009,e$o.TYPE_PRIMITIVE=10010,e$o.TYPE_RT=10011,e$o.TYPE_BLUR_RT=10012,e$o.TYPE_TARGET=10013,e$o.TYPE_CHANGE_VALUE=10014,e$o.TYPE_SHAPE=10015,e$o.TYPE_TEXTURE=10016,e$o.TYPE_FILLTEXTURE=10017,e$o.RENDERBASE=null,e$o._cache=((e$o._cache=[])._length=0,e$o._cache),e$o),C$99ht=function(){function e$k(){this.fun=null,this.args=null;}C$99i(e$k,"laya.webgl.submit.SubmitCMD");var C$99t=e$k.prototype;return C$99g.imps(C$99t,{"laya.webgl.submit.ISubmit":!0}),C$99t.renderSubmit=function(){return this.fun.apply(null,this.args),1;},C$99t.getRenderType=function(){return 0;},C$99t.releaseRender=function(){var C$99t=e$k._cache;C$99t[C$99t._length++]=this;},e$k.create=function(C$99t,C$99e){var C$99i=e$k._cache._length?e$k._cache[--e$k._cache._length]:new e$k();return C$99i.fun=C$99e,C$99i.args=C$99t,C$99i;},e$k._cache=((e$k._cache=[])._length=0,e$k._cache),e$k;}(),C$99lt=function(){function e$t(){this.variables={};}C$99i(e$t,"laya.webgl.submit.SubmitCMDScope");var C$99t=e$t.prototype;return C$99t.getValue=function(C$99t){return this.variables[C$99t];},C$99t.addValue=function(C$99t,C$99e){return this.variables[C$99t]=C$99e;},C$99t.setValue=function(C$99t,C$99e){return this.variables.hasOwnProperty(C$99t)?this.variables[C$99t]=C$99e:null;},C$99t.clear=function(){for(var C$99t in this.variables)delete this.variables[C$99t];},C$99t.recycle=function(){this.clear(),e$t.POOL.push(this);},e$t.create=function(){var C$99t=e$t.POOL.pop();return C$99t=C$99t||new e$t();},e$t.POOL=[],e$t;}(),C$99ut=(C$99i(e$f,"laya.webgl.submit.SubmitOtherIBVB"),C$99t=e$f.prototype,C$99g.imps(C$99t,{"laya.webgl.submit.ISubmit":!0}),C$99t.releaseRender=function(){var C$99t=e$f._cache;(C$99t[C$99t._length++]=this).shaderValue.release(),this.shaderValue=null,this._vb=null,this._ib=null;},C$99t.getRenderType=function(){return 10009;},C$99t.renderSubmit=function(){var C$99t=this._shaderValue.textureHost;if(C$99t){var C$99e=C$99t.source;if(!C$99t.bitmap||!C$99e)return 1;this._shaderValue.texture=C$99e;}this._vb.bind_upload(this._ib);C$99t=C$99l.worldMatrix4,C$99e=C$99b.TEMP;C$99b.mulPre(this._mat,C$99t[0],C$99t[1],C$99t[4],C$99t[5],C$99t[12],C$99t[13],C$99e);var C$99i=C$99l.worldMatrix4=e$f.tempMatrix4;C$99i[0]=C$99e.a,C$99i[1]=C$99e.b,C$99i[4]=C$99e.c,C$99i[5]=C$99e.d,C$99i[12]=C$99e.tx,C$99i[13]=C$99e.ty,this._shader._offset=this.offset,this._shaderValue.refresh(),this._shader.upload(this._shaderValue),this._shader._offset=0;C$99i=C$99u.mainContext;return C$99G.activeBlendFunction!==this._blendFn&&(C$99i.enable(3042),this._blendFn(C$99i),C$99G.activeBlendFunction=this._blendFn),C$99R.drawCall++,C$99R.trianglesFaces+=this._numEle/3,C$99i.drawElements(4,this._numEle,5123,this.startIndex),C$99l.worldMatrix4=C$99t,C$99Bt.activeShader=null,1;},e$f.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){void 0===C$99h&&(C$99h=0);var C$99l=e$f._cache._length?e$f._cache[--e$f._cache._length]:new e$f();C$99l._ib=C$99i,C$99l._vb=C$99e,C$99l._numEle=C$99n,C$99l._shader=C$99r,C$99l._shaderValue=C$99s;C$99i=C$99t._nBlendType;switch(C$99l._blendFn=(C$99t._targets?C$99G.targetFns:C$99G.fns)[C$99i],C$99h){case 0:C$99l.offset=0,C$99l.startIndex=C$99o/(C$99gt.BYTES_PE*C$99e.vertexStride)*1.5,C$99l.startIndex*=C$99gt.BYTES_PIDX;break;case 1:C$99l.startIndex=C$99a,C$99l.offset=C$99o;}return C$99l;},e$f._cache=((e$f._cache=[])._length=0,e$f._cache),e$f.tempMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e$f),C$99ct=function(){function e$l(){this.submitIndex=0,this.submitLength=0,this.context=null,this.clipRect=new C$99T(),this.screenRect=new C$99T();}C$99i(e$l,"laya.webgl.submit.SubmitScissor");var C$99t=e$l.prototype;return C$99g.imps(C$99t,{"laya.webgl.submit.ISubmit":!0}),C$99t._scissor=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99l.worldMatrix4,C$99s=C$99r[0],C$99a=C$99r[5],C$99o=C$99r[12],C$99r=C$99r[13];if(C$99n*=C$99a,(C$99i*=C$99s)<1||C$99n<1)return!1;C$99s=(C$99t=C$99t*C$99s+C$99o)+C$99i,C$99o=(C$99e=C$99e*C$99a+C$99r)+C$99n;C$99t<0&&(C$99i=C$99s-(C$99t=0)),C$99e<0&&(C$99n=C$99o-(C$99e=0));C$99a=C$99l.worldClipRect;if(C$99t=Math.max(C$99t,C$99a.x),C$99e=Math.max(C$99e,C$99a.y),C$99i=Math.min(C$99s,C$99a.right)-C$99t,C$99n=Math.min(C$99o,C$99a.bottom)-C$99e,C$99i<1||C$99n<1)return!1;C$99r=C$99l.worldScissorTest;return this.screenRect.copyFrom(C$99a),C$99a.x=C$99t,C$99a.y=C$99e,C$99a.width=C$99i,C$99a.height=C$99n,C$99l.worldScissorTest=!0,C$99e=C$99l.height-C$99e-C$99n,C$99u.mainContext.scissor(C$99t,C$99e,C$99i,C$99n),C$99u.mainContext.enable(3089),this.context.submitElement(this.submitIndex,this.submitIndex+this.submitLength),C$99r?(C$99e=C$99l.height-this.screenRect.y-this.screenRect.height,C$99u.mainContext.scissor(this.screenRect.x,C$99e,this.screenRect.width,this.screenRect.height),C$99u.mainContext.enable(3089)):(C$99u.mainContext.disable(3089),C$99l.worldScissorTest=!1),C$99a.copyFrom(this.screenRect),!0;},C$99t._scissorWithTagart=function(C$99t,C$99e,C$99i,C$99n){if(C$99i<1||C$99n<1)return!1;var C$99r=C$99t+C$99i,C$99s=C$99e+C$99n;C$99t<0&&(C$99i=C$99r-(C$99t=0)),C$99e<0&&(C$99n=C$99s-(C$99e=0));var C$99a=C$99l.worldClipRect;if(C$99t=Math.max(C$99t,C$99a.x),C$99e=Math.max(C$99e,C$99a.y),C$99i=Math.min(C$99r,C$99a.right)-C$99t,C$99n=Math.min(C$99s,C$99a.bottom)-C$99e,C$99i<1||C$99n<1)return!1;C$99r=C$99l.worldScissorTest;return this.screenRect.copyFrom(C$99a),C$99l.worldScissorTest=!0,C$99a.x=C$99t,C$99a.y=C$99e,C$99a.width=C$99i,C$99a.height=C$99n,C$99e=C$99l.height-C$99e-C$99n,C$99u.mainContext.scissor(C$99t,C$99e,C$99i,C$99n),C$99u.mainContext.enable(3089),this.context.submitElement(this.submitIndex,this.submitIndex+this.submitLength),C$99r?(C$99e=C$99l.height-this.screenRect.y-this.screenRect.height,C$99u.mainContext.scissor(this.screenRect.x,C$99e,this.screenRect.width,this.screenRect.height),C$99u.mainContext.enable(3089)):(C$99u.mainContext.disable(3089),C$99l.worldScissorTest=!1),C$99a.copyFrom(this.screenRect),!0;},C$99t.renderSubmit=function(){return this.submitLength=Math.min(this.context._submits._length-1,this.submitLength),this.submitLength<1||this.clipRect.width<1||this.clipRect.height<1||(this.context._targets?this._scissorWithTagart(this.clipRect.x,this.clipRect.y,this.clipRect.width,this.clipRect.height):this._scissor(this.clipRect.x,this.clipRect.y,this.clipRect.width,this.clipRect.height)),this.submitLength+1;},C$99t.getRenderType=function(){return 0;},C$99t.releaseRender=function(){var C$99t=e$l._cache;(C$99t[C$99t._length++]=this).context=null;},e$l.create=function(C$99t){var C$99e=e$l._cache._length?e$l._cache[--e$l._cache._length]:new e$l();return C$99e.context=C$99t,C$99e;},e$l._cache=((e$l._cache=[])._length=0,e$l._cache),e$l;}(),C$99_t=function(){function e$o(){this.step=0,this.blendMode=null,this.level=0;}C$99i(e$o,"laya.webgl.submit.SubmitStencil");var C$99t=e$o.prototype;return C$99g.imps(C$99t,{"laya.webgl.submit.ISubmit":!0}),C$99t.renderSubmit=function(){switch(this.step){case 1:this.do1();break;case 2:this.do2();break;case 3:this.do3();break;case 4:this.do4();break;case 5:this.do5();break;case 6:this.do6();break;case 7:this.do7();break;case 8:this.do8();}return 1;},C$99t.getRenderType=function(){return 0;},C$99t.releaseRender=function(){var C$99t=e$o._cache;C$99t[C$99t._length++]=this;},C$99t.do1=function(){var C$99t=C$99u.mainContext;C$99t.enable(2960),C$99t.clear(1024),C$99t.colorMask(!1,!1,!1,!1),C$99t.stencilFunc(514,this.level,255),C$99t.stencilOp(7680,7680,7682);},C$99t.do2=function(){var C$99t=C$99u.mainContext;C$99t.stencilFunc(514,this.level+1,255),C$99t.colorMask(!0,!0,!0,!0),C$99t.stencilOp(7680,7680,7680);},C$99t.do3=function(){var C$99t=C$99u.mainContext;C$99t.colorMask(!0,!0,!0,!0),C$99t.stencilOp(7680,7680,7680),C$99t.clear(1024),C$99t.disable(2960);},C$99t.do4=function(){var C$99t=C$99u.mainContext;0==this.level&&(C$99t.enable(2960),C$99t.clear(1024)),C$99t.colorMask(!1,!1,!1,!1),C$99t.stencilFunc(519,0,255),C$99t.stencilOp(7680,7680,7682);},C$99t.do5=function(){var C$99t=C$99u.mainContext;C$99t.stencilFunc(514,this.level,255),C$99t.colorMask(!0,!0,!0,!0),C$99t.stencilOp(7680,7680,7680);},C$99t.do6=function(){var C$99t=C$99u.mainContext;C$99G.targetFns[C$99G.TOINT[this.blendMode]](C$99t);},C$99t.do7=function(){var C$99t=C$99u.mainContext;C$99t.colorMask(!1,!1,!1,!1),C$99t.stencilOp(7680,7680,7683);},C$99t.do8=function(){var C$99t=C$99u.mainContext;C$99t.colorMask(!0,!0,!0,!0),C$99t.stencilFunc(514,this.level,255),C$99t.stencilOp(7680,7680,7680);},e$o.restore=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s;var C$99a;(C$99t._renderKey=0)<e$o._mask&&e$o._mask--,0==e$o._mask?(C$99s=laya.webgl.submit.SubmitStencil.create(3),C$99t.addRenderObject(C$99s),C$99t._curSubmit=C$99ot.RENDERBASE):(C$99s=laya.webgl.submit.SubmitStencil.create(7),C$99t.addRenderObject(C$99s),(C$99a=C$99t._vb)._byteLength,C$99vt.fillRectImgVb(C$99a,null,C$99e.x,C$99e.y,C$99e.width,C$99e.height,C$99N.DEF_UV,C$99i,C$99n,C$99r,0,0)?(C$99t._shader2D.glTexture=null,(C$99e=C$99t._curSubmit=C$99ot.createSubmit(C$99t,C$99t._ib,C$99a,(C$99a._byteLength-64)/32*3,C$99wt.create(2,0))).shaderValue.ALPHA=1,C$99t._submits[C$99t._submits._length++]=C$99e,C$99t._curSubmit._numEle+=6,C$99t._curSubmit=C$99ot.RENDERBASE):alert("clipRect calc stencil rect error"),C$99s=laya.webgl.submit.SubmitStencil.create(8),C$99t.addRenderObject(C$99s));},e$o.restore2=function(C$99t,C$99e){var C$99i;(C$99t._renderKey=0)<e$o._mask&&e$o._mask--,0==e$o._mask?(C$99i=laya.webgl.submit.SubmitStencil.create(3),C$99t.addRenderObject(C$99i),C$99t._curSubmit=C$99ot.RENDERBASE):(C$99i=laya.webgl.submit.SubmitStencil.create(7),C$99t.addRenderObject(C$99i),C$99t._submits[C$99t._submits._length++]=C$99e,C$99i=laya.webgl.submit.SubmitStencil.create(8),C$99t.addRenderObject(C$99i));},e$o.create=function(C$99t){var C$99e=e$o._cache._length?e$o._cache[--e$o._cache._length]:new e$o();return 5==(C$99e.step=C$99t)&&++e$o._mask,C$99e.level=e$o._mask,C$99e;},e$o._cache=((e$o._cache=[])._length=0,e$o._cache),e$o._mask=0,e$o;}(),C$99dt=function(){function e$B(){this._renderType=0,this._vb=null,this._ib=null,this._startIdx=0,this._numEle=0,this.shaderValue=null,this.blendType=0,this.proName=null,this.scope=null;}C$99i(e$B,"laya.webgl.submit.SubmitTarget");var C$99t=e$B.prototype;return C$99g.imps(C$99t,{"laya.webgl.submit.ISubmit":!0}),C$99t.renderSubmit=function(){this._vb.bind_upload(this._ib);var C$99t=this.scope.getValue(this.proName);return C$99t&&(this.shaderValue.texture=C$99t.source,this.shaderValue.strength&&!this.shaderValue.blurInfo&&(this.shaderValue.blurInfo=[C$99t.width,C$99t.height]),this.shaderValue.upload(),this.blend(),C$99R.drawCall++,C$99R.trianglesFaces+=this._numEle/3,C$99u.mainContext.drawElements(4,this._numEle,5123,this._startIdx)),1;},C$99t.blend=function(){var C$99t;C$99G.activeBlendFunction!==C$99G.fns[this.blendType]&&((C$99t=C$99u.mainContext).enable(3042),C$99G.fns[this.blendType](C$99t),C$99G.activeBlendFunction=C$99G.fns[this.blendType]);},C$99t.getRenderType=function(){return 0;},C$99t.releaseRender=function(){var C$99t=e$B._cache;(C$99t[C$99t._length++]=this).shaderValue.release(),this.shaderValue=null,this._vb=null,this._ib=null;},e$B.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=e$B._cache._length?e$B._cache[--e$B._cache._length]:new e$B();return C$99a._ib=C$99e,C$99a._vb=C$99i,C$99a.proName=C$99s,C$99a._startIdx=C$99n*C$99gt.BYTES_PIDX,C$99a._numEle=0,C$99a.blendType=C$99t._nBlendType,C$99a.shaderValue=C$99r,C$99a.shaderValue.setValue(C$99t._shader2D),C$99a;},e$B._cache=((e$B._cache=[])._length=0,e$B._cache),e$B;}(),C$99ft=function(){function e$d(){this._sourceStr=null;}C$99i(e$d,"laya.webgl.text.CharSegment");var C$99t=e$d.prototype;return C$99g.imps(C$99t,{"laya.webgl.text.ICharSegment":!0}),C$99t.textToSpit=function(C$99t){this._sourceStr=C$99t;},C$99t.getChar=function(C$99t){return this._sourceStr.charAt(C$99t);},C$99t.getCharCode=function(C$99t){return this._sourceStr.charCodeAt(C$99t);},C$99t.length=function(){return this._sourceStr.length;},e$d;}(),C$99pt=(C$99i(e$S,"laya.webgl.text.DrawText"),e$S.__init__=function(){e$S._charsTemp=new Array(),e$S._drawValue=new C$99re(),e$S._charSeg=new C$99ft();},e$S.customCharSeg=function(C$99t){e$S._charSeg=C$99t;},e$S.getChar=function(C$99t,C$99e,C$99i){C$99t=C$99Gt.createOneChar(C$99t,C$99i);return-1!=C$99e&&(e$S._charsCache[C$99e]=C$99t),C$99t;},e$S._drawSlow=function(C$99t,C$99u,C$99c,C$99e,C$99_,C$99d,C$99f,C$99p,C$99m,C$99g,C$99v,C$99$,C$99x,C$99y,C$99b){var C$99i,C$99n,C$99w=e$S._drawValue.value(C$99d,C$99p,C$99m,C$99g,C$99x,C$99y,C$99b),C$99r=0,C$99s=0,C$99a=e$S._charsTemp,C$99T=0,C$99o=NaN;if(C$99e)for(C$99a.length=C$99e.length,C$99r=0,C$99s=C$99e.length;C$99r<C$99s;C$99r++)(C$99n=C$99e[C$99r])&&(C$99o=C$99n.charNum+C$99w.txtID,C$99a[C$99r]=C$99i=e$S._charsCache[C$99o]||e$S.getChar(C$99n.char,C$99o,C$99w),C$99i.active());else{C$99d=C$99c instanceof laya.utils.WordText?C$99c.toString():C$99c;if(C$99L.CharacterCache){e$S._charSeg.textToSpit(C$99d);C$99p=e$S._charSeg.length();for(C$99r=0,C$99s=C$99a.length=C$99p;C$99r<C$99s;C$99r++)C$99o=e$S._charSeg.getCharCode(C$99r)+C$99w.txtID,C$99a[C$99r]=C$99i=e$S._charsCache[C$99o]||e$S.getChar(e$S._charSeg.getChar(C$99r),C$99o,C$99w),C$99i.active(),C$99T+=C$99i.cw;}else C$99a.length=0,(C$99i=e$S.getChar(C$99d,-1,C$99w)).active(),C$99T+=C$99i.cw,C$99a[0]=C$99i;}var C$99S=0;null!==C$99f&&"left"!==C$99f&&(C$99S=-("center"==C$99f?C$99T/2:C$99T));var C$99h,C$99M,C$99l=NaN,C$99C=0;if(C$99e)for(C$99r=0,C$99s=C$99a.length;C$99r<C$99s;C$99r++)C$99i=C$99a[C$99r],C$99n=C$99e[C$99r],C$99i&&C$99n&&!C$99i.isSpace&&(C$99l=C$99i.borderSize,C$99h=C$99i.texture,C$99u._drawText(C$99h,C$99v+C$99S+C$99n.x*C$99x-C$99l,C$99$+C$99n.y*C$99y-C$99l,C$99h.width,C$99h.height,C$99_,0,0,0,0));else{for(C$99r=0,C$99s=C$99a.length;C$99r<C$99s;C$99r++)(C$99i=C$99a[C$99r])&&!C$99i.isSpace&&(C$99l=C$99i.borderSize,C$99h=C$99i.texture,C$99u._drawText(C$99h,C$99v+C$99S-C$99l,C$99$-C$99l,C$99h.width,C$99h.height,C$99_,0,0,0,0),C$99t&&((C$99M=(C$99M=C$99t[C$99C++])?C$99M:C$99t[C$99C-1]=[])[0]=C$99h,C$99M[1]=C$99S-C$99l,C$99M[2]=-C$99l)),C$99S+=C$99i.cw;C$99t&&(C$99t.length=C$99C);}},e$S._drawFast=function(C$99t,C$99e,C$99i,C$99n,C$99r){for(var C$99s,C$99a,C$99o=0,C$99h=C$99t.length;C$99o<C$99h;C$99o++)(C$99s=(C$99a=C$99t[C$99o])[0]).active(),C$99e._drawText(C$99s,C$99n+C$99a[1],C$99r+C$99a[2],C$99s.width,C$99s.height,C$99i,0,0,0,0);},e$S.drawText=function(C$99t,C$99e,C$99i,C$99n,C$99u,C$99c,C$99_,C$99d,C$99f,C$99r,C$99s,C$99p){if(void 0===C$99p&&(C$99p=0),!(C$99e&&0===C$99e.length||C$99i&&0===C$99i.length)){var C$99a=C$99n.a,C$99o=C$99n.d;var C$99h=1!==(C$99a=0===C$99n.b&&0===C$99n.c?C$99a:C$99o=1)||1!==C$99o;if((C$99h=!(!C$99h||!C$99g.stage.transform)&&(C$99l=C$99g.stage.transform).a===C$99a&&C$99l.d===C$99o)?(C$99l=(C$99n=C$99n.copyTo(C$99bt._tmpMatrix)).tx,C$99h=C$99n.ty,C$99n.scale(1/C$99a,1/C$99o),C$99n._checkTransform(),C$99r=C$99r*C$99a+(C$99l-C$99n.tx),C$99s=C$99s*C$99o+(C$99h-C$99n.ty)):C$99a=C$99o=1,C$99i)e$S._drawSlow(null,C$99t,C$99e,C$99i,C$99n,C$99u,C$99c,C$99_,C$99d,C$99f,C$99r,C$99s,C$99a,C$99o,C$99p);else{if(null===C$99e.toUpperCase)return C$99l=C$99a+1e5*C$99o,void((C$99h=C$99e).changed||C$99h.id!==C$99l?(C$99h.id=C$99l,C$99h.changed=!1,e$S._drawSlow(C$99h.save,C$99t,C$99e,C$99i,C$99n,C$99u,C$99c,C$99_,C$99d,C$99f,C$99r,C$99s,C$99a,C$99o,C$99p)):e$S._drawFast(C$99h.save,C$99t,C$99n,C$99r,C$99s));var C$99l=C$99e+C$99u.toString()+C$99_+C$99d+C$99f+C$99a+C$99o+C$99c,C$99h=e$S._textsCache[C$99l];C$99L.CharacterCache?C$99h?e$S._drawFast(C$99h,C$99t,C$99n,C$99r,C$99s):(e$S._textsCache.__length||(e$S._textsCache.__length=0),e$S._textsCache.__length>C$99m.WebGLTextCacheCount&&((e$S._textsCache={}).__length=0,e$S._curPoolIndex=0),e$S._textCachesPool[e$S._curPoolIndex]?(C$99h=e$S._textsCache[C$99l]=e$S._textCachesPool[e$S._curPoolIndex]).length=0:e$S._textCachesPool[e$S._curPoolIndex]=C$99h=e$S._textsCache[C$99l]=[],e$S._textsCache.__length++,e$S._curPoolIndex++,e$S._drawSlow(C$99h,C$99t,C$99e,C$99i,C$99n,C$99u,C$99c,C$99_,C$99d,C$99f,C$99r,C$99s,C$99a,C$99o,C$99p)):e$S._drawSlow(C$99h,C$99t,C$99e,C$99i,C$99n,C$99u,C$99c,C$99_,C$99d,C$99f,C$99r,C$99s,C$99a,C$99o,C$99p);}}},e$S._charsTemp=null,e$S._textCachesPool=[],e$S._curPoolIndex=0,e$S._charsCache={},e$S._textsCache={},e$S._drawValue=null,e$S.d=[],e$S._charSeg=null,e$S.__init$=function(){function e$o(){}C$99i(e$o,""),e$o.prototype.value=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this.font=C$99t,this.fillColor=C$99e,this.borderColor=C$99i,this.lineWidth=C$99n,this.scaleX=C$99r,this.scaleY=C$99s,this.underLine=C$99a;C$99t=C$99t.toString()+C$99r+C$99s+C$99n+(C$99e?C$99e.toLowerCase():" ")+(C$99i?C$99i.toLowerCase():" ")+C$99a;return this.txtID=e$o._keymap[C$99t],this.txtID||(this.txtID=1e-7*++e$o._keymapCount,e$o._keymap[C$99t]=this.txtID),this;},e$o.clear=function(){e$o._keymap={},e$o._keymapCount=1;},e$o._keymap={},e$o._keymapCount=1,C$99re=e$o;},e$S),C$99mt=function(){function e$W(C$99t){this._index=0,this._size=14,this._italic=-2,e$W._cache2=e$W._cache2||[],this.setFont(C$99t||"14px Arial");}C$99i(e$W,"laya.webgl.text.FontInContext");var C$99t=e$W.prototype;return C$99t.setFont=function(C$99t){var C$99e=e$W._cache2[C$99t];if(C$99e)this._words=C$99e[0],this._size=C$99e[1];else{this._words=C$99t.split(" ");for(var C$99i=0,C$99n=this._words.length;C$99i<C$99n;C$99i++)if(0<this._words[C$99i].indexOf("px")){this._index=C$99i;break;}this._size=parseInt(this._words[this._index]),e$W._cache2[C$99t]=[this._words,this._size];}this._text=null,this._italic=-2;},C$99t.getItalic=function(){return-2===this._italic&&(this._italic=this.hasType("italic")),this._italic;},C$99t.hasType=function(C$99t){for(var C$99e=0,C$99i=this._words.length;C$99e<C$99i;C$99e++)if(this._words[C$99e]===C$99t)return C$99e;return-1;},C$99t.removeType=function(C$99t){for(var C$99e=0,C$99i=this._words.length;C$99e<C$99i;C$99e++)if(this._words[C$99e]===C$99t){this._words.splice(C$99e,1),this._index>C$99e&&this._index--;break;}this._text=null,this._italic=-2;},C$99t.copyTo=function(C$99t){return C$99t._text=this._text,C$99t._size=this._size,C$99t._index=this._index,C$99t._words=this._words.slice(),C$99t._italic=-2,C$99t;},C$99t.toString=function(){return this._text||(this._text=this._words.join(" "));},C$99n(0,C$99t,"size",function(){return this._size;},function(C$99t){this._size=C$99t,this._words[this._index]=C$99t+"px",this._text=null;}),e$W.create=function(C$99t){var C$99e=e$W._cache[C$99t];return C$99e||(e$W._cache[C$99t]=new e$W(C$99t));},e$W.EMPTY=new e$W(),e$W._cache={},e$W._cache2=null,e$W;}(),C$99gt=function(){function e$d(){}return C$99i(e$d,"laya.webgl.utils.CONST3D2D"),e$d.defaultMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e$d.defaultMinusYMatrix4=[1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1],e$d.uniformMatrix3=[1,0,0,0,0,1,0,0,0,0,1,0],e$d._TMPARRAY=[],e$d._OFFSETX=0,e$d._OFFSETY=0,C$99e(e$d,["BYTES_PE",function(){return this.BYTES_PE=Float32Array.BYTES_PER_ELEMENT;},"BYTES_PIDX",function(){return this.BYTES_PIDX=Uint16Array.BYTES_PER_ELEMENT;}]),e$d;}(),C$99vt=(C$99i(e$Y,"laya.webgl.utils.GlUtils"),e$Y.make2DProjection=function(C$99t,C$99e,C$99i){return[2/C$99t,0,0,0,0,-2/C$99e,0,0,0,0,2/C$99i,0,-1,1,0,1];},e$Y.fillIBQuadrangle=function(C$99t,C$99e){if(65535/4<C$99e)throw Error("IBQuadrangle count:"+C$99e+" must<:"+Math.floor(65535/4));C$99e=Math.floor(C$99e),C$99t._resizeBuffer(6*(C$99e+1)*2,!1),C$99t.byteLength=C$99t.bufferLength;for(var C$99i=C$99t.getUint16Array(),C$99n=0,C$99r=0;C$99r<C$99e;C$99r++)C$99i[C$99n++]=4*C$99r,C$99i[C$99n++]=4*C$99r+2,C$99i[C$99n++]=4*C$99r+1,C$99i[C$99n++]=4*C$99r,C$99i[C$99n++]=4*C$99r+3,C$99i[C$99n++]=4*C$99r+2;return C$99t.setNeedUpload(),!0;},e$Y.expandIBQuadrangle=function(C$99t,C$99e){C$99t.bufferLength>=6*C$99e*2||e$Y.fillIBQuadrangle(C$99t,C$99e);},e$Y.mathCeilPowerOfTwo=function(C$99t){return C$99t--,C$99t=(C$99t=(C$99t=(C$99t=(C$99t|=C$99t>>1)|C$99t>>2)|C$99t>>4)|C$99t>>8)|C$99t>>16,++C$99t;},e$Y.fillQuadrangleImgVb=function(C$99u,C$99t,C$99e,C$99i,C$99n,C$99r,C$99c,C$99_){var C$99s=16+(C$99u._byteLength>>2);C$99u.byteLength=C$99s<<2;var C$99a=C$99u.getFloat32Array();C$99a[2+(C$99s-=16)]=C$99n[0],C$99a[3+C$99s]=C$99n[1],C$99a[6+C$99s]=C$99n[2],C$99a[7+C$99s]=C$99n[3],C$99a[10+C$99s]=C$99n[4],C$99a[11+C$99s]=C$99n[5],C$99a[14+C$99s]=C$99n[6],C$99a[15+C$99s]=C$99n[7];var C$99n=C$99r.a,C$99o=C$99r.b,C$99h=C$99r.c,C$99l=C$99r.d;var C$99d,C$99f;return 1!==C$99n||0!==C$99o||0!==C$99h||1!==C$99l?(C$99r.bTransform=!0,C$99d=C$99r.tx+C$99c,C$99f=C$99r.ty+C$99_,C$99a[C$99s]=(C$99i[0]+C$99t)*C$99n+(C$99i[1]+C$99e)*C$99h+C$99d,C$99a[1+C$99s]=(C$99i[0]+C$99t)*C$99o+(C$99i[1]+C$99e)*C$99l+C$99f,C$99a[4+C$99s]=(C$99i[2]+C$99t)*C$99n+(C$99i[3]+C$99e)*C$99h+C$99d,C$99a[5+C$99s]=(C$99i[2]+C$99t)*C$99o+(C$99i[3]+C$99e)*C$99l+C$99f,C$99a[8+C$99s]=(C$99i[4]+C$99t)*C$99n+(C$99i[5]+C$99e)*C$99h+C$99d,C$99a[9+C$99s]=(C$99i[4]+C$99t)*C$99o+(C$99i[5]+C$99e)*C$99l+C$99f,C$99a[12+C$99s]=(C$99i[6]+C$99t)*C$99n+(C$99i[7]+C$99e)*C$99h+C$99d,C$99a[13+C$99s]=(C$99i[6]+C$99t)*C$99o+(C$99i[7]+C$99e)*C$99l+C$99f):(C$99r.bTransform=!1,C$99t+=C$99r.tx+C$99c,C$99e+=C$99r.ty+C$99_,C$99a[C$99s]=C$99t+C$99i[0],C$99a[1+C$99s]=C$99e+C$99i[1],C$99a[4+C$99s]=C$99t+C$99i[2],C$99a[5+C$99s]=C$99e+C$99i[3],C$99a[8+C$99s]=C$99t+C$99i[4],C$99a[9+C$99s]=C$99e+C$99i[5],C$99a[12+C$99s]=C$99t+C$99i[6],C$99a[13+C$99s]=C$99e+C$99i[7]),C$99u._upload=!0;},e$Y.fillTranglesVB=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){var C$99o=(C$99t._byteLength>>2)+C$99n.length;C$99t.byteLength=C$99o<<2;var C$99h=C$99t.getFloat32Array();C$99o-=C$99n.length;for(var C$99u=C$99n.length,C$99c=C$99r.a,C$99_=C$99r.b,C$99d=C$99r.c,C$99f=C$99r.d,C$99l=0;C$99l<C$99u;C$99l+=4){var C$99p,C$99m;C$99h[C$99o+C$99l+2]=C$99n[C$99l+2],C$99h[C$99o+C$99l+3]=C$99n[C$99l+3],1!==C$99c||0!==C$99_||0!==C$99d||1!==C$99f?(C$99r.bTransform=!0,C$99p=C$99r.tx+C$99s,C$99m=C$99r.ty+C$99a,C$99h[C$99o+C$99l]=(C$99n[C$99l]+C$99e)*C$99c+(C$99n[C$99l+1]+C$99i)*C$99d+C$99p,C$99h[C$99o+C$99l+1]=(C$99n[C$99l]+C$99e)*C$99_+(C$99n[C$99l+1]+C$99i)*C$99f+C$99m):(C$99r.bTransform=!1,C$99e+=C$99r.tx+C$99s,C$99i+=C$99r.ty+C$99a,C$99h[C$99o+C$99l]=C$99e+C$99n[C$99l],C$99h[C$99o+C$99l+1]=C$99i+C$99n[C$99l+1]);}return C$99t._upload=!0;},e$Y.copyPreImgVb=function(C$99t,C$99e,C$99i){var C$99n=C$99t._byteLength>>2;C$99t.byteLength=C$99n+16<<2;for(var C$99r=C$99t.getFloat32Array(),C$99s=0,C$99a=C$99n-16;C$99s<4;C$99s++)C$99r[C$99n]=C$99r[C$99a]+C$99e,C$99r[++C$99n]=C$99r[++C$99a]+C$99i,C$99r[++C$99n]=C$99r[++C$99a],C$99r[++C$99n]=C$99r[++C$99a],++C$99n,++C$99a;C$99t._upload=!0;},e$Y.fillRectImgVb=function(C$99u,C$99c,C$99_,C$99d,C$99f,C$99p,C$99t,C$99e,C$99m,C$99g,C$99v,C$99$,C$99x){void 0===C$99x&&(C$99x=!1);var C$99i,C$99n,C$99y,C$99b,C$99w,C$99T,C$99S,C$99M,C$99C,C$99A,C$99r,C$99s,C$99I,C$99D,C$99a,C$99o,C$99E=1,C$99R=C$99e.a,C$99P=C$99e.b,C$99B=C$99e.c,C$99L=C$99e.d,C$99N=C$99c&&C$99c.width<99999999;if(1!==C$99R||0!==C$99P||0!==C$99B||1!==C$99L?(C$99e.bTransform=!0,0===C$99P&&0===C$99B&&(C$99E=23,C$99i=C$99R*C$99_+(C$99r=C$99e.tx+C$99m),C$99y=C$99R*(C$99C=C$99f+C$99_)+C$99r,C$99n=C$99L*C$99d+(C$99s=C$99e.ty+C$99g),C$99b=C$99L*(C$99A=C$99p+C$99d)+C$99s)):(C$99e.bTransform=!(C$99E=23),C$99y=(C$99i=C$99_+C$99e.tx+C$99m)+C$99f,C$99b=(C$99n=C$99d+C$99e.ty+C$99g)+C$99p),C$99N&&(C$99w=C$99c.x,C$99T=C$99c.y,C$99S=C$99c.width+C$99w,C$99M=C$99c.height+C$99T),1!==C$99E){if(Math.min(C$99i,C$99y)>=C$99S)return!1;if(Math.min(C$99n,C$99b)>=C$99M)return!1;if(Math.max(C$99y,C$99i)<=C$99w)return!1;if(Math.max(C$99b,C$99n)<=C$99T)return!1;}var C$99h=C$99u._byteLength>>2;C$99u.byteLength=16+C$99h<<2;var C$99l=C$99u.getFloat32Array();switch(C$99l[2+C$99h]=C$99t[0],C$99l[3+C$99h]=C$99t[1],C$99l[6+C$99h]=C$99t[2],C$99l[7+C$99h]=C$99t[3],C$99l[10+C$99h]=C$99t[4],C$99l[11+C$99h]=C$99t[5],C$99l[14+C$99h]=C$99t[6],C$99l[15+C$99h]=C$99t[7],C$99E){case 1:C$99r=C$99e.tx+C$99m,C$99s=C$99e.ty+C$99g;var C$99k=C$99R*C$99_,C$99O=C$99B*C$99d,C$99V=C$99L*C$99d,C$99F=C$99P*C$99_,C$99U=C$99R*(C$99C=C$99f+C$99_),C$99W=C$99B*(C$99A=C$99p+C$99d),C$99H=C$99L*C$99A,C$99G=C$99P*C$99C;C$99x?(C$99I=C$99k+C$99O+C$99r,C$99a=Math.round(C$99I)-C$99I,C$99D=C$99V+C$99F+C$99s,C$99o=Math.round(C$99D)-C$99D,C$99l[C$99h]=C$99I+C$99a,C$99l[1+C$99h]=C$99D+C$99o,C$99l[4+C$99h]=C$99U+C$99O+C$99r+C$99a,C$99l[5+C$99h]=C$99V+C$99G+C$99s+C$99o,C$99l[8+C$99h]=C$99U+C$99W+C$99r+C$99a,C$99l[9+C$99h]=C$99H+C$99G+C$99s+C$99o,C$99l[12+C$99h]=C$99k+C$99W+C$99r+C$99a,C$99l[13+C$99h]=C$99H+C$99F+C$99s+C$99o):(C$99l[C$99h]=C$99k+C$99O+C$99r,C$99l[1+C$99h]=C$99V+C$99F+C$99s,C$99l[4+C$99h]=C$99U+C$99O+C$99r,C$99l[5+C$99h]=C$99V+C$99G+C$99s,C$99l[8+C$99h]=C$99U+C$99W+C$99r,C$99l[9+C$99h]=C$99H+C$99G+C$99s,C$99l[12+C$99h]=C$99k+C$99W+C$99r,C$99l[13+C$99h]=C$99H+C$99F+C$99s);break;case 23:C$99x?(C$99I=C$99i+C$99v,C$99a=Math.round(C$99I)-C$99I,C$99D=C$99n,C$99o=Math.round(C$99D)-C$99D,C$99l[C$99h]=C$99I+C$99a,C$99l[1+C$99h]=C$99D+C$99o,C$99l[4+C$99h]=C$99y+C$99v+C$99a,C$99l[5+C$99h]=C$99n+C$99o,C$99l[8+C$99h]=C$99y+C$99a,C$99l[9+C$99h]=C$99b+C$99o,C$99l[12+C$99h]=C$99i+C$99a,C$99l[13+C$99h]=C$99b+C$99o):(C$99l[C$99h]=C$99i+C$99v,C$99l[1+C$99h]=C$99n,C$99l[4+C$99h]=C$99y+C$99v,C$99l[5+C$99h]=C$99n,C$99l[8+C$99h]=C$99y,C$99l[9+C$99h]=C$99b,C$99l[12+C$99h]=C$99i,C$99l[13+C$99h]=C$99b);}return C$99u._upload=!0;},e$Y.fillLineVb=function(C$99t,C$99u,C$99e,C$99i,C$99n,C$99r,C$99s,C$99c){var C$99s=.5*C$99s,C$99a=e$Y._fillLineArray,C$99o=-(C$99i-C$99r),C$99h=C$99e-C$99n,C$99l=Math.sqrt(C$99o*C$99o+C$99h*C$99h);C$99h=C$99h/C$99l*C$99s,C$99a[0]=C$99e-(C$99o=C$99o/C$99l*C$99s),C$99a[1]=C$99i-C$99h,C$99a[4]=C$99e+C$99o,C$99a[5]=C$99i+C$99h,C$99a[8]=C$99n+C$99o,C$99a[9]=C$99r+C$99h,C$99a[12]=C$99n-C$99o,C$99a[13]=C$99r-C$99h,C$99c&&C$99c.transformPointArray(C$99a,C$99a);C$99l=16+(C$99t._byteLength>>2);return C$99t.byteLength=C$99l<<2,C$99t.insertData(C$99a,C$99l-16),!0;},e$Y._fillLineArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e$Y),C$99$t=(function(){function e$o(){}C$99i(e$o,"laya.webgl.utils.MatirxArray"),e$o.ArrayMul=function(C$99t,C$99e,C$99i){if(C$99t){if(C$99e)for(var C$99n,C$99r,C$99s,C$99a,C$99o=0;C$99o<4;C$99o++)C$99n=C$99t[C$99o],C$99r=C$99t[C$99o+4],C$99s=C$99t[C$99o+8],C$99a=C$99t[C$99o+12],C$99i[C$99o]=C$99n*C$99e[0]+C$99r*C$99e[1]+C$99s*C$99e[2]+C$99a*C$99e[3],C$99i[C$99o+4]=C$99n*C$99e[4]+C$99r*C$99e[5]+C$99s*C$99e[6]+C$99a*C$99e[7],C$99i[C$99o+8]=C$99n*C$99e[8]+C$99r*C$99e[9]+C$99s*C$99e[10]+C$99a*C$99e[11],C$99i[C$99o+12]=C$99n*C$99e[12]+C$99r*C$99e[13]+C$99s*C$99e[14]+C$99a*C$99e[15];else e$o.copyArray(C$99t,C$99i);}else e$o.copyArray(C$99e,C$99i);},e$o.copyArray=function(C$99t,C$99e){if(C$99t&&C$99e)for(var C$99i=0;C$99i<C$99t.length;C$99i++)C$99e[C$99i]=C$99t[C$99i];};}(),function(){function e$t(C$99t,C$99e,C$99i){this._stride=0,this.vertNum=0,this.indexNum=0,this._applied=!1,this._vb=null,this._ib=null,this._vao=null,this._attribInfo=null,this._quadNum=0,this.canReuse=!1,this._stride=C$99t,this._vb=new C$99Qt(C$99t,35048),C$99e&&this._vb._resizeBuffer(C$99e,!1),this._ib=new C$99Zt(),C$99i&&this._ib._resizeBuffer(C$99i,!1);}C$99i(e$t,"laya.webgl.utils.Mesh2D");var C$99t=e$t.prototype;return C$99t.cloneWithNewVB=function(){var C$99t=new e$t(this._stride,0,0);return C$99t._ib=this._ib,C$99t._quadNum=this._quadNum,C$99t._attribInfo=this._attribInfo,C$99t;},C$99t.cloneWithNewVBIB=function(){var C$99t=new e$t(this._stride,0,0);return C$99t._attribInfo=this._attribInfo,C$99t;},C$99t.getVBW=function(){return this._vb.setNeedUpload(),this._vb;},C$99t.getVBR=function(){return this._vb;},C$99t.getIBR=function(){return this._ib;},C$99t.getIBW=function(){return this._ib.setNeedUpload(),this._ib;},C$99t.createQuadIB=function(C$99t){this._quadNum=C$99t,this._ib._resizeBuffer(6*C$99t*2,!1),this._ib.byteLength=this._ib.bufferLength;for(var C$99e=this._ib.getUint16Array(),C$99i=0,C$99n=0,C$99r=0;C$99r<C$99t;C$99r++)C$99e[C$99i++]=C$99n,C$99e[C$99i++]=C$99n+2,C$99e[C$99i++]=C$99n+1,C$99e[C$99i++]=C$99n,C$99e[C$99i++]=C$99n+3,C$99e[C$99i++]=C$99n+2,C$99n+=4;this._ib.setNeedUpload();},C$99t.setAttributes=function(C$99t){if(this._attribInfo=C$99t,this._attribInfo.length%3!=0)throw"Mesh2D setAttributes error!";},C$99t.getEleNum=function(){return this._ib.getBuffer().byteLength/2;},C$99t.releaseMesh=function(){},C$99t.destroy=function(){},C$99t.clearVB=function(){this._vb.clear();},e$t._gvaoid=0,e$t;}()),C$99l=function(){function e$W(){}return C$99i(e$W,"laya.webgl.utils.RenderState2D"),e$W.getMatrArray=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];},e$W.mat2MatArray=function(C$99t,C$99e){var C$99i=C$99e;return C$99i[0]=C$99t.a,C$99i[1]=C$99t.b,C$99i[2]=e$W.EMPTYMAT4_ARRAY[2],C$99i[3]=e$W.EMPTYMAT4_ARRAY[3],C$99i[4]=C$99t.c,C$99i[5]=C$99t.d,C$99i[6]=e$W.EMPTYMAT4_ARRAY[6],C$99i[7]=e$W.EMPTYMAT4_ARRAY[7],C$99i[8]=e$W.EMPTYMAT4_ARRAY[8],C$99i[9]=e$W.EMPTYMAT4_ARRAY[9],C$99i[10]=e$W.EMPTYMAT4_ARRAY[10],C$99i[11]=e$W.EMPTYMAT4_ARRAY[11],C$99i[12]=C$99t.tx,C$99i[13]=C$99t.ty,C$99i[14]=e$W.EMPTYMAT4_ARRAY[14],C$99i[15]=e$W.EMPTYMAT4_ARRAY[15],C$99e;},e$W.restoreTempArray=function(){e$W.TEMPMAT4_ARRAY[0]=1,e$W.TEMPMAT4_ARRAY[1]=0,e$W.TEMPMAT4_ARRAY[4]=0,e$W.TEMPMAT4_ARRAY[5]=1,e$W.TEMPMAT4_ARRAY[12]=0,e$W.TEMPMAT4_ARRAY[13]=0;},e$W.clear=function(){e$W.worldScissorTest=!1,e$W.worldShaderDefines=null,e$W.worldFilters=null,e$W.worldAlpha=1,e$W.worldClipRect.x=e$W.worldClipRect.y=0,e$W.worldClipRect.width=e$W.width,e$W.worldClipRect.height=e$W.height,e$W.curRenderTarget=null;},e$W._MAXSIZE=99999999,e$W.EMPTYMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e$W.worldMatrix4=e$W.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e$W.worldAlpha=1,e$W.worldScissorTest=!1,e$W.worldFilters=null,e$W.worldShaderDefines=null,e$W.curRenderTarget=null,e$W.width=0,e$W.height=0,C$99e(e$W,["worldMatrix",function(){return this.worldMatrix=new C$99b();},"worldClipRect",function(){return this.worldClipRect=new C$99T(0,0,99999999,99999999);}]),e$W;}(),C$99xt=(C$99i(e$g,"laya.webgl.utils.ShaderCompile"),(C$99t=e$g.prototype)._compileToTree=function(C$99t,C$99u,C$99c,C$99e,C$99i){var C$99n,C$99r,C$99s,C$99_,C$99a,C$99d,C$99f,C$99o=0,C$99p=0,C$99h=0;for(C$99p=C$99c;C$99p<C$99u.length;C$99p++)if(!((C$99s=C$99u[C$99p]).length<1)&&0!==(C$99o=C$99s.indexOf("//"))){if(0<=C$99o&&(C$99s=C$99s.substr(0,C$99o)),C$99n=C$99d||new C$99ie(C$99e),C$99d=null,C$99n.text=C$99s,C$99n.noCompile=!0,0<=(C$99o=C$99s.indexOf("#"))){for(C$99_="#",C$99h=C$99o+1,C$99f=C$99s.length;C$99h<C$99f;C$99h++){var C$99l=C$99s.charAt(C$99h);if(" "===C$99l||"\t"===C$99l||"\r"===C$99l||"\n"===C$99l||"?"===C$99l)break;C$99_+=C$99l;}switch(C$99n.name=C$99_){case"#ifdef":case"#ifndef":if(C$99n.src=C$99s,C$99n.noCompile=null!=C$99s.match(/[!&|()=<>]/),C$99n.noCompile?console.log("function():Boolean{return "+C$99s.substr(C$99o+C$99n.name.length)+"}"):(C$99a=C$99s.replace(/^\s*/,"").split(/\s+/),C$99n.setCondition(C$99a[1],"#ifdef"===C$99_?1:2),C$99n.text="//"+C$99n.text),C$99n.setParent(C$99t),C$99t=C$99n,C$99i)for(C$99a=C$99s.substr(C$99h).split(e$g._splitToWordExps3),C$99h=0;C$99h<C$99a.length;C$99h++)(C$99s=C$99a[C$99h]).length&&(C$99i[C$99s]=!0);continue;case"#if":if(C$99n.src=C$99s,C$99n.noCompile=!0,C$99n.setParent(C$99t),C$99t=C$99n,C$99i)for(C$99a=C$99s.substr(C$99h).split(e$g._splitToWordExps3),C$99h=0;C$99h<C$99a.length;C$99h++)(C$99s=C$99a[C$99h]).length&&"defined"!=C$99s&&(C$99i[C$99s]=!0);continue;case"#else":C$99n.src=C$99s,C$99r=(C$99t=C$99t.parent).childs[C$99t.childs.length-1],C$99n.noCompile=C$99r.noCompile,C$99n.noCompile||(C$99n.condition=C$99r.condition,C$99n.conditionType=1==C$99r.conditionType?2:1,C$99n.text="//"+C$99n.text+" "+C$99r.text+" "+C$99n.conditionType),C$99n.setParent(C$99t),C$99t=C$99n;continue;case"#endif":C$99r=(C$99t=C$99t.parent).childs[C$99t.childs.length-1],C$99n.noCompile=C$99r.noCompile,C$99n.noCompile||(C$99n.text="//"+C$99n.text),C$99n.setParent(C$99t);continue;case"#include":C$99a=e$g.splitToWords(C$99s,null);var C$99m=e$g.includes[C$99a[1]];if(!C$99m)throw"ShaderCompile error no this include file:"+C$99a[1];if((C$99o=C$99a[0].indexOf("?"))<0){C$99n.setParent(C$99t),C$99s=C$99m.getWith("with"==C$99a[2]?C$99a[3]:null),this._compileToTree(C$99n,C$99s.split("\n"),0,C$99e,C$99i),C$99n.text="";continue;}C$99n.setCondition(C$99a[0].substr(C$99o+1),1),C$99n.text=C$99m.getWith("with"==C$99a[2]?C$99a[3]:null);break;case"#import":C$99m=(C$99a=e$g.splitToWords(C$99s,null))[1],C$99e.push({node:C$99n,file:e$g.includes[C$99m],ofs:C$99n.text.length});continue;}}else{if((C$99r=C$99t.childs[C$99t.childs.length-1])&&!C$99r.name){0<C$99e.length&&e$g.splitToWords(C$99s,C$99r),C$99d=C$99n,C$99r.text+="\n"+C$99s;continue;}0<C$99e.length&&e$g.splitToWords(C$99s,C$99n);}C$99n.setParent(C$99t);}},C$99t.createShader=function(C$99t,C$99e,C$99i){var C$99n={},C$99r="";if(C$99t)for(var C$99s in C$99t)C$99r+="#define "+C$99s+"\n",C$99n[C$99s]=!0;var C$99t=this._VS.toscript(C$99n,[]),C$99a=this._PS.toscript(C$99n,[]);return(C$99i||C$99Xt.create)(C$99r+C$99t.join("\n"),C$99r+C$99a.join("\n"),C$99e,this._nameMap);},e$g._parseOne=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a={type:e$g.shaderParamsMap[C$99i[C$99n+1]],name:C$99i[C$99n+2],size:isNaN(parseInt(C$99i[C$99n+3]))?1:parseInt(C$99i[C$99n+3])};return C$99s&&("attribute"==C$99r?C$99t:C$99e).push(C$99a),":"==C$99i[C$99n+3]&&(C$99a.type=C$99i[C$99n+4],C$99n+=2),C$99n+2;},e$g.addInclude=function(C$99t,C$99e){if(!C$99e||0===C$99e.length)throw new Error("add shader include file err:"+C$99t);if(e$g.includes[C$99t])throw new Error("add shader include file err, has add:"+C$99t);e$g.includes[C$99t]=new C$99ne(C$99e);},e$g.preGetParams=function(C$99t,C$99u){var C$99e=[C$99t,C$99u],C$99t={},C$99i=[],C$99n=[],C$99c={},C$99_=[];C$99t.attributes=C$99i,C$99t.uniforms=C$99n,C$99t.defines=C$99c;for(var C$99r,C$99s=0,C$99a=0;C$99a<2;C$99a++){C$99e[C$99a]=C$99e[C$99a].replace(e$g._removeAnnotation,"");var C$99o,C$99h=C$99e[C$99a].match(e$g._reg);for(C$99s=0,C$99r=C$99h.length;C$99s<C$99r;C$99s++){var C$99l=C$99h[C$99s];if("attribute"==C$99l||"uniform"==C$99l)C$99s=e$g._parseOne(C$99i,C$99n,C$99h,C$99s,C$99l,!0);else if("#define"!=C$99l){if("#ifdef"==C$99l)for(C$99c[C$99o=C$99h[++C$99s]]=C$99c[C$99o]||[],C$99s++;C$99s<C$99r;C$99s++)if("attribute"==(C$99l=C$99h[C$99s])||"uniform"==C$99l)C$99s=e$g._parseOne(C$99i,C$99n,C$99h,C$99s,C$99l,C$99_[C$99o]);else if("#else"==C$99l)for(C$99s++;C$99s<C$99r;C$99s++)if("attribute"==(C$99l=C$99h[C$99s])||"uniform"==C$99l)C$99s=e$g._parseOne(C$99i,C$99n,C$99h,C$99s,C$99l,!C$99_[C$99o]);else if("#endif"==C$99l)break;}else C$99_[C$99l=C$99h[++C$99s]]=1;}}return C$99t;},e$g.splitToWords=function(C$99t,C$99e){for(var C$99i,C$99n,C$99r=[],C$99s=-1,C$99a=0,C$99o=C$99t.length;C$99a<C$99o;C$99a++)if(C$99i=C$99t.charAt(C$99a),0<=" \t=+-*/&%!<>()'\",;".indexOf(C$99i)){if(0<=C$99s&&1<C$99a-C$99s&&(C$99n=C$99t.substr(C$99s,C$99a-C$99s),C$99r.push(C$99n)),'"'==C$99i||"'"==C$99i){var C$99h=C$99t.indexOf(C$99i,C$99a+1);if(C$99h<0)throw"Sharder err:"+C$99t;C$99r.push(C$99t.substr(C$99a+1,C$99h-C$99a-1)),C$99a=C$99h,C$99s=-1;continue;}"("==C$99i&&C$99e&&0<C$99r.length&&(C$99n=C$99r[C$99r.length-1]+";","vec4;main;".indexOf(C$99n)<0&&(C$99e.useFuns+=C$99n)),C$99s=-1;}else C$99s<0&&(C$99s=C$99a);return C$99s<C$99o&&1<C$99o-C$99s&&(C$99n=C$99t.substr(C$99s,C$99o-C$99s),C$99r.push(C$99n)),C$99r;},e$g.IFDEF_NO=0,e$g.IFDEF_YES=1,e$g.IFDEF_ELSE=2,e$g.IFDEF_PARENT=3,e$g._removeAnnotation=new RegExp("(/\\*([^*]|[\\r\\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+/)|(//.*)","g"),e$g._reg=new RegExp("(\".*\")|('.*')|([#\\w\\*-\\.+/()=<>{}\\\\]+)|([,;:\\\\])","g"),e$g._splitToWordExps=new RegExp("[(\".*\")]+|[('.*')]+|([ \\t=\\+\\-*/&%!<>!%(),;])","g"),e$g.includes={},C$99e(e$g,["shaderParamsMap",function(){return this.shaderParamsMap={float:5126,int:5124,bool:35670,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676,sampler2D:35678,samplerCube:35680};},"_splitToWordExps3",function(){return this._splitToWordExps3=new RegExp("[ \\t=\\+\\-*/&%!<>!%(),;\\|]","g");}]),e$g.__init$=function(){function e$d(C$99t){this.script=null,this.codes={},this.funs={},this.curUseID=-1,this.funnames="",this.script=C$99t;for(var C$99e=0,C$99i=0,C$99n=0;!((C$99e=C$99t.indexOf("#begin",C$99e))<0);){for(C$99n=C$99e+5;!((C$99n=C$99t.indexOf("#end",C$99n))<0)&&"i"===C$99t.charAt(C$99n+4);)C$99n+=5;if(C$99n<0)throw"add include err,no #end:"+C$99t;C$99i=C$99t.indexOf("\n",C$99e);var C$99r=e$g.splitToWords(C$99t.substr(C$99e,C$99i-C$99e),null);"code"==C$99r[1]?this.codes[C$99r[2]]=C$99t.substr(C$99i+1,C$99n-C$99i-1):"function"==C$99r[1]&&(C$99i=C$99t.indexOf("function",C$99e),C$99i+="function".length,this.funs[C$99r[3]]=C$99t.substr(C$99i+1,C$99n-C$99i-1),this.funnames+=C$99r[3]+";"),C$99e=C$99n+1;}}function e$l(C$99t){this.childs=[],this.text="",this.parent=null,this.name=null,this.noCompile=!1,this.includefiles=null,this.condition=null,this.conditionType=0,this.useFuns="",this.z=0,this.src=null,this.includefiles=C$99t;}var C$99t;C$99i(e$l,""),(C$99t=e$l.prototype).setParent=function(C$99t){C$99t.childs.push(this),this.z=C$99t.z+1,this.parent=C$99t;},C$99t.setCondition=function(C$99t,C$99e){C$99t&&(this.conditionType=C$99e,C$99t=C$99t.replace(/(\s*$)/g,""),this.condition=function(){return this[C$99t];},this.condition.__condition=C$99t);},C$99t.toscript=function(C$99t,C$99e){return this._toscript(C$99t,C$99e,++e$l.__id);},C$99t._toscript=function(C$99n,C$99r,C$99s){if(this.childs.length<1&&!this.text)return C$99r;if(C$99r.length,this.condition){var C$99t=!!this.condition.call(C$99n);if(!(C$99t=2===this.conditionType?!C$99t:C$99t))return C$99r;}if(this.text&&C$99r.push(this.text),0<this.childs.length&&this.childs.forEach(function(C$99t,C$99e,C$99i){C$99t._toscript(C$99n,C$99r,C$99s);}),0<this.includefiles.length&&0<this.useFuns.length)for(var C$99e,C$99i=0,C$99a=this.includefiles.length;C$99i<C$99a;C$99i++)this.includefiles[C$99i].curUseID!=C$99s&&0<(C$99e=this.includefiles[C$99i].file.getFunsScript(this.useFuns)).length&&(this.includefiles[C$99i].curUseID=C$99s,C$99r[0]=C$99e+C$99r[0]);return C$99r;},e$l.__id=1,C$99ie=e$l,C$99i(e$d,""),(C$99t=e$d.prototype).getWith=function(C$99t){var C$99e=C$99t?this.codes[C$99t]:this.script;if(!C$99e)throw"get with error:"+C$99t;return C$99e;},C$99t.getFunsScript=function(C$99t){var C$99e="";for(var C$99i in this.funs)0<=C$99t.indexOf(C$99i+";")&&(C$99e+=this.funs[C$99i]);return C$99e;},C$99ne=e$d;},e$g),C$99u=function(){function e$A(){}return C$99i(e$A,"laya.webgl.WebGL"),e$A._uint8ArraySlice=function(){for(var C$99t=this.length,C$99e=new Uint8Array(this.length),C$99i=0;C$99i<C$99t;C$99i++)C$99e[C$99i]=this[C$99i];return C$99e;},e$A._float32ArraySlice=function(){for(var C$99t=this.length,C$99e=new Float32Array(this.length),C$99i=0;C$99i<C$99t;C$99i++)C$99e[C$99i]=this[C$99i];return C$99e;},e$A._uint16ArraySlice=function(C$99t){var C$99e,C$99i=arguments,C$99n=0,C$99r=0;if(0===C$99i.length)for(C$99n=this.length,C$99e=new Uint16Array(C$99n),C$99r=0;C$99r<C$99n;C$99r++)C$99e[C$99r]=this[C$99r];else if(2===C$99i.length){var C$99s=C$99i[0],C$99a=C$99i[1];if(C$99s<C$99a)for(C$99n=C$99a-C$99s,C$99e=new Uint16Array(C$99n),C$99r=C$99s;C$99r<C$99a;C$99r++)C$99e[C$99r-C$99s]=this[C$99r];else C$99e=new Uint16Array(0);}return C$99e;},e$A.expandContext=function(){var C$99t=C$99f.prototype,C$99e=CanvasRenderingContext2D.prototype;C$99e.fillTrangles=C$99t.fillTrangles,C$99jt.__int__(null),C$99e.setIBVB=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){void 0===C$99h&&(C$99h=0),void 0===C$99l&&(C$99l=0),null===C$99i&&(this._ib=this._ib||C$99Zt.QuadrangleIB,C$99i=this._ib,C$99vt.expandIBQuadrangle(C$99i,C$99n._byteLength/64+8)),this._setIBVB(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l);},C$99e.fillTrangles=function(C$99t,C$99e,C$99i,C$99n,C$99r){this._curMat=this._curMat||C$99b.create(),this._vb=this._vb||C$99Qt.create(),this._ib||(this._ib=C$99Zt.create(),C$99vt.fillIBQuadrangle(this._ib,C$99a/4));var C$99s=this._vb,C$99a=C$99n.length>>4;C$99vt.fillTranglesVB(C$99s,C$99e,C$99i,C$99n,C$99r||this._curMat,0,0),C$99vt.expandIBQuadrangle(this._ib,C$99s._byteLength/64+8);C$99n=new C$99wt(1,0);C$99n.textureHost=C$99t;C$99t=new C$99qt("attribute vec2 position; attribute vec2 texcoord; uniform vec2 size; uniform mat4 mmat; varying vec2 v_texcoord; void main() { vec4 p=vec4(position.xy,0.0,1.0);vec4 pos=mmat*p; gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0); v_texcoord = texcoord; }","precision mediump float; varying vec2 v_texcoord; uniform sampler2D texture; #ifdef TXTALPHA uniform sampler2D texture1; #endif void main() {vec4 color= texture2D(texture, v_texcoord); #ifdef TXTALPHA color.a = texture2D(texture1, v_texcoord).a; #endif color.a*=1.0; gl_FragColor= color;}");C$99s._vertType=3,this._setIBVB(C$99e,C$99i,this._ib,C$99s,6*C$99a,C$99r,C$99t,C$99n,0,0);};},e$A.enable=function(){if(C$99o.__init__(),C$99S.isConchApp&&!C$99S.isConchWebGL)return C$99I.skinAniSprite=function(){return new C$99it();},e$A.expandContext(),!1;if(C$99I.getWebGLContext=function(C$99t){for(var C$99e,C$99i=["webgl","experimental-webgl","webkit-3d","moz-webgl"],C$99n=0;C$99n<C$99i.length;C$99n++){try{C$99e=C$99t.getContext(C$99i[C$99n],{stencil:C$99m.isStencil,alpha:C$99m.isAlpha,antialias:C$99m.isAntialias,premultipliedAlpha:C$99m.premultipliedAlpha,preserveDrawingBuffer:C$99m.preserveDrawingBuffer});}catch(C$99t){}if(C$99e)return C$99e;}return null;},null==(e$A.mainContext=e$A.mainContext||C$99I.getWebGLContext(C$99S._mainCanvas)))return!1;if(C$99S.isWebGL)return!0;C$99$.create=function(C$99t,C$99e){return new C$99Jt(C$99t,C$99e);},C$99y.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){return new C$99Yt(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a);},C$99S.WebGL=e$A,C$99S.isWebGL=!0,C$99pt.__init__(),C$99I.createRenderSprite=function(C$99t,C$99e){return new C$99Tt(C$99t,C$99e);},C$99I.createWebGLContext2D=function(C$99t){return new C$99bt(C$99t);},C$99I.changeWebGLSize=function(C$99t,C$99e){laya.webgl.WebGL.onStageResize(C$99t,C$99e);},C$99I.createGraphics=function(){return new C$99yt();};var C$99t=C$99I.createFilterAction;return C$99I.createFilterAction=C$99t||function(C$99t){return new C$99St();},C$99I.clear=function(C$99t){C$99l.worldScissorTest&&laya.webgl.WebGL.mainContext.disable(3089);var C$99e=C$99S.context.ctx,C$99t=0==C$99e._submits._length||C$99m.preserveDrawingBuffer?C$99d.create(C$99t)._color:C$99E._wgColor;C$99t&&C$99e.clearBG(C$99t[0],C$99t[1],C$99t[2],C$99t[3]),C$99l.clear();},C$99I.addToAtlas=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!1);C$99e=C$99t.bitmap;C$99S.optimizeTextureMemory(C$99t.url,C$99t)?C$99g.__typeof(C$99e,"laya.webgl.resource.IMergeAtlasBitmap")&&C$99e.allowMerageInAtlas&&C$99e.on("recovered",C$99t,C$99t.addTextureToAtlas):C$99e.enableMerageInAtlas=!1;},C$99I.isAtlas=function(C$99t){return C$99t instanceof laya.webgl.atlas.AtlasWebGLCanvas;},C$99W._enable(),C$99I.beginFlush=function(){for(var C$99t=C$99W.instance,C$99e=C$99t.getAtlaserCount(),C$99i=0;C$99i<C$99e;C$99i++){var C$99n=C$99t.getAtlaserByIndex(C$99i).texture;C$99n._flashCacheImageNeedFlush&&C$99I.flashFlushImage(C$99n);}},C$99I.drawToCanvas=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){(C$99i<=0||C$99n<=0)&&console.log("[error] canvasWidth and canvasHeight should greater than zero"),C$99r|=0,C$99s|=0;var C$99a=C$99Lt.create(C$99i|=0,C$99n|=0,6408,5121,0,!1);C$99a.start(),C$99a.clear(0,0,0,0),C$99S.context.clear(),C$99M.renders[C$99e]._fun(C$99t,C$99S.context,C$99r,C$99l.height-C$99n+C$99s),C$99S.context.flush(),C$99a.end();C$99e=C$99a.getData(0,0,C$99i,C$99n);if(C$99a.recycle(),C$99e.byteLength==C$99i*C$99n*4)return(C$99t=new C$99Ht())._canvas=C$99o.createElement("canvas"),C$99t.size(C$99i,C$99n),C$99r=C$99t._canvas.getContext("2d"),C$99o.canvas.size(C$99i,C$99n),(C$99a=(C$99s=C$99o.context).createImageData(C$99i,C$99n)).data.set(new Uint8ClampedArray(C$99e.buffer)),C$99t._imgData=C$99a,C$99s.putImageData(C$99a,0,0),C$99r.save(),C$99r.translate(0,C$99n),C$99r.scale(1,-1),C$99r.drawImage(C$99o.canvas.source,0,0),C$99r.restore(),C$99t;console.log("drawToCanvas error: w:"+C$99i+",h:"+C$99n+",datalen:"+C$99e.byteLength);},C$99I.createFilterAction=function(C$99t){var C$99e;return C$99e=32===C$99t?new C$99St():C$99e;},C$99I.addTextureToAtlas=function(C$99t){C$99t._uvID++,C$99W._atlasRestore++,C$99t.bitmap.enableMerageInAtlas&&C$99W.instance.addToAtlas(C$99t);},C$99I.getTexturePixels=function(C$99t,C$99e,C$99u,C$99i,C$99n){C$99S.context.ctx.clear();var C$99r=new C$99D();C$99r.graphics.drawTexture(C$99t,-C$99e,-C$99u);C$99t=C$99Lt.create(C$99i,C$99n);C$99t.start(),C$99t.clear(0,0,0,0),C$99r.render(C$99S.context,0,0),C$99S.context.ctx.flush(),C$99t.end();for(var C$99s,C$99a=C$99t.getData(0,0,C$99i,C$99n),C$99o=[],C$99h=C$99n-1;0<=C$99h;C$99h--)for(var C$99l=0;C$99l<C$99i;C$99l++)C$99o.push(C$99a[C$99s=4*(C$99h*C$99i+C$99l)]),C$99o.push(C$99a[1+C$99s]),C$99o.push(C$99a[2+C$99s]),C$99o.push(C$99a[3+C$99s]);return C$99o;},C$99I.skinAniSprite=function(){return new C$99it();},C$99v.create=function(C$99t,C$99e){var C$99i=new C$99Ht();return C$99i._imgData=C$99e,C$99i.flipY=!1,C$99i;},C$99x._filterStart=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99t.getValue("bounds"),C$99s=C$99Lt.create(C$99s.width,C$99s.height);C$99s.start(),C$99s.clear(0,0,0,0),C$99t.addValue("src",C$99s),C$99t.addValue("ScissorTest",C$99l.worldScissorTest),C$99l.worldScissorTest&&((C$99s=new C$99T()).copyFrom(C$99i.ctx._clipRect),C$99t.addValue("clipRect",C$99s),C$99l.worldScissorTest=!1,laya.webgl.WebGL.mainContext.disable(3089));},C$99x._filterEnd=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99t.getValue("bounds");C$99t.getValue("src").end();C$99s=C$99Lt.create(C$99s.width,C$99s.height);C$99s.start(),C$99s.clear(0,0,0,0),C$99t.addValue("out",C$99s),C$99e._set$P("_filterCache",C$99s),C$99e._set$P("_isHaveGlowFilter",C$99t.getValue("_isHaveGlowFilter"));},C$99x._EndTarget=function(C$99t,C$99e){C$99t.getValue("src").recycle(),C$99t.getValue("out").end(),C$99t.getValue("ScissorTest")&&(C$99l.worldScissorTest=!0,laya.webgl.WebGL.mainContext.enable(3089),C$99e.ctx.save(),C$99t=C$99t.getValue("clipRect"),C$99e.ctx.clipRect(C$99t.x,C$99t.y,C$99t.width,C$99t.height));},C$99x._useSrc=function(C$99t){var C$99e=C$99t.getValue("out");C$99e.end(),(C$99e=C$99t.getValue("src")).start(),C$99e.clear(0,0,0,0);},C$99x._endSrc=function(C$99t){C$99t.getValue("src").end();},C$99x._useOut=function(C$99t){var C$99e=C$99t.getValue("src");C$99e.end(),(C$99e=C$99t.getValue("out")).start(),C$99e.clear(0,0,0,0);},C$99x._endOut=function(C$99t){C$99t.getValue("out").end();},C$99x._recycleScope=function(C$99t){C$99t.recycle();},C$99x._filter=function(C$99t,C$99e,C$99i,C$99n){var C$99u=this._next;if(C$99u){var C$99c,C$99r,C$99_=C$99t.filters,C$99d=C$99_.length;if(1==C$99d&&32==C$99_[0].type)return C$99e.ctx.save(),C$99e.ctx.setFilters([C$99_[0]]),C$99u._fun.call(C$99u,C$99t,C$99e,C$99i,C$99n),void C$99e.ctx.restore();var C$99s=C$99lt.create(),C$99a=C$99w.TEMP,C$99o=C$99e.ctx._getTransformMatrix(),C$99h=C$99b.create();C$99o.copyTo(C$99h);var C$99o=0,C$99f=0,C$99p=!1,C$99m=C$99t._$P._filterCache||null;if(!C$99m||C$99t._repaint){C$99p=C$99t._isHaveGlowFilter(),C$99s.addValue("_isHaveGlowFilter",C$99p),C$99p&&(C$99o=50,C$99f=25),(C$99r=new C$99T()).copyFrom(C$99t.getSelfBounds()),C$99r.x+=C$99t.x,C$99r.y+=C$99t.y,C$99r.x-=C$99t.pivotX+4,C$99r.y-=C$99t.pivotY+4;var C$99g=C$99r.x,C$99v=C$99r.y;if(C$99r.width+=C$99o+8,C$99r.height+=C$99o+8,C$99a.x=C$99r.x*C$99h.a+C$99r.y*C$99h.c,C$99a.y=C$99r.y*C$99h.d+C$99r.x*C$99h.b,C$99r.x=C$99a.x,C$99r.y=C$99a.y,C$99a.x=C$99r.width*C$99h.a+C$99r.height*C$99h.c,C$99a.y=C$99r.height*C$99h.d+C$99r.width*C$99h.b,C$99r.width=C$99a.x,C$99r.height=C$99a.y,C$99r.width<=0||C$99r.height<=0)return;C$99m&&C$99m.recycle(),C$99s.addValue("bounds",C$99r);var C$99l=C$99ht.create([C$99s,C$99t,C$99e,0,0],C$99x._filterStart);C$99e.addRenderObject(C$99l),C$99e.ctx._renderKey=0,C$99e.ctx._shader2D.glTexture=null;C$99g=C$99t.x-C$99g+C$99f,C$99v=C$99t.y-C$99v+C$99f;C$99u._fun.call(C$99u,C$99t,C$99e,C$99g,C$99v),C$99l=C$99ht.create([C$99s,C$99t,C$99e,0,0],C$99x._filterEnd),C$99e.addRenderObject(C$99l);for(var C$99$=0;C$99$<C$99d;C$99$++)0!=C$99$&&(C$99l=C$99ht.create([C$99s],C$99x._useSrc),C$99e.addRenderObject(C$99l),C$99c=C$99wt.create(1,0),C$99b.TEMP.identity(),C$99e.ctx.drawTarget(C$99s,0,0,C$99r.width,C$99r.height,C$99b.TEMP,"out",C$99c,null,C$99G.TOINT.overlay),C$99l=C$99ht.create([C$99s],C$99x._useOut),C$99e.addRenderObject(C$99l)),C$99_[C$99$].action.apply3d(C$99s,C$99t,C$99e,0,0);C$99l=C$99ht.create([C$99s,C$99e],C$99x._EndTarget),C$99e.addRenderObject(C$99l);}else{if((C$99p=!!C$99t._$P._isHaveGlowFilter&&C$99t._$P._isHaveGlowFilter)&&(C$99o=50,C$99f=25),(C$99r=C$99t.getBounds()).width<=0||C$99r.height<=0)return;C$99r.width+=C$99o,C$99r.height+=C$99o,C$99a.x=C$99r.x*C$99h.a+C$99r.y*C$99h.c,C$99a.y=C$99r.y*C$99h.d+C$99r.x*C$99h.b,C$99r.x=C$99a.x,C$99r.y=C$99a.y,C$99a.x=C$99r.width*C$99h.a+C$99r.height*C$99h.c,C$99a.y=C$99r.height*C$99h.d+C$99r.width*C$99h.b,C$99r.width=C$99a.x,C$99r.height=C$99a.y,C$99s.addValue("out",C$99m);}C$99i=C$99i-C$99f-C$99t.x,C$99n=C$99n-C$99f-C$99t.y,C$99a.setTo(C$99i,C$99n),C$99h.transformPoint(C$99a),C$99i=C$99a.x+C$99r.x,C$99n=C$99a.y+C$99r.y,C$99c=C$99wt.create(1,0),C$99b.TEMP.identity(),C$99e.ctx.drawTarget(C$99s,C$99i,C$99n,C$99r.width,C$99r.height,C$99b.TEMP,"out",C$99c,null,C$99G.TOINT.overlay),C$99l=C$99ht.create([C$99s],C$99x._recycleScope),C$99e.addRenderObject(C$99l),C$99h.destroy();}},Float32Array.prototype.slice||(Float32Array.prototype.slice=e$A._float32ArraySlice),Uint16Array.prototype.slice||(Uint16Array.prototype.slice=e$A._uint16ArraySlice),Uint8Array.prototype.slice||(Uint8Array.prototype.slice=e$A._uint8ArraySlice),!0;},e$A.onStageResize=function(C$99t,C$99e){null!=e$A.mainContext&&(e$A.mainContext.viewport(0,0,C$99t,C$99e),C$99l.width=C$99t,C$99l.height=C$99e);},e$A.onInvalidGLRes=function(){C$99W.instance.freeAll(),C$99A.releaseContentManagers(!0),e$A.doNodeRepaint(C$99g.stage),e$A.mainContext.viewport(0,0,C$99l.width,C$99l.height),C$99g.stage.event("devicelost");},e$A.doNodeRepaint=function(C$99t){0==C$99t.numChildren&&C$99t.repaint();for(var C$99e=0;C$99e<C$99t.numChildren;C$99e++)e$A.doNodeRepaint(C$99t.getChildAt(C$99e));},e$A.init=function(C$99t,C$99e,C$99i){e$A.mainCanvas=C$99t,C$99v._createContext=function(C$99t){return new C$99bt(C$99t);},C$99Ht._createContext=function(C$99t){return new C$99bt(C$99t);};var C$99n=laya.webgl.WebGL.mainContext;var C$99r;if(null!=C$99n.getShaderPrecisionFormat?(C$99t=C$99n.getShaderPrecisionFormat(35633,36338),C$99r=C$99n.getShaderPrecisionFormat(35632,36338),e$A.shaderHighPrecision=!(!C$99t.precision||!C$99r.precision)):e$A.shaderHighPrecision=!1,e$A.compressAstc=C$99n.getExtension("WEBGL_compressed_texture_astc"),e$A.compressAtc=C$99n.getExtension("WEBGL_compressed_texture_atc"),e$A.compressEtc=C$99n.getExtension("WEBGL_compressed_texture_etc"),e$A.compressEtc1=C$99n.getExtension("WEBGL_compressed_texture_etc1"),e$A.compressPvrtc=C$99n.getExtension("WEBGL_compressed_texture_pvrtc"),e$A.compressS3tc=C$99n.getExtension("WEBGL_compressed_texture_s3tc"),e$A.compressS3tc_srgb=C$99n.getExtension("WEBGL_compressed_texture_s3tc_srgb"),e$A.compressAstc=e$A.compressAstc||{},e$A.compressAtc=e$A.compressAtc||{},e$A.compressEtc=e$A.compressEtc||{},e$A.compressEtc1=e$A.compressEtc1||{},e$A.compressPvrtc=e$A.compressPvrtc||{},e$A.compressS3tc=e$A.compressS3tc||{},e$A.compressS3tc_srgb=e$A.compressS3tc_srgb||{},C$99n.deleteTexture1=C$99n.deleteTexture,C$99n.deleteTexture=function(C$99t){C$99t==C$99h.curBindTexValue&&(C$99h.curBindTexValue=null),C$99n.deleteTexture1(C$99t);},e$A.onStageResize(C$99e,C$99i),null==e$A.mainContext)throw new Error("webGL getContext err!");C$99B.__init__(),C$99W.__init__(),C$99Ct.__init__(),C$99ot.__init__(),C$99bt.__init__(),C$99wt.__init__(),C$99tt.__init__(),C$99jt.__int__(C$99n),C$99G._init_(C$99n),C$99S.isConchApp&&conch.setOnInvalidGLRes(e$A.onInvalidGLRes);},e$A.mainCanvas=null,e$A.antialias=!0,e$A.shaderHighPrecision=!1,e$A._bg_null=[0,0,0,0],e$A;}(),C$99h=function(){function e$k(){}return C$99i(e$k,"laya.webgl.WebGLContext"),e$k.UseProgram=function(C$99t){return e$k._useProgram!==C$99t&&(C$99u.mainContext.useProgram(C$99t),e$k._useProgram=C$99t,!0);},e$k.setDepthTest=function(C$99t,C$99e){C$99e!==e$k._depthTest&&((e$k._depthTest=C$99e)?C$99t.enable(2929):C$99t.disable(2929));},e$k.setDepthMask=function(C$99t,C$99e){C$99e!==e$k._depthMask&&(e$k._depthMask=C$99e,C$99t.depthMask(C$99e));},e$k.setDepthFunc=function(C$99t,C$99e){C$99e!==e$k._depthFunc&&(e$k._depthFunc=C$99e,C$99t.depthFunc(C$99e));},e$k.setBlend=function(C$99t,C$99e){C$99e!==e$k._blend&&((e$k._blend=C$99e)?C$99t.enable(3042):C$99t.disable(3042));},e$k.setBlendFunc=function(C$99t,C$99e,C$99i){C$99e===e$k._sFactor&&C$99i===e$k._dFactor||(e$k._sFactor=C$99e,e$k._dFactor=C$99i,C$99t.blendFunc(C$99e,C$99i));},e$k.setCullFace=function(C$99t,C$99e){C$99e!==e$k._cullFace&&((e$k._cullFace=C$99e)?C$99t.enable(2884):C$99t.disable(2884));},e$k.setFrontFace=function(C$99t,C$99e){C$99e!==e$k._frontFace&&(e$k._frontFace=C$99e,C$99t.frontFace(C$99e));},e$k.bindTexture=function(C$99t,C$99e,C$99i){C$99t.bindTexture(C$99e,C$99i),e$k.curBindTexTarget=C$99e,e$k.curBindTexValue=C$99i;},e$k.DEPTH_BUFFER_BIT=256,e$k.STENCIL_BUFFER_BIT=1024,e$k.COLOR_BUFFER_BIT=16384,e$k.POINTS=0,e$k.LINES=1,e$k.LINE_LOOP=2,e$k.LINE_STRIP=3,e$k.TRIANGLES=4,e$k.TRIANGLE_STRIP=5,e$k.TRIANGLE_FAN=6,e$k.ZERO=0,e$k.ONE=1,e$k.SRC_COLOR=768,e$k.ONE_MINUS_SRC_COLOR=769,e$k.SRC_ALPHA=770,e$k.ONE_MINUS_SRC_ALPHA=771,e$k.DST_ALPHA=772,e$k.ONE_MINUS_DST_ALPHA=773,e$k.DST_COLOR=774,e$k.ONE_MINUS_DST_COLOR=775,e$k.SRC_ALPHA_SATURATE=776,e$k.FUNC_ADD=32774,e$k.BLEND_EQUATION=32777,e$k.BLEND_EQUATION_RGB=32777,e$k.BLEND_EQUATION_ALPHA=34877,e$k.FUNC_SUBTRACT=32778,e$k.FUNC_REVERSE_SUBTRACT=32779,e$k.BLEND_DST_RGB=32968,e$k.BLEND_SRC_RGB=32969,e$k.BLEND_DST_ALPHA=32970,e$k.BLEND_SRC_ALPHA=32971,e$k.CONSTANT_COLOR=32769,e$k.ONE_MINUS_CONSTANT_COLOR=32770,e$k.CONSTANT_ALPHA=32771,e$k.ONE_MINUS_CONSTANT_ALPHA=32772,e$k.BLEND_COLOR=32773,e$k.ARRAY_BUFFER=34962,e$k.ELEMENT_ARRAY_BUFFER=34963,e$k.ARRAY_BUFFER_BINDING=34964,e$k.ELEMENT_ARRAY_BUFFER_BINDING=34965,e$k.STREAM_DRAW=35040,e$k.STATIC_DRAW=35044,e$k.DYNAMIC_DRAW=35048,e$k.BUFFER_SIZE=34660,e$k.BUFFER_USAGE=34661,e$k.CURRENT_VERTEX_ATTRIB=34342,e$k.FRONT=1028,e$k.BACK=1029,e$k.CULL_FACE=2884,e$k.FRONT_AND_BACK=1032,e$k.BLEND=3042,e$k.DITHER=3024,e$k.STENCIL_TEST=2960,e$k.DEPTH_TEST=2929,e$k.SCISSOR_TEST=3089,e$k.POLYGON_OFFSET_FILL=32823,e$k.SAMPLE_ALPHA_TO_COVERAGE=32926,e$k.SAMPLE_COVERAGE=32928,e$k.NO_ERROR=0,e$k.INVALID_ENUM=1280,e$k.INVALID_VALUE=1281,e$k.INVALID_OPERATION=1282,e$k.OUT_OF_MEMORY=1285,e$k.CW=2304,e$k.CCW=2305,e$k.LINE_WIDTH=2849,e$k.ALIASED_POINT_SIZE_RANGE=33901,e$k.ALIASED_LINE_WIDTH_RANGE=33902,e$k.CULL_FACE_MODE=2885,e$k.FRONT_FACE=2886,e$k.DEPTH_RANGE=2928,e$k.DEPTH_WRITEMASK=2930,e$k.DEPTH_CLEAR_VALUE=2931,e$k.DEPTH_FUNC=2932,e$k.STENCIL_CLEAR_VALUE=2961,e$k.STENCIL_FUNC=2962,e$k.STENCIL_FAIL=2964,e$k.STENCIL_PASS_DEPTH_FAIL=2965,e$k.STENCIL_PASS_DEPTH_PASS=2966,e$k.STENCIL_REF=2967,e$k.STENCIL_VALUE_MASK=2963,e$k.STENCIL_WRITEMASK=2968,e$k.STENCIL_BACK_FUNC=34816,e$k.STENCIL_BACK_FAIL=34817,e$k.STENCIL_BACK_PASS_DEPTH_FAIL=34818,e$k.STENCIL_BACK_PASS_DEPTH_PASS=34819,e$k.STENCIL_BACK_REF=36003,e$k.STENCIL_BACK_VALUE_MASK=36004,e$k.STENCIL_BACK_WRITEMASK=36005,e$k.VIEWPORT=2978,e$k.SCISSOR_BOX=3088,e$k.COLOR_CLEAR_VALUE=3106,e$k.COLOR_WRITEMASK=3107,e$k.UNPACK_ALIGNMENT=3317,e$k.PACK_ALIGNMENT=3333,e$k.MAX_TEXTURE_SIZE=3379,e$k.MAX_VIEWPORT_DIMS=3386,e$k.SUBPIXEL_BITS=3408,e$k.RED_BITS=3410,e$k.GREEN_BITS=3411,e$k.BLUE_BITS=3412,e$k.ALPHA_BITS=3413,e$k.DEPTH_BITS=3414,e$k.STENCIL_BITS=3415,e$k.POLYGON_OFFSET_UNITS=10752,e$k.POLYGON_OFFSET_FACTOR=32824,e$k.TEXTURE_BINDING_2D=32873,e$k.SAMPLE_BUFFERS=32936,e$k.SAMPLES=32937,e$k.SAMPLE_COVERAGE_VALUE=32938,e$k.SAMPLE_COVERAGE_INVERT=32939,e$k.NUM_COMPRESSED_TEXTURE_FORMATS=34466,e$k.COMPRESSED_TEXTURE_FORMATS=34467,e$k.DONT_CARE=4352,e$k.FASTEST=4353,e$k.NICEST=4354,e$k.GENERATE_MIPMAP_HINT=33170,e$k.BYTE=5120,e$k.UNSIGNED_BYTE=5121,e$k.SHORT=5122,e$k.UNSIGNED_SHORT=5123,e$k.INT=5124,e$k.UNSIGNED_INT=5125,e$k.FLOAT=5126,e$k.DEPTH_COMPONENT=6402,e$k.ALPHA=6406,e$k.RGB=6407,e$k.RGBA=6408,e$k.LUMINANCE=6409,e$k.LUMINANCE_ALPHA=6410,e$k.UNSIGNED_SHORT_4_4_4_4=32819,e$k.UNSIGNED_SHORT_5_5_5_1=32820,e$k.UNSIGNED_SHORT_5_6_5=33635,e$k.FRAGMENT_SHADER=35632,e$k.VERTEX_SHADER=35633,e$k.MAX_VERTEX_ATTRIBS=34921,e$k.MAX_VERTEX_UNIFORM_VECTORS=36347,e$k.MAX_VARYING_VECTORS=36348,e$k.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,e$k.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,e$k.MAX_TEXTURE_IMAGE_UNITS=34930,e$k.MAX_FRAGMENT_UNIFORM_VECTORS=36349,e$k.SHADER_TYPE=35663,e$k.DELETE_STATUS=35712,e$k.LINK_STATUS=35714,e$k.VALIDATE_STATUS=35715,e$k.ATTACHED_SHADERS=35717,e$k.ACTIVE_UNIFORMS=35718,e$k.ACTIVE_ATTRIBUTES=35721,e$k.SHADING_LANGUAGE_VERSION=35724,e$k.CURRENT_PROGRAM=35725,e$k.NEVER=512,e$k.LESS=513,e$k.EQUAL=514,e$k.LEQUAL=515,e$k.GREATER=516,e$k.NOTEQUAL=517,e$k.GEQUAL=518,e$k.ALWAYS=519,e$k.KEEP=7680,e$k.REPLACE=7681,e$k.INCR=7682,e$k.DECR=7683,e$k.INVERT=5386,e$k.INCR_WRAP=34055,e$k.DECR_WRAP=34056,e$k.VENDOR=7936,e$k.RENDERER=7937,e$k.VERSION=7938,e$k.NEAREST=9728,e$k.LINEAR=9729,e$k.NEAREST_MIPMAP_NEAREST=9984,e$k.LINEAR_MIPMAP_NEAREST=9985,e$k.NEAREST_MIPMAP_LINEAR=9986,e$k.LINEAR_MIPMAP_LINEAR=9987,e$k.TEXTURE_MAG_FILTER=10240,e$k.TEXTURE_MIN_FILTER=10241,e$k.TEXTURE_WRAP_S=10242,e$k.TEXTURE_WRAP_T=10243,e$k.TEXTURE_2D=3553,e$k.TEXTURE=5890,e$k.TEXTURE_CUBE_MAP=34067,e$k.TEXTURE_BINDING_CUBE_MAP=34068,e$k.TEXTURE_CUBE_MAP_POSITIVE_X=34069,e$k.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,e$k.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,e$k.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,e$k.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,e$k.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,e$k.MAX_CUBE_MAP_TEXTURE_SIZE=34076,e$k.TEXTURE0=33984,e$k.TEXTURE1=33985,e$k.TEXTURE2=33986,e$k.TEXTURE3=33987,e$k.TEXTURE4=33988,e$k.TEXTURE5=33989,e$k.TEXTURE6=33990,e$k.TEXTURE7=33991,e$k.TEXTURE8=33992,e$k.TEXTURE9=33993,e$k.TEXTURE10=33994,e$k.TEXTURE11=33995,e$k.TEXTURE12=33996,e$k.TEXTURE13=33997,e$k.TEXTURE14=33998,e$k.TEXTURE15=33999,e$k.TEXTURE16=34e3,e$k.TEXTURE17=34001,e$k.TEXTURE18=34002,e$k.TEXTURE19=34003,e$k.TEXTURE20=34004,e$k.TEXTURE21=34005,e$k.TEXTURE22=34006,e$k.TEXTURE23=34007,e$k.TEXTURE24=34008,e$k.TEXTURE25=34009,e$k.TEXTURE26=34010,e$k.TEXTURE27=34011,e$k.TEXTURE28=34012,e$k.TEXTURE29=34013,e$k.TEXTURE30=34014,e$k.TEXTURE31=34015,e$k.ACTIVE_TEXTURE=34016,e$k.REPEAT=10497,e$k.CLAMP_TO_EDGE=33071,e$k.MIRRORED_REPEAT=33648,e$k.FLOAT_VEC2=35664,e$k.FLOAT_VEC3=35665,e$k.FLOAT_VEC4=35666,e$k.INT_VEC2=35667,e$k.INT_VEC3=35668,e$k.INT_VEC4=35669,e$k.BOOL=35670,e$k.BOOL_VEC2=35671,e$k.BOOL_VEC3=35672,e$k.BOOL_VEC4=35673,e$k.FLOAT_MAT2=35674,e$k.FLOAT_MAT3=35675,e$k.FLOAT_MAT4=35676,e$k.SAMPLER_2D=35678,e$k.SAMPLER_CUBE=35680,e$k.VERTEX_ATTRIB_ARRAY_ENABLED=34338,e$k.VERTEX_ATTRIB_ARRAY_SIZE=34339,e$k.VERTEX_ATTRIB_ARRAY_STRIDE=34340,e$k.VERTEX_ATTRIB_ARRAY_TYPE=34341,e$k.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,e$k.VERTEX_ATTRIB_ARRAY_POINTER=34373,e$k.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,e$k.COMPILE_STATUS=35713,e$k.LOW_FLOAT=36336,e$k.MEDIUM_FLOAT=36337,e$k.HIGH_FLOAT=36338,e$k.LOW_INT=36339,e$k.MEDIUM_INT=36340,e$k.HIGH_INT=36341,e$k.FRAMEBUFFER=36160,e$k.RENDERBUFFER=36161,e$k.RGBA4=32854,e$k.RGB5_A1=32855,e$k.RGB565=36194,e$k.DEPTH_COMPONENT16=33189,e$k.STENCIL_INDEX=6401,e$k.STENCIL_INDEX8=36168,e$k.DEPTH_STENCIL=34041,e$k.RENDERBUFFER_WIDTH=36162,e$k.RENDERBUFFER_HEIGHT=36163,e$k.RENDERBUFFER_INTERNAL_FORMAT=36164,e$k.RENDERBUFFER_RED_SIZE=36176,e$k.RENDERBUFFER_GREEN_SIZE=36177,e$k.RENDERBUFFER_BLUE_SIZE=36178,e$k.RENDERBUFFER_ALPHA_SIZE=36179,e$k.RENDERBUFFER_DEPTH_SIZE=36180,e$k.RENDERBUFFER_STENCIL_SIZE=36181,e$k.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,e$k.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,e$k.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,e$k.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,e$k.COLOR_ATTACHMENT0=36064,e$k.DEPTH_ATTACHMENT=36096,e$k.STENCIL_ATTACHMENT=36128,e$k.DEPTH_STENCIL_ATTACHMENT=33306,e$k.NONE=0,e$k.FRAMEBUFFER_COMPLETE=36053,e$k.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,e$k.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,e$k.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,e$k.FRAMEBUFFER_UNSUPPORTED=36061,e$k.FRAMEBUFFER_BINDING=36006,e$k.RENDERBUFFER_BINDING=36007,e$k.MAX_RENDERBUFFER_SIZE=34024,e$k.INVALID_FRAMEBUFFER_OPERATION=1286,e$k.UNPACK_FLIP_Y_WEBGL=37440,e$k.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,e$k.CONTEXT_LOST_WEBGL=37442,e$k.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,e$k.BROWSER_DEFAULT_WEBGL=37444,e$k._useProgram=null,e$k._depthTest=!0,e$k._depthMask=!0,e$k._blend=!1,e$k._cullFace=!1,e$k.curBindTexTarget=null,e$k.curBindTexValue=null,C$99e(e$k,["_depthFunc",function(){return this._depthFunc=513;},"_sFactor",function(){return this._sFactor=1;},"_dFactor",function(){return this._dFactor=0;},"_frontFace",function(){return this._frontFace=2305;}]),e$k;}(),C$99yt=function(){function e$t(){e$t.__super.call(this);}C$99i(e$t,"laya.webgl.display.GraphicsGL",C$99p);var C$99t=e$t.prototype;return C$99t.setShader=function(C$99t){this._saveToCmd(C$99S.context._setShader,[C$99t]);},C$99t.setIBVB=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._saveToCmd(C$99S.context._setIBVB,[C$99t,C$99e,C$99i,C$99n,C$99r,C$99s]);},C$99t.drawParticle=function(C$99t,C$99e,C$99i){C$99i=C$99I.createParticleTemplate2D(C$99i);C$99i.x=C$99t,C$99i.y=C$99e,this._saveToCmd(C$99S.context._drawParticle,[C$99i]);},e$t;}(),C$99bt=(C$99i(e$Z,"laya.webgl.canvas.WebGLContext2D",C$99f),(C$99t=e$Z.prototype).setIsMainContext=function(){this._isMain=!0;},C$99t.clearBG=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99u.mainContext;C$99r.clearColor(C$99t,C$99e,C$99i,C$99n),C$99r.clear(16384);},C$99t._getSubmits=function(){return this._submits;},C$99t._releaseMem=function(){if(this._submits){this._curMat.destroy(),this._curMat=null,this._shader2D.destroy(),this._shader2D=null;for(var C$99t=0,C$99e=this._submits._length;C$99t<C$99e;C$99t++)this._submits[C$99t].releaseRender();this._submits.length=0,this._submits._length=0,this._submits=null,this._curSubmit=null,this._path&&this._path.recover(),this._path=null,this._other&&(this._other.font=null),this._save=null,this._vb&&(this._vb.releaseResource(),this._vb.destroy(),this._vb.destory(),this._vb=null);}},C$99t.destroy=function(){--e$Z._contextcount,this.sprite=null,this._releaseMem(),this._targets&&this._targets.destroy(),this._targets=null,this._canvas&&this._canvas._removeReference(),this._canvas=null,this._ib&&this._ib!=C$99Zt.QuadrangleIB&&this._ib.releaseResource();},C$99t.clear=function(){this._submits||(this._other=C$99ee.DEFAULT,this._curMat=C$99b.create(),this._vb=C$99Qt.create(-1),this._submits=[],this._save=[C$99q.Create(this)],this._save.length=10,this._shader2D=new C$99tt(),this._triangleMesh=C$99Pt.getAMesh()),this._vb.clear(),this._targets&&(this._targets.repaint=!0),this._other=C$99ee.DEFAULT,this._clear=!0,this._repaint=!1,this._drawCount=1,this._renderKey=0,this._other.lineWidth=this._shader2D.ALPHA=1,this._nBlendType=0,this._clipRect=e$Z.MAXCLIPRECT,this._curSubmit=C$99ot.RENDERBASE,this._shader2D.glTexture=null,this._shader2D.fillStyle=this._shader2D.strokeStyle=C$99z.DEFAULT;for(var C$99t=0,C$99e=this._submits._length;C$99t<C$99e;C$99t++)this._submits[C$99t].releaseRender(),this._submits[C$99t]=null;this._submits._length=0,this._curMat.identity(),this._other.clear(),this._saveMark=this._save[0],this._save._length=1;},C$99t.size=function(C$99t,C$99e){if(this._width!=C$99t||this._height!=C$99e)if(0==C$99t||0==C$99e){0!=this._vb._byteLength&&(this._width=C$99t,this._height=C$99e,this._vb.clear(),this._vb.upload());for(var C$99i=0,C$99n=this._submits._length;C$99i<C$99n;C$99i++)this._submits[C$99i].releaseRender();this._submits.length=0,this._submits._length=0,this._curSubmit=null,this._path&&this._path.recover(),this._path=null,this.sprite=null,this._targets&&this._targets.destroy(),this._targets=null;}else this._width=C$99t,this._height=C$99e,this._targets&&this._targets.size(C$99t,C$99e),this._canvas.memorySize-=this._canvas.memorySize;0===C$99t&&0===C$99e&&this._releaseMem();},C$99t._getTransformMatrix=function(){return this._curMat;},C$99t.translate=function(C$99t,C$99e){0===C$99t&&0===C$99e||(C$99Q.save(this),this._curMat.bTransform&&(C$99Z.save(this),this._curMat.transformPointN(C$99w.TEMP.setTo(C$99t,C$99e)),C$99t=C$99w.TEMP.x,C$99e=C$99w.TEMP.y),this._x+=C$99t,this._y+=C$99e);},C$99t.save=function(){this._save[this._save._length++]=C$99q.Create(this);},C$99t.restore=function(){var C$99t=this._save._length;if(!(C$99t<1))for(var C$99e=C$99t-1;0<=C$99e;C$99e--){var C$99i=this._save[C$99e];if(C$99i.restore(this),C$99i.isSaveMark())return void(this._save._length=C$99e);}},C$99t._fillText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99u,C$99c,C$99_,C$99a){void 0===C$99a&&(C$99a=0);var C$99o=this._shader2D,C$99h=this._curSubmit.shaderValue,C$99r=C$99r?C$99mt.create(C$99r):this._other.font;var C$99l;C$99W.enabled?C$99o.ALPHA!==C$99h.ALPHA&&(C$99o.glTexture=null):(this._shader2D.defines.getValue(),C$99l=C$99s?C$99d.create(C$99s)._color:C$99o.colorAdd,C$99o.ALPHA===C$99h.ALPHA&&C$99l===C$99o.colorAdd&&C$99h.colorAdd===C$99o.colorAdd||(C$99o.glTexture=null,C$99o.colorAdd=C$99l)),C$99pt.drawText(this,C$99t,C$99e,this._curMat,C$99r,C$99_||this._other.textAlign,C$99s,C$99u,C$99c,C$99i,C$99n,C$99a);},C$99t.fillWords=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._fillText(null,C$99t,C$99e,C$99i,C$99n,C$99r,null,-1,null,C$99s);},C$99t.fillBorderWords=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._fillBorderText(null,C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,null);},C$99t.fillText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._fillText(C$99t,null,C$99e,C$99i,C$99n,C$99r,null,-1,C$99s);},C$99t.strokeText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._fillText(C$99t,null,C$99e,C$99i,C$99n,null,C$99r,C$99s||1,C$99a);},C$99t.fillBorderText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){this._fillBorderText(C$99t,null,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o);},C$99t._fillBorderText=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){if(!C$99W.enabled)return this._fillText(C$99t,C$99e,C$99i,C$99n,C$99r,null,C$99a,C$99o||1,C$99h),void this._fillText(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,null,-1,C$99h);var C$99u=this._shader2D,C$99l=this._curSubmit.shaderValue;C$99u.ALPHA!==C$99l.ALPHA&&(C$99u.glTexture=null);C$99l=C$99r?(e$Z._fontTemp.setFont(C$99r),e$Z._fontTemp):this._other.font;C$99pt.drawText(this,C$99t,C$99e,this._curMat,C$99l,C$99h||this._other.textAlign,C$99s,C$99a,C$99o||1,C$99i,C$99n,0);},C$99t.fillRect=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=this._vb;C$99vt.fillRectImgVb(C$99s,this._clipRect,C$99t,C$99e,C$99i,C$99n,C$99N.DEF_UV,this._curMat,this._x,this._y,0,0)&&(this._renderKey=0,C$99t=this._shader2D.fillStyle,C$99r&&(this._shader2D.fillStyle=C$99z.create(C$99r)),C$99e=this._shader2D,C$99i=this._curSubmit.shaderValue,C$99e.fillStyle===C$99i.fillStyle&&C$99e.ALPHA===C$99i.ALPHA||(C$99e.glTexture=null,(C$99n=this._curSubmit=C$99ot.createSubmit(this,this._ib,C$99s,(C$99s._byteLength-64)/32*3,C$99wt.create(2,0))).shaderValue.color=C$99e.fillStyle._color._color,C$99n.shaderValue.ALPHA=C$99e.ALPHA,this._submits[this._submits._length++]=C$99n),this._curSubmit._numEle+=6,this._shader2D.fillStyle=C$99t);},C$99t.fillTexture=function(C$99t,C$99u,C$99c,C$99e,C$99i,C$99n,C$99_,C$99r){if(C$99t.loaded&&C$99t.bitmap&&C$99t.source){var C$99d=this._vb,C$99s=C$99t.bitmap.width,C$99a=C$99t.bitmap.height,C$99o=C$99t.uv,C$99h=C$99_.x%C$99t.width,C$99l=C$99_.y%C$99t.height;if(C$99s!=C$99r.w||C$99a!=C$99r.h){if(!C$99r.w&&!C$99r.h)switch(C$99r.oy=C$99r.ox=0,C$99n){case"repeat":C$99r.width=C$99e,C$99r.height=C$99i;break;case"repeat-x":C$99r.width=C$99e,C$99l<0?C$99t.height+C$99l>C$99i?C$99r.height=C$99i:C$99r.height=C$99t.height+C$99l:(C$99r.oy=C$99l,C$99t.height+C$99l>C$99i?C$99r.height=C$99i-C$99l:C$99r.height=C$99t.height);break;case"repeat-y":C$99h<0?C$99t.width+C$99h>C$99e?C$99r.width=C$99e:C$99r.width=C$99t.width+C$99h:(C$99r.ox=C$99h,C$99t.width+C$99h>C$99e?C$99r.width=C$99e-C$99h:C$99r.width=C$99t.width),C$99r.height=C$99i;break;case"no-repeat":C$99h<0?C$99t.width+C$99h>C$99e?C$99r.width=C$99e:C$99r.width=C$99t.width+C$99h:(C$99r.ox=C$99h,C$99t.width+C$99h>C$99e?C$99r.width=C$99e-C$99h:C$99r.width=C$99t.width),C$99l<0?C$99t.height+C$99l>C$99i?C$99r.height=C$99i:C$99r.height=C$99t.height+C$99l:(C$99r.oy=C$99l,C$99t.height+C$99l>C$99i?C$99r.height=C$99i-C$99l:C$99r.height=C$99t.height);break;default:C$99r.width=C$99e,C$99r.height=C$99i;}C$99r.w=C$99s,C$99r.h=C$99a,C$99r.uv=[0,0,C$99r.width/C$99s,0,C$99r.width/C$99s,C$99r.height/C$99a,0,C$99r.height/C$99a];}var C$99f,C$99p,C$99m;C$99u+=C$99r.ox,C$99c+=C$99r.oy,C$99h-=C$99r.ox,C$99l-=C$99r.oy,C$99vt.fillRectImgVb(C$99d,this._clipRect,C$99u,C$99c,C$99r.width,C$99r.height,C$99r.uv,this._curMat,this._x,this._y,0,0)&&(this._renderKey=0,C$99_=C$99Rt.create(this,this._ib,C$99d,(C$99d._byteLength-64)/32*3,C$99wt.create(256,0)),(C$99n=(this._submits[this._submits._length++]=C$99_).shaderValue).textureHost=C$99t,C$99u=C$99o[0]*C$99s,C$99c=C$99o[1]*C$99a,C$99f=(C$99o[2]-C$99o[0])*C$99s,C$99o=(C$99o[5]-C$99o[3])*C$99a,C$99p=-C$99h/C$99s,C$99m=-C$99l/C$99a,C$99n.u_TexRange[0]=C$99u/C$99s,C$99n.u_TexRange[1]=C$99f/C$99s,C$99n.u_TexRange[2]=C$99c/C$99a,C$99n.u_TexRange[3]=C$99o/C$99a,C$99n.u_offset[0]=C$99p,C$99n.u_offset[1]=C$99m,C$99W.enabled&&!this._isMain&&C$99_.addTexture(C$99t,(C$99d._byteLength>>2)-16),(this._curSubmit=C$99_)._renderType=10017,C$99_._numEle+=6);}else this.sprite&&C$99g.timer.callLater(this,this._repaintSprite);},C$99t.setShader=function(C$99t){C$99X.save(this,1048576,this._shader2D,!0),this._shader2D.shader=C$99t;},C$99t.setFilters=function(C$99t){C$99X.save(this,2097152,this._shader2D,!0),this._shader2D.filters=C$99t,this._curSubmit=C$99ot.RENDERBASE,this._renderKey=0,this._drawCount++;},C$99t.drawTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._drawTextureM(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,null,1);},C$99t.addTextureVb=function(C$99t,C$99e,C$99i){var C$99n=this._curSubmit._vb||this._vb,C$99r=C$99n._byteLength>>2;C$99n.byteLength=C$99r+16<<2;for(var C$99s=C$99n.getFloat32Array(),C$99a=0;C$99a<16;C$99a+=4)C$99s[C$99r++]=C$99t[C$99a]+C$99e,C$99s[C$99r++]=C$99t[C$99a+1]+C$99i,C$99s[C$99r++]=C$99t[C$99a+2],C$99s[C$99r++]=C$99t[C$99a+3];this._curSubmit._numEle+=6,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle),C$99n._upload=!0;},C$99t.willDrawTexture=function(C$99t,C$99e){if(!(C$99t.loaded&&C$99t.bitmap&&C$99t.source))return this.sprite&&C$99g.timer.callLater(this,this._repaintSprite),0;var C$99i=C$99t.bitmap,C$99n=C$99i.id+this._shader2D.ALPHA*C$99e+10016;if(C$99n==this._renderKey)return C$99n;var C$99r=this._shader2D,C$99s=C$99r.ALPHA,C$99a=this._curSubmit.shaderValue;C$99r.ALPHA*=C$99e,this._renderKey=C$99n,this._drawCount++,C$99r.glTexture=C$99i;var C$99e=this._vb,C$99i=null,C$99o=C$99e._byteLength/32*3,C$99h=C$99a.textureHost&&C$99a.textureHost==C$99t&&C$99a.textureHost.alphaTexture==C$99t.alphaTexture;return C$99i=C$99Rt.create(this,this._ib,C$99e,C$99o,C$99wt.create(1,0)),(this._submits[this._submits._length++]=C$99i).shaderValue.textureHost=C$99t,C$99i._renderType=10016,C$99i._preIsSameTextureShader=10016===this._curSubmit._renderType&&C$99r.ALPHA===C$99a.ALPHA&&C$99h,this._curSubmit=C$99i,C$99r.ALPHA=C$99s,C$99n;},C$99t.drawTextures=function(C$99t,C$99e,C$99i,C$99n){if(C$99t.loaded&&C$99t.bitmap&&C$99t.source){var C$99r=this._clipRect;if(this._clipRect=e$Z.MAXCLIPRECT,this._drawTextureM(C$99t,C$99e[0],C$99e[1],C$99t.width,C$99t.height,C$99i,C$99n,null,1)){if(this._clipRect=C$99r,C$99R.drawCall++,!(C$99e.length<4)){for(var C$99s=this._curSubmit._vb||this._vb,C$99a=this._curMat.a,C$99o=this._curMat.d,C$99h=2,C$99l=C$99e.length;C$99h<C$99l;C$99h+=2)C$99vt.copyPreImgVb(C$99s,(C$99e[C$99h]-C$99e[C$99h-2])*C$99a,(C$99e[C$99h+1]-C$99e[C$99h-1])*C$99o),this._curSubmit._numEle+=6;this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle);}}else alert("drawTextures err");}else this.sprite&&C$99g.timer.callLater(this,this._repaintSprite);},C$99t._drawTextureM=function(C$99t,C$99e,C$99i,C$99u,C$99c,C$99n,C$99r,C$99_,C$99s){if(!C$99t.loaded||!C$99t.source)return this.sprite&&C$99g.timer.callLater(this,this._repaintSprite),!1;var C$99a=this._curSubmit._vb||this._vb,C$99o=C$99t.bitmap;C$99e+=C$99n,C$99i+=C$99r,this._drawCount++;C$99n=C$99o.id+this._shader2D.ALPHA*C$99s+10016;var C$99h,C$99l,C$99d;return C$99n!=this._renderKey&&(this._renderKey=C$99n,C$99r=this._curSubmit.shaderValue,C$99h=(C$99n=this._shader2D).ALPHA,C$99n.ALPHA*=C$99s,C$99n.glTexture=C$99o,C$99s=null,C$99l=(C$99o=this._vb)._byteLength/32*3,C$99d=C$99r.textureHost&&C$99r.textureHost==C$99t&&C$99r.textureHost.alphaTexture==C$99t.alphaTexture,C$99s=C$99Rt.create(this,this._ib,C$99o,C$99l,C$99wt.create(1,0)),(this._submits[this._submits._length++]=C$99s).shaderValue.textureHost=C$99t,C$99s._renderType=10016,C$99s._preIsSameTextureShader=10016===this._curSubmit._renderType&&C$99n.ALPHA===C$99r.ALPHA&&C$99d,this._curSubmit=C$99s,C$99a=this._curSubmit._vb||this._vb,C$99n.ALPHA=C$99h),!!C$99vt.fillRectImgVb(C$99a,this._clipRect,C$99e,C$99i,C$99u||C$99t.width,C$99c||C$99t.height,C$99t.uv,C$99_||this._curMat,this._x,this._y,0,0)&&(C$99W.enabled&&!this._isMain&&this._curSubmit.addTexture(C$99t,(C$99a._byteLength>>2)-16),this._curSubmit._numEle+=6,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle),!0);},C$99t._repaintSprite=function(){this.sprite&&this.sprite.repaint();},C$99t._drawText=function(C$99t,C$99e,C$99i,C$99n,C$99u,C$99c,C$99_,C$99d,C$99f,C$99p){var C$99r=C$99t.bitmap;this._drawCount++;var C$99s=C$99r.id+this._shader2D.ALPHA+10016;var C$99a,C$99o,C$99h;C$99s!=this._renderKey&&(this._renderKey=C$99s,C$99s=this._curSubmit.shaderValue,(C$99a=this._shader2D).glTexture=C$99r,C$99r=null,C$99o=(C$99l=this._vb)._byteLength/32*3,C$99h=C$99s.textureHost&&C$99s.textureHost==C$99t&&C$99s.textureHost.alphaTexture==C$99t.alphaTexture,(C$99r=C$99W.enabled?C$99Rt.create(this,this._ib,C$99l,C$99o,C$99wt.create(1,0)):C$99Rt.create(this,this._ib,C$99l,C$99o,C$99Kt.create()))._preIsSameTextureShader=10016===this._curSubmit._renderType&&C$99a.ALPHA===C$99s.ALPHA&&C$99h,(this._submits[this._submits._length++]=C$99r).shaderValue.textureHost=C$99t,C$99r._renderType=10016,this._curSubmit=C$99r),C$99t.active();var C$99l=this._curSubmit._vb||this._vb;C$99vt.fillRectImgVb(C$99l,this._clipRect,C$99e+C$99_,C$99i+C$99d,C$99n||C$99t.width,C$99u||C$99t.height,C$99t.uv,C$99c||this._curMat,this._x,this._y,C$99f,C$99p,!0)&&(C$99W.enabled&&!this._isMain&&this._curSubmit.addTexture(C$99t,(C$99l._byteLength>>2)-16),this._curSubmit._numEle+=6,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle));},C$99t.drawTextureWithTransform=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){var C$99l,C$99u,C$99c;C$99s?(C$99l=this._curMat,C$99u=this._x,C$99c=this._y,0===C$99a&&0===C$99o||(this._x=C$99a*C$99l.a+C$99o*C$99l.c,this._y=C$99o*C$99l.d+C$99a*C$99l.b),C$99s&&C$99l.bTransform?(C$99b.mul(C$99s,C$99l,e$Z._tmpMatrix),(C$99s=e$Z._tmpMatrix)._checkTransform()):(this._x+=C$99l.tx,this._y+=C$99l.ty),this._drawTextureM(C$99t,C$99e,C$99i,C$99n,C$99r,0,0,C$99s,C$99h),this._x=C$99u,this._y=C$99c):this._drawTextureM(C$99t,C$99e,C$99i,C$99n,C$99r,C$99a,C$99o,null,C$99h);},C$99t.fillQuadrangle=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=this._curSubmit,C$99a=this._vb,C$99o=this._shader2D,C$99h=C$99s.shaderValue;var C$99l;this._renderKey=0,C$99t.bitmap?(C$99l=C$99t.bitmap,C$99o.glTexture==C$99l&&C$99o.ALPHA===C$99h.ALPHA||(C$99o.glTexture=C$99l,(C$99s=this._curSubmit=C$99ot.createSubmit(this,this._ib,C$99a,C$99a._byteLength/32*3,C$99wt.create(1,0))).shaderValue.glTexture=C$99l,this._submits[this._submits._length++]=C$99s),C$99vt.fillQuadrangleImgVb(C$99a,C$99e,C$99i,C$99n,C$99t.uv,C$99r||this._curMat,this._x,this._y)):(C$99s.shaderValue.fillStyle&&C$99s.shaderValue.fillStyle.equal(C$99t)&&C$99o.ALPHA===C$99h.ALPHA||(C$99o.glTexture=null,(C$99s=this._curSubmit=C$99ot.createSubmit(this,this._ib,C$99a,C$99a._byteLength/32*3,C$99wt.create(2,0))).shaderValue.defines.add(2),C$99s.shaderValue.fillStyle=C$99z.create(C$99t),this._submits[this._submits._length++]=C$99s),C$99vt.fillQuadrangleImgVb(C$99a,C$99e,C$99i,C$99n,C$99N.DEF_UV,C$99r||this._curMat,this._x,this._y)),C$99s._numEle+=6;},C$99t.drawTexture2=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){var C$99h;0!=C$99s&&(C$99h=this._curMat,this._x=C$99t*C$99h.a+C$99e*C$99h.c,this._y=C$99e*C$99h.d+C$99t*C$99h.b,C$99r=C$99r&&(C$99h.bTransform||C$99r.bTransform?(C$99b.mul(C$99r,C$99h,e$Z._tmpMatrix),e$Z._tmpMatrix):(this._x+=C$99r.tx+C$99h.tx,this._y+=C$99r.ty+C$99h.ty,C$99b.EMPTY)),1!==C$99s||C$99a?(C$99e=this._shader2D.ALPHA,C$99t=this._nBlendType,this._shader2D.ALPHA=C$99s,C$99a&&(this._nBlendType=C$99G.TOINT(C$99a)),this._drawTextureM(C$99o[0],C$99o[1]-C$99i,C$99o[2]-C$99n,C$99o[3],C$99o[4],0,0,C$99r,1),this._shader2D.ALPHA=C$99e,this._nBlendType=C$99t):this._drawTextureM(C$99o[0],C$99o[1]-C$99i,C$99o[2]-C$99n,C$99o[3],C$99o[4],0,0,C$99r,1),this._x=this._y=0);},C$99t.drawCanvas=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99t.context;var C$99a,C$99o;this._renderKey=0,C$99s._targets?(this._submits[this._submits._length++]=C$99Et.create(C$99s,0,null),this._curSubmit=C$99ot.RENDERBASE,C$99s._targets.drawTo(this,C$99e,C$99i,C$99n,C$99r)):(C$99a=this._submits[this._submits._length++]=C$99Et.create(C$99s,this._shader2D.ALPHA,this._shader2D.filters),C$99o=C$99n/C$99t.width,C$99t=C$99r/C$99t.height,C$99a=C$99a._matrix,this._curMat.copyTo(C$99a),1!=C$99o&&1!=C$99t&&C$99a.scale(C$99o,C$99t),C$99o=C$99a.tx,C$99t=C$99a.ty,C$99a.tx=C$99a.ty=0,C$99a.transformPoint(C$99w.TEMP.setTo(C$99e,C$99i)),C$99a.translate(C$99w.TEMP.x+C$99o,C$99w.TEMP.y+C$99t),this._curSubmit=C$99ot.RENDERBASE),C$99m.showCanvasMark&&(this.save(),this.lineWidth=4,this.strokeStyle=C$99s._targets?"yellow":"green",this.strokeRect(C$99e-1,C$99i-1,C$99n+2,C$99r+2,1),this.strokeRect(C$99e,C$99i,C$99n,C$99r,1),this.restore());},C$99t.drawTarget=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99u,C$99h){void 0===C$99h&&(C$99h=-1);var C$99l=this._vb;C$99vt.fillRectImgVb(C$99l,this._clipRect,C$99e,C$99i,C$99n,C$99r,C$99u||C$99N.DEF_UV,C$99s||this._curMat,this._x,this._y,0,0)&&(this._renderKey=0,this._shader2D.glTexture=null,this._curSubmit.shaderValue,(C$99e=this._curSubmit=C$99dt.create(this,this._ib,C$99l,(C$99l._byteLength-64)/32*3,C$99o,C$99a)).blendType=-1==C$99h?this._nBlendType:C$99h,C$99e.scope=C$99t,this._submits[this._submits._length++]=C$99e,this._curSubmit._numEle+=6);},C$99t.mixRGBandAlpha=function(C$99t){return this._mixRGBandAlpha(C$99t,this._shader2D.ALPHA);},C$99t._mixRGBandAlpha=function(C$99t,C$99e){var C$99i=(4278190080&C$99t)>>>24;return 0!=C$99i?C$99i*=C$99e:C$99i=255*C$99e,16777215&C$99t|C$99i<<24;},C$99t.drawTriangles=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99u,C$99c){if(!C$99t.loaded||!C$99t.source)return this.sprite&&C$99g.timer.callLater(this,this._repaintSprite),!1;this._drawCount++,C$99t.bitmap;var C$99o=this._mixRGBandAlpha(4294967295,C$99o),C$99h=(C$99n.length,C$99s.length);this._renderKey=-1;var C$99l=this._curSubmit=C$99Rt.create(this,this._triangleMesh.getIBR(),this._triangleMesh.getVBR(),this._triangleMesh.indexNum,C$99wt.create(1,0));return C$99l.shaderValue.textureHost=C$99t,C$99l._renderType=10016,this._submits[this._submits._length++]=C$99l,C$99a?(e$Z._tmpMatrix.a=C$99a.a,e$Z._tmpMatrix.b=C$99a.b,e$Z._tmpMatrix.c=C$99a.c,e$Z._tmpMatrix.d=C$99a.d,e$Z._tmpMatrix.tx=C$99a.tx+C$99e,e$Z._tmpMatrix.ty=C$99a.ty+C$99i,C$99b.mul(e$Z._tmpMatrix,this._curMat,e$Z._tmpMatrix)):(e$Z._tmpMatrix.a=this._curMat.a,e$Z._tmpMatrix.b=this._curMat.b,e$Z._tmpMatrix.c=this._curMat.c,e$Z._tmpMatrix.d=this._curMat.d,e$Z._tmpMatrix.tx=this._curMat.tx+C$99e,e$Z._tmpMatrix.ty=this._curMat.ty+C$99i),this._triangleMesh.addData(C$99n,C$99r,C$99s,e$Z._tmpMatrix,C$99o,this),this._curSubmit._numEle+=C$99h,this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle),!0;},C$99t.transform=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){C$99Z.save(this),C$99b.mul(C$99b.TEMP.setTo(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s),this._curMat,this._curMat),this._curMat._checkTransform();},C$99t.setTransformByMatrix=function(C$99t){C$99t.copyTo(this._curMat);},C$99t.transformByMatrix=function(C$99t){C$99Z.save(this),C$99b.mul(C$99t,this._curMat,this._curMat),this._curMat._checkTransform();},C$99t.rotate=function(C$99t){C$99Z.save(this),this._curMat.rotateEx(C$99t);},C$99t.scale=function(C$99t,C$99e){C$99Z.save(this),this._curMat.scaleEx(C$99t,C$99e);},C$99t.clipRect=function(C$99t,C$99e,C$99i,C$99n){var C$99r,C$99s,C$99a,C$99o,C$99h,C$99l;0!=this._curMat.b||0!=this._curMat.c?(this._renderKey=0,C$99h=C$99_t.create(4),this.addRenderObject(C$99h),C$99r=(C$99h=this._vb)._byteLength>>2,C$99vt.fillRectImgVb(C$99h,null,C$99t,C$99e,C$99i,C$99n,C$99N.DEF_UV,this._curMat,this._x,this._y,0,0)?(this._shader2D.glTexture=null,(C$99s=this._curSubmit=C$99ot.createSubmit(this,this._ib,C$99h,(C$99h._byteLength-64)/32*3,C$99wt.create(2,0))).shaderValue.ALPHA=1,this._submits[this._submits._length++]=C$99s,this._curSubmit._numEle+=6):alert("clipRect calc stencil rect error"),C$99s=C$99_t.create(5),this.addRenderObject(C$99s),C$99h=C$99h.getFloat32Array(),C$99o=Math.min(Math.min(Math.min(C$99h[C$99r],C$99h[4+C$99r]),C$99h[8+C$99r]),C$99h[12+C$99r]),C$99a=Math.max(Math.max(Math.max(C$99h[C$99r],C$99h[4+C$99r]),C$99h[8+C$99r]),C$99h[12+C$99r]),C$99l=Math.min(Math.min(Math.min(C$99h[1+C$99r],C$99h[5+C$99r]),C$99h[9+C$99r]),C$99h[13+C$99r]),C$99h=Math.max(Math.max(Math.max(C$99h[1+C$99r],C$99h[5+C$99r]),C$99h[9+C$99r]),C$99h[13+C$99r]),C$99K.save(this,C$99s,C$99t,C$99e,C$99i,C$99n,C$99o,C$99l,C$99a-C$99o,C$99h-C$99l)):(C$99i*=this._curMat.a,C$99n*=this._curMat.d,C$99r=C$99w.TEMP,this._curMat.transformPoint(C$99r.setTo(C$99t,C$99e)),C$99i<0&&(C$99r.x=C$99r.x+C$99i,C$99i=-C$99i),C$99n<0&&(C$99r.y=C$99r.y+C$99n,C$99n=-C$99n),this._renderKey=0,C$99s=this._curSubmit=C$99ct.create(this),(this._submits[this._submits._length++]=C$99s).submitIndex=this._submits._length,C$99s.submitLength=9999999,C$99j.save(this,C$99s),C$99o=(C$99a=this._clipRect).x,C$99h=C$99a.y,C$99l=C$99r.x+C$99i,C$99t=C$99r.y+C$99n,C$99o<C$99r.x&&(C$99a.x=C$99r.x),C$99h<C$99r.y&&(C$99a.y=C$99r.y),C$99a.width=Math.min(C$99l,C$99o+C$99a.width)-C$99a.x,C$99a.height=Math.min(C$99t,C$99h+C$99a.height)-C$99a.y,this._shader2D.glTexture=null,C$99s.clipRect.copyFrom(C$99a)),this._curSubmit=C$99ot.RENDERBASE;},C$99t.setIBVB=function(C$99t,C$99e,C$99i,C$99n,C$99u,C$99r,C$99s,C$99c,C$99a,C$99o,C$99h){if(void 0===C$99a&&(C$99a=0),void 0===C$99o&&(C$99o=0),void 0===C$99h&&(C$99h=0),null===C$99i&&(C$99i=C$99S.isFlash?((C$99l=C$99n)._selfIB||(C$99l._selfIB=C$99Zt.create(35044)),C$99l._selfIB.clear(),C$99l._selfIB):this._ib,C$99vt.expandIBQuadrangle(C$99i,C$99n._byteLength/(4*C$99n.vertexStride*4))),!C$99c||!C$99s)throw Error("setIBVB must input:shader shaderValues");var C$99l=C$99ut.create(this,C$99n,C$99i,C$99u,C$99s,C$99c,C$99a,C$99o,C$99h);(C$99r=C$99r||C$99b.EMPTY).translate(C$99t,C$99e),C$99b.mul(C$99r,this._curMat,C$99l._mat),C$99r.translate(-C$99t,-C$99e),this._submits[this._submits._length++]=C$99l,this._curSubmit=C$99ot.RENDERBASE,this._renderKey=0;},C$99t.addRenderObject=function(C$99t){this._submits[this._submits._length++]=C$99t;},C$99t.fillTrangles=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=this._curSubmit,C$99a=this._vb,C$99o=this._shader2D,C$99h=C$99s.shaderValue,C$99l=C$99n.length>>4,C$99u=C$99t.bitmap;this._renderKey=0,C$99o.glTexture==C$99u&&C$99o.ALPHA===C$99h.ALPHA||((C$99s=this._curSubmit=C$99ot.createSubmit(this,this._ib,C$99a,C$99a._byteLength/32*3,C$99wt.create(1,0))).shaderValue.textureHost=C$99t,this._submits[this._submits._length++]=C$99s),C$99vt.fillTranglesVB(C$99a,C$99e,C$99i,C$99n,C$99r||this._curMat,this._x,this._y),C$99s._numEle+=6*C$99l;},C$99t.submitElement=function(C$99t,C$99e){var C$99i=this._submits;for(C$99e<0&&(C$99e=C$99i._length);C$99t<C$99e;)C$99t+=C$99i[C$99t].renderSubmit();},C$99t.finish=function(){C$99u.mainContext.finish();},C$99t.flush=function(){var C$99t=Math.max(this._vb._byteLength/64,this._maxNumEle/6)+8;if(C$99t>this._ib.bufferLength/12&&C$99vt.expandIBQuadrangle(this._ib,C$99t),!this._isMain&&C$99W.enabled&&C$99W._atlasRestore>this._atlasResourceChange){this._atlasResourceChange=C$99W._atlasRestore;for(var C$99e=this._submits,C$99i=0,C$99n=C$99e._length;C$99i<C$99n;C$99i++){var C$99r=C$99e[C$99i];10016===C$99r.getRenderType()&&C$99r.checkTexture();}}var C$99s;for(this.submitElement(0,this._submits._length),this._path&&this._path.reset(),C$99nt.instance&&C$99nt.getInstance().reset(),C$99i=0,C$99s=this.meshlist.length;C$99i<C$99s;C$99i++){var C$99a=this.meshlist[C$99i];C$99a.canReuse?C$99a.releaseMesh():C$99a.destroy();}return this.meshlist.length=0,this._curSubmit=C$99ot.RENDERBASE,this._renderKey=0,this._triangleMesh=C$99Pt.getAMesh(),this.meshlist.push(this._triangleMesh),this._submits._length;},C$99t.setPathId=function(C$99t){this.mId=C$99t,-1!=this.mId&&(this.mHaveKey=!1,(C$99t=C$99O.getInstance()).shapeDic[this.mId]&&(this.mHaveKey=!0),this.mHaveLineKey=!1,C$99t.shapeLineDic[this.mId]&&(this.mHaveLineKey=!0));},C$99t.movePath=function(C$99t,C$99e){var C$99i=C$99t,C$99n=C$99e;C$99t=this._curMat.a*C$99i+this._curMat.c*C$99n+this._curMat.tx,C$99e=this._curMat.b*C$99i+this._curMat.d*C$99n+this._curMat.ty,this.mX+=C$99t,this.mY+=C$99e;},C$99t.beginPath=function(){var C$99t=this._getPath();C$99t.tempArray.length=0,C$99t.closePath=!1,this.mX=0,this.mY=0;},C$99t.closePath=function(){this._path.closePath=!0;},C$99t.fill=function(C$99t){void 0===C$99t&&(C$99t=!1);var C$99e=this._getPath();this.drawPoly(0,0,C$99e.tempArray,this.fillStyle._color.numColor,0,0,C$99t);},C$99t.stroke=function(){var C$99t=this._getPath();var C$99e;0<this.lineWidth&&(-1==this.mId?C$99t.drawLine(0,0,C$99t.tempArray,this.lineWidth,this.strokeStyle._color.numColor):this.mHaveLineKey?((C$99e=C$99O.getInstance().shapeLineDic[this.mId]).rebuild(C$99t.tempArray),C$99t.setGeomtry(C$99e)):C$99O.getInstance().addLine(this.mId,C$99t.drawLine(0,0,C$99t.tempArray,this.lineWidth,this.strokeStyle._color.numColor)),C$99t.update(),C$99e=[this.mX,this.mY],(C$99t=C$99ot.createShape(this,C$99t.ib,C$99t.vb,C$99t.count,C$99t.offset,C$99wt.create(4,0))).shaderValue.ALPHA=this._shader2D.ALPHA,C$99t.shaderValue.u_pos=C$99e,C$99t.shaderValue.u_mmat2=C$99l.TEMPMAT4_ARRAY,this._submits[this._submits._length++]=C$99t,this._renderKey=-1);},C$99t.line=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=this._curSubmit,C$99o=this._vb;C$99vt.fillLineVb(C$99o,this._clipRect,C$99t,C$99e,C$99i,C$99n,C$99r,C$99s)&&(this._renderKey=0,C$99t=this._shader2D,C$99e=C$99a.shaderValue,C$99t.strokeStyle===C$99e.strokeStyle&&C$99t.ALPHA===C$99e.ALPHA||(C$99t.glTexture=null,(C$99a=this._curSubmit=C$99ot.createSubmit(this,this._ib,C$99o,(C$99o._byteLength-64)/32*3,C$99wt.create(2,0))).shaderValue.strokeStyle=C$99t.strokeStyle,C$99a.shaderValue.mainID=2,C$99a.shaderValue.ALPHA=C$99t.ALPHA,this._submits[this._submits._length++]=C$99a),C$99a._numEle+=6);},C$99t.moveTo=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=!0);var C$99n=this._getPath();var C$99r;C$99i&&(C$99i=C$99t,C$99r=C$99e,C$99t=this._curMat.a*C$99i+this._curMat.c*C$99r,C$99e=this._curMat.b*C$99i+this._curMat.d*C$99r),C$99n.addPoint(C$99t,C$99e);},C$99t.lineTo=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=!0);var C$99n=this._getPath();var C$99r;C$99i&&(C$99i=C$99t,C$99r=C$99e,C$99t=this._curMat.a*C$99i+this._curMat.c*C$99r,C$99e=this._curMat.b*C$99i+this._curMat.d*C$99r),C$99n.addPoint(C$99t,C$99e);},C$99t.drawCurves=function(C$99t,C$99e,C$99i){this.setPathId(-1),this.beginPath(),this.strokeStyle=C$99i[3],this.lineWidth=C$99i[4];var C$99n=C$99i[2];C$99t+=C$99i[0],C$99e+=C$99i[1],this.movePath(C$99t,C$99e),this.moveTo(C$99n[0],C$99n[1]);for(var C$99r=2,C$99s=C$99n.length;C$99r<C$99s;)this.quadraticCurveTo(C$99n[C$99r++],C$99n[C$99r++],C$99n[C$99r++],C$99n[C$99r++]);this.stroke();},C$99t.arcTo=function(C$99t,C$99u,C$99e,C$99i,C$99c){if(-1==this.mId||!this.mHaveKey){var C$99_=0,C$99n=0,C$99r=0,C$99d=this._getPath();this._curMat.copyTo(e$Z._tmpMatrix),e$Z._tmpMatrix.tx=e$Z._tmpMatrix.ty=0,e$Z._tempPoint.setTo(C$99d.getEndPointX(),C$99d.getEndPointY()),e$Z._tmpMatrix.invertTransformPoint(e$Z._tempPoint);var C$99s=e$Z._tempPoint.x-C$99t,C$99a=e$Z._tempPoint.y-C$99u,C$99o=Math.sqrt(C$99s*C$99s+C$99a*C$99a);if(!(C$99o<=1e-6)){var C$99s=C$99s/C$99o,C$99a=C$99a/C$99o,C$99e=C$99e-C$99t,C$99i=C$99i-C$99u,C$99h=Math.sqrt(C$99e*C$99e+C$99i*C$99i);if(!(C$99h<=1e-6)){var C$99e=C$99e/C$99h,C$99i=C$99i/C$99h,C$99h=C$99s+C$99e,C$99f=C$99a+C$99i,C$99l=Math.sqrt(C$99h*C$99h+C$99f*C$99f);if(!(C$99l<=1e-6)){var C$99h=C$99h/C$99l,C$99f=C$99f/C$99l,C$99l=Math.acos(C$99h*C$99s+C$99f*C$99a),C$99l=Math.PI/2-C$99l,C$99p=(C$99o=C$99c/Math.tan(C$99l))*C$99s+C$99t,C$99m=C$99o*C$99a+C$99u,C$99o=Math.sqrt(C$99o*C$99o+C$99c*C$99c),C$99g=C$99t+C$99h*C$99o,C$99v=C$99u+C$99f*C$99o,C$99$=0,C$99x=0;C$99x=(C$99$=(C$99c=0<=C$99s*C$99i-C$99a*C$99e?2*C$99l/e$Z.SEGNUM:2*-C$99l/e$Z.SEGNUM,Math.sin(C$99c)),Math.cos(C$99c)),C$99n=this._curMat.a*C$99p+this._curMat.c*C$99m,C$99r=this._curMat.b*C$99p+this._curMat.d*C$99m,C$99n==this._path.getEndPointX()&&C$99r==this._path.getEndPointY()||C$99d.addPoint(C$99n,C$99r);var C$99y=C$99p-C$99g,C$99b=C$99m-C$99v;for(C$99_=0;C$99_<e$Z.SEGNUM;C$99_++){var C$99w=C$99y*C$99x+C$99b*C$99$,C$99T=-C$99y*C$99$+C$99b*C$99x;C$99t=this._curMat.a*(C$99n=C$99w+C$99g)+this._curMat.c*(C$99r=C$99T+C$99v),C$99r=C$99u=this._curMat.b*C$99n+this._curMat.d*C$99r,(C$99n=C$99t)==this._path.getEndPointX()&&C$99r==this._path.getEndPointY()||C$99d.addPoint(C$99n,C$99r),C$99y=C$99w,C$99b=C$99T;}}}}}},C$99t.arc=function(C$99t,C$99u,C$99e,C$99c,C$99_,C$99d,C$99i){if(void 0===C$99d&&(C$99d=!1),void 0===C$99i&&(C$99i=!0),-1!=this.mId){var C$99n=C$99O.getInstance().shapeDic[this.mId];if(C$99n&&this.mHaveKey&&!C$99n.needUpdate(this._curMat))return;C$99u=C$99t=0;}var C$99f,C$99p,C$99r=0,C$99s=0,C$99a=0,C$99o=0;if(C$99r=C$99_-C$99c,C$99d){if(Math.abs(C$99r)>=2*Math.PI)C$99r=2*-Math.PI;else for(;0<C$99r;)C$99r-=2*Math.PI;}else if(Math.abs(C$99r)>=2*Math.PI)C$99r=2*Math.PI;else for(;C$99r<0;)C$99r+=2*Math.PI;C$99n=C$99r/(C$99p=C$99e<101?Math.max(10,C$99r*C$99e/5):C$99e<201?Math.max(10,C$99r*C$99e/20):Math.max(10,C$99r*C$99e/40))/2,Math.abs(4/3*(1-Math.cos(C$99n))/Math.sin(C$99n));var C$99m=this._getPath(),C$99h=NaN,C$99l=NaN;for(C$99o=0;C$99o<=C$99p;C$99o++)C$99f=C$99c+C$99r*(C$99o/C$99p),C$99s=C$99t+Math.cos(C$99f)*C$99e,C$99a=C$99u+Math.sin(C$99f)*C$99e,C$99i&&(C$99h=C$99s,C$99l=C$99a,C$99s=this._curMat.a*C$99h+this._curMat.c*C$99l,C$99a=this._curMat.b*C$99h+this._curMat.d*C$99l),C$99s==this._path.getEndPointX()&&C$99a==this._path.getEndPointY()||C$99m.addPoint(C$99s,C$99a);C$99s=C$99t+Math.cos(C$99_)*C$99e,C$99a=C$99u+Math.sin(C$99_)*C$99e,C$99i&&(C$99h=C$99s,C$99l=C$99a,C$99s=this._curMat.a*C$99h+this._curMat.c*C$99l,C$99a=this._curMat.b*C$99h+this._curMat.d*C$99l),C$99s==this._path.getEndPointX()&&C$99a==this._path.getEndPointY()||C$99m.addPoint(C$99s,C$99a);},C$99t.quadraticCurveTo=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99_.I,C$99s=C$99i,C$99a=C$99n;C$99i=this._curMat.a*C$99s+this._curMat.c*C$99a,C$99n=this._curMat.b*C$99s+this._curMat.d*C$99a,C$99s=C$99t,C$99a=C$99e,C$99t=this._curMat.a*C$99s+this._curMat.c*C$99a,C$99e=this._curMat.b*C$99s+this._curMat.d*C$99a;for(var C$99o=C$99r.getBezierPoints([this._path.getEndPointX(),this._path.getEndPointY(),C$99t,C$99e,C$99i,C$99n],30,2),C$99h=0,C$99l=C$99o.length/2;C$99h<C$99l;C$99h++)this.lineTo(C$99o[2*C$99h],C$99o[2*C$99h+1],!1);this.lineTo(C$99i,C$99n,!1);},C$99t.rect=function(C$99t,C$99e,C$99i,C$99n){this._other=this._other.make(),this._other.path||(this._other.path=new C$99Y()),this._other.path.rect(C$99t,C$99e,C$99i,C$99n);},C$99t.strokeRect=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=.5*C$99r;this.line(C$99t-C$99s,C$99e,C$99t+C$99i+C$99s,C$99e,C$99r,this._curMat),this.line(C$99t+C$99i,C$99e,C$99t+C$99i,C$99e+C$99n,C$99r,this._curMat),this.line(C$99t,C$99e,C$99t,C$99e+C$99n,C$99r,this._curMat),this.line(C$99t-C$99s,C$99e+C$99n,C$99t+C$99i+C$99s,C$99e+C$99n,C$99r,this._curMat);},C$99t.clip=function(){},C$99t.drawPoly=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){void 0===C$99a&&(C$99a=!1),this._renderKey=0,this._shader2D.glTexture=null;C$99a=this._getPath();-1==this.mId?C$99a.polygon(C$99t,C$99e,C$99i,C$99n,C$99r||1,C$99s):this.mHaveKey?((C$99o=C$99O.getInstance().shapeDic[this.mId]).setMatrix(this._curMat),C$99o.rebuild(C$99a.tempArray),C$99a.setGeomtry(C$99o)):(C$99o=C$99a.polygon(C$99t,C$99e,C$99i,C$99n,C$99r||1,C$99s),C$99O.getInstance().addShape(this.mId,C$99o),C$99o.setMatrix(this._curMat)),C$99a.update();var C$99o,C$99n=[this.mX,this.mY];(C$99o=C$99ot.createShape(this,C$99a.ib,C$99a.vb,C$99a.count,C$99a.offset,C$99wt.create(4,0))).shaderValue.ALPHA=this._shader2D.ALPHA,C$99o.shaderValue.u_pos=C$99n,C$99o.shaderValue.u_mmat2=C$99l.EMPTYMAT4_ARRAY,this._submits[this._submits._length++]=C$99o,0<C$99r&&(this.mHaveLineKey?((C$99n=C$99O.getInstance().shapeLineDic[this.mId]).rebuild(C$99a.tempArray),C$99a.setGeomtry(C$99n)):C$99O.getInstance().addShape(this.mId,C$99a.drawLine(C$99t,C$99e,C$99i,C$99r,C$99s)),C$99a.update(),(C$99o=C$99ot.createShape(this,C$99a.ib,C$99a.vb,C$99a.count,C$99a.offset,C$99wt.create(4,0))).shaderValue.ALPHA=this._shader2D.ALPHA,C$99o.shaderValue.u_mmat2=C$99l.EMPTYMAT4_ARRAY,this._submits[this._submits._length++]=C$99o);},C$99t.drawParticle=function(C$99t,C$99e,C$99i){C$99i.x=C$99t,C$99i.y=C$99e,this._submits[this._submits._length++]=C$99i;},C$99t._getPath=function(){return this._path||(this._path=new C$99Y());},C$99n(0,C$99t,"globalCompositeOperation",function(){return C$99G.NAMES[this._nBlendType];},function(C$99t){C$99t=C$99G.TOINT[C$99t];null==C$99t||this._nBlendType===C$99t||(C$99X.save(this,65536,this,!0),this._curSubmit=C$99ot.RENDERBASE,this._renderKey=0,this._nBlendType=C$99t);}),C$99n(0,C$99t,"strokeStyle",function(){return this._shader2D.strokeStyle;},function(C$99t){this._shader2D.strokeStyle.equal(C$99t)||(C$99X.save(this,512,this._shader2D,!1),this._shader2D.strokeStyle=C$99z.create(C$99t));}),C$99n(0,C$99t,"globalAlpha",function(){return this._shader2D.ALPHA;},function(C$99t){(C$99t=Math.floor(1e3*C$99t)/1e3)!=this._shader2D.ALPHA&&(C$99X.save(this,1,this._shader2D,!0),this._shader2D.ALPHA=C$99t);}),C$99n(0,C$99t,"asBitmap",null,function(C$99t){if(C$99t){if(this._targets||(this._targets=new C$99J()),this._targets.repaint=!0,!this._width||!this._height)throw Error("asBitmap no size!");this._targets.setSP(this.sprite),this._targets.size(this._width,this._height);}else this._targets=null;}),C$99n(0,C$99t,"fillStyle",function(){return this._shader2D.fillStyle;},function(C$99t){this._shader2D.fillStyle.equal(C$99t)||(C$99X.save(this,2,this._shader2D,!1),this._shader2D.fillStyle=C$99z.create(C$99t));}),C$99n(0,C$99t,"textAlign",function(){return this._other.textAlign;},function(C$99t){this._other.textAlign===C$99t||(this._other=this._other.make(),C$99X.save(this,32768,this._other,!1),this._other.textAlign=C$99t);}),C$99n(0,C$99t,"lineWidth",function(){return this._other.lineWidth;},function(C$99t){this._other.lineWidth===C$99t||(this._other=this._other.make(),C$99X.save(this,256,this._other,!1),this._other.lineWidth=C$99t);}),C$99n(0,C$99t,"textBaseline",function(){return this._other.textBaseline;},function(C$99t){this._other.textBaseline===C$99t||(this._other=this._other.make(),C$99X.save(this,16384,this._other,!1),this._other.textBaseline=C$99t);}),C$99n(0,C$99t,"font",null,function(C$99t){C$99t!=this._other.font.toString()&&(this._other=this._other.make(),C$99X.save(this,8,this._other,!1),this._other.font===C$99mt.EMPTY?this._other.font=new C$99mt(C$99t):this._other.font.setFont(C$99t));}),e$Z.__init__=function(){C$99ee.DEFAULT=new C$99ee();},e$Z._tempPoint=new C$99w(),e$Z._SUBMITVBSIZE=32e3,e$Z._MAXSIZE=99999999,e$Z._RECTVBSIZE=16,e$Z.MAXCLIPRECT=new C$99T(0,0,99999999,99999999),e$Z._COUNT=0,e$Z._tmpMatrix=new C$99b(),e$Z.SEGNUM=32,e$Z._contextcount=0,C$99e(e$Z,["_fontTemp",function(){return this._fontTemp=new C$99mt();},"_drawStyleTemp",function(){return this._drawStyleTemp=new C$99z(null);}]),e$Z.__init$=function(){function e$d(){this.lineWidth=1,this.path=null,this.textAlign=null,this.textBaseline=null,this.font=C$99mt.EMPTY;}var C$99t;C$99i(e$d,""),(C$99t=e$d.prototype).clear=function(){this.lineWidth=1,this.path&&this.path.clear(),this.textAlign=this.textBaseline=null,this.font=C$99mt.EMPTY;},C$99t.make=function(){return this===e$d.DEFAULT?new e$d():this;},e$d.DEFAULT=null,C$99ee=e$d;},e$Z),C$99wt=function(){function e$k(C$99t,C$99e){this.size=[0,0],this.alpha=1,this.ALPHA=1,this.subID=0,this._cacheID=0,e$k.__super.call(this),this.defines=new C$99Ct(),this.position=e$k._POSITION,this.mainID=C$99t,this.subID=C$99e,this.textureHost=null,this.texture=null,this.texture1=null,this.fillStyle=null,this.color=null,this.strokeStyle=null,this.colorAdd=null,this.glTexture=null,this.u_mmat2=null,this._cacheID=C$99t|C$99e,this._inClassCache=e$k._cache[this._cacheID],0<C$99t&&!this._inClassCache&&(this._inClassCache=e$k._cache[this._cacheID]=[],this._inClassCache._length=0),this.clear();}C$99i(e$k,"laya.webgl.shader.d2.value.Value2D",C$99F);var C$99t=e$k.prototype;return C$99t.setValue=function(C$99t){},C$99t.refresh=function(){var C$99t=this.size;return C$99t[0]=C$99l.width,C$99t[1]=C$99l.height,this.alpha=this.ALPHA*C$99l.worldAlpha,this.mmat=C$99l.worldMatrix4,this;},C$99t._ShaderWithCompile=function(){return C$99Xt.withCompile2D(0,this.mainID,this.defines.toNameDic(),this.mainID|this.defines._value,C$99qt.create);},C$99t._withWorldShaderDefines=function(){var C$99t=C$99l.worldShaderDefines,C$99e=C$99Xt.sharders[this.mainID|this.defines._value|C$99t.getValue()];if(!C$99e){var C$99i,C$99n={};for(C$99i in this.defines.toNameDic())C$99n[C$99i]="";for(C$99i in C$99t.toNameDic())C$99n[C$99i]="";C$99e=C$99Xt.withCompile2D(0,this.mainID,C$99n,this.mainID|this.defines._value|C$99t.getValue(),C$99qt.create);}var C$99r=C$99l.worldFilters;if(!C$99r)return C$99e;for(var C$99s,C$99a=C$99r.length,C$99o=0;C$99o<C$99a;C$99o++)(C$99s=C$99r[C$99o])&&C$99s.action.setValue(this);return C$99e;},C$99t.upload=function(){var C$99t=C$99l;this.alpha=this.ALPHA*C$99t.worldAlpha,C$99l.worldMatrix4!==C$99l.TEMPMAT4_ARRAY&&this.defines.add(128),this.textureHost&&this.textureHost.alphaTexture?this.defines.add(2048):this.defines.remove(2048),this.textureHost&&this.textureHost.bitmap&&(37815==this.textureHost.bitmap.format||37812==this.textureHost.bitmap.format||37821==this.textureHost.bitmap.format)?this.defines.add(4096):this.defines.remove(4096),C$99u.shaderHighPrecision&&this.defines.add(1024);var C$99e,C$99i=C$99t.worldShaderDefines?this._withWorldShaderDefines():C$99Xt.sharders[this.mainID|this.defines._value]||this._ShaderWithCompile();this.size[0]=C$99t.width,this.size[1]=C$99t.height,this.mmat=C$99t.worldMatrix4,C$99Bt.activeShader!==C$99i?C$99i._shaderValueWidth!==C$99t.width||C$99i._shaderValueHeight!==C$99t.height?(C$99i._shaderValueWidth=C$99t.width,C$99i._shaderValueHeight=C$99t.height):C$99e=C$99i._params2dQuick2||C$99i._make2dQuick2():C$99i._shaderValueWidth!==C$99t.width||C$99i._shaderValueHeight!==C$99t.height?(C$99i._shaderValueWidth=C$99t.width,C$99i._shaderValueHeight=C$99t.height):C$99e=C$99i._params2dQuick1||C$99i._make2dQuick1(),C$99i.upload(this,C$99e);},C$99t.setFilters=function(C$99t){if(this.filters=C$99t)for(var C$99e,C$99i=C$99t.length,C$99n=0;C$99n<C$99i;C$99n++)(C$99e=C$99t[C$99n])&&(this.defines.add(C$99e.type),C$99e.action.setValue(this));},C$99t.clear=function(){this.defines.setValue(this.subID);},C$99t.release=function(){(this._inClassCache[this._inClassCache._length++]=this).fillStyle=null,this.strokeStyle=null,this.textureHost=null,this.mmat=null,this.clear();},e$k._initone=function(C$99t,C$99e){e$k._typeClass[C$99t]=C$99e,e$k._cache[C$99t]=[],e$k._cache[C$99t]._length=0;},e$k.__init__=function(){e$k._POSITION=[2,5126,!1,4*C$99gt.BYTES_PE,0],e$k._TEXCOORD=[2,5126,!1,4*C$99gt.BYTES_PE,2*C$99gt.BYTES_PE],e$k._initone(2,C$99Ot),e$k._initone(4,C$99Ut),e$k._initone(256,C$99Vt),e$k._initone(512,C$99kt),e$k._initone(1,C$99Ft),e$k._initone(65,C$99Kt),e$k._initone(9,C$99Ft);},e$k.create=function(C$99t,C$99e){var C$99i=e$k._cache[C$99t|C$99e];return C$99i._length?C$99i[--C$99i._length]:new e$k._typeClass[C$99t|C$99e](C$99e);},e$k._POSITION=null,e$k._TEXCOORD=null,e$k._cache=[],e$k._typeClass=[],e$k.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e$k;}(),C$99Tt=(C$99i(e$D,"laya.webgl.utils.RenderSprite3D",C$99M),(C$99t=e$D.prototype).onCreate=function(C$99t){switch(C$99t){case 8:return void(this._fun=this._blend);case 4:return void(this._fun=this._transform);}},C$99t._mask=function(C$99t,C$99e,C$99i,C$99n){var C$99r,C$99u=this._next,C$99s=C$99t.mask;var C$99c,C$99a,C$99o,C$99h,C$99_,C$99l,C$99d,C$99f;C$99s?(C$99e.ctx.save(),C$99c=C$99e.ctx.globalCompositeOperation,(C$99a=new C$99T()).copyFrom(C$99s.getBounds()),C$99a.width=Math.round(C$99a.width),C$99a.height=Math.round(C$99a.height),C$99a.x=Math.round(C$99a.x),C$99a.y=Math.round(C$99a.y),0<C$99a.width&&0<C$99a.height&&(C$99o=C$99t._style._tf,(C$99h=C$99lt.create()).addValue("bounds",C$99a),C$99r=C$99ht.create([C$99h,C$99e],laya.webgl.utils.RenderSprite3D.tmpTarget),C$99e.addRenderObject(C$99r),C$99s.render(C$99e,-C$99a.x,-C$99a.y),C$99r=C$99ht.create([C$99h],laya.webgl.utils.RenderSprite3D.endTmpTarget),C$99e.addRenderObject(C$99r),C$99e.ctx.save(),C$99e.clipRect(C$99i-C$99o.translateX+C$99a.x,C$99n-C$99o.translateY+C$99a.y,C$99a.width,C$99a.height),C$99u._fun.call(C$99u,C$99t,C$99e,C$99i,C$99n),C$99e.ctx.restore(),C$99s=C$99_t.create(6),C$99c=C$99e.ctx.globalCompositeOperation,C$99s.blendMode="mask",C$99e.addRenderObject(C$99s),C$99b.TEMP.identity(),C$99_=C$99wt.create(1,0),C$99l=C$99N.INV_UV,C$99d=C$99a.width,C$99f=C$99a.height,(C$99a.width<32||C$99a.height<32)&&((C$99l=e$D.tempUV)[0]=0,C$99l[1]=0,C$99l[2]=32<=C$99a.width?1:C$99a.width/32,C$99l[3]=0,C$99l[4]=32<=C$99a.width?1:C$99a.width/32,C$99l[5]=32<=C$99a.height?1:C$99a.height/32,C$99l[6]=0,C$99l[7]=32<=C$99a.height?1:C$99a.height/32,C$99a.width=32<=C$99a.width?C$99a.width:32,C$99a.height=32<=C$99a.height?C$99a.height:32,C$99l[1]*=-1,C$99l[3]*=-1,C$99l[5]*=-1,C$99l[7]*=-1,C$99l[1]+=1,C$99l[3]+=1,C$99l[5]+=1,C$99l[7]+=1),C$99e.ctx.drawTarget(C$99h,C$99i+C$99a.x-C$99o.translateX,C$99n+C$99a.y-C$99o.translateY,C$99d,C$99f,C$99b.TEMP,"tmpTarget",C$99_,C$99l,6),C$99r=C$99ht.create([C$99h],laya.webgl.utils.RenderSprite3D.recycleTarget),C$99e.addRenderObject(C$99r),(C$99s=C$99_t.create(6)).blendMode=C$99c,C$99e.addRenderObject(C$99s)),C$99e.ctx.restore()):C$99u._fun.call(C$99u,C$99t,C$99e,C$99i,C$99n);},C$99t._blend=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t._style,C$99s=this._next;C$99r.blendMode?(C$99e.ctx.save(),C$99e.ctx.globalCompositeOperation=C$99r.blendMode,C$99s._fun.call(C$99s,C$99t,C$99e,C$99i,C$99n),C$99e.ctx.restore()):C$99s._fun.call(C$99s,C$99t,C$99e,C$99i,C$99n);},C$99t._transform=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.transform,C$99s=this._next;var C$99a,C$99o;C$99r&&C$99s!=C$99M.NORENDER?(C$99a=C$99e.ctx,C$99t._style,C$99r.tx=C$99i,C$99r.ty=C$99n,C$99o=(C$99a=C$99a._getTransformMatrix()).clone(),C$99b.mul(C$99r,C$99a,C$99a),C$99a._checkTransform(),C$99r.tx=C$99r.ty=0,C$99s._fun.call(C$99s,C$99t,C$99e,0,0),C$99o.copyTo(C$99a),C$99o.destroy()):C$99s._fun.call(C$99s,C$99t,C$99e,C$99i,C$99n);},e$D.tmpTarget=function(C$99t,C$99e){var C$99i=C$99t.getValue("bounds"),C$99i=C$99Lt.create(C$99i.width,C$99i.height);C$99i.start(),C$99i.clear(0,0,0,0),C$99t.addValue("tmpTarget",C$99i);},e$D.endTmpTarget=function(C$99t){C$99t.getValue("tmpTarget").end();},e$D.recycleTarget=function(C$99t){C$99t.getValue("tmpTarget").recycle(),C$99t.recycle();},C$99e(e$D,["tempUV",function(){return this.tempUV=new Array(8);}]),e$D),C$99St=function(){function e$t(){this.data=null,e$t.__super.call(this);}C$99i(e$t,"laya.filters.webgl.ColorFilterActionGL",C$99V);var C$99t=e$t.prototype;return C$99g.imps(C$99t,{"laya.filters.IFilterActionGL":!0}),C$99t.setValue=function(C$99t){C$99t.colorMat=this.data._mat,C$99t.colorAlpha=this.data._alpha;},C$99t.apply3d=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99t.getValue("bounds"),C$99a=C$99wt.create(1,0);C$99a.setFilters([this.data]);var C$99o=C$99b.TEMP;C$99o.identity(),C$99i.ctx.drawTarget(C$99t,0,0,C$99s.width,C$99s.height,C$99o,"src",C$99a);},e$t;}(),C$99Mt=function(){function e$i(C$99t,C$99e,C$99i,C$99n,C$99r){this._atlasCanvas=null,this._inAtlasTextureKey=null,this._inAtlasTextureBitmapValue=null,this._inAtlasTextureOriUVValue=null,this._InAtlasWebGLImagesKey=null,this._InAtlasWebGLImagesOffsetValue=null,e$i.__super.call(this,C$99t,C$99e,C$99r),this._inAtlasTextureKey=[],this._inAtlasTextureBitmapValue=[],this._inAtlasTextureOriUVValue=[],this._InAtlasWebGLImagesKey={},this._InAtlasWebGLImagesOffsetValue=[],this._atlasCanvas=new C$99Wt(),this._atlasCanvas.uri="Atlaser.AtlasWebGLCanvas._atlasCanvas",(this._atlasCanvas._atlaser=this)._atlasCanvas.width=C$99i,this._atlasCanvas.height=C$99n,this._atlasCanvas.activeResource(),this._atlasCanvas.lock=!0;}C$99i(e$i,"laya.webgl.atlas.Atlaser",C$99U);var C$99t=e$i.prototype;return C$99t.computeUVinAtlasTexture=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99W.atlasTextureWidth,C$99s=C$99W.atlasTextureHeight,C$99a=C$99i/C$99r,C$99o=C$99n/C$99s,C$99i=(C$99i+C$99t.bitmap.width)/C$99r,C$99n=(C$99n+C$99t.bitmap.height)/C$99s,C$99r=C$99t.bitmap.width/C$99r,C$99s=C$99t.bitmap.height/C$99s;C$99t.uv=[C$99a+C$99e[0]*C$99r,C$99o+C$99e[1]*C$99s,C$99i-(1-C$99e[2])*C$99r,C$99o+C$99e[3]*C$99s,C$99i-(1-C$99e[4])*C$99r,C$99n-(1-C$99e[5])*C$99s,C$99a+C$99e[6]*C$99r,C$99n-(1-C$99e[7])*C$99s];},C$99t.findBitmapIsExist=function(C$99t){if(C$99t instanceof laya.webgl.resource.WebGLImage){var C$99e=C$99t.url,C$99e=this._InAtlasWebGLImagesKey[C$99e||C$99t.id];if(C$99e)return C$99e.offsetInfoID;}return-1;},C$99t.addToAtlasTexture=function(C$99t,C$99e,C$99i){var C$99n;C$99t instanceof laya.webgl.resource.WebGLImage&&(C$99n=C$99t.url,this._InAtlasWebGLImagesKey[C$99n||C$99t.id]={bitmap:C$99t,offsetInfoID:this._InAtlasWebGLImagesOffsetValue.length},this._InAtlasWebGLImagesOffsetValue.push([C$99e,C$99i])),this._atlasCanvas.texSubImage2D(C$99e,C$99i,C$99t.atlasSource),C$99t.clearAtlasSource();},C$99t.addToAtlas=function(C$99t,C$99e,C$99i){C$99t._atlasID=this._inAtlasTextureKey.length;var C$99n=C$99t.uv.slice(),C$99r=C$99t.bitmap;this._inAtlasTextureKey.push(C$99t),this._inAtlasTextureOriUVValue.push(C$99n),this._inAtlasTextureBitmapValue.push(C$99r),this.computeUVinAtlasTexture(C$99t,C$99n,C$99e,C$99i),C$99t.bitmap=this._atlasCanvas;},C$99t.clear=function(){for(var C$99t=0,C$99e=this._inAtlasTextureKey.length;C$99t<C$99e;C$99t++)this._inAtlasTextureKey[C$99t].bitmap=this._inAtlasTextureBitmapValue[C$99t],this._inAtlasTextureKey[C$99t].uv=this._inAtlasTextureOriUVValue[C$99t],this._inAtlasTextureKey[C$99t]._atlasID=-1,this._inAtlasTextureKey[C$99t].bitmap.lock=!1,this._inAtlasTextureKey[C$99t].bitmap.releaseResource();this._inAtlasTextureKey.length=0,this._inAtlasTextureBitmapValue.length=0,this._inAtlasTextureOriUVValue.length=0,this._InAtlasWebGLImagesKey=null,this._InAtlasWebGLImagesOffsetValue.length=0;},C$99t.dispose=function(){this.clear(),this._atlasCanvas.destroy();},C$99n(0,C$99t,"InAtlasWebGLImagesOffsetValue",function(){return this._InAtlasWebGLImagesOffsetValue;}),C$99n(0,C$99t,"texture",function(){return this._atlasCanvas;}),C$99n(0,C$99t,"inAtlasWebGLImagesKey",function(){return this._InAtlasWebGLImagesKey;}),e$i;}(),C$99Ct=function(){function e$l(){e$l.__super.call(this,e$l.__name2int,e$l.__int2name,e$l.__int2nameMap);}return C$99i(e$l,"laya.webgl.shader.d2.ShaderDefines2D",C$99et),e$l.__init__=function(){e$l.reg("TEXTURE2D",1),e$l.reg("COLOR2D",2),e$l.reg("PRIMITIVE",4),e$l.reg("GLOW_FILTER",8),e$l.reg("BLUR_FILTER",16),e$l.reg("COLOR_FILTER",32),e$l.reg("COLOR_ADD",64),e$l.reg("WORLDMAT",128),e$l.reg("FILLTEXTURE",256),e$l.reg("FSHIGHPRECISION",1024),e$l.reg("TXTALPHA",2048),e$l.reg("TXTCOMPRESS",4096);},e$l.reg=function(C$99t,C$99e){C$99et._reg(C$99t,C$99e,e$l.__name2int,e$l.__int2name);},e$l.toText=function(C$99t,C$99e,C$99i){return C$99et._toText(C$99t,C$99e,C$99i);},e$l.toInt=function(C$99t){return C$99et._toInt(C$99t,e$l.__name2int);},e$l.TEXTURE2D=1,e$l.COLOR2D=2,e$l.PRIMITIVE=4,e$l.FILTERGLOW=8,e$l.FILTERBLUR=16,e$l.FILTERCOLOR=32,e$l.COLORADD=64,e$l.WORLDMAT=128,e$l.FILLTEXTURE=256,e$l.SKINMESH=512,e$l.SHADERDEFINE_FSHIGHPRECISION=1024,e$l.TXTALPHA=2048,e$l.TXTCOMPRESS=4096,e$l.__name2int={},e$l.__int2name=[],e$l.__int2nameMap=[],e$l;}(),C$99At=(function(){function e$B(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){e$B.__super.call(this,C$99t,C$99e,C$99i,C$99n,40,C$99r,C$99s,C$99a);}C$99i(e$B,"laya.webgl.shapes.Ellipse",C$99rt);}(),function(){function e$i(C$99t,C$99e,C$99i,C$99n,C$99r){this._points=[],this.rebuild(C$99i),e$i.__super.call(this,C$99t,C$99e,0,0,0,C$99r,C$99n,C$99r,0);}C$99i(e$i,"laya.webgl.shapes.Line",C$99rt);var C$99t=e$i.prototype;return C$99t.rebuild=function(C$99t){var C$99e=C$99t.length;C$99e!=this._points.length&&(this.mUint16Array=new Uint16Array(6*(C$99e/2-1)),this.mFloat32Array=new Float32Array(5*C$99e)),this._points.length=0;for(var C$99i,C$99n,C$99r=-1,C$99s=-1,C$99a=C$99t.length/2,C$99o=0;C$99o<C$99a;C$99o++)C$99i=C$99t[2*C$99o],C$99n=C$99t[2*C$99o+1],(.01<Math.abs(C$99r-C$99i)||.01<Math.abs(C$99s-C$99n))&&this._points.push(C$99i,C$99n),C$99r=C$99i,C$99s=C$99n;},C$99t.getData=function(C$99t,C$99e,C$99i){var C$99n=[],C$99r=[];0<this.borderWidth&&this.createLine2(this._points,C$99n,this.borderWidth,C$99i,C$99r,this._points.length/2),this.mUint16Array.set(C$99n,0),this.mFloat32Array.set(C$99r,0),C$99t.append(this.mUint16Array),C$99e.append(this.mFloat32Array);},e$i;}()),C$99It=function(){function e$f(C$99t,C$99e,C$99i,C$99n,C$99u){this._points=[];for(var C$99r=NaN,C$99s=NaN,C$99a=-1,C$99o=-1,C$99h=C$99i.length/2-1,C$99l=0;C$99l<C$99h;C$99l++)C$99r=C$99i[2*C$99l],C$99s=C$99i[2*C$99l+1],(.01<Math.abs(C$99a-C$99r)||.01<Math.abs(C$99o-C$99s))&&this._points.push(C$99r,C$99s),C$99a=C$99r,C$99o=C$99s;C$99r=C$99i[2*C$99h],C$99s=C$99i[2*C$99h+1],C$99a=this._points[0],C$99o=this._points[1],(.01<Math.abs(C$99a-C$99r)||.01<Math.abs(C$99o-C$99s))&&this._points.push(C$99r,C$99s),e$f.__super.call(this,C$99t,C$99e,0,0,this._points.length/2,0,C$99n,C$99u);}C$99i(e$f,"laya.webgl.shapes.LoopLine",C$99rt);var C$99t=e$f.prototype;return C$99t.getData=function(C$99t,C$99e,C$99i){if(0<this.borderWidth){for(var C$99n,C$99r,C$99s=this.color,C$99a=(C$99s>>16&255)/255,C$99o=(C$99s>>8&255)/255,C$99u=(255&C$99s)/255,C$99h=[],C$99s=[],C$99c=Math.floor(this._points.length/2),C$99l=0;C$99l<C$99c;C$99l++)C$99n=this._points[2*C$99l],C$99r=this._points[2*C$99l+1],C$99h.push(this.x+C$99n,this.y+C$99r,C$99a,C$99o,C$99u);this.createLoopLine(C$99h,C$99s,this.borderWidth,C$99i+C$99h.length/5),C$99t.append(new Uint16Array(C$99s)),C$99e.append(new Float32Array(C$99h));}},C$99t.createLoopLine=function(C$99u,C$99c,C$99_,C$99d,C$99t,C$99f){C$99u.length;var C$99e=C$99u.concat(),C$99p=C$99t||C$99u,C$99t=this.borderColor,C$99m=(C$99t>>16&255)/255,C$99g=(C$99t>>8&255)/255,C$99v=(255&C$99t)/255,C$99u=[C$99e[0],C$99e[1]],C$99t=[C$99e[C$99e.length-5],C$99e[C$99e.length-4]],C$99$=C$99t[0]+.5*(C$99u[0]-C$99t[0]),C$99u=C$99t[1]+.5*(C$99u[1]-C$99t[1]);C$99e.unshift(C$99$,C$99u,0,0,0),C$99e.push(C$99$,C$99u,0,0,0);var C$99x,C$99y,C$99i,C$99n,C$99r,C$99s,C$99b,C$99w,C$99T,C$99S,C$99a,C$99M,C$99o,C$99C,C$99A=C$99e.length/5,C$99h=C$99d,C$99I=C$99_/2;C$99x=C$99e[0],C$99y=C$99e[1],C$99s=C$99x-C$99e[5],C$99r=(C$99r=-(C$99y-C$99e[6]))/(C$99C=Math.sqrt(C$99r*C$99r+C$99s*C$99s))*C$99I,C$99p.push(C$99x-C$99r,C$99y-(C$99s=C$99s/C$99C*C$99I),C$99m,C$99g,C$99v,C$99x+C$99r,C$99y+C$99s,C$99m,C$99g,C$99v);for(var C$99l=1;C$99l<C$99A-1;C$99l++)C$99x=C$99e[5*(C$99l-1)],C$99y=C$99e[5*(C$99l-1)+1],C$99i=C$99e[5*C$99l],C$99n=C$99e[5*C$99l+1],C$99S=C$99e[5*(C$99l+1)],C$99w=C$99e[5*(C$99l+1)+1],C$99s=C$99x-C$99i,C$99o=C$99i-C$99S,C$99T=(-(C$99r=(C$99r=-(C$99y-C$99n))/(C$99C=Math.sqrt(C$99r*C$99r+C$99s*C$99s))*C$99I)+C$99x)*(-(C$99s=C$99s/C$99C*C$99I)+C$99n)-(-C$99r+C$99i)*(-C$99s+C$99y),C$99M=(-(C$99a=(C$99a=-(C$99n-C$99w))/(C$99C=Math.sqrt(C$99a*C$99a+C$99o*C$99o))*C$99I)+C$99S)*(-(C$99o=C$99o/C$99C*C$99I)+C$99n)-(-C$99a+C$99i)*(-C$99o+C$99w),C$99o=(C$99b=-C$99s+C$99y-(-C$99s+C$99n))*(C$99a=-C$99a+C$99i-(-C$99a+C$99S))-(C$99S=-C$99o+C$99w-(-C$99o+C$99n))*(C$99w=-C$99r+C$99i-(-C$99r+C$99x)),Math.abs(C$99o)<.1?(C$99o+=10.1,C$99p.push(C$99i-C$99r,C$99n-C$99s,C$99m,C$99g,C$99v,C$99i+C$99r,C$99n+C$99s,C$99m,C$99g,C$99v)):C$99p.push(C$99w=(C$99w*C$99M-C$99a*C$99T)/C$99o,C$99a=(C$99S*C$99T-C$99b*C$99M)/C$99o,C$99m,C$99g,C$99v,C$99i-(C$99w-C$99i),C$99n-(C$99a-C$99n),C$99m,C$99g,C$99v);C$99f&&(C$99c=C$99f);var C$99D=this.edges+1;for(C$99l=1;C$99l<C$99D;C$99l++)C$99c.push(C$99h+2*(C$99l-1),C$99h+2*(C$99l-1)+1,C$99h+2*C$99l+1,C$99h+2*C$99l+1,C$99h+2*C$99l,C$99h+2*(C$99l-1));return C$99c.push(C$99h+2*(C$99l-1),C$99h+2*(C$99l-1)+1,C$99h+1,C$99h+1,C$99h,C$99h+2*(C$99l-1)),C$99p;},e$f;}(),C$99Dt=function(){function e$A(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._points=null,this._start=-1,this._repaint=!1,this.earcutTriangles=null,this._mat=C$99b.create(),this._points=C$99i.slice(0,C$99i.length),e$A.__super.call(this,C$99t,C$99e,0,0,this._points.length/2,C$99n,C$99r,C$99s);}C$99i(e$A,"laya.webgl.shapes.Polygon",C$99rt);var C$99t=e$A.prototype;return C$99t.rebuild=function(C$99t){this._repaint||(this._points.length=0,this._points=this._points.concat(C$99t));},C$99t.setMatrix=function(C$99t){C$99t.copyTo(this._mat);},C$99t.needUpdate=function(C$99t){return this._repaint=this._mat.a==C$99t.a&&this._mat.b==C$99t.b&&this._mat.c==C$99t.c&&this._mat.d==C$99t.d&&this._mat.tx==C$99t.tx&&this._mat.ty==C$99t.ty,!this._repaint;},C$99t.getData=function(C$99t,C$99e,C$99i){var C$99n,C$99r=0,C$99s=this._points,C$99a=0;if(this.mUint16Array&&this.mFloat32Array&&this._repaint){if(this._start!=C$99i){for(this._start=C$99i,C$99n=[],C$99a=this.earcutTriangles.length,C$99r=0;C$99r<C$99a;C$99r++)C$99n.push(this.earcutTriangles[C$99r]+C$99i);this.mUint16Array=new Uint16Array(C$99n);}}else{this._start=C$99i,C$99n=[];var C$99o=[],C$99h=[],C$99l=this.color,C$99u=(C$99l>>16&255)/255,C$99c=(C$99l>>8&255)/255,C$99_=(255&C$99l)/255;for(C$99a=Math.floor(C$99s.length/2),C$99r=0;C$99r<C$99a;C$99r++)C$99o.push(this.x+C$99s[2*C$99r],this.y+C$99s[2*C$99r+1],C$99u,C$99c,C$99_),C$99h.push(this.x+C$99s[2*C$99r],this.y+C$99s[2*C$99r+1]);for(this.earcutTriangles=C$99st.earcut(C$99h,null,2),C$99a=this.earcutTriangles.length,C$99r=0;C$99r<C$99a;C$99r++)C$99n.push(this.earcutTriangles[C$99r]+C$99i);this.mUint16Array=new Uint16Array(C$99n),this.mFloat32Array=new Float32Array(C$99o);}C$99t.append(this.mUint16Array),C$99e.append(this.mFloat32Array);},e$A;}(),C$99Et=function(){function e$i(){this._matrix=new C$99b(),this._matrix4=C$99gt.defaultMatrix4.concat(),e$i.__super.call(this,1e4),this.shaderValue=new C$99wt(0,0);}C$99i(e$i,"laya.webgl.submit.SubmitCanvas",C$99ot);var C$99t=e$i.prototype;return C$99t.renderSubmit=function(){if(this._ctx_src._targets)return this._ctx_src._targets.flush(this._ctx_src),1;var C$99t=C$99l.worldAlpha,C$99e=C$99l.worldMatrix4,C$99i=C$99l.worldMatrix,C$99n=C$99l.worldFilters,C$99r=C$99l.worldShaderDefines,C$99s=this.shaderValue,C$99a=this._matrix,C$99o=this._matrix4,C$99h=C$99b.TEMP;return C$99b.mul(C$99a,C$99i,C$99h),C$99o[0]=C$99h.a,C$99o[1]=C$99h.b,C$99o[4]=C$99h.c,C$99o[5]=C$99h.d,C$99o[12]=C$99h.tx,C$99o[13]=C$99h.ty,C$99l.worldMatrix=C$99h.clone(),C$99l.worldMatrix4=C$99o,C$99l.worldAlpha=C$99l.worldAlpha*C$99s.alpha,C$99s.filters&&C$99s.filters.length&&(C$99l.worldFilters=C$99s.filters,C$99l.worldShaderDefines=C$99s.defines),this._ctx_src.flush(),C$99l.worldAlpha=C$99t,C$99l.worldMatrix4=C$99e,C$99l.worldMatrix.destroy(),C$99l.worldMatrix=C$99i,C$99l.worldFilters=C$99n,C$99l.worldShaderDefines=C$99r,1;},C$99t.releaseRender=function(){var C$99t=e$i._cache;this._ctx_src=null,C$99t[C$99t._length++]=this;},C$99t.getRenderType=function(){return 10003;},e$i.create=function(C$99t,C$99e,C$99i){var C$99n=e$i._cache._length?e$i._cache[--e$i._cache._length]:new e$i();C$99n._ctx_src=C$99t;C$99t=C$99n.shaderValue;return C$99t.alpha=C$99e,C$99t.defines.setValue(0),C$99i&&C$99i.length&&C$99t.setFilters(C$99i),C$99n;},e$i._cache=((e$i._cache=[])._length=0,e$i._cache),e$i;}(),C$99Rt=(C$99i(e$I,"laya.webgl.submit.SubmitTexture",C$99ot),(C$99t=e$I.prototype).releaseRender=function(){var C$99t=e$I._cache;(C$99t[C$99t._length++]=this).shaderValue.release(),this.shaderValue=null,this._preIsSameTextureShader=!1,this._blendFn=null,this._vb=null,this._ib=null,this._texs.length=0,this._vbPos.length=0,this._texsID.length=0,this._isSameTexture=!0;},C$99t.addTexture=function(C$99t,C$99e){this._texsID[this._texs.length]=C$99t._uvID,this._texs.push(C$99t),this._vbPos.push(C$99e);},C$99t.checkTexture=function(){if(this._texs.length<1)this._isSameTexture=!0;else{var C$99t=this.shaderValue.textureHost.bitmap;if(null!==C$99t)for(var C$99e=this._vb.getFloat32Array(),C$99i=0,C$99n=this._texs.length;C$99i<C$99n;C$99i++){var C$99r=this._texs[C$99i];C$99r.active();var C$99s=C$99r.uv;var C$99a;this._texsID[C$99i]!==C$99r._uvID&&(this._texsID[C$99i]=C$99r._uvID,C$99e[(C$99a=this._vbPos[C$99i])+2]=C$99s[0],C$99e[C$99a+3]=C$99s[1],C$99e[C$99a+6]=C$99s[2],C$99e[C$99a+7]=C$99s[3],C$99e[C$99a+10]=C$99s[4],C$99e[C$99a+11]=C$99s[5],C$99e[C$99a+14]=C$99s[6],C$99e[C$99a+15]=C$99s[7],this._vb.setNeedUpload()),C$99r.bitmap!==C$99t&&(this._isSameTexture=!1);}}},C$99t.renderSubmit=function(){if(0===this._numEle)return e$I._shaderSet=!1,1;var C$99t=this.shaderValue.textureHost;if(C$99t){var C$99e=C$99t.source;if(!C$99t.bitmap||!C$99e)return e$I._shaderSet=!1,1;this.shaderValue.texture=C$99e,C$99t.alphaTexture&&C$99t.alphaTexture.source&&(this.shaderValue.texture1=C$99t.alphaTexture.source);}this._vb.bind_upload(this._ib);var C$99i=C$99u.mainContext;if(C$99G.activeBlendFunction!==this._blendFn&&(C$99i.enable(3042),this._blendFn(C$99i),C$99G.activeBlendFunction=this._blendFn),C$99R.drawCall++,C$99R.trianglesFaces+=this._numEle/3,this._preIsSameTextureShader&&C$99Bt.activeShader&&e$I._shaderSet?(C$99Bt.activeShader.uploadTexture2D(this.shaderValue.texture),this.shaderValue.texture1&&C$99Bt.activeShader.uploadTexture2D1(this.shaderValue.texture1)):this.shaderValue.upload(),e$I._shaderSet=!0,1<this._texs.length&&!this._isSameTexture)for(var C$99n=C$99t.bitmap,C$99r=0,C$99s=C$99Bt.activeShader,C$99a=0,C$99o=this._texs.length;C$99a<C$99o;C$99a++){var C$99h=this._texs[C$99a];C$99h.bitmap===C$99n&&C$99a+1!==C$99o||(C$99s.uploadTexture2D(C$99h.source),C$99i.drawElements(4,6*(C$99a-C$99r+1),5123,this._startIdx+6*C$99r*C$99gt.BYTES_PIDX),C$99n=C$99h.bitmap,C$99r=C$99a);}else C$99i.drawElements(4,this._numEle,5123,this._startIdx);return 1;},e$I.create=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=e$I._cache._length?e$I._cache[--e$I._cache._length]:new e$I();null==C$99i&&((C$99i=C$99s._selfVb||(C$99s._selfVb=C$99Qt.create(-1))).clear(),C$99n=0),C$99s._ib=C$99e,C$99s._vb=C$99i,C$99s._startIdx=C$99n*C$99gt.BYTES_PIDX,C$99s._numEle=0;C$99e=C$99t._nBlendType;C$99s._blendFn=(C$99t._targets?C$99G.targetFns:C$99G.fns)[C$99e],C$99s.shaderValue=C$99r,C$99s.shaderValue.setValue(C$99t._shader2D);C$99i=C$99t._shader2D.filters;return C$99i&&C$99s.shaderValue.setFilters(C$99i),C$99s;},e$I._cache=((e$I._cache=[])._length=0,e$I._cache),e$I._shaderSet=!0,e$I),C$99Pt=function(){function e$z(){e$z.__super.call(this,laya.webgl.utils.MeshTexture.const_stride,0,0),this.canReuse=!0,this.setAttributes(laya.webgl.utils.MeshTexture._fixattriInfo);}C$99i(e$z,"laya.webgl.utils.MeshTexture",C$99$t);var C$99t=e$z.prototype;return C$99t.addData=function(C$99t,C$99e,C$99i,C$99n,C$99u,C$99c){for(var C$99r=C$99t.length/2,C$99s=this._vb.needSize(C$99r*e$z.const_stride)>>2,C$99a=this._vb.getFloat32Array(),C$99o=0,C$99_=0;C$99_<C$99r;C$99_++){var C$99h=C$99t[C$99o],C$99d=C$99t[C$99o+1],C$99f=C$99h*C$99n.a+C$99d*C$99n.c+C$99n.tx,C$99h=C$99h*C$99n.b+C$99d*C$99n.d+C$99n.ty;C$99a[C$99s++]=C$99f,C$99a[C$99s++]=C$99h,C$99a[C$99s++]=C$99e[C$99o],C$99a[C$99s++]=C$99e[C$99o+1],C$99o+=2;}this._vb.setNeedUpload();var C$99p=this.vertNum;if(0<C$99p){(C$99r=C$99i.length)>e$z.tmpIdx.length&&(e$z.tmpIdx=new Uint16Array(C$99r));for(var C$99l=0;C$99l<C$99r;C$99l++)e$z.tmpIdx[C$99l]=C$99i[C$99l]+C$99p;this._ib.appendU16Array(e$z.tmpIdx,C$99i.length);}else this._ib.append(C$99i);this._ib.setNeedUpload(),this.vertNum+=C$99r,this.indexNum+=C$99i.length;},C$99t.releaseMesh=function(){this._vb._byteLength=0,this._ib._byteLength=0,this.vertNum=0,this.indexNum=0,laya.webgl.utils.MeshTexture._POOL.push(this);},C$99t.destroy=function(){this._ib.destroy(),this._vb.destroy();},e$z.getAMesh=function(){return laya.webgl.utils.MeshTexture._POOL.length?laya.webgl.utils.MeshTexture._POOL.pop():new e$z();},e$z.const_stride=16,e$z._POOL=[],C$99e(e$z,["_fixattriInfo",function(){return this._fixattriInfo=[5126,2,0,5126,2,8];},"tmpIdx",function(){return this.tmpIdx=new Uint16Array(4);}]),e$z;}(),C$99Bt=function(){function e$t(){e$t.__super.call(this),this.lock=!0;}return C$99i(e$t,"laya.webgl.shader.BaseShader",C$99C),e$t.activeShader=null,e$t.bindShader=null,e$t;}(),C$99Lt=(C$99i(e$b,"laya.webgl.resource.RenderTarget2D",C$99te=C$99N),C$99t=e$b.prototype,C$99g.imps(C$99t,{"laya.resource.IDispose":!0}),C$99t.getType=function(){return this._type;},C$99t.getTexture=function(){return this;},C$99t.size=function(C$99t,C$99e){this._w==C$99t&&this._h==C$99e||(this._w=C$99t,this._h=C$99e,this.release(),0!=this._w&&0!=this._h&&this._createWebGLRenderTarget());},C$99t.release=function(){this.destroy();},C$99t.recycle=function(){e$b.POOL.push(this);},C$99t.start=function(){var C$99t=C$99u.mainContext;return this._preRenderTarget=C$99l.curRenderTarget,C$99l.curRenderTarget=this,C$99t.bindFramebuffer(36160,this.bitmap.frameBuffer),this._alreadyResolved=!1,1==this._type&&(C$99t.viewport(0,0,this._w,this._h),this._svWidth=C$99l.width,this._svHeight=C$99l.height,C$99l.width=this._w,C$99l.height=this._h,C$99Bt.activeShader=null),this;},C$99t.clear=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99u.mainContext;C$99r.clearColor(C$99t=void 0===C$99t?0:C$99t,C$99e=void 0===C$99e?0:C$99e,C$99i=void 0===C$99i?0:C$99i,C$99n=void 0===C$99n?1:C$99n);var C$99s=16384;switch(this._depthStencilFormat){case 33189:C$99s|=256;break;case 36168:C$99s|=1024;break;case 34041:C$99s=C$99s|256|1024;}C$99r.clear(C$99s);},C$99t.end=function(){var C$99t=C$99u.mainContext;C$99t.bindFramebuffer(36160,this._preRenderTarget?this._preRenderTarget.bitmap.frameBuffer:null),this._alreadyResolved=!0,C$99l.curRenderTarget=this._preRenderTarget,1==this._type?(C$99t.viewport(0,0,this._svWidth,this._svHeight),C$99l.width=this._svWidth,C$99l.height=this._svHeight,C$99Bt.activeShader=null):C$99t.viewport(0,0,C$99g.stage.width,C$99g.stage.height);},C$99t.getData=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99u.mainContext;if(C$99r.bindFramebuffer(36160,this.bitmap.frameBuffer),36053!==C$99r.checkFramebufferStatus(36160))return C$99r.bindFramebuffer(36160,null),null;var C$99s=new Uint8Array(this._w*this._h*4);return C$99r.readPixels(C$99t,C$99e,C$99i,C$99n,this._surfaceFormat,this._surfaceType,C$99s),C$99r.bindFramebuffer(36160,null),C$99s;},C$99t.destroy=function(C$99t){void 0===C$99t&&(C$99t=!1),this._destroy||(this._loaded=!1,this.bitmap.offAll(),this.bitmap.disposeResource(),this.bitmap.dispose(),this.offAll(),this.bitmap=null,this._alreadyResolved=!1,this._destroy=!0,C$99te.prototype.destroy.call(this));},C$99t.dispose=function(){},C$99t._createWebGLRenderTarget=function(){this.bitmap=new C$99zt(this.width,this.height,this._surfaceFormat,this._surfaceType,this._depthStencilFormat,this._mipMap,this._repeat,this._minFifter,this._magFifter),this.bitmap.activeResource(),this._alreadyResolved=!0,this._destroy=!1,this._loaded=!0,this.bitmap.on("recovered",this,function(C$99t){this.event("recovered");});},C$99n(0,C$99t,"surfaceFormat",function(){return this._surfaceFormat;}),C$99n(0,C$99t,"magFifter",function(){return this._magFifter;}),C$99n(0,C$99t,"surfaceType",function(){return this._surfaceType;}),C$99n(0,C$99t,"mipMap",function(){return this._mipMap;}),C$99n(0,C$99t,"depthStencilFormat",function(){return this._depthStencilFormat;}),C$99n(0,C$99t,"minFifter",function(){return this._minFifter;}),C$99n(0,C$99t,"source",function(){return this._alreadyResolved?C$99g.superGet(C$99N,this,"source"):null;}),e$b.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){void 0===C$99i&&(C$99i=6408),void 0===C$99n&&(C$99n=5121),void 0===C$99r&&(C$99r=34041),void 0===C$99s&&(C$99s=!1),void 0===C$99a&&(C$99a=!1),void 0===C$99o&&(C$99o=-1),void 0===C$99h&&(C$99h=-1);var C$99l=e$b.POOL.pop();return(C$99l=C$99l||new e$b(C$99t,C$99e)).bitmap&&C$99l._w==C$99t&&C$99l._h==C$99e&&C$99l._surfaceFormat==C$99i&&C$99l._surfaceType==C$99n&&C$99l._depthStencilFormat==C$99r&&C$99l._mipMap==C$99s&&C$99l._repeat==C$99a&&C$99l._minFifter==C$99o&&C$99l._magFifter==C$99h||(C$99l._w=C$99t,C$99l._h=C$99e,C$99l._surfaceFormat=C$99i,C$99l._surfaceType=C$99n,C$99l._depthStencilFormat=C$99r,C$99S.isConchWebGL&&34041===C$99l._depthStencilFormat&&(C$99l._depthStencilFormat=33189),C$99l._mipMap=C$99s,C$99l._repeat=C$99a,C$99l._minFifter=C$99o,C$99l._magFifter=C$99h,C$99l.release(),C$99l._createWebGLRenderTarget()),C$99l;},e$b.TYPE2D=1,e$b.TYPE3D=2,e$b.POOL=[],e$b),C$99Nt=function(){function e$t(){this._glBuffer=null,this._buffer=null,this._bufferType=0,this._bufferUsage=0,this._byteLength=0,e$t.__super.call(this),e$t._gl=C$99u.mainContext;}C$99i(e$t,"laya.webgl.utils.Buffer",C$99C);var C$99t=e$t.prototype;return C$99t._bind=function(){this.activeResource(),e$t._bindActive[this._bufferType]!==this._glBuffer&&(34962===this._bufferType&&(e$t._bindVertexBuffer=this._glBuffer),e$t._gl.bindBuffer(this._bufferType,e$t._bindActive[this._bufferType]=this._glBuffer),C$99Bt.activeShader=null);},C$99t.recreateResource=function(){this._glBuffer||(this._glBuffer=e$t._gl.createBuffer()),this.completeCreate();},C$99t.disposeResource=function(){this._glBuffer&&(C$99u.mainContext.deleteBuffer(this._glBuffer),this._glBuffer=null),this.memorySize=0;},C$99n(0,C$99t,"bufferUsage",function(){return this._bufferUsage;}),e$t._gl=null,e$t._bindActive={},e$t._bindVertexBuffer=null,e$t._enableAtributes=[],e$t;}(),C$99kt=function(){function e$l(C$99t){this.texcoord=null,this.offsetX=300,this.offsetY=0,e$l.__super.call(this,512,0);var C$99e=8*C$99gt.BYTES_PE;this.position=[2,5126,!1,C$99e,0],this.texcoord=[2,5126,!1,C$99e,2*C$99gt.BYTES_PE],this.color=[4,5126,!1,C$99e,4*C$99gt.BYTES_PE];}return C$99i(e$l,"laya.webgl.shader.d2.skinAnishader.SkinSV",C$99wt),e$l;}(),C$99Ot=function(){function e$t(C$99t){e$t.__super.call(this,2,0),this.color=[];}return C$99i(e$t,"laya.webgl.shader.d2.value.Color2dSV",C$99wt),e$t.prototype.setValue=function(C$99t){C$99t.fillStyle&&(this.color=C$99t.fillStyle._color._color),C$99t.strokeStyle&&(this.color=C$99t.strokeStyle._color._color);},e$t;}(),C$99Vt=function(){function e$t(C$99t){this.u_colorMatrix=null,this.strength=0,this.colorMat=null,this.colorAlpha=null,this.u_TexRange=[0,1,0,1],this.u_offset=[0,0],this.texcoord=C$99wt._TEXCOORD,e$t.__super.call(this,256,0);}C$99i(e$t,"laya.webgl.shader.d2.value.FillTextureSV",C$99wt);var C$99t=e$t.prototype;return C$99t.setValue=function(C$99t){this.ALPHA=C$99t.ALPHA,C$99t.filters&&this.setFilters(C$99t.filters);},C$99t.clear=function(){this.texture=null,this.texture1=null,this.shader=null,this.colorMat=null,this.colorAlpha=null,this.defines.setValue(0);},e$t;}(),C$99Ft=function(){function e$t(C$99t){this.u_colorMatrix=null,this.strength=0,this.blurInfo=null,this.colorMat=null,this.colorAlpha=null,this.texcoord=C$99wt._TEXCOORD,e$t.__super.call(this,1,C$99t=void 0===C$99t?0:C$99t);}C$99i(e$t,"laya.webgl.shader.d2.value.TextureSV",C$99wt);var C$99t=e$t.prototype;return C$99t.setValue=function(C$99t){this.ALPHA=C$99t.ALPHA,C$99t.filters&&this.setFilters(C$99t.filters);},C$99t.clear=function(){this.texture=null,this.texture1=null,this.shader=null,this.colorMat=null,this.colorAlpha=null,this.defines.setValue(0);},e$t;}(),C$99Ut=function(){function e$t(C$99t){this.a_color=null,this.u_pos=[0,0],e$t.__super.call(this,4,0),this.position=[2,5126,!1,5*C$99gt.BYTES_PE,0],this.a_color=[3,5126,!1,5*C$99gt.BYTES_PE,2*C$99gt.BYTES_PE];}return C$99i(e$t,"laya.webgl.shader.d2.value.PrimitiveSV",C$99wt),e$t;}(),C$99Wt=function(C$99t){function e$t(){this._atlaser=null,this._flashCacheImage=null,this._flashCacheImageNeedFlush=!1,e$t.__super.call(this);}C$99i(e$t,"laya.webgl.atlas.AtlasWebGLCanvas",C$99t);var C$99e=e$t.prototype;return C$99e.recreateResource=function(){var C$99t=C$99u.mainContext,C$99e=this._source=C$99t.createTexture(),C$99i=C$99h.curBindTexTarget,C$99n=C$99h.curBindTexValue;C$99h.bindTexture(C$99t,3553,C$99e),C$99t.texImage2D(3553,0,6408,this._w,this._h,0,6408,5121,null),C$99t.texParameteri(3553,10241,9729),C$99t.texParameteri(3553,10240,9729),C$99t.texParameteri(3553,10242,33071),C$99t.texParameteri(3553,10243,33071),C$99i&&C$99n&&C$99h.bindTexture(C$99t,C$99i,C$99n),this.memorySize=this._w*this._h*4,this.completeCreate();},C$99e.disposeResource=function(){this._source&&(C$99u.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0);},C$99e.texSubImage2D=function(C$99t,C$99e,C$99i){var C$99n,C$99r,C$99s;C$99S.isFlash?(this._flashCacheImage||(this._flashCacheImage=C$99$.create(""),this._flashCacheImage._image.createCanvas(this._w,this._h)),C$99n=C$99i.bitmapdata,this._flashCacheImage._image.copyPixels(C$99n,0,0,C$99n.width,C$99n.height,C$99t,C$99e),this._flashCacheImageNeedFlush||(this._flashCacheImageNeedFlush=!0)):(C$99n=C$99u.mainContext,C$99r=C$99h.curBindTexTarget,C$99s=C$99h.curBindTexValue,C$99h.bindTexture(C$99n,3553,this._source),C$99n.pixelStorei(37441,!0),0<=C$99t-1&&C$99n.texSubImage2D(3553,0,C$99t-1,C$99e,6408,5121,C$99i),C$99t+1<=this._w&&C$99n.texSubImage2D(3553,0,C$99t+1,C$99e,6408,5121,C$99i),0<=C$99e-1&&C$99n.texSubImage2D(3553,0,C$99t,C$99e-1,6408,5121,C$99i),C$99e+1<=this._h&&C$99n.texSubImage2D(3553,0,C$99t,C$99e+1,6408,5121,C$99i),C$99n.texSubImage2D(3553,0,C$99t,C$99e,6408,5121,C$99i),C$99n.pixelStorei(37441,!1),C$99r&&C$99s&&C$99h.bindTexture(C$99n,C$99r,C$99s));},C$99e.texSubImage2DPixel=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99u.mainContext,C$99a=C$99h.curBindTexTarget,C$99o=C$99h.curBindTexValue;C$99h.bindTexture(C$99s,3553,this._source);C$99r=new Uint8Array(C$99r.data);C$99s.pixelStorei(37441,!0),C$99s.texSubImage2D(3553,0,C$99t,C$99e,C$99i,C$99n,6408,5121,C$99r),C$99s.pixelStorei(37441,!1),C$99a&&C$99o&&C$99h.bindTexture(C$99s,C$99a,C$99o);},C$99n(0,C$99e,"width",C$99t.prototype._$get_width,function(C$99t){this._w=C$99t;}),C$99n(0,C$99e,"height",C$99t.prototype._$get_height,function(C$99t){this._h=C$99t;}),e$t;}(C$99r),C$99Ht=function(){function e$W(){this.flipY=!0,this.alwaysChange=!1,e$W.__super.call(this);}C$99i(e$W,"laya.webgl.resource.WebGLCanvas",C$99r);var C$99t=e$W.prototype;return C$99t.getCanvas=function(){return this._canvas;},C$99t.clear=function(){this._ctx&&this._ctx.clear();},C$99t.destroy=function(){this._ctx&&this._ctx.destroy(),this._ctx=null,laya.resource.Resource.prototype.destroy.call(this);},C$99t._setContext=function(C$99t){this._ctx=C$99t;},C$99t.getContext=function(C$99t,C$99e){return this._ctx||(this._ctx=e$W._createContext(this));},C$99t.size=function(C$99t,C$99e){this._w==C$99t&&this._h==C$99e||(this._w=C$99t,this._h=C$99e,this._ctx&&this._ctx.size(C$99t,C$99e),this._canvas&&(this._canvas.height=C$99e,this._canvas.width=C$99t));},C$99t.activeResource=function(C$99t){void 0===C$99t&&(C$99t=!1),this._source||this.recreateResource();},C$99t.recreateResource=function(){this.createWebGlTexture(),this.completeCreate();},C$99t.disposeResource=function(){this._source&&!this.iscpuSource&&(C$99u.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0);},C$99t.createWebGlTexture=function(){var C$99t=C$99u.mainContext;this._canvas;var C$99e=this._source=C$99t.createTexture();this.iscpuSource=!1;var C$99i=C$99h.curBindTexTarget,C$99n=C$99h.curBindTexValue;C$99h.bindTexture(C$99t,3553,C$99e),C$99t.pixelStorei(37440,this.flipY?1:0),e$W.premulAlpha&&C$99t.pixelStorei(37441,!0),C$99t.texImage2D(3553,0,6408,6408,5121,this._imgData),e$W.premulAlpha&&C$99t.pixelStorei(37441,!1),C$99t.texParameteri(3553,10240,9729),C$99t.texParameteri(3553,10241,9729),C$99t.texParameteri(3553,10242,33071),C$99t.texParameteri(3553,10243,33071),C$99t.pixelStorei(37440,0),this.memorySize=this._w*this._h*4,C$99i&&C$99n&&C$99h.bindTexture(C$99t,C$99i,C$99n);},C$99t.reloadCanvasData=function(){var C$99t=C$99u.mainContext;if(!this._source)throw"reloadCanvasData error, gl texture not created!";var C$99e=C$99h.curBindTexTarget,C$99i=C$99h.curBindTexValue;C$99h.bindTexture(C$99t,3553,this._source),e$W.premulAlpha&&C$99t.pixelStorei(37441,!0),C$99t.texImage2D(3553,0,6408,6408,5121,this._imgData),e$W.premulAlpha&&C$99t.pixelStorei(37441,!1),C$99t.pixelStorei(37440,0),C$99e&&C$99i&&C$99h.bindTexture(C$99t,C$99e,C$99i);},C$99t.texSubImage2D=function(C$99t,C$99e,C$99i){var C$99n=C$99u.mainContext,C$99r=C$99h.curBindTexTarget,C$99s=C$99h.curBindTexValue;C$99h.bindTexture(C$99n,3553,this._source),C$99n.pixelStorei(37441,!0),C$99n.texSubImage2D(3553,0,C$99e,C$99i,6408,5121,C$99t._source),C$99n.pixelStorei(37441,!1),C$99r&&C$99s&&C$99h.bindTexture(C$99n,C$99r,C$99s);},C$99t.toBase64=function(C$99t,C$99e,C$99i){var C$99n=null;this._canvas&&(C$99n=this._canvas.toDataURL(C$99t,C$99e)),C$99i.call(this,C$99n);},C$99n(0,C$99t,"context",function(){return this._ctx;}),C$99n(0,C$99t,"source",function(){return this.alwaysChange&&this.reloadCanvasData(),this._source;}),C$99n(0,C$99t,"asBitmap",null,function(C$99t){this._ctx&&(this._ctx.asBitmap=C$99t);}),e$W._createContext=null,e$W.premulAlpha=!1,e$W;}(),C$99Gt=function(){function e$i(C$99t,C$99e){this.CborderSize=12,e$i.__super.call(this),this.char=C$99t,this.isSpace=" "===C$99t,this.xs=C$99e.scaleX,this.ys=C$99e.scaleY,this.font=C$99e.font.toString(),this.fontSize=C$99e.font.size,this.fillColor=C$99e.fillColor,this.borderColor=C$99e.borderColor,this.lineWidth=C$99e.lineWidth,this.underLine=C$99e.underLine;var C$99i,C$99t=C$99S.isConchApp;C$99t?((C$99i=ConchTextCanvas)._source=ConchTextCanvas,C$99i._source.canvas=ConchTextCanvas):C$99i=C$99o.canvas.source,this.canvas=C$99i,this._enableMerageInAtlas=!0,this._ctx=C$99t?C$99i:this.canvas.getContext("2d",void 0);C$99e=C$99k.measureText(this.char,this.font);this.cw=C$99e.width*this.xs,this.ch=(C$99e.height||this.fontSize)*this.ys,this.onresize(this.cw+2*this.CborderSize,this.ch+2*this.CborderSize),this.texture=new C$99N(this);}C$99i(e$i,"laya.webgl.resource.WebGLCharImage",C$99r);var C$99t=e$i.prototype;return C$99g.imps(C$99t,{"laya.webgl.resource.IMergeAtlasBitmap":!0}),C$99t.active=function(){this.texture.active();},C$99t.recreateResource=function(){var C$99t=C$99S.isConchApp;var C$99e;this.onresize(this.cw+2*this.CborderSize,this.ch+2*this.CborderSize),this.canvas&&(this.canvas.height=this._h,this.canvas.width=this._w),C$99t?(C$99t=this.fontSize,1==this.xs&&1==this.ys||(C$99t=parseInt(C$99t*(this.xs>this.ys?this.xs:this.ys)+"")),C$99e=(C$99e="normal 100 "+this.font).replace(e$i._fontSizeReg,C$99t),this.borderColor&&(C$99e+=" 1 "+this.borderColor),this._ctx.font=C$99e,this._ctx.textBaseline="top",this._ctx.fillStyle=this.fillColor,this._ctx.fillText(this.char,this.CborderSize,this.CborderSize,null,null,null)):(this._ctx.save(),this._ctx.lineJoin="round",this._ctx.clearRect(0,0,this.cw+2*this.CborderSize,this.ch+2*this.CborderSize),this._ctx.font=this.font,C$99L.RightToLeft&&(this._ctx.textAlign="end"),this._ctx.textBaseline="top",this._ctx.translate(this.CborderSize,this.CborderSize),1==this.xs&&1==this.ys||this._ctx.scale(this.xs,this.ys),this.fillColor&&this.borderColor?(this._ctx.strokeStyle=this.borderColor,this._ctx.lineWidth=this.lineWidth,this._ctx.strokeText(this.char,0,0,null,null,0,null),this._ctx.fillStyle=this.fillColor,this._ctx.fillText(this.char,0,0,null,null,null)):-1===this.lineWidth?(this._ctx.fillStyle=this.fillColor||"white",this._ctx.fillText(this.char,0,0,null,null,null)):(this._ctx.strokeStyle=this.borderColor||"white",this._ctx.lineWidth=this.lineWidth,this._ctx.strokeText(this.char,0,0,null,null,0,null)),this.underLine&&(this._ctx.lineWidth=1,this._ctx.strokeStyle=this.fillColor,this._ctx.beginPath(),this._ctx.moveTo(0,this.fontSize+1),C$99t=(this._ctx.measureText(this.char)||{width:16}).width+1,this._ctx.lineTo(C$99t,this.fontSize+1),this._ctx.stroke()),this._ctx.restore()),this.borderSize=this.CborderSize,this.completeCreate();},C$99t.onresize=function(C$99t,C$99e){this._w=C$99t,this._h=C$99e,this._allowMerageInAtlas=!0;},C$99t.clearAtlasSource=function(){},C$99n(0,C$99t,"allowMerageInAtlas",function(){return this._allowMerageInAtlas;}),C$99n(0,C$99t,"atlasSource",function(){return this.canvas;}),C$99n(0,C$99t,"enableMerageInAtlas",function(){return this._enableMerageInAtlas;},function(C$99t){this._enableMerageInAtlas=C$99t;}),e$i.createOneChar=function(C$99t,C$99e){return new e$i(C$99t,C$99e);},e$i._fontSizeReg=new RegExp("\\d+(?=px)","g"),e$i;}(),C$99zt=function(){function e$I(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){void 0===C$99i&&(C$99i=6408),void 0===C$99n&&(C$99n=5121),void 0===C$99r&&(C$99r=34041),void 0===C$99s&&(C$99s=!1),void 0===C$99a&&(C$99a=!1),void 0===C$99o&&(C$99o=-1),void 0===C$99h&&(C$99h=1),e$I.__super.call(this),this.uri="WebGLRenderTarget_"+this.id,this._w=C$99t,this._h=C$99e,this._surfaceFormat=C$99i,this._surfaceType=C$99n,this._depthStencilFormat=C$99r,this._mipMap=C$99s,this._repeat=C$99a,this._minFifter=C$99o,this._magFifter=C$99h;}C$99i(e$I,"laya.webgl.resource.WebGLRenderTarget",C$99r);var C$99t=e$I.prototype;return C$99t.recreateResource=function(){var C$99t=C$99u.mainContext;this._frameBuffer||(this._frameBuffer=C$99t.createFramebuffer()),this._source||(this._source=C$99t.createTexture());var C$99e=C$99h.curBindTexTarget,C$99i=C$99h.curBindTexValue;C$99h.bindTexture(C$99t,3553,this._source),C$99t.texImage2D(3553,0,6408,this._w,this._h,0,this._surfaceFormat,this._surfaceType,null);var C$99n=this._minFifter,C$99r=this._magFifter,C$99s=this._repeat?10497:33071,C$99a=C$99c.isPOT(this._w,this._h);if(C$99a?(this._mipMap?-1!==C$99n||(C$99n=9987):-1!==C$99n||(C$99n=9729),-1!==C$99r||(C$99r=9729),C$99t.texParameteri(3553,10241,C$99n),C$99t.texParameteri(3553,10240,C$99r),C$99t.texParameteri(3553,10242,C$99s),C$99t.texParameteri(3553,10243,C$99s),this._mipMap&&C$99t.generateMipmap(3553)):(-1!==C$99r||(C$99r=9729),C$99t.texParameteri(3553,10241,C$99n=-1!==C$99n?C$99n:9729),C$99t.texParameteri(3553,10240,C$99r),C$99t.texParameteri(3553,10242,33071),C$99t.texParameteri(3553,10243,33071)),C$99t.bindFramebuffer(36160,this._frameBuffer),C$99t.framebufferTexture2D(36160,36064,3553,this._source,0),this._depthStencilFormat)switch(this._depthStencilBuffer||(this._depthStencilBuffer=C$99t.createRenderbuffer()),C$99t.bindRenderbuffer(36161,this._depthStencilBuffer),C$99t.renderbufferStorage(36161,this._depthStencilFormat,this._w,this._h),this._depthStencilFormat){case 33189:C$99t.framebufferRenderbuffer(36160,36096,36161,this._depthStencilBuffer);break;case 36168:C$99t.framebufferRenderbuffer(36160,36128,36161,this._depthStencilBuffer);break;case 34041:C$99t.framebufferRenderbuffer(36160,33306,36161,this._depthStencilBuffer);}C$99t.bindFramebuffer(36160,null),C$99e&&C$99i&&C$99h.bindTexture(C$99t,C$99e,C$99i),C$99t.bindRenderbuffer(36161,null),C$99a&&this._mipMap?this.memorySize=this._w*this._h*4*(1+1/3):this.memorySize=this._w*this._h*4,this.completeCreate();},C$99t.disposeResource=function(){this._frameBuffer&&(C$99u.mainContext.deleteTexture(this._source),C$99u.mainContext.deleteFramebuffer(this._frameBuffer),C$99u.mainContext.deleteRenderbuffer(this._depthStencilBuffer),this._source=null,this._frameBuffer=null,this._depthStencilBuffer=null,this.memorySize=0,this.uri=null);},C$99n(0,C$99t,"depthStencilBuffer",function(){return this._depthStencilBuffer;}),C$99n(0,C$99t,"frameBuffer",function(){return this._frameBuffer;}),e$I;}(),C$99Yt=function(){function e$B(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this.offsetX=0,this.offsetY=0,e$B.__super.call(this),this.repeat=!0,this.mipmap=!1,this.minFifter=-1,this.magFifter=-1,this.atlasImage=C$99s,this.canvas=C$99t,this._ctx=C$99t.getContext("2d",void 0),this._w=C$99n,this._h=C$99r,this.offsetX=C$99e,this.offsetY=C$99i,this.src=C$99a,this._enableMerageInAtlas=!0,C$99W.enabled&&this._w<C$99W.atlasLimitWidth&&this._h<C$99W.atlasLimitHeight?this._allowMerageInAtlas=!0:this._allowMerageInAtlas=!1;}C$99i(e$B,"laya.webgl.resource.WebGLSubImage",C$99r);var C$99t=e$B.prototype;return C$99g.imps(C$99t,{"laya.webgl.resource.IMergeAtlasBitmap":!0}),C$99t.size=function(C$99t,C$99e){this._w=C$99t,this._h=C$99e,this._ctx&&this._ctx.size(C$99t,C$99e),this.canvas&&(this.canvas.height=C$99e,this.canvas.width=C$99t);},C$99t.recreateResource=function(){this.size(this._w,this._h),this._ctx.drawImage(this.atlasImage,this.offsetX,this.offsetY,this._w,this._h,0,0,this._w,this._h),this._allowMerageInAtlas&&this._enableMerageInAtlas?this.memorySize=0:this.createWebGlTexture(),this.completeCreate();},C$99t.createWebGlTexture=function(){var C$99t=C$99u.mainContext;if(!this.canvas)throw"create GLTextur err:no data:"+this.canvas;var C$99e=this._source=C$99t.createTexture(),C$99i=C$99h.curBindTexTarget,C$99n=C$99h.curBindTexValue;C$99h.bindTexture(C$99t,3553,C$99e),C$99t.pixelStorei(37441,!0),C$99t.texImage2D(3553,0,6408,6408,5121,this.canvas),C$99t.pixelStorei(37441,!1);var C$99e=this.minFifter,C$99r=this.magFifter,C$99s=this.repeat?10497:33071,C$99a=C$99c.isPOT(this.width,this.height);C$99a?(this.mipmap?-1!==C$99e||(C$99e=9987):-1!==C$99e||(C$99e=9729),C$99t.texParameteri(3553,10240,C$99r=-1!==C$99r?C$99r:9729),C$99t.texParameteri(3553,10241,C$99e),C$99t.texParameteri(3553,10242,C$99s),C$99t.texParameteri(3553,10243,C$99s),this.mipmap&&C$99t.generateMipmap(3553)):(-1!==C$99r||(C$99r=9729),C$99t.texParameteri(3553,10241,C$99e=-1!==C$99e?C$99e:9729),C$99t.texParameteri(3553,10240,C$99r),C$99t.texParameteri(3553,10242,33071),C$99t.texParameteri(3553,10243,33071)),C$99i&&C$99n&&C$99h.bindTexture(C$99t,C$99i,C$99n),this.canvas=null,C$99a&&this.mipmap?this.memorySize=this._w*this._h*4*(1+1/3):this.memorySize=this._w*this._h*4;},C$99t.disposeResource=function(){C$99W.enabled&&this._allowMerageInAtlas||!this._source||(C$99u.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0);},C$99t.clearAtlasSource=function(){},C$99n(0,C$99t,"allowMerageInAtlas",function(){return this._allowMerageInAtlas;}),C$99n(0,C$99t,"atlasSource",function(){return this.canvas;}),C$99n(0,C$99t,"enableMerageInAtlas",function(){return this._allowMerageInAtlas;},function(C$99t){this._allowMerageInAtlas=C$99t;}),e$B;}(),C$99Xt=function(){function e$I(C$99t,C$99e,C$99i,C$99n){if(this._curActTexIndex=0,this.tag={},this._program=null,this._params=null,this._paramsMap={},this._offset=0,e$I.__super.call(this),!C$99t||!C$99e)throw"Shader Error";this._id=++e$I._count,this._vs=C$99t,this._ps=C$99e,this._nameMap=C$99n||{},null!=C$99i&&(e$I.sharders[C$99i]=this);}C$99i(e$I,"laya.webgl.shader.Shader",C$99Bt);var C$99t=e$I.prototype;return C$99t.recreateResource=function(){this._compile(),this.completeCreate(),this.memorySize=0;},C$99t.disposeResource=function(){C$99u.mainContext.deleteShader(this._vshader),C$99u.mainContext.deleteShader(this._pshader),C$99u.mainContext.deleteProgram(this._program),this._vshader=this._pshader=this._program=null,this._params=null,this._paramsMap={},this.memorySize=0,this._curActTexIndex=0;},C$99t._compile=function(){if(!C$99u.mainContext.isContextLost()&&this._vs&&this._ps&&!this._params){this._reCompile=!0,this._params=[];var C$99t=[this._vs,this._ps],C$99e=C$99u.mainContext;if(this._program=C$99e.createProgram(),this._vshader=e$I._createShader(C$99e,C$99t[0],35633),this._pshader=e$I._createShader(C$99e,C$99t[1],35632),C$99e.attachShader(this._program,this._vshader),C$99e.attachShader(this._program,this._pshader),C$99e.linkProgram(this._program),!C$99S.isConchApp&&!C$99e.getProgramParameter(this._program,35714))throw C$99e.getProgramInfoLog(this._program);var C$99i,C$99n,C$99r,C$99s=0;for(C$99r=C$99S.isConchApp?C$99e.getProgramParameterEx(this._vs,this._ps,"",35721):C$99e.getProgramParameter(this._program,35721),C$99s=0;C$99s<C$99r;C$99s++){var C$99a=null;C$99i={vartype:"attribute",glfun:null,ivartype:0,attrib:C$99a=C$99S.isConchApp?C$99e.getActiveAttribEx(this._vs,this._ps,"",C$99s):C$99e.getActiveAttrib(this._program,C$99s),location:C$99e.getAttribLocation(this._program,C$99a.name),name:C$99a.name,type:C$99a.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0},this._params.push(C$99i);}var C$99o;for(C$99o=C$99S.isConchApp?C$99e.getProgramParameterEx(this._vs,this._ps,"",35718):C$99e.getProgramParameter(this._program,35718),C$99s=0;C$99s<C$99o;C$99s++){var C$99h=null;C$99h=C$99S.isConchApp?C$99e.getActiveUniformEx(this._vs,this._ps,"",C$99s):C$99e.getActiveUniform(this._program,C$99s),0<(C$99i={vartype:"uniform",glfun:null,ivartype:1,attrib:C$99a,location:C$99e.getUniformLocation(this._program,C$99h.name),name:C$99h.name,type:C$99h.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0}).name.indexOf("[0]")&&(C$99i.name=C$99i.name.substr(0,C$99i.name.length-3),C$99i.isArray=!0,C$99i.location=C$99e.getUniformLocation(this._program,C$99i.name)),this._params.push(C$99i);}for(C$99s=0,C$99n=this._params.length;C$99s<C$99n;C$99s++)if((C$99i=this._params[C$99s]).indexOfParams=C$99s,C$99i.index=1,C$99i.value=[C$99i.location,null],C$99i.codename=C$99i.name,C$99i.name=this._nameMap[C$99i.codename]||C$99i.codename,(this._paramsMap[C$99i.name]=C$99i)._this=this,C$99i.uploadedValue=[],"attribute"!==C$99i.vartype)switch(C$99i.type){case 5124:C$99i.fun=C$99i.isArray?this._uniform1iv:this._uniform1i;break;case 5126:C$99i.fun=C$99i.isArray?this._uniform1fv:this._uniform1f;break;case 35664:C$99i.fun=C$99i.isArray?this._uniform_vec2v:this._uniform_vec2;break;case 35665:C$99i.fun=C$99i.isArray?this._uniform_vec3v:this._uniform_vec3;break;case 35666:C$99i.fun=C$99i.isArray?this._uniform_vec4v:this._uniform_vec4;break;case 35678:C$99i.fun=this._uniform_sampler2D;break;case 35680:C$99i.fun=this._uniform_samplerCube;break;case 35676:C$99i.glfun=C$99e.uniformMatrix4fv,C$99i.fun=this._uniformMatrix4fv;break;case 35670:C$99i.fun=this._uniform1i;break;default:throw new Error("compile shader err!");}else C$99i.fun=this._attribute;}},C$99t.getUniform=function(C$99t){return this._paramsMap[C$99t];},C$99t._attribute=function(C$99t,C$99e){var C$99i=C$99u.mainContext,C$99n=C$99Nt._enableAtributes,C$99t=C$99t.location;return C$99n[C$99t]||C$99i.enableVertexAttribArray(C$99t),C$99i.vertexAttribPointer(C$99t,C$99e[0],C$99e[1],C$99e[2],C$99e[3],C$99e[4]+this._offset),C$99n[C$99t]=C$99Nt._bindVertexBuffer,1;},C$99t._uniform1f=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e?(C$99u.mainContext.uniform1f(C$99t.location,C$99i[0]=C$99e),1):0;},C$99t._uniform1fv=function(C$99t,C$99e){var C$99i;return C$99e.length<4?(C$99i=C$99t.uploadedValue)[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99u.mainContext.uniform1fv(C$99t.location,C$99e),C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3],1):0:(C$99u.mainContext.uniform1fv(C$99t.location,C$99e),1);},C$99t._uniform_vec2=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]?(C$99u.mainContext.uniform2f(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1]),1):0;},C$99t._uniform_vec2v=function(C$99t,C$99e){var C$99i;return C$99e.length<2?(C$99i=C$99t.uploadedValue)[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99u.mainContext.uniform2fv(C$99t.location,C$99e),C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3],1):0:(C$99u.mainContext.uniform2fv(C$99t.location,C$99e),1);},C$99t._uniform_vec3=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]?(C$99u.mainContext.uniform3f(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2]),1):0;},C$99t._uniform_vec3v=function(C$99t,C$99e){return C$99u.mainContext.uniform3fv(C$99t.location,C$99e),1;},C$99t._uniform_vec4=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99u.mainContext.uniform4f(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3]),1):0;},C$99t._uniform_vec4v=function(C$99t,C$99e){return C$99u.mainContext.uniform4fv(C$99t.location,C$99e),1;},C$99t._uniformMatrix2fv=function(C$99t,C$99e){return C$99u.mainContext.uniformMatrix2fv(C$99t.location,!1,C$99e),1;},C$99t._uniformMatrix3fv=function(C$99t,C$99e){return C$99u.mainContext.uniformMatrix3fv(C$99t.location,!1,C$99e),1;},C$99t._uniformMatrix4fv=function(C$99t,C$99e){return C$99u.mainContext.uniformMatrix4fv(C$99t.location,!1,C$99e),1;},C$99t._uniform1i=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e?(C$99u.mainContext.uniform1i(C$99t.location,C$99i[0]=C$99e),1):0;},C$99t._uniform1iv=function(C$99t,C$99e){return C$99u.mainContext.uniform1iv(C$99t.location,C$99e),1;},C$99t._uniform_ivec2=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]?(C$99u.mainContext.uniform2i(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1]),1):0;},C$99t._uniform_ivec2v=function(C$99t,C$99e){return C$99u.mainContext.uniform2iv(C$99t.location,C$99e),1;},C$99t._uniform_vec3i=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]?(C$99u.mainContext.uniform3i(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2]),1):0;},C$99t._uniform_vec3vi=function(C$99t,C$99e){return C$99u.mainContext.uniform3iv(C$99t.location,C$99e),1;},C$99t._uniform_vec4i=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99u.mainContext.uniform4i(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3]),1):0;},C$99t._uniform_vec4vi=function(C$99t,C$99e){return C$99u.mainContext.uniform4iv(C$99t.location,C$99e),1;},C$99t._uniform_sampler2D=function(C$99t,C$99e){var C$99i=C$99u.mainContext,C$99n=C$99t.uploadedValue;return null==C$99n[0]?(C$99n[0]=this._curActTexIndex,C$99i.uniform1i(C$99t.location,this._curActTexIndex),C$99i.activeTexture(e$I._TEXTURES[this._curActTexIndex]),C$99h.bindTexture(C$99i,3553,C$99e),this._curActTexIndex++,1):(C$99i.activeTexture(e$I._TEXTURES[C$99n[0]]),C$99h.bindTexture(C$99i,3553,C$99e),0);},C$99t._uniform_samplerCube=function(C$99t,C$99e){var C$99i=C$99u.mainContext,C$99n=C$99t.uploadedValue;return null==C$99n[0]?(C$99n[0]=this._curActTexIndex,C$99i.uniform1i(C$99t.location,this._curActTexIndex),C$99i.activeTexture(e$I._TEXTURES[this._curActTexIndex]),C$99h.bindTexture(C$99i,34067,C$99e),this._curActTexIndex++,1):(C$99i.activeTexture(e$I._TEXTURES[C$99n[0]]),C$99h.bindTexture(C$99i,34067,C$99e),0);},C$99t._noSetValue=function(C$99t){console.log("no....:"+C$99t.name);},C$99t.uploadOne=function(C$99t,C$99e){this.activeResource(),C$99h.UseProgram(this._program);C$99t=this._paramsMap[C$99t];C$99t.fun.call(this,C$99t,C$99e);},C$99t.uploadTexture2D=function(C$99t){C$99R.shaderCall++;var C$99e=C$99u.mainContext;C$99e.activeTexture(33984),C$99h.bindTexture(C$99e,3553,C$99t);},C$99t.uploadTexture2D1=function(C$99t){C$99R.shaderCall++;var C$99e=C$99u.mainContext;C$99e.activeTexture(33985),C$99h.bindTexture(C$99e,3553,C$99t);},C$99t.upload=function(C$99t,C$99e){(C$99Bt.activeShader=C$99Bt.bindShader=this)._lastUseFrameCount===C$99R.loopCount||this.activeResource(),C$99h.UseProgram(this._program),this._reCompile?(C$99e=this._params,this._reCompile=!1):C$99e=C$99e||this._params,C$99u.mainContext;for(var C$99i,C$99n,C$99r=C$99e.length,C$99s=0,C$99a=0;C$99a<C$99r;C$99a++)null!==(C$99n=C$99t[(C$99i=C$99e[C$99a]).name])&&(C$99s+=C$99i.fun.call(this,C$99i,C$99n));C$99R.shaderCall+=C$99s;},C$99t.uploadArray=function(C$99t,C$99e,C$99i){C$99Bt.activeShader=this,(C$99Bt.bindShader=this).activeResource(),C$99h.UseProgram(this._program),this._params;for(var C$99n,C$99r,C$99s=0,C$99a=C$99e-2;0<=C$99a;C$99a-=2)(C$99r=this._paramsMap[C$99t[C$99a]])&&null!=(C$99n=C$99t[C$99a+1])&&(C$99i&&C$99i[C$99r.name]&&C$99i[C$99r.name].bind(),C$99s+=C$99r.fun.call(this,C$99r,C$99n));C$99R.shaderCall+=C$99s;},C$99t.getParams=function(){return this._params;},e$I.getShader=function(C$99t){return e$I.sharders[C$99t];},e$I.create=function(C$99t,C$99e,C$99i,C$99n){return new e$I(C$99t,C$99e,C$99i,C$99n);},e$I.withCompile=function(C$99t,C$99e,C$99i,C$99n){if(C$99i&&e$I.sharders[C$99i])return e$I.sharders[C$99i];var C$99r=e$I._preCompileShader[2e-4*C$99t];if(!C$99r)throw new Error("withCompile shader err!"+C$99t);return C$99r.createShader(C$99e,C$99i,C$99n);},e$I.withCompile2D=function(C$99t,C$99e,C$99i,C$99n,C$99r){if(C$99n&&e$I.sharders[C$99n])return e$I.sharders[C$99n];var C$99s=e$I._preCompileShader[2e-4*C$99t+C$99e];if(!C$99s)throw new Error("withCompile shader err!"+C$99t+" "+C$99e);return C$99s.createShader(C$99i,C$99n,C$99r);},e$I.addInclude=function(C$99t,C$99e){C$99xt.addInclude(C$99t,C$99e);},e$I.preCompile=function(C$99t,C$99e,C$99i,C$99n){C$99t*=2e-4;e$I._preCompileShader[C$99t]=new C$99xt(C$99t,C$99e,C$99i,C$99n);},e$I.preCompile2D=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99t=2e-4*C$99t+C$99e;e$I._preCompileShader[C$99t]=new C$99xt(C$99t,C$99i,C$99n,C$99r);},e$I._createShader=function(C$99t,C$99e,C$99i){C$99i=C$99t.createShader(C$99i);return C$99t.shaderSource(C$99i,C$99e),C$99t.compileShader(C$99i),C$99i;},e$I._TEXTURES=[33984,33985,33986,33987,33988,33989,33990,,33991,33992],e$I._count=0,e$I._preCompileShader={},e$I.SHADERNAME2ID=2e-4,e$I.sharders=((e$I.sharders=[]).length=32,e$I.sharders),C$99e(e$I,["nameKey",function(){return this.nameKey=new C$99P();}]),e$I;}(),C$99jt=function(C$99t){function e$t(){this._maxsize=0,this._upload=!0,this._uploadSize=0,e$t.__super.call(this),this.lock=!0,this.uri="Buffer2D_"+this.id;}C$99i(e$t,"laya.webgl.utils.Buffer2D",C$99t);var C$99e=e$t.prototype;return C$99e.needSize=function(C$99t){var C$99e=this._byteLength;return C$99t&&((C$99t=this._byteLength+C$99t)<=this._buffer.byteLength||this._resizeBuffer(C$99t<<1,!0),this._byteLength=C$99t),C$99e;},C$99e._bufferData=function(){this._maxsize=Math.max(this._maxsize,this._byteLength),C$99R.loopCount%30==0&&(this._buffer.byteLength>this._maxsize+64&&(this.memorySize=this._buffer.byteLength,this._buffer=this._buffer.slice(0,this._maxsize+64),this._checkArrayUse()),this._maxsize=this._byteLength),this._uploadSize<this._buffer.byteLength&&(this._uploadSize=this._buffer.byteLength,C$99Nt._gl.bufferData(this._bufferType,this._uploadSize,this._bufferUsage),this.memorySize=this._uploadSize),C$99Nt._gl.bufferSubData(this._bufferType,0,this._buffer);},C$99e._bufferSubData=function(C$99t,C$99e,C$99i){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),this._maxsize=Math.max(this._maxsize,this._byteLength),C$99R.loopCount%30==0&&(this._buffer.byteLength>this._maxsize+64&&(this.memorySize=this._buffer.byteLength,this._buffer=this._buffer.slice(0,this._maxsize+64),this._checkArrayUse()),this._maxsize=this._byteLength),this._uploadSize<this._buffer.byteLength&&(this._uploadSize=this._buffer.byteLength,C$99Nt._gl.bufferData(this._bufferType,this._uploadSize,this._bufferUsage),this.memorySize=this._uploadSize),C$99e||C$99i?(C$99e=this._buffer.slice(C$99e,C$99i),C$99Nt._gl.bufferSubData(this._bufferType,C$99t,C$99e)):C$99Nt._gl.bufferSubData(this._bufferType,C$99t,this._buffer);},C$99e._checkArrayUse=function(){},C$99e._bind_upload=function(){return!!this._upload&&(this._upload=!1,this._bind(),this._bufferData(),!0);},C$99e._bind_subUpload=function(C$99t,C$99e,C$99i){return void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),!!this._upload&&(this._upload=!1,this._bind(),this._bufferSubData(C$99t,C$99e,C$99i),!0);},C$99e._resizeBuffer=function(C$99t,C$99e){return C$99t<this._buffer.byteLength||(this.memorySize=C$99t,C$99e&&this._buffer&&0<this._buffer.byteLength?(C$99e=new ArrayBuffer(C$99t),new Uint8Array(C$99e).set(new Uint8Array(this._buffer),0),this._buffer=C$99e):this._buffer=new ArrayBuffer(C$99t),this._checkArrayUse(),this._upload=!0),this;},C$99e.append=function(C$99t){var C$99e,C$99i;this._upload=!0,C$99e=C$99t.byteLength,C$99t instanceof Uint8Array?(this._resizeBuffer(this._byteLength+C$99e,!0),C$99i=new Uint8Array(this._buffer,this._byteLength)):C$99t instanceof Uint16Array?(this._resizeBuffer(this._byteLength+C$99e,!0),C$99i=new Uint16Array(this._buffer,this._byteLength)):C$99t instanceof Float32Array&&(this._resizeBuffer(this._byteLength+C$99e,!0),C$99i=new Float32Array(this._buffer,this._byteLength)),C$99i.set(C$99t,0),this._byteLength+=C$99e,this._checkArrayUse();},C$99e.appendU16Array=function(C$99t,C$99e){this._resizeBuffer(this._byteLength+2*C$99e,!0);for(var C$99i=new Uint16Array(this._buffer,this._byteLength,C$99e),C$99n=0;C$99n<C$99e;C$99n++)C$99i[C$99n]=C$99t[C$99n];this._byteLength+=2*C$99e,this._checkArrayUse();},C$99e.appendEx=function(C$99t,C$99e){var C$99i;this._upload=!0,C$99i=C$99t.byteLength,this._resizeBuffer(this._byteLength+C$99i,!0),new C$99e(this._buffer,this._byteLength).set(C$99t,0),this._byteLength+=C$99i,this._checkArrayUse();},C$99e.appendEx2=function(C$99t,C$99e,C$99i,C$99n){var C$99r;void 0===C$99n&&(C$99n=1),this._upload=!0,this._resizeBuffer(this._byteLength+(C$99n=C$99i*C$99n),!0),C$99r=new C$99e(this._buffer,this._byteLength);var C$99s=0;for(C$99s=0;C$99s<C$99i;C$99s++)C$99r[C$99s]=C$99t[C$99s];this._byteLength+=C$99n,this._checkArrayUse();},C$99e.getBuffer=function(){return this._buffer;},C$99e.setNeedUpload=function(){this._upload=!0;},C$99e.getNeedUpload=function(){return this._upload;},C$99e.upload=function(){var C$99t=this._bind_upload();return C$99Nt._gl.bindBuffer(this._bufferType,null),C$99Nt._bindActive[this._bufferType]=null,C$99Bt.activeShader=null,C$99t;},C$99e.subUpload=function(C$99t,C$99e,C$99i){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0);C$99t=this._bind_subUpload();return C$99Nt._gl.bindBuffer(this._bufferType,null),C$99Nt._bindActive[this._bufferType]=null,C$99Bt.activeShader=null,C$99t;},C$99e.disposeResource=function(){C$99t.prototype.disposeResource.call(this),this._upload=!0,this._uploadSize=0;},C$99e.clear=function(){this._byteLength=0,this._upload=!0;},C$99n(0,C$99e,"bufferLength",function(){return this._buffer.byteLength;}),C$99n(0,C$99e,"byteLength",null,function(C$99t){this._byteLength!==C$99t&&(C$99t<=this._buffer.byteLength||this._resizeBuffer(2*C$99t+256,!0),this._byteLength=C$99t);}),e$t.__int__=function(C$99t){C$99Zt.QuadrangleIB=C$99Zt.create(35044),C$99vt.fillIBQuadrangle(C$99Zt.QuadrangleIB,16);},e$t.FLOAT32=4,e$t.SHORT=2,e$t;}(C$99Nt),C$99Kt=(function(C$99e){function e$l(C$99t){this.u_blurX=!1,this.u_color=null,this.u_offset=null,this.u_strength=NaN,this.u_texW=0,this.u_texH=0,e$l.__super.call(this,9);}C$99i(e$l,"laya.webgl.shader.d2.value.GlowSV",C$99e);var C$99t=e$l.prototype;C$99t.setValue=function(C$99t){C$99e.prototype.setValue.call(this,C$99t);},C$99t.clear=function(){C$99e.prototype.clear.call(this);};}(C$99Ft),function(C$99t){function e$t(C$99t){e$t.__super.call(this,64),this.defines.add(64);}C$99i(e$t,"laya.webgl.shader.d2.value.TextSV",C$99t);var C$99e=e$t.prototype;return C$99e.release=function(){(e$t.pool[e$t._length++]=this).clear();},C$99e.clear=function(){C$99t.prototype.clear.call(this);},e$t.create=function(){return e$t._length?e$t.pool[--e$t._length]:new e$t();},e$t.pool=[],e$t._length=0,e$t;}(C$99Ft)),C$99qt=function(C$99t){function e$W(C$99t,C$99e,C$99i,C$99n){this._params2dQuick1=null,this._params2dQuick2=null,this._shaderValueWidth=NaN,this._shaderValueHeight=NaN,e$W.__super.call(this,C$99t,C$99e,C$99i,C$99n);}C$99i(e$W,"laya.webgl.shader.d2.Shader2X",C$99t);var C$99e=e$W.prototype;return C$99e.upload2dQuick1=function(C$99t){this.upload(C$99t,this._params2dQuick1||this._make2dQuick1());},C$99e._make2dQuick1=function(){if(!this._params2dQuick1){this.activeResource(),this._params2dQuick1=[];for(var C$99t,C$99e=this._params,C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)C$99t=C$99e[C$99i],(C$99S.isFlash||"size"!==C$99t.name&&"position"!==C$99t.name&&"texcoord"!==C$99t.name)&&this._params2dQuick1.push(C$99t);}return this._params2dQuick1;},C$99e.disposeResource=function(){C$99t.prototype.disposeResource.call(this),this._params2dQuick1=null,this._params2dQuick2=null;},C$99e.upload2dQuick2=function(C$99t){this.upload(C$99t,this._params2dQuick2||this._make2dQuick2());},C$99e._make2dQuick2=function(){if(!this._params2dQuick2){this.activeResource(),this._params2dQuick2=[];for(var C$99t,C$99e=this._params,C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)C$99t=C$99e[C$99i],!C$99S.isFlash&&"size"===C$99t.name||this._params2dQuick2.push(C$99t);}return this._params2dQuick2;},e$W.create=function(C$99t,C$99e,C$99i,C$99n){return new e$W(C$99t,C$99e,C$99i,C$99n);},e$W;}(C$99Xt),C$99Zt=function(){function e$t(C$99t){this._uint8Array=null,this._uint16Array=null,void 0===C$99t&&(C$99t=35044),e$t.__super.call(this),this._bufferUsage=C$99t,this._bufferType=34963,C$99S.isFlash||(this._buffer=new ArrayBuffer(8));}C$99i(e$t,"laya.webgl.utils.IndexBuffer2D",C$99jt);var C$99t=e$t.prototype;return C$99t._checkArrayUse=function(){this._uint8Array&&(this._uint8Array=new Uint8Array(this._buffer)),this._uint16Array&&(this._uint16Array=new Uint16Array(this._buffer));},C$99t.getUint8Array=function(){return this._uint8Array||(this._uint8Array=new Uint8Array(this._buffer));},C$99t.getUint16Array=function(){return this._uint16Array||(this._uint16Array=new Uint16Array(this._buffer));},C$99t.destory=function(){this._uint16Array=null,this._uint8Array=null,this._buffer=null;},e$t.QuadrangleIB=null,e$t.create=function(C$99t){return new e$t(C$99t=void 0===C$99t?35044:C$99t);},e$t;}(),C$99Qt=function(C$99t){function e$l(C$99t,C$99e){this._floatArray32=null,this._vertexStride=0,e$l.__super.call(this),this._vertexStride=C$99t,this._bufferUsage=C$99e,this._bufferType=34962,C$99S.isFlash||(this._buffer=new ArrayBuffer(8)),this.getFloat32Array();}C$99i(e$l,"laya.webgl.utils.VertexBuffer2D",C$99t);var C$99e=e$l.prototype;return C$99e.getFloat32Array=function(){return this._floatArray32||(this._floatArray32=new Float32Array(this._buffer));},C$99e.bind=function(C$99t){C$99t&&C$99t._bind(),this._bind();},C$99e.insertData=function(C$99t,C$99e){this.getFloat32Array().set(C$99t,C$99e),this._upload=!0;},C$99e.bind_upload=function(C$99t){C$99t._bind_upload()||C$99t._bind(),this._bind_upload()||this._bind();},C$99e._checkArrayUse=function(){this._floatArray32&&(this._floatArray32=new Float32Array(this._buffer));},C$99e.disposeResource=function(){C$99t.prototype.disposeResource.call(this);},C$99e.destory=function(){this._byteLength=0,this._upload=!0,this._buffer=null,this._floatArray32=null;},C$99n(0,C$99e,"vertexStride",function(){return this._vertexStride;}),e$l.create=function(C$99t,C$99e){return new e$l(C$99t,C$99e=void 0===C$99e?35048:C$99e);},e$l;}(C$99jt),C$99Jt=function(){function e$B(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){if(this._format=0,this._mipmap=!1,this._allowMerageInAtlas=!1,this._enableMerageInAtlas=!1,this.repeat=!1,this._image=null,this.minFifter=0,void(this.magFifter=0)===C$99i&&(C$99i=6408),void 0===C$99n&&(C$99n=!0),e$B.__super.call(this,C$99t,C$99e),C$99t){if(this._format=C$99i,this._mipmap=C$99n,this.repeat=!1,this.minFifter=-1,this.magFifter=-1,"string"==typeof C$99t)this._url=C$99t,this._src=C$99t,this._image=new C$99o.window.Image(),C$99e&&(C$99e.onload&&(this.onload=C$99e.onload),C$99e.onerror&&(this.onerror=C$99e.onerror),C$99e.onCreate&&C$99e.onCreate(this)),this._image.crossOrigin=C$99t&&0==C$99t.indexOf("data:")?null:"",C$99t&&(this._image.src=C$99t);else if(C$99t instanceof ArrayBuffer){this._src=C$99e,this._url=this._src;C$99n=new C$99a(C$99t);C$99n.readUTFBytes(4),C$99n.readUTFBytes(2),C$99n.getInt16(),C$99n.endian="bigEndian",this._w=C$99n.getInt16(),this._h=C$99n.getInt16(),C$99n.getInt16(),C$99n.getInt16(),this._image=new Uint8Array(C$99t,C$99n.pos),this._format=C$99u.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL,C$99W.enabled&&this._w<C$99W.atlasLimitWidth&&this._h<C$99W.atlasLimitHeight?this._allowMerageInAtlas=!0:this._allowMerageInAtlas=!1;}else{if(!(C$99t instanceof Uint8Array))return this._src=C$99e,this._url=this._src,this._image=C$99t.source||C$99t,this._$5__enableMerageInAtlas=!1,void this.onresize();this._src=C$99e,this._url=this._src,this._w=C$99r,this._h=C$99s,this._image=C$99t,this._format=0===C$99i?C$99t.byteLength/(C$99r*C$99s)==4?6408:6407:C$99i;}this._$5__enableMerageInAtlas=!0;}}C$99i(e$B,"laya.webgl.resource.WebGLImage",C$99$);var C$99t=e$B.prototype;return C$99g.imps(C$99t,{"laya.webgl.resource.IMergeAtlasBitmap":!0}),C$99t._init_=function(C$99t,C$99e){},C$99t._createWebGlTexture=function(){if(!this._image)throw"create GLTextur err:no data:"+this._image;var C$99t=C$99u.mainContext,C$99e=this._source=C$99t.createTexture(),C$99i=C$99h.curBindTexTarget,C$99n=C$99h.curBindTexValue;C$99h.bindTexture(C$99t,3553,C$99e);var C$99e=this.minFifter,C$99r=this.magFifter,C$99s=this.repeat?10497:33071,C$99a=C$99c.isPOT(this._w,this._h),C$99o=!1;switch(C$99a?(this.mipmap?-1!==C$99e||(C$99e=9987):-1!==C$99e||(C$99e=9729),-1!==C$99r||(C$99r=9729),C$99t.texParameteri(3553,10241,C$99e),C$99t.texParameteri(3553,10240,C$99r),C$99t.texParameteri(3553,10242,C$99s),C$99t.texParameteri(3553,10243,C$99s),this.mipmap&&C$99t.generateMipmap(3553)):(-1!==C$99r||(C$99r=9729),C$99t.texParameteri(3553,10241,C$99e=-1!==C$99e?C$99e:9729),C$99t.texParameteri(3553,10240,C$99r),C$99t.texParameteri(3553,10242,33071),C$99t.texParameteri(3553,10243,33071)),C$99t.pixelStorei(37441,!0),this._format){case 6407:case 6408:this._image instanceof Uint8Array?(6407==this._format&&C$99t.pixelStorei(C$99t.UNPACK_ALIGNMENT,1),C$99t.texImage2D(3553,0,this._format,this._w,this._h,0,this._format,5121,this._image)):(6407==this._format&&C$99t.pixelStorei(C$99t.UNPACK_ALIGNMENT,1),C$99t.texImage2D(3553,0,this._format,this._format,5121,this._image));break;case 6406:C$99o=!0,C$99t.texImage2D(3553,0,this._format,this._w,this._h,0,this._format,5121,this._image);break;case 35840:case 35841:case 35842:case 35843:case 33779:case 37815:case 37812:case 37821:case C$99u.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:C$99o=!0,C$99t.compressedTexImage2D(3553,0,this._format,this._w,this._h,0,this._image);break;default:console.error("\u6536\u5230\u5176\u4ed6\u7684\u7eb9\u7406\u7c7b\u578b\uff1a",this._format);}C$99t.pixelStorei(37441,!1),C$99i&&C$99n&&C$99h.bindTexture(C$99t,C$99i,C$99n),this.uri||(this.uri=this._url),C$99o?this.memorySize=this._image.length:C$99a&&this.mipmap?this.memorySize=this._w*this._h*4*(1+1/3):this.memorySize=this._w*this._h*4,this._image.onload=null,this._image=null,this._recreateLock=!1;},C$99t.recreateResource=function(){var C$99t=this;var C$99e;(this._image||null!=this._src&&""!==this._src)&&(this._needReleaseAgain=!1,this._image?this._recreateLock||(this._allowMerageInAtlas&&this._$5__enableMerageInAtlas?(this.memorySize=0,this._recreateLock=!1):this._createWebGlTexture(),this.completeCreate()):(this._recreateLock=!0,(C$99e=this)._image=new C$99o.window.Image(),this._image.crossOrigin=0==this._src.indexOf("data:")?null:"",this._image.onload=function(){if(C$99e._needReleaseAgain)return C$99e._needReleaseAgain=!1,C$99e._image.onload=null,void(C$99e._image=null);C$99e._allowMerageInAtlas&&C$99e._enableMerageInAtlas?(C$99t.memorySize=0,C$99t._recreateLock=!1):C$99e._createWebGlTexture(),C$99e.completeCreate();},this._image.src=this._src));},C$99t.disposeResource=function(){this._recreateLock&&(this._needReleaseAgain=!0),this._source&&C$99u.mainContext.deleteTexture(this._source),this._source=null,this._image=null,this.memorySize=0;},C$99t.onresize=function(){this._w=this._image.width,this._h=this._image.height,C$99W.enabled&&this._w<C$99W.atlasLimitWidth&&this._h<C$99W.atlasLimitHeight?this._allowMerageInAtlas=!0:this._allowMerageInAtlas=!1;},C$99t.clearAtlasSource=function(){this._image=null;},C$99n(0,C$99t,"format",function(){return this._format;}),C$99n(0,C$99t,"enableMerageInAtlas",function(){return this._$5__enableMerageInAtlas;},function(C$99t){this._$5__enableMerageInAtlas=C$99t;}),C$99n(0,C$99t,"mipmap",function(){return this._mipmap;}),C$99n(0,C$99t,"allowMerageInAtlas",function(){return this._allowMerageInAtlas;}),C$99n(0,C$99t,"atlasSource",function(){return this._image;}),C$99n(0,C$99t,"onload",null,function(C$99t){var C$99e=this;this._onload=C$99t,this._image&&(this._image.onload=null!=this._onload?function(){C$99e.onresize(),C$99e._onload();}:null);}),C$99n(0,C$99t,"onerror",null,function(C$99t){var C$99e=this;this._onerror=C$99t,this._image&&(this._image.onerror=null!=this._onerror?function(){C$99e._onerror();}:null);}),e$B;}();function e$b(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){this._type=0,this._svWidth=NaN,this._svHeight=NaN,this._preRenderTarget=null,this._alreadyResolved=!1,this._looked=!1,this._surfaceFormat=0,this._surfaceType=0,this._depthStencilFormat=0,this._mipMap=!1,this._repeat=!1,this._minFifter=0,this._magFifter=0,this._destroy=!1,void 0===C$99i&&(C$99i=6408),void 0===C$99n&&(C$99n=5121),void 0===C$99r&&(C$99r=34041),void 0===C$99s&&(C$99s=!1),void 0===C$99a&&(C$99a=!1),void 0===C$99o&&(C$99o=-1),void 0===C$99h&&(C$99h=-1),this._type=1,this._w=C$99t,this._h=C$99e,this._surfaceFormat=C$99i,this._surfaceType=C$99n,this._depthStencilFormat=C$99r,C$99S.isConchWebGL&&34041===this._depthStencilFormat&&(this._depthStencilFormat=33189),this._mipMap=C$99s,this._repeat=C$99a,this._minFifter=C$99o,this._magFifter=C$99h,this._createWebGLRenderTarget(),this.bitmap.lock=!0,e$b.__super.call(this,this.bitmap,C$99N.INV_UV);}var C$99te;function e$I(C$99t){this._preIsSameTextureShader=!1,this._isSameTexture=!0,this._texs=new Array(),this._texsID=new Array(),this._vbPos=new Array(),e$I.__super.call(this,C$99t=void 0===C$99t?1e4:C$99t);}function e$D(C$99t,C$99e){e$D.__super.call(this,C$99t,C$99e);}function e$Z(C$99t){this._x=0,this._y=0,this._id=++e$Z._COUNT,this._path=null,this._drawCount=1,this._maxNumEle=0,this._clear=!1,this._isMain=!1,this._atlasResourceChange=0,this._submits=null,this._curSubmit=null,this._ib=null,this._vb=null,this._nBlendType=0,this._saveMark=null,this._shader2D=null,this.meshlist=[],this.mId=-1,this.mHaveKey=!1,this.mHaveLineKey=!1,this.mX=0,this.mY=0,e$Z.__super.call(this),this._width=99999999,this._height=99999999,this._clipRect=e$Z.MAXCLIPRECT,this.mOutPoint,this._canvas=C$99t,this._canvas._addReference(),e$Z._contextcount++,C$99S.isFlash?(this._ib=C$99Zt.create(35044),C$99vt.fillIBQuadrangle(this._ib,16)):this._ib=C$99Zt.QuadrangleIB,this.clear();}var C$99ee;function e$g(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=this;function e$A(C$99t){var C$99e=[],C$99i=new C$99ie(C$99e);return C$99s._compileToTree(C$99i,C$99t.split("\n"),0,C$99e,C$99r),C$99i;}var C$99a=C$99o.now();this._VS=e$A(C$99e),this._PS=e$A(C$99i),this._nameMap=C$99n,2<C$99o.now()-C$99a&&console.log("ShaderCompile use time:"+(C$99o.now()-C$99a)+"  size:"+C$99e.length+"/"+C$99i.length);}var C$99ie,C$99ne;function e$Y(){}function e$S(){}var C$99re;function e$f(){this.offset=0,this.startIndex=0,this._mat=C$99b.create();}function e$o(C$99t){this._renderType=C$99t=void 0===C$99t?1e4:C$99t;}function e$w(){}function e$A(){this.mVBBuffer=null,this.mIBBuffer=null,this.mVBData=null,this.mIBData=null,this.mEleNum=0,this.mTexture=null,this.transform=null,this._vs=null,this._ps=null,this._indexStart=-1,this._verticles=null,this._uvs=null,this._tempMatrix=new C$99b();}function e$W(){}function e$k(){this._saveuse=0;}function e$c(){this._contextX=0,this._contextY=0,this._clipRect=new C$99T(),this._rect=new C$99T(),this._matrix=new C$99b();}function e$i(){this._clipRect=new C$99T();}function e$B(){}function e$l(C$99t){this._color=C$99d.create("black"),this.setValue(C$99t);}function e$t(){}function e$z(C$99t,C$99e,C$99i,C$99n){this._currentAtlasCount=0,this._maxAtlaserCount=0,this._width=0,this._height=0,this._gridSize=0,this._gridNumX=0,this._gridNumY=0,this._init=!1,this._curAtlasIndex=0,this._setAtlasParam=!1,this._atlaserArray=null,this._needGC=!1,this._setAtlasParam=!0,this._width=C$99t,this._height=C$99e,this._gridSize=C$99i,this._maxAtlaserCount=C$99n,this._gridNumX=C$99t/C$99i,this._gridNumY=C$99e/C$99i,this._curAtlasIndex=0,this._atlaserArray=[];}function e$d(){}var C$99t;C$99g.__init([C$99pt,C$99U,C$99bt,C$99xt]);}((window,document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$99t,C$99e){"use strict";for(var C$99i in Object.defineProperty(C$99e,"__esModule",{value:!0}),Laya){var C$99n=Laya[C$99i];C$99n&&C$99n.__isclass&&(C$99e[C$99i]=C$99n);}}),function(C$99o,C$99i){C$99i.un,C$99i.uns;var C$99e=C$99i.static,C$99n=C$99i.class,C$99r=C$99i.getset,C$99h=(C$99i.__newvec,laya.utils.Browser,laya.display.css.CSSStyle),C$99_=laya.utils.ClassUtils,C$99c=(laya.events.Event,laya.utils.HTMLChar),C$99s=laya.net.Loader,C$99l=(laya.display.Node,laya.maths.Rectangle),C$99d=laya.renders.Render,C$99u=(laya.renders.RenderContext,laya.renders.RenderSprite,laya.display.Sprite),C$99f=laya.utils.Stat,C$99E=laya.display.Text,C$99p=laya.resource.Texture,C$99m=laya.net.URL,C$99g=laya.utils.Utils,C$99v=(C$99n(e$c,"laya.html.utils.HTMLParse"),e$c.parse=function(C$99t,C$99e,C$99i){C$99e=(C$99e="<root>"+C$99e.replace(/<br>/g,"<br/>")+"</root>").replace(e$c.spacePattern,e$c.char255);C$99e=C$99g.parseXMLFromString(C$99e);e$c._parseXML(C$99t,C$99e.childNodes[0].childNodes,C$99i);},e$c._parseXML=function(C$99t,C$99e,C$99i,C$99n){var C$99r=0,C$99s=0;var C$99a,C$99o,C$99h;if(C$99e.join||C$99e.item)for(C$99r=0,C$99s=C$99e.length;C$99r<C$99s;++C$99r)e$c._parseXML(C$99t,C$99e[C$99r],C$99i,C$99n);else if(3!=C$99e.nodeType){if("#comment"!=(C$99o=C$99e.nodeName.toLowerCase()))if(C$99a=C$99_.getInstance(C$99o)){(C$99a=C$99t.addChild(C$99a)).URI=C$99i,C$99a.href=C$99n;var C$99l=C$99e.attributes;if(C$99l&&0<C$99l.length)for(C$99r=0,C$99s=C$99l.length;C$99r<C$99s;++C$99r){var C$99u=C$99l[C$99r],C$99c=C$99u.nodeName,C$99u=C$99u.value;C$99a._setAttributes(C$99c,C$99u);}e$c._parseXML(C$99a,C$99e.childNodes,C$99i,C$99a.href);}else e$c._parseXML(C$99t,C$99e.childNodes,C$99i,C$99n);}else C$99t instanceof laya.html.dom.HTMLDivElement?(null==C$99e.nodeName&&(C$99e.nodeName="#text"),C$99o=C$99e.nodeName.toLowerCase(),0<(C$99h=C$99e.textContent.replace(/^\s+|\s+$/g,"")).length&&(C$99a=C$99_.getInstance(C$99o))&&(C$99t.addChild(C$99a),C$99a.innerTEXT=C$99h.replace(e$c.char255AndOneSpacePattern," "))):0<(C$99h=C$99e.textContent.replace(/^\s+|\s+$/g,"")).length&&(C$99t.innerTEXT=C$99h.replace(e$c.char255AndOneSpacePattern," "));},e$c.char255=String.fromCharCode(255),e$c.spacePattern=/&nbsp;|&#160;/g,e$c.char255AndOneSpacePattern=new RegExp(String.fromCharCode(255)+"|(\\s+)","g"),e$c),C$99$=(C$99n(e$x,"laya.html.utils.Layout"),e$x.later=function(C$99t){null==e$x._will&&(e$x._will=[],C$99i.stage.frameLoop(1,null,function(){if(!(e$x._will.length<1)){for(var C$99t=0;C$99t<e$x._will.length;C$99t++)laya.html.utils.Layout.layout(e$x._will[C$99t]);e$x._will.length=0;}})),e$x._will.push(C$99t);},e$x.layout=function(C$99t){if(!C$99t||!C$99t._style)return null;if(0==(512&C$99t._style._type))return null;C$99t.getStyle()._type&=-513;var C$99e=e$x._multiLineLayout(C$99t);return C$99d.isConchApp&&C$99t.layaoutCallNative&&C$99t.layaoutCallNative(),C$99e;},e$x._multiLineLayout=function(C$99t){if(C$99E.RightToLeft)return e$x._multiLineLayout2(C$99t);var C$99u=new Array();C$99t._addChildsToLayout(C$99u);var C$99e,C$99c,C$99i,C$99n=0,C$99_=C$99u.length,C$99r=C$99t._getCSSStyle(),C$99d=C$99r.letterSpacing,C$99f=C$99r.leading,C$99p=C$99r.lineHeight,C$99m=C$99r._widthAuto()||!C$99r.wordWrap,C$99g=C$99m?999999:C$99t.width,C$99v=(C$99t.height,0),C$99$=C$99r.italic?C$99r.fontSize/3:0,C$99x=C$99r._getAlign(),C$99y=C$99r._getValign(),C$99b=0!==C$99y||0!==C$99x||0!=C$99p,C$99s=0,C$99a=0,C$99w=0,C$99T=0,C$99S=new Array(),C$99o=C$99S[0]=new C$99R(),C$99h=!1,C$99M=!1;C$99o.h=0,C$99r.italic&&(C$99g-=C$99r.fontSize/3);var C$99C=0,C$99A=!0;function e$S(){C$99o.y=C$99a,C$99a+=C$99o.h+C$99f,0==C$99o.h&&(C$99a+=C$99p),C$99o.mWidth=C$99C,C$99C=0,C$99o=new C$99R(),C$99S.push(C$99o),C$99o.h=0,C$99h=!(C$99A=!(C$99s=0));}for(C$99n=0;C$99n<C$99_;C$99n++)if(null!=(C$99e=C$99u[C$99n])){if(C$99A=!1,C$99e instanceof laya.html.dom.HTMLBrElement)e$S(),C$99o.y=C$99a;else{if(C$99e._isChar()){if((C$99i=C$99e).isWord)C$99h=C$99M||"\n"===C$99i.char,C$99o.wordStartIndex=C$99o.elements.length;else{if(C$99w=C$99i.width+C$99i.style.letterSpacin,0<C$99S.length&&C$99g<C$99s+C$99w&&0<C$99o.wordStartIndex){var C$99l;C$99l=C$99o.elements.length-C$99o.wordStartIndex+1,C$99o.elements.length=C$99o.wordStartIndex,C$99n-=C$99l,e$S();continue;}C$99h=!1,C$99C+=C$99i.width;}C$99w=C$99i.width+C$99d,C$99T=C$99i.height,C$99M=!1,(C$99h=C$99h||C$99g<C$99s+C$99w)&&e$S(),C$99o.minTextHeight=Math.min(C$99o.minTextHeight,C$99e.height);}else C$99l=C$99e._getCSSStyle(),C$99i=C$99e,C$99c=C$99l.padding,0===C$99l._getCssFloat()||(C$99b=!0),C$99h=C$99M||C$99l.lineElement,C$99w=C$99i.width*C$99i._style._tf.scaleX+C$99c[1]+C$99c[3]+C$99d,C$99T=C$99i.height*C$99i._style._tf.scaleY+C$99c[0]+C$99c[2],C$99M=C$99l.lineElement,(C$99h=C$99h||C$99g<C$99s+C$99w&&C$99l.wordWrap)&&e$S();C$99o.elements.push(C$99e),C$99o.h=Math.max(C$99o.h,C$99T),C$99e.x=C$99s,C$99e.y=C$99a,C$99s+=C$99w,C$99o.w=C$99s-C$99d,C$99o.y=C$99a,C$99v=Math.max(C$99s+C$99$,C$99v);}}else C$99A||(C$99s+=e$x.DIV_ELEMENT_PADDING),C$99o.wordStartIndex=C$99o.elements.length;if(C$99a=C$99o.y+C$99o.h,C$99b){var C$99I=0,C$99D=C$99g;for(C$99m&&0<C$99t.width&&(C$99D=C$99t.width),C$99n=0,C$99_=C$99S.length;C$99n<C$99_;C$99n++)C$99S[C$99n].updatePos(0,C$99D,C$99n,C$99I,C$99x,C$99y,C$99p),C$99I+=Math.max(C$99p,C$99S[C$99n].h+C$99f);C$99a=C$99I;}return C$99m&&(C$99t.width=C$99v),C$99a>C$99t.height&&(C$99t.height=C$99a),[C$99v,C$99a];},e$x._multiLineLayout2=function(C$99u){var C$99c=new Array();C$99u._addChildsToLayout(C$99c);var C$99t,C$99_,C$99e,C$99i=0,C$99d=C$99c.length,C$99n=C$99u._getCSSStyle(),C$99f=C$99n.letterSpacing,C$99p=C$99n.leading,C$99m=C$99n.lineHeight,C$99g=C$99n._widthAuto()||!C$99n.wordWrap,C$99v=C$99g?999999:C$99u.width,C$99$=(C$99u.height,0),C$99x=C$99n.italic?C$99n.fontSize/3:0,C$99y=2-C$99n._getAlign(),C$99b=C$99n._getValign(),C$99w=0!==C$99b||0!=C$99y||0!=C$99m,C$99r=0,C$99s=0,C$99T=0,C$99S=0,C$99a=new Array(),C$99o=C$99a[0]=new C$99R(),C$99h=!1,C$99M=!1;C$99o.h=0,C$99n.italic&&(C$99v-=C$99n.fontSize/3);var C$99C=0,C$99A=!0;function e$S(){C$99o.y=C$99s,C$99s+=C$99o.h+C$99p,0==C$99o.h&&(C$99s+=C$99m),C$99o.mWidth=C$99C,C$99C=0,C$99o=new C$99R(),C$99a.push(C$99o),C$99o.h=0,C$99h=!(C$99A=!(C$99r=0));}for(C$99i=0;C$99i<C$99d;C$99i++)if(null!=(C$99t=C$99c[C$99i])){if(C$99A=!1,C$99t instanceof laya.html.dom.HTMLBrElement)e$S(),C$99o.y=C$99s;else{if(C$99t._isChar()){if((C$99e=C$99t).isWord)C$99h=C$99M||"\n"===C$99e.char,C$99o.wordStartIndex=C$99o.elements.length;else{if(0<C$99a.length&&C$99v<C$99r+C$99T&&0<C$99o.wordStartIndex){var C$99l;C$99l=C$99o.elements.length-C$99o.wordStartIndex+1,C$99o.elements.length=C$99o.wordStartIndex,C$99i-=C$99l,e$S();continue;}C$99h=!1,C$99C+=C$99e.width;}C$99T=C$99e.width+C$99f,C$99S=C$99e.height,C$99M=!1,(C$99h=C$99h||C$99v<C$99r+C$99T)&&e$S(),C$99o.minTextHeight=Math.min(C$99o.minTextHeight,C$99t.height);}else C$99l=C$99t._getCSSStyle(),C$99e=C$99t,C$99_=C$99l.padding,0===C$99l._getCssFloat()||(C$99w=!0),C$99h=C$99M||C$99l.lineElement,C$99T=C$99e.width*C$99e._style._tf.scaleX+C$99_[1]+C$99_[3]+C$99f,C$99S=C$99e.height*C$99e._style._tf.scaleY+C$99_[0]+C$99_[2],C$99M=C$99l.lineElement,(C$99h=C$99h||C$99v<C$99r+C$99T&&C$99l.wordWrap)&&e$S();C$99o.elements.push(C$99t),C$99o.h=Math.max(C$99o.h,C$99S),C$99t.x=C$99r,C$99t.y=C$99s,C$99r+=C$99T,C$99o.w=C$99r-C$99f,C$99o.y=C$99s,C$99$=Math.max(C$99r+C$99x,C$99$);}}else C$99A||(C$99r+=e$x.DIV_ELEMENT_PADDING),C$99o.wordStartIndex=C$99o.elements.length;if(C$99s=C$99o.y+C$99o.h,C$99w){var C$99I=0,C$99D=C$99v;for(C$99i=0,C$99d=C$99a.length;C$99i<C$99d;C$99i++)C$99a[C$99i].updatePos(0,C$99D,C$99i,C$99I,C$99y,C$99b,C$99m),C$99I+=Math.max(C$99m,C$99a[C$99i].h+C$99p);C$99s=C$99I;}for(C$99g&&(C$99u.width=C$99$),C$99s>C$99u.height&&(C$99u.height=C$99s),C$99i=0,C$99d=C$99a.length;C$99i<C$99d;C$99i++)C$99a[C$99i].revertOrder(C$99v);return[C$99$,C$99s];},e$x._will=null,e$x.DIV_ELEMENT_PADDING=0,e$x),C$99R=(C$99n(e$d,"laya.html.utils.LayoutLine"),(C$99t=e$d.prototype).updatePos=function(C$99u,C$99t,C$99c,C$99e,C$99i,C$99n,C$99r){var C$99s,C$99a=0;0<this.elements.length&&(C$99a=(C$99s=this.elements[this.elements.length-1]).x+C$99s.width-this.elements[0].x);var C$99o=0,C$99_=NaN;1===C$99i&&(C$99o=(C$99t-C$99a)/2),2===C$99i&&(C$99o=C$99t-C$99a),0===C$99r||0!=C$99n||(C$99n=1);for(var C$99h=0,C$99d=this.elements.length;C$99h<C$99d;C$99h++){var C$99f=(C$99s=this.elements[C$99h])._getCSSStyle();switch(0!==C$99o&&(C$99s.x+=C$99o),C$99f._getValign()){case 0:C$99s.y=C$99e;break;case 1:var C$99l=0;C$99l=((C$99l=99999!=this.minTextHeight?this.minTextHeight:C$99l)+C$99r)/2;C$99l=Math.max(C$99l,this.h),laya.html.dom.HTMLImageElement,C$99_=C$99e+C$99l-C$99s.height,C$99s.y=C$99_;break;case 2:C$99s.y=C$99e+(C$99r-C$99s.height);}}},C$99t.revertOrder=function(C$99t){var C$99e;if(0<this.elements.length){var C$99i,C$99n=0;for(C$99i=this.elements.length,C$99n=0;C$99n<C$99i;C$99n++)(C$99e=this.elements[C$99n]).x=C$99t-C$99e.x-C$99e.width;}},e$d),C$99a=(C$99n(e$t,"laya.html.dom.HTMLElement",C$99y=C$99u),(C$99t=e$t.prototype).layaoutCallNative=function(){var C$99t=0;if(this._childs&&0<(C$99t=this._childs.length))for(var C$99e=0;C$99e<C$99t;C$99e++)this._childs[C$99e].layaoutCallNative&&this._childs[C$99e].layaoutCallNative();var C$99i=this._getWords();C$99i?laya.html.dom.HTMLElement.fillWords(this,C$99i,0,0,this.style.font,this.style.color,this.style.underLine):this.graphics.clear();},C$99t.appendChild=function(C$99t){return this.addChild(C$99t);},C$99t._getWords2=function(){var C$99t=this._text.text;if(!C$99t||0===C$99t.length)return null;var C$99e,C$99i,C$99n=0,C$99r=0;if(this._text.drawWords)C$99i=this._text.drawWords;else{for(C$99r=(C$99e=C$99t.split(" ")).length-1,C$99i=[],C$99n=0;C$99n<C$99r;C$99n++)C$99i.push(C$99e[C$99n]," ");0<=C$99r&&C$99i.push(C$99e[C$99r]),this._text.drawWords=C$99i;}var C$99s=this._text.words;if(C$99s&&C$99s.length===C$99i.length)return C$99s;null===C$99s&&(this._text.words=C$99s=[]),C$99s.length=C$99i.length;var C$99a=this.style,C$99o=C$99a.font;for(C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99n++){C$99h=C$99g.measureText(C$99i[C$99n],C$99o);var C$99h=C$99s[C$99n]=new C$99c(C$99i[C$99n],C$99h.width,C$99h.height||C$99a.fontSize,C$99a);var C$99l;1<C$99h.char.length&&(C$99h.charNum=C$99h.char),this.href&&(C$99l=new C$99u(),this.addChild(C$99l),C$99h.setSprite(C$99l));}return C$99s;},C$99t._getWords=function(){if(!C$99E.CharacterCache)return this._getWords2();var C$99t=this._text.text;if(!C$99t||0===C$99t.length)return null;var C$99e=this._text.words;if(C$99e&&C$99e.length===C$99t.length)return C$99e;null===C$99e&&(this._text.words=C$99e=[]),C$99e.length=C$99t.length;for(var C$99i=this.style,C$99n=C$99i.font,C$99r=0,C$99s=C$99t.length;C$99r<C$99s;C$99r++){var C$99a,C$99o;(C$99a=C$99g.measureText(C$99t.charAt(C$99r),C$99n))?(C$99a=C$99e[C$99r]=new C$99c(C$99t.charAt(C$99r),C$99a.width,C$99a.height||C$99i.fontSize,C$99i),this.href&&(C$99o=new C$99u(),this.addChild(C$99o),C$99a.setSprite(C$99o))):console.warn("_getWords size is null"+C$99t.charAt(C$99r),C$99n);}return C$99e;},C$99t.showLinkSprite=function(){var C$99t=this._text.words;if(C$99t)for(var C$99e,C$99i,C$99n=[],C$99r=0;C$99r<C$99t.length;C$99r++)C$99i=C$99t[C$99r],(C$99e=new C$99u()).graphics.drawRect(0,0,C$99i.width,C$99i.height,"#ff0000"),C$99e.width=C$99i.width,C$99e.height=C$99i.height,this.addChild(C$99e),C$99n.push(C$99e);},C$99t._layoutLater=function(){var C$99t=this.style;512&C$99t._type||(C$99t.widthed(this)&&(0<this._childs.length||null!=this._getWords())&&C$99t.block?(C$99$.later(this),C$99t._type|=512):this.parent&&this.parent._layoutLater());},C$99t._setAttributes=function(C$99t,C$99e){switch(C$99t){case"style":return void this.style.cssText(C$99e);case"class":return void(this.className=C$99e);}C$99y.prototype._setAttributes.call(this,C$99t,C$99e);},C$99t.updateHref=function(){if(null!=this._href){var C$99t=this._getWords();if(C$99t)for(var C$99e,C$99i,C$99n=0;C$99n<C$99t.length;C$99n++)(C$99i=(C$99e=C$99t[C$99n]).getSprite())&&(C$99i.size(C$99e.width,C$99e.height),C$99i.on("click",this,this.onLinkHandler));}},C$99t.onLinkHandler=function(C$99t){if("click"===C$99t.type)for(var C$99e=this;C$99e;)C$99e.event("link",[this.href]),C$99e=C$99e.parent;},C$99t.formatURL=function(C$99t){return this.URI?C$99m.formatURL(C$99t,this.URI?this.URI.path:null):C$99t;},C$99r(0,C$99t,"href",function(){return this._href;},function(C$99t){null!=(this._href=C$99t)&&(this._getCSSStyle().underLine=1,this.updateHref());}),C$99r(0,C$99t,"color",null,function(C$99t){this.style.color=C$99t;}),C$99r(0,C$99t,"onClick",null,function(C$99t){C$99i._runScript("fn=function(event){"+C$99t+";}"),this.on("click",this,void 0);}),C$99r(0,C$99t,"id",null,function(C$99t){C$99x.document.setElementById(C$99t,this);}),C$99r(0,C$99t,"innerTEXT",function(){return this._text.text;},function(C$99t){this.text=C$99t;}),C$99r(0,C$99t,"style",function(){return this._style;}),C$99r(0,C$99t,"text",function(){return this._text.text;},function(C$99t){this._text==e$t._EMPTYTEXT?this._text={text:C$99t,words:null}:(this._text.text=C$99t,this._text.words&&(this._text.words.length=0)),C$99d.isConchApp&&this.layaoutCallNative(),this._renderType|=2048,this.repaint(),this.updateHref();}),C$99r(0,C$99t,"parent",C$99y.prototype._$get_parent,function(C$99t){var C$99e;C$99t instanceof laya.html.dom.HTMLElement&&(C$99e=C$99t,this.URI||(this.URI=C$99e.URI),this.style.inherit(C$99e.style)),C$99i.superSet(C$99u,this,"parent",C$99t);}),C$99r(0,C$99t,"className",null,function(C$99t){this.style.attrs(C$99x.document.styleSheets["."+C$99t]);}),e$t.fillWords=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){C$99t.graphics.clear();for(var C$99o=0,C$99h=C$99e.length;C$99o<C$99h;C$99o++){var C$99l=C$99e[C$99o];C$99t.graphics.fillText(C$99l.char,C$99l.x+C$99i,C$99l.y+C$99n,C$99r,C$99s,"left",C$99a);}},e$t._EMPTYTEXT={text:null,words:null},e$t),C$99t=(function(){function e$t(){e$t.__super.call(this),this.style.lineElement=!0,this.style.block=!0;}C$99n(e$t,"laya.html.dom.HTMLBrElement",C$99a);}(),function(C$99t){function e$t(){this.contextHeight=NaN,this.contextWidth=NaN,e$t.__super.call(this),this.style.block=!0,this.style.lineElement=!0,this.style.width=200,this.style.height=200;}C$99n(e$t,"laya.html.dom.HTMLDivElement",C$99t);var C$99e=e$t.prototype;return C$99e.appendHTML=function(C$99t){C$99v.parse(this,C$99t,this.URI),this.layout();},C$99e._addChildsToLayout=function(C$99e){var C$99t=this._getWords();if(null==C$99t&&0==this._childs.length)return!1;C$99t&&C$99t.forEach(function(C$99t){C$99e.push(C$99t);});for(var C$99i=!0,C$99n=0,C$99r=this._childs.length;C$99n<C$99r;C$99n++){var C$99s=this._childs[C$99n];C$99i?C$99i=!1:C$99e.push(null),C$99s._addToLayout(C$99e);}return!0;},C$99e._addToLayout=function(C$99t){this.layout();},C$99e.layout=function(){var C$99t,C$99e;this.style&&(this.style._type|=512,(C$99t=C$99$.layout(this))&&(this._$P.mHtmlBounds||this._set$P("mHtmlBounds",new C$99l()),(C$99e=this._$P.mHtmlBounds).x=C$99e.y=0,C$99e.width=this.contextWidth=C$99t[0],C$99e.height=this.contextHeight=C$99t[1],this.setBounds(C$99e)));},C$99r(0,C$99e,"height",function(){return this._height||this.contextHeight;},C$99t.prototype._$set_height),C$99r(0,C$99e,"innerHTML",null,function(C$99t){this.destroyChildren(),this.appendHTML(C$99t);}),C$99r(0,C$99e,"width",function(){return this._width||this.contextWidth;},function(C$99t){var C$99e;C$99e=0===C$99t?C$99t!=this._width:C$99t!=this.width,C$99i.superSet(C$99a,this,"width",C$99t),C$99e&&this.layout();}),e$t;}(C$99a)),C$99x=function(){function e$t(){this.all=new Array(),this.styleSheets=C$99h.styleSheets,e$t.__super.call(this);}C$99n(e$t,"laya.html.dom.HTMLDocument",C$99a);var C$99t=e$t.prototype;return C$99t.getElementById=function(C$99t){return this.all[C$99t];},C$99t.setElementById=function(C$99t,C$99e){this.all[C$99t]=C$99e;},C$99e(e$t,["document",function(){return this.document=new e$t();}]),e$t;}();function e$t(){this.URI=null,this._href=null,e$t.__super.call(this),this._text=e$t._EMPTYTEXT,this.setStyle(new C$99h(this)),this._getCSSStyle().valign="middle",this.mouseEnabled=!0;}var C$99y;function e$d(){this.x=0,this.y=0,this.w=0,this.h=0,this.wordStartIndex=0,this.minTextHeight=99999,this.mWidth=0,this.elements=new Array();}var C$99t;function e$x(){}function e$c(){}(function(){function e$t(){this._tex=null,this._url=null,this._renderArgs=[],e$t.__super.call(this),this.style.block=!0;}C$99n(e$t,"laya.html.dom.HTMLImageElement",C$99a);var C$99t=e$t.prototype;C$99t._addToLayout=function(C$99t){this._style.absolute||C$99t.push(this);},C$99t.render=function(C$99t,C$99e,C$99i){!this._tex||!this._tex.loaded||!this._tex.loaded||this._width<1||this._height<1||(C$99f.spriteCount++,this._renderArgs[0]=this._tex,this._renderArgs[1]=this.x,this._renderArgs[2]=this.y,this._renderArgs[3]=this.width||this._tex.width,this._renderArgs[4]=this.height||this._tex.height,C$99t.ctx.drawTexture2(C$99e,C$99i,this.style.translateX,this.style.translateY,this.transform,this.style.alpha,this.style.blendMode,this._renderArgs));},C$99t.layaoutCallNative=function(){var C$99t=0;if(this._childs&&0<(C$99t=this._childs.length))for(var C$99e=0;C$99e<C$99t;C$99e++)this._childs[C$99e].layaoutCallNative&&this._childs[C$99e].layaoutCallNative();},C$99r(0,C$99t,"width",function(){return this.autoSize?this.getSelfBounds().width:this._width;},function(C$99t){this._width!==C$99t&&(this._width=C$99t,this._style.width=C$99t,this.repaint());}),C$99r(0,C$99t,"height",function(){return this.autoSize?this.getSelfBounds().height:this._height;},function(C$99t){this._height!==C$99t&&(this._height=C$99t,this._style.height=C$99t,this.repaint());}),C$99t.destroy=function(){null!=this._tex&&(this._tex.off("loaded",this,this.onloaded),C$99s.clearCache(this,this._url),this._tex=null),C$99a.prototype.destroy.call(this);},C$99t.onloaded=function(){var C$99t=this._style;C$99t&&!C$99t.widthed(this)&&this._width!=this._tex.width&&(this.width=this._tex.width,this.parent&&this.parent._layoutLater()),C$99t&&!C$99t.heighted(this)&&this._height!=this._tex.height&&(this.height=this._tex.height,this.parent&&this.parent._layoutLater()),C$99d.isConchApp&&(this._renderArgs[0]=this._tex,this._renderArgs[1]=this.x,this._renderArgs[2]=this.y,this._renderArgs[3]=this.width||this._tex.width,this._renderArgs[4]=this.height||this._tex.height,this.graphics.drawTexture(this._tex,0,0,this._renderArgs[3],this._renderArgs[4])),this.repaint(),this.parentRepaint();},C$99t._loadImageComplete=function(C$99t,C$99e,C$99i){var C$99n;this._destroyed||(null!=C$99i?(C$99i instanceof ArrayBuffer?(C$99n=new DataView(C$99i),new laya.webgl.resource.WebGLImage(new Uint8Array(C$99i,8),C$99t,0,!1,C$99n.getUint32(0),C$99n.getUint32(4))):C$99i instanceof C$99p?(C$99s.imgMgrSet[C$99t]=C$99e,C$99o.imgMgrLock(C$99t,C$99s.imgMgrSet[C$99t]),this._url=C$99t,this._tex=C$99i,C$99s.keepCache(this,C$99t),C$99s.cacheRes(C$99t,this._tex)):(C$99n=-1!=C$99t.indexOf(".png",C$99t.length-4)?6408:6407,new laya.webgl.resource.WebGLImage(C$99i,C$99t,C$99n,!1,C$99i.width,C$99i.height)),this.onloaded()):this.event("error","Load image failed"));},C$99r(0,C$99t,"src",null,function(C$99t){C$99t=this.formatURL(C$99t),this._url!=C$99t&&(null!=this._tex&&(C$99s.clearCache(this,this._url),this._tex.off("loaded",this,this.onloaded)),this._url=C$99t,(this._tex=C$99s.getRes(C$99t))?(C$99s.keepCache(this,C$99t),this.onloaded()):C$99o.imgMgrLoad(C$99t,this._loadImageComplete.bind(this),2,!1));});})(),function(C$99t){function e$t(){this.type=null,e$t.__super.call(this),this.visible=!1;}C$99n(e$t,"laya.html.dom.HTMLLinkElement",C$99t);var C$99e=e$t.prototype;C$99e._onload=function(C$99t){"text/css"===this.type&&C$99h.parseCSS(C$99t,this.URI);},C$99r(0,C$99e,"href",C$99t.prototype._$get_href,function(C$99t){var C$99e=this;C$99t=this.formatURL(C$99t),this.URI=new C$99m(C$99t);var C$99i=new C$99s();C$99i.once("complete",null,function(C$99t){C$99e._onload(C$99t);}),C$99i.load(C$99t,"text");}),e$t._cuttingStyle=new RegExp("((@keyframes[\\s\\t]+|)(.+))[\\t\\n\\r\\s]*{","g");}(C$99a),function(C$99t){function e$t(){e$t.__super.call(this),this.visible=!1;}C$99n(e$t,"laya.html.dom.HTMLStyleElement",C$99t),C$99r(0,e$t.prototype,"text",C$99t.prototype._$get_text,function(C$99t){C$99h.parseCSS(C$99t,null);});}(C$99a),function(C$99t){function e$t(){e$t.__super.call(this),this._getCSSStyle().valign="middle";}C$99n(e$t,"laya.html.dom.HTMLIframeElement",C$99t),C$99r(0,e$t.prototype,"href",C$99t.prototype._$get_href,function(C$99i){var C$99n=this;C$99i=this.formatURL(C$99i);var C$99t=new C$99s();C$99t.once("complete",null,function(C$99t){var C$99e=C$99n.URI;C$99n.URI=new C$99m(C$99i),C$99n.innerHTML=C$99t,C$99e&&(C$99n.URI=C$99e);}),C$99t.load(C$99i,"text");});}(C$99t);}(window,(document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$99t,C$99e){"use strict";for(var C$99i in Object.defineProperty(C$99e,"__esModule",{value:!0}),Laya){var C$99n=Laya[C$99i];C$99n&&C$99n.__isclass&&(C$99e[C$99i]=C$99n);}}),function(C$99i,C$99f){C$99f.un,C$99f.uns;var C$99o=C$99f.static,C$99n=C$99f.class,C$99r=C$99f.getset,C$99e=(C$99f.__newvec,laya.display.Animation),C$99m=(laya.utils.Browser,laya.utils.ClassUtils),C$99h=laya.filters.ColorFilter,C$99l=laya.utils.Ease,C$99u=laya.events.Event,C$99c=(laya.events.EventDispatcher,laya.display.css.Font),C$99_=laya.display.FrameAnimation,C$99t=laya.display.Graphics,C$99g=laya.utils.Handler,C$99v=laya.display.Input,C$99p=laya.net.Loader,C$99$=(laya.display.Node,laya.maths.Point),C$99x=laya.maths.Rectangle,C$99y=laya.renders.Render,C$99b=laya.display.Sprite,C$99w=laya.display.Text,C$99T=laya.resource.Texture,C$99S=laya.utils.Tween,C$99M=laya.utils.Utils,C$99C=laya.utils.WeakObject;C$99f.interface("laya.ui.IItem"),C$99f.interface("laya.ui.ISelect"),C$99f.interface("laya.ui.IRender"),C$99f.interface("laya.ui.IComponent"),C$99f.interface("laya.ui.IBox","IComponent");C$99n(e$d,"laya.ui.LayoutStyle"),C$99o(e$d,["EMPTY",function(){return this.EMPTY=new e$d();}]);var C$99A=e$d,C$99s=function(){function e$d(){}return C$99n(e$d,"laya.ui.Styles"),e$d.labelColor="#000000",e$d.buttonStateNum=3,e$d.scrollBarMinNum=15,e$d.scrollBarDelayTime=500,C$99o(e$d,["defaultSizeGrid",function(){return this.defaultSizeGrid=[4,4,4,4,0];},"labelPadding",function(){return this.labelPadding=[2,2,2,2];},"inputLabelPadding",function(){return this.inputLabelPadding=[1,1,1,3];},"buttonLabelColors",function(){return this.buttonLabelColors=["#32556b","#32cc6b","#ff0000","#C0C0C0"];},"comboBoxItemColors",function(){return this.comboBoxItemColors=["#5e95b6","#ffffff","#000000","#8fa4b1","#ffffff"];}]),e$d;}(),C$99I=(C$99n(e$W,"laya.ui.UIUtils"),e$W.fillArray=function(C$99t,C$99e,C$99i){var C$99n=C$99t.concat();if(C$99e)for(var C$99r=C$99e.split(","),C$99s=0,C$99a=Math.min(C$99n.length,C$99r.length);C$99s<C$99a;C$99s++){var C$99o=C$99r[C$99s];C$99n[C$99s]="true"==C$99o||"false"!=C$99o&&C$99o,null!=C$99i&&(C$99n[C$99s]=C$99i(C$99o));}return C$99n;},e$W.toColor=function(C$99t){return C$99M.toHexColor(C$99t);},e$W.gray=function(C$99t,C$99e){(C$99e=void 0===C$99e?!0:C$99e)?e$W.addFilter(C$99t,e$W.grayFilter):e$W.clearFilter(C$99t,C$99h);},e$W.addFilter=function(C$99t,C$99e){var C$99i=C$99t.filters||[];C$99i.push(C$99e),C$99t.filters=C$99i;},e$W.clearFilter=function(C$99t,C$99e){var C$99i=C$99t.filters;if(null!=C$99i&&0<C$99i.length){for(var C$99n=C$99i.length-1;-1<C$99n;C$99n--){var C$99r=C$99i[C$99n];C$99f.__typeof(C$99r,C$99e)&&C$99i.splice(C$99n,1);}C$99t.filters=C$99i;}},e$W._getReplaceStr=function(C$99t){return e$W.escapeSequence[C$99t];},e$W.adptString=function(C$99t){return C$99t.replace(/\\(\w)/g,e$W._getReplaceStr);},e$W.getBindFun=function(C$99t){var C$99e=e$W._funMap.get(C$99t);var C$99i;return null==C$99e&&(C$99i="(function(data){if(data==null)return;with(data){try{\nreturn "+('"'+C$99t+'"').replace(/^"\${|}"$/g,"").replace(/\${/g,'"+').replace(/}/g,'+"')+"\n}catch(e){}}})",C$99e=C$99f._runScript(C$99i),e$W._funMap.set(C$99t,C$99e)),C$99e;},C$99o(e$W,["grayFilter",function(){return this.grayFilter=new C$99h([.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0]);},"escapeSequence",function(){return this.escapeSequence={"\\n":"\n","\\t":"\t"};},"_funMap",function(){return this._funMap=new C$99C();}]),e$W),C$99D=function(){function e$d(){}return C$99n(e$d,"UIConfig"),e$d.touchScrollEnable=!0,e$d.mouseWheelEnable=!0,e$d.showButtons=!0,e$d.popupBgColor="#000000",e$d.popupBgAlpha=.5,e$d.closeDialogOnSide=!0,e$d;}(),C$99E=(C$99n(e$z,"laya.ui.AutoBitmap",C$99_t=C$99t),(C$99t=e$z.prototype).destroy=function(){if(C$99p.clearObject(this,this._weakKey),this._weakKeys){for(var C$99t=0,C$99e=this._weakKeys.length;C$99t<C$99e;++C$99t)C$99p.clearObject(this,this._weakKeys[C$99t]);this._weakKeys=null;}C$99_t.prototype.destroy.call(this),this._source=null,this._sizeGrid=null,this._offset=null;},C$99t._setChanged=function(){this._isChanged||(this._isChanged=!0,C$99f.timer.callLater(this,this.changeSource));},C$99t.changeSource=function(){this._isChanged=!1;var C$99t=this._source;if(C$99t&&C$99t.bitmap){var C$99e=this.width,C$99i=this.height,C$99n=this._sizeGrid,C$99u=C$99t.sourceWidth,C$99c=C$99t.sourceHeight;if(!C$99n||C$99u===C$99e&&C$99c===C$99i)this.cleanByTexture(C$99t,this._offset?this._offset[0]:0,this._offset?this._offset[1]:0,C$99e,C$99i);else{C$99p.clearObject(this,this._weakKey),C$99t.$_GID||(C$99t.$_GID=C$99M.getGID());var C$99_=C$99t.$_GID+"."+C$99e+"."+C$99i+"."+C$99n.join("."),C$99r=C$99p.findObject(C$99_);if(C$99M.isOKCmdList(C$99r))return this._weakKey=C$99_,C$99p.keepObject(this,this._weakKey),void(this.cmds=C$99r);this.clear();var C$99s,C$99a,C$99r=C$99n[0],C$99o=C$99n[1],C$99h=C$99n[2],C$99l=C$99n[3],C$99n=C$99n[4],C$99d=!1;var C$99f;C$99i==C$99c&&(C$99r=C$99h=0),C$99e<(C$99l=C$99e==C$99u?C$99o=0:C$99l)+C$99o&&(C$99f=C$99e,C$99d=!0,C$99e=C$99l+C$99o,this.save(),this.clipRect(0,0,C$99f,C$99i)),C$99l&&C$99r&&(C$99s=e$z.getTexture(C$99t,0,0,C$99l,C$99r),C$99a=this._weakKeys[0],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[0]=C$99s.weakKey),this.drawTexture(C$99s,0,0,C$99l,C$99r)):(C$99p.clearObject(this,C$99a),this._weakKeys[0]="")),C$99o&&C$99r&&(C$99s=e$z.getTexture(C$99t,C$99u-C$99o,0,C$99o,C$99r),C$99a=this._weakKeys[1],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[1]=C$99s.weakKey),this.drawTexture(C$99s,C$99e-C$99o,0,C$99o,C$99r)):(C$99p.clearObject(this,C$99a),this._weakKeys[1]="")),C$99l&&C$99h&&(C$99s=e$z.getTexture(C$99t,0,C$99c-C$99h,C$99l,C$99h),C$99a=this._weakKeys[2],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[2]=C$99s.weakKey),this.drawTexture(C$99s,0,C$99i-C$99h,C$99l,C$99h)):(C$99p.clearObject(this,C$99a),this._weakKeys[2]="")),C$99o&&C$99h&&(C$99s=e$z.getTexture(C$99t,C$99u-C$99o,C$99c-C$99h,C$99o,C$99h),C$99a=this._weakKeys[3],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[3]=C$99s.weakKey),this.drawTexture(C$99s,C$99e-C$99o,C$99i-C$99h,C$99o,C$99h)):(C$99p.clearObject(this,C$99a),this._weakKeys[3]="")),C$99r&&(C$99s=e$z.getTexture(C$99t,C$99l,0,C$99u-C$99l-C$99o,C$99r),C$99a=this._weakKeys[4],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[4]=C$99s.weakKey),this.drawBitmap(C$99n,C$99s,C$99l,0,C$99e-C$99l-C$99o,C$99r)):(C$99p.clearObject(this,C$99a),this._weakKeys[4]="")),C$99h&&(C$99s=e$z.getTexture(C$99t,C$99l,C$99c-C$99h,C$99u-C$99l-C$99o,C$99h),C$99a=this._weakKeys[5],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[5]=C$99s.weakKey),this.drawBitmap(C$99n,C$99s,C$99l,C$99i-C$99h,C$99e-C$99l-C$99o,C$99h)):(C$99p.clearObject(this,C$99a),this._weakKeys[5]="")),C$99l&&(C$99s=e$z.getTexture(C$99t,0,C$99r,C$99l,C$99c-C$99r-C$99h),C$99a=this._weakKeys[6],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[6]=C$99s.weakKey),this.drawBitmap(C$99n,C$99s,0,C$99r,C$99l,C$99i-C$99r-C$99h)):(C$99p.clearObject(this,C$99a),this._weakKeys[6]="")),C$99o&&(C$99s=e$z.getTexture(C$99t,C$99u-C$99o,C$99r,C$99o,C$99c-C$99r-C$99h),C$99a=this._weakKeys[7],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[7]=C$99s.weakKey),this.drawBitmap(C$99n,C$99s,C$99e-C$99o,C$99r,C$99o,C$99i-C$99r-C$99h)):(C$99p.clearObject(this,C$99a),this._weakKeys[7]="")),C$99s=e$z.getTexture(C$99t,C$99l,C$99r,C$99u-C$99l-C$99o,C$99c-C$99r-C$99h),C$99a=this._weakKeys[8],C$99s?(C$99a!=C$99s.weakKey&&(C$99p.clearObject(this,C$99a),C$99p.keepObject(this,C$99s.weakKey),this._weakKeys[8]=C$99s.weakKey),this.drawBitmap(C$99n,C$99s,C$99l,C$99r,C$99e-C$99l-C$99o,C$99i-C$99r-C$99h)):(C$99p.clearObject(this,C$99a),this._weakKeys[8]=""),C$99d&&this.restore(),this.autoCacheCmd&&!C$99y.isConchApp&&(C$99p.saveObject(C$99_,this.cmds,null),this._weakKey=C$99_,C$99p.keepObject(this,this._weakKey));}this._repaint();}},C$99t.drawBitmap=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){void 0===C$99s&&(C$99s=0),(C$99r=void 0===C$99r?0:C$99r)<.1||C$99s<.1||(!C$99t||C$99e.width==C$99r&&C$99e.height==C$99s?this.drawTexture(C$99e,C$99i,C$99n,C$99r,C$99s):this.fillTexture(C$99e,C$99i,C$99n,C$99r,C$99s));},C$99t.clear=function(C$99t){void 0===C$99t&&(C$99t=!0),C$99_t.prototype.clear.call(this,!1);},C$99r(0,C$99t,"sizeGrid",function(){return this._sizeGrid;},function(C$99t){this._sizeGrid=C$99t,this._setChanged();}),C$99r(0,C$99t,"width",function(){return this._width||(this._source?this._source.sourceWidth:0);},function(C$99t){this._width!=C$99t&&(this._width=C$99t,this._setChanged());}),C$99r(0,C$99t,"height",function(){return this._height||(this._source?this._source.sourceHeight:0);},function(C$99t){this._height!=C$99t&&(this._height=C$99t,this._setChanged());}),C$99r(0,C$99t,"source",function(){return this._source;},function(C$99t){C$99t?(this._source=C$99t,this._setChanged()):(this._source=null,this.clear());}),e$z.getTexture=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99n<=0&&(C$99n=1),C$99r<=0&&(C$99r=1),C$99t.$_GID||(C$99t.$_GID=C$99M.getGID());var C$99s=C$99t.$_GID+"."+C$99e+"."+C$99i+"."+C$99n+"."+C$99r,C$99a=C$99p.findObject(C$99s);var C$99o;return C$99a&&C$99a.source||!(C$99a=C$99T.createFromTexture(C$99t,C$99e,C$99i,C$99n,C$99r))||(C$99t.alphaTexture&&(C$99o=C$99t.width/C$99t.alphaTexture.width,C$99a.alphaTexture=C$99T.createFromTexture(C$99t.alphaTexture,C$99e/C$99o,C$99i/C$99o,C$99n/C$99o,C$99r/C$99o)),C$99p.saveObject(C$99s,C$99a),C$99a.weakKey=C$99s),C$99a;},e$z),C$99a=(C$99n(e$t,"laya.ui.UIEvent",C$99u),e$t.SHOW_TIP="showtip",e$t.HIDE_TIP="hidetip",function(C$99e){function e$d(){this._comXml=null,this._dataSource=null,this._toolTip=null,this._tag=null,this._disabled=!1,this._gray=!1,this.layoutEnabled=!0,e$d.__super.call(this),this._layout=C$99A.EMPTY,this.preinitialize(),this.createChildren(),this.initialize();}C$99n(e$d,"laya.ui.Component",C$99e);var C$99t=e$d.prototype;return C$99f.imps(C$99t,{"laya.ui.IComponent":!0}),C$99t.destroy=function(C$99t){C$99e.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._dataSource=this._layout=null,this._tag=null,this._toolTip=null;},C$99t.preinitialize=function(){},C$99t.createChildren=function(){},C$99t.initialize=function(){},C$99t.callLater=function(C$99t,C$99e){C$99f.timer.callLater(this,C$99t,C$99e);},C$99t.runCallLater=function(C$99t){C$99f.timer.runCallLater(this,C$99t);},C$99t.commitMeasure=function(){},C$99t.changeSize=function(){this.event("resize");},C$99t.getLayout=function(){return this._layout===C$99A.EMPTY&&(this._layout=new C$99A()),this._layout;},C$99t._setLayoutEnabled=function(C$99t){this._layout&&this._layout.enable!=C$99t&&(this._layout.enable=C$99t,this.on("added",this,this.onAdded),this.on("removed",this,this.onRemoved),this.parent&&this.onAdded());},C$99t.onRemoved=function(){this.parent.off("resize",this,this.onCompResize);},C$99t.onAdded=function(){this.parent.on("resize",this,this.onCompResize),this.resetLayoutX(),this.resetLayoutY();},C$99t.onCompResize=function(){this._layout&&this._layout.enable&&(this.resetLayoutX(),this.resetLayoutY());},C$99t.resetLayoutX=function(){var C$99t=this._layout;var C$99e;isNaN(C$99t.anchorX)||(this.pivotX=C$99t.anchorX*this.width),this.layoutEnabled&&(C$99e=this.parent)&&(isNaN(C$99t.centerX)?isNaN(C$99t.left)?isNaN(C$99t.right)||(this.x=Math.round(C$99e.width-this.displayWidth-C$99t.right+this.pivotX*this.scaleX)):(this.x=Math.round(C$99t.left+this.pivotX*this.scaleX),isNaN(C$99t.right)||(this.width=(C$99e._width-C$99t.left-C$99t.right)/(this.scaleX||.01))):this.x=Math.round(.5*(C$99e.width-this.displayWidth)+C$99t.centerX+this.pivotX*this.scaleX));},C$99t.resetLayoutY=function(){var C$99t=this._layout;var C$99e;isNaN(C$99t.anchorY)||(this.pivotY=C$99t.anchorY*this.height),this.layoutEnabled&&(C$99e=this.parent)&&(isNaN(C$99t.centerY)?isNaN(C$99t.top)?isNaN(C$99t.bottom)||(this.y=Math.round(C$99e.height-this.displayHeight-C$99t.bottom+this.pivotY*this.scaleY)):(this.y=Math.round(C$99t.top+this.pivotY*this.scaleY),isNaN(C$99t.bottom)||(this.height=(C$99e._height-C$99t.top-C$99t.bottom)/(this.scaleY||.01))):this.y=Math.round(.5*(C$99e.height-this.displayHeight)+C$99t.centerY+this.pivotY*this.scaleY));},C$99t.onMouseOver=function(C$99t){C$99f.stage.event("showtip",this._toolTip);},C$99t.onMouseOut=function(C$99t){C$99f.stage.event("hidetip",this._toolTip);},C$99r(0,C$99t,"displayWidth",function(){return this.width*this.scaleX;}),C$99r(0,C$99t,"width",function(){return this._width||this.measureWidth;},function(C$99t){this._width!=C$99t&&(this._width=C$99t,this.conchModel&&this.conchModel.size(this._width,this._height),this.callLater(this.changeSize),!this._layout.enable||isNaN(this._layout.centerX)&&isNaN(this._layout.right)&&isNaN(this._layout.anchorX)||this.resetLayoutX());}),C$99r(0,C$99t,"measureWidth",function(){var C$99t=0;this.commitMeasure();for(var C$99e=this.numChildren-1;-1<C$99e;C$99e--){var C$99i=this.getChildAt(C$99e);C$99i.visible&&(C$99t=Math.max(C$99i.x+C$99i.width*C$99i.scaleX,C$99t));}return C$99t;}),C$99r(0,C$99t,"displayHeight",function(){return this.height*this.scaleY;}),C$99r(0,C$99t,"height",function(){return this._height||this.measureHeight;},function(C$99t){this._height!=C$99t&&(this._height=C$99t,this.conchModel&&this.conchModel.size(this._width,this._height),this.callLater(this.changeSize),!this._layout.enable||isNaN(this._layout.centerY)&&isNaN(this._layout.bottom)&&isNaN(this._layout.anchorY)||this.resetLayoutY());}),C$99r(0,C$99t,"dataSource",function(){return this._dataSource;},function(C$99t){for(var C$99e in this._dataSource=C$99t,this._dataSource)this.hasOwnProperty(C$99e)&&"function"!=typeof this[C$99e]&&(this[C$99e]=this._dataSource[C$99e]);}),C$99r(0,C$99t,"scaleY",C$99e.prototype._$get_scaleY,function(C$99t){C$99f.superGet(C$99b,this,"scaleY")!=C$99t&&(C$99f.superSet(C$99b,this,"scaleY",C$99t),this.callLater(this.changeSize),this._layout.enable&&this.resetLayoutY());}),C$99r(0,C$99t,"measureHeight",function(){var C$99t=0;this.commitMeasure();for(var C$99e=this.numChildren-1;-1<C$99e;C$99e--){var C$99i=this.getChildAt(C$99e);C$99i.visible&&(C$99t=Math.max(C$99i.y+C$99i.height*C$99i.scaleY,C$99t));}return C$99t;}),C$99r(0,C$99t,"scaleX",C$99e.prototype._$get_scaleX,function(C$99t){C$99f.superGet(C$99b,this,"scaleX")!=C$99t&&(C$99f.superSet(C$99b,this,"scaleX",C$99t),this.callLater(this.changeSize),this._layout.enable&&this.resetLayoutX());}),C$99r(0,C$99t,"top",function(){return this._layout.top;},function(C$99t){C$99t!=this._layout.top&&(this.getLayout().top=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutY();}),C$99r(0,C$99t,"bottom",function(){return this._layout.bottom;},function(C$99t){C$99t!=this._layout.bottom&&(this.getLayout().bottom=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutY();}),C$99r(0,C$99t,"left",function(){return this._layout.left;},function(C$99t){C$99t!=this._layout.left&&(this.getLayout().left=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutX();}),C$99r(0,C$99t,"right",function(){return this._layout.right;},function(C$99t){C$99t!=this._layout.right&&(this.getLayout().right=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutX();}),C$99r(0,C$99t,"centerX",function(){return this._layout.centerX;},function(C$99t){C$99t!=this._layout.centerX&&(this.getLayout().centerX=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutX();}),C$99r(0,C$99t,"centerY",function(){return this._layout.centerY;},function(C$99t){C$99t!=this._layout.centerY&&(this.getLayout().centerY=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutY();}),C$99r(0,C$99t,"anchorX",function(){return this._layout.anchorX;},function(C$99t){C$99t!=this._layout.anchorX&&(this.getLayout().anchorX=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutX();}),C$99r(0,C$99t,"anchorY",function(){return this._layout.anchorY;},function(C$99t){C$99t!=this._layout.anchorY&&(this.getLayout().anchorY=C$99t,this._setLayoutEnabled(!0)),this.resetLayoutY();}),C$99r(0,C$99t,"tag",function(){return this._tag;},function(C$99t){this._tag=C$99t;}),C$99r(0,C$99t,"toolTip",function(){return this._toolTip;},function(C$99t){this._toolTip!=C$99t&&(null!=(this._toolTip=C$99t)?(this.on("mouseover",this,this.onMouseOver),this.on("mouseout",this,this.onMouseOut)):(this.off("mouseover",this,this.onMouseOver),this.off("mouseout",this,this.onMouseOut)));}),C$99r(0,C$99t,"comXml",function(){return this._comXml;},function(C$99t){this._comXml=C$99t;}),C$99r(0,C$99t,"gray",function(){return this._gray;},function(C$99t){C$99t!==this._gray&&(this._gray=C$99t,C$99I.gray(this,C$99t));}),C$99r(0,C$99t,"disabled",function(){return this._disabled;},function(C$99t){C$99t!==this._disabled&&(this.gray=this._disabled=C$99t,this.mouseEnabled=!C$99t);}),e$d;}(C$99b)),C$99R=function(){function e$t(){this.lockLayer=null,this.popupEffect=function(C$99t){C$99t.scale(1,1),C$99S.from(C$99t,{x:C$99f.stage.width/2,y:C$99f.stage.height/2,scaleX:0,scaleY:0},300,C$99l.backOut,C$99g.create(this,this.doOpen,[C$99t]));},this.closeEffect=function(C$99t,C$99e){C$99S.to(C$99t,{x:C$99f.stage.width/2,y:C$99f.stage.height/2,scaleX:0,scaleY:0},300,C$99l.strongOut,C$99g.create(this,this.doClose,[C$99t,C$99e]));},e$t.__super.call(this),this.maskLayer=new C$99b(),this.popupEffectHandler=C$99g.create(this,this.popupEffect,null,!1),this.closeEffectHandler=C$99g.create(this,this.closeEffect,null,!1),this.mouseEnabled=this.maskLayer.mouseEnabled=!0,this.zOrder=1e3,C$99f.stage.addChild(this),C$99f.stage.on("resize",this,this._onResize),C$99D.closeDialogOnSide&&this.maskLayer.on("click",this,this._closeOnSide),this._onResize(null);}C$99n(e$t,"laya.ui.DialogManager",C$99b);var C$99t=e$t.prototype;return C$99t._closeOnSide=function(){var C$99t=this.getChildAt(this.numChildren-1);C$99t instanceof laya.ui.Dialog&&C$99t.close("side");},C$99t.setLockView=function(C$99t){this.lockLayer||(this.lockLayer=new C$99d(),this.lockLayer.mouseEnabled=!0,this.lockLayer.size(C$99f.stage.width,C$99f.stage.height)),this.lockLayer.removeChildren(),C$99t&&(C$99t.centerX=C$99t.centerY=0,this.lockLayer.addChild(C$99t));},C$99t._onResize=function(C$99t){var C$99e=this.maskLayer.width=C$99f.stage.width,C$99i=this.maskLayer.height=C$99f.stage.height;this.lockLayer&&this.lockLayer.size(C$99e,C$99i),this.maskLayer.graphics.clear(),this.maskLayer.graphics.drawRect(0,0,C$99e,C$99i,C$99D.popupBgColor),this.maskLayer.alpha=C$99D.popupBgAlpha;for(var C$99n=this.numChildren-1;-1<C$99n;C$99n--){var C$99r=this.getChildAt(C$99n);C$99r.popupCenter&&this._centerDialog(C$99r);}},C$99t._centerDialog=function(C$99t){C$99t.x=Math.round((C$99f.stage.width-C$99t.width>>1)+C$99t.pivotX),C$99t.y=Math.round((C$99f.stage.height-C$99t.height>>1)+C$99t.pivotY);},C$99t.open=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=!1),(C$99e=void 0===C$99e?!1:C$99e)&&this._closeAll(),C$99t.popupCenter&&this._centerDialog(C$99t),this.addChild(C$99t),(C$99t.isModal||this._$P.hasZorder)&&this.timer.callLater(this,this._checkMask),C$99i&&null!=C$99t.popupEffect?C$99t.popupEffect.runWith(C$99t):this.doOpen(C$99t),this.event("open");},C$99t.doOpen=function(C$99t){C$99t.onOpened();},C$99t.lock=function(C$99t){this.lockLayer&&(C$99t?this.addChild(this.lockLayer):this.lockLayer.removeSelf());},C$99t.close=function(C$99t,C$99e,C$99i){(C$99i=void 0===C$99i?!1:C$99i)&&null!=C$99t.closeEffect?C$99t.closeEffect.runWith([C$99t,C$99e]):this.doClose(C$99t,C$99e),this.event("close");},C$99t.doClose=function(C$99t,C$99e){C$99t.removeSelf(),C$99t.isModal&&this._checkMask(),C$99t.closeHandler&&C$99t.closeHandler.runWith(C$99e),C$99t.onClosed(C$99e);},C$99t.closeAll=function(){this._closeAll(),this.event("close");},C$99t._closeAll=function(){for(var C$99t=this.numChildren-1;-1<C$99t;C$99t--){var C$99e=this.getChildAt(C$99t);C$99e&&null!=C$99e.close&&this.doClose(C$99e);}},C$99t.getDialogsByGroup=function(C$99t){for(var C$99e=[],C$99i=this.numChildren-1;-1<C$99i;C$99i--){var C$99n=this.getChildAt(C$99i);C$99n&&C$99n.group===C$99t&&C$99e.push(C$99n);}return C$99e;},C$99t.closeByGroup=function(C$99t){for(var C$99e=[],C$99i=this.numChildren-1;-1<C$99i;C$99i--){var C$99n=this.getChildAt(C$99i);C$99n&&C$99n.group===C$99t&&(C$99n.close(),C$99e.push(C$99n));}return C$99e;},C$99t._checkMask=function(){this.maskLayer.removeSelf();for(var C$99t=this.numChildren-1;-1<C$99t;C$99t--){var C$99e=this.getChildAt(C$99t);if(C$99e&&C$99e.isModal)return void this.addChildAt(this.maskLayer,C$99t);}},e$t;}(),C$99d=function(C$99t){function e$t(){e$t.__super.call(this);}C$99n(e$t,"laya.ui.Box",C$99t);var C$99e=e$t.prototype;return C$99f.imps(C$99e,{"laya.ui.IBox":!0}),C$99r(0,C$99e,"dataSource",C$99t.prototype._$get_dataSource,function(C$99t){for(var C$99e in this._dataSource=C$99t){var C$99i=this.getChildByName(C$99e);C$99i?C$99i.dataSource=C$99t[C$99e]:this.hasOwnProperty(C$99e)&&"function"!=typeof this[C$99e]&&(this[C$99e]=C$99t[C$99e]);}}),e$t;}(C$99a),C$99P=(C$99n(e$l,"laya.ui.Button",C$99ct=C$99a),C$99t=e$l.prototype,C$99f.imps(C$99t,{"laya.ui.ISelect":!0}),C$99t.destroy=function(C$99t){this.clearEvent(),C$99p.clearCache(this,this._skin),C$99p.clearObject(this,this._weakKey),C$99ct.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._bitmap&&this._bitmap.destroy(),this._text&&this._text.destroy(C$99t),this._bitmap=null,this._text=null,this._clickHandler=null,this._labelColors=this._sources=this._strokeColors=null;},C$99t.clearEvent=function(){this._skin&&C$99i.atalsNotify&&C$99i.atalsNotify.off(this._skin,this,this._setBtnSource);},C$99t.createChildren=function(){this.graphics=this._bitmap=new C$99E();},C$99t.createText=function(){this._text||(this._text=new C$99w(),this._text.overflow=C$99w.HIDDEN,this._text.align="center",this._text.valign="middle",this._text.width=this._width,this._text.height=this._height);},C$99t.initialize=function(){1!==this._mouseEnableState&&(this.mouseEnabled=!0,this._setBit(2,!0)),this._createListener("mouseover",this,this.onMouse,null,!1,!1),this._createListener("mouseout",this,this.onMouse,null,!1,!1),this._createListener("mousedown",this,this.onMouse,null,!1,!1),this._createListener("mouseup",this,this.onMouse,null,!1,!1),this._createListener("click",this,this.onMouse,null,!1,!1);},C$99t.onMouse=function(C$99t){if(!1!==this.toggle||!this._selected)return"click"===C$99t.type?(this.toggle&&(this.selected=!this._selected),void(this._clickHandler&&this._clickHandler.run())):void(this._selected||(this.state=e$l.stateMap[C$99t.type]));},C$99t.changeClips=function(){var C$99t=C$99p.getRes(this._skin);if(C$99t)if(this._skin&&""!=this._skin){C$99p.clearObject(this,this._weakKey);var C$99e=C$99t.sourceWidth,C$99i=C$99t.sourceHeight/this._stateNum;C$99t.$_GID||(C$99t.$_GID=C$99M.getGID());var C$99n=C$99t.$_GID+"-"+this._stateNum,C$99r=C$99p.findObject(C$99n);if(C$99r=C$99M.isOkTextureList(C$99r)?C$99r:null)this._weakKey=C$99n,C$99p.keepObject(this,this._weakKey),this._sources=C$99r;else{if(this._sources=[],1===this._stateNum)this._sources.push(C$99t);else for(var C$99s=0;C$99s<this._stateNum;C$99s++){var C$99a=C$99T.createFromTexture(C$99t,0,C$99i*C$99s,C$99e,C$99i);var C$99o;C$99t.alphaTexture&&(C$99o=C$99t.width/C$99t.alphaTexture.width,C$99a.alphaTexture=C$99T.createFromTexture(C$99t.alphaTexture,0/C$99o,C$99i*C$99s/C$99o,C$99e/C$99o,C$99i/C$99o)),this._sources.push(C$99a);}C$99p.saveObject(C$99n,this._sources),this._weakKey=C$99n,C$99p.keepObject(this,this._weakKey);}this._autoSize?(this._bitmap.width=this._width||C$99e,this._bitmap.height=this._height||C$99i,this._text&&(this._text.width=this._bitmap.width,this._text.height=this._bitmap.height)):this._text&&(this._text.x=C$99e);}else console.warn("lose skin ",this._skin,this.name,this.__className);},C$99t.changeState=function(){this._stateChanged=!1,this.runCallLater(this.changeClips);var C$99t=this._state<this._stateNum?this._state:this._stateNum-1;this._sources&&(this._bitmap.source=this._sources[C$99t]),this.label&&(this._text.color=this._labelColors[C$99t],this._strokeColors&&(this._text.strokeColor=this._strokeColors[C$99t]));},C$99t._setStateChanged=function(){this._stateChanged||(this._stateChanged=!0,this.callLater(this.changeState));},C$99r(0,C$99t,"labelStrokeColor",function(){return this.createText(),this._text.strokeColor;},function(C$99t){this.createText(),this._text.strokeColor=C$99t;}),C$99r(0,C$99t,"measureHeight",function(){return this.runCallLater(this.changeClips),this._text?Math.max(this._bitmap.height,this._text.height):this._bitmap.height;}),C$99r(0,C$99t,"skin",function(){return this._skin;},function(C$99t){this._skin!=C$99t&&(this.clearEvent(),C$99p.clearCache(this,this._skin),this._skin=C$99t,C$99p.keepCache(this,this._skin),C$99p.getRes(this._skin)?(this.callLater(this.changeClips),this._setStateChanged()):(C$99t=C$99i.resAtalsObj&&C$99i.resAtalsObj[this._skin])?(C$99i.atalsNotify&&C$99i.atalsNotify.once(this._skin,this,this._setBtnSource),0==this.width&&(this.width=C$99t.sourceW),0==this.height&&(this.height=C$99t.sourceH/this._stateNum)):console.warn("lose button skin ",this._skin,this.name,this.__className));}),C$99t._setBtnSource=function(C$99t,C$99e){C$99t===this._skin&&C$99e&&(this.callLater(this.changeClips),this._setStateChanged(),this.clearEvent());},C$99r(0,C$99t,"state",function(){return this._state;},function(C$99t){this._state!=C$99t&&(this._state=C$99t,this._setStateChanged());}),C$99r(0,C$99t,"text",function(){return this.createText(),this._text;}),C$99r(0,C$99t,"stateNum",function(){return this._stateNum;},function(C$99t){"string"==typeof C$99t&&(C$99t=parseInt(C$99t)),this._stateNum!=C$99t&&(this._stateNum=C$99t<1?1:3<C$99t?3:C$99t,this.callLater(this.changeClips));}),C$99r(0,C$99t,"strokeColors",function(){return this._strokeColors?this._strokeColors.join(","):"";},function(C$99t){this._strokeColors=C$99I.fillArray(C$99s.buttonLabelColors,C$99t,String),this._setStateChanged();}),C$99r(0,C$99t,"labelColors",function(){return this._labelColors.join(",");},function(C$99t){this._labelColors=C$99I.fillArray(C$99s.buttonLabelColors,C$99t,String),this._setStateChanged();}),C$99r(0,C$99t,"measureWidth",function(){return this.runCallLater(this.changeClips),this._autoSize?this._bitmap.width:(this.runCallLater(this.changeState),this._bitmap.width+(this._text?this._text.width:0));}),C$99r(0,C$99t,"label",function(){return this._text?this._text.text:null;},function(C$99t){(this._text||C$99t)&&(this.createText(),this._text.text!=C$99t&&(C$99t&&!this._text.parent&&this.addChild(this._text),this._text.text=(C$99t+"").replace(/\\n/g,"\n"),this._setStateChanged()));}),C$99r(0,C$99t,"selected",function(){return this._selected;},function(C$99t){this._selected!=C$99t&&(this._selected=C$99t,this.state=this._selected?2:0,this.event("change"));}),C$99r(0,C$99t,"labelPadding",function(){return this.createText(),this._text.padding.join(",");},function(C$99t){this.createText(),this._text.padding=C$99I.fillArray(C$99s.labelPadding,C$99t,Number);}),C$99r(0,C$99t,"labelSize",function(){return this.createText(),this._text.fontSize;},function(C$99t){this.createText(),this._text.fontSize=C$99t;}),C$99r(0,C$99t,"labelStroke",function(){return this.createText(),this._text.stroke;},function(C$99t){this.createText(),this._text.stroke=C$99t;}),C$99r(0,C$99t,"labelBold",function(){return this.createText(),this._text.bold;},function(C$99t){this.createText(),this._text.bold=C$99t;}),C$99r(0,C$99t,"labelFont",function(){return this.createText(),this._text.font;},function(C$99t){this.createText(),this._text.font=C$99t;}),C$99r(0,C$99t,"labelAlign",function(){return this.createText(),this._text.align;},function(C$99t){this.createText(),this._text.align=C$99t;}),C$99r(0,C$99t,"clickHandler",function(){return this._clickHandler;},function(C$99t){this._clickHandler=C$99t;}),C$99r(0,C$99t,"sizeGrid",function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null;},function(C$99t){this._bitmap.sizeGrid=C$99I.fillArray(C$99s.defaultSizeGrid,C$99t,Number);}),C$99r(0,C$99t,"width",C$99ct.prototype._$get_width,function(C$99t){C$99f.superSet(C$99a,this,"width",C$99t),this._autoSize&&(this._bitmap.width=C$99t,this._text&&(this._text.width=C$99t));}),C$99r(0,C$99t,"height",C$99ct.prototype._$get_height,function(C$99t){C$99f.superSet(C$99a,this,"height",C$99t),this._autoSize&&(this._bitmap.height=C$99t,this._text&&(this._text.height=C$99t));}),C$99r(0,C$99t,"dataSource",C$99ct.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)||"string"==typeof C$99t?this.label=C$99t+"":C$99f.superSet(C$99a,this,"dataSource",C$99t);}),C$99r(0,C$99t,"iconOffset",function(){return this._bitmap._offset?this._bitmap._offset.join(","):null;},function(C$99t){this._bitmap._offset=C$99t?C$99I.fillArray([1,1],C$99t,Number):[];}),C$99o(e$l,["stateMap",function(){return this.stateMap={mouseup:0,mouseover:1,mousedown:2,mouseout:0};}]),e$l),C$99B=(C$99n(e$k,"laya.ui.Clip",C$99ut=C$99a),(C$99t=e$k.prototype).destroy=function(C$99t){this.clearEvent(),this.clearLoad(),C$99p.clearCache(this,this._skin),C$99p.clearObject(this,this._weakKey),void 0===C$99t&&(C$99t=!0),C$99ut.prototype.destroy.call(this,!0),this._bitmap&&this._bitmap.destroy(),this._bitmap=null,this._sources=null;},C$99t.dispose=function(){this.destroy(!0),C$99f.loader.clearRes(this._skin);},C$99t.createChildren=function(){this.graphics=this._bitmap=new C$99E();},C$99t._onDisplay=function(C$99t){this._isPlaying?this._displayedInStage?this.play():this.stop():this._autoPlay&&this.play();},C$99t.changeClip=function(){var C$99t;this._clipChanged=!1,this._skin&&((C$99t=C$99p.getRes(this._skin))?this.loadComplete(this._skin,C$99t):C$99i.resAtalsObj&&C$99i.resAtalsObj[this._skin]||(this.clearLoad(),this._complete=C$99g.create(this,this.loadComplete,[this._skin]),this._progress=null,C$99f.loader.load(this._skin,this._complete,this._progress)));},C$99t.loadComplete=function(C$99t,C$99e){if(C$99t===this._skin&&C$99e){C$99p.clearObject(this,this._weakKey);var C$99i=this._clipWidth||Math.ceil(C$99e.sourceWidth/this._clipX),C$99n=this._clipHeight||Math.ceil(C$99e.sourceHeight/this._clipY),C$99t=this._skin+C$99i+C$99n,C$99r=C$99p.findObject(C$99t);if(C$99r=C$99M.isOkTextureList(C$99r)?C$99r:null)this._weakKey=C$99t,C$99p.keepObject(this,this._weakKey),this._sources=C$99r;else{this._sources=[];for(var C$99s=0;C$99s<this._clipY;C$99s++)for(var C$99a=0;C$99a<this._clipX;C$99a++){var C$99o=C$99T.createFromTexture(C$99e,C$99i*C$99a,C$99n*C$99s,C$99i,C$99n);var C$99h;C$99e.alphaTexture&&(C$99h=C$99e.width/C$99e.alphaTexture.width,C$99o.alphaTexture=C$99T.createFromTexture(C$99e.alphaTexture,C$99i*C$99a/C$99h,C$99n*C$99s/C$99h,C$99i/C$99h,C$99n/C$99h)),this._sources.push(C$99o);}C$99p.saveObject(C$99t,this._sources),this._weakKey=C$99t,C$99p.keepObject(this,this._weakKey);}this.index=this._index,this.event("loaded"),this.onCompResize();}},C$99t.play=function(C$99t,C$99e){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=-1),this._isPlaying=!0,this.index=C$99t,this._toIndex=C$99e,this._index++,C$99f.timer.loop(this.interval,this,this._loop),this.on("display",this,this._onDisplay),this.on("undisplay",this,this._onDisplay);},C$99t._loop=function(){this._style.visible&&this._sources&&(this._index++,-1<this._toIndex&&this._index>=this._toIndex?this.stop():this._index>=this._sources.length&&(this._index=0),this.index=this._index);},C$99t.stop=function(){this._isPlaying=!1,C$99f.timer.clear(this,this._loop),this.event("complete");},C$99t._setClipChanged=function(){this._clipChanged||(this._clipChanged=!0,this.callLater(this.changeClip));},C$99r(0,C$99t,"interval",function(){return this._interval;},function(C$99t){this._interval!=C$99t&&(this._interval=C$99t,this._isPlaying&&this.play());}),C$99t.clearEvent=function(){this._skin&&C$99i.atalsNotify&&C$99i.atalsNotify.off(this._skin,this,this._setBtnSource);},C$99t.clearLoad=function(){this._skin&&((this._complete||this._progress)&&C$99f.loader.cancel(this._skin,this._complete,this._progress),this._complete=this._progress=null);},C$99r(0,C$99t,"skin",function(){return this._skin;},function(C$99t){var C$99e;this._skin!=C$99t&&(this.clearLoad(),this.clearEvent(),C$99p.clearCache(this,this._skin),(this._skin=C$99t)?(C$99p.keepCache(this,this._skin),C$99t=C$99p.getRes(C$99t),C$99e=C$99i.resAtalsObj&&C$99i.resAtalsObj[this._skin],!C$99t&&C$99e?C$99i.atalsNotify&&C$99i.atalsNotify.once(this._skin,this,this._setBtnSource):this._setClipChanged()):this._bitmap.source=null);}),C$99t._setBtnSource=function(C$99t,C$99e){C$99t===this._skin&&C$99e&&(this.loadComplete(C$99t,C$99e),this.clearEvent());},C$99r(0,C$99t,"sources",function(){return this._sources;},function(C$99t){this._sources=C$99t,this.index=this._index,this.event("loaded");}),C$99r(0,C$99t,"clipX",function(){return this._clipX;},function(C$99t){this._clipX=C$99t||1,this._setClipChanged();}),C$99r(0,C$99t,"clipY",function(){return this._clipY;},function(C$99t){this._clipY=C$99t||1,this._setClipChanged();}),C$99r(0,C$99t,"total",function(){return this.runCallLater(this.changeClip),this._sources?this._sources.length:0;}),C$99r(0,C$99t,"clipWidth",function(){return this._clipWidth;},function(C$99t){this._clipWidth=C$99t,this._setClipChanged();}),C$99r(0,C$99t,"sizeGrid",function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null;},function(C$99t){this._bitmap.sizeGrid=C$99I.fillArray(C$99s.defaultSizeGrid,C$99t,Number);}),C$99r(0,C$99t,"group",function(){return this._group;},function(C$99t){C$99t&&this._skin&&C$99p.setGroup(this._skin,C$99t),this._group=C$99t;}),C$99r(0,C$99t,"clipHeight",function(){return this._clipHeight;},function(C$99t){this._clipHeight=C$99t,this._setClipChanged();}),C$99r(0,C$99t,"width",C$99ut.prototype._$get_width,function(C$99t){C$99f.superSet(C$99a,this,"width",C$99t),this._bitmap.width=C$99t;}),C$99r(0,C$99t,"height",C$99ut.prototype._$get_height,function(C$99t){C$99f.superSet(C$99a,this,"height",C$99t),this._bitmap.height=C$99t;}),C$99r(0,C$99t,"measureWidth",function(){return this.runCallLater(this.changeClip),this._bitmap.width;}),C$99r(0,C$99t,"measureHeight",function(){return this.runCallLater(this.changeClip),this._bitmap.height;}),C$99r(0,C$99t,"index",function(){return this._index;},function(C$99t){this._index=C$99t,this._bitmap&&this._sources&&(this._bitmap.source=this._sources[C$99t]),this.event("change");}),C$99r(0,C$99t,"autoPlay",function(){return this._autoPlay;},function(C$99t){this._autoPlay!=C$99t&&((this._autoPlay=C$99t)?this.play():this.stop());}),C$99r(0,C$99t,"isPlaying",function(){return this._isPlaying;},function(C$99t){this._isPlaying=C$99t;}),C$99r(0,C$99t,"dataSource",C$99ut.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)&&Math.floor(C$99t)==C$99t||"string"==typeof C$99t?this.index=parseInt(C$99t):C$99f.superSet(C$99a,this,"dataSource",C$99t);}),C$99r(0,C$99t,"bitmap",function(){return this._bitmap;}),e$k),C$99L=function(C$99e){function e$d(){this.changeHandler=null,this._gridSize=11,this._bgColor="#ffffff",this._borderColor="#000000",this._inputColor="#000000",this._inputBgColor="#efefef",this._colorPanel=null,this._colorTiles=null,this._colorBlock=null,this._colorInput=null,this._colorButton=null,this._colors=[],this._selectedColor="#000000",this._panelChanged=!1,e$d.__super.call(this);}C$99n(e$d,"laya.ui.ColorPicker",C$99e);var C$99t=e$d.prototype;return C$99t.destroy=function(C$99t){C$99e.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._colorPanel&&this._colorPanel.destroy(C$99t),this._colorButton&&this._colorButton.destroy(C$99t),this._colorPanel=null,this._colorTiles=null,this._colorBlock=null,this._colorInput=null,this._colorButton=null,this._colors=null,this.changeHandler=null;},C$99t.createChildren=function(){this.addChild(this._colorButton=new C$99P()),this._colorPanel=new C$99d(),this._colorPanel.size(230,166),this._colorPanel.addChild(this._colorTiles=new C$99b()),this._colorPanel.addChild(this._colorBlock=new C$99b()),this._colorPanel.addChild(this._colorInput=new C$99v());},C$99t.initialize=function(){this._colorButton.on("click",this,this.onColorButtonClick),this._colorBlock.pos(5,5),this._colorInput.pos(60,5),this._colorInput.size(60,20),this._colorInput.on("change",this,this.onColorInputChange),this._colorInput.on("keydown",this,this.onColorFieldKeyDown),this._colorTiles.pos(5,30),this._colorTiles.on("mousemove",this,this.onColorTilesMouseMove),this._colorTiles.on("click",this,this.onColorTilesClick),this._colorTiles.size(20*this._gridSize,12*this._gridSize),this._colorPanel.on("mousedown",this,this.onPanelMouseDown),this.bgColor=this._bgColor;},C$99t.onPanelMouseDown=function(C$99t){C$99t.stopPropagation();},C$99t.changePanel=function(){this._panelChanged=!1;var C$99t=this._colorPanel.graphics;C$99t.clear(),C$99t.drawRect(0,0,230,166,this._bgColor,this._borderColor),this.drawBlock(this._selectedColor),this._colorInput.borderColor=this._borderColor,this._colorInput.bgColor=this._inputBgColor,this._colorInput.color=this._inputColor,(C$99t=this._colorTiles.graphics).clear();for(var C$99e=[0,3355443,6710886,10066329,13421772,16777215,16711680,65280,255,16776960,65535,16711935],C$99i=0;C$99i<12;C$99i++)for(var C$99n=0;C$99n<20;C$99n++){var C$99r=C$99I.toColor(0===C$99n?C$99e[C$99i]:1===C$99n?0:51*(((3*C$99i+C$99n/6)%3<<0)+3*(C$99i/6<<0))<<16|C$99n%6*51<<8|(C$99i<<0)%6*51);this._colors.push(C$99r);var C$99s=C$99n*this._gridSize,C$99a=C$99i*this._gridSize;C$99t.drawRect(C$99s,C$99a,this._gridSize,this._gridSize,C$99r,"#000000");}},C$99t.onColorButtonClick=function(C$99t){this._colorPanel.parent?this.close():this.open();},C$99t.open=function(){var C$99t=this.localToGlobal(new C$99$()),C$99e=C$99t.x+this._colorPanel.width<=C$99f.stage.width?C$99t.x:C$99f.stage.width-this._colorPanel.width,C$99i=C$99t.y+this._colorButton.height;C$99i=C$99i+this._colorPanel.height<=C$99f.stage.height?C$99i:C$99t.y-this._colorPanel.height,this._colorPanel.pos(C$99e,C$99i),this._colorPanel.zOrder=1001,C$99f._currentStage.addChild(this._colorPanel),C$99f.stage.on("mousedown",this,this.removeColorBox);},C$99t.close=function(){C$99f.stage.off("mousedown",this,this.removeColorBox),this._colorPanel.removeSelf();},C$99t.removeColorBox=function(C$99t){this.close();},C$99t.onColorFieldKeyDown=function(C$99t){13==C$99t.keyCode&&(this._colorInput.text?this.selectedColor=this._colorInput.text:this.selectedColor=null,this.close(),C$99t.stopPropagation());},C$99t.onColorInputChange=function(C$99t){this._colorInput.text?this.drawBlock(this._colorInput.text):this.drawBlock("#FFFFFF");},C$99t.onColorTilesClick=function(C$99t){this.selectedColor=this.getColorByMouse(),this.close();},C$99t.onColorTilesMouseMove=function(C$99t){this._colorInput.focus=!1;var C$99e=this.getColorByMouse();this._colorInput.text=C$99e,this.drawBlock(C$99e);},C$99t.getColorByMouse=function(){var C$99t=this._colorTiles.getMousePoint(),C$99e=Math.floor(C$99t.x/this._gridSize),C$99t=Math.floor(C$99t.y/this._gridSize);return this._colors[20*C$99t+C$99e];},C$99t.drawBlock=function(C$99t){var C$99e=this._colorBlock.graphics;C$99e.clear(),C$99e.drawRect(0,0,50,20,C$99t||"#ffffff",this._borderColor),C$99t||C$99e.drawLine(0,0,50,20,"#ff0000");},C$99t.changeColor=function(){var C$99t=this.graphics;C$99t.clear();var C$99e=this._selectedColor||"#000000";C$99t.drawRect(0,0,this._colorButton.width,this._colorButton.height,C$99e);},C$99t._setPanelChanged=function(){this._panelChanged||(this._panelChanged=!0,this.callLater(this.changePanel));},C$99r(0,C$99t,"inputBgColor",function(){return this._inputBgColor;},function(C$99t){this._inputBgColor=C$99t,this._setPanelChanged();}),C$99r(0,C$99t,"selectedColor",function(){return this._selectedColor;},function(C$99t){this._selectedColor!=C$99t&&(this._selectedColor=this._colorInput.text=C$99t,this.drawBlock(C$99t),this.changeColor(),this.changeHandler&&this.changeHandler.runWith(this._selectedColor),this.event("change",C$99u.EMPTY.setTo("change",this,this)));}),C$99r(0,C$99t,"skin",function(){return this._colorButton.skin;},function(C$99t){this._colorButton.skin=C$99t,this.changeColor();}),C$99r(0,C$99t,"bgColor",function(){return this._bgColor;},function(C$99t){this._bgColor=C$99t,this._setPanelChanged();}),C$99r(0,C$99t,"borderColor",function(){return this._borderColor;},function(C$99t){this._borderColor=C$99t,this._setPanelChanged();}),C$99r(0,C$99t,"inputColor",function(){return this._inputColor;},function(C$99t){this._inputColor=C$99t,this._setPanelChanged();}),e$d;}(C$99a),C$99N=function(C$99e){function e$l(C$99t,C$99e){this._visibleNum=6,this._button=null,this._list=null,this._isOpen=!1,this._itemSize=12,this._labels=[],this._selectedIndex=-1,this._selectHandler=null,this._itemHeight=NaN,this._listHeight=NaN,this._listChanged=!1,this._itemChanged=!1,this._scrollBarSkin=null,this._isCustomList=!1,this.itemRender=null,e$l.__super.call(this),this._itemColors=C$99s.comboBoxItemColors,this.skin=C$99t,this.labels=C$99e;}C$99n(e$l,"laya.ui.ComboBox",C$99e);var C$99t=e$l.prototype;return C$99t.destroy=function(C$99t){C$99e.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._button&&this._button.destroy(C$99t),this._list&&this._list.destroy(C$99t),this._button=null,this._list=null,this._itemColors=null,this._labels=null,this._selectHandler=null;},C$99t.createChildren=function(){this.addChild(this._button=new C$99P()),this._button.text.align="left",this._button.labelPadding="0,0,0,5",this._button.on("mousedown",this,this.onButtonMouseDown);},C$99t._createList=function(){this._list=new C$99Y(),this._scrollBarSkin&&(this._list.vScrollBarSkin=this._scrollBarSkin),this._setListEvent(this._list);},C$99t._setListEvent=function(C$99t){this._list.selectEnable=!0,this._list.on("mousedown",this,this.onListDown),this._list.mouseHandler=C$99g.create(this,this.onlistItemMouse,null,!1),this._list.scrollBar&&this._list.scrollBar.on("mousedown",this,this.onScrollBarDown);},C$99t.onListDown=function(C$99t){C$99t.stopPropagation();},C$99t.onScrollBarDown=function(C$99t){C$99t.stopPropagation();},C$99t.onButtonMouseDown=function(C$99t){this.callLater(this.switchTo,[!this._isOpen]);},C$99t.changeList=function(){this._listChanged=!1;var C$99t=this.width-2,C$99e=this._itemColors[2];this._itemHeight=this._itemSize+6,this._list.itemRender=this.itemRender||{type:"Box",child:[{type:"Label",props:{name:"label",x:1,padding:"3,3,3,3",width:C$99t,height:this._itemHeight,fontSize:this._itemSize,color:C$99e}}]},this._list.repeatY=this._visibleNum,this._list.refresh();},C$99t.onlistItemMouse=function(C$99t,C$99e){C$99t=C$99t.type;var C$99i;"mouseover"===C$99t||"mouseout"===C$99t?this._isCustomList||!(C$99i=this._list.getCell(C$99e))||(C$99i=C$99i.getChildByName("label"))&&("mouseover"===C$99t?(C$99i.bgColor=this._itemColors[0],C$99i.color=this._itemColors[1]):(C$99i.bgColor=null,C$99i.color=this._itemColors[2])):"click"===C$99t&&(this.selectedIndex=C$99e,this.isOpen=!1);},C$99t.switchTo=function(C$99t){this.isOpen=C$99t;},C$99t.changeOpen=function(){this.isOpen=!this._isOpen;},C$99t.changeItem=function(){var C$99t;this._itemChanged=!1,this._listHeight=0<this._labels.length?Math.min(this._visibleNum,this._labels.length)*this._itemHeight:this._itemHeight,this._isCustomList||((C$99t=this._list.graphics).clear(),C$99t.drawRect(0,0,this.width-1,this._listHeight,this._itemColors[4],this._itemColors[3]));for(var C$99e=this._list.array||[],C$99i=C$99e.length=0,C$99n=this._labels.length;C$99i<C$99n;C$99i++)C$99e.push({label:this._labels[C$99i]});this._list.height=this._listHeight,this._list.array=C$99e;},C$99t.changeSelected=function(){this._button.label=this.selectedLabel;},C$99t._onStageMouseWheel=function(C$99t){this._list&&!this._list.contains(C$99t.target)&&this.removeList(null);},C$99t.removeList=function(C$99t){C$99f.stage.off("mousedown",this,this.removeList),C$99f.stage.off("mousewheel",this,this._onStageMouseWheel),this.isOpen=!1;},C$99r(0,C$99t,"selectedIndex",function(){return this._selectedIndex;},function(C$99t){this._selectedIndex!=C$99t&&(this._selectedIndex=C$99t,0<this._labels.length?this.changeSelected():this.callLater(this.changeSelected),this.event("change",[C$99u.EMPTY.setTo("change",this,this)]),this._selectHandler&&this._selectHandler.runWith(this._selectedIndex));}),C$99r(0,C$99t,"measureHeight",function(){return this._button.height;}),C$99r(0,C$99t,"skin",function(){return this._button.skin;},function(C$99t){this._button.skin!=C$99t&&(this._button.skin=C$99t,this._listChanged=!0);}),C$99r(0,C$99t,"measureWidth",function(){return this._button.width;}),C$99r(0,C$99t,"width",C$99e.prototype._$get_width,function(C$99t){C$99f.superSet(C$99a,this,"width",C$99t),this._button.width=this._width,this._itemChanged=!0,this._listChanged=!0;}),C$99r(0,C$99t,"selectedLabel",function(){return-1<this._selectedIndex&&this._selectedIndex<this._labels.length?this._labels[this._selectedIndex]:null;},function(C$99t){this.selectedIndex=this._labels.indexOf(C$99t);}),C$99r(0,C$99t,"labels",function(){return this._labels.join(",");},function(C$99t){0<this._labels.length&&(this.selectedIndex=-1),C$99t?this._labels=C$99t.split(","):this._labels.length=0,this._itemChanged=!0;}),C$99r(0,C$99t,"height",C$99e.prototype._$get_height,function(C$99t){C$99f.superSet(C$99a,this,"height",C$99t),this._button.height=this._height;}),C$99r(0,C$99t,"selectHandler",function(){return this._selectHandler;},function(C$99t){this._selectHandler=C$99t;}),C$99r(0,C$99t,"visibleNum",function(){return this._visibleNum;},function(C$99t){this._visibleNum=C$99t,this._listChanged=!0;}),C$99r(0,C$99t,"labelBold",function(){return this._button.text.bold;},function(C$99t){this._button.text.bold=C$99t;}),C$99r(0,C$99t,"itemColors",function(){return String(this._itemColors);},function(C$99t){this._itemColors=C$99I.fillArray(this._itemColors,C$99t,String),this._listChanged=!0;}),C$99r(0,C$99t,"itemSize",function(){return this._itemSize;},function(C$99t){this._itemSize=C$99t,this._listChanged=!0;}),C$99r(0,C$99t,"scrollBar",function(){return this.list.scrollBar;}),C$99r(0,C$99t,"isOpen",function(){return this._isOpen;},function(C$99t){var C$99e;this._isOpen!=C$99t&&(this._isOpen=C$99t,this._button.selected=this._isOpen,this._isOpen?(this._list||this._createList(),this._listChanged&&!this._isCustomList&&this.changeList(),this._itemChanged&&this.changeItem(),C$99e=(C$99e=(C$99t=this.localToGlobal(C$99$.TEMP.setTo(0,0))).y+this._button.height)+this._listHeight<=C$99f.stage.height?C$99e:C$99t.y-this._listHeight,this._list.pos(C$99t.x,C$99e),this._list.zOrder=1001,C$99f._currentStage.addChild(this._list),C$99f.stage.once("mousedown",this,this.removeList),C$99f.stage.on("mousewheel",this,this._onStageMouseWheel),this._list.selectedIndex=this._selectedIndex):this._list&&this._list.removeSelf());}),C$99r(0,C$99t,"scrollBarSkin",function(){return this._scrollBarSkin;},function(C$99t){this._scrollBarSkin=C$99t;}),C$99r(0,C$99t,"sizeGrid",function(){return this._button.sizeGrid;},function(C$99t){this._button.sizeGrid=C$99t;}),C$99r(0,C$99t,"button",function(){return this._button;}),C$99r(0,C$99t,"list",function(){return this._list||this._createList(),this._list;},function(C$99t){C$99t&&(C$99t.removeSelf(),this._isCustomList=!0,this._list=C$99t,this._setListEvent(C$99t),this._itemHeight=C$99t.getCell(0).height+C$99t.spaceY);}),C$99r(0,C$99t,"dataSource",C$99e.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)&&Math.floor(C$99t)==C$99t||"string"==typeof C$99t?this.selectedIndex=parseInt(C$99t):C$99t instanceof Array?this.labels=C$99t.join(","):C$99f.superSet(C$99a,this,"dataSource",C$99t);}),C$99r(0,C$99t,"labelColors",function(){return this._button.labelColors;},function(C$99t){this._button.labelColors!=C$99t&&(this._button.labelColors=C$99t);}),C$99r(0,C$99t,"labelPadding",function(){return this._button.text.padding.join(",");},function(C$99t){this._button.text.padding=C$99I.fillArray(C$99s.labelPadding,C$99t,Number);}),C$99r(0,C$99t,"labelSize",function(){return this._button.text.fontSize;},function(C$99t){this._button.text.fontSize=C$99t;}),C$99r(0,C$99t,"labelFont",function(){return this._button.text.font;},function(C$99t){this._button.text.font=C$99t;}),C$99r(0,C$99t,"stateNum",function(){return this._button.stateNum;},function(C$99t){this._button.stateNum=C$99t;}),e$l;}(C$99a),C$99k=function(C$99e){function e$l(C$99t){this.rollRatio=.95,this.changeHandler=null,this.scaleBar=!0,this.autoHide=!1,this.elasticDistance=0,this.elasticBackTime=500,this.upButton=null,this.downButton=null,this.slider=null,this._scrollSize=1,this._skin=null,this._thumbPercent=1,this._target=null,this._lastPoint=null,this._lastOffset=0,this._checkElastic=!1,this._isElastic=!1,this._value=NaN,this._hide=!1,this._clickOnly=!0,this._offsets=null,e$l.__super.call(this),this._showButtons=C$99D.showButtons,this._touchScrollEnable=C$99D.touchScrollEnable,this._mouseWheelEnable=C$99D.mouseWheelEnable,this.skin=C$99t,this.max=1;}C$99n(e$l,"laya.ui.ScrollBar",C$99e);var C$99t=e$l.prototype;return C$99t.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this.stopScroll(),this.target=null,C$99e.prototype.destroy.call(this,C$99t),this.upButton&&this.upButton.destroy(C$99t),this.downButton&&this.downButton.destroy(C$99t),this.slider&&this.slider.destroy(C$99t),this.upButton=this.downButton=null,this.slider=null,this.changeHandler=null,this._offsets=null;},C$99t.createChildren=function(){this.addChild(this.slider=new C$99O()),this.addChild(this.upButton=new C$99P()),this.addChild(this.downButton=new C$99P());},C$99t.initialize=function(){this.slider.showLabel=!1,this.slider.on("change",this,this.onSliderChange),this.slider.setSlider(0,0,0),this.upButton.on("mousedown",this,this.onButtonMouseDown),this.downButton.on("mousedown",this,this.onButtonMouseDown);},C$99t.onSliderChange=function(){this._value!=this.slider.value&&(this.value=this.slider.value);},C$99t.onButtonMouseDown=function(C$99t){C$99t=C$99t.currentTarget===this.upButton;this.slide(C$99t),C$99f.timer.once(C$99s.scrollBarDelayTime,this,this.startLoop,[C$99t]),C$99f.stage.once("mouseup",this,this.onStageMouseUp);},C$99t.startLoop=function(C$99t){C$99f.timer.frameLoop(1,this,this.slide,[C$99t]);},C$99t.slide=function(C$99t){C$99t?this.value-=this._scrollSize:this.value+=this._scrollSize;},C$99t.onStageMouseUp=function(C$99t){C$99f.timer.clear(this,this.startLoop),C$99f.timer.clear(this,this.slide);},C$99t.changeScrollBar=function(){this.upButton.visible=this._showButtons,this.downButton.visible=this._showButtons,this._showButtons&&(this.upButton.skin=this._skin.replace(".png","$up.png"),this.downButton.skin=this._skin.replace(".png","$down.png")),this.slider.isVertical?this.slider.y=this._showButtons?this.upButton.height:0:this.slider.x=this._showButtons?this.upButton.width:0,this.resetPositions(),this.repaint();},C$99t.changeSize=function(){C$99e.prototype.changeSize.call(this),this.repaint(),this.resetPositions(),this.event("change"),this.changeHandler&&this.changeHandler.runWith(this.value);},C$99t.resetPositions=function(){this.slider.isVertical?this.slider.height=this.height-(this._showButtons?this.upButton.height+this.downButton.height:0):this.slider.width=this.width-(this._showButtons?this.upButton.width+this.downButton.width:0),this.resetButtonPosition();},C$99t.resetButtonPosition=function(){this.slider.isVertical?this.downButton.y=this.slider.y+this.slider.height:this.downButton.x=this.slider.x+this.slider.width;},C$99t.setScroll=function(C$99t,C$99e,C$99i){this.runCallLater(this.changeSize),this.slider.setSlider(C$99t,C$99e,C$99i),this.slider.bar.visible=0<C$99e,!this._hide&&this.autoHide&&(this.visible=!1);},C$99t.onTargetMouseWheel=function(C$99t){this.value-=C$99t.delta*this._scrollSize,this.target=this._target;},C$99t.onTargetMouseDown=function(C$99t){this._clickOnly=!0,this._lastOffset=0,this._checkElastic=!1,this._lastPoint||(this._lastPoint=new C$99$()),this._lastPoint.setTo(C$99f.stage.mouseX,C$99f.stage.mouseY),C$99f.timer.clear(this,this.tweenMove),C$99S.clearTween(this),C$99f.stage.once("mouseup",this,this.onStageMouseUp2),C$99f.stage.once("mouseout",this,this.onStageMouseUp2),C$99f.timer.frameLoop(1,this,this.loop);},C$99t.loop=function(){var C$99t=C$99f.stage.mouseY,C$99e=C$99f.stage.mouseX;if(this._lastOffset=this.isVertical?C$99t-this._lastPoint.y:C$99e-this._lastPoint.x,this._clickOnly){if(!(1<Math.abs(this._lastOffset*(this.isVertical?C$99f.stage._canvasTransform.getScaleY():C$99f.stage._canvasTransform.getScaleX()))))return;this._clickOnly=!1,this._offsets||(this._offsets=[]),this._offsets.length=0,this._target.mouseEnabled=!1,!this.hide&&this.autoHide&&(this.alpha=1,this.visible=!0),this.event("start");}this._offsets.push(this._lastOffset),this._lastPoint.x=C$99e,this._lastPoint.y=C$99t,0!==this._lastOffset&&(this._checkElastic||(0<this.elasticDistance?this._checkElastic||0==this._lastOffset||(0<this._lastOffset&&this._value<=this.min||this._lastOffset<0&&this._value>=this.max?(this._isElastic=!0,this._checkElastic=!0):this._isElastic=!1):this._checkElastic=!0),this._isElastic?this._value<=this.min?this.value-=this._lastOffset*Math.max(0,1-(this.min-this._value)/this.elasticDistance):this._value>=this.max&&(this.value-=this._lastOffset*Math.max(0,1-(this._value-this.max)/this.elasticDistance)):this.value-=this._lastOffset);},C$99t.onStageMouseUp2=function(C$99t){if(C$99f.stage.off("mouseup",this,this.onStageMouseUp2),C$99f.stage.off("mouseout",this,this.onStageMouseUp2),C$99f.timer.clear(this,this.loop),!(this._clickOnly&&this._value>=this.min&&this._value<=this.max))if(this._target.mouseEnabled=!0,this._isElastic)this._value<this.min?C$99S.to(this,{value:this.min},this.elasticBackTime,C$99l.sineOut,C$99g.create(this,this.elasticOver)):this._value>this.max&&C$99S.to(this,{value:this.max},this.elasticBackTime,C$99l.sineOut,C$99g.create(this,this.elasticOver));else if(this._offsets){this._offsets.length<1&&(this._offsets[0]=this.isVertical?C$99f.stage.mouseY-this._lastPoint.y:C$99f.stage.mouseX-this._lastPoint.x);for(var C$99e=0,C$99i=Math.min(this._offsets.length,3),C$99n=0;C$99n<C$99i;C$99n++)C$99e+=this._offsets[this._offsets.length-1-C$99n];var C$99r;this._lastOffset=C$99e/C$99i,(C$99e=Math.abs(this._lastOffset))<2?this.event("end"):(60<C$99e&&(this._lastOffset=0<this._lastOffset?60:-60),C$99r=Math.round(Math.abs(this.elasticDistance*(this._lastOffset/240))),C$99f.timer.frameLoop(1,this,this.tweenMove,[C$99r]));}},C$99t.elasticOver=function(){this._isElastic=!1,!this.hide&&this.autoHide&&C$99S.to(this,{alpha:0},500),this.event("end");},C$99t.tweenMove=function(C$99t){this._lastOffset*=this.rollRatio;var C$99e=NaN;0<C$99t&&(0<this._lastOffset&&this.value<=this.min?(this._isElastic=!0,C$99e=.5*-(this.min-C$99t-this.value),this._lastOffset>C$99e&&(this._lastOffset=C$99e)):this._lastOffset<0&&this.value>=this.max&&(this._isElastic=!0,C$99e=.5*-(this.max+C$99t-this.value),this._lastOffset<C$99e&&(this._lastOffset=C$99e))),this.value-=this._lastOffset,Math.abs(this._lastOffset)<1&&(C$99f.timer.clear(this,this.tweenMove),this._isElastic?this._value<this.min?C$99S.to(this,{value:this.min},this.elasticBackTime,C$99l.sineOut,C$99g.create(this,this.elasticOver)):this._value>this.max?C$99S.to(this,{value:this.max},this.elasticBackTime,C$99l.sineOut,C$99g.create(this,this.elasticOver)):this.elasticOver():(this.event("end"),!this.hide&&this.autoHide&&C$99S.to(this,{alpha:0},500)));},C$99t.stopScroll=function(){this.onStageMouseUp2(null),C$99f.timer.clear(this,this.tweenMove),C$99S.clearTween(this);},C$99r(0,C$99t,"measureHeight",function(){return this.slider.isVertical?100:this.slider.height;}),C$99r(0,C$99t,"skin",function(){return this._skin;},function(C$99t){this._skin!=C$99t&&(this._skin=C$99t,this.slider.skin=this._skin,this.callLater(this.changeScrollBar));}),C$99r(0,C$99t,"max",function(){return this.slider.max;},function(C$99t){this.slider.max=C$99t;}),C$99r(0,C$99t,"showButtons",function(){return this._showButtons;},function(C$99t){this._showButtons=C$99t,this.callLater(this.changeScrollBar);}),C$99r(0,C$99t,"measureWidth",function(){return this.slider.isVertical?this.slider.width:100;}),C$99r(0,C$99t,"min",function(){return this.slider.min;},function(C$99t){this.slider.min=C$99t;}),C$99r(0,C$99t,"value",function(){return this._value;},function(C$99t){C$99t!==this._value&&(this._value=C$99t,this._isElastic||(this.slider._value!=C$99t&&(this.slider._value=C$99t,this.slider.changeValue()),this._value=this.slider._value),this.event("change"),this.changeHandler&&this.changeHandler.runWith(this._value));}),C$99r(0,C$99t,"isVertical",function(){return this.slider.isVertical;},function(C$99t){this.slider.isVertical=C$99t;}),C$99r(0,C$99t,"sizeGrid",function(){return this.slider.sizeGrid;},function(C$99t){this.slider.sizeGrid=C$99t;}),C$99r(0,C$99t,"scrollSize",function(){return this._scrollSize;},function(C$99t){this._scrollSize=C$99t;}),C$99r(0,C$99t,"dataSource",C$99e.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)||"string"==typeof C$99t?this.value=Number(C$99t):C$99f.superSet(C$99a,this,"dataSource",C$99t);}),C$99r(0,C$99t,"thumbPercent",function(){return this._thumbPercent;},function(C$99t){this.runCallLater(this.changeScrollBar),this.runCallLater(this.changeSize),this._thumbPercent=C$99t=1<=C$99t?.99:C$99t,this.scaleBar&&(this.slider.isVertical?this.slider.bar.height=Math.max(this.slider.height*C$99t,C$99s.scrollBarMinNum):this.slider.bar.width=Math.max(this.slider.width*C$99t,C$99s.scrollBarMinNum));}),C$99r(0,C$99t,"target",function(){return this._target;},function(C$99t){this._target&&(this._target.off("mousewheel",this,this.onTargetMouseWheel),this._target.off("mousedown",this,this.onTargetMouseDown)),(this._target=C$99t)&&(this._mouseWheelEnable&&this._target.on("mousewheel",this,this.onTargetMouseWheel),this._touchScrollEnable&&this._target.on("mousedown",this,this.onTargetMouseDown));}),C$99r(0,C$99t,"hide",function(){return this._hide;},function(C$99t){this._hide=C$99t,this.visible=!C$99t;}),C$99r(0,C$99t,"touchScrollEnable",function(){return this._touchScrollEnable;},function(C$99t){this._touchScrollEnable=C$99t,this.target=this._target;}),C$99r(0,C$99t,"mouseWheelEnable",function(){return this._mouseWheelEnable;},function(C$99t){this._mouseWheelEnable=C$99t,this.target=this._target;}),C$99r(0,C$99t,"tick",function(){return this.slider.tick;},function(C$99t){this.slider.tick=C$99t;}),e$l;}(C$99a),C$99O=function(C$99e){function e$l(C$99t){this.changeHandler=null,this.isVertical=!0,this.showLabel=!0,this._allowClickBack=!1,this._max=100,this._min=0,this._tick=1,this._value=0,this._skin=null,this._bg=null,this._progress=null,this._bar=null,this._tx=NaN,this._ty=NaN,this._maxMove=NaN,this._globalSacle=null,e$l.__super.call(this),this.skin=C$99t;}C$99n(e$l,"laya.ui.Slider",C$99e);var C$99t=e$l.prototype;return C$99t.destroy=function(C$99t){C$99e.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._bg&&this._bg.destroy(C$99t),this._bar&&this._bar.destroy(C$99t),this._progress&&this._progress.destroy(C$99t),this._bg=null,this._bar=null,this._progress=null,this.changeHandler=null;},C$99t.createChildren=function(){this.addChild(this._bg=new C$99V()),this.addChild(this._bar=new C$99P());},C$99t.initialize=function(){this._bar.on("mousedown",this,this.onBarMouseDown),this._bg.sizeGrid=this._bar.sizeGrid="4,4,4,4,0",this._progress&&(this._progress.sizeGrid=this._bar.sizeGrid),this.allowClickBack=!0;},C$99t.onBarMouseDown=function(C$99t){this._globalSacle||(this._globalSacle=new C$99$()),this._globalSacle.setTo(this.globalScaleX||.01,this.globalScaleY||.01),this._maxMove=this.isVertical?this.height-this._bar.height:this.width-this._bar.width,this._tx=C$99f.stage.mouseX,this._ty=C$99f.stage.mouseY,C$99f.stage.on("mousemove",this,this.mouseMove),C$99f.stage.once("mouseup",this,this.mouseUp),C$99f.stage.once("mouseout",this,this.mouseUp),this.showValueText();},C$99t.showValueText=function(){var C$99t;this.showLabel&&(C$99t=laya.ui.Slider.label,this.addChild(C$99t),C$99t.textField.changeText(this._value+""),this.isVertical?(C$99t.x=this._bar.x+20,C$99t.y=.5*(this._bar.height-C$99t.height)+this._bar.y):(C$99t.y=this._bar.y-20,C$99t.x=.5*(this._bar.width-C$99t.width)+this._bar.x));},C$99t.hideValueText=function(){laya.ui.Slider.label&&laya.ui.Slider.label.removeSelf();},C$99t.mouseUp=function(C$99t){C$99f.stage.off("mousemove",this,this.mouseMove),C$99f.stage.off("mouseup",this,this.mouseUp),C$99f.stage.off("mouseout",this,this.mouseUp),this.sendChangeEvent("changed"),this.hideValueText();},C$99t.mouseMove=function(C$99t){var C$99e=this._value;this.isVertical?(this._bar.y+=(C$99f.stage.mouseY-this._ty)/this._globalSacle.y,this._bar.y>this._maxMove?this._bar.y=this._maxMove:this._bar.y<0&&(this._bar.y=0),this._value=this._bar.y/this._maxMove*(this._max-this._min)+this._min,this._progress&&(this._progress.height=this._bar.y+.5*this._bar.height)):(this._bar.x+=(C$99f.stage.mouseX-this._tx)/this._globalSacle.x,this._bar.x>this._maxMove?this._bar.x=this._maxMove:this._bar.x<0&&(this._bar.x=0),this._value=this._bar.x/this._maxMove*(this._max-this._min)+this._min,this._progress&&(this._progress.width=this._bar.x+.5*this._bar.width)),this._tx=C$99f.stage.mouseX,this._ty=C$99f.stage.mouseY;var C$99i=Math.pow(10,(this._tick+"").length-1);this._value=Math.round(Math.round(this._value/this._tick)*this._tick*C$99i)/C$99i,this._value!=C$99e&&this.sendChangeEvent(),this.showValueText();},C$99t.sendChangeEvent=function(C$99t){this.event(C$99t=void 0===C$99t?"change":C$99t),this.changeHandler&&this.changeHandler.runWith(this._value);},C$99t.setBarPoint=function(){this.isVertical?this._bar.x=Math.round(.5*(this._bg.width-this._bar.width)):this._bar.y=Math.round(.5*(this._bg.height-this._bar.height));},C$99t.changeSize=function(){C$99e.prototype.changeSize.call(this),this.isVertical?this._bg.height=this.height:this._bg.width=this.width,this.setBarPoint(),this.changeValue();},C$99t.setSlider=function(C$99t,C$99e,C$99i){this._value=-1,this._min=C$99t,this._max=C$99t<C$99e?C$99e:C$99t,this.value=C$99i<C$99t?C$99t:C$99e<C$99i?C$99e:C$99i;},C$99t.changeValue=function(){var C$99t=Math.pow(10,(this._tick+"").length-1);this._value=Math.round(Math.round(this._value/this._tick)*this._tick*C$99t)/C$99t,this._value=this._value>this._max?this._max:this._value<this._min?this._min:this._value;C$99t=this._max-this._min;0===C$99t&&(C$99t=1),this.isVertical?(this._bar.y=(this._value-this._min)/C$99t*(this.height-this._bar.height),this._progress&&(this._progress.height=this._bar.y+.5*this._bar.height)):(this._bar.x=(this._value-this._min)/C$99t*(this.width-this._bar.width),this._progress&&(this._progress.width=this._bar.x+.5*this._bar.width));},C$99t.onBgMouseDown=function(C$99t){var C$99e=this._bg.getMousePoint();this.isVertical?this.value=C$99e.y/(this.height-this._bar.height)*(this._max-this._min)+this._min:this.value=C$99e.x/(this.width-this._bar.width)*(this._max-this._min)+this._min;},C$99r(0,C$99t,"measureHeight",function(){return Math.max(this._bg.height,this._bar.height);}),C$99r(0,C$99t,"skin",function(){return this._skin;},function(C$99t){this._skin!=C$99t&&(this._skin=C$99t,this._bg.skin=this._skin,this._bar.skin=this._skin.replace(".png","$bar.png"),C$99t=this._skin.replace(".png","$progress.png"),C$99p.getRes(C$99t)&&(this._progress||(this.addChild(this._progress=new C$99V()),this._progress.sizeGrid=this._bar.sizeGrid,this.setChildIndex(this._progress,1)),this._progress.skin=C$99t),this.setBarPoint(),this.callLater(this.changeValue));}),C$99r(0,C$99t,"allowClickBack",function(){return this._allowClickBack;},function(C$99t){this._allowClickBack!=C$99t&&((this._allowClickBack=C$99t)?this._bg.on("mousedown",this,this.onBgMouseDown):this._bg.off("mousedown",this,this.onBgMouseDown));}),C$99r(0,C$99t,"max",function(){return this._max;},function(C$99t){this._max!=C$99t&&(this._max=C$99t,this.callLater(this.changeValue));}),C$99r(0,C$99t,"measureWidth",function(){return Math.max(this._bg.width,this._bar.width);}),C$99r(0,C$99t,"tick",function(){return this._tick;},function(C$99t){this._tick!=C$99t&&(this._tick=C$99t,this.callLater(this.changeValue));}),C$99r(0,C$99t,"sizeGrid",function(){return this._bg.sizeGrid;},function(C$99t){this._bg.sizeGrid=C$99t,this._bar.sizeGrid=C$99t,this._progress&&(this._progress.sizeGrid=this._bar.sizeGrid);}),C$99r(0,C$99t,"min",function(){return this._min;},function(C$99t){this._min!=C$99t&&(this._min=C$99t,this.callLater(this.changeValue));}),C$99r(0,C$99t,"value",function(){return this._value;},function(C$99t){var C$99e;this._value!=C$99t&&(C$99e=this._value,this._value=C$99t,this.changeValue(),this._value!=C$99e&&this.sendChangeEvent());}),C$99r(0,C$99t,"dataSource",C$99e.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)||"string"==typeof C$99t?this.value=Number(C$99t):C$99f.superSet(C$99a,this,"dataSource",C$99t);}),C$99r(0,C$99t,"bar",function(){return this._bar;}),C$99o(e$l,["label",function(){return this.label=new C$99F();}]),e$l;}(C$99a),C$99V=function(C$99e){function e$l(C$99t){this._bitmap=null,this._skin=null,this._group=null,this._complete=null,this._progress=null,e$l.__super.call(this),this.skin=C$99t;}C$99n(e$l,"laya.ui.Image",C$99e);var C$99t=e$l.prototype;return C$99t.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),C$99e.prototype.destroy.call(this,!0),this.clearLoad(),this.clearEvent(),this._bitmap&&this._bitmap.destroy(),this._bitmap=null,C$99p.clearCache(this,this._skin);},C$99t.dispose=function(){this.destroy(!0),C$99p.clearCache(this,this._skin),this.clearEvent();},C$99t.createChildren=function(){this.graphics=this._bitmap=new C$99E();},C$99t.setSource=function(C$99t,C$99e){this.destroyed||C$99t===this._skin&&C$99e&&(this.source=C$99e,this.onCompResize(),this.clearEvent());},C$99t.clearEvent=function(){this._skin&&C$99i.atalsNotify&&C$99i.atalsNotify.off(this._skin,this,this.setSource);},C$99t.clearLoad=function(){this._skin&&((this._complete||this._progress)&&C$99f.loader.cancel(this._skin,this._complete,this._progress),this._complete=this._progress=null);},C$99r(0,C$99t,"source",function(){return this._bitmap.source;},function(C$99t){this._bitmap&&(this._bitmap.source=C$99t,this.event("loaded"),this.repaint());}),C$99r(0,C$99t,"dataSource",C$99e.prototype._$get_dataSource,function(C$99t){"string"==typeof(this._dataSource=C$99t)?this.skin=C$99t:C$99f.superSet(C$99a,this,"dataSource",C$99t);}),C$99r(0,C$99t,"measureHeight",function(){return this._bitmap.height;}),C$99r(0,C$99t,"skin",function(){return this._skin;},function(C$99t){var C$99e;this._skin!=C$99t&&(C$99p.clearCache(this,this._skin),this.clearEvent(),this.clearLoad(),(this._skin=C$99t)?(C$99p.keepCache(this,this._skin),C$99t=C$99p.getRes(C$99t),C$99e=C$99i.resAtalsObj&&C$99i.resAtalsObj[this._skin],C$99t?(this.source=C$99t,this.onCompResize()):C$99e?(C$99i.atalsNotify&&C$99i.atalsNotify.once(this._skin,this,this.setSource),0==this.width&&(this.width=C$99e.sourceW),0==this.height&&(this.height=C$99e.sourceH)):(this._complete=C$99g.create(this,this.setSource,[this._skin]),this._progress=null,C$99f.loader.load(this._skin,this._complete,this._progress,"image",1,!0,this._group))):this.source=null);}),C$99r(0,C$99t,"group",function(){return this._group;},function(C$99t){C$99t&&this._skin&&C$99p.setGroup(this._skin,C$99t),this._group=C$99t;}),C$99r(0,C$99t,"sizeGrid",function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null;},function(C$99t){this._bitmap.sizeGrid=C$99I.fillArray(C$99s.defaultSizeGrid,C$99t,Number);}),C$99r(0,C$99t,"measureWidth",function(){return this._bitmap.width;}),C$99r(0,C$99t,"width",C$99e.prototype._$get_width,function(C$99t){C$99f.superSet(C$99a,this,"width",C$99t),this._bitmap.width=0==C$99t?1e-7:C$99t;}),C$99r(0,C$99t,"height",C$99e.prototype._$get_height,function(C$99t){C$99f.superSet(C$99a,this,"height",C$99t),this._bitmap.height=0==C$99t?1e-7:C$99t;}),e$l;}(C$99a),C$99F=function(C$99e){function e$l(C$99t){this._tf=null,e$l.__super.call(this),void 0===C$99t&&(C$99t=""),C$99c.defaultColor=C$99s.labelColor,this.text=C$99t;}C$99n(e$l,"laya.ui.Label",C$99e);var C$99t=e$l.prototype;return C$99t.destroy=function(C$99t){C$99e.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._tf=null;},C$99t.createChildren=function(){this.addChild(this._tf=new C$99w());},C$99t.changeText=function(C$99t){this._tf.changeText(C$99t);},C$99r(0,C$99t,"padding",function(){return this._tf.padding.join(",");},function(C$99t){this._tf.padding=C$99I.fillArray(C$99s.labelPadding,C$99t,Number);}),C$99r(0,C$99t,"bold",function(){return this._tf.bold;},function(C$99t){this._tf.bold=C$99t;}),C$99r(0,C$99t,"align",function(){return this._tf.align;},function(C$99t){this._tf.align=C$99t;}),C$99r(0,C$99t,"text",function(){return this._tf.text;},function(C$99t){this._tf.text!=C$99t&&(C$99t=C$99t&&C$99I.adptString(C$99t+""),this._tf.text=C$99t,this.event("change"),this._width&&this._height||this.onCompResize());}),C$99r(0,C$99t,"italic",function(){return this._tf.italic;},function(C$99t){this._tf.italic=C$99t;}),C$99r(0,C$99t,"wordWrap",function(){return this._tf.wordWrap;},function(C$99t){this._tf.wordWrap=C$99t;}),C$99r(0,C$99t,"font",function(){return this._tf.font;},function(C$99t){this._tf.font=C$99t;}),C$99r(0,C$99t,"dataSource",C$99e.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)||"string"==typeof C$99t?this.text=C$99t+"":C$99f.superSet(C$99a,this,"dataSource",C$99t);}),C$99r(0,C$99t,"color",function(){return this._tf.color;},function(C$99t){this._tf.color=C$99t;}),C$99r(0,C$99t,"valign",function(){return this._tf.valign;},function(C$99t){this._tf.valign=C$99t;}),C$99r(0,C$99t,"leading",function(){return this._tf.leading;},function(C$99t){this._tf.leading=C$99t;}),C$99r(0,C$99t,"fontSize",function(){return this._tf.fontSize;},function(C$99t){this._tf.fontSize=C$99t;}),C$99r(0,C$99t,"bgColor",function(){return this._tf.bgColor;},function(C$99t){this._tf.bgColor=C$99t;}),C$99r(0,C$99t,"borderColor",function(){return this._tf.borderColor;},function(C$99t){this._tf.borderColor=C$99t;}),C$99r(0,C$99t,"stroke",function(){return this._tf.stroke;},function(C$99t){this._tf.stroke=C$99t;}),C$99r(0,C$99t,"strokeColor",function(){return this._tf.strokeColor;},function(C$99t){this._tf.strokeColor=C$99t;}),C$99r(0,C$99t,"textField",function(){return this._tf;}),C$99r(0,C$99t,"measureWidth",function(){return this._tf.width;}),C$99r(0,C$99t,"measureHeight",function(){return this._tf.height;}),C$99r(0,C$99t,"width",function(){return this._width||this._tf.text?C$99f.superGet(C$99a,this,"width"):0;},function(C$99t){C$99f.superSet(C$99a,this,"width",C$99t),this._tf.width=C$99t;}),C$99r(0,C$99t,"height",function(){return this._height||this._tf.text?C$99f.superGet(C$99a,this,"height"):0;},function(C$99t){C$99f.superSet(C$99a,this,"height",C$99t),this._tf.height=C$99t;}),C$99r(0,C$99t,"overflow",function(){return this._tf.overflow;},function(C$99t){this._tf.overflow=C$99t;}),C$99r(0,C$99t,"underline",function(){return this._tf.underline;},function(C$99t){this._tf.underline=C$99t;}),C$99r(0,C$99t,"underlineColor",function(){return this._tf.underlineColor;},function(C$99t){this._tf.underlineColor=C$99t;}),e$l;}(C$99a),C$99U=function(C$99e){function e$l(C$99t){this.changeHandler=null,this._bg=null,this._bar=null,this._skin=null,this._value=.5,e$l.__super.call(this),this.skin=C$99t;}C$99n(e$l,"laya.ui.ProgressBar",C$99e);var C$99t=e$l.prototype;return C$99t.destroy=function(C$99t){C$99e.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._bg&&this._bg.destroy(C$99t),this._bar&&this._bar.destroy(C$99t),this._bg=this._bar=null,this.changeHandler=null;},C$99t.createChildren=function(){this.addChild(this._bg=new C$99V()),this.addChild(this._bar=new C$99V());},C$99t.changeValue=function(){var C$99t,C$99e,C$99i;this.sizeGrid?(C$99e=this.sizeGrid.split(","),C$99t=Number(C$99e[3]),C$99e=Number(C$99e[1]),C$99i=(this.width-C$99t-C$99e)*this._value,this._bar.width=C$99t+C$99e+C$99i,this._bar.visible=this._bar.width>C$99t+C$99e):this._bar.width=this.width*this._value;},C$99r(0,C$99t,"measureHeight",function(){return this._bg.height;}),C$99r(0,C$99t,"skin",function(){return this._skin;},function(C$99t){this._skin!=C$99t&&(this._skin=C$99t,this._bg.skin=this._skin,this._bar.skin=this._skin.replace(".png","$bar.png"),this.callLater(this.changeValue));}),C$99r(0,C$99t,"measureWidth",function(){return this._bg.width;}),C$99r(0,C$99t,"height",C$99e.prototype._$get_height,function(C$99t){C$99f.superSet(C$99a,this,"height",C$99t),this._bg.height=this._height,this._bar.height=this._height;}),C$99r(0,C$99t,"bar",function(){return this._bar;}),C$99r(0,C$99t,"value",function(){return this._value;},function(C$99t){this._value!=C$99t&&(this._value=C$99t=1<C$99t?1:C$99t<0?0:C$99t,this.callLater(this.changeValue),this.event("change"),this.changeHandler&&this.changeHandler.runWith(C$99t));}),C$99r(0,C$99t,"bg",function(){return this._bg;}),C$99r(0,C$99t,"sizeGrid",function(){return this._bg.sizeGrid;},function(C$99t){this._bg.sizeGrid=this._bar.sizeGrid=C$99t;}),C$99r(0,C$99t,"width",C$99e.prototype._$get_width,function(C$99t){C$99f.superSet(C$99a,this,"width",C$99t),this._bg.width=this._width,this.callLater(this.changeValue);}),C$99r(0,C$99t,"dataSource",C$99e.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)||"string"==typeof C$99t?this.value=Number(C$99t):C$99f.superSet(C$99a,this,"dataSource",C$99t);}),e$l;}(C$99a),C$99W=(function(){function e$l(){this._tipBox=null,this._tipText=null,this._defaultTipHandler=null,e$l.__super.call(this),this._tipBox=new C$99a(),this._tipBox.addChild(this._tipText=new C$99w()),this._tipText.x=this._tipText.y=5,this._tipText.color=e$l.tipTextColor,this._defaultTipHandler=this._showDefaultTip,C$99f.stage.on("showtip",this,this._onStageShowTip),C$99f.stage.on("hidetip",this,this._onStageHideTip),this.zOrder=1100;}C$99n(e$l,"laya.ui.TipManager",C$99a);var C$99t=e$l.prototype;C$99t._onStageHideTip=function(C$99t){C$99f.timer.clear(this,this._showTip),this.closeAll(),this.removeSelf();},C$99t._onStageShowTip=function(C$99t){C$99f.timer.once(e$l.tipDelay,this,this._showTip,[C$99t],!0);},C$99t._showTip=function(C$99t){var C$99e;"string"==typeof C$99t?(C$99e=String(C$99t),Boolean(C$99e)&&this._defaultTipHandler(C$99e)):C$99t instanceof laya.utils.Handler?C$99t.run():"function"==typeof C$99t&&C$99t.apply(),C$99f.stage.on("mousemove",this,this._onStageMouseMove),C$99f.stage.on("mousedown",this,this._onStageMouseDown),this._onStageMouseMove(null);},C$99t._onStageMouseDown=function(C$99t){this.closeAll();},C$99t._onStageMouseMove=function(C$99t){this._showToStage(this,e$l.offsetX,e$l.offsetY);},C$99t._showToStage=function(C$99t,C$99e,C$99i){void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0);var C$99n=C$99t.getBounds();C$99t.x=C$99f.stage.mouseX+C$99e,C$99t.y=C$99f.stage.mouseY+C$99i,C$99t.x+C$99n.width>C$99f.stage.width&&(C$99t.x-=C$99n.width+C$99e),C$99t.y+C$99n.height>C$99f.stage.height&&(C$99t.y-=C$99n.height+C$99i);},C$99t.closeAll=function(){C$99f.timer.clear(this,this._showTip),C$99f.stage.off("mousemove",this,this._onStageMouseMove),C$99f.stage.off("mousedown",this,this._onStageMouseDown),this.removeChildren();},C$99t.showDislayTip=function(C$99t){this.addChild(C$99t),this._showToStage(this),C$99f._currentStage.addChild(this);},C$99t._showDefaultTip=function(C$99t){this._tipText.text=C$99t;C$99t=this._tipBox.graphics;C$99t.clear(),C$99t.drawRect(0,0,this._tipText.width+10,this._tipText.height+10,e$l.tipBackColor),this.addChild(this._tipBox),this._showToStage(this),C$99f._currentStage.addChild(this);},C$99r(0,C$99t,"defaultTipHandler",function(){return this._defaultTipHandler;},function(C$99t){this._defaultTipHandler=C$99t;}),e$l.offsetX=10,e$l.offsetY=15,e$l.tipTextColor="#ffffff",e$l.tipBackColor="#111111",e$l.tipDelay=200;}(),C$99n(e$Y,"laya.ui.View",C$99d),(C$99t=e$Y.prototype).createView=function(C$99t){if(C$99t.animations&&!this._idMap&&(this._idMap={}),e$Y.createComp(C$99t,this,this),C$99t.animations){var C$99e,C$99i,C$99n=[],C$99r=C$99t.animations,C$99s=0,C$99a=C$99r.length;for(C$99s=0;C$99s<C$99a;C$99s++){switch(C$99e=new C$99_(),C$99i=C$99r[C$99s],C$99e._setUp(this._idMap,C$99i),(this[C$99i.name]=C$99e)._setControlNode(this),C$99i.action){case 1:C$99e.play(0,!1);break;case 2:C$99e.play(0,!0);}C$99n.push(C$99e);}this._aniList=C$99n;}0<this._width&&null==C$99t.props.hitTestPrior&&!this.mouseThrough&&(this.hitTestPrior=!0);},C$99t.onEvent=function(C$99t,C$99e){},C$99t.loadUI=function(C$99t){C$99t=e$Y.uiMap[C$99t];C$99t&&this.createView(C$99t);},C$99t.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this._aniList&&(this._aniList.length=0),this._idMap=null,this._aniList=null,this._watchMap=null,laya.ui.Component.prototype.destroy.call(this,C$99t);},C$99t.changeData=function(C$99t){var C$99e=this._watchMap[C$99t];if(C$99e){console.log("change",C$99t);for(var C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)C$99e[C$99i].exe(this);}},e$Y._regs=function(){for(var C$99t in e$Y.uiClassMap)C$99m.regClass(C$99t,e$Y.uiClassMap[C$99t]);},e$Y.createComp=function(C$99t,C$99e,C$99i,C$99u){if(!(C$99e=C$99e||e$Y.getCompInstance(C$99t)))return console.warn("can not create:"+C$99t.type),null;var C$99n=C$99t.child;if(C$99n)for(var C$99c=C$99e instanceof laya.ui.List,C$99r=0,C$99_=C$99n.length;C$99r<C$99_;C$99r++){var C$99s=C$99n[C$99r];var C$99a,C$99o;!C$99e.hasOwnProperty("itemRender")||"render"!=C$99s.props.name&&"render"!==C$99s.props.renderType?"Graphic"==C$99s.type?C$99m.addGraphicsToSprite(C$99s,C$99e):C$99m.isDrawType(C$99s.type)?C$99m.addGraphicToSprite(C$99s,C$99e,!0):(C$99c?(C$99o=e$Y.createComp(C$99s,null,C$99i,C$99a=[]),C$99a.length&&(C$99o._$bindData=C$99a)):C$99o=e$Y.createComp(C$99s,null,C$99i,C$99u),"Script"==C$99s.type?"owner"in C$99o?C$99o.owner=C$99e:"target"in C$99o&&(C$99o.target=C$99e):"mask"==C$99s.props.renderType||"mask"==C$99s.props.name?C$99e.mask=C$99o:C$99o instanceof laya.display.Sprite&&C$99e.addChild(C$99o)):C$99e.itemRender=C$99s;}var C$99d=C$99t.props;for(var C$99h in C$99d){var C$99l=C$99d[C$99h];e$Y.eventDic[C$99h]?C$99l&&C$99i&&C$99e.on(C$99h,C$99i,C$99i.onEvent,[C$99l]):e$Y.setCompValue(C$99e,C$99h,C$99l,C$99i,C$99u);}return C$99f.__typeof(C$99e,"laya.ui.IItem")&&C$99e.initItems(),C$99t.compId&&C$99i&&C$99i._idMap&&(C$99i._idMap[C$99t.compId]=C$99e),C$99e;},e$Y.setCompValue=function(C$99t,C$99e,C$99i,C$99n,C$99r){if("string"==typeof C$99i&&-1<C$99i.indexOf("${")){if(e$Y._sheet=e$Y._sheet?e$Y._sheet:C$99m.getClass("laya.data.Table")){if(C$99r)C$99r.push(C$99t,C$99e,C$99i);else if(C$99n){-1==C$99i.indexOf("].")&&(C$99i=C$99i.replace(".","[0]."));var C$99s,C$99a=new C$99lt(C$99t,C$99e,C$99i);C$99a.exe(C$99n);for(var C$99u=C$99i.replace(/\[.*?\]\./g,".");null!=(C$99s=e$Y._parseWatchData.exec(C$99u));){for(var C$99o=C$99s[1];null!=(C$99h=e$Y._parseKeyWord.exec(C$99o));){var C$99h=C$99h[0],C$99l=C$99n._watchMap[C$99h]||(C$99n._watchMap[C$99h]=[]);C$99l.push(C$99a),e$Y._sheet.I.notifer.on(C$99h,C$99n,C$99n.changeData,[C$99h]);}(C$99l=C$99n._watchMap[C$99o]||(C$99n._watchMap[C$99o]=[])).push(C$99a),e$Y._sheet.I.notifer.on(C$99o,C$99n,C$99n.changeData,[C$99o]);}}}else console.warn("Can not find class Sheet");}else"var"===C$99e&&C$99n?C$99n[C$99i]=C$99t:"onClick"==C$99e?(C$99r=C$99f._runScript("(function(){"+C$99i+"})"),C$99t.on("click",C$99n,C$99r)):C$99t[C$99e]="true"===C$99i||"false"!==C$99i&&C$99i;},e$Y.getCompInstance=function(C$99t){var C$99e=C$99t.props?C$99t.props.runtime:null;return C$99e=C$99e?e$Y.viewClassMap[C$99e]||e$Y.uiClassMap[C$99e]||C$99f.__classmap[C$99e]:e$Y.uiClassMap[C$99t.type],C$99t.props&&C$99t.props.hasOwnProperty("renderType")&&"instance"==C$99t.props.renderType?C$99e.instance:C$99e?new C$99e():null;},e$Y.regComponent=function(C$99t,C$99e){e$Y.uiClassMap[C$99t]=C$99e,C$99m.regClass(C$99t,C$99e);},e$Y.regViewRuntime=function(C$99t,C$99e){e$Y.viewClassMap[C$99t]=C$99e;},e$Y.uiMap={},e$Y.viewClassMap={},e$Y._sheet=null,C$99o(e$Y,["uiClassMap",function(){return this.uiClassMap={ViewStack:C$99J,LinkButton:C$99P,TextArea:C$99ht,ColorPicker:C$99L,Box:C$99d,Button:C$99P,CheckBox:C$99H,Clip:C$99B,ComboBox:C$99N,Component:C$99a,HScrollBar:C$99X,HSlider:C$99K,Image:C$99V,Label:C$99F,List:C$99Y,Panel:C$99j,ProgressBar:C$99U,Radio:C$99Z,RadioGroup:C$99at,ScrollBar:C$99k,Slider:C$99O,Tab:C$99ot,TextInput:C$99et,View:e$Y,VScrollBar:C$99tt,VSlider:C$99it,Tree:C$99Q,HBox:C$99rt,VBox:C$99st,Sprite:C$99b,Animation:C$99e,Text:C$99w,FontClip:C$99z};},"eventDic",function(){return this.eventDic={mousedown:!0,mouseup:!0,mousemove:!0,mouseover:!0,mouseout:!0,click:!0,doubleclick:!0,rightmousedown:!0,rightmouseup:!0,rightclick:!0};},"_parseWatchData",function(){return this._parseWatchData=/\${(.*?)}/g;},"_parseKeyWord",function(){return this._parseKeyWord=/[a-zA-Z_][a-zA-Z0-9_]*(?:(?:\.[a-zA-Z_][a-zA-Z0-9_]*)+)/g;}]),e$Y.__init$=function(){function e$d(C$99t,C$99e,C$99i){this.comp=null,this.prop=null,this.value=null,this.comp=C$99t,this.prop=C$99e,this.value=C$99i;}e$Y._regs(),C$99n(e$d,""),e$d.prototype.exe=function(C$99t){var C$99e=C$99I.getBindFun(this.value);this.comp[this.prop]=C$99e.call(this,C$99t);},C$99lt=e$d;},e$Y),C$99H=function(C$99t){function e$l(C$99t,C$99e){e$l.__super.call(this,C$99t,C$99e=void 0===C$99e?"":C$99e);}C$99n(e$l,"laya.ui.CheckBox",C$99t);var C$99e=e$l.prototype;return C$99e.preinitialize=function(){laya.ui.Component.prototype.preinitialize.call(this),this.toggle=!0,this._autoSize=!1;},C$99e.initialize=function(){C$99t.prototype.initialize.call(this),this.createText(),this._text.align="left",this._text.valign="top",this._text.width=0;},C$99r(0,C$99e,"dataSource",C$99t.prototype._$get_dataSource,function(C$99t){"boolean"==typeof(this._dataSource=C$99t)?this.selected=C$99t:"string"==typeof C$99t?this.selected="true"===C$99t:C$99f.superSet(C$99P,this,"dataSource",C$99t);}),e$l;}(C$99P),C$99G=function(){function e$t(){this._space=0,this._align="none",this._itemChanged=!1,e$t.__super.call(this);}C$99n(e$t,"laya.ui.LayoutBox",C$99d);var C$99t=e$t.prototype;return C$99t.addChild=function(C$99t){return C$99t.on("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.addChild.call(this,C$99t);},C$99t.onResize=function(C$99t){this._setItemChanged();},C$99t.addChildAt=function(C$99t,C$99e){return C$99t.on("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.addChildAt.call(this,C$99t,C$99e);},C$99t.removeChild=function(C$99t){return C$99t.off("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.removeChild.call(this,C$99t);},C$99t.removeChildAt=function(C$99t){return this.getChildAt(C$99t).off("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.removeChildAt.call(this,C$99t);},C$99t.refresh=function(){this._setItemChanged();},C$99t.changeItems=function(){this._itemChanged=!1;},C$99t.sortItem=function(C$99t){C$99t&&C$99t.sort(function(C$99t,C$99e){return C$99t.y-C$99e.y;});},C$99t._setItemChanged=function(){this._itemChanged||(this._itemChanged=!0,this.callLater(this.changeItems));},C$99r(0,C$99t,"space",function(){return this._space;},function(C$99t){this._space=C$99t,this._setItemChanged();}),C$99r(0,C$99t,"align",function(){return this._align;},function(C$99t){this._align=C$99t,this._setItemChanged();}),e$t;}(),C$99z=function(C$99e){function e$l(C$99t,C$99e){this._valueArr=null,this._indexMap=null,this._sheet=null,this._direction="horizontal",this._spaceX=0,this._spaceY=0,this._align="left",this._wordsW=0,this._wordsH=0,e$l.__super.call(this),C$99t&&(this.skin=C$99t),C$99e&&(this.sheet=C$99e);}C$99n(e$l,"laya.ui.FontClip",C$99e);var C$99t=e$l.prototype;return C$99t.createChildren=function(){this._bitmap=new C$99E(),this.on("loaded",this,this._onClipLoaded);},C$99t._onClipLoaded=function(){this.callLater(this.changeValue);},C$99t.changeValue=function(){var C$99t;if(this._sources&&this._valueArr&&(this.graphics.clear(!0),C$99t=this._sources[0])){var C$99e="horizontal"===this._direction;C$99e?(this._wordsW=this._valueArr.length*(C$99t.sourceWidth+this.spaceX),this._wordsH=C$99t.sourceHeight):(this._wordsW=C$99t.sourceWidth,this._wordsH=(C$99t.sourceHeight+this.spaceY)*this._valueArr.length);var C$99i=0;if(this._width)switch(this._align){case"center":C$99i=.5*(this._width-this._wordsW);break;case"right":C$99i=this._width-this._wordsW;break;default:C$99i=0;}for(var C$99n=0,C$99r=this._valueArr.length;C$99n<C$99r;C$99n++){var C$99s=this._indexMap[this._valueArr.charAt(C$99n)];this.sources[C$99s]&&(C$99t=this.sources[C$99s],C$99e?this.graphics.drawTexture(C$99t,C$99i+C$99n*(C$99t.sourceWidth+this.spaceX),0,C$99t.sourceWidth,C$99t.sourceHeight):this.graphics.drawTexture(C$99t,0+C$99i,C$99n*(C$99t.sourceHeight+this.spaceY),C$99t.sourceWidth,C$99t.sourceHeight));}this._width||(this.resetLayoutX(),this.callLater(this.changeSize)),this._height||(this.resetLayoutY(),this.callLater(this.changeSize));}},C$99t.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this._valueArr=null,this._indexMap=null,this.graphics.clear(!0),this.removeSelf(),this.off("loaded",this,this._onClipLoaded),C$99e.prototype.destroy.call(this,C$99t);},C$99r(0,C$99t,"sheet",function(){return this._sheet;},function(C$99t){var C$99e=(this._sheet=C$99t+="").split(" ");this._clipX=String(C$99e[0]).length,this.clipY=C$99e.length,this._indexMap={};for(var C$99i=0;C$99i<this._clipY;C$99i++)for(var C$99n=C$99e[C$99i].split(""),C$99r=0,C$99s=C$99n.length;C$99r<C$99s;C$99r++)this._indexMap[C$99n[C$99r]]=C$99i*this._clipX+C$99r;}),C$99r(0,C$99t,"height",C$99e.prototype._$get_height,function(C$99t){C$99f.superSet(C$99B,this,"height",C$99t),this.callLater(this.changeValue);}),C$99r(0,C$99t,"direction",function(){return this._direction;},function(C$99t){this._direction=C$99t,this.callLater(this.changeValue);}),C$99r(0,C$99t,"value",function(){return this._valueArr||"";},function(C$99t){this._valueArr=C$99t+="",this.callLater(this.changeValue);}),C$99r(0,C$99t,"width",C$99e.prototype._$get_width,function(C$99t){C$99f.superSet(C$99B,this,"width",C$99t),this.callLater(this.changeValue);}),C$99r(0,C$99t,"spaceX",function(){return this._spaceX;},function(C$99t){this._spaceX=C$99t,"horizontal"===this._direction&&this.callLater(this.changeValue);}),C$99r(0,C$99t,"spaceY",function(){return this._spaceY;},function(C$99t){this._spaceY=C$99t,"horizontal"!==this._direction&&this.callLater(this.changeValue);}),C$99r(0,C$99t,"align",function(){return this._align;},function(C$99t){this._align=C$99t,this.callLater(this.changeValue);}),C$99r(0,C$99t,"measureWidth",function(){return this._wordsW;}),C$99r(0,C$99t,"measureHeight",function(){return this._wordsH;}),e$l;}(C$99B),C$99Y=function(C$99t){function e$t(){this.selectHandler=null,this.renderHandler=null,this.renderTwHandler=null,this.mouseHandler=null,this.selectEnable=!1,this.totalPage=0,this._content=null,this._scrollBar=null,this._itemRender=null,this._repeatX=0,this._repeatY=0,this._repeatX2=0,this._repeatY2=0,this._spaceX=0,this._spaceY=0,this._array=null,this._startIndex=0,this._selectedIndex=-1,this._page=0,this._isVertical=!0,this._cellSize=20,this._cellOffset=0,this._isMoved=!1,this._twSwitch=!0,this._twDone=!0,this.cacheContent=!1,this._createdLine=0,this._cellChanged=!1,this._cells=[],this._offset=new C$99$(),e$t.__super.call(this);}C$99n(e$t,"laya.ui.List",C$99t);var C$99e=e$t.prototype;return C$99f.imps(C$99e,{"laya.ui.IRender":!0,"laya.ui.IItem":!0}),C$99e.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this._content&&this._content.destroy(C$99t),this._scrollBar&&this._scrollBar.destroy(C$99t),laya.ui.Component.prototype.destroy.call(this,C$99t),this._content=null,this._scrollBar=null,this._itemRender=null,this._cells=null,this._array=null,this._twSwitch=null,this._twDone=null,this.selectHandler=this.renderHandler=this.mouseHandler=this.renderTwHandler=null;},C$99e.createChildren=function(){this.addChild(this._content=new C$99d());},C$99e.onScrollStart=function(){this._$P.cacheAs||(this._$P.cacheAs=C$99f.superGet(C$99d,this,"cacheAs")),C$99f.superSet(C$99d,this,"cacheAs","none"),this._scrollBar.once("end",this,this.onScrollEnd);},C$99e.onScrollEnd=function(){C$99f.superSet(C$99d,this,"cacheAs",this._$P.cacheAs);},C$99e._removePreScrollBar=function(){var C$99t=this.removeChildByName("scrollBar");C$99t&&C$99t.destroy(!0);},C$99e.changeCells=function(){var C$99t,C$99e,C$99i,C$99n;this._cellChanged=!1,this._itemRender&&(this.scrollBar=this.getChildByName("scrollBar"),C$99n=(C$99i=this._getOneCell()).width+this._spaceX||1,C$99i=C$99i.height+this._spaceY||1,0<this._width&&(this._repeatX2=this._isVertical?Math.round(this._width/C$99n):Math.ceil(this._width/C$99n)),0<this._height&&(this._repeatY2=this._isVertical?Math.ceil(this._height/C$99i):Math.round(this._height/C$99i)),C$99t=this._width||C$99n*this.repeatX-this._spaceX,C$99e=this._height||C$99i*this.repeatY-this._spaceY,this._cellSize=this._isVertical?C$99i:C$99n,this._cellOffset=this._isVertical?C$99i*Math.max(this._repeatY2,this._repeatY)-C$99e-this._spaceY:C$99n*Math.max(this._repeatX2,this._repeatX)-C$99t-this._spaceX,this._isVertical&&this._scrollBar?this._scrollBar.height=C$99e:!this._isVertical&&this._scrollBar&&(this._scrollBar.width=C$99t),this.setContentSize(C$99t,C$99e),C$99i=this._isVertical?this.repeatX:this.repeatY,C$99n=(this._isVertical?this.repeatY:this.repeatX)+(this._scrollBar?1:0),this._createItems(0,C$99i,C$99n),this._createdLine=C$99n,this._array&&(this.array=this._array,this.runCallLater(this.renderItems)));},C$99e._getOneCell=function(){if(0===this._cells.length){var C$99t=this.createItem();if(this._offset.setTo(C$99t.x,C$99t.y),this.cacheContent)return C$99t;this._cells.push(C$99t);}return this._cells[0];},C$99e._createItems=function(C$99t,C$99e,C$99u){var C$99i=this._content,C$99n=this._getOneCell(),C$99r=C$99n.width+this._spaceX,C$99c=C$99n.height+this._spaceY;if(this.cacheContent){var C$99s=new C$99d();C$99s.cacheAsBitmap=!0,C$99s.pos((this._isVertical?0:C$99t)*C$99r,(this._isVertical?C$99t:0)*C$99c),this._content.addChild(C$99s),this._content.optimizeScrollRect=!0,C$99i=C$99s;}else{for(var C$99a=[],C$99o=this._cells.length-1;-1<C$99o;C$99o--){var C$99_=this._cells[C$99o];C$99_.removeSelf(),C$99a.push(C$99_);}this._cells.length=0;}for(var C$99h=C$99t;C$99h<C$99u;C$99h++)for(var C$99l=0;C$99l<C$99e;C$99l++)(C$99n=C$99a&&C$99a.length?C$99a.pop():this.createItem()).x=(this._isVertical?C$99l:C$99h)*C$99r-C$99i.x,C$99n.y=(this._isVertical?C$99h:C$99l)*C$99c-C$99i.y,C$99n.name="item"+(C$99h*C$99e+C$99l),C$99i.addChild(C$99n),this.addCell(C$99n);},C$99e.createItem=function(){var C$99t=[];var C$99e;if(C$99e="function"==typeof this._itemRender?new this._itemRender():C$99W.createComp(this._itemRender,null,null,C$99t),0==C$99t.length&&C$99e._watchMap){var C$99i=C$99e._watchMap;for(var C$99n in C$99i)for(var C$99r=C$99i[C$99n],C$99s=0;C$99s<C$99r.length;C$99s++){var C$99a=C$99r[C$99s];C$99t.push(C$99a.comp,C$99a.prop,C$99a.value);}}return C$99t.length&&(C$99e._$bindData=C$99t),C$99e;},C$99e.addCell=function(C$99t){C$99t.on("click",this,this.onCellMouse),C$99t.on("rightclick",this,this.onCellMouse),C$99t.on("mouseover",this,this.onCellMouse),C$99t.on("mouseout",this,this.onCellMouse),C$99t.on("mousedown",this,this.onCellMouse),C$99t.on("mouseup",this,this.onCellMouse),this._cells.push(C$99t);},C$99e.initItems=function(){if(!this._itemRender&&null!=this.getChildByName("item0")){this.repeatX=1;for(var C$99t=0,C$99e=C$99t=0;C$99e<1e4;C$99e++){var C$99i=this.getChildByName("item"+C$99e);if(!C$99i)break;this.addCell(C$99i),C$99t++;}this.repeatY=C$99t;}},C$99e.setContentSize=function(C$99t,C$99e){this._content.width=C$99t,this._content.height=C$99e,!this._scrollBar&&0==this._offset.x&&0==this._offset.y||(this._content.scrollRect||(this._content.scrollRect=new C$99x()),this._content.scrollRect.setTo(-this._offset.x,-this._offset.y,C$99t,C$99e),this._content.scrollRect=this._content.scrollRect),this.event("resize");},C$99e.onCellMouse=function(C$99t){"mousedown"===C$99t.type&&(this._isMoved=!1);var C$99e=C$99t.currentTarget,C$99i=this._startIndex+this._cells.indexOf(C$99e);C$99i<0||("click"===C$99t.type||"rightclick"===C$99t.type?this.selectEnable&&!this._isMoved?this.selectedIndex=C$99i:this.changeCellState(C$99e,!0,0):"mouseover"!==C$99t.type&&"mouseout"!==C$99t.type||this._selectedIndex===C$99i||this.changeCellState(C$99e,"mouseover"===C$99t.type,0),this.mouseHandler&&this.mouseHandler.runWith([C$99t,C$99i]));},C$99e.changeCellState=function(C$99t,C$99e,C$99i){C$99t=C$99t.getChildByName("selectBox");C$99t&&(this.selectEnable=!0,C$99t.visible=C$99e,C$99t.index=C$99i);},C$99e.changeSize=function(){laya.ui.Component.prototype.changeSize.call(this),this.setContentSize(this.width,this.height),this._scrollBar&&this.callLater(this.onScrollBarChange);},C$99e.onScrollBarChange=function(C$99u){this.runCallLater(this.changeCells);var C$99t=this._scrollBar.value,C$99e=this._isVertical?this.repeatX:this.repeatY,C$99i=this._isVertical?this.repeatY:this.repeatX,C$99n=Math.floor(C$99t/this._cellSize);if(this.cacheContent)this._createdLine-C$99n<(C$99r=C$99i+1)&&(this._createItems(this._createdLine,C$99e,this._createdLine+C$99r),this.renderItems(this._createdLine*C$99e,0),this._createdLine+=C$99r);else{var C$99n=C$99n*C$99e,C$99r=0;var C$99s,C$99a;C$99n>this._startIndex?(C$99r=C$99n-this._startIndex,C$99a=this._startIndex+C$99e*(C$99i+1),this._isMoved=C$99s=!0):C$99n<this._startIndex&&(C$99r=this._startIndex-C$99n,C$99a=this._startIndex-1,this._isMoved=!(C$99s=!1));for(var C$99o=0;C$99o<C$99r;C$99o++){var C$99h,C$99l;C$99l=C$99s?(C$99h=this._cells.shift(),this._cells[this._cells.length]=C$99h,C$99a+C$99o):(C$99h=this._cells.pop(),this._cells.unshift(C$99h),C$99a-C$99o);var C$99c=Math.floor(C$99l/C$99e)*this._cellSize;this._isVertical?C$99h.y=C$99c:C$99h.x=C$99c,this.renderItem(C$99h,C$99l);}this._startIndex=C$99n,this.changeSelectStatus();}C$99i=this._content.scrollRect;this._isVertical?(C$99i.y=C$99t-this._offset.y,C$99i.x=-this._offset.x):(C$99i.y=-this._offset.y,C$99i.x=C$99t-this._offset.x),this._content.scrollRect=C$99i;},C$99e.posCell=function(C$99t,C$99e){var C$99i;this._scrollBar&&(C$99i=this._isVertical?this.repeatX:this.repeatY,this._isVertical?this.repeatY:this.repeatX,C$99e=Math.floor(C$99e/C$99i)*this._cellSize,this._isVertical?C$99t.y=C$99e:C$99t.x=C$99e);},C$99e.changeSelectStatus=function(){for(var C$99t=0,C$99e=this._cells.length;C$99t<C$99e;C$99t++)this.changeCellState(this._cells[C$99t],this._selectedIndex===this._startIndex+C$99t,1);},C$99e.renderItems=function(C$99t,C$99e){for(var C$99i=C$99t=void 0===C$99t?0:C$99t,C$99n=(C$99e=void 0===C$99e?0:C$99e)||this._cells.length;C$99i<C$99n;C$99i++)this.renderItem(this._cells[C$99i],this._startIndex+C$99i);this.changeSelectStatus(),this._twDone=!0;},C$99e.renderItem=function(C$99t,C$99e){this._array&&0<=C$99e&&C$99e<this._array.length?(C$99t.visible=!0,C$99t._$bindData?(C$99t._dataSource=this._array[C$99e],this._bindData(C$99t,this._array[C$99e])):C$99t.dataSource=this._array[C$99e],this.cacheContent||this.posCell(C$99t,C$99e),this.hasListener("render")&&this.event("render",[C$99t,C$99e]),this.renderHandler&&this.renderHandler.runWith([C$99t,C$99e]),this.renderTwHandler&&this.renderTwHandler.runWith([C$99t,C$99e])):(C$99t.visible=!1,C$99t.dataSource=null);},C$99e._bindData=function(C$99t,C$99e){for(var C$99i=C$99t._$bindData,C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99n++){var C$99s=C$99i[C$99n++],C$99a=C$99i[C$99n++],C$99o=C$99i[C$99n],C$99o=C$99I.getBindFun(C$99o);C$99s[C$99a]=C$99o.call(this,C$99e);}},C$99e.refresh=function(){this.array=this._array;},C$99e.getItem=function(C$99t){return-1<C$99t&&C$99t<this._array.length?this._array[C$99t]:null;},C$99e.changeItem=function(C$99t,C$99e){-1<C$99t&&C$99t<this._array.length&&(this._array[C$99t]=C$99e,C$99t>=this._startIndex&&C$99t<this._startIndex+this._cells.length&&this.renderItem(this.getCell(C$99t),C$99t));},C$99e.setItem=function(C$99t,C$99e){this.changeItem(C$99t,C$99e);},C$99e.addItem=function(C$99t){this._array.push(C$99t),this.array=this._array;},C$99e.addItemAt=function(C$99t,C$99e){this._array.splice(C$99e,0,C$99t),this.array=this._array;},C$99e.deleteItem=function(C$99t){this._array.splice(C$99t,1),this.array=this._array;},C$99e.getCell=function(C$99t){return this.runCallLater(this.changeCells),-1<C$99t&&this._cells?this._cells[(C$99t-this._startIndex)%this._cells.length]:null;},C$99e.scrollTo=function(C$99t){var C$99e;this._scrollBar?(C$99e=this._isVertical?this.repeatX:this.repeatY,this._scrollBar.value=Math.floor(C$99t/C$99e)*this._cellSize):this.startIndex=C$99t;},C$99e.tweenTo=function(C$99t,C$99e,C$99i){var C$99n;void 0===C$99e&&(C$99e=200),this._scrollBar?(C$99n=this._isVertical?this.repeatX:this.repeatY,C$99S.to(this._scrollBar,{value:Math.floor(C$99t/C$99n)*this._cellSize},C$99e,null,C$99i,0,!0)):(this.startIndex=C$99t,C$99i&&C$99i.run());},C$99e._setCellChanged=function(){this._cellChanged||(this._cellChanged=!0,this.callLater(this.changeCells));},C$99e.commitMeasure=function(){this.runCallLater(this.changeCells);},C$99r(0,C$99e,"cacheAs",C$99t.prototype._$get_cacheAs,function(C$99t){C$99f.superSet(C$99d,this,"cacheAs",C$99t),this._scrollBar&&(this._$P.cacheAs=null,"none"!==C$99t?this._scrollBar.on("start",this,this.onScrollStart):this._scrollBar.off("start",this,this.onScrollStart));}),C$99r(0,C$99e,"content",function(){return this._content;}),C$99r(0,C$99e,"height",C$99t.prototype._$get_height,function(C$99t){C$99t!=this._height&&(C$99f.superSet(C$99d,this,"height",C$99t),this._setCellChanged());}),C$99r(0,C$99e,"itemRender",function(){return this._itemRender;},function(C$99t){if(this._itemRender!=C$99t){this._itemRender=C$99t;for(var C$99e=this._cells.length-1;-1<C$99e;C$99e--)this._cells[C$99e].destroy();this._cells.length=0,this._setCellChanged();}}),C$99r(0,C$99e,"vScrollBarSkin",function(){return this._scrollBar?this._scrollBar.skin:null;},function(C$99t){this._removePreScrollBar();var C$99e=new C$99tt();C$99e.name="scrollBar",C$99e.right=0,C$99t&&" "!=C$99t&&(C$99e.skin=C$99t),this.scrollBar=C$99e,this.addChild(C$99e),this._setCellChanged();}),C$99r(0,C$99e,"page",function(){return this._page;},function(C$99t){this._page=C$99t,this._array&&(this._page=0<C$99t?C$99t:0,this._page=this._page<this.totalPage?this._page:this.totalPage-1,this.startIndex=this._page*this.repeatX*this.repeatY);}),C$99r(0,C$99e,"hScrollBarSkin",function(){return this._scrollBar?this._scrollBar.skin:null;},function(C$99t){this._removePreScrollBar();var C$99e=new C$99X();C$99e.name="scrollBar",C$99e.bottom=0,C$99t&&" "!=C$99t&&(C$99e.skin=C$99t),this.scrollBar=C$99e,this.addChild(C$99e),this._setCellChanged();}),C$99r(0,C$99e,"repeatX",function(){return 0<this._repeatX?this._repeatX:0<this._repeatX2?this._repeatX2:1;},function(C$99t){this._repeatX=C$99t,this._setCellChanged();}),C$99r(0,C$99e,"scrollBar",function(){return this._scrollBar;},function(C$99t){this._scrollBar!=C$99t&&(this._scrollBar=C$99t)&&(this._isVertical=this._scrollBar.isVertical,this.addChild(this._scrollBar),this._scrollBar.on("change",this,this.onScrollBarChange));}),C$99r(0,C$99e,"width",C$99t.prototype._$get_width,function(C$99t){C$99t!=this._width&&(C$99f.superSet(C$99d,this,"width",C$99t),this._setCellChanged());}),C$99r(0,C$99e,"repeatY",function(){return 0<this._repeatY?this._repeatY:0<this._repeatY2?this._repeatY2:1;},function(C$99t){this._repeatY=C$99t,this._setCellChanged();}),C$99r(0,C$99e,"spaceX",function(){return this._spaceX;},function(C$99t){this._spaceX=C$99t,this._setCellChanged();}),C$99r(0,C$99e,"spaceY",function(){return this._spaceY;},function(C$99t){this._spaceY=C$99t,this._setCellChanged();}),C$99r(0,C$99e,"selectedIndex",function(){return this._selectedIndex;},function(C$99t){this._selectedIndex!=C$99t&&(this._selectedIndex=C$99t,this.changeSelectStatus(),this.event("change"),this.selectHandler&&this.selectHandler.runWith(C$99t),this.startIndex=this._startIndex);}),C$99r(0,C$99e,"selectedItem",function(){return-1!=this._selectedIndex?this._array[this._selectedIndex]:null;},function(C$99t){this.selectedIndex=this._array.indexOf(C$99t);}),C$99r(0,C$99e,"length",function(){return this._array?this._array.length:0;}),C$99r(0,C$99e,"selection",function(){return this.getCell(this._selectedIndex);},function(C$99t){this.selectedIndex=this._startIndex+this._cells.indexOf(C$99t);}),C$99r(0,C$99e,"startIndex",function(){return this._startIndex;},function(C$99t){this._startIndex=0<C$99t?C$99t:0,this.callLater(this.renderItems);}),C$99r(0,C$99e,"twSwitch",function(){return this._twSwitch;},function(C$99t){this._twSwitch=C$99t;}),C$99r(0,C$99e,"twDone",function(){return this._twDone;},function(C$99t){this._twDone=C$99t;}),C$99r(0,C$99e,"array",function(){return this._array;},function(C$99t){this.runCallLater(this.changeCells),this._array=C$99t||[];C$99t=this._array.length;var C$99e,C$99i;this.totalPage=Math.ceil(C$99t/(this.repeatX*this.repeatY)),this._selectedIndex=this._selectedIndex<C$99t?this._selectedIndex:C$99t-1,this.startIndex=this._startIndex,this._scrollBar&&(this._scrollBar.stopScroll(),C$99e=this._isVertical?this.repeatX:this.repeatY,C$99i=this._isVertical?this.repeatY:this.repeatX,C$99t=Math.ceil(C$99t/C$99e),1<(0<this._cellOffset?this.totalPage+1:this.totalPage)?(this._scrollBar.scrollSize=this._cellSize,this._scrollBar.thumbPercent=C$99i/C$99t,this._scrollBar.setScroll(0,(C$99t-C$99i)*this._cellSize+this._cellOffset,this._scrollBar.value)):this._scrollBar.setScroll(0,0,0),this._scrollBar.target=this._content);}),C$99r(0,C$99e,"dataSource",C$99t.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)&&Math.floor(C$99t)==C$99t||"string"==typeof C$99t?this.selectedIndex=parseInt(C$99t):C$99t instanceof Array?this.array=C$99t:C$99f.superSet(C$99d,this,"dataSource",C$99t);}),C$99r(0,C$99e,"cells",function(){return this.runCallLater(this.changeCells),this._cells;}),e$t;}(C$99d),C$99X=function(C$99t){function e$t(){e$t.__super.call(this);}return C$99n(e$t,"laya.ui.HScrollBar",C$99t),e$t.prototype.initialize=function(){C$99t.prototype.initialize.call(this),this.slider.isVertical=!1;},e$t;}(C$99k),C$99j=function(C$99t){function e$t(){this._content=null,this._vScrollBar=null,this._hScrollBar=null,this._scrollChanged=!1,e$t.__super.call(this),this.width=this.height=100;}C$99n(e$t,"laya.ui.Panel",C$99t);var C$99e=e$t.prototype;return C$99e.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),laya.ui.Component.prototype.destroy.call(this,C$99t),this._content&&this._content.destroy(C$99t),this._vScrollBar&&this._vScrollBar.destroy(C$99t),this._hScrollBar&&this._hScrollBar.destroy(C$99t),this._vScrollBar=null,this._hScrollBar=null,this._content=null;},C$99e.destroyChildren=function(){this._content.destroyChildren();},C$99e.createChildren=function(){laya.display.Node.prototype.addChild.call(this,this._content=new C$99d());},C$99e.addChild=function(C$99t){return C$99t.on("resize",this,this.onResize),this._setScrollChanged(),this._content.addChild(C$99t);},C$99e.onResize=function(){this._setScrollChanged();},C$99e.addChildAt=function(C$99t,C$99e){return C$99t.on("resize",this,this.onResize),this._setScrollChanged(),this._content.addChildAt(C$99t,C$99e);},C$99e.removeChild=function(C$99t){return C$99t.off("resize",this,this.onResize),this._setScrollChanged(),this._content.removeChild(C$99t);},C$99e.removeChildAt=function(C$99t){return this.getChildAt(C$99t).off("resize",this,this.onResize),this._setScrollChanged(),this._content.removeChildAt(C$99t);},C$99e.removeChildren=function(C$99t,C$99e){return this._content.removeChildren(C$99t=void 0===C$99t?0:C$99t,C$99e=void 0===C$99e?2147483647:C$99e),this._setScrollChanged(),this;},C$99e.getChildAt=function(C$99t){return this._content.getChildAt(C$99t);},C$99e.getChildByName=function(C$99t){return this._content.getChildByName(C$99t);},C$99e.getChildIndex=function(C$99t){return this._content.getChildIndex(C$99t);},C$99e.changeScroll=function(){this._scrollChanged=!1;var C$99t=this.contentWidth||1,C$99e=this.contentHeight||1,C$99i=this._vScrollBar,C$99n=this._hScrollBar,C$99r=C$99i&&C$99e>this._height,C$99s=C$99n&&C$99t>this._width,C$99a=C$99r?this._width-C$99i.width:this._width,C$99o=C$99s?this._height-C$99n.height:this._height;C$99i&&(C$99i.x=this._width-C$99i.width,C$99i.y=0,C$99i.height=this._height-(C$99s?C$99n.height:0),C$99i.scrollSize=Math.max(.033*this._height,1),C$99i.thumbPercent=C$99o/C$99e,C$99i.setScroll(0,C$99e-C$99o,C$99i.value)),C$99n&&(C$99n.x=0,C$99n.y=this._height-C$99n.height,C$99n.width=this._width-(C$99r?C$99i.width:0),C$99n.scrollSize=Math.max(.033*this._width,1),C$99n.thumbPercent=C$99a/C$99t,C$99n.setScroll(0,C$99t-C$99a,C$99n.value));},C$99e.changeSize=function(){laya.ui.Component.prototype.changeSize.call(this),this.setContentSize(this._width,this._height);},C$99e.setContentSize=function(C$99t,C$99e){var C$99i=this._content;C$99i.width=C$99t,C$99i.height=C$99e,C$99i.scrollRect||(C$99i.scrollRect=new C$99x()),C$99i.scrollRect.setTo(0,0,C$99t,C$99e),C$99i.scrollRect=C$99i.scrollRect;},C$99e.onScrollBarChange=function(C$99t){var C$99e=this._content.scrollRect;var C$99i;C$99e&&(C$99i=Math.round(C$99t.value),C$99t.isVertical?C$99e.y=C$99i:C$99e.x=C$99i,this._content.scrollRect=C$99e);},C$99e.scrollTo=function(C$99t,C$99e){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=0),this.vScrollBar&&(this.vScrollBar.value=C$99e),this.hScrollBar&&(this.hScrollBar.value=C$99t);},C$99e.refresh=function(){this.changeScroll();},C$99e.onScrollStart=function(){this._$P.cacheAs||(this._$P.cacheAs=C$99f.superGet(C$99d,this,"cacheAs")),C$99f.superSet(C$99d,this,"cacheAs","none"),this._hScrollBar&&this._hScrollBar.once("end",this,this.onScrollEnd),this._vScrollBar&&this._vScrollBar.once("end",this,this.onScrollEnd);},C$99e.onScrollEnd=function(){C$99f.superSet(C$99d,this,"cacheAs",this._$P.cacheAs);},C$99e._setScrollChanged=function(){this._scrollChanged||(this._scrollChanged=!0,this.callLater(this.changeScroll));},C$99r(0,C$99e,"numChildren",function(){return this._content.numChildren;}),C$99r(0,C$99e,"hScrollBarSkin",function(){return this._hScrollBar?this._hScrollBar.skin:null;},function(C$99t){null==this._hScrollBar&&(laya.display.Node.prototype.addChild.call(this,this._hScrollBar=new C$99X()),this._hScrollBar.on("change",this,this.onScrollBarChange,[this._hScrollBar]),this._hScrollBar.target=this._content,this._setScrollChanged()),this._hScrollBar.skin=C$99t;}),C$99r(0,C$99e,"contentWidth",function(){for(var C$99t=0,C$99e=this._content.numChildren-1;-1<C$99e;C$99e--){var C$99i=this._content.getChildAt(C$99e);C$99t=Math.max(C$99i.x+C$99i.width*C$99i.scaleX,C$99t);}return C$99t;}),C$99r(0,C$99e,"contentHeight",function(){for(var C$99t=0,C$99e=this._content.numChildren-1;-1<C$99e;C$99e--){var C$99i=this._content.getChildAt(C$99e);C$99t=Math.max(C$99i.y+C$99i.height*C$99i.scaleY,C$99t);}return C$99t;}),C$99r(0,C$99e,"width",C$99t.prototype._$get_width,function(C$99t){C$99f.superSet(C$99d,this,"width",C$99t),this._setScrollChanged();}),C$99r(0,C$99e,"hScrollBar",function(){return this._hScrollBar;}),C$99r(0,C$99e,"content",function(){return this._content;}),C$99r(0,C$99e,"height",C$99t.prototype._$get_height,function(C$99t){C$99f.superSet(C$99d,this,"height",C$99t),this._setScrollChanged();}),C$99r(0,C$99e,"vScrollBarSkin",function(){return this._vScrollBar?this._vScrollBar.skin:null;},function(C$99t){null==this._vScrollBar&&(laya.display.Node.prototype.addChild.call(this,this._vScrollBar=new C$99tt()),this._vScrollBar.on("change",this,this.onScrollBarChange,[this._vScrollBar]),this._vScrollBar.target=this._content,this._setScrollChanged()),this._vScrollBar.skin=C$99t;}),C$99r(0,C$99e,"vScrollBar",function(){return this._vScrollBar;}),C$99r(0,C$99e,"cacheAs",C$99t.prototype._$get_cacheAs,function(C$99t){C$99f.superSet(C$99d,this,"cacheAs",C$99t),this._$P.cacheAs=null,"none"!==C$99t?(this._hScrollBar&&this._hScrollBar.on("start",this,this.onScrollStart),this._vScrollBar&&this._vScrollBar.on("start",this,this.onScrollStart)):(this._hScrollBar&&this._hScrollBar.off("start",this,this.onScrollStart),this._vScrollBar&&this._vScrollBar.off("start",this,this.onScrollStart));}),e$t;}(C$99d),C$99K=function(){function e$t(C$99t){e$t.__super.call(this,C$99t),this.isVertical=!1;}return C$99n(e$t,"laya.ui.HSlider",C$99O),e$t;}(),C$99q=function(C$99t){function e$l(C$99t,C$99e){this.selectHandler=null,this._items=null,this._selectedIndex=-1,this._skin=null,this._direction="horizontal",this._space=0,this._labels=null,this._labelColors=null,this._labelFont=null,this._labelStrokeColor=null,this._strokeColors=null,this._labelStroke=NaN,this._labelSize=0,this._labelBold=!1,this._labelPadding=null,this._labelAlign=null,this._stateNum=0,this._labelChanged=!1,e$l.__super.call(this),this.skin=C$99e,this.labels=C$99t;}C$99n(e$l,"laya.ui.UIGroup",C$99t);var C$99e=e$l.prototype;return C$99f.imps(C$99e,{"laya.ui.IItem":!0}),C$99e.preinitialize=function(){this.mouseEnabled=!0;},C$99e.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),laya.ui.Component.prototype.destroy.call(this,C$99t),this._items&&(this._items.length=0),this._items=null,this.selectHandler=null;},C$99e.addItem=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!0);var C$99i=this._items.length;var C$99n;return C$99t.name="item"+C$99i,this.addChild(C$99t),this.initItems(),C$99e&&0<C$99i?(C$99n=this._items[C$99i-1],"horizontal"==this._direction?C$99t.x=C$99n.x+C$99n.width+this._space:C$99t.y=C$99n.y+C$99n.height+this._space):C$99e&&(C$99t.x=0,C$99t.y=0),C$99i;},C$99e.delItem=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!0);var C$99i=this._items.indexOf(C$99t);if(-1!=C$99i){var C$99n=C$99t;this.removeChild(C$99n);for(var C$99r=C$99i+1,C$99s=this._items.length;C$99r<C$99s;C$99r++){var C$99a=this._items[C$99r];C$99a.name="item"+(C$99r-1),C$99e&&("horizontal"==this._direction?C$99a.x-=C$99n.width+this._space:C$99a.y-=C$99n.height+this._space);}this.initItems(),-1<this._selectedIndex&&(C$99t=this._selectedIndex<this._items.length?this._selectedIndex:this._selectedIndex-1,this._selectedIndex=-1,this.selectedIndex=C$99t);}},C$99e.initItems=function(){this._items||(this._items=[]);for(var C$99t=this._items.length=0;C$99t<1e4;C$99t++){var C$99e=this.getChildByName("item"+C$99t);if(null==C$99e)break;this._items.push(C$99e),C$99e.selected=C$99t===this._selectedIndex,C$99e.clickHandler=C$99g.create(this,this.itemClick,[C$99t],!1);}},C$99e.itemClick=function(C$99t){this.selectedIndex=C$99t;},C$99e.setSelect=function(C$99t,C$99e){this._items&&-1<C$99t&&C$99t<this._items.length&&(this._items[C$99t].selected=C$99e);},C$99e.createItem=function(C$99t,C$99e){return null;},C$99e.changeLabels=function(){if(this._labelChanged=!1,this._items)for(var C$99t=0,C$99e=0,C$99i=this._items.length;C$99e<C$99i;C$99e++){var C$99n=this._items[C$99e];this._skin&&(C$99n.skin=this._skin),this._labelColors&&(C$99n.labelColors=this._labelColors),this._labelSize&&(C$99n.labelSize=this._labelSize),this._labelStroke&&(C$99n.labelStroke=this._labelStroke),this._labelStrokeColor&&(C$99n.labelStrokeColor=this._labelStrokeColor),this._strokeColors&&(C$99n.strokeColors=this._strokeColors),this._labelBold&&(C$99n.labelBold=this._labelBold),this._labelPadding&&(C$99n.labelPadding=this._labelPadding),this._labelAlign&&(C$99n.labelAlign=this._labelAlign),this._stateNum&&(C$99n.stateNum=this._stateNum),this._labelFont&&(C$99n.labelFont=this._labelFont),"horizontal"===this._direction?(C$99n.y=0,C$99n.x=C$99t,C$99t+=C$99n.width+this._space):(C$99n.x=0,C$99n.y=C$99t,C$99t+=C$99n.height+this._space);}this.changeSize();},C$99e.commitMeasure=function(){this.runCallLater(this.changeLabels);},C$99e._setLabelChanged=function(){this._labelChanged||(this._labelChanged=!0,this.callLater(this.changeLabels));},C$99r(0,C$99e,"labelStrokeColor",function(){return this._labelStrokeColor;},function(C$99t){this._labelStrokeColor!=C$99t&&(this._labelStrokeColor=C$99t,this._setLabelChanged());}),C$99r(0,C$99e,"skin",function(){return this._skin;},function(C$99t){this._skin!=C$99t&&(this._skin=C$99t,this._setLabelChanged());}),C$99r(0,C$99e,"selectedIndex",function(){return this._selectedIndex;},function(C$99t){this._selectedIndex!=C$99t&&(this.setSelect(this._selectedIndex,!1),this._selectedIndex=C$99t,this.setSelect(C$99t,!0),this.event("change"),this.selectHandler&&this.selectHandler.runWith(this._selectedIndex));}),C$99r(0,C$99e,"labels",function(){return this._labels;},function(C$99t){if(this._labels!=C$99t){if(this._labels=C$99t,this.removeChildren(),this._setLabelChanged(),this._labels)for(var C$99e=this._labels.split(","),C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++){var C$99r=this.createItem(this._skin,C$99e[C$99i]);C$99r.name="item"+C$99i,this.addChild(C$99r);}this.initItems();}}),C$99r(0,C$99e,"strokeColors",function(){return this._strokeColors;},function(C$99t){this._strokeColors!=C$99t&&(this._strokeColors=C$99t,this._setLabelChanged());}),C$99r(0,C$99e,"labelColors",function(){return this._labelColors;},function(C$99t){this._labelColors!=C$99t&&(this._labelColors=C$99t,this._setLabelChanged());}),C$99r(0,C$99e,"labelStroke",function(){return this._labelStroke;},function(C$99t){this._labelStroke!=C$99t&&(this._labelStroke=C$99t,this._setLabelChanged());}),C$99r(0,C$99e,"labelSize",function(){return this._labelSize;},function(C$99t){this._labelSize!=C$99t&&(this._labelSize=C$99t,this._setLabelChanged());}),C$99r(0,C$99e,"stateNum",function(){return this._stateNum;},function(C$99t){this._stateNum!=C$99t&&(this._stateNum=C$99t,this._setLabelChanged());}),C$99r(0,C$99e,"labelBold",function(){return this._labelBold;},function(C$99t){this._labelBold!=C$99t&&(this._labelBold=C$99t,this._setLabelChanged());}),C$99r(0,C$99e,"labelFont",function(){return this._labelFont;},function(C$99t){this._labelFont!=C$99t&&(this._labelFont=C$99t,this._setLabelChanged());}),C$99r(0,C$99e,"labelPadding",function(){return this._labelPadding;},function(C$99t){this._labelPadding!=C$99t&&(this._labelPadding=C$99t,this._setLabelChanged());}),C$99r(0,C$99e,"direction",function(){return this._direction;},function(C$99t){this._direction=C$99t,this._setLabelChanged();}),C$99r(0,C$99e,"space",function(){return this._space;},function(C$99t){this._space=C$99t,this._setLabelChanged();}),C$99r(0,C$99e,"items",function(){return this._items;}),C$99r(0,C$99e,"selection",function(){return-1<this._selectedIndex&&this._selectedIndex<this._items.length?this._items[this._selectedIndex]:null;},function(C$99t){this.selectedIndex=this._items.indexOf(C$99t);}),C$99r(0,C$99e,"dataSource",C$99t.prototype._$get_dataSource,function(C$99t){"number"==typeof(this._dataSource=C$99t)&&Math.floor(C$99t)==C$99t||"string"==typeof C$99t?this.selectedIndex=parseInt(C$99t):C$99t instanceof Array?this.labels=C$99t.join(","):C$99f.superSet(C$99d,this,"dataSource",C$99t);}),e$l;}(C$99d),C$99Z=function(C$99e){function e$l(C$99t,C$99e){this._value=null,e$l.__super.call(this,C$99t,C$99e=void 0===C$99e?"":C$99e);}C$99n(e$l,"laya.ui.Radio",C$99e);var C$99t=e$l.prototype;return C$99t.destroy=function(C$99t){C$99e.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._value=null;},C$99t.preinitialize=function(){laya.ui.Component.prototype.preinitialize.call(this),this.toggle=!1,this._autoSize=!1;},C$99t.initialize=function(){C$99e.prototype.initialize.call(this),this.createText(),this._text.align="left",this._text.valign="top",this._text.width=0,this.on("click",this,this.onClick);},C$99t.onClick=function(C$99t){this.selected=!0;},C$99r(0,C$99t,"value",function(){return null!=this._value?this._value:this.label;},function(C$99t){this._value=C$99t;}),e$l;}(C$99P),C$99Q=function(C$99t){function e$t(){this._list=null,this._source=null,this._renderHandler=null,this._spaceLeft=10,this._spaceBottom=0,this._keepStatus=!0,e$t.__super.call(this),this.width=this.height=200;}C$99n(e$t,"laya.ui.Tree",C$99t);var C$99e=e$t.prototype;return C$99f.imps(C$99e,{"laya.ui.IRender":!0}),C$99e.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),laya.ui.Component.prototype.destroy.call(this,C$99t),this._list&&this._list.destroy(C$99t),this._list=null,this._source=null,this._renderHandler=null;},C$99e.createChildren=function(){this.addChild(this._list=new C$99Y()),this._list.renderHandler=C$99g.create(this,this.renderItem,null,!1),this._list.repeatX=1,this._list.on("change",this,this.onListChange);},C$99e.onListChange=function(C$99t){this.event("change");},C$99e.getArray=function(){var C$99t=[];for(var C$99e in this._source)C$99e=this._source[C$99e],this.getParentOpenStatus(C$99e)&&(C$99e.x=this._spaceLeft*this.getDepth(C$99e),C$99t.push(C$99e));return C$99t;},C$99e.getDepth=function(C$99t,C$99e){return void 0===C$99e&&(C$99e=0),null==C$99t.nodeParent?C$99e:this.getDepth(C$99t.nodeParent,C$99e+1);},C$99e.getParentOpenStatus=function(C$99t){C$99t=C$99t.nodeParent;return null==C$99t||!!C$99t.isOpen&&(null==C$99t.nodeParent||this.getParentOpenStatus(C$99t));},C$99e.renderItem=function(C$99t,C$99e){var C$99i=C$99t.dataSource;var C$99n;C$99i&&(C$99t.left=C$99i.x,(C$99n=C$99t.getChildByName("arrow"))&&(C$99i.hasChild?(C$99n.visible=!0,C$99n.index=C$99i.isOpen?1:0,C$99n.tag=C$99e,C$99n.off("click",this,this.onArrowClick),C$99n.on("click",this,this.onArrowClick)):C$99n.visible=!1),(C$99n=C$99t.getChildByName("folder"))&&(2==C$99n.clipY?C$99n.index=C$99i.isDirectory?0:1:C$99n.index=C$99i.isDirectory?C$99i.isOpen?1:0:2),this._renderHandler&&this._renderHandler.runWith([C$99t,C$99e]));},C$99e.onArrowClick=function(C$99t){C$99t=C$99t.currentTarget.tag;this._list.array[C$99t].isOpen=!this._list.array[C$99t].isOpen,this.event("open"),this._list.array=this.getArray();},C$99e.setItemState=function(C$99t,C$99e){this._list.array[C$99t]&&(this._list.array[C$99t].isOpen=C$99e,this._list.array=this.getArray());},C$99e.fresh=function(){this._list.array=this.getArray(),this.repaint();},C$99e.parseXml=function(C$99t,C$99e,C$99i,C$99n){var C$99r,C$99s=C$99t.childNodes,C$99a=C$99s.length;if(!C$99n){C$99r={};var C$99o=C$99t.attributes;for(var C$99h in C$99o){var C$99u=(C$99h=C$99o[C$99h]).nodeName,C$99h=C$99h.nodeValue;C$99r[C$99u]="true"==C$99h||"false"!=C$99h&&C$99h;}C$99r.nodeParent=C$99i,0<C$99a&&(C$99r.isDirectory=!0),C$99r.hasChild=0<C$99a,C$99e.push(C$99r);}for(var C$99l=0;C$99l<C$99a;C$99l++){var C$99c=C$99s[C$99l];this.parseXml(C$99c,C$99e,C$99r,!1);}},C$99e.parseOpenStatus=function(C$99t,C$99e){for(var C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++){var C$99r=C$99e[C$99i];if(C$99r.isDirectory)for(var C$99s=0,C$99a=C$99t.length;C$99s<C$99a;C$99s++){var C$99o=C$99t[C$99s];if(C$99o.isDirectory&&this.isSameParent(C$99o,C$99r)&&C$99r.label==C$99o.label){C$99r.isOpen=C$99o.isOpen;break;}}}},C$99e.isSameParent=function(C$99t,C$99e){return null==C$99t.nodeParent&&null==C$99e.nodeParent||null!=C$99t.nodeParent&&null!=C$99e.nodeParent&&C$99t.nodeParent.label==C$99e.nodeParent.label&&this.isSameParent(C$99t.nodeParent,C$99e.nodeParent);},C$99e.filter=function(C$99t){var C$99e;Boolean(C$99t)?(this.getFilterSource(this._source,C$99e=[],C$99t),this._list.array=C$99e):this._list.array=this.getArray();},C$99e.getFilterSource=function(C$99t,C$99e,C$99i){for(var C$99n in C$99i=C$99i.toLocaleLowerCase(),C$99t)!(C$99n=C$99t[C$99n]).isDirectory&&-1<String(C$99n.label).toLowerCase().indexOf(C$99i)&&(C$99n.x=0,C$99e.push(C$99n)),C$99n.child&&0<C$99n.child.length&&this.getFilterSource(C$99n.child,C$99e,C$99i);},C$99r(0,C$99e,"spaceBottom",function(){return this._list.spaceY;},function(C$99t){this._list.spaceY=C$99t;}),C$99r(0,C$99e,"keepStatus",function(){return this._keepStatus;},function(C$99t){this._keepStatus=C$99t;}),C$99r(0,C$99e,"itemRender",function(){return this._list.itemRender;},function(C$99t){this._list.itemRender=C$99t;}),C$99r(0,C$99e,"array",function(){return this._list.array;},function(C$99t){this._keepStatus&&this._list.array&&C$99t&&this.parseOpenStatus(this._list.array,C$99t),this._source=C$99t,this._list.array=this.getArray();}),C$99r(0,C$99e,"mouseHandler",function(){return this._list.mouseHandler;},function(C$99t){this._list.mouseHandler=C$99t;}),C$99r(0,C$99e,"dataSource",C$99t.prototype._$get_dataSource,function(C$99t){this._dataSource=C$99t,C$99f.superSet(C$99d,this,"dataSource",C$99t);}),C$99r(0,C$99e,"source",function(){return this._source;}),C$99r(0,C$99e,"scrollBar",function(){return this._list.scrollBar;}),C$99r(0,C$99e,"list",function(){return this._list;}),C$99r(0,C$99e,"scrollBarSkin",function(){return this._list.vScrollBarSkin;},function(C$99t){this._list.vScrollBarSkin=C$99t;}),C$99r(0,C$99e,"renderHandler",function(){return this._renderHandler;},function(C$99t){this._renderHandler=C$99t;}),C$99r(0,C$99e,"selectedIndex",function(){return this._list.selectedIndex;},function(C$99t){this._list.selectedIndex=C$99t;}),C$99r(0,C$99e,"spaceLeft",function(){return this._spaceLeft;},function(C$99t){this._spaceLeft=C$99t;}),C$99r(0,C$99e,"selectedItem",function(){return this._list.selectedItem;},function(C$99t){this._list.selectedItem=C$99t;}),C$99r(0,C$99e,"width",C$99t.prototype._$get_width,function(C$99t){C$99f.superSet(C$99d,this,"width",C$99t),this._list.width=C$99t;}),C$99r(0,C$99e,"height",C$99t.prototype._$get_height,function(C$99t){C$99f.superSet(C$99d,this,"height",C$99t),this._list.height=C$99t;}),C$99r(0,C$99e,"xml",null,function(C$99t){var C$99e=[];this.parseXml(C$99t.childNodes[0],C$99e,null,!0),this.array=C$99e;}),C$99r(0,C$99e,"selectedPath",function(){return this._list.selectedItem?this._list.selectedItem.path:null;}),e$t;}(C$99d),C$99J=function(C$99t){function e$t(){this._items=null,this._selectedIndex=0,e$t.__super.call(this),this._setIndexHandler=C$99g.create(this,this.setIndex,null,!1);}C$99n(e$t,"laya.ui.ViewStack",C$99t);var C$99e=e$t.prototype;return C$99f.imps(C$99e,{"laya.ui.IItem":!0}),C$99e.setItems=function(C$99t){this.removeChildren();for(var C$99e=0,C$99i=0,C$99n=C$99t.length;C$99i<C$99n;C$99i++){var C$99r=C$99t[C$99i];C$99r&&(C$99r.name="item"+C$99e,this.addChild(C$99r),C$99e++);}this.initItems();},C$99e.addItem=function(C$99t){C$99t.name="item"+this._items.length,this.addChild(C$99t),this.initItems();},C$99e.initItems=function(){this._items=[];for(var C$99t=0;C$99t<1e4;C$99t++){var C$99e=this.getChildByName("item"+C$99t);if(null==C$99e)break;this._items.push(C$99e),C$99e.visible=C$99t==this._selectedIndex;}},C$99e.setSelect=function(C$99t,C$99e){this._items&&-1<C$99t&&C$99t<this._items.length&&(this._items[C$99t].visible=C$99e);},C$99e.setIndex=function(C$99t){this.selectedIndex=C$99t;},C$99r(0,C$99e,"dataSource",C$99t.prototype._$get_dataSource,function(C$99t){if("number"==typeof(this._dataSource=C$99t)&&Math.floor(C$99t)==C$99t||"string"==typeof C$99t)this.selectedIndex=parseInt(C$99t);else for(var C$99e in this._dataSource)this.hasOwnProperty(C$99e)&&(this[C$99e]=this._dataSource[C$99e]);}),C$99r(0,C$99e,"selectedIndex",function(){return this._selectedIndex;},function(C$99t){this._selectedIndex!=C$99t&&(this.setSelect(this._selectedIndex,!1),this._selectedIndex=C$99t,this.setSelect(this._selectedIndex,!0));}),C$99r(0,C$99e,"selection",function(){return-1<this._selectedIndex&&this._selectedIndex<this._items.length?this._items[this._selectedIndex]:null;},function(C$99t){this.selectedIndex=this._items.indexOf(C$99t);}),C$99r(0,C$99e,"items",function(){return this._items;}),C$99r(0,C$99e,"setIndexHandler",function(){return this._setIndexHandler;},function(C$99t){this._setIndexHandler=C$99t;}),e$t;}(C$99d),C$99tt=function(){function e$t(){e$t.__super.call(this);}return C$99n(e$t,"laya.ui.VScrollBar",C$99k),e$t;}(),C$99et=function(C$99e){function e$l(C$99t){this._bg=null,this._skin=null,e$l.__super.call(this),this.text=C$99t=void 0===C$99t?"":C$99t,this.skin=this.skin;}C$99n(e$l,"laya.ui.TextInput",C$99e);var C$99t=e$l.prototype;return C$99t.preinitialize=function(){this.mouseEnabled=!0;},C$99t.destroy=function(C$99t){C$99p.clearCache(this,this._skin),C$99e.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._bg&&this._bg.destroy(),this._bg=null;},C$99t.createChildren=function(){this.addChild(this._tf=new C$99v()),this._tf.padding=C$99s.inputLabelPadding,this._tf.on("input",this,this._onInput),this._tf.on("enter",this,this._onEnter),this._tf.on("blur",this,this._onBlur),this._tf.on("focus",this,this._onFocus);},C$99t._onFocus=function(){this.event("focus",this);},C$99t._onBlur=function(){this.event("blur",this);},C$99t._onInput=function(){this.event("input",this);},C$99t._onEnter=function(){this.event("enter",this);},C$99t.initialize=function(){this.width=128,this.height=22;},C$99t.select=function(){this._tf.select();},C$99t.setSelection=function(C$99t,C$99e){this._tf.setSelection(C$99t,C$99e);},C$99r(0,C$99t,"text",C$99e.prototype._$get_text,function(C$99t){this._tf.text!=C$99t&&(this._tf.text=C$99t+="",this.event("change"));}),C$99r(0,C$99t,"bg",function(){return this._bg;},function(C$99t){this.graphics=this._bg=C$99t;}),C$99r(0,C$99t,"inputElementYAdjuster",function(){return this._tf.inputElementYAdjuster;},function(C$99t){this._tf.inputElementYAdjuster=C$99t;}),C$99r(0,C$99t,"multiline",function(){return this._tf.multiline;},function(C$99t){this._tf.multiline=C$99t;}),C$99r(0,C$99t,"skin",function(){return this._skin;},function(C$99t){this._skin!=C$99t&&(C$99p.clearCache(this,this._skin),this._skin=C$99t,this._bg||(this.graphics=this._bg=new C$99E()),C$99p.keepCache(this,this._skin),this._bg.source=C$99p.getRes(this._skin),this._width&&(this._bg.width=this._width),this._height&&(this._bg.height=this._height));}),C$99r(0,C$99t,"sizeGrid",function(){return this._bg&&this._bg.sizeGrid?this._bg.sizeGrid.join(","):null;},function(C$99t){this._bg||(this.graphics=this._bg=new C$99E()),this._bg.sizeGrid=C$99I.fillArray(C$99s.defaultSizeGrid,C$99t,Number);}),C$99r(0,C$99t,"inputElementXAdjuster",function(){return this._tf.inputElementXAdjuster;},function(C$99t){this._tf.inputElementXAdjuster=C$99t;}),C$99r(0,C$99t,"width",C$99e.prototype._$get_width,function(C$99t){C$99f.superSet(C$99F,this,"width",C$99t),this._bg&&(this._bg.width=C$99t);}),C$99r(0,C$99t,"height",C$99e.prototype._$get_height,function(C$99t){C$99f.superSet(C$99F,this,"height",C$99t),this._bg&&(this._bg.height=C$99t);}),C$99r(0,C$99t,"editable",function(){return this._tf.editable;},function(C$99t){this._tf.editable=C$99t;}),C$99r(0,C$99t,"restrict",function(){return this._tf.restrict;},function(C$99t){this._tf.restrict=C$99t;}),C$99r(0,C$99t,"prompt",function(){return this._tf.prompt;},function(C$99t){this._tf.prompt=C$99t;}),C$99r(0,C$99t,"promptColor",function(){return this._tf.promptColor;},function(C$99t){this._tf.promptColor=C$99t;}),C$99r(0,C$99t,"maxChars",function(){return this._tf.maxChars;},function(C$99t){this._tf.maxChars=C$99t;}),C$99r(0,C$99t,"focus",function(){return this._tf.focus;},function(C$99t){this._tf.focus=C$99t;}),C$99r(0,C$99t,"type",function(){return this._tf.type;},function(C$99t){this._tf.type=C$99t;}),C$99r(0,C$99t,"asPassword",function(){return this._tf.asPassword;},function(C$99t){this._tf.asPassword=C$99t;}),e$l;}(C$99F),C$99it=function(){function e$t(){e$t.__super.call(this);}return C$99n(e$t,"laya.ui.VSlider",C$99O),e$t;}(),C$99nt=function(C$99t){function e$k(){this.popupCenter=!0,this.closeHandler=null,this.popupEffect=null,this.closeEffect=null,this.group=null,this.isModal=!1,this._dragArea=null,e$k.__super.call(this);}C$99n(e$k,"laya.ui.Dialog",C$99t);var C$99e=e$k.prototype;return C$99e.initialize=function(){this.popupEffect=e$k.manager.popupEffectHandler,this.closeEffect=e$k.manager.closeEffectHandler,this._dealDragArea(),this.on("click",this,this._onClick);},C$99e._dealDragArea=function(){var C$99t=this.getChildByName("drag");C$99t&&(this.dragArea=C$99t.x+","+C$99t.y+","+C$99t.width+","+C$99t.height,C$99t.removeSelf());},C$99e._onClick=function(C$99t){var C$99e=C$99t.target;if(C$99e)switch(C$99e.name){case"close":case"cancel":case"sure":case"no":case"ok":case"yes":this.close(C$99e.name);}},C$99e.show=function(C$99t,C$99e){this._open(!1,C$99t=void 0===C$99t?!1:C$99t,C$99e=void 0===C$99e?!0:C$99e);},C$99e.popup=function(C$99t,C$99e){this._open(!0,C$99t=void 0===C$99t?!1:C$99t,C$99e=void 0===C$99e?!0:C$99e);},C$99e._open=function(C$99t,C$99e,C$99i){e$k.manager.lock(!1),this.isModal=C$99t,e$k.manager.open(this,C$99e,C$99i);},C$99e.onOpened=function(){},C$99e.close=function(C$99t,C$99e){e$k.manager.close(this,C$99t,C$99e=void 0===C$99e?!0:C$99e);},C$99e.onClosed=function(C$99t){},C$99e._onMouseDown=function(C$99t){var C$99e=this.getMousePoint();this._dragArea.contains(C$99e.x,C$99e.y)?this.startDrag():this.stopDrag();},C$99r(0,C$99e,"dragArea",function(){return this._dragArea?this._dragArea.toString():null;},function(C$99t){C$99t?(C$99t=C$99I.fillArray([0,0,0,0],C$99t,Number),this._dragArea=new C$99x(C$99t[0],C$99t[1],C$99t[2],C$99t[3]),this.on("mousedown",this,this._onMouseDown)):(this._dragArea=null,this.off("mousedown",this,this._onMouseDown));}),C$99r(0,C$99e,"isPopup",function(){return null!=this.parent;}),C$99r(0,C$99e,"zOrder",C$99t.prototype._$get_zOrder,function(C$99t){C$99f.superSet(C$99W,this,"zOrder",C$99t),e$k.manager._checkMask();}),C$99r(1,e$k,"manager",function(){return e$k._manager=e$k._manager||new C$99R();},function(C$99t){e$k._manager=C$99t;}),e$k.setLockView=function(C$99t){e$k.manager.setLockView(C$99t);},e$k.lock=function(C$99t){e$k.manager.lock(C$99t);},e$k.closeAll=function(){e$k.manager.closeAll();},e$k.getDialogsByGroup=function(C$99t){return e$k.manager.getDialogsByGroup(C$99t);},e$k.closeByGroup=function(C$99t){return e$k.manager.closeByGroup(C$99t);},e$k.CLOSE="close",e$k.CANCEL="cancel",e$k.SURE="sure",e$k.NO="no",e$k.OK="ok",e$k.YES="yes",e$k._manager=null,e$k;}(C$99W),C$99rt=function(C$99t){function e$t(){e$t.__super.call(this);}C$99n(e$t,"laya.ui.HBox",C$99t);var C$99e=e$t.prototype;return C$99e.sortItem=function(C$99t){C$99t&&C$99t.sort(function(C$99t,C$99e){return C$99t.x-C$99e.x;});},C$99e.changeItems=function(){this._itemChanged=!1;for(var C$99t=[],C$99e=0,C$99i=0,C$99n=this.numChildren;C$99i<C$99n;C$99i++){var C$99r=this.getChildAt(C$99i);C$99r&&C$99r.layoutEnabled&&(C$99t.push(C$99r),C$99e=this._height||Math.max(C$99e,C$99r.height*C$99r.scaleY));}this.sortItem(C$99t);var C$99s=0;for(C$99i=0,C$99n=C$99t.length;C$99i<C$99n;C$99i++)(C$99r=C$99t[C$99i]).x=C$99s,C$99s+=C$99r.width*C$99r.scaleX+this._space,"top"==this._align?C$99r.y=0:"middle"==this._align?C$99r.y=.5*(C$99e-C$99r.height*C$99r.scaleY):"bottom"==this._align&&(C$99r.y=C$99e-C$99r.height*C$99r.scaleY);this.changeSize();},C$99r(0,C$99e,"height",C$99t.prototype._$get_height,function(C$99t){this._height!=C$99t&&(C$99f.superSet(C$99G,this,"height",C$99t),this.callLater(this.changeItems));}),e$t.NONE="none",e$t.TOP="top",e$t.MIDDLE="middle",e$t.BOTTOM="bottom",e$t;}(C$99G),C$99st=function(C$99t){function e$t(){e$t.__super.call(this);}C$99n(e$t,"laya.ui.VBox",C$99t);var C$99e=e$t.prototype;return C$99e.changeItems=function(){this._itemChanged=!1;for(var C$99t=[],C$99e=0,C$99i=0,C$99n=this.numChildren;C$99i<C$99n;C$99i++){var C$99r=this.getChildAt(C$99i);C$99r&&C$99r.layoutEnabled&&(C$99t.push(C$99r),C$99e=this._width||Math.max(C$99e,C$99r.width*C$99r.scaleX));}this.sortItem(C$99t);var C$99s=0;for(C$99i=0,C$99n=C$99t.length;C$99i<C$99n;C$99i++)(C$99r=C$99t[C$99i]).y=C$99s,C$99s+=C$99r.height*C$99r.scaleY+this._space,"left"==this._align?C$99r.x=0:"center"==this._align?C$99r.x=.5*(C$99e-C$99r.width*C$99r.scaleX):"right"==this._align&&(C$99r.x=C$99e-C$99r.width*C$99r.scaleX);this.changeSize();},C$99r(0,C$99e,"width",C$99t.prototype._$get_width,function(C$99t){this._width!=C$99t&&(C$99f.superSet(C$99G,this,"width",C$99t),this.callLater(this.changeItems));}),e$t.NONE="none",e$t.LEFT="left",e$t.CENTER="center",e$t.RIGHT="right",e$t;}(C$99G),C$99at=function(){function e$t(){e$t.__super.call(this);}return C$99n(e$t,"laya.ui.RadioGroup",C$99q),e$t.prototype.createItem=function(C$99t,C$99e){return new C$99Z(C$99t,C$99e);},e$t;}(),C$99ot=function(){function e$t(){e$t.__super.call(this);}return C$99n(e$t,"laya.ui.Tab",C$99q),e$t.prototype.createItem=function(C$99t,C$99e){return new C$99P(C$99t,C$99e);},e$t;}(),C$99ht=function(C$99e){function e$l(C$99t){this._vScrollBar=null,this._hScrollBar=null,e$l.__super.call(this,C$99t=void 0===C$99t?"":C$99t);}C$99n(e$l,"laya.ui.TextArea",C$99e);var C$99t=e$l.prototype;return C$99t.destroy=function(C$99t){C$99e.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._vScrollBar&&this._vScrollBar.destroy(),this._hScrollBar&&this._hScrollBar.destroy(),this._vScrollBar=null,this._hScrollBar=null;},C$99t.initialize=function(){this.width=180,this.height=150,this._tf.wordWrap=!0,this.multiline=!0;},C$99t.onVBarChanged=function(C$99t){this._tf.scrollY!=this._vScrollBar.value&&(this._tf.scrollY=this._vScrollBar.value);},C$99t.onHBarChanged=function(C$99t){this._tf.scrollX!=this._hScrollBar.value&&(this._tf.scrollX=this._hScrollBar.value);},C$99t.changeScroll=function(){var C$99t=this._vScrollBar&&0<this._tf.maxScrollY,C$99e=this._hScrollBar&&0<this._tf.maxScrollX,C$99i=C$99t?this._width-this._vScrollBar.width:this._width,C$99n=C$99e?this._height-this._hScrollBar.height:this._height,C$99r=this._tf.padding||C$99s.labelPadding;this._tf.width=C$99i,this._tf.height=C$99n,this._vScrollBar&&(this._vScrollBar.x=this._width-this._vScrollBar.width-C$99r[2],this._vScrollBar.y=C$99r[1],this._vScrollBar.height=this._height-(C$99e?this._hScrollBar.height:0)-C$99r[1]-C$99r[3],this._vScrollBar.scrollSize=1,this._vScrollBar.thumbPercent=C$99n/Math.max(this._tf.textHeight,C$99n),this._vScrollBar.setScroll(1,this._tf.maxScrollY,this._tf.scrollY),this._vScrollBar.visible=C$99t),this._hScrollBar&&(this._hScrollBar.x=C$99r[0],this._hScrollBar.y=this._height-this._hScrollBar.height-C$99r[3],this._hScrollBar.width=this._width-(C$99t?this._vScrollBar.width:0)-C$99r[0]-C$99r[2],this._hScrollBar.scrollSize=Math.max(.033*C$99i,1),this._hScrollBar.thumbPercent=C$99i/Math.max(this._tf.textWidth,C$99i),this._hScrollBar.setScroll(0,this.maxScrollX,this.scrollX),this._hScrollBar.visible=C$99e);},C$99t.scrollTo=function(C$99t){this.commitMeasure(),this._tf.scrollY=C$99t;},C$99r(0,C$99t,"scrollY",function(){return this._tf.scrollY;}),C$99r(0,C$99t,"width",C$99e.prototype._$get_width,function(C$99t){C$99f.superSet(C$99et,this,"width",C$99t),this.callLater(this.changeScroll);}),C$99r(0,C$99t,"hScrollBar",function(){return this._hScrollBar;}),C$99r(0,C$99t,"height",C$99e.prototype._$get_height,function(C$99t){C$99f.superSet(C$99et,this,"height",C$99t),this.callLater(this.changeScroll);}),C$99r(0,C$99t,"maxScrollX",function(){return this._tf.maxScrollX;}),C$99r(0,C$99t,"vScrollBarSkin",function(){return this._vScrollBar?this._vScrollBar.skin:null;},function(C$99t){null==this._vScrollBar&&(this.addChild(this._vScrollBar=new C$99tt()),this._vScrollBar.on("change",this,this.onVBarChanged),this._vScrollBar.target=this._tf,this.callLater(this.changeScroll)),this._vScrollBar.skin=C$99t;}),C$99r(0,C$99t,"hScrollBarSkin",function(){return this._hScrollBar?this._hScrollBar.skin:null;},function(C$99t){null==this._hScrollBar&&(this.addChild(this._hScrollBar=new C$99X()),this._hScrollBar.on("change",this,this.onHBarChanged),this._hScrollBar.mouseWheelEnable=!1,this._hScrollBar.target=this._tf,this.callLater(this.changeScroll)),this._hScrollBar.skin=C$99t;}),C$99r(0,C$99t,"vScrollBar",function(){return this._vScrollBar;}),C$99r(0,C$99t,"maxScrollY",function(){return this._tf.maxScrollY;}),C$99r(0,C$99t,"scrollX",function(){return this._tf.scrollX;}),e$l;}(C$99et);function e$Y(){this._idMap=null,this._aniList=null,this._watchMap={},e$Y.__super.call(this);}var C$99lt;function e$k(C$99t,C$99e,C$99i){this._sources=null,this._bitmap=null,this._skin=null,this._clipX=1,this._clipY=1,this._clipWidth=0,this._clipHeight=0,this._autoPlay=!1,this._interval=50,this._isPlaying=!1,this._index=0,this._clipChanged=!1,this._group=null,this._toIndex=-1,this._complete=null,this._progress=null,e$k.__super.call(this),void 0===C$99i&&(C$99i=1),this._clipX=C$99e=void 0===C$99e?1:C$99e,this._clipY=C$99i,this.skin=C$99t;}var C$99ut;function e$l(C$99t,C$99e){this.toggle=!1,this._bitmap=null,this._text=null,this._strokeColors=null,this._state=0,this._selected=!1,this._skin=null,this._autoSize=!0,this._sources=null,this._clickHandler=null,this._stateChanged=!1,e$l.__super.call(this),this._labelColors=C$99s.buttonLabelColors,this._stateNum=C$99s.buttonStateNum,void 0===C$99e&&(C$99e=""),this.skin=C$99t,this.label=C$99e;}var C$99ct;function e$t(){e$t.__super.call(this);}function e$z(){this.autoCacheCmd=!0,this._width=0,this._height=0,this._source=null,this._sizeGrid=null,this._isChanged=!1,this._offset=null,e$z.__super.call(this),this._weakKeys=[];}var C$99_t;function e$W(){}function e$d(){this.enable=!1,this.top=NaN,this.bottom=NaN,this.left=NaN,this.right=NaN,this.centerX=NaN,this.centerY=NaN,this.anchorX=NaN,this.anchorY=NaN;}!function(){function e$t(){this._uiView=null,this.isCloseOther=!1,e$t.__super.call(this);}C$99n(e$t,"laya.ui.AsynDialog",C$99nt);var C$99t=e$t.prototype;C$99t.createView=function(C$99t){this._uiView=C$99t;},C$99t._open=function(C$99t,C$99e,C$99i){this.isModal=C$99t,this.isCloseOther=C$99e,C$99nt.manager.lock(!0),this._uiView?this.onCreated():this.onOpen();},C$99t.onCreated=function(){this.createUI(),this.onOpen();},C$99t.createUI=function(){laya.ui.View.prototype.createView.call(this,this._uiView),this._uiView=null,this._dealDragArea();},C$99t.onOpen=function(){C$99nt.manager.open(this,this.isCloseOther),C$99nt.manager.lock(!1);},C$99t.close=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!0),C$99nt.manager.close(this),this.onClose();},C$99t.onClose=function(){},C$99t.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),laya.ui.View.prototype.destroy.call(this,C$99t),this._uiView=null,this.onDestroy();},C$99t.onDestroy=function(){};}(),C$99f.__init([C$99W]);}(window,(document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$99t,C$99e){"use strict";for(var C$99i in Object.defineProperty(C$99e,"__esModule",{value:!0}),Laya){var C$99n=Laya[C$99i];C$99n&&C$99n.__isclass&&(C$99e[C$99i]=C$99n);}}),function(C$99a,C$99y){C$99y.un,C$99y.uns;var C$99s=C$99y.static,C$99r=C$99y.class,C$99o=C$99y.getset,C$99i=C$99y.__newvec,C$99p=laya.maths.Arith,C$99h=laya.webgl.atlas.AtlasResourceManager,C$99n=laya.webgl.shader.BaseShader,C$99T=laya.utils.Browser,C$99l=laya.webgl.utils.Buffer,C$99$=laya.utils.Byte,C$99u=laya.utils.ClassUtils,C$99c=C$99y.Config,C$99_=(laya.events.Event,laya.events.EventDispatcher),C$99b=laya.utils.Handler,C$99g=laya.net.Loader,C$99d=laya.net.LoaderManager,C$99f=(laya.maths.MathUtil,laya.display.Node),C$99m=laya.renders.Render,C$99v=(laya.renders.RenderContext,laya.renders.RenderSprite,laya.webgl.utils.RenderState2D),C$99x=laya.resource.Resource,C$99w=laya.utils.RunDriver,C$99S=(laya.webgl.shader.Shader,laya.webgl.utils.ShaderCompile),C$99M=laya.display.Sprite,C$99C=laya.utils.Stat,C$99A=laya.utils.StringKey,C$99D=(laya.display.css.Style,laya.resource.Texture,laya.net.URL),C$99E=laya.utils.Utils,C$99R=laya.webgl.WebGL,C$99P=laya.webgl.WebGLContext;function e$V(){}function e$x(){}laya.webgl.canvas.WebGLContext2D,C$99y.interface("laya.d3.core.IClone"),C$99y.interface("laya.d3.graphics.IVertex"),C$99y.interface("laya.d3.core.render.IUpdate"),C$99y.interface("laya.d3.core.scene.ITreeNode"),C$99y.interface("laya.d3.core.render.IRenderable"),C$99r(e$x,"laya.d3.animation.AnimationClipParser01"),e$x.READ_DATA=function(){e$x._DATA.offset=e$x._reader.getUint32(),e$x._DATA.size=e$x._reader.getUint32();},e$x.READ_BLOCK=function(){for(var C$99t=e$x._BLOCK.count=e$x._reader.getUint16(),C$99e=e$x._BLOCK.blockStarts=[],C$99i=e$x._BLOCK.blockLengths=[],C$99n=0;C$99n<C$99t;C$99n++)C$99e.push(e$x._reader.getUint32()),C$99i.push(e$x._reader.getUint32());},e$x.READ_STRINGS=function(){var C$99t=e$x._reader.getUint32(),C$99e=e$x._reader.getUint16(),C$99i=e$x._reader.pos;e$x._reader.pos=C$99t+e$x._DATA.offset;for(var C$99n=0;C$99n<C$99e;C$99n++)e$x._strings[C$99n]=e$x._reader.readUTFString();e$x._reader.pos=C$99i;},e$x.parse=function(C$99t,C$99e){e$x._animationClip=C$99t,(e$x._reader=C$99e).__getBuffer(),e$x.READ_DATA(),e$x.READ_BLOCK(),e$x.READ_STRINGS();for(var C$99i=0,C$99n=e$x._BLOCK.count;C$99i<C$99n;C$99i++){var C$99r=C$99e.getUint16(),C$99s=e$x._strings[C$99r],C$99a=e$x["READ_"+C$99s];if(null==C$99a)throw new Error("model file err,no this function:"+C$99r+" "+C$99s);C$99a.call();}},e$x.READ_ANIMATIONS=function(){var C$99t,C$99e=0,C$99i=0,C$99n=e$x._reader,C$99u=C$99n.__getBuffer(),C$99c=[],C$99_=C$99n.getUint8();for(C$99c.length=C$99_,C$99e=0;C$99e<C$99_;C$99e++)C$99c[C$99e]=C$99n.getUint16();var C$99d=[],C$99f=C$99n.getUint16();for(C$99d.length=C$99f,C$99e=0;C$99e<C$99f;C$99e++)C$99d[C$99e]=C$99n.getFloat32();var C$99r=e$x._animationClip;C$99r.name=e$x._strings[C$99n.getUint16()];var C$99p=C$99r._duration=C$99n.getFloat32();C$99r.islooping=!!C$99n.getByte(),C$99r._frameRate=C$99n.getInt16();var C$99m=C$99n.getInt16(),C$99g=C$99r._nodes=new Array();C$99g.length=C$99m,(C$99r._publicClipDatas=[]).length=C$99m;var C$99v=C$99r._nodesMap={},C$99$=0,C$99x=0;for(C$99e=0;C$99e<C$99m;C$99e++){C$99t=C$99g[C$99e]=new C$99k();var C$99y=C$99n.getUint16(),C$99b=C$99t.path=[];for(C$99b.length=C$99y,C$99i=0;C$99i<C$99y;C$99i++)C$99b[C$99i]=e$x._strings[C$99n.getUint16()];var C$99s=C$99b.join("/"),C$99a=C$99v[C$99s];C$99a||(C$99v[C$99s]=C$99a=[]),C$99a.push(C$99t);C$99s=C$99n.getInt16();-1!==C$99s&&(C$99t.componentType=e$x._strings[C$99s]);C$99a=C$99L._propertyIndexDic[e$x._strings[C$99n.getUint16()]];if(null==C$99a)throw new Error("AnimationClipParser01:unknown property name.");C$99s=C$99a<4,C$99s=!C$99s||""===C$99b[0];(C$99t._cacheProperty=C$99s)?C$99$++:C$99x++,C$99t.propertyNameID=C$99a;var C$99o=C$99c[C$99n.getUint8()];C$99t.keyFrameWidth=C$99o/4;var C$99w=C$99t.keyFrames=[],C$99T=C$99w.length=C$99n.getUint16(),C$99S=null,C$99M=NaN;for(C$99i=0;C$99i<C$99T;C$99i++){var C$99h=C$99w[C$99i]=new C$99N();C$99M=C$99h.startTime=C$99d[C$99n.getUint16()];var C$99l=C$99n.pos;C$99h.inTangent=new Float32Array(C$99u.slice(C$99l,C$99l+C$99o)),C$99n.pos+=C$99o,C$99l=C$99n.pos,C$99h.outTangent=new Float32Array(C$99u.slice(C$99l,C$99l+C$99o)),C$99n.pos+=C$99o,C$99l=C$99n.pos,C$99h.data=new Float32Array(C$99u.slice(C$99l,C$99l+C$99o)),C$99n.pos+=C$99o,C$99S&&(C$99S.next=C$99h,C$99S.duration=C$99M-C$99S.startTime),C$99S=C$99h;}C$99h.next=null,C$99h.duration=C$99p-C$99M;}var C$99C=C$99r._nodeToCachePropertyMap=new Int32Array(C$99m),C$99A=C$99r._cachePropertyMap=new Int32Array(C$99$),C$99I=C$99r._unCachePropertyMap=new Int32Array(C$99x);for(C$99e=C$99$=C$99x=0;C$99e<C$99m;C$99e++)(C$99t=C$99g[C$99e])._cacheProperty?(C$99C[C$99e]=C$99$,C$99A[C$99$++]=C$99e):C$99I[C$99x++]=C$99e;},e$x._animationClip=null,e$x._reader=null,e$x._strings=[],C$99s(e$x,["_BLOCK",function(){return this._BLOCK={count:0};},"_DATA",function(){return this._DATA={offset:0,size:0};}]),C$99r(e$V,"laya.d3.animation.AnimationClipParser02"),e$V.READ_DATA=function(){e$V._DATA.offset=e$V._reader.getUint32(),e$V._DATA.size=e$V._reader.getUint32();},e$V.READ_BLOCK=function(){for(var C$99t=e$V._BLOCK.count=e$V._reader.getUint16(),C$99e=e$V._BLOCK.blockStarts=[],C$99i=e$V._BLOCK.blockLengths=[],C$99n=0;C$99n<C$99t;C$99n++)C$99e.push(e$V._reader.getUint32()),C$99i.push(e$V._reader.getUint32());},e$V.READ_STRINGS=function(){var C$99t=e$V._reader.getUint32(),C$99e=e$V._reader.getUint16(),C$99i=e$V._reader.pos;e$V._reader.pos=C$99t+e$V._DATA.offset;for(var C$99n=0;C$99n<C$99e;C$99n++)e$V._strings[C$99n]=e$V._reader.readUTFString();e$V._reader.pos=C$99i;},e$V.parse=function(C$99t,C$99e){e$V._animationClip=C$99t,(e$V._reader=C$99e).__getBuffer(),e$V.READ_DATA(),e$V.READ_BLOCK(),e$V.READ_STRINGS();for(var C$99i=0,C$99n=e$V._BLOCK.count;C$99i<C$99n;C$99i++){var C$99r=C$99e.getUint16(),C$99s=e$V._strings[C$99r],C$99a=e$V["READ_"+C$99s];if(null==C$99a)throw new Error("model file err,no this function:"+C$99r+" "+C$99s);C$99a.call();}},e$V.READ_ANIMATIONS=function(){var C$99t,C$99e=0,C$99i=0,C$99n=e$V._reader,C$99u=C$99n.__getBuffer(),C$99c=[],C$99_=C$99n.getUint8();for(C$99c.length=C$99_,C$99e=0;C$99e<C$99_;C$99e++)C$99c[C$99e]=C$99n.getUint16();var C$99d=[],C$99f=C$99n.getUint16();for(C$99d.length=C$99f,C$99e=0;C$99e<C$99f;C$99e++)C$99d[C$99e]=C$99n.getFloat32();var C$99r=e$V._animationClip;C$99r.name=e$V._strings[C$99n.getUint16()];var C$99p=C$99r._duration=C$99n.getFloat32();C$99r.islooping=!!C$99n.getByte(),C$99r._frameRate=C$99n.getInt16();var C$99m=C$99n.getInt16(),C$99g=C$99r._nodes=new Array();C$99g.length=C$99m,(C$99r._publicClipDatas=[]).length=C$99m;var C$99v=C$99r._nodesMap={},C$99$=0,C$99x=0;for(C$99e=0;C$99e<C$99m;C$99e++){C$99t=C$99g[C$99e]=new C$99k();var C$99y=C$99n.getUint16(),C$99b=C$99t.path=[];for(C$99b.length=C$99y,C$99i=0;C$99i<C$99y;C$99i++)C$99b[C$99i]=e$V._strings[C$99n.getUint16()];var C$99s=C$99b.join("/"),C$99a=C$99v[C$99s];C$99a||(C$99v[C$99s]=C$99a=[]),C$99a.push(C$99t);C$99s=C$99n.getInt16();-1!==C$99s&&(C$99t.componentType=e$V._strings[C$99s]);C$99a=C$99L._propertyIndexDic[e$V._strings[C$99n.getUint16()]];if(null==C$99a)throw new Error("AnimationClipParser02:unknown property name.");C$99s=C$99a<4,C$99s=!C$99s||""===C$99b[0];(C$99t._cacheProperty=C$99s)?C$99$++:C$99x++,C$99t.propertyNameID=C$99a;var C$99o=C$99c[C$99n.getUint8()];C$99t.keyFrameWidth=C$99o/4;var C$99w=C$99t.keyFrames=[],C$99T=C$99w.length=C$99n.getUint16(),C$99S=null,C$99M=NaN;for(C$99i=0;C$99i<C$99T;C$99i++){var C$99h=C$99w[C$99i]=new C$99N();C$99M=C$99h.startTime=C$99d[C$99n.getUint16()];var C$99l=C$99n.pos;C$99h.inTangent=new Float32Array(C$99u.slice(C$99l,C$99l+C$99o)),C$99n.pos+=C$99o,C$99l=C$99n.pos,C$99h.outTangent=new Float32Array(C$99u.slice(C$99l,C$99l+C$99o)),C$99n.pos+=C$99o,C$99l=C$99n.pos,C$99h.data=new Float32Array(C$99u.slice(C$99l,C$99l+C$99o)),C$99n.pos+=C$99o,C$99S&&(C$99S.next=C$99h,C$99S.duration=C$99M-C$99S.startTime),C$99S=C$99h;}C$99h.next=null,C$99h.duration=C$99p-C$99M;}var C$99C=C$99n.getUint16();for(C$99e=0;C$99e<C$99C;C$99e++){var C$99A,C$99I=new C$99B();C$99I.time=C$99n.getFloat32(),C$99I.eventName=e$V._strings[C$99n.getUint16()];var C$99D=C$99n.getUint16();for(0<C$99D&&(C$99I.params=C$99A=[]),C$99i=0;C$99i<C$99D;C$99i++)switch(C$99n.getByte()){case 0:C$99A.push(!!C$99n.getByte());break;case 1:C$99A.push(C$99n.getInt32());break;case 2:C$99A.push(C$99n.getFloat32());break;case 3:C$99A.push(e$V._strings[C$99n.getUint16()]);break;default:throw new Error("unknown type.");}C$99r.addEvent(C$99I);}var C$99E=C$99r._nodeToCachePropertyMap=new Int32Array(C$99m),C$99R=C$99r._cachePropertyMap=new Int32Array(C$99$),C$99P=C$99r._unCachePropertyMap=new Int32Array(C$99x);for(C$99e=C$99$=C$99x=0;C$99e<C$99m;C$99e++)(C$99t=C$99g[C$99e])._cacheProperty?(C$99E[C$99e]=C$99$,C$99R[C$99$++]=C$99e):C$99P[C$99x++]=C$99e;},e$V._animationClip=null,e$V._reader=null,e$V._strings=[],C$99s(e$V,["_BLOCK",function(){return this._BLOCK={count:0};},"_DATA",function(){return this._DATA={offset:0,size:0};}]);C$99r(e$d,"laya.d3.animation.AnimationEvent");var C$99B=e$d,C$99L=(C$99r(e$k,"laya.d3.animation.AnimationNode"),C$99G=e$k.prototype,C$99y.imps(C$99G,{"laya.d3.core.IClone":!0}),C$99G.addChild=function(C$99t){C$99t._parent=this,C$99t.transform.setParent(this.transform),this._childs.push(C$99t);},C$99G.removeChild=function(C$99t){C$99t=this._childs.indexOf(C$99t);-1!==C$99t&&this._childs.splice(C$99t,1);},C$99G.getChildByName=function(C$99t){for(var C$99e=0,C$99i=this._childs.length;C$99e<C$99i;C$99e++){var C$99n=this._childs[C$99e];if(C$99n.name===C$99t)return C$99n;}return null;},C$99G.getChildByIndex=function(C$99t){return this._childs[C$99t];},C$99G.getChildCount=function(){return this._childs.length;},C$99G.cloneTo=function(C$99t){var C$99e=C$99t;C$99e.name=this.name;for(var C$99i=0,C$99n=this._childs.length;C$99i<C$99n;C$99i++){var C$99r=this._childs[C$99i],C$99s=C$99r.clone();C$99e.addChild(C$99s);C$99r=C$99r.transform,C$99s=C$99s.transform;C$99s.setLocalPosition(C$99r.getLocalPosition()),C$99s.setLocalRotation(C$99r.getLocalRotation()),C$99s.setLocalScale(C$99r.getLocalScale()),C$99s._localRotationEuler=C$99r._localRotationEuler,C$99s._setWorldMatrixIgnoreUpdate(C$99r.getWorldMatrix());}},C$99G.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},e$k.__init__=function(){e$k.registerAnimationNodeProperty("localPosition",e$k._getLocalPosition,e$k._setLocalPosition),e$k.registerAnimationNodeProperty("localRotation",e$k._getLocalRotation,e$k._setLocalRotation),e$k.registerAnimationNodeProperty("localScale",e$k._getLocalScale,e$k._setLocalScale),e$k.registerAnimationNodeProperty("localRotationEuler",e$k._getLocalRotationEuler,e$k._setLocalRotationEuler),e$k.registerAnimationNodeProperty("particleRender.sharedMaterial.tintColor",e$k._getParticleRenderSharedMaterialTintColor,e$k._setParticleRenderSharedMaterialTintColor),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.tilingOffset",e$k._getMeshRenderSharedMaterialTilingOffset,e$k._setMeshRenderSharedMaterialTilingOffset),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.albedoColor",e$k._getMeshRenderSharedMaterialAlbedo,e$k._setMeshRenderSharedMaterialAlbedo),e$k.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.tilingOffset",e$k._getSkinnedMeshRenderSharedMaterialTilingOffset,e$k._setSkinnedMeshRenderSharedMaterialTilingOffset),e$k.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.albedoColor",e$k._getSkinnedMeshRenderSharedMaterialAlbedo,e$k._setSkinnedMeshRenderSharedMaterialAlbedo),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.albedo",e$k._getMeshRenderSharedMaterialAlbedo,e$k._setMeshRenderSharedMaterialAlbedo),e$k.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.albedo",e$k._getSkinnedMeshRenderSharedMaterialAlbedo,e$k._setSkinnedMeshRenderSharedMaterialAlbedo),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.intensity",e$k._getMeshRenderSharedMaterialIntensity,e$k._setMeshRenderSharedMaterialIntensity),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.alpha",e$k._getMeshRenderSharedMaterialAlpha,e$k._setMeshRenderSharedMaterialAlpha),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.alphaColor",e$k._getMeshRenderSharedMaterialAlphaColor,e$k._setMeshRenderSharedMaterialAlphaColor),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.baseColor",e$k._getMeshRenderSharedMaterialBaseColor,e$k._setMeshRenderSharedMaterialBaseColor),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.dissolve",e$k._getMeshRenderSharedMaterialDissolve,e$k._setMeshRenderSharedMaterialDissolve),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.dissolveSpeed",e$k._getMeshRenderSharedMaterialDissolveSpeed,e$k._setMeshRenderSharedMaterialDissolveSpeed),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.mMultiplier",e$k._getMeshRenderSharedMaterialMMultiplier,e$k._setMeshRenderSharedMaterialMMultiplier),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.baseScrollSpeedX",e$k._getMeshRenderSharedMaterialBaseScrollSpeedX,e$k._setMeshRenderSharedMaterialBaseScrollSpeedX),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.baseScrollSpeedY",e$k._getMeshRenderSharedMaterialBaseScrollSpeedY,e$k._setMeshRenderSharedMaterialBaseScrollSpeedY),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.secondScrollSpeedX",e$k._getMeshRenderSharedMaterialSecondScrollSpeedX,e$k._setMeshRenderSharedMaterialSecondScrollSpeedX),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.secondScrollSpeedY",e$k._getMeshRenderSharedMaterialSecondScrollSpeedY,e$k._setMeshRenderSharedMaterialSecondScrollSpeedY),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.detailTilingOffset",e$k._getMeshRenderSharedMaterialDetailTilingOffset,e$k._setMeshRenderSharedMaterialDetailTilingOffset),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.dissolveTilingOffset",e$k._getMeshRenderSharedMaterialDissolveTilingOffset,e$k._setMeshRenderSharedMaterialDissolveTilingOffset),e$k.registerAnimationNodeProperty("meshRender.sharedMaterial.maskTilingOffset",e$k._getMeshRenderSharedMaterialMaskTilingOffset,e$k._setMeshRenderSharedMaterialMaskTilingOffset);},e$k.registerAnimationNodeProperty=function(C$99t,C$99e,C$99i){if(e$k._propertyIndexDic[C$99t])throw new Error("AnimationNode: this propertyName has registered.");e$k._propertyIndexDic[C$99t]=e$k._propertyIDCounter,e$k._propertyGetFuncs[e$k._propertyIDCounter]=C$99e,e$k._propertySetFuncs[e$k._propertyIDCounter]=C$99i,e$k._propertyIDCounter++;},e$k._getLocalPosition=function(C$99t,C$99e){return C$99t?C$99t.transform.getLocalPosition():C$99e._transform.localPosition.elements;},e$k._setLocalPosition=function(C$99t,C$99e,C$99i){C$99t?C$99t.transform.setLocalPosition(C$99i):((C$99e=(C$99t=C$99e._transform).localPosition).elements=C$99i,C$99t.localPosition=C$99e);},e$k._getLocalRotation=function(C$99t,C$99e){return C$99t?C$99t.transform.getLocalRotation():C$99e._transform.localRotation.elements;},e$k._setLocalRotation=function(C$99t,C$99e,C$99i){C$99t?C$99t.transform.setLocalRotation(C$99i):((C$99e=(C$99t=C$99e._transform).localRotation).elements=C$99i,C$99t.localRotation=C$99e);},e$k._getLocalScale=function(C$99t,C$99e){return C$99t?C$99t.transform.getLocalScale():C$99e._transform.localScale.elements;},e$k._setLocalScale=function(C$99t,C$99e,C$99i){C$99t?C$99t.transform.setLocalScale(C$99i):((C$99e=(C$99t=C$99e._transform).localScale).elements=C$99i,C$99t.localScale=C$99e);},e$k._getLocalRotationEuler=function(C$99t,C$99e){return C$99t?C$99t.transform.getLocalRotationEuler():C$99e._transform.localRotationEuler.elements;},e$k._setLocalRotationEuler=function(C$99t,C$99e,C$99i){C$99t?C$99t.transform.setLocalRotationEuler(C$99i):((C$99e=(C$99t=C$99e._transform).localRotationEuler).elements=C$99i,C$99t.localRotationEuler=C$99e);},e$k._getMeshRenderSharedMaterialTilingOffset=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.tilingOffset.elements:null:C$99e.meshRender.sharedMaterial.tilingOffset.elements;},e$k._setMeshRenderSharedMaterialTilingOffset=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.meshRender.material).tilingOffset).elements=C$99i,C$99n.tilingOffset=C$99r):((C$99r=(C$99n=C$99e.meshRender.material).tilingOffset).elements=C$99i,C$99n.tilingOffset=C$99r);},e$k._getMeshRenderSharedMaterialAlbedo=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.albedoColor.elements:null:C$99e.meshRender.sharedMaterial.albedoColor.elements;},e$k._setMeshRenderSharedMaterialAlbedo=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.meshRender.material).albedoColor).elements=C$99i,C$99n.albedoColor=C$99r):((C$99r=(C$99n=C$99e.meshRender.material).albedoColor).elements=C$99i,C$99n.albedoColor=C$99r);},e$k._getSkinnedMeshRenderSharedMaterialTilingOffset=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.skinnedMeshRender.sharedMaterial.tilingOffset.elements:null:C$99e.skinnedMeshRender.sharedMaterial.tilingOffset.elements;},e$k._setSkinnedMeshRenderSharedMaterialTilingOffset=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.skinnedMeshRender.material).tilingOffset).elements=C$99i,C$99n.tilingOffset=C$99r):((C$99r=(C$99n=C$99e.skinnedMeshRender.material).tilingOffset).elements=C$99i,C$99n.tilingOffset=C$99r);},e$k._getSkinnedMeshRenderSharedMaterialAlbedo=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.skinnedMeshRender.sharedMaterial.albedoColor.elements:null:C$99e.skinnedMeshRender.sharedMaterial.albedoColor.elements;},e$k._setSkinnedMeshRenderSharedMaterialAlbedo=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.skinnedMeshRender.material).albedoColor).elements=C$99i,C$99n.albedoColor=C$99r):((C$99r=(C$99n=C$99e.skinnedMeshRender.material).albedoColor).elements=C$99i,C$99n.albedoColor=C$99r);},e$k._getParticleRenderSharedMaterialTintColor=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.particleRender.sharedMaterial.tintColor.elements:null:C$99e.particleRender.sharedMaterial.tintColor.elements;},e$k._setParticleRenderSharedMaterialTintColor=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.particleRender.material).tintColor).elements=C$99i,C$99n.tintColor=C$99r):((C$99r=(C$99n=C$99e.particleRender.material).tintColor).elements=C$99i,C$99n.tintColor=C$99r);},e$k._getMeshRenderSharedMaterialAlphaColor=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.alphaColor.elements:null:C$99e.meshRender.sharedMaterial.alphaColor.elements;},e$k._setMeshRenderSharedMaterialAlphaColor=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.meshRender.material).alphaColor).elements=C$99i,C$99n.alphaColor=C$99r):((C$99r=(C$99n=C$99e.meshRender.material).alphaColor).elements=C$99i,C$99n.alphaColor=C$99r);},e$k._getMeshRenderSharedMaterialBaseColor=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.baseColor.elements:null:C$99e.meshRender.sharedMaterial.baseColor.elements;},e$k._setMeshRenderSharedMaterialBaseColor=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.meshRender.material).baseColor).elements=C$99i,C$99n.baseColor=C$99r):((C$99r=(C$99n=C$99e.meshRender.material).baseColor).elements=C$99i,C$99n.baseColor=C$99r);},e$k._getMeshRenderSharedMaterialDissolve=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.dissolve:0:C$99e.meshRender.sharedMaterial.dissolve;},e$k._setMeshRenderSharedMaterialDissolve=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.dissolve=C$99i[0]):C$99e.meshRender.material.dissolve=C$99i[0];},e$k._getMeshRenderSharedMaterialDissolveSpeed=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.dissolveSpeed:0:C$99e.meshRender.sharedMaterial.dissolveSpeed;},e$k._setMeshRenderSharedMaterialDissolveSpeed=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.dissolveSpeed=C$99i[0]):C$99e.meshRender.material.dissolveSpeed=C$99i[0];},e$k._getMeshRenderSharedMaterialMMultiplier=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.mMultiplier:0:C$99e.meshRender.sharedMaterial.mMultiplier;},e$k._setMeshRenderSharedMaterialMMultiplier=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.mMultiplier=C$99i[0]):C$99e.meshRender.material.mMultiplier=C$99i[0];},e$k._getMeshRenderSharedMaterialBaseScrollSpeedX=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.baseScrollSpeedX:0:C$99e.meshRender.sharedMaterial.baseScrollSpeedX;},e$k._setMeshRenderSharedMaterialBaseScrollSpeedX=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.baseScrollSpeedX=C$99i[0]):C$99e.meshRender.material.baseScrollSpeedX=C$99i[0];},e$k._getMeshRenderSharedMaterialBaseScrollSpeedY=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.baseScrollSpeedY:0:C$99e.meshRender.sharedMaterial.baseScrollSpeedY;},e$k._setMeshRenderSharedMaterialBaseScrollSpeedY=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.baseScrollSpeedY=C$99i[0]):C$99e.meshRender.material.baseScrollSpeedY=C$99i[0];},e$k._getMeshRenderSharedMaterialSecondScrollSpeedX=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.secondScrollSpeedX:0:C$99e.meshRender.sharedMaterial.secondScrollSpeedX;},e$k._setMeshRenderSharedMaterialSecondScrollSpeedX=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.secondScrollSpeedX=C$99i[0]):C$99e.meshRender.material.secondScrollSpeedX=C$99i[0];},e$k._getMeshRenderSharedMaterialSecondScrollSpeedY=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.secondScrollSpeedY:0:C$99e.meshRender.sharedMaterial.secondScrollSpeedY;},e$k._setMeshRenderSharedMaterialSecondScrollSpeedY=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.secondScrollSpeedY=C$99i[0]):C$99e.meshRender.material.secondScrollSpeedY=C$99i[0];},e$k._getMeshRenderSharedMaterialAlpha=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.alpha:0:C$99e.meshRender.sharedMaterial.alpha;},e$k._setMeshRenderSharedMaterialAlpha=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.alpha=C$99i[0]):C$99e.meshRender.material.alpha=C$99i[0];},e$k._getMeshRenderSharedMaterialIntensity=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.intensity:0:C$99e.meshRender.sharedMaterial.intensity;},e$k._setMeshRenderSharedMaterialIntensity=function(C$99t,C$99e,C$99i){C$99t?(C$99t=C$99t.transform._entity)&&(C$99t.owner.meshRender.material.intensity=C$99i[0]):C$99e.meshRender.material.intensity=C$99i[0];},e$k._getMeshRenderSharedMaterialDetailTilingOffset=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.detailTilingOffset.elements:null:C$99e.meshRender.sharedMaterial.detailTilingOffset.elements;},e$k._setMeshRenderSharedMaterialDetailTilingOffset=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.meshRender.material).detailTilingOffset).elements=C$99i,C$99n.detailTilingOffset=C$99r):((C$99r=(C$99n=C$99e.meshRender.material).detailTilingOffset).elements=C$99i,C$99n.detailTilingOffset=C$99r);},e$k._getMeshRenderSharedMaterialDissolveTilingOffset=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.dissolveTilingOffset.elements:null:C$99e.meshRender.sharedMaterial.dissolveTilingOffset.elements;},e$k._setMeshRenderSharedMaterialDissolveTilingOffset=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.meshRender.material).dissolveTilingOffset).elements=C$99i,C$99n.dissolveTilingOffset=C$99r):((C$99r=(C$99n=C$99e.meshRender.material).dissolveTilingOffset).elements=C$99i,C$99n.dissolveTilingOffset=C$99r);},e$k._getMeshRenderSharedMaterialMaskTilingOffset=function(C$99t,C$99e){return C$99t?(C$99t=C$99t.transform._entity)?C$99t.owner.meshRender.sharedMaterial.maskTilingOffset.elements:null:C$99e.meshRender.sharedMaterial.maskTilingOffset.elements;},e$k._setMeshRenderSharedMaterialMaskTilingOffset=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99t?(C$99t=C$99t.transform._entity)&&((C$99r=(C$99n=C$99t.owner.meshRender.material).maskTilingOffset).elements=C$99i,C$99n.maskTilingOffset=C$99r):((C$99r=(C$99n=C$99e.meshRender.material).maskTilingOffset).elements=C$99i,C$99n.maskTilingOffset=C$99r);},e$k._propertyIDCounter=0,e$k._propertyIndexDic={},e$k._propertySetFuncs=[],e$k._propertyGetFuncs=[],e$k),C$99N=function(){function e$d(){this.startTime=NaN,this.inTangent=null,this.outTangent=null,this.data=null,this.duration=NaN,this.next=null;}return C$99r(e$d,"laya.d3.animation.Keyframe"),e$d;}(),C$99k=function(){function e$d(){this._cacheProperty=!1,this.path=null,this.componentType=null,this.propertyNameID=0,this.keyFrameWidth=0,this.defaultData=null,this.keyFrames=null;}return C$99r(e$d,"laya.d3.animation.KeyframeNode"),e$d;}(),C$99O=(function(){function e$d(){this._tempVector30=new C$99I(),this._tempVector31=new C$99I(),this._tempVector32=new C$99I(),this._a=new C$99I(),this._b=new C$99I(),this._c=new C$99I(),this._d=new C$99I();}C$99r(e$d,"laya.d3.core.glitter.SplineCurvePositionVelocity");var C$99t=e$d.prototype;C$99t.Init=function(C$99t,C$99e,C$99i,C$99n){C$99t.cloneTo(this._d),C$99e.cloneTo(this._c),C$99I.scale(C$99t,2,this._a),C$99I.scale(C$99i,2,this._tempVector30),C$99I.subtract(this._a,this._tempVector30,this._a),C$99I.add(this._a,C$99e,this._a),C$99I.add(this._a,C$99n,this._a),C$99I.scale(C$99i,3,this._b),C$99I.scale(C$99t,3,this._tempVector30),C$99I.subtract(this._b,this._tempVector30,this._b),C$99I.subtract(this._b,C$99n,this._b),C$99I.scale(C$99e,2,this._tempVector30),C$99I.subtract(this._b,this._tempVector30,this._b);},C$99t.Slerp=function(C$99t,C$99e){C$99I.scale(this._a,C$99t*C$99t*C$99t,this._tempVector30),C$99I.scale(this._b,C$99t*C$99t,this._tempVector31),C$99I.scale(this._c,C$99t,this._tempVector32),C$99I.add(this._tempVector30,this._tempVector31,C$99e),C$99I.add(C$99e,this._tempVector32,C$99e),C$99I.add(C$99e,this._d,C$99e);};}(),C$99r(e$Q,"laya.d3.core.HeightMap"),(C$99G=e$Q.prototype)._inBounds=function(C$99t,C$99e){return 0<=C$99t&&C$99t<this._h&&0<=C$99e&&C$99e<this._w;},C$99G.getHeight=function(C$99t,C$99e){return this._inBounds(C$99t,C$99e)?this._datas[C$99t][C$99e]:NaN;},C$99o(0,C$99G,"width",function(){return this._w;}),C$99o(0,C$99G,"height",function(){return this._h;}),C$99o(0,C$99G,"maxHeight",function(){return this._maxHeight;}),C$99o(0,C$99G,"minHeight",function(){return this._minHeight;}),e$Q.creatFromMesh=function(C$99t,C$99u,C$99c,C$99_){for(var C$99d=[],C$99f=[],C$99p=C$99t.getSubMeshCount(),C$99m=0;C$99m<C$99p;C$99m++){for(var C$99e=C$99t.getSubMesh(C$99m),C$99g=C$99e._getVertexBuffer(),C$99i=C$99g.getData(),C$99v=[],C$99n=0;C$99n<C$99i.length;C$99n+=C$99g.vertexDeclaration.vertexStride/4){var C$99$=new C$99I(C$99i[C$99n+0],C$99i[C$99n+1],C$99i[C$99n+2]);C$99v.push(C$99$);}C$99d.push(C$99v);C$99e=C$99e._getIndexBuffer();C$99f.push(C$99e.getData());}var C$99r=C$99t.boundingBox,C$99x=C$99r.min.x,C$99y=C$99r.min.z,C$99s=C$99r.max.x,C$99b=C$99r.max.z,C$99w=C$99r.min.y,C$99r=C$99r.max.y,C$99b=C$99b-C$99y,C$99T=C$99_.elements[0]=(C$99s-C$99x)/(C$99u-1),C$99S=C$99_.elements[1]=C$99b/(C$99c-1),C$99M=new e$Q(C$99u,C$99c,C$99w,C$99r),C$99a=e$Q._tempRay,C$99s=C$99a.direction.elements;C$99s[0]=0,C$99s[1]=-1,C$99s[2]=0;var C$99C=C$99r+.1;C$99a.origin.elements[1]=C$99C;for(var C$99o=0;C$99o<C$99c;C$99o++){var C$99A=C$99y+C$99o*C$99S;C$99M._datas[C$99o]=[];for(var C$99h=0;C$99h<C$99u;C$99h++){var C$99l=C$99a.origin.elements;C$99l[0]=C$99x+C$99h*C$99T,C$99l[2]=C$99A;C$99l=e$Q._getPosition(C$99a,C$99d,C$99f);C$99M._datas[C$99o][C$99h]=C$99l===Number.MAX_VALUE?NaN:C$99C-C$99l;}}return C$99M;},e$Q.createFromImage=function(C$99t,C$99e,C$99i){for(var C$99n=C$99t.width,C$99r=C$99t.height,C$99s=new e$Q(C$99n,C$99r,C$99e,C$99i),C$99u=(C$99i-C$99e)/254,C$99a=C$99t.getPixels(),C$99o=0,C$99h=0;C$99h<C$99r;C$99h++)for(var C$99c=C$99s._datas[C$99h]=[],C$99l=0;C$99l<C$99n;C$99l++){var C$99_=C$99a[C$99o++],C$99d=C$99a[C$99o++],C$99f=C$99a[C$99o++],C$99p=C$99a[C$99o++];C$99c[C$99l]=255==C$99_&&255==C$99d&&255==C$99f&&255==C$99p?NaN:(C$99_+C$99d+C$99f)/3*C$99u+C$99e;}return C$99s;},e$Q._getPosition=function(C$99t,C$99e,C$99i){for(var C$99n=Number.MAX_VALUE,C$99r=0;C$99r<C$99e.length;C$99r++)for(var C$99s=C$99e[C$99r],C$99a=C$99i[C$99r],C$99o=0;C$99o<C$99a.length;C$99o+=3){var C$99h=C$99s[C$99a[C$99o+0]],C$99l=C$99s[C$99a[C$99o+1]],C$99u=C$99s[C$99a[C$99o+2]],C$99h=C$99fe.rayIntersectsTriangle(C$99t,C$99h,C$99l,C$99u);!isNaN(C$99h)&&C$99h<C$99n&&(C$99n=C$99h);}return C$99n;},C$99s(e$Q,["_tempRay",function(){return this._tempRay=new C$99se(new C$99I(),new C$99I());}]),C$99r(e$W,"laya.d3.core.Layer"),(C$99G=e$W.prototype)._binarySearchIndex=function(){for(var C$99t,C$99e=0,C$99i=e$W._collsionTestList.length-1;C$99e<=C$99i;){C$99t=Math.floor((C$99e+C$99i)/2);var C$99n=e$W._collsionTestList[C$99t];if(C$99n==this._number)return C$99t;C$99n>this._number?C$99i=C$99t-1:C$99e=C$99t+1;}return C$99e;},C$99G._addCollider=function(C$99t){0===this._colliders.length&&e$W._collsionTestList.splice(this._binarySearchIndex(),0,this._number),C$99t._isRigidbody?(this._colliders.unshift(C$99t),this._nonRigidbodyOffset++):this._colliders.push(C$99t);},C$99G._removeCollider=function(C$99t){C$99t=this._colliders.indexOf(C$99t);C$99t<this._nonRigidbodyOffset&&this._nonRigidbodyOffset--,this._colliders.splice(C$99t,1),0===this._colliders.length&&e$W._collsionTestList.splice(e$W._collsionTestList.indexOf(this._number),1);},C$99o(0,C$99G,"number",function(){return this._number;}),C$99o(0,C$99G,"visible",function(){return this._visible;},function(C$99t){this._visible=C$99t,e$W._visibleLayers=C$99t?e$W._visibleLayers|this.mask:e$W._visibleLayers&~this.mask;}),C$99o(0,C$99G,"mask",function(){return this._mask;}),C$99o(1,e$W,"visibleLayers",function(){return e$W._visibleLayers;},function(C$99t){e$W._visibleLayers=C$99t;for(var C$99e=0,C$99i=e$W._layerList.length;C$99e<C$99i;C$99e++){var C$99n=e$W._layerList[C$99e];C$99n._visible=0!=(C$99n._mask&e$W._visibleLayers);}}),e$W.__init__=function(){e$W._layerList.length=31;for(var C$99t=0;C$99t<31;C$99t++){var C$99e=new e$W();e$W._layerList[C$99t]=C$99e,0===C$99t?(C$99e.name="Default Layer",C$99e.visible=!0):(C$99e.name="Layer-"+C$99t,C$99e.visible=!1),C$99e._number=C$99t,C$99e._mask=Math.pow(2,C$99t);}e$W.currentCreationLayer=e$W._layerList[0];},e$W.getLayerByNumber=function(C$99t){if(C$99t<0||30<C$99t)throw new Error("\u65e0\u6cd5\u8fd4\u56de\u6307\u5b9aLayer\uff0c\u8be5number\u8d85\u51fa\u8303\u56f4\uff01");return e$W._layerList[C$99t];},e$W.getLayerByName=function(C$99t){for(var C$99e=0;C$99e<31;C$99e++)if(e$W._layerList[C$99e].name===C$99t)return e$W._layerList[C$99e];throw new Error("\u65e0\u6cd5\u8fd4\u56de\u6307\u5b9aLayer,\u8be5name\u4e0d\u5b58\u5728");},e$W.isVisible=function(C$99t){return 0!=(C$99t&e$W._currentCameraCullingMask&e$W._visibleLayers);},e$W._layerList=[],e$W._visibleLayers=2147483647,e$W._collsionTestList=[],e$W._currentCameraCullingMask=2147483647,e$W.maxCount=31,e$W.currentCreationLayer=null,e$W),C$99V=(function(){function e$d(C$99t,C$99e,C$99i){this._time=NaN,this._minCount=0,this._maxCount=0,this._time=C$99t,this._minCount=C$99e,this._maxCount=C$99i;}C$99r(e$d,"laya.d3.core.particleShuriKen.module.Burst");var C$99t=e$d.prototype;C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.cloneTo=function(C$99t){C$99t._time=this._time,C$99t._minCount=this._minCount,C$99t._maxCount=this._maxCount;},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99o(0,C$99t,"time",function(){return this._time;}),C$99o(0,C$99t,"minCount",function(){return this._minCount;}),C$99o(0,C$99t,"maxCount",function(){return this._maxCount;});}(),function(){function e$d(C$99t){this._color=null,this.enbale=!1,this._color=C$99t;}C$99r(e$d,"laya.d3.core.particleShuriKen.module.ColorOverLifetime");var C$99t=e$d.prototype;C$99t.cloneTo=function(C$99t){this._color.cloneTo(C$99t._color),C$99t.enbale=this.enbale;},C$99t.clone=function(){var C$99t;switch(this._color.type){case 0:C$99t=C$99U.createByConstant(this._color.constant.clone());break;case 1:C$99t=C$99U.createByGradient(this._color.gradient.clone());break;case 2:C$99t=C$99U.createByRandomTwoConstant(this._color.constantMin.clone(),this._color.constantMax.clone());break;case 3:C$99t=C$99U.createByRandomTwoGradient(this._color.gradientMin.clone(),this._color.gradientMax.clone());}var C$99e=new this.constructor(C$99t);return C$99e.enbale=this.enbale,C$99e;},C$99o(0,C$99t,"color",function(){return this._color;});}(),function(){function e$d(){this._destroyed=!1,this._emissionRate=0,this._bursts=null,this.enbale=!1,this._destroyed=!1,this.emissionRate=10,this._bursts=[];}C$99r(e$d,"laya.d3.core.particleShuriKen.module.Emission");var C$99t=e$d.prototype;C$99y.imps(C$99t,{"laya.d3.core.IClone":!0,"laya.resource.IDestroy":!0}),C$99t._destroy=function(){this._bursts=null,this._destroyed=!0;},C$99t.getBurstsCount=function(){return this._bursts.length;},C$99t.getBurstByIndex=function(C$99t){return this._bursts[C$99t];},C$99t.addBurst=function(C$99t){var C$99e=this._bursts.length;if(0<C$99e)for(var C$99i=0;C$99i<C$99e;C$99i++)this._bursts[C$99i].time>C$99t.time&&this._bursts.splice(C$99i,0,C$99t);this._bursts.push(C$99t);},C$99t.removeBurst=function(C$99t){C$99t=this._bursts.indexOf(C$99t);-1!==C$99t&&this._bursts.splice(C$99t,1);},C$99t.removeBurstByIndex=function(C$99t){this._bursts.splice(C$99t,1);},C$99t.clearBurst=function(){this._bursts.length=0;},C$99t.cloneTo=function(C$99t){var C$99e=C$99t._bursts;C$99e.length=this._bursts.length;for(var C$99i=0,C$99n=this._bursts.length;C$99i<C$99n;C$99i++){var C$99r=C$99e[C$99i];C$99r?this._bursts[C$99i].cloneTo(C$99r):C$99e[C$99i]=this._bursts[C$99i].clone();}C$99t._emissionRate=this._emissionRate,C$99t.enbale=this.enbale;},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99o(0,C$99t,"destroyed",function(){return this._destroyed;}),C$99o(0,C$99t,"emissionRate",function(){return this._emissionRate;},function(C$99t){if(C$99t<0)throw new Error("ParticleBaseShape:emissionRate value must large or equal than 0.");this._emissionRate=C$99t;});}(),function(){function e$k(){this._type=0,this._constant=0,this._overTime=null,this._constantMin=0,this._constantMax=0,this._overTimeMin=null,this._overTimeMax=null;}C$99r(e$k,"laya.d3.core.particleShuriKen.module.FrameOverTime");var C$99t=e$k.prototype;return C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.cloneTo=function(C$99t){C$99t._type=this._type,C$99t._constant=this._constant,this._overTime.cloneTo(C$99t._overTime),C$99t._constantMin=this._constantMin,C$99t._constantMax=this._constantMax,this._overTimeMin.cloneTo(C$99t._overTimeMin),this._overTimeMax.cloneTo(C$99t._overTimeMax);},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99o(0,C$99t,"frameOverTimeData",function(){return this._overTime;}),C$99o(0,C$99t,"constant",function(){return this._constant;}),C$99o(0,C$99t,"type",function(){return this._type;}),C$99o(0,C$99t,"frameOverTimeDataMin",function(){return this._overTimeMin;}),C$99o(0,C$99t,"constantMin",function(){return this._constantMin;}),C$99o(0,C$99t,"frameOverTimeDataMax",function(){return this._overTimeMax;}),C$99o(0,C$99t,"constantMax",function(){return this._constantMax;}),e$k.createByConstant=function(C$99t){var C$99e=new e$k();return C$99e._type=0,C$99e._constant=C$99t,C$99e;},e$k.createByOverTime=function(C$99t){var C$99e=new e$k();return C$99e._type=1,C$99e._overTime=C$99t,C$99e;},e$k.createByRandomTwoConstant=function(C$99t,C$99e){var C$99i=new e$k();return C$99i._type=2,C$99i._constantMin=C$99t,C$99i._constantMax=C$99e,C$99i;},e$k.createByRandomTwoOverTime=function(C$99t,C$99e){var C$99i=new e$k();return C$99i._type=3,C$99i._overTimeMin=C$99t,C$99i._overTimeMax=C$99e,C$99i;},e$k;}()),C$99F=(C$99r(e$I,"laya.d3.core.particleShuriKen.module.GradientAngularVelocity"),C$99G=e$I.prototype,C$99y.imps(C$99G,{"laya.d3.core.IClone":!0}),C$99G.cloneTo=function(C$99t){C$99t._type=this._type,C$99t._separateAxes=this._separateAxes,C$99t._constant=this._constant,this._constantSeparate.cloneTo(C$99t._constantSeparate),this._gradient.cloneTo(C$99t._gradient),this._gradientX.cloneTo(C$99t._gradientX),this._gradientY.cloneTo(C$99t._gradientY),this._gradientZ.cloneTo(C$99t._gradientZ),C$99t._constantMin=this._constantMin,C$99t._constantMax=this._constantMax,this._constantMinSeparate.cloneTo(C$99t._constantMinSeparate),this._constantMaxSeparate.cloneTo(C$99t._constantMaxSeparate),this._gradientMin.cloneTo(C$99t._gradientMin),this._gradientMax.cloneTo(C$99t._gradientMax),this._gradientXMin.cloneTo(C$99t._gradientXMin),this._gradientXMax.cloneTo(C$99t._gradientXMax),this._gradientYMin.cloneTo(C$99t._gradientYMin),this._gradientYMax.cloneTo(C$99t._gradientYMax),this._gradientZMin.cloneTo(C$99t._gradientZMin),this._gradientZMax.cloneTo(C$99t._gradientZMax);},C$99G.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99o(0,C$99G,"gradientZ",function(){return this._gradientZ;}),C$99o(0,C$99G,"constant",function(){return this._constant;}),C$99o(0,C$99G,"gradient",function(){return this._gradient;}),C$99o(0,C$99G,"separateAxes",function(){return this._separateAxes;}),C$99o(0,C$99G,"type",function(){return this._type;}),C$99o(0,C$99G,"constantSeparate",function(){return this._constantSeparate;}),C$99o(0,C$99G,"gradientX",function(){return this._gradientX;}),C$99o(0,C$99G,"gradientY",function(){return this._gradientY;}),C$99o(0,C$99G,"gradientW",function(){return this._gradientW;}),C$99o(0,C$99G,"gradientMin",function(){return this._gradientMin;}),C$99o(0,C$99G,"constantMin",function(){return this._constantMin;}),C$99o(0,C$99G,"gradientMax",function(){return this._gradientMax;}),C$99o(0,C$99G,"constantMax",function(){return this._constantMax;}),C$99o(0,C$99G,"gradientWMin",function(){return this._gradientWMin;}),C$99o(0,C$99G,"constantMinSeparate",function(){return this._constantMinSeparate;}),C$99o(0,C$99G,"constantMaxSeparate",function(){return this._constantMaxSeparate;}),C$99o(0,C$99G,"gradientXMin",function(){return this._gradientXMin;}),C$99o(0,C$99G,"gradientXMax",function(){return this._gradientXMax;}),C$99o(0,C$99G,"gradientWMax",function(){return this._gradientWMax;}),C$99o(0,C$99G,"gradientYMin",function(){return this._gradientYMin;}),C$99o(0,C$99G,"gradientYMax",function(){return this._gradientYMax;}),C$99o(0,C$99G,"gradientZMin",function(){return this._gradientZMin;}),C$99o(0,C$99G,"gradientZMax",function(){return this._gradientZMax;}),e$I.createByConstant=function(C$99t){var C$99e=new e$I();return C$99e._type=0,C$99e._separateAxes=!1,C$99e._constant=C$99t,C$99e;},e$I.createByConstantSeparate=function(C$99t){var C$99e=new e$I();return C$99e._type=0,C$99e._separateAxes=!0,C$99e._constantSeparate=C$99t,C$99e;},e$I.createByGradient=function(C$99t){var C$99e=new e$I();return C$99e._type=1,C$99e._separateAxes=!1,C$99e._gradient=C$99t,C$99e;},e$I.createByGradientSeparate=function(C$99t,C$99e,C$99i,C$99n){var C$99r=new e$I();return C$99r._type=1,C$99r._separateAxes=!0,C$99r._gradientX=C$99t,C$99r._gradientY=C$99e,C$99r._gradientZ=C$99i,C$99r._gradientW=C$99n,C$99r;},e$I.createByRandomTwoConstant=function(C$99t,C$99e){var C$99i=new e$I();return C$99i._type=2,C$99i._separateAxes=!1,C$99i._constantMin=C$99t,C$99i._constantMax=C$99e,C$99i;},e$I.createByRandomTwoConstantSeparate=function(C$99t,C$99e){var C$99i=new e$I();return C$99i._type=2,C$99i._separateAxes=!0,C$99i._constantMinSeparate=C$99t,C$99i._constantMaxSeparate=C$99e,C$99i;},e$I.createByRandomTwoGradient=function(C$99t,C$99e){var C$99i=new e$I();return C$99i._type=3,C$99i._separateAxes=!1,C$99i._gradientMin=C$99t,C$99i._gradientMax=C$99e,C$99i;},e$I.createByRandomTwoGradientSeparate=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){var C$99h=new e$I();return C$99h._type=3,C$99h._separateAxes=!0,C$99h._gradientXMin=C$99t,C$99h._gradientXMax=C$99e,C$99h._gradientYMin=C$99i,C$99h._gradientYMax=C$99n,C$99h._gradientZMin=C$99r,C$99h._gradientZMax=C$99s,C$99h._gradientWMin=C$99a,C$99h._gradientWMax=C$99o,C$99h;},e$I),C$99U=function(){function e$k(){this._type=0,this._constant=null,this._constantMin=null,this._constantMax=null,this._gradient=null,this._gradientMin=null,this._gradientMax=null;}C$99r(e$k,"laya.d3.core.particleShuriKen.module.GradientColor");var C$99t=e$k.prototype;return C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.cloneTo=function(C$99t){C$99t._type=this._type,this._constant.cloneTo(C$99t._constant),this._constantMin.cloneTo(C$99t._constantMin),this._constantMax.cloneTo(C$99t._constantMax),this._gradient.cloneTo(C$99t._gradient),this._gradientMin.cloneTo(C$99t._gradientMin),this._gradientMax.cloneTo(C$99t._gradientMax);},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99o(0,C$99t,"gradient",function(){return this._gradient;}),C$99o(0,C$99t,"constant",function(){return this._constant;}),C$99o(0,C$99t,"type",function(){return this._type;}),C$99o(0,C$99t,"gradientMin",function(){return this._gradientMin;}),C$99o(0,C$99t,"constantMin",function(){return this._constantMin;}),C$99o(0,C$99t,"gradientMax",function(){return this._gradientMax;}),C$99o(0,C$99t,"constantMax",function(){return this._constantMax;}),e$k.createByConstant=function(C$99t){var C$99e=new e$k();return C$99e._type=0,C$99e._constant=C$99t,C$99e;},e$k.createByGradient=function(C$99t){var C$99e=new e$k();return C$99e._type=1,C$99e._gradient=C$99t,C$99e;},e$k.createByRandomTwoConstant=function(C$99t,C$99e){var C$99i=new e$k();return C$99i._type=2,C$99i._constantMin=C$99t,C$99i._constantMax=C$99e,C$99i;},e$k.createByRandomTwoGradient=function(C$99t,C$99e){var C$99i=new e$k();return C$99i._type=3,C$99i._gradientMin=C$99t,C$99i._gradientMax=C$99e,C$99i;},e$k;}(),C$99W=(function(){function e$d(){this._alphaCurrentLength=0,this._rgbCurrentLength=0,this._alphaElements=null,this._rgbElements=null,this._alphaElements=new Float32Array(8),this._rgbElements=new Float32Array(16);}C$99r(e$d,"laya.d3.core.particleShuriKen.module.GradientDataColor");var C$99t=e$d.prototype;C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.addAlpha=function(C$99t,C$99e){this._alphaCurrentLength<8&&(6===this._alphaCurrentLength&&1!==C$99t&&(C$99t=1),this._alphaElements[this._alphaCurrentLength++]=C$99t,this._alphaElements[this._alphaCurrentLength++]=C$99e);},C$99t.addRGB=function(C$99t,C$99e){this._rgbCurrentLength<16&&(12===this._rgbCurrentLength&&1!==C$99t&&(C$99t=1),this._rgbElements[this._rgbCurrentLength++]=C$99t,this._rgbElements[this._rgbCurrentLength++]=C$99e.x,this._rgbElements[this._rgbCurrentLength++]=C$99e.y,this._rgbElements[this._rgbCurrentLength++]=C$99e.z);},C$99t.cloneTo=function(C$99t){var C$99e=0,C$99i=0;C$99t._alphaCurrentLength=this._alphaCurrentLength;var C$99n=C$99t._alphaElements;for(C$99n.length=this._alphaElements.length,C$99e=0,C$99i=this._alphaElements.length;C$99e<C$99i;C$99e++)C$99n[C$99e]=this._alphaElements[C$99e];C$99t._rgbCurrentLength=this._rgbCurrentLength;var C$99r=C$99t._rgbElements;for(C$99r.length=this._rgbElements.length,C$99e=0,C$99i=this._rgbElements.length;C$99e<C$99i;C$99e++)C$99r[C$99e]=this._rgbElements[C$99e];},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99o(0,C$99t,"alphaGradientCount",function(){return this._alphaCurrentLength/2;}),C$99o(0,C$99t,"rgbGradientCount",function(){return this._rgbCurrentLength/4;});}(),function(){function e$d(){this._currentLength=0,this._elements=null,this._elements=new Float32Array(8);}C$99r(e$d,"laya.d3.core.particleShuriKen.module.GradientDataInt");var C$99t=e$d.prototype;C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.add=function(C$99t,C$99e){this._currentLength<8?(6===this._currentLength&&1!==C$99t&&(C$99t=1,console.log("Warning:the forth key is  be force set to 1.")),this._elements[this._currentLength++]=C$99t,this._elements[this._currentLength++]=C$99e):console.log("Warning:data count must lessEqual than 4");},C$99t.cloneTo=function(C$99t){C$99t._currentLength=this._currentLength;var C$99e=C$99t._elements;C$99e.length=this._elements.length;for(var C$99i=0,C$99n=this._elements.length;C$99i<C$99n;C$99i++)C$99e[C$99i]=this._elements[C$99i];},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99o(0,C$99t,"gradientCount",function(){return this._currentLength/2;});}(),function(){function e$d(){this._currentLength=0,this._elements=null,this._elements=new Float32Array(8);}C$99r(e$d,"laya.d3.core.particleShuriKen.module.GradientDataNumber");var C$99t=e$d.prototype;C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.add=function(C$99t,C$99e){this._currentLength<8&&(6===this._currentLength&&1!==C$99t&&(C$99t=1),this._elements[this._currentLength++]=C$99t,this._elements[this._currentLength++]=C$99e);},C$99t.getKeyByIndex=function(C$99t){return this._elements[2*C$99t];},C$99t.getValueByIndex=function(C$99t){return this._elements[2*C$99t+1];},C$99t.getAverageValue=function(){for(var C$99t=0,C$99e=this._currentLength-2;C$99t<C$99e;C$99t+=2)this._elements[C$99t+1],this._elements[C$99t+3],this._elements[C$99t+2],this._elements[C$99t];return 0;},C$99t.cloneTo=function(C$99t){C$99t._currentLength=this._currentLength;var C$99e=C$99t._elements;C$99e.length=this._elements.length;for(var C$99i=0,C$99n=this._elements.length;C$99i<C$99n;C$99i++)C$99e[C$99i]=this._elements[C$99i];},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99o(0,C$99t,"gradientCount",function(){return this._currentLength/2;});}(),function(){function e$d(){this._currentLength=0,this._elements=null,this._elements=new Float32Array(12);}C$99r(e$d,"laya.d3.core.particleShuriKen.module.GradientDataVector2");var C$99t=e$d.prototype;C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.add=function(C$99t,C$99e){this._currentLength<8&&(6===this._currentLength&&1!==C$99t&&(C$99t=1),this._elements[this._currentLength++]=C$99t,this._elements[this._currentLength++]=C$99e.x,this._elements[this._currentLength++]=C$99e.y);},C$99t.cloneTo=function(C$99t){C$99t._currentLength=this._currentLength;var C$99e=C$99t._elements;C$99e.length=this._elements.length;for(var C$99i=0,C$99n=this._elements.length;C$99i<C$99n;C$99i++)C$99e[C$99i]=this._elements[C$99i];},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99o(0,C$99t,"gradientCount",function(){return this._currentLength/3;});}(),C$99r(e$B,"laya.d3.core.particleShuriKen.module.GradientSize"),C$99G=e$B.prototype,C$99y.imps(C$99G,{"laya.d3.core.IClone":!0}),C$99G.getMaxSizeInGradient=function(){var C$99t=0,C$99e=0,C$99i=-Number.MAX_VALUE;switch(this._type){case 0:if(this._separateAxes){for(C$99t=0,C$99e=this._gradientX.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientX.getValueByIndex(C$99t));for(C$99t=0,C$99e=this._gradientY.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientY.getValueByIndex(C$99t));}else for(C$99t=0,C$99e=this._gradient.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradient.getValueByIndex(C$99t));break;case 1:C$99i=this._separateAxes?(C$99i=Math.max(this._constantMinSeparate.x,this._constantMaxSeparate.x),C$99i=Math.max(C$99i,this._constantMinSeparate.y),Math.max(C$99i,this._constantMaxSeparate.y)):Math.max(this._constantMin,this._constantMax);break;case 2:if(this._separateAxes){for(C$99t=0,C$99e=this._gradientXMin.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientXMin.getValueByIndex(C$99t));for(C$99t=0,C$99e=this._gradientXMax.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientXMax.getValueByIndex(C$99t));for(C$99t=0,C$99e=this._gradientYMin.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientYMin.getValueByIndex(C$99t));for(C$99t=0,C$99e=this._gradientZMax.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientZMax.getValueByIndex(C$99t));}else{for(C$99t=0,C$99e=this._gradientMin.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientMin.getValueByIndex(C$99t));for(C$99t=0,C$99e=this._gradientMax.gradientCount;C$99t<C$99e;C$99t++)C$99i=Math.max(C$99i,this._gradientMax.getValueByIndex(C$99t));}}return C$99i;},C$99G.cloneTo=function(C$99t){C$99t._type=this._type,C$99t._separateAxes=this._separateAxes,this._gradient.cloneTo(C$99t._gradient),this._gradientX.cloneTo(C$99t._gradientX),this._gradientY.cloneTo(C$99t._gradientY),this._gradientZ.cloneTo(C$99t._gradientZ),C$99t._constantMin=this._constantMin,C$99t._constantMax=this._constantMax,this._constantMinSeparate.cloneTo(C$99t._constantMinSeparate),this._constantMaxSeparate.cloneTo(C$99t._constantMaxSeparate),this._gradientMin.cloneTo(C$99t._gradientMin),this._gradientMax.cloneTo(C$99t._gradientMax),this._gradientXMin.cloneTo(C$99t._gradientXMin),this._gradientXMax.cloneTo(C$99t._gradientXMax),this._gradientYMin.cloneTo(C$99t._gradientYMin),this._gradientYMax.cloneTo(C$99t._gradientYMax),this._gradientZMin.cloneTo(C$99t._gradientZMin),this._gradientZMax.cloneTo(C$99t._gradientZMax);},C$99G.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99o(0,C$99G,"gradientZ",function(){return this._gradientZ;}),C$99o(0,C$99G,"gradient",function(){return this._gradient;}),C$99o(0,C$99G,"separateAxes",function(){return this._separateAxes;}),C$99o(0,C$99G,"type",function(){return this._type;}),C$99o(0,C$99G,"gradientMin",function(){return this._gradientMin;}),C$99o(0,C$99G,"constantMin",function(){return this._constantMin;}),C$99o(0,C$99G,"gradientX",function(){return this._gradientX;}),C$99o(0,C$99G,"gradientY",function(){return this._gradientY;}),C$99o(0,C$99G,"gradientMax",function(){return this._gradientMax;}),C$99o(0,C$99G,"constantMax",function(){return this._constantMax;}),C$99o(0,C$99G,"constantMinSeparate",function(){return this._constantMinSeparate;}),C$99o(0,C$99G,"constantMaxSeparate",function(){return this._constantMaxSeparate;}),C$99o(0,C$99G,"gradientXMin",function(){return this._gradientXMin;}),C$99o(0,C$99G,"gradientXMax",function(){return this._gradientXMax;}),C$99o(0,C$99G,"gradientYMin",function(){return this._gradientYMin;}),C$99o(0,C$99G,"gradientYMax",function(){return this._gradientYMax;}),C$99o(0,C$99G,"gradientZMin",function(){return this._gradientZMin;}),C$99o(0,C$99G,"gradientZMax",function(){return this._gradientZMax;}),e$B.createByGradient=function(C$99t){var C$99e=new e$B();return C$99e._type=0,C$99e._separateAxes=!1,C$99e._gradient=C$99t,C$99e;},e$B.createByGradientSeparate=function(C$99t,C$99e,C$99i){var C$99n=new e$B();return C$99n._type=0,C$99n._separateAxes=!0,C$99n._gradientX=C$99t,C$99n._gradientY=C$99e,C$99n._gradientZ=C$99i,C$99n;},e$B.createByRandomTwoConstant=function(C$99t,C$99e){var C$99i=new e$B();return C$99i._type=1,C$99i._separateAxes=!1,C$99i._constantMin=C$99t,C$99i._constantMax=C$99e,C$99i;},e$B.createByRandomTwoConstantSeparate=function(C$99t,C$99e){var C$99i=new e$B();return C$99i._type=1,C$99i._separateAxes=!0,C$99i._constantMinSeparate=C$99t,C$99i._constantMaxSeparate=C$99e,C$99i;},e$B.createByRandomTwoGradient=function(C$99t,C$99e){var C$99i=new e$B();return C$99i._type=2,C$99i._separateAxes=!1,C$99i._gradientMin=C$99t,C$99i._gradientMax=C$99e,C$99i;},e$B.createByRandomTwoGradientSeparate=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=new e$B();return C$99a._type=2,C$99a._separateAxes=!0,C$99a._gradientXMin=C$99t,C$99a._gradientXMax=C$99e,C$99a._gradientYMin=C$99i,C$99a._gradientYMax=C$99n,C$99a._gradientZMin=C$99r,C$99a._gradientZMax=C$99s,C$99a;},e$B),C$99H=function(){function e$B(){this._type=0,this._constant=null,this._gradientX=null,this._gradientY=null,this._gradientZ=null,this._constantMin=null,this._constantMax=null,this._gradientXMin=null,this._gradientXMax=null,this._gradientYMin=null,this._gradientYMax=null,this._gradientZMin=null,this._gradientZMax=null;}C$99r(e$B,"laya.d3.core.particleShuriKen.module.GradientVelocity");var C$99t=e$B.prototype;return C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.cloneTo=function(C$99t){C$99t._type=this._type,this._constant.cloneTo(C$99t._constant),this._gradientX.cloneTo(C$99t._gradientX),this._gradientY.cloneTo(C$99t._gradientY),this._gradientZ.cloneTo(C$99t._gradientZ),this._constantMin.cloneTo(C$99t._constantMin),this._constantMax.cloneTo(C$99t._constantMax),this._gradientXMin.cloneTo(C$99t._gradientXMin),this._gradientXMax.cloneTo(C$99t._gradientXMax),this._gradientYMin.cloneTo(C$99t._gradientYMin),this._gradientYMax.cloneTo(C$99t._gradientYMax),this._gradientZMin.cloneTo(C$99t._gradientZMin),this._gradientZMax.cloneTo(C$99t._gradientZMax);},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99o(0,C$99t,"gradientZ",function(){return this._gradientZ;}),C$99o(0,C$99t,"constant",function(){return this._constant;}),C$99o(0,C$99t,"type",function(){return this._type;}),C$99o(0,C$99t,"gradientXMax",function(){return this._gradientXMax;}),C$99o(0,C$99t,"constantMin",function(){return this._constantMin;}),C$99o(0,C$99t,"gradientX",function(){return this._gradientX;}),C$99o(0,C$99t,"gradientY",function(){return this._gradientY;}),C$99o(0,C$99t,"gradientXMin",function(){return this._gradientXMin;}),C$99o(0,C$99t,"constantMax",function(){return this._constantMax;}),C$99o(0,C$99t,"gradientYMin",function(){return this._gradientYMin;}),C$99o(0,C$99t,"gradientYMax",function(){return this._gradientYMax;}),C$99o(0,C$99t,"gradientZMin",function(){return this._gradientZMin;}),C$99o(0,C$99t,"gradientZMax",function(){return this._gradientZMax;}),e$B.createByConstant=function(C$99t){var C$99e=new e$B();return C$99e._type=0,C$99e._constant=C$99t,C$99e;},e$B.createByGradient=function(C$99t,C$99e,C$99i){var C$99n=new e$B();return C$99n._type=1,C$99n._gradientX=C$99t,C$99n._gradientY=C$99e,C$99n._gradientZ=C$99i,C$99n;},e$B.createByRandomTwoConstant=function(C$99t,C$99e){var C$99i=new e$B();return C$99i._type=2,C$99i._constantMin=C$99t,C$99i._constantMax=C$99e,C$99i;},e$B.createByRandomTwoGradient=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=new e$B();return C$99a._type=3,C$99a._gradientXMin=C$99t,C$99a._gradientXMax=C$99e,C$99a._gradientYMin=C$99i,C$99a._gradientYMax=C$99n,C$99a._gradientZMin=C$99r,C$99a._gradientZMax=C$99s,C$99a;},e$B;}(),C$99G=(function(){function e$d(C$99t){this._angularVelocity=null,this.enbale=!1,this._angularVelocity=C$99t;}C$99r(e$d,"laya.d3.core.particleShuriKen.module.RotationOverLifetime");var C$99t=e$d.prototype;C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.cloneTo=function(C$99t){this._angularVelocity.cloneTo(C$99t._angularVelocity),C$99t.enbale=this.enbale;},C$99t.clone=function(){var C$99t;switch(this._angularVelocity.type){case 0:C$99t=this._angularVelocity.separateAxes?C$99F.createByConstantSeparate(this._angularVelocity.constantSeparate.clone()):C$99F.createByConstant(this._angularVelocity.constant);break;case 1:C$99t=this._angularVelocity.separateAxes?C$99F.createByGradientSeparate(this._angularVelocity.gradientX.clone(),this._angularVelocity.gradientY.clone(),this._angularVelocity.gradientZ.clone(),this._angularVelocity.gradientW.clone()):C$99F.createByGradient(this._angularVelocity.gradient.clone());break;case 2:C$99t=this._angularVelocity.separateAxes?C$99F.createByRandomTwoConstantSeparate(this._angularVelocity.constantMinSeparate.clone(),this._angularVelocity.constantMaxSeparate.clone()):C$99F.createByRandomTwoConstant(this._angularVelocity.constantMin,this._angularVelocity.constantMax);break;case 3:C$99t=this._angularVelocity.separateAxes?C$99F.createByRandomTwoGradientSeparate(this._angularVelocity.gradientXMin.clone(),this._angularVelocity.gradientYMin.clone(),this._angularVelocity.gradientZMin.clone(),this._angularVelocity.gradientWMin.clone(),this._angularVelocity.gradientXMax.clone(),this._angularVelocity.gradientYMax.clone(),this._angularVelocity.gradientZMax.clone(),this._angularVelocity.gradientWMax.clone()):C$99F.createByRandomTwoGradient(this._angularVelocity.gradientMin.clone(),this._angularVelocity.gradientMax.clone());}var C$99e=new this.constructor(C$99t);return C$99e.enbale=this.enbale,C$99e;},C$99o(0,C$99t,"angularVelocity",function(){return this._angularVelocity;});}(),function(){function e$d(){this.enable=!1,this.randomDirection=!1;}C$99r(e$d,"laya.d3.core.particleShuriKen.module.shape.BaseShape");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t._getShapeBoundBox=function(C$99t){throw new Error("BaseShape: must override it.");},C$99t._getSpeedBoundBox=function(C$99t){throw new Error("BaseShape: must override it.");},C$99t.generatePositionAndDirection=function(C$99t,C$99e,C$99i,C$99n){throw new Error("BaseShape: must override it.");},C$99t._calculateProceduralBounds=function(C$99t,C$99e,C$99i){this._getShapeBoundBox(C$99t);var C$99n=C$99t.min,C$99r=C$99t.max;C$99I.multiply(C$99n,C$99e,C$99n),C$99I.multiply(C$99r,C$99e,C$99r);C$99n=new C$99qt(new C$99I(),new C$99I());this.randomDirection?(C$99n.min=new C$99I(-1,-1,-1),C$99n.max=new C$99I(1,1,1)):this._getSpeedBoundBox(C$99n);C$99e=new C$99qt(new C$99I(),new C$99I()),C$99r=C$99e.min,C$99e=C$99e.max;C$99I.scale(C$99n.min,C$99i.y,C$99r),C$99I.scale(C$99n.max,C$99i.y,C$99e),C$99I.add(C$99t.min,C$99r,C$99r),C$99I.add(C$99t.max,C$99e,C$99e),C$99I.min(C$99t.min,C$99r,C$99t.min),C$99I.max(C$99t.max,C$99r,C$99t.max);var C$99s=new C$99qt(new C$99I(),new C$99I()),C$99a=C$99s.min,C$99o=C$99s.max;C$99I.scale(C$99n.min,C$99i.x,C$99a),C$99I.scale(C$99n.max,C$99i.x,C$99o),C$99I.min(C$99s.min,C$99o,C$99r),C$99I.max(C$99s.min,C$99o,C$99e),C$99I.min(C$99t.min,C$99r,C$99t.min),C$99I.max(C$99t.max,C$99r,C$99t.max);},C$99t.cloneTo=function(C$99t){C$99t.enable=this.enable;},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},e$d;}()),C$99z=(C$99r(e$i,"laya.d3.core.particleShuriKen.module.shape.ShapeUtils"),e$i._randomPointUnitArcCircle=function(C$99t,C$99e,C$99i){C$99e=C$99e.elements;C$99i=C$99i?C$99i.getFloat()*C$99t:Math.random()*C$99t,C$99e[0]=Math.cos(C$99i),C$99e[1]=Math.sin(C$99i);},e$i._randomPointInsideUnitArcCircle=function(C$99t,C$99e,C$99i){var C$99n=C$99e.elements;e$i._randomPointUnitArcCircle(C$99t,C$99e,C$99i);C$99t=C$99i?Math.pow(C$99i.getFloat(),.5):Math.pow(Math.random(),.5),C$99n[0]=C$99n[0]*C$99t,C$99n[1]=C$99n[1]*C$99t;},e$i._randomPointUnitCircle=function(C$99t,C$99e){C$99t=C$99t.elements;C$99e=C$99e?C$99e.getFloat()*Math.PI*2:Math.random()*Math.PI*2,C$99t[0]=Math.cos(C$99e),C$99t[1]=Math.sin(C$99e);},e$i._randomPointInsideUnitCircle=function(C$99t,C$99e){var C$99i=C$99t.elements;e$i._randomPointUnitCircle(C$99t);C$99t=C$99e?Math.pow(C$99e.getFloat(),.5):Math.pow(Math.random(),.5),C$99i[0]=C$99i[0]*C$99t,C$99i[1]=C$99i[1]*C$99t;},e$i._randomPointUnitSphere=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99i=NaN;C$99e=C$99e?(C$99i=C$99t[2]=2*C$99e.getFloat()-1,C$99e.getFloat()*Math.PI*2):(C$99i=C$99t[2]=2*Math.random()-1,Math.random()*Math.PI*2);C$99i=Math.sqrt(1-C$99i*C$99i);C$99t[0]=C$99i*Math.cos(C$99e),C$99t[1]=C$99i*Math.sin(C$99e);},e$i._randomPointInsideUnitSphere=function(C$99t,C$99e){var C$99i=C$99t.elements;e$i._randomPointUnitSphere(C$99t);C$99t=C$99e?Math.pow(C$99e.getFloat(),1/3):Math.pow(Math.random(),1/3),C$99i[0]=C$99i[0]*C$99t,C$99i[1]=C$99i[1]*C$99t,C$99i[2]=C$99i[2]*C$99t;},e$i._randomPointInsideHalfUnitBox=function(C$99t,C$99e){C$99t=C$99t.elements;C$99e?(C$99t[0]=C$99e.getFloat()-.5,C$99t[1]=C$99e.getFloat()-.5,C$99t[2]=C$99e.getFloat()-.5):(C$99t[0]=Math.random()-.5,C$99t[1]=Math.random()-.5,C$99t[2]=Math.random()-.5);},e$i),C$99Y=(function(){function e$d(C$99t){this._size=null,this.enbale=!1,this._size=C$99t;}C$99r(e$d,"laya.d3.core.particleShuriKen.module.SizeOverLifetime");var C$99t=e$d.prototype;C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.cloneTo=function(C$99t){this._size.cloneTo(C$99t._size),C$99t.enbale=this.enbale;},C$99t.clone=function(){var C$99t;switch(this._size.type){case 0:C$99t=this._size.separateAxes?C$99W.createByGradientSeparate(this._size.gradientX.clone(),this._size.gradientY.clone(),this._size.gradientZ.clone()):C$99W.createByGradient(this._size.gradient.clone());break;case 1:C$99t=this._size.separateAxes?C$99W.createByRandomTwoConstantSeparate(this._size.constantMinSeparate.clone(),this._size.constantMaxSeparate.clone()):C$99W.createByRandomTwoConstant(this._size.constantMin,this._size.constantMax);break;case 2:C$99t=this._size.separateAxes?C$99W.createByRandomTwoGradientSeparate(this._size.gradientXMin.clone(),this._size.gradientYMin.clone(),this._size.gradientZMin.clone(),this._size.gradientXMax.clone(),this._size.gradientYMax.clone(),this._size.gradientZMax.clone()):C$99W.createByRandomTwoGradient(this._size.gradientMin.clone(),this._size.gradientMax.clone());}var C$99e=new this.constructor(C$99t);return C$99e.enbale=this.enbale,C$99e;},C$99o(0,C$99t,"size",function(){return this._size;});}(),function(){function e$k(){this._type=0,this._constant=NaN,this._constantMin=NaN,this._constantMax=NaN;}C$99r(e$k,"laya.d3.core.particleShuriKen.module.StartFrame");var C$99t=e$k.prototype;return C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.cloneTo=function(C$99t){C$99t._type=this._type,C$99t._constant=this._constant,C$99t._constantMin=this._constantMin,C$99t._constantMax=this._constantMax;},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99o(0,C$99t,"constant",function(){return this._constant;}),C$99o(0,C$99t,"type",function(){return this._type;}),C$99o(0,C$99t,"constantMin",function(){return this._constantMin;}),C$99o(0,C$99t,"constantMax",function(){return this._constantMax;}),e$k.createByConstant=function(C$99t){var C$99e=new e$k();return C$99e._type=0,C$99e._constant=C$99t,C$99e;},e$k.createByRandomTwoConstant=function(C$99t,C$99e){var C$99i=new e$k();return C$99i._type=1,C$99i._constantMin=C$99t,C$99i._constantMax=C$99e,C$99i;},e$k;}()),C$99X=(function(){function e$d(C$99t,C$99e){this._frame=null,this._startFrame=null,this.tiles=null,this.type=0,this.randomRow=!1,this.rowIndex=0,this.cycles=0,this.enableUVChannels=0,this.enable=!1,this.tiles=new C$99ae(1,1),this.type=0,this.randomRow=!0,this.rowIndex=0,this.cycles=1,this.enableUVChannels=1,this._frame=C$99t,this._startFrame=C$99e;}C$99r(e$d,"laya.d3.core.particleShuriKen.module.TextureSheetAnimation");var C$99t=e$d.prototype;C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.cloneTo=function(C$99t){this.tiles.cloneTo(C$99t.tiles),C$99t.type=this.type,C$99t.randomRow=this.randomRow,this._frame.cloneTo(C$99t._frame),this._startFrame.cloneTo(C$99t._startFrame),C$99t.cycles=this.cycles,C$99t.enableUVChannels=this.enableUVChannels,C$99t.enable=this.enable;},C$99t.clone=function(){var C$99t,C$99e;switch(this._frame.type){case 0:C$99t=C$99V.createByConstant(this._frame.constant);break;case 1:C$99t=C$99V.createByOverTime(this._frame.frameOverTimeData.clone());break;case 2:C$99t=C$99V.createByRandomTwoConstant(this._frame.constantMin,this._frame.constantMax);break;case 3:C$99t=C$99V.createByRandomTwoOverTime(this._frame.frameOverTimeDataMin.clone(),this._frame.frameOverTimeDataMax.clone());}switch(this._startFrame.type){case 0:C$99e=C$99Y.createByConstant(this._startFrame.constant);break;case 1:C$99e=C$99Y.createByRandomTwoConstant(this._startFrame.constantMin,this._startFrame.constantMax);}var C$99i=new this.constructor(C$99t,C$99e);return this.tiles.cloneTo(C$99i.tiles),C$99i.type=this.type,C$99i.randomRow=this.randomRow,C$99i.cycles=this.cycles,C$99i.enableUVChannels=this.enableUVChannels,C$99i.enable=this.enable,C$99i;},C$99o(0,C$99t,"frame",function(){return this._frame;}),C$99o(0,C$99t,"startFrame",function(){return this._startFrame;});}(),function(){function e$d(C$99t){this._velocity=null,this.enbale=!1,this.space=0,this._velocity=C$99t;}C$99r(e$d,"laya.d3.core.particleShuriKen.module.VelocityOverLifetime");var C$99t=e$d.prototype;C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.cloneTo=function(C$99t){this._velocity.cloneTo(C$99t._velocity),C$99t.enbale=this.enbale,C$99t.space=this.space;},C$99t.clone=function(){var C$99t;switch(this._velocity.type){case 0:C$99t=C$99H.createByConstant(this._velocity.constant.clone());break;case 1:C$99t=C$99H.createByGradient(this._velocity.gradientX.clone(),this._velocity.gradientY.clone(),this._velocity.gradientZ.clone());break;case 2:C$99t=C$99H.createByRandomTwoConstant(this._velocity.constantMin.clone(),this._velocity.constantMax.clone());break;case 3:C$99t=C$99H.createByRandomTwoGradient(this._velocity.gradientXMin.clone(),this._velocity.gradientYMin.clone(),this._velocity.gradientZMin.clone(),this._velocity.gradientXMax.clone(),this._velocity.gradientYMax.clone(),this._velocity.gradientZMax.clone());}var C$99e=new this.constructor(C$99t);return C$99e.enbale=this.enbale,C$99e.space=this.space,C$99e;},C$99o(0,C$99t,"velocity",function(){return this._velocity;});}(),function(){function e$d(){this._tempInt0=0,this._tempInt1=0,this._tempUint0=0,this._tempUint1=0,this._tempUint2=0,this._tempUint3=0,this._tempUint4=0,this._tempUint5=0,this._tempUint6=0,this._tempUint7=0,this._tempNumver0=NaN,this._tempNumver1=NaN,this._tempNumver2=NaN,this._tempNumver3=NaN,this._floatSizePerVer=7,this._defaultBufferSize=600*this._floatSizePerVer,this._vb=null,this._posInVBData=0,this._ib=null,this._posInIBData=0,this._primitiveType=NaN,this._hasBegun=!1,this._numVertsPerPrimitive=0,this._camera=null,this._sharderNameID=0,this._shader=null,this._shaderCompile=null,this._vbData=new Float32Array(this._defaultBufferSize),this._ibData=new Uint16Array(this._defaultBufferSize),this._spriteShaderValue=new C$99_e(),this._vb=C$99ke.create(e$d._vertexDeclaration,this._defaultBufferSize/this._floatSizePerVer,35048),this._ib=C$99Ne.create("ushort",this._defaultBufferSize,35048),this._sharderNameID=C$99Be.nameKey.getID("LINE"),this._shaderCompile=C$99we._preCompileShader[this._sharderNameID];}C$99r(e$d,"laya.d3.core.PhasorSpriter3D");var C$99t=e$d.prototype;return C$99t.line=function(C$99t,C$99e,C$99i,C$99n){return this._hasBegun&&1===this._primitiveType||this.drawLinesException(),(this._posInVBData+2*this._floatSizePerVer>this._vbData.length||this._posInIBData+2>this._ibData.length)&&this.flush(),this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$99t.x,C$99t.y,C$99t.z,C$99e.x,C$99e.y,C$99e.z,C$99e.w),this.addVertex(C$99i.x,C$99i.y,C$99i.z,C$99n.x,C$99n.y,C$99n.z,C$99n.w),this.addIndexes(this._tempUint0,this._tempUint0+1),this;},C$99t.circle=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){for(this._hasBegun&&1===this._primitiveType||this.drawLinesException(),this._tempUint0=2*C$99e,(this._posInVBData+this._tempUint0*this._floatSizePerVer>this._vbData.length||this._posInIBData+2*this._tempUint0>this._ibData.length)&&this.flush(),this._tempUint1=this._posInVBData/this._floatSizePerVer,this._tempNumver0=0,this._tempInt0=0;this._tempNumver0<6.2832;this._tempNumver0=this._tempNumver0+3.1416/C$99e,this._tempInt0++)this.addVertex(Math.sin(this._tempNumver0)*C$99t,Math.cos(this._tempNumver0)*C$99t,0,C$99i,C$99n,C$99r,C$99s),0===this._tempInt0?this.addIndexes(this._tempUint1):this._tempInt0===this._tempUint0-1?(this._tempUint2=this._tempUint1+this._tempInt0,this.addIndexes(this._tempUint2,this._tempUint2,this._tempUint1)):(this._tempUint2=this._tempUint1+this._tempInt0,this.addIndexes(this._tempUint2,this._tempUint2));return this;},C$99t.plane=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){return this._hasBegun&&4===this._primitiveType||this.drawTrianglesException(),(this._posInVBData+4*this._floatSizePerVer>this._vbData.length||this._posInIBData+6>this._ibData.length)&&this.flush(),this._tempNumver0=C$99n/2,this._tempNumver1=C$99r/2,this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$99t-this._tempNumver0,C$99e+this._tempNumver1,C$99i,C$99s,C$99a,C$99o,C$99h),this.addVertex(C$99t+this._tempNumver0,C$99e+this._tempNumver1,C$99i,C$99s,C$99a,C$99o,C$99h),this.addVertex(C$99t-this._tempNumver0,C$99e-this._tempNumver1,C$99i,C$99s,C$99a,C$99o,C$99h),this.addVertex(C$99t+this._tempNumver0,C$99e-this._tempNumver1,C$99i,C$99s,C$99a,C$99o,C$99h),this._tempUint1=this._tempUint0+1,this._tempUint2=this._tempUint0+2,this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint2,this._tempUint2,this._tempUint1,this._tempUint0+3),this;},C$99t.box=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){return this._hasBegun&&4===this._primitiveType||this.drawTrianglesException(),(this._posInVBData+8*this._floatSizePerVer>this._vbData.length||this._posInIBData+36>this._ibData.length)&&this.flush(),this._tempNumver0=C$99n/2,this._tempNumver1=C$99r/2,this._tempNumver2=C$99s/2,this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$99t-this._tempNumver0,C$99e+this._tempNumver1,C$99i+this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t+this._tempNumver0,C$99e+this._tempNumver1,C$99i+this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t-this._tempNumver0,C$99e-this._tempNumver1,C$99i+this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t+this._tempNumver0,C$99e-this._tempNumver1,C$99i+this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t+this._tempNumver0,C$99e+this._tempNumver1,C$99i-this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t-this._tempNumver0,C$99e+this._tempNumver1,C$99i-this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t+this._tempNumver0,C$99e-this._tempNumver1,C$99i-this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t-this._tempNumver0,C$99e-this._tempNumver1,C$99i-this._tempNumver2,C$99a,C$99o,C$99h,C$99l),this._tempUint1=this._tempUint0+1,this._tempUint2=this._tempUint0+2,this._tempUint3=this._tempUint0+3,this._tempUint4=this._tempUint0+4,this._tempUint5=this._tempUint0+5,this._tempUint6=this._tempUint0+6,this._tempUint7=this._tempUint0+7,this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint2,this._tempUint2,this._tempUint1,this._tempUint3,this._tempUint4,this._tempUint5,this._tempUint6,this._tempUint6,this._tempUint5,this._tempUint7,this._tempUint5,this._tempUint0,this._tempUint7,this._tempUint7,this._tempUint0,this._tempUint2,this._tempUint1,this._tempUint4,this._tempUint3,this._tempUint3,this._tempUint4,this._tempUint6,this._tempUint5,this._tempUint4,this._tempUint0,this._tempUint0,this._tempUint4,this._tempUint1,this._tempUint2,this._tempUint3,this._tempUint7,this._tempUint7,this._tempUint3,this._tempUint6),this;},C$99t.cone=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){for(this._hasBegun&&4===this._primitiveType||this.drawTrianglesException(),(this._posInVBData+(2*C$99i+2)*this._floatSizePerVer>this._vbData.length||this._posInIBData+6*C$99i>this._ibData.length)&&this.flush(),this._tempUint0=this._posInVBData,this._tempUint1=this._posInVBData/this._floatSizePerVer,this._tempNumver0=2*Math.PI/C$99i,this.addVertexIndex(0,C$99e,0,C$99n,C$99r,C$99s,C$99a,this._tempUint0),this.addVertexIndex(0,0,0,C$99n,C$99r,C$99s,C$99a,this._tempUint0+this._floatSizePerVer),this._tempInt0=2,this._tempNumver1=0,this._tempInt1=0;this._tempInt1<C$99i;this._tempInt1++)this._tempNumver2=Math.cos(this._tempNumver1),this._tempNumver3=Math.sin(this._tempNumver1),this.addVertexIndex(C$99t*this._tempNumver2,0,C$99t*this._tempNumver3,C$99n,C$99r,C$99s,C$99a,this._tempUint0+this._tempInt0*this._floatSizePerVer),this.addIndexes(this._tempUint1,this._tempUint1+this._tempInt0),this._tempInt1==C$99i-1?this.addIndexes(this._tempUint1+2):this.addIndexes(this._tempUint1+this._tempInt0+1),this.addVertexIndex(C$99t*this._tempNumver2,0,C$99t*this._tempNumver3,C$99n,C$99r,C$99s,C$99a,this._tempUint0+(this._tempInt0+C$99i)*this._floatSizePerVer),this.addIndexes(this._tempUint1+1),this._tempInt1==C$99i-1?this.addIndexes(this._tempUint1+C$99i+2):this.addIndexes(this._tempUint1+this._tempInt0+C$99i+1),this.addIndexes(this._tempUint1+this._tempInt0+C$99i),this._tempInt0++,this._tempNumver1+=this._tempNumver0;return this;},C$99t.boundingBoxLine=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){return this._hasBegun&&1===this._primitiveType||this.drawLinesException(),(this._posInVBData+8*this._floatSizePerVer>this._vbData.length||this._posInIBData+48>this._ibData.length)&&this.flush(),this._tempUint0=this._posInVBData/this._floatSizePerVer,this.addVertex(C$99t,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t,C$99e,C$99s,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99n,C$99e,C$99s,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99n,C$99r,C$99i,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t,C$99r,C$99i,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99n,C$99e,C$99i,C$99a,C$99o,C$99h,C$99l),this.addVertex(C$99t,C$99e,C$99i,C$99a,C$99o,C$99h,C$99l),this._tempUint1=this._tempUint0+1,this._tempUint2=this._tempUint0+2,this._tempUint3=this._tempUint0+3,this._tempUint4=this._tempUint0+4,this._tempUint5=this._tempUint0+5,this._tempUint6=this._tempUint0+6,this._tempUint7=this._tempUint0+7,this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint1,this._tempUint3,this._tempUint3,this._tempUint2,this._tempUint2,this._tempUint0,this._tempUint4,this._tempUint5,this._tempUint5,this._tempUint7,this._tempUint7,this._tempUint6,this._tempUint6,this._tempUint4,this._tempUint5,this._tempUint0,this._tempUint0,this._tempUint2,this._tempUint2,this._tempUint7,this._tempUint7,this._tempUint5,this._tempUint1,this._tempUint4,this._tempUint4,this._tempUint6,this._tempUint6,this._tempUint3,this._tempUint3,this._tempUint1,this._tempUint5,this._tempUint4,this._tempUint4,this._tempUint1,this._tempUint1,this._tempUint0,this._tempUint0,this._tempUint5,this._tempUint2,this._tempUint3,this._tempUint3,this._tempUint6,this._tempUint6,this._tempUint7,this._tempUint7,this._tempUint2),this;},C$99t.addVertex=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){return this._hasBegun||this.addVertexIndexException(),this._vbData[this._posInVBData]=C$99t,this._vbData[this._posInVBData+1]=C$99e,this._vbData[this._posInVBData+2]=C$99i,this._vbData[this._posInVBData+3]=C$99n,this._vbData[this._posInVBData+4]=C$99r,this._vbData[this._posInVBData+5]=C$99s,this._vbData[this._posInVBData+6]=C$99a,this._posInVBData+=this._floatSizePerVer,this;},C$99t.addVertexIndex=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){return this._hasBegun||this.addVertexIndexException(),this._vbData[C$99o]=C$99t,this._vbData[C$99o+1]=C$99e,this._vbData[C$99o+2]=C$99i,this._vbData[C$99o+3]=C$99n,this._vbData[C$99o+4]=C$99r,this._vbData[C$99o+5]=C$99s,this._vbData[C$99o+6]=C$99a,(C$99o+=this._floatSizePerVer)>this._posInVBData&&(this._posInVBData=C$99o),this;},C$99t.addIndexes=function(C$99t){var C$99e=arguments;this._hasBegun||this.addVertexIndexException();for(var C$99i=0;C$99i<C$99e.length;C$99i++)this._ibData[this._posInIBData]=C$99e[C$99i],this._posInIBData++;return this;},C$99t.begin=function(C$99t,C$99e){return this._hasBegun&&this.beginException0(),1!==C$99t&&4!==C$99t&&this.beginException1(),this._primitiveType=C$99t,this._camera=C$99e,this._hasBegun=!0,this;},C$99t.end=function(){return this._hasBegun||this.endException(),this.flush(),this._hasBegun=!1,this;},C$99t.flush=function(){0!==this._posInVBData&&(this._ib.setData(this._ibData),this._vb.setData(this._vbData),this._vb._bind(),this._ib._bind(),this._shader=this._shaderCompile.withCompile(0,0,0),this._shader.bind(),this._shader.uploadAttributes(e$d._vertexDeclaration.shaderValues.data,null),this._spriteShaderValue.setValue(1,this._camera.projectionViewMatrix.elements),this._shader.uploadSpriteUniforms(this._spriteShaderValue.data),C$99C.drawCall++,C$99R.mainContext.drawElements(this._primitiveType,this._posInIBData,5123,0),this._posInIBData=0,this._posInVBData=0);},C$99t.addVertexIndexException=function(){throw new Error("\u8bf7\u5148\u8c03\u7528begin()\u51fd\u6570");},C$99t.beginException0=function(){throw new Error("\u8c03\u7528begin()\u524d\u8bf7\u786e\u4fdd\u5df2\u6210\u529f\u8c03\u7528end()\uff01");},C$99t.beginException1=function(){throw new Error("\u53ea\u652f\u6301\u201cLINES\u201d\u548c\u201cTRIANGLES\u201d\u4e24\u79cd\u57fa\u5143\uff01");},C$99t.endException=function(){throw new Error("\u8c03\u7528end()\u524d\u8bf7\u786e\u4fdd\u5df2\u6210\u529f\u8c03\u7528begin()\uff01");},C$99t.drawLinesException=function(){throw new Error("\u60a8\u5fc5\u987b\u786e\u4fdd\u5728\u6b64\u4e4b\u524d\u5df2\u8c03\u7528begin()\u4e14\u4f7f\u7528\u201cLINES\u201d\u57fa\u5143\uff01");},C$99t.drawTrianglesException=function(){throw new Error("\u60a8\u5fc5\u987b\u786e\u4fdd\u5728\u6b64\u4e4b\u524d\u5df2\u8c03\u7528begin()\u4e14\u4f7f\u7528\u201cTRIANGLES\u201d\u57fa\u5143\uff01");},C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(28,[new C$99e(0,"vector3",0),new C$99e(12,"vector4",1)]);}]),e$d;}()),C$99j=function(){function e$d(){this._id=0,this._type=0,this._mainSortID=0,this._render=null,this._sprite3D=null,this._material=null,this._renderObj=null,this._staticBatch=null,this._tempBatchIndexStart=0,this._tempBatchIndexEnd=0,this._canDynamicBatch=!1,this._shaderValue=null,this._onPreRenderFunction=null,this._id=++e$d._uniqueIDCounter,this._canDynamicBatch=!0,this._shaderValue=new C$99_e();}C$99r(e$d,"laya.d3.core.render.RenderElement");var C$99t=e$d.prototype;return C$99t.getDynamicBatchBakedVertexs=function(C$99t){for(var C$99t=this._renderObj._getVertexBuffer(C$99t),C$99e=C$99t.getData().slice(),C$99t=C$99t.vertexDeclaration,C$99i=C$99t.getVertexElementByUsage(0).offset/4,C$99n=C$99t.getVertexElementByUsage(3).offset/4,C$99r=this._sprite3D.transform,C$99s=C$99r.worldMatrix,C$99a=C$99r.rotation,C$99u=C$99t.vertexStride/4,C$99o=0,C$99c=C$99e.length;C$99o<C$99c;C$99o+=C$99u){var C$99h=C$99o+C$99i,C$99l=C$99o+C$99n;C$99me.transformVector3ArrayToVector3ArrayCoordinate(C$99e,C$99h,C$99s,C$99e,C$99h),C$99me.transformVector3ArrayByQuat(C$99e,C$99l,C$99a,C$99e,C$99l);}return C$99e;},C$99t.getBakedIndices=function(){return this._renderObj._getIndexBuffer().getData();},C$99t._destroy=function(){this._staticBatch&&this._staticBatch._manager._garbageCollection(this);},C$99o(0,C$99t,"id",function(){return this._id;}),C$99o(0,C$99t,"renderObj",function(){return this._renderObj;},function(C$99t){this._renderObj!==C$99t&&(this._renderObj=C$99t);}),e$d._uniqueIDCounter=0,e$d;}(),C$99K=(C$99r(e$t,"laya.d3.core.render.RenderQueue"),(C$99t=e$t.prototype)._sortOpaqueFunc=function(C$99t,C$99e){var C$99i;return C$99t._render&&C$99e._render?0==(C$99i=C$99t._material.renderQueue-C$99e._material.renderQueue)?C$99t._render._distanceForSort-C$99e._render._distanceForSort:C$99i:0;},C$99t._sortAlphaFunc=function(C$99t,C$99e){var C$99i;return C$99t._render&&C$99e._render?0==(C$99i=C$99t._material.renderQueue-C$99e._material.renderQueue)?C$99e._render._distanceForSort-C$99t._render._distanceForSort:C$99i:0;},C$99t._begainRenderElement=function(C$99t,C$99e,C$99i){return!!C$99e._beforeRender(C$99t);},C$99t._sortAlpha=function(C$99t){e$t._cameraPosition=C$99t,this._finalElements.sort(this._sortAlphaFunc);},C$99t._sortOpaque=function(C$99t){e$t._cameraPosition=C$99t,this._finalElements.sort(this._sortOpaqueFunc);},C$99t._preRender=function(C$99t){this._finalElements=this._renderElements.concat(this._dynamicBatchCombineRenderElements);},C$99t._render=function(C$99t,C$99u){for(var C$99c,C$99e,C$99_,C$99i,C$99d,C$99f,C$99p=C$99C.loopCount,C$99n=this._scene,C$99r=C$99t.camera,C$99s=(C$99r.id,!1),C$99m=0,C$99g=this._finalElements.length;C$99m<C$99g;C$99m++){var C$99a,C$99o,C$99h,C$99l=this._finalElements[C$99m];if(null!=C$99l._onPreRenderFunction&&C$99l._onPreRenderFunction.call(C$99l._sprite3D,C$99t),0===C$99l._type){if(C$99t.owner=C$99h=C$99l._sprite3D,C$99t.renderElement=C$99l,C$99h._preRenderUpdateComponents(C$99t),C$99a=C$99l.renderObj,C$99o=C$99l._material,this._begainRenderElement(C$99t,C$99a,C$99o)){if(C$99c=C$99a._getVertexBuffers(),!(C$99_=(C$99e=C$99a._getVertexBuffer(0)).vertexDeclaration)){var C$99v;this._errorRecord[C$99e.id]||(this._errorRecord[C$99e.id]=1,C$99v="vertexBuffer:("+C$99e._destroyed+","+C$99e._released+","+C$99e._referenceCount+","+C$99e._buffer+"), material:"+(C$99o?C$99o.__className+"("+C$99o._destroyed+","+C$99o._released+")":"null")+", owner:"+(C$99h?C$99h.__className+"("+C$99h._destroyed+","+C$99h._activeInHierarchy+","+C$99h._displayedInStage+")":"null")+", renderObj:"+(C$99a?C$99a.__className+"("+C$99a._destroyed+","+C$99a._released+","+C$99a._referenceCount+")":"")+", parent:, url:"+(C$99h?C$99h.url:"")+", disposeStack:"+C$99e.disposeStack,C$99y.recordError("\u62a5\u9519\uff1aunknown vertexDeclaration  "+C$99v));continue;}if(C$99s=(C$99i=C$99t._shader=C$99o._getShader(C$99n._shaderDefineValue,C$99_.shaderDefineValue,C$99h._shaderDefineValue)).bind()||C$99p!==C$99i._uploadLoopCount,C$99c){if(C$99i._uploadVertexBuffer!==C$99c||C$99s){for(var C$99$=0;C$99$<C$99c.length;C$99$++){var C$99x=C$99c[C$99$];C$99i.uploadAttributesX(C$99x.vertexDeclaration.shaderValues.data,C$99x);}C$99i._uploadVertexBuffer=C$99c;}}else C$99i._uploadVertexBuffer===C$99e&&!C$99s||(C$99i.uploadAttributes(C$99_.shaderValues.data,null),C$99i._uploadVertexBuffer=C$99e);C$99i._uploadScene===C$99n&&!C$99s||(C$99i.uploadSceneUniforms(C$99n._shaderValues.data),C$99i._uploadScene=C$99n),C$99r===C$99i._uploadCamera&&C$99i._uploadSprite3D===C$99h&&!C$99s||(C$99i.uploadSpriteUniforms(C$99h._shaderValues.data),C$99i._uploadSprite3D=C$99h),C$99r===C$99i._uploadCamera&&!C$99s||(C$99i.uploadCameraUniforms(C$99r._shaderValues.data),C$99i._uploadCamera=C$99r),C$99i._uploadMaterial===C$99o&&!C$99s||(C$99o._upload(),C$99i._uploadMaterial=C$99o),C$99d!==C$99o?(C$99o._setRenderStateBlendDepth(),C$99o._setRenderStateFrontFace(C$99u,C$99h.transform),C$99d=C$99o,C$99f=C$99h):C$99f!==C$99h&&(C$99o._setRenderStateFrontFace(C$99u,C$99h.transform),C$99f=C$99h),C$99a._render(C$99t),C$99i._uploadLoopCount=C$99p;}C$99h._postRenderUpdateComponents(C$99t);}else 2===C$99l._type&&(C$99l.renderObj,C$99t.owner=C$99h=C$99l._sprite3D,C$99t.renderElement=C$99l,C$99t._batchIndexStart=C$99l._tempBatchIndexStart,C$99t._batchIndexEnd=C$99l._tempBatchIndexEnd,C$99a=C$99l.renderObj,C$99o=C$99l._material,this._begainRenderElement(C$99t,C$99a,C$99o)&&(C$99_=(C$99e=C$99a._getVertexBuffer(0)).vertexDeclaration,C$99s=(C$99i=C$99t._shader=C$99o._getShader(C$99n._shaderDefineValue,C$99_.shaderDefineValue,C$99h._shaderDefineValue)).bind()||C$99p!==C$99i._uploadLoopCount,C$99i._uploadVertexBuffer===C$99e&&!C$99s||(C$99i.uploadAttributes(C$99_.shaderValues.data,null),C$99i._uploadVertexBuffer=C$99e),C$99i._uploadScene===C$99n&&!C$99s||(C$99i.uploadSceneUniforms(C$99n._shaderValues.data),C$99i._uploadScene=C$99n),C$99r===C$99i._uploadCamera&&C$99i._uploadSprite3D===C$99h&&!C$99s||(C$99i.uploadSpriteUniforms(C$99h._shaderValues.data),C$99i._uploadSprite3D=C$99h),C$99r===C$99i._uploadCamera&&!C$99s||(C$99i.uploadCameraUniforms(C$99r._shaderValues.data),C$99i._uploadCamera=C$99r),C$99i._uploadMaterial===C$99o&&!C$99s||(C$99o._upload(),C$99i._uploadMaterial=C$99o),C$99d!==C$99o?(C$99o._setRenderStateBlendDepth(),C$99o._setRenderStateFrontFace(C$99u,C$99h.transform),C$99d=C$99o,C$99f=C$99h):C$99f!==C$99h&&(C$99o._setRenderStateFrontFace(C$99u,C$99h.transform),C$99f=C$99h),C$99a._render(C$99t),C$99i._uploadLoopCount=C$99p));}},C$99t._renderShadow=function(C$99t,C$99u){for(var C$99e,C$99i,C$99n,C$99c,C$99r,C$99s,C$99_=C$99C.loopCount,C$99d=this._scene,C$99a=C$99t.camera,C$99f=0,C$99p=this._finalElements.length;C$99f<C$99p;C$99f++){var C$99o,C$99h,C$99l=this._finalElements[C$99f];0===C$99l._type&&(C$99t.owner=C$99h=C$99l._sprite3D,C$99u||C$99h._projectionViewWorldUpdateCamera===C$99a&&C$99h._projectionViewWorldUpdateLoopCount===C$99C.loopCount||(C$99h._render._renderUpdate(C$99t._projectionViewMatrix),C$99h._projectionViewWorldUpdateLoopCount=C$99C.loopCount,C$99h._projectionViewWorldUpdateCamera=C$99a),C$99t.renderElement=C$99l,C$99h._preRenderUpdateComponents(C$99t),C$99o=C$99l.renderObj,C$99l=C$99l._material,this._begainRenderElement(C$99t,C$99o,null)&&(C$99i=(C$99e=C$99o._getVertexBuffer(0)).vertexDeclaration,C$99s=(C$99n=C$99t._shader=C$99l._getShader(C$99d._shaderDefineValue,C$99i.shaderDefineValue,C$99h._shaderDefineValue)).bind()||C$99_!==C$99n._uploadLoopCount,C$99n._uploadVertexBuffer===C$99e&&!C$99s||(C$99n.uploadAttributes(C$99i.shaderValues.data,null),C$99n._uploadVertexBuffer=C$99e),C$99a===C$99n._uploadCamera&&C$99n._uploadSprite3D===C$99h&&!C$99s||(C$99n.uploadSpriteUniforms(C$99h._shaderValues.data),C$99n._uploadSprite3D=C$99h),C$99a===C$99n._uploadCamera&&!C$99s||(C$99n.uploadCameraUniforms(C$99a._shaderValues.data),C$99n._uploadCamera=C$99a),C$99n._uploadMaterial===C$99l&&!C$99s||(C$99l._upload(),C$99n._uploadMaterial=C$99l),C$99n._uploadRenderElement,C$99c!==C$99l?(C$99l._setRenderStateFrontFace(!1,C$99h.transform),C$99c=C$99l,C$99r=C$99h):C$99r!==C$99h&&(C$99l._setRenderStateFrontFace(!1,C$99h.transform),C$99r=C$99h),C$99o._render(C$99t),C$99n._uploadLoopCount=C$99_),C$99h._postRenderUpdateComponents(C$99t));}},C$99t._clearRenderElements=function(){this._dynamicBatchCombineRenderElements.length=0,this._renderElements.length=0,this._needSort=!0;},C$99t._addRenderElement=function(C$99t){this._renderElements.push(C$99t),this._needSort=!0;},C$99t._addDynamicBatchElement=function(C$99t){this._dynamicBatchCombineRenderElements.push(C$99t);},C$99o(0,C$99t,"id",function(){return this._id;}),e$t._uniqueIDCounter=0,e$t._cameraPosition=null,e$t),C$99q=function(){function e$d(){this._staticBatch=null,this._batchIndexStart=0,this._batchIndexEnd=0,this._viewMatrix=null,this._projectionMatrix=null,this._projectionViewMatrix=null,this._viewport=null,this._shader=null,this.elapsedTime=NaN,this.scene=null,this.owner=null,this.renderElement=null,this.camera=null;}return C$99r(e$d,"laya.d3.core.render.RenderState"),e$d.clientWidth=0,e$d.clientHeight=0,e$d;}(),C$99Z=(C$99r(e$A,"laya.d3.core.scene.OctreeNode"),C$99t=e$A.prototype,C$99y.imps(C$99t,{"laya.d3.core.scene.ITreeNode":!0}),C$99t.init=function(C$99t,C$99e){var C$99i=new C$99I(),C$99n=new C$99I();C$99I.scale(C$99e,-.5,C$99i),C$99I.scale(C$99e,.5,C$99n),C$99I.add(C$99i,C$99t,C$99i),C$99I.add(C$99n,C$99t,C$99n),this.exactBox=new C$99qt(C$99i,C$99n),this.relaxBox=new C$99qt(C$99i,C$99n);},C$99t.addTreeNode=function(C$99t){1===Collision.boxContainsBox(this._relaxBox,C$99t.boundingBox)?this.addNodeDown(C$99t,0):this.addObject(C$99t);},C$99t.addChild=function(C$99t){var C$99e=this._children[C$99t];var C$99i;return null==C$99e&&(C$99e=new e$A(this._scene,this._currentDepth+1),(this._children[C$99t]=C$99e)._parent=this,C$99I.subtract(this._exactBox.max,this._exactBox.min,e$A.tempSize),C$99I.multiply(e$A.tempSize,e$A._octreeSplit[C$99t],e$A.tempCenter),C$99I.add(this._exactBox.min,e$A.tempCenter,e$A.tempCenter),C$99I.scale(e$A.tempSize,.25,e$A.tempSize),C$99t=new C$99I(),C$99i=new C$99I(),C$99I.subtract(e$A.tempCenter,e$A.tempSize,C$99t),C$99I.add(e$A.tempCenter,e$A.tempSize,C$99i),C$99e.exactBox=new C$99qt(C$99t,C$99i),C$99I.scale(e$A.tempSize,e$A.relax,e$A.tempSize),C$99t=new C$99I(),C$99i=new C$99I(),C$99I.subtract(e$A.tempCenter,e$A.tempSize,C$99t),C$99I.add(e$A.tempCenter,e$A.tempSize,C$99i),C$99e.relaxBox=new C$99qt(C$99t,C$99i)),C$99e;},C$99t.addObject=function(C$99t){(C$99t._treeNode=this)._objects.push(C$99t);},C$99t.removeObject=function(C$99t){if(C$99t._treeNode!=this)return console.log("OctreeNode::removeObject error"),!1;C$99t=this._objects.indexOf(C$99t);return-1!==C$99t&&(this._objects.splice(C$99t,1),!0);},C$99t.clearObject=function(){this._objects.length=0;},C$99t.addNodeUp=function(C$99t,C$99e){this._parent&&1!==Collision.boxContainsBox(this._exactBox,C$99t.boundingBox)?this._parent.addNodeUp(C$99t,C$99e-1):this.addNodeDown(C$99t,C$99e);},C$99t.addNodeDown=function(C$99t,C$99e){var C$99i;C$99e<this._scene.treeLevel?(C$99i=this.inChildIndex(C$99t.boundingBoxCenter),C$99i=this.addChild(C$99i),1===Collision.boxContainsBox(C$99i._relaxBox,C$99t.boundingBox)?C$99i.addNodeDown(C$99t,++C$99e):this.addObject(C$99t)):this.addObject(C$99t);},C$99t.inChildIndex=function(C$99t){return 4*(C$99t.z<this._boundingBoxCenter.z?0:1)+2*(C$99t.y<this._boundingBoxCenter.y?0:1)+(C$99t.x<this._boundingBoxCenter.x?0:1);},C$99t.updateObject=function(C$99t){1===Collision.boxContainsBox(this._relaxBox,C$99t.boundingBox)?(this.removeObject(C$99t),C$99t._treeNode=null,this.addNodeDown(C$99t,this._currentDepth)):this._parent&&(this.removeObject(C$99t),C$99t._treeNode=null,this._parent.addNodeUp(C$99t,this._currentDepth-1));},C$99t.cullingObjects=function(C$99t,C$99e,C$99u,C$99i,C$99n){var C$99c,C$99_,C$99r=0,C$99s=0,C$99d=this._scene._dynamicBatchManager;for(C$99r=0,C$99c=this._objects.length;C$99r<C$99c;C$99r++){var C$99a=this._objects[C$99r];if(C$99O.isVisible(C$99a._owner.layer.mask)&&C$99a.enable&&(!C$99e||(C$99C.treeSpriteCollision+=1,0!==C$99t.containsBoundSphere(C$99a.boundingSphere)))){C$99a._renderUpdate(C$99n),C$99a._distanceForSort=C$99I.distance(C$99a.boundingSphere.center,C$99i)+C$99a.sortingFudge;var C$99f=C$99a._renderElements;for(C$99s=0,C$99_=C$99f.length;C$99s<C$99_;C$99s++){var C$99o=C$99f[C$99s],C$99h=C$99o._staticBatch;C$99h&&C$99h._material===C$99o._material?C$99h._addBatchRenderElement(C$99o):(C$99h=C$99o.renderObj).triangleCount<10&&1===C$99h._vertexBufferCount&&C$99h._getIndexBuffer()&&C$99o._material.renderQueue<2&&C$99o._canDynamicBatch&&!C$99a._owner.isStatic?C$99d._addPrepareRenderElement(C$99o):this._scene.getRenderQueue(C$99o._material.renderQueue)._addRenderElement(C$99o);}}}for(C$99r=0;C$99r<8;C$99r++){var C$99l=this._children[C$99r];if(null!=C$99l){var C$99p=C$99e;if(C$99e){var C$99m=C$99t.containsBoundBox(C$99l._relaxBox);if(C$99C.treeNodeCollision+=1,0===C$99m)continue;C$99p=2===C$99m;}C$99l.cullingObjects(C$99t,C$99p,C$99u,C$99i,C$99n);}}},C$99t.cullingShadowObjects=function(C$99t,C$99e,C$99i,C$99u,C$99c){var C$99n,C$99r,C$99s=0,C$99a=0;for(this._scene._dynamicBatchManager,C$99s=0,C$99n=this._objects.length;C$99s<C$99n;C$99s++){var C$99o=this._objects[C$99s];if(C$99o.castShadow&&C$99O.isVisible(C$99o._owner.layer.mask)&&C$99o.enable&&(!C$99i||0!==C$99t[0].containsBoundSphere(C$99o.boundingSphere)))for(var C$99h=1,C$99_=C$99t.length;C$99h<C$99_;C$99h++){var C$99d=C$99e[C$99h-1];if(0!==C$99t[C$99h].containsBoundSphere(C$99o.boundingSphere)){var C$99f=C$99o._renderElements;for(C$99a=0,C$99r=C$99f.length;C$99a<C$99r;C$99a++)C$99d._addRenderElement(C$99f[C$99a]);}}}for(C$99s=0;C$99s<8;C$99s++){var C$99l=this._children[C$99s];if(null!=C$99l){var C$99p=C$99i;if(C$99i){var C$99m=C$99t[0].containsBoundBox(C$99l._relaxBox);if(0===C$99m)continue;C$99p=2===C$99m;}C$99l.cullingShadowObjects(C$99t,C$99e,C$99p,C$99u,C$99c);}}},C$99t.cullingShadowObjectsOnePSSM=function(C$99t,C$99e,C$99i,C$99n,C$99u,C$99c){var C$99r,C$99s,C$99_=C$99e[0],C$99a=0,C$99o=0;for(C$99a=0,C$99r=this._objects.length;C$99a<C$99r;C$99a++){var C$99h=this._objects[C$99a];if(C$99h.castShadow&&C$99O.isVisible(C$99h._owner.layer.mask)&&C$99h.enable&&(!C$99n||0!==C$99t.containsBoundSphere(C$99h.boundingSphere))){C$99h._renderUpdate(C$99i);var C$99d=C$99h._renderElements;for(C$99o=0,C$99s=C$99d.length;C$99o<C$99s;C$99o++)C$99_._addRenderElement(C$99d[C$99o]);}}for(C$99a=0;C$99a<8;C$99a++){var C$99l=this._children[C$99a];if(null!=C$99l){var C$99f=C$99n;if(C$99n){var C$99p=C$99t.containsBoundBox(C$99l._relaxBox);if(0===C$99p)continue;C$99f=2===C$99p;}C$99l.cullingShadowObjectsOnePSSM(C$99t,C$99e,C$99i,C$99f,C$99u,C$99c);}}},C$99t.renderBoudingBox=function(C$99t){this._renderBoudingBox(C$99t);for(var C$99e=0;C$99e<8;++C$99e){var C$99i=this._children[C$99e];C$99i&&C$99i.renderBoudingBox(C$99t);}},C$99t.buildAllChild=function(C$99t){if(C$99t<this._scene.treeLevel)for(var C$99e=0;C$99e<8;C$99e++)this.addChild(C$99e).buildAllChild(C$99t+1);},C$99t._renderBoudingBox=function(C$99t){},C$99o(0,C$99t,"exactBox",function(){return this._exactBox;},function(C$99t){this._exactBox=C$99t,C$99I.add(C$99t.min,C$99t.max,this._boundingBoxCenter),C$99I.scale(this._boundingBoxCenter,.5,this._boundingBoxCenter);}),C$99o(0,C$99t,"relaxBox",function(){return this._relaxBox;},function(C$99t){(this._relaxBox=C$99t).getCorners(this._corners),C$99Qt.createfromPoints(this._corners,this._boundingSphere);}),e$A.debugMode=!1,e$A.relax=1.15,e$A.CHILDNUM=8,C$99s(e$A,["tempVector0",function(){return this.tempVector0=new C$99I();},"tempSize",function(){return this.tempSize=new C$99I();},"tempCenter",function(){return this.tempCenter=new C$99I();},"_octreeSplit",function(){return this._octreeSplit=[new C$99I(.25,.25,.25),new C$99I(.75,.25,.25),new C$99I(.25,.75,.25),new C$99I(.75,.75,.25),new C$99I(.25,.25,.75),new C$99I(.75,.25,.75),new C$99I(.25,.75,.75),new C$99I(.75,.75,.75)];}]),e$A),C$99Q=(C$99r(function(){},"laya.d3.core.scene.SceneManager"),function(){function e$d(C$99t,C$99e,C$99i,C$99n){this._r=NaN,this._g=NaN,this._b=NaN,this._a=NaN,void 0===C$99e&&(C$99e=1),void 0===C$99i&&(C$99i=1),void 0===C$99n&&(C$99n=1),this._r=C$99t=void 0===C$99t?1:C$99t,this._g=C$99e,this._b=C$99i,this._a=C$99n;}return C$99r(e$d,"laya.d3.core.trail.module.Color",null,"Color$1"),e$d.prototype.cloneTo=function(C$99t){C$99t._r=this._r,C$99t._g=this._g,C$99t._b=this._b,C$99t._a=this._a;},C$99s(e$d,["RED",function(){return this.RED=new e$d(1,0,0,1);},"GREEN",function(){return this.GREEN=new e$d(0,1,0,1);},"BLUE",function(){return this.BLUE=new e$d(0,0,1,1);},"CYAN",function(){return this.CYAN=new e$d(0,1,1,1);},"YELLOW",function(){return this.YELLOW=new e$d(1,.92,.016,1);},"MAGENTA",function(){return this.MAGENTA=new e$d(1,0,1,1);},"GRAY",function(){return this.GRAY=new e$d(.5,.5,.5,1);},"WHITE",function(){return this.WHITE=new e$d(1,1,1,1);},"BLACK",function(){return this.BLACK=new e$d(0,0,0,1);}]),e$d;}()),C$99J=(function(){function e$d(){this._mode=0,this._colorKeys=null,this._alphaKeys=null,this.index=0,this._colorKeyData=new Float32Array(40),this._alphaKeyData=new Float32Array(20),this._colorKeys=[],this._alphaKeys=[];}C$99r(e$d,"laya.d3.core.trail.module.Gradient");var C$99t=e$d.prototype;C$99t.setKeys=function(C$99t,C$99e){var C$99i,C$99n;this._colorKeys=C$99t;for(var C$99r=this.index=0;C$99r<C$99t.length;C$99r++){var C$99s=(C$99i=C$99t[C$99r]).color;this._colorKeyData[this.index++]=C$99s._r,this._colorKeyData[this.index++]=C$99s._g,this._colorKeyData[this.index++]=C$99s._b,this._colorKeyData[this.index++]=C$99i.time;}this._alphaKeys=C$99e;for(var C$99a=this.index=0;C$99a<C$99e.length;C$99a++)C$99n=C$99e[C$99a],this._alphaKeyData[this.index++]=C$99n.alpha,this._alphaKeyData[this.index++]=C$99n.time;},C$99t.cloneTo=function(C$99t){var C$99e=0,C$99i=0,C$99n=this.colorKeys,C$99r=[];for(C$99e=0,C$99i=C$99n.length;C$99e<C$99i;C$99e++){var C$99s=new C$99tt();C$99n[C$99e].cloneTo(C$99s),C$99r.push(C$99s);}var C$99a=this.alphaKeys,C$99o=[];for(C$99e=0,C$99i=C$99a.length;C$99e<C$99i;C$99e++){var C$99h=new C$99J();C$99a[C$99e].cloneTo(C$99h),C$99o.push(C$99h);}C$99t.setKeys(C$99r,C$99o);},C$99o(0,C$99t,"mode",function(){return this._mode;},function(C$99t){this._mode=C$99t;}),C$99o(0,C$99t,"colorKeys",function(){return this._colorKeys;},function(C$99t){this._colorKeys=C$99t;for(var C$99e=this.index=0;C$99e<C$99t.length;C$99e++){var C$99i=C$99t[C$99e],C$99n=C$99i.color;this._colorKeyData[this.index++]=C$99n._r,this._colorKeyData[this.index++]=C$99n._g,this._colorKeyData[this.index++]=C$99n._b,this._colorKeyData[this.index++]=C$99i.time;}}),C$99o(0,C$99t,"alphaKeys",function(){return this._alphaKeys;},function(C$99t){this._alphaKeys=C$99t;for(var C$99e=this.index=0;C$99e<C$99t.length;C$99e++){var C$99i=C$99t[C$99e];this._alphaKeyData[this.index++]=C$99i.alpha,this._alphaKeyData[this.index++]=C$99i.time;}});}(),function(){function e$d(C$99t,C$99e){this._alpha=NaN,this._time=NaN,void 0===C$99e&&(C$99e=0),this._alpha=C$99t=void 0===C$99t?0:C$99t,this._time=C$99e;}C$99r(e$d,"laya.d3.core.trail.module.GradientAlphaKey");var C$99t=e$d.prototype;return C$99t.cloneTo=function(C$99t){C$99t.alpha=this.alpha,C$99t.time=this.time;},C$99o(0,C$99t,"alpha",function(){return this._alpha;},function(C$99t){this._alpha=C$99t;}),C$99o(0,C$99t,"time",function(){return this._time;},function(C$99t){this._time=C$99t;}),e$d;}()),C$99tt=function(){function e$d(C$99t,C$99e){this._color=null,this._time=NaN,void 0===C$99e&&(C$99e=0),this._color=C$99t||new C$99Q(),this._time=C$99e;}C$99r(e$d,"laya.d3.core.trail.module.GradientColorKey");var C$99t=e$d.prototype;return C$99t.cloneTo=function(C$99t){this.color.cloneTo(C$99t.color),C$99t.time=this.time;},C$99o(0,C$99t,"color",function(){return this._color;},function(C$99t){this._color=C$99t;}),C$99o(0,C$99t,"time",function(){return this._time;},function(C$99t){this._time=C$99t;}),e$d;}(),C$99et=(function(){function e$d(){}C$99r(e$d,"laya.d3.core.trail.module.GradientMode"),e$d.Blend=0,e$d.Fixed=1;}(),function(){function e$d(){}C$99r(e$d,"laya.d3.core.trail.module.TextureMode"),e$d.Stretch=0,e$d.Tile=1;}(),function(){function e$d(){this.time=NaN,this.inTangent=NaN,this.outTangent=NaN,this.value=NaN;}C$99r(e$d,"laya.d3.core.trail.module.TrailKeyFrame"),e$d.prototype.cloneTo=function(C$99t){C$99t.time=this.time,C$99t.inTangent=this.inTangent,C$99t.outTangent=this.outTangent,C$99t.value=this.value;};}(),function(){function e$t(C$99t){this._id=0,this._owner=null,this._camera=null,this._vertexBuffers=null,this._verticesCount=0,this._virtualVerticesCount=0,this._maxVerticesCount=256,this._vertices1=null,this._vertexBuffer1=null,this._floatCountPerVertices1=8,this._verticesIndex1=0,this._everyAddVerticeCount1=0,this._delLength=0,this._vertices2=null,this._vertexBuffer2=null,this._floatCountPerVertices2=1,this._everyGroupVertexBirthTime=null,this._VerticesToTailLength=null,this._everyVertexToPreVertexDistance=null,this._pointe=null,this._pointAtoBVector3e=null,this._isStart=!1,this._isFinish=!1,this._isDead=!1,this._curtime=NaN,this._curDisappearIndex=0,this._lastPosition=new C$99I(),this._curPosition=new C$99I(),this._delVector3=new C$99I(),this._lastFixedVertexPosition=new C$99I(),this._pointAtoBVector3=new C$99I(),this._pointA=new C$99I(),this._pointB=new C$99I(),this._owner=C$99t,this._id=e$t.renderElementCount++,(0==this._id?C$99t._owner.transform.position:C$99t._curSubTrailFinishPosition).cloneTo(this._lastPosition),this._everyGroupVertexBirthTime=[],this._VerticesToTailLength=new Float32Array(this._maxVerticesCount),this._everyVertexToPreVertexDistance=new Float32Array(this._maxVerticesCount),this._vertices1=new Float32Array(this._maxVerticesCount*this._floatCountPerVertices1),this._vertices2=new Float32Array(this._maxVerticesCount*this._floatCountPerVertices2),this._vertexBuffer1=new C$99ke(C$99et.vertexDeclaration1,this._maxVerticesCount,35044,!0),this._vertexBuffer2=new C$99ke(C$99et.vertexDeclaration2,this._maxVerticesCount,35044,!0),this._vertexBuffers=[],this._vertexBuffers.push(this._vertexBuffer1),this._vertexBuffers.push(this._vertexBuffer2);}C$99r(e$t,"laya.d3.core.trail.TrailRenderElement");var C$99t=e$t.prototype;C$99y.imps(C$99t,{"laya.d3.core.render.IRenderable":!0}),C$99t._updateTrail=function(){this._everyAddVerticeCount1=0,this._isStart||this._addTrailByFirstPosition(this._lastPosition,this._curPosition),this._addTrailByNextPosition(this._curPosition),this._vertexBuffer1.setData(this._vertices1,this._verticesIndex1,this._verticesIndex1,this._everyAddVerticeCount1),this._verticesIndex1+=this._everyAddVerticeCount1,this._curPosition.cloneTo(this._lastPosition),2==this._virtualVerticesCount&&(this._verticesIndex1-=2*this._floatCountPerVertices1);},C$99t._addTrailByFirstPosition=function(C$99t,C$99e){C$99I.subtract(C$99e,C$99t,this._delVector3),C$99I.cross(this._delVector3,this._camera.forward,this._pointAtoBVector3),C$99I.normalize(this._pointAtoBVector3,this._pointAtoBVector3),C$99I.scale(this._pointAtoBVector3,this._owner.widthMultiplier/2,this._pointAtoBVector3),this._updateVerticesByPosition(C$99t),C$99t.cloneTo(this._lastFixedVertexPosition),this._verticesCount+=2,this._curtime=this._owner._hasLifeSubTrail?this._owner._curSubTrailFinishCurTime:this._owner._curtime,this._everyGroupVertexBirthTime.push(this._curtime),this._isStart=!0,this._owner._hasLifeSubTrail=!0;},C$99t._addTrailByNextPosition=function(C$99t){C$99I.subtract(C$99t,this._lastFixedVertexPosition,this._delVector3),C$99I.cross(this._delVector3,this._camera.forward,this._pointAtoBVector3),C$99I.normalize(this._pointAtoBVector3,this._pointAtoBVector3),C$99I.scale(this._pointAtoBVector3,this._owner.widthMultiplier/2,this._pointAtoBVector3),this._delLength=C$99I.scalarLength(this._delVector3),this._delLength-this._owner.minVertexDistance>=C$99Jt.zeroTolerance?(this._owner._trailTotalLength+=this._delLength,this._owner._trailSupplementLength=0,this._updateVerticesByPosition(C$99t),C$99t.cloneTo(this._lastFixedVertexPosition),this._verticesCount+=2,this._virtualVerticesCount=0,this._everyGroupVertexBirthTime.push(this._owner._curtime),this._verticesCount==this._maxVerticesCount&&this._onTrailRenderElementFinish()):(this._owner._trailSupplementLength=this._delLength,this._updateVerticesByPosition(C$99t),this._virtualVerticesCount=2);},C$99t._updateVerticesByPosition=function(C$99t){this._pointe=C$99t.elements,this._pointAtoBVector3e=this._pointAtoBVector3.elements,this._curtime=this._owner._curtime,this._owner._hasLifeSubTrail&&0==this._isStart&&(this._pointe=this._owner._curSubTrailFinishPosition.elements,this._pointAtoBVector3e=this._owner._curSubTrailFinishDirection.elements,this._curtime=this._owner._curSubTrailFinishCurTime),this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._curtime,this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=1,this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[0],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[1],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[2],this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._curtime,this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=0,this._VerticesToTailLength[this._verticesCount/2]=this._owner._trailTotalLength+this._owner._trailSupplementLength,0==this._owner._trailSupplementLength?this._everyVertexToPreVertexDistance[this._verticesCount/2]=this._delLength:this._everyVertexToPreVertexDistance[this._verticesCount/2]=this._isStart?this._owner._trailSupplementLength:0;},C$99t._updateVertexBuffer2=function(){var C$99t,C$99e,C$99i=0,C$99n=0;for(C$99n=0,C$99t=(this._verticesCount+this._virtualVerticesCount)/2;C$99n<C$99t;C$99n++)C$99e=0==this._owner.textureMode?(this._VerticesToTailLength[C$99n]-this._owner._trailDeadLength)/(this._owner._trailTotalLength+this._owner._trailSupplementLength-this._owner._trailDeadLength):this._owner._trailTotalLength+this._owner._trailSupplementLength-this._VerticesToTailLength[C$99n],this._vertices2[C$99i++]=1-C$99e,this._vertices2[C$99i++]=1-C$99e;this._vertexBuffer2.setData(this._vertices2,0,0,this._verticesCount+this._virtualVerticesCount);},C$99t._onTrailRenderElementFinish=function(){this._lastFixedVertexPosition.cloneTo(this._owner._curSubTrailFinishPosition),this._pointAtoBVector3.cloneTo(this._owner._curSubTrailFinishDirection),this._owner._curSubTrailFinishCurTime=this._owner._curtime,this._isFinish=!0;},C$99t._updateDisappear=function(){var C$99t,C$99e=0;for(C$99e=this._curDisappearIndex,C$99t=(this._verticesCount+this._virtualVerticesCount)/2;C$99e<C$99t;C$99e++)this._owner._curtime-this._everyGroupVertexBirthTime[C$99e]>=this._owner.time+C$99Jt.zeroTolerance&&(this._curDisappearIndex++,this._owner._trailDeadLength+=this._everyVertexToPreVertexDistance[this._curDisappearIndex],this._curDisappearIndex>=(this._verticesCount+this._virtualVerticesCount)/2&&(this._isDead=!0));},C$99t._beforeRender=function(C$99t){return this._camera=C$99t.camera,null!=this._camera&&(this._owner._owner.transform.position.cloneTo(this._curPosition),!this._isDead&&(this._verticesCount<this._maxVerticesCount?(this._owner._isStart||(this._owner._owner.transform.position.cloneTo(this._lastPosition),this._owner._isStart=!0),C$99I.equals(this._lastPosition,this._curPosition)||this._updateTrail()):this._isFinish&&(this._isFinish=!1,this._owner._curSubTrailFinished=!0),0<this._verticesCount)&&(this._updateVertexBuffer2(),this._updateDisappear(),!0));},C$99t._render=function(C$99t){this._isDead||(C$99R.mainContext.drawArrays(5,2*this._curDisappearIndex,this._verticesCount+this._virtualVerticesCount-2*this._curDisappearIndex),console.log(2*this._curDisappearIndex,this._verticesCount+this._virtualVerticesCount-2*this._curDisappearIndex),C$99C.drawCall++,C$99C.trianglesFaces+=this._verticesCount+this._virtualVerticesCount-2*this._curDisappearIndex-2);},C$99t._getVertexBuffer=function(C$99t){return 0===(C$99t=void 0===C$99t?0:C$99t)?this._vertexBuffer1:1===C$99t?this._vertexBuffer2:null;},C$99t._getVertexBuffers=function(){return this._vertexBuffers;},C$99t._getIndexBuffer=function(){return null;},C$99t.reActivate=function(){this._id=laya.d3.core.trail.TrailRenderElement.renderElementCount++,this._isStart=!1,this._isFinish=!1,this._isDead=!1,this._verticesCount=0,this._virtualVerticesCount=0,this._verticesIndex1=0,this._delLength=0,this._curDisappearIndex=0,this._everyGroupVertexBirthTime=[],this._owner._curSubTrailFinishPosition.cloneTo(this._lastPosition);},C$99t._destroy=function(){this._vertexBuffer1.dispose(),this._vertexBuffer2.dispose(),this._vertices1=null,this._vertexBuffer1=null,this._vertices2=null,this._vertexBuffer2=null,this._vertexBuffers=null,this._everyGroupVertexBirthTime=null,this._VerticesToTailLength=null,this._everyVertexToPreVertexDistance=null,this._lastPosition=null,this._curPosition=null,this._delVector3=null,this._lastFixedVertexPosition=null,this._pointAtoBVector3=null,this._pointe=null,this._pointAtoBVector3e=null,this._pointA=null,this._pointB=null;},C$99o(0,C$99t,"_vertexBufferCount",function(){return this._vertexBuffers.length;}),C$99o(0,C$99t,"triangleCount",function(){return 0;}),e$t.renderElementCount=0;}(),function(){function e$d(){}C$99r(e$d,"laya.d3.core.trail.VertexTrail");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration1;}),C$99o(1,e$d,"vertexDeclaration1",function(){return e$d._vertexDeclaration1;}),C$99o(1,e$d,"vertexDeclaration2",function(){return e$d._vertexDeclaration2;}),C$99s(e$d,["_vertexDeclaration1",function(){return this._vertexDeclaration1=new C$99ot(32,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",41),new C$99e(24,"single",33),new C$99e(28,"single",40)]);},"_vertexDeclaration2",function(){return this._vertexDeclaration2=new C$99ot(4,[new C$99e(0,"single",38)]);}]),e$d;}()),C$99it=(C$99r(e$H,"laya.d3.graphics.DynamicBatch"),C$99t=e$H.prototype,C$99y.imps(C$99t,{"laya.d3.core.render.IRenderable":!0}),C$99t._getVertexBuffer=function(C$99t){return 0===(C$99t=void 0===C$99t?0:C$99t)?this._vertexBuffer:null;},C$99t._getIndexBuffer=function(){return this._indexBuffer;},C$99t._getCombineRenderElementFromPool=function(C$99t,C$99e,C$99i){var C$99n=this._combineRenderElementPool[this._combineRenderElementPoolIndex++];return C$99n||(this._combineRenderElementPool[this._combineRenderElementPoolIndex-1]=C$99n=new C$99j(),C$99n._sprite3D=new C$99Ye()),C$99n._sprite3D._render._renderUpdate(C$99i),C$99n;},C$99t._getRenderElement=function(C$99u,C$99c,C$99_){this._vertexDatas||(this._vertexDatas=new Float32Array(this._vertexDeclaration.vertexStride/4*e$H.maxVertexCount),this._indexDatas=new Uint16Array(e$H.maxIndexCount),this._vertexBuffer=C$99ke.create(this._vertexDeclaration,e$H.maxVertexCount,35048),this._indexBuffer=C$99Ne.create("ushort",e$H.maxIndexCount,35048));for(var C$99t=this._merageElements.length=0,C$99e=0,C$99i=0,C$99n=this._combineRenderElements.length;C$99i<C$99n;C$99i++){var C$99r=this._combineRenderElements[C$99i],C$99d=C$99r.getDynamicBatchBakedVertexs(0),C$99s=C$99r.getBakedIndices(),C$99f=C$99r._sprite3D.transform._isFrontFaceInvert,C$99a=C$99t/(this._vertexDeclaration.vertexStride/4),C$99o=C$99e,C$99p=C$99o+C$99s.length;C$99r._tempBatchIndexStart=C$99o,C$99r._tempBatchIndexEnd=C$99p,this._indexDatas.set(C$99s,C$99e);var C$99h=0;if(C$99f)for(C$99h=C$99o;C$99h<C$99p;C$99h+=3){this._indexDatas[C$99h]=C$99a+this._indexDatas[C$99h];var C$99m=this._indexDatas[C$99h+1],C$99g=this._indexDatas[C$99h+2];this._indexDatas[C$99h+1]=C$99a+C$99g,this._indexDatas[C$99h+2]=C$99a+C$99m;}else for(C$99h=C$99o;C$99h<C$99p;C$99h+=3)this._indexDatas[C$99h]=C$99a+this._indexDatas[C$99h],this._indexDatas[C$99h+1]=C$99a+this._indexDatas[C$99h+1],this._indexDatas[C$99h+2]=C$99a+this._indexDatas[C$99h+2];C$99e+=C$99s.length,this._vertexDatas.set(C$99d,C$99t),C$99t+=C$99d.length;}for(this._vertexBuffer.setData(this._vertexDatas),this._indexBuffer.setData(this._indexDatas),C$99i=this._combineRenderElementPoolIndex=0,C$99n=this._materials.length;C$99i<C$99n;C$99i++){var C$99l=this._getCombineRenderElementFromPool(C$99u,C$99c,C$99_);C$99l._type=2,C$99l._staticBatch=null;var C$99v=(C$99l.renderObj=this)._combineRenderElements[this._materialToRenderElementsOffsets[C$99i]]._tempBatchIndexStart,C$99$=C$99i+1===this._materialToRenderElementsOffsets.length?C$99e:this._combineRenderElements[this._materialToRenderElementsOffsets[C$99i+1]]._tempBatchIndexStart;C$99l._tempBatchIndexStart=C$99v,C$99l._tempBatchIndexEnd=C$99$,C$99l._material=this._materials[C$99i],this._merageElements.push(C$99l);}},C$99t._addCombineRenderObjTest=function(C$99t){var C$99t=C$99t.renderObj,C$99e=this._currentCombineIndexCount+C$99t._getIndexBuffer().indexCount,C$99t=this._currentCombineVertexCount+C$99t._getVertexBuffer().vertexCount;return!(e$H.maxVertexCount<C$99t||e$H.maxIndexCount<C$99e);},C$99t._addCombineRenderObj=function(C$99t){var C$99e=C$99t.renderObj;this._combineRenderElements.push(C$99t),this._currentCombineIndexCount=this._currentCombineIndexCount+C$99e._getIndexBuffer().indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount+C$99e._getVertexBuffer().vertexCount;},C$99t._addCombineMaterial=function(C$99t){this._materials.push(C$99t);},C$99t._addMaterialToRenderElementOffset=function(C$99t){this._materialToRenderElementsOffsets.push(C$99t);},C$99t._clearRenderElements=function(){this._combineRenderElements.length=0,this._materials.length=0,this._materialToRenderElementsOffsets.length=0,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0;},C$99t._addToRenderQueue=function(C$99t,C$99e,C$99i,C$99n){this._getRenderElement(C$99e,C$99i,C$99n);for(var C$99r=0,C$99s=this._materials.length;C$99r<C$99s;C$99r++)C$99t.getRenderQueue(this._materials[C$99r].renderQueue)._addDynamicBatchElement(this._merageElements[C$99r]);},C$99t._beforeRender=function(C$99t){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0;},C$99t._render=function(C$99t){var C$99e=C$99t._batchIndexEnd-C$99t._batchIndexStart;C$99R.mainContext.drawElements(4,C$99e,5123,2*C$99t._batchIndexStart),C$99C.drawCall++,C$99C.trianglesFaces+=C$99e/3;},C$99t._getVertexBuffers=function(){return null;},C$99o(0,C$99t,"_vertexBufferCount",function(){return 1;}),C$99o(0,C$99t,"triangleCount",function(){return this._indexBuffer.indexCount/3;}),C$99o(0,C$99t,"combineRenderElementsCount",function(){return this._combineRenderElements.length;}),e$H.maxVertexCount=2e4,e$H.maxIndexCount=4e4,e$H.maxCombineTriangleCount=10,e$H),C$99nt=function(){function e$H(){this._dynamicBatches=null,this._prepareDynamicBatchCombineElements=null,this._dynamicBatches={},this._prepareDynamicBatchCombineElements=[];}C$99r(e$H,"laya.d3.graphics.DynamicBatchManager");var C$99t=e$H.prototype;return C$99t.getDynamicBatch=function(C$99t,C$99e){var C$99i,C$99e=C$99t.id.toString()+C$99e;return this._dynamicBatches[C$99e]?C$99i=this._dynamicBatches[C$99e]:this._dynamicBatches[C$99e]=C$99i=new C$99it(C$99t),C$99i;},C$99t._garbageCollection=function(){for(var C$99t in this._dynamicBatches)0===this._dynamicBatches[C$99t].combineRenderElementsCount&&delete this._dynamicBatches[C$99t];},C$99t._addPrepareRenderElement=function(C$99t){this._prepareDynamicBatchCombineElements.push(C$99t);},C$99t._finishCombineDynamicBatch=function(C$99u){var C$99t,C$99c;this._prepareDynamicBatchCombineElements.sort(e$H._sortPrepareDynamicBatch);for(var C$99e,C$99i,C$99n,C$99r,C$99s,C$99_=-1,C$99d=!0,C$99a=0,C$99o=-1,C$99f=0,C$99p=this._prepareDynamicBatchCombineElements.length;C$99f<C$99p;C$99f++){var C$99h=(C$99i=this._prepareDynamicBatchCombineElements[C$99f]).renderObj._getVertexBuffer(0).vertexDeclaration,C$99l=C$99c!==C$99h;C$99l&&(C$99a=0,C$99c=C$99h);var C$99m=C$99a!==C$99_;C$99m&&(C$99_=C$99a),(C$99l||C$99m)&&(C$99n=this.getDynamicBatch(C$99h,C$99a),C$99t=null),C$99d?C$99d=C$99n._addCombineRenderObjTest(C$99i)?(C$99t!==(C$99e=C$99i._material)?(C$99r&&(C$99u.getRenderQueue(C$99s._material.renderQueue)._addRenderElement(C$99s),C$99s=C$99r=null,C$99o=-1),C$99r=C$99e,C$99o=C$99n.combineRenderElementsCount,C$99s=C$99i,C$99t=C$99e):C$99r?(C$99l=C$99s.renderObj,C$99m=C$99i.renderObj,C$99l._getVertexBuffer().vertexCount+C$99m._getVertexBuffer().vertexCount>C$99it.maxVertexCount||C$99l._getIndexBuffer().indexCount+C$99m._getIndexBuffer().indexCount>C$99it.maxIndexCount?(C$99u.getRenderQueue(C$99s._material.renderQueue)._addRenderElement(C$99s),C$99r=C$99e,C$99o=C$99n.combineRenderElementsCount,C$99s=C$99i):(C$99n._addCombineMaterial(C$99r),C$99n._addMaterialToRenderElementOffset(C$99o),C$99n._addCombineRenderObj(C$99s),C$99s=C$99r=null,C$99o=-1,C$99n._addCombineRenderObj(C$99i))):C$99n._addCombineRenderObj(C$99i),!0):(C$99r&&(C$99u.getRenderQueue(C$99s._material.renderQueue)._addRenderElement(C$99s),C$99s=C$99r=null,C$99o=-1),C$99a++,!1):(C$99h=this._prepareDynamicBatchCombineElements[C$99f-1],C$99n._addMaterialToRenderElementOffset(C$99n.combineRenderElementsCount),C$99t=C$99h._material,C$99n._addCombineMaterial(C$99t),C$99n._addCombineRenderObj(C$99h),C$99d=!0,C$99t!==(C$99e=C$99i._material)?(C$99r=C$99e,C$99o=C$99n.combineRenderElementsCount,C$99s=C$99i):C$99n._addCombineRenderObj(C$99i),C$99t=C$99e);}C$99r&&(C$99u.getRenderQueue(C$99s._material.renderQueue)._addRenderElement(C$99s),C$99s=C$99r=null,C$99o=-1),this._prepareDynamicBatchCombineElements.length=0;},C$99t._clearRenderElements=function(){for(var C$99t in this._dynamicBatches)this._dynamicBatches[C$99t]._clearRenderElements();},C$99t._addToRenderQueue=function(C$99t,C$99e,C$99i,C$99n){for(var C$99r in this._dynamicBatches){C$99r=this._dynamicBatches[C$99r];0<C$99r.combineRenderElementsCount&&C$99r._addToRenderQueue(C$99t,C$99e,C$99i,C$99n);}},C$99t.dispose=function(){this._dynamicBatches=null;},e$H._sortPrepareDynamicBatch=function(C$99t,C$99e){return C$99t._mainSortID-C$99e._mainSortID;},e$H;}(),C$99rt=function(){function e$d(){}return C$99r(e$d,"laya.d3.graphics.FrustumCulling"),e$d.renderShadowObjectCulling=function(C$99t,C$99u,C$99e,C$99c,C$99_){var C$99i=0,C$99n=0,C$99r=0,C$99s=0;for(C$99i=0,C$99r=C$99e.length;C$99i<C$99r;C$99i++){var C$99d=C$99e[C$99i];C$99d&&C$99d._clearRenderElements();}var C$99a,C$99o,C$99h,C$99f=C$99t._cullingRenders;if(1<C$99_){for(C$99i=0,C$99r=C$99t._cullingRendersLength;C$99i<C$99r;C$99i++)if((C$99a=C$99f[C$99i]).castShadow&&C$99O.isVisible(C$99a._owner.layer.mask)&&C$99a.enable)for(var C$99l=1,C$99p=C$99u.length;C$99l<C$99p;C$99l++)if(C$99o=C$99e[C$99l-1],0!==C$99u[C$99l].containsBoundSphere(C$99a.boundingSphere))for(C$99n=0,C$99s=(C$99h=C$99a._renderElements).length;C$99n<C$99s;C$99n++)C$99o._addRenderElement(C$99h[C$99n]);}else for(C$99i=0,C$99r=C$99t._cullingRendersLength;C$99i<C$99r;C$99i++)if((C$99a=C$99f[C$99i]).castShadow&&C$99O.isVisible(C$99a._owner.layer.mask)&&C$99a.enable&&0!==C$99u[0].containsBoundSphere(C$99a.boundingSphere))for(C$99a._renderUpdate(C$99c),C$99o=C$99e[0],C$99n=0,C$99s=(C$99h=C$99a._renderElements).length;C$99n<C$99s;C$99n++)C$99o._addRenderElement(C$99h[C$99n]);},e$d.renderShadowObjectCullingOctree=function(C$99t,C$99e,C$99i,C$99n,C$99r){for(var C$99s=0,C$99a=C$99i.length;C$99s<C$99a;C$99s++){var C$99o=C$99i[C$99s];C$99o&&C$99o._clearRenderElements();}1<C$99r?C$99t.treeRoot.cullingShadowObjects(C$99e,C$99i,!0,0,C$99t):C$99t.treeRoot.cullingShadowObjectsOnePSSM(C$99e[0],C$99i,C$99n,!0,0,C$99t);},e$d.renderObjectCulling=function(C$99u,C$99t,C$99c,C$99_,C$99d,C$99e){var C$99f,C$99i=0,C$99n=0,C$99r=0,C$99p=C$99t._quenes,C$99s=C$99t._dynamicBatchManager,C$99m=C$99t._cullingRenders;for(C$99i=0,C$99n=C$99p.length;C$99i<C$99n;C$99i++){var C$99g=C$99p[C$99i];C$99g&&C$99g._clearRenderElements();}var C$99a=C$99st._staticBatchManagers;for(C$99i=0,C$99n=C$99a.length;C$99i<C$99n;C$99i++)C$99a[C$99i]._clearRenderElements();C$99s._clearRenderElements();var C$99v=C$99c.transform.position;for(C$99i=0,C$99n=C$99t._cullingRendersLength;C$99i<C$99n;C$99i++){var C$99o=C$99m[C$99i];if(C$99O.isVisible(C$99o._owner.layer.mask)&&C$99o.enable&&0!==C$99u.containsBoundSphere(C$99o.boundingSphere)&&C$99o._renderUpdate(C$99e)){C$99o._distanceForSort=C$99I.distance(C$99o.boundingSphere.center,C$99v)+C$99o.sortingFudge;var C$99$=C$99o._renderElements;for(C$99r=0,C$99f=C$99$.length;C$99r<C$99f;C$99r++){var C$99h=C$99$[C$99r],C$99l=C$99h._staticBatch;C$99l&&C$99l._material===C$99h._material?C$99l._addBatchRenderElement(C$99h):(C$99l=C$99h.renderObj).triangleCount<10&&1===C$99l._vertexBufferCount&&C$99l._getIndexBuffer()&&C$99h._material.renderQueue<2&&C$99h._canDynamicBatch&&!C$99o._owner.isStatic?C$99s._addPrepareRenderElement(C$99h):C$99t.getRenderQueue(C$99h._material.renderQueue)._addRenderElement(C$99h);}}}for(C$99i=0,C$99n=C$99a.length;C$99i<C$99n;C$99i++)C$99a[C$99i]._addToRenderQueue(C$99t,C$99_,C$99d,C$99e);C$99s._finishCombineDynamicBatch(C$99t),C$99s._addToRenderQueue(C$99t,C$99_,C$99d,C$99e);},e$d.renderObjectCullingOctree=function(C$99u,C$99t,C$99c,C$99e,C$99i,C$99n){var C$99r=0,C$99s=0,C$99a=C$99t._quenes,C$99o=C$99t._dynamicBatchManager;for(C$99r=0,C$99s=C$99a.length;C$99r<C$99s;C$99r++){var C$99h=C$99a[C$99r];C$99h&&C$99h._clearRenderElements();}var C$99l=C$99st._staticBatchManagers;for(C$99r=0,C$99s=C$99l.length;C$99r<C$99s;C$99r++)C$99l[C$99r]._clearRenderElements();for(C$99o._clearRenderElements(),C$99t._cullingRenders.length=0,C$99t.treeRoot.cullingObjects(C$99u,!0,0,C$99c.transform.position,C$99n),C$99r=0,C$99s=C$99l.length;C$99r<C$99s;C$99r++)C$99l[C$99r]._addToRenderQueue(C$99t,C$99e,C$99i,C$99n);C$99o._finishCombineDynamicBatch(C$99t),C$99o._addToRenderQueue(C$99t,C$99e,C$99i,C$99n);},e$d.renderObjectCullingNoBoundFrustum=function(C$99t,C$99u,C$99c,C$99_,C$99e){var C$99d,C$99i=0,C$99n=0,C$99r=0,C$99f=C$99t._quenes,C$99s=C$99t._dynamicBatchManager,C$99p=C$99t._cullingRenders;for(C$99i=0,C$99n=C$99f.length;C$99i<C$99n;C$99i++){var C$99m=C$99f[C$99i];C$99m&&C$99m._clearRenderElements();}var C$99a=C$99st._staticBatchManagers;for(C$99i=0,C$99n=C$99a.length;C$99i<C$99n;C$99i++)C$99a[C$99i]._clearRenderElements();C$99s._clearRenderElements();var C$99g=C$99u.transform.position;for(C$99i=0,C$99n=C$99t._cullingRendersLength;C$99i<C$99n;C$99i++){var C$99o=C$99p[C$99i];if(C$99O.isVisible(C$99o._owner.layer.mask)&&C$99o.enable){C$99o._renderUpdate(C$99e),C$99o._distanceForSort=C$99I.distance(C$99o.boundingSphere.center,C$99g)+C$99o.sortingFudge;var C$99v=C$99o._renderElements;for(C$99r=0,C$99d=C$99v.length;C$99r<C$99d;C$99r++){var C$99h=C$99v[C$99r],C$99l=C$99h._staticBatch;C$99l&&C$99l._material===C$99h._material?C$99l._addBatchRenderElement(C$99h):(C$99l=C$99h.renderObj).triangleCount<10&&1===C$99l._vertexBufferCount&&C$99l._getIndexBuffer()&&C$99h._material.renderQueue<2&&C$99h._canDynamicBatch&&!C$99o._owner.isStatic?C$99s._addPrepareRenderElement(C$99h):C$99t.getRenderQueue(C$99h._material.renderQueue)._addRenderElement(C$99h);}}}for(C$99i=0,C$99n=C$99a.length;C$99i<C$99n;C$99i++)C$99a[C$99i]._addToRenderQueue(C$99t,C$99c,C$99_,C$99e);C$99s._finishCombineDynamicBatch(C$99t),C$99s._addToRenderQueue(C$99t,C$99c,C$99_,C$99e);},e$d;}(),C$99st=function(){function e$i(){this._initBatchRenderElements=null,this._staticBatches=null,this._initBatchRenderElements=[],this._staticBatches={};}C$99r(e$i,"laya.d3.graphics.StaticBatchManager");var C$99t=e$i.prototype;return C$99t._finishInit=function(){for(var C$99t in this._staticBatches)this._staticBatches[C$99t]._finishInit();this._initBatchRenderElements.length=0;},C$99t._initStaticBatchs=function(C$99t){throw new Error("StaticBatchManager:must override this function.");},C$99t._addInitBatchSprite=function(C$99t){for(var C$99e=C$99t._render._renderElements,C$99i=0,C$99n=C$99e.length;C$99i<C$99n;C$99i++)this._initBatchRenderElements.push(C$99e[C$99i]);},C$99t._clearRenderElements=function(){for(var C$99t in this._staticBatches)this._staticBatches[C$99t]._clearRenderElements();},C$99t._garbageCollection=function(C$99t){var C$99e=C$99t._staticBatch,C$99i=C$99e._initBatchRenderElements,C$99t=C$99i.indexOf(C$99t);C$99i.splice(C$99t,1),0===C$99i.length&&(C$99e.dispose(),delete this._staticBatches[C$99e._key]);},C$99t._addToRenderQueue=function(C$99t,C$99e,C$99i,C$99n){for(var C$99r in this._staticBatches){C$99r=this._staticBatches[C$99r];0<C$99r._batchRenderElements.length&&C$99r._updateToRenderQueue(C$99t,C$99n);}},C$99t.dispose=function(){this._staticBatches=null;},e$i._addToStaticBatchQueue=function(C$99t){C$99t instanceof laya.d3.core.RenderableSprite3D&&C$99t._addToInitStaticBatchManager();for(var C$99e=0,C$99i=C$99t.numChildren;C$99e<C$99i;C$99e++)e$i._addToStaticBatchQueue(C$99t._childs[C$99e]);},e$i.combine=function(C$99t,C$99e){var C$99i,C$99n=0,C$99r=0;if(C$99e)for(C$99n=0,C$99r=C$99e.length;C$99n<C$99r;C$99n++)C$99e[C$99n]._addToInitStaticBatchManager();else C$99t&&e$i._addToStaticBatchQueue(C$99t);for(C$99n=0,C$99r=e$i._staticBatchManagers.length;C$99n<C$99r;C$99n++)(C$99i=e$i._staticBatchManagers[C$99n])._initStaticBatchs(C$99t),C$99i._finishInit();},e$i._staticBatchManagers=[],e$i;}(),C$99at=function(){function e$d(C$99t,C$99e,C$99i){this._combineRenderElementPoolIndex=0,this._combineRenderElementPool=null,this._initBatchRenderElements=null,this._batchRenderElements=null,this._material=null,this._rootOwner=null,this._key=null,this._manager=null,this._key=C$99t,this._manager=C$99e,this._combineRenderElementPoolIndex=0,this._combineRenderElementPool=[],this._initBatchRenderElements=[],this._batchRenderElements=[],this._rootOwner=C$99i;}C$99r(e$d,"laya.d3.graphics.StaticBatch");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.core.render.IRenderable":!0,"laya.resource.IDispose":!0}),C$99t._binarySearch=function(C$99t){for(var C$99e,C$99i=0,C$99n=this._batchRenderElements.length-1;C$99i<=C$99n;)C$99e=Math.floor((C$99i+C$99n)/2),this._compareBatchRenderElement(this._batchRenderElements[C$99e],C$99t)?C$99n=C$99e-1:C$99i=C$99e+1;return C$99i;},C$99t._compareBatchRenderElement=function(C$99t,C$99e){throw new Error("StaticBatch:must override this function.");},C$99t._getVertexDecLightMap=function(C$99t){return C$99t===C$99Ot.vertexDeclaration?C$99Pt.vertexDeclaration:C$99t===C$99kt.vertexDeclaration?C$99Rt.vertexDeclaration:C$99t===C$99Mt.vertexDeclaration?C$99yt.vertexDeclaration:C$99t===C$99Wt.vertexDeclaration?null:C$99t===C$99mt.vertexDeclaration?C$99gt.vertexDeclaration:C$99t===C$99Ft.vertexDeclaration?C$99Lt.vertexDeclaration:C$99t===C$99Dt.vertexDeclaration?C$99Et.vertexDeclaration:C$99t===C$99Vt.vertexDeclaration?C$99Bt.vertexDeclaration:C$99t===C$99kt.vertexDeclaration?C$99Rt.vertexDeclaration:C$99t===C$99Ct.vertexDeclaration?C$99bt.vertexDeclaration:C$99t===C$99Wt.vertexDeclaration?null:C$99t===C$99mt.vertexDeclaration?C$99gt.vertexDeclaration:C$99t===C$99Ut.vertexDeclaration?C$99Nt.vertexDeclaration:C$99t===C$99Dt.vertexDeclaration?C$99Et.vertexDeclaration:C$99t;},C$99t._getCombineRenderElementFromPool=function(){throw new Error("StaticBatch:must override this function.");},C$99t._addBatchRenderElement=function(C$99t){this._batchRenderElements.splice(this._binarySearch(C$99t),0,C$99t);},C$99t._updateToRenderQueue=function(C$99t,C$99e){this._combineRenderElementPoolIndex=0,this._getRenderElement(C$99t.getRenderQueue(this._material.renderQueue)._renderElements,C$99t,C$99e);},C$99t._getRenderElement=function(C$99t,C$99e,C$99i){throw new Error("StaticBatch:must override this function.");},C$99t._finishInit=function(){throw new Error("StaticBatch:must override this function.");},C$99t._clearRenderElements=function(){this._batchRenderElements.length=0;},C$99t.dispose=function(){},C$99t._getVertexBuffer=function(C$99t){return null;},C$99t._getIndexBuffer=function(){return null;},C$99t._beforeRender=function(C$99t){return!0;},C$99t._render=function(C$99t){},C$99t._getVertexBuffers=function(){return null;},C$99o(0,C$99t,"_vertexBufferCount",function(){return 1;}),C$99o(0,C$99t,"triangleCount",function(){return 0;}),e$d.combine=function(C$99t){console.log("StaticBatch: discard property,please use StaticBatchManager.combine() function instead."),C$99st.combine(C$99t);},e$d.maxBatchVertexCount=65535,e$d;}(),C$99ot=function(){function e$A(C$99t,C$99e){if(this._id=0,this._shaderValues=null,this._shaderDefineValue=0,this._vertexStride=0,this._vertexElements=null,this._vertexElementsDic=null,this._id=++e$A._uniqueIDCounter,this._id>e$A.maxVertexDeclaration)throw new Error("VertexDeclaration: VertexDeclaration count should not large than ",e$A.maxVertexDeclaration);this._shaderValues=new C$99_e(),this._vertexElementsDic={},this._vertexStride=C$99t,this._vertexElements=C$99e;for(var C$99i=0;C$99i<C$99e.length;C$99i++){var C$99n=C$99e[C$99i],C$99r=C$99n.elementUsage;this._vertexElementsDic[C$99r]=C$99n;C$99n=[e$A._getTypeSize(C$99n.elementFormat)/4,5126,!1,this._vertexStride,C$99n.offset];switch(this._shaderValues.setValue(C$99r,C$99n),C$99r){case 1:this._addShaderDefine(C$99we.SHADERDEFINE_COLOR);break;case 2:this._addShaderDefine(C$99we.SHADERDEFINE_UV0);break;case 15:this._addShaderDefine(C$99we.SHADERDEFINE_UV1);}}}C$99r(e$A,"laya.d3.graphics.VertexDeclaration");var C$99t=e$A.prototype;return C$99t._addShaderDefine=function(C$99t){this._shaderDefineValue|=C$99t;},C$99t._removeShaderDefine=function(C$99t){this._shaderDefineValue&=~C$99t;},C$99t.getVertexElements=function(){return this._vertexElements.slice();},C$99t.getVertexElementByUsage=function(C$99t){return this._vertexElementsDic[C$99t];},C$99t.unBinding=function(){},C$99o(0,C$99t,"shaderDefineValue",function(){return this._shaderDefineValue;}),C$99o(0,C$99t,"id",function(){return this._id;}),C$99o(0,C$99t,"vertexStride",function(){return this._vertexStride;}),C$99o(0,C$99t,"shaderValues",function(){return this._shaderValues;}),e$A._getTypeSize=function(C$99t){switch(C$99t){case"single":return 4;case"vector2":return 8;case"vector3":return 12;case"vector4":return 16;case"color":case"byte4":case"short2":return 4;case"short4":return 8;case"normalizedshort2":return 4;case"normalizedshort4":return 8;case"halfvector2":return 4;case"halfvector4":return 8;}return 0;},e$A.getVertexStride=function(C$99t){for(var C$99e=0,C$99i=0;C$99i<C$99t.Length;C$99i++){var C$99n=C$99t[C$99i],C$99n=C$99n.offset+e$A._getTypeSize(C$99n.elementFormat);C$99e<C$99n&&(C$99e=C$99n);}return C$99e;},e$A._maxVertexDeclarationBit=1e3,e$A._uniqueIDCounter=1,C$99s(e$A,["maxVertexDeclaration",function(){return this.maxVertexDeclaration=2147483647-1e3*Math.floor(2147483.647);}]),e$A;}(),C$99e=function(){function e$d(C$99t,C$99e,C$99i){this.offset=0,this.elementFormat=null,this.elementUsage=0,this.offset=C$99t,this.elementFormat=C$99e,this.elementUsage=C$99i;}return C$99r(e$d,"laya.d3.graphics.VertexElement"),e$d;}(),C$99ht=(function(){function e$d(){}C$99r(e$d,"laya.d3.graphics.VertexElementFormat"),e$d.Single="single",e$d.Vector2="vector2",e$d.Vector3="vector3",e$d.Vector4="vector4",e$d.Color="color",e$d.Byte4="byte4",e$d.Short2="short2",e$d.Short4="short4",e$d.NormalizedShort2="normalizedshort2",e$d.NormalizedShort4="normalizedshort4",e$d.HalfVector2="halfvector2",e$d.HalfVector4="halfvector4";}(),function(){function e$d(){}C$99r(e$d,"laya.d3.graphics.VertexElementUsage"),e$d.POSITION0=0,e$d.COLOR0=1,e$d.TEXTURECOORDINATE0=2,e$d.NORMAL0=3,e$d.BINORMAL0=4,e$d.TANGENT0=5,e$d.BLENDINDICES0=6,e$d.BLENDWEIGHT0=7,e$d.DEPTH0=8,e$d.FOG0=9,e$d.POINTSIZE0=10,e$d.SAMPLE0=11,e$d.TESSELLATEFACTOR0=12,e$d.COLOR1=13,e$d.NEXTTEXTURECOORDINATE0=14,e$d.TEXTURECOORDINATE1=15,e$d.NEXTTEXTURECOORDINATE1=16,e$d.CORNERTEXTURECOORDINATE0=17,e$d.VELOCITY0=18,e$d.STARTCOLOR0=19,e$d.STARTSIZE=20,e$d.AGEADDSCALE0=21,e$d.STARTROTATION=22,e$d.ENDCOLOR0=23,e$d.STARTLIFETIME=24,e$d.TIME0=33,e$d.SHAPEPOSITIONSTARTLIFETIME=30,e$d.DIRECTIONTIME=32,e$d.SIZEROTATION0=27,e$d.RADIUS0=28,e$d.RADIAN0=29,e$d.STARTSPEED=31,e$d.RANDOM0=34,e$d.RANDOM1=35,e$d.SIMULATIONWORLDPOSTION=36,e$d.SIMULATIONWORLDROTATION=37,e$d.TEXTURECOORDINATE0X=38,e$d.TEXTURECOORDINATE0X1=39,e$d.TEXTURECOORDINATE0Y=40,e$d.OFFSETVECTOR=41;}(),function(){function e$d(C$99t,C$99e,C$99i){this._position=null,this._textureCoordinate0=null,this._time=NaN,this._position=C$99t,this._textureCoordinate0=C$99e,this._time=C$99i;}C$99r(e$d,"laya.d3.graphics.VertexGlitter");var C$99t=e$d.prototype;C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"textureCoordinate",function(){return this._textureCoordinate0;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"time",function(){return this._time;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(24,[new C$99e(0,"vector3",0),new C$99e(12,"vector2",2),new C$99e(20,"single",33)]);}]);}(),function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){this._cornerTextureCoordinate=null,this._position=null,this._velocity=null,this._startColor=null,this._endColor=null,this._sizeRotation=null,this._radius=null,this._radian=null,this._ageAddScale=NaN,this._time=NaN,this._cornerTextureCoordinate=C$99t,this._position=C$99e,this._velocity=C$99i,this._startColor=C$99n,this._endColor=C$99r,this._sizeRotation=C$99s,this._radius=C$99a,this._radian=C$99o,this._ageAddScale=C$99h,this._time=C$99l;}C$99r(e$d,"laya.d3.graphics.VertexParticle");var C$99t=e$d.prototype;C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"endColor",function(){return this._endColor;}),C$99o(0,C$99t,"cornerTextureCoordinate",function(){return this._cornerTextureCoordinate;}),C$99o(0,C$99t,"sizeRotation",function(){return this._sizeRotation;}),C$99o(0,C$99t,"velocity",function(){return this._velocity;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"startColor",function(){return this._startColor;}),C$99o(0,C$99t,"radius",function(){return this._radius;}),C$99o(0,C$99t,"radian",function(){return this._radian;}),C$99o(0,C$99t,"ageAddScale",function(){return this._ageAddScale;}),C$99o(0,C$99t,"time",function(){return this._time;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(116,[new C$99e(0,"vector4",17),new C$99e(16,"vector3",0),new C$99e(28,"vector3",18),new C$99e(40,"vector4",19),new C$99e(56,"vector4",23),new C$99e(72,"vector3",27),new C$99e(84,"vector2",28),new C$99e(92,"vector4",29),new C$99e(108,"single",24),new C$99e(112,"single",33)]);}]);}(),function(){function e$d(C$99t){this._position=null,this._position=C$99t;}C$99r(e$d,"laya.d3.graphics.VertexPosition");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(12,[new C$99e(0,"vector3",0)]);}]),e$d;}()),C$99lt=function(){function e$d(C$99t,C$99e){this._position=null,this._normal=null,this._position=C$99t,this._normal=C$99e;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormal");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(24,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3)]);}]),e$d;}(),C$99ut=function(){function e$d(C$99t,C$99e,C$99i){this._position=null,this._normal=null,this._color=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColor");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(40,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1)]);}]),e$d;}(),C$99ct=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r){this._position=null,this._normal=null,this._color=null,this._blendIndex=null,this._blendWeight=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._blendIndex=C$99n,this._blendWeight=C$99r;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorSkin");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(72,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector4",7),new C$99e(56,"vector4",6)]);}]),e$d;}(),C$99_t=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=null,this._normal=null,this._color=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._tangent=C$99n,this._blendIndex=C$99r,this._blendWeight=C$99s;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorSkinSTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(88,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector4",7),new C$99e(56,"vector4",6),new C$99e(72,"vector4",5)]);}]),e$d;}(),C$99dt=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=null,this._normal=null,this._color=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._tangent=C$99n,this._blendIndex=C$99r,this._blendWeight=C$99s;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorSkinTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(84,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector4",7),new C$99e(56,"vector4",6),new C$99e(72,"vector3",5)]);}]),e$d;}(),C$99ft=function(){function e$d(C$99t,C$99e,C$99i,C$99n){this._position=null,this._normal=null,this._color=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._tangent=C$99n;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorSTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(56,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector4",5)]);}]),e$d;}(),C$99pt=function(){function e$d(C$99t,C$99e,C$99i,C$99n){this._position=null,this._normal=null,this._color=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._tangent=C$99n;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(52,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector3",5)]);}]),e$d;}(),C$99mt=function(){function e$d(C$99t,C$99e,C$99i,C$99n){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate=C$99n;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorTexture");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"textureCoordinate",function(){return this._textureCoordinate;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(48,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector2",2)]);}]),e$d;}(),C$99gt=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate0=C$99n,this._textureCoordinate1=C$99r;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"textureCoordinate0",function(){return this._textureCoordinate0;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(0,C$99t,"textureCoordinate1",function(){return this._textureCoordinate1;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(56,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector2",2),new C$99e(48,"vector2",15)]);}]),e$d;}(),C$99vt=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate0=C$99n,this._textureCoordinate1=C$99r,this._blendIndex=C$99s,this._blendWeight=C$99a;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1Skin");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"textureCoordinate0",function(){return this._textureCoordinate0;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(0,C$99t,"textureCoordinate1",function(){return this._textureCoordinate1;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(88,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector2",2),new C$99e(48,"vector2",15),new C$99e(56,"vector4",7),new C$99e(72,"vector4",6)]);}]),e$d;}(),C$99$t=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate0=C$99n,this._textureCoordinate1=C$99r,this._tangent=C$99s,this._blendIndex=C$99a,this._blendWeight=C$99o;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1SkinSTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"textureCoordinate0",function(){return this._textureCoordinate0;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(0,C$99t,"textureCoordinate1",function(){return this._textureCoordinate1;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(104,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector2",2),new C$99e(48,"vector2",15),new C$99e(56,"vector4",7),new C$99e(72,"vector4",6),new C$99e(88,"vector4",5)]);}]),e$d;}(),C$99xt=function(){function e$d(){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1SkinTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99t.VertexPositionNormalColorTexture0SkinTangent=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate0=C$99n,this._textureCoordinate1=C$99r,this._tangent=C$99s,this._blendIndex=C$99a,this._blendWeight=C$99o;},C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"textureCoordinate0",function(){return this._textureCoordinate0;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(0,C$99t,"textureCoordinate1",function(){return this._textureCoordinate1;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(100,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector2",2),new C$99e(48,"vector2",15),new C$99e(56,"vector4",7),new C$99e(72,"vector4",6),new C$99e(88,"vector3",5)]);}]),e$d;}(),C$99yt=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate0=C$99n,this._textureCoordinate1=C$99r,this._tangent=C$99s;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1STangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"textureCoordinate0",function(){return this._textureCoordinate0;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(0,C$99t,"textureCoordinate1",function(){return this._textureCoordinate1;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(72,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector2",2),new C$99e(48,"vector2",15),new C$99e(56,"vector4",5)]);}]),e$d;}(),C$99bt=function(){function e$d(){this._position=null,this._normal=null,this._color=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorTexture0Texture1Tangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99t.VertexPositionNormalColorTexture0Tangent=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate0=C$99n,this._textureCoordinate1=C$99r,this._tangent=C$99s;},C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"textureCoordinate0",function(){return this._textureCoordinate0;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(0,C$99t,"textureCoordinate1",function(){return this._textureCoordinate1;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(68,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector2",2),new C$99e(48,"vector2",15),new C$99e(56,"vector3",5)]);}]),e$d;}(),C$99wt=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate=C$99n,this._blendIndex=C$99r,this._blendWeight=C$99s;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorTextureSkin");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"textureCoordinate",function(){return this._textureCoordinate;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(80,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector2",2),new C$99e(48,"vector4",7),new C$99e(64,"vector4",6)]);}]),e$d;}(),C$99Tt=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate=C$99n,this._tangent=C$99r,this._blendIndex=C$99s,this._blendWeight=C$99a;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorTextureSkinSTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"textureCoordinate",function(){return this._textureCoordinate;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(96,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector2",2),new C$99e(48,"vector4",7),new C$99e(64,"vector4",6),new C$99e(80,"vector4",5)]);}]),e$d;}(),C$99St=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate=C$99n,this._tangent=C$99r,this._blendIndex=C$99s,this._blendWeight=C$99a;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorTextureSkinTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"textureCoordinate",function(){return this._textureCoordinate;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(92,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector2",2),new C$99e(48,"vector4",7),new C$99e(64,"vector4",6),new C$99e(80,"vector3",5)]);}]),e$d;}(),C$99Mt=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate=C$99n,this._tangent=C$99r;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorTextureSTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"textureCoordinate",function(){return this._textureCoordinate;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(64,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector2",2),new C$99e(48,"vector4",5)]);}]),e$d;}(),C$99Ct=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r){this._position=null,this._normal=null,this._color=null,this._textureCoordinate=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._color=C$99i,this._textureCoordinate=C$99n,this._tangent=C$99r;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalColorTextureTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"textureCoordinate",function(){return this._textureCoordinate;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"color",function(){return this._color;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(60,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",1),new C$99e(40,"vector2",2),new C$99e(48,"vector3",5)]);}]),e$d;}(),C$99At=function(){function e$d(C$99t,C$99e,C$99i){this._position=null,this._normal=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._tangent=C$99i;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalSTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(40,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector4",5)]);}]),e$d;}(),C$99It=function(){function e$d(C$99t,C$99e,C$99i){this._position=null,this._normal=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._tangent=C$99i;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(36,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector3",5)]);}]),e$d;}(),C$99Dt=function(){function e$d(C$99t,C$99e,C$99i){this._position=null,this._normal=null,this._textureCoordinate=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalTexture");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"textureCoordinate",function(){return this._textureCoordinate;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(32,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector2",2)]);}]),e$d;}(),C$99Et=function(){function e$d(C$99t,C$99e,C$99i,C$99n){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate0=C$99i,this._textureCoordinate1=C$99n;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalTexture0Texture1");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"textureCoordinate0",function(){return this._textureCoordinate0;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(0,C$99t,"textureCoordinate1",function(){return this._textureCoordinate1;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(40,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector2",2),new C$99e(32,"vector2",15)]);}]),e$d;}(),C$99Rt=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate0=C$99i,this._textureCoordinate1=C$99n,this._blendIndex=C$99r,this._blendWeight=C$99s;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalTexture0Texture1Skin");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"textureCoordinate0",function(){return this._textureCoordinate0;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(0,C$99t,"textureCoordinate1",function(){return this._textureCoordinate1;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(72,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector2",2),new C$99e(32,"vector2",15),new C$99e(40,"vector4",7),new C$99e(56,"vector4",6)]);}]),e$d;}(),C$99Pt=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate0=C$99i,this._textureCoordinate1=C$99n,this._tangent=C$99r,this._blendIndex=C$99s,this._blendWeight=C$99a;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalTexture0Texture1SkinSTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"textureCoordinate0",function(){return this._textureCoordinate0;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(0,C$99t,"textureCoordinate1",function(){return this._textureCoordinate1;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(88,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector2",2),new C$99e(32,"vector2",15),new C$99e(40,"vector4",7),new C$99e(56,"vector4",6),new C$99e(72,"vector4",5)]);}]),e$d;}(),C$99Bt=function(){function e$d(){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalTexture0Texture1SkinTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99t.VertexPositionNormalTexture0SkinTangent=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){this._position=C$99t,this._normal=C$99e,this._textureCoordinate0=C$99i,this._textureCoordinate1=C$99n,this._tangent=C$99r,this._blendIndex=C$99s,this._blendWeight=C$99a;},C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"textureCoordinate0",function(){return this._textureCoordinate0;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(0,C$99t,"textureCoordinate1",function(){return this._textureCoordinate1;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(84,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector2",2),new C$99e(32,"vector2",15),new C$99e(40,"vector4",7),new C$99e(56,"vector4",6),new C$99e(72,"vector3",5)]);}]),e$d;}(),C$99Lt=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate0=C$99i,this._textureCoordinate1=C$99n,this._tangent=C$99r;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalTexture0Texture1STangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"textureCoordinate0",function(){return this._textureCoordinate0;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(0,C$99t,"textureCoordinate1",function(){return this._textureCoordinate1;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(56,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector2",2),new C$99e(32,"vector2",15),new C$99e(40,"vector4",5)]);}]),e$d;}(),C$99Nt=function(){function e$d(){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._tangent=null;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalTexture0Texture1Tangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99t.VertexPositionNormalTexture0Tangent=function(C$99t,C$99e,C$99i,C$99n,C$99r){this._position=C$99t,this._normal=C$99e,this._textureCoordinate0=C$99i,this._textureCoordinate1=C$99n,this._tangent=C$99r;},C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"textureCoordinate0",function(){return this._textureCoordinate0;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(0,C$99t,"textureCoordinate1",function(){return this._textureCoordinate1;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(52,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector2",2),new C$99e(32,"vector2",15),new C$99e(40,"vector3",5)]);}]),e$d;}(),C$99kt=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r){this._position=null,this._normal=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i,this._blendIndex=C$99n,this._blendWeight=C$99r;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalTextureSkin");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"textureCoordinate",function(){return this._textureCoordinate;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(64,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector2",2),new C$99e(32,"vector4",7),new C$99e(48,"vector4",6)]);}]),e$d;}(),C$99Ot=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=null,this._normal=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i,this._tangent=C$99n,this._blendIndex=C$99r,this._blendWeight=C$99s;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalTextureSkinSTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"textureCoordinate",function(){return this._textureCoordinate;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(80,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector2",2),new C$99e(32,"vector4",7),new C$99e(48,"vector4",6),new C$99e(64,"vector4",5)]);}]),e$d;}(),C$99Vt=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._position=null,this._normal=null,this._textureCoordinate=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i,this._tangent=C$99n,this._blendIndex=C$99r,this._blendWeight=C$99s;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalTextureSkinTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"textureCoordinate",function(){return this._textureCoordinate;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(76,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector2",2),new C$99e(32,"vector4",7),new C$99e(48,"vector4",6),new C$99e(64,"vector3",5)]);}]),e$d;}(),C$99Ft=function(){function e$d(C$99t,C$99e,C$99i,C$99n){this._position=null,this._normal=null,this._textureCoordinate=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i,this._tangent=C$99n;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalTextureSTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"textureCoordinate",function(){return this._textureCoordinate;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(48,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector2",2),new C$99e(32,"vector4",5)]);}]),e$d;}(),C$99Ut=function(){function e$d(C$99t,C$99e,C$99i,C$99n){this._position=null,this._normal=null,this._textureCoordinate=null,this._tangent=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i,this._tangent=C$99n;}C$99r(e$d,"laya.d3.graphics.VertexPositionNormalTextureTangent");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"textureCoordinate",function(){return this._textureCoordinate;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(44,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector2",2),new C$99e(32,"vector3",5)]);}]),e$d;}(),C$99Wt=function(){function e$d(C$99t,C$99e,C$99i){this._position=null,this._normal=null,this._textureCoordinate=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i;}C$99r(e$d,"laya.d3.graphics.VertexPositionNTBTexture");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"textureCoordinate",function(){return this._textureCoordinate;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(56,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector3",5),new C$99e(36,"vector3",4),new C$99e(48,"vector2",2)]);}]),e$d;}(),C$99Ht=function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){this._position=null,this._normal=null,this._textureCoordinate0=null,this._textureCoordinate1=null,this._blendIndex=null,this._blendWeight=null,this._tangent=null,this.binormal=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate0=C$99n,this._textureCoordinate1=C$99r,this._tangent=C$99s,this._blendIndex=C$99a,this._blendWeight=C$99o;}C$99r(e$d,"laya.d3.graphics.VertexPositionNTBTexture0Texture1Skin");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"tangent",function(){return this._tangent;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"textureCoordinate0",function(){return this._textureCoordinate0;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(0,C$99t,"textureCoordinate1",function(){return this._textureCoordinate1;}),C$99o(0,C$99t,"blendIndex",function(){return this._blendIndex;}),C$99o(0,C$99t,"blendWeight",function(){return this._blendWeight;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(96,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector3",5),new C$99e(36,"vector3",4),new C$99e(48,"vector2",2),new C$99e(56,"vector2",15),new C$99e(64,"vector4",7),new C$99e(80,"vector4",6)]);}]),e$d;}(),C$99Gt=function(){function e$d(C$99t,C$99e,C$99i){this._position=null,this._normal=null,this._textureCoordinate=null,this._position=C$99t,this._normal=C$99e,this._textureCoordinate=C$99i;}C$99r(e$d,"laya.d3.graphics.VertexPositionNTBTextureSkin");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"textureCoordinate",function(){return this._textureCoordinate;}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(88,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector3",5),new C$99e(36,"vector3",4),new C$99e(48,"vector2",2),new C$99e(56,"vector4",7),new C$99e(72,"vector4",6)]);}]),e$d;}(),C$99zt=(function(){function e$d(C$99t,C$99e,C$99i,C$99n){this._position=null,this._normal=null,this._textureCoord0=null,this._textureCoord1=null,this._position=C$99t,this._normal=C$99e,this._textureCoord0=C$99i,this._textureCoord1=C$99n;}C$99r(e$d,"laya.d3.graphics.VertexPositionTerrain");var C$99t=e$d.prototype;C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"normal",function(){return this._normal;}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"textureCoord0",function(){return this._textureCoord0;}),C$99o(0,C$99t,"textureCoord1",function(){return this._textureCoord1;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(40,[new C$99e(0,"vector3",0),new C$99e(12,"vector3",3),new C$99e(24,"vector2",2),new C$99e(32,"vector2",15)]);}]);}(),function(){function e$d(C$99t,C$99e){this._position=null,this._textureCoordinate0=null,this._position=C$99t,this._textureCoordinate0=C$99e;}C$99r(e$d,"laya.d3.graphics.VertexPositionTexture0");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"position",function(){return this._position;}),C$99o(0,C$99t,"textureCoordinate0",function(){return this._textureCoordinate0;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(20,[new C$99e(0,"vector3",0),new C$99e(12,"vector2",2)]);}]),e$d;}()),C$99Yt=(function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l,C$99u,C$99c,C$99_,C$99d){this._cornerTextureCoordinate=null,this._positionStartLifeTime=null,this._velocity=null,this._startColor=null,this._startSize=null,this._startRotation0=null,this._startRotation1=null,this._startRotation2=null,this._startLifeTime=NaN,this._time=NaN,this._startSpeed=NaN,this._randoms0=null,this._randoms1=null,this._simulationWorldPostion=null,this._cornerTextureCoordinate=C$99t,this._positionStartLifeTime=C$99e,this._velocity=C$99i,this._startColor=C$99n,this._startSize=C$99r,this._startRotation0=C$99s,this._startRotation1=C$99a,this._startRotation2=C$99o,this._startLifeTime=C$99h,this._time=C$99l,this._startSpeed=C$99u,this._randoms0=this.random0,this._randoms1=this.random1,this._simulationWorldPostion=C$99d;}C$99r(e$d,"laya.d3.graphics.VertexShurikenParticleBillboard");var C$99t=e$d.prototype;C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"cornerTextureCoordinate",function(){return this._cornerTextureCoordinate;}),C$99o(0,C$99t,"random1",function(){return this._randoms1;}),C$99o(0,C$99t,"startRotation2",function(){return this._startRotation2;}),C$99o(0,C$99t,"positionStartLifeTime",function(){return this._positionStartLifeTime;}),C$99o(0,C$99t,"velocity",function(){return this._velocity;}),C$99o(0,C$99t,"random0",function(){return this._randoms0;}),C$99o(0,C$99t,"startSize",function(){return this._startSize;}),C$99o(0,C$99t,"startColor",function(){return this._startColor;}),C$99o(0,C$99t,"startRotation0",function(){return this._startRotation0;}),C$99o(0,C$99t,"startRotation1",function(){return this._startRotation1;}),C$99o(0,C$99t,"startLifeTime",function(){return this._startLifeTime;}),C$99o(0,C$99t,"time",function(){return this._time;}),C$99o(0,C$99t,"startSpeed",function(){return this._startSpeed;}),C$99o(0,C$99t,"simulationWorldPostion",function(){return this._simulationWorldPostion;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(152,[new C$99e(0,"vector4",17),new C$99e(16,"vector4",30),new C$99e(32,"vector4",32),new C$99e(48,"vector4",19),new C$99e(64,"vector3",20),new C$99e(76,"vector3",22),new C$99e(88,"single",31),new C$99e(92,"vector4",34),new C$99e(108,"vector4",35),new C$99e(124,"vector3",36),new C$99e(136,"vector4",37)]);}]);}(),function(){function e$d(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l,C$99u,C$99c,C$99_,C$99d){this._cornerTextureCoordinate=null,this._positionStartLifeTime=null,this._velocity=null,this._startColor=null,this._startSize=null,this._startRotation0=null,this._startRotation1=null,this._startRotation2=null,this._startLifeTime=NaN,this._time=NaN,this._startSpeed=NaN,this._randoms0=null,this._randoms1=null,this._simulationWorldPostion=null,this._cornerTextureCoordinate=C$99t,this._positionStartLifeTime=C$99e,this._velocity=C$99i,this._startColor=C$99n,this._startSize=C$99r,this._startRotation0=C$99s,this._startRotation1=C$99a,this._startRotation2=C$99o,this._startLifeTime=C$99h,this._time=C$99l,this._startSpeed=C$99u,this._randoms0=this.random0,this._randoms1=this.random1,this._simulationWorldPostion=C$99d;}C$99r(e$d,"laya.d3.graphics.VertexShurikenParticleMesh");var C$99t=e$d.prototype;C$99y.imps(C$99t,{"laya.d3.graphics.IVertex":!0}),C$99o(0,C$99t,"cornerTextureCoordinate",function(){return this._cornerTextureCoordinate;}),C$99o(0,C$99t,"velocity",function(){return this._velocity;}),C$99o(0,C$99t,"position",function(){return this._positionStartLifeTime;}),C$99o(0,C$99t,"random0",function(){return this._randoms0;}),C$99o(0,C$99t,"startSize",function(){return this._startSize;}),C$99o(0,C$99t,"startColor",function(){return this._startColor;}),C$99o(0,C$99t,"startRotation0",function(){return this._startRotation0;}),C$99o(0,C$99t,"startRotation1",function(){return this._startRotation1;}),C$99o(0,C$99t,"random1",function(){return this._randoms1;}),C$99o(0,C$99t,"startRotation2",function(){return this._startRotation2;}),C$99o(0,C$99t,"startLifeTime",function(){return this._startLifeTime;}),C$99o(0,C$99t,"time",function(){return this._time;}),C$99o(0,C$99t,"startSpeed",function(){return this._startSpeed;}),C$99o(0,C$99t,"simulationWorldPostion",function(){return this._simulationWorldPostion;}),C$99o(0,C$99t,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99o(1,e$d,"vertexDeclaration",function(){return e$d._vertexDeclaration;}),C$99s(e$d,["_vertexDeclaration",function(){return this._vertexDeclaration=new C$99ot(172,[new C$99e(0,"vector3",0),new C$99e(12,"vector4",1),new C$99e(28,"vector2",2),new C$99e(36,"vector4",30),new C$99e(52,"vector4",32),new C$99e(68,"vector4",19),new C$99e(84,"vector3",20),new C$99e(96,"vector3",22),new C$99e(108,"single",31),new C$99e(112,"vector4",34),new C$99e(128,"vector4",35),new C$99e(144,"vector3",36),new C$99e(156,"vector4",37)]);}]);}(),C$99r(e$g,"laya.d3.loaders.LoadModelV01"),(C$99t=e$g.prototype)._onLoaded=function(C$99t){this._readData=C$99t,this.READ_BLOCK();for(var C$99e=0;C$99e<this._BLOCK.count;C$99e++){var C$99i=this._readData.getUint16(),C$99n=this._strings[C$99i],C$99r=this["READ_"+C$99n];if(null==C$99r)throw new Error("model file err,no this function:"+C$99i+" "+C$99n);if(!C$99r.call(this))break;}return this._mesh;},C$99t.onError=function(){},C$99t._readString=function(){return this._strings[this._readData.getUint16()];},C$99t.READ_BLOCK=function(){return this._readData.getUint16(),this._BLOCK.count=this._readData.getUint16(),!0;},C$99t.READ_DATA=function(){return this._DATA.offset=this._readData.getUint32(),this._DATA.size=this._readData.getUint32(),!0;},C$99t.READ_STRINGS=function(){this._STRINGS.offset=this._readData.getUint16(),this._STRINGS.size=this._readData.getUint16();var C$99t=this._readData.pos;this._readData.pos=this._STRINGS.offset+this._DATA.offset;for(var C$99e=0;C$99e<this._STRINGS.size;C$99e++)this._strings[C$99e]=this._readData.readUTFString();return this._readData.pos=C$99t,!0;},C$99t.READ_MATERIAL=function(){var C$99t=this._readData.getUint16(),C$99e=(this._readString(),this._readString());return this._materials[C$99t]="null"!==C$99e?C$99g.getRes(this._materialMap[C$99e]):new C$99Ce(),!0;},C$99t.READ_MESH=function(){switch(this._readString(),this._version){case"LAYAMODEL:01":console.log("Warning: The (.lm) file is converted by old fbxTools,please reConverted it use  lastest fbxTools version,later we will remove the  support of old version (.lm) support.");break;case"LAYASKINANI:01":case"LAYAMODEL:02":var C$99t,C$99e=this._readData.__getBuffer(),C$99i=0,C$99n=this._readData.getUint32(),C$99r=this._readData.getUint32(),C$99n=(new Float32Array(C$99e.slice(C$99n+this._DATA.offset,C$99n+this._DATA.offset+C$99r)),this._readData.getUint32()),C$99r=this._readData.getUint32(),C$99s=new Float32Array(C$99e.slice(C$99n+this._DATA.offset,C$99n+this._DATA.offset+C$99r));for(this.mesh._inverseBindPoses=[],C$99i=0,C$99t=C$99s.length;C$99i<C$99t;C$99i+=16){var C$99a=new C$99ee(C$99s[C$99i+0],C$99s[C$99i+1],C$99s[C$99i+2],C$99s[C$99i+3],C$99s[C$99i+4],C$99s[C$99i+5],C$99s[C$99i+6],C$99s[C$99i+7],C$99s[C$99i+8],C$99s[C$99i+9],C$99s[C$99i+10],C$99s[C$99i+11],C$99s[C$99i+12],C$99s[C$99i+13],C$99s[C$99i+14],C$99s[C$99i+15]);this.mesh._inverseBindPoses.push(C$99a);}break;default:throw new Error("LoadModel:unknown version.");}return!0;},C$99t.READ_SUBMESH=function(){this._readString(),this._readData.getUint8();var C$99t=this._readString();this._shaderAttributes=C$99t.match(e$g._attrReg);var C$99t=this._readData.getUint32(),C$99e=this._readData.getUint32(),C$99i=(this._readData.getUint32(),this._readData.getUint32(),this._readData.getUint32()),C$99n=this._readData.getUint32(),C$99r=this._readData.getUint32(),C$99u=this._readData.getUint32(),C$99s=this._readData.__getBuffer(),C$99a=new C$99le(this._mesh),C$99o=this._getVertexDeclaration(),C$99h=C$99ke.create(C$99o,C$99n/C$99o.vertexStride,35044,!0),C$99o=C$99i+this._DATA.offset,C$99i=C$99s.slice(C$99o,C$99o+C$99n);C$99h.setData(new Float32Array(C$99i));for(var C$99c=(C$99a._vertexBuffer=C$99h).vertexDeclaration.getVertexElements(),C$99l=0;C$99l<C$99c.length;C$99l++)C$99a._bufferUsage[C$99c[C$99l].elementUsage]=C$99h;C$99o=C$99Ne.create("ushort",C$99e/2,35044,!0),C$99n=C$99t+this._DATA.offset,C$99i=C$99s.slice(C$99n,C$99n+C$99e);C$99o.setData(new Uint16Array(C$99i)),C$99a._indexBuffer=C$99o;C$99t=C$99s.slice(C$99r+this._DATA.offset,C$99r+this._DATA.offset+C$99u);return C$99a._boneIndicesList[0]=new Uint8Array(C$99t),this._subMeshes.push(C$99a),!0;},C$99t.READ_DATAAREA=function(){return!1;},C$99t._getVertexDeclaration=function(){for(var C$99t,C$99e=!1,C$99i=!1,C$99n=!1,C$99r=!1,C$99s=!1,C$99a=!1,C$99o=!1,C$99h=!1,C$99l=!1,C$99u=0;C$99u<this._shaderAttributes.length;C$99u+=8)switch(this._shaderAttributes[C$99u]){case"POSITION":C$99e=!0;break;case"NORMAL":C$99i=!0;break;case"COLOR":C$99n=!0;break;case"UV":C$99r=!0;break;case"UV1":C$99s=!0;break;case"BLENDWEIGHT":C$99o=!0;break;case"BLENDINDICES":C$99h=!0;break;case"TANGENT":C$99a=!0;break;case"BINORMAL":C$99l=!0;}return C$99e&&C$99i&&C$99n&&C$99r&&C$99s&&C$99o&&C$99h&&C$99a?C$99t=C$99xt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99s&&C$99o&&C$99h?C$99t=C$99vt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s&&C$99o&&C$99h&&C$99a?C$99t=C$99Bt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s&&C$99o&&C$99h?C$99t=C$99Rt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99o&&C$99h&&C$99a?C$99t=C$99St.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99o&&C$99h?C$99t=C$99wt.vertexDeclaration:C$99e&&C$99i&&C$99a&&C$99l&&C$99r&&C$99o&&C$99h?C$99t=C$99Gt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99o&&C$99h&&C$99a?C$99t=C$99Vt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99o&&C$99h?C$99t=C$99kt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99o&&C$99h&&C$99a?C$99t=C$99dt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99o&&C$99h?C$99t=C$99ct.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99s&&C$99a?C$99t=C$99bt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99s?C$99t=C$99gt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s&&C$99a?C$99t=C$99Nt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s?C$99t=C$99Et.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99a?C$99t=C$99Ct.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99a&&C$99l?C$99t=C$99Wt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r?C$99t=C$99mt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99a?C$99t=C$99Ut.vertexDeclaration:C$99e&&C$99i&&C$99r?C$99t=C$99Dt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99a?C$99t=C$99pt.vertexDeclaration:C$99e&&C$99i&&C$99n&&(C$99t=C$99ut.vertexDeclaration),C$99t;},C$99o(0,C$99t,"mesh",function(){return this._mesh;}),e$g._attrReg=new RegExp("(\\w+)|([:,;])","g"),e$g),C$99Xt=(C$99r(e$q,"laya.d3.loaders.LoadModelV02"),e$q.parse=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){e$q._mesh=C$99i,e$q._materials=C$99n,e$q._subMeshes=C$99r,e$q._materialMap=C$99s,e$q._version=C$99e,e$q._readData=C$99t,e$q.READ_DATA(),e$q.READ_BLOCK(),e$q.READ_STRINGS();for(var C$99a=0,C$99u=e$q._BLOCK.count;C$99a<C$99u;C$99a++){e$q._readData.pos=e$q._BLOCK.blockStarts[C$99a];var C$99o=e$q._readData.getUint16(),C$99h=e$q._strings[C$99o],C$99l=e$q["READ_"+C$99h];if(null==C$99l)throw new Error("model file err,no this function:"+C$99o+" "+C$99h);C$99l.call();}e$q._strings.length=0,e$q._readData=null,e$q._version=null,e$q._mesh=null,e$q._materials=null,e$q._subMeshes=null,e$q._materialMap=null;},e$q._readString=function(){return e$q._strings[e$q._readData.getUint16()];},e$q.READ_DATA=function(){e$q._DATA.offset=e$q._readData.getUint32(),e$q._DATA.size=e$q._readData.getUint32();},e$q.READ_BLOCK=function(){for(var C$99t=e$q._BLOCK.count=e$q._readData.getUint16(),C$99e=e$q._BLOCK.blockStarts=[],C$99i=e$q._BLOCK.blockLengths=[],C$99n=0;C$99n<C$99t;C$99n++)C$99e.push(e$q._readData.getUint32()),C$99i.push(e$q._readData.getUint32());},e$q.READ_STRINGS=function(){var C$99t=e$q._readData.getUint32(),C$99e=e$q._readData.getUint16(),C$99i=e$q._readData.pos;e$q._readData.pos=C$99t+e$q._DATA.offset;for(var C$99n=0;C$99n<C$99e;C$99n++)e$q._strings[C$99n]=e$q._readData.readUTFString();e$q._readData.pos=C$99i;},e$q.READ_MATERIAL=function(){e$q._readString(),e$q._readString();var C$99t=e$q._readString();return""!==C$99t&&e$q._materials.push(C$99g.getRes(e$q._materialMap[C$99t])),!0;},e$q.READ_MESH=function(){e$q._readString();var C$99t,C$99e=e$q._readData.__getBuffer(),C$99i=0,C$99u=e$q._readData.getInt16(),C$99n=e$q._DATA.offset;for(C$99i=0;C$99i<C$99u;C$99i++){var C$99r=C$99n+e$q._readData.getUint32(),C$99s=e$q._readData.getUint32(),C$99r=new Float32Array(C$99e.slice(C$99r,C$99r+C$99s)),C$99s=e$q._readString().match(e$q._attrReg),C$99s=e$q._getVertexDeclaration(C$99s),C$99s=C$99ke.create(C$99s,4*C$99r.length/C$99s.vertexStride,35044,!0);C$99s.setData(C$99r),e$q._mesh._vertexBuffers.push(C$99s);}var C$99a=C$99n+e$q._readData.getUint32(),C$99o=e$q._readData.getUint32(),C$99a=new Uint16Array(C$99e.slice(C$99a,C$99a+C$99o)),C$99o=C$99Ne.create("ushort",C$99o/2,35044,!0);C$99o.setData(C$99a),e$q._mesh._indexBuffer=C$99o;var C$99h=e$q._mesh._boneNames=[],C$99c=e$q._readData.getUint16();for(C$99h.length=C$99c,C$99i=0;C$99i<C$99c;C$99i++)C$99h[C$99i]=e$q._strings[e$q._readData.getUint16()];var C$99a=e$q._readData.getUint32(),C$99o=e$q._readData.getUint32(),C$99a=(new Float32Array(C$99e.slice(C$99n+C$99a,C$99n+C$99a+C$99o)),e$q._readData.getUint32()),C$99o=e$q._readData.getUint32(),C$99l=new Float32Array(C$99e.slice(C$99n+C$99a,C$99n+C$99a+C$99o));for(e$q._mesh._inverseBindPoses=[],C$99i=0,C$99t=C$99l.length;C$99i<C$99t;C$99i+=16){var C$99_=new C$99ee(C$99l[C$99i+0],C$99l[C$99i+1],C$99l[C$99i+2],C$99l[C$99i+3],C$99l[C$99i+4],C$99l[C$99i+5],C$99l[C$99i+6],C$99l[C$99i+7],C$99l[C$99i+8],C$99l[C$99i+9],C$99l[C$99i+10],C$99l[C$99i+11],C$99l[C$99i+12],C$99l[C$99i+13],C$99l[C$99i+14],C$99l[C$99i+15]);e$q._mesh._inverseBindPoses.push(C$99_);}return e$q._mesh._skinnedDatas=new Float32Array(16*C$99l.length),!0;},e$q.READ_SUBMESH=function(){var C$99u=e$q._readData.__getBuffer(),C$99t=new C$99le(e$q._mesh),C$99e=e$q._readData.getInt16(),C$99i=e$q._readData.getUint32(),C$99n=e$q._readData.getUint32();C$99t._vertexBuffer=e$q._mesh._vertexBuffers[C$99e],C$99t._vertexStart=C$99i,C$99t._vertexCount=C$99n;C$99e=e$q._readData.getUint32(),C$99i=e$q._readData.getUint32(),C$99n=e$q._mesh._indexBuffer;C$99t._indexBuffer=C$99n,C$99t._indexStart=C$99e,C$99t._indexCount=C$99i,C$99t._indices=new Uint16Array(C$99n.getData().buffer,2*C$99e,C$99i);var C$99r=e$q._DATA.offset,C$99s=C$99t._subIndexBufferStart,C$99a=C$99t._subIndexBufferCount,C$99n=C$99t._boneIndicesList,C$99o=e$q._readData.getUint16();C$99s.length=C$99o,C$99a.length=C$99o,C$99n.length=C$99o;for(var C$99h=0;C$99h<C$99o;C$99h++){C$99s[C$99h]=e$q._readData.getUint32(),C$99a[C$99h]=e$q._readData.getUint32();var C$99l=e$q._readData.getUint32(),C$99c=e$q._readData.getUint32();C$99t._boneIndicesList[C$99h]=new Uint8Array(C$99u.slice(C$99r+C$99l,C$99r+C$99l+C$99c));}return e$q._subMeshes.push(C$99t),!0;},e$q._getVertexDeclaration=function(C$99u){for(var C$99t,C$99e=!1,C$99i=!1,C$99n=!1,C$99r=!1,C$99s=!1,C$99a=!1,C$99o=!1,C$99h=!1,C$99c=!1,C$99l=0;C$99l<C$99u.length;C$99l++)switch(C$99u[C$99l]){case"POSITION":C$99e=!0;break;case"NORMAL":C$99i=!0;break;case"COLOR":C$99n=!0;break;case"UV":C$99r=!0;break;case"UV1":C$99s=!0;break;case"BLENDWEIGHT":C$99o=!0;break;case"BLENDINDICES":C$99h=!0;break;case"TANGENT":C$99a=!0;break;case"BINORMAL":C$99c=!0;}return C$99e&&C$99i&&C$99n&&C$99r&&C$99s&&C$99o&&C$99h&&C$99a?C$99t=C$99xt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99s&&C$99o&&C$99h?C$99t=C$99vt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s&&C$99o&&C$99h&&C$99a?C$99t=C$99Bt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s&&C$99o&&C$99h?C$99t=C$99Rt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99o&&C$99h&&C$99a?C$99t=C$99St.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99o&&C$99h?C$99t=C$99wt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99o&&C$99h&&C$99a?C$99t=C$99Vt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99o&&C$99h?C$99t=C$99kt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99o&&C$99h&&C$99a?C$99t=C$99dt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99o&&C$99h?C$99t=C$99ct.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99s&&C$99a?C$99t=C$99bt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99s?C$99t=C$99gt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s&&C$99a?C$99t=C$99Nt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99s?C$99t=C$99Et.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r&&C$99a?C$99t=C$99Ct.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99a&&C$99c?C$99t=C$99Wt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99r?C$99t=C$99mt.vertexDeclaration:C$99e&&C$99i&&C$99r&&C$99a?C$99t=C$99Ut.vertexDeclaration:C$99e&&C$99i&&C$99r?C$99t=C$99Dt.vertexDeclaration:C$99e&&C$99i&&C$99n&&C$99a?C$99t=C$99pt.vertexDeclaration:C$99e&&C$99i&&C$99n&&(C$99t=C$99ut.vertexDeclaration),C$99t;},e$q._attrReg=new RegExp("(\\w+)|([:,;])","g"),e$q._strings=[],e$q._readData=null,e$q._version=null,e$q._mesh=null,e$q._materials=null,e$q._subMeshes=null,e$q._materialMap=null,C$99s(e$q,["_BLOCK",function(){return this._BLOCK={count:0};},"_DATA",function(){return this._DATA={offset:0,size:0};}]),e$q),C$99jt=(C$99r(e$G,"laya.d3.loaders.LoadModelV03"),e$G.parse=function(C$99t,C$99e,C$99i,C$99n,C$99r){e$G._mesh=C$99i,e$G._subMeshes=C$99n,e$G._materialMap=C$99r,e$G._version=C$99e,e$G._readData=C$99t,e$G.READ_DATA(),e$G.READ_BLOCK(),e$G.READ_STRINGS();for(var C$99s=0,C$99a=e$G._BLOCK.count;C$99s<C$99a;C$99s++){e$G._readData.pos=e$G._BLOCK.blockStarts[C$99s];var C$99o=e$G._readData.getUint16(),C$99h=e$G._strings[C$99o],C$99l=e$G["READ_"+C$99h];if(null==C$99l)throw new Error("model file err,no this function:"+C$99o+" "+C$99h);C$99l.call();}e$G._strings.length=0,e$G._readData=null,e$G._version=null,e$G._mesh=null,e$G._subMeshes=null,e$G._materialMap=null;},e$G._readString=function(){return e$G._strings[e$G._readData.getUint16()];},e$G.READ_DATA=function(){e$G._DATA.offset=e$G._readData.getUint32(),e$G._DATA.size=e$G._readData.getUint32();},e$G.READ_BLOCK=function(){for(var C$99t=e$G._BLOCK.count=e$G._readData.getUint16(),C$99e=e$G._BLOCK.blockStarts=[],C$99i=e$G._BLOCK.blockLengths=[],C$99n=0;C$99n<C$99t;C$99n++)C$99e.push(e$G._readData.getUint32()),C$99i.push(e$G._readData.getUint32());},e$G.READ_STRINGS=function(){var C$99t=e$G._readData.getUint32(),C$99e=e$G._readData.getUint16(),C$99i=e$G._readData.pos;e$G._readData.pos=C$99t+e$G._DATA.offset;for(var C$99n=0;C$99n<C$99e;C$99n++)e$G._strings[C$99n]=e$G._readData.readUTFString();e$G._readData.pos=C$99i;},e$G.READ_MESH=function(){var C$99u,C$99c=e$G._readString(),C$99t=e$G._readData.__getBuffer(),C$99e=0,C$99_=e$G._readData.getInt16(),C$99i=e$G._DATA.offset;for(C$99e=0;C$99e<C$99_;C$99e++){var C$99n,C$99r=C$99i+e$G._readData.getUint32(),C$99s=e$G._readData.getUint32(),C$99r=new Float32Array(C$99t.slice(C$99r,C$99r+C$99s)),C$99a=e$G._readString();switch(e$G._version){case"LAYAMODEL:03":C$99n=e$G._vertexDeclarationMap_Discard[C$99a];break;case"LAYAMODEL:0301":C$99n=e$G._vertexDeclarationMap[C$99a];break;default:throw new Error("LoadModelV03: unknown version.");}if(!C$99n)throw new Error("LoadModelV03: unknown vertexDeclaration.  version="+e$G._version+"  bufferAttribute="+C$99a+"  name="+C$99c+"  url="+(e$G._mesh?e$G._mesh.url:"null"));C$99s=C$99ke.create(C$99n,4*C$99r.length/C$99n.vertexStride,35044,!0,e$G._mesh._url+"_"+C$99e);C$99s.setData(C$99r),e$G._mesh._vertexBuffers.push(C$99s);}var C$99o=C$99i+e$G._readData.getUint32(),C$99h=e$G._readData.getUint32(),C$99o=new Uint16Array(C$99t.slice(C$99o,C$99o+C$99h)),C$99h=C$99Ne.create("ushort",C$99h/2,35044,!0,e$G._mesh._url);C$99h.setData(C$99o),e$G._mesh._indexBuffer=C$99h;var C$99d=e$G._mesh._boneNames=[],C$99f=e$G._readData.getUint16();for(C$99d.length=C$99f,C$99e=0;C$99e<C$99f;C$99e++)C$99d[C$99e]=e$G._strings[e$G._readData.getUint16()];e$G._readData.pos+=8;var C$99o=e$G._readData.getUint32(),C$99h=e$G._readData.getUint32(),C$99l=new Float32Array(C$99t.slice(C$99i+C$99o,C$99i+C$99o+C$99h));for(e$G._mesh._inverseBindPoses=[],C$99e=0,C$99u=C$99l.length;C$99e<C$99u;C$99e+=16){var C$99p=new C$99ee(C$99l[C$99e+0],C$99l[C$99e+1],C$99l[C$99e+2],C$99l[C$99e+3],C$99l[C$99e+4],C$99l[C$99e+5],C$99l[C$99e+6],C$99l[C$99e+7],C$99l[C$99e+8],C$99l[C$99e+9],C$99l[C$99e+10],C$99l[C$99e+11],C$99l[C$99e+12],C$99l[C$99e+13],C$99l[C$99e+14],C$99l[C$99e+15]);e$G._mesh._inverseBindPoses.push(C$99p);}return e$G._mesh._skinnedDatas=new Float32Array(16*C$99l.length),!0;},e$G.READ_SUBMESH=function(){var C$99u=e$G._readData.__getBuffer(),C$99t=new C$99le(e$G._mesh),C$99e=e$G._readData.getInt16(),C$99i=e$G._readData.getUint32(),C$99n=e$G._readData.getUint32();C$99t._vertexBuffer=e$G._mesh._vertexBuffers[C$99e],C$99t._vertexStart=C$99i,C$99t._vertexCount=C$99n;C$99e=e$G._readData.getUint32(),C$99i=e$G._readData.getUint32(),C$99n=e$G._mesh._indexBuffer;C$99t._indexBuffer=C$99n,C$99t._indexStart=C$99e,C$99t._indexCount=C$99i,C$99t._indices=new Uint16Array(C$99n.getData().buffer,2*C$99e,C$99i);var C$99r=e$G._DATA.offset,C$99s=C$99t._subIndexBufferStart,C$99a=C$99t._subIndexBufferCount,C$99o=C$99t._boneIndicesList,C$99h=e$G._readData.getUint16();C$99s.length=C$99h,C$99a.length=C$99h,C$99o.length=C$99h;for(var C$99l=0;C$99l<C$99h;C$99l++){C$99s[C$99l]=e$G._readData.getUint32(),C$99a[C$99l]=e$G._readData.getUint32();var C$99c=e$G._readData.getUint32(),C$99_=e$G._readData.getUint32();C$99o[C$99l]=new Uint8Array(C$99u.slice(C$99r+C$99c,C$99r+C$99c+C$99_));}return e$G._subMeshes.push(C$99t),!0;},e$G._strings=[],e$G._readData=null,e$G._version=null,e$G._mesh=null,e$G._subMeshes=null,e$G._materialMap=null,C$99s(e$G,["_vertexDeclarationMap_Discard",function(){return this._vertexDeclarationMap_Discard={"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99xt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$99vt.vertexDeclaration,"POSITION,NORMAL,TANGENT,BINORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,":C$99Ht.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99Bt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$99Rt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99St.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES":C$99wt.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99Vt.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES":C$99kt.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99dt.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES":C$99ct.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,TANGENT":C$99bt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1":C$99gt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,TANGENT":C$99Nt.vertexDeclaration,"POSITION,NORMAL,UV,UV1":C$99Et.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,TANGENT":C$99Ct.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT,BINORMAL":C$99Wt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV":C$99mt.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT":C$99Ut.vertexDeclaration,"POSITION,NORMAL,UV":C$99Dt.vertexDeclaration,"POSITION,NORMAL,COLOR,TANGENT":C$99pt.vertexDeclaration,"POSITION,NORMAL,COLOR":C$99ut.vertexDeclaration,"POSITION,NORMAL,TANGENT":C$99It.vertexDeclaration,"POSITION,NORMAL":C$99lt.vertexDeclaration,"POSITION,UV":C$99zt.vertexDeclaration,POSITION:C$99ht.vertexDeclaration};},"_vertexDeclarationMap",function(){return this._vertexDeclarationMap={"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99$t.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$99vt.vertexDeclaration,"POSITION,NORMAL,TANGENT,BINORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,":C$99Ht.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99Pt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES":C$99Rt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99Tt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES":C$99wt.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99Ot.vertexDeclaration,"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES":C$99kt.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES,TANGENT":C$99_t.vertexDeclaration,"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES":C$99ct.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1,TANGENT":C$99yt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,UV1":C$99gt.vertexDeclaration,"POSITION,NORMAL,UV,UV1,TANGENT":C$99Lt.vertexDeclaration,"POSITION,NORMAL,UV,UV1":C$99Et.vertexDeclaration,"POSITION,NORMAL,COLOR,UV,TANGENT":C$99Mt.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT,BINORMAL":C$99Wt.vertexDeclaration,"POSITION,NORMAL,COLOR,UV":C$99mt.vertexDeclaration,"POSITION,NORMAL,UV,TANGENT":C$99Ft.vertexDeclaration,"POSITION,NORMAL,UV":C$99Dt.vertexDeclaration,"POSITION,NORMAL,COLOR,TANGENT":C$99ft.vertexDeclaration,"POSITION,NORMAL,COLOR":C$99ut.vertexDeclaration,"POSITION,NORMAL,TANGENT":C$99At.vertexDeclaration,"POSITION,NORMAL":C$99lt.vertexDeclaration,"POSITION,UV":C$99zt.vertexDeclaration,POSITION:C$99ht.vertexDeclaration};},"_BLOCK",function(){return this._BLOCK={count:0};},"_DATA",function(){return this._DATA={offset:0,size:0};}]),e$G),C$99Kt=function(){function e$B(){}return C$99r(e$B,"laya.d3.loaders.MeshReader"),e$B.read=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=new C$99$(C$99t);C$99s.pos=0;var C$99a=C$99s.readUTFString();switch(C$99a){case"LAYAMODEL:01":case"LAYASKINANI:01":e$B._readVersion01(C$99s,C$99a,C$99e,C$99i,C$99n,C$99r);break;case"LAYAMODEL:02":C$99Xt.parse(C$99s,C$99a,C$99e,C$99i,C$99n,C$99r);break;case"LAYAMODEL:03":case"LAYAMODEL:0301":C$99jt.parse(C$99s,C$99a,C$99e,C$99n,C$99r);break;default:throw new Error("MeshReader: unknown mesh version.");}C$99e._setSubMeshes(C$99n);},e$B._readVersion01=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){new C$99Yt(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s);},e$B;}(),C$99qt=function(){function e$d(C$99t,C$99e){this.min=null,this.max=null,this.min=C$99t,this.max=C$99e;}C$99r(e$d,"laya.d3.math.BoundBox");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.getCorners=function(C$99t){C$99t.length=8;var C$99e=this.min.elements,C$99i=this.max.elements,C$99n=C$99e[0],C$99r=C$99e[1],C$99e=C$99e[2],C$99s=C$99i[0],C$99a=C$99i[1],C$99i=C$99i[2];C$99t[0]=new C$99I(C$99n,C$99a,C$99i),C$99t[1]=new C$99I(C$99s,C$99a,C$99i),C$99t[2]=new C$99I(C$99s,C$99r,C$99i),C$99t[3]=new C$99I(C$99n,C$99r,C$99i),C$99t[4]=new C$99I(C$99n,C$99a,C$99e),C$99t[5]=new C$99I(C$99s,C$99a,C$99e),C$99t[6]=new C$99I(C$99s,C$99r,C$99e),C$99t[7]=new C$99I(C$99n,C$99r,C$99e);},C$99t.toDefault=function(){this.min.toDefault(),this.max.toDefault();},C$99t.cloneTo=function(C$99t){this.min.cloneTo(C$99t.min),this.max.cloneTo(C$99t.max);},C$99t.clone=function(){var C$99t=new this.constructor(new C$99I(),new C$99I());return this.cloneTo(C$99t),C$99t;},e$d.createfromPoints=function(C$99t,C$99e){if(null==C$99t)throw new Error("points");var C$99i=C$99e.min,C$99n=C$99e.max,C$99e=C$99i.elements;C$99e[0]=Number.MAX_VALUE,C$99e[1]=Number.MAX_VALUE,C$99e[2]=Number.MAX_VALUE;C$99e=C$99n.elements;C$99e[0]=-Number.MAX_VALUE,C$99e[1]=-Number.MAX_VALUE,C$99e[2]=-Number.MAX_VALUE;for(var C$99r=0,C$99s=C$99t.length;C$99r<C$99s;++C$99r)C$99I.min(C$99i,C$99t[C$99r],C$99i),C$99I.max(C$99n,C$99t[C$99r],C$99n);},e$d.merge=function(C$99t,C$99e,C$99i){C$99I.min(C$99t.min,C$99e.min,C$99i.min),C$99I.max(C$99t.max,C$99e.max,C$99i.max);},e$d;}(),C$99Zt=function(){function e$I(C$99t){this._matrix=null,this._near=null,this._far=null,this._left=null,this._right=null,this._top=null,this._bottom=null,this._matrix=C$99t,this._near=new C$99ie(new C$99I()),this._far=new C$99ie(new C$99I()),this._left=new C$99ie(new C$99I()),this._right=new C$99ie(new C$99I()),this._top=new C$99ie(new C$99I()),this._bottom=new C$99ie(new C$99I()),e$I._getPlanesFromMatrix(this._matrix,this._near,this._far,this._left,this._right,this._top,this._bottom);}C$99r(e$I,"laya.d3.math.BoundFrustum");var C$99t=e$I.prototype;return C$99t.equalsBoundFrustum=function(C$99t){return this._matrix.equalsOtherMatrix(C$99t.matrix);},C$99t.equalsObj=function(C$99t){return C$99t instanceof laya.d3.math.BoundFrustum&&this.equalsBoundFrustum(C$99t);},C$99t.getPlane=function(C$99t){switch(C$99t){case 0:return this._near;case 1:return this._far;case 2:return this._left;case 3:return this._right;case 4:return this._top;case 5:return this._bottom;default:return null;}},C$99t.getCorners=function(C$99t){e$I._get3PlaneInterPoint(this._near,this._bottom,this._right).cloneTo(C$99t[0]),e$I._get3PlaneInterPoint(this._near,this._top,this._right).cloneTo(C$99t[1]),e$I._get3PlaneInterPoint(this._near,this._top,this._left).cloneTo(C$99t[2]),e$I._get3PlaneInterPoint(this._near,this._bottom,this._left).cloneTo(C$99t[3]),e$I._get3PlaneInterPoint(this._far,this._bottom,this._right).cloneTo(C$99t[4]),e$I._get3PlaneInterPoint(this._far,this._top,this._right).cloneTo(C$99t[5]),e$I._get3PlaneInterPoint(this._far,this._top,this._left).cloneTo(C$99t[6]),e$I._get3PlaneInterPoint(this._far,this._bottom,this._left).cloneTo(C$99t[7]);},C$99t.containsPoint=function(C$99t){for(var C$99e=C$99ie.PlaneIntersectionType_Front,C$99i=C$99ie.PlaneIntersectionType_Front,C$99n=0;C$99n<6;C$99n++){switch(C$99n){case 0:C$99i=Collision.intersectsPlaneAndPoint(this._near,C$99t);break;case 1:C$99i=Collision.intersectsPlaneAndPoint(this._far,C$99t);break;case 2:C$99i=Collision.intersectsPlaneAndPoint(this._left,C$99t);break;case 3:C$99i=Collision.intersectsPlaneAndPoint(this._right,C$99t);break;case 4:C$99i=Collision.intersectsPlaneAndPoint(this._top,C$99t);break;case 5:C$99i=Collision.intersectsPlaneAndPoint(this._bottom,C$99t);}switch(C$99i){case C$99ie.PlaneIntersectionType_Back:return 0;case C$99ie.PlaneIntersectionType_Intersecting:C$99e=C$99ie.PlaneIntersectionType_Intersecting;}}return C$99e!==C$99ie.PlaneIntersectionType_Intersecting?1:2;},C$99t.containsBoundBox=function(C$99t){for(var C$99e,C$99i=e$I._tempV30,C$99n=e$I._tempV31,C$99r=1,C$99s=0;C$99s<6;C$99s++){if(C$99e=this.getPlane(C$99s),this._getBoxToPlanePVertexNVertex(C$99t,C$99e.normal,C$99i,C$99n),Collision.intersectsPlaneAndPoint(C$99e,C$99i)===C$99ie.PlaneIntersectionType_Back)return 0;Collision.intersectsPlaneAndPoint(C$99e,C$99n)===C$99ie.PlaneIntersectionType_Back&&(C$99r=2);}return C$99r;},C$99t.containsBoundSphere=function(C$99t){for(var C$99e=C$99ie.PlaneIntersectionType_Front,C$99i=C$99ie.PlaneIntersectionType_Front,C$99n=0;C$99n<6;C$99n++){switch(C$99n){case 0:C$99i=Collision.intersectsPlaneAndSphere(this._near,C$99t);break;case 1:C$99i=Collision.intersectsPlaneAndSphere(this._far,C$99t);break;case 2:C$99i=Collision.intersectsPlaneAndSphere(this._left,C$99t);break;case 3:C$99i=Collision.intersectsPlaneAndSphere(this._right,C$99t);break;case 4:C$99i=Collision.intersectsPlaneAndSphere(this._top,C$99t);break;case 5:C$99i=Collision.intersectsPlaneAndSphere(this._bottom,C$99t);}switch(C$99i){case C$99ie.PlaneIntersectionType_Back:return 0;case C$99ie.PlaneIntersectionType_Intersecting:C$99e=C$99ie.PlaneIntersectionType_Intersecting;}}return C$99e!==C$99ie.PlaneIntersectionType_Intersecting?1:2;},C$99t._getBoxToPlanePVertexNVertex=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.min,C$99s=C$99r.elements,C$99t=C$99t.max,C$99a=C$99t.elements,C$99e=C$99e.elements,C$99o=C$99e[0],C$99h=C$99e[1],C$99e=C$99e[2];C$99r.cloneTo(C$99i);C$99r=C$99i.elements;0<=C$99o&&(C$99r[0]=C$99a[0]),0<=C$99h&&(C$99r[1]=C$99a[1]),0<=C$99e&&(C$99r[2]=C$99a[2]),C$99t.cloneTo(C$99n);C$99i=C$99n.elements;0<=C$99o&&(C$99i[0]=C$99s[0]),0<=C$99h&&(C$99i[1]=C$99s[1]),0<=C$99e&&(C$99i[2]=C$99s[2]);},C$99o(0,C$99t,"top",function(){return this._top;}),C$99o(0,C$99t,"matrix",function(){return this._matrix;},function(C$99t){this._matrix=C$99t,e$I._getPlanesFromMatrix(this._matrix,this._near,this._far,this._left,this._right,this._top,this._bottom);}),C$99o(0,C$99t,"near",function(){return this._near;}),C$99o(0,C$99t,"far",function(){return this._far;}),C$99o(0,C$99t,"left",function(){return this._left;}),C$99o(0,C$99t,"right",function(){return this._right;}),C$99o(0,C$99t,"bottom",function(){return this._bottom;}),e$I._getPlanesFromMatrix=function(C$99t,C$99e,C$99i,C$99n,C$99u,C$99c,C$99_){var C$99t=C$99t.elements,C$99d=C$99t[0],C$99f=C$99t[1],C$99r=C$99t[2],C$99s=C$99t[3],C$99p=C$99t[4],C$99m=C$99t[5],C$99a=C$99t[6],C$99o=C$99t[7],C$99g=C$99t[8],C$99v=C$99t[9],C$99$=C$99t[10],C$99h=C$99t[11],C$99x=C$99t[12],C$99y=C$99t[13],C$99b=C$99t[14],C$99t=C$99t[15],C$99l=C$99e.normal.elements;C$99l[0]=C$99s+C$99r,C$99l[1]=C$99o+C$99a,C$99l[2]=C$99h+C$99$,C$99e.distance=C$99t+C$99b,C$99e.normalize();C$99l=C$99i.normal.elements;C$99l[0]=C$99s-C$99r,C$99l[1]=C$99o-C$99a,C$99l[2]=C$99h-C$99$,C$99i.distance=C$99t-C$99b,C$99i.normalize();C$99e=C$99n.normal.elements;C$99e[0]=C$99s+C$99d,C$99e[1]=C$99o+C$99p,C$99e[2]=C$99h+C$99g,C$99n.distance=C$99t+C$99x,C$99n.normalize();C$99r=C$99u.normal.elements;C$99r[0]=C$99s-C$99d,C$99r[1]=C$99o-C$99p,C$99r[2]=C$99h-C$99g,C$99u.distance=C$99t-C$99x,C$99u.normalize();C$99a=C$99c.normal.elements;C$99a[0]=C$99s-C$99f,C$99a[1]=C$99o-C$99m,C$99a[2]=C$99h-C$99v,C$99c.distance=C$99t-C$99y,C$99c.normalize();C$99l=C$99_.normal.elements;C$99l[0]=C$99s+C$99f,C$99l[1]=C$99o+C$99m,C$99l[2]=C$99h+C$99v,C$99_.distance=C$99t+C$99y,C$99_.normalize();},e$I._get3PlaneInterPoint=function(C$99t,C$99e,C$99i){var C$99n=C$99t.normal,C$99r=C$99e.normal,C$99s=C$99i.normal;C$99I.cross(C$99r,C$99s,e$I._tempV30),C$99I.cross(C$99s,C$99n,e$I._tempV31),C$99I.cross(C$99n,C$99r,e$I._tempV32);C$99n=C$99I.dot(C$99n,e$I._tempV30),C$99r=C$99I.dot(C$99r,e$I._tempV31),C$99s=C$99I.dot(C$99s,e$I._tempV32);return C$99I.scale(e$I._tempV30,-C$99t.distance/C$99n,e$I._tempV33),C$99I.scale(e$I._tempV31,-C$99e.distance/C$99r,e$I._tempV34),C$99I.scale(e$I._tempV32,-C$99i.distance/C$99s,e$I._tempV35),C$99I.add(e$I._tempV33,e$I._tempV34,e$I._tempV36),C$99I.add(e$I._tempV35,e$I._tempV36,e$I._tempV37),e$I._tempV37;},C$99s(e$I,["_tempV30",function(){return this._tempV30=new C$99I();},"_tempV31",function(){return this._tempV31=new C$99I();},"_tempV32",function(){return this._tempV32=new C$99I();},"_tempV33",function(){return this._tempV33=new C$99I();},"_tempV34",function(){return this._tempV34=new C$99I();},"_tempV35",function(){return this._tempV35=new C$99I();},"_tempV36",function(){return this._tempV36=new C$99I();},"_tempV37",function(){return this._tempV37=new C$99I();}]),e$I;}(),C$99Qt=(C$99r(e$b,"laya.d3.math.BoundSphere"),C$99t=e$b.prototype,C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.toDefault=function(){this.center.toDefault(),this.radius=0;},C$99t.intersectsRayDistance=function(C$99t){return Collision.intersectsRayAndSphereRD(C$99t,this);},C$99t.intersectsRayPoint=function(C$99t,C$99e){return Collision.intersectsRayAndSphereRP(C$99t,this,C$99e);},C$99t.cloneTo=function(C$99t){this.center.cloneTo(C$99t.center),C$99t.radius=this.radius;},C$99t.clone=function(){var C$99t=new this.constructor(new C$99I(),new C$99I());return this.cloneTo(C$99t),C$99t;},e$b.createFromSubPoints=function(C$99t,C$99e,C$99i,C$99n){if(null==C$99t)throw new Error("points");if(C$99e<0||C$99e>=C$99t.length)throw new Error("start"+C$99e+"Must be in the range [0, "+(C$99t.length-1)+"]");if(C$99i<0||C$99e+C$99i>C$99t.length)throw new Error("count"+C$99i+"Must be in the range <= "+C$99t.length+"}");var C$99r=C$99e+C$99i,C$99s=e$b._tempVector3;C$99s.elements[0]=0,C$99s.elements[1]=0,C$99s.elements[2]=0;for(var C$99a=C$99e;C$99a<C$99r;++C$99a)C$99I.add(C$99t[C$99a],C$99s,C$99s);var C$99o=C$99n.center;C$99I.scale(C$99s,1/C$99i,C$99o);var C$99h=0;for(C$99a=C$99e;C$99a<C$99r;++C$99a){var C$99l=C$99I.distanceSquared(C$99o,C$99t[C$99a]);C$99h<C$99l&&(C$99h=C$99l);}C$99n.radius=Math.sqrt(C$99h);},e$b.createfromPoints=function(C$99t,C$99e){if(null==C$99t)throw new Error("points");e$b.createFromSubPoints(C$99t,0,C$99t.length,C$99e);},C$99s(e$b,["_tempVector3",function(){return this._tempVector3=new C$99I();}]),e$b),C$99Jt=(function(){function e$d(){}C$99r(e$d,"laya.d3.math.ContainmentType"),e$d.Disjoint=0,e$d.Contains=1,e$d.Intersects=2;}(),C$99r(e$l,"laya.d3.math.MathUtils3D"),e$l.isZero=function(C$99t){return Math.abs(C$99t)<e$l.zeroTolerance;},e$l.nearEqual=function(C$99t,C$99e){return!!e$l.isZero(C$99t-C$99e);},e$l.fastInvSqrt=function(C$99t){return e$l.isZero(C$99t)?C$99t:1/Math.sqrt(C$99t);},C$99s(e$l,["zeroTolerance",function(){return this.zeroTolerance=1e-6;},"MaxValue",function(){return this.MaxValue=340282347e30;},"MinValue",function(){return this.MinValue=-340282347e30;}]),e$l),C$99te=(C$99r(e$o,"laya.d3.math.Matrix3x3"),C$99t=e$o.prototype,C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.determinant=function(){var C$99t=this.elements,C$99e=C$99t[0],C$99i=C$99t[1],C$99n=C$99t[2],C$99r=C$99t[3],C$99s=C$99t[4],C$99a=C$99t[5],C$99o=C$99t[6],C$99h=C$99t[7],C$99t=C$99t[8];return C$99e*(C$99t*C$99s-C$99a*C$99h)+C$99i*(-C$99t*C$99r+C$99a*C$99o)+C$99n*(C$99h*C$99r-C$99s*C$99o);},C$99t.translate=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=this.elements,C$99t=C$99t.elements,C$99n=C$99i[0],C$99r=C$99i[1],C$99s=C$99i[2],C$99a=C$99i[3],C$99o=C$99i[4],C$99h=C$99i[5],C$99u=C$99i[6],C$99c=C$99i[7],C$99i=C$99i[8],C$99l=C$99t[0],C$99t=C$99t[1];C$99e[0]=C$99n,C$99e[1]=C$99r,C$99e[2]=C$99s,C$99e[3]=C$99a,C$99e[4]=C$99o,C$99e[5]=C$99h,C$99e[6]=C$99l*C$99n+C$99t*C$99a+C$99u,C$99e[7]=C$99l*C$99r+C$99t*C$99o+C$99c,C$99e[8]=C$99l*C$99s+C$99t*C$99h+C$99i;},C$99t.rotate=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=this.elements,C$99n=C$99i[0],C$99r=C$99i[1],C$99s=C$99i[2],C$99a=C$99i[3],C$99o=C$99i[4],C$99h=C$99i[5],C$99u=C$99i[6],C$99c=C$99i[7],C$99i=C$99i[8],C$99l=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[0]=C$99t*C$99n+C$99l*C$99a,C$99e[1]=C$99t*C$99r+C$99l*C$99o,C$99e[2]=C$99t*C$99s+C$99l*C$99h,C$99e[3]=C$99t*C$99a-C$99l*C$99n,C$99e[4]=C$99t*C$99o-C$99l*C$99r,C$99e[5]=C$99t*C$99h-C$99l*C$99s,C$99e[6]=C$99u,C$99e[7]=C$99c,C$99e[8]=C$99i;},C$99t.scale=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=this.elements,C$99t=C$99t.elements,C$99n=C$99t[0],C$99t=C$99t[1];C$99e[0]=C$99n*C$99i[0],C$99e[1]=C$99n*C$99i[1],C$99e[2]=C$99n*C$99i[2],C$99e[3]=C$99t*C$99i[3],C$99e[4]=C$99t*C$99i[4],C$99e[5]=C$99t*C$99i[5],C$99e[6]=C$99i[6],C$99e[7]=C$99i[7],C$99e[8]=C$99i[8];},C$99t.invert=function(C$99u){var C$99t=C$99u.elements,C$99e=this.elements,C$99i=C$99e[0],C$99n=C$99e[1],C$99r=C$99e[2],C$99s=C$99e[3],C$99a=C$99e[4],C$99o=C$99e[5],C$99h=C$99e[6],C$99c=C$99e[7],C$99e=C$99e[8],C$99_=C$99e*C$99a-C$99o*C$99c,C$99d=-C$99e*C$99s+C$99o*C$99h,C$99f=C$99c*C$99s-C$99a*C$99h,C$99l=C$99i*C$99_+C$99n*C$99d+C$99r*C$99f;C$99l||(C$99u=null),C$99t[0]=C$99_*(C$99l=1/C$99l),C$99t[1]=(-C$99e*C$99n+C$99r*C$99c)*C$99l,C$99t[2]=(C$99o*C$99n-C$99r*C$99a)*C$99l,C$99t[3]=C$99d*C$99l,C$99t[4]=(C$99e*C$99i-C$99r*C$99h)*C$99l,C$99t[5]=(-C$99o*C$99i+C$99r*C$99s)*C$99l,C$99t[6]=C$99f*C$99l,C$99t[7]=(-C$99c*C$99i+C$99n*C$99h)*C$99l,C$99t[8]=(C$99a*C$99i-C$99n*C$99s)*C$99l;},C$99t.transpose=function(C$99t){var C$99e=C$99t.elements,C$99i=this.elements;var C$99n,C$99r;C$99t===this?(C$99t=C$99i[1],C$99n=C$99i[2],C$99r=C$99i[5],C$99e[1]=C$99i[3],C$99e[2]=C$99i[6],C$99e[3]=C$99t,C$99e[5]=C$99i[7],C$99e[6]=C$99n,C$99e[7]=C$99r):(C$99e[0]=C$99i[0],C$99e[1]=C$99i[3],C$99e[2]=C$99i[6],C$99e[3]=C$99i[1],C$99e[4]=C$99i[4],C$99e[5]=C$99i[7],C$99e[6]=C$99i[2],C$99e[7]=C$99i[5],C$99e[8]=C$99i[8]);},C$99t.identity=function(){var C$99t=this.elements;C$99t[0]=1,C$99t[1]=0,C$99t[2]=0,C$99t[3]=0,C$99t[4]=1,C$99t[5]=0,C$99t[6]=0,C$99t[7]=0,C$99t[8]=1;},C$99t.cloneTo=function(C$99t){var C$99e,C$99i,C$99n;if((C$99i=this.elements)!==(C$99n=C$99t.elements))for(C$99e=0;C$99e<9;++C$99e)C$99n[C$99e]=C$99i[C$99e];},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},e$o.createFromTranslation=function(C$99t,C$99e){C$99e.elements;C$99t=C$99t.elements;C$99e[0]=1,C$99e[1]=0,C$99e[2]=0,C$99e[3]=0,C$99e[4]=1,C$99e[5]=0,C$99e[6]=C$99t[0],C$99e[7]=C$99t[1],C$99e[8]=1;},e$o.createFromRotation=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[0]=C$99t,C$99e[1]=C$99i,C$99e[2]=0,C$99e[3]=-C$99i,C$99e[4]=C$99t,C$99e[5]=0,C$99e[6]=0,C$99e[7]=0,C$99e[8]=1;},e$o.createFromScaling=function(C$99t,C$99e){C$99e=C$99e.elements,C$99t=C$99t.elements;C$99e[0]=C$99t[0],C$99e[1]=0,C$99e[2]=0,C$99e[3]=0,C$99e[4]=C$99t[1],C$99e[5]=0,C$99e[6]=0,C$99e[7]=0,C$99e[8]=1;},e$o.createFromMatrix4x4=function(C$99t,C$99e){C$99e[0]=C$99t[0],C$99e[1]=C$99t[1],C$99e[2]=C$99t[2],C$99e[3]=C$99t[4],C$99e[4]=C$99t[5],C$99e[5]=C$99t[6],C$99e[6]=C$99t[8],C$99e[7]=C$99t[9],C$99e[8]=C$99t[10];},e$o.multiply=function(C$99t,C$99e,C$99i){var C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99s=C$99t[2],C$99a=C$99t[3],C$99o=C$99t[4],C$99h=C$99t[5],C$99l=C$99t[6],C$99u=C$99t[7],C$99t=C$99t[8],C$99c=C$99e[0],C$99_=C$99e[1],C$99d=C$99e[2],C$99f=C$99e[3],C$99p=C$99e[4],C$99m=C$99e[5],C$99g=C$99e[6],C$99v=C$99e[7],C$99e=C$99e[8];C$99i[0]=C$99c*C$99n+C$99_*C$99a+C$99d*C$99l,C$99i[1]=C$99c*C$99r+C$99_*C$99o+C$99d*C$99u,C$99i[2]=C$99c*C$99s+C$99_*C$99h+C$99d*C$99t,C$99i[3]=C$99f*C$99n+C$99p*C$99a+C$99m*C$99l,C$99i[4]=C$99f*C$99r+C$99p*C$99o+C$99m*C$99u,C$99i[5]=C$99f*C$99s+C$99p*C$99h+C$99m*C$99t,C$99i[6]=C$99g*C$99n+C$99v*C$99a+C$99e*C$99l,C$99i[7]=C$99g*C$99r+C$99v*C$99o+C$99e*C$99u,C$99i[8]=C$99g*C$99s+C$99v*C$99h+C$99e*C$99t;},e$o.lookAt=function(C$99t,C$99e,C$99i,C$99n){C$99I.subtract(C$99t,C$99e,e$o._tempV30),C$99I.normalize(e$o._tempV30,e$o._tempV30),C$99I.cross(C$99i,e$o._tempV30,e$o._tempV31),C$99I.normalize(e$o._tempV31,e$o._tempV31),C$99I.cross(e$o._tempV30,e$o._tempV31,e$o._tempV32);C$99t=e$o._tempV30.elements,C$99e=e$o._tempV31.elements,C$99i=e$o._tempV32.elements,C$99n=C$99n.elements;C$99n[0]=C$99e[0],C$99n[3]=C$99e[1],C$99n[6]=C$99e[2],C$99n[1]=C$99i[0],C$99n[4]=C$99i[1],C$99n[7]=C$99i[2],C$99n[2]=C$99t[0],C$99n[5]=C$99t[1],C$99n[8]=C$99t[2];},e$o.DEFAULT=new e$o(),C$99s(e$o,["_tempV30",function(){return this._tempV30=new C$99I();},"_tempV31",function(){return this._tempV31=new C$99I();},"_tempV32",function(){return this._tempV32=new C$99I();}]),e$o),C$99ee=(C$99r(e$$,"laya.d3.math.Matrix4x4"),C$99t=e$$.prototype,C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.getElementByRowColumn=function(C$99t,C$99e){if(C$99t<0||3<C$99t)throw new Error("row","Rows and columns for matrices run from 0 to 3, inclusive.");if(C$99e<0||3<C$99e)throw new Error("column","Rows and columns for matrices run from 0 to 3, inclusive.");return this.elements[4*C$99t+C$99e];},C$99t.setElementByRowColumn=function(C$99t,C$99e,C$99i){if(C$99t<0||3<C$99t)throw new Error("row","Rows and columns for matrices run from 0 to 3, inclusive.");if(C$99e<0||3<C$99e)throw new Error("column","Rows and columns for matrices run from 0 to 3, inclusive.");this.elements[4*C$99t+C$99e]=C$99i;},C$99t.equalsOtherMatrix=function(C$99t){var C$99e=this.elements,C$99t=C$99t.elements;return C$99Jt.nearEqual(C$99e[0],C$99t[0])&&C$99Jt.nearEqual(C$99e[1],C$99t[1])&&C$99Jt.nearEqual(C$99e[2],C$99t[2])&&C$99Jt.nearEqual(C$99e[3],C$99t[3])&&C$99Jt.nearEqual(C$99e[4],C$99t[4])&&C$99Jt.nearEqual(C$99e[5],C$99t[5])&&C$99Jt.nearEqual(C$99e[6],C$99t[6])&&C$99Jt.nearEqual(C$99e[7],C$99t[7])&&C$99Jt.nearEqual(C$99e[8],C$99t[8])&&C$99Jt.nearEqual(C$99e[9],C$99t[9])&&C$99Jt.nearEqual(C$99e[10],C$99t[10])&&C$99Jt.nearEqual(C$99e[11],C$99t[11])&&C$99Jt.nearEqual(C$99e[12],C$99t[12])&&C$99Jt.nearEqual(C$99e[13],C$99t[13])&&C$99Jt.nearEqual(C$99e[14],C$99t[14])&&C$99Jt.nearEqual(C$99e[15],C$99t[15]);},C$99t.decomposeTransRotScale=function(C$99t,C$99e,C$99i){var C$99n=e$$._tempMatrix4x4;return this.decomposeTransRotMatScale(C$99t,C$99n,C$99i)?(C$99ne.createFromMatrix4x4(C$99n,C$99e),!0):(C$99e.identity(),!1);},C$99t.decomposeTransRotMatScale=function(C$99t,C$99e,C$99i){var C$99n=this.elements,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99i.elements;C$99t[0]=C$99n[12],C$99t[1]=C$99n[13],C$99t[2]=C$99n[14];var C$99t=C$99n[0],C$99r=C$99n[1],C$99u=C$99n[2],C$99c=C$99n[4],C$99_=C$99n[5],C$99d=C$99n[6],C$99f=C$99n[8],C$99p=C$99n[9],C$99n=C$99n[10],C$99s=C$99i[0]=Math.sqrt(C$99t*C$99t+C$99r*C$99r+C$99u*C$99u),C$99m=C$99i[1]=Math.sqrt(C$99c*C$99c+C$99_*C$99_+C$99d*C$99d),C$99a=C$99i[2]=Math.sqrt(C$99f*C$99f+C$99p*C$99p+C$99n*C$99n);if(C$99Jt.isZero(C$99s)||C$99Jt.isZero(C$99m)||C$99Jt.isZero(C$99a))return C$99e[1]=C$99e[2]=C$99e[3]=C$99e[4]=C$99e[6]=C$99e[7]=C$99e[8]=C$99e[9]=C$99e[11]=C$99e[12]=C$99e[13]=C$99e[14]=0,!(C$99e[0]=C$99e[5]=C$99e[10]=C$99e[15]=1);var C$99o=e$$._tempVector0,C$99h=C$99o.elements;C$99h[0]=C$99f/C$99a,C$99h[1]=C$99p/C$99a,C$99h[2]=C$99n/C$99a;var C$99h=e$$._tempVector1,C$99l=C$99h.elements;C$99l[0]=C$99t/C$99s,C$99l[1]=C$99r/C$99s,C$99l[2]=C$99u/C$99s;C$99l=e$$._tempVector2;C$99I.cross(C$99o,C$99h,C$99l);C$99h=e$$._tempVector1;return C$99I.cross(C$99l,C$99o,C$99h),C$99e[3]=C$99e[7]=C$99e[11]=C$99e[12]=C$99e[13]=C$99e[14]=0,C$99e[15]=1,C$99e[0]=C$99h.x,C$99e[1]=C$99h.y,C$99e[2]=C$99h.z,C$99e[4]=C$99l.x,C$99e[5]=C$99l.y,C$99e[6]=C$99l.z,C$99e[8]=C$99o.x,C$99e[9]=C$99o.y,C$99e[10]=C$99o.z,C$99e[0]*C$99t+C$99e[1]*C$99r+C$99e[2]*C$99u<0&&(C$99i[0]=-C$99s),C$99e[4]*C$99c+C$99e[5]*C$99_+C$99e[6]*C$99d<0&&(C$99i[1]=-C$99m),C$99e[8]*C$99f+C$99e[9]*C$99p+C$99e[10]*C$99n<0&&(C$99i[2]=-C$99a),!0;},C$99t.decomposeYawPitchRoll=function(C$99t){var C$99t=C$99t.elements,C$99e=Math.asin(-this.elements[9]);C$99t[1]=C$99e,Math.cos(C$99e)>C$99Jt.zeroTolerance?(C$99t[2]=Math.atan2(this.elements[1],this.elements[5]),C$99t[0]=Math.atan2(this.elements[8],this.elements[10])):(C$99t[2]=Math.atan2(-this.elements[4],this.elements[0]),C$99t[0]=0);},C$99t.normalize=function(){var C$99t=this.elements,C$99e=C$99t[0],C$99i=C$99t[1],C$99n=C$99t[2],C$99r=Math.sqrt(C$99e*C$99e+C$99i*C$99i+C$99n*C$99n);if(!C$99r)return C$99t[0]=0,C$99t[1]=0,void(C$99t[2]=0);1!=C$99r&&(C$99t[0]=C$99e*(C$99r=1/C$99r),C$99t[1]=C$99i*C$99r,C$99t[2]=C$99n*C$99r);},C$99t.transpose=function(){var C$99t,C$99e;return C$99e=(C$99t=this.elements)[1],C$99t[1]=C$99t[4],C$99t[4]=C$99e,C$99e=C$99t[2],C$99t[2]=C$99t[8],C$99t[8]=C$99e,C$99e=C$99t[3],C$99t[3]=C$99t[12],C$99t[12]=C$99e,C$99e=C$99t[6],C$99t[6]=C$99t[9],C$99t[9]=C$99e,C$99e=C$99t[7],C$99t[7]=C$99t[13],C$99t[13]=C$99e,C$99e=C$99t[11],C$99t[11]=C$99t[14],C$99t[14]=C$99e,this;},C$99t.invert=function(C$99t){var C$99e=this.elements,C$99t=C$99t.elements,C$99i=C$99e[0],C$99n=C$99e[1],C$99r=C$99e[2],C$99s=C$99e[3],C$99a=C$99e[4],C$99o=C$99e[5],C$99h=C$99e[6],C$99u=C$99e[7],C$99c=C$99e[8],C$99_=C$99e[9],C$99d=C$99e[10],C$99f=C$99e[11],C$99p=C$99e[12],C$99m=C$99e[13],C$99g=C$99e[14],C$99e=C$99e[15],C$99v=C$99i*C$99o-C$99n*C$99a,C$99$=C$99i*C$99h-C$99r*C$99a,C$99x=C$99i*C$99u-C$99s*C$99a,C$99y=C$99n*C$99h-C$99r*C$99o,C$99b=C$99n*C$99u-C$99s*C$99o,C$99w=C$99r*C$99u-C$99s*C$99h,C$99T=C$99c*C$99m-C$99_*C$99p,C$99S=C$99c*C$99g-C$99d*C$99p,C$99M=C$99c*C$99e-C$99f*C$99p,C$99C=C$99_*C$99g-C$99d*C$99m,C$99A=C$99_*C$99e-C$99f*C$99m,C$99I=C$99d*C$99e-C$99f*C$99g,C$99l=C$99v*C$99I-C$99$*C$99A+C$99x*C$99C+C$99y*C$99M-C$99b*C$99S+C$99w*C$99T;0!==Math.abs(C$99l)&&(C$99t[0]=(C$99o*C$99I-C$99h*C$99A+C$99u*C$99C)*(C$99l=1/C$99l),C$99t[1]=(C$99r*C$99A-C$99n*C$99I-C$99s*C$99C)*C$99l,C$99t[2]=(C$99m*C$99w-C$99g*C$99b+C$99e*C$99y)*C$99l,C$99t[3]=(C$99d*C$99b-C$99_*C$99w-C$99f*C$99y)*C$99l,C$99t[4]=(C$99h*C$99M-C$99a*C$99I-C$99u*C$99S)*C$99l,C$99t[5]=(C$99i*C$99I-C$99r*C$99M+C$99s*C$99S)*C$99l,C$99t[6]=(C$99g*C$99x-C$99p*C$99w-C$99e*C$99$)*C$99l,C$99t[7]=(C$99c*C$99w-C$99d*C$99x+C$99f*C$99$)*C$99l,C$99t[8]=(C$99a*C$99A-C$99o*C$99M+C$99u*C$99T)*C$99l,C$99t[9]=(C$99n*C$99M-C$99i*C$99A-C$99s*C$99T)*C$99l,C$99t[10]=(C$99p*C$99b-C$99m*C$99x+C$99e*C$99v)*C$99l,C$99t[11]=(C$99_*C$99x-C$99c*C$99b-C$99f*C$99v)*C$99l,C$99t[12]=(C$99o*C$99S-C$99a*C$99C-C$99h*C$99T)*C$99l,C$99t[13]=(C$99i*C$99C-C$99n*C$99S+C$99r*C$99T)*C$99l,C$99t[14]=(C$99m*C$99$-C$99p*C$99y-C$99g*C$99v)*C$99l,C$99t[15]=(C$99c*C$99y-C$99_*C$99$+C$99d*C$99v)*C$99l);},C$99t.identity=function(){var C$99t=this.elements;C$99t[1]=C$99t[2]=C$99t[3]=C$99t[4]=C$99t[6]=C$99t[7]=C$99t[8]=C$99t[9]=C$99t[11]=C$99t[12]=C$99t[13]=C$99t[14]=0,C$99t[0]=C$99t[5]=C$99t[10]=C$99t[15]=1;},C$99t.cloneTo=function(C$99t){var C$99e,C$99i,C$99n;if((C$99i=this.elements)!==(C$99n=C$99t.elements))for(C$99e=0;C$99e<16;++C$99e)C$99n[C$99e]=C$99i[C$99e];},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99t.getTranslationVector=function(C$99t){var C$99e=this.elements,C$99t=C$99t.elements;C$99t[0]=C$99e[12],C$99t[1]=C$99e[13],C$99t[2]=C$99e[14];},C$99t.setTranslationVector=function(C$99t){var C$99e=this.elements,C$99t=C$99t.elements;C$99e[12]=C$99t[0],C$99e[13]=C$99t[1],C$99e[14]=C$99t[2];},C$99t.getForward=function(C$99t){var C$99e=this.elements,C$99t=C$99t.elements;C$99t[0]=-C$99e[8],C$99t[1]=-C$99e[9],C$99t[2]=-C$99e[10];},C$99t.setForward=function(C$99t){var C$99e=this.elements,C$99t=C$99t.elements;C$99e[8]=-C$99t[0],C$99e[9]=-C$99t[1],C$99e[10]=-C$99t[2];},e$$.createRotationX=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[1]=C$99e[2]=C$99e[3]=C$99e[4]=C$99e[7]=C$99e[8]=C$99e[11]=C$99e[12]=C$99e[13]=C$99e[14]=0,C$99e[0]=C$99e[15]=1,C$99e[5]=C$99e[10]=C$99t,C$99e[6]=C$99i,C$99e[9]=-C$99i;},e$$.createRotationY=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[1]=C$99e[3]=C$99e[4]=C$99e[6]=C$99e[7]=C$99e[9]=C$99e[11]=C$99e[12]=C$99e[13]=C$99e[14]=0,C$99e[5]=C$99e[15]=1,C$99e[0]=C$99e[10]=C$99t,C$99e[2]=-C$99i,C$99e[8]=C$99i;},e$$.createRotationZ=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[2]=C$99e[3]=C$99e[6]=C$99e[7]=C$99e[8]=C$99e[9]=C$99e[11]=C$99e[12]=C$99e[13]=C$99e[14]=0,C$99e[10]=C$99e[15]=1,C$99e[0]=C$99e[5]=C$99t,C$99e[1]=C$99i,C$99e[4]=-C$99i;},e$$.createRotationYawPitchRoll=function(C$99t,C$99e,C$99i,C$99n){C$99ne.createFromYawPitchRoll(C$99t,C$99e,C$99i,e$$._tempQuaternion),e$$.createRotationQuaternion(e$$._tempQuaternion,C$99n);},e$$.createRotationAxis=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99t=C$99t[2],C$99s=Math.cos(C$99e),C$99e=Math.sin(C$99e),C$99a=C$99n*C$99n,C$99u=C$99r*C$99r,C$99c=C$99t*C$99t,C$99o=C$99n*C$99r,C$99h=C$99n*C$99t,C$99l=C$99r*C$99t,C$99i=C$99i.elements;C$99i[3]=C$99i[7]=C$99i[11]=C$99i[12]=C$99i[13]=C$99i[14]=0,C$99i[15]=1,C$99i[0]=C$99a+C$99s*(1-C$99a),C$99i[1]=C$99o-C$99s*C$99o+C$99e*C$99t,C$99i[2]=C$99h-C$99s*C$99h-C$99e*C$99r,C$99i[4]=C$99o-C$99s*C$99o-C$99e*C$99t,C$99i[5]=C$99u+C$99s*(1-C$99u),C$99i[6]=C$99l-C$99s*C$99l+C$99e*C$99n,C$99i[8]=C$99h-C$99s*C$99h+C$99e*C$99r,C$99i[9]=C$99l-C$99s*C$99l-C$99e*C$99n,C$99i[10]=C$99c+C$99s*(1-C$99c);},e$$.createRotationQuaternion=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99t[0],C$99n=C$99t[1],C$99r=C$99t[2],C$99t=C$99t[3],C$99s=C$99i*C$99i,C$99a=C$99n*C$99n,C$99o=C$99r*C$99r,C$99h=C$99i*C$99n,C$99l=C$99r*C$99t,C$99u=C$99r*C$99i,C$99c=C$99n*C$99t,C$99n=C$99n*C$99r,C$99r=C$99i*C$99t;C$99e[3]=C$99e[7]=C$99e[11]=C$99e[12]=C$99e[13]=C$99e[14]=0,C$99e[15]=1,C$99e[0]=1-2*(C$99a+C$99o),C$99e[1]=2*(C$99h+C$99l),C$99e[2]=2*(C$99u-C$99c),C$99e[4]=2*(C$99h-C$99l),C$99e[5]=1-2*(C$99o+C$99s),C$99e[6]=2*(C$99n+C$99r),C$99e[8]=2*(C$99u+C$99c),C$99e[9]=2*(C$99n-C$99r),C$99e[10]=1-2*(C$99a+C$99s);},e$$.createTranslate=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;C$99e[4]=C$99e[8]=C$99e[1]=C$99e[9]=C$99e[2]=C$99e[6]=C$99e[3]=C$99e[7]=C$99e[11]=0,C$99e[0]=C$99e[5]=C$99e[10]=C$99e[15]=1,C$99e[12]=C$99t[0],C$99e[13]=C$99t[1],C$99e[14]=C$99t[2];},e$$.createScaling=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;C$99e[0]=C$99t[0],C$99e[5]=C$99t[1],C$99e[10]=C$99t[2],C$99e[1]=C$99e[4]=C$99e[8]=C$99e[12]=C$99e[9]=C$99e[13]=C$99e[2]=C$99e[6]=C$99e[14]=C$99e[3]=C$99e[7]=C$99e[11]=0,C$99e[15]=1;},e$$.multiply=function(C$99t,C$99e,C$99u){var C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l;for(C$99n=C$99u.elements,C$99r=C$99t.elements,C$99n===(C$99s=C$99e.elements)&&(C$99s=C$99s.slice()),C$99i=0;C$99i<4;C$99i++)C$99a=C$99r[C$99i],C$99o=C$99r[C$99i+4],C$99h=C$99r[C$99i+8],C$99l=C$99r[C$99i+12],C$99n[C$99i]=C$99a*C$99s[0]+C$99o*C$99s[1]+C$99h*C$99s[2]+C$99l*C$99s[3],C$99n[C$99i+4]=C$99a*C$99s[4]+C$99o*C$99s[5]+C$99h*C$99s[6]+C$99l*C$99s[7],C$99n[C$99i+8]=C$99a*C$99s[8]+C$99o*C$99s[9]+C$99h*C$99s[10]+C$99l*C$99s[11],C$99n[C$99i+12]=C$99a*C$99s[12]+C$99o*C$99s[13]+C$99h*C$99s[14]+C$99l*C$99s[15];},e$$.createFromQuaternion=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99t=C$99t.elements,C$99i=C$99t[0],C$99n=C$99t[1],C$99r=C$99t[2],C$99t=C$99t[3],C$99s=C$99i+C$99i,C$99a=C$99n+C$99n,C$99o=C$99r+C$99r,C$99i=C$99i*C$99s,C$99h=C$99n*C$99s,C$99n=C$99n*C$99a,C$99l=C$99r*C$99s,C$99u=C$99r*C$99a,C$99r=C$99r*C$99o,C$99s=C$99t*C$99s,C$99a=C$99t*C$99a,C$99t=C$99t*C$99o;C$99e[0]=1-C$99n-C$99r,C$99e[1]=C$99h+C$99t,C$99e[2]=C$99l-C$99a,C$99e[3]=0,C$99e[4]=C$99h-C$99t,C$99e[5]=1-C$99i-C$99r,C$99e[6]=C$99u+C$99s,C$99e[7]=0,C$99e[8]=C$99l+C$99a,C$99e[9]=C$99u-C$99s,C$99e[10]=1-C$99i-C$99n,C$99e[11]=0,C$99e[12]=0,C$99e[13]=0,C$99e[14]=0,C$99e[15]=1;},e$$.createAffineTransformation=function(C$99t,C$99e,C$99i,C$99n){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99i.elements,C$99n=C$99n.elements,C$99r=C$99e[0],C$99s=C$99e[1],C$99a=C$99e[2],C$99e=C$99e[3],C$99o=C$99r+C$99r,C$99h=C$99s+C$99s,C$99l=C$99a+C$99a,C$99u=C$99r*C$99o,C$99c=C$99r*C$99h,C$99r=C$99r*C$99l,C$99_=C$99s*C$99h,C$99s=C$99s*C$99l,C$99a=C$99a*C$99l,C$99o=C$99e*C$99o,C$99h=C$99e*C$99h,C$99e=C$99e*C$99l,C$99l=C$99i[0],C$99d=C$99i[1],C$99i=C$99i[2];C$99n[0]=(1-(C$99_+C$99a))*C$99l,C$99n[1]=(C$99c+C$99e)*C$99l,C$99n[2]=(C$99r-C$99h)*C$99l,C$99n[3]=0,C$99n[4]=(C$99c-C$99e)*C$99d,C$99n[5]=(1-(C$99u+C$99a))*C$99d,C$99n[6]=(C$99s+C$99o)*C$99d,C$99n[7]=0,C$99n[8]=(C$99r+C$99h)*C$99i,C$99n[9]=(C$99s-C$99o)*C$99i,C$99n[10]=(1-(C$99u+C$99_))*C$99i,C$99n[11]=0,C$99n[12]=C$99t[0],C$99n[13]=C$99t[1],C$99n[14]=C$99t[2],C$99n[15]=1;},e$$.createLookAt=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99n.elements,C$99s=e$$._tempVector0,C$99a=e$$._tempVector1,C$99o=e$$._tempVector2;C$99I.subtract(C$99t,C$99e,C$99o),C$99I.normalize(C$99o,C$99o),C$99I.cross(C$99i,C$99o,C$99s),C$99I.normalize(C$99s,C$99s),C$99I.cross(C$99o,C$99s,C$99a),C$99n.identity(),C$99r[0]=C$99s.x,C$99r[4]=C$99s.y,C$99r[8]=C$99s.z,C$99r[1]=C$99a.x,C$99r[5]=C$99a.y,C$99r[9]=C$99a.z,C$99r[2]=C$99o.x,C$99r[6]=C$99o.y,C$99r[10]=C$99o.z,C$99r[12]=-C$99I.dot(C$99s,C$99t),C$99r[13]=-C$99I.dot(C$99a,C$99t),C$99r[14]=-C$99I.dot(C$99o,C$99t);},e$$.createPerspective=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99r=C$99r.elements,C$99t=1/Math.tan(C$99t/2),C$99s=1/(C$99i-C$99n);C$99r[0]=C$99t/C$99e,C$99r[5]=C$99t,C$99r[10]=(C$99n+C$99i)*C$99s,C$99r[11]=-1,C$99r[14]=2*C$99n*C$99i*C$99s,C$99r[1]=C$99r[2]=C$99r[3]=C$99r[4]=C$99r[6]=C$99r[7]=C$99r[8]=C$99r[9]=C$99r[12]=C$99r[13]=C$99r[15]=0;},e$$.createOrthoOffCenterRH=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){var C$99a=C$99a.elements,C$99o=1/(C$99t-C$99e),C$99h=1/(C$99i-C$99n),C$99l=1/(C$99r-C$99s);C$99a[1]=C$99a[2]=C$99a[3]=C$99a[4]=C$99a[6]=C$99a[7]=C$99a[8]=C$99a[9]=C$99a[11]=0,C$99a[15]=1,C$99a[0]=-2*C$99o,C$99a[5]=-2*C$99h,C$99a[10]=2*C$99l,C$99a[12]=(C$99t+C$99e)*C$99o,C$99a[13]=(C$99n+C$99i)*C$99h,C$99a[14]=(C$99s+C$99r)*C$99l;},e$$.translation=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;C$99e[0]=C$99e[5]=C$99e[10]=C$99e[15]=1,C$99e[12]=C$99t[0],C$99e[13]=C$99t[1],C$99e[14]=C$99t[2];},C$99s(e$$,["_tempMatrix4x4",function(){return this._tempMatrix4x4=new e$$();},"_tempVector0",function(){return this._tempVector0=new C$99I();},"_tempVector1",function(){return this._tempVector1=new C$99I();},"_tempVector2",function(){return this._tempVector2=new C$99I();},"_tempQuaternion",function(){return this._tempQuaternion=new C$99ne();},"DEFAULT",function(){return this.DEFAULT=new e$$();},"ZERO",function(){return this.ZERO=new e$$(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);}]),e$$),C$99ie=(function(){function e$g(C$99t,C$99e){this.extents=null,this.transformation=null,this.extents=C$99t,this.transformation=C$99e;}C$99r(e$g,"laya.d3.math.OrientedBoundBox");var C$99t=e$g.prototype;C$99t.getCorners=function(C$99t){var C$99e=e$g._tempV30.elements,C$99i=e$g._tempV31.elements,C$99n=e$g._tempV32.elements,C$99r=this.extents.elements;C$99e[0]=C$99r[0],C$99e[1]=C$99e[2]=0,C$99i[1]=C$99r[1],C$99i[0]=C$99i[2]=0,C$99n[2]=C$99r[2],C$99n[0]=C$99n[1]=0,C$99I.TransformNormal(e$g._tempV30,this.transformation,e$g._tempV30),C$99I.TransformNormal(e$g._tempV31,this.transformation,e$g._tempV31),C$99I.TransformNormal(e$g._tempV32,this.transformation,e$g._tempV32);C$99e=e$g._tempV33;this.transformation.getTranslationVector(C$99e),C$99t.length=8,C$99I.add(C$99e,e$g._tempV30,e$g._tempV34),C$99I.add(e$g._tempV34,e$g._tempV31,e$g._tempV34),C$99I.add(e$g._tempV34,e$g._tempV32,C$99t[0]),C$99I.add(C$99e,e$g._tempV30,e$g._tempV34),C$99I.add(e$g._tempV34,e$g._tempV31,e$g._tempV34),C$99I.subtract(e$g._tempV34,e$g._tempV32,C$99t[1]),C$99I.subtract(C$99e,e$g._tempV30,e$g._tempV34),C$99I.add(e$g._tempV34,e$g._tempV31,e$g._tempV34),C$99I.subtract(e$g._tempV34,e$g._tempV32,C$99t[2]),C$99I.subtract(C$99e,e$g._tempV30,e$g._tempV34),C$99I.add(e$g._tempV34,e$g._tempV31,e$g._tempV34),C$99I.add(e$g._tempV34,e$g._tempV32,C$99t[3]),C$99I.add(C$99e,e$g._tempV30,e$g._tempV34),C$99I.subtract(e$g._tempV34,e$g._tempV31,e$g._tempV34),C$99I.add(e$g._tempV34,e$g._tempV32,C$99t[4]),C$99I.add(C$99e,e$g._tempV30,e$g._tempV34),C$99I.subtract(e$g._tempV34,e$g._tempV31,e$g._tempV34),C$99I.subtract(e$g._tempV34,e$g._tempV32,C$99t[5]),C$99I.subtract(C$99e,e$g._tempV30,e$g._tempV34),C$99I.subtract(e$g._tempV34,e$g._tempV31,e$g._tempV34),C$99I.subtract(e$g._tempV34,e$g._tempV32,C$99t[6]),C$99I.subtract(C$99e,e$g._tempV30,e$g._tempV34),C$99I.subtract(e$g._tempV34,e$g._tempV31,e$g._tempV34),C$99I.add(e$g._tempV34,e$g._tempV32,C$99t[7]);},C$99t.transform=function(C$99t){C$99ee.multiply(this.transformation,C$99t,this.transformation);},C$99t.scale=function(C$99t){C$99I.multiply(this.extents,C$99t,this.extents);},C$99t.translate=function(C$99t){this.transformation.getTranslationVector(e$g._tempV30),C$99I.add(e$g._tempV30,C$99t,e$g._tempV31),this.transformation.setTranslationVector(e$g._tempV31);},C$99t.Size=function(C$99t){C$99I.scale(this.extents,2,C$99t);},C$99t.getSize=function(C$99t){var C$99e=this.extents.elements;e$g._tempV30.x=C$99e[0],e$g._tempV31.y=C$99e[1],e$g._tempV32.z=C$99e[2],C$99I.TransformNormal(e$g._tempV30,this.transformation,e$g._tempV30),C$99I.TransformNormal(e$g._tempV31,this.transformation,e$g._tempV31),C$99I.TransformNormal(e$g._tempV31,this.transformation,e$g._tempV32);C$99e=C$99t.elements;C$99e[0]=C$99I.scalarLength(e$g._tempV30),C$99e[1]=C$99I.scalarLength(e$g._tempV31),C$99e[2]=C$99I.scalarLength(e$g._tempV32);},C$99t.getSizeSquared=function(C$99t){var C$99e=this.extents.elements;e$g._tempV30.x=C$99e[0],e$g._tempV31.y=C$99e[1],e$g._tempV32.z=C$99e[2],C$99I.TransformNormal(e$g._tempV30,this.transformation,e$g._tempV30),C$99I.TransformNormal(e$g._tempV31,this.transformation,e$g._tempV31),C$99I.TransformNormal(e$g._tempV31,this.transformation,e$g._tempV32);C$99e=C$99t.elements;C$99e[0]=C$99I.scalarLengthSquared(e$g._tempV30),C$99e[1]=C$99I.scalarLengthSquared(e$g._tempV31),C$99e[2]=C$99I.scalarLengthSquared(e$g._tempV32);},C$99t.getCenter=function(C$99t){this.transformation.getTranslationVector(C$99t);},C$99t.containsPoint=function(C$99t){var C$99e=this.extents.elements,C$99i=C$99e[0],C$99n=C$99e[1],C$99e=C$99e[2];this.transformation.invert(e$g._tempM0),C$99I.transformCoordinate(C$99t,e$g._tempM0,e$g._tempV30);var C$99t=e$g._tempV30.elements,C$99r=Math.abs(C$99t[0]),C$99s=Math.abs(C$99t[1]),C$99t=Math.abs(C$99t[2]);return C$99Jt.nearEqual(C$99r,C$99i)&&C$99Jt.nearEqual(C$99s,C$99n)&&C$99Jt.nearEqual(C$99t,C$99e)?2:C$99r<C$99i&&C$99s<C$99n&&C$99t<C$99e?1:0;},C$99t.containsPoints=function(C$99t){var C$99e=this.extents.elements,C$99i=C$99e[0],C$99n=C$99e[1],C$99r=C$99e[2];this.transformation.invert(e$g._tempM0);for(var C$99s=!0,C$99a=!1,C$99o=0;C$99o<C$99t.length;C$99o++){C$99I.transformCoordinate(C$99t[C$99o],e$g._tempM0,e$g._tempV30);var C$99h=e$g._tempV30.elements,C$99l=Math.abs(C$99h[0]),C$99u=Math.abs(C$99h[1]),C$99h=Math.abs(C$99h[2]);C$99Jt.nearEqual(C$99l,C$99i)&&C$99Jt.nearEqual(C$99u,C$99n)&&C$99Jt.nearEqual(C$99h,C$99r)&&(C$99a=!0),C$99l<C$99i&&C$99u<C$99n&&C$99h<C$99r?C$99a=!0:C$99s=!1;}return C$99s?1:C$99a?2:0;},C$99t.containsSphere=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!1);var C$99i=this.extents.elements,C$99n=C$99i[0],C$99r=C$99i[1],C$99i=C$99i[2],C$99s=C$99t.radius;this.transformation.invert(e$g._tempM0),C$99I.transformCoordinate(C$99t.center,e$g._tempM0,e$g._tempV30);if(C$99t=C$99e?C$99s:(C$99I.scale(C$99I.UnitX,C$99s,e$g._tempV31),C$99I.TransformNormal(e$g._tempV31,e$g._tempM0,e$g._tempV31),C$99I.scalarLength(e$g._tempV31)),C$99I.scale(this.extents,-1,e$g._tempV32),C$99I.Clamp(e$g._tempV30,e$g._tempV32,this.extents,e$g._tempV33),C$99t*C$99t<C$99I.distanceSquared(e$g._tempV30,e$g._tempV33))return 0;var C$99e=e$g._tempV30.elements,C$99s=C$99e[0],C$99a=C$99e[1],C$99e=C$99e[2],C$99o=e$g._tempV32.elements,C$99h=C$99o[0],C$99l=C$99o[1],C$99o=C$99o[2];return C$99h+C$99t<=C$99s&&C$99s<=C$99n-C$99t&&C$99t<C$99n-C$99h&&C$99l+C$99t<=C$99a&&C$99a<=C$99r-C$99t&&C$99t<C$99r-C$99l&&C$99o+C$99t<=C$99e&&C$99e<=C$99i-C$99t&&C$99t<C$99i-C$99o?1:2;},C$99t.containsOrientedBoundBox=function(C$99t){var C$99e=0,C$99i=0;C$99t.getCorners(e$g._corners);var C$99u=this.containsPoints(e$g._corners);if(0!=C$99u)return C$99u;var C$99n=this.extents.elements;C$99t.extents.cloneTo(e$g._tempV35);var C$99r=e$g._tempV35.elements;e$g._getRows(this.transformation,e$g._rows1),e$g._getRows(C$99t.transformation,e$g._rows2);var C$99s;for(C$99e=0;C$99e<4;C$99e++)for(C$99i=0;C$99i<4;C$99i++)3==C$99e||3==C$99i?(e$g._tempM0.setElementByRowColumn(C$99e,C$99i,0),e$g._tempM1.setElementByRowColumn(C$99e,C$99i,0)):(C$99s=C$99I.dot(e$g._rows1[C$99e],e$g._rows2[C$99i]),e$g._tempM0.setElementByRowColumn(C$99e,C$99i,C$99s),e$g._tempM1.setElementByRowColumn(C$99e,C$99i,Math.abs(C$99s)));C$99t.getCenter(e$g._tempV34),this.getCenter(e$g._tempV36),C$99I.subtract(e$g._tempV34,e$g._tempV36,e$g._tempV30);var C$99a=e$g._tempV31.elements;C$99a[0]=C$99I.dot(e$g._tempV30,e$g._rows1[0]),C$99a[1]=C$99I.dot(e$g._tempV30,e$g._rows1[1]),C$99a[2]=C$99I.dot(e$g._tempV30,e$g._rows1[2]);var C$99o=e$g._tempV32.elements,C$99c=e$g._tempV33.elements;for(C$99e=0;C$99e<3;C$99e++)if(C$99o[0]=e$g._tempM1.getElementByRowColumn(C$99e,0),C$99o[1]=e$g._tempM1.getElementByRowColumn(C$99e,1),C$99o[2]=e$g._tempM1.getElementByRowColumn(C$99e,2),C$99n[C$99e]+C$99I.dot(e$g._tempV35,e$g._tempV32)<Math.abs(C$99a[C$99e]))return 0;for(C$99i=0;C$99i<3;C$99i++)if(C$99o[0]=e$g._tempM1.getElementByRowColumn(0,C$99i),C$99o[1]=e$g._tempM1.getElementByRowColumn(1,C$99i),C$99o[2]=e$g._tempM1.getElementByRowColumn(2,C$99i),C$99c[0]=e$g._tempM0.getElementByRowColumn(0,C$99i),C$99c[1]=e$g._tempM0.getElementByRowColumn(1,C$99i),C$99c[2]=e$g._tempM0.getElementByRowColumn(2,C$99i),C$99I.dot(this.extents,e$g._tempV32)+C$99r[C$99i]<Math.abs(C$99I.dot(e$g._tempV31,e$g._tempV33)))return 0;for(C$99e=0;C$99e<3;C$99e++)for(C$99i=0;C$99i<3;C$99i++){var C$99h=(C$99e+1)%3,C$99l=(C$99e+2)%3,C$99_=(C$99i+1)%3,C$99d=(C$99i+2)%3;if(C$99n[C$99h]*e$g._tempM1.getElementByRowColumn(C$99l,C$99i)+C$99n[C$99l]*e$g._tempM1.getElementByRowColumn(C$99h,C$99i)+(C$99r[C$99_]*e$g._tempM1.getElementByRowColumn(C$99e,C$99d)+C$99r[C$99d]*e$g._tempM1.getElementByRowColumn(C$99e,C$99_))<Math.abs(C$99a[C$99l]*e$g._tempM0.getElementByRowColumn(C$99h,C$99i)-C$99a[C$99h]*e$g._tempM0.getElementByRowColumn(C$99l,C$99i)))return 0;}return 2;},C$99t.containsLine=function(C$99t,C$99e){e$g._corners[0]=C$99t,e$g._corners[1]=C$99e;var C$99i=this.containsPoints(e$g._corners);if(0!=C$99i)return C$99i;var C$99i=this.extents.elements,C$99n=C$99i[0],C$99r=C$99i[1],C$99i=C$99i[2];this.transformation.invert(e$g._tempM0),C$99I.transformCoordinate(C$99t,e$g._tempM0,e$g._tempV30),C$99I.transformCoordinate(C$99e,e$g._tempM0,e$g._tempV31),C$99I.add(e$g._tempV30,e$g._tempV31,e$g._tempV32),C$99I.scale(e$g._tempV32,.5,e$g._tempV32),C$99I.subtract(e$g._tempV30,e$g._tempV32,e$g._tempV33);var C$99t=e$g._tempV33.elements,C$99e=C$99t[0],C$99u=C$99t[1],C$99c=C$99t[2],C$99s=e$g._tempV34.elements,C$99a=C$99s[0]=Math.abs(C$99t[0]),C$99o=C$99s[1]=Math.abs(C$99t[1]),C$99s=C$99s[2]=Math.abs(C$99t[2]),C$99t=e$g._tempV32.elements,C$99h=C$99t[0],C$99l=C$99t[1],C$99t=C$99t[2];return Math.abs(C$99h)>C$99n+C$99a||Math.abs(C$99l)>C$99r+C$99o||Math.abs(C$99t)>C$99i+C$99s||Math.abs(C$99l*C$99c-C$99t*C$99u)>C$99r*C$99s+C$99i*C$99o||Math.abs(C$99h*C$99c-C$99t*C$99e)>C$99n*C$99s+C$99i*C$99a||Math.abs(C$99h*C$99u-C$99l*C$99e)>C$99n*C$99o+C$99r*C$99a?0:2;},C$99t.containsBoundBox=function(C$99t){var C$99e=0,C$99i=0,C$99u=C$99t.min,C$99c=C$99t.max;C$99t.getCorners(e$g._corners);C$99t=this.containsPoints(e$g._corners);if(0!=C$99t)return C$99t;C$99I.subtract(C$99c,C$99u,e$g._tempV30),C$99I.scale(e$g._tempV30,.5,e$g._tempV30),C$99I.add(C$99u,e$g._tempV30,e$g._tempV30),C$99I.subtract(C$99c,e$g._tempV30,e$g._tempV31);var C$99n=this.extents.elements,C$99r=e$g._tempV31.elements;for(e$g._getRows(this.transformation,e$g._rows1),this.transformation.invert(e$g._tempM0),C$99e=0;C$99e<3;C$99e++)for(C$99i=0;C$99i<3;C$99i++)e$g._tempM1.setElementByRowColumn(C$99e,C$99i,Math.abs(e$g._tempM0.getElementByRowColumn(C$99e,C$99i)));this.getCenter(e$g._tempV35),C$99I.subtract(e$g._tempV30,e$g._tempV35,e$g._tempV32);var C$99s=e$g._tempV31.elements;C$99s[0]=C$99I.dot(e$g._tempV32,e$g._rows1[0]),C$99s[1]=C$99I.dot(e$g._tempV32,e$g._rows1[1]),C$99s[2]=C$99I.dot(e$g._tempV32,e$g._rows1[2]);var C$99a=e$g._tempV33.elements,C$99o=e$g._tempV34.elements;for(C$99e=0;C$99e<3;C$99e++)if(C$99a[0]=e$g._tempM1.getElementByRowColumn(C$99e,0),C$99a[1]=e$g._tempM1.getElementByRowColumn(C$99e,1),C$99a[2]=e$g._tempM1.getElementByRowColumn(C$99e,2),C$99n[C$99e]+C$99I.dot(e$g._tempV31,e$g._tempV33)<Math.abs(C$99s[C$99e]))return 0;for(C$99i=0;C$99i<3;C$99i++)if(C$99a[0]=e$g._tempM1.getElementByRowColumn(0,C$99i),C$99a[1]=e$g._tempM1.getElementByRowColumn(1,C$99i),C$99a[2]=e$g._tempM1.getElementByRowColumn(2,C$99i),C$99o[0]=e$g._tempM0.getElementByRowColumn(0,C$99i),C$99o[1]=e$g._tempM0.getElementByRowColumn(1,C$99i),C$99o[2]=e$g._tempM0.getElementByRowColumn(2,C$99i),C$99I.dot(this.extents,e$g._tempV33)+C$99r[C$99i]<Math.abs(C$99I.dot(e$g._tempV31,e$g._tempV34)))return 0;for(C$99e=0;C$99e<3;C$99e++)for(C$99i=0;C$99i<3;C$99i++){var C$99h=(C$99e+1)%3,C$99l=(C$99e+2)%3,C$99_=(C$99i+1)%3,C$99d=(C$99i+2)%3;if(C$99n[C$99h]*e$g._tempM1.getElementByRowColumn(C$99l,C$99i)+C$99n[C$99l]*e$g._tempM1.getElementByRowColumn(C$99h,C$99i)+(C$99r[C$99_]*e$g._tempM1.getElementByRowColumn(C$99e,C$99d)+C$99r[C$99d]*e$g._tempM1.getElementByRowColumn(C$99e,C$99_))<Math.abs(C$99s[C$99l]*e$g._tempM0.getElementByRowColumn(C$99h,C$99i)-C$99s[C$99h]*e$g._tempM0.getElementByRowColumn(C$99l,C$99i)))return 0;}return 2;},C$99t.intersectsRay=function(C$99t,C$99e){C$99I.scale(this.extents,-1,e$g._tempV30),this.transformation.invert(e$g._tempM0),C$99I.TransformNormal(C$99t.direction,e$g._tempM0,e$g._ray.direction),C$99I.transformCoordinate(C$99t.origin,e$g._tempM0,e$g._ray.origin),e$g._boxBound1.min=e$g._tempV30,e$g._boxBound1.max=this.extents;C$99t=Collision.intersectsRayAndBoxRP(e$g._ray,e$g._boxBound1,C$99e);return-1!==C$99t&&C$99I.transformCoordinate(C$99e,this.transformation,C$99e),C$99t;},C$99t._getLocalCorners=function(C$99t){C$99t.length=8;var C$99e=this.extents.elements;e$g._tempV30.x=C$99e[0],e$g._tempV31.y=C$99e[1],e$g._tempV32.z=C$99e[2],C$99I.add(e$g._tempV30,e$g._tempV31,e$g._tempV33),C$99I.add(e$g._tempV33,e$g._tempV32,C$99t[0]),C$99I.add(e$g._tempV30,e$g._tempV31,e$g._tempV33),C$99I.subtract(e$g._tempV33,e$g._tempV32,C$99t[1]),C$99I.subtract(e$g._tempV31,e$g._tempV30,e$g._tempV33),C$99I.subtract(e$g._tempV33,e$g._tempV30,C$99t[2]),C$99I.subtract(e$g._tempV31,e$g._tempV30,e$g._tempV33),C$99I.add(e$g._tempV33,e$g._tempV32,C$99t[3]),C$99I.subtract(e$g._tempV30,e$g._tempV31,e$g._tempV33),C$99I.add(e$g._tempV33,e$g._tempV32,C$99t[4]),C$99I.subtract(e$g._tempV30,e$g._tempV31,e$g._tempV33),C$99I.subtract(e$g._tempV33,e$g._tempV32,C$99t[5]),C$99I.scale(C$99t[0],-1,C$99t[6]),C$99I.subtract(e$g._tempV32,e$g._tempV30,e$g._tempV33),C$99I.subtract(e$g._tempV33,e$g._tempV31,C$99t[7]);},C$99t.equals=function(C$99t){return this.extents==C$99t.extents&&this.transformation==C$99t.transformation;},C$99t.cloneTo=function(C$99t){this.extents.cloneTo(C$99t.extents),this.transformation.cloneTo(C$99t.transformation);},e$g.createByBoundBox=function(C$99t,C$99e){var C$99i=C$99t.min,C$99t=C$99t.max;C$99I.subtract(C$99t,C$99i,e$g._tempV30),C$99I.scale(e$g._tempV30,.5,e$g._tempV30),C$99I.add(C$99i,e$g._tempV30,e$g._tempV31),C$99I.subtract(C$99t,e$g._tempV31,e$g._tempV32),C$99ee.translation(e$g._tempV31,e$g._tempM0);C$99i=e$g._tempV32.clone(),C$99t=e$g._tempM0.clone();C$99e.extents=C$99i,C$99e.transformation=C$99t;},e$g.createByMinAndMaxVertex=function(C$99t,C$99e){return C$99I.subtract(C$99e,C$99t,e$g._tempV30),C$99I.scale(e$g._tempV30,.5,e$g._tempV30),C$99I.add(C$99t,e$g._tempV30,e$g._tempV31),C$99I.subtract(C$99e,e$g._tempV31,e$g._tempV32),C$99ee.translation(e$g._tempV31,e$g._tempM0),new e$g(e$g._tempV32,e$g._tempM0);},e$g._getRows=function(C$99t,C$99e){C$99e.length=3;var C$99t=C$99t.elements,C$99i=C$99e[0].elements;C$99i[0]=C$99t[0],C$99i[1]=C$99t[1],C$99i[2]=C$99t[2];C$99i=C$99e[1].elements;C$99i[0]=C$99t[4],C$99i[1]=C$99t[5],C$99i[2]=C$99t[6];C$99i=C$99e[2].elements;C$99i[0]=C$99t[8],C$99i[1]=C$99t[9],C$99i[2]=C$99t[10];},e$g.getObbtoObbMatrix4x4=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.transformation,C$99s=C$99e.transformation;if(C$99i){e$g._getRows(C$99r,e$g._rows1),e$g._getRows(C$99s,e$g._rows2);for(var C$99a=0;C$99a<3;C$99a++)for(var C$99o=0;C$99o<3;C$99o++)C$99n.setElementByRowColumn(C$99a,C$99o,C$99I.dot(e$g._rows2[C$99a],e$g._rows1[C$99o]));C$99e.getCenter(e$g._tempV30),C$99t.getCenter(e$g._tempV31),C$99I.subtract(e$g._tempV30,e$g._tempV31,e$g._tempV32);C$99i=C$99n.elements;C$99i[12]=C$99I.dot(e$g._tempV32,e$g._rows1[0]),C$99i[13]=C$99I.dot(e$g._tempV32,e$g._rows1[1]),C$99i[14]=C$99I.dot(e$g._tempV32,e$g._rows1[2]),C$99i[15]=1;}else C$99r.invert(e$g._tempM0),C$99ee.multiply(C$99s,e$g._tempM0,C$99n);},e$g.merge=function(C$99t,C$99e,C$99i){var C$99n=C$99t.extents,C$99r=C$99t.transformation;e$g.getObbtoObbMatrix4x4(C$99t,C$99e,C$99i,e$g._tempM0),C$99e._getLocalCorners(e$g._corners),C$99I.transformCoordinate(e$g._corners[0],e$g._tempM0,e$g._corners[0]),C$99I.transformCoordinate(e$g._corners[1],e$g._tempM0,e$g._corners[1]),C$99I.transformCoordinate(e$g._corners[2],e$g._tempM0,e$g._corners[2]),C$99I.transformCoordinate(e$g._corners[3],e$g._tempM0,e$g._corners[3]),C$99I.transformCoordinate(e$g._corners[4],e$g._tempM0,e$g._corners[4]),C$99I.transformCoordinate(e$g._corners[5],e$g._tempM0,e$g._corners[5]),C$99I.transformCoordinate(e$g._corners[6],e$g._tempM0,e$g._corners[6]),C$99I.transformCoordinate(e$g._corners[7],e$g._tempM0,e$g._corners[7]),C$99I.scale(C$99n,-1,e$g._boxBound1.min),C$99n.cloneTo(e$g._boxBound1.max),C$99qt.createfromPoints(e$g._corners,e$g._boxBound2),C$99qt.merge(e$g._boxBound2,e$g._boxBound1,e$g._boxBound3);C$99t=e$g._boxBound3.min,C$99i=e$g._boxBound3.max;C$99I.subtract(C$99i,C$99t,e$g._tempV30),C$99I.scale(e$g._tempV30,.5,e$g._tempV30),C$99I.add(C$99t,e$g._tempV30,e$g._tempV32),C$99I.subtract(C$99i,e$g._tempV32,C$99n),C$99I.transformCoordinate(e$g._tempV32,C$99r,e$g._tempV33);},C$99s(e$g,["_tempV30",function(){return this._tempV30=new C$99I();},"_tempV31",function(){return this._tempV31=new C$99I();},"_tempV32",function(){return this._tempV32=new C$99I();},"_tempV33",function(){return this._tempV33=new C$99I();},"_tempV34",function(){return this._tempV34=new C$99I();},"_tempV35",function(){return this._tempV35=new C$99I();},"_tempV36",function(){return this._tempV36=new C$99I();},"_tempM0",function(){return this._tempM0=new C$99ee();},"_tempM1",function(){return this._tempM1=new C$99ee();},"_corners",function(){return this._corners=[new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I()];},"_rows1",function(){return this._rows1=[new C$99I(),new C$99I(),new C$99I()];},"_rows2",function(){return this._rows2=[new C$99I(),new C$99I(),new C$99I()];},"_ray",function(){return this._ray=new C$99se(new C$99I(),new C$99I());},"_boxBound1",function(){return this._boxBound1=new C$99qt(new C$99I(),new C$99I());},"_boxBound2",function(){return this._boxBound2=new C$99qt(new C$99I(),new C$99I());},"_boxBound3",function(){return this._boxBound3=new C$99qt(new C$99I(),new C$99I());}]);}(),C$99r(e$R,"laya.d3.math.Plane"),e$R.prototype.normalize=function(){var C$99t=this.normal.elements,C$99e=C$99t[0],C$99i=C$99t[1],C$99n=C$99t[2],C$99r=1/Math.sqrt(C$99e*C$99e+C$99i*C$99i+C$99n*C$99n);C$99t[0]=C$99e*C$99r,C$99t[1]=C$99i*C$99r,C$99t[2]=C$99n*C$99r,this.distance*=C$99r;},e$R.createPlaneBy3P=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99i.elements,C$99n=C$99e[0]-C$99t[0],C$99r=C$99e[1]-C$99t[1],C$99e=C$99e[2]-C$99t[2],C$99s=C$99i[0]-C$99t[0],C$99a=C$99i[1]-C$99t[1],C$99i=C$99i[2]-C$99t[2],C$99o=C$99r*C$99i-C$99e*C$99a,C$99e=C$99e*C$99s-C$99n*C$99i,C$99i=C$99n*C$99a-C$99r*C$99s,C$99n=1/Math.sqrt(C$99o*C$99o+C$99e*C$99e+C$99i*C$99i),C$99a=C$99o*C$99n,C$99r=C$99e*C$99n,C$99s=C$99i*C$99n,C$99o=e$R._TEMPVec3.elements;C$99o[0]=C$99a,C$99o[1]=C$99r,C$99o[2]=C$99s;C$99e=-(C$99a*C$99t[0]+C$99r*C$99t[1]+C$99s*C$99t[2]);return new e$R(e$R._TEMPVec3,C$99e);},e$R.PlaneIntersectionType_Back=0,e$R.PlaneIntersectionType_Front=1,e$R.PlaneIntersectionType_Intersecting=2,C$99s(e$R,["_TEMPVec3",function(){return this._TEMPVec3=new C$99I();}]),e$R),C$99ne=function(){function e$W(C$99t,C$99e,C$99i,C$99n){this.elements=new Float32Array(4),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=1),this.elements[0]=C$99t=void 0===C$99t?0:C$99t,this.elements[1]=C$99e,this.elements[2]=C$99i,this.elements[3]=C$99n;}C$99r(e$W,"laya.d3.math.Quaternion");var C$99t=e$W.prototype;return C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.scaling=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=this.elements;C$99e[0]=C$99i[0]*C$99t,C$99e[1]=C$99i[1]*C$99t,C$99e[2]=C$99i[2]*C$99t,C$99e[3]=C$99i[3]*C$99t;},C$99t.normalize=function(C$99t){var C$99t=C$99t.elements,C$99e=this.elements,C$99i=C$99e[0],C$99n=C$99e[1],C$99r=C$99e[2],C$99e=C$99e[3],C$99s=C$99i*C$99i+C$99n*C$99n+C$99r*C$99r+C$99e*C$99e;0<C$99s&&(C$99s=1/Math.sqrt(C$99s),C$99t[0]=C$99i*C$99s,C$99t[1]=C$99n*C$99s,C$99t[2]=C$99r*C$99s,C$99t[3]=C$99e*C$99s);},C$99t.length=function(){var C$99t=this.elements,C$99e=C$99t[0],C$99i=C$99t[1],C$99n=C$99t[2],C$99t=C$99t[3];return Math.sqrt(C$99e*C$99e+C$99i*C$99i+C$99n*C$99n+C$99t*C$99t);},C$99t.rotateX=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=this.elements;C$99t*=.5;var C$99n=C$99i[0],C$99r=C$99i[1],C$99s=C$99i[2],C$99i=C$99i[3],C$99a=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[0]=C$99n*C$99t+C$99i*C$99a,C$99e[1]=C$99r*C$99t+C$99s*C$99a,C$99e[2]=C$99s*C$99t-C$99r*C$99a,C$99e[3]=C$99i*C$99t-C$99n*C$99a;},C$99t.rotateY=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=this.elements;C$99t*=.5;var C$99n=C$99i[0],C$99r=C$99i[1],C$99s=C$99i[2],C$99i=C$99i[3],C$99a=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[0]=C$99n*C$99t-C$99s*C$99a,C$99e[1]=C$99r*C$99t+C$99i*C$99a,C$99e[2]=C$99s*C$99t+C$99n*C$99a,C$99e[3]=C$99i*C$99t-C$99r*C$99a;},C$99t.rotateZ=function(C$99t,C$99e){var C$99e=C$99e.elements,C$99i=this.elements;C$99t*=.5;var C$99n=C$99i[0],C$99r=C$99i[1],C$99s=C$99i[2],C$99i=C$99i[3],C$99a=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99e[0]=C$99n*C$99t+C$99r*C$99a,C$99e[1]=C$99r*C$99t-C$99n*C$99a,C$99e[2]=C$99s*C$99t+C$99i*C$99a,C$99e[3]=C$99i*C$99t-C$99s*C$99a;},C$99t.getYawPitchRoll=function(C$99t){C$99I.transformQuat(C$99I.ForwardRH,this,e$W.TEMPVector31),C$99I.transformQuat(C$99I.Up,this,e$W.TEMPVector32);var C$99e=e$W.TEMPVector32.elements;e$W.angleTo(C$99I.ZERO,e$W.TEMPVector31,e$W.TEMPVector33);var C$99i=e$W.TEMPVector33.elements;C$99i[0]==Math.PI/2?(C$99i[1]=e$W.arcTanAngle(C$99e[2],C$99e[0]),C$99i[2]=0):C$99i[0]==-Math.PI/2?(C$99i[1]=e$W.arcTanAngle(-C$99e[2],-C$99e[0]),C$99i[2]=0):(C$99ee.createRotationY(-C$99i[1],e$W.TEMPMatrix0),C$99ee.createRotationX(-C$99i[0],e$W.TEMPMatrix1),C$99I.transformCoordinate(e$W.TEMPVector32,e$W.TEMPMatrix0,e$W.TEMPVector32),C$99I.transformCoordinate(e$W.TEMPVector32,e$W.TEMPMatrix1,e$W.TEMPVector32),C$99i[2]=e$W.arcTanAngle(C$99e[1],-C$99e[0])),C$99i[1]<=-Math.PI&&(C$99i[1]=Math.PI),C$99i[2]<=-Math.PI&&(C$99i[2]=Math.PI),C$99i[1]>=Math.PI&&C$99i[2]>=Math.PI&&(C$99i[1]=0,C$99i[2]=0,C$99i[0]=Math.PI-C$99i[0]);C$99e=C$99t.elements;C$99e[0]=C$99i[1],C$99e[1]=C$99i[0],C$99e[2]=C$99i[2];},C$99t.invert=function(C$99t){var C$99t=C$99t.elements,C$99e=this.elements,C$99i=C$99e[0],C$99n=C$99e[1],C$99r=C$99e[2],C$99e=C$99e[3],C$99s=C$99i*C$99i+C$99n*C$99n+C$99r*C$99r+C$99e*C$99e,C$99s=C$99s?1/C$99s:0;C$99t[0]=-C$99i*C$99s,C$99t[1]=-C$99n*C$99s,C$99t[2]=-C$99r*C$99s,C$99t[3]=C$99e*C$99s;},C$99t.identity=function(){var C$99t=this.elements;C$99t[0]=0,C$99t[1]=0,C$99t[2]=0,C$99t[3]=1;},C$99t.fromArray=function(C$99t,C$99e){this.elements[0]=C$99t[(C$99e=void 0===C$99e?0:C$99e)+0],this.elements[1]=C$99t[C$99e+1],this.elements[2]=C$99t[C$99e+2],this.elements[3]=C$99t[C$99e+3];},C$99t.cloneTo=function(C$99t){var C$99e,C$99i,C$99n;if((C$99i=this.elements)!==(C$99n=C$99t.elements))for(C$99e=0;C$99e<4;++C$99e)C$99n[C$99e]=C$99i[C$99e];},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99t.equals=function(C$99t){var C$99e=this.elements,C$99t=C$99t.elements;return C$99Jt.nearEqual(C$99e[0],C$99t[0])&&C$99Jt.nearEqual(C$99e[1],C$99t[1])&&C$99Jt.nearEqual(C$99e[2],C$99t[2])&&C$99Jt.nearEqual(C$99e[3],C$99t[3]);},C$99t.lengthSquared=function(){var C$99t=this.elements[0],C$99e=this.elements[1],C$99i=this.elements[2],C$99n=this.elements[3];return C$99t*C$99t+C$99e*C$99e+C$99i*C$99i+C$99n*C$99n;},C$99o(0,C$99t,"x",function(){return this.elements[0];}),C$99o(0,C$99t,"y",function(){return this.elements[1];}),C$99o(0,C$99t,"z",function(){return this.elements[2];}),C$99o(0,C$99t,"w",function(){return this.elements[3];}),e$W.createFromYawPitchRoll=function(C$99t,C$99e,C$99i,C$99n){var C$99i=.5*C$99i,C$99e=.5*C$99e,C$99t=.5*C$99t,C$99r=Math.sin(C$99i),C$99i=Math.cos(C$99i),C$99s=Math.sin(C$99e),C$99e=Math.cos(C$99e),C$99a=Math.sin(C$99t),C$99t=Math.cos(C$99t),C$99n=C$99n.elements;C$99n[0]=C$99t*C$99s*C$99i+C$99a*C$99e*C$99r,C$99n[1]=C$99a*C$99e*C$99i-C$99t*C$99s*C$99r,C$99n[2]=C$99t*C$99e*C$99r-C$99a*C$99s*C$99i,C$99n[3]=C$99t*C$99e*C$99i+C$99a*C$99s*C$99r;},e$W.multiply=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99i.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99s=C$99t[2],C$99t=C$99t[3],C$99a=C$99e[0],C$99o=C$99e[1],C$99h=C$99e[2],C$99e=C$99e[3],C$99l=C$99s*C$99a-C$99n*C$99h,C$99u=C$99n*C$99o-C$99r*C$99a,C$99c=C$99n*C$99a+C$99r*C$99o+C$99s*C$99h;C$99i[0]=C$99n*C$99e+C$99a*C$99t+(C$99r*C$99h-C$99s*C$99o),C$99i[1]=C$99r*C$99e+C$99o*C$99t+C$99l,C$99i[2]=C$99s*C$99e+C$99h*C$99t+C$99u,C$99i[3]=C$99t*C$99e-C$99c;},e$W.arcTanAngle=function(C$99t,C$99e){return 0==C$99t?1==C$99e?Math.PI/2:-Math.PI/2:0<C$99t?Math.atan(C$99e/C$99t):C$99t<0?0<C$99e?Math.atan(C$99e/C$99t)+Math.PI:Math.atan(C$99e/C$99t)-Math.PI:0;},e$W.angleTo=function(C$99t,C$99e,C$99i){C$99I.subtract(C$99e,C$99t,e$W.TEMPVector30),C$99I.normalize(e$W.TEMPVector30,e$W.TEMPVector30),C$99i.elements[0]=Math.asin(e$W.TEMPVector30.y),C$99i.elements[1]=e$W.arcTanAngle(-e$W.TEMPVector30.z,-e$W.TEMPVector30.x);},e$W.createFromAxisAngle=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements;C$99e*=.5;var C$99n=Math.sin(C$99e);C$99i[0]=C$99n*C$99t[0],C$99i[1]=C$99n*C$99t[1],C$99i[2]=C$99n*C$99t[2],C$99i[3]=Math.cos(C$99e);},e$W.createFromMatrix3x3=function(C$99t,C$99e){var C$99i,C$99e=C$99e.elements,C$99t=C$99t.elements,C$99n=C$99t[0]+C$99t[4]+C$99t[8];var C$99r,C$99s;0<C$99n?(C$99i=Math.sqrt(C$99n+1),C$99e[3]=.5*C$99i,C$99e[0]=(C$99t[5]-C$99t[7])*(C$99i=.5/C$99i),C$99e[1]=(C$99t[6]-C$99t[2])*C$99i,C$99e[2]=(C$99t[1]-C$99t[3])*C$99i):(C$99t[4]>C$99t[C$99n=0]&&(C$99n=1),C$99r=((C$99n=C$99t[8]>C$99t[3*C$99n+C$99n]?2:C$99n)+1)%3,C$99s=(C$99n+2)%3,C$99i=Math.sqrt(C$99t[3*C$99n+C$99n]-C$99t[3*C$99r+C$99r]-C$99t[3*C$99s+C$99s]+1),C$99e[C$99n]=.5*C$99i,C$99e[3]=(C$99t[3*C$99r+C$99s]-C$99t[3*C$99s+C$99r])*(C$99i=.5/C$99i),C$99e[C$99r]=(C$99t[3*C$99r+C$99n]+C$99t[3*C$99n+C$99r])*C$99i,C$99e[C$99s]=(C$99t[3*C$99s+C$99n]+C$99t[3*C$99n+C$99s])*C$99i);},e$W.createFromMatrix4x4=function(C$99t,C$99e){var C$99i,C$99n,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99r=C$99t[0]+C$99t[5]+C$99t[10];0<C$99r?(C$99i=Math.sqrt(C$99r+1),C$99e[3]=.5*C$99i,C$99e[0]=(C$99t[6]-C$99t[9])*(C$99i=.5/C$99i),C$99e[1]=(C$99t[8]-C$99t[2])*C$99i,C$99e[2]=(C$99t[1]-C$99t[4])*C$99i):C$99t[0]>=C$99t[5]&&C$99t[0]>=C$99t[10]?(C$99n=.5/(C$99i=Math.sqrt(1+C$99t[0]-C$99t[5]-C$99t[10])),C$99e[0]=.5*C$99i,C$99e[1]=(C$99t[1]+C$99t[4])*C$99n,C$99e[2]=(C$99t[2]+C$99t[8])*C$99n,C$99e[3]=(C$99t[6]-C$99t[9])*C$99n):C$99t[5]>C$99t[10]?(C$99n=.5/(C$99i=Math.sqrt(1+C$99t[5]-C$99t[0]-C$99t[10])),C$99e[0]=(C$99t[4]+C$99t[1])*C$99n,C$99e[1]=.5*C$99i,C$99e[2]=(C$99t[9]+C$99t[6])*C$99n,C$99e[3]=(C$99t[8]-C$99t[2])*C$99n):(C$99n=.5/(C$99i=Math.sqrt(1+C$99t[10]-C$99t[0]-C$99t[5])),C$99e[0]=(C$99t[8]+C$99t[2])*C$99n,C$99e[1]=(C$99t[9]+C$99t[6])*C$99n,C$99e[2]=.5*C$99i,C$99e[3]=(C$99t[1]-C$99t[4])*C$99n);},e$W.slerp=function(C$99t,C$99e,C$99i,C$99n){var C$99r,C$99s,C$99a,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99n=C$99n.elements,C$99u=C$99t[0],C$99c=C$99t[1],C$99_=C$99t[2],C$99t=C$99t[3],C$99o=C$99e[0],C$99h=C$99e[1],C$99l=C$99e[2],C$99e=C$99e[3];return(C$99a=C$99u*C$99o+C$99c*C$99h+C$99_*C$99l+C$99t*C$99e)<0&&(C$99a=-C$99a,C$99o=-C$99o,C$99h=-C$99h,C$99l=-C$99l,C$99e=-C$99e),C$99a=1e-6<1-C$99a?(C$99a=Math.acos(C$99a),C$99r=Math.sin(C$99a),C$99s=Math.sin((1-C$99i)*C$99a)/C$99r,Math.sin(C$99i*C$99a)/C$99r):(C$99s=1-C$99i,C$99i),C$99n[0]=C$99s*C$99u+C$99a*C$99o,C$99n[1]=C$99s*C$99c+C$99a*C$99h,C$99n[2]=C$99s*C$99_+C$99a*C$99l,C$99n[3]=C$99s*C$99t+C$99a*C$99e,C$99n;},e$W.lerp=function(C$99t,C$99e,C$99i,C$99n){var C$99n=C$99n.elements,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99r=C$99t[0],C$99s=C$99t[1],C$99a=C$99t[2],C$99t=C$99t[3];C$99n[0]=C$99r+C$99i*(C$99e[0]-C$99r),C$99n[1]=C$99s+C$99i*(C$99e[1]-C$99s),C$99n[2]=C$99a+C$99i*(C$99e[2]-C$99a),C$99n[3]=C$99t+C$99i*(C$99e[3]-C$99t);},e$W.add=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=C$99t[0]+C$99e[0],C$99i[1]=C$99t[1]+C$99e[1],C$99i[2]=C$99t[2]+C$99e[2],C$99i[3]=C$99t[3]+C$99e[3];},e$W.dot=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;return C$99t[0]*C$99e[0]+C$99t[1]*C$99e[1]+C$99t[2]*C$99e[2]+C$99t[3]*C$99e[3];},e$W.rotationLookAt=function(C$99t,C$99e,C$99i){e$W.lookAt(C$99I.ZERO,C$99t,C$99e,C$99i);},e$W.lookAt=function(C$99t,C$99e,C$99i,C$99n){C$99te.lookAt(C$99t,C$99e,C$99i,e$W._tempMatrix3x3),e$W.rotationMatrix(e$W._tempMatrix3x3,C$99n);},e$W.invert=function(C$99t,C$99e){var C$99i=C$99t.elements,C$99e=C$99e.elements,C$99t=C$99t.lengthSquared();C$99Jt.isZero(C$99t)||(C$99e[0]=-C$99i[0]*(C$99t=1/C$99t),C$99e[1]=-C$99i[1]*C$99t,C$99e[2]=-C$99i[2]*C$99t,C$99e[3]=C$99i[3]*C$99t);},e$W.rotationMatrix=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99i=C$99t[0],C$99n=C$99t[1],C$99r=C$99t[2],C$99s=C$99t[3],C$99a=C$99t[4],C$99o=C$99t[5],C$99u=C$99t[6],C$99c=C$99t[7],C$99t=C$99t[8],C$99e=C$99e.elements,C$99h=NaN,C$99l=NaN,C$99_=C$99i+C$99a+C$99t;0<C$99_?(C$99h=Math.sqrt(C$99_+1),C$99e[3]=.5*C$99h,C$99e[0]=(C$99o-C$99c)*(C$99h=.5/C$99h),C$99e[1]=(C$99u-C$99r)*C$99h,C$99e[2]=(C$99n-C$99s)*C$99h):C$99a<=C$99i&&C$99t<=C$99i?(C$99l=.5/(C$99h=Math.sqrt(1+C$99i-C$99a-C$99t)),C$99e[0]=.5*C$99h,C$99e[1]=(C$99n+C$99s)*C$99l,C$99e[2]=(C$99r+C$99u)*C$99l,C$99e[3]=(C$99o-C$99c)*C$99l):C$99t<C$99a?(C$99l=.5/(C$99h=Math.sqrt(1+C$99a-C$99i-C$99t)),C$99e[0]=(C$99s+C$99n)*C$99l,C$99e[1]=.5*C$99h,C$99e[2]=(C$99c+C$99o)*C$99l,C$99e[3]=(C$99u-C$99r)*C$99l):(C$99l=.5/(C$99h=Math.sqrt(1+C$99t-C$99i-C$99a)),C$99e[0]=(C$99u+C$99r)*C$99l,C$99e[1]=(C$99c+C$99o)*C$99l,C$99e[2]=.5*C$99h,C$99e[3]=(C$99n-C$99s)*C$99l);},e$W.DEFAULT=new e$W(),C$99s(e$W,["TEMPVector30",function(){return this.TEMPVector30=new C$99I();},"TEMPVector31",function(){return this.TEMPVector31=new C$99I();},"TEMPVector32",function(){return this.TEMPVector32=new C$99I();},"TEMPVector33",function(){return this.TEMPVector33=new C$99I();},"TEMPMatrix0",function(){return this.TEMPMatrix0=new C$99ee();},"TEMPMatrix1",function(){return this.TEMPMatrix1=new C$99ee();},"_tempMatrix3x3",function(){return this._tempMatrix3x3=new C$99te();},"NAN",function(){return this.NAN=new e$W(NaN,NaN,NaN,NaN);}]),e$W;}(),C$99re=function(){function e$d(C$99t){this._temp=new Uint32Array(1),this.seeds=new Uint32Array(4),this.seeds[0]=C$99t,this.seeds[1]=1812433253*this.seeds[0]+1,this.seeds[2]=1812433253*this.seeds[1]+1,this.seeds[3]=1812433253*this.seeds[2]+1;}C$99r(e$d,"laya.d3.math.Rand");var C$99t=e$d.prototype;return C$99t.getUint=function(){return this._temp[0]=this.seeds[0]^this.seeds[0]<<11,this.seeds[0]=this.seeds[1],this.seeds[1]=this.seeds[2],this.seeds[2]=this.seeds[3],this.seeds[3]=this.seeds[3]^this.seeds[3]>>>19^this._temp[0]^this._temp[0]>>>8,this.seeds[3];},C$99t.getFloat=function(){return this.getUint(),(8388607&this.seeds[3])*(1/8388607);},C$99t.getSignedFloat=function(){return 2*this.getFloat()-1;},C$99o(0,C$99t,"seed",function(){return this.seeds[0];},function(C$99t){this.seeds[0]=C$99t,this.seeds[1]=1812433253*this.seeds[0]+1,this.seeds[2]=1812433253*this.seeds[1]+1,this.seeds[3]=1812433253*this.seeds[2]+1;}),e$d.getFloatFromInt=function(C$99t){return 1/8388607*(8388607&C$99t);},e$d.getByteFromInt=function(C$99t){return(8388607&C$99t)>>>15;},e$d;}(),C$99se=(function(){function e$W(C$99t){if(this._state0U=NaN,this._state0L=NaN,this._state1U=NaN,this._state1L=NaN,!(C$99t instanceof Array)||4!==C$99t.length)throw new Error("Rand:Seed must be an array with 4 numbers");this._state0U=0|C$99t[0],this._state0L=0|C$99t[1],this._state1U=0|C$99t[2],this._state1L=0|C$99t[3];}C$99r(e$W,"laya.d3.math.RandX");var C$99t=e$W.prototype;C$99t.randomint=function(){var C$99t,C$99e=this._state0U,C$99i=this._state0L,C$99n=this._state1U,C$99r=this._state1L,C$99s=(C$99r>>>0)+(C$99i>>>0),C$99a=C$99n+C$99e+(C$99s/2>>>31)>>>0,C$99s=C$99s>>>0,C$99o=0;return C$99t=(C$99e^=C$99e<<23|(-512&C$99i)>>>9)^(this._state0U=C$99n),C$99o=(C$99o=(C$99i^=C$99o=C$99i<<23)^(this._state0L=C$99r))^(C$99i>>>18|(262143&C$99e)<<14)^(C$99r>>>5|(31&C$99n)<<27),this._state1U=C$99t^C$99e>>>18^C$99n>>>5,this._state1L=C$99o,[C$99a,C$99s];},C$99t.random=function(){var C$99t=this.randomint(),C$99e=C$99t[0],C$99t=C$99t[1]>>>12|(4095&C$99e)<<20|0;return e$W._CONVERTION_BUFFER.setUint32(0,1023<<20|C$99e>>>12,!1),e$W._CONVERTION_BUFFER.setUint32(4,C$99t,!1),C$99re._CONVERTION_BUFFER.getFloat64(0,!1)-1;},C$99s(e$W,["_CONVERTION_BUFFER",function(){return this._CONVERTION_BUFFER=new DataView(new ArrayBuffer(8));},"defaultRand",function(){return this.defaultRand=new C$99re([0,Date.now()/65536,0,Date.now()%65536]);}]);}(),function(){function e$d(C$99t,C$99e){this.origin=null,this.direction=null,this.origin=C$99t,this.direction=C$99e;}return C$99r(e$d,"laya.d3.math.Ray"),e$d;}()),C$99ae=function(){function e$d(C$99t,C$99e){this.elements=new Float32Array(2),void 0===C$99e&&(C$99e=0);var C$99i=this.elements;C$99i[0]=C$99t=void 0===C$99t?0:C$99t,C$99i[1]=C$99e;}C$99r(e$d,"laya.d3.math.Vector2");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.fromArray=function(C$99t,C$99e){this.elements[0]=C$99t[(C$99e=void 0===C$99e?0:C$99e)+0],this.elements[1]=C$99t[C$99e+1];},C$99t.cloneTo=function(C$99t){var C$99t=C$99t.elements,C$99e=this.elements;C$99t[0]=C$99e[0],C$99t[1]=C$99e[1];},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99o(0,C$99t,"x",function(){return this.elements[0];},function(C$99t){this.elements[0]=C$99t;}),C$99o(0,C$99t,"y",function(){return this.elements[1];},function(C$99t){this.elements[1]=C$99t;}),e$d.scale=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements;C$99i[0]=C$99t[0]*C$99e,C$99i[1]=C$99t[1]*C$99e;},C$99s(e$d,["ZERO",function(){return this.ZERO=new e$d(0,0);},"ONE",function(){return this.ONE=new e$d(1,1);}]),e$d;}(),C$99I=function(){function e$b(C$99t,C$99e,C$99i){this.elements=new Float32Array(3),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0);var C$99n=this.elements;C$99n[0]=C$99t=void 0===C$99t?0:C$99t,C$99n[1]=C$99e,C$99n[2]=C$99i;}C$99r(e$b,"laya.d3.math.Vector3");var C$99t=e$b.prototype;return C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.fromArray=function(C$99t,C$99e){this.elements[0]=C$99t[(C$99e=void 0===C$99e?0:C$99e)+0],this.elements[1]=C$99t[C$99e+1],this.elements[2]=C$99t[C$99e+2];},C$99t.cloneTo=function(C$99t){var C$99t=C$99t.elements,C$99e=this.elements;C$99t[0]=C$99e[0],C$99t[1]=C$99e[1],C$99t[2]=C$99e[2];},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99t.toDefault=function(){this.elements[0]=0,this.elements[1]=0,this.elements[2]=0;},C$99t.reset=function(C$99t,C$99e,C$99i){this.elements[0]=C$99t,this.elements[1]=C$99e,this.elements[2]=C$99i;},C$99o(0,C$99t,"x",function(){return this.elements[0];},function(C$99t){this.elements[0]=C$99t;}),C$99o(0,C$99t,"y",function(){return this.elements[1];},function(C$99t){this.elements[1]=C$99t;}),C$99o(0,C$99t,"z",function(){return this.elements[2];},function(C$99t){this.elements[2]=C$99t;}),e$b.distanceSquared=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99t[0]-C$99e[0],C$99n=C$99t[1]-C$99e[1],C$99t=C$99t[2]-C$99e[2];return C$99i*C$99i+C$99n*C$99n+C$99t*C$99t;},e$b.distance=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99t[0]-C$99e[0],C$99n=C$99t[1]-C$99e[1],C$99t=C$99t[2]-C$99e[2];return Math.sqrt(C$99i*C$99i+C$99n*C$99n+C$99t*C$99t);},e$b.min=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=Math.min(C$99t[0],C$99e[0]),C$99i[1]=Math.min(C$99t[1],C$99e[1]),C$99i[2]=Math.min(C$99t[2],C$99e[2]);},e$b.max=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=Math.max(C$99t[0],C$99e[0]),C$99i[1]=Math.max(C$99t[1],C$99e[1]),C$99i[2]=Math.max(C$99t[2],C$99e[2]);},e$b.transformQuat=function(C$99t,C$99e,C$99i){var C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99t=C$99t[2],C$99s=C$99e[0],C$99a=C$99e[1],C$99o=C$99e[2],C$99e=C$99e[3],C$99h=C$99e*C$99n+C$99a*C$99t-C$99o*C$99r,C$99l=C$99e*C$99r+C$99o*C$99n-C$99s*C$99t,C$99u=C$99e*C$99t+C$99s*C$99r-C$99a*C$99n,C$99n=-C$99s*C$99n-C$99a*C$99r-C$99o*C$99t;C$99i[0]=C$99h*C$99e+C$99n*-C$99s+C$99l*-C$99o-C$99u*-C$99a,C$99i[1]=C$99l*C$99e+C$99n*-C$99a+C$99u*-C$99s-C$99h*-C$99o,C$99i[2]=C$99u*C$99e+C$99n*-C$99o+C$99h*-C$99a-C$99l*-C$99s;},e$b.scalarLength=function(C$99t){var C$99t=C$99t.elements,C$99e=C$99t[0],C$99i=C$99t[1],C$99t=C$99t[2];return Math.sqrt(C$99e*C$99e+C$99i*C$99i+C$99t*C$99t);},e$b.scalarLengthSquared=function(C$99t){var C$99t=C$99t.elements,C$99e=C$99t[0],C$99i=C$99t[1],C$99t=C$99t[2];return C$99e*C$99e+C$99i*C$99i+C$99t*C$99t;},e$b.normalize=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99t[0],C$99n=C$99t[1],C$99r=C$99t[2],C$99i=C$99i*C$99i+C$99n*C$99n+C$99r*C$99r;0<C$99i&&(C$99i=1/Math.sqrt(C$99i),C$99e[0]=C$99t[0]*C$99i,C$99e[1]=C$99t[1]*C$99i,C$99e[2]=C$99t[2]*C$99i);},e$b.multiply=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=C$99t[0]*C$99e[0],C$99i[1]=C$99t[1]*C$99e[1],C$99i[2]=C$99t[2]*C$99e[2];},e$b.scale=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements;C$99i[0]=C$99t[0]*C$99e,C$99i[1]=C$99t[1]*C$99e,C$99i[2]=C$99t[2]*C$99e;},e$b.lerp=function(C$99t,C$99e,C$99i,C$99n){var C$99n=C$99n.elements,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99r=C$99t[0],C$99s=C$99t[1],C$99t=C$99t[2];C$99n[0]=C$99r+C$99i*(C$99e[0]-C$99r),C$99n[1]=C$99s+C$99i*(C$99e[1]-C$99s),C$99n[2]=C$99t+C$99i*(C$99e[2]-C$99t);},e$b.transformV3ToV3=function(C$99t,C$99e,C$99i){var C$99n=e$b._tempVector4;e$b.transformV3ToV4(C$99t,C$99e,C$99n);C$99t=C$99n.elements,C$99e=C$99i.elements;C$99e[0]=C$99t[0],C$99e[1]=C$99t[1],C$99e[2]=C$99t[2];},e$b.transformV3ToV4=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99t=C$99t[2],C$99e=C$99e.elements,C$99i=C$99i.elements;C$99i[0]=C$99n*C$99e[0]+C$99r*C$99e[4]+C$99t*C$99e[8]+C$99e[12],C$99i[1]=C$99n*C$99e[1]+C$99r*C$99e[5]+C$99t*C$99e[9]+C$99e[13],C$99i[2]=C$99n*C$99e[2]+C$99r*C$99e[6]+C$99t*C$99e[10]+C$99e[14],C$99i[3]=C$99n*C$99e[3]+C$99r*C$99e[7]+C$99t*C$99e[11]+C$99e[15];},e$b.TransformNormal=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99t=C$99t[2],C$99e=C$99e.elements,C$99i=C$99i.elements;C$99i[0]=C$99n*C$99e[0]+C$99r*C$99e[4]+C$99t*C$99e[8],C$99i[1]=C$99n*C$99e[1]+C$99r*C$99e[5]+C$99t*C$99e[9],C$99i[2]=C$99n*C$99e[2]+C$99r*C$99e[6]+C$99t*C$99e[10];},e$b.transformCoordinate=function(C$99t,C$99e,C$99i){var C$99n=e$b._tempVector4.elements,C$99t=C$99t.elements,C$99r=C$99t[0],C$99s=C$99t[1],C$99t=C$99t[2],C$99e=C$99e.elements;C$99n[0]=C$99r*C$99e[0]+C$99s*C$99e[4]+C$99t*C$99e[8]+C$99e[12],C$99n[1]=C$99r*C$99e[1]+C$99s*C$99e[5]+C$99t*C$99e[9]+C$99e[13],C$99n[2]=C$99r*C$99e[2]+C$99s*C$99e[6]+C$99t*C$99e[10]+C$99e[14],C$99n[3]=1/(C$99r*C$99e[3]+C$99s*C$99e[7]+C$99t*C$99e[11]+C$99e[15]);C$99r=C$99i.elements;C$99r[0]=C$99n[0]*C$99n[3],C$99r[1]=C$99n[1]*C$99n[3],C$99r[2]=C$99n[2]*C$99n[3];},e$b.Clamp=function(C$99t,C$99e,C$99i,C$99n){var C$99t=C$99t.elements,C$99r=C$99t[0],C$99s=C$99t[1],C$99t=C$99t[2],C$99e=C$99e.elements,C$99a=C$99e[0],C$99o=C$99e[1],C$99e=C$99e[2],C$99i=C$99i.elements,C$99h=C$99i[0],C$99l=C$99i[1],C$99i=C$99i[2],C$99n=C$99n.elements;C$99r=(C$99r=C$99h<C$99r?C$99h:C$99r)<C$99a?C$99a:C$99r,C$99s=(C$99s=C$99l<C$99s?C$99l:C$99s)<C$99o?C$99o:C$99s,C$99t=(C$99t=C$99i<C$99t?C$99i:C$99t)<C$99e?C$99e:C$99t,C$99n[0]=C$99r,C$99n[1]=C$99s,C$99n[2]=C$99t;},e$b.add=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=C$99t[0]+C$99e[0],C$99i[1]=C$99t[1]+C$99e[1],C$99i[2]=C$99t[2]+C$99e[2];},e$b.subtract=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=C$99t[0]-C$99e[0],C$99i[1]=C$99t[1]-C$99e[1],C$99i[2]=C$99t[2]-C$99e[2];},e$b.cross=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99i.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99t=C$99t[2],C$99s=C$99e[0],C$99a=C$99e[1],C$99e=C$99e[2];C$99i[0]=C$99r*C$99e-C$99t*C$99a,C$99i[1]=C$99t*C$99s-C$99n*C$99e,C$99i[2]=C$99n*C$99a-C$99r*C$99s;},e$b.dot=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;return C$99t[0]*C$99e[0]+C$99t[1]*C$99e[1]+C$99t[2]*C$99e[2];},e$b.equals=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;return C$99Jt.nearEqual(Math.abs(C$99t[0]),Math.abs(C$99e[0]))&&C$99Jt.nearEqual(Math.abs(C$99t[1]),Math.abs(C$99e[1]))&&C$99Jt.nearEqual(Math.abs(C$99t[2]),Math.abs(C$99e[2]));},e$b.ZERO=new e$b(0,0,0),e$b.ONE=new e$b(1,1,1),e$b.NegativeUnitX=new e$b(-1,0,0),e$b.UnitX=new e$b(1,0,0),e$b.UnitY=new e$b(0,1,0),e$b.UnitZ=new e$b(0,0,1),e$b.ForwardRH=new e$b(0,0,-1),e$b.ForwardLH=new e$b(0,0,1),e$b.Up=new e$b(0,1,0),e$b.NAN=new e$b(NaN,NaN,NaN),C$99s(e$b,["_tempVector4",function(){return this._tempVector4=new C$99oe();}]),e$b;}(),C$99oe=function(){function e$d(C$99t,C$99e,C$99i,C$99n){this.elements=new Float32Array(4),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=0);var C$99r=this.elements;C$99r[0]=C$99t=void 0===C$99t?0:C$99t,C$99r[1]=C$99e,C$99r[2]=C$99i,C$99r[3]=C$99n;}C$99r(e$d,"laya.d3.math.Vector4");var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t.fromArray=function(C$99t,C$99e){this.elements[0]=C$99t[(C$99e=void 0===C$99e?0:C$99e)+0],this.elements[1]=C$99t[C$99e+1],this.elements[2]=C$99t[C$99e+2],this.elements[3]=C$99t[C$99e+3];},C$99t.cloneTo=function(C$99t){var C$99t=C$99t.elements,C$99e=this.elements;C$99t[0]=C$99e[0],C$99t[1]=C$99e[1],C$99t[2]=C$99e[2],C$99t[3]=C$99e[3];},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99t.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);},C$99t.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w;},C$99o(0,C$99t,"x",function(){return this.elements[0];},function(C$99t){this.elements[0]=C$99t;}),C$99o(0,C$99t,"y",function(){return this.elements[1];},function(C$99t){this.elements[1]=C$99t;}),C$99o(0,C$99t,"z",function(){return this.elements[2];},function(C$99t){this.elements[2]=C$99t;}),C$99o(0,C$99t,"w",function(){return this.elements[3];},function(C$99t){this.elements[3]=C$99t;}),e$d.lerp=function(C$99t,C$99e,C$99i,C$99n){var C$99n=C$99n.elements,C$99t=C$99t.elements,C$99e=C$99e.elements,C$99r=C$99t[0],C$99s=C$99t[1],C$99a=C$99t[2],C$99t=C$99t[3];C$99n[0]=C$99r+C$99i*(C$99e[0]-C$99r),C$99n[1]=C$99s+C$99i*(C$99e[1]-C$99s),C$99n[2]=C$99a+C$99i*(C$99e[2]-C$99a),C$99n[3]=C$99t+C$99i*(C$99e[3]-C$99t);},e$d.transformByM4x4=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99s=C$99t[2],C$99t=C$99t[3],C$99e=C$99e.elements,C$99i=C$99i.elements;C$99i[0]=C$99n*C$99e[0]+C$99r*C$99e[4]+C$99s*C$99e[8]+C$99t*C$99e[12],C$99i[1]=C$99n*C$99e[1]+C$99r*C$99e[5]+C$99s*C$99e[9]+C$99t*C$99e[13],C$99i[2]=C$99n*C$99e[2]+C$99r*C$99e[6]+C$99s*C$99e[10]+C$99t*C$99e[14],C$99i[3]=C$99n*C$99e[3]+C$99r*C$99e[7]+C$99s*C$99e[11]+C$99t*C$99e[15];},e$d.equals=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;return C$99Jt.nearEqual(Math.abs(C$99t[0]),Math.abs(C$99e[0]))&&C$99Jt.nearEqual(Math.abs(C$99t[1]),Math.abs(C$99e[1]))&&C$99Jt.nearEqual(Math.abs(C$99t[2]),Math.abs(C$99e[2]))&&C$99Jt.nearEqual(Math.abs(C$99t[3]),Math.abs(C$99e[3]));},e$d.normalize=function(C$99t,C$99e){var C$99i=C$99t.elements,C$99e=C$99e.elements,C$99t=C$99t.length();0<C$99t&&(C$99e[0]=C$99i[0]*C$99t,C$99e[1]=C$99i[1]*C$99t,C$99e[2]=C$99i[2]*C$99t,C$99e[3]=C$99i[3]*C$99t);},e$d.add=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=C$99t[0]+C$99e[0],C$99i[1]=C$99t[1]+C$99e[1],C$99i[2]=C$99t[2]+C$99e[2],C$99i[3]=C$99t[3]+C$99e[3];},e$d.subtract=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=C$99t[0]-C$99e[0],C$99i[1]=C$99t[1]-C$99e[1],C$99i[2]=C$99t[2]-C$99e[2],C$99i[3]=C$99t[3]-C$99e[3];},e$d.multiply=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=C$99t[0]*C$99e[0],C$99i[1]=C$99t[1]*C$99e[1],C$99i[2]=C$99t[2]*C$99e[2],C$99i[3]=C$99t[3]*C$99e[3];},e$d.scale=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements;C$99i[0]=C$99t[0]*C$99e,C$99i[1]=C$99t[1]*C$99e,C$99i[2]=C$99t[2]*C$99e,C$99i[3]=C$99t[3]*C$99e;},e$d.Clamp=function(C$99t,C$99e,C$99i,C$99n){var C$99t=C$99t.elements,C$99r=C$99t[0],C$99s=C$99t[1],C$99a=C$99t[2],C$99t=C$99t[3],C$99e=C$99e.elements,C$99o=C$99e[0],C$99h=C$99e[1],C$99l=C$99e[2],C$99e=C$99e[3],C$99i=C$99i.elements,C$99u=C$99i[0],C$99c=C$99i[1],C$99_=C$99i[2],C$99i=C$99i[3],C$99n=C$99n.elements;C$99r=(C$99r=C$99u<C$99r?C$99u:C$99r)<C$99o?C$99o:C$99r,C$99s=(C$99s=C$99c<C$99s?C$99c:C$99s)<C$99h?C$99h:C$99s,C$99a=(C$99a=C$99_<C$99a?C$99_:C$99a)<C$99l?C$99l:C$99a,C$99t=(C$99t=C$99i<C$99t?C$99i:C$99t)<C$99e?C$99e:C$99t,C$99n[0]=C$99r,C$99n[1]=C$99s,C$99n[2]=C$99a,C$99n[3]=C$99t;},e$d.distanceSquared=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99t[0]-C$99e[0],C$99n=C$99t[1]-C$99e[1],C$99r=C$99t[2]-C$99e[2],C$99t=C$99t[3]-C$99e[3];return C$99i*C$99i+C$99n*C$99n+C$99r*C$99r+C$99t*C$99t;},e$d.distance=function(C$99t,C$99e){var C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99t[0]-C$99e[0],C$99n=C$99t[1]-C$99e[1],C$99r=C$99t[2]-C$99e[2],C$99t=C$99t[3]-C$99e[3];return Math.sqrt(C$99i*C$99i+C$99n*C$99n+C$99r*C$99r+C$99t*C$99t);},e$d.dot=function(C$99t,C$99e){C$99t=C$99t.elements,C$99e=C$99e.elements;return C$99t[0]*C$99e[0]+C$99t[1]*C$99e[1]+C$99t[2]*C$99e[2]+C$99t[3]*C$99e[3];},e$d.min=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=Math.min(C$99t[0],C$99e[0]),C$99i[1]=Math.min(C$99t[1],C$99e[1]),C$99i[2]=Math.min(C$99t[2],C$99e[2]),C$99i[3]=Math.min(C$99t[3],C$99e[3]);},e$d.max=function(C$99t,C$99e,C$99i){C$99i=C$99i.elements,C$99t=C$99t.elements,C$99e=C$99e.elements;C$99i[0]=Math.max(C$99t[0],C$99e[0]),C$99i[1]=Math.max(C$99t[1],C$99e[1]),C$99i[2]=Math.max(C$99t[2],C$99e[2]),C$99i[3]=Math.max(C$99t[3],C$99e[3]);},C$99s(e$d,["ZERO",function(){return this.ZERO=new e$d();},"ONE",function(){return this.ONE=new e$d(1,1,1,1);},"UnitX",function(){return this.UnitX=new e$d(1,0,0,0);},"UnitY",function(){return this.UnitY=new e$d(0,1,0,0);},"UnitZ",function(){return this.UnitZ=new e$d(0,0,1,0);},"UnitW",function(){return this.UnitW=new e$d(0,0,0,1);}]),e$d;}(),C$99he=function(){function e$i(C$99t,C$99e,C$99i,C$99n){this.minDepth=0,this.maxDepth=1,this.x=C$99t,this.y=C$99e,this.width=C$99i,this.height=C$99n;}C$99r(e$i,"laya.d3.math.Viewport");var C$99t=e$i.prototype;return C$99t.project=function(C$99t,C$99e,C$99i){C$99I.transformV3ToV3(C$99t,C$99e,C$99i);C$99t=C$99t.elements,C$99e=C$99e.elements,C$99i=C$99i.elements,C$99t=C$99t[0]*C$99e[3]+C$99t[1]*C$99e[7]+C$99t[2]*C$99e[11]+C$99e[15];1!==C$99t&&(C$99i[0]=C$99i[0]/C$99t,C$99i[1]=C$99i[1]/C$99t,C$99i[2]=C$99i[2]/C$99t),C$99i[0]=.5*(C$99i[0]+1)*this.width+this.x,C$99i[1]=.5*(1-C$99i[1])*this.height+this.y,C$99i[2]=C$99i[2]*(this.maxDepth-this.minDepth)+this.minDepth;},C$99t.unprojectFromMat=function(C$99t,C$99e,C$99i){var C$99t=C$99t.elements,C$99n=C$99e.elements,C$99r=C$99i.elements;C$99r[0]=(C$99t[0]-this.x)/this.width*2-1,C$99r[1]=-((C$99t[1]-this.y)/this.height*2-1);var C$99s=(this.maxDepth-this.minDepth)/2;C$99r[2]=(C$99t[2]-this.minDepth-C$99s)/C$99s;C$99t=C$99r[0]*C$99n[3]+C$99r[1]*C$99n[7]+C$99r[2]*C$99n[11]+C$99n[15];C$99I.transformV3ToV3(C$99i,C$99e,C$99i),1!==C$99t&&(C$99r[0]=C$99r[0]/C$99t,C$99r[1]=C$99r[1]/C$99t,C$99r[2]=C$99r[2]/C$99t);},C$99t.unprojectFromWVP=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99ee.multiply(C$99e,C$99i,e$i._tempMatrix4x4),C$99n&&C$99ee.multiply(e$i._tempMatrix4x4,C$99n,e$i._tempMatrix4x4),e$i._tempMatrix4x4.invert(e$i._tempMatrix4x4),this.unprojectFromMat(C$99t,e$i._tempMatrix4x4,C$99r);},C$99s(e$i,["_tempMatrix4x4",function(){return this._tempMatrix4x4=new C$99ee();}]),e$i;}(),C$99le=(C$99r(e$T,"laya.d3.resource.models.SubMesh"),C$99t=e$T.prototype,C$99y.imps(C$99t,{"laya.d3.core.render.IRenderable":!0,"laya.resource.IDispose":!0}),C$99t._getVertexBuffer=function(C$99t){return 0===(C$99t=void 0===C$99t?0:C$99t)?this._vertexBuffer:null;},C$99t._getIndexBuffer=function(){return this._indexBuffer;},C$99t._getStaticBatchBakedVertexs=function(C$99u,C$99c){var C$99t,C$99_,C$99e=this._vertexBuffer,C$99i=C$99e.vertexDeclaration,C$99d=C$99i.getVertexElementByUsage(0).offset/4,C$99f=C$99i.getVertexElementByUsage(3).offset/4,C$99n=C$99c.meshRender.lightmapScaleOffset,C$99r=0,C$99p=0,C$99s=0,C$99a=0,C$99m=0,C$99o=0;if(C$99n){if(C$99_=C$99i.getVertexElementByUsage(15))C$99s=C$99i.vertexStride/4,C$99t=0<this._vertexCount?C$99e.getData().slice(this._vertexStart*C$99s,(this._vertexStart+this._vertexCount)*C$99s):C$99e.getData().slice(),C$99a=C$99_.offset/4;else{C$99s=2+(C$99o=C$99i.vertexStride/4),C$99t=this._vertexCount?new Float32Array(this._vertexCount*(C$99e.vertexDeclaration.vertexStride/4+2)):new Float32Array(C$99e.vertexCount*(C$99e.vertexDeclaration.vertexStride/4+2)),C$99a=2+(C$99m=C$99i.getVertexElementByUsage(2).offset/4);var C$99g=C$99e.getData();for(C$99r=0,C$99p=C$99g.length/C$99o;C$99r<C$99p;C$99r++){var C$99v;C$99v=0<this._vertexCount?(this._vertexStart+C$99r)*C$99o:C$99r*C$99o;var C$99$=C$99r*C$99s,C$99h=0;for(C$99h=0;C$99h<C$99a;C$99h++)C$99t[C$99$+C$99h]=C$99g[C$99v+C$99h];for(C$99h=C$99a;C$99h<C$99o;C$99h++)C$99t[C$99$+C$99h+2]=C$99g[C$99v+C$99h];}}}else C$99s=C$99i.vertexStride/4,C$99t=this._vertexCount?C$99e.getData().slice(this._vertexStart*C$99s,(this._vertexStart+this._vertexCount)*C$99s):C$99e.getData().slice();var C$99x;C$99u?(C$99u.worldMatrix.invert(C$99i=e$T._tempMatrix4x40),C$99e=C$99c.transform.worldMatrix,C$99ee.multiply(C$99i,C$99e,C$99x=e$T._tempMatrix4x41)):C$99x=C$99c.transform.worldMatrix;var C$99y=e$T._tempQuaternion0;for(C$99x.decomposeTransRotScale(e$T._tempVector30,C$99y,e$T._tempVector31),C$99r=0,C$99p=C$99t.length/C$99s;C$99r<C$99p;C$99r++){var C$99l=C$99r*C$99s+C$99d,C$99b=C$99r*C$99s+C$99f;C$99me.transformVector3ArrayToVector3ArrayCoordinate(C$99t,C$99l,C$99x,C$99t,C$99l),C$99me.transformVector3ArrayByQuat(C$99t,C$99b,C$99y,C$99t,C$99b),C$99n&&(C$99l=C$99r*C$99s+C$99a,C$99_?C$99me.transformLightingMapTexcoordByUV1Array(C$99t,C$99l,C$99n,C$99t,C$99l):C$99me.transformLightingMapTexcoordByUV0Array(C$99g,C$99r*C$99o+C$99m,C$99n,C$99t,C$99l));}return C$99t;},C$99t._getVertexBuffers=function(){return null;},C$99t._beforeRender=function(C$99t){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0;},C$99t._render=function(C$99t){var C$99e,C$99i=0,C$99n=C$99t.renderElement;if(1<this._indexCount){var C$99r=this._boneIndicesList.length;if(1<C$99r){for(var C$99s=0;C$99s<C$99r;C$99s++)(C$99e=C$99n._skinAnimationDatas||this._skinAnimationDatas)&&(C$99n._shaderValue.setValue(0,C$99e[C$99s]),C$99t._shader.uploadRenderElementUniforms(C$99n._shaderValue.data)),C$99R.mainContext.drawElements(4,this._subIndexBufferCount[C$99s],5123,2*this._subIndexBufferStart[C$99s]);C$99C.drawCall+=C$99r;}else(C$99e=C$99n._skinAnimationDatas||this._skinAnimationDatas)&&(C$99n._shaderValue.setValue(0,C$99e[0]),C$99t._shader.uploadRenderElementUniforms(C$99n._shaderValue.data)),C$99R.mainContext.drawElements(4,this._indexCount,5123,2*this._indexStart),C$99C.drawCall++;C$99i=this._indexCount;}else C$99i=this._indexBuffer.indexCount,(C$99e=C$99n._skinAnimationDatas||this._skinAnimationDatas)&&(C$99n._shaderValue.setValue(0,C$99e[0]),C$99t._shader.uploadRenderElementUniforms(C$99n._shaderValue.data)),C$99R.mainContext.drawElements(4,C$99i,5123,0),C$99C.drawCall++;C$99C.trianglesFaces+=C$99i/3;},C$99t.getIndices=function(){return 0<this._indexCount?this._indices:this._indexBuffer.getData();},C$99t.dispose=function(){this._indexBuffer.destroy(),this._vertexBuffer.destroy(),this._mesh=null,this._boneIndicesList=null,this._subIndexBufferStart=null,this._subIndexBufferCount=null,this._skinAnimationDatas=null,this._bufferUsage=null,this._vertexBuffer=null,this._indexBuffer=null;},C$99o(0,C$99t,"_vertexBufferCount",function(){return 1;}),C$99o(0,C$99t,"triangleCount",function(){return this._indexBuffer.indexCount/3;}),C$99s(e$T,["_tempVector30",function(){return this._tempVector30=new C$99I();},"_tempVector31",function(){return this._tempVector31=new C$99I();},"_tempQuaternion0",function(){return this._tempQuaternion0=new C$99ne();},"_tempMatrix4x40",function(){return this._tempMatrix4x40=new C$99ee();},"_tempMatrix4x41",function(){return this._tempMatrix4x41=new C$99ee();}]),e$T),C$99ue=function(){function e$d(C$99t){this.defineCounter=0,this.defines=null,C$99t?(this.defineCounter=C$99t.defineCounter,this.defines=C$99t.defines.slice()):(this.defineCounter=0,this.defines=[]);}return C$99r(e$d,"laya.d3.shader.ShaderDefines",null,"ShaderDefines$1"),e$d.prototype.registerDefine=function(C$99t){var C$99e=Math.pow(2,this.defineCounter++);return this.defines[C$99e]=C$99t,C$99e;},e$d;}(),C$99ce=function(){function e$d(){}return C$99r(e$d,"laya.d3.shader.ShaderInit3D"),e$d.__init__=function(){var C$99t,C$99e;C$99we._globalRegDefine("HIGHPRECISION",C$99we.SHADERDEFINE_HIGHPRECISION),C$99we._globalRegDefine("FOG",C$99we.SHADERDEFINE_FOG),C$99we._globalRegDefine("DIRECTIONLIGHT",C$99we.SHADERDEFINE_DIRECTIONLIGHT),C$99we._globalRegDefine("POINTLIGHT",C$99we.SHADERDEFINE_POINTLIGHT),C$99we._globalRegDefine("SPOTLIGHT",C$99we.SHADERDEFINE_SPOTLIGHT),C$99we._globalRegDefine("UV",C$99we.SHADERDEFINE_UV0),C$99we._globalRegDefine("COLOR",C$99we.SHADERDEFINE_COLOR),C$99we._globalRegDefine("UV1",C$99we.SHADERDEFINE_UV1),C$99we._globalRegDefine("CASTSHADOW",C$99de.SHADERDEFINE_CAST_SHADOW),C$99we._globalRegDefine("SHADOWMAP_PSSM1",C$99de.SHADERDEFINE_SHADOW_PSSM1),C$99we._globalRegDefine("SHADOWMAP_PSSM2",C$99de.SHADERDEFINE_SHADOW_PSSM2),C$99we._globalRegDefine("SHADOWMAP_PSSM3",C$99de.SHADERDEFINE_SHADOW_PSSM3),C$99we._globalRegDefine("SHADOWMAP_PCF_NO",C$99de.SHADERDEFINE_SHADOW_PCF_NO),C$99we._globalRegDefine("SHADOWMAP_PCF1",C$99de.SHADERDEFINE_SHADOW_PCF1),C$99we._globalRegDefine("SHADOWMAP_PCF2",C$99de.SHADERDEFINE_SHADOW_PCF2),C$99we._globalRegDefine("SHADOWMAP_PCF3",C$99de.SHADERDEFINE_SHADOW_PCF3),C$99we._globalRegDefine("DEPTHFOG",C$99we.SAHDERDEFINE_DEPTHFOG),C$99Be.addInclude("LightHelper.glsl","\nstruct DirectionLight\n{\n vec3 Direction;\n vec3 Diffuse;\n};\n\nstruct PointLight\n{\n vec3 Diffuse;\n vec3 Attenuation;\n vec3 Position;\n float Range;\n};\n\nstruct SpotLight\n{\n vec3 Diffuse;\n vec3 Attenuation;\n vec3 Position;\n vec3 Direction;\n float Spot;\n float Range;\n};\n\n\nvec3 NormalSampleToWorldSpace(vec3 normalMapSample, vec3 unitNormal, vec3 tangent)\n{\n\tvec3 normalT = 2.0*normalMapSample - 1.0;\n\n\t// Build orthonormal basis.\n\tvec3 N = normalize(unitNormal);\n\tvec3 T = normalize(tangent- dot(tangent, N)*N);\n\tvec3 B = cross(T, N);\n\n\tmat3 TBN = mat3(T, B, N);\n\n\t// Transform from tangent space to world space.\n\tvec3 bumpedNormal = TBN*normalT;\n\n\treturn bumpedNormal;\n}\n\n\nvoid  computeDirectionLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in DirectionLight dirLight,in vec3 ambinentColor,in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n\tdif=vec3(0.0);//\u4e0d\u521d\u59cb\u5316\u5728IOS\u4e2d\u95ea\u70c1\uff0cPC\u4e2d\u4e0d\u4f1a\u95ea\u70c1\n\tamb=vec3(0.0);\n\tspec=vec3(0.0);\n\tvec3 lightVec=-normalize(dirLight.Direction);\n\t\n\tamb=matAmb*ambinentColor;\n\t\n\tfloat  diffuseFactor=dot(lightVec, normal);\n\t\n\tif(diffuseFactor>0.0)\n\t{\n\t   vec3 v = reflect(-lightVec, normal);\n\t   float specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n\t   \n\t   dif = diffuseFactor * matDif * dirLight.Diffuse;\n\t   spec = specFactor * matSpe.rgb;\n\t}\n\t\n}\n\nvoid computePointLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in PointLight poiLight,in vec3 ambinentColor, in vec3 pos,in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n\tdif=vec3(0.0);\n\tamb=vec3(0.0);\n\tspec=vec3(0.0);\n\tvec3 lightVec = poiLight.Position - pos;\n\t\t\n\tfloat d = length(lightVec);\n\t\n\tif( d > poiLight.Range )\n\t\treturn;\n\t\t\n\tlightVec /= d; \n\t\n\tamb = matAmb*ambinentColor;\t\n\n\tfloat diffuseFactor = dot(lightVec, normal);\n\n\tif( diffuseFactor > 0.0 )\n\t{\n\t\tvec3 v= reflect(-lightVec, normal);\n\t\tfloat specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n\t\t\t\t\t\n\t\tdif = diffuseFactor * matDif * poiLight.Diffuse;\n\t\tspec = specFactor * matSpe.rgb;\n\t}\n\n\tfloat attenuate = 1.0 / dot(poiLight.Attenuation, vec3(1.0, d, d*d));\n\n\tdif *= attenuate;\n\tspec*= attenuate;\n}\n\nvoid ComputeSpotLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in SpotLight spoLight,in vec3 ambinentColor,in vec3 pos, in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n\tamb = vec3(0.0);\n\tdif =vec3(0.0);\n\tspec= vec3(0.0);\n\tvec3 lightVec = spoLight.Position - pos;\n\t\t\n\tfloat d = length(lightVec);\n\t\n\tif( d > spoLight.Range)\n\t\treturn;\n\t\t\n\tlightVec /= d; \n\t\n\tamb = matAmb*ambinentColor;\t\n\n\tfloat diffuseFactor = dot(lightVec, normal);\n\n\tif(diffuseFactor > 0.0)\n\t{\n\t\tvec3 v= reflect(-lightVec, normal);\n\t\tfloat specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n\t\t\t\t\t\n\t\tdif = diffuseFactor * matDif * spoLight.Diffuse;\n\t\tspec = specFactor * matSpe.rgb;\n\t}\n\t\n\tfloat spot = pow(max(dot(-lightVec, normalize(spoLight.Direction)), 0.0), spoLight.Spot);\n\n\tfloat attenuate = spot/dot(spoLight.Attenuation, vec3(1.0, d, d*d));\n\n\tamb *= spot;\n\tdif *= attenuate;\n\tspec*= attenuate;\n}\n\n"),C$99Be.addInclude("ShadowHelper.glsl","uniform sampler2D u_shadowMap1;\nuniform sampler2D u_shadowMap2;\nuniform sampler2D u_shadowMap3;\nuniform vec2\t  u_shadowPCFoffset;\nuniform vec4     u_shadowPSSMDistance;\nvec4 packDepth(const in float depth)\n{\n\tconst vec4 bitShift = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n\tconst vec4 bitMask\t= vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n\tvec4 res = mod(depth*bitShift*vec4(255), vec4(256))/vec4(255);\n\tres -= res.xxyz * bitMask;\n\treturn res;\n}\nfloat unpackDepth(const in vec4 rgbaDepth)\n{\n\tconst vec4 bitShift = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n\tfloat depth = dot(rgbaDepth, bitShift);\n\treturn depth;\n}\nfloat tex2DPCF( sampler2D shadowMap,vec2 texcoord,vec2 invsize,float zRef )\n{\n\tvec2 texelpos =texcoord / invsize;\n\tvec2 lerps = fract( texelpos );\n\tfloat sourcevals[4];\n\tsourcevals[0] = float( unpackDepth(texture2D(shadowMap,texcoord)) > zRef );\n\tsourcevals[1] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(invsize.x,0))) > zRef );\n\tsourcevals[2] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(0,invsize.y))) > zRef );\n\tsourcevals[3] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(invsize.x, invsize.y) )) > zRef );\n\treturn mix( mix(sourcevals[0],sourcevals[2],lerps.y),mix(sourcevals[1],sourcevals[3],lerps.y),lerps.x );\n}\nfloat getShadowPSSM3( sampler2D shadowMap1,sampler2D shadowMap2,sampler2D shadowMap3,mat4 lightShadowVP[4],vec4 pssmDistance,vec2 shadowPCFOffset,vec3 worldPos,float posViewZ,float zBias )\n{\n\tfloat value = 1.0;\n\tint nPSNum = int(posViewZ>pssmDistance.x);\n\tnPSNum += int(posViewZ>pssmDistance.y);\n\tnPSNum += int(posViewZ>pssmDistance.z);\n\t//\u771fSB,webgl\u4e0d\u652f\u6301\u5728PS\u4e2d\u76f4\u63a5\u8bbf\u95ee\u6570\u7ec4\n\tmat4 lightVP;\n\tif( nPSNum == 0 )\n\t{\n\t\tlightVP = lightShadowVP[1];\n\t}\n\telse if( nPSNum == 1 )\n\t{\n\t\tlightVP = lightShadowVP[2];\n\t}\n\telse if( nPSNum == 2 )\n\t{\n\t\tlightVP = lightShadowVP[3];\n\t}\n\tvec4 vLightMVPPos = lightVP * vec4(worldPos,1.0);\n\t//\u4e3a\u4e86\u6548\u7387\uff0c\u5728CPU\u8ba1\u7b97/2.0 + 0.5\n\t//vec3 vText = (vLightMVPPos.xyz / vLightMVPPos.w)/2.0 + 0.5;\n\tvec3 vText = vLightMVPPos.xyz / vLightMVPPos.w;\n\tfloat fMyZ = vText.z - zBias;\n\t/*\n\tbvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n\tbool bInFrustum = all( bInFrustumVec );\n\tbvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n\tbool bFrustumTest = all( bFrustumTestVec );\n\tif ( bFrustumTest ) \n\t*/\n\tif( fMyZ <= 1.0 )\n\t{\n\t\tfloat zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue = value/4.0;\n\t\t} \n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap3,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF2\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap3,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n\n#endif\n#ifdef SHADOWMAP_PCF1\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap2,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap3,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF_NO\n\t\tvec4 color;\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap1,vText.xy );\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap2,vText.xy );\n\t\t}\n\t\telse if( nPSNum == 2 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap3,vText.xy );\n\t\t}\n\t\tzdepth = unpackDepth(color);\n\t\tvalue = float(fMyZ < zdepth);\n#endif\n\t}\n\treturn value;\n}\nfloat getShadowPSSM2( sampler2D shadowMap1,sampler2D shadowMap2,mat4 lightShadowVP[4],vec4 pssmDistance,vec2 shadowPCFOffset,vec3 worldPos,float posViewZ,float zBias )\n{\n\tfloat value = 1.0;\n\tint nPSNum = int(posViewZ>pssmDistance.x);\n\tnPSNum += int(posViewZ>pssmDistance.y);\n\t//\u771fSB,webgl\u4e0d\u652f\u6301\u5728PS\u4e2d\u76f4\u63a5\u8bbf\u95ee\u6570\u7ec4\n\tmat4 lightVP;\n\tif( nPSNum == 0 )\n\t{\n\t\tlightVP = lightShadowVP[1];\n\t}\n\telse if( nPSNum == 1 )\n\t{\n\t\tlightVP = lightShadowVP[2];\n\t}\n\tvec4 vLightMVPPos = lightVP * vec4(worldPos,1.0);\n\t//\u4e3a\u4e86\u6548\u7387\uff0c\u5728CPU\u8ba1\u7b97/2.0 + 0.5\n\t//vec3 vText = (vLightMVPPos.xyz / vLightMVPPos.w)/2.0 + 0.5;\n\tvec3 vText = vLightMVPPos.xyz / vLightMVPPos.w;\n\tfloat fMyZ = vText.z - zBias;\n\t/*\n\tbvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n\tbool bInFrustum = all( bInFrustumVec );\n\tbvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n\tbool bFrustumTest = all( bFrustumTestVec );\n\tif ( bFrustumTest ) \n\t*/\n\tif( fMyZ <= 1.0 )\n\t{\n\t\tfloat zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,\tfMyZ );\n\t\t\tvalue = value/4.0;\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF2\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF1\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tvec4 color = texture2D( shadowMap2,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n\t\t}\n#endif\n#ifdef SHADOWMAP_PCF_NO\n\t\tvec4 color;\n\t\tif ( nPSNum == 0 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap1,vText.xy );\n\t\t}\n\t\telse if( nPSNum == 1 )\n\t\t{\n\t\t\tcolor = texture2D( shadowMap2,vText.xy );\n\t\t}\n\t\tzdepth = unpackDepth(color);\n\t\tvalue = float(fMyZ < zdepth);\n#endif\n\t}\n\treturn value;\n}\nfloat getShadowPSSM1( sampler2D shadowMap1,vec4 lightMVPPos,vec4 pssmDistance,vec2 shadowPCFOffset,float posViewZ,float zBias )\n{\n\tfloat value = 1.0;\n\tif( posViewZ < pssmDistance.x )\n\t{\n\t\tvec3 vText = lightMVPPos.xyz / lightMVPPos.w;\n\t\tfloat fMyZ = vText.z - zBias;\n\t\t/*\n\t\tbvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n\t\tbool bInFrustum = all( bInFrustumVec );\n\t\tbvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n\t\tbool bFrustumTest = all( bFrustumTestVec );\n\t\t*/\n\t\tif ( fMyZ <= 1.0 ) \n\t\t{\n\t\t\tfloat zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n\t\t\tvalue =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,fMyZ );\n\t\t\tvalue += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,fMyZ );\n\t\t\tvalue = value/4.0;\n#endif\n#ifdef SHADOWMAP_PCF2\t\t\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n#endif\n#ifdef SHADOWMAP_PCF1\n\t\t\tvalue = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n#endif\n#ifdef SHADOWMAP_PCF_NO\t\t\n\t\t\tvec4 color = texture2D( shadowMap1,vText.xy );\n\t\t\tzdepth = unpackDepth(color);\n\t\t\tvalue = float(fMyZ < zdepth);\n#endif\n\t\t}\n\t}\n\treturn value;\n}"),C$99t={a_Position:0,a_Color:1,a_Normal:3,a_Texcoord0:2,a_Texcoord1:15,a_TexcoordNext0:14,a_BoneWeights:7,a_BoneIndices:6,a_Tangent0:5},C$99e={u_Bones:[0,0],u_DiffuseTexture:[1,1],u_SpecularTexture:[3,1],u_NormalTexture:[2,1],u_AmbientTexture:[5,1],u_ReflectTexture:[6,1],u_AlphaTestValue:[0,1],u_Albedo:[7,1],u_UVMatrix:[13,1],u_UVAge:[14,1],u_UVAniAge:[8,1],u_MaterialDiffuse:[10,1],u_MaterialAmbient:[9,1],u_MaterialSpecular:[11,1],u_MaterialReflect:[12,1],u_TilingOffset:[15,1],u_WorldMat:[0,2],u_MvpMatrix:[1,2],u_LightmapScaleOffset:[2,2],u_LightMap:[3,2],u_CameraPos:[0,3],u_FogStart:[1,4],u_FogRange:[2,4],u_FogColor:[0,4],"u_DirectionLight.Direction":[3,4],"u_DirectionLight.Diffuse":[4,4],"u_PointLight.Position":[5,4],"u_PointLight.Range":[6,4],"u_PointLight.Attenuation":[7,4],"u_PointLight.Diffuse":[8,4],"u_SpotLight.Position":[9,4],"u_SpotLight.Direction":[10,4],"u_SpotLight.Range":[12,4],"u_SpotLight.Spot":[11,4],"u_SpotLight.Attenuation":[13,4],"u_SpotLight.Diffuse":[14,4],u_AmbientColor:[21,4],u_shadowMap1:[18,4],u_shadowMap2:[19,4],u_shadowMap3:[20,4],u_shadowPSSMDistance:[15,4],u_lightShadowVP:[16,4],u_shadowPCFoffset:[17,4]};var C$99i=C$99Be.nameKey.add("SIMPLE");shaderCompile=C$99we.add(C$99i,"attribute vec4 a_Position;\nuniform mat4 u_MvpMatrix;\n\n\n\n#if defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(COLOR)&&defined(SPECULARMAP)||defined(NORMALMAP)))||(defined(LIGHTMAP)&&defined(UV))\nattribute vec2 a_Texcoord0;\nvarying vec2 v_Texcoord0;\n  #ifdef UVTRANSFORM \n  uniform mat4 u_UVMatrix;\n  #endif\n#endif\n\n#if defined(AMBIENTMAP)||(defined(LIGHTMAP)&&defined(UV1))\nattribute vec2 a_Texcoord1;\n#endif\n\n#if defined(AMBIENTMAP)||defined(LIGHTMAP)\nuniform vec4 u_LightmapScaleOffset;\nvarying vec2 v_LightMapUV;\n#endif\n\n\n#ifdef COLOR\nattribute vec4 a_Color;\nvarying vec4 v_Color;\n#endif\n\n#ifdef BONE\nattribute vec4 a_BoneIndices;\nattribute vec4 a_BoneWeights;\nconst int c_MaxBoneCount = 24;\nuniform mat4 u_Bones[c_MaxBoneCount];\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\nattribute vec3 a_Normal;\nvarying vec3 v_Normal;\n#endif\n\n#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP))&&defined(NORMALMAP)\nattribute vec3 a_Tangent0;\nvarying vec3 v_Tangent0;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)||defined(RECEIVESHADOW)\nuniform mat4 u_WorldMat;\nvarying vec3 v_PositionWorld;\n#endif\n\nvarying float v_posViewZ;\n#ifdef RECEIVESHADOW\n  #ifdef SHADOWMAP_PSSM1 \n  varying vec4 v_lightMVPPos;\n  uniform mat4 u_lightShadowVP[4];\n  #endif\n#endif\n\n#ifdef TILINGOFFSET\n\tuniform vec4 u_TilingOffset;\n#endif\n\nvoid main_castShadow()\n{\n#ifdef BONE\n\tmat4 skinTransform=mat4(0.0);\n\tskinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n\tskinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n\tskinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n\tskinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n\tvec4 position=skinTransform*a_Position;\n\tgl_Position = u_MvpMatrix * position;\n#else\n\tgl_Position = u_MvpMatrix * a_Position;\n#endif\n \n//TODO\u6ca1\u8003\u8651UV\u52a8\u753b\u5462\n#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n\tv_Texcoord0=a_Texcoord0;\n#endif\n\tv_posViewZ = gl_Position.z;\n}\n\nvoid main_normal()\n{\n#ifdef BONE\n\tmat4 skinTransform=mat4(0.0);\n\tskinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n\tskinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n\tskinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n\tskinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n\tvec4 position=skinTransform*a_Position;\n\tgl_Position = u_MvpMatrix * position;\n#else\n\tgl_Position = u_MvpMatrix * a_Position;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n\tmat3 worldMat;\n\t#ifdef BONE\n\t\tworldMat=mat3(u_WorldMat*skinTransform);\n\t#else\n\t\tworldMat=mat3(u_WorldMat);\n\t#endif  \n\tv_Normal=worldMat*a_Normal;\n\t#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\n\t\tv_Tangent0=worldMat*a_Tangent0;\n\t#endif\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)||defined(RECEIVESHADOW)\n\t#ifdef BONE\n\t\tv_PositionWorld=(u_WorldMat*position).xyz;\n\t#else\n\t\tv_PositionWorld=(u_WorldMat*a_Position).xyz;\n\t#endif\n#endif\n\n#if defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(COLOR)&&defined(SPECULARMAP)||defined(NORMALMAP)))\n\tv_Texcoord0=a_Texcoord0;\n\t#ifdef TILINGOFFSET\n\t\tv_Texcoord0=(vec2(v_Texcoord0.x,v_Texcoord0.y-1.0)*u_TilingOffset.xy)+u_TilingOffset.zw;\n\t\tv_Texcoord0=vec2(v_Texcoord0.x,v_Texcoord0.y+1.0);\n\t#endif\n\t#ifdef UVTRANSFORM\n\t\tv_Texcoord0=(u_UVMatrix*vec4(v_Texcoord0,0.0,1.0)).xy;\n\t#endif\n#endif\n\n#if defined(AMBIENTMAP)||defined(LIGHTMAP)\n\t#ifdef SCALEOFFSETLIGHTINGMAPUV\n\t\t#ifdef UV1\n\t\t\tv_LightMapUV=vec2(a_Texcoord1.x*u_LightmapScaleOffset.x+u_LightmapScaleOffset.z,1.0+a_Texcoord1.y*u_LightmapScaleOffset.y+u_LightmapScaleOffset.w);\n\t\t#else\n\t\t\tv_LightMapUV=vec2(a_Texcoord0.x,a_Texcoord0.y-1.0)*u_LightmapScaleOffset.xy+u_LightmapScaleOffset.zw;\n\t\t#endif \n\t#else\n\t\t#ifdef UV1\n\t\t\tv_LightMapUV=a_Texcoord1;\n\t\t#else\n\t\t\tv_LightMapUV=a_Texcoord0;\n\t\t#endif \n\t#endif \n#endif\n\n#ifdef COLOR\n\tv_Color=a_Color;\n#endif\n\n#ifdef RECEIVESHADOW\n\tv_posViewZ = gl_Position.w;\n\t#ifdef SHADOWMAP_PSSM1 \n\t\tv_lightMVPPos = u_lightShadowVP[0] * vec4(v_PositionWorld,1.0);\n\t#endif\n#endif\n}\n\nvoid main()\n{\n#ifdef CASTSHADOW\n\tmain_castShadow();\n#else\n\tmain_normal();\n#endif\n}",'#ifdef HIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\n#include "LightHelper.glsl";\n\nuniform vec4 u_Albedo;\n\n#ifdef ALPHATEST\nuniform float u_AlphaTestValue;\n#endif\n\n#ifdef DIFFUSEMAP\nuniform sampler2D u_DiffuseTexture;\n#endif\n\n#ifdef REFLECTMAP\nuniform samplerCube u_ReflectTexture;\nuniform vec3 u_MaterialReflect;\n#endif\n\n#if   defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(COLOR)&&defined(SPECULARMAP)||defined(NORMALMAP)))\nvarying vec2 v_Texcoord0;\n#endif\n\n#if defined(AMBIENTMAP)||defined(LIGHTMAP)\nvarying vec2 v_LightMapUV;\n#endif\n#ifdef AMBIENTMAP\nuniform sampler2D u_AmbientTexture;\n#endif\n#ifdef LIGHTMAP\nuniform sampler2D u_LightMap;\n#endif\n\n#ifdef COLOR\nvarying vec4 v_Color;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\nuniform vec3 u_MaterialDiffuse;\nuniform vec4 u_MaterialSpecular;\n  #if (defined(DIFFUSEMAP)||defined(COLOR))&&defined(SPECULARMAP) \n  uniform sampler2D u_SpecularTexture;\n  #endif\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(AMBIENTMAP)||defined(LIGHTMAP)\nuniform vec3 u_MaterialAmbient;\n#endif\n\n#if defined(FOG)||defined(DEPTHFOG)\n\tuniform float u_FogStart;\n\tuniform float u_FogRange;\n\t#ifdef ADDTIVEFOG\n\t#else\n\t\tuniform vec3 u_FogColor;\n\t#endif\n#endif\n\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\nvarying vec3 v_Normal;\n#endif\n\n#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\nuniform sampler2D u_NormalTexture;\nvarying vec3 v_Tangent0;\n#endif\n\n#ifdef DIRECTIONLIGHT\nuniform DirectionLight u_DirectionLight;\n#endif\n\n#ifdef POINTLIGHT\nuniform PointLight u_PointLight;\n#endif\n\n#ifdef SPOTLIGHT\nuniform SpotLight u_SpotLight;\n#endif\n\nuniform vec3 u_AmbientColor;\n\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)||(defined(RECEIVESHADOW)&&(defined(SHADOWMAP_PSM2)||defined(SHADOWMAP_PSM3)))\nuniform vec3 u_CameraPos;\n#endif\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(DEPTHFOG)||defined(REFLECTMAP)\nvarying vec3 v_PositionWorld;\n#endif\n\n#include "ShadowHelper.glsl"\n#ifdef RECEIVESHADOW\n\t#if defined(SHADOWMAP_PSSM2)||defined(SHADOWMAP_PSSM3)\n\tuniform mat4 u_lightShadowVP[4];\n\t#endif\n\t#ifdef SHADOWMAP_PSSM1 \n\tvarying vec4 v_lightMVPPos;\n\t#endif\n#endif\nvarying float v_posViewZ;\n\n\n\nvoid main_castShadow()\n{\n\t//gl_FragColor=vec4(v_posViewZ,0.0,0.0,1.0);\n\tgl_FragColor=packDepth(v_posViewZ);\n\t#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n\t\tfloat alpha = texture2D(u_DiffuseTexture,v_Texcoord0).w;\n\t\tif( alpha < u_AlphaTestValue )\n\t\t{\n\t\t\tdiscard;\n\t\t}\n\t#endif\n}\nvoid main_normal()\n{\n#if defined(DIFFUSEMAP)&&!defined(COLOR)\n\tgl_FragColor=texture2D(u_DiffuseTexture, v_Texcoord0);\n#endif \n  \n#if defined(COLOR)&&!defined(DIFFUSEMAP)\n\tgl_FragColor=v_Color;\n#endif \n  \n#if defined(DIFFUSEMAP)&&defined(COLOR)\n\tvec4 texColor=texture2D(u_DiffuseTexture, v_Texcoord0);\n\tgl_FragColor=texColor*v_Color;\n#endif\n  \n#if !defined(DIFFUSEMAP)&&!defined(COLOR)\n\tgl_FragColor=vec4(1.0,1.0,1.0,1.0);\n#endif \n    \n#ifdef ALPHATEST\n\tif(gl_FragColor.a-u_AlphaTestValue<0.0)\n\t\tdiscard;\n#endif\n  \n  \n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n\tvec3 normal;\n    #if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\n\t\tvec3 normalMapSample = texture2D(u_NormalTexture, v_Texcoord0).rgb;\n\t\tnormal = normalize(NormalSampleToWorldSpace(normalMapSample, v_Normal, v_Tangent0));\n\t#else\n\t\tnormal = normalize(v_Normal);\n    #endif\n#endif\n\t\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\tvec3 diffuse = vec3(0.0);\n\tvec3 ambient = vec3(0.0);\n\tvec3 specular= vec3(0.0);\n\tvec3 dif, amb, spe;\n#endif\n  \n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||defined(REFLECTMAP)\n\tvec3 toEye;\n\t#ifdef FOG\n\t\ttoEye=u_CameraPos-v_PositionWorld;\n\t\tfloat toEyeLength=length(toEye);\n\t\ttoEye/=toEyeLength;\n\t#else\n\t\ttoEye=normalize(u_CameraPos-v_PositionWorld);\n\t#endif\n#endif\n\t\n#ifdef DIRECTIONLIGHT\n\tcomputeDirectionLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_DirectionLight,u_AmbientColor,normal,toEye, dif, amb, spe);\n\tdiffuse+=dif;\n\tambient+=amb;\n\tspecular+=spe;\n#endif\n \n#ifdef POINTLIGHT\n\tcomputePointLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_PointLight,u_AmbientColor,v_PositionWorld,normal,toEye, dif, amb, spe);\n\tdiffuse+=dif;\n\tambient+=amb;\n\tspecular+=spe;\n#endif\n\n#ifdef SPOTLIGHT\n\tComputeSpotLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_SpotLight,u_AmbientColor,v_PositionWorld,normal,toEye, dif, amb, spe);\n\tdiffuse+=dif;\n\tambient+=amb;\n\tspecular+=spe;\n#endif\n\n#ifdef RECEIVESHADOW\n\tfloat shadowValue = 1.0;\n\t#ifdef SHADOWMAP_PSSM3\n\t\tshadowValue = getShadowPSSM3( u_shadowMap1,u_shadowMap2,u_shadowMap3,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n\t#endif\n\t#ifdef SHADOWMAP_PSSM2\n\t\tshadowValue = getShadowPSSM2( u_shadowMap1,u_shadowMap2,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n\t#endif \n\t#ifdef SHADOWMAP_PSSM1\n\t\tshadowValue = getShadowPSSM1( u_shadowMap1,v_lightMVPPos,u_shadowPSSMDistance,u_shadowPCFoffset,v_posViewZ,0.001);\n\t#endif\n#endif\n\n#ifdef AMBIENTMAP\n\t#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_AmbientTexture, v_LightMapUV).rgb); \n\t#else\n\t\t#if defined(RECEIVESHADOW)\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_AmbientTexture, v_LightMapUV).rgb * shadowValue);\n\t\t#else\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_AmbientTexture, v_LightMapUV).rgb); \n\t\t#endif\n\t#endif\n#endif\n\n#ifdef LIGHTMAP\n\t#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb); \n\t#else\n\t\t#if defined(RECEIVESHADOW)\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb * shadowValue);\n\t\t#else\n\t\t\tgl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb); \n\t\t#endif\n\t#endif\n#endif\n\ngl_FragColor=gl_FragColor*u_Albedo;\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n\t#if (defined(DIFFUSEMAP)||defined(COLOR))&&defined(SPECULARMAP)\n\t\tspecular =specular*texture2D(u_SpecularTexture, v_Texcoord0).rgb;\n    #endif\n\t#ifdef RECEIVESHADOW\n\t\tgl_FragColor =vec4( gl_FragColor.rgb*(ambient + diffuse*shadowValue) + specular*shadowValue,gl_FragColor.a);\n\t#else\n\t\tgl_FragColor =vec4( gl_FragColor.rgb*(ambient + diffuse) + specular,gl_FragColor.a);\n\t#endif\n#endif\n  \n#ifdef REFLECTMAP\n\tvec3 incident = -toEye;\n\tvec3 reflectionVector = reflect(incident,normal);\n\tvec3 reflectionColor  = textureCube(u_ReflectTexture,reflectionVector).rgb;\n\tgl_FragColor.rgb += u_MaterialReflect*reflectionColor;\n#endif\n  \n#ifdef FOG\n\tfloat lerpFact=clamp((toEyeLength-u_FogStart)/u_FogRange,0.0,1.0);\n\t#ifdef ADDTIVEFOG\n\t\tgl_FragColor.rgb=mix(gl_FragColor.rgb,vec3(0.0,0.0,0.0),lerpFact);\n\t#else\n\t\tgl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor,lerpFact);\n\t#endif\n#endif\n#ifdef DEPTHFOG\n\tfloat lerpFact = (-v_PositionWorld.y-u_FogStart)/u_FogRange;\n\tgl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor,lerpFact);\n#endif\n}\n\nvoid main()\n{\n#ifdef CASTSHADOW\t\t\n\tmain_castShadow();\n#else\n  main_normal();\n#endif  \n}\n\n',C$99t,C$99e),C$99Le.SHADERDEFINE_DIFFUSEMAP=shaderCompile.registerMaterialDefine("DIFFUSEMAP"),C$99Le.SHADERDEFINE_NORMALMAP=shaderCompile.registerMaterialDefine("NORMALMAP"),C$99Le.SHADERDEFINE_SPECULARMAP=shaderCompile.registerMaterialDefine("SPECULARMAP"),C$99Le.SHADERDEFINE_EMISSIVEMAP=shaderCompile.registerMaterialDefine("EMISSIVEMAP"),C$99Le.SHADERDEFINE_AMBIENTMAP=shaderCompile.registerMaterialDefine("AMBIENTMAP"),C$99Le.SHADERDEFINE_REFLECTMAP=shaderCompile.registerMaterialDefine("REFLECTMAP"),C$99Le.SHADERDEFINE_UVTRANSFORM=shaderCompile.registerMaterialDefine("UVTRANSFORM"),C$99Le.SHADERDEFINE_TILINGOFFSET=shaderCompile.registerMaterialDefine("TILINGOFFSET"),C$99Le.SHADERDEFINE_ADDTIVEFOG=shaderCompile.registerMaterialDefine("ADDTIVEFOG");},e$d;}(),C$99_e=function(){function e$d(){this._data=null,this._data=[];}C$99r(e$d,"laya.d3.shader.ValusArray");var C$99t=e$d.prototype;return C$99t.setValue=function(C$99t,C$99e){this._data[C$99t]=C$99e;},C$99o(0,C$99t,"data",function(){return this._data;}),e$d;}(),C$99de=function(){function e$d(){}return e$d.SHADERDEFINE_RECEIVE_SHADOW=1,e$d.SHADERDEFINE_CAST_SHADOW=512,e$d.SHADERDEFINE_SHADOW_PSSM1=1024,e$d.SHADERDEFINE_SHADOW_PSSM2=2048,e$d.SHADERDEFINE_SHADOW_PSSM3=4096,e$d.SHADERDEFINE_SHADOW_PCF_NO=8192,e$d.SHADERDEFINE_SHADOW_PCF1=16384,e$d.SHADERDEFINE_SHADOW_PCF2=32768,e$d.SHADERDEFINE_SHADOW_PCF3=65536,e$d.MAX_PSSM_COUNT=3,e$d;}(),C$99fe=(C$99r(e$X,"laya.d3.utils.Picker"),e$X.calculateCursorRay=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a=C$99t.elements[0],C$99t=C$99t.elements[1],C$99o=e$X._tempVector30,C$99h=C$99o.elements;C$99h[0]=C$99a,C$99h[1]=C$99t,C$99h[2]=C$99e.minDepth;var C$99h=e$X._tempVector31,C$99l=C$99h.elements;C$99l[0]=C$99a,C$99l[1]=C$99t,C$99l[2]=C$99e.maxDepth;C$99a=C$99s.origin,C$99t=e$X._tempVector32;C$99e.unprojectFromWVP(C$99o,C$99i,C$99n,C$99r,C$99a),C$99e.unprojectFromWVP(C$99h,C$99i,C$99n,C$99r,C$99t);C$99l=C$99s.direction.elements;C$99l[0]=C$99t.x-C$99a.x,C$99l[1]=C$99t.y-C$99a.y,C$99l[2]=C$99t.z-C$99a.z,C$99I.normalize(C$99s.direction,C$99s.direction);},e$X.rayIntersectsPositionsAndIndices=function(C$99u,C$99t,C$99e,C$99c,C$99i){for(var C$99_=C$99e.vertexStride/4,C$99n=C$99e.getVertexElementByUsage(0).offset/4,C$99d=Number.MAX_VALUE,C$99f=-1,C$99p=-1,C$99m=-1,C$99g=0;C$99g<C$99c.length;C$99g+=3){var C$99v=e$X._tempVector35,C$99$=C$99v.elements,C$99x=C$99c[C$99g]*C$99_,C$99r=C$99x+C$99n;C$99$[0]=C$99t[C$99r],C$99$[1]=C$99t[1+C$99r],C$99$[2]=C$99t[2+C$99r];var C$99$=e$X._tempVector36,C$99r=C$99$.elements,C$99y=C$99c[C$99g+1]*C$99_,C$99s=C$99y+C$99n;C$99r[0]=C$99t[C$99s],C$99r[1]=C$99t[1+C$99s],C$99r[2]=C$99t[2+C$99s];var C$99r=e$X._tempVector37,C$99s=C$99r.elements,C$99b=C$99c[C$99g+2]*C$99_,C$99w=C$99b+C$99n;C$99s[0]=C$99t[C$99w],C$99s[1]=C$99t[1+C$99w],C$99s[2]=C$99t[2+C$99w];C$99s=laya.d3.utils.Picker.rayIntersectsTriangle(C$99u,C$99v,C$99$,C$99r);!isNaN(C$99s)&&C$99s<C$99d&&(C$99d=C$99s,C$99f=C$99x,C$99p=C$99y,C$99m=C$99b);}if(C$99d===Number.MAX_VALUE)return C$99i.position.toDefault(),C$99i.distance=Number.MAX_VALUE,C$99i.trianglePositions[0].toDefault(),C$99i.trianglePositions[1].toDefault(),C$99i.trianglePositions[2].toDefault(),C$99i.triangleNormals[0].toDefault(),C$99i.triangleNormals[1].toDefault(),C$99i.triangleNormals[2].toDefault(),!1;C$99i.distance=C$99d,C$99I.scale(C$99u.direction,C$99d,C$99i.position),C$99I.add(C$99u.origin,C$99i.position,C$99i.position);var C$99a=C$99i.trianglePositions,C$99o=C$99a[0],C$99h=C$99a[1],C$99a=C$99a[2],C$99o=C$99o.elements,C$99h=C$99h.elements,C$99a=C$99a.elements,C$99l=C$99f+C$99n;C$99o[0]=C$99t[C$99l],C$99o[1]=C$99t[C$99l+1],C$99o[2]=C$99t[C$99l+2];C$99o=C$99p+C$99n;C$99h[0]=C$99t[C$99o],C$99h[1]=C$99t[C$99o+1],C$99h[2]=C$99t[C$99o+2];C$99l=C$99m+C$99n;C$99a[0]=C$99t[C$99l],C$99a[1]=C$99t[C$99l+1],C$99a[2]=C$99t[C$99l+2];C$99h=C$99e.getVertexElementByUsage(3);return C$99h&&(C$99o=C$99h.offset/4,C$99l=(C$99a=C$99i.triangleNormals)[0],C$99e=C$99a[1],C$99h=C$99a[2],C$99i=C$99l.elements,C$99a=C$99e.elements,C$99l=C$99h.elements,C$99i[0]=C$99t[C$99e=C$99f+C$99o],C$99i[1]=C$99t[C$99e+1],C$99i[2]=C$99t[C$99e+2],C$99a[0]=C$99t[C$99h=C$99p+C$99o],C$99a[1]=C$99t[C$99h+1],C$99a[2]=C$99t[C$99h+2],C$99l[0]=C$99t[C$99i=C$99m+C$99o],C$99l[1]=C$99t[C$99i+1],C$99l[2]=C$99t[C$99i+2]),!0;},e$X.rayIntersectsTriangle=function(C$99t,C$99e,C$99i,C$99n){var C$99r=e$X._tempVector30,C$99s=e$X._tempVector31;C$99I.subtract(C$99i,C$99e,C$99r),C$99I.subtract(C$99n,C$99e,C$99s);C$99i=e$X._tempVector32;if(C$99I.cross(C$99t.direction,C$99s,C$99i),(C$99n=C$99I.dot(C$99r,C$99i))>-Number.MIN_VALUE&&C$99n<Number.MIN_VALUE)return Number.NaN;var C$99n=1/C$99n,C$99a=e$X._tempVector33;if(C$99I.subtract(C$99t.origin,C$99e,C$99a),C$99e=C$99I.dot(C$99a,C$99i),(C$99e*=C$99n)<0||1<C$99e)return Number.NaN;C$99i=e$X._tempVector34;return C$99I.cross(C$99a,C$99r,C$99i),C$99a=C$99I.dot(C$99t.direction,C$99i),(C$99a*=C$99n)<0||1<C$99e+C$99a?Number.NaN:(C$99r=C$99I.dot(C$99s,C$99i),(C$99r*=C$99n)<0?Number.NaN:C$99r);},C$99s(e$X,["_tempVector30",function(){return this._tempVector30=new C$99I();},"_tempVector31",function(){return this._tempVector31=new C$99I();},"_tempVector32",function(){return this._tempVector32=new C$99I();},"_tempVector33",function(){return this._tempVector33=new C$99I();},"_tempVector34",function(){return this._tempVector34=new C$99I();},"_tempVector35",function(){return this._tempVector35=new C$99I();},"_tempVector36",function(){return this._tempVector36=new C$99I();},"_tempVector37",function(){return this._tempVector37=new C$99I();}]),e$X),C$99pe=(function(){function e$d(){this.distance=NaN,this.trianglePositions=null,this.triangleNormals=null,this.position=null,this.sprite3D=null,this.distance=-1,this.trianglePositions=[new C$99I(),new C$99I(),new C$99I()],this.trianglePositions.length=3,this.triangleNormals=[new C$99I(),new C$99I(),new C$99I()],this.triangleNormals.length=3,this.position=new C$99I();}C$99r(e$d,"laya.d3.utils.RaycastHit"),e$d.prototype.cloneTo=function(C$99t){C$99t.distance=this.distance,this.trianglePositions[0].cloneTo(C$99t.trianglePositions[0]),this.trianglePositions[1].cloneTo(C$99t.trianglePositions[1]),this.trianglePositions[2].cloneTo(C$99t.trianglePositions[2]),this.triangleNormals[0].cloneTo(C$99t.triangleNormals[0]),this.triangleNormals[1].cloneTo(C$99t.triangleNormals[1]),this.triangleNormals[2].cloneTo(C$99t.triangleNormals[2]),this.position.cloneTo(C$99t.position),C$99t.sprite3D=this.sprite3D;};}(),function(){function e$d(C$99t,C$99e){this._width=0,this._height=0,this._width=C$99t,this._height=C$99e;}C$99r(e$d,"laya.d3.utils.Size");var C$99t=e$d.prototype;return C$99o(0,C$99t,"width",function(){return-1===this._width?C$99q.clientWidth:this._width;}),C$99o(0,C$99t,"height",function(){return-1===this._height?C$99q.clientHeight:this._height;}),C$99o(1,e$d,"fullScreen",function(){return new e$d(-1,-1);}),e$d;}()),C$99me=(C$99r(e$C,"laya.d3.utils.Utils3D"),e$C._rotationTransformScaleSkinAnimation=function(C$99u,C$99c,C$99_,C$99d,C$99t,C$99e,C$99f,C$99p,C$99m,C$99g,C$99v,C$99$){var C$99i,C$99n,C$99r,C$99s,C$99a,C$99o=e$C._tempArray16_0,C$99h=e$C._tempArray16_1,C$99l=e$C._tempArray16_2,C$99x=C$99d+C$99d,C$99y=C$99t+C$99t,C$99b=C$99e+C$99e,C$99d=C$99d*C$99x,C$99w=C$99t*C$99x,C$99t=C$99t*C$99y,C$99T=C$99e*C$99x,C$99S=C$99e*C$99y,C$99e=C$99e*C$99b,C$99x=C$99f*C$99x,C$99y=C$99f*C$99y,C$99f=C$99f*C$99b;for(C$99o[15]=1,C$99o[0]=1-C$99t-C$99e,C$99o[1]=C$99w+C$99f,C$99o[2]=C$99T-C$99y,C$99o[4]=C$99w-C$99f,C$99o[5]=1-C$99d-C$99e,C$99o[6]=C$99S+C$99x,C$99o[8]=C$99T+C$99y,C$99o[9]=C$99S-C$99x,C$99o[10]=1-C$99d-C$99t,C$99h[15]=1,C$99h[0]=C$99p,C$99h[5]=C$99m,C$99h[10]=C$99g,C$99i=0;C$99i<4;C$99i++)C$99n=C$99o[C$99i],C$99r=C$99o[C$99i+4],C$99s=C$99o[C$99i+8],C$99a=C$99o[C$99i+12],C$99l[C$99i]=C$99n,C$99l[C$99i+4]=C$99r,C$99l[C$99i+8]=C$99s,C$99l[C$99i+12]=C$99n*C$99u+C$99r*C$99c+C$99s*C$99_+C$99a;for(C$99i=0;C$99i<4;C$99i++)C$99n=C$99l[C$99i],C$99r=C$99l[C$99i+4],C$99s=C$99l[C$99i+8],C$99a=C$99l[C$99i+12],C$99v[C$99i+C$99$]=C$99n*C$99h[0]+C$99r*C$99h[1]+C$99s*C$99h[2]+C$99a*C$99h[3],C$99v[C$99i+C$99$+4]=C$99n*C$99h[4]+C$99r*C$99h[5]+C$99s*C$99h[6]+C$99a*C$99h[7],C$99v[C$99i+C$99$+8]=C$99n*C$99h[8]+C$99r*C$99h[9]+C$99s*C$99h[10]+C$99a*C$99h[11],C$99v[C$99i+C$99$+12]=C$99n*C$99h[12]+C$99r*C$99h[13]+C$99s*C$99h[14]+C$99a*C$99h[15];},e$C._createNodeByJson=function(C$99t,C$99e,C$99i,C$99n){if(!C$99i)switch(C$99e.type){case"Sprite3D":C$99i=new C$99Pe();break;case"MeshSprite3D":C$99i=new C$99Ye();break;case"SkinnedMeshSprite3D":C$99i=new SkinnedMeshSprite3D();break;case"ShuriKenParticle3D":case"MyShuriKenParticle3D":C$99i=new ShuriKenParticle3D();break;case"TrailSprite3D":C$99i=new TrailSprite3D();break;case"Terrain":C$99i=new Terrain();break;case"Camera":C$99i=new C$99ze();break;case"DirectionLight":C$99i=new DirectionLight();break;default:throw new Error("Utils3D:unidentified class type in (.lh) file.");}var C$99r=C$99e.props;if(C$99r)for(var C$99s in C$99r)C$99i[C$99s]=C$99r[C$99s];var C$99a=C$99e.customProps;C$99a&&(C$99i instanceof laya.d3.core.Sprite3D?(C$99i._parseBaseCustomProps(C$99a),C$99i._parseCustomProps(C$99t,C$99n,C$99a,C$99e),C$99i._parseCustomComponent(C$99t,C$99n,C$99e.components)):C$99i._parseCustomProps(C$99t,C$99n,C$99a,C$99e));var C$99o=C$99e.child;if(C$99o)for(var C$99h=0,C$99l=C$99o.length;C$99h<C$99l;C$99h++){var C$99u=e$C._createNodeByJson(C$99t,C$99o[C$99h],null,C$99n);C$99i.addChild(C$99u);}return C$99i;},e$C._computeBoneAndAnimationDatasByBindPoseMatrxix=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){var C$99a,C$99o,C$99h=0,C$99l=0,C$99u=C$99t.length;for(C$99a=0;C$99a<C$99u;C$99h+=C$99t[C$99a].keyframeWidth,C$99l+=16,C$99a++)laya.d3.utils.Utils3D._rotationTransformScaleSkinAnimation(C$99e[C$99h+0],C$99e[C$99h+1],C$99e[C$99h+2],C$99e[C$99h+3],C$99e[C$99h+4],C$99e[C$99h+5],C$99e[C$99h+6],C$99e[C$99h+7],C$99e[C$99h+8],C$99e[C$99h+9],C$99n,C$99l),0!=C$99a&&(C$99o=16*C$99t[C$99a].parentIndex,laya.d3.utils.Utils3D.mulMatrixByArray(C$99n,C$99o,C$99n,C$99l,C$99n,C$99l));var C$99c=C$99i.length;for(C$99a=0;C$99a<C$99c;C$99a++)laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$99n,16*C$99s[C$99a],C$99i[C$99a],C$99r,16*C$99a);},e$C._computeAnimationDatasByArrayAndMatrixFast=function(C$99t,C$99e,C$99i,C$99n){for(var C$99r=0,C$99s=C$99t.length;C$99r<C$99s;C$99r++)laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$99e,16*C$99n[C$99r],C$99t[C$99r],C$99i,16*C$99r);},e$C._computeBoneAndAnimationDatasByBindPoseMatrxixOld=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s,C$99a,C$99o=0,C$99h=0,C$99u=C$99t.length;for(C$99s=0;C$99s<C$99u;C$99o+=C$99t[C$99s].keyframeWidth,C$99h+=16,C$99s++)laya.d3.utils.Utils3D._rotationTransformScaleSkinAnimation(C$99e[C$99o+7],C$99e[C$99o+8],C$99e[C$99o+9],C$99e[C$99o+3],C$99e[C$99o+4],C$99e[C$99o+5],C$99e[C$99o+6],C$99e[C$99o+0],C$99e[C$99o+1],C$99e[C$99o+2],C$99n,C$99h),0!=C$99s&&(C$99a=16*C$99t[C$99s].parentIndex,laya.d3.utils.Utils3D.mulMatrixByArray(C$99n,C$99a,C$99n,C$99h,C$99n,C$99h));var C$99c=C$99i.length;for(C$99s=0;C$99s<C$99c;C$99s++){var C$99l=16*C$99s;laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$99n,C$99l,C$99i[C$99s],C$99r,C$99l);}},e$C._computeAnimationDatasByArrayAndMatrixFastOld=function(C$99t,C$99e,C$99i){for(var C$99n=C$99t.length,C$99r=0;C$99r<C$99n;C$99r++){var C$99s=16*C$99r;laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(C$99e,C$99s,C$99t[C$99r],C$99i,C$99s);}},e$C._computeRootAnimationData=function(C$99t,C$99e,C$99i){for(var C$99n=0,C$99r=0,C$99s=0,C$99a=C$99t.length;C$99n<C$99a;C$99r+=C$99t[C$99n].keyframeWidth,C$99s+=16,C$99n++)laya.d3.utils.Utils3D.createAffineTransformationArray(C$99e[C$99r+0],C$99e[C$99r+1],C$99e[C$99r+2],C$99e[C$99r+3],C$99e[C$99r+4],C$99e[C$99r+5],C$99e[C$99r+6],C$99e[C$99r+7],C$99e[C$99r+8],C$99e[C$99r+9],C$99i,C$99s);},e$C.transformVector3ArrayByQuat=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99i=C$99i.elements,C$99s=C$99t[C$99e],C$99a=C$99t[C$99e+1],C$99t=C$99t[C$99e+2],C$99e=C$99i[0],C$99o=C$99i[1],C$99h=C$99i[2],C$99i=C$99i[3],C$99l=C$99i*C$99s+C$99o*C$99t-C$99h*C$99a,C$99u=C$99i*C$99a+C$99h*C$99s-C$99e*C$99t,C$99c=C$99i*C$99t+C$99e*C$99a-C$99o*C$99s,C$99s=-C$99e*C$99s-C$99o*C$99a-C$99h*C$99t;C$99n[C$99r]=C$99l*C$99i+C$99s*-C$99e+C$99u*-C$99h-C$99c*-C$99o,C$99n[C$99r+1]=C$99u*C$99i+C$99s*-C$99o+C$99c*-C$99e-C$99l*-C$99h,C$99n[C$99r+2]=C$99c*C$99i+C$99s*-C$99h+C$99l*-C$99o-C$99u*-C$99e;},e$C.mulMatrixByArray=function(C$99t,C$99u,C$99e,C$99i,C$99n,C$99r){var C$99s,C$99a,C$99o,C$99h,C$99l;if(C$99n===C$99e){for(C$99e=e$C._tempArray16_3,C$99s=0;C$99s<16;++C$99s)C$99e[C$99s]=C$99n[C$99r+C$99s];C$99i=0;}for(C$99s=0;C$99s<4;C$99s++)C$99a=C$99t[C$99u+C$99s],C$99o=C$99t[C$99u+C$99s+4],C$99h=C$99t[C$99u+C$99s+8],C$99l=C$99t[C$99u+C$99s+12],C$99n[C$99r+C$99s]=C$99a*C$99e[C$99i+0]+C$99o*C$99e[C$99i+1]+C$99h*C$99e[C$99i+2]+C$99l*C$99e[C$99i+3],C$99n[C$99r+C$99s+4]=C$99a*C$99e[C$99i+4]+C$99o*C$99e[C$99i+5]+C$99h*C$99e[C$99i+6]+C$99l*C$99e[C$99i+7],C$99n[C$99r+C$99s+8]=C$99a*C$99e[C$99i+8]+C$99o*C$99e[C$99i+9]+C$99h*C$99e[C$99i+10]+C$99l*C$99e[C$99i+11],C$99n[C$99r+C$99s+12]=C$99a*C$99e[C$99i+12]+C$99o*C$99e[C$99i+13]+C$99h*C$99e[C$99i+14]+C$99l*C$99e[C$99i+15];},e$C.mulMatrixByArrayFast=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99u){var C$99s,C$99a,C$99o,C$99h,C$99l;for(C$99s=0;C$99s<4;C$99s++)C$99a=C$99t[C$99e+C$99s],C$99o=C$99t[C$99e+C$99s+4],C$99h=C$99t[C$99e+C$99s+8],C$99l=C$99t[C$99e+C$99s+12],C$99r[C$99u+C$99s]=C$99a*C$99i[C$99n+0]+C$99o*C$99i[C$99n+1]+C$99h*C$99i[C$99n+2]+C$99l*C$99i[C$99n+3],C$99r[C$99u+C$99s+4]=C$99a*C$99i[C$99n+4]+C$99o*C$99i[C$99n+5]+C$99h*C$99i[C$99n+6]+C$99l*C$99i[C$99n+7],C$99r[C$99u+C$99s+8]=C$99a*C$99i[C$99n+8]+C$99o*C$99i[C$99n+9]+C$99h*C$99i[C$99n+10]+C$99l*C$99i[C$99n+11],C$99r[C$99u+C$99s+12]=C$99a*C$99i[C$99n+12]+C$99o*C$99i[C$99n+13]+C$99h*C$99i[C$99n+14]+C$99l*C$99i[C$99n+15];},e$C.mulMatrixByArrayAndMatrixFast=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s,C$99a,C$99o,C$99h,C$99l,C$99i=C$99i.elements,C$99u=C$99i[0],C$99c=C$99i[1],C$99_=C$99i[2],C$99d=C$99i[3],C$99f=C$99i[4],C$99p=C$99i[5],C$99m=C$99i[6],C$99g=C$99i[7],C$99v=C$99i[8],C$99$=C$99i[9],C$99x=C$99i[10],C$99y=C$99i[11],C$99b=C$99i[12],C$99w=C$99i[13],C$99T=C$99i[14],C$99S=C$99i[15],C$99M=C$99e,C$99C=C$99e+4,C$99A=C$99e+8,C$99I=C$99e+12,C$99D=C$99r,C$99E=C$99r+4,C$99R=C$99r+8,C$99P=C$99r+12;for(C$99s=0;C$99s<4;C$99s++)C$99a=C$99t[C$99M+C$99s],C$99o=C$99t[C$99C+C$99s],C$99h=C$99t[C$99A+C$99s],C$99l=C$99t[C$99I+C$99s],C$99n[C$99D+C$99s]=C$99a*C$99u+C$99o*C$99c+C$99h*C$99_+C$99l*C$99d,C$99n[C$99E+C$99s]=C$99a*C$99f+C$99o*C$99p+C$99h*C$99m+C$99l*C$99g,C$99n[C$99R+C$99s]=C$99a*C$99v+C$99o*C$99$+C$99h*C$99x+C$99l*C$99y,C$99n[C$99P+C$99s]=C$99a*C$99b+C$99o*C$99w+C$99h*C$99T+C$99l*C$99S;},e$C.createAffineTransformationArray=function(C$99u,C$99c,C$99_,C$99t,C$99e,C$99i,C$99n,C$99r,C$99d,C$99f,C$99s,C$99a){var C$99o=C$99t+C$99t,C$99h=C$99e+C$99e,C$99l=C$99i+C$99i,C$99p=C$99t*C$99o,C$99m=C$99t*C$99h,C$99t=C$99t*C$99l,C$99g=C$99e*C$99h,C$99e=C$99e*C$99l,C$99i=C$99i*C$99l,C$99o=C$99n*C$99o,C$99h=C$99n*C$99h,C$99n=C$99n*C$99l;C$99s[C$99a+0]=(1-(C$99g+C$99i))*C$99r,C$99s[C$99a+1]=(C$99m+C$99n)*C$99r,C$99s[C$99a+2]=(C$99t-C$99h)*C$99r,C$99s[C$99a+3]=0,C$99s[C$99a+4]=(C$99m-C$99n)*C$99d,C$99s[C$99a+5]=(1-(C$99p+C$99i))*C$99d,C$99s[C$99a+6]=(C$99e+C$99o)*C$99d,C$99s[C$99a+7]=0,C$99s[C$99a+8]=(C$99t+C$99h)*C$99f,C$99s[C$99a+9]=(C$99e-C$99o)*C$99f,C$99s[C$99a+10]=(1-(C$99p+C$99g))*C$99f,C$99s[C$99a+11]=0,C$99s[C$99a+12]=C$99u,C$99s[C$99a+13]=C$99c,C$99s[C$99a+14]=C$99_,C$99s[C$99a+15]=1;},e$C.transformVector3ArrayToVector3ArrayCoordinate=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=e$C._tempArray4_0,C$99a=C$99t[C$99e+0],C$99o=C$99t[C$99e+1],C$99t=C$99t[C$99e+2],C$99e=C$99i.elements;C$99s[0]=C$99a*C$99e[0]+C$99o*C$99e[4]+C$99t*C$99e[8]+C$99e[12],C$99s[1]=C$99a*C$99e[1]+C$99o*C$99e[5]+C$99t*C$99e[9]+C$99e[13],C$99s[2]=C$99a*C$99e[2]+C$99o*C$99e[6]+C$99t*C$99e[10]+C$99e[14],C$99s[3]=1/(C$99a*C$99e[3]+C$99o*C$99e[7]+C$99t*C$99e[11]+C$99e[15]),C$99n[C$99r+0]=C$99s[0]*C$99s[3],C$99n[C$99r+1]=C$99s[1]*C$99s[3],C$99n[C$99r+2]=C$99s[2]*C$99s[3];},e$C.transformLightingMapTexcoordByUV0Array=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99i=C$99i.elements;C$99n[C$99r+0]=C$99t[C$99e+0]*C$99i[0]+C$99i[2],C$99n[C$99r+1]=(C$99t[C$99e+1]-1)*C$99i[1]+C$99i[3];},e$C.transformLightingMapTexcoordByUV1Array=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99i=C$99i.elements;C$99n[C$99r+0]=C$99t[C$99e+0]*C$99i[0]+C$99i[2],C$99n[C$99r+1]=1+C$99t[C$99e+1]*C$99i[1]+C$99i[3];},e$C.getURLVerion=function(C$99t){var C$99e=C$99t.indexOf("?");return 0<=C$99e?C$99t.substr(C$99e):null;},e$C._quaternionCreateFromYawPitchRollArray=function(C$99t,C$99e,C$99i,C$99n){var C$99i=.5*C$99i,C$99e=.5*C$99e,C$99t=.5*C$99t,C$99r=Math.sin(C$99i),C$99i=Math.cos(C$99i),C$99s=Math.sin(C$99e),C$99e=Math.cos(C$99e),C$99a=Math.sin(C$99t),C$99t=Math.cos(C$99t);C$99n[0]=C$99t*C$99s*C$99i+C$99a*C$99e*C$99r,C$99n[1]=C$99a*C$99e*C$99i-C$99t*C$99s*C$99r,C$99n[2]=C$99t*C$99e*C$99r-C$99a*C$99s*C$99i,C$99n[3]=C$99t*C$99e*C$99i+C$99a*C$99s*C$99r;},e$C._createAffineTransformationArray=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99e[0],C$99s=C$99e[1],C$99a=C$99e[2],C$99e=C$99e[3],C$99o=C$99r+C$99r,C$99h=C$99s+C$99s,C$99l=C$99a+C$99a,C$99u=C$99r*C$99o,C$99c=C$99r*C$99h,C$99r=C$99r*C$99l,C$99_=C$99s*C$99h,C$99s=C$99s*C$99l,C$99a=C$99a*C$99l,C$99o=C$99e*C$99o,C$99h=C$99e*C$99h,C$99e=C$99e*C$99l,C$99l=C$99i[0],C$99d=C$99i[1],C$99i=C$99i[2];C$99n[0]=(1-(C$99_+C$99a))*C$99l,C$99n[1]=(C$99c+C$99e)*C$99l,C$99n[2]=(C$99r-C$99h)*C$99l,C$99n[3]=0,C$99n[4]=(C$99c-C$99e)*C$99d,C$99n[5]=(1-(C$99u+C$99a))*C$99d,C$99n[6]=(C$99s+C$99o)*C$99d,C$99n[7]=0,C$99n[8]=(C$99r+C$99h)*C$99i,C$99n[9]=(C$99s-C$99o)*C$99i,C$99n[10]=(1-(C$99u+C$99_))*C$99i,C$99n[11]=0,C$99n[12]=C$99t[0],C$99n[13]=C$99t[1],C$99n[14]=C$99t[2],C$99n[15]=1;},e$C._mulMatrixArray=function(C$99t,C$99e,C$99i,C$99n){var C$99r,C$99s,C$99a,C$99o,C$99h,C$99e=C$99e.elements,C$99l=C$99e[0],C$99u=C$99e[1],C$99c=C$99e[2],C$99_=C$99e[3],C$99d=C$99e[4],C$99f=C$99e[5],C$99p=C$99e[6],C$99m=C$99e[7],C$99g=C$99e[8],C$99v=C$99e[9],C$99$=C$99e[10],C$99x=C$99e[11],C$99y=C$99e[12],C$99b=C$99e[13],C$99w=C$99e[14],C$99T=C$99e[15],C$99S=C$99n,C$99M=C$99n+4,C$99C=C$99n+8,C$99A=C$99n+12;for(C$99r=0;C$99r<4;C$99r++)C$99s=C$99t[C$99r],C$99a=C$99t[C$99r+4],C$99o=C$99t[C$99r+8],C$99h=C$99t[C$99r+12],C$99i[C$99S+C$99r]=C$99s*C$99l+C$99a*C$99u+C$99o*C$99c+C$99h*C$99_,C$99i[C$99M+C$99r]=C$99s*C$99d+C$99a*C$99f+C$99o*C$99p+C$99h*C$99m,C$99i[C$99C+C$99r]=C$99s*C$99g+C$99a*C$99v+C$99o*C$99$+C$99h*C$99x,C$99i[C$99A+C$99r]=C$99s*C$99y+C$99a*C$99b+C$99o*C$99w+C$99h*C$99T;},e$C.getYawPitchRoll=function(C$99t,C$99e){e$C.transformQuat(C$99I.ForwardRH,C$99t,C$99ne.TEMPVector31),e$C.transformQuat(C$99I.Up,C$99t,C$99ne.TEMPVector32);C$99t=C$99ne.TEMPVector32.elements;e$C.angleTo(C$99I.ZERO,C$99ne.TEMPVector31,C$99ne.TEMPVector33);var C$99i=C$99ne.TEMPVector33.elements;C$99i[0]==Math.PI/2?(C$99i[1]=e$C.arcTanAngle(C$99t[2],C$99t[0]),C$99i[2]=0):C$99i[0]==-Math.PI/2?(C$99i[1]=e$C.arcTanAngle(-C$99t[2],-C$99t[0]),C$99i[2]=0):(C$99ee.createRotationY(-C$99i[1],C$99ne.TEMPMatrix0),C$99ee.createRotationX(-C$99i[0],C$99ne.TEMPMatrix1),C$99I.transformCoordinate(C$99ne.TEMPVector32,C$99ne.TEMPMatrix0,C$99ne.TEMPVector32),C$99I.transformCoordinate(C$99ne.TEMPVector32,C$99ne.TEMPMatrix1,C$99ne.TEMPVector32),C$99i[2]=e$C.arcTanAngle(C$99t[1],-C$99t[0])),C$99i[1]<=-Math.PI&&(C$99i[1]=Math.PI),C$99i[2]<=-Math.PI&&(C$99i[2]=Math.PI),C$99i[1]>=Math.PI&&C$99i[2]>=Math.PI&&(C$99i[1]=0,C$99i[2]=0,C$99i[0]=Math.PI-C$99i[0]),C$99e[0]=C$99i[1],C$99e[1]=C$99i[0],C$99e[2]=C$99i[2];},e$C.arcTanAngle=function(C$99t,C$99e){return 0==C$99t?1==C$99e?Math.PI/2:-Math.PI/2:0<C$99t?Math.atan(C$99e/C$99t):C$99t<0?0<C$99e?Math.atan(C$99e/C$99t)+Math.PI:Math.atan(C$99e/C$99t)-Math.PI:0;},e$C.angleTo=function(C$99t,C$99e,C$99i){C$99I.subtract(C$99e,C$99t,C$99ne.TEMPVector30),C$99I.normalize(C$99ne.TEMPVector30,C$99ne.TEMPVector30),C$99i.elements[0]=Math.asin(C$99ne.TEMPVector30.y),C$99i.elements[1]=e$C.arcTanAngle(-C$99ne.TEMPVector30.z,-C$99ne.TEMPVector30.x);},e$C.transformQuat=function(C$99t,C$99e,C$99i){var C$99i=C$99i.elements,C$99t=C$99t.elements,C$99n=C$99t[0],C$99r=C$99t[1],C$99t=C$99t[2],C$99s=C$99e[0],C$99a=C$99e[1],C$99o=C$99e[2],C$99e=C$99e[3],C$99h=C$99e*C$99n+C$99a*C$99t-C$99o*C$99r,C$99l=C$99e*C$99r+C$99o*C$99n-C$99s*C$99t,C$99u=C$99e*C$99t+C$99s*C$99r-C$99a*C$99n,C$99n=-C$99s*C$99n-C$99a*C$99r-C$99o*C$99t;C$99i[0]=C$99h*C$99e+C$99n*-C$99s+C$99l*-C$99o-C$99u*-C$99a,C$99i[1]=C$99l*C$99e+C$99n*-C$99a+C$99u*-C$99s-C$99h*-C$99o,C$99i[2]=C$99u*C$99e+C$99n*-C$99o+C$99h*-C$99a-C$99l*-C$99s;},e$C.quaterionNormalize=function(C$99t,C$99e){var C$99i=C$99t[0],C$99n=C$99t[1],C$99r=C$99t[2],C$99t=C$99t[3],C$99s=C$99i*C$99i+C$99n*C$99n+C$99r*C$99r+C$99t*C$99t;0<C$99s&&(C$99s=1/Math.sqrt(C$99s),C$99e[0]=C$99i*C$99s,C$99e[1]=C$99n*C$99s,C$99e[2]=C$99r*C$99s,C$99e[3]=C$99t*C$99s);},e$C.matrix4x4MultiplyFFF=function(C$99t,C$99e,C$99i){var C$99n,C$99r,C$99s,C$99a,C$99o;if(C$99i===C$99e)for(C$99e=new Float32Array(16),C$99n=0;C$99n<16;++C$99n)C$99e[C$99n]=C$99i[C$99n];for(C$99n=0;C$99n<4;C$99n++)C$99r=C$99t[C$99n],C$99s=C$99t[C$99n+4],C$99a=C$99t[C$99n+8],C$99o=C$99t[C$99n+12],C$99i[C$99n]=C$99r*C$99e[0]+C$99s*C$99e[1]+C$99a*C$99e[2]+C$99o*C$99e[3],C$99i[C$99n+4]=C$99r*C$99e[4]+C$99s*C$99e[5]+C$99a*C$99e[6]+C$99o*C$99e[7],C$99i[C$99n+8]=C$99r*C$99e[8]+C$99s*C$99e[9]+C$99a*C$99e[10]+C$99o*C$99e[11],C$99i[C$99n+12]=C$99r*C$99e[12]+C$99s*C$99e[13]+C$99a*C$99e[14]+C$99o*C$99e[15];},e$C.matrix4x4MultiplyMFM=function(C$99t,C$99e,C$99i){e$C.matrix4x4MultiplyFFF(C$99t.elements,C$99e,C$99i.elements);},C$99s(e$C,["_typeToFunO",function(){return this._typeToFunO={INT16:"writeInt16",SHORT:"writeInt16",UINT16:"writeUint16",UINT32:"writeUint32",FLOAT32:"writeFloat32",INT:"writeInt32",UINT:"writeUint32",BYTE:"writeByte",STRING:"writeUTFString"};},"_tempVector3_0",function(){return this._tempVector3_0=new C$99I();},"_tempVector3_1",function(){return this._tempVector3_1=new C$99I();},"_tempVector3_2",function(){return this._tempVector3_2=new C$99I();},"_tempVector3_3",function(){return this._tempVector3_3=new C$99I();},"_tempVector3_4",function(){return this._tempVector3_4=new C$99I();},"_tempVector3_5",function(){return this._tempVector3_5=new C$99I();},"_tempVector3_6",function(){return this._tempVector3_6=new C$99I();},"_tempArray4_0",function(){return this._tempArray4_0=new Float32Array(4);},"_tempArray16_0",function(){return this._tempArray16_0=new Float32Array(16);},"_tempArray16_1",function(){return this._tempArray16_1=new Float32Array(16);},"_tempArray16_2",function(){return this._tempArray16_2=new Float32Array(16);},"_tempArray16_3",function(){return this._tempArray16_3=new Float32Array(16);}]),e$C),C$99ge=(C$99r(e$S,"Laya3D"),e$S._cancelLoadByUrl=function(C$99t){C$99y.loader.cancelLoadByUrl(C$99t),e$S._innerFirstLevelLoaderManager.cancelLoadByUrl(C$99t),e$S._innerSecondLevelLoaderManager.cancelLoadByUrl(C$99t),e$S._innerThirdLevelLoaderManager.cancelLoadByUrl(C$99t),e$S._innerFourthLevelLoaderManager.cancelLoadByUrl(C$99t);},e$S._changeWebGLSize=function(C$99t,C$99e){C$99R.onStageResize(C$99t,C$99e),C$99q.clientWidth=C$99t,C$99q.clientHeight=C$99e;},e$S.__init__=function(){var C$99t=C$99d.createMap;C$99t.lh=[C$99Pe,"SPRITE3DHIERARCHY"],C$99t.ls=[C$99Re,"SPRITE3DHIERARCHY"],C$99t.lm=[C$99Fe,"MESH"],C$99t.lmat=[C$99Le,"MATERIAL"],C$99t.jpg=[C$99We,"nativeimage"],C$99t.jpeg=[C$99We,"nativeimage"],C$99t.png=[C$99We,"nativeimage"],C$99t.pkm=[C$99We,"arraybuffer"],C$99t.raw=[C$99Oe,"arraybuffer"],C$99t.mipmaps=[C$99Oe,"arraybuffer"],C$99g.parserMap.SPRITE3DHIERARCHY=e$S._loadHierarchy,C$99g.parserMap.MESH=e$S._loadMesh,C$99g.parserMap.MATERIAL=e$S._loadMaterial,C$99g.parserMap.TEXTURECUBE=e$S._loadTextureCube,C$99g.parserMap.TERRAIN=e$S._loadTerrain,e$S._innerFirstLevelLoaderManager.on("error",null,e$S._eventLoadManagerError),e$S._innerSecondLevelLoaderManager.on("error",null,e$S._eventLoadManagerError),e$S._innerThirdLevelLoaderManager.on("error",null,e$S._eventLoadManagerError),e$S._innerFourthLevelLoaderManager.on("error",null,e$S._eventLoadManagerError);},e$S.READ_BLOCK=function(){return e$S._readData.pos+=4,!0;},e$S.READ_DATA=function(){return e$S._DATA.offset=e$S._readData.getUint32(),e$S._DATA.size=e$S._readData.getUint32(),!0;},e$S.READ_STRINGS=function(){var C$99t=[],C$99e={offset:0,size:0};C$99e.offset=e$S._readData.getUint16(),C$99e.size=e$S._readData.getUint16(),e$S._readData.pos,e$S._readData.pos=C$99e.offset+e$S._DATA.offset;for(var C$99i=0;C$99i<C$99e.size;C$99i++){var C$99n=e$S._readData.readUTFString();-1===C$99n.lastIndexOf(".lmat")&&-1===C$99n.lastIndexOf(".lpbr")||C$99t.push(C$99n);}return C$99t;},e$S.formatRelativePath=function(C$99t,C$99e){var C$99i;if("."===C$99e.charAt(0)){for(var C$99n=(C$99t+C$99e).split("/"),C$99r=0,C$99s=C$99n.length;C$99r<C$99s;C$99r++){var C$99a;".."!=C$99n[C$99r]||0<(C$99a=C$99r-1)&&".."!==C$99n[C$99a]&&(C$99n.splice(C$99a,2),C$99r-=2);}C$99i=C$99n.join("/");}else C$99i=C$99t+C$99e;return C$99i=null!=C$99D.customFormat?C$99D.customFormat(C$99i,null):C$99i;},e$S._eventLoadManagerError=function(C$99t){C$99y.loader.event("error",C$99t);},e$S._addHierarchyInnerUrls=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){C$99n=e$S.formatRelativePath(C$99n,C$99r);C$99i&&(C$99n+=C$99i),C$99t.push({url:C$99n,clas:C$99s}),C$99e[C$99r]=C$99n;},e$S._getSprite3DHierarchyInnerUrls=function(C$99t,C$99u,C$99c,C$99e,C$99i,C$99n,C$99r){var C$99_,C$99s=0,C$99a=0;switch(C$99t.type){case"Scene":var C$99d=C$99t.customProps.lightmaps;for(C$99s=0,C$99a=C$99d.length;C$99s<C$99a;C$99s++){var C$99f=C$99d[C$99s].replace(".exr",".png");e$S._addHierarchyInnerUrls(C$99e,C$99i,C$99n,C$99r,C$99f,C$99We);}break;case"MeshSprite3D":case"TrailSprite3D":case"LineSprite3D":case"SkinnedMeshSprite3D":if(C$99t.instanceParams)(C$99l=C$99t.instanceParams.loadPath)&&e$S._addHierarchyInnerUrls(C$99u,C$99i,C$99n,C$99r,C$99l,C$99Fe);else{(C$99l=(C$99_=C$99t.customProps).meshPath)&&e$S._addHierarchyInnerUrls(C$99u,C$99i,C$99n,C$99r,C$99l,C$99Fe);var C$99p=C$99_.materials;if(C$99p)for(C$99s=0,C$99a=C$99p.length;C$99s<C$99a;C$99s++){for(var C$99m=C$99p[C$99s],C$99g=C$99m.type.split("."),C$99o=C$99T.window,C$99h=0,C$99v=C$99g.length;C$99h<C$99v;++C$99h)C$99o=C$99o[this.clasPaths[C$99h]];if("function"!=typeof C$99o)throw"_getSprite3DHierarchyInnerUrls \u9519\u8bef: "+C$99m.type+" \u4e0d\u662f\u7c7b";e$S._addHierarchyInnerUrls(C$99c,C$99i,C$99n,C$99r,C$99m.path,C$99o);}}break;case"ShuriKenParticle3D":case"MyShuriKenParticle3D":var C$99l=(C$99_=C$99t.customProps).meshPath;C$99l&&e$S._addHierarchyInnerUrls(C$99u,C$99i,C$99n,C$99r,C$99l,C$99Fe);C$99l=C$99_.material;if(C$99l){for(C$99g=C$99l.type.split("."),C$99o=C$99T.window,C$99h=0,C$99v=C$99g.length;C$99h<C$99v;++C$99h)C$99o=C$99o[this.clasPaths[C$99h]];e$S._addHierarchyInnerUrls(C$99c,C$99i,C$99n,C$99r,C$99l.path,C$99o);}else{C$99l=C$99_.materialPath;C$99l?e$S._addHierarchyInnerUrls(C$99c,C$99i,C$99n,C$99r,C$99l,ShurikenParticleMaterial):(C$99l=C$99_.texturePath)&&e$S._addHierarchyInnerUrls(C$99e,C$99i,C$99n,C$99r,C$99l,C$99We);}break;case"Terrain":e$S._addHierarchyInnerUrls(C$99e,C$99i,C$99n,C$99r,C$99t.customProps.dataPath,TerrainRes);}var C$99$=C$99t.components;for(var C$99x in C$99$){var C$99y=C$99$[C$99x];if("Animator"===C$99x){C$99x=C$99y.avatarPath;C$99x?e$S._addHierarchyInnerUrls(C$99e,C$99i,C$99n,C$99r,C$99x,Avatar):(C$99x=C$99y.avatar)&&e$S._addHierarchyInnerUrls(C$99e,C$99i,C$99n,C$99r,C$99x.path,Avatar);var C$99b=C$99y.clipPaths;for(C$99s=0,C$99a=C$99b.length;C$99s<C$99a;C$99s++)e$S._addHierarchyInnerUrls(C$99e,C$99i,C$99n,C$99r,C$99b[C$99s],AnimationClip);}}var C$99w=C$99t.child;for(C$99s=0,C$99a=C$99w.length;C$99s<C$99a;C$99s++)e$S._getSprite3DHierarchyInnerUrls(C$99w[C$99s],C$99u,C$99c,C$99e,C$99i,C$99n,C$99r);},e$S._loadHierarchy=function(C$99t){C$99t.on("loaded",null,e$S._onHierarchylhLoaded,[C$99t,C$99t._class._getGroup()]),C$99t.load(C$99t.url,"json",!1,null,!0);},e$S._onHierarchylhLoaded=function(C$99t,C$99e,C$99i){var C$99n,C$99r,C$99s,C$99u,C$99a,C$99o,C$99h,C$99l;C$99t._class.destroyed?C$99t.endLoad():(C$99a=C$99t.url,C$99l=C$99me.getURLVerion(C$99a),C$99a=C$99D.getPath(C$99a),e$S._getSprite3DHierarchyInnerUrls(C$99i,C$99n=[],C$99r=[],C$99s=[],C$99u={},C$99l,C$99a),e$S._onProcessChange(C$99t,0,C$99o=1/(C$99a=(C$99l=C$99n.length+C$99r.length+C$99s.length)+1),1),0<C$99s.length?(C$99l=C$99b.create(null,e$S._onProcessChange,[C$99t,C$99o,C$99h=C$99l/C$99a],!1),e$S._innerFourthLevelLoaderManager.create(C$99s,C$99b.create(null,e$S._onHierarchyInnerForthLevResouLoaded,[C$99t,C$99e,C$99l,C$99i,C$99u,C$99n,C$99r,C$99o+C$99h*C$99s.length,C$99h]),C$99l,null,null,1,!0,C$99e)):e$S._onHierarchyInnerForthLevResouLoaded(C$99t,C$99e,null,C$99i,C$99u,C$99n,C$99r,C$99o,C$99h));},e$S._onHierarchyInnerForthLevResouLoaded=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){var C$99l;C$99t._class.destroyed?C$99t.endLoad():(C$99i&&C$99i.recover(),0<C$99a.length?(C$99l=C$99b.create(null,e$S._onProcessChange,[C$99t,C$99o,C$99h],!1),e$S._innerSecondLevelLoaderManager.create(C$99a,C$99b.create(null,e$S._onHierarchyInnerSecondLevResouLoaded,[C$99t,C$99e,C$99l,C$99n,C$99r,C$99s,C$99o+C$99h*C$99a.length,C$99h]),C$99i,null,null,1,!0,C$99e)):e$S._onHierarchyInnerSecondLevResouLoaded(C$99t,C$99e,null,C$99n,C$99r,C$99s,C$99o,C$99h));},e$S._onHierarchyInnerSecondLevResouLoaded=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o){C$99t._class.destroyed?C$99t.endLoad():(C$99i&&C$99i.recover(),0<C$99s.length?(C$99a=C$99b.create(null,e$S._onProcessChange,[C$99t,C$99a,C$99o],!1),e$S._innerFirstLevelLoaderManager.create(C$99s,C$99b.create(null,e$S._onHierarchyInnerFirstLevResouLoaded,[C$99t,C$99a,C$99n,C$99r]),C$99i,null,null,1,!0,C$99e)):e$S._onHierarchyInnerFirstLevResouLoaded(C$99t,null,C$99n,C$99r));},e$S._onHierarchyInnerFirstLevResouLoaded=function(C$99t,C$99e,C$99i,C$99n){C$99e&&C$99e.recover(),C$99t.endLoad([C$99i,C$99n]);},e$S._loadTerrain=function(C$99t){C$99t.on("loaded",null,e$S._onTerrainLtLoaded,[C$99t,C$99t._class._getGroup()]),C$99t.load(C$99t.url,"json",!1,null,!0);},e$S._onTerrainLtLoaded=function(C$99t,C$99u,C$99e){if(C$99t._class.destroyed)C$99t.endLoad();else{var C$99i,C$99n=C$99t.url,C$99r=C$99me.getURLVerion(C$99n),C$99c=C$99D.getPath(C$99n),C$99s=[],C$99a={},C$99o=0,C$99h=0,C$99n=C$99e.heightData;C$99l=C$99n.url,C$99i=e$S.formatRelativePath(C$99c,C$99l),C$99r&&(C$99i+=C$99r),C$99l=C$99a[C$99l]=C$99i;var C$99_=C$99e.detailTexture;for(C$99o=0,C$99h=C$99_.length;C$99o<C$99h;C$99o++)C$99s.push({url:C$99_[C$99o].diffuse});var C$99d=C$99e.normalMap;for(C$99o=0,C$99h=C$99d.length;C$99o<C$99h;C$99o++)C$99s.push({url:C$99d[C$99o]});var C$99f=C$99e.alphaMap;for(C$99o=0,C$99h=C$99f.length;C$99o<C$99h;C$99o++)C$99s.push({url:C$99f[C$99o],params:[!1,!1,6408,!0]});for(C$99o=0,C$99h=C$99s.length;C$99o<C$99h;C$99o++){var C$99p=C$99s[C$99o].url;C$99i=e$S.formatRelativePath(C$99c,C$99p),C$99r&&(C$99i+=C$99r),C$99s[C$99o].url=C$99i,C$99a[C$99p]=C$99i;}var C$99m=C$99s.length,C$99g=C$99m+2,C$99v=1/C$99g;e$S._onProcessChange(C$99t,0,C$99v,1);var C$99$={heightMapLoaded:!1,texturesLoaded:!1},C$99x=C$99b.create(null,e$S._onProcessChange,[C$99t,C$99v,C$99v],!1);e$S._innerFourthLevelLoaderManager.create(C$99l,C$99b.create(null,e$S._onTerrainHeightMapLoaded,[C$99t,C$99x,C$99e,C$99a,C$99$]),C$99x,null,[C$99n.numX,C$99n.numZ,C$99n.bitType,C$99n.value],1,!0,C$99u);var C$99l=C$99b.create(null,e$S._onProcessChange,[C$99t,2*C$99v,C$99m/C$99g],!1);e$S._innerFourthLevelLoaderManager.create(C$99s,C$99b.create(null,e$S._onTerrainTexturesLoaded,[C$99t,C$99l,C$99e,C$99a,C$99$]),C$99l,null,null,1,!0,C$99u);}},e$S._onTerrainHeightMapLoaded=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99r.heightMapLoaded=!0,C$99r.texturesLoaded&&(C$99t.endLoad([C$99i,C$99n]),C$99e.recover());},e$S._onTerrainTexturesLoaded=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99r.texturesLoaded=!0,C$99r.heightMapLoaded&&(C$99t.endLoad([C$99i,C$99n]),C$99e.recover());},e$S._loadMesh=function(C$99t){C$99t.on("loaded",null,e$S._onMeshLmLoaded,[C$99t,C$99t._class._getGroup()]),C$99t.load(C$99t.url,"arraybuffer",!1,null,!0);},e$S._onMeshLmLoaded=function(C$99t,C$99u,C$99e){if(C$99t._class.destroyed)C$99t.endLoad();else{var C$99i,C$99n,C$99r,C$99s,C$99a=C$99t.url,C$99c=C$99me.getURLVerion(C$99a),C$99_=C$99D.getPath(C$99a),C$99o={},C$99h=0;switch((e$S._readData=new C$99$(C$99e)).pos=0,e$S._readData.readUTFString()){case"LAYAMODEL:02":case"LAYAMODEL:03":case"LAYAMODEL:0301":var C$99d=e$S._readData.getUint32();e$S._readData.pos=e$S._readData.pos+4,C$99s=e$S._readData.getUint16(),e$S._readData.pos=e$S._readData.pos+8*C$99s;var C$99f=e$S._readData.getUint32();for(C$99s=e$S._readData.getUint16(),e$S._readData.pos=C$99d+C$99f,C$99i=[],C$99h=0;C$99h<C$99s;C$99h++){var C$99p=e$S._readData.readUTFString();-1!==C$99p.lastIndexOf(".lmat")&&C$99i.push(C$99p);}break;default:for(e$S.READ_BLOCK(),C$99h=0;C$99h<2;C$99h++){var C$99m=e$S._readData.getUint16(),C$99g=e$S._strings[C$99m],C$99l=e$S["READ_"+C$99g];if(null==C$99l)throw new Error("model file err,no this function:"+C$99m+" "+C$99g);1===C$99h?C$99i=C$99l.call():C$99l.call();}}for(C$99h=0,C$99r=C$99i.length;C$99h<C$99r;C$99h++){var C$99v=C$99i[C$99h];C$99n=e$S.formatRelativePath(C$99_,C$99v),C$99c&&(C$99n+=C$99c),C$99i[C$99h]=C$99n,C$99o[C$99v]=C$99n;}0<C$99i.length?(e$S._onProcessChange(C$99t,0,.5,1),C$99a=C$99b.create(null,e$S._onProcessChange,[C$99t,.5,.5],!1),e$S._innerSecondLevelLoaderManager.create(C$99i,C$99b.create(null,e$S._onMeshMateialLoaded,[C$99t,C$99a,C$99e,C$99o]),C$99a,null,null,1,!0,C$99u)):C$99t.endLoad([C$99e,C$99o]);}},e$S._onMeshMateialLoaded=function(C$99t,C$99e,C$99i,C$99n){C$99t.endLoad([C$99i,C$99n]),C$99e.recover();},e$S._getMaterialTexturePath=function(C$99t,C$99e,C$99i){var C$99n=C$99t.length-4;return C$99t.indexOf(".dds")!=C$99n&&C$99t.indexOf(".tga")!=C$99n&&C$99t.indexOf(".exr")!=C$99n&&C$99t.indexOf(".DDS")!=C$99n&&C$99t.indexOf(".TGA")!=C$99n&&C$99t.indexOf(".EXR")!=C$99n||(C$99t=C$99t.substr(0,C$99n)+".png"),C$99t=e$S.formatRelativePath(C$99i,C$99t),C$99e&&(C$99t+=C$99e),C$99t;},e$S._loadMaterial=function(C$99t){C$99t.on("loaded",null,e$S._onMaterilLmatLoaded,[C$99t,C$99t._class._getGroup()]),C$99t.load(C$99t.url,"json",!1,null,!0);},e$S._onMaterilLmatLoaded=function(C$99t,C$99u,C$99c){if(C$99t._class.destroyed)C$99t.endLoad();else{var C$99e,C$99i=C$99t.url,C$99n=C$99me.getURLVerion(C$99i),C$99r=C$99D.getPath(C$99i),C$99s=[],C$99a={},C$99i=C$99c.customProps,C$99o=C$99c.version;if(C$99o)switch(C$99o){case"LAYAMATERIAL:01":case"LAYAMATERIAL:02":for(var C$99_=C$99c.props.textures,C$99d=0,C$99f=C$99_.length;C$99d<C$99f;C$99d++){var C$99p=C$99_[C$99d],C$99h=C$99p.path;var C$99m;C$99h&&(C$99m=C$99h.length-4,C$99h.indexOf(".exr")!=C$99m&&C$99h.indexOf(".EXR")!=C$99m||(C$99h=C$99h.substr(0,C$99m)+".png"),C$99e=e$S.formatRelativePath(C$99r,C$99h),C$99n&&(C$99e+=C$99n),C$99s.push({url:C$99e,params:C$99p.params}),C$99a[C$99h]=C$99e);}break;default:throw new Error("Laya3D:unkonwn version.");}else{C$99o=C$99i.diffuseTexture.texture2D;C$99o&&(C$99e=e$S._getMaterialTexturePath(C$99o,C$99n,C$99r),C$99s.push(C$99e),C$99a[C$99o]=C$99e),C$99i.normalTexture&&(C$99l=C$99i.normalTexture.texture2D)&&(C$99e=e$S._getMaterialTexturePath(C$99l,C$99n,C$99r),C$99s.push(C$99e),C$99a[C$99l]=C$99e),!C$99i.specularTexture||(C$99o=C$99i.specularTexture.texture2D)&&(C$99e=e$S._getMaterialTexturePath(C$99o,C$99n,C$99r),C$99s.push(C$99e),C$99a[C$99o]=C$99e),!C$99i.emissiveTexture||(C$99l=C$99i.emissiveTexture.texture2D)&&(C$99e=e$S._getMaterialTexturePath(C$99l,C$99n,C$99r),C$99s.push(C$99e),C$99a[C$99l]=C$99e),!C$99i.ambientTexture||(C$99o=C$99i.ambientTexture.texture2D)&&(C$99e=e$S._getMaterialTexturePath(C$99o,C$99n,C$99r),C$99s.push(C$99e),C$99a[C$99o]=C$99e),!C$99i.reflectTexture||(C$99l=C$99i.reflectTexture.texture2D)&&(C$99e=e$S._getMaterialTexturePath(C$99l,C$99n,C$99r),C$99s.push(C$99e),C$99a[C$99l]=C$99e);}var C$99o=C$99s.length,C$99i=C$99o+1,C$99l=1/C$99i;e$S._onProcessChange(C$99t,0,C$99l,1),0<C$99o?(C$99l=C$99b.create(null,e$S._onProcessChange,[C$99t,C$99l,C$99o/C$99i],!1),e$S._innerFourthLevelLoaderManager.create(C$99s,C$99b.create(null,e$S._onMateialTexturesLoaded,[C$99t,C$99l,C$99c,C$99a]),C$99l,C$99We,null,1,!0,C$99u)):e$S._onMateialTexturesLoaded(C$99t,null,C$99c,null);}},e$S._onMateialTexturesLoaded=function(C$99t,C$99e,C$99i,C$99n){C$99t.endLoad([C$99i,C$99n]),C$99e&&C$99e.recover();},e$S._loadTextureCube=function(C$99t){C$99t.on("loaded",null,e$S._onTextureCubeLtcLoaded,[C$99t]),C$99t.load(C$99t.url,"json",!1,null,!0);},e$S._onTextureCubeLtcLoaded=function(C$99t,C$99e){var C$99i;C$99t._class.destroyed?C$99t.endLoad():(C$99i=C$99D.getPath(C$99t.url),C$99i=[e$S.formatRelativePath(C$99i,C$99e.px),e$S.formatRelativePath(C$99i,C$99e.nx),e$S.formatRelativePath(C$99i,C$99e.py),e$S.formatRelativePath(C$99i,C$99e.ny),e$S.formatRelativePath(C$99i,C$99e.pz),e$S.formatRelativePath(C$99i,C$99e.nz)],e$S._onProcessChange(C$99t,0,1/7,1),C$99e=C$99b.create(null,e$S._onProcessChange,[C$99t,1/7,6/7],!1),e$S._innerFourthLevelLoaderManager.load(C$99i,C$99b.create(null,e$S._onTextureCubeImagesLoaded,[C$99t,C$99i,C$99e]),C$99e,"nativeimage"));},e$S._onTextureCubeImagesLoaded=function(C$99t,C$99e,C$99i){var C$99n=[];C$99n.length=6;for(var C$99r=0;C$99r<6;C$99r++){var C$99s=C$99e[C$99r];C$99n[C$99r]=C$99g.getRes(C$99s),C$99g.clearRes(C$99s);}C$99t.endLoad(C$99n),C$99i.recover();},e$S._onProcessChange=function(C$99t,C$99e,C$99i,C$99n){(C$99n=C$99e+C$99n*C$99i)<1&&C$99t.event("progress",C$99n);},e$S.init=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){if(void 0===C$99i&&(C$99i=!1),void 0===C$99n&&(C$99n=!1),void 0===C$99r&&(C$99r=!0),void 0===C$99s&&(C$99s=!0),C$99w.update3DLoop=function(){},C$99w.cancelLoadByUrl=function(C$99t){e$S._cancelLoadByUrl(C$99t);},C$99c.isAntialias=C$99i,C$99c.isAlpha=C$99n,C$99c.premultipliedAlpha=C$99r,C$99c.isStencil=C$99s,!C$99R.enable())throw new Error("Laya3D\u542f\u52a8\u5931\u8d25\uff01\n\u6a21\u62df\u5668\uff1a\u8bf7\u5c1d\u8bd5\u4f7f\u7528\u300a\u96f7\u7535\u6a21\u62df\u5668\u300b\u6700\u65b0\u7248\u672c\uff01\n\u6d4f\u89c8\u5668\uff1a\u8bf7\u5c1d\u8bd5\u5173\u95ed\u6d4f\u89c8\u5668\uff0c\u786e\u4fdd\u6d4f\u89c8\u5668\u8fdb\u7a0b\u5168\u90e8\u7ed3\u675f\u540e\u518d\u8fdb\u6e38\u620f\uff01");C$99w.changeWebGLSize=e$S._changeWebGLSize,C$99m.is3DMode=!0,C$99y.init(C$99t,C$99e),C$99O.__init__(),C$99ce.__init__(),C$99Ye.__init__(),C$99L.__init__(),e$S.__init__(),C$99h.maxTextureCount=2,(e$S.debugMode||C$99Z.debugMode)&&(e$S._debugPhasorSprite=new C$99X());},e$S.HIERARCHY="SPRITE3DHIERARCHY",e$S.MESH="MESH",e$S.MATERIAL="MATERIAL",e$S.PBRMATERIAL="PBRMTL",e$S.TEXTURECUBE="TEXTURECUBE",e$S.TERRAIN="TERRAIN",e$S._readData=null,e$S._debugPhasorSprite=null,e$S.debugMode=!1,C$99s(e$S,["_DATA",function(){return this._DATA={offset:0,size:0};},"_strings",function(){return this._strings=["BLOCK","DATA","STRINGS"];},"_innerFirstLevelLoaderManager",function(){return this._innerFirstLevelLoaderManager=new C$99d();},"_innerSecondLevelLoaderManager",function(){return this._innerSecondLevelLoaderManager=new C$99d();},"_innerThirdLevelLoaderManager",function(){return this._innerThirdLevelLoaderManager=new C$99d();},"_innerFourthLevelLoaderManager",function(){return this._innerFourthLevelLoaderManager=new C$99d();}]),e$S),C$99ve=function(){function e$W(C$99t){e$W.__super.call(this),this._owner=C$99t,this._childs=[],this._localMatrix=new Float32Array(16),this._localQuaternionUpdate=!1,this._locaEulerlUpdate=!1,this._localUpdate=!1,this._worldUpdate=!0;}C$99r(e$W,"laya.d3.animation.AnimationTransform3D",C$99_);var C$99t=e$W.prototype;return C$99t._getlocalMatrix=function(){return this._localUpdate&&(C$99me._createAffineTransformationArray(this._localPosition,this._localRotation,this._localScale,this._localMatrix),this._localUpdate=!1),this._localMatrix;},C$99t._onWorldTransform=function(){if(!this._worldUpdate){this._worldUpdate=!0;for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._onWorldTransform();}},C$99t._setWorldMatrixAndUpdate=function(C$99t){if(this._worldMatrix=C$99t,null==this._parent)throw new Error("don't need to set worldMatrix to root Node.");if(null==this._parent._parent)for(var C$99e=this._getlocalMatrix(),C$99i=0;C$99i<16;++C$99i)this._worldMatrix[C$99i]=C$99e[C$99i];else C$99me.matrix4x4MultiplyFFF(this._parent.getWorldMatrix(),this._getlocalMatrix(),this._worldMatrix);this._worldUpdate=!1;},C$99t._setWorldMatrixNoUpdate=function(C$99t){this._worldMatrix=C$99t;},C$99t._setWorldMatrixIgnoreUpdate=function(C$99t){this._worldMatrix=C$99t,this._worldUpdate=!1;},C$99t.getLocalPosition=function(){return this._localPosition;},C$99t.setLocalPosition=function(C$99t){var C$99e,C$99i,C$99n;this._parent?(this._localPosition=C$99t,this._localUpdate=!0,this._onWorldTransform()):(C$99e=this._entity.owner._transform,(C$99n=(C$99i=this._entity.localPosition).elements)[0]=C$99t[0],C$99n[1]=C$99t[1],C$99n[2]=C$99t[2],C$99e.localPosition=C$99i);},C$99t.getLocalRotation=function(){var C$99t;return this._localQuaternionUpdate&&(C$99t=this._localRotationEuler,C$99me._quaternionCreateFromYawPitchRollArray(C$99t[1]/e$W._angleToRandin,C$99t[0]/e$W._angleToRandin,C$99t[2]/e$W._angleToRandin,this._localRotation),this._localQuaternionUpdate=!1),this._localRotation;},C$99t.setLocalRotation=function(C$99t){var C$99e,C$99i,C$99n;this._parent?(this._localRotation=C$99t,C$99me.quaterionNormalize(this._localRotation,this._localRotation),this._locaEulerlUpdate=!0,this._localQuaternionUpdate=!1,this._localUpdate=!0,this._onWorldTransform()):(C$99e=this._entity.owner._transform,(C$99n=(C$99i=this._entity.localRotation).elements)[0]=C$99t[0],C$99n[1]=C$99t[1],C$99n[2]=C$99t[2],C$99n[3]=C$99t[3],C$99e.localRotation=C$99i);},C$99t.getLocalScale=function(){return this._localScale;},C$99t.setLocalScale=function(C$99t){var C$99e,C$99i,C$99n;this._parent?(this._localScale=C$99t,this._localUpdate=!0,this._onWorldTransform()):(C$99e=this._entity.owner._transform,(C$99n=(C$99i=this._entity.localScale).elements)[0]=C$99t[0],C$99n[1]=C$99t[1],C$99n[2]=C$99t[2],C$99e.localScale=C$99i);},C$99t.getLocalRotationEuler=function(){var C$99t,C$99e;return this._locaEulerlUpdate&&(C$99me.getYawPitchRoll(this._localRotation,e$W._tempVector3),(C$99e=this._localRotationEuler)[0]=(C$99t=e$W._tempVector3)[1]*e$W._angleToRandin,C$99e[1]=C$99t[0]*e$W._angleToRandin,C$99e[2]=C$99t[2]*e$W._angleToRandin,this._locaEulerlUpdate=!1),this._localRotationEuler;},C$99t.setLocalRotationEuler=function(C$99t){var C$99e,C$99i,C$99n;this._parent?(C$99me._quaternionCreateFromYawPitchRollArray(C$99t[1]/e$W._angleToRandin,C$99t[0]/e$W._angleToRandin,C$99t[2]/e$W._angleToRandin,this._localRotation),this._localRotationEuler=C$99t,this._locaEulerlUpdate=!1,this._localQuaternionUpdate=!1,this._localUpdate=!0,this._onWorldTransform()):(C$99e=this._entity.owner._transform,(C$99n=(C$99i=this._entity.localRotationEuler).elements)[0]=C$99t[0],C$99n[1]=C$99t[1],C$99n[2]=C$99t[2],C$99e.localRotationEuler=C$99i);},C$99t.getWorldMatrix=function(){if(this._worldUpdate){if(null!=this._parent._parent)C$99me.matrix4x4MultiplyFFF(this._parent.getWorldMatrix(),this._getlocalMatrix(),this._worldMatrix);else for(var C$99t=this._getlocalMatrix(),C$99e=0;C$99e<16;++C$99e)this._worldMatrix[C$99e]=C$99t[C$99e];this._worldUpdate=!1;}return this._worldMatrix;},C$99t.setParent=function(C$99t){var C$99e,C$99i;this._parent!==C$99t&&(this._parent&&(C$99i=(C$99e=this._parent._childs).indexOf(this),C$99e.splice(C$99i,1)),C$99t&&(C$99t._childs.push(this),C$99t&&this._onWorldTransform()),this._parent=C$99t);},C$99s(e$W,["_tempVector3",function(){return this._tempVector3=new Float32Array(3);},"_angleToRandin",function(){return this._angleToRandin=180/Math.PI;}]),e$W;}(),C$99$e=function(){function e$t(){this._destroyed=!1,this._id=0,this._enable=!1,this._owner=null,this.started=!1,e$t.__super.call(this),this._destroyed=!1,this._id=e$t._uniqueIDCounter,e$t._uniqueIDCounter++;}C$99r(e$t,"laya.d3.component.Component3D",C$99_);var C$99t=e$t.prototype;return C$99y.imps(C$99t,{"laya.d3.core.render.IUpdate":!0,"laya.resource.IDestroy":!0}),C$99t._initialize=function(C$99t){this._owner=C$99t,this._enable=!0,this.started=!1,this._load(C$99t);},C$99t._destroy=function(){this._unload(this._owner),this._owner=null,this._destroyed=!0;},C$99t._load=function(C$99t){},C$99t._start=function(C$99t){},C$99t._update=function(C$99t){},C$99t._lateUpdate=function(C$99t){},C$99t._preRenderUpdate=function(C$99t){},C$99t._postRenderUpdate=function(C$99t){},C$99t._unload=function(C$99t){this.offAll();},C$99t._cloneTo=function(C$99t){},C$99o(0,C$99t,"id",function(){return this._id;}),C$99o(0,C$99t,"destroyed",function(){return this._destroyed;}),C$99o(0,C$99t,"owner",function(){return this._owner;}),C$99o(0,C$99t,"enable",function(){return this._enable;},function(C$99t){this._enable!==C$99t&&(this._enable=C$99t,this.event("enablechanged",this._enable));}),C$99o(0,C$99t,"isSingleton",function(){return e$t._isSingleton;}),e$t._isSingleton=!0,e$t._uniqueIDCounter=1,e$t;}(),C$99t=function(){function e$t(){this._destroyed=!1,e$t.__super.call(this),this._destroyed=!1;}C$99r(e$t,"laya.d3.core.GeometryFilter",C$99_);var C$99t=e$t.prototype;return C$99y.imps(C$99t,{"laya.resource.IDestroy":!0}),C$99t._destroy=function(){this.offAll(),this._destroyed=!0;},C$99o(0,C$99t,"_isAsyncLoaded",function(){return!0;}),C$99o(0,C$99t,"_originalBoundingBoxCorners",function(){throw new Error("BaseRender: must override it.");}),C$99o(0,C$99t,"_originalBoundingSphere",function(){throw new Error("BaseRender: must override it.");}),C$99o(0,C$99t,"_originalBoundingBox",function(){throw new Error("BaseRender: must override it.");}),C$99o(0,C$99t,"destroyed",function(){return this._destroyed;}),e$t;}(),C$99xe=function(){function e$k(C$99t){e$k.__super.call(this),this._id=++e$k._uniqueIDCounter,this._indexInSceneFrustumCullingObjects=-1,this._boundingBox=new C$99qt(new C$99I(),new C$99I()),this._boundingBoxCenter=new C$99I(),this._boundingSphere=new C$99Qt(new C$99I(),0),this._boundingSphereNeedChange=!0,this._boundingBoxNeedChange=!0,this._boundingBoxCenterNeedChange=!0,this._octreeNodeNeedChange=!0,this._materials=[],this._renderElements=[],this._isPartOfStaticBatch=!1,this._destroyed=!1,this._owner=C$99t,this._enable=!0,this._materialsInstance=[],this.lightmapIndex=-1,this.castShadow=!1,this.receiveShadow=!1,this.sortingFudge=0,this._owner.transform.on("worldmatrixneedchanged",this,this._onWorldMatNeedChange);}C$99r(e$k,"laya.d3.core.render.BaseRender",C$99_);var C$99t=e$k.prototype;return C$99y.imps(C$99t,{"laya.resource.IDestroy":!0}),C$99t._changeMaterialReference=function(C$99t,C$99e){C$99t&&C$99t._removeReference(),C$99e._addReference();},C$99t._getInstanceMaterial=function(C$99t,C$99e){var C$99i=new C$99t.constructor();return C$99t.cloneTo(C$99i),C$99i.name=C$99i.name+"(Instance)",this._materialsInstance[C$99e]=!0,this._changeMaterialReference(this._materials[C$99e],C$99i),this._materials[C$99e]=C$99i;},C$99t._setShaderValuelightMap=function(C$99t){this._setShaderValueTexture(3,C$99t);},C$99t._onWorldMatNeedChange=function(){this._boundingSphereNeedChange=!0,this._boundingBoxNeedChange=!0,this._boundingBoxCenterNeedChange=!0,this._octreeNodeNeedChange=!0;},C$99t._renderRenderableBoundBox=function(){var C$99t=C$99ge._debugPhasorSprite,C$99e=this.boundingBox,C$99i=e$k._tempBoundBoxCorners;C$99e.getCorners(C$99i),C$99t.line(C$99i[0],e$k._greenColor,C$99i[1],e$k._greenColor),C$99t.line(C$99i[2],e$k._greenColor,C$99i[3],e$k._greenColor),C$99t.line(C$99i[4],e$k._greenColor,C$99i[5],e$k._greenColor),C$99t.line(C$99i[6],e$k._greenColor,C$99i[7],e$k._greenColor),C$99t.line(C$99i[0],e$k._greenColor,C$99i[3],e$k._greenColor),C$99t.line(C$99i[1],e$k._greenColor,C$99i[2],e$k._greenColor),C$99t.line(C$99i[2],e$k._greenColor,C$99i[6],e$k._greenColor),C$99t.line(C$99i[3],e$k._greenColor,C$99i[7],e$k._greenColor),C$99t.line(C$99i[0],e$k._greenColor,C$99i[4],e$k._greenColor),C$99t.line(C$99i[1],e$k._greenColor,C$99i[5],e$k._greenColor),C$99t.line(C$99i[4],e$k._greenColor,C$99i[7],e$k._greenColor),C$99t.line(C$99i[5],e$k._greenColor,C$99i[6],e$k._greenColor);},C$99t._calculateBoundingSphere=function(){throw"BaseRender: must override it.";},C$99t._calculateBoundingBox=function(){throw"BaseRender: must override it.";},C$99t._setShaderValueTexture=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e);},C$99t._setShaderValueMatrix4x4=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e?C$99e.elements:null);},C$99t._setShaderValueColor=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e?C$99e.elements:null);},C$99t._setShaderValueBuffer=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e);},C$99t._setShaderValueInt=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e);},C$99t._setShaderValueBool=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e);},C$99t._setShaderValueNumber=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e);},C$99t._setShaderValueVector2=function(C$99t,C$99e){this._owner._shaderValues.setValue(C$99t,C$99e?C$99e.elements:null);},C$99t._addShaderDefine=function(C$99t){this._owner._shaderDefineValue|=C$99t;},C$99t._removeShaderDefine=function(C$99t){this._owner._shaderDefineValue&=~C$99t;},C$99t._renderUpdate=function(C$99t){return!0;},C$99t._applyLightMapParams=function(){var C$99t,C$99e;0<=this._lightmapIndex&&(C$99t=this._owner.scene)&&(C$99e=C$99t.getlightmaps()[this._lightmapIndex])?(this._addShaderDefine(C$99Ge.SAHDERDEFINE_LIGHTMAP),C$99e.loaded?this._setShaderValuelightMap(C$99e):C$99e.once("loaded",this,this._setShaderValuelightMap)):this._removeShaderDefine(C$99Ge.SAHDERDEFINE_LIGHTMAP);},C$99t._updateOctreeNode=function(){var C$99t=this._treeNode;C$99t&&this._octreeNodeNeedChange&&(C$99t.updateObject(this),this._octreeNodeNeedChange=!1);},C$99t._destroy=function(){this.offAll();var C$99t=0,C$99e=0;for(C$99t=0,C$99e=this._renderElements.length;C$99t<C$99e;C$99t++)this._renderElements[C$99t]._destroy();for(C$99t=0,C$99e=this._materials.length;C$99t<C$99e;C$99t++)this._materials[C$99t]._removeReference();this._renderElements=null,this._owner=null,this._materials=null,this._boundingBox=null,this._boundingBoxCenter=null,this._boundingSphere=null,this._lightmapScaleOffset=null,this._destroyed=!0;},C$99o(0,C$99t,"boundingSphere",function(){return this._boundingSphereNeedChange&&(this._calculateBoundingSphere(),this._boundingSphereNeedChange=!1),this._boundingSphere;}),C$99o(0,C$99t,"id",function(){return this._id;}),C$99o(0,C$99t,"material",function(){var C$99t=this._materials[0];return C$99t&&!this._materialsInstance[0]&&(C$99t=this._getInstanceMaterial(C$99t,0),this.event("materialchanged",[this,0,C$99t])),this._materials[0];},function(C$99t){this.sharedMaterial=C$99t;}),C$99o(0,C$99t,"sharedMaterial",function(){return this._materials[0];},function(C$99t){var C$99e=this._materials[0];C$99e!==C$99t&&(this._materials[0]=C$99t,this._materialsInstance[0]=!1,this._changeMaterialReference(C$99e,C$99t),this.event("materialchanged",[this,0,C$99t]));}),C$99o(0,C$99t,"lightmapIndex",function(){return this._lightmapIndex;},function(C$99t){this._lightmapIndex=C$99t,this._applyLightMapParams();}),C$99o(0,C$99t,"lightmapScaleOffset",function(){return this._lightmapScaleOffset;},function(C$99t){this._lightmapScaleOffset=C$99t,this._setShaderValueColor(2,C$99t),this._addShaderDefine(C$99Ge.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV);}),C$99o(0,C$99t,"enable",function(){return this._enable;},function(C$99t){this._enable=C$99t,this.event("enablechanged",[this,C$99t]);}),C$99o(0,C$99t,"materials",function(){for(var C$99t=0,C$99e=this._materials.length;C$99t<C$99e;C$99t++){var C$99i;this._materialsInstance[C$99t]||(C$99i=this._getInstanceMaterial(this._materials[C$99t],C$99t),this.event("materialchanged",[this,C$99t,C$99i]));}return this._materials.slice();},function(C$99t){this.sharedMaterials=C$99t;}),C$99o(0,C$99t,"sharedMaterials",function(){return this._materials.slice();},function(C$99t){if(!C$99t)throw new Error("MeshRender: shadredMaterials value can't be null.");var C$99e=C$99t.length;this._materialsInstance.length=C$99e;for(var C$99i=0;C$99i<C$99e;C$99i++){var C$99n=this._materials[C$99i];C$99n!==C$99t[C$99i]&&(this._materialsInstance[C$99i]=!1,this._changeMaterialReference(C$99n,C$99t[C$99i]),this.event("materialchanged",[this,C$99i,C$99t[C$99i]]));}this._materials=C$99t;}),C$99o(0,C$99t,"boundingBox",function(){return this._boundingBoxNeedChange&&(this._calculateBoundingBox(),this._boundingBoxNeedChange=!1),this._boundingBox;}),C$99o(0,C$99t,"boundingBoxCenter",function(){var C$99t;return this._boundingBoxCenterNeedChange&&(C$99t=this.boundingBox,C$99I.add(C$99t.min,C$99t.max,this._boundingBoxCenter),C$99I.scale(this._boundingBoxCenter,.5,this._boundingBoxCenter),this._boundingBoxCenterNeedChange=!1),this._boundingBoxCenter;}),C$99o(0,C$99t,"receiveShadow",function(){return this._receiveShadow;},function(C$99t){this._receiveShadow!==C$99t&&((this._receiveShadow=C$99t)?this._addShaderDefine(C$99de.SHADERDEFINE_RECEIVE_SHADOW):this._removeShaderDefine(C$99de.SHADERDEFINE_RECEIVE_SHADOW));}),C$99o(0,C$99t,"destroyed",function(){return this._destroyed;}),e$k._uniqueIDCounter=0,C$99s(e$k,["_tempBoundBoxCorners",function(){return this._tempBoundBoxCorners=[new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I()];},"_greenColor",function(){return this._greenColor=new C$99oe(0,1,0,1);}]),e$k;}(),C$99ye=function(){function e$B(C$99t){this._owner=null,this._localQuaternionUpdate=!1,this._locaEulerlUpdate=!1,this._localUpdate=!1,this._worldUpdate=!0,this._positionUpdate=!0,this._rotationUpdate=!0,this._scaleUpdate=!0,this._parent=null,this._childs=null,this._dummy=null,this.pivot=null,e$B.__super.call(this),this._localPosition=new C$99I(),this._localRotation=new C$99ne(0,0,0,1),this._localScale=new C$99I(1,1,1),this._localRotationEuler=new C$99I(),this._localMatrix=new C$99ee(),this._position=new C$99I(),this._rotation=new C$99ne(0,0,0,1),this._scale=new C$99I(1,1,1),this._worldMatrix=new C$99ee(),this._forward=new C$99I(),this._up=new C$99I(),this._right=new C$99I(),this._owner=C$99t,this._childs=[];}C$99r(e$B,"laya.d3.core.Transform3D",C$99_);var C$99t=e$B.prototype;return C$99t._updateLocalMatrix=function(){var C$99t,C$99e,C$99i,C$99n;!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?C$99ee.createAffineTransformation(this._localPosition,this.localRotation,this._localScale,this._localMatrix):(C$99I.multiply(this.pivot,this._localScale,C$99n=e$B._tempVector30),C$99I.subtract(C$99n,this.pivot,C$99t=e$B._tempVector31),C$99i=this.localRotation,C$99I.transformQuat(C$99n,C$99i,C$99e=e$B._tempVector32),C$99I.subtract(C$99e,C$99n,C$99e),C$99I.subtract(this._localPosition,C$99t,C$99n=e$B._tempVector33),C$99I.subtract(C$99n,C$99e,C$99n),C$99ee.createAffineTransformation(C$99n,C$99i,this._localScale,this._localMatrix));},C$99t._onWorldPositionRotationTransform=function(){if(!this._worldUpdate||!this._positionUpdate||!this._rotationUpdate){this._worldUpdate=this._positionUpdate=this._rotationUpdate=!0,this.event("worldmatrixneedchanged");for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._onWorldPositionRotationTransform();}},C$99t._onWorldPositionScaleTransform=function(){if(!this._worldUpdate||!this._positionUpdate||!this._scaleUpdate){this._worldUpdate=this._positionUpdate=this._scaleUpdate=!0,this.event("worldmatrixneedchanged");for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._onWorldPositionScaleTransform();}},C$99t._onWorldPositionTransform=function(){if(!this._worldUpdate||!this._positionUpdate){this._worldUpdate=this._positionUpdate=!0,this.event("worldmatrixneedchanged");for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._onWorldPositionTransform();}},C$99t._onWorldRotationTransform=function(){if(!this._worldUpdate||!this._rotationUpdate){this._worldUpdate=this._rotationUpdate=!0,this.event("worldmatrixneedchanged");for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._onWorldPositionRotationTransform();}},C$99t._onWorldScaleTransform=function(){if(!this._worldUpdate||!this._scaleUpdate){this._worldUpdate=this._scaleUpdate=!0,this.event("worldmatrixneedchanged");for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._onWorldPositionScaleTransform();}},C$99t._onWorldTransform=function(){if(!(this._worldUpdate&&this._positionUpdate&&this._rotationUpdate&&this._scaleUpdate)){this._worldUpdate=this._positionUpdate=this._rotationUpdate=this._scaleUpdate=!0,this.event("worldmatrixneedchanged");for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._onWorldTransform();}},C$99t.translate=function(C$99t,C$99e){(C$99e=void 0===C$99e?!0:C$99e)?(C$99ee.createFromQuaternion(this.localRotation,e$B._tempMatrix0),C$99I.transformCoordinate(C$99t,e$B._tempMatrix0,e$B._tempVector30),C$99I.add(this.localPosition,e$B._tempVector30,this._localPosition),this.localPosition=this._localPosition):(C$99I.add(this.position,C$99t,this._position),this.position=this._position);},C$99t.rotate=function(C$99t,C$99e,C$99i){void 0===C$99e&&(C$99e=!0),C$99i=(C$99i=void 0===C$99i?!0:C$99i)?C$99t:(C$99I.scale(C$99t,Math.PI/180,e$B._tempVector30),e$B._tempVector30),C$99ne.createFromYawPitchRoll(C$99i.y,C$99i.x,C$99i.z,e$B._tempQuaternion0),C$99e?(C$99ne.multiply(this._localRotation,e$B._tempQuaternion0,this._localRotation),this.localRotation=this._localRotation):(C$99ne.multiply(e$B._tempQuaternion0,this.rotation,this._rotation),this.rotation=this._rotation);},C$99t.lookAt=function(C$99t,C$99e,C$99i){var C$99n,C$99r=C$99t.elements;(C$99i=void 0===C$99i?!1:C$99i)?(C$99n=this._localPosition.elements,Math.abs(C$99n[0]-C$99r[0])<C$99Jt.zeroTolerance&&Math.abs(C$99n[1]-C$99r[1])<C$99Jt.zeroTolerance&&Math.abs(C$99n[2]-C$99r[2])<C$99Jt.zeroTolerance||(C$99ne.lookAt(this._localPosition,C$99t,C$99e,this._localRotation),this._localRotation.invert(this._localRotation),this.localRotation=this._localRotation)):(C$99n=(C$99i=this.position).elements,Math.abs(C$99n[0]-C$99r[0])<C$99Jt.zeroTolerance&&Math.abs(C$99n[1]-C$99r[1])<C$99Jt.zeroTolerance&&Math.abs(C$99n[2]-C$99r[2])<C$99Jt.zeroTolerance||(C$99ne.lookAt(C$99i,C$99t,C$99e,this._rotation),this._rotation.invert(this._rotation),this.rotation=this._rotation));},C$99o(0,C$99t,"_isFrontFaceInvert",function(){var C$99t=this.scale,C$99e=C$99t.x<0;return C$99t.y<0&&(C$99e=!C$99e),C$99e=C$99t.z<0?!C$99e:C$99e;}),C$99o(0,C$99t,"owner",function(){return this._owner;}),C$99o(0,C$99t,"localRotation",function(){var C$99t;return this._localQuaternionUpdate&&(C$99t=this._localRotationEuler.elements,C$99ne.createFromYawPitchRoll(C$99t[1]/e$B._angleToRandin,C$99t[0]/e$B._angleToRandin,C$99t[2]/e$B._angleToRandin,this._localRotation)),this._localRotation;},function(C$99t){this._localRotation=C$99t,this._localRotation.normalize(this._localRotation),this._locaEulerlUpdate=!0,this._localQuaternionUpdate=!1,this._localUpdate=!0,!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?this._onWorldRotationTransform():this._onWorldPositionRotationTransform();}),C$99o(0,C$99t,"worldMatrix",function(){return this._worldUpdate&&(null!=this._parent?C$99ee.multiply(this._parent.worldMatrix,this.localMatrix,this._worldMatrix):this.localMatrix.cloneTo(this._worldMatrix),this._worldUpdate=!1),this._worldMatrix;},function(C$99t){null===this._parent?C$99t.cloneTo(this._localMatrix):(this._parent.worldMatrix.invert(this._localMatrix),C$99ee.multiply(this._localMatrix,C$99t,this._localMatrix)),this.localMatrix=this._localMatrix,this._worldMatrix=C$99t,this._worldUpdate=!1;}),C$99o(0,C$99t,"worldNeedUpdate",function(){return this._worldUpdate;}),C$99o(0,C$99t,"localMatrix",function(){return this._localUpdate&&(this._updateLocalMatrix(),this._localUpdate=!1),this._localMatrix;},function(C$99t){this._localMatrix=C$99t,this._localMatrix.decomposeTransRotScale(this._localPosition,this._localRotation,this._localScale),this._localUpdate=!1,this._onWorldTransform();}),C$99o(0,C$99t,"dummy",function(){return this._dummy;},function(C$99t){this._dummy!==C$99t&&(this._dummy&&(this._dummy._entity=null),C$99t&&(C$99t._entity=this),this._dummy=C$99t);}),C$99o(0,C$99t,"localPosition",function(){return this._localPosition;},function(C$99t){this._localPosition=C$99t,this._localUpdate=!0,this._onWorldPositionTransform();}),C$99o(0,C$99t,"position",function(){var C$99t;return this._positionUpdate&&(null!=this._parent?(C$99t=this._parent.position,C$99I.multiply(this._localPosition,this._parent.scale,e$B._tempVector30),C$99I.transformQuat(e$B._tempVector30,this._parent.rotation,e$B._tempVector30),C$99I.add(C$99t,e$B._tempVector30,this._position)):this._localPosition.cloneTo(this._position),this._positionUpdate=!1),this._position;},function(C$99t){var C$99e,C$99i,C$99n,C$99r,C$99s;null!=this._parent?(C$99I.subtract(C$99t,this._parent.position,this._localPosition),C$99e=(C$99n=this._parent.scale.elements)[0],C$99i=C$99n[1],C$99n=C$99n[2],1===C$99e&&1===C$99i&&1===C$99n||((C$99s=(C$99r=e$B._tempVector30).elements)[0]=1/C$99e,C$99s[1]=1/C$99i,C$99s[2]=1/C$99n,C$99I.multiply(this._localPosition,C$99r,this._localPosition)),this._parent.rotation.invert(e$B._tempQuaternion0),C$99I.transformQuat(this._localPosition,e$B._tempQuaternion0,this._localPosition)):C$99t.cloneTo(this._localPosition),this.localPosition=this._localPosition,this._position=C$99t,this._positionUpdate=!1;}),C$99o(0,C$99t,"localScale",function(){return this._localScale;},function(C$99t){this._localScale=C$99t,this._localUpdate=!0,!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?this._onWorldScaleTransform():this._onWorldPositionScaleTransform();}),C$99o(0,C$99t,"localRotationEuler",function(){var C$99t,C$99e;return this._locaEulerlUpdate&&(this._localRotation.getYawPitchRoll(e$B._tempVector30),C$99t=e$B._tempVector30.elements,(C$99e=this._localRotationEuler.elements)[0]=C$99t[1]*e$B._angleToRandin,C$99e[1]=C$99t[0]*e$B._angleToRandin,C$99e[2]=C$99t[2]*e$B._angleToRandin),this._localRotationEuler;},function(C$99t){this._localRotationEuler=C$99t,this._locaEulerlUpdate=!1,this._localQuaternionUpdate=!0,this._localUpdate=!0,!this.pivot||0===this.pivot.x&&0===this.pivot.y&&0===this.pivot.z?this._onWorldRotationTransform():this._onWorldPositionRotationTransform();}),C$99o(0,C$99t,"rotation",function(){return this._rotationUpdate&&(null!=this._parent?C$99ne.multiply(this._parent.rotation,this.localRotation,this._rotation):this.localRotation.cloneTo(this._rotation),this._rotationUpdate=!1),this._rotation;},function(C$99t){null!=this._parent?(this._parent.rotation.invert(e$B._tempQuaternion0),C$99ne.multiply(C$99t,e$B._tempQuaternion0,this._localRotation)):C$99t.cloneTo(this._localRotation),this.localRotation=this._localRotation,this._rotation=C$99t,this._rotationUpdate=!1;}),C$99o(0,C$99t,"scale",function(){return this._scaleUpdate&&(null!==this._parent?C$99I.multiply(this._parent.scale,this._localScale,this._scale):this._localScale.cloneTo(this._scale),this._scaleUpdate=!1),this._scale;},function(C$99t){var C$99e,C$99i;null!==this._parent?(C$99e=this._parent.scale.elements,(C$99i=e$B._tempVector30.elements)[0]=1/C$99e[0],C$99i[1]=1/C$99e[1],C$99i[2]=1/C$99e[2],C$99I.multiply(C$99t,e$B._tempVector30,this._localScale)):C$99t.cloneTo(this._localScale),this.localScale=this._localScale,this._scale=C$99t,this._scaleUpdate=!1;}),C$99o(0,C$99t,"rotationEuler",null,function(C$99t){C$99ne.createFromYawPitchRoll(C$99t.y,C$99t.x,C$99t.z,this._rotation),this.rotation=this._rotation;}),C$99o(0,C$99t,"forward",function(){var C$99t=this.worldMatrix.elements;return this._forward.elements[0]=-C$99t[8],this._forward.elements[1]=-C$99t[9],this._forward.elements[2]=-C$99t[10],this._forward;}),C$99o(0,C$99t,"up",function(){var C$99t=this.worldMatrix.elements;return this._up.elements[0]=C$99t[4],this._up.elements[1]=C$99t[5],this._up.elements[2]=C$99t[6],this._up;}),C$99o(0,C$99t,"right",function(){var C$99t=this.worldMatrix.elements;return this._right.elements[0]=C$99t[0],this._right.elements[1]=C$99t[1],this._right.elements[2]=C$99t[2],this._right;}),C$99o(0,C$99t,"parent",function(){return this._parent;},function(C$99t){var C$99e,C$99i;this._parent!==C$99t&&(this._parent&&(C$99i=(C$99e=this._parent._childs).indexOf(this),C$99e.splice(C$99i,1)),C$99t&&(C$99t._childs.push(this),C$99t&&this._onWorldTransform()),this._parent=C$99t);}),C$99s(e$B,["_tempVector30",function(){return this._tempVector30=new C$99I();},"_tempVector31",function(){return this._tempVector31=new C$99I();},"_tempVector32",function(){return this._tempVector32=new C$99I();},"_tempVector33",function(){return this._tempVector33=new C$99I();},"_tempQuaternion0",function(){return this._tempQuaternion0=new C$99ne();},"_tempMatrix0",function(){return this._tempMatrix0=new C$99ee();},"_angleToRandin",function(){return this._angleToRandin=180/Math.PI;}]),e$B;}(),C$99be=(function(){function e$t(){this._rotation=0,this._matNeedUpdte=!1,e$t.__super.call(this),this._matrix=new C$99ee(),this._offset=new C$99ae(),this._tiling=new C$99ae(1,1);}C$99r(e$t,"laya.d3.core.TransformUV",C$99_);var C$99t=e$t.prototype;C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t._updateMatrix=function(){e$t._tempOffsetV3.elements[0]=this._offset.x,e$t._tempOffsetV3.elements[1]=this._offset.y,C$99ne.createFromYawPitchRoll(0,0,this._rotation,e$t._tempRotationQua),e$t._tempTitlingV3.elements[0]=this._tiling.x,e$t._tempTitlingV3.elements[1]=this._tiling.y,C$99ee.createAffineTransformation(e$t._tempOffsetV3,e$t._tempRotationQua,e$t._tempTitlingV3,this._matrix);},C$99t.cloneTo=function(C$99t){C$99t._matrix=this._matrix.clone(),C$99t._offset=this._offset.clone(),C$99t._rotation=this._rotation,C$99t._tiling=this._tiling.clone();},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99o(0,C$99t,"matrix",function(){return this._matNeedUpdte&&(this._updateMatrix(),this._matNeedUpdte=!1),this._matrix;}),C$99o(0,C$99t,"tiling",function(){return this._tiling;},function(C$99t){this._tiling=C$99t,this._matNeedUpdte=!0;}),C$99o(0,C$99t,"offset",function(){return this._offset;},function(C$99t){this._offset=C$99t,this._matNeedUpdte=!0;}),C$99o(0,C$99t,"rotation",function(){return this._rotation;},function(C$99t){this._rotation=C$99t,this._matNeedUpdte=!0;}),C$99s(e$t,["_tempOffsetV3",function(){return this._tempOffsetV3=new C$99I(0,0,0);},"_tempRotationQua",function(){return this._tempRotationQua=new C$99ne();},"_tempTitlingV3",function(){return this._tempTitlingV3=new C$99I(1,1,1);}]);}(),function(C$99e){function e$d(){this.x=NaN,this.y=NaN,this.z=NaN,e$d.__super.call(this),this.x=1,this.y=1,this.z=1,this.randomDirection=!1;}C$99r(e$d,"laya.d3.core.particleShuriKen.module.shape.BoxShape",C$99e);var C$99t=e$d.prototype;C$99t._getShapeBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=.5*-this.x,C$99e[1]=.5*-this.y,C$99e[2]=.5*-this.z;C$99e=C$99t.max.elements;C$99e[0]=.5*this.x,C$99e[1]=.5*this.y,C$99e[2]=.5*this.z;},C$99t._getSpeedBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=0,C$99e[1]=0,C$99e[2]=0;C$99e=C$99t.max.elements;C$99e[0]=0,C$99e[1]=1,C$99e[2]=0;},C$99t.generatePositionAndDirection=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.elements,C$99s=C$99e.elements;C$99i?(C$99i.seed=C$99n[16],C$99z._randomPointInsideHalfUnitBox(C$99t,C$99i),C$99n[16]=C$99i.seed):C$99z._randomPointInsideHalfUnitBox(C$99t),C$99r[0]=this.x*C$99r[0],C$99r[1]=this.y*C$99r[1],C$99r[2]=this.z*C$99r[2],this.randomDirection?C$99i?(C$99i.seed=C$99n[17],C$99z._randomPointUnitSphere(C$99e,C$99i),C$99n[17]=C$99i.seed):C$99z._randomPointUnitSphere(C$99e):(C$99s[0]=0,C$99s[1]=0,C$99s[2]=1);},C$99t.cloneTo=function(C$99t){C$99e.prototype.cloneTo.call(this,C$99t);C$99t.x=this.x,C$99t.y=this.y,C$99t.z=this.z,C$99t.randomDirection=this.randomDirection;};}(C$99G),function(C$99e){function e$A(){this.radius=NaN,this.arc=NaN,this.emitFromEdge=!1,e$A.__super.call(this),this.radius=1,this.arc=2*Math.PI,this.emitFromEdge=!1,this.randomDirection=!1;}C$99r(e$A,"laya.d3.core.particleShuriKen.module.shape.CircleShape",C$99e);var C$99t=e$A.prototype;C$99t._getShapeBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=C$99e[2]=-this.radius,C$99e[1]=0;C$99e=C$99t.max.elements;C$99e[0]=C$99e[2]=this.radius,C$99e[1]=0;},C$99t._getSpeedBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=C$99e[1]=-1,C$99e[2]=0;C$99e=C$99t.max.elements;C$99e[0]=C$99e[1]=1,C$99e[2]=0;},C$99t.generatePositionAndDirection=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.elements,C$99s=e$A._tempPositionPoint.elements;C$99i?(C$99i.seed=C$99n[16],this.emitFromEdge?C$99z._randomPointUnitArcCircle(this.arc,e$A._tempPositionPoint,C$99i):C$99z._randomPointInsideUnitArcCircle(this.arc,e$A._tempPositionPoint,C$99i),C$99n[16]=C$99i.seed):this.emitFromEdge?C$99z._randomPointUnitArcCircle(this.arc,e$A._tempPositionPoint):C$99z._randomPointInsideUnitArcCircle(this.arc,e$A._tempPositionPoint),C$99r[0]=-C$99s[0],C$99r[1]=C$99s[1],C$99r[2]=0,C$99I.scale(C$99t,this.radius,C$99t),this.randomDirection?C$99i?(C$99i.seed=C$99n[17],C$99z._randomPointUnitSphere(C$99e,C$99i),C$99n[17]=C$99i.seed):C$99z._randomPointUnitSphere(C$99e):C$99t.cloneTo(C$99e);},C$99t.cloneTo=function(C$99t){C$99e.prototype.cloneTo.call(this,C$99t);C$99t.radius=this.radius,C$99t.arc=this.arc,C$99t.emitFromEdge=this.emitFromEdge,C$99t.randomDirection=this.randomDirection;},C$99s(e$A,["_tempPositionPoint",function(){return this._tempPositionPoint=new C$99ae();}]);}(C$99G),C$99r(e$J,"laya.d3.core.particleShuriKen.module.shape.ConeShape",C$99Xe=C$99G),(C$99je=e$J.prototype)._getShapeBoundBox=function(C$99t){var C$99e=this.radius+this.length*Math.sin(this.angle),C$99i=this.length*Math.cos(this.angle),C$99n=C$99t.min.elements;C$99n[0]=C$99n[1]=-C$99e,C$99n[2]=0;C$99n=C$99t.max.elements;C$99n[0]=C$99n[1]=C$99e,C$99n[2]=C$99i;},C$99je._getSpeedBoundBox=function(C$99t){var C$99e=Math.sin(this.angle),C$99i=C$99t.min.elements;C$99i[0]=C$99i[1]=-C$99e,C$99i[2]=0;C$99t=C$99t.max.elements;C$99t[0]=C$99i[1]=C$99e,C$99t[2]=1;},C$99je.generatePositionAndDirection=function(C$99u,C$99t,C$99e,C$99i){var C$99n,C$99r=C$99u.elements,C$99s=C$99t.elements,C$99a=e$J._tempPositionPoint.elements,C$99o=NaN,C$99h=NaN,C$99c=Math.cos(this.angle),C$99l=Math.sin(this.angle);switch(this.emitType){case 0:C$99e?(C$99e.seed=C$99i[16],C$99z._randomPointInsideUnitCircle(e$J._tempPositionPoint,C$99e),C$99i[16]=C$99e.seed):C$99z._randomPointInsideUnitCircle(e$J._tempPositionPoint),C$99o=C$99a[0],C$99h=C$99a[1],C$99r[0]=C$99o*this.radius,C$99r[1]=C$99h*this.radius,C$99r[2]=0,this.randomDirection?(C$99e?(C$99e.seed=C$99i[17],C$99z._randomPointInsideUnitCircle(e$J._tempDirectionPoint,C$99e),C$99i[17]=C$99e.seed):C$99z._randomPointInsideUnitCircle(e$J._tempDirectionPoint),C$99n=e$J._tempDirectionPoint.elements,C$99s[0]=C$99n[0]*C$99l,C$99s[1]=C$99n[1]*C$99l):(C$99s[0]=C$99o*C$99l,C$99s[1]=C$99h*C$99l),C$99s[2]=C$99c;break;case 1:C$99e?(C$99e.seed=C$99i[16],C$99z._randomPointUnitCircle(e$J._tempPositionPoint,C$99e),C$99i[16]=C$99e.seed):C$99z._randomPointUnitCircle(e$J._tempPositionPoint),C$99o=C$99a[0],C$99h=C$99a[1],C$99r[0]=C$99o*this.radius,C$99r[1]=C$99h*this.radius,C$99r[2]=0,this.randomDirection?(C$99e?(C$99e.seed=C$99i[17],C$99z._randomPointInsideUnitCircle(e$J._tempDirectionPoint,C$99e),C$99i[17]=C$99e.seed):C$99z._randomPointInsideUnitCircle(e$J._tempDirectionPoint),C$99n=e$J._tempDirectionPoint.elements,C$99s[0]=C$99n[0]*C$99l,C$99s[1]=C$99n[1]*C$99l):(C$99s[0]=C$99o*C$99l,C$99s[1]=C$99h*C$99l),C$99s[2]=C$99c;break;case 2:C$99e?(C$99e.seed=C$99i[16],C$99z._randomPointInsideUnitCircle(e$J._tempPositionPoint,C$99e)):C$99z._randomPointInsideUnitCircle(e$J._tempPositionPoint),C$99o=C$99a[0],C$99h=C$99a[1],C$99r[0]=C$99o*this.radius,C$99r[1]=C$99h*this.radius,C$99s[C$99r[2]=0]=C$99o*C$99l,C$99s[1]=C$99h*C$99l,C$99s[2]=C$99c,C$99I.normalize(C$99t,C$99t),C$99e?(C$99I.scale(C$99t,this.length*C$99e.getFloat(),C$99t),C$99i[16]=C$99e.seed):C$99I.scale(C$99t,this.length*Math.random(),C$99t),C$99I.add(C$99u,C$99t,C$99u),this.randomDirection&&(C$99e?(C$99e.seed=C$99i[17],C$99z._randomPointUnitSphere(C$99t,C$99e),C$99i[17]=C$99e.seed):C$99z._randomPointUnitSphere(C$99t));break;case 3:C$99e?(C$99e.seed=C$99i[16],C$99z._randomPointUnitCircle(e$J._tempPositionPoint,C$99e)):C$99z._randomPointUnitCircle(e$J._tempPositionPoint),C$99o=C$99a[0],C$99h=C$99a[1],C$99r[0]=C$99o*this.radius,C$99r[1]=C$99h*this.radius,C$99s[C$99r[2]=0]=C$99o*C$99l,C$99s[1]=C$99h*C$99l,C$99s[2]=C$99c,C$99I.normalize(C$99t,C$99t),C$99e?(C$99I.scale(C$99t,this.length*C$99e.getFloat(),C$99t),C$99i[16]=C$99e.seed):C$99I.scale(C$99t,this.length*Math.random(),C$99t),C$99I.add(C$99u,C$99t,C$99u),this.randomDirection&&(C$99e?(C$99e.seed=C$99i[17],C$99z._randomPointUnitSphere(C$99t,C$99e),C$99i[17]=C$99e.seed):C$99z._randomPointUnitSphere(C$99t));break;default:throw new Error("ConeShape:emitType is invalid.");}},C$99je.cloneTo=function(C$99t){C$99Xe.prototype.cloneTo.call(this,C$99t);C$99t.angle=this.angle,C$99t.radius=this.radius,C$99t.length=this.length,C$99t.emitType=this.emitType,C$99t.randomDirection=this.randomDirection;},C$99s(e$J,["_tempPositionPoint",function(){return this._tempPositionPoint=new C$99ae();},"_tempDirectionPoint",function(){return this._tempDirectionPoint=new C$99ae();}]),function(C$99e){function e$d(){this.radius=NaN,this.emitFromShell=!1,e$d.__super.call(this),this.radius=1,this.emitFromShell=!1,this.randomDirection=!1;}C$99r(e$d,"laya.d3.core.particleShuriKen.module.shape.HemisphereShape",C$99e);var C$99t=e$d.prototype;C$99t._getShapeBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=C$99e[1]=C$99e[2]=-this.radius;C$99e=C$99t.max.elements;C$99e[0]=C$99e[1]=this.radius,C$99e[2]=0;},C$99t._getSpeedBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=C$99e[1]=-1,C$99e[2]=0;C$99e=C$99t.max.elements;C$99e[0]=C$99e[1]=C$99e[2]=1;},C$99t.generatePositionAndDirection=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.elements;C$99i?(C$99i.seed=C$99n[16],this.emitFromShell?C$99z._randomPointUnitSphere(C$99t,C$99i):C$99z._randomPointInsideUnitSphere(C$99t,C$99i),C$99n[16]=C$99i.seed):this.emitFromShell?C$99z._randomPointUnitSphere(C$99t):C$99z._randomPointInsideUnitSphere(C$99t),C$99I.scale(C$99t,this.radius,C$99t);var C$99s=C$99r[2];C$99s<0&&(C$99r[2]=-1*C$99s),this.randomDirection?C$99i?(C$99i.seed=C$99n[17],C$99z._randomPointUnitSphere(C$99e,C$99i),C$99n[17]=C$99i.seed):C$99z._randomPointUnitSphere(C$99e):C$99t.cloneTo(C$99e);},C$99t.cloneTo=function(C$99t){C$99e.prototype.cloneTo.call(this,C$99t);C$99t.radius=this.radius,C$99t.emitFromShell=this.emitFromShell,C$99t.randomDirection=this.randomDirection;};}(C$99G),function(C$99e){function e$d(){this.radius=NaN,this.emitFromShell=!1,e$d.__super.call(this),this.radius=1,this.emitFromShell=!1,this.randomDirection=!1;}C$99r(e$d,"laya.d3.core.particleShuriKen.module.shape.SphereShape",C$99e);var C$99t=e$d.prototype;C$99t._getShapeBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=C$99e[1]=C$99e[2]=-this.radius;C$99e=C$99t.max.elements;C$99e[0]=C$99e[1]=C$99e[2]=this.radius;},C$99t._getSpeedBoundBox=function(C$99t){var C$99e=C$99t.min.elements;C$99e[0]=C$99e[1]=C$99e[2]=-1;C$99e=C$99t.max.elements;C$99e[0]=C$99e[1]=C$99e[2]=1;},C$99t.generatePositionAndDirection=function(C$99t,C$99e,C$99i,C$99n){C$99i?(C$99i.seed=C$99n[16],this.emitFromShell?C$99z._randomPointUnitSphere(C$99t,C$99i):C$99z._randomPointInsideUnitSphere(C$99t,C$99i),C$99n[16]=C$99i.seed):this.emitFromShell?C$99z._randomPointUnitSphere(C$99t):C$99z._randomPointInsideUnitSphere(C$99t),C$99I.scale(C$99t,this.radius,C$99t),this.randomDirection?C$99i?(C$99i.seed=C$99n[17],C$99z._randomPointUnitSphere(C$99e,C$99i),C$99n[17]=C$99i.seed):C$99z._randomPointUnitSphere(C$99e):C$99t.cloneTo(C$99e);},C$99t.cloneTo=function(C$99t){C$99e.prototype.cloneTo.call(this,C$99t);C$99t.radius=this.radius,C$99t.emitFromShell=this.emitFromShell,C$99t.randomDirection=this.randomDirection;};}(C$99G),function(){function e$t(){this._batchIndexStart=0,this._batchIndexEnd=0,this._skinAnimationDatas=null,e$t.__super.call(this);}return C$99r(e$t,"laya.d3.core.render.SubMeshRenderElement",C$99j),e$t;}()),C$99we=(C$99r(e$D,"laya.d3.shader.ShaderCompile3D",C$99S),(C$99je=e$D.prototype)._definesToNameDic=function(C$99t,C$99e){for(var C$99i={},C$99n=1,C$99r=0;C$99r<32&&!(C$99t<(C$99n=1<<C$99r));C$99r++){var C$99s;C$99t&C$99n&&(C$99s=C$99e[C$99n])&&(C$99i[C$99s]="");}return C$99i;},C$99je.withCompile=function(C$99t,C$99e,C$99i,C$99u){var C$99n,C$99r;if(C$99a=this.sharders[C$99t]){if(C$99r=C$99a[C$99e]){if(C$99n=C$99r[C$99i])return C$99n;}else C$99r=C$99a[C$99e]=[];}else C$99r=(C$99a=this.sharders[C$99t]=[])[C$99e]=[];var C$99s,C$99a=this._definesToNameDic(C$99t,e$D._globalInt2name),C$99o=this._definesToNameDic(C$99e,this._spriteInt2name),C$99c=this._definesToNameDic(C$99i,this._materialInt2name),C$99h={},C$99l="";if(C$99a)for(C$99s in C$99a)C$99l+="#define "+C$99s+"\n",C$99h[C$99s]=!0;if(C$99o)for(C$99s in C$99o)C$99l+="#define "+C$99s+"\n",C$99h[C$99s]=!0;if(C$99c)for(C$99s in C$99c)C$99l+="#define "+C$99s+"\n",C$99h[C$99s]=!0;C$99a=C$99Be.nameKey.getName(this._name)+" compile ("+C$99t+","+C$99e+","+C$99i+")",C$99o=this._VS.toscript(C$99h,[]),C$99c=this._PS.toscript(C$99h,[]);return C$99T.now(),C$99n=C$99Be.create(C$99l+C$99o.join("\n"),C$99l+C$99c.join("\n"),this._attributeMap,this._sceneUniformMap,this._cameraUniformMap,this._spriteUniformMap,this._materialUniformMap,this._renderElementUniformMap,C$99u,C$99a),C$99r[C$99i]=C$99n,laya.d3.shader.ShaderCompile3D.debugMode&&C$99T.now(),C$99n;},C$99je.precompileShaderWithShaderDefine=function(C$99t,C$99e,C$99i){this.withCompile(C$99t,C$99e,C$99i,!0);},C$99je.addMaterialDefines=function(C$99t){var C$99e=C$99t.defines;for(var C$99i in C$99e){var C$99n=C$99e[C$99i],C$99i=parseInt(C$99i);this._materialInt2name[C$99i]=C$99n,this._materialName2Int[C$99n]=C$99i;}},C$99je.addSpriteDefines=function(C$99t){var C$99e=C$99t.defines;for(var C$99i in C$99e){var C$99n=C$99e[C$99i],C$99i=parseInt(C$99i);this._spriteInt2name[C$99i]=C$99n,this._spriteName2Int[C$99n]=C$99i;}},C$99je.getMaterialDefineByName=function(C$99t){return this._materialName2Int[C$99t];},C$99je.registerMaterialDefine=function(C$99t){var C$99e=Math.pow(2,this._materialDefineCounter++);return this._materialInt2name[C$99e]=C$99t,this._materialName2Int[C$99t]=C$99e;},C$99je.registerSpriteDefine=function(C$99t){var C$99e=Math.pow(2,this._spriteDefineCounter++);return this._spriteInt2name[C$99e]=C$99t,this._spriteName2Int[C$99t]=C$99e;},e$D._globalRegDefine=function(C$99t,C$99e){e$D._globalInt2name[C$99e]=C$99t;},e$D.add=function(C$99t,C$99e,C$99i,C$99n,C$99r){return laya.d3.shader.ShaderCompile3D._preCompileShader[C$99t]=new e$D(C$99t,C$99e,C$99i,C$99n,C$99r,C$99S.includes);},e$D.get=function(C$99t){return laya.d3.shader.ShaderCompile3D._preCompileShader[C$99Be.nameKey.getID(C$99t)];},e$D._preCompileShader={},e$D._globalInt2name=[],e$D.debugMode=!1,e$D.SHADERDEFINE_HIGHPRECISION=1,e$D.SHADERDEFINE_FOG=4,e$D.SHADERDEFINE_DIRECTIONLIGHT=8,e$D.SHADERDEFINE_POINTLIGHT=16,e$D.SHADERDEFINE_SPOTLIGHT=32,e$D.SHADERDEFINE_UV0=64,e$D.SHADERDEFINE_COLOR=128,e$D.SHADERDEFINE_UV1=256,e$D.SAHDERDEFINE_DEPTHFOG=131072,e$D),C$99Te=(C$99r(e$Y,"laya.d3.graphics.MeshSprite3DStaticBatchManager",C$99st),(C$99G=e$Y.prototype)._getStaticBatch=function(C$99t,C$99e,C$99i,C$99n){var C$99r;return C$99n=C$99t?C$99t.id.toString()+C$99i.id.toString()+C$99e.id.toString()+C$99n.toString():C$99i.id.toString()+C$99e.id.toString()+C$99n.toString(),this._staticBatches[C$99n]?C$99r=this._staticBatches[C$99n]:this._staticBatches[C$99n]=C$99r=new C$99Se(C$99n,this,C$99t,C$99e,C$99i),C$99r;},C$99G._initStaticBatchs=function(C$99u){var C$99t,C$99e;this._initBatchRenderElements.sort(e$Y._sortPrepareStaticBatch);for(var C$99i,C$99n=!1,C$99r=0,C$99s=0,C$99c=this._initBatchRenderElements.length;C$99s<C$99c;C$99s++){var C$99a,C$99o=this._initBatchRenderElements[C$99s],C$99h=C$99o.renderObj._getVertexBuffer(0);var C$99l,C$99_,C$99d;C$99o._sprite3D,C$99e===C$99h.vertexDeclaration&&C$99t===C$99o._material?C$99n?C$99i._addCombineBatchRenderObjTest(C$99o)?(C$99a=C$99o._staticBatch)!==C$99i&&(C$99a&&C$99a._deleteCombineBatchRenderObj(C$99o),C$99i._addCombineBatchRenderObj(C$99o)):(C$99n=!1,C$99r++):(C$99_=(C$99l=this._initBatchRenderElements[C$99s-1]).renderObj,C$99d=C$99o.renderObj,C$99n=!(65535<C$99_._getVertexBuffer().vertexCount+C$99d._getVertexBuffer().vertexCount||(C$99i=this._getStaticBatch(C$99u,C$99e,C$99t,C$99r),(C$99a=C$99l._staticBatch)!==C$99i&&(C$99a&&C$99a._deleteCombineBatchRenderObj(C$99l),C$99i._addCombineBatchRenderObj(C$99l)),(C$99a=C$99o._staticBatch)!==C$99i&&(C$99a&&C$99a._deleteCombineBatchRenderObj(C$99o),C$99i._addCombineBatchRenderObj(C$99o)),0))):(C$99n=!1,C$99r=0),C$99t=C$99o._material,C$99e=C$99h.vertexDeclaration;}},e$Y._sortPrepareStaticBatch=function(C$99t,C$99e){var C$99i=C$99t._render,C$99n=C$99e._render,C$99r=C$99i.lightmapIndex-C$99n.lightmapIndex;if(0!=C$99r)return C$99r;C$99r=C$99i.receiveShadow-C$99n.receiveShadow;if(0!=C$99r)return C$99r;C$99i=C$99t._mainSortID-C$99e._mainSortID;return 0==C$99i?C$99t.renderObj.triangleCount-C$99e.renderObj.triangleCount:C$99i;},e$Y),C$99Se=function(){function e$i(C$99t,C$99e,C$99i,C$99n,C$99r){this._batchOwnerIndices=null,this._batchOwners=null,this._needFinishCombine=!1,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._vertexDeclaration=null,this._vertexBuffer=null,this._indexBuffer=null,e$i.__super.call(this,C$99t,C$99e,C$99i),this._batchOwnerIndices=[],this._batchOwners=[],this._needFinishCombine=!1,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._vertexDeclaration=C$99n,this._material=C$99r;}C$99r(e$i,"laya.d3.graphics.SubMeshStaticBatch",C$99at);var C$99t=e$i.prototype;return C$99t._compareBatchRenderElement=function(C$99t,C$99e){return C$99t._batchIndexStart>C$99e._batchIndexStart;},C$99t._addCombineBatchRenderObjTest=function(C$99t){var C$99e=C$99t.renderObj._vertexCount;return!(65535<(0<C$99e?this._currentCombineVertexCount+C$99e:this._currentCombineVertexCount+C$99t.renderObj._getVertexBuffer().vertexCount));},C$99t._addCombineBatchRenderObj=function(C$99t){var C$99e=C$99t.renderObj,C$99i=C$99e._vertexCount;this._initBatchRenderElements.push(C$99t),C$99t._staticBatch=this,0<C$99i?(this._currentCombineIndexCount+=C$99e._indexCount,this._currentCombineVertexCount+=C$99i):(this._currentCombineIndexCount=this._currentCombineIndexCount+C$99e._getIndexBuffer().indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount+C$99e._getVertexBuffer().vertexCount),this._needFinishCombine=!0;},C$99t._deleteCombineBatchRenderObj=function(C$99t){var C$99e=C$99t.renderObj,C$99i=this._initBatchRenderElements.indexOf(C$99t);-1!==C$99i&&(this._initBatchRenderElements.splice(C$99i,1),C$99t._staticBatch=null,0<(C$99i=C$99e._vertexCount)?(this._currentCombineIndexCount=this._currentCombineIndexCount-C$99e._indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount-C$99i):(this._currentCombineIndexCount=this._currentCombineIndexCount-C$99e._getIndexBuffer().indexCount,this._currentCombineVertexCount=this._currentCombineVertexCount-C$99e._getVertexBuffer().vertexCount),this._needFinishCombine=!0);},C$99t._finishInit=function(){if(this._needFinishCombine){var C$99t=0,C$99e=0;(0<=this._initBatchRenderElements[0]._sprite3D._render.lightmapIndex||this._material instanceof laya.d3.core.material.StandardMaterial&&this._material.ambientTexture)&&(this._vertexDeclaration=this._getVertexDecLightMap(this._vertexDeclaration));var C$99u=new Float32Array(this._vertexDeclaration.vertexStride/4*this._currentCombineVertexCount),C$99i=new Uint16Array(this._currentCombineIndexCount);this._vertexBuffer&&(this._vertexBuffer.destroy(),this._indexBuffer.destroy()),this._vertexBuffer=C$99ke.create(this._vertexDeclaration,this._currentCombineVertexCount,35044),this._indexBuffer=C$99Ne.create("ushort",this._currentCombineIndexCount,35044);for(var C$99n=0,C$99c=this._initBatchRenderElements.length;C$99n<C$99c;C$99n++){var C$99r=this._initBatchRenderElements[C$99n],C$99s=C$99r.renderObj,C$99_=C$99s._getStaticBatchBakedVertexs(this._rootOwner?this._rootOwner._transform:null,C$99r._sprite3D),C$99a=C$99s.getIndices(),C$99d=C$99r._sprite3D.transform._isFrontFaceInvert,C$99o=C$99t/(this._vertexDeclaration.vertexStride/4)-C$99s._vertexStart,C$99s=C$99e,C$99h=C$99s+C$99a.length;C$99r._batchIndexStart=C$99s,C$99r._batchIndexEnd=C$99h,C$99i.set(C$99a,C$99e);var C$99l=0;if(C$99d)for(C$99l=C$99s;C$99l<C$99h;C$99l+=3){C$99i[C$99l]=C$99o+C$99i[C$99l];var C$99f=C$99i[C$99l+1],C$99p=C$99i[C$99l+2];C$99i[C$99l+1]=C$99o+C$99p,C$99i[C$99l+2]=C$99o+C$99f;}else for(C$99l=C$99s;C$99l<C$99h;C$99l+=3)C$99i[C$99l]=C$99o+C$99i[C$99l],C$99i[C$99l+1]=C$99o+C$99i[C$99l+1],C$99i[C$99l+2]=C$99o+C$99i[C$99l+2];C$99e+=C$99a.length,C$99u.set(C$99_,C$99t),C$99t+=C$99_.length;}this._vertexBuffer.setData(C$99u),this._indexBuffer.setData(C$99i),this._needFinishCombine=!1;}},C$99t._getCombineRenderElementFromPool=function(){return this._combineRenderElementPool[this._combineRenderElementPoolIndex++]||(this._combineRenderElementPool[this._combineRenderElementPoolIndex-1]=new C$99be());},C$99t._getRenderElement=function(C$99u,C$99c,C$99_){for(var C$99t,C$99d=this._batchRenderElements.length,C$99e=!0,C$99i=0;C$99i<C$99d;C$99i++){var C$99n,C$99r=(C$99t=this._batchRenderElements[C$99i])._sprite3D._render;var C$99s,C$99a,C$99o,C$99h,C$99l;(C$99e=0!==C$99i?(C$99s=(C$99a=this._batchRenderElements[C$99i-1])._sprite3D._render).lightmapIndex!==C$99r.lightmapIndex||C$99s.receiveShadow!==C$99r.receiveShadow||C$99a._batchIndexEnd!==C$99t._batchIndexStart:C$99e)?((C$99n=this._getCombineRenderElementFromPool()).renderObj=this,C$99n._material=this._material,C$99n._batchIndexStart=C$99t._batchIndexStart,C$99n._batchIndexEnd=C$99t._batchIndexEnd,C$99s=C$99r.lightmapIndex,void 0===(C$99l=(C$99o=(C$99o=this._batchOwnerIndices[C$99a=C$99s+1])||(this._batchOwnerIndices[C$99a]=[]))[C$99t._render.receiveShadow?1:0])?(C$99o[C$99r.receiveShadow?1:0]=this._batchOwners.length,(C$99h=new C$99Ye(null,"StaticBatchMeshSprite3D"))._scene=C$99c,C$99h._transform=this._rootOwner?this._rootOwner._transform:null,C$99h._render.lightmapIndex=C$99s,C$99h._render.receiveShadow=C$99t._render.receiveShadow,this._batchOwners.push(C$99h)):C$99h=this._batchOwners[C$99l],C$99h._render._renderUpdate(C$99_),C$99n._sprite3D=C$99h,C$99u.push(C$99n)):C$99n._batchIndexEnd=C$99t._batchIndexEnd;}},C$99t._beforeRender=function(C$99t){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0;},C$99t._render=function(C$99t){var C$99t=C$99t.renderElement,C$99e=C$99t._batchIndexStart,C$99t=C$99t._batchIndexEnd-C$99e;C$99R.mainContext.drawElements(4,C$99t,5123,2*C$99e),C$99C.drawCall++,C$99C.trianglesFaces+=C$99t/3;},C$99t.dispose=function(){this._batchOwnerIndices=null,this._batchOwners=null,this._vertexDeclaration=null,this._vertexBuffer.destroy(),this._indexBuffer.destroy();},C$99t._getVertexBuffer=function(C$99t){return void 0===C$99t&&(C$99t=0),this._vertexBuffer;},e$i;}(),C$99Me=function(){function e$t(){this._componentsMap=null,this._typeComponentsIndices=null,this._components=null,this._scripts=null,e$t.__super.call(this),this._componentsMap=[],this._typeComponentsIndices=[],this._components=[],this._scripts=[];}C$99r(e$t,"laya.d3.core.ComponentNode",C$99f);var C$99t=e$t.prototype;return C$99t.addComponent=function(C$99t){var C$99e,C$99i=this._componentsMap.indexOf(C$99t);if(-1===C$99i)C$99e=[],this._componentsMap.push(C$99t),this._typeComponentsIndices.push(C$99e);else if(C$99e=this._typeComponentsIndices[C$99i],this._components[C$99e[0]].isSingleton)throw new Error("\u65e0\u6cd5\u5355\u5b9e\u4f8b\u521b\u5efa"+C$99t+"\u7ec4\u4ef6\uff0c"+C$99t+"\u7ec4\u4ef6\u5df2\u5b58\u5728\uff01");C$99i=C$99u.getInstance(C$99t);return C$99e.push(this._components.length),this._components.push(C$99i),C$99i instanceof laya.d3.component.Script&&this._scripts.push(C$99i),C$99i._initialize(this),C$99i;},C$99t._removeComponent=function(C$99t,C$99e){var C$99i=this._typeComponentsIndices[C$99t],C$99n=C$99i[C$99e],C$99r=this._components[C$99n];this._components.splice(C$99n,1),C$99r instanceof laya.d3.component.Script&&this._scripts.splice(this._scripts.indexOf(C$99r),1),C$99i.splice(C$99e,1),0===C$99i.length&&(this._typeComponentsIndices.splice(C$99t,1),this._componentsMap.splice(C$99t,1));for(var C$99s=0,C$99a=this._componentsMap.length;C$99s<C$99a;C$99s++)for(var C$99o=(C$99i=this._typeComponentsIndices[C$99s]).length-1;0<=C$99o;C$99o--){var C$99h=C$99i[C$99o];if(!(C$99n<C$99h))break;C$99i[C$99o]=--C$99h;}C$99r._destroy();},C$99t.getComponentByType=function(C$99t,C$99e){void 0===C$99e&&(C$99e=0);C$99t=this._componentsMap.indexOf(C$99t);return-1===C$99t?null:this._components[this._typeComponentsIndices[C$99t][C$99e]];},C$99t.getComponentsByType=function(C$99t,C$99e){C$99t=this._componentsMap.indexOf(C$99t);if(-1!==C$99t){var C$99i=this._typeComponentsIndices[C$99t],C$99n=C$99i.length;C$99e.length=C$99n;for(var C$99r=0;C$99r<C$99n;C$99r++)C$99e[C$99r]=this._components[C$99i[C$99r]];}else C$99e.length=0;},C$99t.getComponentByIndex=function(C$99t){return this._components[C$99t];},C$99t.removeComponentByType=function(C$99t,C$99e){void 0===C$99e&&(C$99e=0);C$99t=this._componentsMap.indexOf(C$99t);-1!==C$99t&&this._removeComponent(C$99t,C$99e);},C$99t.removeComponentsByType=function(C$99t){var C$99e=this._componentsMap.indexOf(C$99t);if(-1!==C$99e)for(var C$99i=this._typeComponentsIndices[C$99e],C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99i.length<C$99r?C$99r--:C$99n++)this._removeComponent(C$99e,C$99n);},C$99t.removeAllComponent=function(){for(var C$99t=0,C$99e=this._componentsMap.length;C$99t<C$99e;this._componentsMap.length<C$99e?C$99e--:C$99t++)this.removeComponentsByType(this._componentsMap[C$99t]);},C$99t._updateComponents=function(C$99t){for(var C$99e=0,C$99i=this._components.length;C$99e<C$99i;C$99e++){var C$99n=this._components[C$99e];C$99n.started||(C$99n._start(C$99t),C$99n.started=!0),C$99n.enable&&C$99n._update(C$99t);}},C$99t._lateUpdateComponents=function(C$99t){for(var C$99e=0;C$99e<this._components.length;C$99e++){var C$99i=this._components[C$99e];C$99i.started||(C$99i._start(C$99t),C$99i.started=!0),C$99i.enable&&C$99i._lateUpdate(C$99t);}},C$99t._preRenderUpdateComponents=function(C$99t){for(var C$99e=0;C$99e<this._components.length;C$99e++){var C$99i=this._components[C$99e];C$99i.started||(C$99i._start(C$99t),C$99i.started=!0),C$99i.enable&&C$99i._preRenderUpdate(C$99t);}},C$99t._postRenderUpdateComponents=function(C$99t){for(var C$99e=0;C$99e<this._components.length;C$99e++){var C$99i=this._components[C$99e];C$99i.started||(C$99i._start(C$99t),C$99i.started=!0),C$99i.enable&&C$99i._postRenderUpdate(C$99t);}},e$t;}(),C$99Ce=function(C$99n){function e$d(){e$d.__super.call(this),this._shaderDefineValue=0,this._disablePublicShaderDefine=0,this._shaderValues=new C$99_e(),this._values=[],this.renderQueue=2e3,this._alphaTest=!1,this.cull=2,this.blend=0,this.srcBlend=1,this.dstBlend=0,this.srcBlendRGB=1,this.dstBlendRGB=0,this.srcBlendAlpha=1,this.dstBlendAlpha=0,this.blendConstColor=new C$99oe(1,1,1,1),this.blendEquation=0,this.blendEquationRGB=0,this.blendEquationAlpha=0,this.depthTest=513,this.depthWrite=!0;}C$99r(e$d,"laya.d3.core.material.BaseMaterial",C$99n);var C$99t=e$d.prototype;return C$99y.imps(C$99t,{"laya.d3.core.IClone":!0}),C$99t._addShaderDefine=function(C$99t){this._shaderDefineValue|=C$99t;},C$99t._removeShaderDefine=function(C$99t){this._shaderDefineValue&=~C$99t;},C$99t._addDisablePublicShaderDefine=function(C$99t){this._disablePublicShaderDefine|=C$99t;},C$99t._removeDisablePublicShaderDefine=function(C$99t){this._disablePublicShaderDefine&=~C$99t;},C$99t._setBuffer=function(C$99t,C$99e){this._shaderValues.setValue(C$99t,C$99e),this._values[C$99t]=C$99e;},C$99t._getBuffer=function(C$99t){return this._values[C$99t];},C$99t._setMatrix4x4=function(C$99t,C$99e){this._shaderValues.setValue(C$99t,C$99e?C$99e.elements:null),this._values[C$99t]=C$99e;},C$99t._getMatrix4x4=function(C$99t){return this._values[C$99t];},C$99t._setInt=function(C$99t,C$99e){this._shaderValues.setValue(C$99t,C$99e),this._values[C$99t]=C$99e;},C$99t._getInt=function(C$99t){return this._values[C$99t];},C$99t._setNumber=function(C$99t,C$99e){this._shaderValues.setValue(C$99t,C$99e),this._values[C$99t]=C$99e;},C$99t._getNumber=function(C$99t){return this._values[C$99t];},C$99t._setBool=function(C$99t,C$99e){this._shaderValues.setValue(C$99t,C$99e),this._values[C$99t]=C$99e;},C$99t._getBool=function(C$99t){return this._values[C$99t];},C$99t._setVector2=function(C$99t,C$99e){this._shaderValues.setValue(C$99t,C$99e?C$99e.elements:null),this._values[C$99t]=C$99e;},C$99t._getVector2=function(C$99t){return this._values[C$99t];},C$99t._setColor=function(C$99t,C$99e){this._shaderValues.setValue(C$99t,C$99e?C$99e.elements:null),this._values[C$99t]=C$99e;},C$99t._getColor=function(C$99t){return this._values[C$99t];},C$99t._setTexture=function(C$99t,C$99e){var C$99i=this._values[C$99t];this._values[C$99t]=C$99e,this._shaderValues.setValue(C$99t,C$99e),0<this.referenceCount&&(C$99i&&C$99i._removeReference(),C$99e&&C$99e._addReference());},C$99t._getTexture=function(C$99t){return this._values[C$99t];},C$99t._upload=function(){this._shader.uploadMaterialUniforms(this._shaderValues.data);},C$99t._getShader=function(C$99t,C$99e,C$99i){C$99t=(C$99t|C$99e)&~this._disablePublicShaderDefine;return this._shader=this._shaderCompile.withCompile(C$99t,C$99i,this._shaderDefineValue),this._shader;},C$99t._setRenderStateBlendDepth=function(){var C$99t=C$99R.mainContext;switch(C$99P.setDepthMask(C$99t,this.depthWrite),0===this.depthTest?C$99P.setDepthTest(C$99t,!1):(C$99P.setDepthTest(C$99t,!0),C$99P.setDepthFunc(C$99t,this.depthTest)),this.blend){case 0:C$99P.setBlend(C$99t,!1);break;case 1:C$99P.setBlend(C$99t,!0),C$99P.setBlendFunc(C$99t,this.srcBlend,this.dstBlend);break;case 2:C$99P.setBlend(C$99t,!0);}},C$99t._setRenderStateFrontFace=function(C$99t,C$99e){var C$99i=C$99R.mainContext,C$99n=0;switch(this.cull){case 0:C$99P.setCullFace(C$99i,!1);break;case 1:C$99P.setCullFace(C$99i,!0),C$99n=C$99t?C$99e&&C$99e._isFrontFaceInvert?2305:2304:C$99e&&C$99e._isFrontFaceInvert?2304:2305,C$99P.setFrontFace(C$99i,C$99n);break;case 2:C$99P.setCullFace(C$99i,!0),C$99n=C$99t?C$99e&&C$99e._isFrontFaceInvert?2304:2305:C$99e&&C$99e._isFrontFaceInvert?2305:2304,C$99P.setFrontFace(C$99i,C$99n);}},C$99t.onAsynLoaded=function(C$99u,C$99c,C$99_){var C$99d=C$99c[0],C$99f=C$99c[1];switch(C$99d.version){case"LAYAMATERIAL:01":var C$99t=0,C$99e=0,C$99i=C$99d.props;for(var C$99n in C$99i)switch(C$99n){case"vectors":var C$99r=C$99i[C$99n];for(C$99t=0,C$99e=C$99r.length;C$99t<C$99e;C$99t++){var C$99s=C$99r[C$99t],C$99a=C$99s.value;switch(C$99a.length){case 2:this[C$99s.name]=new C$99ae(C$99a[0],C$99a[1]);break;case 3:this[C$99s.name]=new C$99I(C$99a[0],C$99a[1],C$99a[2]);break;case 4:this[C$99s.name]=new C$99oe(C$99a[0],C$99a[1],C$99a[2],C$99a[3]);break;default:throw new Error("BaseMaterial:unkonwn color length.");}}break;case"textures":var C$99o=C$99i[C$99n];for(C$99t=0,C$99e=C$99o.length;C$99t<C$99e;C$99t++){var C$99h=C$99o[C$99t],C$99l=C$99h.path;C$99l&&(this[C$99h.name]=C$99g.getRes(C$99f[C$99l]));}break;case"defines":var C$99p=C$99i[C$99n];for(C$99t=0,C$99e=C$99p.length;C$99t<C$99e;C$99t++){var C$99m=this._shaderCompile.getMaterialDefineByName(C$99p[C$99t]);this._addShaderDefine(C$99m);}break;case"cull":case"blend":case"srcBlend":case"dstBlend":case"depthWrite":this[C$99n]=C$99i[C$99n];break;case"renderQueue":switch(C$99i[C$99n]){case 1:this.renderQueue=2e3;break;case 2:this.renderQueue=3e3;}break;default:this[C$99n]=C$99i[C$99n];}break;case"LAYAMATERIAL:02":for(C$99n in C$99i=C$99d.props)switch(C$99n){case"vectors":for(C$99t=0,C$99e=(C$99r=C$99i[C$99n]).length;C$99t<C$99e;C$99t++)switch((C$99a=(C$99s=C$99r[C$99t]).value).length){case 2:this[C$99s.name]=new C$99ae(C$99a[0],C$99a[1]);break;case 3:this[C$99s.name]=new C$99I(C$99a[0],C$99a[1],C$99a[2]);break;case 4:this[C$99s.name]=new C$99oe(C$99a[0],C$99a[1],C$99a[2],C$99a[3]);break;default:throw new Error("BaseMaterial:unkonwn color length.");}break;case"textures":for(C$99t=0,C$99e=(C$99o=C$99i[C$99n]).length;C$99t<C$99e;C$99t++)(C$99l=(C$99h=C$99o[C$99t]).path)&&(this[C$99h.name]=C$99g.getRes(C$99f[C$99l]));break;case"defines":for(C$99t=0,C$99e=(C$99p=C$99i[C$99n]).length;C$99t<C$99e;C$99t++)C$99m=this._shaderCompile.getMaterialDefineByName(C$99p[C$99t]),this._addShaderDefine(C$99m);break;default:this[C$99n]=C$99i[C$99n];}break;default:throw new Error("BaseMaterial:unkonwn version.");}this._endLoaded();},C$99t._addReference=function(){C$99n.prototype._addReference.call(this);for(var C$99t=0,C$99e=this._values.length;C$99t<C$99e;C$99t++){var C$99i=this._values[C$99t];C$99i&&C$99i instanceof laya.d3.resource.BaseTexture&&C$99i._addReference();}},C$99t._removeReference=function(){C$99n.prototype._removeReference.call(this);for(var C$99t=0,C$99e=this._values.length;C$99t<C$99e;C$99t++){var C$99i=this._values[C$99t];C$99i&&C$99i instanceof laya.d3.resource.BaseTexture&&C$99i._removeReference();}},C$99t.disposeResource=function(){this.blendConstColor=null,this._shader=null,this._shaderValues=null,this._values=null;},C$99t.setShaderName=function(C$99t){C$99t=C$99Be.nameKey.getID(C$99t);if(-1===C$99t)throw new Error("BaseMaterial: unknown shader name.");this._shaderCompile=C$99we._preCompileShader[C$99t];},C$99t.cloneTo=function(C$99t){C$99t.name=this.name,C$99t.cull=this.cull,C$99t.blend=this.blend,C$99t.srcBlend=this.srcBlend,C$99t.dstBlend=this.dstBlend,C$99t.srcBlendRGB=this.srcBlendRGB,C$99t.dstBlendRGB=this.dstBlendRGB,C$99t.srcBlendAlpha=this.srcBlendAlpha,C$99t.dstBlendAlpha=this.dstBlendAlpha,this.blendConstColor.cloneTo(C$99t.blendConstColor),C$99t.blendEquation=this.blendEquation,C$99t.blendEquationRGB=this.blendEquationRGB,C$99t.blendEquationAlpha=this.blendEquationAlpha,C$99t.depthTest=this.depthTest,C$99t.depthWrite=this.depthWrite,C$99t.renderQueue=this.renderQueue,C$99t._shader=this._shader,C$99t._disablePublicShaderDefine=this._disablePublicShaderDefine,C$99t._shaderDefineValue=this._shaderDefineValue;var C$99e,C$99i=0,C$99n=C$99t._shaderValues;C$99t._shaderValues.data.length=this._shaderValues.data.length;var C$99r=this._values.length,C$99s=C$99t._values;for(C$99i=0,C$99e=C$99s.length=C$99r;C$99i<C$99e;C$99i++){var C$99a=this._values[C$99i];var C$99o,C$99h;C$99a&&("number"==typeof C$99a||"boolean"==typeof C$99a?(C$99s[C$99i]=C$99a,C$99n.data[C$99i]=C$99a):C$99a instanceof laya.d3.math.Vector2?(C$99o=C$99s[C$99i]||(C$99s[C$99i]=new C$99ae()),C$99a.cloneTo(C$99o),C$99n.data[C$99i]=C$99o.elements):C$99a instanceof laya.d3.math.Vector3?(C$99o=C$99s[C$99i]||(C$99s[C$99i]=new C$99I()),C$99a.cloneTo(C$99o),C$99n.data[C$99i]=C$99o.elements):C$99a instanceof laya.d3.math.Vector4?(C$99h=C$99s[C$99i]||(C$99s[C$99i]=new C$99oe()),C$99a.cloneTo(C$99h),C$99n.data[C$99i]=C$99h.elements):C$99a instanceof laya.d3.math.Matrix4x4?(C$99h=C$99s[C$99i]||(C$99s[C$99i]=new C$99ee()),C$99a.cloneTo(C$99h),C$99n.data[C$99i]=C$99h.elements):C$99a instanceof laya.d3.resource.BaseTexture&&(C$99s[C$99i]=C$99a,C$99n.data[C$99i]=C$99a));}},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99o(0,C$99t,"alphaTestValue",function(){return this._getNumber(0);},function(C$99t){this._setNumber(0,C$99t);}),C$99o(0,C$99t,"alphaTest",function(){return this._alphaTest;},function(C$99t){(this._alphaTest=C$99t)?this._addShaderDefine(laya.d3.core.material.BaseMaterial.SHADERDEFINE_ALPHATEST):this._removeShaderDefine(laya.d3.core.material.BaseMaterial.SHADERDEFINE_ALPHATEST);}),e$d.__init__=function(){e$d.SHADERDEFINE_ALPHATEST=e$d.shaderDefines.registerDefine("ALPHATEST");},e$d.RENDERQUEUE_OPAQUE=2e3,e$d.RENDERQUEUE_ALPHATEST=2450,e$d.RENDERQUEUE_TRANSPARENT=3e3,e$d.CULL_NONE=0,e$d.CULL_FRONT=1,e$d.CULL_BACK=2,e$d.BLEND_DISABLE=0,e$d.BLEND_ENABLE_ALL=1,e$d.BLEND_ENABLE_SEPERATE=2,e$d.BLENDPARAM_ZERO=0,e$d.BLENDPARAM_ONE=1,e$d.BLENDPARAM_SRC_COLOR=768,e$d.BLENDPARAM_ONE_MINUS_SRC_COLOR=769,e$d.BLENDPARAM_DST_COLOR=774,e$d.BLENDPARAM_ONE_MINUS_DST_COLOR=775,e$d.BLENDPARAM_SRC_ALPHA=770,e$d.BLENDPARAM_ONE_MINUS_SRC_ALPHA=771,e$d.BLENDPARAM_DST_ALPHA=772,e$d.BLENDPARAM_ONE_MINUS_DST_ALPHA=773,e$d.BLENDPARAM_SRC_ALPHA_SATURATE=776,e$d.BLENDEQUATION_ADD=0,e$d.BLENDEQUATION_SUBTRACT=1,e$d.BLENDEQUATION_REVERSE_SUBTRACT=2,e$d.DEPTHTEST_OFF=0,e$d.DEPTHTEST_NEVER=512,e$d.DEPTHTEST_LESS=513,e$d.DEPTHTEST_EQUAL=514,e$d.DEPTHTEST_LEQUAL=515,e$d.DEPTHTEST_GREATER=516,e$d.DEPTHTEST_NOTEQUAL=517,e$d.DEPTHTEST_GEQUAL=518,e$d.DEPTHTEST_ALWAYS=519,e$d.SHADERDEFINE_ALPHATEST=1,e$d.ALPHATESTVALUE=0,C$99s(e$d,["shaderDefines",function(){return this.shaderDefines=new C$99ue();}]),e$d;}(C$99x),C$99Ae=function(){function e$t(){this._type=0,this._width=0,this._height=0,this._size=null,this._repeat=!1,this._mipmap=!1,this._minFifter=0,this._magFifter=0,this._format=0,this._source=null,this._conchTexture=null,this._wrapModeU=0,this._wrapModeV=0,e$t.__super.call(this),this._repeat=!0,this.mipmap=!0,this.minFifter=-1,this.magFifter=-1;}C$99r(e$t,"laya.d3.resource.BaseTexture",C$99x);var C$99t=e$t.prototype;return C$99o(0,C$99t,"width",function(){return this._width;}),C$99o(0,C$99t,"repeat",function(){return this._repeat;},function(C$99t){this._repeat!==C$99t&&(this._repeat=C$99t,this._source)&&(C$99t=C$99R.mainContext,C$99P.bindTexture(C$99t,this._type,this._source),C$99p.isPOT(this._width,this._height)&&this._repeat?(C$99t.texParameteri(this._type,10242,10497),C$99t.texParameteri(this._type,10243,10497)):(C$99t.texParameteri(this._type,10242,33071),C$99t.texParameteri(this._type,10243,33071)));}),C$99o(0,C$99t,"height",function(){return this._height;}),C$99o(0,C$99t,"magFifter",function(){return this._magFifter;},function(C$99t){(this._magFifter=C$99t)!=this._magFifter&&this._conchTexture&&this._conchTexture.setMaxFifter(C$99t);}),C$99o(0,C$99t,"wrapModeV",function(){return this._wrapModeV;}),C$99o(0,C$99t,"size",function(){return this._size;}),C$99o(0,C$99t,"wrapModeU",function(){return this._wrapModeU;}),C$99o(0,C$99t,"mipmap",function(){return this._mipmap;},function(C$99t){this._mipmap=C$99t,this._mipmap!=C$99t&&this._conchTexture&&this._conchTexture.setMipMap(C$99t);}),C$99o(0,C$99t,"minFifter",function(){return this._minFifter;},function(C$99t){this._minFifter=C$99t,this._minFifter!=C$99t&&this._conchTexture&&this._conchTexture.setMinFifter(C$99t);}),C$99o(0,C$99t,"format",function(){return this._format;}),C$99o(0,C$99t,"source",function(){return this.activeResource(),this._source;}),C$99o(0,C$99t,"defaulteTexture",function(){return C$99Ue.grayTexture;}),e$t.WARPMODE_REPEAT=0,e$t.WARPMODE_CLAMP=1,e$t;}(),C$99Ie=function(){function e$t(){this._subMeshCount=0,this._boundingBox=null,this._boundingSphere=null,this._boundingBoxCorners=null,this._positions=null,e$t.__super.call(this),this._boundingBoxCorners=C$99i(8,null);}C$99r(e$t,"laya.d3.resource.models.BaseMesh",C$99x);var C$99t=e$t.prototype;return C$99t._getPositions=function(){throw new Error("\u672aOverride,\u8bf7\u91cd\u8f7d\u8be5\u5c5e\u6027\uff01");},C$99t._generateBoundingObject=function(){this._boundingSphere=new C$99Qt(new C$99I(),0),C$99Qt.createfromPoints(this._positions,this._boundingSphere),this._boundingBox=new C$99qt(new C$99I(),new C$99I()),C$99qt.createfromPoints(this._positions,this._boundingBox),this._boundingBox.getCorners(this._boundingBoxCorners);},C$99t.getRenderElementsCount=function(){throw new Error("\u672aOverride,\u8bf7\u91cd\u8f7d\u8be5\u5c5e\u6027\uff01");},C$99t.getRenderElement=function(C$99t){throw new Error("\u672aOverride,\u8bf7\u91cd\u8f7d\u8be5\u5c5e\u6027\uff01");},C$99o(0,C$99t,"subMeshCount",function(){return this._subMeshCount;}),C$99o(0,C$99t,"boundingBox",function(){return this._boundingBox;}),C$99o(0,C$99t,"boundingBoxCorners",function(){return this._boundingBoxCorners;}),C$99o(0,C$99t,"boundingSphere",function(){return this._boundingSphere;}),e$t;}(),C$99De=(function(){function e$t(){e$t.__super.call(this);}C$99r(e$t,"laya.d3.component.Script",C$99$e);var C$99t=e$t.prototype;C$99t.onTriggerEnter=function(C$99t){},C$99t.onTriggerExit=function(C$99t){},C$99t.onTriggerStay=function(C$99t){},C$99o(0,C$99t,"isSingleton",function(){return e$t._isSingleton;}),e$t._isSingleton=!1;}(),function(C$99t){function e$t(C$99t){this._owner=null,this._sharedMesh=null,e$t.__super.call(this),this._owner=C$99t;}C$99r(e$t,"laya.d3.core.MeshFilter",C$99t);var C$99e=e$t.prototype;return C$99e._sharedMeshLoaded=function(){this.event("loaded");},C$99e._destroy=function(){C$99t.prototype._destroy.call(this),this._owner=null,this._sharedMesh&&(this._sharedMesh._removeReference(),this._sharedMesh=null);},C$99o(0,C$99e,"sharedMesh",function(){return this._sharedMesh;},function(C$99t){var C$99e=this._sharedMesh;C$99e&&C$99e._removeReference(),(this._sharedMesh=C$99t)._addReference(),this.event("meshchanged",[this,C$99e,C$99t]),C$99t.loaded||this._sharedMesh.once("loaded",this,this._sharedMeshLoaded);}),C$99o(0,C$99e,"_isAsyncLoaded",function(){return this._sharedMesh.loaded;}),C$99o(0,C$99e,"_originalBoundingBoxCorners",function(){return this._sharedMesh.boundingBoxCorners;}),C$99o(0,C$99e,"_originalBoundingSphere",function(){return this._sharedMesh.boundingSphere;}),C$99o(0,C$99e,"_originalBoundingBox",function(){return this._sharedMesh.boundingBox;}),e$t;}(C$99t)),C$99Ee=function(){function e$t(C$99t){e$t.__super.call(this,C$99t),C$99t.meshFilter.on("meshchanged",this,this._onMeshChanged);}C$99r(e$t,"laya.d3.core.MeshRender",C$99xe);var C$99t=e$t.prototype;return C$99t._onMeshChanged=function(C$99t,C$99e,C$99i){C$99i.loaded?this._boundingSphereNeedChange=this._boundingBoxNeedChange=this._boundingBoxCenterNeedChange=this._octreeNodeNeedChange=!0:C$99i.once("loaded",this,this._onMeshLoaed);},C$99t._onMeshLoaed=function(C$99t,C$99e){this._boundingSphereNeedChange=this._boundingBoxNeedChange=this._boundingBoxCenterNeedChange=this._octreeNodeNeedChange=!0;},C$99t._calculateBoundingSphereByInitSphere=function(C$99t){var C$99e=this._owner.transform,C$99i=C$99e.scale.elements,C$99n=Math.abs(C$99i[0]),C$99r=Math.abs(C$99i[1]),C$99i=Math.abs(C$99i[2]);C$99n=C$99r<=C$99n&&C$99i<=C$99n?C$99n:C$99i<=C$99r?C$99r:C$99i,C$99I.transformCoordinate(C$99t.center,C$99e.worldMatrix,this._boundingSphere.center),this._boundingSphere.radius=C$99t.radius*C$99n;},C$99t._calculateBoundBoxByInitCorners=function(C$99t){for(var C$99e=this._owner.transform.worldMatrix,C$99i=0;C$99i<8;C$99i++)C$99I.transformCoordinate(C$99t[C$99i],C$99e,C$99xe._tempBoundBoxCorners[C$99i]);C$99qt.createfromPoints(C$99xe._tempBoundBoxCorners,this._boundingBox);},C$99t._calculateBoundingSphere=function(){var C$99t=this._owner.meshFilter.sharedMesh;null==C$99t||null==C$99t.boundingSphere?this._boundingSphere.toDefault():this._calculateBoundingSphereByInitSphere(C$99t.boundingSphere);},C$99t._calculateBoundingBox=function(){var C$99t=this._owner.meshFilter.sharedMesh;null==C$99t||null==C$99t.boundingBox?this._boundingBox.toDefault():this._calculateBoundBoxByInitCorners(C$99t.boundingBoxCorners);},C$99t._renderUpdate=function(C$99t){var C$99e=this._owner.transform;return C$99e?(this._setShaderValueMatrix4x4(0,C$99e.worldMatrix),C$99e=this._owner.getProjectionViewWorldMatrix(C$99t),this._setShaderValueMatrix4x4(1,C$99e)):(this._setShaderValueMatrix4x4(0,C$99ee.DEFAULT),this._setShaderValueMatrix4x4(1,C$99t)),C$99ge.debugMode&&this._renderRenderableBoundBox(),!0;},e$t;}(),C$99Re=function(C$99e){function e$k(){this._time=0,this._enableLightCount=3,this._customRenderQueneIndex=11,this.enableLight=!0,e$k.__super.call(this),this._renderState=new C$99q(),this._lights=[],this._quenes=[],this._cameraPool=[],this._renderableSprite3Ds=[],this.__loaded=!0,this._lightmaps=[],this._shaderValues=new C$99_e(),this.parallelSplitShadowMaps=[],this._dynamicBatchManager=new C$99nt(),this._cullingRenders=[],this._cullingRendersLength=0,this.enableFog=!1,this.fogStart=300,this.fogRange=1e3,this.fogColor=new C$99I(.7,.7,.7),this.ambientColor=new C$99I(.212,.227,.259),C$99R.shaderHighPrecision&&this.addShaderDefine(C$99we.SHADERDEFINE_HIGHPRECISION),this.on("display",this,this._display),this.on("undisplay",this,this._unDisplay),this._componentsMap=[],this._typeComponentsIndices=[],this._components=[];}C$99r(e$k,"laya.d3.core.scene.Scene",C$99e);var C$99t=e$k.prototype;return C$99y.imps(C$99t,{"laya.webgl.submit.ISubmit":!0,"laya.resource.ICreateResource":!0}),C$99t._setUrl=function(C$99t){this._url=C$99t;},C$99t._getGroup=function(){return this._group;},C$99t._setGroup=function(C$99t){this._group=C$99t;},C$99t._display=function(){C$99y.stage._scenes.push(this),C$99y.stage._scenes.sort(e$k._sortScenes);for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++){var C$99i=this._childs[C$99t];C$99i.active&&C$99i._activeHierarchy();}},C$99t._unDisplay=function(){var C$99t=C$99y.stage._scenes;C$99t.splice(C$99t.indexOf(this),1);for(var C$99e=0,C$99i=this._childs.length;C$99e<C$99i;C$99e++){var C$99n=this._childs[C$99e];C$99n.active&&C$99n._inActiveHierarchy();}},C$99t._addChild3D=function(C$99t){C$99t.transform._onWorldTransform(),C$99t._setBelongScene(this),this.displayedInStage&&C$99t.active&&C$99t._activeHierarchy();},C$99t._removeChild3D=function(C$99t){C$99t.transform.parent=null,this.displayedInStage&&C$99t.active&&C$99t._inActiveHierarchy(),C$99t._setUnBelongScene();},C$99t.initOctree=function(C$99t,C$99e,C$99i,C$99n,C$99r){void 0===C$99r&&(C$99r=6),this.treeSize=new C$99I(C$99t,C$99e,C$99i),this.treeLevel=C$99r,this.treeRoot=new C$99Z(this,0),this.treeRoot.init(C$99n,this.treeSize);},C$99t._prepareUpdateToRenderState=function(C$99t,C$99e){C$99e.elapsedTime=this._lastCurrentTime?this.timer.currTimer-this._lastCurrentTime:0,this._lastCurrentTime=this.timer.currTimer,C$99e.scene=this;},C$99t._prepareSceneToRender=function(C$99t){var C$99e=this._lights.length;if(0<C$99e)for(var C$99i=0,C$99n=0;C$99n<C$99e&&!(this._lights[C$99n]._prepareToScene(C$99t)&&++C$99i>=this._enableLightCount);C$99n++);},C$99t._updateChilds=function(C$99t){for(var C$99e=0,C$99i=this._childs.length;C$99e<C$99i;++C$99e)this._childs[C$99e]._update(C$99t);},C$99t._preRenderScene=function(C$99t,C$99e,C$99i){var C$99n,C$99r=C$99e._viewMatrix,C$99s=C$99e._projectionMatrix,C$99a=C$99e._projectionViewMatrix,C$99o=0,C$99h=C$99e.camera;for(C$99h.useOcclusionCulling?this.treeRoot?C$99rt.renderObjectCullingOctree(C$99i,this,C$99h,C$99r,C$99s,C$99a):C$99rt.renderObjectCulling(C$99i,this,C$99h,C$99r,C$99s,C$99a):C$99rt.renderObjectCullingNoBoundFrustum(this,C$99h,C$99r,C$99s,C$99a),C$99o=0,C$99n=this._quenes.length;C$99o<C$99n;C$99o++)this._quenes[C$99o]&&this._quenes[C$99o]._preRender(C$99e);},C$99t._clear=function(C$99t,C$99e){var C$99i=C$99e._viewport,C$99n=C$99e.camera,C$99r=C$99i.x,C$99s=C$99n.renderTargetSize.height-C$99i.y-C$99i.height,C$99u=C$99i.width,C$99c=C$99i.height;C$99t.viewport(C$99r,C$99s,C$99u,C$99c);var C$99a=256,C$99o=C$99n.renderTarget;switch(C$99n.clearFlag){case 0:var C$99h=C$99n.clearColor;var C$99l;if(C$99h&&(C$99t.enable(3089),C$99t.scissor(C$99r,C$99s,C$99u,C$99c),C$99l=C$99h.elements,C$99t.clearColor(C$99l[0],C$99l[1],C$99l[2],C$99l[3]),C$99a|=16384),C$99o)switch(C$99h||(C$99a=16384),C$99o.depthStencilFormat){case 33189:C$99a|=256;break;case 36168:C$99a|=1024;break;case 34041:C$99a=C$99a|256|1024;}C$99t.clear(C$99a),C$99h&&C$99t.disable(3089);break;case 1:case 2:if(C$99o)switch(C$99a=16384,C$99o.depthStencilFormat){case 33189:C$99a|=256;break;case 36168:C$99a|=1024;break;case 34041:C$99a=C$99a|256|1024;}C$99t.clear(C$99a);break;case 3:break;default:throw new Error("BaseScene:camera clearFlag invalid.");}},C$99t._renderScene=function(C$99t,C$99e){var C$99i,C$99n,C$99r=C$99e.camera,C$99s=0;for(C$99s=0;C$99s<2;C$99s++)(C$99n=this._quenes[C$99s])&&(C$99r.renderTarget?C$99n._render(C$99e,!0):C$99n._render(C$99e,!1));var C$99a;for(1!==C$99r.clearFlag||(C$99a=C$99r.sky)&&(C$99P.setCullFace(C$99t,!1),C$99P.setDepthFunc(C$99t,515),C$99P.setDepthMask(C$99t,!1),C$99a._render(C$99e),C$99P.setDepthFunc(C$99t,513),C$99P.setDepthMask(C$99t,!0)),C$99s=2,C$99i=this._quenes.length;C$99s<C$99i;C$99s++)(C$99n=this._quenes[C$99s])&&(C$99n._sortAlpha(C$99e.camera.transform.position),C$99r.renderTarget?C$99n._render(C$99e,!0):C$99n._render(C$99e,!1));},C$99t._set3DRenderConfig=function(C$99t){C$99t.disable(3042),C$99P._blend=!1,C$99t.blendFunc(770,771),C$99P._sFactor=770,C$99P._dFactor=771,C$99t.disable(2929),C$99P._depthTest=!1,C$99t.enable(2884),C$99P._cullFace=!0,C$99t.depthMask(1),C$99P._depthMask=!0,C$99t.frontFace(2304),C$99P._frontFace=2304;},C$99t._set2DRenderConfig=function(C$99t){C$99P.setBlend(C$99t,!0),C$99P.setBlendFunc(C$99t,1,771),C$99P.setDepthTest(C$99t,!1),C$99P.setCullFace(C$99t,!1),C$99P.setDepthMask(C$99t,!0),C$99P.setFrontFace(C$99t,2305),C$99t.viewport(0,0,C$99v.width,C$99v.height);},C$99t._parseCustomProps=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99n.customProps.lightmaps,C$99s=C$99r.length,C$99a=this._lightmaps;C$99a.length=C$99s;for(var C$99o=0;C$99o<C$99s;C$99o++)C$99a[C$99o]=C$99g.getRes(C$99e[C$99r[C$99o].replace(".exr",".png")]);this.setlightmaps(C$99a);var C$99h=C$99n.customProps.ambientColor;C$99h&&(this.ambientColor=new C$99I(C$99h[0],C$99h[1],C$99h[2]));C$99h=C$99n.customProps.fogColor;C$99h&&(this.fogColor=new C$99I(C$99h[0],C$99h[1],C$99h[2]));},C$99t._addLight=function(C$99t){this._lights.indexOf(C$99t)<0&&this._lights.push(C$99t);},C$99t._removeLight=function(C$99t){C$99t=this._lights.indexOf(C$99t);0<=C$99t&&this._lights.splice(C$99t,1);},C$99t._updateScene=function(){var C$99t=this._renderState;this._prepareUpdateToRenderState(C$99R.mainContext,C$99t),this._updateComponents(C$99t),this._updateChilds(C$99t),this._lateUpdateComponents(C$99t),this._time+=C$99t.elapsedTime/1e3,this._shaderValues.setValue(22,this._time);},C$99t._updateSceneConch=function(){var C$99t=this._renderState;this._prepareUpdateToRenderState(C$99R.mainContext,C$99t),this._updateComponents(C$99t),this._lateUpdateComponents(C$99t),this._prepareSceneToRender(C$99t);for(var C$99e=0,C$99i=this._cameraPool.length;C$99e<C$99i;C$99e++){var C$99n=this._cameraPool[C$99e];(C$99t.camera=C$99n)._prepareCameraToRender();}},C$99t._preRenderShadow=function(C$99t,C$99e,C$99i,C$99n,C$99r){this.treeRoot?C$99rt.renderShadowObjectCullingOctree(this,C$99e,C$99i,C$99n,C$99r):C$99rt.renderShadowObjectCulling(this,C$99e,C$99i,C$99n,C$99r);for(var C$99s=0,C$99a=C$99i.length;C$99s<C$99a;C$99s++)C$99i[C$99s]&&C$99i[C$99s]._preRender(C$99t);},C$99t._renderShadowMap=function(C$99t,C$99e,C$99i){var C$99n=this.parallelSplitShadowMaps[0];C$99n._calcAllLightCameraInfo(C$99i);var C$99r,C$99s,C$99a,C$99o=C$99n.PSSMNum;if(this._preRenderShadow(C$99e,C$99n._lightCulling,C$99n._shadowQuenes,C$99n._lightVPMatrix[0],C$99o),this.addShaderDefine(C$99de.SHADERDEFINE_CAST_SHADOW),1<C$99o)for(var C$99h=0;C$99h<C$99o;C$99h++)C$99r=C$99n.getRenderTarget(C$99h+1),C$99n.beginRenderTarget(C$99h+1),C$99t.clearColor(1,1,1,1),C$99t.clear(16640),C$99t.viewport(0,0,C$99r.width,C$99r.height),C$99e.camera=C$99a=C$99n.getLightCamera(C$99h),C$99a._prepareCameraToRender(),C$99a._prepareCameraViewProject(C$99a.viewMatrix,C$99a.projectionMatrix),C$99e._projectionViewMatrix=C$99n._lightVPMatrix[C$99h+1],(C$99s=C$99n._shadowQuenes[C$99h])._preRender(C$99e),C$99s._renderShadow(C$99e,!1),C$99n.endRenderTarget(C$99h+1);else C$99r=C$99n.getRenderTarget(1),C$99n.beginRenderTarget(1),C$99t.clearColor(1,1,1,1),C$99t.clear(16640),C$99t.viewport(0,0,C$99r.width,C$99r.height),C$99e.camera=C$99a=C$99n.getLightCamera(0),C$99a._prepareCameraToRender(),C$99a._prepareCameraViewProject(C$99a.viewMatrix,C$99a.projectionMatrix),C$99e._projectionViewMatrix=C$99n._lightVPMatrix[0],(C$99s=C$99n._shadowQuenes[0])._preRender(C$99e),C$99s._renderShadow(C$99e,!0),C$99n.endRenderTarget(1);this.removeShaderDefine(C$99de.SHADERDEFINE_CAST_SHADOW);},C$99t.addTreeNode=function(C$99t){this.treeRoot.addTreeNode(C$99t);},C$99t.removeTreeNode=function(C$99t){this.treeSize&&C$99t._treeNode&&C$99t._treeNode.removeObject(C$99t);},C$99t.setlightmaps=function(C$99t){this._lightmaps=C$99t;for(var C$99e=0,C$99i=this._renderableSprite3Ds.length;C$99e<C$99i;C$99e++)this._renderableSprite3Ds[C$99e]._render._applyLightMapParams();},C$99t.getlightmaps=function(){return this._lightmaps;},C$99t.addChildAt=function(C$99t,C$99e){if(!(C$99t instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.  className="+(C$99t&&C$99t.__className));if(!C$99t||this.destroyed||C$99t===this)return C$99t;var C$99i;if(C$99t.zOrder&&this._set$P("hasZorder",!0),0<=C$99e&&C$99e<=this._childs.length)return C$99t._parent===this?(C$99i=this.getChildIndex(C$99t),this._childs.splice(C$99i,1),this._childs.splice(C$99e,0,C$99t),this.conchModel&&(this.conchModel.removeChild(C$99t.conchModel),this.conchModel.addChildAt(C$99t.conchModel,C$99e)),this._childChanged()):(C$99t.parent&&C$99t.parent.removeChild(C$99t),this._childs===C$99f.ARRAY_EMPTY&&(this._childs=[]),this._childs.splice(C$99e,0,C$99t),this.conchModel&&this.conchModel.addChildAt(C$99t.conchModel,C$99e),(C$99t.parent=this)._addChild3D(C$99t)),C$99t;throw new Error("appendChildAt:The index is out of bounds");},C$99t.addChild=function(C$99t){if(!(C$99t instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");return!C$99t||this.destroyed||C$99t===this||(C$99t.zOrder&&this._set$P("hasZorder",!0),C$99t._parent===this?(C$99e=this.getChildIndex(C$99t))!==this._childs.length-1&&(this._childs.splice(C$99e,1),this._childs.push(C$99t),this.conchModel&&(this.conchModel.removeChild(C$99t.conchModel),this.conchModel.addChildAt(C$99t.conchModel,this._childs.length-1)),this._childChanged()):(C$99t.parent&&C$99t.parent.removeChild(C$99t),this._childs===C$99f.ARRAY_EMPTY&&(this._childs=[]),this._childs.push(C$99t),this.conchModel&&this.conchModel.addChildAt(C$99t.conchModel,this._childs.length-1),(C$99t.parent=this)._childChanged(),this._addChild3D(C$99t))),C$99t;var C$99e;},C$99t.removeChildAt=function(C$99t){var C$99e=this.getChildAt(C$99t);return C$99e&&(this._removeChild3D(C$99e),this._childs.splice(C$99t,1),this.conchModel&&this.conchModel.removeChild(C$99e.conchModel),C$99e.parent=null),C$99e;},C$99t.removeChildren=function(C$99t,C$99e){if(void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=2147483647),this._childs&&0<this._childs.length){var C$99i=this._childs;var C$99n;0===C$99t&&C$99s<=C$99e?(C$99n=C$99i,this._childs=C$99f.ARRAY_EMPTY):C$99n=C$99i.splice(C$99t,C$99e-C$99t);for(var C$99r=0,C$99s=C$99n.length;C$99r<C$99s;C$99r++)this._removeChild3D(C$99n[C$99r]),C$99n[C$99r].parent=null,this.conchModel&&this.conchModel.removeChild(C$99n[C$99r].conchModel);}return this;},C$99t.addFrustumCullingObject=function(C$99t){this.treeRoot?this.addTreeNode(C$99t):(this._cullingRendersLength===this._cullingRenders.length?this._cullingRenders.push(C$99t):this._cullingRenders[this._cullingRendersLength]=C$99t,C$99t._indexInSceneFrustumCullingObjects=this._cullingRendersLength++);},C$99t.removeFrustumCullingObject=function(C$99t){var C$99e,C$99i;this.treeRoot?this.removeTreeNode(C$99t):(this._cullingRendersLength--,(C$99e=C$99t._indexInSceneFrustumCullingObjects)!==this._cullingRendersLength&&(C$99i=this._cullingRenders[this._cullingRendersLength],(this._cullingRenders[C$99e]=C$99i)._indexInSceneFrustumCullingObjects=C$99e,C$99t._indexInSceneFrustumCullingObjects=-1));},C$99t.getRenderQueue=function(C$99t){return C$99t<3e3?this._quenes[1]||(this._quenes[1]=new C$99K(this)):this._quenes[2]||(this._quenes[2]=new C$99K(this));},C$99t.addRenderQuene=function(){this._quenes[this._customRenderQueneIndex++]=new C$99K(this);},C$99t.addShaderDefine=function(C$99t){this._shaderDefineValue|=C$99t;},C$99t.removeShaderDefine=function(C$99t){this._shaderDefineValue&=~C$99t;},C$99t.addScript=function(C$99t){return this._addComponent(C$99t);},C$99t.getScriptByType=function(C$99t,C$99e){return this._getComponentByType(C$99t,C$99e=void 0===C$99e?0:C$99e);},C$99t.getScriptsByType=function(C$99t,C$99e){this._getComponentsByType(C$99t,C$99e);},C$99t.getScriptByIndex=function(C$99t){return this._getComponentByIndex(C$99t);},C$99t.removeScriptByType=function(C$99t,C$99e){this._removeComponentByType(C$99t,C$99e=void 0===C$99e?0:C$99e);},C$99t.removeScriptsByType=function(C$99t){this._removeComponentByType(C$99t);},C$99t.removeAllScript=function(){this._removeAllComponent();},C$99t.render=function(C$99t,C$99e,C$99i){(C$99m._context.ctx._renderKey=0)<this._childs.length&&C$99t.addRenderObject(this);},C$99t.renderSubmit=function(){var C$99t=C$99R.mainContext,C$99e=this._renderState;this._set3DRenderConfig(C$99t),this._prepareSceneToRender(this._renderState);var C$99i,C$99n=0,C$99r=0;if(C$99ge.debugMode||C$99Z.debugMode)for(C$99n=0,C$99r=this._cameraPool.length;C$99n<C$99r;C$99n++)C$99i=this._cameraPool[C$99n],C$99ge._debugPhasorSprite.begin(1,C$99i),C$99i.activeInHierarchy&&C$99i._renderCamera(C$99t,C$99e,this),C$99ge._debugPhasorSprite.end();else for(C$99n=0,C$99r=this._cameraPool.length;C$99n<C$99r;C$99n++)(C$99i=this._cameraPool[C$99n]).activeInHierarchy&&C$99i._renderCamera(C$99t,C$99e,this);return this._set2DRenderConfig(C$99t),1;},C$99t.onAsynLoaded=function(C$99t,C$99e,C$99i){var C$99n=C$99e[0];if("Scene"!==C$99n.type)throw new Error("Scene: the .lh file root type must be Scene,please use other function to  load  this file.");C$99e=C$99e[1];C$99me._createNodeByJson(this,C$99n,this,C$99e),this.event("hierarchyloaded",[this]),this.__loaded=!0;},C$99t.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this.destroyed||(C$99e.prototype.destroy.call(this,C$99t),this._renderState=null,this._lights=null,this._lightmaps=null,this._renderTargetTexture=null,this._shaderValues=null,this._cullingRenders=null,this._dynamicBatchManager=null,this._quenes=null,this._cameraPool=null,this._renderableSprite3Ds=null,this.treeRoot=null,this.treeSize=null,this.parallelSplitShadowMaps=null,this._typeComponentsIndices=null,this._components=null,C$99g.clearRes(this.url),this.loaded||C$99ge._cancelLoadByUrl(this.url));},C$99t.getRenderType=function(){return 0;},C$99t.releaseRender=function(){},C$99t._addComponent=function(C$99t){var C$99e,C$99i=this._componentsMap.indexOf(C$99t);if(-1===C$99i)C$99e=[],this._componentsMap.push(C$99t),this._typeComponentsIndices.push(C$99e);else if(C$99e=this._typeComponentsIndices[C$99i],this._components[C$99e[0]].isSingleton)throw new Error("\u65e0\u6cd5\u5355\u5b9e\u4f8b\u521b\u5efa"+C$99t+"\u7ec4\u4ef6\uff0c"+C$99t+"\u7ec4\u4ef6\u5df2\u5b58\u5728\uff01");C$99i=C$99u.getInstance(C$99t);return C$99e.push(this._components.length),this._components.push(C$99i),C$99i._initialize(this),C$99i;},C$99t._removeComponent=function(C$99t,C$99e){var C$99i=this._typeComponentsIndices[C$99t],C$99n=C$99i[C$99e],C$99r=this._components[C$99n];this._components.splice(C$99n,1),C$99i.splice(C$99e,1),0===C$99i.length&&(this._typeComponentsIndices.splice(C$99t,1),this._componentsMap.splice(C$99t,1));for(var C$99s=0,C$99a=this._componentsMap.length;C$99s<C$99a;C$99s++)for(var C$99o=(C$99i=this._typeComponentsIndices[C$99s]).length-1;0<=C$99o;C$99o--){var C$99h=C$99i[C$99o];if(!(C$99n<C$99h))break;C$99i[C$99o]=--C$99h;}C$99r._destroy();},C$99t._getComponentByType=function(C$99t,C$99e){void 0===C$99e&&(C$99e=0);C$99t=this._componentsMap.indexOf(C$99t);return-1===C$99t?null:this._components[this._typeComponentsIndices[C$99t][C$99e]];},C$99t._getComponentsByType=function(C$99t,C$99e){C$99t=this._componentsMap.indexOf(C$99t);if(-1!==C$99t){var C$99i=this._typeComponentsIndices[C$99t],C$99n=C$99i.length;C$99e.length=C$99n;for(var C$99r=0;C$99r<C$99n;C$99r++)C$99e[C$99r]=this._components[C$99i[C$99r]];}else C$99e.length=0;},C$99t._getComponentByIndex=function(C$99t){return this._components[C$99t];},C$99t._removeComponentByType=function(C$99t,C$99e){void 0===C$99e&&(C$99e=0);C$99t=this._componentsMap.indexOf(C$99t);-1!==C$99t&&this._removeComponent(C$99t,C$99e);},C$99t._removeComponentsByType=function(C$99t){var C$99e=this._componentsMap.indexOf(C$99t);if(-1!==C$99e)for(var C$99i=this._typeComponentsIndices[C$99e],C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99i.length<C$99r?C$99r--:C$99n++)this._removeComponent(C$99e,C$99n);},C$99t._removeAllComponent=function(){for(var C$99t=0,C$99e=this._componentsMap.length;C$99t<C$99e;this._componentsMap.length<C$99e?C$99e--:C$99t++)this._removeComponentsByType(this._componentsMap[C$99t]);},C$99t._updateComponents=function(C$99t){for(var C$99e=0,C$99i=this._components.length;C$99e<C$99i;C$99e++){var C$99n=this._components[C$99e];C$99n.started||(C$99n._start(C$99t),C$99n.started=!0),C$99n.enable&&C$99n._update(C$99t);}},C$99t._lateUpdateComponents=function(C$99t){for(var C$99e=0;C$99e<this._components.length;C$99e++){var C$99i=this._components[C$99e];C$99i.started||(C$99i._start(C$99t),C$99i.started=!0),C$99i.enable&&C$99i._lateUpdate(C$99t);}},C$99t._preRenderUpdateComponents=function(C$99t){for(var C$99e=0;C$99e<this._components.length;C$99e++){var C$99i=this._components[C$99e];C$99i.started||(C$99i._start(C$99t),C$99i.started=!0),C$99i.enable&&C$99i._preRenderUpdate(C$99t);}},C$99t._postRenderUpdateComponents=function(C$99t){for(var C$99e=0;C$99e<this._components.length;C$99e++){var C$99i=this._components[C$99e];C$99i.started||(C$99i._start(C$99t),C$99i.started=!0),C$99i.enable&&C$99i._postRenderUpdate(C$99t);}},C$99o(0,C$99t,"_loaded",null,function(C$99t){this.__loaded=C$99t;}),C$99o(0,C$99t,"fogColor",function(){return this._fogColor;},function(C$99t){this._fogColor=C$99t,this._shaderValues.setValue(0,C$99t.elements);}),C$99o(0,C$99t,"enableFog",function(){return this._enableFog;},function(C$99t){this._enableFog!==C$99t&&((this._enableFog=C$99t)?(this.addShaderDefine(C$99we.SHADERDEFINE_FOG),this.removeShaderDefine(C$99we.SAHDERDEFINE_DEPTHFOG)):this.removeShaderDefine(C$99we.SHADERDEFINE_FOG));}),C$99o(0,C$99t,"url",function(){return this._url;}),C$99o(0,C$99t,"loaded",function(){return this.__loaded;}),C$99o(0,C$99t,"enableDepthFog",function(){return this._enableDepthFog;},function(C$99t){this._enableDepthFog!=C$99t&&((this._enableDepthFog=C$99t)?(this.addShaderDefine(C$99we.SAHDERDEFINE_DEPTHFOG),this.removeShaderDefine(C$99we.SHADERDEFINE_FOG)):this.removeShaderDefine(C$99we.SAHDERDEFINE_DEPTHFOG));}),C$99o(0,C$99t,"fogStart",function(){return this._fogStart;},function(C$99t){this._fogStart=C$99t,this._shaderValues.setValue(1,C$99t);}),C$99o(0,C$99t,"fogRange",function(){return this._fogRange;},function(C$99t){this._fogRange=C$99t,this._shaderValues.setValue(2,C$99t);}),C$99o(0,C$99t,"ambientColor",function(){return this._ambientColor;},function(C$99t){this._ambientColor=C$99t,this._shaderValues.setValue(21,C$99t.elements);}),C$99o(0,C$99t,"scene",function(){return this;}),C$99o(0,C$99t,"renderableSprite3Ds",function(){return this._renderableSprite3Ds.slice();}),e$k._sortScenes=function(C$99t,C$99e){if(C$99t.parent!==C$99y.stage||C$99e.parent!==C$99y.stage)return C$99t.parent!==C$99y.stage&&C$99e.parent!==C$99y.stage?e$k._sortScenes(C$99t.parent,C$99e.parent):C$99t.parent===C$99y.stage?-1:1;var C$99i=C$99y.stage._childs;return C$99i.indexOf(C$99t)-C$99i.indexOf(C$99e);},e$k.load=function(C$99t){return C$99y.loader.create(C$99t,null,null,e$k);},e$k.FOGCOLOR=0,e$k.FOGSTART=1,e$k.FOGRANGE=2,e$k.LIGHTDIRECTION=3,e$k.LIGHTDIRCOLOR=4,e$k.POINTLIGHTPOS=5,e$k.POINTLIGHTRANGE=6,e$k.POINTLIGHTATTENUATION=7,e$k.POINTLIGHTCOLOR=8,e$k.SPOTLIGHTPOS=9,e$k.SPOTLIGHTDIRECTION=10,e$k.SPOTLIGHTSPOT=11,e$k.SPOTLIGHTRANGE=12,e$k.SPOTLIGHTATTENUATION=13,e$k.SPOTLIGHTCOLOR=14,e$k.SHADOWDISTANCE=15,e$k.SHADOWLIGHTVIEWPROJECT=16,e$k.SHADOWMAPPCFOFFSET=17,e$k.SHADOWMAPTEXTURE1=18,e$k.SHADOWMAPTEXTURE2=19,e$k.SHADOWMAPTEXTURE3=20,e$k.AMBIENTCOLOR=21,e$k.TIME=22,e$k;}(C$99M),C$99Pe=function(){function e$t(C$99t){e$t.__super.call(this),this.__loaded=!0,this._projectionViewWorldUpdateLoopCount=-1,this._activeInHierarchy=!1,this._projectionViewWorldMatrix=new C$99ee(),this._shaderValues=new C$99_e(),this._colliders=[],this._id=++e$t._uniqueIDCounter,this._transform=new C$99ye(this),this.name=C$99t||"Sprite3D-"+e$t._nameNumberCounter++,this.layer=C$99O.currentCreationLayer,this.active=!0;}C$99r(e$t,"laya.d3.core.Sprite3D",C$99Me);var C$99t=e$t.prototype;return C$99y.imps(C$99t,{"laya.d3.core.render.IUpdate":!0,"laya.resource.ICreateResource":!0,"laya.d3.core.IClone":!0}),C$99t._setUrl=function(C$99t){this._url=C$99t;},C$99t._getGroup=function(){return this._group;},C$99t._setGroup=function(C$99t){this._group=C$99t;},C$99t._addChild3D=function(C$99t){C$99t.transform.parent=this.transform,this._hierarchyAnimator&&(C$99t._hierarchyAnimator||C$99t._setHierarchyAnimator(this._hierarchyAnimator,null),this._getAnimatorToLinkSprite3D(C$99t,!0,[C$99t.name])),this._scene&&(C$99t._setBelongScene(this._scene),this._activeInHierarchy&&C$99t._active&&C$99t._activeHierarchy());},C$99t._removeChild3D=function(C$99t){C$99t.transform.parent=null,this._scene&&(this._activeInHierarchy&&C$99t._active&&C$99t._inActiveHierarchy(),C$99t._setUnBelongScene()),this._hierarchyAnimator&&(C$99t._hierarchyAnimator==this._hierarchyAnimator&&C$99t._clearHierarchyAnimator(this._hierarchyAnimator,null),this._getAnimatorToLinkSprite3D(C$99t,!1,[C$99t.name]));},C$99t._parseBaseCustomProps=function(C$99t){var C$99e=this.transform.localPosition;C$99t.translate?(C$99e.fromArray(C$99t.translate),C$99e.x*=100,C$99e.y*=100,C$99e.z*=100):C$99e.elements.fill(0),this.transform.localPosition=C$99e;C$99e=this.transform.localRotation;C$99t.rotation?C$99e.fromArray(C$99t.rotation):C$99e.fromArray([0,0,0,-1]),this.transform.localRotation=C$99e;C$99e=this.transform.localScale;C$99t.scale?C$99e.fromArray(C$99t.scale):C$99e.elements.fill(1),this.transform.localScale=C$99e;C$99e=C$99t.layer;null!=C$99e&&(this.layer=C$99O.getLayerByNumber(C$99e));},C$99t._parseCustomComponent=function(C$99u,C$99t,C$99e){for(var C$99i in C$99e){var C$99n=C$99e[C$99i];switch(C$99i){case"Animator":var C$99r=this.addComponent(Animator);C$99n.avatarPath?C$99r.avatar=C$99g.getRes(C$99t[C$99n.avatarPath]):(C$99o=C$99n.avatar)&&(C$99r.avatar=C$99g.getRes(C$99t[C$99o.path]),(C$99o=C$99o.linkSprites)&&C$99u.once("hierarchyloaded",this,this._onRootNodeHierarchyLoaded,[C$99r,C$99o]));for(var C$99s=C$99n.clipPaths,C$99c=C$99s.length,C$99a=0;C$99a<C$99c;C$99a++)C$99r.addClip(C$99g.getRes(C$99t[C$99s[C$99a]]));C$99r.clip=C$99g.getRes(C$99t[C$99s[0]]);var C$99o=C$99n.playOnWake;void 0!==C$99o&&(C$99r.playOnWake=C$99o);break;case"Rigidbody":this.addComponent(Rigidbody);break;case"SphereCollider":var C$99h=this.addComponent(SphereCollider);C$99h.isTrigger=C$99n.isTrigger;var C$99l=C$99h.center;C$99l.fromArray(C$99n.center),C$99h.center=C$99l,C$99h.radius=C$99n.radius;break;case"BoxCollider":C$99l=this.addComponent(BoxCollider);C$99l.isTrigger=C$99n.isTrigger,C$99l.center.fromArray(C$99n.center);C$99h=C$99l.size;C$99h.fromArray(C$99n.size),C$99l.size=C$99h;break;case"MeshCollider":this.addComponent(MeshCollider);}}},C$99t._onRootNodeHierarchyLoaded=function(C$99t,C$99e){for(var C$99i in C$99e){for(var C$99n=this,C$99r=C$99e[C$99i],C$99s=0,C$99a=C$99r.length;C$99s<C$99a;C$99s++){var C$99o=C$99r[C$99s];if(""===C$99o)break;if(!(C$99n=C$99n.getChildByName(C$99o)))break;}C$99n&&C$99t.linkSprite3DToAvatarNode(C$99i,C$99n);}},C$99t._setHierarchyAnimator=function(C$99t,C$99e){this._changeHierarchyAnimator(C$99t);for(var C$99i=0,C$99n=this._childs.length;C$99i<C$99n;C$99i++){var C$99r=this._childs[C$99i];C$99r._hierarchyAnimator==C$99e&&C$99r._setHierarchyAnimator(C$99t,C$99e);}},C$99t._clearHierarchyAnimator=function(C$99t,C$99e){this._changeHierarchyAnimator(C$99e);for(var C$99i=0,C$99n=this._childs.length;C$99i<C$99n;C$99i++){var C$99r=this._childs[C$99i];C$99r._hierarchyAnimator==C$99t&&C$99r._clearHierarchyAnimator(C$99t,C$99e);}},C$99t._getAnimatorToLinkSprite3D=function(C$99t,C$99e,C$99i){var C$99n=this.getComponentByType(Animator);C$99n&&(C$99n.avatar?C$99n.avatar._version||C$99t._setAnimatorToLinkAvatar(C$99n,C$99e):C$99t._setAnimatorToLinkSprite3DNoAvatar(C$99n,C$99e,C$99i)),this._parent&&this._parent instanceof laya.d3.core.Sprite3D&&(C$99i.unshift(this._parent.name),(C$99n=this._parent)._hierarchyAnimator&&C$99n._getAnimatorToLinkSprite3D(C$99t,C$99e,C$99i));},C$99t._setAnimatorToLinkSprite3DNoAvatar=function(C$99t,C$99e,C$99i){var C$99n=0,C$99r=0;for(C$99n=0,C$99r=C$99t.getClipCount();C$99n<C$99r;C$99n++)C$99t._handleSpriteOwnersBySprite(C$99n,C$99e,C$99i,this);for(C$99n=0,C$99r=this._childs.length;C$99n<C$99r;C$99n++){var C$99s=this._childs[C$99n],C$99a=C$99i.length;C$99i.push(C$99s.name),C$99s._setAnimatorToLinkSprite3DNoAvatar(C$99t,C$99e,C$99i),C$99i.splice(C$99a,1);}},C$99t._changeHierarchyAnimator=function(C$99t){this._hierarchyAnimator=C$99t;},C$99t._isLinkSpriteToAnimationNode=function(C$99t,C$99e,C$99i){var C$99n=C$99t._avatarNodes.indexOf(C$99e),C$99r=C$99t._cacheSpriteToNodesMap;C$99i?(this._transform.dummy=C$99e.transform,C$99t._cacheNodesToSpriteMap[C$99n]=C$99r.length,C$99r.push(C$99n)):(this._transform.dummy=null,C$99i=C$99t._cacheNodesToSpriteMap[C$99n],C$99t._cacheNodesToSpriteMap[C$99n]=null,C$99r.splice(C$99i,1));},C$99t._setBelongScene=function(C$99t){this._scene=C$99t;for(var C$99e=0,C$99i=this._childs.length;C$99e<C$99i;C$99e++)this._childs[C$99e]._setBelongScene(C$99t);},C$99t._setUnBelongScene=function(){this._scene=null;for(var C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++)this._childs[C$99t]._setUnBelongScene();},C$99t._activeHierarchy=function(){var C$99t=0,C$99e=0;for(this._activeInHierarchy=!0,this._addSelfRenderObjects(),C$99t=0,C$99e=this._colliders.length;C$99t<C$99e;C$99t++)this._layer._addCollider(this._colliders[C$99t]);for(this.event("activeinhierarchychanged",!0),C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++){var C$99i=this._childs[C$99t];C$99i._active&&C$99i._activeHierarchy();}},C$99t._inActiveHierarchy=function(){var C$99t=0,C$99e=0;for(this._activeInHierarchy=!1,this._clearSelfRenderObjects(),C$99t=0,C$99e=this._colliders.length;C$99t<C$99e;C$99t++){var C$99i=this._colliders[C$99t];C$99i._clearCollsionMap(),this._layer._removeCollider(C$99i);}for(this.event("activeinhierarchychanged",!1),C$99t=0,C$99e=this._childs.length;C$99t<C$99e;C$99t++){var C$99n=this._childs[C$99t];C$99n._active&&C$99n._inActiveHierarchy();}},C$99t.addComponent=function(C$99t){var C$99e,C$99i=this._componentsMap.indexOf(C$99t);if(-1===C$99i)C$99e=[],this._componentsMap.push(C$99t),this._typeComponentsIndices.push(C$99e);else if(C$99e=this._typeComponentsIndices[C$99i],this._components[C$99e[0]].isSingleton)throw new Error("\u65e0\u6cd5\u5355\u5b9e\u4f8b\u521b\u5efa"+C$99t+"\u7ec4\u4ef6\uff0c"+C$99t+"\u7ec4\u4ef6\u5df2\u5b58\u5728\uff01");C$99i=C$99u.getInstance(C$99t);return C$99e.push(this._components.length),this._components.push(C$99i),C$99i instanceof laya.d3.component.Script&&this._scripts.push(C$99i),C$99i._initialize(this),C$99i;},C$99t._removeComponent=function(C$99t,C$99e){var C$99i,C$99n=0,C$99r=this._typeComponentsIndices[C$99t],C$99s=C$99r[C$99e],C$99a=this._components[C$99s];for(C$99a instanceof laya.d3.component.Script&&this._scripts.splice(this._scripts.indexOf(C$99a),1),C$99r.splice(C$99e,1),0===C$99r.length&&(this._typeComponentsIndices.splice(C$99t,1),this._componentsMap.splice(C$99t,1)),C$99n=0,C$99i=this._componentsMap.length;C$99n<C$99i;C$99n++)for(var C$99o=(C$99r=this._typeComponentsIndices[C$99n]).length-1;0<=C$99o;C$99o--){var C$99h=C$99r[C$99o];if(!(C$99s<C$99h))break;C$99r[C$99o]=--C$99h;}C$99a._destroy();},C$99t._clearSelfRenderObjects=function(){},C$99t._addSelfRenderObjects=function(){},C$99t._parseCustomProps=function(C$99t,C$99e,C$99i,C$99n){},C$99t._updateChilds=function(C$99t){var C$99e=this._childs.length;if(0!==C$99e)for(var C$99i=0;C$99i<C$99e;++C$99i)this._childs[C$99i]._update(C$99t);},C$99t._getSortID=function(C$99t,C$99e){return 1e3*C$99e.id+C$99t._getVertexBuffer().vertexDeclaration.id;},C$99t._update=function(C$99t){(C$99t.owner=this)._activeInHierarchy&&(this._updateComponents(C$99t),this._lateUpdateComponents(C$99t),C$99C.spriteCount++,this._childs.length&&this._updateChilds(C$99t));},C$99t.getProjectionViewWorldMatrix=function(C$99t){return C$99ee.multiply(C$99t,this.transform.worldMatrix,this._projectionViewWorldMatrix),this._projectionViewWorldMatrix;},C$99t.loadHierarchy=function(C$99t){this.addChild(laya.d3.core.Sprite3D.load(C$99t));},C$99t.addChildAt=function(C$99t,C$99e){if(!(C$99t instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");if(!C$99t||this.destroyed||C$99t===this)return C$99t;var C$99i;if(C$99t.zOrder&&this._set$P("hasZorder",!0),0<=C$99e&&C$99e<=this._childs.length)return C$99t._parent===this?(C$99i=this.getChildIndex(C$99t),this._childs.splice(C$99i,1),this._childs.splice(C$99e,0,C$99t),this.conchModel&&(this.conchModel.removeChild(C$99t.conchModel),this.conchModel.addChildAt(C$99t.conchModel,C$99e)),this._childChanged()):(C$99t.parent&&C$99t.parent.removeChild(C$99t),this._childs===C$99f.ARRAY_EMPTY&&(this._childs=[]),this._childs.splice(C$99e,0,C$99t),this.conchModel&&this.conchModel.addChildAt(C$99t.conchModel,C$99e),(C$99t.parent=this)._addChild3D(C$99t)),C$99t;throw new Error("appendChildAt:The index is out of bounds");},C$99t.addChild=function(C$99t){if(!(C$99t instanceof laya.d3.core.Sprite3D))throw new Error("Sprite3D:Node type must Sprite3D.");return!C$99t||this.destroyed||C$99t===this||(C$99t.zOrder&&this._set$P("hasZorder",!0),C$99t._parent===this?(C$99e=this.getChildIndex(C$99t))!==this._childs.length-1&&(this._childs.splice(C$99e,1),this._childs.push(C$99t),this.conchModel&&(this.conchModel.removeChild(C$99t.conchModel),this.conchModel.addChildAt(C$99t.conchModel,this._childs.length-1)),this._childChanged()):(C$99t.parent&&C$99t.parent.removeChild(C$99t),this._childs===C$99f.ARRAY_EMPTY&&(this._childs=[]),this._childs.push(C$99t),this.conchModel&&this.conchModel.addChildAt(C$99t.conchModel,this._childs.length-1),(C$99t.parent=this)._childChanged(),this._addChild3D(C$99t))),C$99t;var C$99e;},C$99t.removeChildAt=function(C$99t){var C$99e=this.getChildAt(C$99t);return C$99e&&(this._removeChild3D(C$99e),this._childs.splice(C$99t,1),this.conchModel&&this.conchModel.removeChild(C$99e.conchModel),C$99e.parent=null),C$99e;},C$99t.removeChildren=function(C$99t,C$99e){if(void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=2147483647),this._childs&&0<this._childs.length){var C$99i=this._childs;var C$99n;0===C$99t&&C$99s<=C$99e?(C$99n=C$99i,this._childs=C$99f.ARRAY_EMPTY):C$99n=C$99i.splice(C$99t,C$99e-C$99t);for(var C$99r=0,C$99s=C$99n.length;C$99r<C$99s;C$99r++)this._removeChild3D(C$99n[C$99r]),C$99n[C$99r].parent=null,this.conchModel&&this.conchModel.removeChild(C$99n[C$99r].conchModel);}return this;},C$99t.onAsynLoaded=function(C$99t,C$99e,C$99i){var C$99n=C$99e[0];if("Sprite3D"!==C$99n.type)throw new Error("Sprite3D: The .lh file root type must be Sprite3D,please use other function to  load  this file.");C$99e=C$99e[1];C$99me._createNodeByJson(this,C$99n,this,C$99e),this.event("hierarchyloaded",[this]),this.__loaded=!0;},C$99t.cloneTo=function(C$99t){if(this.destroyed)throw new Error("Sprite3D: Can't be cloned if the Sprite3D has destroyed.");var C$99e=C$99t;C$99e.name=this.name,C$99e._destroyed=this._destroyed,C$99e.timer=this.timer,C$99e._$P=this._$P,C$99e.active=this._active;C$99t=C$99e.transform.localPosition;this.transform.localPosition.cloneTo(C$99t),C$99e.transform.localPosition=C$99t;C$99t=C$99e.transform.localRotation;this.transform.localRotation.cloneTo(C$99t),C$99e.transform.localRotation=C$99t;C$99t=C$99e.transform.localScale;this.transform.localScale.cloneTo(C$99t),C$99e.transform.localScale=C$99t,C$99e.isStatic=this.isStatic;var C$99i=0,C$99n=0;for(C$99i=0,C$99n=this._componentsMap.length;C$99i<C$99n;C$99i++){var C$99u=C$99e.addComponent(this._componentsMap[C$99i]);this._components[C$99i]._cloneTo(C$99u);}for(C$99i=0,C$99n=this._childs.length;C$99i<C$99n;C$99i++)C$99e.addChild(this._childs[C$99i].clone());var C$99r=C$99e.getComponentByType(Animator);if(C$99r){var C$99s=C$99r._linkSpritesData;if(C$99s)for(var C$99a in C$99s){for(var C$99o=C$99s[C$99a],C$99h=C$99e,C$99l=0,C$99c=C$99o.length;C$99l<C$99c&&(C$99h=C$99h.getChildByName(C$99o[C$99l]));C$99l++);C$99h&&(C$99a=C$99r._avatarNodeMap[C$99a],C$99h._isLinkSpriteToAnimationNode(C$99r,C$99a,!0));}}},C$99t.clone=function(){var C$99t=new this.constructor();return this.cloneTo(C$99t),C$99t;},C$99t.destroy=function(C$99t){if(void 0===C$99t&&(C$99t=!0),!this.destroyed){laya.display.Node.prototype.destroy.call(this,C$99t);var C$99e,C$99i=0;for(C$99i=0,C$99e=this._components.length;C$99i<C$99e;C$99i++)this._components[C$99i]._destroy();this._components=null,this._componentsMap=null,this._typeComponentsIndices=null,this._transform=null,this._colliders=null,C$99g.clearRes(this.url),this.loaded||C$99ge._cancelLoadByUrl(this.url);}},C$99t._handleSpriteToAvatar=function(C$99t,C$99e){C$99t._avatarNodes;var C$99i=C$99t._avatarNodeMap[this.name];C$99i&&C$99i.name===this.name&&!this._transform.dummy&&this._isLinkSpriteToAnimationNode(C$99t,C$99i,C$99e);},C$99t._setAnimatorToLinkAvatar=function(C$99t,C$99e){this._handleSpriteToAvatar(C$99t,C$99e);for(var C$99i=0,C$99n=this._childs.length;C$99i<C$99n;C$99i++)this._childs[C$99i]._setAnimatorToLinkAvatar(C$99t,C$99e);},C$99o(0,C$99t,"activeInHierarchy",function(){return this._activeInHierarchy;}),C$99o(0,C$99t,"_loaded",null,function(C$99t){this.__loaded=C$99t;}),C$99o(0,C$99t,"active",function(){return this._active;},function(C$99t){this._active!==C$99t&&(this._active=C$99t,this._parent&&(this._parent===this._scene&&this._parent.displayedInStage||this._parent._activeInHierarchy)&&(C$99t?this._activeHierarchy():this._inActiveHierarchy()));}),C$99o(0,C$99t,"componentsCount",function(){return this._components.length;}),C$99o(0,C$99t,"loaded",function(){return this.__loaded;}),C$99o(0,C$99t,"id",function(){return this._id;}),C$99o(0,C$99t,"url",function(){return this._url;}),C$99o(0,C$99t,"layer",function(){return this._layer;},function(C$99t){if(this._layer!==C$99t){if(!C$99t)throw new Error("Layer value can be null.");if(this._activeInHierarchy){var C$99e=0,C$99i=this._colliders.length;if(this._layer)for(C$99e=0;C$99e<C$99i;C$99e++)this._layer._removeCollider(this._colliders[C$99e]);for(C$99e=0;C$99e<C$99i;C$99e++)C$99t._addCollider(this._colliders[C$99e]);}this._layer=C$99t,this.event("layerchanged",C$99t);}}),C$99o(0,C$99t,"scene",function(){return this._scene;}),C$99o(0,C$99t,"transform",function(){return this._transform;}),e$t.instantiate=function(C$99t,C$99e,C$99i,C$99n,C$99r){void 0===C$99i&&(C$99i=!0);var C$99s=C$99t.clone();C$99e&&C$99e.addChild(C$99s);C$99e=C$99s.transform;return C$99i?(C$99i=C$99e.worldMatrix,C$99t.transform.worldMatrix.cloneTo(C$99i),C$99e.worldMatrix=C$99i):(C$99n&&(C$99e.position=C$99n),C$99r&&(C$99e.rotation=C$99r)),C$99s;},e$t.load=function(C$99t){return C$99y.loader.create(C$99t,null,null,e$t);},e$t.WORLDMATRIX=0,e$t.MVPMATRIX=1,e$t._uniqueIDCounter=0,e$t._nameNumberCounter=0,e$t;}(),C$99Be=function(){function e$b(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){if(this._curActTexIndex=0,this._program=null,this._attributeParams=null,this._uniformParams=null,this._attributeParamsMap=[],this._sceneUniformParamsMap=[],this._cameraUniformParamsMap=[],this._spriteUniformParamsMap=[],this._materialUniformParamsMap=[],this._renderElementUniformParamsMap=[],e$b.__super.call(this),!C$99t||!C$99e)throw"Shader Error";this._id=++e$b._count,this._vs=C$99t,this._ps=C$99e,this._attributeMap=C$99i,this._sceneUniformMap=C$99n,this._cameraUniformMap=C$99r,this._spriteUniformMap=C$99s,this._materialUniformMap=C$99a,this._renderElementUniformMap=C$99o,this._precompile=C$99h,this._define=C$99l,this._precompile&&e$b.extCompileObj&&e$b.extCompileFunc?e$b.extCompileFunc.call(e$b.extCompileObj,C$99t,C$99e,C$99l):this.recreateResource();}C$99r(e$b,"laya.d3.shader.Shader3D",C$99n);var C$99t=e$b.prototype;return C$99t.recreateResource=function(){C$99T.now(),this._compile(),this.completeCreate(),this.memorySize=0;},C$99t.disposeResource=function(){C$99R.mainContext.deleteShader(this._vshader),C$99R.mainContext.deleteShader(this._pshader),C$99R.mainContext.deleteProgram(this._program),this._vshader=this._pshader=this._program=null,this._attributeParams=null,this._uniformParams=null,this.memorySize=0,this._curActTexIndex=0;},C$99t._compile=function(){if(!C$99R.mainContext.isContextLost()&&this._vs&&this._ps&&!this._attributeParams&&!this._uniformParams){this._reCompile=!0,this._attributeParams=[],this._uniformParams=[];var C$99t=[this._vs,this._ps],C$99e=C$99R.mainContext;if(this._program=C$99e.createProgram(),this._vshader=e$b._createShader(C$99e,C$99t[0],35633),this._pshader=e$b._createShader(C$99e,C$99t[1],35632),C$99e.attachShader(this._program,this._vshader),C$99e.attachShader(this._program,this._pshader),C$99e.linkProgram(this._program),!C$99m.isConchApp&&C$99we.debugMode&&!C$99e.getProgramParameter(this._program,35714))throw C$99e.getProgramInfoLog(this._program);var C$99i,C$99n,C$99r=0,C$99s=0;for(C$99n=C$99m.isConchApp?C$99e.getProgramParameterEx(this._vs,this._ps,"",35721):C$99e.getProgramParameter(this._program,35721),C$99r=0;C$99r<C$99n;C$99r++){var C$99a=null;C$99i={vartype:"attribute",ivartype:0,attrib:C$99a=C$99m.isConchApp?C$99e.getActiveAttribEx(this._vs,this._ps,"",C$99r):C$99e.getActiveAttrib(this._program,C$99r),location:C$99e.getAttribLocation(this._program,C$99a.name),name:C$99a.name,type:C$99a.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0},this._attributeParams.push(C$99i);}var C$99o;for(C$99o=C$99m.isConchApp?C$99e.getProgramParameterEx(this._vs,this._ps,"",35718):C$99e.getProgramParameter(this._program,35718),C$99r=0;C$99r<C$99o;C$99r++){var C$99h=null;C$99h=C$99m.isConchApp?C$99e.getActiveUniformEx(this._vs,this._ps,"",C$99r):C$99e.getActiveUniform(this._program,C$99r),0<(C$99i={vartype:"uniform",ivartype:1,attrib:C$99a,location:C$99e.getUniformLocation(this._program,C$99h.name),name:C$99h.name,type:C$99h.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0}).name.indexOf("[0]")&&(C$99i.name=C$99i.name.substr(0,C$99i.name.length-3),C$99i.isArray=!0,C$99i.location=C$99e.getUniformLocation(this._program,C$99i.name)),this._uniformParams.push(C$99i);}for(C$99r=0,C$99s=this._attributeParams.length;C$99r<C$99s;C$99r++)(C$99i=this._attributeParams[C$99r]).indexOfParams=C$99r,C$99i.index=1,C$99i.value=[C$99i.location,null],C$99i.codename=C$99i.name,C$99i.name=null!=this._attributeMap[C$99i.codename]?this._attributeMap[C$99i.codename]:C$99i.codename,this._attributeParamsMap.push(C$99i.name),this._attributeParamsMap.push(C$99i),C$99i._this=this,C$99i.uploadedValue=[],C$99i.fun=this._attribute;for(C$99r=0,C$99s=this._uniformParams.length;C$99r<C$99s;C$99r++)switch((C$99i=this._uniformParams[C$99r]).indexOfParams=C$99r,C$99i.index=1,C$99i.value=[C$99i.location,null],C$99i.codename=C$99i.name,null!=this._sceneUniformMap[C$99i.codename]?(C$99i.name=this._sceneUniformMap[C$99i.codename],this._sceneUniformParamsMap.push(C$99i.name),this._sceneUniformParamsMap.push(C$99i)):null!=this._cameraUniformMap[C$99i.codename]?(C$99i.name=this._cameraUniformMap[C$99i.codename],this._cameraUniformParamsMap.push(C$99i.name),this._cameraUniformParamsMap.push(C$99i)):null!=this._spriteUniformMap[C$99i.codename]?(C$99i.name=this._spriteUniformMap[C$99i.codename],this._spriteUniformParamsMap.push(C$99i.name),this._spriteUniformParamsMap.push(C$99i)):null!=this._materialUniformMap[C$99i.codename]?(C$99i.name=this._materialUniformMap[C$99i.codename],this._materialUniformParamsMap.push(C$99i.name),this._materialUniformParamsMap.push(C$99i)):null!=this._renderElementUniformMap[C$99i.codename]?(C$99i.name=this._renderElementUniformMap[C$99i.codename],this._renderElementUniformParamsMap.push(C$99i.name),this._renderElementUniformParamsMap.push(C$99i)):console.log("Shader:can't find uinform name:"+C$99i.codename+" in shader file."),C$99i._this=this,C$99i.uploadedValue=[],C$99i.type){case 5124:C$99i.fun=C$99i.isArray?this._uniform1iv:this._uniform1i;break;case 5126:C$99i.fun=C$99i.isArray?this._uniform1fv:this._uniform1f;break;case 35664:C$99i.fun=C$99i.isArray?this._uniform_vec2v:this._uniform_vec2;break;case 35665:C$99i.fun=C$99i.isArray?this._uniform_vec3v:this._uniform_vec3;break;case 35666:C$99i.fun=C$99i.isArray?this._uniform_vec4v:this._uniform_vec4;break;case 35678:C$99i.fun=this._uniform_sampler2D;break;case 35680:C$99i.fun=this._uniform_samplerCube;break;case 35676:C$99i.fun=this._uniformMatrix4fv;break;case 35670:C$99i.fun=this._uniform1i;break;case 35674:C$99i.fun=this._uinformMatrix2fv;break;case 35675:C$99i.fun=this._uinformMatrix3fv;break;default:throw new Error("compile shader err!");}}},C$99t._attribute=function(C$99t,C$99e){var C$99i=C$99R.mainContext,C$99n=C$99l._enableAtributes,C$99t=C$99t.location;return C$99n[C$99t]||C$99i.enableVertexAttribArray(C$99t),C$99i.vertexAttribPointer(C$99t,C$99e[0],C$99e[1],C$99e[2],C$99e[3],C$99e[4]),C$99n[C$99t]=C$99l._bindVertexBuffer,1;},C$99t._uniform1f=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e?(C$99R.mainContext.uniform1f(C$99t.location,C$99i[0]=C$99e),1):0;},C$99t._uniform1fv=function(C$99t,C$99e){var C$99i;return C$99e.length<4?(C$99i=C$99t.uploadedValue)[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99R.mainContext.uniform1fv(C$99t.location,C$99e),C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3],1):0:(C$99R.mainContext.uniform1fv(C$99t.location,C$99e),1);},C$99t._uniform_vec2=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]?(C$99R.mainContext.uniform2f(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1]),1):0;},C$99t._uniform_vec2v=function(C$99t,C$99e){var C$99i;return C$99e.length<2?(C$99i=C$99t.uploadedValue)[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99R.mainContext.uniform2fv(C$99t.location,C$99e),C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3],1):0:(C$99R.mainContext.uniform2fv(C$99t.location,C$99e),1);},C$99t._uniform_vec3=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]?(C$99R.mainContext.uniform3f(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2]),1):0;},C$99t._uniform_vec3v=function(C$99t,C$99e){return C$99R.mainContext.uniform3fv(C$99t.location,C$99e),1;},C$99t._uniform_vec4=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99R.mainContext.uniform4f(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3]),1):0;},C$99t._uniform_vec4v=function(C$99t,C$99e){return C$99R.mainContext.uniform4fv(C$99t.location,C$99e),1;},C$99t._uniformMatrix2fv=function(C$99t,C$99e){return C$99R.mainContext.uniformMatrix2fv(C$99t.location,!1,C$99e),1;},C$99t._uniformMatrix3fv=function(C$99t,C$99e){return C$99R.mainContext.uniformMatrix3fv(C$99t.location,!1,C$99e),1;},C$99t._uniformMatrix4fv=function(C$99t,C$99e){return C$99R.mainContext.uniformMatrix4fv(C$99t.location,!1,C$99e),1;},C$99t._uinformMatrix2fv=function(C$99t,C$99e){return C$99R.mainContext.uniformMatrix2fv(C$99t.location,!1,C$99e),1;},C$99t._uinformMatrix3fv=function(C$99t,C$99e){return C$99R.mainContext.uniformMatrix3fv(C$99t.location,!1,C$99e),1;},C$99t._uniform1i=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e?(C$99R.mainContext.uniform1i(C$99t.location,C$99i[0]=C$99e),1):0;},C$99t._uniform1iv=function(C$99t,C$99e){return C$99R.mainContext.uniform1iv(C$99t.location,C$99e),1;},C$99t._uniform_ivec2=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]?(C$99R.mainContext.uniform2i(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1]),1):0;},C$99t._uniform_ivec2v=function(C$99t,C$99e){return C$99R.mainContext.uniform2iv(C$99t.location,C$99e),1;},C$99t._uniform_vec3i=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]?(C$99R.mainContext.uniform3i(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2]),1):0;},C$99t._uniform_vec3vi=function(C$99t,C$99e){return C$99R.mainContext.uniform3iv(C$99t.location,C$99e),1;},C$99t._uniform_vec4i=function(C$99t,C$99e){var C$99i=C$99t.uploadedValue;return C$99i[0]!==C$99e[0]||C$99i[1]!==C$99e[1]||C$99i[2]!==C$99e[2]||C$99i[3]!==C$99e[3]?(C$99R.mainContext.uniform4i(C$99t.location,C$99i[0]=C$99e[0],C$99i[1]=C$99e[1],C$99i[2]=C$99e[2],C$99i[3]=C$99e[3]),1):0;},C$99t._uniform_vec4vi=function(C$99t,C$99e){return C$99R.mainContext.uniform4iv(C$99t.location,C$99e),1;},C$99t._uniform_sampler2D=function(C$99t,C$99e){var C$99e=C$99e.source||C$99e.defaulteTexture.source,C$99i=C$99R.mainContext,C$99n=C$99t.uploadedValue;if(null!=C$99n[0])return C$99i.activeTexture(e$b._TEXTURES[C$99n[0]]),C$99e&&C$99P.bindTexture(C$99i,3553,C$99e),0;if(7<this._curActTexIndex)throw new Error("Shader3D: shader support textures max count is 8,can't large than it.");return C$99n[0]=this._curActTexIndex,C$99i.uniform1i(C$99t.location,this._curActTexIndex),C$99i.activeTexture(e$b._TEXTURES[this._curActTexIndex]),C$99e&&C$99P.bindTexture(C$99i,3553,C$99e),this._curActTexIndex++,1;},C$99t._uniform_samplerCube=function(C$99t,C$99e){var C$99e=C$99e.source||C$99e.defaulteTexture.source,C$99i=C$99R.mainContext,C$99n=C$99t.uploadedValue;if(null!=C$99n[0])return C$99i.activeTexture(e$b._TEXTURES[C$99n[0]]),C$99e?C$99P.bindTexture(C$99i,34067,C$99e):C$99P.bindTexture(C$99i,34067,SolidColorTextureCube.grayTexture.source),0;if(7<this._curActTexIndex)throw new Error("Shader3D: shader support textures max count is 8,can't large than it.");return C$99n[0]=this._curActTexIndex,C$99i.uniform1i(C$99t.location,this._curActTexIndex),C$99i.activeTexture(e$b._TEXTURES[this._curActTexIndex]),C$99e?C$99P.bindTexture(C$99i,34067,C$99e):C$99P.bindTexture(C$99i,34067,SolidColorTextureCube.grayTexture.source),this._curActTexIndex++,1;},C$99t._noSetValue=function(C$99t){console.log("no....:"+C$99t.name);},C$99t.bind=function(){return C$99n.activeShader=this,(C$99n.bindShader=this).activeResource(),C$99P.UseProgram(this._program);},C$99t.uploadAttributes=function(C$99t,C$99e){for(var C$99i,C$99n,C$99r=0,C$99s=0,C$99a=this._attributeParamsMap.length;C$99s<C$99a;C$99s+=2)C$99n=this._attributeParamsMap[C$99s+1],null!=(C$99i=C$99t[this._attributeParamsMap[C$99s]])&&(C$99e&&C$99e[C$99n.name]&&C$99e[C$99n.name].bind(),C$99r+=C$99n.fun.call(this,C$99n,C$99i));C$99C.shaderCall+=C$99r;},C$99t.uploadAttributesX=function(C$99t,C$99e){for(var C$99i,C$99n,C$99r=0,C$99s=0,C$99a=this._attributeParamsMap.length;C$99s<C$99a;C$99s+=2)C$99n=this._attributeParamsMap[C$99s+1],null!=(C$99i=C$99t[this._attributeParamsMap[C$99s]])&&(C$99e._bind(),C$99r+=C$99n.fun.call(this,C$99n,C$99i));C$99C.shaderCall+=C$99r;},C$99t.uploadSceneUniforms=function(C$99t){for(var C$99e,C$99i,C$99n=0,C$99r=0,C$99s=this._sceneUniformParamsMap.length;C$99r<C$99s;C$99r+=2)C$99i=this._sceneUniformParamsMap[C$99r+1],null!=(C$99e=C$99t[this._sceneUniformParamsMap[C$99r]])&&(C$99n+=C$99i.fun.call(this,C$99i,C$99e));C$99C.shaderCall+=C$99n;},C$99t.uploadCameraUniforms=function(C$99t){for(var C$99e,C$99i,C$99n=0,C$99r=0,C$99s=this._cameraUniformParamsMap.length;C$99r<C$99s;C$99r+=2)C$99i=this._cameraUniformParamsMap[C$99r+1],null!=(C$99e=C$99t[this._cameraUniformParamsMap[C$99r]])&&(C$99n+=C$99i.fun.call(this,C$99i,C$99e));C$99C.shaderCall+=C$99n;},C$99t.uploadSpriteUniforms=function(C$99t){for(var C$99e,C$99i,C$99n=0,C$99r=0,C$99s=this._spriteUniformParamsMap.length;C$99r<C$99s;C$99r+=2)C$99i=this._spriteUniformParamsMap[C$99r+1],null!=(C$99e=C$99t[this._spriteUniformParamsMap[C$99r]])&&(C$99n+=C$99i.fun.call(this,C$99i,C$99e));C$99C.shaderCall+=C$99n;},C$99t.uploadMaterialUniforms=function(C$99t){for(var C$99e,C$99i,C$99n=0,C$99r=0,C$99s=this._materialUniformParamsMap.length;C$99r<C$99s;C$99r+=2)C$99i=this._materialUniformParamsMap[C$99r+1],null!=(C$99e=C$99t[this._materialUniformParamsMap[C$99r]])&&(C$99n+=C$99i.fun.call(this,C$99i,C$99e));C$99C.shaderCall+=C$99n;},C$99t.uploadRenderElementUniforms=function(C$99t){for(var C$99e,C$99i,C$99n=0,C$99r=0,C$99s=this._renderElementUniformParamsMap.length;C$99r<C$99s;C$99r+=2)C$99i=this._renderElementUniformParamsMap[C$99r+1],null!=(C$99e=C$99t[this._renderElementUniformParamsMap[C$99r]])&&(C$99n+=C$99i.fun.call(this,C$99i,C$99e));C$99C.shaderCall+=C$99n;},e$b.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){return new e$b(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l);},e$b.addInclude=function(C$99t,C$99e){C$99S.addInclude(C$99t,C$99e);},e$b._createShader=function(C$99t,C$99e,C$99i){C$99i=C$99t.createShader(C$99i);if(C$99t.shaderSource(C$99i,C$99e),C$99t.compileShader(C$99i),C$99we.debugMode&&!C$99t.getShaderParameter(C$99i,35713))throw C$99t.getShaderInfoLog(C$99i);return C$99i;},e$b.PERIOD_RENDERELEMENT=0,e$b.PERIOD_MATERIAL=1,e$b.PERIOD_SPRITE=2,e$b.PERIOD_CAMERA=3,e$b.PERIOD_SCENE=4,e$b._TEXTURES=[33984,33985,33986,33987,33988,33989,33990,33991],e$b._count=0,e$b._preCompile=!1,e$b.extCompileFunc=null,e$b.extCompileObj=null,C$99s(e$b,["shaderParamsMap",function(){return this.shaderParamsMap={float:5126,int:5124,bool:35670,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676,sampler2D:35678,samplerCube:35680};},"nameKey",function(){return this.nameKey=new C$99A();}]),e$b;}(),C$99Le=function(C$99a){function e$o(){this._transformUV=null,e$o.__super.call(this),this.setShaderName("SIMPLE"),this._setColor(9,new C$99I(.6,.6,.6)),this._setColor(10,new C$99I(1,1,1)),this._setColor(11,new C$99oe(1,1,1,8)),this._setColor(12,new C$99I(1,1,1)),this._setColor(7,new C$99oe(1,1,1,1)),this._setNumber(0,.5),this._setColor(15,new C$99oe(1,1,0,0)),this.renderMode=1;}C$99r(e$o,"laya.d3.core.material.StandardMaterial",C$99a);var C$99t=e$o.prototype;return C$99t.disableLight=function(){this._addDisablePublicShaderDefine(C$99we.SHADERDEFINE_POINTLIGHT|C$99we.SHADERDEFINE_SPOTLIGHT|C$99we.SHADERDEFINE_DIRECTIONLIGHT);},C$99t.disableFog=function(){this._addDisablePublicShaderDefine(C$99we.SHADERDEFINE_FOG);},C$99t.onAsynLoaded=function(C$99t,C$99e,C$99i){var C$99n=C$99e[0];if(C$99n.version)C$99a.prototype.onAsynLoaded.call(this,C$99t,C$99e,C$99i);else{var C$99t=C$99e[1],C$99r=C$99n.props;for(var C$99s in C$99r)this[C$99s]=C$99r[C$99s];e$o._parseStandardMaterial(C$99t,this,C$99n),this._endLoaded();}},C$99t.cloneTo=function(C$99t){C$99a.prototype.cloneTo.call(this,C$99t);this._transformUV&&(C$99t._transformUV=this._transformUV.clone());},C$99o(0,C$99t,"ambientColor",function(){return this._getColor(9);},function(C$99t){this._setColor(9,C$99t);}),C$99o(0,C$99t,"ambientTexture",function(){return this._getTexture(5);},function(C$99t){C$99t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_AMBIENTMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_AMBIENTMAP),this._setTexture(5,C$99t);}),C$99o(0,C$99t,"renderMode",null,function(C$99t){switch(C$99t){case 1:this.renderQueue=2e3,this.depthWrite=!0,this.cull=2,this.blend=0,this.alphaTest=!1,this._removeShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;case 2:this.renderQueue=2e3,this.depthWrite=!0,this.cull=0,this.blend=0,this.alphaTest=!1,this._removeShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;case 3:this.depthWrite=!0,this.cull=2,this.blend=0,this.renderQueue=2e3,this.alphaTest=!0,this._removeShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;case 4:this.renderQueue=2e3,this.depthWrite=!0,this.cull=0,this.blend=0,this.alphaTest=!0,this._removeShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;case 13:this.renderQueue=3e3,this.depthWrite=!0,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;case 14:this.renderQueue=3e3,this.depthWrite=!0,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;case 15:this.renderQueue=3e3,this.depthWrite=!0,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;case 16:this.renderQueue=3e3,this.depthWrite=!0,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;case 5:this.renderQueue=3e3,this.depthWrite=!1,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;case 6:this.renderQueue=3e3,this.depthWrite=!1,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;case 7:this.renderQueue=3e3,this.depthWrite=!1,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;case 8:this.renderQueue=3e3,this.depthWrite=!1,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;case 9:this.renderQueue=3e3,this.depthTest=513,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;case 10:this.renderQueue=3e3,this.depthTest=513,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=771,this.alphaTest=!1,this._removeShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;case 11:this.renderQueue=3e3,this.depthTest=513,this.cull=2,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;case 12:this.renderQueue=3e3,this.depthTest=513,this.cull=0,this.blend=1,this.srcBlend=770,this.dstBlend=1,this.alphaTest=!1,this._addShaderDefine(e$o.SHADERDEFINE_ADDTIVEFOG);break;default:throw new Error("Material:renderMode value error.");}this._conchMaterial&&this._conchMaterial.setRenderMode(C$99t);}),C$99o(0,C$99t,"reflectColor",function(){return this._getColor(12);},function(C$99t){this._setColor(12,C$99t);}),C$99o(0,C$99t,"tilingOffset",function(){return this._getColor(15);},function(C$99t){var C$99e;C$99t&&(1!=(C$99e=C$99t.elements)[0]||1!=C$99e[1]||0!=C$99e[2]||0!=C$99e[3])?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_TILINGOFFSET):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_TILINGOFFSET),this._setColor(15,C$99t);}),C$99o(0,C$99t,"albedo",function(){return this._getColor(7);},function(C$99t){this._setColor(7,C$99t);}),C$99o(0,C$99t,"diffuseColor",function(){return this._getColor(10);},function(C$99t){this._setColor(10,C$99t);}),C$99o(0,C$99t,"albedoColor",function(){return this._getColor(7);},function(C$99t){this._setColor(7,C$99t);}),C$99o(0,C$99t,"specularColor",function(){return this._getColor(11);},function(C$99t){this._setColor(11,C$99t);}),C$99o(0,C$99t,"diffuseTexture",function(){return this._getTexture(1);},function(C$99t){C$99t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_DIFFUSEMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_DIFFUSEMAP),this._setTexture(1,C$99t);}),C$99o(0,C$99t,"normalTexture",function(){return this._getTexture(2);},function(C$99t){C$99t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_NORMALMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_NORMALMAP),this._setTexture(2,C$99t);}),C$99o(0,C$99t,"specularTexture",function(){return this._getTexture(3);},function(C$99t){C$99t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_SPECULARMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_SPECULARMAP),this._setTexture(3,C$99t);}),C$99o(0,C$99t,"emissiveTexture",function(){return this._getTexture(4);},function(C$99t){C$99t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_EMISSIVEMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_EMISSIVEMAP),this._setTexture(4,C$99t);}),C$99o(0,C$99t,"reflectTexture",function(){return this._getTexture(6);},function(C$99t){C$99t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_REFLECTMAP):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_REFLECTMAP),this._setTexture(6,C$99t);}),C$99o(0,C$99t,"transformUV",function(){return this._transformUV;},function(C$99t){this._transformUV=C$99t,this._setMatrix4x4(13,C$99t.matrix),C$99t?this._addShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_UVTRANSFORM):this._removeShaderDefine(laya.d3.core.material.StandardMaterial.SHADERDEFINE_UVTRANSFORM),this._conchMaterial&&this._conchMaterial.setShaderValue(13,C$99t.matrix.elements,0);}),e$o.__init__=function(){e$o.SHADERDEFINE_DIFFUSEMAP=e$o.shaderDefines.registerDefine("DIFFUSEMAP"),e$o.SHADERDEFINE_NORMALMAP=e$o.shaderDefines.registerDefine("NORMALMAP"),e$o.SHADERDEFINE_SPECULARMAP=e$o.shaderDefines.registerDefine("SPECULARMAP"),e$o.SHADERDEFINE_EMISSIVEMAP=e$o.shaderDefines.registerDefine("EMISSIVEMAP"),e$o.SHADERDEFINE_AMBIENTMAP=e$o.shaderDefines.registerDefine("AMBIENTMAP"),e$o.SHADERDEFINE_REFLECTMAP=e$o.shaderDefines.registerDefine("REFLECTMAP"),e$o.SHADERDEFINE_UVTRANSFORM=e$o.shaderDefines.registerDefine("UVTRANSFORM"),e$o.SHADERDEFINE_TILINGOFFSET=e$o.shaderDefines.registerDefine("TILINGOFFSET"),e$o.SHADERDEFINE_ADDTIVEFOG=e$o.shaderDefines.registerDefine("ADDTIVEFOG");},e$o.load=function(C$99t){return C$99y.loader.create(C$99t,null,null,e$o);},e$o._parseStandardMaterial=function(C$99t,C$99e,C$99i){var C$99i=C$99i.customProps,C$99n=C$99i.ambientColor;C$99e.ambientColor=new C$99I(C$99n[0],C$99n[1],C$99n[2]);C$99n=C$99i.diffuseColor;C$99e.diffuseColor=new C$99I(C$99n[0],C$99n[1],C$99n[2]);C$99n=C$99i.specularColor;C$99e.specularColor=new C$99oe(C$99n[0],C$99n[1],C$99n[2],C$99n[3]);C$99n=C$99i.reflectColor;C$99e.reflectColor=new C$99I(C$99n[0],C$99n[1],C$99n[2]);C$99n=C$99i.albedoColor;C$99n&&(C$99e.albedo=new C$99oe(C$99n[0],C$99n[1],C$99n[2],C$99n[3]));C$99n=C$99i.diffuseTexture.texture2D;C$99n&&(C$99e.diffuseTexture=C$99g.getRes(C$99t[C$99n]));C$99n=C$99i.normalTexture.texture2D;C$99n&&(C$99e.normalTexture=C$99g.getRes(C$99t[C$99n]));C$99n=C$99i.specularTexture.texture2D;C$99n&&(C$99e.specularTexture=C$99g.getRes(C$99t[C$99n]));C$99n=C$99i.emissiveTexture.texture2D;C$99n&&(C$99e.emissiveTexture=C$99g.getRes(C$99t[C$99n]));C$99n=C$99i.ambientTexture.texture2D;C$99n&&(C$99e.ambientTexture=C$99g.getRes(C$99t[C$99n]));C$99n=C$99i.reflectTexture.texture2D;C$99n&&(C$99e.reflectTexture=C$99g.getRes(C$99t[C$99n]));},e$o.RENDERMODE_OPAQUE=1,e$o.RENDERMODE_OPAQUEDOUBLEFACE=2,e$o.RENDERMODE_CUTOUT=3,e$o.RENDERMODE_CUTOUTDOUBLEFACE=4,e$o.RENDERMODE_TRANSPARENT=13,e$o.RENDERMODE_TRANSPARENTDOUBLEFACE=14,e$o.RENDERMODE_ADDTIVE=15,e$o.RENDERMODE_ADDTIVEDOUBLEFACE=16,e$o.RENDERMODE_DEPTHREAD_TRANSPARENT=5,e$o.RENDERMODE_DEPTHREAD_TRANSPARENTDOUBLEFACE=6,e$o.RENDERMODE_DEPTHREAD_ADDTIVE=7,e$o.RENDERMODE_DEPTHREAD_ADDTIVEDOUBLEFACE=8,e$o.RENDERMODE_NONDEPTH_TRANSPARENT=9,e$o.RENDERMODE_NONDEPTH_TRANSPARENTDOUBLEFACE=10,e$o.RENDERMODE_NONDEPTH_ADDTIVE=11,e$o.RENDERMODE_NONDEPTH_ADDTIVEDOUBLEFACE=12,e$o.SHADERDEFINE_DIFFUSEMAP=0,e$o.SHADERDEFINE_NORMALMAP=0,e$o.SHADERDEFINE_SPECULARMAP=0,e$o.SHADERDEFINE_EMISSIVEMAP=0,e$o.SHADERDEFINE_AMBIENTMAP=0,e$o.SHADERDEFINE_REFLECTMAP=0,e$o.SHADERDEFINE_UVTRANSFORM=0,e$o.SHADERDEFINE_TILINGOFFSET=0,e$o.SHADERDEFINE_ADDTIVEFOG=0,e$o.DIFFUSETEXTURE=1,e$o.NORMALTEXTURE=2,e$o.SPECULARTEXTURE=3,e$o.EMISSIVETEXTURE=4,e$o.AMBIENTTEXTURE=5,e$o.REFLECTTEXTURE=6,e$o.ALBEDO=7,e$o.UVANIAGE=8,e$o.MATERIALAMBIENT=9,e$o.MATERIALDIFFUSE=10,e$o.MATERIALSPECULAR=11,e$o.MATERIALREFLECT=12,e$o.UVMATRIX=13,e$o.UVAGE=14,e$o.TILINGOFFSET=15,C$99s(e$o,["defaultMaterial",function(){var C$99t=new e$o();return C$99t.lock=!0,this.defaultMaterial=C$99t;},"shaderDefines",function(){return this.shaderDefines=new C$99ue(C$99Ce.shaderDefines);}]),e$o;}(C$99Ce),C$99Ne=function(C$99t){function e$A(C$99t,C$99e,C$99i,C$99n,C$99r){if(this._indexType=null,this._indexTypeByteCount=0,this._indexCount=0,this._canRead=!1,void 0===C$99i&&(C$99i=35044),void 0===C$99n&&(C$99n=!1),e$A.__super.call(this),this._indexType=C$99t,this._indexCount=C$99e,this._bufferUsage=C$99i,this._bufferType=34963,this._canRead=C$99n,"ushort"==C$99t)this._indexTypeByteCount=2;else{if("ubyte"!=C$99t)throw new Error("unidentification index type.");this._indexTypeByteCount=1;}C$99i=this._indexTypeByteCount*C$99e,this._byteLength=C$99i,this._bind(),C$99l._gl.bufferData(this._bufferType,C$99i,this._bufferUsage),this.uri=C$99r,C$99n?("ushort"==C$99t?this._buffer=new Uint16Array(C$99e):"ubyte"==C$99t&&(this._buffer=new Uint8Array(C$99e)),this.memorySize=2*C$99i):this.memorySize=C$99i;}C$99r(e$A,"laya.d3.graphics.IndexBuffer3D",C$99t);var C$99e=e$A.prototype;return C$99e.setData=function(C$99t,C$99e,C$99i,C$99n){void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=4294967295);var C$99r=0;if("ushort"==this._indexType?(C$99r=2,0===C$99i&&4294967295===C$99n||(C$99t=new Uint16Array(C$99t.buffer,C$99i*C$99r,C$99n))):"ubyte"==this._indexType&&(C$99r=1,0===C$99i&&4294967295===C$99n||(C$99t=new Uint8Array(C$99t.buffer,C$99i*C$99r,C$99n))),this._bind(),C$99l._gl.bufferSubData(this._bufferType,C$99e*C$99r,C$99t),this._canRead)if(0!==C$99e||0!==C$99i||4294967295!==C$99n){C$99r=this._buffer.length-C$99e;C$99r<C$99n&&(C$99n=C$99r);for(var C$99s=0;C$99s<C$99n;C$99s++)this._buffer[C$99e+C$99s]=C$99t[C$99s];}else this._buffer=C$99t;},C$99e.getData=function(){if(this._canRead)return this._buffer;throw new Error("Can't read data from VertexBuffer with only write flag!");},C$99e.disposeResource=function(){C$99t.prototype.disposeResource.call(this),this._buffer=null,this.memorySize=0;},C$99o(0,C$99e,"indexType",function(){return this._indexType;}),C$99o(0,C$99e,"indexTypeByteCount",function(){return this._indexTypeByteCount;}),C$99o(0,C$99e,"indexCount",function(){return this._indexCount;}),C$99o(0,C$99e,"canRead",function(){return this._canRead;}),e$A.INDEXTYPE_UBYTE="ubyte",e$A.INDEXTYPE_USHORT="ushort",e$A.create=function(C$99t,C$99e,C$99i,C$99n,C$99r){return new e$A(C$99t,C$99e,C$99i=void 0===C$99i?35044:C$99i,C$99n=void 0===C$99n?!1:C$99n,C$99r);},e$A;}(C$99l),C$99ke=function(C$99s){function e$A(C$99t,C$99e,C$99i,C$99n,C$99r){this._vertexDeclaration=null,this._vertexCount=0,this._canRead=!1,void 0===C$99n&&(C$99n=!1),e$A.__super.call(this),this._vertexDeclaration=C$99t,this._vertexCount=C$99e,this._bufferUsage=C$99i,this._bufferType=34962,this._canRead=C$99n,this.uri=C$99r,this.memorySize=this._byteLength=this._vertexDeclaration.vertexStride*C$99e,this._bind(),C$99l._gl.bufferData(this._bufferType,this._byteLength,this._bufferUsage),C$99n&&(this._buffer=new Float32Array(this._byteLength/4));}C$99r(e$A,"laya.d3.graphics.VertexBuffer3D",C$99s);var C$99t=e$A.prototype;return C$99t.bindWithIndexBuffer=function(C$99t){C$99t&&C$99t._bind(),this._bind();},C$99t.setData=function(C$99t,C$99e,C$99i,C$99n){if(void 0===C$99e&&(C$99e=0),void 0===C$99n&&(C$99n=4294967295),0===(C$99i=void 0===C$99i?0:C$99i)&&4294967295===C$99n||(C$99t=new Float32Array(C$99t.buffer,4*C$99i,C$99n)),this._bind(),C$99l._gl.bufferSubData(this._bufferType,4*C$99e,C$99t),this._canRead)if(0!==C$99e||0!==C$99i||4294967295!==C$99n){C$99i=this._buffer.length-C$99e;C$99i<C$99n&&(C$99n=C$99i);for(var C$99r=0;C$99r<C$99n;C$99r++)this._buffer[C$99e+C$99r]=C$99t[C$99r];}else this._buffer=C$99t;},C$99t.getData=function(){if(this._canRead)return this._buffer;throw new Error("Can't read data from VertexBuffer with only write flag!");},C$99t.disposeResource=function(){for(var C$99t=C$99R.mainContext,C$99e=this._vertexDeclaration.getVertexElements(),C$99i=C$99l._enableAtributes,C$99n=0,C$99r=C$99e.length;C$99n<C$99r;C$99n++)C$99i[C$99n]===this._glBuffer&&(C$99t.disableVertexAttribArray(C$99n),C$99i[C$99n]=null);C$99s.prototype.disposeResource.call(this),this._buffer=null,this._vertexDeclaration=null,this.memorySize=0;},C$99o(0,C$99t,"vertexDeclaration",function(){return this._vertexDeclaration;}),C$99o(0,C$99t,"vertexCount",function(){return this._vertexCount;}),C$99o(0,C$99t,"canRead",function(){return this._canRead;}),e$A.create=function(C$99t,C$99e,C$99i,C$99n,C$99r){return new e$A(C$99t,C$99e,C$99i=void 0===C$99i?35044:C$99i,C$99n=void 0===C$99n?!1:C$99n,C$99r);},e$A;}(C$99l),C$99Oe=function(){function e$g(){this.simLodInfo=null,this._src=null,this._buffer=null,this._image=null,this._mipmaps=null,this._recreateLock=!1,this._needReleaseAgain=!1,e$g.__super.call(this),this._type=3553;}C$99r(e$g,"laya.d3.resource.DataTexture2D",C$99Ae);var C$99t=e$g.prototype;return C$99t.genDebugMipmaps=function(){var C$99t=[];return C$99t.push(new Uint8Array(new Uint32Array(131072).fill(4278190335).buffer)),C$99t.push(new Uint8Array(new Uint32Array(32768).fill(4278223103).buffer)),C$99t.push(new Uint8Array(new Uint32Array(8192).fill(4278255615).buffer)),C$99t.push(new Uint8Array(new Uint32Array(2048).fill(4278255360).buffer)),C$99t.push(new Uint8Array(new Uint32Array(512).fill(4286595072).buffer)),C$99t.push(new Uint8Array(new Uint32Array(128).fill(4294901760).buffer)),C$99t.push(new Uint8Array(new Uint32Array(32).fill(4294901888).buffer)),C$99t.push(new Uint8Array(new Uint32Array(8).fill(0).buffer)),C$99t.push(new Uint8Array(new Uint32Array(2).fill(4286611584).buffer)),C$99t.push(new Uint8Array(new Uint32Array(1).fill(4294967295).buffer)),C$99t;},C$99t._onTextureLoaded=function(C$99t){},C$99t._createWebGlTexture=function(){if(!this._buffer&&!this._image&&!this._mipmaps)throw"create GLTextur err:no data";var C$99t=C$99R.mainContext,C$99e=this._source=C$99t.createTexture(),C$99i=this._width,C$99n=this._height,C$99u=C$99P.curBindTexTarget,C$99c=C$99P.curBindTexValue,C$99_=!1;if(C$99P.bindTexture(C$99t,this._type,C$99e),this._mipmaps){if(laya.d3.resource.DataTexture2D.lodasatlas){var C$99r=0;C$99t.texImage2D(this._type,0,6408,this._width,this._height,0,6408,5121,null);for(var C$99s=0;C$99s<this._mipmaps.length;C$99s++){if(this._mipmaps[C$99s].byteLength!=C$99a*C$99o*4)throw"mipmap size error  level:"+C$99s;C$99t.texSubImage2D(this._type,0,e$g.simLodRect[C$99r++],e$g.simLodRect[C$99r++],e$g.simLodRect[C$99r++],e$g.simLodRect[C$99r++],6408,5121,new Uint8Array(this._mipmaps[C$99s]));}this.minFifter=9729,this.magFifter=9729;}else{var C$99a=this._width,C$99o=this._height;for(C$99t.texImage2D(this._type,C$99r=0,6408,this._width,this._height,0,6408,5121,null),C$99s=0;C$99s<this._mipmaps.length;C$99s++){if(this._mipmaps[C$99s].byteLength!=C$99a*C$99o*4)throw"mipmap size error  level:"+C$99s;C$99t.texImage2D(this._type,C$99s,6408,C$99a,C$99o,0,6408,5121,new Uint8Array(this._mipmaps[C$99s])),(C$99a/=2)<1&&(C$99a=1),(C$99o/=2)<1&&(C$99o=1),this.minFifter=9987,this.magFifter=9729;}}this.mipmap=!1;}else this._image?(6407==this._format&&C$99t.pixelStorei(C$99t.UNPACK_ALIGNMENT,1),C$99t.texImage2D(this._type,0,this._format,this._format,5121,this._image)):this._buffer&&(C$99e=0,C$99l=C$99h=!1,this._buffer.byteLength==4*C$99i*C$99n?(C$99e=6408,C$99h=!0):this._buffer.byteLength==3*C$99i*C$99n?(C$99e=6407,C$99l=!0):C$99e=this._format,C$99h||C$99l?(this._buffer instanceof Uint8Array||(this._buffer=new Uint8Array(this._buffer)),C$99l&&C$99t.pixelStorei(C$99t.UNPACK_ALIGNMENT,1),C$99t.texImage2D(this._type,0,C$99e,C$99i,C$99n,0,C$99e,5121,this._buffer)):C$99t&&C$99e==C$99t.ALPHA?(C$99t.texImage2D(3553,0,C$99e,C$99i,C$99n,0,C$99e,C$99t.UNSIGNED_BYTE,this._buffer),C$99_=!0):0!=C$99e&&(C$99t.compressedTexImage2D(3553,0,C$99e,C$99i,C$99n,0,this._buffer),C$99_=!0));var C$99h=this._minFifter,C$99l=this._magFifter,C$99e=0==this._wrapModeU?10497:33071,C$99d=0==this._wrapModeV?10497:33071,C$99f=C$99p.isPOT(C$99i,C$99n);C$99f?(this._mipmap||this._mipmaps?-1!==C$99h||(C$99h=9987):-1!==C$99h||(C$99h=9729),-1!==C$99l||(C$99l=9729),C$99t.texParameteri(this._type,10241,C$99h),C$99t.texParameteri(this._type,10240,C$99l),C$99t.texParameteri(this._type,10242,C$99e),C$99t.texParameteri(this._type,10243,C$99d),this._mipmap&&C$99t.generateMipmap(this._type)):(-1!==C$99l||(C$99l=9729),C$99t.texParameteri(this._type,10241,C$99h=-1!==C$99h?C$99h:9729),C$99t.texParameteri(this._type,10240,C$99l),C$99t.texParameteri(this._type,10242,33071),C$99t.texParameteri(this._type,10243,33071)),C$99u&&C$99c&&C$99P.bindTexture(C$99t,C$99u,C$99c),this.memorySize=C$99_?this._buffer.length:C$99f?C$99i*C$99n*4*(1+1/3):C$99i*C$99n*4,this.src&&0<this.src.length&&(this._buffer=null,this._image=null),this._recreateLock=!1;},C$99t.recreateResource=function(){(this._buffer||this._image||null!=this._src&&""!==this._src)&&(this._needReleaseAgain=!1,this._buffer||this._image||this._mipmaps?this._recreateLock||(this._createWebGlTexture(),this.completeCreate()):this._recreateLock=!0);},C$99t.onAsynLoaded=function(C$99t,C$99e,C$99i){var C$99n;(C$99n=C$99i?C$99i[0].call(this,C$99e):C$99n)&&(this._width=C$99n.width,this._height=C$99n.height,this._buffer=C$99n.data),this._src=C$99t,this._size=new C$99pe(this._width,this._height),this._conchTexture?alert("\u600e\u4e48\u7ed9runtime\u4f20\u9012datatexture\u6570\u636e"):this.activeResource(),this._endLoaded();},C$99t.getPixels=function(){return new Uint8Array(this._buffer);},C$99t.disposeResource=function(){this._recreateLock&&(this._needReleaseAgain=!0),this._source&&(C$99R.mainContext.deleteTexture(this._source),this._source=null,this._buffer=null,this._image=null,this.memorySize=0);},C$99o(0,C$99t,"src",function(){return this._src;}),e$g.create=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a){if(void 0===C$99n&&(C$99n=9729),void 0===C$99r&&(C$99r=9729),void 0===C$99s&&(C$99s=!0),!C$99t||C$99t.byteLength<C$99e*C$99i*4)throw"DataTexture2D create error";var C$99o=new e$g();return C$99o.uri=C$99a,C$99o._buffer=C$99t,C$99o._width=C$99e,C$99o._height=C$99i,C$99o._mipmap=C$99s,C$99o._magFifter=C$99n,C$99o._minFifter=C$99r,C$99o._size=new C$99pe(C$99o._width,C$99o._height),C$99o._conchTexture?alert("\u600e\u4e48\u7ed9runtime\u4f20\u9012datatexture\u6570\u636e"):C$99o.activeResource(),C$99o;},e$g.load=function(C$99t,C$99e,C$99i,C$99n,C$99r){if(void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=9729),void 0===C$99r&&(C$99r=9729),"mipmaps"===C$99E.getFileExtension(C$99t)){var C$99s=C$99y.loader.create(C$99t,null,null,e$g,[function(C$99t){this._mipmaps=[];var C$99e=new Uint32Array(C$99t);this._width=C$99e[0];var C$99i=512;if(laya.d3.resource.DataTexture2D.lodasatlas&&(this._width*=2,C$99i=1024),this._width!=C$99i)throw"\u73b0\u5728\u53ea\u652f\u6301512x256\u7684\u73af\u5883\u8d34\u56fe\u3002\u5f53\u524d\u7684\u662f"+C$99e[0];this._height=C$99e[1];for(var C$99n=laya.d3.resource.DataTexture2D.lodasatlas?this._width/2:this._width,C$99r=this._height,C$99s=8;;){var C$99a=C$99n*C$99r*4;if(C$99s+C$99a>C$99t.byteLength)throw"load mipmaps data size error ";var C$99o=new Uint8Array(C$99t,C$99s,C$99a);if(this._mipmaps.push(C$99o),C$99s+=C$99a,1==C$99n&&1==C$99r)break;(C$99n/=2)<1&&(C$99n=1),(C$99r/=2)<1&&(C$99r=1);}return null;}]);if(laya.d3.resource.DataTexture2D.lodasatlas){C$99s.simLodInfo=new Float32Array(40);for(var C$99a=0;C$99a<C$99s.simLodInfo.length;)C$99s.simLodInfo[C$99a]=(e$g.simLodRect[C$99a]+.5)/1024,C$99s.simLodInfo[++C$99a]=(e$g.simLodRect[C$99a]+.5)/256,C$99s.simLodInfo[++C$99a]=Math.max(e$g.simLodRect[C$99a]-1,.1)/1024,C$99s.simLodInfo[++C$99a]=Math.max(e$g.simLodRect[C$99a]-1.5,.1)/256,C$99a++;}return C$99s;}if("number"==typeof C$99e)return C$99y.loader.create(C$99t,null,null,e$g,[function(C$99t){return this._width=C$99e,this._height=C$99i,this._buffer=C$99t,null;}]);if("function"==typeof C$99e)return C$99y.loader.create(C$99t,null,null,e$g,[C$99e]);throw new Error("unknown params.");},e$g.lodasatlas=!1,C$99s(e$g,["simLodRect",function(){return this.simLodRect=new Uint32Array([0,0,512,256,512,0,256,128,768,0,128,64,896,0,64,32,960,0,32,16,992,0,16,8,1008,0,8,4,1016,0,4,2,1020,0,2,1,1022,0,1,1]);}]),e$g;}(),C$99Ve=function(){function e$t(){this._numberVertices=0,this._numberIndices=0,this._vertexBuffer=null,this._indexBuffer=null,e$t.__super.call(this);}C$99r(e$t,"laya.d3.resource.models.PrimitiveMesh",C$99Ie);var C$99t=e$t.prototype;return C$99y.imps(C$99t,{"laya.d3.core.render.IRenderable":!0}),C$99t._getVertexBuffer=function(C$99t){return 0===(C$99t=void 0===C$99t?0:C$99t)?this._vertexBuffer:null;},C$99t._getVertexBuffers=function(){return null;},C$99t._getIndexBuffer=function(){return this._indexBuffer;},C$99t._getPositions=function(){var C$99t,C$99e=[],C$99i=this._vertexBuffer.vertexDeclaration.getVertexElements(),C$99n=0;for(C$99n=0;C$99n<C$99i.length;C$99n++){var C$99r=C$99i[C$99n];if("vector3"===C$99r.elementFormat&&0===C$99r.elementUsage){C$99t=C$99r;break;}}var C$99s=this._vertexBuffer.getData();for(C$99n=0;C$99n<C$99s.length;C$99n+=this._vertexBuffer.vertexDeclaration.vertexStride/4){var C$99a=C$99n+C$99t.offset/4,C$99a=new C$99I(C$99s[C$99a+0],C$99s[C$99a+1],C$99s[C$99a+2]);C$99e.push(C$99a);}return C$99e;},C$99t.getRenderElement=function(C$99t){return this;},C$99t.getRenderElementsCount=function(){return 1;},C$99t.disposeResource=function(){this._vertexBuffer&&(this._vertexBuffer._removeReference(),this._vertexBuffer=null),this._indexBuffer&&(this._indexBuffer._removeReference(),this._indexBuffer=null),this.memorySize=0;},C$99t._beforeRender=function(C$99t){return this._vertexBuffer._bind(),this._indexBuffer._bind(),!0;},C$99t._render=function(C$99t){C$99R.mainContext.drawElements(4,this._numberIndices,5123,0),C$99C.drawCall++,C$99C.trianglesFaces+=this._numberIndices/3;},C$99o(0,C$99t,"_vertexBufferCount",function(){return 1;}),C$99o(0,C$99t,"triangleCount",function(){return this._indexBuffer.indexCount/3;}),e$t;}(),C$99Fe=function(){function e$t(){this._materials=null,this._subMeshes=null,this._vertexBuffers=null,this._indexBuffer=null,this._boneNames=null,this._inverseBindPoses=null,this._skinnedDatas=null,e$t.__super.call(this),this._subMeshes=[],this._materials=[],this._vertexBuffers=[];}C$99r(e$t,"laya.d3.resource.models.Mesh",C$99Ie);var C$99t=e$t.prototype;return C$99t._getPositions=function(){var C$99t,C$99e,C$99i,C$99n,C$99r,C$99s=[],C$99a=0,C$99o=0,C$99h=0;if(0!==this._vertexBuffers.length){var C$99l=this._vertexBuffers.length;for(C$99a=0;C$99a<C$99l;C$99a++){for(C$99i=(C$99t=this._vertexBuffers[C$99a]).vertexDeclaration.getVertexElements(),C$99o=0;C$99o<C$99i.length;C$99o++)if("vector3"===(C$99n=C$99i[C$99o]).elementFormat&&0===C$99n.elementUsage){C$99e=C$99n;break;}for(C$99r=C$99t.getData(),C$99o=0;C$99o<C$99r.length;C$99o+=C$99t.vertexDeclaration.vertexStride/4)C$99h=C$99o+C$99e.offset/4,C$99s.push(new C$99I(C$99r[C$99h+0],C$99r[C$99h+1],C$99r[C$99h+2]));}}else{var C$99u=this._subMeshes.length;for(C$99a=0;C$99a<C$99u;C$99a++){for(C$99i=(C$99t=this._subMeshes[C$99a]._getVertexBuffer()).vertexDeclaration.getVertexElements(),C$99o=0;C$99o<C$99i.length;C$99o++)if("vector3"===(C$99n=C$99i[C$99o]).elementFormat&&0===C$99n.elementUsage){C$99e=C$99n;break;}for(C$99r=C$99t.getData(),C$99o=0;C$99o<C$99r.length;C$99o+=C$99t.vertexDeclaration.vertexStride/4)C$99h=C$99o+C$99e.offset/4,C$99s.push(new C$99I(C$99r[C$99h+0],C$99r[C$99h+1],C$99r[C$99h+2]));}}return C$99s;},C$99t._setSubMeshes=function(C$99t){this._subMeshes=C$99t,this._subMeshCount=C$99t.length;for(var C$99e=0;C$99e<this._subMeshCount;C$99e++)C$99t[C$99e]._indexInMesh=C$99e;this._positions=this._getPositions(),this._generateBoundingObject();},C$99t.onAsynLoaded=function(C$99t,C$99e,C$99i){var C$99n=C$99e[0],C$99e=C$99e[1];C$99Kt.read(C$99n,this,this._materials,this._subMeshes,C$99e),this.completeCreate(),this._endLoaded();},C$99t.getSubMesh=function(C$99t){return this._subMeshes[C$99t];},C$99t.getSubMeshCount=function(){return this._subMeshes.length;},C$99t.getRenderElementsCount=function(){return this._subMeshes.length;},C$99t.getRenderElement=function(C$99t){return this._subMeshes[C$99t];},C$99t.disposeResource=function(){for(var C$99t=0;C$99t<this._subMeshes.length;C$99t++)this._subMeshes[C$99t].dispose();this._materials=null,this._subMeshes=null,this._vertexBuffers=null,this._indexBuffer=null,this._boneNames=null,this._inverseBindPoses=null;},C$99o(0,C$99t,"materials",function(){return this._materials.slice();}),C$99o(0,C$99t,"InverseAbsoluteBindPoses",function(){return this._inverseBindPoses;}),e$t.load=function(C$99t){return C$99y.loader.create(C$99t,null,null,e$t);},e$t;}(),C$99Ue=(function(){function e$I(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h){this._alreadyResolved=!1,this._surfaceFormat=0,this._surfaceType=0,this._depthStencilFormat=0,this._frameBuffer=null,this._depthStencilBuffer=null,void 0===C$99i&&(C$99i=6408),void 0===C$99n&&(C$99n=5121),void 0===C$99r&&(C$99r=33189),void 0===C$99s&&(C$99s=!1),void 0===C$99a&&(C$99a=!1),void 0===C$99o&&(C$99o=-1),void 0===C$99h&&(C$99h=-1),e$I.__super.call(this),this._type=3553,this._width=C$99t,this._height=C$99e,this._size=new C$99pe(C$99t,C$99e),this._surfaceFormat=C$99i,this._surfaceType=C$99n,this._depthStencilFormat=C$99r,C$99m.isConchWebGL&&34041===this._depthStencilFormat&&(this._depthStencilFormat=33189),this._mipmap=C$99s,this._repeat=C$99a,this._minFifter=C$99o,this._magFifter=C$99h,this.activeResource(),this._alreadyResolved=!0;}C$99r(e$I,"laya.d3.resource.RenderTexture",C$99Ae);var C$99t=e$I.prototype;C$99t.recreateResource=function(){var C$99t=C$99R.mainContext;this._frameBuffer=C$99t.createFramebuffer(),this._source=C$99t.createTexture();var C$99e=C$99P.curBindTexTarget,C$99i=C$99P.curBindTexValue;C$99P.bindTexture(C$99t,this._type,this._source),C$99t.texImage2D(this._type,0,6408,this._width,this._height,0,this._surfaceFormat,this._surfaceType,null);var C$99n=this._minFifter,C$99r=this._magFifter,C$99s=this._repeat?10497:33071;if(C$99p.isPOT(this._width,this._height)?(this._mipmap?-1!==C$99n||(C$99n=9987):-1!==C$99n||(C$99n=9729),-1!==C$99r||(C$99r=9729),C$99t.texParameteri(this._type,10241,C$99n),C$99t.texParameteri(this._type,10240,C$99r),C$99t.texParameteri(this._type,10242,C$99s),C$99t.texParameteri(this._type,10243,C$99s),this._mipmap&&C$99t.generateMipmap(this._type)):(-1!==C$99r||(C$99r=9729),C$99t.texParameteri(this._type,10241,C$99n=-1!==C$99n?C$99n:9729),C$99t.texParameteri(this._type,10240,C$99r),C$99t.texParameteri(this._type,10242,33071),C$99t.texParameteri(this._type,10243,33071)),C$99e&&C$99i&&C$99P.bindTexture(C$99t,C$99e,C$99i),C$99t.bindFramebuffer(36160,this._frameBuffer),this._depthStencilFormat)switch(this._depthStencilBuffer=C$99t.createRenderbuffer(),C$99t.bindRenderbuffer(36161,this._depthStencilBuffer),C$99t.renderbufferStorage(36161,this._depthStencilFormat,this._width,this._height),C$99t.bindRenderbuffer(36161,null),this._depthStencilFormat){case 33189:C$99t.framebufferRenderbuffer(36160,36096,36161,this._depthStencilBuffer);break;case 36168:C$99t.framebufferRenderbuffer(36160,36128,36161,this._depthStencilBuffer);break;case 34041:C$99t.framebufferRenderbuffer(36160,33306,36161,this._depthStencilBuffer);}C$99t.framebufferTexture2D(36160,36064,3553,this._source,0),C$99t.bindFramebuffer(36160,null),this.memorySize=this._width*this._height*4,this.completeCreate();},C$99t.start=function(){C$99R.mainContext.bindFramebuffer(36160,this.frameBuffer),(e$I._currentRenderTarget=this)._alreadyResolved=!1;},C$99t.end=function(){C$99R.mainContext.bindFramebuffer(36160,null),e$I._currentRenderTarget=null,this._alreadyResolved=!0;},C$99t.getData=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99R.mainContext;if(C$99r.bindFramebuffer(36160,this._frameBuffer),36053!==C$99r.checkFramebufferStatus(36160))return C$99r.bindFramebuffer(36160,null),null;var C$99s=new Uint8Array(this._width*this._height*4);return C$99r.readPixels(C$99t,C$99e,C$99i,C$99n,this._surfaceFormat,this._surfaceType,C$99s),C$99r.bindFramebuffer(36160,null),C$99s;},C$99t.disposeResource=function(){var C$99t;this._frameBuffer&&((C$99t=C$99R.mainContext).deleteTexture(this._source),C$99t.deleteFramebuffer(this._frameBuffer),C$99t.deleteRenderbuffer(this._depthStencilBuffer),this._source=null,this._frameBuffer=null,this._depthStencilBuffer=null,this.memorySize=0);},C$99o(0,C$99t,"surfaceFormat",function(){return this._surfaceFormat;}),C$99o(0,C$99t,"surfaceType",function(){return this._surfaceType;}),C$99o(0,C$99t,"depthStencilFormat",function(){return this._depthStencilFormat;}),C$99o(0,C$99t,"source",function(){return this._alreadyResolved?C$99y.superGet(C$99Ae,this,"source"):null;}),C$99o(0,C$99t,"depthStencilBuffer",function(){return this._depthStencilBuffer;}),C$99o(0,C$99t,"frameBuffer",function(){return this._frameBuffer;}),e$I._currentRenderTarget=null;}(),function(){function e$t(C$99t){this._color=null,this._pixels=null,e$t.__super.call(this),this._type=3553,this._width=1,this._height=1,this._size=new C$99pe(this.width,this.height),this._color=C$99t,this._pixels=new Uint8Array([255*C$99t.x,255*C$99t.y,255*C$99t.z,255*C$99t.w]),this.uri="SolidColorTexture2D_"+this.id;}C$99r(e$t,"laya.d3.resource.SolidColorTexture2D",C$99Ae);var C$99t=e$t.prototype;return C$99t._createWebGlTexture=function(){var C$99t=C$99R.mainContext,C$99e=this._source=C$99t.createTexture(),C$99i=this._width,C$99n=this._height,C$99r=C$99P.curBindTexTarget,C$99s=C$99P.curBindTexValue;C$99P.bindTexture(C$99t,this._type,C$99e),C$99t.texImage2D(this._type,0,6408,C$99i,C$99n,0,6408,5121,this._pixels);var C$99e=this._minFifter,C$99a=this._magFifter,C$99o=this._repeat?10497:33071,C$99h=C$99p.isPOT(C$99i,C$99n);C$99h?(this._mipmap?-1!==C$99e||(C$99e=9987):-1!==C$99e||(C$99e=9729),-1!==C$99a||(C$99a=9729),C$99t.texParameteri(this._type,10241,C$99e),C$99t.texParameteri(this._type,10240,C$99a),C$99t.texParameteri(this._type,10242,C$99o),C$99t.texParameteri(this._type,10243,C$99o),this._mipmap&&C$99t.generateMipmap(this._type)):(-1!==C$99a||(C$99a=9729),C$99t.texParameteri(this._type,10241,C$99e=-1!==C$99e?C$99e:9729),C$99t.texParameteri(this._type,10240,C$99a),C$99t.texParameteri(this._type,10242,33071),C$99t.texParameteri(this._type,10243,33071)),C$99r&&C$99s&&C$99P.bindTexture(C$99t,C$99r,C$99s),this.memorySize=C$99h?C$99i*C$99n*4*(1+1/3):C$99i*C$99n*4;},C$99t.recreateResource=function(){this._createWebGlTexture(),this.completeCreate();},C$99t.disposeResource=function(){this._source&&(C$99R.mainContext.deleteTexture(this._source),this._source=null,this.memorySize=0);},C$99s(e$t,["magentaTexture",function(){var C$99t=new e$t(new C$99oe(1,0,1,1));return C$99t.lock=!0,this.magentaTexture=C$99t;},"grayTexture",function(){var C$99t=new e$t(new C$99oe(.5,.5,.5,1));return C$99t.lock=!0,this.grayTexture=C$99t;}]),e$t;}()),C$99We=function(){function e$W(C$99t,C$99e,C$99i,C$99n){this._canRead=!1,this._image=null,this._pixels=null,void 0===C$99t&&(C$99t=!1),void 0===C$99e&&(C$99e=!0),void 0===C$99i&&(C$99i=6408),void 0===C$99n&&(C$99n=!0),e$W.__super.call(this),this._type=3553,this._repeat=C$99e,this._canRead=C$99t,this._format=C$99i,this._mipmap=C$99n;}C$99r(e$W,"laya.d3.resource.Texture2D",C$99Ae);var C$99t=e$W.prototype;return C$99t._createWebGlTexture=function(){if(!this._image)throw"create GLTextur err:no data:"+this._image;var C$99t=C$99R.mainContext,C$99e=this._source=C$99t.createTexture(),C$99i=this._width,C$99n=this._height,C$99r=C$99P.curBindTexTarget,C$99s=C$99P.curBindTexValue;switch(C$99P.bindTexture(C$99t,this._type,C$99e),this._format){case 6407:case 6408:this._canRead?C$99t.texImage2D(this._type,0,this._format,C$99i,C$99n,0,this._format,5121,this._pixels):this._image&&this._image instanceof laya.webgl.resource.WebGLImage?C$99t.texImage2D(this._type,0,this._image._format,C$99i,C$99n,0,this._image._format,5121,this._image.atlasSource):C$99t.texImage2D(this._type,0,this._format,this._format,5121,this._image);break;case C$99R.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:C$99t.compressedTexImage2D(this._type,0,this._format,this._width,this._height,0,this._image);break;default:console.error("\u6536\u5230\u5176\u4ed6\u7684\u7eb9\u7406\u7c7b\u578b\uff1a",this._format);}var C$99e=this._minFifter,C$99a=this._magFifter,C$99o=this._repeat?10497:33071,C$99h=0==this._wrapModeU?10497:33071,C$99u=0==this._wrapModeV?10497:33071,C$99l=C$99p.isPOT(C$99i,C$99n);C$99l?(this._mipmap?-1!==C$99e||(C$99e=9987):-1!==C$99e||(C$99e=9729),-1!==C$99a||(C$99a=9729),C$99t.texParameteri(this._type,10241,C$99e),C$99t.texParameteri(this._type,10240,C$99a),C$99t.texParameteri(this._type,10242,C$99o),C$99t.texParameteri(this._type,10243,C$99o),C$99t.texParameteri(this._type,10242,C$99h),C$99t.texParameteri(this._type,10243,C$99u),this._mipmap&&C$99t.generateMipmap(this._type)):(-1!==C$99a||(C$99a=9729),C$99t.texParameteri(this._type,10241,C$99e=-1!==C$99e?C$99e:9729),C$99t.texParameteri(this._type,10240,C$99a),C$99t.texParameteri(this._type,10242,33071),C$99t.texParameteri(this._type,10243,33071)),C$99r&&C$99s&&C$99P.bindTexture(C$99t,C$99r,C$99s),this._image.onload=null,this._image=null,this.memorySize=C$99l?C$99i*C$99n*4*(1+1/3):C$99i*C$99n*4;},C$99t.recreateResource=function(){this._createWebGlTexture(),this.completeCreate();},C$99t.onAsynLoaded=function(C$99t,C$99e,C$99i){var C$99n;switch(C$99i&&(void 0!==(C$99n=C$99i[0])&&(this._canRead=C$99n),void 0!==(C$99n=C$99i[1])&&(this._repeat=C$99n),void 0!==(C$99n=C$99i[2])&&(this._format=C$99n),void 0!==(C$99n=C$99i[3])&&(this._mipmap=C$99n),void 0!==(C$99n=C$99i.wrapModeU)&&(this._wrapModeU=C$99n),void 0!==(C$99n=C$99i.wrapModeV)&&(this._wrapModeV=C$99n)),this._format){case 6407:case 6408:var C$99r=(this._image=C$99e).width,C$99s=C$99e.height;this._width=C$99r,this._height=C$99s,this._size=new C$99pe(C$99r,C$99s),this._canRead&&(C$99m.isConchApp?C$99e instanceof C$99a.HTMLElement&&(this._pixels=new Uint8Array(C$99e.getImageData(0,0,C$99r,C$99s))):(C$99T.canvas.size(C$99r,C$99s),C$99T.canvas.clear(),C$99T.context.drawImage(C$99e,0,0,C$99r,C$99s),this._pixels=new Uint8Array(C$99T.context.getImageData(0,0,C$99r,C$99s).data.buffer)));break;case C$99R.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:C$99r=new C$99$(C$99e);C$99r.readUTFBytes(4),C$99r.readUTFBytes(2),C$99r.getInt16(),C$99r.endian="bigEndian",this._width=C$99r.getInt16(),this._height=C$99r.getInt16(),this._size=new C$99pe(this._width,this._height),C$99r.getInt16(),C$99r.getInt16(),this._image=new Uint8Array(C$99e,C$99r.pos);}this.recreateResource(),this._endLoaded();},C$99t.getPixels=function(){if(this._canRead)return this._pixels;throw new Error("Texture2D: must set texture canRead is true.");},C$99t.disposeResource=function(){this._source&&(C$99R.mainContext.deleteTexture(this._source),this._source=null,this._image=null,this.memorySize=0);},C$99o(0,C$99t,"_src",function(){return this.url;}),C$99o(0,C$99t,"src",function(){return this.url;}),e$W.load=function(C$99t){return C$99y.loader.create(C$99t,null,null,e$W);},e$W;}(),C$99He=function(C$99e){function e$l(C$99t,C$99e){e$l.__super.call(this),void 0===C$99t&&(C$99t=.3),void 0===C$99e&&(C$99e=1e3),this._tempVector3=new C$99I(),this._position=new C$99I(),this._up=new C$99I(),this._forward=new C$99I(),this._right=new C$99I(),this._fieldOfView=60,this._useUserProjectionMatrix=!1,this._orthographic=!1,this._viewportExpressedInClipSpace=!0,this._renderTargetSize=C$99pe.fullScreen,this._orthographicVerticalSize=10,this.renderingOrder=0,this._nearPlane=C$99t,this._farPlane=C$99e,this.cullingMask=2147483647,this.clearFlag=0,this.useOcclusionCulling=!0,this._calculateProjectionMatrix(),C$99y.stage.on("resize",this,this._onScreenSizeChanged);}C$99r(e$l,"laya.d3.core.BaseCamera",C$99e);var C$99t=e$l.prototype;return C$99t._sortCamerasByRenderingOrder=function(){if(this._displayedInStage)for(var C$99t=this.scene._cameraPool,C$99e=C$99t.length-1,C$99i=0;C$99i<C$99e;C$99i++){var C$99n;C$99t[C$99i].renderingOrder>C$99t[C$99e].renderingOrder&&(C$99n=C$99t[C$99i],C$99t[C$99i]=C$99t[C$99e],C$99t[C$99e]=C$99n);}},C$99t._calculateProjectionMatrix=function(){},C$99t._onScreenSizeChanged=function(){this._calculateProjectionMatrix();},C$99t._prepareCameraToRender=function(){C$99O._currentCameraCullingMask=this.cullingMask;var C$99t=this._shaderValues;C$99t.setValue(0,this.transform.position.elements),C$99t.setValue(5,this.forward.elements),C$99t.setValue(6,this.up.elements);},C$99t._prepareCameraViewProject=function(C$99t,C$99e){var C$99i=this._shaderValues;C$99i.setValue(1,C$99t.elements),C$99i.setValue(2,C$99e.elements);},C$99t._renderCamera=function(C$99t,C$99e,C$99i){},C$99t.addLayer=function(C$99t){29!==C$99t.number&&30!=C$99t.number&&(this.cullingMask=this.cullingMask|C$99t.mask);},C$99t.removeLayer=function(C$99t){29!==C$99t.number&&30!=C$99t.number&&(this.cullingMask=this.cullingMask&~C$99t.mask);},C$99t.addAllLayers=function(){this.cullingMask=2147483647;},C$99t.removeAllLayers=function(){this.cullingMask=0|C$99O.getLayerByNumber(29).mask|C$99O.getLayerByNumber(30).mask;},C$99t.ResetProjectionMatrix=function(){this._useUserProjectionMatrix=!1,this._calculateProjectionMatrix();},C$99t.moveForward=function(C$99t){this._tempVector3.elements[0]=this._tempVector3.elements[1]=0,this._tempVector3.elements[2]=C$99t,this.transform.translate(this._tempVector3);},C$99t.moveRight=function(C$99t){this._tempVector3.elements[1]=this._tempVector3.elements[2]=0,this._tempVector3.elements[0]=C$99t,this.transform.translate(this._tempVector3);},C$99t.moveVertical=function(C$99t){this._tempVector3.elements[0]=this._tempVector3.elements[2]=0,this._tempVector3.elements[1]=C$99t,this.transform.translate(this._tempVector3,!1);},C$99t._addSelfRenderObjects=function(){var C$99t=this.scene._cameraPool,C$99e=C$99t.length;if(0<C$99e){for(var C$99i=C$99e-1;0<=C$99i;C$99i--)if(this.renderingOrder<=C$99t[C$99i].renderingOrder){C$99t.splice(C$99i+1,0,this);break;}}else C$99t.push(this),this.scene.conchModel&&this.scene.conchModel.setCurrentCamera(this.conchModel);},C$99t._clearSelfRenderObjects=function(){var C$99t=this.scene._cameraPool;C$99t.splice(C$99t.indexOf(this),1);},C$99t.destroy=function(C$99t){void 0===C$99t&&(C$99t=!0),this._sky&&this._sky.destroy(),this.renderTarget=null,C$99y.stage.off("resize",this,this._onScreenSizeChanged),C$99e.prototype.destroy.call(this,C$99t);},C$99o(0,C$99t,"sky",function(){return this._sky;},function(C$99t){(this._sky=C$99t)._ownerCamera=this;}),C$99o(0,C$99t,"forward",function(){var C$99t=this.transform.worldMatrix.elements,C$99e=this._forward.elements;return C$99e[0]=-C$99t[8],C$99e[1]=-C$99t[9],C$99e[2]=-C$99t[10],this._forward;}),C$99o(0,C$99t,"position",function(){var C$99t=this.transform.worldMatrix.elements,C$99e=this._position.elements;return C$99e[0]=C$99t[12],C$99e[1]=C$99t[13],C$99e[2]=C$99t[14],this._position;}),C$99o(0,C$99t,"renderTarget",function(){return this._renderTarget;},function(C$99t){null!=(this._renderTarget=C$99t)&&(this._renderTargetSize=C$99t.size);}),C$99o(0,C$99t,"up",function(){var C$99t=this.transform.worldMatrix.elements,C$99e=this._up.elements;return C$99e[0]=C$99t[4],C$99e[1]=C$99t[5],C$99e[2]=C$99t[6],this._up;}),C$99o(0,C$99t,"right",function(){var C$99t=this.transform.worldMatrix.elements,C$99e=this._right.elements;return C$99e[0]=C$99t[0],C$99e[1]=C$99t[1],C$99e[2]=C$99t[2],this._right;}),C$99o(0,C$99t,"renderTargetSize",function(){return this._renderTargetSize;},function(C$99t){null!=this.renderTarget&&this._renderTargetSize,this._renderTargetSize=C$99t,this._calculateProjectionMatrix();}),C$99o(0,C$99t,"fieldOfView",function(){return this._fieldOfView;},function(C$99t){this._fieldOfView=C$99t,this._calculateProjectionMatrix();}),C$99o(0,C$99t,"nearPlane",function(){return this._nearPlane;},function(C$99t){this._nearPlane=C$99t,this._calculateProjectionMatrix();}),C$99o(0,C$99t,"farPlane",function(){return this._farPlane;},function(C$99t){this._farPlane=C$99t,this._calculateProjectionMatrix();}),C$99o(0,C$99t,"orthographic",function(){return this._orthographic;},function(C$99t){this._orthographic=C$99t,this._calculateProjectionMatrix();}),C$99o(0,C$99t,"orthographicVerticalSize",function(){return this._orthographicVerticalSize;},function(C$99t){this._orthographicVerticalSize=C$99t,this._calculateProjectionMatrix();}),C$99o(0,C$99t,"renderingOrder",function(){return this._renderingOrder;},function(C$99t){this._renderingOrder=C$99t,this._sortCamerasByRenderingOrder();}),e$l.CAMERAPOS=0,e$l.VIEWMATRIX=1,e$l.PROJECTMATRIX=2,e$l.VPMATRIX=3,e$l.VPMATRIX_NO_TRANSLATE=4,e$l.CAMERADIRECTION=5,e$l.CAMERAUP=6,e$l.ENVIRONMENTDIFFUSE=7,e$l.ENVIRONMENTSPECULAR=8,e$l.SIMLODINFO=9,e$l.DIFFUSEIRRADMATR=10,e$l.DIFFUSEIRRADMATG=11,e$l.DIFFUSEIRRADMATB=12,e$l.HDREXPOSURE=13,e$l.RENDERINGTYPE_DEFERREDLIGHTING="DEFERREDLIGHTING",e$l.RENDERINGTYPE_FORWARDRENDERING="FORWARDRENDERING",e$l.CLEARFLAG_SOLIDCOLOR=0,e$l.CLEARFLAG_SKY=1,e$l.CLEARFLAG_DEPTHONLY=2,e$l.CLEARFLAG_NONE=3,C$99s(e$l,["_invertYScaleMatrix",function(){return this._invertYScaleMatrix=new C$99ee(1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1);},"_invertYProjectionMatrix",function(){return this._invertYProjectionMatrix=new C$99ee();},"_invertYProjectionViewMatrix",function(){return this._invertYProjectionViewMatrix=new C$99ee();}]),e$l;}(C$99Pe),C$99Ge=function(C$99i){function e$t(C$99t){this._render=null,this._geometryFilter=null,e$t.__super.call(this,C$99t);}C$99r(e$t,"laya.d3.core.RenderableSprite3D",C$99i);var C$99t=e$t.prototype;return C$99t._addToInitStaticBatchManager=function(){},C$99t._setBelongScene=function(C$99t){C$99i.prototype._setBelongScene.call(this,C$99t),C$99t._renderableSprite3Ds.push(this),this._render._applyLightMapParams();},C$99t._setUnBelongScene=function(){var C$99t=this._scene._renderableSprite3Ds,C$99e=C$99t.indexOf(this);C$99t.splice(C$99e,1),this._render._removeShaderDefine(laya.d3.core.RenderableSprite3D.SAHDERDEFINE_LIGHTMAP),C$99i.prototype._setUnBelongScene.call(this);},C$99t._update=function(C$99t){(C$99t.owner=this)._activeInHierarchy&&(this._updateComponents(C$99t),this._render._updateOctreeNode(),this._lateUpdateComponents(C$99t),C$99C.spriteCount++,this._childs.length&&this._updateChilds(C$99t));},C$99t.destroy=function(C$99t){C$99i.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._render._destroy(),this._render=null;},e$t.__init__=function(){e$t.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV=e$t.shaderDefines.registerDefine("SCALEOFFSETLIGHTINGMAPUV"),e$t.SAHDERDEFINE_LIGHTMAP=e$t.shaderDefines.registerDefine("LIGHTMAP");},e$t.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV=2,e$t.SAHDERDEFINE_LIGHTMAP=4,e$t.LIGHTMAPSCALEOFFSET=2,e$t.LIGHTMAP=3,C$99s(e$t,["shaderDefines",function(){return this.shaderDefines=new C$99ue();}]),e$t;}(C$99Pe),C$99ze=(function(){function e$k(C$99t,C$99e,C$99i){this._long=NaN,this._width=NaN,this._height=NaN,void 0===C$99t&&(C$99t=1),void 0===C$99e&&(C$99e=1),void 0===C$99i&&(C$99i=1),e$k.__super.call(this),this._long=C$99t,this._width=C$99e,this._height=C$99i,this.activeResource(),this._positions=this._getPositions(),this._generateBoundingObject();}C$99r(e$k,"laya.d3.resource.models.BoxMesh",C$99Ve);var C$99t=e$k.prototype;C$99t.recreateResource=function(){this.disposeResource(),this._numberVertices=24,this._numberIndices=36;var C$99t=C$99Dt.vertexDeclaration,C$99e=(C$99t.vertexStride,this._long/2),C$99i=this._height/2,C$99n=this._width/2,C$99e=new Float32Array([-C$99e,C$99i,-C$99n,0,1,0,0,0,C$99e,C$99i,-C$99n,0,1,0,1,0,C$99e,C$99i,C$99n,0,1,0,1,1,-C$99e,C$99i,C$99n,0,1,0,0,1,-C$99e,-C$99i,-C$99n,0,-1,0,0,1,C$99e,-C$99i,-C$99n,0,-1,0,1,1,C$99e,-C$99i,C$99n,0,-1,0,1,0,-C$99e,-C$99i,C$99n,0,-1,0,0,0,-C$99e,C$99i,-C$99n,-1,0,0,0,0,-C$99e,C$99i,C$99n,-1,0,0,1,0,-C$99e,-C$99i,C$99n,-1,0,0,1,1,-C$99e,-C$99i,-C$99n,-1,0,0,0,1,C$99e,C$99i,-C$99n,1,0,0,1,0,C$99e,C$99i,C$99n,1,0,0,0,0,C$99e,-C$99i,C$99n,1,0,0,0,1,C$99e,-C$99i,-C$99n,1,0,0,1,1,-C$99e,C$99i,C$99n,0,0,1,0,0,C$99e,C$99i,C$99n,0,0,1,1,0,C$99e,-C$99i,C$99n,0,0,1,1,1,-C$99e,-C$99i,C$99n,0,0,1,0,1,-C$99e,C$99i,-C$99n,0,0,-1,1,0,C$99e,C$99i,-C$99n,0,0,-1,0,0,C$99e,-C$99i,-C$99n,0,0,-1,0,1,-C$99e,-C$99i,-C$99n,0,0,-1,1,1]),C$99i=new Uint16Array([0,1,2,2,3,0,4,7,6,6,5,4,8,9,10,10,11,8,12,15,14,14,13,12,16,17,18,18,19,16,20,23,22,22,21,20]);this._vertexBuffer=new C$99ke(C$99t,this._numberVertices,35044,!0),this._indexBuffer=new C$99Ne("ushort",this._numberIndices,35044,!0),this._vertexBuffer._addReference(),this._indexBuffer._addReference(),this._vertexBuffer.setData(C$99e),this._indexBuffer.setData(C$99i),this.memorySize=2*(this._vertexBuffer._byteLength+this._indexBuffer._byteLength),this.completeCreate();},C$99o(0,C$99t,"long",function(){return this._long;},function(C$99t){this._long!==C$99t&&(this._long=C$99t,this.releaseResource(),this.activeResource());}),C$99o(0,C$99t,"width",function(){return this._width;},function(C$99t){this._width!==C$99t&&(this._width=C$99t,this.releaseResource(),this.activeResource());}),C$99o(0,C$99t,"height",function(){return this._height;},function(C$99t){this._height!==C$99t&&(this._height=C$99t,this.releaseResource(),this.activeResource());});}(),function(){function e$W(C$99t,C$99e,C$99i,C$99n){this._long=NaN,this._width=NaN,this._stacks=0,void(this._slices=0)===C$99t&&(C$99t=10),void 0===C$99e&&(C$99e=10),void 0===C$99i&&(C$99i=10),void 0===C$99n&&(C$99n=10),e$W.__super.call(this),this._long=C$99t,this._width=C$99e,this._stacks=C$99i,this._slices=C$99n,this.activeResource(),this._positions=this._getPositions(),this._generateBoundingObject();}C$99r(e$W,"laya.d3.resource.models.PlaneMesh",C$99Ve);var C$99t=e$W.prototype;C$99t.recreateResource=function(){this.disposeResource(),this._numberVertices=(this._stacks+1)*(this._slices+1),this._numberIndices=this._stacks*this._slices*2*3;for(var C$99t=new Uint16Array(this._numberIndices),C$99e=C$99Dt.vertexDeclaration,C$99i=C$99e.vertexStride/4,C$99n=new Float32Array(this._numberVertices*C$99i),C$99r=this._long/2,C$99s=this._width/2,C$99u=this._long/this._stacks,C$99c=this._width/this._slices,C$99a=0,C$99o=0;C$99o<=this._slices;C$99o++)for(var C$99h=0;C$99h<=this._stacks;C$99h++)C$99n[C$99a++]=C$99h*C$99u-C$99r,C$99n[C$99a++]=0,C$99n[C$99a++]=C$99o*C$99c-C$99s,C$99n[C$99a++]=0,C$99n[C$99a++]=1,C$99n[C$99a++]=0,C$99n[C$99a++]=+C$99h/this._stacks,C$99n[C$99a++]=+C$99o/this._slices;var C$99l=0;for(C$99o=0;C$99o<this._slices;C$99o++)for(C$99h=0;C$99h<this._stacks;C$99h++)C$99t[C$99l++]=(C$99o+1)*(this._stacks+1)+C$99h,C$99t[C$99l++]=C$99o*(this._stacks+1)+C$99h,C$99t[C$99l++]=(C$99o+1)*(this._stacks+1)+C$99h+1,C$99t[C$99l++]=C$99o*(this._stacks+1)+C$99h,C$99t[C$99l++]=C$99o*(this._stacks+1)+C$99h+1,C$99t[C$99l++]=(C$99o+1)*(this._stacks+1)+C$99h+1;this._vertexBuffer=new C$99ke(C$99e,this._numberVertices,35044,!0),this._vertexBuffer._addReference(),this._indexBuffer=new C$99Ne("ushort",this._numberIndices,35044,!0),this._indexBuffer._addReference(),this._vertexBuffer.setData(C$99n),this._indexBuffer.setData(C$99t),this.memorySize=2*(this._vertexBuffer._byteLength+this._indexBuffer._byteLength),this.completeCreate();},C$99o(0,C$99t,"long",function(){return this._long;},function(C$99t){this._long!==C$99t&&(this._long=C$99t,this.releaseResource(),this.activeResource());}),C$99o(0,C$99t,"width",function(){return this._width;},function(C$99t){this._width!==C$99t&&(this._width=C$99t,this.releaseResource(),this.activeResource());}),C$99o(0,C$99t,"stacks",function(){return this._stacks;},function(C$99t){this._stacks!==C$99t&&(this._stacks=C$99t,this.releaseResource(),this.activeResource());}),C$99o(0,C$99t,"slices",function(){return this._slices;},function(C$99t){this._slices!==C$99t&&(this._slices=C$99t,this.releaseResource(),this.activeResource());});}(),function(){function e$A(C$99t,C$99e,C$99i){void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=.3),void 0===C$99i&&(C$99i=1e3),this._viewMatrix=new C$99ee(),this._projectionMatrix=new C$99ee(),this._projectionViewMatrix=new C$99ee(),this._viewport=new C$99he(0,0,0,0),this._normalizedViewport=new C$99he(0,0,1,1),this._aspectRatio=C$99t,this._boundFrustumUpdate=!0,this._boundFrustum=new C$99Zt(C$99ee.DEFAULT),e$A.__super.call(this,C$99e,C$99i),this.transform.on("worldmatrixneedchanged",this,this._onWorldMatrixChanged);}C$99r(e$A,"laya.d3.core.Camera",C$99He);var C$99t=e$A.prototype;return C$99t._onWorldMatrixChanged=function(){this._boundFrustumUpdate=!0;},C$99t._parseCustomProps=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99i.clearColor;this.clearColor=new C$99oe(C$99r[0],C$99r[1],C$99r[2],C$99r[3]);C$99r=C$99i.viewport;this.normalizedViewport=new C$99he(C$99r[0],C$99r[1],C$99r[2],C$99r[3]);},C$99t._calculateProjectionMatrix=function(){var C$99t,C$99e;this._useUserProjectionMatrix||(this._orthographic?(C$99t=this.orthographicVerticalSize*this.aspectRatio*.5,C$99e=.5*this.orthographicVerticalSize,C$99ee.createOrthoOffCenterRH(-C$99t,C$99t,-C$99e,C$99e,this.nearPlane,this.farPlane,this._projectionMatrix)):C$99ee.createPerspective(3.1416*this.fieldOfView/180,this.aspectRatio,this.nearPlane,this.farPlane,this._projectionMatrix)),this._boundFrustumUpdate=!0;},C$99t._update=function(C$99t){this.conchModel&&(this.conchModel.setViewMatrix(this.viewMatrix.elements),this.conchModel.setProjectMatrix(this.projectionMatrix.elements)),laya.d3.core.Sprite3D.prototype._update.call(this,C$99t);},C$99t._renderCamera=function(C$99t,C$99e,C$99i){var C$99n,C$99r;C$99i.parallelSplitShadowMaps[0]&&C$99i._renderShadowMap(C$99t,C$99e,this),(C$99e.camera=this)._prepareCameraToRender(),C$99i._preRenderUpdateComponents(C$99e),C$99n=C$99e._viewMatrix=this.viewMatrix;var C$99s=this._renderTarget;C$99s?(C$99s.start(),C$99ee.multiply(C$99He._invertYScaleMatrix,this._projectionMatrix,C$99He._invertYProjectionMatrix),C$99ee.multiply(C$99He._invertYScaleMatrix,this.projectionViewMatrix,C$99He._invertYProjectionViewMatrix),C$99r=C$99e._projectionMatrix=C$99He._invertYProjectionMatrix,C$99e._projectionViewMatrix=C$99He._invertYProjectionViewMatrix):(C$99r=C$99e._projectionMatrix=this._projectionMatrix,C$99e._projectionViewMatrix=this.projectionViewMatrix),this._prepareCameraViewProject(C$99n,C$99r),C$99e._viewport=this.viewport,C$99i._preRenderScene(C$99t,C$99e,this.boundFrustum),C$99i._clear(C$99t,C$99e),C$99i._renderScene(C$99t,C$99e),C$99i._postRenderUpdateComponents(C$99e),C$99s&&C$99s.end();},C$99t.viewportPointToRay=function(C$99t,C$99e){C$99fe.calculateCursorRay(C$99t,this.viewport,this._projectionMatrix,this.viewMatrix,null,C$99e);},C$99t.normalizedViewportPointToRay=function(C$99t,C$99e){var C$99i=e$A._tempVector20,C$99n=this.viewport,C$99t=C$99t.elements,C$99r=C$99i.elements;C$99r[0]=C$99t[0]*C$99n.width,C$99r[1]=C$99t[1]*C$99n.height,C$99fe.calculateCursorRay(C$99i,this.viewport,this._projectionMatrix,this.viewMatrix,null,C$99e);},C$99t.worldToViewportPoint=function(C$99t,C$99e){C$99ee.multiply(this._projectionMatrix,this._viewMatrix,this._projectionViewMatrix),this.viewport.project(C$99t,this._projectionViewMatrix,C$99e);C$99t=C$99e.elements;C$99t[0]=C$99t[0]/C$99y.stage.clientScaleX,C$99t[1]=C$99t[1]/C$99y.stage.clientScaleY;},C$99t.worldToNormalizedViewportPoint=function(C$99t,C$99e){C$99ee.multiply(this._projectionMatrix,this._viewMatrix,this._projectionViewMatrix),this.normalizedViewport.project(C$99t,this._projectionViewMatrix,C$99e);C$99t=C$99e.elements;C$99t[0]=C$99t[0]/C$99y.stage.clientScaleX,C$99t[1]=C$99t[1]/C$99y.stage.clientScaleY;},C$99t.convertScreenCoordToOrthographicCoord=function(C$99t,C$99e){var C$99i,C$99n,C$99r,C$99s,C$99a;return!!this._orthographic&&(C$99i=C$99q.clientWidth,C$99n=C$99q.clientHeight,C$99r=this.orthographicVerticalSize*this.aspectRatio/C$99i,C$99s=this.orthographicVerticalSize/C$99n,C$99t=C$99t.elements,(C$99a=C$99e.elements)[0]=(-C$99i/2+C$99t[0])*C$99r,C$99a[1]=(C$99n/2-C$99t[1])*C$99s,C$99a[2]=(this.nearPlane-this.farPlane)*(C$99t[2]+1)/2-this.nearPlane,C$99I.transformCoordinate(C$99e,this.transform.worldMatrix,C$99e),!0);},C$99o(0,C$99t,"projectionViewMatrix",function(){return C$99ee.multiply(this.projectionMatrix,this.viewMatrix,this._projectionViewMatrix),this._projectionViewMatrix;}),C$99o(0,C$99t,"aspectRatio",function(){if(0!==this._aspectRatio)return this._aspectRatio;var C$99t=this.viewport;return C$99t.width/C$99t.height;},function(C$99t){if(C$99t<0)throw new Error("Camera: the aspect ratio has to be a positive real number.");this._aspectRatio=C$99t,this._calculateProjectionMatrix();}),C$99o(0,C$99t,"boundFrustum",function(){return this._boundFrustumUpdate&&(this._boundFrustum.matrix=this.projectionViewMatrix),this._boundFrustum;}),C$99o(0,C$99t,"needViewport",function(){var C$99t=this.normalizedViewport;return 0===C$99t.x&&0===C$99t.y&&1===C$99t.width&&1===C$99t.height;}),C$99o(0,C$99t,"viewport",function(){var C$99t,C$99e,C$99i;return this._viewportExpressedInClipSpace&&(C$99t=this._normalizedViewport,C$99e=(C$99i=this.renderTargetSize).width,C$99i=C$99i.height,this._viewport.x=C$99t.x*C$99e,this._viewport.y=C$99t.y*C$99i,this._viewport.width=C$99t.width*C$99e,this._viewport.height=C$99t.height*C$99i),this._viewport;},function(C$99t){if(null!=this.renderTarget&&(C$99t.x<0||C$99t.y<0||0==C$99t.width||0==C$99t.height))throw new Error("Camera: viewport size invalid.","value");this._viewportExpressedInClipSpace=!1,this._viewport=C$99t,this._calculateProjectionMatrix();}),C$99o(0,C$99t,"normalizedViewport",function(){var C$99t,C$99e,C$99i;return this._viewportExpressedInClipSpace||(C$99t=this._viewport,C$99e=(C$99i=this.renderTargetSize).width,C$99i=C$99i.height,this._normalizedViewport.x=C$99t.x/C$99e,this._normalizedViewport.y=C$99t.y/C$99i,this._normalizedViewport.width=C$99t.width/C$99e,this._normalizedViewport.height=C$99t.height/C$99i),this._normalizedViewport;},function(C$99t){C$99t.x<0&&(C$99t.x=0,console.warn("Camera: viewport.x must large than 0.0.")),C$99t.y<0&&(C$99t.y=0,console.warn("Camera: viewport.y must large than 0.0.")),1<C$99t.x+C$99t.width&&(C$99t.width=1-C$99t.x,console.warn("Camera: viewport.width + viewport.x must less than 1.0.")),1<C$99t.y+C$99t.height&&(C$99t.height=1-C$99t.y,console.warn("Camera: viewport.height + viewport.y must less than 1.0.")),this._viewportExpressedInClipSpace=!0,this._normalizedViewport=C$99t,this._calculateProjectionMatrix();}),C$99o(0,C$99t,"projectionMatrix",function(){return this._projectionMatrix;},function(C$99t){this._projectionMatrix=C$99t,this._useUserProjectionMatrix=!0;}),C$99o(0,C$99t,"viewMatrix",function(){return this.transform.worldMatrix.invert(this._viewMatrix),this._viewMatrix;}),C$99s(e$A,["_tempVector20",function(){return this._tempVector20=new C$99ae();}]),e$A;}()),C$99Ye=function(C$99i){function e$k(C$99t,C$99e){e$k.__super.call(this,C$99e),this._geometryFilter=new C$99De(this),this._render=new C$99Ee(this),this._geometryFilter.on("meshchanged",this,this._onMeshChanged),this._render.on("materialchanged",this,this._onMaterialChanged),C$99t&&(this._geometryFilter.sharedMesh=C$99t)instanceof laya.d3.resource.models.Mesh&&(C$99t.loaded?this._render.sharedMaterials=C$99t.materials:C$99t.once("loaded",this,this._applyMeshMaterials));}C$99r(e$k,"laya.d3.core.MeshSprite3D",C$99i);var C$99t=e$k.prototype;return C$99t._changeRenderObjectByMesh=function(C$99t){var C$99e=this._render._renderElements,C$99i=C$99e[C$99t];(C$99i=C$99i||(C$99e[C$99t]=new C$99be()))._render=this._render;C$99e=this._render.sharedMaterials[C$99t];C$99e=C$99e||C$99Le.defaultMaterial;C$99t=this._geometryFilter.sharedMesh.getRenderElement(C$99t);return C$99i._mainSortID=this._getSortID(C$99t,C$99e),C$99i._sprite3D=this,C$99i.renderObj=C$99t,C$99i._material=C$99e,C$99i;},C$99t._changeRenderObjectByMaterial=function(C$99t,C$99e){var C$99i=this._render._renderElements[C$99t];C$99e=C$99e||C$99Le.defaultMaterial;C$99t=this._geometryFilter.sharedMesh.getRenderElement(C$99t);return C$99i._mainSortID=this._getSortID(C$99t,C$99e),C$99i._sprite3D=this,C$99i.renderObj=C$99t,C$99i._material=C$99e,C$99i;},C$99t._changeRenderObjectsByMesh=function(){var C$99t=this._geometryFilter.sharedMesh.getRenderElementsCount();this._render._renderElements.length=C$99t;for(var C$99e=0;C$99e<C$99t;C$99e++)this._changeRenderObjectByMesh(C$99e);},C$99t._onMeshChanged=function(C$99t){C$99t=C$99t.sharedMesh;C$99t.loaded?this._changeRenderObjectsByMesh():C$99t.once("loaded",this,this._onMeshLoaded);},C$99t._onMeshLoaded=function(C$99t){C$99t===this.meshFilter.sharedMesh&&this._changeRenderObjectsByMesh();},C$99t._onMaterialChanged=function(C$99t,C$99e,C$99i){C$99e<this._render._renderElements.length&&this._changeRenderObjectByMaterial(C$99e,C$99i);},C$99t._clearSelfRenderObjects=function(){this.scene.removeFrustumCullingObject(this._render);},C$99t._addSelfRenderObjects=function(){this.scene.addFrustumCullingObject(this._render);},C$99t._parseCustomProps=function(C$99u,C$99t,C$99e,C$99i){var C$99n=this.meshRender,C$99r=C$99e.lightmapIndex;null!=C$99r&&(C$99n.lightmapIndex=C$99r);var C$99s,C$99a,C$99r=C$99e.lightmapScaleOffset;if(C$99r&&(C$99n.lightmapScaleOffset=new C$99oe(C$99r[0],C$99r[1],C$99r[2],C$99r[3])),C$99i.instanceParams)(C$99s=C$99i.instanceParams.loadPath)&&(C$99a=C$99g.getRes(C$99t[C$99s]),(this.meshFilter.sharedMesh=C$99a).loaded?C$99n.sharedMaterials=C$99a.materials:C$99a.once("loaded",this,this._applyMeshMaterials));else{(C$99s=C$99e.meshPath)&&(C$99a=C$99g.getRes(C$99t[C$99s]),this.meshFilter.sharedMesh=C$99a);var C$99o=C$99e.materials;if(C$99o){var C$99h=C$99n.sharedMaterials,C$99c=C$99o.length;C$99h.length=C$99c;for(var C$99l=0;C$99l<C$99c;C$99l++)C$99h[C$99l]=C$99g.getRes(C$99t[C$99o[C$99l].path]);C$99n.sharedMaterials=C$99h;}}},C$99t._applyMeshMaterials=function(C$99t){for(var C$99e=this._render.sharedMaterials,C$99i=C$99t.materials,C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99n++)C$99e[C$99n]||(C$99e[C$99n]=C$99i[C$99n]);this._render.sharedMaterials=C$99e;},C$99t._addToInitStaticBatchManager=function(){e$k._staticBatchManager._addInitBatchSprite(this);},C$99t.cloneTo=function(C$99t){var C$99e=C$99t;C$99e._geometryFilter.sharedMesh=this._geometryFilter.sharedMesh;var C$99i=this._render,C$99e=C$99e._render;C$99e.enable=C$99i.enable,C$99e.sharedMaterials=C$99i.sharedMaterials,C$99e.castShadow=C$99i.castShadow;var C$99n=C$99i.lightmapScaleOffset;C$99n&&(C$99e.lightmapScaleOffset=C$99n.clone()),C$99e.lightmapIndex=C$99i.lightmapIndex,C$99e.receiveShadow=C$99i.receiveShadow,C$99e.sortingFudge=C$99i.sortingFudge,laya.d3.core.Sprite3D.prototype.cloneTo.call(this,C$99t);},C$99t.destroy=function(C$99t){var C$99e;void 0===C$99t&&(C$99t=!0),this.destroyed||(null!=(C$99e=this.meshFilter.sharedMesh)&&(C$99e.loaded||C$99e.off("loaded",this,this._applyMeshMaterials)),C$99i.prototype.destroy.call(this,C$99t),this._geometryFilter._destroy());},C$99o(0,C$99t,"meshFilter",function(){return this._geometryFilter;}),C$99o(0,C$99t,"meshRender",function(){return this._render;}),e$k.__init__=function(){C$99st._staticBatchManagers.push(e$k._staticBatchManager);},e$k.load=function(C$99t){return C$99y.loader.create(C$99t,null,null,e$k);},C$99s(e$k,["_staticBatchManager",function(){return this._staticBatchManager=new C$99Te();}]),e$k;}(C$99Ge);function e$Y(){e$Y.__super.call(this);}function e$D(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){for(var C$99a in this._name=NaN,this._attributeMap=null,this._renderElementUniformMap=null,this._materialUniformMap=null,this._spriteUniformMap=null,this._cameraUniformMap=null,this._sceneUniformMap=null,this.sharders=null,this._spriteDefineCounter=3,this._spriteInt2name=[],this._spriteName2Int={},this._materialDefineCounter=1,this._materialInt2name=[],this._materialName2Int={},this._conchShader=null,this._name=C$99t,this._renderElementUniformMap={},this._materialUniformMap={},this._spriteUniformMap={},this._cameraUniformMap={},this._sceneUniformMap={},this.sharders=[],this._spriteInt2name[C$99de.SHADERDEFINE_RECEIVE_SHADOW]="RECEIVESHADOW",this._spriteInt2name[C$99Ge.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV]="SCALEOFFSETLIGHTINGMAPUV",this._spriteInt2name[C$99Ge.SAHDERDEFINE_LIGHTMAP]="LIGHTMAP",this._spriteInt2name[0]="BONE",this._materialInt2name[C$99Ce.SHADERDEFINE_ALPHATEST]="ALPHATEST",e$D.__super.call(this,C$99t,C$99e,C$99i,null,{}),this._attributeMap=C$99n,C$99r){var C$99o=C$99r[C$99a];switch(C$99o[1]){case 0:this._renderElementUniformMap[C$99a]=C$99o[0];break;case 1:this._materialUniformMap[C$99a]=C$99o[0];break;case 2:this._spriteUniformMap[C$99a]=C$99o[0];break;case 3:this._cameraUniformMap[C$99a]=C$99o[0];break;case 4:this._sceneUniformMap[C$99a]=C$99o[0];break;default:throw new Error("ShaderCompile3D: period is unkonw.");}}}function e$J(){this.angle=NaN,this.radius=NaN,this.length=NaN,this.emitType=0,e$J.__super.call(this),this.angle=25/180*Math.PI,this.radius=1,this.length=5,this.emitType=0,this.randomDirection=!1;}var C$99Xe,C$99je;function e$S(){}function e$C(){}function e$X(){}function e$T(C$99t){this._mesh=null,this._boneIndicesList=null,this._subIndexBufferStart=null,this._subIndexBufferCount=null,this._skinAnimationDatas=null,this._bufferUsage=null,this._indexInMesh=0,this._vertexBuffer=null,this._vertexStart=0,this._vertexCount=0,this._indexBuffer=null,this._indexStart=0,this._indexCount=0,this._indices=null,this._bufferUsage={},this._mesh=C$99t,this._boneIndicesList=[],this._subIndexBufferStart=[],this._subIndexBufferCount=[];}function e$R(C$99t,C$99e){this.normal=null,this.distance=NaN,void 0===C$99e&&(C$99e=0),this.normal=C$99t,this.distance=C$99e;}function e$$(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99u,C$99c,C$99_,C$99d,C$99f,C$99p,C$99m){void 0===C$99t&&(C$99t=1),void 0===C$99e&&(C$99e=0),void 0===C$99i&&(C$99i=0),void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0),void 0===C$99s&&(C$99s=1),void 0===C$99a&&(C$99a=0),void 0===C$99o&&(C$99o=0),void 0===C$99h&&(C$99h=0),void 0===C$99u&&(C$99u=0),void 0===C$99c&&(C$99c=1),void 0===C$99_&&(C$99_=0),void 0===C$99d&&(C$99d=0),void 0===C$99f&&(C$99f=0),void 0===C$99p&&(C$99p=0),void 0===C$99m&&(C$99m=1);var C$99l=this.elements=new Float32Array(16);C$99l[0]=C$99t,C$99l[1]=C$99e,C$99l[2]=C$99i,C$99l[3]=C$99n,C$99l[4]=C$99r,C$99l[5]=C$99s,C$99l[6]=C$99a,C$99l[7]=C$99o,C$99l[8]=C$99h,C$99l[9]=C$99u,C$99l[10]=C$99c,C$99l[11]=C$99_,C$99l[12]=C$99d,C$99l[13]=C$99f,C$99l[14]=C$99p,C$99l[15]=C$99m;}function e$o(){var C$99t=this.elements=new Float32Array(9);C$99t[0]=1,C$99t[1]=0,C$99t[2]=0,C$99t[3]=0,C$99t[4]=1,C$99t[5]=0,C$99t[6]=0,C$99t[7]=0,C$99t[8]=1;}function e$l(){}function e$b(C$99t,C$99e){this.center=null,this.radius=NaN,this.center=C$99t,this.radius=C$99e;}function e$G(){}function e$q(){}function e$g(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){this._version=null,this._strings=["BLOCK","DATA","STRINGS"],this._materials=null,this._subMeshes=null,this._materialMap=null,this._readData=null,this._mesh=null,this._BLOCK={count:0},this._DATA={offset:0,size:0},this._STRINGS={offset:0,size:0},this._shaderAttributes=null,this._mesh=C$99i,this._materials=C$99n,this._subMeshes=C$99r,this._materialMap=C$99s,this._version=C$99e,this._onLoaded(C$99t);}function e$H(C$99t){this._vertexDeclaration=null,this._vertexDatas=null,this._indexDatas=null,this._vertexBuffer=null,this._indexBuffer=null,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._combineRenderElements=null,this._materials=null,this._materialToRenderElementsOffsets=null,this._merageElements=null,this._combineRenderElementPool=null,this._combineRenderElementPoolIndex=0,this._currentCombineVertexCount=0,this._currentCombineIndexCount=0,this._combineRenderElements=[],this._materialToRenderElementsOffsets=[],this._materials=[],this._merageElements=[],this._combineRenderElementPool=[],this._combineRenderElementPoolIndex=0,this._vertexDeclaration=C$99t;}function e$A(C$99t,C$99e){this._exactBox=null,this._relaxBox=null,this._scene=null,this._parent=null,this._currentDepth=0,this._boundingSphere=new C$99Qt(new C$99I(),0),this._corners=[new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I()],this._boundingBoxCenter=new C$99I(),this._children=C$99i(8),this._objects=[],this._tempBoundBoxCorners=[new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I(),new C$99I()],this._scene=C$99t,this._currentDepth=C$99e;}function e$t(C$99t){this._id=0,this._needSort=!1,this._renderElements=null,this._renderableRenderObjects=null,this._dynamicBatchCombineRenderElements=null,this._finalElements=null,this._scene=null,this._id=++e$t._uniqueIDCounter,this._needSort=!1,this._scene=C$99t,this._renderElements=[],this._renderableRenderObjects=[],this._dynamicBatchCombineRenderElements=[],this._errorRecord={};}var C$99t;function e$i(){}function e$B(){this._type=0,this._separateAxes=!1,this._gradient=null,this._gradientX=null,this._gradientY=null,this._gradientZ=null,this._constantMin=NaN,this._constantMax=NaN,this._constantMinSeparate=null,this._constantMaxSeparate=null,this._gradientMin=null,this._gradientMax=null,this._gradientXMin=null,this._gradientXMax=null,this._gradientYMin=null,this._gradientYMax=null,this._gradientZMin=null,this._gradientZMax=null;}function e$I(){this._type=0,this._separateAxes=!1,this._constant=NaN,this._constantSeparate=null,this._gradient=null,this._gradientX=null,this._gradientY=null,this._gradientZ=null,this._gradientW=null,this._constantMin=NaN,this._constantMax=NaN,this._constantMinSeparate=null,this._constantMaxSeparate=null,this._gradientMin=null,this._gradientMax=null,this._gradientXMin=null,this._gradientXMax=null,this._gradientYMin=null,this._gradientYMax=null,this._gradientZMin=null,this._gradientZMax=null,this._gradientWMin=null,this._gradientWMax=null;}function e$W(){this._visible=!0,this._nonRigidbodyOffset=0,this._colliders=[];}function e$Q(C$99t,C$99e,C$99i,C$99n){this._datas=null,this._w=0,this._h=0,this._minHeight=NaN,this._maxHeight=NaN,this._datas=[],this._w=C$99t,this._h=C$99e,this._minHeight=C$99i,this._maxHeight=C$99n;}function e$k(){this._childs=[],this.transform=new C$99ve(this);}var C$99G;function e$d(){this.time=NaN,this.eventName=null,this.params=null;}}(window,(document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$99t,C$99e){"use strict";for(var C$99i in Object.defineProperty(C$99e,"__esModule",{value:!0}),Laya){var C$99n=Laya[C$99i];C$99n&&C$99n.__isclass&&(C$99e[C$99i]=C$99n);}}),function(C$99E){C$99E.un,C$99E.uns;var C$99t=C$99E.static,C$99i=C$99E.class,C$99n=C$99E.getset,C$99p=C$99E.__newvec,C$99s=laya.maths.Bezier,C$99u=laya.utils.Browser,C$99At=laya.utils.Byte,C$99e=(laya.events.Event,laya.events.EventDispatcher),C$99a=laya.display.Graphics,C$99o=(laya.resource.HTMLCanvas,laya.utils.Handler),C$99h=laya.net.Loader,C$99c=laya.maths.MathUtil,C$99Ct=laya.maths.Matrix,C$99l=(laya.display.Node,laya.maths.Point,laya.maths.Rectangle,laya.renders.Render),C$99_=(laya.renders.RenderContext,laya.resource.Resource),C$99d=laya.utils.RunDriver,C$99R=laya.display.Sprite,C$99f=laya.utils.Stat,C$99It=laya.resource.Texture,C$99m=(laya.net.URL,laya.utils.Utils),C$99M=(C$99i(e$d,"laya.ani.AnimationContent"),e$d),C$99C=function(){function e$d(){this.name=null,this.parentIndex=0,this.parent=null,this.keyframeWidth=0,this.lerpType=0,this.interpolationMethod=null,this.childs=null,this.keyFrame=null,this.playTime=NaN,this.extenData=null,this.dataOffset=0;}return C$99i(e$d,"laya.ani.AnimationNodeContent"),e$d;}(),C$99g=function(){function e$d(){}return C$99i(e$d,"laya.ani.AnimationParser01"),e$d.parse=function(C$99t,C$99e){var C$99u,C$99c=C$99e.__getBuffer(),C$99_=0,C$99d=0,C$99i=0,C$99n=0,C$99f=0,C$99r=0,C$99p=C$99e.readUTFString();C$99t._aniClassName=C$99p;var C$99m,C$99g=C$99e.readUTFString().split("\n"),C$99v=C$99e.getUint8(),C$99p=C$99e.getUint32(),C$99$=C$99e.getUint32();0<C$99p&&(C$99m=C$99c.slice(C$99p,C$99$));var C$99x=new C$99At(C$99m);for(0<C$99$&&(C$99t._publicExtData=C$99c.slice(C$99$,C$99c.byteLength)),C$99t._useParent=!!C$99e.getUint8(),C$99t._anis.length=C$99v,C$99_=0;C$99_<C$99v;C$99_++){var C$99s=C$99t._anis[C$99_]=new C$99M();C$99s.nodes=new Array();var C$99y=C$99s.name=C$99g[C$99e.getUint16()];C$99t._aniMap[C$99y]=C$99_,C$99s.bone3DMap={},C$99s.playTime=C$99e.getFloat32(),C$99s.playTime<=0&&console.error("\u64ad\u653e\u65f6\u95f4\u4e0d\u80fd\u4e3a0  url="+C$99t.url+" name="+C$99s.name);var C$99b=C$99s.nodes.length=C$99e.getUint8();for(C$99d=C$99s.totalKeyframeDatasLength=0;C$99d<C$99b;C$99d++){var C$99a=C$99s.nodes[C$99d]=new C$99C();C$99a.childs=[];var C$99o=C$99e.getInt16();0<=C$99o&&(C$99a.name=C$99g[C$99o],C$99s.bone3DMap[C$99a.name]=C$99d),C$99a.keyFrame=new Array(),C$99a.parentIndex=C$99e.getInt16(),-1==C$99a.parentIndex?C$99a.parent=null:C$99a.parent=C$99s.nodes[C$99a.parentIndex],C$99a.lerpType=C$99e.getUint8();C$99o=C$99e.getUint32();C$99x.pos=C$99o;var C$99h=C$99a.keyframeWidth=C$99x.getUint16();if(C$99s.totalKeyframeDatasLength+=C$99h,0===C$99a.lerpType||1===C$99a.lerpType)for(C$99a.interpolationMethod=[],C$99a.interpolationMethod.length=C$99h,C$99i=0;C$99i<C$99h;C$99i++)C$99a.interpolationMethod[C$99i]=C$99I.interpolation[C$99x.getUint8()];null!=C$99a.parent&&C$99a.parent.childs.push(C$99a);C$99o=C$99e.getUint16();0<C$99o&&(C$99a.extenData=C$99c.slice(C$99e.pos,C$99e.pos+C$99o),C$99e.pos+=C$99o);var C$99l,C$99o=C$99e.getUint16(),C$99w=0;for(C$99i=0,C$99u=C$99a.keyFrame.length=C$99o;C$99i<C$99u;C$99i++){if((C$99l=C$99a.keyFrame[C$99i]=new C$99A()).duration=C$99e.getFloat32(),C$99l.startTime=C$99w,2===C$99a.lerpType){C$99l.interpolationData=[];var C$99T,C$99S=C$99e.getUint8();switch(C$99T=C$99e.getFloat32()){case 254:for(C$99l.interpolationData.length=C$99h,C$99r=0;C$99r<C$99h;C$99r++)C$99l.interpolationData[C$99r]=0;break;case 255:for(C$99l.interpolationData.length=C$99h,C$99r=0;C$99r<C$99h;C$99r++)C$99l.interpolationData[C$99r]=5;break;default:for(C$99l.interpolationData.push(C$99T),C$99f=1;C$99f<C$99S;C$99f++)C$99l.interpolationData.push(C$99e.getFloat32());}}for(C$99l.data=new Float32Array(C$99h),C$99n=0;C$99n<C$99h;C$99n++)C$99l.data[C$99n]=C$99e.getFloat32(),-1e-8<C$99l.data[C$99n]&&C$99l.data[C$99n]<1e-8&&(C$99l.data[C$99n]=0);C$99w+=C$99l.duration;}C$99l.startTime=C$99s.playTime,C$99a.playTime=C$99s.playTime,C$99t._calculateKeyFrame(C$99a,C$99o,C$99h);}}},e$d;}(),C$99v=(C$99i(e$R,"laya.ani.AnimationParser02"),e$R.READ_DATA=function(){e$R._DATA.offset=e$R._reader.getUint32(),e$R._DATA.size=e$R._reader.getUint32();},e$R.READ_BLOCK=function(){for(var C$99t=e$R._BLOCK.count=e$R._reader.getUint16(),C$99e=e$R._BLOCK.blockStarts=[],C$99i=e$R._BLOCK.blockLengths=[],C$99n=0;C$99n<C$99t;C$99n++)C$99e.push(e$R._reader.getUint32()),C$99i.push(e$R._reader.getUint32());},e$R.READ_STRINGS=function(){var C$99t=e$R._reader.getUint32(),C$99e=e$R._reader.getUint16(),C$99i=e$R._reader.pos;e$R._reader.pos=C$99t+e$R._DATA.offset;for(var C$99n=0;C$99n<C$99e;C$99n++)e$R._strings[C$99n]=e$R._reader.readUTFString();e$R._reader.pos=C$99i;},e$R.parse=function(C$99t,C$99e){e$R._templet=C$99t,(e$R._reader=C$99e).__getBuffer(),e$R.READ_DATA(),e$R.READ_BLOCK(),e$R.READ_STRINGS();for(var C$99i=0,C$99n=e$R._BLOCK.count;C$99i<C$99n;C$99i++){var C$99r=C$99e.getUint16(),C$99s=e$R._strings[C$99r],C$99a=e$R["READ_"+C$99s];if(null==C$99a)throw new Error("model file err,no this function:"+C$99r+" "+C$99s);C$99a.call();}},e$R.READ_ANIMATIONS=function(){var C$99u,C$99t=e$R._reader,C$99c=C$99t.__getBuffer(),C$99e=0,C$99i=0,C$99n=0,C$99r=C$99t.getUint16(),C$99_=[];for(C$99_.length=C$99r,C$99e=0;C$99e<C$99r;C$99e++)C$99_[C$99e]=C$99I.interpolation[C$99t.getByte()];var C$99d=C$99t.getUint8();for(e$R._templet._anis.length=C$99d,C$99e=0;C$99e<C$99d;C$99e++){var C$99s=e$R._templet._anis[C$99e]={};C$99s.nodes=new Array();var C$99f=C$99s.name=e$R._strings[C$99t.getUint16()];e$R._templet._aniMap[C$99f]=C$99e,C$99s.bone3DMap={},C$99s.playTime=C$99t.getFloat32();var C$99p=C$99s.nodes.length=C$99t.getInt16();for(C$99i=C$99s.totalKeyframeDatasLength=0;C$99i<C$99p;C$99i++){var C$99a=C$99s.nodes[C$99i]={};C$99a.keyframeWidth=C$99r,C$99a.childs=[];var C$99o=C$99t.getUint16();0<=C$99o&&(C$99a.name=e$R._strings[C$99o],C$99s.bone3DMap[C$99a.name]=C$99i),C$99a.keyFrame=new Array(),C$99a.parentIndex=C$99t.getInt16(),-1==C$99a.parentIndex?C$99a.parent=null:C$99a.parent=C$99s.nodes[C$99a.parentIndex],C$99s.totalKeyframeDatasLength+=C$99r,C$99a.interpolationMethod=C$99_,null!=C$99a.parent&&C$99a.parent.childs.push(C$99a);var C$99o=C$99t.getUint16(),C$99h=null,C$99l=null;for(C$99n=0,C$99u=C$99a.keyFrame.length=C$99o;C$99n<C$99u;C$99n++){(C$99h=C$99a.keyFrame[C$99n]={}).startTime=C$99t.getFloat32(),C$99l&&(C$99l.duration=C$99h.startTime-C$99l.startTime);var C$99m=e$R._DATA.offset,C$99g=C$99t.getUint32(),C$99m=C$99c.slice(C$99m+C$99g,C$99m+C$99g+4*C$99r);C$99h.data=new Float32Array(C$99m),C$99l=C$99h;}C$99h.duration=0,C$99a.playTime=C$99s.playTime,e$R._templet._calculateKeyFrame(C$99a,C$99o,C$99r);}}},e$R._templet=null,e$R._reader=null,e$R._strings=[],C$99t(e$R,["_BLOCK",function(){return this._BLOCK={count:0};},"_DATA",function(){return this._DATA={offset:0,size:0};}]),e$R),C$99Dt=(function(){function e$d(){}C$99i(e$d,"laya.ani.AnimationState"),e$d.stopped=0,e$d.paused=1,e$d.playing=2;}(),C$99i(e$W,"laya.ani.bone.Bone"),(C$99r=e$W.prototype).setTempMatrix=function(C$99t){this._tempMatrix=C$99t;var C$99e,C$99i=0;for(C$99i=0,C$99e=this._children.length;C$99i<C$99e;C$99i++)this._children[C$99i].setTempMatrix(this._tempMatrix);},C$99r.update=function(C$99t){var C$99e;var C$99i,C$99n,C$99r,C$99s,C$99a,C$99o;this.rotation=this.transform.skX,C$99t?(C$99e=this.resultTransform.getMatrix(),C$99Ct.mul(C$99e,C$99t,this.resultMatrix),this.resultRotation=this.rotation):(this.resultRotation=this.rotation+this.parentBone.resultRotation,this.parentBone?this.inheritRotation&&this.inheritScale?(C$99e=this.resultTransform.getMatrix(),C$99Ct.mul(C$99e,this.parentBone.resultMatrix,this.resultMatrix)):(C$99t=this.parentBone,C$99r=C$99n=C$99i=NaN,C$99a=this.parentBone.resultMatrix,C$99e=this.resultTransform.getMatrix(),C$99s=C$99a.a*C$99e.tx+C$99a.c*C$99e.ty+C$99a.tx,C$99a=C$99a.b*C$99e.tx+C$99a.d*C$99e.ty+C$99a.ty,C$99o=new C$99Ct(),this.inheritRotation?(C$99i=Math.atan2(C$99t.resultMatrix.b,C$99t.resultMatrix.a),C$99n=Math.cos(C$99i),C$99r=Math.sin(C$99i),C$99o.setTo(C$99n,C$99r,-C$99r,C$99n,0,0),C$99Ct.mul(this._tempMatrix,C$99o,C$99Ct.TEMP),C$99Ct.TEMP.copyTo(C$99o),C$99e=this.resultTransform.getMatrix(),C$99Ct.mul(C$99e,C$99o,this.resultMatrix),this.resultTransform.scX*this.resultTransform.scY<0&&this.resultMatrix.rotate(.5*Math.PI)):(this.inheritScale,C$99e=this.resultTransform.getMatrix(),C$99Ct.TEMP.identity(),C$99Ct.TEMP.d=this.d,C$99Ct.mul(C$99e,C$99Ct.TEMP,this.resultMatrix)),this.resultMatrix.tx=C$99s,this.resultMatrix.ty=C$99a):(C$99e=this.resultTransform.getMatrix()).copyTo(this.resultMatrix));var C$99h,C$99l=0;for(C$99l=0,C$99h=this._children.length;C$99l<C$99h;C$99l++)this._children[C$99l].update();},C$99r.updateChild=function(){var C$99t,C$99e=0;for(C$99e=0,C$99t=this._children.length;C$99e<C$99t;C$99e++)this._children[C$99e].update();},C$99r.setRotation=function(C$99t){this._sprite&&(this._sprite.rotation=180*C$99t/Math.PI);},C$99r.updateDraw=function(C$99t,C$99e){e$W.ShowBones&&!e$W.ShowBones[this.name]||(this._sprite||(this._sprite=new C$99R(),this._sprite.graphics.drawCircle(0,0,5,"#ff0000"),this._sprite.graphics.drawLine(0,0,this.length,0,"#00ff00"),this._sprite.graphics.fillText(this.name,0,0,"20px Arial","#00ff00","center"),C$99E.stage.addChild(this._sprite)),this._sprite.x=C$99t+this.resultMatrix.tx,this._sprite.y=C$99e+this.resultMatrix.ty);var C$99i,C$99n=0;for(C$99n=0,C$99i=this._children.length;C$99n<C$99i;C$99n++)this._children[C$99n].updateDraw(C$99t,C$99e);},C$99r.addChild=function(C$99t){this._children.push(C$99t),C$99t.parentBone=this;},C$99r.findBone=function(C$99t){if(this.name==C$99t)return this;var C$99e,C$99i,C$99n=0;for(C$99n=0,C$99e=this._children.length;C$99n<C$99e;C$99n++)if(C$99i=this._children[C$99n].findBone(C$99t))return C$99i;return null;},C$99r.localToWorld=function(C$99t){var C$99e=C$99t[0],C$99i=C$99t[1];C$99t[0]=C$99e*this.resultMatrix.a+C$99i*this.resultMatrix.c+this.resultMatrix.tx,C$99t[1]=C$99e*this.resultMatrix.b+C$99i*this.resultMatrix.d+this.resultMatrix.ty;},e$W.ShowBones={},e$W),C$99Et=(C$99i(e$w,"laya.ani.bone.BoneSlot"),(C$99r=e$w.prototype).showSlotData=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!0),this.currSlotData=C$99t,C$99e&&(this.displayIndex=this.srcDisplayIndex),this.currDisplayData=null,this.currTexture=null;},C$99r.showDisplayByName=function(C$99t){this.currSlotData&&this.showDisplayByIndex(this.currSlotData.getDisplayByName(C$99t));},C$99r.replaceDisplayByName=function(C$99t,C$99e){this.currSlotData&&(C$99t=this.currSlotData.getDisplayByName(C$99t),C$99e=this.currSlotData.getDisplayByName(C$99e),this.replaceDisplayByIndex(C$99t,C$99e));},C$99r.replaceDisplayByIndex=function(C$99t,C$99e){this.currSlotData&&(this._replaceDic[C$99t]=C$99e,this.displayIndex==C$99t&&this.showDisplayByIndex(C$99t));},C$99r.showDisplayByIndex=function(C$99t){null!=this._replaceDic[C$99t]&&(C$99t=this._replaceDic[C$99t]),this.currSlotData&&-1<C$99t&&C$99t<this.currSlotData.displayArr.length?(this.displayIndex=C$99t,this.currDisplayData=this.currSlotData.displayArr[C$99t],this.currDisplayData&&(C$99t=this.currDisplayData.name,this.currTexture=this.templet.getTexture(C$99t),this.currTexture&&0==this.currDisplayData.type&&this.currDisplayData.uvs&&(!C$99l.isConchApp||C$99l.isConchApp&&"0.9.15"<C$99R.RUNTIMEVERION)&&(this.currTexture=this.currDisplayData.createTexture(this.currTexture)))):(this.displayIndex=-1,this.currDisplayData=null,this.currTexture=null);},C$99r.replaceSkin=function(C$99t){this._diyTexture=C$99t,this._curDiyUV&&(this._curDiyUV.length=0),this.currDisplayData&&this._diyTexture==this.currDisplayData.texture&&(this._diyTexture=null);},C$99r.setParentMatrix=function(C$99t){this._parentMatrix=C$99t;},C$99r.draw=function(C$99t,C$99e,C$99i,C$99n){if(void 0===C$99i&&(C$99i=!1),void 0===C$99n&&(C$99n=1),(null!=this._diyTexture||null!=this.currTexture)&&null!=this.currDisplayData||this.currDisplayData&&3==this.currDisplayData.type){var C$99r,C$99s=this.currTexture;switch(this._diyTexture&&(C$99s=this._diyTexture),this.currDisplayData.type){case 0:C$99t&&(C$99o=this.getDisplayMatrix(),this._parentMatrix&&(C$99a=!1,C$99o&&(C$99Ct.mul(C$99o,this._parentMatrix,C$99Ct.TEMP),C$99o=C$99i?(null==this._resultMatrix&&(this._resultMatrix=new C$99Ct()),this._resultMatrix):new C$99Ct(),!C$99l.isWebGL&&this.currDisplayData.uvs||C$99l.isWebGL&&this._diyTexture&&this.currDisplayData.uvs?((C$99h=e$w._tempMatrix).identity(),this.currDisplayData.uvs[1]>this.currDisplayData.uvs[5]&&(C$99h.d=-1),this.currDisplayData.uvs[0]>this.currDisplayData.uvs[4]&&this.currDisplayData.uvs[1]>this.currDisplayData.uvs[5]&&(C$99a=!0,C$99h.rotate(-Math.PI/2)),C$99Ct.mul(C$99h,C$99Ct.TEMP,C$99o)):C$99Ct.TEMP.copyTo(C$99o),C$99a?C$99t.drawTexture(C$99s,-this.currDisplayData.height/2,-this.currDisplayData.width/2,this.currDisplayData.height,this.currDisplayData.width,C$99o):C$99t.drawTexture(C$99s,-this.currDisplayData.width/2,-this.currDisplayData.height/2,this.currDisplayData.width,this.currDisplayData.height,C$99o))));break;case 1:if(null==(C$99r=C$99i?(null==this._skinSprite&&(this._skinSprite=e$w.createSkinMesh()),this._skinSprite):e$w.createSkinMesh()))return;var C$99a,C$99o,C$99h;null==this.currDisplayData.bones?(C$99h=this.currDisplayData.weights,this.deformData&&(C$99h=this.deformData),C$99a=this._diyTexture?(this._curDiyUV||(this._curDiyUV=[]),0==this._curDiyUV.length&&(this._curDiyUV=C$99b.getRelativeUV(this.currTexture.uv,this.currDisplayData.uvs,this._curDiyUV),this._curDiyUV=C$99b.getAbsoluteUV(this._diyTexture.uv,this._curDiyUV,this._curDiyUV)),this._curDiyUV):this.currDisplayData.uvs,this._mVerticleArr=C$99h,this.currDisplayData.triangles.length,C$99o=this.currDisplayData.triangles,C$99r.init2(C$99s,null,C$99o,this._mVerticleArr,C$99a),C$99h=this.getDisplayMatrix(),this._parentMatrix&&C$99h&&(C$99Ct.mul(C$99h,this._parentMatrix,C$99Ct.TEMP),C$99o=C$99i?(null==this._resultMatrix&&(this._resultMatrix=new C$99Ct()),this._resultMatrix):new C$99Ct(),C$99Ct.TEMP.copyTo(C$99o),C$99r.transform=C$99o)):this.skinMesh(C$99e,C$99r,C$99n),C$99t.drawSkin(C$99r);break;case 2:if(null==(C$99r=C$99i?(null==this._skinSprite&&(this._skinSprite=e$w.createSkinMesh()),this._skinSprite):e$w.createSkinMesh()))return;this.skinMesh(C$99e,C$99r,C$99n),C$99t.drawSkin(C$99r);}}},C$99r.skinMesh=function(C$99u,C$99c,C$99_){var C$99d,C$99f=this.currTexture,C$99t=this.currDisplayData.bones;C$99d=this._diyTexture?(C$99f=this._diyTexture,this._curDiyUV||(this._curDiyUV=[]),0==this._curDiyUV.length&&(this._curDiyUV=C$99b.getRelativeUV(this.currTexture.uv,this.currDisplayData.uvs,this._curDiyUV),this._curDiyUV=C$99b.getAbsoluteUV(this._diyTexture.uv,this._curDiyUV,this._curDiyUV)),this._curDiyUV):this.currDisplayData.uvs;var C$99e,C$99i=this.currDisplayData.weights,C$99p=this.currDisplayData.triangles,C$99n=0,C$99r=0,C$99m=0,C$99s=NaN,C$99a=NaN,C$99o=0,C$99h=0,C$99g=[],C$99l=0,C$99v=0;if(this.deformData&&0<this.deformData.length){var C$99$=0;for(C$99l=0,C$99v=C$99t.length;C$99l<C$99v;){for(C$99m=C$99t[C$99l++]+C$99l,C$99r=C$99n=0;C$99l<C$99m;C$99l++)C$99e=C$99u[C$99t[C$99l]],C$99s=C$99i[C$99o]+this.deformData[C$99$++],C$99a=C$99i[C$99o+1]+this.deformData[C$99$++],C$99h=C$99i[C$99o+2],C$99n+=(C$99s*C$99e.a+C$99a*C$99e.c+C$99e.tx)*C$99h,C$99r+=(C$99s*C$99e.b+C$99a*C$99e.d+C$99e.ty)*C$99h,C$99o+=3;C$99g.push(C$99n,C$99r);}}else for(C$99l=0,C$99v=C$99t.length;C$99l<C$99v;){for(C$99m=C$99t[C$99l++]+C$99l,C$99r=C$99n=0;C$99l<C$99m;C$99l++)C$99e=C$99u[C$99t[C$99l]],C$99s=C$99i[C$99o],C$99a=C$99i[C$99o+1],C$99h=C$99i[C$99o+2],C$99n+=(C$99s*C$99e.a+C$99a*C$99e.c+C$99e.tx)*C$99h,C$99r+=(C$99s*C$99e.b+C$99a*C$99e.d+C$99e.ty)*C$99h,C$99o+=3;C$99g.push(C$99n,C$99r);}this._mVerticleArr=C$99g,C$99c.init2(C$99f,null,C$99p,this._mVerticleArr,C$99d);},C$99r.drawBonePoint=function(C$99t){C$99t&&this._parentMatrix&&C$99t.drawCircle(this._parentMatrix.tx,this._parentMatrix.ty,5,"#ff0000");},C$99r.getDisplayMatrix=function(){return this.currDisplayData?this.currDisplayData.transform.getMatrix():null;},C$99r.getMatrix=function(){return this._resultMatrix;},C$99r.copy=function(){var C$99t=new e$w();return C$99t.type="copy",C$99t.name=this.name,C$99t.attachmentName=this.attachmentName,C$99t.srcDisplayIndex=this.srcDisplayIndex,C$99t.parent=this.parent,C$99t.displayIndex=this.displayIndex,C$99t.templet=this.templet,C$99t.currSlotData=this.currSlotData,C$99t.currTexture=this.currTexture,C$99t.currDisplayData=this.currDisplayData,C$99t;},e$w.createSkinMesh=function(){return C$99l.isWebGL||C$99l.isConchApp?C$99d.skinAniSprite():(C$99l.isWebGL,null);},C$99t(e$w,["_tempMatrix",function(){return this._tempMatrix=new C$99Ct();}]),e$w),C$99Rt=function(){function e$d(){this.skinName=null,this.deformSlotDataList=[];}return C$99i(e$d,"laya.ani.bone.DeformAniData"),e$d;}(),C$99Pt=function(){function e$d(){this.deformSlotDisplayList=[];}return C$99i(e$d,"laya.ani.bone.DeformSlotData"),e$d;}(),C$99Bt=function(){function e$d(){this.boneSlot=null,this.slotIndex=-1,this.attachment=null,this.deformData=null,this.frameIndex=0,this.timeList=[],this.vectices=[],this.tweenKeyList=[];}C$99i(e$d,"laya.ani.bone.DeformSlotDisplayData");var C$99t=e$d.prototype;return C$99t.binarySearch1=function(C$99t,C$99e){var C$99i=0,C$99n=C$99t.length-2;if(0==C$99n)return 1;for(var C$99r=C$99n>>>1;;){if(C$99t[Math.floor(C$99r+1)]<=C$99e?C$99i=C$99r+1:C$99n=C$99r,C$99i==C$99n)return C$99i+1;C$99r=C$99i+C$99n>>>1;}return 0;},C$99t.apply=function(C$99t,C$99u,C$99e){if(void 0===C$99e&&(C$99e=1),C$99t+=.05,!(this.timeList.length<=0)){var C$99i=0;if(!(C$99t<this.timeList[0])){var C$99n=this.vectices[0].length,C$99r=[],C$99s=this.binarySearch1(this.timeList,C$99t);if(this.frameIndex=C$99s,C$99t>=this.timeList[this.timeList.length-1]){var C$99a=this.vectices[this.vectices.length-1];if(C$99e<1)for(C$99i=0;C$99i<C$99n;C$99i++)C$99r[C$99i]+=(C$99a[C$99i]-C$99r[C$99i])*C$99e;else for(C$99i=0;C$99i<C$99n;C$99i++)C$99r[C$99i]=C$99a[C$99i];this.deformData=C$99r;}else{this.tweenKeyList[this.frameIndex];var C$99o=this.vectices[this.frameIndex-1],C$99c=this.vectices[this.frameIndex],C$99h=this.timeList[this.frameIndex-1],C$99_=this.timeList[this.frameIndex];C$99e=this.tweenKeyList[C$99s-1]?(C$99t-C$99h)/(C$99_-C$99h):0;var C$99l;for(C$99i=0;C$99i<C$99n;C$99i++)C$99l=C$99o[C$99i],C$99r[C$99i]=C$99l+(C$99c[C$99i]-C$99l)*C$99e;this.deformData=C$99r;}}}},e$d;}(),C$99Lt=function(){function e$d(){this.time=NaN,this.drawOrder=[];}return C$99i(e$d,"laya.ani.bone.DrawOrderData"),e$d;}(),C$99Nt=function(){function e$d(){this.name=null,this.intValue=0,this.floatValue=NaN,this.stringValue=null,this.time=NaN;}return C$99i(e$d,"laya.ani.bone.EventData"),e$d;}(),C$99$=(C$99i(e$kd,"laya.ani.bone.IkConstraint"),(C$99r=e$kd.prototype).apply=function(){switch(this._bones.length){case 1:this._applyIk1(this._bones[0],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.mix);break;case 2:this.isSpine?this._applyIk2(this._bones[0],this._bones[1],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.bendDirection,this.mix):this._applyIk3(this._bones[0],this._bones[1],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.bendDirection,this.mix);}},C$99r._applyIk1=function(C$99t,C$99e,C$99i,C$99n){var C$99r=C$99t.parentBone,C$99s=1/(C$99r.resultMatrix.a*C$99r.resultMatrix.d-C$99r.resultMatrix.b*C$99r.resultMatrix.c),C$99e=C$99e-C$99r.resultMatrix.tx,C$99i=C$99i-C$99r.resultMatrix.ty,C$99a=(C$99e*C$99r.resultMatrix.d-C$99i*C$99r.resultMatrix.c)*C$99s-C$99t.transform.x,C$99i=(C$99i*C$99r.resultMatrix.a-C$99e*C$99r.resultMatrix.b)*C$99s-C$99t.transform.y,C$99e=Math.atan2(C$99i,C$99a)*e$kd.radDeg-C$99t.transform.skX;C$99t.transform.scX<0&&(C$99e+=180),180<C$99e?C$99e-=360:C$99e<-180&&(C$99e+=360),C$99t.transform.skX=C$99t.transform.skY=C$99t.transform.skX+C$99e*C$99n,C$99t.update();},C$99r.updatePos=function(C$99t,C$99e){this._sp&&this._sp.pos(C$99t,C$99e);},C$99r._applyIk2=function(C$99t,C$99u,C$99e,C$99c,C$99_,C$99d){var C$99f,C$99p,C$99m,C$99g,C$99v,C$99$,C$99x,C$99y,C$99b,C$99i,C$99n,C$99r,C$99s,C$99w,C$99T,C$99S,C$99a,C$99M,C$99C,C$99o,C$99A,C$99I,C$99D,C$99h,C$99l;0!=C$99d&&(C$99f=C$99t.resultTransform.x,C$99p=C$99t.resultTransform.y,C$99v=(C$99A=C$99t.transform.scX)<(C$99v=C$99g=C$99m=0)?(C$99A=-C$99A,C$99m=180,-1):(C$99m=0,1),(C$99C=C$99t.transform.scY)<0&&(C$99C=-C$99C,C$99v=-C$99v),C$99g=(C$99h=C$99u.transform.scX)<0?(C$99h=-C$99h,180):0,C$99$=C$99u.resultTransform.x,C$99r=C$99n=C$99x=NaN,C$99l=C$99t.resultMatrix.a,C$99y=C$99t.resultMatrix.c,C$99o=C$99t.resultMatrix.b,C$99b=C$99t.resultMatrix.d,C$99r=(C$99D=Math.abs(C$99A-C$99C)<=1e-4)?(C$99n=C$99l*C$99$+C$99y*(C$99x=C$99u.resultTransform.y)+C$99t.resultMatrix.tx,C$99o*C$99$+C$99b*C$99x+C$99t.resultMatrix.ty):(C$99x=0,C$99n=C$99l*C$99$+C$99t.resultMatrix.tx,C$99o*C$99$+C$99t.resultMatrix.ty),this.isDebug&&(this._sp||(this._sp=new C$99R(),C$99E.stage.addChild(this._sp)),this._sp.graphics.clear(),this._sp.graphics.drawCircle(C$99e,C$99c,15,"#ffff00"),this._sp.graphics.drawCircle(C$99n,C$99r,15,"#ff00ff")),C$99t.setRotation(Math.atan2(C$99r-C$99t.resultMatrix.ty,C$99n-C$99t.resultMatrix.tx)),C$99l=(C$99i=C$99t.parentBone).resultMatrix.a,C$99y=C$99i.resultMatrix.c,C$99o=C$99i.resultMatrix.b,C$99s=1/(C$99l*(C$99b=C$99i.resultMatrix.d)-C$99y*C$99o),C$99a=((C$99e=C$99e-C$99i.resultMatrix.tx)*C$99b-(C$99c=C$99c-C$99i.resultMatrix.ty)*C$99y)*C$99s-C$99f,C$99w=(C$99c*C$99l-C$99e*C$99o)*C$99s-C$99p,C$99n=((C$99e=C$99n-C$99i.resultMatrix.tx)*C$99b-(C$99c=C$99r-C$99i.resultMatrix.ty)*C$99y)*C$99s-C$99f,C$99r=(C$99c*C$99l-C$99e*C$99o)*C$99s-C$99p,C$99i=Math.sqrt(C$99n*C$99n+C$99r*C$99r),C$99s=C$99u.length*C$99h,C$99r=C$99n=NaN,C$99D?((C$99h=(C$99a*C$99a+C$99w*C$99w-C$99i*C$99i-(C$99s*=C$99A)*C$99s)/(2*C$99i*C$99s))<-1?C$99h=-1:1<C$99h&&(C$99h=1),C$99r=Math.acos(C$99h)*C$99_,C$99l=C$99i+C$99s*C$99h,C$99y=C$99s*Math.sin(C$99r),C$99n=Math.atan2(C$99w*C$99l-C$99a*C$99y,C$99a*C$99l+C$99w*C$99y)):(C$99D=(C$99l=C$99A*C$99s)*C$99l,C$99h=(C$99y=C$99C*C$99s)*C$99y,C$99s=C$99a*C$99a+C$99w*C$99w,C$99w=Math.atan2(C$99w,C$99a),0<(C$99b=(C$99a=-2*C$99h*C$99i)*C$99a-4*(C$99M=C$99h-C$99D)*(C$99o=C$99h*C$99i*C$99i+C$99D*C$99s-C$99D*C$99h))&&(C$99T=Math.sqrt(C$99b),C$99a=(C$99T=-(C$99a+(C$99T=C$99a<0?-C$99T:C$99T))/2)/C$99M,C$99M=C$99o/C$99T,(C$99o=Math.abs(C$99a)<Math.abs(C$99M)?C$99a:C$99M)*C$99o<=C$99s&&(C$99c=Math.sqrt(C$99s-C$99o*C$99o)*C$99_,C$99n=C$99w-Math.atan2(C$99c,C$99o),C$99r=Math.atan2(C$99c/C$99C,(C$99o-C$99i)/C$99A))),C$99I=C$99A=C$99o=C$99C=C$99M=C$99a=C$99T=0,C$99o<(C$99b=(C$99e=C$99i+C$99l)*C$99e)&&(C$99C=0,C$99o=C$99b,C$99A=C$99e),(C$99b=(C$99e=C$99i-C$99l)*C$99e)<(C$99S=Number.MAX_VALUE)&&(C$99T=Math.PI,C$99S=C$99b,C$99a=C$99e),C$99D=Math.acos(-C$99l*C$99i/(C$99D-C$99h)),(C$99b=(C$99e=C$99l*Math.cos(C$99D)+C$99i)*C$99e+(C$99c=C$99y*Math.sin(C$99D))*C$99c)<C$99S&&(C$99T=C$99D,C$99S=C$99b,C$99a=C$99e,C$99M=C$99c),C$99o<C$99b&&(C$99C=C$99D,C$99o=C$99b,C$99A=C$99e,C$99I=C$99c),C$99r=C$99s<=(C$99S+C$99o)/2?(C$99n=C$99w-Math.atan2(C$99M*C$99_,C$99a),C$99T*C$99_):(C$99n=C$99w-Math.atan2(C$99I*C$99_,C$99A),C$99C*C$99_)),C$99h=Math.atan2(C$99x,C$99$)*C$99v,C$99l=C$99t.resultTransform.skX,180<(C$99n=(C$99n-C$99h)*e$kd.radDeg+C$99m-C$99l)?C$99n-=360:C$99n<-180&&(C$99n+=360),C$99t.resultTransform.x=C$99f,C$99t.resultTransform.y=C$99p,C$99t.resultTransform.skX=C$99t.resultTransform.skY=C$99l+C$99n*C$99d,C$99l=C$99u.resultTransform.skX,180<(C$99r=(C$99r+C$99h)*e$kd.radDeg*C$99v+C$99g-(C$99l%=360))?C$99r-=360:C$99r<-180&&(C$99r+=360),C$99u.resultTransform.x=C$99$,C$99u.resultTransform.y=C$99x,C$99u.resultTransform.skX=C$99u.resultTransform.skY=C$99u.resultTransform.skY+C$99r*C$99d,C$99t.update());},C$99r._applyIk3=function(C$99t,C$99e,C$99u,C$99c,C$99_,C$99i){var C$99d,C$99f,C$99p,C$99m,C$99n,C$99r,C$99g,C$99s,C$99a,C$99o,C$99h,C$99l;0!=C$99i&&(C$99i=(C$99i=C$99e.resultMatrix.a*C$99e.length)*C$99i+(C$99i=C$99e.resultMatrix.b*C$99e.length)*C$99i,C$99r=Math.sqrt(C$99i),C$99d=C$99t.resultMatrix.tx,C$99f=C$99t.resultMatrix.ty,C$99o=(C$99l=(C$99p=C$99e.resultMatrix.tx)-C$99d)*C$99l+(C$99a=(C$99m=C$99e.resultMatrix.ty)-C$99f)*C$99a,C$99s=Math.sqrt(C$99o),C$99n=(C$99l=C$99u-C$99t.resultMatrix.tx)*C$99l+(C$99a=C$99c-C$99t.resultMatrix.ty)*C$99a,C$99m=C$99r+C$99s<=(C$99h=Math.sqrt(C$99n))||C$99h+C$99r<=C$99s||C$99h+C$99s<=C$99r?(C$99g=NaN,C$99p=C$99d+(C$99g=C$99r+C$99s<=C$99h?1:-1)*(C$99u-C$99d)*C$99s/C$99h,C$99f+C$99g*(C$99c-C$99f)*C$99s/C$99h):(C$99g=C$99d+C$99l*(C$99r=(C$99o-C$99i+C$99n)/(2*C$99n)),C$99s=C$99f+C$99a*C$99r,C$99a=-C$99a*(C$99i=Math.sqrt(C$99o-C$99r*C$99r*C$99n)/C$99h),C$99o=C$99l*C$99i,0<C$99_?(C$99p=C$99g-C$99a,C$99s-C$99o):(C$99p=C$99g+C$99a,C$99s+C$99o)),C$99r=C$99p,C$99n=C$99m,this.isDebug&&(this._sp||(this._sp=new C$99R(),C$99E.stage.addChild(this._sp)),this._sp.graphics.clear(),this._sp.graphics.drawCircle(C$99d,C$99f,15,"#ff00ff"),this._sp.graphics.drawCircle(C$99u,C$99c,15,"#ffff00"),this._sp.graphics.drawCircle(C$99r,C$99n,15,"#ff00ff")),C$99h=Math.atan2(C$99n-C$99t.resultMatrix.ty,C$99r-C$99t.resultMatrix.tx),C$99t.setRotation(C$99h),(C$99l=e$kd._tempMatrix).identity(),C$99l.rotate(C$99h),C$99l.scale(C$99t.resultMatrix.getScaleX(),C$99t.resultMatrix.getScaleY()),C$99l.translate(C$99t.resultMatrix.tx,C$99t.resultMatrix.ty),C$99l.copyTo(C$99t.resultMatrix),C$99t.updateChild(),C$99i=Math.atan2(C$99c-C$99n,C$99u-C$99r),C$99e.setRotation(C$99i),(C$99_=e$kd._tempMatrix).identity(),C$99_.rotate(C$99i),C$99_.scale(C$99e.resultMatrix.getScaleX(),C$99e.resultMatrix.getScaleY()),C$99_.translate(C$99r,C$99n),C$99l.copyTo(C$99e.resultMatrix),C$99e.updateChild());},C$99t(e$kd,["radDeg",function(){return this.radDeg=180/Math.PI;},"degRad",function(){return this.degRad=Math.PI/180;},"_tempMatrix",function(){return this._tempMatrix=new C$99Ct();}]),e$kd),C$99kt=function(){function e$d(){this.name=null,this.targetBoneName=null,this.bendDirection=1,this.mix=1,this.isSpine=!0,this.targetBoneIndex=-1,this.boneNames=[],this.boneIndexs=[];}return C$99i(e$d,"laya.ani.bone.IkConstraintData"),e$d;}(),C$99x=(C$99i(e$C,"laya.ani.bone.PathConstraint"),(C$99r=e$C.prototype).apply=function(C$99u,C$99c){if(this.target){var C$99_=this.translateMix,C$99d=this.translateMix,C$99f=0<C$99d,C$99p=this.data.spacingMode,C$99m="length"==C$99p,C$99g=this.data.rotateMode,C$99v="tangent"==C$99g,C$99$="chainScale"==C$99g,C$99x=[],C$99y=this.bones.length,C$99b=C$99v?C$99y:C$99y+1,C$99w=[];(this._spaces=C$99w)[0]=this.position;var C$99T=this.spacing;if(C$99$||C$99m)for(var C$99t=0,C$99S=C$99b-1;C$99t<C$99S;){var C$99e=this.bones[C$99t],C$99i=C$99e.length,C$99M=C$99i*C$99e.resultMatrix.a,C$99C=C$99i*C$99e.resultMatrix.b;C$99i=Math.sqrt(C$99M*C$99M+C$99C*C$99C),C$99$&&(C$99x[C$99t]=C$99i),C$99w[++C$99t]=C$99m?Math.max(0,C$99i+C$99T):C$99T;}else for(C$99t=1;C$99t<C$99b;C$99t++)C$99w[C$99t]=C$99T;var C$99n=this.computeWorldPositions(this.target,C$99u,C$99c,C$99b,C$99v,"percent"==this.data.positionMode,"percent"==C$99p);if(this._debugKey){for(C$99t=0;C$99t<C$99n.length;C$99t++)C$99c.drawCircle(C$99n[C$99t++],C$99n[C$99t++],5,"#00ff00");var C$99A=[];for(C$99t=0;C$99t<C$99n.length;C$99t++)C$99A.push(C$99n[C$99t++],C$99n[C$99t++]);C$99c.drawLines(0,0,C$99A,"#ff0000");}var C$99I=C$99n[0],C$99D=C$99n[1],C$99E=this.data.offsetRotation,C$99R="chain"==C$99g&&0==C$99E,C$99r=NaN;for(C$99t=0,C$99r=3;C$99t<C$99y;C$99t++,C$99r+=3){(C$99e=this.bones[C$99t]).resultMatrix.tx+=(C$99I-C$99e.resultMatrix.tx)*C$99_,C$99e.resultMatrix.ty+=(C$99D-C$99e.resultMatrix.ty)*C$99_;var C$99P=(C$99M=C$99n[C$99r])-C$99I,C$99B=(C$99C=C$99n[C$99r+1])-C$99D;var C$99s,C$99L,C$99a,C$99N,C$99o,C$99h,C$99l;C$99$&&0!=(C$99i=C$99x[C$99t])&&(C$99s=(Math.sqrt(C$99P*C$99P+C$99B*C$99B)/C$99i-1)*C$99d+1,C$99e.resultMatrix.a*=C$99s,C$99e.resultMatrix.c*=C$99s),C$99I=C$99M,C$99D=C$99C,C$99f&&(C$99s=C$99e.resultMatrix.a,C$99L=C$99e.resultMatrix.c,C$99a=C$99e.resultMatrix.b,C$99N=C$99e.resultMatrix.d,C$99l=C$99h=C$99o=NaN,C$99o=C$99v?C$99n[C$99r-1]:0==C$99w[C$99t+1]?C$99n[C$99r+2]:Math.atan2(C$99B,C$99P),C$99o-=Math.atan2(C$99a,C$99s)-C$99E/180*Math.PI,C$99R&&(C$99h=Math.cos(C$99o),C$99l=Math.sin(C$99o),C$99I+=((C$99i=C$99e.length)*(C$99h*C$99s-C$99l*C$99a)-C$99P)*C$99d,C$99D+=(C$99i*(C$99l*C$99s+C$99h*C$99a)-C$99B)*C$99d),C$99o>Math.PI?C$99o-=2*Math.PI:C$99o<-Math.PI&&(C$99o+=2*Math.PI),C$99o*=C$99d,C$99h=Math.cos(C$99o),C$99l=Math.sin(C$99o),C$99e.resultMatrix.a=C$99h*C$99s-C$99l*C$99a,C$99e.resultMatrix.c=C$99h*C$99L-C$99l*C$99N,C$99e.resultMatrix.b=C$99l*C$99s+C$99h*C$99a,C$99e.resultMatrix.d=C$99l*C$99L+C$99h*C$99N);}}},C$99r.computeWorldVertices2=function(C$99t,C$99e,C$99u,C$99c,C$99_,C$99d){var C$99i,C$99n,C$99f,C$99p=C$99t.currDisplayData.bones,C$99m=C$99t.currDisplayData.weights,C$99g=C$99t.currDisplayData.triangles,C$99r=0,C$99s=0,C$99v=0,C$99$=0,C$99a=0,C$99x=0,C$99y=0,C$99b=0,C$99o=0,C$99h=0;if(null!=C$99p){for(C$99r=0;C$99r<C$99u;C$99r+=2)C$99s+=(C$99$=C$99p[C$99s])+1,C$99v+=C$99$;var C$99w=C$99e;for(C$99a=C$99d,C$99x=3*C$99v;C$99a<C$99c;C$99a+=2){for(C$99b=C$99y=0,C$99$=C$99p[C$99s++],C$99$+=C$99s;C$99s<C$99$;C$99s++,C$99x+=3){C$99i=C$99w[C$99p[C$99s]].resultMatrix,C$99o=C$99m[C$99x],C$99h=C$99m[C$99x+1];var C$99T=C$99m[C$99x+2];C$99y+=(C$99o*C$99i.a+C$99h*C$99i.c+C$99i.tx)*C$99T,C$99b+=(C$99o*C$99i.b+C$99h*C$99i.d+C$99i.ty)*C$99T;}C$99_[C$99a]=C$99y,C$99_[C$99a+1]=C$99b;}}else{var C$99S,C$99l;if(C$99g=C$99g||C$99m,C$99t.deformData&&(C$99g=C$99t.deformData),C$99S=C$99t.parent,C$99e)for(C$99f=C$99e.length,C$99r=0;C$99r<C$99f;C$99r++)if(C$99e[C$99r].name==C$99S){C$99n=C$99e[C$99r];break;}var C$99M=(C$99l=(C$99l=C$99n?C$99n.resultMatrix:C$99l)||e$C._tempMt).tx,C$99C=C$99l.ty,C$99A=C$99l.a,C$99I=C$99l.b,C$99D=C$99l.c,C$99E=C$99l.d;for(C$99n&&(C$99E*=C$99n.d),C$99s=C$99u,C$99a=C$99d;C$99a<C$99c;C$99s+=2,C$99a+=2)C$99o=C$99g[C$99s],C$99h=C$99g[C$99s+1],C$99_[C$99a]=C$99o*C$99A+C$99h*C$99I+C$99M,C$99_[C$99a+1]=-(C$99o*C$99D+C$99h*C$99E+C$99C);}},C$99r.computeWorldPositions=function(C$99u,C$99c,C$99_,C$99d,C$99f,C$99p,C$99m){C$99u.currDisplayData.bones,C$99u.currDisplayData.weights,C$99u.currDisplayData.triangles;var C$99t,C$99g,C$99v=[],C$99e=0,C$99$=C$99u.currDisplayData.verLen,C$99x=this.position,C$99y=this._spaces,C$99b=[],C$99w=C$99$/6,C$99T=-1,C$99i=NaN,C$99S=0,C$99M=0,C$99n=NaN,C$99C=NaN,C$99A=NaN;if(C$99w--,this.computeWorldVertices2(C$99u,C$99c,2,C$99$-=4,C$99v,0),this._debugKey)for(C$99e=0;C$99e<C$99v.length;)C$99_.drawCircle(C$99v[C$99e++],C$99v[C$99e++],10,"#ff0000");C$99t=C$99v,this._curves.length=C$99w;var C$99I=this._curves,C$99D=C$99t[C$99i=0],C$99E=C$99t[1],C$99R=0,C$99P=0,C$99B=0,C$99L=0,C$99N=0,C$99k=0,C$99O=NaN,C$99V=NaN,C$99F=NaN,C$99U=NaN,C$99r=NaN,C$99s=NaN,C$99a=NaN,C$99o=NaN,C$99W=0;for(C$99e=0,C$99W=2;C$99e<C$99w;C$99e++,C$99W+=6)C$99r=2*(C$99O=.1875*(C$99D-2*(C$99R=C$99t[C$99W])+(C$99B=C$99t[C$99W+2])))+(C$99F=.09375*(3*(C$99R-C$99B)-C$99D+(C$99N=C$99t[C$99W+4]))),C$99s=2*(C$99V=.1875*(C$99E-2*(C$99P=C$99t[C$99W+1])+(C$99L=C$99t[C$99W+3])))+(C$99U=.09375*(3*(C$99P-C$99L)-C$99E+(C$99k=C$99t[C$99W+5]))),C$99a=.75*(C$99R-C$99D)+C$99O+.16666667*C$99F,C$99o=.75*(C$99P-C$99E)+C$99V+.16666667*C$99U,C$99i+=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99a+=C$99r,C$99o+=C$99s,C$99r+=C$99F,C$99s+=C$99U,C$99i+=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99a+=C$99r,C$99o+=C$99s,C$99i+=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99a+=C$99r+C$99F,C$99o+=C$99s+C$99U,C$99i+=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99I[C$99e]=C$99i,C$99D=C$99N,C$99E=C$99k;if(C$99p&&(C$99x*=C$99i),C$99m)for(C$99e=0;C$99e<C$99d;C$99e++)C$99y[C$99e]*=C$99i;var C$99H=this._segments,C$99h=0,C$99G=0;for(C$99G=C$99M=C$99S=C$99e=0;C$99e<C$99d;C$99e++,C$99S+=3)if((C$99n=C$99x+=C$99g=C$99y[C$99e])<0)this.addBeforePosition(C$99n,C$99t,0,C$99b,C$99S);else if(C$99i<C$99n)this.addAfterPosition(C$99n-C$99i,C$99t,C$99$-4,C$99b,C$99S);else{for(;;C$99M++)if(!((C$99A=C$99I[C$99M])<C$99n)){0==C$99M?C$99n/=C$99A:C$99n=(C$99n-(C$99C=C$99I[C$99M-1]))/(C$99A-C$99C);break;}if(C$99M!=C$99T){var C$99l=6*(C$99T=C$99M);for(C$99r=2*(C$99O=.03*((C$99D=C$99t[C$99l])-2*(C$99R=C$99t[C$99l+2])+(C$99B=C$99t[C$99l+4])))+(C$99F=.006*(3*(C$99R-C$99B)-C$99D+(C$99N=C$99t[C$99l+6]))),C$99s=2*(C$99V=.03*((C$99E=C$99t[C$99l+1])-2*(C$99P=C$99t[C$99l+3])+(C$99L=C$99t[C$99l+5])))+(C$99U=.006*(3*(C$99P-C$99L)-C$99E+(C$99k=C$99t[C$99l+7]))),C$99a=.3*(C$99R-C$99D)+C$99O+.16666667*C$99F,C$99o=.3*(C$99P-C$99E)+C$99V+.16666667*C$99U,C$99h=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99H[0]=C$99h,C$99l=1;C$99l<8;C$99l++)C$99a+=C$99r,C$99o+=C$99s,C$99r+=C$99F,C$99s+=C$99U,C$99h+=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99H[C$99l]=C$99h;C$99a+=C$99r,C$99o+=C$99s,C$99h+=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99H[8]=C$99h,C$99a+=C$99r+C$99F,C$99o+=C$99s+C$99U,C$99h+=Math.sqrt(C$99a*C$99a+C$99o*C$99o),C$99H[9]=C$99h,C$99G=0;}for(C$99n*=C$99h;;C$99G++)if(!((C$99A=C$99H[C$99G])<C$99n)){0==C$99G?C$99n/=C$99A:C$99n=C$99G+(C$99n-(C$99C=C$99H[C$99G-1]))/(C$99A-C$99C);break;}this.addCurvePosition(.1*C$99n,C$99D,C$99E,C$99R,C$99P,C$99B,C$99L,C$99N,C$99k,C$99b,C$99S,C$99f||0<C$99e&&0==C$99g);}return C$99b;},C$99r.addBeforePosition=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99e[C$99i],C$99a=C$99e[C$99i+1],C$99o=C$99e[C$99i+2]-C$99s,C$99e=C$99e[C$99i+3]-C$99a,C$99i=Math.atan2(C$99e,C$99o);C$99n[C$99r]=C$99s+C$99t*Math.cos(C$99i),C$99n[C$99r+1]=C$99a+C$99t*Math.sin(C$99i),C$99n[C$99r+2]=C$99i;},C$99r.addAfterPosition=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=C$99e[C$99i+2],C$99a=C$99e[C$99i+3],C$99o=C$99s-C$99e[C$99i],C$99e=C$99a-C$99e[C$99i+1],C$99i=Math.atan2(C$99e,C$99o);C$99n[C$99r]=C$99s+C$99t*Math.cos(C$99i),C$99n[C$99r+1]=C$99a+C$99t*Math.sin(C$99i),C$99n[C$99r+2]=C$99i;},C$99r.addCurvePosition=function(C$99t,C$99e,C$99u,C$99c,C$99_,C$99d,C$99f,C$99i,C$99p,C$99n,C$99r,C$99m){var C$99s=(C$99t=0==C$99t?1e-4:C$99t)*C$99t,C$99g=C$99s*C$99t,C$99a=1-C$99t,C$99o=C$99a*C$99a,C$99v=C$99o*C$99a,C$99h=C$99a*C$99t,C$99l=3*C$99h,C$99a=C$99a*C$99l,C$99l=C$99l*C$99t,C$99t=C$99e*C$99v+C$99c*C$99a+C$99d*C$99l+C$99i*C$99g,C$99i=C$99u*C$99v+C$99_*C$99a+C$99f*C$99l+C$99p*C$99g;C$99n[C$99r]=C$99t,C$99n[C$99r+1]=C$99i,C$99n[C$99r+2]=C$99m?Math.atan2(C$99i-(C$99u*C$99o+C$99_*C$99h*2+C$99f*C$99s),C$99t-(C$99e*C$99o+C$99c*C$99h*2+C$99d*C$99s)):0;},e$C.NONE=-1,e$C.BEFORE=-2,e$C.AFTER=-3,C$99t(e$C,["_tempMt",function(){return this._tempMt=new C$99Ct();}]),e$C),C$99Ot=function(){function e$d(){this.name=null,this.target=null,this.positionMode=null,this.spacingMode=null,this.rotateMode=null,this.offsetRotation=NaN,this.position=NaN,this.spacing=NaN,this.rotateMix=NaN,this.translateMix=NaN,this.bones=[];}return C$99i(e$d,"laya.ani.bone.PathConstraintData"),e$d;}(),C$99Vt=function(){function e$d(){this.name=null,this.slotArr=[];}return C$99i(e$d,"laya.ani.bone.SkinData"),e$d;}(),C$99Ft=function(){function e$d(){this.name=null,this.attachmentName=null,this.type=0,this.transform=null,this.width=NaN,this.height=NaN,this.texture=null,this.bones=null,this.uvs=null,this.weights=null,this.triangles=null,this.vertices=null,this.lengths=null,this.verLen=0;}C$99i(e$d,"laya.ani.bone.SkinSlotDisplayData");var C$99t=e$d.prototype;return C$99t.createTexture=function(C$99t){return this.texture||(this.texture=new C$99It(C$99t.bitmap,this.uvs),C$99t.bitmap.alphaTexture&&(this.texture.alphaTexture=new C$99It(C$99t.bitmap.alphaTexture,this.uvs)),this.uvs[0]>this.uvs[4]&&this.uvs[1]>this.uvs[5]?(this.texture.width=C$99t.height,this.texture.height=C$99t.width,this.texture.offsetX=-C$99t.offsetX,this.texture.offsetY=-C$99t.offsetY,this.texture.sourceWidth=C$99t.sourceHeight,this.texture.sourceHeight=C$99t.sourceWidth):(this.texture.width=C$99t.width,this.texture.height=C$99t.height,this.texture.offsetX=-C$99t.offsetX,this.texture.offsetY=-C$99t.offsetY,this.texture.sourceWidth=C$99t.sourceWidth,this.texture.sourceHeight=C$99t.sourceHeight),C$99l.isWebGL||this.uvs[1]>this.uvs[5]&&(this.texture.offsetY=this.texture.sourceHeight-this.texture.height-this.texture.offsetY)),this.texture;},C$99t.destory=function(){this.texture&&this.texture.destroy();},e$d;}(),C$99Ut=function(){function e$d(){this.name=null,this.displayArr=[];}return C$99i(e$d,"laya.ani.bone.SlotData"),e$d.prototype.getDisplayByName=function(C$99t){for(var C$99e=0,C$99i=this.displayArr.length;C$99e<C$99i;C$99e++)if(this.displayArr[C$99e].attachmentName==C$99t)return C$99e;return-1;},e$d;}(),C$99y=function(){function e$d(C$99t,C$99e){this._data=null,this._bones=null,this.target=null,this.rotateMix=NaN,this.translateMix=NaN,this.scaleMix=NaN,this.shearMix=NaN,this._temp=C$99p(2,0),this._data=C$99t,null==this._bones&&(this._bones=[]),this.target=C$99e[C$99t.targetIndex];var C$99i,C$99n=0;for(C$99n=0,C$99i=C$99t.boneIndexs.length;C$99n<C$99i;C$99n++)this._bones.push(C$99e[C$99t.boneIndexs[C$99n]]);this.rotateMix=C$99t.rotateMix,this.translateMix=C$99t.translateMix,this.scaleMix=C$99t.scaleMix,this.shearMix=C$99t.shearMix;}return C$99i(e$d,"laya.ani.bone.TfConstraint"),e$d.prototype.apply=function(){for(var C$99t,C$99e=this.target.resultMatrix.a,C$99u=this.target.resultMatrix.b,C$99c=this.target.resultMatrix.c,C$99_=this.target.resultMatrix.d,C$99d=0,C$99f=this._bones.length;C$99d<C$99f;C$99d++){var C$99i,C$99n,C$99r,C$99s;var C$99a,C$99o,C$99h;var C$99l;C$99t=this._bones[C$99d],0<this.rotateMix&&(C$99a=C$99t.resultMatrix.a,C$99i=C$99t.resultMatrix.b,C$99o=C$99t.resultMatrix.c,C$99n=C$99t.resultMatrix.d,(C$99r=Math.atan2(C$99c,C$99e)-Math.atan2(C$99o,C$99a)+this._data.offsetRotation*Math.PI/180)>Math.PI?C$99r-=2*Math.PI:C$99r<-Math.PI&&(C$99r+=2*Math.PI),C$99r*=this.rotateMix,C$99s=Math.cos(C$99r),C$99l=Math.sin(C$99r),C$99t.resultMatrix.a=C$99s*C$99a-C$99l*C$99o,C$99t.resultMatrix.b=C$99s*C$99i-C$99l*C$99n,C$99t.resultMatrix.c=C$99l*C$99a+C$99s*C$99o,C$99t.resultMatrix.d=C$99l*C$99i+C$99s*C$99n),this.translateMix&&(this._temp[0]=this._data.offsetX,this._temp[1]=this._data.offsetY,this.target.localToWorld(this._temp),C$99t.resultMatrix.tx+=(this._temp[0]-C$99t.resultMatrix.tx)*this.translateMix,C$99t.resultMatrix.ty+=(this._temp[1]-C$99t.resultMatrix.ty)*this.translateMix,C$99t.updateChild()),0<this.scaleMix&&(C$99a=Math.sqrt(C$99t.resultMatrix.a*C$99t.resultMatrix.a+C$99t.resultMatrix.c*C$99t.resultMatrix.c),C$99o=Math.sqrt(C$99e*C$99e+C$99c*C$99c),C$99h=1e-5<C$99a?(C$99a+(C$99o-C$99a+this._data.offsetScaleX)*this.scaleMix)/C$99a:0,C$99t.resultMatrix.a*=C$99h,C$99t.resultMatrix.c*=C$99h,C$99a=Math.sqrt(C$99t.resultMatrix.b*C$99t.resultMatrix.b+C$99t.resultMatrix.d*C$99t.resultMatrix.d),C$99o=Math.sqrt(C$99u*C$99u+C$99_*C$99_),C$99h=1e-5<C$99a?(C$99a+(C$99o-C$99a+this._data.offsetScaleY)*this.scaleMix)/C$99a:0,C$99t.resultMatrix.b*=C$99h,C$99t.resultMatrix.d*=C$99h),0<this.shearMix&&(C$99i=C$99t.resultMatrix.b,C$99n=C$99t.resultMatrix.d,C$99l=Math.atan2(C$99n,C$99i),(C$99r=Math.atan2(C$99_,C$99u)-Math.atan2(C$99c,C$99e)-(C$99l-Math.atan2(C$99t.resultMatrix.c,C$99t.resultMatrix.a)))>Math.PI?C$99r-=2*Math.PI:C$99r<-Math.PI&&(C$99r+=2*Math.PI),C$99r=C$99l+(C$99r+this._data.offsetShearY*Math.PI/180)*this.shearMix,C$99h=Math.sqrt(C$99i*C$99i+C$99n*C$99n),C$99t.resultMatrix.b=Math.cos(C$99r)*C$99h,C$99t.resultMatrix.d=Math.sin(C$99r)*C$99h);}},e$d;}(),C$99Wt=function(){function e$d(){this.name=null,this.targetIndex=0,this.rotateMix=NaN,this.translateMix=NaN,this.scaleMix=NaN,this.shearMix=NaN,this.offsetRotation=NaN,this.offsetX=NaN,this.offsetY=NaN,this.offsetScaleX=NaN,this.offsetScaleY=NaN,this.offsetShearY=NaN,this.boneIndexs=[];}return C$99i(e$d,"laya.ani.bone.TfConstraintData"),e$d;}(),C$99Ht=function(){function e$d(){this.skX=0,this.skY=0,this.scX=1,this.scY=1,this.x=0,this.y=0,this.skewX=0,this.skewY=0,this.mMatrix=null;}C$99i(e$d,"laya.ani.bone.Transform");var C$99t=e$d.prototype;return C$99t.initData=function(C$99t){null!=C$99t.x&&(this.x=C$99t.x),null!=C$99t.y&&(this.y=C$99t.y),null!=C$99t.skX&&(this.skX=C$99t.skX),null!=C$99t.skY&&(this.skY=C$99t.skY),null!=C$99t.scX&&(this.scX=C$99t.scX),null!=C$99t.scY&&(this.scY=C$99t.scY);},C$99t.getMatrix=function(){var C$99t;return(C$99t=this.mMatrix||(this.mMatrix=new C$99Ct())).identity(),C$99t.scale(this.scX,this.scY),(this.skewX||this.skewY)&&this.skew(C$99t,this.skewX*Math.PI/180,this.skewY*Math.PI/180),C$99t.rotate(this.skX*Math.PI/180),C$99t.translate(this.x,this.y),C$99t;},C$99t.skew=function(C$99t,C$99e,C$99i){var C$99n=Math.sin(C$99i),C$99i=Math.cos(C$99i),C$99r=Math.sin(C$99e),C$99e=Math.cos(C$99e);return C$99t.setTo(C$99t.a*C$99e-C$99t.b*C$99n,C$99t.a*C$99r+C$99t.b*C$99i,C$99t.c*C$99e-C$99t.d*C$99n,C$99t.c*C$99r+C$99t.d*C$99i,C$99t.tx*C$99e-C$99t.ty*C$99n,C$99t.tx*C$99r+C$99t.ty*C$99i),C$99t;},e$d;}(),C$99b=function(){function e$d(){}return C$99i(e$d,"laya.ani.bone.UVTools"),e$d.getRelativeUV=function(C$99t,C$99e,C$99i){var C$99n=C$99t[0],C$99r=C$99t[2]-C$99t[0],C$99s=C$99t[1],C$99t=C$99t[5]-C$99t[1];(C$99i=C$99i||[]).length=C$99e.length;var C$99a,C$99o=0;C$99a=C$99i.length;var C$99h=1/C$99r,C$99l=1/C$99t;for(C$99o=0;C$99o<C$99a;C$99o+=2)C$99i[C$99o]=(C$99e[C$99o]-C$99n)*C$99h,C$99i[C$99o+1]=(C$99e[C$99o+1]-C$99s)*C$99l;return C$99i;},e$d.getAbsoluteUV=function(C$99t,C$99e,C$99i){if(0==C$99t[0]&&0==C$99t[1]&&1==C$99t[4]&&1==C$99t[5])return C$99i?(C$99m.copyArray(C$99i,C$99e),C$99i):C$99e;var C$99n=C$99t[0],C$99r=C$99t[2]-C$99t[0],C$99s=C$99t[1],C$99a=C$99t[5]-C$99t[1];(C$99i=C$99i||[]).length=C$99e.length;var C$99o,C$99h=0;for(C$99o=C$99i.length,C$99h=0;C$99h<C$99o;C$99h+=2)C$99i[C$99h]=C$99e[C$99h]*C$99r+C$99n,C$99i[C$99h+1]=C$99e[C$99h+1]*C$99a+C$99s;return C$99i;},e$d;}(),C$99A=function(){function e$d(){this.startTime=NaN,this.duration=NaN,this.interpolationData=null,this.data=null,this.nextData=null;}return C$99i(e$d,"laya.ani.KeyFramesContent"),e$d;}(),C$99w=(C$99i(e$b,"laya.ani.math.BezierLerp"),e$b.getBezierRate=function(C$99t,C$99e,C$99i,C$99n,C$99r){var C$99s=e$b._getBezierParamKey(C$99e,C$99i,C$99n,C$99r),C$99a=100*C$99s+C$99t;if(e$b._bezierResultCache[C$99a])return e$b._bezierResultCache[C$99a];var C$99o,C$99h=e$b._getBezierPoints(C$99e,C$99i,C$99n,C$99r,C$99s),C$99l=0;for(C$99o=C$99h.length,C$99l=0;C$99l<C$99o;C$99l+=2)if(C$99t<=C$99h[C$99l])return e$b._bezierResultCache[C$99a]=C$99h[C$99l+1],C$99h[C$99l+1];return e$b._bezierResultCache[C$99a]=1;},e$b._getBezierParamKey=function(C$99t,C$99e,C$99i,C$99n){return 100*(100*(100*(100*C$99t+C$99e)+C$99i)+C$99n);},e$b._getBezierPoints=function(C$99t,C$99e,C$99i,C$99n,C$99r){return e$b._bezierPointsCache[C$99r]||(C$99t=[0,0,C$99t,C$99e,C$99i,C$99n,1,1],C$99e=new C$99s().getBezierPoints(C$99t,100,3),e$b._bezierPointsCache[C$99r]=C$99e);},e$b._bezierResultCache={},e$b._bezierPointsCache={},e$b),C$99T=(C$99i(e$t,"laya.ani.AnimationPlayer",C$99e),C$99r=e$t.prototype,C$99E.imps(C$99r,{"laya.resource.IDestroy":!0}),C$99r._onTempletLoadedComputeFullKeyframeIndices=function(C$99t,C$99e,C$99i){this._templet===C$99i&&this._cachePlayRate===C$99t&&this._cacheFrameRate===C$99e&&this._computeFullKeyframeIndices();},C$99r._computeFullKeyframeIndices=function(){for(var C$99u=this._fullFrames=[],C$99t=this._templet,C$99e=this._cacheFrameRateInterval*this._cachePlayRate,C$99i=0,C$99c=C$99t.getAnimationCount();C$99i<C$99c;C$99i++){for(var C$99n=[],C$99r=0,C$99_=C$99t.getAnimation(C$99i).nodes.length;C$99r<C$99_;C$99r++){for(var C$99s=C$99t.getAnimation(C$99i).nodes[C$99r],C$99d=Math.floor(C$99s.playTime/C$99e+.01),C$99a=new Uint16Array(C$99d+1),C$99f=-1,C$99o=0,C$99p=C$99s.keyFrame.length;C$99o<C$99p;C$99o++){var C$99m=C$99s.keyFrame[C$99o],C$99h=C$99m.startTime,C$99g=C$99h+C$99m.duration+C$99e;do{for(var C$99v=Math.floor(C$99h/C$99e+.5),C$99l=C$99f+1;C$99l<C$99v;C$99l++)C$99a[C$99l]=C$99o;}while((C$99a[C$99f=C$99v]=C$99o,(C$99h+=C$99e)<=C$99g));}C$99n.push(C$99a);}C$99u.push(C$99n);}},C$99r._onAnimationTempletLoaded=function(){this.destroyed||this._calculatePlayDuration();},C$99r._calculatePlayDuration=function(){var C$99t;0!==this.state&&(C$99t=this._templet.getAniDuration(this._currentAnimationClipIndex),0===this._playEnd&&(this._playEnd=C$99t),this._playEnd>C$99t&&(this._playEnd=C$99t),this._playDuration=this._playEnd-this._playStart);},C$99r._setPlayParams=function(C$99t,C$99e){this._currentTime=C$99t,this._currentKeyframeIndex=Math.max(Math.floor(this.currentPlayTime/C$99e+.01),0),this._currentFrameTime=this._currentKeyframeIndex*C$99e;},C$99r._setPlayParamsWhenStop=function(C$99t,C$99e){this._currentTime=C$99t,this._currentKeyframeIndex=Math.max(Math.floor(C$99t/C$99e+.01),0),this._currentFrameTime=this._currentKeyframeIndex*C$99e,this._currentAnimationClipIndex=-1;},C$99r._update=function(C$99t){if(-1!==this._currentAnimationClipIndex&&!this._paused&&this._templet&&this._templet.loaded){var C$99e=this._cacheFrameRateInterval*this._cachePlayRate,C$99i=0;this._startUpdateLoopCount!==C$99f.loopCount&&(C$99i=C$99t*this.playbackRate,this._elapsedPlaybackTime+=C$99i);var C$99n=this.playDuration;if(0!==this._overallDuration&&this._elapsedPlaybackTime>=this._overallDuration||0===this._overallDuration&&this._elapsedPlaybackTime>=C$99n)return this._setPlayParamsWhenStop(C$99n,C$99e),void this.event("stopped");if(C$99i+=this._currentTime,0<C$99n){if(C$99n<=C$99i){do{if(C$99i-=C$99n,this._stopWhenCircleFinish)return this._setPlayParamsWhenStop(C$99n,C$99e),this._stopWhenCircleFinish=!1,void this.event("stopped");}while((C$99i<C$99n&&(this._setPlayParams(C$99i,C$99e),this.event("complete")),C$99n<=C$99i));}else this._setPlayParams(C$99i,C$99e);}else{if(this._stopWhenCircleFinish)return this._setPlayParamsWhenStop(C$99n,C$99e),this._stopWhenCircleFinish=!1,void this.event("stopped");this._currentTime=this._currentFrameTime=this._currentKeyframeIndex=0,this.event("complete");}}},C$99r._destroy=function(){this.offAll(),this._templet=null,this._fullFrames=null,this._destroyed=!0;},C$99r.play=function(C$99t,C$99e,C$99i,C$99n,C$99r){if(void 0===C$99t&&(C$99t=0),void 0===C$99e&&(C$99e=1),void 0===C$99i&&(C$99i=2147483647),void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0),!this._templet)throw new Error("AnimationPlayer:templet must not be null,maybe you need to set url.");if(C$99i<0||C$99n<0||C$99r<0)throw new Error("AnimationPlayer:overallDuration,playStart and playEnd must large than zero.");if(0!==C$99r&&C$99r<C$99n)throw new Error("AnimationPlayer:start must less than end.");this._currentTime=0,this._currentFrameTime=0,this._elapsedPlaybackTime=0,this.playbackRate=C$99e,this._overallDuration=C$99i,this._playStart=C$99n,this._playEnd=C$99r,this._paused=!1,this._currentAnimationClipIndex=C$99t,this._currentKeyframeIndex=0,this._startUpdateLoopCount=C$99f.loopCount,this.event("played"),this._templet.loaded?this._calculatePlayDuration():this._templet.once("loaded",this,this._onAnimationTempletLoaded),this._update(0);},C$99r.playByFrame=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){C$99s=1e3/(C$99s=void 0===C$99s?30:C$99s);this.play(C$99t=void 0===C$99t?0:C$99t,C$99e=void 0===C$99e?1:C$99e,C$99i=void 0===C$99i?2147483647:C$99i,(C$99n=void 0===C$99n?0:C$99n)*C$99s,(C$99r=void 0===C$99r?0:C$99r)*C$99s);},C$99r.stop=function(C$99t){(C$99t=void 0===C$99t?!0:C$99t)?(this._currentTime=this._currentFrameTime=this._currentKeyframeIndex=0,this._currentAnimationClipIndex=-1,this.event("stopped")):this._stopWhenCircleFinish=!0;},C$99n(0,C$99r,"playEnd",function(){return this._playEnd;}),C$99n(0,C$99r,"templet",function(){return this._templet;},function(C$99t){0===!this.state&&this.stop(!0),this._templet!==C$99t&&((this._templet=C$99t).loaded?this._computeFullKeyframeIndices():C$99t.once("loaded",this,this._onTempletLoadedComputeFullKeyframeIndices,[this._cachePlayRate,this._cacheFrameRate]));}),C$99n(0,C$99r,"playStart",function(){return this._playStart;}),C$99n(0,C$99r,"playDuration",function(){return this._playDuration;}),C$99n(0,C$99r,"state",function(){return-1===this._currentAnimationClipIndex?0:this._paused?1:2;}),C$99n(0,C$99r,"currentKeyframeIndex",function(){return this._currentKeyframeIndex;}),C$99n(0,C$99r,"overallDuration",function(){return this._overallDuration;}),C$99n(0,C$99r,"currentFrameTime",function(){return this._currentFrameTime;}),C$99n(0,C$99r,"currentAnimationClipIndex",function(){return this._currentAnimationClipIndex;}),C$99n(0,C$99r,"currentPlayTime",function(){return this._currentTime+this._playStart;}),C$99n(0,C$99r,"cachePlayRate",function(){return this._cachePlayRate;},function(C$99t){this._cachePlayRate!==C$99t&&(this._cachePlayRate=C$99t,this._templet&&(this._templet.loaded?this._computeFullKeyframeIndices():this._templet.once("loaded",this,this._onTempletLoadedComputeFullKeyframeIndices,[C$99t,this._cacheFrameRate])));}),C$99n(0,C$99r,"cacheFrameRate",function(){return this._cacheFrameRate;},function(C$99t){this._cacheFrameRate!==C$99t&&(this._cacheFrameRate=C$99t,this._cacheFrameRateInterval=1e3/this._cacheFrameRate,this._templet&&(this._templet.loaded?this._computeFullKeyframeIndices():this._templet.once("loaded",this,this._onTempletLoadedComputeFullKeyframeIndices,[this._cachePlayRate,C$99t])));}),C$99n(0,C$99r,"currentTime",null,function(C$99t){if(-1!==this._currentAnimationClipIndex&&this._templet&&this._templet.loaded){if(C$99t<this._playStart||C$99t>this._playEnd)throw new Error("AnimationPlayer:value must large than playStartTime,small than playEndTime.");this._startUpdateLoopCount=C$99f.loopCount;var C$99e=this._cacheFrameRateInterval*this._cachePlayRate;this._currentTime=C$99t,this._currentKeyframeIndex=Math.max(Math.floor(this.currentPlayTime/C$99e),0),this._currentFrameTime=this._currentKeyframeIndex*C$99e;}}),C$99n(0,C$99r,"paused",function(){return this._paused;},function(C$99t){(this._paused=C$99t)&&this.event("paused");}),C$99n(0,C$99r,"cacheFrameRateInterval",function(){return this._cacheFrameRateInterval;}),C$99n(0,C$99r,"destroyed",function(){return this._destroyed;}),e$t),C$99P=function(){function e$t(){e$t.__super.call(this),C$99l.isConchNode&&(this.drawSkin=function(C$99t){C$99t.transform||(C$99t.transform=C$99Ct.EMPTY),this._addCmd([C$99t]),this.setSkinMesh&&this.setSkinMesh(C$99t._ps,C$99t.mVBData,C$99t.mEleNum,0,C$99t.mTexture,C$99t.transform);});}return C$99i(e$t,"laya.ani.GraphicsAni",C$99a),e$t.prototype.drawSkin=function(C$99t){this._saveToCmd(C$99l._context._drawSkin,[C$99t]);},e$t.create=function(){return e$t._caches.pop()||new e$t();},e$t.recycle=function(C$99t){C$99t.clear(),e$t._caches.push(C$99t);},e$t._caches=[],e$t;}(),C$99I=(C$99i(e$e,"laya.ani.AnimationTemplet",C$99_),(C$99t=e$e.prototype).parse=function(C$99t){C$99t=new C$99At(C$99t);this._aniVersion=C$99t.readUTFString(),C$99g.parse(this,C$99t);},C$99t._calculateKeyFrame=function(C$99t,C$99e,C$99i){var C$99n=C$99t.keyFrame;C$99n[C$99e]=C$99n[0];for(var C$99r=0;C$99r<C$99e;C$99r++){var C$99s=C$99n[C$99r];C$99s.nextData=(0===C$99s.duration?C$99s:C$99n[C$99r+1]).data;}C$99n.length--;},C$99t.onAsynLoaded=function(C$99t,C$99e,C$99i){C$99e=new C$99At(C$99e);("LAYAANIMATION:02"===(this._aniVersion=C$99e.readUTFString(),this._aniVersion)?C$99v:C$99g).parse(this,C$99e),this._endLoaded();},C$99t.disposeResource=function(){this._aniVersion=null,this._anis=null,this._aniMap=null,this._publicExtData=null,this.unfixedCurrentFrameIndexes=null,this.unfixedCurrentTimes=null,this.unfixedKeyframes=null,this._aniClassName=null,this._animationDatasCache=null;},C$99t.getAnimationCount=function(){return this._anis.length;},C$99t.getAnimation=function(C$99t){return this._anis[C$99t];},C$99t.getAniDuration=function(C$99t){return this._anis[C$99t].playTime;},C$99t.getNodes=function(C$99t){return this._anis[C$99t].nodes;},C$99t.getNodeIndexWithName=function(C$99t,C$99e){return this._anis[C$99t].bone3DMap[C$99e];},C$99t.getNodeCount=function(C$99t){return this._anis[C$99t].nodes.length;},C$99t.getTotalkeyframesLength=function(C$99t){return this._anis[C$99t].totalKeyframeDatasLength;},C$99t.getPublicExtData=function(){return this._publicExtData;},C$99t.getAnimationDataWithCache=function(C$99t,C$99e,C$99i,C$99n){C$99e=C$99e[C$99i];return C$99e&&(C$99i=C$99e[C$99t])?C$99i[C$99n]:null;},C$99t.setAnimationDataWithCache=function(C$99t,C$99e,C$99i,C$99n,C$99r){C$99e=C$99e[C$99i]||(C$99e[C$99i]={});(C$99e[C$99t]||(C$99e[C$99t]=[]))[C$99n]=C$99r;},C$99t.getOriginalData=function(C$99u,C$99t,C$99c,C$99_,C$99d){for(var C$99f=this._anis[C$99u].nodes,C$99e=0,C$99i=0,C$99p=C$99f.length,C$99n=0;C$99i<C$99p;C$99i++){var C$99r,C$99s=C$99f[C$99i];C$99r=C$99s.keyFrame[C$99c[C$99i][C$99_]],C$99s.dataOffset=C$99n;var C$99a=C$99d-C$99r.startTime,C$99m=C$99s.lerpType;if(C$99m)switch(C$99m){case 0:case 1:for(C$99e=0;C$99e<C$99s.keyframeWidth;)C$99e+=C$99s.interpolationMethod[C$99e](C$99s,C$99e,C$99t,C$99n+C$99e,C$99r.data,C$99a,null,C$99r.duration,C$99r.nextData);break;case 2:var C$99o=C$99r.interpolationData,C$99g=C$99o.length,C$99h=0;for(C$99e=0;C$99e<C$99g;){var C$99l=C$99o[C$99e];switch(C$99l){case 6:case 7:C$99e+=e$e.interpolation[C$99l](C$99s,C$99h,C$99t,C$99n+C$99h,C$99r.data,C$99a,null,C$99r.duration,C$99r.nextData,C$99o,C$99e+1);break;default:C$99e+=e$e.interpolation[C$99l](C$99s,C$99h,C$99t,C$99n+C$99h,C$99r.data,C$99a,null,C$99r.duration,C$99r.nextData);}C$99h++;}}else for(C$99e=0;C$99e<C$99s.keyframeWidth;)C$99e+=C$99s.interpolationMethod[C$99e](C$99s,C$99e,C$99t,C$99n+C$99e,C$99r.data,C$99a,null,C$99r.duration,C$99r.nextData);C$99n+=C$99s.keyframeWidth;}},C$99t.getNodesCurrentFrameIndex=function(C$99t,C$99e){var C$99i=this._anis[C$99t].nodes;C$99t!==this.unfixedLastAniIndex&&(this.unfixedCurrentFrameIndexes=new Uint32Array(C$99i.length),this.unfixedCurrentTimes=new Float32Array(C$99i.length),this.unfixedLastAniIndex=C$99t);for(var C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99n++){var C$99s=C$99i[C$99n];for(C$99e<this.unfixedCurrentTimes[C$99n]&&(this.unfixedCurrentFrameIndexes[C$99n]=0),this.unfixedCurrentTimes[C$99n]=C$99e;this.unfixedCurrentFrameIndexes[C$99n]<C$99s.keyFrame.length&&!(C$99s.keyFrame[this.unfixedCurrentFrameIndexes[C$99n]].startTime>this.unfixedCurrentTimes[C$99n]);)this.unfixedCurrentFrameIndexes[C$99n]++;this.unfixedCurrentFrameIndexes[C$99n]--;}return this.unfixedCurrentFrameIndexes;},C$99t.getOriginalDataUnfixedRate=function(C$99t,C$99e,C$99u){var C$99i=this._anis[C$99t].nodes;C$99t!==this.unfixedLastAniIndex&&(this.unfixedCurrentFrameIndexes=new Uint32Array(C$99i.length),this.unfixedCurrentTimes=new Float32Array(C$99i.length),this.unfixedKeyframes=C$99p(C$99i.length),this.unfixedLastAniIndex=C$99t);for(var C$99n=0,C$99r=0,C$99c=C$99i.length,C$99s=0;C$99r<C$99c;C$99r++){var C$99a=C$99i[C$99r];for(C$99u<this.unfixedCurrentTimes[C$99r]&&(this.unfixedCurrentFrameIndexes[C$99r]=0),this.unfixedCurrentTimes[C$99r]=C$99u;this.unfixedCurrentFrameIndexes[C$99r]<C$99a.keyFrame.length&&!(C$99a.keyFrame[this.unfixedCurrentFrameIndexes[C$99r]].startTime>this.unfixedCurrentTimes[C$99r]);)this.unfixedKeyframes[C$99r]=C$99a.keyFrame[this.unfixedCurrentFrameIndexes[C$99r]],this.unfixedCurrentFrameIndexes[C$99r]++;var C$99o=this.unfixedKeyframes[C$99r];C$99a.dataOffset=C$99s;var C$99h=C$99u-C$99o.startTime;if(C$99a.lerpType)switch(C$99a.lerpType){case 0:case 1:for(C$99n=0;C$99n<C$99a.keyframeWidth;)C$99n+=C$99a.interpolationMethod[C$99n](C$99a,C$99n,C$99e,C$99s+C$99n,C$99o.data,C$99h,null,C$99o.duration,C$99o.nextData);break;case 2:var C$99_=C$99o.interpolationData,C$99d=C$99_.length,C$99l=0;for(C$99n=0;C$99n<C$99d;){var C$99f=C$99_[C$99n];switch(C$99f){case 6:case 7:C$99n+=e$e.interpolation[C$99f](C$99a,C$99l,C$99e,C$99s+C$99l,C$99o.data,C$99h,null,C$99o.duration,C$99o.nextData,C$99_,C$99n+1);break;default:C$99n+=e$e.interpolation[C$99f](C$99a,C$99l,C$99e,C$99s+C$99l,C$99o.data,C$99h,null,C$99o.duration,C$99o.nextData);}C$99l++;}}else for(C$99n=0;C$99n<C$99a.keyframeWidth;)C$99n+=C$99a.interpolationMethod[C$99n](C$99a,C$99n,C$99e,C$99s+C$99n,C$99o.data,C$99h,null,C$99o.duration,C$99o.nextData);C$99s+=C$99a.keyframeWidth;}},e$e._LinearInterpolation_0=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){C$99s=0===C$99o?0:C$99s/C$99o;return C$99i[C$99n]=(1-C$99s)*C$99r[C$99e]+C$99s*C$99h[C$99e],1;},e$e._QuaternionInterpolation_1=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){return C$99c.slerpQuaternionArray(C$99r,C$99e,C$99h,C$99e,0===C$99o?0:C$99s/C$99o,C$99i,C$99n),4;},e$e._AngleInterpolation_2=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){return 0;},e$e._RadiansInterpolation_3=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){return 0;},e$e._Matrix4x4Interpolation_4=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99l,C$99u){for(var C$99h=0;C$99h<16;C$99h++,C$99e++)C$99i[C$99n+C$99h]=C$99r[C$99e]+C$99s*C$99a[C$99e];return 16;},e$e._NoInterpolation_5=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99o,C$99h,C$99l){return C$99i[C$99n]=C$99r[C$99e],1;},e$e._BezierInterpolation_6=function(C$99l,C$99t,C$99e,C$99i,C$99n,C$99r,C$99u,C$99s,C$99a,C$99o,C$99h){return C$99e[C$99i]=C$99n[C$99t]+(C$99a[C$99t]-C$99n[C$99t])*C$99w.getBezierRate(C$99r/C$99s,C$99o[C$99h=void 0===C$99h?0:C$99h],C$99o[C$99h+1],C$99o[C$99h+2],C$99o[C$99h+3]),5;},e$e._BezierInterpolation_7=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s,C$99a,C$99l,C$99u,C$99o,C$99h){return C$99i[C$99n]=C$99o[(C$99h=void 0===C$99h?0:C$99h)+4]+C$99o[C$99h+5]*C$99w.getBezierRate((.001*C$99s+C$99o[C$99h+6])/C$99o[C$99h+7],C$99o[C$99h],C$99o[C$99h+1],C$99o[C$99h+2],C$99o[C$99h+3]),9;},e$e.load=function(C$99t){return C$99E.loader.create(C$99t,null,null,e$e);},e$e.interpolation=[e$e._LinearInterpolation_0,e$e._QuaternionInterpolation_1,e$e._AngleInterpolation_2,e$e._RadiansInterpolation_3,e$e._Matrix4x4Interpolation_4,e$e._NoInterpolation_5,e$e._BezierInterpolation_6,e$e._BezierInterpolation_7],e$e),C$99S=(C$99i(e$l,"laya.ani.bone.Skeleton",C$99B=C$99R),(C$99e=e$l.prototype).init=function(C$99t,C$99e){var C$99i,C$99n,C$99r,C$99s=0,C$99a=0;if(1==(C$99e=void 0===C$99e?0:C$99e))for(this._graphicsCache=[],C$99s=0,C$99a=C$99t.getAnimationCount();C$99s<C$99a;C$99s++)this._graphicsCache.push([]);if(this._yReverseMatrix=C$99t.yReverseMatrix,this._aniMode=C$99e,this._templet=C$99t,this._player=new C$99T(),this._player.cacheFrameRate=C$99t.rate,this._player.templet=C$99t,this._player.play(),this._parseSrcBoneMatrix(),this._boneList=C$99t.mBoneArr,this._rootBone=C$99t.mRootBone,this._aniSectionDic=C$99t.aniSectionDic,0<C$99t.ikArr.length)for(this._ikArr=[],C$99s=0,C$99a=C$99t.ikArr.length;C$99s<C$99a;C$99s++)this._ikArr.push(new C$99$(C$99t.ikArr[C$99s],this._boneList));if(0<C$99t.pathArr.length)for(null==this._pathDic&&(this._pathDic={}),C$99s=0,C$99a=C$99t.pathArr.length;C$99s<C$99a;C$99s++)C$99i=C$99t.pathArr[C$99s],C$99n=new C$99x(C$99i,this._boneList),(C$99r=this._boneSlotDic[C$99i.name])&&((C$99n=new C$99x(C$99i,this._boneList)).target=C$99r),this._pathDic[C$99i.name]=C$99n;if(0<C$99t.tfArr.length)for(this._tfArr=[],C$99s=0,C$99a=C$99t.tfArr.length;C$99s<C$99a;C$99s++)this._tfArr.push(new C$99y(C$99t.tfArr[C$99s],this._boneList));0<C$99t.skinDataArray.length&&(C$99e=this._templet.skinDataArray[this._skinIndex],this._skinName=C$99e.name),this._player.on("played",this,this._onPlay),this._player.on("stopped",this,this._onStop),this._player.on("paused",this,this._onPause);},C$99e.load=function(C$99t,C$99e,C$99i){},C$99e._onLoaded=function(){},C$99e._parseComplete=function(){var C$99t=C$99D.TEMPLET_DICTIONARY[this._aniPath];C$99t&&(this.init(C$99t,this._loadAniMode),this.play(0,!0)),this._complete&&this._complete.runWith(this);},C$99e._parseFail=function(){console.error("[Error]:"+this._aniPath+"\u89e3\u6790\u5931\u8d25");},C$99e._onPlay=function(){this.event("played");},C$99e._onStop=function(){var C$99t,C$99e=this._templet.eventAniArr[this._aniClipIndex];if(C$99e&&this._eventIndex<C$99e.length)for(;this._eventIndex<C$99e.length;this._eventIndex++)(C$99t=C$99e[this._eventIndex]).time>=this._player.playStart&&C$99t.time<=this._player.playEnd&&this.event("label",C$99t);this._eventIndex=0,this._drawOrder=null,this.event("stopped");},C$99e._onPause=function(){this.event("paused");},C$99e._parseSrcBoneMatrix=function(){var C$99t=0,C$99e=0;for(C$99e=this._templet.srcBoneMatrixArr.length,C$99t=0;C$99t<C$99e;C$99t++)this._boneMatrixArray.push(new C$99Ct());if(0==this._aniMode)this._boneSlotDic=this._templet.boneSlotDic,this._bindBoneBoneSlotDic=this._templet.bindBoneBoneSlotDic,this._boneSlotArray=this._templet.boneSlotArray;else{null==this._boneSlotDic&&(this._boneSlotDic={}),null==this._bindBoneBoneSlotDic&&(this._bindBoneBoneSlotDic={}),null==this._boneSlotArray&&(this._boneSlotArray=[]);var C$99i,C$99n,C$99r=this._templet.boneSlotArray;for(C$99t=0,C$99e=C$99r.length;C$99t<C$99e;C$99t++)C$99i=C$99r[C$99t],null==(C$99n=this._bindBoneBoneSlotDic[C$99i.parent])&&(this._bindBoneBoneSlotDic[C$99i.parent]=C$99n=[]),this._boneSlotDic[C$99i.name]=C$99i=C$99i.copy(),C$99n.push(C$99i),this._boneSlotArray.push(C$99i);}},C$99e._emitMissedEvents=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=0);var C$99n=this._templet.eventAniArr[this._player.currentAnimationClipIndex];if(C$99n){var C$99r,C$99s,C$99a=0;for(C$99r=C$99n.length,C$99a=C$99i;C$99a<C$99r;C$99a++)(C$99s=C$99n[C$99a]).time>=this._player.playStart&&C$99s.time<=this._player.playEnd&&this.event("label",C$99s);}},C$99e._update=function(C$99t){if(void 0===C$99t&&(C$99t=!0),!(this._pause||C$99t&&this._indexControl)){var C$99e=this.timer.currTimer,C$99i=this._player.currentKeyframeIndex,C$99n=C$99e-this._lastTime;if(C$99t?this._player._update(C$99n):C$99i=-1,this._lastTime=C$99e,this._player&&(this._index=this._clipIndex=this._player.currentKeyframeIndex,!(this._index<0||0<C$99n&&this._clipIndex==C$99i&&this._lastUpdateAniClipIndex==this._aniClipIndex))){this._lastUpdateAniClipIndex=this._aniClipIndex,C$99i>this._clipIndex&&0!=this._eventIndex&&(this._emitMissedEvents(this._player.playStart,this._player.playEnd,this._eventIndex),this._eventIndex=0);var C$99r,C$99t=this._templet.eventAniArr[this._aniClipIndex];if(C$99t&&this._eventIndex<C$99t.length&&((C$99e=C$99t[this._eventIndex]).time>=this._player.playStart&&C$99e.time<=this._player.playEnd?this._player.currentPlayTime>=C$99e.time&&(this.event("label",C$99e),this._eventIndex++):this._eventIndex++),0==this._aniMode){if(C$99r=this._templet.getGrahicsDataWithCache(this._aniClipIndex,this._clipIndex))return void(this.graphics!=C$99r&&(this.graphics=C$99r));var C$99s=0,C$99a=0;for(C$99a=this._clipIndex;!this._templet.getGrahicsDataWithCache(this._aniClipIndex,C$99a-1)&&0<C$99a;)C$99a--;if(C$99a<this._clipIndex)for(C$99s=C$99a;C$99s<this._clipIndex;C$99s++)this._createGraphics(C$99s);}else if(1==this._aniMode){if(C$99r=this._getGrahicsDataWithCache(this._aniClipIndex,this._clipIndex))return void(this.graphics!=C$99r&&(this.graphics=C$99r));for(C$99a=this._clipIndex;!this._getGrahicsDataWithCache(this._aniClipIndex,C$99a-1)&&0<C$99a;)C$99a--;if(C$99a<this._clipIndex)for(C$99s=C$99a;C$99s<this._clipIndex;C$99s++)this._createGraphics(C$99s);}this._createGraphics();}}},C$99e._createGraphics=function(C$99t){var C$99u,C$99e,C$99c=(C$99t=-1==(C$99t=void 0===C$99t?-1:C$99t)?this._clipIndex:C$99t)*this._player.cacheFrameRateInterval,C$99_=this._templet.drawOrderAniArr[this._aniClipIndex];if(C$99_&&0<C$99_.length)for(this._drawOrderIndex=0,C$99u=C$99_[this._drawOrderIndex];C$99c>=C$99u.time&&(this._drawOrder=C$99u.drawOrder,this._drawOrderIndex++,!(this._drawOrderIndex>=C$99_.length));)C$99u=C$99_[this._drawOrderIndex];0!=this._aniMode&&1!=this._aniMode&&this.graphics instanceof laya.ani.GraphicsAni?this.graphics.clear():this.graphics=C$99P.create(),C$99e=this.graphics;var C$99d=this._templet.getNodes(this._aniClipIndex);this._templet.getOriginalData(this._aniClipIndex,this._curOriginalData,this._player._fullFrames[this._aniClipIndex],C$99t,C$99c);var C$99i,C$99f,C$99n,C$99r,C$99p=this._aniSectionDic[this._aniClipIndex],C$99s=0,C$99a=0,C$99m=0,C$99g=0,C$99o=0,C$99v=this._templet.srcBoneMatrixArr.length;for(C$99o=C$99p[C$99a=0];C$99a<C$99v;C$99a++)C$99r=this._boneList[C$99a],C$99n=this._templet.srcBoneMatrixArr[C$99a],C$99r.resultTransform.scX=C$99n.scX*this._curOriginalData[C$99s++],C$99r.resultTransform.skX=C$99n.skX+this._curOriginalData[C$99s++],C$99r.resultTransform.skY=C$99n.skY+this._curOriginalData[C$99s++],C$99r.resultTransform.scY=C$99n.scY*this._curOriginalData[C$99s++],C$99r.resultTransform.x=C$99n.x+this._curOriginalData[C$99s++],C$99r.resultTransform.y=C$99n.y+this._curOriginalData[C$99s++],8===this._templet.tMatrixDataLen&&(C$99r.resultTransform.skewX=C$99n.skewX+this._curOriginalData[C$99s++],C$99r.resultTransform.skewY=C$99n.skewY+this._curOriginalData[C$99s++]);var C$99$,C$99x={},C$99y={};for(C$99o+=C$99p[1];C$99a<C$99o;C$99a++)C$99x[(C$99$=C$99d[C$99a]).name]=this._curOriginalData[C$99s++],C$99y[C$99$.name]=this._curOriginalData[C$99s++],this._curOriginalData[C$99s++],this._curOriginalData[C$99s++],this._curOriginalData[C$99s++],this._curOriginalData[C$99s++];var C$99b,C$99w,C$99T={},C$99S={};for(C$99o+=C$99p[2];C$99a<C$99o;C$99a++)C$99T[(C$99$=C$99d[C$99a]).name]=this._curOriginalData[C$99s++],C$99S[C$99$.name]=this._curOriginalData[C$99s++],this._curOriginalData[C$99s++],this._curOriginalData[C$99s++],this._curOriginalData[C$99s++],this._curOriginalData[C$99s++];if(this._pathDic)for(C$99o+=C$99p[3];C$99a<C$99o;C$99a++)if(C$99$=C$99d[C$99a],C$99b=this._pathDic[C$99$.name])switch(new C$99At(C$99$.extenData).getByte()){case 1:C$99b.position=this._curOriginalData[C$99s++];break;case 2:C$99b.spacing=this._curOriginalData[C$99s++];break;case 3:C$99b.rotateMix=this._curOriginalData[C$99s++],C$99b.translateMix=this._curOriginalData[C$99s++];}if(this._yReverseMatrix?this._rootBone.update(this._yReverseMatrix):this._rootBone.update(C$99Ct.TEMP.identity()),this._ikArr)for(C$99a=0,C$99o=this._ikArr.length;C$99a<C$99o;C$99a++)C$99w=this._ikArr[C$99a],C$99T.hasOwnProperty(C$99w.name)&&(C$99w.bendDirection=C$99T[C$99w.name]),C$99S.hasOwnProperty(C$99w.name)&&(C$99w.mix=C$99S[C$99w.name]),C$99w.apply();if(this._pathDic)for(var C$99M in this._pathDic)(C$99b=this._pathDic[C$99M]).apply(this._boneList,C$99e);if(this._tfArr)for(C$99a=0,C$99g=this._tfArr.length;C$99a<C$99g;C$99a++)this._tfArr[C$99a].apply();for(C$99a=0,C$99g=this._boneList.length;C$99a<C$99g;C$99a++)if(C$99r=this._boneList[C$99a],C$99f=this._bindBoneBoneSlotDic[C$99r.name],C$99r.resultMatrix.copyTo(this._boneMatrixArray[C$99a]),C$99f)for(C$99m=0,C$99o=C$99f.length;C$99m<C$99o;C$99m++)(C$99i=C$99f[C$99m])&&C$99i.setParentMatrix(C$99r.resultMatrix);var C$99C,C$99h,C$99l,C$99A,C$99I={},C$99p=this._templet.deformAniArr;if(C$99p&&0<C$99p.length){if(this._lastAniClipIndex!=this._aniClipIndex)for(this._lastAniClipIndex=this._aniClipIndex,C$99a=0,C$99o=this._boneSlotArray.length;C$99a<C$99o;C$99a++)(C$99i=this._boneSlotArray[C$99a]).deformData=null;var C$99D,C$99E=C$99p[this._aniClipIndex];for(C$99D in C$99C=C$99E.default,this._setDeform(C$99C,C$99I,this._boneSlotArray,C$99c),C$99E)"default"!=C$99D&&C$99D!=this._skinName&&(C$99C=C$99E[C$99D],this._setDeform(C$99C,C$99I,this._boneSlotArray,C$99c));C$99C=C$99E[this._skinName],this._setDeform(C$99C,C$99I,this._boneSlotArray,C$99c);}if(this._drawOrder)for(C$99a=0,C$99o=this._drawOrder.length;C$99a<C$99o;C$99a++)C$99h=C$99x[(C$99i=this._boneSlotArray[this._drawOrder[C$99a]]).name],C$99l=C$99y[C$99i.name],isNaN(C$99l)||(C$99e.save(),C$99e.alpha(C$99l)),isNaN(C$99h)||-2==C$99h||(this._templet.attachmentNames?C$99i.showDisplayByName(this._templet.attachmentNames[C$99h]):C$99i.showDisplayByIndex(C$99h)),C$99I[this._drawOrder[C$99a]]?(C$99A=C$99I[this._drawOrder[C$99a]],C$99i.currDisplayData&&C$99A[C$99i.currDisplayData.attachmentName]?C$99i.deformData=C$99A[C$99i.currDisplayData.attachmentName]:C$99i.deformData=null):C$99i.deformData=null,isNaN(C$99l)?C$99i.draw(C$99e,this._boneMatrixArray,2==this._aniMode):C$99i.draw(C$99e,this._boneMatrixArray,2==this._aniMode,C$99l),isNaN(C$99l)||C$99e.restore();else for(C$99a=0,C$99o=this._boneSlotArray.length;C$99a<C$99o;C$99a++)C$99h=C$99x[(C$99i=this._boneSlotArray[C$99a]).name],C$99l=C$99y[C$99i.name],isNaN(C$99l)||(C$99e.save(),C$99e.alpha(C$99l)),isNaN(C$99h)||-2==C$99h||(this._templet.attachmentNames?C$99i.showDisplayByName(this._templet.attachmentNames[C$99h]):C$99i.showDisplayByIndex(C$99h)),C$99I[C$99a]?(C$99A=C$99I[C$99a],C$99i.currDisplayData&&C$99A[C$99i.currDisplayData.attachmentName]?C$99i.deformData=C$99A[C$99i.currDisplayData.attachmentName]:C$99i.deformData=null):C$99i.deformData=null,isNaN(C$99l)?C$99i.draw(C$99e,this._boneMatrixArray,2==this._aniMode):C$99i.draw(C$99e,this._boneMatrixArray,2==this._aniMode,C$99l),isNaN(C$99l)||C$99e.restore();0==this._aniMode?this._templet.setGrahicsDataWithCache(this._aniClipIndex,C$99t,C$99e):1==this._aniMode&&this._setGrahicsDataWithCache(this._aniClipIndex,C$99t,C$99e);},C$99e._setDeform=function(C$99t,C$99e,C$99i,C$99n){if(C$99t){var C$99r,C$99s,C$99a,C$99o,C$99h=0,C$99l=0;if(C$99t)for(C$99h=0,C$99o=C$99t.deformSlotDataList.length;C$99h<C$99o;C$99h++)for(C$99r=C$99t.deformSlotDataList[C$99h],C$99l=0;C$99l<C$99r.deformSlotDisplayList.length;C$99l++)C$99a=C$99i[(C$99s=C$99r.deformSlotDisplayList[C$99l]).slotIndex],C$99s.apply(C$99n,C$99a),C$99e[C$99s.slotIndex]||(C$99e[C$99s.slotIndex]={}),C$99e[C$99s.slotIndex][C$99s.attachment]=C$99s.deformData;}},C$99e.getAnimNum=function(){return this._templet.getAnimationCount();},C$99e.getAniNameByIndex=function(C$99t){return this._templet.getAniNameByIndex(C$99t);},C$99e.getSlotByName=function(C$99t){return this._boneSlotDic[C$99t];},C$99e.showSkinByName=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!0),this.showSkinByIndex(this._templet.getSkinIndexByName(C$99t),C$99e);},C$99e.showSkinByIndex=function(C$99t,C$99e){void 0===C$99e&&(C$99e=!0);for(var C$99i=0;C$99i<this._boneSlotArray.length;C$99i++)this._boneSlotArray[C$99i].showSlotData(null,C$99e);var C$99n;this._templet.showSkinByIndex(this._boneSlotDic,C$99t,C$99e)&&(C$99n=this._templet.skinDataArray[C$99t],this._skinIndex=C$99t,this._skinName=C$99n.name),this._clearCache();},C$99e.showSlotSkinByIndex=function(C$99t,C$99e){0!=this._aniMode&&((C$99t=this.getSlotByName(C$99t))&&C$99t.showDisplayByIndex(C$99e),this._clearCache());},C$99e.showSlotSkinByName=function(C$99t,C$99e){0!=this._aniMode&&((C$99t=this.getSlotByName(C$99t))&&C$99t.showDisplayByName(C$99e),this._clearCache());},C$99e.replaceSlotSkinName=function(C$99t,C$99e,C$99i){0!=this._aniMode&&((C$99t=this.getSlotByName(C$99t))&&C$99t.replaceDisplayByName(C$99e,C$99i),this._clearCache());},C$99e.replaceSlotSkinByIndex=function(C$99t,C$99e,C$99i){0!=this._aniMode&&((C$99t=this.getSlotByName(C$99t))&&C$99t.replaceDisplayByIndex(C$99e,C$99i),this._clearCache());},C$99e.setSlotSkin=function(C$99t,C$99e){0!=this._aniMode&&((C$99t=this.getSlotByName(C$99t))&&C$99t.replaceSkin(C$99e),this._clearCache());},C$99e._clearCache=function(){if(1==this._aniMode)for(var C$99t=0,C$99e=this._graphicsCache.length;C$99t<C$99e;C$99t++){for(var C$99i=0,C$99n=this._graphicsCache[C$99t].length;C$99i<C$99n;C$99i++){var C$99r=this._graphicsCache[C$99t][C$99i];C$99r!=this.graphics&&C$99P.recycle(C$99r);}this._graphicsCache[C$99t].length=0;}},C$99e.play=function(C$99t,C$99e,C$99i,C$99n,C$99r,C$99s){void 0===C$99i&&(C$99i=!0),void 0===C$99n&&(C$99n=0),void 0===C$99r&&(C$99r=0),void 0===C$99s&&(C$99s=!0),this._indexControl=!1;var C$99a=-1;if(C$99e=C$99e?2147483647:0,"string"==typeof C$99t)for(var C$99o=0,C$99h=this._templet.getAnimationCount();C$99o<C$99h;C$99o++){var C$99l=this._templet.getAnimation(C$99o);if(C$99l&&C$99t==C$99l.name){C$99a=C$99o;break;}}else C$99a=C$99t;-1<C$99a&&C$99a<this.getAnimNum()&&(this._aniClipIndex=C$99a,(C$99i||this._pause||this._currAniIndex!=C$99a)&&(this._currAniIndex=C$99a,this._curOriginalData=new Float32Array(this._templet.getTotalkeyframesLength(C$99a)),this._drawOrder=null,this._eventIndex=0,this._player.play(C$99a,this._player.playbackRate,C$99e,C$99n,C$99r),C$99s&&this._templet.showSkinByIndex(this._boneSlotDic,this._skinIndex),this._pause&&(this._pause=!1,this._lastTime=C$99u.now(),this.timer.frameLoop(1,this,this._update,null,!0)),this._update()));},C$99e.stop=function(){this._pause||(this._pause=!0,this._player&&this._player.stop(!0),this.timer.clear(this,this._update));},C$99e.playbackRate=function(C$99t){this._player&&(this._player.playbackRate=C$99t);},C$99e.paused=function(){this._pause||(this._pause=!0,this._player&&(this._player.paused=!0),this.timer.clear(this,this._update));},C$99e.resume=function(){this._indexControl=!1,this._pause&&(this._pause=!1,this._player&&(this._player.paused=!1),this._lastTime=C$99u.now(),this.timer.frameLoop(1,this,this._update,null,!0));},C$99e._getGrahicsDataWithCache=function(C$99t,C$99e){return this._graphicsCache[C$99t][C$99e];},C$99e._setGrahicsDataWithCache=function(C$99t,C$99e,C$99i){this._graphicsCache[C$99t][C$99e]=C$99i;},C$99e.destroy=function(C$99t){C$99B.prototype.destroy.call(this,C$99t=void 0===C$99t?!0:C$99t),this._templet=null,this._player&&this._player.offAll(),this._player=null,this._curOriginalData=null,this._boneMatrixArray.length=0,this._lastTime=0,this.timer.clear(this,this._update);},C$99n(0,C$99e,"url",function(){return this._aniPath;},function(C$99t){this.load(C$99t);}),C$99n(0,C$99e,"index",function(){return this._index;},function(C$99t){this.player&&(this._index=C$99t,this._player.currentTime=1e3*this._index/this._player.cacheFrameRate,this._indexControl=!0,this._update(!1));}),C$99n(0,C$99e,"total",function(){return this._templet&&this._player?this._total=Math.floor(this._templet.getAniDuration(this._player.currentAnimationClipIndex)/1e3*this._player.cacheFrameRate):this._total=-1,this._total;}),C$99n(0,C$99e,"templet",function(){return this._templet;}),C$99n(0,C$99e,"player",function(){return this._player;}),e$l.useSimpleMeshInCanvas=!1,e$l),C$99D=function(C$99e){function e$W(){this._mainTexture=null,this._textureJson=null,this._graphicsCache=[],this.srcBoneMatrixArr=[],this.ikArr=[],this.tfArr=[],this.pathArr=[],this.boneSlotDic={},this.bindBoneBoneSlotDic={},this.boneSlotArray=[],this.skinDataArray=[],this.skinDic={},this.subTextureDic={},this.isParseFail=!1,this.yReverseMatrix=null,this.drawOrderAniArr=[],this.eventAniArr=[],this.attachmentNames=null,this.deformAniArr=[],this._isDestroyed=!1,this._rate=30,this.isParserComplete=!1,this.aniSectionDic={},this._skBufferUrl=null,this._textureDic={},this._loadList=null,this._path=null,this.tMatrixDataLen=0,this.mRootBone=null,e$W.__super.call(this),this.skinSlotDisplayDataArr=[],this.mBoneArr=[];}C$99i(e$W,"laya.ani.bone.Templet",C$99e);var C$99t=e$W.prototype;return C$99t.getLoadList=function(){return this._loadList;},C$99t.loadAni=function(C$99t){this._skBufferUrl=C$99t,C$99E.loader.load(C$99t,C$99o.create(this,this.onComplete),null,"arraybuffer");},C$99t.onComplete=function(C$99t){var C$99e;this._isDestroyed?this.destroy():(C$99e=C$99h.getRes(this._skBufferUrl))?(this._path=this._skBufferUrl.slice(0,this._skBufferUrl.lastIndexOf("/"))+"/",this.parseData(null,C$99e)):this.event("error","load failed:"+this._skBufferUrl);},C$99t.parseData=function(C$99t,C$99e,C$99i){void 0===C$99i&&(C$99i=30),!this._path&&this.url&&(this._path=this.url.slice(0,this.url.lastIndexOf("/"))+"/"),this._mainTexture=C$99t,this._mainTexture&&C$99l.isWebGL&&C$99t.bitmap&&(C$99t.bitmap.enableMerageInAtlas=!1),this._rate=C$99i,this.parse(C$99e);},C$99t.buildArmature=function(C$99t){return new C$99S(this,C$99t=void 0===C$99t?0:C$99t);},C$99t.parse=function(C$99t){C$99e.prototype.parse.call(this,C$99t),this._endLoaded(),this._aniVersion!=e$W.LAYA_ANIMATION_VISION&&(console.error("[Error] \u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u8bf7\u4f7f\u7528IDE\u7248\u672c\u914d\u5957\u7684\u91cd\u65b0\u5bfc\u51fa"+this._aniVersion+"->"+e$W.LAYA_ANIMATION_VISION),this._loaded=!1),this.loaded?this._mainTexture?this._parsePublicExtData():this._parseTexturePath():(this.event("error",this),this.isParseFail=!0);},C$99t._parseTexturePath=function(){if(this._isDestroyed)this.destroy();else{var C$99t=0;this._loadList=[];var C$99e,C$99i=new C$99At(this.getPublicExtData()),C$99n=0,C$99r=C$99i.getInt32(),C$99s=C$99i.readUTFString().split("\n");for(C$99t=0;C$99t<C$99r;C$99t++)C$99e=this._path+C$99s[2*C$99t],C$99s[2*C$99t+1],C$99i.getFloat32(),C$99i.getFloat32(),C$99i.getFloat32(),C$99i.getFloat32(),C$99n=C$99i.getFloat32(),isNaN(C$99n),C$99n=C$99i.getFloat32(),isNaN(C$99n),C$99n=C$99i.getFloat32(),isNaN(C$99n),C$99n=C$99i.getFloat32(),isNaN(C$99n),-1==this._loadList.indexOf(C$99e)&&this._loadList.push(C$99e);this.event("inited",this);}},C$99t._textureComplete=function(){for(var C$99t,C$99e=0,C$99i=this._loadList.length;C$99e<C$99i;C$99e++)C$99t=this._loadList[C$99e],C$99t=this._textureDic[C$99t]=C$99h.getRes(C$99t),C$99l.isWebGL&&C$99t&&C$99t.bitmap&&(C$99t.bitmap.enableMerageInAtlas=!1);this._parsePublicExtData();},C$99t._parsePublicExtData=function(){var C$99t=0,C$99e=0,C$99u=0,C$99i=0,C$99c=0;for(C$99t=0,C$99c=this.getAnimationCount();C$99t<C$99c;C$99t++)this._graphicsCache.push([]);var C$99_;C$99_="Dragon"!=this._aniClassName;var C$99d,C$99f,C$99p,C$99m,C$99g,C$99v,C$99$,C$99x,C$99y,C$99n=new C$99At(this.getPublicExtData()),C$99r=0,C$99b=C$99n.getInt32(),C$99w=C$99n.readUTFString(),C$99T=C$99w.split("\n");for(C$99t=0;C$99t<C$99b;C$99t++){if(C$99d=this._mainTexture,C$99f=this._path+C$99T[2*C$99t],C$99w=C$99T[2*C$99t+1],!(C$99d=null==this._mainTexture?this._textureDic[C$99f]:C$99d))return this.event("error",this),void(this.isParseFail=!0);C$99f=C$99n.getFloat32(),C$99p=C$99n.getFloat32(),C$99m=C$99n.getFloat32(),C$99g=C$99n.getFloat32(),C$99r=C$99n.getFloat32(),C$99v=isNaN(C$99r)?0:C$99r,C$99r=C$99n.getFloat32(),C$99$=isNaN(C$99r)?0:C$99r,C$99r=C$99n.getFloat32(),C$99x=isNaN(C$99r)?C$99m:C$99r,C$99r=C$99n.getFloat32(),C$99y=isNaN(C$99r)?C$99g:C$99r,this.subTextureDic[C$99w]=C$99It.create(C$99d,C$99f,C$99p,C$99m,C$99g,-C$99v,-C$99$,C$99x,C$99y),C$99d.alphaTexture&&(this.subTextureDic[C$99w].alphaTexture=C$99It.create(C$99d.alphaTexture,C$99f,C$99p,C$99m,C$99g,-C$99v,-C$99$,C$99x,C$99y));}this._mainTexture=C$99d;var C$99S,C$99s,C$99M,C$99C,C$99A=C$99n.getUint16();for(C$99t=0;C$99t<C$99A;C$99t++)(C$99S=[]).push(C$99n.getUint16()),C$99S.push(C$99n.getUint16()),C$99S.push(C$99n.getUint16()),C$99S.push(C$99n.getUint16()),this.aniSectionDic[C$99t]=C$99S;var C$99I,C$99D=C$99n.getInt16(),C$99E={};for(C$99t=0;C$99t<C$99D;C$99t++)C$99s=new C$99Dt(),0==C$99t?C$99I=C$99s:C$99s.root=C$99I,C$99s.d=C$99_?-1:1,C$99M=C$99n.readUTFString(),C$99C=C$99n.readUTFString(),C$99s.length=C$99n.getFloat32(),1==C$99n.getByte()&&(C$99s.inheritRotation=!1),1==C$99n.getByte()&&(C$99s.inheritScale=!1),C$99s.name=C$99M,C$99C&&((C$99C=C$99E[C$99C])?C$99C.addChild(C$99s):this.mRootBone=C$99s),C$99E[C$99M]=C$99s,this.mBoneArr.push(C$99s);this.tMatrixDataLen=C$99n.getUint16();var C$99R,C$99P,C$99B=C$99n.getUint16(),C$99L=Math.floor(C$99B/this.tMatrixDataLen),C$99N=this.srcBoneMatrixArr;for(C$99t=0;C$99t<C$99L;C$99t++)(C$99R=new C$99Ht()).scX=C$99n.getFloat32(),C$99R.skX=C$99n.getFloat32(),C$99R.skY=C$99n.getFloat32(),C$99R.scY=C$99n.getFloat32(),C$99R.x=C$99n.getFloat32(),C$99R.y=C$99n.getFloat32(),8===this.tMatrixDataLen&&(C$99R.skewX=C$99n.getFloat32(),C$99R.skewY=C$99n.getFloat32()),C$99N.push(C$99R),(C$99s=this.mBoneArr[C$99t]).transform=C$99R;var C$99a,C$99k,C$99O=C$99n.getUint16();for(C$99t=0;C$99t<C$99O;C$99t++){for(C$99P=new C$99kt(),C$99k=C$99n.getUint16(),C$99e=0;C$99e<C$99k;C$99e++)C$99P.boneNames.push(C$99n.readUTFString()),C$99P.boneIndexs.push(C$99n.getInt16());C$99P.name=C$99n.readUTFString(),C$99P.targetBoneName=C$99n.readUTFString(),C$99P.targetBoneIndex=C$99n.getInt16(),C$99P.bendDirection=C$99n.getFloat32(),C$99P.mix=C$99n.getFloat32(),C$99P.isSpine=C$99_,this.ikArr.push(C$99P);}var C$99o,C$99V,C$99F=C$99n.getUint16();for(C$99t=0;C$99t<C$99F;C$99t++){for(C$99a=new C$99Wt(),C$99V=C$99n.getUint16(),C$99e=0;C$99e<C$99V;C$99e++)C$99a.boneIndexs.push(C$99n.getInt16());C$99a.name=C$99n.getUTFString(),C$99a.targetIndex=C$99n.getInt16(),C$99a.rotateMix=C$99n.getFloat32(),C$99a.translateMix=C$99n.getFloat32(),C$99a.scaleMix=C$99n.getFloat32(),C$99a.shearMix=C$99n.getFloat32(),C$99a.offsetRotation=C$99n.getFloat32(),C$99a.offsetX=C$99n.getFloat32(),C$99a.offsetY=C$99n.getFloat32(),C$99a.offsetScaleX=C$99n.getFloat32(),C$99a.offsetScaleY=C$99n.getFloat32(),C$99a.offsetShearY=C$99n.getFloat32(),this.tfArr.push(C$99a);}var C$99U,C$99W=C$99n.getUint16();for(C$99t=0;C$99t<C$99W;C$99t++){for((C$99o=new C$99Ot()).name=C$99n.readUTFString(),C$99U=C$99n.getUint16(),C$99e=0;C$99e<C$99U;C$99e++)C$99o.bones.push(C$99n.getInt16());C$99o.target=C$99n.readUTFString(),C$99o.positionMode=C$99n.readUTFString(),C$99o.spacingMode=C$99n.readUTFString(),C$99o.rotateMode=C$99n.readUTFString(),C$99o.offsetRotation=C$99n.getFloat32(),C$99o.position=C$99n.getFloat32(),C$99o.spacing=C$99n.getFloat32(),C$99o.rotateMix=C$99n.getFloat32(),C$99o.translateMix=C$99n.getFloat32(),this.pathArr.push(C$99o);}var C$99H,C$99G,C$99z,C$99Y,C$99X,C$99j,C$99K,C$99q,C$99Z,C$99Q,C$99J=C$99n.getInt16();for(C$99t=0;C$99t<C$99J;C$99t++){var C$99tt=C$99n.getUint8(),C$99et={};this.deformAniArr.push(C$99et);for(var C$99it=0;C$99it<C$99tt;C$99it++)for((C$99H=new C$99Rt()).skinName=C$99n.getUTFString(),C$99et[C$99H.skinName]=C$99H,C$99j=C$99n.getInt16(),C$99e=0;C$99e<C$99j;C$99e++)for(C$99G=new C$99Pt(),C$99H.deformSlotDataList.push(C$99G),C$99K=C$99n.getInt16(),C$99u=0;C$99u<C$99K;C$99u++)for(C$99z=new C$99Bt(),C$99G.deformSlotDisplayList.push(C$99z),C$99z.slotIndex=C$99n.getInt16(),C$99z.attachment=C$99n.getUTFString(),C$99q=C$99n.getInt16(),C$99i=0;C$99i<C$99q;C$99i++)for(1==C$99n.getByte()?C$99z.tweenKeyList.push(!0):C$99z.tweenKeyList.push(!1),C$99Z=C$99n.getFloat32(),C$99z.timeList.push(C$99Z),C$99z.vectices.push(C$99Y=[]),C$99Q=C$99n.getInt16(),C$99c=0;C$99c<C$99Q;C$99c++)C$99Y.push(C$99n.getFloat32());}var C$99nt,C$99rt,C$99st,C$99at,C$99ot=C$99n.getInt16();for(C$99t=0;C$99t<C$99ot;C$99t++){for(C$99st=C$99n.getInt16(),C$99X=[],C$99e=0;C$99e<C$99st;C$99e++){for((C$99nt=new C$99Lt()).time=C$99n.getFloat32(),C$99at=C$99n.getInt16(),C$99u=0;C$99u<C$99at;C$99u++)C$99nt.drawOrder.push(C$99n.getInt16());C$99X.push(C$99nt);}this.drawOrderAniArr.push(C$99X);}var C$99ht,C$99lt,C$99ut=C$99n.getInt16();for(C$99t=0;C$99t<C$99ut;C$99t++){for(C$99lt=C$99n.getInt16(),C$99rt=[],C$99e=0;C$99e<C$99lt;C$99e++)(C$99ht=new C$99Nt()).name=C$99n.getUTFString(),C$99ht.intValue=C$99n.getInt32(),C$99ht.floatValue=C$99n.getFloat32(),C$99ht.stringValue=C$99n.getUTFString(),C$99ht.time=C$99n.getFloat32(),C$99rt.push(C$99ht);this.eventAniArr.push(C$99rt);}var C$99ct=C$99n.getInt16();if(0<C$99ct)for(this.attachmentNames=[],C$99t=0;C$99t<C$99ct;C$99t++)this.attachmentNames.push(C$99n.getUTFString());var C$99h,C$99_t,C$99dt=C$99n.getInt16();for(C$99t=0;C$99t<C$99dt;C$99t++)(C$99h=new C$99Et()).name=C$99n.readUTFString(),C$99h.parent=C$99n.readUTFString(),C$99h.attachmentName=C$99n.readUTFString(),C$99h.srcDisplayIndex=C$99h.displayIndex=C$99n.getInt16(),(C$99h.templet=this).boneSlotDic[C$99h.name]=C$99h,null==(C$99_t=this.bindBoneBoneSlotDic[C$99h.parent])&&(this.bindBoneBoneSlotDic[C$99h.parent]=C$99_t=[]),C$99_t.push(C$99h),this.boneSlotArray.push(C$99h);var C$99ft,C$99pt,C$99l,C$99mt,C$99gt,C$99vt,C$99$t,C$99xt,C$99yt,C$99bt,C$99wt=C$99n.readUTFString().split("\n"),C$99Tt=0,C$99St=C$99n.getUint8();for(C$99t=0;C$99t<C$99St;C$99t++){for((C$99ft=new C$99Vt()).name=C$99wt[C$99Tt++],C$99mt=C$99n.getUint8(),C$99e=0;C$99e<C$99mt;C$99e++){for((C$99pt=new C$99Ut()).name=C$99wt[C$99Tt++],C$99h=this.boneSlotDic[C$99pt.name],C$99gt=C$99n.getUint8(),C$99u=0;C$99u<C$99gt;C$99u++){if(C$99l=new C$99Ft(),this.skinSlotDisplayDataArr.push(C$99l),C$99l.name=C$99wt[C$99Tt++],C$99l.attachmentName=C$99wt[C$99Tt++],C$99l.transform=new C$99Ht(),C$99l.transform.scX=C$99n.getFloat32(),C$99l.transform.skX=C$99n.getFloat32(),C$99l.transform.skY=C$99n.getFloat32(),C$99l.transform.scY=C$99n.getFloat32(),C$99l.transform.x=C$99n.getFloat32(),C$99l.transform.y=C$99n.getFloat32(),C$99pt.displayArr.push(C$99l),C$99l.width=C$99n.getFloat32(),C$99l.height=C$99n.getFloat32(),C$99l.type=C$99n.getUint8(),C$99l.verLen=C$99n.getUint16(),0<(C$99D=C$99n.getUint16()))for(C$99l.bones=[],C$99i=0;C$99i<C$99D;C$99i++){var C$99Mt=C$99n.getUint16();C$99l.bones.push(C$99Mt);}if(0<(C$99vt=C$99n.getUint16()))for(C$99l.uvs=[],C$99i=0;C$99i<C$99vt;C$99i++)C$99l.uvs.push(C$99n.getFloat32());if(0<(C$99$t=C$99n.getUint16()))for(C$99l.weights=[],C$99i=0;C$99i<C$99$t;C$99i++)C$99l.weights.push(C$99n.getFloat32());if(0<(C$99xt=C$99n.getUint16()))for(C$99l.triangles=[],C$99i=0;C$99i<C$99xt;C$99i++)C$99l.triangles.push(C$99n.getUint16());if(0<(C$99yt=C$99n.getUint16()))for(C$99l.vertices=[],C$99i=0;C$99i<C$99yt;C$99i++)C$99l.vertices.push(C$99n.getFloat32());if(0<(C$99bt=C$99n.getUint16()))for(C$99l.lengths=[],C$99i=0;C$99i<C$99bt;C$99i++)C$99l.lengths.push(C$99n.getFloat32());}C$99ft.slotArr.push(C$99pt);}this.skinDic[C$99ft.name]=C$99ft,this.skinDataArray.push(C$99ft);}1==C$99n.getUint8()?(this.yReverseMatrix=new C$99Ct(1,0,0,-1,0,0),C$99I&&C$99I.setTempMatrix(this.yReverseMatrix)):C$99I&&C$99I.setTempMatrix(new C$99Ct()),this.showSkinByIndex(this.boneSlotDic,0),this.isParserComplete=!0,this.event("complete",this);},C$99t.getTexture=function(C$99t){var C$99e=this.subTextureDic[C$99t];return null==(C$99e=C$99e||this.subTextureDic[C$99t.substr(0,C$99t.length-1)])?this._mainTexture:C$99e;},C$99t.showSkinByIndex=function(C$99t,C$99e,C$99i){if(void 0===C$99i&&(C$99i=!0),C$99e<0&&C$99e>=this.skinDataArray.length)return!1;var C$99n,C$99r,C$99s,C$99a=0,C$99o=this.skinDataArray[C$99e];if(C$99o){for(C$99a=0,C$99s=C$99o.slotArr.length;C$99a<C$99s;C$99a++)(C$99r=C$99o.slotArr[C$99a])&&(C$99n=C$99t[C$99r.name])&&(C$99n.showSlotData(C$99r,C$99i),C$99i&&"undefined"!=C$99n.attachmentName&&"null"!=C$99n.attachmentName?C$99n.showDisplayByName(C$99n.attachmentName):C$99n.showDisplayByIndex(C$99n.displayIndex));return!0;}return!1;},C$99t.getSkinIndexByName=function(C$99t){for(var C$99e=0,C$99i=this.skinDataArray.length;C$99e<C$99i;C$99e++)if(this.skinDataArray[C$99e].name==C$99t)return C$99e;return-1;},C$99t.getGrahicsDataWithCache=function(C$99t,C$99e){return this._graphicsCache[C$99t][C$99e];},C$99t.setGrahicsDataWithCache=function(C$99t,C$99e,C$99i){this._graphicsCache[C$99t][C$99e]=C$99i;},C$99t.destroy=function(){var C$99t;for(var C$99e in this._isDestroyed=!0,this.subTextureDic)(C$99t=this.subTextureDic[C$99e])&&C$99t.destroy();for(C$99e in this._textureDic)(C$99t=this._textureDic[C$99e])&&C$99t.destroy();for(var C$99i=0,C$99n=this.skinSlotDisplayDataArr.length;C$99i<C$99n;C$99i++)this.skinSlotDisplayDataArr[C$99i].destory();this.skinSlotDisplayDataArr.length=0,this.url&&delete e$W.TEMPLET_DICTIONARY[this.url],laya.resource.Resource.prototype.destroy.call(this);},C$99t.getAniNameByIndex=function(C$99t){C$99t=this.getAnimation(C$99t);return C$99t?C$99t.name:null;},C$99n(0,C$99t,"rate",function(){return this._rate;},function(C$99t){this._rate=C$99t;}),e$W.LAYA_ANIMATION_VISION="LAYAANIMATION:1.6.0",e$W.TEMPLET_DICTIONARY=null,e$W;}(C$99I);function e$l(C$99t,C$99e){this._templet=null,this._player=null,this._curOriginalData=null,this._boneMatrixArray=[],this._lastTime=0,this._currAniName=null,this._currAniIndex=-1,this._pause=!0,this._aniClipIndex=-1,this._clipIndex=-1,this._skinIndex=0,this._skinName="default",this._aniMode=0,this._graphicsCache=null,this._boneSlotDic=null,this._bindBoneBoneSlotDic=null,this._boneSlotArray=null,this._index=-1,this._total=-1,this._indexControl=!1,this._aniPath=null,this._texturePath=null,this._complete=null,this._loadAniMode=0,this._yReverseMatrix=null,this._ikArr=null,this._tfArr=null,this._pathDic=null,this._rootBone=null,this._boneList=null,this._aniSectionDic=null,this._eventIndex=0,this._drawOrderIndex=0,this._drawOrder=null,this._lastAniClipIndex=-1,this._lastUpdateAniClipIndex=-1,e$l.__super.call(this),void 0===C$99e&&(C$99e=0),C$99t&&this.init(C$99t,C$99e);}var C$99B;function e$e(){this._aniMap={},this.unfixedLastAniIndex=-1,e$e.__super.call(this),this._anis=new Array();}function e$t(){this._destroyed=!1,this._templet=null,this._currentTime=NaN,this._currentFrameTime=NaN,this._playStart=NaN,this._playEnd=NaN,this._playDuration=NaN,this._overallDuration=NaN,this._stopWhenCircleFinish=!1,this._elapsedPlaybackTime=NaN,this._startUpdateLoopCount=NaN,this._currentAnimationClipIndex=0,this._currentKeyframeIndex=0,this._paused=!1,this._cacheFrameRate=0,this._cacheFrameRateInterval=NaN,this._cachePlayRate=NaN,this._fullFrames=null,this.isCache=!0,this.playbackRate=1,this.returnToZeroStopped=!1,e$t.__super.call(this),this._destroyed=!1,this._currentAnimationClipIndex=-1,this._currentKeyframeIndex=-1,this._currentTime=0,this._overallDuration=Number.MAX_VALUE,this._stopWhenCircleFinish=!1,this._elapsedPlaybackTime=0,this._startUpdateLoopCount=-1,this._cachePlayRate=1,this.cacheFrameRate=60,this.returnToZeroStopped=!1;}function e$b(){}function e$C(C$99t,C$99e){this.target=null,this.data=null,this.bones=null,this.position=NaN,this.spacing=NaN,this.rotateMix=NaN,this.translateMix=NaN,this._debugKey=!1,this._spaces=null,this._segments=[],this._curves=[],this.data=C$99t,this.position=C$99t.position,this.spacing=C$99t.spacing,this.rotateMix=C$99t.rotateMix,this.translateMix=C$99t.translateMix,this.bones=[];for(var C$99i=this.data.bones,C$99n=0,C$99r=C$99i.length;C$99n<C$99r;C$99n++)this.bones.push(C$99e[C$99i[C$99n]]);}function e$kd(C$99t,C$99e){this._targetBone=null,this._bones=null,this._data=null,this.name=null,this.mix=NaN,this.bendDirection=NaN,this.isSpine=!0,this._sp=null,this.isDebug=!1,this._data=C$99t,this._targetBone=C$99e[C$99t.targetBoneIndex],this.isSpine=C$99t.isSpine,null==this._bones&&(this._bones=[]);for(var C$99i=this._bones.length=0,C$99n=C$99t.boneIndexs.length;C$99i<C$99n;C$99i++)this._bones.push(C$99e[C$99t.boneIndexs[C$99i]]);this.name=C$99t.name,this.mix=C$99t.mix,this.bendDirection=C$99t.bendDirection;}function e$w(){this.name=null,this.parent=null,this.attachmentName=null,this.srcDisplayIndex=-1,this.type="src",this.templet=null,this.currSlotData=null,this.currTexture=null,this.currDisplayData=null,this.displayIndex=-1,this._diyTexture=null,this._parentMatrix=null,this._resultMatrix=null,this._replaceDic={},this._curDiyUV=null,this._curDiyVS=null,this._skinSprite=null,this.deformData=null,this._mVerticleArr=null;}function e$W(){this.name=null,this.root=null,this.parentBone=null,this.length=10,this.transform=null,this.inheritScale=!0,this.inheritRotation=!0,this.rotation=NaN,this.resultRotation=NaN,this.d=-1,this._tempMatrix=null,this._sprite=null,this.resultTransform=new C$99Ht(),this.resultMatrix=new C$99Ct(),this._children=[];}var C$99r;function e$R(){}function e$d(){this.nodes=null,this.name=null,this.playTime=NaN,this.bone3DMap=null,this.totalKeyframeDatasLength=0;}}((window,document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(C$99t,C$99e){"use strict";for(var C$99i in Object.defineProperty(C$99e,"__esModule",{value:!0}),Laya){var C$99n=Laya[C$99i];C$99n&&C$99n.__isclass&&(C$99e[C$99i]=C$99n);}});