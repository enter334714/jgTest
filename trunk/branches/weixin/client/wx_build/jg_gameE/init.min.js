"use strict";var ui,__extends=this&&this.__extends||function(){var ed=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ea,eb){ea.__proto__=eb}||function(ea,eb){for(var ec in eb)eb.hasOwnProperty(ec)&&(ea[ec]=eb[ec])};return function(ea,eb){function ec(){this.constructor=ea}ed(ea,eb),ea.prototype=null===eb?Object.create(eb):(ec.prototype=eb.prototype,new ec)}}(),View=laya.ui.View,Dialog=laya.ui.Dialog;!function(ec){var ea=function(ea){function eb(){return ea.call(this)||this}return __extends(eb,ea),eb.prototype.createChildren=function(){ea.prototype.createChildren.call(this),this.createView(ec.ea.uiView)},eb.uiView={type:"View",props:{width:720,name:"P_WXAuthorizationViewUI",height:1280},child:[{type:"Image",props:{width:720,var:"bgImg",skin:"wxlogin_atlas/image_login_loginbg.jpg",name:"bg",height:1280,centerY:0,centerX:0}},{type:"Box",props:{y:0,width:720,right:0,height:1280},child:[{type:"Image",props:{width:720,var:"topImg",top:-139,skin:"wxlogin_atlas/image_login_loginbg_top.jpg",height:139,centerX:0,anchorY:1}},{type:"Image",props:{width:720,var:"btmImg",top:1280,skin:"wxlogin_atlas/image_login_loginbg_bottom.jpg",height:139,centerX:0}},{type:"Image",props:{x:-220,width:220,var:"leftImg",skin:"wxlogin_atlas/image_login_loginbg_left.jpg",left:-220,height:1280,centerY:0}},{type:"Image",props:{width:220,var:"rightImg",skin:"wxlogin_atlas/image_login_loginbg_right.jpg",left:720,height:1280,centerY:0}}]}]},eb}(View);ec.ea=ea}(ui||(ui={})),function(ec){var ea=function(ea){function eb(){return ea.call(this)||this}return __extends(eb,ea),eb.prototype.createChildren=function(){ea.prototype.createChildren.call(this),this.createView(ec.eb.uiView)},eb.uiView={type:"View",props:{width:720,name:"P_LoadingView",height:1280},child:[{type:"Image",props:{width:720,var:"bgImg",name:"bg",height:1280,centerY:0,centerX:0}},{type:"Box",props:{y:0,x:0,width:720,height:1280},child:[{type:"Image",props:{var:"topImg",centerX:0,bottom:1280,anchorY:1}},{type:"Image",props:{var:"btmImg",top:1280,centerX:0}},{type:"Image",props:{var:"leftImg",right:720,pivotX:1,centerY:0}},{type:"Image",props:{var:"rightImg",left:720,centerY:0}}]},{type:"Image",props:{var:"copyRightImg",skin:"wxlogin_atlas/image_denglu_txtshenpi.png",centerX:0,bottom:10}},{type:"Box",props:{y:963,x:0,width:720,var:"processBox1",name:"processBox1",height:130},child:[{type:"Image",props:{y:46,x:62,width:596,var:"loadingBarBg",skin:"wxloading_atlas/image_loding_bar0.png",height:27,centerX:0}},{type:"Image",props:{y:49,x:64,width:590,var:"loadingBar",skin:"wxloading_atlas/image_loding_bar1.png",height:21}},{type:"Image",props:{y:55,x:507,width:208,var:"loadingImg1",skin:"wxloading_atlas/image_loding_bar2.png",height:11}},{type:"Image",props:{y:6,x:628,width:39,var:"loadingImg2",skin:"wxloading_atlas/image_loding_bar3.png",height:116}},{type:"Label",props:{y:48,x:293,width:134,var:"percentageTips",valign:"middle",text:"88%",strokeColor:"#565353",stroke:3,height:24,fontSize:24,color:"#fbfbf9",centerX:0,bold:!1,align:"center"}}]},{type:"Box",props:{y:1065,x:0,width:720,var:"processBox2",name:"processBox2",height:17},child:[{type:"Image",props:{y:0,x:307,var:"point1",skin:"wxloading_atlas/image_login_point3.png",centerX:-45}},{type:"Image",props:{y:0,x:337,var:"point2",skin:"wxloading_atlas/image_login_point2.png",centerX:-15}},{type:"Image",props:{y:0,x:367,var:"point3",skin:"wxloading_atlas/image_login_point1.png",centerX:15}},{type:"Image",props:{y:0,x:397,var:"point4",skin:"wxloading_atlas/image_login_point1.png",centerX:45}}]},{type:"Button",props:{y:790,x:55,visible:!1,var:"getTipsBtn",stateNum:1,skin:"wxloading_atlas/btn_loding_abcelq0.png",name:"getTipsBtn",labelSize:30,labelFont:"SimHei",labelColors:"#af4158"},child:[{type:"Label",props:{y:155,x:146,width:323,var:"txtGetTm",text:"\u7acb\u5373\u9886\u53d6(5s)",name:"txtGetTm",height:30,fontSize:30,color:"#bd4f1e",align:"center"}}]},{type:"Label",props:{y:1107,width:500,var:"loadingTips",valign:"middle",text:"\u52a0\u8f7d\u63cf\u8ff0",height:26,fontSize:26,color:"#f2ffb5",centerX:0,bold:!1,align:"center"}},{type:"Label",props:{y:10,x:10,width:342,var:"versionTxt",valign:"middle",top:20,text:"\u7248\u672c\uff1a100",right:20,height:32,fontSize:24,color:"#163274",bold:!1,align:"right"}}]},eb}(View);ec.eb=ea}(ui||(ui={})),function(ec){var ea=function(ea){function eb(){return ea.call(this)||this}return __extends(eb,ea),eb.prototype.createChildren=function(){View.regComponent("Text",laya.display.Text),ea.prototype.createChildren.call(this),this.createView(ec.ec.uiView)},eb.uiView={type:"View",props:{width:720,name:"P_SelectServerViewUI",height:1280},child:[{type:"Image",props:{width:720,var:"bgImg",skin:"wxlogin_atlas/image_login_loginbg.jpg",name:"bg",height:1280,centerY:0,centerX:0}},{type:"Box",props:{y:0,x:0,width:720,height:1280},child:[{type:"Image",props:{width:720,var:"topImg",top:-139,skin:"wxlogin_atlas/image_login_loginbg_top.jpg",height:139,centerX:0}},{type:"Image",props:{width:720,var:"btmImg",top:1280,skin:"wxlogin_atlas/image_login_loginbg_bottom.jpg",height:139,centerX:0}},{type:"Image",props:{width:220,var:"leftImg",skin:"wxlogin_atlas/image_login_loginbg_left.jpg",left:-220,height:1280,centerY:0}},{type:"Image",props:{width:220,var:"rightImg",skin:"wxlogin_atlas/image_login_loginbg_right.jpg",left:720,height:1280,centerY:0}}]},{type:"Image",props:{y:845,var:"selectServer",skin:"wxlogin_atlas/image_login_xuanqubg.png",centerX:0}},{type:"Image",props:{y:930,x:162,var:"hotImage",skin:"wxlogin_atlas/image_login_changtong.png"}},{type:"Image",props:{var:"copyRightImg",skin:"wxlogin_atlas/image_denglu_txtshenpi.png",centerX:0,bottom:10}},{type:"Image",props:{y:1015,var:"enterBtn",stateNum:1,skin:"wxlogin_atlas/btn_login_loginanniu.png",name:"enterBtn",centerX:0}},{type:"Label",props:{y:932,x:521,var:"selServer",valign:"middle",text:"\u9009\u670d>",height:32,fontSize:30,color:"#feffc0",bold:!1,align:"center"}},{type:"Label",props:{y:932,width:342,var:"serverName",valign:"middle",text:"0000000000001\u670d",height:32,fontSize:30,color:"#feffc0",centerX:0,bold:!1,align:"center"}},{type:"Label",props:{width:342,var:"versionTxt",valign:"middle",top:20,text:"\u7248\u672c\uff1a100",right:20,height:32,fontSize:24,color:"#163274",bold:!1,align:"right"}},{type:"Image",props:{y:127,x:593.5,var:"noticeBtn",skin:"wxlogin_atlas/btn_login_gonggao.png"}},{type:"Image",props:{y:71,x:-2,visible:!1,var:"noticeBg",skin:"wxlogin_atlas/image_login_notice.png",centerY:0,centerX:0},child:[{type:"Image",props:{y:36.5,x:616,var:"noticeClose",skin:"wxlogin_atlas/btn_com_chuangback.png"}},{type:"Label",props:{y:72,x:216,width:234,var:"noticeTitle",valign:"middle",text:"\u6682\u65e0\u516c\u544a",height:35,fontSize:30,color:"#ffffff",bold:!1,align:"center"}},{type:"Text",props:{y:142,x:61,wordWrap:!0,width:545,var:"noticeContent",valign:"top",overflow:"scroll",mouseEnabled:!0,leading:4,height:870,fontSize:26,color:"#212942"}}]},{type:"Image",props:{visible:!1,var:"listBg",skin:"wxlogin_atlas/image_xuanfu_xfbg.png",centerY:0,centerX:0},child:[{type:"Box",props:{y:117,x:61,width:200,var:"leftListBox",height:905}},{type:"Box",props:{y:117,x:293,width:358,var:"rightListBox",height:905}},{type:"Image",props:{y:13,x:642,var:"closeBg",skin:"wxlogin_atlas/image_com_tuichu.png"}}]}]},eb}(View);ec.ec=ea}(ui||(ui={})),function(ea){var eb,ec;eb=ea.ed||(ea.ed={}),ec=function(eb){function ea(){return eb.call(this)||this}return __extends(ea,eb),ea.prototype.initialize=function(){eb.prototype.initialize.call(this),this.centerX=0,this.centerY=0,this.addEvt(),this.onOpened()},ea.prototype.addEvt=function(){this.on(Laya.Event.CLICK,this,this.ee)},ea.prototype.rmEvts=function(){this.off(Laya.Event.CLICK,this,this.ee)},ea.prototype.onOpened=function(){this.ef=Date.now(),ServerLoading.instance.preloadServer(),ServerLoading.instance.preloadLoading()},ea.prototype.destroy=function(ea){void 0===ea&&(ea=!0),this.rmEvts(),eb.prototype.destroy.call(this,ea)},ea.prototype.ee=function(){1e4<Date.now()-this.ef&&(this.ef-=1e3,Browser.window.PF_INFO.selectedServer.server_id&&(ServerLoading.instance.enterDefaultServer(),ServerLoading.instance.sendRecord()))},ea}(ui.ea),eb.AuthorizationPanel=ec}(modules||(modules={})),function(ea){var eb,ec,ed,ee,eg,ef;eb=ea.eg||(ea.eg={}),ec=Laya.Event,ed=Laya.Image,ee=Laya.Component,eg=Laya.Loader,ef=function(eb){function ek(){var ea=eb.call(this)||this;return ea.eh=new ed,ea.addChild(ea.eh),ea.ek=null,ea.el=[],ea.em=!1,ea.en=0,ea.eo=!0,ea.ep=6,ea.eq=!1,ea.on(ec.DISPLAY,ea,ea.er),ea.on(ec.UNDISPLAY,ea,ea.es),ea}return __extends(ek,eb),ek.create=function(ea,eb,ec,ed,ee,ef,eg){void 0===ed&&(ed=0),void 0===ee&&(ee=6),void 0===ef&&(ef=!0),void 0===eg&&(eg=!1);var eh=new ek;return eh.skin(eb,ec,ed),eh.durFrm=ee,eh.loop=ef,eh.atHide=eg,ea&&ea.addChild(eh),eh},ek.play=function(ea){ea&&(ea.visible=!0,ea.play())},ek.stop=function(ea){ea&&(ea.visible=!1,ea.stop())},ek.prototype.destroy=function(ea){Laya.timer.clear(this,this.et),this.off(ec.DISPLAY,this,this.er),this.off(ec.UNDISPLAY,this,this.es),eb.prototype.destroy.call(this,ea)},ek.prototype.er=function(){},ek.prototype.es=function(){},ek.prototype.skin=function(ea,eb,ec){if(this.ek!=ea){this.ek=ea,this.el=[];for(var ed=0,ee=ec;ee<=eb;ee++)this.el[ed++]=ea+"/"+ee+".png";var ef=eg.getRes(this.el[0]);ef&&(this.width=ef.sourceWidth,this.height=ef.sourceHeight),this.et()}},Object.defineProperty(ek.prototype,"atHide",{get:function(){return this.eq},set:function(ea){this.eq=ea},enumerable:!0,configurable:!0}),Object.defineProperty(ek.prototype,"durFrm",{set:function(ea){this.ep!=ea&&(this.ep=ea,this.em&&(Laya.timer.clear(this,this.et),Laya.timer.loop(this.ep*(1e3/60),this,this.et)))},enumerable:!0,configurable:!0}),Object.defineProperty(ek.prototype,"loop",{set:function(ea){this.eo=ea},enumerable:!0,configurable:!0}),ek.prototype.play=function(){this.em&&this.stop(),this.em=!0,this.en=0,Laya.timer.loop(this.ep*(1e3/60),this,this.et),this.et()},ek.prototype.stop=function(){this.em=!1,this.en=0,this.et(),Laya.timer.clear(this,this.et)},ek.prototype.pause=function(){this.em&&(this.em=!1,Laya.timer.clear(this,this.et))},ek.prototype.resume=function(){this.em||(this.em=!0,Laya.timer.loop(this.ep*(1e3/60),this,this.et),this.et())},Object.defineProperty(ek.prototype,"isPlay",{get:function(){return this.em},enumerable:!0,configurable:!0}),ek.prototype.et=function(){this.el&&0!=this.el.length&&(this.eh.skin=this.el[this.en],this.em&&(this.en++,this.en==this.el.length&&(this.eo?this.en=0:(Laya.timer.clear(this,this.et),this.em=!1,this.eq&&(this.visible=!1),this.event(ec.COMPLETE)))))},ek}(ee),eb.PanelEff=ef}(modules||(modules={})),function(ea){var eb,ed,ec;eb=ea.ed||(ea.ed={}),ed=ea.eg.PanelEff,ec=function(ec){function ea(ea){void 0===ea&&(ea=0);var eb=ec.call(this)||this;return eb.eu={bgImgSkin:"wxloading_atlas/image_loading_bg.jpg",topImgSkin:"wxloading_atlas/image_loading_bg_top.jpg",btmImgSkin:"wxloading_atlas/image_loading_bg_bottom.jpg",leftImgSkin:"wxloading_atlas/image_loading_bg_left.jpg",rightImgSkin:"wxloading_atlas/image_loading_bg_right.jpg",loadingBarBgSkin:"wxloading_atlas/image_loding_bar0.png",copyRightImgBottom:10,processBox1Y:963,processBox2Y:1065,loadingTipsSize:26,getTipsBtnVisible:!1},eb.ev={bgImgSkin:"wxloading_atlas/image_loading_bg2.jpg",topImgSkin:"wxloading_atlas/image_loading_bg_top2.jpg",btmImgSkin:"wxloading_atlas/image_loading_bg_bottom2.jpg",leftImgSkin:"wxloading_atlas/image_loading_bg_left2.jpg",rightImgSkin:"wxloading_atlas/image_loading_bg_right2.jpg",loadingBarBgSkin:"wxloading_atlas/image_loding_bar02.png",copyRightImgBottom:10,processBox1Y:963,processBox2Y:1065,loadingTipsSize:26,getTipsBtnVisible:!1},eb.ew=0,eb.ex(1==ea?eb.ev:eb.eu),eb}return __extends(ea,ec),ea.prototype.initialize=function(){if(ec.prototype.initialize.call(this),ServerLoading.instance.preloadLoading(),this.ey=Browser.window.PF_INFO,this.centerX=0,this.centerY=0,this.ey){this.ey.loadingType;this.loadingTips.color="#f2ffb5"}this.ez=[this.point1,this.point2,this.point3,this.point4],Browser.window.watPanel=this,wxHideLoading(),ServerLoading.instance.closeAuthor(),ServerLoading.instance.closeServer(),this.onOpened()},ea.prototype.toAllProgress=function(ea){var eb=this;if(-1===ea)return eb.ew=0,Laya.timer.clear(this,this.toAllProgress),void Laya.timer.frameLoop(1,this,this.toAllProgress);if(-2!==ea){eb.ew<.9?eb.ew+=(.15*Math.random()+.01)/(100*Math.random()+50):eb.ew<1&&(eb.ew+=1e-4),.9999<eb.ew&&(eb.ew=.9999,Laya.timer.clear(this,this.toAllProgress),Laya.timer.once(3e3,this,function(){.9<eb.ew&&toAllProgress(-1)}));var ec=eb.ew,ed=590*ec;eb.ew=eb.ew>ec?eb.ew:ec,eb.loadingBar.width=ed;var ee=eb.loadingBar.x+ed;eb.loadingImg2.x=ee-15,364<=ee?(eb.loadingImg1.visible=!0,eb.loadingImg1.x=ee-202):eb.loadingImg1.visible=!1,eb.percentageTips.text=(100*ec>>0)+"%",eb.ew<.9999&&Laya.timer.frameLoop(1,this,this.toAllProgress)}else Laya.timer.clear(this,this.toAllProgress)},ea.prototype.toProgress=function(ea,eb,ec){var ed=this;1<ea&&(ea=1);var ee=590*ea;ed.ew=ed.ew>ea?ed.ew:ea,ed.loadingBar.width=ee;var ef=ed.loadingBar.x+ee;ed.loadingImg2.x=ef-15,364<=ef?(ed.loadingImg1.visible=!0,ed.loadingImg1.x=ef-202):ed.loadingImg1.visible=!1,ed.percentageTips.text=(100*ea>>0)+"%",ed.loadingTips.text=eb;for(var eg=ec-1,eh=0;eh<this.ez.length;eh++)ed.ez[eh].skin=eh<eg?"wxloading_atlas/image_login_point3.png":eg===eh?"wxloading_atlas/image_login_point2.png":"wxloading_atlas/image_login_point1.png"},ea.prototype.onOpened=function(){this.toProgress(.1,"\u6b63\u5728\u52a0\u8f7d\u8d44\u6e90...",1),this.toAllProgress(-1),Browser.window.toAllProgress=this.toAllProgress.bind(this),Browser.window.toProgress=this.toProgress.bind(this),this.versionTxt.text="\u8d44\u6e90\uff1a"+this.ey.lastVersion+"      \u7248\u672c\uff1a"+this.ey.wxVersion,this.showGetBtn()},ea.prototype.close=function(ea){this.resetWinFun(),Laya.timer.clear(this,this.toAllProgress),Laya.timer.clear(this,this.eA),ServerLoading.instance.closeLoading(),this.getTipsBtn.off(Laya.Event.CLICK,this,this.eB)},ea.prototype.resetWinFun=function(){Browser.window.toAllProgress=function(){},Browser.window.toProgress=function(){}},ea.prototype.destroy=function(ea){void 0===ea&&(ea=!0),this.resetWinFun(),ec.prototype.destroy.call(this,ea)},ea.prototype.showGetBtn=function(){this.ey.showGetBtn&&1==this.ey.showGetBtn&&(this.getTipsBtn.visible=!0,this.getTipsBtn.tag=!0,this.getTipsBtn.skin="wxloading_atlas/btn_loding_abcelq0.png",this.getTipsBtn.on(Laya.Event.CLICK,this,this.eB),this.eC(),this.eD(!0))},ea.prototype.eB=function(){this.getTipsBtn.tag&&(this.getTipsBtn.tag=!1,this.getTipsBtn.skin="wxloading_atlas/btn_loding_abcelq1.png",this.eE(),this.eD(!1))},ea.prototype.ex=function(ea){this.bgImg.skin=ea.bgImgSkin,this.topImg.skin=ea.topImgSkin,this.btmImg.skin=ea.btmImgSkin,this.leftImg.skin=ea.leftImgSkin,this.rightImg.skin=ea.rightImgSkin,this.copyRightImg.bottom=ea.copyRightImgBottom,this.processBox1.y=ea.processBox1Y,this.processBox2.y=ea.processBox2Y,this.loadingBarBg.skin=ea.loadingBarBgSkin,this.loadingTips.fontSize=ea.loadingTipsSize,this.getTipsBtn.visible=this.ey.showGetBtn&&1==this.ey.showGetBtn,this.getTipsBtn.visible?this.eC():this.eE(),this.eD(this.getTipsBtn.visible)},ea.prototype.eC=function(){this.eF||(this.eF=ed.create(this.getTipsBtn,"wxeff_btn_atlas",4,0,12),this.eF.pos(161,106),this.eF.scale(1.14,1.15)),ed.play(this.eF)},ea.prototype.eE=function(){this.eF&&ed.stop(this.eF)},ea.prototype.eD=function(ea){Laya.timer.clear(this,this.eA),ea?(this.eG=9,this.txtGetTm.visible=!0,this.eA(),Laya.timer.loop(1e3,this,this.eA)):this.txtGetTm.visible=!1},ea.prototype.eA=function(){0<this.eG?(this.txtGetTm.text="\u7acb\u5373\u9886\u53d6("+this.eG+"s)",this.eG--):(this.txtGetTm.text="",Laya.timer.clear(this,this.eA),this.eB())},ea}(ui.eb),eb.LoadingPanel=ec}(modules||(modules={})),function(ea){var ec,ed,ee,eb;ec=ea.ed||(ea.ed={}),ed=Laya.List,ee=Laya.Event,eb=function(eb){function ea(){var ea=eb.call(this)||this;return ea.eH=0,ea}return __extends(ea,eb),ea.prototype.initialize=function(){eb.prototype.initialize.call(this),ServerLoading.instance.preloadServer(),this.centerX=0,this.centerY=0,this.ey=Browser.window.PF_INFO,this.eI=new ed,this.eI.vScrollBarSkin="",this.eI.itemRender=ec.SelectLeftListItem,this.eI.top=5,this.eI.repeatX=1,this.eI.spaceY=5,this.eI.width=this.leftListBox.width,this.eI.height=this.leftListBox.height-8,this.leftListBox.addChild(this.eI),this.eJ=new ed,this.eJ.vScrollBarSkin="",this.eJ.itemRender=ec.SelectRightListItem,this.eJ.top=5,this.eJ.repeatX=1,this.eJ.spaceY=5,this.eJ.width=this.rightListBox.width,this.eJ.height=this.rightListBox.height-8,this.rightListBox.addChild(this.eJ);var ea=this.ey.loadingType;this.eK=1==ea?"#93353b":2==ea?"#feffc0":3==ea?"#feffc0":"#93353b",this.enterBtn.size(506,88),this.noticeBtn.visible=!1,Browser.window.initPanel=this,wxHideLoading(),this.addEvt(),this.onOpened()},ea.prototype.addEvt=function(){this.bgImg.on(Laya.Event.CLICK,this,this.ee),this.enterBtn.on(Laya.Event.CLICK,this,this.eL),this.selectServer.on(Laya.Event.CLICK,this,this.eM),this.selectServer.on(Laya.Event.CLICK,this,this.eM),this.closeBg.on(Laya.Event.CLICK,this,this.eN),this.noticeBtn.on(Laya.Event.CLICK,this,this.eO),this.noticeClose.on(Laya.Event.CLICK,this,this.eP),this.noticeContent.on(Laya.Event.MOUSE_DOWN,this,this.eQ)},ea.prototype.rmEvts=function(){this.bgImg.off(Laya.Event.CLICK,this,this.ee),this.enterBtn.off(Laya.Event.CLICK,this,this.eL),this.selectServer.off(Laya.Event.CLICK,this,this.eM),this.selectServer.off(Laya.Event.CLICK,this,this.eM),this.closeBg.off(Laya.Event.CLICK,this,this.eN),this.noticeBtn.off(Laya.Event.CLICK,this,this.eO),this.noticeClose.off(Laya.Event.CLICK,this,this.eP),this.noticeContent.off(Laya.Event.MOUSE_DOWN,this,this.eQ)},ea.prototype.onOpened=function(){this.ef=Date.now(),this.eR=this.ey.selectedServer.server_id,this.eS(this.ey.selectedServer),this.eI.dataSource=this.ey.groupList,this.eM(),this.versionTxt.text="\u8d44\u6e90\uff1a"+this.ey.lastVersion+"      \u7248\u672c\uff1a"+this.ey.wxVersion,this.serverName.color=this.selServer.color=this.eK},ea.prototype.destroy=function(ea){void 0===ea&&(ea=!0),this.rmEvts(),this.eI&&(this.eI.removeSelf(),this.eI.destroy(),this.eI=null),this.eJ&&(this.eJ.removeSelf(),this.eJ.destroy(),this.eJ=null),eb.prototype.destroy.call(this,ea)},ea.prototype.ee=function(){1e4<Date.now()-this.ef&&(this.ef-=2e3,ServerLoading.instance.enterDefaultServer())},ea.prototype.eN=function(){this.listBg.visible=!1},ea.prototype.eL=function(){this.eT(this.ey.selectedServer)&&(Browser.window.PF_INFO.selectedServer=this.ey.selectedServer,req_server_check_ban(0,this.ey.selectedServer.server_id))},ea.prototype.eO=function(){this.noticeBg.visible=!0,req_server_notice(this.ey.selectedServer.server_id,this.eU.bind(this))},ea.prototype.eP=function(){this.noticeBg.visible=!1},ea.prototype.eQ=function(){this.eH=this.noticeContent.mouseY,Laya.stage.on(ee.MOUSE_MOVE,this,this.eV),Laya.stage.on(ee.MOUSE_UP,this,this.eW),Laya.stage.on(ee.MOUSE_OUT,this,this.eW)},ea.prototype.eV=function(){var ea=this.eH-this.noticeContent.mouseY;this.noticeContent.scrollY+=ea,this.eH=this.noticeContent.mouseY},ea.prototype.eW=function(){Laya.stage.off(ee.MOUSE_MOVE,this,this.eV),Laya.stage.off(ee.MOUSE_UP,this,this.eW),Laya.stage.off(ee.MOUSE_OUT,this,this.eW)},ea.prototype.eT=function(ea){return-1==ea.status?(alert("\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d"),!1):0!=ea.status||(alert("\u670d\u52a1\u5668\u5c1a\u672a\u5f00\u542f\uff0c\u656c\u8bf7\u671f\u5f85"),!1)},ea.prototype.eM=function(){this.ey.hasGroupReq?this.listBg.visible=!0:(this.ey.hasGroupReq=!0,req_server_group(0))},ea.prototype.preload=function(){},ea.prototype.getStatusSrc=function(ea){var eb="";return 2===ea?eb="wxlogin_atlas/image_login_changtong.png":1===ea?eb="wxlogin_atlas/image_login_fanmang.png":-1!==ea&&0!==ea||(eb="wxlogin_atlas/image_login_weihu.png"),eb},ea.prototype.eS=function(ea){this.serverName.text=-1===ea.status?ea.server_name+"(\u7ef4\u62a4\u4e2d)":0===ea.status?ea.server_name+"(\u5f85\u5f00\u670d)":ea.server_name,this.serverName.color=-1===ea.status?"#d50000":0===ea.status?"#49575a":this.eK,this.hotImage.skin=this.getStatusSrc(ea.status),this.ey.cdn=ea.cdn||"",this.ey.selectedServer=ea,this.noticeBtn.visible=!0},ea.prototype.eX=function(ea){this.showGroupList(ea)},ea.prototype.eY=function(ea){this.eS(ea),this.listBg.visible=!1},ea.prototype.eU=function(ea){this.noticeContent.text=ea.data.content?ea.data.content:"",this.noticeTitle.text=ea.data.title?ea.data.title:"\u6682\u65e0\u516c\u544a"},ea.prototype.showGroupList=function(ea){if(void 0===ea&&(ea=0),this.parent){var eb=this.ey.groupList;if(eb&&0!==eb.length){for(var ec=eb.length,ed=0;ed<ec;ed++)eb[ed].callBack=this.eX.bind(this),eb[ed].select=ed==ea,eb[ed].index=ed;var ee=(this.eI.array=eb)[ea].id;this.ey.serverList[ee]?this.showServerList(ee):this.ey.hasServerReq||(this.ey.hasServerReq=!0,-1==ee?req_server_owner(0):-2==ee?req_recommend_server_list(0):req_server_list(0,ee))}}},ea.prototype.showServerList=function(ea){if(this.parent&&this.ey.serverList[ea]){for(var eb=this.ey.serverList[ea],ec=eb.length,ed=0;ed<ec;ed++)eb[ed].callBack=this.eY.bind(this);this.eJ.array=eb}},ea}(ui.ec),ec.SelectServerPanel=eb}(modules||(modules={}));var modules,Browser=Laya.Browser,Font=Laya.Font,Input=Laya.Input,Render=Laya.Render,Handler=Laya.Handler,AuthorizationPanel=modules.ed.AuthorizationPanel,LoadingPanel=modules.ed.LoadingPanel,SelectServerPanel=modules.ed.SelectServerPanel,ServerLoading=function(){function ek(ea){this.m_loadingRes=["wxloading_atlas/image_loding_bar0.png","wxloading_atlas/image_loding_bar02.png","wxloading_atlas/image_loding_bar1.png","wxloading_atlas/image_loding_bar2.png","wxloading_atlas/image_loding_bar3.png","wxloading_atlas/image_login_point1.png","wxloading_atlas/image_login_point2.png","wxloading_atlas/image_login_point3.png","wxeff_btn_atlas/0.png","wxeff_btn_atlas/1.png","wxeff_btn_atlas/2.png","wxeff_btn_atlas/3.png","wxeff_btn_atlas/4.png","wxloading_atlas/image_loading_bg.jpg","wxloading_atlas/image_loading_bg2.jpg","wxloading_atlas/btn_loding_abcelq0.png","wxloading_atlas/btn_loding_abcelq1.png","wxloading_atlas/image_loading_bg_bottom.jpg","wxloading_atlas/image_loading_bg_left.jpg","wxloading_atlas/image_loading_bg_right.jpg","wxloading_atlas/image_loading_bg_top.jpg","wxloading_atlas/image_loading_bg_bottom2.jpg","wxloading_atlas/image_loading_bg_left2.jpg","wxloading_atlas/image_loading_bg_right2.jpg","wxloading_atlas/image_loading_bg_top2.jpg"],this.m_serverRes=["wxlogin_atlas/btn_com_chuangback.png","wxlogin_atlas/btn_login_gonggao.png","wxlogin_atlas/btn_login_loginanniu.png","wxlogin_atlas/btn_login_yingsi.png","wxlogin_atlas/btn_xuanqu_anniuhuang.png","wxlogin_atlas/btn_xuanqu_anniulan.png","wxlogin_atlas/btn_xuanqu_quanniu.png","wxlogin_atlas/image_com_tuichu.png","wxlogin_atlas/image_login_changtong.png","wxlogin_atlas/image_login_fanmang.png","wxlogin_atlas/image_login_weihu.png","wxlogin_atlas/image_login_xuanqubg.png","wxlogin_atlas/image_login_loginbg.jpg","wxlogin_atlas/image_login_loginbg_bottom.jpg","wxlogin_atlas/image_login_loginbg_left.jpg","wxlogin_atlas/image_login_loginbg_right.jpg","wxlogin_atlas/image_login_loginbg_top.jpg","wxlogin_atlas/image_denglu_txtshenpi.png","wxlogin_atlas/image_login_notice.png","wxlogin_atlas/image_xuanfu_xfbg.png"],this.m_isPrelodServer=!1,this.m_isPrelodLoading=!1,this.eZ=!1,this.e$="",ek.instance=this,Laya.MiniAdpter.init(),Laya3D.init(0,0,!1,!1,!1),DecodeTools.init(),Laya.stage.scaleMode=Laya.Stage.SCALE_FIXED_WIDTH,Laya.stage.screenMode=Laya.Stage.SCREEN_NONE,Laya.stage.alignH=Laya.Stage.ALIGN_CENTER,Laya.stage.alignV=Laya.Stage.ALIGN_MIDDLE,Laya.stage.frameRate=Laya.Stage.FRAME_SLOW;var eb=Laya.AtlasResourceManager;eb.maxTextureCount=4,eb.atlasTextureWidth=eb.atlasTextureHeight=1024,eb._enable(),Laya.URL.rootPath=Laya.URL.basePath="",Laya.Browser.window.addEventListener(Laya.Event.RESIZE,this.e_.bind(this)),Laya.Loader.preLoadedMap["res/atlas/create_role_atlas.atlas"]={frames:{"btn_chuangjue_kaishi.png":{frame:{h:88,idx:0,w:506,x:0,y:0},sourceSize:{h:88,w:506},spriteSourceSize:{x:0,y:0}},"btn_chuangjue_nan.png":{frame:{h:98,idx:0,w:108,x:335,y:89},sourceSize:{h:98,w:108},spriteSourceSize:{x:0,y:0}},"btn_chuangjue_nv.png":{frame:{h:98,idx:0,w:107,x:0,y:164},sourceSize:{h:98,w:107},spriteSourceSize:{x:0,y:0}},"image_chuangjue_mingbg.png":{frame:{h:74,idx:0,w:334,x:0,y:89},sourceSize:{h:74,w:334},spriteSourceSize:{x:0,y:0}},"image_chuangjue_suiji.png":{frame:{h:56,idx:0,w:52,x:444,y:89},sourceSize:{h:56,w:52},spriteSourceSize:{x:0,y:0}}},meta:{image:"create_role_atlas.png",prefix:"create_role_atlas/"}},Browser.window.resMgrLoad=ek.instance.requestWeb,Browser.window.imgMgrLoad=ek.instance.requestWeb,this.m_layer=new Laya.Component,this.m_layer.name="_wxLoadingLayer",Laya.stage.addChild(this.m_layer),this.e_()}return ek.prototype.changeServerLoading=function(ea){ek.instance.m_layer.visible=ea},ek.prototype.openAuthor=function(){ek.instance.m_author||(ek.instance.m_author=new AuthorizationPanel),ek.instance.m_author.parent||ek.instance.m_layer.addChild(ek.instance.m_author),ek.instance.ei()},ek.prototype.closeAuthor=function(){this.m_author&&this.m_author.parent&&(Laya.stage.removeChild(this.m_author),this.m_author.destroy(!0),this.m_author=null)},ek.prototype.preloadServer=function(){this.m_isPrelodServer||(this.m_isPrelodServer=!0,Laya.loader.load(this.m_serverRes,Handler.create(this,function(){Browser.window.loadServerRes=!0,Browser.window.initMain(),Browser.window.enterToGame()})))},ek.prototype.openServer=function(){for(var ea=function(){ek.instance.m_server||(ek.instance.m_server=new SelectServerPanel),ek.instance.m_server.parent||ek.instance.m_layer.addChild(ek.instance.m_server),ek.instance.ei()},eb=!0,ec=0,ed=this.m_serverRes;ec<ed.length;ec++){var ee=ed[ec];if(null==Laya.Loader.getRes(ee)){eb=!1;break}}eb?ea():Laya.loader.load(this.m_serverRes,Handler.create(this,ea))},ek.prototype.closeServer=function(){this.m_server&&this.m_server.parent&&(Laya.stage.removeChild(this.m_server),this.m_server.destroy(!0),this.m_server=null)},ek.prototype.preloadLoading=function(){this.m_isPrelodLoading||(this.m_isPrelodLoading=!0,Laya.loader.load(this.m_loadingRes,Handler.create(this,function(){Browser.window.loadLoadingRes=!0,Browser.window.initMain(),Browser.window.enterToGame()})))},ek.prototype.openLoading=function(ea){void 0===ea&&(ea=0),Laya.loader.load(this.m_loadingRes,Handler.create(this,function(){ek.instance.m_loading||(ek.instance.m_loading=new LoadingPanel(ea)),ek.instance.m_loading.parent||ek.instance.m_layer.addChild(ek.instance.m_loading),ek.instance.ei()}))},ek.prototype.closeLoading=function(){this.m_loading&&this.m_loading.parent&&(Laya.stage.removeChild(this.m_loading),this.m_loading.destroy(!0),this.m_loading=null);for(var ea=0,eb=this.m_serverRes;ea<eb.length;ea++){var ec=eb[ea];Laya.Loader.clearCache(ek.instance,ec),Laya.Loader.clearRes(ec,!0)}for(var ed=0,ee=this.m_loadingRes;ed<ee.length;ed++){ec=ee[ed];Laya.Loader.clearCache(ek.instance,ec),Laya.Loader.clearRes(ec,!0)}this.m_layer.parent&&this.m_layer.parent.removeChild(this.m_layer)},ek.prototype.setShowBtn=function(){this.m_loading&&this.m_loading.parent&&ek.instance.m_loading.showGetBtn()},ek.prototype.enterDefaultServer=function(){var ea=Browser.window.PF_INFO.selectedServer;this.eZ||-1==ea.status||0==ea.status||(this.eZ=!0,Browser.window.PF_INFO.selectedServer=ea,req_server_check_ban(0,ea.server_id))},ek.prototype.sendRecord=function(){var ea="";ea+="newRegister="+Browser.window.PF_INFO.newRegister,ea+=", isPrelodServer="+this.m_isPrelodServer,ea+=", SelectServerPanel="+(null!=ek.instance.m_server),ea+=", isPrelodLoading="+this.m_isPrelodLoading,ea+=", LoadingPanel="+(null!=ek.instance.m_loading),ea+=", resMgrLoad="+(Browser.window.resMgrLoad==ek.instance.requestWeb),ea+=", imgMgrLoad="+(Browser.window.imgMgrLoad==ek.instance.requestWeb),ea+=", errUrls="+ek.instance.e$;for(var eb=0,ec=this.m_serverRes;eb<ec.length;eb++){ea+=", "+(ef=ec[eb])+"="+(null!=Laya.Loader.getRes(ef))}for(var ed=0,ee=this.m_loadingRes;ed<ee.length;ed++){var ef;ea+=", "+(ef=ee[ed])+"="+(null!=Laya.Loader.getRes(ef))}var eg=Browser.window.PF_INFO.selectedServer;eg&&(ea+=", server_status="+eg.status,ea+=", server_id="+eg.server_id,ea+=", server_name="+eg.server_name);var eh=JSON.stringify({error:"\u521d\u59cb\u754c\u9762\u8d85\u8fc710\u79d2",stack:ea});console.error(eh),this.ej&&this.ej==ea||(this.ej=ea,reqRecordError(eh))},ek.prototype.eaa=function(){var ea=Laya.stage,eb=Math.floor(ea.width),ec=Math.floor(ea.height);ec/eb<1.7777778?(this.viewW=Math.floor(eb/(ec/1280)),this.viewH=1280,this.viewS=ec/1280):(this.viewW=720,this.viewH=Math.floor(ec/(eb/720)),this.viewS=eb/720);var ed=Math.floor(ea.width),ee=Math.floor(ea.height);ee/ed<1.7777778?(this.viewW=Math.floor(ed/(ee/1280)),this.viewH=1280,this.viewS=ee/1280):(this.viewW=720,this.viewH=Math.floor(ee/(ed/720)),this.viewS=ed/720),this.ei()},ek.prototype.ei=function(){this.m_layer&&(this.m_layer.size(this.viewW,this.viewH),this.m_layer.scale(this.viewS,this.viewS,!0))},ek.prototype.e_=function(){if(Input.isInputting&&Browser.onMobile){var ea=parseInt(Input.inputContainer.style.top.replace("px","")),eb=parseInt(Input.inputElement.style.height.replace("px",""))*this.viewS,ec=Browser.clientWidth/Render.canvas.width;return 0<(ea=Browser.clientHeight-eb*ec-ea)&&(ea=0),void(Browser.container.style.top=ea+"px")}Browser.container.style.top="0px";var ed=Math.floor(Browser.width),ee=Math.floor(Browser.height);ed=ed+1&2147483646,ee=ee+1&2147483646;var ef=Laya.stage;3==ENV?(ef.scaleMode=Laya.Stage.SCALE_NOSCALE,ef.width=ed,ef.height=ee):ee<ed?(ef.scaleMode=Laya.Stage.SCALE_NOSCALE,ef.width=ed,ef.height=ee):(ef.scaleMode=Laya.Stage.SCALE_FIXED_WIDTH,ef.width=840,ef.height=Math.floor(ee/(ed/840))+1&2147483646),this.eaa()},ek.prototype.requestWeb=function(ea,eb){function ec(){ed.onload=null,ed.onerror=null}var ed,ee=ea;(ed=new Browser.window.Image).onload=function(){ec(),eb(ee,200,ed)},ed.onerror=function(){console.warn("[warn] WX loadImage onerror:",ee),ek.instance.e$+=ee+"|",ec(),eb(ee,404,null)},ed.src=ee,-1==ek.instance.m_serverRes.indexOf(ee)&&-1==ek.instance.m_loadingRes.indexOf(ee)||Laya.Loader.keepCache(ek.instance,ee)},ek.prototype.eba=function(ea,eb){return-1!=ea.indexOf(eb,ea.length-eb.length)},ek}();!function(ea){var eb,ec;eb=ea.ed||(ea.ed={}),ec=function(eb){function ea(){var ea=eb.call(this)||this;return ea.width=192,ea.height=70,ea.eca=new Laya.Image,ea.addChild(ea.eca),ea.eda=new Laya.Label,ea.eda.fontSize=30,ea.eda.color=ea.eK,ea.addChild(ea.eda),ea.eda.centerX=0,ea.eda.centerY=0,ea}return __extends(ea,eb),ea.prototype.initialize=function(){eb.prototype.initialize.call(this),this.ey=Browser.window.PF_INFO;var ea=this.ey.loadingType;this.eK=1==ea?"#263d7d":2==ea?"#263d7d":3==ea?"#763042":"#263d7d",this.addEvt()},Object.defineProperty(ea.prototype,"dataSource",{set:function(ea){ea&&this.setData(ea)},enumerable:!0,configurable:!0}),ea.prototype.setData=function(ea){this.eea=ea,this.eda.text=ea.name,this.eca.skin=ea.select?"wxlogin_atlas/btn_xuanqu_anniuhuang.png":"wxlogin_atlas/btn_xuanqu_anniulan.png"},ea.prototype.destroy=function(ea){void 0===ea&&(ea=!0),this.rmEvts(),eb.prototype.destroy.call(this,ea)},ea.prototype.addEvt=function(){this.on(Laya.Event.MOUSE_UP,this,this.clkHdler)},ea.prototype.rmEvts=function(){this.off(Laya.Event.MOUSE_UP,this,this.clkHdler)},ea.prototype.clkHdler=function(){this.eea&&this.eea.callBack&&this.eea.callBack(this.eea.index)},ea}(Laya.View),eb.SelectLeftListItem=ec}(modules||(modules={})),function(ea){var eb,ec;eb=ea.ed||(ea.ed={}),ec=function(eb){function ea(){var ea=eb.call(this)||this;return ea.eca=new Laya.Image("wxlogin_atlas/btn_xuanqu_quanniu.png"),ea.eda=new Laya.Label,ea.eda.fontSize=30,ea.eda.color=ea.eK,ea.addChild(ea.eca),ea.efa=new Laya.Image,ea.addChild(ea.efa),ea.width=358,ea.height=70,ea.addChild(ea.eda),ea.efa.centerY=0,ea.efa.x=18,ea.eda.x=80,ea.eda.centerY=0,ea.eca.graphics.drawRect(0,0,ea.width,ea.height,"#00sasd"),ea}return __extends(ea,eb),ea.prototype.initialize=function(){eb.prototype.initialize.call(this),this.ey=Browser.window.PF_INFO;var ea=this.ey.loadingType;this.eK=1==ea?"#34267d":2==ea?"#34267d":3==ea?"#763042":"#34267d",this.addEvt()},Object.defineProperty(ea.prototype,"dataSource",{set:function(ea){ea&&this.setData(ea)},enumerable:!0,configurable:!0}),ea.prototype.setData=function(ea){this.eea=ea,this.eda.color=-1===ea.status?"#d50000":0===ea.status?"#49575a":this.eK,this.eda.text=-1===ea.status?ea.server_name+"(\u7ef4\u62a4\u4e2d)":0===ea.status?ea.server_name+"(\u5f85\u5f00\u670d)":ea.server_name,this.efa.skin=this.getStatusSrc(ea.status)},ea.prototype.destroy=function(ea){void 0===ea&&(ea=!0),this.rmEvts(),eb.prototype.destroy.call(this,ea)},ea.prototype.addEvt=function(){this.on(Laya.Event.MOUSE_UP,this,this.clkHdler)},ea.prototype.rmEvts=function(){this.off(Laya.Event.MOUSE_UP,this,this.clkHdler)},ea.prototype.clkHdler=function(){this.eea&&this.eea.callBack&&this.eea.callBack(this.eea)},ea.prototype.getStatusSrc=function(ea){var eb="";return 2===ea?eb="wxlogin_atlas/image_login_changtong.png":1===ea?eb="wxlogin_atlas/image_login_fanmang.png":-1!==ea&&0!==ea||(eb="wxlogin_atlas/image_login_weihu.png"),eb},ea}(Laya.View),eb.SelectRightListItem=ec}(modules||(modules={})),window.ServerLoading=ServerLoading;